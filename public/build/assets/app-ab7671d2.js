var Dw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zne(a){if(a.__esModule)return a;var c=a.default;if(typeof c=="function"){var f=function y(){if(this instanceof y){var C=[null];C.push.apply(C,arguments);var w=Function.bind.apply(c,C);return new w}return c.apply(this,arguments)};f.prototype=c.prototype}else f={};return Object.defineProperty(f,"__esModule",{value:!0}),Object.keys(a).forEach(function(y){var C=Object.getOwnPropertyDescriptor(a,y);Object.defineProperty(f,y,C.get?C:{enumerable:!0,get:function(){return a[y]}})}),f}var bH={},Yne={get exports(){return bH},set exports(a){bH=a}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(a,c){(function(){var f,y="4.17.21",C=200,w="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",S="Expected a function",D="Invalid `variable` option passed into `_.template`",k="__lodash_hash_undefined__",G=500,q="__lodash_placeholder__",X=1,fe=2,re=4,he=1,ue=2,ce=1,ae=2,ge=4,Q=8,Ne=16,qe=32,z=64,we=128,je=256,dt=512,_t=30,Pe="...",Ee=800,pn=16,Tt=1,Rt=2,B=3,It=1/0,nt=9007199254740991,jt=17976931348623157e292,zt=0/0,Ze=4294967295,bo=Ze-1,Fo=Ze>>>1,co=[["ary",we],["bind",ce],["bindKey",ae],["curry",Q],["curryRight",Ne],["flip",dt],["partial",qe],["partialRight",z],["rearg",je]],Ho="[object Arguments]",tt="[object Array]",Dt="[object AsyncFunction]",se="[object Boolean]",ls="[object Date]",fo="[object DOMException]",Ft="[object Error]",vs="[object Function]",Qa="[object GeneratorFunction]",Pn="[object Map]",Po="[object Number]",Kt="[object Null]",pt="[object Object]",vi="[object Promise]",bi="[object Proxy]",Bt="[object RegExp]",Br="[object Set]",Ms="[object String]",Lc="[object Symbol]",bs="[object Undefined]",Ir="[object WeakMap]",Zc="[object WeakSet]",Sa="[object ArrayBuffer]",or="[object DataView]",Rs="[object Float32Array]",id="[object Float64Array]",Kr="[object Int8Array]",ks="[object Int16Array]",hl="[object Int32Array]",Di="[object Uint8Array]",Yc="[object Uint8ClampedArray]",br="[object Uint16Array]",$r="[object Uint32Array]",qd=/\b__p \+= '';/g,yi=/\b(__p \+=) '' \+/g,_h=/(__e\(.*?\)|\b__t\)) \+\n'';/g,cn=/&(?:amp|lt|gt|quot|#39);/g,Vo=/[&<>"']/g,la=RegExp(cn.source),vc=RegExp(Vo.source),Eh=/<%-([\s\S]+?)%>/g,cu=/<%([\s\S]+?)%>/g,Ps=/<%=([\s\S]+?)%>/g,ad=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jd=/^\w*$/,Qs=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jn=/[\\^$.*+?()[\]{}|]/g,Ja=RegExp(jn.source),Iu=/^\s+/,Kc=/\s/,wh=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ni=/\{\n\/\* \[wrapped with (.+)\] \*/,Xi=/,? & /,Ur=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ha=/[()=,{}\[\]\/\s]/,Xc=/\\(\\)?/g,bc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,xa=/\w*$/,Fr=/^[-+]0x[0-9a-f]+$/i,yc=/^0b[01]+$/i,ml=/^\[object .+?Constructor\]$/,Fp=/^0o[0-7]+$/i,Hp=/^(?:0|[1-9]\d*)$/,Bl=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Cm=/($^)/,Je=/['\n\r\u2028\u2029\\]/g,_i="\\ud800-\\udfff",lu="\\u0300-\\u036f",Vp="\\ufe20-\\ufe2f",Th="\\u20d0-\\u20ff",Hs=lu+Vp+Th,Zd="\\u2700-\\u27bf",Sm="a-z\\xdf-\\xf6\\xf8-\\xff",Qi="\\xac\\xb1\\xd7\\xf7",Qc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",si="\\u2000-\\u206f",Ei=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",uu="A-Z\\xc0-\\xd6\\xd8-\\xde",ec="\\ufe0e\\ufe0f",du=Qi+Qc+si+Ei,$l="['’]",cd="["+_i+"]",Ss="["+du+"]",ri="["+Hs+"]",Jc="\\d+",ld="["+Zd+"]",Aa="["+Sm+"]",_c="[^"+_i+du+Jc+Zd+Sm+uu+"]",yr="\\ud83c[\\udffb-\\udfff]",ud="(?:"+ri+"|"+yr+")",fu="[^"+_i+"]",ys="(?:\\ud83c[\\udde6-\\uddff]){2}",tc="[\\ud800-\\udbff][\\udc00-\\udfff]",ii="["+uu+"]",Hr="\\u200d",el="(?:"+Aa+"|"+_c+")",Du="(?:"+ii+"|"+_c+")",Ec="(?:"+$l+"(?:d|ll|m|re|s|t|ve))?",Bc="(?:"+$l+"(?:D|LL|M|RE|S|T|VE))?",Nf=ud+"?",Ch="["+ec+"]?",zp="(?:"+Hr+"(?:"+[fu,ys,tc].join("|")+")"+Ch+Nf+")*",nc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Nu="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Sh=Ch+Nf+zp,Mu="(?:"+[ld,ys,tc].join("|")+")"+Sh,Mf="(?:"+[fu+ri+"?",ri,ys,tc,cd].join("|")+")",xm=RegExp($l,"g"),ku=RegExp(ri,"g"),Pu=RegExp(yr+"(?="+yr+")|"+Mf+Sh,"g"),Oa=RegExp([ii+"?"+Aa+"+"+Ec+"(?="+[Ss,ii,"$"].join("|")+")",Du+"+"+Bc+"(?="+[Ss,ii+el,"$"].join("|")+")",ii+"?"+el+"+"+Ec,ii+"+"+Bc,Nu,nc,Jc,Mu].join("|"),"g"),Mi=RegExp("["+Hr+_i+Hs+ec+"]"),Lu=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,kf=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Up=-1,Vs={};Vs[Rs]=Vs[id]=Vs[Kr]=Vs[ks]=Vs[hl]=Vs[Di]=Vs[Yc]=Vs[br]=Vs[$r]=!0,Vs[Ho]=Vs[tt]=Vs[Sa]=Vs[se]=Vs[or]=Vs[ls]=Vs[Ft]=Vs[vs]=Vs[Pn]=Vs[Po]=Vs[pt]=Vs[Bt]=Vs[Br]=Vs[Ms]=Vs[Ir]=!1;var _r={};_r[Ho]=_r[tt]=_r[Sa]=_r[or]=_r[se]=_r[ls]=_r[Rs]=_r[id]=_r[Kr]=_r[ks]=_r[hl]=_r[Pn]=_r[Po]=_r[pt]=_r[Bt]=_r[Br]=_r[Ms]=_r[Lc]=_r[Di]=_r[Yc]=_r[br]=_r[$r]=!0,_r[Ft]=_r[vs]=_r[Ir]=!1;var oc={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Ji={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},pl={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},$c={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},lo=parseFloat,No=parseInt,ki=typeof Dw=="object"&&Dw&&Dw.Object===Object&&Dw,Xr=typeof self=="object"&&self&&self.Object===Object&&self,ua=ki||Xr||Function("return this")(),x=c&&!c.nodeType&&c,M=x&&!0&&a&&!a.nodeType&&a,U=M&&M.exports===x,j=U&&ki.process,te=function(){try{var et=M&&M.require&&M.require("util").types;return et||j&&j.binding&&j.binding("util")}catch{}}(),de=te&&te.isArrayBuffer,_e=te&&te.isDate,Te=te&&te.isMap,Le=te&&te.isRegExp,it=te&&te.isSet,Et=te&&te.isTypedArray;function Xt(et,kt,Ot){switch(Ot.length){case 0:return et.call(kt);case 1:return et.call(kt,Ot[0]);case 2:return et.call(kt,Ot[0],Ot[1]);case 3:return et.call(kt,Ot[0],Ot[1],Ot[2])}return et.apply(kt,Ot)}function rt(et,kt,Ot,Un){for(var Eo=-1,zo=et==null?0:et.length;++Eo<zo;){var Qr=et[Eo];kt(Un,Qr,Ot(Qr),et)}return Un}function Mt(et,kt){for(var Ot=-1,Un=et==null?0:et.length;++Ot<Un&&kt(et[Ot],Ot,et)!==!1;);return et}function eo(et,kt){for(var Ot=et==null?0:et.length;Ot--&&kt(et[Ot],Ot,et)!==!1;);return et}function Yn(et,kt){for(var Ot=-1,Un=et==null?0:et.length;++Ot<Un;)if(!kt(et[Ot],Ot,et))return!1;return!0}function Cn(et,kt){for(var Ot=-1,Un=et==null?0:et.length,Eo=0,zo=[];++Ot<Un;){var Qr=et[Ot];kt(Qr,Ot,et)&&(zo[Eo++]=Qr)}return zo}function ur(et,kt){var Ot=et==null?0:et.length;return!!Ot&&Fc(et,kt,0)>-1}function qs(et,kt,Ot){for(var Un=-1,Eo=et==null?0:et.length;++Un<Eo;)if(Ot(kt,et[Un]))return!0;return!1}function us(et,kt){for(var Ot=-1,Un=et==null?0:et.length,Eo=Array(Un);++Ot<Un;)Eo[Ot]=kt(et[Ot],Ot,et);return Eo}function Xn(et,kt){for(var Ot=-1,Un=kt.length,Eo=et.length;++Ot<Un;)et[Eo+Ot]=kt[Ot];return et}function to(et,kt,Ot,Un){var Eo=-1,zo=et==null?0:et.length;for(Un&&zo&&(Ot=et[++Eo]);++Eo<zo;)Ot=kt(Ot,et[Eo],Eo,et);return Ot}function Pi(et,kt,Ot,Un){var Eo=et==null?0:et.length;for(Un&&Eo&&(Ot=et[--Eo]);Eo--;)Ot=kt(Ot,et[Eo],Eo,et);return Ot}function Oo(et,kt){for(var Ot=-1,Un=et==null?0:et.length;++Ot<Un;)if(kt(et[Ot],Ot,et))return!0;return!1}var Er=Ra("length");function Fl(et){return et.split("")}function zs(et){return et.match(Ur)||[]}function dr(et,kt,Ot){var Un;return Ot(et,function(Eo,zo,Qr){if(kt(Eo,zo,Qr))return Un=zo,!1}),Un}function Dr(et,kt,Ot,Un){for(var Eo=et.length,zo=Ot+(Un?1:-1);Un?zo--:++zo<Eo;)if(kt(et[zo],zo,et))return zo;return-1}function Fc(et,kt,Ot){return kt===kt?Ah(et,kt,Ot):Dr(et,as,Ot)}function wi(et,kt,Ot,Un){for(var Eo=Ot-1,zo=et.length;++Eo<zo;)if(Un(et[Eo],kt))return Eo;return-1}function as(et){return et!==et}function fr(et,kt){var Ot=et==null?0:et.length;return Ot?mo(et,kt)/Ot:zt}function Ra(et){return function(kt){return kt==null?f:kt[et]}}function Pf(et){return function(kt){return et==null?f:et[kt]}}function Hc(et,kt,Ot,Un,Eo){return Eo(et,function(zo,Qr,js){Ot=Un?(Un=!1,zo):kt(Ot,zo,Qr,js)}),Ot}function wc(et,kt){var Ot=et.length;for(et.sort(kt);Ot--;)et[Ot]=et[Ot].value;return et}function mo(et,kt){for(var Ot,Un=-1,Eo=et.length;++Un<Eo;){var zo=kt(et[Un]);zo!==f&&(Ot=Ot===f?zo:Ot+zo)}return Ot}function Wr(et,kt){for(var Ot=-1,Un=Array(et);++Ot<et;)Un[Ot]=kt(Ot);return Un}function Li(et,kt){return us(kt,function(Ot){return[Ot,et[Ot]]})}function sc(et){return et&&et.slice(0,De(et)+1).replace(Iu,"")}function ea(et){return function(kt){return et(kt)}}function hr(et,kt){return us(kt,function(Ot){return et[Ot]})}function Va(et,kt){return et.has(kt)}function Ia(et,kt){for(var Ot=-1,Un=et.length;++Ot<Un&&Fc(kt,et[Ot],0)>-1;);return Ot}function dd(et,kt){for(var Ot=et.length;Ot--&&Fc(kt,et[Ot],0)>-1;);return Ot}function xh(et,kt){for(var Ot=et.length,Un=0;Ot--;)et[Ot]===kt&&++Un;return Un}var Wp=Pf(oc),Hl=Pf(Ji);function hu(et){return"\\"+$c[et]}function Yd(et,kt){return et==null?f:et[kt]}function Ti(et){return Mi.test(et)}function fd(et){return Lu.test(et)}function hd(et){for(var kt,Ot=[];!(kt=et.next()).done;)Ot.push(kt.value);return Ot}function Bu(et){var kt=-1,Ot=Array(et.size);return et.forEach(function(Un,Eo){Ot[++kt]=[Eo,Un]}),Ot}function rc(et,kt){return function(Ot){return et(kt(Ot))}}function da(et,kt){for(var Ot=-1,Un=et.length,Eo=0,zo=[];++Ot<Un;){var Qr=et[Ot];(Qr===kt||Qr===q)&&(et[Ot]=q,zo[Eo++]=Ot)}return zo}function mu(et){var kt=-1,Ot=Array(et.size);return et.forEach(function(Un){Ot[++kt]=Un}),Ot}function md(et){var kt=-1,Ot=Array(et.size);return et.forEach(function(Un){Ot[++kt]=[Un,Un]}),Ot}function Ah(et,kt,Ot){for(var Un=Ot-1,Eo=et.length;++Un<Eo;)if(et[Un]===kt)return Un;return-1}function Oh(et,kt,Ot){for(var Un=Ot+1;Un--;)if(et[Un]===kt)return Un;return Un}function Ts(et){return Ti(et)?fa(et):Er(et)}function Tc(et){return Ti(et)?Rh(et):Fl(et)}function De(et){for(var kt=et.length;kt--&&Kc.test(et.charAt(kt)););return kt}var ic=Pf(pl);function fa(et){for(var kt=Pu.lastIndex=0;Pu.test(et);)++kt;return kt}function Rh(et){return et.match(Pu)||[]}function pd(et){return et.match(Oa)||[]}var s1=function et(kt){kt=kt==null?ua:os.defaults(ua.Object(),kt,os.pick(ua,kf));var Ot=kt.Array,Un=kt.Date,Eo=kt.Error,zo=kt.Function,Qr=kt.Math,js=kt.Object,gd=kt.RegExp,Cc=kt.String,Da=kt.TypeError,xe=Ot.prototype,Be=zo.prototype,We=js.prototype,Vt=kt["__core-js_shared__"],ut=Be.toString,St=We.hasOwnProperty,Qt=0,An=function(){var p=/[^.]+$/.exec(Vt&&Vt.keys&&Vt.keys.IE_PROTO||"");return p?"Symbol(src)_1."+p:""}(),Mn=We.toString,no=ut.call(js),yo=ua._,ro=gd("^"+ut.call(St).replace(jn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yo=U?kt.Buffer:f,Is=kt.Symbol,Co=kt.Uint8Array,Bi=Yo?Yo.allocUnsafe:f,$i=rc(js.getPrototypeOf,js),za=js.create,Js=We.propertyIsEnumerable,Vl=xe.splice,Ls=Is?Is.isConcatSpreadable:f,ts=Is?Is.iterator:f,gl=Is?Is.toStringTag:f,Am=function(){try{var p=Fh(js,"defineProperty");return p({},"",{}),p}catch{}}(),r1=kt.clearTimeout!==ua.clearTimeout&&kt.clearTimeout,Na=Un&&Un.now!==ua.Date.now&&Un.now,Kd=kt.setTimeout!==ua.setTimeout&&kt.setTimeout,zl=Qr.ceil,tl=Qr.floor,Xd=js.getOwnPropertySymbols,io=Yo?Yo.isBuffer:f,ha=kt.isFinite,Ih=xe.join,wv=rc(js.keys,js),ai=Qr.max,ma=Qr.min,$u=Un.now,vl=kt.parseInt,Ma=Qr.random,nl=xe.reverse,ta=Fh(kt,"DataView"),Om=Fh(kt,"Map"),ds=Fh(kt,"Promise"),ol=Fh(kt,"Set"),Ul=Fh(kt,"WeakMap"),wr=Fh(js,"create"),Rm=Ul&&new Ul,Wl={},vd=jf(ta),er=jf(Om),Tr=jf(ds),Ua=jf(ol),i1=jf(Ul),Fu=Is?Is.prototype:f,Lf=Fu?Fu.valueOf:f,Im=Fu?Fu.toString:f;function be(p){if(Pt(p)&&!fs(p)&&!(p instanceof Us)){if(p instanceof bl)return p;if(St.call(p,"__wrapped__"))return u0(p)}return new bl(p)}var Qd=function(){function p(){}return function(_){if(!Gi(_))return{};if(za)return za(_);p.prototype=_;var N=new p;return p.prototype=f,N}}();function Dh(){}function bl(p,_){this.__wrapped__=p,this.__actions__=[],this.__chain__=!!_,this.__index__=0,this.__values__=f}be.templateSettings={escape:Eh,evaluate:cu,interpolate:Ps,variable:"",imports:{_:be}},be.prototype=Dh.prototype,be.prototype.constructor=be,bl.prototype=Qd(Dh.prototype),bl.prototype.constructor=bl;function Us(p){this.__wrapped__=p,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ze,this.__views__=[]}function a1(){var p=new Us(this.__wrapped__);return p.__actions__=rl(this.__actions__),p.__dir__=this.__dir__,p.__filtered__=this.__filtered__,p.__iteratees__=rl(this.__iteratees__),p.__takeCount__=this.__takeCount__,p.__views__=rl(this.__views__),p}function Jd(){if(this.__filtered__){var p=new Us(this);p.__dir__=-1,p.__filtered__=!0}else p=this.clone(),p.__dir__*=-1;return p}function c1(){var p=this.__wrapped__.value(),_=this.__dir__,N=fs(p),Y=_<0,pe=N?p.length:0,Re=Vw(0,pe,this.__views__),He=Re.start,Ye=Re.end,gt=Ye-He,tn=Y?Ye:He-1,en=this.__iteratees__,gn=en.length,$n=0,ho=ma(gt,this.__takeCount__);if(!N||!Y&&pe==gt&&ho==gt)return xl(p,this.__actions__);var Bo=[];e:for(;gt--&&$n<ho;){tn+=_;for(var Mo=-1,Io=p[tn];++Mo<gn;){var $s=en[Mo],hs=$s.iteratee,di=$s.type,fi=hs(Io);if(di==Rt)Io=fi;else if(!fi){if(di==Tt)continue e;break e}}Bo[$n++]=Io}return Bo}Us.prototype=Qd(Dh.prototype),Us.prototype.constructor=Us;function pa(p){var _=-1,N=p==null?0:p.length;for(this.clear();++_<N;){var Y=p[_];this.set(Y[0],Y[1])}}function Tv(){this.__data__=wr?wr(null):{},this.size=0}function Dm(p){var _=this.has(p)&&delete this.__data__[p];return this.size-=_?1:0,_}function t0(p){var _=this.__data__;if(wr){var N=_[p];return N===k?f:N}return St.call(_,p)?_[p]:f}function Hu(p){var _=this.__data__;return wr?_[p]!==f:St.call(_,p)}function l1(p,_){var N=this.__data__;return this.size+=this.has(p)?0:1,N[p]=wr&&_===f?k:_,this}pa.prototype.clear=Tv,pa.prototype.delete=Dm,pa.prototype.get=t0,pa.prototype.has=Hu,pa.prototype.set=l1;function Wa(p){var _=-1,N=p==null?0:p.length;for(this.clear();++_<N;){var Y=p[_];this.set(Y[0],Y[1])}}function Bf(){this.__data__=[],this.size=0}function n0(p){var _=this.__data__,N=yd(_,p);if(N<0)return!1;var Y=_.length-1;return N==Y?_.pop():Vl.call(_,N,1),--this.size,!0}function Gp(p){var _=this.__data__,N=yd(_,p);return N<0?f:_[N][1]}function $f(p){return yd(this.__data__,p)>-1}function Cv(p,_){var N=this.__data__,Y=yd(N,p);return Y<0?(++this.size,N.push([p,_])):N[Y][1]=_,this}Wa.prototype.clear=Bf,Wa.prototype.delete=n0,Wa.prototype.get=Gp,Wa.prototype.has=$f,Wa.prototype.set=Cv;function Vu(p){var _=-1,N=p==null?0:p.length;for(this.clear();++_<N;){var Y=p[_];this.set(Y[0],Y[1])}}function Jr(){this.size=0,this.__data__={hash:new pa,map:new(Om||Wa),string:new pa}}function qp(p){var _=Td(this,p).delete(p);return this.size-=_?1:0,_}function ci(p){return Td(this,p).get(p)}function ga(p){return Td(this,p).has(p)}function Ln(p,_){var N=Td(this,p),Y=N.size;return N.set(p,_),this.size+=N.size==Y?0:1,this}Vu.prototype.clear=Jr,Vu.prototype.delete=qp,Vu.prototype.get=ci,Vu.prototype.has=ga,Vu.prototype.set=Ln;function on(p){var _=-1,N=p==null?0:p.length;for(this.__data__=new Vu;++_<N;)this.add(p[_])}function Nm(p){return this.__data__.set(p,k),this}function yl(p){return this.__data__.has(p)}on.prototype.add=on.prototype.push=Nm,on.prototype.has=yl;function _l(p){var _=this.__data__=new Wa(p);this.size=_.size}function jp(){this.__data__=new Wa,this.size=0}function El(p){var _=this.__data__,N=_.delete(p);return this.size=_.size,N}function sl(p){return this.__data__.get(p)}function zu(p){return this.__data__.has(p)}function Nr(p,_){var N=this.__data__;if(N instanceof Wa){var Y=N.__data__;if(!Om||Y.length<C-1)return Y.push([p,_]),this.size=++N.size,this;N=this.__data__=new Vu(Y)}return N.set(p,_),this.size=N.size,this}_l.prototype.clear=jp,_l.prototype.delete=El,_l.prototype.get=sl,_l.prototype.has=zu,_l.prototype.set=Nr;function bd(p,_){var N=fs(p),Y=!N&&eh(p),pe=!N&&!Y&&Ad(p),Re=!N&&!Y&&!pe&&Dc(p),He=N||Y||pe||Re,Ye=He?Wr(p.length,Cc):[],gt=Ye.length;for(var tn in p)(_||St.call(p,tn))&&!(He&&(tn=="length"||pe&&(tn=="offset"||tn=="parent")||Re&&(tn=="buffer"||tn=="byteLength"||tn=="byteOffset")||uf(tn,gt)))&&Ye.push(tn);return Ye}function Nh(p){var _=p.length;return _?p[Hf(0,_-1)]:f}function Ut(p,_){return jm(rl(p),ei(_,0,p.length))}function o0(p){return jm(rl(p))}function Mm(p,_,N){(N!==f&&!Ds(p[_],N)||N===f&&!(_ in p))&&ns(p,_,N)}function Ga(p,_,N){var Y=p[_];(!(St.call(p,_)&&Ds(Y,N))||N===f&&!(_ in p))&&ns(p,_,N)}function yd(p,_){for(var N=p.length;N--;)if(Ds(p[N][0],_))return N;return-1}function ef(p,_,N,Y){return Gl(p,function(pe,Re,He){_(Y,pe,N(pe),He)}),Y}function mr(p,_){return p&&Wu(_,hc(_),p)}function Zp(p,_){return p&&Wu(_,Jl(_),p)}function ns(p,_,N){_=="__proto__"&&Am?Am(p,_,{configurable:!0,enumerable:!0,value:N,writable:!0}):p[_]=N}function Lo(p,_){for(var N=-1,Y=_.length,pe=Ot(Y),Re=p==null;++N<Y;)pe[N]=Re?f:B1(p,_[N]);return pe}function ei(p,_,N){return p===p&&(N!==f&&(p=p<=N?p:N),_!==f&&(p=p>=_?p:_)),p}function Sc(p,_,N,Y,pe,Re){var He,Ye=_&X,gt=_&fe,tn=_&re;if(N&&(He=pe?N(p,Y,pe,Re):N(p)),He!==f)return He;if(!Gi(p))return p;var en=fs(p);if(en){if(He=En(p),!Ye)return rl(p,He)}else{var gn=lc(p),$n=gn==vs||gn==Qa;if(Ad(p))return kv(p,Ye);if(gn==pt||gn==Ho||$n&&!pe){if(He=gt||$n?{}:Fv(p),!Ye)return gt?rf(p,Zp(He,p)):Uf(p,mr(He,p))}else{if(!_r[gn])return pe?p:{};He=b_(p,gn,Ye)}}Re||(Re=new _l);var ho=Re.get(p);if(ho)return ho;Re.set(p,He),Od(p)?p.forEach(function(Io){He.add(Sc(Io,_,N,Io,p,Re))}):H_(p)&&p.forEach(function(Io,$s){He.set($s,Sc(Io,_,N,$s,p,Re))});var Bo=tn?gt?Ac:Cr:gt?Jl:hc,Mo=en?f:Bo(p);return Mt(Mo||p,function(Io,$s){Mo&&($s=Io,Io=p[$s]),Ga(He,$s,Sc(Io,_,N,$s,p,Re))}),He}function sr(p){var _=hc(p);return function(N){return tf(N,p,_)}}function tf(p,_,N){var Y=N.length;if(p==null)return!Y;for(p=js(p);Y--;){var pe=N[Y],Re=_[pe],He=p[pe];if(He===f&&!(pe in p)||!Re(He))return!1}return!0}function Zr(p,_,N){if(typeof p!="function")throw new Da(S);return Vh(function(){p.apply(f,N)},_)}function _s(p,_,N,Y){var pe=-1,Re=ur,He=!0,Ye=p.length,gt=[],tn=_.length;if(!Ye)return gt;N&&(_=us(_,ea(N))),Y?(Re=qs,He=!1):_.length>=C&&(Re=Va,He=!1,_=new on(_));e:for(;++pe<Ye;){var en=p[pe],gn=N==null?en:N(en);if(en=Y||en!==0?en:0,He&&gn===gn){for(var $n=tn;$n--;)if(_[$n]===gn)continue e;gt.push(en)}else Re(_,gn,Y)||gt.push(en)}return gt}var Gl=eg(cc),At=eg(Yp,!0);function wl(p,_){var N=!0;return Gl(p,function(Y,pe,Re){return N=!!_(Y,pe,Re),N}),N}function Ff(p,_,N){for(var Y=-1,pe=p.length;++Y<pe;){var Re=p[Y],He=_(Re);if(He!=null&&(Ye===f?He===He&&!cl(He):N(He,Ye)))var Ye=He,gt=Re}return gt}function Gr(p,_,N,Y){var pe=p.length;for(N=Es(N),N<0&&(N=-N>pe?0:pe+N),Y=Y===f||Y>pe?pe:Es(Y),Y<0&&(Y+=pe),Y=N>Y?0:tp(Y);N<Y;)p[N++]=_;return p}function ql(p,_){var N=[];return Gl(p,function(Y,pe,Re){_(Y,pe,Re)&&N.push(Y)}),N}function qa(p,_,N,Y,pe){var Re=-1,He=p.length;for(N||(N=l0),pe||(pe=[]);++Re<He;){var Ye=p[Re];_>0&&N(Ye)?_>1?qa(Ye,_-1,N,Y,pe):Xn(pe,Ye):Y||(pe[pe.length]=Ye)}return pe}var ac=m1(),km=m1(!0);function cc(p,_){return p&&ac(p,_,hc)}function Yp(p,_){return p&&km(p,_,hc)}function Fi(p,_){return Cn(_,function(N){return _n(p[N])})}function Ko(p,_){_=pr(_,p);for(var N=0,Y=_.length;p!=null&&N<Y;)p=p[dc(_[N++])];return N&&N==Y?p:f}function $e(p,_,N){var Y=_(p);return fs(p)?Y:Xn(Y,N(p))}function H(p){return p==null?p===f?bs:Kt:gl&&gl in js(p)?qf(p):Hv(p)}function me(p,_){return p>_}function Ve(p,_){return p!=null&&St.call(p,_)}function Ht(p,_){return p!=null&&_ in js(p)}function Dn(p,_,N){return p>=ma(_,N)&&p<ai(_,N)}function fn(p,_,N){for(var Y=N?qs:ur,pe=p[0].length,Re=p.length,He=Re,Ye=Ot(Re),gt=1/0,tn=[];He--;){var en=p[He];He&&_&&(en=us(en,ea(_))),gt=ma(en.length,gt),Ye[He]=!N&&(_||pe>=120&&en.length>=120)?new on(He&&en):f}en=p[0];var gn=-1,$n=Ye[0];e:for(;++gn<pe&&tn.length<gt;){var ho=en[gn],Bo=_?_(ho):ho;if(ho=N||ho!==0?ho:0,!($n?Va($n,Bo):Y(tn,Bo,N))){for(He=Re;--He;){var Mo=Ye[He];if(!(Mo?Va(Mo,Bo):Y(p[He],Bo,N)))continue e}$n&&$n.push(Bo),tn.push(ho)}}return tn}function Xo(p,_,N,Y){return cc(p,function(pe,Re,He){_(Y,N(pe),Re,He)}),Y}function Ge(p,_,N){_=pr(_,p),p=y1(p,_);var Y=p==null?p:p[dc(Bs(_))];return Y==null?f:Xt(Y,p,N)}function qr(p){return Pt(p)&&H(p)==Ho}function li(p){return Pt(p)&&H(p)==Sa}function na(p){return Pt(p)&&H(p)==ls}function Vr(p,_,N,Y,pe){return p===_?!0:p==null||_==null||!Pt(p)&&!Pt(_)?p!==p&&_!==_:ui(p,_,N,Y,Vr,pe)}function ui(p,_,N,Y,pe,Re){var He=fs(p),Ye=fs(_),gt=He?tt:lc(p),tn=Ye?tt:lc(_);gt=gt==Ho?pt:gt,tn=tn==Ho?pt:tn;var en=gt==pt,gn=tn==pt,$n=gt==tn;if($n&&Ad(p)){if(!Ad(_))return!1;He=!0,en=!1}if($n&&!en)return Re||(Re=new _l),He||Dc(p)?og(p,_,N,Y,pe,Re):Vm(p,_,gt,N,Y,pe,Re);if(!(N&he)){var ho=en&&St.call(p,"__wrapped__"),Bo=gn&&St.call(_,"__wrapped__");if(ho||Bo){var Mo=ho?p.value():p,Io=Bo?_.value():_;return Re||(Re=new _l),pe(Mo,Io,N,Y,Re)}}return $n?(Re||(Re=new _l),c0(p,_,N,Y,pe,Re)):!1}function Ci(p){return Pt(p)&&lc(p)==Pn}function nf(p,_,N,Y){var pe=N.length,Re=pe,He=!Y;if(p==null)return!Re;for(p=js(p);pe--;){var Ye=N[pe];if(He&&Ye[2]?Ye[1]!==p[Ye[0]]:!(Ye[0]in p))return!1}for(;++pe<Re;){Ye=N[pe];var gt=Ye[0],tn=p[gt],en=Ye[1];if(He&&Ye[2]){if(tn===f&&!(gt in p))return!1}else{var gn=new _l;if(Y)var $n=Y(tn,en,gt,p,_,gn);if(!($n===f?Vr(en,tn,he|ue,Y,gn):$n))return!1}}return!0}function u1(p){if(!Gi(p)||Wm(p))return!1;var _=_n(p)?ro:ml;return _.test(jf(p))}function Mh(p){return Pt(p)&&H(p)==Bt}function Gn(p){return Pt(p)&&lc(p)==Br}function Kp(p){return Pt(p)&&M1(p.length)&&!!Vs[H(p)]}function pu(p){return typeof p=="function"?p:p==null?eu:typeof p=="object"?fs(p)?Uu(p[0],p[1]):Pm(p):Y0(p)}function ka(p){if(!ig(p))return wv(p);var _=[];for(var N in js(p))St.call(p,N)&&N!="constructor"&&_.push(N);return _}function Sv(p){if(!Gi(p))return y_(p);var _=ig(p),N=[];for(var Y in p)Y=="constructor"&&(_||!St.call(p,Y))||N.push(Y);return N}function _d(p,_){return p<_}function h_(p,_){var N=-1,Y=qc(p)?Ot(p.length):[];return Gl(p,function(pe,Re,He){Y[++N]=_(pe,Re,He)}),Y}function Pm(p){var _=b1(p);return _.length==1&&_[0][2]?Gm(_[0][0],_[0][1]):function(N){return N===p||nf(N,p,_)}}function Uu(p,_){return ju(p)&&ag(_)?Gm(dc(p),_):function(N){var Y=B1(N,p);return Y===f&&Y===_?ab(N,p):Vr(_,Y,he|ue)}}function xc(p,_,N,Y,pe){p!==_&&ac(_,function(Re,He){if(pe||(pe=new _l),Gi(Re))Tl(p,_,He,N,xc,Y,pe);else{var Ye=Y?Y(Oc(p,He),Re,He+"",p,_,pe):f;Ye===f&&(Ye=Re),Mm(p,He,Ye)}},Jl)}function Tl(p,_,N,Y,pe,Re,He){var Ye=Oc(p,N),gt=Oc(_,N),tn=He.get(gt);if(tn){Mm(p,N,tn);return}var en=Re?Re(Ye,gt,N+"",p,_,He):f,gn=en===f;if(gn){var $n=fs(gt),ho=!$n&&Ad(gt),Bo=!$n&&!ho&&Dc(gt);en=gt,$n||ho||Bo?fs(Ye)?en=Ye:Wi(Ye)?en=rl(Ye):ho?(gn=!1,en=kv(gt,!0)):Bo?(gn=!1,en=Pv(gt,!0)):en=[]:al(gt)||eh(gt)?(en=Ye,eh(Ye)?en=W_(Ye):(!Gi(Ye)||_n(Ye))&&(en=Fv(gt))):gn=!1}gn&&(He.set(gt,en),pe(en,gt,Y,Re,He),He.delete(gt)),Mm(p,N,en)}function xv(p,_){var N=p.length;if(N)return _+=_<0?N:0,uf(_,N)?p[_]:f}function m_(p,_,N){_.length?_=us(_,function(Re){return fs(Re)?function(He){return Ko(He,Re.length===1?Re[0]:Re)}:Re}):_=[eu];var Y=-1;_=us(_,ea(Ro()));var pe=h_(p,function(Re,He,Ye){var gt=us(_,function(tn){return tn(Re)});return{criteria:gt,index:++Y,value:Re}});return wc(pe,function(Re,He){return h1(Re,He,N)})}function Ed(p,_){return d1(p,_,function(N,Y){return ab(p,Y)})}function d1(p,_,N){for(var Y=-1,pe=_.length,Re={};++Y<pe;){var He=_[Y],Ye=Ko(p,He);N(Ye,He)&&jl(Re,pr(He,p),Ye)}return Re}function Av(p){return function(_){return Ko(_,p)}}function Lm(p,_,N,Y){var pe=Y?wi:Fc,Re=-1,He=_.length,Ye=p;for(p===_&&(_=rl(_)),N&&(Ye=us(p,ea(N)));++Re<He;)for(var gt=0,tn=_[Re],en=N?N(tn):tn;(gt=pe(Ye,en,gt,Y))>-1;)Ye!==p&&Vl.call(Ye,gt,1),Vl.call(p,gt,1);return p}function Xp(p,_){for(var N=p?_.length:0,Y=N-1;N--;){var pe=_[N];if(N==Y||pe!==Re){var Re=pe;uf(pe)?Vl.call(p,pe,1):Iv(p,pe)}}return p}function Hf(p,_){return p+tl(Ma()*(_-p+1))}function Ov(p,_,N,Y){for(var pe=-1,Re=ai(zl((_-p)/(N||1)),0),He=Ot(Re);Re--;)He[Y?Re:++pe]=p,p+=N;return He}function Rv(p,_){var N="";if(!p||_<1||_>nt)return N;do _%2&&(N+=p),_=tl(_/2),_&&(p+=p);while(_);return N}function xs(p,_){return Vv(Hh(p,_,eu),p+"")}function s0(p){return Nh(Rd(p))}function va(p,_){var N=Rd(p);return jm(N,ei(_,0,N.length))}function jl(p,_,N,Y){if(!Gi(p))return p;_=pr(_,p);for(var pe=-1,Re=_.length,He=Re-1,Ye=p;Ye!=null&&++pe<Re;){var gt=dc(_[pe]),tn=N;if(gt==="__proto__"||gt==="constructor"||gt==="prototype")return p;if(pe!=He){var en=Ye[gt];tn=Y?Y(en,gt,Ye):f,tn===f&&(tn=Gi(en)?en:uf(_[pe+1])?[]:{})}Ga(Ye,gt,tn),Ye=Ye[gt]}return p}var Bm=Rm?function(p,_){return Rm.set(p,_),p}:eu,kh=Am?function(p,_){return Am(p,"toString",{configurable:!0,enumerable:!1,value:ap(_),writable:!0})}:eu;function p_(p){return jm(Rd(p))}function Hi(p,_,N){var Y=-1,pe=p.length;_<0&&(_=-_>pe?0:pe+_),N=N>pe?pe:N,N<0&&(N+=pe),pe=_>N?0:N-_>>>0,_>>>=0;for(var Re=Ot(pe);++Y<pe;)Re[Y]=p[Y+_];return Re}function Cl(p,_){var N;return Gl(p,function(Y,pe,Re){return N=_(Y,pe,Re),!N}),!!N}function Ph(p,_,N){var Y=0,pe=p==null?Y:p.length;if(typeof _=="number"&&_===_&&pe<=Fo){for(;Y<pe;){var Re=Y+pe>>>1,He=p[Re];He!==null&&!cl(He)&&(N?He<=_:He<_)?Y=Re+1:pe=Re}return pe}return Lh(p,_,eu,N)}function Lh(p,_,N,Y){var pe=0,Re=p==null?0:p.length;if(Re===0)return 0;_=N(_);for(var He=_!==_,Ye=_===null,gt=cl(_),tn=_===f;pe<Re;){var en=tl((pe+Re)/2),gn=N(p[en]),$n=gn!==f,ho=gn===null,Bo=gn===gn,Mo=cl(gn);if(He)var Io=Y||Bo;else tn?Io=Bo&&(Y||$n):Ye?Io=Bo&&$n&&(Y||!ho):gt?Io=Bo&&$n&&!ho&&(Y||!Mo):ho||Mo?Io=!1:Io=Y?gn<=_:gn<_;Io?pe=en+1:Re=en}return ma(Re,bo)}function of(p,_){for(var N=-1,Y=p.length,pe=0,Re=[];++N<Y;){var He=p[N],Ye=_?_(He):He;if(!N||!Ds(Ye,gt)){var gt=Ye;Re[pe++]=He===0?0:He}}return Re}function Vf(p){return typeof p=="number"?p:cl(p)?zt:+p}function Sl(p){if(typeof p=="string")return p;if(fs(p))return us(p,Sl)+"";if(cl(p))return Im?Im.call(p):"";var _=p+"";return _=="0"&&1/p==-It?"-0":_}function oa(p,_,N){var Y=-1,pe=ur,Re=p.length,He=!0,Ye=[],gt=Ye;if(N)He=!1,pe=qs;else if(Re>=C){var tn=_?null:Nt(p);if(tn)return mu(tn);He=!1,pe=Va,gt=new on}else gt=_?[]:Ye;e:for(;++Y<Re;){var en=p[Y],gn=_?_(en):en;if(en=N||en!==0?en:0,He&&gn===gn){for(var $n=gt.length;$n--;)if(gt[$n]===gn)continue e;_&&gt.push(gn),Ye.push(en)}else pe(gt,gn,N)||(gt!==Ye&&gt.push(gn),Ye.push(en))}return Ye}function Iv(p,_){return _=pr(_,p),p=y1(p,_),p==null||delete p[dc(Bs(_))]}function Vc(p,_,N,Y){return jl(p,_,N(Ko(p,_)),Y)}function Zl(p,_,N,Y){for(var pe=p.length,Re=Y?pe:-1;(Y?Re--:++Re<pe)&&_(p[Re],Re,p););return N?Hi(p,Y?0:Re,Y?Re+1:pe):Hi(p,Y?Re+1:0,Y?pe:Re)}function xl(p,_){var N=p;return N instanceof Us&&(N=N.value()),to(_,function(Y,pe){return pe.func.apply(pe.thisArg,Xn([Y],pe.args))},N)}function Qp(p,_,N){var Y=p.length;if(Y<2)return Y?oa(p[0]):[];for(var pe=-1,Re=Ot(Y);++pe<Y;)for(var He=p[pe],Ye=-1;++Ye<Y;)Ye!=pe&&(Re[pe]=_s(Re[pe]||He,p[Ye],_,N));return oa(qa(Re,1),_,N)}function Bh(p,_,N){for(var Y=-1,pe=p.length,Re=_.length,He={};++Y<pe;){var Ye=Y<Re?_[Y]:f;N(He,p[Y],Ye)}return He}function Dv(p){return Wi(p)?p:[]}function r0(p){return typeof p=="function"?p:eu}function pr(p,_){return fs(p)?p:ju(p,_)?[p]:Zm(kr(p))}var Nv=xs;function zc(p,_,N){var Y=p.length;return N=N===f?Y:N,!_&&N>=Y?p:Hi(p,_,N)}var Mv=r1||function(p){return ua.clearTimeout(p)};function kv(p,_){if(_)return p.slice();var N=p.length,Y=Bi?Bi(N):new p.constructor(N);return p.copy(Y),Y}function zf(p){var _=new p.constructor(p.byteLength);return new Co(_).set(new Co(p)),_}function Ws(p,_){var N=_?zf(p.buffer):p.buffer;return new p.constructor(N,p.byteOffset,p.byteLength)}function sf(p){var _=new p.constructor(p.source,xa.exec(p));return _.lastIndex=p.lastIndex,_}function f1(p){return Lf?js(Lf.call(p)):{}}function Pv(p,_){var N=_?zf(p.buffer):p.buffer;return new p.constructor(N,p.byteOffset,p.length)}function $m(p,_){if(p!==_){var N=p!==f,Y=p===null,pe=p===p,Re=cl(p),He=_!==f,Ye=_===null,gt=_===_,tn=cl(_);if(!Ye&&!tn&&!Re&&p>_||Re&&He&&gt&&!Ye&&!tn||Y&&He&&gt||!N&&gt||!pe)return 1;if(!Y&&!Re&&!tn&&p<_||tn&&N&&pe&&!Y&&!Re||Ye&&N&&pe||!He&&pe||!gt)return-1}return 0}function h1(p,_,N){for(var Y=-1,pe=p.criteria,Re=_.criteria,He=pe.length,Ye=N.length;++Y<He;){var gt=$m(pe[Y],Re[Y]);if(gt){if(Y>=Ye)return gt;var tn=N[Y];return gt*(tn=="desc"?-1:1)}}return p.index-_.index}function Jp(p,_,N,Y){for(var pe=-1,Re=p.length,He=N.length,Ye=-1,gt=_.length,tn=ai(Re-He,0),en=Ot(gt+tn),gn=!Y;++Ye<gt;)en[Ye]=_[Ye];for(;++pe<He;)(gn||pe<Re)&&(en[N[pe]]=p[pe]);for(;tn--;)en[Ye++]=p[pe++];return en}function g_(p,_,N,Y){for(var pe=-1,Re=p.length,He=-1,Ye=N.length,gt=-1,tn=_.length,en=ai(Re-Ye,0),gn=Ot(en+tn),$n=!Y;++pe<en;)gn[pe]=p[pe];for(var ho=pe;++gt<tn;)gn[ho+gt]=_[gt];for(;++He<Ye;)($n||pe<Re)&&(gn[ho+N[He]]=p[pe++]);return gn}function rl(p,_){var N=-1,Y=p.length;for(_||(_=Ot(Y));++N<Y;)_[N]=p[N];return _}function Wu(p,_,N,Y){var pe=!N;N||(N={});for(var Re=-1,He=_.length;++Re<He;){var Ye=_[Re],gt=Y?Y(N[Ye],p[Ye],Ye,N,p):f;gt===f&&(gt=p[Ye]),pe?ns(N,Ye,gt):Ga(N,Ye,gt)}return N}function Uf(p,_){return Wu(p,lf(p),_)}function rf(p,_){return Wu(p,qu(p),_)}function Gu(p,_){return function(N,Y){var pe=fs(N)?rt:ef,Re=_?_():{};return pe(N,p,Ro(Y,2),Re)}}function gu(p){return xs(function(_,N){var Y=-1,pe=N.length,Re=pe>1?N[pe-1]:f,He=pe>2?N[2]:f;for(Re=p.length>3&&typeof Re=="function"?(pe--,Re):f,He&&Uc(N[0],N[1],He)&&(Re=pe<3?f:Re,pe=1),_=js(_);++Y<pe;){var Ye=N[Y];Ye&&p(_,Ye,Y,Re)}return _})}function eg(p,_){return function(N,Y){if(N==null)return N;if(!qc(N))return p(N,Y);for(var pe=N.length,Re=_?pe:-1,He=js(N);(_?Re--:++Re<pe)&&Y(He[Re],Re,He)!==!1;);return N}}function m1(p){return function(_,N,Y){for(var pe=-1,Re=js(_),He=Y(_),Ye=He.length;Ye--;){var gt=He[p?Ye:++pe];if(N(Re[gt],gt,Re)===!1)break}return _}}function Wf(p,_,N){var Y=_&ce,pe=Hm(p);function Re(){var He=this&&this!==ua&&this instanceof Re?pe:p;return He.apply(Y?N:this,arguments)}return Re}function i0(p){return function(_){_=kr(_);var N=Ti(_)?Tc(_):f,Y=N?N[0]:_.charAt(0),pe=N?zc(N,1).join(""):_.slice(1);return Y[p]()+pe}}function Fm(p){return function(_){return to(G0(F0(_).replace(xm,"")),p,"")}}function Hm(p){return function(){var _=arguments;switch(_.length){case 0:return new p;case 1:return new p(_[0]);case 2:return new p(_[0],_[1]);case 3:return new p(_[0],_[1],_[2]);case 4:return new p(_[0],_[1],_[2],_[3]);case 5:return new p(_[0],_[1],_[2],_[3],_[4]);case 6:return new p(_[0],_[1],_[2],_[3],_[4],_[5]);case 7:return new p(_[0],_[1],_[2],_[3],_[4],_[5],_[6])}var N=Qd(p.prototype),Y=p.apply(N,_);return Gi(Y)?Y:N}}function v_(p,_,N){var Y=Hm(p);function pe(){for(var Re=arguments.length,He=Ot(Re),Ye=Re,gt=Um(pe);Ye--;)He[Ye]=arguments[Ye];var tn=Re<3&&He[0]!==gt&&He[Re-1]!==gt?[]:da(He,gt);if(Re-=tn.length,Re<N)return Lv(p,_,kn,pe.placeholder,f,He,tn,f,f,N-Re);var en=this&&this!==ua&&this instanceof pe?Y:p;return Xt(en,this,He)}return pe}function tg(p){return function(_,N,Y){var pe=js(_);if(!qc(_)){var Re=Ro(N,3);_=hc(_),N=function(Ye){return Re(pe[Ye],Ye,pe)}}var He=p(_,N,Y);return He>-1?pe[Re?_[He]:He]:f}}function rs(p){return ja(function(_){var N=_.length,Y=N,pe=bl.prototype.thru;for(p&&_.reverse();Y--;){var Re=_[Y];if(typeof Re!="function")throw new Da(S);if(pe&&!He&&Yl(Re)=="wrapper")var He=new bl([],!0)}for(Y=He?Y:N;++Y<N;){Re=_[Y];var Ye=Yl(Re),gt=Ye=="wrapper"?zm(Re):f;gt&&rg(gt[0])&&gt[1]==(we|Q|qe|je)&&!gt[4].length&&gt[9]==1?He=He[Yl(gt[0])].apply(He,gt[3]):He=Re.length==1&&rg(Re)?He[Ye]():He.thru(Re)}return function(){var tn=arguments,en=tn[0];if(He&&tn.length==1&&fs(en))return He.plant(en).value();for(var gn=0,$n=N?_[gn].apply(this,tn):en;++gn<N;)$n=_[gn].call(this,$n);return $n}})}function kn(p,_,N,Y,pe,Re,He,Ye,gt,tn){var en=_&we,gn=_&ce,$n=_&ae,ho=_&(Q|Ne),Bo=_&dt,Mo=$n?f:Hm(p);function Io(){for(var $s=arguments.length,hs=Ot($s),di=$s;di--;)hs[di]=arguments[di];if(ho)var fi=Um(Io),ti=xh(hs,fi);if(Y&&(hs=Jp(hs,Y,pe,ho)),Re&&(hs=g_(hs,Re,He,ho)),$s-=ti,ho&&$s<tn){var Yr=da(hs,fi);return Lv(p,_,kn,Io.placeholder,N,hs,Yr,Ye,gt,tn-$s)}var Mc=gn?N:this,Gs=$n?Mc[p]:p;return $s=hs.length,Ye?hs=Al(hs,Ye):Bo&&$s>1&&hs.reverse(),en&&gt<$s&&(hs.length=gt),this&&this!==ua&&this instanceof Io&&(Gs=Mo||Hm(Gs)),Gs.apply(Mc,hs)}return Io}function af(p,_){return function(N,Y){return Xo(N,p,_(Y),{})}}function cf(p,_){return function(N,Y){var pe;if(N===f&&Y===f)return _;if(N!==f&&(pe=N),Y!==f){if(pe===f)return Y;typeof N=="string"||typeof Y=="string"?(N=Sl(N),Y=Sl(Y)):(N=Vf(N),Y=Vf(Y)),pe=p(N,Y)}return pe}}function ng(p){return ja(function(_){return _=us(_,ea(Ro())),xs(function(N){var Y=this;return p(_,function(pe){return Xt(pe,Y,N)})})})}function p1(p,_){_=_===f?" ":Sl(_);var N=_.length;if(N<2)return N?Rv(_,p):_;var Y=Rv(_,zl(p/Ts(_)));return Ti(_)?zc(Tc(Y),0,p).join(""):Y.slice(0,p)}function a0(p,_,N,Y){var pe=_&ce,Re=Hm(p);function He(){for(var Ye=-1,gt=arguments.length,tn=-1,en=Y.length,gn=Ot(en+gt),$n=this&&this!==ua&&this instanceof He?Re:p;++tn<en;)gn[tn]=Y[tn];for(;gt--;)gn[tn++]=arguments[++Ye];return Xt($n,pe?N:this,gn)}return He}function Zs(p){return function(_,N,Y){return Y&&typeof Y!="number"&&Uc(_,N,Y)&&(N=Y=f),_=th(_),N===f?(N=_,_=0):N=th(N),Y=Y===f?_<N?1:-1:th(Y),Ov(_,N,Y,p)}}function g1(p){return function(_,N){return typeof _=="string"&&typeof N=="string"||(_=gr(_),N=gr(N)),p(_,N)}}function Lv(p,_,N,Y,pe,Re,He,Ye,gt,tn){var en=_&Q,gn=en?He:f,$n=en?f:He,ho=en?Re:f,Bo=en?f:Re;_|=en?qe:z,_&=~(en?z:qe),_&ge||(_&=~(ce|ae));var Mo=[p,_,pe,ho,gn,Bo,$n,Ye,gt,tn],Io=N.apply(f,Mo);return rg(p)&&df(Io,Mo),Io.placeholder=Y,lg(Io,p,_)}function Bv(p){var _=Qr[p];return function(N,Y){if(N=gr(N),Y=Y==null?0:ma(Es(Y),292),Y&&ha(N)){var pe=(kr(N)+"e").split("e"),Re=_(pe[0]+"e"+(+pe[1]+Y));return pe=(kr(Re)+"e").split("e"),+(pe[0]+"e"+(+pe[1]-Y))}return _(N)}}var Nt=ol&&1/mu(new ol([,-0]))[1]==It?function(p){return new ol(p)}:La;function $v(p){return function(_){var N=lc(_);return N==Pn?Bu(_):N==Br?md(_):Li(_,p(_))}}function wd(p,_,N,Y,pe,Re,He,Ye){var gt=_&ae;if(!gt&&typeof p!="function")throw new Da(S);var tn=Y?Y.length:0;if(tn||(_&=~(qe|z),Y=pe=f),He=He===f?He:ai(Es(He),0),Ye=Ye===f?Ye:Es(Ye),tn-=pe?pe.length:0,_&z){var en=Y,gn=pe;Y=pe=f}var $n=gt?f:zm(p),ho=[p,_,N,Y,pe,en,gn,Re,He,Ye];if($n&&qm(ho,$n),p=ho[0],_=ho[1],N=ho[2],Y=ho[3],pe=ho[4],Ye=ho[9]=ho[9]===f?gt?0:p.length:ai(ho[9]-tn,0),!Ye&&_&(Q|Ne)&&(_&=~(Q|Ne)),!_||_==ce)var Bo=Wf(p,_,N);else _==Q||_==Ne?Bo=v_(p,_,Ye):(_==qe||_==(ce|qe))&&!pe.length?Bo=a0(p,_,N,Y):Bo=kn.apply(f,ho);var Mo=$n?Bm:df;return lg(Mo(Bo,ho),p,_)}function $h(p,_,N,Y){return p===f||Ds(p,We[N])&&!St.call(Y,N)?_:p}function v1(p,_,N,Y,pe,Re){return Gi(p)&&Gi(_)&&(Re.set(_,p),xc(p,_,f,v1,Re),Re.delete(_)),p}function Gf(p){return al(p)?f:p}function og(p,_,N,Y,pe,Re){var He=N&he,Ye=p.length,gt=_.length;if(Ye!=gt&&!(He&&gt>Ye))return!1;var tn=Re.get(p),en=Re.get(_);if(tn&&en)return tn==_&&en==p;var gn=-1,$n=!0,ho=N&ue?new on:f;for(Re.set(p,_),Re.set(_,p);++gn<Ye;){var Bo=p[gn],Mo=_[gn];if(Y)var Io=He?Y(Mo,Bo,gn,_,p,Re):Y(Bo,Mo,gn,p,_,Re);if(Io!==f){if(Io)continue;$n=!1;break}if(ho){if(!Oo(_,function($s,hs){if(!Va(ho,hs)&&(Bo===$s||pe(Bo,$s,N,Y,Re)))return ho.push(hs)})){$n=!1;break}}else if(!(Bo===Mo||pe(Bo,Mo,N,Y,Re))){$n=!1;break}}return Re.delete(p),Re.delete(_),$n}function Vm(p,_,N,Y,pe,Re,He){switch(N){case or:if(p.byteLength!=_.byteLength||p.byteOffset!=_.byteOffset)return!1;p=p.buffer,_=_.buffer;case Sa:return!(p.byteLength!=_.byteLength||!Re(new Co(p),new Co(_)));case se:case ls:case Po:return Ds(+p,+_);case Ft:return p.name==_.name&&p.message==_.message;case Bt:case Ms:return p==_+"";case Pn:var Ye=Bu;case Br:var gt=Y&he;if(Ye||(Ye=mu),p.size!=_.size&&!gt)return!1;var tn=He.get(p);if(tn)return tn==_;Y|=ue,He.set(p,_);var en=og(Ye(p),Ye(_),Y,pe,Re,He);return He.delete(p),en;case Lc:if(Lf)return Lf.call(p)==Lf.call(_)}return!1}function c0(p,_,N,Y,pe,Re){var He=N&he,Ye=Cr(p),gt=Ye.length,tn=Cr(_),en=tn.length;if(gt!=en&&!He)return!1;for(var gn=gt;gn--;){var $n=Ye[gn];if(!(He?$n in _:St.call(_,$n)))return!1}var ho=Re.get(p),Bo=Re.get(_);if(ho&&Bo)return ho==_&&Bo==p;var Mo=!0;Re.set(p,_),Re.set(_,p);for(var Io=He;++gn<gt;){$n=Ye[gn];var $s=p[$n],hs=_[$n];if(Y)var di=He?Y(hs,$s,$n,_,p,Re):Y($s,hs,$n,p,_,Re);if(!(di===f?$s===hs||pe($s,hs,N,Y,Re):di)){Mo=!1;break}Io||(Io=$n=="constructor")}if(Mo&&!Io){var fi=p.constructor,ti=_.constructor;fi!=ti&&"constructor"in p&&"constructor"in _&&!(typeof fi=="function"&&fi instanceof fi&&typeof ti=="function"&&ti instanceof ti)&&(Mo=!1)}return Re.delete(p),Re.delete(_),Mo}function ja(p){return Vv(Hh(p,f,_1),p+"")}function Cr(p){return $e(p,hc,lf)}function Ac(p){return $e(p,Jl,qu)}var zm=Rm?function(p){return Rm.get(p)}:La;function Yl(p){for(var _=p.name+"",N=Wl[_],Y=St.call(Wl,_)?N.length:0;Y--;){var pe=N[Y],Re=pe.func;if(Re==null||Re==p)return pe.name}return _}function Um(p){var _=St.call(be,"placeholder")?be:p;return _.placeholder}function Ro(){var p=be.iteratee||Z0;return p=p===Z0?pu:p,arguments.length?p(arguments[0],arguments[1]):p}function Td(p,_){var N=p.__data__;return Kl(_)?N[typeof _=="string"?"string":"hash"]:N.map}function b1(p){for(var _=hc(p),N=_.length;N--;){var Y=_[N],pe=p[Y];_[N]=[Y,pe,ag(pe)]}return _}function Fh(p,_){var N=Yd(p,_);return u1(N)?N:f}function qf(p){var _=St.call(p,gl),N=p[gl];try{p[gl]=f;var Y=!0}catch{}var pe=Mn.call(p);return Y&&(_?p[gl]=N:delete p[gl]),pe}var lf=Xd?function(p){return p==null?[]:(p=js(p),Cn(Xd(p),function(_){return Js.call(p,_)}))}:vf,qu=Xd?function(p){for(var _=[];p;)Xn(_,lf(p)),p=$i(p);return _}:vf,lc=H;(ta&&lc(new ta(new ArrayBuffer(1)))!=or||Om&&lc(new Om)!=Pn||ds&&lc(ds.resolve())!=vi||ol&&lc(new ol)!=Br||Ul&&lc(new Ul)!=Ir)&&(lc=function(p){var _=H(p),N=_==pt?p.constructor:f,Y=N?jf(N):"";if(Y)switch(Y){case vd:return or;case er:return Pn;case Tr:return vi;case Ua:return Br;case i1:return Ir}return _});function Vw(p,_,N){for(var Y=-1,pe=N.length;++Y<pe;){var Re=N[Y],He=Re.size;switch(Re.type){case"drop":p+=He;break;case"dropRight":_-=He;break;case"take":_=ma(_,p+He);break;case"takeRight":p=ai(p,_-He);break}}return{start:p,end:_}}function sg(p){var _=p.match(Ni);return _?_[1].split(Xi):[]}function Vi(p,_,N){_=pr(_,p);for(var Y=-1,pe=_.length,Re=!1;++Y<pe;){var He=dc(_[Y]);if(!(Re=p!=null&&N(p,He)))break;p=p[He]}return Re||++Y!=pe?Re:(pe=p==null?0:p.length,!!pe&&M1(pe)&&uf(He,pe)&&(fs(p)||eh(p)))}function En(p){var _=p.length,N=new p.constructor(_);return _&&typeof p[0]=="string"&&St.call(p,"index")&&(N.index=p.index,N.input=p.input),N}function Fv(p){return typeof p.constructor=="function"&&!ig(p)?Qd($i(p)):{}}function b_(p,_,N){var Y=p.constructor;switch(_){case Sa:return zf(p);case se:case ls:return new Y(+p);case or:return Ws(p,N);case Rs:case id:case Kr:case ks:case hl:case Di:case Yc:case br:case $r:return Pv(p,N);case Pn:return new Y;case Po:case Ms:return new Y(p);case Bt:return sf(p);case Br:return new Y;case Lc:return f1(p)}}function uc(p,_){var N=_.length;if(!N)return p;var Y=N-1;return _[Y]=(N>1?"& ":"")+_[Y],_=_.join(N>2?", ":" "),p.replace(wh,`{
/* [wrapped with `+_+`] */
`)}function l0(p){return fs(p)||eh(p)||!!(Ls&&p&&p[Ls])}function uf(p,_){var N=typeof p;return _=_??nt,!!_&&(N=="number"||N!="symbol"&&Hp.test(p))&&p>-1&&p%1==0&&p<_}function Uc(p,_,N){if(!Gi(N))return!1;var Y=typeof _;return(Y=="number"?qc(N)&&uf(_,N.length):Y=="string"&&_ in N)?Ds(N[_],p):!1}function ju(p,_){if(fs(p))return!1;var N=typeof p;return N=="number"||N=="symbol"||N=="boolean"||p==null||cl(p)?!0:jd.test(p)||!ad.test(p)||_!=null&&p in js(_)}function Kl(p){var _=typeof p;return _=="string"||_=="number"||_=="symbol"||_=="boolean"?p!=="__proto__":p===null}function rg(p){var _=Yl(p),N=be[_];if(typeof N!="function"||!(_ in Us.prototype))return!1;if(p===N)return!0;var Y=zm(N);return!!Y&&p===Y[0]}function Wm(p){return!!An&&An in p}var zw=Vt?_n:K0;function ig(p){var _=p&&p.constructor,N=typeof _=="function"&&_.prototype||We;return p===N}function ag(p){return p===p&&!Gi(p)}function Gm(p,_){return function(N){return N==null?!1:N[p]===_&&(_!==f||p in js(N))}}function cg(p){var _=Jf(p,function(Y){return N.size===G&&N.clear(),Y}),N=_.cache;return _}function qm(p,_){var N=p[1],Y=_[1],pe=N|Y,Re=pe<(ce|ae|we),He=Y==we&&N==Q||Y==we&&N==je&&p[7].length<=_[8]||Y==(we|je)&&_[7].length<=_[8]&&N==Q;if(!(Re||He))return p;Y&ce&&(p[2]=_[2],pe|=N&ce?0:ge);var Ye=_[3];if(Ye){var gt=p[3];p[3]=gt?Jp(gt,Ye,_[4]):Ye,p[4]=gt?da(p[3],q):_[4]}return Ye=_[5],Ye&&(gt=p[5],p[5]=gt?g_(gt,Ye,_[6]):Ye,p[6]=gt?da(p[5],q):_[6]),Ye=_[7],Ye&&(p[7]=Ye),Y&we&&(p[8]=p[8]==null?_[8]:ma(p[8],_[8])),p[9]==null&&(p[9]=_[9]),p[0]=_[0],p[1]=pe,p}function y_(p){var _=[];if(p!=null)for(var N in js(p))_.push(N);return _}function Hv(p){return Mn.call(p)}function Hh(p,_,N){return _=ai(_===f?p.length-1:_,0),function(){for(var Y=arguments,pe=-1,Re=ai(Y.length-_,0),He=Ot(Re);++pe<Re;)He[pe]=Y[_+pe];pe=-1;for(var Ye=Ot(_+1);++pe<_;)Ye[pe]=Y[pe];return Ye[_]=N(He),Xt(p,this,Ye)}}function y1(p,_){return _.length<2?p:Ko(p,Hi(_,0,-1))}function Al(p,_){for(var N=p.length,Y=ma(_.length,N),pe=rl(p);Y--;){var Re=_[Y];p[Y]=uf(Re,N)?pe[Re]:f}return p}function Oc(p,_){if(!(_==="constructor"&&typeof p[_]=="function")&&_!="__proto__")return p[_]}var df=Zu(Bm),Vh=Kd||function(p,_){return ua.setTimeout(p,_)},Vv=Zu(kh);function lg(p,_,N){var Y=_+"";return Vv(p,uc(Y,Uw(sg(Y),N)))}function Zu(p){var _=0,N=0;return function(){var Y=$u(),pe=pn-(Y-N);if(N=Y,pe>0){if(++_>=Ee)return arguments[0]}else _=0;return p.apply(f,arguments)}}function jm(p,_){var N=-1,Y=p.length,pe=Y-1;for(_=_===f?Y:_;++N<_;){var Re=Hf(N,pe),He=p[Re];p[Re]=p[N],p[N]=He}return p.length=_,p}var Zm=cg(function(p){var _=[];return p.charCodeAt(0)===46&&_.push(""),p.replace(Qs,function(N,Y,pe,Re){_.push(pe?Re.replace(Xc,"$1"):Y||N)}),_});function dc(p){if(typeof p=="string"||cl(p))return p;var _=p+"";return _=="0"&&1/p==-It?"-0":_}function jf(p){if(p!=null){try{return ut.call(p)}catch{}try{return p+""}catch{}}return""}function Uw(p,_){return Mt(co,function(N){var Y="_."+N[0];_&N[1]&&!ur(p,Y)&&p.push(Y)}),p.sort()}function u0(p){if(p instanceof Us)return p.clone();var _=new bl(p.__wrapped__,p.__chain__);return _.__actions__=rl(p.__actions__),_.__index__=p.__index__,_.__values__=p.__values__,_}function d0(p,_,N){(N?Uc(p,_,N):_===f)?_=1:_=ai(Es(_),0);var Y=p==null?0:p.length;if(!Y||_<1)return[];for(var pe=0,Re=0,He=Ot(zl(Y/_));pe<Y;)He[Re++]=Hi(p,pe,pe+=_);return He}function rr(p){for(var _=-1,N=p==null?0:p.length,Y=0,pe=[];++_<N;){var Re=p[_];Re&&(pe[Y++]=Re)}return pe}function Ww(){var p=arguments.length;if(!p)return[];for(var _=Ot(p-1),N=arguments[0],Y=p;Y--;)_[Y-1]=arguments[Y];return Xn(fs(N)?rl(N):[N],qa(_,1))}var __=xs(function(p,_){return Wi(p)?_s(p,qa(_,1,Wi,!0)):[]}),Gw=xs(function(p,_){var N=Bs(_);return Wi(N)&&(N=f),Wi(p)?_s(p,qa(_,1,Wi,!0),Ro(N,2)):[]}),zv=xs(function(p,_){var N=Bs(_);return Wi(N)&&(N=f),Wi(p)?_s(p,qa(_,1,Wi,!0),f,N):[]});function ug(p,_,N){var Y=p==null?0:p.length;return Y?(_=N||_===f?1:Es(_),Hi(p,_<0?0:_,Y)):[]}function Zf(p,_,N){var Y=p==null?0:p.length;return Y?(_=N||_===f?1:Es(_),_=Y-_,Hi(p,0,_<0?0:_)):[]}function zi(p,_){return p&&p.length?Zl(p,Ro(_,3),!0,!0):[]}function Yf(p,_){return p&&p.length?Zl(p,Ro(_,3),!0):[]}function f0(p,_,N,Y){var pe=p==null?0:p.length;return pe?(N&&typeof N!="number"&&Uc(p,_,N)&&(N=0,Y=pe),Gr(p,_,N,Y)):[]}function Si(p,_,N){var Y=p==null?0:p.length;if(!Y)return-1;var pe=N==null?0:Es(N);return pe<0&&(pe=ai(Y+pe,0)),Dr(p,Ro(_,3),pe)}function Uv(p,_,N){var Y=p==null?0:p.length;if(!Y)return-1;var pe=Y-1;return N!==f&&(pe=Es(N),pe=N<0?ai(Y+pe,0):ma(pe,Y-1)),Dr(p,Ro(_,3),pe,!0)}function _1(p){var _=p==null?0:p.length;return _?qa(p,1):[]}function vx(p){var _=p==null?0:p.length;return _?qa(p,It):[]}function E_(p,_){var N=p==null?0:p.length;return N?(_=_===f?1:Es(_),qa(p,_)):[]}function zh(p){for(var _=-1,N=p==null?0:p.length,Y={};++_<N;){var pe=p[_];Y[pe[0]]=pe[1]}return Y}function Kf(p){return p&&p.length?p[0]:f}function Wv(p,_,N){var Y=p==null?0:p.length;if(!Y)return-1;var pe=N==null?0:Es(N);return pe<0&&(pe=ai(Y+pe,0)),Fc(p,_,pe)}function w_(p){var _=p==null?0:p.length;return _?Hi(p,0,-1):[]}var bx=xs(function(p){var _=us(p,Dv);return _.length&&_[0]===p[0]?fn(_):[]}),Cd=xs(function(p){var _=Bs(p),N=us(p,Dv);return _===Bs(N)?_=f:N.pop(),N.length&&N[0]===p[0]?fn(N,Ro(_,2)):[]}),As=xs(function(p){var _=Bs(p),N=us(p,Dv);return _=typeof _=="function"?_:f,_&&N.pop(),N.length&&N[0]===p[0]?fn(N,f,_):[]});function T_(p,_){return p==null?"":Ih.call(p,_)}function Bs(p){var _=p==null?0:p.length;return _?p[_-1]:f}function sa(p,_,N){var Y=p==null?0:p.length;if(!Y)return-1;var pe=Y;return N!==f&&(pe=Es(N),pe=pe<0?ai(Y+pe,0):ma(pe,Y-1)),_===_?Oh(p,_,pe):Dr(p,as,pe,!0)}function vu(p,_){return p&&p.length?xv(p,Es(_)):f}var Wc=xs(Uh);function Uh(p,_){return p&&p.length&&_&&_.length?Lm(p,_):p}function dg(p,_,N){return p&&p.length&&_&&_.length?Lm(p,_,Ro(N,2)):p}function Xf(p,_,N){return p&&p.length&&_&&_.length?Lm(p,_,f,N):p}var Xl=ja(function(p,_){var N=p==null?0:p.length,Y=Lo(p,_);return Xp(p,us(_,function(pe){return uf(pe,N)?+pe:pe}).sort($m)),Y});function Yu(p,_){var N=[];if(!(p&&p.length))return N;var Y=-1,pe=[],Re=p.length;for(_=Ro(_,3);++Y<Re;){var He=p[Y];_(He,Y,p)&&(N.push(He),pe.push(Y))}return Xp(p,pe),N}function Wh(p){return p==null?p:nl.call(p)}function E1(p,_,N){var Y=p==null?0:p.length;return Y?(N&&typeof N!="number"&&Uc(p,_,N)?(_=0,N=Y):(_=_==null?0:Es(_),N=N===f?Y:Es(N)),Hi(p,_,N)):[]}function h0(p,_){return Ph(p,_)}function C_(p,_,N){return Lh(p,_,Ro(N,2))}function S_(p,_){var N=p==null?0:p.length;if(N){var Y=Ph(p,_);if(Y<N&&Ds(p[Y],_))return Y}return-1}function fg(p,_){return Ph(p,_,!0)}function m0(p,_,N){return Lh(p,_,Ro(N,2),!0)}function qw(p,_){var N=p==null?0:p.length;if(N){var Y=Ph(p,_,!0)-1;if(Ds(p[Y],_))return Y}return-1}function jw(p){return p&&p.length?of(p):[]}function x_(p,_){return p&&p.length?of(p,Ro(_,2)):[]}function A_(p){var _=p==null?0:p.length;return _?Hi(p,1,_):[]}function p0(p,_,N){return p&&p.length?(_=N||_===f?1:Es(_),Hi(p,0,_<0?0:_)):[]}function O_(p,_,N){var Y=p==null?0:p.length;return Y?(_=N||_===f?1:Es(_),_=Y-_,Hi(p,_<0?0:_,Y)):[]}function Zw(p,_){return p&&p.length?Zl(p,Ro(_,3),!1,!0):[]}function g0(p,_){return p&&p.length?Zl(p,Ro(_,3)):[]}var Ym=xs(function(p){return oa(qa(p,1,Wi,!0))}),v0=xs(function(p){var _=Bs(p);return Wi(_)&&(_=f),oa(qa(p,1,Wi,!0),Ro(_,2))}),Yw=xs(function(p){var _=Bs(p);return _=typeof _=="function"?_:f,oa(qa(p,1,Wi,!0),f,_)});function Kw(p){return p&&p.length?oa(p):[]}function R_(p,_){return p&&p.length?oa(p,Ro(_,2)):[]}function Sr(p,_){return _=typeof _=="function"?_:f,p&&p.length?oa(p,f,_):[]}function ff(p){if(!(p&&p.length))return[];var _=0;return p=Cn(p,function(N){if(Wi(N))return _=ai(N.length,_),!0}),Wr(_,function(N){return us(p,Ra(N))})}function Gh(p,_){if(!(p&&p.length))return[];var N=ff(p);return _==null?N:us(N,function(Y){return Xt(_,f,Y)})}var I_=xs(function(p,_){return Wi(p)?_s(p,_):[]}),Gv=xs(function(p){return Qp(Cn(p,Wi))}),fc=xs(function(p){var _=Bs(p);return Wi(_)&&(_=f),Qp(Cn(p,Wi),Ro(_,2))}),il=xs(function(p){var _=Bs(p);return _=typeof _=="function"?_:f,Qp(Cn(p,Wi),f,_)}),Km=xs(ff);function qv(p,_){return Bh(p||[],_||[],Ga)}function b0(p,_){return Bh(p||[],_||[],jl)}var D_=xs(function(p){var _=p.length,N=_>1?p[_-1]:f;return N=typeof N=="function"?(p.pop(),N):f,Gh(p,N)});function y0(p){var _=be(p);return _.__chain__=!0,_}function N_(p,_){return _(p),p}function Ol(p,_){return _(p)}var Qf=ja(function(p){var _=p.length,N=_?p[0]:0,Y=this.__wrapped__,pe=function(Re){return Lo(Re,p)};return _>1||this.__actions__.length||!(Y instanceof Us)||!uf(N)?this.thru(pe):(Y=Y.slice(N,+N+(_?1:0)),Y.__actions__.push({func:Ol,args:[pe],thisArg:f}),new bl(Y,this.__chain__).thru(function(Re){return _&&!Re.length&&Re.push(f),Re}))});function Mr(){return y0(this)}function hf(){return new bl(this.value(),this.__chain__)}function Sd(){this.__values__===f&&(this.__values__=sb(this.value()));var p=this.__index__>=this.__values__.length,_=p?f:this.__values__[this.__index__++];return{done:p,value:_}}function Xw(){return this}function M_(p){for(var _,N=this;N instanceof Dh;){var Y=u0(N);Y.__index__=0,Y.__values__=f,_?pe.__wrapped__=Y:_=Y;var pe=Y;N=N.__wrapped__}return pe.__wrapped__=p,_}function _0(){var p=this.__wrapped__;if(p instanceof Us){var _=p;return this.__actions__.length&&(_=new Us(this)),_=_.reverse(),_.__actions__.push({func:Ol,args:[Wh],thisArg:f}),new bl(_,this.__chain__)}return this.thru(Wh)}function Xm(){return xl(this.__wrapped__,this.__actions__)}var E0=Gu(function(p,_,N){St.call(p,N)?++p[N]:ns(p,N,1)});function hg(p,_,N){var Y=fs(p)?Yn:wl;return N&&Uc(p,_,N)&&(_=f),Y(p,Ro(_,3))}function Qm(p,_){var N=fs(p)?Cn:ql;return N(p,Ro(_,3))}var Qw=tg(Si),w1=tg(Uv);function T1(p,_){return qa(C1(p,_),1)}function w0(p,_){return qa(C1(p,_),It)}function jv(p,_,N){return N=N===f?1:Es(N),qa(C1(p,_),N)}function mg(p,_){var N=fs(p)?Mt:Gl;return N(p,Ro(_,3))}function Zv(p,_){var N=fs(p)?eo:At;return N(p,Ro(_,3))}var qh=Gu(function(p,_,N){St.call(p,N)?p[N].push(_):ns(p,N,[_])});function pg(p,_,N,Y){p=qc(p)?p:Rd(p),N=N&&!Y?Es(N):0;var pe=p.length;return N<0&&(N=ai(pe+N,0)),Ql(p)?N<=pe&&p.indexOf(_,N)>-1:!!pe&&Fc(p,_,N)>-1}var k_=xs(function(p,_,N){var Y=-1,pe=typeof _=="function",Re=qc(p)?Ot(p.length):[];return Gl(p,function(He){Re[++Y]=pe?Xt(_,He,N):Ge(He,_,N)}),Re}),P_=Gu(function(p,_,N){ns(p,N,_)});function C1(p,_){var N=fs(p)?us:h_;return N(p,Ro(_,3))}function xd(p,_,N,Y){return p==null?[]:(fs(_)||(_=_==null?[]:[_]),N=Y?f:N,fs(N)||(N=N==null?[]:[N]),m_(p,_,N))}var bu=Gu(function(p,_,N){p[N?0:1].push(_)},function(){return[[],[]]});function S1(p,_,N){var Y=fs(p)?to:Hc,pe=arguments.length<3;return Y(p,Ro(_,4),N,pe,Gl)}function Xe(p,_,N){var Y=fs(p)?Pi:Hc,pe=arguments.length<3;return Y(p,Ro(_,4),N,pe,At)}function xr(p,_){var N=fs(p)?Cn:ql;return N(p,Ic(Ro(_,3)))}function Jm(p){var _=fs(p)?Nh:s0;return _(p)}function T0(p,_,N){(N?Uc(p,_,N):_===f)?_=1:_=Es(_);var Y=fs(p)?Ut:va;return Y(p,_)}function tr(p){var _=fs(p)?o0:p_;return _(p)}function Ku(p){if(p==null)return 0;if(qc(p))return Ql(p)?Ts(p):p.length;var _=lc(p);return _==Pn||_==Br?p.size:ka(p).length}function x1(p,_,N){var Y=fs(p)?Oo:Cl;return N&&Uc(p,_,N)&&(_=f),Y(p,Ro(_,3))}var ra=xs(function(p,_){if(p==null)return[];var N=_.length;return N>1&&Uc(p,_[0],_[1])?_=[]:N>2&&Uc(_[0],_[1],_[2])&&(_=[_[0]]),m_(p,qa(_,1),[])}),Xu=Na||function(){return ua.Date.now()};function C0(p,_){if(typeof _!="function")throw new Da(S);return p=Es(p),function(){if(--p<1)return _.apply(this,arguments)}}function L_(p,_,N){return _=N?f:_,_=p&&_==null?p.length:_,wd(p,we,f,f,f,f,_)}function Yv(p,_){var N;if(typeof _!="function")throw new Da(S);return p=Es(p),function(){return--p>0&&(N=_.apply(this,arguments)),p<=1&&(_=f),N}}var ep=xs(function(p,_,N){var Y=ce;if(N.length){var pe=da(N,Um(ep));Y|=qe}return wd(p,Y,_,N,pe)}),jh=xs(function(p,_,N){var Y=ce|ae;if(N.length){var pe=da(N,Um(jh));Y|=qe}return wd(_,Y,p,N,pe)});function Kv(p,_,N){_=N?f:_;var Y=wd(p,Q,f,f,f,f,f,_);return Y.placeholder=Kv.placeholder,Y}function A1(p,_,N){_=N?f:_;var Y=wd(p,Ne,f,f,f,f,f,_);return Y.placeholder=A1.placeholder,Y}function Rc(p,_,N){var Y,pe,Re,He,Ye,gt,tn=0,en=!1,gn=!1,$n=!0;if(typeof p!="function")throw new Da(S);_=gr(_)||0,Gi(N)&&(en=!!N.leading,gn="maxWait"in N,Re=gn?ai(gr(N.maxWait)||0,_):Re,$n="trailing"in N?!!N.trailing:$n);function ho(Yr){var Mc=Y,Gs=pe;return Y=pe=f,tn=Yr,He=p.apply(Gs,Mc),He}function Bo(Yr){return tn=Yr,Ye=Vh($s,_),en?ho(Yr):He}function Mo(Yr){var Mc=Yr-gt,Gs=Yr-tn,yf=_-Mc;return gn?ma(yf,Re-Gs):yf}function Io(Yr){var Mc=Yr-gt,Gs=Yr-tn;return gt===f||Mc>=_||Mc<0||gn&&Gs>=Re}function $s(){var Yr=Xu();if(Io(Yr))return hs(Yr);Ye=Vh($s,Mo(Yr))}function hs(Yr){return Ye=f,$n&&Y?ho(Yr):(Y=pe=f,He)}function di(){Ye!==f&&Mv(Ye),tn=0,Y=gt=pe=Ye=f}function fi(){return Ye===f?He:hs(Xu())}function ti(){var Yr=Xu(),Mc=Io(Yr);if(Y=arguments,pe=this,gt=Yr,Mc){if(Ye===f)return Bo(gt);if(gn)return Mv(Ye),Ye=Vh($s,_),ho(gt)}return Ye===f&&(Ye=Vh($s,_)),He}return ti.cancel=di,ti.flush=fi,ti}var O1=xs(function(p,_){return Zr(p,1,_)}),S0=xs(function(p,_,N){return Zr(p,gr(_)||0,N)});function R1(p){return wd(p,dt)}function Jf(p,_){if(typeof p!="function"||_!=null&&typeof _!="function")throw new Da(S);var N=function(){var Y=arguments,pe=_?_.apply(this,Y):Y[0],Re=N.cache;if(Re.has(pe))return Re.get(pe);var He=p.apply(this,Y);return N.cache=Re.set(pe,He)||Re,He};return N.cache=new(Jf.Cache||Vu),N}Jf.Cache=Vu;function Ic(p){if(typeof p!="function")throw new Da(S);return function(){var _=arguments;switch(_.length){case 0:return!p.call(this);case 1:return!p.call(this,_[0]);case 2:return!p.call(this,_[0],_[1]);case 3:return!p.call(this,_[0],_[1],_[2])}return!p.apply(this,_)}}function Jw(p){return Yv(2,p)}var ba=Nv(function(p,_){_=_.length==1&&fs(_[0])?us(_[0],ea(Ro())):us(qa(_,1),ea(Ro()));var N=_.length;return xs(function(Y){for(var pe=-1,Re=ma(Y.length,N);++pe<Re;)Y[pe]=_[pe].call(this,Y[pe]);return Xt(p,this,Y)})}),Xv=xs(function(p,_){var N=da(_,Um(Xv));return wd(p,qe,f,_,N)}),mf=xs(function(p,_){var N=da(_,Um(mf));return wd(p,z,f,_,N)}),I1=ja(function(p,_){return wd(p,je,f,f,f,_)});function B_(p,_){if(typeof p!="function")throw new Da(S);return _=_===f?_:Es(_),xs(p,_)}function x0(p,_){if(typeof p!="function")throw new Da(S);return _=_==null?0:ai(Es(_),0),xs(function(N){var Y=N[_],pe=zc(N,0,_);return Y&&Xn(pe,Y),Xt(p,this,pe)})}function A0(p,_,N){var Y=!0,pe=!0;if(typeof p!="function")throw new Da(S);return Gi(N)&&(Y="leading"in N?!!N.leading:Y,pe="trailing"in N?!!N.trailing:pe),Rc(p,_,{leading:Y,maxWait:_,trailing:pe})}function O0(p){return L_(p,1)}function R0(p,_){return Xv(r0(_),p)}function $_(){if(!arguments.length)return[];var p=arguments[0];return fs(p)?p:[p]}function eT(p){return Sc(p,re)}function ya(p,_){return _=typeof _=="function"?_:f,Sc(p,re,_)}function Ui(p){return Sc(p,X|re)}function Gc(p,_){return _=typeof _=="function"?_:f,Sc(p,X|re,_)}function Rl(p,_){return _==null||tf(p,_,hc(_))}function Ds(p,_){return p===_||p!==p&&_!==_}var Pa=g1(me),Qu=g1(function(p,_){return p>=_}),eh=qr(function(){return arguments}())?qr:function(p){return Pt(p)&&St.call(p,"callee")&&!Js.call(p,"callee")},fs=Ot.isArray,Qv=de?ea(de):li;function qc(p){return p!=null&&M1(p.length)&&!_n(p)}function Wi(p){return Pt(p)&&qc(p)}function D1(p){return p===!0||p===!1||Pt(p)&&H(p)==se}var Ad=io||K0,I0=_e?ea(_e):na;function yx(p){return Pt(p)&&p.nodeType===1&&!al(p)}function Jv(p){if(p==null)return!0;if(qc(p)&&(fs(p)||typeof p=="string"||typeof p.splice=="function"||Ad(p)||Dc(p)||eh(p)))return!p.length;var _=lc(p);if(_==Pn||_==Br)return!p.size;if(ig(p))return!ka(p).length;for(var N in p)if(St.call(p,N))return!1;return!0}function D0(p,_){return Vr(p,_)}function eb(p,_,N){N=typeof N=="function"?N:f;var Y=N?N(p,_):f;return Y===f?Vr(p,_,f,N):!!Y}function N1(p){if(!Pt(p))return!1;var _=H(p);return _==Ft||_==fo||typeof p.message=="string"&&typeof p.name=="string"&&!al(p)}function F_(p){return typeof p=="number"&&ha(p)}function _n(p){if(!Gi(p))return!1;var _=H(p);return _==vs||_==Qa||_==Dt||_==bi}function tb(p){return typeof p=="number"&&p==Es(p)}function M1(p){return typeof p=="number"&&p>-1&&p%1==0&&p<=nt}function Gi(p){var _=typeof p;return p!=null&&(_=="object"||_=="function")}function Pt(p){return p!=null&&typeof p=="object"}var H_=Te?ea(Te):Ci;function _a(p,_){return p===_||nf(p,_,b1(_))}function tT(p,_,N){return N=typeof N=="function"?N:f,nf(p,_,b1(_),N)}function V_(p){return gg(p)&&p!=+p}function z_(p){if(zw(p))throw new Eo(w);return u1(p)}function yu(p){return p===null}function _u(p){return p==null}function gg(p){return typeof p=="number"||Pt(p)&&H(p)==Po}function al(p){if(!Pt(p)||H(p)!=pt)return!1;var _=$i(p);if(_===null)return!0;var N=St.call(_,"constructor")&&_.constructor;return typeof N=="function"&&N instanceof N&&ut.call(N)==no}var k1=Le?ea(Le):Mh;function P1(p){return tb(p)&&p>=-nt&&p<=nt}var Od=it?ea(it):Gn;function Ql(p){return typeof p=="string"||!fs(p)&&Pt(p)&&H(p)==Ms}function cl(p){return typeof p=="symbol"||Pt(p)&&H(p)==Lc}var Dc=Et?ea(Et):Kp;function nT(p){return p===f}function nb(p){return Pt(p)&&lc(p)==Ir}function ob(p){return Pt(p)&&H(p)==Zc}var Zh=g1(_d),U_=g1(function(p,_){return p<=_});function sb(p){if(!p)return[];if(qc(p))return Ql(p)?Tc(p):rl(p);if(ts&&p[ts])return hd(p[ts]());var _=lc(p),N=_==Pn?Bu:_==Br?mu:Rd;return N(p)}function th(p){if(!p)return p===0?p:0;if(p=gr(p),p===It||p===-It){var _=p<0?-1:1;return _*jt}return p===p?p:0}function Es(p){var _=th(p),N=_%1;return _===_?N?_-N:_:0}function tp(p){return p?ei(Es(p),0,Ze):0}function gr(p){if(typeof p=="number")return p;if(cl(p))return zt;if(Gi(p)){var _=typeof p.valueOf=="function"?p.valueOf():p;p=Gi(_)?_+"":_}if(typeof p!="string")return p===0?p:+p;p=sc(p);var N=yc.test(p);return N||Fp.test(p)?No(p.slice(2),N?2:8):Fr.test(p)?zt:+p}function W_(p){return Wu(p,Jl(p))}function np(p){return p?ei(Es(p),-nt,nt):p===0?p:0}function kr(p){return p==null?"":Sl(p)}var rb=gu(function(p,_){if(ig(_)||qc(_)){Wu(_,hc(_),p);return}for(var N in _)St.call(_,N)&&Ga(p,N,_[N])}),G_=gu(function(p,_){Wu(_,Jl(_),p)}),vg=gu(function(p,_,N,Y){Wu(_,Jl(_),p,Y)}),oT=gu(function(p,_,N,Y){Wu(_,hc(_),p,Y)}),L1=ja(Lo);function q_(p,_){var N=Qd(p);return _==null?N:mr(N,_)}var j_=xs(function(p,_){p=js(p);var N=-1,Y=_.length,pe=Y>2?_[2]:f;for(pe&&Uc(_[0],_[1],pe)&&(Y=1);++N<Y;)for(var Re=_[N],He=Jl(Re),Ye=-1,gt=He.length;++Ye<gt;){var tn=He[Ye],en=p[tn];(en===f||Ds(en,We[tn])&&!St.call(p,tn))&&(p[tn]=Re[tn])}return p}),N0=xs(function(p){return p.push(f,v1),Xt(op,f,p)});function M0(p,_){return dr(p,Ro(_,3),cc)}function Z_(p,_){return dr(p,Ro(_,3),Yp)}function pf(p,_){return p==null?p:ac(p,Ro(_,3),Jl)}function ib(p,_){return p==null?p:km(p,Ro(_,3),Jl)}function Eu(p,_){return p&&cc(p,Ro(_,3))}function Ys(p,_){return p&&Yp(p,Ro(_,3))}function bg(p){return p==null?[]:Fi(p,hc(p))}function Nc(p){return p==null?[]:Fi(p,Jl(p))}function B1(p,_,N){var Y=p==null?f:Ko(p,_);return Y===f?N:Y}function Y_(p,_){return p!=null&&Vi(p,_,Ve)}function ab(p,_){return p!=null&&Vi(p,_,Ht)}var $1=af(function(p,_,N){_!=null&&typeof _.toString!="function"&&(_=Mn.call(_)),p[_]=N},ap(eu)),k0=af(function(p,_,N){_!=null&&typeof _.toString!="function"&&(_=Mn.call(_)),St.call(p,_)?p[_].push(N):p[_]=[N]},Ro),K_=xs(Ge);function hc(p){return qc(p)?bd(p):ka(p)}function Jl(p){return qc(p)?bd(p,!0):Sv(p)}function sT(p,_){var N={};return _=Ro(_,3),cc(p,function(Y,pe,Re){ns(N,_(Y,pe,Re),Y)}),N}function rT(p,_){var N={};return _=Ro(_,3),cc(p,function(Y,pe,Re){ns(N,pe,_(Y,pe,Re))}),N}var iT=gu(function(p,_,N){xc(p,_,N)}),op=gu(function(p,_,N,Y){xc(p,_,N,Y)}),P0=ja(function(p,_){var N={};if(p==null)return N;var Y=!1;_=us(_,function(Re){return Re=pr(Re,p),Y||(Y=Re.length>1),Re}),Wu(p,Ac(p),N),Y&&(N=Sc(N,X|fe|re,Gf));for(var pe=_.length;pe--;)Iv(N,_[pe]);return N});function L0(p,_){return X_(p,Ic(Ro(_)))}var sp=ja(function(p,_){return p==null?{}:Ed(p,_)});function X_(p,_){if(p==null)return{};var N=us(Ac(p),function(Y){return[Y]});return _=Ro(_),d1(p,N,function(Y,pe){return _(Y,pe[0])})}function aT(p,_,N){_=pr(_,p);var Y=-1,pe=_.length;for(pe||(pe=1,p=f);++Y<pe;){var Re=p==null?f:p[dc(_[Y])];Re===f&&(Y=pe,Re=N),p=_n(Re)?Re.call(p):Re}return p}function cT(p,_,N){return p==null?p:jl(p,_,N)}function B0(p,_,N,Y){return Y=typeof Y=="function"?Y:f,p==null?p:jl(p,_,N,Y)}var $0=$v(hc),Yh=$v(Jl);function Q_(p,_,N){var Y=fs(p),pe=Y||Ad(p)||Dc(p);if(_=Ro(_,4),N==null){var Re=p&&p.constructor;pe?N=Y?new Re:[]:Gi(p)?N=_n(Re)?Qd($i(p)):{}:N={}}return(pe?Mt:cc)(p,function(He,Ye,gt){return _(N,He,Ye,gt)}),N}function lT(p,_){return p==null?!0:Iv(p,_)}function uT(p,_,N){return p==null?p:Vc(p,_,r0(N))}function dT(p,_,N,Y){return Y=typeof Y=="function"?Y:f,p==null?p:Vc(p,_,r0(N),Y)}function Rd(p){return p==null?[]:hr(p,hc(p))}function cb(p){return p==null?[]:hr(p,Jl(p))}function rp(p,_,N){return N===f&&(N=_,_=f),N!==f&&(N=gr(N),N=N===N?N:0),_!==f&&(_=gr(_),_=_===_?_:0),ei(gr(p),_,N)}function lb(p,_,N){return _=th(_),N===f?(N=_,_=0):N=th(N),p=gr(p),Dn(p,_,N)}function J_(p,_,N){if(N&&typeof N!="boolean"&&Uc(p,_,N)&&(_=N=f),N===f&&(typeof _=="boolean"?(N=_,_=f):typeof p=="boolean"&&(N=p,p=f)),p===f&&_===f?(p=0,_=1):(p=th(p),_===f?(_=p,p=0):_=th(_)),p>_){var Y=p;p=_,_=Y}if(N||p%1||_%1){var pe=Ma();return ma(p+pe*(_-p+lo("1e-"+((pe+"").length-1))),_)}return Hf(p,_)}var gf=Fm(function(p,_,N){return _=_.toLowerCase(),p+(N?F1(_):_)});function F1(p){return V1(kr(p).toLowerCase())}function F0(p){return p=kr(p),p&&p.replace(Bl,Wp).replace(ku,"")}function Id(p,_,N){p=kr(p),_=Sl(_);var Y=p.length;N=N===f?Y:ei(Es(N),0,Y);var pe=N;return N-=_.length,N>=0&&p.slice(N,pe)==_}function Kh(p){return p=kr(p),p&&vc.test(p)?p.replace(Vo,Hl):p}function H0(p){return p=kr(p),p&&Ja.test(p)?p.replace(jn,"\\$&"):p}var eE=Fm(function(p,_,N){return p+(N?"-":"")+_.toLowerCase()}),fT=Fm(function(p,_,N){return p+(N?" ":"")+_.toLowerCase()}),hT=i0("toLowerCase");function V0(p,_,N){p=kr(p),_=Es(_);var Y=_?Ts(p):0;if(!_||Y>=_)return p;var pe=(_-Y)/2;return p1(tl(pe),N)+p+p1(zl(pe),N)}function mT(p,_,N){p=kr(p),_=Es(_);var Y=_?Ts(p):0;return _&&Y<_?p+p1(_-Y,N):p}function pT(p,_,N){p=kr(p),_=Es(_);var Y=_?Ts(p):0;return _&&Y<_?p1(_-Y,N)+p:p}function tE(p,_,N){return N||_==null?_=0:_&&(_=+_),vl(kr(p).replace(Iu,""),_||0)}function nE(p,_,N){return(N?Uc(p,_,N):_===f)?_=1:_=Es(_),Rv(kr(p),_)}function ub(){var p=arguments,_=kr(p[0]);return p.length<3?_:_.replace(p[1],p[2])}var gT=Fm(function(p,_,N){return p+(N?"_":"")+_.toLowerCase()});function vT(p,_,N){return N&&typeof N!="number"&&Uc(p,_,N)&&(_=N=f),N=N===f?Ze:N>>>0,N?(p=kr(p),p&&(typeof _=="string"||_!=null&&!k1(_))&&(_=Sl(_),!_&&Ti(p))?zc(Tc(p),0,N):p.split(_,N)):[]}var bT=Fm(function(p,_,N){return p+(N?" ":"")+V1(_)});function oE(p,_,N){return p=kr(p),N=N==null?0:ei(Es(N),0,p.length),_=Sl(_),p.slice(N,N+_.length)==_}function z0(p,_,N){var Y=be.templateSettings;N&&Uc(p,_,N)&&(_=f),p=kr(p),_=vg({},_,Y,$h);var pe=vg({},_.imports,Y.imports,$h),Re=hc(pe),He=hr(pe,Re),Ye,gt,tn=0,en=_.interpolate||Cm,gn="__p += '",$n=gd((_.escape||Cm).source+"|"+en.source+"|"+(en===Ps?bc:Cm).source+"|"+(_.evaluate||Cm).source+"|$","g"),ho="//# sourceURL="+(St.call(_,"sourceURL")?(_.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Up+"]")+`
`;p.replace($n,function(Io,$s,hs,di,fi,ti){return hs||(hs=di),gn+=p.slice(tn,ti).replace(Je,hu),$s&&(Ye=!0,gn+=`' +
__e(`+$s+`) +
'`),fi&&(gt=!0,gn+=`';
`+fi+`;
__p += '`),hs&&(gn+=`' +
((__t = (`+hs+`)) == null ? '' : __t) +
'`),tn=ti+Io.length,Io}),gn+=`';
`;var Bo=St.call(_,"variable")&&_.variable;if(!Bo)gn=`with (obj) {
`+gn+`
}
`;else if(Ha.test(Bo))throw new Eo(D);gn=(gt?gn.replace(qd,""):gn).replace(yi,"$1").replace(_h,"$1;"),gn="function("+(Bo||"obj")+`) {
`+(Bo?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Ye?", __e = _.escape":"")+(gt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+gn+`return __p
}`;var Mo=q0(function(){return zo(Re,ho+"return "+gn).apply(f,He)});if(Mo.source=gn,N1(Mo))throw Mo;return Mo}function sE(p){return kr(p).toLowerCase()}function yT(p){return kr(p).toUpperCase()}function rE(p,_,N){if(p=kr(p),p&&(N||_===f))return sc(p);if(!p||!(_=Sl(_)))return p;var Y=Tc(p),pe=Tc(_),Re=Ia(Y,pe),He=dd(Y,pe)+1;return zc(Y,Re,He).join("")}function H1(p,_,N){if(p=kr(p),p&&(N||_===f))return p.slice(0,De(p)+1);if(!p||!(_=Sl(_)))return p;var Y=Tc(p),pe=dd(Y,Tc(_))+1;return zc(Y,0,pe).join("")}function U0(p,_,N){if(p=kr(p),p&&(N||_===f))return p.replace(Iu,"");if(!p||!(_=Sl(_)))return p;var Y=Tc(p),pe=Ia(Y,Tc(_));return zc(Y,pe).join("")}function W0(p,_){var N=_t,Y=Pe;if(Gi(_)){var pe="separator"in _?_.separator:pe;N="length"in _?Es(_.length):N,Y="omission"in _?Sl(_.omission):Y}p=kr(p);var Re=p.length;if(Ti(p)){var He=Tc(p);Re=He.length}if(N>=Re)return p;var Ye=N-Ts(Y);if(Ye<1)return Y;var gt=He?zc(He,0,Ye).join(""):p.slice(0,Ye);if(pe===f)return gt+Y;if(He&&(Ye+=gt.length-Ye),k1(pe)){if(p.slice(Ye).search(pe)){var tn,en=gt;for(pe.global||(pe=gd(pe.source,kr(xa.exec(pe))+"g")),pe.lastIndex=0;tn=pe.exec(en);)var gn=tn.index;gt=gt.slice(0,gn===f?Ye:gn)}}else if(p.indexOf(Sl(pe),Ye)!=Ye){var $n=gt.lastIndexOf(pe);$n>-1&&(gt=gt.slice(0,$n))}return gt+Y}function yg(p){return p=kr(p),p&&la.test(p)?p.replace(cn,ic):p}var db=Fm(function(p,_,N){return p+(N?" ":"")+_.toUpperCase()}),V1=i0("toUpperCase");function G0(p,_,N){return p=kr(p),_=N?f:_,_===f?fd(p)?pd(p):zs(p):p.match(_)||[]}var q0=xs(function(p,_){try{return Xt(p,f,_)}catch(N){return N1(N)?N:new Eo(N)}}),iE=ja(function(p,_){return Mt(_,function(N){N=dc(N),ns(p,N,ep(p[N],p))}),p});function ip(p){var _=p==null?0:p.length,N=Ro();return p=_?us(p,function(Y){if(typeof Y[1]!="function")throw new Da(S);return[N(Y[0]),Y[1]]}):[],xs(function(Y){for(var pe=-1;++pe<_;){var Re=p[pe];if(Xt(Re[0],this,Y))return Xt(Re[1],this,Y)}})}function aE(p){return sr(Sc(p,X))}function ap(p){return function(){return p}}function _T(p,_){return p==null||p!==p?_:p}var j0=rs(),cE=rs(!0);function eu(p){return p}function Z0(p){return pu(typeof p=="function"?p:Sc(p,X))}function fb(p){return Pm(Sc(p,X))}function z1(p,_){return Uu(p,Sc(_,X))}var nh=xs(function(p,_){return function(N){return Ge(N,p,_)}}),ET=xs(function(p,_){return function(N){return Ge(p,N,_)}});function U1(p,_,N){var Y=hc(_),pe=Fi(_,Y);N==null&&!(Gi(_)&&(pe.length||!Y.length))&&(N=_,_=p,p=this,pe=Fi(_,hc(_)));var Re=!(Gi(N)&&"chain"in N)||!!N.chain,He=_n(p);return Mt(pe,function(Ye){var gt=_[Ye];p[Ye]=gt,He&&(p.prototype[Ye]=function(){var tn=this.__chain__;if(Re||tn){var en=p(this.__wrapped__),gn=en.__actions__=rl(this.__actions__);return gn.push({func:gt,args:arguments,thisArg:p}),en.__chain__=tn,en}return gt.apply(p,Xn([this.value()],arguments))})}),p}function lE(){return ua._===this&&(ua._=yo),this}function La(){}function uE(p){return p=Es(p),xs(function(_){return xv(_,p)})}var cp=ng(us),wT=ng(Yn),W1=ng(Oo);function Y0(p){return ju(p)?Ra(dc(p)):Av(p)}function _g(p){return function(_){return p==null?f:Ko(p,_)}}var lp=Zs(),G1=Zs(!0);function vf(){return[]}function K0(){return!1}function qi(){return{}}function tu(){return""}function hb(){return!0}function dE(p,_){if(p=Es(p),p<1||p>nt)return[];var N=Ze,Y=ma(p,Ze);_=Ro(_),p-=Ze;for(var pe=Wr(Y,_);++N<p;)_(N);return pe}function fE(p){return fs(p)?us(p,dc):cl(p)?[p]:rl(Zm(kr(p)))}function X0(p){var _=++Qt;return kr(p)+_}var up=cf(function(p,_){return p+_},0),q1=Bv("ceil"),dp=cf(function(p,_){return p/_},1),_x=Bv("floor");function Eg(p){return p&&p.length?Ff(p,eu,me):f}function j1(p,_){return p&&p.length?Ff(p,Ro(_,2),me):f}function fp(p){return fr(p,eu)}function Q0(p,_){return fr(p,Ro(_,2))}function wg(p){return p&&p.length?Ff(p,eu,_d):f}function Ea(p,_){return p&&p.length?Ff(p,Ro(_,2),_d):f}var J0=cf(function(p,_){return p*_},1),Dd=Bv("round"),bf=cf(function(p,_){return p-_},0);function Xh(p){return p&&p.length?mo(p,eu):0}function hp(p,_){return p&&p.length?mo(p,Ro(_,2)):0}return be.after=C0,be.ary=L_,be.assign=rb,be.assignIn=G_,be.assignInWith=vg,be.assignWith=oT,be.at=L1,be.before=Yv,be.bind=ep,be.bindAll=iE,be.bindKey=jh,be.castArray=$_,be.chain=y0,be.chunk=d0,be.compact=rr,be.concat=Ww,be.cond=ip,be.conforms=aE,be.constant=ap,be.countBy=E0,be.create=q_,be.curry=Kv,be.curryRight=A1,be.debounce=Rc,be.defaults=j_,be.defaultsDeep=N0,be.defer=O1,be.delay=S0,be.difference=__,be.differenceBy=Gw,be.differenceWith=zv,be.drop=ug,be.dropRight=Zf,be.dropRightWhile=zi,be.dropWhile=Yf,be.fill=f0,be.filter=Qm,be.flatMap=T1,be.flatMapDeep=w0,be.flatMapDepth=jv,be.flatten=_1,be.flattenDeep=vx,be.flattenDepth=E_,be.flip=R1,be.flow=j0,be.flowRight=cE,be.fromPairs=zh,be.functions=bg,be.functionsIn=Nc,be.groupBy=qh,be.initial=w_,be.intersection=bx,be.intersectionBy=Cd,be.intersectionWith=As,be.invert=$1,be.invertBy=k0,be.invokeMap=k_,be.iteratee=Z0,be.keyBy=P_,be.keys=hc,be.keysIn=Jl,be.map=C1,be.mapKeys=sT,be.mapValues=rT,be.matches=fb,be.matchesProperty=z1,be.memoize=Jf,be.merge=iT,be.mergeWith=op,be.method=nh,be.methodOf=ET,be.mixin=U1,be.negate=Ic,be.nthArg=uE,be.omit=P0,be.omitBy=L0,be.once=Jw,be.orderBy=xd,be.over=cp,be.overArgs=ba,be.overEvery=wT,be.overSome=W1,be.partial=Xv,be.partialRight=mf,be.partition=bu,be.pick=sp,be.pickBy=X_,be.property=Y0,be.propertyOf=_g,be.pull=Wc,be.pullAll=Uh,be.pullAllBy=dg,be.pullAllWith=Xf,be.pullAt=Xl,be.range=lp,be.rangeRight=G1,be.rearg=I1,be.reject=xr,be.remove=Yu,be.rest=B_,be.reverse=Wh,be.sampleSize=T0,be.set=cT,be.setWith=B0,be.shuffle=tr,be.slice=E1,be.sortBy=ra,be.sortedUniq=jw,be.sortedUniqBy=x_,be.split=vT,be.spread=x0,be.tail=A_,be.take=p0,be.takeRight=O_,be.takeRightWhile=Zw,be.takeWhile=g0,be.tap=N_,be.throttle=A0,be.thru=Ol,be.toArray=sb,be.toPairs=$0,be.toPairsIn=Yh,be.toPath=fE,be.toPlainObject=W_,be.transform=Q_,be.unary=O0,be.union=Ym,be.unionBy=v0,be.unionWith=Yw,be.uniq=Kw,be.uniqBy=R_,be.uniqWith=Sr,be.unset=lT,be.unzip=ff,be.unzipWith=Gh,be.update=uT,be.updateWith=dT,be.values=Rd,be.valuesIn=cb,be.without=I_,be.words=G0,be.wrap=R0,be.xor=Gv,be.xorBy=fc,be.xorWith=il,be.zip=Km,be.zipObject=qv,be.zipObjectDeep=b0,be.zipWith=D_,be.entries=$0,be.entriesIn=Yh,be.extend=G_,be.extendWith=vg,U1(be,be),be.add=up,be.attempt=q0,be.camelCase=gf,be.capitalize=F1,be.ceil=q1,be.clamp=rp,be.clone=eT,be.cloneDeep=Ui,be.cloneDeepWith=Gc,be.cloneWith=ya,be.conformsTo=Rl,be.deburr=F0,be.defaultTo=_T,be.divide=dp,be.endsWith=Id,be.eq=Ds,be.escape=Kh,be.escapeRegExp=H0,be.every=hg,be.find=Qw,be.findIndex=Si,be.findKey=M0,be.findLast=w1,be.findLastIndex=Uv,be.findLastKey=Z_,be.floor=_x,be.forEach=mg,be.forEachRight=Zv,be.forIn=pf,be.forInRight=ib,be.forOwn=Eu,be.forOwnRight=Ys,be.get=B1,be.gt=Pa,be.gte=Qu,be.has=Y_,be.hasIn=ab,be.head=Kf,be.identity=eu,be.includes=pg,be.indexOf=Wv,be.inRange=lb,be.invoke=K_,be.isArguments=eh,be.isArray=fs,be.isArrayBuffer=Qv,be.isArrayLike=qc,be.isArrayLikeObject=Wi,be.isBoolean=D1,be.isBuffer=Ad,be.isDate=I0,be.isElement=yx,be.isEmpty=Jv,be.isEqual=D0,be.isEqualWith=eb,be.isError=N1,be.isFinite=F_,be.isFunction=_n,be.isInteger=tb,be.isLength=M1,be.isMap=H_,be.isMatch=_a,be.isMatchWith=tT,be.isNaN=V_,be.isNative=z_,be.isNil=_u,be.isNull=yu,be.isNumber=gg,be.isObject=Gi,be.isObjectLike=Pt,be.isPlainObject=al,be.isRegExp=k1,be.isSafeInteger=P1,be.isSet=Od,be.isString=Ql,be.isSymbol=cl,be.isTypedArray=Dc,be.isUndefined=nT,be.isWeakMap=nb,be.isWeakSet=ob,be.join=T_,be.kebabCase=eE,be.last=Bs,be.lastIndexOf=sa,be.lowerCase=fT,be.lowerFirst=hT,be.lt=Zh,be.lte=U_,be.max=Eg,be.maxBy=j1,be.mean=fp,be.meanBy=Q0,be.min=wg,be.minBy=Ea,be.stubArray=vf,be.stubFalse=K0,be.stubObject=qi,be.stubString=tu,be.stubTrue=hb,be.multiply=J0,be.nth=vu,be.noConflict=lE,be.noop=La,be.now=Xu,be.pad=V0,be.padEnd=mT,be.padStart=pT,be.parseInt=tE,be.random=J_,be.reduce=S1,be.reduceRight=Xe,be.repeat=nE,be.replace=ub,be.result=aT,be.round=Dd,be.runInContext=et,be.sample=Jm,be.size=Ku,be.snakeCase=gT,be.some=x1,be.sortedIndex=h0,be.sortedIndexBy=C_,be.sortedIndexOf=S_,be.sortedLastIndex=fg,be.sortedLastIndexBy=m0,be.sortedLastIndexOf=qw,be.startCase=bT,be.startsWith=oE,be.subtract=bf,be.sum=Xh,be.sumBy=hp,be.template=z0,be.times=dE,be.toFinite=th,be.toInteger=Es,be.toLength=tp,be.toLower=sE,be.toNumber=gr,be.toSafeInteger=np,be.toString=kr,be.toUpper=yT,be.trim=rE,be.trimEnd=H1,be.trimStart=U0,be.truncate=W0,be.unescape=yg,be.uniqueId=X0,be.upperCase=db,be.upperFirst=V1,be.each=mg,be.eachRight=Zv,be.first=Kf,U1(be,function(){var p={};return cc(be,function(_,N){St.call(be.prototype,N)||(p[N]=_)}),p}(),{chain:!1}),be.VERSION=y,Mt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(p){be[p].placeholder=be}),Mt(["drop","take"],function(p,_){Us.prototype[p]=function(N){N=N===f?1:ai(Es(N),0);var Y=this.__filtered__&&!_?new Us(this):this.clone();return Y.__filtered__?Y.__takeCount__=ma(N,Y.__takeCount__):Y.__views__.push({size:ma(N,Ze),type:p+(Y.__dir__<0?"Right":"")}),Y},Us.prototype[p+"Right"]=function(N){return this.reverse()[p](N).reverse()}}),Mt(["filter","map","takeWhile"],function(p,_){var N=_+1,Y=N==Tt||N==B;Us.prototype[p]=function(pe){var Re=this.clone();return Re.__iteratees__.push({iteratee:Ro(pe,3),type:N}),Re.__filtered__=Re.__filtered__||Y,Re}}),Mt(["head","last"],function(p,_){var N="take"+(_?"Right":"");Us.prototype[p]=function(){return this[N](1).value()[0]}}),Mt(["initial","tail"],function(p,_){var N="drop"+(_?"":"Right");Us.prototype[p]=function(){return this.__filtered__?new Us(this):this[N](1)}}),Us.prototype.compact=function(){return this.filter(eu)},Us.prototype.find=function(p){return this.filter(p).head()},Us.prototype.findLast=function(p){return this.reverse().find(p)},Us.prototype.invokeMap=xs(function(p,_){return typeof p=="function"?new Us(this):this.map(function(N){return Ge(N,p,_)})}),Us.prototype.reject=function(p){return this.filter(Ic(Ro(p)))},Us.prototype.slice=function(p,_){p=Es(p);var N=this;return N.__filtered__&&(p>0||_<0)?new Us(N):(p<0?N=N.takeRight(-p):p&&(N=N.drop(p)),_!==f&&(_=Es(_),N=_<0?N.dropRight(-_):N.take(_-p)),N)},Us.prototype.takeRightWhile=function(p){return this.reverse().takeWhile(p).reverse()},Us.prototype.toArray=function(){return this.take(Ze)},cc(Us.prototype,function(p,_){var N=/^(?:filter|find|map|reject)|While$/.test(_),Y=/^(?:head|last)$/.test(_),pe=be[Y?"take"+(_=="last"?"Right":""):_],Re=Y||/^find/.test(_);pe&&(be.prototype[_]=function(){var He=this.__wrapped__,Ye=Y?[1]:arguments,gt=He instanceof Us,tn=Ye[0],en=gt||fs(He),gn=function($s){var hs=pe.apply(be,Xn([$s],Ye));return Y&&$n?hs[0]:hs};en&&N&&typeof tn=="function"&&tn.length!=1&&(gt=en=!1);var $n=this.__chain__,ho=!!this.__actions__.length,Bo=Re&&!$n,Mo=gt&&!ho;if(!Re&&en){He=Mo?He:new Us(this);var Io=p.apply(He,Ye);return Io.__actions__.push({func:Ol,args:[gn],thisArg:f}),new bl(Io,$n)}return Bo&&Mo?p.apply(this,Ye):(Io=this.thru(gn),Bo?Y?Io.value()[0]:Io.value():Io)})}),Mt(["pop","push","shift","sort","splice","unshift"],function(p){var _=xe[p],N=/^(?:push|sort|unshift)$/.test(p)?"tap":"thru",Y=/^(?:pop|shift)$/.test(p);be.prototype[p]=function(){var pe=arguments;if(Y&&!this.__chain__){var Re=this.value();return _.apply(fs(Re)?Re:[],pe)}return this[N](function(He){return _.apply(fs(He)?He:[],pe)})}}),cc(Us.prototype,function(p,_){var N=be[_];if(N){var Y=N.name+"";St.call(Wl,Y)||(Wl[Y]=[]),Wl[Y].push({name:_,func:N})}}),Wl[kn(f,ae).name]=[{name:"wrapper",func:f}],Us.prototype.clone=a1,Us.prototype.reverse=Jd,Us.prototype.value=c1,be.prototype.at=Qf,be.prototype.chain=Mr,be.prototype.commit=hf,be.prototype.next=Sd,be.prototype.plant=M_,be.prototype.reverse=_0,be.prototype.toJSON=be.prototype.valueOf=be.prototype.value=Xm,be.prototype.first=be.prototype.head,ts&&(be.prototype[ts]=Xw),be},os=s1();M?((M.exports=os)._=os,x._=os):ua._=os}).call(Dw)})(Yne,bH);const Kne=bH;var CZ={},Xne={get exports(){return CZ},set exports(a){CZ=a}};/*!
 * jQuery JavaScript Library v3.6.4
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-03-08T15:28Z
 */(function(a){(function(c,f){a.exports=c.document?f(c,!0):function(y){if(!y.document)throw new Error("jQuery requires a window with a document");return f(y)}})(typeof window<"u"?window:Dw,function(c,f){var y=[],C=Object.getPrototypeOf,w=y.slice,S=y.flat?function(x){return y.flat.call(x)}:function(x){return y.concat.apply([],x)},D=y.push,k=y.indexOf,G={},q=G.toString,X=G.hasOwnProperty,fe=X.toString,re=fe.call(Object),he={},ue=function(M){return typeof M=="function"&&typeof M.nodeType!="number"&&typeof M.item!="function"},ce=function(M){return M!=null&&M===M.window},ae=c.document,ge={type:!0,src:!0,nonce:!0,noModule:!0};function Q(x,M,U){U=U||ae;var j,te,de=U.createElement("script");if(de.text=x,M)for(j in ge)te=M[j]||M.getAttribute&&M.getAttribute(j),te&&de.setAttribute(j,te);U.head.appendChild(de).parentNode.removeChild(de)}function Ne(x){return x==null?x+"":typeof x=="object"||typeof x=="function"?G[q.call(x)]||"object":typeof x}var qe="3.6.4",z=function(x,M){return new z.fn.init(x,M)};z.fn=z.prototype={jquery:qe,constructor:z,length:0,toArray:function(){return w.call(this)},get:function(x){return x==null?w.call(this):x<0?this[x+this.length]:this[x]},pushStack:function(x){var M=z.merge(this.constructor(),x);return M.prevObject=this,M},each:function(x){return z.each(this,x)},map:function(x){return this.pushStack(z.map(this,function(M,U){return x.call(M,U,M)}))},slice:function(){return this.pushStack(w.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(z.grep(this,function(x,M){return(M+1)%2}))},odd:function(){return this.pushStack(z.grep(this,function(x,M){return M%2}))},eq:function(x){var M=this.length,U=+x+(x<0?M:0);return this.pushStack(U>=0&&U<M?[this[U]]:[])},end:function(){return this.prevObject||this.constructor()},push:D,sort:y.sort,splice:y.splice},z.extend=z.fn.extend=function(){var x,M,U,j,te,de,_e=arguments[0]||{},Te=1,Le=arguments.length,it=!1;for(typeof _e=="boolean"&&(it=_e,_e=arguments[Te]||{},Te++),typeof _e!="object"&&!ue(_e)&&(_e={}),Te===Le&&(_e=this,Te--);Te<Le;Te++)if((x=arguments[Te])!=null)for(M in x)j=x[M],!(M==="__proto__"||_e===j)&&(it&&j&&(z.isPlainObject(j)||(te=Array.isArray(j)))?(U=_e[M],te&&!Array.isArray(U)?de=[]:!te&&!z.isPlainObject(U)?de={}:de=U,te=!1,_e[M]=z.extend(it,de,j)):j!==void 0&&(_e[M]=j));return _e},z.extend({expando:"jQuery"+(qe+Math.random()).replace(/\D/g,""),isReady:!0,error:function(x){throw new Error(x)},noop:function(){},isPlainObject:function(x){var M,U;return!x||q.call(x)!=="[object Object]"?!1:(M=C(x),M?(U=X.call(M,"constructor")&&M.constructor,typeof U=="function"&&fe.call(U)===re):!0)},isEmptyObject:function(x){var M;for(M in x)return!1;return!0},globalEval:function(x,M,U){Q(x,{nonce:M&&M.nonce},U)},each:function(x,M){var U,j=0;if(we(x))for(U=x.length;j<U&&M.call(x[j],j,x[j])!==!1;j++);else for(j in x)if(M.call(x[j],j,x[j])===!1)break;return x},makeArray:function(x,M){var U=M||[];return x!=null&&(we(Object(x))?z.merge(U,typeof x=="string"?[x]:x):D.call(U,x)),U},inArray:function(x,M,U){return M==null?-1:k.call(M,x,U)},merge:function(x,M){for(var U=+M.length,j=0,te=x.length;j<U;j++)x[te++]=M[j];return x.length=te,x},grep:function(x,M,U){for(var j,te=[],de=0,_e=x.length,Te=!U;de<_e;de++)j=!M(x[de],de),j!==Te&&te.push(x[de]);return te},map:function(x,M,U){var j,te,de=0,_e=[];if(we(x))for(j=x.length;de<j;de++)te=M(x[de],de,U),te!=null&&_e.push(te);else for(de in x)te=M(x[de],de,U),te!=null&&_e.push(te);return S(_e)},guid:1,support:he}),typeof Symbol=="function"&&(z.fn[Symbol.iterator]=y[Symbol.iterator]),z.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(x,M){G["[object "+M+"]"]=M.toLowerCase()});function we(x){var M=!!x&&"length"in x&&x.length,U=Ne(x);return ue(x)||ce(x)?!1:U==="array"||M===0||typeof M=="number"&&M>0&&M-1 in x}var je=function(x){var M,U,j,te,de,_e,Te,Le,it,Et,Xt,rt,Mt,eo,Yn,Cn,ur,qs,us,Xn="sizzle"+1*new Date,to=x.document,Pi=0,Oo=0,Er=Tc(),Fl=Tc(),zs=Tc(),dr=Tc(),Dr=function(xe,Be){return xe===Be&&(Xt=!0),0},Fc={}.hasOwnProperty,wi=[],as=wi.pop,fr=wi.push,Ra=wi.push,Pf=wi.slice,Hc=function(xe,Be){for(var We=0,Vt=xe.length;We<Vt;We++)if(xe[We]===Be)return We;return-1},wc="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",mo="[\\x20\\t\\r\\n\\f]",Wr="(?:\\\\[\\da-fA-F]{1,6}"+mo+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Li="\\["+mo+"*("+Wr+")(?:"+mo+"*([*^$|!~]?=)"+mo+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Wr+"))|)"+mo+"*\\]",sc=":("+Wr+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Li+")*)|.*)\\)|)",ea=new RegExp(mo+"+","g"),hr=new RegExp("^"+mo+"+|((?:^|[^\\\\])(?:\\\\.)*)"+mo+"+$","g"),Va=new RegExp("^"+mo+"*,"+mo+"*"),Ia=new RegExp("^"+mo+"*([>+~]|"+mo+")"+mo+"*"),dd=new RegExp(mo+"|>"),xh=new RegExp(sc),Wp=new RegExp("^"+Wr+"$"),Hl={ID:new RegExp("^#("+Wr+")"),CLASS:new RegExp("^\\.("+Wr+")"),TAG:new RegExp("^("+Wr+"|[*])"),ATTR:new RegExp("^"+Li),PSEUDO:new RegExp("^"+sc),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+mo+"*(even|odd|(([+-]|)(\\d*)n|)"+mo+"*(?:([+-]|)"+mo+"*(\\d+)|))"+mo+"*\\)|)","i"),bool:new RegExp("^(?:"+wc+")$","i"),needsContext:new RegExp("^"+mo+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+mo+"*((?:-\\d)?\\d*)"+mo+"*\\)|)(?=[^-]|$)","i")},hu=/HTML$/i,Yd=/^(?:input|select|textarea|button)$/i,Ti=/^h\d$/i,fd=/^[^{]+\{\s*\[native \w/,hd=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Bu=/[+~]/,rc=new RegExp("\\\\[\\da-fA-F]{1,6}"+mo+"?|\\\\([^\\r\\n\\f])","g"),da=function(xe,Be){var We="0x"+xe.slice(1)-65536;return Be||(We<0?String.fromCharCode(We+65536):String.fromCharCode(We>>10|55296,We&1023|56320))},mu=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,md=function(xe,Be){return Be?xe==="\0"?"�":xe.slice(0,-1)+"\\"+xe.charCodeAt(xe.length-1).toString(16)+" ":"\\"+xe},Ah=function(){rt()},Oh=Eo(function(xe){return xe.disabled===!0&&xe.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{Ra.apply(wi=Pf.call(to.childNodes),to.childNodes),wi[to.childNodes.length].nodeType}catch{Ra={apply:wi.length?function(Be,We){fr.apply(Be,Pf.call(We))}:function(Be,We){for(var Vt=Be.length,ut=0;Be[Vt++]=We[ut++];);Be.length=Vt-1}}}function Ts(xe,Be,We,Vt){var ut,St,Qt,An,Mn,no,yo,ro=Be&&Be.ownerDocument,Yo=Be?Be.nodeType:9;if(We=We||[],typeof xe!="string"||!xe||Yo!==1&&Yo!==9&&Yo!==11)return We;if(!Vt&&(rt(Be),Be=Be||Mt,Yn)){if(Yo!==11&&(Mn=hd.exec(xe)))if(ut=Mn[1]){if(Yo===9)if(Qt=Be.getElementById(ut)){if(Qt.id===ut)return We.push(Qt),We}else return We;else if(ro&&(Qt=ro.getElementById(ut))&&us(Be,Qt)&&Qt.id===ut)return We.push(Qt),We}else{if(Mn[2])return Ra.apply(We,Be.getElementsByTagName(xe)),We;if((ut=Mn[3])&&U.getElementsByClassName&&Be.getElementsByClassName)return Ra.apply(We,Be.getElementsByClassName(ut)),We}if(U.qsa&&!dr[xe+" "]&&(!Cn||!Cn.test(xe))&&(Yo!==1||Be.nodeName.toLowerCase()!=="object")){if(yo=xe,ro=Be,Yo===1&&(dd.test(xe)||Ia.test(xe))){for(ro=Bu.test(xe)&&kt(Be.parentNode)||Be,(ro!==Be||!U.scope)&&((An=Be.getAttribute("id"))?An=An.replace(mu,md):Be.setAttribute("id",An=Xn)),no=_e(xe),St=no.length;St--;)no[St]=(An?"#"+An:":scope")+" "+Un(no[St]);yo=no.join(",")}try{return Ra.apply(We,ro.querySelectorAll(yo)),We}catch{dr(xe,!0)}finally{An===Xn&&Be.removeAttribute("id")}}}return Le(xe.replace(hr,"$1"),Be,We,Vt)}function Tc(){var xe=[];function Be(We,Vt){return xe.push(We+" ")>j.cacheLength&&delete Be[xe.shift()],Be[We+" "]=Vt}return Be}function De(xe){return xe[Xn]=!0,xe}function ic(xe){var Be=Mt.createElement("fieldset");try{return!!xe(Be)}catch{return!1}finally{Be.parentNode&&Be.parentNode.removeChild(Be),Be=null}}function fa(xe,Be){for(var We=xe.split("|"),Vt=We.length;Vt--;)j.attrHandle[We[Vt]]=Be}function Rh(xe,Be){var We=Be&&xe,Vt=We&&xe.nodeType===1&&Be.nodeType===1&&xe.sourceIndex-Be.sourceIndex;if(Vt)return Vt;if(We){for(;We=We.nextSibling;)if(We===Be)return-1}return xe?1:-1}function pd(xe){return function(Be){var We=Be.nodeName.toLowerCase();return We==="input"&&Be.type===xe}}function s1(xe){return function(Be){var We=Be.nodeName.toLowerCase();return(We==="input"||We==="button")&&Be.type===xe}}function os(xe){return function(Be){return"form"in Be?Be.parentNode&&Be.disabled===!1?"label"in Be?"label"in Be.parentNode?Be.parentNode.disabled===xe:Be.disabled===xe:Be.isDisabled===xe||Be.isDisabled!==!xe&&Oh(Be)===xe:Be.disabled===xe:"label"in Be?Be.disabled===xe:!1}}function et(xe){return De(function(Be){return Be=+Be,De(function(We,Vt){for(var ut,St=xe([],We.length,Be),Qt=St.length;Qt--;)We[ut=St[Qt]]&&(We[ut]=!(Vt[ut]=We[ut]))})})}function kt(xe){return xe&&typeof xe.getElementsByTagName<"u"&&xe}U=Ts.support={},de=Ts.isXML=function(xe){var Be=xe&&xe.namespaceURI,We=xe&&(xe.ownerDocument||xe).documentElement;return!hu.test(Be||We&&We.nodeName||"HTML")},rt=Ts.setDocument=function(xe){var Be,We,Vt=xe?xe.ownerDocument||xe:to;return Vt==Mt||Vt.nodeType!==9||!Vt.documentElement||(Mt=Vt,eo=Mt.documentElement,Yn=!de(Mt),to!=Mt&&(We=Mt.defaultView)&&We.top!==We&&(We.addEventListener?We.addEventListener("unload",Ah,!1):We.attachEvent&&We.attachEvent("onunload",Ah)),U.scope=ic(function(ut){return eo.appendChild(ut).appendChild(Mt.createElement("div")),typeof ut.querySelectorAll<"u"&&!ut.querySelectorAll(":scope fieldset div").length}),U.cssHas=ic(function(){try{return Mt.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),U.attributes=ic(function(ut){return ut.className="i",!ut.getAttribute("className")}),U.getElementsByTagName=ic(function(ut){return ut.appendChild(Mt.createComment("")),!ut.getElementsByTagName("*").length}),U.getElementsByClassName=fd.test(Mt.getElementsByClassName),U.getById=ic(function(ut){return eo.appendChild(ut).id=Xn,!Mt.getElementsByName||!Mt.getElementsByName(Xn).length}),U.getById?(j.filter.ID=function(ut){var St=ut.replace(rc,da);return function(Qt){return Qt.getAttribute("id")===St}},j.find.ID=function(ut,St){if(typeof St.getElementById<"u"&&Yn){var Qt=St.getElementById(ut);return Qt?[Qt]:[]}}):(j.filter.ID=function(ut){var St=ut.replace(rc,da);return function(Qt){var An=typeof Qt.getAttributeNode<"u"&&Qt.getAttributeNode("id");return An&&An.value===St}},j.find.ID=function(ut,St){if(typeof St.getElementById<"u"&&Yn){var Qt,An,Mn,no=St.getElementById(ut);if(no){if(Qt=no.getAttributeNode("id"),Qt&&Qt.value===ut)return[no];for(Mn=St.getElementsByName(ut),An=0;no=Mn[An++];)if(Qt=no.getAttributeNode("id"),Qt&&Qt.value===ut)return[no]}return[]}}),j.find.TAG=U.getElementsByTagName?function(ut,St){if(typeof St.getElementsByTagName<"u")return St.getElementsByTagName(ut);if(U.qsa)return St.querySelectorAll(ut)}:function(ut,St){var Qt,An=[],Mn=0,no=St.getElementsByTagName(ut);if(ut==="*"){for(;Qt=no[Mn++];)Qt.nodeType===1&&An.push(Qt);return An}return no},j.find.CLASS=U.getElementsByClassName&&function(ut,St){if(typeof St.getElementsByClassName<"u"&&Yn)return St.getElementsByClassName(ut)},ur=[],Cn=[],(U.qsa=fd.test(Mt.querySelectorAll))&&(ic(function(ut){var St;eo.appendChild(ut).innerHTML="<a id='"+Xn+"'></a><select id='"+Xn+"-\r\\' msallowcapture=''><option selected=''></option></select>",ut.querySelectorAll("[msallowcapture^='']").length&&Cn.push("[*^$]="+mo+`*(?:''|"")`),ut.querySelectorAll("[selected]").length||Cn.push("\\["+mo+"*(?:value|"+wc+")"),ut.querySelectorAll("[id~="+Xn+"-]").length||Cn.push("~="),St=Mt.createElement("input"),St.setAttribute("name",""),ut.appendChild(St),ut.querySelectorAll("[name='']").length||Cn.push("\\["+mo+"*name"+mo+"*="+mo+`*(?:''|"")`),ut.querySelectorAll(":checked").length||Cn.push(":checked"),ut.querySelectorAll("a#"+Xn+"+*").length||Cn.push(".#.+[+~]"),ut.querySelectorAll("\\\f"),Cn.push("[\\r\\n\\f]")}),ic(function(ut){ut.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var St=Mt.createElement("input");St.setAttribute("type","hidden"),ut.appendChild(St).setAttribute("name","D"),ut.querySelectorAll("[name=d]").length&&Cn.push("name"+mo+"*[*^$|!~]?="),ut.querySelectorAll(":enabled").length!==2&&Cn.push(":enabled",":disabled"),eo.appendChild(ut).disabled=!0,ut.querySelectorAll(":disabled").length!==2&&Cn.push(":enabled",":disabled"),ut.querySelectorAll("*,:x"),Cn.push(",.*:")})),(U.matchesSelector=fd.test(qs=eo.matches||eo.webkitMatchesSelector||eo.mozMatchesSelector||eo.oMatchesSelector||eo.msMatchesSelector))&&ic(function(ut){U.disconnectedMatch=qs.call(ut,"*"),qs.call(ut,"[s!='']:x"),ur.push("!=",sc)}),U.cssHas||Cn.push(":has"),Cn=Cn.length&&new RegExp(Cn.join("|")),ur=ur.length&&new RegExp(ur.join("|")),Be=fd.test(eo.compareDocumentPosition),us=Be||fd.test(eo.contains)?function(ut,St){var Qt=ut.nodeType===9&&ut.documentElement||ut,An=St&&St.parentNode;return ut===An||!!(An&&An.nodeType===1&&(Qt.contains?Qt.contains(An):ut.compareDocumentPosition&&ut.compareDocumentPosition(An)&16))}:function(ut,St){if(St){for(;St=St.parentNode;)if(St===ut)return!0}return!1},Dr=Be?function(ut,St){if(ut===St)return Xt=!0,0;var Qt=!ut.compareDocumentPosition-!St.compareDocumentPosition;return Qt||(Qt=(ut.ownerDocument||ut)==(St.ownerDocument||St)?ut.compareDocumentPosition(St):1,Qt&1||!U.sortDetached&&St.compareDocumentPosition(ut)===Qt?ut==Mt||ut.ownerDocument==to&&us(to,ut)?-1:St==Mt||St.ownerDocument==to&&us(to,St)?1:Et?Hc(Et,ut)-Hc(Et,St):0:Qt&4?-1:1)}:function(ut,St){if(ut===St)return Xt=!0,0;var Qt,An=0,Mn=ut.parentNode,no=St.parentNode,yo=[ut],ro=[St];if(!Mn||!no)return ut==Mt?-1:St==Mt?1:Mn?-1:no?1:Et?Hc(Et,ut)-Hc(Et,St):0;if(Mn===no)return Rh(ut,St);for(Qt=ut;Qt=Qt.parentNode;)yo.unshift(Qt);for(Qt=St;Qt=Qt.parentNode;)ro.unshift(Qt);for(;yo[An]===ro[An];)An++;return An?Rh(yo[An],ro[An]):yo[An]==to?-1:ro[An]==to?1:0}),Mt},Ts.matches=function(xe,Be){return Ts(xe,null,null,Be)},Ts.matchesSelector=function(xe,Be){if(rt(xe),U.matchesSelector&&Yn&&!dr[Be+" "]&&(!ur||!ur.test(Be))&&(!Cn||!Cn.test(Be)))try{var We=qs.call(xe,Be);if(We||U.disconnectedMatch||xe.document&&xe.document.nodeType!==11)return We}catch{dr(Be,!0)}return Ts(Be,Mt,null,[xe]).length>0},Ts.contains=function(xe,Be){return(xe.ownerDocument||xe)!=Mt&&rt(xe),us(xe,Be)},Ts.attr=function(xe,Be){(xe.ownerDocument||xe)!=Mt&&rt(xe);var We=j.attrHandle[Be.toLowerCase()],Vt=We&&Fc.call(j.attrHandle,Be.toLowerCase())?We(xe,Be,!Yn):void 0;return Vt!==void 0?Vt:U.attributes||!Yn?xe.getAttribute(Be):(Vt=xe.getAttributeNode(Be))&&Vt.specified?Vt.value:null},Ts.escape=function(xe){return(xe+"").replace(mu,md)},Ts.error=function(xe){throw new Error("Syntax error, unrecognized expression: "+xe)},Ts.uniqueSort=function(xe){var Be,We=[],Vt=0,ut=0;if(Xt=!U.detectDuplicates,Et=!U.sortStable&&xe.slice(0),xe.sort(Dr),Xt){for(;Be=xe[ut++];)Be===xe[ut]&&(Vt=We.push(ut));for(;Vt--;)xe.splice(We[Vt],1)}return Et=null,xe},te=Ts.getText=function(xe){var Be,We="",Vt=0,ut=xe.nodeType;if(ut){if(ut===1||ut===9||ut===11){if(typeof xe.textContent=="string")return xe.textContent;for(xe=xe.firstChild;xe;xe=xe.nextSibling)We+=te(xe)}else if(ut===3||ut===4)return xe.nodeValue}else for(;Be=xe[Vt++];)We+=te(Be);return We},j=Ts.selectors={cacheLength:50,createPseudo:De,match:Hl,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(xe){return xe[1]=xe[1].replace(rc,da),xe[3]=(xe[3]||xe[4]||xe[5]||"").replace(rc,da),xe[2]==="~="&&(xe[3]=" "+xe[3]+" "),xe.slice(0,4)},CHILD:function(xe){return xe[1]=xe[1].toLowerCase(),xe[1].slice(0,3)==="nth"?(xe[3]||Ts.error(xe[0]),xe[4]=+(xe[4]?xe[5]+(xe[6]||1):2*(xe[3]==="even"||xe[3]==="odd")),xe[5]=+(xe[7]+xe[8]||xe[3]==="odd")):xe[3]&&Ts.error(xe[0]),xe},PSEUDO:function(xe){var Be,We=!xe[6]&&xe[2];return Hl.CHILD.test(xe[0])?null:(xe[3]?xe[2]=xe[4]||xe[5]||"":We&&xh.test(We)&&(Be=_e(We,!0))&&(Be=We.indexOf(")",We.length-Be)-We.length)&&(xe[0]=xe[0].slice(0,Be),xe[2]=We.slice(0,Be)),xe.slice(0,3))}},filter:{TAG:function(xe){var Be=xe.replace(rc,da).toLowerCase();return xe==="*"?function(){return!0}:function(We){return We.nodeName&&We.nodeName.toLowerCase()===Be}},CLASS:function(xe){var Be=Er[xe+" "];return Be||(Be=new RegExp("(^|"+mo+")"+xe+"("+mo+"|$)"))&&Er(xe,function(We){return Be.test(typeof We.className=="string"&&We.className||typeof We.getAttribute<"u"&&We.getAttribute("class")||"")})},ATTR:function(xe,Be,We){return function(Vt){var ut=Ts.attr(Vt,xe);return ut==null?Be==="!=":Be?(ut+="",Be==="="?ut===We:Be==="!="?ut!==We:Be==="^="?We&&ut.indexOf(We)===0:Be==="*="?We&&ut.indexOf(We)>-1:Be==="$="?We&&ut.slice(-We.length)===We:Be==="~="?(" "+ut.replace(ea," ")+" ").indexOf(We)>-1:Be==="|="?ut===We||ut.slice(0,We.length+1)===We+"-":!1):!0}},CHILD:function(xe,Be,We,Vt,ut){var St=xe.slice(0,3)!=="nth",Qt=xe.slice(-4)!=="last",An=Be==="of-type";return Vt===1&&ut===0?function(Mn){return!!Mn.parentNode}:function(Mn,no,yo){var ro,Yo,Is,Co,Bi,$i,za=St!==Qt?"nextSibling":"previousSibling",Js=Mn.parentNode,Vl=An&&Mn.nodeName.toLowerCase(),Ls=!yo&&!An,ts=!1;if(Js){if(St){for(;za;){for(Co=Mn;Co=Co[za];)if(An?Co.nodeName.toLowerCase()===Vl:Co.nodeType===1)return!1;$i=za=xe==="only"&&!$i&&"nextSibling"}return!0}if($i=[Qt?Js.firstChild:Js.lastChild],Qt&&Ls){for(Co=Js,Is=Co[Xn]||(Co[Xn]={}),Yo=Is[Co.uniqueID]||(Is[Co.uniqueID]={}),ro=Yo[xe]||[],Bi=ro[0]===Pi&&ro[1],ts=Bi&&ro[2],Co=Bi&&Js.childNodes[Bi];Co=++Bi&&Co&&Co[za]||(ts=Bi=0)||$i.pop();)if(Co.nodeType===1&&++ts&&Co===Mn){Yo[xe]=[Pi,Bi,ts];break}}else if(Ls&&(Co=Mn,Is=Co[Xn]||(Co[Xn]={}),Yo=Is[Co.uniqueID]||(Is[Co.uniqueID]={}),ro=Yo[xe]||[],Bi=ro[0]===Pi&&ro[1],ts=Bi),ts===!1)for(;(Co=++Bi&&Co&&Co[za]||(ts=Bi=0)||$i.pop())&&!((An?Co.nodeName.toLowerCase()===Vl:Co.nodeType===1)&&++ts&&(Ls&&(Is=Co[Xn]||(Co[Xn]={}),Yo=Is[Co.uniqueID]||(Is[Co.uniqueID]={}),Yo[xe]=[Pi,ts]),Co===Mn)););return ts-=ut,ts===Vt||ts%Vt===0&&ts/Vt>=0}}},PSEUDO:function(xe,Be){var We,Vt=j.pseudos[xe]||j.setFilters[xe.toLowerCase()]||Ts.error("unsupported pseudo: "+xe);return Vt[Xn]?Vt(Be):Vt.length>1?(We=[xe,xe,"",Be],j.setFilters.hasOwnProperty(xe.toLowerCase())?De(function(ut,St){for(var Qt,An=Vt(ut,Be),Mn=An.length;Mn--;)Qt=Hc(ut,An[Mn]),ut[Qt]=!(St[Qt]=An[Mn])}):function(ut){return Vt(ut,0,We)}):Vt}},pseudos:{not:De(function(xe){var Be=[],We=[],Vt=Te(xe.replace(hr,"$1"));return Vt[Xn]?De(function(ut,St,Qt,An){for(var Mn,no=Vt(ut,null,An,[]),yo=ut.length;yo--;)(Mn=no[yo])&&(ut[yo]=!(St[yo]=Mn))}):function(ut,St,Qt){return Be[0]=ut,Vt(Be,null,Qt,We),Be[0]=null,!We.pop()}}),has:De(function(xe){return function(Be){return Ts(xe,Be).length>0}}),contains:De(function(xe){return xe=xe.replace(rc,da),function(Be){return(Be.textContent||te(Be)).indexOf(xe)>-1}}),lang:De(function(xe){return Wp.test(xe||"")||Ts.error("unsupported lang: "+xe),xe=xe.replace(rc,da).toLowerCase(),function(Be){var We;do if(We=Yn?Be.lang:Be.getAttribute("xml:lang")||Be.getAttribute("lang"))return We=We.toLowerCase(),We===xe||We.indexOf(xe+"-")===0;while((Be=Be.parentNode)&&Be.nodeType===1);return!1}}),target:function(xe){var Be=x.location&&x.location.hash;return Be&&Be.slice(1)===xe.id},root:function(xe){return xe===eo},focus:function(xe){return xe===Mt.activeElement&&(!Mt.hasFocus||Mt.hasFocus())&&!!(xe.type||xe.href||~xe.tabIndex)},enabled:os(!1),disabled:os(!0),checked:function(xe){var Be=xe.nodeName.toLowerCase();return Be==="input"&&!!xe.checked||Be==="option"&&!!xe.selected},selected:function(xe){return xe.parentNode&&xe.parentNode.selectedIndex,xe.selected===!0},empty:function(xe){for(xe=xe.firstChild;xe;xe=xe.nextSibling)if(xe.nodeType<6)return!1;return!0},parent:function(xe){return!j.pseudos.empty(xe)},header:function(xe){return Ti.test(xe.nodeName)},input:function(xe){return Yd.test(xe.nodeName)},button:function(xe){var Be=xe.nodeName.toLowerCase();return Be==="input"&&xe.type==="button"||Be==="button"},text:function(xe){var Be;return xe.nodeName.toLowerCase()==="input"&&xe.type==="text"&&((Be=xe.getAttribute("type"))==null||Be.toLowerCase()==="text")},first:et(function(){return[0]}),last:et(function(xe,Be){return[Be-1]}),eq:et(function(xe,Be,We){return[We<0?We+Be:We]}),even:et(function(xe,Be){for(var We=0;We<Be;We+=2)xe.push(We);return xe}),odd:et(function(xe,Be){for(var We=1;We<Be;We+=2)xe.push(We);return xe}),lt:et(function(xe,Be,We){for(var Vt=We<0?We+Be:We>Be?Be:We;--Vt>=0;)xe.push(Vt);return xe}),gt:et(function(xe,Be,We){for(var Vt=We<0?We+Be:We;++Vt<Be;)xe.push(Vt);return xe})}},j.pseudos.nth=j.pseudos.eq;for(M in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})j.pseudos[M]=pd(M);for(M in{submit:!0,reset:!0})j.pseudos[M]=s1(M);function Ot(){}Ot.prototype=j.filters=j.pseudos,j.setFilters=new Ot,_e=Ts.tokenize=function(xe,Be){var We,Vt,ut,St,Qt,An,Mn,no=Fl[xe+" "];if(no)return Be?0:no.slice(0);for(Qt=xe,An=[],Mn=j.preFilter;Qt;){(!We||(Vt=Va.exec(Qt)))&&(Vt&&(Qt=Qt.slice(Vt[0].length)||Qt),An.push(ut=[])),We=!1,(Vt=Ia.exec(Qt))&&(We=Vt.shift(),ut.push({value:We,type:Vt[0].replace(hr," ")}),Qt=Qt.slice(We.length));for(St in j.filter)(Vt=Hl[St].exec(Qt))&&(!Mn[St]||(Vt=Mn[St](Vt)))&&(We=Vt.shift(),ut.push({value:We,type:St,matches:Vt}),Qt=Qt.slice(We.length));if(!We)break}return Be?Qt.length:Qt?Ts.error(xe):Fl(xe,An).slice(0)};function Un(xe){for(var Be=0,We=xe.length,Vt="";Be<We;Be++)Vt+=xe[Be].value;return Vt}function Eo(xe,Be,We){var Vt=Be.dir,ut=Be.next,St=ut||Vt,Qt=We&&St==="parentNode",An=Oo++;return Be.first?function(Mn,no,yo){for(;Mn=Mn[Vt];)if(Mn.nodeType===1||Qt)return xe(Mn,no,yo);return!1}:function(Mn,no,yo){var ro,Yo,Is,Co=[Pi,An];if(yo){for(;Mn=Mn[Vt];)if((Mn.nodeType===1||Qt)&&xe(Mn,no,yo))return!0}else for(;Mn=Mn[Vt];)if(Mn.nodeType===1||Qt)if(Is=Mn[Xn]||(Mn[Xn]={}),Yo=Is[Mn.uniqueID]||(Is[Mn.uniqueID]={}),ut&&ut===Mn.nodeName.toLowerCase())Mn=Mn[Vt]||Mn;else{if((ro=Yo[St])&&ro[0]===Pi&&ro[1]===An)return Co[2]=ro[2];if(Yo[St]=Co,Co[2]=xe(Mn,no,yo))return!0}return!1}}function zo(xe){return xe.length>1?function(Be,We,Vt){for(var ut=xe.length;ut--;)if(!xe[ut](Be,We,Vt))return!1;return!0}:xe[0]}function Qr(xe,Be,We){for(var Vt=0,ut=Be.length;Vt<ut;Vt++)Ts(xe,Be[Vt],We);return We}function js(xe,Be,We,Vt,ut){for(var St,Qt=[],An=0,Mn=xe.length,no=Be!=null;An<Mn;An++)(St=xe[An])&&(!We||We(St,Vt,ut))&&(Qt.push(St),no&&Be.push(An));return Qt}function gd(xe,Be,We,Vt,ut,St){return Vt&&!Vt[Xn]&&(Vt=gd(Vt)),ut&&!ut[Xn]&&(ut=gd(ut,St)),De(function(Qt,An,Mn,no){var yo,ro,Yo,Is=[],Co=[],Bi=An.length,$i=Qt||Qr(Be||"*",Mn.nodeType?[Mn]:Mn,[]),za=xe&&(Qt||!Be)?js($i,Is,xe,Mn,no):$i,Js=We?ut||(Qt?xe:Bi||Vt)?[]:An:za;if(We&&We(za,Js,Mn,no),Vt)for(yo=js(Js,Co),Vt(yo,[],Mn,no),ro=yo.length;ro--;)(Yo=yo[ro])&&(Js[Co[ro]]=!(za[Co[ro]]=Yo));if(Qt){if(ut||xe){if(ut){for(yo=[],ro=Js.length;ro--;)(Yo=Js[ro])&&yo.push(za[ro]=Yo);ut(null,Js=[],yo,no)}for(ro=Js.length;ro--;)(Yo=Js[ro])&&(yo=ut?Hc(Qt,Yo):Is[ro])>-1&&(Qt[yo]=!(An[yo]=Yo))}}else Js=js(Js===An?Js.splice(Bi,Js.length):Js),ut?ut(null,An,Js,no):Ra.apply(An,Js)})}function Cc(xe){for(var Be,We,Vt,ut=xe.length,St=j.relative[xe[0].type],Qt=St||j.relative[" "],An=St?1:0,Mn=Eo(function(ro){return ro===Be},Qt,!0),no=Eo(function(ro){return Hc(Be,ro)>-1},Qt,!0),yo=[function(ro,Yo,Is){var Co=!St&&(Is||Yo!==it)||((Be=Yo).nodeType?Mn(ro,Yo,Is):no(ro,Yo,Is));return Be=null,Co}];An<ut;An++)if(We=j.relative[xe[An].type])yo=[Eo(zo(yo),We)];else{if(We=j.filter[xe[An].type].apply(null,xe[An].matches),We[Xn]){for(Vt=++An;Vt<ut&&!j.relative[xe[Vt].type];Vt++);return gd(An>1&&zo(yo),An>1&&Un(xe.slice(0,An-1).concat({value:xe[An-2].type===" "?"*":""})).replace(hr,"$1"),We,An<Vt&&Cc(xe.slice(An,Vt)),Vt<ut&&Cc(xe=xe.slice(Vt)),Vt<ut&&Un(xe))}yo.push(We)}return zo(yo)}function Da(xe,Be){var We=Be.length>0,Vt=xe.length>0,ut=function(St,Qt,An,Mn,no){var yo,ro,Yo,Is=0,Co="0",Bi=St&&[],$i=[],za=it,Js=St||Vt&&j.find.TAG("*",no),Vl=Pi+=za==null?1:Math.random()||.1,Ls=Js.length;for(no&&(it=Qt==Mt||Qt||no);Co!==Ls&&(yo=Js[Co])!=null;Co++){if(Vt&&yo){for(ro=0,!Qt&&yo.ownerDocument!=Mt&&(rt(yo),An=!Yn);Yo=xe[ro++];)if(Yo(yo,Qt||Mt,An)){Mn.push(yo);break}no&&(Pi=Vl)}We&&((yo=!Yo&&yo)&&Is--,St&&Bi.push(yo))}if(Is+=Co,We&&Co!==Is){for(ro=0;Yo=Be[ro++];)Yo(Bi,$i,Qt,An);if(St){if(Is>0)for(;Co--;)Bi[Co]||$i[Co]||($i[Co]=as.call(Mn));$i=js($i)}Ra.apply(Mn,$i),no&&!St&&$i.length>0&&Is+Be.length>1&&Ts.uniqueSort(Mn)}return no&&(Pi=Vl,it=za),Bi};return We?De(ut):ut}return Te=Ts.compile=function(xe,Be){var We,Vt=[],ut=[],St=zs[xe+" "];if(!St){for(Be||(Be=_e(xe)),We=Be.length;We--;)St=Cc(Be[We]),St[Xn]?Vt.push(St):ut.push(St);St=zs(xe,Da(ut,Vt)),St.selector=xe}return St},Le=Ts.select=function(xe,Be,We,Vt){var ut,St,Qt,An,Mn,no=typeof xe=="function"&&xe,yo=!Vt&&_e(xe=no.selector||xe);if(We=We||[],yo.length===1){if(St=yo[0]=yo[0].slice(0),St.length>2&&(Qt=St[0]).type==="ID"&&Be.nodeType===9&&Yn&&j.relative[St[1].type]){if(Be=(j.find.ID(Qt.matches[0].replace(rc,da),Be)||[])[0],Be)no&&(Be=Be.parentNode);else return We;xe=xe.slice(St.shift().value.length)}for(ut=Hl.needsContext.test(xe)?0:St.length;ut--&&(Qt=St[ut],!j.relative[An=Qt.type]);)if((Mn=j.find[An])&&(Vt=Mn(Qt.matches[0].replace(rc,da),Bu.test(St[0].type)&&kt(Be.parentNode)||Be))){if(St.splice(ut,1),xe=Vt.length&&Un(St),!xe)return Ra.apply(We,Vt),We;break}}return(no||Te(xe,yo))(Vt,Be,!Yn,We,!Be||Bu.test(xe)&&kt(Be.parentNode)||Be),We},U.sortStable=Xn.split("").sort(Dr).join("")===Xn,U.detectDuplicates=!!Xt,rt(),U.sortDetached=ic(function(xe){return xe.compareDocumentPosition(Mt.createElement("fieldset"))&1}),ic(function(xe){return xe.innerHTML="<a href='#'></a>",xe.firstChild.getAttribute("href")==="#"})||fa("type|href|height|width",function(xe,Be,We){if(!We)return xe.getAttribute(Be,Be.toLowerCase()==="type"?1:2)}),(!U.attributes||!ic(function(xe){return xe.innerHTML="<input/>",xe.firstChild.setAttribute("value",""),xe.firstChild.getAttribute("value")===""}))&&fa("value",function(xe,Be,We){if(!We&&xe.nodeName.toLowerCase()==="input")return xe.defaultValue}),ic(function(xe){return xe.getAttribute("disabled")==null})||fa(wc,function(xe,Be,We){var Vt;if(!We)return xe[Be]===!0?Be.toLowerCase():(Vt=xe.getAttributeNode(Be))&&Vt.specified?Vt.value:null}),Ts}(c);z.find=je,z.expr=je.selectors,z.expr[":"]=z.expr.pseudos,z.uniqueSort=z.unique=je.uniqueSort,z.text=je.getText,z.isXMLDoc=je.isXML,z.contains=je.contains,z.escapeSelector=je.escape;var dt=function(x,M,U){for(var j=[],te=U!==void 0;(x=x[M])&&x.nodeType!==9;)if(x.nodeType===1){if(te&&z(x).is(U))break;j.push(x)}return j},_t=function(x,M){for(var U=[];x;x=x.nextSibling)x.nodeType===1&&x!==M&&U.push(x);return U},Pe=z.expr.match.needsContext;function Ee(x,M){return x.nodeName&&x.nodeName.toLowerCase()===M.toLowerCase()}var pn=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Tt(x,M,U){return ue(M)?z.grep(x,function(j,te){return!!M.call(j,te,j)!==U}):M.nodeType?z.grep(x,function(j){return j===M!==U}):typeof M!="string"?z.grep(x,function(j){return k.call(M,j)>-1!==U}):z.filter(M,x,U)}z.filter=function(x,M,U){var j=M[0];return U&&(x=":not("+x+")"),M.length===1&&j.nodeType===1?z.find.matchesSelector(j,x)?[j]:[]:z.find.matches(x,z.grep(M,function(te){return te.nodeType===1}))},z.fn.extend({find:function(x){var M,U,j=this.length,te=this;if(typeof x!="string")return this.pushStack(z(x).filter(function(){for(M=0;M<j;M++)if(z.contains(te[M],this))return!0}));for(U=this.pushStack([]),M=0;M<j;M++)z.find(x,te[M],U);return j>1?z.uniqueSort(U):U},filter:function(x){return this.pushStack(Tt(this,x||[],!1))},not:function(x){return this.pushStack(Tt(this,x||[],!0))},is:function(x){return!!Tt(this,typeof x=="string"&&Pe.test(x)?z(x):x||[],!1).length}});var Rt,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,It=z.fn.init=function(x,M,U){var j,te;if(!x)return this;if(U=U||Rt,typeof x=="string")if(x[0]==="<"&&x[x.length-1]===">"&&x.length>=3?j=[null,x,null]:j=B.exec(x),j&&(j[1]||!M))if(j[1]){if(M=M instanceof z?M[0]:M,z.merge(this,z.parseHTML(j[1],M&&M.nodeType?M.ownerDocument||M:ae,!0)),pn.test(j[1])&&z.isPlainObject(M))for(j in M)ue(this[j])?this[j](M[j]):this.attr(j,M[j]);return this}else return te=ae.getElementById(j[2]),te&&(this[0]=te,this.length=1),this;else return!M||M.jquery?(M||U).find(x):this.constructor(M).find(x);else{if(x.nodeType)return this[0]=x,this.length=1,this;if(ue(x))return U.ready!==void 0?U.ready(x):x(z)}return z.makeArray(x,this)};It.prototype=z.fn,Rt=z(ae);var nt=/^(?:parents|prev(?:Until|All))/,jt={children:!0,contents:!0,next:!0,prev:!0};z.fn.extend({has:function(x){var M=z(x,this),U=M.length;return this.filter(function(){for(var j=0;j<U;j++)if(z.contains(this,M[j]))return!0})},closest:function(x,M){var U,j=0,te=this.length,de=[],_e=typeof x!="string"&&z(x);if(!Pe.test(x)){for(;j<te;j++)for(U=this[j];U&&U!==M;U=U.parentNode)if(U.nodeType<11&&(_e?_e.index(U)>-1:U.nodeType===1&&z.find.matchesSelector(U,x))){de.push(U);break}}return this.pushStack(de.length>1?z.uniqueSort(de):de)},index:function(x){return x?typeof x=="string"?k.call(z(x),this[0]):k.call(this,x.jquery?x[0]:x):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(x,M){return this.pushStack(z.uniqueSort(z.merge(this.get(),z(x,M))))},addBack:function(x){return this.add(x==null?this.prevObject:this.prevObject.filter(x))}});function zt(x,M){for(;(x=x[M])&&x.nodeType!==1;);return x}z.each({parent:function(x){var M=x.parentNode;return M&&M.nodeType!==11?M:null},parents:function(x){return dt(x,"parentNode")},parentsUntil:function(x,M,U){return dt(x,"parentNode",U)},next:function(x){return zt(x,"nextSibling")},prev:function(x){return zt(x,"previousSibling")},nextAll:function(x){return dt(x,"nextSibling")},prevAll:function(x){return dt(x,"previousSibling")},nextUntil:function(x,M,U){return dt(x,"nextSibling",U)},prevUntil:function(x,M,U){return dt(x,"previousSibling",U)},siblings:function(x){return _t((x.parentNode||{}).firstChild,x)},children:function(x){return _t(x.firstChild)},contents:function(x){return x.contentDocument!=null&&C(x.contentDocument)?x.contentDocument:(Ee(x,"template")&&(x=x.content||x),z.merge([],x.childNodes))}},function(x,M){z.fn[x]=function(U,j){var te=z.map(this,M,U);return x.slice(-5)!=="Until"&&(j=U),j&&typeof j=="string"&&(te=z.filter(j,te)),this.length>1&&(jt[x]||z.uniqueSort(te),nt.test(x)&&te.reverse()),this.pushStack(te)}});var Ze=/[^\x20\t\r\n\f]+/g;function bo(x){var M={};return z.each(x.match(Ze)||[],function(U,j){M[j]=!0}),M}z.Callbacks=function(x){x=typeof x=="string"?bo(x):z.extend({},x);var M,U,j,te,de=[],_e=[],Te=-1,Le=function(){for(te=te||x.once,j=M=!0;_e.length;Te=-1)for(U=_e.shift();++Te<de.length;)de[Te].apply(U[0],U[1])===!1&&x.stopOnFalse&&(Te=de.length,U=!1);x.memory||(U=!1),M=!1,te&&(U?de=[]:de="")},it={add:function(){return de&&(U&&!M&&(Te=de.length-1,_e.push(U)),function Et(Xt){z.each(Xt,function(rt,Mt){ue(Mt)?(!x.unique||!it.has(Mt))&&de.push(Mt):Mt&&Mt.length&&Ne(Mt)!=="string"&&Et(Mt)})}(arguments),U&&!M&&Le()),this},remove:function(){return z.each(arguments,function(Et,Xt){for(var rt;(rt=z.inArray(Xt,de,rt))>-1;)de.splice(rt,1),rt<=Te&&Te--}),this},has:function(Et){return Et?z.inArray(Et,de)>-1:de.length>0},empty:function(){return de&&(de=[]),this},disable:function(){return te=_e=[],de=U="",this},disabled:function(){return!de},lock:function(){return te=_e=[],!U&&!M&&(de=U=""),this},locked:function(){return!!te},fireWith:function(Et,Xt){return te||(Xt=Xt||[],Xt=[Et,Xt.slice?Xt.slice():Xt],_e.push(Xt),M||Le()),this},fire:function(){return it.fireWith(this,arguments),this},fired:function(){return!!j}};return it};function Fo(x){return x}function co(x){throw x}function Ho(x,M,U,j){var te;try{x&&ue(te=x.promise)?te.call(x).done(M).fail(U):x&&ue(te=x.then)?te.call(x,M,U):M.apply(void 0,[x].slice(j))}catch(de){U.apply(void 0,[de])}}z.extend({Deferred:function(x){var M=[["notify","progress",z.Callbacks("memory"),z.Callbacks("memory"),2],["resolve","done",z.Callbacks("once memory"),z.Callbacks("once memory"),0,"resolved"],["reject","fail",z.Callbacks("once memory"),z.Callbacks("once memory"),1,"rejected"]],U="pending",j={state:function(){return U},always:function(){return te.done(arguments).fail(arguments),this},catch:function(de){return j.then(null,de)},pipe:function(){var de=arguments;return z.Deferred(function(_e){z.each(M,function(Te,Le){var it=ue(de[Le[4]])&&de[Le[4]];te[Le[1]](function(){var Et=it&&it.apply(this,arguments);Et&&ue(Et.promise)?Et.promise().progress(_e.notify).done(_e.resolve).fail(_e.reject):_e[Le[0]+"With"](this,it?[Et]:arguments)})}),de=null}).promise()},then:function(de,_e,Te){var Le=0;function it(Et,Xt,rt,Mt){return function(){var eo=this,Yn=arguments,Cn=function(){var qs,us;if(!(Et<Le)){if(qs=rt.apply(eo,Yn),qs===Xt.promise())throw new TypeError("Thenable self-resolution");us=qs&&(typeof qs=="object"||typeof qs=="function")&&qs.then,ue(us)?Mt?us.call(qs,it(Le,Xt,Fo,Mt),it(Le,Xt,co,Mt)):(Le++,us.call(qs,it(Le,Xt,Fo,Mt),it(Le,Xt,co,Mt),it(Le,Xt,Fo,Xt.notifyWith))):(rt!==Fo&&(eo=void 0,Yn=[qs]),(Mt||Xt.resolveWith)(eo,Yn))}},ur=Mt?Cn:function(){try{Cn()}catch(qs){z.Deferred.exceptionHook&&z.Deferred.exceptionHook(qs,ur.stackTrace),Et+1>=Le&&(rt!==co&&(eo=void 0,Yn=[qs]),Xt.rejectWith(eo,Yn))}};Et?ur():(z.Deferred.getStackHook&&(ur.stackTrace=z.Deferred.getStackHook()),c.setTimeout(ur))}}return z.Deferred(function(Et){M[0][3].add(it(0,Et,ue(Te)?Te:Fo,Et.notifyWith)),M[1][3].add(it(0,Et,ue(de)?de:Fo)),M[2][3].add(it(0,Et,ue(_e)?_e:co))}).promise()},promise:function(de){return de!=null?z.extend(de,j):j}},te={};return z.each(M,function(de,_e){var Te=_e[2],Le=_e[5];j[_e[1]]=Te.add,Le&&Te.add(function(){U=Le},M[3-de][2].disable,M[3-de][3].disable,M[0][2].lock,M[0][3].lock),Te.add(_e[3].fire),te[_e[0]]=function(){return te[_e[0]+"With"](this===te?void 0:this,arguments),this},te[_e[0]+"With"]=Te.fireWith}),j.promise(te),x&&x.call(te,te),te},when:function(x){var M=arguments.length,U=M,j=Array(U),te=w.call(arguments),de=z.Deferred(),_e=function(Te){return function(Le){j[Te]=this,te[Te]=arguments.length>1?w.call(arguments):Le,--M||de.resolveWith(j,te)}};if(M<=1&&(Ho(x,de.done(_e(U)).resolve,de.reject,!M),de.state()==="pending"||ue(te[U]&&te[U].then)))return de.then();for(;U--;)Ho(te[U],_e(U),de.reject);return de.promise()}});var tt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;z.Deferred.exceptionHook=function(x,M){c.console&&c.console.warn&&x&&tt.test(x.name)&&c.console.warn("jQuery.Deferred exception: "+x.message,x.stack,M)},z.readyException=function(x){c.setTimeout(function(){throw x})};var Dt=z.Deferred();z.fn.ready=function(x){return Dt.then(x).catch(function(M){z.readyException(M)}),this},z.extend({isReady:!1,readyWait:1,ready:function(x){(x===!0?--z.readyWait:z.isReady)||(z.isReady=!0,!(x!==!0&&--z.readyWait>0)&&Dt.resolveWith(ae,[z]))}}),z.ready.then=Dt.then;function se(){ae.removeEventListener("DOMContentLoaded",se),c.removeEventListener("load",se),z.ready()}ae.readyState==="complete"||ae.readyState!=="loading"&&!ae.documentElement.doScroll?c.setTimeout(z.ready):(ae.addEventListener("DOMContentLoaded",se),c.addEventListener("load",se));var ls=function(x,M,U,j,te,de,_e){var Te=0,Le=x.length,it=U==null;if(Ne(U)==="object"){te=!0;for(Te in U)ls(x,M,Te,U[Te],!0,de,_e)}else if(j!==void 0&&(te=!0,ue(j)||(_e=!0),it&&(_e?(M.call(x,j),M=null):(it=M,M=function(Et,Xt,rt){return it.call(z(Et),rt)})),M))for(;Te<Le;Te++)M(x[Te],U,_e?j:j.call(x[Te],Te,M(x[Te],U)));return te?x:it?M.call(x):Le?M(x[0],U):de},fo=/^-ms-/,Ft=/-([a-z])/g;function vs(x,M){return M.toUpperCase()}function Qa(x){return x.replace(fo,"ms-").replace(Ft,vs)}var Pn=function(x){return x.nodeType===1||x.nodeType===9||!+x.nodeType};function Po(){this.expando=z.expando+Po.uid++}Po.uid=1,Po.prototype={cache:function(x){var M=x[this.expando];return M||(M={},Pn(x)&&(x.nodeType?x[this.expando]=M:Object.defineProperty(x,this.expando,{value:M,configurable:!0}))),M},set:function(x,M,U){var j,te=this.cache(x);if(typeof M=="string")te[Qa(M)]=U;else for(j in M)te[Qa(j)]=M[j];return te},get:function(x,M){return M===void 0?this.cache(x):x[this.expando]&&x[this.expando][Qa(M)]},access:function(x,M,U){return M===void 0||M&&typeof M=="string"&&U===void 0?this.get(x,M):(this.set(x,M,U),U!==void 0?U:M)},remove:function(x,M){var U,j=x[this.expando];if(j!==void 0){if(M!==void 0)for(Array.isArray(M)?M=M.map(Qa):(M=Qa(M),M=M in j?[M]:M.match(Ze)||[]),U=M.length;U--;)delete j[M[U]];(M===void 0||z.isEmptyObject(j))&&(x.nodeType?x[this.expando]=void 0:delete x[this.expando])}},hasData:function(x){var M=x[this.expando];return M!==void 0&&!z.isEmptyObject(M)}};var Kt=new Po,pt=new Po,vi=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,bi=/[A-Z]/g;function Bt(x){return x==="true"?!0:x==="false"?!1:x==="null"?null:x===+x+""?+x:vi.test(x)?JSON.parse(x):x}function Br(x,M,U){var j;if(U===void 0&&x.nodeType===1)if(j="data-"+M.replace(bi,"-$&").toLowerCase(),U=x.getAttribute(j),typeof U=="string"){try{U=Bt(U)}catch{}pt.set(x,M,U)}else U=void 0;return U}z.extend({hasData:function(x){return pt.hasData(x)||Kt.hasData(x)},data:function(x,M,U){return pt.access(x,M,U)},removeData:function(x,M){pt.remove(x,M)},_data:function(x,M,U){return Kt.access(x,M,U)},_removeData:function(x,M){Kt.remove(x,M)}}),z.fn.extend({data:function(x,M){var U,j,te,de=this[0],_e=de&&de.attributes;if(x===void 0){if(this.length&&(te=pt.get(de),de.nodeType===1&&!Kt.get(de,"hasDataAttrs"))){for(U=_e.length;U--;)_e[U]&&(j=_e[U].name,j.indexOf("data-")===0&&(j=Qa(j.slice(5)),Br(de,j,te[j])));Kt.set(de,"hasDataAttrs",!0)}return te}return typeof x=="object"?this.each(function(){pt.set(this,x)}):ls(this,function(Te){var Le;if(de&&Te===void 0)return Le=pt.get(de,x),Le!==void 0||(Le=Br(de,x),Le!==void 0)?Le:void 0;this.each(function(){pt.set(this,x,Te)})},null,M,arguments.length>1,null,!0)},removeData:function(x){return this.each(function(){pt.remove(this,x)})}}),z.extend({queue:function(x,M,U){var j;if(x)return M=(M||"fx")+"queue",j=Kt.get(x,M),U&&(!j||Array.isArray(U)?j=Kt.access(x,M,z.makeArray(U)):j.push(U)),j||[]},dequeue:function(x,M){M=M||"fx";var U=z.queue(x,M),j=U.length,te=U.shift(),de=z._queueHooks(x,M),_e=function(){z.dequeue(x,M)};te==="inprogress"&&(te=U.shift(),j--),te&&(M==="fx"&&U.unshift("inprogress"),delete de.stop,te.call(x,_e,de)),!j&&de&&de.empty.fire()},_queueHooks:function(x,M){var U=M+"queueHooks";return Kt.get(x,U)||Kt.access(x,U,{empty:z.Callbacks("once memory").add(function(){Kt.remove(x,[M+"queue",U])})})}}),z.fn.extend({queue:function(x,M){var U=2;return typeof x!="string"&&(M=x,x="fx",U--),arguments.length<U?z.queue(this[0],x):M===void 0?this:this.each(function(){var j=z.queue(this,x,M);z._queueHooks(this,x),x==="fx"&&j[0]!=="inprogress"&&z.dequeue(this,x)})},dequeue:function(x){return this.each(function(){z.dequeue(this,x)})},clearQueue:function(x){return this.queue(x||"fx",[])},promise:function(x,M){var U,j=1,te=z.Deferred(),de=this,_e=this.length,Te=function(){--j||te.resolveWith(de,[de])};for(typeof x!="string"&&(M=x,x=void 0),x=x||"fx";_e--;)U=Kt.get(de[_e],x+"queueHooks"),U&&U.empty&&(j++,U.empty.add(Te));return Te(),te.promise(M)}});var Ms=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Lc=new RegExp("^(?:([+-])=|)("+Ms+")([a-z%]*)$","i"),bs=["Top","Right","Bottom","Left"],Ir=ae.documentElement,Zc=function(x){return z.contains(x.ownerDocument,x)},Sa={composed:!0};Ir.getRootNode&&(Zc=function(x){return z.contains(x.ownerDocument,x)||x.getRootNode(Sa)===x.ownerDocument});var or=function(x,M){return x=M||x,x.style.display==="none"||x.style.display===""&&Zc(x)&&z.css(x,"display")==="none"};function Rs(x,M,U,j){var te,de,_e=20,Te=j?function(){return j.cur()}:function(){return z.css(x,M,"")},Le=Te(),it=U&&U[3]||(z.cssNumber[M]?"":"px"),Et=x.nodeType&&(z.cssNumber[M]||it!=="px"&&+Le)&&Lc.exec(z.css(x,M));if(Et&&Et[3]!==it){for(Le=Le/2,it=it||Et[3],Et=+Le||1;_e--;)z.style(x,M,Et+it),(1-de)*(1-(de=Te()/Le||.5))<=0&&(_e=0),Et=Et/de;Et=Et*2,z.style(x,M,Et+it),U=U||[]}return U&&(Et=+Et||+Le||0,te=U[1]?Et+(U[1]+1)*U[2]:+U[2],j&&(j.unit=it,j.start=Et,j.end=te)),te}var id={};function Kr(x){var M,U=x.ownerDocument,j=x.nodeName,te=id[j];return te||(M=U.body.appendChild(U.createElement(j)),te=z.css(M,"display"),M.parentNode.removeChild(M),te==="none"&&(te="block"),id[j]=te,te)}function ks(x,M){for(var U,j,te=[],de=0,_e=x.length;de<_e;de++)j=x[de],j.style&&(U=j.style.display,M?(U==="none"&&(te[de]=Kt.get(j,"display")||null,te[de]||(j.style.display="")),j.style.display===""&&or(j)&&(te[de]=Kr(j))):U!=="none"&&(te[de]="none",Kt.set(j,"display",U)));for(de=0;de<_e;de++)te[de]!=null&&(x[de].style.display=te[de]);return x}z.fn.extend({show:function(){return ks(this,!0)},hide:function(){return ks(this)},toggle:function(x){return typeof x=="boolean"?x?this.show():this.hide():this.each(function(){or(this)?z(this).show():z(this).hide()})}});var hl=/^(?:checkbox|radio)$/i,Di=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Yc=/^$|^module$|\/(?:java|ecma)script/i;(function(){var x=ae.createDocumentFragment(),M=x.appendChild(ae.createElement("div")),U=ae.createElement("input");U.setAttribute("type","radio"),U.setAttribute("checked","checked"),U.setAttribute("name","t"),M.appendChild(U),he.checkClone=M.cloneNode(!0).cloneNode(!0).lastChild.checked,M.innerHTML="<textarea>x</textarea>",he.noCloneChecked=!!M.cloneNode(!0).lastChild.defaultValue,M.innerHTML="<option></option>",he.option=!!M.lastChild})();var br={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};br.tbody=br.tfoot=br.colgroup=br.caption=br.thead,br.th=br.td,he.option||(br.optgroup=br.option=[1,"<select multiple='multiple'>","</select>"]);function $r(x,M){var U;return typeof x.getElementsByTagName<"u"?U=x.getElementsByTagName(M||"*"):typeof x.querySelectorAll<"u"?U=x.querySelectorAll(M||"*"):U=[],M===void 0||M&&Ee(x,M)?z.merge([x],U):U}function qd(x,M){for(var U=0,j=x.length;U<j;U++)Kt.set(x[U],"globalEval",!M||Kt.get(M[U],"globalEval"))}var yi=/<|&#?\w+;/;function _h(x,M,U,j,te){for(var de,_e,Te,Le,it,Et,Xt=M.createDocumentFragment(),rt=[],Mt=0,eo=x.length;Mt<eo;Mt++)if(de=x[Mt],de||de===0)if(Ne(de)==="object")z.merge(rt,de.nodeType?[de]:de);else if(!yi.test(de))rt.push(M.createTextNode(de));else{for(_e=_e||Xt.appendChild(M.createElement("div")),Te=(Di.exec(de)||["",""])[1].toLowerCase(),Le=br[Te]||br._default,_e.innerHTML=Le[1]+z.htmlPrefilter(de)+Le[2],Et=Le[0];Et--;)_e=_e.lastChild;z.merge(rt,_e.childNodes),_e=Xt.firstChild,_e.textContent=""}for(Xt.textContent="",Mt=0;de=rt[Mt++];){if(j&&z.inArray(de,j)>-1){te&&te.push(de);continue}if(it=Zc(de),_e=$r(Xt.appendChild(de),"script"),it&&qd(_e),U)for(Et=0;de=_e[Et++];)Yc.test(de.type||"")&&U.push(de)}return Xt}var cn=/^([^.]*)(?:\.(.+)|)/;function Vo(){return!0}function la(){return!1}function vc(x,M){return x===Eh()==(M==="focus")}function Eh(){try{return ae.activeElement}catch{}}function cu(x,M,U,j,te,de){var _e,Te;if(typeof M=="object"){typeof U!="string"&&(j=j||U,U=void 0);for(Te in M)cu(x,Te,U,j,M[Te],de);return x}if(j==null&&te==null?(te=U,j=U=void 0):te==null&&(typeof U=="string"?(te=j,j=void 0):(te=j,j=U,U=void 0)),te===!1)te=la;else if(!te)return x;return de===1&&(_e=te,te=function(Le){return z().off(Le),_e.apply(this,arguments)},te.guid=_e.guid||(_e.guid=z.guid++)),x.each(function(){z.event.add(this,M,te,j,U)})}z.event={global:{},add:function(x,M,U,j,te){var de,_e,Te,Le,it,Et,Xt,rt,Mt,eo,Yn,Cn=Kt.get(x);if(Pn(x))for(U.handler&&(de=U,U=de.handler,te=de.selector),te&&z.find.matchesSelector(Ir,te),U.guid||(U.guid=z.guid++),(Le=Cn.events)||(Le=Cn.events=Object.create(null)),(_e=Cn.handle)||(_e=Cn.handle=function(ur){return typeof z<"u"&&z.event.triggered!==ur.type?z.event.dispatch.apply(x,arguments):void 0}),M=(M||"").match(Ze)||[""],it=M.length;it--;)Te=cn.exec(M[it])||[],Mt=Yn=Te[1],eo=(Te[2]||"").split(".").sort(),Mt&&(Xt=z.event.special[Mt]||{},Mt=(te?Xt.delegateType:Xt.bindType)||Mt,Xt=z.event.special[Mt]||{},Et=z.extend({type:Mt,origType:Yn,data:j,handler:U,guid:U.guid,selector:te,needsContext:te&&z.expr.match.needsContext.test(te),namespace:eo.join(".")},de),(rt=Le[Mt])||(rt=Le[Mt]=[],rt.delegateCount=0,(!Xt.setup||Xt.setup.call(x,j,eo,_e)===!1)&&x.addEventListener&&x.addEventListener(Mt,_e)),Xt.add&&(Xt.add.call(x,Et),Et.handler.guid||(Et.handler.guid=U.guid)),te?rt.splice(rt.delegateCount++,0,Et):rt.push(Et),z.event.global[Mt]=!0)},remove:function(x,M,U,j,te){var de,_e,Te,Le,it,Et,Xt,rt,Mt,eo,Yn,Cn=Kt.hasData(x)&&Kt.get(x);if(!(!Cn||!(Le=Cn.events))){for(M=(M||"").match(Ze)||[""],it=M.length;it--;){if(Te=cn.exec(M[it])||[],Mt=Yn=Te[1],eo=(Te[2]||"").split(".").sort(),!Mt){for(Mt in Le)z.event.remove(x,Mt+M[it],U,j,!0);continue}for(Xt=z.event.special[Mt]||{},Mt=(j?Xt.delegateType:Xt.bindType)||Mt,rt=Le[Mt]||[],Te=Te[2]&&new RegExp("(^|\\.)"+eo.join("\\.(?:.*\\.|)")+"(\\.|$)"),_e=de=rt.length;de--;)Et=rt[de],(te||Yn===Et.origType)&&(!U||U.guid===Et.guid)&&(!Te||Te.test(Et.namespace))&&(!j||j===Et.selector||j==="**"&&Et.selector)&&(rt.splice(de,1),Et.selector&&rt.delegateCount--,Xt.remove&&Xt.remove.call(x,Et));_e&&!rt.length&&((!Xt.teardown||Xt.teardown.call(x,eo,Cn.handle)===!1)&&z.removeEvent(x,Mt,Cn.handle),delete Le[Mt])}z.isEmptyObject(Le)&&Kt.remove(x,"handle events")}},dispatch:function(x){var M,U,j,te,de,_e,Te=new Array(arguments.length),Le=z.event.fix(x),it=(Kt.get(this,"events")||Object.create(null))[Le.type]||[],Et=z.event.special[Le.type]||{};for(Te[0]=Le,M=1;M<arguments.length;M++)Te[M]=arguments[M];if(Le.delegateTarget=this,!(Et.preDispatch&&Et.preDispatch.call(this,Le)===!1)){for(_e=z.event.handlers.call(this,Le,it),M=0;(te=_e[M++])&&!Le.isPropagationStopped();)for(Le.currentTarget=te.elem,U=0;(de=te.handlers[U++])&&!Le.isImmediatePropagationStopped();)(!Le.rnamespace||de.namespace===!1||Le.rnamespace.test(de.namespace))&&(Le.handleObj=de,Le.data=de.data,j=((z.event.special[de.origType]||{}).handle||de.handler).apply(te.elem,Te),j!==void 0&&(Le.result=j)===!1&&(Le.preventDefault(),Le.stopPropagation()));return Et.postDispatch&&Et.postDispatch.call(this,Le),Le.result}},handlers:function(x,M){var U,j,te,de,_e,Te=[],Le=M.delegateCount,it=x.target;if(Le&&it.nodeType&&!(x.type==="click"&&x.button>=1)){for(;it!==this;it=it.parentNode||this)if(it.nodeType===1&&!(x.type==="click"&&it.disabled===!0)){for(de=[],_e={},U=0;U<Le;U++)j=M[U],te=j.selector+" ",_e[te]===void 0&&(_e[te]=j.needsContext?z(te,this).index(it)>-1:z.find(te,this,null,[it]).length),_e[te]&&de.push(j);de.length&&Te.push({elem:it,handlers:de})}}return it=this,Le<M.length&&Te.push({elem:it,handlers:M.slice(Le)}),Te},addProp:function(x,M){Object.defineProperty(z.Event.prototype,x,{enumerable:!0,configurable:!0,get:ue(M)?function(){if(this.originalEvent)return M(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[x]},set:function(U){Object.defineProperty(this,x,{enumerable:!0,configurable:!0,writable:!0,value:U})}})},fix:function(x){return x[z.expando]?x:new z.Event(x)},special:{load:{noBubble:!0},click:{setup:function(x){var M=this||x;return hl.test(M.type)&&M.click&&Ee(M,"input")&&Ps(M,"click",Vo),!1},trigger:function(x){var M=this||x;return hl.test(M.type)&&M.click&&Ee(M,"input")&&Ps(M,"click"),!0},_default:function(x){var M=x.target;return hl.test(M.type)&&M.click&&Ee(M,"input")&&Kt.get(M,"click")||Ee(M,"a")}},beforeunload:{postDispatch:function(x){x.result!==void 0&&x.originalEvent&&(x.originalEvent.returnValue=x.result)}}}};function Ps(x,M,U){if(!U){Kt.get(x,M)===void 0&&z.event.add(x,M,Vo);return}Kt.set(x,M,!1),z.event.add(x,M,{namespace:!1,handler:function(j){var te,de,_e=Kt.get(this,M);if(j.isTrigger&1&&this[M]){if(_e.length)(z.event.special[M]||{}).delegateType&&j.stopPropagation();else if(_e=w.call(arguments),Kt.set(this,M,_e),te=U(this,M),this[M](),de=Kt.get(this,M),_e!==de||te?Kt.set(this,M,!1):de={},_e!==de)return j.stopImmediatePropagation(),j.preventDefault(),de&&de.value}else _e.length&&(Kt.set(this,M,{value:z.event.trigger(z.extend(_e[0],z.Event.prototype),_e.slice(1),this)}),j.stopImmediatePropagation())}})}z.removeEvent=function(x,M,U){x.removeEventListener&&x.removeEventListener(M,U)},z.Event=function(x,M){if(!(this instanceof z.Event))return new z.Event(x,M);x&&x.type?(this.originalEvent=x,this.type=x.type,this.isDefaultPrevented=x.defaultPrevented||x.defaultPrevented===void 0&&x.returnValue===!1?Vo:la,this.target=x.target&&x.target.nodeType===3?x.target.parentNode:x.target,this.currentTarget=x.currentTarget,this.relatedTarget=x.relatedTarget):this.type=x,M&&z.extend(this,M),this.timeStamp=x&&x.timeStamp||Date.now(),this[z.expando]=!0},z.Event.prototype={constructor:z.Event,isDefaultPrevented:la,isPropagationStopped:la,isImmediatePropagationStopped:la,isSimulated:!1,preventDefault:function(){var x=this.originalEvent;this.isDefaultPrevented=Vo,x&&!this.isSimulated&&x.preventDefault()},stopPropagation:function(){var x=this.originalEvent;this.isPropagationStopped=Vo,x&&!this.isSimulated&&x.stopPropagation()},stopImmediatePropagation:function(){var x=this.originalEvent;this.isImmediatePropagationStopped=Vo,x&&!this.isSimulated&&x.stopImmediatePropagation(),this.stopPropagation()}},z.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},z.event.addProp),z.each({focus:"focusin",blur:"focusout"},function(x,M){z.event.special[x]={setup:function(){return Ps(this,x,vc),!1},trigger:function(){return Ps(this,x),!0},_default:function(U){return Kt.get(U.target,x)},delegateType:M}}),z.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(x,M){z.event.special[x]={delegateType:M,bindType:M,handle:function(U){var j,te=this,de=U.relatedTarget,_e=U.handleObj;return(!de||de!==te&&!z.contains(te,de))&&(U.type=_e.origType,j=_e.handler.apply(this,arguments),U.type=M),j}}}),z.fn.extend({on:function(x,M,U,j){return cu(this,x,M,U,j)},one:function(x,M,U,j){return cu(this,x,M,U,j,1)},off:function(x,M,U){var j,te;if(x&&x.preventDefault&&x.handleObj)return j=x.handleObj,z(x.delegateTarget).off(j.namespace?j.origType+"."+j.namespace:j.origType,j.selector,j.handler),this;if(typeof x=="object"){for(te in x)this.off(te,M,x[te]);return this}return(M===!1||typeof M=="function")&&(U=M,M=void 0),U===!1&&(U=la),this.each(function(){z.event.remove(this,x,U,M)})}});var ad=/<script|<style|<link/i,jd=/checked\s*(?:[^=]|=\s*.checked.)/i,Qs=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function jn(x,M){return Ee(x,"table")&&Ee(M.nodeType!==11?M:M.firstChild,"tr")&&z(x).children("tbody")[0]||x}function Ja(x){return x.type=(x.getAttribute("type")!==null)+"/"+x.type,x}function Iu(x){return(x.type||"").slice(0,5)==="true/"?x.type=x.type.slice(5):x.removeAttribute("type"),x}function Kc(x,M){var U,j,te,de,_e,Te,Le;if(M.nodeType===1){if(Kt.hasData(x)&&(de=Kt.get(x),Le=de.events,Le)){Kt.remove(M,"handle events");for(te in Le)for(U=0,j=Le[te].length;U<j;U++)z.event.add(M,te,Le[te][U])}pt.hasData(x)&&(_e=pt.access(x),Te=z.extend({},_e),pt.set(M,Te))}}function wh(x,M){var U=M.nodeName.toLowerCase();U==="input"&&hl.test(x.type)?M.checked=x.checked:(U==="input"||U==="textarea")&&(M.defaultValue=x.defaultValue)}function Ni(x,M,U,j){M=S(M);var te,de,_e,Te,Le,it,Et=0,Xt=x.length,rt=Xt-1,Mt=M[0],eo=ue(Mt);if(eo||Xt>1&&typeof Mt=="string"&&!he.checkClone&&jd.test(Mt))return x.each(function(Yn){var Cn=x.eq(Yn);eo&&(M[0]=Mt.call(this,Yn,Cn.html())),Ni(Cn,M,U,j)});if(Xt&&(te=_h(M,x[0].ownerDocument,!1,x,j),de=te.firstChild,te.childNodes.length===1&&(te=de),de||j)){for(_e=z.map($r(te,"script"),Ja),Te=_e.length;Et<Xt;Et++)Le=te,Et!==rt&&(Le=z.clone(Le,!0,!0),Te&&z.merge(_e,$r(Le,"script"))),U.call(x[Et],Le,Et);if(Te)for(it=_e[_e.length-1].ownerDocument,z.map(_e,Iu),Et=0;Et<Te;Et++)Le=_e[Et],Yc.test(Le.type||"")&&!Kt.access(Le,"globalEval")&&z.contains(it,Le)&&(Le.src&&(Le.type||"").toLowerCase()!=="module"?z._evalUrl&&!Le.noModule&&z._evalUrl(Le.src,{nonce:Le.nonce||Le.getAttribute("nonce")},it):Q(Le.textContent.replace(Qs,""),Le,it))}return x}function Xi(x,M,U){for(var j,te=M?z.filter(M,x):x,de=0;(j=te[de])!=null;de++)!U&&j.nodeType===1&&z.cleanData($r(j)),j.parentNode&&(U&&Zc(j)&&qd($r(j,"script")),j.parentNode.removeChild(j));return x}z.extend({htmlPrefilter:function(x){return x},clone:function(x,M,U){var j,te,de,_e,Te=x.cloneNode(!0),Le=Zc(x);if(!he.noCloneChecked&&(x.nodeType===1||x.nodeType===11)&&!z.isXMLDoc(x))for(_e=$r(Te),de=$r(x),j=0,te=de.length;j<te;j++)wh(de[j],_e[j]);if(M)if(U)for(de=de||$r(x),_e=_e||$r(Te),j=0,te=de.length;j<te;j++)Kc(de[j],_e[j]);else Kc(x,Te);return _e=$r(Te,"script"),_e.length>0&&qd(_e,!Le&&$r(x,"script")),Te},cleanData:function(x){for(var M,U,j,te=z.event.special,de=0;(U=x[de])!==void 0;de++)if(Pn(U)){if(M=U[Kt.expando]){if(M.events)for(j in M.events)te[j]?z.event.remove(U,j):z.removeEvent(U,j,M.handle);U[Kt.expando]=void 0}U[pt.expando]&&(U[pt.expando]=void 0)}}}),z.fn.extend({detach:function(x){return Xi(this,x,!0)},remove:function(x){return Xi(this,x)},text:function(x){return ls(this,function(M){return M===void 0?z.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=M)})},null,x,arguments.length)},append:function(){return Ni(this,arguments,function(x){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var M=jn(this,x);M.appendChild(x)}})},prepend:function(){return Ni(this,arguments,function(x){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var M=jn(this,x);M.insertBefore(x,M.firstChild)}})},before:function(){return Ni(this,arguments,function(x){this.parentNode&&this.parentNode.insertBefore(x,this)})},after:function(){return Ni(this,arguments,function(x){this.parentNode&&this.parentNode.insertBefore(x,this.nextSibling)})},empty:function(){for(var x,M=0;(x=this[M])!=null;M++)x.nodeType===1&&(z.cleanData($r(x,!1)),x.textContent="");return this},clone:function(x,M){return x=x??!1,M=M??x,this.map(function(){return z.clone(this,x,M)})},html:function(x){return ls(this,function(M){var U=this[0]||{},j=0,te=this.length;if(M===void 0&&U.nodeType===1)return U.innerHTML;if(typeof M=="string"&&!ad.test(M)&&!br[(Di.exec(M)||["",""])[1].toLowerCase()]){M=z.htmlPrefilter(M);try{for(;j<te;j++)U=this[j]||{},U.nodeType===1&&(z.cleanData($r(U,!1)),U.innerHTML=M);U=0}catch{}}U&&this.empty().append(M)},null,x,arguments.length)},replaceWith:function(){var x=[];return Ni(this,arguments,function(M){var U=this.parentNode;z.inArray(this,x)<0&&(z.cleanData($r(this)),U&&U.replaceChild(M,this))},x)}}),z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(x,M){z.fn[x]=function(U){for(var j,te=[],de=z(U),_e=de.length-1,Te=0;Te<=_e;Te++)j=Te===_e?this:this.clone(!0),z(de[Te])[M](j),D.apply(te,j.get());return this.pushStack(te)}});var Ur=new RegExp("^("+Ms+")(?!px)[a-z%]+$","i"),Ha=/^--/,Xc=function(x){var M=x.ownerDocument.defaultView;return(!M||!M.opener)&&(M=c),M.getComputedStyle(x)},bc=function(x,M,U){var j,te,de={};for(te in M)de[te]=x.style[te],x.style[te]=M[te];j=U.call(x);for(te in M)x.style[te]=de[te];return j},xa=new RegExp(bs.join("|"),"i"),Fr="[\\x20\\t\\r\\n\\f]",yc=new RegExp("^"+Fr+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Fr+"+$","g");(function(){function x(){if(it){Le.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",it.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ir.appendChild(Le).appendChild(it);var Et=c.getComputedStyle(it);U=Et.top!=="1%",Te=M(Et.marginLeft)===12,it.style.right="60%",de=M(Et.right)===36,j=M(Et.width)===36,it.style.position="absolute",te=M(it.offsetWidth/3)===12,Ir.removeChild(Le),it=null}}function M(Et){return Math.round(parseFloat(Et))}var U,j,te,de,_e,Te,Le=ae.createElement("div"),it=ae.createElement("div");it.style&&(it.style.backgroundClip="content-box",it.cloneNode(!0).style.backgroundClip="",he.clearCloneStyle=it.style.backgroundClip==="content-box",z.extend(he,{boxSizingReliable:function(){return x(),j},pixelBoxStyles:function(){return x(),de},pixelPosition:function(){return x(),U},reliableMarginLeft:function(){return x(),Te},scrollboxSize:function(){return x(),te},reliableTrDimensions:function(){var Et,Xt,rt,Mt;return _e==null&&(Et=ae.createElement("table"),Xt=ae.createElement("tr"),rt=ae.createElement("div"),Et.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Xt.style.cssText="border:1px solid",Xt.style.height="1px",rt.style.height="9px",rt.style.display="block",Ir.appendChild(Et).appendChild(Xt).appendChild(rt),Mt=c.getComputedStyle(Xt),_e=parseInt(Mt.height,10)+parseInt(Mt.borderTopWidth,10)+parseInt(Mt.borderBottomWidth,10)===Xt.offsetHeight,Ir.removeChild(Et)),_e}}))})();function ml(x,M,U){var j,te,de,_e,Te=Ha.test(M),Le=x.style;return U=U||Xc(x),U&&(_e=U.getPropertyValue(M)||U[M],Te&&_e&&(_e=_e.replace(yc,"$1")||void 0),_e===""&&!Zc(x)&&(_e=z.style(x,M)),!he.pixelBoxStyles()&&Ur.test(_e)&&xa.test(M)&&(j=Le.width,te=Le.minWidth,de=Le.maxWidth,Le.minWidth=Le.maxWidth=Le.width=_e,_e=U.width,Le.width=j,Le.minWidth=te,Le.maxWidth=de)),_e!==void 0?_e+"":_e}function Fp(x,M){return{get:function(){if(x()){delete this.get;return}return(this.get=M).apply(this,arguments)}}}var Hp=["Webkit","Moz","ms"],Bl=ae.createElement("div").style,Cm={};function Je(x){for(var M=x[0].toUpperCase()+x.slice(1),U=Hp.length;U--;)if(x=Hp[U]+M,x in Bl)return x}function _i(x){var M=z.cssProps[x]||Cm[x];return M||(x in Bl?x:Cm[x]=Je(x)||x)}var lu=/^(none|table(?!-c[ea]).+)/,Vp={position:"absolute",visibility:"hidden",display:"block"},Th={letterSpacing:"0",fontWeight:"400"};function Hs(x,M,U){var j=Lc.exec(M);return j?Math.max(0,j[2]-(U||0))+(j[3]||"px"):M}function Zd(x,M,U,j,te,de){var _e=M==="width"?1:0,Te=0,Le=0;if(U===(j?"border":"content"))return 0;for(;_e<4;_e+=2)U==="margin"&&(Le+=z.css(x,U+bs[_e],!0,te)),j?(U==="content"&&(Le-=z.css(x,"padding"+bs[_e],!0,te)),U!=="margin"&&(Le-=z.css(x,"border"+bs[_e]+"Width",!0,te))):(Le+=z.css(x,"padding"+bs[_e],!0,te),U!=="padding"?Le+=z.css(x,"border"+bs[_e]+"Width",!0,te):Te+=z.css(x,"border"+bs[_e]+"Width",!0,te));return!j&&de>=0&&(Le+=Math.max(0,Math.ceil(x["offset"+M[0].toUpperCase()+M.slice(1)]-de-Le-Te-.5))||0),Le}function Sm(x,M,U){var j=Xc(x),te=!he.boxSizingReliable()||U,de=te&&z.css(x,"boxSizing",!1,j)==="border-box",_e=de,Te=ml(x,M,j),Le="offset"+M[0].toUpperCase()+M.slice(1);if(Ur.test(Te)){if(!U)return Te;Te="auto"}return(!he.boxSizingReliable()&&de||!he.reliableTrDimensions()&&Ee(x,"tr")||Te==="auto"||!parseFloat(Te)&&z.css(x,"display",!1,j)==="inline")&&x.getClientRects().length&&(de=z.css(x,"boxSizing",!1,j)==="border-box",_e=Le in x,_e&&(Te=x[Le])),Te=parseFloat(Te)||0,Te+Zd(x,M,U||(de?"border":"content"),_e,j,Te)+"px"}z.extend({cssHooks:{opacity:{get:function(x,M){if(M){var U=ml(x,"opacity");return U===""?"1":U}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(x,M,U,j){if(!(!x||x.nodeType===3||x.nodeType===8||!x.style)){var te,de,_e,Te=Qa(M),Le=Ha.test(M),it=x.style;if(Le||(M=_i(Te)),_e=z.cssHooks[M]||z.cssHooks[Te],U!==void 0){if(de=typeof U,de==="string"&&(te=Lc.exec(U))&&te[1]&&(U=Rs(x,M,te),de="number"),U==null||U!==U)return;de==="number"&&!Le&&(U+=te&&te[3]||(z.cssNumber[Te]?"":"px")),!he.clearCloneStyle&&U===""&&M.indexOf("background")===0&&(it[M]="inherit"),(!_e||!("set"in _e)||(U=_e.set(x,U,j))!==void 0)&&(Le?it.setProperty(M,U):it[M]=U)}else return _e&&"get"in _e&&(te=_e.get(x,!1,j))!==void 0?te:it[M]}},css:function(x,M,U,j){var te,de,_e,Te=Qa(M),Le=Ha.test(M);return Le||(M=_i(Te)),_e=z.cssHooks[M]||z.cssHooks[Te],_e&&"get"in _e&&(te=_e.get(x,!0,U)),te===void 0&&(te=ml(x,M,j)),te==="normal"&&M in Th&&(te=Th[M]),U===""||U?(de=parseFloat(te),U===!0||isFinite(de)?de||0:te):te}}),z.each(["height","width"],function(x,M){z.cssHooks[M]={get:function(U,j,te){if(j)return lu.test(z.css(U,"display"))&&(!U.getClientRects().length||!U.getBoundingClientRect().width)?bc(U,Vp,function(){return Sm(U,M,te)}):Sm(U,M,te)},set:function(U,j,te){var de,_e=Xc(U),Te=!he.scrollboxSize()&&_e.position==="absolute",Le=Te||te,it=Le&&z.css(U,"boxSizing",!1,_e)==="border-box",Et=te?Zd(U,M,te,it,_e):0;return it&&Te&&(Et-=Math.ceil(U["offset"+M[0].toUpperCase()+M.slice(1)]-parseFloat(_e[M])-Zd(U,M,"border",!1,_e)-.5)),Et&&(de=Lc.exec(j))&&(de[3]||"px")!=="px"&&(U.style[M]=j,j=z.css(U,M)),Hs(U,j,Et)}}}),z.cssHooks.marginLeft=Fp(he.reliableMarginLeft,function(x,M){if(M)return(parseFloat(ml(x,"marginLeft"))||x.getBoundingClientRect().left-bc(x,{marginLeft:0},function(){return x.getBoundingClientRect().left}))+"px"}),z.each({margin:"",padding:"",border:"Width"},function(x,M){z.cssHooks[x+M]={expand:function(U){for(var j=0,te={},de=typeof U=="string"?U.split(" "):[U];j<4;j++)te[x+bs[j]+M]=de[j]||de[j-2]||de[0];return te}},x!=="margin"&&(z.cssHooks[x+M].set=Hs)}),z.fn.extend({css:function(x,M){return ls(this,function(U,j,te){var de,_e,Te={},Le=0;if(Array.isArray(j)){for(de=Xc(U),_e=j.length;Le<_e;Le++)Te[j[Le]]=z.css(U,j[Le],!1,de);return Te}return te!==void 0?z.style(U,j,te):z.css(U,j)},x,M,arguments.length>1)}});function Qi(x,M,U,j,te){return new Qi.prototype.init(x,M,U,j,te)}z.Tween=Qi,Qi.prototype={constructor:Qi,init:function(x,M,U,j,te,de){this.elem=x,this.prop=U,this.easing=te||z.easing._default,this.options=M,this.start=this.now=this.cur(),this.end=j,this.unit=de||(z.cssNumber[U]?"":"px")},cur:function(){var x=Qi.propHooks[this.prop];return x&&x.get?x.get(this):Qi.propHooks._default.get(this)},run:function(x){var M,U=Qi.propHooks[this.prop];return this.options.duration?this.pos=M=z.easing[this.easing](x,this.options.duration*x,0,1,this.options.duration):this.pos=M=x,this.now=(this.end-this.start)*M+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),U&&U.set?U.set(this):Qi.propHooks._default.set(this),this}},Qi.prototype.init.prototype=Qi.prototype,Qi.propHooks={_default:{get:function(x){var M;return x.elem.nodeType!==1||x.elem[x.prop]!=null&&x.elem.style[x.prop]==null?x.elem[x.prop]:(M=z.css(x.elem,x.prop,""),!M||M==="auto"?0:M)},set:function(x){z.fx.step[x.prop]?z.fx.step[x.prop](x):x.elem.nodeType===1&&(z.cssHooks[x.prop]||x.elem.style[_i(x.prop)]!=null)?z.style(x.elem,x.prop,x.now+x.unit):x.elem[x.prop]=x.now}}},Qi.propHooks.scrollTop=Qi.propHooks.scrollLeft={set:function(x){x.elem.nodeType&&x.elem.parentNode&&(x.elem[x.prop]=x.now)}},z.easing={linear:function(x){return x},swing:function(x){return .5-Math.cos(x*Math.PI)/2},_default:"swing"},z.fx=Qi.prototype.init,z.fx.step={};var Qc,si,Ei=/^(?:toggle|show|hide)$/,uu=/queueHooks$/;function ec(){si&&(ae.hidden===!1&&c.requestAnimationFrame?c.requestAnimationFrame(ec):c.setTimeout(ec,z.fx.interval),z.fx.tick())}function du(){return c.setTimeout(function(){Qc=void 0}),Qc=Date.now()}function $l(x,M){var U,j=0,te={height:x};for(M=M?1:0;j<4;j+=2-M)U=bs[j],te["margin"+U]=te["padding"+U]=x;return M&&(te.opacity=te.width=x),te}function cd(x,M,U){for(var j,te=(Jc.tweeners[M]||[]).concat(Jc.tweeners["*"]),de=0,_e=te.length;de<_e;de++)if(j=te[de].call(U,M,x))return j}function Ss(x,M,U){var j,te,de,_e,Te,Le,it,Et,Xt="width"in M||"height"in M,rt=this,Mt={},eo=x.style,Yn=x.nodeType&&or(x),Cn=Kt.get(x,"fxshow");U.queue||(_e=z._queueHooks(x,"fx"),_e.unqueued==null&&(_e.unqueued=0,Te=_e.empty.fire,_e.empty.fire=function(){_e.unqueued||Te()}),_e.unqueued++,rt.always(function(){rt.always(function(){_e.unqueued--,z.queue(x,"fx").length||_e.empty.fire()})}));for(j in M)if(te=M[j],Ei.test(te)){if(delete M[j],de=de||te==="toggle",te===(Yn?"hide":"show"))if(te==="show"&&Cn&&Cn[j]!==void 0)Yn=!0;else continue;Mt[j]=Cn&&Cn[j]||z.style(x,j)}if(Le=!z.isEmptyObject(M),!(!Le&&z.isEmptyObject(Mt))){Xt&&x.nodeType===1&&(U.overflow=[eo.overflow,eo.overflowX,eo.overflowY],it=Cn&&Cn.display,it==null&&(it=Kt.get(x,"display")),Et=z.css(x,"display"),Et==="none"&&(it?Et=it:(ks([x],!0),it=x.style.display||it,Et=z.css(x,"display"),ks([x]))),(Et==="inline"||Et==="inline-block"&&it!=null)&&z.css(x,"float")==="none"&&(Le||(rt.done(function(){eo.display=it}),it==null&&(Et=eo.display,it=Et==="none"?"":Et)),eo.display="inline-block")),U.overflow&&(eo.overflow="hidden",rt.always(function(){eo.overflow=U.overflow[0],eo.overflowX=U.overflow[1],eo.overflowY=U.overflow[2]})),Le=!1;for(j in Mt)Le||(Cn?"hidden"in Cn&&(Yn=Cn.hidden):Cn=Kt.access(x,"fxshow",{display:it}),de&&(Cn.hidden=!Yn),Yn&&ks([x],!0),rt.done(function(){Yn||ks([x]),Kt.remove(x,"fxshow");for(j in Mt)z.style(x,j,Mt[j])})),Le=cd(Yn?Cn[j]:0,j,rt),j in Cn||(Cn[j]=Le.start,Yn&&(Le.end=Le.start,Le.start=0))}}function ri(x,M){var U,j,te,de,_e;for(U in x)if(j=Qa(U),te=M[j],de=x[U],Array.isArray(de)&&(te=de[1],de=x[U]=de[0]),U!==j&&(x[j]=de,delete x[U]),_e=z.cssHooks[j],_e&&"expand"in _e){de=_e.expand(de),delete x[j];for(U in de)U in x||(x[U]=de[U],M[U]=te)}else M[j]=te}function Jc(x,M,U){var j,te,de=0,_e=Jc.prefilters.length,Te=z.Deferred().always(function(){delete Le.elem}),Le=function(){if(te)return!1;for(var Xt=Qc||du(),rt=Math.max(0,it.startTime+it.duration-Xt),Mt=rt/it.duration||0,eo=1-Mt,Yn=0,Cn=it.tweens.length;Yn<Cn;Yn++)it.tweens[Yn].run(eo);return Te.notifyWith(x,[it,eo,rt]),eo<1&&Cn?rt:(Cn||Te.notifyWith(x,[it,1,0]),Te.resolveWith(x,[it]),!1)},it=Te.promise({elem:x,props:z.extend({},M),opts:z.extend(!0,{specialEasing:{},easing:z.easing._default},U),originalProperties:M,originalOptions:U,startTime:Qc||du(),duration:U.duration,tweens:[],createTween:function(Xt,rt){var Mt=z.Tween(x,it.opts,Xt,rt,it.opts.specialEasing[Xt]||it.opts.easing);return it.tweens.push(Mt),Mt},stop:function(Xt){var rt=0,Mt=Xt?it.tweens.length:0;if(te)return this;for(te=!0;rt<Mt;rt++)it.tweens[rt].run(1);return Xt?(Te.notifyWith(x,[it,1,0]),Te.resolveWith(x,[it,Xt])):Te.rejectWith(x,[it,Xt]),this}}),Et=it.props;for(ri(Et,it.opts.specialEasing);de<_e;de++)if(j=Jc.prefilters[de].call(it,x,Et,it.opts),j)return ue(j.stop)&&(z._queueHooks(it.elem,it.opts.queue).stop=j.stop.bind(j)),j;return z.map(Et,cd,it),ue(it.opts.start)&&it.opts.start.call(x,it),it.progress(it.opts.progress).done(it.opts.done,it.opts.complete).fail(it.opts.fail).always(it.opts.always),z.fx.timer(z.extend(Le,{elem:x,anim:it,queue:it.opts.queue})),it}z.Animation=z.extend(Jc,{tweeners:{"*":[function(x,M){var U=this.createTween(x,M);return Rs(U.elem,x,Lc.exec(M),U),U}]},tweener:function(x,M){ue(x)?(M=x,x=["*"]):x=x.match(Ze);for(var U,j=0,te=x.length;j<te;j++)U=x[j],Jc.tweeners[U]=Jc.tweeners[U]||[],Jc.tweeners[U].unshift(M)},prefilters:[Ss],prefilter:function(x,M){M?Jc.prefilters.unshift(x):Jc.prefilters.push(x)}}),z.speed=function(x,M,U){var j=x&&typeof x=="object"?z.extend({},x):{complete:U||!U&&M||ue(x)&&x,duration:x,easing:U&&M||M&&!ue(M)&&M};return z.fx.off?j.duration=0:typeof j.duration!="number"&&(j.duration in z.fx.speeds?j.duration=z.fx.speeds[j.duration]:j.duration=z.fx.speeds._default),(j.queue==null||j.queue===!0)&&(j.queue="fx"),j.old=j.complete,j.complete=function(){ue(j.old)&&j.old.call(this),j.queue&&z.dequeue(this,j.queue)},j},z.fn.extend({fadeTo:function(x,M,U,j){return this.filter(or).css("opacity",0).show().end().animate({opacity:M},x,U,j)},animate:function(x,M,U,j){var te=z.isEmptyObject(x),de=z.speed(M,U,j),_e=function(){var Te=Jc(this,z.extend({},x),de);(te||Kt.get(this,"finish"))&&Te.stop(!0)};return _e.finish=_e,te||de.queue===!1?this.each(_e):this.queue(de.queue,_e)},stop:function(x,M,U){var j=function(te){var de=te.stop;delete te.stop,de(U)};return typeof x!="string"&&(U=M,M=x,x=void 0),M&&this.queue(x||"fx",[]),this.each(function(){var te=!0,de=x!=null&&x+"queueHooks",_e=z.timers,Te=Kt.get(this);if(de)Te[de]&&Te[de].stop&&j(Te[de]);else for(de in Te)Te[de]&&Te[de].stop&&uu.test(de)&&j(Te[de]);for(de=_e.length;de--;)_e[de].elem===this&&(x==null||_e[de].queue===x)&&(_e[de].anim.stop(U),te=!1,_e.splice(de,1));(te||!U)&&z.dequeue(this,x)})},finish:function(x){return x!==!1&&(x=x||"fx"),this.each(function(){var M,U=Kt.get(this),j=U[x+"queue"],te=U[x+"queueHooks"],de=z.timers,_e=j?j.length:0;for(U.finish=!0,z.queue(this,x,[]),te&&te.stop&&te.stop.call(this,!0),M=de.length;M--;)de[M].elem===this&&de[M].queue===x&&(de[M].anim.stop(!0),de.splice(M,1));for(M=0;M<_e;M++)j[M]&&j[M].finish&&j[M].finish.call(this);delete U.finish})}}),z.each(["toggle","show","hide"],function(x,M){var U=z.fn[M];z.fn[M]=function(j,te,de){return j==null||typeof j=="boolean"?U.apply(this,arguments):this.animate($l(M,!0),j,te,de)}}),z.each({slideDown:$l("show"),slideUp:$l("hide"),slideToggle:$l("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(x,M){z.fn[x]=function(U,j,te){return this.animate(M,U,j,te)}}),z.timers=[],z.fx.tick=function(){var x,M=0,U=z.timers;for(Qc=Date.now();M<U.length;M++)x=U[M],!x()&&U[M]===x&&U.splice(M--,1);U.length||z.fx.stop(),Qc=void 0},z.fx.timer=function(x){z.timers.push(x),z.fx.start()},z.fx.interval=13,z.fx.start=function(){si||(si=!0,ec())},z.fx.stop=function(){si=null},z.fx.speeds={slow:600,fast:200,_default:400},z.fn.delay=function(x,M){return x=z.fx&&z.fx.speeds[x]||x,M=M||"fx",this.queue(M,function(U,j){var te=c.setTimeout(U,x);j.stop=function(){c.clearTimeout(te)}})},function(){var x=ae.createElement("input"),M=ae.createElement("select"),U=M.appendChild(ae.createElement("option"));x.type="checkbox",he.checkOn=x.value!=="",he.optSelected=U.selected,x=ae.createElement("input"),x.value="t",x.type="radio",he.radioValue=x.value==="t"}();var ld,Aa=z.expr.attrHandle;z.fn.extend({attr:function(x,M){return ls(this,z.attr,x,M,arguments.length>1)},removeAttr:function(x){return this.each(function(){z.removeAttr(this,x)})}}),z.extend({attr:function(x,M,U){var j,te,de=x.nodeType;if(!(de===3||de===8||de===2)){if(typeof x.getAttribute>"u")return z.prop(x,M,U);if((de!==1||!z.isXMLDoc(x))&&(te=z.attrHooks[M.toLowerCase()]||(z.expr.match.bool.test(M)?ld:void 0)),U!==void 0){if(U===null){z.removeAttr(x,M);return}return te&&"set"in te&&(j=te.set(x,U,M))!==void 0?j:(x.setAttribute(M,U+""),U)}return te&&"get"in te&&(j=te.get(x,M))!==null?j:(j=z.find.attr(x,M),j??void 0)}},attrHooks:{type:{set:function(x,M){if(!he.radioValue&&M==="radio"&&Ee(x,"input")){var U=x.value;return x.setAttribute("type",M),U&&(x.value=U),M}}}},removeAttr:function(x,M){var U,j=0,te=M&&M.match(Ze);if(te&&x.nodeType===1)for(;U=te[j++];)x.removeAttribute(U)}}),ld={set:function(x,M,U){return M===!1?z.removeAttr(x,U):x.setAttribute(U,U),U}},z.each(z.expr.match.bool.source.match(/\w+/g),function(x,M){var U=Aa[M]||z.find.attr;Aa[M]=function(j,te,de){var _e,Te,Le=te.toLowerCase();return de||(Te=Aa[Le],Aa[Le]=_e,_e=U(j,te,de)!=null?Le:null,Aa[Le]=Te),_e}});var _c=/^(?:input|select|textarea|button)$/i,yr=/^(?:a|area)$/i;z.fn.extend({prop:function(x,M){return ls(this,z.prop,x,M,arguments.length>1)},removeProp:function(x){return this.each(function(){delete this[z.propFix[x]||x]})}}),z.extend({prop:function(x,M,U){var j,te,de=x.nodeType;if(!(de===3||de===8||de===2))return(de!==1||!z.isXMLDoc(x))&&(M=z.propFix[M]||M,te=z.propHooks[M]),U!==void 0?te&&"set"in te&&(j=te.set(x,U,M))!==void 0?j:x[M]=U:te&&"get"in te&&(j=te.get(x,M))!==null?j:x[M]},propHooks:{tabIndex:{get:function(x){var M=z.find.attr(x,"tabindex");return M?parseInt(M,10):_c.test(x.nodeName)||yr.test(x.nodeName)&&x.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),he.optSelected||(z.propHooks.selected={get:function(x){var M=x.parentNode;return M&&M.parentNode&&M.parentNode.selectedIndex,null},set:function(x){var M=x.parentNode;M&&(M.selectedIndex,M.parentNode&&M.parentNode.selectedIndex)}}),z.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){z.propFix[this.toLowerCase()]=this});function ud(x){var M=x.match(Ze)||[];return M.join(" ")}function fu(x){return x.getAttribute&&x.getAttribute("class")||""}function ys(x){return Array.isArray(x)?x:typeof x=="string"?x.match(Ze)||[]:[]}z.fn.extend({addClass:function(x){var M,U,j,te,de,_e;return ue(x)?this.each(function(Te){z(this).addClass(x.call(this,Te,fu(this)))}):(M=ys(x),M.length?this.each(function(){if(j=fu(this),U=this.nodeType===1&&" "+ud(j)+" ",U){for(de=0;de<M.length;de++)te=M[de],U.indexOf(" "+te+" ")<0&&(U+=te+" ");_e=ud(U),j!==_e&&this.setAttribute("class",_e)}}):this)},removeClass:function(x){var M,U,j,te,de,_e;return ue(x)?this.each(function(Te){z(this).removeClass(x.call(this,Te,fu(this)))}):arguments.length?(M=ys(x),M.length?this.each(function(){if(j=fu(this),U=this.nodeType===1&&" "+ud(j)+" ",U){for(de=0;de<M.length;de++)for(te=M[de];U.indexOf(" "+te+" ")>-1;)U=U.replace(" "+te+" "," ");_e=ud(U),j!==_e&&this.setAttribute("class",_e)}}):this):this.attr("class","")},toggleClass:function(x,M){var U,j,te,de,_e=typeof x,Te=_e==="string"||Array.isArray(x);return ue(x)?this.each(function(Le){z(this).toggleClass(x.call(this,Le,fu(this),M),M)}):typeof M=="boolean"&&Te?M?this.addClass(x):this.removeClass(x):(U=ys(x),this.each(function(){if(Te)for(de=z(this),te=0;te<U.length;te++)j=U[te],de.hasClass(j)?de.removeClass(j):de.addClass(j);else(x===void 0||_e==="boolean")&&(j=fu(this),j&&Kt.set(this,"__className__",j),this.setAttribute&&this.setAttribute("class",j||x===!1?"":Kt.get(this,"__className__")||""))}))},hasClass:function(x){var M,U,j=0;for(M=" "+x+" ";U=this[j++];)if(U.nodeType===1&&(" "+ud(fu(U))+" ").indexOf(M)>-1)return!0;return!1}});var tc=/\r/g;z.fn.extend({val:function(x){var M,U,j,te=this[0];return arguments.length?(j=ue(x),this.each(function(de){var _e;this.nodeType===1&&(j?_e=x.call(this,de,z(this).val()):_e=x,_e==null?_e="":typeof _e=="number"?_e+="":Array.isArray(_e)&&(_e=z.map(_e,function(Te){return Te==null?"":Te+""})),M=z.valHooks[this.type]||z.valHooks[this.nodeName.toLowerCase()],(!M||!("set"in M)||M.set(this,_e,"value")===void 0)&&(this.value=_e))})):te?(M=z.valHooks[te.type]||z.valHooks[te.nodeName.toLowerCase()],M&&"get"in M&&(U=M.get(te,"value"))!==void 0?U:(U=te.value,typeof U=="string"?U.replace(tc,""):U??"")):void 0}}),z.extend({valHooks:{option:{get:function(x){var M=z.find.attr(x,"value");return M??ud(z.text(x))}},select:{get:function(x){var M,U,j,te=x.options,de=x.selectedIndex,_e=x.type==="select-one",Te=_e?null:[],Le=_e?de+1:te.length;for(de<0?j=Le:j=_e?de:0;j<Le;j++)if(U=te[j],(U.selected||j===de)&&!U.disabled&&(!U.parentNode.disabled||!Ee(U.parentNode,"optgroup"))){if(M=z(U).val(),_e)return M;Te.push(M)}return Te},set:function(x,M){for(var U,j,te=x.options,de=z.makeArray(M),_e=te.length;_e--;)j=te[_e],(j.selected=z.inArray(z.valHooks.option.get(j),de)>-1)&&(U=!0);return U||(x.selectedIndex=-1),de}}}}),z.each(["radio","checkbox"],function(){z.valHooks[this]={set:function(x,M){if(Array.isArray(M))return x.checked=z.inArray(z(x).val(),M)>-1}},he.checkOn||(z.valHooks[this].get=function(x){return x.getAttribute("value")===null?"on":x.value})}),he.focusin="onfocusin"in c;var ii=/^(?:focusinfocus|focusoutblur)$/,Hr=function(x){x.stopPropagation()};z.extend(z.event,{trigger:function(x,M,U,j){var te,de,_e,Te,Le,it,Et,Xt,rt=[U||ae],Mt=X.call(x,"type")?x.type:x,eo=X.call(x,"namespace")?x.namespace.split("."):[];if(de=Xt=_e=U=U||ae,!(U.nodeType===3||U.nodeType===8)&&!ii.test(Mt+z.event.triggered)&&(Mt.indexOf(".")>-1&&(eo=Mt.split("."),Mt=eo.shift(),eo.sort()),Le=Mt.indexOf(":")<0&&"on"+Mt,x=x[z.expando]?x:new z.Event(Mt,typeof x=="object"&&x),x.isTrigger=j?2:3,x.namespace=eo.join("."),x.rnamespace=x.namespace?new RegExp("(^|\\.)"+eo.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,x.result=void 0,x.target||(x.target=U),M=M==null?[x]:z.makeArray(M,[x]),Et=z.event.special[Mt]||{},!(!j&&Et.trigger&&Et.trigger.apply(U,M)===!1))){if(!j&&!Et.noBubble&&!ce(U)){for(Te=Et.delegateType||Mt,ii.test(Te+Mt)||(de=de.parentNode);de;de=de.parentNode)rt.push(de),_e=de;_e===(U.ownerDocument||ae)&&rt.push(_e.defaultView||_e.parentWindow||c)}for(te=0;(de=rt[te++])&&!x.isPropagationStopped();)Xt=de,x.type=te>1?Te:Et.bindType||Mt,it=(Kt.get(de,"events")||Object.create(null))[x.type]&&Kt.get(de,"handle"),it&&it.apply(de,M),it=Le&&de[Le],it&&it.apply&&Pn(de)&&(x.result=it.apply(de,M),x.result===!1&&x.preventDefault());return x.type=Mt,!j&&!x.isDefaultPrevented()&&(!Et._default||Et._default.apply(rt.pop(),M)===!1)&&Pn(U)&&Le&&ue(U[Mt])&&!ce(U)&&(_e=U[Le],_e&&(U[Le]=null),z.event.triggered=Mt,x.isPropagationStopped()&&Xt.addEventListener(Mt,Hr),U[Mt](),x.isPropagationStopped()&&Xt.removeEventListener(Mt,Hr),z.event.triggered=void 0,_e&&(U[Le]=_e)),x.result}},simulate:function(x,M,U){var j=z.extend(new z.Event,U,{type:x,isSimulated:!0});z.event.trigger(j,null,M)}}),z.fn.extend({trigger:function(x,M){return this.each(function(){z.event.trigger(x,M,this)})},triggerHandler:function(x,M){var U=this[0];if(U)return z.event.trigger(x,M,U,!0)}}),he.focusin||z.each({focus:"focusin",blur:"focusout"},function(x,M){var U=function(j){z.event.simulate(M,j.target,z.event.fix(j))};z.event.special[M]={setup:function(){var j=this.ownerDocument||this.document||this,te=Kt.access(j,M);te||j.addEventListener(x,U,!0),Kt.access(j,M,(te||0)+1)},teardown:function(){var j=this.ownerDocument||this.document||this,te=Kt.access(j,M)-1;te?Kt.access(j,M,te):(j.removeEventListener(x,U,!0),Kt.remove(j,M))}}});var el=c.location,Du={guid:Date.now()},Ec=/\?/;z.parseXML=function(x){var M,U;if(!x||typeof x!="string")return null;try{M=new c.DOMParser().parseFromString(x,"text/xml")}catch{}return U=M&&M.getElementsByTagName("parsererror")[0],(!M||U)&&z.error("Invalid XML: "+(U?z.map(U.childNodes,function(j){return j.textContent}).join(`
`):x)),M};var Bc=/\[\]$/,Nf=/\r?\n/g,Ch=/^(?:submit|button|image|reset|file)$/i,zp=/^(?:input|select|textarea|keygen)/i;function nc(x,M,U,j){var te;if(Array.isArray(M))z.each(M,function(de,_e){U||Bc.test(x)?j(x,_e):nc(x+"["+(typeof _e=="object"&&_e!=null?de:"")+"]",_e,U,j)});else if(!U&&Ne(M)==="object")for(te in M)nc(x+"["+te+"]",M[te],U,j);else j(x,M)}z.param=function(x,M){var U,j=[],te=function(de,_e){var Te=ue(_e)?_e():_e;j[j.length]=encodeURIComponent(de)+"="+encodeURIComponent(Te??"")};if(x==null)return"";if(Array.isArray(x)||x.jquery&&!z.isPlainObject(x))z.each(x,function(){te(this.name,this.value)});else for(U in x)nc(U,x[U],M,te);return j.join("&")},z.fn.extend({serialize:function(){return z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var x=z.prop(this,"elements");return x?z.makeArray(x):this}).filter(function(){var x=this.type;return this.name&&!z(this).is(":disabled")&&zp.test(this.nodeName)&&!Ch.test(x)&&(this.checked||!hl.test(x))}).map(function(x,M){var U=z(this).val();return U==null?null:Array.isArray(U)?z.map(U,function(j){return{name:M.name,value:j.replace(Nf,`\r
`)}}):{name:M.name,value:U.replace(Nf,`\r
`)}}).get()}});var Nu=/%20/g,Sh=/#.*$/,Mu=/([?&])_=[^&]*/,Mf=/^(.*?):[ \t]*([^\r\n]*)$/mg,xm=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ku=/^(?:GET|HEAD)$/,Pu=/^\/\//,Oa={},Mi={},Lu="*/".concat("*"),kf=ae.createElement("a");kf.href=el.href;function Up(x){return function(M,U){typeof M!="string"&&(U=M,M="*");var j,te=0,de=M.toLowerCase().match(Ze)||[];if(ue(U))for(;j=de[te++];)j[0]==="+"?(j=j.slice(1)||"*",(x[j]=x[j]||[]).unshift(U)):(x[j]=x[j]||[]).push(U)}}function Vs(x,M,U,j){var te={},de=x===Mi;function _e(Te){var Le;return te[Te]=!0,z.each(x[Te]||[],function(it,Et){var Xt=Et(M,U,j);if(typeof Xt=="string"&&!de&&!te[Xt])return M.dataTypes.unshift(Xt),_e(Xt),!1;if(de)return!(Le=Xt)}),Le}return _e(M.dataTypes[0])||!te["*"]&&_e("*")}function _r(x,M){var U,j,te=z.ajaxSettings.flatOptions||{};for(U in M)M[U]!==void 0&&((te[U]?x:j||(j={}))[U]=M[U]);return j&&z.extend(!0,x,j),x}function oc(x,M,U){for(var j,te,de,_e,Te=x.contents,Le=x.dataTypes;Le[0]==="*";)Le.shift(),j===void 0&&(j=x.mimeType||M.getResponseHeader("Content-Type"));if(j){for(te in Te)if(Te[te]&&Te[te].test(j)){Le.unshift(te);break}}if(Le[0]in U)de=Le[0];else{for(te in U){if(!Le[0]||x.converters[te+" "+Le[0]]){de=te;break}_e||(_e=te)}de=de||_e}if(de)return de!==Le[0]&&Le.unshift(de),U[de]}function Ji(x,M,U,j){var te,de,_e,Te,Le,it={},Et=x.dataTypes.slice();if(Et[1])for(_e in x.converters)it[_e.toLowerCase()]=x.converters[_e];for(de=Et.shift();de;)if(x.responseFields[de]&&(U[x.responseFields[de]]=M),!Le&&j&&x.dataFilter&&(M=x.dataFilter(M,x.dataType)),Le=de,de=Et.shift(),de){if(de==="*")de=Le;else if(Le!=="*"&&Le!==de){if(_e=it[Le+" "+de]||it["* "+de],!_e){for(te in it)if(Te=te.split(" "),Te[1]===de&&(_e=it[Le+" "+Te[0]]||it["* "+Te[0]],_e)){_e===!0?_e=it[te]:it[te]!==!0&&(de=Te[0],Et.unshift(Te[1]));break}}if(_e!==!0)if(_e&&x.throws)M=_e(M);else try{M=_e(M)}catch(Xt){return{state:"parsererror",error:_e?Xt:"No conversion from "+Le+" to "+de}}}}return{state:"success",data:M}}z.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:el.href,type:"GET",isLocal:xm.test(el.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Lu,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":z.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(x,M){return M?_r(_r(x,z.ajaxSettings),M):_r(z.ajaxSettings,x)},ajaxPrefilter:Up(Oa),ajaxTransport:Up(Mi),ajax:function(x,M){typeof x=="object"&&(M=x,x=void 0),M=M||{};var U,j,te,de,_e,Te,Le,it,Et,Xt,rt=z.ajaxSetup({},M),Mt=rt.context||rt,eo=rt.context&&(Mt.nodeType||Mt.jquery)?z(Mt):z.event,Yn=z.Deferred(),Cn=z.Callbacks("once memory"),ur=rt.statusCode||{},qs={},us={},Xn="canceled",to={readyState:0,getResponseHeader:function(Oo){var Er;if(Le){if(!de)for(de={};Er=Mf.exec(te);)de[Er[1].toLowerCase()+" "]=(de[Er[1].toLowerCase()+" "]||[]).concat(Er[2]);Er=de[Oo.toLowerCase()+" "]}return Er==null?null:Er.join(", ")},getAllResponseHeaders:function(){return Le?te:null},setRequestHeader:function(Oo,Er){return Le==null&&(Oo=us[Oo.toLowerCase()]=us[Oo.toLowerCase()]||Oo,qs[Oo]=Er),this},overrideMimeType:function(Oo){return Le==null&&(rt.mimeType=Oo),this},statusCode:function(Oo){var Er;if(Oo)if(Le)to.always(Oo[to.status]);else for(Er in Oo)ur[Er]=[ur[Er],Oo[Er]];return this},abort:function(Oo){var Er=Oo||Xn;return U&&U.abort(Er),Pi(0,Er),this}};if(Yn.promise(to),rt.url=((x||rt.url||el.href)+"").replace(Pu,el.protocol+"//"),rt.type=M.method||M.type||rt.method||rt.type,rt.dataTypes=(rt.dataType||"*").toLowerCase().match(Ze)||[""],rt.crossDomain==null){Te=ae.createElement("a");try{Te.href=rt.url,Te.href=Te.href,rt.crossDomain=kf.protocol+"//"+kf.host!=Te.protocol+"//"+Te.host}catch{rt.crossDomain=!0}}if(rt.data&&rt.processData&&typeof rt.data!="string"&&(rt.data=z.param(rt.data,rt.traditional)),Vs(Oa,rt,M,to),Le)return to;it=z.event&&rt.global,it&&z.active++===0&&z.event.trigger("ajaxStart"),rt.type=rt.type.toUpperCase(),rt.hasContent=!ku.test(rt.type),j=rt.url.replace(Sh,""),rt.hasContent?rt.data&&rt.processData&&(rt.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(rt.data=rt.data.replace(Nu,"+")):(Xt=rt.url.slice(j.length),rt.data&&(rt.processData||typeof rt.data=="string")&&(j+=(Ec.test(j)?"&":"?")+rt.data,delete rt.data),rt.cache===!1&&(j=j.replace(Mu,"$1"),Xt=(Ec.test(j)?"&":"?")+"_="+Du.guid+++Xt),rt.url=j+Xt),rt.ifModified&&(z.lastModified[j]&&to.setRequestHeader("If-Modified-Since",z.lastModified[j]),z.etag[j]&&to.setRequestHeader("If-None-Match",z.etag[j])),(rt.data&&rt.hasContent&&rt.contentType!==!1||M.contentType)&&to.setRequestHeader("Content-Type",rt.contentType),to.setRequestHeader("Accept",rt.dataTypes[0]&&rt.accepts[rt.dataTypes[0]]?rt.accepts[rt.dataTypes[0]]+(rt.dataTypes[0]!=="*"?", "+Lu+"; q=0.01":""):rt.accepts["*"]);for(Et in rt.headers)to.setRequestHeader(Et,rt.headers[Et]);if(rt.beforeSend&&(rt.beforeSend.call(Mt,to,rt)===!1||Le))return to.abort();if(Xn="abort",Cn.add(rt.complete),to.done(rt.success),to.fail(rt.error),U=Vs(Mi,rt,M,to),!U)Pi(-1,"No Transport");else{if(to.readyState=1,it&&eo.trigger("ajaxSend",[to,rt]),Le)return to;rt.async&&rt.timeout>0&&(_e=c.setTimeout(function(){to.abort("timeout")},rt.timeout));try{Le=!1,U.send(qs,Pi)}catch(Oo){if(Le)throw Oo;Pi(-1,Oo)}}function Pi(Oo,Er,Fl,zs){var dr,Dr,Fc,wi,as,fr=Er;Le||(Le=!0,_e&&c.clearTimeout(_e),U=void 0,te=zs||"",to.readyState=Oo>0?4:0,dr=Oo>=200&&Oo<300||Oo===304,Fl&&(wi=oc(rt,to,Fl)),!dr&&z.inArray("script",rt.dataTypes)>-1&&z.inArray("json",rt.dataTypes)<0&&(rt.converters["text script"]=function(){}),wi=Ji(rt,wi,to,dr),dr?(rt.ifModified&&(as=to.getResponseHeader("Last-Modified"),as&&(z.lastModified[j]=as),as=to.getResponseHeader("etag"),as&&(z.etag[j]=as)),Oo===204||rt.type==="HEAD"?fr="nocontent":Oo===304?fr="notmodified":(fr=wi.state,Dr=wi.data,Fc=wi.error,dr=!Fc)):(Fc=fr,(Oo||!fr)&&(fr="error",Oo<0&&(Oo=0))),to.status=Oo,to.statusText=(Er||fr)+"",dr?Yn.resolveWith(Mt,[Dr,fr,to]):Yn.rejectWith(Mt,[to,fr,Fc]),to.statusCode(ur),ur=void 0,it&&eo.trigger(dr?"ajaxSuccess":"ajaxError",[to,rt,dr?Dr:Fc]),Cn.fireWith(Mt,[to,fr]),it&&(eo.trigger("ajaxComplete",[to,rt]),--z.active||z.event.trigger("ajaxStop")))}return to},getJSON:function(x,M,U){return z.get(x,M,U,"json")},getScript:function(x,M){return z.get(x,void 0,M,"script")}}),z.each(["get","post"],function(x,M){z[M]=function(U,j,te,de){return ue(j)&&(de=de||te,te=j,j=void 0),z.ajax(z.extend({url:U,type:M,dataType:de,data:j,success:te},z.isPlainObject(U)&&U))}}),z.ajaxPrefilter(function(x){var M;for(M in x.headers)M.toLowerCase()==="content-type"&&(x.contentType=x.headers[M]||"")}),z._evalUrl=function(x,M,U){return z.ajax({url:x,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(j){z.globalEval(j,M,U)}})},z.fn.extend({wrapAll:function(x){var M;return this[0]&&(ue(x)&&(x=x.call(this[0])),M=z(x,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&M.insertBefore(this[0]),M.map(function(){for(var U=this;U.firstElementChild;)U=U.firstElementChild;return U}).append(this)),this},wrapInner:function(x){return ue(x)?this.each(function(M){z(this).wrapInner(x.call(this,M))}):this.each(function(){var M=z(this),U=M.contents();U.length?U.wrapAll(x):M.append(x)})},wrap:function(x){var M=ue(x);return this.each(function(U){z(this).wrapAll(M?x.call(this,U):x)})},unwrap:function(x){return this.parent(x).not("body").each(function(){z(this).replaceWith(this.childNodes)}),this}}),z.expr.pseudos.hidden=function(x){return!z.expr.pseudos.visible(x)},z.expr.pseudos.visible=function(x){return!!(x.offsetWidth||x.offsetHeight||x.getClientRects().length)},z.ajaxSettings.xhr=function(){try{return new c.XMLHttpRequest}catch{}};var pl={0:200,1223:204},$c=z.ajaxSettings.xhr();he.cors=!!$c&&"withCredentials"in $c,he.ajax=$c=!!$c,z.ajaxTransport(function(x){var M,U;if(he.cors||$c&&!x.crossDomain)return{send:function(j,te){var de,_e=x.xhr();if(_e.open(x.type,x.url,x.async,x.username,x.password),x.xhrFields)for(de in x.xhrFields)_e[de]=x.xhrFields[de];x.mimeType&&_e.overrideMimeType&&_e.overrideMimeType(x.mimeType),!x.crossDomain&&!j["X-Requested-With"]&&(j["X-Requested-With"]="XMLHttpRequest");for(de in j)_e.setRequestHeader(de,j[de]);M=function(Te){return function(){M&&(M=U=_e.onload=_e.onerror=_e.onabort=_e.ontimeout=_e.onreadystatechange=null,Te==="abort"?_e.abort():Te==="error"?typeof _e.status!="number"?te(0,"error"):te(_e.status,_e.statusText):te(pl[_e.status]||_e.status,_e.statusText,(_e.responseType||"text")!=="text"||typeof _e.responseText!="string"?{binary:_e.response}:{text:_e.responseText},_e.getAllResponseHeaders()))}},_e.onload=M(),U=_e.onerror=_e.ontimeout=M("error"),_e.onabort!==void 0?_e.onabort=U:_e.onreadystatechange=function(){_e.readyState===4&&c.setTimeout(function(){M&&U()})},M=M("abort");try{_e.send(x.hasContent&&x.data||null)}catch(Te){if(M)throw Te}},abort:function(){M&&M()}}}),z.ajaxPrefilter(function(x){x.crossDomain&&(x.contents.script=!1)}),z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(x){return z.globalEval(x),x}}}),z.ajaxPrefilter("script",function(x){x.cache===void 0&&(x.cache=!1),x.crossDomain&&(x.type="GET")}),z.ajaxTransport("script",function(x){if(x.crossDomain||x.scriptAttrs){var M,U;return{send:function(j,te){M=z("<script>").attr(x.scriptAttrs||{}).prop({charset:x.scriptCharset,src:x.url}).on("load error",U=function(de){M.remove(),U=null,de&&te(de.type==="error"?404:200,de.type)}),ae.head.appendChild(M[0])},abort:function(){U&&U()}}}});var lo=[],No=/(=)\?(?=&|$)|\?\?/;z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var x=lo.pop()||z.expando+"_"+Du.guid++;return this[x]=!0,x}}),z.ajaxPrefilter("json jsonp",function(x,M,U){var j,te,de,_e=x.jsonp!==!1&&(No.test(x.url)?"url":typeof x.data=="string"&&(x.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&No.test(x.data)&&"data");if(_e||x.dataTypes[0]==="jsonp")return j=x.jsonpCallback=ue(x.jsonpCallback)?x.jsonpCallback():x.jsonpCallback,_e?x[_e]=x[_e].replace(No,"$1"+j):x.jsonp!==!1&&(x.url+=(Ec.test(x.url)?"&":"?")+x.jsonp+"="+j),x.converters["script json"]=function(){return de||z.error(j+" was not called"),de[0]},x.dataTypes[0]="json",te=c[j],c[j]=function(){de=arguments},U.always(function(){te===void 0?z(c).removeProp(j):c[j]=te,x[j]&&(x.jsonpCallback=M.jsonpCallback,lo.push(j)),de&&ue(te)&&te(de[0]),de=te=void 0}),"script"}),he.createHTMLDocument=function(){var x=ae.implementation.createHTMLDocument("").body;return x.innerHTML="<form></form><form></form>",x.childNodes.length===2}(),z.parseHTML=function(x,M,U){if(typeof x!="string")return[];typeof M=="boolean"&&(U=M,M=!1);var j,te,de;return M||(he.createHTMLDocument?(M=ae.implementation.createHTMLDocument(""),j=M.createElement("base"),j.href=ae.location.href,M.head.appendChild(j)):M=ae),te=pn.exec(x),de=!U&&[],te?[M.createElement(te[1])]:(te=_h([x],M,de),de&&de.length&&z(de).remove(),z.merge([],te.childNodes))},z.fn.load=function(x,M,U){var j,te,de,_e=this,Te=x.indexOf(" ");return Te>-1&&(j=ud(x.slice(Te)),x=x.slice(0,Te)),ue(M)?(U=M,M=void 0):M&&typeof M=="object"&&(te="POST"),_e.length>0&&z.ajax({url:x,type:te||"GET",dataType:"html",data:M}).done(function(Le){de=arguments,_e.html(j?z("<div>").append(z.parseHTML(Le)).find(j):Le)}).always(U&&function(Le,it){_e.each(function(){U.apply(this,de||[Le.responseText,it,Le])})}),this},z.expr.pseudos.animated=function(x){return z.grep(z.timers,function(M){return x===M.elem}).length},z.offset={setOffset:function(x,M,U){var j,te,de,_e,Te,Le,it,Et=z.css(x,"position"),Xt=z(x),rt={};Et==="static"&&(x.style.position="relative"),Te=Xt.offset(),de=z.css(x,"top"),Le=z.css(x,"left"),it=(Et==="absolute"||Et==="fixed")&&(de+Le).indexOf("auto")>-1,it?(j=Xt.position(),_e=j.top,te=j.left):(_e=parseFloat(de)||0,te=parseFloat(Le)||0),ue(M)&&(M=M.call(x,U,z.extend({},Te))),M.top!=null&&(rt.top=M.top-Te.top+_e),M.left!=null&&(rt.left=M.left-Te.left+te),"using"in M?M.using.call(x,rt):Xt.css(rt)}},z.fn.extend({offset:function(x){if(arguments.length)return x===void 0?this:this.each(function(te){z.offset.setOffset(this,x,te)});var M,U,j=this[0];if(j)return j.getClientRects().length?(M=j.getBoundingClientRect(),U=j.ownerDocument.defaultView,{top:M.top+U.pageYOffset,left:M.left+U.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var x,M,U,j=this[0],te={top:0,left:0};if(z.css(j,"position")==="fixed")M=j.getBoundingClientRect();else{for(M=this.offset(),U=j.ownerDocument,x=j.offsetParent||U.documentElement;x&&(x===U.body||x===U.documentElement)&&z.css(x,"position")==="static";)x=x.parentNode;x&&x!==j&&x.nodeType===1&&(te=z(x).offset(),te.top+=z.css(x,"borderTopWidth",!0),te.left+=z.css(x,"borderLeftWidth",!0))}return{top:M.top-te.top-z.css(j,"marginTop",!0),left:M.left-te.left-z.css(j,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var x=this.offsetParent;x&&z.css(x,"position")==="static";)x=x.offsetParent;return x||Ir})}}),z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(x,M){var U=M==="pageYOffset";z.fn[x]=function(j){return ls(this,function(te,de,_e){var Te;if(ce(te)?Te=te:te.nodeType===9&&(Te=te.defaultView),_e===void 0)return Te?Te[M]:te[de];Te?Te.scrollTo(U?Te.pageXOffset:_e,U?_e:Te.pageYOffset):te[de]=_e},x,j,arguments.length)}}),z.each(["top","left"],function(x,M){z.cssHooks[M]=Fp(he.pixelPosition,function(U,j){if(j)return j=ml(U,M),Ur.test(j)?z(U).position()[M]+"px":j})}),z.each({Height:"height",Width:"width"},function(x,M){z.each({padding:"inner"+x,content:M,"":"outer"+x},function(U,j){z.fn[j]=function(te,de){var _e=arguments.length&&(U||typeof te!="boolean"),Te=U||(te===!0||de===!0?"margin":"border");return ls(this,function(Le,it,Et){var Xt;return ce(Le)?j.indexOf("outer")===0?Le["inner"+x]:Le.document.documentElement["client"+x]:Le.nodeType===9?(Xt=Le.documentElement,Math.max(Le.body["scroll"+x],Xt["scroll"+x],Le.body["offset"+x],Xt["offset"+x],Xt["client"+x])):Et===void 0?z.css(Le,it,Te):z.style(Le,it,Et,Te)},M,_e?te:void 0,_e)}})}),z.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(x,M){z.fn[M]=function(U){return this.on(M,U)}}),z.fn.extend({bind:function(x,M,U){return this.on(x,null,M,U)},unbind:function(x,M){return this.off(x,null,M)},delegate:function(x,M,U,j){return this.on(M,x,U,j)},undelegate:function(x,M,U){return arguments.length===1?this.off(x,"**"):this.off(M,x||"**",U)},hover:function(x,M){return this.mouseenter(x).mouseleave(M||x)}}),z.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(x,M){z.fn[M]=function(U,j){return arguments.length>0?this.on(M,null,U,j):this.trigger(M)}});var ki=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;z.proxy=function(x,M){var U,j,te;if(typeof M=="string"&&(U=x[M],M=x,x=U),!!ue(x))return j=w.call(arguments,2),te=function(){return x.apply(M||this,j.concat(w.call(arguments)))},te.guid=x.guid=x.guid||z.guid++,te},z.holdReady=function(x){x?z.readyWait++:z.ready(!0)},z.isArray=Array.isArray,z.parseJSON=JSON.parse,z.nodeName=Ee,z.isFunction=ue,z.isWindow=ce,z.camelCase=Qa,z.type=Ne,z.now=Date.now,z.isNumeric=function(x){var M=z.type(x);return(M==="number"||M==="string")&&!isNaN(x-parseFloat(x))},z.trim=function(x){return x==null?"":(x+"").replace(ki,"$1")};var Xr=c.jQuery,ua=c.$;return z.noConflict=function(x){return c.$===z&&(c.$=ua),x&&c.jQuery===z&&(c.jQuery=Xr),z},typeof f>"u"&&(c.jQuery=c.$=z),z})})(Xne);const Qne=CZ;var SZ={},Jne={get exports(){return SZ},set exports(a){SZ=a}};(function(a){(function(){var c=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},f=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},y=function(e,n){var o=Array.prototype.slice.call(e);return o.sort(n)},C=function(e,n){return w(function(o,r){return e.eq(n(o),n(r))})},w=function(e){return{eq:e}},S=w(function(e,n){return e===n}),D=S,k=function(e){return w(function(n,o){if(n.length!==o.length)return!1;for(var r=n.length,l=0;l<r;l++)if(!e.eq(n[l],o[l]))return!1;return!0})},G=function(e,n){return C(k(e),function(o){return y(o,n)})},q=function(e){return w(function(n,o){var r=Object.keys(n),l=Object.keys(o);if(!G(D).eq(r,l))return!1;for(var h=r.length,v=0;v<h;v++){var A=r[v];if(!e.eq(n[A],o[A]))return!1}return!0})},X=w(function(e,n){if(e===n)return!0;var o=c(e),r=c(n);return o!==r?!1:f(o)?e===n:o==="array"?k(X).eq(e,n):o==="object"?q(X).eq(e,n):!1});const fe=Object.getPrototypeOf,re=(e,n,o)=>{var r;return o(e,n.prototype)?!0:((r=e.constructor)===null||r===void 0?void 0:r.name)===n.name},he=e=>{const n=typeof e;return e===null?"null":n==="object"&&Array.isArray(e)?"array":n==="object"&&re(e,String,(o,r)=>r.isPrototypeOf(o))?"string":n},ue=e=>n=>he(n)===e,ce=e=>n=>typeof n===e,ae=e=>n=>e===n,ge=(e,n)=>Ne(e)&&re(e,n,(o,r)=>fe(o)===r),Q=ue("string"),Ne=ue("object"),qe=e=>ge(e,Object),z=ue("array"),we=ae(null),je=ce("boolean"),dt=ae(void 0),_t=e=>e==null,Pe=e=>!_t(e),Ee=ce("function"),pn=ce("number"),Tt=(e,n)=>{if(z(e)){for(let o=0,r=e.length;o<r;++o)if(!n(e[o]))return!1;return!0}return!1},Rt=()=>{},B=(e,n)=>(...o)=>e(n.apply(null,o)),It=(e,n)=>o=>e(n(o)),nt=e=>()=>e,jt=e=>e,zt=(e,n)=>e===n;function Ze(e,...n){return(...o)=>{const r=n.concat(o);return e.apply(null,r)}}const bo=e=>n=>!e(n),Fo=e=>()=>{throw new Error(e)},co=e=>e(),Ho=e=>{e()},tt=nt(!1),Dt=nt(!0);class se{constructor(n,o){this.tag=n,this.value=o}static some(n){return new se(!0,n)}static none(){return se.singletonNone}fold(n,o){return this.tag?o(this.value):n()}isSome(){return this.tag}isNone(){return!this.tag}map(n){return this.tag?se.some(n(this.value)):se.none()}bind(n){return this.tag?n(this.value):se.none()}exists(n){return this.tag&&n(this.value)}forall(n){return!this.tag||n(this.value)}filter(n){return!this.tag||n(this.value)?this:se.none()}getOr(n){return this.tag?this.value:n}or(n){return this.tag?this:n}getOrThunk(n){return this.tag?this.value:n()}orThunk(n){return this.tag?this:n()}getOrDie(n){if(this.tag)return this.value;throw new Error(n??"Called getOrDie on None")}static from(n){return Pe(n)?se.some(n):se.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(n){this.tag&&n(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}se.singletonNone=new se(!1);const ls=Array.prototype.slice,fo=Array.prototype.indexOf,Ft=Array.prototype.push,vs=(e,n)=>fo.call(e,n),Qa=(e,n)=>{const o=vs(e,n);return o===-1?se.none():se.some(o)},Pn=(e,n)=>vs(e,n)>-1,Po=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const l=e[o];if(n(l,o))return!0}return!1},Kt=(e,n)=>{const o=e.length,r=new Array(o);for(let l=0;l<o;l++){const h=e[l];r[l]=n(h,l)}return r},pt=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const l=e[o];n(l,o)}},vi=(e,n)=>{for(let o=e.length-1;o>=0;o--){const r=e[o];n(r,o)}},bi=(e,n)=>{const o=[],r=[];for(let l=0,h=e.length;l<h;l++){const v=e[l];(n(v,l)?o:r).push(v)}return{pass:o,fail:r}},Bt=(e,n)=>{const o=[];for(let r=0,l=e.length;r<l;r++){const h=e[r];n(h,r)&&o.push(h)}return o},Br=(e,n,o)=>(vi(e,(r,l)=>{o=n(o,r,l)}),o),Ms=(e,n,o)=>(pt(e,(r,l)=>{o=n(o,r,l)}),o),Lc=(e,n,o)=>{for(let r=0,l=e.length;r<l;r++){const h=e[r];if(n(h,r))return se.some(h);if(o(h,r))break}return se.none()},bs=(e,n)=>Lc(e,n,tt),Ir=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const l=e[o];if(n(l,o))return se.some(o)}return se.none()},Zc=e=>{const n=[];for(let o=0,r=e.length;o<r;++o){if(!z(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);Ft.apply(n,e[o])}return n},Sa=(e,n)=>Zc(Kt(e,n)),or=(e,n)=>{for(let o=0,r=e.length;o<r;++o){const l=e[o];if(n(l,o)!==!0)return!1}return!0},Rs=e=>{const n=ls.call(e,0);return n.reverse(),n},id=(e,n)=>Bt(e,o=>!Pn(n,o)),Kr=(e,n)=>{const o={};for(let r=0,l=e.length;r<l;r++){const h=e[r];o[String(h)]=n(h,r)}return o},ks=(e,n)=>{const o=ls.call(e,0);return o.sort(n),o},hl=(e,n)=>n>=0&&n<e.length?se.some(e[n]):se.none(),Di=e=>hl(e,0),Yc=e=>hl(e,e.length-1),br=Ee(Array.from)?Array.from:e=>ls.call(e),$r=(e,n)=>{for(let o=0;o<e.length;o++){const r=n(e[o],o);if(r.isSome())return r}return se.none()},qd=(e,n)=>{const o=[],r=Ee(n)?l=>Po(o,h=>n(h,l)):l=>Pn(o,l);for(let l=0,h=e.length;l<h;l++){const v=e[l];r(v)||o.push(v)}return o},yi=Object.keys,_h=Object.hasOwnProperty,cn=(e,n)=>{const o=yi(e);for(let r=0,l=o.length;r<l;r++){const h=o[r],v=e[h];n(v,h)}},Vo=(e,n)=>la(e,(o,r)=>({k:r,v:n(o,r)})),la=(e,n)=>{const o={};return cn(e,(r,l)=>{const h=n(r,l);o[h.k]=h.v}),o},vc=e=>(n,o)=>{e[o]=n},Eh=(e,n,o,r)=>{cn(e,(l,h)=>{(n(l,h)?o:r)(l,h)})},cu=(e,n)=>{const o={},r={};return Eh(e,n,vc(o),vc(r)),{t:o,f:r}},Ps=(e,n)=>{const o={};return Eh(e,n,vc(o),Rt),o},ad=(e,n)=>{const o=[];return cn(e,(r,l)=>{o.push(n(r,l))}),o},jd=e=>ad(e,jt),Qs=(e,n)=>jn(e,n)?se.from(e[n]):se.none(),jn=(e,n)=>_h.call(e,n),Ja=(e,n)=>jn(e,n)&&e[n]!==void 0&&e[n]!==null,Iu=(e,n,o=X)=>q(o).eq(e,n),Kc=e=>{const n={};return pt(e,o=>{n[o]={}}),yi(n)},wh=e=>e.length!==void 0,Ni=Array.isArray,Xi=e=>{if(Ni(e))return e;{const n=[];for(let o=0,r=e.length;o<r;o++)n[o]=e[o];return n}},Ur=(e,n,o)=>{if(!e)return!1;if(o=o||e,wh(e)){for(let r=0,l=e.length;r<l;r++)if(n.call(o,e[r],r,e)===!1)return!1}else for(const r in e)if(jn(e,r)&&n.call(o,e[r],r,e)===!1)return!1;return!0},Ha=(e,n)=>{const o=[];return Ur(e,(r,l)=>{o.push(n(r,l,e))}),o},Xc=(e,n)=>{const o=[];return Ur(e,(r,l)=>{(!n||n(r,l,e))&&o.push(r)}),o},bc=(e,n)=>{if(e){for(let o=0,r=e.length;o<r;o++)if(e[o]===n)return o}return-1},xa=(e,n,o,r)=>{let l=dt(o)?e[0]:o;for(let h=0;h<e.length;h++)l=n.call(r,l,e[h],h);return l},Fr=(e,n,o)=>{for(let r=0,l=e.length;r<l;r++)if(n.call(o,e[r],r,e))return r;return-1},yc=e=>e[e.length-1],ml=e=>{let n=!1,o;return(...r)=>(n||(n=!0,o=e.apply(null,r)),o)},Fp=(e,n,o,r)=>{const l=e.isiOS()&&/ipad/i.test(o)===!0,h=e.isiOS()&&!l,v=e.isiOS()||e.isAndroid(),A=v||r("(pointer:coarse)"),R=l||!h&&v&&r("(min-device-width:768px)"),F=h||v&&!R,J=n.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,K=!F&&!R&&!J;return{isiPad:nt(l),isiPhone:nt(h),isTablet:nt(R),isPhone:nt(F),isTouch:nt(A),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:nt(J),isDesktop:nt(K)}},Hp=(e,n)=>{for(let o=0;o<e.length;o++){const r=e[o];if(r.test(n))return r}},Bl=(e,n)=>{const o=Hp(e,n);if(!o)return{major:0,minor:0};const r=l=>Number(n.replace(o,"$"+l));return _i(r(1),r(2))},Cm=(e,n)=>{const o=String(n).toLowerCase();return e.length===0?Je():Bl(e,o)},Je=()=>_i(0,0),_i=(e,n)=>({major:e,minor:n}),lu={nu:_i,detect:Cm,unknown:Je},Vp=(e,n)=>$r(n.brands,o=>{const r=o.brand.toLowerCase();return bs(e,l=>{var h;return r===((h=l.brand)===null||h===void 0?void 0:h.toLowerCase())}).map(l=>({current:l.name,version:lu.nu(parseInt(o.version,10),0)}))}),Th=(e,n)=>{const o=String(n).toLowerCase();return bs(e,r=>r.search(o))},Hs=(e,n)=>Th(e,n).map(o=>{const r=lu.detect(o.versionRegexes,n);return{current:o.name,version:r}}),Zd=(e,n)=>Th(e,n).map(o=>{const r=lu.detect(o.versionRegexes,n);return{current:o.name,version:r}}),Sm=(e,n)=>e.substring(n),Qi=(e,n,o)=>n===""||e.length>=n.length&&e.substr(o,o+n.length)===n,Qc=(e,n)=>Ei(e,n)?Sm(e,n.length):e,si=(e,n,o=0,r)=>{const l=e.indexOf(n,o);return l!==-1?dt(r)?!0:l+n.length<=r:!1},Ei=(e,n)=>Qi(e,n,0),uu=(e,n)=>Qi(e,n,e.length-n.length),ec=e=>n=>n.replace(e,""),du=ec(/^\s+|\s+$/g),$l=ec(/^\s+/g),cd=ec(/\s+$/g),Ss=e=>e.length>0,ri=e=>!Ss(e),Jc=(e,n)=>n<=0?"":new Array(n+1).join(e),ld=(e,n=10)=>{const o=parseInt(e,n);return isNaN(o)?se.none():se.some(o)},Aa=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,_c=e=>n=>si(n,e),yr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>si(e,"edge/")&&si(e,"chrome")&&si(e,"safari")&&si(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Aa],search:e=>si(e,"chrome")&&!si(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>si(e,"msie")||si(e,"trident")},{name:"Opera",versionRegexes:[Aa,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:_c("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:_c("firefox")},{name:"Safari",versionRegexes:[Aa,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(si(e,"safari")||si(e,"mobile/"))&&si(e,"applewebkit")}],ud=[{name:"Windows",search:_c("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>si(e,"iphone")||si(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:_c("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:_c("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:_c("linux"),versionRegexes:[]},{name:"Solaris",search:_c("sunos"),versionRegexes:[]},{name:"FreeBSD",search:_c("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:_c("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],fu={browsers:nt(yr),oses:nt(ud)},ys="Edge",tc="Chromium",ii="IE",Hr="Opera",el="Firefox",Du="Safari",Ec=()=>Bc({current:void 0,version:lu.unknown()}),Bc=e=>{const n=e.current,o=e.version,r=l=>()=>n===l;return{current:n,version:o,isEdge:r(ys),isChromium:r(tc),isIE:r(ii),isOpera:r(Hr),isFirefox:r(el),isSafari:r(Du)}},Nf={unknown:Ec,nu:Bc,edge:nt(ys),chromium:nt(tc),ie:nt(ii),opera:nt(Hr),firefox:nt(el),safari:nt(Du)},Ch="Windows",zp="iOS",nc="Android",Nu="Linux",Sh="macOS",Mu="Solaris",Mf="FreeBSD",xm="ChromeOS",ku=()=>Pu({current:void 0,version:lu.unknown()}),Pu=e=>{const n=e.current,o=e.version,r=l=>()=>n===l;return{current:n,version:o,isWindows:r(Ch),isiOS:r(zp),isAndroid:r(nc),isMacOS:r(Sh),isLinux:r(Nu),isSolaris:r(Mu),isFreeBSD:r(Mf),isChromeOS:r(xm)}},Oa={unknown:ku,nu:Pu,windows:nt(Ch),ios:nt(zp),android:nt(nc),linux:nt(Nu),macos:nt(Sh),solaris:nt(Mu),freebsd:nt(Mf),chromeos:nt(xm)},Lu={detect:(e,n,o)=>{const r=fu.browsers(),l=fu.oses(),h=n.bind(R=>Vp(r,R)).orThunk(()=>Hs(r,e)).fold(Nf.unknown,Nf.nu),v=Zd(l,e).fold(Oa.unknown,Oa.nu),A=Fp(v,h,e,o);return{browser:h,os:v,deviceType:A}}},kf=e=>window.matchMedia(e).matches;let Up=ml(()=>Lu.detect(navigator.userAgent,se.from(navigator.userAgentData),kf));const Vs=()=>Up(),_r=navigator.userAgent,oc=Vs(),Ji=oc.browser,pl=oc.os,$c=oc.deviceType,lo=_r.indexOf("Windows Phone")!==-1,No={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Ji.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Ji.isIE(),windowsPhone:lo,browser:{current:Ji.current,version:Ji.version,isChromium:Ji.isChromium,isEdge:Ji.isEdge,isFirefox:Ji.isFirefox,isIE:Ji.isIE,isOpera:Ji.isOpera,isSafari:Ji.isSafari},os:{current:pl.current,version:pl.version,isAndroid:pl.isAndroid,isChromeOS:pl.isChromeOS,isFreeBSD:pl.isFreeBSD,isiOS:pl.isiOS,isLinux:pl.isLinux,isMacOS:pl.isMacOS,isSolaris:pl.isSolaris,isWindows:pl.isWindows},deviceType:{isDesktop:$c.isDesktop,isiPad:$c.isiPad,isiPhone:$c.isiPhone,isPhone:$c.isPhone,isTablet:$c.isTablet,isTouch:$c.isTouch,isWebView:$c.isWebView}},ki=/^\s*|\s*$/g,Xr=e=>_t(e)?"":(""+e).replace(ki,""),ua=(e,n)=>n?n==="array"&&Ni(e)?!0:typeof e===n:e!==void 0,x=(e,n,o={})=>{const r=Q(e)?e.split(n||","):e||[];let l=r.length;for(;l--;)o[r[l]]={};return o},M=jn,U=(e,...n)=>{for(let o=0;o<n.length;o++){const r=n[o];for(const l in r)if(jn(r,l)){const h=r[l];h!==void 0&&(e[l]=h)}}return e},j=function(e,n,o,r){r=r||this,e&&(o&&(e=e[o]),Ur(e,(l,h)=>n.call(r,l,h,o)===!1?!1:(j(l,n,o,r),!0)))},Te={trim:Xr,isArray:Ni,is:ua,toArray:Xi,makeMap:x,each:Ur,map:Ha,grep:Xc,inArray:bc,hasOwn:M,extend:U,walk:j,resolve:(e,n=window)=>{const o=e.split(".");for(let r=0,l=o.length;r<l&&(n=n[o[r]],!!n);r++);return n},explode:(e,n)=>z(e)?e:e===""?[]:Ha(e.split(n||","),Xr),_addCacheSuffix:e=>{const n=No.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e}},Le=(e,n,o=zt)=>e.exists(r=>o(r,n)),it=e=>{const n=[],o=r=>{n.push(r)};for(let r=0;r<e.length;r++)e[r].each(o);return n},Et=(e,n,o)=>e.isSome()&&n.isSome()?se.some(o(e.getOrDie(),n.getOrDie())):se.none(),Xt=(e,n,o,r)=>e.isSome()&&n.isSome()&&o.isSome()?se.some(r(e.getOrDie(),n.getOrDie(),o.getOrDie())):se.none(),rt=(e,n)=>e?se.some(n):se.none(),Mt=typeof window<"u"?window:Function("return this;")(),eo=(e,n)=>{let o=n??Mt;for(let r=0;r<e.length&&o!==void 0&&o!==null;++r)o=o[e[r]];return o},Yn=(e,n)=>{const o=e.split(".");return eo(o,n)},Cn=(e,n)=>Yn(e,n),ur=(e,n)=>{const o=Cn(e,n);if(o==null)throw new Error(e+" not available on this browser");return o},qs=Object.getPrototypeOf,us=e=>ur("HTMLElement",e),Xn=e=>{const n=Yn("ownerDocument.defaultView",e);return Ne(e)&&(us(n).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(qs(e).constructor.name))},to=8,Pi=9,Oo=11,Er=1,Fl=3,zs=e=>e.dom.nodeName.toLowerCase(),dr=e=>e.dom.nodeType,Dr=e=>n=>dr(n)===e,Fc=e=>dr(e)===to||zs(e)==="#comment",wi=e=>as(e)&&Xn(e.dom),as=Dr(Er),fr=Dr(Fl),Ra=Dr(Pi),Pf=Dr(Oo),Hc=e=>n=>as(n)&&zs(n)===e,wc=(e,n,o)=>{if(Q(o)||je(o)||pn(o))e.setAttribute(n,o+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},mo=(e,n,o)=>{wc(e.dom,n,o)},Wr=(e,n)=>{const o=e.dom;cn(n,(r,l)=>{wc(o,l,r)})},Li=(e,n)=>{const o=e.dom.getAttribute(n);return o===null?void 0:o},sc=(e,n)=>se.from(Li(e,n)),ea=(e,n)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(n):!1},hr=(e,n)=>{e.dom.removeAttribute(n)},Va=e=>{const n=e.dom.attributes;return n==null||n.length===0},Ia=e=>Ms(e.dom.attributes,(n,o)=>(n[o.name]=o.value,n),{}),dd=(e,n)=>{const o=Li(e,n);return o===void 0||o===""?[]:o.split(" ")},xh=(e,n,o)=>{const l=dd(e,n).concat([o]);return mo(e,n,l.join(" ")),!0},Wp=(e,n,o)=>{const r=Bt(dd(e,n),l=>l!==o);return r.length>0?mo(e,n,r.join(" ")):hr(e,n),!1},Hl=e=>e.dom.classList!==void 0,hu=e=>dd(e,"class"),Yd=(e,n)=>xh(e,"class",n),Ti=(e,n)=>Wp(e,"class",n),fd=(e,n)=>Pn(hu(e),n)?Ti(e,n):Yd(e,n),hd=(e,n)=>{Hl(e)?e.dom.classList.add(n):Yd(e,n)},Bu=e=>{(Hl(e)?e.dom.classList:hu(e)).length===0&&hr(e,"class")},rc=(e,n)=>{Hl(e)?e.dom.classList.remove(n):Ti(e,n),Bu(e)},da=(e,n)=>{const o=Hl(e)?e.dom.classList.toggle(n):fd(e,n);return Bu(e),o},mu=(e,n)=>Hl(e)&&e.dom.classList.contains(n),md=(e,n)=>{const r=(n||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){const l="HTML does not have a single root node";throw console.error(l,e),new Error(l)}return Ts(r.childNodes[0])},Ah=(e,n)=>{const r=(n||document).createElement(e);return Ts(r)},Oh=(e,n)=>{const r=(n||document).createTextNode(e);return Ts(r)},Ts=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},De={fromHtml:md,fromTag:Ah,fromText:Oh,fromDom:Ts,fromPoint:(e,n,o)=>se.from(e.dom.elementFromPoint(n,o)).map(Ts)},ic=(e,n)=>{const o=[],r=h=>(o.push(h),n(h));let l=n(e);do l=l.bind(r);while(l.isSome());return o},fa=(e,n)=>{const o=e.dom;if(o.nodeType!==Er)return!1;{const r=o;if(r.matches!==void 0)return r.matches(n);if(r.msMatchesSelector!==void 0)return r.msMatchesSelector(n);if(r.webkitMatchesSelector!==void 0)return r.webkitMatchesSelector(n);if(r.mozMatchesSelector!==void 0)return r.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")}},Rh=e=>e.nodeType!==Er&&e.nodeType!==Pi&&e.nodeType!==Oo||e.childElementCount===0,pd=(e,n)=>{const o=n===void 0?document:n.dom;return Rh(o)?[]:Kt(o.querySelectorAll(e),De.fromDom)},s1=(e,n)=>{const o=n===void 0?document:n.dom;return Rh(o)?se.none():se.from(o.querySelector(e)).map(De.fromDom)},os=(e,n)=>e.dom===n.dom,et=(e,n)=>{const o=e.dom,r=n.dom;return o===r?!1:o.contains(r)},kt=e=>De.fromDom(e.dom.ownerDocument),Ot=e=>Ra(e)?e:kt(e),Un=e=>De.fromDom(Ot(e).dom.documentElement),Eo=e=>De.fromDom(Ot(e).dom.defaultView),zo=e=>se.from(e.dom.parentNode).map(De.fromDom),Qr=e=>se.from(e.dom.parentElement).map(De.fromDom),js=(e,n)=>{const o=Ee(n)?n:tt;let r=e.dom;const l=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){const h=r.parentNode,v=De.fromDom(h);if(l.push(v),o(v)===!0)break;r=h}return l},gd=e=>{const n=o=>Bt(o,r=>!os(e,r));return zo(e).map(We).map(n).getOr([])},Cc=e=>se.from(e.dom.previousSibling).map(De.fromDom),Da=e=>se.from(e.dom.nextSibling).map(De.fromDom),xe=e=>Rs(ic(e,Cc)),Be=e=>ic(e,Da),We=e=>Kt(e.dom.childNodes,De.fromDom),Vt=(e,n)=>{const o=e.dom.childNodes;return se.from(o[n]).map(De.fromDom)},ut=e=>Vt(e,0),St=e=>Vt(e,e.dom.childNodes.length-1),Qt=e=>e.dom.childNodes.length,An=e=>{const n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return De.fromDom(n)},Mn=e=>Pf(e)&&Pe(e.dom.host),no=Ee(Element.prototype.attachShadow)&&Ee(Node.prototype.getRootNode),yo=nt(no),ro=no?e=>De.fromDom(e.dom.getRootNode()):Ot,Yo=e=>Mn(e)?e:An(Ot(e)),Is=e=>Mn(e)?e:De.fromDom(Ot(e).dom.body),Co=e=>{const n=ro(e);return Mn(n)?se.some(n):se.none()},Bi=e=>De.fromDom(e.dom.host),$i=e=>{if(yo()&&Pe(e.target)){const n=De.fromDom(e.target);if(as(n)&&za(n)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return Di(o)}}return se.from(e.target)},za=e=>Pe(e.dom.shadowRoot),Js=e=>{const n=fr(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;const o=n.ownerDocument;return Co(De.fromDom(n)).fold(()=>o.body.contains(n),It(Js,Bi))};var Vl=(e,n,o,r,l)=>e(o,r)?se.some(o):Ee(l)&&l(o)?se.none():n(o,r,l);const Ls=(e,n,o)=>{let r=e.dom;const l=Ee(o)?o:tt;for(;r.parentNode;){r=r.parentNode;const h=De.fromDom(r);if(n(h))return se.some(h);if(l(h))break}return se.none()},ts=(e,n,o)=>Vl((l,h)=>h(l),Ls,e,n,o),gl=(e,n)=>{const o=e.dom;return o.parentNode?Am(De.fromDom(o.parentNode),r=>!os(e,r)&&n(r)):se.none()},Am=(e,n)=>{const o=l=>n(De.fromDom(l));return bs(e.dom.childNodes,o).map(De.fromDom)},r1=(e,n)=>{const o=r=>{for(let l=0;l<r.childNodes.length;l++){const h=De.fromDom(r.childNodes[l]);if(n(h))return se.some(h);const v=o(r.childNodes[l]);if(v.isSome())return v}return se.none()};return o(e.dom)},Na=(e,n,o)=>Ls(e,r=>fa(r,n),o),Kd=(e,n)=>s1(n,e),zl=(e,n,o)=>Vl((l,h)=>fa(l,h),Na,e,n,o),tl=e=>zl(e,"[contenteditable]"),Xd=(e,n=!1)=>Js(e)?e.dom.isContentEditable:tl(e).fold(nt(n),o=>io(o)==="true"),io=e=>e.dom.contentEditable,ha=e=>e.style!==void 0&&Ee(e.style.getPropertyValue),Ih=(e,n,o)=>{if(!Q(o))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);ha(e)&&e.style.setProperty(n,o)},wv=(e,n)=>{ha(e)&&e.style.removeProperty(n)},ai=(e,n,o)=>{const r=e.dom;Ih(r,n,o)},ma=(e,n)=>{const o=e.dom;cn(n,(r,l)=>{Ih(o,l,r)})},$u=(e,n)=>{const o=e.dom,l=window.getComputedStyle(o).getPropertyValue(n);return l===""&&!Js(e)?vl(o,n):l},vl=(e,n)=>ha(e)?e.style.getPropertyValue(n):"",Ma=(e,n)=>{const o=e.dom,r=vl(o,n);return se.from(r).filter(l=>l.length>0)},nl=e=>{const n={},o=e.dom;if(ha(o))for(let r=0;r<o.style.length;r++){const l=o.style.item(r);n[l]=o.style[l]}return n},ta=(e,n)=>{const o=e.dom;wv(o,n),Le(sc(e,"style").map(du),"")&&hr(e,"style")},Om=e=>e.dom.offsetWidth,ds=(e,n)=>{zo(e).each(r=>{r.dom.insertBefore(n.dom,e.dom)})},ol=(e,n)=>{Da(e).fold(()=>{zo(e).each(l=>{wr(l,n)})},r=>{ds(r,n)})},Ul=(e,n)=>{ut(e).fold(()=>{wr(e,n)},r=>{e.dom.insertBefore(n.dom,r.dom)})},wr=(e,n)=>{e.dom.appendChild(n.dom)},Rm=(e,n)=>{ds(e,n),wr(n,e)},Wl=(e,n)=>{pt(n,(o,r)=>{const l=r===0?e:n[r-1];ol(l,o)})},vd=(e,n)=>{pt(n,o=>{wr(e,o)})},er=e=>{e.dom.textContent="",pt(We(e),n=>{Tr(n)})},Tr=e=>{const n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},Ua=e=>{const n=We(e);n.length>0&&Wl(e,n),Tr(e)},i1=(e,n)=>{const r=(n||document).createElement("div");return r.innerHTML=e,We(De.fromDom(r))},Fu=e=>Kt(e,De.fromDom),Lf=e=>e.dom.innerHTML,Im=(e,n)=>{const r=kt(e).dom,l=De.fromDom(r.createDocumentFragment()),h=i1(n,r);vd(l,h),er(e),wr(e,l)},be=e=>{const n=De.fromTag("div"),o=De.fromDom(e.dom.cloneNode(!0));return wr(n,o),Lf(n)},Qd=(e,n,o,r,l,h,v)=>({target:e,x:n,y:o,stop:r,prevent:l,kill:h,raw:v}),Dh=e=>{const n=De.fromDom($i(e).getOr(e.target)),o=()=>e.stopPropagation(),r=()=>e.preventDefault(),l=B(r,o);return Qd(n,e.clientX,e.clientY,o,r,l,e)},bl=(e,n)=>o=>{e(o)&&n(Dh(o))},Us=(e,n,o,r,l)=>{const h=bl(o,r);return e.dom.addEventListener(n,h,l),{unbind:Ze(Jd,e,n,h,l)}},a1=(e,n,o,r)=>Us(e,n,o,r,!1),Jd=(e,n,o,r)=>{e.dom.removeEventListener(n,o,r)},c1=(e,n)=>({left:e,top:n,translate:(r,l)=>c1(e+r,n+l)}),pa=c1,Tv=e=>{const n=e.getBoundingClientRect();return pa(n.left,n.top)},Dm=(e,n)=>e!==void 0?e:n!==void 0?n:0,t0=e=>{const n=e.dom.ownerDocument,o=n.body,r=n.defaultView,l=n.documentElement;if(o===e.dom)return pa(o.offsetLeft,o.offsetTop);const h=Dm(r==null?void 0:r.pageYOffset,l.scrollTop),v=Dm(r==null?void 0:r.pageXOffset,l.scrollLeft),A=Dm(l.clientTop,o.clientTop),R=Dm(l.clientLeft,o.clientLeft);return Hu(e).translate(v-R,h-A)},Hu=e=>{const n=e.dom,r=n.ownerDocument.body;return r===n?pa(r.offsetLeft,r.offsetTop):Js(e)?Tv(n):pa(0,0)},l1=e=>{const n=e!==void 0?e.dom:document,o=n.body.scrollLeft||n.documentElement.scrollLeft,r=n.body.scrollTop||n.documentElement.scrollTop;return pa(o,r)},Wa=(e,n,o)=>{const l=(o!==void 0?o.dom:document).defaultView;l&&l.scrollTo(e,n)},Bf=(e,n)=>{Vs().browser.isSafari()&&Ee(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},n0=e=>{const n=e===void 0?window:e;return Vs().browser.isFirefox()?se.none():se.from(n.visualViewport)},Gp=(e,n,o,r)=>({x:e,y:n,width:o,height:r,right:e+o,bottom:n+r}),$f=e=>{const n=e===void 0?window:e,o=n.document,r=l1(De.fromDom(o));return n0(n).fold(()=>{const l=n.document.documentElement,h=l.clientWidth,v=l.clientHeight;return Gp(r.left,r.top,h,v)},l=>Gp(Math.max(l.pageLeft,r.left),Math.max(l.pageTop,r.top),l.width,l.height))},Cv=(e,n)=>Bt(We(e),n),Vu=(e,n)=>{let o=[];return pt(We(e),r=>{n(r)&&(o=o.concat([r])),o=o.concat(Vu(r,n))}),o},Jr=(e,n)=>pd(n,e),qp=(e,n,o)=>Na(e,n,o).isSome();class ci{constructor(n,o){this.node=n,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node}prev(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node}prev2(n){return this.node=this.findPreviousNode(this.node,n),this.node}findSibling(n,o,r,l){if(n){if(!l&&n[o])return n[o];if(n!==this.rootNode){let h=n[r];if(h)return h;for(let v=n.parentNode;v&&v!==this.rootNode;v=v.parentNode)if(h=v[r],h)return h}}}findPreviousNode(n,o){if(n){const r=n.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!o){for(let h=r.lastChild;h;h=h.lastChild)if(!h.lastChild)return h}return r}const l=n.parentNode;if(l&&l!==this.rootNode)return l}}}const ga=e=>n=>!!n&&n.nodeType===e,Ln=e=>!!e&&!Object.getPrototypeOf(e),on=ga(1),Nm=e=>{const n=e.toLowerCase();return o=>Pe(o)&&o.nodeName.toLowerCase()===n},yl=e=>{const n=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const r=o.nodeName.toLowerCase();return Pn(n,r)}return!1}},_l=(e,n)=>{const o=n.toLowerCase().split(" ");return r=>{if(on(r)){const l=r.ownerDocument.defaultView;if(l)for(let h=0;h<o.length;h++){const v=l.getComputedStyle(r,null);if((v?v.getPropertyValue(e):null)===o[h])return!0}}return!1}},jp=e=>n=>on(n)&&n.hasAttribute(e),El=(e,n)=>o=>on(o)&&o.getAttribute(e)===n,sl=e=>on(e)&&e.hasAttribute("data-mce-bogus"),zu=e=>on(e)&&e.getAttribute("data-mce-bogus")==="all",Nr=e=>on(e)&&e.tagName==="TABLE",bd=e=>n=>!!(on(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e)),Nh=yl(["textarea","input"]),Ut=ga(3),o0=ga(4),Mm=ga(7),Ga=ga(8),yd=ga(9),ef=ga(11),mr=Nm("br"),Zp=Nm("img"),ns=bd("true"),Lo=bd("false"),ei=yl(["td","th"]),Sc=yl(["td","th","caption"]),sr=yl(["video","audio","object","embed"]),tf=Nm("li"),Zr="\uFEFF",_s=" ",Gl=e=>e===Zr,At=e=>e.replace(/\uFEFF/g,""),Ff=((e,n)=>{const o=h=>{if(!e(h))throw new Error("Can only get "+n+" value of a "+n+" node");return r(h).getOr("")},r=h=>e(h)?se.from(h.dom.nodeValue):se.none();return{get:o,getOption:r,set:(h,v)=>{if(!e(h))throw new Error("Can only set raw "+n+" value of a "+n+" node");h.dom.nodeValue=v}}})(fr,"text"),Gr=e=>Ff.get(e),ql=e=>Ff.getOption(e),qa=(e,n)=>Ff.set(e,n),ac=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],km=["td","th"],cc=["thead","tbody","tfoot"],Yp=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Fi=["h1","h2","h3","h4","h5","h6"],Ko=["li","dd","dt"],$e=["ul","ol","dl"],H=["pre","script","textarea","style"],me=["pre"].concat(Fi),Ve=e=>{let n;return o=>(n=n||Kr(e,Dt),jn(n,zs(o)))},Ht=Ve(ac),Dn=e=>zs(e)==="table",fn=e=>as(e)&&!Ht(e),Xo=e=>as(e)&&zs(e)==="br",Ge=Ve(Yp),qr=Ve($e),li=Ve(Ko),na=Ve(cc),Vr=Ve(km),ui=Ve(H),Ci=Ve(me),nf=e=>Ci(e)||fn(e),u1=e=>{const n=[];let o=e.dom;for(;o;)n.push(De.fromDom(o)),o=o.lastChild;return n},Mh=e=>{const n=Jr(e,"br"),o=Bt(u1(e).slice(-1),Xo);n.length===o.length&&pt(o,Tr)},Gn=()=>{const e=De.fromTag("br");return mo(e,"data-mce-bogus","1"),e},Kp=e=>{er(e),wr(e,Gn())},pu=e=>{St(e).each(n=>{Cc(n).each(o=>{Ht(e)&&Xo(n)&&Ht(o)&&Tr(n)})})},ka=Zr,Sv=Gl,_d=At,h_=on,Pm=Ut,Uu=e=>(Pm(e)&&(e=e.parentNode),h_(e)&&e.hasAttribute("data-mce-caret")),xc=e=>Pm(e)&&Sv(e.data),Tl=e=>Uu(e)||xc(e),xv=e=>e.firstChild!==e.lastChild||!mr(e.firstChild),m_=(e,n)=>{var o;const l=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(ka),h=e.parentNode;if(n){const v=e.previousSibling;if(Pm(v)){if(Tl(v))return v;if(Xp(v))return v.splitText(v.data.length-1)}h==null||h.insertBefore(l,e)}else{const v=e.nextSibling;if(Pm(v)){if(Tl(v))return v;if(Lm(v))return v.splitText(1),v}e.nextSibling?h==null||h.insertBefore(l,e.nextSibling):h==null||h.appendChild(l)}return l},Ed=e=>{const n=e.container();return Ut(n)?n.data.charAt(e.offset())===ka||e.isAtStart()&&xc(n.previousSibling):!1},d1=e=>{const n=e.container();return Ut(n)?n.data.charAt(e.offset()-1)===ka||e.isAtEnd()&&xc(n.nextSibling):!1},Av=(e,n,o)=>{var r;const h=((r=n.ownerDocument)!==null&&r!==void 0?r:document).createElement(e);h.setAttribute("data-mce-caret",o?"before":"after"),h.setAttribute("data-mce-bogus","all"),h.appendChild(Gn().dom);const v=n.parentNode;return o?v==null||v.insertBefore(h,n):n.nextSibling?v==null||v.insertBefore(h,n.nextSibling):v==null||v.appendChild(h),h},Lm=e=>Pm(e)&&e.data[0]===ka,Xp=e=>Pm(e)&&e.data[e.data.length-1]===ka,Hf=e=>{var n;const o=e.getElementsByTagName("br"),r=o[o.length-1];sl(r)&&((n=r.parentNode)===null||n===void 0||n.removeChild(r))},Ov=e=>e&&e.hasAttribute("data-mce-caret")?(Hf(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Rv=e=>Uu(e.startContainer),xs=ns,s0=Lo,va=mr,jl=Ut,Bm=yl(["script","style","textarea"]),kh=yl(["img","input","textarea","hr","iframe","video","audio","object","embed"]),p_=yl(["table"]),Hi=Tl,Cl=e=>Hi(e)?!1:jl(e)?!Bm(e.parentNode):kh(e)||va(e)||p_(e)||Lh(e),Ph=e=>on(e)&&e.getAttribute("unselectable")==="true",Lh=e=>!Ph(e)&&s0(e),of=(e,n)=>{for(let o=e.parentNode;o&&o!==n;o=o.parentNode){if(Lh(o))return!1;if(xs(o))return!0}return!0},Vf=e=>Lh(e)?!Ms(br(e.getElementsByTagName("*")),(n,o)=>n||xs(o),!1):!1,Sl=e=>kh(e)||Vf(e),oa=(e,n)=>Cl(e)&&of(e,n),Iv=/^[ \t\r\n]*$/,Vc=e=>Iv.test(e),Zl=e=>" \f	\v".indexOf(e)!==-1,xl=e=>e===`
`||e==="\r",Qp=(e,n)=>n<e.length&&n>=0?xl(e[n]):!1,Bh=(e,n=4,o=!0,r=!0)=>{const l=Jc(" ",n),h=e.replace(/\t/g,l);return Ms(h,(A,R)=>Zl(R)||R===_s?A.pcIsSpace||A.str===""&&o||A.str.length===h.length-1&&r||Qp(h,A.str.length+1)?{pcIsSpace:!1,str:A.str+_s}:{pcIsSpace:!0,str:A.str+" "}:{pcIsSpace:xl(R),str:A.str+R},{pcIsSpace:!1,str:""}).str},Dv=(e,n)=>{const o=De.fromDom(n),r=De.fromDom(e);return qp(r,"pre,code",Ze(os,o))},r0=(e,n)=>Ut(e)&&Vc(e.data)&&!Dv(e,n),pr=e=>on(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),Nv=(e,n)=>Cl(e)&&!r0(e,n)||pr(e)||zc(e),zc=jp("data-mce-bookmark"),Mv=jp("data-mce-bogus"),kv=El("data-mce-bogus","all"),zf=(e,n)=>{let o=0;if(Nv(e,e))return!1;{let r=e.firstChild;if(!r)return!0;const l=new ci(r,e);do{if(n){if(kv(r)){r=l.next(!0);continue}if(Mv(r)){r=l.next();continue}}if(mr(r)){o++,r=l.next();continue}if(Nv(r,e))return!1;r=l.next()}while(r);return o<=1}},Ws=(e,n=!0)=>zf(e.dom,n),sf="data-mce-block",f1=e=>Bt(yi(e),n=>!/[A-Z]/.test(n)),Pv=e=>f1(e).join(","),$m=(e,n)=>Pe(n.querySelector(e))?(n.setAttribute(sf,"true"),n.getAttribute("data-mce-selected")==="inline-boundary"&&n.removeAttribute("data-mce-selected"),!0):(n.removeAttribute(sf),!1),h1=(e,n)=>{const o=Pv(e.getTransparentElements()),r=Pv(e.getBlockElements());return Bt(n.querySelectorAll(o),l=>$m(r,l))},Jp=(e,n)=>{var o;const r=n?"lastChild":"firstChild";for(let l=e[r];l;l=l[r])if(Ws(De.fromDom(l))){(o=l.parentNode)===null||o===void 0||o.removeChild(l);return}},g_=(e,n)=>{const o=document.createRange(),r=e.parentNode;if(r){o.setStartBefore(e),o.setEndBefore(n);const l=o.extractContents();Jp(l,!0),o.setStartAfter(n),o.setEndAfter(e);const h=o.extractContents();Jp(h,!1),Ws(De.fromDom(l))||r.insertBefore(l,e),Ws(De.fromDom(n))||r.insertBefore(n,e),Ws(De.fromDom(h))||r.insertBefore(h,e),r.removeChild(e)}},rl=(e,n,o)=>{const r=e.getBlockElements(),l=De.fromDom(n),h=A=>zs(A)in r,v=A=>os(A,l);pt(Fu(o),A=>{Ls(A,h,v).each(R=>{const F=Cv(A,J=>h(J)&&!e.isValidChild(zs(R),zs(J)));if(F.length>0){const J=Qr(R);pt(F,K=>{Ls(K,h,v).each(ie=>{g_(ie.dom,K.dom)})}),J.each(K=>h1(e,K.dom))}})})},Wu=(e,n,o)=>{pt([...o,...Wf(e,n)?[n]:[]],r=>pt(Jr(De.fromDom(r),r.nodeName.toLowerCase()),l=>{i0(e,l.dom)&&Ua(l)}))},Uf=(e,n)=>{const o=h1(e,n);rl(e,n,o),Wu(e,n,o)},rf=(e,n)=>{if(m1(e,n)){const o=Pv(e.getBlockElements());$m(o,n)}},Gu=(e,n,o)=>{const r=h=>os(h,De.fromDom(n)),l=js(De.fromDom(o),r);hl(l,l.length-2).filter(as).fold(()=>Uf(e,n),h=>Uf(e,h.dom))},gu=e=>e.hasAttribute(sf),eg=(e,n)=>jn(e.getTransparentElements(),n),m1=(e,n)=>on(n)&&eg(e,n.nodeName),Wf=(e,n)=>m1(e,n)&&gu(n),i0=(e,n)=>m1(e,n)&&!gu(n),Fm=(e,n)=>n.type===1&&eg(e,n.name)&&Q(n.attr(sf)),Hm=(e,n)=>n.type===1&&eg(e,n.name)&&dt(n.attr(sf)),v_=Vs().browser,tg=e=>bs(e,as),rs=e=>v_.isFirefox()&&zs(e)==="table"?tg(We(e)).filter(n=>zs(n)==="caption").bind(n=>tg(Be(n)).map(o=>{const r=o.dom.offsetTop,l=n.dom.offsetTop,h=n.dom.offsetHeight;return r<=l?-h:0})).getOr(0):0,kn=(e,n)=>e.children&&Pn(e.children,n),af=(e,n,o)=>{let r=0,l=0;const h=e.ownerDocument;if(o=o||e,n){if(o===e&&n.getBoundingClientRect&&$u(De.fromDom(e),"position")==="static"){const A=n.getBoundingClientRect();return r=A.left+(h.documentElement.scrollLeft||e.scrollLeft)-h.documentElement.clientLeft,l=A.top+(h.documentElement.scrollTop||e.scrollTop)-h.documentElement.clientTop,{x:r,y:l}}let v=n;for(;v&&v!==o&&v.nodeType&&!kn(v,o);){const A=v;r+=A.offsetLeft||0,l+=A.offsetTop||0,v=A.offsetParent}for(v=n.parentNode;v&&v!==o&&v.nodeType&&!kn(v,o);)r-=v.scrollLeft||0,l-=v.scrollTop||0,v=v.parentNode;l+=rs(De.fromDom(n))}return{x:r,y:l}},cf=(e,n={})=>{let o=0;const r={},l=De.fromDom(e),h=Ot(l),v=ye=>{n.referrerPolicy=ye},A=ye=>{n.contentCssCors=ye},R=ye=>{wr(Yo(l),ye)},F=ye=>{const Oe=Yo(l);Kd(Oe,"#"+ye).each(Tr)},J=ye=>Qs(r,ye).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),K=ye=>new Promise((Oe,ze)=>{let Fe;const Ke=Te._addCacheSuffix(ye),at=J(Ke);r[Ke]=at,at.count++;const xt=(ht,yn)=>{pt(ht,Ho),at.status=yn,at.passed=[],at.failed=[],Fe&&(Fe.onload=null,Fe.onerror=null,Fe=null)},sn=()=>xt(at.passed,2),Zt=()=>xt(at.failed,3);if(Oe&&at.passed.push(Oe),ze&&at.failed.push(ze),at.status===1)return;if(at.status===2){sn();return}if(at.status===3){Zt();return}at.status=1;const mt=De.fromTag("link",h.dom);Wr(mt,{rel:"stylesheet",type:"text/css",id:at.id}),n.contentCssCors&&mo(mt,"crossOrigin","anonymous"),n.referrerPolicy&&mo(mt,"referrerpolicy",n.referrerPolicy),Fe=mt.dom,Fe.onload=sn,Fe.onerror=Zt,R(mt),mo(mt,"href",Ke)}),ie=ye=>Promise.allSettled(Kt(ye,ze=>K(ze).then(nt(ze)))).then(ze=>{const Fe=bi(ze,Ke=>Ke.status==="fulfilled");return Fe.fail.length>0?Promise.reject(Kt(Fe.fail,Ke=>Ke.reason)):Kt(Fe.pass,Ke=>Ke.value)}),Ae=ye=>{const Oe=Te._addCacheSuffix(ye);Qs(r,Oe).each(ze=>{--ze.count===0&&(delete r[Oe],F(ze.id))})};return{load:K,loadAll:ie,unload:Ae,unloadAll:ye=>{pt(ye,Oe=>{Ae(Oe)})},_setReferrerPolicy:v,_setContentCssCors:A}},p1=(()=>{const e=new WeakMap;return{forElement:(o,r)=>{const h=ro(o).dom;return se.from(e.get(h)).getOrThunk(()=>{const v=cf(h,r);return e.set(h,v),v})}}})(),a0=e=>e.nodeName.toLowerCase()==="span",Zs=(e,n)=>Pe(e)&&(Nv(e,n)||fn(De.fromDom(e))),g1=(e,n)=>{const o=new ci(e,n).prev(!1),r=new ci(e,n).next(!1),l=dt(o)||Zs(o,n),h=dt(r)||Zs(r,n);return l&&h},Lv=e=>a0(e)&&e.getAttribute("data-mce-type")==="bookmark",Bv=(e,n)=>Ut(e)&&e.data.length>0&&g1(e,n),Nt=e=>on(e)?e.childNodes.length>0:!1,$v=e=>ef(e)||yd(e),wd=(e,n,o)=>{var r;const l=o||n;if(on(n)&&Lv(n))return n;const h=n.childNodes;for(let v=h.length-1;v>=0;v--)wd(e,h[v],l);if(on(n)){const v=n.childNodes;v.length===1&&Lv(v[0])&&((r=n.parentNode)===null||r===void 0||r.insertBefore(v[0],n))}return!$v(n)&&!Nv(n,l)&&!Nt(n)&&!Bv(n,l)&&e.remove(n),n},$h=Te.makeMap,v1=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Gf=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,og=/[<>&\"\']/g,Vm=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,c0={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},ja={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Cr={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Ac=e=>{const n=De.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},zm=(e,n)=>{const o={};if(e){const r=e.split(",");n=n||10;for(let l=0;l<r.length;l+=2){const h=String.fromCharCode(parseInt(r[l],n));if(!ja[h]){const v="&"+r[l+1]+";";o[h]=v,o[v]=h}}return o}else return},Yl=zm("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Um=(e,n)=>e.replace(n?v1:Gf,o=>ja[o]||o),Ro=e=>(""+e).replace(og,n=>ja[n]||n),Td=(e,n)=>e.replace(n?v1:Gf,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":ja[o]||"&#"+o.charCodeAt(0)+";"),b1=(e,n,o)=>{const r=o||Yl;return e.replace(n?v1:Gf,l=>ja[l]||r[l]||l)},lf={encodeRaw:Um,encodeAllRaw:Ro,encodeNumeric:Td,encodeNamed:b1,getEncodeFunc:(e,n)=>{const o=zm(n)||Yl,r=(v,A)=>v.replace(A?v1:Gf,R=>ja[R]!==void 0?ja[R]:o[R]!==void 0?o[R]:R.length>1?"&#"+((R.charCodeAt(0)-55296)*1024+(R.charCodeAt(1)-56320)+65536)+";":"&#"+R.charCodeAt(0)+";"),l=(v,A)=>b1(v,A,o),h=$h(e.replace(/\+/g,","));return h.named&&h.numeric?r:h.named?n?l:b1:h.numeric?Td:Um},decode:e=>e.replace(Vm,(n,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):c0[o]||String.fromCharCode(o)):Cr[n]||Yl[n]||Ac(n))},qu={},lc={},Vw={},sg=Te.makeMap,Vi=Te.each,En=Te.extend,Fv=Te.explode,b_=Te.inArray,uc=(e,n)=>(e=Te.trim(e),e?e.split(n||" "):[]),l0=(e,n={})=>{const o=sg(e," ",sg(e.toUpperCase()," "));return En(o,n)},uf=e=>l0("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Uc=e=>{const n={};let o,r,l,h;const v=(R,F="",J="")=>{const K=uc(J),ie=uc(R);let Ae=ie.length;for(;Ae--;){const Ie=uc([o,F].join(" "));n[ie[Ae]]={attributes:Kr(Ie,()=>({})),attributesOrder:Ie,children:Kr(K,nt(Vw))}}},A=(R,F)=>{const J=uc(R),K=uc(F);let ie=J.length;for(;ie--;){const Ae=n[J[ie]];for(let Ie=0,ye=K.length;Ie<ye;Ie++)Ae.attributes[K[Ie]]={},Ae.attributesOrder.push(K[Ie])}};if(qu[e])return qu[e];if(o="id accesskey class dir lang style tabindex title role",r="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",l="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"){const R="a ins del canvas map";o+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",r+=" article aside details dialog figure main header footer hgroup section nav "+R,l+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"}if(e!=="html5-strict"){o+=" xml:lang";const R="acronym applet basefont big font strike tt";l=[l,R].join(" "),Vi(uc(R),J=>{v(J,"",l)});const F="center dir isindex noframes";r=[r,F].join(" "),h=[r,l].join(" "),Vi(uc(F),J=>{v(J,"",h)})}return h=h||[r,l].join(" "),v("html","manifest","head body"),v("head","","base command link meta noscript script style title"),v("title hr noscript br"),v("base","href target"),v("link","href rel media hreflang type sizes hreflang"),v("meta","name http-equiv content charset"),v("style","media type scoped"),v("script","src async defer type charset"),v("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",h),v("address dt dd div caption","",h),v("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",l),v("blockquote","cite",h),v("ol","reversed start type","li"),v("ul","","li"),v("li","value",h),v("dl","","dt dd"),v("a","href target rel media hreflang type",h),v("q","cite",l),v("ins del","cite datetime",h),v("img","src sizes srcset alt usemap ismap width height"),v("iframe","src name width height",h),v("embed","src type width height"),v("object","data type typemustmatch name usemap form width height",[h,"param"].join(" ")),v("param","name value"),v("map","name",[h,"area"].join(" ")),v("area","alt coords shape href target rel media hreflang type"),v("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),v("colgroup","span","col"),v("col","span"),v("tbody thead tfoot","","tr"),v("tr","","td th"),v("td","colspan rowspan headers",h),v("th","colspan rowspan headers scope abbr",h),v("form","accept-charset action autocomplete enctype method name novalidate target",h),v("fieldset","disabled form name",[h,"legend"].join(" ")),v("label","form for",l),v("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),v("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?h:l),v("select","disabled form multiple name required size","option optgroup"),v("optgroup","disabled label","option"),v("option","disabled label selected value"),v("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),v("menu","type label",[h,"li"].join(" ")),v("noscript","",h),e!=="html4"&&(v("wbr"),v("ruby","",[l,"rt rp"].join(" ")),v("figcaption","",h),v("mark rt rp summary bdi","",l),v("canvas","width height",h),v("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[h,"track source"].join(" ")),v("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[h,"track source"].join(" ")),v("picture","","img source"),v("source","src srcset type media sizes"),v("track","kind src srclang label default"),v("datalist","",[l,"option"].join(" ")),v("article section nav aside main header footer","",h),v("hgroup","","h1 h2 h3 h4 h5 h6"),v("figure","",[h,"figcaption"].join(" ")),v("time","datetime",l),v("dialog","open",h),v("command","type label icon disabled checked radiogroup command"),v("output","for form name",l),v("progress","value max",l),v("meter","value min max low high optimum",l),v("details","open",[h,"summary"].join(" ")),v("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(A("script","language xml:space"),A("style","xml:space"),A("object","declare classid code codebase codetype archive standby align border hspace vspace"),A("embed","align name hspace vspace"),A("param","valuetype type"),A("a","charset name rev shape coords"),A("br","clear"),A("applet","codebase archive code object alt name width height align hspace vspace"),A("img","name longdesc align border hspace vspace"),A("iframe","longdesc frameborder marginwidth marginheight scrolling align"),A("font basefont","size color face"),A("input","usemap align"),A("select"),A("textarea"),A("h1 h2 h3 h4 h5 h6 div p legend caption","align"),A("ul","type compact"),A("li","type"),A("ol dl menu dir","compact"),A("pre","width xml:space"),A("hr","align noshade size width"),A("isindex","prompt"),A("table","summary width frame rules cellspacing cellpadding align bgcolor"),A("col","width align char charoff valign"),A("colgroup","width align char charoff valign"),A("thead","align char charoff valign"),A("tr","align char charoff valign bgcolor"),A("th","axis align char charoff valign nowrap bgcolor width height"),A("form","accept"),A("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),A("tfoot","align char charoff valign"),A("tbody","align char charoff valign"),A("area","nohref"),A("body","background bgcolor text link vlink alink")),e!=="html4"&&(A("input button select textarea","autofocus"),A("input textarea","placeholder"),A("a","download"),A("link script img","crossorigin"),A("img","loading"),A("iframe","sandbox seamless allow allowfullscreen loading")),e!=="html4"&&pt([n.video,n.audio],R=>{delete R.children.audio,delete R.children.video}),Vi(uc("a form meter progress dfn"),R=>{n[R]&&delete n[R].children[R]}),delete n.caption.children.table,delete n.script,qu[e]=n,n},ju=(e,n)=>{if(e){const o={};return Q(e)&&(e={"*":e}),Vi(e,(r,l)=>{o[l]=o[l.toUpperCase()]=n==="map"?sg(r,/[, ]/):Fv(r,/[, ]/)}),o}else return},Kl=(e={})=>{var n;const o={},r={};let l=[];const h={},v={},A=(go,gs,Xs)=>{const lr=e[go];if(lr)return sg(lr,/[, ]/,sg(lr.toUpperCase(),/[, ]/));{let pi=lc[go];return pi||(pi=l0(gs,Xs),lc[go]=pi),pi}},R=(n=e.schema)!==null&&n!==void 0?n:"html5",F=Uc(R);e.verify_html===!1&&(e.valid_elements="*[*]");const J=ju(e.valid_styles),K=ju(e.invalid_styles,"map"),ie=ju(e.valid_classes,"map"),Ae=A("whitespace_elements","pre script noscript style textarea video audio iframe object code"),Ie=A("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),ye=A("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),Oe=A("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),ze="td th iframe video audio object script code",Fe=A("non_empty_elements",ze+" pre",ye),Ke=A("move_caret_before_on_enter_elements",ze+" table",ye),at=A("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),xt=A("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",at),sn=A("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),Zt=A("transparent_elements","a ins del canvas map");Vi("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),go=>{v[go]=new RegExp("</"+go+"[^>]*>","gi")});const mt=go=>new RegExp("^"+go.replace(/([?+*])/g,".$1")+"$"),ht=go=>{const gs=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,Xs=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,lr=/[*?+]/;if(go){const pi=uc(go,",");let Yi,jr;o["@"]&&(Yi=o["@"].attributes,jr=o["@"].attributesOrder);for(let Ta=0,lh=pi.length;Ta<lh;Ta++){let dl=gs.exec(pi[Ta]);if(dl){const Dp=dl[1],Hd=dl[2],Jy=dl[3],e_=dl[5],Np={},vm=[],Fa={attributes:Np,attributesOrder:vm};if(Dp==="#"&&(Fa.paddEmpty=!0),Dp==="-"&&(Fa.removeEmpty=!0),dl[4]==="!"&&(Fa.removeEmptyAttrs=!0),Yi&&(cn(Yi,(uh,Mp)=>{Np[Mp]=uh}),jr&&vm.push(...jr)),e_){const uh=uc(e_,"|");for(let Mp=0,su=uh.length;Mp<su;Mp++)if(dl=Xs.exec(uh[Mp]),dl){const dh={},qg=dl[1],kl=dl[2].replace(/[\\:]:/g,":"),pv=dl[3],kp=dl[4];if(qg==="!"&&(Fa.attributesRequired=Fa.attributesRequired||[],Fa.attributesRequired.push(kl),dh.required=!0),qg==="-"){delete Np[kl],vm.splice(b_(vm,kl),1);continue}if(pv&&(pv==="="&&(Fa.attributesDefault=Fa.attributesDefault||[],Fa.attributesDefault.push({name:kl,value:kp}),dh.defaultValue=kp),pv==="~"&&(Fa.attributesForced=Fa.attributesForced||[],Fa.attributesForced.push({name:kl,value:kp}),dh.forcedValue=kp),pv==="<"&&(dh.validValues=sg(kp,"?"))),lr.test(kl)){const Vd=dh;Fa.attributePatterns=Fa.attributePatterns||[],Vd.pattern=mt(kl),Fa.attributePatterns.push(Vd)}else Np[kl]||vm.push(kl),Np[kl]=dh}}if(!Yi&&Hd==="@"&&(Yi=Np,jr=vm),Jy&&(Fa.outputName=Hd,o[Jy]=Fa),lr.test(Hd)){const uh=Fa;uh.pattern=mt(Hd),l.push(uh)}else o[Hd]=Fa}}}},yn=go=>{l=[],pt(yi(o),gs=>{delete o[gs]}),ht(go),Vi(F,(gs,Xs)=>{r[Xs]=gs.children})},Bn=go=>{const gs=/^(~)?(.+)$/;go&&(delete lc.text_block_elements,delete lc.block_elements,Vi(uc(go,","),Xs=>{const lr=gs.exec(Xs);if(lr){const pi=lr[1]==="~",Yi=pi?"span":"div",jr=lr[2];if(r[jr]=r[Yi],h[jr]=Yi,Fe[jr.toUpperCase()]={},Fe[jr]={},pi||(xt[jr.toUpperCase()]={},xt[jr]={}),!o[jr]){let Ta=o[Yi];Ta=En({},Ta),delete Ta.removeEmptyAttrs,delete Ta.removeEmpty,o[jr]=Ta}Vi(r,(Ta,lh)=>{Ta[Yi]&&(r[lh]=Ta=En({},r[lh]),Ta[jr]=Ta[Yi])})}}))},qn=go=>{const gs=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;delete qu[R],go&&Vi(uc(go,","),Xs=>{const lr=gs.exec(Xs);if(lr){const pi=lr[1];let Yi;pi?Yi=r[lr[2]]:Yi=r[lr[2]]={"#comment":{}},Yi=r[lr[2]],Vi(uc(lr[3],"|"),jr=>{pi==="-"?delete Yi[jr]:Yi[jr]={}})}})},To=go=>{const gs=o[go];if(gs)return gs;let Xs=l.length;for(;Xs--;){const lr=l[Xs];if(lr.pattern.test(go))return lr}};e.valid_elements?yn(e.valid_elements):(Vi(F,(go,gs)=>{o[gs]={attributes:go.attributes,attributesOrder:go.attributesOrder},r[gs]=go.children}),Vi(uc("strong/b em/i"),go=>{const gs=uc(go,"/");o[gs[1]].outputName=gs[0]}),Vi(sn,(go,gs)=>{o[gs]&&(e.padd_empty_block_inline_children&&(o[gs].paddInEmptyBlock=!0),o[gs].removeEmpty=!0)}),Vi(uc("ol ul blockquote a table tbody"),go=>{o[go]&&(o[go].removeEmpty=!0)}),Vi(uc("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),go=>{o[go].paddEmpty=!0}),Vi(uc("span"),go=>{o[go].removeEmptyAttrs=!0})),Bn(e.custom_elements),qn(e.valid_children),ht(e.extended_valid_elements),qn("+ol[ul|ol],+ul[ul|ol]"),Vi({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(go,gs)=>{o[gs]&&(o[gs].parentsRequired=uc(go))}),e.invalid_elements&&Vi(Fv(e.invalid_elements),go=>{o[go]&&delete o[go]}),To("span")||ht("span[!data-mce-type|*]");const Jo=nt(J),Ns=nt(K),cr=nt(ie),Ii=nt(Oe),Pc=nt(xt),Xa=nt(at),qt=nt(sn),In=nt(Object.seal(ye)),ms=nt(Ie),dn=nt(Fe),zn=nt(Ke),Wn=nt(Ae),mn=nt(Zt),Go=nt(Object.seal(v)),qo=(go,gs)=>{const Xs=r[go.toLowerCase()];return!!(Xs&&Xs[gs.toLowerCase()])},gc=(go,gs)=>{const Xs=To(go);if(Xs)if(gs){if(Xs.attributes[gs])return!0;const lr=Xs.attributePatterns;if(lr){let pi=lr.length;for(;pi--;)if(lr[pi].pattern.test(gs))return!0}}else return!0;return!1},zr=nt(h);return{type:R,children:r,elements:o,getValidStyles:Jo,getValidClasses:cr,getBlockElements:Pc,getInvalidStyles:Ns,getVoidElements:In,getTextBlockElements:Xa,getTextInlineElements:qt,getBoolAttrs:Ii,getElementRule:To,getSelfClosingElements:ms,getNonEmptyElements:dn,getMoveCaretBeforeOnEnterElements:zn,getWhitespaceElements:Wn,getTransparentElements:mn,getSpecialElements:Go,isValidChild:qo,isValid:gc,getCustomElements:zr,addValidElements:ht,setValidElements:yn,addCustomElements:Bn,addValidChildren:qn}},rg=(e={},n)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,l=/\s+$/,h={};let v,A;const R=Zr;n&&(v=n.getValidStyles(),A=n.getInvalidStyles());const F=(`\\" \\' \\; \\: ; : `+R).split(" ");for(let K=0;K<F.length;K++)h[F[K]]=R+K,h[R+K]=F[K];const J={parse:K=>{const ie={};let Ae=!1;const Ie=e.url_converter,ye=e.url_converter_scope||J,Oe=(mt,ht,yn)=>{const Bn=ie[mt+"-top"+ht];if(!Bn)return;const qn=ie[mt+"-right"+ht];if(!qn)return;const To=ie[mt+"-bottom"+ht];if(!To)return;const Jo=ie[mt+"-left"+ht];if(!Jo)return;const Ns=[Bn,qn,To,Jo];let cr=Ns.length-1;for(;cr--&&Ns[cr]===Ns[cr+1];);cr>-1&&yn||(ie[mt+ht]=cr===-1?Ns[0]:Ns.join(" "),delete ie[mt+"-top"+ht],delete ie[mt+"-right"+ht],delete ie[mt+"-bottom"+ht],delete ie[mt+"-left"+ht])},ze=mt=>{const ht=ie[mt];if(!ht)return;const yn=ht.split(" ");let Bn=yn.length;for(;Bn--;)if(yn[Bn]!==yn[0])return!1;return ie[mt]=yn[0],!0},Fe=(mt,ht,yn,Bn)=>{ze(ht)&&ze(yn)&&ze(Bn)&&(ie[mt]=ie[ht]+" "+ie[yn]+" "+ie[Bn],delete ie[ht],delete ie[yn],delete ie[Bn])},Ke=mt=>(Ae=!0,h[mt]),at=(mt,ht)=>(Ae&&(mt=mt.replace(/\uFEFF[0-9]/g,yn=>h[yn])),ht||(mt=mt.replace(/\\([\'\";:])/g,"$1")),mt),xt=mt=>String.fromCharCode(parseInt(mt.slice(1),16)),sn=mt=>mt.replace(/\\[0-9a-f]+/gi,xt),Zt=(mt,ht,yn,Bn,qn,To)=>{if(qn=qn||To,qn)return qn=at(qn),"'"+qn.replace(/\'/g,"\\'")+"'";if(ht=at(ht||yn||Bn||""),!e.allow_script_urls){const Jo=ht.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Jo)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(Jo))return""}return Ie&&(ht=Ie.call(ye,ht,"style")),"url('"+ht.replace(/\'/g,"\\'")+"')"};if(K){K=K.replace(/[\u0000-\u001F]/g,""),K=K.replace(/\\[\"\';:\uFEFF]/g,Ke).replace(/\"[^\"]+\"|\'[^\']+\'/g,ht=>ht.replace(/[;:]/g,Ke));let mt;for(;mt=r.exec(K);){r.lastIndex=mt.index+mt[0].length;let ht=mt[1].replace(l,"").toLowerCase(),yn=mt[2].replace(l,"");if(ht&&yn){if(ht=sn(ht),yn=sn(yn),ht.indexOf(R)!==-1||ht.indexOf('"')!==-1||!e.allow_script_urls&&(ht==="behavior"||/expression\s*\(|\/\*|\*\//.test(yn)))continue;ht==="font-weight"&&yn==="700"?yn="bold":(ht==="color"||ht==="background-color")&&(yn=yn.toLowerCase()),yn=yn.replace(o,Zt),ie[ht]=Ae?at(yn,!0):yn}}Oe("border","",!0),Oe("border","-width"),Oe("border","-color"),Oe("border","-style"),Oe("padding",""),Oe("margin",""),Fe("border","border-width","border-style","border-color"),ie.border==="medium none"&&delete ie.border,ie["border-image"]==="none"&&delete ie["border-image"]}return ie},serialize:(K,ie)=>{let Ae="";const Ie=(Oe,ze)=>{const Fe=ze[Oe];if(Fe)for(let Ke=0,at=Fe.length;Ke<at;Ke++){const xt=Fe[Ke],sn=K[xt];sn&&(Ae+=(Ae.length>0?" ":"")+xt+": "+sn+";")}},ye=(Oe,ze)=>{if(!A||!ze)return!0;let Fe=A["*"];return Fe&&Fe[Oe]?!1:(Fe=A[ze],!(Fe&&Fe[Oe]))};return ie&&v?(Ie("*",v),Ie(ie,v)):cn(K,(Oe,ze)=>{Oe&&ye(ze,ie)&&(Ae+=(Ae.length>0?" ":"")+ze+": "+Oe+";")}),Ae}};return J},Wm={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},zw=e=>e instanceof Event||Ee(e.initEvent),ig=e=>e.isDefaultPrevented===Dt||e.isDefaultPrevented===tt,ag=e=>_t(e.preventDefault)||zw(e),Gm=(e,n)=>{const o=n??{};for(const r in e)jn(Wm,r)||(o[r]=e[r]);return Pe(e.composedPath)&&(o.composedPath=()=>e.composedPath()),o},cg=(e,n,o,r)=>{var l;const h=Gm(n,r);return h.type=e,_t(h.target)&&(h.target=(l=h.srcElement)!==null&&l!==void 0?l:o),ag(n)&&(h.preventDefault=()=>{h.defaultPrevented=!0,h.isDefaultPrevented=Dt,Ee(n.preventDefault)&&n.preventDefault()},h.stopPropagation=()=>{h.cancelBubble=!0,h.isPropagationStopped=Dt,Ee(n.stopPropagation)&&n.stopPropagation()},h.stopImmediatePropagation=()=>{h.isImmediatePropagationStopped=Dt,h.stopPropagation()},ig(h)||(h.isDefaultPrevented=h.defaultPrevented===!0?Dt:tt,h.isPropagationStopped=h.cancelBubble===!0?Dt:tt,h.isImmediatePropagationStopped=tt)),h},qm="mce-data-",y_=/^(?:mouse|contextmenu)|click/,Hv=(e,n,o,r)=>{e.addEventListener(n,o,r||!1)},Hh=(e,n,o,r)=>{e.removeEventListener(n,o,r||!1)},y1=e=>Pe(e)&&y_.test(e.type),Al=(e,n)=>{const o=cg(e.type,e,document,n);if(y1(e)&&dt(e.pageX)&&!dt(e.clientX)){const r=o.target.ownerDocument||document,l=r.documentElement,h=r.body,v=o;v.pageX=e.clientX+(l&&l.scrollLeft||h&&h.scrollLeft||0)-(l&&l.clientLeft||h&&h.clientLeft||0),v.pageY=e.clientY+(l&&l.scrollTop||h&&h.scrollTop||0)-(l&&l.clientTop||h&&h.clientTop||0)}return o},Oc=(e,n,o)=>{const r=e.document,l={type:"ready"};if(o.domLoaded){n(l);return}const h=()=>r.readyState==="complete"||r.readyState==="interactive"&&r.body,v=()=>{Hh(e,"DOMContentLoaded",v),Hh(e,"load",v),o.domLoaded||(o.domLoaded=!0,n(l)),e=null};h()?v():Hv(e,"DOMContentLoaded",v),o.domLoaded||Hv(e,"load",v)};class df{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=qm+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(n,o,r,l){const h=this;let v;const A=window,R=ie=>{h.executeHandlers(Al(ie||A.event),F)};if(!n||Ut(n)||Ga(n))return r;let F;n[h.expando]?F=n[h.expando]:(F=h.count++,n[h.expando]=F,h.events[F]={}),l=l||n;const J=o.split(" ");let K=J.length;for(;K--;){let ie=J[K],Ae=R,Ie=!1,ye=!1;if(ie==="DOMContentLoaded"&&(ie="ready"),h.domLoaded&&ie==="ready"&&n.readyState==="complete"){r.call(l,Al({type:ie}));continue}!h.hasFocusIn&&(ie==="focusin"||ie==="focusout")&&(Ie=!0,ye=ie==="focusin"?"focus":"blur",Ae=Oe=>{const ze=Al(Oe||A.event);ze.type=ze.type==="focus"?"focusin":"focusout",h.executeHandlers(ze,F)}),v=h.events[F][ie],v?ie==="ready"&&h.domLoaded?r(Al({type:ie})):v.push({func:r,scope:l}):(h.events[F][ie]=v=[{func:r,scope:l}],v.fakeName=ye,v.capture=Ie,v.nativeHandler=Ae,ie==="ready"?Oc(n,Ae,h):Hv(n,ye||ie,Ae,Ie))}return n=v=null,r}unbind(n,o,r){if(!n||Ut(n)||Ga(n))return this;const l=n[this.expando];if(l){let h=this.events[l];if(o){const v=o.split(" ");let A=v.length;for(;A--;){const R=v[A],F=h[R];if(F){if(r){let J=F.length;for(;J--;)if(F[J].func===r){const K=F.nativeHandler,ie=F.fakeName,Ae=F.capture,Ie=F.slice(0,J).concat(F.slice(J+1));Ie.nativeHandler=K,Ie.fakeName=ie,Ie.capture=Ae,h[R]=Ie}}(!r||F.length===0)&&(delete h[R],Hh(n,F.fakeName||R,F.nativeHandler,F.capture))}}}else cn(h,(v,A)=>{Hh(n,v.fakeName||A,v.nativeHandler,v.capture)}),h={};for(const v in h)if(jn(h,v))return this;delete this.events[l];try{delete n[this.expando]}catch{n[this.expando]=null}}return this}fire(n,o,r){return this.dispatch(n,o,r)}dispatch(n,o,r){if(!n||Ut(n)||Ga(n))return this;const l=Al({type:o,target:n},r);do{const h=n[this.expando];h&&this.executeHandlers(l,h),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow}while(n&&!l.isPropagationStopped());return this}clean(n){if(!n||Ut(n)||Ga(n))return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName){this.unbind(n);const o=n.getElementsByTagName("*");let r=o.length;for(;r--;)n=o[r],n[this.expando]&&this.unbind(n)}return this}destroy(){this.events={}}cancel(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1}executeHandlers(n,o){const r=this.events[o],l=r&&r[n.type];if(l)for(let h=0,v=l.length;h<v;h++){const A=l[h];if(A&&A.func.call(A.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}}}df.Event=new df;const Vh=Te.each,Vv=Te.grep,lg="data-mce-style",Zu=Te.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),jm=(e,n,o)=>{_t(o)||o===""?hr(e,n):mo(e,n,o)},Zm=e=>e.replace(/[A-Z]/g,n=>"-"+n.toLowerCase()),dc=(e,n)=>{let o=0;if(e)for(let r=e.nodeType,l=e.previousSibling;l;l=l.previousSibling){const h=l.nodeType;n&&Ut(l)&&(h===r||!l.data.length)||(o++,r=h)}return o},jf=(e,n)=>{const o=Li(n,"style"),r=e.serialize(e.parse(o),zs(n));jm(n,lg,r)},Uw=(e,n)=>pn(e)?jn(Zu,n)?e+"":e+"px":e,u0=(e,n,o)=>{const r=Zm(n);_t(o)||o===""?ta(e,r):ai(e,r,Uw(o,r))},d0=(e,n,o)=>{const r=n.keep_values,l={set:(v,A,R)=>{const F=De.fromDom(v);Ee(n.url_converter)&&Pe(A)&&(A=n.url_converter.call(n.url_converter_scope||o(),String(A),R,v));const J="data-mce-"+R;jm(F,J,A),jm(F,R,A)},get:(v,A)=>{const R=De.fromDom(v);return Li(R,"data-mce-"+A)||Li(R,A)}},h={style:{set:(v,A)=>{const R=De.fromDom(v);r&&jm(R,lg,A),hr(R,"style"),Q(A)&&ma(R,e.parse(A))},get:v=>{const A=De.fromDom(v),R=Li(A,lg)||Li(A,"style");return e.serialize(e.parse(R),zs(A))}}};return r&&(h.href=h.src=l),h},rr=(e,n={})=>{const o={},r=window,l={};let h=0;const v=!0,A=!0,R=p1.forElement(De.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),F=[],J=n.schema?n.schema:Kl({}),K=rg({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),ie=n.ownEvents?new df:df.Event,Ae=J.getBlockElements(),Ie=ct=>Q(ct)?jn(Ae,ct):on(ct)&&(jn(Ae,ct.nodeName)||Wf(J,ct)),ye=ct=>ct&&e&&Q(ct)?e.getElementById(ct):ct,Oe=ct=>{const lt=ye(ct);return Pe(lt)?De.fromDom(lt):null},ze=(ct,lt,Yt="")=>{let Wt;const Vn=Oe(ct);if(Pe(Vn)&&as(Vn)){const jo=t_[lt];jo&&jo.get?Wt=jo.get(Vn.dom,lt):Wt=Li(Vn,lt)}return Pe(Wt)?Wt:Yt},Fe=ct=>{const lt=ye(ct);return _t(lt)?[]:lt.attributes},Ke=(ct,lt,Yt)=>{In(ct,Wt=>{if(on(Wt)){const Vn=De.fromDom(Wt),jo=Yt===""?null:Yt,vr=Li(Vn,lt),Lr=t_[lt];Lr&&Lr.set?Lr.set(Vn.dom,jo,lt):jm(Vn,lt,jo),vr!==jo&&n.onSetAttrib&&n.onSetAttrib({attrElm:Vn.dom,attrName:lt,attrValue:jo})}})},at=(ct,lt)=>ct.cloneNode(lt),xt=()=>n.root_element||e.body,sn=ct=>{const lt=$f(ct);return{x:lt.x,y:lt.y,w:lt.width,h:lt.height}},Zt=(ct,lt)=>af(e.body,ye(ct),lt),mt=(ct,lt,Yt)=>{In(ct,Wt=>{const Vn=De.fromDom(Wt);u0(Vn,lt,Yt),n.update_styles&&jf(K,Vn)})},ht=(ct,lt)=>{In(ct,Yt=>{const Wt=De.fromDom(Yt);cn(lt,(Vn,jo)=>{u0(Wt,jo,Vn)}),n.update_styles&&jf(K,Wt)})},yn=(ct,lt,Yt)=>{const Wt=ye(ct);if(!(_t(Wt)||!on(Wt)))return Yt?$u(De.fromDom(Wt),Zm(lt)):(lt=lt.replace(/-(\D)/g,(Vn,jo)=>jo.toUpperCase()),lt==="float"&&(lt="cssFloat"),Wt.style?Wt.style[lt]:void 0)},Bn=ct=>{const lt=ye(ct);if(!lt)return{w:0,h:0};let Yt=yn(lt,"width"),Wt=yn(lt,"height");return(!Yt||Yt.indexOf("px")===-1)&&(Yt="0"),(!Wt||Wt.indexOf("px")===-1)&&(Wt="0"),{w:parseInt(Yt,10)||lt.offsetWidth||lt.clientWidth,h:parseInt(Wt,10)||lt.offsetHeight||lt.clientHeight}},qn=ct=>{const lt=ye(ct),Yt=Zt(lt),Wt=Bn(lt);return{x:Yt.x,y:Yt.y,w:Wt.w,h:Wt.h}},To=(ct,lt)=>{if(!ct)return!1;const Yt=z(ct)?ct:[ct];return Po(Yt,Wt=>fa(De.fromDom(Wt),lt))},Jo=(ct,lt,Yt,Wt)=>{const Vn=[];let jo=ye(ct);Wt=Wt===void 0;const vr=Yt||(xt().nodeName!=="BODY"?xt().parentNode:null);if(Q(lt))if(lt==="*")lt=on;else{const Lr=lt;lt=Zg=>To(Zg,Lr)}for(;jo&&!(jo===vr||_t(jo.nodeType)||yd(jo)||ef(jo));){if(!lt||lt(jo))if(Wt)Vn.push(jo);else return[jo];jo=jo.parentNode}return Wt?Vn:null},Ns=(ct,lt,Yt)=>{const Wt=Jo(ct,lt,Yt,!1);return Wt&&Wt.length>0?Wt[0]:null},cr=(ct,lt,Yt)=>{let Wt=lt;if(ct){Q(lt)&&(Wt=Vn=>To(Vn,lt));for(let Vn=ct[Yt];Vn;Vn=Vn[Yt])if(Ee(Wt)&&Wt(Vn))return Vn}return null},Ii=(ct,lt)=>cr(ct,lt,"nextSibling"),Pc=(ct,lt)=>cr(ct,lt,"previousSibling"),Xa=ct=>Ee(ct.querySelectorAll),qt=(ct,lt)=>{var Yt,Wt;const Vn=(Wt=(Yt=ye(lt))!==null&&Yt!==void 0?Yt:n.root_element)!==null&&Wt!==void 0?Wt:e;return Xa(Vn)?br(Vn.querySelectorAll(ct)):[]},In=function(ct,lt,Yt){const Wt=Yt??this;if(z(ct)){const Vn=[];return Vh(ct,(jo,vr)=>{const Lr=ye(jo);Lr&&Vn.push(lt.call(Wt,Lr,vr))}),Vn}else{const Vn=ye(ct);return Vn?lt.call(Wt,Vn):!1}},ms=(ct,lt)=>{In(ct,Yt=>{cn(lt,(Wt,Vn)=>{Ke(Yt,Vn,Wt)})})},dn=(ct,lt)=>{In(ct,Yt=>{const Wt=De.fromDom(Yt);Im(Wt,lt)})},zn=(ct,lt,Yt,Wt,Vn)=>In(ct,jo=>{const vr=Q(lt)?e.createElement(lt):lt;return Pe(Yt)&&ms(vr,Yt),Wt&&(!Q(Wt)&&Wt.nodeType?vr.appendChild(Wt):Q(Wt)&&dn(vr,Wt)),Vn?vr:jo.appendChild(vr)}),Wn=(ct,lt,Yt)=>zn(e.createElement(ct),ct,lt,Yt,!0),mn=lf.decode,Go=lf.encodeAllRaw,qo=(ct,lt,Yt="")=>{let Wt="<"+ct;for(const Vn in lt)Ja(lt,Vn)&&(Wt+=" "+Vn+'="'+Go(lt[Vn])+'"');return ri(Yt)&&jn(J.getVoidElements(),ct)?Wt+" />":Wt+">"+Yt+"</"+ct+">"},gc=ct=>{const lt=e.createElement("div"),Yt=e.createDocumentFragment();Yt.appendChild(lt),ct&&(lt.innerHTML=ct);let Wt;for(;Wt=lt.firstChild;)Yt.appendChild(Wt);return Yt.removeChild(lt),Yt},zr=(ct,lt)=>In(ct,Yt=>{const Wt=De.fromDom(Yt);return lt&&pt(We(Wt),Vn=>{fr(Vn)&&Vn.dom.length===0?Tr(Vn):ds(Wt,Vn)}),Tr(Wt),Wt.dom}),go=ct=>In(ct,lt=>{const Yt=lt.attributes;for(let Wt=Yt.length-1;Wt>=0;Wt--)lt.removeAttributeNode(Yt.item(Wt))}),gs=ct=>K.parse(ct),Xs=(ct,lt)=>K.serialize(ct,lt),lr=ct=>{if(bm!==rr.DOM&&e===document){if(o[ct])return;o[ct]=!0}let lt=e.getElementById("mceDefaultStyles");if(!lt){lt=e.createElement("style"),lt.id="mceDefaultStyles",lt.type="text/css";const Yt=e.head;Yt.firstChild?Yt.insertBefore(lt,Yt.firstChild):Yt.appendChild(lt)}lt.styleSheet?lt.styleSheet.cssText+=ct:lt.appendChild(e.createTextNode(ct))},pi=ct=>{ct||(ct=""),pt(ct.split(","),lt=>{l[lt]=!0,R.load(lt).catch(Rt)})},Yi=(ct,lt,Yt)=>{In(ct,Wt=>{if(on(Wt)){const Vn=De.fromDom(Wt),jo=lt.split(" ");pt(jo,vr=>{Pe(Yt)?(Yt?hd:rc)(Vn,vr):da(Vn,vr)})}})},jr=(ct,lt)=>{Yi(ct,lt,!0)},Ta=(ct,lt)=>{Yi(ct,lt,!1)},lh=(ct,lt)=>{const Yt=Oe(ct),Wt=lt.split(" ");return Pe(Yt)&&or(Wt,Vn=>mu(Yt,Vn))},dl=ct=>{In(ct,lt=>ta(De.fromDom(lt),"display"))},Dp=ct=>{In(ct,lt=>ai(De.fromDom(lt),"display","none"))},Hd=ct=>{const lt=Oe(ct);return Pe(lt)&&Le(Ma(lt,"display"),"none")},Jy=ct=>(ct||"mce_")+h++,e_=ct=>{const lt=Oe(ct);return Pe(lt)?on(lt.dom)?lt.dom.outerHTML:be(lt):""},Np=(ct,lt)=>{In(ct,Yt=>{on(Yt)&&(Yt.outerHTML=lt)})},vm=(ct,lt)=>{const Yt=ye(lt);return In(ct,Wt=>{const Vn=Yt==null?void 0:Yt.parentNode,jo=Yt==null?void 0:Yt.nextSibling;return Vn&&(jo?Vn.insertBefore(Wt,jo):Vn.appendChild(Wt)),Wt})},Fa=(ct,lt,Yt)=>In(lt,Wt=>{var Vn;const jo=z(lt)?ct.cloneNode(!0):ct;return Yt&&Vh(Vv(Wt.childNodes),vr=>{jo.appendChild(vr)}),(Vn=Wt.parentNode)===null||Vn===void 0||Vn.replaceChild(jo,Wt),Wt}),uh=(ct,lt)=>{if(ct.nodeName!==lt.toUpperCase()){const Yt=Wn(lt);return Vh(Fe(ct),Wt=>{Ke(Yt,Wt.nodeName,ze(ct,Wt.nodeName))}),Fa(Yt,ct,!0),Yt}else return ct},Mp=(ct,lt)=>{let Yt=ct;for(;Yt;){let Wt=lt;for(;Wt&&Yt!==Wt;)Wt=Wt.parentNode;if(Yt===Wt)break;Yt=Yt.parentNode}return!Yt&&ct.ownerDocument?ct.ownerDocument.documentElement:Yt},su=ct=>{if(on(ct)){const lt=ct.nodeName.toLowerCase()==="a"&&!ze(ct,"href")&&ze(ct,"id");if(ze(ct,"name")||ze(ct,"data-mce-bookmark")||lt)return!0}return!1},dh=(ct,lt)=>{let Yt=0;if(su(ct))return!1;const Wt=ct.firstChild;if(Wt){const Vn=new ci(Wt,ct),jo=J?J.getWhitespaceElements():{},vr=lt||(J?J.getNonEmptyElements():null);let Lr=Wt;do{if(on(Lr)){const Zg=Lr.getAttribute("data-mce-bogus");if(Zg){Lr=Vn.next(Zg==="all");continue}const zd=Lr.nodeName.toLowerCase();if(vr&&vr[zd]){if(zd==="br"){Yt++,Lr=Vn.next();continue}return!1}if(su(Lr))return!1}if(Ga(Lr)||Ut(Lr)&&!Vc(Lr.data)||Ut(Lr)&&Lr.parentNode&&jo[Lr.parentNode.nodeName]&&Vc(Lr.data))return!1;Lr=Vn.next()}while(Lr)}return Yt<=1},qg=()=>e.createRange(),kl=(ct,lt,Yt)=>{let Wt=qg(),Vn,jo;if(ct&&lt&&ct.parentNode&&lt.parentNode){const vr=ct.parentNode;return Wt.setStart(vr,dc(ct)),Wt.setEnd(lt.parentNode,dc(lt)),Vn=Wt.extractContents(),Wt=qg(),Wt.setStart(lt.parentNode,dc(lt)+1),Wt.setEnd(vr,dc(ct)+1),jo=Wt.extractContents(),vr.insertBefore(wd(bm,Vn),ct),Yt?vr.insertBefore(Yt,ct):vr.insertBefore(lt,ct),vr.insertBefore(wd(bm,jo),ct),zr(ct),Yt||lt}else return},pv=(ct,lt,Yt,Wt)=>{if(z(ct)){let Vn=ct.length;const jo=[];for(;Vn--;)jo[Vn]=pv(ct[Vn],lt,Yt,Wt);return jo}else return n.collect&&(ct===e||ct===r)&&F.push([ct,lt,Yt,Wt]),ie.bind(ct,lt,Yt,Wt||bm)},kp=(ct,lt,Yt)=>{if(z(ct)){let Wt=ct.length;const Vn=[];for(;Wt--;)Vn[Wt]=kp(ct[Wt],lt,Yt);return Vn}else{if(F.length>0&&(ct===e||ct===r)){let Wt=F.length;for(;Wt--;){const[Vn,jo,vr]=F[Wt];ct===Vn&&(!lt||lt===jo)&&(!Yt||Yt===vr)&&ie.unbind(Vn,jo,vr)}}return ie.unbind(ct,lt,Yt)}},Vd=(ct,lt,Yt)=>ie.dispatch(ct,lt,Yt),jg=(ct,lt,Yt)=>ie.dispatch(ct,lt,Yt),jS=ct=>{if(ct&&on(ct)){const lt=ct.getAttribute("data-mce-contenteditable");return lt&&lt!=="inherit"?lt:ct.contentEditable!=="inherit"?ct.contentEditable:null}else return null},bm={doc:e,settings:n,win:r,files:l,stdMode:v,boxModel:A,styleSheetLoader:R,boundEvents:F,styles:K,schema:J,events:ie,isBlock:Ie,root:null,clone:at,getRoot:xt,getViewPort:sn,getRect:qn,getSize:Bn,getParent:Ns,getParents:Jo,get:ye,getNext:Ii,getPrev:Pc,select:qt,is:To,add:zn,create:Wn,createHTML:qo,createFragment:gc,remove:zr,setStyle:mt,getStyle:yn,setStyles:ht,removeAllAttribs:go,setAttrib:Ke,setAttribs:ms,getAttrib:ze,getPos:Zt,parseStyle:gs,serializeStyle:Xs,addStyle:lr,loadCSS:pi,addClass:jr,removeClass:Ta,hasClass:lh,toggleClass:Yi,show:dl,hide:Dp,isHidden:Hd,uniqueId:Jy,setHTML:dn,getOuterHTML:e_,setOuterHTML:Np,decode:mn,encode:Go,insertAfter:vm,replace:Fa,rename:uh,findCommonAncestor:Mp,run:In,getAttribs:Fe,isEmpty:dh,createRng:qg,nodeIndex:dc,split:kl,bind:pv,unbind:kp,fire:jg,dispatch:Vd,getContentEditable:jS,getContentEditableParent:ct=>{const lt=xt();let Yt=null;for(let Wt=ct;Wt&&Wt!==lt&&(Yt=jS(Wt),Yt===null);Wt=Wt.parentNode);return Yt},isEditable:ct=>{if(Pe(ct)){const lt=on(ct)?ct:ct.parentElement,Yt=jS(xt())==="true";return Pe(lt)&&Xd(De.fromDom(lt),Yt)}else return!1},destroy:()=>{if(F.length>0){let ct=F.length;for(;ct--;){const[lt,Yt,Wt]=F[ct];ie.unbind(lt,Yt,Wt)}}cn(l,(ct,lt)=>{R.unload(lt),delete l[lt]})},isChildOf:(ct,lt)=>ct===lt||lt.contains(ct),dumpRng:ct=>"startContainer: "+ct.startContainer.nodeName+", startOffset: "+ct.startOffset+", endContainer: "+ct.endContainer.nodeName+", endOffset: "+ct.endOffset},t_=d0(K,n,nt(bm));return bm};rr.DOM=rr(document),rr.nodeIndex=dc;const Ww=rr.DOM,__=0,Gw=1,zv=2,ug=3;class Zf{constructor(n={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=n}_setReferrerPolicy(n){this.settings.referrerPolicy=n}loadScript(n){return new Promise((o,r)=>{const l=Ww;let h;const v=()=>{l.remove(F),h&&(h.onerror=h.onload=h=null)},A=()=>{v(),o()},R=()=>{v(),r("Failed to load script: "+n)},F=l.uniqueId();h=document.createElement("script"),h.id=F,h.type="text/javascript",h.src=Te._addCacheSuffix(n),this.settings.referrerPolicy&&l.setAttrib(h,"referrerpolicy",this.settings.referrerPolicy),h.onload=A,h.onerror=R,(document.getElementsByTagName("head")[0]||document.body).appendChild(h)})}isDone(n){return this.states[n]===zv}markDone(n){this.states[n]=zv}add(n){const o=this;return o.queue.push(n),o.states[n]===void 0&&(o.states[n]=__),new Promise((l,h)=>{o.scriptLoadedCallbacks[n]||(o.scriptLoadedCallbacks[n]=[]),o.scriptLoadedCallbacks[n].push({resolve:l,reject:h})})}load(n){return this.add(n)}remove(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]}loadQueue(){const n=this.queue;return this.queue=[],this.loadScripts(n)}loadScripts(n){const o=this,r=(R,F)=>{Qs(o.scriptLoadedCallbacks,F).each(J=>{pt(J,K=>K[R](F))}),delete o.scriptLoadedCallbacks[F]},l=R=>{const F=Bt(R,J=>J.status==="rejected");return F.length>0?Promise.reject(Sa(F,({reason:J})=>z(J)?J:[J])):Promise.resolve()},h=R=>Promise.allSettled(Kt(R,F=>o.states[F]===zv?(r("resolve",F),Promise.resolve()):o.states[F]===ug?(r("reject",F),Promise.reject(F)):(o.states[F]=Gw,o.loadScript(F).then(()=>{o.states[F]=zv,r("resolve",F);const J=o.queue;return J.length>0?(o.queue=[],h(J).then(l)):Promise.resolve()},()=>(o.states[F]=ug,r("reject",F),Promise.reject(F)))))),v=R=>(o.loading=!0,h(R).then(F=>{o.loading=!1;const J=o.queueLoadedCallbacks.shift();return se.from(J).each(Ho),l(F)})),A=Kc(n);return o.loading?new Promise((R,F)=>{o.queueLoadedCallbacks.push(()=>v(A).then(R,F))}):v(A)}}Zf.ScriptLoader=new Zf;const zi=e=>{let n=e;return{get:()=>n,set:l=>{n=l}}},Yf=e=>Ne(e)&&jn(e,"raw"),f0=e=>z(e)&&e.length>1,Si={},Uv=zi("en"),_1=()=>Qs(Si,Uv.get()),Cd={getData:()=>Vo(Si,e=>({...e})),setCode:e=>{e&&Uv.set(e)},getCode:()=>Uv.get(),add:(e,n)=>{let o=Si[e];o||(Si[e]=o={}),cn(n,(r,l)=>{o[l.toLowerCase()]=r})},translate:e=>{const n=_1().getOr({}),o=v=>Ee(v)?Object.prototype.toString.call(v):r(v)?"":""+v,r=v=>v===""||v===null||v===void 0,l=v=>{const A=o(v);return Qs(n,A.toLowerCase()).map(o).getOr(A)},h=v=>v.replace(/{context:\w+}$/,"");if(r(e))return"";if(Yf(e))return o(e.raw);if(f0(e)){const v=e.slice(1),A=l(e[0]).replace(/\{([0-9]+)\}/g,(R,F)=>jn(v,F)?o(v[F]):R);return h(A)}return h(l(e))},isRtl:()=>_1().bind(e=>Qs(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>jn(Si,e)},As=()=>{const e=[],n={},o={},r=[],l=(ye,Oe)=>{const ze=Bt(r,Fe=>Fe.name===ye&&Fe.state===Oe);pt(ze,Fe=>Fe.resolve())},h=ye=>jn(n,ye),v=ye=>jn(o,ye),A=ye=>{if(o[ye])return o[ye].instance},R=(ye,Oe)=>{const ze=Cd.getCode(),Fe=","+(Oe||"")+",";!ze||Oe&&Fe.indexOf(","+ze+",")===-1||Zf.ScriptLoader.add(n[ye]+"/langs/"+ze+".js")},F=(ye,Oe)=>{As.languageLoad!==!1&&(h(ye)?R(ye,Oe):Ie(ye,"loaded").then(()=>R(ye,Oe)))},J=(ye,Oe)=>(e.push(Oe),o[ye]={instance:Oe},l(ye,"added"),Oe),K=ye=>{delete n[ye],delete o[ye]},ie=(ye,Oe)=>Q(Oe)?Q(ye)?{prefix:"",resource:Oe,suffix:""}:{prefix:ye.prefix,resource:Oe,suffix:ye.suffix}:Oe,Ae=(ye,Oe)=>{if(n[ye])return Promise.resolve();let ze=Q(Oe)?Oe:Oe.prefix+Oe.resource+Oe.suffix;ze.indexOf("/")!==0&&ze.indexOf("://")===-1&&(ze=As.baseURL+"/"+ze),n[ye]=ze.substring(0,ze.lastIndexOf("/"));const Fe=()=>(l(ye,"loaded"),Promise.resolve());return o[ye]?Fe():Zf.ScriptLoader.add(ze).then(Fe)},Ie=(ye,Oe="added")=>Oe==="added"&&v(ye)||Oe==="loaded"&&h(ye)?Promise.resolve():new Promise(ze=>{r.push({name:ye,state:Oe,resolve:ze})});return{items:e,urls:n,lookup:o,get:A,requireLangPack:F,add:J,remove:K,createUrl:ie,load:Ae,waitFor:Ie}};As.languageLoad=!0,As.baseURL="",As.PluginManager=As(),As.ThemeManager=As(),As.ModelManager=As();const T_=e=>{const n=zi(se.none()),o=()=>n.get().each(e);return{clear:()=>{o(),n.set(se.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:A=>{o(),n.set(se.some(A))}}},Bs=e=>{const n=zi(se.none()),o=()=>n.get().each(A=>clearInterval(A));return{clear:()=>{o(),n.set(se.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:A=>{o(),n.set(se.some(setInterval(A,e)))}}},sa=()=>{const e=T_(Rt);return{...e,on:o=>e.get().each(o)}},vu=(e,n)=>{let o=null;return{cancel:()=>{we(o)||(clearTimeout(o),o=null)},throttle:(...h)=>{we(o)&&(o=setTimeout(()=>{o=null,e.apply(null,h)},n))}}},Wc=(e,n)=>{let o=null;const r=()=>{we(o)||(clearTimeout(o),o=null)};return{cancel:r,throttle:(...h)=>{r(),o=setTimeout(()=>{o=null,e.apply(null,h)},n)}}},Uh=nt("mce-annotation"),dg=nt("data-mce-annotation"),Xf=nt("data-mce-annotation-uid"),Xl=nt("data-mce-annotation-active"),Yu=nt("data-mce-annotation-classes"),Wh=nt("data-mce-annotation-attrs"),E1=e=>n=>os(n,e),h0=(e,n)=>{const o=e.selection.getRng(),r=De.fromDom(o.startContainer),l=De.fromDom(e.getBody()),h=n.fold(()=>"."+Uh(),R=>`[${dg()}="${R}"]`),v=Vt(r,o.startOffset).getOr(r);return zl(v,h,E1(l)).bind(R=>sc(R,`${Xf()}`).bind(F=>sc(R,`${dg()}`).map(J=>{const K=fg(e,F);return{uid:F,name:J,elements:K}})))},C_=e=>as(e)&&mu(e,Uh()),S_=(e,n)=>ea(e,"data-mce-bogus")||qp(e,'[data-mce-bogus="all"]',E1(n)),fg=(e,n)=>{const o=De.fromDom(e.getBody()),r=Jr(o,`[${Xf()}="${n}"]`);return Bt(r,l=>!S_(l,o))},m0=(e,n)=>{const o=De.fromDom(e.getBody()),r=Jr(o,`[${dg()}="${n}"]`),l={};return pt(r,h=>{if(!S_(h,o)){const v=Li(h,Xf()),A=Qs(l,v).getOr([]);l[v]=A.concat([h])}}),l},qw=(e,n)=>{const o=zi({}),r=()=>({listeners:[],previous:sa()}),l=(K,ie)=>{h(K,Ae=>(ie(Ae),Ae))},h=(K,ie)=>{const Ae=o.get(),Ie=Qs(Ae,K).getOrThunk(r),ye=ie(Ie);Ae[K]=ye,o.set(Ae)},v=(K,ie,Ae)=>{l(K,Ie=>{pt(Ie.listeners,ye=>ye(!0,K,{uid:ie,nodes:Kt(Ae,Oe=>Oe.dom)}))})},A=K=>{l(K,ie=>{pt(ie.listeners,Ae=>Ae(!1,K))})},R=(K,ie)=>{pt(fg(e,K),Ae=>{ie?mo(Ae,Xl(),"true"):hr(Ae,Xl())})},F=Wc(()=>{const K=ks(n.getNames());pt(K,ie=>{h(ie,Ae=>{const Ie=Ae.previous.get();return h0(e,se.some(ie)).fold(()=>{Ie.each(ye=>{A(ie),Ae.previous.clear(),R(ye,!1)})},({uid:ye,name:Oe,elements:ze})=>{Le(Ie,ye)||(Ie.each(Fe=>R(Fe,!1)),v(Oe,ye,ze),Ae.previous.set(ye),R(ye,!0))}),{previous:Ae.previous,listeners:Ae.listeners}})})},30);return e.on("remove",()=>{F.cancel()}),e.on("NodeChange",()=>{F.throttle()}),{addListener:(K,ie)=>{h(K,Ae=>({previous:Ae.previous,listeners:Ae.listeners.concat([ie])}))}}},jw=(e,n)=>{const o=dg(),r=h=>se.from(h.attr(o)).bind(n.lookup),l=h=>{var v,A;h.attr(Xf(),null),h.attr(dg(),null),h.attr(Xl(),null);const R=se.from(h.attr(Wh())).map(ie=>ie.split(",")).getOr([]),F=se.from(h.attr(Yu())).map(ie=>ie.split(",")).getOr([]);pt(R,ie=>h.attr(ie,null));const J=(A=(v=h.attr("class"))===null||v===void 0?void 0:v.split(" "))!==null&&A!==void 0?A:[],K=id(J,[Uh()].concat(F));h.attr("class",K.length>0?K.join(" "):null),h.attr(Yu(),null),h.attr(Wh(),null)};e.serializer.addTempAttr(Xl()),e.serializer.addAttributeFilter(o,h=>{for(const v of h)r(v).each(A=>{A.persistent===!1&&(v.name==="span"?v.unwrap():l(v))})})},x_=()=>{const e={};return{register:(l,h)=>{e[l]={name:l,settings:h}},lookup:l=>Qs(e,l).map(h=>h.settings),getNames:()=>yi(e)}};let A_=0;const p0=e=>{const o=new Date().getTime(),r=Math.floor(Math.random()*1e9);return A_++,e+"_"+r+A_+String(o)},O_=(e,n)=>{pt(n,o=>{hd(e,o)})},Zw=(e,n)=>{pt(n,o=>{rc(e,o)})},g0=(e,n)=>De.fromDom(e.dom.cloneNode(n)),Ym=e=>g0(e,!1),v0=e=>g0(e,!0),Yw=(e,n)=>{const o=De.fromTag(n),r=Ia(e);return Wr(o,r),o},Kw=(e,n)=>{const o=Yw(e,n);ol(e,o);const r=We(e);return vd(o,r),Tr(e),o},R_=(e,n,o=tt)=>{const r=new ci(e,n),l=h=>{let v;do v=r[h]();while(v&&!Ut(v)&&!o(v));return se.from(v).filter(Ut)};return{current:()=>se.from(r.current()).filter(Ut),next:()=>l("next"),prev:()=>l("prev"),prev2:()=>l("prev2")}},Sr=(e,n)=>{const o=n||(v=>e.isBlock(v)||mr(v)||Lo(v)),r=(v,A,R,F)=>{if(Ut(v)){const J=F(v,A,v.data);if(J!==-1)return se.some({container:v,offset:J})}return R().bind(J=>r(J.container,J.offset,R,F))};return{backwards:(v,A,R,F)=>{const J=R_(v,F??e.getRoot(),o);return r(v,A,()=>J.prev().map(K=>({container:K,offset:K.length})),R).getOrNull()},forwards:(v,A,R,F)=>{const J=R_(v,F??e.getRoot(),o);return r(v,A,()=>J.next().map(K=>({container:K,offset:0})),R).getOrNull()}}},ff=Math.round,Gh=e=>e?{left:ff(e.left),top:ff(e.top),bottom:ff(e.bottom),right:ff(e.right),width:ff(e.width),height:ff(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},I_=(e,n)=>(e=Gh(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),Gv=(e,n)=>e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right,fc=(e,n,o)=>e>=0&&e<=Math.min(n.height,o.height)/2,il=(e,n)=>{const o=Math.min(n.height/2,e.height/2);return e.bottom-o<n.top?!0:e.top>n.bottom?!1:fc(n.top-e.bottom,e,n)},Km=(e,n)=>e.top>n.bottom?!0:e.bottom<n.top?!1:fc(n.bottom-e.top,e,n),qv=(e,n,o)=>n>=e.left&&n<=e.right&&o>=e.top&&o<=e.bottom,b0=e=>Ms(e,(n,o)=>n.fold(()=>se.some(o),r=>{const l=Math.min(o.left,r.left),h=Math.min(o.top,r.top),v=Math.max(o.right,r.right),A=Math.max(o.bottom,r.bottom);return se.some({top:h,right:v,bottom:A,left:l,width:v-l,height:A-h})}),se.none()),D_=(e,n,o)=>{const r=Math.max(Math.min(n,e.left+e.width),e.left),l=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((n-r)*(n-r)+(o-l)*(o-l))},y0=(e,n)=>Math.max(0,Math.min(e.bottom,n.bottom)-Math.max(e.top,n.top)),N_=(e,n,o)=>Math.min(Math.max(e,n),o),Ol=e=>{const n=e.startContainer,o=e.startOffset;return n===e.endContainer&&n.hasChildNodes()&&e.endOffset===o+1?n.childNodes[o]:null},Qf=(e,n)=>{if(on(e)&&e.hasChildNodes()){const o=e.childNodes,r=N_(n,0,o.length-1);return o[r]}else return e},Mr=(e,n)=>{if(!(n<0&&on(e)&&e.hasChildNodes()))return Qf(e,n)},hf=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),Sd=e=>Q(e)&&e.charCodeAt(0)>=768&&hf.test(e),Xw=(...e)=>n=>{for(let o=0;o<e.length;o++)if(e[o](n))return!0;return!1},M_=(...e)=>n=>{for(let o=0;o<e.length;o++)if(!e[o](n))return!1;return!0},_0=on,Xm=Cl,E0=_l("display","block table"),hg=_l("float","left right"),Qm=M_(_0,Xm,bo(hg)),Qw=bo(_l("white-space","pre pre-line pre-wrap")),w1=Ut,T1=mr,w0=rr.nodeIndex,jv=Mr,mg=e=>e?e.createRange():rr.DOM.createRng(),Zv=e=>Q(e)&&/[\r\n\t ]/.test(e),qh=e=>!!e.setStart&&!!e.setEnd,pg=e=>{const n=e.startContainer,o=e.startOffset;if(Zv(e.toString())&&Qw(n.parentNode)&&Ut(n)){const r=n.data;if(Zv(r[o-1])||Zv(r[o+1]))return!0}return!1},k_=e=>{const n=e.ownerDocument,o=mg(n),r=n.createTextNode(_s),l=e.parentNode;l.insertBefore(r,e),o.setStart(r,0),o.setEnd(r,1);const h=Gh(o.getBoundingClientRect());return l.removeChild(r),h},P_=e=>{const n=e.startContainer,o=e.endContainer,r=e.startOffset,l=e.endOffset;if(n===o&&Ut(o)&&r===0&&l===1){const h=e.cloneRange();return h.setEndAfter(o),xd(h)}else return null},C1=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,xd=e=>{var n;let o;const r=e.getClientRects();return r.length>0?o=Gh(r[0]):o=Gh(e.getBoundingClientRect()),!qh(e)&&T1(e)&&C1(o)?k_(e):C1(o)&&qh(e)&&(n=P_(e))!==null&&n!==void 0?n:o},bu=(e,n)=>{const o=I_(e,n);return o.width=1,o.right=o.left+1,o},S1=e=>{const n=[],o=v=>{v.height!==0&&(n.length>0&&Gv(v,n[n.length-1])||n.push(v))},r=(v,A)=>{const R=mg(v.ownerDocument);if(A<v.data.length){if(Sd(v.data[A]))return;if(Sd(v.data[A-1])&&(R.setStart(v,A),R.setEnd(v,A+1),!pg(R))){o(bu(xd(R),!1));return}}A>0&&(R.setStart(v,A-1),R.setEnd(v,A),pg(R)||o(bu(xd(R),!1))),A<v.data.length&&(R.setStart(v,A),R.setEnd(v,A+1),pg(R)||o(bu(xd(R),!0)))},l=e.container(),h=e.offset();if(w1(l))return r(l,h),n;if(_0(l))if(e.isAtEnd()){const v=jv(l,h);w1(v)&&r(v,v.data.length),Qm(v)&&!T1(v)&&o(bu(xd(v),!1))}else{const v=jv(l,h);if(w1(v)&&r(v,0),Qm(v)&&e.isAtEnd())return o(bu(xd(v),!1)),n;const A=jv(e.container(),e.offset()-1);Qm(A)&&!T1(A)&&(E0(A)||E0(v)||!Qm(v))&&o(bu(xd(A),!1)),Qm(v)&&o(bu(xd(v),!0))}return n},Xe=(e,n,o)=>{const r=()=>(w1(e),n===0),l=()=>w1(e)?n>=e.data.length:n>=e.childNodes.length,h=()=>{const J=mg(e.ownerDocument);return J.setStart(e,n),J.setEnd(e,n),J},v=()=>(o||(o=S1(Xe(e,n))),o),A=()=>v().length>0,R=J=>J&&e===J.container()&&n===J.offset(),F=J=>jv(e,J?n-1:n);return{container:nt(e),offset:nt(n),toRange:h,getClientRects:v,isVisible:A,isAtStart:r,isAtEnd:l,isEqual:R,getNode:F}};Xe.fromRangeStart=e=>Xe(e.startContainer,e.startOffset),Xe.fromRangeEnd=e=>Xe(e.endContainer,e.endOffset),Xe.after=e=>Xe(e.parentNode,w0(e)+1),Xe.before=e=>Xe(e.parentNode,w0(e)),Xe.isAbove=(e,n)=>Et(Di(n.getClientRects()),Yc(e.getClientRects()),il).getOr(!1),Xe.isBelow=(e,n)=>Et(Yc(n.getClientRects()),Di(e.getClientRects()),Km).getOr(!1),Xe.isAtStart=e=>e?e.isAtStart():!1,Xe.isAtEnd=e=>e?e.isAtEnd():!1,Xe.isTextPosition=e=>e?Ut(e.container()):!1,Xe.isElementPosition=e=>!Xe.isTextPosition(e);const xr=(e,n)=>{Ut(n)&&n.data.length===0&&e.remove(n)},Jm=(e,n,o)=>{n.insertNode(o),xr(e,o.previousSibling),xr(e,o.nextSibling)},T0=(e,n,o)=>{const r=se.from(o.firstChild),l=se.from(o.lastChild);n.insertNode(o),r.each(h=>xr(e,h.previousSibling)),l.each(h=>xr(e,h.nextSibling))},tr=(e,n,o)=>{ef(o)?T0(e,n,o):Jm(e,n,o)},Ku=Ut,x1=sl,ra=rr.nodeIndex,Xu=e=>{const n=e.parentNode;return x1(n)?Xu(n):n},C0=e=>e?xa(e.childNodes,(n,o)=>(x1(o)&&o.nodeName!=="BR"?n=n.concat(C0(o)):n.push(o),n),[]):[],L_=(e,n)=>{let o=e;for(;(o=o.previousSibling)&&Ku(o);)n+=o.data.length;return n},Yv=e=>n=>e===n,ep=e=>{let n,o;n=C0(Xu(e)),o=Fr(n,Yv(e),e),n=n.slice(0,o+1);const r=xa(n,(l,h,v)=>(Ku(h)&&Ku(n[v-1])&&l++,l),0);return n=Xc(n,yl([e.nodeName])),o=Fr(n,Yv(e),e),o-r},jh=e=>(Ku(e)?"text()":e.nodeName.toLowerCase())+"["+ep(e)+"]",Kv=(e,n,o)=>{const r=[];for(let l=n.parentNode;l&&l!==e&&!(o&&o(l));l=l.parentNode)r.push(l);return r},A1=(e,n)=>{let o=[],r=n.container(),l=n.offset(),h;if(Ku(r))h=L_(r,l);else{const A=r.childNodes;l>=A.length?(h="after",l=A.length-1):h="before",r=A[l]}o.push(jh(r));let v=Kv(e,r);return v=Xc(v,bo(sl)),o=o.concat(Ha(v,A=>jh(A))),o.reverse().join("/")+","+h},Rc=(e,n,o)=>{let r=C0(e);return r=Xc(r,(l,h)=>!Ku(l)||!Ku(r[h-1])),r=Xc(r,yl([n])),r[o]},O1=(e,n)=>{let o=e,r=0;for(;Ku(o);){const l=o.data.length;if(n>=r&&n<=r+l){e=o,n=n-r;break}if(!Ku(o.nextSibling)){e=o,n=l;break}r+=l,o=o.nextSibling}return Ku(e)&&n>e.data.length&&(n=e.data.length),Xe(e,n)},S0=(e,n)=>{if(!n)return null;const o=n.split(","),r=o[0].split("/"),l=o.length>1?o[1]:"before",h=xa(r,(v,A)=>{const R=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(A);return R?(R[1]==="text()"&&(R[1]="#text"),Rc(v,R[1],parseInt(R[2],10))):null},e);if(!h)return null;if(!Ku(h)&&h.parentNode){let v;return l==="after"?v=ra(h)+1:v=ra(h),Xe(h.parentNode,v)}return O1(h,parseInt(l,10))},R1=Lo,Jf=(e,n,o)=>{let r=e(n.data.slice(0,o)).length;for(let l=n.previousSibling;l&&Ut(l);l=l.previousSibling)r+=e(l.data).length;return r},Ic=(e,n,o,r,l)=>{const h=l?r.startContainer:r.endContainer;let v=l?r.startOffset:r.endOffset;const A=[],R=e.getRoot();if(Ut(h))A.push(o?Jf(n,h,v):v);else{let F=0;const J=h.childNodes;v>=J.length&&J.length&&(F=1,v=Math.max(0,J.length-1)),A.push(e.nodeIndex(J[v],o)+F)}for(let F=h;F&&F!==R;F=F.parentNode)A.push(e.nodeIndex(F,o));return A},Jw=(e,n,o,r)=>{const l=n.dom,h=Ic(l,e,o,r,!0),v=n.isForward(),A=Rv(r)?{isFakeCaret:!0}:{};if(n.isCollapsed())return{start:h,forward:v,...A};{const R=Ic(l,e,o,r,!1);return{start:h,end:R,forward:v,...A}}},ba=(e,n,o)=>{let r=0;return Te.each(e.select(n),l=>{if(l.getAttribute("data-mce-bogus")!=="all"){if(l===o)return!1;r++;return}}),r},Xv=(e,n)=>{let o=n?e.startContainer:e.endContainer,r=n?e.startOffset:e.endOffset;if(on(o)&&o.nodeName==="TR"){const l=o.childNodes;o=l[Math.min(n?r:r-1,l.length-1)],o&&(r=n?0:o.childNodes.length,n?e.setStart(o,r):e.setEnd(o,r))}},mf=e=>(Xv(e,!0),Xv(e,!1),e),I1=(e,n)=>{if(on(e)&&(e=Qf(e,n),R1(e)))return e;if(Tl(e)){Ut(e)&&Uu(e)&&(e=e.parentNode);let o=e.previousSibling;if(R1(o)||(o=e.nextSibling,R1(o)))return o}},B_=e=>I1(e.startContainer,e.startOffset)||I1(e.endContainer,e.endOffset),x0=(e,n,o)=>{const r=o.getNode(),l=o.getRng();if(r.nodeName==="IMG"||R1(r)){const v=r.nodeName;return{name:v,index:ba(o.dom,v,r)}}const h=B_(l);if(h){const v=h.tagName;return{name:v,index:ba(o.dom,v,h)}}return Jw(e,o,n,l)},A0=e=>{const n=e.getRng();return{start:A1(e.dom.getRoot(),Xe.fromRangeStart(n)),end:A1(e.dom.getRoot(),Xe.fromRangeEnd(n)),forward:e.isForward()}},O0=e=>({rng:e.getRng(),forward:e.isForward()}),R0=(e,n,o)=>{const r={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return o?e.create("span",r,"&#xFEFF;"):e.create("span",r)},$_=(e,n)=>{const o=e.dom;let r=e.getRng();const l=o.uniqueId(),h=e.isCollapsed(),v=e.getNode(),A=v.nodeName,R=e.isForward();if(A==="IMG")return{name:A,index:ba(o,A,v)};const F=mf(r.cloneRange());if(!h){F.collapse(!1);const K=R0(o,l+"_end",n);tr(o,F,K)}r=mf(r),r.collapse(!0);const J=R0(o,l+"_start",n);return tr(o,r,J),e.moveToBookmark({id:l,keep:!0,forward:R}),{id:l,forward:R}},eT=(e,n,o=!1)=>n===2?x0(_d,o,e):n===3?A0(e):n?O0(e):$_(e,!1),ya=Ze(x0,jt,!0),Ui=e=>{const n=h=>h(e),o=nt(e),r=()=>l,l={tag:!0,inner:e,fold:(h,v)=>v(e),isValue:Dt,isError:tt,map:h=>Ds.value(h(e)),mapError:r,bind:n,exists:n,forall:n,getOr:o,or:r,getOrThunk:o,orThunk:r,getOrDie:o,each:h=>{h(e)},toOptional:()=>se.some(e)};return l},Gc=e=>{const n=()=>o,o={tag:!1,inner:e,fold:(r,l)=>r(e),isValue:tt,isError:Dt,map:n,mapError:r=>Ds.error(r(e)),bind:n,exists:tt,forall:Dt,getOr:jt,or:jt,getOrThunk:co,orThunk:co,getOrDie:Fo(String(e)),each:Rt,toOptional:se.none};return o},Ds={value:Ui,error:Gc,fromOption:(e,n)=>e.fold(()=>Gc(n),Ui)},Qu={generate:e=>{if(!z(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const n=[],o={};return pt(e,(r,l)=>{const h=yi(r);if(h.length!==1)throw new Error("one and only one name per case");const v=h[0],A=r[v];if(o[v]!==void 0)throw new Error("duplicate key detected:"+v);if(v==="cata")throw new Error("cannot have a case named cata (sorry)");if(!z(A))throw new Error("case arguments must be an array");n.push(v),o[v]=(...R)=>{const F=R.length;if(F!==A.length)throw new Error("Wrong number of arguments to case "+v+". Expected "+A.length+" ("+A+"), got "+F);return{fold:(...K)=>{if(K.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+K.length);return K[l].apply(null,R)},match:K=>{const ie=yi(K);if(n.length!==ie.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+ie.join(","));if(!or(n,Ie=>Pn(ie,Ie)))throw new Error("Not all branches were specified when using match. Specified: "+ie.join(", ")+`
Required: `+n.join(", "));return K[v].apply(null,R)},log:K=>{console.log(K,{constructors:n,constructor:v,params:R})}}}}),o}};Qu.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const eh=e=>{const n=[],o=[];return pt(e,r=>{r.fold(l=>{n.push(l)},l=>{o.push(l)})}),{errors:n,values:o}},fs=e=>e.type==="inline-command"||e.type==="inline-format",Qv=e=>e.type==="block-command"||e.type==="block-format",qc=e=>{const n=r=>Ds.error({message:r,pattern:e}),o=(r,l,h)=>{if(e.format!==void 0){let v;if(z(e.format)){if(!or(e.format,Q))return n(r+" pattern has non-string items in the `format` array");v=e.format}else if(Q(e.format))v=[e.format];else return n(r+" pattern has non-string `format` parameter");return Ds.value(l(v))}else return e.cmd!==void 0?Q(e.cmd)?Ds.value(h(e.cmd,e.value)):n(r+" pattern has non-string `cmd` parameter"):n(r+" pattern is missing both `format` and `cmd` parameters")};if(!Ne(e))return n("Raw pattern is not an object");if(!Q(e.start))return n("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!Q(e.end))return n("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return n("Inline pattern has empty `start` and `end` parameters");let r=e.start,l=e.end;return l.length===0&&(l=r,r=""),o("Inline",h=>({type:"inline-format",start:r,end:l,format:h}),(h,v)=>({type:"inline-command",start:r,end:l,cmd:h,value:v}))}else return e.replacement!==void 0?Q(e.replacement)?e.start.length===0?n("Replacement pattern has empty `start` parameter"):Ds.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):n("Replacement pattern has non-string `replacement` parameter"):e.start.length===0?n("Block pattern has empty `start` parameter"):o("Block",r=>({type:"block-format",start:e.start,format:r[0]}),(r,l)=>({type:"block-command",start:e.start,cmd:r,value:l}))},Wi=e=>Bt(e,Qv),D1=e=>Bt(e,fs),Ad=(e,n)=>({inlinePatterns:D1(e),blockPatterns:Wi(e),dynamicPatternsLookup:n}),I0=e=>{const n=eh(Kt(e,qc));return pt(n.errors,o=>console.error(o.message,o.pattern)),n.values},yx=e=>n=>{const o=e(n);return I0(o)},Jv=Vs().deviceType,D0=Jv.isTouch(),eb=rr.DOM,N1=e=>{const n=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return Ms(n,(o,r)=>{const l=r.split("="),h=l[0],v=l.length>1?l[1]:h;return o[du(h)]=du(v),o},{})},F_=e=>ge(e,RegExp),_n=e=>n=>n.options.get(e),tb=e=>Q(e)||Ne(e),M1=(e,n="")=>o=>{const r=Q(o);if(r)if(o.indexOf("=")!==-1){const l=N1(o);return{value:Qs(l,e.id).getOr(n),valid:r}}else return{value:o,valid:r};else return{valid:!1,message:"Must be a string."}},Gi=e=>{const n=e.options.register;n("id",{processor:"string",default:e.id}),n("selector",{processor:"string"}),n("target",{processor:"object"}),n("suffix",{processor:"string"}),n("cache_suffix",{processor:"string"}),n("base_url",{processor:"string"}),n("referrer_policy",{processor:"string",default:""}),n("language_load",{processor:"boolean",default:!0}),n("inline",{processor:"boolean",default:!1}),n("iframe_attrs",{processor:"object",default:{}}),n("doctype",{processor:"string",default:"<!DOCTYPE html>"}),n("document_base_url",{processor:"string",default:e.documentBaseUrl}),n("body_id",{processor:M1(e,"tinymce"),default:"tinymce"}),n("body_class",{processor:M1(e),default:""}),n("content_security_policy",{processor:"string",default:""}),n("br_in_pre",{processor:"boolean",default:!0}),n("forced_root_block",{processor:o=>{const r=Q(o)&&Ss(o);return r?{value:o,valid:r}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),n("forced_root_block_attrs",{processor:"object",default:{}}),n("newline_behavior",{processor:o=>{const r=Pn(["block","linebreak","invert","default"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),n("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),n("no_newline_selector",{processor:"string",default:""}),n("keep_styles",{processor:"boolean",default:!0}),n("end_container_on_empty_block",{processor:o=>je(o)?{valid:!0,value:o}:Q(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),n("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),n("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),n("font_size_classes",{processor:"string",default:""}),n("automatic_uploads",{processor:"boolean",default:!0}),n("images_reuse_filename",{processor:"boolean",default:!1}),n("images_replace_blob_uris",{processor:"boolean",default:!0}),n("icons",{processor:"string",default:""}),n("icons_url",{processor:"string",default:""}),n("images_upload_url",{processor:"string",default:""}),n("images_upload_base_path",{processor:"string",default:""}),n("images_upload_credentials",{processor:"boolean",default:!1}),n("images_upload_handler",{processor:"function"}),n("language",{processor:"string",default:"en"}),n("language_url",{processor:"string",default:""}),n("entity_encoding",{processor:"string",default:"named"}),n("indent",{processor:"boolean",default:!0}),n("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_use_margin",{processor:"boolean",default:!1}),n("indentation",{processor:"string",default:"40px"}),n("content_css",{processor:o=>{const r=o===!1||Q(o)||Tt(o,Q);return r?Q(o)?{value:Kt(o.split(","),du),valid:r}:z(o)?{value:o,valid:r}:o===!1?{value:[],valid:r}:{value:o,valid:r}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:k0(e)?[]:["default"]}),n("content_style",{processor:"string"}),n("content_css_cors",{processor:"boolean",default:!1}),n("font_css",{processor:o=>{const r=Q(o)||Tt(o,Q);return r?{value:z(o)?o:Kt(o.split(","),du),valid:r}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),n("inline_boundaries",{processor:"boolean",default:!0}),n("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),n("object_resizing",{processor:o=>{const r=je(o)||Q(o);return r?o===!1||Jv.isiPhone()||Jv.isiPad()?{value:"",valid:r}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:r}:{valid:!1,message:"Must be boolean or a string"}},default:!D0}),n("resize_img_proportional",{processor:"boolean",default:!0}),n("event_root",{processor:"object"}),n("service_message",{processor:"string"}),n("theme",{processor:o=>o===!1||Q(o)||Ee(o),default:"silver"}),n("theme_url",{processor:"string"}),n("formats",{processor:"object"}),n("format_empty_lines",{processor:"boolean",default:!1}),n("format_noneditable_selector",{processor:"string",default:""}),n("preview_styles",{processor:o=>{const r=o===!1||Q(o);return r?{value:o===!1?"":o,valid:r}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),n("custom_ui_selector",{processor:"string",default:""}),n("hidden_input",{processor:"boolean",default:!0}),n("submit_patch",{processor:"boolean",default:!0}),n("encoding",{processor:"string"}),n("add_form_submit_trigger",{processor:"boolean",default:!0}),n("add_unload_trigger",{processor:"boolean",default:!0}),n("custom_undo_redo_levels",{processor:"number",default:0}),n("disable_nodechange",{processor:"boolean",default:!1}),n("readonly",{processor:"boolean",default:!1}),n("plugins",{processor:"string[]",default:[]}),n("external_plugins",{processor:"object"}),n("forced_plugins",{processor:"string[]"}),n("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),n("model_url",{processor:"string"}),n("block_unsupported_drop",{processor:"boolean",default:!0}),n("visual",{processor:"boolean",default:!0}),n("visual_table_class",{processor:"string",default:"mce-item-table"}),n("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),n("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),n("setup",{processor:"function"}),n("init_instance_callback",{processor:"function"}),n("url_converter",{processor:"function",default:e.convertURL}),n("url_converter_scope",{processor:"object",default:e}),n("urlconverter_callback",{processor:"function"}),n("allow_conditional_comments",{processor:"boolean",default:!1}),n("allow_html_data_urls",{processor:"boolean",default:!1}),n("allow_svg_data_urls",{processor:"boolean"}),n("allow_html_in_named_anchor",{processor:"boolean",default:!1}),n("allow_script_urls",{processor:"boolean",default:!1}),n("allow_unsafe_link_target",{processor:"boolean",default:!1}),n("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),n("fix_list_elements",{processor:"boolean",default:!1}),n("preserve_cdata",{processor:"boolean",default:!1}),n("remove_trailing_brs",{processor:"boolean"}),n("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),n("element_format",{processor:"string",default:"html"}),n("entities",{processor:"string"}),n("schema",{processor:"string",default:"html5"}),n("convert_urls",{processor:"boolean",default:!0}),n("relative_urls",{processor:"boolean",default:!0}),n("remove_script_host",{processor:"boolean",default:!0}),n("custom_elements",{processor:"string"}),n("extended_valid_elements",{processor:"string"}),n("invalid_elements",{processor:"string"}),n("invalid_styles",{processor:tb}),n("valid_children",{processor:"string"}),n("valid_classes",{processor:tb}),n("valid_elements",{processor:"string"}),n("valid_styles",{processor:tb}),n("verify_html",{processor:"boolean",default:!0}),n("auto_focus",{processor:o=>Q(o)||o===!0}),n("browser_spellcheck",{processor:"boolean",default:!1}),n("protect",{processor:"array"}),n("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),n("deprecation_warnings",{processor:"boolean",default:!0}),n("a11y_advanced_options",{processor:"boolean",default:!1}),n("api_key",{processor:"string"}),n("paste_block_drop",{processor:"boolean",default:!1}),n("paste_data_images",{processor:"boolean",default:!0}),n("paste_preprocess",{processor:"function"}),n("paste_postprocess",{processor:"function"}),n("paste_webkit_styles",{processor:"string",default:"none"}),n("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),n("paste_merge_formats",{processor:"boolean",default:!0}),n("smart_paste",{processor:"boolean",default:!0}),n("paste_as_text",{processor:"boolean",default:!1}),n("paste_tab_spaces",{processor:"number",default:4}),n("text_patterns",{processor:o=>Tt(o,Ne)||o===!1?{value:I0(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),n("text_patterns_lookup",{processor:o=>Ee(o)?{value:yx(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),n("noneditable_class",{processor:"string",default:"mceNonEditable"}),n("editable_class",{processor:"string",default:"mceEditable"}),n("noneditable_regexp",{processor:o=>Tt(o,F_)?{value:o,valid:!0}:F_(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),n("table_tab_navigation",{processor:"boolean",default:!0}),n("highlight_on_focus",{processor:"boolean",default:!1}),n("xss_sanitization",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{n("directionality",{processor:"string",default:Cd.isRtl()?"rtl":void 0}),n("placeholder",{processor:"string",default:eb.getAttrib(e.getElement(),"placeholder")})})},Pt=_n("iframe_attrs"),H_=_n("doctype"),_a=_n("document_base_url"),tT=_n("body_id"),V_=_n("body_class"),z_=_n("content_security_policy"),yu=_n("br_in_pre"),_u=_n("forced_root_block"),gg=_n("forced_root_block_attrs"),al=_n("newline_behavior"),k1=_n("br_newline_selector"),P1=_n("no_newline_selector"),Od=_n("keep_styles"),Ql=_n("end_container_on_empty_block"),cl=_n("automatic_uploads"),Dc=_n("images_reuse_filename"),nT=_n("images_replace_blob_uris"),nb=_n("icons"),ob=_n("icons_url"),Zh=_n("images_upload_url"),U_=_n("images_upload_base_path"),sb=_n("images_upload_credentials"),th=_n("images_upload_handler"),Es=_n("content_css_cors"),tp=_n("referrer_policy"),gr=_n("language"),W_=_n("language_url"),np=_n("indent_use_margin"),kr=_n("indentation"),rb=_n("content_css"),G_=_n("content_style"),vg=_n("font_css"),oT=_n("directionality"),L1=_n("inline_boundaries_selector"),q_=_n("object_resizing"),j_=_n("resize_img_proportional"),N0=_n("placeholder"),M0=_n("event_root"),Z_=_n("service_message"),pf=_n("theme"),ib=_n("theme_url"),Eu=_n("model"),Ys=_n("model_url"),bg=_n("inline_boundaries"),Nc=_n("formats"),B1=_n("preview_styles"),Y_=_n("format_empty_lines"),ab=_n("format_noneditable_selector"),$1=_n("custom_ui_selector"),k0=_n("inline"),K_=_n("hidden_input"),hc=_n("submit_patch"),Jl=_n("add_form_submit_trigger"),sT=_n("add_unload_trigger"),rT=_n("custom_undo_redo_levels"),iT=_n("disable_nodechange"),op=_n("readonly"),P0=_n("content_css_cors"),L0=_n("plugins"),sp=_n("external_plugins"),X_=_n("block_unsupported_drop"),aT=_n("visual"),cT=_n("visual_table_class"),B0=_n("visual_anchor_class"),$0=_n("iframe_aria_text"),Yh=_n("setup"),Q_=_n("init_instance_callback"),lT=_n("urlconverter_callback"),uT=_n("auto_focus"),dT=_n("browser_spellcheck"),Rd=_n("protect"),cb=_n("paste_block_drop"),rp=_n("paste_data_images"),lb=_n("paste_preprocess"),J_=_n("paste_postprocess"),gf=_n("paste_webkit_styles"),F1=_n("paste_remove_styles_if_webkit"),F0=_n("paste_merge_formats"),Id=_n("smart_paste"),Kh=_n("paste_as_text"),H0=_n("paste_tab_spaces"),eE=_n("allow_html_data_urls"),fT=_n("text_patterns"),hT=_n("text_patterns_lookup"),V0=_n("noneditable_class"),mT=_n("editable_class"),pT=_n("noneditable_regexp"),tE=_n("preserve_cdata"),nE=_n("highlight_on_focus"),ub=_n("xss_sanitization"),gT=e=>e.options.isSet("text_patterns_lookup"),vT=e=>Te.explode(e.options.get("font_size_style_values")),bT=e=>Te.explode(e.options.get("font_size_classes")),oE=e=>e.options.get("encoding")==="xml",z0=e=>Te.explode(e.options.get("images_file_types")),sE=_n("table_tab_navigation"),yT=on,rE=Ut,H1=e=>{const n=e.parentNode;n&&n.removeChild(e)},U0=e=>{const n=_d(e);return{count:e.length-n.length,text:n}},W0=e=>{let n;for(;(n=e.data.lastIndexOf(ka))!==-1;)e.deleteData(n,1)},yg=(e,n)=>(ip(e),n),db=(e,n)=>{const o=U0(e.data.substr(0,n.offset())),r=U0(e.data.substr(n.offset()));return(o.text+r.text).length>0?(W0(e),Xe(e,n.offset()-o.count)):n},V1=(e,n)=>{const o=n.container(),r=Qa(br(o.childNodes),e).map(l=>l<n.offset()?Xe(o,n.offset()-1):n).getOr(n);return ip(e),r},G0=(e,n)=>rE(e)&&n.container()===e?db(e,n):yg(e,n),q0=(e,n)=>n.container()===e.parentNode?V1(e,n):yg(e,n),iE=(e,n)=>Xe.isTextPosition(n)?G0(e,n):q0(e,n),ip=e=>{yT(e)&&Tl(e)&&(xv(e)?e.removeAttribute("data-mce-caret"):H1(e)),rE(e)&&(W0(e),e.data.length===0&&H1(e))},aE=Lo,ap=sr,_T=ei,j0="*[contentEditable=false],video,audio,embed,object",cE=(e,n,o)=>{const r=I_(n.getBoundingClientRect(),o);let l,h;if(e.tagName==="BODY"){const A=e.ownerDocument.documentElement;l=e.scrollLeft||A.scrollLeft,h=e.scrollTop||A.scrollTop}else{const A=e.getBoundingClientRect();l=e.scrollLeft-A.left,h=e.scrollTop-A.top}r.left+=l,r.right+=l,r.top+=h,r.bottom+=h,r.width=1;let v=n.offsetWidth-n.clientWidth;return v>0&&(o&&(v*=-1),r.left+=v,r.right+=v),r},eu=e=>{var n,o;const r=Jr(De.fromDom(e),j0);for(let l=0;l<r.length;l++){const h=r[l].dom;let v=h.previousSibling;if(Xp(v)){const A=v.data;A.length===1?(n=v.parentNode)===null||n===void 0||n.removeChild(v):v.deleteData(A.length-1,1)}v=h.nextSibling,Lm(v)&&(v.data.length===1?(o=v.parentNode)===null||o===void 0||o.removeChild(v):v.deleteData(0,1))}},Z0=(e,n,o,r)=>{const l=sa();let h,v;const A=_u(e),R=e.dom,F=(ye,Oe)=>{let ze;if(J(),_T(Oe))return null;if(o(Oe)){const Fe=Av(A,Oe,ye),Ke=cE(n,Oe,ye);R.setStyle(Fe,"top",Ke.top),v=Fe;const at=R.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});R.setStyles(at,{...Ke}),R.add(n,at),l.set({caret:at,element:Oe,before:ye}),ye&&R.addClass(at,"mce-visual-caret-before"),K(),ze=Oe.ownerDocument.createRange(),ze.setStart(Fe,0),ze.setEnd(Fe,0)}else return v=m_(Oe,ye),ze=Oe.ownerDocument.createRange(),z1(v.nextSibling)?(ze.setStart(v,0),ze.setEnd(v,0)):(ze.setStart(v,1),ze.setEnd(v,1)),ze;return ze},J=()=>{eu(n),v&&(ip(v),v=null),l.on(ye=>{R.remove(ye.caret),l.clear()}),h&&(clearInterval(h),h=void 0)},K=()=>{h=setInterval(()=>{l.on(ye=>{r()?R.toggleClass(ye.caret,"mce-visual-caret-hidden"):R.addClass(ye.caret,"mce-visual-caret-hidden")})},500)};return{show:F,hide:J,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{l.on(ye=>{const Oe=cE(n,ye.element,ye.before);R.setStyles(ye.caret,{...Oe})})},destroy:()=>clearInterval(h)}},fb=()=>No.browser.isFirefox(),z1=e=>aE(e)||ap(e),nh=e=>(z1(e)||Nr(e)&&fb())&&Qr(De.fromDom(e)).exists(Xd),ET=ns,U1=Lo,lE=sr,La=_l("display","block table table-cell table-caption list-item"),uE=Tl,cp=Uu,wT=on,W1=Ut,Y0=Cl,_g=e=>e>0,lp=e=>e<0,G1=(e,n)=>{let o;for(;o=e(n);)if(!cp(o))return o;return null},vf=(e,n,o,r,l)=>{const h=new ci(e,r),v=U1(e)||cp(e);let A;if(lp(n)){if(v&&(A=G1(h.prev.bind(h),!0),o(A)))return A;for(;A=G1(h.prev.bind(h),l);)if(o(A))return A}if(_g(n)){if(v&&(A=G1(h.next.bind(h),!0),o(A)))return A;for(;A=G1(h.next.bind(h),l);)if(o(A))return A}return null},K0=(e,n)=>{const o=l=>ET(l.dom),r=l=>l.dom===n;return Ls(De.fromDom(e),o,r).map(l=>l.dom).getOr(n)},qi=(e,n)=>{for(;e&&e!==n;){if(La(e))return e;e=e.parentNode}return null},tu=(e,n,o)=>qi(e.container(),o)===qi(n.container(),o),hb=(e,n)=>{if(!n)return se.none();const o=n.container(),r=n.offset();return wT(o)?se.from(o.childNodes[r+e]):se.none()},dE=(e,n)=>{var o;const l=((o=n.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(l.setStartBefore(n),l.setEndBefore(n)):(l.setStartAfter(n),l.setEndAfter(n)),l},fE=(e,n,o)=>qi(n,e)===qi(o,e),X0=(e,n,o)=>{const r=e?"previousSibling":"nextSibling";let l=o;for(;l&&l!==n;){let h=l[r];if(h&&uE(h)&&(h=h[r]),U1(h)||lE(h)){if(fE(n,h,l))return h;break}if(Y0(h))break;l=l.parentNode}return null},up=Ze(dE,!0),q1=Ze(dE,!1),dp=(e,n,o)=>{let r;const l=Ze(X0,!0,n),h=Ze(X0,!1,n),v=o.startContainer,A=o.startOffset;if(Uu(v)){const R=W1(v)?v.parentNode:v,F=R.getAttribute("data-mce-caret");if(F==="before"&&(r=R.nextSibling,nh(r)))return up(r);if(F==="after"&&(r=R.previousSibling,nh(r)))return q1(r)}if(!o.collapsed)return o;if(Ut(v)){if(uE(v)){if(e===1){if(r=h(v),r)return up(r);if(r=l(v),r)return q1(r)}if(e===-1){if(r=l(v),r)return q1(r);if(r=h(v),r)return up(r)}return o}if(Xp(v)&&A>=v.data.length-1)return e===1&&(r=h(v),r)?up(r):o;if(Lm(v)&&A<=1)return e===-1&&(r=l(v),r)?q1(r):o;if(A===v.data.length)return r=h(v),r?up(r):o;if(A===0)return r=l(v),r?q1(r):o}return o},_x=(e,n)=>hb(e?0:-1,n).filter(U1),Eg=(e,n,o)=>{const r=dp(e,n,o);return e===-1?Xe.fromRangeStart(r):Xe.fromRangeEnd(r)},j1=e=>se.from(e.getNode()).map(De.fromDom),fp=e=>se.from(e.getNode(!0)).map(De.fromDom),Q0=(e,n)=>{let o=n;for(;o=e(o);)if(o.isVisible())return o;return o},wg=(e,n)=>{const o=tu(e,n);return!o&&mr(e.getNode())?!0:o};var Ea;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(Ea||(Ea={}));const J0=Lo,Dd=Ut,bf=on,Xh=mr,hp=Cl,p=Sl,_=oa,N=(e,n)=>{const o=[];let r=e;for(;r&&r!==n;)o.push(r),r=r.parentNode;return o},Y=(e,n)=>e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null,pe=(e,n)=>{if(_g(e)){if(hp(n.previousSibling)&&!Dd(n.previousSibling))return Xe.before(n);if(Dd(n))return Xe(n,0)}if(lp(e)){if(hp(n.nextSibling)&&!Dd(n.nextSibling))return Xe.after(n);if(Dd(n))return Xe(n,n.data.length)}return lp(e)?Xh(n)?Xe.before(n):Xe.after(n):Xe.before(n)},Re=(e,n)=>{const o=n.nextSibling;return o&&hp(o)?Dd(o)?Xe(o,0):Xe.before(o):He(Ea.Forwards,Xe.after(n),e)},He=(e,n,o)=>{let r,l,h,v;if(!bf(o)||!n)return null;if(n.isEqual(Xe.after(o))&&o.lastChild){if(v=Xe.after(o.lastChild),lp(e)&&hp(o.lastChild)&&bf(o.lastChild))return Xh(o.lastChild)?Xe.before(o.lastChild):v}else v=n;const A=v.container();let R=v.offset();if(Dd(A)){if(lp(e)&&R>0)return Xe(A,--R);if(_g(e)&&R<A.length)return Xe(A,++R);r=A}else{if(lp(e)&&R>0&&(l=Y(A,R-1),hp(l)))return!p(l)&&(h=vf(l,e,_,l),h)?Dd(h)?Xe(h,h.data.length):Xe.after(h):Dd(l)?Xe(l,l.data.length):Xe.before(l);if(_g(e)&&R<A.childNodes.length&&(l=Y(A,R),hp(l)))return Xh(l)?Re(o,l):!p(l)&&(h=vf(l,e,_,l),h)?Dd(h)?Xe(h,0):Xe.before(h):Dd(l)?Xe(l,0):Xe.after(l);r=l||v.getNode()}if(r&&(_g(e)&&v.isAtEnd()||lp(e)&&v.isAtStart())&&(r=vf(r,e,Dt,o,!0),_(r,o)))return pe(e,r);l=r&&vf(r,e,_,o);const F=yc(Bt(N(A,o),J0));return F&&(!l||!F.contains(l))?(_g(e)?v=Xe.after(F):v=Xe.before(F),v):l?pe(e,l):null},Ye=e=>({next:n=>He(Ea.Forwards,n,e),prev:n=>He(Ea.Backwards,n,e)}),gt=(e,n,o)=>{const r=e?Xe.before(o):Xe.after(o);return Mo(e,n,r)},tn=e=>mr(e)?Xe.before(e):Xe.after(e),en=e=>Xe.isTextPosition(e)?e.offset()===0:Cl(e.getNode()),gn=e=>{if(Xe.isTextPosition(e)){const n=e.container();return e.offset()===n.data.length}else return Cl(e.getNode(!0))},$n=(e,n)=>!Xe.isTextPosition(e)&&!Xe.isTextPosition(n)&&e.getNode()===n.getNode(!0),ho=e=>!Xe.isTextPosition(e)&&mr(e.getNode()),Bo=(e,n,o)=>e?!$n(n,o)&&!ho(n)&&gn(n)&&en(o):!$n(o,n)&&en(n)&&gn(o),Mo=(e,n,o)=>{const r=Ye(n);return se.from(e?r.next(o):r.prev(o))},Io=(e,n,o)=>Mo(e,n,o).bind(r=>tu(o,r,n)&&Bo(e,o,r)?Mo(e,n,r):se.some(r)),$s=(e,n,o,r)=>Io(e,n,o).bind(l=>r(l)?$s(e,n,l,r):se.some(l)),hs=(e,n)=>{const o=e?n.firstChild:n.lastChild;return Ut(o)?se.some(Xe(o,e?0:o.data.length)):o?Cl(o)?se.some(e?Xe.before(o):tn(o)):gt(e,n,o):se.none()},di=Ze(Mo,!0),fi=Ze(Mo,!1),ti=Ze(hs,!0),Yr=Ze(hs,!1),Mc="_mce_caret",Gs=e=>on(e)&&e.id===Mc,yf=(e,n)=>{let o=n;for(;o&&o!==e;){if(Gs(o))return o;o=o.parentNode}return null},ey=e=>Q(e.start),Z1=e=>jn(e,"rng"),hE=e=>jn(e,"id"),mE=e=>jn(e,"name"),TT=e=>Te.isArray(e.start),pE=e=>!mE(e)&&je(e.forward)?e.forward:!0,Ex=(e,n)=>(on(n)&&e.isBlock(n)&&!n.innerHTML&&(n.innerHTML='<br data-mce-bogus="1" />'),n),lR=(e,n)=>{const o=se.from(S0(e.getRoot(),n.start)),r=se.from(S0(e.getRoot(),n.end));return Et(o,r,(l,h)=>{const v=e.createRng();return v.setStart(l.container(),l.offset()),v.setEnd(h.container(),h.offset()),{range:v,forward:pE(n)}})},Qh=(e,n)=>{var o;const l=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(ka);e.appendChild(l),n.setStart(l,0),n.setEnd(l,0)},ty=e=>!e.hasChildNodes(),CT=(e,n)=>Yr(e).fold(tt,o=>(n.setStart(o.container(),o.offset()),n.setEnd(o.container(),o.offset()),!0)),Jh=(e,n,o)=>ty(n)&&yf(e,n)?(Qh(n,o),!0):!1,ST=(e,n,o,r)=>{const l=o[n?"start":"end"],h=e.getRoot();if(l){let v=h,A=l[0];for(let R=l.length-1;v&&R>=1;R--){const F=v.childNodes;if(Jh(h,v,r))return!0;if(l[R]>F.length-1)return Jh(h,v,r)?!0:CT(v,r);v=F[l[R]]}Ut(v)&&(A=Math.min(l[0],v.data.length)),on(v)&&(A=Math.min(l[0],v.childNodes.length)),n?r.setStart(v,A):r.setEnd(v,A)}return!0},ny=e=>Ut(e)&&e.data.length>0,Tg=(e,n,o)=>{const r=e.get(o.id+"_"+n),l=r==null?void 0:r.parentNode,h=o.keep;if(r&&l){let v,A;if(n==="start"?h?r.hasChildNodes()?(v=r.firstChild,A=1):ny(r.nextSibling)?(v=r.nextSibling,A=0):ny(r.previousSibling)?(v=r.previousSibling,A=r.previousSibling.data.length):(v=l,A=e.nodeIndex(r)+1):(v=l,A=e.nodeIndex(r)):h?r.hasChildNodes()?(v=r.firstChild,A=1):ny(r.previousSibling)?(v=r.previousSibling,A=r.previousSibling.data.length):(v=l,A=e.nodeIndex(r)):(v=l,A=e.nodeIndex(r)),!h){const R=r.previousSibling,F=r.nextSibling;Te.each(Te.grep(r.childNodes),K=>{Ut(K)&&(K.data=K.data.replace(/\uFEFF/g,""))});let J;for(;J=e.get(o.id+"_"+n);)e.remove(J,!0);if(Ut(F)&&Ut(R)&&!No.browser.isOpera()){const K=R.data.length;R.appendData(F.data),e.remove(F),v=R,A=K}}return se.some(Xe(v,A))}else return se.none()},xT=(e,n)=>{const o=e.createRng();return ST(e,!0,n,o)&&ST(e,!1,n,o)?se.some({range:o,forward:pE(n)}):se.none()},wx=(e,n)=>{const o=Tg(e,"start",n),r=Tg(e,"end",n);return Et(o,r.or(o),(l,h)=>{const v=e.createRng();return v.setStart(Ex(e,l.container()),l.offset()),v.setEnd(Ex(e,h.container()),h.offset()),{range:v,forward:pE(n)}})},AT=(e,n)=>se.from(e.select(n.name)[n.index]).map(o=>{const r=e.createRng();return r.selectNode(o),{range:r,forward:!0}}),Cg=(e,n)=>{const o=e.dom;if(n){if(TT(n))return xT(o,n);if(ey(n))return lR(o,n);if(hE(n))return wx(o,n);if(mE(n))return AT(o,n);if(Z1(n))return se.some({range:n.rng,forward:pE(n)})}return se.none()},uR=(e,n,o)=>eT(e,n,o),em=(e,n)=>{Cg(e,n).each(({range:o,forward:r})=>{e.setRng(o,r)})},Ju=e=>on(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",gE=(e=>n=>e===n)(_s),oy=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,OT=e=>!oy(e)&&!gE(e)&&!Gl(e),dR=e=>({value:Cx(e)}),Cx=e=>Qc(e,"#").toUpperCase(),RT=e=>{const n=e.toString(16);return(n.length===1?"0"+n:n).toUpperCase()},vE=e=>{const n=RT(e.red)+RT(e.green)+RT(e.blue);return dR(n)},fR=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,hR=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,bE=(e,n,o,r)=>({red:e,green:n,blue:o,alpha:r}),Sx=(e,n,o,r)=>{const l=parseInt(e,10),h=parseInt(n,10),v=parseInt(o,10),A=parseFloat(r);return bE(l,h,v,A)},hk=e=>{if(e==="transparent")return se.some(bE(0,0,0,0));const n=fR.exec(e);if(n!==null)return se.some(Sx(n[1],n[2],n[3],"1"));const o=hR.exec(e);return o!==null?se.some(Sx(o[1],o[2],o[3],o[4])):se.none()},mb=e=>hk(e).map(vE).map(n=>"#"+n.value).getOr(e),Uo=e=>{const n=[];if(e)for(let o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));return n},mp=e=>Sa(e,n=>{const o=Ol(n);return o?[De.fromDom(o)]:[]}),pb=e=>Uo(e).length>1,IT=e=>Bt(mp(e),Vr),mR=e=>Jr(e,"td[data-mce-selected],th[data-mce-selected]"),sy=(e,n)=>{const o=mR(n);return o.length>0?o:IT(e)},Y1=e=>sy(Uo(e.selection.getSel()),De.fromDom(e.getBody())),K1=(e,n)=>Na(e,"table",n),DT=e=>{const n=e.startContainer,o=e.startOffset;return Ut(n)?o===0?se.some(De.fromDom(n)):se.none():se.from(n.childNodes[o]).map(De.fromDom)},NT=e=>{const n=e.endContainer,o=e.endOffset;return Ut(n)?o===n.data.length?se.some(De.fromDom(n)):se.none():se.from(n.childNodes[o-1]).map(De.fromDom)},MT=e=>ut(e).fold(nt([e]),n=>[e].concat(MT(n))),xx=e=>St(e).fold(nt([e]),n=>zs(n)==="br"?Cc(n).map(o=>[e].concat(xx(o))).getOr([]):[e].concat(xx(n))),ry=(e,n)=>Et(DT(n),NT(n),(o,r)=>{const l=bs(MT(e),Ze(os,o)),h=bs(xx(e),Ze(os,r));return l.isSome()&&h.isSome()}).getOr(!1),yE=(e,n,o,r)=>{const l=o,h=new ci(o,l),v=Ps(e.schema.getMoveCaretBeforeOnEnterElements(),(R,F)=>!Pn(["td","th","table"],F.toLowerCase()));let A=o;do{if(Ut(A)&&Te.trim(A.data).length!==0){r?n.setStart(A,0):n.setEnd(A,A.data.length);return}if(v[A.nodeName]){r?n.setStartBefore(A):A.nodeName==="BR"?n.setEndBefore(A):n.setEndAfter(A);return}}while(A=r?h.next():h.prev());l.nodeName==="BODY"&&(r?n.setStart(l,0):n.setEnd(l,l.childNodes.length))},kT=e=>{const n=e.selection.getSel();return Pe(n)&&n.rangeCount>0},PT=(e,n)=>{const o=Y1(e);o.length>0?pt(o,r=>{const l=r.dom,h=e.dom.createRng();h.setStartBefore(l),h.setEndAfter(l),n(h,!0)}):n(e.selection.getRng(),!1)},_E=(e,n,o)=>{const r=$_(e,n);o(r),e.moveToBookmark(r)},iy=e=>pn(e==null?void 0:e.nodeType),pp=e=>on(e)&&!Ju(e)&&!Gs(e)&&!sl(e),Ax=(e,n)=>{if(pp(n)&&!/^(TD|TH)$/.test(n.nodeName)){const o=e.getAttrib(n,"data-mce-selected"),r=parseInt(o,10);return!isNaN(r)&&r>0}else return!1},tm=e=>e.isContentEditable===!0,Sg=(e,n,o)=>{const{selection:r,dom:l}=e,h=r.getNode(),v=Lo(h);_E(r,!0,()=>{n()}),v&&Lo(h)&&l.isChildOf(h,e.getBody())?e.selection.select(h):o(r.getStart())&&pR(l,r)},pR=(e,n)=>{var o,r;const l=n.getRng(),{startContainer:h,startOffset:v}=l,A=n.getNode();if(!Ax(e,A)&&on(h)){const R=h.childNodes,F=e.getRoot();let J;if(v<R.length){const K=R[v];J=new ci(K,(o=e.getParent(K,e.isBlock))!==null&&o!==void 0?o:F)}else{const K=R[R.length-1];J=new ci(K,(r=e.getParent(K,e.isBlock))!==null&&r!==void 0?r:F),J.next(!0)}for(let K=J.current();K;K=J.next()){if(e.getContentEditable(K)==="false")return;if(Ut(K)&&!vb(K)){l.setStart(K,0),n.setRng(l);return}}}},Ox=(e,n,o)=>{if(e){const r=n?"nextSibling":"previousSibling";for(e=o?e:e[r];e;e=e[r])if(on(e)||!vb(e))return e}},LT=(e,n)=>!!e.getTextBlockElements()[n.nodeName.toLowerCase()]||Wf(e,n),gb=(e,n,o)=>e.schema.isValidChild(n,o),vb=(e,n=!1)=>{if(Pe(e)&&Ut(e)){const o=n?e.data.replace(/ /g," "):e.data;return Vc(o)}else return!1},gR=e=>Pe(e)&&Ut(e)&&e.length===0,vR=(e,n)=>{const o="[data-mce-cef-wrappable]",r=ab(e),l=ri(r)?o:`${o},${r}`;return fa(De.fromDom(n),l)},Rx=(e,n)=>{const o=e.dom;return pp(n)&&o.getContentEditable(n)==="false"&&vR(e,n)&&o.select('[contenteditable="true"]',n).length===0},xg=(e,n)=>Ee(e)?e(n):(Pe(n)&&(e=e.replace(/%(\w+)/g,(o,r)=>n[r]||o)),e),BT=(e,n)=>(e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()),$T=(e,n)=>{if(_t(e))return null;{let o=String(e);return(n==="color"||n==="backgroundColor")&&(o=mb(o)),n==="fontWeight"&&e===700&&(o="bold"),n==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},EE=(e,n,o)=>{const r=e.getStyle(n,o);return $T(r,o)},X1=(e,n)=>{let o;return e.getParent(n,r=>on(r)?(o=e.getStyle(r,"text-decoration"),!!o&&o!=="none"):!1),o},wE=(e,n,o)=>e.getParents(n,o,e.getRoot()),hn=(e,n,o)=>{const r=e.formatter.get(n);return Pe(r)&&Po(r,o)},Za=(e,n)=>hn(e,n,r=>{const l=h=>Ee(h)||h.length>1&&h.charAt(0)==="%";return Po(["styles","attributes"],h=>Qs(r,h).exists(v=>{const A=z(v)?v:jd(v);return Po(A,l)}))}),TE=(e,n,o)=>{const r=["inline","block","selector","attributes","styles","classes"],l=h=>Ps(h,(v,A)=>Po(r,R=>R===A));return hn(e,n,h=>{const v=l(h);return hn(e,o,A=>{const R=l(A);return Iu(v,R)})})},Pr=e=>Ja(e,"block"),_f=e=>Pr(e)&&e.wrapper===!0,Ix=e=>Pr(e)&&e.wrapper!==!0,nu=e=>Ja(e,"selector"),wa=e=>Ja(e,"inline"),CE=e=>nu(e)&&wa(e)&&Le(Qs(e,"mixed"),!0),SE=e=>nu(e)&&e.expand!==!1&&!wa(e),gp=Ju,Dx=wE,FT=vb,Nx=LT,HT=e=>mr(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,VT=(e,n)=>{let o=n;for(;o;){if(on(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:n;o=o.parentNode}return n},zT=(e,n,o,r)=>{const l=n.data;if(e){for(let h=o;h>0;h--)if(r(l.charAt(h-1)))return h}else for(let h=o;h<l.length;h++)if(r(l.charAt(h)))return h;return-1},ay=(e,n,o)=>zT(e,n,o,r=>gE(r)||oy(r)),xE=(e,n,o)=>zT(e,n,o,OT),cy=(e,n,o,r,l,h)=>{let v;const A=e.getParent(o,e.isBlock)||n,R=(J,K,ie)=>{const Ae=Sr(e),Ie=l?Ae.backwards:Ae.forwards;return se.from(Ie(J,K,(ye,Oe)=>gp(ye.parentNode)?-1:(v=ye,ie(l,ye,Oe)),A))};return R(o,r,ay).bind(J=>h?R(J.container,J.offset+(l?-1:0),xE):se.some(J)).orThunk(()=>v?se.some({container:v,offset:l?0:v.length}):se.none())},ly=(e,n,o,r,l)=>{const h=r[l];Ut(r)&&ri(r.data)&&h&&(r=h);const v=Dx(e,r);for(let A=0;A<v.length;A++)for(let R=0;R<n.length;R++){const F=n[R];if(!(Pe(F.collapsed)&&F.collapsed!==o.collapsed)&&nu(F)&&e.is(v[A],F.selector))return v[A]}return r},AE=(e,n,o,r)=>{var l;let h=o;const v=e.getRoot(),A=n[0];if(Pr(A)&&(h=A.wrapper?null:e.getParent(o,A.block,v)),!h){const R=(l=e.getParent(o,"LI,TD,TH"))!==null&&l!==void 0?l:v;h=e.getParent(Ut(o)?o.parentNode:o,F=>F!==v&&Nx(e.schema,F),R)}if(h&&Pr(A)&&A.wrapper&&(h=Dx(e,h,"ul,ol").reverse()[0]||h),!h)for(h=o;h&&h[r]&&!e.isBlock(h[r])&&(h=h[r],!BT(h,"br")););return h||o},Mx=(e,n,o,r)=>{const l=o.parentNode;return Pe(o[r])?!1:l===n||_t(l)||e.isBlock(l)?!0:Mx(e,n,l,r)},vp=(e,n,o,r,l)=>{let h=o;const v=l?"previousSibling":"nextSibling",A=e.getRoot();if(Ut(o)&&!FT(o)&&(l?r>0:r<o.data.length))return o;for(;h;){if(!n[0].block_expand&&e.isBlock(h))return h;for(let R=h[v];R;R=R[v]){const F=Ut(R)&&!Mx(e,A,R,v);if(!gp(R)&&!HT(R)&&!FT(R,F))return h}if(h===A||h.parentNode===A){o=h;break}h=h.parentNode}return o},nm=e=>gp(e.parentNode)||gp(e),Q1=(e,n,o,r=!1)=>{let{startContainer:l,startOffset:h,endContainer:v,endOffset:A}=n;const R=o[0];return on(l)&&l.hasChildNodes()&&(l=Qf(l,h),Ut(l)&&(h=0)),on(v)&&v.hasChildNodes()&&(v=Qf(v,n.collapsed?A:A-1),Ut(v)&&(A=v.data.length)),l=VT(e,l),v=VT(e,v),nm(l)&&(l=gp(l)?l:l.parentNode,n.collapsed?l=l.previousSibling||l:l=l.nextSibling||l,Ut(l)&&(h=n.collapsed?l.length:0)),nm(v)&&(v=gp(v)?v:v.parentNode,n.collapsed?v=v.nextSibling||v:v=v.previousSibling||v,Ut(v)&&(A=n.collapsed?0:v.length)),n.collapsed&&(cy(e,e.getRoot(),l,h,!0,r).each(({container:K,offset:ie})=>{l=K,h=ie}),cy(e,e.getRoot(),v,A,!1,r).each(({container:K,offset:ie})=>{v=K,A=ie})),(wa(R)||R.block_expand)&&((!wa(R)||!Ut(l)||h===0)&&(l=vp(e,o,l,h,!0)),(!wa(R)||!Ut(v)||A===v.data.length)&&(v=vp(e,o,v,A,!1))),SE(R)&&(l=ly(e,o,n,l,"previousSibling"),v=ly(e,o,n,v,"nextSibling")),(Pr(R)||nu(R))&&(l=AE(e,o,l,"previousSibling"),v=AE(e,o,v,"nextSibling"),Pr(R)&&(e.isBlock(l)||(l=vp(e,o,l,h,!0)),e.isBlock(v)||(v=vp(e,o,v,A,!1)))),on(l)&&l.parentNode&&(h=e.nodeIndex(l),l=l.parentNode),on(v)&&v.parentNode&&(A=e.nodeIndex(v)+1,v=v.parentNode),{startContainer:l,startOffset:h,endContainer:v,endOffset:A}},bb=(e,n,o)=>{var r;const l=n.startOffset,h=Qf(n.startContainer,l),v=n.endOffset,A=Qf(n.endContainer,v-1),R=Oe=>{const ze=Oe[0];Ut(ze)&&ze===h&&l>=ze.data.length&&Oe.splice(0,1);const Fe=Oe[Oe.length-1];return v===0&&Oe.length>0&&Fe===A&&Ut(Fe)&&Oe.splice(Oe.length-1,1),Oe},F=(Oe,ze,Fe)=>{const Ke=[];for(;Oe&&Oe!==Fe;Oe=Oe[ze])Ke.push(Oe);return Ke},J=(Oe,ze)=>e.getParent(Oe,Fe=>Fe.parentNode===ze,ze),K=(Oe,ze,Fe)=>{const Ke=Fe?"nextSibling":"previousSibling";for(let at=Oe,xt=at.parentNode;at&&at!==ze;at=xt){xt=at.parentNode;const sn=F(at===Oe?at:at[Ke],Ke);sn.length&&(Fe||sn.reverse(),o(R(sn)))}};if(h===A)return o(R([h]));const ie=(r=e.findCommonAncestor(h,A))!==null&&r!==void 0?r:e.getRoot();if(e.isChildOf(h,A))return K(h,ie,!0);if(e.isChildOf(A,h))return K(A,ie);const Ae=J(h,ie)||h,Ie=J(A,ie)||A;K(h,Ae,!0);const ye=F(Ae===h?Ae:Ae.nextSibling,"nextSibling",Ie===A?Ie.nextSibling:Ie);ye.length&&o(R(ye)),K(A,Ie)},UT=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],bR=e=>fr(e)&&Gr(e)===ka,kx=(e,n,o,r)=>zo(n).fold(()=>"skipping",l=>r==="br"||bR(n)?"valid":C_(n)?"existing":Gs(n.dom)?"caret":Po(UT,h=>fa(n,h))?"valid-block":!gb(e,o,r)||!gb(e,zs(l),o)?"invalid-child":"valid"),OE=(e,n)=>{const o=Q1(e.dom,n,[{inline:"span"}]);n.setStart(o.startContainer,o.startOffset),n.setEnd(o.endContainer,o.endOffset),e.selection.setRng(n)},Px=(e,n,o,r,l,h)=>{const{uid:v=n,...A}=o;hd(e,Uh()),mo(e,`${Xf()}`,v),mo(e,`${dg()}`,r);const{attributes:R={},classes:F=[]}=l(v,A);if(Wr(e,R),O_(e,F),h){F.length>0&&mo(e,`${Yu()}`,F.join(","));const J=yi(R);J.length>0&&mo(e,`${Wh()}`,J.join(","))}},RE=e=>{rc(e,Uh()),hr(e,`${Xf()}`),hr(e,`${dg()}`),hr(e,`${Xl()}`);const n=sc(e,`${Wh()}`).map(r=>r.split(",")).getOr([]),o=sc(e,`${Yu()}`).map(r=>r.split(",")).getOr([]);pt(n,r=>hr(e,r)),Zw(e,o),hr(e,`${Yu()}`),hr(e,`${Wh()}`)},Ba=(e,n,o,r,l)=>{const h=De.fromTag("span",e);return Px(h,n,o,r,l,!1),h},Ef=(e,n,o,r,l,h)=>{const v=[],A=Ba(e.getDoc(),o,h,r,l),R=sa(),F=()=>{R.clear()},J=()=>R.get().getOrThunk(()=>{const Ie=Ym(A);return v.push(Ie),R.set(Ie),Ie}),K=Ie=>{pt(Ie,ie)},ie=Ie=>{switch(kx(e,Ie,"span",zs(Ie))){case"invalid-child":{F();const Oe=We(Ie);K(Oe),F();break}case"valid-block":{F(),Px(Ie,o,h,r,l,!0);break}case"valid":{const Oe=J();Rm(Ie,Oe);break}}},Ae=Ie=>{const ye=Kt(Ie,De.fromDom);K(ye)};return bb(e.dom,n,Ie=>{F(),Ae(Ie)}),v},Nd=(e,n,o,r)=>{e.undoManager.transact(()=>{const l=e.selection,h=l.getRng(),v=Y1(e).length>0,A=p0("mce-annotation");if(h.collapsed&&!v&&OE(e,h),l.getRng().collapsed&&!v){const R=Ba(e.getDoc(),A,r,n,o.decorate);Im(R,_s),l.getRng().insertNode(R.dom),l.select(R.dom)}else _E(l,!1,()=>{PT(e,R=>{Ef(e,R,A,n,o.decorate,r)})})})},uy=e=>{const n=x_();jw(e,n);const o=qw(e,n),r=Hc("span"),l=h=>{pt(h,v=>{r(v)?Ua(v):RE(v)})};return{register:(h,v)=>{n.register(h,v)},annotate:(h,v)=>{n.lookup(h).each(A=>{Nd(e,h,A,v)})},annotationChanged:(h,v)=>{o.addListener(h,v)},remove:h=>{h0(e,se.some(h)).each(({elements:v})=>{const A=e.selection.getBookmark();l(v),e.selection.moveToBookmark(A)})},removeAll:h=>{const v=e.selection.getBookmark();cn(m0(e,h),(A,R)=>{l(A)}),e.selection.moveToBookmark(v)},getAll:h=>{const v=m0(e,h);return Vo(v,A=>Kt(A,R=>R.dom))}}},wu=e=>({getBookmark:Ze(uR,e),moveToBookmark:Ze(em,e)});wu.isBookmarkNode=Ju;const Lx=(e,n,o)=>o.collapsed?!1:Po(o.getClientRects(),r=>qv(r,e,n)),WT=(e,n)=>e.dispatch("PreProcess",n),GT=(e,n)=>e.dispatch("PostProcess",n),qT=e=>{e.dispatch("remove")},yR=e=>{e.dispatch("detach")},jT=(e,n)=>{e.dispatch("SwitchMode",{mode:n})},_R=(e,n,o,r,l)=>{e.dispatch("ObjectResizeStart",{target:n,width:o,height:r,origin:l})},ER=(e,n,o,r,l)=>{e.dispatch("ObjectResized",{target:n,width:o,height:r,origin:l})},ZT=e=>{e.dispatch("PreInit")},YT=e=>{e.dispatch("PostRender")},ir=e=>{e.dispatch("Init")},om=(e,n)=>{e.dispatch("PlaceholderToggle",{state:n})},KT=(e,n,o)=>{e.dispatch(n,o)},XT=(e,n,o,r)=>{e.dispatch("FormatApply",{format:n,node:o,vars:r})},QT=(e,n,o,r)=>{e.dispatch("FormatRemove",{format:n,node:o,vars:r})},JT=(e,n)=>e.dispatch("BeforeSetContent",n),eC=(e,n)=>e.dispatch("SetContent",n),tC=(e,n)=>e.dispatch("BeforeGetContent",n),nC=(e,n)=>e.dispatch("GetContent",n),wR=(e,n)=>{e.dispatch("AutocompleterStart",n)},Bx=(e,n)=>{e.dispatch("AutocompleterUpdate",n)},TR=e=>{e.dispatch("AutocompleterEnd")},oC=(e,n,o)=>e.dispatch("PastePreProcess",{content:n,internal:o}),CR=(e,n,o)=>e.dispatch("PastePostProcess",{node:n,internal:o}),Ag=(e,n)=>e.dispatch("PastePlainTextToggle",{state:n}),Sn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Sn.metaKeyPressed(e),metaKeyPressed:e=>No.os.isMacOS()||No.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},bp="data-mce-selected",SR="table,img,figure.image,hr,video,span.mce-preview-object",ji=Math.abs,xi=Math.round,Og={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},IE=e=>e.type==="longpress"||e.type.indexOf("touch")===0,$x=(e,n)=>{const o=n.dom,r=n.getDoc(),l=document,h=n.getBody();let v,A,R,F,J,K,ie,Ae,Ie,ye,Oe,ze,Fe,Ke,at,xt,sn;const Zt=mn=>Pe(mn)&&(Zp(mn)||o.is(mn,"figure.image")),mt=mn=>sr(mn)||o.hasClass(mn,"mce-preview-object"),ht=(mn,Go)=>{if(IE(mn)){const qo=mn.touches[0];return Zt(mn.target)&&!Lx(qo.clientX,qo.clientY,Go)}else return Zt(mn.target)&&!Lx(mn.clientX,mn.clientY,Go)},yn=mn=>{const Go=mn.target;ht(mn,n.selection.getRng())&&!mn.isDefaultPrevented()&&n.selection.select(Go)},Bn=mn=>o.hasClass(mn,"mce-preview-object")&&Pe(mn.firstElementChild)?[mn,mn.firstElementChild]:o.is(mn,"figure.image")?[mn.querySelector("img")]:[mn],qn=mn=>{const Go=q_(n);return!Go||mn.getAttribute("data-mce-resize")==="false"||mn===n.getBody()?!1:o.hasClass(mn,"mce-preview-object")&&Pe(mn.firstElementChild)?fa(De.fromDom(mn.firstElementChild),Go):fa(De.fromDom(mn),Go)},To=mn=>mt(mn)?o.create("img",{src:No.transparentSrc}):mn.cloneNode(!0),Jo=(mn,Go,qo)=>{if(Pe(qo)){const gc=Bn(mn);pt(gc,zr=>{zr.style[Go]||!n.schema.isValid(zr.nodeName.toLowerCase(),Go)?o.setStyle(zr,Go,qo):o.setAttrib(zr,Go,""+qo)})}},Ns=(mn,Go,qo)=>{Jo(mn,"width",Go),Jo(mn,"height",qo)},cr=mn=>{let Go,qo,gc,zr,go;Go=mn.screenX-K,qo=mn.screenY-ie,Ke=Go*F[2]+ye,at=qo*F[3]+Oe,Ke=Ke<5?5:Ke,at=at<5?5:at,(Zt(v)||mt(v))&&j_(n)!==!1?gc=!Sn.modifierPressed(mn):gc=Sn.modifierPressed(mn),gc&&(ji(Go)>ji(qo)?(at=xi(Ke*ze),Ke=xi(at/ze)):(Ke=xi(at/ze),at=xi(Ke*ze))),Ns(A,Ke,at),zr=F.startPos.x+Go,go=F.startPos.y+qo,zr=zr>0?zr:0,go=go>0?go:0,o.setStyles(R,{left:zr,top:go,display:"block"}),R.innerHTML=Ke+" &times; "+at,F[2]<0&&A.clientWidth<=Ke&&o.setStyle(A,"left",Ae+(ye-Ke)),F[3]<0&&A.clientHeight<=at&&o.setStyle(A,"top",Ie+(Oe-at)),Go=h.scrollWidth-xt,qo=h.scrollHeight-sn,Go+qo!==0&&o.setStyles(R,{left:zr-Go,top:go-qo}),Fe||(_R(n,v,ye,Oe,"corner-"+F.name),Fe=!0)},Ii=()=>{const mn=Fe;Fe=!1,mn&&(Jo(v,"width",Ke),Jo(v,"height",at)),o.unbind(r,"mousemove",cr),o.unbind(r,"mouseup",Ii),l!==r&&(o.unbind(l,"mousemove",cr),o.unbind(l,"mouseup",Ii)),o.remove(A),o.remove(R),o.remove(J),Pc(v),mn&&(ER(n,v,Ke,at,"corner-"+F.name),o.setAttrib(v,"style",o.getAttrib(v,"style"))),n.nodeChanged()},Pc=mn=>{dn();const Go=o.getPos(mn,h),qo=Go.x,gc=Go.y,zr=mn.getBoundingClientRect(),go=zr.width||zr.right-zr.left,gs=zr.height||zr.bottom-zr.top;v!==mn&&(qt(),v=mn,Ke=at=0);const Xs=n.dispatch("ObjectSelected",{target:mn});qn(mn)&&!Xs.isDefaultPrevented()?cn(Og,(lr,pi)=>{const Yi=Ta=>{const lh=Bn(v)[0];K=Ta.screenX,ie=Ta.screenY,ye=lh.clientWidth,Oe=lh.clientHeight,ze=Oe/ye,F=lr,F.name=pi,F.startPos={x:go*lr[0]+qo,y:gs*lr[1]+gc},xt=h.scrollWidth,sn=h.scrollHeight,J=o.add(h,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(J,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),A=To(v),o.addClass(A,"mce-clonedresizable"),o.setAttrib(A,"data-mce-bogus","all"),A.contentEditable="false",o.setStyles(A,{left:qo,top:gc,margin:0}),Ns(A,go,gs),A.removeAttribute(bp),h.appendChild(A),o.bind(r,"mousemove",cr),o.bind(r,"mouseup",Ii),l!==r&&(o.bind(l,"mousemove",cr),o.bind(l,"mouseup",Ii)),R=o.add(h,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},ye+" &times; "+Oe)};let jr=o.get("mceResizeHandle"+pi);jr&&o.remove(jr),jr=o.add(h,"div",{id:"mceResizeHandle"+pi,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+pi+"-resize; margin:0; padding:0"}),o.bind(jr,"mousedown",Ta=>{Ta.stopImmediatePropagation(),Ta.preventDefault(),Yi(Ta)}),lr.elm=jr,o.setStyles(jr,{left:go*lr[0]+qo-jr.offsetWidth/2,top:gs*lr[1]+gc-jr.offsetHeight/2})}):qt(!1)},Xa=vu(Pc,0),qt=(mn=!0)=>{Xa.cancel(),dn(),v&&mn&&v.removeAttribute(bp),cn(Og,(Go,qo)=>{const gc=o.get("mceResizeHandle"+qo);gc&&(o.unbind(gc),o.remove(gc))})},In=(mn,Go)=>o.isChildOf(mn,Go),ms=mn=>{if(Fe||n.removed||n.composing)return;const Go=mn.type==="mousedown"?mn.target:e.getNode(),qo=zl(De.fromDom(Go),SR).map(zr=>zr.dom).filter(zr=>o.isEditable(zr.parentElement)).getOrUndefined(),gc=Pe(qo)?o.getAttrib(qo,bp,"1"):"1";if(pt(o.select(`img[${bp}],hr[${bp}]`),zr=>{zr.removeAttribute(bp)}),Pe(qo)&&In(qo,h)){zn();const zr=e.getStart(!0);if(In(zr,qo)&&In(e.getEnd(!0),qo)){o.setAttrib(qo,bp,gc),Xa.throttle(qo);return}}qt()},dn=()=>{cn(Og,mn=>{mn.elm&&(o.unbind(mn.elm),delete mn.elm)})},zn=()=>{try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return n.on("init",()=>{zn(),n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",ms),n.on("keyup compositionend",mn=>{v&&v.nodeName==="TABLE"&&ms(mn)}),n.on("hide blur",qt),n.on("contextmenu longpress",yn,!0)}),n.on("remove",dn),{isResizable:qn,showResizeRect:Pc,hideResizeRect:qt,updateResizeRect:ms,destroy:()=>{Xa.cancel(),v=A=J=null}}},xR=(e,n)=>{n.fold(o=>{e.setStartBefore(o.dom)},(o,r)=>{e.setStart(o.dom,r)},o=>{e.setStartAfter(o.dom)})},Qo=(e,n)=>{n.fold(o=>{e.setEndBefore(o.dom)},(o,r)=>{e.setEnd(o.dom,r)},o=>{e.setEndAfter(o.dom)})},Fx=(e,n,o)=>{const r=e.document.createRange();return xR(r,n),Qo(r,o),r},DE=(e,n,o,r,l)=>{const h=e.document.createRange();return h.setStart(n.dom,o),h.setEnd(r.dom,l),h},J1=Qu.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Hx=(e,n,o)=>n(De.fromDom(o.startContainer),o.startOffset,De.fromDom(o.endContainer),o.endOffset),AR=(e,n)=>n.match({domRange:o=>({ltr:nt(o),rtl:se.none}),relative:(o,r)=>({ltr:ml(()=>Fx(e,o,r)),rtl:ml(()=>se.some(Fx(e,r,o)))}),exact:(o,r,l,h)=>({ltr:ml(()=>DE(e,o,r,l,h)),rtl:ml(()=>se.some(DE(e,l,h,o,r)))})}),sC=(e,n)=>{const o=n.ltr();return o.collapsed?n.rtl().filter(l=>l.collapsed===!1).map(l=>J1.rtl(De.fromDom(l.endContainer),l.endOffset,De.fromDom(l.startContainer),l.startOffset)).getOrThunk(()=>Hx(e,J1.ltr,o)):Hx(e,J1.ltr,o)},OR=(e,n)=>{const o=AR(e,n);return sC(e,o)};J1.ltr,J1.rtl;const Vx={create:(e,n,o,r)=>({start:e,soffset:n,finish:o,foffset:r})},rC=(e,n,o)=>{var r,l;return se.from((l=(r=e.dom).caretPositionFromPoint)===null||l===void 0?void 0:l.call(r,n,o)).bind(h=>{if(h.offsetNode===null)return se.none();const v=e.dom.createRange();return v.setStart(h.offsetNode,h.offset),v.collapse(),se.some(v)})},iC=(e,n,o)=>{var r,l;return se.from((l=(r=e.dom).caretRangeFromPoint)===null||l===void 0?void 0:l.call(r,n,o))},zx=(()=>document.caretPositionFromPoint?rC:document.caretRangeFromPoint?iC:se.none)(),pk=(e,n,o)=>{const r=De.fromDom(e.document);return zx(r,n,o).map(l=>Vx.create(De.fromDom(l.startContainer),l.startOffset,De.fromDom(l.endContainer),l.endOffset))},NE=Qu.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),o6=(e,n,o,r)=>e.fold(n,o,r),RR=e=>e.fold(jt,jt,jt),IR=NE.before,gk=NE.on,oo=NE.after,yp={before:IR,on:gk,after:oo,cata:o6,getStart:RR},aC=Qu.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),DR=e=>aC.exact(e.start,e.soffset,e.finish,e.foffset),dy=e=>e.match({domRange:n=>De.fromDom(n.startContainer),relative:(n,o)=>yp.getStart(n),exact:(n,o,r,l)=>n}),vk=aC.domRange,ME=aC.relative,NR=aC.exact,MR=e=>{const n=dy(e);return Eo(n)},cC=Vx.create,yb={domRange:vk,relative:ME,exact:NR,exactFromRange:DR,getWin:MR,range:cC},_b=(e,n)=>{const o=zs(e);return o==="input"?yp.after(e):Pn(["br","img"],o)?n===0?yp.before(e):yp.after(e):yp.on(e,n)},lC=(e,n)=>{const o=e.fold(yp.before,_b,yp.after),r=n.fold(yp.before,_b,yp.after);return yb.relative(o,r)},kE=(e,n,o,r)=>{const l=_b(e,n),h=_b(o,r);return yb.relative(l,h)},uC=e=>e.match({domRange:n=>{const o=De.fromDom(n.startContainer),r=De.fromDom(n.endContainer);return kE(o,n.startOffset,r,n.endOffset)},relative:lC,exact:kE}),dC=(e,n)=>{const r=(n||document).createDocumentFragment();return pt(e,l=>{r.appendChild(l.dom)}),De.fromDom(r)},kR=e=>{const n=yb.getWin(e).dom,o=(l,h,v,A)=>DE(n,l,h,v,A),r=uC(e);return OR(n,r).match({ltr:o,rtl:o})},PE=(e,n,o)=>pk(e,n,o),fC=(e,n,o)=>{const r=Eo(De.fromDom(o));return PE(r.dom,e,n).map(l=>{const h=o.createRange();return h.setStart(l.start.dom,l.soffset),h.setEnd(l.finish.dom,l.foffset),h}).getOrUndefined()},hC=(e,n)=>Pe(e)&&Pe(n)&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset,ps=(e,n,o)=>{let r=e;for(;r&&r!==n;){if(o(r))return r;r=r.parentNode}return null},Ux=(e,n,o)=>ps(e,n,o)!==null,sm=(e,n,o)=>Ux(e,n,r=>r.nodeName===o),oh=(e,n)=>Tl(e)&&!Ux(e,n,Gs),fy=(e,n,o)=>{const r=n.parentNode;if(r){const l=new ci(n,e.getParent(r,e.isBlock)||e.getRoot());let h;for(;h=l[o?"prev":"next"]();)if(mr(h))return!0}return!1},Tu=(e,n)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===n},LE=(e,n)=>{let o=n;for(;o&&o!==e;){if(Lo(o))return!0;o=o.parentNode}return!1},ev=(e,n,o,r,l)=>{const h=e.getRoot(),v=e.schema.getNonEmptyElements(),A=l.parentNode;let R,F;if(!A)return se.none();const J=e.getParent(A,e.isBlock)||h;if(r&&mr(l)&&n&&e.isEmpty(J))return se.some(Xe(A,e.nodeIndex(l)));const K=new ci(l,J);for(;F=K[r?"prev":"next"]();){if(e.getContentEditableParent(F)==="false"||oh(F,h))return se.none();if(Ut(F)&&F.data.length>0)return sm(F,h,"A")?se.none():se.some(Xe(F,r?F.data.length:0));if(e.isBlock(F)||v[F.nodeName.toLowerCase()])return se.none();R=F}return Ga(R)?se.none():o&&R?se.some(Xe(R,0)):se.none()},hy=(e,n,o,r)=>{const l=e.getRoot();let h,v=!1,A=o?r.startContainer:r.endContainer,R=o?r.startOffset:r.endOffset;const F=on(A)&&R===A.childNodes.length,J=e.schema.getNonEmptyElements();let K=o;if(Tl(A))return se.none();if(on(A)&&R>A.childNodes.length-1&&(K=!1),yd(A)&&(A=l,R=0),A===l){if(K&&(h=A.childNodes[R>0?R-1:0],h&&(Tl(h)||J[h.nodeName]||Nr(h))))return se.none();if(A.hasChildNodes()){if(R=Math.min(!K&&R>0?R-1:R,A.childNodes.length-1),A=A.childNodes[R],R=Ut(A)&&F?A.data.length:0,!n&&A===l.lastChild&&Nr(A)||LE(l,A)||Tl(A))return se.none();if(A.hasChildNodes()&&!Nr(A)){h=A;const ie=new ci(A,l);do{if(Lo(h)||Tl(h)){v=!1;break}if(Ut(h)&&h.data.length>0){R=K?0:h.data.length,A=h,v=!0;break}if(J[h.nodeName.toLowerCase()]&&!Sc(h)){R=e.nodeIndex(h),A=h.parentNode,K||R++,v=!0;break}}while(h=K?ie.next():ie.prev())}}}return n&&(Ut(A)&&R===0&&ev(e,F,n,!0,A).each(ie=>{A=ie.container(),R=ie.offset(),v=!0}),on(A)&&(h=A.childNodes[R],h||(h=A.childNodes[R-1]),h&&mr(h)&&!Tu(h,"A")&&!fy(e,h,!1)&&!fy(e,h,!0)&&ev(e,F,n,!0,h).each(ie=>{A=ie.container(),R=ie.offset(),v=!0}))),K&&!n&&Ut(A)&&R===A.data.length&&ev(e,F,n,!1,A).each(ie=>{A=ie.container(),R=ie.offset(),v=!0}),v&&A?se.some(Xe(A,R)):se.none()},_p=(e,n)=>{const o=n.collapsed,r=n.cloneRange(),l=Xe.fromRangeStart(n);return hy(e,o,!0,r).each(h=>{(!o||!Xe.isAbove(l,h))&&r.setStart(h.container(),h.offset())}),o||hy(e,o,!1,r).each(h=>{r.setEnd(h.container(),h.offset())}),o&&r.collapse(!0),hC(n,r)?se.none():se.some(r)},mC=(e,n)=>e.splitText(n),BE=e=>{let n=e.startContainer,o=e.startOffset,r=e.endContainer,l=e.endOffset;if(n===r&&Ut(n)){if(o>0&&o<n.data.length)if(r=mC(n,o),n=r.previousSibling,l>o){l=l-o;const h=mC(r,l).previousSibling;n=r=h,l=h.data.length,o=0}else l=0}else if(Ut(n)&&o>0&&o<n.data.length&&(n=mC(n,o),o=0),Ut(r)&&l>0&&l<r.data.length){const h=mC(r,l).previousSibling;r=h,l=h.data.length}return{startContainer:n,startOffset:o,endContainer:r,endOffset:l}},Eb=e=>({walk:(h,v)=>bb(e,h,v),split:BE,expand:(h,v={type:"word"})=>{if(v.type==="word"){const A=Q1(e,h,[{inline:"span"}]),R=e.createRng();return R.setStart(A.startContainer,A.startOffset),R.setEnd(A.endContainer,A.endOffset),R}return h},normalize:h=>_p(e,h).fold(tt,v=>(h.setStart(v.startContainer,v.startOffset),h.setEnd(v.endContainer,v.endOffset),!0))});Eb.compareRanges=hC,Eb.getCaretRangeFromPoint=fC,Eb.getSelectedNode=Ol,Eb.getNode=Qf;const is=((e,n)=>{const o=(A,R)=>{if(!pn(R)&&!R.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+R);const F=A.dom;ha(F)&&(F.style[e]=R+"px")},r=A=>{const R=n(A);if(R<=0||R===null){const F=$u(A,e);return parseFloat(F)||0}return R},l=r,h=(A,R)=>Ms(R,(F,J)=>{const K=$u(A,J),ie=K===void 0?0:parseInt(K,10);return isNaN(ie)?F:F+ie},0);return{set:o,get:r,getOuter:l,aggregate:h,max:(A,R,F)=>{const J=h(A,F);return R>J?R-J:0}}})("height",e=>{const n=e.dom;return Js(e)?n.getBoundingClientRect().height:n.offsetHeight}),wf=e=>is.get(e),tv=()=>De.fromDom(document),Wx=(e,n)=>e.view(n).fold(nt([]),r=>{const l=e.owner(r),h=Wx(e,l);return[r].concat(h)}),my=(e,n)=>{const o=n.owner(e);return Wx(n,o)};var qx=Object.freeze({__proto__:null,view:e=>{var n;return(e.dom===document?se.none():se.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement)).map(De.fromDom)},owner:e=>Ot(e)});const pC=e=>{const n=tv(),o=l1(n),r=my(e,qx),l=Hu(e),h=Br(r,(v,A)=>{const R=Hu(A);return{left:v.left+R.left,top:v.top+R.top}},{left:0,top:0});return pa(h.left+l.left+o.left,h.top+l.top+o.top)},gC=e=>zs(e)==="textarea",wb=(e,n)=>e.dispatch("ScrollIntoView",n).isDefaultPrevented(),nv=(e,n)=>{e.dispatch("AfterScrollIntoView",n)},jx=(e,n)=>{const o=We(e);if(o.length===0||gC(e))return{element:e,offset:n};if(n<o.length&&!gC(o[n]))return{element:o[n],offset:0};{const r=o[o.length-1];return gC(r)?{element:e,offset:n}:zs(r)==="img"?{element:r,offset:1}:fr(r)?{element:r,offset:Gr(r).length}:{element:r,offset:We(r).length}}},d=(e,n)=>{const o=t0(e),r=wf(e);return{element:e,bottom:o.top+r,height:r,pos:o,cleanup:n}},g=(e,n)=>{const o=jx(e,n),r=De.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+ka+"</span>");return ds(o.element,r),d(r,()=>Tr(r))},E=e=>d(De.fromDom(e),Rt),O=(e,n,o,r)=>{ve(e,(l,h)=>W(e,n,o,r),o)},L=(e,n,o,r,l)=>{const h={elm:r.element.dom,alignToTop:l};if(wb(e,h))return;const v=l1(n).top;o(n,v,r,l),nv(e,h)},W=(e,n,o,r)=>{const l=De.fromDom(e.getBody()),h=De.fromDom(e.getDoc());Om(l);const v=g(De.fromDom(o.startContainer),o.startOffset);L(e,h,n,v,r),v.cleanup()},ne=(e,n,o,r)=>{const l=De.fromDom(e.getDoc());L(e,l,o,E(n),r)},ve=(e,n,o)=>{const r=o.startContainer,l=o.startOffset,h=o.endContainer,v=o.endOffset;n(De.fromDom(r),De.fromDom(h));const A=e.dom.createRng();A.setStart(r,l),A.setEnd(h,v),e.selection.setRng(o)},Se=(e,n,o,r)=>{const l=e.pos;if(o)Wa(l.left,l.top,r);else{const h=l.top-n+e.height;Wa(l.left,h,r)}},Me=(e,n,o,r,l)=>{const h=o+n,v=r.pos.top,A=r.bottom,R=A-v>=o;v<n?Se(r,o,l!==!1,e):v>h?Se(r,o,R?l!==!1:l===!0,e):A>h&&!R&&Se(r,o,l===!0,e)},Qe=(e,n,o,r)=>{const l=Eo(e).dom.innerHeight;Me(e,n,l,o,r)},$t=(e,n,o,r)=>{const l=Eo(e).dom.innerHeight;Me(e,n,l,o,r);const h=pC(o.element),v=$f(window);h.top<v.y?Bf(o.element,r!==!1):h.top>v.bottom&&Bf(o.element,r===!0)},ln=(e,n,o)=>O(e,Qe,n,o),nn=(e,n,o)=>ne(e,n,Qe,o),Ct=(e,n,o)=>O(e,$t,n,o),an=(e,n,o)=>ne(e,n,$t,o),wt=(e,n,o)=>{(e.inline?nn:an)(e,n,o)},Tn=(e,n,o)=>{(e.inline?ln:Ct)(e,n,o)},Jn=e=>e.dom.focus(),_o=e=>{const n=ro(e).dom;return e.dom===n.activeElement},ar=(e=tv())=>se.from(e.dom.activeElement).map(De.fromDom),mc=e=>ar(ro(e)).filter(n=>e.dom.contains(n.dom)),hi=(e,n)=>{const o=fr(n)?Gr(n).length:We(n).length+1;return e>o?o:e<0?0:e},Cu=e=>yb.range(e.start,hi(e.soffset,e.start),e.finish,hi(e.foffset,e.finish)),Rg=(e,n)=>!Ln(n.dom)&&(et(e,n)||os(e,n)),py=e=>n=>Rg(e,n.start)&&Rg(e,n.finish),vC=e=>e.inline||No.browser.isFirefox(),$E=e=>yb.range(De.fromDom(e.startContainer),e.startOffset,De.fromDom(e.endContainer),e.endOffset),Ks=e=>{const n=e.getSelection();return(!n||n.rangeCount===0?se.none():se.from(n.getRangeAt(0))).map($E)},Il=e=>{const n=Eo(e);return Ks(n.dom).filter(py(e))},Dl=(e,n)=>se.from(n).filter(py(e)).map(Cu),Tf=e=>{const n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),se.some(n)}catch{return se.none()}},Su=e=>{const n=vC(e)?Il(De.fromDom(e.getBody())):se.none();e.bookmark=n.isSome()?n:e.bookmark},Ig=e=>(e.bookmark?e.bookmark:se.none()).bind(o=>Dl(De.fromDom(e.getBody()),o)).bind(Tf),Nl=e=>{Ig(e).each(n=>e.selection.setRng(n))},Tb={isEditorUIElement:e=>{const n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1}},Md=(e,n)=>(pn(n)||(n=0),setTimeout(e,n)),kc=(e,n)=>(pn(n)||(n=0),setInterval(e,n)),kd={setEditorTimeout:(e,n,o)=>Md(()=>{e.removed||n()},o),setEditorInterval:(e,n,o)=>{const r=kc(()=>{e.removed?clearInterval(r):n()},o);return r}},Yx=e=>e.type==="nodechange"&&e.selectionChange,Kx=(e,n)=>{const o=()=>{n.throttle()};rr.DOM.bind(document,"mouseup",o),e.on("remove",()=>{rr.DOM.unbind(document,"mouseup",o)})},PR=(e,n)=>{e.on("mouseup touchend",o=>{n.throttle()})},LR=(e,n)=>{PR(e,n),e.on("keyup NodeChange AfterSetSelectionRange",o=>{Yx(o)||Su(e)})},bC=e=>{const n=vu(()=>{Su(e)},0);e.on("init",()=>{e.inline&&Kx(e,n),LR(e,n)}),e.on("remove",()=>{n.cancel()})};let Cb;const ov=rr.DOM,bk=e=>on(e)&&Tb.isEditorUIElement(e),Xx=e=>{const n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},gy=(e,n)=>{const o=$1(e);return ov.getParent(n,l=>bk(l)||(o?e.dom.is(l,o):!1))!==null},BR=e=>{try{const n=ro(De.fromDom(e.getElement()));return ar(n).fold(()=>document.body,o=>o.dom)}catch{return document.body}},r6=(e,n)=>{const o=n.editor;bC(o);const r=(l,h)=>{if(nE(l)&&l.inline!==!0){const v=De.fromDom(l.getContainer());h(v,"tox-edit-focus")}};o.on("focusin",()=>{const l=e.focusedEditor;Xx(BR(o))&&r(o,hd),l!==o&&(l&&l.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:l}),o.focus(!0))}),o.on("focusout",()=>{kd.setEditorTimeout(o,()=>{const l=e.focusedEditor;(!Xx(BR(o))||l!==o)&&r(o,rc),!gy(o,BR(o))&&l===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Cb||(Cb=l=>{const h=e.activeEditor;h&&$i(l).each(v=>{const A=v;A.ownerDocument===document&&A!==document.body&&!gy(h,A)&&e.focusedEditor===h&&(h.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},ov.bind(document,"focusin",Cb))},$R=(e,n)=>{e.focusedEditor===n.editor&&(e.focusedEditor=null),!e.activeEditor&&Cb&&(ov.unbind(document,"focusin",Cb),Cb=null)},i6=e=>{e.on("AddEditor",Ze(r6,e)),e.on("RemoveEditor",Ze($R,e))},yk=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="true"),_k=e=>e.collapsed?se.from(Qf(e.startContainer,e.startOffset)).map(De.fromDom):se.none(),Ek=(e,n)=>_k(n).bind(o=>na(o)?se.some(o):et(e,o)?se.none():se.some(e)),wk=(e,n)=>{Ek(De.fromDom(e.getBody()),n).bind(o=>ti(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},FR=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},a6=e=>_o(e)||mc(e).isSome(),c6=e=>Pe(e.iframeElement)&&_o(De.fromDom(e.iframeElement)),Qx=e=>{const n=e.getBody();return n&&a6(De.fromDom(n))},Tk=e=>{const n=ro(De.fromDom(e.getElement()));return ar(n).filter(o=>!Xx(o.dom)&&gy(e,o.dom)).isSome()},Sb=e=>e.inline?Qx(e):c6(e),Ck=e=>Sb(e)||Tk(e),Sk=e=>{const n=e.selection,o=e.getBody();let r=n.getRng();e.quirks.refreshContentEditable(),Pe(e.bookmark)&&!Sb(e)&&Ig(e).each(h=>{e.selection.setRng(h),r=h});const l=yk(e,n.getNode());if(l&&e.dom.isChildOf(l,o)){FR(l),wk(e,r),HR(e);return}e.inline||(No.browser.isOpera()||FR(o),e.getWin().focus()),(No.browser.isFirefox()||e.inline)&&(FR(o),wk(e,r)),HR(e)},HR=e=>e.editorManager.setActive(e),l6=(e,n)=>{e.removed||(n?HR(e):Sk(e))},xk=(e,n,o,r,l)=>{const h=o?n.startContainer:n.endContainer,v=o?n.startOffset:n.endOffset;return se.from(h).map(De.fromDom).map(A=>!r||!n.collapsed?Vt(A,l(A,v)).getOr(A):A).bind(A=>as(A)?se.some(A):zo(A).filter(as)).map(A=>A.dom).getOr(e)},Ak=(e,n,o=!1)=>xk(e,n,!0,o,(r,l)=>Math.min(Qt(r),l)),Ok=(e,n,o=!1)=>xk(e,n,!1,o,(r,l)=>l>0?l-1:l),Rk=(e,n)=>{const o=e;for(;e&&Ut(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||o},u6=(e,n)=>{if(!n)return e;let o=n.startContainer,r=n.endContainer;const l=n.startOffset,h=n.endOffset;let v=n.commonAncestorContainer;n.collapsed||(o===r&&h-l<2&&o.hasChildNodes()&&(v=o.childNodes[l]),Ut(o)&&Ut(r)&&(o.length===l?o=Rk(o.nextSibling,!0):o=o.parentNode,h===0?r=Rk(r.previousSibling,!1):r=r.parentNode,o&&o===r&&(v=o)));const A=Ut(v)?v.parentNode:v;return on(A)?A:e},d6=(e,n,o,r)=>{const l=[],h=e.getRoot(),v=e.getParent(o||Ak(h,n,n.collapsed),e.isBlock),A=e.getParent(r||Ok(h,n,n.collapsed),e.isBlock);if(v&&v!==h&&l.push(v),v&&A&&v!==A){let R;const F=new ci(v,h);for(;(R=F.next())&&R!==A;)e.isBlock(R)&&l.push(R)}return A&&v!==A&&A!==h&&l.push(A),l},f6=(e,n,o)=>se.from(n).bind(r=>se.from(r.parentNode).map(l=>{const h=e.nodeIndex(r),v=e.createRng();return v.setStart(l,h),v.setEnd(l,h+1),o&&(yE(e,v,r,!0),yE(e,v,r,!1)),v})),VR=(e,n)=>Kt(n,o=>{const r=e.dispatch("GetSelectionRange",{range:o});return r.range!==o?r.range:o}),h6=e=>zs(e)==="img"?1:ql(e).fold(()=>We(e).length,n=>n.length),m6=e=>ql(e).filter(n=>n.trim().length!==0||n.indexOf(_s)>-1).isSome(),Jx=e=>wi(e)&&Li(e,"contenteditable")==="false",Ik=["img","br"],zR=e=>m6(e)||Pn(Ik,zs(e))||Jx(e),p6=e=>r1(e,zR),g6=e=>v6(e,zR),v6=(e,n)=>{const o=r=>{const l=We(r);for(let h=l.length-1;h>=0;h--){const v=l[h];if(n(v))return se.some(v);const A=o(v);if(A.isSome())return A}return se.none()};return o(e)},Dk="[data-mce-autocompleter]",b6=(e,n)=>{if(UR(De.fromDom(e.getBody())).isNone()){const o=De.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());wr(o,De.fromDom(n.extractContents())),n.insertNode(o.dom),zo(o).each(r=>r.dom.normalize()),g6(o).map(r=>{e.selection.setCursorLocation(r.dom,h6(r))})}},y6=e=>zl(e,Dk),UR=e=>Kd(e,Dk),_6=(e,n)=>UR(n).each(o=>{const r=e.selection.getBookmark();Ua(o),e.selection.moveToBookmark(r)}),Nk={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},yC=(e,n,o)=>{const r=o?"lastChild":"firstChild",l=o?"prev":"next";if(e[r])return e[r];if(e!==n){let h=e[l];if(h)return h;for(let v=e.parent;v&&v!==n;v=v.parent)if(h=v[l],h)return h}},E6=e=>{var n;const o=(n=e.value)!==null&&n!==void 0?n:"";if(!Vc(o))return!1;const r=e.parent;return!(r&&(r.name!=="span"||r.attr("style"))&&/^[ ]+$/.test(o))},Mk=e=>{const n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n};class ed{constructor(n,o){this.name=n,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}static create(n,o){const r=new ed(n,Nk[n]||1);return o&&cn(o,(l,h)=>{r.attr(h,l)}),r}replace(n){const o=this;return n.parent&&n.remove(),o.insert(n,o),o.remove(),o}attr(n,o){const r=this;if(!Q(n))return Pe(n)&&cn(n,(h,v)=>{r.attr(v,h)}),r;const l=r.attributes;if(l){if(o!==void 0){if(o===null){if(n in l.map){delete l.map[n];let h=l.length;for(;h--;)if(l[h].name===n)return l.splice(h,1),r}return r}if(n in l.map){let h=l.length;for(;h--;)if(l[h].name===n){l[h].value=o;break}}else l.push({name:n,value:o});return l.map[n]=o,r}return l.map[n]}}clone(){const n=this,o=new ed(n.name,n.type),r=n.attributes;if(r){const l=[];l.map={};for(let h=0,v=r.length;h<v;h++){const A=r[h];A.name!=="id"&&(l[l.length]={name:A.name,value:A.value},l.map[A.name]=A.value)}o.attributes=l}return o.value=n.value,o}wrap(n){const o=this;return o.parent&&(o.parent.insert(n,o),n.append(o)),o}unwrap(){const n=this;for(let o=n.firstChild;o;){const r=o.next;n.insert(o,n,!0),o=r}n.remove()}remove(){const n=this,o=n.parent,r=n.next,l=n.prev;return o&&(o.firstChild===n?(o.firstChild=r,r&&(r.prev=null)):l&&(l.next=r),o.lastChild===n?(o.lastChild=l,l&&(l.next=null)):r&&(r.prev=l),n.parent=n.next=n.prev=null),n}append(n){const o=this;n.parent&&n.remove();const r=o.lastChild;return r?(r.next=n,n.prev=r,o.lastChild=n):o.lastChild=o.firstChild=n,n.parent=o,n}insert(n,o,r){n.parent&&n.remove();const l=o.parent||this;return r?(o===l.firstChild?l.firstChild=n:o.prev&&(o.prev.next=n),n.prev=o.prev,n.next=o,o.prev=n):(o===l.lastChild?l.lastChild=n:o.next&&(o.next.prev=n),n.next=o.next,n.prev=o,o.next=n),n.parent=l,n}getAll(n){const o=this,r=[];for(let l=o.firstChild;l;l=yC(l,o))l.name===n&&r.push(l);return r}children(){const n=this,o=[];for(let r=n.firstChild;r;r=r.next)o.push(r);return o}empty(){const n=this;if(n.firstChild){const o=[];for(let l=n.firstChild;l;l=yC(l,n))o.push(l);let r=o.length;for(;r--;){const l=o[r];l.parent=l.firstChild=l.lastChild=l.next=l.prev=null}}return n.firstChild=n.lastChild=null,n}isEmpty(n,o={},r){var l;const h=this;let v=h.firstChild;if(Mk(h))return!1;if(v)do{if(v.type===1){if(v.attr("data-mce-bogus"))continue;if(n[v.name]||Mk(v))return!1}if(v.type===8||v.type===3&&!E6(v)||v.type===3&&v.parent&&o[v.parent.name]&&Vc((l=v.value)!==null&&l!==void 0?l:"")||r&&r(v))return!1}while(v=yC(v,h));return!0}walk(n){return yC(this,null,n)}}const w6=(e,n)=>/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(n)),kk=(e,n,o=0)=>{const r=e.toLowerCase();if(r.indexOf("[if ",o)!==-1&&w6(r,o)){const l=r.indexOf("[endif]",o);return r.indexOf(">",l)}else if(n){const l=r.indexOf(">",o);return l!==-1?l:r.length}else{const l=/--!?>/g;l.lastIndex=o;const h=l.exec(e);return h?h.index+h[0].length:r.length}},T6=(e,n,o)=>{const r=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,l=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,h=e.getVoidElements();let v=1,A=o;for(;v!==0;)for(r.lastIndex=A;;){const R=r.exec(n);if(R===null)return A;if(R[1]==="!"){Ei(R[2],"--")?A=kk(n,!1,R.index+3):A=kk(n,!0,R.index+1);break}else{l.lastIndex=r.lastIndex;const F=l.exec(n);if(we(F)||F.index!==r.lastIndex)continue;R[1]==="/"?v-=1:jn(h,R[2])||(v+=1),A=r.lastIndex+F[0].length;break}}return A},C6=(e,n)=>{const o=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return n.replace(o,"")},Pk=(e,n)=>{const o=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,r=e.schema;let l=C6(e.getTempAttrs(),n);const h=r.getVoidElements();let v;for(;v=o.exec(l);){const A=o.lastIndex,R=v[0].length;let F;h[v[1]]?F=A:F=T6(r,l,A),l=l.substring(0,A-R)+l.substring(F),o.lastIndex=A-R}return _d(l)},S6=Pk,Lk=e=>{const n=Jr(e,"[data-mce-bogus]");pt(n,o=>{Li(o,"data-mce-bogus")==="all"?Tr(o):Xo(o)?(ds(o,De.fromText(Zr)),Tr(o)):Ua(o)})},Bk=e=>{const n=Jr(e,"input");pt(n,o=>{hr(o,"name")})},x6=(e,n)=>{const o=_u(e),r=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(r,"")},A6=(e,n)=>{const o=e.getDoc(),r=ro(De.fromDom(e.getBody())),l=De.fromTag("div",o);mo(l,"data-mce-bogus","all"),ma(l,{position:"fixed",left:"-9999999px",top:"0"}),Im(l,n.innerHTML),Lk(l),Bk(l);const h=Is(r);wr(h,l);const v=_d(l.dom.innerText);return Tr(l),v},O6=(e,n,o)=>{let r;return n.format==="raw"?r=Te.trim(S6(e.serializer,o.innerHTML)):n.format==="text"?r=A6(e,o):n.format==="tree"?r=e.serializer.serialize(o,n):r=x6(e,e.serializer.serialize(o,n)),n.format!=="text"&&!ui(De.fromDom(o))&&Q(r)?Te.trim(r):r},R6=(e,n)=>se.from(e.getBody()).fold(nt(n.format==="tree"?new ed("body",11):""),o=>O6(e,n,o)),$k=Te.makeMap,Fk=e=>{const n=[];e=e||{};const o=e.indent,r=$k(e.indent_before||""),l=$k(e.indent_after||""),h=lf.getEncodeFunc(e.entity_encoding||"raw",e.entities),v=e.element_format!=="xhtml";return{start:(A,R,F)=>{if(o&&r[A]&&n.length>0){const J=n[n.length-1];J.length>0&&J!==`
`&&n.push(`
`)}if(n.push("<",A),R)for(let J=0,K=R.length;J<K;J++){const ie=R[J];n.push(" ",ie.name,'="',h(ie.value,!0),'"')}if(!F||v?n[n.length]=">":n[n.length]=" />",F&&o&&l[A]&&n.length>0){const J=n[n.length-1];J.length>0&&J!==`
`&&n.push(`
`)}},end:A=>{let R;n.push("</",A,">"),o&&l[A]&&n.length>0&&(R=n[n.length-1],R.length>0&&R!==`
`&&n.push(`
`))},text:(A,R)=>{A.length>0&&(n[n.length]=R?A:h(A))},cdata:A=>{n.push("<![CDATA[",A,"]]>")},comment:A=>{n.push("<!--",A,"-->")},pi:(A,R)=>{R?n.push("<?",A," ",h(R),"?>"):n.push("<?",A,"?>"),o&&n.push(`
`)},doctype:A=>{n.push("<!DOCTYPE",A,">",o?`
`:"")},reset:()=>{n.length=0},getContent:()=>n.join("").replace(/\n$/,"")}},xb=(e={},n=Kl())=>{const o=Fk(e);return e.validate="validate"in e?e.validate:!0,{serialize:l=>{const h=e.validate,v={3:R=>{var F;o.text((F=R.value)!==null&&F!==void 0?F:"",R.raw)},8:R=>{var F;o.comment((F=R.value)!==null&&F!==void 0?F:"")},7:R=>{o.pi(R.name,R.value)},10:R=>{var F;o.doctype((F=R.value)!==null&&F!==void 0?F:"")},4:R=>{var F;o.cdata((F=R.value)!==null&&F!==void 0?F:"")},11:R=>{let F=R;if(F=F.firstChild)do A(F);while(F=F.next)}};o.reset();const A=R=>{var F;const J=v[R.type];if(J)J(R);else{const K=R.name,ie=K in n.getVoidElements();let Ae=R.attributes;if(h&&Ae&&Ae.length>1){const Ie=[];Ie.map={};const ye=n.getElementRule(R.name);if(ye){for(let Oe=0,ze=ye.attributesOrder.length;Oe<ze;Oe++){const Fe=ye.attributesOrder[Oe];if(Fe in Ae.map){const Ke=Ae.map[Fe];Ie.map[Fe]=Ke,Ie.push({name:Fe,value:Ke})}}for(let Oe=0,ze=Ae.length;Oe<ze;Oe++){const Fe=Ae[Oe].name;if(!(Fe in Ie.map)){const Ke=Ae.map[Fe];Ie.map[Fe]=Ke,Ie.push({name:Fe,value:Ke})}}Ae=Ie}}if(o.start(K,Ae,ie),!ie){let Ie=R.firstChild;if(Ie){(K==="pre"||K==="textarea")&&Ie.type===3&&((F=Ie.value)===null||F===void 0?void 0:F[0])===`
`&&o.text(`
`,!0);do A(Ie);while(Ie=Ie.next)}o.end(K)}}};return l.type===1&&!e.inner?A(l):l.type===3?v[3](l):v[11](l),o.getContent()}}},Hk=new Set;pt(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],n=>{Hk.add(n)});const Fn=["font","text-decoration","text-emphasis"],eA=(e,n)=>yi(e.parseStyle(e.getAttrib(n,"style"))),Vk=e=>Hk.has(e),I6=(e,n)=>or(eA(e,n),o=>!Vk(o)),WR=e=>Bt(e,n=>Po(Fn,o=>Ei(n,o))),D6=(e,n,o)=>{const r=eA(e,n),l=eA(e,o),h=v=>{var A,R;const F=(A=e.getStyle(n,v))!==null&&A!==void 0?A:"",J=(R=e.getStyle(o,v))!==null&&R!==void 0?R:"";return Ss(F)&&Ss(J)&&F!==J};return Po(r,v=>{const A=R=>Po(R,F=>F===v);if(!A(l)&&A(Fn)){const R=WR(l);return Po(R,h)}else return h(v)})},zk=(e,n,o)=>se.from(o.container()).filter(Ut).exists(r=>{const l=e?0:-1;return n(r.data.charAt(o.offset()+l))}),GR=Ze(zk,!0,oy),qR=Ze(zk,!1,oy),N6=e=>{const n=e.container();return Ut(n)&&(n.data.length===0||Sv(n.data)&&wu.isBookmarkNode(n.parentNode))},Ep=(e,n)=>o=>hb(e?0:-1,o).filter(n).isSome(),jR=e=>Zp(e)&&$u(De.fromDom(e),"display")==="block",M6=e=>Lo(e)&&!zu(e),k6=Ep(!0,jR),uo=Ep(!1,jR),_C=Ep(!0,sr),po=Ep(!1,sr),ZR=Ep(!0,Nr),P6=Ep(!1,Nr),vy=Ep(!0,M6),Ab=Ep(!1,M6),zY=e=>e.slice(0,-1),UY=(e,n,o)=>et(n,e)?zY(js(e,r=>o(r)||os(r,n))):[],Uk=(e,n)=>UY(e,n,tt),sv=(e,n)=>[e].concat(Uk(e,n)),Zn=(e,n,o)=>$s(e,n,o,N6),Wk=(e,n)=>bs(sv(De.fromDom(n.container()),e),Ht),Gk=(e,n,o)=>Zn(e,n.dom,o).forall(r=>Wk(n,o).fold(()=>!tu(r,o,n.dom),l=>!tu(r,o,n.dom)&&et(l,De.fromDom(r.container())))),qk=(e,n,o)=>Wk(n,o).fold(()=>Zn(e,n.dom,o).forall(r=>!tu(r,o,n.dom)),r=>Zn(e,r.dom,o).isNone()),by=Ze(qk,!1),YR=Ze(qk,!0),L6=Ze(Gk,!1),B6=Ze(Gk,!0),$6=e=>j1(e).exists(Xo),EC=(e,n,o)=>{const r=Bt(sv(De.fromDom(o.container()),n),Ht),l=Di(r).getOr(n);return Mo(e,l.dom,o).filter($6)},KR=(e,n)=>j1(n).exists(Xo)||EC(!0,e,n).isSome(),jk=(e,n)=>fp(n).exists(Xo)||EC(!1,e,n).isSome(),WY=Ze(EC,!1),F6=Ze(EC,!0),Zk=e=>Xe.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),Yk=(e,n)=>{const o=Bt(sv(De.fromDom(n.container()),e),Ht);return Di(o).getOr(e)},Kk=(e,n)=>Zk(n)?qR(n):qR(n)||fi(Yk(e,n).dom,n).exists(qR),XR=(e,n)=>Zk(n)?GR(n):GR(n)||di(Yk(e,n).dom,n).exists(GR),H6=e=>Pn(["pre","pre-wrap"],e),xo=e=>j1(e).bind(n=>ts(n,as)).exists(n=>H6($u(n,"white-space"))),Xk=(e,n)=>fi(e.dom,n).isNone(),tA=(e,n)=>di(e.dom,n).isNone(),Qk=(e,n)=>Xk(e,n)||tA(e,n)||by(e,n)||YR(e,n)||jk(e,n)||KR(e,n),Jk=e=>Pe(e)&&Lo(e)&&La(e),QR=(e,n)=>o=>Jk(new ci(o,e)[n]()),eP=(e,n)=>{const o=di(e.dom,n).getOr(n),r=QR(e.dom,"next");return n.isAtEnd()&&(r(n.container())||r(o.container()))},tP=(e,n)=>{const o=fi(e.dom,n).getOr(n),r=QR(e.dom,"prev");return n.isAtStart()&&(r(n.container())||r(o.container()))},V6=(e,n)=>xo(n)?!1:Qk(e,n)||Kk(e,n)||XR(e,n),FE=(e,n)=>xo(n)?!1:by(e,n)||L6(e,n)||jk(e,n)||Kk(e,n)||tP(e,n),z6=e=>{const n=e.container(),o=e.offset();return Ut(n)&&o<n.data.length?Xe(n,o+1):e},wC=(e,n)=>xo(n)?!1:YR(e,n)||B6(e,n)||KR(e,n)||XR(e,n)||eP(e,n),JR=(e,n)=>FE(e,n)||wC(e,z6(n)),nP=(e,n)=>gE(e.charAt(n)),oP=(e,n)=>oy(e.charAt(n)),U6=e=>{const n=e.container();return Ut(n)&&si(n.data,_s)},W6=e=>{const n=e.split("");return Kt(n,(o,r)=>gE(o)&&r>0&&r<n.length-1&&OT(n[r-1])&&OT(n[r+1])?" ":o).join("")},sP=(e,n,o)=>{const r=n.data,l=Xe(n,0);return!o&&nP(r,0)&&!JR(e,l)?(n.data=" "+r.slice(1),!0):o&&oP(r,0)&&FE(e,l)?(n.data=_s+r.slice(1),!0):!1},eI=e=>{const n=e.data,o=W6(n);return o!==n?(e.data=o,!0):!1},nA=(e,n,o)=>{const r=n.data,l=Xe(n,r.length-1);return!o&&nP(r,r.length-1)&&!JR(e,l)?(n.data=r.slice(0,-1)+" ",!0):o&&oP(r,r.length-1)&&wC(e,l)?(n.data=r.slice(0,-1)+_s,!0):!1},G6=(e,n)=>{const o=n.container();if(!Ut(o))return se.none();if(U6(n)){const r=sP(e,o,!1)||eI(o)||nA(e,o,!1);return rt(r,n)}else if(JR(e,n)){const r=sP(e,o,!0)||nA(e,o,!0);return rt(r,n)}else return se.none()},q6=e=>{const n=De.fromDom(e.getBody());e.selection.isCollapsed()&&G6(n,Xe.fromRangeStart(e.selection.getRng())).each(o=>{e.selection.setRng(o.toRange())})},rP=(e,n,o)=>{if(o===0)return;const r=De.fromDom(e),l=Ls(r,Ht).getOr(r),h=e.data.slice(n,n+o),v=n+o>=e.data.length&&wC(l,Xe(e,e.data.length)),A=n===0&&FE(l,Xe(e,0));e.replaceData(n,o,Bh(h,4,A,v))},oA=(e,n)=>{const o=e.data.slice(n),r=o.length-$l(o).length;rP(e,n,r)},tI=(e,n)=>{const o=e.data.slice(0,n),r=o.length-cd(o).length;rP(e,n-r,r)},nI=(e,n,o,r=!0)=>{const l=cd(e.data).length,h=r?e:n,v=r?n:e;return r?h.appendData(v.data):h.insertData(0,v.data),Tr(De.fromDom(v)),o&&oA(h,l),h},j6=(e,n)=>{const o=e.container(),r=e.offset();return!Xe.isTextPosition(e)&&o===n.parentNode&&r>Xe.before(n).offset()},Z6=(e,n)=>j6(n,e)?Xe(n.container(),n.offset()-1):n,iP=e=>Ut(e)?Xe(e,0):Xe.before(e),Y6=e=>Ut(e)?Xe(e,e.data.length):Xe.after(e),aP=e=>Cl(e.previousSibling)?se.some(Y6(e.previousSibling)):e.previousSibling?Yr(e.previousSibling):se.none(),Ob=e=>Cl(e.nextSibling)?se.some(iP(e.nextSibling)):e.nextSibling?ti(e.nextSibling):se.none(),K6=(e,n)=>se.from(n.previousSibling?n.previousSibling:n.parentNode).bind(o=>fi(e,Xe.before(o))).orThunk(()=>di(e,Xe.after(n))),cP=(e,n)=>di(e,Xe.after(n)).orThunk(()=>fi(e,Xe.before(n))),X6=(e,n)=>aP(n).orThunk(()=>Ob(n)).orThunk(()=>K6(e,n)),Q6=(e,n)=>Ob(n).orThunk(()=>aP(n)).orThunk(()=>cP(e,n)),lP=(e,n,o)=>e?Q6(n,o):X6(n,o),uP=(e,n,o)=>lP(e,n,o).map(Ze(Z6,o)),oI=(e,n,o)=>{o.fold(()=>{e.focus()},r=>{e.selection.setRng(r.toRange(),n)})},dP=e=>n=>n.dom===e,xu=(e,n)=>n&&jn(e.schema.getBlockElements(),zs(n)),J6=e=>{if(Ws(e)){const n=De.fromHtml('<br data-mce-bogus="1">');return er(e),wr(e,n),se.some(Xe.before(n.dom))}else return se.none()},eV=(e,n,o)=>{const r=Cc(e).filter(fr),l=Da(e).filter(fr);return Tr(e),Xt(r,l,n,(h,v,A)=>{const R=h.dom,F=v.dom,J=R.data.length;return nI(R,F,o),A.container()===F?Xe(R,J):A}).orThunk(()=>(o&&(r.each(h=>tI(h.dom,h.dom.length)),l.each(h=>oA(h.dom,0))),n))},tV=(e,n)=>jn(e.schema.getTextInlineElements(),zs(n)),yy=(e,n,o,r=!0)=>{const l=uP(n,e.getBody(),o.dom),h=Ls(o,Ze(xu,e),dP(e.getBody())),v=eV(o,l,tV(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):h.bind(J6).fold(()=>{r&&oI(e,n,v)},A=>{r&&oI(e,n,se.some(A))})},nV=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,_y=e=>nV.test(e),Ey=(e,n)=>fa(De.fromDom(n),L1(e))&&!Wf(e.schema,n)&&e.dom.isEditable(n),oV=e=>{var n;return rr.DOM.getStyle(e,"direction",!0)==="rtl"||_y((n=e.textContent)!==null&&n!==void 0?n:"")},ia=(e,n,o)=>Bt(rr.DOM.getParents(o.container(),"*",n),e),wp=(e,n,o)=>{const r=ia(e,n,o);return se.from(r[r.length-1])},GY=(e,n,o)=>{const r=qi(n,e),l=qi(o,e);return Pe(r)&&r===l},jc=e=>Ed(e)||d1(e),Wo=(e,n)=>{const o=n.container(),r=n.offset();return e?xc(o)?Ut(o.nextSibling)?Xe(o.nextSibling,0):Xe.after(o):Ed(n)?Xe(o,r+1):n:xc(o)?Ut(o.previousSibling)?Xe(o.previousSibling,o.previousSibling.data.length):Xe.before(o):d1(n)?Xe(o,r-1):n},Cf=Ze(Wo,!0),fP=Ze(Wo,!1),sI=(e,n)=>{const o=r=>r.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(n),e.off("beforeinput input",o)},rI=e=>{e.execCommand("delete")},TC=e=>sI(e,"Delete"),hP=e=>sI(e,"ForwardDelete"),mP=e=>n=>Le(zo(n),e,os),sV=e=>Ge(e)||li(e),sA=(e,n)=>et(e,n)?ts(n,sV,mP(e)):se.none(),CC=(e,n=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!n})},pP=(e,n,o)=>Et(ti(o),Yr(o),(r,l)=>{const h=Wo(!0,r),v=Wo(!1,l),A=Wo(!1,n);return e?di(o,A).exists(R=>R.isEqual(v)&&n.isEqual(h)):fi(o,A).exists(R=>R.isEqual(h)&&n.isEqual(v))}).getOr(!0),sh=e=>(Fc(e)?Cc(e):St(e)).bind(sh).orThunk(()=>se.some(e)),gP=(e,n,o,r=!0)=>{var l;n.deleteContents();const h=sh(o).getOr(o),v=De.fromDom((l=e.dom.getParent(h.dom,e.dom.isBlock))!==null&&l!==void 0?l:o.dom);if(v.dom===e.getBody()?CC(e,r):Ws(v)&&(Kp(v),r&&e.selection.setCursorLocation(v.dom,0)),!os(o,v)){const A=Le(zo(v),o)?[]:gd(v);pt(A.concat(We(o)),R=>{!os(R,v)&&!et(R,v)&&Ws(R)&&Tr(R)})}},rV=e=>n=>os(e,n),vP=e=>Jr(e,"td,th"),iI=(e,n)=>{const o=F=>K1(De.fromDom(F),n),r=o(e.startContainer),l=o(e.endContainer),h=r.isSome(),v=l.isSome(),A=Et(r,l,os).getOr(!1);return{startTable:r,endTable:l,isStartInTable:h,isEndInTable:v,isSameTable:A,isMultiTable:!A&&h&&v}},aI=(e,n)=>({start:e,end:n}),SC=(e,n,o)=>({rng:e,table:n,cells:o}),xC=Qu.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),rv=(e,n)=>zl(De.fromDom(e),"td,th",n),Sf=e=>!os(e.start,e.end),HE=(e,n)=>K1(e.start,n).bind(o=>K1(e.end,n).bind(r=>rt(os(o,r),o))),Ar=(e,n)=>!Sf(e)&&HE(e,n).exists(o=>{const r=o.dom.rows;return r.length===1&&r[0].cells.length===1}),AC=(e,n)=>{const o=rv(e.startContainer,n),r=rv(e.endContainer,n);return Et(o,r,aI)},bP=e=>n=>K1(n,e).bind(o=>Yc(vP(o)).map(r=>aI(n,r))),yP=e=>n=>K1(n,e).bind(o=>Di(vP(o)).map(r=>aI(r,n))),OC=e=>n=>HE(n,e).map(o=>SC(n,o,vP(o))),rA=(e,n,o,r)=>{if(o.collapsed||!e.forall(Sf))return se.none();if(n.isSameTable){const l=e.bind(OC(r));return se.some({start:l,end:l})}else{const l=rv(o.startContainer,r),h=rv(o.endContainer,r),v=l.bind(bP(r)).bind(OC(r)),A=h.bind(yP(r)).bind(OC(r));return se.some({start:v,end:A})}},iA=(e,n)=>Ir(e,o=>os(o,n)),RC=e=>Et(iA(e.cells,e.rng.start),iA(e.cells,e.rng.end),(n,o)=>e.cells.slice(n,o+1)),aA=(e,n,o)=>e.exists(r=>Ar(r,o)&&ry(r.start,n)),cA=(e,n)=>{const{startTable:o,endTable:r}=n,l=e.cloneRange();return o.each(h=>l.setStartAfter(h.dom)),r.each(h=>l.setEndBefore(h.dom)),l},_P=(e,n,o,r)=>rA(e,n,o,r).bind(({start:l,end:h})=>l.or(h)).bind(l=>{const{isSameTable:h}=n,v=RC(l).getOr([]);if(h&&l.cells.length===v.length)return se.some(xC.fullTable(l.table));if(v.length>0){if(h)return se.some(xC.partialTable(v,se.none()));{const A=cA(o,n);return se.some(xC.partialTable(v,se.some({...n,rng:A})))}}else return se.none()}),EP=(e,n,o,r)=>rA(e,n,o,r).bind(({start:l,end:h})=>{const v=l.bind(RC).getOr([]),A=h.bind(RC).getOr([]);if(v.length>0&&A.length>0){const R=cA(o,n);return se.some(xC.multiTable(v,A,R))}else return se.none()}),wP=(e,n)=>{const o=rV(e),r=AC(n,o),l=iI(n,o);return aA(r,n,o)?r.map(h=>xC.singleCellTable(n,h.start)):l.isMultiTable?EP(r,l,n,o):_P(r,l,n,o)},cI=e=>pt(e,n=>{hr(n,"contenteditable"),Kp(n)}),TP=(e,n)=>se.from(e.dom.getParent(n,e.dom.isBlock)).map(De.fromDom),VE=(e,n,o)=>{o.each(r=>{n?Tr(r):(Kp(r),e.selection.setCursorLocation(r.dom,0))})},lA=(e,n,o,r)=>{const l=o.cloneRange();r?(l.setStart(o.startContainer,o.startOffset),l.setEndAfter(n.dom.lastChild)):(l.setStartBefore(n.dom.firstChild),l.setEnd(o.endContainer,o.endOffset)),dA(e,l,n,!1).each(h=>h())},uA=e=>{const n=Y1(e),o=De.fromDom(e.selection.getNode());ei(o.dom)&&Ws(o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),n.length>1&&Po(n,r=>os(r,o))&&mo(o,"data-mce-selected","1")},CP=(e,n,o)=>se.some(()=>{const r=e.selection.getRng(),l=o.bind(({rng:h,isStartInTable:v})=>{const A=TP(e,v?h.endContainer:h.startContainer);h.deleteContents(),VE(e,v,A.filter(Ws));const R=v?n[0]:n[n.length-1];return lA(e,R,r,v),Ws(R)?se.none():se.some(v?n.slice(1):n.slice(0,-1))}).getOr(n);cI(l),uA(e)}),iV=(e,n,o,r)=>se.some(()=>{const l=e.selection.getRng(),h=n[0],v=o[o.length-1];lA(e,h,l,!0),lA(e,v,l,!1);const A=Ws(h)?n:n.slice(1),R=Ws(v)?o:o.slice(0,-1);cI(A.concat(R)),r.deleteContents(),uA(e)}),dA=(e,n,o,r=!0)=>se.some(()=>{gP(e,n,o,r)}),SP=(e,n)=>se.some(()=>yy(e,!1,n)),xP=(e,n,o)=>wP(n,o).bind(r=>r.fold(Ze(dA,e),Ze(SP,e),Ze(CP,e),Ze(iV,e))),fA=(e,n)=>IC(e,n),AP=(e,n,o,r)=>hA(n,r).fold(()=>xP(e,n,o),l=>fA(e,l)),OP=(e,n,o)=>{const r=De.fromDom(e.getBody()),l=e.selection.getRng();return o.length!==0?CP(e,o,se.none()):AP(e,r,l,n)},lI=(e,n)=>bs(sv(n,e),Vr),hA=(e,n)=>bs(sv(n,e),Hc("caption")),RP=(e,n,o,r,l)=>Io(o,e.getBody(),l).bind(h=>lI(n,De.fromDom(h.getNode())).bind(v=>os(v,r)?se.none():se.some(Rt))),IC=(e,n)=>se.some(()=>{Kp(n),e.selection.setCursorLocation(n.dom,0)}),IP=(e,n,o,r)=>ti(e.dom).bind(l=>Yr(e.dom).map(h=>n?o.isEqual(l)&&r.isEqual(h):o.isEqual(h)&&r.isEqual(l))).getOr(!0),DP=(e,n)=>IC(e,n),NP=(e,n,o)=>hA(e,De.fromDom(o.getNode())).fold(()=>se.some(Rt),r=>rt(!os(r,n),Rt)),MP=(e,n,o,r,l)=>Io(o,e.getBody(),l).fold(()=>se.some(Rt),h=>IP(r,o,l,h)?DP(e,r):NP(n,r,h)),kP=(e,n,o,r)=>{const l=Xe.fromRangeStart(e.selection.getRng());return lI(o,r).bind(h=>Ws(h)?IC(e,h):RP(e,o,n,h,l))},PP=(e,n,o,r)=>{const l=Xe.fromRangeStart(e.selection.getRng());return Ws(r)?IC(e,r):MP(e,o,n,r,l)},uI=(e,n)=>e?ZR(n):P6(n),LP=(e,n)=>{const o=Xe.fromRangeStart(e.selection.getRng());return uI(n,o)||Mo(n,e.getBody(),o).exists(r=>uI(n,r))},BP=(e,n,o)=>{const r=De.fromDom(e.getBody());return hA(r,o).fold(()=>kP(e,n,r,o).orThunk(()=>rt(LP(e,n),Rt)),l=>PP(e,n,r,l))},DC=(e,n)=>{const o=De.fromDom(e.selection.getStart(!0)),r=Y1(e);return e.selection.isCollapsed()&&r.length===0?BP(e,n,o):OP(e,o,r)},Dg=(e,n)=>{let o=n;for(;o&&o!==e;){if(ns(o)||Lo(o))return o;o=o.parentNode}return null},$P=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],FP=Te.each,zE=e=>{const n=e.dom,o=new Set(e.serializer.getTempAttrs()),r=(h,v)=>{if(h.nodeName!==v.nodeName||h.nodeType!==v.nodeType)return!1;const A=F=>{const J={};return FP(n.getAttribs(F),K=>{const ie=K.nodeName.toLowerCase();ie!=="style"&&!l(ie)&&(J[ie]=n.getAttrib(F,ie))}),J},R=(F,J)=>{for(const K in F)if(jn(F,K)){const ie=J[K];if(dt(ie)||F[K]!==ie)return!1;delete J[K]}for(const K in J)if(jn(J,K))return!1;return!0};return on(h)&&on(v)&&(!R(A(h),A(v))||!R(n.parseStyle(n.getAttrib(h,"style")),n.parseStyle(n.getAttrib(v,"style"))))?!1:!Ju(h)&&!Ju(v)},l=h=>Po($P,v=>Ei(h,v))||o.has(h);return{compare:r,isAttributeInternal:l}},dI=(e,n)=>{let o=e;for(;o=o.walk();)n(o)},UE=(e,n,o,r)=>{const l=o.name;for(let h=0,v=e.length;h<v;h++){const A=e[h];if(A.name===l){const R=r.nodes[l];R?R.nodes.push(o):r.nodes[l]={filter:A,nodes:[o]}}}if(o.attributes)for(let h=0,v=n.length;h<v;h++){const A=n[h],R=A.name;if(R in o.attributes.map){const F=r.attributes[R];F?F.nodes.push(o):r.attributes[R]={filter:A,nodes:[o]}}}},fI=(e,n,o)=>{const r={nodes:{},attributes:{}};return o.firstChild&&dI(o,l=>{UE(e,n,l,r)}),r},hI=(e,n)=>{const o=(r,l)=>{cn(r,h=>{const v=br(h.nodes);pt(h.filter.callbacks,A=>{for(let R=v.length-1;R>=0;R--){const F=v[R];(!(l?F.attr(h.filter.name)!==void 0:F.name===h.filter.name)||_t(F.parent))&&v.splice(R,1)}v.length>0&&A(v,h.filter.name,n)})})};o(e.nodes,!1),o(e.attributes,!0)},wy=(e,n,o,r={})=>{const l=fI(e,n,o);hI(l,r)},NC=(e,n,o)=>{if(e.insert&&n(o)){const r=new ed("br",1);r.attr("data-mce-bogus","1"),o.empty().append(r)}else o.empty().append(new ed("#text",3)).value=_s},mI=e=>{var n;return WE(e,"#text")&&((n=e==null?void 0:e.firstChild)===null||n===void 0?void 0:n.value)===_s},WE=(e,n)=>{const o=e==null?void 0:e.firstChild;return Pe(o)&&o===e.lastChild&&o.name===n},Rb=(e,n)=>{const o=e.getElementRule(n.name);return(o==null?void 0:o.paddEmpty)===!0},GE=(e,n,o,r)=>r.isEmpty(n,o,l=>Rb(e,l)),aV=(e,n)=>Pe(e)&&(n(e)||e.name==="br"),HP=e=>{let n;for(let o=e;o;o=o.parent){const r=o.attr("contenteditable");if(r==="false")break;r==="true"&&(n=o)}return se.from(n)},mA=(e,n,o=e.parent)=>{if(n.getSpecialElements()[e.name])e.empty().remove();else{const r=e.children();for(const l of r)o&&!n.isValidChild(o.name,l.name)&&mA(l,n,o);e.unwrap()}},pI=(e,n,o,r=Rt)=>{const l=n.getTextBlockElements(),h=n.getNonEmptyElements(),v=n.getWhitespaceElements(),A=Te.makeMap("tr,td,th,tbody,thead,tfoot,table"),R=new Set,F=J=>J!==o&&!A[J.name];for(let J=0;J<e.length;J++){const K=e[J];let ie,Ae,Ie;if(!K.parent||R.has(K))continue;if(l[K.name]&&K.parent.name==="li"){let Oe=K.next;for(;Oe&&l[Oe.name];){Oe.name="li",R.add(Oe),K.parent.insert(Oe,K.parent);Oe=Oe.next}K.unwrap();continue}const ye=[K];for(ie=K.parent;ie&&!n.isValidChild(ie.name,K.name)&&F(ie);ie=ie.parent)ye.push(ie);if(ie&&ye.length>1)if(n.isValidChild(ie.name,K.name)){ye.reverse(),Ae=ye[0].clone(),r(Ae);let Oe=Ae;for(let ze=0;ze<ye.length-1;ze++){n.isValidChild(Oe.name,ye[ze].name)&&ze>0?(Ie=ye[ze].clone(),r(Ie),Oe.append(Ie)):Ie=Oe;for(let Fe=ye[ze].firstChild;Fe&&Fe!==ye[ze+1];){const Ke=Fe.next;Ie.append(Fe),Fe=Ke}Oe=Ie}GE(n,h,v,Ae)?ie.insert(K,ye[0],!0):(ie.insert(Ae,ye[0],!0),ie.insert(K,Ae)),ie=ye[0],(GE(n,h,v,ie)||WE(ie,"br"))&&ie.empty().remove()}else mA(K,n);else if(K.parent){if(K.name==="li"){let Oe=K.prev;if(Oe&&(Oe.name==="ul"||Oe.name==="ol")){Oe.append(K);continue}if(Oe=K.next,Oe&&(Oe.name==="ul"||Oe.name==="ol")&&Oe.firstChild){Oe.insert(K,Oe.firstChild,!0);continue}const ze=new ed("ul",1);r(ze),K.wrap(ze);continue}if(n.isValidChild(K.parent.name,"div")&&n.isValidChild("div",K.name)){const Oe=new ed("div",1);r(Oe),K.wrap(Oe)}else mA(K,n)}}},qY=(e,n)=>{let o=e;for(;o;){if(o.name===n)return!0;o=o.parent}return!1},VP=(e,n,o=n.parent)=>o&&e.children[n.name]&&!e.isValidChild(o.name,n.name)?!0:!!(o&&n.name==="a"&&qY(o,"a")),gI=(e,n,o,r)=>{const l=document.createRange();return l.setStart(e,n),l.setEnd(o,r),l},Tp=e=>{const n=Xe.fromRangeStart(e),o=Xe.fromRangeEnd(e),r=e.commonAncestorContainer;return Mo(!1,r,o).map(l=>!tu(n,o,r)&&tu(n,l,r)?gI(n.container(),n.offset(),l.container(),l.offset()):e).getOr(e)},MC=e=>e.collapsed?e:Tp(e),pA=e=>Pe(e.firstChild)&&e.firstChild===e.lastChild,vI=e=>e.name==="br"||e.value===_s,cV=(e,n)=>e.getBlockElements()[n.name]&&pA(n)&&vI(n.firstChild),zP=(e,n)=>{const o=e.getNonEmptyElements();return Pe(n)&&(n.isEmpty(o)||cV(e,n))},lV=(e,n)=>{let o=n.firstChild,r=n.lastChild;return o&&o.name==="meta"&&(o=o.next),r&&r.attr("id")==="mce_marker"&&(r=r.prev),zP(e,r)&&(r=r==null?void 0:r.prev),!o||o!==r?!1:o.name==="ul"||o.name==="ol"},UP=e=>{var n,o;const r=e.firstChild,l=e.lastChild;return r&&r.nodeName==="META"&&((n=r.parentNode)===null||n===void 0||n.removeChild(r)),l&&l.id==="mce_marker"&&((o=l.parentNode)===null||o===void 0||o.removeChild(l)),e},bI=(e,n,o)=>{const r=n.serialize(o),l=e.createFragment(r);return UP(l)},uV=e=>{var n;return Bt((n=e==null?void 0:e.childNodes)!==null&&n!==void 0?n:[],o=>o.nodeName==="LI")},WP=e=>e.data===_s||mr(e),dV=e=>Pe(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&WP(e.firstChild),kC=e=>!e.firstChild||dV(e),GP=e=>e.length>0&&kC(e[e.length-1])?e.slice(0,-1):e,yI=(e,n)=>{const o=e.getParent(n,e.isBlock);return o&&o.nodeName==="LI"?o:null},qP=(e,n)=>!!yI(e,n),fV=(e,n)=>{const o=n.cloneRange(),r=n.cloneRange();return o.setStartBefore(e),r.setEndAfter(e),[o.cloneContents(),r.cloneContents()]},hV=(e,n)=>{const o=Xe.before(e),l=Ye(n).next(o);return l?l.toRange():null},jP=(e,n)=>{const o=Xe.after(e),l=Ye(n).prev(o);return l?l.toRange():null},mV=(e,n,o,r)=>{const l=fV(e,r),h=e.parentNode;return h&&(h.insertBefore(l[0],e),Te.each(n,v=>{h.insertBefore(v,e)}),h.insertBefore(l[1],e),h.removeChild(e)),jP(n[n.length-1],o)},pV=(e,n,o)=>{const r=e.parentNode;return r&&Te.each(n,l=>{r.insertBefore(l,e)}),hV(e,o)},ZP=(e,n,o,r)=>(r.insertAfter(n.reverse(),e),jP(n[0],o)),gV=(e,n,o,r)=>{const l=bI(n,e,r),h=yI(n,o.startContainer),v=GP(uV(l.firstChild)),A=1,R=2,F=n.getRoot(),J=K=>{const ie=Xe.fromRangeStart(o),Ae=Ye(n.getRoot()),Ie=K===A?Ae.prev(ie):Ae.next(ie),ye=Ie==null?void 0:Ie.getNode();return ye?yI(n,ye)!==h:!0};return h?J(A)?pV(h,v,F):J(R)?ZP(h,v,F,n):mV(h,v,F,o):null},_I=["pre"],Ty=(e,n,o,r)=>{var l;const h=n.firstChild,v=n.lastChild,A=v.attr("data-mce-type")==="bookmark"?v.prev:v,R=h===A,F=Pn(_I,h.name);if(R&&F){const J=h.attr("contenteditable")!=="false",K=((l=e.getParent(o,e.isBlock))===null||l===void 0?void 0:l.nodeName.toLowerCase())===h.name,ie=se.from(Dg(r,o)).forall(ns);return J&&K&&ie}else return!1},EI=ei,vV=(e,n,o)=>{if(Pe(o)){const r=e.getParent(n.endContainer,EI);return o===r&&ry(De.fromDom(o),n)}else return!1},gA=(e,n,o)=>{var r;if(o.getAttribute("data-mce-bogus")==="all")(r=o.parentNode)===null||r===void 0||r.insertBefore(e.dom.createFragment(n),o);else{const l=o.firstChild,h=o.lastChild;!l||l===h&&l.nodeName==="BR"?e.dom.setHTML(o,n):e.selection.setContent(n,{no_events:!0})}},YP=(e,n)=>{se.from(e.getParent(n,"td,th")).map(De.fromDom).each(pu)},KP=(e,n)=>{const o=e.schema.getTextInlineElements(),r=e.dom;if(n){const l=e.getBody(),h=zE(e);Te.each(r.select("*[data-mce-fragment]"),v=>{if(Pe(o[v.nodeName.toLowerCase()])&&I6(r,v)){for(let R=v.parentElement;Pe(R)&&R!==l&&!D6(r,v,R);R=R.parentElement)if(h.compare(R,v)){r.remove(v,!0);break}}})}},bV=e=>{let n=e;for(;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},XP=e=>{Te.each(e.getElementsByTagName("*"),n=>{n.removeAttribute("data-mce-fragment")})},yV=e=>!!e.getAttribute("data-mce-fragment"),Cy=(e,n)=>Pe(n)&&!e.schema.getVoidElements()[n.nodeName],QP=(e,n)=>{var o,r,l;let h;const v=e.dom,A=e.selection;if(!n)return;A.scrollIntoView(n);const R=Dg(e.getBody(),n);if(R&&v.getContentEditable(R)==="false"){v.remove(n),A.select(R);return}let F=v.createRng();const J=n.previousSibling;if(Ut(J)){F.setStart(J,(r=(o=J.nodeValue)===null||o===void 0?void 0:o.length)!==null&&r!==void 0?r:0);const Ae=n.nextSibling;Ut(Ae)&&(J.appendData(Ae.data),(l=Ae.parentNode)===null||l===void 0||l.removeChild(Ae))}else F.setStartBefore(n),F.setEndBefore(n);const K=Ae=>{let Ie=Xe.fromRangeStart(Ae);return Ie=Ye(e.getBody()).next(Ie),Ie==null?void 0:Ie.toRange()},ie=v.getParent(n,v.isBlock);v.remove(n),ie&&v.isEmpty(ie)&&(er(De.fromDom(ie)),F.setStart(ie,0),F.setEnd(ie,0),!EI(ie)&&!yV(ie)&&(h=K(F))?(F=h,v.remove(ie)):v.add(ie,v.create("br",{"data-mce-bogus":"1"}))),A.setRng(F)},JP=e=>{const n=e.dom,o=MC(e.selection.getRng());e.selection.setRng(o);const r=n.getParent(o.startContainer,EI);vV(n,o,r)?dA(e,o,De.fromDom(r)):o.startContainer===o.endContainer&&o.endOffset-o.startOffset===1&&Ut(o.startContainer.childNodes[o.startOffset])?o.deleteContents():e.getDoc().execCommand("Delete",!1)},eL=e=>{for(let n=e;n;n=n.walk())if(n.attr("id")==="mce_marker")return se.some(n);return se.none()},vA=(e,n,o)=>{var r,l;const h=e.selection,v=e.dom,A=e.parser,R=o.merge,F=xb({validate:!0},e.schema),J='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,J);let K=h.getRng();const ie=K.startContainer,Ae=e.getBody();ie===Ae&&h.isCollapsed()&&v.isBlock(Ae.firstChild)&&Cy(e,Ae.firstChild)&&v.isEmpty(Ae.firstChild)&&(K=v.createRng(),K.setStart(Ae.firstChild,0),K.setEnd(Ae.firstChild,0),h.setRng(K)),h.isCollapsed()||JP(e);const Ie=h.getNode(),ye={context:Ie.nodeName.toLowerCase(),data:o.data,insert:!0},Oe=A.parse(n,ye);if(o.paste===!0&&lV(e.schema,Oe)&&qP(v,Ie))return K=gV(F,v,h.getRng(),Oe),K&&h.setRng(K),n;o.paste===!0&&Ty(v,Oe,Ie,e.getBody())&&((r=Oe.firstChild)===null||r===void 0||r.unwrap()),bV(Oe);let ze=Oe.lastChild;if(ze&&ze.attr("id")==="mce_marker"){const Fe=ze;for(ze=ze.prev;ze;ze=ze.walk(!0))if(ze.type===3||!v.isBlock(ze.name)){ze.parent&&e.schema.isValidChild(ze.parent.name,"span")&&ze.parent.insert(Fe,ze,ze.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(Ie),!ye.invalid)n=F.serialize(Oe),gA(e,n,Ie);else{e.selection.setContent(J);let Fe=h.getNode(),Ke;const at=e.getBody();for(yd(Fe)?Fe=Ke=at:Ke=Fe;Ke&&Ke!==at;)Fe=Ke,Ke=Ke.parentNode;n=Fe===at?at.innerHTML:v.getOuterHTML(Fe);const xt=A.parse(n),sn=eL(xt),Zt=sn.bind(HP).getOr(xt);sn.each(Bn=>Bn.replace(Oe));const mt=Oe.children(),ht=(l=Oe.parent)!==null&&l!==void 0?l:xt;Oe.unwrap();const yn=Bt(mt,Bn=>VP(e.schema,Bn,ht));pI(yn,e.schema,Zt),wy(A.getNodeFilters(),A.getAttributeFilters(),xt),n=F.serialize(xt),Fe===at?v.setHTML(at,n):v.setOuterHTML(Fe,n)}return KP(e,R),QP(e,v.get("mce_marker")),XP(e.getBody()),YP(v,h.getStart()),Gu(e.schema,e.getBody(),h.getStart()),n},PC=e=>e instanceof ed,_V=e=>{Sb(e)&&ti(e.getBody()).each(n=>{const o=n.getNode(),r=Nr(o)?ti(o).getOr(n):n;e.selection.setRng(r.toRange())})},bA=(e,n,o)=>{e.dom.setHTML(e.getBody(),n),o!==!0&&_V(e)},EV=(e,n,o,r)=>{if(o.length===0||/^\s+$/.test(o)){const l='<br data-mce-bogus="1">';n.nodeName==="TABLE"?o="<tr><td>"+l+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(o="<li>"+l+"</li>");const h=_u(e);return e.schema.isValidChild(n.nodeName.toLowerCase(),h.toLowerCase())?(o=l,o=e.dom.createHTML(h,gg(e),o)):o||(o=l),bA(e,o,r.no_selection),{content:o,html:o}}else{r.format!=="raw"&&(o=xb({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const l=ui(De.fromDom(n))?o:Te.trim(o);return bA(e,l,r.no_selection),{content:l,html:l}}},wV=(e,n,o,r)=>{wy(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const l=xb({validate:!1},e.schema).serialize(o),h=ui(De.fromDom(n))?l:Te.trim(l);return bA(e,h,r.no_selection),{content:o,html:h}},yA=(e,n,o)=>se.from(e.getBody()).map(r=>PC(n)?wV(e,r,n,o):EV(e,r,n,o)).getOr({content:n,html:PC(o.content)?"":o.content}),tL=(e,n,o)=>Ls(e,n,o).isSome(),wI=(e,n)=>gl(e,n).isSome(),nL=e=>Ee(e)?e:tt,TV=(e,n,o)=>{let r=e.dom;const l=nL(o);for(;r.parentNode;){r=r.parentNode;const h=De.fromDom(r),v=n(h);if(v.isSome())return v;if(l(h))break}return se.none()},_A=(e,n,o)=>{const r=n(e),l=nL(o);return r.orThunk(()=>l(e)?se.none():TV(e,n,l))},LC=BT,TI=(e,n,o)=>{const r=e.formatter.get(o);if(r)for(let l=0;l<r.length;l++){const h=r[l];if(nu(h)&&h.inherit===!1&&e.dom.is(n,h.selector))return!0}return!1},CI=(e,n,o,r,l)=>{const h=e.dom.getRoot();if(n===h)return!1;const v=e.dom.getParent(n,A=>TI(e,A,o)?!0:A.parentNode===h||!!rh(e,A,o,r,!0));return!!rh(e,v,o,r,l)},EA=(e,n,o)=>wa(o)&&LC(n,o.inline)||Pr(o)&&LC(n,o.block)?!0:nu(o)?on(n)&&e.is(n,o.selector):!1,oL=(e,n,o,r,l,h)=>{const v=o[r],A=r==="attributes";if(Ee(o.onmatch))return o.onmatch(n,o,r);if(v){if(wh(v)){for(let R=0;R<v.length;R++)if(A?e.getAttrib(n,v[R]):EE(e,n,v[R]))return!0}else for(const R in v)if(jn(v,R)){const F=A?e.getAttrib(n,R):EE(e,n,R),J=xg(v[R],h),K=_t(F)||ri(F);if(K&&_t(J))continue;if(l&&K&&!o.exact||(!l||o.exact)&&!LC(F,$T(J,R)))return!1}}return!0},rh=(e,n,o,r,l)=>{const h=e.formatter.get(o),v=e.dom;if(h&&on(n))for(let A=0;A<h.length;A++){const R=h[A];if(EA(e.dom,n,R)&&oL(v,n,R,"attributes",l,r)&&oL(v,n,R,"styles",l,r)){const F=R.classes;if(F){for(let J=0;J<F.length;J++)if(!e.dom.hasClass(n,xg(F[J],r)))return}return R}}},Cp=(e,n,o,r,l)=>{if(r)return CI(e,r,n,o,l);if(r=e.selection.getNode(),CI(e,r,n,o,l))return!0;const h=e.selection.getStart();return!!(h!==r&&CI(e,h,n,o,l))},CV=(e,n,o)=>{const r=[],l={},h=e.selection.getStart();return e.dom.getParent(h,v=>{for(let A=0;A<n.length;A++){const R=n[A];!l[R]&&rh(e,v,R,o)&&(l[R]=!0,r.push(R))}},e.dom.getRoot()),r},SI=(e,n)=>{const o=l=>os(l,De.fromDom(e.getBody())),r=(l,h)=>rh(e,l.dom,h)?se.some(h):se.none();return se.from(e.selection.getStart(!0)).bind(l=>_A(De.fromDom(l),h=>$r(n,v=>r(h,v)),o)).getOrNull()},aa=(e,n)=>{const o=e.formatter.get(n),r=e.dom;if(o){const l=e.selection.getStart(),h=wE(r,l);for(let v=o.length-1;v>=0;v--){const A=o[v];if(!nu(A))return!0;for(let R=h.length-1;R>=0;R--)if(r.is(h[R],A.selector))return!0}}return!1},xI=(e,n,o)=>Ms(o,(r,l)=>{const h=Za(e,l);return e.formatter.matchNode(n,l,{},h)?r.concat([l]):r},[]),Ib=ka,iv=(e,n)=>e.importNode(n,!0),sL=e=>{const n=[];let o=e;for(;o;){if(Ut(o)&&o.data!==Ib||o.childNodes.length>1)return[];on(o)&&n.push(o),o=o.firstChild}return n},wA=e=>sL(e).length>0,qE=e=>{if(e){const n=new ci(e,e);for(let o=n.current();o;o=n.next())if(Ut(o))return o}return null},AI=e=>{const n=De.fromTag("span");return Wr(n,{id:Mc,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&wr(n,De.fromText(Ib)),n},SV=e=>{const n=qE(e);return n&&n.data.charAt(0)===Ib&&n.deleteData(0,1),n},Db=(e,n,o=!0)=>{const r=e.dom,l=e.selection;if(wA(n))yy(e,!1,De.fromDom(n),o);else{const h=l.getRng(),v=r.getParent(n,r.isBlock),A=h.startContainer,R=h.startOffset,F=h.endContainer,J=h.endOffset,K=SV(n);r.remove(n,!0),A===K&&R>0&&h.setStart(K,R-1),F===K&&J>0&&h.setEnd(K,J-1),v&&r.isEmpty(v)&&Kp(De.fromDom(v)),l.setRng(h)}},OI=(e,n,o=!0)=>{const r=e.dom,l=e.selection;if(n)Db(e,n,o);else if(n=yf(e.getBody(),l.getStart()),!n)for(;n=r.get(Mc);)Db(e,n,!1)},Sy=(e,n,o)=>{var r,l;const h=e.dom,v=h.getParent(o,Ze(LT,e.schema));v&&h.isEmpty(v)?(r=o.parentNode)===null||r===void 0||r.replaceChild(n,o):(Mh(De.fromDom(o)),h.isEmpty(o)?(l=o.parentNode)===null||l===void 0||l.replaceChild(n,o):h.insertAfter(n,o))},rL=(e,n)=>(e.appendChild(n),n),av=(e,n)=>{var o;const r=Br(e,(h,v)=>rL(h,v.cloneNode(!1)),n),l=(o=r.ownerDocument)!==null&&o!==void 0?o:document;return rL(r,l.createTextNode(Ib))},rm=(e,n,o,r,l,h)=>{const v=e.formatter,A=e.dom,R=Bt(yi(v.get()),K=>K!==r&&!si(K,"removeformat")),F=xI(e,o,R);if(Bt(F,K=>!TE(e,K,r)).length>0){const K=o.cloneNode(!1);return A.add(n,K),v.remove(r,l,K,h),A.remove(K),se.some(K)}else return se.none()},TA=(e,n,o)=>{let r;const l=e.selection,h=e.formatter.get(n);if(!h)return;const v=l.getRng();let A=v.startOffset;const F=v.startContainer.nodeValue;r=yf(e.getBody(),l.getStart());const J=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(F&&A>0&&A<F.length&&J.test(F.charAt(A))&&J.test(F.charAt(A-1))){const K=l.getBookmark();v.collapse(!0);let ie=Q1(e.dom,v,h);ie=BE(ie),e.formatter.apply(n,o,ie),l.moveToBookmark(K)}else{let K=r?qE(r):null;(!r||(K==null?void 0:K.data)!==Ib)&&(r=iv(e.getDoc(),AI(!0).dom),K=r.firstChild,v.insertNode(r),A=1),e.formatter.apply(n,o,r),l.setCursorLocation(K,A)}},RI=(e,n,o,r)=>{const l=e.dom,h=e.selection;let v=!1;const A=e.formatter.get(n);if(!A)return;const R=h.getRng(),F=R.startContainer,J=R.startOffset;let K=F;Ut(F)&&(J!==F.data.length&&(v=!0),K=K.parentNode);const ie=[];let Ae;for(;K;){if(rh(e,K,n,o,r)){Ae=K;break}K.nextSibling&&(v=!0),ie.push(K),K=K.parentNode}if(Ae)if(v){const Ie=h.getBookmark();R.collapse(!0);let ye=Q1(l,R,A,!0);ye=BE(ye),e.formatter.remove(n,o,ye,r),h.moveToBookmark(Ie)}else{const Ie=yf(e.getBody(),Ae),ye=AI(!1).dom;Sy(e,ye,Ie??Ae);const Oe=rm(e,ye,Ae,n,o,r),ze=av(ie.concat(Oe.toArray()),ye);Ie&&Db(e,Ie,!1),h.setCursorLocation(ze,1),l.isEmpty(Ae)&&l.remove(Ae)}},xV=(e,n)=>{const o=e.selection,r=e.getBody();OI(e,null,!1),(n===8||n===46)&&o.isCollapsed()&&o.getStart().innerHTML===Ib&&OI(e,yf(r,o.getStart())),(n===37||n===39)&&OI(e,yf(r,o.getStart()))},AV=e=>{e.on("mouseup keydown",n=>{xV(e,n.keyCode)})},BC=e=>{const n=AI(!1),o=av(e,n.dom);return{caretContainer:n,caretPosition:Xe(o,0)}},iL=(e,n)=>{const{caretContainer:o,caretPosition:r}=BC(n);return ds(De.fromDom(e),o),Tr(De.fromDom(e)),r},im=(e,n)=>{const{caretContainer:o,caretPosition:r}=BC(n);return e.selection.getRng().insertNode(o.dom),r},$C=(e,n)=>{const o=e.schema.getTextInlineElements();return jn(o,zs(n))&&!Gs(n.dom)&&!sl(n.dom)},II=e=>Gs(e.dom)&&wA(e.dom),xy={},CA=yl(["pre"]),Ay=(e,n)=>{xy[e]||(xy[e]=[]),xy[e].push(n)},DI=(e,n)=>{jn(xy,e)&&pt(xy[e],o=>{o(n)})};Ay("pre",e=>{const n=e.selection.getRng(),o=l=>h=>{const v=h.previousSibling;return CA(v)&&Pn(l,v)},r=(l,h)=>{const v=De.fromDom(h),A=Ot(v).dom;Tr(v),vd(De.fromDom(l),[De.fromTag("br",A),De.fromTag("br",A),...We(v)])};if(!n.collapsed){const l=e.selection.getSelectedBlocks(),h=Bt(Bt(l,CA),o(l));pt(h,v=>{r(v.previousSibling,v)})}});const aL=["fontWeight","fontStyle","color","fontSize","fontFamily"],cL=e=>Ne(e.styles)&&Po(yi(e.styles),n=>Pn(aL,n)),OV=e=>bs(e,n=>wa(n)&&n.inline==="span"&&cL(n)),lL=(e,n)=>{const o=e.get(n);return z(o)?OV(o):se.none()},uL=(e,n)=>fi(n,Xe.fromRangeStart(e)).isNone(),dL=(e,n)=>di(n,Xe.fromRangeEnd(e)).exists(o=>!mr(o.getNode())||di(n,o).isSome())===!1,jE=e=>n=>tf(n)&&e.isEditable(n),RV=e=>{const n=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(n.length===1)return uL(o,n[0])&&dL(o,n[0])?n:[];{const r=Di(n).filter(v=>uL(o,v)).toArray(),l=Yc(n).filter(v=>dL(o,v)).toArray(),h=n.slice(1,-1);return r.concat(h).concat(l)}},fL=e=>Bt(RV(e),jE(e.dom)),SA=e=>Bt(e.getSelectedBlocks(),jE(e.dom)),NI=Te.each,xA=e=>on(e)&&!Ju(e)&&!Gs(e)&&!sl(e),MI=(e,n)=>{for(let o=e;o;o=o[n]){if(Ut(o)&&Ss(o.data))return e;if(on(o)&&!Ju(o))return o}return e},hL=(e,n,o)=>{const r=zE(e),l=on(n)&&tm(n),h=on(o)&&tm(o);if(l&&h){const v=MI(n,"previousSibling"),A=MI(o,"nextSibling");if(r.compare(v,A)){for(let R=v.nextSibling;R&&R!==A;){const F=R;R=R.nextSibling,v.appendChild(F)}return e.dom.remove(A),Te.each(Te.grep(A.childNodes),R=>{v.appendChild(R)}),v}}return o},mL=(e,n,o,r)=>{var l;if(r&&n.merge_siblings!==!1){const h=(l=hL(e,Ox(r),r))!==null&&l!==void 0?l:r;hL(e,h,Ox(h,!0))}},IV=(e,n,o)=>{if(n.clear_child_styles){const r=n.links?"*:not(a)":"*";NI(e.select(r,o),l=>{xA(l)&&tm(l)&&NI(n.styles,(h,v)=>{e.setStyle(l,v,"")})})}},kI=(e,n,o)=>{NI(e.childNodes,r=>{xA(r)&&(n(r)&&o(r),r.hasChildNodes()&&kI(r,n,o))})},DV=(e,n)=>{n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},pL=(e,n)=>o=>!!(o&&EE(e,o,n)),gL=(e,n,o)=>r=>{e.setStyle(r,n,o),r.getAttribute("style")===""&&r.removeAttribute("style"),DV(e,r)},Oy=Qu.generate([{keep:[]},{rename:["name"]},{removed:[]}]),NV=/^(src|href|style)$/,PI=Te.each,AA=BT,MV=e=>/^(TR|TH|TD)$/.test(e.nodeName),vL=(e,n,o)=>e.isChildOf(n,o)&&n!==o&&!e.isBlock(o),LI=(e,n,o)=>{let r=n[o?"startContainer":"endContainer"],l=n[o?"startOffset":"endOffset"];if(on(r)){const h=r.childNodes.length-1;!o&&l&&l--,r=r.childNodes[l>h?h:l]}return Ut(r)&&o&&l>=r.data.length&&(r=new ci(r,e.getBody()).next()||r),Ut(r)&&!o&&l===0&&(r=new ci(r,e.getBody()).prev()||r),r},bL=(e,n)=>{const o=n?"firstChild":"lastChild",r=e[o];return MV(e)&&r?e.nodeName==="TR"&&r[o]||r:e},Nb=(e,n,o,r)=>{var l;const h=e.create(o,r);return(l=n.parentNode)===null||l===void 0||l.insertBefore(h,n),h.appendChild(n),h},yL=(e,n,o,r,l)=>{const h=De.fromDom(n),v=De.fromDom(e.create(r,l)),A=o?Be(h):xe(h);return vd(v,A),o?(ds(h,v),Ul(v,h)):(ol(h,v),wr(v,h)),v.dom},kV=(e,n)=>n.links&&e.nodeName==="A",_L=(e,n,o)=>{const r=n.parentNode;let l;const h=e.dom,v=_u(e);Pr(o)&&r===h.getRoot()&&(!o.list_block||!AA(n,o.list_block))&&pt(br(n.childNodes),A=>{gb(e,v,A.nodeName.toLowerCase())?l?l.appendChild(A):(l=Nb(h,A,v),h.setAttribs(l,gg(e))):l=null}),!(CE(o)&&!AA(o.inline,n))&&h.remove(n,!0)},EL=(e,n,o)=>pn(e)?{name:n,value:null}:{name:e,value:xg(n,o)},BI=(e,n)=>{e.getAttrib(n,"style")===""&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style"))},wL=(e,n,o,r,l)=>{let h=!1;PI(o.styles,(v,A)=>{const{name:R,value:F}=EL(A,v,r),J=$T(F,R);(o.remove_similar||we(F)||!on(l)||AA(EE(e,l,R),J))&&e.setStyle(n,R,""),h=!0}),h&&BI(e,n)},PV=(e,n,o)=>{n==="removeformat"?pt(SA(e.selection),r=>{pt(aL,l=>e.dom.setStyle(r,l,"")),BI(e.dom,r)}):lL(e.formatter,n).each(r=>{pt(SA(e.selection),l=>wL(e.dom,l,r,o,null))})},TL=(e,n,o,r,l)=>{const h=e.dom,v=zE(e),A=e.schema;if(wa(n)&&eg(A,n.inline)&&Wf(A,r)&&r.parentElement===e.getBody())return _L(e,r,n),Oy.removed();if(!n.ceFalseOverride&&r&&h.getContentEditableParent(r)==="false"||r&&!EA(h,r,n)&&!kV(r,n))return Oy.keep();const R=r,F=n.preserve_attributes;if(wa(n)&&n.remove==="all"&&z(F)){const J=Bt(h.getAttribs(R),K=>Pn(F,K.name.toLowerCase()));if(h.removeAllAttribs(R),pt(J,K=>h.setAttrib(R,K.name,K.value)),J.length>0)return Oy.rename("span")}if(n.remove!=="all"){wL(h,R,n,o,l),PI(n.attributes,(K,ie)=>{const{name:Ae,value:Ie}=EL(ie,K,o);if(n.remove_similar||we(Ie)||!on(l)||AA(h.getAttrib(l,Ae),Ie)){if(Ae==="class"){const ye=h.getAttrib(R,Ae);if(ye){let Oe="";if(pt(ye.split(/\s+/),ze=>{/mce\-\w+/.test(ze)&&(Oe+=(Oe?" ":"")+ze)}),Oe){h.setAttrib(R,Ae,Oe);return}}}if(NV.test(Ae)&&R.removeAttribute("data-mce-"+Ae),Ae==="style"&&yl(["li"])(R)&&h.getStyle(R,"list-style-type")==="none"){R.removeAttribute(Ae),h.setStyle(R,"list-style-type","none");return}Ae==="class"&&R.removeAttribute("className"),R.removeAttribute(Ae)}}),PI(n.classes,K=>{K=xg(K,o),(!on(l)||h.hasClass(l,K))&&h.removeClass(R,K)});const J=h.getAttribs(R);for(let K=0;K<J.length;K++){const ie=J[K].nodeName;if(!v.isAttributeInternal(ie))return Oy.keep()}}return n.remove!=="none"?(_L(e,R,n),Oy.removed()):Oy.keep()},FC=(e,n,o,r,l)=>TL(e,n,o,r,l).fold(tt,h=>(e.dom.rename(r,h),!0),Dt),LV=(e,n,o,r,l)=>{let h;return n.parentNode&&pt(wE(e.dom,n.parentNode).reverse(),v=>{if(!h&&on(v)&&v.id!=="_start"&&v.id!=="_end"){const A=rh(e,v,o,r,l);A&&A.split!==!1&&(h=v)}}),h},BV=(e,n,o,r)=>TL(e,n,o,r,r).fold(nt(r),l=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,l)),nt(null)),$V=(e,n,o,r,l,h,v,A)=>{var R,F;let J,K;const ie=e.dom;if(o){const Ae=o.parentNode;for(let Ie=r.parentNode;Ie&&Ie!==Ae;Ie=Ie.parentNode){let ye=ie.clone(Ie,!1);for(let Oe=0;Oe<n.length&&(ye=BV(e,n[Oe],A,ye),ye!==null);Oe++);ye&&(J&&ye.appendChild(J),K||(K=ye),J=ye)}h&&(!v.mixed||!ie.isBlock(o))&&(r=(R=ie.split(o,r))!==null&&R!==void 0?R:r),J&&K&&((F=l.parentNode)===null||F===void 0||F.insertBefore(J,l),K.appendChild(l),wa(v)&&mL(e,v,A,J))}return r},CL=(e,n,o,r,l)=>{const h=e.formatter.get(n),v=h[0],A=e.dom,R=e.selection,F=ye=>{const Oe=LV(e,ye,n,o,l);return $V(e,h,Oe,ye,ye,!0,v,o)},J=ye=>Ju(ye)&&on(ye)&&(ye.id==="_start"||ye.id==="_end"),K=ye=>Po(h,Oe=>FC(e,Oe,o,ye,ye)),ie=ye=>{const Oe=br(ye.childNodes),Fe=K(ye)||Po(h,xt=>EA(A,ye,xt)),Ke=ye.parentNode;if(!Fe&&Pe(Ke)&&SE(v)&&K(Ke),v.deep&&Oe.length)for(let xt=0;xt<Oe.length;xt++)ie(Oe[xt]);pt(["underline","line-through","overline"],xt=>{on(ye)&&e.dom.getStyle(ye,"text-decoration")===xt&&ye.parentNode&&X1(A,ye.parentNode)===xt&&FC(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:xt}},void 0,ye)})},Ae=ye=>{const Oe=A.get(ye?"_start":"_end");if(Oe){let ze=Oe[ye?"firstChild":"lastChild"];return J(ze)&&(ze=ze[ye?"firstChild":"lastChild"]),Ut(ze)&&ze.data.length===0&&(ze=ye?Oe.previousSibling||Oe.nextSibling:Oe.nextSibling||Oe.previousSibling),A.remove(Oe,!0),ze}else return null},Ie=ye=>{let Oe,ze,Fe=Q1(A,ye,h,ye.collapsed);if(v.split){if(Fe=BE(Fe),Oe=LI(e,Fe,!0),ze=LI(e,Fe),Oe!==ze){if(Oe=bL(Oe,!0),ze=bL(ze,!1),vL(A,Oe,ze)){const at=se.from(Oe.firstChild).getOr(Oe);F(yL(A,at,!0,"span",{id:"_start","data-mce-type":"bookmark"})),Ae(!0);return}if(vL(A,ze,Oe)){const at=se.from(ze.lastChild).getOr(ze);F(yL(A,at,!1,"span",{id:"_end","data-mce-type":"bookmark"})),Ae(!1);return}Oe=Nb(A,Oe,"span",{id:"_start","data-mce-type":"bookmark"}),ze=Nb(A,ze,"span",{id:"_end","data-mce-type":"bookmark"});const Ke=A.createRng();Ke.setStartAfter(Oe),Ke.setEndBefore(ze),bb(A,Ke,at=>{pt(at,xt=>{!Ju(xt)&&!Ju(xt.parentNode)&&F(xt)})}),F(Oe),F(ze),Oe=Ae(!0),ze=Ae()}else Oe=ze=F(Oe);Fe.startContainer=Oe.parentNode?Oe.parentNode:Oe,Fe.startOffset=A.nodeIndex(Oe),Fe.endContainer=ze.parentNode?ze.parentNode:ze,Fe.endOffset=A.nodeIndex(ze)+1}bb(A,Fe,Ke=>{pt(Ke,ie)})};if(r){if(iy(r)){const ye=A.createRng();ye.setStartBefore(r),ye.setEndAfter(r),Ie(ye)}else Ie(r);QT(e,n,r,o);return}!R.isCollapsed()||!wa(v)||Y1(e).length?(Sg(e,()=>PT(e,Ie),ye=>wa(v)&&Cp(e,n,o,ye)),e.nodeChanged()):RI(e,n,o,l),PV(e,n,o),QT(e,n,r,o)},SL=Te.each,FV=(e,n,o,r)=>{const l=h=>{if(on(h)&&on(h.parentNode)&&tm(h)){const v=X1(e,h.parentNode);e.getStyle(h,"color")&&v?e.setStyle(h,"text-decoration",v):e.getStyle(h,"text-decoration")===v&&e.setStyle(h,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(Te.walk(r,l,"childNodes"),l(r))},$I=(e,n,o,r)=>{if(n.styles&&n.styles.backgroundColor){const l=pL(e,"fontSize");kI(r,h=>l(h)&&tm(h),gL(e,"backgroundColor",xg(n.styles.backgroundColor,o)))}},xL=(e,n,o,r)=>{if(wa(n)&&(n.inline==="sub"||n.inline==="sup")){const l=pL(e,"fontSize");kI(r,v=>l(v)&&tm(v),gL(e,"fontSize",""));const h=Bt(e.select(n.inline==="sup"?"sub":"sup",r),tm);e.remove(h,!0)}},jY=(e,n,o,r)=>{SL(n,l=>{wa(l)&&SL(e.dom.select(l.inline,r),h=>{xA(h)&&FC(e,l,o,h,l.exact?h:null)}),IV(e.dom,l,r)})},HC=(e,n,o,r,l)=>{const h=l.parentNode;rh(e,h,o,r)&&FC(e,n,r,l)||n.merge_with_parents&&h&&e.dom.getParent(h,v=>rh(e,v,o,r)?(FC(e,n,r,l),!0):!1)},VC=Te.each,zC=(e,n,o,r)=>{if(Y_(e)&&wa(n)&&o.parentNode){const l=uf(e.schema),h=wI(De.fromDom(o),v=>Gs(v.dom));return Ja(l,r)&&Ws(De.fromDom(o.parentNode),!1)&&!h}else return!1},ZE=(e,n,o,r)=>{if(VC(o.styles,(l,h)=>{e.setStyle(n,h,xg(l,r))}),o.styles){const l=e.getAttrib(n,"style");l&&e.setAttrib(n,"data-mce-style",l)}},FI=(e,n,o,r)=>{const l=e.formatter.get(n),h=l[0],v=!r&&e.selection.isCollapsed(),A=e.dom,R=e.selection,F=(Ie,ye=h)=>{Ee(ye.onformat)&&ye.onformat(Ie,ye,o,r),ZE(A,Ie,ye,o),VC(ye.attributes,(Oe,ze)=>{A.setAttrib(Ie,ze,xg(Oe,o))}),VC(ye.classes,Oe=>{const ze=xg(Oe,o);A.hasClass(Ie,ze)||A.addClass(Ie,ze)})},J=(Ie,ye)=>{let Oe=!1;return VC(Ie,ze=>nu(ze)?A.getContentEditable(ye)==="false"&&!ze.ceFalseOverride||Pe(ze.collapsed)&&ze.collapsed!==v?!0:A.is(ye,ze.selector)&&!Gs(ye)?(F(ye,ze),Oe=!0,!1):!0:!1),Oe},K=Ie=>{if(Q(Ie)){const ye=A.create(Ie);return F(ye),ye}else return null},ie=(Ie,ye,Oe)=>{const ze=[];let Fe=!0;const Ke=h.inline||h.block,at=K(Ke),xt=mt=>_f(h)&&rh(e,mt,n,o),sn=(mt,ht,yn)=>{const Bn=Ix(h)&&LT(e.schema,mt)&&gb(e,ht,Ke);return yn&&Bn},Zt=(mt,ht,yn,Bn)=>{const qn=mt.nodeName.toLowerCase(),To=gb(e,Ke,qn)&&gb(e,ht,Ke),Jo=!Oe&&Ut(mt)&&Sv(mt.data),Ns=Gs(mt),cr=!wa(h)||!Ie.isBlock(mt);return(yn||Bn)&&To&&!Jo&&!Ns&&cr};bb(Ie,ye,mt=>{let ht;const yn=Bn=>{let qn=!1,To=Fe,Jo=!1;const Ns=Bn.parentNode,cr=Ns.nodeName.toLowerCase(),Ii=Ie.getContentEditable(Bn);Pe(Ii)&&(To=Fe,Fe=Ii==="true",qn=!0,Jo=Rx(e,Bn));const Pc=Fe&&!qn;if(mr(Bn)&&!zC(e,h,Bn,cr)){ht=null,Pr(h)&&Ie.remove(Bn);return}if(xt(Bn)){ht=null;return}if(sn(Bn,cr,Pc)){const Xa=Ie.rename(Bn,Ke);F(Xa),ze.push(Xa),ht=null;return}if(nu(h)){let Xa=J(l,Bn);if(!Xa&&Pe(Ns)&&SE(h)&&(Xa=J(l,Ns)),!wa(h)||Xa){ht=null;return}}Pe(at)&&Zt(Bn,cr,Pc,Jo)?(ht||(ht=Ie.clone(at,!1),Ns.insertBefore(ht,Bn),ze.push(ht)),Jo&&qn&&(Fe=To),ht.appendChild(Bn)):(ht=null,pt(br(Bn.childNodes),yn),qn&&(Fe=To),ht=null)};pt(mt,yn)}),h.links===!0&&pt(ze,mt=>{const ht=yn=>{yn.nodeName==="A"&&F(yn,h),pt(br(yn.childNodes),ht)};ht(mt)}),pt(ze,mt=>{const ht=qn=>{let To=0;return pt(qn.childNodes,Jo=>{!gR(Jo)&&!Ju(Jo)&&To++}),To},yn=qn=>bs(qn.childNodes,pp).filter(Jo=>Ie.getContentEditable(Jo)!=="false"&&EA(Ie,Jo,h)).map(Jo=>{const Ns=Ie.clone(Jo,!1);return F(Ns),Ie.replace(Ns,qn,!0),Ie.remove(Jo,!0),Ns}).getOr(qn),Bn=ht(mt);if((ze.length>1||!Ie.isBlock(mt))&&Bn===0){Ie.remove(mt,!0);return}(wa(h)||Pr(h)&&h.wrapper)&&(!h.exact&&Bn===1&&(mt=yn(mt)),jY(e,l,o,mt),HC(e,h,n,o,mt),$I(Ie,h,o,mt),FV(Ie,h,o,mt),xL(Ie,h,o,mt),mL(e,h,o,mt))})},Ae=iy(r)?r:R.getNode();if(A.getContentEditable(Ae)==="false"&&!Rx(e,Ae)){r=Ae,J(l,r),XT(e,n,r,o);return}if(h){if(r)if(iy(r)){if(!J(l,r)){const Ie=A.createRng();Ie.setStartBefore(r),Ie.setEndAfter(r),ie(A,Q1(A,Ie,l),!0)}}else ie(A,r,!0);else!v||!wa(h)||Y1(e).length?(R.setRng(MC(R.getRng())),Sg(e,()=>{PT(e,(Ie,ye)=>{const Oe=ye?Ie:Q1(A,Ie,l);ie(A,Oe,!1)})},Dt),e.nodeChanged()):TA(e,n,o),lL(e.formatter,n).each(Ie=>{pt(fL(e.selection),ye=>ZE(A,ye,Ie,o))});DI(n,e)}XT(e,n,r,o)},HV=e=>jn(e,"vars"),VV=(e,n)=>{e.set({}),n.on("NodeChange",o=>{UV(n,o.element,e.get())}),n.on("FormatApply FormatRemove",o=>{const r=se.from(o.node).map(l=>iy(l)?l:l.startContainer).bind(l=>on(l)?se.some(l):se.from(l.parentElement)).getOrThunk(()=>zV(n));UV(n,r,e.get())})},zV=e=>e.selection.getStart(),AL=(e,n,o,r,l)=>Lc(n,A=>{const R=e.formatter.matchNode(A,o,l??{},r);return!dt(R)},A=>TI(e,A,o)?!0:r?!1:Pe(e.formatter.matchNode(A,o,l,!0))),OL=(e,n)=>{const o=n??zV(e);return Bt(wE(e.dom,o),r=>on(r)&&!sl(r))},UV=(e,n,o)=>{const r=OL(e,n);cn(o,(l,h)=>{const v=A=>{const R=AL(e,r,h,A.similar,HV(A)?A.vars:void 0),F=R.isSome();if(A.state.get()!==F){A.state.set(F);const J=R.getOr(n);HV(A)?A.callback(F,{node:J,format:h,parents:r}):pt(A.callbacks,K=>K(F,{node:J,format:h,parents:r}))}};pt([l.withSimilar,l.withoutSimilar],v),pt(l.withVars,v)})},WV=(e,n,o,r,l,h)=>{const v=n.get();pt(o.split(","),A=>{const R=Qs(v,A).getOrThunk(()=>{const J={withSimilar:{state:zi(!1),similar:!0,callbacks:[]},withoutSimilar:{state:zi(!1),similar:!1,callbacks:[]},withVars:[]};return v[A]=J,J}),F=()=>{const J=OL(e);return AL(e,J,A,l,h).isSome()};if(dt(h)){const J=l?R.withSimilar:R.withoutSimilar;J.callbacks.push(r),J.callbacks.length===1&&J.state.set(F())}else R.withVars.push({state:zi(F()),similar:l,vars:h,callback:r})}),n.set(v)},RL=(e,n,o)=>{const r=e.get();pt(n.split(","),l=>Qs(r,l).each(h=>{r[l]={withSimilar:{...h.withSimilar,callbacks:Bt(h.withSimilar.callbacks,v=>v!==o)},withoutSimilar:{...h.withoutSimilar,callbacks:Bt(h.withoutSimilar.callbacks,v=>v!==o)},withVars:Bt(h.withVars,v=>v.callback!==o)}})),e.set(r)},GV=(e,n,o,r,l,h)=>(WV(e,n,o,r,l,h),{unbind:()=>RL(n,o,r)}),IL=(e,n,o,r)=>{const l=e.formatter.get(n);l&&(Cp(e,n,o,r)&&(!("toggle"in l[0])||l[0].toggle)?CL(e,n,o,r):FI(e,n,o,r))},DL=Te.explode,UC=()=>{const e={};return{addFilter:(l,h)=>{pt(DL(l),v=>{jn(e,v)||(e[v]={name:v,callbacks:[]}),e[v].callbacks.push(h)})},getFilters:()=>jd(e),removeFilter:(l,h)=>{pt(DL(l),v=>{if(jn(e,v))if(Pe(h)){const A=e[v],R=Bt(A.callbacks,F=>F!==h);R.length>0?A.callbacks=R:delete e[v]}else delete e[v]})}}},NL=(e,n)=>{pt(n,o=>{e.attr(o,null)})},Ya=(e,n,o)=>{e.addNodeFilter("font",r=>{pt(r,l=>{const h=n.parse(l.attr("style")),v=l.attr("color"),A=l.attr("face"),R=l.attr("size");v&&(h.color=v),A&&(h["font-family"]=A),R&&ld(R).each(F=>{h["font-size"]=o[F-1]}),l.name="span",l.attr("style",n.serialize(h)),NL(l,["color","face","size"])})})},ZY=(e,n,o)=>{e.addNodeFilter("strike",r=>{const l=n.type!=="html4";pt(r,h=>{if(l)h.name="s";else{const v=o.parse(h.attr("style"));v["text-decoration"]="line-through",h.name="span",h.attr("style",o.serialize(v))}})})},YY=(e,n,o)=>{var r;const l=rg();n.convert_fonts_to_spans&&Ya(e,l,Te.explode((r=n.font_size_legacy_values)!==null&&r!==void 0?r:"")),ZY(e,o,l)},KY=(e,n,o)=>{n.inline_styles&&YY(e,n,o)},XY=e=>fetch(e).then(n=>n.ok?n.blob():Promise.reject()).catch(()=>Promise.reject(`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`)),am=e=>{const n=/([a-z0-9+\/=\s]+)/i.exec(e);return n?n[1]:""},YE=e=>{const[n,...o]=e.split(","),r=o.join(","),l=/data:([^/]+\/[^;]+)(;.+)?/.exec(n);if(l){const h=l[2]===";base64",v=h?am(r):decodeURIComponent(r);return se.some({type:l[1],data:v,base64Encoded:h})}else return se.none()},Mb=(e,n,o=!0)=>{let r=n;if(o)try{r=atob(n)}catch{return se.none()}const l=new Uint8Array(r.length);for(let h=0;h<l.length;h++)l[h]=r.charCodeAt(h);return se.some(new Blob([l],{type:e}))},Ry=e=>new Promise((n,o)=>{YE(e).bind(({type:r,data:l,base64Encoded:h})=>Mb(r,l,h)).fold(()=>o("Invalid data URI"),n)}),qV=e=>Ei(e,"blob:")?XY(e):Ei(e,"data:")?Ry(e):Promise.reject("Unknown URI format"),ML=e=>new Promise((n,o)=>{const r=new FileReader;r.onloadend=()=>{n(r.result)},r.onerror=()=>{var l;o((l=r.error)===null||l===void 0?void 0:l.message)},r.readAsDataURL(e)});let KE=0;const XE=e=>(e||"blobid")+KE++,Iy=(e,n,o)=>YE(e).bind(({data:r,type:l,base64Encoded:h})=>{if(n&&!h)return se.none();{const v=h?r:btoa(r);return o(v,l)}}),kL=(e,n,o)=>{const r=e.create(XE(),n,o);return e.add(r),r},OA=(e,n,o=!1)=>Iy(n,o,(r,l)=>se.from(e.getByData(r,l)).orThunk(()=>Mb(l,r).map(h=>kL(e,h,r)))),PL=(e,n)=>{const o=()=>Promise.reject("Invalid data URI");if(Ei(n,"blob:")){const r=e.getByUri(n);return Pe(r)?Promise.resolve(r):qV(n).then(l=>ML(l).then(h=>Iy(h,!1,v=>se.some(kL(e,l,v))).getOrThunk(o)))}else return Ei(n,"data:")?OA(e,n).fold(o,r=>Promise.resolve(r)):Promise.reject("Unknown image data format")},LL=e=>Pe(e.attr("data-mce-bogus")),jV=e=>e.attr("src")===No.transparentSrc||Pe(e.attr("data-mce-placeholder")),ZV=(e,n)=>{const{blob_cache:o}=n;if(o){const r=l=>{const h=l.attr("src");jV(l)||LL(l)||_t(h)||OA(o,h,!0).each(v=>{l.attr("src",v.blobUri())})};e.addAttributeFilter("src",l=>pt(l,r))}},BL=(e,n)=>{const o=e.schema;n.remove_trailing_brs&&e.addNodeFilter("br",(l,h,v)=>{const A=Te.extend({},o.getBlockElements()),R=o.getNonEmptyElements(),F=o.getWhitespaceElements();A.body=1;const J=K=>K.name in A&&Hm(o,K);for(let K=0,ie=l.length;K<ie;K++){let Ae=l[K],Ie=Ae.parent;if(Ie&&A[Ie.name]&&Ae===Ie.lastChild){let ye=Ae.prev;for(;ye;){const Oe=ye.name;if(Oe!=="span"||ye.attr("data-mce-type")!=="bookmark"){Oe==="br"&&(Ae=null);break}ye=ye.prev}if(Ae&&(Ae.remove(),GE(o,R,F,Ie))){const Oe=o.getElementRule(Ie.name);Oe&&(Oe.removeEmpty?Ie.remove():Oe.paddEmpty&&NC(v,J,Ie))}}else{let ye=Ae;for(;Ie&&Ie.firstChild===ye&&Ie.lastChild===ye&&(ye=Ie,!A[Ie.name]);)Ie=Ie.parent;if(ye===Ie){const Oe=new ed("#text",3);Oe.value=_s,Ae.replace(Oe)}}}}),e.addAttributeFilter("href",l=>{let h=l.length;const v=R=>R.split(" ").filter(J=>J.length>0).concat(["noopener"]).sort().join(" "),A=R=>{const F=R?Te.trim(R):"";return/\b(noopener)\b/g.test(F)?F:v(F)};if(!n.allow_unsafe_link_target)for(;h--;){const R=l[h];R.name==="a"&&R.attr("target")==="_blank"&&R.attr("rel",A(R.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",l=>{let h=l.length,v,A,R,F;for(;h--;)if(F=l[h],F.name==="a"&&F.firstChild&&!F.attr("href"))for(R=F.parent,v=F.lastChild;v&&R;)A=v.prev,R.insert(v,F),v=A}),n.fix_list_elements&&e.addNodeFilter("ul,ol",l=>{let h=l.length,v,A;for(;h--;)if(v=l[h],A=v.parent,A&&(A.name==="ul"||A.name==="ol"))if(v.prev&&v.prev.name==="li")v.prev.append(v);else{const R=new ed("li",1);R.attr("style","list-style-type: none"),v.wrap(R)}});const r=o.getValidClasses();n.validate&&r&&e.addAttributeFilter("class",l=>{var h;let v=l.length;for(;v--;){const A=l[v],R=(h=A.attr("class"))!==null&&h!==void 0?h:"",F=Te.explode(R," ");let J="";for(let K=0;K<F.length;K++){const ie=F[K];let Ae=!1,Ie=r["*"];Ie&&Ie[ie]&&(Ae=!0),Ie=r[A.name],!Ae&&Ie&&Ie[ie]&&(Ae=!0),Ae&&(J&&(J+=" "),J+=ie)}J.length||(J=null),A.attr("class",J)}}),ZV(e,n)};function Dy(e){return Dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Dy(e)}function HI(e,n){return HI=Object.setPrototypeOf||function(r,l){return r.__proto__=l,r},HI(e,n)}function YV(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function RA(e,n,o){return YV()?RA=Reflect.construct:RA=function(l,h,v){var A=[null];A.push.apply(A,h);var R=Function.bind.apply(l,A),F=new R;return v&&HI(F,v.prototype),F},RA.apply(null,arguments)}function Sp(e){return $L(e)||KV(e)||WC(e)||XV()}function $L(e){if(Array.isArray(e))return IA(e)}function KV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function WC(e,n){if(e){if(typeof e=="string")return IA(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);if(o==="Object"&&e.constructor&&(o=e.constructor.name),o==="Map"||o==="Set")return Array.from(e);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return IA(e,n)}}function IA(e,n){(n==null||n>e.length)&&(n=e.length);for(var o=0,r=new Array(n);o<n;o++)r[o]=e[o];return r}function XV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var FL=Object.hasOwnProperty,HL=Object.setPrototypeOf,VL=Object.isFrozen,QV=Object.getPrototypeOf,JV=Object.getOwnPropertyDescriptor,td=Object.freeze,xp=Object.seal,zL=Object.create,VI=typeof Reflect<"u"&&Reflect,GC=VI.apply,DA=VI.construct;GC||(GC=function(n,o,r){return n.apply(o,r)}),td||(td=function(n){return n}),xp||(xp=function(n){return n}),DA||(DA=function(n,o){return RA(n,Sp(o))});var e8=ou(Array.prototype.forEach),t8=ou(Array.prototype.pop),qC=ou(Array.prototype.push),QE=ou(String.prototype.toLowerCase),jC=ou(String.prototype.match),cv=ou(String.prototype.replace),UL=ou(String.prototype.indexOf),NA=ou(String.prototype.trim),Pd=ou(RegExp.prototype.test),zI=UI(TypeError);function ou(e){return function(n){for(var o=arguments.length,r=new Array(o>1?o-1:0),l=1;l<o;l++)r[l-1]=arguments[l];return GC(e,n,r)}}function UI(e){return function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return DA(e,o)}}function nr(e,n){HL&&HL(e,null);for(var o=n.length;o--;){var r=n[o];if(typeof r=="string"){var l=QE(r);l!==r&&(VL(n)||(n[o]=l),r=l)}e[r]=!0}return e}function Ap(e){var n=zL(null),o;for(o in e)GC(FL,e,[o])&&(n[o]=e[o]);return n}function ZC(e,n){for(;e!==null;){var o=JV(e,n);if(o){if(o.get)return ou(o.get);if(typeof o.value=="function")return ou(o.value)}e=QV(e)}function r(l){return console.warn("fallback value for",l),null}return r}var MA=td(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),kA=td(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),PA=td(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),n8=td(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),WI=td(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),o8=td(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),LA=td(["#text"]),WL=td(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),BA=td(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),GL=td(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),$A=td(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),s8=xp(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Ny=xp(/<%[\w\W]*|[\w\W]*%>/gm),qL=xp(/^data-[\-\w.\u00B7-\uFFFF]/),r8=xp(/^aria-[\-\w]+$/),jL=xp(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),i8=xp(/^(?:\w+script|data):/i),ZL=xp(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),YC=xp(/^html$/i),GI=function(){return typeof window>"u"?null:window},a8=function(n,o){if(Dy(n)!=="object"||typeof n.createPolicy!="function")return null;var r=null,l="data-tt-policy-suffix";o.currentScript&&o.currentScript.hasAttribute(l)&&(r=o.currentScript.getAttribute(l));var h="dompurify"+(r?"#"+r:"");try{return n.createPolicy(h,{createHTML:function(A){return A}})}catch{return console.warn("TrustedTypes policy "+h+" could not be created."),null}};function qI(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:GI(),n=function(bt){return qI(bt)};if(n.version="2.3.8",n.removed=[],!e||!e.document||e.document.nodeType!==9)return n.isSupported=!1,n;var o=e.document,r=e.document,l=e.DocumentFragment,h=e.HTMLTemplateElement,v=e.Node,A=e.Element,R=e.NodeFilter,F=e.NamedNodeMap,J=F===void 0?e.NamedNodeMap||e.MozNamedAttrMap:F,K=e.HTMLFormElement,ie=e.DOMParser,Ae=e.trustedTypes,Ie=A.prototype,ye=ZC(Ie,"cloneNode"),Oe=ZC(Ie,"nextSibling"),ze=ZC(Ie,"childNodes"),Fe=ZC(Ie,"parentNode");if(typeof h=="function"){var Ke=r.createElement("template");Ke.content&&Ke.content.ownerDocument&&(r=Ke.content.ownerDocument)}var at=a8(Ae,o),xt=at?at.createHTML(""):"",sn=r,Zt=sn.implementation,mt=sn.createNodeIterator,ht=sn.createDocumentFragment,yn=sn.getElementsByTagName,Bn=o.importNode,qn={};try{qn=Ap(r).documentMode?r.documentMode:{}}catch{}var To={};n.isSupported=typeof Fe=="function"&&Zt&&typeof Zt.createHTMLDocument<"u"&&qn!==9;var Jo=s8,Ns=Ny,cr=qL,Ii=r8,Pc=i8,Xa=ZL,qt=jL,In=null,ms=nr({},[].concat(Sp(MA),Sp(kA),Sp(PA),Sp(WI),Sp(LA))),dn=null,zn=nr({},[].concat(Sp(WL),Sp(BA),Sp(GL),Sp($A))),Wn=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),mn=null,Go=null,qo=!0,gc=!0,zr=!1,go=!1,gs=!1,Xs=!1,lr=!1,pi=!1,Yi=!1,jr=!1,Ta=!0,lh=!0,dl=!1,Dp={},Hd=null,Jy=nr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),e_=null,Np=nr({},["audio","video","img","source","image","track"]),vm=null,Fa=nr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),uh="http://www.w3.org/1998/Math/MathML",Mp="http://www.w3.org/2000/svg",su="http://www.w3.org/1999/xhtml",dh=su,qg=!1,kl,pv=["application/xhtml+xml","text/html"],kp="text/html",Vd,jg=null,jS=r.createElement("form"),wO=function(bt){return bt instanceof RegExp||bt instanceof Function},ZS=function(bt){jg&&jg===bt||((!bt||Dy(bt)!=="object")&&(bt={}),bt=Ap(bt),In="ALLOWED_TAGS"in bt?nr({},bt.ALLOWED_TAGS):ms,dn="ALLOWED_ATTR"in bt?nr({},bt.ALLOWED_ATTR):zn,vm="ADD_URI_SAFE_ATTR"in bt?nr(Ap(Fa),bt.ADD_URI_SAFE_ATTR):Fa,e_="ADD_DATA_URI_TAGS"in bt?nr(Ap(Np),bt.ADD_DATA_URI_TAGS):Np,Hd="FORBID_CONTENTS"in bt?nr({},bt.FORBID_CONTENTS):Jy,mn="FORBID_TAGS"in bt?nr({},bt.FORBID_TAGS):{},Go="FORBID_ATTR"in bt?nr({},bt.FORBID_ATTR):{},Dp="USE_PROFILES"in bt?bt.USE_PROFILES:!1,qo=bt.ALLOW_ARIA_ATTR!==!1,gc=bt.ALLOW_DATA_ATTR!==!1,zr=bt.ALLOW_UNKNOWN_PROTOCOLS||!1,go=bt.SAFE_FOR_TEMPLATES||!1,gs=bt.WHOLE_DOCUMENT||!1,pi=bt.RETURN_DOM||!1,Yi=bt.RETURN_DOM_FRAGMENT||!1,jr=bt.RETURN_TRUSTED_TYPE||!1,lr=bt.FORCE_BODY||!1,Ta=bt.SANITIZE_DOM!==!1,lh=bt.KEEP_CONTENT!==!1,dl=bt.IN_PLACE||!1,qt=bt.ALLOWED_URI_REGEXP||qt,dh=bt.NAMESPACE||su,bt.CUSTOM_ELEMENT_HANDLING&&wO(bt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Wn.tagNameCheck=bt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),bt.CUSTOM_ELEMENT_HANDLING&&wO(bt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Wn.attributeNameCheck=bt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),bt.CUSTOM_ELEMENT_HANDLING&&typeof bt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Wn.allowCustomizedBuiltInElements=bt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),kl=pv.indexOf(bt.PARSER_MEDIA_TYPE)===-1?kl=kp:kl=bt.PARSER_MEDIA_TYPE,Vd=kl==="application/xhtml+xml"?function(Rn){return Rn}:QE,go&&(gc=!1),Yi&&(pi=!0),Dp&&(In=nr({},Sp(LA)),dn=[],Dp.html===!0&&(nr(In,MA),nr(dn,WL)),Dp.svg===!0&&(nr(In,kA),nr(dn,BA),nr(dn,$A)),Dp.svgFilters===!0&&(nr(In,PA),nr(dn,BA),nr(dn,$A)),Dp.mathMl===!0&&(nr(In,WI),nr(dn,GL),nr(dn,$A))),bt.ADD_TAGS&&(In===ms&&(In=Ap(In)),nr(In,bt.ADD_TAGS)),bt.ADD_ATTR&&(dn===zn&&(dn=Ap(dn)),nr(dn,bt.ADD_ATTR)),bt.ADD_URI_SAFE_ATTR&&nr(vm,bt.ADD_URI_SAFE_ATTR),bt.FORBID_CONTENTS&&(Hd===Jy&&(Hd=Ap(Hd)),nr(Hd,bt.FORBID_CONTENTS)),lh&&(In["#text"]=!0),gs&&nr(In,["html","head","body"]),In.table&&(nr(In,["tbody"]),delete mn.tbody),td&&td(bt),jg=bt)},LM=nr({},["mi","mo","mn","ms","mtext"]),YS=nr({},["foreignobject","desc","title","annotation-xml"]),BM=nr({},["title","style","font","a","script"]),bm=nr({},kA);nr(bm,PA),nr(bm,n8);var t_=nr({},WI);nr(t_,o8);var ct=function(bt){var Rn=Fe(bt);(!Rn||!Rn.tagName)&&(Rn={namespaceURI:su,tagName:"template"});var ao=QE(bt.tagName),Ki=QE(Rn.tagName);return bt.namespaceURI===Mp?Rn.namespaceURI===su?ao==="svg":Rn.namespaceURI===uh?ao==="svg"&&(Ki==="annotation-xml"||LM[Ki]):!!bm[ao]:bt.namespaceURI===uh?Rn.namespaceURI===su?ao==="math":Rn.namespaceURI===Mp?ao==="math"&&YS[Ki]:!!t_[ao]:bt.namespaceURI===su?Rn.namespaceURI===Mp&&!YS[Ki]||Rn.namespaceURI===uh&&!LM[Ki]?!1:!t_[ao]&&(BM[ao]||!bm[ao]):!1},lt=function(bt){qC(n.removed,{element:bt});try{bt.parentNode.removeChild(bt)}catch{try{bt.outerHTML=xt}catch{bt.remove()}}},Yt=function(bt,Rn){try{qC(n.removed,{attribute:Rn.getAttributeNode(bt),from:Rn})}catch{qC(n.removed,{attribute:null,from:Rn})}if(Rn.removeAttribute(bt),bt==="is"&&!dn[bt])if(pi||Yi)try{lt(Rn)}catch{}else try{Rn.setAttribute(bt,"")}catch{}},Wt=function(bt){var Rn,ao;if(lr)bt="<remove></remove>"+bt;else{var Ki=jC(bt,/^[\r\n\t ]+/);ao=Ki&&Ki[0]}kl==="application/xhtml+xml"&&(bt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+bt+"</body></html>");var If=at?at.createHTML(bt):bt;if(dh===su)try{Rn=new ie().parseFromString(If,kl)}catch{}if(!Rn||!Rn.documentElement){Rn=Zt.createDocument(dh,"template",null);try{Rn.documentElement.innerHTML=qg?"":If}catch{}}var sd=Rn.body||Rn.documentElement;return bt&&ao&&sd.insertBefore(r.createTextNode(ao),sd.childNodes[0]||null),dh===su?yn.call(Rn,gs?"html":"body")[0]:gs?Rn.documentElement:sd},Vn=function(bt){return mt.call(bt.ownerDocument||bt,bt,R.SHOW_ELEMENT|R.SHOW_COMMENT|R.SHOW_TEXT,null,!1)},jo=function(bt){return bt instanceof K&&(typeof bt.nodeName!="string"||typeof bt.textContent!="string"||typeof bt.removeChild!="function"||!(bt.attributes instanceof J)||typeof bt.removeAttribute!="function"||typeof bt.setAttribute!="function"||typeof bt.namespaceURI!="string"||typeof bt.insertBefore!="function")},vr=function(bt){return Dy(v)==="object"?bt instanceof v:bt&&Dy(bt)==="object"&&typeof bt.nodeType=="number"&&typeof bt.nodeName=="string"},Lr=function(bt,Rn,ao){To[bt]&&e8(To[bt],function(Ki){Ki.call(n,Rn,ao,jg)})},Zg=function(bt){var Rn;if(Lr("beforeSanitizeElements",bt,null),jo(bt)||Pd(/[\u0080-\uFFFF]/,bt.nodeName))return lt(bt),!0;var ao=Vd(bt.nodeName);if(Lr("uponSanitizeElement",bt,{tagName:ao,allowedTags:In}),bt.hasChildNodes()&&!vr(bt.firstElementChild)&&(!vr(bt.content)||!vr(bt.content.firstElementChild))&&Pd(/<[/\w]/g,bt.innerHTML)&&Pd(/<[/\w]/g,bt.textContent)||ao==="select"&&Pd(/<template/i,bt.innerHTML))return lt(bt),!0;if(!In[ao]||mn[ao]){if(!mn[ao]&&D5(ao)&&(Wn.tagNameCheck instanceof RegExp&&Pd(Wn.tagNameCheck,ao)||Wn.tagNameCheck instanceof Function&&Wn.tagNameCheck(ao)))return!1;if(lh&&!Hd[ao]){var Ki=Fe(bt)||bt.parentNode,If=ze(bt)||bt.childNodes;if(If&&Ki)for(var sd=If.length,ni=sd-1;ni>=0;--ni)Ki.insertBefore(ye(If[ni],!0),Oe(bt))}return lt(bt),!0}return bt instanceof A&&!ct(bt)||(ao==="noscript"||ao==="noembed")&&Pd(/<\/no(script|embed)/i,bt.innerHTML)?(lt(bt),!0):(go&&bt.nodeType===3&&(Rn=bt.textContent,Rn=cv(Rn,Jo," "),Rn=cv(Rn,Ns," "),bt.textContent!==Rn&&(qC(n.removed,{element:bt.cloneNode()}),bt.textContent=Rn)),Lr("afterSanitizeElements",bt,null),!1)},zd=function(bt,Rn,ao){if(Ta&&(Rn==="id"||Rn==="name")&&(ao in r||ao in jS))return!1;if(!(gc&&!Go[Rn]&&Pd(cr,Rn))){if(!(qo&&Pd(Ii,Rn))){if(!dn[Rn]||Go[Rn]){if(!(D5(bt)&&(Wn.tagNameCheck instanceof RegExp&&Pd(Wn.tagNameCheck,bt)||Wn.tagNameCheck instanceof Function&&Wn.tagNameCheck(bt))&&(Wn.attributeNameCheck instanceof RegExp&&Pd(Wn.attributeNameCheck,Rn)||Wn.attributeNameCheck instanceof Function&&Wn.attributeNameCheck(Rn))||Rn==="is"&&Wn.allowCustomizedBuiltInElements&&(Wn.tagNameCheck instanceof RegExp&&Pd(Wn.tagNameCheck,ao)||Wn.tagNameCheck instanceof Function&&Wn.tagNameCheck(ao))))return!1}else if(!vm[Rn]){if(!Pd(qt,cv(ao,Xa,""))){if(!((Rn==="src"||Rn==="xlink:href"||Rn==="href")&&bt!=="script"&&UL(ao,"data:")===0&&e_[bt])){if(!(zr&&!Pd(Pc,cv(ao,Xa,"")))){if(ao)return!1}}}}}}return!0},D5=function(bt){return bt.indexOf("-")>0},N5=function(bt){var Rn,ao,Ki,If;Lr("beforeSanitizeAttributes",bt,null);var sd=bt.attributes;if(sd){var ni={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:dn};for(If=sd.length;If--;){Rn=sd[If];var fh=Rn,Au=fh.name,$M=fh.namespaceURI;ao=Au==="value"?Rn.value:NA(Rn.value),Ki=Vd(Au);var TO=ao;if(ni.attrName=Ki,ni.attrValue=ao,ni.keepAttr=!0,ni.forceKeepAttr=void 0,Lr("uponSanitizeAttribute",bt,ni),ao=ni.attrValue,!ni.forceKeepAttr){if(!ni.keepAttr){Yt(Au,bt);continue}if(Pd(/\/>/i,ao)){Yt(Au,bt);continue}go&&(ao=cv(ao,Jo," "),ao=cv(ao,Ns," "));var FM=Vd(bt.nodeName);if(!zd(FM,Ki,ao)){Yt(Au,bt);continue}if(ao!==TO)try{$M?bt.setAttributeNS($M,Au,ao):bt.setAttribute(Au,ao)}catch{Yt(Au,bt)}}}Lr("afterSanitizeAttributes",bt,null)}},Mj=function Ao(bt){var Rn,ao=Vn(bt);for(Lr("beforeSanitizeShadowDOM",bt,null);Rn=ao.nextNode();)Lr("uponSanitizeShadowNode",Rn,null),!Zg(Rn)&&(Rn.content instanceof l&&Ao(Rn.content),N5(Rn));Lr("afterSanitizeShadowDOM",bt,null)};return n.sanitize=function(Ao,bt){var Rn,ao,Ki,If,sd;if(qg=!Ao,qg&&(Ao="<!-->"),typeof Ao!="string"&&!vr(Ao)){if(typeof Ao.toString!="function")throw zI("toString is not a function");if(Ao=Ao.toString(),typeof Ao!="string")throw zI("dirty is not a string, aborting")}if(!n.isSupported){if(Dy(e.toStaticHTML)==="object"||typeof e.toStaticHTML=="function"){if(typeof Ao=="string")return e.toStaticHTML(Ao);if(vr(Ao))return e.toStaticHTML(Ao.outerHTML)}return Ao}if(Xs||ZS(bt),n.removed=[],typeof Ao=="string"&&(dl=!1),dl){if(Ao.nodeName){var ni=Vd(Ao.nodeName);if(!In[ni]||mn[ni])throw zI("root node is forbidden and cannot be sanitized in-place")}}else if(Ao instanceof v)Rn=Wt("<!---->"),ao=Rn.ownerDocument.importNode(Ao,!0),ao.nodeType===1&&ao.nodeName==="BODY"||ao.nodeName==="HTML"?Rn=ao:Rn.appendChild(ao);else{if(!pi&&!go&&!gs&&Ao.indexOf("<")===-1)return at&&jr?at.createHTML(Ao):Ao;if(Rn=Wt(Ao),!Rn)return pi?null:jr?xt:""}Rn&&lr&&lt(Rn.firstChild);for(var fh=Vn(dl?Ao:Rn);Ki=fh.nextNode();)Ki.nodeType===3&&Ki===If||Zg(Ki)||(Ki.content instanceof l&&Mj(Ki.content),N5(Ki),If=Ki);if(If=null,dl)return Ao;if(pi){if(Yi)for(sd=ht.call(Rn.ownerDocument);Rn.firstChild;)sd.appendChild(Rn.firstChild);else sd=Rn;return dn.shadowroot&&(sd=Bn.call(o,sd,!0)),sd}var Au=gs?Rn.outerHTML:Rn.innerHTML;return gs&&In["!doctype"]&&Rn.ownerDocument&&Rn.ownerDocument.doctype&&Rn.ownerDocument.doctype.name&&Pd(YC,Rn.ownerDocument.doctype.name)&&(Au="<!DOCTYPE "+Rn.ownerDocument.doctype.name+`>
`+Au),go&&(Au=cv(Au,Jo," "),Au=cv(Au,Ns," ")),at&&jr?at.createHTML(Au):Au},n.setConfig=function(Ao){ZS(Ao),Xs=!0},n.clearConfig=function(){jg=null,Xs=!1},n.isValidAttribute=function(Ao,bt,Rn){jg||ZS({});var ao=Vd(Ao),Ki=Vd(bt);return zd(ao,Ki,Rn)},n.addHook=function(Ao,bt){typeof bt=="function"&&(To[Ao]=To[Ao]||[],qC(To[Ao],bt))},n.removeHook=function(Ao){if(To[Ao])return t8(To[Ao])},n.removeHooks=function(Ao){To[Ao]&&(To[Ao]=[])},n.removeAllHooks=function(){To={}},n}var c8=qI();const FA=Te.each,jI=Te.trim,ZI=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],YL={ftp:21,http:80,https:443,mailto:25},KL=["img","video"],l8=(e,n)=>Pe(e)?!e:Pe(n)?!Pn(KL,n):!0,Ng=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},HA=(e,n,o)=>{const r=Ng(n).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(r)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(r)?l8(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)};class Op{constructor(n,o={}){this.path="",this.directory="",n=jI(n),this.settings=o;const r=o.base_uri,l=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){l.source=n;return}const h=n.indexOf("//")===0;if(n.indexOf("/")===0&&!h&&(n=(r&&r.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){const A=r?r.path:new Op(document.location.href).directory;if((r==null?void 0:r.protocol)==="")n="//mce_host"+l.toAbsPath(A,n);else{const R=/([^#?]*)([#?]?.*)/.exec(n);R&&(n=(r&&r.protocol||"http")+"://mce_host"+l.toAbsPath(A,R[1])+R[2])}}n=n.replace(/@@/g,"(mce_at)");const v=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);v&&FA(ZI,(A,R)=>{let F=v[R];F&&(F=F.replace(/\(mce_at\)/g,"@@")),l[A]=F}),r&&(l.protocol||(l.protocol=r.protocol),l.userInfo||(l.userInfo=r.userInfo),!l.port&&l.host==="mce_host"&&(l.port=r.port),(!l.host||l.host==="mce_host")&&(l.host=r.host),l.source=""),h&&(l.protocol="")}static parseDataUri(n){let o;const r=decodeURIComponent(n).split(","),l=/data:([^;]+)/.exec(r[0]);return l&&(o=l[1]),{type:o,data:r[1]}}static isDomSafe(n,o,r={}){if(r.allow_script_urls)return!0;{const l=lf.decode(n).replace(/[\s\u0000-\u001F]+/g,"");return!HA(r,l,o)}}static getDocumentBaseUrl(n){var o;let r;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?r=(o=n.href)!==null&&o!==void 0?o:"":r=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r}setPath(n){const o=/^(.*?)\/?(\w+)?$/.exec(n);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(n){if(n==="./")return n;const o=new Op(n,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const r=this.getURI(),l=o.getURI();if(r===l||r.charAt(r.length-1)==="/"&&r.substr(0,r.length-1)===l)return r;let h=this.toRelPath(this.path,o.path);return o.query&&(h+="?"+o.query),o.anchor&&(h+="#"+o.anchor),h}toAbsolute(n,o){const r=new Op(n,{base_uri:this});return r.getURI(o&&this.isSameOrigin(r))}isSameOrigin(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;const o=this.protocol?YL[this.protocol]:null;if(o&&(this.port||o)==(n.port||o))return!0}return!1}toRelPath(n,o){let r=0,l="",h,v;const A=n.substring(0,n.lastIndexOf("/")).split("/"),R=o.split("/");if(A.length>=R.length){for(h=0,v=A.length;h<v;h++)if(h>=R.length||A[h]!==R[h]){r=h+1;break}}if(A.length<R.length){for(h=0,v=R.length;h<v;h++)if(h>=A.length||A[h]!==R[h]){r=h+1;break}}if(r===1)return o;for(h=0,v=A.length-(r-1);h<v;h++)l+="../";for(h=r-1,v=R.length;h<v;h++)h!==r-1?l+="/"+R[h]:l+=R[h];return l}toAbsPath(n,o){let r=0;const l=/\/$/.test(o)?"/":"",h=n.split("/"),v=o.split("/"),A=[];FA(h,K=>{K&&A.push(K)});const R=[];for(let K=v.length-1;K>=0;K--)if(!(v[K].length===0||v[K]===".")){if(v[K]===".."){r++;continue}if(r>0){r--;continue}R.push(v[K])}const F=A.length-r;let J;return F<=0?J=Rs(R).join("/"):J=A.slice(0,F).join("/")+"/"+Rs(R).join("/"),J.indexOf("/")!==0&&(J="/"+J),l&&J.lastIndexOf("/")!==J.length-1&&(J+=l),J}getURI(n=!1){let o;return(!this.source||n)&&(o="",n||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const u8=Te.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),VA="data-mce-type";let YI=0;const JE=(e,n,o,r)=>{var l,h,v,A;const R=n.validate,F=o.getSpecialElements();e.nodeType===to&&!n.allow_conditional_comments&&/^\[if/i.test((l=e.nodeValue)!==null&&l!==void 0?l:"")&&(e.nodeValue=" "+e.nodeValue);const J=(h=r==null?void 0:r.tagName)!==null&&h!==void 0?h:e.nodeName.toLowerCase();if(e.nodeType!==Er||J==="body")return;const K=De.fromDom(e),ie=ea(K,VA),Ae=Li(K,"data-mce-bogus");if(!ie&&Q(Ae)){Ae==="all"?Tr(K):Ua(K);return}const Ie=o.getElementRule(J);if(R&&!Ie){jn(F,J)?Tr(K):Ua(K);return}else Pe(r)&&(r.allowedTags[J]=!0);if(R&&Ie&&!ie){if(pt((v=Ie.attributesForced)!==null&&v!==void 0?v:[],ye=>{mo(K,ye.name,ye.value==="{$uid}"?`mce_${YI++}`:ye.value)}),pt((A=Ie.attributesDefault)!==null&&A!==void 0?A:[],ye=>{ea(K,ye.name)||mo(K,ye.name,ye.value==="{$uid}"?`mce_${YI++}`:ye.value)}),Ie.attributesRequired&&!Po(Ie.attributesRequired,ye=>ea(K,ye))){Ua(K);return}if(Ie.removeEmptyAttrs&&Va(K)){Ua(K);return}Ie.outputName&&Ie.outputName!==J&&Kw(K,Ie.outputName)}},XL=(e,n,o,r,l)=>!(r in u8&&HA(e,l,o))&&(!e.validate||n.isValid(o,r)||Ei(r,"data-")||Ei(r,"aria-")),QL=(e,n)=>e.hasAttribute(VA)&&(n==="id"||n==="class"||n==="style"),JL=(e,n)=>e in n.getBoolAttrs(),d8=(e,n,o)=>{const{attributes:r}=e;for(let l=r.length-1;l>=0;l--){const h=r[l],v=h.name,A=h.value;!XL(n,o,e.tagName.toLowerCase(),v,A)&&!QL(e,v)?e.removeAttribute(v):JL(v,o)&&e.setAttribute(v,v)}},f8=(e,n)=>{const o=c8();return o.addHook("uponSanitizeElement",(r,l)=>{JE(r,e,n,l)}),o.addHook("uponSanitizeAttribute",(r,l)=>{const h=r.tagName.toLowerCase(),{attrName:v,attrValue:A}=l;l.keepAttr=XL(e,n,h,v,A),l.keepAttr?(l.allowedAttributes[v]=!0,JL(v,n)&&(l.attrValue=v),e.allow_svg_data_urls&&Ei(A,"data:image/svg+xml")&&(l.forceKeepAttr=!0)):QL(r,v)&&(l.forceKeepAttr=!0)}),o},e4=(e,n)=>{const r={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return r.PARSER_MEDIA_TYPE=n,e.allow_script_urls?r.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(r.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),r},h8=(e,n)=>{if(e.sanitize){const o=f8(e,n);return(r,l)=>{o.sanitize(r,e4(e,l)),o.removed=[]}}else return(o,r)=>{const l=document.createNodeIterator(o,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let h;for(;h=l.nextNode();)JE(h,e,n),on(h)&&d8(h,e,n)}},t4=Te.makeMap,n4=Te.extend,KI=(e,n,o)=>{const r=e.name,l=r in o&&r!=="title"&&r!=="textarea",h=n.childNodes;for(let v=0,A=h.length;v<A;v++){const R=h[v],F=new ed(R.nodeName.toLowerCase(),R.nodeType);if(on(R)){const J=R.attributes;for(let K=0,ie=J.length;K<ie;K++){const Ae=J[K];F.attr(Ae.name,Ae.value)}}else Ut(R)?(F.value=R.data,l&&(F.raw=!0)):(Ga(R)||o0(R)||Mm(R))&&(F.value=R.data);KI(F,R,o),e.append(F)}},XI=(e,n,o)=>{const r=[];for(let l=e,h=l;l;h=l,l=l.walk()){const v=l;pt(n,A=>A(v)),_t(v.parent)&&v!==e?l=h:r.push(v)}for(let l=r.length-1;l>=0;l--){const h=r[l];pt(o,v=>v(h))}},o4=(e,n,o,r)=>{const l=o.validate,h=n.getNonEmptyElements(),v=n.getWhitespaceElements(),A=n4(t4("script,style,head,html,body,title,meta,param"),n.getBlockElements()),R=uf(n),F=/[ \t\r\n]+/g,J=/^[ \t\r\n]+/,K=/[ \t\r\n]+$/,ie=Fe=>{let Ke=Fe.parent;for(;Pe(Ke);){if(Ke.name in v)return!0;Ke=Ke.parent}return!1},Ae=Fe=>{let Ke=Fe;for(;Pe(Ke);){if(Ke.name in R)return GE(n,h,v,Ke);Ke=Ke.parent}return!1},Ie=Fe=>Fe.name in A&&!Hm(n,Fe),ye=(Fe,Ke)=>{const at=Ke?Fe.prev:Fe.next;return Pe(at)||_t(Fe.parent)?!1:Ie(Fe.parent)&&(Fe.parent!==e||r.isRootContent===!0)};return[Fe=>{var Ke;if(Fe.type===3&&!ie(Fe)){let at=(Ke=Fe.value)!==null&&Ke!==void 0?Ke:"";at=at.replace(F," "),(aV(Fe.prev,Ie)||ye(Fe,!0))&&(at=at.replace(J,"")),at.length===0?Fe.remove():Fe.value=at}},Fe=>{var Ke;if(Fe.type===1){const at=n.getElementRule(Fe.name);if(l&&at){const xt=GE(n,h,v,Fe);at.paddInEmptyBlock&&xt&&Ae(Fe)?NC(r,Ie,Fe):at.removeEmpty&&xt?Ie(Fe)?Fe.remove():Fe.unwrap():at.paddEmpty&&(xt||mI(Fe))&&NC(r,Ie,Fe)}}else if(Fe.type===3&&!ie(Fe)){let at=(Ke=Fe.value)!==null&&Ke!==void 0?Ke:"";(Fe.next&&Ie(Fe.next)||ye(Fe,!1))&&(at=at.replace(K,"")),at.length===0?Fe.remove():Fe.value=at}}]},s4=(e,n)=>{var o;const r=(o=n.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return r===!1?"":r===!0?"p":r},kb=(e={},n=Kl())=>{const o=UC(),r=UC(),l={validate:!0,root_name:"body",sanitize:!0,...e},h=new DOMParser,v=h8(l,n),A=(Ke,at,xt="html")=>{const sn=xt==="xhtml"?"application/xhtml+xml":"text/html",Zt=jn(n.getSpecialElements(),at.toLowerCase()),mt=Zt?`<${at}>${Ke}</${at}>`:Ke,ht=xt==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${mt}</body></html>`:`<body>${mt}</body>`,yn=h.parseFromString(ht,sn).body;return v(yn,sn),Zt?yn.firstChild:yn},R=o.addFilter,F=o.getFilters,J=o.removeFilter,K=r.addFilter,ie=r.getFilters,Ae=r.removeFilter,Ie=(Ke,at)=>{VP(n,Ke)&&at.push(Ke)},ye=(Ke,at)=>{const xt=Q(at.attr(VA)),sn=at.type===1&&!jn(Ke,at.name)&&!Fm(n,at);return at.type===3||sn&&!xt},Oe=(Ke,at)=>{const xt=n4(t4("script,style,head,html,body,title,meta,param"),n.getBlockElements()),sn=/^[ \t\r\n]+/,Zt=/[ \t\r\n]+$/;let mt=Ke.firstChild,ht=null;const yn=Bn=>{var qn,To;Bn&&(mt=Bn.firstChild,mt&&mt.type===3&&(mt.value=(qn=mt.value)===null||qn===void 0?void 0:qn.replace(sn,"")),mt=Bn.lastChild,mt&&mt.type===3&&(mt.value=(To=mt.value)===null||To===void 0?void 0:To.replace(Zt,"")))};if(n.isValidChild(Ke.name,at.toLowerCase())){for(;mt;){const Bn=mt.next;ye(xt,mt)?(ht||(ht=new ed(at,1),ht.attr(l.forced_root_block_attrs),Ke.insert(ht,mt)),ht.append(mt)):(yn(ht),ht=null),mt=Bn}yn(ht)}},Fe={schema:n,addAttributeFilter:K,getAttributeFilters:ie,removeAttributeFilter:Ae,addNodeFilter:R,getNodeFilters:F,removeNodeFilter:J,parse:(Ke,at={})=>{var xt;const sn=l.validate,Zt=(xt=at.context)!==null&&xt!==void 0?xt:l.root_name,mt=A(Ke,Zt,at.format);Uf(n,mt);const ht=new ed(Zt,11);KI(ht,mt,n.getSpecialElements()),mt.innerHTML="";const[yn,Bn]=o4(ht,n,l,at),qn=[],To=sn?Ii=>Ie(Ii,qn):Rt,Jo={nodes:{},attributes:{}},Ns=Ii=>UE(F(),ie(),Ii,Jo);if(XI(ht,[yn,Ns],[Bn,To]),qn.reverse(),sn&&qn.length>0)if(at.context){const{pass:Ii,fail:Pc}=bi(qn,Xa=>Xa.parent===ht);pI(Pc,n,ht,Ns),at.invalid=Ii.length>0}else pI(qn,n,ht,Ns);const cr=s4(l,at);return cr&&(ht.name==="body"||at.isRootContent)&&Oe(ht,cr),at.invalid||hI(Jo,at),ht}};return BL(Fe,l),KY(Fe,l,n),Fe},r4=e=>PC(e)?xb({validate:!1}).serialize(e):e,QI=(e,n,o)=>{const r=r4(e),l=n(r);if(l.isDefaultPrevented())return l;if(PC(e))if(l.content!==r){const h=kb({validate:!1,forced_root_block:!1,sanitize:o}).parse(l.content,{context:e.name});return{...l,content:h}}else return{...l,content:e};else return l},JI=(e,n)=>{if(n.no_events)return Ds.value(n);{const o=tC(e,n);return o.isDefaultPrevented()?Ds.error(nC(e,{content:"",...o}).content):Ds.value(o)}},eD=(e,n,o)=>o.no_events?n:QI(n,l=>nC(e,{...o,content:l}),ub(e)).content,tD=(e,n)=>{if(n.no_events)return Ds.value(n);{const o=QI(n.content,r=>JT(e,{...n,content:r}),ub(e));return o.isDefaultPrevented()?(eC(e,o),Ds.error(void 0)):Ds.value(o)}},KC=(e,n,o)=>{o.no_events||eC(e,{...o,content:n})},nD=(e,n,o)=>({element:e,width:n,rows:o}),XC=(e,n)=>({element:e,cells:n}),m8=(e,n)=>({x:e,y:n}),i4=(e,n)=>sc(e,n).bind(ld).getOr(1),p8=(e,n,o,r,l)=>{const h=i4(l,"rowspan"),v=i4(l,"colspan"),A=e.rows;for(let R=o;R<o+h;R++){A[R]||(A[R]=XC(v0(r),[]));for(let F=n;F<n+v;F++){const J=A[R].cells;J[F]=R===o&&F===n?l:Ym(l)}}},a4=(e,n,o)=>{const r=e.rows;return!!(r[o]?r[o].cells:[])[n]},c4=(e,n,o)=>{for(;a4(e,n,o);)n++;return n},l4=e=>Ms(e,(n,o)=>o.cells.length>n?o.cells.length:n,0),u4=(e,n)=>{const o=e.rows;for(let r=0;r<o.length;r++){const l=o[r].cells;for(let h=0;h<l.length;h++)if(os(l[h],n))return se.some(m8(h,r))}return se.none()},d4=(e,n,o,r,l)=>{const h=[],v=e.rows;for(let A=o;A<=l;A++){const R=v[A].cells,F=n<r?R.slice(n,r+1):R.slice(r,n+1);h.push(XC(v[A].element,F))}return h},g8=(e,n,o)=>{const r=n.x,l=n.y,h=o.x,v=o.y,A=l<v?d4(e,r,l,h,v):d4(e,r,v,h,l);return nD(e.element,l4(A),A)},f4=(e,n)=>{const o=Ym(e.element),r=De.fromTag("tbody");return vd(r,n),wr(o,r),o},QY=e=>Kt(e.rows,n=>{const o=Kt(n.cells,l=>{const h=v0(l);return hr(h,"colspan"),hr(h,"rowspan"),h}),r=Ym(n.element);return vd(r,o),r}),v8=e=>{const n=nD(Ym(e),0,[]);return pt(Jr(e,"tr"),(o,r)=>{pt(Jr(o,"td,th"),(l,h)=>{p8(n,c4(n,h,r),r,o,l)})}),nD(n.element,l4(n.rows),n.rows)},b8=e=>f4(e,QY(e)),y8=(e,n,o)=>u4(e,n).bind(r=>u4(e,o).map(l=>g8(e,r,l))),_8=e=>bs(e,n=>zs(n)==="ul"||zs(n)==="ol"),E8=(e,n)=>bs(e,o=>zs(o)==="li"&&ry(o,n)).fold(nt([]),o=>_8(e).map(r=>{const l=De.fromTag(zs(r)),h=Ps(nl(r),(v,A)=>Ei(A,"list-style"));return ma(l,h),[De.fromTag("li"),l]}).getOr([])),w8=(e,n)=>{const o=Ms(n,(r,l)=>(wr(l,r),l),e);return n.length>0?dC([o]):o},T8=e=>li(e)?zo(e).filter(qr).fold(nt([]),n=>[e,n]):qr(e)?[e]:[],h4=(e,n)=>{const o=De.fromDom(n.commonAncestorContainer),r=sv(o,e),l=Bt(r,nf),h=E8(r,n),v=l.concat(h.length?h:T8(o));return Kt(v,Ym)},m4=()=>dC([]),C8=(e,n)=>w8(De.fromDom(n.cloneContents()),h4(e,n)),S8=(e,n)=>Na(n,"table",Ze(os,e)),x8=(e,n)=>S8(e,n[0]).bind(o=>{const r=n[0],l=n[n.length-1],h=v8(o);return y8(h,r,l).map(v=>dC([b8(v)]))}).getOrThunk(m4),A8=(e,n)=>n.length>0&&n[0].collapsed?m4():C8(e,n[0]),JY=(e,n)=>{const o=sy(n,e);return o.length>0?x8(e,o):A8(e,n)},oD=(e,n)=>n>=0&&n<e.length&&oy(e.charAt(n)),p4=e=>_d(e.innerText),O8=e=>e.map(n=>n.nodeName).getOr("div").toLowerCase(),eK=e=>se.from(e.selection.getRng()).map(n=>{var o;const r=se.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),l=e.getBody(),h=O8(r),v=De.fromDom(n.cloneContents());Lk(v),Bk(v);const A=e.dom.add(l,h,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},v.dom),R=p4(A),F=_d((o=A.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(A),oD(F,0)||oD(F,F.length-1)){const J=r.getOr(l),K=p4(J),ie=K.indexOf(R);if(ie===-1)return R;{const Ae=oD(K,ie-1),Ie=oD(K,ie+R.length);return(Ae?" ":"")+R+(Ie?" ":"")}}else return R}).getOr(""),R8=(e,n)=>{const o=e.selection.getRng(),r=e.dom.create("body"),l=e.selection.getSel(),h=VR(e,Uo(l)),v=n.contextual?JY(De.fromDom(e.getBody()),h).dom:o.cloneContents();return v&&r.appendChild(v),e.selection.serializer.serialize(r,n)},Ai=(e,n)=>{if(n.format==="text")return eK(e);{const o=R8(e,n);return n.format==="tree"?o:e.selection.isCollapsed()?"":o}},sD=(e,n)=>({...e,format:n,get:!0,selection:!0,getInner:!0}),tK=(e,n,o={})=>{const r=sD(o,n);return JI(e,r).fold(jt,l=>{const h=Ai(e,l);return eD(e,h,l)})},rD=0,g4=1,My=2,nK=(e,n)=>{const o=e.length+n.length+2,r=new Array(o),l=new Array(o),h=(J,K,ie)=>({start:J,end:K,diag:ie}),v=(J,K,ie,Ae,Ie)=>{const ye=R(J,K,ie,Ae);if(ye===null||ye.start===K&&ye.diag===K-Ae||ye.end===J&&ye.diag===J-ie){let Oe=J,ze=ie;for(;Oe<K||ze<Ae;)Oe<K&&ze<Ae&&e[Oe]===n[ze]?(Ie.push([rD,e[Oe]]),++Oe,++ze):K-J>Ae-ie?(Ie.push([My,e[Oe]]),++Oe):(Ie.push([g4,n[ze]]),++ze)}else{v(J,ye.start,ie,ye.start-ye.diag,Ie);for(let Oe=ye.start;Oe<ye.end;++Oe)Ie.push([rD,e[Oe]]);v(ye.end,K,ye.end-ye.diag,Ae,Ie)}},A=(J,K,ie,Ae)=>{let Ie=J;for(;Ie-K<Ae&&Ie<ie&&e[Ie]===n[Ie-K];)++Ie;return h(J,Ie,K)},R=(J,K,ie,Ae)=>{const Ie=K-J,ye=Ae-ie;if(Ie===0||ye===0)return null;const Oe=Ie-ye,ze=ye+Ie,Fe=(ze%2===0?ze:ze+1)/2;r[1+Fe]=J,l[1+Fe]=K+1;let Ke,at,xt,sn,Zt;for(Ke=0;Ke<=Fe;++Ke){for(at=-Ke;at<=Ke;at+=2){for(xt=at+Fe,at===-Ke||at!==Ke&&r[xt-1]<r[xt+1]?r[xt]=r[xt+1]:r[xt]=r[xt-1]+1,sn=r[xt],Zt=sn-J+ie-at;sn<K&&Zt<Ae&&e[sn]===n[Zt];)r[xt]=++sn,++Zt;if(Oe%2!==0&&Oe-Ke<=at&&at<=Oe+Ke&&l[xt-Oe]<=r[xt])return A(l[xt-Oe],at+J-ie,K,Ae)}for(at=Oe-Ke;at<=Oe+Ke;at+=2){for(xt=at+Fe-Oe,at===Oe-Ke||at!==Oe+Ke&&l[xt+1]<=l[xt-1]?l[xt]=l[xt+1]-1:l[xt]=l[xt-1],sn=l[xt]-1,Zt=sn-J+ie-at;sn>=J&&Zt>=ie&&e[sn]===n[Zt];)l[xt]=sn--,Zt--;if(Oe%2===0&&-Ke<=at&&at<=Ke&&l[xt]<=r[xt+Oe])return A(l[xt],at+J-ie,K,Ae)}}return null},F=[];return v(0,e.length,0,n.length,F),F},I8=e=>on(e)?e.outerHTML:Ut(e)?lf.encodeRaw(e.data,!1):Ga(e)?"<!--"+e.data+"-->":"",ll=e=>{let n;const o=document.createElement("div"),r=document.createDocumentFragment();for(e&&(o.innerHTML=e);n=o.firstChild;)r.appendChild(n);return r},v4=(e,n,o)=>{const r=ll(n);if(e.hasChildNodes()&&o<e.childNodes.length){const l=e.childNodes[o];e.insertBefore(r,l)}else e.appendChild(r)},b4=(e,n)=>{if(e.hasChildNodes()&&n<e.childNodes.length){const o=e.childNodes[n];e.removeChild(o)}},y4=(e,n)=>{let o=0;pt(e,r=>{r[0]===rD?o++:r[0]===g4?(v4(n,r[1],o),o++):r[0]===My&&b4(n,o)})},D8=e=>Bt(Kt(br(e.childNodes),I8),n=>n.length>0),N8=(e,n)=>{const o=Kt(br(n.childNodes),I8);return y4(nK(o,e),n),n},zA=ml(()=>document.implementation.createHTMLDocument("undo")),M8=e=>e.indexOf("</iframe>")!==-1,iD=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),k8=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),QC=e=>{const n=D8(e.getBody()),o=Sa(n,l=>{const h=Pk(e.serializer,l);return h.length>0?[h]:[]}),r=o.join("");return M8(r)?iD(o):k8(r)},UA=(e,n,o)=>{const r=o?n.beforeBookmark:n.bookmark;n.type==="fragmented"?N8(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:Pe(r)&&TT(r)?!r.isFakeCaret:!0}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},JC=e=>e.type==="fragmented"?e.fragments.join(""):e.content,aD=e=>{const n=De.fromTag("body",zA());return Im(n,JC(e)),pt(Jr(n,"*[data-mce-bogus]"),Ua),Lf(n)},cD=(e,n)=>JC(e)===JC(n),P8=(e,n)=>aD(e)===aD(n),lD=(e,n)=>!e||!n?!1:cD(e,n)?!0:P8(e,n),uD=e=>e.get()===0,nd=(e,n,o)=>{uD(o)&&(e.typing=n)},_4=(e,n)=>{e.typing&&(nd(e,!1,n),e.add())},L8=e=>{e.typing&&(e.typing=!1,e.add())},B8=(e,n,o)=>{uD(n)&&o.set(ya(e.selection))},$8=(e,n,o,r,l,h,v)=>{const A=QC(e),R=Te.extend(h||{},A);if(!uD(r)||e.removed)return null;const F=n.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:R,lastLevel:F,originalEvent:v}).isDefaultPrevented()||F&&lD(F,R))return null;n.data[o.get()]&&l.get().each(ie=>{n.data[o.get()].beforeBookmark=ie});const J=rT(e);if(J&&n.data.length>J){for(let ie=0;ie<n.data.length-1;ie++)n.data[ie]=n.data[ie+1];n.data.length--,o.set(n.data.length)}R.bookmark=ya(e.selection),o.get()<n.data.length-1&&(n.data.length=o.get()+1),n.data.push(R),o.set(n.data.length-1);const K={level:R,lastLevel:F,originalEvent:v};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",K),e.dispatch("change",K)):e.dispatch("AddUndo",K),R},F8=(e,n,o)=>{n.data=[],o.set(0),n.typing=!1,e.dispatch("ClearUndos")},E4=(e,n,o,r,l)=>{if(n.transact(r)){const h=n.data[o.get()].bookmark,v=n.data[o.get()-1];UA(e,v,!0),n.transact(l)&&(n.data[o.get()-1].beforeBookmark=h)}},H8=(e,n,o)=>{let r;return n.get()<o.length-1&&(n.set(n.get()+1),r=o[n.get()],UA(e,r,!1),e.setDirty(!0),e.dispatch("Redo",{level:r})),r},V8=(e,n,o,r)=>{let l;return n.typing&&(n.add(),n.typing=!1,nd(n,!1,o)),r.get()>0&&(r.set(r.get()-1),l=n.data[r.get()],UA(e,l,!0),e.setDirty(!0),e.dispatch("Undo",{level:l})),l},z8=e=>{e.clear(),e.add()},WA=(e,n,o)=>o.get()>0||n.typing&&n.data[0]&&!lD(QC(e),n.data[0]),U8=(e,n)=>n.get()<e.data.length-1&&!e.typing,W8=(e,n,o)=>(_4(e,n),e.beforeChange(),e.ignore(o),e.add()),w4=(e,n)=>{try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},dD=(e,n)=>{const o=e.dom,r=Pe(n)?n:e.getBody();pt(o.select("table,a",r),l=>{switch(l.nodeName){case"TABLE":const h=cT(e),v=o.getAttrib(l,"border");(!v||v==="0")&&e.hasVisual?o.addClass(l,h):o.removeClass(l,h);break;case"A":if(!o.getAttrib(l,"href")){const A=o.getAttrib(l,"name")||l.id,R=B0(e);A&&e.hasVisual?o.addClass(l,R):o.removeClass(l,R)}break}}),e.dispatch("VisualAid",{element:n,hasVisual:e.hasVisual})},T4=e=>({init:{bindEvents:Rt},undoManager:{beforeChange:(n,o)=>B8(e,n,o),add:(n,o,r,l,h,v)=>$8(e,n,o,r,l,h,v),undo:(n,o,r)=>V8(e,n,o,r),redo:(n,o)=>H8(e,n,o),clear:(n,o)=>F8(e,n,o),reset:n=>z8(n),hasUndo:(n,o)=>WA(e,n,o),hasRedo:(n,o)=>U8(n,o),transact:(n,o,r)=>W8(n,o,r),ignore:(n,o)=>w4(n,o),extra:(n,o,r,l)=>E4(e,n,o,r,l)},formatter:{match:(n,o,r,l)=>Cp(e,n,o,r,l),matchAll:(n,o)=>CV(e,n,o),matchNode:(n,o,r,l)=>rh(e,n,o,r,l),canApply:n=>aa(e,n),closest:n=>SI(e,n),apply:(n,o,r)=>FI(e,n,o,r),remove:(n,o,r,l)=>CL(e,n,o,r,l),toggle:(n,o,r)=>IL(e,n,o,r),formatChanged:(n,o,r,l,h)=>GV(e,n,o,r,l,h)},editor:{getContent:n=>R6(e,n),setContent:(n,o)=>yA(e,n,o),insertContent:(n,o)=>vA(e,n,o),addVisual:n=>dD(e,n)},selection:{getContent:(n,o)=>tK(e,n,o)},autocompleter:{addDecoration:n=>b6(e,n),removeDecoration:()=>_6(e,De.fromDom(e.getBody()))},raw:{getModel:()=>se.none()}}),G8=e=>{const n=F=>Ne(F)?F:{},{init:o,undoManager:r,formatter:l,editor:h,selection:v,autocompleter:A,raw:R}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:(F,J,K)=>r.transact(K),ignore:(F,J)=>r.ignore(J),extra:(F,J,K,ie)=>r.extra(K,ie)},formatter:{match:(F,J,K,ie)=>l.match(F,n(J),ie),matchAll:l.matchAll,matchNode:l.matchNode,canApply:F=>l.canApply(F),closest:F=>l.closest(F),apply:(F,J,K)=>l.apply(F,n(J)),remove:(F,J,K,ie)=>l.remove(F,n(J)),toggle:(F,J,K)=>l.toggle(F,n(J)),formatChanged:(F,J,K,ie,Ae)=>l.formatChanged(J,K,ie,Ae)},editor:{getContent:F=>h.getContent(F),setContent:(F,J)=>({content:h.setContent(F,J),html:""}),insertContent:(F,J)=>(h.insertContent(F),""),addVisual:h.addVisual},selection:{getContent:(F,J)=>v.getContent(J)},autocompleter:{addDecoration:A.addDecoration,removeDecoration:A.removeDecoration},raw:{getModel:()=>se.some(R.getRawModel())}}},oK=()=>{const e=nt(null),n=nt("");return{init:{bindEvents:Rt},undoManager:{beforeChange:Rt,add:e,undo:e,redo:e,clear:Rt,reset:Rt,hasUndo:tt,hasRedo:tt,transact:e,ignore:Rt,extra:Rt},formatter:{match:tt,matchAll:nt([]),matchNode:nt(void 0),canApply:tt,closest:n,apply:Rt,remove:Rt,toggle:Rt,formatChanged:nt({unbind:Rt})},editor:{getContent:n,setContent:nt({content:"",html:""}),insertContent:nt(""),addVisual:Rt},selection:{getContent:n},autocompleter:{addDecoration:Rt,removeDecoration:Rt},raw:{getModel:nt(se.none())}}},Mg=e=>jn(e.plugins,"rtc"),q8=e=>Qs(e.plugins,"rtc").bind(n=>se.from(n.setup)),j8=e=>{const n=e;return q8(e).fold(()=>(n.rtcInstance=T4(e),se.none()),o=>(n.rtcInstance=oK(),se.some(()=>o().then(r=>(n.rtcInstance=G8(r),r.rtc.isRemote)))))},fD=e=>e.rtcInstance?e.rtcInstance:T4(e),Oi=e=>{const n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},GA=(e,n,o)=>{Oi(e).undoManager.beforeChange(n,o)},eS=(e,n,o,r,l,h,v)=>Oi(e).undoManager.add(n,o,r,l,h,v),C4=(e,n,o,r)=>Oi(e).undoManager.undo(n,o,r),S4=(e,n,o)=>Oi(e).undoManager.redo(n,o),Z8=(e,n,o)=>{Oi(e).undoManager.clear(n,o)},x4=(e,n)=>{Oi(e).undoManager.reset(n)},Y8=(e,n,o)=>Oi(e).undoManager.hasUndo(n,o),K8=(e,n,o)=>Oi(e).undoManager.hasRedo(n,o),X8=(e,n,o,r)=>Oi(e).undoManager.transact(n,o,r),Q8=(e,n,o)=>{Oi(e).undoManager.ignore(n,o)},A4=(e,n,o,r,l)=>{Oi(e).undoManager.extra(n,o,r,l)},J8=(e,n,o,r,l)=>Oi(e).formatter.match(n,o,r,l),e7=(e,n,o)=>Oi(e).formatter.matchAll(n,o),tS=(e,n,o,r,l)=>Oi(e).formatter.matchNode(n,o,r,l),O4=(e,n)=>Oi(e).formatter.canApply(n),R4=(e,n)=>Oi(e).formatter.closest(n),t7=(e,n,o,r)=>{Oi(e).formatter.apply(n,o,r)},n7=(e,n,o,r,l)=>{Oi(e).formatter.remove(n,o,r,l)},o7=(e,n,o,r)=>{Oi(e).formatter.toggle(n,o,r)},I4=(e,n,o,r,l,h)=>Oi(e).formatter.formatChanged(n,o,r,l,h),s7=(e,n)=>fD(e).editor.getContent(n),r7=(e,n,o)=>fD(e).editor.setContent(n,o),i7=(e,n,o)=>fD(e).editor.insertContent(n,o),a7=(e,n,o)=>Oi(e).selection.getContent(n,o),sK=(e,n)=>Oi(e).editor.addVisual(n),cm=e=>Oi(e).init.bindEvents(),hD=(e,n)=>Oi(e).autocompleter.addDecoration(n),c7=e=>Oi(e).autocompleter.removeDecoration(),l7=(e,n={})=>{const o=n.format?n.format:"html";return a7(e,o,n)},D4=e=>e.dom.length===0?(Tr(e),se.none()):se.some(e),u7=(e,n)=>e.filter(o=>wu.isBookmarkNode(o.dom)).bind(n?Da:Cc),Cs=(e,n,o,r)=>{const l=e.dom,h=n.dom,v=r?l.length:h.length;r?(nI(l,h,!1,!r),o.setStart(h,v)):(nI(h,l,!1,!r),o.setEnd(h,v))},rK=(e,n)=>{zo(e).each(o=>{const r=e.dom;n&&FE(o,Xe(r,0))?oA(r,0):!n&&wC(o,Xe(r,r.length))&&tI(r,r.length)})},N4=(e,n,o,r)=>{e.bind(l=>((r?tI:oA)(l.dom,r?l.dom.length:0),n.filter(fr).map(v=>Cs(l,v,o,r)))).orThunk(()=>u7(n,r).or(n).filter(fr).map(h=>rK(h,r)))},d7=(e,n)=>{const o=se.from(n.firstChild).map(De.fromDom),r=se.from(n.lastChild).map(De.fromDom);e.deleteContents(),e.insertNode(n);const l=o.bind(Cc).filter(fr).bind(D4),h=r.bind(Da).filter(fr).bind(D4);N4(l,o,e,!0),N4(h,r,e,!1),e.collapse(!1)},mi=(e,n)=>({format:"html",...e,set:!0,selection:!0,content:n}),f7=(e,n)=>{if(n.format!=="raw"){const o=e.selection.getRng(),r=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),l=r?{context:r.nodeName.toLowerCase()}:{},h=e.parser.parse(n.content,{forced_root_block:!1,...l,...n});return xb({validate:!1},e.schema).serialize(h)}else return n.content},nS=(e,n,o={})=>{const r=mi(o,n);tD(e,r).each(l=>{const h=f7(e,l),v=e.selection.getRng();d7(v,v.createContextualFragment(h)),e.selection.setRng(v),Tn(e,v),KC(e,h,l)})},M4=(e,n,o)=>{if(jn(e,n)){const r=Bt(e[n],l=>l!==o);r.length===0?delete e[n]:e[n]=r}};var h7=(e,n)=>{let o,r;const l=(A,R)=>bs(R,F=>e.is(F,A)),h=A=>e.getParents(A,void 0,e.getRoot()),v=()=>{o={},r={},n.on("NodeChange",A=>{const R=A.element,F=h(R),J={};cn(o,(K,ie)=>{l(ie,F).each(Ae=>{r[ie]||(pt(K,Ie=>{Ie(!0,{node:Ae,selector:ie,parents:F})}),r[ie]=K),J[ie]=K})}),cn(r,(K,ie)=>{J[ie]||(delete r[ie],pt(K,Ae=>{Ae(!1,{node:R,selector:ie,parents:F})}))})})};return{selectorChangedWithUnbind:(A,R)=>(o||v(),o[A]||(o[A]=[]),o[A].push(R),l(A,h(n.selection.getStart())).each(()=>{r[A]=o[A]}),{unbind:()=>{M4(o,A,R),M4(r,A,R)}})}};const k4=e=>!!(e&&e.ownerDocument)&&et(De.fromDom(e.ownerDocument),De.fromDom(e)),P4=e=>e?k4(e.startContainer)&&k4(e.endContainer):!1,lv=(e,n,o,r)=>{let l,h;const{selectorChangedWithUnbind:v}=h7(e,r),A=(qt,In)=>{const ms=e.createRng();Pe(qt)&&Pe(In)?(ms.setStart(qt,In),ms.setEnd(qt,In),at(ms),ze(!1)):(yE(e,ms,r.getBody(),!0),at(ms))},R=qt=>l7(r,qt),F=(qt,In)=>nS(r,qt,In),J=qt=>Ak(r.getBody(),Ke(),qt),K=qt=>Ok(r.getBody(),Ke(),qt),ie=(qt,In)=>Pc.getBookmark(qt,In),Ae=qt=>Pc.moveToBookmark(qt),Ie=(qt,In)=>(f6(e,qt,In).each(at),qt),ye=()=>{const qt=Ke(),In=Fe();return!qt||qt.item?!1:qt.compareEndPoints?qt.compareEndPoints("StartToEnd",qt)===0:!In||qt.collapsed},Oe=()=>{const qt=Ke(),In=r.getBody().querySelectorAll('[data-mce-selected="1"]');return In.length>0?or(In,ms=>e.isEditable(ms.parentElement)):qt.startContainer===qt.endContainer?e.isEditable(qt.startContainer):e.isEditable(qt.startContainer)&&e.isEditable(qt.endContainer)},ze=qt=>{const In=Ke();In.collapse(!!qt),at(In)},Fe=()=>n.getSelection?n.getSelection():n.document.selection,Ke=()=>{let qt;const In=(dn,zn,Wn)=>{try{return zn.compareBoundaryPoints(dn,Wn)}catch{return-1}},ms=n.document;if(Pe(r.bookmark)&&!Sb(r)){const dn=Ig(r);if(dn.isSome())return dn.map(zn=>VR(r,[zn])[0]).getOr(ms.createRange())}try{const dn=Fe();dn&&!Ln(dn.anchorNode)&&(dn.rangeCount>0?qt=dn.getRangeAt(0):qt=ms.createRange(),qt=VR(r,[qt])[0])}catch{}if(qt||(qt=ms.createRange()),yd(qt.startContainer)&&qt.collapsed){const dn=e.getRoot();qt.setStart(dn,0),qt.setEnd(dn,0)}return l&&h&&(In(qt.START_TO_START,qt,l)===0&&In(qt.END_TO_END,qt,l)===0?qt=h:(l=null,h=null)),qt},at=(qt,In)=>{if(!P4(qt))return;const ms=Fe();if(qt=r.dispatch("SetSelectionRange",{range:qt,forward:In}).range,ms){h=qt;try{ms.removeAllRanges(),ms.addRange(qt)}catch{}In===!1&&ms.extend&&(ms.collapse(qt.endContainer,qt.endOffset),ms.extend(qt.startContainer,qt.startOffset)),l=ms.rangeCount>0?ms.getRangeAt(0):null}if(!qt.collapsed&&qt.startContainer===qt.endContainer&&(ms!=null&&ms.setBaseAndExtent)&&qt.endOffset-qt.startOffset<2&&qt.startContainer.hasChildNodes()){const zn=qt.startContainer.childNodes[qt.startOffset];zn&&zn.nodeName==="IMG"&&(ms.setBaseAndExtent(qt.startContainer,qt.startOffset,qt.endContainer,qt.endOffset),(ms.anchorNode!==qt.startContainer||ms.focusNode!==qt.endContainer)&&ms.setBaseAndExtent(zn,0,zn,1))}r.dispatch("AfterSetSelectionRange",{range:qt,forward:In})},xt=qt=>(F(e.getOuterHTML(qt)),qt),sn=()=>u6(r.getBody(),Ke()),Zt=(qt,In)=>d6(e,Ke(),qt,In),mt=()=>{const qt=Fe(),In=qt==null?void 0:qt.anchorNode,ms=qt==null?void 0:qt.focusNode;if(!qt||!In||!ms||Ln(In)||Ln(ms))return!0;const dn=e.createRng(),zn=e.createRng();try{dn.setStart(In,qt.anchorOffset),dn.collapse(!0),zn.setStart(ms,qt.focusOffset),zn.collapse(!0)}catch{return!0}return dn.compareBoundaryPoints(dn.START_TO_START,zn)<=0},Ii={dom:e,win:n,serializer:o,editor:r,expand:(qt={type:"word"})=>at(Eb(e).expand(Ke(),qt)),collapse:ze,setCursorLocation:A,getContent:R,setContent:F,getBookmark:ie,moveToBookmark:Ae,select:Ie,isCollapsed:ye,isEditable:Oe,isForward:mt,setNode:xt,getNode:sn,getSel:Fe,setRng:at,getRng:Ke,getStart:J,getEnd:K,getSelectedBlocks:Zt,normalize:()=>{const qt=Ke(),In=Fe();if(!pb(In)&&kT(r)){const ms=_p(e,qt);return ms.each(dn=>{at(dn,mt())}),ms.getOr(qt)}return qt},selectorChanged:(qt,In)=>(v(qt,In),Ii),selectorChangedWithUnbind:v,getScrollContainer:()=>{let qt,In=e.getRoot();for(;In&&In.nodeName!=="BODY";){if(In.scrollHeight>In.clientHeight){qt=In;break}In=In.parentNode}return qt},scrollIntoView:(qt,In)=>{Pe(qt)?wt(r,qt,In):Tn(r,Ke(),In)},placeCaretAt:(qt,In)=>at(fC(qt,In,r.getDoc())),getBoundingClientRect:()=>{const qt=Ke();return qt.collapsed?Xe.fromRangeStart(qt).getClientRects()[0]:qt.getBoundingClientRect()},destroy:()=>{n=l=h=null,Xa.destroy()}},Pc=wu(Ii),Xa=$x(Ii,r);return Ii.bookmarkManager=Pc,Ii.controlSelection=Xa,Ii},Ld=(e,n,o)=>{e.addAttributeFilter("data-mce-tabindex",(r,l)=>{let h=r.length;for(;h--;){const v=r[h];v.attr("tabindex",v.attr("data-mce-tabindex")),v.attr(l,null)}}),e.addAttributeFilter("src,href,style",(r,l)=>{const h="data-mce-"+l,v=n.url_converter,A=n.url_converter_scope;let R=r.length;for(;R--;){const F=r[R];let J=F.attr(h);J!==void 0?(F.attr(l,J.length>0?J:null),F.attr(h,null)):(J=F.attr(l),l==="style"?J=o.serializeStyle(o.parseStyle(J),F.name):v&&(J=v.call(A,J,l,F.name)),F.attr(l,J.length>0?J:null))}}),e.addAttributeFilter("class",r=>{let l=r.length;for(;l--;){const h=r[l];let v=h.attr("class");v&&(v=v.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),h.attr("class",v.length>0?v:null))}}),e.addAttributeFilter("data-mce-type",(r,l,h)=>{let v=r.length;for(;v--;){const A=r[v];A.attr("data-mce-type")==="bookmark"&&!h.cleanup&&(se.from(A.firstChild).exists(F=>{var J;return!Sv((J=F.value)!==null&&J!==void 0?J:"")})?A.unwrap():A.remove())}}),e.addNodeFilter("noscript",r=>{var l;let h=r.length;for(;h--;){const v=r[h].firstChild;v&&(v.value=lf.decode((l=v.value)!==null&&l!==void 0?l:""))}}),e.addNodeFilter("script,style",(r,l)=>{var h;const v=R=>R.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let A=r.length;for(;A--;){const R=r[A],F=R.firstChild,J=(h=F==null?void 0:F.value)!==null&&h!==void 0?h:"";if(l==="script"){const K=R.attr("type");K&&R.attr("type",K==="mce-no/type"?null:K.replace(/^mce\-/,"")),n.element_format==="xhtml"&&F&&J.length>0&&(F.value=`// <![CDATA[
`+v(J)+`
// ]]>`)}else n.element_format==="xhtml"&&F&&J.length>0&&(F.value=`<!--
`+v(J)+`
-->`)}}),e.addNodeFilter("#comment",r=>{let l=r.length;for(;l--;){const h=r[l],v=h.value;n.preserve_cdata&&(v==null?void 0:v.indexOf("[CDATA["))===0?(h.name="#cdata",h.type=4,h.value=o.decode(v.replace(/^\[CDATA\[|\]\]$/g,""))):(v==null?void 0:v.indexOf("mce:protected "))===0&&(h.name="#text",h.type=3,h.raw=!0,h.value=unescape(v).substr(14))}}),e.addNodeFilter("xml:namespace,input",(r,l)=>{let h=r.length;for(;h--;){const v=r[h];v.type===7?v.remove():v.type===1&&l==="input"&&!v.attr("type")&&v.attr("type","text")}}),e.addAttributeFilter("data-mce-type",r=>{pt(r,l=>{l.attr("data-mce-type")==="format-caret"&&(l.isEmpty(e.schema.getNonEmptyElements())?l.remove():l.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(r,l)=>{let h=r.length;for(;h--;)r[h].attr(l,null)})},oS=e=>{const n=r=>(r==null?void 0:r.name)==="br",o=e.lastChild;if(n(o)){const r=o.prev;n(r)&&(o.remove(),r.remove())}},ky=(e,n,o)=>{let r;const l=e.dom;let h=n.cloneNode(!0);const v=document.implementation;if(v.createHTMLDocument){const A=v.createHTMLDocument("");Te.each(h.nodeName==="BODY"?h.childNodes:[h],R=>{A.body.appendChild(A.importNode(R,!0))}),h.nodeName!=="BODY"?h=A.body.firstChild:h=A.body,r=l.doc,l.doc=A}return WT(e,{...o,node:h}),r&&(l.doc=r),h},kg=(e,n)=>Pe(e)&&e.hasEventListeners("PreProcess")&&!n.no_events,sS=(e,n,o)=>kg(e,o)?ky(e,n,o):n,mD=(e,n,o)=>{Te.inArray(n,o)===-1&&(e.addAttributeFilter(o,(r,l)=>{let h=r.length;for(;h--;)r[h].attr(l,null)}),n.push(o))},pD=(e,n,o)=>!n.no_events&&e?GT(e,{...n,content:o}).content:o,L4=(e,n,o)=>{const r=_d(o.getInner?n.innerHTML:e.getOuterHTML(n));return o.selection||ui(De.fromDom(n))?r:Te.trim(r)},B4=(e,n,o)=>{const r=o.selection?{forced_root_block:!1,...o}:o,l=e.parse(n,r);return oS(l),l},m7=(e,n,o)=>xb(e,n).serialize(o),p7=(e,n,o,r,l)=>{const h=m7(n,o,r);return pD(e,l,h)},$4=(e,n)=>{const o=["data-mce-selected"],r=n&&n.dom?n.dom:rr.DOM,l=n&&n.schema?n.schema:Kl(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0;const h=kb(e,l);Ld(h,e,r);const v=(A,R={})=>{const F={format:"html",...R},J=sS(n,A,F),K=L4(r,J,F),ie=B4(h,K,F);return F.format==="tree"?ie:p7(n,e,l,ie,F)};return{schema:l,addNodeFilter:h.addNodeFilter,addAttributeFilter:h.addAttributeFilter,serialize:v,addRules:l.addValidElements,setRules:l.setValidElements,addTempAttr:Ze(mD,h,o),getTempAttrs:nt(o),getNodeFilters:h.getNodeFilters,getAttributeFilters:h.getAttributeFilters,removeNodeFilter:h.removeNodeFilter,removeAttributeFilter:h.removeAttributeFilter}},gD=(e,n)=>{const o=$4(e,n);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},F4="html",H4=(e,n)=>({...e,format:n,get:!0,getInner:!0}),vD=(e,n={})=>{const o=n.format?n.format:F4,r=H4(n,o);return JI(e,r).fold(jt,l=>{const h=s7(e,l);return eD(e,h,l)})},iK="html",g7=(e,n)=>({format:iK,...e,set:!0,content:n}),V4=(e,n,o={})=>{const r=g7(o,n);return tD(e,r).map(l=>{const h=r7(e,l.content,l);return KC(e,h.html,l),h.content}).getOr(n)},v7="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),b7="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),Pg="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),y7=[{name:"template",replacedWith:"Advanced Template"}],_7=(e,n)=>{const o=Bt(n,r=>jn(e,r));return ks(o)},E7=e=>{const n=_7(e,v7),o=e.forced_root_block;return(o===!1||o==="")&&n.push("forced_root_block (false only)"),ks(n)},rS=e=>_7(e,b7),z4=(e,n)=>{const o=Te.makeMap(e.plugins," "),l=Bt(n,h=>jn(o,h));return ks(l)},U4=e=>z4(e,Pg),W4=e=>z4(e,y7.map(n=>n.name)),G4=(e,n)=>{const o=E7(e),r=U4(n),l=r.length>0,h=o.length>0,v=n.theme==="mobile";if(l||h||v){const A=`
- `,R=v?`

Themes:${A}mobile`:"",F=l?`

Plugins:${A}${r.join(A)}`:"",J=h?`

Options:${A}${o.join(A)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+R+F+J)}},w7=e=>bs(y7,n=>n.name===e).fold(()=>e,n=>`${e}, replaced by ${n.replacedWith}`),T7=(e,n)=>{const o=rS(e),r=W4(n),l=r.length>0,h=o.length>0;if(l||h){const v=`
- `,A=l?`

Plugins:${v}${r.map(w7).join(v)}`:"",R=h?`

Options:${v}${o.join(v)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+A+R)}},Pb=(e,n)=>{G4(e,n),T7(e,n)},qA=rr.DOM,C7=e=>{qA.setStyle(e.id,"display",e.orgDisplay)},jA=e=>se.from(e).each(n=>n.destroy()),S7=e=>{const n=e;n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null;const o=e.selection;if(o){const r=o.dom;n.selection=o.win=o.dom=r.doc=null}},x7=e=>{const n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,delete n._mceOldSubmit),qA.unbind(n,"submit reset",e.formEventDelegate))},A7=e=>{if(!e.removed){const{_selectionOverrides:n,editorUpload:o}=e,r=e.getBody(),l=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&Pe(l==null?void 0:l.nextSibling)&&qA.remove(l.nextSibling),qT(e),e.editorManager.remove(e),!e.inline&&r&&C7(e),yR(e),qA.remove(e.getContainer()),jA(n),jA(o),e.destroy()}},O7=(e,n)=>{const{selection:o,dom:r}=e;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),jA(o),jA(r)),x7(e),S7(e),e.destroyed=!0}},ZA=(()=>{const e={};return{add:(l,h)=>{e[l]=h},get:l=>e[l]?e[l]:{icons:{}},has:l=>jn(e,l)}})(),ew=As.ModelManager,q4=(e,n)=>n.dom[e],R7=(e,n)=>parseInt($u(n,e),10),iS=Ze(q4,"clientWidth"),I7=Ze(q4,"clientHeight"),bD=Ze(R7,"margin-top"),D7=Ze(R7,"margin-left"),N7=e=>e.dom.getBoundingClientRect(),M7=(e,n,o)=>{const r=iS(e),l=I7(e);return n>=0&&o>=0&&n<=r&&o<=l},k7=(e,n,o,r)=>{const l=N7(n),h=e?l.left+n.dom.clientLeft+D7(n):0,v=e?l.top+n.dom.clientTop+bD(n):0,A=o-h,R=r-v;return{x:A,y:R}},Py=(e,n,o)=>{const r=De.fromDom(e.getBody()),l=e.inline?r:Un(r),h=k7(e.inline,l,n,o);return M7(l,h.x,h.y)},Ly=e=>se.from(e).map(De.fromDom),YA=e=>{const n=e.inline?e.getBody():e.getContentAreaContainer();return Ly(n).map(Js).getOr(!1)};var KA=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const Lb=e=>{const n=[],o=()=>{const ie=e.theme;return ie&&ie.getNotificationManagerImpl?ie.getNotificationManagerImpl():KA()},r=()=>se.from(n[0]),l=(ie,Ae)=>ie.type===Ae.type&&ie.text===Ae.text&&!ie.progressBar&&!ie.timeout&&!Ae.progressBar&&!Ae.timeout,h=()=>{pt(n,ie=>{ie.reposition()})},v=ie=>{n.push(ie)},A=ie=>{Ir(n,Ae=>Ae===ie).each(Ae=>{n.splice(Ae,1)})},R=(ie,Ae=!0)=>e.removed||!YA(e)?{}:(Ae&&e.dispatch("BeforeOpenNotification",{notification:ie}),bs(n,Ie=>l(o().getArgs(Ie),ie)).getOrThunk(()=>{e.editorManager.setActive(e);const Ie=o().open(ie,()=>{A(Ie),h(),r().fold(()=>e.focus(),ye=>Jn(De.fromDom(ye.getEl())))});return v(Ie),h(),e.dispatch("OpenNotification",{notification:{...Ie}}),Ie})),F=()=>{r().each(ie=>{o().close(ie),A(ie),h()})},J=nt(n);return(ie=>{ie.on("SkinLoaded",()=>{const Ae=Z_(ie);Ae&&R({text:Ae,type:"warning",timeout:0},!1),h()}),ie.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(h)}),ie.on("remove",()=>{pt(n.slice(),Ae=>{o().close(Ae)})})})(e),{open:R,close:F,getNotifications:J}},lm=As.PluginManager,Lg=As.ThemeManager;var XA=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const yD=e=>{let n=[];const o=()=>{const ye=e.theme;return ye&&ye.getWindowManagerImpl?ye.getWindowManagerImpl():XA()},r=(ye,Oe)=>(...ze)=>Oe?Oe.apply(ye,ze):void 0,l=ye=>{e.dispatch("OpenWindow",{dialog:ye})},h=ye=>{e.dispatch("CloseWindow",{dialog:ye})},v=ye=>{n.push(ye),l(ye)},A=ye=>{h(ye),n=Bt(n,Oe=>Oe!==ye),n.length===0&&e.focus()},R=()=>se.from(n[n.length-1]),F=ye=>{e.editorManager.setActive(e),Su(e),e.ui.show();const Oe=ye();return v(Oe),Oe},J=(ye,Oe)=>F(()=>o().open(ye,Oe,A)),K=ye=>F(()=>o().openUrl(ye,A)),ie=(ye,Oe,ze)=>{const Fe=o();Fe.alert(ye,r(ze||Fe,Oe))},Ae=(ye,Oe,ze)=>{const Fe=o();Fe.confirm(ye,r(ze||Fe,Oe))},Ie=()=>{R().each(ye=>{o().close(ye),A(ye)})};return e.on("remove",()=>{pt(n,ye=>{o().close(ye)})}),{open:J,openUrl:K,alert:ie,confirm:Ae,close:Ie}},QA=(e,n)=>{e.notificationManager.open({type:"error",text:n})},tw=(e,n)=>{e._skinLoaded?QA(e,n):e.on("SkinLoaded",()=>{QA(e,n)})},j4=(e,n)=>{tw(e,Cd.translate(["Failed to upload image: {0}",n]))},nw=(e,n,o)=>{KT(e,n,{message:o}),console.error(o)},Bg=(e,n,o)=>o?`Failed to load ${e}: ${o} from url ${n}`:`Failed to load ${e} url: ${n}`,Z4=(e,n,o)=>{nw(e,"PluginLoadError",Bg("plugin",n,o))},Y4=(e,n,o)=>{nw(e,"IconsLoadError",Bg("icons",n,o))},K4=(e,n,o)=>{nw(e,"LanguageLoadError",Bg("language",n,o))},JA=(e,n,o)=>{nw(e,"ThemeLoadError",Bg("theme",n,o))},X4=(e,n,o)=>{nw(e,"ModelLoadError",Bg("model",n,o))},Q4=(e,n,o)=>{const r=Cd.translate(["Failed to initialize plugin: {0}",n]);KT(e,"PluginLoadError",{message:r}),aS(r,o),tw(e,r)},aS=(e,...n)=>{const o=window.console;o&&(o.error?o.error(e,...n):o.log(e,...n))},J4=e=>/^[a-z0-9\-]+$/i.test(e),uv=e=>ih(e,rb(e)),Bb=e=>ih(e,vg(e)),ih=(e,n)=>{const o=e.editorManager.baseURL+"/skins/content",l=`content${e.editorManager.suffix}.css`;return Kt(n,h=>J4(h)&&!e.inline?`${o}/${h}/${l}`:e.documentBaseURI.toAbsolute(h))},P7=e=>{e.contentCSS=e.contentCSS.concat(uv(e),Bb(e))},L7=e=>e?br(e.getElementsByTagName("img")):[],B7=(e,n)=>{const o={};return{findAll:(l,h=Dt)=>{const v=Bt(L7(l),R=>{const F=R.src;return R.hasAttribute("data-mce-bogus")||R.hasAttribute("data-mce-placeholder")||!F||F===No.transparentSrc?!1:Ei(F,"blob:")?!e.isUploaded(F)&&h(R):Ei(F,"data:")?h(R):!1}),A=Kt(v,R=>{const F=R.src;if(jn(o,F))return o[F].then(J=>Q(J)?J:{image:R,blobInfo:J.blobInfo});{const J=PL(n,F).then(K=>(delete o[F],{image:R,blobInfo:K})).catch(K=>(delete o[F],K));return o[F]=J,J}});return Promise.all(A)}}},e3=()=>{let o={};const r=(ie,Ae)=>({status:ie,resultUri:Ae}),l=ie=>ie in o;return{hasBlobUri:l,getResultUri:ie=>{const Ae=o[ie];return Ae?Ae.resultUri:null},isPending:ie=>l(ie)?o[ie].status===1:!1,isUploaded:ie=>l(ie)?o[ie].status===2:!1,markPending:ie=>{o[ie]=r(1,null)},markUploaded:(ie,Ae)=>{o[ie]=r(2,Ae)},removeFailed:ie=>{delete o[ie]},destroy:()=>{o={}}}};let $7=0;const F7=()=>{const e=()=>Math.round(Math.random()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},H7=e=>e+$7+++F7(),V7=()=>{let e=[];const n=K=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[K.toLowerCase()]||"dat",o=(K,ie,Ae,Ie,ye)=>{if(Q(K))return r({id:K,name:Ie,filename:ye,blob:ie,base64:Ae});if(Ne(K))return r(K);throw new Error("Unknown input type")},r=K=>{if(!K.blob||!K.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const ie=K.id||H7("blobid"),Ae=K.name||ie,Ie=K.blob;return{id:nt(ie),name:nt(Ae),filename:nt(K.filename||Ae+"."+n(Ie.type)),blob:nt(Ie),base64:nt(K.base64),blobUri:nt(K.blobUri||URL.createObjectURL(Ie)),uri:nt(K.uri)}},l=K=>{v(K.id())||e.push(K)},h=K=>bs(e,K).getOrUndefined(),v=K=>h(ie=>ie.id()===K);return{create:o,add:l,get:v,getByUri:K=>h(ie=>ie.blobUri()===K),getByData:(K,ie)=>h(Ae=>Ae.base64()===K&&Ae.blob().type===ie),findFirst:h,removeByUri:K=>{e=Bt(e,ie=>ie.blobUri()===K?(URL.revokeObjectURL(ie.blobUri()),!1):!0)},destroy:()=>{pt(e,K=>{URL.revokeObjectURL(K.blobUri())}),e=[]}}},z7=(e,n)=>{const o={},r=(ye,Oe)=>ye?ye.replace(/\/$/,"")+"/"+Oe.replace(/^\//,""):Oe,l=(ye,Oe)=>new Promise((ze,Fe)=>{const Ke=new XMLHttpRequest;Ke.open("POST",n.url),Ke.withCredentials=n.credentials,Ke.upload.onprogress=xt=>{Oe(xt.loaded/xt.total*100)},Ke.onerror=()=>{Fe("Image upload failed due to a XHR Transport error. Code: "+Ke.status)},Ke.onload=()=>{if(Ke.status<200||Ke.status>=300){Fe("HTTP Error: "+Ke.status);return}const xt=JSON.parse(Ke.responseText);if(!xt||!Q(xt.location)){Fe("Invalid JSON: "+Ke.responseText);return}ze(r(n.basePath,xt.location))};const at=new FormData;at.append("file",ye.blob(),ye.filename()),Ke.send(at)}),h=Ee(n.handler)?n.handler:l,v=()=>new Promise(ye=>{ye([])}),A=(ye,Oe)=>({url:Oe,blobInfo:ye,status:!0}),R=(ye,Oe)=>({url:"",blobInfo:ye,status:!1,error:Oe}),F=(ye,Oe)=>{Te.each(o[ye],ze=>{ze(Oe)}),delete o[ye]},J=(ye,Oe,ze)=>(e.markPending(ye.blobUri()),new Promise(Fe=>{let Ke,at;try{const xt=()=>{Ke&&(Ke.close(),at=Rt)},sn=mt=>{xt(),e.markUploaded(ye.blobUri(),mt),F(ye.blobUri(),A(ye,mt)),Fe(A(ye,mt))},Zt=mt=>{xt(),e.removeFailed(ye.blobUri()),F(ye.blobUri(),R(ye,mt)),Fe(R(ye,mt))};at=mt=>{mt<0||mt>100||se.from(Ke).orThunk(()=>se.from(ze).map(co)).each(ht=>{Ke=ht,ht.progressBar.value(mt)})},Oe(ye,at).then(sn,mt=>{Zt(Q(mt)?{message:mt}:mt)})}catch(xt){Fe(R(ye,xt))}})),K=ye=>ye===l,ie=ye=>{const Oe=ye.blobUri();return new Promise(ze=>{o[Oe]=o[Oe]||[],o[Oe].push(ze)})},Ae=(ye,Oe)=>(ye=Te.grep(ye,ze=>!e.isUploaded(ze.blobUri())),Promise.all(Te.map(ye,ze=>e.isPending(ze.blobUri())?ie(ze):J(ze,h,Oe))));return{upload:(ye,Oe)=>!n.url&&K(h)?v():Ae(ye,Oe)}},t3=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),n3=(e,n)=>z7(n,{url:Zh(e),basePath:U_(e),credentials:sb(e),handler:th(e)}),U7=e=>{const n=e3(),o=n3(e,n);return{upload:(r,l=!0)=>o.upload(r,l?t3(e):void 0)}},_D=e=>{const n=V7();let o,r;const l=e3(),h=[],v=Ke=>at=>e.selection?Ke(at):[],A=Ke=>Ke+(Ke.indexOf("?")===-1?"?":"&")+new Date().getTime(),R=(Ke,at,xt)=>{let sn=0;do sn=Ke.indexOf(at,sn),sn!==-1&&(Ke=Ke.substring(0,sn)+xt+Ke.substr(sn+at.length),sn+=xt.length-at.length+1);while(sn!==-1);return Ke},F=(Ke,at,xt)=>{const sn=`src="${xt}"${xt===No.transparentSrc?' data-mce-placeholder="1"':""}`;return Ke=R(Ke,`src="${at}"`,sn),Ke=R(Ke,'data-mce-src="'+at+'"','data-mce-src="'+xt+'"'),Ke},J=(Ke,at)=>{pt(e.undoManager.data,xt=>{xt.type==="fragmented"?xt.fragments=Kt(xt.fragments,sn=>F(sn,Ke,at)):xt.content=F(xt.content,Ke,at)})},K=(Ke,at)=>{const xt=e.convertURL(at,"src");J(Ke.src,at),Wr(De.fromDom(Ke),{src:Dc(e)?A(at):at,"data-mce-src":xt})},ie=()=>(o||(o=n3(e,l)),Oe().then(v(Ke=>{const at=Kt(Ke,xt=>xt.blobInfo);return o.upload(at,t3(e)).then(v(xt=>{const sn=[];let Zt=!1;const mt=Kt(xt,(ht,yn)=>{const{blobInfo:Bn,image:qn}=Ke[yn];let To=!1;return ht.status&&nT(e)?(ht.url&&!si(qn.src,ht.url)&&(Zt=!0),n.removeByUri(qn.src),Mg(e)||K(qn,ht.url)):ht.error&&(ht.error.remove&&(J(qn.src,No.transparentSrc),sn.push(qn),To=!0),j4(e,ht.error.message)),{element:qn,status:ht.status,uploadUri:ht.url,blobInfo:Bn,removed:To}});return sn.length>0&&!Mg(e)?e.undoManager.transact(()=>{pt(sn,ht=>{e.dom.remove(ht),n.removeByUri(ht.src)})}):Zt&&e.undoManager.dispatchChange(),mt}))}))),Ae=()=>cl(e)?ie():Promise.resolve([]),Ie=Ke=>or(h,at=>at(Ke)),ye=Ke=>{h.push(Ke)},Oe=()=>(r||(r=B7(l,n)),r.findAll(e.getBody(),Ie).then(v(Ke=>{const at=Bt(Ke,xt=>Q(xt)?(tw(e,xt),!1):!0);return Mg(e)||pt(at,xt=>{J(xt.image.src,xt.blobInfo.blobUri()),xt.image.src=xt.blobInfo.blobUri(),xt.image.removeAttribute("data-mce-src")}),at}))),ze=()=>{n.destroy(),l.destroy(),r=o=null},Fe=Ke=>Ke.replace(/src="(blob:[^"]+)"/g,(at,xt)=>{const sn=l.getResultUri(xt);if(sn)return'src="'+sn+'"';let Zt=n.getByUri(xt);return Zt||(Zt=Ms(e.editorManager.get(),(mt,ht)=>mt||ht.editorUpload&&ht.editorUpload.blobCache.getByUri(xt),void 0)),Zt?'src="data:'+Zt.blob().type+";base64,"+Zt.base64()+'"':at});return e.on("SetContent",()=>{cl(e)?Ae():Oe()}),e.on("RawSaveContent",Ke=>{Ke.content=Fe(Ke.content)}),e.on("GetContent",Ke=>{Ke.source_view||Ke.format==="raw"||Ke.format==="tree"||(Ke.content=Fe(Ke.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",Ke=>{pt(Ke,at=>{const xt=at.attr("src");if(!xt||n.getByUri(xt))return;const sn=l.getResultUri(xt);sn&&at.attr("src",sn)})})}),{blobCache:n,addFilter:ye,uploadImages:ie,uploadImagesAuto:Ae,scanForImages:Oe,destroy:ze}},ED=e=>{const n=e.dom,o=e.schema.type,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:l=>{n.setStyle(l,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:l=>{n.setStyle(l,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const l={inline:"span",styles:{textDecoration:"line-through"},exact:!0},h={inline:"strike",remove:"all",preserve_attributes:["class","style"]},v={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[v,l,h]:[l,v,h]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(l,h,v)=>on(l)&&l.hasAttribute("href"),onformat:(l,h,v)=>{Te.each(v,(A,R)=>{n.setAttrib(l,R,A)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":l=>{var h;return(h=l==null?void 0:l.customValue)!==null&&h!==void 0?h:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Te.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),l=>{r[l]={block:l,remove:"all"}}),r},wD={remove_similar:!0,inherit:!1},ow={selector:"td,th",...wD},W7={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...ow},tablecellverticalalign:{styles:{"vertical-align":"%value"},...ow},tablecellbordercolor:{styles:{borderColor:"%value"},...ow},tablecellclass:{classes:["%value"],...ow},tableclass:{selector:"table",classes:["%value"],...wD},tablecellborderstyle:{styles:{borderStyle:"%value"},...ow},tablecellborderwidth:{styles:{borderWidth:"%value"},...ow}},o3=nt(W7),s3=e=>{const n={},o=v=>Pe(v)?n[v]:n,r=v=>jn(n,v),l=(v,A)=>{v&&(Q(v)?(z(A)||(A=[A]),pt(A,R=>{dt(R.deep)&&(R.deep=!nu(R)),dt(R.split)&&(R.split=!nu(R)||wa(R)),dt(R.remove)&&nu(R)&&!wa(R)&&(R.remove="none"),nu(R)&&wa(R)&&(R.mixed=!0,R.block_expand=!0),Q(R.classes)&&(R.classes=R.classes.split(/\s+/))}),n[v]=A):cn(v,(R,F)=>{l(F,R)}))},h=v=>(v&&n[v]&&delete n[v],n);return l(ED(e)),l(o3()),l(Nc(e)),{get:o,has:r,register:l,unregister:h}},sw=Te.each,xf=rr.DOM,e2=e=>Pe(e)&&Ne(e),t2=(e,n)=>{const o=n&&n.schema||Kl({}),r=(R,F)=>{F.classes.length>0&&xf.addClass(R,F.classes.join(" ")),xf.setAttribs(R,F.attrs)},l=R=>{const F=Q(R)?{name:R,classes:[],attrs:{}}:R,J=xf.create(F.name);return r(J,F),J},h=(R,F)=>{const J=o.getElementRule(R.nodeName.toLowerCase()),K=J==null?void 0:J.parentsRequired;return K&&K.length?F&&Pn(K,F)?F:K[0]:!1},v=(R,F,J)=>{let K;const ie=F[0],Ae=e2(ie)?ie.name:void 0,Ie=h(R,Ae);if(Ie)Ae===Ie?(K=ie,F=F.slice(1)):K=Ie;else if(ie)K=ie,F=F.slice(1);else if(!J)return R;const ye=K?l(K):xf.create("div");ye.appendChild(R),J&&Te.each(J,ze=>{const Fe=l(ze);ye.insertBefore(Fe,R)});const Oe=e2(K)?K.siblings:void 0;return v(ye,F,Oe)},A=xf.create("div");if(e.length>0){const R=e[0],F=l(R),J=e2(R)?R.siblings:void 0;A.appendChild(v(F,e.slice(1),J))}return A},G7=e=>{e=Te.trim(e);let n="div";const o={name:n,classes:[],attrs:{},selector:e};return e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(r,l,h,v,A)=>{switch(l){case"#":o.attrs.id=h;break;case".":o.classes.push(h);break;case":":Te.inArray("checked disabled enabled read-only required".split(" "),h)!==-1&&(o.attrs[h]=h);break}if(v==="["){const R=A.match(/([\w\-]+)(?:\=\"([^\"]+))?/);R&&(o.attrs[R[1]]=R[2])}return""})),o.name=n||"div",o},q7=e=>Q(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Te.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),n=>{const o=Te.map(n.split(/(?:~\+|~|\+)/),G7),r=o.pop();return o.length&&(r.siblings=o),r}).reverse()):[],$g=(e,n)=>{let o="",r=B1(e);if(r==="")return"";const l=ie=>Q(ie)?ie.replace(/%(\w+)/g,""):"",h=(ie,Ae)=>xf.getStyle(Ae??e.getBody(),ie,!0);if(Q(n)){const ie=e.formatter.get(n);if(!ie)return"";n=ie[0]}if("preview"in n){const ie=n.preview;if(ie===!1)return"";r=ie||r}let v=n.block||n.inline||"span",A;const R=q7(n.selector);R.length>0?(R[0].name||(R[0].name=v),v=n.selector,A=t2(R,e)):A=t2([v],e);const F=xf.select(v,A)[0]||A.firstChild;sw(n.styles,(ie,Ae)=>{const Ie=l(ie);Ie&&xf.setStyle(F,Ae,Ie)}),sw(n.attributes,(ie,Ae)=>{const Ie=l(ie);Ie&&xf.setAttrib(F,Ae,Ie)}),sw(n.classes,ie=>{const Ae=l(ie);xf.hasClass(F,Ae)||xf.addClass(F,Ae)}),e.dispatch("PreviewFormats"),xf.setStyles(A,{position:"absolute",left:-65535}),e.getBody().appendChild(A);const J=h("fontSize"),K=/px$/.test(J)?parseInt(J,10):0;return sw(r.split(" "),ie=>{let Ae=h(ie,F);if(!(ie==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(Ae)&&(Ae=h(ie),mb(Ae).toLowerCase()==="#ffffff"))&&!(ie==="color"&&mb(Ae).toLowerCase()==="#000000")){if(ie==="font-size"&&/em|%$/.test(Ae)){if(K===0)return;Ae=parseFloat(Ae)/(/%$/.test(Ae)?100:1)*K+"px"}ie==="border"&&Ae&&(o+="padding:0 2px;"),o+=ie+":"+Ae+";"}}),e.dispatch("AfterPreviewFormats"),xf.remove(A),o},um=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},cS=e=>{const n=s3(e),o=zi({});return um(e),AV(e),Mg(e)||VV(o,e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:(r,l,h)=>{t7(e,r,l,h)},remove:(r,l,h,v)=>{n7(e,r,l,h,v)},toggle:(r,l,h)=>{o7(e,r,l,h)},match:(r,l,h,v)=>J8(e,r,l,h,v),closest:r=>R4(e,r),matchAll:(r,l)=>e7(e,r,l),matchNode:(r,l,h,v)=>tS(e,r,l,h,v),canApply:r=>O4(e,r),formatChanged:(r,l,h,v)=>I4(e,o,r,l,h,v),getCssText:Ze($g,e)}},TD=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},n2=(e,n,o)=>{const r=zi(!1),l=R=>{nd(n,!1,o),n.add({},R)};e.on("init",()=>{n.add()}),e.on("BeforeExecCommand",R=>{const F=R.command;TD(F)||(_4(n,o),n.beforeChange())}),e.on("ExecCommand",R=>{const F=R.command;TD(F)||l(R)}),e.on("ObjectResizeStart cut",()=>{n.beforeChange()}),e.on("SaveContent ObjectResized blur",l),e.on("dragend",l),e.on("keyup",R=>{const F=R.keyCode;R.isDefaultPrevented()||((F>=33&&F<=36||F>=37&&F<=40||F===45||R.ctrlKey)&&(l(),e.nodeChanged()),(F===46||F===8)&&e.nodeChanged(),r.get()&&n.typing&&!lD(QC(e),n.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),r.set(!1),e.nodeChanged()))}),e.on("keydown",R=>{const F=R.keyCode;if(R.isDefaultPrevented())return;if(F>=33&&F<=36||F>=37&&F<=40||F===45){n.typing&&l(R);return}const J=R.ctrlKey&&!R.altKey||R.metaKey;(F<16||F>20)&&F!==224&&F!==91&&!n.typing&&!J&&(n.beforeChange(),nd(n,!0,o),n.add({},R),r.set(!0))}),e.on("mousedown",R=>{n.typing&&l(R)});const h=R=>R.inputType==="insertReplacementText",v=R=>R.inputType==="insertText"&&R.data===null,A=R=>R.inputType==="insertFromPaste"||R.inputType==="insertFromDrop";e.on("input",R=>{R.inputType&&(h(R)||v(R)||A(R))&&l(R)}),e.on("AddUndo Undo Redo ClearUndos",R=>{R.isDefaultPrevented()||e.nodeChanged()})},r3=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},CD=e=>{const n=sa(),o=zi(0),r=zi(0),l={data:[],typing:!1,beforeChange:()=>{GA(e,o,n)},add:(h,v)=>eS(e,l,r,o,n,h,v),dispatchChange:()=>{e.setDirty(!0);const h=QC(e);h.bookmark=ya(e.selection),e.dispatch("change",{level:h,lastLevel:hl(l.data,r.get()).getOrUndefined()})},undo:()=>C4(e,l,o,r),redo:()=>S4(e,r,l.data),clear:()=>{Z8(e,l,r)},reset:()=>{x4(e,l)},hasUndo:()=>Y8(e,l,r),hasRedo:()=>K8(e,l,r),transact:h=>X8(e,l,o,h),ignore:h=>{Q8(e,o,h)},extra:(h,v)=>{A4(e,l,r,h,v)}};return Mg(e)||n2(e,l,o),r3(e),l},i3=[9,27,Sn.HOME,Sn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Sn.DOWN,Sn.UP,Sn.LEFT,Sn.RIGHT].concat(No.browser.isFirefox()?[224]:[]),SD="data-mce-placeholder",xD=e=>e.type==="keydown"||e.type==="keyup",AD=e=>{const n=e.keyCode;return n===Sn.BACKSPACE||n===Sn.DELETE},o2=e=>{if(xD(e)){const n=e.keyCode;return!AD(e)&&(Sn.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||Pn(i3,n))}else return!1},OD=e=>xD(e)&&!(AD(e)||e.type==="keyup"&&e.keyCode===229),j7=(e,n,o)=>{if(Ws(De.fromDom(n),!1)){const r=n.firstElementChild;return r?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:o===r.nodeName.toLowerCase():!0}else return!1},Z7=e=>{var n;const o=e.dom,r=_u(e),l=(n=N0(e))!==null&&n!==void 0?n:"",h=(v,A)=>{if(o2(v))return;const R=e.getBody(),F=OD(v)?!1:j7(o,R,r);(o.getAttrib(R,SD)!==""!==F||A)&&(o.setAttrib(R,SD,F?l:null),o.setAttrib(R,"aria-placeholder",F?l:null),om(e,F),e.on(F?"keydown":"keyup",h),e.off(F?"keyup":"keydown",h))};Ss(l)&&e.on("init",v=>{h(v,!0),e.on("change SetContent ExecCommand",h),e.on("paste",A=>kd.setEditorTimeout(e,()=>h(A)))})},Y7=(e,n)=>({block:e,position:n}),K7=(e,n)=>({from:e,to:n}),s2=(e,n)=>{const o=De.fromDom(e),r=De.fromDom(n.container());return sA(o,r).map(l=>Y7(l,n))},X7=e=>!os(e.from.block,e.to.block),a3=(e,n)=>ts(n,l=>Vr(l)||ns(l.dom),l=>os(l,e)).filter(as).getOr(e),RD=(e,n)=>{const o=De.fromDom(e);return os(a3(o,n.from.block),a3(o,n.to.block))},Q7=e=>Lo(e.from.block.dom)===!1&&Lo(e.to.block.dom)===!1,J7=e=>{const n=o=>Ge(o)||gu(o.dom);return n(e.from.block)&&n(e.to.block)},ez=(e,n,o)=>mr(o.position.getNode())&&!Ws(o.block)?hs(!1,o.block.dom).bind(r=>r.isEqual(o.position)?Mo(n,e,r).bind(l=>s2(e,l)):se.some(o)).getOr(o):o,tz=(e,n,o)=>{const r=s2(e,Xe.fromRangeStart(o)),l=r.bind(h=>Mo(n,e,h.position).bind(v=>s2(e,v).map(A=>ez(e,n,A))));return Et(r,l,K7).filter(h=>X7(h)&&RD(e,h)&&Q7(h)&&J7(h))},nz=(e,n,o)=>o.collapsed?tz(e,n,o):se.none(),oz=e=>{const n=We(e);return Ir(n,Ht).fold(nt(n),o=>n.slice(0,o))},c3=e=>{const n=oz(e);return pt(n,Tr),n},lS=(e,n)=>{const o=sv(n,e);return bs(o.reverse(),r=>Ws(r)).each(Tr)},ID=e=>Bt(xe(e),n=>!Ws(n)).length===0,sz=(e,n,o,r)=>{if(Ws(o))return Kp(o),ti(o.dom);ID(r)&&Ws(n)&&ds(r,De.fromTag("br"));const l=fi(o.dom,Xe.before(r.dom));return pt(c3(n),h=>{ds(r,h)}),lS(e,n),l},rz=(e,n,o)=>{if(Ws(o)){if(Ws(n)){const h=Br((v=>{const A=(R,F)=>ut(R).fold(()=>F,J=>fn(J)?A(J,F.concat(Ym(J))):F);return A(v,[])})(o),(v,A)=>(Rm(v,A),A),Gn());er(n),wr(n,h)}return Tr(o),ti(n.dom)}const r=Yr(o.dom);return pt(c3(n),l=>{wr(o,l)}),lS(e,n),r},iz=(e,n)=>{const o=sv(n,e);return se.from(o[o.length-1])},az=(e,n)=>et(n,e)?iz(n,e):se.none(),DD=(e,n)=>{hs(e,n.dom).bind(o=>se.from(o.getNode())).map(De.fromDom).filter(Xo).each(Tr)},l3=(e,n,o)=>(DD(!0,n),DD(!1,o),az(n,o).fold(Ze(rz,e,n,o),Ze(sz,e,n,o))),u3=(e,n,o,r)=>n?l3(e,r,o):l3(e,o,r),uS=(e,n)=>{const o=De.fromDom(e.getBody());return nz(o.dom,n,e.selection.getRng()).map(l=>()=>{u3(o,n,l.from.block,l.to.block).each(h=>{e.selection.setRng(h.toRange())})})},cz=(e,n)=>{const o=n.getRng();return Et(sA(e,De.fromDom(o.startContainer)),sA(e,De.fromDom(o.endContainer)),(r,l)=>os(r,l)?se.none():se.some(()=>{o.deleteContents(),u3(e,!0,r,l).each(h=>{n.setRng(h.toRange())})})).getOr(se.none())},d3=(e,n)=>{const o=De.fromDom(n),r=Ze(os,e);return Ls(o,Vr,r).isSome()},lz=(e,n)=>d3(e,n.startContainer)||d3(e,n.endContainer),uz=(e,n)=>{const o=fi(e.dom,Xe.fromRangeStart(n)).isNone(),r=di(e.dom,Xe.fromRangeEnd(n)).isNone();return!lz(e,n)&&o&&r},dz=e=>se.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),fz=e=>{const n=De.fromDom(e.getBody()),o=e.selection.getRng();return uz(n,o)?dz(e):cz(n,e.selection)},ND=(e,n)=>e.selection.isCollapsed()?se.none():fz(e),dm=(e,n,o,r,l)=>se.from(n._selectionOverrides.showCaret(e,o,r,l)),r2=e=>{const n=e.ownerDocument.createRange();return n.selectNode(e),n},dS=(e,n)=>e.dispatch("BeforeObjectSelected",{target:n}).isDefaultPrevented()?se.none():se.some(r2(n)),hz=(e,n,o)=>{const r=dp(1,e.getBody(),n),l=Xe.fromRangeStart(r),h=l.getNode();if(z1(h))return dm(1,e,h,!l.isAtEnd(),!1);const v=l.getNode(!0);if(z1(v))return dm(1,e,v,!1,!1);const A=Dg(e.dom.getRoot(),l.getNode());return z1(A)?dm(1,e,A,!1,o):se.none()},rw=(e,n,o)=>n.collapsed?hz(e,n,o).getOr(n):n,mz=e=>vy(e)||_C(e),pz=e=>Ab(e)||po(e),gz=(e,n)=>{Ut(n)&&n.data.length===0&&e.remove(n)},f3=(e,n,o,r,l,h)=>{dm(r,e,h.getNode(!l),l,!0).each(v=>{if(n.collapsed){const A=n.cloneRange();l?A.setEnd(v.startContainer,v.startOffset):A.setStart(v.endContainer,v.endOffset),A.deleteContents()}else n.deleteContents();e.selection.setRng(v)}),gz(e.dom,o)},vz=(e,n)=>{const o=e.selection.getRng();if(!Ut(o.commonAncestorContainer))return se.none();const r=n?Ea.Forwards:Ea.Backwards,l=Ye(e.getBody()),h=Ze(Q0,n?l.next:l.prev),v=n?mz:pz,A=Eg(r,e.getBody(),o),R=h(A),F=R&&Wo(n,R);if(!F||!wg(A,F))return se.none();if(v(F))return se.some(()=>f3(e,o,A.getNode(),r,n,F));const J=h(F);return J&&v(J)&&wg(F,J)?se.some(()=>f3(e,o,A.getNode(),r,n,J)):se.none()},MD=(e,n)=>vz(e,n),kD=(e,n)=>{const o=e.getBody();return n?ti(o).filter(vy):Yr(o).filter(Ab)},PD=e=>{const n=e.selection.getRng();return!n.collapsed&&(kD(e,!0).exists(o=>o.isEqual(Xe.fromRangeStart(n)))||kD(e,!1).exists(o=>o.isEqual(Xe.fromRangeEnd(n))))},bz=e=>Pe(e)&&(Vr(De.fromDom(e))||li(De.fromDom(e))),Af=Qu.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),yz=(e,n)=>{const o=n.getNode(!e),r=e?"after":"before";return on(o)&&o.getAttribute("data-mce-caret")===r},cK=(e,n,o,r)=>{const l=h=>fn(De.fromDom(h))&&!tu(o,r,e);return _x(!n,o).fold(()=>_x(n,r).fold(tt,l),l)},ah=(e,n,o,r)=>{const l=r.getNode(!n);return sA(De.fromDom(e),De.fromDom(o.getNode())).map(h=>Ws(h)?Af.remove(h.dom):Af.moveToElement(l)).orThunk(()=>se.some(Af.moveToElement(l)))},i2=(e,n,o)=>Mo(n,e,o).bind(r=>bz(r.getNode())||cK(e,n,o,r)?se.none():n&&Lo(r.getNode())||!n&&Lo(r.getNode(!0))?ah(e,n,o,r):n&&Ab(o)||!n&&vy(o)?se.some(Af.moveToPosition(r)):se.none()),h3=(e,n)=>_t(n)?se.none():e&&Lo(n.nextSibling)?se.some(Af.moveToElement(n.nextSibling)):!e&&Lo(n.previousSibling)?se.some(Af.moveToElement(n.previousSibling)):se.none(),m3=(e,n,o)=>o.fold(r=>se.some(Af.remove(r)),r=>se.some(Af.moveToElement(r)),r=>tu(n,r,e)?se.none():se.some(Af.moveToPosition(r))),_z=(e,n,o)=>yz(n,o)?h3(n,o.getNode(!n)).orThunk(()=>i2(e,n,o)):i2(e,n,o).bind(r=>m3(e,o,r)),p3=(e,n,o)=>{const r=dp(n?1:-1,e,o),l=Xe.fromRangeStart(r),h=De.fromDom(e);return!n&&Ab(l)?se.some(Af.remove(l.getNode(!0))):n&&vy(l)?se.some(Af.remove(l.getNode())):!n&&vy(l)&&jk(h,l)?WY(h,l).map(v=>Af.remove(v.getNode())):n&&Ab(l)&&KR(h,l)?F6(h,l).map(v=>Af.remove(v.getNode())):_z(e,n,l)},Ez=(e,n)=>o=>(e._selectionOverrides.hideFakeCaret(),yy(e,n,De.fromDom(o)),!0),g3=(e,n)=>o=>{const r=n?Xe.before(o):Xe.after(o);return e.selection.setRng(r.toRange()),!0},wz=e=>n=>(e.selection.setRng(n.toRange()),!0),v3=(e,n)=>se.from(Dg(e.getBody(),n)),Tz=(e,n)=>{const o=e.selection.getNode();return v3(e,o).filter(Lo).fold(()=>p3(e.getBody(),n,e.selection.getRng()).map(r=>()=>r.fold(Ez(e,n),g3(e,n),wz(e))),()=>se.some(Rt))},iw=e=>{pt(Jr(e,".mce-offscreen-selection"),Tr)},b3=(e,n)=>{const o=e.selection.getNode();return Lo(o)&&!ei(o)?v3(e,o.parentNode).filter(Lo).fold(()=>se.some(()=>{iw(De.fromDom(e.getBody())),yy(e,n,De.fromDom(e.selection.getNode())),CC(e)}),()=>se.some(Rt)):PD(e)?se.some(()=>{gP(e,e.selection.getRng(),De.fromDom(e.getBody()))}):se.none()},LD=e=>{const n=e.dom,o=e.selection,r=Dg(e.getBody(),o.getNode());if(ns(r)&&n.isBlock(r)&&n.isEmpty(r)){const l=n.create("br",{"data-mce-bogus":"1"});n.setHTML(r,""),r.appendChild(l),o.setRng(Xe.before(l).toRange())}return!0},a2=(e,n)=>e.selection.isCollapsed()?Tz(e,n):b3(e,n),BD=(e,n)=>{const o=Xe.fromRangeStart(e.selection.getRng());return Mo(n,e.getBody(),o).filter(r=>n?k6(r):uo(r)).bind(r=>hb(n?0:-1,r)).map(r=>()=>e.selection.select(r))},$D=(e,n)=>e.selection.isCollapsed()?BD(e,n):se.none(),aw=Ut,y3=e=>aw(e)&&e.data[0]===ka,Cz=e=>aw(e)&&e.data[e.data.length-1]===ka,Sz=e=>{var n;return((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(ka)},lK=e=>{var n;if(aw(e.previousSibling))return Cz(e.previousSibling)||e.previousSibling.appendData(ka),e.previousSibling;if(aw(e))return y3(e)||e.insertData(0,ka),e;{const o=Sz(e);return(n=e.parentNode)===null||n===void 0||n.insertBefore(o,e),o}},fm=e=>{var n,o;if(aw(e.nextSibling))return y3(e.nextSibling)||e.nextSibling.insertData(0,ka),e.nextSibling;if(aw(e))return Cz(e)||e.appendData(ka),e;{const r=Sz(e);return e.nextSibling?(n=e.parentNode)===null||n===void 0||n.insertBefore(r,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(r),r}},c2=(e,n)=>e?lK(n):fm(n),xz=Ze(c2,!0),_3=Ze(c2,!1),l2=(e,n)=>Ut(e.container())?c2(n,e.container()):c2(n,e.getNode()),Az=(e,n)=>{const o=n.get();return o&&e.container()===o&&xc(o)},E3=(e,n)=>n.fold(o=>{ip(e.get());const r=xz(o);return e.set(r),se.some(Xe(r,r.length-1))},o=>ti(o).map(r=>{if(Az(r,e)){const l=e.get();return Xe(l,1)}else{ip(e.get());const l=l2(r,!0);return e.set(l),Xe(l,1)}}),o=>Yr(o).map(r=>{if(Az(r,e)){const l=e.get();return Xe(l,l.length-1)}else{ip(e.get());const l=l2(r,!1);return e.set(l),Xe(l,l.length-1)}}),o=>{ip(e.get());const r=_3(o);return e.set(r),se.some(Xe(r,1))}),Oz=(e,n)=>{for(let o=0;o<e.length;o++){const r=e[o].apply(null,n);if(r.isSome())return r}return se.none()},Ri=Qu.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),w3=(e,n)=>{const o=qi(n,e);return o||e},Rz=(e,n,o)=>{const r=Cf(o),l=w3(n,r.container());return wp(e,l,r).fold(()=>di(l,r).bind(Ze(wp,e,l)).map(h=>Ri.before(h)),se.none)},Iz=(e,n)=>yf(e,n)===null,T3=(e,n,o)=>wp(e,n,o).filter(Ze(Iz,n)),Dz=(e,n,o)=>{const r=fP(o);return T3(e,n,r).bind(l=>fi(l,r).isNone()?se.some(Ri.start(l)):se.none())},Nz=(e,n,o)=>{const r=Cf(o);return T3(e,n,r).bind(l=>di(l,r).isNone()?se.some(Ri.end(l)):se.none())},By=(e,n,o)=>{const r=fP(o),l=w3(n,r.container());return wp(e,l,r).fold(()=>fi(l,r).bind(Ze(wp,e,l)).map(h=>Ri.after(h)),se.none)},C3=e=>!oV(FD(e)),Fg=(e,n,o)=>Oz([Rz,Dz,Nz,By],[e,n,o]).filter(C3),FD=e=>e.fold(jt,jt,jt,jt),u2=e=>e.fold(nt("before"),nt("start"),nt("end"),nt("after")),cw=e=>e.fold(Ri.before,Ri.before,Ri.after,Ri.after),d2=e=>e.fold(Ri.start,Ri.start,Ri.end,Ri.end),S3=(e,n)=>u2(e)===u2(n)&&FD(e)===FD(n),x3=(e,n,o,r,l,h)=>Et(wp(n,o,r),wp(n,o,l),(v,A)=>v!==A&&GY(o,v,A)?Ri.after(e?v:A):h).getOr(h),Mz=(e,n)=>e.fold(Dt,o=>!S3(o,n)),fS=(e,n,o,r,l)=>{const h=Wo(e,l);return Mo(e,o,h).map(Ze(Wo,e)).fold(()=>r.map(cw),R=>Fg(n,o,R).map(Ze(x3,e,n,o,h,R)).filter(Ze(Mz,r))).filter(C3)},kz=(e,n)=>e?n.fold(B(se.some,Ri.start),se.none,B(se.some,Ri.after),se.none):n.fold(se.none,B(se.some,Ri.before),se.none,B(se.some,Ri.end)),Pz=(e,n,o,r)=>{const l=Wo(e,r),h=Fg(n,o,l);return Fg(n,o,l).bind(Ze(kz,e)).orThunk(()=>fS(e,n,o,h,r))},Lz=e=>Ee(e.selection.getSel().modify),A3=(e,n,o)=>{const r=e?1:-1;return n.setRng(Xe(o.container(),o.offset()+r).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},Bz=(e,n)=>{const o=n.selection.getRng(),r=e?Xe.fromRangeEnd(o):Xe.fromRangeStart(o);return Lz(n)?e&&Ed(r)?A3(!0,n.selection,r):!e&&d1(r)?A3(!1,n.selection,r):!1:!1};var Hg;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Hg||(Hg={}));const f2=(e,n)=>e===Ea.Backwards?Rs(n):n,O3=(e,n,o)=>e===Ea.Forwards?n.next(o):n.prev(o),$z=(e,n,o,r)=>mr(r.getNode(n===Ea.Forwards))?Hg.Br:tu(o,r)===!1?Hg.Block:Hg.Wrap,$b=(e,n,o,r)=>{const l=Ye(o);let h=r;const v=[];for(;h;){const A=O3(n,l,h);if(!A)break;if(mr(A.getNode(!1)))return n===Ea.Forwards?{positions:f2(n,v).concat([A]),breakType:Hg.Br,breakAt:se.some(A)}:{positions:f2(n,v),breakType:Hg.Br,breakAt:se.some(A)};if(!A.isVisible()){h=A;continue}if(e(h,A)){const R=$z(o,n,h,A);return{positions:f2(n,v),breakType:R,breakAt:se.some(A)}}v.push(A),h=A}return{positions:f2(n,v),breakType:Hg.Eol,breakAt:se.none()}},HD=(e,n,o,r)=>n(o,r).breakAt.map(l=>{const h=n(o,l).positions;return e===Ea.Backwards?h.concat(l):[l].concat(h)}).getOr([]),hS=(e,n)=>Ms(e,(o,r)=>o.fold(()=>se.some(r),l=>Et(Di(l.getClientRects()),Di(r.getClientRects()),(h,v)=>{const A=Math.abs(n-h.left);return Math.abs(n-v.left)<=A?r:l}).or(o)),se.none()),mS=(e,n)=>Di(n.getClientRects()).bind(o=>hS(e,o.left)),$y=Ze($b,Xe.isAbove,-1),hm=Ze($b,Xe.isBelow,1),VD=Ze(HD,-1,$y),Of=Ze(HD,1,hm),Fy=(e,n)=>$y(e,n).breakAt.isNone(),zD=(e,n)=>hm(e,n).breakAt.isNone(),Fz=e=>ti(e).map(n=>[n].concat(hm(e,n).positions)).getOr([]),R3=e=>Yr(e).map(n=>$y(e,n).positions.concat(n)).getOr([]),Hz=(e,n)=>mS(VD(e,n),n),Vz=(e,n)=>mS(Of(e,n),n),zz=Lo,I3=(e,n)=>Math.abs(e.left-n),D3=(e,n)=>Math.abs(e.right-n),N3=e=>Ja(e,"node"),M3=(e,n)=>xa(e,(o,r)=>{const l=Math.min(I3(o,n),D3(o,n)),h=Math.min(I3(r,n),D3(r,n));return h===l&&N3(r)&&zz(r.node)||h<l?r:o}),Uz=e=>{const n=o=>Kt(o,r=>{const l=Gh(r);return l.node=e,l});if(on(e))return n(e.getClientRects());if(Ut(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),n(o.getClientRects())}else return[]},Hy=e=>Sa(e,Uz);var Vy;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(Vy||(Vy={}));const k3=(e,n,o,r)=>{let l=r;for(;l=vf(l,e,oa,n);)if(o(l))return},UD=(e,n,o,r,l,h)=>{let v=0;const A=[],R=K=>{let ie=Hy([K]);e===-1&&(ie=ie.reverse());for(let Ae=0;Ae<ie.length;Ae++){const Ie=ie[Ae];if(!o(Ie,F)){if(A.length>0&&n(Ie,yc(A))&&v++,Ie.line=v,l(Ie))return!0;A.push(Ie)}}return!1},F=yc(h.getClientRects());if(!F)return A;const J=h.getNode();return J&&(R(J),k3(e,r,R,J)),A},WD=(e,n)=>n.line>e,Wz=(e,n)=>n.line===e,Gz=Ze(UD,Vy.Up,il,Km),qz=Ze(UD,Vy.Down,Km,il),P3=e=>yc(e.getClientRects()),jz=(e,n,o,r)=>{const l=Ye(n);let h,v,A,R;const F=[];let J=0;e===1?(h=l.next,v=Km,A=il,R=Xe.after(r)):(h=l.prev,v=il,A=Km,R=Xe.before(r));const K=P3(R);do{if(!R.isVisible())continue;const ie=P3(R);if(A(ie,K))continue;F.length>0&&v(ie,yc(F))&&J++;const Ae=Gh(ie);if(Ae.position=R,Ae.line=J,o(Ae))return F;F.push(Ae)}while(R=h(R));return F},L3=e=>n=>WD(e,n),GD=e=>n=>Wz(e,n),Vg=(e,n)=>{e.selection.setRng(n),Tn(e,e.selection.getRng())},qD=(e,n,o)=>se.some(rw(e,n,o)),B3=(e,n,o,r,l,h)=>{const v=n===Ea.Forwards,A=Ye(e.getBody()),R=Ze(Q0,v?A.next:A.prev),F=v?r:l;if(!o.collapsed){const Ie=Ol(o);if(h(Ie))return dm(n,e,Ie,n===Ea.Backwards,!1);if(PD(e)){const ye=o.cloneRange();return ye.collapse(n===Ea.Backwards),se.from(ye)}}const J=Eg(n,e.getBody(),o);if(F(J))return dS(e,J.getNode(!v));let K=R(J);const ie=Rv(o);if(K)K=Wo(v,K);else return ie?se.some(o):se.none();if(F(K))return dm(n,e,K.getNode(!v),v,!1);const Ae=R(K);return Ae&&F(Ae)&&wg(K,Ae)?dm(n,e,Ae.getNode(!v),v,!1):ie?qD(e,K.toRange(),!1):se.none()},Bd=(e,n,o,r,l,h)=>{const v=Eg(n,e.getBody(),o),A=yc(v.getClientRects()),R=n===Vy.Down,F=e.getBody();if(!A)return se.none();if(PD(e)){const Oe=R?Xe.fromRangeEnd(o):Xe.fromRangeStart(o);return(R?Vz:Hz)(F,Oe).orThunk(()=>se.from(Oe)).map(Fe=>Fe.toRange())}const K=(R?qz:Gz)(F,L3(1),v),ie=Bt(K,GD(1)),Ae=A.left,Ie=M3(ie,Ae);if(Ie&&h(Ie.node)){const Oe=Math.abs(Ae-Ie.left),ze=Math.abs(Ae-Ie.right);return dm(n,e,Ie.node,Oe<ze,!1)}let ye;if(r(v)?ye=v.getNode():l(v)?ye=v.getNode(!0):ye=Ol(o),ye){const Oe=jz(n,F,L3(1),ye);let ze=M3(Bt(Oe,GD(1)),Ae);if(ze||(ze=yc(Bt(Oe,GD(0))),ze))return qD(e,ze.position.toRange(),!1)}return ie.length===0?jD(e,R).filter(R?l:r).map(Oe=>rw(e,Oe.toRange(),!1)):se.none()},jD=(e,n)=>{const o=e.selection.getRng(),r=n?Xe.fromRangeEnd(o):Xe.fromRangeStart(o),l=K0(r.container(),e.getBody());if(n){const h=hm(l,r);return Yc(h.positions)}else{const h=$y(l,r);return Di(h.positions)}},h2=(e,n,o)=>jD(e,n).filter(o).exists(r=>(e.selection.setRng(r.toRange()),!0)),pS=(e,n)=>{const o=e.dom.createRng();o.setStart(n.container(),n.offset()),o.setEnd(n.container(),n.offset()),e.selection.setRng(o)},m2=(e,n)=>{e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},$3=(e,n,o)=>E3(n,o).map(r=>(pS(e,r),o)),Zz=(e,n,o)=>{const r=Xe.fromRangeStart(e);if(e.collapsed)return r;{const l=Xe.fromRangeEnd(e);return o?fi(n,l).getOr(l):di(n,r).getOr(r)}},Yz=(e,n,o)=>{const r=e.getBody(),l=Zz(e.selection.getRng(),r,o),h=Ze(Ey,e);return Pz(o,h,r,l).bind(A=>$3(e,n,A))},Kz=(e,n,o)=>{const r=Kt(Jr(De.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),v=>v.dom),l=Bt(r,e),h=Bt(o,e);pt(id(l,h),Ze(m2,!1)),pt(id(h,l),Ze(m2,!0))},Xz=(e,n)=>{const o=n.get();if(e.selection.isCollapsed()&&!e.composing&&o){const r=Xe.fromRangeStart(e.selection.getRng());Xe.isTextPosition(r)&&!jc(r)&&(pS(e,iE(o,r)),n.set(null))}},F3=(e,n,o,r)=>{if(n.selection.isCollapsed()){const l=Bt(r,e);pt(l,h=>{const v=Xe.fromRangeStart(n.selection.getRng());Fg(e,n.getBody(),v).bind(A=>$3(n,o,A))})}},H3=(e,n,o)=>bg(e)?Yz(e,n,o).isSome():!1,V3=(e,n,o)=>bg(n)?Bz(e,n):!1,gS=e=>{const n=zi(null),o=Ze(Ey,e);return e.on("NodeChange",r=>{bg(e)&&(Kz(o,e.dom,r.parents),Xz(e,n),F3(o,e,n,r.parents))}),n},dv=Ze(V3,!0),zy=Ze(V3,!1),Uy=(e,n,o)=>{if(bg(e)){const r=jD(e,n).getOrThunk(()=>{const l=e.selection.getRng();return n?Xe.fromRangeEnd(l):Xe.fromRangeStart(l)});return Fg(Ze(Ey,e),e.getBody(),r).exists(l=>{const h=cw(l);return E3(o,h).exists(v=>(pS(e,v),!0))})}else return!1},ZD=(e,n)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(n.container(),n.offset()),o},YD=e=>Et(ti(e),Yr(e),(n,o)=>{const r=Wo(!0,n),l=Wo(!1,o);return di(e,r).forall(h=>h.isEqual(l))}).getOr(!0),KD=(e,n)=>o=>E3(n,o).map(r=>()=>pS(e,r)),z3=(e,n,o,r)=>{const l=e.getBody(),h=Ze(Ey,e);e.undoManager.ignore(()=>{e.selection.setRng(ZD(o,r)),TC(e),Fg(h,l,Xe.fromRangeStart(e.selection.getRng())).map(d2).bind(KD(e,n)).each(Ho)}),e.nodeChanged()},U3=(e,n)=>{const o=qi(n,e);return o||e},W3=(e,n,o,r)=>{const l=U3(e.getBody(),r.container()),h=Ze(Ey,e),v=Fg(h,l,r);return v.bind(R=>o?R.fold(nt(se.some(d2(R))),se.none,nt(se.some(cw(R))),se.none):R.fold(se.none,nt(se.some(cw(R))),se.none,nt(se.some(d2(R))))).map(KD(e,n)).getOrThunk(()=>{const R=Io(o,l,r),F=R.bind(J=>Fg(h,l,J));return Et(v,F,()=>wp(h,l,r).bind(J=>YD(J)?se.some(()=>{yy(e,o,De.fromDom(J))}):se.none())).getOrThunk(()=>F.bind(()=>R.map(J=>()=>{o?z3(e,n,r,J):z3(e,n,J,r)})))})},XD=(e,n,o)=>{if(e.selection.isCollapsed()&&bg(e)){const r=Xe.fromRangeStart(e.selection.getRng());return W3(e,n,o,r)}return se.none()},Qz=e=>Qt(e)>1,G3=(e,n)=>{const o=De.fromDom(e.getBody()),r=De.fromDom(e.selection.getStart()),l=sv(r,o);return Ir(l,n).fold(nt(l),h=>l.slice(0,h))},Jz=e=>G3(e,n=>Ht(n)||Qz(n)),eU=e=>G3(e,Ht),q3=(e,n)=>{const o=Ze($C,e);return Sa(n,r=>o(r)?[r.dom]:[])},QD=e=>{const n=eU(e);return q3(e,n)},j3=(e,n,o,r)=>{const l=q3(n,r);if(l.length===0)yy(n,e,o);else{const h=iL(o.dom,l);n.selection.setRng(h.toRange())}},uK=(e,n)=>{const o=Jz(e);return Yc(o).bind(r=>{const l=Xe.fromRangeStart(e.selection.getRng());return pP(n,l,r.dom)&&!II(r)?se.some(()=>j3(n,e,r,o)):se.none()})},dK=(e,n)=>{const o=n.parentElement;return mr(n)&&!we(o)&&e.dom.isEmpty(o)},fK=e=>II(De.fromDom(e)),Z3=(e,n)=>{const o=e.selection.getStart(),r=dK(e,o)||fK(o)?iL(o,n):im(e,n);e.selection.setRng(r.toRange())},hK=(e,n)=>{const o=id(n,QD(e));o.length>0&&Z3(e,o)},tU=e=>Ut(e.startContainer),nU=e=>e.startOffset===0&&tU(e),oU=(e,n)=>{const o=n.startContainer.parentElement;return!we(o)&&$C(e,De.fromDom(o))},mK=e=>{const n=e.startContainer.parentNode,o=e.endContainer.parentNode;return!we(n)&&!we(o)&&n.isEqualNode(o)},sU=e=>{const n=e.endContainer;return e.endOffset===(Ut(n)?n.length:n.childNodes.length)},$d=e=>mK(e)&&sU(e),Y3=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),vS=e=>$d(e)||Y3(e),rU=e=>{const n=e.selection.getRng();return nU(n)&&oU(e,n)&&vS(n)},K3=e=>{if(rU(e)){const n=QD(e);return se.some(()=>{TC(e),hK(e,n)})}else return se.none()},p2=(e,n)=>e.selection.isCollapsed()?uK(e,n):K3(e),JD=e=>tL(e,n=>Gs(n.dom),Ht),iU=e=>JD(De.fromDom(e.selection.getStart())),aU=e=>{const n=e.selection.getRng();return n.collapsed&&(tU(n)||e.dom.isEmpty(n.startContainer))&&!iU(e)},lw=e=>(aU(e)&&Z3(e,[]),!0),eN=(e,n,o)=>Pe(o)?se.some(()=>{e._selectionOverrides.hideFakeCaret(),yy(e,n,De.fromDom(o))}):se.none(),cU=(e,n)=>{const o=n?_C:po,r=n?Ea.Forwards:Ea.Backwards,l=Eg(r,e.getBody(),e.selection.getRng());return o(l)?eN(e,n,l.getNode(!n)):se.from(Wo(n,l)).filter(h=>o(h)&&wg(l,h)).bind(h=>eN(e,n,h.getNode(!n)))},tN=(e,n)=>{const o=e.selection.getNode();return sr(o)?eN(e,n,o):se.none()},nN=(e,n)=>e.selection.isCollapsed()?cU(e,n):tN(e,n),pK=e=>ts(e,n=>ns(n.dom)||Lo(n.dom)).exists(n=>ns(n.dom)),oN=e=>ld(e??"").getOr(0),X3=(e,n)=>{const o=e||Dn(n)?"margin":"padding",r=$u(n,"direction")==="rtl"?"-right":"-left";return o+r},sN=(e,n,o,r,l,h)=>{const v=X3(o,De.fromDom(h)),A=oN(e.getStyle(h,v));if(n==="outdent"){const R=Math.max(0,A-r);e.setStyle(h,v,R?R+l:"")}else{const R=A+r+l;e.setStyle(h,v,R)}},Q3=(e,n)=>or(n,o=>{const r=X3(np(e),o),l=Ma(o,r).map(oN).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&l>0}),lU=e=>{const n=eB(e);return!e.mode.isReadOnly()&&(n.length>1||Q3(e,n))},J3=e=>qr(e)||li(e),uU=e=>zo(e).exists(J3),eB=e=>Bt(Fu(e.selection.getSelectedBlocks()),n=>!J3(n)&&!uU(n)&&pK(n)),g2=(e,n)=>{var o,r;const{dom:l}=e,h=kr(e),v=(r=(o=/[a-z%]+$/i.exec(h))===null||o===void 0?void 0:o[0])!==null&&r!==void 0?r:"px",A=oN(h),R=np(e);pt(eB(e),F=>{sN(l,n,R,A,v,F.dom)})},v2=e=>g2(e,"indent"),rN=e=>g2(e,"outdent"),iN=e=>{if(e.selection.isCollapsed()&&lU(e)){const n=e.dom,o=e.selection.getRng(),r=Xe.fromRangeStart(o),l=n.getParent(o.startContainer,n.isBlock);if(l!==null&&by(De.fromDom(l),r))return se.some(()=>rN(e))}return se.none()},tB=(e,n,o)=>$r([iN,a2,MD,(r,l)=>XD(r,n,l),uS,DC,$D,nN,ND,p2],r=>r(e,o)).filter(r=>e.selection.isEditable()),dU=(e,n)=>{tB(e,n,!1).fold(()=>{TC(e),CC(e)},Ho)},aN=(e,n)=>{tB(e,n,!0).fold(()=>hP(e),Ho)},fU=(e,n)=>{e.addCommand("delete",()=>{dU(e,n)}),e.addCommand("forwardDelete",()=>{aN(e,n)})},nB=5,hU=400,oB=e=>e.touches===void 0||e.touches.length!==1?se.none():se.some(e.touches[0]),mm=(e,n)=>{const o=Math.abs(e.clientX-n.x),r=Math.abs(e.clientY-n.y);return o>nB||r>nB},sB=e=>{const n=sa(),o=zi(!1),r=Wc(l=>{e.dispatch("longpress",{...l,type:"longpress"}),o.set(!0)},hU);e.on("touchstart",l=>{oB(l).each(h=>{r.cancel();const v={x:h.clientX,y:h.clientY,target:l.target};r.throttle(l),o.set(!1),n.set(v)})},!0),e.on("touchmove",l=>{r.cancel(),oB(l).each(h=>{n.on(v=>{mm(h,v)&&(n.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",l=>{r.cancel(),l.type!=="touchcancel"&&n.get().filter(h=>h.target.isEqualNode(l.target)).each(()=>{o.get()?l.preventDefault():e.dispatch("tap",{...l,type:"tap"})})},!0)},b2=(e,n)=>jn(e,n.nodeName),gK=(e,n)=>Ut(n)?!0:on(n)?!b2(e.getBlockElements(),n)&&!Ju(n)&&!Wf(e,n):!1,vK=(e,n,o)=>Po(Uk(De.fromDom(o),De.fromDom(n)),r=>b2(e,r.dom)),bK=(e,n)=>{if(Ut(n)){if(n.data.length===0)return!0;if(/^\s+$/.test(n.data)&&(!n.nextSibling||b2(e,n.nextSibling)))return!0}return!1},mU=e=>e.dom.create(_u(e),gg(e)),pU=e=>{const n=e.dom,o=e.selection,r=e.schema,l=r.getBlockElements(),h=o.getStart(),v=e.getBody();let A,R,F=!1;const J=_u(e);if(!h||!on(h))return;const K=v.nodeName.toLowerCase();if(!r.isValidChild(K,J.toLowerCase())||vK(l,v,h))return;const ie=o.getRng(),{startContainer:Ae,startOffset:Ie,endContainer:ye,endOffset:Oe}=ie,ze=Sb(e);let Fe=v.firstChild;for(;Fe;)if(on(Fe)&&rf(r,Fe),gK(r,Fe)){if(bK(l,Fe)){R=Fe,Fe=Fe.nextSibling,n.remove(R);continue}A||(A=mU(e),v.insertBefore(A,Fe),F=!0),R=Fe,Fe=Fe.nextSibling,A.appendChild(R)}else A=null,Fe=Fe.nextSibling;F&&ze&&(ie.setStart(Ae,Ie),ie.setEnd(ye,Oe),o.setRng(ie),e.nodeChanged())},bS=(e,n,o)=>{const r=De.fromDom(mU(e)),l=Gn();wr(r,l),o(n,r);const h=document.createRange();return h.setStartBefore(l.dom),h.setEndBefore(l.dom),h},gU=e=>{e.on("NodeChange",Ze(pU,e))},y2=e=>n=>(" "+n.attr("class")+" ").indexOf(e)!==-1,rB=(e,n,o)=>function(r){const l=arguments,h=l[l.length-2],v=h>0?n.charAt(h-1):"";if(v==='"')return r;if(v===">"){const A=n.lastIndexOf("<",h);if(A!==-1&&n.substring(A,h).indexOf('contenteditable="false"')!==-1)return r}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(l[0])+'">'+e.dom.encode(typeof l[1]=="string"?l[1]:l[0])+"</span>"},iB=(e,n,o)=>{let r=n.length,l=o.content;if(o.format!=="raw"){for(;r--;)l=l.replace(n[r],rB(e,l,V0(e)));o.content=l}},aB=e=>{const n="contenteditable",o=" "+Te.trim(mT(e))+" ",r=" "+Te.trim(V0(e))+" ",l=y2(o),h=y2(r),v=pT(e);v.length>0&&e.on("BeforeSetContent",A=>{iB(e,v,A)}),e.parser.addAttributeFilter("class",A=>{let R=A.length;for(;R--;){const F=A[R];l(F)?F.attr(n,"true"):h(F)&&F.attr(n,"false")}}),e.serializer.addAttributeFilter(n,A=>{let R=A.length;for(;R--;){const F=A[R];!l(F)&&!h(F)||(v.length>0&&F.attr("data-mce-content")?(F.name="#text",F.type=3,F.raw=!0,F.value=F.attr("data-mce-content")):F.attr(n,null))}})},vU=e=>Kd(De.fromDom(e.getBody()),"*[data-mce-caret]").map(n=>n.dom).getOrNull(),cB=(e,n)=>{n.hasAttribute("data-mce-caret")&&(Ov(n),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(n))},bU=(e,n)=>{const o=vU(e);if(o){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),cB(e,o);return}xv(o)&&(cB(e,o),e.undoManager.add())}},yU=e=>{e.on("keyup compositionstart",Ze(bU,e))},yS=Lo,_U=(e,n,o)=>B3(n,e,o,vy,Ab,yS),EU=(e,n,o)=>Bd(n,e,o,h=>vy(h)||ZR(h),h=>Ab(h)||P6(h),yS),wU=e=>{const n=e.dom.create(_u(e));return n.innerHTML='<br data-mce-bogus="1">',n},_2=(e,n,o)=>{const r=Ye(e.getBody()),l=Ze(Q0,n===1?r.next:r.prev);if(o.collapsed){const h=e.dom.getParent(o.startContainer,"PRE");if(!h)return;if(!l(Xe.fromRangeStart(o))){const A=De.fromDom(wU(e));n===1?ol(De.fromDom(h),A):ds(De.fromDom(h),A),e.selection.select(A.dom,!0),e.selection.collapse()}}},TU=(e,n)=>{const o=n?Ea.Forwards:Ea.Backwards,r=e.selection.getRng();return _U(o,e,r).orThunk(()=>(_2(e,o,r),se.none()))},CU=(e,n)=>{const o=n?1:-1,r=e.selection.getRng();return EU(o,e,r).orThunk(()=>(_2(e,o,r),se.none()))},cN=(e,n)=>TU(e,n).exists(o=>(Vg(e,o),!0)),lB=(e,n)=>CU(e,n).exists(o=>(Vg(e,o),!0)),uB=(e,n)=>h2(e,n,n?Ab:vy),E2=(e,n)=>kD(e,!n).map(o=>{const r=o.toRange(),l=e.selection.getRng();return n?r.setStart(l.startContainer,l.startOffset):r.setEnd(l.endContainer,l.endOffset),r}).exists(o=>(Vg(e,o),!0)),SU=e=>Pn(["figcaption"],zs(e)),xU=(e,n)=>{const o=Ze(os,n);return ts(De.fromDom(e.container()),Ht,o).filter(SU)},AU=(e,n,o)=>n?zD(e.dom,o):Fy(e.dom,o),lN=(e,n)=>{const o=De.fromDom(e.getBody()),r=Xe.fromRangeStart(e.selection.getRng());return xU(r,o).exists(()=>{if(AU(o,n,r)){const h=bS(e,o,n?wr:Ul);return e.selection.setRng(h),!0}else return!1})},dB=(e,n)=>e.selection.isCollapsed()?lN(e,n):!1,uN={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},OU=e=>Kt(e,n=>({...uN,...n})),RU=e=>Kt(e,n=>({...uN,...n})),fB=(e,n)=>n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey,IU=(e,n)=>Sa(OU(e),o=>fB(o,n)?[o]:[]),DU=(e,n)=>Sa(RU(e),o=>fB(o,n)?[o]:[]),So=(e,...n)=>()=>e.apply(null,n),Zi=(e,n)=>bs(IU(e,n),o=>o.action()),hB=(e,n)=>$r(DU(e,n),o=>o.action()),mB=(e,n)=>{const o=n?Ea.Forwards:Ea.Backwards,r=e.selection.getRng();return B3(e,o,r,_C,po,sr).exists(l=>(Vg(e,l),!0))},pB=(e,n)=>{const o=n?1:-1,r=e.selection.getRng();return Bd(e,o,r,_C,po,sr).exists(l=>(Vg(e,l),!0))},dN=(e,n)=>h2(e,n,n?po:_C),w2=Qu.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),pm={...w2,none:e=>w2.none(e)},fN=(e,n)=>hN(e,n,Dt),hN=(e,n,o)=>Sa(We(e),r=>fa(r,n)?o(r)?[r]:[]:hN(r,n,o)),mN=(e,n,o=tt)=>{if(o(n))return se.none();if(Pn(e,zs(n)))return se.some(n);const r=l=>fa(l,"table")||o(l);return Na(n,e.join(","),r)},pN=(e,n)=>mN(["td","th"],e,n),gN=e=>fN(e,"th,td"),vN=(e,n)=>zl(e,"table",n),uw=(e,n,o,r,l=Dt)=>{const h=r===1;if(!h&&o<=0)return pm.first(e[0]);if(h&&o>=e.length-1)return pm.last(e[e.length-1]);{const v=o+r,A=e[v];return l(A)?pm.middle(n,A):uw(e,n,v,r,l)}},_S=(e,n)=>vN(e,n).bind(o=>{const r=gN(o);return Ir(r,h=>os(e,h)).map(h=>({index:h,all:r}))}),ES=(e,n,o)=>_S(e,o).fold(()=>pm.none(e),l=>uw(l.all,e,l.index,1,n)),wS=(e,n,o)=>_S(e,o).fold(()=>pm.none(),l=>uw(l.all,e,l.index,-1,n)),zg=(e,n)=>({left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}),TS=(e,n)=>Sa(n,o=>{const r=zg(Gh(o.getBoundingClientRect()),-1);return[{x:r.left,y:e(r),cell:o},{x:r.right,y:e(r),cell:o}]}),gB=(e,n,o)=>Ms(e,(r,l)=>r.fold(()=>se.some(l),h=>{const v=Math.sqrt(Math.abs(h.x-n)+Math.abs(h.y-o)),A=Math.sqrt(Math.abs(l.x-n)+Math.abs(l.y-o));return se.some(A<v?l:h)}),se.none()),bN=(e,n,o,r,l)=>{const h=Jr(De.fromDom(o),"td,th,caption").map(A=>A.dom),v=Bt(TS(e,h),A=>n(A,l));return gB(v,r,l).map(A=>A.cell)},MU=e=>e.bottom,vB=e=>e.top,kU=(e,n)=>e.y<n,PU=(e,n)=>e.y>n,bB=Ze(bN,MU,kU),LU=Ze(bN,vB,PU),BU=(e,n)=>Di(n.getClientRects()).bind(o=>bB(e,o.left,o.top)).bind(o=>mS(R3(o),n)),$U=(e,n)=>Yc(n.getClientRects()).bind(o=>LU(e,o.left,o.top)).bind(o=>mS(Fz(o),n)),FU=(e,n,o)=>o.breakAt.exists(r=>e(n,r).breakAt.isSome()),HU=e=>e.breakType===Hg.Wrap&&e.positions.length===0,VU=e=>e.breakType===Hg.Br&&e.positions.length===1,yB=(e,n,o)=>{const r=e(n,o);return HU(r)||!mr(o.getNode())&&VU(r)?!FU(e,n,r):r.breakAt.isNone()},zU=Ze(yB,$y),UU=Ze(yB,hm),WU=(e,n,o)=>{const r=Xe.fromRangeStart(n);return hs(!e,o).exists(l=>l.isEqual(r))},GU=(e,n,o,r)=>{const l=e.selection.getRng(),h=n?1:-1;return fb()&&WU(n,l,o)?(dm(h,e,o,!n,!1).each(v=>{Vg(e,v)}),!0):!1},qU=(e,n,o)=>BU(n,o).orThunk(()=>Di(o.getClientRects()).bind(r=>hS(VD(e,Xe.before(n)),r.left))).getOr(Xe.before(n)),jU=(e,n,o)=>$U(n,o).orThunk(()=>Di(o.getClientRects()).bind(r=>hS(Of(e,Xe.after(n)),r.left))).getOr(Xe.after(n)),yN=(e,n)=>{const o=n.getNode(e);return Nr(o)?se.some(o):se.none()},_B=(e,n,o)=>{n.undoManager.transact(()=>{const r=e?ol:ds,l=bS(n,De.fromDom(o),r);Vg(n,l)})},_N=(e,n,o)=>{const r=yN(!!n,o),l=n===!1;r.fold(()=>Vg(e,o.toRange()),h=>hs(l,e.getBody()).filter(v=>v.isEqual(o)).fold(()=>Vg(e,o.toRange()),v=>_B(n,e,h)))},ZU=(e,n,o,r)=>{const l=e.selection.getRng(),h=Xe.fromRangeStart(l),v=e.getBody();if(!n&&zU(r,h)){const A=qU(v,o,h);return _N(e,n,A),!0}else if(n&&UU(r,h)){const A=jU(v,o,h);return _N(e,n,A),!0}else return!1},EB=(e,n,o)=>se.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(r=>se.from(e.dom.getParent(r,"table")).map(l=>o(e,n,l,r))).getOr(!1),wB=(e,n)=>EB(e,n,GU),TB=(e,n)=>EB(e,n,ZU),CB=e=>{const n=yb.exact(e,0,e,0);return kR(n)},SB=(e,n,o)=>o.fold(se.none,se.none,(r,l)=>p6(l).map(h=>CB(h)),r=>(e.execCommand("mceTableInsertRowAfter"),EN(e,n,r))),EN=(e,n,o)=>SB(e,n,ES(o,Xd)),YU=(e,n,o)=>SB(e,n,wS(o,Xd)),wN=(e,n)=>{const o=["table","li","dl"],r=De.fromDom(e.getBody()),l=A=>{const R=zs(A);return os(A,r)||Pn(o,R)},h=e.selection.getRng(),v=De.fromDom(n?h.endContainer:h.startContainer);return pN(v,l).map(A=>(vN(A,l).each(J=>{e.model.table.clearSelectedCells(J.dom)}),e.selection.collapse(!n),(n?EN:YU)(e,l,A).each(J=>{e.selection.setRng(J)}),!0)).getOr(!1)},xB=(e,n,o)=>{const r=No.os.isMacOS()||No.os.isiOS();Zi([{keyCode:Sn.RIGHT,action:So(cN,e,!0)},{keyCode:Sn.LEFT,action:So(cN,e,!1)},{keyCode:Sn.UP,action:So(lB,e,!1)},{keyCode:Sn.DOWN,action:So(lB,e,!0)},...r?[{keyCode:Sn.UP,action:So(E2,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Sn.DOWN,action:So(E2,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Sn.RIGHT,action:So(wB,e,!0)},{keyCode:Sn.LEFT,action:So(wB,e,!1)},{keyCode:Sn.UP,action:So(TB,e,!1)},{keyCode:Sn.DOWN,action:So(TB,e,!0)},{keyCode:Sn.RIGHT,action:So(mB,e,!0)},{keyCode:Sn.LEFT,action:So(mB,e,!1)},{keyCode:Sn.UP,action:So(pB,e,!1)},{keyCode:Sn.DOWN,action:So(pB,e,!0)},{keyCode:Sn.RIGHT,action:So(H3,e,n,!0)},{keyCode:Sn.LEFT,action:So(H3,e,n,!1)},{keyCode:Sn.RIGHT,ctrlKey:!r,altKey:r,action:So(dv,e,n)},{keyCode:Sn.LEFT,ctrlKey:!r,altKey:r,action:So(zy,e,n)},{keyCode:Sn.UP,action:So(dB,e,!1)},{keyCode:Sn.DOWN,action:So(dB,e,!0)}],o).each(l=>{o.preventDefault()})},KU=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||xB(e,n,o)})},Rp=(e,n)=>({container:e,offset:n}),T2=rr.DOM,CS=e=>n=>e===n?-1:0,XU=e=>n=>e.isBlock(n)||Pn(["BR","IMG","HR","INPUT"],n.nodeName)||e.getContentEditable(n)==="false",TN=(e,n,o)=>{if(Ut(e)&&n>=0)return se.some(Rp(e,n));{const r=Sr(T2);return se.from(r.backwards(e,n,CS(e),o)).map(l=>Rp(l.container,l.container.data.length))}},AB=(e,n,o)=>{if(Ut(e)&&n>=e.length)return se.some(Rp(e,n));{const r=Sr(T2);return se.from(r.forwards(e,n,CS(e),o)).map(l=>Rp(l.container,0))}},CN=(e,n,o)=>{if(!Ut(e))return se.none();const r=e.data;if(n>=0&&n<=r.length)return se.some(Rp(e,n));{const l=Sr(T2);return se.from(l.backwards(e,n,CS(e),o)).bind(h=>{const v=h.container.data;return CN(h.container,n+v.length,o)})}},OB=(e,n,o)=>{if(!Ut(e))return se.none();const r=e.data;if(n<=r.length)return se.some(Rp(e,n));{const l=Sr(T2);return se.from(l.forwards(e,n,CS(e),o)).bind(h=>OB(h.container,n-r.length,o))}},C2=(e,n,o,r,l)=>{const h=Sr(e,XU(e));return se.from(h.backwards(n,o,r,l))},QU=e=>e.collapsed&&Ut(e.startContainer),RB=e=>_d(e.toString().replace(/\u00A0/g," ")),IB=e=>e!==""&&`  \f
\r	\v`.indexOf(e)!==-1,S2=(e,n)=>e.substring(n.length),DB=(e,n,o)=>{let r;const l=o.charAt(0);for(r=n-1;r>=0;r--){const h=e.charAt(r);if(IB(h))return se.none();if(l===h&&si(e,o,r,n))break}return se.some(r)},JU=(e,n,o,r=0)=>{if(!QU(n))return se.none();const l={text:"",offset:0},h=(A,R,F)=>(l.text=F+l.text,l.offset+=R,DB(l.text,l.offset,o).getOr(R)),v=e.getParent(n.startContainer,e.isBlock)||e.getRoot();return C2(e,n.startContainer,n.startOffset,h,v).bind(A=>{const R=n.cloneRange();if(R.setStart(A.container,A.offset),R.setEnd(n.endContainer,n.endOffset),R.collapsed)return se.none();const F=RB(R);return F.lastIndexOf(o)!==0||S2(F,o).length<r?se.none():se.some({text:S2(F,o),range:R,trigger:o})})},NB=(e,n,o,r=0)=>y6(De.fromDom(n.startContainer)).fold(()=>JU(e,n,o,r),l=>{const h=e.createRng();h.selectNode(l.dom);const v=RB(h);return se.some({range:h,text:S2(v,o),trigger:o})}),eW=e=>e.nodeType===Fl,tW=e=>e.nodeType===Er,MB=e=>{if(eW(e))return Rp(e,e.data.length);{const n=e.childNodes;return n.length>0?MB(n[n.length-1]):Rp(e,n.length)}},kB=(e,n)=>{const o=e.childNodes;return o.length>0&&n<o.length?kB(o[n],0):o.length>0&&tW(e)&&o.length===n?MB(o[o.length-1]):Rp(e,n)},nW=(e,n)=>{var o;const r=(o=e.getParent(n.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return C2(e,n.container,n.offset,(l,h)=>h===0?-1:h,r).filter(l=>{const h=l.container.data.charAt(l.offset-1);return!IB(h)}).isSome()},oW=e=>n=>{const o=kB(n.startContainer,n.startOffset);return!nW(e,o)},yK=(e,n,o)=>$r(o.triggers,r=>NB(e,n,r)),sW=(e,n)=>{const o=n(),r=e.selection.getRng();return yK(e.dom,r,o).bind(l=>SS(e,n,l))},SS=(e,n,o,r={})=>{var l;const h=n(),A=(l=e.selection.getRng().startContainer.nodeValue)!==null&&l!==void 0?l:"",R=Bt(h.lookupByTrigger(o.trigger),J=>o.text.length>=J.minChars&&J.matches.getOrThunk(()=>oW(e.dom))(o.range,A,o.text));if(R.length===0)return se.none();const F=Promise.all(Kt(R,J=>J.fetch(o.text,J.maxResults,r).then(ie=>({matchText:o.text,items:ie,columns:J.columns,onAction:J.onAction,highlightOn:J.highlightOn}))));return se.some({lookupData:F,context:o})};var gm;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(gm||(gm={}));const x2=(e,n,o)=>e.stype===gm.Error?n(e.serror):o(e.svalue),rW=e=>{const n=[],o=[];return pt(e,r=>{x2(r,l=>o.push(l),l=>n.push(l))}),{values:n,errors:o}},PB=(e,n)=>e.stype===gm.Error?{stype:gm.Error,serror:n(e.serror)}:e,LB=(e,n)=>e.stype===gm.Value?{stype:gm.Value,svalue:n(e.svalue)}:e,iW=(e,n)=>e.stype===gm.Value?n(e.svalue):e,aW=(e,n)=>e.stype===gm.Error?n(e.serror):e,BB=e=>({stype:gm.Value,svalue:e}),SN=e=>({stype:gm.Error,serror:e}),ul={fromResult:e=>e.fold(SN,BB),toResult:e=>x2(e,Ds.error,Ds.value),svalue:BB,partition:rW,serror:SN,bind:iW,bindError:aW,map:LB,mapError:PB,fold:x2},xN=e=>Ne(e)&&yi(e).length>100?" removed due to size":JSON.stringify(e,null,2),cW=e=>{const n=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:nt("... (only showing first ten failures)")}]):e;return Kt(n,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},xS=(e,n)=>ul.serror([{path:e,getErrorInfo:n}]),lW=(e,n,o)=>xS(e,()=>'Could not find valid *required* value for "'+n+'" in '+xN(o)),uW=(e,n)=>xS(e,()=>'Choice schema did not contain choice key: "'+n+'"'),dW=(e,n,o)=>xS(e,()=>'The chosen schema: "'+o+'" did not exist in branches: '+xN(n)),fW=(e,n)=>xS(e,nt(n)),hW=(e,n,o,r)=>Qs(o,r).fold(()=>dW(e,o,r),h=>h.extract(e.concat(["branch: "+r]),n)),pc=(e,n)=>({extract:(l,h)=>Qs(h,e).fold(()=>uW(l,e),A=>hW(l,h,n,A)),toString:()=>"chooseOn("+e+"). Possible values: "+yi(n)}),Ug=(e,n)=>n,mW=(e,n)=>qe(e)&&qe(n)?A2(e,n):n,pW=e=>(...n)=>{if(n.length===0)throw new Error("Can't merge zero objects");const o={};for(let r=0;r<n.length;r++){const l=n[r];for(const h in l)jn(l,h)&&(o[h]=e(o[h],l[h]))}return o},A2=pW(mW),gW=pW(Ug),FB=()=>({tag:"required",process:{}}),vW=e=>({tag:"defaultedThunk",process:e}),AN=e=>vW(nt(e)),dw=()=>({tag:"option",process:{}}),EK=(e,n)=>e.length>0?ul.svalue(A2(n,gW.apply(void 0,e))):ul.svalue(n),HB=e=>B(ul.serror,Zc)(e),bW={consolidateObj:(e,n)=>{const o=ul.partition(e);return o.errors.length>0?HB(o.errors):EK(o.values,n)},consolidateArr:e=>{const n=ul.partition(e);return n.errors.length>0?HB(n.errors):ul.svalue(n.values)}},yW=(e,n,o,r)=>({tag:"field",key:e,newKey:n,presence:o,prop:r}),VB=(e,n)=>({tag:"custom",newKey:e,instantiator:n}),zB=(e,n,o)=>{switch(e.tag){case"field":return n(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},AS=e=>{const n=(r,l)=>ul.bindError(e(l),h=>fW(r,h)),o=nt("val");return{extract:n,toString:o}},UB=AS(ul.svalue),_W=(e,n,o,r)=>Qs(n,o).fold(()=>lW(e,o,n),r),WB=(e,n,o,r)=>{const l=Qs(e,n).getOrThunk(()=>o(e));return r(l)},EW=(e,n,o)=>o(Qs(e,n)),GB=(e,n,o,r)=>{const l=Qs(e,n).map(h=>h===!0?o(e):h);return r(l)},qB=(e,n,o,r,l)=>{const h=A=>l.extract(n.concat([r]),A),v=A=>A.fold(()=>ul.svalue(se.none()),R=>{const F=l.extract(n.concat([r]),R);return ul.map(F,se.some)});switch(e.tag){case"required":return _W(n,o,r,h);case"defaultedThunk":return WB(o,r,e.process,h);case"option":return EW(o,r,v);case"defaultedOptionThunk":return GB(o,r,e.process,v);case"mergeWithThunk":return WB(o,r,nt({}),A=>{const R=A2(e.process(o),A);return h(R)})}},ON=(e,n,o)=>{const r={},l=[];for(const h of o)zB(h,(v,A,R,F)=>{const J=qB(R,e,n,v,F);ul.fold(J,K=>{l.push(...K)},K=>{r[A]=K})},(v,A)=>{r[v]=A(n)});return l.length>0?ul.serror(l):ul.svalue(r)},OS=e=>({extract:(r,l)=>ON(r,l,e),toString:()=>`obj{
`+Kt(e,l=>zB(l,(h,v,A,R)=>h+" -> "+R.toString(),(h,v)=>"state("+h+")")).join(`
`)+"}"}),O2=e=>({extract:(r,l)=>{const h=Kt(l,(v,A)=>e.extract(r.concat(["["+A+"]"]),v));return bW.consolidateArr(h)},toString:()=>"array("+e.toString()+")"}),wW=e=>AS(n=>e(n).fold(ul.serror,ul.svalue)),TW=(e,n,o)=>{const r=n.extract([e],o);return ul.mapError(r,l=>({input:o,errors:l}))},CW=(e,n,o)=>ul.toResult(TW(e,n,o)),SW=e=>`Errors: 
`+cW(e.errors).join(`
`)+`

Input object: `+xN(e.input),R2=(e,n)=>pc(e,Vo(n,OS)),jB=nt(UB),I2=(e,n)=>AS(o=>{const r=typeof o;return e(o)?ul.svalue(o):ul.serror(`Expected type: ${n} but got: ${r}`)}),ZB=I2(pn,"number"),D2=I2(Q,"string"),RN=I2(je,"boolean"),IN=I2(Ee,"function"),RS=yW,YB=VB,xW=e=>wW(n=>Pn(e,n)?Ds.value(n):Ds.error(`Unsupported value: "${n}", choose one of "${e.join(", ")}".`)),KB=(e,n)=>RS(e,e,FB(),n),DN=e=>KB(e,D2),N2=e=>KB(e,IN),XB=(e,n)=>RS(e,e,FB(),O2(n)),M2=(e,n)=>RS(e,e,dw(),n),k2=e=>M2(e,D2),AW=e=>M2(e,IN),OW=(e,n)=>RS(e,e,AN(n),jB()),fv=(e,n,o)=>RS(e,e,AN(n),o),NN=(e,n)=>fv(e,n,ZB),QB=(e,n)=>fv(e,n,D2),JB=(e,n,o)=>fv(e,n,xW(o)),MN=(e,n)=>fv(e,n,RN),e$=(e,n)=>fv(e,n,IN),TK=(e,n,o)=>fv(e,n,O2(o)),CK=DN("type"),RW=N2("fetch"),t$=N2("onAction"),IW=e$("onSetup",()=>Rt),DW=k2("text"),SK=k2("icon"),NW=k2("tooltip"),$a=k2("label"),kN=MN("active",!1),Gg=MN("enabled",!0),PN=MN("primary",!1),n$=e=>OW("columns",e),IS=e=>QB("type",e),LN=OS([CK,DN("trigger"),NN("minChars",1),n$(1),NN("maxResults",10),AW("matches"),RW,t$,TK("highlightOn",[],D2)]),BN=e=>CW("Autocompleter",LN,{trigger:e.ch,...e}),P2=[Gg,NW,SK,DW,IW],$N=[kN].concat(P2),MW=[e$("predicate",tt),JB("scope","node",["node","editor"]),JB("position","selection",["node","selection","line"])],kW=P2.concat([IS("contextformbutton"),PN,t$,YB("original",jt)]),PW=$N.concat([IS("contextformbutton"),PN,t$,YB("original",jt)]),LW=P2.concat([IS("contextformbutton")]),BW=$N.concat([IS("contextformtogglebutton")]),o$=R2("type",{contextformbutton:kW,contextformtogglebutton:PW});OS([IS("contextform"),e$("initValue",nt("")),$a,XB("commands",o$),M2("launch",R2("type",{contextformbutton:LW,contextformtogglebutton:BW}))].concat(MW));const $W=e=>{const n=e.ui.registry.getAll().popups,o=Vo(n,v=>BN(v).fold(A=>{throw new Error(SW(A))},jt)),r=Kc(ad(o,v=>v.trigger)),l=jd(o);return{dataset:o,triggers:r,lookupByTrigger:v=>Bt(l,A=>A.trigger===v)}},FW=(e,n)=>{const o=Wc(n.load,50);e.on("keypress compositionend",r=>{r.which!==27&&o.throttle()}),e.on("keydown",r=>{const l=r.which;l===8?o.throttle():l===27&&n.cancelIfNecessary()}),e.on("remove",o.cancel)},HW=e=>{const n=sa(),o=zi(!1),r=n.isSet,l=()=>{r()&&(c7(e),TR(e),o.set(!1),n.clear())},h=F=>{r()||(hD(e,F.range),n.set({trigger:F.trigger,matchLength:F.text.length}))},v=ml(()=>$W(e)),A=F=>n.get().map(J=>NB(e.dom,e.selection.getRng(),J.trigger).bind(K=>SS(e,v,K,F))).getOrThunk(()=>sW(e,v)),R=F=>{A(F).fold(l,J=>{h(J.context),J.lookupData.then(K=>{n.get().map(ie=>{const Ae=J.context;ie.trigger===Ae.trigger&&(Ae.text.length-ie.matchLength>=10?l():(n.set({...ie,matchLength:Ae.text.length}),o.get()?Bx(e,{lookupData:K}):(o.set(!0),wR(e,{lookupData:K}))))})})})};e.addCommand("mceAutocompleterReload",(F,J)=>{const K=Ne(J)?J.fetchOptions:{};R(K)}),e.addCommand("mceAutocompleterClose",l),FW(e,{cancelIfNecessary:l,load:R})},s$=e=>(n,o,r={})=>{const l=n.getBody(),h={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:l,currentTarget:l,eventPhase:Event.AT_TARGET,originalTarget:l,explicitOriginalTarget:l,isTrusted:!1,srcElement:l,cancelable:!1,preventDefault:Rt,inputType:o},v=Gm(new InputEvent(e));return n.dispatch(e,{...v,...h,...r})},FN=s$("input"),L2=s$("beforeinput"),r$=(e,n,o)=>{const r=o.keyCode===Sn.BACKSPACE?"deleteContentBackward":"deleteContentForward";hB([{keyCode:Sn.BACKSPACE,action:So(iN,e)},{keyCode:Sn.BACKSPACE,action:So(a2,e,!1)},{keyCode:Sn.DELETE,action:So(a2,e,!0)},{keyCode:Sn.BACKSPACE,action:So(MD,e,!1)},{keyCode:Sn.DELETE,action:So(MD,e,!0)},{keyCode:Sn.BACKSPACE,action:So(XD,e,n,!1)},{keyCode:Sn.DELETE,action:So(XD,e,n,!0)},{keyCode:Sn.BACKSPACE,action:So(DC,e,!1)},{keyCode:Sn.DELETE,action:So(DC,e,!0)},{keyCode:Sn.BACKSPACE,action:So($D,e,!1)},{keyCode:Sn.DELETE,action:So($D,e,!0)},{keyCode:Sn.BACKSPACE,action:So(nN,e,!1)},{keyCode:Sn.DELETE,action:So(nN,e,!0)},{keyCode:Sn.BACKSPACE,action:So(ND,e,!1)},{keyCode:Sn.DELETE,action:So(ND,e,!0)},{keyCode:Sn.BACKSPACE,action:So(uS,e,!1)},{keyCode:Sn.DELETE,action:So(uS,e,!0)},{keyCode:Sn.BACKSPACE,action:So(p2,e,!1)},{keyCode:Sn.DELETE,action:So(p2,e,!0)}],o).filter(l=>e.selection.isEditable()).each(l=>{o.preventDefault(),L2(e,r).isDefaultPrevented()||(l(),FN(e,r))})},VW=(e,n,o)=>{const r=Vs(),l=r.os,h=r.browser,v=l.isMacOS()?[{keyCode:Sn.BACKSPACE,altKey:!0,action:So(lw,e)},{keyCode:Sn.DELETE,altKey:!0,action:So(lw,e)}]:[{keyCode:Sn.BACKSPACE,ctrlKey:!0,action:So(lw,e)},{keyCode:Sn.DELETE,ctrlKey:!0,action:So(lw,e)}];l.isMacOS()&&o&&v.push({keyCode:h.isFirefox()?224:91,action:So(lw,e)}),Zi([{keyCode:Sn.BACKSPACE,action:So(LD,e)},{keyCode:Sn.DELETE,action:So(LD,e)},...v],n)},zW=(e,n)=>{let o=!1;e.on("keydown",r=>{o=r.keyCode===Sn.BACKSPACE,r.isDefaultPrevented()||r$(e,n,r)}),e.on("keyup",r=>{r.isDefaultPrevented()||VW(e,r,o),o=!1})},xK=e=>{for(;e;){if(on(e)||Ut(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},Wy=(e,n)=>{const o=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!n)return;if(/^(LI|DT|DD)$/.test(n.nodeName)){const h=xK(n.firstChild);h&&/^(UL|OL|DL)$/.test(h.nodeName)&&n.insertBefore(o.doc.createTextNode(_s),n.firstChild)}const l=o.createRng();if(n.normalize(),n.hasChildNodes()){const h=new ci(n,n);let v=n,A;for(;A=h.current();){if(Ut(A)){l.setStart(A,0),l.setEnd(A,0);break}if(r[A.nodeName.toLowerCase()]){l.setStartBefore(A),l.setEndBefore(A);break}v=A,A=h.next()}A||(l.setStart(v,0),l.setEnd(v,0))}else mr(n)?n.nextSibling&&o.isBlock(n.nextSibling)?(l.setStartBefore(n),l.setEndBefore(n)):(l.setStartAfter(n),l.setEndAfter(n)):(l.setStart(n,0),l.setEnd(n,0));e.selection.setRng(l),Tn(e,l)},B2=(e,n)=>{const o=e.getRoot();let r,l=n;for(;l!==o&&l&&e.getContentEditable(l)!=="false";)e.getContentEditable(l)==="true"&&(r=l),l=l.parentNode;return l!==o?r:o},HN=e=>se.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),UW=e=>HN(e).fold(nt(""),n=>n.nodeName.toUpperCase()),i$=e=>HN(e).filter(n=>li(De.fromDom(n))).isSome(),WW=(e,n)=>e.firstChild&&e.firstChild.nodeName===n,a$=e=>{var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},c$=(e,n)=>{const o=e==null?void 0:e.parentNode;return Pe(o)&&o.nodeName===n},l$=e=>Pe(e)&&/^(OL|UL|LI)$/.test(e.nodeName),AK=e=>Pe(e)&&/^(LI|DT|DD)$/.test(e.nodeName),Ml=e=>l$(e)&&l$(e.parentNode),$2=e=>{const n=e.parentNode;return AK(n)?n:e},F2=(e,n,o)=>{let r=e[o?"firstChild":"lastChild"];for(;r&&!on(r);)r=r[o?"nextSibling":"previousSibling"];return r===n},GW=(e,n,o,r,l)=>{const h=e.dom,v=e.selection.getRng(),A=o.parentNode;if(o===e.getBody()||!A)return;Ml(o)&&(l="LI");let R=n(l);if(F2(o,r,!0)&&F2(o,r,!1))if(c$(o,"LI")){const F=$2(o);h.insertAfter(R,F),a$(o)?h.remove(F):h.remove(o)}else h.replace(R,o);else if(F2(o,r,!0))c$(o,"LI")?(h.insertAfter(R,$2(o)),R.appendChild(h.doc.createTextNode(" ")),R.appendChild(o)):A.insertBefore(R,o),h.remove(r);else if(F2(o,r,!1))h.insertAfter(R,$2(o)),h.remove(r);else{o=$2(o);const F=v.cloneRange();F.setStartAfter(r),F.setEndAfter(o);const J=F.extractContents();l==="LI"&&WW(J,"LI")?(R=J.firstChild,h.insertAfter(J,o)):(h.insertAfter(J,o),h.insertAfter(R,o)),h.remove(r)}Wy(e,R)},qW=e=>{pt(Vu(De.fromDom(e),fr),n=>{const o=n.dom;o.nodeValue=_d(o.data)})},jW=(e,n)=>{const o=e.dom.getParent(n,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},ZW=(e,n)=>n&&n.nodeName==="A"&&e.isEmpty(n),VN=e=>{e.innerHTML='<br data-mce-bogus="1">'},fw=(e,n)=>e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n,zN=(e,n)=>Pe(n)&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.isEditable(n.parentNode)&&e.getContentEditable(n)!=="false",YW=(e,n,o)=>{var r;const l=[];if(!o)return;let h=o;for(;h=h.firstChild;){if(e.isBlock(h))return;on(h)&&!n[h.nodeName.toLowerCase()]&&l.push(h)}let v=l.length;for(;v--;)h=l[v],(!h.hasChildNodes()||h.firstChild===h.lastChild&&((r=h.firstChild)===null||r===void 0?void 0:r.nodeValue)===""||ZW(e,h))&&e.remove(h)},DS=(e,n,o)=>Ut(n)?e?o===1&&n.data.charAt(o-1)===ka?0:o:o===n.data.length-1&&n.data.charAt(o)===ka?n.data.length:o:o,UN=e=>{const n=e.cloneRange();return n.setStart(e.startContainer,DS(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,DS(!1,e.endContainer,e.endOffset)),n},KW=e=>{let n=e;do Ut(n)&&(n.data=n.data.replace(/^[\r\n]+/,"")),n=n.firstChild;while(n)},OK=(e,n,o)=>{const r=e.dom;se.from(o.style).map(r.parseStyle).each(R=>{const J={...nl(De.fromDom(n)),...R};r.setStyles(n,J)});const l=se.from(o.class).map(R=>R.split(/\s+/)),h=se.from(n.className).map(R=>Bt(R.split(/\s+/),F=>F!==""));Et(l,h,(R,F)=>{const J=Bt(F,ie=>!Pn(R,ie)),K=[...R,...J];r.setAttrib(n,"class",K.join(" "))});const v=["style","class"],A=Ps(o,(R,F)=>!Pn(v,F));r.setAttribs(n,A)},H2=(e,n)=>{if(_u(e).toLowerCase()===n.tagName.toLowerCase()){const r=gg(e);OK(e,n,r)}},XW=(e,n,o,r,l)=>{var h,v;const A=e.dom,R=(h=B2(A,r))!==null&&h!==void 0?h:A.getRoot();let F=A.getParent(r,A.isBlock);if(!F||!zN(A,F)){if(F=F||R,!F.hasChildNodes()){const Ae=A.create(n);return H2(e,Ae),F.appendChild(Ae),o.setStart(Ae,0),o.setEnd(Ae,0),Ae}let J=r;for(;J&&J.parentNode!==F;)J=J.parentNode;let K;for(;J&&!A.isBlock(J);)K=J,J=J.previousSibling;const ie=(v=K==null?void 0:K.parentElement)===null||v===void 0?void 0:v.nodeName;if(K&&ie&&e.schema.isValidChild(ie,n.toLowerCase())){const Ae=K.parentNode,Ie=A.create(n);for(H2(e,Ie),Ae.insertBefore(Ie,K),J=K;J&&!A.isBlock(J);){const ye=J.nextSibling;Ie.appendChild(J),J=ye}o.setStart(r,l),o.setEnd(r,l)}}return r},QW=(e,n)=>{n.normalize();const o=n.lastChild;(!o||on(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(n,"br")},RK=(e,n)=>{const o=Ql(e);return _t(n)?!1:Q(o)?Pn(Te.explode(o),n.nodeName.toLowerCase()):o},u$={insert:(e,n)=>{let o,r,l,h,v=!1;const A=e.dom,R=e.schema,F=R.getNonEmptyElements(),J=e.selection.getRng(),K=_u(e),ie=sn=>{let Zt=o;const mt=R.getTextInlineElements();let ht;sn||l==="TABLE"||l==="HR"?ht=A.create(sn||K):ht=Fe.cloneNode(!1);let yn=ht;if(Od(e)===!1)A.setAttrib(ht,"style",null),A.setAttrib(ht,"class",null);else do if(mt[Zt.nodeName]){if(Gs(Zt)||Ju(Zt))continue;const Bn=Zt.cloneNode(!1);A.setAttrib(Bn,"id",""),ht.hasChildNodes()?(Bn.appendChild(ht.firstChild),ht.appendChild(Bn)):(yn=Bn,ht.appendChild(Bn))}while((Zt=Zt.parentNode)&&Zt!==ze);return H2(e,ht),VN(yn),ht},Ae=sn=>{const Zt=DS(sn,o,r);if(Ut(o)&&(sn?Zt>0:Zt<o.data.length))return!1;if(o.parentNode===Fe&&v&&!sn||sn&&on(o)&&o===Fe.firstChild)return!0;if(fw(o,"TABLE")||fw(o,"HR"))return v&&!sn||!v&&sn;const mt=new ci(o,Fe);Ut(o)&&(sn&&Zt===0?mt.prev():!sn&&Zt===o.data.length&&mt.next());let ht;for(;ht=mt.current();){if(on(ht)){if(!ht.getAttribute("data-mce-bogus")){const yn=ht.nodeName.toLowerCase();if(F[yn]&&yn!=="br")return!1}}else if(Ut(ht)&&!Vc(ht.data))return!1;sn?mt.prev():mt.next()}return!0},Ie=()=>{let sn;return/^(H[1-6]|PRE|FIGURE)$/.test(l)&&Ke!=="HGROUP"?sn=ie(K):sn=ie(),RK(e,h)&&zN(A,h)&&A.isEmpty(Fe)?sn=A.split(h,Fe):A.insertAfter(sn,Fe),Wy(e,sn),sn};_p(A,J).each(sn=>{J.setStart(sn.startContainer,sn.startOffset),J.setEnd(sn.endContainer,sn.endOffset)}),o=J.startContainer,r=J.startOffset;const ye=!!(n&&n.shiftKey),Oe=!!(n&&n.ctrlKey);on(o)&&o.hasChildNodes()&&(v=r>o.childNodes.length-1,o=o.childNodes[Math.min(r,o.childNodes.length-1)]||o,v&&Ut(o)?r=o.data.length:r=0);const ze=B2(A,o);if(!ze||jW(e,o))return;ye||(o=XW(e,K,J,o,r));let Fe=A.getParent(o,A.isBlock)||A.getRoot();h=Pe(Fe==null?void 0:Fe.parentNode)?A.getParent(Fe.parentNode,A.isBlock):null,l=Fe?Fe.nodeName.toUpperCase():"";const Ke=h?h.nodeName.toUpperCase():"";if(Ke==="LI"&&!Oe){const sn=h;Fe=sn,h=sn.parentNode,l=Ke}if(/^(LI|DT|DD)$/.test(l)&&on(h)&&A.isEmpty(Fe)){GW(e,ie,h,Fe,K);return}if(Fe===e.getBody()||!zN(A,Fe))return;const at=Fe.parentNode;let xt;if(Uu(Fe))xt=Ov(Fe),A.isEmpty(Fe)&&VN(Fe),H2(e,xt),Wy(e,xt);else if(Ae(!1))xt=Ie();else if(Ae(!0)&&at)xt=at.insertBefore(ie(),Fe),Wy(e,fw(Fe,"HR")?xt:Fe);else{const sn=UN(J).cloneRange();sn.setEndAfter(Fe);const Zt=sn.extractContents();qW(Zt),KW(Zt),xt=Zt.firstChild,A.insertAfter(Zt,Fe),YW(A,F,xt),QW(A,Fe),A.isEmpty(Fe)&&VN(Fe),xt.normalize(),A.isEmpty(xt)?(A.remove(xt),Ie()):(H2(e,xt),Wy(e,xt))}A.setAttrib(xt,"id",""),e.dispatch("NewBlock",{newBlock:xt})},fakeEventName:"insertParagraph"},JW=(e,n,o)=>{const r=new ci(n,o);let l;const h=e.getNonEmptyElements();for(;l=r.next();)if(h[l.nodeName.toLowerCase()]||Ut(l)&&l.length>0)return!0;return!1},hv=(e,n,o)=>{const r=e.dom.createRng();o?(r.setStartBefore(n),r.setEndBefore(n)):(r.setStartAfter(n),r.setEndAfter(n)),e.selection.setRng(r),Tn(e,r)},e9=(e,n)=>{const o=e.selection,r=e.dom,l=o.getRng();let h,v=!1;_p(r,l).each(Ae=>{l.setStart(Ae.startContainer,Ae.startOffset),l.setEnd(Ae.endContainer,Ae.endOffset)});let A=l.startOffset,R=l.startContainer;if(on(R)&&R.hasChildNodes()){const Ae=A>R.childNodes.length-1;R=R.childNodes[Math.min(A,R.childNodes.length-1)]||R,Ae&&Ut(R)?A=R.data.length:A=0}let F=r.getParent(R,r.isBlock);const J=F&&F.parentNode?r.getParent(F.parentNode,r.isBlock):null,K=J?J.nodeName.toUpperCase():"",ie=!!(n&&n.ctrlKey);K==="LI"&&!ie&&(F=J),Ut(R)&&A>=R.data.length&&(JW(e.schema,R,F||r.getRoot())||(h=r.create("br"),l.insertNode(h),l.setStartAfter(h),l.setEndAfter(h),v=!0)),h=r.create("br"),tr(r,l,h),hv(e,h,v),e.undoManager.add()},d$=(e,n)=>{const o=De.fromTag("br");ds(De.fromDom(n),o),e.undoManager.add()},t9=(e,n)=>{o9(e.getBody(),n)||ol(De.fromDom(n),De.fromTag("br"));const o=De.fromTag("br");ol(De.fromDom(n),o),hv(e,o.dom,!1),e.undoManager.add()},n9=e=>mr(e.getNode()),o9=(e,n)=>n9(Xe.after(n))?!0:di(e,Xe.after(n)).map(o=>mr(o.getNode())).getOr(!1),f$=e=>e&&e.nodeName==="A"&&"href"in e,s9=e=>e.fold(tt,f$,f$,tt),r9=e=>{const n=Ze(Ey,e),o=Xe.fromRangeStart(e.selection.getRng());return Fg(n,e.getBody(),o).filter(s9)},i9=(e,n)=>{n.fold(Rt,Ze(d$,e),Ze(t9,e),Rt)},NS={insert:(e,n)=>{const o=r9(e);o.isSome()?o.each(Ze(i9,e)):e9(e,n)},fakeEventName:"insertLineBreak"},m$=(e,n)=>HN(e).filter(o=>n.length>0&&fa(De.fromDom(o),n)).isSome(),c9=e=>m$(e,k1(e)),l9=e=>m$(e,P1(e)),ch=Qu.generate([{br:[]},{block:[]},{none:[]}]),u9=(e,n)=>l9(e),WN=e=>(n,o)=>i$(n)===e,p$=(e,n)=>(o,r)=>UW(o)===e.toUpperCase()===n,g$=e=>{const n=B2(e.dom,e.selection.getStart());return _t(n)},hw=e=>p$("pre",e),d9=()=>p$("summary",!0),V2=e=>(n,o)=>yu(n)===e,GN=(e,n)=>c9(e),z2=(e,n)=>n,f9=e=>{const n=_u(e),o=B2(e.dom,e.selection.getStart());return Pe(o)&&e.schema.isValidChild(o.nodeName,n)},Fd=(e,n)=>(o,r)=>Ms(e,(h,v)=>h&&v(o,r),!0)?se.some(n):se.none(),h9=(e,n)=>Oz([Fd([u9],ch.none()),Fd([hw(!0),g$],ch.none()),Fd([d9()],ch.br()),Fd([hw(!0),V2(!1),z2],ch.br()),Fd([hw(!0),V2(!1)],ch.block()),Fd([hw(!0),V2(!0),z2],ch.block()),Fd([hw(!0),V2(!0)],ch.br()),Fd([WN(!0),z2],ch.br()),Fd([WN(!0)],ch.block()),Fd([GN],ch.br()),Fd([z2],ch.br()),Fd([f9],ch.block())],[e,!!(n&&n.shiftKey)]).getOr(ch.none()),mw=(e,n,o)=>{n.selection.isCollapsed()||rI(n),!(Pe(o)&&L2(n,e.fakeEventName).isDefaultPrevented())&&(e.insert(n,o),Pe(o)&&FN(n,e.fakeEventName))},U2=(e,n)=>{const o=()=>mw(NS,e,n),r=()=>mw(u$,e,n),l=h9(e,n);switch(al(e)){case"linebreak":l.fold(o,o,Rt);break;case"block":l.fold(r,r,Rt);break;case"invert":l.fold(r,o,Rt);break;default:l.fold(o,r,Rt);break}},v$=(e,n)=>{n.isDefaultPrevented()||(n.preventDefault(),L8(e.undoManager),e.undoManager.transact(()=>{U2(e,n)}))},m9=e=>{e.on("keydown",n=>{n.keyCode===Sn.ENTER&&v$(e,n)})},DK=(e,n,o)=>{const r=No.os.isMacOS()||No.os.isiOS();Zi([{keyCode:Sn.END,action:So(uB,e,!0)},{keyCode:Sn.HOME,action:So(uB,e,!1)},...r?[]:[{keyCode:Sn.HOME,action:So(E2,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Sn.END,action:So(E2,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Sn.END,action:So(dN,e,!0)},{keyCode:Sn.HOME,action:So(dN,e,!1)},{keyCode:Sn.END,action:So(Uy,e,!0,n)},{keyCode:Sn.HOME,action:So(Uy,e,!1,n)}],o).each(l=>{o.preventDefault()})},Hb=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||DK(e,n,o)})},p9=e=>{e.on("input",n=>{n.isComposing||q6(e)})},g9=Vs(),v9=(e,n,o)=>{Zi([{keyCode:Sn.PAGE_UP,action:So(Uy,e,!1,n)},{keyCode:Sn.PAGE_DOWN,action:So(Uy,e,!0,n)}],o)},MS=e=>e.stopImmediatePropagation(),qN=e=>e.keyCode===Sn.PAGE_UP||e.keyCode===Sn.PAGE_DOWN,jN=(e,n,o)=>{o&&!e.get()?n.on("NodeChange",MS,!0):!o&&e.get()&&n.off("NodeChange",MS),e.set(o)},b9=(e,n)=>{if(g9.os.isMacOS())return;const o=zi(!1);e.on("keydown",r=>{qN(r)&&jN(o,e,!0)}),e.on("keyup",r=>{r.isDefaultPrevented()||v9(e,n,r),qN(r)&&o.get()&&(jN(o,e,!1),e.nodeChanged())})},ZN=(e,n)=>{const o=n.container(),r=n.offset();return Ut(o)?(o.insertData(r,e),se.some(Xe(o,r+e.length))):j1(n).map(l=>{const h=De.fromText(e);return n.isAtEnd()?ol(l,h):ds(l,h),Xe(h.dom,e.length)})},y9=Ze(ZN,_s),_9=Ze(ZN," "),E9=e=>n=>n.fold(o=>fi(e.dom,Xe.before(o)),o=>ti(o),o=>Yr(o),o=>di(e.dom,Xe.after(o))),b$=(e,n)=>o=>V6(e,o)?y9(n):_9(n),YN=e=>n=>(e.selection.setRng(n.toRange()),e.nodeChanged(),!0),w9=e=>{const n=Xe.fromRangeStart(e.selection.getRng()),o=De.fromDom(e.getBody());if(e.selection.isCollapsed()){const r=Ze(Ey,e),l=Xe.fromRangeStart(e.selection.getRng());return Fg(r,e.getBody(),l).bind(E9(o)).map(h=>()=>b$(o,n)(h).each(YN(e)))}else return se.none()},KN=(e,n)=>{hB([{keyCode:Sn.SPACEBAR,action:So(w9,e)}],n).each(o=>{n.preventDefault(),L2(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),FN(e,"insertText",{data:" "}))})},y$=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||KN(e,n)})},W2=e=>sE(e)?[{keyCode:Sn.TAB,action:So(wN,e,!0)},{keyCode:Sn.TAB,shiftKey:!0,action:So(wN,e,!1)}]:[],_$=(e,n)=>{Zi([...W2(e)],n).each(o=>{n.preventDefault()})},E$=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||_$(e,n)})},T9=e=>{if(e.addShortcut("Meta+P","","mcePrint"),HW(e),Mg(e))return zi(null);{const n=gS(e);return yU(e),KU(e,n),zW(e,n),m9(e),y$(e),p9(e),E$(e),Hb(e,n),b9(e,n),n}};class C9{constructor(n){this.lastPath=[],this.editor=n;let o;const r=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",l=>{const h=n.selection.getRng(),v={startContainer:h.startContainer,startOffset:h.startOffset,endContainer:h.endContainer,endOffset:h.endOffset};(l.type==="nodechange"||!hC(v,o))&&n.dispatch("SelectionChange"),o=v}),n.on("contextmenu",()=>{n.dispatch("SelectionChange")}),n.on("SelectionChange",()=>{const l=n.selection.getStart(!0);l&&kT(n)&&!r.isSameElementPath(l)&&n.dom.isChildOf(l,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",l=>{!l.isDefaultPrevented()&&kT(n)&&(n.selection.getNode().nodeName==="IMG"?kd.setEditorTimeout(n,()=>{n.nodeChanged()}):n.nodeChanged())})}nodeChanged(n={}){const o=this.editor.selection;let r;if(this.editor.initialized&&o&&!iT(this.editor)&&!this.editor.mode.isReadOnly()){const l=this.editor.getBody();r=o.getStart(!0)||l,(r.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(r,l))&&(r=l);const h=[];this.editor.dom.getParent(r,v=>v===l?!0:(h.push(v),!1)),this.editor.dispatch("NodeChange",{...n,element:r,parents:h})}}isSameElementPath(n){let o;const r=this.editor,l=Rs(r.dom.getParents(n,Dt,r.getBody()));if(l.length===this.lastPath.length){for(o=l.length;o>=0&&l[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=l,!0}return this.lastPath=l,!1}}const kS="x-tinymce/html",PS=nt(kS),XN="<!-- "+kS+" -->",S9=e=>XN+e,w$=e=>e.replace(XN,""),T$=e=>e.indexOf(XN)!==-1,x9=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),A9=(e,n)=>{let o="<"+e;const r=ad(n,(l,h)=>h+'="'+lf.encodeAllRaw(l)+'"');return r.length&&(o+=" "+r.join(" ")),o+">"},O9=(e,n,o)=>{const r=e.split(/\n\n/),l=A9(n,o),h="</"+n+">",v=Kt(r,R=>R.split(/\n/).join("<br />")),A=R=>l+R+h;return v.length===1?v[0]:Kt(v,A).join("")},C$="%MCEPASTEBIN%",S$=(e,n)=>{const{dom:o,selection:r}=e,l=e.getBody();n.set(r.getRng());const h=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},C$);No.browser.isFirefox()&&o.setStyle(h,"left",o.getStyle(l,"direction",!0)==="rtl"?65535:-65535),o.bind(h,"beforedeactivate focusin focusout",v=>{v.stopPropagation()}),h.focus(),r.select(h,!0)},R9=(e,n)=>{const o=e.dom;if(G2(e)){let r;const l=n.get();for(;r=G2(e);)o.remove(r),o.unbind(r);l&&e.selection.setRng(l)}n.set(null)},G2=e=>e.dom.get("mcepastebin"),I9=e=>Pe(e)&&e.id==="mcepastebin",D9=e=>{const n=e.dom,o=(v,A)=>{v.appendChild(A),n.remove(A,!0)},[r,...l]=Bt(e.getBody().childNodes,I9);pt(l,v=>{o(r,v)});const h=n.select("div[id=mcepastebin]",r);for(let v=h.length-1;v>=0;v--){const A=n.create("div");r.insertBefore(A,h[v]),o(A,h[v])}return r?r.innerHTML:""},x$=e=>e===C$,N9=e=>{const n=zi(null);return{create:()=>S$(e,n),remove:()=>R9(e,n),getEl:()=>G2(e),getHtml:()=>D9(e),getLastRng:n.get}},A$=(e,n)=>(Te.each(n,o=>{ge(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),pw=e=>{const n=Kl(),o=kb({},n);let r="";const l=n.getVoidElements(),h=Te.makeMap("script noscript style textarea video audio iframe object"," "),v=n.getBlockElements(),A=R=>{const F=R.name,J=R;if(F==="br"){r+=`
`;return}if(F!=="wbr"){if(l[F]&&(r+=" "),h[F]){r+=" ";return}if(R.type===3&&(r+=R.value),!(R.name in n.getVoidElements())){let K=R.firstChild;if(K)do A(K);while(K=K.next)}v[F]&&J.next&&(r+=`
`,F==="p"&&(r+=`
`))}};return e=A$(e,[/<!\[[^\]]+\]>/g]),A(o.parse(e)),r},O$=e=>(e=A$(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,r,l)=>!r&&!l?" ":_s],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),M9=e=>{let n=0;return()=>e+n++},R$=e=>{const n=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Te.hasOwn(o,n)?"image/"+o[n]:"image/"+n},k9=(e,n)=>{const o=kb({sanitize:ub(e)},e.schema);o.addNodeFilter("meta",l=>{Te.each(l,h=>{h.remove()})});const r=o.parse(n,{forced_root_block:!1,isRootContent:!0});return xb({validate:!0},e.schema).serialize(r)},I$=(e,n)=>({content:e,cancelled:n}),P9=(e,n,o)=>{const r=e.dom.create("div",{style:"display:none"},n),l=CR(e,r,o);return I$(l.node.innerHTML,l.isDefaultPrevented())},D$=(e,n,o)=>{const r=oC(e,n,o),l=k9(e,r.content);return e.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?P9(e,l,o):I$(l,r.isDefaultPrevented())},L9=(e,n,o)=>D$(e,n,o),QN=(e,n)=>(e.insertContent(n,{merge:F0(e),paste:!0}),!0),N$=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),q2=(e,n)=>N$(n)&&Po(z0(e),o=>uu(n.toLowerCase(),`.${o.toLowerCase()}`)),B9=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.insertContent('<img src="'+n+'">')}),!0),$9=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.execCommand("mceInsertLink",!1,n)}),!0),F9=(e,n,o)=>!e.selection.isCollapsed()&&N$(n)?$9(e,n,o):!1,H9=(e,n,o)=>q2(e,n)?B9(e,n,o):!1,V9=(e,n)=>{Te.each([F9,H9,QN],o=>!o(e,n,QN))},z9=(e,n,o)=>{o||!Id(e)?QN(e,n):V9(e,n)},U9=M9("mceclip"),M$=(e,n,o,r)=>{const l=L9(e,n,o);l.cancelled||z9(e,l.content,r)},j2=(e,n,o)=>{const r=o||T$(n);M$(e,w$(n),r,!1)},JN=(e,n)=>{const o=e.dom.encode(n).replace(/\r\n/g,`
`),r=Bh(o,H0(e)),l=O9(r,_u(e),gg(e));M$(e,l,!1,!0)},k$=e=>{const n={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const r=e.types[o];try{n[r]=e.getData(r)}catch{n[r]=""}}return n},Vb=(e,n)=>n in e&&e[n].length>0,P$=e=>Vb(e,"text/html")||Vb(e,"text/plain"),Or=(e,n)=>{const o=n.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Pe(o)?e.dom.encode(o[1]):void 0},W9=(e,n,o,r)=>{const l=U9(),h=Dc(e)&&Pe(o.name),v=h?Or(e,o.name):l,A=h?o.name:void 0,R=n.create(l,o,r,v,A);return n.add(R),R},L$=(e,n)=>{YE(n.uri).each(({data:o,type:r,base64Encoded:l})=>{const h=l?o:btoa(o),v=n.file,A=e.editorUpload.blobCache,R=A.getByData(h,r),F=R??W9(e,A,v,h);j2(e,`<img src="${F.blobUri()}">`,!1)})},G9=e=>e.type==="paste",eM=e=>Promise.all(Kt(e,n=>ML(n).then(o=>({file:n,uri:o})))),B$=e=>{const n=z0(e);return o=>Ei(o.type,"image/")&&Po(n,r=>R$(r)===o.type)},$$=(e,n)=>{const o=n.items?Sa(br(n.items),l=>l.kind==="file"?[l.getAsFile()]:[]):[],r=n.files?br(n.files):[];return Bt(o.length>0?o:r,B$(e))},F$=(e,n,o)=>{const r=G9(n)?n.clipboardData:n.dataTransfer;if(rp(e)&&r){const l=$$(e,r);if(l.length>0)return n.preventDefault(),eM(l).then(h=>{o&&e.selection.setRng(o),pt(h,v=>{L$(e,v)})}),!0}return!1},H$=e=>{var n,o;return No.os.isAndroid()&&((o=(n=e.clipboardData)===null||n===void 0?void 0:n.items)===null||o===void 0?void 0:o.length)===0},q9=e=>Sn.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,tM=(e,n,o,r)=>{let l=O$(o);const h=Vb(n,PS())||T$(o),v=!h&&x9(l),A=N$(l);(x$(l)||!l.length||v&&!A)&&(r=!0),(r||A)&&(Vb(n,"text/plain")&&v?l=n["text/plain"]:l=pw(l)),!x$(l)&&(r?JN(e,l):j2(e,l,h))},V$=(e,n,o)=>{let r;const l=()=>n.getLastRng()||e.selection.getRng();e.on("keydown",h=>{q9(h)&&!h.isDefaultPrevented()&&(r=h.shiftKey&&h.keyCode===86)}),e.on("paste",h=>{if(h.isDefaultPrevented()||H$(h))return;const v=o.get()==="text"||r;r=!1;const A=k$(h.clipboardData);!P$(A)&&F$(e,h,l())||(Vb(A,"text/html")?(h.preventDefault(),tM(e,A,A["text/html"],v)):Vb(A,"text/plain")&&Vb(A,"text/uri-list")?(h.preventDefault(),tM(e,A,A["text/plain"],v)):(n.create(),kd.setEditorTimeout(e,()=>{const R=n.getHtml();n.remove(),tM(e,A,R,v)},0)))})},j9=e=>{const n=l=>Ei(l,"webkit-fake-url"),o=l=>Ei(l,"data:"),r=l=>{var h;return((h=l.data)===null||h===void 0?void 0:h.paste)===!0};e.parser.addNodeFilter("img",(l,h,v)=>{if(!rp(e)&&r(v))for(const A of l){const R=A.attr("src");Q(R)&&!A.attr("data-mce-object")&&R!==No.transparentSrc&&(n(R)||!eE(e)&&o(R))&&A.remove()}})},Z9=(e,n,o)=>{V$(e,n,o),j9(e)},Z2=(e,n)=>{n.get()==="text"?(n.set("html"),Ag(e,!1)):(n.set("text"),Ag(e,!0)),e.focus()},LS=(e,n)=>{e.addCommand("mceTogglePlainTextPaste",()=>{Z2(e,n)}),e.addCommand("mceInsertClipboardContent",(o,r)=>{r.html&&j2(e,r.html,r.internal),r.text&&JN(e,r.text)})},z$=(e,n,o)=>{if(e)try{return e.clearData(),e.setData("text/html",n),e.setData("text/plain",o),e.setData(PS(),n),!0}catch{return!1}else return!1},Rf=(e,n,o,r)=>{z$(e.clipboardData,n.html,n.text)?(e.preventDefault(),r()):o(n.html,r)},U$=e=>(n,o)=>{const{dom:r,selection:l}=e,h=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),v=r.create("div",{contenteditable:"true"},n);r.setStyles(h,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),h.appendChild(v),r.add(e.getBody(),h);const A=l.getRng();v.focus();const R=r.createRng();R.selectNodeContents(v),l.setRng(R),kd.setEditorTimeout(e,()=>{l.setRng(A),r.remove(h),o()},0)},Gy=e=>({html:S9(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),BS=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),W$=e=>!e.selection.isCollapsed()||BS(e),Y9=e=>n=>{!n.isDefaultPrevented()&&W$(e)&&Rf(n,Gy(e),U$(e),()=>{if(No.browser.isChromium()||No.browser.isFirefox()){const o=e.selection.getRng();kd.setEditorTimeout(e,()=>{e.selection.setRng(o),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},gw=e=>n=>{!n.isDefaultPrevented()&&W$(e)&&Rf(n,Gy(e),U$(e),Rt)},K9=e=>{e.on("cut",Y9(e)),e.on("copy",gw(e))},Y2=(e,n)=>{var o,r;return Eb.getCaretRangeFromPoint((o=n.clientX)!==null&&o!==void 0?o:0,(r=n.clientY)!==null&&r!==void 0?r:0,e.getDoc())},nM=e=>{const n=e["text/plain"];return n?n.indexOf("file://")===0:!1},oM=(e,n)=>{e.focus(),n&&e.selection.setRng(n)},X9=e=>Po(e.files,n=>/^image\//.test(n.type)),Q9=(e,n,o,r)=>{const l=e.getParent(o,h=>Wf(n,h));if(l&&jn(r,"text/html")){const h=new DOMParser().parseFromString(r["text/html"],"text/html").body;return!we(h.querySelector(l.nodeName.toLowerCase()))}else return!1},G$=(e,n)=>{cb(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),rp(e)||e.on("drop",o=>{const r=o.dataTransfer;r&&X9(r)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const r=Y2(e,o);if(_t(r))return;const l=k$(o.dataTransfer),h=Vb(l,PS());if((!P$(l)||nM(l))&&F$(e,o,r))return;const v=l[PS()],A=v||l["text/html"]||l["text/plain"],R=Q9(e.dom,e.schema,r.startContainer,l);n.get()&&!R||A&&(o.preventDefault(),kd.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{v&&e.execCommand("Delete"),oM(e,r);const F=O$(A);l["text/html"]?j2(e,F,h):JN(e,F)})}))}),e.on("dragstart",o=>{n.set(!0)}),e.on("dragover dragend",o=>{rp(e)&&!n.get()&&(o.preventDefault(),oM(e,Y2(e,o))),o.type==="dragend"&&n.set(!1)})},q$=e=>{const n=l=>h=>{l(e,h)},o=lb(e);Ee(o)&&e.on("PastePreProcess",n(o));const r=J_(e);Ee(r)&&e.on("PastePostProcess",n(r))},J9=(e,n)=>{e.on("PastePreProcess",o=>{o.content=n(e,o.content,o.internal)})},eG=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,j$=e=>Te.trim(e).replace(eG,mb).toLowerCase(),Z$=(e,n,o)=>{const r=gf(e);if(o||r==="all"||!F1(e))return n;const l=r?r.split(/[, ]/):[];if(l&&r!=="none"){const h=e.dom,v=e.selection.getNode();n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(A,R,F,J)=>{const K=h.parseStyle(h.decode(F)),ie={};for(let Ie=0;Ie<l.length;Ie++){const ye=K[l[Ie]];let Oe=ye,ze=h.getStyle(v,l[Ie],!0);/color/.test(l[Ie])&&(Oe=j$(Oe),ze=j$(ze)),ze!==Oe&&(ie[l[Ie]]=ye)}const Ae=h.serializeStyle(ie,"span");return Ae?R+' style="'+Ae+'"'+J:R+J})}else n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return n=n.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(h,v,A,R)=>v+' style="'+A+'"'+R),n},tG=e=>{(No.browser.isChromium()||No.browser.isSafari())&&J9(e,Z$)},Y$=e=>{const n=zi(!1),o=zi(Kh(e)?"text":"html"),r=N9(e);tG(e),LS(e,o),q$(e),e.on("PreInit",()=>{K9(e),G$(e,n),Z9(e,r,o)})},nG=e=>{e.on("click",n=>{e.dom.getParent(n.target,"details")&&n.preventDefault()})},oG=e=>{e.parser.addNodeFilter("details",n=>{pt(n,o=>{o.attr("data-mce-open",o.attr("open")),o.attr("open","open")})}),e.serializer.addNodeFilter("details",n=>{pt(n,o=>{const r=o.attr("data-mce-open");o.attr("open",Q(r)?r:null),o.attr("data-mce-open",null)})})},K$=e=>{nG(e),oG(e)},sG=mr,X$=Ut,rG=e=>Lo(e.dom),Q$=e=>ns(e.dom),J$=e=>n=>os(De.fromDom(e),n),iG=(e,n)=>ts(De.fromDom(e),o=>Q$(o)||Ht(o),J$(n)).getOr(De.fromDom(n)).dom,eF=(e,n)=>ts(De.fromDom(e),rG,J$(n)),tF=(e,n,o)=>{const r=new ci(e,n),l=o?r.next.bind(r):r.prev.bind(r);let h=e;for(let v=o?e:l();v&&!sG(v);v=l())Cl(v)&&(h=v);return h},aG=(e,n)=>{const r=Xe.fromRangeStart(e).getNode(),l=iG(r,n),h=tF(r,l,!1),v=tF(r,l,!0),A=document.createRange();return eF(h,l).fold(()=>{X$(h)?A.setStart(h,0):A.setStartBefore(h)},R=>A.setStartBefore(R.dom)),eF(v,l).fold(()=>{X$(v)?A.setEnd(v,v.data.length):A.setEndAfter(v)},R=>A.setEndAfter(R.dom)),A},cG=e=>{const n=aG(e.selection.getRng(),e.getBody());e.selection.setRng(MC(n))},lG=e=>{e.on("mousedown",n=>{n.detail>=3&&(n.preventDefault(),cG(e))})};var qy;(function(e){e.Before="before",e.After="after"})(qy||(qy={}));const uG=(e,n)=>Math.abs(e.left-n),dG=(e,n)=>Math.abs(e.right-n),fG=(e,n)=>e>=n.top&&e<=n.bottom,hG=(e,n)=>e.top<n.bottom&&e.bottom>n.top,mG=(e,n)=>{const o=y0(e,n)/Math.min(e.height,n.height);return hG(e,n)&&o>.5},nF=(e,n)=>{const o=Bt(e,r=>fG(n,r));return b0(o).fold(()=>[[],e],r=>{const{pass:l,fail:h}=bi(e,v=>mG(v,r));return[l,h]})},pG=(e,n)=>({node:e.node,position:uG(e,n)<dG(e,n)?qy.Before:qy.After}),gG=(e,n,o)=>n>e.left&&n<e.right?0:Math.min(Math.abs(e.left-n),Math.abs(e.right-n)),sM=(e,n,o)=>{const r=J=>Cl(J.node)?se.some(J):on(J.node)?sM(br(J.node.childNodes),n,o):se.none(),l=(J,K)=>{if(J.length>=2){const ie=r(J[0]).getOr(J[0]),Ae=r(J[1]).getOr(J[1]);if(Math.abs(K(ie,n,o)-K(Ae,n,o))<2){if(Ut(ie.node))return se.some(ie);if(Ut(Ae.node))return se.some(Ae)}}return se.none()},h=(J,K)=>{const ie=ks(J,(Ae,Ie)=>K(Ae,n,o)-K(Ie,n,o));return l(ie,K).orThunk(()=>$r(ie,r))},[v,A]=nF(Hy(e),o),{pass:R,fail:F}=bi(A,J=>J.top<o);return h(v,gG).orThunk(()=>h(F,D_)).orThunk(()=>h(R,D_))},vG=(e,n,o,r)=>{const l=(h,v)=>{const A=F=>on(F)&&F.classList.contains("mce-drag-container"),R=Bt(h.dom.childNodes,bo(A));return v.fold(()=>sM(R,o,r),F=>{const J=Bt(R,K=>K!==F.dom);return sM(J,o,r)}).orThunk(()=>(os(h,e)?se.none():Qr(h)).bind(J=>l(J,se.some(h))))};return l(n,se.none())},bG=(e,n,o)=>{const r=De.fromDom(e),l=Ot(r),v=De.fromPoint(l,n,o).filter(A=>et(r,A)).getOr(r);return vG(r,v,n,o)},oF=(e,n,o)=>bG(e,n,o).filter(r=>nh(r.node)).map(r=>pG(r,n)),sF=e=>{var n,o;const r=e.getBoundingClientRect(),l=e.ownerDocument,h=l.documentElement,v=l.defaultView;return{top:r.top+((n=v==null?void 0:v.scrollY)!==null&&n!==void 0?n:0)-h.clientTop,left:r.left+((o=v==null?void 0:v.scrollX)!==null&&o!==void 0?o:0)-h.clientLeft}},K2=e=>e.inline?sF(e.getBody()):{left:0,top:0},rF=e=>{const n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},yG=e=>{const n=e.getBody(),o=e.getDoc().documentElement,r={left:n.scrollLeft,top:n.scrollTop},l={left:n.scrollLeft||o.scrollLeft,top:n.scrollTop||o.scrollTop};return e.inline?r:l},iF=(e,n)=>{if(n.target.ownerDocument!==e.getDoc()){const o=sF(e.getContentAreaContainer()),r=yG(e);return{left:n.pageX-o.left+r.left,top:n.pageY-o.top+r.top}}return{left:n.pageX,top:n.pageY}},aF=(e,n,o)=>({pageX:o.left-e.left+n.left,pageY:o.top-e.top+n.top}),rM=(e,n)=>aF(K2(e),rF(e),iF(e,n)),_G=(e,n,o)=>({...n,dataTransfer:null,type:e,...o}),cF=(e,n)=>{const o=Fo("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,srcElement:null,target:null,timeStamp:0,type:e,composedPath:o,initEvent:o,preventDefault:Rt,stopImmediatePropagation:Rt,stopPropagation:Rt,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:o,initMouseEvent:o,getModifierState:o,dataTransfer:null,...n}},lF=e=>({target:e,srcElement:e}),uF=e=>n=>cF(e,lF(n)),iM=e=>(n,o)=>_G(e,n,lF(o)),dF=iM("dragstart"),EG=iM("drop"),wG=uF("dragend"),fF=iM("dragend"),zb=32,TG=100,X2=8,$S=16,hF=Lo,CG=Xw(hF,ns),SG=(e,n,o)=>hF(o)&&o!==n&&e.isEditable(o.parentElement),xG=(e,n,o)=>_t(n)||n===o||e.dom.isChildOf(n,o)?!1:e.dom.isEditable(n),AG=e=>{const n=e.cloneNode(!0);return n.removeAttribute("data-mce-selected"),n},Q2=(e,n,o,r)=>{const l=e.dom,h=n.cloneNode(!0);l.setStyles(h,{width:o,height:r}),l.setAttrib(h,"data-mce-selected",null);const v=l.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return l.setStyles(v,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:r}),l.setStyles(h,{margin:0,boxSizing:"border-box"}),v.appendChild(h),v},mF=(e,n)=>{e.parentNode!==n&&n.appendChild(e)},FS=(e,n)=>o=>()=>{const r=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:r+n,behavior:"smooth"})},pF=FS("left",-zb),gF=FS("left",zb),vF=FS("top",-zb),OG=FS("top",zb),RG=(e,n,o,r,l,h,v,A,R,F,J,K)=>{let ie=0,Ae=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+o>l&&(ie=n.pageX+o-l),n.pageY+r>h&&(Ae=n.pageY+r-h),e.style.width=o-ie+"px",e.style.height=r-Ae+"px";const Ie=R.clientHeight,ye=R.clientWidth,Oe=v+R.getBoundingClientRect().top,ze=A+R.getBoundingClientRect().left;J.on(Fe=>{Fe.intervalId.clear(),Fe.dragging&&K&&(v+X2>=Ie?Fe.intervalId.set(OG(F)):v-X2<=0?Fe.intervalId.set(vF(F)):A+X2>=ye?Fe.intervalId.set(gF(F)):A-X2<=0?Fe.intervalId.set(pF(F)):Oe+$S>=window.innerHeight?Fe.intervalId.set(OG(window)):Oe-$S<=0?Fe.intervalId.set(vF(window)):ze+$S>=window.innerWidth?Fe.intervalId.set(gF(window)):ze-$S<=0&&Fe.intervalId.set(pF(window)))})},J2=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},aM=(e,n)=>{const o=e.getParent(n.parentNode,e.isBlock);J2(n),o&&o!==e.getRoot()&&e.isEmpty(o)&&Kp(De.fromDom(o))},eO=e=>e.button===0,IG=(e,n)=>({pageX:n.pageX-e.relX,pageY:n.pageY+5}),DG=(e,n)=>o=>{if(eO(o)){const r=bs(n.dom.getParents(o.target),CG).getOr(null);if(Pe(r)&&SG(n.dom,n.getBody(),r)){const l=n.dom.getPos(r),h=n.getBody(),v=n.getDoc().documentElement;e.set({element:r,dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(n.inline?h.scrollWidth:v.offsetWidth)-2,maxY:(n.inline?h.scrollHeight:v.offsetHeight)-2,relX:o.pageX-l.x,relY:o.pageY-l.y,width:r.offsetWidth,height:r.offsetHeight,ghost:Q2(n,r,r.offsetWidth,r.offsetHeight),intervalId:Bs(TG)})}}},bF=(e,n,o)=>{e._selectionOverrides.hideFakeCaret(),oF(e.getBody(),n,o).fold(()=>e.selection.placeCaretAt(n,o),r=>{const l=e._selectionOverrides.showCaret(1,r.node,r.position===qy.Before,!1);l?e.selection.setRng(l):e.selection.placeCaretAt(n,o)})},NG=(e,n)=>{const o=vu((l,h)=>bF(n,l,h),0);n.on("remove",o.cancel);const r=e;return l=>e.on(h=>{const v=Math.max(Math.abs(l.screenX-h.screenX),Math.abs(l.screenY-h.screenY));if(!h.dragging&&v>10){if(n.dispatch("dragstart",dF(l,h.element)).isDefaultPrevented())return;h.dragging=!0,n.focus()}if(h.dragging){const A=l.currentTarget===n.getDoc().documentElement,R=IG(h,rM(n,l));mF(h.ghost,n.getBody()),RG(h.ghost,R,h.width,h.height,h.maxX,h.maxY,l.clientY,l.clientX,n.getContentAreaContainer(),n.getWin(),r,A),o.throttle(l.clientX,l.clientY)}})},cM=e=>{const n=e.getSel();if(Pe(n)){const r=n.getRangeAt(0).startContainer;return Ut(r)?r.parentNode:r}else return null},yF=(e,n)=>o=>{e.on(r=>{var l;if(r.intervalId.clear(),r.dragging){if(xG(n,cM(n.selection),r.element)){const h=AG(r.element),v=(l=n.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&l!==void 0?l:n.getBody();n.dispatch("drop",EG(o,v)).isDefaultPrevented()||n.undoManager.transact(()=>{aM(n.dom,r.element),n.insertContent(n.dom.getOuterHTML(h)),n._selectionOverrides.hideFakeCaret()})}n.dispatch("dragend",fF(o,n.getBody()))}}),lM(e)},_F=(e,n,o)=>{e.on(r=>{if(r.intervalId.clear(),r.dragging){const l=o.fold(()=>wG(r.element),h=>fF(h,r.element));n.dispatch("dragend",l)}}),lM(e)},MG=(e,n)=>o=>_F(e,n,se.some(o)),lM=e=>{e.on(n=>{n.intervalId.clear(),J2(n.ghost)}),e.clear()},kG=e=>{const n=sa(),o=rr.DOM,r=document,l=DG(n,e),h=NG(n,e),v=yF(n,e),A=MG(n,e);e.on("mousedown",l),e.on("mousemove",h),e.on("mouseup",v),o.bind(r,"mousemove",h),o.bind(r,"mouseup",A),e.on("remove",()=>{o.unbind(r,"mousemove",h),o.unbind(r,"mouseup",A)}),e.on("keydown",R=>{R.keyCode===Sn.ESC&&_F(n,e,se.none())})},NK=e=>{const n=l=>{if(!l.isDefaultPrevented()){const h=l.dataTransfer;h&&(Pn(h.types,"Files")||h.files.length>0)&&(l.preventDefault(),l.type==="drop"&&tw(e,"Dropped file type is not supported"))}},o=l=>{gy(e,l.target)&&n(l)},r=()=>{const l=rr.DOM,h=e.dom,v=document,A=e.inline?e.getBody():e.getDoc(),R=["drop","dragover"];pt(R,F=>{l.bind(v,F,o),h.bind(A,F,n)}),e.on("remove",()=>{pt(R,F=>{l.unbind(v,F,o),h.unbind(A,F,n)})})};e.on("init",()=>{kd.setEditorTimeout(e,r,0)})},PG=e=>{kG(e),X_(e)&&NK(e)},LG=e=>{const n=vu(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const r=rw(e,o,!1);e.selection.setRng(r)}}},0);e.on("focus",()=>{n.throttle()}),e.on("blur",()=>{n.cancel()})},BG=e=>{e.on("init",()=>{e.on("focusin",n=>{const o=n.target;if(sr(o)){const r=Dg(e.getBody(),o),l=Lo(r)?r:o;e.selection.getNode()!==l&&dS(e,l).each(h=>e.selection.setRng(h))}})})},vw=Lo,EF=(e,n)=>Dg(e.getBody(),n),wF=e=>{const n=e.selection,o=e.dom,r=e.getBody(),l=Z0(e,r,o.isBlock,()=>Sb(e)),h="sel-"+o.uniqueId(),v="data-mce-selected";let A;const R=Zt=>Pe(Zt)&&o.hasClass(Zt,"mce-offscreen-selection"),F=Zt=>Zt!==r&&(vw(Zt)||sr(Zt))&&o.isChildOf(Zt,r)&&o.isEditable(Zt.parentNode),J=Zt=>{Zt&&n.setRng(Zt)},K=(Zt,mt,ht,yn=!0)=>e.dispatch("ShowCaret",{target:mt,direction:Zt,before:ht}).isDefaultPrevented()?null:(yn&&n.scrollIntoView(mt,Zt===-1),l.show(ht,mt)),ie=Zt=>{Zt.hasAttribute("data-mce-caret")&&(Ov(Zt),n.scrollIntoView(Zt))},Ae=()=>{e.on("click",mt=>{o.isEditable(mt.target)||(mt.preventDefault(),e.focus())}),e.on("blur NewBlock",at),e.on("ResizeWindow FullscreenStateChanged",l.reposition),e.on("tap",mt=>{const ht=mt.target,yn=EF(e,ht);vw(yn)?(mt.preventDefault(),dS(e,yn).each(Ke)):F(ht)&&dS(e,ht).each(Ke)},!0),e.on("mousedown",mt=>{const ht=mt.target;if(ht!==r&&ht.nodeName!=="HTML"&&!o.isChildOf(ht,r)||!Py(e,mt.clientX,mt.clientY))return;at(),sn();const yn=EF(e,ht);vw(yn)?(mt.preventDefault(),dS(e,yn).each(Ke)):oF(r,mt.clientX,mt.clientY).each(Bn=>{mt.preventDefault();const qn=K(1,Bn.node,Bn.position===qy.Before,!1);J(qn),on(yn)?yn.focus():e.getBody().focus()})}),e.on("keypress",mt=>{Sn.modifierPressed(mt)||vw(n.getNode())&&mt.preventDefault()}),e.on("GetSelectionRange",mt=>{let ht=mt.range;if(A){if(!A.parentNode){A=null;return}ht=ht.cloneRange(),ht.selectNode(A),mt.range=ht}}),e.on("SetSelectionRange",mt=>{mt.range=Oe(mt.range);const ht=Ke(mt.range,mt.forward);ht&&(mt.range=ht)});const Zt=mt=>on(mt)&&mt.id==="mcepastebin";e.on("AfterSetSelectionRange",mt=>{const ht=mt.range,yn=ht.startContainer.parentElement;!ye(ht)&&!Zt(yn)&&sn(),R(yn)||at()}),PG(e),LG(e),BG(e)},Ie=Zt=>Tl(Zt)||Lm(Zt)||Xp(Zt),ye=Zt=>Ie(Zt.startContainer)||Ie(Zt.endContainer),Oe=Zt=>{const mt=e.schema.getVoidElements(),ht=o.createRng(),yn=Zt.startContainer,Bn=Zt.startOffset,qn=Zt.endContainer,To=Zt.endOffset;return jn(mt,yn.nodeName.toLowerCase())?Bn===0?ht.setStartBefore(yn):ht.setStartAfter(yn):ht.setStart(yn,Bn),jn(mt,qn.nodeName.toLowerCase())?To===0?ht.setEndBefore(qn):ht.setEndAfter(qn):ht.setEnd(qn,To),ht},ze=(Zt,mt)=>{const ht=De.fromDom(e.getBody()),yn=e.getDoc(),Bn=Kd(ht,"#"+h).getOrThunk(()=>{const Jo=De.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',yn);return mo(Jo,"id",h),wr(ht,Jo),Jo}),qn=o.createRng();er(Bn),vd(Bn,[De.fromText(_s,yn),De.fromDom(mt),De.fromText(_s,yn)]),qn.setStart(Bn.dom.firstChild,1),qn.setEnd(Bn.dom.lastChild,0),ma(Bn,{top:o.getPos(Zt,e.getBody()).y+"px"}),Jn(Bn);const To=n.getSel();return To&&(To.removeAllRanges(),To.addRange(qn)),qn},Fe=Zt=>{const mt=Zt.cloneNode(!0),ht=e.dispatch("ObjectSelected",{target:Zt,targetClone:mt});if(ht.isDefaultPrevented())return null;const yn=ze(Zt,ht.targetClone),Bn=De.fromDom(Zt);return pt(Jr(De.fromDom(e.getBody()),`*[${v}]`),qn=>{os(Bn,qn)||hr(qn,v)}),o.getAttrib(Zt,v)||Zt.setAttribute(v,"1"),A=Zt,sn(),yn},Ke=(Zt,mt)=>{if(!Zt)return null;if(Zt.collapsed){if(!ye(Zt)){const qn=mt?1:-1,To=Eg(qn,r,Zt),Jo=To.getNode(!mt);if(Pe(Jo)){if(nh(Jo))return K(qn,Jo,mt?!To.isAtEnd():!1,!1);if(xc(Jo)&&Lo(Jo.nextSibling)){const cr=o.createRng();return cr.setStart(Jo,0),cr.setEnd(Jo,0),cr}}const Ns=To.getNode(mt);if(Pe(Ns)){if(nh(Ns))return K(qn,Ns,mt?!1:!To.isAtEnd(),!1);if(xc(Ns)&&Lo(Ns.previousSibling)){const cr=o.createRng();return cr.setStart(Ns,1),cr.setEnd(Ns,1),cr}}}return null}let ht=Zt.startContainer,yn=Zt.startOffset;const Bn=Zt.endOffset;if(Ut(ht)&&yn===0&&vw(ht.parentNode)&&(ht=ht.parentNode,yn=o.nodeIndex(ht),ht=ht.parentNode),!on(ht))return null;if(Bn===yn+1&&ht===Zt.endContainer){const qn=ht.childNodes[yn];if(F(qn))return Fe(qn)}return null},at=()=>{A&&A.removeAttribute(v),Kd(De.fromDom(e.getBody()),"#"+h).each(Tr),A=null},xt=()=>{l.destroy(),A=null},sn=()=>{l.hide()};return Mg(e)||Ae(),{showCaret:K,showBlockCaretContainer:ie,hideFakeCaret:sn,destroy:xt}},$G=(e,n)=>{let o=n;for(let r=e.previousSibling;Ut(r);r=r.previousSibling)o+=r.data.length;return o},TF=(e,n,o,r,l)=>{if(Ut(o)&&(r<0||r>o.data.length))return[];const h=l&&Ut(o)?[$G(o,r)]:[r];let v=o;for(;v!==n&&v.parentNode;)h.push(e.nodeIndex(v,l)),v=v.parentNode;return v===n?h.reverse():[]},uM=(e,n,o,r,l,h,v=!1)=>{const A=TF(e,n,o,r,v),R=TF(e,n,l,h,v);return{start:A,end:R}},CF=(e,n)=>{const o=n.slice(),r=o.pop();return pn(r)?Ms(o,(h,v)=>h.bind(A=>se.from(A.childNodes[v])),se.some(e)).bind(h=>Ut(h)&&(r<0||r>h.data.length)?se.none():se.some({node:h,offset:r})):se.none()},SF=(e,n)=>CF(e,n.start).bind(({node:o,offset:r})=>CF(e,n.end).map(({node:l,offset:h})=>{const v=document.createRange();return v.setStart(o,r),v.setEnd(l,h),v})),xF=(e,n,o,r=!1)=>uM(e,n,o.startContainer,o.startOffset,o.endContainer,o.endOffset,r),HS=(e,n,o)=>{if(n&&e.isEmpty(n)&&!o(n)){const r=n.parentNode;e.remove(n),HS(e,r,o)}},tO=(e,n,o,r=!0)=>{const l=n.startContainer.parentNode,h=n.endContainer.parentNode;n.deleteContents(),r&&!o(n.startContainer)&&(Ut(n.startContainer)&&n.startContainer.data.length===0&&e.remove(n.startContainer),Ut(n.endContainer)&&n.endContainer.data.length===0&&e.remove(n.endContainer),HS(e,l,o),l!==h&&HS(e,h,o))},nO=(e,n)=>se.from(e.dom.getParent(n.startContainer,e.dom.isBlock)),AF=(e,n,o)=>{const r=e.dynamicPatternsLookup({text:o,block:n});return{...e,blockPatterns:Wi(r).concat(e.blockPatterns),inlinePatterns:D1(r).concat(e.inlinePatterns)}},oO=(e,n,o,r)=>{const l=e.createRng();return l.setStart(n,0),l.setEnd(o,r),l.toString()},FG=e=>/^\s[^\s]/.test(e),OF=(e,n,o)=>{AB(n,0,n).each(l=>{const h=l.container;OB(h,o.start.length,n).each(R=>{const F=e.createRng();F.setStart(h,0),F.setEnd(R.container,R.offset),tO(e,F,J=>J===n)});const v=De.fromDom(h),A=Gr(v);FG(A)&&qa(v,A.slice(1))})},HG=(e,n)=>{const o=e.dom,r=n.pattern,l=SF(o.getRoot(),n.range).getOrDie("Unable to resolve path range"),h=(v,A)=>{const R=A.get(v);return z(R)&&Di(R).exists(F=>jn(F,"block"))};return nO(e,l).each(v=>{r.type==="block-format"?h(r.format,e.formatter)&&e.undoManager.transact(()=>{OF(e.dom,v,r),e.formatter.apply(r.format)}):r.type==="block-command"&&e.undoManager.transact(()=>{OF(e.dom,v,r),e.execCommand(r.cmd,!1,r.value)})}),!0},RF=e=>ks(e,(n,o)=>o.start.length-n.start.length),sO=(e,n)=>{const o=RF(e),r=n.replace(_s," ");return bs(o,l=>n.indexOf(l.start)===0||r.indexOf(l.start)===0)},IF=(e,n,o,r)=>{var l;const h=e.dom,v=_u(e);if(!h.is(n,v))return[];const A=(l=n.textContent)!==null&&l!==void 0?l:"";return sO(o.blockPatterns,A).map(R=>Te.trim(A).length===R.start.length?[]:[{pattern:R,range:uM(h,h.getRoot(),n,0,n,0,r)}]).getOr([])},DF=(e,n)=>{if(n.length===0)return;const o=e.selection.getBookmark();pt(n,r=>HG(e,r)),e.selection.moveToBookmark(o)},NF=(e,n)=>e.create("span",{"data-mce-type":"bookmark",id:n}),rO=(e,n)=>{const o=e.createRng();return o.setStartAfter(n.start),o.setEndBefore(n.end),o},dM=(e,n,o)=>{const r=SF(e.getRoot(),o).getOrDie("Unable to resolve path range"),l=r.startContainer,h=r.endContainer,v=r.endOffset===0?h:h.splitText(r.endOffset),A=r.startOffset===0?l:l.splitText(r.startOffset),R=A.parentNode,F=v.parentNode;return{prefix:n,end:F.insertBefore(NF(e,n+"-end"),v),start:R.insertBefore(NF(e,n+"-start"),A)}},MF=(e,n,o)=>{HS(e,e.get(n.prefix+"-end"),o),HS(e,e.get(n.prefix+"-start"),o)},fM=e=>e.start.length===0,VG=e=>(n,o)=>{const l=n.data.substring(0,o),h=l.lastIndexOf(e.charAt(e.length-1)),v=l.lastIndexOf(e);return v!==-1?v+e.length:h!==-1?h+1:-1},iO=(e,n,o,r)=>{const l=n.start;return C2(e,r.container,r.offset,VG(l),o).bind(v=>{var A,R;const F=(R=(A=o.textContent)===null||A===void 0?void 0:A.indexOf(l))!==null&&R!==void 0?R:-1;if(F!==-1&&v.offset>=F+l.length){const K=e.createRng();return K.setStart(v.container,v.offset-l.length),K.setEnd(v.container,v.offset),se.some(K)}else{const K=v.offset-l.length;return CN(v.container,K,o).map(ie=>{const Ae=e.createRng();return Ae.setStart(ie.container,ie.offset),Ae.setEnd(v.container,v.offset),Ae}).filter(ie=>ie.toString()===l).orThunk(()=>iO(e,n,o,Rp(v.container,0)))}})},zG=(e,n,o,r,l,h=!1)=>{if(n.start.length===0&&!h){const v=e.createRng();return v.setStart(o,r),v.setEnd(o,r),se.some(v)}return TN(o,r,l).bind(v=>iO(e,n,l,v).bind(R=>{var F;if(h){if(R.endContainer===v.container&&R.endOffset===v.offset)return se.none();if(v.offset===0&&((F=R.endContainer.textContent)===null||F===void 0?void 0:F.length)===R.endOffset)return se.none()}return se.some(R)}))},UG=(e,n,o,r)=>{const l=e.dom,h=l.getRoot(),v=o.pattern,A=o.position.container,R=o.position.offset;return CN(A,R-o.pattern.end.length,n).bind(F=>{const J=uM(l,h,F.container,F.offset,A,R,r);if(fM(v))return se.some({matches:[{pattern:v,startRng:J,endRng:J}],position:F});{const K=aO(e,o.remainingPatterns,F.container,F.offset,n,r),ie=K.getOr({matches:[],position:F}),Ae=ie.position;return zG(l,v,Ae.container,Ae.offset,n,K.isNone()).map(ye=>{const Oe=xF(l,h,ye,r);return{matches:ie.matches.concat([{pattern:v,startRng:Oe,endRng:J}]),position:Rp(ye.startContainer,ye.startOffset)}})}})},aO=(e,n,o,r,l,h)=>{const v=e.dom;return TN(o,r,v.getRoot()).bind(A=>{const R=oO(v,l,o,r);for(let F=0;F<n.length;F++){const J=n[F];if(!uu(R,J.end))continue;const K=n.slice();K.splice(F,1);const ie=UG(e,l,{pattern:J,remainingPatterns:K,position:A},h);if(ie.isNone()&&r>0)return aO(e,n,o,r-1,l,h);if(ie.isSome())return ie}return se.none()})},kF=(e,n,o)=>{e.selection.setRng(o),n.type==="inline-format"?pt(n.format,r=>{e.formatter.apply(r)}):e.execCommand(n.cmd,!1,n.value)},WG=(e,n,o,r)=>{const l=rO(e.dom,o);tO(e.dom,l,r),kF(e,n,l)},GG=(e,n,o,r,l)=>{const h=e.dom,v=rO(h,r),A=rO(h,o);tO(h,A,l),tO(h,v,l);const R={prefix:o.prefix,start:o.end,end:r.start},F=rO(h,R);kF(e,n,F)},PF=(e,n)=>{const o=p0("mce_textpattern"),r=Br(n,(l,h)=>{const v=dM(e,o+`_end${l.length}`,h.endRng);return l.concat([{...h,endMarker:v}])},[]);return Br(r,(l,h)=>{const v=r.length-l.length-1,A=fM(h.pattern)?h.endMarker:dM(e,o+`_start${v}`,h.startRng);return l.concat([{...h,startMarker:A}])},[])},LF=e=>ks(e,(n,o)=>o.end.length-n.end.length),hM=(e,n)=>{const o=or(e,r=>Po(n,l=>r.pattern.start===l.pattern.start&&r.pattern.end===l.pattern.end));return e.length===n.length?o?e:n:e.length>n.length?e:n},cO=(e,n,o,r,l,h)=>{const v=aO(e,l.inlinePatterns,o,r,n,h).fold(()=>[],R=>R.matches),A=aO(e,LF(l.inlinePatterns),o,r,n,h).fold(()=>[],R=>R.matches);return hM(v,A)},BF=(e,n)=>{if(n.length===0)return;const o=e.dom,r=e.selection.getBookmark(),l=PF(o,n);pt(l,h=>{const v=o.getParent(h.startMarker.start,o.isBlock),A=R=>R===v;fM(h.pattern)?WG(e,h.pattern,h.endMarker,A):GG(e,h.pattern,h.startMarker,h.endMarker,A),MF(o,h.endMarker,A),MF(o,h.startMarker,A)}),e.selection.moveToBookmark(r)},mM=(e,n)=>{const o=e.selection.getRng();return nO(e,o).map(r=>{var l;const h=Math.max(0,o.startOffset),v=AF(n,r,(l=r.textContent)!==null&&l!==void 0?l:""),A=cO(e,r,o.startContainer,h,v,!0),R=IF(e,r,v,!0);return R.length>0||A.length>0?(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{e.insertContent(Zr),BF(e,A),DF(e,R);const F=e.selection.getRng(),J=TN(F.startContainer,F.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),J.each(K=>{const ie=K.container;ie.data.charAt(K.offset-1)===Zr&&(ie.deleteData(K.offset-1,1),HS(e.dom,ie.parentNode,Ae=>Ae===e.dom.getRoot()))})}),!0):!1}).getOr(!1)},qG=(e,n)=>{const o=e.selection.getRng();nO(e,o).map(r=>{const l=Math.max(0,o.startOffset-1),h=oO(e.dom,r,o.startContainer,l),v=AF(n,r,h),A=cO(e,r,o.startContainer,l,v,!1);A.length>0&&e.undoManager.transact(()=>{BF(e,A)})})},$F=(e,n,o)=>{for(let r=0;r<e.length;r++)if(o(e[r],n))return!0;return!1},FF=(e,n)=>$F(e,n,(o,r)=>o===r.keyCode&&!Sn.modifierPressed(r)),jG=(e,n)=>$F(e,n,(o,r)=>o.charCodeAt(0)===r.charCode),ZG=e=>{const n=[",",".",";",":","!","?"],o=[32],r=()=>Ad(fT(e),hT(e)),l=()=>gT(e);e.on("keydown",v=>{if(v.keyCode===13&&!Sn.modifierPressed(v)&&e.selection.isCollapsed()){const A=r();(A.inlinePatterns.length>0||A.blockPatterns.length>0||l())&&mM(e,A)&&v.preventDefault()}},!0);const h=()=>{if(e.selection.isCollapsed()){const v=r();(v.inlinePatterns.length>0||l())&&qG(e,v)}};e.on("keyup",v=>{FF(o,v)&&h()}),e.on("keypress",v=>{jG(n,v)&&kd.setEditorTimeout(e,h)})},YG=e=>{ZG(e)},KG=e=>{const n=Te.each,o=Sn.BACKSPACE,r=Sn.DELETE,l=e.dom,h=e.selection,v=e.parser,A=No.browser,R=A.isFirefox(),F=A.isChromium()||A.isSafari(),J=No.deviceType.isiPhone()||No.deviceType.isiPad(),K=No.os.isMacOS()||No.os.isiOS(),ie=(dn,zn)=>{try{e.getDoc().execCommand(dn,!1,String(zn))}catch{}},Ae=dn=>dn.isDefaultPrevented(),Ie=()=>{const dn=Wn=>{const mn=l.create("body"),Go=Wn.cloneContents();return mn.appendChild(Go),h.serializer.serialize(mn,{format:"html"})},zn=Wn=>{const mn=dn(Wn),Go=l.createRng();Go.selectNode(e.getBody());const qo=dn(Go);return mn===qo};e.on("keydown",Wn=>{const mn=Wn.keyCode;if(!Ae(Wn)&&(mn===r||mn===o)&&e.selection.isEditable()){const Go=e.selection.isCollapsed(),qo=e.getBody();if(Go&&!l.isEmpty(qo)||!Go&&!zn(e.selection.getRng()))return;Wn.preventDefault(),e.setContent(""),qo.firstChild&&l.isBlock(qo.firstChild)?e.selection.setCursorLocation(qo.firstChild,0):e.selection.setCursorLocation(qo,0),e.nodeChanged()}})},ye=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},Oe=()=>{e.inline||l.bind(e.getDoc(),"mousedown mouseup",dn=>{let zn;if(dn.target===e.getDoc().documentElement)if(zn=h.getRng(),e.getBody().focus(),dn.type==="mousedown"){if(Tl(zn.startContainer))return;h.placeCaretAt(dn.clientX,dn.clientY)}else h.setRng(zn)})},ze=()=>{e.on("keydown",dn=>{if(!Ae(dn)&&dn.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(h.isCollapsed()&&h.getRng().startOffset===0){const zn=h.getNode(),Wn=zn.previousSibling;if(zn.nodeName==="HR"){l.remove(zn),dn.preventDefault();return}Wn&&Wn.nodeName&&Wn.nodeName.toLowerCase()==="hr"&&(l.remove(Wn),dn.preventDefault())}}})},Fe=()=>{Range.prototype.getClientRects||e.on("mousedown",dn=>{if(!Ae(dn)&&dn.target.nodeName==="HTML"){const zn=e.getBody();zn.blur(),kd.setEditorTimeout(e,()=>{zn.focus()})}})},Ke=()=>{const dn=B0(e);e.on("click",zn=>{const Wn=zn.target;/^(IMG|HR)$/.test(Wn.nodeName)&&l.isEditable(Wn.parentNode)&&(zn.preventDefault(),e.selection.select(Wn),e.nodeChanged()),Wn.nodeName==="A"&&l.hasClass(Wn,dn)&&Wn.childNodes.length===0&&l.isEditable(Wn.parentNode)&&(zn.preventDefault(),h.select(Wn))})},at=()=>{const dn=()=>{const Wn=l.getAttribs(h.getStart().cloneNode(!1));return()=>{const mn=h.getStart();mn!==e.getBody()&&(l.setAttrib(mn,"style",null),n(Wn,Go=>{mn.setAttributeNode(Go.cloneNode(!0))}))}},zn=()=>!h.isCollapsed()&&l.getParent(h.getStart(),l.isBlock)!==l.getParent(h.getEnd(),l.isBlock);e.on("keypress",Wn=>{let mn;return!Ae(Wn)&&(Wn.keyCode===8||Wn.keyCode===46)&&zn()?(mn=dn(),e.getDoc().execCommand("delete",!1),mn(),Wn.preventDefault(),!1):!0}),l.bind(e.getDoc(),"cut",Wn=>{if(!Ae(Wn)&&zn()){const mn=dn();kd.setEditorTimeout(e,()=>{mn()})}})},xt=()=>{e.on("keydown",dn=>{if(!Ae(dn)&&dn.keyCode===o&&h.isCollapsed()&&h.getRng().startOffset===0){const zn=h.getNode().previousSibling;if(zn&&zn.nodeName&&zn.nodeName.toLowerCase()==="table")return dn.preventDefault(),!1}return!0})},sn=()=>{e.on("keydown",dn=>{if(Ae(dn)||dn.keyCode!==Sn.BACKSPACE)return;let zn=h.getRng();const Wn=zn.startContainer,mn=zn.startOffset,Go=l.getRoot();let qo=Wn;if(!(!zn.collapsed||mn!==0)){for(;qo.parentNode&&qo.parentNode.firstChild===qo&&qo.parentNode!==Go;)qo=qo.parentNode;qo.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,qo),zn=l.createRng(),zn.setStart(Wn,0),zn.setEnd(Wn,0),h.setRng(zn))}})},Zt=()=>{const dn=()=>{ie("StyleWithCSS",!1),ie("enableInlineTableEditing",!1),q_(e)||ie("enableObjectResizing",!1)};op(e)||e.on("BeforeExecCommand mousedown",dn)},mt=()=>{const dn=()=>{n(l.select("a:not([data-mce-block])"),zn=>{var Wn;let mn=zn.parentNode;const Go=l.getRoot();if((mn==null?void 0:mn.lastChild)===zn){for(;mn&&!l.isBlock(mn);){if(((Wn=mn.parentNode)===null||Wn===void 0?void 0:Wn.lastChild)!==mn||mn===Go)return;mn=mn.parentNode}l.add(mn,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",zn=>{(zn.type==="setcontent"||zn.command==="mceInsertLink")&&dn()})},ht=()=>{e.on("init",()=>{ie("DefaultParagraphSeparator",_u(e))})},yn=dn=>{const zn=dn.getBody(),Wn=dn.selection.getRng();return Wn.startContainer===Wn.endContainer&&Wn.startContainer===zn&&Wn.startOffset===0&&Wn.endOffset===zn.childNodes.length},Bn=()=>{e.on("keyup focusin mouseup",dn=>{!Sn.modifierPressed(dn)&&!yn(e)&&h.normalize()},!0)},qn=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},To=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},Jo=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",dn=>{let zn;dn.target.nodeName==="HTML"&&(zn=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(zn),e.selection.normalize(),e.nodeChanged())}))},Ns=()=>{K&&e.on("keydown",dn=>{Sn.metaKeyPressed(dn)&&!dn.shiftKey&&(dn.keyCode===37||dn.keyCode===39)&&(dn.preventDefault(),e.selection.getSel().modify("move",dn.keyCode===37?"backward":"forward","lineboundary"))})},cr=()=>{e.on("click",dn=>{let zn=dn.target;do if(zn.tagName==="A"){dn.preventDefault();return}while(zn=zn.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Ii=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",dn=>{dn.preventDefault()})})},Pc=()=>{v.addNodeFilter("br",dn=>{let zn=dn.length;for(;zn--;)dn[zn].attr("class")==="Apple-interchange-newline"&&dn[zn].remove()})},Xa=Rt,qt=()=>{if(!R||e.removed)return!1;const dn=e.selection.getSel();return!dn||!dn.rangeCount||dn.rangeCount===0},In=()=>{F&&(Oe(),Ke(),Ii(),ye(),J&&(To(),Jo(),cr())),R&&(Fe(),Zt(),qn(),Ns())},ms=()=>{sn(),Ie(),No.windowsPhone||Bn(),F&&(Oe(),Ke(),ht(),Ii(),xt(),Pc(),J?(To(),Jo(),cr()):ye()),R&&(ze(),Fe(),at(),Zt(),mt(),qn(),Ns(),xt())};return Mg(e)?In():ms(),{refreshContentEditable:Xa,isHidden:qt}},pM=rr.DOM,XG=(e,n)=>{const o=De.fromDom(e.getBody()),r=Yo(ro(o)),l=De.fromTag("style");mo(l,"type","text/css"),wr(l,De.fromText(n)),wr(r,l),e.on("remove",()=>{Tr(l)})},QG=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,lO=e=>Ps(e,n=>dt(n)===!1),HF=e=>{const n=e.options.get,o=e.editorUpload.blobCache;return lO({allow_conditional_comments:n("allow_conditional_comments"),allow_html_data_urls:n("allow_html_data_urls"),allow_svg_data_urls:n("allow_svg_data_urls"),allow_html_in_named_anchor:n("allow_html_in_named_anchor"),allow_script_urls:n("allow_script_urls"),allow_unsafe_link_target:n("allow_unsafe_link_target"),convert_fonts_to_spans:n("convert_fonts_to_spans"),fix_list_elements:n("fix_list_elements"),font_size_legacy_values:n("font_size_legacy_values"),forced_root_block:n("forced_root_block"),forced_root_block_attrs:n("forced_root_block_attrs"),preserve_cdata:n("preserve_cdata"),remove_trailing_brs:n("remove_trailing_brs"),inline_styles:n("inline_styles"),root_name:QG(e),sanitize:n("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},uO=e=>{const n=e.options.get;return lO({custom_elements:n("custom_elements"),extended_valid_elements:n("extended_valid_elements"),invalid_elements:n("invalid_elements"),invalid_styles:n("invalid_styles"),schema:n("schema"),valid_children:n("valid_children"),valid_classes:n("valid_classes"),valid_elements:n("valid_elements"),valid_styles:n("valid_styles"),verify_html:n("verify_html"),padd_empty_block_inline_children:n("format_empty_lines")})},JG=e=>{const n=e.options.get;return{...HF(e),...uO(e),...lO({url_converter:n("url_converter"),url_converter_scope:n("url_converter_scope"),element_format:n("element_format"),entities:n("entities"),entity_encoding:n("entity_encoding"),indent:n("indent"),indent_after:n("indent_after"),indent_before:n("indent_before")})}},eq=e=>{const n=kb(HF(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",(o,r)=>{const l=e.dom,h="data-mce-"+r;let v=o.length;for(;v--;){const A=o[v];let R=A.attr(r);if(R&&!A.attr(h)){if(R.indexOf("data:")===0||R.indexOf("blob:")===0)continue;r==="style"?(R=l.serializeStyle(l.parseStyle(R),A.name),R.length||(R=null),A.attr(h,R),A.attr(r,R)):r==="tabindex"?(A.attr(h,R),A.attr(r,null)):A.attr(h,e.convertURL(R,r,A.name))}}}),n.addNodeFilter("script",o=>{let r=o.length;for(;r--;){const l=o[r],h=l.attr("type")||"no/type";h.indexOf("mce-")!==0&&l.attr("type","mce-"+h)}}),tE(e)&&n.addNodeFilter("#cdata",o=>{var r;let l=o.length;for(;l--;){const h=o[l];h.type=8,h.name="#comment",h.value="[CDATA["+e.dom.encode((r=h.value)!==null&&r!==void 0?r:"")+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let r=o.length;const l=e.schema.getNonEmptyElements();for(;r--;){const h=o[r];h.isEmpty(l)&&h.getAll("br").length===0&&h.append(new ed("br",1))}}),n},tq=e=>{const n=uT(e);n&&kd.setEditorTimeout(e,()=>{let o;n===!0?o=e:o=e.editorManager.get(n),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},nq=e=>{const n=e.dom.getRoot();!e.inline&&(!kT(e)||e.selection.getStart(!0)===n)&&ti(n).each(o=>{const r=o.getNode(),l=Nr(r)?ti(r).getOr(o):o;e.selection.setRng(l.toRange())})},oq=e=>{e.bindPendingEventDelegates(),e.initialized=!0,ir(e),e.focus(!0),nq(e),e.nodeChanged({initial:!0});const n=Q_(e);Ee(n)&&n.call(e,e),tq(e)},VF=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,dO=(e,n,o)=>{const r=[VF(e).loadAll(n)];return e.inline?r:r.concat([e.ui.styleSheetLoader.loadAll(o)])},zF=e=>{const n=VF(e),o=vg(e),r=e.contentCSS,l=()=>{n.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(o)},h=()=>{e.removed?l():e.on("remove",l)};if(e.contentStyles.length>0){let R="";Te.each(e.contentStyles,F=>{R+=F+`\r
`}),e.dom.addStyle(R)}const v=Promise.all(dO(e,r,o)).then(h).catch(h),A=G_(e);return A&&XG(e,A),v},sq=e=>{const n=e.getDoc(),o=e.getBody();ZT(e),dT(e)||(n.body.spellcheck=!1,pM.setAttrib(o,"spellcheck","false")),e.quirks=KG(e),YT(e);const r=oT(e);r!==void 0&&(o.dir=r);const l=Rd(e);l&&e.on("BeforeSetContent",h=>{Te.each(l,v=>{h.content=h.content.replace(v,A=>"<!--mce:protected "+escape(A)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",h=>{e.composing=h.type==="compositionstart"})},rq=e=>{Mg(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},gM=e=>{e.removed!==!0&&(rq(e),oq(e))},UF=e=>{const n=e.getElement();let o=e.getDoc();e.inline&&(pM.addClass(n,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=n,e.contentAreaContainer=n);const r=e.getBody();r.disabled=!0,e.readonly=op(e),e.readonly||(e.inline&&pM.getStyle(r,"position",!0)==="static"&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,e.editorUpload=_D(e),e.schema=Kl(uO(e)),e.dom=rr(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:Es(e),referrerPolicy:tp(e),onSetAttrib:v=>{e.dispatch("SetAttrib",v)}}),e.parser=eq(e),e.serializer=gD(JG(e),e),e.selection=lv(e.dom,e.getWin(),e.serializer,e),e.annotator=uy(e),e.formatter=cS(e),e.undoManager=CD(e),e._nodeChangeDispatcher=new C9(e),e._selectionOverrides=wF(e),sB(e),K$(e),aB(e),Mg(e)||(lG(e),YG(e));const l=T9(e);fU(e,l),gU(e),Z7(e),Y$(e);const h=j8(e);sq(e),h.fold(()=>{zF(e).then(()=>gM(e))},v=>{e.setProgressState(!0),zF(e).then(()=>{v().then(A=>{e.setProgressState(!1),gM(e),cm(e)},A=>{e.notificationManager.open({type:"error",text:String(A)}),gM(e),cm(e)})})})},iq=Dt,aq=(e,n,o)=>a1(e,n,iq,o),vM=rr.DOM,cq=(e,n,o,r)=>{const l=De.fromTag("iframe");return r.each(h=>mo(l,"tabindex",h)),Wr(l,o),Wr(l,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),hd(l,"tox-edit-area__iframe"),l},WF=e=>{let n=H_(e)+"<html><head>";_a(e)!==e.documentBaseUrl&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=tT(e),r=V_(e),l=e.translate($0(e));return z_(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+z_(e)+'" />'),n+=`</head><body id="${o}" class="mce-content-body ${r}" data-id="${e.id}" aria-label="${l}"><br></body></html>`,n},lq=(e,n)=>{const o=e.translate("Rich Text Area"),r=sc(De.fromDom(e.getElement()),"tabindex").bind(ld),l=cq(e.id,o,Pt(e),r).dom;l.onload=()=>{l.onload=null,e.dispatch("load")},e.contentAreaContainer=n.iframeContainer,e.iframeElement=l,e.iframeHTML=WF(e),vM.add(n.iframeContainer,l)},GF=e=>{const n=e.iframeElement,o=aq(De.fromDom(n),"load",()=>{o.unbind(),e.contentDocument=n.contentDocument,UF(e)});if(No.browser.isFirefox()){const r=e.getDoc();r.open(),r.write(e.iframeHTML),r.close()}else n.srcdoc=e.iframeHTML},uq=(e,n)=>{lq(e,n),n.editorContainer&&(n.editorContainer.style.display=e.orgDisplay,e.hidden=vM.isHidden(n.editorContainer)),e.getElement().style.display="none",vM.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,GF(e)},qF=rr.DOM,jF=(e,n,o)=>{const r=lm.get(o),l=lm.urls[o]||e.documentBaseUrl.replace(/\/$/,"");if(o=Te.trim(o),r&&Te.inArray(n,o)===-1){if(e.plugins[o])return;try{const h=r(e,l)||{};e.plugins[o]=h,Ee(h.init)&&(h.init(e,l),n.push(o))}catch(h){Q4(e,o,h)}}},VS=e=>e.replace(/^\-/,""),dq=e=>{const n=[];pt(L0(e),o=>{jF(e,n,VS(o))})},ZF=e=>{const n=Te.trim(nb(e)),o=e.ui.registry.getAll().icons,r={...ZA.get("default").icons,...ZA.get(n).icons};cn(r,(l,h)=>{jn(o,h)||e.ui.registry.addIcon(h,l)})},fq=e=>{const n=pf(e);if(Q(n)){const o=Lg.get(n);e.theme=o(e,Lg.urls[n])||{},Ee(e.theme.init)&&e.theme.init(e,Lg.urls[n]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},hq=e=>{const n=Eu(e),o=ew.get(n);e.model=o(e,ew.urls[n])},mq=e=>{const n=e.theme.renderUI;return n?n():yM(e)},pq=e=>{const n=e.getElement(),r=pf(e)(e,n);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:n.offsetHeight,r},bM=(e,n)=>({editorContainer:e,iframeContainer:n,api:{}}),gq=e=>{const n=qF.create("div");return qF.insertAfter(n,e),bM(n,n)},yM=e=>{const n=e.getElement();return e.inline?bM(null):gq(n)},vq=e=>{const n=e.getElement();return e.orgDisplay=n.style.display,Q(pf(e))?mq(e):Ee(pf(e))?pq(e):yM(e)},bq=(e,n)=>{const o={show:se.from(n.show).getOr(Rt),hide:se.from(n.hide).getOr(Rt),isEnabled:se.from(n.isEnabled).getOr(Dt),setEnabled:r=>{e.mode.isReadOnly()||se.from(n.setEnabled).each(l=>l(r))}};e.ui={...e.ui,...o}},yq=async e=>{e.dispatch("ScriptsLoaded"),ZF(e),fq(e),hq(e),dq(e);const n=await vq(e);bq(e,se.from(n.api).getOr({})),e.editorContainer=n.editorContainer,P7(e),e.inline?UF(e):uq(e,{editorContainer:n.editorContainer,iframeContainer:n.iframeContainer})},jy=rr.DOM,YF=e=>e.charAt(0)==="-",_q=(e,n)=>{const o=gr(n),r=W_(n);if(!Cd.hasCode(o)&&o!=="en"){const l=Ss(r)?r:`${n.editorManager.baseURL}/langs/${o}.js`;e.add(l).catch(()=>{K4(n,l,o)})}},Eq=(e,n)=>{const o=pf(e);if(Q(o)&&!YF(o)&&!jn(Lg.urls,o)){const r=ib(e),l=r?e.documentBaseURI.toAbsolute(r):`themes/${o}/theme${n}.js`;Lg.load(o,l).catch(()=>{JA(e,l,o)})}},wq=(e,n)=>{const o=Eu(e);if(o!=="plugin"&&!jn(ew.urls,o)){const r=Ys(e),l=Q(r)?e.documentBaseURI.toAbsolute(r):`models/${o}/model${n}.js`;ew.load(o,l).catch(()=>{X4(e,l,o)})}},Tq=e=>se.from(ob(e)).filter(Ss).map(n=>({url:n,name:se.none()})),_M=(e,n,o)=>se.from(n).filter(r=>Ss(r)&&!ZA.has(r)).map(r=>({url:`${e.editorManager.baseURL}/icons/${r}/icons${o}.js`,name:se.some(r)})),EM=(e,n,o)=>{const r=_M(n,"default",o),l=Tq(n).orThunk(()=>_M(n,nb(n),""));pt(it([r,l]),h=>{e.add(h.url).catch(()=>{Y4(n,h.url,h.name.getOrUndefined())})})},KF=(e,n)=>{const o=(r,l)=>{lm.load(r,l).catch(()=>{Z4(e,l,r)})};cn(sp(e),(r,l)=>{o(l,r),e.options.set("plugins",L0(e).concat(l))}),pt(L0(e),r=>{r=Te.trim(r),r&&!lm.urls[r]&&!YF(r)&&o(r,`plugins/${r}/plugin${n}.js`)})},XF=e=>{const n=pf(e);return!Q(n)||Pe(Lg.get(n))},Cq=e=>{const n=Eu(e);return Pe(ew.get(n))},Sq=(e,n)=>{const o=Zf.ScriptLoader,r=()=>{!e.removed&&XF(e)&&Cq(e)&&yq(e)};Eq(e,n),wq(e,n),_q(o,e),EM(o,e,n),KF(e,n),o.loadQueue().then(r,r)},xq=(e,n)=>p1.forElement(e,{contentCssCors:P0(n),referrerPolicy:tp(n)}),QF=e=>{const n=e.id;Cd.setCode(gr(e));const o=()=>{jy.unbind(window,"ready",o),e.render()};if(!df.Event.domLoaded){jy.bind(window,"ready",o);return}if(!e.getElement())return;const r=De.fromDom(e.getElement()),l=Ia(r);e.on("remove",()=>{vi(r.dom.attributes,v=>hr(r,v.name)),Wr(r,l)}),e.ui.styleSheetLoader=xq(r,e),k0(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const h=e.getElement().form||jy.getParent(n,"form");h&&(e.formElement=h,K_(e)&&!Nh(e.getElement())&&(jy.insertAfter(jy.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=v=>{e.dispatch(v.type,v)},jy.bind(h,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),hc(e)&&!h.submit.nodeType&&!h.submit.length&&!h._mceOldSubmit&&(h._mceOldSubmit=h.submit,h.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),h._mceOldSubmit(h)))),e.windowManager=yD(e),e.notificationManager=Lb(e),oE(e)&&e.on("GetContent",v=>{v.save&&(v.content=jy.encode(v.content))}),Jl(e)&&e.on("submit",()=>{e.initialized&&e.save()}),sT(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),Sq(e,e.suffix)},JF=(e,n)=>({sections:nt(e),options:nt(n)}),e5=Vs().deviceType,t5=e5.isPhone(),wM=e5.isTablet(),Ub=e=>{if(_t(e))return[];{const n=z(e)?e:e.split(/[ ,]/),o=Kt(n,du);return Bt(o,Ss)}},fO=(e,n)=>{const o=cu(n,(r,l)=>Pn(e,l));return JF(o.t,o.f)},mv=(e,n,o={})=>{const r=e.sections(),l=Qs(r,n).getOr({});return Te.extend({},o,l)},bw=(e,n)=>jn(e.sections(),n),yw=(e,n)=>bw(e,n)?e.sections()[n]:{},n5=(e,n)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Qs(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...n?{menubar:!1}:{}}),Aq=(e,n)=>{var o;const r=(o=n.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?Te.extend({},e.external_plugins,r):r},Oq=(e,n)=>[...Ub(e),...Ub(n)],o5=(e,n,o,r)=>e&&bw(n,"mobile")?r:o,Rq=(e,n,o,r)=>{const l=Ub(o.forced_plugins),h=Ub(r.plugins),v=yw(n,"mobile"),A=v.plugins?Ub(v.plugins):h,R=o5(e,n,h,A),F=Oq(l,R);return Te.extend(r,{forced_plugins:l,plugins:F})},TM=(e,n)=>e&&bw(n,"mobile"),hO=(e,n,o,r,l)=>{var h;const v=e?{mobile:n5((h=l.mobile)!==null&&h!==void 0?h:{},n)}:{},A=fO(["mobile"],A2(v,l)),R=Te.extend(o,r,A.options(),TM(e,A)?mv(A,"mobile"):{},{external_plugins:Aq(r,A.options())});return Rq(e,A,r,R)},Wb=(e,n)=>hO(t5||wM,t5,n,e,n),Zy=(e,n)=>sK(e,n),s5=e=>{const n=(r,l)=>{e.formatter.toggle(r,l),e.nodeChanged()},o=r=>()=>{pt("left,center,right,justify".split(","),l=>{r!==l&&e.formatter.remove("align"+l)}),r!=="none"&&n("align"+r)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},Iq=e=>{const n=o=>()=>{const r=e.selection,l=r.isCollapsed()?[e.dom.getParent(r.getNode(),e.dom.isBlock)]:r.getSelectedBlocks();return Po(l,h=>Pe(e.formatter.matchNode(h,o)))};e.editorCommands.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify")},"state")},Dq=e=>{s5(e),Iq(e)},Nq=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":n=>{const o=e.getDoc();let r;try{o.execCommand(n)}catch{r=!0}if(n==="paste"&&!o.queryCommandEnabled(n)&&(r=!0),r||!o.queryCommandSupported(n)){let l=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(No.os.isMacOS()||No.os.isiOS())&&(l=l.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:l,type:"error"})}}})},Mq=(e,n,o)=>{const r=De.fromDom(e.getRoot());return FE(r,Xe.fromRangeStart(n))?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),wC(r,Xe.fromRangeEnd(n))?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},kq=e=>{if(typeof e!="string"){const n=Te.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},Pq=(e,n)=>{const o=e.selection,r=e.dom;return/^ | $/.test(n)?Mq(r,o.getRng(),n):n},zS=(e,n)=>{if(e.selection.isEditable()){const{content:o,details:r}=kq(n);tD(e,{...r,content:Pq(e,o),format:"html",set:!1,selection:!0}).each(l=>{const h=i7(e,l.content,r);KC(e,h,l),e.addVisual()})}},Lq=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const n=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(n)},insertImage:(n,o,r)=>{zS(e,e.dom.createHTML("img",{src:r}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(n,o,r)=>{zS(e,e.dom.encode(r))},insertHTML:(n,o,r)=>{zS(e,r)},mceInsertContent:(n,o,r)=>{zS(e,r)},mceSetContent:(n,o,r)=>{e.setContent(r)},mceReplaceContent:(n,o,r)=>{e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent("")}})},Bq={"font-size":"size","font-family":"face"},$q=Hc("font"),MK=(e,n,o)=>{const r=h=>Ma(h,e).orThunk(()=>$q(h)?Qs(Bq,e).bind(v=>sc(h,v)):se.none()),l=h=>os(De.fromDom(n),h);return _A(De.fromDom(o),h=>r(h),l)},Fq=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),CM=(e,n)=>se.from(rr.DOM.getStyle(n,e,!0)),r5=e=>(n,o)=>se.from(o).map(De.fromDom).filter(as).bind(r=>MK(e,n,r.dom).or(CM(e,r.dom))).getOr(""),Hq=r5("font-size"),i5=B(Fq,r5("font-family")),Vq=e=>ti(e.getBody()).bind(n=>{const o=n.container();return se.from(Ut(o)?o.parentNode:o)}),a5=e=>se.from(e.selection.getRng()).bind(n=>{const o=e.getBody();return n.startContainer===o&&n.startOffset===0?se.none():se.from(e.selection.getStart(!0))}),zq=(e,n)=>a5(e).orThunk(Ze(Vq,e)).map(De.fromDom).filter(as).bind(n),US=(e,n)=>zq(e,It(se.some,n)),c5=(e,n)=>{if(/^[0-9.]+$/.test(n)){const o=parseInt(n,10);if(o>=1&&o<=7){const r=vT(e),l=bT(e);return l.length>0?l[o-1]||n:r[o-1]||n}else return n}else return n},Uq=e=>{const n=e.split(/\s*,\s*/);return Kt(n,o=>o.indexOf(" ")!==-1&&!(Ei(o,'"')||Ei(o,"'"))?`'${o}'`:o).join(",")},Wq=(e,n)=>{const o=c5(e,n);e.formatter.toggle("fontname",{value:Uq(o)}),e.nodeChanged()},Gq=e=>US(e,n=>i5(e.getBody(),n.dom)).getOr(""),l5=(e,n)=>{e.formatter.toggle("fontsize",{value:c5(e,n)}),e.nodeChanged()},SM=e=>US(e,n=>Hq(e.getBody(),n.dom)).getOr(""),u5=e=>US(e,n=>{const o=De.fromDom(e.getBody()),r=_A(n,h=>Ma(h,"line-height"),Ze(os,o)),l=()=>{const h=parseFloat($u(n,"line-height")),v=parseFloat($u(n,"font-size"));return String(h/v)};return r.getOrThunk(l)}).getOr(""),xM=(e,n)=>{e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},qq=e=>{const n=(o,r)=>{e.formatter.toggle(o,r),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{n(o)},"ForeColor,HiliteColor":(o,r,l)=>{n(o,{value:l})},BackColor:(o,r,l)=>{n("hilitecolor",{value:l})},FontName:(o,r,l)=>{Wq(e,l)},FontSize:(o,r,l)=>{l5(e,l)},LineHeight:(o,r,l)=>{xM(e,l)},Lang:(o,r,l)=>{var h;n(o,{value:l.code,customValue:(h=l.customCode)!==null&&h!==void 0?h:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{n("blockquote")},FormatBlock:(o,r,l)=>{n(Q(l)?l:"p")},mceToggleFormat:(o,r,l)=>{n(l)}})},kK=e=>{const n=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>n(o),mceBlockQuote:()=>n("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>Gq(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>SM(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>u5(e))},PK=e=>{qq(e),kK(e)},jq=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},d5=e=>{e.editorCommands.addCommands({Indent:()=>{v2(e)},Outdent:()=>{rN(e)}}),e.editorCommands.addCommands({Outdent:()=>lU(e)},"state")},Zq=e=>{const n=(o,r,l)=>{const h=Q(l)?{href:l}:l,v=e.dom.getParent(e.selection.getNode(),"a");Ne(h)&&Q(h.href)&&(h.href=h.href.replace(/ /g,"%20"),(!v||!h.href)&&e.formatter.remove("link"),h.href&&e.formatter.apply("link",h,v))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")},mceInsertLink:n,createLink:n})},Yq=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":n=>{e.getDoc().execCommand(n);const o=e.dom.getParent(e.selection.getNode(),"ol,ul");if(o){const r=o.parentNode;if(r&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)){const l=e.selection.getBookmark();e.dom.split(r,o),e.selection.moveToBookmark(l)}}}})},Kq=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":n=>{const o=e.dom.getParent(e.selection.getNode(),"ul,ol");return o&&(n==="insertunorderedlist"&&o.tagName==="UL"||n==="insertorderedlist"&&o.tagName==="OL")}},"state")},LK=e=>{Yq(e),Kq(e)},BK=e=>{e.editorCommands.addCommands({insertParagraph:()=>{mw(u$,e)},mceInsertNewLine:(n,o,r)=>{U2(e,r)},InsertLineBreak:(n,o,r)=>{mw(NS,e)}})},f5=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(n,o,r)=>{let l=0;e.dom.getParent(e.selection.getNode(),h=>on(h)&&l++===r?(e.selection.select(h),!1):!0,e.getBody())},mceSelectNode:(n,o,r)=>{e.selection.select(r)},selectAll:()=>{const n=e.dom.getParent(e.selection.getStart(),ns);if(n){const o=e.dom.createRng();o.selectNodeContents(n),e.selection.setRng(o)}}})},h5=e=>{e.editorCommands.addCommands({mceRemoveNode:(n,o,r)=>{const l=r??e.selection.getNode();if(l!==e.getBody()){const h=e.selection.getBookmark();e.dom.remove(l,!0),e.selection.moveToBookmark(h)}},mcePrint:()=>{e.getWin().print()},mceFocus:(n,o,r)=>{l6(e,r===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},Xq=e=>{Dq(e),Nq(e),jq(e),f5(e),Lq(e),Zq(e),d5(e),BK(e),LK(e),PK(e),h5(e)},Qq=["toggleview"],m5=e=>Pn(Qq,e.toLowerCase());class Jq{constructor(n){this.commands={state:{},exec:{},value:{}},this.editor=n}execCommand(n,o=!1,r,l){const h=this.editor,v=n.toLowerCase(),A=l==null?void 0:l.skip_focus;if(h.removed||(v!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(v)&&!A?h.focus():Nl(h)),h.dispatch("BeforeExecCommand",{command:n,ui:o,value:r}).isDefaultPrevented()))return!1;const F=this.commands.exec[v];return Ee(F)?(F(v,o,r),h.dispatch("ExecCommand",{command:n,ui:o,value:r}),!0):!1}queryCommandState(n){if(!m5(n)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=n.toLowerCase(),r=this.commands.state[o];return Ee(r)?r(o):!1}queryCommandValue(n){if(!m5(n)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=n.toLowerCase(),r=this.commands.value[o];return Ee(r)?r(o):""}addCommands(n,o="exec"){const r=this.commands;cn(n,(l,h)=>{pt(h.toLowerCase().split(","),v=>{r[o][v]=l})})}addCommand(n,o,r){const l=n.toLowerCase();this.commands.exec[l]=(h,v,A)=>o.call(r??this.editor,v,A)}queryCommandSupported(n){const o=n.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(n,o,r){this.commands.state[n.toLowerCase()]=()=>o.call(r??this.editor)}addQueryValueHandler(n,o,r){this.commands.value[n.toLowerCase()]=()=>o.call(r??this.editor)}}const _w="data-mce-contenteditable",$K=(e,n,o)=>{mu(e,n)&&!o?rc(e,n):o&&hd(e,n)},AM=(e,n,o)=>{try{e.getDoc().execCommand(n,!1,String(o))}catch{}},OM=(e,n)=>{e.dom.contentEditable=n?"true":"false"},ej=e=>{pt(Jr(e,'*[contenteditable="true"]'),n=>{mo(n,_w,"true"),OM(n,!1)})},Yy=e=>{pt(Jr(e,`*[${_w}="true"]`),n=>{hr(n,_w),OM(n,!0)})},RM=e=>{se.from(e.selection.getNode()).each(n=>{n.removeAttribute("data-mce-selected")})},mO=e=>{e.selection.setRng(e.selection.getRng())},p5=(e,n)=>{const o=De.fromDom(e.getBody());$K(o,"mce-content-readonly",n),n?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),RM(e),e.readonly=!0,OM(o,!1),ej(o)):(e.readonly=!1,OM(o,!0),Yy(o),AM(e,"StyleWithCSS",!1),AM(e,"enableInlineTableEditing",!1),AM(e,"enableObjectResizing",!1),Ck(e)&&e.focus(),mO(e),e.nodeChanged())},Gb=e=>e.readonly,IM=e=>{e.parser.addAttributeFilter("contenteditable",n=>{Gb(e)&&pt(n,o=>{o.attr(_w,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(_w,n=>{Gb(e)&&pt(n,o=>{o.attr("contenteditable",o.attr(_w))})}),e.serializer.addTempAttr(_w)},tj=e=>{e.serializer?IM(e):e.on("PreInit",()=>{IM(e)})},nj=e=>e.type==="click",oj=["copy"],sj=e=>Pn(oj,e.type),Ky=(e,n)=>zl(n,"a",r=>os(r,De.fromDom(e.getBody()))).bind(r=>sc(r,"href")),rj=(e,n)=>{if(nj(n)&&!Sn.metaKeyPressed(n)){const o=De.fromDom(n.target);Ky(e,o).each(r=>{if(n.preventDefault(),/^#/.test(r)){const l=e.dom.select(`${r},[name="${Qc(r,"#")}"]`);l.length&&e.selection.scrollIntoView(l[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else sj(n)&&e.dispatch(n.type,n)},g5=e=>{e.on("ShowCaret",n=>{Gb(e)&&n.preventDefault()}),e.on("ObjectSelected",n=>{Gb(e)&&n.preventDefault()})},ij=Te.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class Ew{constructor(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||tt}static isNative(n){return!!ij[n.toLowerCase()]}fire(n,o){return this.dispatch(n,o)}dispatch(n,o){const r=n.toLowerCase(),l=cg(r,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(l);const h=this.bindings[r];if(h)for(let v=0,A=h.length;v<A;v++){const R=h[v];if(!R.removed){if(R.once&&this.off(r,R.func),l.isImmediatePropagationStopped())return l;if(R.func.call(this.scope,l)===!1)return l.preventDefault(),l}}return l}on(n,o,r,l){if(o===!1&&(o=tt),o){const h={func:o,removed:!1};l&&Te.extend(h,l);const v=n.toLowerCase().split(" ");let A=v.length;for(;A--;){const R=v[A];let F=this.bindings[R];F||(F=[],this.toggleEvent(R,!0)),r?F=[h,...F]:F=[...F,h],this.bindings[R]=F}}return this}off(n,o){if(n){const r=n.toLowerCase().split(" ");let l=r.length;for(;l--;){const h=r[l];let v=this.bindings[h];if(!h)return cn(this.bindings,(A,R)=>{this.toggleEvent(R,!1),delete this.bindings[R]}),this;if(v){if(!o)v.length=0;else{const A=bi(v,R=>R.func===o);v=A.fail,this.bindings[h]=v,pt(A.pass,R=>{R.removed=!0})}v.length||(this.toggleEvent(n,!1),delete this.bindings[h])}}}else cn(this.bindings,(r,l)=>{this.toggleEvent(l,!1)}),this.bindings={};return this}once(n,o,r){return this.on(n,o,r,{once:!0})}has(n){n=n.toLowerCase();const o=this.bindings[n];return!(!o||o.length===0)}}const WS=e=>(e._eventDispatcher||(e._eventDispatcher=new Ew({scope:e,toggleEvent:(n,o)=>{Ew.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,o)}})),e._eventDispatcher),DM={fire(e,n,o){return this.dispatch(e,n,o)},dispatch(e,n,o){const r=this;if(r.removed&&e!=="remove"&&e!=="detach")return cg(e.toLowerCase(),n??{},r);const l=WS(r).dispatch(e,n);if(o!==!1&&r.parent){let h=r.parent();for(;h&&!l.isPropagationStopped();)h.dispatch(e,l,!1),h=h.parent?h.parent():void 0}return l},on(e,n,o){return WS(this).on(e,n,o)},off(e,n){return WS(this).off(e,n)},once(e,n){return WS(this).once(e,n)},hasEventListeners(e){return WS(this).has(e)}},pO=rr.DOM;let qb;const gO=(e,n)=>{if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(n))return e.getDoc().documentElement;const o=M0(e);return o?(e.eventRoot||(e.eventRoot=pO.select(o)[0]),e.eventRoot):e.getBody()},aj=e=>!e.hidden&&!Gb(e),v5=(e,n,o)=>{aj(e)?e.dispatch(n,o):Gb(e)&&rj(e,o)},b5=(e,n)=>{if(e.delegates||(e.delegates={}),e.delegates[n]||e.removed)return;const o=gO(e,n);if(M0(e)){if(qb||(qb={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||qb&&(cn(qb,(l,h)=>{e.dom.unbind(gO(e,h))}),qb=null)})),qb[n])return;const r=l=>{const h=l.target,v=e.editorManager.get();let A=v.length;for(;A--;){const R=v[A].getBody();(R===h||pO.isChildOf(h,R))&&v5(v[A],n,l)}};qb[n]=r,pO.bind(o,n,r)}else{const r=l=>{v5(e,n,l)};pO.bind(o,n,r),e.delegates[n]=r}},vO={...DM,bindPendingEventDelegates(){const e=this;Te.each(e._pendingNativeEvents,n=>{b5(e,n)})},toggleNativeEvent(e,n){const o=this;e==="focus"||e==="blur"||o.removed||(n?o.initialized?b5(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(gO(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,n=e.getBody(),o=e.dom;e.delegates&&(cn(e.delegates,(r,l)=>{e.dom.unbind(gO(e,l),l,r)}),delete e.delegates),!e.inline&&n&&o&&(n.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(n),o.unbind(e.getContainer()))}},cj=e=>Q(e)?{value:e.split(/[ ,]/),valid:!0}:Tt(e,Q)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},lj=e=>{const n=(()=>{switch(e){case"array":return z;case"boolean":return je;case"function":return Ee;case"number":return pn;case"object":return Ne;case"string":return Q;case"string[]":return cj;case"object[]":return o=>Tt(o,Ne);case"regexp":return o=>ge(o,RegExp);default:return Dt}})();return o=>GS(o,n,`The value must be a ${e}.`)},Ka=e=>Q(e.processor),y5=(e,n)=>{const o=ri(n.message)?"":`. ${n.message}`;return e+o},_5=e=>e.valid,GS=(e,n,o="")=>{const r=n(e);return je(r)?r?{value:e,valid:!0}:{valid:!1,message:o}:r},E5=(e,n,o)=>{if(!dt(n)){const r=GS(n,o);if(_5(r))return r.value;console.error(y5(`Invalid default value passed for the "${e}" option`,r))}},NM=(e,n)=>{const o={},r={},l=(K,ie,Ae)=>{const Ie=GS(ie,Ae);return _5(Ie)?(r[K]=Ie.value,!0):(console.warn(y5(`Invalid value passed for the ${K} option`,Ie)),!1)},h=(K,ie)=>{const Ae=Ka(ie)?lj(ie.processor):ie.processor,Ie=E5(K,ie.default,Ae);o[K]={...ie,default:Ie,processor:Ae},Qs(r,K).orThunk(()=>Qs(n,K)).each(Oe=>l(K,Oe,Ae))},v=K=>jn(o,K);return{register:h,isRegistered:v,get:K=>Qs(r,K).orThunk(()=>Qs(o,K).map(ie=>ie.default)).getOrUndefined(),set:(K,ie)=>{if(v(K)){const Ae=o[K];return Ae.immutable?(console.error(`"${K}" is an immutable option and cannot be updated`),!1):l(K,ie,Ae.processor)}else return console.warn(`"${K}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:K=>{const ie=v(K);return ie&&delete r[K],ie},isSet:K=>jn(r,K)}},uj=["design","readonly"],w5=(e,n,o,r)=>{const l=o[n.get()],h=o[r];try{h.activate()}catch(v){console.error(`problem while activating editor mode ${r}:`,v);return}l.deactivate(),l.editorReadOnly!==h.editorReadOnly&&p5(e,h.editorReadOnly),n.set(r),jT(e,r)},dj=(e,n,o,r)=>{if(r!==o.get()){if(!jn(n,r))throw new Error(`Editor mode '${r}' is invalid`);e.initialized?w5(e,o,n,r):e.on("init",()=>w5(e,o,n,r))}},fj=(e,n,o)=>{if(Pn(uj,n))throw new Error(`Cannot override default mode ${n}`);return{...e,[n]:{...o,deactivate:()=>{try{o.deactivate()}catch(r){console.error(`problem while deactivating editor mode ${n}:`,r)}}}}},hj=e=>{const n=zi("design"),o=zi({design:{activate:Rt,deactivate:Rt,editorReadOnly:!1},readonly:{activate:Rt,deactivate:Rt,editorReadOnly:!0}});return tj(e),g5(e),{isReadOnly:()=>Gb(e),set:r=>dj(e,o.get(),n,r),get:()=>n.get(),register:(r,l)=>{o.set(fj(o.get(),r,l))}}},MM=Te.each,kM=Te.explode,mj={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},Xy=Te.makeMap("alt,ctrl,shift,meta,access"),Ip=e=>e in Xy,pj=e=>{const n={},o=No.os.isMacOS()||No.os.isiOS();MM(kM(e.toLowerCase(),"+"),h=>{Ip(h)?n[h]=!0:/^[0-9]{2,}$/.test(h)?n.keyCode=parseInt(h,10):(n.charCode=h.charCodeAt(0),n.keyCode=mj[h]||h.toUpperCase().charCodeAt(0))});const r=[n.keyCode];let l;for(l in Xy)n[l]?r.push(l):n[l]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,o?n.ctrl=!0:n.shift=!0),n.meta&&(o?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n};class T5{constructor(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;const o=this;n.on("keyup keypress keydown",r=>{(o.hasModifier(r)||o.isFunctionKey(r))&&!r.isDefaultPrevented()&&(MM(o.shortcuts,l=>{o.matchShortcut(r,l)&&(o.pendingPatterns=l.subpatterns.slice(0),r.type==="keydown"&&o.executeShortcutAction(l))}),o.matchShortcut(r,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&r.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(n,o,r,l){const h=this,v=h.normalizeCommandFunc(r);return MM(kM(Te.trim(n)),A=>{const R=h.createShortcut(A,o,v,l);h.shortcuts[R.id]=R}),!0}remove(n){const o=this.createShortcut(n);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(n){const o=this,r=n;return typeof r=="string"?()=>{o.editor.execCommand(r,!1,null)}:Te.isArray(r)?()=>{o.editor.execCommand(r[0],r[1],r[2])}:r}createShortcut(n,o,r,l){const h=Te.map(kM(n,">"),pj);return h[h.length-1]=Te.extend(h[h.length-1],{func:r,scope:l||this.editor}),Te.extend(h[0],{desc:this.editor.translate(o),subpatterns:h.slice(1)})}hasModifier(n){return n.altKey||n.ctrlKey||n.metaKey}isFunctionKey(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123}matchShortcut(n,o){return!o||o.ctrl!==n.ctrlKey||o.meta!==n.metaKey||o.alt!==n.altKey||o.shift!==n.shiftKey?!1:n.keyCode===o.keyCode||n.charCode&&n.charCode===o.charCode?(n.preventDefault(),!0):!1}executeShortcutAction(n){return n.func?n.func.call(n.scope):null}}const gj=()=>{const e={},n={},o={},r={},l={},h={},v={},A={},R=(J,K)=>(ie,Ae)=>{J[ie.toLowerCase()]={...Ae,type:K}},F=(J,K)=>r[J.toLowerCase()]=K;return{addButton:R(e,"button"),addGroupToolbarButton:R(e,"grouptoolbarbutton"),addToggleButton:R(e,"togglebutton"),addMenuButton:R(e,"menubutton"),addSplitButton:R(e,"splitbutton"),addMenuItem:R(n,"menuitem"),addNestedMenuItem:R(n,"nestedmenuitem"),addToggleMenuItem:R(n,"togglemenuitem"),addAutocompleter:R(o,"autocompleter"),addContextMenu:R(l,"contextmenu"),addContextToolbar:R(h,"contexttoolbar"),addContextForm:R(h,"contextform"),addSidebar:R(v,"sidebar"),addView:R(A,"views"),addIcon:F,getAll:()=>({buttons:e,menuItems:n,icons:r,popups:o,contextMenus:l,contextToolbars:h,sidebars:v,views:A})}},vj=()=>{const e=gj();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},Qy=rr.DOM,C5=Te.extend,bj=Te.each;class bO{constructor(n,o,r){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,C5(this,vO);const l=this;this.id=n,this.hidden=!1;const h=Wb(r.defaultOptions,o);this.options=NM(l,h),Gi(l);const v=this.options.get;v("deprecation_warnings")&&Pb(o,h);const A=v("suffix");A&&(r.suffix=A),this.suffix=r.suffix;const R=v("base_url");R&&r._setBaseUrl(R),this.baseUri=r.baseURI;const F=tp(l);F&&(Zf.ScriptLoader._setReferrerPolicy(F),rr.DOM.styleSheetLoader._setReferrerPolicy(F));const J=P0(l);Pe(J)&&rr.DOM.styleSheetLoader._setContentCssCors(J),As.languageLoad=v("language_load"),As.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new Op(_a(l),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=k0(l),this.hasVisual=aT(l),this.shortcuts=new T5(this),this.editorCommands=new Jq(this),Xq(this);const K=v("cache_suffix");K&&(No.cacheSuffix=K.replace(/^[\?\&]+/,"")),this.ui={registry:vj(),styleSheetLoader:void 0,show:Rt,hide:Rt,setEnabled:Rt,isEnabled:Dt},this.mode=hj(l),r.dispatch("SetupEditor",{editor:this});const ie=Yh(l);Ee(ie)&&ie.call(l,l)}render(){QF(this)}focus(n){this.execCommand("mceFocus",!1,n)}hasFocus(){return Sb(this)}translate(n){return Cd.translate(n)}getParam(n,o,r){const l=this.options;return l.isRegistered(n)||(Pe(r)?l.register(n,{processor:r,default:o}):l.register(n,{processor:Dt,default:o})),!l.isSet(n)&&!dt(o)?o:l.get(n)}hasPlugin(n,o){return Pn(L0(this),n)?o?lm.get(n)!==void 0:!0:!1}nodeChanged(n){this._nodeChangeDispatcher.nodeChanged(n)}addCommand(n,o,r){this.editorCommands.addCommand(n,o,r)}addQueryStateHandler(n,o,r){this.editorCommands.addQueryStateHandler(n,o,r)}addQueryValueHandler(n,o,r){this.editorCommands.addQueryValueHandler(n,o,r)}addShortcut(n,o,r,l){this.shortcuts.add(n,o,r,l)}execCommand(n,o,r,l){return this.editorCommands.execCommand(n,o,r,l)}queryCommandState(n){return this.editorCommands.queryCommandState(n)}queryCommandValue(n){return this.editorCommands.queryCommandValue(n)}queryCommandSupported(n){return this.editorCommands.queryCommandSupported(n)}show(){const n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(Qy.show(n.getContainer()),Qy.hide(n.id)),n.load(),n.dispatch("show"))}hide(){const n=this;n.hidden||(n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(Qy.hide(n.getContainer()),Qy.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(n,o){this.dispatch("ProgressState",{state:n,time:o})}load(n={}){const o=this,r=o.getElement();if(o.removed)return"";if(r){const l={...n,load:!0},h=Nh(r)?r.value:r.innerHTML,v=o.setContent(h,l);return l.no_events||o.dispatch("LoadContent",{...l,element:r}),v}else return""}save(n={}){const o=this;let r=o.getElement();if(!r||!o.initialized||o.removed)return"";const l={...n,save:!0,element:r};let h=o.getContent(l);const v={...l,content:h};if(v.no_events||o.dispatch("SaveContent",v),v.format==="raw"&&o.dispatch("RawSaveContent",v),h=v.content,Nh(r))r.value=h;else{(n.is_removing||!o.inline)&&(r.innerHTML=h);const A=Qy.getParent(o.id,"form");A&&bj(A.elements,R=>R.name===o.id?(R.value=h,!1):!0)}return v.element=l.element=r=null,v.set_dirty!==!1&&o.setDirty(!1),h}setContent(n,o){return V4(this,n,o)}getContent(n){return vD(this,n)}insertContent(n,o){o&&(n=C5({content:n},o)),this.execCommand("mceInsertContent",!1,n)}resetContent(n){n===void 0?V4(this,this.startContent,{format:"raw"}):V4(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(n){const o=!this.isNotDirty;this.isNotDirty=!n,n&&n!==o&&this.dispatch("dirty")}getContainer(){const n=this;return n.container||(n.container=n.editorContainer||Qy.get(n.id+"_parent")),n.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=Qy.get(this.id)),this.targetElm}getWin(){const n=this;if(!n.contentWindow){const o=n.iframeElement;o&&(n.contentWindow=o.contentWindow)}return n.contentWindow}getDoc(){const n=this;if(!n.contentDocument){const o=n.getWin();o&&(n.contentDocument=o.document)}return n.contentDocument}getBody(){var n,o;const r=this.getDoc();return(o=(n=this.bodyElement)!==null&&n!==void 0?n:r==null?void 0:r.body)!==null&&o!==void 0?o:null}convertURL(n,o,r){const l=this,h=l.options.get,v=lT(l);return Ee(v)?v.call(l,n,r,!0,o):!h("convert_urls")||r==="link"||Ne(r)&&r.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0?n:h("relative_urls")?l.documentBaseURI.toRelative(n):(n=l.documentBaseURI.toAbsolute(n,h("remove_script_host")),n)}addVisual(n){Zy(this,n)}remove(){A7(this)}destroy(n){O7(this,n)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const ww=rr.DOM,PM=Te.each;let S5=!1,yO,od=[];const _O=e=>{const n=e.type;PM(jb.get(),o=>{switch(n){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},x5=e=>{if(e!==S5){const n=rr.DOM;e?(n.bind(window,"resize",_O),n.bind(window,"scroll",_O)):(n.unbind(window,"resize",_O),n.unbind(window,"scroll",_O)),S5=e}},A5=e=>{const n=od;return od=Bt(od,o=>e!==o),jb.activeEditor===e&&(jb.activeEditor=od.length>0?od[0]:null),jb.focusedEditor===e&&(jb.focusedEditor=null),n.length!==od.length},FK=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(A5(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},yj=document.compatMode!=="CSS1Compat",jb={...DM,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"4.1",releaseDate:"2023-03-29",i18n:Cd,activeEditor:null,focusedEditor:null,setup(){const e=this;let n="",o="",r=Op.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));const l=window.tinymce||window.tinyMCEPreInit;if(l)n=l.base||l.baseURL,o=l.suffix;else{const h=document.getElementsByTagName("script");for(let v=0;v<h.length;v++){const A=h[v].src||"";if(A==="")continue;const R=A.substring(A.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(A)){R.indexOf(".min")!==-1&&(o=".min"),n=A.substring(0,A.lastIndexOf("/"));break}}if(!n&&document.currentScript){const v=document.currentScript.src;v.indexOf(".min")!==-1&&(o=".min"),n=v.substring(0,v.lastIndexOf("/"))}}e.baseURL=new Op(r).toAbsolute(n),e.documentBaseURL=r,e.baseURI=new Op(e.baseURL),e.suffix=o,i6(e)},overrideDefaults(e){const n=e.base_url;n&&this._setBaseUrl(n);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const r=e.plugin_base_urls;r!==void 0&&cn(r,(l,h)=>{As.PluginManager.urls[h]=l})},init(e){const n=this;let o;const r=Te.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),l=(J,K)=>J.inline&&K.tagName.toLowerCase()in r,h=J=>{let K=J.id;return K||(K=Qs(J,"name").filter(ie=>!ww.get(ie)).getOrThunk(ww.uniqueId),J.setAttribute("id",K)),K},v=J=>{const K=e[J];if(K)return K.apply(n,[])},A=J=>No.browser.isIE()||No.browser.isEdge()?(aS("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):yj?(aS("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):Q(J.selector)?ww.select(J.selector):Pe(J.target)?[J.target]:[];let R=J=>{o=J};const F=()=>{let J=0;const K=[];let ie;const Ae=(Ie,ye,Oe)=>{const ze=new bO(Ie,ye,n);K.push(ze),ze.on("init",()=>{++J===ie.length&&R(K)}),ze.targetElm=ze.targetElm||Oe,ze.render()};ww.unbind(window,"ready",F),v("onpageload"),ie=qd(A(e)),Te.each(ie,Ie=>{FK(n.get(Ie.id))}),ie=Te.grep(ie,Ie=>!n.get(Ie.id)),ie.length===0?R([]):PM(ie,Ie=>{l(e,Ie)?aS("Could not initialize inline editor on invalid inline target element",Ie):Ae(h(Ie),e,Ie)})};return ww.bind(window,"ready",F),new Promise(J=>{o?J(o):R=K=>{J(K)}})},get(e){return arguments.length===0?od.slice(0):Q(e)?bs(od,n=>n.id===e).getOr(null):pn(e)&&od[e]?od[e]:null},add(e){const n=this,o=n.get(e.id);return o===e||(o===null&&od.push(e),x5(!0),n.activeEditor=e,n.dispatch("AddEditor",{editor:e}),yO||(yO=r=>{const l=n.dispatch("BeforeUnload");if(l.returnValue)return r.preventDefault(),r.returnValue=l.returnValue,l.returnValue},window.addEventListener("beforeunload",yO))),e},createEditor(e,n){return this.add(new bO(e,n,this))},remove(e){const n=this;let o;if(!e){for(let r=od.length-1;r>=0;r--)n.remove(od[r]);return}if(Q(e)){PM(ww.select(e),r=>{o=n.get(r.id),o&&n.remove(o)});return}return o=e,we(n.get(o.id))?null:(A5(o)&&n.dispatch("RemoveEditor",{editor:o}),od.length===0&&window.removeEventListener("beforeunload",yO),o.remove(),x5(od.length>0),o)},execCommand(e,n,o){var r;const l=this,h=Ne(o)?(r=o.id)!==null&&r!==void 0?r:o.index:o;switch(e){case"mceAddEditor":{if(!l.get(h)){const v=o.options;new bO(h,v,l).render()}return!0}case"mceRemoveEditor":{const v=l.get(h);return v&&v.remove(),!0}case"mceToggleEditor":{const v=l.get(h);return v?(v.isHidden()?v.show():v.hide(),!0):(l.execCommand("mceAddEditor",!1,o),!0)}}return l.activeEditor?l.activeEditor.execCommand(e,n,o):!1},triggerSave:()=>{PM(od,e=>{e.save()})},addI18n:(e,n)=>{Cd.add(e,n)},translate:e=>Cd.translate(e),setActive(e){const n=this.activeEditor;this.activeEditor!==e&&(n&&n.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new Op(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Op(this.baseURL)}};jb.setup();const _j=(()=>{const e=sa(),n=h=>({items:h,types:yi(h),getType:v=>Qs(h,v).getOrUndefined()}),o=h=>{e.set(h)},r=()=>e.get().getOrUndefined(),l=e.clear;return{FakeClipboardItem:n,write:o,read:r,clear:l}})(),O5=Math.min,Tw=Math.max,EO=Math.round,R5=(e,n,o)=>{let r=n.x,l=n.y;const h=e.w,v=e.h,A=n.w,R=n.h,F=(o||"").split("");return F[0]==="b"&&(l+=R),F[1]==="r"&&(r+=A),F[0]==="c"&&(l+=EO(R/2)),F[1]==="c"&&(r+=EO(A/2)),F[3]==="b"&&(l-=v),F[4]==="r"&&(r-=h),F[3]==="c"&&(l-=EO(v/2)),F[4]==="c"&&(r-=EO(h/2)),Cw(r,l,h,v)},Ej=(e,n,o,r)=>{for(let l=0;l<r.length;l++){const h=R5(e,n,r[l]);if(h.x>=o.x&&h.x+h.w<=o.w+o.x&&h.y>=o.y&&h.y+h.h<=o.h+o.y)return r[l]}return null},wj=(e,n,o)=>Cw(e.x-n,e.y-o,e.w+n*2,e.h+o*2),Tj=(e,n)=>{const o=Tw(e.x,n.x),r=Tw(e.y,n.y),l=O5(e.x+e.w,n.x+n.w),h=O5(e.y+e.h,n.y+n.h);return l-o<0||h-r<0?null:Cw(o,r,l-o,h-r)},Cj=(e,n,o)=>{let r=e.x,l=e.y,h=e.x+e.w,v=e.y+e.h;const A=n.x+n.w,R=n.y+n.h,F=Tw(0,n.x-r),J=Tw(0,n.y-l),K=Tw(0,h-A),ie=Tw(0,v-R);return r+=F,l+=J,o&&(h+=F,v+=J,r-=K,l-=ie),h-=K,v-=ie,Cw(r,l,h-r,v-l)},Cw=(e,n,o,r)=>({x:e,y:n,w:o,h:r}),Sj={inflate:wj,relativePosition:R5,findBestRelativePosition:Ej,intersect:Tj,clamp:Cj,create:Cw,fromClientRect:e=>Cw(e.left,e.top,e.width,e.height)},xj=(e,n,o=1e3)=>{let r=!1,l=null;const h=F=>(...J)=>{r||(r=!0,l!==null&&(clearTimeout(l),l=null),F.apply(null,J))},v=h(e),A=h(n);return{start:(...F)=>{!r&&l===null&&(l=setTimeout(()=>A.apply(null,F),o))},resolve:v,reject:A}},Oj=(()=>{const e={},n={};return{load:(h,v)=>{const A=`Script at URL "${v}" failed to load`,R=`Script at URL "${v}" did not call \`tinymce.Resource.add('${h}', data)\` within 1 second`;if(e[h]!==void 0)return e[h];{const F=new Promise((J,K)=>{const ie=xj(J,K);n[h]=ie.resolve,Zf.ScriptLoader.loadScript(v).then(()=>ie.start(R),()=>ie.reject(A))});return e[h]=F,F}},add:(h,v)=>{n[h]!==void 0&&(n[h](v),delete n[h]),e[h]=Promise.resolve(v)},unload:h=>{delete e[h]}}})(),Rj=()=>(()=>{let e={},n=[];const o={getItem:r=>{const l=e[r];return l||null},setItem:(r,l)=>{n.push(r),e[r]=String(l)},key:r=>n[r],removeItem:r=>{n=n.filter(l=>l===r),delete e[r]},clear:()=>{n=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>n.length,configurable:!1,enumerable:!1}),o})();let qS;try{const e="__storage_test__";qS=window.localStorage,qS.setItem(e,e),qS.removeItem(e)}catch{qS=Rj()}var Ij=qS;const Dj={geom:{Rect:Sj},util:{Delay:kd,Tools:Te,VK:Sn,URI:Op,EventDispatcher:Ew,Observable:DM,I18n:Cd,LocalStorage:Ij,ImageUploader:U7},dom:{EventUtils:df,TreeWalker:ci,TextSeeker:Sr,DOMUtils:rr,ScriptLoader:Zf,RangeUtils:Eb,Serializer:gD,StyleSheetLoader:cf,ControlSelection:$x,BookmarkManager:wu,Selection:lv,Event:df.Event},html:{Styles:rg,Entities:lf,Node:ed,Schema:Kl,DomParser:kb,Writer:Fk,Serializer:xb},Env:No,AddOnManager:As,Annotator:uy,Formatter:cS,UndoManager:CD,EditorCommands:Jq,WindowManager:yD,NotificationManager:Lb,EditorObservable:vO,Shortcuts:T5,Editor:bO,FocusManager:Tb,EditorManager:jb,DOM:rr.DOM,ScriptLoader:Zf.ScriptLoader,PluginManager:lm,ThemeManager:Lg,ModelManager:ew,IconManager:ZA,Resource:Oj,FakeClipboard:_j,trim:Te.trim,isArray:Te.isArray,is:Te.is,toArray:Te.toArray,makeMap:Te.makeMap,each:Te.each,map:Te.map,grep:Te.grep,inArray:Te.inArray,extend:Te.extend,walk:Te.walk,resolve:Te.resolve,explode:Te.explode,_addCacheSuffix:Te._addCacheSuffix},I5=Te.extend(jb,Dj),Nj=e=>{try{a.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(I5),Nj(I5)})()})(Jne);const eoe=SZ;var xZ={},toe={get exports(){return xZ},set exports(a){xZ=a}},gh="top",Lp="bottom",Bp="right",vh="left",BH="auto",eR=[gh,Lp,Bp,vh],ux="start",WO="end",AJ="clippingParents",tY="viewport",NO="popper",OJ="reference",AZ=eR.reduce(function(a,c){return a.concat([c+"-"+ux,c+"-"+WO])},[]),nY=[].concat(eR,[BH]).reduce(function(a,c){return a.concat([c,c+"-"+ux,c+"-"+WO])},[]),RJ="beforeRead",IJ="read",DJ="afterRead",NJ="beforeMain",MJ="main",kJ="afterMain",PJ="beforeWrite",LJ="write",BJ="afterWrite",$J=[RJ,IJ,DJ,NJ,MJ,kJ,PJ,LJ,BJ];function e0(a){return a?(a.nodeName||"").toLowerCase():null}function $p(a){if(a==null)return window;if(a.toString()!=="[object Window]"){var c=a.ownerDocument;return c&&c.defaultView||window}return a}function dx(a){var c=$p(a).Element;return a instanceof c||a instanceof Element}function e1(a){var c=$p(a).HTMLElement;return a instanceof c||a instanceof HTMLElement}function oY(a){if(typeof ShadowRoot>"u")return!1;var c=$p(a).ShadowRoot;return a instanceof c||a instanceof ShadowRoot}function noe(a){var c=a.state;Object.keys(c.elements).forEach(function(f){var y=c.styles[f]||{},C=c.attributes[f]||{},w=c.elements[f];!e1(w)||!e0(w)||(Object.assign(w.style,y),Object.keys(C).forEach(function(S){var D=C[S];D===!1?w.removeAttribute(S):w.setAttribute(S,D===!0?"":D)}))})}function ooe(a){var c=a.state,f={popper:{position:c.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(c.elements.popper.style,f.popper),c.styles=f,c.elements.arrow&&Object.assign(c.elements.arrow.style,f.arrow),function(){Object.keys(c.elements).forEach(function(y){var C=c.elements[y],w=c.attributes[y]||{},S=Object.keys(c.styles.hasOwnProperty(y)?c.styles[y]:f[y]),D=S.reduce(function(k,G){return k[G]="",k},{});!e1(C)||!e0(C)||(Object.assign(C.style,D),Object.keys(w).forEach(function(k){C.removeAttribute(k)}))})}}const sY={name:"applyStyles",enabled:!0,phase:"write",fn:noe,effect:ooe,requires:["computeStyles"]};function Qb(a){return a.split("-")[0]}var ix=Math.max,yH=Math.min,GO=Math.round;function OZ(){var a=navigator.userAgentData;return a!=null&&a.brands&&Array.isArray(a.brands)?a.brands.map(function(c){return c.brand+"/"+c.version}).join(" "):navigator.userAgent}function FJ(){return!/^((?!chrome|android).)*safari/i.test(OZ())}function qO(a,c,f){c===void 0&&(c=!1),f===void 0&&(f=!1);var y=a.getBoundingClientRect(),C=1,w=1;c&&e1(a)&&(C=a.offsetWidth>0&&GO(y.width)/a.offsetWidth||1,w=a.offsetHeight>0&&GO(y.height)/a.offsetHeight||1);var S=dx(a)?$p(a):window,D=S.visualViewport,k=!FJ()&&f,G=(y.left+(k&&D?D.offsetLeft:0))/C,q=(y.top+(k&&D?D.offsetTop:0))/w,X=y.width/C,fe=y.height/w;return{width:X,height:fe,top:q,right:G+X,bottom:q+fe,left:G,x:G,y:q}}function rY(a){var c=qO(a),f=a.offsetWidth,y=a.offsetHeight;return Math.abs(c.width-f)<=1&&(f=c.width),Math.abs(c.height-y)<=1&&(y=c.height),{x:a.offsetLeft,y:a.offsetTop,width:f,height:y}}function HJ(a,c){var f=c.getRootNode&&c.getRootNode();if(a.contains(c))return!0;if(f&&oY(f)){var y=c;do{if(y&&a.isSameNode(y))return!0;y=y.parentNode||y.host}while(y)}return!1}function c_(a){return $p(a).getComputedStyle(a)}function soe(a){return["table","td","th"].indexOf(e0(a))>=0}function $w(a){return((dx(a)?a.ownerDocument:a.document)||window.document).documentElement}function $H(a){return e0(a)==="html"?a:a.assignedSlot||a.parentNode||(oY(a)?a.host:null)||$w(a)}function IX(a){return!e1(a)||c_(a).position==="fixed"?null:a.offsetParent}function roe(a){var c=/firefox/i.test(OZ()),f=/Trident/i.test(OZ());if(f&&e1(a)){var y=c_(a);if(y.position==="fixed")return null}var C=$H(a);for(oY(C)&&(C=C.host);e1(C)&&["html","body"].indexOf(e0(C))<0;){var w=c_(C);if(w.transform!=="none"||w.perspective!=="none"||w.contain==="paint"||["transform","perspective"].indexOf(w.willChange)!==-1||c&&w.willChange==="filter"||c&&w.filter&&w.filter!=="none")return C;C=C.parentNode}return null}function rk(a){for(var c=$p(a),f=IX(a);f&&soe(f)&&c_(f).position==="static";)f=IX(f);return f&&(e0(f)==="html"||e0(f)==="body"&&c_(f).position==="static")?c:f||roe(a)||c}function iY(a){return["top","bottom"].indexOf(a)>=0?"x":"y"}function KM(a,c,f){return ix(a,yH(c,f))}function ioe(a,c,f){var y=KM(a,c,f);return y>f?f:y}function VJ(){return{top:0,right:0,bottom:0,left:0}}function zJ(a){return Object.assign({},VJ(),a)}function UJ(a,c){return c.reduce(function(f,y){return f[y]=a,f},{})}var aoe=function(c,f){return c=typeof c=="function"?c(Object.assign({},f.rects,{placement:f.placement})):c,zJ(typeof c!="number"?c:UJ(c,eR))};function coe(a){var c,f=a.state,y=a.name,C=a.options,w=f.elements.arrow,S=f.modifiersData.popperOffsets,D=Qb(f.placement),k=iY(D),G=[vh,Bp].indexOf(D)>=0,q=G?"height":"width";if(!(!w||!S)){var X=aoe(C.padding,f),fe=rY(w),re=k==="y"?gh:vh,he=k==="y"?Lp:Bp,ue=f.rects.reference[q]+f.rects.reference[k]-S[k]-f.rects.popper[q],ce=S[k]-f.rects.reference[k],ae=rk(w),ge=ae?k==="y"?ae.clientHeight||0:ae.clientWidth||0:0,Q=ue/2-ce/2,Ne=X[re],qe=ge-fe[q]-X[he],z=ge/2-fe[q]/2+Q,we=KM(Ne,z,qe),je=k;f.modifiersData[y]=(c={},c[je]=we,c.centerOffset=we-z,c)}}function loe(a){var c=a.state,f=a.options,y=f.element,C=y===void 0?"[data-popper-arrow]":y;C!=null&&(typeof C=="string"&&(C=c.elements.popper.querySelector(C),!C)||HJ(c.elements.popper,C)&&(c.elements.arrow=C))}const WJ={name:"arrow",enabled:!0,phase:"main",fn:coe,effect:loe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function jO(a){return a.split("-")[1]}var uoe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function doe(a,c){var f=a.x,y=a.y,C=c.devicePixelRatio||1;return{x:GO(f*C)/C||0,y:GO(y*C)/C||0}}function DX(a){var c,f=a.popper,y=a.popperRect,C=a.placement,w=a.variation,S=a.offsets,D=a.position,k=a.gpuAcceleration,G=a.adaptive,q=a.roundOffsets,X=a.isFixed,fe=S.x,re=fe===void 0?0:fe,he=S.y,ue=he===void 0?0:he,ce=typeof q=="function"?q({x:re,y:ue}):{x:re,y:ue};re=ce.x,ue=ce.y;var ae=S.hasOwnProperty("x"),ge=S.hasOwnProperty("y"),Q=vh,Ne=gh,qe=window;if(G){var z=rk(f),we="clientHeight",je="clientWidth";if(z===$p(f)&&(z=$w(f),c_(z).position!=="static"&&D==="absolute"&&(we="scrollHeight",je="scrollWidth")),z=z,C===gh||(C===vh||C===Bp)&&w===WO){Ne=Lp;var dt=X&&z===qe&&qe.visualViewport?qe.visualViewport.height:z[we];ue-=dt-y.height,ue*=k?1:-1}if(C===vh||(C===gh||C===Lp)&&w===WO){Q=Bp;var _t=X&&z===qe&&qe.visualViewport?qe.visualViewport.width:z[je];re-=_t-y.width,re*=k?1:-1}}var Pe=Object.assign({position:D},G&&uoe),Ee=q===!0?doe({x:re,y:ue},$p(f)):{x:re,y:ue};if(re=Ee.x,ue=Ee.y,k){var pn;return Object.assign({},Pe,(pn={},pn[Ne]=ge?"0":"",pn[Q]=ae?"0":"",pn.transform=(qe.devicePixelRatio||1)<=1?"translate("+re+"px, "+ue+"px)":"translate3d("+re+"px, "+ue+"px, 0)",pn))}return Object.assign({},Pe,(c={},c[Ne]=ge?ue+"px":"",c[Q]=ae?re+"px":"",c.transform="",c))}function foe(a){var c=a.state,f=a.options,y=f.gpuAcceleration,C=y===void 0?!0:y,w=f.adaptive,S=w===void 0?!0:w,D=f.roundOffsets,k=D===void 0?!0:D,G={placement:Qb(c.placement),variation:jO(c.placement),popper:c.elements.popper,popperRect:c.rects.popper,gpuAcceleration:C,isFixed:c.options.strategy==="fixed"};c.modifiersData.popperOffsets!=null&&(c.styles.popper=Object.assign({},c.styles.popper,DX(Object.assign({},G,{offsets:c.modifiersData.popperOffsets,position:c.options.strategy,adaptive:S,roundOffsets:k})))),c.modifiersData.arrow!=null&&(c.styles.arrow=Object.assign({},c.styles.arrow,DX(Object.assign({},G,{offsets:c.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:k})))),c.attributes.popper=Object.assign({},c.attributes.popper,{"data-popper-placement":c.placement})}const aY={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:foe,data:{}};var z5={passive:!0};function hoe(a){var c=a.state,f=a.instance,y=a.options,C=y.scroll,w=C===void 0?!0:C,S=y.resize,D=S===void 0?!0:S,k=$p(c.elements.popper),G=[].concat(c.scrollParents.reference,c.scrollParents.popper);return w&&G.forEach(function(q){q.addEventListener("scroll",f.update,z5)}),D&&k.addEventListener("resize",f.update,z5),function(){w&&G.forEach(function(q){q.removeEventListener("scroll",f.update,z5)}),D&&k.removeEventListener("resize",f.update,z5)}}const cY={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:hoe,data:{}};var moe={left:"right",right:"left",bottom:"top",top:"bottom"};function sH(a){return a.replace(/left|right|bottom|top/g,function(c){return moe[c]})}var poe={start:"end",end:"start"};function NX(a){return a.replace(/start|end/g,function(c){return poe[c]})}function lY(a){var c=$p(a),f=c.pageXOffset,y=c.pageYOffset;return{scrollLeft:f,scrollTop:y}}function uY(a){return qO($w(a)).left+lY(a).scrollLeft}function goe(a,c){var f=$p(a),y=$w(a),C=f.visualViewport,w=y.clientWidth,S=y.clientHeight,D=0,k=0;if(C){w=C.width,S=C.height;var G=FJ();(G||!G&&c==="fixed")&&(D=C.offsetLeft,k=C.offsetTop)}return{width:w,height:S,x:D+uY(a),y:k}}function voe(a){var c,f=$w(a),y=lY(a),C=(c=a.ownerDocument)==null?void 0:c.body,w=ix(f.scrollWidth,f.clientWidth,C?C.scrollWidth:0,C?C.clientWidth:0),S=ix(f.scrollHeight,f.clientHeight,C?C.scrollHeight:0,C?C.clientHeight:0),D=-y.scrollLeft+uY(a),k=-y.scrollTop;return c_(C||f).direction==="rtl"&&(D+=ix(f.clientWidth,C?C.clientWidth:0)-w),{width:w,height:S,x:D,y:k}}function dY(a){var c=c_(a),f=c.overflow,y=c.overflowX,C=c.overflowY;return/auto|scroll|overlay|hidden/.test(f+C+y)}function GJ(a){return["html","body","#document"].indexOf(e0(a))>=0?a.ownerDocument.body:e1(a)&&dY(a)?a:GJ($H(a))}function XM(a,c){var f;c===void 0&&(c=[]);var y=GJ(a),C=y===((f=a.ownerDocument)==null?void 0:f.body),w=$p(y),S=C?[w].concat(w.visualViewport||[],dY(y)?y:[]):y,D=c.concat(S);return C?D:D.concat(XM($H(S)))}function RZ(a){return Object.assign({},a,{left:a.x,top:a.y,right:a.x+a.width,bottom:a.y+a.height})}function boe(a,c){var f=qO(a,!1,c==="fixed");return f.top=f.top+a.clientTop,f.left=f.left+a.clientLeft,f.bottom=f.top+a.clientHeight,f.right=f.left+a.clientWidth,f.width=a.clientWidth,f.height=a.clientHeight,f.x=f.left,f.y=f.top,f}function MX(a,c,f){return c===tY?RZ(goe(a,f)):dx(c)?boe(c,f):RZ(voe($w(a)))}function yoe(a){var c=XM($H(a)),f=["absolute","fixed"].indexOf(c_(a).position)>=0,y=f&&e1(a)?rk(a):a;return dx(y)?c.filter(function(C){return dx(C)&&HJ(C,y)&&e0(C)!=="body"}):[]}function _oe(a,c,f,y){var C=c==="clippingParents"?yoe(a):[].concat(c),w=[].concat(C,[f]),S=w[0],D=w.reduce(function(k,G){var q=MX(a,G,y);return k.top=ix(q.top,k.top),k.right=yH(q.right,k.right),k.bottom=yH(q.bottom,k.bottom),k.left=ix(q.left,k.left),k},MX(a,S,y));return D.width=D.right-D.left,D.height=D.bottom-D.top,D.x=D.left,D.y=D.top,D}function qJ(a){var c=a.reference,f=a.element,y=a.placement,C=y?Qb(y):null,w=y?jO(y):null,S=c.x+c.width/2-f.width/2,D=c.y+c.height/2-f.height/2,k;switch(C){case gh:k={x:S,y:c.y-f.height};break;case Lp:k={x:S,y:c.y+c.height};break;case Bp:k={x:c.x+c.width,y:D};break;case vh:k={x:c.x-f.width,y:D};break;default:k={x:c.x,y:c.y}}var G=C?iY(C):null;if(G!=null){var q=G==="y"?"height":"width";switch(w){case ux:k[G]=k[G]-(c[q]/2-f[q]/2);break;case WO:k[G]=k[G]+(c[q]/2-f[q]/2);break}}return k}function ZO(a,c){c===void 0&&(c={});var f=c,y=f.placement,C=y===void 0?a.placement:y,w=f.strategy,S=w===void 0?a.strategy:w,D=f.boundary,k=D===void 0?AJ:D,G=f.rootBoundary,q=G===void 0?tY:G,X=f.elementContext,fe=X===void 0?NO:X,re=f.altBoundary,he=re===void 0?!1:re,ue=f.padding,ce=ue===void 0?0:ue,ae=zJ(typeof ce!="number"?ce:UJ(ce,eR)),ge=fe===NO?OJ:NO,Q=a.rects.popper,Ne=a.elements[he?ge:fe],qe=_oe(dx(Ne)?Ne:Ne.contextElement||$w(a.elements.popper),k,q,S),z=qO(a.elements.reference),we=qJ({reference:z,element:Q,strategy:"absolute",placement:C}),je=RZ(Object.assign({},Q,we)),dt=fe===NO?je:z,_t={top:qe.top-dt.top+ae.top,bottom:dt.bottom-qe.bottom+ae.bottom,left:qe.left-dt.left+ae.left,right:dt.right-qe.right+ae.right},Pe=a.modifiersData.offset;if(fe===NO&&Pe){var Ee=Pe[C];Object.keys(_t).forEach(function(pn){var Tt=[Bp,Lp].indexOf(pn)>=0?1:-1,Rt=[gh,Lp].indexOf(pn)>=0?"y":"x";_t[pn]+=Ee[Rt]*Tt})}return _t}function Eoe(a,c){c===void 0&&(c={});var f=c,y=f.placement,C=f.boundary,w=f.rootBoundary,S=f.padding,D=f.flipVariations,k=f.allowedAutoPlacements,G=k===void 0?nY:k,q=jO(y),X=q?D?AZ:AZ.filter(function(he){return jO(he)===q}):eR,fe=X.filter(function(he){return G.indexOf(he)>=0});fe.length===0&&(fe=X);var re=fe.reduce(function(he,ue){return he[ue]=ZO(a,{placement:ue,boundary:C,rootBoundary:w,padding:S})[Qb(ue)],he},{});return Object.keys(re).sort(function(he,ue){return re[he]-re[ue]})}function woe(a){if(Qb(a)===BH)return[];var c=sH(a);return[NX(a),c,NX(c)]}function Toe(a){var c=a.state,f=a.options,y=a.name;if(!c.modifiersData[y]._skip){for(var C=f.mainAxis,w=C===void 0?!0:C,S=f.altAxis,D=S===void 0?!0:S,k=f.fallbackPlacements,G=f.padding,q=f.boundary,X=f.rootBoundary,fe=f.altBoundary,re=f.flipVariations,he=re===void 0?!0:re,ue=f.allowedAutoPlacements,ce=c.options.placement,ae=Qb(ce),ge=ae===ce,Q=k||(ge||!he?[sH(ce)]:woe(ce)),Ne=[ce].concat(Q).reduce(function(co,Ho){return co.concat(Qb(Ho)===BH?Eoe(c,{placement:Ho,boundary:q,rootBoundary:X,padding:G,flipVariations:he,allowedAutoPlacements:ue}):Ho)},[]),qe=c.rects.reference,z=c.rects.popper,we=new Map,je=!0,dt=Ne[0],_t=0;_t<Ne.length;_t++){var Pe=Ne[_t],Ee=Qb(Pe),pn=jO(Pe)===ux,Tt=[gh,Lp].indexOf(Ee)>=0,Rt=Tt?"width":"height",B=ZO(c,{placement:Pe,boundary:q,rootBoundary:X,altBoundary:fe,padding:G}),It=Tt?pn?Bp:vh:pn?Lp:gh;qe[Rt]>z[Rt]&&(It=sH(It));var nt=sH(It),jt=[];if(w&&jt.push(B[Ee]<=0),D&&jt.push(B[It]<=0,B[nt]<=0),jt.every(function(co){return co})){dt=Pe,je=!1;break}we.set(Pe,jt)}if(je)for(var zt=he?3:1,Ze=function(Ho){var tt=Ne.find(function(Dt){var se=we.get(Dt);if(se)return se.slice(0,Ho).every(function(ls){return ls})});if(tt)return dt=tt,"break"},bo=zt;bo>0;bo--){var Fo=Ze(bo);if(Fo==="break")break}c.placement!==dt&&(c.modifiersData[y]._skip=!0,c.placement=dt,c.reset=!0)}}const jJ={name:"flip",enabled:!0,phase:"main",fn:Toe,requiresIfExists:["offset"],data:{_skip:!1}};function kX(a,c,f){return f===void 0&&(f={x:0,y:0}),{top:a.top-c.height-f.y,right:a.right-c.width+f.x,bottom:a.bottom-c.height+f.y,left:a.left-c.width-f.x}}function PX(a){return[gh,Bp,Lp,vh].some(function(c){return a[c]>=0})}function Coe(a){var c=a.state,f=a.name,y=c.rects.reference,C=c.rects.popper,w=c.modifiersData.preventOverflow,S=ZO(c,{elementContext:"reference"}),D=ZO(c,{altBoundary:!0}),k=kX(S,y),G=kX(D,C,w),q=PX(k),X=PX(G);c.modifiersData[f]={referenceClippingOffsets:k,popperEscapeOffsets:G,isReferenceHidden:q,hasPopperEscaped:X},c.attributes.popper=Object.assign({},c.attributes.popper,{"data-popper-reference-hidden":q,"data-popper-escaped":X})}const ZJ={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Coe};function Soe(a,c,f){var y=Qb(a),C=[vh,gh].indexOf(y)>=0?-1:1,w=typeof f=="function"?f(Object.assign({},c,{placement:a})):f,S=w[0],D=w[1];return S=S||0,D=(D||0)*C,[vh,Bp].indexOf(y)>=0?{x:D,y:S}:{x:S,y:D}}function xoe(a){var c=a.state,f=a.options,y=a.name,C=f.offset,w=C===void 0?[0,0]:C,S=nY.reduce(function(q,X){return q[X]=Soe(X,c.rects,w),q},{}),D=S[c.placement],k=D.x,G=D.y;c.modifiersData.popperOffsets!=null&&(c.modifiersData.popperOffsets.x+=k,c.modifiersData.popperOffsets.y+=G),c.modifiersData[y]=S}const YJ={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:xoe};function Aoe(a){var c=a.state,f=a.name;c.modifiersData[f]=qJ({reference:c.rects.reference,element:c.rects.popper,strategy:"absolute",placement:c.placement})}const fY={name:"popperOffsets",enabled:!0,phase:"read",fn:Aoe,data:{}};function Ooe(a){return a==="x"?"y":"x"}function Roe(a){var c=a.state,f=a.options,y=a.name,C=f.mainAxis,w=C===void 0?!0:C,S=f.altAxis,D=S===void 0?!1:S,k=f.boundary,G=f.rootBoundary,q=f.altBoundary,X=f.padding,fe=f.tether,re=fe===void 0?!0:fe,he=f.tetherOffset,ue=he===void 0?0:he,ce=ZO(c,{boundary:k,rootBoundary:G,padding:X,altBoundary:q}),ae=Qb(c.placement),ge=jO(c.placement),Q=!ge,Ne=iY(ae),qe=Ooe(Ne),z=c.modifiersData.popperOffsets,we=c.rects.reference,je=c.rects.popper,dt=typeof ue=="function"?ue(Object.assign({},c.rects,{placement:c.placement})):ue,_t=typeof dt=="number"?{mainAxis:dt,altAxis:dt}:Object.assign({mainAxis:0,altAxis:0},dt),Pe=c.modifiersData.offset?c.modifiersData.offset[c.placement]:null,Ee={x:0,y:0};if(z){if(w){var pn,Tt=Ne==="y"?gh:vh,Rt=Ne==="y"?Lp:Bp,B=Ne==="y"?"height":"width",It=z[Ne],nt=It+ce[Tt],jt=It-ce[Rt],zt=re?-je[B]/2:0,Ze=ge===ux?we[B]:je[B],bo=ge===ux?-je[B]:-we[B],Fo=c.elements.arrow,co=re&&Fo?rY(Fo):{width:0,height:0},Ho=c.modifiersData["arrow#persistent"]?c.modifiersData["arrow#persistent"].padding:VJ(),tt=Ho[Tt],Dt=Ho[Rt],se=KM(0,we[B],co[B]),ls=Q?we[B]/2-zt-se-tt-_t.mainAxis:Ze-se-tt-_t.mainAxis,fo=Q?-we[B]/2+zt+se+Dt+_t.mainAxis:bo+se+Dt+_t.mainAxis,Ft=c.elements.arrow&&rk(c.elements.arrow),vs=Ft?Ne==="y"?Ft.clientTop||0:Ft.clientLeft||0:0,Qa=(pn=Pe==null?void 0:Pe[Ne])!=null?pn:0,Pn=It+ls-Qa-vs,Po=It+fo-Qa,Kt=KM(re?yH(nt,Pn):nt,It,re?ix(jt,Po):jt);z[Ne]=Kt,Ee[Ne]=Kt-It}if(D){var pt,vi=Ne==="x"?gh:vh,bi=Ne==="x"?Lp:Bp,Bt=z[qe],Br=qe==="y"?"height":"width",Ms=Bt+ce[vi],Lc=Bt-ce[bi],bs=[gh,vh].indexOf(ae)!==-1,Ir=(pt=Pe==null?void 0:Pe[qe])!=null?pt:0,Zc=bs?Ms:Bt-we[Br]-je[Br]-Ir+_t.altAxis,Sa=bs?Bt+we[Br]+je[Br]-Ir-_t.altAxis:Lc,or=re&&bs?ioe(Zc,Bt,Sa):KM(re?Zc:Ms,Bt,re?Sa:Lc);z[qe]=or,Ee[qe]=or-Bt}c.modifiersData[y]=Ee}}const KJ={name:"preventOverflow",enabled:!0,phase:"main",fn:Roe,requiresIfExists:["offset"]};function Ioe(a){return{scrollLeft:a.scrollLeft,scrollTop:a.scrollTop}}function Doe(a){return a===$p(a)||!e1(a)?lY(a):Ioe(a)}function Noe(a){var c=a.getBoundingClientRect(),f=GO(c.width)/a.offsetWidth||1,y=GO(c.height)/a.offsetHeight||1;return f!==1||y!==1}function Moe(a,c,f){f===void 0&&(f=!1);var y=e1(c),C=e1(c)&&Noe(c),w=$w(c),S=qO(a,C,f),D={scrollLeft:0,scrollTop:0},k={x:0,y:0};return(y||!y&&!f)&&((e0(c)!=="body"||dY(w))&&(D=Doe(c)),e1(c)?(k=qO(c,!0),k.x+=c.clientLeft,k.y+=c.clientTop):w&&(k.x=uY(w))),{x:S.left+D.scrollLeft-k.x,y:S.top+D.scrollTop-k.y,width:S.width,height:S.height}}function koe(a){var c=new Map,f=new Set,y=[];a.forEach(function(w){c.set(w.name,w)});function C(w){f.add(w.name);var S=[].concat(w.requires||[],w.requiresIfExists||[]);S.forEach(function(D){if(!f.has(D)){var k=c.get(D);k&&C(k)}}),y.push(w)}return a.forEach(function(w){f.has(w.name)||C(w)}),y}function Poe(a){var c=koe(a);return $J.reduce(function(f,y){return f.concat(c.filter(function(C){return C.phase===y}))},[])}function Loe(a){var c;return function(){return c||(c=new Promise(function(f){Promise.resolve().then(function(){c=void 0,f(a())})})),c}}function Boe(a){var c=a.reduce(function(f,y){var C=f[y.name];return f[y.name]=C?Object.assign({},C,y,{options:Object.assign({},C.options,y.options),data:Object.assign({},C.data,y.data)}):y,f},{});return Object.keys(c).map(function(f){return c[f]})}var LX={placement:"bottom",modifiers:[],strategy:"absolute"};function BX(){for(var a=arguments.length,c=new Array(a),f=0;f<a;f++)c[f]=arguments[f];return!c.some(function(y){return!(y&&typeof y.getBoundingClientRect=="function")})}function FH(a){a===void 0&&(a={});var c=a,f=c.defaultModifiers,y=f===void 0?[]:f,C=c.defaultOptions,w=C===void 0?LX:C;return function(D,k,G){G===void 0&&(G=w);var q={placement:"bottom",orderedModifiers:[],options:Object.assign({},LX,w),modifiersData:{},elements:{reference:D,popper:k},attributes:{},styles:{}},X=[],fe=!1,re={state:q,setOptions:function(ae){var ge=typeof ae=="function"?ae(q.options):ae;ue(),q.options=Object.assign({},w,q.options,ge),q.scrollParents={reference:dx(D)?XM(D):D.contextElement?XM(D.contextElement):[],popper:XM(k)};var Q=Poe(Boe([].concat(y,q.options.modifiers)));return q.orderedModifiers=Q.filter(function(Ne){return Ne.enabled}),he(),re.update()},forceUpdate:function(){if(!fe){var ae=q.elements,ge=ae.reference,Q=ae.popper;if(BX(ge,Q)){q.rects={reference:Moe(ge,rk(Q),q.options.strategy==="fixed"),popper:rY(Q)},q.reset=!1,q.placement=q.options.placement,q.orderedModifiers.forEach(function(_t){return q.modifiersData[_t.name]=Object.assign({},_t.data)});for(var Ne=0;Ne<q.orderedModifiers.length;Ne++){if(q.reset===!0){q.reset=!1,Ne=-1;continue}var qe=q.orderedModifiers[Ne],z=qe.fn,we=qe.options,je=we===void 0?{}:we,dt=qe.name;typeof z=="function"&&(q=z({state:q,options:je,name:dt,instance:re})||q)}}}},update:Loe(function(){return new Promise(function(ce){re.forceUpdate(),ce(q)})}),destroy:function(){ue(),fe=!0}};if(!BX(D,k))return re;re.setOptions(G).then(function(ce){!fe&&G.onFirstUpdate&&G.onFirstUpdate(ce)});function he(){q.orderedModifiers.forEach(function(ce){var ae=ce.name,ge=ce.options,Q=ge===void 0?{}:ge,Ne=ce.effect;if(typeof Ne=="function"){var qe=Ne({state:q,name:ae,instance:re,options:Q}),z=function(){};X.push(qe||z)}})}function ue(){X.forEach(function(ce){return ce()}),X=[]}return re}}var $oe=FH(),Foe=[cY,fY,aY,sY],Hoe=FH({defaultModifiers:Foe}),Voe=[cY,fY,aY,sY,YJ,jJ,KJ,WJ,ZJ],hY=FH({defaultModifiers:Voe});const mY=Object.freeze(Object.defineProperty({__proto__:null,afterMain:kJ,afterRead:DJ,afterWrite:BJ,applyStyles:sY,arrow:WJ,auto:BH,basePlacements:eR,beforeMain:NJ,beforeRead:RJ,beforeWrite:PJ,bottom:Lp,clippingParents:AJ,computeStyles:aY,createPopper:hY,createPopperBase:$oe,createPopperLite:Hoe,detectOverflow:ZO,end:WO,eventListeners:cY,flip:jJ,hide:ZJ,left:vh,main:MJ,modifierPhases:$J,offset:YJ,placements:nY,popper:NO,popperGenerator:FH,popperOffsets:fY,preventOverflow:KJ,read:IJ,reference:OJ,right:Bp,start:ux,top:gh,variationPlacements:AZ,viewport:tY,write:LJ},Symbol.toStringTag,{value:"Module"})),zoe=Zne(mY);/*!
  * Bootstrap v5.3.0-alpha3 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(a,c){(function(f,y){a.exports=y(zoe)})(Dw,function(f){function y($e){const H=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if($e){for(const me in $e)if(me!=="default"){const Ve=Object.getOwnPropertyDescriptor($e,me);Object.defineProperty(H,me,Ve.get?Ve:{enumerable:!0,get:()=>$e[me]})}}return H.default=$e,Object.freeze(H)}const C=y(f),w=new Map,S={set($e,H,me){w.has($e)||w.set($e,new Map);const Ve=w.get($e);if(!Ve.has(H)&&Ve.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(Ve.keys())[0]}.`);return}Ve.set(H,me)},get($e,H){return w.has($e)&&w.get($e).get(H)||null},remove($e,H){if(!w.has($e))return;const me=w.get($e);me.delete(H),me.size===0&&w.delete($e)}},D=1e6,k=1e3,G="transitionend",q=$e=>($e&&window.CSS&&window.CSS.escape&&($e=$e.replace(/#([^\s"#']+)/g,(H,me)=>`#${CSS.escape(me)}`)),$e),X=$e=>$e==null?`${$e}`:Object.prototype.toString.call($e).match(/\s([a-z]+)/i)[1].toLowerCase(),fe=$e=>{do $e+=Math.floor(Math.random()*D);while(document.getElementById($e));return $e},re=$e=>{if(!$e)return 0;let{transitionDuration:H,transitionDelay:me}=window.getComputedStyle($e);const Ve=Number.parseFloat(H),Ht=Number.parseFloat(me);return!Ve&&!Ht?0:(H=H.split(",")[0],me=me.split(",")[0],(Number.parseFloat(H)+Number.parseFloat(me))*k)},he=$e=>{$e.dispatchEvent(new Event(G))},ue=$e=>!$e||typeof $e!="object"?!1:(typeof $e.jquery<"u"&&($e=$e[0]),typeof $e.nodeType<"u"),ce=$e=>ue($e)?$e.jquery?$e[0]:$e:typeof $e=="string"&&$e.length>0?document.querySelector(q($e)):null,ae=$e=>{if(!ue($e)||$e.getClientRects().length===0)return!1;const H=getComputedStyle($e).getPropertyValue("visibility")==="visible",me=$e.closest("details:not([open])");if(!me)return H;if(me!==$e){const Ve=$e.closest("summary");if(Ve&&Ve.parentNode!==me||Ve===null)return!1}return H},ge=$e=>!$e||$e.nodeType!==Node.ELEMENT_NODE||$e.classList.contains("disabled")?!0:typeof $e.disabled<"u"?$e.disabled:$e.hasAttribute("disabled")&&$e.getAttribute("disabled")!=="false",Q=$e=>{if(!document.documentElement.attachShadow)return null;if(typeof $e.getRootNode=="function"){const H=$e.getRootNode();return H instanceof ShadowRoot?H:null}return $e instanceof ShadowRoot?$e:$e.parentNode?Q($e.parentNode):null},Ne=()=>{},qe=$e=>{$e.offsetHeight},z=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,we=[],je=$e=>{document.readyState==="loading"?(we.length||document.addEventListener("DOMContentLoaded",()=>{for(const H of we)H()}),we.push($e)):$e()},dt=()=>document.documentElement.dir==="rtl",_t=$e=>{je(()=>{const H=z();if(H){const me=$e.NAME,Ve=H.fn[me];H.fn[me]=$e.jQueryInterface,H.fn[me].Constructor=$e,H.fn[me].noConflict=()=>(H.fn[me]=Ve,$e.jQueryInterface)}})},Pe=($e,H=[],me=$e)=>typeof $e=="function"?$e(...H):me,Ee=($e,H,me=!0)=>{if(!me){Pe($e);return}const Ve=5,Ht=re(H)+Ve;let Dn=!1;const fn=({target:Xo})=>{Xo===H&&(Dn=!0,H.removeEventListener(G,fn),Pe($e))};H.addEventListener(G,fn),setTimeout(()=>{Dn||he(H)},Ht)},pn=($e,H,me,Ve)=>{const Ht=$e.length;let Dn=$e.indexOf(H);return Dn===-1?!me&&Ve?$e[Ht-1]:$e[0]:(Dn+=me?1:-1,Ve&&(Dn=(Dn+Ht)%Ht),$e[Math.max(0,Math.min(Dn,Ht-1))])},Tt=/[^.]*(?=\..*)\.|.*/,Rt=/\..*/,B=/::\d+$/,It={};let nt=1;const jt={mouseenter:"mouseover",mouseleave:"mouseout"},zt=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Ze($e,H){return H&&`${H}::${nt++}`||$e.uidEvent||nt++}function bo($e){const H=Ze($e);return $e.uidEvent=H,It[H]=It[H]||{},It[H]}function Fo($e,H){return function me(Ve){return vs(Ve,{delegateTarget:$e}),me.oneOff&&Ft.off($e,Ve.type,H),H.apply($e,[Ve])}}function co($e,H,me){return function Ve(Ht){const Dn=$e.querySelectorAll(H);for(let{target:fn}=Ht;fn&&fn!==this;fn=fn.parentNode)for(const Xo of Dn)if(Xo===fn)return vs(Ht,{delegateTarget:fn}),Ve.oneOff&&Ft.off($e,Ht.type,H,me),me.apply(fn,[Ht])}}function Ho($e,H,me=null){return Object.values($e).find(Ve=>Ve.callable===H&&Ve.delegationSelector===me)}function tt($e,H,me){const Ve=typeof H=="string",Ht=Ve?me:H||me;let Dn=fo($e);return zt.has(Dn)||(Dn=$e),[Ve,Ht,Dn]}function Dt($e,H,me,Ve,Ht){if(typeof H!="string"||!$e)return;let[Dn,fn,Xo]=tt(H,me,Ve);H in jt&&(fn=(Ci=>function(nf){if(!nf.relatedTarget||nf.relatedTarget!==nf.delegateTarget&&!nf.delegateTarget.contains(nf.relatedTarget))return Ci.call(this,nf)})(fn));const Ge=bo($e),qr=Ge[Xo]||(Ge[Xo]={}),li=Ho(qr,fn,Dn?me:null);if(li){li.oneOff=li.oneOff&&Ht;return}const na=Ze(fn,H.replace(Tt,"")),Vr=Dn?co($e,me,fn):Fo($e,fn);Vr.delegationSelector=Dn?me:null,Vr.callable=fn,Vr.oneOff=Ht,Vr.uidEvent=na,qr[na]=Vr,$e.addEventListener(Xo,Vr,Dn)}function se($e,H,me,Ve,Ht){const Dn=Ho(H[me],Ve,Ht);Dn&&($e.removeEventListener(me,Dn,!!Ht),delete H[me][Dn.uidEvent])}function ls($e,H,me,Ve){const Ht=H[me]||{};for(const[Dn,fn]of Object.entries(Ht))Dn.includes(Ve)&&se($e,H,me,fn.callable,fn.delegationSelector)}function fo($e){return $e=$e.replace(Rt,""),jt[$e]||$e}const Ft={on($e,H,me,Ve){Dt($e,H,me,Ve,!1)},one($e,H,me,Ve){Dt($e,H,me,Ve,!0)},off($e,H,me,Ve){if(typeof H!="string"||!$e)return;const[Ht,Dn,fn]=tt(H,me,Ve),Xo=fn!==H,Ge=bo($e),qr=Ge[fn]||{},li=H.startsWith(".");if(typeof Dn<"u"){if(!Object.keys(qr).length)return;se($e,Ge,fn,Dn,Ht?me:null);return}if(li)for(const na of Object.keys(Ge))ls($e,Ge,na,H.slice(1));for(const[na,Vr]of Object.entries(qr)){const ui=na.replace(B,"");(!Xo||H.includes(ui))&&se($e,Ge,fn,Vr.callable,Vr.delegationSelector)}},trigger($e,H,me){if(typeof H!="string"||!$e)return null;const Ve=z(),Ht=fo(H),Dn=H!==Ht;let fn=null,Xo=!0,Ge=!0,qr=!1;Dn&&Ve&&(fn=Ve.Event(H,me),Ve($e).trigger(fn),Xo=!fn.isPropagationStopped(),Ge=!fn.isImmediatePropagationStopped(),qr=fn.isDefaultPrevented());const li=vs(new Event(H,{bubbles:Xo,cancelable:!0}),me);return qr&&li.preventDefault(),Ge&&$e.dispatchEvent(li),li.defaultPrevented&&fn&&fn.preventDefault(),li}};function vs($e,H={}){for(const[me,Ve]of Object.entries(H))try{$e[me]=Ve}catch{Object.defineProperty($e,me,{configurable:!0,get(){return Ve}})}return $e}function Qa($e){if($e==="true")return!0;if($e==="false")return!1;if($e===Number($e).toString())return Number($e);if($e===""||$e==="null")return null;if(typeof $e!="string")return $e;try{return JSON.parse(decodeURIComponent($e))}catch{return $e}}function Pn($e){return $e.replace(/[A-Z]/g,H=>`-${H.toLowerCase()}`)}const Po={setDataAttribute($e,H,me){$e.setAttribute(`data-bs-${Pn(H)}`,me)},removeDataAttribute($e,H){$e.removeAttribute(`data-bs-${Pn(H)}`)},getDataAttributes($e){if(!$e)return{};const H={},me=Object.keys($e.dataset).filter(Ve=>Ve.startsWith("bs")&&!Ve.startsWith("bsConfig"));for(const Ve of me){let Ht=Ve.replace(/^bs/,"");Ht=Ht.charAt(0).toLowerCase()+Ht.slice(1,Ht.length),H[Ht]=Qa($e.dataset[Ve])}return H},getDataAttribute($e,H){return Qa($e.getAttribute(`data-bs-${Pn(H)}`))}};class Kt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(H){return H=this._mergeConfigObj(H),H=this._configAfterMerge(H),this._typeCheckConfig(H),H}_configAfterMerge(H){return H}_mergeConfigObj(H,me){const Ve=ue(me)?Po.getDataAttribute(me,"config"):{};return{...this.constructor.Default,...typeof Ve=="object"?Ve:{},...ue(me)?Po.getDataAttributes(me):{},...typeof H=="object"?H:{}}}_typeCheckConfig(H,me=this.constructor.DefaultType){for(const[Ve,Ht]of Object.entries(me)){const Dn=H[Ve],fn=ue(Dn)?"element":X(Dn);if(!new RegExp(Ht).test(fn))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${Ve}" provided type "${fn}" but expected type "${Ht}".`)}}}const pt="5.3.0-alpha2";class vi extends Kt{constructor(H,me){super(),H=ce(H),H&&(this._element=H,this._config=this._getConfig(me),S.set(this._element,this.constructor.DATA_KEY,this))}dispose(){S.remove(this._element,this.constructor.DATA_KEY),Ft.off(this._element,this.constructor.EVENT_KEY);for(const H of Object.getOwnPropertyNames(this))this[H]=null}_queueCallback(H,me,Ve=!0){Ee(H,me,Ve)}_getConfig(H){return H=this._mergeConfigObj(H,this._element),H=this._configAfterMerge(H),this._typeCheckConfig(H),H}static getInstance(H){return S.get(ce(H),this.DATA_KEY)}static getOrCreateInstance(H,me={}){return this.getInstance(H)||new this(H,typeof me=="object"?me:null)}static get VERSION(){return pt}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(H){return`${H}${this.EVENT_KEY}`}}const bi=$e=>{let H=$e.getAttribute("data-bs-target");if(!H||H==="#"){let me=$e.getAttribute("href");if(!me||!me.includes("#")&&!me.startsWith("."))return null;me.includes("#")&&!me.startsWith("#")&&(me=`#${me.split("#")[1]}`),H=me&&me!=="#"?me.trim():null}return q(H)},Bt={find($e,H=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(H,$e))},findOne($e,H=document.documentElement){return Element.prototype.querySelector.call(H,$e)},children($e,H){return[].concat(...$e.children).filter(me=>me.matches(H))},parents($e,H){const me=[];let Ve=$e.parentNode.closest(H);for(;Ve;)me.push(Ve),Ve=Ve.parentNode.closest(H);return me},prev($e,H){let me=$e.previousElementSibling;for(;me;){if(me.matches(H))return[me];me=me.previousElementSibling}return[]},next($e,H){let me=$e.nextElementSibling;for(;me;){if(me.matches(H))return[me];me=me.nextElementSibling}return[]},focusableChildren($e){const H=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(me=>`${me}:not([tabindex^="-"])`).join(",");return this.find(H,$e).filter(me=>!ge(me)&&ae(me))},getSelectorFromElement($e){const H=bi($e);return H&&Bt.findOne(H)?H:null},getElementFromSelector($e){const H=bi($e);return H?Bt.findOne(H):null},getMultipleElementsFromSelector($e){const H=bi($e);return H?Bt.find(H):[]}},Br=($e,H="hide")=>{const me=`click.dismiss${$e.EVENT_KEY}`,Ve=$e.NAME;Ft.on(document,me,`[data-bs-dismiss="${Ve}"]`,function(Ht){if(["A","AREA"].includes(this.tagName)&&Ht.preventDefault(),ge(this))return;const Dn=Bt.getElementFromSelector(this)||this.closest(`.${Ve}`);$e.getOrCreateInstance(Dn)[H]()})},Ms="alert",bs=".bs.alert",Ir=`close${bs}`,Zc=`closed${bs}`,Sa="fade",or="show";class Rs extends vi{static get NAME(){return Ms}close(){if(Ft.trigger(this._element,Ir).defaultPrevented)return;this._element.classList.remove(or);const me=this._element.classList.contains(Sa);this._queueCallback(()=>this._destroyElement(),this._element,me)}_destroyElement(){this._element.remove(),Ft.trigger(this._element,Zc),this.dispose()}static jQueryInterface(H){return this.each(function(){const me=Rs.getOrCreateInstance(this);if(typeof H=="string"){if(me[H]===void 0||H.startsWith("_")||H==="constructor")throw new TypeError(`No method named "${H}"`);me[H](this)}})}}Br(Rs,"close"),_t(Rs);const id="button",ks=".bs.button",hl=".data-api",Di="active",Yc='[data-bs-toggle="button"]',br=`click${ks}${hl}`;class $r extends vi{static get NAME(){return id}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Di))}static jQueryInterface(H){return this.each(function(){const me=$r.getOrCreateInstance(this);H==="toggle"&&me[H]()})}}Ft.on(document,br,Yc,$e=>{$e.preventDefault();const H=$e.target.closest(Yc);$r.getOrCreateInstance(H).toggle()}),_t($r);const qd="swipe",yi=".bs.swipe",_h=`touchstart${yi}`,cn=`touchmove${yi}`,Vo=`touchend${yi}`,la=`pointerdown${yi}`,vc=`pointerup${yi}`,Eh="touch",cu="pen",Ps="pointer-event",ad=40,jd={endCallback:null,leftCallback:null,rightCallback:null},Qs={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class jn extends Kt{constructor(H,me){super(),this._element=H,!(!H||!jn.isSupported())&&(this._config=this._getConfig(me),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return jd}static get DefaultType(){return Qs}static get NAME(){return qd}dispose(){Ft.off(this._element,yi)}_start(H){if(!this._supportPointerEvents){this._deltaX=H.touches[0].clientX;return}this._eventIsPointerPenTouch(H)&&(this._deltaX=H.clientX)}_end(H){this._eventIsPointerPenTouch(H)&&(this._deltaX=H.clientX-this._deltaX),this._handleSwipe(),Pe(this._config.endCallback)}_move(H){this._deltaX=H.touches&&H.touches.length>1?0:H.touches[0].clientX-this._deltaX}_handleSwipe(){const H=Math.abs(this._deltaX);if(H<=ad)return;const me=H/this._deltaX;this._deltaX=0,me&&Pe(me>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Ft.on(this._element,la,H=>this._start(H)),Ft.on(this._element,vc,H=>this._end(H)),this._element.classList.add(Ps)):(Ft.on(this._element,_h,H=>this._start(H)),Ft.on(this._element,cn,H=>this._move(H)),Ft.on(this._element,Vo,H=>this._end(H)))}_eventIsPointerPenTouch(H){return this._supportPointerEvents&&(H.pointerType===cu||H.pointerType===Eh)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Ja="carousel",Kc=".bs.carousel",wh=".data-api",Ni="ArrowLeft",Xi="ArrowRight",Ur=500,Ha="next",Xc="prev",bc="left",xa="right",Fr=`slide${Kc}`,yc=`slid${Kc}`,ml=`keydown${Kc}`,Fp=`mouseenter${Kc}`,Hp=`mouseleave${Kc}`,Bl=`dragstart${Kc}`,Cm=`load${Kc}${wh}`,Je=`click${Kc}${wh}`,_i="carousel",lu="active",Vp="slide",Th="carousel-item-end",Hs="carousel-item-start",Zd="carousel-item-next",Sm="carousel-item-prev",Qi=".active",Qc=".carousel-item",si=Qi+Qc,Ei=".carousel-item img",uu=".carousel-indicators",ec="[data-bs-slide], [data-bs-slide-to]",du='[data-bs-ride="carousel"]',$l={[Ni]:xa,[Xi]:bc},cd={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ss={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class ri extends vi{constructor(H,me){super(H,me),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Bt.findOne(uu,this._element),this._addEventListeners(),this._config.ride===_i&&this.cycle()}static get Default(){return cd}static get DefaultType(){return Ss}static get NAME(){return Ja}next(){this._slide(Ha)}nextWhenVisible(){!document.hidden&&ae(this._element)&&this.next()}prev(){this._slide(Xc)}pause(){this._isSliding&&he(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){Ft.one(this._element,yc,()=>this.cycle());return}this.cycle()}}to(H){const me=this._getItems();if(H>me.length-1||H<0)return;if(this._isSliding){Ft.one(this._element,yc,()=>this.to(H));return}const Ve=this._getItemIndex(this._getActive());if(Ve===H)return;const Ht=H>Ve?Ha:Xc;this._slide(Ht,me[H])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(H){return H.defaultInterval=H.interval,H}_addEventListeners(){this._config.keyboard&&Ft.on(this._element,ml,H=>this._keydown(H)),this._config.pause==="hover"&&(Ft.on(this._element,Fp,()=>this.pause()),Ft.on(this._element,Hp,()=>this._maybeEnableCycle())),this._config.touch&&jn.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const Ve of Bt.find(Ei,this._element))Ft.on(Ve,Bl,Ht=>Ht.preventDefault());const me={leftCallback:()=>this._slide(this._directionToOrder(bc)),rightCallback:()=>this._slide(this._directionToOrder(xa)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Ur+this._config.interval))}};this._swipeHelper=new jn(this._element,me)}_keydown(H){if(/input|textarea/i.test(H.target.tagName))return;const me=$l[H.key];me&&(H.preventDefault(),this._slide(this._directionToOrder(me)))}_getItemIndex(H){return this._getItems().indexOf(H)}_setActiveIndicatorElement(H){if(!this._indicatorsElement)return;const me=Bt.findOne(Qi,this._indicatorsElement);me.classList.remove(lu),me.removeAttribute("aria-current");const Ve=Bt.findOne(`[data-bs-slide-to="${H}"]`,this._indicatorsElement);Ve&&(Ve.classList.add(lu),Ve.setAttribute("aria-current","true"))}_updateInterval(){const H=this._activeElement||this._getActive();if(!H)return;const me=Number.parseInt(H.getAttribute("data-bs-interval"),10);this._config.interval=me||this._config.defaultInterval}_slide(H,me=null){if(this._isSliding)return;const Ve=this._getActive(),Ht=H===Ha,Dn=me||pn(this._getItems(),Ve,Ht,this._config.wrap);if(Dn===Ve)return;const fn=this._getItemIndex(Dn),Xo=ui=>Ft.trigger(this._element,ui,{relatedTarget:Dn,direction:this._orderToDirection(H),from:this._getItemIndex(Ve),to:fn});if(Xo(Fr).defaultPrevented||!Ve||!Dn)return;const qr=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(fn),this._activeElement=Dn;const li=Ht?Hs:Th,na=Ht?Zd:Sm;Dn.classList.add(na),qe(Dn),Ve.classList.add(li),Dn.classList.add(li);const Vr=()=>{Dn.classList.remove(li,na),Dn.classList.add(lu),Ve.classList.remove(lu,na,li),this._isSliding=!1,Xo(yc)};this._queueCallback(Vr,Ve,this._isAnimated()),qr&&this.cycle()}_isAnimated(){return this._element.classList.contains(Vp)}_getActive(){return Bt.findOne(si,this._element)}_getItems(){return Bt.find(Qc,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(H){return dt()?H===bc?Xc:Ha:H===bc?Ha:Xc}_orderToDirection(H){return dt()?H===Xc?bc:xa:H===Xc?xa:bc}static jQueryInterface(H){return this.each(function(){const me=ri.getOrCreateInstance(this,H);if(typeof H=="number"){me.to(H);return}if(typeof H=="string"){if(me[H]===void 0||H.startsWith("_")||H==="constructor")throw new TypeError(`No method named "${H}"`);me[H]()}})}}Ft.on(document,Je,ec,function($e){const H=Bt.getElementFromSelector(this);if(!H||!H.classList.contains(_i))return;$e.preventDefault();const me=ri.getOrCreateInstance(H),Ve=this.getAttribute("data-bs-slide-to");if(Ve){me.to(Ve),me._maybeEnableCycle();return}if(Po.getDataAttribute(this,"slide")==="next"){me.next(),me._maybeEnableCycle();return}me.prev(),me._maybeEnableCycle()}),Ft.on(window,Cm,()=>{const $e=Bt.find(du);for(const H of $e)ri.getOrCreateInstance(H)}),_t(ri);const Jc="collapse",Aa=".bs.collapse",_c=".data-api",yr=`show${Aa}`,ud=`shown${Aa}`,fu=`hide${Aa}`,ys=`hidden${Aa}`,tc=`click${Aa}${_c}`,ii="show",Hr="collapse",el="collapsing",Du="collapsed",Ec=`:scope .${Hr} .${Hr}`,Bc="collapse-horizontal",Nf="width",Ch="height",zp=".collapse.show, .collapse.collapsing",nc='[data-bs-toggle="collapse"]',Nu={parent:null,toggle:!0},Sh={parent:"(null|element)",toggle:"boolean"};class Mu extends vi{constructor(H,me){super(H,me),this._isTransitioning=!1,this._triggerArray=[];const Ve=Bt.find(nc);for(const Ht of Ve){const Dn=Bt.getSelectorFromElement(Ht),fn=Bt.find(Dn).filter(Xo=>Xo===this._element);Dn!==null&&fn.length&&this._triggerArray.push(Ht)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Nu}static get DefaultType(){return Sh}static get NAME(){return Jc}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let H=[];if(this._config.parent&&(H=this._getFirstLevelChildren(zp).filter(Xo=>Xo!==this._element).map(Xo=>Mu.getOrCreateInstance(Xo,{toggle:!1}))),H.length&&H[0]._isTransitioning||Ft.trigger(this._element,yr).defaultPrevented)return;for(const Xo of H)Xo.hide();const Ve=this._getDimension();this._element.classList.remove(Hr),this._element.classList.add(el),this._element.style[Ve]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const Ht=()=>{this._isTransitioning=!1,this._element.classList.remove(el),this._element.classList.add(Hr,ii),this._element.style[Ve]="",Ft.trigger(this._element,ud)},fn=`scroll${Ve[0].toUpperCase()+Ve.slice(1)}`;this._queueCallback(Ht,this._element,!0),this._element.style[Ve]=`${this._element[fn]}px`}hide(){if(this._isTransitioning||!this._isShown()||Ft.trigger(this._element,fu).defaultPrevented)return;const me=this._getDimension();this._element.style[me]=`${this._element.getBoundingClientRect()[me]}px`,qe(this._element),this._element.classList.add(el),this._element.classList.remove(Hr,ii);for(const Ht of this._triggerArray){const Dn=Bt.getElementFromSelector(Ht);Dn&&!this._isShown(Dn)&&this._addAriaAndCollapsedClass([Ht],!1)}this._isTransitioning=!0;const Ve=()=>{this._isTransitioning=!1,this._element.classList.remove(el),this._element.classList.add(Hr),Ft.trigger(this._element,ys)};this._element.style[me]="",this._queueCallback(Ve,this._element,!0)}_isShown(H=this._element){return H.classList.contains(ii)}_configAfterMerge(H){return H.toggle=!!H.toggle,H.parent=ce(H.parent),H}_getDimension(){return this._element.classList.contains(Bc)?Nf:Ch}_initializeChildren(){if(!this._config.parent)return;const H=this._getFirstLevelChildren(nc);for(const me of H){const Ve=Bt.getElementFromSelector(me);Ve&&this._addAriaAndCollapsedClass([me],this._isShown(Ve))}}_getFirstLevelChildren(H){const me=Bt.find(Ec,this._config.parent);return Bt.find(H,this._config.parent).filter(Ve=>!me.includes(Ve))}_addAriaAndCollapsedClass(H,me){if(H.length)for(const Ve of H)Ve.classList.toggle(Du,!me),Ve.setAttribute("aria-expanded",me)}static jQueryInterface(H){const me={};return typeof H=="string"&&/show|hide/.test(H)&&(me.toggle=!1),this.each(function(){const Ve=Mu.getOrCreateInstance(this,me);if(typeof H=="string"){if(typeof Ve[H]>"u")throw new TypeError(`No method named "${H}"`);Ve[H]()}})}}Ft.on(document,tc,nc,function($e){($e.target.tagName==="A"||$e.delegateTarget&&$e.delegateTarget.tagName==="A")&&$e.preventDefault();for(const H of Bt.getMultipleElementsFromSelector(this))Mu.getOrCreateInstance(H,{toggle:!1}).toggle()}),_t(Mu);const Mf="dropdown",ku=".bs.dropdown",Pu=".data-api",Oa="Escape",Mi="Tab",Lu="ArrowUp",kf="ArrowDown",Up=2,Vs=`hide${ku}`,_r=`hidden${ku}`,oc=`show${ku}`,Ji=`shown${ku}`,pl=`click${ku}${Pu}`,$c=`keydown${ku}${Pu}`,lo=`keyup${ku}${Pu}`,No="show",ki="dropup",Xr="dropend",ua="dropstart",x="dropup-center",M="dropdown-center",U='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',j=`${U}.${No}`,te=".dropdown-menu",de=".navbar",_e=".navbar-nav",Te=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Le=dt()?"top-end":"top-start",it=dt()?"top-start":"top-end",Et=dt()?"bottom-end":"bottom-start",Xt=dt()?"bottom-start":"bottom-end",rt=dt()?"left-start":"right-start",Mt=dt()?"right-start":"left-start",eo="top",Yn="bottom",Cn={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},ur={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class qs extends vi{constructor(H,me){super(H,me),this._popper=null,this._parent=this._element.parentNode,this._menu=Bt.next(this._element,te)[0]||Bt.prev(this._element,te)[0]||Bt.findOne(te,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Cn}static get DefaultType(){return ur}static get NAME(){return Mf}toggle(){return this._isShown()?this.hide():this.show()}show(){if(ge(this._element)||this._isShown())return;const H={relatedTarget:this._element};if(!Ft.trigger(this._element,oc,H).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(_e))for(const Ve of[].concat(...document.body.children))Ft.on(Ve,"mouseover",Ne);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(No),this._element.classList.add(No),Ft.trigger(this._element,Ji,H)}}hide(){if(ge(this._element)||!this._isShown())return;const H={relatedTarget:this._element};this._completeHide(H)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(H){if(!Ft.trigger(this._element,Vs,H).defaultPrevented){if("ontouchstart"in document.documentElement)for(const Ve of[].concat(...document.body.children))Ft.off(Ve,"mouseover",Ne);this._popper&&this._popper.destroy(),this._menu.classList.remove(No),this._element.classList.remove(No),this._element.setAttribute("aria-expanded","false"),Po.removeDataAttribute(this._menu,"popper"),Ft.trigger(this._element,_r,H)}}_getConfig(H){if(H=super._getConfig(H),typeof H.reference=="object"&&!ue(H.reference)&&typeof H.reference.getBoundingClientRect!="function")throw new TypeError(`${Mf.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return H}_createPopper(){if(typeof C>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let H=this._element;this._config.reference==="parent"?H=this._parent:ue(this._config.reference)?H=ce(this._config.reference):typeof this._config.reference=="object"&&(H=this._config.reference);const me=this._getPopperConfig();this._popper=C.createPopper(H,this._menu,me)}_isShown(){return this._menu.classList.contains(No)}_getPlacement(){const H=this._parent;if(H.classList.contains(Xr))return rt;if(H.classList.contains(ua))return Mt;if(H.classList.contains(x))return eo;if(H.classList.contains(M))return Yn;const me=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return H.classList.contains(ki)?me?it:Le:me?Xt:Et}_detectNavbar(){return this._element.closest(de)!==null}_getOffset(){const{offset:H}=this._config;return typeof H=="string"?H.split(",").map(me=>Number.parseInt(me,10)):typeof H=="function"?me=>H(me,this._element):H}_getPopperConfig(){const H={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Po.setDataAttribute(this._menu,"popper","static"),H.modifiers=[{name:"applyStyles",enabled:!1}]),{...H,...Pe(this._config.popperConfig,[H])}}_selectMenuItem({key:H,target:me}){const Ve=Bt.find(Te,this._menu).filter(Ht=>ae(Ht));Ve.length&&pn(Ve,me,H===kf,!Ve.includes(me)).focus()}static jQueryInterface(H){return this.each(function(){const me=qs.getOrCreateInstance(this,H);if(typeof H=="string"){if(typeof me[H]>"u")throw new TypeError(`No method named "${H}"`);me[H]()}})}static clearMenus(H){if(H.button===Up||H.type==="keyup"&&H.key!==Mi)return;const me=Bt.find(j);for(const Ve of me){const Ht=qs.getInstance(Ve);if(!Ht||Ht._config.autoClose===!1)continue;const Dn=H.composedPath(),fn=Dn.includes(Ht._menu);if(Dn.includes(Ht._element)||Ht._config.autoClose==="inside"&&!fn||Ht._config.autoClose==="outside"&&fn||Ht._menu.contains(H.target)&&(H.type==="keyup"&&H.key===Mi||/input|select|option|textarea|form/i.test(H.target.tagName)))continue;const Xo={relatedTarget:Ht._element};H.type==="click"&&(Xo.clickEvent=H),Ht._completeHide(Xo)}}static dataApiKeydownHandler(H){const me=/input|textarea/i.test(H.target.tagName),Ve=H.key===Oa,Ht=[Lu,kf].includes(H.key);if(!Ht&&!Ve||me&&!Ve)return;H.preventDefault();const Dn=this.matches(U)?this:Bt.prev(this,U)[0]||Bt.next(this,U)[0]||Bt.findOne(U,H.delegateTarget.parentNode),fn=qs.getOrCreateInstance(Dn);if(Ht){H.stopPropagation(),fn.show(),fn._selectMenuItem(H);return}fn._isShown()&&(H.stopPropagation(),fn.hide(),Dn.focus())}}Ft.on(document,$c,U,qs.dataApiKeydownHandler),Ft.on(document,$c,te,qs.dataApiKeydownHandler),Ft.on(document,pl,qs.clearMenus),Ft.on(document,lo,qs.clearMenus),Ft.on(document,pl,U,function($e){$e.preventDefault(),qs.getOrCreateInstance(this).toggle()}),_t(qs);const us="backdrop",Xn="fade",to="show",Pi=`mousedown.bs.${us}`,Oo={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Er={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Fl extends Kt{constructor(H){super(),this._config=this._getConfig(H),this._isAppended=!1,this._element=null}static get Default(){return Oo}static get DefaultType(){return Er}static get NAME(){return us}show(H){if(!this._config.isVisible){Pe(H);return}this._append();const me=this._getElement();this._config.isAnimated&&qe(me),me.classList.add(to),this._emulateAnimation(()=>{Pe(H)})}hide(H){if(!this._config.isVisible){Pe(H);return}this._getElement().classList.remove(to),this._emulateAnimation(()=>{this.dispose(),Pe(H)})}dispose(){this._isAppended&&(Ft.off(this._element,Pi),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const H=document.createElement("div");H.className=this._config.className,this._config.isAnimated&&H.classList.add(Xn),this._element=H}return this._element}_configAfterMerge(H){return H.rootElement=ce(H.rootElement),H}_append(){if(this._isAppended)return;const H=this._getElement();this._config.rootElement.append(H),Ft.on(H,Pi,()=>{Pe(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(H){Ee(H,this._getElement(),this._config.isAnimated)}}const zs="focustrap",Dr=".bs.focustrap",Fc=`focusin${Dr}`,wi=`keydown.tab${Dr}`,as="Tab",fr="forward",Ra="backward",Pf={autofocus:!0,trapElement:null},Hc={autofocus:"boolean",trapElement:"element"};class wc extends Kt{constructor(H){super(),this._config=this._getConfig(H),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Pf}static get DefaultType(){return Hc}static get NAME(){return zs}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Ft.off(document,Dr),Ft.on(document,Fc,H=>this._handleFocusin(H)),Ft.on(document,wi,H=>this._handleKeydown(H)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Ft.off(document,Dr))}_handleFocusin(H){const{trapElement:me}=this._config;if(H.target===document||H.target===me||me.contains(H.target))return;const Ve=Bt.focusableChildren(me);Ve.length===0?me.focus():this._lastTabNavDirection===Ra?Ve[Ve.length-1].focus():Ve[0].focus()}_handleKeydown(H){H.key===as&&(this._lastTabNavDirection=H.shiftKey?Ra:fr)}}const mo=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Wr=".sticky-top",Li="padding-right",sc="margin-right";class ea{constructor(){this._element=document.body}getWidth(){const H=document.documentElement.clientWidth;return Math.abs(window.innerWidth-H)}hide(){const H=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Li,me=>me+H),this._setElementAttributes(mo,Li,me=>me+H),this._setElementAttributes(Wr,sc,me=>me-H)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Li),this._resetElementAttributes(mo,Li),this._resetElementAttributes(Wr,sc)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(H,me,Ve){const Ht=this.getWidth(),Dn=fn=>{if(fn!==this._element&&window.innerWidth>fn.clientWidth+Ht)return;this._saveInitialAttribute(fn,me);const Xo=window.getComputedStyle(fn).getPropertyValue(me);fn.style.setProperty(me,`${Ve(Number.parseFloat(Xo))}px`)};this._applyManipulationCallback(H,Dn)}_saveInitialAttribute(H,me){const Ve=H.style.getPropertyValue(me);Ve&&Po.setDataAttribute(H,me,Ve)}_resetElementAttributes(H,me){const Ve=Ht=>{const Dn=Po.getDataAttribute(Ht,me);if(Dn===null){Ht.style.removeProperty(me);return}Po.removeDataAttribute(Ht,me),Ht.style.setProperty(me,Dn)};this._applyManipulationCallback(H,Ve)}_applyManipulationCallback(H,me){if(ue(H)){me(H);return}for(const Ve of Bt.find(H,this._element))me(Ve)}}const hr="modal",Ia=".bs.modal",dd=".data-api",xh="Escape",Wp=`hide${Ia}`,Hl=`hidePrevented${Ia}`,hu=`hidden${Ia}`,Yd=`show${Ia}`,Ti=`shown${Ia}`,fd=`resize${Ia}`,hd=`click.dismiss${Ia}`,Bu=`mousedown.dismiss${Ia}`,rc=`keydown.dismiss${Ia}`,da=`click${Ia}${dd}`,mu="modal-open",md="fade",Ah="show",Oh="modal-static",Ts=".modal.show",Tc=".modal-dialog",De=".modal-body",ic='[data-bs-toggle="modal"]',fa={backdrop:!0,focus:!0,keyboard:!0},Rh={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class pd extends vi{constructor(H,me){super(H,me),this._dialog=Bt.findOne(Tc,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ea,this._addEventListeners()}static get Default(){return fa}static get DefaultType(){return Rh}static get NAME(){return hr}toggle(H){return this._isShown?this.hide():this.show(H)}show(H){this._isShown||this._isTransitioning||Ft.trigger(this._element,Yd,{relatedTarget:H}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(mu),this._adjustDialog(),this._backdrop.show(()=>this._showElement(H)))}hide(){!this._isShown||this._isTransitioning||Ft.trigger(this._element,Wp).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Ah),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Ft.off(window,Ia),Ft.off(this._dialog,Ia),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Fl({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new wc({trapElement:this._element})}_showElement(H){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const me=Bt.findOne(De,this._dialog);me&&(me.scrollTop=0),qe(this._element),this._element.classList.add(Ah);const Ve=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Ft.trigger(this._element,Ti,{relatedTarget:H})};this._queueCallback(Ve,this._dialog,this._isAnimated())}_addEventListeners(){Ft.on(this._element,rc,H=>{if(H.key===xh){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),Ft.on(window,fd,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Ft.on(this._element,Bu,H=>{Ft.one(this._element,hd,me=>{if(!(this._element!==H.target||this._element!==me.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(mu),this._resetAdjustments(),this._scrollBar.reset(),Ft.trigger(this._element,hu)})}_isAnimated(){return this._element.classList.contains(md)}_triggerBackdropTransition(){if(Ft.trigger(this._element,Hl).defaultPrevented)return;const me=this._element.scrollHeight>document.documentElement.clientHeight,Ve=this._element.style.overflowY;Ve==="hidden"||this._element.classList.contains(Oh)||(me||(this._element.style.overflowY="hidden"),this._element.classList.add(Oh),this._queueCallback(()=>{this._element.classList.remove(Oh),this._queueCallback(()=>{this._element.style.overflowY=Ve},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const H=this._element.scrollHeight>document.documentElement.clientHeight,me=this._scrollBar.getWidth(),Ve=me>0;if(Ve&&!H){const Ht=dt()?"paddingLeft":"paddingRight";this._element.style[Ht]=`${me}px`}if(!Ve&&H){const Ht=dt()?"paddingRight":"paddingLeft";this._element.style[Ht]=`${me}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(H,me){return this.each(function(){const Ve=pd.getOrCreateInstance(this,H);if(typeof H=="string"){if(typeof Ve[H]>"u")throw new TypeError(`No method named "${H}"`);Ve[H](me)}})}}Ft.on(document,da,ic,function($e){const H=Bt.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&$e.preventDefault(),Ft.one(H,Yd,Ht=>{Ht.defaultPrevented||Ft.one(H,hu,()=>{ae(this)&&this.focus()})});const me=Bt.findOne(Ts);me&&pd.getInstance(me).hide(),pd.getOrCreateInstance(H).toggle(this)}),Br(pd),_t(pd);const s1="offcanvas",et=".bs.offcanvas",kt=".data-api",Ot=`load${et}${kt}`,Un="Escape",Eo="show",zo="showing",Qr="hiding",js="offcanvas-backdrop",gd=".offcanvas.show",Cc=`show${et}`,Da=`shown${et}`,xe=`hide${et}`,Be=`hidePrevented${et}`,We=`hidden${et}`,Vt=`resize${et}`,ut=`click${et}${kt}`,St=`keydown.dismiss${et}`,Qt='[data-bs-toggle="offcanvas"]',An={backdrop:!0,keyboard:!0,scroll:!1},Mn={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class no extends vi{constructor(H,me){super(H,me),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return An}static get DefaultType(){return Mn}static get NAME(){return s1}toggle(H){return this._isShown?this.hide():this.show(H)}show(H){if(this._isShown||Ft.trigger(this._element,Cc,{relatedTarget:H}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new ea().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(zo);const Ve=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(Eo),this._element.classList.remove(zo),Ft.trigger(this._element,Da,{relatedTarget:H})};this._queueCallback(Ve,this._element,!0)}hide(){if(!this._isShown||Ft.trigger(this._element,xe).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Qr),this._backdrop.hide();const me=()=>{this._element.classList.remove(Eo,Qr),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new ea().reset(),Ft.trigger(this._element,We)};this._queueCallback(me,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const H=()=>{if(this._config.backdrop==="static"){Ft.trigger(this._element,Be);return}this.hide()},me=!!this._config.backdrop;return new Fl({className:js,isVisible:me,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:me?H:null})}_initializeFocusTrap(){return new wc({trapElement:this._element})}_addEventListeners(){Ft.on(this._element,St,H=>{if(H.key===Un){if(this._config.keyboard){this.hide();return}Ft.trigger(this._element,Be)}})}static jQueryInterface(H){return this.each(function(){const me=no.getOrCreateInstance(this,H);if(typeof H=="string"){if(me[H]===void 0||H.startsWith("_")||H==="constructor")throw new TypeError(`No method named "${H}"`);me[H](this)}})}}Ft.on(document,ut,Qt,function($e){const H=Bt.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&$e.preventDefault(),ge(this))return;Ft.one(H,We,()=>{ae(this)&&this.focus()});const me=Bt.findOne(gd);me&&me!==H&&no.getInstance(me).hide(),no.getOrCreateInstance(H).toggle(this)}),Ft.on(window,Ot,()=>{for(const $e of Bt.find(gd))no.getOrCreateInstance($e).show()}),Ft.on(window,Vt,()=>{for(const $e of Bt.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle($e).position!=="fixed"&&no.getOrCreateInstance($e).hide()}),Br(no),_t(no);const yo=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),ro=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Yo=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Is=($e,H)=>{const me=$e.nodeName.toLowerCase();return H.includes(me)?yo.has(me)?!!(ro.test($e.nodeValue)||Yo.test($e.nodeValue)):!0:H.filter(Ve=>Ve instanceof RegExp).some(Ve=>Ve.test(me))},Bi={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function $i($e,H,me){if(!$e.length)return $e;if(me&&typeof me=="function")return me($e);const Ht=new window.DOMParser().parseFromString($e,"text/html"),Dn=[].concat(...Ht.body.querySelectorAll("*"));for(const fn of Dn){const Xo=fn.nodeName.toLowerCase();if(!Object.keys(H).includes(Xo)){fn.remove();continue}const Ge=[].concat(...fn.attributes),qr=[].concat(H["*"]||[],H[Xo]||[]);for(const li of Ge)Is(li,qr)||fn.removeAttribute(li.nodeName)}return Ht.body.innerHTML}const za="TemplateFactory",Js={allowList:Bi,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Vl={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Ls={entry:"(string|element|function|null)",selector:"(string|element)"};class ts extends Kt{constructor(H){super(),this._config=this._getConfig(H)}static get Default(){return Js}static get DefaultType(){return Vl}static get NAME(){return za}getContent(){return Object.values(this._config.content).map(H=>this._resolvePossibleFunction(H)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(H){return this._checkContent(H),this._config.content={...this._config.content,...H},this}toHtml(){const H=document.createElement("div");H.innerHTML=this._maybeSanitize(this._config.template);for(const[Ht,Dn]of Object.entries(this._config.content))this._setContent(H,Dn,Ht);const me=H.children[0],Ve=this._resolvePossibleFunction(this._config.extraClass);return Ve&&me.classList.add(...Ve.split(" ")),me}_typeCheckConfig(H){super._typeCheckConfig(H),this._checkContent(H.content)}_checkContent(H){for(const[me,Ve]of Object.entries(H))super._typeCheckConfig({selector:me,entry:Ve},Ls)}_setContent(H,me,Ve){const Ht=Bt.findOne(Ve,H);if(Ht){if(me=this._resolvePossibleFunction(me),!me){Ht.remove();return}if(ue(me)){this._putElementInTemplate(ce(me),Ht);return}if(this._config.html){Ht.innerHTML=this._maybeSanitize(me);return}Ht.textContent=me}}_maybeSanitize(H){return this._config.sanitize?$i(H,this._config.allowList,this._config.sanitizeFn):H}_resolvePossibleFunction(H){return Pe(H,[this])}_putElementInTemplate(H,me){if(this._config.html){me.innerHTML="",me.append(H);return}me.textContent=H.textContent}}const gl="tooltip",Am=new Set(["sanitize","allowList","sanitizeFn"]),r1="fade",Na="modal",Kd="show",zl=".tooltip-inner",tl=`.${Na}`,Xd="hide.bs.modal",io="hover",ha="focus",Ih="click",wv="manual",ai="hide",ma="hidden",$u="show",vl="shown",Ma="inserted",nl="click",ta="focusin",Om="focusout",ds="mouseenter",ol="mouseleave",Ul={AUTO:"auto",TOP:"top",RIGHT:dt()?"left":"right",BOTTOM:"bottom",LEFT:dt()?"right":"left"},wr={allowList:Bi,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Rm={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Wl extends vi{constructor(H,me){if(typeof C>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(H,me),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return wr}static get DefaultType(){return Rm}static get NAME(){return gl}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),Ft.off(this._element.closest(tl),Xd,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const H=Ft.trigger(this._element,this.constructor.eventName($u)),Ve=(Q(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(H.defaultPrevented||!Ve)return;this._disposePopper();const Ht=this._getTipElement();this._element.setAttribute("aria-describedby",Ht.getAttribute("id"));const{container:Dn}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(Dn.append(Ht),Ft.trigger(this._element,this.constructor.eventName(Ma))),this._popper=this._createPopper(Ht),Ht.classList.add(Kd),"ontouchstart"in document.documentElement)for(const Xo of[].concat(...document.body.children))Ft.on(Xo,"mouseover",Ne);const fn=()=>{Ft.trigger(this._element,this.constructor.eventName(vl)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(fn,this.tip,this._isAnimated())}hide(){if(!this._isShown()||Ft.trigger(this._element,this.constructor.eventName(ai)).defaultPrevented)return;if(this._getTipElement().classList.remove(Kd),"ontouchstart"in document.documentElement)for(const Ht of[].concat(...document.body.children))Ft.off(Ht,"mouseover",Ne);this._activeTrigger[Ih]=!1,this._activeTrigger[ha]=!1,this._activeTrigger[io]=!1,this._isHovered=null;const Ve=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Ft.trigger(this._element,this.constructor.eventName(ma)))};this._queueCallback(Ve,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(H){const me=this._getTemplateFactory(H).toHtml();if(!me)return null;me.classList.remove(r1,Kd),me.classList.add(`bs-${this.constructor.NAME}-auto`);const Ve=fe(this.constructor.NAME).toString();return me.setAttribute("id",Ve),this._isAnimated()&&me.classList.add(r1),me}setContent(H){this._newContent=H,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(H){return this._templateFactory?this._templateFactory.changeContent(H):this._templateFactory=new ts({...this._config,content:H,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[zl]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(H){return this.constructor.getOrCreateInstance(H.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(r1)}_isShown(){return this.tip&&this.tip.classList.contains(Kd)}_createPopper(H){const me=Pe(this._config.placement,[this,H,this._element]),Ve=Ul[me.toUpperCase()];return C.createPopper(this._element,H,this._getPopperConfig(Ve))}_getOffset(){const{offset:H}=this._config;return typeof H=="string"?H.split(",").map(me=>Number.parseInt(me,10)):typeof H=="function"?me=>H(me,this._element):H}_resolvePossibleFunction(H){return Pe(H,[this._element])}_getPopperConfig(H){const me={placement:H,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:Ve=>{this._getTipElement().setAttribute("data-popper-placement",Ve.state.placement)}}]};return{...me,...Pe(this._config.popperConfig,[me])}}_setListeners(){const H=this._config.trigger.split(" ");for(const me of H)if(me==="click")Ft.on(this._element,this.constructor.eventName(nl),this._config.selector,Ve=>{this._initializeOnDelegatedTarget(Ve).toggle()});else if(me!==wv){const Ve=me===io?this.constructor.eventName(ds):this.constructor.eventName(ta),Ht=me===io?this.constructor.eventName(ol):this.constructor.eventName(Om);Ft.on(this._element,Ve,this._config.selector,Dn=>{const fn=this._initializeOnDelegatedTarget(Dn);fn._activeTrigger[Dn.type==="focusin"?ha:io]=!0,fn._enter()}),Ft.on(this._element,Ht,this._config.selector,Dn=>{const fn=this._initializeOnDelegatedTarget(Dn);fn._activeTrigger[Dn.type==="focusout"?ha:io]=fn._element.contains(Dn.relatedTarget),fn._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Ft.on(this._element.closest(tl),Xd,this._hideModalHandler)}_fixTitle(){const H=this._element.getAttribute("title");H&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",H),this._element.setAttribute("data-bs-original-title",H),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(H,me){clearTimeout(this._timeout),this._timeout=setTimeout(H,me)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(H){const me=Po.getDataAttributes(this._element);for(const Ve of Object.keys(me))Am.has(Ve)&&delete me[Ve];return H={...me,...typeof H=="object"&&H?H:{}},H=this._mergeConfigObj(H),H=this._configAfterMerge(H),this._typeCheckConfig(H),H}_configAfterMerge(H){return H.container=H.container===!1?document.body:ce(H.container),typeof H.delay=="number"&&(H.delay={show:H.delay,hide:H.delay}),typeof H.title=="number"&&(H.title=H.title.toString()),typeof H.content=="number"&&(H.content=H.content.toString()),H}_getDelegateConfig(){const H={};for(const[me,Ve]of Object.entries(this._config))this.constructor.Default[me]!==Ve&&(H[me]=Ve);return H.selector=!1,H.trigger="manual",H}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(H){return this.each(function(){const me=Wl.getOrCreateInstance(this,H);if(typeof H=="string"){if(typeof me[H]>"u")throw new TypeError(`No method named "${H}"`);me[H]()}})}}_t(Wl);const vd="popover",er=".popover-header",Tr=".popover-body",Ua={...Wl.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},i1={...Wl.DefaultType,content:"(null|string|element|function)"};class Fu extends Wl{static get Default(){return Ua}static get DefaultType(){return i1}static get NAME(){return vd}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[er]:this._getTitle(),[Tr]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(H){return this.each(function(){const me=Fu.getOrCreateInstance(this,H);if(typeof H=="string"){if(typeof me[H]>"u")throw new TypeError(`No method named "${H}"`);me[H]()}})}}_t(Fu);const Lf="scrollspy",be=".bs.scrollspy",Qd=".data-api",Dh=`activate${be}`,bl=`click${be}`,Us=`load${be}${Qd}`,a1="dropdown-item",Jd="active",c1='[data-bs-spy="scroll"]',pa="[href]",Tv=".nav, .list-group",Dm=".nav-link",l1=`${Dm}, .nav-item > ${Dm}, .list-group-item`,Wa=".dropdown",Bf=".dropdown-toggle",n0={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Gp={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class $f extends vi{constructor(H,me){super(H,me),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return n0}static get DefaultType(){return Gp}static get NAME(){return Lf}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const H of this._observableSections.values())this._observer.observe(H)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(H){return H.target=ce(H.target)||document.body,H.rootMargin=H.offset?`${H.offset}px 0px -30%`:H.rootMargin,typeof H.threshold=="string"&&(H.threshold=H.threshold.split(",").map(me=>Number.parseFloat(me))),H}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Ft.off(this._config.target,bl),Ft.on(this._config.target,bl,pa,H=>{const me=this._observableSections.get(H.target.hash);if(me){H.preventDefault();const Ve=this._rootElement||window,Ht=me.offsetTop-this._element.offsetTop;if(Ve.scrollTo){Ve.scrollTo({top:Ht,behavior:"smooth"});return}Ve.scrollTop=Ht}}))}_getNewObserver(){const H={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(me=>this._observerCallback(me),H)}_observerCallback(H){const me=fn=>this._targetLinks.get(`#${fn.target.id}`),Ve=fn=>{this._previousScrollData.visibleEntryTop=fn.target.offsetTop,this._process(me(fn))},Ht=(this._rootElement||document.documentElement).scrollTop,Dn=Ht>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=Ht;for(const fn of H){if(!fn.isIntersecting){this._activeTarget=null,this._clearActiveClass(me(fn));continue}const Xo=fn.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(Dn&&Xo){if(Ve(fn),!Ht)return;continue}!Dn&&!Xo&&Ve(fn)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const H=Bt.find(pa,this._config.target);for(const me of H){if(!me.hash||ge(me))continue;const Ve=Bt.findOne(me.hash,this._element);ae(Ve)&&(this._targetLinks.set(me.hash,me),this._observableSections.set(me.hash,Ve))}}_process(H){this._activeTarget!==H&&(this._clearActiveClass(this._config.target),this._activeTarget=H,H.classList.add(Jd),this._activateParents(H),Ft.trigger(this._element,Dh,{relatedTarget:H}))}_activateParents(H){if(H.classList.contains(a1)){Bt.findOne(Bf,H.closest(Wa)).classList.add(Jd);return}for(const me of Bt.parents(H,Tv))for(const Ve of Bt.prev(me,l1))Ve.classList.add(Jd)}_clearActiveClass(H){H.classList.remove(Jd);const me=Bt.find(`${pa}.${Jd}`,H);for(const Ve of me)Ve.classList.remove(Jd)}static jQueryInterface(H){return this.each(function(){const me=$f.getOrCreateInstance(this,H);if(typeof H=="string"){if(me[H]===void 0||H.startsWith("_")||H==="constructor")throw new TypeError(`No method named "${H}"`);me[H]()}})}}Ft.on(window,Us,()=>{for(const $e of Bt.find(c1))$f.getOrCreateInstance($e)}),_t($f);const Cv="tab",Jr=".bs.tab",qp=`hide${Jr}`,ci=`hidden${Jr}`,ga=`show${Jr}`,Ln=`shown${Jr}`,on=`click${Jr}`,Nm=`keydown${Jr}`,yl=`load${Jr}`,_l="ArrowLeft",jp="ArrowRight",El="ArrowUp",sl="ArrowDown",zu="active",Nr="fade",bd="show",Nh="dropdown",Ut=".dropdown-toggle",o0=".dropdown-menu",Mm=":not(.dropdown-toggle)",Ga='.list-group, .nav, [role="tablist"]',yd=".nav-item, .list-group-item",ef=`.nav-link${Mm}, .list-group-item${Mm}, [role="tab"]${Mm}`,mr='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Zp=`${ef}, ${mr}`,ns=`.${zu}[data-bs-toggle="tab"], .${zu}[data-bs-toggle="pill"], .${zu}[data-bs-toggle="list"]`;class Lo extends vi{constructor(H){super(H),this._parent=this._element.closest(Ga),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Ft.on(this._element,Nm,me=>this._keydown(me)))}static get NAME(){return Cv}show(){const H=this._element;if(this._elemIsActive(H))return;const me=this._getActiveElem(),Ve=me?Ft.trigger(me,qp,{relatedTarget:H}):null;Ft.trigger(H,ga,{relatedTarget:me}).defaultPrevented||Ve&&Ve.defaultPrevented||(this._deactivate(me,H),this._activate(H,me))}_activate(H,me){if(!H)return;H.classList.add(zu),this._activate(Bt.getElementFromSelector(H));const Ve=()=>{if(H.getAttribute("role")!=="tab"){H.classList.add(bd);return}H.removeAttribute("tabindex"),H.setAttribute("aria-selected",!0),this._toggleDropDown(H,!0),Ft.trigger(H,Ln,{relatedTarget:me})};this._queueCallback(Ve,H,H.classList.contains(Nr))}_deactivate(H,me){if(!H)return;H.classList.remove(zu),H.blur(),this._deactivate(Bt.getElementFromSelector(H));const Ve=()=>{if(H.getAttribute("role")!=="tab"){H.classList.remove(bd);return}H.setAttribute("aria-selected",!1),H.setAttribute("tabindex","-1"),this._toggleDropDown(H,!1),Ft.trigger(H,ci,{relatedTarget:me})};this._queueCallback(Ve,H,H.classList.contains(Nr))}_keydown(H){if(![_l,jp,El,sl].includes(H.key))return;H.stopPropagation(),H.preventDefault();const me=[jp,sl].includes(H.key),Ve=pn(this._getChildren().filter(Ht=>!ge(Ht)),H.target,me,!0);Ve&&(Ve.focus({preventScroll:!0}),Lo.getOrCreateInstance(Ve).show())}_getChildren(){return Bt.find(Zp,this._parent)}_getActiveElem(){return this._getChildren().find(H=>this._elemIsActive(H))||null}_setInitialAttributes(H,me){this._setAttributeIfNotExists(H,"role","tablist");for(const Ve of me)this._setInitialAttributesOnChild(Ve)}_setInitialAttributesOnChild(H){H=this._getInnerElement(H);const me=this._elemIsActive(H),Ve=this._getOuterElement(H);H.setAttribute("aria-selected",me),Ve!==H&&this._setAttributeIfNotExists(Ve,"role","presentation"),me||H.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(H,"role","tab"),this._setInitialAttributesOnTargetPanel(H)}_setInitialAttributesOnTargetPanel(H){const me=Bt.getElementFromSelector(H);me&&(this._setAttributeIfNotExists(me,"role","tabpanel"),H.id&&this._setAttributeIfNotExists(me,"aria-labelledby",`${H.id}`))}_toggleDropDown(H,me){const Ve=this._getOuterElement(H);if(!Ve.classList.contains(Nh))return;const Ht=(Dn,fn)=>{const Xo=Bt.findOne(Dn,Ve);Xo&&Xo.classList.toggle(fn,me)};Ht(Ut,zu),Ht(o0,bd),Ve.setAttribute("aria-expanded",me)}_setAttributeIfNotExists(H,me,Ve){H.hasAttribute(me)||H.setAttribute(me,Ve)}_elemIsActive(H){return H.classList.contains(zu)}_getInnerElement(H){return H.matches(Zp)?H:Bt.findOne(Zp,H)}_getOuterElement(H){return H.closest(yd)||H}static jQueryInterface(H){return this.each(function(){const me=Lo.getOrCreateInstance(this);if(typeof H=="string"){if(me[H]===void 0||H.startsWith("_")||H==="constructor")throw new TypeError(`No method named "${H}"`);me[H]()}})}}Ft.on(document,on,mr,function($e){["A","AREA"].includes(this.tagName)&&$e.preventDefault(),!ge(this)&&Lo.getOrCreateInstance(this).show()}),Ft.on(window,yl,()=>{for(const $e of Bt.find(ns))Lo.getOrCreateInstance($e)}),_t(Lo);const ei="toast",sr=".bs.toast",tf=`mouseover${sr}`,Zr=`mouseout${sr}`,_s=`focusin${sr}`,Gl=`focusout${sr}`,At=`hide${sr}`,wl=`hidden${sr}`,Ff=`show${sr}`,Gr=`shown${sr}`,ql="fade",qa="hide",ac="show",km="showing",cc={animation:"boolean",autohide:"boolean",delay:"number"},Yp={animation:!0,autohide:!0,delay:5e3};class Fi extends vi{constructor(H,me){super(H,me),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Yp}static get DefaultType(){return cc}static get NAME(){return ei}show(){if(Ft.trigger(this._element,Ff).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(ql);const me=()=>{this._element.classList.remove(km),Ft.trigger(this._element,Gr),this._maybeScheduleHide()};this._element.classList.remove(qa),qe(this._element),this._element.classList.add(ac,km),this._queueCallback(me,this._element,this._config.animation)}hide(){if(!this.isShown()||Ft.trigger(this._element,At).defaultPrevented)return;const me=()=>{this._element.classList.add(qa),this._element.classList.remove(km,ac),Ft.trigger(this._element,wl)};this._element.classList.add(km),this._queueCallback(me,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ac),super.dispose()}isShown(){return this._element.classList.contains(ac)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(H,me){switch(H.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=me;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=me;break}}if(me){this._clearTimeout();return}const Ve=H.relatedTarget;this._element===Ve||this._element.contains(Ve)||this._maybeScheduleHide()}_setListeners(){Ft.on(this._element,tf,H=>this._onInteraction(H,!0)),Ft.on(this._element,Zr,H=>this._onInteraction(H,!1)),Ft.on(this._element,_s,H=>this._onInteraction(H,!0)),Ft.on(this._element,Gl,H=>this._onInteraction(H,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(H){return this.each(function(){const me=Fi.getOrCreateInstance(this,H);if(typeof H=="string"){if(typeof me[H]>"u")throw new TypeError(`No method named "${H}"`);me[H](this)}})}}return Br(Fi),_t(Fi),{Alert:Rs,Button:$r,Carousel:ri,Collapse:Mu,Dropdown:qs,Modal:pd,Offcanvas:no,Popover:Fu,ScrollSpy:$f,Tab:Lo,Toast:Fi,Tooltip:Wl}})})(toe);const Uoe=xZ;tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const a=Object.getPrototypeOf,c=(t,s,i)=>{var u;return i(t,s.prototype)?!0:((u=t.constructor)===null||u===void 0?void 0:u.name)===s.name},f=t=>{const s=typeof t;return t===null?"null":s==="object"&&Array.isArray(t)?"array":s==="object"&&c(t,String,(i,u)=>u.isPrototypeOf(i))?"string":s},y=t=>s=>f(s)===t,C=t=>s=>typeof s===t,w=t=>s=>t===s,S=(t,s)=>k(t)&&c(t,s,(i,u)=>a(i)===u),D=y("string"),k=y("object"),G=t=>S(t,Object),q=y("array"),X=w(null),fe=C("boolean"),re=w(void 0),he=t=>t==null,ue=t=>!he(t),ce=C("function"),ae=C("number"),ge=(t,s)=>{if(q(t)){for(let i=0,u=t.length;i<u;++i)if(!s(t[i]))return!1;return!0}return!1},Q=()=>{},Ne=t=>()=>t(),qe=(t,s)=>(...i)=>t(s.apply(null,i)),z=(t,s)=>i=>t(s(i)),we=t=>()=>t,je=t=>t,dt=(t,s)=>t===s;function _t(t,...s){return(...i)=>{const u=s.concat(i);return t.apply(null,u)}}const Pe=t=>s=>!t(s),Ee=t=>()=>{throw new Error(t)},pn=t=>t(),Tt=we(!1),Rt=we(!0);class B{constructor(s,i){this.tag=s,this.value=i}static some(s){return new B(!0,s)}static none(){return B.singletonNone}fold(s,i){return this.tag?i(this.value):s()}isSome(){return this.tag}isNone(){return!this.tag}map(s){return this.tag?B.some(s(this.value)):B.none()}bind(s){return this.tag?s(this.value):B.none()}exists(s){return this.tag&&s(this.value)}forall(s){return!this.tag||s(this.value)}filter(s){return!this.tag||s(this.value)?this:B.none()}getOr(s){return this.tag?this.value:s}or(s){return this.tag?this:s}getOrThunk(s){return this.tag?this.value:s()}orThunk(s){return this.tag?this:s()}getOrDie(s){if(this.tag)return this.value;throw new Error(s??"Called getOrDie on None")}static from(s){return ue(s)?B.some(s):B.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(s){this.tag&&s(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}B.singletonNone=new B(!1);const It=Array.prototype.slice,nt=Array.prototype.indexOf,jt=Array.prototype.push,zt=(t,s)=>nt.call(t,s),Ze=(t,s)=>{const i=zt(t,s);return i===-1?B.none():B.some(i)},bo=(t,s)=>zt(t,s)>-1,Fo=(t,s)=>{for(let i=0,u=t.length;i<u;i++){const m=t[i];if(s(m,i))return!0}return!1},co=(t,s)=>{const i=[];for(let u=0;u<t;u++)i.push(s(u));return i},Ho=(t,s)=>{const i=[];for(let u=0;u<t.length;u+=s){const m=It.call(t,u,u+s);i.push(m)}return i},tt=(t,s)=>{const i=t.length,u=new Array(i);for(let m=0;m<i;m++){const b=t[m];u[m]=s(b,m)}return u},Dt=(t,s)=>{for(let i=0,u=t.length;i<u;i++){const m=t[i];s(m,i)}},se=(t,s)=>{for(let i=t.length-1;i>=0;i--){const u=t[i];s(u,i)}},ls=(t,s)=>{const i=[],u=[];for(let m=0,b=t.length;m<b;m++){const T=t[m];(s(T,m)?i:u).push(T)}return{pass:i,fail:u}},fo=(t,s)=>{const i=[];for(let u=0,m=t.length;u<m;u++){const b=t[u];s(b,u)&&i.push(b)}return i},Ft=(t,s,i)=>(se(t,(u,m)=>{i=s(i,u,m)}),i),vs=(t,s,i)=>(Dt(t,(u,m)=>{i=s(i,u,m)}),i),Qa=(t,s,i)=>{for(let u=0,m=t.length;u<m;u++){const b=t[u];if(s(b,u))return B.some(b);if(i(b,u))break}return B.none()},Pn=(t,s)=>Qa(t,s,Tt),Po=(t,s)=>{for(let i=0,u=t.length;i<u;i++){const m=t[i];if(s(m,i))return B.some(i)}return B.none()},Kt=t=>{const s=[];for(let i=0,u=t.length;i<u;++i){if(!q(t[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+t);jt.apply(s,t[i])}return s},pt=(t,s)=>Kt(tt(t,s)),vi=(t,s)=>{for(let i=0,u=t.length;i<u;++i){const m=t[i];if(s(m,i)!==!0)return!1}return!0},bi=t=>{const s=It.call(t,0);return s.reverse(),s},Bt=(t,s)=>fo(t,i=>!bo(s,i)),Br=(t,s)=>{const i={};for(let u=0,m=t.length;u<m;u++){const b=t[u];i[String(b)]=s(b,u)}return i},Ms=t=>[t],Lc=(t,s)=>{const i=It.call(t,0);return i.sort(s),i},bs=(t,s)=>s>=0&&s<t.length?B.some(t[s]):B.none(),Ir=t=>bs(t,0),Zc=t=>bs(t,t.length-1),Sa=ce(Array.from)?Array.from:t=>It.call(t),or=(t,s)=>{for(let i=0;i<t.length;i++){const u=s(t[i],i);if(u.isSome())return u}return B.none()},Rs=Object.keys,id=Object.hasOwnProperty,Kr=(t,s)=>{const i=Rs(t);for(let u=0,m=i.length;u<m;u++){const b=i[u],T=t[b];s(T,b)}},ks=(t,s)=>hl(t,(i,u)=>({k:u,v:s(i,u)})),hl=(t,s)=>{const i={};return Kr(t,(u,m)=>{const b=s(u,m);i[b.k]=b.v}),i},Di=t=>(s,i)=>{t[i]=s},Yc=(t,s,i,u)=>{Kr(t,(m,b)=>{(s(m,b)?i:u)(m,b)})},br=(t,s)=>{const i={},u={};return Yc(t,s,Di(i),Di(u)),{t:i,f:u}},$r=(t,s)=>{const i={};return Yc(t,s,Di(i),Q),i},qd=(t,s)=>{const i=[];return Kr(t,(u,m)=>{i.push(s(u,m))}),i},yi=(t,s)=>{const i=Rs(t);for(let u=0,m=i.length;u<m;u++){const b=i[u],T=t[b];if(s(T,b,t))return B.some(T)}return B.none()},_h=t=>qd(t,je),cn=(t,s)=>Vo(t,s)?B.from(t[s]):B.none(),Vo=(t,s)=>id.call(t,s),la=(t,s)=>Vo(t,s)&&t[s]!==void 0&&t[s]!==null,vc=(t,s,i=dt)=>t.exists(u=>i(u,s)),Eh=(t,s,i=dt)=>ad(t,s,i).getOr(t.isNone()&&s.isNone()),cu=t=>{const s=[],i=u=>{s.push(u)};for(let u=0;u<t.length;u++)t[u].each(i);return s},Ps=t=>{const s=[];for(let i=0;i<t.length;i++){const u=t[i];if(u.isSome())s.push(u.getOrDie());else return B.none()}return B.some(s)},ad=(t,s,i)=>t.isSome()&&s.isSome()?B.some(i(t.getOrDie(),s.getOrDie())):B.none(),jd=(t,s,i,u)=>t.isSome()&&s.isSome()&&i.isSome()?B.some(u(t.getOrDie(),s.getOrDie(),i.getOrDie())):B.none(),Qs=(t,s)=>t!=null?B.some(s(t)):B.none(),jn=(t,s)=>t?B.some(s):B.none(),Ja=(t,s)=>t+s,Iu=(t,s)=>t.substring(s),Kc=(t,s,i)=>s===""||t.length>=s.length&&t.substr(i,i+s.length)===s,wh=(t,s)=>Ur(t,s)?Iu(t,s.length):t,Ni=(t,s)=>Ha(t,s)?t:Ja(t,s),Xi=(t,s,i=0,u)=>{const m=t.indexOf(s,i);return m!==-1?re(u)?!0:m+s.length<=u:!1},Ur=(t,s)=>Kc(t,s,0),Ha=(t,s)=>Kc(t,s,t.length-s.length),bc=(t=>s=>s.replace(t,""))(/^\s+|\s+$/g),xa=t=>t.length>0,Fr=t=>!xa(t),yc=t=>t.style!==void 0&&ce(t.style.getPropertyValue),ml=(t,s)=>{const u=(s||document).createElement("div");if(u.innerHTML=t,!u.hasChildNodes()||u.childNodes.length>1){const m="HTML does not have a single root node";throw console.error(m,t),new Error(m)}return Bl(u.childNodes[0])},Fp=(t,s)=>{const u=(s||document).createElement(t);return Bl(u)},Hp=(t,s)=>{const u=(s||document).createTextNode(t);return Bl(u)},Bl=t=>{if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},Je={fromHtml:ml,fromTag:Fp,fromText:Hp,fromDom:Bl,fromPoint:(t,s,i)=>B.from(t.dom.elementFromPoint(s,i)).map(Bl)},_i=typeof window<"u"?window:Function("return this;")(),lu=(t,s)=>{let i=s??_i;for(let u=0;u<t.length&&i!==void 0&&i!==null;++u)i=i[t[u]];return i},Vp=(t,s)=>{const i=t.split(".");return lu(i,s)},Th=(t,s)=>Vp(t,s),Hs=(t,s)=>{const i=Th(t,s);if(i==null)throw new Error(t+" not available on this browser");return i},Zd=Object.getPrototypeOf,Sm=t=>Hs("HTMLElement",t),Qi=t=>{const s=Vp("ownerDocument.defaultView",t);return k(t)&&(Sm(s).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(Zd(t).constructor.name))},Qc=9,si=11,Ei=1,uu=3,ec=t=>t.dom.nodeName.toLowerCase(),du=t=>t.dom.nodeType,$l=t=>s=>du(s)===t,cd=t=>Ss(t)&&Qi(t.dom),Ss=$l(Ei),ri=$l(uu),Jc=$l(Qc),ld=$l(si),Aa=t=>s=>Ss(s)&&ec(s)===t,_c=(t,s)=>{const i=t.dom;if(i.nodeType!==Ei)return!1;{const u=i;if(u.matches!==void 0)return u.matches(s);if(u.msMatchesSelector!==void 0)return u.msMatchesSelector(s);if(u.webkitMatchesSelector!==void 0)return u.webkitMatchesSelector(s);if(u.mozMatchesSelector!==void 0)return u.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")}},yr=t=>t.nodeType!==Ei&&t.nodeType!==Qc&&t.nodeType!==si||t.childElementCount===0,ud=(t,s)=>{const i=s===void 0?document:s.dom;return yr(i)?[]:tt(i.querySelectorAll(t),Je.fromDom)},fu=(t,s)=>{const i=s===void 0?document:s.dom;return yr(i)?B.none():B.from(i.querySelector(t)).map(Je.fromDom)},ys=(t,s)=>t.dom===s.dom,tc=(t,s)=>{const i=t.dom,u=s.dom;return i===u?!1:i.contains(u)},ii=t=>Je.fromDom(t.dom.ownerDocument),Hr=t=>Jc(t)?t:ii(t),el=t=>Je.fromDom(Hr(t).dom.documentElement),Du=t=>Je.fromDom(Hr(t).dom.defaultView),Ec=t=>B.from(t.dom.parentNode).map(Je.fromDom),Bc=t=>B.from(t.dom.parentElement).map(Je.fromDom),Nf=(t,s)=>{const i=ce(s)?s:Tt;let u=t.dom;const m=[];for(;u.parentNode!==null&&u.parentNode!==void 0;){const b=u.parentNode,T=Je.fromDom(b);if(m.push(T),i(T)===!0)break;u=b}return m},Ch=t=>B.from(t.dom.offsetParent).map(Je.fromDom),zp=t=>B.from(t.dom.nextSibling).map(Je.fromDom),nc=t=>tt(t.dom.childNodes,Je.fromDom),Nu=(t,s)=>{const i=t.dom.childNodes;return B.from(i[s]).map(Je.fromDom)},Sh=t=>Nu(t,0),Mu=(t,s)=>({element:t,offset:s}),Mf=(t,s)=>{const i=nc(t);return i.length>0&&s<i.length?Mu(i[s],0):Mu(t,s)},xm=t=>ld(t)&&ue(t.dom.host),ku=ce(Element.prototype.attachShadow)&&ce(Node.prototype.getRootNode),Pu=we(ku),Oa=ku?t=>Je.fromDom(t.dom.getRootNode()):Hr,Mi=t=>xm(t)?t:Je.fromDom(Hr(t).dom.body),Lu=t=>kf(t).isSome(),kf=t=>{const s=Oa(t);return xm(s)?B.some(s):B.none()},Up=t=>Je.fromDom(t.dom.host),Vs=t=>{if(Pu()&&ue(t.target)){const s=Je.fromDom(t.target);if(Ss(s)&&_r(s)&&t.composed&&t.composedPath){const i=t.composedPath();if(i)return Ir(i)}}return B.from(t.target)},_r=t=>ue(t.dom.shadowRoot),oc=t=>{const s=ri(t)?t.dom.parentNode:t.dom;if(s==null||s.ownerDocument===null)return!1;const i=s.ownerDocument;return kf(Je.fromDom(s)).fold(()=>i.body.contains(s),z(oc,Up))},Ji=()=>pl(Je.fromDom(document)),pl=t=>{const s=t.dom.body;if(s==null)throw new Error("Body is not available yet");return Je.fromDom(s)},$c=(t,s,i)=>{if(D(i)||fe(i)||ae(i))t.setAttribute(s,i+"");else throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",i,":: Element ",t),new Error("Attribute value was not simple")},lo=(t,s,i)=>{$c(t.dom,s,i)},No=(t,s)=>{const i=t.dom;Kr(s,(u,m)=>{$c(i,m,u)})},ki=(t,s)=>{const i=t.dom.getAttribute(s);return i===null?void 0:i},Xr=(t,s)=>B.from(ki(t,s)),ua=(t,s)=>{const i=t.dom;return i&&i.hasAttribute?i.hasAttribute(s):!1},x=(t,s)=>{t.dom.removeAttribute(s)},M=t=>vs(t.dom.attributes,(s,i)=>(s[i.name]=i.value,s),{}),U=(t,s,i)=>{if(!D(i))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",i,":: Element ",t),new Error("CSS value must be a string: "+i);yc(t)&&t.style.setProperty(s,i)},j=(t,s)=>{yc(t)&&t.style.removeProperty(s)},te=(t,s,i)=>{const u=t.dom;U(u,s,i)},de=(t,s)=>{const i=t.dom;Kr(s,(u,m)=>{U(i,m,u)})},_e=(t,s)=>{const i=t.dom;Kr(s,(u,m)=>{u.fold(()=>{j(i,m)},b=>{U(i,m,b)})})},Te=(t,s)=>{const i=t.dom,m=window.getComputedStyle(i).getPropertyValue(s);return m===""&&!oc(t)?Le(i,s):m},Le=(t,s)=>yc(t)?t.style.getPropertyValue(s):"",it=(t,s)=>{const i=t.dom,u=Le(i,s);return B.from(u).filter(m=>m.length>0)},Et=t=>{const s={},i=t.dom;if(yc(i))for(let u=0;u<i.style.length;u++){const m=i.style.item(u);s[m]=i.style[m]}return s},Xt=(t,s,i)=>{const u=Je.fromTag(t);return te(u,s,i),it(u,s).isSome()},rt=(t,s)=>{const i=t.dom;j(i,s),vc(Xr(t,"style").map(bc),"")&&x(t,"style")},Mt=t=>t.dom.offsetWidth,eo=(t,s)=>{const i=(I,P)=>{if(!ae(P)&&!P.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+P);const V=I.dom;yc(V)&&(V.style[t]=P+"px")},u=I=>{const P=s(I);if(P<=0||P===null){const V=Te(I,t);return parseFloat(V)||0}return P},m=u,b=(I,P)=>vs(P,(V,Z)=>{const ee=Te(I,Z),oe=ee===void 0?0:parseInt(ee,10);return isNaN(oe)?V:V+oe},0);return{set:i,get:u,getOuter:m,aggregate:b,max:(I,P,V)=>{const Z=b(I,V);return P>Z?P-Z:0}}},Yn=eo("height",t=>{const s=t.dom;return oc(t)?s.getBoundingClientRect().height:s.offsetHeight}),Cn=t=>Yn.get(t),ur=t=>Yn.getOuter(t),qs=(t,s)=>{const i=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],u=Yn.max(t,s,i);te(t,"max-height",u+"px")},us=(t,s)=>({left:t,top:s,translate:(u,m)=>us(t+u,s+m)}),Xn=us,to=t=>{const s=t.getBoundingClientRect();return Xn(s.left,s.top)},Pi=(t,s)=>t!==void 0?t:s!==void 0?s:0,Oo=t=>{const s=t.dom.ownerDocument,i=s.body,u=s.defaultView,m=s.documentElement;if(i===t.dom)return Xn(i.offsetLeft,i.offsetTop);const b=Pi(u==null?void 0:u.pageYOffset,m.scrollTop),T=Pi(u==null?void 0:u.pageXOffset,m.scrollLeft),I=Pi(m.clientTop,i.clientTop),P=Pi(m.clientLeft,i.clientLeft);return Er(t).translate(T-P,b-I)},Er=t=>{const s=t.dom,u=s.ownerDocument.body;return u===s?Xn(u.offsetLeft,u.offsetTop):oc(t)?to(s):Xn(0,0)},Fl=eo("width",t=>t.dom.offsetWidth),zs=(t,s)=>Fl.set(t,s),dr=t=>Fl.get(t),Dr=t=>Fl.getOuter(t),Fc=(t,s)=>{const i=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],u=Fl.max(t,s,i);te(t,"max-width",u+"px")},wi=t=>{let s=!1,i;return(...u)=>(s||(s=!0,i=t.apply(null,u)),i)},as=(t,s,i,u)=>{const m=t.isiOS()&&/ipad/i.test(i)===!0,b=t.isiOS()&&!m,T=t.isiOS()||t.isAndroid(),I=T||u("(pointer:coarse)"),P=m||!b&&T&&u("(min-device-width:768px)"),V=b||T&&!P,Z=s.isSafari()&&t.isiOS()&&/safari/i.test(i)===!1,ee=!V&&!P&&!Z;return{isiPad:we(m),isiPhone:we(b),isTablet:we(P),isPhone:we(V),isTouch:we(I),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:we(Z),isDesktop:we(ee)}},fr=(t,s)=>{for(let i=0;i<t.length;i++){const u=t[i];if(u.test(s))return u}},Ra=(t,s)=>{const i=fr(t,s);if(!i)return{major:0,minor:0};const u=m=>Number(s.replace(i,"$"+m));return wc(u(1),u(2))},Pf=(t,s)=>{const i=String(s).toLowerCase();return t.length===0?Hc():Ra(t,i)},Hc=()=>wc(0,0),wc=(t,s)=>({major:t,minor:s}),mo={nu:wc,detect:Pf,unknown:Hc},Wr=(t,s)=>or(s.brands,i=>{const u=i.brand.toLowerCase();return Pn(t,m=>{var b;return u===((b=m.brand)===null||b===void 0?void 0:b.toLowerCase())}).map(m=>({current:m.name,version:mo.nu(parseInt(i.version,10),0)}))}),Li=(t,s)=>{const i=String(s).toLowerCase();return Pn(t,u=>u.search(i))},sc=(t,s)=>Li(t,s).map(i=>{const u=mo.detect(i.versionRegexes,s);return{current:i.name,version:u}}),ea=(t,s)=>Li(t,s).map(i=>{const u=mo.detect(i.versionRegexes,s);return{current:i.name,version:u}}),hr=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Va=t=>s=>Xi(s,t),Ia=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:t=>Xi(t,"edge/")&&Xi(t,"chrome")&&Xi(t,"safari")&&Xi(t,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,hr],search:t=>Xi(t,"chrome")&&!Xi(t,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:t=>Xi(t,"msie")||Xi(t,"trident")},{name:"Opera",versionRegexes:[hr,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Va("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Va("firefox")},{name:"Safari",versionRegexes:[hr,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:t=>(Xi(t,"safari")||Xi(t,"mobile/"))&&Xi(t,"applewebkit")}],dd=[{name:"Windows",search:Va("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:t=>Xi(t,"iphone")||Xi(t,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Va("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Va("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Va("linux"),versionRegexes:[]},{name:"Solaris",search:Va("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Va("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Va("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],xh={browsers:we(Ia),oses:we(dd)},Wp="Edge",Hl="Chromium",hu="IE",Yd="Opera",Ti="Firefox",fd="Safari",hd=()=>Bu({current:void 0,version:mo.unknown()}),Bu=t=>{const s=t.current,i=t.version,u=m=>()=>s===m;return{current:s,version:i,isEdge:u(Wp),isChromium:u(Hl),isIE:u(hu),isOpera:u(Yd),isFirefox:u(Ti),isSafari:u(fd)}},rc={unknown:hd,nu:Bu,edge:we(Wp),chromium:we(Hl),ie:we(hu),opera:we(Yd),firefox:we(Ti),safari:we(fd)},da="Windows",mu="iOS",md="Android",Ah="Linux",Oh="macOS",Ts="Solaris",Tc="FreeBSD",De="ChromeOS",ic=()=>fa({current:void 0,version:mo.unknown()}),fa=t=>{const s=t.current,i=t.version,u=m=>()=>s===m;return{current:s,version:i,isWindows:u(da),isiOS:u(mu),isAndroid:u(md),isMacOS:u(Oh),isLinux:u(Ah),isSolaris:u(Ts),isFreeBSD:u(Tc),isChromeOS:u(De)}},Rh={unknown:ic,nu:fa,windows:we(da),ios:we(mu),android:we(md),linux:we(Ah),macos:we(Oh),solaris:we(Ts),freebsd:we(Tc),chromeos:we(De)},s1={detect:(t,s,i)=>{const u=xh.browsers(),m=xh.oses(),b=s.bind(P=>Wr(u,P)).orThunk(()=>sc(u,t)).fold(rc.unknown,rc.nu),T=ea(m,t).fold(Rh.unknown,Rh.nu),I=as(T,b,t,i);return{browser:b,os:T,deviceType:I}}},os=t=>window.matchMedia(t).matches;let et=wi(()=>s1.detect(navigator.userAgent,B.from(navigator.userAgentData),os));const kt=()=>et(),Ot=(t,s,i,u,m,b,T)=>({target:t,x:s,y:i,stop:u,prevent:m,kill:b,raw:T}),Un=t=>{const s=Je.fromDom(Vs(t).getOr(t.target)),i=()=>t.stopPropagation(),u=()=>t.preventDefault(),m=qe(u,i);return Ot(s,t.clientX,t.clientY,i,u,m,t)},Eo=(t,s)=>i=>{t(i)&&s(Un(i))},zo=(t,s,i,u,m)=>{const b=Eo(i,u);return t.dom.addEventListener(s,b,m),{unbind:_t(gd,t,s,b,m)}},Qr=(t,s,i,u)=>zo(t,s,i,u,!1),js=(t,s,i,u)=>zo(t,s,i,u,!0),gd=(t,s,i,u)=>{t.dom.removeEventListener(s,i,u)},Cc=(t,s)=>{Ec(t).each(u=>{u.dom.insertBefore(s.dom,t.dom)})},Da=(t,s)=>{zp(t).fold(()=>{Ec(t).each(m=>{Be(m,s)})},u=>{Cc(u,s)})},xe=(t,s)=>{Sh(t).fold(()=>{Be(t,s)},u=>{t.dom.insertBefore(s.dom,u.dom)})},Be=(t,s)=>{t.dom.appendChild(s.dom)},We=(t,s,i)=>{Nu(t,i).fold(()=>{Be(t,s)},u=>{Cc(u,s)})},Vt=(t,s)=>{Dt(s,i=>{Be(t,i)})},ut=t=>{t.dom.textContent="",Dt(nc(t),s=>{St(s)})},St=t=>{const s=t.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},Qt=t=>{const s=t!==void 0?t.dom:document,i=s.body.scrollLeft||s.documentElement.scrollLeft,u=s.body.scrollTop||s.documentElement.scrollTop;return Xn(i,u)},An=(t,s,i)=>{const m=(i!==void 0?i.dom:document).defaultView;m&&m.scrollTo(t,s)},Mn=t=>{const s=t===void 0?window:t;return kt().browser.isFirefox()?B.none():B.from(s.visualViewport)},no=(t,s,i,u)=>({x:t,y:s,width:i,height:u,right:t+i,bottom:s+u}),yo=t=>{const s=t===void 0?window:t,i=s.document,u=Qt(Je.fromDom(i));return Mn(s).fold(()=>{const m=s.document.documentElement,b=m.clientWidth,T=m.clientHeight;return no(u.left,u.top,b,T)},m=>no(Math.max(m.pageLeft,u.left),Math.max(m.pageTop,u.top),m.width,m.height))},ro=()=>Je.fromDom(document),Yo=(t,s)=>t.view(s).fold(we([]),u=>{const m=t.owner(u),b=Yo(t,m);return[u].concat(b)}),Is=(t,s)=>{const i=s.owner(t),u=Yo(s,i);return B.some(u)};var $i=Object.freeze({__proto__:null,view:t=>{var s;return(t.dom===document?B.none():B.from((s=t.dom.defaultView)===null||s===void 0?void 0:s.frameElement)).map(Je.fromDom)},owner:t=>ii(t)});const za=t=>{const s=ro(),i=Qt(s);return Is(t,$i).fold(_t(Oo,t),m=>{const b=Er(t),T=Ft(m,(I,P)=>{const V=Er(P);return{left:I.left+V.left,top:I.top+V.top}},{left:0,top:0});return Xn(T.left+b.left+i.left,T.top+b.top+i.top)})},Js=(t,s,i)=>({point:t,width:s,height:i}),Vl=(t,s,i,u)=>({x:t,y:s,width:i,height:u}),Ls=(t,s,i,u)=>({x:t,y:s,width:i,height:u,right:t+i,bottom:s+u}),ts=t=>{const s=Oo(t),i=Dr(t),u=ur(t);return Ls(s.left,s.top,i,u)},gl=t=>{const s=za(t),i=Dr(t),u=ur(t);return Ls(s.left,s.top,i,u)},Am=(t,s)=>{const i=Math.max(t.x,s.x),u=Math.max(t.y,s.y),m=Math.min(t.right,s.right),b=Math.min(t.bottom,s.bottom),T=m-i,I=b-u;return Ls(i,u,T,I)},r1=(t,s)=>vs(s,(i,u)=>Am(i,u),t),Na=()=>yo(window);var Kd=tinymce.util.Tools.resolve("tinymce.ThemeManager");const zl=t=>{const s=b=>b(t),i=we(t),u=()=>m,m={tag:!0,inner:t,fold:(b,T)=>T(t),isValue:Rt,isError:Tt,map:b=>io.value(b(t)),mapError:u,bind:s,exists:s,forall:s,getOr:i,or:u,getOrThunk:i,orThunk:u,getOrDie:i,each:b=>{b(t)},toOptional:()=>B.some(t)};return m},tl=t=>{const s=()=>i,i={tag:!1,inner:t,fold:(u,m)=>u(t),isValue:Tt,isError:Rt,map:s,mapError:u=>io.error(u(t)),bind:s,exists:Tt,forall:Rt,getOr:je,or:je,getOrThunk:pn,orThunk:pn,getOrDie:Ee(String(t)),each:Q,toOptional:B.none};return i},io={value:zl,error:tl,fromOption:(t,s)=>t.fold(()=>tl(s),zl)};var ha;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(ha||(ha={}));const Ih=(t,s,i)=>t.stype===ha.Error?s(t.serror):i(t.svalue),wv=t=>{const s=[],i=[];return Dt(t,u=>{Ih(u,m=>i.push(m),m=>s.push(m))}),{values:s,errors:i}},ai=(t,s)=>t.stype===ha.Error?{stype:ha.Error,serror:s(t.serror)}:t,ma=(t,s)=>t.stype===ha.Value?{stype:ha.Value,svalue:s(t.svalue)}:t,$u=(t,s)=>t.stype===ha.Value?s(t.svalue):t,vl=(t,s)=>t.stype===ha.Error?s(t.serror):t,Ma=t=>({stype:ha.Value,svalue:t}),nl=t=>({stype:ha.Error,serror:t}),ds={fromResult:t=>t.fold(nl,Ma),toResult:t=>Ih(t,io.error,io.value),svalue:Ma,partition:wv,serror:nl,bind:$u,bindError:vl,map:ma,mapError:ai,fold:Ih},ol=(t,s,i,u)=>({tag:"field",key:t,newKey:s,presence:i,prop:u}),Ul=(t,s)=>({tag:"custom",newKey:t,instantiator:s}),wr=(t,s,i)=>{switch(t.tag){case"field":return s(t.key,t.newKey,t.presence,t.prop);case"custom":return i(t.newKey,t.instantiator)}},Rm=(t,s)=>s,Wl=(t,s)=>G(t)&&G(s)?er(t,s):s,vd=t=>(...s)=>{if(s.length===0)throw new Error("Can't merge zero objects");const i={};for(let u=0;u<s.length;u++){const m=s[u];for(const b in m)Vo(m,b)&&(i[b]=t(i[b],m[b]))}return i},er=vd(Wl),Tr=vd(Rm),Ua=()=>({tag:"required",process:{}}),i1=t=>({tag:"defaultedThunk",process:t}),Fu=t=>i1(we(t)),Lf=()=>({tag:"option",process:{}}),Im=t=>({tag:"mergeWithThunk",process:t}),be=t=>Im(we(t)),Qd=(t,s)=>t.length>0?ds.svalue(er(s,Tr.apply(void 0,t))):ds.svalue(s),Dh=t=>qe(ds.serror,Kt)(t),a1={consolidateObj:(t,s)=>{const i=ds.partition(t);return i.errors.length>0?Dh(i.errors):Qd(i.values,s)},consolidateArr:t=>{const s=ds.partition(t);return s.errors.length>0?Dh(s.errors):ds.svalue(s.values)}},Jd=t=>k(t)&&Rs(t).length>100?" removed due to size":JSON.stringify(t,null,2),c1=t=>{const s=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:we("... (only showing first ten failures)")}]):t;return tt(s,i=>"Failed path: ("+i.path.join(" > ")+`)
`+i.getErrorInfo())},pa=(t,s)=>ds.serror([{path:t,getErrorInfo:s}]),Tv=(t,s,i)=>pa(t,()=>'Could not find valid *required* value for "'+s+'" in '+Jd(i)),Dm=(t,s)=>pa(t,()=>'Choice schema did not contain choice key: "'+s+'"'),t0=(t,s,i)=>pa(t,()=>'The chosen schema: "'+i+'" did not exist in branches: '+Jd(s)),Hu=(t,s)=>pa(t,()=>"There are unsupported fields: ["+s.join(", ")+"] specified"),l1=(t,s)=>pa(t,we(s)),Wa=t=>{const s=(u,m)=>ds.bindError(t(m),b=>l1(u,b)),i=we("val");return{extract:s,toString:i}},Bf=Wa(ds.svalue),n0=(t,s,i,u)=>cn(s,i).fold(()=>Tv(t,i,s),u),Gp=(t,s,i,u)=>{const m=cn(t,s).getOrThunk(()=>i(t));return u(m)},$f=(t,s,i)=>i(cn(t,s)),Cv=(t,s,i,u)=>{const m=cn(t,s).map(b=>b===!0?i(t):b);return u(m)},Vu=(t,s,i,u,m)=>{const b=I=>m.extract(s.concat([u]),I),T=I=>I.fold(()=>ds.svalue(B.none()),P=>{const V=m.extract(s.concat([u]),P);return ds.map(V,B.some)});switch(t.tag){case"required":return n0(s,i,u,b);case"defaultedThunk":return Gp(i,u,t.process,b);case"option":return $f(i,u,T);case"defaultedOptionThunk":return Cv(i,u,t.process,T);case"mergeWithThunk":return Gp(i,u,we({}),I=>{const P=er(t.process(i),I);return b(P)})}},Jr=(t,s,i)=>{const u={},m=[];for(const b of i)wr(b,(T,I,P,V)=>{const Z=Vu(P,t,s,T,V);ds.fold(Z,ee=>{m.push(...ee)},ee=>{u[I]=ee})},(T,I)=>{u[T]=I(s)});return m.length>0?ds.serror(m):ds.svalue(u)},qp=t=>({extract:(u,m)=>t().extract(u,m),toString:()=>t().toString()}),ci=t=>Rs($r(t,ue)),ga=t=>{const s=Ln(t),i=Ft(t,(m,b)=>wr(b,T=>er(m,{[T]:!0}),we(m)),{});return{extract:(m,b)=>{const T=fe(b)?[]:ci(b),I=fo(T,P=>!la(i,P));return I.length===0?s.extract(m,b):Hu(m,I)},toString:s.toString}},Ln=t=>({extract:(u,m)=>Jr(u,m,t),toString:()=>`obj{
`+tt(t,m=>wr(m,(b,T,I,P)=>b+" -> "+P.toString(),(b,T)=>"state("+b+")")).join(`
`)+"}"}),on=t=>({extract:(u,m)=>{const b=tt(m,(T,I)=>t.extract(u.concat(["["+I+"]"]),T));return a1.consolidateArr(b)},toString:()=>"array("+t.toString()+")"}),Nm=(t,s)=>{const i=s!==void 0?s:je;return{extract:(b,T)=>{const I=[];for(const P of t){const V=P.extract(b,T);if(V.stype===ha.Value)return{stype:ha.Value,svalue:i(V.svalue)};I.push(V)}return a1.consolidateArr(I)},toString:()=>"oneOf("+tt(t,b=>b.toString()).join(", ")+")"}},yl=(t,s)=>{const i=(b,T)=>on(Wa(t)).extract(b,T);return{extract:(b,T)=>{const I=Rs(T),P=i(b,I);return ds.bind(P,V=>{const Z=tt(V,ee=>ol(ee,ee,Ua(),s));return Ln(Z).extract(b,T)})},toString:()=>"setOf("+s.toString()+")"}},_l=(t,s)=>{const i=wi(s);return{extract:(b,T)=>i().extract(b,T),toString:()=>i().toString()}},jp=qe(on,Ln),El=we(Bf),sl=(t,s)=>Wa(i=>{const u=typeof i;return t(i)?ds.svalue(i):ds.serror(`Expected type: ${s} but got: ${u}`)}),zu=sl(ae,"number"),Nr=sl(D,"string"),bd=sl(fe,"boolean"),Nh=sl(ce,"function"),Ut=t=>{if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(s=>Ut(t[s]));default:return!1}},o0=Wa(t=>Ut(t)?ds.svalue(t):ds.serror("Expected value to be acceptable for sending via postMessage")),Mm=(t,s,i,u)=>cn(i,u).fold(()=>t0(t,i,u),b=>b.extract(t.concat(["branch: "+u]),s)),Ga=(t,s)=>({extract:(m,b)=>cn(b,t).fold(()=>Dm(m,t),I=>Mm(m,b,s,I)),toString:()=>"chooseOn("+t+"). Possible values: "+Rs(s)}),yd=()=>on(Bf),ef=t=>Wa(s=>t(s).fold(ds.serror,ds.svalue)),mr=(t,s)=>yl(i=>ds.fromResult(t(i)),s),Zp=(t,s,i)=>{const u=s.extract([t],i);return ds.mapError(u,m=>({input:i,errors:m}))},ns=(t,s,i)=>ds.toResult(Zp(t,s,i)),Lo=t=>t.fold(s=>{throw new Error(Sc(s))},je),ei=(t,s,i)=>Lo(ns(t,s,i)),Sc=t=>`Errors: 
`+c1(t.errors).join(`
`)+`

Input object: `+Jd(t.input),sr=(t,s)=>Ga(t,ks(s,Ln)),tf=(t,s)=>_l(t,s),Zr=ol,_s=Ul,Gl=t=>ef(s=>bo(t,s)?io.value(s):io.error(`Unsupported value: "${s}", choose one of "${t.join(", ")}".`)),At=t=>Zr(t,t,Ua(),El()),wl=(t,s)=>Zr(t,t,Ua(),s),Ff=t=>wl(t,zu),Gr=t=>wl(t,Nr),ql=(t,s)=>Zr(t,t,Ua(),Gl(s)),qa=t=>wl(t,bd),ac=t=>wl(t,Nh),km=(t,s)=>Zr(t,t,Lf(),Wa(i=>ds.serror("The field: "+t+" is forbidden. "+s))),cc=(t,s)=>Zr(t,t,Ua(),Ln(s)),Yp=(t,s)=>Zr(t,t,Ua(),jp(s)),Fi=(t,s)=>Zr(t,t,Ua(),on(s)),Ko=t=>Zr(t,t,Lf(),El()),$e=(t,s)=>Zr(t,t,Lf(),s),H=t=>$e(t,zu),me=t=>$e(t,Nr),Ve=(t,s)=>$e(t,Gl(s)),Ht=t=>$e(t,Nh),Dn=(t,s)=>$e(t,on(s)),fn=(t,s)=>$e(t,Ln(s)),Xo=(t,s)=>$e(t,ga(s)),Ge=(t,s)=>Zr(t,t,Fu(s),El()),qr=(t,s,i)=>Zr(t,t,Fu(s),i),li=(t,s)=>qr(t,s,zu),na=(t,s)=>qr(t,s,Nr),Vr=(t,s,i)=>qr(t,s,Gl(i)),ui=(t,s)=>qr(t,s,bd),Ci=(t,s)=>qr(t,s,Nh),nf=(t,s)=>qr(t,s,o0),u1=(t,s,i)=>qr(t,s,on(i)),Mh=(t,s,i)=>qr(t,s,Ln(i)),Gn=t=>{let s=t;return{get:()=>s,set:m=>{s=m}}},pu={generate:t=>{if(!q(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");const s=[],i={};return Dt(t,(u,m)=>{const b=Rs(u);if(b.length!==1)throw new Error("one and only one name per case");const T=b[0],I=u[T];if(i[T]!==void 0)throw new Error("duplicate key detected:"+T);if(T==="cata")throw new Error("cannot have a case named cata (sorry)");if(!q(I))throw new Error("case arguments must be an array");s.push(T),i[T]=(...P)=>{const V=P.length;if(V!==I.length)throw new Error("Wrong number of arguments to case "+T+". Expected "+I.length+" ("+I+"), got "+V);return{fold:(...ee)=>{if(ee.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+ee.length);return ee[m].apply(null,P)},match:ee=>{const oe=Rs(ee);if(s.length!==oe.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+oe.join(","));if(!vi(s,Ce=>bo(oe,Ce)))throw new Error("Not all branches were specified when using match. Specified: "+oe.join(", ")+`
Required: `+s.join(", "));return ee[T].apply(null,P)},log:ee=>{console.log(ee,{constructors:s,constructor:T,params:P})}}}}),i}};pu.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const ka=t=>{const s=[],i=[];return Dt(t,u=>{u.fold(m=>{s.push(m)},m=>{i.push(m)})}),{errors:s,values:i}},Sv=(t,s)=>{const i={};return Kr(t,(u,m)=>{bo(s,m)||(i[m]=u)}),i},_d=(t,s)=>({[t]:s}),h_=t=>{const s={};return Dt(t,i=>{s[i.key]=i.value}),s},Pm=(t,s)=>Sv(t,s),Uu=(t,s)=>_d(t,s),xc=t=>h_(t),Tl=(t,s)=>t.length===0?io.value(s):io.value(er(s,Tr.apply(void 0,t))),xv=t=>io.error(Kt(t)),m_=(t,s)=>{const i=ka(t);return i.errors.length>0?xv(i.errors):Tl(i.values,s)},Ed=t=>ce(t)?t:Tt,d1=(t,s,i)=>{let u=t.dom;const m=Ed(i);for(;u.parentNode;){u=u.parentNode;const b=Je.fromDom(u),T=s(b);if(T.isSome())return T;if(m(b))break}return B.none()},Av=(t,s,i)=>{const u=s(t),m=Ed(i);return u.orThunk(()=>m(t)?B.none():d1(t,s,m))},Lm=(t,s)=>ys(t.element,s.event.target),Xp={can:Rt,abort:Tt,run:Q},Hf=t=>{if(!la(t,"can")&&!la(t,"abort")&&!la(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return{...Xp,...t}},Ov=(t,s)=>(...i)=>vs(t,(u,m)=>u&&s(m).apply(void 0,i),!0),Rv=(t,s)=>(...i)=>vs(t,(u,m)=>u||s(m).apply(void 0,i),!1),xs=t=>ce(t)?{can:Rt,abort:Tt,run:t}:t,s0=t=>{const s=Ov(t,m=>m.can),i=Rv(t,m=>m.abort);return{can:s,abort:i,run:(...m)=>{Dt(t,b=>{b.run.apply(void 0,m)})}}},va=we,jl=va("touchstart"),Bm=va("touchmove"),kh=va("touchend"),p_=va("touchcancel"),Hi=va("mousedown"),Cl=va("mousemove"),Ph=va("mouseout"),Lh=va("mouseup"),of=va("mouseover"),Vf=va("focusin"),Sl=va("focusout"),oa=va("keydown"),Iv=va("keyup"),Vc=va("input"),Zl=va("change"),xl=va("click"),Qp=va("transitioncancel"),Bh=va("transitionend"),Dv=va("transitionstart"),r0=va("selectstart"),pr=t=>we("alloy."+t),Nv={tap:pr("tap")},zc=pr("focus"),Mv=pr("blur.post"),kv=pr("paste.post"),zf=pr("receive"),Ws=pr("execute"),sf=pr("focus.item"),f1=Nv.tap,Pv=pr("longpress"),$m=pr("sandbox.close"),h1=pr("typeahead.cancel"),Jp=pr("system.init"),g_=pr("system.touchmove"),rl=pr("system.touchend"),Wu=pr("system.scroll"),Uf=pr("system.resize"),rf=pr("system.attached"),Gu=pr("system.detached"),gu=pr("system.dismissRequested"),eg=pr("system.repositionRequested"),m1=pr("focusmanager.shifted"),Wf=pr("slotcontainer.visibility"),i0=pr("system.external.element.scroll"),Fm=pr("change.tab"),Hm=pr("dismiss.tab"),v_=pr("highlight"),tg=pr("dehighlight"),rs=(t,s)=>{ng(t,t.element,s,{})},kn=(t,s,i)=>{ng(t,t.element,s,i)},af=t=>{rs(t,Ws())},cf=(t,s,i)=>{ng(t,s,i,{})},ng=(t,s,i,u)=>{const m={target:s,...u};t.getSystem().triggerEvent(i,s,m)},p1=(t,s,i,u)=>{const m={...u,target:s};t.getSystem().triggerEvent(i,s,m)},a0=(t,s,i,u)=>{t.getSystem().triggerEvent(i,s,u.event)},Zs=t=>xc(t),g1=(t,s)=>({key:t,value:Hf({abort:s})}),Lv=(t,s)=>({key:t,value:Hf({can:s})}),Bv=t=>({key:t,value:Hf({run:(s,i)=>{i.event.prevent()}})}),Nt=(t,s)=>({key:t,value:Hf({run:s})}),$v=(t,s,i)=>({key:t,value:Hf({run:(u,m)=>{s.apply(void 0,[u,m].concat(i))}})}),wd=t=>s=>Nt(t,s),$h=t=>s=>({key:t,value:Hf({run:(i,u)=>{Lm(i,u)&&s(i,u)}})}),v1=(t,s)=>Nt(t,(i,u)=>{i.getSystem().getByUid(s).each(m=>{a0(m,m.element,t,u)})}),Gf=(t,s,i)=>{const u=s.partUids[i];return v1(t,u)},og=(t,s)=>Nt(t,(i,u)=>{const m=u.event,b=i.getSystem().getByDom(m.target).getOrThunk(()=>Av(m.target,I=>i.getSystem().getByDom(I).toOptional(),Tt).getOr(i));s(i,b,u)}),Vm=t=>Nt(t,(s,i)=>{i.cut()}),c0=t=>Nt(t,(s,i)=>{i.stop()}),ja=(t,s)=>$h(t)(s),Cr=$h(rf()),Ac=$h(Gu()),zm=$h(Jp()),Yl=wd(Ws()),Um=(t,s)=>{const u=(s||document).createElement("div");return u.innerHTML=t,nc(Je.fromDom(u))},Ro=t=>t.dom.innerHTML,Td=(t,s)=>{const u=ii(t).dom,m=Je.fromDom(u.createDocumentFragment()),b=Um(s,u);Vt(m,b),ut(t),Be(t,m)},b1=t=>{const s=Je.fromTag("div"),i=Je.fromDom(t.dom.cloneNode(!0));return Be(s,i),Ro(s)},Fh=(t,s)=>Je.fromDom(t.dom.cloneNode(s)),qf=t=>Fh(t,!1),lf=t=>{if(xm(t))return"#shadow-root";{const s=qf(t);return b1(s)}},qu=t=>lf(t),lc=(t,s,i)=>ys(s,t.element)&&!ys(s,i),Vw=Zs([Lv(zc(),(t,s)=>{const i=s.event,u=i.originator,m=i.target;return lc(t,u,m)?(console.warn(zc()+` did not get interpreted by the desired target. 
Originator: `+qu(u)+`
Target: `+qu(m)+`
Check the `+zc()+" event handlers"),!1):!0})]);var sg=Object.freeze({__proto__:null,events:Vw});let Vi=0;const En=t=>{const i=new Date().getTime(),u=Math.floor(Math.random()*1e9);return Vi++,t+"_"+u+Vi+String(i)},Fv=we("alloy-id-"),b_=we("data-alloy-id"),uc=Fv(),l0=b_(),uf=(t,s)=>{const i=En(uc+t);return Uc(s,i),i},Uc=(t,s)=>{Object.defineProperty(t.dom,l0,{value:s,writable:!0})},ju=t=>{const s=Ss(t)?t.dom[l0]:null;return B.from(s)},Kl=t=>En(t),rg=je,Wm=t=>{const s=m=>`The component must be in a context to execute: ${m}`+(t?`
`+qu(t().element)+" is not in context.":""),i=m=>()=>{throw new Error(s(m))},u=m=>()=>{console.warn(s(m))};return{debugInfo:we("fake"),triggerEvent:u("triggerEvent"),triggerFocus:u("triggerFocus"),triggerEscape:u("triggerEscape"),broadcast:u("broadcast"),broadcastOn:u("broadcastOn"),broadcastEvent:u("broadcastEvent"),build:i("build"),buildOrPatch:i("buildOrPatch"),addToWorld:i("addToWorld"),removeFromWorld:i("removeFromWorld"),addToGui:i("addToGui"),removeFromGui:i("removeFromGui"),getByUid:i("getByUid"),getByDom:i("getByDom"),isConnected:Tt}},zw=Wm(),ig=(t,s,i)=>{const u=i.toString(),m=u.indexOf(")")+1,b=u.indexOf("("),T=u.substring(b+1,m-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:ag(T.slice(0,1).concat(T.slice(3)))}),t},ag=t=>tt(t,s=>Ha(s,"/*")?s.substring(0,s.length-2):s),Gm=(t,s)=>{const i=t.toString(),u=i.indexOf(")")+1,m=i.indexOf("("),b=i.substring(m+1,u-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:ag(b)}),t},cg=(t,s)=>{const i=s.toString(),u=i.indexOf(")")+1,m=i.indexOf("("),b=i.substring(m+1,u-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:ag(b.slice(1))}),t},qm=En("alloy-premade"),y_=t=>(Object.defineProperty(t.element.dom,qm,{value:t.uid,writable:!0}),Uu(qm,t)),Hv=t=>Vo(t.dom,qm),Hh=t=>cn(t,qm),y1=t=>cg((s,...i)=>t(s.getApis(),s,...i),t),Al={init:()=>Oc({readState:we("No State required")})},Oc=t=>t,df=(t,s)=>{const i=tt(s,m=>fn(m.name(),[At("config"),Ge("state",Al)])),u=ns("component.behaviours",Ln(i),t.behaviours).fold(m=>{throw new Error(Sc(m)+`
Complete spec:
`+JSON.stringify(t,null,2))},je);return{list:s,data:ks(u,m=>{const b=m.map(T=>({config:T.config,state:T.state.init(T.config)}));return we(b)})}},Vh=t=>t.list,Vv=t=>t.data,lg=(t,s)=>{const i={};return Kr(t,(u,m)=>{Kr(u,(b,T)=>{const I=cn(i,T).getOr([]);i[T]=I.concat([s(m,b)])})}),i},Zu=t=>({classes:re(t.classes)?[]:t.classes,attributes:re(t.attributes)?{}:t.attributes,styles:re(t.styles)?{}:t.styles}),jm=(t,s)=>({...t,attributes:{...t.attributes,...s.attributes},styles:{...t.styles,...s.styles},classes:t.classes.concat(s.classes)}),Zm=(t,s,i,u)=>{const m={...s};Dt(i,Z=>{m[Z.name()]=Z.exhibit(t,u)});const b=lg(m,(Z,ee)=>({name:Z,modification:ee})),T=Z=>Ft(Z,(ee,oe)=>({...oe.modification,...ee}),{}),I=Ft(b.classes,(Z,ee)=>ee.modification.concat(Z),[]),P=T(b.attributes),V=T(b.styles);return Zu({classes:I,attributes:P,styles:V})},dc=(t,s,i,u)=>{try{const m=Lc(i,(b,T)=>{const I=b[s],P=T[s],V=u.indexOf(I),Z=u.indexOf(P);if(V===-1)throw new Error("The ordering for "+t+" does not have an entry for "+I+`.
Order specified: `+JSON.stringify(u,null,2));if(Z===-1)throw new Error("The ordering for "+t+" does not have an entry for "+P+`.
Order specified: `+JSON.stringify(u,null,2));return V<Z?-1:Z<V?1:0});return io.value(m)}catch(m){return io.error([m])}},jf=(t,s)=>({handler:t,purpose:s}),Uw=(t,s)=>({cHandler:t,purpose:s}),u0=(t,s)=>Uw(_t.apply(void 0,[t.handler].concat(s)),t.purpose),d0=t=>t.cHandler,rr=(t,s)=>({name:t,handler:s}),Ww=(t,s)=>{const i={};return Dt(t,u=>{i[u.name()]=u.handlers(s)}),i},__=(t,s,i)=>{const u={...i,...Ww(s,t)};return lg(u,rr)},Gw=(t,s,i,u)=>{const m=__(t,i,u);return zi(m,s)},zv=t=>{const s=xs(t);return(i,u,...m)=>{const b=[i,u].concat(m);s.abort.apply(void 0,b)?u.stop():s.can.apply(void 0,b)&&s.run.apply(void 0,b)}},ug=(t,s)=>io.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(tt(s,i=>i.name),null,2)]),Zf=(t,s,i)=>{const u=s[i];return u?dc("Event: "+i,"name",t,u).map(m=>{const b=tt(m,T=>T.handler);return s0(b)}):ug(i,t)},zi=(t,s)=>{const i=qd(t,(u,m)=>(u.length===1?io.value(u[0].handler):Zf(u,s,m)).map(T=>{const I=zv(T),P=u.length>1?fo(s[m],V=>Fo(u,Z=>Z.name===V)).join(" > "):u[0].name;return Uu(m,jf(I,P))}));return m_(i,{})},Yf="alloy.base.behaviour",f0=Ln([Zr("dom","dom",Ua(),Ln([At("tag"),Ge("styles",{}),Ge("classes",[]),Ge("attributes",{}),Ko("value"),Ko("innerHtml")])),At("components"),At("uid"),Ge("events",{}),Ge("apis",{}),Zr("eventOrder","eventOrder",be({[Ws()]:["disabling",Yf,"toggling","typeaheadevents"],[zc()]:[Yf,"focusing","keying"],[Jp()]:[Yf,"disabling","toggling","representing"],[Vc()]:[Yf,"representing","streaming","invalidating"],[Gu()]:[Yf,"representing","item-events","tooltipping"],[Hi()]:["focusing",Yf,"item-type-events"],[jl()]:["focusing",Yf,"item-type-events"],[of()]:["item-type-events","tooltipping"],[zf()]:["receiving","reflecting","tooltipping"]}),El()),Ko("domModification")]),Si=t=>ns("custom.definition",f0,t),Uv=t=>({...t.dom,uid:t.uid,domChildren:tt(t.components,s=>s.element)}),_1=t=>t.domModification.fold(()=>Zu({}),Zu),vx=t=>t.events,E_=(t,s)=>{const i=ki(t,s);return i===void 0||i===""?[]:i.split(" ")},zh=(t,s,i)=>{const m=E_(t,s).concat([i]);return lo(t,s,m.join(" ")),!0},Kf=(t,s,i)=>{const u=fo(E_(t,s),m=>m!==i);return u.length>0?lo(t,s,u.join(" ")):x(t,s),!1},Wv=t=>t.dom.classList!==void 0,w_=t=>E_(t,"class"),bx=(t,s)=>zh(t,"class",s),Cd=(t,s)=>Kf(t,"class",s),As=(t,s)=>{Wv(t)?t.dom.classList.add(s):bx(t,s)},T_=t=>{(Wv(t)?t.dom.classList:w_(t)).length===0&&x(t,"class")},Bs=(t,s)=>{Wv(t)?t.dom.classList.remove(s):Cd(t,s),T_(t)},sa=(t,s)=>Wv(t)&&t.dom.classList.contains(s),vu=(t,s)=>{Dt(s,i=>{As(t,i)})},Wc=(t,s)=>{Dt(s,i=>{Bs(t,i)})},Uh=(t,s)=>vi(s,i=>sa(t,i)),dg=t=>{const s=t.dom.classList,i=new Array(s.length);for(let u=0;u<s.length;u++){const m=s.item(u);m!==null&&(i[u]=m)}return i},Xf=t=>Wv(t)?dg(t):w_(t),Xl=t=>t.dom.value,Yu=(t,s)=>{if(s===void 0)throw new Error("Value.set was undefined");t.dom.value=s},Wh=(t,s,i)=>Nu(t,s).map(m=>{if(i.exists(T=>!ys(T,m))){const T=i.map(ec).getOr("span"),I=Je.fromTag(T);return Cc(m,I),I}else return m}),E1=(t,s,i)=>{i.fold(()=>Be(t,s),u=>{ys(u,s)||(Cc(u,s),St(u))})},h0=(t,s,i)=>{const u=tt(s,i),m=nc(t);return Dt(m.slice(u.length),St),u},C_=(t,s,i,u)=>{const m=Nu(t,s),b=u(i,m),T=Wh(t,s,m);return E1(t,b.element,T),b},S_=(t,s,i)=>h0(t,s,(u,m)=>C_(t,m,u,i)),fg=(t,s)=>h0(t,s,(i,u)=>{const m=Nu(t,u);return E1(t,i,m),i}),m0=(t,s)=>{const i=Rs(t),u=Rs(s),m=Bt(u,i),b=br(t,(T,I)=>!Vo(s,I)||T!==s[I]).t;return{toRemove:m,toSet:b}},qw=(t,s)=>{const{class:i,style:u,...m}=M(s),{toSet:b,toRemove:T}=m0(t.attributes,m),I=()=>{Dt(T,ft=>x(s,ft)),No(s,b)},P=Et(s),{toSet:V,toRemove:Z}=m0(t.styles,P),ee=()=>{Dt(Z,ft=>rt(s,ft)),de(s,V)},oe=Xf(s),le=Bt(oe,t.classes),Ce=Bt(t.classes,oe),ke=()=>{vu(s,Ce),Wc(s,le)},st=ft=>{Td(s,ft)},Ue=()=>{const ft=t.domChildren;fg(s,ft)},ot=()=>{const ft=s,vt=t.value.getOrUndefined();vt!==Xl(ft)&&Yu(ft,vt??"")};return I(),ke(),ee(),t.innerHtml.fold(Ue,st),ot(),s},jw=t=>{const s=Je.fromTag(t.tag);No(s,t.attributes),vu(s,t.classes),de(s,t.styles),t.innerHtml.each(u=>Td(s,u));const i=t.domChildren;return Vt(s,i),t.value.each(u=>{Yu(s,u)}),s},x_=(t,s)=>{try{const i=qw(t,s);return B.some(i)}catch{return B.none()}},A_=t=>t.innerHtml.isSome()&&t.domChildren.length>0,p0=(t,s)=>{const i=m=>ec(m)===t.tag&&!A_(t)&&!Hv(m),u=s.filter(i).bind(m=>x_(t,m)).getOrThunk(()=>jw(t));return Uc(u,t.uid),u},O_=t=>{const s=cn(t,"behaviours").getOr({});return pt(Rs(s),i=>{const u=s[i];return ue(u)?[u.me]:[]})},Zw=(t,s)=>df(t,s),g0=t=>{const s=O_(t);return Zw(t,s)},Ym=(t,s,i)=>{const u=Uv(t),m=_1(t),b={"alloy.base.modification":m},T=s.length>0?Zm(i,b,s,u):m;return jm(u,T)},v0=(t,s,i)=>{const u={"alloy.base.behaviour":vx(t)};return Gw(i,t.eventOrder,s,u).getOrDie()},Yw=(t,s)=>{const i=()=>ft,u=Gn(zw),m=Lo(Si(t)),b=g0(t),T=Vh(b),I=Vv(b),P=Ym(m,T,I),V=p0(P,s),Z=v0(m,T,I),ee=Gn(m.components),oe=vt=>{u.set(vt)},le=()=>{u.set(Wm(i))},Ce=()=>{const vt=nc(V),Jt=pt(vt,Lt=>u.get().getByDom(Lt).fold(()=>[],Ms));ee.set(Jt)},ke=vt=>{const Jt=I;return(ce(Jt[vt.name()])?Jt[vt.name()]:()=>{throw new Error("Could not find "+vt.name()+" in "+JSON.stringify(t,null,2))})()},st=vt=>ce(I[vt.name()]),Ue=()=>m.apis,ot=vt=>I[vt]().map(Jt=>Jt.state.readState()).getOr("not enabled"),ft={uid:t.uid,getSystem:u.get,config:ke,hasConfigured:st,spec:t,readState:ot,getApis:Ue,connect:oe,disconnect:le,element:V,syncComponents:Ce,components:ee.get,events:Z};return ft},Kw=(t,s)=>{const i=cn(t,"components").getOr([]);return s.fold(()=>tt(i,fc),u=>tt(i,(m,b)=>Gv(m,Nu(u,b))))},R_=(t,s)=>{const{events:i,...u}=rg(t),m=Kw(u,s),b={...u,events:{...sg,...i},components:m};return io.value(Yw(b,s))},Sr=t=>{const s=Je.fromText(t);return ff({element:s})},ff=t=>{const s=ei("external.component",ga([At("element"),Ko("uid")]),t),i=Gn(Wm()),u=I=>{i.set(I)},m=()=>{i.set(Wm(()=>T))},b=s.uid.getOrThunk(()=>Kl("external"));Uc(s.element,b);const T={uid:b,getSystem:i.get,config:B.none,hasConfigured:Tt,connect:u,disconnect:m,getApis:()=>({}),element:s.element,spec:t,readState:we("No state"),syncComponents:Q,components:we([]),events:{}};return y_(T)},Gh=Kl,I_=t=>Vo(t,"uid"),Gv=(t,s)=>Hh(t).getOrThunk(()=>{const i=I_(t)?t:{uid:Gh(""),...t};return R_(i,s).getOrDie()}),fc=t=>Gv(t,B.none()),il=y_;var Km=(t,s,i,u,m)=>t(i,u)?B.some(i):ce(m)&&m(i)?B.none():s(i,u,m);const qv=(t,s,i)=>{let u=t.dom;const m=ce(i)?i:Tt;for(;u.parentNode;){u=u.parentNode;const b=Je.fromDom(u);if(s(b))return B.some(b);if(m(b))break}return B.none()},b0=(t,s,i)=>Km((m,b)=>b(m),qv,t,s,i),D_=(t,s)=>{const i=m=>s(Je.fromDom(m));return Pn(t.dom.childNodes,i).map(Je.fromDom)},y0=(t,s)=>{const i=u=>{for(let m=0;m<u.childNodes.length;m++){const b=Je.fromDom(u.childNodes[m]);if(s(b))return B.some(b);const T=i(u.childNodes[m]);if(T.isSome())return T}return B.none()};return i(t.dom)},N_=(t,s,i)=>b0(t,s,i).isSome(),Ol=(t,s,i)=>qv(t,u=>_c(u,s),i),Qf=(t,s)=>D_(t,i=>_c(i,s)),Mr=(t,s)=>fu(s,t),hf=(t,s,i)=>Km((m,b)=>_c(m,b),Ol,t,s,i),Sd="aria-controls",Xw=t=>b0(t,i=>{if(!Ss(i))return!1;const u=ki(i,"id");return u!==void 0&&u.indexOf(Sd)>-1}).bind(i=>{const u=ki(i,"id"),m=Oa(i);return Mr(m,`[${Sd}="${u}"]`)}),M_=()=>{const t=En(Sd);return{id:t,link:u=>{lo(u,Sd,t)},unlink:u=>{x(u,Sd)}}},_0=(t,s)=>Xw(s).exists(i=>Xm(t,i)),Xm=(t,s)=>N_(s,i=>ys(i,t.element),Tt)||_0(t,s),E0="unknown";var hg;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(hg||(hg={}));const Qm=Gn({}),Qw=(t,s)=>{const i=[],u=new Date().getTime();return{logEventCut:(m,b,T)=>{i.push({outcome:"cut",target:b,purpose:T})},logEventStopped:(m,b,T)=>{i.push({outcome:"stopped",target:b,purpose:T})},logNoParent:(m,b,T)=>{i.push({outcome:"no-parent",target:b,purpose:T})},logEventNoHandlers:(m,b)=>{i.push({outcome:"no-handlers-left",target:b})},logEventResponse:(m,b,T)=>{i.push({outcome:"response",purpose:T,target:b})},write:()=>{const m=new Date().getTime();bo(["mousemove","mouseover","mouseout",Jp()],t)||console.log(t,{event:t,time:m-u,target:s.dom,sequence:tt(i,b=>bo(["cut","stopped","response"],b.outcome)?"{"+b.purpose+"} "+b.outcome+" at ("+qu(b.target)+")":b.outcome)})}}},w1=(t,s,i)=>{switch(cn(Qm.get(),t).orThunk(()=>{const m=Rs(Qm.get());return or(m,b=>t.indexOf(b)>-1?B.some(Qm.get()[b]):B.none())}).getOr(hg.NORMAL)){case hg.NORMAL:return i(Zv());case hg.LOGGING:{const m=Qw(t,s),b=i(m);return m.write(),b}case hg.STOP:return!0}},T1=["alloy/data/Fields","alloy/debugging/Debugging"],w0=()=>{const t=new Error;if(t.stack!==void 0){const s=t.stack.split(`
`);return Pn(s,i=>i.indexOf("alloy")>0&&!Fo(T1,u=>i.indexOf(u)>-1)).getOr(E0)}else return E0},jv={logEventCut:Q,logEventStopped:Q,logNoParent:Q,logEventNoHandlers:Q,logEventResponse:Q,write:Q},mg=(t,s,i)=>w1(t,s,i),Zv=we(jv),qh=we([At("menu"),At("selectedMenu")]),pg=we([At("item"),At("selectedItem")]);we(Ln(pg().concat(qh())));const k_=we(Ln(pg())),P_=cc("initSize",[At("numColumns"),At("numRows")]),C1=()=>wl("markers",k_()),xd=()=>cc("markers",[At("backgroundMenu")].concat(qh()).concat(pg())),bu=t=>cc("markers",tt(t,At)),S1=(t,s,i)=>(w0(),Zr(s,s,i,ef(u=>io.value((...m)=>u.apply(void 0,m))))),Xe=t=>S1("onHandler",t,Fu(Q)),xr=t=>S1("onKeyboardHandler",t,Fu(B.none)),Jm=t=>S1("onHandler",t,Ua()),T0=t=>S1("onKeyboardHandler",t,Ua()),tr=(t,s)=>_s(t,we(s)),Ku=t=>_s(t,je),x1=we(P_),ra=(t,s,i,u,m,b,T,I=!1)=>({x:t,y:s,bubble:i,direction:u,placement:m,restriction:b,label:`${T}-${m}`,alwaysFit:I}),Xu=pu.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),C0=(t,s,i,u,m,b,T,I,P)=>t.fold(s,i,u,m,b,T,I,P),L_=(t,s,i,u)=>t.fold(s,s,u,u,s,u,i,i),Yv=(t,s,i,u)=>t.fold(s,u,s,u,i,i,s,u),ep=Xu.southeast,jh=Xu.southwest,Kv=Xu.northeast,A1=Xu.northwest,Rc=Xu.south,O1=Xu.north,S0=Xu.east,R1=Xu.west,Jf=(t,s,i,u)=>{const m=t+s;return m>u?i:m<i?u:m},Ic=(t,s,i)=>Math.min(Math.max(t,s),i),Jw=(t,s)=>{switch(s){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},ba=(t,s)=>Br(["left","right","top","bottom"],i=>cn(s,i).map(u=>Jw(t,u))),Xv=(t,s,i)=>{const u=(P,V)=>s[P].map(Z=>{const ee=P==="top"||P==="bottom",oe=ee?i.top:i.left,Ce=(P==="left"||P==="top"?Math.max:Math.min)(Z,V)+oe;return ee?Ic(Ce,t.y,t.bottom):Ic(Ce,t.x,t.right)}).getOr(V),m=u("left",t.x),b=u("top",t.y),T=u("right",t.right),I=u("bottom",t.bottom);return Ls(m,b,T-m,I-b)},mf="layout",I1=t=>t.x,B_=(t,s)=>t.x+t.width/2-s.width/2,x0=(t,s)=>t.x+t.width-s.width,A0=(t,s)=>t.y-s.height,O0=t=>t.y+t.height,R0=(t,s)=>t.y+t.height/2-s.height/2,$_=t=>t.x+t.width,eT=(t,s)=>t.x-s.width,ya=(t,s,i)=>ra(I1(t),O0(t),i.southeast(),ep(),"southeast",ba(t,{left:1,top:3}),mf),Ui=(t,s,i)=>ra(x0(t,s),O0(t),i.southwest(),jh(),"southwest",ba(t,{right:0,top:3}),mf),Gc=(t,s,i)=>ra(I1(t),A0(t,s),i.northeast(),Kv(),"northeast",ba(t,{left:1,bottom:2}),mf),Rl=(t,s,i)=>ra(x0(t,s),A0(t,s),i.northwest(),A1(),"northwest",ba(t,{right:0,bottom:2}),mf),Ds=(t,s,i)=>ra(B_(t,s),A0(t,s),i.north(),O1(),"north",ba(t,{bottom:2}),mf),Pa=(t,s,i)=>ra(B_(t,s),O0(t),i.south(),Rc(),"south",ba(t,{top:3}),mf),Qu=(t,s,i)=>ra($_(t),R0(t,s),i.east(),S0(),"east",ba(t,{left:0}),mf),eh=(t,s,i)=>ra(eT(t,s),R0(t,s),i.west(),R1(),"west",ba(t,{right:1}),mf),fs=()=>[ya,Ui,Gc,Rl,Pa,Ds,Qu,eh],Qv=()=>[Ui,ya,Rl,Gc,Pa,Ds,Qu,eh],qc=()=>[Gc,Rl,ya,Ui,Ds,Pa],Wi=()=>[Rl,Gc,Ui,ya,Ds,Pa],D1=()=>[ya,Ui,Gc,Rl,Pa,Ds],Ad=()=>[Ui,ya,Rl,Gc,Pa,Ds],I0=(t,s)=>s.universal?t:fo(t,i=>bo(s.channels,i));var Jv=Object.freeze({__proto__:null,events:t=>Zs([Nt(zf(),(s,i)=>{const u=t.channels,m=Rs(u),b=i,T=I0(m,b);Dt(T,I=>{const P=u[I],V=P.schema,Z=ei("channel["+I+`] data
Receiver: `+qu(s.element),V,b.data);P.onReceive(s,Z)})})])}),D0=[wl("channels",mr(io.value,ga([Jm("onReceive"),Ge("schema",El())])))];const eb=(t,s,i)=>Yl(u=>{i(u,t,s)}),N1=(t,s,i)=>zm((u,m)=>{i(u,t,s)}),F_=(t,s,i,u,m,b)=>{const T=ga(t),I=fn(s,[Xo("config",t)]);return Gi(T,I,s,i,u,m,b)},_n=(t,s,i,u,m,b)=>{const T=t,I=fn(s,[$e("config",t)]);return Gi(T,I,s,i,u,m,b)},tb=(t,s,i)=>ig((m,...b)=>{const T=[m].concat(b);return m.config({name:we(t)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+i)},I=>{const P=Array.prototype.slice.call(T,1);return s.apply(void 0,[m,I.config,I.state].concat(P))})},i,s),M1=t=>({key:t,value:void 0}),Gi=(t,s,i,u,m,b,T)=>{const I=ee=>la(ee,i)?ee[i]():B.none(),P=ks(m,(ee,oe)=>tb(i,ee,oe)),Z={...ks(b,(ee,oe)=>Gm(ee,oe)),...P,revoke:_t(M1,i),config:ee=>{const oe=ei(i+"-config",t,ee);return{key:i,value:{config:oe,me:Z,configAsRaw:wi(()=>ei(i+"-config",t,ee)),initialConfig:ee,state:T}}},schema:we(s),exhibit:(ee,oe)=>ad(I(ee),cn(u,"exhibit"),(le,Ce)=>Ce(oe,le.config,le.state)).getOrThunk(()=>Zu({})),name:we(i),handlers:ee=>I(ee).map(oe=>cn(u,"events").getOr(()=>({}))(oe.config,oe.state)).getOr({})};return Z},Pt=t=>xc(t),H_=ga([At("fields"),At("name"),Ge("active",{}),Ge("apis",{}),Ge("state",Al),Ge("extra",{})]),_a=t=>{const s=ei("Creating behaviour: "+t.name,H_,t);return F_(s.fields,s.name,s.active,s.apis,s.extra,s.state)},tT=ga([At("branchKey"),At("branches"),At("name"),Ge("active",{}),Ge("apis",{}),Ge("state",Al),Ge("extra",{})]),V_=t=>{const s=ei("Creating behaviour: "+t.name,tT,t);return _n(sr(s.branchKey,s.branches),s.name,s.active,s.apis,s.extra,s.state)},z_=we(void 0),yu=_a({fields:D0,name:"receiving",active:Jv});var gg=Object.freeze({__proto__:null,exhibit:(t,s)=>Zu({classes:[],styles:s.useFixed()?{}:{position:"relative"}})});const al=t=>t.dom.focus(),k1=t=>t.dom.blur(),P1=t=>{const s=Oa(t).dom;return t.dom===s.activeElement},Od=(t=ro())=>B.from(t.dom.activeElement).map(Je.fromDom),Ql=t=>Od(Oa(t)).filter(s=>t.dom.contains(s.dom)),cl=(t,s)=>{const i=Oa(s),u=Od(i).bind(b=>{const T=I=>ys(b,I);return T(s)?B.some(s):y0(s,T)}),m=t(s);return u.each(b=>{Od(i).filter(T=>ys(T,b)).fold(()=>{al(b)},Q)}),m},Dc=(t,s,i,u,m)=>{const b=T=>T+"px";return{position:t,left:s.map(b),top:i.map(b),right:u.map(b),bottom:m.map(b)}},nT=t=>({...t,position:B.some(t.position)}),nb=(t,s)=>{_e(t,nT(s))},ob=pu.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Zh=(t,s,i,u,m,b)=>{const T=s.rect,I=T.x-i,P=T.y-u,V=T.width,Z=T.height,ee=m-(I+V),oe=b-(P+Z),le=B.some(I),Ce=B.some(P),ke=B.some(ee),st=B.some(oe),Ue=B.none();return C0(s.direction,()=>Dc(t,le,Ce,Ue,Ue),()=>Dc(t,Ue,Ce,ke,Ue),()=>Dc(t,le,Ue,Ue,st),()=>Dc(t,Ue,Ue,ke,st),()=>Dc(t,le,Ce,Ue,Ue),()=>Dc(t,le,Ue,Ue,st),()=>Dc(t,le,Ce,Ue,Ue),()=>Dc(t,Ue,Ce,ke,Ue))},U_=(t,s)=>t.fold(()=>{const i=s.rect;return Dc("absolute",B.some(i.x),B.some(i.y),B.none(),B.none())},(i,u,m,b)=>Zh("absolute",s,i,u,m,b),(i,u,m,b)=>Zh("fixed",s,i,u,m,b)),sb=(t,s)=>{const i=_t(za,s),u=t.fold(i,i,()=>{const T=Qt();return za(s).translate(-T.left,-T.top)}),m=Dr(s),b=ur(s);return Ls(u.left,u.top,m,b)},th=(t,s)=>s.fold(()=>t.fold(Na,Na,Ls),i=>t.fold(we(i),we(i),()=>{const u=Es(t,i.x,i.y);return Ls(u.left,u.top,i.width,i.height)})),Es=(t,s,i)=>{const u=Xn(s,i),m=()=>{const b=Qt();return u.translate(-b.left,-b.top)};return t.fold(we(u),we(u),m)},tp=(t,s,i,u)=>t.fold(s,i,u);ob.none;const gr=ob.relative,W_=ob.fixed,np=(t,s)=>({anchorBox:t,origin:s}),kr=(t,s)=>np(t,s),rb="data-alloy-placement",G_=(t,s)=>{lo(t,rb,s)},vg=t=>Xr(t,rb),oT=t=>x(t,rb),L1=pu.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),q_=(t,s)=>{const{x:i,y:u,right:m,bottom:b}=s,{x:T,y:I,right:P,bottom:V,width:Z,height:ee}=t,oe=T>=i&&T<=m,le=I>=u&&I<=b,Ce=oe&&le,ke=P<=m&&P>=i,st=V<=b&&V>=u,Ue=ke&&st,ot=Math.min(Z,T>=i?m-T:P-i),ft=Math.min(ee,I>=u?b-I:V-u);return{originInBounds:Ce,sizeInBounds:Ue,visibleW:ot,visibleH:ft}},j_=(t,s)=>{const{x:i,y:u,right:m,bottom:b}=s,{x:T,y:I,width:P,height:V}=t,Z=Math.max(i,m-P),ee=Math.max(u,b-V),oe=Ic(T,i,Z),le=Ic(I,u,ee),Ce=Math.min(oe+P,m)-oe,ke=Math.min(le+V,b)-le;return Ls(oe,le,Ce,ke)},N0=(t,s,i)=>{const u=we(s.bottom-i.y),m=we(i.bottom-s.y),b=L_(t,m,m,u),T=we(s.right-i.x),I=we(i.right-s.x);return{maxWidth:Yv(t,I,I,T),maxHeight:b}},M0=(t,s,i,u)=>{const m=t.bubble,b=m.offset,T=Xv(u,t.restriction,b),I=t.x+b.left,P=t.y+b.top,V=Ls(I,P,s,i),{originInBounds:Z,sizeInBounds:ee,visibleW:oe,visibleH:le}=q_(V,T),Ce=Z&&ee,ke=Ce?V:j_(V,T),st=ke.width>0&&ke.height>0,{maxWidth:Ue,maxHeight:ot}=N0(t.direction,ke,u),ft={rect:ke,maxHeight:ot,maxWidth:Ue,direction:t.direction,placement:t.placement,classes:{on:m.classesOn,off:m.classesOff},layout:t.label,testY:P};return Ce||t.alwaysFit?L1.fit(ft):L1.nofit(ft,oe,le,st)},Z_=(t,s,i,u,m,b)=>{const T=u.width,I=u.height,P=(Z,ee,oe,le,Ce)=>{const ke=Z(i,u,m,t,b),st=M0(ke,T,I,b);return st.fold(we(st),(Ue,ot,ft,vt)=>(Ce===vt?ft>le||ot>oe:!Ce&&vt)?st:L1.nofit(ee,oe,le,Ce))};return vs(s,(Z,ee)=>{const oe=_t(P,ee);return Z.fold(we(Z),oe)},L1.nofit({rect:i,maxHeight:u.height,maxWidth:u.width,direction:ep(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:i.y},-1,-1,!1)).fold(je,je)},pf=t=>{const s=Gn(B.none()),i=()=>s.get().each(t);return{clear:()=>{i(),s.set(B.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:I=>{i(),s.set(B.some(I))}}},ib=()=>pf(t=>t.destroy()),Eu=()=>pf(t=>t.unbind()),Ys=()=>{const t=pf(Q);return{...t,on:i=>t.get().each(i)}},bg=Rt,Nc=(t,s,i)=>Qr(t,s,bg,i),B1=(t,s,i)=>js(t,s,bg,i),Y_=Un,ab=["top","bottom","right","left"],$1="data-alloy-transition-timer",k0=(t,s)=>Uh(t,s.classes),K_=(t,s,i)=>i.exists(u=>{const m=t.mode;return m==="all"?!0:u[m]!==s[m]}),hc=(t,s)=>{const i=u=>parseFloat(u).toFixed(3);return yi(s,(u,m)=>{const b=t[m].map(i),T=u.map(i);return!Eh(b,T)}).isSome()},Jl=t=>{const s=b=>{const I=Te(t,b).split(/\s*,\s*/);return fo(I,xa)},i=b=>{if(D(b)&&/^[\d.]+/.test(b)){const T=parseFloat(b);return Ha(b,"ms")?T:T*1e3}else return 0},u=s("transition-delay"),m=s("transition-duration");return vs(m,(b,T,I)=>{const P=i(u[I])+i(T);return Math.max(b,P)},0)},sT=(t,s)=>{const i=Eu(),u=Eu();let m;const b=V=>{var Z;const ee=(Z=V.raw.pseudoElement)!==null&&Z!==void 0?Z:"";return ys(V.target,t)&&Fr(ee)&&bo(ab,V.raw.propertyName)},T=V=>{if(he(V)||b(V)){i.clear(),u.clear();const Z=V==null?void 0:V.raw.type;(he(Z)||Z===Bh())&&(clearTimeout(m),x(t,$1),Wc(t,s.classes))}},I=Nc(t,Dv(),V=>{b(V)&&(I.unbind(),i.set(Nc(t,Bh(),T)),u.set(Nc(t,Qp(),T)))}),P=Jl(t);requestAnimationFrame(()=>{m=setTimeout(T,P+17),lo(t,$1,m)})},rT=(t,s)=>{vu(t,s.classes),Xr(t,$1).each(i=>{clearTimeout(parseInt(i,10)),x(t,$1)}),sT(t,s)},iT=(t,s,i,u,m,b)=>{const T=K_(u,m,b);if(T||k0(t,u)){te(t,"position",i.position);const I=sb(s,t),P=U_(s,{...m,rect:I}),V=Br(ab,Z=>P[Z]);hc(i,V)&&(_e(t,V),T&&rT(t,u),Mt(t))}else Wc(t,u.classes)},op=t=>({width:Dr(t),height:ur(t)}),P0=(t,s,i,u)=>{rt(s,"max-height"),rt(s,"max-width");const m=op(s);return Z_(s,u.preference,t,m,i,u.bounds)},L0=(t,s)=>{const i=s.classes;Wc(t,i.off),vu(t,i.on)},sp=(t,s,i)=>{const u=i.maxHeightFunction;u(t,s.maxHeight)},X_=(t,s,i)=>{const u=i.maxWidthFunction;u(t,s.maxWidth)},aT=(t,s,i)=>{const u=U_(i.origin,s);i.transition.each(m=>{iT(t,i.origin,u,m,s,i.lastPlacement)}),nb(t,u)},cT=(t,s)=>{G_(t,s.placement)},B0=(t,s)=>{qs(t,Math.floor(s))},$0=we((t,s)=>{B0(t,s),de(t,{"overflow-x":"hidden","overflow-y":"auto"})}),Yh=we((t,s)=>{B0(t,s)}),Q_=(t,s,i)=>t[s]===void 0?i:t[s],lT=(t,s,i,u,m,b,T,I)=>{const P=Q_(T,"maxHeightFunction",$0()),V=Q_(T,"maxWidthFunction",Q),Z=t.anchorBox,ee=t.origin,oe={bounds:th(ee,b),origin:ee,preference:u,maxHeightFunction:P,maxWidthFunction:V,lastPlacement:m,transition:I};return uT(Z,s,i,oe)},uT=(t,s,i,u)=>{const m=P0(t,s,i,u);return aT(s,m,u),cT(s,m),L0(s,m),sp(s,m,u),X_(s,m,u),{layout:m.layout,placement:m.placement}},dT=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Rd=(t,s,i,u=1)=>{const m=t*u,b=s*u,T=P=>cn(i,P).getOr([]),I=(P,V,Z)=>{const ee=Bt(dT,Z);return{offset:Xn(P,V),classesOn:pt(Z,T),classesOff:pt(ee,T)}};return{southeast:()=>I(-t,s,["top","alignLeft"]),southwest:()=>I(t,s,["top","alignRight"]),south:()=>I(-t/2,s,["top","alignCentre"]),northeast:()=>I(-t,-s,["bottom","alignLeft"]),northwest:()=>I(t,-s,["bottom","alignRight"]),north:()=>I(-t/2,-s,["bottom","alignCentre"]),east:()=>I(t,-s/2,["valignCentre","left"]),west:()=>I(-t,-s/2,["valignCentre","right"]),insetNortheast:()=>I(m,b,["top","alignLeft","inset"]),insetNorthwest:()=>I(-m,b,["top","alignRight","inset"]),insetNorth:()=>I(-m/2,b,["top","alignCentre","inset"]),insetSoutheast:()=>I(m,-b,["bottom","alignLeft","inset"]),insetSouthwest:()=>I(-m,-b,["bottom","alignRight","inset"]),insetSouth:()=>I(-m/2,-b,["bottom","alignCentre","inset"]),insetEast:()=>I(-m,-b/2,["valignCentre","right","inset"]),insetWest:()=>I(m,-b/2,["valignCentre","left","inset"])}},cb=()=>Rd(0,0,{}),rp=je,lb=(t,s)=>i=>J_(i)==="rtl"?s:t,J_=t=>Te(t,"direction")==="rtl"?"rtl":"ltr";var gf;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(gf||(gf={}));const F1="data-alloy-vertical-dir",F0=t=>N_(t,s=>Ss(s)&&ki(s,"data-alloy-vertical-dir")===gf.BottomToTop),Id=()=>fn("layouts",[At("onLtr"),At("onRtl"),Ko("onBottomLtr"),Ko("onBottomRtl")]),Kh=(t,s,i,u,m,b,T)=>{const I=T.map(F0).getOr(!1),P=s.layouts.map(le=>le.onLtr(t)),V=s.layouts.map(le=>le.onRtl(t)),Z=I?s.layouts.bind(le=>le.onBottomLtr.map(Ce=>Ce(t))).or(P).getOr(m):P.getOr(i),ee=I?s.layouts.bind(le=>le.onBottomRtl.map(Ce=>Ce(t))).or(V).getOr(b):V.getOr(u);return lb(Z,ee)(t)},H0=(t,s,i)=>{const u=s.hotspot,m=sb(i,u.element),b=Kh(t.element,s,D1(),Ad(),qc(),Wi(),B.some(s.hotspot.element));return B.some(rp({anchorBox:m,bubble:s.bubble.getOr(cb()),overrides:s.overrides,layouts:b}))};var eE=[At("hotspot"),Ko("bubble"),Ge("overrides",{}),Id(),tr("placement",H0)];const fT=(t,s,i)=>{const u=Es(i,s.x,s.y),m=Ls(u.left,u.top,s.width,s.height),b=Kh(t.element,s,fs(),Qv(),fs(),Qv(),B.none());return B.some(rp({anchorBox:m,bubble:s.bubble,overrides:s.overrides,layouts:b}))};var hT=[At("x"),At("y"),Ge("height",0),Ge("width",0),Ge("bubble",cb()),Ge("overrides",{}),Id(),tr("placement",fT)];const V0=pu.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),mT=t=>t.fold(je,(s,i,u)=>s.translate(-i,-u)),pT=t=>t.fold(je,je),tE=t=>vs(t,(s,i)=>s.translate(i.left,i.top),Xn(0,0)),nE=t=>{const s=tt(t,mT);return tE(s)},ub=t=>{const s=tt(t,pT);return tE(s)},gT=V0.screen,vT=V0.absolute,bT=(t,s,i)=>{const u=Du(i.root).dom,m=b=>{const T=ii(b),I=ii(t.element);return ys(T,I)};return B.from(u.frameElement).map(Je.fromDom).filter(m).map(Oo)},oE=(t,s,i)=>{const u=ii(t.element),m=Qt(u),b=bT(t,s,i).getOr(m);return vT(b,m.left,m.top)},z0=(t,s,i,u)=>{const m=gT(Xn(t,s));return B.some(Js(m,i,u))},sE=(t,s,i,u,m)=>t.map(b=>{const T=[s,b.point],I=tp(u,()=>ub(T),()=>ub(T),()=>nE(T)),P=Vl(I.left,I.top,b.width,b.height),V=i.showAbove?qc():D1(),Z=i.showAbove?Wi():Ad(),ee=Kh(m,i,V,Z,V,Z,B.none());return rp({anchorBox:P,bubble:i.bubble.getOr(cb()),overrides:i.overrides,layouts:ee})}),yT=(t,s,i)=>{const u=oE(t,i,s);return s.node.filter(oc).bind(m=>{const b=m.dom.getBoundingClientRect(),T=z0(b.left,b.top,b.width,b.height),I=s.node.getOr(t.element);return sE(T,u,s,i,I)})};var rE=[At("node"),At("root"),Ko("bubble"),Id(),Ge("overrides",{}),Ge("showAbove",!1),tr("placement",yT)];const H1="\uFEFF",U0=" ",yg={create:(t,s,i,u)=>({start:t,soffset:s,finish:i,foffset:u})},db=pu.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),V1=(t,s,i,u)=>t.fold(s,i,u),G0=t=>t.fold(je,je,je),q0=db.before,iE=db.on,ip=db.after,aE={before:q0,on:iE,after:ip,cata:V1,getStart:G0},ap=pu.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),_T=t=>ap.exact(t.start,t.soffset,t.finish,t.foffset),j0=t=>t.match({domRange:s=>Je.fromDom(s.startContainer),relative:(s,i)=>aE.getStart(s),exact:(s,i,u,m)=>s}),cE=ap.domRange,eu=ap.relative,Z0=ap.exact,fb=t=>{const s=j0(t);return Du(s)},z1=yg.create,nh={domRange:cE,relative:eu,exact:Z0,exactFromRange:_T,getWin:fb,range:z1},ET=(t,s)=>{s.fold(i=>{t.setStartBefore(i.dom)},(i,u)=>{t.setStart(i.dom,u)},i=>{t.setStartAfter(i.dom)})},U1=(t,s)=>{s.fold(i=>{t.setEndBefore(i.dom)},(i,u)=>{t.setEnd(i.dom,u)},i=>{t.setEndAfter(i.dom)})},lE=(t,s,i)=>{const u=t.document.createRange();return ET(u,s),U1(u,i),u},La=(t,s,i,u,m)=>{const b=t.document.createRange();return b.setStart(s.dom,i),b.setEnd(u.dom,m),b},uE=t=>({left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}),cp=t=>{const s=t.getClientRects(),i=s.length>0?s[0]:t.getBoundingClientRect();return i.width>0||i.height>0?B.some(i).map(uE):B.none()},wT=t=>{const s=t.getBoundingClientRect();return s.width>0||s.height>0?B.some(s).map(uE):B.none()},W1=pu.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Y0=(t,s,i)=>s(Je.fromDom(i.startContainer),i.startOffset,Je.fromDom(i.endContainer),i.endOffset),_g=(t,s)=>s.match({domRange:i=>({ltr:we(i),rtl:B.none}),relative:(i,u)=>({ltr:wi(()=>lE(t,i,u)),rtl:wi(()=>B.some(lE(t,u,i)))}),exact:(i,u,m,b)=>({ltr:wi(()=>La(t,i,u,m,b)),rtl:wi(()=>B.some(La(t,m,b,i,u)))})}),lp=(t,s)=>{const i=s.ltr();return i.collapsed?s.rtl().filter(m=>m.collapsed===!1).map(m=>W1.rtl(Je.fromDom(m.endContainer),m.endOffset,Je.fromDom(m.startContainer),m.startOffset)).getOrThunk(()=>Y0(t,W1.ltr,i)):Y0(t,W1.ltr,i)},G1=(t,s)=>{const i=_g(t,s);return lp(t,i)},vf=(t,s)=>G1(t,s).match({ltr:(u,m,b,T)=>{const I=t.document.createRange();return I.setStart(u.dom,m),I.setEnd(b.dom,T),I},rtl:(u,m,b,T)=>{const I=t.document.createRange();return I.setStart(b.dom,T),I.setEnd(u.dom,m),I}});W1.ltr,W1.rtl;const K0=(t,s,i)=>fo(Nf(t,i),s),qi=(t,s)=>ud(s,t),tu=(t,s,i,u)=>{const b=ii(t).dom.createRange();return b.setStart(t.dom,s),b.setEnd(i.dom,u),b},hb=(t,s,i,u)=>{const m=tu(t,s,i,u),b=ys(t,i)&&s===u;return m.collapsed&&!b},dE=t=>B.from(t.getSelection()),fE=t=>{if(t.rangeCount>0){const s=t.getRangeAt(0),i=t.getRangeAt(t.rangeCount-1);return B.some(yg.create(Je.fromDom(s.startContainer),s.startOffset,Je.fromDom(i.endContainer),i.endOffset))}else return B.none()},X0=t=>{if(t.anchorNode===null||t.focusNode===null)return fE(t);{const s=Je.fromDom(t.anchorNode),i=Je.fromDom(t.focusNode);return hb(s,t.anchorOffset,i,t.focusOffset)?B.some(yg.create(s,t.anchorOffset,i,t.focusOffset)):fE(t)}},up=t=>dE(t).filter(s=>s.rangeCount>0).bind(X0),q1=(t,s)=>{const i=vf(t,s);return cp(i)},dp=(t,s)=>{const i=vf(t,s);return wT(i)},Eg=((t,s)=>{const i=b=>{if(!t(b))throw new Error("Can only get "+s+" value of a "+s+" node");return u(b).getOr("")},u=b=>t(b)?B.from(b.dom.nodeValue):B.none();return{get:i,getOption:u,set:(b,T)=>{if(!t(b))throw new Error("Can only set raw "+s+" value of a "+s+" node");b.dom.nodeValue=T}}})(ri,"text"),j1=t=>Eg.get(t),fp=(t,s)=>({element:t,offset:s}),Q0=(t,s)=>{const i=nc(t);if(i.length===0)return fp(t,s);if(s<i.length)return fp(i[s],0);{const u=i[i.length-1],m=ri(u)?j1(u).length:nc(u).length;return fp(u,m)}},wg=(t,s)=>ri(t)?fp(t,s):Q0(t,s),Ea=(t,s)=>s.getSelection.getOrThunk(()=>()=>up(t))().map(u=>{const m=wg(u.start,u.soffset),b=wg(u.finish,u.foffset);return nh.range(m.element,m.offset,b.element,b.offset)}),J0=(t,s,i)=>{const u=Du(s.root).dom,m=oE(t,i,s),b=Ea(u,s).bind(P=>dp(u,nh.exactFromRange(P)).orThunk(()=>{const Z=Je.fromText(H1);Cc(P.start,Z);const ee=q1(u,nh.exact(Z,0,Z,1));return St(Z),ee}).bind(Z=>z0(Z.left,Z.top,Z.width,Z.height))),I=Ea(u,s).bind(P=>Ss(P.start)?B.some(P.start):Bc(P.start)).getOr(t.element);return sE(b,m,s,i,I)};var Dd=[Ko("getSelection"),At("root"),Ko("bubble"),Id(),Ge("overrides",{}),Ge("showAbove",!1),tr("placement",J0)];const bf="link-layout",Xh=t=>t.x+t.width,hp=(t,s)=>t.x-s.width,p=(t,s)=>t.y-s.height+t.height,_=t=>t.y,N=(t,s,i)=>ra(Xh(t),_(t),i.southeast(),ep(),"southeast",ba(t,{left:0,top:2}),bf),Y=(t,s,i)=>ra(hp(t,s),_(t),i.southwest(),jh(),"southwest",ba(t,{right:1,top:2}),bf),pe=(t,s,i)=>ra(Xh(t),p(t,s),i.northeast(),Kv(),"northeast",ba(t,{left:0,bottom:3}),bf),Re=(t,s,i)=>ra(hp(t,s),p(t,s),i.northwest(),A1(),"northwest",ba(t,{right:1,bottom:3}),bf),He=()=>[N,Y,pe,Re],Ye=()=>[Y,N,Re,pe],gt=(t,s,i)=>{const u=sb(i,s.item.element),m=Kh(t.element,s,He(),Ye(),He(),Ye(),B.none());return B.some(rp({anchorBox:u,bubble:cb(),overrides:s.overrides,layouts:m}))};var tn=[At("item"),Id(),Ge("overrides",{}),tr("placement",gt)],en=sr("type",{selection:Dd,node:rE,hotspot:eE,submenu:tn,makeshift:hT});const gn=[Fi("classes",Nr),Vr("mode","all",["all","layout","placement"])],$n=[Ge("useFixed",Tt),Ko("getBounds")],ho=[wl("anchor",en),fn("transition",gn)],Bo=()=>{const t=document.documentElement;return W_(0,0,t.clientWidth,t.clientHeight)},Mo=t=>{const s=Oo(t.element),i=t.element.dom.getBoundingClientRect();return gr(s.left,s.top,i.width,i.height)},Io=(t,s,i,u,m,b)=>{const T=kr(s.anchorBox,t);return lT(T,u.element,s.bubble,s.layouts,m,i,s.overrides,b)},$s=(t,s,i,u,m)=>{const b=B.none();hs(t,s,i,u,m,b)},hs=(t,s,i,u,m,b)=>{const T=ei("placement.info",Ln(ho),m),I=T.anchor,P=u.element,V=i.get(u.uid);cl(()=>{te(P,"position","fixed");const Z=it(P,"visibility");te(P,"visibility","hidden");const ee=s.useFixed()?Bo():Mo(t);I.placement(t,I,ee).each(oe=>{const le=b.orThunk(()=>s.getBounds.map(pn)),Ce=Io(ee,oe,le,u,V,T.transition);i.set(u.uid,Ce)}),Z.fold(()=>{rt(P,"visibility")},oe=>{te(P,"visibility",oe)}),it(P,"left").isNone()&&it(P,"top").isNone()&&it(P,"right").isNone()&&it(P,"bottom").isNone()&&vc(it(P,"position"),"fixed")&&rt(P,"position")},P)};var ti=Object.freeze({__proto__:null,position:$s,positionWithinBounds:hs,getMode:(t,s,i)=>s.useFixed()?"fixed":"absolute",reset:(t,s,i,u)=>{const m=u.element;Dt(["position","left","right","top","bottom"],b=>rt(m,b)),oT(m),i.clear(u.uid)}}),Mc=Object.freeze({__proto__:null,init:()=>{let t={};return Oc({readState:()=>t,clear:m=>{ue(m)?delete t[m]:t={}},set:(m,b)=>{t[m]=b},get:m=>cn(t,m)})}});const Gs=_a({fields:$n,name:"positioning",active:gg,apis:ti,state:Mc}),yf=t=>t.getSystem().isConnected(),ey=t=>{rs(t,Gu());const s=t.components();Dt(s,ey)},Z1=t=>{const s=t.components();Dt(s,Z1),rs(t,rf())},hE=(t,s)=>{t.getSystem().addToWorld(s),oc(t.element)&&Z1(s)},mE=t=>{ey(t),t.getSystem().removeFromWorld(t)},TT=(t,s)=>{Be(t.element,s.element)},pE=t=>{Dt(t.components(),s=>St(s.element)),ut(t.element),t.syncComponents()},Ex=(t,s,i)=>{const u=t.components();pE(t);const m=i(s),b=Bt(u,m);Dt(b,T=>{ey(T),t.getSystem().removeFromWorld(T)}),Dt(m,T=>{yf(T)?TT(t,T):(t.getSystem().addToWorld(T),TT(t,T),oc(t.element)&&Z1(T))}),t.syncComponents()},lR=(t,s,i)=>{const u=t.components(),m=pt(s,I=>Hh(I).toArray());Dt(u,I=>{bo(m,I)||mE(I)});const b=i(s),T=Bt(u,b);Dt(T,I=>{yf(I)&&mE(I)}),Dt(b,I=>{yf(I)||hE(t,I)}),t.syncComponents()},Qh=(t,s)=>{ty(t,s,Be)},ty=(t,s,i)=>{t.getSystem().addToWorld(s),i(t.element,s.element),oc(t.element)&&Z1(s),t.syncComponents()},CT=t=>{ey(t),St(t.element),t.getSystem().removeFromWorld(t)},Jh=t=>{const s=Ec(t.element).bind(i=>t.getSystem().getByDom(i).toOptional());CT(t),s.each(i=>{i.syncComponents()})},ST=t=>{const s=t.components();Dt(s,CT),ut(t.element),t.syncComponents()},ny=(t,s)=>{xT(t,s,Be)},Tg=(t,s)=>{xT(t,s,Da)},xT=(t,s,i)=>{i(t,s.element);const u=nc(s.element);Dt(u,m=>{s.getByDom(m).each(Z1)})},wx=t=>{const s=nc(t.element);Dt(s,i=>{t.getByDom(i).each(ey)}),St(t.element)},AT=(t,s,i,u)=>{i.get().each(T=>{ST(t)});const m=s.getAttachPoint(t);Qh(m,t);const b=t.getSystem().build(u);return Qh(t,b),i.set(b),b},Cg=(t,s,i,u)=>{const m=AT(t,s,i,u);return s.onOpen(t,m),m},uR=(t,s,i,u)=>i.get().map(()=>AT(t,s,i,u)),em=(t,s,i,u,m)=>{Cx(t,s),Cg(t,s,i,u),m(),vE(t,s)},Ju=(t,s,i)=>{i.get().each(u=>{ST(t),Jh(t),s.onClose(t,u),i.clear()})},Tx=(t,s,i)=>i.isOpen(),gE=(t,s,i,u)=>Tx(t,s,i)&&i.get().exists(m=>s.isPartOf(t,m,u)),oy=(t,s,i)=>i.get(),OT=(t,s,i,u)=>{it(t.element,s).fold(()=>{x(t.element,i)},m=>{lo(t.element,i,m)}),te(t.element,s,u)},dR=(t,s,i)=>{Xr(t.element,i).fold(()=>rt(t.element,s),u=>te(t.element,s,u))},Cx=(t,s,i)=>{const u=s.getAttachPoint(t);te(t.element,"position",Gs.getMode(u)),OT(t,"visibility",s.cloakVisibilityAttr,"hidden")},RT=t=>Fo(["top","left","right","bottom"],s=>it(t,s).isSome()),vE=(t,s,i)=>{RT(t.element)||rt(t.element,"position"),dR(t,"visibility",s.cloakVisibilityAttr)};var fR=Object.freeze({__proto__:null,cloak:Cx,decloak:vE,open:Cg,openWhileCloaked:em,close:Ju,isOpen:Tx,isPartOf:gE,getState:oy,setContent:uR}),bE=Object.freeze({__proto__:null,events:(t,s)=>Zs([Nt($m(),(i,u)=>{Ju(i,t,s)})])}),Sx=[Xe("onOpen"),Xe("onClose"),At("isPartOf"),At("getAttachPoint"),Ge("cloakVisibilityAttr","data-precloak-visibility")],mb=Object.freeze({__proto__:null,init:()=>{const t=Ys(),s=we("not-implemented");return Oc({readState:s,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})}});const Uo=_a({fields:Sx,name:"sandboxing",active:bE,apis:fR,state:mb}),mp=we("dismiss.popups"),pb=we("reposition.popups"),IT=we("mouse.released"),mR=ga([Ge("isExtraPart",Tt),fn("fireEventInstead",[Ge("event",gu())])]),sy=t=>{const s=ei("Dismissal",mR,t);return{[mp()]:{schema:ga([At("target")]),onReceive:(i,u)=>{Uo.isOpen(i)&&(Uo.isPartOf(i,u.target)||s.isExtraPart(i,u.target)||s.fireEventInstead.fold(()=>Uo.close(i),b=>rs(i,b.event)))}}}},Y1=ga([fn("fireEventInstead",[Ge("event",eg())]),ac("doReposition")]),K1=t=>{const s=ei("Reposition",Y1,t);return{[pb()]:{onReceive:i=>{Uo.isOpen(i)&&s.fireEventInstead.fold(()=>s.doReposition(i),u=>rs(i,u.event))}}}},DT=(t,s,i)=>{s.store.manager.onLoad(t,s,i)},NT=(t,s,i)=>{s.store.manager.onUnload(t,s,i)};var yE=Object.freeze({__proto__:null,onLoad:DT,onUnload:NT,setValue:(t,s,i,u)=>{s.store.manager.setValue(t,s,i,u)},getValue:(t,s,i)=>s.store.manager.getValue(t,s,i),getState:(t,s,i)=>i}),PT=Object.freeze({__proto__:null,events:(t,s)=>{const i=t.resetOnDom?[Cr((u,m)=>{DT(u,t,s)}),Ac((u,m)=>{NT(u,t,s)})]:[N1(t,s,DT)];return Zs(i)}});const _E=()=>{const t=Gn(null),s=()=>({mode:"memory",value:t.get()}),i=()=>t.get()===null,u=()=>{t.set(null)};return Oc({set:t.set,get:t.get,isNotSet:i,clear:u,readState:s})},iy=()=>Oc({readState:Q}),pp=()=>{const t=Gn({}),s=Gn({});return Oc({readState:()=>({mode:"dataset",dataByValue:t.get(),dataByText:s.get()}),lookup:T=>cn(t.get(),T).orThunk(()=>cn(s.get(),T)),update:T=>{const I=t.get(),P=s.get(),V={},Z={};Dt(T,ee=>{V[ee.value]=ee,cn(ee,"meta").each(oe=>{cn(oe,"text").each(le=>{Z[le]=ee})})}),t.set({...I,...V}),s.set({...P,...Z})},clear:()=>{t.set({}),s.set({})}})};var tm=Object.freeze({__proto__:null,memory:_E,dataset:pp,manual:iy,init:t=>t.store.manager.state(t)});const Sg=(t,s,i,u)=>{const m=s.store;i.update([u]),m.setValue(t,u),s.onSetValue(t,u)},pR=(t,s,i)=>{const u=s.store,m=u.getDataKey(t);return i.lookup(m).getOrThunk(()=>u.getFallbackEntry(m))},Ox=(t,s,i)=>{s.store.initialValue.each(m=>{Sg(t,s,i,m)})},LT=(t,s,i)=>{i.clear()};var gb=[Ko("initialValue"),At("getFallbackEntry"),At("getDataKey"),At("setValue"),tr("manager",{setValue:Sg,getValue:pR,onLoad:Ox,onUnload:LT,state:pp})];const vb=(t,s,i)=>s.store.getValue(t),gR=(t,s,i,u)=>{s.store.setValue(t,u),s.onSetValue(t,u)},vR=(t,s,i)=>{s.store.initialValue.each(u=>{s.store.setValue(t,u)})};var Rx=[At("getValue"),Ge("setValue",Q),Ko("initialValue"),tr("manager",{setValue:gR,getValue:vb,onLoad:vR,onUnload:Q,state:Al.init})];const xg=(t,s,i,u)=>{i.set(u),s.onSetValue(t,u)},BT=(t,s,i)=>i.get(),$T=(t,s,i)=>{s.store.initialValue.each(u=>{i.isNotSet()&&i.set(u)})},EE=(t,s,i)=>{i.clear()};var X1=[Ko("initialValue"),tr("manager",{setValue:xg,getValue:BT,onLoad:$T,onUnload:EE,state:_E})],wE=[qr("store",{mode:"memory"},sr("mode",{memory:X1,manual:Rx,dataset:gb})),Xe("onSetValue"),Ge("resetOnDom",!1)];const hn=_a({fields:wE,name:"representing",active:PT,apis:yE,extra:{setValueFrom:(t,s)=>{const i=hn.getValue(s);hn.setValue(t,i)}},state:tm}),Za=(t,s)=>Mh(t,{},tt(s,i=>km(i.name(),"Cannot configure "+i.name()+" for "+t)).concat([_s("dump",je)])),TE=t=>t.dump,Pr=(t,s)=>({...Pt(s),...t.dump}),_f={field:Za,augment:Pr,get:TE},Ix="placeholder",nu=pu.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),wa=t=>Vo(t,"uiType"),CE=(t,s,i,u)=>t.exists(m=>m!==i.owner)?nu.single(!0,we(i)):cn(u,i.name).fold(()=>{throw new Error("Unknown placeholder component: "+i.name+`
Known: [`+Rs(u)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(i,null,2))},m=>m.replace()),SE=(t,s,i,u)=>wa(i)&&i.uiType===Ix?CE(t,s,i,u):nu.single(!1,we(i)),gp=(t,s,i,u)=>SE(t,s,i,u).fold((b,T)=>{const I=wa(i)?T(s,i.config,i.validated):T(s),P=cn(I,"components").getOr([]),V=pt(P,Z=>gp(t,s,Z,u));return[{...I,components:V}]},(b,T)=>{if(wa(i)){const I=T(s,i.config,i.validated);return i.validated.preprocess.getOr(je)(I)}else return T(s)}),Dx=(t,s,i,u)=>pt(i,m=>gp(t,s,m,u)),FT=(t,s)=>{let i=!1;const u=()=>i,m=()=>{if(i)throw new Error("Trying to use the same placeholder more than once: "+t);return i=!0,s},b=()=>s.fold((T,I)=>T,(T,I)=>T);return{name:we(t),required:b,used:u,replace:m}},Nx=(t,s,i,u)=>{const m=ks(u,(T,I)=>FT(I,T)),b=Dx(t,s,i,m);return Kr(m,T=>{if(T.used()===!1&&T.required())throw new Error("Placeholder: "+T.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(s.components,null,2))}),b},HT=nu.single,VT=nu.multiple,zT=we(Ix),ay=pu.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),xE=Ge("factory",{sketch:je}),cy=Ge("schema",[]),ly=At("name"),AE=Zr("pname","pname",i1(t=>"<alloy."+En(t.name)+">"),El()),Mx=_s("schema",()=>[Ko("preprocess")]),vp=Ge("defaults",we({})),nm=Ge("overrides",we({})),Q1=Ln([xE,cy,ly,AE,vp,nm]),bb=Ln([xE,cy,ly,vp,nm]),UT=Ln([xE,cy,ly,AE,vp,nm]),bR=Ln([xE,Mx,ly,At("unit"),AE,vp,nm]),kx=t=>t.fold(B.some,B.none,B.some,B.some),OE=t=>{const s=i=>i.name;return t.fold(s,s,s,s)},Px=t=>t.fold(je,je,je,je),RE=(t,s)=>i=>{const u=ei("Converting part type",s,i);return t(u)},Ba=RE(ay.required,Q1),Ef=RE(ay.external,bb),Nd=RE(ay.optional,UT),uy=RE(ay.group,bR),wu=we("entirety");var Lx=Object.freeze({__proto__:null,required:Ba,external:Ef,optional:Nd,group:uy,asNamedPart:kx,name:OE,asCommon:Px,original:wu});const WT=(t,s,i,u)=>er(s.defaults(t,i,u),i,{uid:t.partUids[s.name]},s.overrides(t,i,u)),GT=(t,s,i)=>{const u={},m={};return Dt(i,b=>{b.fold(T=>{u[T.pname]=HT(!0,(I,P,V)=>T.factory.sketch(WT(I,T,P,V)))},T=>{const I=s.parts[T.name];m[T.name]=we(T.factory.sketch(WT(s,T,I[wu()]),I))},T=>{u[T.pname]=HT(!1,(I,P,V)=>T.factory.sketch(WT(I,T,P,V)))},T=>{u[T.pname]=VT(!0,(I,P,V)=>{const Z=I[T.name];return tt(Z,ee=>T.factory.sketch(er(T.defaults(I,ee,V),ee,T.overrides(I,ee))))})})}),{internals:we(u),externals:we(m)}},qT=(t,s)=>{const i={};return Dt(s,u=>{kx(u).each(m=>{const b=yR(t,m.pname);i[m.name]=T=>{const I=ei("Part: "+m.name+" in "+t,Ln(m.schema),T);return{...b,config:T,validated:I}}})}),i},yR=(t,s)=>({uiType:zT(),owner:t,name:s}),jT=(t,s,i)=>({uiType:zT(),owner:t,name:s,config:i,validated:{}}),_R=t=>pt(t,s=>s.fold(B.none,B.some,B.none,B.none).map(i=>cc(i.name,i.schema.concat([Ku(wu())]))).toArray()),ER=t=>tt(t,OE),ZT=(t,s,i)=>GT(t,s,i),YT=(t,s,i)=>Nx(B.some(t),s,s.components,i),ir=(t,s,i)=>{const u=s.partUids[i];return t.getSystem().getByUid(u).toOptional()},om=(t,s,i)=>ir(t,s,i).getOrDie("Could not find part: "+i),KT=(t,s,i)=>{const u={},m=s.partUids,b=t.getSystem();return Dt(i,T=>{u[T]=we(b.getByUid(m[T]))}),u},XT=(t,s)=>{const i=t.getSystem();return ks(s.partUids,(u,m)=>we(i.getByUid(u)))},QT=t=>Rs(t.partUids),JT=(t,s,i)=>{const u={},m=s.partUids,b=t.getSystem();return Dt(i,T=>{u[T]=we(b.getByUid(m[T]).getOrDie())}),u},eC=(t,s)=>{const i=ER(s);return xc(tt(i,u=>({key:u,value:t+"-"+u})))},tC=t=>Zr("partUids","partUids",Im(s=>eC(s.uid,t)),El());var nC=Object.freeze({__proto__:null,generate:qT,generateOne:jT,schemas:_R,names:ER,substitutes:ZT,components:YT,defaultUids:eC,defaultUidsSchema:tC,getAllParts:XT,getAllPartNames:QT,getPart:ir,getPartOrDie:om,getParts:KT,getPartsOrDie:JT});const wR=(t,s)=>(t.length>0?[cc("parts",t)]:[]).concat([At("uid"),Ge("dom",{}),Ge("components",[]),Ku("originalSpec"),Ge("debug.sketcher",{})]).concat(s),Bx=(t,s,i,u,m)=>{const b=wR(u,m);return ei(t+" [SpecSchema]",ga(b.concat(s)),i)},TR=(t,s,i,u)=>{const m=Ag(u),b=Bx(t,s,m,[],[]);return i(b,m)},oC=(t,s,i,u,m)=>{const b=Ag(m),T=_R(i),I=tC(i),P=Bx(t,s,b,T,[I]),V=ZT(t,P,i),Z=YT(t,P,V.internals());return u(P,Z,b,V.externals())},CR=t=>Vo(t,"uid"),Ag=t=>CR(t)?t:{...t,uid:Kl("uid")},Sn=t=>t.uid!==void 0,bp=ga([At("name"),At("factory"),At("configFields"),Ge("apis",{}),Ge("extraApis",{})]),SR=ga([At("name"),At("factory"),At("configFields"),At("partFields"),Ge("apis",{}),Ge("extraApis",{})]),ji=t=>{const s=ei("Sketcher for "+t.name,bp,t),i=b=>TR(s.name,s.configFields,s.factory,b),u=ks(s.apis,y1),m=ks(s.extraApis,(b,T)=>Gm(b,T));return{name:s.name,configFields:s.configFields,sketch:i,...u,...m}},xi=t=>{const s=ei("Sketcher for "+t.name,SR,t),i=T=>oC(s.name,s.configFields,s.partFields,s.factory,T),u=qT(s.name,s.partFields),m=ks(s.apis,y1),b=ks(s.extraApis,(T,I)=>Gm(T,I));return{name:s.name,partFields:s.partFields,configFields:s.configFields,sketch:i,parts:u,...m,...b}},Og=t=>Aa("input")(t)&&ki(t,"type")!=="radio"||Aa("textarea")(t);var $x=Object.freeze({__proto__:null,getCurrent:(t,s,i)=>s.find(t)});const xR=[At("find")],Qo=_a({fields:xR,name:"composing",apis:$x}),Fx=["input","button","textarea","select"],DE=(t,s,i)=>{(s.disabled()?rC:iC)(t,s)},J1=(t,s)=>s.useNative===!0&&bo(Fx,ec(t.element)),Hx=t=>ua(t.element,"disabled"),AR=t=>{lo(t.element,"disabled","disabled")},sC=t=>{x(t.element,"disabled")},OR=t=>ki(t.element,"aria-disabled")==="true",mk=t=>{lo(t.element,"aria-disabled","true")},Vx=t=>{lo(t.element,"aria-disabled","false")},rC=(t,s,i)=>{s.disableClass.each(m=>{As(t.element,m)}),(J1(t,s)?AR:mk)(t),s.onDisabled(t)},iC=(t,s,i)=>{s.disableClass.each(m=>{Bs(t.element,m)}),(J1(t,s)?sC:Vx)(t),s.onEnabled(t)},zx=(t,s)=>J1(t,s)?Hx(t):OR(t);var NE=Object.freeze({__proto__:null,enable:iC,disable:rC,isDisabled:zx,onLoad:DE,set:(t,s,i,u)=>{(u?rC:iC)(t,s)}}),IR=Object.freeze({__proto__:null,exhibit:(t,s)=>Zu({classes:s.disabled()?s.disableClass.toArray():[]}),events:(t,s)=>Zs([g1(Ws(),(i,u)=>zx(i,t)),N1(t,s,DE)])}),gk=[Ci("disabled",Tt),Ge("useNative",!0),Ko("disableClass"),Xe("onDisabled"),Xe("onEnabled")];const oo=_a({fields:gk,name:"disabling",active:IR,apis:NE}),yp=(t,s,i,u)=>{const m=qi(t.element,"."+s.highlightClass);Dt(m,b=>{Fo(u,I=>ys(I.element,b))||(Bs(b,s.highlightClass),t.getSystem().getByDom(b).each(I=>{s.onDehighlight(t,I),rs(I,tg())}))})},aC=(t,s,i)=>yp(t,s,i,[]),DR=(t,s,i,u)=>{cC(t,s,i,u)&&(Bs(u.element,s.highlightClass),s.onDehighlight(t,u),rs(u,tg()))},dy=(t,s,i,u)=>{yp(t,s,i,[u]),cC(t,s,i,u)||(As(u.element,s.highlightClass),s.onHighlight(t,u),rs(u,v_()))},vk=(t,s,i)=>{lC(t,s).each(u=>{dy(t,s,i,u)})},ME=(t,s,i)=>{kE(t,s).each(u=>{dy(t,s,i,u)})},NR=(t,s,i,u)=>{_b(t,s,i,u).fold(m=>{throw m},m=>{dy(t,s,i,m)})},MR=(t,s,i,u)=>{const m=PE(t,s);Pn(m,u).each(T=>{dy(t,s,i,T)})},cC=(t,s,i,u)=>sa(u.element,s.highlightClass),yb=(t,s,i)=>Mr(t.element,"."+s.highlightClass).bind(u=>t.getSystem().getByDom(u).toOptional()),_b=(t,s,i,u)=>{const m=qi(t.element,"."+s.itemClass);return B.from(m[u]).fold(()=>io.error(new Error("No element found with index "+u)),t.getSystem().getByDom)},lC=(t,s,i)=>Mr(t.element,"."+s.itemClass).bind(u=>t.getSystem().getByDom(u).toOptional()),kE=(t,s,i)=>{const u=qi(t.element,"."+s.itemClass);return(u.length>0?B.some(u[u.length-1]):B.none()).bind(b=>t.getSystem().getByDom(b).toOptional())},uC=(t,s,i,u)=>{const m=qi(t.element,"."+s.itemClass);return Po(m,T=>sa(T,s.highlightClass)).bind(T=>{const I=Jf(T,u,0,m.length-1);return t.getSystem().getByDom(m[I]).toOptional()})},dC=(t,s,i)=>uC(t,s,i,-1),kR=(t,s,i)=>uC(t,s,i,1),PE=(t,s,i)=>{const u=qi(t.element,"."+s.itemClass);return cu(tt(u,m=>t.getSystem().getByDom(m).toOptional()))};var fC=Object.freeze({__proto__:null,dehighlightAll:aC,dehighlight:DR,highlight:dy,highlightFirst:vk,highlightLast:ME,highlightAt:NR,highlightBy:MR,isHighlighted:cC,getHighlighted:yb,getFirst:lC,getLast:kE,getPrevious:dC,getNext:kR,getCandidates:PE}),hC=[At("highlightClass"),At("itemClass"),Xe("onHighlight"),Xe("onDehighlight")];const ps=_a({fields:hC,name:"highlighting",apis:fC}),Ux=[8],sm=[9],oh=[13],fy=[27],Tu=[32],LE=[37],ev=[38],hy=[39],_p=[40],mC=(t,s,i)=>{const u=bi(t.slice(0,s)),m=bi(t.slice(s+1));return Pn(u.concat(m),i)},BE=(t,s,i)=>{const u=bi(t.slice(0,s));return Pn(u,i)},Eb=(t,s,i)=>{const u=t.slice(0,s),m=t.slice(s+1);return Pn(m.concat(u),i)},s6=(t,s,i)=>{const u=t.slice(s+1);return Pn(u,i)},is=t=>s=>{const i=s.raw;return bo(t,i.which)},wf=t=>s=>vi(t,i=>i(s)),tv=t=>t.raw.shiftKey===!0,Wx=t=>t.raw.ctrlKey===!0,my=Pe(tv),cs=(t,s)=>({matches:t,classification:s}),Gx=(t,s)=>Pn(t,u=>u.matches(s)).map(u=>u.classification),qx=(t,s,i)=>{s.exists(m=>i.exists(b=>ys(b,m)))||kn(t,m1(),{prevFocus:s,newFocus:i})},pC=()=>{const t=i=>Ql(i.element);return{get:t,set:(i,u)=>{const m=t(i);i.getSystem().triggerFocus(u,i.element);const b=t(i);qx(i,m,b)}}},gC=()=>{const t=i=>ps.getHighlighted(i).map(u=>u.element);return{get:t,set:(i,u)=>{const m=t(i);i.getSystem().getByDom(u).fold(Q,T=>{ps.highlight(i,T)});const b=t(i);qx(i,m,b)}}};var wb;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(wb||(wb={}));const nv=(t,s,i,u,m)=>{const b=()=>t.concat([Ge("focusManager",pC()),qr("focusInside","onFocus",ef(V=>bo(["onFocus","onEnterOrSpace","onApi"],V)?io.value(V):io.error("Invalid value for focusInside"))),tr("handler",P),tr("state",s),tr("sendFocusIn",m)]),T=(V,Z,ee,oe,le)=>{const Ce=ee(V,Z,oe,le);return Gx(Ce,Z.event).bind(ke=>ke(V,Z,oe,le))},P={schema:b,processKey:T,toEvents:(V,Z)=>{const ee=V.focusInside!==wb.OnFocusMode?B.none():m(V).map(Ce=>Nt(zc(),(ke,st)=>{Ce(ke,V,Z),st.stop()})),oe=(Ce,ke)=>{const st=is(Tu.concat(oh))(ke.event);V.focusInside===wb.OnEnterOrSpaceMode&&st&&Lm(Ce,ke)&&m(V).each(Ue=>{Ue(Ce,V,Z),ke.stop()})},le=[Nt(oa(),(Ce,ke)=>{T(Ce,ke,i,V,Z).fold(()=>{oe(Ce,ke)},st=>{ke.stop()})}),Nt(Iv(),(Ce,ke)=>{T(Ce,ke,u,V,Z).each(st=>{ke.stop()})})];return Zs(ee.toArray().concat(le))}};return P},jx=t=>{const s=[Ko("onEscape"),Ko("onEnter"),Ge("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Ge("firstTabstop",0),Ge("useTabstopAt",Rt),Ko("visibilitySelector")].concat([t]),i=(ke,st)=>{const Ue=ke.visibilitySelector.bind(ot=>hf(st,ot)).getOr(st);return Cn(Ue)>0},u=(ke,st)=>{const Ue=qi(ke.element,st.selector),ot=fo(Ue,ft=>i(st,ft));return B.from(ot[st.firstTabstop])},m=(ke,st)=>st.focusManager.get(ke).bind(Ue=>hf(Ue,st.selector)),b=(ke,st)=>i(ke,st)&&ke.useTabstopAt(st),T=(ke,st,Ue)=>{u(ke,st).each(ot=>{st.focusManager.set(ke,ot)})},I=(ke,st,Ue,ot,ft)=>ft(st,Ue,vt=>b(ot,vt)).fold(()=>ot.cyclic?B.some(!0):B.none(),vt=>(ot.focusManager.set(ke,vt),B.some(!0))),P=(ke,st,Ue,ot)=>{const ft=qi(ke.element,Ue.selector);return m(ke,Ue).bind(vt=>Po(ft,_t(ys,vt)).bind(Lt=>I(ke,ft,Lt,Ue,ot)))},V=(ke,st,Ue)=>{const ot=Ue.cyclic?mC:BE;return P(ke,st,Ue,ot)},Z=(ke,st,Ue)=>{const ot=Ue.cyclic?Eb:s6;return P(ke,st,Ue,ot)},ee=(ke,st,Ue)=>Ue.onEnter.bind(ot=>ot(ke,st)),oe=(ke,st,Ue)=>Ue.onEscape.bind(ot=>ot(ke,st)),le=we([cs(wf([tv,is(sm)]),V),cs(is(sm),Z),cs(wf([my,is(oh)]),ee)]),Ce=we([cs(is(fy),oe)]);return nv(s,Al.init,le,Ce,()=>B.some(T))};var d=jx(_s("cyclic",Tt)),g=jx(_s("cyclic",Rt));const E=(t,s,i)=>(cf(t,i,Ws()),B.some(!0)),O=(t,s,i)=>Og(i)&&is(Tu)(s.event)?B.none():E(t,s,i),L=(t,s)=>B.some(!0),W=[Ge("execute",O),Ge("useSpace",!1),Ge("useEnter",!0),Ge("useControlEnter",!1),Ge("useDown",!1)],ne=(t,s,i)=>i.execute(t,s,t.element),ve=(t,s,i,u)=>{const m=i.useSpace&&!Og(t.element)?Tu:[],b=i.useEnter?oh:[],T=i.useDown?_p:[],I=m.concat(b).concat(T);return[cs(is(I),ne)].concat(i.useControlEnter?[cs(wf([Wx,is(oh)]),ne)]:[])},Se=(t,s,i,u)=>i.useSpace&&!Og(t.element)?[cs(is(Tu),L)]:[];var Me=nv(W,Al.init,ve,Se,()=>B.none());const Qe=()=>{const t=Ys();return Oc({readState:()=>t.get().map(m=>({numRows:String(m.numRows),numColumns:String(m.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(m,b)=>{t.set({numRows:m,numColumns:b})},getNumRows:()=>t.get().map(m=>m.numRows),getNumColumns:()=>t.get().map(m=>m.numColumns)})};var ln=Object.freeze({__proto__:null,flatgrid:Qe,init:t=>t.state(t)});const nn=t=>(s,i,u,m)=>{const b=t(s.element);return Tn(b,s,i,u,m)},Ct=(t,s)=>{const i=lb(t,s);return nn(i)},an=(t,s)=>{const i=lb(s,t);return nn(i)},wt=t=>(s,i,u,m)=>Tn(t,s,i,u,m),Tn=(t,s,i,u,m)=>u.focusManager.get(s).bind(T=>t(s.element,T,u,m)).map(T=>(u.focusManager.set(s,T),!0)),Jn=wt,_o=wt,ar=wt,mc=t=>t.offsetWidth<=0&&t.offsetHeight<=0,hi=t=>!mc(t.dom),Cu=(t,s)=>Po(t,s).map(i=>({index:i,candidates:t})),Rg=(t,s,i)=>{const u=T=>ys(T,s),m=qi(t,i),b=fo(m,hi);return Cu(b,u)},py=(t,s)=>Po(t,i=>ys(s,i)),vC=(t,s,i,u)=>{const m=Math.floor(s/i),b=s%i;return u(m,b).bind(T=>{const I=T.row*i+T.column;return I>=0&&I<t.length?B.some(t[I]):B.none()})},$E=(t,s,i,u,m)=>vC(t,s,u,(b,T)=>{const P=b===i-1?t.length-b*u:u,V=Jf(T,m,0,P-1);return B.some({row:b,column:V})}),Ks=(t,s,i,u,m)=>vC(t,s,u,(b,T)=>{const I=Jf(b,m,0,i-1),V=I===i-1?t.length-I*u:u,Z=Ic(T,0,V-1);return B.some({row:I,column:Z})}),Il=(t,s,i,u)=>$E(t,s,i,u,1),Dl=(t,s,i,u)=>$E(t,s,i,u,-1),Tf=(t,s,i,u)=>Ks(t,s,i,u,-1),Su=(t,s,i,u)=>Ks(t,s,i,u,1),Ig=[At("selector"),Ge("execute",O),xr("onEscape"),Ge("captureTab",!1),x1()],Nl=(t,s,i)=>{Mr(t.element,s.selector).each(u=>{s.focusManager.set(t,u)})},Zx=(t,s)=>s.focusManager.get(t).bind(i=>hf(i,s.selector)),Tb=(t,s,i,u)=>Zx(t,i).bind(m=>i.execute(t,s,m)),Md=t=>(s,i,u,m)=>Rg(s,i,u.selector).bind(b=>t(b.candidates,b.index,m.getNumRows().getOr(u.initSize.numRows),m.getNumColumns().getOr(u.initSize.numColumns))),kc=(t,s,i)=>i.captureTab?B.some(!0):B.none(),kd=(t,s,i)=>i.onEscape(t,s),Yx=Md(Dl),Kx=Md(Il),PR=Md(Tf),LR=Md(Su),bC=we([cs(is(LE),Ct(Yx,Kx)),cs(is(hy),an(Yx,Kx)),cs(is(ev),Jn(PR)),cs(is(_p),_o(LR)),cs(wf([tv,is(sm)]),kc),cs(wf([my,is(sm)]),kc),cs(is(Tu.concat(oh)),Tb)]),Cb=we([cs(is(fy),kd),cs(is(Tu),L)]);var ov=nv(Ig,Qe,bC,Cb,()=>B.some(Nl));const bk=(t,s,i,u,m)=>{const b=I=>ec(I)==="button"&&ki(I,"disabled")==="disabled",T=(I,P,V)=>m(I,P,u,0,V.length-1,V[P],Z=>b(V[Z])?T(I,Z,V):B.from(V[Z]));return Rg(t,i,s).bind(I=>{const P=I.index,V=I.candidates;return T(P,P,V)})},Xx=(t,s,i,u)=>bk(t,s,i,u,(m,b,T,I,P,V,Z)=>{const ee=Ic(b+T,I,P);return ee===m?B.from(V):Z(ee)}),gy=(t,s,i,u)=>bk(t,s,i,u,(m,b,T,I,P,V,Z)=>{const ee=Jf(b,T,I,P);return ee===m?B.none():Z(ee)}),BR=[At("selector"),Ge("getInitial",B.none),Ge("execute",O),xr("onEscape"),Ge("executeOnMove",!1),Ge("allowVertical",!0),Ge("allowHorizontal",!0),Ge("cycles",!0)],r6=(t,s)=>s.focusManager.get(t).bind(i=>hf(i,s.selector)),$R=(t,s,i)=>r6(t,i).bind(u=>i.execute(t,s,u)),i6=(t,s,i)=>{s.getInitial(t).orThunk(()=>Mr(t.element,s.selector)).each(u=>{s.focusManager.set(t,u)})},yk=(t,s,i)=>(i.cycles?gy:Xx)(t,i.selector,s,-1),_k=(t,s,i)=>(i.cycles?gy:Xx)(t,i.selector,s,1),Ek=t=>(s,i,u,m)=>t(s,i,u,m).bind(()=>u.executeOnMove?$R(s,i,u):B.some(!0)),wk=(t,s,i)=>i.onEscape(t,s),FR=(t,s,i,u)=>{const m=[...i.allowHorizontal?LE:[]].concat(i.allowVertical?ev:[]),b=[...i.allowHorizontal?hy:[]].concat(i.allowVertical?_p:[]);return[cs(is(m),Ek(Ct(yk,_k))),cs(is(b),Ek(an(yk,_k))),cs(is(oh),$R),cs(is(Tu),$R)]},a6=we([cs(is(Tu),L),cs(is(fy),wk)]);var c6=nv(BR,Al.init,FR,a6,()=>B.some(i6));const Qx=(t,s,i)=>B.from(t[s]).bind(u=>B.from(u[i]).map(m=>({rowIndex:s,columnIndex:i,cell:m}))),Tk=(t,s,i,u)=>{const b=t[s].length,T=Jf(i,u,0,b-1);return Qx(t,s,T)},Sb=(t,s,i,u)=>{const m=Jf(i,u,0,t.length-1),b=t[m].length,T=Ic(s,0,b-1);return Qx(t,m,T)},Ck=(t,s,i,u)=>{const b=t[s].length,T=Ic(i+u,0,b-1);return Qx(t,s,T)},Sk=(t,s,i,u)=>{const m=Ic(i+u,0,t.length-1),b=t[m].length,T=Ic(s,0,b-1);return Qx(t,m,T)},HR=(t,s,i)=>Tk(t,s,i,1),l6=(t,s,i)=>Tk(t,s,i,-1),xk=(t,s,i)=>Sb(t,i,s,-1),Ak=(t,s,i)=>Sb(t,i,s,1),Ok=(t,s,i)=>Ck(t,s,i,-1),Rk=(t,s,i)=>Ck(t,s,i,1),u6=(t,s,i)=>Sk(t,i,s,-1),d6=(t,s,i)=>Sk(t,i,s,1),f6=[cc("selectors",[At("row"),At("cell")]),Ge("cycles",!0),Ge("previousSelector",B.none),Ge("execute",O)],VR=(t,s,i)=>{s.previousSelector(t).orThunk(()=>{const m=s.selectors;return Mr(t.element,m.cell)}).each(m=>{s.focusManager.set(t,m)})},h6=(t,s,i)=>Ql(t.element).bind(u=>i.execute(t,s,u)),m6=(t,s)=>tt(t,i=>qi(i,s.selectors.cell)),Jx=(t,s)=>(i,u,m)=>{const b=m.cycles?t:s;return hf(u,m.selectors.row).bind(T=>{const I=qi(T,m.selectors.cell);return py(I,u).bind(P=>{const V=qi(i,m.selectors.row);return py(V,T).bind(Z=>{const ee=m6(V,m);return b(ee,Z,P).map(oe=>oe.cell)})})})},Ik=Jx(l6,Ok),zR=Jx(HR,Rk),p6=Jx(xk,u6),g6=Jx(Ak,d6),v6=we([cs(is(LE),Ct(Ik,zR)),cs(is(hy),an(Ik,zR)),cs(is(ev),Jn(p6)),cs(is(_p),_o(g6)),cs(is(Tu.concat(oh)),h6)]),Dk=we([cs(is(Tu),L)]);var b6=nv(f6,Al.init,v6,Dk,()=>B.some(VR));const y6=[At("selector"),Ge("execute",O),Ge("moveOnTab",!1)],UR=(t,s,i)=>i.focusManager.get(t).bind(u=>i.execute(t,s,u)),_6=(t,s,i)=>{Mr(t.element,s.selector).each(u=>{s.focusManager.set(t,u)})},Nk=(t,s,i)=>gy(t,i.selector,s,-1),yC=(t,s,i)=>gy(t,i.selector,s,1),E6=(t,s,i,u)=>i.moveOnTab?ar(Nk)(t,s,i,u):B.none(),Mk=(t,s,i,u)=>i.moveOnTab?ar(yC)(t,s,i,u):B.none(),ed=we([cs(is(ev),ar(Nk)),cs(is(_p),ar(yC)),cs(wf([tv,is(sm)]),E6),cs(wf([my,is(sm)]),Mk),cs(is(oh),UR),cs(is(Tu),UR)]),w6=we([cs(is(Tu),L)]);var kk=nv(y6,Al.init,ed,w6,()=>B.some(_6));const T6=[xr("onSpace"),xr("onEnter"),xr("onShiftEnter"),xr("onLeft"),xr("onRight"),xr("onTab"),xr("onShiftTab"),xr("onUp"),xr("onDown"),xr("onEscape"),Ge("stopSpaceKeyup",!1),Ko("focusIn")],C6=(t,s,i)=>[cs(is(Tu),i.onSpace),cs(wf([my,is(oh)]),i.onEnter),cs(wf([tv,is(oh)]),i.onShiftEnter),cs(wf([tv,is(sm)]),i.onShiftTab),cs(wf([my,is(sm)]),i.onTab),cs(is(ev),i.onUp),cs(is(_p),i.onDown),cs(is(LE),i.onLeft),cs(is(hy),i.onRight),cs(is(Tu),i.onSpace)],Pk=(t,s,i)=>[...i.stopSpaceKeyup?[cs(is(Tu),L)]:[],cs(is(fy),i.onEscape)];var S6=nv(T6,Al.init,C6,Pk,t=>t.focusIn);const Lk=d.schema(),Bk=g.schema(),x6=c6.schema(),A6=ov.schema(),O6=b6.schema(),R6=Me.schema(),$k=kk.schema(),Fk=S6.schema();var xb=Object.freeze({__proto__:null,acyclic:Lk,cyclic:Bk,flow:x6,flatgrid:A6,matrix:O6,execution:R6,menu:$k,special:Fk});const Hk=t=>la(t,"setGridSize"),Fn=V_({branchKey:"mode",branches:xb,name:"keying",active:{events:(t,s)=>t.handler.toEvents(t,s)},apis:{focusIn:(t,s,i)=>{s.sendFocusIn(s).fold(()=>{t.getSystem().triggerFocus(t.element,t.element)},u=>{u(t,s,i)})},setGridSize:(t,s,i,u,m)=>{Hk(i)?i.setGridSize(u,m):console.error("Layout does not support setGridSize")}},state:ln}),eA=(t,s)=>{cl(()=>{Ex(t,s,()=>tt(s,t.getSystem().build))},t.element)},Vk=(t,s)=>{cl(()=>{lR(t,s,()=>S_(t.element,s,t.getSystem().buildOrPatch))},t.element)},I6=(t,s,i,u)=>{mE(s);const m=C_(t.element,i,u,t.getSystem().buildOrPatch);hE(t,m),t.syncComponents()},WR=(t,s,i)=>{const u=t.getSystem().build(i);ty(t,u,s)},D6=(t,s,i,u)=>{Jh(s),WR(t,(m,b)=>We(m,b,i),u)},zk=(t,s,i,u)=>(s.reuseDom?Vk:eA)(t,u),GR=(t,s,i,u)=>{WR(t,Be,u)},qR=(t,s,i,u)=>{WR(t,xe,u)},N6=(t,s,i,u)=>{const m=Ep(t);Pn(m,T=>ys(u.element,T.element)).each(Jh)},Ep=(t,s)=>t.components(),jR=(t,s,i,u,m)=>{const b=Ep(t);return B.from(b[u]).map(T=>(m.fold(()=>Jh(T),I=>{(s.reuseDom?I6:D6)(t,T,u,I)}),T))};var k6=Object.freeze({__proto__:null,append:GR,prepend:qR,remove:N6,replaceAt:jR,replaceBy:(t,s,i,u,m)=>{const b=Ep(t);return Po(b,u).bind(T=>jR(t,s,i,T,m))},set:zk,contents:Ep});const uo=_a({fields:[ui("reuseDom",!0)],name:"replacing",apis:k6}),_C=(t,s)=>{const i=Zs(s);return _a({fields:[At("enabled")],name:t,active:{events:we(i)}})},po=(t,s)=>{const i=_C(t,s);return{key:t,value:{config:{},me:i,configAsRaw:we({}),initialConfig:{},state:Al}}},ZR=(t,s)=>{s.ignore||(al(t.element),s.onFocus(t))};var Ab=Object.freeze({__proto__:null,focus:ZR,blur:(t,s)=>{s.ignore||k1(t.element)},isFocused:t=>P1(t.element)}),Uk=Object.freeze({__proto__:null,exhibit:(t,s)=>{const i=s.ignore?{}:{attributes:{tabindex:"-1"}};return Zu(i)},events:t=>Zs([Nt(zc(),(s,i)=>{ZR(s,t),i.stop()})].concat(t.stopMousedown?[Nt(Hi(),(s,i)=>{i.event.prevent()})]:[]))}),sv=[Xe("onFocus"),Ge("stopMousedown",!1),Ge("ignore",!1)];const Zn=_a({fields:sv,name:"focusing",active:Uk,apis:Ab}),Wk=t=>({init:()=>{const i=Gn(t);return{get:()=>i.get(),set:I=>i.set(I),clear:()=>i.set(t),readState:()=>i.get()}}}),Gk=(t,s,i)=>{const u=s.aria;u.update(t,u,i.get())},qk=(t,s,i)=>{s.toggleClass.each(u=>{i.get()?As(t.element,u):Bs(t.element,u)})},by=(t,s,i,u)=>{const m=i.get();i.set(u),qk(t,s,i),Gk(t,s,i),m!==u&&s.onToggled(t,u)},YR=(t,s,i)=>{by(t,s,i,!i.get())},L6=(t,s,i)=>{by(t,s,i,!0)},B6=(t,s,i)=>{by(t,s,i,!1)},$6=(t,s,i)=>i.get(),EC=(t,s,i)=>{by(t,s,i,s.selected)};var KR=Object.freeze({__proto__:null,onLoad:EC,toggle:YR,isOn:$6,on:L6,off:B6,set:by}),F6=Object.freeze({__proto__:null,exhibit:()=>Zu({}),events:(t,s)=>{const i=eb(t,s,YR),u=N1(t,s,EC);return Zs(Kt([t.toggleOnExecute?[i]:[],[u]]))}});const Zk=(t,s,i)=>{lo(t.element,"aria-pressed",i),s.syncWithExpanded&&XR(t,s,i)},Yk=(t,s,i)=>{lo(t.element,"aria-selected",i)},Kk=(t,s,i)=>{lo(t.element,"aria-checked",i)},XR=(t,s,i)=>{lo(t.element,"aria-expanded",i)};var H6=[Ge("selected",!1),Ko("toggleClass"),Ge("toggleOnExecute",!0),Xe("onToggled"),qr("aria",{mode:"none"},sr("mode",{pressed:[Ge("syncWithExpanded",!1),tr("update",Zk)],checked:[tr("update",Kk)],expanded:[tr("update",XR)],selected:[tr("update",Yk)],none:[tr("update",Q)]}))];const xo=_a({fields:H6,name:"toggling",active:F6,apis:KR,state:Wk(!1)}),Xk=()=>{const t=(s,i)=>{i.stop(),af(s)};return[Nt(xl(),t),Nt(f1(),t),Vm(jl()),Vm(Hi())]},tA=t=>{const s=i=>Yl((u,m)=>{i(u),m.stop()});return Zs(Kt([t.map(s).toArray(),Xk()]))},Qk="alloy.item-hover",Jk="alloy.item-focus",QR="alloy.item-toggled",eP=t=>{(Ql(t.element).isNone()||Zn.isFocused(t))&&(Zn.isFocused(t)||Zn.focus(t),kn(t,Qk,{item:t}))},tP=t=>{kn(t,Jk,{item:t})},V6=(t,s)=>{kn(t,QR,{item:t,state:s})},FE=we(Qk),z6=we(Jk),wC=we(QR),JR=t=>t.toggling.map(s=>s.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),nP=t=>({aria:{mode:"checked"},...$r(t,(s,i)=>i!=="exclusive"),onToggled:(s,i)=>{ce(t.onToggled)&&t.onToggled(s,i),V6(s,i)}}),oP=t=>({dom:t.dom,domModification:{...t.domModification,attributes:{role:JR(t),...t.domModification.attributes,"aria-haspopup":t.hasSubmenu,...t.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:_f.augment(t.itemBehaviours,[t.toggling.fold(xo.revoke,s=>xo.config(nP(s))),Zn.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:s=>{tP(s)}}),Fn.config({mode:"execution"}),hn.config({store:{mode:"memory",initialValue:t.data}}),po("item-type-events",[...Xk(),Nt(of(),eP),Nt(sf(),Zn.focus)])]),components:t.components,eventOrder:t.eventOrder}),U6=[At("data"),At("components"),At("dom"),Ge("hasSubmenu",!1),Ko("toggling"),_f.field("itemBehaviours",[xo,Zn,Fn,hn]),Ge("ignoreFocus",!1),Ge("domModification",{}),tr("builder",oP),Ge("eventOrder",{})],W6=t=>({dom:t.dom,components:t.components,events:Zs([c0(sf())])}),sP=[At("dom"),At("components"),tr("builder",W6)],eI=we("item-widget"),nA=we([Ba({name:"widget",overrides:t=>({behaviours:Pt([hn.config({store:{mode:"manual",getValue:s=>t.data,setValue:Q}})])})})]),G6=t=>{const s=ZT(eI(),t,nA()),i=YT(eI(),t,s.internals()),u=b=>ir(b,t,"widget").map(T=>(Fn.focusIn(T),T)),m=(b,T)=>Og(T.event.target)?B.none():(()=>(t.autofocus&&T.setSource(b.element),B.none()))();return{dom:t.dom,components:i,domModification:t.domModification,events:Zs([Yl((b,T)=>{u(b).each(I=>{T.stop()})}),Nt(of(),eP),Nt(sf(),(b,T)=>{t.autofocus?u(b):Zn.focus(b)})]),behaviours:_f.augment(t.widgetBehaviours,[hn.config({store:{mode:"memory",initialValue:t.data}}),Zn.config({ignore:t.ignoreFocus,onFocus:b=>{tP(b)}}),Fn.config({mode:"special",focusIn:t.autofocus?b=>{u(b)}:z_(),onLeft:m,onRight:m,onEscape:(b,T)=>!Zn.isFocused(b)&&!t.autofocus?(Zn.focus(b),B.some(!0)):(t.autofocus&&T.setSource(b.element),B.none())})])}},q6=[At("uid"),At("data"),At("components"),At("dom"),Ge("autofocus",!1),Ge("ignoreFocus",!1),_f.field("widgetBehaviours",[hn,Zn,Fn]),Ge("domModification",{}),tC(nA()),tr("builder",G6)],rP=sr("type",{widget:q6,item:U6,separator:sP}),oA=(t,s)=>({mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:s.initSize.numColumns,numRows:s.initSize.numRows},focusManager:t.focusManager}),tI=(t,s)=>({mode:"matrix",selectors:{row:s.rowSelector,cell:"."+t.markers.item},previousSelector:s.previousSelector,focusManager:t.focusManager}),nI=(t,s)=>({mode:"menu",selector:"."+t.markers.item,moveOnTab:s.moveOnTab,focusManager:t.focusManager}),j6=we([uy({factory:{sketch:t=>{const s=ei("menu.spec item",rP,t);return s.builder(s)}},name:"items",unit:"item",defaults:(t,s)=>Vo(s,"uid")?s:{...s,uid:Kl("item")},overrides:(t,s)=>({type:s.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}})})]),Z6=we([At("value"),At("items"),At("dom"),At("components"),Ge("eventOrder",{}),Za("menuBehaviours",[ps,hn,Qo,Fn]),qr("movement",{mode:"menu",moveOnTab:!0},sr("mode",{grid:[x1(),tr("config",oA)],matrix:[tr("config",tI),At("rowSelector"),Ge("previousSelector",B.none)],menu:[Ge("moveOnTab",!0),tr("config",nI)]})),C1(),Ge("fakeFocus",!1),Ge("focusManager",pC()),Xe("onHighlight"),Xe("onDehighlight")]),iP=we("alloy.menu-focus"),Y6=(t,s)=>{const i=qi(t.element,'[role="menuitemradio"][aria-checked="true"]');Dt(i,u=>{ys(u,s.element)||t.getSystem().getByDom(u).each(m=>{xo.off(m)})})},aP=(t,s,i,u)=>({uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Pr(t.menuBehaviours,[ps.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight,onDehighlight:t.onDehighlight}),hn.config({store:{mode:"memory",initialValue:t.value}}),Qo.config({find:B.some}),Fn.config(t.movement.config(t,t.movement))]),events:Zs([Nt(z6(),(m,b)=>{const T=b.event;m.getSystem().getByDom(T.target).each(I=>{ps.highlight(m,I),b.stop(),kn(m,iP(),{menu:m,item:I})})}),Nt(FE(),(m,b)=>{const T=b.event.item;ps.highlight(m,T)}),Nt(wC(),(m,b)=>{const{item:T,state:I}=b.event;I&&ki(T.element,"role")==="menuitemradio"&&Y6(m,T)})]),components:s,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}),Ob=xi({name:"Menu",configFields:Z6(),partFields:j6(),factory:aP}),K6=t=>hl(t,(s,i)=>({k:s,v:i})),cP=(t,s,i,u)=>cn(i,u).bind(m=>cn(t,m).bind(b=>{const T=cP(t,s,i,b);return B.some([b].concat(T))})).getOr([]),X6=(t,s)=>{const i={};Kr(t,(T,I)=>{Dt(T,P=>{i[P]=I})});const u=s,m=K6(s),b=ks(m,(T,I)=>[I].concat(cP(i,u,m,I)));return ks(i,T=>cn(b,T).getOr([T]))},Q6=()=>{const t=Gn({}),s=Gn({}),i=Gn({}),u=Ys(),m=Gn({}),b=()=>{t.set({}),s.set({}),i.set({}),u.clear()},T=()=>u.get().isNone(),I=(Jt,Lt)=>{s.set({...s.get(),[Jt]:{type:"prepared",menu:Lt}})},P=(Jt,Lt,un,On)=>{u.set(Jt),t.set(un),s.set(Lt),m.set(On);const $o=X6(On,un);i.set($o)},V=Jt=>yi(t.get(),(Lt,un)=>Lt===Jt),Z=(Jt,Lt,un)=>ke(Jt).bind(On=>V(Jt).bind($o=>Lt($o).map(Hn=>({triggeredMenu:On,triggeringItem:Hn,triggeringPath:un})))),ee=(Jt,Lt)=>{const un=fo(Ue(Jt).toArray(),On=>ke(On).isSome());return cn(i.get(),Jt).bind(On=>{const $o=bi(un.concat(On)),Hn=pt($o,(ko,so)=>Z(ko,Lt,$o.slice(0,so+1)).fold(()=>vc(u.get(),ko)?[]:[B.none()],Do=>[B.some(Do)]));return Ps(Hn)})},oe=Jt=>cn(t.get(),Jt).map(Lt=>{const un=cn(i.get(),Jt).getOr([]);return[Lt].concat(un)}),le=Jt=>cn(i.get(),Jt).bind(Lt=>Lt.length>1?B.some(Lt.slice(1)):B.none()),Ce=Jt=>cn(i.get(),Jt),ke=Jt=>st(Jt).bind(lP),st=Jt=>cn(s.get(),Jt),Ue=Jt=>cn(t.get(),Jt);return{setMenuBuilt:I,setContents:P,expand:oe,refresh:Ce,collapse:le,lookupMenu:st,lookupItem:Ue,otherMenus:Jt=>{const Lt=m.get();return Bt(Rs(Lt),Jt)},getPrimary:()=>u.get().bind(ke),getMenus:()=>s.get(),clear:b,isClear:T,getTriggeringPath:ee}},lP=t=>t.type==="prepared"?B.some(t.menu):B.none(),uP={init:Q6,extractPreparedMenu:lP},oI=En("tiered-menu-item-highlight"),dP=En("tiered-menu-item-dehighlight");var xu;(function(t){t[t.HighlightMenuAndItem=0]="HighlightMenuAndItem",t[t.HighlightJustMenu=1]="HighlightJustMenu",t[t.HighlightNone=2]="HighlightNone"})(xu||(xu={}));const J6=(t,s)=>{const i=Ys(),u=(Gt,xn,vn)=>ks(vn,(Kn,wo)=>{const es=()=>Ob.sketch({...Kn,value:wo,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:(ca,ws)=>{kn(ca,oI,{menuComp:ca,itemComp:ws})},onDehighlight:(ca,ws)=>{kn(ca,dP,{menuComp:ca,itemComp:ws})},focusManager:t.fakeFocus?gC():pC()});return wo===xn?{type:"prepared",menu:Gt.getSystem().build(es())}:{type:"notbuilt",nbMenu:es}}),m=uP.init(),b=Gt=>{const xn=u(Gt,t.data.primary,t.data.menus),vn=P();return m.setContents(t.data.primary,xn,t.data.expansions,vn),m.getPrimary()},T=Gt=>hn.getValue(Gt).value,I=(Gt,xn,vn)=>or(xn,Kn=>{if(!Kn.getSystem().isConnected())return B.none();const wo=ps.getCandidates(Kn);return Pn(wo,es=>T(es)===vn)}),P=Gt=>ks(t.data.menus,(xn,vn)=>pt(xn.items,Kn=>Kn.type==="separator"?[]:[Kn.data.value])),V=ps.highlight,Z=(Gt,xn)=>{V(Gt,xn),ps.getHighlighted(xn).orThunk(()=>ps.getFirst(xn)).each(vn=>{t.fakeFocus?ps.highlight(xn,vn):cf(Gt,vn.element,sf())})},ee=(Gt,xn)=>cu(tt(xn,vn=>Gt.lookupMenu(vn).bind(Kn=>Kn.type==="prepared"?B.some(Kn.menu):B.none()))),oe=(Gt,xn,vn)=>{const Kn=ee(xn,xn.otherMenus(vn));Dt(Kn,wo=>{Wc(wo.element,[t.markers.backgroundMenu]),t.stayInDom||uo.remove(Gt,wo)})},le=Gt=>i.get().getOrThunk(()=>{const xn={},vn=qi(Gt.element,`.${t.markers.item}`),Kn=fo(vn,wo=>ki(wo,"aria-haspopup")==="true");return Dt(Kn,wo=>{Gt.getSystem().getByDom(wo).each(es=>{const ca=T(es);xn[ca]=es})}),i.set(xn),xn}),Ce=(Gt,xn)=>{const vn=le(Gt);Kr(vn,(Kn,wo)=>{const es=bo(xn,wo);lo(Kn.element,"aria-expanded",es)})},ke=(Gt,xn,vn)=>B.from(vn[0]).bind(Kn=>xn.lookupMenu(Kn).bind(wo=>{if(wo.type==="notbuilt")return B.none();{const es=wo.menu,ca=ee(xn,vn.slice(1));return Dt(ca,ws=>{As(ws.element,t.markers.backgroundMenu)}),oc(es.element)||uo.append(Gt,il(es)),Wc(es.element,[t.markers.backgroundMenu]),Z(Gt,es),oe(Gt,xn,vn),B.some(es)}}));let st;(function(Gt){Gt[Gt.HighlightSubmenu=0]="HighlightSubmenu",Gt[Gt.HighlightParent=1]="HighlightParent"})(st||(st={}));const Ue=(Gt,xn,vn)=>{if(vn.type==="notbuilt"){const Kn=Gt.getSystem().build(vn.nbMenu());return m.setMenuBuilt(xn,Kn),Kn}else return vn.menu},ot=(Gt,xn,vn=st.HighlightSubmenu)=>{if(xn.hasConfigured(oo)&&oo.isDisabled(xn))return B.some(xn);{const Kn=T(xn);return m.expand(Kn).bind(wo=>(Ce(Gt,wo),B.from(wo[0]).bind(es=>m.lookupMenu(es).bind(ca=>{const ws=Ue(Gt,es,ca);return oc(ws.element)||uo.append(Gt,il(ws)),t.onOpenSubmenu(Gt,xn,ws,bi(wo)),vn===st.HighlightSubmenu?(ps.highlightFirst(ws),ke(Gt,m,wo)):(ps.dehighlightAll(ws),B.some(xn))}))))}},ft=(Gt,xn)=>{const vn=T(xn);return m.collapse(vn).bind(Kn=>(Ce(Gt,Kn),ke(Gt,m,Kn).map(wo=>(t.onCollapseMenu(Gt,xn,wo),wo))))},vt=(Gt,xn)=>{const vn=T(xn);return m.refresh(vn).bind(Kn=>(Ce(Gt,Kn),ke(Gt,m,Kn)))},Jt=(Gt,xn)=>Og(xn.element)?B.none():ot(Gt,xn,st.HighlightSubmenu),Lt=(Gt,xn)=>Og(xn.element)?B.none():ft(Gt,xn),un=(Gt,xn)=>ft(Gt,xn).orThunk(()=>t.onEscape(Gt,xn).map(()=>Gt)),On=Gt=>(xn,vn)=>hf(vn.getSource(),`.${t.markers.item}`).bind(Kn=>xn.getSystem().getByDom(Kn).toOptional().bind(wo=>Gt(xn,wo).map(Rt))),$o=Zs([Nt(iP(),(Gt,xn)=>{const vn=xn.event.item;m.lookupItem(T(vn)).each(()=>{const Kn=xn.event.menu;ps.highlight(Gt,Kn);const wo=T(xn.event.item);m.refresh(wo).each(es=>oe(Gt,m,es))})}),Yl((Gt,xn)=>{const vn=xn.event.target;Gt.getSystem().getByDom(vn).each(Kn=>{T(Kn).indexOf("collapse-item")===0&&ft(Gt,Kn),ot(Gt,Kn,st.HighlightSubmenu).fold(()=>{t.onExecute(Gt,Kn)},Q)})}),Cr((Gt,xn)=>{b(Gt).each(vn=>{uo.append(Gt,il(vn)),t.onOpenMenu(Gt,vn),t.highlightOnOpen===xu.HighlightMenuAndItem?Z(Gt,vn):t.highlightOnOpen===xu.HighlightJustMenu&&V(Gt,vn)})}),Nt(oI,(Gt,xn)=>{t.onHighlightItem(Gt,xn.event.menuComp,xn.event.itemComp)}),Nt(dP,(Gt,xn)=>{t.onDehighlightItem(Gt,xn.event.menuComp,xn.event.itemComp)}),...t.navigateOnHover?[Nt(FE(),(Gt,xn)=>{const vn=xn.event.item;vt(Gt,vn),ot(Gt,vn,st.HighlightParent),t.onHover(Gt,vn)})]:[]]),Hn=Gt=>ps.getHighlighted(Gt).bind(ps.getHighlighted),ko=Gt=>{Hn(Gt).each(xn=>{ft(Gt,xn)})},so=Gt=>{m.getPrimary().each(xn=>{Z(Gt,xn)})},Do=Gt=>B.from(Gt.components()[0]).filter(xn=>ki(xn.element,"role")==="menu"),Os={collapseMenu:ko,highlightPrimary:so,repositionMenus:Gt=>{m.getPrimary().bind(vn=>Hn(Gt).bind(Kn=>{const wo=T(Kn),es=_h(m.getMenus()),ca=cu(tt(es,uP.extractPreparedMenu));return m.getTriggeringPath(wo,ws=>I(Gt,ca,ws))}).map(Kn=>({primary:vn,triggeringPath:Kn}))).fold(()=>{Do(Gt).each(vn=>{t.onRepositionMenu(Gt,vn,[])})},({primary:vn,triggeringPath:Kn})=>{t.onRepositionMenu(Gt,vn,Kn)})}};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Pr(t.tmenuBehaviours,[Fn.config({mode:"special",onRight:On(Jt),onLeft:On(Lt),onEscape:On(un),focusIn:(Gt,xn)=>{m.getPrimary().each(vn=>{cf(Gt,vn.element,sf())})}}),ps.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),Qo.config({find:Gt=>ps.getHighlighted(Gt)}),uo.config({})]),eventOrder:t.eventOrder,apis:Os,events:$o}},eV=we("collapse-item"),tV=(t,s,i)=>({primary:t,menus:s,expansions:i}),yy=(t,s)=>({primary:t,menus:Uu(t,s),expansions:{}}),nV=t=>({value:En(eV()),meta:{text:t}}),_y=ji({name:"TieredMenu",configFields:[T0("onExecute"),T0("onEscape"),Jm("onOpenMenu"),Jm("onOpenSubmenu"),Xe("onRepositionMenu"),Xe("onCollapseMenu"),Ge("highlightOnOpen",xu.HighlightMenuAndItem),cc("data",[At("primary"),At("menus"),At("expansions")]),Ge("fakeFocus",!1),Xe("onHighlightItem"),Xe("onDehighlightItem"),Xe("onHover"),xd(),At("dom"),Ge("navigateOnHover",!0),Ge("stayInDom",!1),Za("tmenuBehaviours",[Fn,ps,Qo,uo]),Ge("eventOrder",{})],apis:{collapseMenu:(t,s)=>{t.collapseMenu(s)},highlightPrimary:(t,s)=>{t.highlightPrimary(s)},repositionMenus:(t,s)=>{t.repositionMenus(s)}},factory:J6,extraApis:{tieredData:tV,singleData:yy,collapseItem:nV}}),Ey=(t,s,i,u,m)=>{const b=()=>t.lazySink(s),T=u.type==="horizontal"?{layouts:{onLtr:()=>D1(),onRtl:()=>Ad()}}:{},I=V=>V.length===2,P=V=>I(V)?T:{};return _y.sketch({dom:{tag:"div"},data:u.data,markers:u.menu.markers,highlightOnOpen:u.menu.highlightOnOpen,fakeFocus:u.menu.fakeFocus,onEscape:()=>(Uo.close(s),t.onEscape.map(V=>V(s)),B.some(!0)),onExecute:()=>B.some(!0),onOpenMenu:(V,Z)=>{Gs.positionWithinBounds(b().getOrDie(),Z,i,m())},onOpenSubmenu:(V,Z,ee,oe)=>{const le=b().getOrDie();Gs.position(le,ee,{anchor:{type:"submenu",item:Z,...P(oe)}})},onRepositionMenu:(V,Z,ee)=>{const oe=b().getOrDie();Gs.positionWithinBounds(oe,Z,i,m()),Dt(ee,le=>{const Ce=P(le.triggeringPath);Gs.position(oe,le.triggeredMenu,{anchor:{type:"submenu",item:le.triggeringItem,...Ce}})})}})},oV=(t,s)=>{const i=(oe,le)=>t.getRelated(oe).exists(ke=>Xm(ke,le)),u=(oe,le)=>{Uo.setContent(oe,le)},m=(oe,le,Ce)=>{const ke=B.none;b(oe,le,Ce,ke)},b=(oe,le,Ce,ke)=>{const st=t.lazySink(oe).getOrDie();Uo.openWhileCloaked(oe,le,()=>Gs.positionWithinBounds(st,oe,Ce,ke())),hn.setValue(oe,B.some({mode:"position",config:Ce,getBounds:ke}))},T=(oe,le,Ce)=>{I(oe,le,Ce,B.none)},I=(oe,le,Ce,ke)=>{const st=Ey(t,oe,le,Ce,ke);Uo.open(oe,st),hn.setValue(oe,B.some({mode:"menu",menu:st}))},P=oe=>{Uo.isOpen(oe)&&(hn.setValue(oe,B.none()),Uo.close(oe))},V=oe=>Uo.getState(oe),Z=oe=>{Uo.isOpen(oe)&&hn.getValue(oe).each(le=>{switch(le.mode){case"menu":Uo.getState(oe).each(_y.repositionMenus);break;case"position":const Ce=t.lazySink(oe).getOrDie();Gs.positionWithinBounds(Ce,oe,le.config,le.getBounds());break}})},ee={setContent:u,showAt:m,showWithinBounds:b,showMenuAt:T,showMenuWithinBounds:I,hide:P,getContent:V,reposition:Z,isOpen:Uo.isOpen};return{uid:t.uid,dom:t.dom,behaviours:Pr(t.inlineBehaviours,[Uo.config({isPartOf:(oe,le,Ce)=>Xm(le,Ce)||i(oe,Ce),getAttachPoint:oe=>t.lazySink(oe).getOrDie(),onOpen:oe=>{t.onShow(oe)},onClose:oe=>{t.onHide(oe)}}),hn.config({store:{mode:"memory",initialValue:B.none()}}),yu.config({channels:{...sy({isExtraPart:s.isExtraPart,...t.fireDismissalEventInstead.map(oe=>({fireEventInstead:{event:oe.event}})).getOr({})}),...K1({...t.fireRepositionEventInstead.map(oe=>({fireEventInstead:{event:oe.event}})).getOr({}),doReposition:Z})}})]),eventOrder:t.eventOrder,apis:ee}},ia=ji({name:"InlineView",configFields:[At("lazySink"),Xe("onShow"),Xe("onHide"),Ht("onEscape"),Za("inlineBehaviours",[Uo,hn,yu]),fn("fireDismissalEventInstead",[Ge("event",gu())]),fn("fireRepositionEventInstead",[Ge("event",eg())]),Ge("getRelated",B.none),Ge("isExtraPart",Tt),Ge("eventOrder",B.none)],factory:oV,apis:{showAt:(t,s,i,u)=>{t.showAt(s,i,u)},showWithinBounds:(t,s,i,u,m)=>{t.showWithinBounds(s,i,u,m)},showMenuAt:(t,s,i,u)=>{t.showMenuAt(s,i,u)},showMenuWithinBounds:(t,s,i,u,m)=>{t.showMenuWithinBounds(s,i,u,m)},hide:(t,s)=>{t.hide(s)},isOpen:(t,s)=>t.isOpen(s),getContent:(t,s)=>t.getContent(s),setContent:(t,s,i)=>{t.setContent(s,i)},reposition:(t,s)=>{t.reposition(s)}}});var wp=tinymce.util.Tools.resolve("tinymce.util.Delay");const jc=ji({name:"Button",factory:t=>{const s=tA(t.action),i=t.dom.tag,u=b=>cn(t.dom,"attributes").bind(T=>cn(T,b)),m=()=>{if(i==="button"){const b=u("type").getOr("button"),T=u("role").map(I=>({role:I})).getOr({});return{type:b,...T}}else return{role:t.role.getOr(u("role").getOr("button"))}};return{uid:t.uid,dom:t.dom,components:t.components,events:s,behaviours:_f.augment(t.buttonBehaviours,[Zn.config({}),Fn.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:m()},eventOrder:t.eventOrder}},configFields:[Ge("uid",void 0),At("dom"),Ge("components",[]),_f.field("buttonBehaviours",[Zn,Fn]),Ko("action"),Ko("role"),Ge("eventOrder",{})]}),Wo=t=>{const s=Sn(t)&&la(t,"uid")?t.uid:Kl("memento");return{get:b=>b.getSystem().getByUid(s).getOrDie(),getOpt:b=>b.getSystem().getByUid(s).toOptional(),asSpec:()=>({...t,uid:s})}};var Cf=tinymce.util.Tools.resolve("tinymce.util.I18n");const fP={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},sI="temporary-placeholder",rI=t=>()=>cn(t,sI).getOr("!not found!"),TC=(t,s)=>{const i=t.toLowerCase();if(Cf.isRtl()){const u=Ni(i,"-rtl");return Vo(s,u)?u:i}else return i},hP=(t,s)=>cn(s,TC(t,s)),mP=(t,s)=>{const i=s();return hP(t,i).getOrThunk(rI(i))},sV=(t,s,i)=>{const u=s();return hP(t,u).or(i).getOrThunk(rI(u))},sA=t=>Cf.isRtl()?Vo(fP,t):!1,CC=()=>po("add-focusable",[Cr(t=>{Qf(t.element,"svg").each(s=>lo(s,"focusable","false"))})]),pP=(t,s,i,u)=>{var m,b;const T=sA(s)?["tox-icon--flip"]:[],I=cn(i,TC(s,i)).or(u).getOrThunk(rI(i));return{dom:{tag:t.tag,attributes:(m=t.attributes)!==null&&m!==void 0?m:{},classes:t.classes.concat(T),innerHtml:I},behaviours:Pt([...(b=t.behaviours)!==null&&b!==void 0?b:[],CC()])}},sh=(t,s,i,u=B.none())=>pP(s,t,i(),u),gP=(t,s,i)=>{const u=i(),m=Pn(t,b=>Vo(u,TC(b,u)));return pP(s,m.getOr(sI),u,B.none())},rV={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},iI=ji({name:"Notification",factory:t=>{const s=Wo({dom:{tag:"p",innerHtml:t.translationProvider(t.text)},behaviours:Pt([uo.config({})])}),i=le=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${le}%`}}}),u=le=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${le}%`}}),m=Wo({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[i(0)]},u(0)],behaviours:Pt([uo.config({})])}),I={updateProgress:(le,Ce)=>{le.getSystem().isConnected()&&m.getOpt(le).each(ke=>{uo.set(ke,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[i(Ce)]},u(Ce)])})},updateText:(le,Ce)=>{if(le.getSystem().isConnected()){const ke=s.get(le);uo.set(ke,[Sr(Ce)])}}},P=Kt([t.icon.toArray(),t.level.toArray(),t.level.bind(le=>B.from(rV[le])).toArray()]),V=Wo(jc.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[sh("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":t.translationProvider("Close")}},t.iconProvider)],action:le=>{t.onAction(le)}})),Z=gP(P,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),ee={dom:{tag:"div",classes:["tox-notification__body"]},components:[s.asSpec()],behaviours:Pt([uo.config({})])},oe=[Z,ee];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map(le=>["tox-notification","tox-notification--in",`tox-notification--${le}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:Pt([Zn.config({}),po("notification-events",[Nt(Vf(),le=>{V.getOpt(le).each(Zn.focus)})])]),components:oe.concat(t.progress?[m.asSpec()]:[]).concat(t.closeButton?[V.asSpec()]:[]),apis:I}},configFields:[Ko("level"),At("progress"),Ko("icon"),At("onAction"),At("text"),At("iconProvider"),At("translationProvider"),ui("closeButton",!0)],apis:{updateProgress:(t,s,i)=>{t.updateProgress(s,i)},updateText:(t,s,i)=>{t.updateText(s,i)}}});var aI=(t,s,i)=>{const u=s.backstage.shared,m=()=>{const P=ts(Je.fromDom(t.getContentAreaContainer())),V=Na(),Z=Ic(V.x,P.x,P.right),ee=Ic(V.y,P.y,P.bottom),oe=Math.max(P.right,V.right),le=Math.max(P.bottom,V.bottom);return B.some(Ls(Z,ee,oe-Z,le-ee))};return{open:(P,V)=>{const Z=()=>{V(),ia.hide(oe)},ee=fc(iI.sketch({text:P.text,level:bo(["success","error","warning","warn","info"],P.type)?P.type:void 0,progress:P.progressBar===!0,icon:P.icon,closeButton:P.closeButton,onAction:Z,iconProvider:u.providers.icons,translationProvider:u.providers.translate})),oe=fc(ia.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:u.getSink,fireDismissalEventInstead:{},...u.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));i.add(oe),ae(P.timeout)&&P.timeout>0&&wp.setEditorTimeout(t,()=>{Z()},P.timeout);const Ce={close:Z,reposition:()=>{const ke=il(ee),st={maxHeightFunction:Yh()},Ue=t.notificationManager.getNotifications();if(Ue[0]===Ce){const ot={...u.anchors.banner(),overrides:st};ia.showWithinBounds(oe,ke,{anchor:ot},m)}else Ze(Ue,Ce).each(ot=>{const ft=Ue[ot-1].getEl(),vt={type:"node",root:Ji(),node:B.some(Je.fromDom(ft)),overrides:st,layouts:{onRtl:()=>[Pa],onLtr:()=>[Pa]}};ia.showWithinBounds(oe,ke,{anchor:vt},m)})},text:ke=>{iI.updateText(ee,ke)},settings:P,getEl:()=>ee.element.dom,progressBar:{value:ke=>{iI.updateProgress(ee,ke)}}};return Ce},close:P=>{P.close()},getArgs:P=>P.settings}},SC=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),xC=tinymce.util.Tools.resolve("tinymce.EditorManager"),rv=tinymce.util.Tools.resolve("tinymce.Env"),Sf;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(Sf||(Sf={}));var HE;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(HE||(HE={}));const Ar=t=>s=>s.options.get(t),AC=t=>s=>B.from(t(s)),bP=t=>{const s=rv.deviceType.isPhone(),i=rv.deviceType.isTablet()||s,u=t.options.register,m=T=>D(T)||T===!1,b=T=>D(T)||ae(T);u("skin",{processor:T=>D(T)||T===!1,default:"oxide"}),u("skin_url",{processor:"string"}),u("height",{processor:b,default:Math.max(t.getElement().offsetHeight,400)}),u("width",{processor:b,default:SC.DOM.getStyle(t.getElement(),"width")}),u("min_height",{processor:"number",default:100}),u("min_width",{processor:"number"}),u("max_height",{processor:"number"}),u("max_width",{processor:"number"}),u("style_formats",{processor:"object[]"}),u("style_formats_merge",{processor:"boolean",default:!1}),u("style_formats_autohide",{processor:"boolean",default:!1}),u("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),u("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),u("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),u("font_size_input_default_unit",{processor:"string",default:"pt"}),u("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),u("content_langs",{processor:"object[]"}),u("removed_menuitems",{processor:"string",default:""}),u("menubar",{processor:T=>D(T)||fe(T),default:!s}),u("menu",{processor:"object",default:{}}),u("toolbar",{processor:T=>fe(T)||D(T)||q(T)?{value:T,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),co(9,T=>{u("toolbar"+(T+1),{processor:"string"})}),u("toolbar_mode",{processor:"string",default:i?"scrolling":"floating"}),u("toolbar_groups",{processor:"object",default:{}}),u("toolbar_location",{processor:"string",default:HE.auto}),u("toolbar_persist",{processor:"boolean",default:!1}),u("toolbar_sticky",{processor:"boolean",default:t.inline}),u("toolbar_sticky_offset",{processor:"number",default:0}),u("fixed_toolbar_container",{processor:"string",default:""}),u("fixed_toolbar_container_target",{processor:"object"}),u("ui_mode",{processor:"string",default:"combined"}),u("file_picker_callback",{processor:"function"}),u("file_picker_validator_handler",{processor:"function"}),u("file_picker_types",{processor:"string"}),u("typeahead_urls",{processor:"boolean",default:!0}),u("anchor_top",{processor:m,default:"#top"}),u("anchor_bottom",{processor:m,default:"#bottom"}),u("draggable_modal",{processor:"boolean",default:!1}),u("statusbar",{processor:"boolean",default:!0}),u("elementpath",{processor:"boolean",default:!0}),u("branding",{processor:"boolean",default:!0}),u("promotion",{processor:"boolean",default:!0}),u("resize",{processor:T=>T==="both"||fe(T),default:!rv.deviceType.isTouch()}),u("sidebar_show",{processor:"string"})},yP=Ar("readonly"),OC=Ar("height"),rA=Ar("width"),iA=AC(Ar("min_width")),RC=AC(Ar("min_height")),aA=AC(Ar("max_width")),cA=AC(Ar("max_height")),_P=AC(Ar("style_formats")),EP=Ar("style_formats_merge"),wP=Ar("style_formats_autohide"),cI=Ar("content_langs"),TP=Ar("removed_menuitems"),VE=Ar("toolbar_mode"),lA=Ar("toolbar_groups"),uA=Ar("toolbar_location"),CP=Ar("fixed_toolbar_container"),iV=Ar("fixed_toolbar_container_target"),dA=Ar("toolbar_persist"),SP=Ar("toolbar_sticky_offset"),xP=Ar("menubar"),fA=Ar("toolbar"),AP=Ar("file_picker_callback"),OP=Ar("file_picker_validator_handler"),lI=Ar("font_size_input_default_unit"),hA=Ar("file_picker_types"),RP=Ar("typeahead_urls"),IC=Ar("anchor_top"),IP=Ar("anchor_bottom"),DP=Ar("draggable_modal"),NP=Ar("statusbar"),MP=Ar("elementpath"),kP=Ar("branding"),PP=Ar("resize"),uI=Ar("paste_as_text"),LP=Ar("sidebar_show"),BP=Ar("promotion"),DC=t=>t.options.get("skin")===!1,Dg=t=>t.options.get("menubar")!==!1,$P=t=>{const s=t.options.get("skin_url");if(DC(t))return s;if(s)return t.documentBaseURI.toAbsolute(s);{const i=t.options.get("skin");return xC.baseURL+"/skins/ui/"+i}},FP=t=>t.options.get("line_height_formats").split(" "),zE=t=>{const s=fA(t),i=D(s),u=q(s)&&s.length>0;return!UE(t)&&(u||i||s===!0)},dI=t=>{const s=co(9,u=>t.options.get("toolbar"+(u+1))),i=fo(s,D);return jn(i.length>0,i)},UE=t=>dI(t).fold(()=>{const s=fA(t);return ge(s,D)&&s.length>0},Rt),fI=t=>uA(t)===HE.bottom,hI=t=>{var s;if(!t.inline)return B.none();const i=(s=CP(t))!==null&&s!==void 0?s:"";if(i.length>0)return Mr(Ji(),i);const u=iV(t);return ue(u)?B.some(Je.fromDom(u)):B.none()},wy=t=>t.inline&&hI(t).isSome(),NC=t=>hI(t).getOrThunk(()=>Mi(Oa(Je.fromDom(t.getElement())))),mI=t=>t.inline&&!Dg(t)&&!zE(t)&&!UE(t),WE=t=>(t.options.get("toolbar_sticky")||t.inline)&&!wy(t)&&!mI(t),Rb=t=>!wy(t)&&t.options.get("ui_mode")==="split",GE=t=>{const s=t.options.get("menu");return ks(s,i=>({...i,items:i.items}))};var aV=Object.freeze({__proto__:null,get ToolbarMode(){return Sf},get ToolbarLocation(){return HE},register:bP,getSkinUrl:$P,isReadOnly:yP,isSkinDisabled:DC,getHeightOption:OC,getWidthOption:rA,getMinWidthOption:iA,getMinHeightOption:RC,getMaxWidthOption:aA,getMaxHeightOption:cA,getUserStyleFormats:_P,shouldMergeStyleFormats:EP,shouldAutoHideStyleFormats:wP,getLineHeightFormats:FP,getContentLanguages:cI,getRemovedMenuItems:TP,isMenubarEnabled:Dg,isMultipleToolbars:UE,isToolbarEnabled:zE,isToolbarPersist:dA,getMultipleToolbarsOption:dI,getUiContainer:NC,useFixedContainer:wy,isSplitUiMode:Rb,getToolbarMode:VE,isDraggableModal:DP,isDistractionFree:mI,isStickyToolbar:WE,getStickyToolbarOffset:SP,getToolbarLocation:uA,isToolbarLocationBottom:fI,getToolbarGroups:lA,getMenus:GE,getMenubar:xP,getToolbar:fA,getFilePickerCallback:AP,getFilePickerTypes:hA,useTypeaheadUrls:RP,getAnchorTop:IC,getAnchorBottom:IP,getFilePickerValidatorHandler:OP,getFontSizeInputDefaultUnit:lI,useStatusBar:NP,useElementPath:MP,promotionEnabled:BP,useBranding:kP,getResize:PP,getPasteAsText:uI,getSidebarShow:LP});const HP="[data-mce-autocompleter]",mA=t=>hf(t,HP),pI=t=>Mr(t,HP),VP={setup:(t,s)=>{const i=(m,b)=>{kn(m,oa(),{raw:b})},u=()=>t.getMenu().bind(ps.getHighlighted);s.on("keydown",m=>{const b=m.which;t.isActive()&&(t.isMenuOpen()?b===13?(u().each(af),m.preventDefault()):b===40?(u().fold(()=>{t.getMenu().each(ps.highlightFirst)},T=>{i(T,m)}),m.preventDefault(),m.stopImmediatePropagation()):(b===37||b===38||b===39)&&u().each(T=>{i(T,m),m.preventDefault(),m.stopImmediatePropagation()}):(b===13||b===38||b===40)&&t.cancelIfNecessary())}),s.on("NodeChange",m=>{t.isActive()&&!t.isProcessingAction()&&mA(Je.fromDom(m.element)).isNone()&&t.cancelIfNecessary()})}};var gI;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(gI||(gI={}));var Tp=gI;const MC="tox-menu-nav__js",pA="tox-collection__item",vI="tox-swatch",cV={normal:MC,color:vI},zP="tox-collection__item--enabled",lV="tox-collection__group-heading",UP="tox-collection__item-icon",bI="tox-collection__item-label",uV="tox-collection__item-accessory",WP="tox-collection__item-caret",dV="tox-collection__item-checkmark",kC="tox-collection__item--active",GP="tox-collection__item-container",yI="tox-collection__item-container--column",qP="tox-collection__item-container--row",fV="tox-collection__item-container--align-right",hV="tox-collection__item-container--align-left",jP="tox-collection__item-container--valign-top",mV="tox-collection__item-container--valign-middle",pV="tox-collection__item-container--valign-bottom",ZP=t=>cn(cV,t).getOr(MC),gV=t=>t==="color"?"tox-swatches":"tox-menu",_I=t=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:gV(t),tieredMenu:"tox-tiered-menu"}),Ty=t=>{const s=_I(t);return{backgroundMenu:s.backgroundMenu,selectedMenu:s.selectedMenu,menu:s.menu,selectedItem:s.selectedItem,item:ZP(t)}},EI=(t,s,i)=>{const u=_I(i);return{tag:"div",classes:Kt([[u.menu,`tox-menu-${s}-column`],t?[u.hasIcons]:[]])}},vV=[Ob.parts.items({})],gA=(t,s,i)=>{const u=_I(i);return{dom:{tag:"div",classes:Kt([[u.tieredMenu]])},markers:Ty(i)}},YP=we([Ko("data"),Ge("inputAttributes",{}),Ge("inputStyles",{}),Ge("tag","input"),Ge("inputClasses",[]),Xe("onSetValue"),Ge("styles",{}),Ge("eventOrder",{}),Za("inputBehaviours",[hn,Zn]),Ge("selectOnFocus",!0)]),KP=t=>Pt([Zn.config({onFocus:t.selectOnFocus?s=>{const i=s.element,u=Xl(i);i.dom.setSelectionRange(0,u.length)}:Q})]),bV=t=>({...KP(t),...Pr(t.inputBehaviours,[hn.config({store:{mode:"manual",...t.data.map(s=>({initialValue:s})).getOr({}),getValue:s=>Xl(s.element),setValue:(s,i)=>{Xl(s.element)!==i&&Yu(s.element,i)}},onSetValue:t.onSetValue})])}),XP=t=>({tag:t.tag,attributes:{type:"text",...t.inputAttributes},styles:t.inputStyles,classes:t.inputClasses}),yV=(t,s)=>({uid:t.uid,dom:XP(t),components:[],behaviours:bV(t),eventOrder:t.eventOrder}),Cy=ji({name:"Input",configFields:YP(),factory:yV}),QP=En("refetch-trigger-event"),JP=En("redirect-menu-item-interaction"),eL="tox-menu__searcher",vA=t=>Mr(t.element,`.${eL}`).bind(s=>t.getSystem().getByDom(s).toOptional()),PC=vA,_V=(t,s)=>{hn.setValue(t,s.fetchPattern),t.element.dom.selectionStart=s.selectionStart,t.element.dom.selectionEnd=s.selectionEnd},bA=t=>{const s=hn.getValue(t),i=t.element.dom.selectionStart,u=t.element.dom.selectionEnd;return{fetchPattern:s,selectionStart:i,selectionEnd:u}},EV=(t,s)=>{Xr(s.element,"id").each(i=>lo(t.element,"aria-activedescendant",i))},wV=t=>{const s=(m,b)=>(b.cut(),B.none()),i=(m,b)=>{const T={interactionEvent:b.event,eventType:b.event.raw.type};return kn(m,JP,T),B.some(!0)},u="searcher-events";return{dom:{tag:"div",classes:[pA]},components:[Cy.sketch({inputClasses:[eL,"tox-textfield"],inputAttributes:{...t.placeholder.map(m=>({placeholder:t.i18n(m)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:Pt([po(u,[Nt(Vc(),m=>{rs(m,QP)}),Nt(oa(),(m,b)=>{b.event.raw.key==="Escape"&&b.stop()})]),Fn.config({mode:"special",onLeft:s,onRight:s,onSpace:s,onEnter:i,onEscape:i,onUp:i,onDown:i})]),eventOrder:{keydown:[u,Fn.name()]}})]}},yA="tox-collection--results__js",tL=t=>{var s;return t.dom?{...t,dom:{...t.dom,attributes:{...(s=t.dom.attributes)!==null&&s!==void 0?s:{},id:En("aria-item-search-result-id"),"aria-selected":"false"}}}:t},wI=(t,s)=>i=>{const u=Ho(i,s);return tt(u,m=>({dom:t,components:m}))},nL=t=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Ob.parts.items({preprocess:t!=="auto"?wI({tag:"div",classes:["tox-swatches__row"]},t):je})]}]}),TV=t=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Ob.parts.items({preprocess:wI({tag:"div",classes:["tox-collection__group"]},t)})]}),_A=(t,s)=>{const i=[];let u=[];return Dt(t,(m,b)=>{s(m,b)?(u.length>0&&i.push(u),u=[],(Vo(m.dom,"innerHtml")||m.components&&m.components.length>0)&&u.push(m)):u.push(m)}),u.length>0&&i.push(u),tt(i,m=>({dom:{tag:"div",classes:["tox-collection__group"]},components:m}))},LC=(t,s,i)=>Ob.parts.items({preprocess:u=>{const m=tt(u,i);return t!=="auto"&&t>1?wI({tag:"div",classes:["tox-collection__group"]},t)(m):_A(m,(b,T)=>s[T].type==="separator")}}),TI=(t,s,i=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[LC(t,s,je)]}),CI=(t,s,i=!0)=>{const u=En("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",yA].concat(t===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:u}},components:[LC(t,s,tL)]}},EA=(t,s,i)=>{const u=En("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[wV({i18n:Cf.translate,placeholder:i.placeholder}),{dom:{tag:"div",classes:[...t===1?["tox-collection--list"]:["tox-collection--grid"],yA],attributes:{id:u}},components:[LC(t,s,tL)]}]}},oL=(t,s=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Ob.parts.items({preprocess:i=>_A(i,(u,m)=>t[m].type==="separator")})]}),rh=t=>Fo(t,s=>"icon"in s&&s.icon!==void 0),Cp=t=>(console.error(Sc(t)),console.log(t),B.none()),CV=(t,s,i,u,m)=>{const b=oL(i);return{value:t,dom:b.dom,components:b.components,items:i}},SI=(t,s,i,u,m)=>{const b=()=>m.menuType!=="searchable"?TI(u,i):m.searchMode.searchMode==="search-with-field"?EA(u,i,m.searchMode):CI(u,i);if(m.menuType==="color"){const T=nL(u);return{value:t,dom:T.dom,components:T.components,items:i}}else if(m.menuType==="normal"&&u==="auto"){const T=TI(u,i);return{value:t,dom:T.dom,components:T.components,items:i}}else if(m.menuType==="normal"||m.menuType==="searchable"){const T=b();return{value:t,dom:T.dom,components:T.components,items:i}}else if(m.menuType==="listpreview"&&u!=="auto"){const T=TV(u);return{value:t,dom:T.dom,components:T.components,items:i}}else return{value:t,dom:EI(s,u,m.menuType),components:vV,items:i}},aa=Gr("type"),xI=Gr("name"),Ib=Gr("label"),iv=Gr("text"),sL=Gr("title"),wA=Gr("icon"),qE=Gr("value"),AI=ac("fetch"),SV=ac("getSubmenuItems"),Db=ac("onAction"),OI=ac("onItemAction"),Sy=Ci("onSetup",()=>Q),rL=me("name"),av=me("text"),rm=me("icon"),TA=me("tooltip"),RI=me("label"),xV=me("shortcut"),AV=Ht("select"),BC=ui("active",!1),iL=ui("borderless",!1),im=ui("enabled",!0),$C=ui("primary",!1),II=t=>Ge("columns",t),xy=Ge("meta",{}),CA=Ci("onAction",Q),Ay=t=>na("type",t),DI=t=>Zr("name","name",i1(()=>En(`${t}-name`)),Nr),aL=t=>Zr("value","value",i1(()=>En(`${t}-value`)),El()),cL=Ln([aa,av]),OV=t=>ns("separatormenuitem",cL,t),lL=Ln([Ay("autocompleteitem"),BC,im,xy,qE,av,rm]),uL=t=>ns("Autocompleter.Separator",cL,t),dL=t=>ns("Autocompleter.Item",lL,t),jE=[im,TA,rm,av,Sy],RV=Ln([aa,Db].concat(jE)),fL=t=>ns("toolbarbutton",RV,t),SA=[BC].concat(jE),NI=Ln(SA.concat([aa,Db])),xA=t=>ns("ToggleButton",NI,t),MI=[Ci("predicate",Tt),Vr("scope","node",["node","editor"]),Vr("position","selection",["node","selection","line"])],hL=jE.concat([Ay("contextformbutton"),$C,Db,_s("original",je)]),mL=SA.concat([Ay("contextformbutton"),$C,Db,_s("original",je)]),IV=jE.concat([Ay("contextformbutton")]),kI=SA.concat([Ay("contextformtogglebutton")]),DV=sr("type",{contextformbutton:hL,contextformtogglebutton:mL}),pL=Ln([Ay("contextform"),Ci("initValue",we("")),RI,Fi("commands",DV),$e("launch",sr("type",{contextformbutton:IV,contextformtogglebutton:kI}))].concat(MI)),gL=t=>ns("ContextForm",pL,t),Oy=Ln([Ay("contexttoolbar"),Gr("items")].concat(MI)),NV=t=>ns("ContextToolbar",Oy,t),PI=[aa,Gr("src"),me("alt"),u1("classes",[],Nr)],AA=Ln(PI),MV=[aa,iv,rL,u1("classes",["tox-collection__item-label"],Nr)],vL=Ln(MV),LI=qp(()=>Ga("type",{cardimage:AA,cardtext:vL,cardcontainer:bL})),bL=Ln([aa,na("direction","horizontal"),na("align","left"),na("valign","middle"),Fi("items",LI)]),Nb=[im,av,xV,aL("menuitem"),xy],yL=Ln([aa,RI,Fi("items",LI),Sy,CA].concat(Nb)),kV=t=>ns("cardmenuitem",yL,t),_L=Ln([aa,BC,rm].concat(Nb)),EL=t=>ns("choicemenuitem",_L,t),BI=[aa,Gr("fancytype"),CA],wL=[Ge("initData",{})].concat(BI),PV=[Ht("select"),Mh("initData",{},[ui("allowCustomColors",!0),na("storageKey","default"),Dn("colors",El())])].concat(BI),TL=sr("fancytype",{inserttable:wL,colorswatch:PV}),FC=t=>ns("fancymenuitem",TL,t),LV=Ln([aa,Sy,CA,rm].concat(Nb)),BV=t=>ns("menuitem",LV,t),$V=Ln([aa,SV,Sy,rm].concat(Nb)),CL=t=>ns("nestedmenuitem",$V,t),SL=Ln([aa,rm,BC,Sy,Db].concat(Nb)),FV=t=>ns("togglemenuitem",SL,t),$I=(t,s,i)=>{const u=qi(t.element,"."+i);if(u.length>0){const m=Po(u,b=>{const T=b.dom.getBoundingClientRect().top,I=u[0].dom.getBoundingClientRect().top;return Math.abs(T-I)>s}).getOr(u.length);return B.some({numColumns:m,numRows:Math.ceil(u.length/m)})}else return B.none()},xL=(t,s)=>Pt([po(t,s)]),HC={namedEvents:xL,unnamedEvents:t=>xL(En("unnamed-events"),t)},VC=En("tooltip.exclusive"),zC=En("tooltip.show"),ZE=En("tooltip.hide"),FI=(t,s,i)=>{t.getSystem().broadcastOn([VC],{})};var VV=Object.freeze({__proto__:null,hideAllExclusive:FI,setComponents:(t,s,i,u)=>{i.getTooltip().each(m=>{m.getSystem().isConnected()&&uo.set(m,u)})}}),AL=Object.freeze({__proto__:null,events:(t,s)=>{const i=m=>{s.getTooltip().each(b=>{Jh(b),t.onHide(m,b),s.clearTooltip()}),s.clearTimer()},u=m=>{if(!s.isShowing()){FI(m);const b=t.lazySink(m).getOrDie(),T=m.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:Zs(t.mode==="normal"?[Nt(of(),I=>{rs(m,zC)}),Nt(Ph(),I=>{rs(m,ZE)})]:[]),behaviours:Pt([uo.config({})])});s.setTooltip(T),Qh(b,T),t.onShow(m,T),Gs.position(b,T,{anchor:t.anchor(m)})}};return Zs(Kt([[Nt(zC,m=>{s.resetTimer(()=>{u(m)},t.delay)}),Nt(ZE,m=>{s.resetTimer(()=>{i(m)},t.delay)}),Nt(zf(),(m,b)=>{const T=b;T.universal||bo(T.channels,VC)&&i(m)}),Ac(m=>{i(m)})],t.mode==="normal"?[Nt(Vf(),m=>{rs(m,zC)}),Nt(Mv(),m=>{rs(m,ZE)}),Nt(of(),m=>{rs(m,zC)}),Nt(Ph(),m=>{rs(m,ZE)})]:[Nt(v_(),(m,b)=>{rs(m,zC)}),Nt(tg(),m=>{rs(m,ZE)})]]))}}),OL=[At("lazySink"),At("tooltipDom"),Ge("exclusive",!0),Ge("tooltipComponents",[]),Ge("delay",300),Vr("mode","normal",["normal","follow-highlight"]),Ge("anchor",t=>({type:"hotspot",hotspot:t,layouts:{onLtr:we([Pa,Ds,ya,Gc,Ui,Rl]),onRtl:we([Pa,Ds,ya,Gc,Ui,Rl])}})),Xe("onHide"),Xe("onShow")],WV=Object.freeze({__proto__:null,init:()=>{const t=Ys(),s=Ys(),i=()=>{t.on(clearTimeout)},u=(b,T)=>{i(),t.set(setTimeout(b,T))},m=we("not-implemented");return Oc({getTooltip:s.get,isShowing:s.isSet,setTooltip:s.set,clearTooltip:s.clear,clearTimer:i,resetTimer:u,readState:m})}});const RL=_a({fields:OL,name:"tooltipping",active:AL,state:WV,apis:VV}),GV=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),IL="silver.readonly",DL=Ln([qa("readonly")]),UC=(t,s)=>{const u=t.mainUi.outerContainer.element,m=[t.mainUi.mothership,...t.uiMotherships];s&&Dt(m,b=>{b.broadcastOn([mp()],{target:u})}),Dt(m,b=>{b.broadcastOn([IL],{readonly:s})})},NL=(t,s)=>{t.on("init",()=>{t.mode.isReadOnly()&&UC(s,!0)}),t.on("SwitchMode",()=>UC(s,t.mode.isReadOnly())),yP(t)&&t.mode.set("readonly")},Ya=()=>yu.config({channels:{[IL]:{schema:DL,onReceive:(t,s)=>{oo.set(t,s.readonly)}}}}),am={item:t=>oo.config({disabled:t,disableClass:"tox-collection__item--state-disabled"}),button:t=>oo.config({disabled:t}),splitButton:t=>oo.config({disabled:t,disableClass:"tox-tbtn--disabled"}),toolbarButton:t=>oo.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},YE=(t,s)=>{const i=t.getApi(s);return u=>{u(i)}},Mb=(t,s)=>Cr(i=>{YE(t,i)(m=>{const b=t.onSetup(m);ce(b)&&s.set(b)})}),Ry=(t,s)=>Ac(i=>YE(t,i)(s.get())),qV=(t,s)=>Yl((i,u)=>{YE(t,i)(t.onAction),!t.triggersSubmenu&&s===Tp.CLOSE_ON_EXECUTE&&(i.getSystem().isConnected()&&rs(i,$m()),u.stop())}),ML={[Ws()]:["disabling","alloy.base.behaviour","toggling","item-events"]},KE=cu,XE=(t,s,i,u)=>{const m=Gn(Q);return{type:"item",dom:s.dom,components:KE(s.optComponents),data:t.data,eventOrder:ML,hasSubmenu:t.triggersSubmenu,itemBehaviours:Pt([po("item-events",[qV(t,i),Mb(t,m),Ry(t,m)]),am.item(()=>!t.enabled||u.isDisabled()),Ya(),uo.config({})].concat(t.itemBehaviours))}},Iy=t=>({value:t.value,meta:{text:t.text.getOr(""),...t.meta}}),kL=t=>{const s=rv.os.isMacOS()||rv.os.isiOS(),m=s?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},b=t.split("+"),T=tt(b,I=>{const P=I.toLowerCase().trim();return Vo(m,P)?m[P]:I});return s?T.join(""):T.join("+")},OA=(t,s,i=[UP])=>sh(t,{tag:"div",classes:i},s),PL=t=>({dom:{tag:"div",classes:[bI]},components:[Sr(Cf.translate(t))]}),LL=(t,s)=>({dom:{tag:"div",classes:s,innerHtml:t}}),jV=(t,s)=>({dom:{tag:"div",classes:[bI]},components:[{dom:{tag:t.tag,styles:t.styles},components:[Sr(Cf.translate(s))]}]}),ZV=t=>({dom:{tag:"div",classes:[uV]},components:[Sr(kL(t))]}),BL=t=>OA("checkmark",t,[dV]),Dy=t=>OA("chevron-right",t,[WP]),HI=t=>OA("chevron-down",t,[WP]),YV=(t,s)=>{const i=t.direction==="vertical"?yI:qP,u=t.align==="left"?hV:fV;return{dom:{tag:"div",classes:[GP,i,u,(()=>{switch(t.valign){case"top":return jP;case"middle":return mV;case"bottom":return pV}})()]},components:s}},RA=(t,s,i)=>({dom:{tag:"img",classes:s,attributes:{src:t,alt:i.getOr("")}}}),Sp=(t,s,i)=>{const u="custom",m="remove",b=t.ariaLabel,T=t.value,I=t.iconContent.map(V=>sV(V,s.icons,i));return{dom:(()=>{const V=vI,Z=I.getOr(""),oe={tag:"div",attributes:b.map(le=>({title:s.translate(le)})).getOr({}),classes:[V]};return T===u?{...oe,tag:"button",classes:[...oe.classes,"tox-swatches__picker-btn"],innerHtml:Z}:T===m?{...oe,classes:[...oe.classes,"tox-swatch--remove"],innerHtml:Z}:ue(T)?{...oe,attributes:{...oe.attributes,"data-mce-color":T},styles:{"background-color":T},innerHtml:Z}:oe})(),optComponents:[]}},$L=t=>{const s=t.map(i=>({attributes:{title:Cf.translate(i)}})).getOr({});return{tag:"div",classes:[MC,pA],...s}},KV=(t,s,i,u)=>{const m={tag:"div",classes:[UP]},b=oe=>sh(oe,m,s.icons,u),T=()=>B.some({dom:m}),I=i?t.iconContent.map(b).orThunk(T):B.none(),P=t.checkMark,V=B.from(t.meta).fold(()=>PL,oe=>Vo(oe,"style")?_t(jV,oe.style):PL),Z=t.htmlContent.fold(()=>t.textContent.map(V),oe=>B.some(LL(oe,[bI])));return{dom:$L(t.ariaLabel),optComponents:[I,Z,t.shortcutContent.map(ZV),P,t.caret]}},WC=(t,s,i,u=B.none())=>t.presets==="color"?Sp(t,s,u):KV(t,s,i,u),IA=(t,s)=>cn(t,"tooltipWorker").map(i=>[RL.config({lazySink:s.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:u=>({type:"submenu",item:u,overrides:{maxHeightFunction:Yh}}),mode:"follow-highlight",onShow:(u,m)=>{i(b=>{RL.setComponents(u,[ff({element:Je.fromDom(b)})])})}})]).getOr([]),XV=t=>SC.DOM.encode(t),FL=(t,s)=>{const i=Cf.translate(t),u=XV(i);if(s.length>0){const m=new RegExp(GV(s),"gi");return u.replace(m,b=>`<span class="tox-autocompleter-highlight">${b}</span>`)}else return u},HL=(t,s,i,u,m,b,T,I=!0)=>{const P=WC({presets:u,textContent:B.none(),htmlContent:i?t.text.map(V=>FL(V,s)):B.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:B.none(),checkMark:B.none(),caret:B.none(),value:t.value},T.providers,I,t.icon);return XE({data:Iy(t),enabled:t.enabled,getApi:we({}),onAction:V=>m(t.value,t.meta),onSetup:we(Q),triggersSubmenu:!1,itemBehaviours:IA(t.meta,T)},P,b,T.providers)},VL=(t,s)=>tt(t,i=>{switch(i.type){case"cardcontainer":return YV(i,VL(i.items,s));case"cardimage":return RA(i.src,i.classes,i.alt);case"cardtext":const m=i.name.exists(b=>bo(s.cardText.highlightOn,b))?B.from(s.cardText.matchText).getOr(""):"";return LL(FL(i.text,m),i.classes)}}),QV=(t,s,i,u)=>{const m=T=>({isEnabled:()=>!oo.isDisabled(T),setEnabled:I=>{oo.set(T,!I),Dt(qi(T.element,"*"),P=>{T.getSystem().getByDom(P).each(V=>{V.hasConfigured(oo)&&oo.set(V,!I)})})}}),b={dom:$L(t.label),optComponents:[B.some({dom:{tag:"div",classes:[GP,qP]},components:VL(t.items,u)})]};return XE({data:Iy({text:B.none(),...t}),enabled:t.enabled,getApi:m,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:B.from(u.itemBehaviours).getOr([])},b,s,i.providers)},JV=(t,s,i,u,m,b,T,I=!0)=>{const P=Z=>({setActive:ee=>{xo.set(Z,ee)},isActive:()=>xo.isOn(Z),isEnabled:()=>!oo.isDisabled(Z),setEnabled:ee=>oo.set(Z,!ee)}),V=WC({presets:i,textContent:s?t.text:B.none(),htmlContent:B.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:s?t.shortcut:B.none(),checkMark:s?B.some(BL(T.icons)):B.none(),caret:B.none(),value:t.value},T,I);return er(XE({data:Iy(t),enabled:t.enabled,getApi:P,onAction:Z=>u(t.value),onSetup:Z=>(Z.setActive(m),Q),triggersSubmenu:!1,itemBehaviours:[]},V,b,T),{toggling:{toggleClass:zP,toggleOnExecute:!1,selected:t.active,exclusive:!0}})},td=qT(eI(),nA()),xp=t=>({value:DA(t)}),zL=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,VI=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,GC=t=>zL.test(t)||VI.test(t),DA=t=>wh(t,"#").toUpperCase(),e8=t=>GC(t)?B.some({value:DA(t)}):B.none(),t8=t=>({value:t.value.replace(zL,(i,u,m,b)=>u+u+m+m+b+b)}),qC=t=>{const s=t8(t),i=VI.exec(s.value);return i===null?["FFFFFF","FF","FF","FF"]:i},QE=t=>{const s=t.toString(16);return(s.length===1?"0"+s:s).toUpperCase()},jC=t=>{const s=QE(t.red)+QE(t.green)+QE(t.blue);return xp(s)},cv=Math.min,UL=Math.max,NA=Math.round,Pd=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,zI=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,ou=(t,s,i,u)=>({red:t,green:s,blue:i,alpha:u}),UI=t=>{const s=parseInt(t,10);return s.toString()===t&&s>=0&&s<=255},nr=t=>{let s,i,u;const m=(t.hue||0)%360;let b=t.saturation/100,T=t.value/100;if(b=UL(0,cv(b,1)),T=UL(0,cv(T,1)),b===0)return s=i=u=NA(255*T),ou(s,i,u,1);const I=m/60,P=T*b,V=P*(1-Math.abs(I%2-1)),Z=T-P;switch(Math.floor(I)){case 0:s=P,i=V,u=0;break;case 1:s=V,i=P,u=0;break;case 2:s=0,i=P,u=V;break;case 3:s=0,i=V,u=P;break;case 4:s=V,i=0,u=P;break;case 5:s=P,i=0,u=V;break;default:s=i=u=0}return s=NA(255*(s+Z)),i=NA(255*(i+Z)),u=NA(255*(u+Z)),ou(s,i,u,1)},Ap=t=>{const s=qC(t),i=parseInt(s[1],16),u=parseInt(s[2],16),m=parseInt(s[3],16);return ou(i,u,m,1)},ZC=(t,s,i,u)=>{const m=parseInt(t,10),b=parseInt(s,10),T=parseInt(i,10),I=parseFloat(u);return ou(m,b,T,I)},MA=t=>{if(t==="transparent")return B.some(ou(0,0,0,0));const s=Pd.exec(t);if(s!==null)return B.some(ZC(s[1],s[2],s[3],"1"));const i=zI.exec(t);return i!==null?B.some(ZC(i[1],i[2],i[3],i[4])):B.none()},kA=t=>`rgba(${t.red},${t.green},${t.blue},${t.alpha})`,PA=ou(255,0,0,1),n8=t=>{t.dispatch("SkinLoaded")},WI=(t,s)=>{t.dispatch("SkinLoadError",s)},o8=t=>{t.dispatch("ResizeEditor")},LA=(t,s)=>{t.dispatch("ResizeContent",s)},WL=(t,s)=>{t.dispatch("ScrollContent",s)},BA=(t,s)=>{t.dispatch("TextColorChange",s)},GL=(t,s)=>{t.dispatch("AfterProgressState",{state:s})},$A=(t,s)=>t.dispatch("ResolveName",{name:s.nodeName.toLowerCase(),target:s}),s8=(t,s)=>{t.dispatch("ToggleToolbarDrawer",{state:s})};var Ny=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const qL={},r8=(t,s=10)=>{const i=Ny.getItem(t),u=D(i)?JSON.parse(i):[],b=(V=>s-V.length<0?V.slice(0,s):V)(u),T=V=>{Ze(b,V).each(I),b.unshift(V),b.length>s&&b.pop(),Ny.setItem(t,JSON.stringify(b))},I=V=>{b.splice(V,1)};return{add:T,state:()=>b.slice(0)}},jL=t=>cn(qL,t).getOrThunk(()=>{const s=`tinymce-custom-colors-${t}`,i=Ny.getItem(s);if(he(i)){const m=Ny.getItem("tinymce-custom-colors");Ny.setItem(s,ue(m)?m:"[]")}const u=r8(s,10);return qL[t]=u,u}),i8=t=>tt(jL(t).state(),s=>({type:"choiceitem",text:s,icon:"checkmark",value:s})),ZL=(t,s)=>{jL(t).add(s)},YC=(t,s,i)=>({hue:t,saturation:s,value:i}),GI=t=>{let s=0,i=0,u=0;const m=t.red/255,b=t.green/255,T=t.blue/255,I=Math.min(m,Math.min(b,T)),P=Math.max(m,Math.max(b,T));if(I===P)return u=I,YC(0,0,u*100);const V=m===I?b-T:T===I?m-b:T-m;return s=m===I?3:T===I?1:5,s=60*(s-V/(P-I)),i=(P-I)/P,u=P,YC(Math.round(s),Math.round(i*100),Math.round(u*100))},a8=t=>GI(Ap(t)),qI=t=>jC(nr(t)),c8=t=>e8(t).orThunk(()=>MA(t).map(jC)).getOrThunk(()=>{const s=document.createElement("canvas");s.height=1,s.width=1;const i=s.getContext("2d");i.clearRect(0,0,s.width,s.height),i.fillStyle="#FFFFFF",i.fillStyle=t,i.fillRect(0,0,1,1);const u=i.getImageData(0,0,1,1).data,m=u[0],b=u[1],T=u[2],I=u[3];return jC(ou(m,b,T,I))}),FA="forecolor",jI="hilitecolor",ZI=5,YL=t=>Math.max(ZI,Math.ceil(Math.sqrt(t))),KL=(t,s)=>{const i=YL(s),u=Ng("color_cols")(t);return ZI===i?u:i},l8=t=>{const s=[];for(let i=0;i<t.length;i+=2)s.push({text:t[i+1],value:"#"+c8(t[i]).value,icon:"checkmark",type:"choiceitem"});return s},Ng=t=>s=>s.options.get(t),HA="#000000",Op=t=>{const s=t.options.register,i=u=>ge(u,D)?{value:l8(u),valid:!0}:{valid:!1,message:"Must be an array of strings."};s("color_map",{processor:i,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),s("color_map_background",{processor:i}),s("color_map_foreground",{processor:i}),s("color_cols",{processor:"number",default:YL(JE(t,"default").length)}),s("color_cols_foreground",{processor:"number",default:KL(t,JE(t,FA).length)}),s("color_cols_background",{processor:"number",default:KL(t,JE(t,jI).length)}),s("custom_colors",{processor:"boolean",default:!0}),s("color_default_foreground",{processor:"string",default:HA}),s("color_default_background",{processor:"string",default:HA})},u8=(t,s)=>s===FA?Ng("color_cols_foreground")(t):s===jI?Ng("color_cols_background")(t):Ng("color_cols")(t),VA=(t,s)=>{const i=u8(t,s);return i>0?i:ZI},YI=Ng("custom_colors"),JE=(t,s)=>s===FA&&t.options.isSet("color_map_foreground")?Ng("color_map_foreground")(t):s===jI&&t.options.isSet("color_map_background")?Ng("color_map_background")(t):Ng("color_map")(t),XL=Ng("color_default_foreground"),QL=Ng("color_default_background"),JL="rgba(0, 0, 0, 0)",d8=t=>MA(t).exists(s=>s.alpha!==0),f8=t=>Av(t,s=>{if(Ss(s)){const i=Te(s,"background-color");return jn(d8(i),i)}else return B.none()}).getOr(JL),e4=(t,s)=>{const i=Je.fromDom(t.selection.getStart()),u=s==="hilitecolor"?f8(i):Te(i,"color");return MA(u).map(m=>"#"+jC(m).value)},h8=(t,s,i)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.apply(s,{value:i}),t.nodeChanged()})},t4=(t,s)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.remove(s,{value:null},void 0,!0),t.nodeChanged()})},n4=t=>{t.addCommand("mceApplyTextcolor",(s,i)=>{h8(t,s,i)}),t.addCommand("mceRemoveTextcolor",s=>{t4(t,s)})},KI=t=>{const s="choiceitem",i={type:s,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return t?[i,{type:s,text:"Custom color",icon:"color-picker",value:"custom"}]:[i]},XI=(t,s,i,u)=>{i==="custom"?eD(t)(b=>{b.each(T=>{ZL(s,T),t.execCommand("mceApplyTextcolor",s,T),u(T)})},e4(t,s).getOr(HA)):i==="remove"?(u(""),t.execCommand("mceRemoveTextcolor",s)):(u(i),t.execCommand("mceApplyTextcolor",s,i))},o4=(t,s,i)=>t.concat(i8(s).concat(KI(i))),s4=(t,s,i)=>u=>{u(o4(t,s,i))},kb=(t,s,i)=>{const u=s==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(u,i)},r4=(t,s)=>i=>{const u=e4(t,s);return vc(u,i.toUpperCase())},QI=(t,s,i,u,m)=>{t.ui.registry.addSplitButton(s,{tooltip:u,presets:"color",icon:s==="forecolor"?"text-color":"highlight-bg-color",select:r4(t,i),columns:VA(t,i),fetch:s4(JE(t,i),i,YI(t)),onAction:b=>{XI(t,i,m.get(),Q)},onItemAction:(b,T)=>{XI(t,i,T,I=>{m.set(I),BA(t,{name:s,color:I})})},onSetup:b=>{kb(b,s,m.get());const T=I=>{I.name===s&&kb(b,I.name,I.color)};return t.on("TextColorChange",T),()=>{t.off("TextColorChange",T)}}})},JI=(t,s,i,u,m)=>{t.ui.registry.addNestedMenuItem(s,{text:u,icon:s==="forecolor"?"text-color":"highlight-bg-color",onSetup:b=>(kb(b,s,m.get()),Q),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:r4(t,i),initData:{storageKey:i},onAction:b=>{XI(t,i,b.value,T=>{m.set(T),BA(t,{name:s,color:T})})}}]})},eD=t=>(s,i)=>{let u=!1;const m=I=>{const V=I.getData().colorpicker;u?(s(B.from(V)),I.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",V]))},b=(I,P)=>{P.name==="hex-valid"&&(u=P.value)},T={colorpicker:i};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:T,onAction:b,onSubmit:m,onClose:Q,onCancel:()=>{s(B.none())}})},tD=t=>{n4(t);const s=XL(t),i=QL(t),u=Gn(s),m=Gn(i);QI(t,"forecolor","forecolor","Text color",u),QI(t,"backcolor","hilitecolor","Background color",m),JI(t,"forecolor","forecolor","Text color",u),JI(t,"backcolor","hilitecolor","Background color",m)},KC=(t,s,i,u,m,b,T,I)=>{const P=rh(s),Z=nD(s,i,u,m!=="color"?"normal":"color",b,T,I);return SI(t,P,Z,u,{menuType:m})},nD=(t,s,i,u,m,b,T)=>cu(tt(t,I=>I.type==="choiceitem"?EL(I).fold(Cp,P=>B.some(JV(P,i===1,u,s,b(P.value),m,T,rh(t)))):B.none())),XC=(t,s)=>{const i=Ty(s);return t===1?{mode:"menu",moveOnTab:!0}:t==="auto"?{mode:"grid",selector:"."+i.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(s==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:m=>s==="color"?Mr(m.element,"[aria-checked=true]"):B.none()}},m8=(t,s)=>t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:s==="color"?".tox-swatches__row":".tox-collection__group",cell:s==="color"?`.${vI}`:`.${pA}`}},i4=(t,s)=>{const i=p8(t,s),u=s.colorinput.getColorCols(t.initData.storageKey),m="color",T={...KC(En("menu-value"),i,I=>{t.onAction({value:I})},u,m,Tp.CLOSE_ON_EXECUTE,t.select.getOr(Tt),s.shared.providers),markers:Ty(m),movement:XC(u,m)};return{type:"widget",data:{value:En("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[td.widget(Ob.sketch(T))]}},p8=(t,s)=>{const i=t.initData.allowCustomColors&&s.colorinput.hasCustomColors();return t.initData.colors.fold(()=>o4(s.colorinput.getColors(t.initData.storageKey),t.initData.storageKey,i),u=>u.concat(KI(i)))},a4=En("cell-over"),c4=En("cell-execute"),l4=(t,s,i)=>{const u=T=>kn(T,a4,{row:t,col:s}),m=T=>kn(T,c4,{row:t,col:s}),b=(T,I)=>{I.stop(),m(T)};return fc({dom:{tag:"div",attributes:{role:"button",["aria-labelledby"]:i}},behaviours:Pt([po("insert-table-picker-cell",[Nt(of(),Zn.focus),Nt(Ws(),m),Nt(xl(),b),Nt(f1(),b)]),xo.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Zn.config({onFocus:u})])})},u4=(t,s,i)=>{const u=[];for(let m=0;m<s;m++){const b=[];for(let T=0;T<i;T++)b.push(l4(m,T,t));u.push(b)}return u},d4=(t,s,i,u,m)=>{for(let b=0;b<u;b++)for(let T=0;T<m;T++)xo.set(t[b][T],b<=s&&T<=i)},g8=t=>pt(t,s=>tt(s,il)),f4=(t,s)=>Sr(`${s}x${t}`),v8={inserttable:t=>{const u=En("size-label"),m=u4(u,10,10),b=f4(0,0),T=Wo({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:u}},components:[b],behaviours:Pt([uo.config({})])});return{type:"widget",data:{value:En("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[td.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:g8(m).concat(T.asSpec()),behaviours:Pt([po("insert-table-picker",[Cr(I=>{uo.set(T.get(I),[b])}),og(a4,(I,P,V)=>{const{row:Z,col:ee}=V.event;d4(m,Z,ee,10,10),uo.set(T.get(I),[f4(Z+1,ee+1)])}),og(c4,(I,P,V)=>{const{row:Z,col:ee}=V.event;t.onAction({numRows:Z+1,numColumns:ee+1}),rs(I,$m())})]),Fn.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:i4},b8=(t,s)=>cn(v8,t.fancytype).map(i=>i(t,s)),y8=(t,s,i,u=!0,m=!1)=>{const b=m?HI(i.icons):Dy(i.icons),T=P=>({isEnabled:()=>!oo.isDisabled(P),setEnabled:V=>oo.set(P,!V),setIconFill:(V,Z)=>{Mr(P.element,`svg path[id="${V}"], rect[id="${V}"]`).each(ee=>{lo(ee,"fill",Z)})}}),I=WC({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:B.none(),ariaLabel:t.text,caret:B.some(b),checkMark:B.none(),shortcutContent:t.shortcut},i,u);return XE({data:Iy(t),getApi:T,enabled:t.enabled,onAction:Q,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},I,s,i)},_8=(t,s,i,u=!0)=>{const m=T=>({isEnabled:()=>!oo.isDisabled(T),setEnabled:I=>oo.set(T,!I)}),b=WC({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:B.none(),ariaLabel:t.text,caret:B.none(),checkMark:B.none(),shortcutContent:t.shortcut},i,u);return XE({data:Iy(t),getApi:m,enabled:t.enabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},b,s,i)},E8=t=>({type:"separator",dom:{tag:"div",classes:[pA,lV]},components:t.text.map(Sr).toArray()}),w8=(t,s,i,u=!0)=>{const m=T=>({setActive:I=>{xo.set(T,I)},isActive:()=>xo.isOn(T),isEnabled:()=>!oo.isDisabled(T),setEnabled:I=>oo.set(T,!I)}),b=WC({iconContent:t.icon,textContent:t.text,htmlContent:B.none(),ariaLabel:t.text,checkMark:B.some(BL(i.icons)),caret:B.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},i,u);return er(XE({data:Iy(t),enabled:t.enabled,getApi:m,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},b,s,i),{toggling:{toggleClass:zP,toggleOnExecute:!1,selected:t.active}})},T8=HL,h4=E8,m4=_8,C8=y8,S8=w8,x8=b8,A8=QV;var p4=Object.freeze({__proto__:null,getCoupled:(t,s,i,u)=>i.getOrCreate(t,s,u),getExistingCoupled:(t,s,i,u)=>i.getExisting(t,s,u)}),O8=[wl("others",mr(io.value,El()))],R8=Object.freeze({__proto__:null,init:()=>{const t={},s=(b,T)=>{if(Rs(b.others).length===0)throw new Error("Cannot find any known coupled components");return cn(t,T)},i=(b,T,I)=>s(T,I).getOrThunk(()=>{const V=cn(T.others,I).getOrDie("No information found for coupled component: "+I)(b),Z=b.getSystem().build(V);return t[I]=Z,Z}),u=(b,T,I)=>s(T,I).orThunk(()=>(cn(T.others,I).getOrDie("No information found for coupled component: "+I),B.none())),m=we({});return Oc({readState:m,getExisting:u,getOrCreate:i})}});const Ai=_a({fields:O8,name:"coupling",apis:p4,state:R8}),sD=t=>{let s=B.none(),i=[];const u=V=>sD(Z=>{m(ee=>{Z(V(ee))})}),m=V=>{T()?P(V):i.push(V)},b=V=>{T()||(s=B.some(V),I(i),i=[])},T=()=>s.isSome(),I=V=>{Dt(V,P)},P=V=>{s.each(Z=>{setTimeout(()=>{V(Z)},0)})};return t(b),{get:m,map:u,isReady:T}},rD={nu:sD,pure:t=>sD(s=>{s(t)})},g4=t=>{setTimeout(()=>{throw t},0)},My=t=>{const s=P=>{t().then(P,g4)};return{map:P=>My(()=>t().then(P)),bind:P=>My(()=>t().then(V=>P(V).toPromise())),anonBind:P=>My(()=>t().then(()=>P.toPromise())),toLazy:()=>rD.nu(s),toCached:()=>{let P=null;return My(()=>(P===null&&(P=t()),P))},toPromise:t,get:s}},ll={nu:t=>My(()=>new Promise(t)),pure:t=>My(()=>Promise.resolve(t))},v4=we("sink"),b4=we(Nd({name:v4(),overrides:we({dom:{tag:"div"},behaviours:Pt([Gs.config({useFixed:Rt})]),events:Zs([Vm(oa()),Vm(Hi()),Vm(xl())])})})),y4=(t,s)=>{const i=t.getHotspot(s).getOr(s),u="hotspot",m=t.getAnchorOverrides();return t.layouts.fold(()=>({type:u,hotspot:i,overrides:m}),b=>({type:u,hotspot:i,overrides:m,layouts:b}))},D8=(t,s,i)=>{const u=t.fetch;return u(i).map(s)},N8=(t,s,i,u,m,b,T)=>{const I=D8(t,s,u),P=QC(u,t);return I.map(V=>V.bind(Z=>B.from(_y.sketch({...b.menu(),uid:Kl(""),data:Z,highlightOnOpen:T,onOpenMenu:(ee,oe)=>{const le=P().getOrDie();Gs.position(le,oe,{anchor:i}),Uo.decloak(m)},onOpenSubmenu:(ee,oe,le)=>{const Ce=P().getOrDie();Gs.position(Ce,le,{anchor:{type:"submenu",item:oe}}),Uo.decloak(m)},onRepositionMenu:(ee,oe,le)=>{const Ce=P().getOrDie();Gs.position(Ce,oe,{anchor:i}),Dt(le,ke=>{Gs.position(Ce,ke.triggeredMenu,{anchor:{type:"submenu",item:ke.triggeringItem}})})},onEscape:()=>(Zn.focus(u),Uo.close(m),B.some(!0))}))))},zA=(t,s,i,u,m,b,T)=>{const I=y4(t,i);return N8(t,s,I,i,u,m,T).map(V=>(V.fold(()=>{Uo.isOpen(u)&&Uo.close(u)},Z=>{Uo.cloak(u),Uo.open(u,Z),b(u)}),u))},M8=(t,s,i,u,m,b,T)=>(Uo.close(u),ll.pure(u)),iD=(t,s,i,u,m,b)=>{const T=Ai.getCoupled(i,"sandbox");return(Uo.isOpen(T)?M8:zA)(t,s,i,T,u,m,b)},k8=(t,s,i)=>{const u=Qo.getCurrent(s).getOr(s),m=dr(t.element);i?te(u.element,"min-width",m+"px"):zs(u.element,m)},QC=(t,s)=>t.getSystem().getByUid(s.uid+"-"+v4()).map(i=>()=>io.value(i)).getOrThunk(()=>s.lazySink.fold(()=>()=>io.error(new Error("No internal sink is specified, nor could an external sink be found")),i=>()=>i(t))),UA=t=>{Uo.getState(t).each(s=>{_y.repositionMenus(s)})},JC=(t,s,i)=>{const u=M_(),m=(I,P)=>{const V=y4(t,s);u.link(s.element),t.matchWidth&&k8(V.hotspot,P,t.useMinWidth),t.onOpen(V,I,P),i!==void 0&&i.onOpen!==void 0&&i.onOpen(I,P)},b=(I,P)=>{u.unlink(s.element),i!==void 0&&i.onClose!==void 0&&i.onClose(I,P)},T=QC(s,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:u.id,role:"listbox"}},behaviours:_f.augment(t.sandboxBehaviours,[hn.config({store:{mode:"memory",initialValue:s}}),Uo.config({onOpen:m,onClose:b,isPartOf:(I,P,V)=>Xm(P,V)||Xm(s,V),getAttachPoint:()=>T().getOrDie()}),Qo.config({find:I=>Uo.getState(I).bind(P=>Qo.getCurrent(P))}),yu.config({channels:{...sy({isExtraPart:Tt}),...K1({doReposition:UA})}})])}},aD=t=>{const s=Ai.getCoupled(t,"sandbox");UA(s)},cD=()=>[Ge("sandboxClasses",[]),_f.field("sandboxBehaviours",[Qo,yu,Uo,hn])],P8=we([At("dom"),At("fetch"),Xe("onOpen"),xr("onExecute"),Ge("getHotspot",B.some),Ge("getAnchorOverrides",we({})),Id(),Za("dropdownBehaviours",[xo,Ai,Fn,Zn]),At("toggleClass"),Ge("eventOrder",{}),Ko("lazySink"),Ge("matchWidth",!1),Ge("useMinWidth",!1),Ko("role")].concat(cD())),lD=we([Ef({schema:[xd(),Ge("fakeFocus",!1)],name:"menu",defaults:t=>({onExecute:t.onExecute})}),b4()]),uD=(t,s,i,u)=>{const m=Z=>cn(t.dom,"attributes").bind(ee=>cn(ee,Z)),b=Z=>{Uo.getState(Z).each(ee=>{_y.highlightPrimary(ee)})},T=(Z,ee,oe)=>iD(t,je,Z,u,ee,oe),I=Z=>{T(Z,b,xu.HighlightMenuAndItem).get(Q)},P={expand:Z=>{xo.isOn(Z)||T(Z,Q,xu.HighlightNone).get(Q)},open:Z=>{xo.isOn(Z)||T(Z,Q,xu.HighlightMenuAndItem).get(Q)},refetch:Z=>Ai.getExistingCoupled(Z,"sandbox").fold(()=>T(Z,Q,xu.HighlightMenuAndItem).map(Q),oe=>zA(t,je,Z,oe,u,Q,xu.HighlightMenuAndItem).map(Q)),isOpen:xo.isOn,close:Z=>{xo.isOn(Z)&&T(Z,Q,xu.HighlightMenuAndItem).get(Q)},repositionMenus:Z=>{xo.isOn(Z)&&aD(Z)}},V=(Z,ee)=>(af(Z),B.some(!0));return{uid:t.uid,dom:t.dom,components:s,behaviours:Pr(t.dropdownBehaviours,[xo.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),Ai.config({others:{sandbox:Z=>JC(t,Z,{onOpen:()=>xo.on(Z),onClose:()=>xo.off(Z)})}}),Fn.config({mode:"special",onSpace:V,onEnter:V,onDown:(Z,ee)=>{if(nd.isOpen(Z)){const oe=Ai.getCoupled(Z,"sandbox");b(oe)}else nd.open(Z);return B.some(!0)},onEscape:(Z,ee)=>nd.isOpen(Z)?(nd.close(Z),B.some(!0)):B.none()}),Zn.config({})]),events:tA(B.some(I)),eventOrder:{...t.eventOrder,[Ws()]:["disabling","toggling","alloy.base.behaviour"]},apis:P,domModification:{attributes:{"aria-haspopup":"true",...t.role.fold(()=>({}),Z=>({role:Z})),...t.dom.tag==="button"?{type:m("type").getOr("button")}:{}}}}},nd=xi({name:"Dropdown",configFields:P8(),partFields:lD(),factory:uD,apis:{open:(t,s)=>t.open(s),refetch:(t,s)=>t.refetch(s),expand:(t,s)=>t.expand(s),close:(t,s)=>t.close(s),isOpen:(t,s)=>t.isOpen(s),repositionMenus:(t,s)=>t.repositionMenus(s)}}),_4=t=>{switch(t.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:t}}},L8=t=>{const s=hn.getValue(t),i=vA(t).map(bA);nd.refetch(s).get(()=>{const u=Ai.getCoupled(s,"sandbox");i.each(m=>vA(u).each(b=>_V(b,m)))})},B8=(t,s)=>{$8(t).each(i=>{p1(t,i.element,s.event.eventType,s.event.interactionEvent)})},$8=t=>Uo.getState(t).bind(ps.getHighlighted).bind(ps.getHighlighted),F8=t=>sa(t.element,yA)?B.some(t.element):Mr(t.element,"."+yA),E4=(t,s,i)=>{PC(t).each(u=>{EV(u,i),F8(s).each(b=>{Xr(b,"id").each(T=>lo(u.element,"aria-controls",T))})}),lo(i.element,"aria-selected","true")},H8=(t,s,i)=>{lo(i.element,"aria-selected","false")},V8=t=>{PC(t).each(s=>Zn.focus(s))},z8=t=>Ai.getExistingCoupled(t,"sandbox").bind(vA).map(bA).map(i=>i.fetchPattern).getOr("");var WA;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(WA||(WA={}));const U8=(t,s,i,u,m)=>{const b=i.shared.providers,T=I=>m?{...I,shortcut:B.none(),icon:I.text.isSome()?B.none():I.icon}:I;switch(t.type){case"menuitem":return BV(t).fold(Cp,I=>B.some(m4(T(I),s,b,u)));case"nestedmenuitem":return CL(t).fold(Cp,I=>B.some(C8(T(I),s,b,u,m)));case"togglemenuitem":return FV(t).fold(Cp,I=>B.some(S8(T(I),s,b,u)));case"separator":return OV(t).fold(Cp,I=>B.some(h4(I)));case"fancymenuitem":return FC(t).fold(Cp,I=>x8(I,i));default:return console.error("Unknown item in general menu",t),B.none()}},W8=(t,s,i,u,m,b,T)=>{const I=u===1,P=!I||rh(t);return cu(tt(t,V=>{switch(V.type){case"separator":return uL(V).fold(Cp,Z=>B.some(h4(Z)));case"cardmenuitem":return kV(V).fold(Cp,Z=>B.some(A8({...Z,onAction:ee=>{Z.onAction(ee),i(Z.value,Z.meta)}},m,b,{itemBehaviours:IA(Z.meta,b),cardText:{matchText:s,highlightOn:T}})));case"autocompleteitem":default:return dL(V).fold(Cp,Z=>B.some(T8(Z,s,I,"normal",i,m,b,P)))}}))},w4=(t,s,i,u,m,b)=>{const T=rh(s),I=cu(tt(s,Z=>{const ee=le=>m?!Vo(le,"text"):T,oe=le=>U8(le,i,u,ee(le),m);return Z.type==="nestedmenuitem"&&Z.getSubmenuItems().length<=0?oe({...Z,enabled:!1}):oe(Z)})),P=_4(b);return(m?CV:SI)(t,T,I,1,P)},dD=t=>_y.singleData(t.value,t),T4=(t,s,i,u)=>{const m=XC(s,u),b=Ty(u);return{data:dD({...t,movement:m,menuBehaviours:HC.unnamedEvents(s!=="auto"?[]:[Cr((T,I)=>{$I(T,4,b.item).each(({numColumns:P,numRows:V})=>{Fn.setGridSize(T,V,P)})})])}),menu:{markers:Ty(u),fakeFocus:i===WA.ContentFocus}}},G8=(t,s)=>mA(Je.fromDom(s.startContainer)).map(i=>{const u=t.createRng();return u.selectNode(i.dom),u}),Mg={register:(t,s)=>{const i=Gn(!1),u=Gn(!1),m=fc(ia.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Pt([po("dismissAutocompleter",[Nt(gu(),()=>V())])]),lazySink:s.getSink})),b=()=>ia.isOpen(m),T=u.get,I=()=>{b()&&ia.hide(m)},P=()=>ia.getContent(m).bind(Ce=>bs(Ce.components(),0)),V=()=>t.execCommand("mceAutocompleterClose"),Z=Ce=>{const ke=or(Ce,st=>B.from(st.columns)).getOr(1);return pt(Ce,st=>{const Ue=st.items;return W8(Ue,st.matchText,(ot,ft)=>{const vt=t.selection.getRng();G8(t.dom,vt).each(Jt=>{const Lt={hide:()=>V(),reload:un=>{I(),t.execCommand("mceAutocompleterReload",!1,{fetchOptions:un})}};i.set(!0),st.onAction(Lt,Jt,ot,ft),i.set(!1)})},ke,Tp.BUBBLE_TO_SANDBOX,s,st.highlightOn)})},ee=(Ce,ke)=>{pI(Je.fromDom(t.getBody())).each(st=>{const Ue=or(Ce,ot=>B.from(ot.columns)).getOr(1);ia.showMenuAt(m,{anchor:{type:"node",root:Je.fromDom(t.getBody()),node:B.from(st)}},T4(SI("autocompleter-value",!0,ke,Ue,{menuType:"normal"}),Ue,WA.ContentFocus,"normal"))}),P().each(ps.highlightFirst)},oe=Ce=>{const ke=Z(Ce);ke.length>0?ee(Ce,ke):I()};t.on("AutocompleterStart",({lookupData:Ce})=>{u.set(!0),i.set(!1),oe(Ce)}),t.on("AutocompleterUpdate",({lookupData:Ce})=>oe(Ce)),t.on("AutocompleterEnd",()=>{I(),u.set(!1),i.set(!1)});const le={cancelIfNecessary:V,isMenuOpen:b,isActive:T,isProcessingAction:i.get,getMenu:P};VP.setup(le,t)}},q8=["visible","hidden"],j8=t=>{if(cd(t)){const s=Te(t,"overflow");return bc(s).length>0&&!bo(q8,s)}else return!1},fD=t=>{const s=K0(t,j8);return Ir(s).map(i=>({element:i,others:s.slice(1)}))},Oi=(t,s)=>Rb(t)?fD(s):B.none(),GA=t=>{const s=[...tt(t.others,ts),Na()];return r1(ts(t.element),s)},eS=(t,s,i)=>hf(t,s,i).isSome(),C4=(t,s)=>{let i=null;return{cancel:()=>{i!==null&&(clearTimeout(i),i=null)},schedule:(...b)=>{i=setTimeout(()=>{t.apply(null,b),i=null},s)}}},S4=5,Z8=400,x4=t=>{const s=t.raw;return s.touches===void 0||s.touches.length!==1?B.none():B.some(s.touches[0])},Y8=(t,s)=>{const i=Math.abs(t.clientX-s.x),u=Math.abs(t.clientY-s.y);return i>S4||u>S4},K8=t=>{const s=Ys(),i=Gn(!1),u=C4(V=>{t.triggerEvent(Pv(),V),i.set(!0)},Z8),m=V=>(x4(V).each(Z=>{u.cancel();const ee={x:Z.clientX,y:Z.clientY,target:V.target};u.schedule(V),i.set(!1),s.set(ee)}),B.none()),b=V=>(u.cancel(),x4(V).each(Z=>{s.on(ee=>{Y8(Z,ee)&&s.clear()})}),B.none()),T=V=>{u.cancel();const Z=ee=>ys(ee.target,V.target);return s.get().filter(Z).map(ee=>i.get()?(V.prevent(),!1):t.triggerEvent(f1(),V))},I=xc([{key:jl(),value:m},{key:Bm(),value:b},{key:kh(),value:T}]);return{fireIfReady:(V,Z)=>cn(I,Z).bind(ee=>ee(V))}},X8=t=>t.raw.which===Ux[0]&&!bo(["input","textarea"],ec(t.target))&&!eS(t.target,'[contenteditable="true"]'),Q8=(t,s)=>{const i={stopBackspace:!0,...s},u=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],m=K8(i),b=tt(u.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),le=>Nc(t,le,Ce=>{m.fireIfReady(Ce,le).each(st=>{st&&Ce.kill()}),i.triggerEvent(le,Ce)&&Ce.kill()})),T=Ys(),I=Nc(t,"paste",le=>{m.fireIfReady(le,"paste").each(ke=>{ke&&le.kill()}),i.triggerEvent("paste",le)&&le.kill(),T.set(setTimeout(()=>{i.triggerEvent(kv(),le)},0))}),P=Nc(t,"keydown",le=>{i.triggerEvent("keydown",le)?le.kill():i.stopBackspace&&X8(le)&&le.prevent()}),V=Nc(t,"focusin",le=>{i.triggerEvent("focusin",le)&&le.kill()}),Z=Ys(),ee=Nc(t,"focusout",le=>{i.triggerEvent("focusout",le)&&le.kill(),Z.set(setTimeout(()=>{i.triggerEvent(Mv(),le)},0))});return{unbind:()=>{Dt(b,le=>{le.unbind()}),P.unbind(),V.unbind(),ee.unbind(),I.unbind(),T.on(clearTimeout),Z.on(clearTimeout)}}},A4=(t,s)=>{const i=cn(t,"target").getOr(s);return Gn(i)},J8=(t,s)=>{const i=Gn(!1),u=Gn(!1);return{stop:()=>{i.set(!0)},cut:()=>{u.set(!0)},isStopped:i.get,isCut:u.get,event:t,setSource:s.set,getSource:s.get}},e7=t=>{const s=Gn(!1);return{stop:()=>{s.set(!0)},cut:Q,isStopped:s.get,isCut:Tt,event:t,setSource:Ee("Cannot set source of a broadcasted event"),getSource:Ee("Cannot get source of a broadcasted event")}},tS=pu.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),O4=(t,s,i,u,m,b)=>{const T=t(s,u),I=J8(i,m);return T.fold(()=>(b.logEventNoHandlers(s,u),tS.complete()),P=>{const V=P.descHandler;return d0(V)(I),I.isStopped()?(b.logEventStopped(s,P.element,V.purpose),tS.stopped()):I.isCut()?(b.logEventCut(s,P.element,V.purpose),tS.complete()):Ec(P.element).fold(()=>(b.logNoParent(s,P.element,V.purpose),tS.complete()),ee=>(b.logEventResponse(s,P.element,V.purpose),tS.resume(ee)))})},R4=(t,s,i,u,m,b)=>O4(t,s,i,u,m,b).fold(Rt,T=>R4(t,s,i,T,m,b),Tt),t7=(t,s,i,u,m)=>{const b=A4(i,u);return O4(t,s,i,u,b,m)},n7=(t,s,i)=>{const u=e7(s);return Dt(t,m=>{const b=m.descHandler;d0(b)(u)}),u.isStopped()},o7=(t,s,i,u)=>I4(t,s,i,i.target,u),I4=(t,s,i,u,m)=>{const b=A4(i,u);return R4(t,s,i,u,b,m)},s7=(t,s)=>({element:t,descHandler:s}),r7=(t,s)=>({id:t,descHandler:s}),i7=()=>{const t={},s=(T,I,P)=>{Kr(P,(V,Z)=>{const ee=t[Z]!==void 0?t[Z]:{};ee[I]=u0(V,T),t[Z]=ee})},i=(T,I)=>ju(I).bind(P=>cn(T,P)).map(P=>s7(I,P));return{registerId:s,unregisterId:T=>{Kr(t,(I,P)=>{Vo(I,T)&&delete I[T]})},filterByType:T=>cn(t,T).map(I=>qd(I,(P,V)=>r7(V,P))).getOr([]),find:(T,I,P)=>cn(t,I).bind(V=>Av(P,Z=>i(V,Z),T))}},a7=()=>{const t=i7(),s={},i=V=>{const Z=V.element;return ju(Z).getOrThunk(()=>uf("uid-",V.element))},u=(V,Z)=>{const ee=s[Z];if(ee===V)b(V);else throw new Error('The tagId "'+Z+'" is already used by: '+qu(ee.element)+`
Cannot use it for: `+qu(V.element)+`
The conflicting element is`+(oc(ee.element)?" ":" not ")+"already in the DOM")},m=V=>{const Z=i(V);la(s,Z)&&u(V,Z);const ee=[V];t.registerId(ee,Z,V.events),s[Z]=V},b=V=>{ju(V.element).each(Z=>{delete s[Z],t.unregisterId(Z)})};return{find:(V,Z,ee)=>t.find(V,Z,ee),filter:V=>t.filterByType(V),register:m,unregister:b,getById:V=>cn(s,V)}},cm=ji({name:"Container",factory:t=>{const{attributes:s,...i}=t.dom;return{uid:t.uid,dom:{tag:"div",attributes:{role:"presentation",...s},...i},components:t.components,behaviours:TE(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},configFields:[Ge("components",[]),Za("containerBehaviours",[]),Ge("events",{}),Ge("domModification",{}),Ge("eventOrder",{})]}),hD=t=>{const s=Ue=>Ec(t.element).fold(Rt,ot=>ys(Ue,ot)),i=a7(),u=(Ue,ot)=>i.find(s,Ue,ot),m=Q8(t.element,{triggerEvent:(Ue,ot)=>mg(Ue,ot.target,ft=>o7(u,Ue,ot,ft))}),b={debugInfo:we("real"),triggerEvent:(Ue,ot,ft)=>{mg(Ue,ot,vt=>I4(u,Ue,ft,ot,vt))},triggerFocus:(Ue,ot)=>{ju(Ue).fold(()=>{al(Ue)},ft=>{mg(zc(),Ue,vt=>(t7(u,zc(),{originator:ot,kill:Q,prevent:Q,target:Ue},Ue,vt),!1))})},triggerEscape:(Ue,ot)=>{b.triggerEvent("keydown",Ue.element,ot.event)},getByUid:Ue=>ke(Ue),getByDom:Ue=>st(Ue),build:fc,buildOrPatch:Gv,addToGui:Ue=>{P(Ue)},removeFromGui:Ue=>{V(Ue)},addToWorld:Ue=>{T(Ue)},removeFromWorld:Ue=>{I(Ue)},broadcast:Ue=>{oe(Ue)},broadcastOn:(Ue,ot)=>{le(Ue,ot)},broadcastEvent:(Ue,ot)=>{Ce(Ue,ot)},isConnected:Rt},T=Ue=>{Ue.connect(b),ri(Ue.element)||(i.register(Ue),Dt(Ue.components(),T),b.triggerEvent(Jp(),Ue.element,{target:Ue.element}))},I=Ue=>{ri(Ue.element)||(Dt(Ue.components(),I),i.unregister(Ue)),Ue.disconnect()},P=Ue=>{Qh(t,Ue)},V=Ue=>{Jh(Ue)},Z=()=>{m.unbind(),St(t.element)},ee=Ue=>{const ot=i.filter(zf());Dt(ot,ft=>{const vt=ft.descHandler;d0(vt)(Ue)})},oe=Ue=>{ee({universal:!0,data:Ue})},le=(Ue,ot)=>{ee({universal:!1,channels:Ue,data:ot})},Ce=(Ue,ot)=>{const ft=i.filter(Ue);return n7(ft,ot)},ke=Ue=>i.getById(Ue).fold(()=>io.error(new Error('Could not find component with uid: "'+Ue+'" in system.')),io.value),st=Ue=>{const ot=ju(Ue).getOr("not found");return ke(ot)};return T(t),{root:t,element:t.element,destroy:Z,add:P,remove:V,getByUid:ke,getByDom:st,addToWorld:T,removeFromWorld:I,broadcast:oe,broadcastOn:le,broadcastEvent:Ce}},c7=(t,s)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:tt(t.items,s.interpreter)}),l7=we([Ge("prefix","form-field"),Za("fieldBehaviours",[Qo,hn])]),D4=we([Nd({schema:[At("dom")],name:"label"}),Nd({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[At("text")],name:"aria-descriptor"}),Ba({factory:{sketch:t=>{const s=Pm(t,["factory"]);return t.factory.sketch(s)}},schema:[At("factory")],name:"field"})]),u7=(t,s,i,u)=>{const m=Pr(t.fieldBehaviours,[Qo.config({find:I=>ir(I,t,"field")}),hn.config({store:{mode:"manual",getValue:I=>Qo.getCurrent(I).bind(hn.getValue),setValue:(I,P)=>{Qo.getCurrent(I).each(V=>{hn.setValue(V,P)})}}})]),b=Zs([Cr((I,P)=>{const V=KT(I,t,["label","field","aria-descriptor"]);V.field().each(Z=>{const ee=En(t.prefix);V.label().each(oe=>{lo(oe.element,"for",ee),lo(Z.element,"id",ee)}),V["aria-descriptor"]().each(oe=>{const le=En(t.prefix);lo(oe.element,"id",le),lo(Z.element,"aria-describedby",le)})})})]),T={getField:I=>ir(I,t,"field"),getLabel:I=>ir(I,t,"label")};return{uid:t.uid,dom:t.dom,components:s,behaviours:m,events:b,apis:T}},Cs=xi({name:"FormField",configFields:l7(),partFields:D4(),factory:u7,apis:{getField:(t,s)=>t.getField(s),getLabel:(t,s)=>t.getLabel(s)}});var N4=Object.freeze({__proto__:null,exhibit:(t,s)=>Zu({attributes:xc([{key:s.tabAttr,value:"true"}])})}),d7=[Ge("tabAttr","data-alloy-tabstop")];const mi=_a({fields:d7,name:"tabstopping",active:N4});var f7=tinymce.util.Tools.resolve("tinymce.html.Entities");const nS=(t,s,i,u)=>{const m=h7(t,s,i,u);return Cs.sketch(m)},M4=(t,s)=>nS(t,s,[],[]),h7=(t,s,i,u)=>({dom:P4(i),components:t.toArray().concat([s]),fieldBehaviours:Pt(u)}),k4=()=>P4([]),P4=t=>({tag:"div",classes:["tox-form__group"].concat(t)}),lv=(t,s)=>Cs.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Sr(s.translate(t))]}),Ld=En("form-component-change"),oS=En("form-close"),ky=En("form-cancel"),kg=En("form-action"),sS=En("form-submit"),mD=En("form-block"),pD=En("form-unblock"),L4=En("form-tabchange"),B4=En("form-resize"),m7=(t,s,i)=>{const u=t.label.map(ee=>lv(ee,s)),m=ee=>(oe,le)=>{hf(le.event.target,"[data-collection-item-value]").each(Ce=>{ee(oe,le,Ce,ki(Ce,"data-collection-item-value"))})},b=(ee,oe)=>{const le=tt(oe,st=>{const Ue=Cf.translate(st.text),ot=t.columns===1?`<div class="tox-collection__item-label">${Ue}</div>`:"",ft=`<div class="tox-collection__item-icon">${st.icon}</div>`,vt={_:" "," - ":" ","-":" "},Jt=Ue.replace(/\_| \- |\-/g,un=>vt[un]);return`<div class="tox-collection__item${s.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${f7.encodeAllRaw(st.value)}" title="${Jt}" aria-label="${Jt}">${ft}${ot}</div>`}),Ce=t.columns!=="auto"&&t.columns>1?Ho(le,t.columns):[le],ke=tt(Ce,st=>`<div class="tox-collection__group">${st.join("")}</div>`);Td(ee.element,ke.join(""))},T=m((ee,oe,le,Ce)=>{oe.stop(),s.isDisabled()||kn(ee,kg,{name:t.name,value:Ce})}),I=[Nt(of(),m((ee,oe,le)=>{al(le)})),Nt(xl(),T),Nt(f1(),T),Nt(Vf(),m((ee,oe,le)=>{Mr(ee.element,"."+kC).each(Ce=>{Bs(Ce,kC)}),As(le,kC)})),Nt(Sl(),m(ee=>{Mr(ee.element,"."+kC).each(oe=>{Bs(oe,kC)})})),Yl(m((ee,oe,le,Ce)=>{kn(ee,kg,{name:t.name,value:Ce})}))],P=(ee,oe)=>tt(qi(ee.element,".tox-collection__item"),oe),V=Cs.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:je},behaviours:Pt([oo.config({disabled:s.isDisabled,onDisabled:ee=>{P(ee,oe=>{As(oe,"tox-collection__item--state-disabled"),lo(oe,"aria-disabled",!0)})},onEnabled:ee=>{P(ee,oe=>{Bs(oe,"tox-collection__item--state-disabled"),x(oe,"aria-disabled")})}}),Ya(),uo.config({}),hn.config({store:{mode:"memory",initialValue:i.getOr([])},onSetValue:(ee,oe)=>{b(ee,oe),t.columns==="auto"&&$I(ee,5,"tox-collection__item").each(({numRows:le,numColumns:Ce})=>{Fn.setGridSize(ee,le,Ce)}),rs(ee,B4)}}),mi.config({}),Fn.config(m8(t.columns,"normal")),po("collection-events",I)]),eventOrder:{[Ws()]:["disabling","alloy.base.behaviour","collection-events"]}});return nS(u,V,["tox-form__group--collection"],[])},p7=["input","textarea"],$4=t=>{const s=ec(t);return bo(p7,s)},gD=(t,s)=>{const i=s.getRoot(t).getOr(t.element);Bs(i,s.invalidClass),s.notify.each(u=>{$4(t.element)&&lo(t.element,"aria-invalid",!1),u.getContainer(t).each(m=>{Td(m,u.validHtml)}),u.onValid(t)})},F4=(t,s,i,u)=>{const m=s.getRoot(t).getOr(t.element);As(m,s.invalidClass),s.notify.each(b=>{$4(t.element)&&lo(t.element,"aria-invalid",!0),b.getContainer(t).each(T=>{Td(T,u)}),b.onInvalid(t,u)})},H4=(t,s,i)=>s.validator.fold(()=>ll.pure(io.value(!0)),u=>u.validate(t)),vD=(t,s,i)=>(s.notify.each(u=>{u.onValidate(t)}),H4(t,s).map(u=>t.getSystem().isConnected()?u.fold(m=>(F4(t,s,i,m),io.error(m)),m=>(gD(t,s),io.value(m))):io.error("No longer in system")));var g7=Object.freeze({__proto__:null,markValid:gD,markInvalid:F4,query:H4,run:vD,isInvalid:(t,s)=>{const i=s.getRoot(t).getOr(t.element);return sa(i,s.invalidClass)}}),v7=Object.freeze({__proto__:null,events:(t,s)=>t.validator.map(i=>Zs([Nt(i.onEvent,u=>{vD(u,t,s).get(je)})].concat(i.validateOnLoad?[Cr(u=>{vD(u,t,s).get(Q)})]:[]))).getOr({})}),b7=[At("invalidClass"),Ge("getRoot",B.none),fn("notify",[Ge("aria","alert"),Ge("getContainer",B.none),Ge("validHtml",""),Xe("onValid"),Xe("onInvalid"),Xe("onValidate")]),fn("validator",[At("validate"),Ge("onEvent","input"),Ge("validateOnLoad",!0)])];const Pg=_a({fields:b7,name:"invalidating",active:v7,apis:g7,extra:{validation:t=>s=>{const i=hn.getValue(s);return ll.pure(t(i))}}});var E7=Object.freeze({__proto__:null,events:()=>Zs([g1(r0(),Rt)]),exhibit:()=>Zu({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const rS=_a({fields:[],name:"unselecting",active:E7}),z4=(t,s)=>nd.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:Pt([am.button(s.providers.isDisabled),Ya(),rS.config({}),mi.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:s.getSink,fetch:i=>ll.nu(u=>t.fetch(u)).map(u=>B.from(dD(er(KC(En("menu-value"),u,m=>{t.onItemAction(i,m)},t.columns,t.presets,Tp.CLOSE_ON_EXECUTE,Tt,s.providers),{movement:XC(t.columns,t.presets)})))),parts:{menu:gA(!1,1,t.presets)}}),U4=En("color-input-change"),W4=En("color-swatch-change"),G4=En("color-picker-cancel"),w7=(t,s,i,u)=>{const m=Cs.parts.field({factory:Cy,inputClasses:["tox-textfield"],data:u,onSetValue:V=>Pg.run(V).get(Q),inputBehaviours:Pt([oo.config({disabled:s.providers.isDisabled}),Ya(),mi.config({}),Pg.config({invalidClass:"tox-textbox-field-invalid",getRoot:V=>Bc(V.element),notify:{onValid:V=>{const Z=hn.getValue(V);kn(V,U4,{color:Z})}},validator:{validateOnLoad:!1,validate:V=>{const Z=hn.getValue(V);if(Z.length===0)return ll.pure(io.value(!0));{const ee=Je.fromTag("span");te(ee,"background-color",Z);const oe=it(ee,"background-color").fold(()=>io.error("blah"),le=>io.value(Z));return ll.pure(oe)}}}})]),selectOnFocus:!1}),b=t.label.map(V=>lv(V,s.providers)),T=(V,Z)=>{kn(V,W4,{value:Z})},I=(V,Z)=>{P.getOpt(V).each(ee=>{Z==="custom"?i.colorPicker(oe=>{oe.fold(()=>rs(ee,G4),le=>{T(ee,le),ZL(t.storageKey,le)})},"#ffffff"):Z==="remove"?T(ee,""):T(ee,Z)})},P=Wo(z4({dom:{tag:"span",attributes:{"aria-label":s.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Ui,ya,Pa],onLtr:()=>[ya,Ui,Pa]},components:[],fetch:s4(i.getColors(t.storageKey),t.storageKey,i.hasCustomColors()),columns:i.getColorCols(t.storageKey),presets:"color",onItemAction:I},s));return Cs.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:b.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[m,P.asSpec()]}]),fieldBehaviours:Pt([po("form-field-events",[Nt(U4,(V,Z)=>{P.getOpt(V).each(ee=>{te(ee.element,"background-color",Z.event.color)}),kn(V,Ld,{name:t.name})}),Nt(W4,(V,Z)=>{Cs.getField(V).each(ee=>{hn.setValue(ee,Z.event.value),Qo.getCurrent(V).each(Zn.focus)})}),Nt(G4,(V,Z)=>{Cs.getField(V).each(ee=>{Qo.getCurrent(V).each(Zn.focus)})})])])})},T7=Nd({schema:[At("dom")],name:"label"}),Pb=t=>Nd({name:""+t+"-edge",overrides:s=>s.model.manager.edgeActions[t].fold(()=>({}),u=>({events:Zs([$v(jl(),(m,b,T)=>u(m,T),[s]),$v(Hi(),(m,b,T)=>u(m,T),[s]),$v(Cl(),(m,b,T)=>{T.mouseIsDown.get()&&u(m,T)},[s])])}))}),qA=Pb("top-left"),C7=Pb("top"),jA=Pb("top-right"),S7=Pb("right"),x7=Pb("bottom-right"),A7=Pb("bottom"),O7=Pb("bottom-left"),aK=Pb("left"),ZA=Ba({name:"thumb",defaults:we({dom:{styles:{position:"absolute"}}}),overrides:t=>({events:Zs([Gf(jl(),t,"spectrum"),Gf(Bm(),t,"spectrum"),Gf(kh(),t,"spectrum"),Gf(Hi(),t,"spectrum"),Gf(Cl(),t,"spectrum"),Gf(Lh(),t,"spectrum")])})}),ew=Ba({schema:[_s("mouseIsDown",()=>Gn(!1))],name:"spectrum",overrides:t=>{const i=t.model.manager,u=(m,b)=>i.getValueFromEvent(b).map(T=>i.setValueFrom(m,t,T));return{behaviours:Pt([Fn.config({mode:"special",onLeft:m=>i.onLeft(m,t),onRight:m=>i.onRight(m,t),onUp:m=>i.onUp(m,t),onDown:m=>i.onDown(m,t)}),Zn.config({})]),events:Zs([Nt(jl(),u),Nt(Bm(),u),Nt(Hi(),u),Nt(Cl(),(m,b)=>{t.mouseIsDown.get()&&u(m,b)})])}}});var q4=[T7,aK,S7,C7,A7,qA,jA,O7,x7,ZA,ew];const iS=we("slider.change.value"),I7=t=>t.type.indexOf("touch")!==-1,bD=t=>{const s=t.event.raw;if(I7(s)){const i=s;return i.touches!==void 0&&i.touches.length===1?B.some(i.touches[0]).map(u=>Xn(u.clientX,u.clientY)):B.none()}else{const i=s;return i.clientX!==void 0?B.some(i).map(u=>Xn(u.clientX,u.clientY)):B.none()}},D7="top",N7="right",M7="bottom",k7="left",Py=t=>t.model.minX,Ly=t=>t.model.minY,YA=t=>t.model.minX-1,KA=t=>t.model.minY-1,Lb=t=>t.model.maxX,lm=t=>t.model.maxY,Lg=t=>t.model.maxX+1,XA=t=>t.model.maxY+1,yD=(t,s,i)=>s(t)-i(t),QA=t=>yD(t,Lb,Py),tw=t=>yD(t,lm,Ly),j4=t=>QA(t)/2,nw=t=>tw(t)/2,Bg=t=>t.stepSize,Z4=t=>t.snapToGrid,Y4=t=>t.snapStart,K4=t=>t.rounded,JA=(t,s)=>t[s+"-edge"]!==void 0,X4=t=>JA(t,k7),Q4=t=>JA(t,N7),aS=t=>JA(t,D7),J4=t=>JA(t,M7),uv=t=>t.model.value.get(),Bb=(t,s)=>({x:t,y:s}),ih=(t,s)=>{kn(t,iS(),{value:s})},P7=(t,s)=>{ih(t,Bb(YA(s),KA(s)))},L7=(t,s)=>{ih(t,KA(s))},B7=(t,s)=>{ih(t,Bb(j4(s),KA(s)))},e3=(t,s)=>{ih(t,Bb(Lg(s),KA(s)))},$7=(t,s)=>{ih(t,Lg(s))},F7=(t,s)=>{ih(t,Bb(Lg(s),nw(s)))},H7=(t,s)=>{ih(t,Bb(Lg(s),XA(s)))},V7=(t,s)=>{ih(t,XA(s))},z7=(t,s)=>{ih(t,Bb(j4(s),XA(s)))},t3=(t,s)=>{ih(t,Bb(YA(s),XA(s)))},n3=(t,s)=>{ih(t,YA(s))},U7=(t,s)=>{ih(t,Bb(YA(s),nw(s)))},_D=(t,s,i,u)=>t<s?t:t>i?i:t===s?s-1:Math.max(s,t-u),ED=(t,s,i,u)=>t>i?t:t<s?s:t===i?i+1:Math.min(i,t+u),wD=(t,s,i)=>Math.max(s,Math.min(i,t)),ow=(t,s,i,u,m)=>m.fold(()=>{const b=t-s,T=Math.round(b/u)*u;return wD(s+T,s-1,i+1)},b=>{const T=(t-b)%u,I=Math.round(T/u),P=Math.floor((t-b)/u),V=Math.floor((i-b)/u),Z=Math.min(V,P+I),ee=b+Z*u;return Math.max(b,ee)}),W7=(t,s,i)=>Math.min(i,Math.max(t,s))-s,o3=t=>{const{min:s,max:i,range:u,value:m,step:b,snap:T,snapStart:I,rounded:P,hasMinEdge:V,hasMaxEdge:Z,minBound:ee,maxBound:oe,screenRange:le}=t,Ce=V?s-1:s,ke=Z?i+1:i;if(m<ee)return Ce;if(m>oe)return ke;{const st=W7(m,ee,oe),Ue=wD(st/le*u+s,Ce,ke);return T&&Ue>=s&&Ue<=i?ow(Ue,s,i,b,I):P?Math.round(Ue):Ue}},s3=t=>{const{min:s,max:i,range:u,value:m,hasMinEdge:b,hasMaxEdge:T,maxBound:I,maxOffset:P,centerMinEdge:V,centerMaxEdge:Z}=t;return m<s?b?0:V:m>i?T?I:Z:(m-s)/u*P},sw="top",xf="right",e2="bottom",t2="left",G7="width",q7="height",$g=t=>t.element.dom.getBoundingClientRect(),um=(t,s)=>t[s],cS=t=>{const s=$g(t);return um(s,t2)},TD=t=>{const s=$g(t);return um(s,xf)},n2=t=>{const s=$g(t);return um(s,sw)},r3=t=>{const s=$g(t);return um(s,e2)},CD=t=>{const s=$g(t);return um(s,G7)},i3=t=>{const s=$g(t);return um(s,q7)},SD=(t,s,i)=>(t+s)/2-i,xD=(t,s)=>{const i=$g(t),u=$g(s),m=um(i,t2),b=um(i,xf),T=um(u,t2);return SD(m,b,T)},AD=(t,s)=>{const i=$g(t),u=$g(s),m=um(i,sw),b=um(i,e2),T=um(u,sw);return SD(m,b,T)},o2=(t,s)=>{kn(t,iS(),{value:s})},OD=(t,s,i)=>{const u={min:Py(s),max:Lb(s),range:QA(s),value:i,step:Bg(s),snap:Z4(s),snapStart:Y4(s),rounded:K4(s),hasMinEdge:X4(s),hasMaxEdge:Q4(s),minBound:cS(t),maxBound:TD(t),screenRange:CD(t)};return o3(u)},j7=(t,s,i)=>{const u=OD(t,s,i);return o2(t,u),u},Z7=(t,s)=>{const i=Py(s);o2(t,i)},Y7=(t,s)=>{const i=Lb(s);o2(t,i)},K7=(t,s,i)=>{const m=(t>0?ED:_D)(uv(i),Py(i),Lb(i),Bg(i));return o2(s,m),B.some(m)},s2=t=>(s,i)=>K7(t,s,i).map(Rt),X7=t=>bD(t).map(i=>i.left),a3=(t,s,i,u,m)=>{const T=CD(t),I=u.bind(Z=>B.some(xD(Z,t))).getOr(0),P=m.bind(Z=>B.some(xD(Z,t))).getOr(T),V={min:Py(s),max:Lb(s),range:QA(s),value:i,hasMinEdge:X4(s),hasMaxEdge:Q4(s),minBound:cS(t),minOffset:0,maxBound:TD(t),maxOffset:T,centerMinEdge:I,centerMaxEdge:P};return s3(V)},RD=(t,s,i,u,m,b)=>{const T=a3(s,b,i,u,m);return cS(s)-cS(t)+T},Q7=(t,s,i,u)=>{const m=uv(i),b=RD(t,u.getSpectrum(t),m,u.getLeftEdge(t),u.getRightEdge(t),i),T=dr(s.element)/2;te(s.element,"left",b-T+"px")},J7=s2(-1),ez=s2(1),tz=B.none,nz=B.none,oz={"top-left":B.none(),top:B.none(),"top-right":B.none(),right:B.some($7),"bottom-right":B.none(),bottom:B.none(),"bottom-left":B.none(),left:B.some(n3)};var c3=Object.freeze({__proto__:null,setValueFrom:j7,setToMin:Z7,setToMax:Y7,findValueOfOffset:OD,getValueFromEvent:X7,findPositionOfValue:RD,setPositionFromValue:Q7,onLeft:J7,onRight:ez,onUp:tz,onDown:nz,edgeActions:oz});const lS=(t,s)=>{kn(t,iS(),{value:s})},ID=(t,s,i)=>{const u={min:Ly(s),max:lm(s),range:tw(s),value:i,step:Bg(s),snap:Z4(s),snapStart:Y4(s),rounded:K4(s),hasMinEdge:aS(s),hasMaxEdge:J4(s),minBound:n2(t),maxBound:r3(t),screenRange:i3(t)};return o3(u)},sz=(t,s,i)=>{const u=ID(t,s,i);return lS(t,u),u},rz=(t,s)=>{const i=Ly(s);lS(t,i)},iz=(t,s)=>{const i=lm(s);lS(t,i)},az=(t,s,i)=>{const m=(t>0?ED:_D)(uv(i),Ly(i),lm(i),Bg(i));return lS(s,m),B.some(m)},DD=t=>(s,i)=>az(t,s,i).map(Rt),l3=t=>bD(t).map(i=>i.top),u3=(t,s,i,u,m)=>{const T=i3(t),I=u.bind(Z=>B.some(AD(Z,t))).getOr(0),P=m.bind(Z=>B.some(AD(Z,t))).getOr(T),V={min:Ly(s),max:lm(s),range:tw(s),value:i,hasMinEdge:aS(s),hasMaxEdge:J4(s),minBound:n2(t),minOffset:0,maxBound:r3(t),maxOffset:T,centerMinEdge:I,centerMaxEdge:P};return s3(V)},uS=(t,s,i,u,m,b)=>{const T=u3(s,b,i,u,m);return n2(s)-n2(t)+T},cz=(t,s,i,u)=>{const m=uv(i),b=uS(t,u.getSpectrum(t),m,u.getTopEdge(t),u.getBottomEdge(t),i),T=Cn(s.element)/2;te(s.element,"top",b-T+"px")},d3=B.none,lz=B.none,uz=DD(-1),dz=DD(1),fz={"top-left":B.none(),top:B.some(L7),"top-right":B.none(),right:B.none(),"bottom-right":B.none(),bottom:B.some(V7),"bottom-left":B.none(),left:B.none()};var ND=Object.freeze({__proto__:null,setValueFrom:sz,setToMin:rz,setToMax:iz,findValueOfOffset:ID,getValueFromEvent:l3,findPositionOfValue:uS,setPositionFromValue:cz,onLeft:d3,onRight:lz,onUp:uz,onDown:dz,edgeActions:fz});const dm=(t,s)=>{kn(t,iS(),{value:s})},r2=(t,s)=>({x:t,y:s}),dS=(t,s,i)=>{const u=OD(t,s,i.left),m=ID(t,s,i.top),b=r2(u,m);return dm(t,b),b},hz=(t,s,i,u)=>{const m=t>0?ED:_D,b=s?uv(u).x:m(uv(u).x,Py(u),Lb(u),Bg(u)),T=s?m(uv(u).y,Ly(u),lm(u),Bg(u)):uv(u).y;return dm(i,r2(b,T)),B.some(b)},rw=(t,s)=>(i,u)=>hz(t,s,i,u).map(Rt),mz=(t,s)=>{const i=Py(s),u=Ly(s);dm(t,r2(i,u))},pz=(t,s)=>{const i=Lb(s),u=lm(s);dm(t,r2(i,u))},gz=t=>bD(t),f3=(t,s,i,u)=>{const m=uv(i),b=RD(t,u.getSpectrum(t),m.x,u.getLeftEdge(t),u.getRightEdge(t),i),T=uS(t,u.getSpectrum(t),m.y,u.getTopEdge(t),u.getBottomEdge(t),i),I=dr(s.element)/2,P=Cn(s.element)/2;te(s.element,"left",b-I+"px"),te(s.element,"top",T-P+"px")},vz=rw(-1,!1),MD=rw(1,!1),kD=rw(-1,!0),PD=rw(1,!0),bz={"top-left":B.some(P7),top:B.some(B7),"top-right":B.some(e3),right:B.some(F7),"bottom-right":B.some(H7),bottom:B.some(z7),"bottom-left":B.some(t3),left:B.some(U7)};var Af=Object.freeze({__proto__:null,setValueFrom:dS,setToMin:mz,setToMax:pz,getValueFromEvent:gz,setPositionFromValue:f3,onLeft:vz,onRight:MD,onUp:kD,onDown:PD,edgeActions:bz});const yz=[Ge("stepSize",1),Ge("onChange",Q),Ge("onChoose",Q),Ge("onInit",Q),Ge("onDragStart",Q),Ge("onDragEnd",Q),Ge("snapToGrid",!1),Ge("rounded",!0),Ko("snapStart"),wl("model",sr("mode",{x:[Ge("minX",0),Ge("maxX",100),_s("value",t=>Gn(t.mode.minX)),At("getInitialValue"),tr("manager",c3)],y:[Ge("minY",0),Ge("maxY",100),_s("value",t=>Gn(t.mode.minY)),At("getInitialValue"),tr("manager",ND)],xy:[Ge("minX",0),Ge("maxX",100),Ge("minY",0),Ge("maxY",100),_s("value",t=>Gn({x:t.mode.minX,y:t.mode.minY})),At("getInitialValue"),tr("manager",Af)]})),Za("sliderBehaviours",[Fn,hn]),_s("mouseIsDown",()=>Gn(!1))],ah=xi({name:"Slider",configFields:yz,partFields:q4,factory:(t,s,i,u)=>{const m=vt=>om(vt,t,"thumb"),b=vt=>om(vt,t,"spectrum"),T=vt=>ir(vt,t,"left-edge"),I=vt=>ir(vt,t,"right-edge"),P=vt=>ir(vt,t,"top-edge"),V=vt=>ir(vt,t,"bottom-edge"),Z=t.model,ee=Z.manager,oe=(vt,Jt)=>{ee.setPositionFromValue(vt,Jt,t,{getLeftEdge:T,getRightEdge:I,getTopEdge:P,getBottomEdge:V,getSpectrum:b})},le=(vt,Jt)=>{Z.value.set(Jt);const Lt=m(vt);oe(vt,Lt)},Ce=(vt,Jt)=>{le(vt,Jt);const Lt=m(vt);return t.onChange(vt,Lt,Jt),B.some(!0)},ke=vt=>{ee.setToMin(vt,t)},st=vt=>{ee.setToMax(vt,t)},Ue=vt=>{const Jt=()=>{ir(vt,t,"thumb").each(un=>{const On=Z.value.get();t.onChoose(vt,un,On)})},Lt=t.mouseIsDown.get();t.mouseIsDown.set(!1),Lt&&Jt()},ot=(vt,Jt)=>{Jt.stop(),t.mouseIsDown.set(!0),t.onDragStart(vt,m(vt))},ft=(vt,Jt)=>{Jt.stop(),t.onDragEnd(vt,m(vt)),Ue(vt)};return{uid:t.uid,dom:t.dom,components:s,behaviours:Pr(t.sliderBehaviours,[Fn.config({mode:"special",focusIn:vt=>ir(vt,t,"spectrum").map(Fn.focusIn).map(Rt)}),hn.config({store:{mode:"manual",getValue:vt=>Z.value.get(),setValue:le}}),yu.config({channels:{[IT()]:{onReceive:Ue}}})]),events:Zs([Nt(iS(),(vt,Jt)=>{Ce(vt,Jt.event.value)}),Cr((vt,Jt)=>{const Lt=Z.getInitialValue();Z.value.set(Lt);const un=m(vt);oe(vt,un);const On=b(vt);t.onInit(vt,un,On,Z.value.get())}),Nt(jl(),ot),Nt(kh(),ft),Nt(Hi(),ot),Nt(Lh(),ft)]),apis:{resetToMin:ke,resetToMax:st,setValue:le,refresh:oe},domModification:{styles:{position:"relative"}}}},apis:{setValue:(t,s,i)=>{t.setValue(s,i)},resetToMin:(t,s)=>{t.resetToMin(s)},resetToMax:(t,s)=>{t.resetToMax(s)},refresh:(t,s)=>{t.refresh(s)}}}),i2=En("rgb-hex-update"),h3=En("slider-update"),m3=En("palette-update"),_z=(t,s)=>{const i=ah.parts.spectrum({dom:{tag:"div",classes:[s("hue-slider-spectrum")],attributes:{role:"presentation"}}}),u=ah.parts.thumb({dom:{tag:"div",classes:[s("hue-slider-thumb")],attributes:{role:"presentation"}}});return ah.sketch({dom:{tag:"div",classes:[s("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:we(0)},components:[i,u],sliderBehaviours:Pt([Zn.config({})]),onChange:(m,b,T)=>{kn(m,h3,{value:T})}})},p3="form",Ez=[Za("formBehaviours",[hn])],g3=t=>"<alloy.field."+t+">",wz=t=>{const s=(()=>{const b=[];return{field:(I,P)=>(b.push(I),jT(p3,g3(I),P)),record:we(b)}})(),i=t(s),u=s.record(),m=tt(u,b=>Ba({name:b,pname:g3(b)}));return oC(p3,Ez,m,Tz,i)},v3=(t,s)=>t.fold(()=>io.error(s),io.value),Tz=(t,s)=>({uid:t.uid,dom:t.dom,components:s,behaviours:Pr(t.formBehaviours,[hn.config({store:{mode:"manual",getValue:i=>{const u=XT(i,t);return ks(u,(m,b)=>m().bind(T=>{const I=Qo.getCurrent(T);return v3(I,new Error(`Cannot find a current component to extract the value from for form part '${b}': `+qu(T.element)))}).map(hn.getValue))},setValue:(i,u)=>{Kr(u,(m,b)=>{ir(i,t,b).each(T=>{Qo.getCurrent(T).each(I=>{hn.setValue(I,m)})})})}}})]),apis:{getField:(i,u)=>ir(i,t,u).bind(Qo.getCurrent)}}),iw={getField:y1((t,s,i)=>t.getField(s,i)),sketch:wz},b3=En("valid-input"),LD=En("invalid-input"),a2=En("validating-input"),BD="colorcustom.rgb.",$D=(t,s,i,u)=>{const m=(oe,le)=>Pg.config({invalidClass:s("invalid"),notify:{onValidate:Ce=>{kn(Ce,a2,{type:oe})},onValid:Ce=>{kn(Ce,b3,{type:oe,value:hn.getValue(Ce)})},onInvalid:Ce=>{kn(Ce,LD,{type:oe,value:hn.getValue(Ce)})}},validator:{validate:Ce=>{const ke=hn.getValue(Ce),st=le(ke)?io.value(!0):io.error(t("aria.input.invalid"));return ll.pure(st)},validateOnLoad:!1}}),b=(oe,le,Ce,ke,st)=>{const Ue=t(BD+"range"),ot=Cs.parts.label({dom:{tag:"label",attributes:{"aria-label":ke}},components:[Sr(Ce)]}),ft=Cs.parts.field({data:st,factory:Cy,inputAttributes:{type:"text",...le==="hex"?{"aria-live":"polite"}:{}},inputClasses:[s("textfield")],inputBehaviours:Pt([m(le,oe),mi.config({})]),onSetValue:un=>{Pg.isInvalid(un)&&Pg.run(un).get(Q)}}),vt=[ot,ft],Jt=le!=="hex"?[Cs.parts["aria-descriptor"]({text:Ue})]:[],Lt=vt.concat(Jt);return{dom:{tag:"div",attributes:{role:"presentation"}},components:Lt}},T=(oe,le)=>{const Ce=jC(le);return iw.getField(oe,"hex").each(ke=>{Zn.isFocused(ke)||hn.setValue(oe,{hex:Ce.value})}),Ce},I=(oe,le)=>{const Ce=le.red,ke=le.green,st=le.blue;hn.setValue(oe,{red:Ce,green:ke,blue:st})},P=Wo({dom:{tag:"div",classes:[s("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),V=(oe,le)=>{P.getOpt(oe).each(Ce=>{te(Ce.element,"background-color","#"+le.value)})};return ji({factory:()=>{const oe={red:Gn(B.some(255)),green:Gn(B.some(255)),blue:Gn(B.some(255)),hex:Gn(B.some("ffffff"))},le=(so,Do)=>{const Qn=Ap(Do);I(so,Qn),Ue(Qn)},Ce=so=>oe[so].get(),ke=(so,Do)=>{oe[so].set(Do)},st=()=>Ce("red").bind(so=>Ce("green").bind(Do=>Ce("blue").map(Qn=>ou(so,Do,Qn,1)))),Ue=so=>{const Do=so.red,Qn=so.green,Os=so.blue;ke("red",B.some(Do)),ke("green",B.some(Qn)),ke("blue",B.some(Os))},ot=(so,Do)=>{const Qn=Do.event;Qn.type!=="hex"?ke(Qn.type,B.none()):u(so)},ft=(so,Do)=>{i(so);const Qn=xp(Do);ke("hex",B.some(Qn.value));const Os=Ap(Qn);I(so,Os),Ue(Os),kn(so,i2,{hex:Qn}),V(so,Qn)},vt=(so,Do,Qn)=>{const Os=parseInt(Qn,10);ke(Do,B.some(Os)),st().each(Gt=>{const xn=T(so,Gt);kn(so,i2,{hex:xn}),V(so,xn)})},Jt=so=>so.type==="hex",Lt=(so,Do)=>{const Qn=Do.event;Jt(Qn)?ft(so,Qn.value):vt(so,Qn.type,Qn.value)},un=so=>({label:t(BD+so+".label"),description:t(BD+so+".description")}),On=un("red"),$o=un("green"),Hn=un("blue"),ko=un("hex");return er(iw.sketch(so=>({dom:{tag:"form",classes:[s("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[so.field("red",Cs.sketch(b(UI,"red",On.label,On.description,255))),so.field("green",Cs.sketch(b(UI,"green",$o.label,$o.description,255))),so.field("blue",Cs.sketch(b(UI,"blue",Hn.label,Hn.description,255))),so.field("hex",Cs.sketch(b(GC,"hex",ko.label,ko.description,"ffffff"))),P.asSpec()],formBehaviours:Pt([Pg.config({invalidClass:s("form-invalid")}),po("rgb-form-events",[Nt(b3,Lt),Nt(LD,ot),Nt(a2,ot)])])})),{apis:{updateHex:(so,Do)=>{hn.setValue(so,{hex:Do.value}),le(so,Do),V(so,Do)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(oe,le,Ce)=>{oe.updateHex(le,Ce)}},extraApis:{}})},aw=(t,s)=>{const i=ah.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[s("sv-palette-spectrum")]}}),u=ah.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette-thumb")],innerHtml:`<div class=${s("sv-palette-inner-thumb")} role="presentation"></div>`}}),m=(V,Z)=>{const{width:ee,height:oe}=V,le=V.getContext("2d");if(le===null)return;le.fillStyle=Z,le.fillRect(0,0,ee,oe);const Ce=le.createLinearGradient(0,0,ee,0);Ce.addColorStop(0,"rgba(255,255,255,1)"),Ce.addColorStop(1,"rgba(255,255,255,0)"),le.fillStyle=Ce,le.fillRect(0,0,ee,oe);const ke=le.createLinearGradient(0,0,0,oe);ke.addColorStop(0,"rgba(0,0,0,0)"),ke.addColorStop(1,"rgba(0,0,0,1)"),le.fillStyle=ke,le.fillRect(0,0,ee,oe)},b=(V,Z)=>{const ee=V.components()[0].element.dom,oe=YC(Z,100,100),le=nr(oe);m(ee,kA(le))},T=(V,Z)=>{const ee=GI(Ap(Z));ah.setValue(V,{x:ee.saturation,y:100-ee.value})};return ji({factory:V=>{const Z=we({x:0,y:0}),ee=(Ce,ke,st)=>{kn(Ce,m3,{value:st})},oe=(Ce,ke,st,Ue)=>{m(st.element.dom,kA(PA))},le=Pt([Qo.config({find:B.some}),Zn.config({})]);return ah.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette")]},model:{mode:"xy",getInitialValue:Z},rounded:!1,components:[i,u],onChange:ee,onInit:oe,sliderBehaviours:le})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(V,Z,ee)=>{b(Z,ee)},setThumb:(V,Z,ee)=>{T(Z,ee)}},extraApis:{}})},y3=(t,s)=>{const i=m=>{const b=$D(t,s,m.onValidHex,m.onInvalidHex),T=aw(t,s),I=Lt=>(100-Lt)/100*360,P=Lt=>100-Lt/360*100,V={paletteRgba:Gn(PA),paletteHue:Gn(0)},Z=Wo(_z(t,s)),ee=Wo(T.sketch({})),oe=Wo(b.sketch({})),le=(Lt,un,On)=>{ee.getOpt(Lt).each($o=>{T.setHue($o,On)})},Ce=(Lt,un)=>{oe.getOpt(Lt).each(On=>{b.updateHex(On,un)})},ke=(Lt,un,On)=>{Z.getOpt(Lt).each($o=>{ah.setValue($o,P(On))})},st=(Lt,un)=>{ee.getOpt(Lt).each(On=>{T.setThumb(On,un)})},Ue=(Lt,un)=>{const On=Ap(Lt);V.paletteRgba.set(On),V.paletteHue.set(un)},ot=(Lt,un,On,$o)=>{Ue(un,On),Dt($o,Hn=>{Hn(Lt,un,On)})},ft=()=>{const Lt=[Ce];return(un,On)=>{const $o=On.event.value,Hn=V.paletteHue.get(),ko=YC(Hn,$o.x,100-$o.y),so=qI(ko);ot(un,so,Hn,Lt)}},vt=()=>{const Lt=[le,Ce];return(un,On)=>{const $o=I(On.event.value),Hn=V.paletteRgba.get(),ko=GI(Hn),so=YC($o,ko.saturation,ko.value),Do=qI(so);ot(un,Do,$o,Lt)}},Jt=()=>{const Lt=[le,ke,st];return(un,On)=>{const $o=On.event.hex,Hn=a8($o);ot(un,$o,Hn.hue,Lt)}};return{uid:m.uid,dom:m.dom,components:[ee.asSpec(),Z.asSpec(),oe.asSpec()],behaviours:Pt([po("colour-picker-events",[Nt(i2,Jt()),Nt(m3,ft()),Nt(h3,vt())]),Qo.config({find:Lt=>oe.getOpt(Lt)}),Fn.config({mode:"acyclic"})])}};return ji({name:"ColourPicker",configFields:[At("dom"),Ge("onValidHex",Q),Ge("onInvalidHex",Q)],factory:i})},fm={self:()=>Qo.config({find:B.some}),memento:t=>Qo.config({find:t.getOpt}),childAt:t=>Qo.config({find:s=>Nu(s.element,t).bind(i=>s.getSystem().getByDom(i).toOptional())})},c2=Ln([Ge("preprocess",je),Ge("postprocess",je)]),xz=(t,s)=>{const i=ei("RepresentingConfigs.memento processors",c2,s);return hn.config({store:{mode:"manual",getValue:u=>{const m=t.get(u),b=hn.getValue(m);return i.postprocess(b)},setValue:(u,m)=>{const b=i.preprocess(m),T=t.get(u);hn.setValue(T,b)}}})},_3=(t,s,i)=>hn.config({store:{mode:"manual",...t.map(u=>({initialValue:u})).getOr({}),getValue:s,setValue:i}}),l2=(t,s,i)=>_3(t,u=>s(u.element),(u,m)=>i(u.element,m)),Ri={memento:xz,withElement:l2,withComp:_3,domValue:t=>l2(t,Xl,Yu),domHtml:t=>l2(t,Ro,Td),memory:t=>hn.config({store:{mode:"memory",initialValue:t}})},w3={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},Rz=t=>s=>t.translate(w3[s]),Iz=(t,s,i)=>{const u=P=>"tox-"+P,m=y3(Rz(s),u),b=P=>{kn(P,kg,{name:"hex-valid",value:!0})},T=P=>{kn(P,kg,{name:"hex-valid",value:!1})},I=Wo(m.sketch({dom:{tag:"div",classes:[u("color-picker-container")],attributes:{role:"presentation"}},onValidHex:b,onInvalidHex:T}));return{dom:{tag:"div"},components:[I.asSpec()],behaviours:Pt([Ri.withComp(i,P=>{const V=I.get(P);return Qo.getCurrent(V).bind(oe=>hn.getValue(oe).hex).map(oe=>"#"+wh(oe,"#")).getOr("")},(P,V)=>{const Z=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,ee=B.from(Z.exec(V)).bind(Ce=>bs(Ce,1)),oe=I.get(P);Qo.getCurrent(oe).fold(()=>{console.log("Can not find form")},Ce=>{hn.setValue(Ce,{hex:ee.getOr("")}),iw.getField(Ce,"hex").each(ke=>{rs(ke,Vc())})})}),fm.self()])}};var T3=tinymce.util.Tools.resolve("tinymce.Resource");const Dz=t=>Vo(t,"init"),Nz=t=>{const s=Ys(),i=Wo({dom:{tag:t.tag}}),u=Ys();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Pt([po("custom-editor-events",[Cr(m=>{i.getOpt(m).each(b=>{(Dz(t)?t.init(b.element.dom):T3.load(t.scriptId,t.scriptUrl).then(T=>T(b.element.dom,t.settings))).then(T=>{u.on(I=>{T.setValue(I)}),u.clear(),s.set(T)})})})]),Ri.withComp(B.none(),()=>s.get().fold(()=>u.get().getOr(""),m=>m.getValue()),(m,b)=>{s.get().fold(()=>u.set(b),T=>T.setValue(b))}),fm.self()]),components:[i.asSpec()]}};var By=tinymce.util.Tools.resolve("tinymce.util.Tools");const C3=(t,s)=>{const i=By.explode(s.getOption("images_file_types")),u=m=>Fo(i,b=>Ha(m.name.toLowerCase(),`.${b.toLowerCase()}`));return fo(Sa(t),u)},Fg=(t,s,i)=>{const u=(oe,le)=>{le.stop()},m=oe=>(le,Ce)=>{Dt(oe,ke=>{ke(le,Ce)})},b=(oe,le)=>{var Ce;if(!oo.isDisabled(oe)){const ke=le.event.raw;I(oe,(Ce=ke.dataTransfer)===null||Ce===void 0?void 0:Ce.files)}},T=(oe,le)=>{const Ce=le.event.raw.target;I(oe,Ce.files)},I=(oe,le)=>{le&&(hn.setValue(oe,C3(le,s)),kn(oe,Ld,{name:t.name}))},P=Wo({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Pt([po("input-file-events",[Vm(xl()),Vm(f1())])])}),V=oe=>({uid:oe.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Pt([Ri.memory(i.getOr([])),fm.self(),oo.config({}),xo.config({toggleClass:"dragenter",toggleOnExecute:!1}),po("dropzone-events",[Nt("dragenter",m([u,xo.toggle])),Nt("dragleave",m([u,xo.toggle])),Nt("dragover",u),Nt("drop",m([u,b])),Nt(Zl(),T)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Sr(s.translate("Drop an image here"))]},jc.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Sr(s.translate("Browse for an image")),P.asSpec()],action:le=>{P.get(le).element.dom.click()},buttonBehaviours:Pt([mi.config({}),am.button(s.isDisabled),Ya()])})]}]}),Z=t.label.map(oe=>lv(oe,s)),ee=Cs.parts.field({factory:{sketch:V}});return nS(Z,ee,["tox-form__group--stretched"],[])},FD=(t,s)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${t.columns}col`]},components:tt(t.items,s.interpreter)}),u2=En("alloy-fake-before-tabstop"),cw=En("alloy-fake-after-tabstop"),d2=t=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:Pt([Zn.config({ignore:!0}),mi.config({})])}),S3=t=>({dom:{tag:"div",classes:["tox-navobj"]},components:[d2([u2]),t,d2([cw])],behaviours:Pt([fm.childAt(1)])}),x3=(t,s)=>{kn(t,oa(),{raw:{which:9,shiftKey:s}})},Mz=(t,s)=>{const i=s.element;sa(i,u2)?x3(t,!0):sa(i,cw)&&x3(t,!1)},fS=t=>eS(t,["."+u2,"."+cw].join(","),Tt),kz=t=>{const s=Gn(t.getOr(""));return{getValue:i=>s.get(),setValue:(i,u)=>{s.get()!==u&&lo(i.element,"srcdoc",u),s.set(u)}}},Pz=(t,s,i)=>{const u=t.sandboxed,m=t.transparent,b="tox-dialog__iframe",T={...t.label.map(ee=>({title:ee})).getOr({}),...i.map(ee=>({srcdoc:ee})).getOr({}),...u?{sandbox:"allow-scripts allow-same-origin"}:{}},I=kz(i),P=t.label.map(ee=>lv(ee,s)),V=ee=>S3({uid:ee.uid,dom:{tag:"iframe",attributes:T,classes:m?[b]:[b,`${b}--opaque`]},behaviours:Pt([mi.config({}),Zn.config({}),Ri.withComp(i,I.getValue,I.setValue)])}),Z=Cs.parts.field({factory:{sketch:V}});return nS(P,Z,["tox-form__group--stretched"],[])},Lz=t=>new Promise((s,i)=>{const u=()=>{b(),s(t)},m=[Nc(t,"load",u),Nc(t,"error",()=>{b(),i("Unable to load data from image: "+t.dom.src)})],b=()=>Dt(m,T=>T.unbind());t.dom.complete&&u()}),A3=(t,s,i,u,m)=>{const b=i*m,T=u*m,I=Math.max(0,t/2-b/2),P=Math.max(0,s/2-T/2);return{left:I.toString()+"px",top:P.toString()+"px",width:b.toString()+"px",height:T.toString()+"px"}},Bz=(t,s,i)=>{const u=dr(t),m=Cn(t);return Math.min(u/s,m/i,1)},Hg=(t,s)=>{const i=Gn(s.getOr({url:""})),u=Wo({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:s.map(P=>({src:P.url})).getOr({})}}),m=Wo({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[u.asSpec()]}),b=(P,V)=>{const Z={url:V.url};V.zoom.each(oe=>Z.zoom=oe),V.cachedWidth.each(oe=>Z.cachedWidth=oe),V.cachedHeight.each(oe=>Z.cachedHeight=oe),i.set(Z);const ee=()=>{const{cachedWidth:oe,cachedHeight:le,zoom:Ce}=Z;if(!re(oe)&&!re(le)){if(re(Ce)){const st=Bz(P.element,oe,le);Z.zoom=st}const ke=A3(dr(P.element),Cn(P.element),oe,le,Z.zoom);m.getOpt(P).each(st=>{de(st.element,ke)})}};u.getOpt(P).each(oe=>{const le=oe.element;V.url!==ki(le,"src")&&(lo(le,"src",V.url),Bs(P.element,"tox-imagepreview__loaded")),ee(),Lz(le).then(Ce=>{P.getSystem().isConnected()&&(As(P.element,"tox-imagepreview__loaded"),Z.cachedWidth=Ce.dom.naturalWidth,Z.cachedHeight=Ce.dom.naturalHeight,ee())})})},T={};t.height.each(P=>T.height=P);const I=s.map(P=>({url:P.url,zoom:B.from(P.zoom),cachedWidth:B.from(P.cachedWidth),cachedHeight:B.from(P.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:T,attributes:{role:"presentation"}},components:[m.asSpec()],behaviours:Pt([fm.self(),Ri.withComp(I,()=>i.get(),b)])}},f2=(t,s)=>{const i={dom:{tag:"label",classes:["tox-label"]},components:[Sr(s.providers.translate(t.label))]},u=tt(t.items,s.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[i,...u],behaviours:Pt([fm.self(),uo.config({}),Ri.domHtml(B.none()),Fn.config({mode:"acyclic"})])}},O3=En("toolbar.button.execute"),$z=t=>Yl((s,i)=>{YE(t,s)(u=>{kn(s,O3,{buttonApi:u}),t.onAction(u)})}),$b=En("common-button-display-events"),HD={[Ws()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],[rf()]:["toolbar-button-events",$b],[Hi()]:["focusing","alloy.base.behaviour",$b]},hS=t=>te(t.element,"width",Te(t.element,"width")),mS=(t,s,i)=>sh(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:i},s),$y=(t,s)=>mS(t,s,[]),hm=(t,s)=>mS(t,s,[uo.config({})]),VD=(t,s,i)=>({dom:{tag:"span",classes:[`${s}__select-label`]},components:[Sr(i.translate(t))],behaviours:Pt([uo.config({})])}),Of=En("update-menu-text"),Fy=En("update-menu-icon"),zD=(t,s,i)=>{const u=Gn(Q),m=t.text.map(oe=>Wo(VD(oe,s,i.providers))),b=t.icon.map(oe=>Wo(hm(oe,i.providers.icons))),T=(oe,le)=>{const Ce=hn.getValue(oe);return Zn.focus(Ce),kn(Ce,"keydown",{raw:le.event.raw}),nd.close(Ce),B.some(!0)},I=t.role.fold(()=>({}),oe=>({role:oe})),P=t.tooltip.fold(()=>({}),oe=>{const le=i.providers.translate(oe);return{title:le,"aria-label":le}}),V=sh("chevron-down",{tag:"div",classes:[`${s}__select-chevron`]},i.providers.icons),Z=En("common-button-display-events");return Wo(nd.sketch({...t.uid?{uid:t.uid}:{},...I,dom:{tag:"button",classes:[s,`${s}--select`].concat(tt(t.classes,oe=>`${s}--${oe}`)),attributes:{...P}},components:KE([b.map(oe=>oe.asSpec()),m.map(oe=>oe.asSpec()),B.some(V)]),matchWidth:!0,useMinWidth:!0,onOpen:(oe,le,Ce)=>{t.searchable&&V8(Ce)},dropdownBehaviours:Pt([...t.dropdownBehaviours,am.button(()=>t.disabled||i.providers.isDisabled()),Ya(),rS.config({}),uo.config({}),po("dropdown-events",[Mb(t,u),Ry(t,u)]),po(Z,[Cr((oe,le)=>hS(oe))]),po("menubutton-update-display-text",[Nt(Of,(oe,le)=>{m.bind(Ce=>Ce.getOpt(oe)).each(Ce=>{uo.set(Ce,[Sr(i.providers.translate(le.event.text))])})}),Nt(Fy,(oe,le)=>{b.bind(Ce=>Ce.getOpt(oe)).each(Ce=>{uo.set(Ce,[hm(le.event.icon,i.providers.icons)])})})])]),eventOrder:er(HD,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[rf()]:["toolbar-button-events","dropdown-events",Z]}),sandboxBehaviours:Pt([Fn.config({mode:"special",onLeft:T,onRight:T}),po("dropdown-sandbox-events",[Nt(QP,(oe,le)=>{L8(oe),le.stop()}),Nt(JP,(oe,le)=>{B8(oe,le),le.stop()})])]),lazySink:i.getSink,toggleClass:`${s}--active`,parts:{menu:{...gA(!1,t.columns,t.presets),fakeFocus:t.searchable,onHighlightItem:E4,onCollapseMenu:(oe,le,Ce)=>{ps.getHighlighted(Ce).each(ke=>{E4(oe,Ce,ke)})},onDehighlightItem:H8}},fetch:oe=>ll.nu(_t(t.fetch,oe))})).asSpec()},Fz=t=>D(t),R3=t=>t.type==="separator",Hz=t=>Vo(t,"getSubmenuItems"),Vz={type:"separator"},zz=(t,s)=>{const i=vs(t,(u,m)=>Fz(m)?m===""?u:m==="|"?u.length>0&&!R3(u[u.length-1])?u.concat([Vz]):u:Vo(s,m.toLowerCase())?u.concat([s[m.toLowerCase()]]):u:u.concat([m]),[]);return i.length>0&&R3(i[i.length-1])&&i.pop(),i},I3=(t,s)=>{const i=t.getSubmenuItems(),u=N3(i,s),m=er(u.menus,{[t.value]:u.items}),b=er(u.expansions,{[t.value]:t.value});return{item:t,menus:m,expansions:b}},D3=t=>{const s=cn(t,"value").getOrThunk(()=>En("generated-menu-item"));return er({value:s},t)},N3=(t,s)=>{const i=zz(D(t)?t.split(" "):t,s);return Ft(i,(u,m)=>{if(Hz(m)){const b=D3(m),T=I3(b,s);return{menus:er(u.menus,T.menus),items:[T.item,...u.items],expansions:er(u.expansions,T.expansions)}}else return{...u,items:[m,...u.items]}},{menus:{},expansions:{},items:[]})},M3=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-field",placeholder:s.placeholder})),Uz=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-results"})),Hy=(t,s,i,u)=>{const m=En("primary-menu"),b=N3(t,i.shared.providers.menuItems());if(b.items.length===0)return B.none();const T=M3(u),I=w4(m,b.items,s,i,u.isHorizontalMenu,T),P=Uz(u),V=ks(b.menus,(ee,oe)=>w4(oe,ee,s,i,!1,P)),Z=er(V,Uu(m,I));return B.from(_y.tieredData(m,Z,b.expansions))},Vy=t=>!Vo(t,"items"),k3="data-value",UD=(t,s,i,u)=>tt(i,m=>Vy(m)?{type:"togglemenuitem",text:m.text,value:m.value,active:m.value===u,onAction:()=>{hn.setValue(t,m.value),kn(t,Ld,{name:s}),Zn.focus(t)}}:{type:"nestedmenuitem",text:m.text,getSubmenuItems:()=>UD(t,s,m.items,u)}),WD=(t,s)=>or(t,i=>Vy(i)?jn(i.value===s,i):WD(i.items,s)),Wz=(t,s,i)=>{const u=s.shared.providers,m=i.bind(P=>WD(t.items,P)).orThunk(()=>Ir(t.items).filter(Vy)),b=t.label.map(P=>lv(P,u)),T=Cs.parts.field({dom:{},factory:{sketch:P=>zD({uid:P.uid,text:m.map(V=>V.text),icon:B.none(),tooltip:t.label,role:B.none(),fetch:(V,Z)=>{const ee=UD(V,t.name,t.items,hn.getValue(V));Z(Hy(ee,Tp.CLOSE_ON_EXECUTE,s,{isHorizontalMenu:!1,search:B.none()}))},onSetup:we(Q),getApi:we({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[mi.config({}),Ri.withComp(m.map(V=>V.value),V=>ki(V.element,k3),(V,Z)=>{WD(t.items,Z).each(ee=>{lo(V.element,k3,ee.value),kn(V,Of,{text:ee.text})})})]},"tox-listbox",s.shared)}}),I={dom:{tag:"div",classes:["tox-listboxfield"]},components:[T]};return Cs.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Kt([b.toArray(),[I]]),fieldBehaviours:Pt([oo.config({disabled:we(!t.enabled),onDisabled:P=>{Cs.getField(P).each(oo.disable)},onEnabled:P=>{Cs.getField(P).each(oo.enable)}})])})},Gz=(t,s)=>({dom:{tag:"div",classes:t.classes},components:tt(t.items,s.shared.interpreter)}),qz=(t,s)=>{const i=tt(t.options,m=>({dom:{tag:"option",value:m.value,innerHtml:m.text}})),u=t.data.map(m=>Uu("initialValue",m)).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:i,behaviours:Pr(t.selectBehaviours,[Zn.config({}),hn.config({store:{mode:"manual",getValue:m=>Xl(m.element),setValue:(m,b)=>{Pn(t.options,I=>I.value===b).isSome()&&Yu(m.element,b)},...u}})])}},P3=ji({name:"HtmlSelect",configFields:[At("options"),Za("selectBehaviours",[Zn,hn]),Ge("selectClasses",[]),Ge("selectAttributes",{}),Ko("data")],factory:qz}),jz=(t,s,i)=>{const u=tt(t.items,P=>({text:s.translate(P.text),value:P.value})),m=t.label.map(P=>lv(P,s)),b=Cs.parts.field({dom:{},...i.map(P=>({data:P})).getOr({}),selectAttributes:{size:t.size},options:u,factory:P3,selectBehaviours:Pt([oo.config({disabled:()=>!t.enabled||s.isDisabled()}),mi.config({}),po("selectbox-change",[Nt(Zl(),(P,V)=>{kn(P,Ld,{name:t.name})})])])}),T=t.size>1?B.none():B.some(sh("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},s.icons)),I={dom:{tag:"div",classes:["tox-selectfield"]},components:Kt([[b],T.toArray()])};return Cs.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Kt([m.toArray(),[I]]),fieldBehaviours:Pt([oo.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:P=>{Cs.getField(P).each(oo.disable)},onEnabled:P=>{Cs.getField(P).each(oo.enable)}}),Ya()])})},L3=we([Ge("field1Name","field1"),Ge("field2Name","field2"),Jm("onLockedChange"),bu(["lockClass"]),Ge("locked",!1),_f.field("coupledFieldBehaviours",[Qo,hn])]),GD=(t,s,i)=>ir(t,s,i).bind(Qo.getCurrent),Vg=(t,s)=>Ba({factory:Cs,name:t,overrides:i=>({fieldBehaviours:Pt([po("coupled-input-behaviour",[Nt(Vc(),u=>{GD(u,i,s).each(m=>{ir(u,i,"lock").each(b=>{xo.isOn(b)&&i.onLockedChange(u,m,b)})})})])])})}),qD=we([Vg("field1","field2"),Vg("field2","field1"),Ba({factory:jc,schema:[At("dom")],name:"lock",overrides:t=>({buttonBehaviours:Pt([xo.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])})})]),B3=(t,s,i,u)=>({uid:t.uid,dom:t.dom,components:s,behaviours:_f.augment(t.coupledFieldBehaviours,[Qo.config({find:B.some}),hn.config({store:{mode:"manual",getValue:m=>{const b=JT(m,t,["field1","field2"]);return{[t.field1Name]:hn.getValue(b.field1()),[t.field2Name]:hn.getValue(b.field2())}},setValue:(m,b)=>{const T=JT(m,t,["field1","field2"]);la(b,t.field1Name)&&hn.setValue(T.field1(),b[t.field1Name]),la(b,t.field2Name)&&hn.setValue(T.field2(),b[t.field2Name])}}})]),apis:{getField1:m=>ir(m,t,"field1"),getField2:m=>ir(m,t,"field2"),getLock:m=>ir(m,t,"lock")}}),Bd=xi({name:"FormCoupledInputs",configFields:L3(),partFields:qD(),factory:B3,apis:{getField1:(t,s)=>t.getField1(s),getField2:(t,s)=>t.getField2(s),getLock:(t,s)=>t.getLock(s)}}),jD=t=>{const s={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},i=m=>m in s?s[m]:1;let u=t.value.toFixed(i(t.unit));return u.indexOf(".")!==-1&&(u=u.replace(/\.?0*$/,"")),u+t.unit},h2=t=>{const i=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(t);if(i!==null){const u=parseFloat(i[1]),m=i[2];return io.value({value:u,unit:m})}else return io.error(t)},pS=(t,s)=>{const i={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},u=m=>Vo(i,m);return t.unit===s?B.some(t.value):u(t.unit)&&u(s)?i[t.unit]===i[s]?B.some(t.value):B.some(t.value/i[t.unit]*i[s]):B.none()},m2=t=>B.none(),$3=(t,s)=>i=>pS(i,s).map(u=>({value:u*t,unit:s})),Zz=(t,s)=>{const i=h2(t).toOptional(),u=h2(s).toOptional();return ad(i,u,(m,b)=>pS(m,b.unit).map(T=>b.value/T).map(T=>$3(T,b.unit)).getOr(m2)).getOr(m2)},Yz=(t,s)=>{let i=m2;const u=En("ratio-event"),m=ee=>sh(ee,{tag:"span",classes:["tox-icon","tox-lock-icon__"+ee]},s.icons),b=Bd.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:s.translate(t.label.getOr("Constrain proportions"))}},components:[m("lock"),m("unlock")],buttonBehaviours:Pt([oo.config({disabled:()=>!t.enabled||s.isDisabled()}),Ya(),mi.config({})])}),T=ee=>({dom:{tag:"div",classes:["tox-form__group"]},components:ee}),I=ee=>Cs.parts.field({factory:Cy,inputClasses:["tox-textfield"],inputBehaviours:Pt([oo.config({disabled:()=>!t.enabled||s.isDisabled()}),Ya(),mi.config({}),po("size-input-events",[Nt(Vf(),(oe,le)=>{kn(oe,u,{isField1:ee})}),Nt(Zl(),(oe,le)=>{kn(oe,Ld,{name:t.name})})])]),selectOnFocus:!1}),P=ee=>({dom:{tag:"label",classes:["tox-label"]},components:[Sr(s.translate(ee))]}),V=Bd.parts.field1(T([Cs.parts.label(P("Width")),I(!0)])),Z=Bd.parts.field2(T([Cs.parts.label(P("Height")),I(!1)]));return Bd.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[V,Z,T([P(U0),b])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(ee,oe,le)=>{h2(hn.getValue(ee)).each(Ce=>{i(Ce).each(ke=>{hn.setValue(oe,jD(ke))})})},coupledFieldBehaviours:Pt([oo.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:ee=>{Bd.getField1(ee).bind(Cs.getField).each(oo.disable),Bd.getField2(ee).bind(Cs.getField).each(oo.disable),Bd.getLock(ee).each(oo.disable)},onEnabled:ee=>{Bd.getField1(ee).bind(Cs.getField).each(oo.enable),Bd.getField2(ee).bind(Cs.getField).each(oo.enable),Bd.getLock(ee).each(oo.enable)}}),Ya(),po("size-input-events2",[Nt(u,(ee,oe)=>{const le=oe.event.isField1,Ce=le?Bd.getField1(ee):Bd.getField2(ee),ke=le?Bd.getField2(ee):Bd.getField1(ee),st=Ce.map(hn.getValue).getOr(""),Ue=ke.map(hn.getValue).getOr("");i=Zz(st,Ue)})])])})},Kz=(t,s,i)=>{const u=ah.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Sr(s.translate(t.label))]}),m=ah.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),b=ah.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return ah.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:t.min,maxX:t.max,getInitialValue:we(i.getOrThunk(()=>(Math.abs(t.max)-Math.abs(t.min))/2))},components:[u,m,b],sliderBehaviours:Pt([fm.self(),Zn.config({})]),onChoose:(T,I,P)=>{kn(T,Ld,{name:t.name,value:P})}})},Xz=(t,s)=>{const i=I=>({dom:{tag:"th",innerHtml:s.translate(I)}}),u=I=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:tt(I,i)}]}),m=I=>({dom:{tag:"td",innerHtml:s.translate(I)}}),b=I=>({dom:{tag:"tr"},components:tt(I,m)}),T=I=>({dom:{tag:"tbody"},components:tt(I,b)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[u(t.header),T(t.cells)],behaviours:Pt([mi.config({}),Zn.config({})])}},F3=(t,s)=>{const i=t.label.map(le=>lv(le,s)),u=[oo.config({disabled:()=>t.disabled||s.isDisabled()}),Ya(),Fn.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:le=>(rs(le,sS),B.some(!0))}),po("textfield-change",[Nt(Vc(),(le,Ce)=>{kn(le,Ld,{name:t.name})}),Nt(kv(),(le,Ce)=>{kn(le,Ld,{name:t.name})})]),mi.config({})],m=t.validation.map(le=>Pg.config({getRoot:Ce=>Bc(Ce.element),invalidClass:"tox-invalid",validator:{validate:Ce=>{const ke=hn.getValue(Ce),st=le.validator(ke);return ll.pure(st===!0?io.value(ke):io.error(st))},validateOnLoad:le.validateOnLoad}})).toArray(),b=t.placeholder.fold(we({}),le=>({placeholder:s.translate(le)})),T=t.inputMode.fold(we({}),le=>({inputmode:le})),I={...b,...T},P=Cs.parts.field({tag:t.multiline===!0?"textarea":"input",...t.data.map(le=>({data:le})).getOr({}),inputAttributes:I,inputClasses:[t.classname],inputBehaviours:Pt(Kt([u,m])),selectOnFocus:!1,factory:Cy}),V=t.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[P]}:P,ee=(t.flex?["tox-form__group--stretched"]:[]).concat(t.maximized?["tox-form-group--maximize"]:[]),oe=[oo.config({disabled:()=>t.disabled||s.isDisabled(),onDisabled:le=>{Cs.getField(le).each(oo.disable)},onEnabled:le=>{Cs.getField(le).each(oo.enable)}}),Ya()];return nS(i,V,ee,oe)},H3=(t,s,i)=>F3({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:!t.enabled,classname:"tox-textfield",validation:B.none(),maximized:t.maximized,data:i},s),V3=(t,s,i)=>F3({name:t.name,multiline:!0,label:t.label,inputMode:B.none(),placeholder:t.placeholder,flex:!0,disabled:!t.enabled,classname:"tox-textarea",validation:B.none(),maximized:t.maximized,data:i},s),gS=(t,s)=>s.getAnimationRoot.fold(()=>t.element,i=>i(t)),dv=t=>t.dimension.property,zy=(t,s)=>t.dimension.getDimension(s),Uy=(t,s)=>{const i=gS(t,s);Wc(i,[s.shrinkingClass,s.growingClass])},ZD=(t,s)=>{Bs(t.element,s.openClass),As(t.element,s.closedClass),te(t.element,dv(s),"0px"),Mt(t.element)},YD=(t,s)=>{Bs(t.element,s.closedClass),As(t.element,s.openClass),rt(t.element,dv(s))},KD=(t,s,i,u)=>{i.setCollapsed(),te(t.element,dv(s),zy(s,t.element)),Uy(t,s),ZD(t,s),s.onStartShrink(t),s.onShrunk(t)},z3=(t,s,i,u)=>{const m=u.getOrThunk(()=>zy(s,t.element));i.setCollapsed(),te(t.element,dv(s),m),Mt(t.element);const b=gS(t,s);Bs(b,s.growingClass),As(b,s.shrinkingClass),ZD(t,s),s.onStartShrink(t)},U3=(t,s,i)=>{const u=zy(s,t.element);(u==="0px"?KD:z3)(t,s,i,B.some(u))},W3=(t,s,i)=>{const u=gS(t,s),m=sa(u,s.shrinkingClass),b=zy(s,t.element);YD(t,s);const T=zy(s,t.element);(m?()=>{te(t.element,dv(s),b),Mt(t.element)}:()=>{ZD(t,s)})(),Bs(u,s.shrinkingClass),As(u,s.growingClass),YD(t,s),te(t.element,dv(s),T),i.setExpanded(),s.onStartGrow(t)},XD=(t,s,i)=>{if(i.isExpanded()){rt(t.element,dv(s));const u=zy(s,t.element);te(t.element,dv(s),u)}},Qz=(t,s,i)=>{i.isExpanded()||W3(t,s,i)},G3=(t,s,i)=>{i.isExpanded()&&U3(t,s,i)},Jz=(t,s,i)=>{i.isExpanded()&&KD(t,s,i)},eU=(t,s,i)=>i.isExpanded(),q3=(t,s,i)=>i.isCollapsed(),QD=(t,s,i)=>{const u=gS(t,s);return sa(u,s.growingClass)===!0},j3=(t,s,i)=>{const u=gS(t,s);return sa(u,s.shrinkingClass)===!0};var Z3=Object.freeze({__proto__:null,refresh:XD,grow:Qz,shrink:G3,immediateShrink:Jz,hasGrown:eU,hasShrunk:q3,isGrowing:QD,isShrinking:j3,isTransitioning:(t,s,i)=>QD(t,s)||j3(t,s),toggleGrow:(t,s,i)=>{(i.isExpanded()?U3:W3)(t,s,i)},disableTransitions:Uy,immediateGrow:(t,s,i)=>{i.isExpanded()||(YD(t,s),te(t.element,dv(s),zy(s,t.element)),Uy(t,s),i.setExpanded(),s.onStartGrow(t),s.onGrown(t))}}),nU=Object.freeze({__proto__:null,exhibit:(t,s,i)=>{const u=s.expanded;return Zu(u?{classes:[s.openClass],styles:{}}:{classes:[s.closedClass],styles:Uu(s.dimension.property,"0px")})},events:(t,s)=>Zs([ja(Bh(),(i,u)=>{u.event.raw.propertyName===t.dimension.property&&(Uy(i,t),s.isExpanded()&&rt(i.element,t.dimension.property),(s.isExpanded()?t.onGrown:t.onShrunk)(i))})])}),oU=[At("closedClass"),At("openClass"),At("shrinkingClass"),At("growingClass"),Ko("getAnimationRoot"),Xe("onShrunk"),Xe("onStartShrink"),Xe("onGrown"),Xe("onStartGrow"),Ge("expanded",!1),wl("dimension",sr("property",{width:[tr("property","width"),tr("getDimension",t=>dr(t)+"px")],height:[tr("property","height"),tr("getDimension",t=>Cn(t)+"px")]}))],sU=Object.freeze({__proto__:null,init:t=>{const s=Gn(t.expanded),i=()=>"expanded: "+s.get();return Oc({isExpanded:()=>s.get()===!0,isCollapsed:()=>s.get()===!1,setCollapsed:_t(s.set,!1),setExpanded:_t(s.set,!0),readState:i})}});const $d=_a({fields:oU,name:"sliding",active:nU,apis:Z3,state:sU}),Y3=t=>({isEnabled:()=>!oo.isDisabled(t),setEnabled:s=>oo.set(t,!s),setActive:s=>{const i=t.element;s?(As(i,"tox-tbtn--enabled"),lo(i,"aria-pressed",!0)):(Bs(i,"tox-tbtn--enabled"),x(i,"aria-pressed"))},isActive:()=>sa(t.element,"tox-tbtn--enabled"),setText:s=>{kn(t,Of,{text:s})},setIcon:s=>kn(t,Fy,{icon:s})}),vS=(t,s,i,u,m=!0)=>zD({text:t.text,icon:t.icon,tooltip:t.tooltip,searchable:t.search.isSome(),role:u,fetch:(b,T)=>{const I={pattern:t.search.isSome()?z8(b):""};t.fetch(P=>{T(Hy(P,Tp.CLOSE_ON_EXECUTE,i,{isHorizontalMenu:!1,search:t.search}))},I,Y3(b))},onSetup:t.onSetup,getApi:Y3,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...m?[mi.config({})]:[]]},s,i.shared),rU=(t,s,i)=>{const u=b=>T=>{const I=!T.isActive();T.setActive(I),b.storage.set(I),i.shared.getSink().each(P=>{s().getOpt(P).each(V=>{al(V.element),kn(V,kg,{name:b.name,value:b.storage.get()})})})},m=b=>T=>{T.setActive(b.storage.get())};return b=>{b(tt(t,T=>{const I=T.text.fold(()=>({}),P=>({text:P}));return{type:T.type,active:!1,...I,onAction:u(T),onSetup:m(T)}}))}},K3=t=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{title:t,"aria-label":t}},components:[Sr(t)]}),p2=En("leaf-label-event-id"),JD=({leaf:t,onLeafAction:s,visible:i,treeId:u,backstage:m})=>{const b=t.menu.map(I=>vS(I,"tox-mbtn",m,B.none(),i)),T=[K3(t.title)];return b.each(I=>T.push(I)),jc.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(i?["tox-tree--leaf__label--visible"]:[])},components:T,role:"treeitem",action:I=>{s(t.id),I.getSystem().broadcastOn([`update-active-item-${u}`],{value:t.id})},eventOrder:{[oa()]:[p2,"keying"]},buttonBehaviours:Pt([...i?[mi.config({})]:[],xo.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),yu.config({channels:{[`update-active-item-${u}`]:{onReceive:(I,P)=>{(P.value===t.id?xo.on:xo.off)(I)}}}}),po(p2,[Nt(oa(),(I,P)=>{const V=P.event.raw.code==="ArrowLeft",Z=P.event.raw.code==="ArrowRight";V?(Ol(I.element,".tox-tree--directory").each(ee=>{I.getSystem().getByDom(ee).each(oe=>{Qf(ee,".tox-tree--directory__label").each(le=>{oe.getSystem().getByDom(le).each(Zn.focus)})})}),P.stop()):Z&&P.stop()})])])})},iU=(t,s,i)=>sh(t,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:i},s),aU=(t,s)=>iU(t,s,[]),lw=En("directory-label-event-id"),eN=({directory:t,visible:s,noChildren:i,backstage:u})=>{const m=t.menu.map(I=>vS(I,"tox-mbtn",u,B.none())),b=[{dom:{tag:"div",classes:["tox-chevron"]},components:[aU("chevron-right",u.shared.providers.icons)]},K3(t.title)];m.each(I=>{b.push(I)});const T=I=>{Ol(I.element,".tox-tree--directory").each(P=>{I.getSystem().getByDom(P).each(V=>xo.toggle(V))})};return jc.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(s?["tox-tree--directory__label--visible"]:[])},components:b,action:T,eventOrder:{[oa()]:[lw,"keying"]},buttonBehaviours:Pt([...s?[mi.config({})]:[],po(lw,[Nt(oa(),(I,P)=>{const V=P.event.raw.code==="ArrowRight",Z=P.event.raw.code==="ArrowLeft";V&&i&&P.stop(),(V||Z)&&Ol(I.element,".tox-tree--directory").each(ee=>{I.getSystem().getByDom(ee).each(oe=>{!xo.isOn(oe)&&V||xo.isOn(oe)&&Z?(T(I),P.stop()):Z&&!xo.isOn(oe)&&(Ol(oe.element,".tox-tree--directory").each(le=>{Qf(le,".tox-tree--directory__label").each(Ce=>{oe.getSystem().getByDom(Ce).each(Zn.focus)})}),P.stop())})})})])])})},cU=({children:t,onLeafAction:s,visible:i,treeId:u,backstage:m})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:t.map(b=>b.type==="leaf"?JD({leaf:b,onLeafAction:s,visible:i,treeId:u,backstage:m}):tN({directory:b,onLeafAction:s,labelTabstopping:i,treeId:u,backstage:m})),behaviours:Pt([$d.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking"}),uo.config({})])}),tN=({directory:t,onLeafAction:s,labelTabstopping:i,treeId:u,backstage:m})=>{const{children:b}=t,T=I=>b.map(P=>P.type==="leaf"?JD({leaf:P,onLeafAction:s,visible:I,treeId:u,backstage:m}):tN({directory:P,onLeafAction:s,labelTabstopping:I,treeId:u,backstage:m}));return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[eN({directory:t,visible:i,noChildren:t.children.length===0,backstage:m}),cU({children:b,onLeafAction:s,visible:!1,treeId:u,backstage:m})],behaviours:Pt([xo.config({...t.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(I,P)=>{const V=I.components()[1],Z=T(P);P?$d.grow(V):$d.shrink(V),uo.set(V,Z)}})])}},nN=(t,s)=>{const i=t.onLeafAction.getOr(Q),u=En("tree-id"),m=t.items.map(b=>b.type==="leaf"?JD({leaf:b,onLeafAction:i,visible:!0,treeId:u,backstage:s}):tN({directory:b,onLeafAction:i,labelTabstopping:!0,treeId:u,backstage:s}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:m,behaviours:Pt([Fn.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1})])}};var oN=Object.freeze({__proto__:null,events:(t,s)=>{const u=t.stream.streams.setup(t,s);return Zs([Nt(t.event,u),Ac(()=>s.cancel())].concat(t.cancelEvent.map(m=>[Nt(m,()=>s.cancel())]).getOr([])))}});const X3=(t,s)=>{let i=null;return{cancel:()=>{X(i)||(clearTimeout(i),i=null)},throttle:(...b)=>{X(i)&&(i=setTimeout(()=>{i=null,t.apply(null,b)},s))}}},sN=(t,s)=>{let i=null;const u=()=>{X(i)||(clearTimeout(i),i=null)};return{cancel:u,throttle:(...b)=>{u(),i=setTimeout(()=>{i=null,t.apply(null,b)},s)}}},Q3=t=>{const s=Gn(null);return Oc({readState:()=>({timer:s.get()!==null?"set":"unset"}),setTimer:b=>{s.set(b)},cancel:()=>{const b=s.get();b!==null&&b.cancel()}})};var J3=Object.freeze({__proto__:null,throttle:Q3,init:t=>t.stream.streams.state(t)});const uU=(t,s)=>{const i=t.stream,u=sN(t.onStream,i.delay);return s.setTimer(u),(m,b)=>{u.throttle(m,b),i.stopEvent&&b.stop()}};var eB=[wl("stream",sr("mode",{throttle:[At("delay"),Ge("stopEvent",!0),tr("streams",{setup:uU,state:Q3})]})),Ge("event","input"),Ko("cancelEvent"),Jm("onStream")];const g2=_a({fields:eB,name:"streaming",active:oN,state:J3}),v2=(t,s,i)=>{const u=hn.getValue(i);hn.setValue(s,u),iN(s)},rN=(t,s)=>{const i=t.element,u=Xl(i),m=i.dom;ki(i,"type")!=="number"&&s(m,u)},iN=t=>{rN(t,(s,i)=>s.setSelectionRange(i.length,i.length))},tB=(t,s)=>{rN(t,(i,u)=>i.setSelectionRange(s,u.length))},dU=(t,s,i)=>{if(t.selectsOver){const u=hn.getValue(s),m=t.getDisplayText(u),b=hn.getValue(i);return t.getDisplayText(b).indexOf(m)===0?B.some(()=>{v2(t,s,i),tB(s,m.length)}):B.none()}else return B.none()},aN=we("alloy.typeahead.itemexecute"),fU=(t,s,i,u)=>{const m=(ee,oe,le)=>{t.previewing.set(!1);const Ce=Ai.getCoupled(ee,"sandbox");if(Uo.isOpen(Ce))Qo.getCurrent(Ce).each(ke=>{ps.getHighlighted(ke).fold(()=>{le(ke)},()=>{a0(Ce,ke.element,"keydown",oe)})});else{const ke=st=>{Qo.getCurrent(st).each(le)};zA(t,T(ee),ee,Ce,u,ke,xu.HighlightMenuAndItem).get(Q)}},b=KP(t),T=ee=>oe=>oe.map(le=>{const Ce=_h(le.menus),ke=pt(Ce,Ue=>fo(Ue.items,ot=>ot.type==="item"));return hn.getState(ee).update(tt(ke,Ue=>Ue.data)),le}),I=ee=>Qo.getCurrent(ee),P="typeaheadevents",V=[Zn.config({}),hn.config({onSetValue:t.onSetValue,store:{mode:"dataset",getDataKey:ee=>Xl(ee.element),getFallbackEntry:ee=>({value:ee,meta:{}}),setValue:(ee,oe)=>{Yu(ee.element,t.model.getDisplayText(oe))},...t.initialData.map(ee=>Uu("initialValue",ee)).getOr({})}}),g2.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:(ee,oe)=>{const le=Ai.getCoupled(ee,"sandbox");if(Zn.isFocused(ee)&&Xl(ee.element).length>=t.minChars){const ke=I(le).bind(Ue=>ps.getHighlighted(Ue).map(hn.getValue));t.previewing.set(!0);const st=Ue=>{I(le).each(ot=>{ke.fold(()=>{t.model.selectsOver&&ps.highlightFirst(ot)},ft=>{ps.highlightBy(ot,vt=>hn.getValue(vt).value===ft.value),ps.getHighlighted(ot).orThunk(()=>(ps.highlightFirst(ot),B.none()))})})};zA(t,T(ee),ee,le,u,st,xu.HighlightJustMenu).get(Q)}},cancelEvent:h1()}),Fn.config({mode:"special",onDown:(ee,oe)=>(m(ee,oe,ps.highlightFirst),B.some(!0)),onEscape:ee=>{const oe=Ai.getCoupled(ee,"sandbox");return Uo.isOpen(oe)?(Uo.close(oe),B.some(!0)):B.none()},onUp:(ee,oe)=>(m(ee,oe,ps.highlightLast),B.some(!0)),onEnter:ee=>{const oe=Ai.getCoupled(ee,"sandbox"),le=Uo.isOpen(oe);if(le&&!t.previewing.get())return I(oe).bind(Ce=>ps.getHighlighted(Ce)).map(Ce=>(kn(ee,aN(),{item:Ce}),!0));{const Ce=hn.getValue(ee);return rs(ee,h1()),t.onExecute(oe,ee,Ce),le&&Uo.close(oe),B.some(!0)}}}),xo.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),Ai.config({others:{sandbox:ee=>JC(t,ee,{onOpen:()=>xo.on(ee),onClose:()=>xo.off(ee)})}}),po(P,[Cr(ee=>{t.lazyTypeaheadComp.set(B.some(ee))}),Ac(ee=>{t.lazyTypeaheadComp.set(B.none())}),Yl(ee=>{const oe=Q;iD(t,T(ee),ee,u,oe,xu.HighlightMenuAndItem).get(Q)}),Nt(aN(),(ee,oe)=>{const le=Ai.getCoupled(ee,"sandbox");v2(t.model,ee,oe.event.item),rs(ee,h1()),t.onItemExecute(ee,le,oe.event.item,hn.getValue(ee)),Uo.close(le),iN(ee)})].concat(t.dismissOnBlur?[Nt(Mv(),ee=>{const oe=Ai.getCoupled(ee,"sandbox");Ql(oe.element).isNone()&&Uo.close(oe)})]:[]))],Z={[Gu()]:[hn.name(),g2.name(),P],...t.eventOrder};return{uid:t.uid,dom:XP(er(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...b,...Pr(t.typeaheadBehaviours,V)},eventOrder:Z}},nB=we([Ko("lazySink"),At("fetch"),Ge("minChars",5),Ge("responseTime",1e3),Xe("onOpen"),Ge("getHotspot",B.some),Ge("getAnchorOverrides",we({})),Ge("layouts",B.none()),Ge("eventOrder",{}),Mh("model",{},[Ge("getDisplayText",t=>t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value),Ge("selectsOver",!0),Ge("populateFromBrowse",!0)]),Xe("onSetValue"),xr("onExecute"),Xe("onItemExecute"),Ge("inputClasses",[]),Ge("inputAttributes",{}),Ge("inputStyles",{}),Ge("matchWidth",!0),Ge("useMinWidth",!1),Ge("dismissOnBlur",!0),bu(["openClass"]),Ko("initialData"),Za("typeaheadBehaviours",[Zn,hn,g2,Fn,xo,Ai]),_s("lazyTypeaheadComp",()=>Gn(B.none)),_s("previewing",()=>Gn(!0))].concat(YP()).concat(cD())),hU=we([Ef({schema:[xd()],name:"menu",overrides:t=>({fakeFocus:!0,onHighlightItem:(s,i,u)=>{t.previewing.get()?t.lazyTypeaheadComp.get().each(m=>{dU(t.model,m,u).fold(()=>{t.model.selectsOver?(ps.dehighlight(i,u),t.previewing.set(!0)):t.previewing.set(!1)},b=>{b(),t.previewing.set(!1)})}):t.lazyTypeaheadComp.get().each(m=>{t.model.populateFromBrowse&&v2(t.model,m,u)})},onExecute:(s,i)=>t.lazyTypeaheadComp.get().map(u=>(kn(u,aN(),{item:i}),!0)),onHover:(s,i)=>{t.previewing.set(!1),t.lazyTypeaheadComp.get().each(u=>{t.model.populateFromBrowse&&v2(t.model,u,i)})}})})]),oB=xi({name:"Typeahead",configFields:nB(),partFields:hU(),factory:fU}),mm=t=>({...t,toCached:()=>mm(t.toCached()),bindFuture:P=>mm(t.bind(V=>V.fold(Z=>ll.pure(io.error(Z)),Z=>P(Z)))),bindResult:P=>mm(t.map(V=>V.bind(P))),mapResult:P=>mm(t.map(V=>V.map(P))),mapError:P=>mm(t.map(V=>V.mapError(P))),foldResult:(P,V)=>t.map(Z=>Z.fold(P,V)),withTimeout:(P,V)=>mm(ll.nu(Z=>{let ee=!1;const oe=setTimeout(()=>{ee=!0,Z(io.error(V()))},P);t.get(le=>{ee||(clearTimeout(oe),Z(le))})}))}),sB=t=>mm(ll.nu(t)),b2=t=>mm(ll.pure(io.value(t))),pU={nu:sB,wrap:mm,pure:b2,value:b2,error:t=>mm(ll.pure(io.error(t))),fromResult:t=>mm(ll.pure(t)),fromFuture:t=>mm(t.map(io.value)),fromPromise:t=>sB(s=>{t.then(i=>{s(io.value(i))},i=>{s(io.error(i))})})},bS=(t,s,i=[],u,m,b)=>{const T=s.fold(()=>({}),V=>({action:V})),I={buttonBehaviours:Pt([am.button(()=>!t.enabled||b.isDisabled()),Ya(),mi.config({}),po("button press",[Bv("click"),Bv("mousedown")])].concat(i)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...T},P=er(I,{dom:u});return er(P,{components:m})},gU=(t,s,i,u=[])=>{const m=t.tooltip.map(P=>({"aria-label":i.translate(P),title:i.translate(P)})).getOr({}),b={tag:"button",classes:["tox-tbtn"],attributes:m},T=t.icon.map(P=>$y(P,i.icons)),I=KE([T]);return bS(t,s,u,b,I,i)},y2=t=>{switch(t){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},rB=(t,s,i,u=[],m=[])=>{const b=i.translate(t.text),T=t.icon.map(oe=>$y(oe,i.icons)),I=[T.getOrThunk(()=>Sr(b))],P=t.buttonType.getOr(!t.primary&&!t.borderless?"secondary":"primary"),ee={tag:"button",classes:[...y2(P),...T.isSome()?["tox-button--icon"]:[],...t.borderless?["tox-button--naked"]:[],...m],attributes:{title:b}};return bS(t,s,u,ee,I,i)},iB=(t,s,i,u=[],m=[])=>{const b=rB(t,B.some(s),i,u,m);return jc.sketch(b)},aB=(t,s)=>i=>{s==="custom"?kn(i,kg,{name:t,value:{}}):s==="submit"?rs(i,sS):s==="cancel"?rs(i,ky):console.error("Unknown button type: ",s)},vU=(t,s)=>s==="menu",cB=(t,s)=>s==="custom"||s==="cancel"||s==="submit",bU=(t,s)=>s==="togglebutton",yU=(t,s)=>{var i,u,m;const b=B.from(t.icon).map(ot=>hm(ot,s.icons)).map(Wo),T=ot=>{kn(ot,kg,{name:t.name,value:{setIcon:ft=>{b.map(vt=>vt.getOpt(ot).each(Jt=>{uo.set(Jt,[hm(ft,s.icons)])}))}}})},I={...t,name:(i=t.name)!==null&&i!==void 0?i:"",primary:t.buttonType==="primary",buttonType:B.from(t.buttonType),tooltip:B.from(t.tooltip),icon:B.from(t.name),enabled:(u=t.enabled)!==null&&u!==void 0?u:!1,borderless:!1},P=I.tooltip.map(ot=>({"aria-label":s.translate(ot),title:s.translate(ot)})).getOr({}),V=y2((m=t.buttonType)!==null&&m!==void 0?m:"secondary"),Z=!!t.icon&&!!t.text,ee={tag:"button",classes:[...V.concat(["tox-button--icon"]),...t.active?["tox-button--enabled"]:[],...Z?["tox-button--icon-and-text"]:[]],attributes:P},oe=[],le=s.translate(t.text),Ce=Sr(le),st=[...KE([b.map(ot=>ot.asSpec())]),...Z?[Ce]:[]],Ue=bS(I,B.some(T),oe,ee,st,s);return jc.sketch(Ue)},yS=(t,s,i)=>{if(vU(t,s)){const u=()=>T,m=t,b={...t,type:"menubutton",search:B.none(),onSetup:I=>(I.setEnabled(t.enabled),Q),fetch:rU(m.items,u,i)},T=Wo(vS(b,"tox-tbtn",i,B.none()));return T.asSpec()}else if(cB(t,s)){const u=aB(t.name,s),m={...t,borderless:!1};return iB(m,u,i.shared.providers,[])}else if(bU(t,s)){const u={...t,tooltip:t.tooltip,text:t.text.getOrUndefined(),buttonType:t.buttonType.getOrUndefined()};return yU(u,i.shared.providers)}else throw console.error("Unknown footer button type: ",s),new Error("Unknown footer button type")},_U=(t,s)=>{const i=aB(t.name,"custom");return M4(B.none(),Cs.parts.field({factory:jc,...rB(t,B.some(i),s,[Ri.memory(""),fm.self()])}))},EU={type:"separator"},wU=t=>({type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:Q}),_2=(t,s)=>({type:"menuitem",value:s,text:t,meta:{attach:void 0},onAction:Q}),TU=t=>tt(t,wU),CU=(t,s)=>fo(s,i=>i.type===t),cN=(t,s)=>TU(CU(t,s)),lB=t=>cN("header",t.targets),uB=t=>cN("anchor",t.targets),E2=t=>B.from(t.anchorTop).map(s=>_2("<top>",s)).toArray(),SU=t=>B.from(t.anchorBottom).map(s=>_2("<bottom>",s)).toArray(),xU=t=>tt(t,s=>_2(s,s)),AU=t=>vs(t,(s,i)=>s.length===0||i.length===0?s.concat(i):s.concat(EU,i),[]),lN=(t,s)=>{const i=t.toLowerCase();return fo(s,u=>{var m;const b=u.meta!==void 0&&u.meta.text!==void 0?u.meta.text:u.text,T=(m=u.value)!==null&&m!==void 0?m:"";return Xi(b.toLowerCase(),i)||Xi(T.toLowerCase(),i)})},dB=(t,s,i)=>{const u=hn.getValue(s),m=u.meta.text!==void 0?u.meta.text:u.value;return i.getLinkInformation().fold(()=>[],T=>{const I=lN(m,xU(i.getHistory(t)));return t==="file"?AU([I,lN(m,lB(T)),lN(m,Kt([E2(T),uB(T),SU(T)]))]):I})},uN=En("aria-invalid"),OU=(t,s,i,u)=>{const m=s.shared.providers,b=ot=>{const ft=hn.getValue(ot);i.addToHistory(ft.value,t.filetype)},T={...u.map(ot=>({initialData:ot})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":uN,type:"url"},minChars:0,responseTime:0,fetch:ot=>{const ft=dB(t.filetype,ot,i),vt=Hy(ft,Tp.BUBBLE_TO_SANDBOX,s,{isHorizontalMenu:!1,search:B.none()});return ll.pure(vt)},getHotspot:ot=>Ce.getOpt(ot),onSetValue:(ot,ft)=>{ot.hasConfigured(Pg)&&Pg.run(ot).get(Q)},typeaheadBehaviours:Pt([...i.getValidationHandler().map(ot=>Pg.config({getRoot:ft=>Bc(ft.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(ft,vt)=>{Z.getOpt(ft).each(Jt=>{lo(Jt.element,"title",m.translate(vt))})}},validator:{validate:ft=>{const vt=hn.getValue(ft);return pU.nu(Jt=>{ot({type:t.filetype,url:vt.value},Lt=>{if(Lt.status==="invalid"){const un=io.error(Lt.message);Jt(un)}else{const un=io.value(Lt.message);Jt(un)}})})},validateOnLoad:!1}})).toArray(),oo.config({disabled:()=>!t.enabled||m.isDisabled()}),mi.config({}),po("urlinput-events",[Nt(Vc(),ot=>{const ft=Xl(ot.element),vt=ft.trim();vt!==ft&&Yu(ot.element,vt),t.filetype==="file"&&kn(ot,Ld,{name:t.name})}),Nt(Zl(),ot=>{kn(ot,Ld,{name:t.name}),b(ot)}),Nt(kv(),ot=>{kn(ot,Ld,{name:t.name}),b(ot)})])]),eventOrder:{[Vc()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:ot=>ot.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:s.shared.getSink,parts:{menu:gA(!1,1,"normal")},onExecute:(ot,ft,vt)=>{kn(ft,sS,{})},onItemExecute:(ot,ft,vt,Jt)=>{b(ot),kn(ot,Ld,{name:t.name})}},I=Cs.parts.field({...T,factory:oB}),P=t.label.map(ot=>lv(ot,m)),Z=Wo(((ot,ft,vt=ot,Jt=ot)=>sh(vt,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+ot],attributes:{title:m.translate(Jt),"aria-live":"polite",...ft.fold(()=>({}),Lt=>({id:Lt}))}},m.icons))("invalid",B.some(uN),"warning")),ee=Wo({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[Z.asSpec()]}),oe=i.getUrlPicker(t.filetype),le=En("browser.url.event"),Ce=Wo({dom:{tag:"div",classes:["tox-control-wrap"]},components:[I,ee.asSpec()],behaviours:Pt([oo.config({disabled:()=>!t.enabled||m.isDisabled()})])}),ke=Wo(iB({name:t.name,icon:B.some("browse"),text:t.label.getOr(""),enabled:t.enabled,primary:!1,buttonType:B.none(),borderless:!0},ot=>rs(ot,le),m,[],["tox-browse-url"])),st=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Kt([[Ce.asSpec()],oe.map(()=>ke.asSpec()).toArray()])}),Ue=ot=>{Qo.getCurrent(ot).each(ft=>{const vt=hn.getValue(ft),Jt={fieldname:t.name,...vt};oe.each(Lt=>{Lt(Jt).get(un=>{hn.setValue(ft,un),kn(ot,Ld,{name:t.name})})})})};return Cs.sketch({dom:k4(),components:P.toArray().concat([st()]),fieldBehaviours:Pt([oo.config({disabled:()=>!t.enabled||m.isDisabled(),onDisabled:ot=>{Cs.getField(ot).each(oo.disable),ke.getOpt(ot).each(oo.disable)},onEnabled:ot=>{Cs.getField(ot).each(oo.enable),ke.getOpt(ot).each(oo.enable)}}),Ya(),po("url-input-events",[Nt(le,Ue)])])})},RU=(t,s)=>cm.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${t.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[jc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:mP(t.icon,s.icons),attributes:{title:s.translate(t.iconTooltip)}},action:i=>{kn(i,kg,{name:"alert-banner",value:t.url})},buttonBehaviours:Pt([CC()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:s.translate(t.text)}}]}),fB=(t,s)=>{t.dom.checked=s},IU=t=>t.dom.checked,DU=(t,s,i)=>{const u=P=>(P.element.dom.click(),B.some(!0)),m=Cs.parts.field({factory:{sketch:je},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Pt([fm.self(),oo.config({disabled:()=>!t.enabled||s.isDisabled()}),mi.config({}),Zn.config({}),Ri.withElement(i,IU,fB),Fn.config({mode:"special",onEnter:u,onSpace:u,stopSpaceKeyup:!0}),po("checkbox-events",[Nt(Zl(),(P,V)=>{kn(P,Ld,{name:t.name})})])])}),b=Cs.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Sr(s.translate(t.label))],behaviours:Pt([rS.config({})])}),T=P=>sh(P==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+P]},s.icons),I=Wo({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[T("checked"),T("unchecked")]});return Cs.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[m,I.asSpec(),b],fieldBehaviours:Pt([oo.config({disabled:()=>!t.enabled||s.isDisabled(),disableClass:"tox-checkbox--disabled",onDisabled:P=>{Cs.getField(P).each(oo.disable)},onEnabled:P=>{Cs.getField(P).each(oo.enable)}}),Ya()])})},So=t=>t.presets==="presentation"?cm.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):cm.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:Pt([mi.config({}),Zn.config({})])}),Zi=t=>(s,i,u,m)=>cn(i,"name").fold(()=>t(i,m,B.none()),b=>s.field(b,t(i,m,cn(u,b)))),hB=t=>(s,i,u,m)=>{const b=er(i,{source:"dynamic"});return Zi(t)(s,b,u,m)},mB={bar:Zi((t,s)=>c7(t,s.shared)),collection:Zi((t,s,i)=>m7(t,s.shared.providers,i)),alertbanner:Zi((t,s)=>RU(t,s.shared.providers)),input:Zi((t,s,i)=>H3(t,s.shared.providers,i)),textarea:Zi((t,s,i)=>V3(t,s.shared.providers,i)),label:Zi((t,s)=>f2(t,s.shared)),iframe:hB((t,s,i)=>Pz(t,s.shared.providers,i)),button:Zi((t,s)=>_U(t,s.shared.providers)),checkbox:Zi((t,s,i)=>DU(t,s.shared.providers,i)),colorinput:Zi((t,s,i)=>w7(t,s.shared,s.colorinput,i)),colorpicker:Zi((t,s,i)=>Iz(t,s.shared.providers,i)),dropzone:Zi((t,s,i)=>Fg(t,s.shared.providers,i)),grid:Zi((t,s)=>FD(t,s.shared)),listbox:Zi((t,s,i)=>Wz(t,s,i)),selectbox:Zi((t,s,i)=>jz(t,s.shared.providers,i)),sizeinput:Zi((t,s)=>Yz(t,s.shared.providers)),slider:Zi((t,s,i)=>Kz(t,s.shared.providers,i)),urlinput:Zi((t,s,i)=>OU(t,s,s.urlinput,i)),customeditor:Zi(Nz),htmlpanel:Zi(So),imagepreview:Zi((t,s,i)=>Hg(t,i)),table:Zi((t,s)=>Xz(t,s.shared.providers)),tree:Zi((t,s)=>nN(t,s)),panel:Zi((t,s)=>Gz(t,s))},pB={field:(t,s)=>s,record:we([])},dN=(t,s,i,u)=>{const m=er(u,{shared:{interpreter:b=>w2(t,b,i,m)}});return w2(t,s,i,m)},w2=(t,s,i,u)=>cn(mB,s.type).fold(()=>(console.error(`Unknown factory type "${s.type}", defaulting to container: `,s),s),m=>m(t,s,i,u)),NU=(t,s,i)=>w2(pB,t,s,i),pm="layout-inset",fN=t=>t.x,hN=(t,s)=>t.x+t.width/2-s.width/2,mN=(t,s)=>t.x+t.width-s.width,pN=t=>t.y,gN=(t,s)=>t.y+t.height-s.height,vN=(t,s)=>t.y+t.height/2-s.height/2,uw=(t,s,i)=>ra(mN(t,s),gN(t,s),i.insetSouthwest(),A1(),"southwest",ba(t,{right:0,bottom:3}),pm),_S=(t,s,i)=>ra(fN(t),gN(t,s),i.insetSoutheast(),Kv(),"southeast",ba(t,{left:1,bottom:3}),pm),ES=(t,s,i)=>ra(mN(t,s),pN(t),i.insetNorthwest(),jh(),"northwest",ba(t,{right:0,top:2}),pm),wS=(t,s,i)=>ra(fN(t),pN(t),i.insetNortheast(),ep(),"northeast",ba(t,{left:1,top:2}),pm),zg=(t,s,i)=>ra(hN(t,s),pN(t),i.insetNorth(),Rc(),"north",ba(t,{top:2}),pm),TS=(t,s,i)=>ra(hN(t,s),gN(t,s),i.insetSouth(),O1(),"south",ba(t,{bottom:3}),pm),gB=(t,s,i)=>ra(mN(t,s),vN(t,s),i.insetEast(),R1(),"east",ba(t,{right:0}),pm),bN=(t,s,i)=>ra(fN(t),vN(t,s),i.insetWest(),S0(),"west",ba(t,{left:1}),pm),MU=t=>{switch(t){case"north":return zg;case"northeast":return wS;case"northwest":return ES;case"south":return TS;case"southeast":return _S;case"southwest":return uw;case"east":return gB;case"west":return bN}},vB=(t,s,i,u,m)=>vg(u).map(MU).getOr(zg)(t,s,i,u,m),kU=t=>{switch(t){case"north":return TS;case"northeast":return _S;case"northwest":return uw;case"south":return zg;case"southeast":return wS;case"southwest":return ES;case"east":return bN;case"west":return gB}},PU=(t,s,i,u,m)=>vg(u).map(kU).getOr(zg)(t,s,i,u,m),bB={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},LU=(t,s,i)=>{const m={maxHeightFunction:Yh()},b=()=>({type:"node",root:Mi(Oa(t())),node:B.from(t()),bubble:Rd(12,12,bB),layouts:{onRtl:()=>[wS],onLtr:()=>[ES]},overrides:m}),T=()=>({type:"hotspot",hotspot:s(),bubble:Rd(-12,12,bB),layouts:{onRtl:()=>[ya,Ui,Pa],onLtr:()=>[Ui,ya,Pa]},overrides:m});return()=>i()?b():T()},BU=(t,s,i)=>{const u=()=>({type:"node",root:Mi(Oa(t())),node:B.from(t()),layouts:{onRtl:()=>[zg],onLtr:()=>[zg]}}),m=()=>({type:"hotspot",hotspot:s(),layouts:{onRtl:()=>[Pa],onLtr:()=>[Pa]}});return()=>i()?u():m()},$U=(t,s)=>()=>({type:"selection",root:s(),getSelection:()=>{const i=t.selection.getRng();return B.some(nh.range(Je.fromDom(i.startContainer),i.startOffset,Je.fromDom(i.endContainer),i.endOffset))}}),FU=t=>s=>({type:"node",root:t(),node:s}),HU=(t,s,i)=>{const u=wy(t),m=()=>Je.fromDom(t.getBody()),b=()=>Je.fromDom(t.getContentAreaContainer()),T=()=>u||!i();return{inlineDialog:LU(b,s,T),banner:BU(b,s,T),cursor:$U(t,m),node:FU(m)}},VU=t=>(s,i)=>{eD(t)(s,i)},yB=t=>()=>YI(t),zU=t=>s=>JE(t,s),UU=t=>s=>VA(t,s),WU=t=>({colorPicker:VU(t),hasCustomColors:yB(t),getColors:zU(t),getColorCols:UU(t)}),GU=t=>()=>DP(t),qU=t=>({isDraggableModal:GU(t)}),jU=t=>{const s=Gn(fI(t)?"bottom":"top");return{isPositionedAtTop:()=>s.get()==="top",getDockingMode:s.get,setDockingMode:s.set}},yN=t=>la(t,"items"),_B=t=>la(t,"format"),_N=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],ZU=t=>Vo(t,"items"),EB=t=>Vo(t,"block"),wB=t=>Vo(t,"inline"),TB=t=>Vo(t,"selector"),CB=t=>vs(t,(s,i)=>{if(ZU(i)){const u=CB(i.items);return{customFormats:s.customFormats.concat(u.customFormats),formats:s.formats.concat([{title:i.title,items:u.formats}])}}else if(wB(i)||EB(i)||TB(i)){const m=`custom-${D(i.name)?i.name:i.title.toLowerCase()}`;return{customFormats:s.customFormats.concat([{name:m,format:i}]),formats:s.formats.concat([{title:i.title,format:m,icon:i.icon}])}}else return{...s,formats:s.formats.concat(i)}},{customFormats:[],formats:[]}),SB=(t,s)=>{const i=CB(s),u=m=>{Dt(m,b=>{t.formatter.has(b.name)||t.formatter.register(b.name,b.format)})};return t.formatter?u(i.customFormats):t.on("init",()=>{u(i.customFormats)}),i.formats},EN=t=>_P(t).map(s=>{const i=SB(t,s);return EP(t)?_N.concat(i):i}).getOr(_N),YU=t=>{const s=Rs(t);return s.length===1&&bo(s,"title")},wN=(t,s,i)=>({...t,type:"formatter",isSelected:s(t.format),getStylePreview:i(t.format)}),xB=(t,s,i,u)=>{const m=P=>wN(P,i,u),b=P=>{const V=I(P.items);return{...P,type:"submenu",getStyleItems:we(V)}},T=P=>{const V=D(P.name)?P.name:En(P.title),Z=`custom-${V}`,ee={...P,type:"formatter",format:Z,isSelected:i(Z),getStylePreview:u(Z)};return t.formatter.register(V,ee),ee},I=P=>tt(P,V=>yN(V)?b(V):_B(V)?m(V):YU(V)?{...V,type:"separator"}:T(V));return I(s)},KU=t=>{const s=I=>()=>t.formatter.match(I),i=I=>()=>{const P=t.formatter.get(I);return P!==void 0?B.some({tag:P.length>0&&(P[0].inline||P[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(I))}):B.none()},u=Gn([]),m=Gn([]),b=Gn(!1);return t.on("PreInit",I=>{const P=EN(t),V=xB(t,P,s,i);u.set(V)}),t.on("addStyleModifications",I=>{const P=xB(t,I.items,s,i);m.set(P),b.set(I.replace)}),{getData:()=>{const I=b.get()?[]:u.get(),P=m.get();return I.concat(P)}}},Rp=t=>ue(t)&&t.nodeType===1,T2=By.trim,CS=t=>s=>!!(Rp(s)&&(s.contentEditable===t||s.getAttribute("data-mce-contenteditable")===t)),XU=CS("true"),TN=CS("false"),AB=(t,s,i,u,m)=>({type:t,title:s,url:i,level:u,attach:m}),CN=t=>{let s=t;for(;s=s.parentNode;){const i=s.contentEditable;if(i&&i!=="inherit")return XU(s)}return!1},OB=(t,s)=>tt(qi(Je.fromDom(s),t),i=>i.dom),C2=t=>t.innerText||t.textContent,QU=t=>t.id?t.id:En("h"),RB=t=>t&&t.nodeName==="A"&&(t.id||t.name)!==void 0,IB=t=>RB(t)&&DB(t),S2=t=>t&&/^(H[1-6])$/.test(t.nodeName),DB=t=>CN(t)&&!TN(t),JU=t=>S2(t)&&DB(t),NB=t=>S2(t)?parseInt(t.nodeName.substr(1),10):0,eW=t=>{var s;const i=QU(t),u=()=>{t.id=i};return AB("header",(s=C2(t))!==null&&s!==void 0?s:"","#"+i,NB(t),u)},tW=t=>{const s=t.id||t.name,i=C2(t);return AB("anchor",i||"#"+s,"#"+s,0,Q)},MB=t=>tt(fo(t,JU),eW),kB=t=>tt(fo(t,IB),tW),nW=t=>OB("h1,h2,h3,h4,h5,h6,a:not([href])",t),oW=t=>T2(t.title).length>0,sW={find:t=>{const s=nW(t);return fo(MB(s).concat(kB(s)),oW)}},SS="tinymce-url-history",gm=5,x2=t=>D(t)&&/^https?/.test(t),rW=t=>q(t)&&t.length<=gm&&vi(t,x2),PB=t=>k(t)&&yi(t,s=>!rW(s)).isNone(),LB=()=>{const t=Ny.getItem(SS);if(t===null)return{};let s;try{s=JSON.parse(t)}catch(i){if(i instanceof SyntaxError)return console.log("Local storage "+SS+" was not valid JSON",i),{};throw i}return PB(s)?s:(console.log("Local storage "+SS+" was not valid format",s),{})},iW=t=>{if(!PB(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));Ny.setItem(SS,JSON.stringify(t))},aW=t=>{const s=LB();return cn(s,t).getOr([])},BB=(t,s)=>{if(!x2(t))return;const i=LB(),u=cn(i,s).getOr([]),m=fo(u,b=>b!==t);i[s]=[t].concat(m).slice(0,gm),iW(i)},SN=t=>!!t,_K=t=>ks(By.makeMap(t,/[, ]/),SN),$B=t=>B.from(AP(t)),ul=t=>{const s=B.from(hA(t)).filter(SN).map(_K);return $B(t).fold(Tt,i=>s.fold(Rt,u=>Rs(u).length>0?u:!1))},xN=(t,s)=>{const i=ul(t);return fe(i)?i?$B(t):B.none():i[s]?$B(t):B.none()},cW=(t,s)=>xN(t,s).map(i=>u=>ll.nu(m=>{const b=(I,P)=>{if(!D(I))throw new Error("Expected value to be string");if(P!==void 0&&!k(P))throw new Error("Expected meta to be a object");m({value:I,meta:P})},T={filetype:s,fieldname:u.fieldname,...B.from(u.meta).getOr({})};i.call(t,b,u.value,T)})),xS=t=>B.from(t).filter(D).getOrUndefined(),lW=t=>RP(t)?B.some({targets:sW.find(t.getBody()),anchorTop:xS(IC(t)),anchorBottom:xS(IP(t))}):B.none(),uW=t=>B.from(OP(t)),dW=t=>({getHistory:aW,addToHistory:BB,getLinkInformation:()=>lW(t),getValidationHandler:()=>uW(t),getUrlPicker:s=>cW(t,s)}),fW=(t,s,i)=>{const u=Gn(!1),m=jU(s),b={icons:()=>s.ui.registry.getAll().icons,menuItems:()=>s.ui.registry.getAll().menuItems,translate:Cf.translate,isDisabled:()=>s.mode.isReadOnly()||!s.ui.isEnabled(),getOption:s.options.get},T=dW(s),I=KU(s),P=WU(s),V=qU(s),Z=()=>u.get(),ee=ke=>u.set(ke),oe={shared:{providers:b,anchors:HU(s,i,m.isPositionedAtTop),header:m},urlinput:T,styles:I,colorinput:P,dialog:V,isContextMenuOpen:Z,setContextMenuState:ee},le={...oe,shared:{...oe.shared,interpreter:ke=>NU(ke,{},le),getSink:t.popup}},Ce={...oe,shared:{...oe.shared,interpreter:ke=>NU(ke,{},Ce),getSink:t.dialog}};return{popup:le,dialog:Ce}},hW=(t,s,i)=>{const u=(Lt,un)=>{Dt([s,...i],On=>{On.broadcastEvent(Lt,un)})},m=(Lt,un)=>{Dt([s,...i],On=>{On.broadcastOn([Lt],un)})},b=Lt=>m(mp(),{target:Lt.target}),T=ro(),I=Nc(T,"touchstart",b),P=Nc(T,"touchmove",Lt=>u(g_(),Lt)),V=Nc(T,"touchend",Lt=>u(rl(),Lt)),Z=Nc(T,"mousedown",b),ee=Nc(T,"mouseup",Lt=>{Lt.raw.button===0&&m(IT(),{target:Lt.target})}),oe=Lt=>m(mp(),{target:Je.fromDom(Lt.target)}),le=Lt=>{Lt.button===0&&m(IT(),{target:Je.fromDom(Lt.target)})},Ce=()=>{Dt(t.editorManager.get(),Lt=>{t!==Lt&&Lt.dispatch("DismissPopups",{relatedTarget:t})})},ke=Lt=>u(Wu(),Y_(Lt)),st=Lt=>{m(pb(),{}),u(Uf(),Y_(Lt))},Ue=Oa(Je.fromDom(t.getElement())),ot=B1(Ue,"scroll",Lt=>{requestAnimationFrame(()=>{const un=t.getContainer();if(un!=null){const $o=Oi(t,s.element).map(Hn=>[Hn.element,...Hn.others]).getOr([]);Fo($o,Hn=>ys(Hn,Lt.target))&&(t.dispatch("ElementScroll",{target:Lt.target.dom}),u(i0(),Lt))}})}),ft=()=>m(pb(),{}),vt=Lt=>{Lt.state&&m(mp(),{target:Je.fromDom(t.getContainer())})},Jt=Lt=>{m(mp(),{target:Je.fromDom(Lt.relatedTarget.getContainer())})};t.on("PostRender",()=>{t.on("click",oe),t.on("tap",oe),t.on("mouseup",le),t.on("mousedown",Ce),t.on("ScrollWindow",ke),t.on("ResizeWindow",st),t.on("ResizeEditor",ft),t.on("AfterProgressState",vt),t.on("DismissPopups",Jt)}),t.on("remove",()=>{t.off("click",oe),t.off("tap",oe),t.off("mouseup",le),t.off("mousedown",Ce),t.off("ScrollWindow",ke),t.off("ResizeWindow",st),t.off("ResizeEditor",ft),t.off("AfterProgressState",vt),t.off("DismissPopups",Jt),Z.unbind(),I.unbind(),P.unbind(),V.unbind(),ee.unbind(),ot.unbind()}),t.on("detach",()=>{Dt([s,...i],wx),Dt([s,...i],Lt=>Lt.destroy())})},pc=nC,Ug=Lx,mW=we([Ge("shell",!1),At("makeItem"),Ge("setupItem",Q),_f.field("listBehaviours",[uo])]),A2=Nd({name:"items",overrides:()=>({behaviours:Pt([uo.config({})])})}),gW=we([A2]),FB=we("CustomList"),vW=(t,s,i,u)=>{const m=(I,P)=>{T(I).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},V=>{const Z=uo.contents(V),ee=P.length,oe=ee-Z.length,le=oe>0?co(oe,()=>t.makeItem()):[],Ce=Z.slice(ee);Dt(Ce,st=>uo.remove(V,st)),Dt(le,st=>uo.append(V,st));const ke=uo.contents(V);Dt(ke,(st,Ue)=>{t.setupItem(I,st,P[Ue],Ue)})})},b=t.shell?{behaviours:[uo.config({})],components:[]}:{behaviours:[],components:s},T=I=>t.shell?B.some(I):ir(I,t,"items");return{uid:t.uid,dom:t.dom,components:b.components,behaviours:Pr(t.listBehaviours,b.behaviours),apis:{setItems:m}}},AN=xi({name:FB(),configFields:mW(),partFields:gW(),factory:vW,apis:{setItems:(t,s,i)=>{t.setItems(s,i)}}}),dw=we([At("dom"),Ge("shell",!0),Za("toolbarBehaviours",[uo])]),HB=we([Nd({name:"groups",overrides:()=>({behaviours:Pt([uo.config({})])})})]),wK=(t,s,i,u)=>{const m=(I,P)=>{b(I).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},V=>{uo.set(V,P)})},b=I=>t.shell?B.some(I):ir(I,t,"groups"),T=t.shell?{behaviours:[uo.config({})],components:[]}:{behaviours:[],components:s};return{uid:t.uid,dom:t.dom,components:T.components,behaviours:Pr(t.toolbarBehaviours,T.behaviours),apis:{setGroups:m},domModification:{attributes:{role:"group"}}}},Wg=xi({name:"Toolbar",configFields:dw(),partFields:HB(),factory:wK,apis:{setGroups:(t,s,i)=>{t.setGroups(s,i)}}}),bW=Q,yW=Tt,VB=we([]);var zB=Object.freeze({__proto__:null,setup:bW,isDocked:yW,getBehaviours:VB});const AS=t=>(vc(it(t,"position"),"fixed")?B.none():Ch(t)).orThunk(()=>{const u=Je.fromTag("span");return Ec(t).bind(m=>{Be(m,u);const b=Ch(u);return St(u),b})}),UB=t=>AS(t).map(Oo).getOrThunk(()=>Xn(0,0)),_W=(t,s)=>{const i=t.element;As(i,s.transitionClass),Bs(i,s.fadeOutClass),As(i,s.fadeInClass),s.onShow(t)},WB=(t,s)=>{const i=t.element;As(i,s.transitionClass),Bs(i,s.fadeInClass),As(i,s.fadeOutClass),s.onHide(t)},EW=(t,s)=>t.y<s.bottom&&t.bottom>s.y,GB=(t,s)=>t.y>=s.y,qB=(t,s)=>t.bottom<=s.bottom,ON=(t,s,i)=>({location:"top",leftX:s,topY:i.bounds.y-t.y}),OS=(t,s,i)=>({location:"bottom",leftX:s,bottomY:t.bottom-i.bounds.bottom}),O2=t=>t.box.x-t.win.x,wW=(t,s,i)=>{const u=s.win,m=s.box,b=O2(s);return or(t,T=>{switch(T){case"bottom":return qB(m,i.bounds)?B.none():B.some(OS(u,b,i));case"top":return GB(m,i.bounds)?B.none():B.some(ON(u,b,i));default:return B.none()}}).getOr({location:"no-dock"})},TW=(t,s,i)=>vi(t,u=>{switch(u){case"bottom":return qB(s,i.bounds);case"top":return GB(s,i.bounds)}}),CW=(t,s)=>{const i=s.optScrollEnv.fold(we(t.bounds.y),u=>u.scrollElmTop+(t.bounds.y-u.currentScrollTop));return Xn(t.bounds.x,i)},SW=(t,s)=>{const i=s.optScrollEnv.fold(we(t.y),u=>t.y+u.currentScrollTop-u.scrollElmTop);return Xn(t.x,i)},R2=(t,s,i)=>i.getInitialPos().map(u=>{const m=CW(u,s);return{box:Ls(m.left,m.top,dr(t),Cn(t)),location:u.location}}),jB=(t,s,i,u,m)=>{const b=SW(s,i),T=Ls(b.left,b.top,s.width,s.height);u.setInitialPos({style:Et(t),position:Te(t,"position")||"static",bounds:T,location:m.location})},I2=(t,s,i,u,m)=>{u.getInitialPos().fold(()=>jB(t,s,i,u,m),()=>Q)},ZB=(t,s,i)=>i.getInitialPos().bind(u=>{var m;switch(i.clearInitialPos(),u.position){case"static":return B.some({morph:"static"});case"absolute":const b=AS(t).getOr(Ji()),T=ts(b),I=(m=b.dom.scrollTop)!==null&&m!==void 0?m:0;return B.some({morph:"absolute",positionCss:Dc("absolute",cn(u.style,"left").map(P=>s.x-T.x),cn(u.style,"top").map(P=>s.y-T.y+I),cn(u.style,"right").map(P=>T.right-s.right),cn(u.style,"bottom").map(P=>T.bottom-s.bottom))});default:return B.none()}}),D2=(t,s,i)=>R2(t,s,i).filter(({box:u})=>TW(i.getModes(),u,s)).bind(({box:u})=>ZB(t,u,i)),RN=t=>{switch(t.location){case"top":return B.some({morph:"fixed",positionCss:Dc("fixed",B.some(t.leftX),B.some(t.topY),B.none(),B.none())});case"bottom":return B.some({morph:"fixed",positionCss:Dc("fixed",B.some(t.leftX),B.none(),B.none(),B.some(t.bottomY))});default:return B.none()}},IN=(t,s,i)=>{const u=ts(t),m=Na(),b=wW(i.getModes(),{win:m,box:u},s);return b.location==="top"||b.location==="bottom"?(jB(t,u,s,i,b),RN(b)):B.none()},RS=(t,s,i)=>D2(t,s,i).orThunk(()=>s.optScrollEnv.bind(u=>R2(t,s,i)).bind(({box:u,location:m})=>{const b=Na(),T=O2({win:b,box:u}),I=m==="top"?ON(b,T,s):OS(b,T,s);return RN(I)})),YB=(t,s,i)=>{const u=t.element;return vc(it(u,"position"),"fixed")?RS(u,s,i):IN(u,s,i)},xW=(t,s,i)=>{const u=t.element;return R2(u,s,i).bind(({box:m})=>ZB(u,m,i))},KB=(t,s,i,u)=>{const m=ts(t),b=Na(),T=O2({win:b,box:m}),I=u(b,T,s);return I.location==="bottom"||I.location==="top"?(I2(t,m,s,i,I),RN(I)):B.none()},DN=(t,s,i)=>{i.setDocked(!1),Dt(["left","right","top","bottom","position"],u=>rt(t.element,u)),s.onUndocked(t)},N2=(t,s,i,u)=>{const m=u.position==="fixed";i.setDocked(m),nb(t.element,u),(m?s.onDocked:s.onUndocked)(t)},XB=(t,s,i,u,m=!1)=>{s.contextual.each(b=>{b.lazyContext(t).each(T=>{const I=EW(T,u.bounds);I!==i.isVisible()&&(i.setVisible(I),m&&!I?(vu(t.element,[b.fadeOutClass]),b.onHide(t)):(I?_W:WB)(t,b))})})},M2=(t,s,i,u,m)=>{XB(t,s,i,u,!0),N2(t,s,i,m.positionCss)},k2=(t,s,i,u,m)=>{switch(m.morph){case"static":return DN(t,s,i);case"absolute":return N2(t,s,i,m.positionCss);case"fixed":return M2(t,s,i,u,m)}},AW=(t,s,i)=>{const u=s.lazyViewport(t);XB(t,s,i,u),YB(t,u,i).each(m=>{k2(t,s,i,u,m)})},OW=(t,s,i)=>{const u=t.element;i.setDocked(!1);const m=s.lazyViewport(t);xW(t,m,i).each(b=>{switch(b.morph){case"static":{DN(t,s,i);break}case"absolute":{N2(t,s,i,b.positionCss);break}}}),i.setVisible(!0),s.contextual.each(b=>{Wc(u,[b.fadeInClass,b.fadeOutClass,b.transitionClass]),b.onShow(t)}),fv(t,s,i)},fv=(t,s,i)=>{t.getSystem().isConnected()&&AW(t,s,i)},NN=(t,s,i)=>{i.isDocked()&&OW(t,s,i)},QB=t=>(s,i,u)=>{const m=i.lazyViewport(s);KB(s.element,m,u,t).each(T=>{M2(s,i,u,m,T)})},JB=QB(ON),MN=QB(OS);var RW=Object.freeze({__proto__:null,refresh:fv,reset:NN,isDocked:(t,s,i)=>i.isDocked(),getModes:(t,s,i)=>i.getModes(),setModes:(t,s,i,u)=>i.setModes(u),forceDockToTop:JB,forceDockToBottom:MN}),IW=Object.freeze({__proto__:null,events:(t,s)=>Zs([ja(Bh(),(i,u)=>{t.contextual.each(m=>{sa(i.element,m.transitionClass)&&(Wc(i.element,[m.transitionClass,m.fadeInClass]),(s.isVisible()?m.onShown:m.onHidden)(i)),u.stop()})}),Nt(Wu(),(i,u)=>{fv(i,t,s)}),Nt(i0(),(i,u)=>{fv(i,t,s)}),Nt(Uf(),(i,u)=>{NN(i,t,s)})])}),DW=[fn("contextual",[Gr("fadeInClass"),Gr("fadeOutClass"),Gr("transitionClass"),ac("lazyContext"),Xe("onShow"),Xe("onShown"),Xe("onHide"),Xe("onHidden")]),Ci("lazyViewport",()=>({bounds:Na(),optScrollEnv:B.none()})),u1("modes",["top","bottom"],Nr),Xe("onDocked"),Xe("onUndocked")],NW=Object.freeze({__proto__:null,init:t=>{const s=Gn(!1),i=Gn(!0),u=Ys(),m=Gn(t.modes),b=()=>`docked:  ${s.get()}, visible: ${i.get()}, modes: ${m.get().join(",")}`;return Oc({isDocked:s.get,setDocked:s.set,getInitialPos:u.get,setInitialPos:u.set,clearInitialPos:u.clear,isVisible:i.get,setVisible:i.set,getModes:m.get,setModes:m.set,readState:b})}});const $a=_a({fields:DW,name:"docking",active:IW,apis:RW,state:NW}),kN=we(En("toolbar-height-change")),Gg={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},PN="tox-tinymce--toolbar-sticky-on",n$="tox-tinymce--toolbar-sticky-off",IS=(t,s)=>{const i=ii(s),m=Du(s).dom.innerHeight,b=Qt(i),T=Je.fromDom(t.elm),I=gl(T),P=Cn(T),V=I.y,Z=V+P,ee=Oo(s),oe=Cn(s),le=ee.top,Ce=le+oe,ke=Math.abs(le-b.top)<2,st=Math.abs(Ce-(b.top+m))<2;if(ke&&V<Ce)An(b.left,V-oe,i);else if(st&&Z>le){const Ue=V-m+P+oe;An(b.left,Ue,i)}},LN=(t,s)=>bo($a.getModes(t),s),BN=t=>{const s=u=>ur(u)+(parseInt(Te(u,"margin-top"),10)||0)+(parseInt(Te(u,"margin-bottom"),10)||0),i=t.element;Bc(i).each(u=>{const m="padding-"+$a.getModes(t)[0];if($a.isDocked(t)){const b=dr(u);te(i,"width",b+"px"),te(u,m,s(i)+"px")}else rt(i,"width"),rt(u,m)})},P2=(t,s)=>{s?(Bs(t,Gg.fadeOutClass),vu(t,[Gg.transitionClass,Gg.fadeInClass])):(Bs(t,Gg.fadeInClass),vu(t,[Gg.fadeOutClass,Gg.transitionClass]))},$N=(t,s)=>{const i=Je.fromDom(t.getContainer());s?(As(i,PN),Bs(i,n$)):(As(i,n$),Bs(i,PN))},MW=(t,s)=>{const i=ii(s);Od(i).filter(u=>!ys(s,u)).filter(u=>ys(u,Je.fromDom(i.dom.body))||tc(t,u)).each(()=>al(s))},kW=(t,s)=>Ql(t).orThunk(()=>s().toOptional().bind(i=>Ql(i.element))),PW=(t,s,i)=>{t.inline||(s.header.isPositionedAtTop()||t.on("ResizeEditor",()=>{i().each($a.reset)}),t.on("ResizeWindow ResizeEditor",()=>{i().each(BN)}),t.on("SkinLoaded",()=>{i().each(u=>{$a.isDocked(u)?$a.reset(u):$a.refresh(u)})}),t.on("FullscreenStateChanged",()=>{i().each($a.reset)})),t.on("AfterScrollIntoView",u=>{i().each(m=>{$a.refresh(m);const b=m.element;hi(b)&&IS(u,b)})}),t.on("PostRender",()=>{$N(t,!1)})},LW=t=>t().map($a.isDocked).getOr(!1),BW=()=>[yu.config({channels:{[kN()]:{onReceive:BN}}})],o$=(t,s)=>{const i=Ys(),u=s.getSink,m=I=>{u().each(P=>I(P.element))},b=I=>{t.inline||BN(I),$N(t,$a.isDocked(I)),I.getSystem().broadcastOn([pb()],{}),u().each(P=>P.getSystem().broadcastOn([pb()],{}))},T=t.inline?[]:BW();return[Zn.config({}),$a.config({contextual:{lazyContext:I=>{const P=ur(I.element),V=t.inline?t.getContentAreaContainer():t.getContainer();return B.from(V).map(Z=>{const ee=ts(Je.fromDom(Z));return Oi(t,I.element).fold(()=>{const le=ee.height-P,Ce=ee.y+(LN(I,"top")?0:P);return Ls(ee.x,Ce,ee.width,le)},le=>{const Ce=Am(ee,GA(le));return Ls(Ce.x,Ce.y,Ce.width,Ce.height-P)})})},onShow:()=>{m(I=>P2(I,!0))},onShown:I=>{m(P=>Wc(P,[Gg.transitionClass,Gg.fadeInClass])),i.get().each(P=>{MW(I.element,P),i.clear()})},onHide:I=>{kW(I.element,u).fold(i.clear,i.set),m(P=>P2(P,!1))},onHidden:()=>{m(I=>Wc(I,[Gg.transitionClass]))},...Gg},lazyViewport:I=>Oi(t,I.element).fold(()=>{const V=Na(),Z=SP(t),ee=V.y+(LN(I,"top")?Z:0),oe=V.height-(LN(I,"bottom")?Z:0);return{bounds:Ls(V.x,ee,V.width,oe),optScrollEnv:B.none()}},V=>({bounds:GA(V),optScrollEnv:B.some({currentScrollTop:V.element.dom.scrollTop,scrollElmTop:Oo(V.element).top})})),modes:[s.header.getDockingMode()],onDocked:b,onUndocked:b}),...T]};var $W=Object.freeze({__proto__:null,setup:PW,isDocked:LW,getBehaviours:o$});const FW=t=>{const s=t.editor,i=t.sticky?o$:VB;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:Pt(i(s,t.sharedBackstage))}},HW=Ln([aa,wl("items",Nm([jp([xI,Fi("items",Nr)]),Nr]))].concat(jE)),s$=t=>ns("GroupToolbarButton",HW,t),FN=[me("text"),me("tooltip"),me("icon"),qr("search",!1,Nm([bd,Ln([me("placeholder")])],t=>fe(t)?t?B.some({placeholder:B.none()}):B.none():B.some(t))),ac("fetch"),Ci("onSetup",()=>Q)],L2=Ln([aa,...FN]),r$=t=>ns("menubutton",L2,t),VW=Ln([aa,TA,rm,av,AV,AI,Sy,Vr("presets","normal",["normal","color","listpreview"]),II(1),Db,OI]),zW=t=>ns("SplitButton",VW,t);var Wy=ji({factory:(t,s)=>{const i=(m,b)=>{const T=tt(b,I=>{const P={type:"menubutton",text:I.text,fetch:Z=>{Z(I.getItems())}},V=r$(P).mapError(Z=>Sc(Z)).getOrDie();return vS(V,"tox-mbtn",s.backstage,B.some("menuitem"))});uo.set(m,T)},u={focus:Fn.focusIn,setMenus:i};return{uid:t.uid,dom:t.dom,components:[],behaviours:Pt([uo.config({}),po("menubar-events",[Cr(m=>{t.onSetup(m)}),Nt(of(),(m,b)=>{Mr(m.element,".tox-mbtn--active").each(T=>{hf(b.event.target,".tox-mbtn").each(I=>{ys(T,I)||m.getSystem().getByDom(T).each(P=>{m.getSystem().getByDom(I).each(V=>{nd.expand(V),nd.close(P),Zn.focus(V)})})})})}),Nt(m1(),(m,b)=>{b.event.prevFocus.bind(T=>m.getSystem().getByDom(T).toOptional()).each(T=>{b.event.newFocus.bind(I=>m.getSystem().getByDom(I).toOptional()).each(I=>{nd.isOpen(T)&&(nd.expand(I),nd.close(T))})})})]),Fn.config({mode:"flow",selector:".tox-mbtn",onEscape:m=>(t.onEscape(m),B.some(!0))}),mi.config({})]),apis:u,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[At("dom"),At("uid"),At("onEscape"),At("backstage"),Ge("onSetup",Q)],apis:{focus:(t,s)=>{t.focus(s)},setMenus:(t,s,i)=>{t.setMenus(s,i)}}});const B2="⚡️Upgrade",HN="https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_source=TinyMCE&utm_medium=SPAP&utm_campaign=SPAP&utm_id=editorreferral",UW=t=>({uid:t.uid,dom:t.dom,components:[{dom:{tag:"a",attributes:{href:HN,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:B2}}]}),i$="container",WW=[Za("slotBehaviours",[])],a$=t=>"<alloy.field."+t+">",c$=t=>{const s=(()=>{const b=[];return{slot:(I,P)=>(b.push(I),jT(i$,a$(I),P)),record:we(b)}})(),i=t(s),u=s.record(),m=tt(u,b=>Ba({name:b,pname:a$(b)}));return oC(i$,WW,m,l$,i)},l$=(t,s)=>{const i=ke=>QT(t),u=(ke,st)=>ir(ke,t,st),m=(ke,st)=>(Ue,ot)=>ir(Ue,t,ot).map(ft=>ke(ft,ot)).getOr(st),b=ke=>(st,Ue)=>{Dt(Ue,ot=>ke(st,ot))},T=(ke,st)=>ki(ke.element,"aria-hidden")!=="true",I=(ke,st)=>{if(!T(ke)){const Ue=ke.element;rt(Ue,"display"),x(Ue,"aria-hidden"),kn(ke,Wf(),{name:st,visible:!0})}},P=(ke,st)=>{if(T(ke)){const Ue=ke.element;te(Ue,"display","none"),lo(Ue,"aria-hidden","true"),kn(ke,Wf(),{name:st,visible:!1})}},V=m(T,!1),Z=m(P),ee=b(Z),oe=ke=>ee(ke,i()),le=m(I),Ce={getSlotNames:i,getSlot:u,isShowing:V,hideSlot:Z,hideAllSlots:oe,showSlot:le};return{uid:t.uid,dom:t.dom,components:s,behaviours:TE(t.slotBehaviours),apis:Ce}},Ml={...ks({getSlotNames:(t,s)=>t.getSlotNames(s),getSlot:(t,s,i)=>t.getSlot(s,i),isShowing:(t,s,i)=>t.isShowing(s,i),hideSlot:(t,s,i)=>t.hideSlot(s,i),hideAllSlots:(t,s)=>t.hideAllSlots(s),showSlot:(t,s,i)=>t.showSlot(s,i)},t=>y1(t)),sketch:c$},$2=Ln([rm,TA,Ci("onShow",Q),Ci("onHide",Q),Sy]),F2=t=>ns("sidebar",$2,t),GW=t=>{const{sidebars:s}=t.ui.registry.getAll();Dt(Rs(s),i=>{const u=s[i],m=()=>vc(B.from(t.queryCommandValue("ToggleSidebar")),i);t.ui.registry.addToggleButton(i,{icon:u.icon,tooltip:u.tooltip,onAction:b=>{t.execCommand("ToggleSidebar",!1,i),b.setActive(m())},onSetup:b=>{b.setActive(m());const T=()=>b.setActive(m());return t.on("ToggleSidebar",T),()=>{t.off("ToggleSidebar",T)}}})})},qW=t=>({element:()=>t.element.dom}),jW=(t,s)=>{const i=tt(Rs(s),u=>{const m=s[u],b=Lo(F2(m));return{name:u,getApi:qW,onSetup:b.onSetup,onShow:b.onShow,onHide:b.onHide}});return tt(i,u=>{const m=Gn(Q);return t.slot(u.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:HC.unnamedEvents([Mb(u,m),Ry(u,m),Nt(Wf(),(b,T)=>{const I=T.event;Pn(i,V=>V.name===I.name).each(V=>{(I.visible?V.onShow:V.onHide)(V.getApi(b))})})])})})},ZW=t=>Ml.sketch(s=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:jW(s,t),slotBehaviours:HC.unnamedEvents([Cr(i=>Ml.hideAllSlots(i))])})),VN=(t,s,i)=>{Qo.getCurrent(t).each(m=>{uo.set(m,[ZW(s)]);const b=i==null?void 0:i.toLowerCase();D(b)&&Vo(s,b)&&Qo.getCurrent(m).each(T=>{Ml.showSlot(T,b),$d.immediateGrow(m),rt(m.element,"width"),fw(t.element,"region")})})},fw=(t,s)=>{lo(t,"role",s)},zN=(t,s)=>{Qo.getCurrent(t).each(u=>{Qo.getCurrent(u).each(b=>{$d.hasGrown(u)?Ml.isShowing(b,s)?($d.shrink(u),fw(t.element,"presentation")):(Ml.hideAllSlots(b),Ml.showSlot(b,s),fw(t.element,"region")):(Ml.hideAllSlots(b),Ml.showSlot(b,s),$d.grow(u),fw(t.element,"region"))})})},YW=t=>Qo.getCurrent(t).bind(i=>$d.isGrowing(i)||$d.hasGrown(i)?Qo.getCurrent(i).bind(b=>Pn(Ml.getSlotNames(b),T=>Ml.isShowing(b,T))):B.none()),DS=En("FixSizeEvent"),UN=En("AutoSizeEvent"),KW=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Pt([mi.config({}),Zn.config({}),$d.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:s=>{Qo.getCurrent(s).each(Ml.hideAllSlots),rs(s,UN)},onGrown:s=>{rs(s,UN)},onStartGrow:s=>{kn(s,DS,{width:it(s.element,"width").getOr("")})},onStartShrink:s=>{kn(s,DS,{width:dr(s.element)+"px"})}}),uo.config({}),Qo.config({find:s=>{const i=uo.contents(s);return Ir(i)}})])}],behaviours:Pt([fm.childAt(0),po("sidebar-sliding-events",[Nt(DS,(s,i)=>{te(s.element,"width",i.event.width)}),Nt(UN,(s,i)=>{rt(s.element,"width")})])])});var XW=Object.freeze({__proto__:null,block:(t,s,i,u)=>{lo(t.element,"aria-busy",!0);const m=s.getRoot(t).getOr(t),b=Pt([Fn.config({mode:"special",onTab:()=>B.some(!0),onShiftTab:()=>B.some(!0)}),Zn.config({})]),T=u(m,b),I=m.getSystem().build(T);uo.append(m,il(I)),I.hasConfigured(Fn)&&s.focus&&Fn.focusIn(I),i.isBlocked()||s.onBlock(t),i.blockWith(()=>uo.remove(m,I))},unblock:(t,s,i)=>{x(t.element,"aria-busy"),i.isBlocked()&&s.onUnblock(t),i.clear()}}),QW=[Ci("getRoot",B.none),ui("focus",!0),Xe("onBlock"),Xe("onUnblock")],IK=Object.freeze({__proto__:null,init:()=>{const t=ib(),s=i=>{t.set({destroy:i})};return Oc({readState:t.isSet,blockWith:s,clear:t.clear,isBlocked:t.isSet})}});const Fb=_a({fields:QW,name:"blocking",apis:XW,state:IK}),u$=t=>{const s=t.dom.attributes!==void 0?t.dom.attributes:[];return vs(s,(i,u)=>u.name==="class"?i:{...i,[u.name]:u.value},{})},JW=t=>Array.prototype.slice.call(t.dom.classList,0),hv=t=>{const s=Je.fromHtml(t),i=nc(s),u=u$(s),m=JW(s),b=i.length===0?{}:{innerHtml:Ro(s)};return{tag:ec(s),classes:m,attributes:u,...b}},e9=t=>(s,i)=>({dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:hv('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),d$=t=>Qo.getCurrent(t).each(s=>al(s.element)),t9=(t,s)=>{const i="tabindex",u=`data-mce-${i}`;B.from(t.iframeElement).map(Je.fromDom).each(m=>{s?(Xr(m,i).each(b=>lo(m,u,b)),lo(m,i,-1)):(x(m,i),Xr(m,u).each(b=>{lo(m,i,b),x(m,u)}))})},n9=(t,s,i,u)=>{const m=s.element;if(t9(t,i),i)Fb.block(s,e9(u)),rt(m,"display"),x(m,"aria-hidden"),t.hasFocus()&&d$(s);else{const b=Qo.getCurrent(s).exists(T=>P1(T.element));Fb.unblock(s),te(m,"display","none"),lo(m,"aria-hidden","true"),b&&t.focus()}},o9=t=>({uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Pt([uo.config({}),Fb.config({focus:!1}),Qo.config({find:s=>Ir(s.components())})]),components:[]}),f$=t=>t.type==="focusin",s9=t=>f$(t)?(t.composed?Ir(t.composedPath()):B.from(t.target)).map(Je.fromDom).filter(Ss).exists(i=>sa(i,"mce-pastebin")):!1,r9=(t,s,i)=>{const u=Gn(!1),m=Ys(),b=I=>{u.get()&&!s9(I)&&(I.preventDefault(),d$(s()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",()=>{t.dom.bind(t.getWin(),"focusin",b),t.on("BeforeExecCommand",I=>{I.command.toLowerCase()==="mcefocus"&&I.value!==!0&&b(I)})});const T=I=>{I!==u.get()&&(u.set(I),n9(t,s(),I,i.providers),GL(t,I))};t.on("ProgressState",I=>{if(m.on(clearTimeout),ae(I.time)){const P=wp.setEditorTimeout(t,()=>T(I.state),I.time);m.set(P)}else T(I.state),m.clear()})},i9=(t,s)=>vs(t,(m,b)=>s(b,m.len).fold(we(m),I=>({len:I.finish,list:m.list.concat([I])})),{len:0,list:[]}).list,h$=(t,s,i)=>({within:t,extra:s,withinWidth:i}),a9=(t,s,i)=>{const u=i9(t,(I,P)=>{const V=i(I);return B.some({element:I,start:P,finish:P+V,width:V})}),m=fo(u,I=>I.finish<=s),b=Ft(m,(I,P)=>I+P.width,0),T=u.slice(m.length);return{within:m,extra:T,withinWidth:b}},NS=t=>tt(t,s=>s.element),m$=(t,s,i)=>{const u=NS(t.concat(s));return h$(u,[],i)},c9=(t,s,i,u)=>{const m=NS(t).concat([i]);return h$(m,NS(s),u)},l9=(t,s,i)=>h$(NS(t),[],i),ch=(t,s,i)=>{const u=a9(s,t,i);return u.extra.length===0?B.some(u):B.none()},u9=(t,s,i,u)=>{const m=ch(t,s,i).getOrThunk(()=>a9(s,t-i(u),i)),b=m.within,T=m.extra,I=m.withinWidth;return T.length===1&&T[0].width<=i(u)?m$(b,T,I):T.length>=1?c9(b,T,u,I):l9(b,T,I)},WN=(t,s)=>{const i=tt(s,u=>il(u));Wg.setGroups(t,i)},p$=t=>or(t,s=>Ql(s.element).bind(i=>s.getSystem().getByDom(i).toOptional())),g$=(t,s,i)=>{const u=s.builtGroups.get();if(u.length===0)return;const m=om(t,s,"primary"),b=Ai.getCoupled(t,"overflowGroup");te(m.element,"visibility","hidden");const T=u.concat([b]),I=p$(T);i([]),WN(m,T);const P=dr(m.element),V=u9(P,s.builtGroups.get(),Z=>dr(Z.element),b);V.extra.length===0?(uo.remove(m,b),i([])):(WN(m,V.within),i(V.extra)),rt(m.element,"visibility"),Mt(m.element),I.each(Zn.focus)},hw=we([Za("splitToolbarBehaviours",[Ai]),_s("builtGroups",()=>Gn([]))]),d9=we([bu(["overflowToggledClass"]),Ht("getOverflowBounds"),At("lazySink"),_s("overflowGroups",()=>Gn([])),Xe("onOpened"),Xe("onClosed")].concat(hw())),V2=we([Ba({factory:Wg,schema:dw(),name:"primary"}),Ef({schema:dw(),name:"overflow"}),Ef({name:"overflow-button"}),Ef({name:"overflow-group"})]),GN=we((t,s)=>{Fc(t,Math.floor(s))}),z2=we([bu(["toggledClass"]),At("lazySink"),ac("fetch"),Ht("getBounds"),fn("fireDismissalEventInstead",[Ge("event",gu())]),Id(),Xe("onToggled")]),f9=we([Ef({name:"button",overrides:t=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Pt([xo.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:t.onToggled})])})}),Ef({factory:Wg,schema:dw(),name:"toolbar",overrides:t=>({toolbarBehaviours:Pt([Fn.config({mode:"cyclic",onEscape:s=>(ir(s,t,"button").each(Zn.focus),B.none())})])})})]),Fd=Ys(),h9=(t,s)=>{Fd.set(!0),mw(t,s),Fd.clear()},mw=(t,s)=>{const i=Ai.getCoupled(t,"toolbarSandbox");Uo.isOpen(i)?Uo.close(i):Uo.open(i,s.toolbar())},U2=(t,s,i,u)=>{const m=i.getBounds.map(T=>T()),b=i.lazySink(t).getOrDie();Gs.positionWithinBounds(b,s,{anchor:{type:"hotspot",hotspot:t,layouts:u,overrides:{maxWidthFunction:GN()}}},m)},v$=(t,s,i,u,m)=>{Wg.setGroups(s,m),U2(t,s,i,u),xo.on(t)},m9=(t,s,i)=>{const u=M_(),m=(T,I)=>{const P=Fd.get().getOr(!1);i.fetch().get(V=>{v$(t,I,i,s.layouts,V),u.link(t.element),P||Fn.focusIn(I)})},b=()=>{xo.off(t),Fd.get().getOr(!1)||Zn.focus(t),u.unlink(t.element)};return{dom:{tag:"div",attributes:{id:u.id}},behaviours:Pt([Fn.config({mode:"special",onEscape:T=>(Uo.close(T),B.some(!0))}),Uo.config({onOpen:m,onClose:b,isPartOf:(T,I,P)=>Xm(I,P)||Xm(t,P),getAttachPoint:()=>i.lazySink(t).getOrDie()}),yu.config({channels:{...sy({isExtraPart:Tt,...i.fireDismissalEventInstead.map(T=>({fireEventInstead:{event:T.event}})).getOr({})}),...K1({doReposition:()=>{Uo.getState(Ai.getCoupled(t,"toolbarSandbox")).each(T=>{U2(t,T,i,s.layouts)})}})}})])}},Hb=xi({name:"FloatingToolbarButton",factory:(t,s,i,u)=>({...jc.sketch({...u.button(),action:m=>{mw(m,u)},buttonBehaviours:_f.augment({dump:u.button().buttonBehaviours},[Ai.config({others:{toolbarSandbox:m=>m9(m,i,t)}})])}),apis:{setGroups:(m,b)=>{Uo.getState(Ai.getCoupled(m,"toolbarSandbox")).each(T=>{v$(m,T,t,i.layouts,b)})},reposition:m=>{Uo.getState(Ai.getCoupled(m,"toolbarSandbox")).each(b=>{U2(m,b,t,i.layouts)})},toggle:m=>{mw(m,u)},toggleWithoutFocusing:m=>{h9(m,u)},getToolbar:m=>Uo.getState(Ai.getCoupled(m,"toolbarSandbox")),isOpen:m=>Uo.isOpen(Ai.getCoupled(m,"toolbarSandbox"))}}),configFields:z2(),partFields:f9(),apis:{setGroups:(t,s,i)=>{t.setGroups(s,i)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggleWithoutFocusing(s)},getToolbar:(t,s)=>t.getToolbar(s),isOpen:(t,s)=>t.isOpen(s)}}),p9=we([At("items"),bu(["itemSelector"]),Za("tgroupBehaviours",[Fn])]),g9=we([uy({name:"items",unit:"item"})]),v9=(t,s,i,u)=>({uid:t.uid,dom:t.dom,components:s,behaviours:Pr(t.tgroupBehaviours,[Fn.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),MS=xi({name:"ToolbarGroup",configFields:p9(),partFields:g9(),factory:v9}),qN=t=>tt(t,s=>il(s)),jN=(t,s,i)=>{g$(t,i,u=>{i.overflowGroups.set(u),s.getOpt(t).each(m=>{Hb.setGroups(m,qN(u))})})},b9=(t,s,i,u)=>{const m=Wo(Hb.sketch({fetch:()=>ll.nu(b=>{b(qN(t.overflowGroups.get()))}),layouts:{onLtr:()=>[Ui,ya],onRtl:()=>[ya,Ui],onBottomLtr:()=>[Rl,Gc],onBottomRtl:()=>[Gc,Rl]},getBounds:i.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:u["overflow-button"](),toolbar:u.overflow()},onToggled:(b,T)=>t[T?"onOpened":"onClosed"](b)}));return{uid:t.uid,dom:t.dom,components:s,behaviours:Pr(t.splitToolbarBehaviours,[Ai.config({others:{overflowGroup:()=>MS.sketch({...u["overflow-group"](),items:[m.asSpec()]})}})]),apis:{setGroups:(b,T)=>{t.builtGroups.set(tt(T,b.getSystem().build)),jN(b,m,t)},refresh:b=>jN(b,m,t),toggle:b=>{m.getOpt(b).each(T=>{Hb.toggle(T)})},toggleWithoutFocusing:b=>{m.getOpt(b).each(Hb.toggleWithoutFocusing)},isOpen:b=>m.getOpt(b).map(Hb.isOpen).getOr(!1),reposition:b=>{m.getOpt(b).each(T=>{Hb.reposition(T)})},getOverflow:b=>m.getOpt(b).bind(Hb.getToolbar)},domModification:{attributes:{role:"group"}}}},ZN=xi({name:"SplitFloatingToolbar",configFields:d9(),partFields:V2(),factory:b9,apis:{setGroups:(t,s,i)=>{t.setGroups(s,i)},refresh:(t,s)=>{t.refresh(s)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s),getOverflow:(t,s)=>t.getOverflow(s)}}),y9=we([bu(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Xe("onOpened"),Xe("onClosed")].concat(hw())),_9=we([Ba({factory:Wg,schema:dw(),name:"primary"}),Ba({factory:Wg,schema:dw(),name:"overflow",overrides:t=>({toolbarBehaviours:Pt([$d.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:s=>{ir(s,t,"overflow-button").each(i=>{xo.off(i),Zn.focus(i)}),t.onClosed(s)},onGrown:s=>{Fn.focusIn(s),t.onOpened(s)},onStartGrow:s=>{ir(s,t,"overflow-button").each(xo.on)}}),Fn.config({mode:"acyclic",onEscape:s=>(ir(s,t,"overflow-button").each(Zn.focus),B.some(!0))})])})}),Ef({name:"overflow-button",overrides:t=>({buttonBehaviours:Pt([xo.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])})}),Ef({name:"overflow-group"})]),E9=(t,s)=>ir(t,s,"overflow").map($d.hasGrown).getOr(!1),b$=(t,s)=>{ir(t,s,"overflow-button").bind(()=>ir(t,s,"overflow")).each(i=>{YN(t,s),$d.toggleGrow(i)})},YN=(t,s)=>{ir(t,s,"overflow").each(i=>{g$(t,s,u=>{const m=tt(u,b=>il(b));Wg.setGroups(i,m)}),ir(t,s,"overflow-button").each(u=>{$d.hasGrown(i)&&xo.on(u)}),$d.refresh(i)})},w9=(t,s,i,u)=>{const m="alloy.toolbar.toggle",b=(T,I)=>{const P=tt(I,T.getSystem().build);t.builtGroups.set(P)};return{uid:t.uid,dom:t.dom,components:s,behaviours:Pr(t.splitToolbarBehaviours,[Ai.config({others:{overflowGroup:T=>MS.sketch({...u["overflow-group"](),items:[jc.sketch({...u["overflow-button"](),action:I=>{rs(T,m)}})]})}}),po("toolbar-toggle-events",[Nt(m,T=>{b$(T,t)})])]),apis:{setGroups:(T,I)=>{b(T,I),YN(T,t)},refresh:T=>YN(T,t),toggle:T=>b$(T,t),isOpen:T=>E9(T,t)},domModification:{attributes:{role:"group"}}}},KN=xi({name:"SplitSlidingToolbar",configFields:y9(),partFields:_9(),factory:w9,apis:{setGroups:(t,s,i)=>{t.setGroups(s,i)},refresh:(t,s)=>{t.refresh(s)},toggle:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s)}}),y$=t=>{const s=t.title.fold(()=>({}),i=>({attributes:{title:i}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...s},components:[MS.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:Pt([mi.config({}),Zn.config({})])}},W2=t=>MS.sketch(y$(t)),_$=(t,s)=>{const i=Cr(u=>{const m=tt(t.initGroups,W2);Wg.setGroups(u,m)});return Pt([am.toolbarButton(t.providers.isDisabled),Ya(),Fn.config({mode:s,onEscape:t.onEscape,selector:".tox-toolbar__group"}),po("toolbar-events",[i])])},E$=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":y$({title:B.none(),items:[]}),"overflow-button":gU({name:"more",icon:B.some("more-drawer"),enabled:!0,tooltip:B.some("More..."),primary:!1,buttonType:B.none(),borderless:!1},B.none(),t.providers)},splitToolbarBehaviours:_$(t,s)}},T9=t=>{const s=E$(t),i=4,u=ZN.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return ZN.sketch({...s,lazySink:t.getSink,getOverflowBounds:()=>{const m=t.moreDrawerData.lazyHeader().element,b=gl(m),T=el(m),I=gl(T),P=Math.max(T.dom.scrollHeight,I.height);return Ls(b.x+i,I.y,b.width-i*2,P)},parts:{...s.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}},components:[u],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:m=>t.onToggled(m,!0),onClosed:m=>t.onToggled(m,!1)})},C9=t=>{const s=KN.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),i=KN.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),u=E$(t);return KN.sketch({...u,components:[s,i],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:m=>{m.getSystem().broadcastOn([kN()],{type:"opened"}),t.onToggled(m,!0)},onClosed:m=>{m.getSystem().broadcastOn([kN()],{type:"closed"}),t.onToggled(m,!1)}})},kS=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return Wg.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===Sf.scrolling?["tox-toolbar--scrolling"]:[])},components:[Wg.parts.groups({})],toolbarBehaviours:_$(t,s)})},PS=[av,rm,me("tooltip"),Vr("buttonType","secondary",["primary","secondary"]),ui("borderless",!1),ac("onAction")],XN=[...PS,iv,ql("type",["button"])],S9=[...PS,ui("active",!1),ql("type",["togglebutton"])],w$={button:XN,togglebutton:S9},T$=[ql("type",["group"]),u1("buttons",[],sr("type",w$))],x9=sr("type",{...w$,group:T$}),A9=Ln([u1("buttons",[],x9),ac("onShow"),ac("onHide")]),O9=t=>ns("view",A9,t),C$=(t,s)=>{var i,u;const m=t.type==="togglebutton",b=t.icon.map(ft=>hm(ft,s.icons)).map(Wo),I=(()=>ft=>{const vt=un=>{b.map(On=>On.getOpt(ft).each($o=>{uo.set($o,[hm(un,s.icons)])}))},Jt=un=>{const On=ft.element;un?(As(On,"tox-button--enabled"),lo(On,"aria-pressed",!0)):(Bs(On,"tox-button--enabled"),x(On,"aria-pressed"))},Lt=()=>sa(ft.element,"tox-button--enabled");if(m)return t.onAction({setIcon:vt,setActive:Jt,isActive:Lt});if(t.type==="button")return t.onAction({setIcon:vt})})(),P={...t,name:m?t.text.getOr(t.icon.getOr("")):(i=t.text)!==null&&i!==void 0?i:t.icon.getOr(""),primary:t.buttonType==="primary",buttonType:B.from(t.buttonType),tooltip:t.tooltip,icon:t.icon,enabled:!0,borderless:t.borderless},V=y2((u=t.buttonType)!==null&&u!==void 0?u:"secondary"),Z=m?t.text.map(s.translate):B.some(s.translate(t.text)),ee=Z.map(Sr),oe=P.tooltip.or(Z).map(ft=>({"aria-label":s.translate(ft),title:s.translate(ft)})).getOr({}),le=b.map(ft=>ft.asSpec()),Ce=KE([le,ee]),ke=t.icon.isSome()&&ee.isSome(),st={tag:"button",classes:V.concat(...t.icon.isSome()&&!ke?["tox-button--icon"]:[]).concat(...ke?["tox-button--icon-and-text"]:[]).concat(...t.borderless?["tox-button--naked"]:[]).concat(...t.type==="togglebutton"&&t.active?["tox-button--enabled"]:[]),attributes:oe},Ue=[],ot=bS(P,B.some(I),Ue,st,Ce,s);return jc.sketch(ot)},S$=(t,s)=>C$(t,s),R9=(t,s)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:tt(t.buttons,i=>S$(i,s))}),G2=kt().deviceType,I9=G2.isPhone(),D9=G2.isTablet(),x$=t=>{let s=!1;const i=tt(t.buttons,u=>u.type==="group"?(s=!0,R9(u,t.providers)):S$(u,t.providers));return{uid:t.uid,dom:{tag:"div",classes:[s?"tox-view__toolbar":"tox-view__header",...I9||D9?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:Pt([Zn.config({}),Fn.config({mode:"flow",selector:"button, .tox-button",focusInside:wb.OnEnterOrSpaceMode})]),components:s?i:[cm.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),cm.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:i})]}},N9=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-view__pane"]}}),A$=(t,s,i,u)=>{const m={getPane:b=>pc.getPart(b,t,"pane"),getOnShow:b=>t.viewConfig.onShow,getOnHide:b=>t.viewConfig.onHide};return{uid:t.uid,dom:t.dom,components:s,apis:m}};var pw=xi({name:"silver.View",configFields:[At("viewConfig")],partFields:[Nd({factory:{sketch:x$},schema:[At("buttons"),At("providers")],name:"header"}),Nd({factory:{sketch:N9},schema:[],name:"pane"})],factory:A$,apis:{getPane:(t,s)=>t.getPane(s),getOnShow:(t,s)=>t.getOnShow(s),getOnHide:(t,s)=>t.getOnHide(s)}});const O$=(t,s,i)=>qd(s,(u,m)=>{const b=Lo(O9(u));return t.slot(m,pw.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:b,components:[...b.buttons.length>0?[pw.parts.header({buttons:b.buttons,providers:i})]:[],pw.parts.pane({})]}))}),M9=(t,s)=>Ml.sketch(i=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:O$(i,t,s),slotBehaviours:HC.unnamedEvents([Cr(u=>Ml.hideAllSlots(u))])})),R$=t=>Pn(Ml.getSlotNames(t),s=>Ml.isShowing(t,s)),k9=t=>{const s=t.element;te(s,"display","none"),lo(s,"aria-hidden","true")},I$=t=>{const s=t.element;rt(s,"display"),x(s,"aria-hidden")},P9=t=>({getContainer:we(t)}),D$=(t,s,i)=>{Ml.getSlot(t,s).each(u=>{pw.getPane(u).each(m=>{i(u)(P9(m.element.dom))})})},L9=(t,s)=>D$(t,s,pw.getOnShow),QN=(t,s)=>D$(t,s,pw.getOnHide);var q2=ji({factory:(t,s)=>{const b={setViews:(T,I)=>{uo.set(T,[M9(I,s.backstage.shared.providers)])},whichView:T=>Qo.getCurrent(T).bind(R$),toggleView:(T,I,P,V)=>Qo.getCurrent(T).exists(Z=>{const ee=R$(Z),oe=ee.exists(Ce=>V===Ce),le=Ml.getSlot(Z,V).isSome();return le&&(Ml.hideAllSlots(Z),oe?(k9(T),I()):(P(),I$(T),Ml.showSlot(Z,V),L9(Z,V)),ee.each(Ce=>QN(Z,Ce))),le})};return{uid:t.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:Pt([uo.config({}),Qo.config({find:T=>{const I=uo.contents(T);return Ir(I)}})]),apis:b}},name:"silver.ViewWrapper",configFields:[At("backstage")],apis:{setViews:(t,s,i)=>t.setViews(s,i),toggleView:(t,s,i,u,m)=>t.toggleView(s,i,u,m),whichView:(t,s)=>t.whichView(s)}});const B9=(t,s,i)=>{let u=!1;const m={getSocket:b=>pc.getPart(b,t,"socket"),setSidebar:(b,T,I)=>{pc.getPart(b,t,"sidebar").each(P=>VN(P,T,I))},toggleSidebar:(b,T)=>{pc.getPart(b,t,"sidebar").each(I=>zN(I,T))},whichSidebar:b=>pc.getPart(b,t,"sidebar").bind(YW).getOrNull(),getHeader:b=>pc.getPart(b,t,"header"),getToolbar:b=>pc.getPart(b,t,"toolbar"),setToolbar:(b,T)=>{pc.getPart(b,t,"toolbar").each(I=>{const P=tt(T,W2);I.getApis().setGroups(I,P)})},setToolbars:(b,T)=>{pc.getPart(b,t,"multiple-toolbar").each(I=>{const P=tt(T,V=>tt(V,W2));AN.setItems(I,P)})},refreshToolbar:b=>{pc.getPart(b,t,"toolbar").each(I=>I.getApis().refresh(I))},toggleToolbarDrawer:b=>{pc.getPart(b,t,"toolbar").each(T=>{Qs(T.getApis().toggle,I=>I(T))})},toggleToolbarDrawerWithoutFocusing:b=>{pc.getPart(b,t,"toolbar").each(T=>{Qs(T.getApis().toggleWithoutFocusing,I=>I(T))})},isToolbarDrawerToggled:b=>pc.getPart(b,t,"toolbar").bind(T=>B.from(T.getApis().isOpen).map(I=>I(T))).getOr(!1),getThrobber:b=>pc.getPart(b,t,"throbber"),focusToolbar:b=>{pc.getPart(b,t,"toolbar").orThunk(()=>pc.getPart(b,t,"multiple-toolbar")).each(I=>{Fn.focusIn(I)})},setMenubar:(b,T)=>{pc.getPart(b,t,"menubar").each(I=>{Wy.setMenus(I,T)})},focusMenubar:b=>{pc.getPart(b,t,"menubar").each(T=>{Wy.focus(T)})},setViews:(b,T)=>{pc.getPart(b,t,"viewWrapper").each(I=>{q2.setViews(I,T)})},toggleView:(b,T)=>pc.getPart(b,t,"viewWrapper").exists(I=>q2.toggleView(I,()=>m.showMainView(b),()=>m.hideMainView(b),T)),whichView:b=>pc.getPart(b,t,"viewWrapper").bind(q2.whichView).getOrNull(),hideMainView:b=>{u=m.isToolbarDrawerToggled(b),u&&m.toggleToolbarDrawer(b),pc.getPart(b,t,"editorContainer").each(T=>{const I=T.element;te(I,"display","none"),lo(I,"aria-hidden","true")})},showMainView:b=>{u&&m.toggleToolbarDrawer(b),pc.getPart(b,t,"editorContainer").each(T=>{const I=T.element;rt(I,"display"),x(I,"aria-hidden")}),m.refreshToolbar(b)}};return{uid:t.uid,dom:t.dom,components:s,apis:m,behaviours:t.behaviours}},$9=Ug.optional({factory:Wy,name:"menubar",schema:[At("backstage")]}),F9=t=>t.type===Sf.sliding?C9:t.type===Sf.floating?T9:kS,H9=Ug.optional({factory:{sketch:t=>AN.sketch({uid:t.uid,dom:t.dom,listBehaviours:Pt([Fn.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>kS({type:t.type,uid:En("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:()=>(t.onEscape(),B.some(!0))}),setupItem:(s,i,u,m)=>{Wg.setGroups(i,u)},shell:!0})},name:"multiple-toolbar",schema:[At("dom"),At("onEscape")]}),V9=Ug.optional({factory:{sketch:t=>{const s=F9(t),i={type:t.type,uid:t.uid,onEscape:()=>(t.onEscape(),B.some(!0)),onToggled:(u,m)=>t.onToolbarToggled(m),cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return s(i)}},name:"toolbar",schema:[At("dom"),At("onEscape"),At("getSink")]}),z9=Ug.optional({factory:{sketch:FW},name:"header",schema:[At("dom")]}),U9=Ug.optional({factory:{sketch:UW},name:"promotion",schema:[At("dom")]}),M$=Ug.optional({name:"socket",schema:[At("dom")]}),j2=Ug.optional({factory:{sketch:KW},name:"sidebar",schema:[At("dom")]}),JN=Ug.optional({factory:{sketch:o9},name:"throbber",schema:[At("dom")]}),k$=Ug.optional({factory:q2,name:"viewWrapper",schema:[At("backstage")]}),Vb=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:t.components}),P$=Ug.optional({factory:{sketch:Vb},name:"editorContainer",schema:[]});var Or=xi({name:"OuterContainer",factory:B9,configFields:[At("dom"),At("behaviours")],partFields:[z9,$9,V9,H9,M$,j2,U9,JN,k$,P$],apis:{getSocket:(t,s)=>t.getSocket(s),setSidebar:(t,s,i,u)=>{t.setSidebar(s,i,u)},toggleSidebar:(t,s,i)=>{t.toggleSidebar(s,i)},whichSidebar:(t,s)=>t.whichSidebar(s),getHeader:(t,s)=>t.getHeader(s),getToolbar:(t,s)=>t.getToolbar(s),setToolbar:(t,s,i)=>{t.setToolbar(s,i)},setToolbars:(t,s,i)=>{t.setToolbars(s,i)},refreshToolbar:(t,s)=>t.refreshToolbar(s),toggleToolbarDrawer:(t,s)=>{t.toggleToolbarDrawer(s)},toggleToolbarDrawerWithoutFocusing:(t,s)=>{t.toggleToolbarDrawerWithoutFocusing(s)},isToolbarDrawerToggled:(t,s)=>t.isToolbarDrawerToggled(s),getThrobber:(t,s)=>t.getThrobber(s),setMenubar:(t,s,i)=>{t.setMenubar(s,i)},focusMenubar:(t,s)=>{t.focusMenubar(s)},focusToolbar:(t,s)=>{t.focusToolbar(s)},setViews:(t,s,i)=>{t.setViews(s,i)},toggleView:(t,s,i)=>t.toggleView(s,i),whichView:(t,s)=>t.whichView(s)}});const W9="file edit view insert format tools table help",L$={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template inserttemplate codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},G9=(t,s,i)=>{const u=TP(i).split(/[ ,]/);return{text:t.title,getItems:()=>pt(t.items,m=>{const b=m.toLowerCase();return b.trim().length===0?[]:Fo(u,T=>T===b)?[]:b==="separator"||b==="|"?[{type:"separator"}]:s.menuItems[b]?[s.menuItems[b]]:[]})}},eM=t=>t.split(" "),B$=(t,s)=>{const i={...L$,...s.menus},u=Rs(s.menus).length>0,m=s.menubar===void 0||s.menubar===!0?eM(W9):eM(s.menubar===!1?"":s.menubar),b=fo(m,I=>{const P=Vo(L$,I);return u?P||cn(s.menus,I).exists(V=>Vo(V,"items")):P}),T=tt(b,I=>{const P=i[I];return G9({title:P.title,items:eM(P.items)},s,t)});return fo(T,I=>{const P=V=>D(V)||V.type!=="separator";return I.getItems().length>0&&Fo(I.getItems(),P)})},$$=t=>{const s=()=>{t._skinLoaded=!0,n8(t)};return()=>{t.initialized?s():t.on("init",s)}},F$=(t,s)=>()=>WI(t,{message:s}),H$=(t,s,i)=>(t.on("remove",()=>i.unload(s)),i.load(s)),q9=(t,s)=>{const i=s+"/skin.min.css";return H$(t,i,t.ui.styleSheetLoader)},tM=(t,s)=>{if(Lu(Je.fromDom(t.getElement()))){const u=s+"/skin.shadowdom.min.css";return H$(t,u,SC.DOM.styleSheetLoader)}else return Promise.resolve()},V$=(t,s)=>{const i=$P(s);return i&&s.contentCSS.push(i+(t?"/content.inline":"/content")+".min.css"),!DC(s)&&D(i)?Promise.all([q9(s,i),tM(s,i)]).then($$(s),F$(s,"Skin could not be loaded")):Promise.resolve($$(s)())},j9=_t(V$,!1),Z9=_t(V$,!0),Z2=(t,s)=>i=>{const u=Eu(),m=()=>{i.setActive(t.formatter.match(s));const b=t.formatter.formatChanged(s,i.setActive);u.set(b)};return t.initialized?m():t.once("init",m),()=>{t.off("init",m),u.clear()}},LS=(t,s,i)=>u=>{const m=()=>i(u),b=()=>{i(u),t.on(s,m)};return t.initialized?b():t.once("init",b),()=>{t.off("init",b),t.off(s,m)}},z$=t=>s=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("mceToggleFormat",!1,s.format)})},Rf=(t,s)=>()=>t.execCommand(s),U$=(t,s,i)=>{const u=(I,P,V,Z)=>{const ee=s.shared.providers.translate(I.title);if(I.type==="separator")return B.some({type:"separator",text:ee});if(I.type==="submenu"){const oe=pt(I.getStyleItems(),le=>m(le,P,Z));return P===0&&oe.length<=0?B.none():B.some({type:"nestedmenuitem",text:ee,enabled:oe.length>0,getSubmenuItems:()=>pt(I.getStyleItems(),le=>m(le,P,Z))})}else return B.some({type:"togglemenuitem",text:ee,icon:I.icon,active:I.isSelected(Z),enabled:!V,onAction:i.onAction(I),...I.getStylePreview().fold(()=>({}),oe=>({meta:{style:oe}}))})},m=(I,P,V)=>{const Z=I.type==="formatter"&&i.isInvalid(I);return P===0?Z?[]:u(I,P,!1,V).toArray():u(I,P,Z,V).toArray()},b=I=>{const P=i.getCurrentValue(),V=i.shouldHide?0:1;return pt(I,Z=>m(Z,V,P))};return{validateItems:b,getFetch:(I,P)=>(V,Z)=>{const ee=P(),oe=b(ee),le=Hy(oe,Tp.CLOSE_ON_EXECUTE,I,{isHorizontalMenu:!1,search:B.none()});Z(le)}}},Gy=(t,s,i)=>{const u=i.dataset,m=u.type==="basic"?()=>tt(u.data,b=>wN(b,i.isSelectedFor,i.getPreviewFor)):u.getData;return{items:U$(t,s,i),getStyleItems:m}},BS=(t,s,i)=>{const{items:u,getStyleItems:m}=Gy(t,s,i),b=I=>({getComponent:we(I)}),T=LS(t,"NodeChange",I=>{const P=I.getComponent();i.updateText(P)});return zD({text:i.icon.isSome()?B.none():i.text,icon:i.icon,tooltip:B.from(i.tooltip),role:B.none(),fetch:u.getFetch(s,m),onSetup:T,getApi:b,columns:1,presets:"normal",classes:i.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",s.shared)},W$=t=>tt(t,s=>{let i=s,u=s;const m=s.split("=");return m.length>1&&(i=m[0],u=m[1]),{title:i,format:u}}),Y9=t=>({type:"basic",data:t});var gw;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(gw||(gw={}));const K9=(t,s)=>s===gw.SemiColon?t.replace(/;$/,"").split(";"):t.split(" "),Y2=(t,s,i)=>{const u=t.options.get(s);return{type:"basic",data:W$(K9(u,i))}},nM=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],oM=t=>{const s=()=>Pn(nM,I=>t.formatter.match(I.format)),i=I=>()=>t.formatter.match(I),u=I=>B.none,m=I=>{const V=s().fold(we("left"),Z=>Z.title.toLowerCase());kn(I,Fy,{icon:`align-${V}`})},b=Y9(nM),T=I=>()=>Pn(nM,P=>P.format===I.format).each(P=>t.execCommand(P.command));return{tooltip:"Align",text:B.none(),icon:B.some("align-left"),isSelectedFor:i,getCurrentValue:B.none,getPreviewFor:u,onAction:T,updateText:m,dataset:b,shouldHide:!1,isInvalid:I=>!t.formatter.canApply(I.format)}},X9=(t,s)=>BS(t,s,oM(t)),Q9=(t,s)=>{const i=Gy(t,s,oM(t));t.ui.registry.addNestedMenuItem("align",{text:s.shared.providers.translate("Align"),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},G$=(t,s)=>{const i=s(),u=tt(i,m=>m.format);return B.from(t.formatter.closest(u)).bind(m=>Pn(i,b=>b.format===m)).orThunk(()=>jn(t.formatter.match("p"),{title:"Paragraph",format:"p"}))},q$=t=>{const s="Paragraph",i=T=>()=>t.formatter.match(T),u=T=>()=>{const I=t.formatter.get(T);return I?B.some({tag:I.length>0&&(I[0].inline||I[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(T))}):B.none()},m=T=>{const P=G$(t,()=>b.data).fold(we(s),V=>V.title);kn(T,Of,{text:P})},b=Y2(t,"block_formats",gw.SemiColon);return{tooltip:"Blocks",text:B.some(s),icon:B.none(),isSelectedFor:i,getCurrentValue:B.none,getPreviewFor:u,onAction:z$(t),updateText:m,dataset:b,shouldHide:!1,isInvalid:T=>!t.formatter.canApply(T.format)}},J9=(t,s)=>BS(t,s,q$(t)),eG=(t,s)=>{const i=Gy(t,s,q$(t));t.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},j$=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],Z$=t=>{const s=t.split(/\s*,\s*/);return tt(s,i=>i.replace(/^['"]+|['"]+$/g,""))},tG=t=>{const s=()=>{const i=Z$(t.toLowerCase());return vi(j$,u=>i.indexOf(u.toLowerCase())>-1)};return t.indexOf("-apple-system")===0&&s()},Y$=t=>{const s="System Font",i=()=>{const V=Ce=>Ce?Z$(Ce)[0]:"",Z=t.queryCommandValue("FontName"),ee=P.data,oe=Z?Z.toLowerCase():"";return{matchOpt:Pn(ee,Ce=>{const ke=Ce.format;return ke.toLowerCase()===oe||V(ke).toLowerCase()===V(oe).toLowerCase()}).orThunk(()=>jn(tG(oe),{title:s,format:oe})),font:Z}},u=V=>Z=>Z.exists(ee=>ee.format===V),m=()=>{const{matchOpt:V}=i();return V},b=V=>()=>B.some({tag:"div",styles:V.indexOf("dings")===-1?{"font-family":V}:{}}),T=V=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontName",!1,V.format)})},I=V=>{const{matchOpt:Z,font:ee}=i(),oe=Z.fold(we(ee),le=>le.title);kn(V,Of,{text:oe})},P=Y2(t,"font_family_formats",gw.SemiColon);return{tooltip:"Fonts",text:B.some(s),icon:B.none(),isSelectedFor:u,getCurrentValue:m,getPreviewFor:b,onAction:T,updateText:I,dataset:P,shouldHide:!1,isInvalid:Tt}},nG=(t,s)=>BS(t,s,Y$(t)),oG=(t,s)=>{const i=Gy(t,s,Y$(t));t.ui.registry.addNestedMenuItem("fontfamily",{text:s.shared.providers.translate("Fonts"),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},K$={tab:we(9),escape:we(27),enter:we(13),backspace:we(8),delete:we(46),left:we(37),up:we(38),right:we(39),down:we(40),space:we(32),home:we(36),end:we(35),pageUp:we(33),pageDown:we(34)},sG={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},X$=(()=>{const t="[0-9]+",i="[eE]"+("[+-]?"+t),u="\\.",m=I=>`(?:${I})?`,T=`[+-]?(?:${["Infinity",t+u+m(t)+m(i),u+t+m(i),t+m(i)].join("|")})`;return new RegExp(`^(${T})(.*)$`)})(),rG=(t,s)=>Fo(s,i=>Fo(sG[i],u=>t===u)),Q$=(t,s)=>B.from(X$.exec(t)).bind(u=>{const m=Number(u[1]),b=u[2];return rG(b,s)?B.some({value:m,unit:b}):B.none()}),J$=(t,s)=>Q$(t,s).map(({value:i,unit:u})=>i+u),iG=(t,s,i)=>{let u=B.none();const m=ft=>ft.map(vt=>hn.getValue(vt)).getOr(""),b=LS(t,"NodeChange",ft=>{const vt=ft.getComponent();u=B.some(vt),i.updateInputValue(vt)}),T=ft=>({getComponent:we(ft)}),I=Gn(Q),P=En("custom-number-input-events"),V=ft=>ft>=0,Z=(ft,vt,Jt)=>{const Lt=m(u),un=Q$(Lt,["unsupportedLength","empty"]),On=un.map(Gt=>Gt.value).getOr(0),$o=lI(t),Hn=un.map(Gt=>Gt.unit).filter(Gt=>Gt!=="").getOr($o),ko=ft(On,i.getConfigFromUnit(Hn).step),so=`${V(ko)?ko:On}${Hn}`,Do=`${On}${Hn}`.length-`${so}`.length,Qn=u.map(Gt=>Gt.element.dom.selectionStart-Do),Os=u.map(Gt=>Gt.element.dom.selectionEnd-Do);i.onAction(so,Jt),u.each(Gt=>{hn.setValue(Gt,so),vt&&(Qn.each(xn=>Gt.element.dom.selectionStart=xn),Os.each(xn=>Gt.element.dom.selectionEnd=xn))})},ee=(ft,vt)=>Z((Jt,Lt)=>Jt-Lt,ft,vt),oe=(ft,vt)=>Z((Jt,Lt)=>Jt+Lt,ft,vt),le=ft=>Bc(ft.element).fold(B.none,vt=>(al(vt),B.some(!0))),Ce=ft=>P1(ft.element)?(Sh(ft.element).each(vt=>al(vt)),B.some(!0)):B.none(),ke=(ft,vt,Jt,Lt)=>{const un=s.shared.providers.translate(Jt),On=En("altExecuting"),$o=()=>ft(!0);return jc.sketch({dom:{tag:"button",attributes:{title:un,"aria-label":un},classes:Lt.concat(vt)},components:[$y(vt,s.shared.providers.icons)],buttonBehaviours:Pt([po(On,[Nt(oa(),(Hn,ko)=>{(ko.event.raw.keyCode===K$.space()||ko.event.raw.keyCode===K$.enter())&&ft(!1)}),Nt(xl(),$o),Nt(kh(),$o)])]),eventOrder:{[oa()]:[On,"keying"],[xl()]:[On,"alloy.base.behaviour"],[kh()]:[On,"alloy.base.behaviour"]}})},st=Wo(ke(ft=>ee(!1,ft),"minus","Decrease font size",["highlight-on-focus"])),Ue=Wo(ke(ft=>oe(!1,ft),"plus","Increase font size",["highlight-on-focus"])),ot=Wo({dom:{tag:"div",classes:["tox-input-wrapper","highlight-on-focus"]},components:[Cy.sketch({inputBehaviours:Pt([po(P,[Mb({onSetup:b,getApi:T},I),Ry({getApi:T},I)]),po("input-update-display-text",[Nt(Of,(ft,vt)=>{hn.setValue(ft,vt.event.text)}),Nt(Sl(),ft=>{i.onAction(hn.getValue(ft))}),Nt(Zl(),ft=>{i.onAction(hn.getValue(ft))})]),Fn.config({mode:"special",onEnter:ft=>(Z(je,!0,!0),B.some(!0)),onEscape:le,onUp:ft=>(oe(!0,!1),B.some(!0)),onDown:ft=>(ee(!0,!1),B.some(!0)),onLeft:(ft,vt)=>(vt.cut(),B.none()),onRight:(ft,vt)=>(vt.cut(),B.none())})])})],behaviours:Pt([Zn.config({}),Fn.config({mode:"special",onEnter:Ce,onSpace:Ce,onEscape:le}),po("input-wrapper-events",[Nt(of(),ft=>{Dt([st,Ue],vt=>{const Jt=Je.fromDom(vt.get(ft).element.dom);P1(Jt)&&k1(Jt)})})])])});return{dom:{tag:"div",classes:["tox-number-input"]},components:[st.asSpec(),ot.asSpec(),Ue.asSpec()],behaviours:Pt([Zn.config({}),Fn.config({mode:"flow",focusInside:wb.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:ft=>P1(ft.element)?B.none():(al(ft.element),B.some(!0))})])}},eF={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},tF={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},aG=(t,s)=>{const i=Math.pow(10,s);return Math.round(t*i)/i},cG=(t,s)=>/[0-9.]+px$/.test(t)?aG(parseInt(t,10)*72/96,s||0)+"pt":cn(tF,t).getOr(t),lG=t=>cn(eF,t).getOr(""),qy=t=>{const s=()=>{let P=B.none();const V=I.data,Z=t.queryCommandValue("FontSize");if(Z)for(let ee=3;P.isNone()&&ee>=0;ee--){const oe=cG(Z,ee),le=lG(oe);P=Pn(V,Ce=>Ce.format===Z||Ce.format===oe||Ce.format===le)}return{matchOpt:P,size:Z}},i=P=>V=>V.exists(Z=>Z.format===P),u=()=>{const{matchOpt:P}=s();return P},m=we(B.none),b=P=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontSize",!1,P.format)})},T=P=>{const{matchOpt:V,size:Z}=s(),ee=V.fold(we(Z),oe=>oe.title);kn(P,Of,{text:ee})},I=Y2(t,"font_size_formats",gw.Space);return{tooltip:"Font sizes",text:B.some("12pt"),icon:B.none(),isSelectedFor:i,getPreviewFor:m,getCurrentValue:u,onAction:b,updateText:T,dataset:I,shouldHide:!1,isInvalid:Tt}},uG=(t,s)=>BS(t,s,qy(t)),dG=t=>{var s;const i={step:1};return(s={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[t])!==null&&s!==void 0?s:i},fG=t=>({updateInputValue:i=>kn(i,Of,{text:t.queryCommandValue("FontSize")}),getConfigFromUnit:dG,onAction:(i,u)=>t.execCommand("FontSize",!1,i,{skip_focus:!u})}),hG=(t,s)=>iG(t,s,fG(t)),mG=(t,s)=>{const i=Gy(t,s,qy(t));t.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},nF=(t,s)=>{const i="Paragraph",u=T=>()=>t.formatter.match(T),m=T=>()=>{const I=t.formatter.get(T);return I!==void 0?B.some({tag:I.length>0&&(I[0].inline||I[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(T))}):B.none()},b=T=>{const I=ee=>yN(ee)?pt(ee.items,I):_B(ee)?[{title:ee.title,format:ee.format}]:[],P=pt(EN(t),I),Z=G$(t,we(P)).fold(we(i),ee=>ee.title);kn(T,Of,{text:Z})};return{tooltip:"Formats",text:B.some(i),icon:B.none(),isSelectedFor:u,getCurrentValue:B.none,getPreviewFor:m,onAction:z$(t),updateText:b,shouldHide:wP(t),isInvalid:T=>!t.formatter.canApply(T.format),dataset:s}},pG=(t,s)=>{const i={type:"advanced",...s.styles};return BS(t,s,nF(t,i))},gG=(t,s)=>{const i={type:"advanced",...s.styles},u=Gy(t,s,nF(t,i));t.ui.registry.addNestedMenuItem("styles",{text:"Formats",getSubmenuItems:()=>u.items.validateItems(u.getStyleItems())})},sM=we([At("toggleClass"),At("fetch"),Jm("onExecute"),Ge("getHotspot",B.some),Ge("getAnchorOverrides",we({})),Id(),Jm("onItemExecute"),Ko("lazySink"),At("dom"),Xe("onOpen"),Za("splitDropdownBehaviours",[Ai,Fn,Zn]),Ge("matchWidth",!1),Ge("useMinWidth",!1),Ge("eventOrder",{}),Ko("role")].concat(cD())),vG=Ba({factory:jc,schema:[At("dom")],name:"arrow",defaults:()=>({buttonBehaviours:Pt([Zn.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(af)},buttonBehaviours:Pt([xo.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])})}),bG=Ba({factory:jc,schema:[At("dom")],name:"button",defaults:()=>({buttonBehaviours:Pt([Zn.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(i=>{t.onExecute(i,s)})}})}),oF=we([vG,bG,Nd({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[At("text")],name:"aria-descriptor"}),Ef({schema:[xd()],name:"menu",defaults:t=>({onExecute:(s,i)=>{s.getSystem().getByUid(t.uid).each(u=>{t.onItemExecute(u,s,i)})}})}),b4()]),sF=(t,s,i,u)=>{const m=Z=>{Qo.getCurrent(Z).each(ee=>{ps.highlightFirst(ee),Fn.focusIn(ee)})},b=Z=>{iD(t,je,Z,u,m,xu.HighlightMenuAndItem).get(Q)},T=Z=>(b(Z),B.some(!0)),I=Z=>{const ee=om(Z,t,"button");return af(ee),B.some(!0)},P={...Zs([Cr((Z,ee)=>{ir(Z,t,"aria-descriptor").each(le=>{const Ce=En("aria");lo(le.element,"id",Ce),lo(Z.element,"aria-describedby",Ce)})})]),...tA(B.some(b))},V={repositionMenus:Z=>{xo.isOn(Z)&&aD(Z)}};return{uid:t.uid,dom:t.dom,components:s,apis:V,eventOrder:{...t.eventOrder,[Ws()]:["disabling","toggling","alloy.base.behaviour"]},events:P,behaviours:Pr(t.splitDropdownBehaviours,[Ai.config({others:{sandbox:Z=>{const ee=om(Z,t,"arrow");return JC(t,Z,{onOpen:()=>{xo.on(ee),xo.on(Z)},onClose:()=>{xo.off(ee),xo.off(Z)}})}}}),Fn.config({mode:"special",onSpace:I,onEnter:I,onDown:T}),Zn.config({}),xo.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},K2=xi({name:"SplitDropdown",configFields:sM(),partFields:oF(),factory:sF,apis:{repositionMenus:(t,s)=>t.repositionMenus(s)}}),rF=t=>({isEnabled:()=>!oo.isDisabled(t),setEnabled:s=>oo.set(t,!s),setText:s=>kn(t,Of,{text:s}),setIcon:s=>kn(t,Fy,{icon:s})}),yG=t=>({setActive:s=>{xo.set(t,s)},isActive:()=>xo.isOn(t),isEnabled:()=>!oo.isDisabled(t),setEnabled:s=>oo.set(t,!s),setText:s=>kn(t,Of,{text:s}),setIcon:s=>kn(t,Fy,{icon:s})}),iF=(t,s)=>t.map(i=>({"aria-label":s.translate(i),title:s.translate(i)})).getOr({}),aF=En("focus-button"),rM=(t,s,i,u,m)=>{const b=s.map(I=>Wo(VD(I,"tox-tbtn",m))),T=t.map(I=>Wo(hm(I,m.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(s.isSome()?["tox-tbtn--select"]:[]),attributes:iF(i,m)},components:KE([T.map(I=>I.asSpec()),b.map(I=>I.asSpec())]),eventOrder:{[Hi()]:["focusing","alloy.base.behaviour",$b],[rf()]:[$b,"toolbar-group-button-events"]},buttonBehaviours:Pt([am.toolbarButton(m.isDisabled),Ya(),po($b,[Cr((I,P)=>hS(I)),Nt(Of,(I,P)=>{b.bind(V=>V.getOpt(I)).each(V=>{uo.set(V,[Sr(m.translate(P.event.text))])})}),Nt(Fy,(I,P)=>{T.bind(V=>V.getOpt(I)).each(V=>{uo.set(V,[hm(P.event.icon,m.icons)])})}),Nt(Hi(),(I,P)=>{P.event.prevent(),rs(I,aF)})])].concat(u.getOr([])))}},_G=(t,s,i,u)=>{const m=s.shared,b=Gn(Q),T={toolbarButtonBehaviours:[],getApi:rF,onSetup:t.onSetup},I=[po("toolbar-group-button-events",[Mb(T,b),Ry(T,b)])];return Hb.sketch({lazySink:m.getSink,fetch:()=>ll.nu(P=>{P(tt(i(t.items),W2))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:rM(t.icon,t.text,t.tooltip,B.some(I),m.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:u}}}})},cF=(t,s,i)=>{var u;const m=Gn(Q),b=rM(t.icon,t.text,t.tooltip,B.none(),i);return jc.sketch({dom:b.dom,components:b.components,eventOrder:HD,buttonBehaviours:{...Pt([po("toolbar-button-events",[$z({onAction:t.onAction,getApi:s.getApi}),Mb(s,m),Ry(s,m)]),am.toolbarButton(()=>!t.enabled||i.isDisabled()),Ya()].concat(s.toolbarButtonBehaviours)),[$b]:(u=b.buttonBehaviours)===null||u===void 0?void 0:u[$b]}})},lF=(t,s)=>uF(t,s,[]),uF=(t,s,i)=>cF(t,{toolbarButtonBehaviours:i.length>0?[po("toolbarButtonWith",i)]:[],getApi:rF,onSetup:t.onSetup},s),iM=(t,s)=>dF(t,s,[]),dF=(t,s,i)=>cF(t,{toolbarButtonBehaviours:[uo.config({}),xo.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(i.length>0?[po("toolbarToggleButtonWith",i)]:[]),getApi:yG,onSetup:t.onSetup},s),EG=(t,s,i)=>u=>ll.nu(m=>s.fetch(m)).map(m=>B.from(dD(er(KC(En("menu-value"),m,b=>{s.onItemAction(t(u),b)},s.columns,s.presets,Tp.CLOSE_ON_EXECUTE,s.select.getOr(Tt),i),{movement:XC(s.columns,s.presets),menuBehaviours:HC.unnamedEvents(s.columns!=="auto"?[]:[Cr((b,T)=>{$I(b,4,ZP(s.presets)).each(({numRows:I,numColumns:P})=>{Fn.setGridSize(b,I,P)})})])})))),wG=(t,s)=>{const i=b=>({isEnabled:()=>!oo.isDisabled(b),setEnabled:T=>oo.set(b,!T),setIconFill:(T,I)=>{Mr(b.element,`svg path[id="${T}"], rect[id="${T}"]`).each(P=>{lo(P,"fill",I)})},setActive:T=>{lo(b.element,"aria-pressed",T),Mr(b.element,"span").each(I=>{b.getSystem().getByDom(I).each(P=>xo.set(P,T))})},isActive:()=>Mr(b.element,"span").exists(T=>b.getSystem().getByDom(T).exists(xo.isOn)),setText:T=>Mr(b.element,"span").each(I=>b.getSystem().getByDom(I).each(P=>kn(P,Of,{text:T}))),setIcon:T=>Mr(b.element,"span").each(I=>b.getSystem().getByDom(I).each(P=>kn(P,Fy,{icon:T})))}),u=Gn(Q),m={getApi:i,onSetup:t.onSetup};return K2.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...iF(t.tooltip,s.providers)}},onExecute:b=>{const T=i(b);T.isEnabled()&&t.onAction(T)},onItemExecute:(b,T,I)=>{},splitDropdownBehaviours:Pt([am.splitButton(s.providers.isDisabled),Ya(),po("split-dropdown-events",[Cr((b,T)=>hS(b)),Nt(aF,Zn.focus),Mb(m,u),Ry(m,u)]),rS.config({})]),eventOrder:{[rf()]:["alloy.base.behaviour","split-dropdown-events"]},toggleClass:"tox-tbtn--enabled",lazySink:s.getSink,fetch:EG(i,t,s.providers),parts:{menu:gA(!1,t.columns,t.presets)},components:[K2.parts.button(rM(t.icon,t.text,B.none(),B.some([xo.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),s.providers)),K2.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:mP("chevron-down",s.providers.icons)},buttonBehaviours:Pt([am.splitButton(s.providers.isDisabled),Ya(),CC()])}),K2.parts["aria-descriptor"]({text:s.providers.translate("To open the popup, press Shift+Enter")})]})},fF=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],zb=(t,s)=>(i,u,m)=>{const b=t(i).mapError(T=>Sc(T)).getOrDie();return s(b,u,m)},TG={button:zb(fL,(t,s)=>lF(t,s.shared.providers)),togglebutton:zb(xA,(t,s)=>iM(t,s.shared.providers)),menubutton:zb(r$,(t,s)=>vS(t,"tox-tbtn",s,B.none())),splitbutton:zb(zW,(t,s)=>wG(t,s.shared)),grouptoolbarbutton:zb(s$,(t,s,i)=>{const u=i.ui.registry.getAll().buttons,m=T=>Q2(i,{buttons:u,toolbar:T,allowToolbarGroups:!1},s,B.none()),b={[F1]:s.shared.header.isPositionedAtTop()?gf.TopToBottom:gf.BottomToTop};switch(VE(i)){case Sf.floating:return _G(t,s,m,b);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})},X2=(t,s,i)=>cn(TG,t.type).fold(()=>(console.error("skipping button defined by",t),B.none()),u=>B.some(u(t,s,i))),$S={styles:pG,fontsize:uG,fontsizeinput:hG,fontfamily:nG,blocks:J9,align:X9},hF=t=>{const s=tt(fF,i=>{const u=fo(i.items,m=>Vo(t,m)||Vo($S,m));return{name:i.name,items:u}});return fo(s,i=>i.items.length>0)},CG=t=>{const s=t.split("|");return tt(s,i=>({items:i.trim().split(" ")}))},SG=t=>ge(t,s=>Vo(s,"name")&&Vo(s,"items")),xG=t=>{const s=t.toolbar,i=t.buttons;return s===!1?[]:s===void 0||s===!0?hF(i):D(s)?CG(s):SG(s)?s:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},AG=(t,s,i,u,m,b)=>cn(s,i.toLowerCase()).orThunk(()=>b.bind(T=>or(T,I=>cn(s,I+i.toLowerCase())))).fold(()=>cn($S,i.toLowerCase()).map(T=>T(t,m)),T=>T.type==="grouptoolbarbutton"&&!u?(console.warn(`Ignoring the '${i}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),B.none()):X2(T,m,t)),Q2=(t,s,i,u)=>{const m=xG(s),b=tt(m,T=>{const I=pt(T.items,P=>P.trim().length===0?[]:AG(t,s.buttons,P,s.allowToolbarGroups,i,u).toArray());return{title:B.from(t.translate(T.name)),items:I}});return fo(b,T=>T.items.length>0)},mF=(t,s,i,u)=>{const m=s.mainUi.outerContainer,b=i.toolbar,T=i.buttons;if(ge(b,D)){const I=b.map(P=>{const V={toolbar:P,buttons:T,allowToolbarGroups:i.allowToolbarGroups};return Q2(t,V,u,B.none())});Or.setToolbars(m,I)}else Or.setToolbar(m,Q2(t,i,u,B.none()))},FS=kt(),pF=FS.os.isiOS()&&FS.os.version.major<=12,gF=(t,s)=>{const{uiMotherships:i}=s,u=t.dom;let m=t.getWin();const b=t.getDoc().documentElement,T=Gn(Xn(m.innerWidth,m.innerHeight)),I=Gn(Xn(b.offsetWidth,b.offsetHeight)),P=()=>{const oe=T.get();(oe.left!==m.innerWidth||oe.top!==m.innerHeight)&&(T.set(Xn(m.innerWidth,m.innerHeight)),LA(t))},V=()=>{const oe=t.getDoc().documentElement,le=I.get();(le.left!==oe.offsetWidth||le.top!==oe.offsetHeight)&&(I.set(Xn(oe.offsetWidth,oe.offsetHeight)),LA(t))},Z=oe=>{WL(t,oe)};u.bind(m,"resize",P),u.bind(m,"scroll",Z);const ee=B1(Je.fromDom(t.getBody()),"load",V);t.on("hide",()=>{Dt(i,oe=>{te(oe.element,"display","none")})}),t.on("show",()=>{Dt(i,oe=>{rt(oe.element,"display")})}),t.on("NodeChange",V),t.on("remove",()=>{ee.unbind(),u.unbind(m,"resize",P),u.unbind(m,"scroll",Z),m=null})},vF=(t,s,i)=>{Rb(t)&&Tg(i.mainUi.mothership.element,i.popupUi.mothership),ny(s,i.dialogUi.mothership)};var RG=Object.freeze({__proto__:null,render:async(t,s,i,u,m)=>{const{mainUi:b,uiMotherships:T}=s,I=Gn(0),P=b.outerContainer;await j9(t);const V=Je.fromDom(m.targetNode),Z=Mi(Oa(V));Tg(V,b.mothership),vF(t,Z,s),t.on("PostRender",()=>{Or.setSidebar(P,i.sidebar,LP(t)),mF(t,s,i,u),I.set(t.getWin().innerWidth),Or.setMenubar(P,B$(t,i)),Or.setViews(P,i.views),gF(t,s)});const ee=Or.getSocket(P).getOrDie("Could not find expected socket element");if(pF){de(ee.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const ke=X3(()=>{t.dispatch("ScrollContent")},20),st=Nc(ee.element,"scroll",ke.throttle);t.on("remove",st.unbind)}NL(t,s),t.addCommand("ToggleSidebar",(ke,st)=>{Or.toggleSidebar(P,st),t.dispatch("ToggleSidebar")}),t.addQueryValueHandler("ToggleSidebar",()=>{var ke;return(ke=Or.whichSidebar(P))!==null&&ke!==void 0?ke:""}),t.addCommand("ToggleView",(ke,st)=>{if(Or.toggleView(P,st)){const Ue=P.element;b.mothership.broadcastOn([mp()],{target:Ue}),Dt(T,ot=>{ot.broadcastOn([mp()],{target:Ue})}),X(Or.whichView(P))&&(t.focus(),t.nodeChanged())}}),t.addQueryValueHandler("ToggleView",()=>{var ke;return(ke=Or.whichView(P))!==null&&ke!==void 0?ke:""});const oe=VE(t),le=()=>{Or.refreshToolbar(s.mainUi.outerContainer)};(oe===Sf.sliding||oe===Sf.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",()=>{const ke=t.getWin().innerWidth;ke!==I.get()&&(le(),I.set(ke))});const Ce={setEnabled:ke=>{UC(s,!ke)},isEnabled:()=>!oo.isDisabled(P)};return{iframeContainer:ee.element.dom,editorContainer:P.element.dom,api:Ce}}});const J2=t=>/^[0-9\.]+(|px)$/i.test(""+t)?B.some(parseInt(""+t,10)):B.none(),aM=t=>ae(t)?t+"px":t,eO=(t,s,i)=>{const u=s.filter(b=>t<b),m=i.filter(b=>t>b);return u.or(m).getOr(t)},IG=t=>{const s=OC(t),i=RC(t),u=cA(t);return J2(s).map(m=>eO(m,i,u))},DG=t=>IG(t).getOr(OC(t)),bF=t=>{const s=rA(t),i=iA(t),u=aA(t);return J2(s).map(m=>eO(m,i,u))},NG=t=>bF(t).getOr(rA(t)),{ToolbarLocation:cM,ToolbarMode:yF}=aV,_F=40,MG=(t,s,i,u,m)=>{const{mainUi:b,uiMotherships:T}=i,I=SC.DOM,P=wy(t),V=WE(t),Z=aA(t).or(bF(t)),ee=u.shared.header,oe=ee.isPositionedAtTop,le=VE(t),Ce=le===yF.sliding||le===yF.floating,ke=Gn(!1),st=()=>ke.get()&&!t.removed,Ue=Qn=>Ce?Qn.fold(we(0),Os=>Os.components().length>1?Cn(Os.components()[1].element):0):0,ot=Qn=>{switch(uA(t)){case cM.auto:const Os=Or.getToolbar(b.outerContainer),Gt=Ue(Os),xn=Cn(Qn.element)-Gt,vn=ts(s);if(vn.y>xn)return"top";{const wo=el(s),es=Math.max(wo.dom.scrollHeight,Cn(wo));return vn.bottom<es-xn||Na().bottom<vn.bottom-xn?"bottom":"top"}case cM.bottom:return"bottom";case cM.top:default:return"top"}},ft=Qn=>{m.on(Os=>{$a.setModes(Os,[Qn]),ee.setDockingMode(Qn);const Gt=oe()?gf.TopToBottom:gf.BottomToTop;lo(Os.element,F1,Gt)})},vt=()=>{m.on(Qn=>{const Os=Z.getOrThunk(()=>{const Gt=J2(Te(Ji(),"margin-left")).getOr(0);return dr(Ji())-Oo(s).left+Gt});te(Qn.element,"max-width",Os+"px")})},Jt=Qn=>{m.on(Os=>{const Gt=Or.getToolbar(b.outerContainer),xn=Ue(Gt),vn=ts(s),{top:Kn,left:wo}=Lt(t,b.outerContainer.element).fold(()=>({top:oe()?Math.max(vn.y-Cn(Os.element)+xn,0):vn.bottom,left:vn.x}),ws=>{var ru;const gi=ts(ws),mh=(ru=ws.dom.scrollTop)!==null&&ru!==void 0?ru:0,ym=ys(ws,Ji()),vv=ym?Math.max(vn.y-Cn(Os.element)+xn,0):vn.y-gi.y+mh-Cn(Os.element)+xn;return{top:oe()?vv:vn.bottom,left:ym?vn.x:vn.x-gi.x}}),es={position:"absolute",left:Math.round(wo)+"px",top:Math.round(Kn)+"px"},ca=Qn.map(ws=>{const ru=Qt(),gi=150,mh=window.innerWidth-(wo-ru.left);return{width:Math.max(Math.min(ws,mh),gi)+"px"}}).getOr({});de(b.outerContainer.element,{...es,...ca})})},Lt=(Qn,Os)=>Rb(Qn)?AS(Os):B.none(),un=()=>{Dt(T,Qn=>{Qn.broadcastOn([pb()],{})})},On=()=>{if(P)return B.none();if(Oo(b.outerContainer.element).left+Dr(b.outerContainer.element)>=window.innerWidth-_F||it(b.outerContainer.element,"width").isSome()){te(b.outerContainer.element,"position","absolute"),te(b.outerContainer.element,"left","0px"),rt(b.outerContainer.element,"width");const Os=Dr(b.outerContainer.element);return B.some(Os)}else return B.none()},$o=Qn=>{if(!st())return;P||vt();const Os=P?B.none():On();Ce&&Or.refreshToolbar(b.outerContainer),P||Jt(Os),V&&m.on(Qn),un()},Hn=()=>P||!V||!st()?!1:m.get().exists(Qn=>{const Os=ee.getDockingMode(),Gt=ot(Qn);return Gt!==Os?(ft(Gt),!0):!1});return{isVisible:st,isPositionedAtTop:oe,show:()=>{ke.set(!0),te(b.outerContainer.element,"display","flex"),I.addClass(t.getBody(),"mce-edit-focus"),Dt(T,Qn=>{rt(Qn.element,"display")}),Hn(),Rb(t)?$o(Qn=>$a.isDocked(Qn)?$a.reset(Qn):$a.refresh(Qn)):$o($a.refresh)},hide:()=>{ke.set(!1),te(b.outerContainer.element,"display","none"),I.removeClass(t.getBody(),"mce-edit-focus"),Dt(T,Qn=>{te(Qn.element,"display","none")})},update:$o,updateMode:()=>{Hn()&&$o($a.reset)},repositionPopups:un}},lM=(t,s)=>{const i=ts(t);return{pos:s?i.y:i.bottom,bounds:i}},kG=(t,s,i,u)=>{const m=Gn(lM(s,i.isPositionedAtTop())),b=V=>{const{pos:Z,bounds:ee}=lM(s,i.isPositionedAtTop()),{pos:oe,bounds:le}=m.get(),Ce=ee.height!==le.height||ee.width!==le.width;m.set({pos:Z,bounds:ee}),Ce&&LA(t,V),i.isVisible()&&(oe!==Z?i.update($a.reset):Ce&&(i.updateMode(),i.repositionPopups()))};u||(t.on("activate",i.show),t.on("deactivate",i.hide)),t.on("SkinLoaded ResizeWindow",()=>i.update($a.reset)),t.on("NodeChange keydown",V=>{requestAnimationFrame(()=>b(V))});let T=0;const I=sN(()=>i.update($a.refresh),33);t.on("ScrollWindow",()=>{const V=Qt().left;V!==T&&(T=V,I.throttle()),i.updateMode()}),Rb(t)&&t.on("ElementScroll",V=>{i.update($a.refresh)});const P=Eu();P.set(B1(Je.fromDom(t.getBody()),"load",V=>b(V.raw))),t.on("remove",()=>{P.clear()})};var PG=Object.freeze({__proto__:null,render:async(t,s,i,u,m)=>{const{mainUi:b}=s,T=Ys(),I=Je.fromDom(m.targetNode),P=MG(t,I,s,u,T),V=dA(t);await Z9(t);const Z=()=>{if(T.isSet()){P.show();return}T.set(Or.getHeader(b.outerContainer).getOrDie());const oe=NC(t);Rb(t)?(Tg(I,b.mothership),Tg(I,s.popupUi.mothership)):ny(oe,b.mothership),ny(oe,s.dialogUi.mothership),mF(t,s,i,u),Or.setMenubar(b.outerContainer,B$(t,i)),P.show(),kG(t,I,P,V),t.nodeChanged()};t.on("show",Z),t.on("hide",P.hide),V||(t.on("focus",Z),t.on("blur",P.hide)),t.on("init",()=>{(t.hasFocus()||V)&&Z()}),NL(t,s);const ee={show:Z,hide:P.hide,setEnabled:oe=>{UC(s,!oe)},isEnabled:()=>!oo.isDisabled(b.outerContainer)};return{editorContainer:b.outerContainer.element.dom,api:ee}}});const LG=()=>{const t=Ys(),s=Ys(),i=Ys();return{dialogUi:t,popupUi:s,mainUi:i,getUiMotherships:()=>{const b=t.get().map(I=>I.mothership),T=s.get().map(I=>I.mothership);return b.fold(()=>T.toArray(),I=>T.fold(()=>[I],P=>ys(I.element,P.element)?[I]:[I,P]))},lazyGetInOuterOrDie:(b,T)=>()=>i.get().bind(I=>T(I.outerContainer)).getOrDie(`Could not find ${b} element in OuterContainer`)}},BG="contexttoolbar-show",vw="contexttoolbar-hide",EF=t=>({hide:()=>rs(t,$m()),getValue:()=>hn.getValue(t)}),wF=(t,s)=>Nt(O3,(i,u)=>{const m=t.get(i),b=EF(m);s.onAction(b,u.event.buttonApi)}),$G=(t,s,i)=>{const{primary:u,...m}=s.original,b=Lo(fL({...m,type:"button",onAction:Q}));return uF(b,i,[wF(t,s)])},TF=(t,s,i)=>{const{primary:u,...m}=s.original,b=Lo(xA({...m,type:"togglebutton",onAction:Q}));return dF(b,i,[wF(t,s)])},uM=t=>t.type==="contextformtogglebutton",CF=(t,s,i)=>uM(s)?TF(t,s,i):$G(t,s,i),SF=(t,s,i)=>{const u=tt(s,T=>Wo(CF(t,T,i)));return{asSpecs:()=>tt(u,T=>T.asSpec()),findPrimary:T=>or(s,(I,P)=>I.primary?B.from(u[P]).bind(V=>V.getOpt(T)).filter(Pe(oo.isDisabled)):B.none())}},xF=(t,s)=>{const i=t.label.fold(()=>({}),b=>({"aria-label":b})),u=Wo(Cy.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:i,selectOnFocus:!0,inputBehaviours:Pt([Fn.config({mode:"special",onEnter:b=>m.findPrimary(b).map(T=>(af(T),!0)),onLeft:(b,T)=>(T.cut(),B.none()),onRight:(b,T)=>(T.cut(),B.none())})])})),m=SF(u,t.commands,s);return[{title:B.none(),items:[u.asSpec()]},{title:B.none(),items:m.asSpecs()}]},tO={renderContextForm:(t,s,i)=>kS({type:t,uid:En("context-toolbar"),initGroups:xF(s,i),onEscape:B.none,cyclicKeying:!0,providers:i}),buildInitGroups:xF},nO=(t,s,i)=>s.bottom-t.y>=i&&t.bottom-s.y>=i,AF=t=>{const s=t.getBoundingClientRect();if(s.height<=0&&s.width<=0){const i=Mf(Je.fromDom(t.startContainer),t.startOffset).element;return(ri(i)?Ec(i):B.some(i)).filter(Ss).map(m=>m.dom.getBoundingClientRect()).getOr(s)}else return s},oO=t=>{const s=t.selection.getRng(),i=AF(s);if(t.inline){const u=Qt();return Ls(u.left+i.left,u.top+i.top,i.width,i.height)}else{const u=gl(Je.fromDom(t.getBody()));return Ls(u.x+i.left,u.y+i.top,i.width,i.height)}},FG=(t,s)=>s.filter(i=>oc(i)&&cd(i)).map(gl).getOrThunk(()=>oO(t)),OF=(t,s,i)=>{const u=Math.max(t.x+i,s.x),m=Math.min(t.right-i,s.right);return{x:u,width:m-u}},HG=(t,s,i,u,m,b)=>{const T=Je.fromDom(t.getContainer()),I=Mr(T,".tox-editor-header").getOr(T),P=ts(I),V=P.y>=s.bottom,Z=u&&!V;if(t.inline&&Z)return{y:Math.max(P.bottom+b,i.y),bottom:i.bottom};if(t.inline&&!Z)return{y:i.y,bottom:Math.min(P.y-b,i.bottom)};const ee=m==="line"?ts(T):s;return Z?{y:Math.max(P.bottom+b,i.y),bottom:Math.min(ee.bottom-b,i.bottom)}:{y:Math.max(ee.y+b,i.y),bottom:Math.min(P.y-b,i.bottom)}},RF=(t,s,i,u=0)=>{const m=yo(window),b=ts(Je.fromDom(t.getContentAreaContainer())),T=Dg(t)||zE(t)||UE(t),{x:I,width:P}=OF(b,m,u);if(t.inline&&!T)return Ls(I,m.y,P,m.height);{const V=s.header.isPositionedAtTop(),{y:Z,bottom:ee}=HG(t,b,m,V,i,u);return Ls(I,Z,P,ee-Z)}},sO=12,IF={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},DF={maxHeightFunction:Yh(),maxWidthFunction:GN()},NF=(t,s)=>{const i=t.selection.getRng(),u=Mf(Je.fromDom(i.startContainer),i.startOffset);return i.startContainer===i.endContainer&&i.startOffset===i.endOffset-1&&ys(u.element,s)},rO=(t,s,i)=>{const u=it(t,"position");te(t,"position",s);const m=i(t);return u.each(b=>te(t,"position",b)),m},dM=t=>t==="node",MF=(t,s,i,u,m)=>{const b=oO(t),T=u.lastElement().exists(I=>ys(i,I));if(NF(t,i))return T?vB:zg;if(T)return rO(s,u.getMode(),()=>nO(b,ts(s),-20)&&!u.isReposition()?PU:vB);{const I=u.getMode()==="fixed"?m.y+Qt().top:m.y,P=Cn(s)+sO;return I+P<=b.y?zg:TS}},fM=(t,s,i,u)=>{const m=P=>(V,Z,ee,oe,le)=>{const Ce=MF(t,oe,P,i,le),ke={...V,y:le.y,height:le.height};return{...Ce(ke,Z,ee,oe,le),alwaysFit:!0}},b=P=>dM(u)?[m(P)]:[];return s?{onLtr:P=>[Pa,ya,Ui,Gc,Rl,Ds].concat(b(P)),onRtl:P=>[Pa,Ui,ya,Rl,Gc,Ds].concat(b(P))}:{onLtr:P=>[Ds,Pa,Gc,ya,Rl,Ui].concat(b(P)),onRtl:P=>[Ds,Pa,Rl,Ui,Gc,ya].concat(b(P))}},VG=(t,s,i,u)=>s==="line"?{bubble:Rd(sO,0,IF),layouts:{onLtr:()=>[Qu],onRtl:()=>[eh]},overrides:DF}:{bubble:Rd(0,sO,IF,1/sO),layouts:fM(t,i,u,s),overrides:DF},iO=(t,s)=>{const i=fo(s,b=>b.predicate(t.dom)),{pass:u,fail:m}=ls(i,b=>b.type==="contexttoolbar");return{contextToolbars:u,contextForms:m}},zG=t=>{if(t.length<=1)return t;{const s=b=>Fo(t,T=>T.position===b),i=b=>fo(t,T=>T.position===b),u=s("selection"),m=s("node");if(u||m)if(m&&u){const b=i("node"),T=tt(i("selection"),I=>({...I,position:"node"}));return b.concat(T)}else return i(u?"selection":"node");else return i("line")}},UG=t=>{if(t.length<=1)return t;{const s=u=>Pn(t,m=>m.position===u);return s("selection").orThunk(()=>s("node")).orThunk(()=>s("line")).map(u=>u.position).fold(()=>[],u=>fo(t,m=>m.position===u))}},aO=(t,s,i)=>{const u=iO(t,s);if(u.contextForms.length>0)return B.some({elem:t,toolbars:[u.contextForms[0]]});{const m=iO(t,i);if(m.contextForms.length>0)return B.some({elem:t,toolbars:[m.contextForms[0]]});if(u.contextToolbars.length>0||m.contextToolbars.length>0){const b=zG(u.contextToolbars.concat(m.contextToolbars));return B.some({elem:t,toolbars:b})}else return B.none()}},kF=(t,s,i)=>t(s)?B.none():d1(s,u=>{if(Ss(u)){const{contextToolbars:m,contextForms:b}=iO(u,i.inNodeScope),T=b.length>0?b:UG(m);return T.length>0?B.some({elem:u,toolbars:T}):B.none()}else return B.none()},t),WG=(t,s)=>{const i=Je.fromDom(s.getBody()),u=T=>ys(T,i),m=T=>!u(T)&&!tc(i,T),b=Je.fromDom(s.selection.getNode());return m(b)?B.none():aO(b,t.inNodeScope,t.inEditorScope).orThunk(()=>kF(u,b,t))},GG=(t,s)=>{const i={},u=[],m=[],b={},T={},I=(Z,ee)=>{const oe=Lo(gL(ee));i[Z]=oe,oe.launch.map(le=>{b["form:"+Z]={...ee.launch,type:le.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{s(oe)}}}),oe.scope==="editor"?m.push(oe):u.push(oe),T[Z]=oe},P=(Z,ee)=>{NV(ee).each(oe=>{ee.scope==="editor"?m.push(oe):u.push(oe),T[Z]=oe})},V=Rs(t);return Dt(V,Z=>{const ee=t[Z];ee.type==="contextform"?I(Z,ee):ee.type==="contexttoolbar"&&P(Z,ee)}),{forms:i,inNodeScope:u,inEditorScope:m,lookupTable:T,formNavigators:b}},PF=En("forward-slide"),LF=En("backward-slide"),hM=En("change-slide-event"),cO="tox-pop--resizing",BF=t=>{const s=Gn([]);return ia.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:i=>{s.set([]),ia.getContent(i).each(u=>{rt(u.element,"visibility")}),Bs(i.element,cO),rt(i.element,"width")},inlineBehaviours:Pt([po("context-toolbar-events",[ja(Bh(),(i,u)=>{u.event.raw.propertyName==="width"&&(Bs(i.element,cO),rt(i.element,"width"))}),Nt(hM,(i,u)=>{const m=i.element;rt(m,"width");const b=dr(m);ia.setContent(i,u.event.contents),As(m,cO);const T=dr(m);te(m,"width",b+"px"),ia.getContent(i).each(I=>{u.event.focus.bind(P=>(al(P),Ql(m))).orThunk(()=>(Fn.focusIn(I),Od(Oa(m))))}),setTimeout(()=>{te(i.element,"width",T+"px")},0)}),Nt(PF,(i,u)=>{ia.getContent(i).each(m=>{s.set(s.get().concat([{bar:m,focus:Od(Oa(i.element))}]))}),kn(i,hM,{contents:u.event.forwardContents,focus:B.none()})}),Nt(LF,(i,u)=>{Zc(s.get()).each(m=>{s.set(s.get().slice(0,s.get().length-1)),kn(i,hM,{contents:il(m.bar),focus:m.focus})})})]),Fn.config({mode:"special",onEscape:i=>Zc(s.get()).fold(()=>t.onEscape(),u=>(rs(i,LF),B.some(!0)))})]),lazySink:()=>io.value(t.sink)})},mM="tox-pop--transition",qG=(t,s,i,u)=>{const m=u.backstage,b=m.shared,T=kt().deviceType.isTouch,I=Ys(),P=Ys(),V=Ys(),Z=fc(BF({sink:i,onEscape:()=>(t.focus(),B.some(!0))})),ee=()=>{const Hn=V.get().getOr("node"),ko=dM(Hn)?1:0;return RF(t,b,Hn,ko)},oe=()=>!t.removed&&!(T()&&m.isContextMenuOpen()),le=Hn=>vc(ad(Hn,I.get(),ys),!0),Ce=()=>{if(oe()){const Hn=ee(),ko=vc(V.get(),"node")?FG(t,I.get()):oO(t);return Hn.height<=0||!nO(ko,Hn,.01)}else return!0},ke=()=>{I.clear(),P.clear(),V.clear(),ia.hide(Z)},st=()=>{if(ia.isOpen(Z)){const Hn=Z.element;rt(Hn,"display"),Ce()?te(Hn,"display","none"):(P.set(0),ia.reposition(Z))}},Ue=Hn=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Hn],behaviours:Pt([Fn.config({mode:"acyclic"}),po("pop-dialog-wrap-events",[Cr(ko=>{t.shortcuts.add("ctrl+F9","focus statusbar",()=>Fn.focusIn(ko))}),Ac(ko=>{t.shortcuts.remove("ctrl+F9")})])])}),ot=wi(()=>GG(s,Hn=>{const ko=Jt([Hn]);kn(Z,PF,{forwardContents:Ue(ko)})})),ft=(Hn,ko)=>Q2(t,{buttons:Hn,toolbar:ko.items,allowToolbarGroups:!1},u.backstage,B.some(["form:"])),vt=(Hn,ko)=>tO.buildInitGroups(Hn,ko),Jt=Hn=>{const{buttons:ko}=t.ui.registry.getAll(),so=ot(),Do={...ko,...so.formNavigators},Qn=VE(t)===Sf.scrolling?Sf.scrolling:Sf.default,Os=Kt(tt(Hn,Gt=>Gt.type==="contexttoolbar"?ft(Do,Gt):vt(Gt,b.providers)));return kS({type:Qn,uid:En("context-toolbar"),initGroups:Os,onEscape:B.none,cyclicKeying:!0,providers:b.providers})},Lt=(Hn,ko)=>{const so=Hn==="node"?b.anchors.node(ko):b.anchors.cursor(),Do=VG(t,Hn,T(),{lastElement:I.get,isReposition:()=>vc(P.get(),0),getMode:()=>Gs.getMode(i)});return er(so,Do)},un=(Hn,ko)=>{if($o.cancel(),!oe())return;const so=Jt(Hn),Do=Hn[0].position,Qn=Lt(Do,ko);V.set(Do),P.set(1);const Os=Z.element;rt(Os,"display"),le(ko)||(Bs(Os,mM),Gs.reset(i,Z)),ia.showWithinBounds(Z,Ue(so),{anchor:Qn,transition:{classes:[mM],mode:"placement"}},()=>B.some(ee())),ko.fold(I.clear,I.set),Ce()&&te(Os,"display","none")};let On=!1;const $o=sN(()=>{if(!(!t.hasFocus()||t.removed||On))if(sa(Z.element,mM))$o.throttle();else{const Hn=ot();WG(Hn,t).fold(ke,ko=>{un(ko.toolbars,B.some(ko.elem))})}},17);t.on("init",()=>{t.on("remove",ke),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",st),t.on("click keyup focus SetContent",$o.throttle),t.on(vw,ke),t.on(BG,Hn=>{const ko=ot();cn(ko.lookupTable,Hn.toolbarKey).each(so=>{un([so],jn(Hn.target!==t,Hn.target)),ia.getContent(Z).each(Fn.focusIn)})}),t.on("focusout",Hn=>{wp.setEditorTimeout(t,()=>{Ql(i.element).isNone()&&Ql(Z.element).isNone()&&ke()},0)}),t.on("SwitchMode",()=>{t.mode.isReadOnly()&&ke()}),t.on("AfterProgressState",Hn=>{Hn.state?ke():t.hasFocus()&&$o.throttle()}),t.on("dragstart",()=>{On=!0}),t.on("dragend drop",()=>{On=!1}),t.on("NodeChange",Hn=>{Ql(Z.element).fold($o.throttle,Q)})})},$F=t=>{Dt([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],i=>{t.ui.registry.addToggleButton(i.name,{tooltip:i.text,icon:i.icon,onAction:Rf(t,i.cmd),onSetup:Z2(t,i.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:Rf(t,"JustifyNone")})},FF=(t,s)=>{const i=()=>{const u=s.getOptions(t),m=s.getCurrent(t).map(s.hash),b=Ys();return tt(u,T=>({type:"togglemenuitem",text:s.display(T),onSetup:I=>{const P=Z=>{Z&&(b.on(ee=>ee.setActive(!1)),b.set(I)),I.setActive(Z)};P(vc(m,s.hash(T)));const V=s.watcher(t,T,P);return()=>{b.clear(),V()}},onAction:()=>s.setCurrent(t,T)}))};t.ui.registry.addMenuButton(s.name,{tooltip:s.text,icon:s.icon,fetch:u=>u(i()),onSetup:s.onToolbarSetup}),t.ui.registry.addNestedMenuItem(s.name,{type:"nestedmenuitem",text:s.text,getSubmenuItems:i,onSetup:s.onMenuSetup})},jG={name:"lineheight",text:"Line height",icon:"line-height",getOptions:FP,hash:t=>J$(t,["fixed","relative","empty"]).getOr(t),display:je,watcher:(t,s,i)=>t.formatter.formatChanged("lineheight",i,!1,{value:s}).unbind,getCurrent:t=>B.from(t.queryCommandValue("LineHeight")),setCurrent:(t,s)=>t.execCommand("LineHeight",!1,s)},ZG=t=>B.from(cI(t)).map(i=>({name:"language",text:"Language",icon:"language",getOptions:we(i),hash:u=>re(u.customCode)?u.code:`${u.code}/${u.customCode}`,display:u=>u.title,watcher:(u,m,b)=>{var T;return u.formatter.formatChanged("lang",b,!1,{value:m.code,customValue:(T=m.customCode)!==null&&T!==void 0?T:null}).unbind},getCurrent:u=>{const m=Je.fromDom(u.selection.getNode());return Av(m,b=>B.some(b).filter(Ss).bind(T=>Xr(T,"lang").map(P=>{const V=Xr(T,"data-mce-lang").getOrUndefined();return{code:P,customCode:V,title:""}})))},setCurrent:(u,m)=>u.execCommand("Lang",!1,m),onToolbarSetup:u=>{const m=Eu();return u.setActive(t.formatter.match("lang",{},void 0,!0)),m.set(t.formatter.formatChanged("lang",u.setActive,!0)),m.clear}})),YG=t=>{FF(t,jG),ZG(t).each(s=>FF(t,s))},KG=(t,s)=>{Q9(t,s),oG(t,s),gG(t,s),eG(t,s),mG(t,s)},pM=t=>LS(t,"NodeChange",s=>{s.setEnabled(t.queryCommandState("outdent"))}),XG=t=>{t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:pM(t),onAction:Rf(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:Rf(t,"indent")})},QG=t=>{XG(t)},lO=(t,s)=>i=>{i.setActive(s.get());const u=m=>{s.set(m.state),i.setActive(m.state)};return t.on("PastePlainTextToggle",u),()=>t.off("PastePlainTextToggle",u)},HF=t=>{const s=Gn(uI(t)),i=()=>t.execCommand("mceTogglePlainTextPaste");t.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:i,onSetup:lO(t,s)}),t.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:i,onSetup:lO(t,s)})},uO=(t,s)=>()=>{t.execCommand("mceToggleFormat",!1,s)},JG=t=>{By.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(s,i)=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:Z2(t,s.name),onAction:uO(t,s.name)})});for(let s=1;s<=6;s++){const i="h"+s;t.ui.registry.addToggleButton(i,{text:i.toUpperCase(),tooltip:"Heading "+s,onSetup:Z2(t,i),onAction:uO(t,i)})}},eq=t=>{By.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"print",text:"Print",action:"mcePrint",icon:"print"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onAction:Rf(t,s.action)})})},tq=t=>{By.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],s=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onAction:Rf(t,s.action),onSetup:Z2(t,s.name)})})},nq=t=>{JG(t),eq(t),tq(t)},oq=t=>{By.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onAction:Rf(t,s.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:uO(t,"code")})},VF=t=>{nq(t),oq(t)},dO=(t,s)=>LS(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",i=>{i.setEnabled(!t.mode.isReadOnly()&&t.undoManager[s]())}),zF=t=>{t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:dO(t,"hasUndo"),onAction:Rf(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:dO(t,"hasRedo"),onAction:Rf(t,"redo")})},sq=t=>{t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:dO(t,"hasUndo"),onAction:Rf(t,"undo")}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:dO(t,"hasRedo"),onAction:Rf(t,"redo")})},rq=t=>{zF(t),sq(t)},gM=t=>LS(t,"VisualAid",s=>{s.setActive(t.hasVisual)}),UF=t=>{t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:gM(t),onAction:Rf(t,"mceToggleVisualAid")})},iq=t=>{t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:Rf(t,"mceToggleVisualAid")})},aq=t=>{iq(t),UF(t)},vM=(t,s)=>{$F(t),VF(t),KG(t,s),rq(t),tD(t),aq(t),QG(t),YG(t),HF(t)},cq=t=>D(t)?t.split(/[ ,]/):t,WF=t=>s=>s.options.get(t),lq=t=>{const s=t.options.register;s("contextmenu_avoid_overlap",{processor:"string",default:""}),s("contextmenu_never_use_native",{processor:"boolean",default:!1}),s("contextmenu",{processor:i=>i===!1?{value:[],valid:!0}:D(i)||ge(i,D)?{value:cq(i),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},GF=WF("contextmenu_never_use_native"),uq=WF("contextmenu_avoid_overlap"),qF=t=>jF(t).length===0,jF=t=>{const s=t.ui.registry.getAll().contextMenus,i=t.options.get("contextmenu");return t.options.isSet("contextmenu")?i:fo(i,u=>Vo(s,u))},VS=(t,s)=>({type:"makeshift",x:t,y:s}),dq=(t,s,i)=>VS(t.x+s,t.y+i),ZF=t=>t.type==="longpress"||t.type.indexOf("touch")===0,fq=t=>{if(ZF(t)){const s=t.touches[0];return VS(s.pageX,s.pageY)}else return VS(t.pageX,t.pageY)},hq=t=>{if(ZF(t)){const s=t.touches[0];return VS(s.clientX,s.clientY)}else return VS(t.clientX,t.clientY)},mq=(t,s)=>{const i=SC.DOM.getPos(t);return dq(s,i.x,i.y)},pq=(t,s)=>s.type==="contextmenu"||s.type==="longpress"?t.inline?fq(s):mq(t.getContentAreaContainer(),hq(s)):bM(t),bM=t=>({type:"selection",root:Je.fromDom(t.selection.getNode())}),gq=t=>({type:"node",node:B.some(Je.fromDom(t.selection.getNode())),root:Je.fromDom(t.getBody())}),yM=(t,s,i)=>{switch(i){case"node":return gq(t);case"point":return pq(t,s);case"selection":return bM(t)}},vq=(t,s,i,u,m,b)=>{const T=i(),I=yM(t,s,b);Hy(T,Tp.CLOSE_ON_EXECUTE,u,{isHorizontalMenu:!1,search:B.none()}).map(P=>{s.preventDefault(),ia.showMenuAt(m,{anchor:I},{menu:{markers:Ty("normal")},data:P})})},bq={onLtr:()=>[Pa,ya,Ui,Gc,Rl,Ds,zg,TS,wS,_S,ES,uw],onRtl:()=>[Pa,Ui,ya,Rl,Gc,Ds,zg,TS,ES,uw,wS,_S]},yq=12,jy={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},YF=(t,s)=>{const i=t.selection;if(i.isCollapsed()||s.touches.length<1)return!1;{const u=s.touches[0],m=i.getRng();return q1(t.getWin(),nh.domRange(m)).exists(T=>T.left<=u.clientX&&T.right>=u.clientX&&T.top<=u.clientY&&T.bottom>=u.clientY)}},_q=t=>{const s=t.selection.getRng(),i=()=>{wp.setEditorTimeout(t,()=>{t.selection.setRng(s)},10),b()};t.once("touchend",i);const u=T=>{T.preventDefault(),T.stopImmediatePropagation()};t.on("mousedown",u,!0);const m=()=>b();t.once("longpresscancel",m);const b=()=>{t.off("touchend",i),t.off("longpresscancel",m),t.off("mousedown",u)}},Eq=(t,s,i)=>{const u=yM(t,s,i);return{bubble:Rd(0,i==="point"?yq:0,jy),layouts:bq,overrides:{maxWidthFunction:GN(),maxHeightFunction:Yh()},...u}},wq=(t,s,i,u,m,b,T)=>{const I=Eq(t,s,b);Hy(i,Tp.CLOSE_ON_EXECUTE,u,{isHorizontalMenu:!0,search:B.none()}).map(P=>{s.preventDefault();const V=T?xu.HighlightMenuAndItem:xu.HighlightNone;ia.showMenuWithinBounds(m,{anchor:I},{menu:{markers:Ty("normal"),highlightOnOpen:V},data:P,type:"horizontal"},()=>B.some(RF(t,u.shared,b==="node"?"node":"selection"))),t.dispatch(vw)})},Tq=(t,s,i,u,m,b)=>{const T=kt(),I=T.os.isiOS(),P=T.os.isMacOS(),V=T.os.isAndroid(),Z=T.deviceType.isTouch(),ee=()=>!(V||I||P&&Z),oe=()=>{const le=i();wq(t,s,le,u,m,b,ee())};if((P||I)&&b!=="node"){const le=()=>{_q(t),oe()};YF(t,s)?le():(t.once("selectionchange",le),t.once("touchend",()=>t.off("selectionchange",le)))}else oe()},_M=t=>D(t)?t==="|":t.type==="separator",EM={type:"separator"},KF=t=>{const s=i=>({text:i.text,icon:i.icon,enabled:i.enabled,shortcut:i.shortcut});if(D(t))return t;switch(t.type){case"separator":return EM;case"submenu":return{type:"nestedmenuitem",...s(t),getSubmenuItems:()=>{const u=t.getSubmenuItems();return D(u)?u:tt(u,KF)}};default:const i=t;return{type:"menuitem",...s(i),onAction:Ne(i.onAction)}}},XF=(t,s)=>{if(s.length===0)return t;const u=Zc(t).filter(m=>!_M(m)).fold(()=>[],m=>[EM]);return t.concat(u).concat(s).concat([EM])},Cq=(t,s,i)=>{const u=vs(s,(m,b)=>cn(t,b.toLowerCase()).map(T=>{const I=T.update(i);if(D(I))return XF(m,I.split(" "));if(I.length>0){const P=tt(I,KF);return XF(m,P)}else return m}).getOrThunk(()=>m.concat([b])),[]);return u.length>0&&_M(u[u.length-1])&&u.pop(),u},Sq=(t,s)=>s.ctrlKey&&!GF(t),xq=t=>t.type==="longpress"||Vo(t,"touches"),QF=(t,s)=>!xq(s)&&(s.button!==2||s.target===t.getBody()&&s.pointerType===""),JF=(t,s)=>QF(t,s)?t.selection.getStart(!0):s.target,e5=(t,s)=>{const i=uq(t),u=QF(t,s)?"selection":"point";if(xa(i)){const m=JF(t,s);return eS(Je.fromDom(m),i)?"node":u}else return u},t5=(t,s,i)=>{const m=kt().deviceType.isTouch,b=fc(ia.sketch({dom:{tag:"div"},lazySink:s,onEscape:()=>t.focus(),onShow:()=>i.setContextMenuState(!0),onHide:()=>i.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:Pt([po("dismissContextMenu",[Nt(gu(),(P,V)=>{Uo.close(P),t.focus()})])])})),T=()=>ia.hide(b),I=P=>{if(GF(t)&&P.preventDefault(),Sq(t,P)||qF(t))return;const V=e5(t,P),Z=()=>{const oe=JF(t,P),le=t.ui.registry.getAll(),Ce=jF(t);return Cq(le.contextMenus,Ce,oe)};(m()?Tq:vq)(t,P,Z,i,b,V)};t.on("init",()=>{const P="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(m()?"":" ResizeWindow");t.on(P,T),t.on("longpress contextmenu",I)})},wM=pu.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),Ub=t=>s=>s.translate(-t.left,-t.top),fO=t=>s=>s.translate(t.left,t.top),mv=t=>(s,i)=>vs(t,(u,m)=>m(u),Xn(s,i)),bw=(t,s,i)=>t.fold(mv([fO(i),Ub(s)]),mv([Ub(s)]),mv([])),yw=(t,s,i)=>t.fold(mv([fO(i)]),mv([]),mv([fO(s)])),n5=(t,s,i)=>t.fold(mv([]),mv([Ub(i)]),mv([fO(s),Ub(i)])),Aq=(t,s,i,u,m,b)=>{const T=yw(t,m,b),I=yw(s,m,b);return Math.abs(T.left-I.left)<=i&&Math.abs(T.top-I.top)<=u},Oq=(t,s,i,u,m,b)=>{const T=yw(t,m,b),I=yw(s,m,b),P=Math.abs(T.left-I.left),V=Math.abs(T.top-I.top);return Xn(P,V)},o5=(t,s,i)=>{const u=t.fold((m,b)=>({position:B.some("absolute"),left:B.some(m+"px"),top:B.some(b+"px")}),(m,b)=>({position:B.some("absolute"),left:B.some(m-i.left+"px"),top:B.some(b-i.top+"px")}),(m,b)=>({position:B.some("fixed"),left:B.some(m+"px"),top:B.some(b+"px")}));return{right:B.none(),bottom:B.none(),...u}},Rq=(t,s,i)=>t.fold((u,m)=>hO(u+s,m+i),(u,m)=>Wb(u+s,m+i),(u,m)=>Zy(u+s,m+i)),TM=(t,s,i,u)=>{const m=(b,T)=>(I,P)=>{const V=b(s,i,u);return T(I.getOr(V.left),P.getOr(V.top))};return t.fold(m(n5,hO),m(yw,Wb),m(bw,Zy))},hO=wM.offset,Wb=wM.absolute,Zy=wM.fixed,s5=(t,s)=>{const i=ki(t,s);return re(i)?NaN:parseInt(i,10)},Iq=(t,s)=>{const i=t.element,u=s5(i,s.leftAttr),m=s5(i,s.topAttr);return isNaN(u)||isNaN(m)?B.none():B.some(Xn(u,m))},Dq=(t,s,i)=>{const u=t.element;lo(u,s.leftAttr,i.left+"px"),lo(u,s.topAttr,i.top+"px")},Nq=(t,s)=>{const i=t.element;x(i,s.leftAttr),x(i,s.topAttr)},Mq=(t,s,i,u)=>Iq(t,s).fold(()=>i,m=>Zy(m.left+u.left,m.top+u.top)),kq=(t,s,i,u,m,b)=>{const T=Mq(t,s,i,u),I=s.mustSnap?Lq(t,s,T,m,b):Bq(t,s,T,m,b),P=bw(T,m,b);return Dq(t,s,P),I.fold(()=>({coord:Zy(P.left,P.top),extra:B.none()}),V=>({coord:V.output,extra:V.extra}))},Pq=(t,s)=>{Nq(t,s)},zS=(t,s,i,u)=>or(t,m=>{const b=m.sensor;return Aq(s,b,m.range.left,m.range.top,i,u)?B.some({output:TM(m.output,s,i,u),extra:m.extra}):B.none()}),Lq=(t,s,i,u,m)=>{const b=s.getSnapPoints(t);return zS(b,i,u,m).orThunk(()=>vs(b,(P,V)=>{const Z=V.sensor,ee=Oq(i,Z,V.range.left,V.range.top,u,m);return P.deltas.fold(()=>({deltas:B.some(ee),snap:B.some(V)}),oe=>{const le=(ee.left+ee.top)/2,Ce=(oe.left+oe.top)/2;return le<=Ce?{deltas:B.some(ee),snap:B.some(V)}:P})},{deltas:B.none(),snap:B.none()}).snap.map(P=>({output:TM(P.output,i,u,m),extra:P.extra})))},Bq=(t,s,i,u,m)=>{const b=s.getSnapPoints(t);return zS(b,i,u,m)},$q=(t,s,i)=>({coord:TM(t.output,t.output,s,i),extra:t.extra});var Fq=Object.freeze({__proto__:null,snapTo:(t,s,i,u)=>{const m=s.getTarget(t.element);if(s.repositionTarget){const b=ii(t.element),T=Qt(b),I=UB(m),P=$q(u,T,I),V=o5(P.coord,T,I);_e(m,V)}}});const CM="data-initial-z-index",r5=t=>{Ec(t.element).filter(Ss).each(s=>{Xr(s,CM).fold(()=>rt(s,"z-index"),i=>te(s,"z-index",i)),x(s,CM)})},Hq=t=>{Ec(t.element).filter(Ss).each(s=>{it(s,"z-index").each(i=>{lo(s,CM,i)}),te(s,"z-index",Te(t.element,"z-index"))})},i5=(t,s)=>{t.getSystem().addToGui(s),Hq(s)},Vq=t=>{r5(t),t.getSystem().removeFromGui(t)},a5=(t,s,i)=>t.getSystem().build(cm.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[s]},events:i}));var zq=fn("snaps",[At("getSnapPoints"),Xe("onSensor"),At("leftAttr"),At("topAttr"),Ge("lazyViewport",Na),Ge("mustSnap",!1)]);const US=[Ge("useFixed",Tt),At("blockerClass"),Ge("getTarget",je),Ge("onDrag",Q),Ge("repositionTarget",!0),Ge("onDrop",Q),Ci("getBounds",Na),zq],c5=t=>jd(it(t,"left"),it(t,"top"),it(t,"position"),(s,i,u)=>(u==="fixed"?Zy:hO)(parseInt(s,10),parseInt(i,10))).getOrThunk(()=>{const s=Oo(t);return Wb(s.left,s.top)}),Uq=(t,s,i,u,m)=>{const b=m.bounds,T=yw(s,i,u),I=Ic(T.left,b.x,b.x+b.width-m.width),P=Ic(T.top,b.y,b.y+b.height-m.height),V=Wb(I,P);return s.fold(()=>{const Z=n5(V,i,u);return hO(Z.left,Z.top)},we(V),()=>{const Z=bw(V,i,u);return Zy(Z.left,Z.top)})},Wq=(t,s,i,u,m,b,T)=>{const I=s.fold(()=>{const P=Rq(i,b.left,b.top),V=bw(P,u,m);return Zy(V.left,V.top)},P=>{const V=kq(t,P,i,b,u,m);return V.extra.each(Z=>{P.onSensor(t,Z)}),V.coord});return Uq(t,I,u,m,T)},Gq=(t,s,i,u)=>{const m=s.getTarget(t.element);if(s.repositionTarget){const b=ii(t.element),T=Qt(b),I=UB(m),P=c5(m),V=Wq(t,s.snaps,P,T,I,u,i),Z=o5(V,T,I);_e(m,Z)}s.onDrag(t,m,u)},l5=(t,s)=>({bounds:t.getBounds(),height:ur(s.element),width:Dr(s.element)}),SM=(t,s,i,u,m)=>{const b=i.update(u,m),T=i.getStartData().getOrThunk(()=>l5(s,t));b.each(I=>{Gq(t,s,T,I)})},u5=(t,s,i,u)=>{s.each(Vq),i.snaps.each(b=>{Pq(t,b)});const m=i.getTarget(t.element);u.reset(),i.onDrop(t,m)},xM=t=>(s,i)=>{const u=m=>{i.setStartData(l5(s,m))};return Zs([Nt(Wu(),m=>{i.getStartData().each(()=>u(m))}),...t(s,i,u)])},qq=t=>Zs([Nt(Hi(),t.forceDrop),Nt(Lh(),t.drop),Nt(Cl(),(s,i)=>{t.move(i.event)}),Nt(Ph(),t.delayDrop)]);var jq=Object.freeze({__proto__:null,getData:t=>B.from(Xn(t.x,t.y)),getDelta:(t,s)=>Xn(s.left-t.left,s.top-t.top)});const d5=(t,s,i)=>[Nt(Hi(),(u,m)=>{if(m.event.raw.button!==0)return;m.stop();const T=()=>u5(u,B.some(V),t,s),I=C4(T,200),P={drop:T,delayDrop:I.schedule,forceDrop:T,move:ee=>{I.cancel(),SM(u,t,s,jq,ee)}},V=a5(u,t.blockerClass,qq(P));(()=>{i(u),i5(u,V)})()})],Zq=[...US,tr("dragger",{handlers:xM(d5)})],Yq=t=>Zs([Nt(jl(),t.forceDrop),Nt(kh(),t.drop),Nt(p_(),t.drop),Nt(Bm(),(s,i)=>{t.move(i.event)})]),Kq=t=>{const s=t[0];return B.some(Xn(s.clientX,s.clientY))};var f5=Object.freeze({__proto__:null,getData:t=>{const i=t.raw.touches;return i.length===1?Kq(i):B.none()},getDelta:(t,s)=>Xn(s.left-t.left,s.top-t.top)});const h5=(t,s,i)=>{const u=Ys(),m=b=>{u5(b,u.get(),t,s),u.clear()};return[Nt(jl(),(b,T)=>{T.stop();const I=()=>m(b),P={drop:I,delayDrop:Q,forceDrop:I,move:ee=>{SM(b,t,s,f5,ee)}},V=a5(b,t.blockerClass,Yq(P));u.set(V),(()=>{i(b),i5(b,V)})()}),Nt(Bm(),(b,T)=>{T.stop(),SM(b,t,s,f5,T.event)}),Nt(kh(),(b,T)=>{T.stop(),m(b)}),Nt(p_(),m)]},Xq=[...US,tr("dragger",{handlers:xM(h5)})],Qq=(t,s,i)=>[...d5(t,s,i),...h5(t,s,i)],m5=[...US,tr("dragger",{handlers:xM(Qq)})];var AM=Object.freeze({__proto__:null,mouse:Zq,touch:Xq,mouseOrTouch:m5}),ej=Object.freeze({__proto__:null,init:()=>{let t=B.none(),s=B.none();const i=()=>{t=B.none(),s=B.none()},u=(P,V)=>{const Z=t.map(ee=>P.getDelta(ee,V));return t=B.some(V),Z},m=(P,V)=>P.getData(V).bind(Z=>u(P,Z)),b=P=>{s=B.some(P)},T=()=>s,I=we({});return Oc({readState:I,reset:i,update:m,getStartData:T,setStartData:b})}});const Yy=V_({branchKey:"mode",branches:AM,name:"dragging",active:{events:(t,s)=>t.dragger.handlers(t,s)},extra:{snap:t=>({sensor:t.sensor,range:t.range,output:t.output,extra:B.from(t.extra)})},state:ej,apis:Fq}),RM=40,mO=RM/2,p5=(t,s,i,u,m,b)=>t.fold(()=>Yy.snap({sensor:Wb(i-mO,u-mO),range:Xn(m,b),output:Wb(B.some(i),B.some(u)),extra:{td:s}}),T=>{const I=i-mO,P=u-mO,V=RM,Z=RM,ee=T.element.dom.getBoundingClientRect();return Yy.snap({sensor:Wb(I,P),range:Xn(V,Z),output:Wb(B.some(i-ee.width/2),B.some(u-ee.height/2)),extra:{td:s}})}),Gb=(t,s,i)=>{const u=(m,b)=>m.exists(T=>ys(T,b));return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(m,b)=>{const T=b.td;u(s.get(),T)||(s.set(T),i(T))},mustSnap:!0}},IM=t=>Wo(jc.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Pt([Yy.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),rS.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),tj=(t,s)=>{const i=Gn([]),u=Gn([]),m=Gn(!1),b=Ys(),T=Ys(),I=un=>{const On=gl(un);return p5(le.getOpt(s),un,On.x,On.y,On.width,On.height)},P=()=>tt(i.get(),un=>I(un)),V=un=>{const On=gl(un);return p5(Ce.getOpt(s),un,On.right,On.bottom,On.width,On.height)},Z=()=>tt(u.get(),un=>V(un)),ee=Gb(P,b,un=>{T.get().each(On=>{t.dispatch("TableSelectorChange",{start:un,finish:On})})}),oe=Gb(Z,T,un=>{b.get().each(On=>{t.dispatch("TableSelectorChange",{start:On,finish:un})})}),le=IM(ee),Ce=IM(oe),ke=fc(le.asSpec()),st=fc(Ce.asSpec()),Ue=(un,On,$o,Hn)=>{const ko=On.dom.getBoundingClientRect();rt(un.element,"display");const so=Du(Je.fromDom(t.getBody())).dom.innerHeight,Do=$o(ko),Qn=Hn(ko,so);(Do||Qn)&&te(un.element,"display","none")},ot=(un,On,$o,Hn)=>{const ko=$o(On);Yy.snapTo(un,ko),Ue(un,On,Qn=>Qn[Hn]<0,(Qn,Os)=>Qn[Hn]>Os)},ft=un=>ot(ke,un,I,"top"),vt=()=>b.get().each(ft),Jt=un=>ot(st,un,V,"bottom"),Lt=()=>T.get().each(Jt);kt().deviceType.isTouch()&&(t.on("TableSelectionChange",un=>{m.get()||(Qh(s,ke),Qh(s,st),m.set(!0)),b.set(un.start),T.set(un.finish),un.otherCells.each(On=>{i.set(On.upOrLeftCells),u.set(On.downOrRightCells),ft(un.start),Jt(un.finish)})}),t.on("ResizeEditor ResizeWindow ScrollContent",()=>{vt(),Lt()}),t.on("TableSelectionClear",()=>{m.get()&&(Jh(ke),Jh(st),m.set(!1)),b.clear(),T.clear()}))};var nj=`<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>
</svg>
`;const oj=t=>t.nodeName==="BR"||!!t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark",sj=(t,s,i)=>{var u;const m=(u=s.delimiter)!==null&&u!==void 0?u:"›",b=(V,Z,ee)=>jc.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":ee,"aria-level":ee+1}},components:[Sr(V)],action:oe=>{t.focus(),t.selection.select(Z),t.nodeChanged()},buttonBehaviours:Pt([am.button(i.isDisabled),Ya()])}),T=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Sr(` ${m} `)]}),I=V=>vs(V,(Z,ee,oe)=>{const le=b(ee.name,ee.element,oe);return oe===0?Z.concat([le]):Z.concat([T(),le])},[]),P=V=>{const Z=[];let ee=V.length;for(;ee-- >0;){const oe=V[ee];if(oe.nodeType===1&&!oj(oe)){const le=$A(t,oe);if(le.isDefaultPrevented()||Z.push({name:le.name,element:oe}),le.isPropagationStopped())break}}return Z};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Pt([Fn.config({mode:"flow",selector:"div[role=button]"}),oo.config({disabled:i.isDisabled}),Ya(),mi.config({}),uo.config({}),po("elementPathEvents",[Cr((V,Z)=>{t.shortcuts.add("alt+F11","focus statusbar elementpath",()=>Fn.focusIn(V)),t.on("NodeChange",ee=>{const oe=P(ee.parents),le=oe.length>0?I(oe):[];uo.set(V,le)})})])]),components:[]}};var Ky;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(Ky||(Ky={}));const rj=(t,s,i,u,m)=>{const b={height:eO(u+s.top,RC(t),cA(t))};return i===Ky.Both&&(b.width=eO(m+s.left,iA(t),aA(t))),b},g5=(t,s,i)=>{const u=Je.fromDom(t.getContainer()),m=rj(t,s,i,Cn(u),dr(u));Kr(m,(b,T)=>{ae(b)&&te(u,T,aM(b))}),o8(t)},ij=t=>{const s=PP(t);return s===!1?Ky.None:s==="both"?Ky.Both:Ky.Vertical},Ew=(t,s,i,u)=>{const b=Xn(i*20,u*20);return g5(t,b,s),B.some(!0)},WS=(t,s)=>{const i=ij(t);return i===Ky.None?B.none():B.some(sh("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:s.translate("Resize")},behaviours:[Yy.config({mode:"mouse",repositionTarget:!1,onDrag:(u,m,b)=>g5(t,b,i),blockerClass:"tox-blocker"}),Fn.config({mode:"special",onLeft:()=>Ew(t,i,-1,0),onRight:()=>Ew(t,i,1,0),onUp:()=>Ew(t,i,0,-1),onDown:()=>Ew(t,i,0,1)}),mi.config({}),Zn.config({})]},s.icons))},DM=(t,s)=>{const i=(u,m,b)=>uo.set(u,[Sr(s.translate(["{0} "+b,m[b]]))]);return jc.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Pt([am.button(s.isDisabled),Ya(),mi.config({}),uo.config({}),hn.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),po("wordcount-events",[Yl(u=>{const m=hn.getValue(u),b=m.mode==="words"?"characters":"words";hn.setValue(u,{mode:b,count:m.count}),i(u,m.count,b)}),Cr(u=>{t.on("wordCountUpdate",m=>{const{mode:b}=hn.getValue(u);hn.setValue(u,{mode:b,count:m.wordCount}),i(u,m.wordCount,b)})})])]),eventOrder:{[Ws()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},pO=(t,s)=>{const i=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6",rel:"noopener",target:"_blank","aria-label":Cf.translate(["Powered by {0}","Tiny"])},innerHtml:nj.trim()},behaviours:Pt([Zn.config({})])}]}),u=()=>{const b=[];return MP(t)&&b.push(sj(t,{},s)),t.hasPlugin("wordcount")&&b.push(DM(t,s)),kP(t)&&b.push(i()),b.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:b}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const b=u(),T=WS(t,s);return b.concat(T.toArray())})()}},qb=(t,s)=>s.get().getOrDie(`UI for ${t} has not been rendered`),gO=(t,s)=>{const i=t.inline,u=i?PG:RG,m=WE(t)?$W:zB,b=LG(),T=Ys(),I=Ys(),P=Ys(),oe=kt().deviceType.isTouch()?["tox-platform-touch"]:[],le=fI(t),Ce=VE(t),ke=Wo({dom:{tag:"div",classes:["tox-anchorbar"]}}),st=()=>b.mainUi.get().map(vn=>vn.outerContainer).bind(Or.getHeader),Ue=()=>io.fromOption(b.dialogUi.get().map(vn=>vn.sink),"UI has not been rendered"),ot=()=>io.fromOption(b.popupUi.get().map(vn=>vn.sink),"(popup) UI has not been rendered"),ft=b.lazyGetInOuterOrDie("anchor bar",ke.getOpt),vt=b.lazyGetInOuterOrDie("toolbar",Or.getToolbar),Jt=b.lazyGetInOuterOrDie("throbber",Or.getThrobber),Lt=fW({popup:ot,dialog:Ue},t,ft),un=()=>{const vn={attributes:{[F1]:le?gf.BottomToTop:gf.TopToBottom}},Kn=Or.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:Lt.popup,onEscape:()=>{t.focus()}}),wo=Or.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:Lt.popup.shared.getSink,providers:Lt.popup.shared.providers,onEscape:()=>{t.focus()},onToolbarToggled:CO=>{s8(t,CO)},type:Ce,lazyToolbar:vt,lazyHeader:()=>st().getOrDie("Could not find header element"),...vn}),es=Or.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:Lt.popup.shared.providers,onEscape:()=>{t.focus()},type:Ce}),ca=UE(t),ws=zE(t),ru=Dg(t),gi=BP(t),mh=On(),ym=ca||ws||ru,vv=()=>ca?[es]:ws?[wo]:[],XS=gi?[mh,Kn]:[Kn];return Or.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(ym?[]:["tox-editor-header--empty"]),...vn},components:Kt([ru?XS:[],vv(),wy(t)?[]:[ke.asSpec()]]),sticky:WE(t),editor:t,sharedBackstage:Lt.popup.shared})},On=()=>Or.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),$o=()=>{const vn=Or.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Kn=Or.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[vn,Kn]}},Hn=()=>{const vn=NC(t),Kn=ys(Ji(),vn)&&Te(vn,"display")==="grid",wo={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(oe),attributes:{...Cf.isRtl()?{dir:"rtl"}:{}}},behaviours:Pt([Gs.config({useFixed:()=>m.isDocked(st)})])},es={dom:{styles:{width:document.body.clientWidth+"px"}},events:Zs([Nt(Uf(),ru=>{te(ru.element,"width",document.body.clientWidth+"px")})])},ca=fc(er(wo,Kn?es:{})),ws=hD(ca);return I.set(ws),{sink:ca,mothership:ws}},ko=()=>{const vn={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(oe),attributes:{...Cf.isRtl()?{dir:"rtl"}:{}}},behaviours:Pt([Gs.config({useFixed:()=>m.isDocked(st),getBounds:()=>s.getPopupSinkBounds()})])},Kn=fc(vn),wo=hD(Kn);return P.set(wo),{sink:Kn,mothership:wo}},so=()=>{const vn=un(),Kn=$o(),wo=Or.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:Lt.popup}),es=Or.parts.viewWrapper({backstage:Lt.popup}),ca=NP(t)&&!i?B.some(pO(t,Lt.popup.shared.providers)):B.none(),ws=Kt([le?[]:[vn],i?[]:[Kn],le?[vn]:[]]),ru=Or.parts.editorContainer({components:Kt([ws,i?[]:ca.toArray()])}),gi=mI(t),mh={role:"application",...Cf.isRtl()?{dir:"rtl"}:{},...gi?{"aria-hidden":"true"}:{}},ym=fc(Or.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(i?["tox-tinymce-inline"]:[]).concat(le?["tox-tinymce--toolbar-bottom"]:[]).concat(oe),styles:{visibility:"hidden",...gi?{opacity:"0",border:"0"}:{}},attributes:mh},components:[ru,...i?[]:[es],wo],behaviours:Pt([Ya(),oo.config({disableClass:"tox-tinymce--disabled"}),Fn.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),vv=hD(ym);return T.set(vv),{mothership:vv,outerContainer:ym}},Do=vn=>{const Kn=aM(DG(t)),wo=aM(NG(t));return t.inline||(Xt("div","width",wo)&&te(vn.element,"width",wo),Xt("div","height",Kn)?te(vn.element,"height",Kn):te(vn.element,"height","400px")),Kn},Qn=vn=>{t.addShortcut("alt+F9","focus menubar",()=>{Or.focusMenubar(vn)}),t.addShortcut("alt+F10","focus toolbar",()=>{Or.focusToolbar(vn)}),t.addCommand("ToggleToolbarDrawer",(Kn,wo)=>{wo!=null&&wo.skipFocus?Or.toggleToolbarDrawerWithoutFocusing(vn):Or.toggleToolbarDrawer(vn)}),t.addQueryStateHandler("ToggleToolbarDrawer",()=>Or.isToolbarDrawerToggled(vn))},Os=vn=>{const{mainUi:Kn,popupUi:wo,uiMotherships:es}=vn;ks(lA(t),(n_,VM)=>{t.ui.registry.addGroupToolbarButton(VM,n_)});const{buttons:ca,menuItems:ws,contextToolbars:ru,sidebars:gi,views:mh}=t.ui.registry.getAll(),ym=dI(t),vv={menuItems:ws,menus:GE(t),menubar:xP(t),toolbar:ym.getOrThunk(()=>fA(t)),allowToolbarGroups:Ce===Sf.floating,buttons:ca,sidebar:gi,views:mh};Qn(Kn.outerContainer),hW(t,Kn.mothership,es),m.setup(t,Lt.popup.shared,st),vM(t,Lt.popup),t5(t,Lt.popup.shared.getSink,Lt.popup),GW(t),r9(t,Jt,Lt.popup.shared),qG(t,ru,wo.sink,{backstage:Lt.popup}),tj(t,wo.sink);const XS=t.getElement(),CO=Do(Kn.outerContainer),xw={targetNode:XS,height:CO};return u.render(t,vn,vv,Lt.popup,xw)},Gt=vn=>(P.set(vn.mothership),vn),xn=()=>{const vn=so(),Kn=Hn(),wo=Rb(t)?ko():Gt(Kn);b.dialogUi.set(Kn),b.popupUi.set(wo),b.mainUi.set(vn);const es={popupUi:wo,dialogUi:Kn,mainUi:vn,uiMotherships:b.getUiMotherships()};return Os(es)};return{popups:{backstage:Lt.popup,getMothership:()=>qb("popups",P)},dialogs:{backstage:Lt.dialog,getMothership:()=>qb("dialogs",I)},renderUI:xn}},aj=(t,s)=>{const i=B.from(ki(t,"id")).fold(()=>{const u=En("dialog-describe");return lo(s,"id",u),u},je);lo(t,"aria-describedby",i)},v5=(t,s)=>{const i=Xr(t,"id").fold(()=>{const u=En("dialog-label");return lo(s,"id",u),u},je);lo(t,"aria-labelledby",i)},b5=we([At("lazySink"),Ko("dragBlockClass"),Ci("getBounds",Na),Ge("useTabstopAt",Rt),Ge("firstTabstop",0),Ge("eventOrder",{}),Za("modalBehaviours",[Fn]),xr("onExecute"),T0("onEscape")]),vO={sketch:je},cj=we([Nd({name:"draghandle",overrides:(t,s)=>({behaviours:Pt([Yy.config({mode:"mouse",getTarget:i=>Ol(i,'[role="dialog"]').getOr(i),blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(s,null,2)).message),getBounds:t.getDragBounds})])})}),Ba({schema:[At("dom")],name:"title"}),Ba({factory:vO,schema:[At("dom")],name:"close"}),Ba({factory:vO,schema:[At("dom")],name:"body"}),Nd({factory:vO,schema:[At("dom")],name:"footer"}),Ef({factory:{sketch:(t,s)=>({...t,dom:s.dom,components:s.components})},schema:[Ge("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Ge("components",[])],name:"blocker"})]),lj=(t,s,i,u)=>{const m=Ys(),b=le=>{m.set(le);const Ce=t.lazySink(le).getOrDie(),ke=u.blocker(),st=Ce.getSystem().build({...ke,components:ke.components.concat([il(le)]),behaviours:Pt([Zn.config({}),po("dialog-blocker-events",[ja(Vf(),()=>{Fn.focusIn(le)})])])});Qh(Ce,st),Fn.focusIn(le)},T=le=>{m.clear(),Ec(le.element).each(Ce=>{le.getSystem().getByDom(Ce).each(ke=>{Jh(ke)})})},I=le=>om(le,t,"body"),P=le=>om(le,t,"footer"),V=(le,Ce)=>{Fb.block(le,Ce)},Z=le=>{Fb.unblock(le)},ee=En("modal-events"),oe={...t.eventOrder,[rf()]:[ee].concat(t.eventOrder["alloy.system.attached"]||[])};return{uid:t.uid,dom:t.dom,components:s,apis:{show:b,hide:T,getBody:I,getFooter:P,setIdle:Z,setBusy:V},eventOrder:oe,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Pr(t.modalBehaviours,[uo.config({}),Fn.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt,firstTabstop:t.firstTabstop}),Fb.config({getRoot:m.get}),po(ee,[Cr(le=>{v5(le.element,om(le,t,"title").element),aj(le.element,om(le,t,"body").element)})])])}},Ka=xi({name:"ModalDialog",configFields:b5(),partFields:cj(),factory:lj,apis:{show:(t,s)=>{t.show(s)},hide:(t,s)=>{t.hide(s)},getBody:(t,s)=>t.getBody(s),getFooter:(t,s)=>t.getFooter(s),setBusy:(t,s,i)=>{t.setBusy(s,i)},setIdle:(t,s)=>{t.setIdle(s)}}}),y5=Ln([aa,xI].concat(Nb)),_5=bd,GS=[DI("button"),rm,Vr("align","end",["start","end"]),$C,im,Ve("buttonType",["primary","secondary"])],E5=[...GS,iv],NM=[ql("type",["submit","cancel","custom"]),...E5],uj=[ql("type",["menu"]),av,TA,rm,Fi("items",y5),...GS],w5=[...GS,ql("type",["togglebutton"]),Gr("tooltip"),wA,av,ui("active",!1)],dj=sr("type",{submit:NM,cancel:NM,custom:NM,menu:uj,togglebutton:w5}),fj=[aa,iv,ql("level",["info","warn","error","success"]),wA,Ge("url","")],hj=Ln(fj),MM=t=>[aa,t],kM=[aa,iv,im,DI("button"),rm,iL,Ve("buttonType",["primary","secondary","toolbar"]),$C],mj=Ln(kM),Xy=[aa,xI],Ip=Xy.concat([RI]),pj=Xy.concat([Ib,im]),T5=Ln(pj),gj=bd,vj=Ip.concat([II("auto")]),Qy=Ln(vj),C5=jp([qE,iv,wA]),bj=Ip.concat([na("storageKey","default")]),bO=Ln(bj),ww=Nr,S5=Ln(Ip),yO=Nr,od=Xy.concat([na("tag","textarea"),Gr("scriptId"),Gr("scriptUrl"),nf("settings",void 0)]),_O=Xy.concat([na("tag","textarea"),ac("init")]),x5=ef(t=>ns("customeditor.old",ga(_O),t).orThunk(()=>ns("customeditor.new",ga(od),t))),A5=Nr,yj=Ln(Ip),jb=yd(),HK=t=>[aa,Ff("columns"),t],_j=[aa,Gr("html"),Vr("presets","presentation",["presentation","document"])],O5=Ln(_j),Tw=Ip.concat([ui("sandboxed",!0),ui("transparent",!0)]),EO=Ln(Tw),R5=Nr,Ej=Ln(Xy.concat([me("height")])),wj=Ln([Gr("url"),H("zoom"),H("cachedWidth"),H("cachedHeight")]),Tj=Ip.concat([me("inputMode"),me("placeholder"),ui("maximized",!1),im]),Cj=Ln(Tj),Cw=Nr,VK=t=>[aa,Ib,t],Sj=[iv,qE],xj=[iv,Fi("items",tf("items",()=>Aj))],Aj=Nm([Ln(Sj),Ln(xj)]),Oj=Ip.concat([Fi("items",Aj),im]),Rj=Ln(Oj),qS=Nr,Ij=Ip.concat([Yp("items",[iv,qE]),li("size",1),im]),Dj=Ln(Ij),I5=Nr,Nj=Ip.concat([ui("constrain",!0),im]),zK=Ln(Nj),e=Ln([Gr("width"),Gr("height")]),n=Xy.concat([Ib,li("min",0),li("max",0)]),o=Ln(n),r=zu,l=[aa,Fi("header",Nr),Fi("cells",on(Nr))],h=Ln(l),v=Ip.concat([me("placeholder"),ui("maximized",!1),im]),A=Ln(v),R=Nr,F=[ql("type",["directory","leaf"]),sL,Gr("id"),$e("menu",L2)],K=Ln(F),ie=F.concat([Fi("children",tf("children",()=>Ga("type",{directory:Ae,leaf:K})))]),Ae=Ln(ie),Ie=Ga("type",{directory:Ae,leaf:K}),ye=[aa,Fi("items",Ie),Ht("onLeafAction")],Oe=Ln(ye),ze=Ip.concat([Vr("filetype","file",["image","media","file"]),im]),Fe=Ln(ze),Ke=Ln([qE,xy]),at=t=>Zr("items","items",Ua(),on(ef(s=>ns(`Checking item of ${t}`,xt,s).fold(i=>io.error(Sc(i)),i=>io.value(i))))),xt=qp(()=>Ga("type",{alertbanner:hj,bar:Ln(MM(at("bar"))),button:mj,checkbox:T5,colorinput:bO,colorpicker:S5,dropzone:yj,grid:Ln(HK(at("grid"))),iframe:EO,input:Cj,listbox:Rj,selectbox:Dj,sizeinput:zK,slider:o,textarea:A,urlinput:Fe,customeditor:x5,htmlpanel:O5,imagepreview:Ej,collection:Qy,label:Ln(VK(at("label"))),table:h,tree:Oe,panel:Zt})),sn=[aa,Ge("classes",[]),Fi("items",xt)],Zt=Ln(sn),mt=[DI("tab"),sL,Fi("items",xt)],ht=[aa,Yp("tabs",mt)],yn=Ln(ht),Bn=E5,qn=dj,To=Ln([Gr("title"),wl("body",Ga("type",{panel:Zt,tabpanel:yn})),na("size","normal"),Fi("buttons",qn),Ge("initialData",{}),Ci("onAction",Q),Ci("onChange",Q),Ci("onSubmit",Q),Ci("onClose",Q),Ci("onCancel",Q),Ci("onTabChange",Q)]),Jo=t=>ns("dialog",To,t),Ns=Ln([ql("type",["cancel","custom"]),...Bn]),cr=Ln([Gr("title"),Gr("url"),H("height"),H("width"),Dn("buttons",Ns),Ci("onAction",Q),Ci("onCancel",Q),Ci("onClose",Q),Ci("onMessage",Q)]),Ii=t=>ns("dialog",cr,t),Pc=t=>k(t)?[t].concat(pt(_h(t),Pc)):q(t)?pt(t,Pc):[],Xa=t=>D(t.type)&&D(t.name),qt={checkbox:gj,colorinput:ww,colorpicker:yO,dropzone:jb,input:Cw,iframe:R5,imagepreview:wj,selectbox:I5,sizeinput:e,slider:r,listbox:qS,size:e,textarea:R,urlinput:Ke,customeditor:A5,collection:C5,togglemenuitem:_5},In=t=>B.from(qt[t.type]),ms=t=>fo(Pc(t),Xa),dn=t=>{const s=ms(t),i=pt(s,u=>In(u).fold(()=>[],m=>[wl(u.name,m)]));return Ln(i)},zn=t=>{var s;const i=Lo(Jo(t)),u=dn(t),m=(s=t.initialData)!==null&&s!==void 0?s:{};return{internalDialog:i,dataValidator:u,initialData:m}},Wn={open:(t,s)=>{const i=zn(s);return t(i.internalDialog,i.initialData,i.dataValidator)},openUrl:(t,s)=>{const i=Lo(Ii(s));return t(i)},redial:t=>zn(t)};var Go=Object.freeze({__proto__:null,events:(t,s)=>{const i=(u,m)=>{t.updateState.each(b=>{const T=b(u,m);s.set(T)}),t.renderComponents.each(b=>{const T=b(m,s.get());(t.reuseDom?Vk:eA)(u,T)})};return Zs([Nt(zf(),(u,m)=>{const b=m;if(!b.universal){const T=t.channel;bo(b.channels,T)&&i(u,b.data)}}),Cr((u,m)=>{t.initialData.each(b=>{i(u,b)})})])}}),gc=Object.freeze({__proto__:null,getState:(t,s,i)=>i}),zr=[At("channel"),Ko("renderComponents"),Ko("updateState"),Ko("initialData"),ui("reuseDom",!0)],gs=Object.freeze({__proto__:null,init:()=>{const t=Gn(B.none()),s=()=>t.set(B.none());return{readState:()=>t.get().getOr("none"),get:t.get,set:t.set,clear:s}}});const Xs=_a({fields:zr,name:"reflecting",active:Go,apis:gc,state:gs}),lr=t=>{const s=[],i={};return Kr(t,(u,m)=>{u.fold(()=>{s.push(m)},b=>{i[m]=b})}),s.length>0?io.error(s):io.value(i)},pi=(t,s,i)=>{const u=Wo(iw.sketch(m=>({dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:tt(t.items,b=>dN(m,b,s,i))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[u.asSpec()]}],behaviours:Pt([Fn.config({mode:"acyclic",useTabstopAt:Pe(fS)}),fm.memento(u),Ri.memento(u,{postprocess:m=>lr(m).fold(b=>(console.error(b),{}),je)})])}},Yi=(t,s)=>({uid:t.uid,dom:t.dom,components:t.components,events:tA(t.action),behaviours:Pr(t.tabButtonBehaviours,[Zn.config({}),Fn.config({mode:"execution",useSpace:!0,useEnter:!0}),hn.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}),jr=ji({name:"TabButton",configFields:[Ge("uid",void 0),At("value"),Zr("dom","dom",Im(()=>({attributes:{role:"tab",id:En("aria"),"aria-selected":"false"}})),El()),Ko("action"),Ge("domModification",{}),Za("tabButtonBehaviours",[Zn,Fn,hn]),At("view")],factory:Yi}),Ta=we([At("tabs"),At("dom"),Ge("clickToDismiss",!1),Za("tabbarBehaviours",[ps,Fn]),bu(["tabClass","selectedClass"])]),lh=uy({factory:jr,name:"tabs",unit:"tab",overrides:t=>{const s=(u,m)=>{ps.dehighlight(u,m),kn(u,Hm(),{tabbar:u,button:m})},i=(u,m)=>{ps.highlight(u,m),kn(u,Fm(),{tabbar:u,button:m})};return{action:u=>{const m=u.getSystem().getByUid(t.uid).getOrDie(),b=ps.isHighlighted(m,u);(()=>b&&t.clickToDismiss?s:b?Q:i)()(m,u)},domModification:{classes:[t.markers.tabClass]}}}}),dl=we([lh]),Dp=(t,s,i,u)=>({uid:t.uid,dom:t.dom,components:s,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Pr(t.tabbarBehaviours,[ps.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:(m,b)=>{lo(b.element,"aria-selected","true")},onDehighlight:(m,b)=>{lo(b.element,"aria-selected","false")}}),Fn.config({mode:"flow",getInitial:m=>ps.getHighlighted(m).map(b=>b.element),selector:"."+t.markers.tabClass,executeOnMove:!0})])}),Hd=xi({name:"Tabbar",configFields:Ta(),partFields:dl(),factory:Dp}),Jy=(t,s)=>({uid:t.uid,dom:t.dom,behaviours:Pr(t.tabviewBehaviours,[uo.config({})]),domModification:{attributes:{role:"tabpanel"}}}),e_=ji({name:"Tabview",configFields:[Za("tabviewBehaviours",[uo])],factory:Jy}),Np=we([Ge("selectFirst",!0),Xe("onChangeTab"),Xe("onDismissTab"),Ge("tabs",[]),Za("tabSectionBehaviours",[])]),vm=Ba({factory:Hd,schema:[At("dom"),cc("markers",[At("tabClass"),At("selectedClass")])],name:"tabbar",defaults:t=>({tabs:t.tabs})}),Fa=Ba({factory:e_,name:"tabview"}),uh=we([vm,Fa]),Mp=(t,s,i,u)=>{const m=T=>{const I=hn.getValue(T);ir(T,t,"tabview").each(P=>{Pn(t.tabs,Z=>Z.value===I).each(Z=>{const ee=Z.view();Xr(T.element,"id").each(oe=>{lo(P.element,"aria-labelledby",oe)}),uo.set(P,ee),t.onChangeTab(P,T,ee)})})},b=(T,I)=>{ir(T,t,"tabbar").each(P=>{I(P).each(af)})};return{uid:t.uid,dom:t.dom,components:s,behaviours:TE(t.tabSectionBehaviours),events:Zs(Kt([t.selectFirst?[Cr((T,I)=>{b(T,ps.getFirst)})]:[],[Nt(Fm(),(T,I)=>{const P=I.event.button;m(P)}),Nt(Hm(),(T,I)=>{const P=I.event.button;t.onDismissTab(T,P)})]])),apis:{getViewItems:T=>ir(T,t,"tabview").map(I=>uo.contents(I)).getOr([]),showTab:(T,I)=>{b(T,V=>{const Z=ps.getCandidates(V);return Pn(Z,oe=>hn.getValue(oe)===I).filter(oe=>!ps.isHighlighted(V,oe))})}}}},su=xi({name:"TabSection",configFields:Np(),partFields:uh(),factory:Mp,apis:{getViewItems:(t,s)=>t.getViewItems(s),showTab:(t,s,i)=>{t.showTab(s,i)}}}),dh=(t,s,i)=>tt(t,(u,m)=>{uo.set(i,t[m].view());const b=s.dom.getBoundingClientRect();return uo.set(i,[]),b.height}),qg=t=>Ir(Lc(t,(s,i)=>s>i?-1:s<i?1:0)),kl=(t,s,i)=>{const u=el(t).dom,m=Ol(t,".tox-dialog-wrap").getOr(t),b=Te(m,"position")==="fixed";let T;b?T=Math.max(u.clientHeight,window.innerHeight):T=Math.max(u.offsetHeight,u.scrollHeight);const I=Cn(s),V=s.dom.offsetLeft>=i.dom.offsetLeft+dr(i)?Math.max(Cn(i),I):I,Z=parseInt(Te(t,"margin-top"),10)||0,ee=parseInt(Te(t,"margin-bottom"),10)||0,le=Cn(t)+Z+ee-V;return T-le},pv=(t,s)=>{Ir(t).each(i=>su.showTab(s,i.value))},kp=(t,s)=>{te(t,"height",s+"px"),te(t,"flex-basis",s+"px")},Vd=(t,s,i)=>{Ol(t,'[role="dialog"]').each(u=>{Mr(u,'[role="tablist"]').each(m=>{i.get().map(b=>(te(s,"height","0"),te(s,"flex-basis","0"),Math.min(b,kl(u,s,m)))).each(b=>{kp(s,b)})})})},jg=t=>Mr(t,'[role="tabpanel"]'),jS=t=>{const s=Ys();return{extraEvents:[Cr(m=>{const b=m.element;jg(b).each(T=>{te(T,"visibility","hidden"),m.getSystem().getByDom(T).toOptional().each(I=>{const P=dh(t,T,I);qg(P).fold(s.clear,s.set)}),Vd(b,T,s),rt(T,"visibility"),pv(t,m),requestAnimationFrame(()=>{Vd(b,T,s)})})}),Nt(Uf(),m=>{const b=m.element;jg(b).each(T=>{Vd(b,T,s)})}),Nt(B4,(m,b)=>{const T=m.element;jg(T).each(I=>{const P=Od(Oa(I));te(I,"visibility","hidden");const V=it(I,"height").map(oe=>parseInt(oe,10));rt(I,"height"),rt(I,"flex-basis");const Z=I.dom.getBoundingClientRect().height;V.forall(oe=>Z>oe)?(s.set(Z),Vd(T,I,s)):V.each(oe=>{kp(I,oe)}),rt(I,"visibility"),P.each(al)})})],selectFirst:!1}},wO="send-data-to-section",ZS="send-data-to-view",LM=(t,s,i)=>{const u=Gn({}),m=V=>{const Z=hn.getValue(V),ee=lr(Z).getOr({}),oe=u.get(),le=er(oe,ee);u.set(le)},b=V=>{const Z=u.get();hn.setValue(V,Z)},T=Gn(null),I=tt(t.tabs,V=>({value:V.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Sr(i.shared.providers.translate(V.title))],view:()=>[iw.sketch(Z=>({dom:{tag:"div",classes:["tox-form"]},components:tt(V.items,ee=>dN(Z,ee,s,i)),formBehaviours:Pt([Fn.config({mode:"acyclic",useTabstopAt:Pe(fS)}),po("TabView.form.events",[Cr(b),Ac(m)]),yu.config({channels:xc([{key:wO,value:{onReceive:m}},{key:ZS,value:{onReceive:b}}])})])}))]})),P=jS(I);return su.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(V,Z,ee)=>{const oe=hn.getValue(Z);kn(V,L4,{name:oe,oldName:T.get()}),T.set(oe)},tabs:I,components:[su.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[Hd.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Pt([mi.config({})])}),su.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:P.selectFirst,tabSectionBehaviours:Pt([po("tabpanel",P.extraEvents),Fn.config({mode:"acyclic"}),Qo.config({find:V=>Ir(su.getViewItems(V))}),Ri.withComp(B.none(),V=>(V.getSystem().broadcastOn([wO],{}),u.get()),(V,Z)=>{u.set(Z),V.getSystem().broadcastOn([ZS],{})})])})},YS=En("update-dialog"),BM=En("update-title"),bm=En("update-body"),t_=En("update-footer"),ct=En("body-send-message"),lt=(t,s,i,u,m)=>{const b=P=>{const V=P.body;switch(V.type){case"tabpanel":return[LM(V,P.initialData,u)];default:return[pi(V,P.initialData,u)]}},T=(P,V)=>B.some({isTabPanel:()=>V.body.type==="tabpanel"}),I={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...i.map(P=>({id:P})).getOr({}),...m?I:{}}},components:[],behaviours:Pt([fm.childAt(0),Xs.config({channel:`${bm}-${s}`,updateState:T,renderComponents:b,initialData:t})])}},Yt=(t,s,i,u,m)=>lt(t,s,B.some(i),u,m),Wt=(t,s,i)=>{const u=lt(t,s,B.none(),i,!1);return Ka.parts.body(u)},Vn=t=>{const s={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[S3({dom:{tag:"iframe",attributes:{src:t.url}},behaviours:Pt([mi.config({}),Zn.config({})])})]}],behaviours:Pt([Fn.config({mode:"acyclic",useTabstopAt:Pe(fS)})])};return Ka.parts.body(s)};function jo(t){return jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},jo(t)}function vr(t,s){return vr=Object.setPrototypeOf||function(u,m){return u.__proto__=m,u},vr(t,s)}function Lr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zg(t,s,i){return Lr()?Zg=Reflect.construct:Zg=function(m,b,T){var I=[null];I.push.apply(I,b);var P=Function.bind.apply(m,I),V=new P;return T&&vr(V,T.prototype),V},Zg.apply(null,arguments)}function zd(t){return D5(t)||N5(t)||Mj(t)||bt()}function D5(t){if(Array.isArray(t))return Ao(t)}function N5(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mj(t,s){if(t){if(typeof t=="string")return Ao(t,s);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ao(t,s)}}function Ao(t,s){(s==null||s>t.length)&&(s=t.length);for(var i=0,u=new Array(s);i<s;i++)u[i]=t[i];return u}function bt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Rn=Object.hasOwnProperty,ao=Object.setPrototypeOf,Ki=Object.isFrozen,If=Object.getPrototypeOf,sd=Object.getOwnPropertyDescriptor,ni=Object.freeze,fh=Object.seal,Au=Object.create,$M=typeof Reflect<"u"&&Reflect,TO=$M.apply,FM=$M.construct;TO||(TO=function(s,i,u){return s.apply(i,u)}),ni||(ni=function(s){return s}),fh||(fh=function(s){return s}),FM||(FM=function(s,i){return Zg(s,zd(i))});var UK=gv(Array.prototype.forEach),Kte=gv(Array.prototype.pop),HM=gv(Array.prototype.push),M5=gv(String.prototype.toLowerCase),Xte=gv(String.prototype.match),Sw=gv(String.prototype.replace),Qte=gv(String.prototype.indexOf),Jte=gv(String.prototype.trim),hh=gv(RegExp.prototype.test),kj=ene(TypeError);function gv(t){return function(s){for(var i=arguments.length,u=new Array(i>1?i-1:0),m=1;m<i;m++)u[m-1]=arguments[m];return TO(t,s,u)}}function ene(t){return function(){for(var s=arguments.length,i=new Array(s),u=0;u<s;u++)i[u]=arguments[u];return FM(t,i)}}function Rr(t,s){ao&&ao(t,null);for(var i=s.length;i--;){var u=s[i];if(typeof u=="string"){var m=M5(u);m!==u&&(Ki(s)||(s[i]=m),u=m)}t[u]=!0}return t}function KS(t){var s=Au(null),i;for(i in t)TO(Rn,t,[i])&&(s[i]=t[i]);return s}function k5(t,s){for(;t!==null;){var i=sd(t,s);if(i){if(i.get)return gv(i.get);if(typeof i.value=="function")return gv(i.value)}t=If(t)}function u(m){return console.warn("fallback value for",m),null}return u}var WK=ni(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Pj=ni(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Lj=ni(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),tne=ni(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Bj=ni(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),nne=ni(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),GK=ni(["#text"]),qK=ni(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),$j=ni(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),jK=ni(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),P5=ni(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),one=fh(/\{\{[\w\W]*|[\w\W]*\}\}/gm),sne=fh(/<%[\w\W]*|[\w\W]*%>/gm),rne=fh(/^data-[\-\w.\u00B7-\uFFFF]/),ine=fh(/^aria-[\-\w]+$/),ane=fh(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),cne=fh(/^(?:\w+script|data):/i),lne=fh(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),une=fh(/^html$/i),dne=function(){return typeof window>"u"?null:window},fne=function(s,i){if(jo(s)!=="object"||typeof s.createPolicy!="function")return null;var u=null,m="data-tt-policy-suffix";i.currentScript&&i.currentScript.hasAttribute(m)&&(u=i.currentScript.getAttribute(m));var b="dompurify"+(u?"#"+u:"");try{return s.createPolicy(b,{createHTML:function(I){return I}})}catch{return console.warn("TrustedTypes policy "+b+" could not be created."),null}};function ZK(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:dne(),s=function(yt){return ZK(yt)};if(s.version="2.3.8",s.removed=[],!t||!t.document||t.document.nodeType!==9)return s.isSupported=!1,s;var i=t.document,u=t.document,m=t.DocumentFragment,b=t.HTMLTemplateElement,T=t.Node,I=t.Element,P=t.NodeFilter,V=t.NamedNodeMap,Z=V===void 0?t.NamedNodeMap||t.MozNamedAttrMap:V,ee=t.HTMLFormElement,oe=t.DOMParser,le=t.trustedTypes,Ce=I.prototype,ke=k5(Ce,"cloneNode"),st=k5(Ce,"nextSibling"),Ue=k5(Ce,"childNodes"),ot=k5(Ce,"parentNode");if(typeof b=="function"){var ft=u.createElement("template");ft.content&&ft.content.ownerDocument&&(u=ft.content.ownerDocument)}var vt=fne(le,i),Jt=vt?vt.createHTML(""):"",Lt=u,un=Lt.implementation,On=Lt.createNodeIterator,$o=Lt.createDocumentFragment,Hn=Lt.getElementsByTagName,ko=i.importNode,so={};try{so=KS(u).documentMode?u.documentMode:{}}catch{}var Do={};s.isSupported=typeof ot=="function"&&un&&typeof un.createHTMLDocument<"u"&&so!==9;var Qn=one,Os=sne,Gt=rne,xn=ine,vn=cne,Kn=lne,wo=ane,es=null,ca=Rr({},[].concat(zd(WK),zd(Pj),zd(Lj),zd(Bj),zd(GK))),ws=null,ru=Rr({},[].concat(zd(qK),zd($j),zd(jK),zd(P5))),gi=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),mh=null,ym=null,vv=!0,XS=!0,CO=!1,xw=!1,n_=!1,VM=!1,Uj=!1,SO=!1,L5=!1,B5=!1,pX=!0,Wj=!0,zM=!1,xO={},AO=null,gX=Rr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),vX=null,bX=Rr({},["audio","video","img","source","image","track"]),Gj=null,yX=Rr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),qj="http://www.w3.org/1998/Math/MathML",jj="http://www.w3.org/2000/svg",Aw="http://www.w3.org/1999/xhtml",$5=Aw,Zj=!1,OO,Fne=["application/xhtml+xml","text/html"],Hne="text/html",QS,RO=null,Vne=u.createElement("form"),_X=function(yt){return yt instanceof RegExp||yt instanceof Function},Yj=function(yt){RO&&RO===yt||((!yt||jo(yt)!=="object")&&(yt={}),yt=KS(yt),es="ALLOWED_TAGS"in yt?Rr({},yt.ALLOWED_TAGS):ca,ws="ALLOWED_ATTR"in yt?Rr({},yt.ALLOWED_ATTR):ru,Gj="ADD_URI_SAFE_ATTR"in yt?Rr(KS(yX),yt.ADD_URI_SAFE_ATTR):yX,vX="ADD_DATA_URI_TAGS"in yt?Rr(KS(bX),yt.ADD_DATA_URI_TAGS):bX,AO="FORBID_CONTENTS"in yt?Rr({},yt.FORBID_CONTENTS):gX,mh="FORBID_TAGS"in yt?Rr({},yt.FORBID_TAGS):{},ym="FORBID_ATTR"in yt?Rr({},yt.FORBID_ATTR):{},xO="USE_PROFILES"in yt?yt.USE_PROFILES:!1,vv=yt.ALLOW_ARIA_ATTR!==!1,XS=yt.ALLOW_DATA_ATTR!==!1,CO=yt.ALLOW_UNKNOWN_PROTOCOLS||!1,xw=yt.SAFE_FOR_TEMPLATES||!1,n_=yt.WHOLE_DOCUMENT||!1,SO=yt.RETURN_DOM||!1,L5=yt.RETURN_DOM_FRAGMENT||!1,B5=yt.RETURN_TRUSTED_TYPE||!1,Uj=yt.FORCE_BODY||!1,pX=yt.SANITIZE_DOM!==!1,Wj=yt.KEEP_CONTENT!==!1,zM=yt.IN_PLACE||!1,wo=yt.ALLOWED_URI_REGEXP||wo,$5=yt.NAMESPACE||Aw,yt.CUSTOM_ELEMENT_HANDLING&&_X(yt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(gi.tagNameCheck=yt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),yt.CUSTOM_ELEMENT_HANDLING&&_X(yt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(gi.attributeNameCheck=yt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),yt.CUSTOM_ELEMENT_HANDLING&&typeof yt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(gi.allowCustomizedBuiltInElements=yt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),OO=Fne.indexOf(yt.PARSER_MEDIA_TYPE)===-1?OO=Hne:OO=yt.PARSER_MEDIA_TYPE,QS=OO==="application/xhtml+xml"?function(Nn){return Nn}:M5,xw&&(XS=!1),L5&&(SO=!0),xO&&(es=Rr({},zd(GK)),ws=[],xO.html===!0&&(Rr(es,WK),Rr(ws,qK)),xO.svg===!0&&(Rr(es,Pj),Rr(ws,$j),Rr(ws,P5)),xO.svgFilters===!0&&(Rr(es,Lj),Rr(ws,$j),Rr(ws,P5)),xO.mathMl===!0&&(Rr(es,Bj),Rr(ws,jK),Rr(ws,P5))),yt.ADD_TAGS&&(es===ca&&(es=KS(es)),Rr(es,yt.ADD_TAGS)),yt.ADD_ATTR&&(ws===ru&&(ws=KS(ws)),Rr(ws,yt.ADD_ATTR)),yt.ADD_URI_SAFE_ATTR&&Rr(Gj,yt.ADD_URI_SAFE_ATTR),yt.FORBID_CONTENTS&&(AO===gX&&(AO=KS(AO)),Rr(AO,yt.FORBID_CONTENTS)),Wj&&(es["#text"]=!0),n_&&Rr(es,["html","head","body"]),es.table&&(Rr(es,["tbody"]),delete mh.tbody),ni&&ni(yt),RO=yt)},EX=Rr({},["mi","mo","mn","ms","mtext"]),wX=Rr({},["foreignobject","desc","title","annotation-xml"]),zne=Rr({},["title","style","font","a","script"]),F5=Rr({},Pj);Rr(F5,Lj),Rr(F5,tne);var Kj=Rr({},Bj);Rr(Kj,nne);var Une=function(yt){var Nn=ot(yt);(!Nn||!Nn.tagName)&&(Nn={namespaceURI:Aw,tagName:"template"});var vo=M5(yt.tagName),Ca=M5(Nn.tagName);return yt.namespaceURI===jj?Nn.namespaceURI===Aw?vo==="svg":Nn.namespaceURI===qj?vo==="svg"&&(Ca==="annotation-xml"||EX[Ca]):!!F5[vo]:yt.namespaceURI===qj?Nn.namespaceURI===Aw?vo==="math":Nn.namespaceURI===jj?vo==="math"&&wX[Ca]:!!Kj[vo]:yt.namespaceURI===Aw?Nn.namespaceURI===jj&&!wX[Ca]||Nn.namespaceURI===qj&&!EX[Ca]?!1:!Kj[vo]&&(zne[vo]||!F5[vo]):!1},o_=function(yt){HM(s.removed,{element:yt});try{yt.parentNode.removeChild(yt)}catch{try{yt.outerHTML=Jt}catch{yt.remove()}}},H5=function(yt,Nn){try{HM(s.removed,{attribute:Nn.getAttributeNode(yt),from:Nn})}catch{HM(s.removed,{attribute:null,from:Nn})}if(Nn.removeAttribute(yt),yt==="is"&&!ws[yt])if(SO||L5)try{o_(Nn)}catch{}else try{Nn.setAttribute(yt,"")}catch{}},TX=function(yt){var Nn,vo;if(Uj)yt="<remove></remove>"+yt;else{var Ca=Xte(yt,/^[\r\n\t ]+/);vo=Ca&&Ca[0]}OO==="application/xhtml+xml"&&(yt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+yt+"</body></html>");var _m=vt?vt.createHTML(yt):yt;if($5===Aw)try{Nn=new oe().parseFromString(_m,OO)}catch{}if(!Nn||!Nn.documentElement){Nn=un.createDocument($5,"template",null);try{Nn.documentElement.innerHTML=Zj?"":_m}catch{}}var Df=Nn.body||Nn.documentElement;return yt&&vo&&Df.insertBefore(u.createTextNode(vo),Df.childNodes[0]||null),$5===Aw?Hn.call(Nn,n_?"html":"body")[0]:n_?Nn.documentElement:Df},CX=function(yt){return On.call(yt.ownerDocument||yt,yt,P.SHOW_ELEMENT|P.SHOW_COMMENT|P.SHOW_TEXT,null,!1)},Wne=function(yt){return yt instanceof ee&&(typeof yt.nodeName!="string"||typeof yt.textContent!="string"||typeof yt.removeChild!="function"||!(yt.attributes instanceof Z)||typeof yt.removeAttribute!="function"||typeof yt.setAttribute!="function"||typeof yt.namespaceURI!="string"||typeof yt.insertBefore!="function")},UM=function(yt){return jo(T)==="object"?yt instanceof T:yt&&jo(yt)==="object"&&typeof yt.nodeType=="number"&&typeof yt.nodeName=="string"},s_=function(yt,Nn,vo){Do[yt]&&UK(Do[yt],function(Ca){Ca.call(s,Nn,vo,RO)})},SX=function(yt){var Nn;if(s_("beforeSanitizeElements",yt,null),Wne(yt)||hh(/[\u0080-\uFFFF]/,yt.nodeName))return o_(yt),!0;var vo=QS(yt.nodeName);if(s_("uponSanitizeElement",yt,{tagName:vo,allowedTags:es}),yt.hasChildNodes()&&!UM(yt.firstElementChild)&&(!UM(yt.content)||!UM(yt.content.firstElementChild))&&hh(/<[/\w]/g,yt.innerHTML)&&hh(/<[/\w]/g,yt.textContent)||vo==="select"&&hh(/<template/i,yt.innerHTML))return o_(yt),!0;if(!es[vo]||mh[vo]){if(!mh[vo]&&AX(vo)&&(gi.tagNameCheck instanceof RegExp&&hh(gi.tagNameCheck,vo)||gi.tagNameCheck instanceof Function&&gi.tagNameCheck(vo)))return!1;if(Wj&&!AO[vo]){var Ca=ot(yt)||yt.parentNode,_m=Ue(yt)||yt.childNodes;if(_m&&Ca)for(var Df=_m.length,Ud=Df-1;Ud>=0;--Ud)Ca.insertBefore(ke(_m[Ud],!0),st(yt))}return o_(yt),!0}return yt instanceof I&&!Une(yt)||(vo==="noscript"||vo==="noembed")&&hh(/<\/no(script|embed)/i,yt.innerHTML)?(o_(yt),!0):(xw&&yt.nodeType===3&&(Nn=yt.textContent,Nn=Sw(Nn,Qn," "),Nn=Sw(Nn,Os," "),yt.textContent!==Nn&&(HM(s.removed,{element:yt.cloneNode()}),yt.textContent=Nn)),s_("afterSanitizeElements",yt,null),!1)},xX=function(yt,Nn,vo){if(pX&&(Nn==="id"||Nn==="name")&&(vo in u||vo in Vne))return!1;if(!(XS&&!ym[Nn]&&hh(Gt,Nn))){if(!(vv&&hh(xn,Nn))){if(!ws[Nn]||ym[Nn]){if(!(AX(yt)&&(gi.tagNameCheck instanceof RegExp&&hh(gi.tagNameCheck,yt)||gi.tagNameCheck instanceof Function&&gi.tagNameCheck(yt))&&(gi.attributeNameCheck instanceof RegExp&&hh(gi.attributeNameCheck,Nn)||gi.attributeNameCheck instanceof Function&&gi.attributeNameCheck(Nn))||Nn==="is"&&gi.allowCustomizedBuiltInElements&&(gi.tagNameCheck instanceof RegExp&&hh(gi.tagNameCheck,vo)||gi.tagNameCheck instanceof Function&&gi.tagNameCheck(vo))))return!1}else if(!Gj[Nn]){if(!hh(wo,Sw(vo,Kn,""))){if(!((Nn==="src"||Nn==="xlink:href"||Nn==="href")&&yt!=="script"&&Qte(vo,"data:")===0&&vX[yt])){if(!(CO&&!hh(vn,Sw(vo,Kn,"")))){if(vo)return!1}}}}}}return!0},AX=function(yt){return yt.indexOf("-")>0},OX=function(yt){var Nn,vo,Ca,_m;s_("beforeSanitizeAttributes",yt,null);var Df=yt.attributes;if(Df){var Ud={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ws};for(_m=Df.length;_m--;){Nn=Df[_m];var V5=Nn,Wd=V5.name,RX=V5.namespaceURI;vo=Wd==="value"?Nn.value:Jte(Nn.value),Ca=QS(Wd);var qne=vo;if(Ud.attrName=Ca,Ud.attrValue=vo,Ud.keepAttr=!0,Ud.forceKeepAttr=void 0,s_("uponSanitizeAttribute",yt,Ud),vo=Ud.attrValue,!Ud.forceKeepAttr){if(!Ud.keepAttr){H5(Wd,yt);continue}if(hh(/\/>/i,vo)){H5(Wd,yt);continue}xw&&(vo=Sw(vo,Qn," "),vo=Sw(vo,Os," "));var jne=QS(yt.nodeName);if(!xX(jne,Ca,vo)){H5(Wd,yt);continue}if(vo!==qne)try{RX?yt.setAttributeNS(RX,Wd,vo):yt.setAttribute(Wd,vo)}catch{H5(Wd,yt)}}}s_("afterSanitizeAttributes",yt,null)}},Gne=function Zo(yt){var Nn,vo=CX(yt);for(s_("beforeSanitizeShadowDOM",yt,null);Nn=vo.nextNode();)s_("uponSanitizeShadowNode",Nn,null),!SX(Nn)&&(Nn.content instanceof m&&Zo(Nn.content),OX(Nn));s_("afterSanitizeShadowDOM",yt,null)};return s.sanitize=function(Zo,yt){var Nn,vo,Ca,_m,Df;if(Zj=!Zo,Zj&&(Zo="<!-->"),typeof Zo!="string"&&!UM(Zo)){if(typeof Zo.toString!="function")throw kj("toString is not a function");if(Zo=Zo.toString(),typeof Zo!="string")throw kj("dirty is not a string, aborting")}if(!s.isSupported){if(jo(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof Zo=="string")return t.toStaticHTML(Zo);if(UM(Zo))return t.toStaticHTML(Zo.outerHTML)}return Zo}if(VM||Yj(yt),s.removed=[],typeof Zo=="string"&&(zM=!1),zM){if(Zo.nodeName){var Ud=QS(Zo.nodeName);if(!es[Ud]||mh[Ud])throw kj("root node is forbidden and cannot be sanitized in-place")}}else if(Zo instanceof T)Nn=TX("<!---->"),vo=Nn.ownerDocument.importNode(Zo,!0),vo.nodeType===1&&vo.nodeName==="BODY"||vo.nodeName==="HTML"?Nn=vo:Nn.appendChild(vo);else{if(!SO&&!xw&&!n_&&Zo.indexOf("<")===-1)return vt&&B5?vt.createHTML(Zo):Zo;if(Nn=TX(Zo),!Nn)return SO?null:B5?Jt:""}Nn&&Uj&&o_(Nn.firstChild);for(var V5=CX(zM?Zo:Nn);Ca=V5.nextNode();)Ca.nodeType===3&&Ca===_m||SX(Ca)||(Ca.content instanceof m&&Gne(Ca.content),OX(Ca),_m=Ca);if(_m=null,zM)return Zo;if(SO){if(L5)for(Df=$o.call(Nn.ownerDocument);Nn.firstChild;)Df.appendChild(Nn.firstChild);else Df=Nn;return ws.shadowroot&&(Df=ko.call(i,Df,!0)),Df}var Wd=n_?Nn.outerHTML:Nn.innerHTML;return n_&&es["!doctype"]&&Nn.ownerDocument&&Nn.ownerDocument.doctype&&Nn.ownerDocument.doctype.name&&hh(une,Nn.ownerDocument.doctype.name)&&(Wd="<!DOCTYPE "+Nn.ownerDocument.doctype.name+`>
`+Wd),xw&&(Wd=Sw(Wd,Qn," "),Wd=Sw(Wd,Os," ")),vt&&B5?vt.createHTML(Wd):Wd},s.setConfig=function(Zo){Yj(Zo),VM=!0},s.clearConfig=function(){RO=null,VM=!1},s.isValidAttribute=function(Zo,yt,Nn){RO||Yj({});var vo=QS(Zo),Ca=QS(yt);return xX(vo,Ca,Nn)},s.addHook=function(Zo,yt){typeof yt=="function"&&(Do[Zo]=Do[Zo]||[],HM(Do[Zo],yt))},s.removeHook=function(Zo){if(Do[Zo])return Kte(Do[Zo])},s.removeHooks=function(Zo){Do[Zo]&&(Do[Zo]=[])},s.removeAllHooks=function(){Do={}},s}var hne=ZK();const mne=t=>hne().sanitize(t),pne=rv.deviceType.isTouch(),YK=(t,s)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,s]}),KK=(t,s)=>Ka.parts.close(jc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close")}},action:t,buttonBehaviours:Pt([mi.config({})])})),XK=()=>Ka.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),QK=(t,s)=>Ka.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:hv(`<p>${mne(s.translate(t))}</p>`)}]}]}),JK=t=>Ka.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t}),eX=(t,s)=>[cm.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),cm.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:s})],Fj=t=>{const s="tox-dialog",i=s+"-wrap",u=i+"__backdrop",m=s+"__disable-scroll";return Ka.sketch({lazySink:t.lazySink,onEscape:b=>(t.onEscape(b),B.some(!0)),useTabstopAt:b=>!fS(b),firstTabstop:t.firstTabstop,dom:{tag:"div",classes:[s].concat(t.extraClasses),styles:{position:"relative",...t.extraStyles}},components:[t.header,t.body,...t.footer.toArray()],parts:{blocker:{dom:hv(`<div class="${i}"></div>`),components:[{dom:{tag:"div",classes:pne?[u,u+"--opaque"]:[u]}}]}},dragBlockClass:i,modalBehaviours:Pt([Zn.config({}),po("dialog-events",t.dialogEvents.concat([ja(Vf(),(b,T)=>{Fn.focusIn(b)})])),po("scroll-lock",[Cr(()=>{As(Ji(),m)}),Ac(()=>{Bs(Ji(),m)})]),...t.extraBehaviours]),eventOrder:{[Ws()]:["dialog-events"],[rf()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Gu()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...t.eventOrder}})},tX=t=>jc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},buttonBehaviours:Pt([mi.config({})]),components:[sh("close",{tag:"div",classes:["tox-icon"]},t.icons)],action:s=>{rs(s,ky)}}),nX=(t,s,i,u)=>{const m=b=>[Sr(u.translate(b.title))];return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...i.map(b=>({id:b})).getOr({})}},components:[],behaviours:Pt([Xs.config({channel:`${BM}-${s}`,initialData:t,renderComponents:m})])}},oX=()=>({dom:hv('<div class="tox-dialog__draghandle"></div>')}),gne=(t,s,i,u)=>cm.sketch({dom:hv('<div class="tox-dialog__header"></div>'),components:[nX(t,s,B.some(i),u),oX(),tX(u)],containerBehaviours:Pt([Yy.config({mode:"mouse",blockerClass:"blocker",getTarget:m=>hf(m,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}),vne=(t,s,i)=>{const u=Ka.parts.title(nX(t,s,B.none(),i)),m=Ka.parts.draghandle(oX()),b=Ka.parts.close(tX(i)),T=[u].concat(t.draggable?[m]:[]).concat([b]);return cm.sketch({dom:hv('<div class="tox-dialog__header"></div>'),components:T})},sX=(t,s,i)=>vne({title:i.shared.providers.translate(t),draggable:i.dialog.isDraggableModal()},s,i.shared.providers),rX=(t,s,i)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":i.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:s,components:[{dom:hv('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),iX=(t,s,i)=>({onClose:()=>i.closeWindow(),onBlock:u=>{Ka.setBusy(t(),(m,b)=>rX(u.message,b,s))},onUnblock:()=>{Ka.setIdle(t())}}),aX=(t,s,i,u)=>{const m=(b,T)=>B.some(T);return fc(Fj({...t,firstTabstop:1,lazySink:u.shared.getSink,extraBehaviours:[Xs.config({channel:`${YS}-${t.id}`,updateState:m,initialData:s}),Ri.memory({}),...t.extraBehaviours],onEscape:b=>{rs(b,ky)},dialogEvents:i,eventOrder:{[zf()]:[Xs.name(),yu.name()],[rf()]:["scroll-lock",Xs.name(),"messages","dialog-events","alloy.base.behaviour"],[Gu()]:["alloy.base.behaviour","dialog-events","messages",Xs.name(),"scroll-lock"]}}))},Hj=(t,s={})=>{const i=u=>{const m=tt(u.items,b=>{const T=cn(s,b.name).getOr(Gn(!1));return{...b,storage:T}});return{...u,items:m}};return tt(t,u=>u.type==="menu"?i(u):u)},cX=t=>vs(t,(s,i)=>i.type==="menu"?vs(i.items,(m,b)=>(m[b.name]=b.storage,m),s):s,{}),lX=(t,s)=>[og(Vf(),Mz),t(oS,(i,u,m,b)=>{Od(Oa(b.element)).fold(Q,k1),s.onClose(),u.onClose()}),t(ky,(i,u,m,b)=>{u.onCancel(i),rs(b,oS)}),Nt(pD,(i,u)=>s.onUnblock()),Nt(mD,(i,u)=>s.onBlock(u.event))],Vj={initUrlDialog:(t,s)=>{const i=(m,b)=>Nt(m,(T,I)=>{u(T,(P,V)=>{b(t(),P,I.event,T)})}),u=(m,b)=>{Xs.getState(m).get().each(T=>{b(T,m)})};return[...lX(i,s),i(kg,(m,b,T)=>{b.onAction(m,{name:T.name})})]},initDialog:(t,s,i)=>{const u=(b,T)=>Nt(b,(I,P)=>{m(I,(V,Z)=>{T(t(),V,P.event,I)})}),m=(b,T)=>{Xs.getState(b).get().each(I=>{T(I.internalDialog,b)})};return[...lX(u,s),u(sS,(b,T)=>T.onSubmit(b)),u(Ld,(b,T,I)=>{T.onChange(b,{name:I.name})}),u(kg,(b,T,I,P)=>{const V=()=>Fn.focusIn(P),Z=le=>ua(le,"disabled")||Xr(le,"aria-disabled").exists(Ce=>Ce==="true"),ee=Oa(P.element),oe=Od(ee);T.onAction(b,{name:I.name,value:I.value}),Od(ee).fold(V,le=>{Z(le)||oe.exists(Ce=>tc(le,Ce)&&Z(Ce))?V():i().toOptional().filter(Ce=>!tc(Ce.element,le)).each(V)})}),u(L4,(b,T,I)=>{T.onTabChange(b,{newTabName:I.name,oldTabName:I.oldName})}),Ac(b=>{const T=t();hn.setValue(b,T.getData())})]}},bne=(t,s)=>yS(t,t.type,s),yne=(t,s,i)=>Pn(s,u=>u.name===i).bind(u=>u.memento.getOpt(t)),_ne=(t,s)=>{const i=s.map(I=>I.footerButtons).getOr([]),u=ls(i,I=>I.align==="start"),m=(I,P)=>cm.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${I}`]},components:tt(P,V=>V.memento.asSpec())}),b=m("start",u.pass),T=m("end",u.fail);return[b,T]},uX=(t,s,i)=>{const u=(m,b)=>{const T=tt(b.buttons,P=>{const V=Wo(bne(P,i));return{name:P.name,align:P.align,memento:V}}),I=P=>yne(m,T,P);return B.some({lookupByName:I,footerButtons:T})};return{dom:hv('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Pt([Xs.config({channel:`${t_}-${s}`,initialData:t,updateState:u,renderComponents:_ne})])}},Ene=(t,s,i)=>uX(t,s,i),dX=(t,s,i)=>Ka.parts.footer(uX(t,s,i)),fX=(t,s)=>{if(t.getRoot().getSystem().isConnected()){const u=Qo.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return iw.getField(u,s).orThunk(()=>{const m=t.getFooter();return Xs.getState(m).get().bind(T=>T.lookupByName(s))})}else return B.none()},wne=(t,s)=>{const i=t.getRoot();return Xs.getState(i).get().map(u=>Lo(ns("data",u.dataValidator,s))).getOr(s)},hX=(t,s,i)=>{const u=Ce=>{const ke=t.getRoot();ke.getSystem().isConnected()&&Ce(ke)},le={getData:()=>{const Ce=t.getRoot(),ke=Ce.getSystem().isConnected()?t.getFormWrapper():Ce,st=hn.getValue(ke),Ue=ks(i,ot=>ot.get());return{...st,...Ue}},setData:Ce=>{u(ke=>{const st=le.getData(),Ue=er(st,Ce),ot=wne(t,Ue),ft=t.getFormWrapper();hn.setValue(ft,ot),Kr(i,(vt,Jt)=>{Vo(Ue,Jt)&&vt.set(Ue[Jt])})})},setEnabled:(Ce,ke)=>{fX(t,Ce).each(ke?oo.enable:oo.disable)},focus:Ce=>{fX(t,Ce).each(Zn.focus)},block:Ce=>{if(!D(Ce))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");u(ke=>{kn(ke,mD,{message:Ce})})},unblock:()=>{u(Ce=>{rs(Ce,pD)})},showTab:Ce=>{u(ke=>{const st=t.getBody();Xs.getState(st).get().exists(ot=>ot.isTabPanel())&&Qo.getCurrent(st).each(ot=>{su.showTab(ot,Ce)})})},redial:Ce=>{u(ke=>{const st=t.getId(),Ue=s(Ce),ot=Hj(Ue.internalDialog.buttons,i);ke.getSystem().broadcastOn([`${YS}-${st}`],Ue),ke.getSystem().broadcastOn([`${BM}-${st}`],Ue.internalDialog),ke.getSystem().broadcastOn([`${bm}-${st}`],Ue.internalDialog),ke.getSystem().broadcastOn([`${t_}-${st}`],{...Ue.internalDialog,buttons:ot}),le.setData(Ue.initialData)})},close:()=>{u(Ce=>{rs(Ce,oS)})},toggleFullscreen:t.toggleFullscreen};return le},Tne=t=>{switch(t){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},Cne=(t,s,i)=>{const u=En("dialog"),m=t.internalDialog,b=sX(m.title,u,i),T=Wt({body:m.body,initialData:m.initialData},u,i),I=Hj(m.buttons),P=cX(I),V=dX({buttons:I},u,i),Z=Vj.initDialog(()=>ke,iX(()=>le,i.shared.providers,s),i.shared.getSink),ee=Tne(m.size),oe={id:u,header:b,body:T,footer:B.some(V),extraClasses:ee,extraBehaviours:[],extraStyles:{}},le=aX(oe,t,Z,i),Ce=(()=>{const st=()=>{const ot=Ka.getBody(le);return Qo.getCurrent(ot).getOr(ot)},Ue=()=>{const ot="tox-dialog--fullscreen",ft=Je.fromDom(le.element.dom);sa(ft,ot)?(Bs(ft,ot),vu(ft,ee)):(Wc(ft,ee),As(ft,ot))};return{getId:we(u),getRoot:we(le),getBody:()=>Ka.getBody(le),getFooter:()=>Ka.getFooter(le),getFormWrapper:st,toggleFullscreen:Ue}})(),ke=hX(Ce,s.redial,P);return{dialog:le,instanceApi:ke}},Sne=(t,s,i,u)=>{const m=En("dialog"),b=En("dialog-label"),T=En("dialog-content"),I=t.internalDialog,P=(ft,vt)=>B.some(vt),V=Wo(gne({title:I.title,draggable:!0},m,b,i.shared.providers)),Z=Wo(Yt({body:I.body,initialData:I.initialData},m,T,i,u)),ee=Hj(I.buttons),oe=cX(ee),le=Wo(Ene({buttons:ee},m,i)),Ce=Vj.initDialog(()=>ot,{onBlock:ft=>{Fb.block(st,(vt,Jt)=>rX(ft.message,Jt,i.shared.providers))},onUnblock:()=>{Fb.unblock(st)},onClose:()=>s.closeWindow()},i.shared.getSink),ke="tox-dialog-inline",st=fc({dom:{tag:"div",classes:["tox-dialog",ke],attributes:{role:"dialog",["aria-labelledby"]:b,["aria-describedby"]:T}},eventOrder:{[zf()]:[Xs.name(),yu.name()],[Ws()]:["execute-on-form"],[rf()]:["reflecting","execute-on-form"]},behaviours:Pt([Fn.config({mode:"cyclic",onEscape:ft=>(rs(ft,oS),B.some(!0)),useTabstopAt:ft=>!fS(ft)&&(ec(ft)!=="button"||ki(ft,"disabled")!=="disabled"),firstTabstop:1}),Xs.config({channel:`${YS}-${m}`,updateState:P,initialData:t}),Zn.config({}),po("execute-on-form",Ce.concat([ja(Vf(),(ft,vt)=>{Fn.focusIn(ft)})])),Fb.config({getRoot:()=>B.some(st)}),uo.config({}),Ri.memory({})]),components:[V.asSpec(),Z.asSpec(),le.asSpec()]}),Ue=()=>{const ft="tox-dialog--fullscreen",vt=Je.fromDom(st.element.dom);Uh(vt,[ft])?(Wc(vt,[ft]),vu(vt,[ke])):(Wc(vt,[ke]),vu(vt,[ft]))},ot=hX({getId:we(m),getRoot:we(st),getFooter:()=>le.get(st),getBody:()=>Z.get(st),getFormWrapper:()=>{const ft=Z.get(st);return Qo.getCurrent(ft).getOr(ft)},toggleFullscreen:Ue},s.redial,oe);return{dialog:st,instanceApi:ot}};var zj=tinymce.util.Tools.resolve("tinymce.util.URI");const xne=t=>{const s=T=>{t.getSystem().isConnected()&&T(t)};return{block:T=>{if(!D(T))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(I=>{kn(I,mD,{message:T})})},unblock:()=>{s(T=>{rs(T,pD)})},close:()=>{s(T=>{rs(T,oS)})},sendMessage:T=>{s(I=>{I.getSystem().broadcastOn([ct],T)})}}},Ane=["insertContent","setContent","execCommand","close","block","unblock"],mX=t=>k(t)&&Ane.indexOf(t.mceAction)!==-1,One=t=>!mX(t)&&k(t)&&Vo(t,"mceAction"),Rne=(t,s,i)=>{switch(i.mceAction){case"insertContent":t.insertContent(i.content);break;case"setContent":t.setContent(i.content);break;case"execCommand":const u=fe(i.ui)?i.ui:!1;t.execCommand(i.cmd,u,i.value);break;case"close":s.close();break;case"block":s.block(i.message);break;case"unblock":s.unblock();break}},Ine=(t,s,i,u)=>{const m=En("dialog"),b=sX(t.title,m,u),T=Vn(t),I=t.buttons.bind(ot=>ot.length===0?B.none():B.some(dX({buttons:ot},m,u))),P=Vj.initUrlDialog(()=>Ue,iX(()=>st,u.shared.providers,s)),V={...t.height.fold(()=>({}),ot=>({height:ot+"px","max-height":ot+"px"})),...t.width.fold(()=>({}),ot=>({width:ot+"px","max-width":ot+"px"}))},Z=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],ee=new zj(t.url,{base_uri:new zj(window.location.href)}),oe=`${ee.protocol}://${ee.host}${ee.port?":"+ee.port:""}`,le=Eu(),Ce=[po("messages",[Cr(()=>{const ot=Nc(Je.fromDom(window),"message",ft=>{if(ee.isSameOrigin(new zj(ft.raw.origin))){const vt=ft.raw.data;mX(vt)?Rne(i,Ue,vt):One(vt)&&t.onMessage(Ue,vt)}});le.set(ot)}),Ac(le.clear)]),yu.config({channels:{[ct]:{onReceive:(ot,ft)=>{Mr(ot.element,"iframe").each(vt=>{const Jt=vt.dom.contentWindow;ue(Jt)&&Jt.postMessage(ft,oe)})}}}})],st=aX({id:m,header:b,body:T,footer:I,extraClasses:Z,extraBehaviours:Ce,extraStyles:V},t,P,u),Ue=xne(st);return{dialog:st,instanceApi:Ue}},Dne=t=>{const s=t.shared;return{open:(u,m)=>{const b=()=>{Ka.hide(V),m()},T=Wo(yS({name:"close-alert",text:"OK",primary:!0,buttonType:B.some("primary"),align:"end",enabled:!0,icon:B.none()},"cancel",t)),I=XK(),P=KK(b,s.providers),V=fc(Fj({lazySink:()=>s.getSink(),header:YK(I,P),body:QK(u,s.providers),footer:B.some(JK(eX([],[T.asSpec()]))),onEscape:b,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Nt(ky,b)],eventOrder:{}}));Ka.show(V);const Z=T.get(V);Zn.focus(Z)}}},Nne=t=>{const s=t.shared;return{open:(u,m)=>{const b=oe=>{Ka.hide(Z),m(oe)},T=Wo(yS({name:"yes",text:"Yes",primary:!0,buttonType:B.some("primary"),align:"end",enabled:!0,icon:B.none()},"submit",t)),I=yS({name:"no",text:"No",primary:!1,buttonType:B.some("secondary"),align:"end",enabled:!0,icon:B.none()},"cancel",t),P=XK(),V=KK(()=>b(!1),s.providers),Z=fc(Fj({lazySink:()=>s.getSink(),header:YK(P,V),body:QK(u,s.providers),footer:B.some(JK(eX([],[I,T.asSpec()]))),onEscape:()=>b(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Nt(ky,()=>b(!1)),Nt(sS,()=>b(!0))],eventOrder:{}}));Ka.show(Z);const ee=T.get(Z);Zn.focus(ee)}}},Mne=(t,s)=>Lo(ns("data",s,t)),kne=t=>eS(t,".tox-alert-dialog")||eS(t,".tox-confirm-dialog"),Pne=(t,s,i)=>s&&i?[]:[$a.config({contextual:{lazyContext:()=>B.some(ts(Je.fromDom(t.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:u=>Oi(t,u.element).map(b=>({bounds:GA(b),optScrollEnv:B.some({currentScrollTop:b.element.dom.scrollTop,scrollElmTop:Oo(b.element).top})})).getOrThunk(()=>({bounds:Na(),optScrollEnv:B.none()}))})],Lne=t=>{const s=t.editor,i=WE(s),u=Dne(t.backstages.dialog),m=Nne(t.backstages.dialog),b=(le,Ce,ke)=>Ce!==void 0&&Ce.inline==="toolbar"?V(le,t.backstages.popup.shared.anchors.inlineDialog(),ke,Ce.ariaAttrs):Ce!==void 0&&Ce.inline==="cursor"?V(le,t.backstages.popup.shared.anchors.cursor(),ke,Ce.ariaAttrs):P(le,ke),T=(le,Ce)=>I(le,Ce),I=(le,Ce)=>{const ke=st=>{const Ue=Ine(st,{closeWindow:()=>{Ka.hide(Ue.dialog),Ce(Ue.instanceApi)}},s,t.backstages.dialog);return Ka.show(Ue.dialog),Ue.instanceApi};return Wn.openUrl(ke,le)},P=(le,Ce)=>{const ke=(st,Ue,ot)=>{const ft=Ue,Jt=Cne({dataValidator:ot,initialData:ft,internalDialog:st},{redial:Wn.redial,closeWindow:()=>{Ka.hide(Jt.dialog),Ce(Jt.instanceApi)}},t.backstages.dialog);return Ka.show(Jt.dialog),Jt.instanceApi.setData(ft),Jt.instanceApi};return Wn.open(ke,le)},V=(le,Ce,ke,st=!1)=>{const Ue=(ot,ft,vt)=>{const Jt=Mne(ft,vt),Lt=Ys(),un=t.backstages.popup.shared.header.isPositionedAtTop(),On={dataValidator:vt,initialData:Jt,internalDialog:ot},$o=()=>Lt.on(Do=>{ia.reposition(Do),$a.refresh(Do)}),Hn=Sne(On,{redial:Wn.redial,closeWindow:()=>{Lt.on(ia.hide),s.off("ResizeEditor",$o),Lt.clear(),ke(Hn.instanceApi)}},t.backstages.popup,st),ko=fc(ia.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{},...un?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Pt([po("window-manager-inline-events",[Nt(gu(),(Do,Qn)=>{rs(Hn.dialog,ky)})]),...Pne(s,i,un)]),isExtraPart:(Do,Qn)=>kne(Qn)}));Lt.set(ko);const so=()=>{const Do=s.inline?Ji():Je.fromDom(s.getContainer()),Qn=ts(Do);return B.some(Qn)};return ia.showWithinBounds(ko,il(Hn.dialog),{anchor:Ce},so),(!i||!un)&&($a.refresh(ko),s.on("ResizeEditor",$o)),Hn.instanceApi.setData(Jt),Fn.focusIn(Hn.dialog),Hn.instanceApi};return Wn.open(Ue,le)};return{open:b,openUrl:T,alert:(le,Ce)=>{u.open(le,Ce)},close:le=>{le.close()},confirm:(le,Ce)=>{m.open(le,Ce)}}},Bne=t=>{bP(t),Op(t),lq(t)};var $ne=()=>{Kd.add("silver",t=>{Bne(t);let s=()=>Na();const{dialogs:i,popups:u,renderUI:m}=gO(t,{getPopupSinkBounds:()=>s()}),b=async()=>{const P=await m();return Oi(t,u.getMothership().element).each(Z=>{s=()=>GA(Z)}),P};Mg.register(t,u.backstage.shared);const T=Lne({editor:t,backstages:{popup:u.backstage,dialog:i.backstage}}),I=()=>aI(t,{backstage:u.backstage},u.getMothership());return{renderUI:b,getWindowManagerImpl:we(T),getNotificationManagerImpl:I}})};$ne()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.ModelManager");const c=(d,g,E)=>{var O;return E(d,g.prototype)?!0:((O=d.constructor)===null||O===void 0?void 0:O.name)===g.name},f=d=>{const g=typeof d;return d===null?"null":g==="object"&&Array.isArray(d)?"array":g==="object"&&c(d,String,(E,O)=>O.isPrototypeOf(E))?"string":g},y=d=>g=>f(g)===d,C=d=>g=>typeof g===d,w=d=>g=>d===g,S=y("string"),D=y("object"),k=y("array"),G=w(null),q=C("boolean"),X=w(void 0),fe=d=>d==null,re=d=>!fe(d),he=C("function"),ue=C("number"),ce=()=>{},ae=(d,g)=>(...E)=>d(g.apply(null,E)),ge=(d,g)=>E=>d(g(E)),Q=d=>()=>d,Ne=d=>d,qe=(d,g)=>d===g;function z(d,...g){return(...E)=>{const O=g.concat(E);return d.apply(null,O)}}const we=d=>g=>!d(g),je=d=>()=>{throw new Error(d)},dt=d=>d(),_t=Q(!1),Pe=Q(!0);class Ee{constructor(g,E){this.tag=g,this.value=E}static some(g){return new Ee(!0,g)}static none(){return Ee.singletonNone}fold(g,E){return this.tag?E(this.value):g()}isSome(){return this.tag}isNone(){return!this.tag}map(g){return this.tag?Ee.some(g(this.value)):Ee.none()}bind(g){return this.tag?g(this.value):Ee.none()}exists(g){return this.tag&&g(this.value)}forall(g){return!this.tag||g(this.value)}filter(g){return!this.tag||g(this.value)?this:Ee.none()}getOr(g){return this.tag?this.value:g}or(g){return this.tag?this:g}getOrThunk(g){return this.tag?this.value:g()}orThunk(g){return this.tag?this:g()}getOrDie(g){if(this.tag)return this.value;throw new Error(g??"Called getOrDie on None")}static from(g){return re(g)?Ee.some(g):Ee.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(g){this.tag&&g(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Ee.singletonNone=new Ee(!1);const pn=Array.prototype.slice,Tt=Array.prototype.indexOf,Rt=Array.prototype.push,B=(d,g)=>Tt.call(d,g),It=(d,g)=>B(d,g)>-1,nt=(d,g)=>{for(let E=0,O=d.length;E<O;E++){const L=d[E];if(g(L,E))return!0}return!1},jt=(d,g)=>{const E=[];for(let O=0;O<d;O++)E.push(g(O));return E},zt=(d,g)=>{const E=d.length,O=new Array(E);for(let L=0;L<E;L++){const W=d[L];O[L]=g(W,L)}return O},Ze=(d,g)=>{for(let E=0,O=d.length;E<O;E++){const L=d[E];g(L,E)}},bo=(d,g)=>{for(let E=d.length-1;E>=0;E--){const O=d[E];g(O,E)}},Fo=(d,g)=>{const E=[],O=[];for(let L=0,W=d.length;L<W;L++){const ne=d[L];(g(ne,L)?E:O).push(ne)}return{pass:E,fail:O}},co=(d,g)=>{const E=[];for(let O=0,L=d.length;O<L;O++){const W=d[O];g(W,O)&&E.push(W)}return E},Ho=(d,g,E)=>(bo(d,(O,L)=>{E=g(E,O,L)}),E),tt=(d,g,E)=>(Ze(d,(O,L)=>{E=g(E,O,L)}),E),Dt=(d,g,E)=>{for(let O=0,L=d.length;O<L;O++){const W=d[O];if(g(W,O))return Ee.some(W);if(E(W,O))break}return Ee.none()},se=(d,g)=>Dt(d,g,_t),ls=(d,g)=>{for(let E=0,O=d.length;E<O;E++){const L=d[E];if(g(L,E))return Ee.some(E)}return Ee.none()},fo=d=>{const g=[];for(let E=0,O=d.length;E<O;++E){if(!k(d[E]))throw new Error("Arr.flatten item "+E+" was not an array, input: "+d);Rt.apply(g,d[E])}return g},Ft=(d,g)=>fo(zt(d,g)),vs=(d,g)=>{for(let E=0,O=d.length;E<O;++E){const L=d[E];if(g(L,E)!==!0)return!1}return!0},Qa=d=>{const g=pn.call(d,0);return g.reverse(),g},Pn=(d,g)=>{const E={};for(let O=0,L=d.length;O<L;O++){const W=d[O];E[String(W)]=g(W,O)}return E},Po=(d,g)=>{const E=pn.call(d,0);return E.sort(g),E},Kt=(d,g)=>g>=0&&g<d.length?Ee.some(d[g]):Ee.none(),pt=d=>Kt(d,0),vi=d=>Kt(d,d.length-1),bi=(d,g)=>{for(let E=0;E<d.length;E++){const O=g(d[E],E);if(O.isSome())return O}return Ee.none()},Bt=Object.keys,Br=Object.hasOwnProperty,Ms=(d,g)=>{const E=Bt(d);for(let O=0,L=E.length;O<L;O++){const W=E[O],ne=d[W];g(ne,W)}},Lc=(d,g)=>bs(d,(E,O)=>({k:O,v:g(E,O)})),bs=(d,g)=>{const E={};return Ms(d,(O,L)=>{const W=g(O,L);E[W.k]=W.v}),E},Ir=d=>(g,E)=>{d[E]=g},Zc=(d,g,E,O)=>{Ms(d,(L,W)=>{(g(L,W)?E:O)(L,W)})},Sa=(d,g)=>{const E={};return Zc(d,g,Ir(E),ce),E},or=(d,g)=>{const E=[];return Ms(d,(O,L)=>{E.push(g(O,L))}),E},Rs=d=>or(d,Ne),id=(d,g)=>Kr(d,g)?Ee.from(d[g]):Ee.none(),Kr=(d,g)=>Br.call(d,g),ks=(d,g)=>Kr(d,g)&&d[g]!==void 0&&d[g]!==null,hl=d=>{for(const g in d)if(Br.call(d,g))return!1;return!0},Di=typeof window<"u"?window:Function("return this;")(),Yc=(d,g)=>{let E=g??Di;for(let O=0;O<d.length&&E!==void 0&&E!==null;++O)E=E[d[O]];return E},br=(d,g)=>{const E=d.split(".");return Yc(E,g)},$r=(d,g)=>br(d,g),qd=(d,g)=>{const E=$r(d,g);if(E==null)throw new Error(d+" not available on this browser");return E},yi=Object.getPrototypeOf,_h=d=>qd("HTMLElement",d),cn=d=>{const g=br("ownerDocument.defaultView",d);return D(d)&&(_h(g).prototype.isPrototypeOf(d)||/^HTML\w*Element$/.test(yi(d).constructor.name))},Vo=8,la=9,vc=11,Eh=1,cu=3,Ps=d=>d.dom.nodeName.toLowerCase(),ad=d=>d.dom.nodeType,jd=d=>g=>ad(g)===d,Qs=d=>ad(d)===Vo||Ps(d)==="#comment",jn=d=>Ja(d)&&cn(d.dom),Ja=jd(Eh),Iu=jd(cu),Kc=jd(la),wh=jd(vc),Ni=d=>g=>Ja(g)&&Ps(g)===d,Xi=(d,g,E)=>{if(S(E)||q(E)||ue(E))d.setAttribute(g,E+"");else throw console.error("Invalid call to Attribute.set. Key ",g,":: Value ",E,":: Element ",d),new Error("Attribute value was not simple")},Ur=(d,g,E)=>{Xi(d.dom,g,E)},Ha=(d,g)=>{const E=d.dom;Ms(g,(O,L)=>{Xi(E,L,O)})},Xc=(d,g)=>{Ms(g,(E,O)=>{E.fold(()=>{Fr(d,O)},L=>{Xi(d.dom,O,L)})})},bc=(d,g)=>{const E=d.dom.getAttribute(g);return E===null?void 0:E},xa=(d,g)=>Ee.from(bc(d,g)),Fr=(d,g)=>{d.dom.removeAttribute(g)},yc=d=>tt(d.dom.attributes,(g,E)=>(g[E.name]=E.value,g),{}),ml=(d,g)=>{const O=(g||document).createElement("div");if(O.innerHTML=d,!O.hasChildNodes()||O.childNodes.length>1){const L="HTML does not have a single root node";throw console.error(L,d),new Error(L)}return Bl(O.childNodes[0])},Fp=(d,g)=>{const O=(g||document).createElement(d);return Bl(O)},Hp=(d,g)=>{const O=(g||document).createTextNode(d);return Bl(O)},Bl=d=>{if(d==null)throw new Error("Node cannot be null or undefined");return{dom:d}},Je={fromHtml:ml,fromTag:Fp,fromText:Hp,fromDom:Bl,fromPoint:(d,g,E)=>Ee.from(d.dom.elementFromPoint(g,E)).map(Bl)},_i=(d,g)=>{const E=d.dom;if(E.nodeType!==Eh)return!1;{const O=E;if(O.matches!==void 0)return O.matches(g);if(O.msMatchesSelector!==void 0)return O.msMatchesSelector(g);if(O.webkitMatchesSelector!==void 0)return O.webkitMatchesSelector(g);if(O.mozMatchesSelector!==void 0)return O.mozMatchesSelector(g);throw new Error("Browser lacks native selectors")}},lu=d=>d.nodeType!==Eh&&d.nodeType!==la&&d.nodeType!==vc||d.childElementCount===0,Vp=(d,g)=>{const E=g===void 0?document:g.dom;return lu(E)?[]:zt(E.querySelectorAll(d),Je.fromDom)},Th=(d,g)=>{const E=g===void 0?document:g.dom;return lu(E)?Ee.none():Ee.from(E.querySelector(d)).map(Je.fromDom)},Hs=(d,g)=>d.dom===g.dom,Zd=(d,g)=>{const E=d.dom,O=g.dom;return E===O?!1:E.contains(O)},Sm=_i,Qi=d=>Je.fromDom(d.dom.ownerDocument),Qc=d=>Kc(d)?d:Qi(d),si=d=>Je.fromDom(Qc(d).dom.documentElement),Ei=d=>Je.fromDom(Qc(d).dom.defaultView),uu=d=>Ee.from(d.dom.parentNode).map(Je.fromDom),ec=d=>Ee.from(d.dom.parentElement).map(Je.fromDom),du=(d,g)=>{const E=he(g)?g:_t;let O=d.dom;const L=[];for(;O.parentNode!==null&&O.parentNode!==void 0;){const W=O.parentNode,ne=Je.fromDom(W);if(L.push(ne),E(ne)===!0)break;O=W}return L},$l=d=>Ee.from(d.dom.previousSibling).map(Je.fromDom),cd=d=>Ee.from(d.dom.nextSibling).map(Je.fromDom),Ss=d=>zt(d.dom.childNodes,Je.fromDom),ri=(d,g)=>{const E=d.dom.childNodes;return Ee.from(E[g]).map(Je.fromDom)},Jc=d=>ri(d,0),ld=(d,g)=>{uu(d).each(O=>{O.dom.insertBefore(g.dom,d.dom)})},Aa=(d,g)=>{cd(d).fold(()=>{uu(d).each(L=>{yr(L,g)})},O=>{ld(O,g)})},_c=(d,g)=>{Jc(d).fold(()=>{yr(d,g)},O=>{d.dom.insertBefore(g.dom,O.dom)})},yr=(d,g)=>{d.dom.appendChild(g.dom)},ud=(d,g,E)=>{ri(d,E).fold(()=>{yr(d,g)},O=>{ld(O,g)})},fu=(d,g)=>{ld(d,g),yr(g,d)},ys=(d,g)=>{Ze(g,(E,O)=>{const L=O===0?d:g[O-1];Aa(L,E)})},tc=(d,g)=>{Ze(g,E=>{yr(d,E)})},ii=d=>{d.dom.textContent="",Ze(Ss(d),g=>{Hr(g)})},Hr=d=>{const g=d.dom;g.parentNode!==null&&g.parentNode.removeChild(g)},el=d=>{const g=Ss(d);g.length>0&&ys(d,g),Hr(d)},Du=(d,g)=>Je.fromDom(d.dom.cloneNode(g)),Ec=d=>Du(d,!1),Bc=d=>Du(d,!0),Nf=(d,g)=>{const E=Je.fromTag(g),O=yc(d);return Ha(E,O),E},Ch=(d,g)=>{const E=Nf(d,g),O=Ss(Bc(d));return tc(E,O),E},zp=(d,g)=>{const E=Nf(d,g);Aa(d,E);const O=Ss(d);return tc(E,O),Hr(d),E},nc=["tfoot","thead","tbody","colgroup"],Nu=d=>It(nc,d),Sh=(d,g)=>({rows:d,columns:g}),Mu=(d,g)=>({row:d,column:g}),Mf=(d,g,E)=>({element:d,rowspan:g,colspan:E}),xm=(d,g,E,O)=>({element:d,rowspan:g,colspan:E,isNew:O}),ku=(d,g,E,O,L,W)=>({element:d,rowspan:g,colspan:E,row:O,column:L,isLocked:W}),Pu=(d,g,E)=>({element:d,cells:g,section:E}),Oa=(d,g,E,O)=>({element:d,cells:g,section:E,isNew:O}),Mi=(d,g,E)=>({element:d,isNew:g,isLocked:E}),Lu=(d,g,E,O)=>({element:d,cells:g,section:E,isNew:O}),kf=(d,g,E,O)=>({startRow:d,startCol:g,finishRow:E,finishCol:O}),Up=(d,g,E)=>({element:d,colspan:g,column:E}),Vs=(d,g)=>({element:d,columns:g}),_r=d=>wh(d)&&re(d.dom.host),oc=he(Element.prototype.attachShadow)&&he(Node.prototype.getRootNode),Ji=Q(oc),pl=oc?d=>Je.fromDom(d.dom.getRootNode()):Qc,$c=d=>{const g=pl(d);return _r(g)?Ee.some(g):Ee.none()},lo=d=>Je.fromDom(d.dom.host),No=d=>{if(Ji()&&re(d.target)){const g=Je.fromDom(d.target);if(Ja(g)&&ki(g)&&d.composed&&d.composedPath){const E=d.composedPath();if(E)return pt(E)}}return Ee.from(d.target)},ki=d=>re(d.dom.shadowRoot),Xr=d=>{const g=Iu(d)?d.dom.parentNode:d.dom;if(g==null||g.ownerDocument===null)return!1;const E=g.ownerDocument;return $c(Je.fromDom(g)).fold(()=>E.body.contains(g),ge(Xr,lo))},ua=()=>x(Je.fromDom(document)),x=d=>{const g=d.dom.body;if(g==null)throw new Error("Body is not available yet");return Je.fromDom(g)},M=(d,g,E)=>co(du(d,E),g),U=(d,g)=>co(Ss(d),g),j=(d,g)=>{let E=[];return Ze(Ss(d),O=>{g(O)&&(E=E.concat([O])),E=E.concat(j(O,g))}),E},te=(d,g,E)=>M(d,O=>_i(O,g),E),de=(d,g)=>U(d,E=>_i(E,g)),_e=(d,g)=>Vp(g,d);var Te=(d,g,E,O,L)=>d(E,O)?Ee.some(E):he(L)&&L(E)?Ee.none():g(E,O,L);const Le=(d,g,E)=>{let O=d.dom;const L=he(E)?E:_t;for(;O.parentNode;){O=O.parentNode;const W=Je.fromDom(O);if(g(W))return Ee.some(W);if(L(W))break}return Ee.none()},it=(d,g,E)=>Te((L,W)=>W(L),Le,d,g,E),Et=(d,g)=>{const E=L=>g(Je.fromDom(L));return se(d.dom.childNodes,E).map(Je.fromDom)},Xt=(d,g)=>{const E=O=>{for(let L=0;L<O.childNodes.length;L++){const W=Je.fromDom(O.childNodes[L]);if(g(W))return Ee.some(W);const ne=E(O.childNodes[L]);if(ne.isSome())return ne}return Ee.none()};return E(d.dom)},rt=(d,g,E)=>Le(d,O=>_i(O,g),E),Mt=(d,g)=>Et(d,E=>_i(E,g)),eo=(d,g)=>Th(g,d),Yn=(d,g,E)=>Te((L,W)=>_i(L,W),rt,d,g,E),Cn=(d,g,E=qe)=>d.exists(O=>E(O,g)),ur=d=>{const g=[],E=O=>{g.push(O)};for(let O=0;O<d.length;O++)d[O].each(E);return g},qs=(d,g)=>d!=null?g(d):Ee.none(),us=(d,g)=>d?Ee.some(g):Ee.none(),Xn=(d,g,E)=>g===""||d.length>=g.length&&d.substr(E,E+g.length)===g,to=(d,g,E=0,O)=>{const L=d.indexOf(g,E);return L!==-1?X(O)?!0:L+g.length<=O:!1},Pi=(d,g)=>Xn(d,g,0),Oo=(d,g)=>Xn(d,g,d.length-g.length),Fl=(d=>g=>g.replace(d,""))(/^\s+|\s+$/g),zs=d=>d.length>0,dr=d=>{const g=parseFloat(d);return isNaN(g)?Ee.none():Ee.some(g)},Dr=d=>d.style!==void 0&&he(d.style.getPropertyValue),Fc=(d,g,E)=>{if(!S(E))throw console.error("Invalid call to CSS.set. Property ",g,":: Value ",E,":: Element ",d),new Error("CSS value must be a string: "+E);Dr(d)&&d.style.setProperty(g,E)},wi=(d,g)=>{Dr(d)&&d.style.removeProperty(g)},as=(d,g,E)=>{const O=d.dom;Fc(O,g,E)},fr=(d,g)=>{const E=d.dom;Ms(g,(O,L)=>{Fc(E,L,O)})},Ra=(d,g)=>{const E=d.dom,L=window.getComputedStyle(E).getPropertyValue(g);return L===""&&!Xr(d)?Pf(E,g):L},Pf=(d,g)=>Dr(d)?d.style.getPropertyValue(g):"",Hc=(d,g)=>{const E=d.dom,O=Pf(E,g);return Ee.from(O).filter(L=>L.length>0)},wc=(d,g)=>{const E=d.dom;wi(E,g),Cn(xa(d,"style").map(Fl),"")&&Fr(d,"style")},mo=(d,g)=>{const E=d.dom,O=g.dom;Dr(E)&&Dr(O)&&(O.style.cssText=E.style.cssText)},Wr=(d,g,E=0)=>xa(d,g).map(O=>parseInt(O,10)).getOr(E),Li=(d,g)=>Wr(d,g,1),sc=d=>Ni("col")(d)?Wr(d,"span",1)>1:Li(d,"colspan")>1,ea=d=>Li(d,"rowspan")>1,hr=(d,g)=>parseInt(Ra(d,g),10),Va=Q(10),Ia=Q(10),dd=(d,g)=>xh(d,g,Pe),xh=(d,g,E)=>Ft(Ss(d),O=>_i(O,g)?E(O)?[O]:[]:xh(O,g,E)),Wp=(d,g,E=_t)=>{if(E(g))return Ee.none();if(It(d,Ps(g)))return Ee.some(g);const O=L=>_i(L,"table")||E(L);return rt(g,d.join(","),O)},Hl=(d,g)=>Wp(["td","th"],d,g),hu=d=>dd(d,"th,td"),Yd=d=>_i(d,"colgroup")?de(d,"col"):Ft(hd(d),g=>de(g,"col")),Ti=(d,g)=>Yn(d,"table",g),fd=d=>dd(d,"tr"),hd=d=>Ti(d).fold(Q([]),g=>de(g,"colgroup")),Bu=(d,g)=>zt(d,E=>{if(Ps(E)==="colgroup"){const O=zt(Yd(E),L=>{const W=Wr(L,"span",1);return Mf(L,1,W)});return Pu(E,O,"colgroup")}else{const O=zt(hu(E),L=>{const W=Wr(L,"rowspan",1),ne=Wr(L,"colspan",1);return Mf(L,W,ne)});return Pu(E,O,g(E))}}),rc=d=>uu(d).map(g=>{const E=Ps(g);return Nu(E)?E:"tbody"}).getOr("tbody"),da=d=>{const g=fd(d),O=[...hd(d),...g];return Bu(O,rc)},mu=(d,g)=>Bu(d,()=>g),md=d=>{let g=!1,E;return(...O)=>(g||(g=!0,E=d.apply(null,O)),E)},Ah=(d,g,E,O)=>{const L=d.isiOS()&&/ipad/i.test(E)===!0,W=d.isiOS()&&!L,ne=d.isiOS()||d.isAndroid(),ve=ne||O("(pointer:coarse)"),Se=L||!W&&ne&&O("(min-device-width:768px)"),Me=W||ne&&!Se,Qe=g.isSafari()&&d.isiOS()&&/safari/i.test(E)===!1,$t=!Me&&!Se&&!Qe;return{isiPad:Q(L),isiPhone:Q(W),isTablet:Q(Se),isPhone:Q(Me),isTouch:Q(ve),isAndroid:d.isAndroid,isiOS:d.isiOS,isWebView:Q(Qe),isDesktop:Q($t)}},Oh=(d,g)=>{for(let E=0;E<d.length;E++){const O=d[E];if(O.test(g))return O}},Ts=(d,g)=>{const E=Oh(d,g);if(!E)return{major:0,minor:0};const O=L=>Number(g.replace(E,"$"+L));return ic(O(1),O(2))},Tc=(d,g)=>{const E=String(g).toLowerCase();return d.length===0?De():Ts(d,E)},De=()=>ic(0,0),ic=(d,g)=>({major:d,minor:g}),fa={nu:ic,detect:Tc,unknown:De},Rh=(d,g)=>bi(g.brands,E=>{const O=E.brand.toLowerCase();return se(d,L=>{var W;return O===((W=L.brand)===null||W===void 0?void 0:W.toLowerCase())}).map(L=>({current:L.name,version:fa.nu(parseInt(E.version,10),0)}))}),pd=(d,g)=>{const E=String(g).toLowerCase();return se(d,O=>O.search(E))},s1=(d,g)=>pd(d,g).map(E=>{const O=fa.detect(E.versionRegexes,g);return{current:E.name,version:O}}),os=(d,g)=>pd(d,g).map(E=>{const O=fa.detect(E.versionRegexes,g);return{current:E.name,version:O}}),et=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,kt=d=>g=>to(g,d),Ot=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:d=>to(d,"edge/")&&to(d,"chrome")&&to(d,"safari")&&to(d,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,et],search:d=>to(d,"chrome")&&!to(d,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:d=>to(d,"msie")||to(d,"trident")},{name:"Opera",versionRegexes:[et,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:kt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:kt("firefox")},{name:"Safari",versionRegexes:[et,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:d=>(to(d,"safari")||to(d,"mobile/"))&&to(d,"applewebkit")}],Un=[{name:"Windows",search:kt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:d=>to(d,"iphone")||to(d,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:kt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:kt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:kt("linux"),versionRegexes:[]},{name:"Solaris",search:kt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:kt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:kt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Eo={browsers:Q(Ot),oses:Q(Un)},zo="Edge",Qr="Chromium",js="IE",gd="Opera",Cc="Firefox",Da="Safari",xe=()=>Be({current:void 0,version:fa.unknown()}),Be=d=>{const g=d.current,E=d.version,O=L=>()=>g===L;return{current:g,version:E,isEdge:O(zo),isChromium:O(Qr),isIE:O(js),isOpera:O(gd),isFirefox:O(Cc),isSafari:O(Da)}},We={unknown:xe,nu:Be,edge:Q(zo),chromium:Q(Qr),ie:Q(js),opera:Q(gd),firefox:Q(Cc),safari:Q(Da)},Vt="Windows",ut="iOS",St="Android",Qt="Linux",An="macOS",Mn="Solaris",no="FreeBSD",yo="ChromeOS",ro=()=>Yo({current:void 0,version:fa.unknown()}),Yo=d=>{const g=d.current,E=d.version,O=L=>()=>g===L;return{current:g,version:E,isWindows:O(Vt),isiOS:O(ut),isAndroid:O(St),isMacOS:O(An),isLinux:O(Qt),isSolaris:O(Mn),isFreeBSD:O(no),isChromeOS:O(yo)}},Is={unknown:ro,nu:Yo,windows:Q(Vt),ios:Q(ut),android:Q(St),linux:Q(Qt),macos:Q(An),solaris:Q(Mn),freebsd:Q(no),chromeos:Q(yo)},Bi={detect:(d,g,E)=>{const O=Eo.browsers(),L=Eo.oses(),W=g.bind(Se=>Rh(O,Se)).orThunk(()=>s1(O,d)).fold(We.unknown,We.nu),ne=os(L,d).fold(Is.unknown,Is.nu),ve=Ah(ne,W,d,E);return{browser:W,os:ne,deviceType:ve}}},$i=d=>window.matchMedia(d).matches;let za=md(()=>Bi.detect(navigator.userAgent,Ee.from(navigator.userAgentData),$i));const Js=()=>za(),Vl=(d,g)=>{const E=(ve,Se)=>{if(!ue(Se)&&!Se.match(/^[0-9]+$/))throw new Error(d+".set accepts only positive integer values. Value was "+Se);const Me=ve.dom;Dr(Me)&&(Me.style[d]=Se+"px")},O=ve=>{const Se=g(ve);if(Se<=0||Se===null){const Me=Ra(ve,d);return parseFloat(Me)||0}return Se},L=O,W=(ve,Se)=>tt(Se,(Me,Qe)=>{const $t=Ra(ve,Qe),ln=$t===void 0?0:parseInt($t,10);return isNaN(ln)?Me:Me+ln},0);return{set:E,get:O,getOuter:L,aggregate:W,max:(ve,Se,Me)=>{const Qe=W(ve,Me);return Se>Qe?Se-Qe:0}}},Ls=(d,g)=>dr(d).getOr(g),ts=(d,g,E)=>Ls(Ra(d,g),E),gl=(d,g,E,O)=>{const L=ts(d,`padding-${E}`,0),W=ts(d,`padding-${O}`,0),ne=ts(d,`border-${E}-width`,0),ve=ts(d,`border-${O}-width`,0);return g-L-W-ne-ve},Am=(d,g)=>{const E=d.dom,O=E.getBoundingClientRect().width||E.offsetWidth;return g==="border-box"?O:gl(d,O,"left","right")},r1=d=>ts(d,"height",d.dom.offsetHeight),Na=d=>ts(d,"width",d.dom.offsetWidth),Kd=d=>Am(d,"content-box"),zl=Vl("width",d=>d.dom.offsetWidth),tl=d=>zl.get(d),Xd=d=>zl.getOuter(d),io=Kd,ha=Na,Ih=(d,g,E)=>{const O=d.cells,L=O.slice(0,g),W=O.slice(g),ne=L.concat(E).concat(W);return ma(d,ne)},wv=(d,g,E)=>Ih(d,g,[E]),ai=(d,g,E)=>{const O=d.cells;O[g]=E},ma=(d,g)=>Lu(d.element,g,d.section,d.isNew),$u=(d,g)=>{const E=d.cells,O=zt(E,g);return Lu(d.element,O,d.section,d.isNew)},vl=(d,g)=>d.cells[g],Ma=(d,g)=>vl(d,g).element,nl=d=>d.cells.length,ta=d=>{const g=Fo(d,E=>E.section==="colgroup");return{rows:g.fail,cols:g.pass}},Om=(d,g,E)=>{const O=zt(d.cells,E);return Lu(g(d.element),O,d.section,!0)},ds="data-snooker-locked-cols",ol=d=>xa(d,ds).bind(g=>Ee.from(g.match(/\d+/g))).map(g=>Pn(g,Pe)),Ul=d=>{const g=tt(ta(d).rows,(O,L)=>(Ze(L.cells,(W,ne)=>{W.isLocked&&(O[ne]=!0)}),O),{}),E=or(g,(O,L)=>parseInt(L,10));return Po(E)},wr=(d,g)=>d+","+g,Rm=(d,g,E)=>Ee.from(d.access[wr(g,E)]),Wl=(d,g,E)=>{const O=vd(d,L=>E(g,L.element));return O.length>0?Ee.some(O[0]):Ee.none()},vd=(d,g)=>{const E=Ft(d.all,O=>O.cells);return co(E,g)},er=d=>{const g={};let E=0;return Ze(d.cells,O=>{const L=O.colspan;jt(L,W=>{const ne=E+W;g[ne]=Up(O.element,L,ne)}),E+=L}),g},Tr=d=>{const g={},E=[],L=pt(d).map(nn=>nn.element).bind(Ti).bind(ol).getOr({});let W=0,ne=0,ve=0;const{pass:Se,fail:Me}=Fo(d,nn=>nn.section==="colgroup");Ze(Me,nn=>{const Ct=[];Ze(nn.cells,an=>{let wt=0;for(;g[wr(ve,wt)]!==void 0;)wt++;const Tn=ks(L,wt.toString()),Jn=ku(an.element,an.rowspan,an.colspan,ve,wt,Tn);for(let _o=0;_o<an.colspan;_o++)for(let ar=0;ar<an.rowspan;ar++){const mc=ve+ar,hi=wt+_o,Cu=wr(mc,hi);g[Cu]=Jn,ne=Math.max(ne,hi+1)}Ct.push(Jn)}),W++,E.push(Pu(nn.element,Ct,nn.section)),ve++});const{columns:Qe,colgroups:$t}=vi(Se).map(nn=>{const Ct=er(nn);return{colgroups:[Vs(nn.element,Rs(Ct))],columns:Ct}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:Sh(W,ne),access:g,all:E,columns:Qe,colgroups:$t}},be={fromTable:d=>{const g=da(d);return Tr(g)},generate:Tr,getAt:Rm,findItem:Wl,filterItems:vd,justCells:d=>Ft(d.all,g=>g.cells),justColumns:d=>Rs(d.columns),hasColumns:d=>Bt(d.columns).length>0,getColumnAt:(d,g)=>Ee.from(d.columns[g])},Qd=(d,g=Pe)=>{const E=d.grid,O=jt(E.columns,Ne),L=jt(E.rows,Ne);return zt(O,W=>Dh(()=>Ft(L,Me=>be.getAt(d,Me,W).filter(Qe=>Qe.column===W).toArray()),Me=>Me.colspan===1&&g(Me.element),()=>be.getAt(d,0,W)))},Dh=(d,g,E)=>{const O=d();return se(O,g).orThunk(()=>Ee.from(O[0]).orThunk(E)).map(ne=>ne.element)},bl=d=>{const g=d.grid,E=jt(g.rows,Ne),O=jt(g.columns,Ne);return zt(E,L=>Dh(()=>Ft(O,Se=>be.getAt(d,L,Se).filter(Me=>Me.row===L).fold(Q([]),Me=>[Me])),Se=>Se.rowspan===1,()=>be.getAt(d,L,0)))},Us=(d,g)=>{if(g<0||g>=d.length-1)return Ee.none();const E=d[g].fold(()=>{const L=Qa(d.slice(0,g));return bi(L,(W,ne)=>W.map(ve=>({value:ve,delta:ne+1})))},L=>Ee.some({value:L,delta:0})),O=d[g+1].fold(()=>{const L=d.slice(g+1);return bi(L,(W,ne)=>W.map(ve=>({value:ve,delta:ne+1})))},L=>Ee.some({value:L,delta:1}));return E.bind(L=>O.map(W=>{const ne=W.delta+L.delta;return Math.abs(W.value-L.value)/ne}))},a1=(d,g)=>E=>Jd(E)==="rtl"?g:d,Jd=d=>Ra(d,"direction")==="rtl"?"rtl":"ltr",c1=Vl("height",d=>{const g=d.dom;return Xr(d)?g.getBoundingClientRect().height:g.offsetHeight}),pa=d=>c1.get(d),Tv=d=>c1.getOuter(d),Dm=r1,t0=(d,g)=>({left:d,top:g,translate:(O,L)=>t0(d+O,g+L)}),Hu=t0,l1=d=>{const g=d.getBoundingClientRect();return Hu(g.left,g.top)},Wa=(d,g)=>d!==void 0?d:g!==void 0?g:0,Bf=d=>{const g=d.dom.ownerDocument,E=g.body,O=g.defaultView,L=g.documentElement;if(E===d.dom)return Hu(E.offsetLeft,E.offsetTop);const W=Wa(O==null?void 0:O.pageYOffset,L.scrollTop),ne=Wa(O==null?void 0:O.pageXOffset,L.scrollLeft),ve=Wa(L.clientTop,E.clientTop),Se=Wa(L.clientLeft,E.clientLeft);return n0(d).translate(ne-Se,W-ve)},n0=d=>{const g=d.dom,O=g.ownerDocument.body;return O===g?Hu(O.offsetLeft,O.offsetTop):Xr(d)?l1(g):Hu(0,0)},Gp=(d,g)=>({row:d,y:g}),$f=(d,g)=>({col:d,x:g}),Cv=d=>Bf(d).left+Xd(d),Vu=d=>Bf(d).left,Jr=(d,g)=>$f(d,Vu(g)),qp=(d,g)=>$f(d,Cv(g)),ci=d=>Bf(d).top,ga=(d,g)=>Gp(d,ci(g)),Ln=(d,g)=>Gp(d,ci(g)+Tv(g)),on=(d,g,E)=>{if(E.length===0)return[];const O=zt(E.slice(1),(W,ne)=>W.map(ve=>d(ne,ve))),L=E[E.length-1].map(W=>g(E.length-1,W));return O.concat([L])},Nm=d=>-d,yl={delta:Ne,positions:d=>on(ga,Ln,d),edge:ci},El=a1({delta:Ne,edge:Vu,positions:d=>on(Jr,qp,d)},{delta:Nm,edge:Cv,positions:d=>on(qp,Jr,d)}),sl={delta:(d,g)=>El(g).delta(d,g),positions:(d,g)=>El(g).positions(d,g),edge:d=>El(d).edge(d)},zu={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Nr=(()=>{const d="[0-9]+",E="[eE]"+("[+-]?"+d),O="\\.",L=ve=>`(?:${ve})?`,ne=`[+-]?(?:${["Infinity",d+O+L(d)+L(E),O+d+L(E),d+L(E)].join("|")})`;return new RegExp(`^(${ne})(.*)$`)})(),bd=(d,g)=>nt(g,E=>nt(zu[E],O=>d===O)),Nh=(d,g)=>Ee.from(Nr.exec(d)).bind(O=>{const L=Number(O[1]),W=O[2];return bd(W,g)?Ee.some({value:L,unit:W}):Ee.none()}),Ut=/(\d+(\.\d+)?)%/,o0=/(\d+(\.\d+)?)px|em/,Mm=Ni("col"),Ga=(d,g,E)=>{const O=ec(d).getOrThunk(()=>x(Qi(d)));return g(d)/E(O)*100},yd=(d,g)=>{as(d,"width",g+"px")},ef=(d,g)=>{as(d,"width",g+"%")},mr=(d,g)=>{as(d,"height",g+"px")},Zp=d=>Dm(d)+"px",ns=(d,g,E,O)=>{const L=Ti(d).map(W=>{const ne=E(W);return Math.floor(g/100*ne)}).getOr(g);return O(d,L),L},Lo=(d,g,E,O)=>{const L=parseFloat(d);return Oo(d,"%")&&Ps(g)!=="table"?ns(g,L,E,O):L},ei=d=>{const g=Zp(d);return g?Lo(g,d,pa,mr):pa(d)},Sc=(d,g,E)=>{const O=E(d),L=Li(d,g);return O/L},sr=(d,g)=>Hc(d,g).orThunk(()=>xa(d,g).map(E=>E+"px")),tf=d=>sr(d,"width"),Zr=d=>sr(d,"height"),_s=d=>Ga(d,tl,io),Gl=d=>Mm(d)?tl(d):ha(d),At=d=>Sc(d,"rowspan",ei),wl=d=>tf(d).bind(E=>Nh(E,["fixed","relative","empty"])),Ff=(d,g,E)=>{as(d,"width",g+E)},Gr=d=>tl(d)+"px",ql=d=>Ga(d,tl,io)+"%",qa=d=>tf(d).exists(g=>Ut.test(g)),ac=d=>tf(d).exists(g=>o0.test(g)),km=d=>tf(d).isNone(),cc=Q(Ut),Yp=Ni("col"),Fi=d=>tf(d).getOrThunk(()=>Gl(d)+"px"),Ko=d=>Zr(d).getOrThunk(()=>At(d)+"px"),$e=d=>zt(be.justColumns(d),g=>Ee.from(g.element)),H=d=>{const g=Js().browser,E=g.isChromium()||g.isFirefox();return Yp(d)?E:!0},me=(d,g,E,O,L,W)=>d.filter(O).fold(()=>W(Us(E,g)),ne=>L(ne)),Ve=(d,g,E,O)=>{const L=Qd(d),W=be.hasColumns(d)?$e(d):L,ne=[Ee.some(sl.edge(g))].concat(zt(sl.positions(L,g),Se=>Se.map(Me=>Me.x))),ve=we(sc);return zt(W,(Se,Me)=>me(Se,Me,ne,ve,Qe=>{if(H(Qe))return E(Qe);{const $t=qs(L[Me],Ne);return me($t,Me,ne,ve,ln=>O(Ee.some(tl(ln))),O)}},O))},Ht=d=>d.map(g=>g+"px").getOr(""),Dn=(d,g)=>Ve(d,g,Fi,Ht),fn=(d,g,E)=>Ve(d,g,_s,O=>O.fold(()=>E.minCellWidth(),L=>L/E.pixelWidth()*100)),Xo=(d,g,E)=>Ve(d,g,Gl,O=>O.getOrThunk(E.minCellWidth)),Ge=(d,g,E,O,L)=>{const W=bl(d),ne=[Ee.some(E.edge(g))].concat(zt(E.positions(W,g),ve=>ve.map(Se=>Se.y)));return zt(W,(ve,Se)=>me(ve,Se,ne,we(ea),O,L))},qr=(d,g,E)=>Ge(d,g,E,At,O=>O.getOrThunk(Ia)),li=(d,g,E)=>Ge(d,g,E,Ko,Ht),na=(d,g)=>()=>Xr(d)?g(d):parseFloat(Hc(d,"width").getOr("0")),Vr=d=>{const g=na(d,tl),E=Q(0);return{width:g,pixelWidth:g,getWidths:(L,W)=>Xo(L,d,W),getCellDelta:E,singleColumnWidth:Q([0]),minCellWidth:E,setElementWidth:ce,adjustTableWidth:ce,isRelative:!0,label:"none"}},ui=d=>{const g=na(d,Se=>parseFloat(ql(Se))),E=na(d,tl);return{width:g,pixelWidth:E,getWidths:(Se,Me)=>fn(Se,d,Me),getCellDelta:Se=>Se/E()*100,singleColumnWidth:(Se,Me)=>[100-Se],minCellWidth:()=>Va()/E()*100,setElementWidth:ef,adjustTableWidth:Se=>{const Me=g(),Qe=Se/100*Me,$t=Me+Qe;ef(d,$t)},isRelative:!0,label:"percent"}},Ci=d=>{const g=na(d,tl);return{width:g,pixelWidth:g,getWidths:(ne,ve)=>Xo(ne,d,ve),getCellDelta:Ne,singleColumnWidth:(ne,ve)=>[Math.max(Va(),ne+ve)-ne],minCellWidth:Va,setElementWidth:yd,adjustTableWidth:ne=>{const ve=g()+ne;yd(d,ve)},isRelative:!1,label:"pixel"}},nf=(d,g)=>cc().exec(g)!==null?ui(d):Ci(d),Mh={getTableSize:d=>tf(d).fold(()=>Vr(d),E=>nf(d,E)),pixelSize:Ci,percentageSize:ui,noneSize:Vr},Gn=(d,g,E,O,L,W)=>({minRow:d,minCol:g,maxRow:E,maxCol:O,allCells:L,selectedCells:W}),Kp=(d,g)=>{const E=d.grid.columns;let L=d.grid.rows,W=E,ne=0,ve=0;const Se=[],Me=[];return Ms(d.access,Qe=>{if(Se.push(Qe),g(Qe)){Me.push(Qe);const $t=Qe.row,ln=$t+Qe.rowspan-1,nn=Qe.column,Ct=nn+Qe.colspan-1;$t<L?L=$t:ln>ne&&(ne=ln),nn<W?W=nn:Ct>ve&&(ve=Ct)}}),Gn(L,W,ne,ve,Se,Me)},pu=(d,g,E)=>{const O=d[E].element,L=Je.fromTag("td");yr(L,Je.fromTag("br")),(g?yr:_c)(O,L)},ka=(d,g,E,O)=>{const L=co(d,ve=>ve.section!=="colgroup"),W=g.grid.columns,ne=g.grid.rows;for(let ve=0;ve<ne;ve++){let Se=!1;for(let Me=0;Me<W;Me++)ve<E.minRow||ve>E.maxRow||Me<E.minCol||Me>E.maxCol||(be.getAt(g,ve,Me).filter(O).isNone()?pu(L,Se,ve):Se=!0)}},Sv=(d,g,E,O)=>{Ms(E.columns,ne=>{(ne.column<g.minCol||ne.column>g.maxCol)&&Hr(ne.element)});const L=co(dd(d,"tr"),ne=>ne.dom.childElementCount===0);Ze(L,Hr),(g.minCol===g.maxCol||g.minRow===g.maxRow)&&Ze(dd(d,"th,td"),ne=>{Fr(ne,"rowspan"),Fr(ne,"colspan")}),Fr(d,ds),Fr(d,"data-snooker-col-series"),Mh.getTableSize(d).adjustTableWidth(O)},_d=(d,g,E,O)=>{if(O.minCol===0&&g.grid.columns===O.maxCol+1)return 0;const L=Xo(g,d,E),W=tt(L,(Me,Qe)=>Me+Qe,0),Se=tt(L.slice(O.minCol,O.maxCol+1),(Me,Qe)=>Me+Qe,0)/W*E.pixelWidth()-E.pixelWidth();return E.getCellDelta(Se)},h_=(d,g)=>{const E=ln=>_i(ln.element,g),O=Bc(d),L=da(O),W=Mh.getTableSize(d),ne=be.generate(L),ve=Kp(ne,E),Se="th:not("+g+"),td:not("+g+")",Me=xh(O,"th,td",ln=>_i(ln,Se));Ze(Me,Hr),ka(L,ne,ve,E);const Qe=be.fromTable(d),$t=_d(d,Qe,W,ve);return Sv(O,ve,ne,$t),O},Pm=" ",xc=((d,g)=>{const E=W=>{if(!d(W))throw new Error("Can only get "+g+" value of a "+g+" node");return O(W).getOr("")},O=W=>d(W)?Ee.from(W.dom.nodeValue):Ee.none();return{get:E,getOption:O,set:(W,ne)=>{if(!d(W))throw new Error("Can only set raw "+g+" value of a "+g+" node");W.dom.nodeValue=ne}}})(Iu,"text"),Tl=d=>xc.get(d),xv=d=>xc.getOption(d),m_=(d,g)=>xc.set(d,g),Ed=d=>Ps(d)==="img"?1:xv(d).fold(()=>Ss(d).length,g=>g.length),d1=d=>xv(d).filter(g=>g.trim().length!==0||g.indexOf(Pm)>-1).isSome(),Av=d=>jn(d)&&bc(d,"contenteditable")==="false",Lm=["img","br"],Xp=d=>d1(d)||It(Lm,Ps(d))||Av(d),Hf=d=>Xt(d,Xp),Ov=d=>Rv(d,Xp),Rv=(d,g)=>{const E=O=>{const L=Ss(O);for(let W=L.length-1;W>=0;W--){const ne=L[W];if(g(ne))return Ee.some(ne);const ve=E(ne);if(ve.isSome())return ve}return Ee.none()};return E(d)},xs={scope:["row","col"]},s0=d=>()=>{const g=Je.fromTag("td",d.dom);return yr(g,Je.fromTag("br",d.dom)),g},va=d=>()=>Je.fromTag("col",d.dom),jl=d=>()=>Je.fromTag("colgroup",d.dom),Bm=d=>()=>Je.fromTag("tr",d.dom),kh=(d,g,E)=>{const O=Ch(d,g);return Ms(E,(L,W)=>{L===null?Fr(O,W):Ur(O,W,L)}),O},p_=d=>d,Hi=(d,g,E)=>Hf(d).map(L=>{const W=E.join(","),ne=te(L,W,ve=>Hs(ve,d));return Ho(ne,(ve,Se)=>{const Me=Ec(Se);return yr(ve,Me),Me},g)}).getOr(g),Cl=(d,g)=>{Ms(xs,(E,O)=>xa(d,O).filter(L=>It(E,L)).each(L=>Ur(g,O,L)))},Ph=(d,g,E)=>{const O=(ne,ve)=>{mo(ne.element,ve),wc(ve,"height"),ne.colspan!==1&&wc(ve,"width")},L=ne=>{const ve=Je.fromTag(Ps(ne.element),g.dom),Se=E.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),Me=Se.length>0?Hi(ne.element,ve,Se):ve;return yr(Me,Je.fromTag("br")),O(ne,ve),Cl(ne.element,ve),d(ne.element,ve),ve};return{col:ne=>{const ve=Je.fromTag(Ps(ne.element),g.dom);return O(ne,ve),d(ne.element,ve),ve},colgroup:jl(g),row:Bm(g),cell:L,replace:kh,colGap:va(g),gap:s0(g)}},Lh=d=>({col:va(d),colgroup:jl(d),row:Bm(d),cell:s0(d),replace:p_,colGap:va(d),gap:s0(d)}),of=(d,g)=>{const O=(g||document).createElement("div");return O.innerHTML=d,Ss(Je.fromDom(O))},Vf=d=>zt(d,Je.fromDom),Sl=d=>Yn(d,"[contenteditable]"),oa=(d,g=!1)=>Xr(d)?d.dom.isContentEditable:Sl(d).fold(Q(g),E=>Iv(E)==="true"),Iv=d=>d.dom.contentEditable,Vc=d=>Je.fromDom(d.getBody()),Zl=d=>g=>Hs(g,Vc(d)),xl=d=>{Fr(d,"data-mce-style");const g=E=>Fr(E,"data-mce-style");Ze(hu(d),g),Ze(Yd(d),g),Ze(fd(d),g)},Qp=d=>Je.fromDom(d.selection.getStart()),Bh=d=>d.getBoundingClientRect().width,Dv=d=>d.getBoundingClientRect().height,r0=(d,g)=>{const E=d.dom.getStyle(g,"width")||d.dom.getAttrib(g,"width");return Ee.from(E).filter(zs)},pr=d=>/^(\d+(\.\d+)?)%$/.test(d),Nv=d=>/^(\d+(\.\d+)?)px$/.test(d),zc=d=>it(d,Ni("table")).exists(oa),Mv=(d,g)=>{const E=g.column,O=g.column+g.colspan-1,L=g.row,W=g.row+g.rowspan-1;return E<=d.finishCol&&O>=d.startCol&&L<=d.finishRow&&W>=d.startRow},kv=(d,g)=>g.column>=d.startCol&&g.column+g.colspan-1<=d.finishCol&&g.row>=d.startRow&&g.row+g.rowspan-1<=d.finishRow,zf=(d,g)=>{let E=!0;const O=z(kv,g);for(let L=g.startRow;L<=g.finishRow;L++)for(let W=g.startCol;W<=g.finishCol;W++)E=E&&be.getAt(d,L,W).exists(O);return E?Ee.some(g):Ee.none()},Ws=(d,g)=>kf(Math.min(d.row,g.row),Math.min(d.column,g.column),Math.max(d.row+d.rowspan-1,g.row+g.rowspan-1),Math.max(d.column+d.colspan-1,g.column+g.colspan-1)),sf=(d,g,E)=>{const O=be.findItem(d,g,Hs),L=be.findItem(d,E,Hs);return O.bind(W=>L.map(ne=>Ws(W,ne)))},f1=(d,g,E)=>sf(d,g,E).bind(O=>zf(d,O)),Pv=(d,g,E,O)=>be.findItem(d,g,Hs).bind(L=>{const W=E>0?L.row+L.rowspan-1:L.row,ne=O>0?L.column+L.colspan-1:L.column;return be.getAt(d,W+E,ne+O).map(Se=>Se.element)}),$m=(d,g,E)=>sf(d,g,E).map(O=>{const L=be.filterItems(d,z(Mv,O));return zt(L,W=>W.element)}),h1=(d,g)=>{const E=(O,L)=>Zd(L,O);return be.findItem(d,g,E).map(O=>O.element)},Jp=(d,g,E)=>Ti(d).bind(O=>{const L=Uf(O);return Pv(L,d,g,E)}),g_=(d,g,E)=>{const O=Uf(d);return $m(O,g,E)},rl=(d,g,E,O,L)=>{const W=Uf(d),ne=Hs(d,E)?Ee.some(g):h1(W,g),ve=Hs(d,L)?Ee.some(O):h1(W,O);return ne.bind(Se=>ve.bind(Me=>$m(W,Se,Me)))},Wu=(d,g,E)=>{const O=Uf(d);return f1(O,g,E)},Uf=be.fromTable;var rf=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Gu=()=>{const d=Me=>Je.fromDom(Me.dom.cloneNode(!1)),g=Me=>Qc(Me).dom,E=Me=>Ja(Me)?Ps(Me)==="body"?!0:It(rf,Ps(Me)):!1,O=Me=>Ja(Me)?It(["br","img","hr","input"],Ps(Me)):!1,L=Me=>Ja(Me)&&bc(Me,"contenteditable")==="false",W=(Me,Qe)=>Me.dom.compareDocumentPosition(Qe.dom),ne=(Me,Qe)=>{const $t=yc(Me);Ha(Qe,$t)},ve=Me=>{const Qe=Ps(Me);return It(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Qe)},Se=Me=>Ja(Me)?xa(Me,"lang"):Ee.none();return{up:Q({selector:rt,closest:Yn,predicate:Le,all:du}),down:Q({selector:_e,predicate:j}),styles:Q({get:Ra,getRaw:Hc,set:as,remove:wc}),attrs:Q({get:bc,set:Ur,remove:Fr,copyTo:ne}),insert:Q({before:ld,after:Aa,afterAll:ys,append:yr,appendAll:tc,prepend:_c,wrap:fu}),remove:Q({unwrap:el,remove:Hr}),create:Q({nu:Je.fromTag,clone:d,text:Je.fromText}),query:Q({comparePosition:W,prevSibling:$l,nextSibling:cd}),property:Q({children:Ss,name:Ps,parent:uu,document:g,isText:Iu,isComment:Qs,isElement:Ja,isSpecial:ve,getLanguage:Se,getText:Tl,setText:m_,isBoundary:E,isEmptyTag:O,isNonEditable:L}),eq:Hs,is:Sm}};const gu=(d,g,E,O)=>{const L=E[0],W=E.slice(1);return O(d,g,L,W)},eg=(d,g,E)=>E.length>0?gu(d,g,E,m1):Ee.none(),m1=(d,g,E,O)=>{const L=g(d,E);return Ho(O,(W,ne)=>{const ve=g(d,ne);return Wf(d,W,ve)},L)},Wf=(d,g,E)=>g.bind(O=>E.filter(z(d.eq,O))),i0=(d,g)=>z(d.eq,g),Fm=(d,g,E,O=_t)=>{const L=[g].concat(d.up().all(g)),W=[E].concat(d.up().all(E)),ne=Qe=>ls(Qe,O).fold(()=>Qe,ln=>Qe.slice(0,ln+1)),ve=ne(L),Se=ne(W),Me=se(ve,Qe=>nt(Se,i0(d,Qe)));return{firstpath:ve,secondpath:Se,shared:Me}},Hm=eg,v_=Fm,tg=Gu(),rs=(d,g)=>Hm(tg,(E,O)=>d(O),g),kn=(d,g,E)=>v_(tg,d,g,E),af=d=>rt(d,"table"),cf=(d,g,E)=>{const O=L=>W=>E!==void 0&&E(W)||Hs(W,L);return Hs(d,g)?Ee.some({boxes:Ee.some([d]),start:d,finish:g}):af(d).bind(L=>af(g).bind(W=>{if(Hs(L,W))return Ee.some({boxes:g_(L,d,g),start:d,finish:g});if(Zd(L,W)){const ne=te(g,"td,th",O(L)),ve=ne.length>0?ne[ne.length-1]:g;return Ee.some({boxes:rl(L,d,L,g,W),start:d,finish:ve})}else if(Zd(W,L)){const ne=te(d,"td,th",O(W)),ve=ne.length>0?ne[ne.length-1]:d;return Ee.some({boxes:rl(W,d,L,g,W),start:d,finish:ve})}else return kn(d,g).shared.bind(ne=>Yn(ne,"table",E).bind(ve=>{const Se=te(g,"td,th",O(ve)),Me=Se.length>0?Se[Se.length-1]:g,Qe=te(d,"td,th",O(ve)),$t=Qe.length>0?Qe[Qe.length-1]:d;return Ee.some({boxes:rl(ve,d,L,g,W),start:$t,finish:Me})}))}))},ng=(d,g)=>{const E=_e(d,g);return E.length>0?Ee.some(E):Ee.none()},p1=(d,g)=>se(d,E=>_i(E,g)),a0=(d,g,E)=>eo(d,g).bind(O=>eo(d,E).bind(L=>rs(af,[O,L]).map(W=>({first:O,last:L,table:W})))),Zs=(d,g)=>rt(d,"table").bind(E=>eo(E,g).bind(O=>cf(O,d).bind(L=>L.boxes.map(W=>({boxes:W,start:L.start,finish:L.finish}))))),g1=(d,g,E,O,L)=>p1(d,L).bind(W=>Jp(W,g,E).bind(ne=>Zs(ne,O))),Lv=(d,g)=>ng(d,g),Bv=(d,g,E)=>a0(d,g,E).bind(O=>{const L=Se=>Hs(d,Se),W="thead,tfoot,tbody,table",ne=rt(O.first,W,L),ve=rt(O.last,W,L);return ne.bind(Se=>ve.bind(Me=>Hs(Se,Me)?Wu(O.table,O.first,O.last):Ee.none()))}),Nt=Ne,$v=d=>{const g=(O,L)=>xa(O,L).exists(W=>parseInt(W,10)>1),E=O=>g(O,"rowspan")||g(O,"colspan");return d.length>0&&vs(d,E)?Ee.some(d):Ee.none()},wd=(d,g,E)=>g.length<=1?Ee.none():Bv(d,E.firstSelectedSelector,E.lastSelectedSelector).map(O=>({bounds:O,cells:g})),$h="data-mce-selected",v1="td["+$h+"],th["+$h+"]",Gf="["+$h+"]",og="data-mce-first-selected",Vm="td["+og+"],th["+og+"]",c0="data-mce-last-selected",ja="td["+c0+"],th["+c0+"]",Cr=Gf,Ac={selected:$h,selectedSelector:v1,firstSelected:og,firstSelectedSelector:Vm,lastSelected:c0,lastSelectedSelector:ja},zm=(d,g,E)=>({element:E,mergable:wd(g,d,Ac),unmergable:$v(d),selection:Nt(d)}),Yl=(d,g,E)=>({element:d,clipboard:g,generators:E}),Um=(d,g,E,O)=>({selection:Nt(d),clipboard:E,generators:O}),Ro=d=>Ti(d).bind(g=>Lv(g,Ac.firstSelectedSelector)).fold(Q(d),g=>g[0]),Td=d=>(g,E)=>{const O=Ps(g),L=O==="col"||O==="colgroup"?Ro(g):g;return Yn(L,d,E)},b1=Td("th,td,caption"),Fh=Td("th,td"),qf=d=>Vf(d.model.table.getSelectedCells()),lf=d=>co(qf(d),g=>_i(g,Ac.selectedSelector)),qu=d=>Ti(d[0]).map(g=>{const E=h_(g,Cr);return xl(E),[E]}),lc=(d,g)=>zt(g,E=>d.selection.serializer.serialize(E.dom,{})).join(""),Vw=d=>zt(d,g=>g.dom.innerText).join(""),sg=(d,g)=>{d.on("BeforeGetContent",E=>{const O=L=>{E.preventDefault(),qu(L).each(W=>{E.content=E.format==="text"?Vw(W):lc(d,W)})};if(E.selection===!0){const L=lf(d);L.length>=1&&O(L)}}),d.on("BeforeSetContent",E=>{if(E.selection===!0&&E.paste===!0){const O=qf(d);pt(O).each(L=>{Ti(L).each(W=>{const ne=co(of(E.content),Se=>Ps(Se)!=="meta"),ve=Ni("table");if(ne.length===1&&ve(ne[0])){E.preventDefault();const Se=Je.fromDom(d.getDoc()),Me=Lh(Se),Qe=Yl(L,ne[0],Me);g.pasteCells(W,Qe).each(()=>{d.focus()})}})})}})},Vi=(d,g)=>({element:d,offset:g}),En=(d,g,E)=>d.property().isText(g)&&d.property().getText(g).trim().length===0||d.property().isComment(g)?E(g).bind(O=>En(d,O,E).orThunk(()=>Ee.some(O))):Ee.none(),Fv=(d,g)=>d.property().isText(g)?d.property().getText(g).length:d.property().children(g).length,b_=(d,g)=>{const E=En(d,g,d.query().prevSibling).getOr(g);if(d.property().isText(E))return Vi(E,Fv(d,E));const O=d.property().children(E);return O.length>0?b_(d,O[O.length-1]):Vi(E,Fv(d,E))},uc=b_,l0=Gu(),uf=d=>uc(l0,d),Uc=(d,g)=>{sc(d)||wl(d).each(O=>{const L=O.value/2;Ff(d,L,O.unit),Ff(g,L,O.unit)})},ju=d=>zt(d,Q(0)),Kl=(d,g,E,O,L)=>L(d.slice(0,g)).concat(O).concat(L(d.slice(E))),rg=d=>(g,E,O,L)=>{if(d(O)){const W=Math.max(L,g[E]-Math.abs(O)),ne=Math.abs(W-g[E]);return O>=0?ne:-ne}else return O},Wm=rg(d=>d<0),zw=rg(Pe),ig=()=>{const d=(ve,Se,Me,Qe,$t)=>{const ln=Wm(ve,Se,Qe,$t);return Kl(ve,Se,Me+1,[ln,0],ju)},g=(ve,Se,Me,Qe)=>{const $t=(100+Me)/100,ln=Math.max(Qe,(ve[Se]+Me)/$t);return zt(ve,(nn,Ct)=>(Ct===Se?ln:nn/$t)-nn)},E=(ve,Se,Me,Qe,$t,ln)=>ln?g(ve,Se,Qe,$t):d(ve,Se,Me,Qe,$t);return{resizeTable:(ve,Se)=>ve(Se),clampTableDelta:Wm,calcLeftEdgeDeltas:E,calcMiddleDeltas:(ve,Se,Me,Qe,$t,ln,nn)=>E(ve,Me,Qe,$t,ln,nn),calcRightEdgeDeltas:(ve,Se,Me,Qe,$t,ln)=>{if(ln)return g(ve,Me,Qe,$t);{const nn=Wm(ve,Me,Qe,$t);return ju(ve.slice(0,Me)).concat([nn])}},calcRedestributedWidths:(ve,Se,Me,Qe)=>{if(Qe){const ln=(Se+Me)/Se,nn=zt(ve,Ct=>Ct/ln);return{delta:ln*100-100,newSizes:nn}}else return{delta:Me,newSizes:ve}}}},ag=()=>{const d=(ne,ve,Se,Me,Qe)=>{const $t=Me>=0?Se:ve,ln=zw(ne,$t,Me,Qe);return Kl(ne,ve,Se+1,[ln,-ln],ju)};return{resizeTable:(ne,ve,Se)=>{Se&&ne(ve)},clampTableDelta:(ne,ve,Se,Me,Qe)=>{if(Qe){if(Se>=0)return Se;{const $t=tt(ne,(ln,nn)=>ln+nn-Me,0);return Math.max(-$t,Se)}}else return Wm(ne,ve,Se,Me)},calcLeftEdgeDeltas:d,calcMiddleDeltas:(ne,ve,Se,Me,Qe,$t)=>d(ne,Se,Me,Qe,$t),calcRightEdgeDeltas:(ne,ve,Se,Me,Qe,$t)=>{if($t)return ju(ne);{const ln=Me/ne.length;return zt(ne,Q(ln))}},calcRedestributedWidths:(ne,ve,Se,Me)=>({delta:0,newSizes:ne})}},Gm=d=>be.fromTable(d).grid,cg=Ni("th"),qm=d=>vs(d,g=>cg(g.element)),y_=(d,g)=>d&&g?"sectionCells":d?"section":"cells",Hv=d=>{const g=d.section==="thead",E=Cn(Hh(d.cells),"th");return d.section==="tfoot"?{type:"footer"}:g||E?{type:"header",subType:y_(g,E)}:{type:"body"}},Hh=d=>{const g=co(d,E=>cg(E.element));return g.length===0?Ee.some("td"):g.length===d.length?Ee.some("th"):Ee.none()},y1=d=>{const g=zt(d,L=>Hv(L).type),E=It(g,"header"),O=It(g,"footer");if(!E&&!O)return Ee.some("body");{const L=It(g,"body");return E&&!L&&!O?Ee.some("header"):!E&&!L&&O?Ee.some("footer"):Ee.none()}},Al=d=>bi(d.all,g=>{const E=Hv(g);return E.type==="header"?Ee.from(E.subType):Ee.none()}),Oc=(d,g,E)=>Mi(E(d.element,g),!0,d.isLocked),df=(d,g)=>d.section!==g?Lu(d.element,d.cells,g,d.isNew):d,Vh=()=>({transformRow:df,transformCell:(d,g,E)=>{const O=E(d.element,g),L=Ps(O)!=="td"?zp(O,"td"):O;return Mi(L,d.isNew,d.isLocked)}}),Vv=()=>({transformRow:df,transformCell:Oc}),lg=()=>({transformRow:(d,g)=>df(d,g==="thead"?"tbody":g),transformCell:Oc}),Zm={getTableSectionType:(d,g)=>{const E=be.fromTable(d);switch(Al(E).getOr(g)){case"section":return Vh();case"sectionCells":return Vv();case"cells":return lg()}},section:Vh,sectionCells:Vv,cells:lg,fallback:()=>({transformRow:Ne,transformCell:Oc})},dc=(d,g,E,O)=>{E===O?Fr(d,g):Ur(d,g,E)},jf=(d,g,E)=>{vi(de(d,g)).fold(()=>_c(d,E),O=>Aa(O,E))},Uw=(d,g)=>{const E=Mt(d,g).getOrThunk(()=>{const O=Je.fromTag(g,Qi(d).dom);return g==="thead"?jf(d,"caption,colgroup",O):g==="colgroup"?jf(d,"caption",O):yr(d,O),O});return ii(E),E},u0=(d,g)=>{const E=[],O=[],L=nn=>zt(nn,Ct=>{Ct.isNew&&E.push(Ct.element);const an=Ct.element;return ii(an),Ze(Ct.cells,wt=>{wt.isNew&&O.push(wt.element),dc(wt.element,"colspan",wt.colspan,1),dc(wt.element,"rowspan",wt.rowspan,1),yr(an,wt.element)}),an}),W=nn=>Ft(nn,Ct=>zt(Ct.cells,an=>(dc(an.element,"span",an.colspan,1),an.element))),ne=(nn,Ct)=>{const an=Uw(d,Ct),Tn=(Ct==="colgroup"?W:L)(nn);tc(an,Tn)},ve=nn=>{Mt(d,nn).each(Hr)},Se=(nn,Ct)=>{nn.length>0?ne(nn,Ct):ve(Ct)},Me=[],Qe=[],$t=[],ln=[];return Ze(g,nn=>{switch(nn.section){case"thead":Me.push(nn);break;case"tbody":Qe.push(nn);break;case"tfoot":$t.push(nn);break;case"colgroup":ln.push(nn);break}}),Se(ln,"colgroup"),Se(Me,"thead"),Se(Qe,"tbody"),Se($t,"tfoot"),{newRows:E,newCells:O}},d0=d=>zt(d,g=>{const E=Ec(g.element);return Ze(g.cells,O=>{const L=Bc(O.element);dc(L,"colspan",O.colspan,1),dc(L,"rowspan",O.rowspan,1),yr(E,L)}),E}),rr=(d,g)=>zt(d,E=>vl(E,g)),Ww=(d,g)=>d[g],__=(d,g)=>{if(d.length===0)return 0;const E=d[0];return ls(d,L=>!g(E.element,L.element)).getOr(d.length)},Gw=(d,g,E,O)=>{const L=Ww(d,g),W=L.section==="colgroup",ne=__(L.cells.slice(E),O),ve=W?1:__(rr(d.slice(g),E),O);return{colspan:ne,rowspan:ve}},zv=(d,g)=>{const E=zt(d,L=>zt(L.cells,_t)),O=(L,W,ne,ve)=>{for(let Se=L;Se<L+ne;Se++)for(let Me=W;Me<W+ve;Me++)E[Se][Me]=!0};return zt(d,(L,W)=>{const ne=Ft(L.cells,(ve,Se)=>{if(E[W][Se]===!1){const Me=Gw(d,W,Se,g);return O(W,Se,Me.rowspan,Me.colspan),[xm(ve.element,Me.rowspan,Me.colspan,ve.isNew)]}else return[]});return Oa(L.element,ne,L.section,L.isNew)})},ug=(d,g,E)=>{const O=[];Ze(d.colgroups,L=>{const W=[];for(let ne=0;ne<d.grid.columns;ne++){const ve=be.getColumnAt(d,ne).map(Se=>Mi(Se.element,E,!1)).getOrThunk(()=>Mi(g.colGap(),!0,!1));W.push(ve)}O.push(Lu(L.element,W,"colgroup",E))});for(let L=0;L<d.grid.rows;L++){const W=[];for(let Se=0;Se<d.grid.columns;Se++){const Me=be.getAt(d,L,Se).map(Qe=>Mi(Qe.element,E,Qe.isLocked)).getOrThunk(()=>Mi(g.gap(),!0,!1));W.push(Me)}const ne=d.all[L],ve=Lu(ne.element,W,ne.section,E);O.push(ve)}return O},Zf=(d,g)=>ug(d,g,!1),zi=d=>zv(d,Hs),Yf=(d,g)=>bi(d.all,E=>se(E.cells,O=>Hs(g,O.element))),f0=(d,g,E)=>{const O=zt(g.selection,W=>Hl(W).bind(ne=>Yf(d,ne)).filter(E)),L=ur(O);return us(L.length>0,L)},Si=(d,g,E,O,L)=>(W,ne,ve,Se)=>{const Me=be.fromTable(W),Qe=Ee.from(Se==null?void 0:Se.section).getOrThunk(Zm.fallback);return g(Me,ne).map(ln=>{const nn=Zf(Me,ve),Ct=d(nn,ln,Hs,L(ve),Qe),an=Ul(Ct.grid),wt=zi(Ct.grid);return{info:ln,grid:wt,cursor:Ct.cursor,lockedColumns:an}}).bind(ln=>{const nn=u0(W,ln.grid),Ct=Ee.from(Se==null?void 0:Se.sizing).getOrThunk(()=>Mh.getTableSize(W)),an=Ee.from(Se==null?void 0:Se.resize).getOrThunk(ag);return E(W,ln.grid,ln.info,{sizing:Ct,resize:an,section:Qe}),O(W),Fr(W,ds),ln.lockedColumns.length>0&&Ur(W,ds,ln.lockedColumns.join(",")),Ee.some({cursor:ln.cursor,newRows:nn.newRows,newCells:nn.newCells})})},Uv=(d,g)=>Hl(g.element).bind(E=>Yf(d,E).map(O=>({...O,generators:g.generators,clipboard:g.clipboard}))),_1=(d,g)=>f0(d,g,Pe).map(E=>({cells:E,generators:g.generators,clipboard:g.clipboard})),vx=(d,g)=>g.mergable,E_=(d,g)=>g.unmergable,zh=(d,g)=>f0(d,g,Pe),Kf=(d,g)=>f0(d,g,E=>!E.isLocked),Wv=(d,g)=>Yf(d,g).exists(E=>!E.isLocked),w_=(d,g)=>vs(g,E=>Wv(d,E)),bx=(d,g)=>vx(d,g).filter(E=>w_(d,E.cells)),Cd=(d,g)=>E_(d,g).filter(E=>w_(d,E)),As=(d,g,E,O)=>{const L=ta(d).rows;if(L.length===0)return d;for(let W=g.startRow;W<=g.finishRow;W++)for(let ne=g.startCol;ne<=g.finishCol;ne++){const ve=L[W],Se=vl(ve,ne).isLocked;ai(ve,ne,Mi(O(),!1,Se))}return d},T_=(d,g,E,O)=>{const L=ta(d).rows;let W=!0;for(let ne=0;ne<L.length;ne++)for(let ve=0;ve<nl(L[0]);ve++){const Se=L[ne],Me=vl(Se,ve),Qe=Me.element,$t=E(Qe,g);$t&&!W?ai(Se,ve,Mi(O(),!0,Me.isLocked)):$t&&(W=!1)}return d},Bs=(d,g)=>tt(d,(E,O)=>nt(E,L=>g(L.element,O.element))?E:E.concat([O]),[]),sa=(d,g,E,O)=>(g>0&&g<d[0].cells.length&&Ze(d,L=>{const W=L.cells[g-1];let ne=0;const ve=O();for(;L.cells.length>g+ne&&E(W.element,L.cells[g+ne].element);)ai(L,g+ne,Mi(ve,!0,L.cells[g+ne].isLocked)),ne++}),d),vu=(d,g,E,O)=>{const L=ta(d).rows;if(g>0&&g<L.length){const W=L[g-1].cells,ne=Bs(W,E);Ze(ne,ve=>{let Se=Ee.none();for(let Me=g;Me<L.length;Me++)for(let Qe=0;Qe<nl(L[0]);Qe++){const $t=L[Me],ln=vl($t,Qe);E(ln.element,ve.element)&&(Se.isNone()&&(Se=Ee.some(O())),Se.each(Ct=>{ai($t,Qe,Mi(Ct,!0,ln.isLocked))}))}})}return d},Wc=d=>{const g=W=>W(d),E=Q(d),O=()=>L,L={tag:!0,inner:d,fold:(W,ne)=>ne(d),isValue:Pe,isError:_t,map:W=>Xf.value(W(d)),mapError:O,bind:g,exists:g,forall:g,getOr:E,or:O,getOrThunk:E,orThunk:O,getOrDie:E,each:W=>{W(d)},toOptional:()=>Ee.some(d)};return L},Uh=d=>{const g=()=>E,E={tag:!1,inner:d,fold:(O,L)=>O(d),isValue:_t,isError:Pe,map:g,mapError:O=>Xf.error(O(d)),bind:g,exists:_t,forall:Pe,getOr:Ne,or:Ne,getOrThunk:dt,orThunk:dt,getOrDie:je(String(d)),each:ce,toOptional:Ee.none};return E},Xf={value:Wc,error:Uh,fromOption:(d,g)=>d.fold(()=>Uh(g),Wc)},Xl=(d,g,E)=>{if(d.row>=g.length||d.column>nl(g[0]))return Xf.error("invalid start address out of table bounds, row: "+d.row+", column: "+d.column);const O=g.slice(d.row),L=O[0].cells.slice(d.column),W=nl(E[0]),ne=E.length;return Xf.value({rowDelta:O.length-ne,colDelta:L.length-W})},Yu=(d,g)=>{const E=nl(d[0]),O=nl(g[0]);return{rowDelta:0,colDelta:E-O}},Wh=(d,g)=>{const E=d.length,O=g.length;return{rowDelta:E-O,colDelta:0}},E1=(d,g,E,O)=>{const L=g.section==="colgroup"?E.col:E.cell;return jt(d,W=>Mi(L(),!0,O(W)))},h0=(d,g,E,O)=>{const L=d[d.length-1];return d.concat(jt(g,()=>{const W=L.section==="colgroup"?E.colgroup:E.row,ne=Om(L,W,Ne),ve=E1(ne.cells.length,ne,E,Se=>Kr(O,Se.toString()));return ma(ne,ve)}))},C_=(d,g,E,O)=>zt(d,L=>{const W=E1(g,L,E,_t);return Ih(L,O,W)}),S_=(d,g,E)=>zt(d,O=>tt(E,(L,W)=>{const ne=E1(1,O,g,Pe)[0];return wv(L,W,ne)},O)),fg=(d,g,E)=>{const O=g.colDelta<0?C_:Ne,L=g.rowDelta<0?h0:Ne,W=Ul(d),ne=nl(d[0]),ve=nt(W,Qe=>Qe===ne-1),Se=O(d,Math.abs(g.colDelta),E,ve?ne-1:ne),Me=Ul(Se);return L(Se,Math.abs(g.rowDelta),E,Pn(Me,Pe))},m0=(d,g,E,O)=>{const L=vl(d[g],E),W=z(O,L.element),ne=d[g];return d.length>1&&nl(ne)>1&&(E>0&&W(Ma(ne,E-1))||E<ne.cells.length-1&&W(Ma(ne,E+1))||g>0&&W(Ma(d[g-1],E))||g<d.length-1&&W(Ma(d[g+1],E)))},qw=(d,g,E,O,L,W)=>{const ne=d.row,ve=d.column,Se=E.length,Me=nl(E[0]),Qe=ne+Se,$t=ve+Me+W.length,ln=Pn(W,Pe);for(let nn=ne;nn<Qe;nn++){let Ct=0;for(let an=ve;an<$t;an++){if(ln[an]){Ct++;continue}m0(g,nn,an,L)&&T_(g,Ma(g[nn],an),L,O.cell);const wt=an-ve-Ct,Tn=vl(E[nn-ne],wt),Jn=Tn.element,_o=O.replace(Jn);ai(g[nn],an,Mi(_o,!0,Tn.isLocked))}}return g},jw=(d,g,E)=>{const O=nl(g[0]),L=ta(g).cols.length+d.row,W=jt(O-d.column,ve=>ve+d.column),ne=se(W,ve=>vs(E,Se=>Se!==ve)).getOr(O-1);return{row:L,column:ne}},x_=(d,g,E)=>co(E,O=>O>=d.column&&O<=nl(g[0])+d.column),A_=(d,g,E,O,L)=>{const W=Ul(g),ne=jw(d,g,W),ve=ta(E).rows,Se=x_(ne,ve,W);return Xl(ne,g,ve).map(Qe=>{const $t={...Qe,colDelta:Qe.colDelta-Se.length},ln=fg(g,$t,O),nn=Ul(ln),Ct=x_(ne,ve,nn);return qw(ne,ln,ve,O,L,Ct)})},p0=(d,g,E,O,L)=>{sa(g,d,L,O.cell);const W=Wh(E,g),ne=fg(E,W,O),ve=Wh(g,ne),Se=fg(g,ve,O);return zt(Se,(Me,Qe)=>Ih(Me,d,ne[Qe].cells))},O_=(d,g,E,O,L)=>{vu(g,d,L,O.cell);const W=Ul(g),ne=Yu(g,E),ve={...ne,colDelta:ne.colDelta-W.length},Se=fg(g,ve,O),{cols:Me,rows:Qe}=ta(Se),$t=Ul(Se),ln=Yu(E,g),nn={...ln,colDelta:ln.colDelta+$t.length},Ct=S_(E,O,$t),an=fg(Ct,nn,O);return[...Me,...Qe.slice(0,d),...an,...Qe.slice(d,Qe.length)]},Zw=(d,g,E,O)=>Om(d,L=>O(L,E),g),g0=(d,g,E,O,L)=>{const{rows:W,cols:ne}=ta(d),ve=W.slice(0,g),Se=W.slice(g),Me=Zw(W[E],(Qe,$t)=>g>0&&g<W.length&&O(Ma(W[g-1],$t),Ma(W[g],$t))?vl(W[g],$t):Mi(L(Qe.element,O),!0,Qe.isLocked),O,L);return[...ne,...ve,Me,...Se]},Ym=(d,g,E,O,L,W,ne)=>{if(E==="colgroup"||!O){const ve=vl(d,L);return Mi(ne(ve.element,W),!0,!1)}else return vl(d,g)},v0=(d,g,E,O,L)=>zt(d,W=>{const ne=g>0&&g<nl(W)&&O(Ma(W,g-1),Ma(W,g)),ve=Ym(W,g,W.section,ne,E,O,L);return wv(W,g,ve)}),Yw=(d,g)=>Ft(d,E=>{const O=E.cells,L=Ho(g,(W,ne)=>ne>=0&&ne<W.length?W.slice(0,ne).concat(W.slice(ne+1)):W,O);return L.length>0?[Lu(E.element,L,E.section,E.isNew)]:[]}),Kw=(d,g,E)=>{const{rows:O,cols:L}=ta(d);return[...L,...O.slice(0,g),...O.slice(E+1)]},R_=(d,g,E,O)=>Ma(d[g],E)!==void 0&&g>0&&O(Ma(d[g-1],E),Ma(d[g],E)),Sr=(d,g,E)=>g>0&&E(Ma(d,g-1),Ma(d,g)),ff=(d,g,E,O)=>R_(d,g,E,O)||Sr(d[g],E,O),Gh=(d,g)=>vs(g,Ne)&&qm(d.cells)?Pe:(O,L,W)=>!(Ps(O.element)==="th"&&g[W]),I_=(d,g)=>vs(g,Ne)&&qm(d)?Pe:(O,L,W)=>!(Ps(O.element)==="th"&&g[L]),Gv=(d,g,E,O)=>{const L=ne=>ne==="row"?ea(g):sc(g),W=ne=>L(ne)?`${ne}group`:ne;return d?cg(g)?W(E):null:O&&cg(g)?W(E==="row"?"col":"row"):null},fc=(d,g)=>(E,O,L)=>Ee.some(Gv(d,E.element,"col",g[L])),il=(d,g)=>(E,O)=>Ee.some(Gv(d,E.element,"row",g[O])),Km=(d,g,E)=>Mi(E(d.element,g),!0,d.isLocked),qv=(d,g,E,O,L,W,ne)=>{const ve=Se=>nt(g,Me=>E(Se.element,Me.element));return zt(d,(Se,Me)=>$u(Se,(Qe,$t)=>{if(ve(Qe)){const ln=ne(Qe,Me,$t)?L(Qe,E,O):Qe;return W(ln,Me,$t).each(nn=>{Xc(ln.element,{scope:Ee.from(nn)})}),ln}else return Qe}))},b0=(d,g,E)=>Ft(d,(O,L)=>ff(d,L,g,E)?[]:[vl(O,g)]),D_=(d,g,E)=>{const O=d[g];return Ft(O.cells,(L,W)=>ff(d,g,W,E)?[]:[L])},y0=(d,g,E,O,L)=>{const W=ta(d).rows,ne=Ft(g,Qe=>b0(W,Qe,O)),ve=zt(W,Qe=>qm(Qe.cells)),Se=I_(ne,ve),Me=il(E,ve);return qv(d,ne,O,L,Km,Me,Se)},N_=(d,g,E,O,L,W,ne)=>{const{cols:ve,rows:Se}=ta(d),Me=Se[g[0]],Qe=Ft(g,wt=>D_(Se,wt,L)),$t=zt(Me.cells,(wt,Tn)=>qm(b0(Se,Tn,L))),ln=[...Se];Ze(g,wt=>{ln[wt]=ne.transformRow(Se[wt],E)});const nn=[...ve,...ln],Ct=Gh(Me,$t),an=fc(O,$t);return qv(nn,Qe,L,W,ne.transformCell,an,Ct)},Ol=(d,g,E,O)=>{const L=ta(d).rows,W=zt(g,ne=>vl(L[ne.row],ne.column));return qv(d,W,E,O,Km,Ee.none,Pe)},Mr={generate:d=>{if(!k(d))throw new Error("cases must be an array");if(d.length===0)throw new Error("there must be at least one case");const g=[],E={};return Ze(d,(O,L)=>{const W=Bt(O);if(W.length!==1)throw new Error("one and only one name per case");const ne=W[0],ve=O[ne];if(E[ne]!==void 0)throw new Error("duplicate key detected:"+ne);if(ne==="cata")throw new Error("cannot have a case named cata (sorry)");if(!k(ve))throw new Error("case arguments must be an array");g.push(ne),E[ne]=(...Se)=>{const Me=Se.length;if(Me!==ve.length)throw new Error("Wrong number of arguments to case "+ne+". Expected "+ve.length+" ("+ve+"), got "+Me);return{fold:(...$t)=>{if($t.length!==d.length)throw new Error("Wrong number of arguments to fold. Expected "+d.length+", got "+$t.length);return $t[L].apply(null,Se)},match:$t=>{const ln=Bt($t);if(g.length!==ln.length)throw new Error("Wrong number of arguments to match. Expected: "+g.join(",")+`
Actual: `+ln.join(","));if(!vs(g,Ct=>It(ln,Ct)))throw new Error("Not all branches were specified when using match. Specified: "+ln.join(", ")+`
Required: `+g.join(", "));return $t[ne].apply(null,Se)},log:$t=>{console.log($t,{constructors:g,constructor:ne,params:Se})}}}}),E}},Sd={...Mr.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},Xw=(d,g)=>d.length===0?Sd.none():d.length===1?Sd.only(0):g===0?Sd.left(0,1):g===d.length-1?Sd.right(g-1,g):g>0&&g<d.length-1?Sd.middle(g-1,g,g+1):Sd.none(),M_=(d,g,E,O,L)=>{const W=d.slice(0),ne=Xw(d,g),ve=Q(zt(W,Q(0))),Se=ln=>O.singleColumnWidth(W[ln],E),Me=(ln,nn)=>L.calcLeftEdgeDeltas(W,ln,nn,E,O.minCellWidth(),O.isRelative),Qe=(ln,nn,Ct)=>L.calcMiddleDeltas(W,ln,nn,Ct,E,O.minCellWidth(),O.isRelative),$t=(ln,nn)=>L.calcRightEdgeDeltas(W,ln,nn,E,O.minCellWidth(),O.isRelative);return ne.fold(ve,Se,Me,Qe,$t)},_0=(d,g,E)=>{let O=0;for(let L=d;L<g;L++)O+=E[L]!==void 0?E[L]:0;return O},Xm=(d,g)=>{const E=be.justCells(d);return zt(E,O=>{const L=_0(O.column,O.column+O.colspan,g);return{element:O.element,width:L,colspan:O.colspan}})},E0=(d,g)=>{const E=be.justColumns(d);return zt(E,(O,L)=>({element:O.element,width:g[L],colspan:O.colspan}))},hg=(d,g)=>{const E=be.justCells(d);return zt(E,O=>{const L=_0(O.row,O.row+O.rowspan,g);return{element:O.element,height:L,rowspan:O.rowspan}})},Qm=(d,g)=>zt(d.all,(E,O)=>({element:E.element,height:g[O]})),Qw=d=>Ho(d,(g,E)=>g+E,0),w1=(d,g)=>be.hasColumns(d)?E0(d,g):Xm(d,g),T1=(d,g,E)=>{const O=w1(d,g);Ze(O,L=>{E.setElementWidth(L.element,L.width)})},w0=(d,g,E,O,L)=>{const W=be.fromTable(d),ne=L.getCellDelta(g),ve=L.getWidths(W,L),Se=E===W.grid.columns-1,Me=O.clampTableDelta(ve,E,ne,L.minCellWidth(),Se),Qe=M_(ve,E,Me,L,O),$t=zt(Qe,(ln,nn)=>ln+ve[nn]);T1(W,$t,L),O.resizeTable(L.adjustTableWidth,Me,Se)},jv=(d,g,E,O)=>{const L=be.fromTable(d),W=qr(L,d,O),ne=zt(W,(Qe,$t)=>E===$t?Math.max(g+Qe,Ia()):Qe),ve=hg(L,ne),Se=Qm(L,ne);Ze(Se,Qe=>{mr(Qe.element,Qe.height)}),Ze(ve,Qe=>{mr(Qe.element,Qe.height)});const Me=Qw(ne);mr(d,Me)},mg=(d,g,E,O,L)=>{const W=be.generate(g),ne=O.getWidths(W,O),ve=O.pixelWidth(),{newSizes:Se,delta:Me}=L.calcRedestributedWidths(ne,ve,E.pixelDelta,O.isRelative);T1(W,Se,O),O.adjustTableWidth(Me)},Zv=(d,g,E,O)=>{const L=be.generate(g),W=O.getWidths(L,O);T1(L,W,O)},qh=d=>tt(d,(E,O)=>nt(E,W=>W.column===O.column)?E:E.concat([O]),[]).sort((E,O)=>E.column-O.column),pg=Ni("col"),k_=Ni("colgroup"),P_=d=>Ps(d)==="tr"||k_(d),C1=d=>{const g=Wr(d,"colspan",1),E=Wr(d,"rowspan",1);return{element:d,colspan:g,rowspan:E}},xd=(d,g=C1)=>{const E=ve=>pg(ve.element)?d.col(ve):d.cell(ve),O=ve=>k_(ve.element)?d.colgroup(ve):d.row(ve),L=ve=>{if(P_(ve))return O({element:ve});{const Se=ve,Me=E(g(Se));return W=Ee.some({item:Se,replacement:Me}),Me}};let W=Ee.none();return{getOrInit:(ve,Se)=>W.fold(()=>L(ve),Me=>Se(ve,Me.item)?Me.replacement:L(ve))}},bu=d=>g=>{const E=[],O=(ne,ve)=>se(E,Se=>ve(Se.item,ne)),L=ne=>{const ve=d==="td"?{scope:null}:{},Se=g.replace(ne,d,ve);return E.push({item:ne,sub:Se}),Se};return{replaceOrInit:(ne,ve)=>{if(P_(ne)||pg(ne))return ne;{const Se=ne;return O(Se,ve).fold(()=>L(Se),Me=>ve(ne,Me.item)?Me.sub:L(Se))}}}},S1=d=>xa(d,"scope").map(g=>g.substr(0,3)),xr={modification:xd,transform:bu,merging:d=>({unmerge:O=>{const L=S1(O);return L.each(W=>Ur(O,"scope",W)),()=>{const W=d.cell({element:O,colspan:1,rowspan:1});return wc(W,"width"),wc(O,"width"),L.each(ne=>Ur(W,"scope",ne)),W}},merge:O=>{const L=()=>{const W=ur(zt(O,S1));if(W.length===0)return Ee.none();{const ne=W[0],ve=["row","col"];return nt(W,Me=>Me!==ne&&It(ve,Me))?Ee.none():Ee.from(ne)}};return wc(O[0],"width"),L().fold(()=>Fr(O[0],"scope"),W=>Ur(O[0],"scope",W+"group")),Q(O[0])}})},Jm=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],T0=(d,g)=>{const E=d.property().name(g);return It(["ol","ul"],E)},tr=(d,g)=>{const E=d.property().name(g);return It(Jm,E)},Ku=(d,g)=>It(["br","img","hr","input"],d.property().name(g)),x1=Gu(),ra=d=>tr(x1,d),Xu=d=>T0(x1,d),C0=d=>Ku(x1,d),L_=d=>{const g=Ni("br"),E=Se=>vs(Se,Me=>g(Me)||Iu(Me)&&Tl(Me).trim().length===0),O=Se=>Ps(Se)==="li"||Le(Se,Xu).isSome(),L=Se=>cd(Se).map(Me=>ra(Me)?!0:C0(Me)?Ps(Me)!=="img":!1).getOr(!1),W=Se=>Ov(Se).bind(Me=>{const Qe=L(Me);return uu(Me).map($t=>Qe===!0||O($t)||g(Me)||ra($t)&&!Hs(Se,$t)?[]:[Je.fromTag("br")])}).getOr([]),ve=(()=>{const Se=Ft(d,Me=>{const Qe=Ss(Me);return E(Qe)?[]:Qe.concat(W(Me))});return Se.length===0?[Je.fromTag("br")]:Se})();ii(d[0]),tc(d[0],ve)},Yv=d=>oa(d,!0),ep=d=>{hu(d).length===0&&Hr(d)},jh=(d,g)=>({grid:d,cursor:g}),Kv=d=>bi(d,g=>bi(g.cells,E=>{const O=E.element;return us(Yv(O),O)})),A1=(d,g,E)=>{var O,L;const W=ta(d).rows;return Ee.from((L=(O=W[g])===null||O===void 0?void 0:O.cells[E])===null||L===void 0?void 0:L.element).filter(Yv).orThunk(()=>Kv(W))},Rc=(d,g,E)=>{const O=A1(d,g,E);return jh(d,O)},O1=d=>tt(d,(E,O)=>nt(E,W=>W.row===O.row)?E:E.concat([O]),[]).sort((E,O)=>E.row-O.row),S0=(d,g,E,O)=>{const L=g[0].row,W=O1(g),ne=Ho(W,(ve,Se)=>({grid:g0(ve.grid,L,Se.row+ve.delta,E,O.getOrInit),delta:ve.delta+1}),{grid:d,delta:0}).grid;return Rc(ne,L,g[0].column)},R1=(d,g,E,O)=>{const L=O1(g),W=L[L.length-1],ne=W.row+W.rowspan,ve=Ho(L,(Se,Me)=>g0(Se,ne,Me.row,E,O.getOrInit),d);return Rc(ve,ne,g[0].column)},Jf=(d,g,E,O)=>{const L=g.details,W=qh(L),ne=W[0].column,ve=Ho(W,(Se,Me)=>({grid:v0(Se.grid,ne,Me.column+Se.delta,E,O.getOrInit),delta:Se.delta+1}),{grid:d,delta:0}).grid;return Rc(ve,L[0].row,ne)},Ic=(d,g,E,O)=>{const L=g.details,W=L[L.length-1],ne=W.column+W.colspan,ve=qh(L),Se=Ho(ve,(Me,Qe)=>v0(Me,ne,Qe.column,E,O.getOrInit),d);return Rc(Se,L[0].row,ne)},Jw=(d,g,E,O)=>{const L=qh(g),W=zt(L,ve=>ve.column),ne=y0(d,W,!0,E,O.replaceOrInit);return Rc(ne,g[0].row,g[0].column)},ba=(d,g,E,O)=>{const L=Ol(d,g,E,O.replaceOrInit);return Rc(L,g[0].row,g[0].column)},Xv=(d,g,E,O)=>{const L=qh(g),W=zt(L,ve=>ve.column),ne=y0(d,W,!1,E,O.replaceOrInit);return Rc(ne,g[0].row,g[0].column)},mf=(d,g,E,O)=>{const L=Ol(d,g,E,O.replaceOrInit);return Rc(L,g[0].row,g[0].column)},I1=(d,g)=>(E,O,L,W,ne)=>{const ve=O1(O),Se=zt(ve,Qe=>Qe.row),Me=N_(E,Se,d,g,L,W.replaceOrInit,ne);return Rc(Me,O[0].row,O[0].column)},B_=I1("thead",!0),x0=I1("tbody",!1),A0=I1("tfoot",!1),O0=(d,g,E,O)=>{const L=qh(g.details),W=Yw(d,zt(L,ve=>ve.column)),ne=W.length>0?W[0].cells.length-1:0;return Rc(W,L[0].row,Math.min(L[0].column,ne))},R0=(d,g,E,O)=>{const L=O1(g),W=Kw(d,L[0].row,L[L.length-1].row),ne=W.length>0?W.length-1:0;return Rc(W,Math.min(g[0].row,ne),g[0].column)},$_=(d,g,E,O)=>{const L=g.cells;L_(L);const W=As(d,g.bounds,E,O.merge(L));return jh(W,Ee.from(L[0]))},eT=(d,g,E,O)=>{const W=Ho(g,(ne,ve)=>T_(ne,ve,E,O.unmerge(ve)),d);return jh(W,Ee.from(g[0]))},ya=(d,g,E,O)=>{const W=((Se,Me)=>{const Qe=be.fromTable(Se);return ug(Qe,Me,!0)})(g.clipboard,g.generators),ne=Mu(g.row,g.column);return A_(ne,d,W,g.generators,E).fold(()=>jh(d,Ee.some(g.element)),Se=>Rc(Se,g.row,g.column))},Ui=(d,g,E)=>{const O=mu(d,E.section),L=be.generate(O);return ug(L,g,!0)},Gc=(d,g,E,O)=>{const L=ta(d).rows,W=g.cells[0].column,ne=L[g.cells[0].row],ve=Ui(g.clipboard,g.generators,ne),Se=p0(W,d,ve,g.generators,E);return Rc(Se,g.cells[0].row,g.cells[0].column)},Rl=(d,g,E,O)=>{const L=ta(d).rows,W=g.cells[g.cells.length-1].column+g.cells[g.cells.length-1].colspan,ne=L[g.cells[0].row],ve=Ui(g.clipboard,g.generators,ne),Se=p0(W,d,ve,g.generators,E);return Rc(Se,g.cells[0].row,g.cells[0].column)},Ds=(d,g,E,O)=>{const L=ta(d).rows,W=g.cells[0].row,ne=L[W],ve=Ui(g.clipboard,g.generators,ne),Se=O_(W,d,ve,g.generators,E);return Rc(Se,g.cells[0].row,g.cells[0].column)},Pa=(d,g,E,O)=>{const L=ta(d).rows,W=g.cells[g.cells.length-1].row+g.cells[g.cells.length-1].rowspan,ne=L[g.cells[0].row],ve=Ui(g.clipboard,g.generators,ne),Se=O_(W,d,ve,g.generators,E);return Rc(Se,g.cells[0].row,g.cells[0].column)},Qu=(d,g)=>{const E=be.fromTable(d);return zh(E,g).bind(L=>{const W=L[L.length-1],ne=L[0].column,ve=W.column+W.colspan,Se=fo(zt(E.all,Me=>co(Me.cells,Qe=>Qe.column>=ne&&Qe.column<ve)));return Hh(Se)}).getOr("")},eh=(d,g)=>{const E=be.fromTable(d);return zh(E,g).bind(Hh).getOr("")},fs=(d,g)=>{const E=be.fromTable(d);return zh(E,g).bind(L=>{const W=L[L.length-1],ne=L[0].row,ve=W.row+W.rowspan,Se=E.all.slice(ne,ve);return y1(Se)}).getOr("")},Qv=(d,g,E,O)=>Zv(d,g,E,O.sizing),qc=(d,g,E,O)=>mg(d,g,E,O.sizing,O.resize),Wi=(d,g)=>nt(g,E=>E.column===0&&E.isLocked),D1=(d,g)=>nt(g,E=>E.column+E.colspan>=d.grid.columns&&E.isLocked),Ad=(d,g)=>{const E=Qd(d),O=qh(g);return tt(O,(L,W)=>{const ve=E[W.column].map(Xd).getOr(0);return L+ve},0)},I0=d=>(g,E)=>zh(g,E).filter(O=>!(d?Wi:D1)(g,O)).map(O=>({details:O,pixelDelta:Ad(g,O)})),yx=(d,g)=>Kf(d,g).map(E=>({details:E,pixelDelta:-Ad(d,E)})),Jv=d=>(g,E)=>_1(g,E).filter(O=>!(d?Wi:D1)(g,O.cells)),D0=xr.transform("th"),eb=xr.transform("td"),N1=Si(S0,zh,ce,ce,xr.modification),F_=Si(R1,zh,ce,ce,xr.modification),_n=Si(Jf,I0(!0),qc,ce,xr.modification),tb=Si(Ic,I0(!1),qc,ce,xr.modification),M1=Si(O0,yx,qc,ep,xr.modification),Gi=Si(R0,zh,ce,ep,xr.modification),Pt=Si(Jw,Kf,ce,ce,D0),H_=Si(Xv,Kf,ce,ce,eb),_a=Si(B_,Kf,ce,ce,D0),tT=Si(x0,Kf,ce,ce,eb),V_=Si(A0,Kf,ce,ce,eb),z_=Si(ba,Kf,ce,ce,D0),yu=Si(mf,Kf,ce,ce,eb),_u=Si($_,bx,Qv,ce,xr.merging),gg=Si(eT,Cd,Qv,ce,xr.merging),al=Si(ya,Uv,Qv,ce,xr.modification),k1=Si(Gc,Jv(!0),ce,ce,xr.modification),P1=Si(Rl,Jv(!1),ce,ce,xr.modification),Od=Si(Ds,_1,ce,ce,xr.modification),Ql=Si(Pa,_1,ce,ce,xr.modification),cl=Qu,Dc=eh,nT=fs,nb=(d,g)=>d.dispatch("NewRow",{node:g}),ob=(d,g)=>d.dispatch("NewCell",{node:g}),Zh=(d,g,E)=>{d.dispatch("TableModified",{...E,table:g})},U_=(d,g,E,O,L)=>{d.dispatch("TableSelectionChange",{cells:g,start:E,finish:O,otherCells:L})},sb=d=>{d.dispatch("TableSelectionClear")},th=(d,g,E,O,L)=>{d.dispatch("ObjectResizeStart",{target:g,width:E,height:O,origin:L})},Es=(d,g,E,O,L)=>{d.dispatch("ObjectResized",{target:g,width:E,height:O,origin:L})},tp={structure:!1,style:!0},gr={structure:!0,style:!1},W_={structure:!0,style:!0},np=d=>g=>g.options.get(d),kr="100%",rb=d=>{var g;const E=d.dom,O=(g=E.getParent(d.selection.getStart(),E.isBlock))!==null&&g!==void 0?g:d.getBody();return io(Je.fromDom(O))+"px"},G_=(d,g)=>Ys(d)||!Nc(d)?g:Eu(d)?{...g,width:rb(d)}:{...g,width:kr},vg=(d,g)=>Ys(d)||Nc(d)?g:Eu(d)?{...g,width:rb(d)}:{...g,width:kr},oT=d=>{const g=d.options.register;g("table_clone_elements",{processor:"string[]"}),g("table_use_colgroups",{processor:"boolean",default:!0}),g("table_header_type",{processor:E=>{const O=It(["section","cells","sectionCells","auto"],E);return O?{value:E,valid:O}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),g("table_sizing_mode",{processor:"string",default:"auto"}),g("table_default_attributes",{processor:"object",default:{border:"1"}}),g("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),g("table_column_resizing",{processor:E=>{const O=It(["preservetable","resizetable"],E);return O?{value:E,valid:O}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),g("table_resize_bars",{processor:"boolean",default:!0}),g("table_style_by_css",{processor:"boolean",default:!0})},L1=d=>Ee.from(d.options.get("table_clone_elements")),q_=d=>{const g=d.options.get("object_resizing");return It(g.split(","),"table")},j_=np("table_header_type"),N0=np("table_column_resizing"),M0=d=>N0(d)==="preservetable",Z_=d=>N0(d)==="resizetable",pf=np("table_sizing_mode"),ib=d=>pf(d)==="relative",Eu=d=>pf(d)==="fixed",Ys=d=>pf(d)==="responsive",bg=np("table_resize_bars"),Nc=np("table_style_by_css"),B1=d=>{const g=d.options,E=g.get("table_default_attributes");return g.isSet("table_default_attributes")?E:vg(d,E)},Y_=d=>{const g=d.options,E=g.get("table_default_styles");return g.isSet("table_default_styles")?E:G_(d,E)},ab=np("table_use_colgroups"),$1=(d,g)=>ib(d)?Mh.percentageSize(g):Eu(d)?Mh.pixelSize(g):Mh.getTableSize(g),k0=(d,g,E)=>{const O=Nl=>Ps(Vc(Nl))==="table",L=Nl=>!O(d)||Gm(Nl).rows>1,W=Nl=>!O(d)||Gm(Nl).columns>1,ne=L1(d),ve=Z_(d)?ce:Uc,Se=Nl=>{switch(j_(d)){case"section":return Zm.section();case"sectionCells":return Zm.sectionCells();case"cells":return Zm.cells();default:return Zm.getTableSectionType(Nl,"section")}},Me=(Nl,Zx)=>Zx.cursor.fold(()=>{const Tb=hu(Nl);return pt(Tb).filter(Xr).map(Md=>{E.clearSelectedCells(Nl.dom);const kc=d.dom.createRng();return kc.selectNode(Md.dom),d.selection.setRng(kc),Ur(Md,"data-mce-selected","1"),kc})},Tb=>{const Md=uf(Tb),kc=d.dom.createRng();return kc.setStart(Md.element.dom,Md.offset),kc.setEnd(Md.element.dom,Md.offset),d.selection.setRng(kc),E.clearSelectedCells(Nl.dom),Ee.some(kc)}),Qe=(Nl,Zx,Tb,Md)=>(kc,kd,Yx=!1)=>{xl(kc);const Kx=Je.fromDom(d.getDoc()),PR=Ph(Tb,Kx,ne),LR={sizing:$1(d,kc),resize:Z_(d)?ig():ag(),section:Se(kc)};return Zx(kc)?Nl(kc,kd,PR,LR).bind(bC=>{g.refresh(kc.dom),Ze(bC.newRows,ov=>{nb(d,ov.dom)}),Ze(bC.newCells,ov=>{ob(d,ov.dom)});const Cb=Me(kc,bC);return Xr(kc)&&(xl(kc),Yx||Zh(d,kc.dom,Md)),Cb.map(ov=>({rng:ov,effect:Md}))}):Ee.none()},$t=Qe(Gi,L,ce,gr),ln=Qe(M1,W,ce,gr),nn=Qe(N1,Pe,ce,gr),Ct=Qe(F_,Pe,ce,gr),an=Qe(_n,Pe,ve,gr),wt=Qe(tb,Pe,ve,gr),Tn=Qe(_u,Pe,ce,gr),Jn=Qe(gg,Pe,ce,gr),_o=Qe(k1,Pe,ce,gr),ar=Qe(P1,Pe,ce,gr),mc=Qe(Od,Pe,ce,gr),hi=Qe(Ql,Pe,ce,gr),Cu=Qe(al,Pe,ce,W_),Rg=Qe(z_,Pe,ce,gr),py=Qe(yu,Pe,ce,gr),vC=Qe(Pt,Pe,ce,gr),$E=Qe(H_,Pe,ce,gr),Ks=Qe(_a,Pe,ce,gr),Il=Qe(tT,Pe,ce,gr),Dl=Qe(V_,Pe,ce,gr);return{deleteRow:$t,deleteColumn:ln,insertRowsBefore:nn,insertRowsAfter:Ct,insertColumnsBefore:an,insertColumnsAfter:wt,mergeCells:Tn,unmergeCells:Jn,pasteColsBefore:_o,pasteColsAfter:ar,pasteRowsBefore:mc,pasteRowsAfter:hi,pasteCells:Cu,makeCellsHeader:Rg,unmakeCellsHeader:py,makeColumnsHeader:vC,unmakeColumnsHeader:$E,makeRowsHeader:Ks,makeRowsBody:Il,makeRowsFooter:Dl,getTableRowType:nT,getTableCellType:Dc,getTableColType:cl}},K_=(d,g,E)=>{const O=Wr(d,g,1);E===1||O<=1?Fr(d,g):Ur(d,g,Math.min(E,O))},hc=(d,g)=>E=>{const O=E.column+E.colspan-1,L=E.column;return O>=d&&L<g},Jl=(d,g,E)=>{if(be.hasColumns(d)){const O=co(be.justColumns(d),hc(g,E)),L=zt(O,ne=>{const ve=Bc(ne.element);return K_(ve,"span",E-g),ve}),W=Je.fromTag("colgroup");return tc(W,L),[W]}else return[]},sT=(d,g,E)=>zt(d.all,O=>{const L=co(O.cells,hc(g,E)),W=zt(L,ve=>{const Se=Bc(ve.element);return K_(Se,"colspan",E-g),Se}),ne=Je.fromTag("tr");return tc(ne,W),ne}),rT=(d,g)=>{const E=be.fromTable(d);return Kf(E,g).map(L=>{const W=L[L.length-1],ne=L[0].column,ve=W.column+W.colspan,Se=Jl(E,ne,ve),Me=sT(E,ne,ve);return[...Se,...Me]})},iT=(d,g,E)=>{const O=be.fromTable(d);return zh(O,g).bind(W=>{const ne=ug(O,E,!1),Se=ta(ne).rows.slice(W[0].row,W[W.length-1].row+W[W.length-1].rowspan),Me=Ft(Se,$t=>{const ln=co($t.cells,nn=>!nn.isLocked);return ln.length>0?[{...$t,cells:ln}]:[]}),Qe=zi(Me);return us(Qe.length>0,Qe)}).map(W=>d0(W))},op=Mr.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),P0=(d,g,E)=>{const O=E.substring(0,E.length-d.length),L=parseFloat(O);return O===L.toString()?g(L):op.invalid(E)},sp={...op,from:d=>Oo(d,"%")?P0("%",op.percent,d):Oo(d,"px")?P0("px",op.pixels,d):op.invalid(d)},X_=(d,g)=>zt(d,E=>sp.from(E).fold(()=>E,L=>L/g*100+"%",L=>L+"%")),aT=(d,g,E)=>{const O=E/g;return zt(d,L=>sp.from(L).fold(()=>L,ne=>ne*O+"px",ne=>ne/100*E+"px"))},cT=(d,g)=>{const E=d.fold(()=>Q(""),O=>{const L=O/g;return Q(L+"px")},()=>{const O=100/g;return Q(O+"%")});return jt(g,E)},B0=(d,g,E)=>d.fold(()=>g,O=>aT(g,E,O),O=>X_(g,E)),$0=(d,g,E)=>{const O=sp.from(E),L=vs(d,W=>W==="0px")?cT(O,d.length):B0(O,d,g);return uT(L)},Yh=(d,g)=>d.length===0?g:Ho(d,(E,O)=>sp.from(O).fold(Q(0),Ne,Ne)+E,0),Q_=(d,g)=>{const E=Math.floor(d);return{value:E+g,remainder:d-E}},lT=(d,g)=>sp.from(d).fold(Q(d),E=>E+g+"px",E=>E+g+"%"),uT=d=>{if(d.length===0)return d;const g=Ho(d,(O,L)=>{const W=sp.from(L).fold(()=>({value:L,remainder:0}),ne=>Q_(ne,"px"),ne=>({value:ne+"%",remainder:0}));return{output:[W.value].concat(O.output),remainder:O.remainder+W.remainder}},{output:[],remainder:0}),E=g.output;return E.slice(0,E.length-1).concat([lT(E[E.length-1],Math.round(g.remainder))])},dT=sp.from,Rd=(d,g,E)=>{Ze(g,O=>{const L=d.slice(O.column,O.colspan+O.column),W=Yh(L,Va());as(O.element,"width",W+E)})},cb=(d,g,E)=>{Ze(g,(O,L)=>{const W=Yh([d[L]],Va());as(O.element,"width",W+E)})},rp=(d,g,E,O)=>{Ze(E,L=>{const W=d.slice(L.row,L.rowspan+L.row),ne=Yh(W,Ia());as(L.element,"height",ne+O)}),Ze(g,(L,W)=>{as(L.element,"height",d[W])})},lb=d=>dT(d).fold(Q("px"),Q("px"),Q("%")),J_=(d,g,E)=>{const O=be.fromTable(d),L=O.all,W=be.justCells(O),ne=be.justColumns(O);g.each(ve=>{const Se=lb(ve),Me=tl(d),Qe=Dn(O,d),$t=$0(Qe,Me,ve);be.hasColumns(O)?cb($t,ne,Se):Rd($t,W,Se),as(d,"width",ve)}),E.each(ve=>{const Se=lb(ve),Me=pa(d),Qe=li(O,d,yl),$t=$0(Qe,Me,ve);rp($t,L,W,Se),as(d,"height",ve)})},gf=qa,F1=ac,F0=km,Id=d=>{Fr(d,"width")},Kh=d=>{const g=ql(d);J_(d,Ee.some(g),Ee.none()),Id(d)},H0=d=>{const g=Gr(d);J_(d,Ee.some(g),Ee.none()),Id(d)},eE=d=>{wc(d,"width");const g=Yd(d),E=g.length>0?g:hu(d);Ze(E,O=>{wc(O,"width"),Id(O)}),Id(d)},fT={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},hT=()=>Je.fromTag("th"),V0=()=>Je.fromTag("td"),mT=()=>Je.fromTag("col"),pT=(d,g,E,O)=>{const L=Je.fromTag("tr");for(let W=0;W<d;W++){const ne=O<g||W<E?hT():V0();W<E&&Ur(ne,"scope","row"),O<g&&Ur(ne,"scope","col"),yr(ne,Je.fromTag("br")),yr(L,ne)}return L},tE=d=>{const g=Je.fromTag("colgroup");return jt(d,()=>yr(g,mT())),g},nE=(d,g,E,O)=>jt(d,L=>pT(g,E,O,L)),ub=(d,g,E,O,L,W=fT)=>{const ne=Je.fromTag("table"),ve=L!=="cells";fr(ne,W.styles),Ha(ne,W.attributes),W.colGroups&&yr(ne,tE(g));const Se=Math.min(d,E);if(ve&&E>0){const nn=Je.fromTag("thead");yr(ne,nn);const an=nE(E,g,L==="sectionCells"?Se:0,O);tc(nn,an)}const Me=Je.fromTag("tbody");yr(ne,Me);const Qe=ve?d-Se:d,ln=nE(Qe,g,ve?0:E,O);return tc(Me,ln),ne},gT=d=>d.dom.innerHTML,vT=d=>{const g=Je.fromTag("div"),E=Je.fromDom(d.dom.cloneNode(!0));return yr(g,E),gT(g)},bT=(d,g)=>{d.selection.select(g.dom,!0),d.selection.collapse(!0)},oE=(d,g)=>{eo(g,"td,th").each(z(bT,d))},z0=(d,g)=>{Ze(_e(g,"tr"),E=>{nb(d,E.dom),Ze(_e(E,"th,td"),O=>{ob(d,O.dom)})})},sE=d=>S(d)&&d.indexOf("%")!==-1,yT=(d,g,E,O,L)=>{const W=Y_(d),ne={styles:W,attributes:B1(d),colGroups:ab(d)};return d.undoManager.ignore(()=>{const ve=ub(E,g,L,O,j_(d),ne);Ur(ve,"data-mce-id","__mce");const Se=vT(ve);d.insertContent(Se),d.addVisual()}),eo(Vc(d),'table[data-mce-id="__mce"]').map(ve=>(Eu(d)?H0(ve):Ys(d)?eE(ve):(ib(d)||sE(W.width))&&Kh(ve),xl(ve),Fr(ve,"data-mce-id"),z0(d,ve),oE(d,ve),ve.dom)).getOrNull()},rE=(d,g,E,O={})=>{const L=W=>ue(W)&&W>0;if(L(g)&&L(E)){const W=O.headerRows||0,ne=O.headerColumns||0;return yT(d,E,g,ne,W)}else return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var H1=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const U0="x-tinymce/dom-table-",W0=U0+"rows",yg=U0+"columns",db=d=>{const g=H1.FakeClipboardItem(d);H1.write([g])},V1=d=>{var g;const E=(g=H1.read())!==null&&g!==void 0?g:[];return bi(E,O=>Ee.from(O.getType(d)))},G0=d=>{V1(d).isSome()&&H1.clear()},q0=d=>{d.fold(ip,g=>db({[W0]:g}))},iE=()=>V1(W0),ip=()=>G0(W0),aE=d=>{d.fold(_T,g=>db({[yg]:g}))},ap=()=>V1(yg),_T=()=>G0(yg),j0=d=>b1(Qp(d),Zl(d)).filter(zc),cE=d=>Fh(Qp(d),Zl(d)).filter(zc),eu=(d,g)=>{const E=Zl(d),O=()=>j0(d).each(wt=>{Ti(wt,E).filter(we(E)).each(Tn=>{const Jn=Je.fromText("");if(Aa(Tn,Jn),Hr(Tn),d.dom.isEmpty(d.getBody()))d.setContent(""),d.selection.setCursorLocation();else{const _o=d.dom.createRng();_o.setStart(Jn.dom,0),_o.setEnd(Jn.dom,0),d.selection.setRng(_o),d.nodeChanged()}})}),L=wt=>j0(d).each(Tn=>{Ys(d)||Eu(d)||ib(d)||Ti(Tn,E).each(_o=>{wt==="relative"&&!gf(_o)?Kh(_o):wt==="fixed"&&!F1(_o)?H0(_o):wt==="responsive"&&!F0(_o)&&eE(_o),xl(_o),Zh(d,_o.dom,gr)})}),W=wt=>Ti(wt,E),ne=wt=>cE(d).bind(Tn=>W(Tn).map(Jn=>wt(Jn,Tn))),ve=(wt,Tn)=>{ne(Jn=>{d.formatter.toggle("tableclass",{value:Tn},Jn.dom),Zh(d,Jn.dom,tp)})},Se=(wt,Tn)=>{ne(Jn=>{const _o=qf(d),mc=vs(_o,hi=>d.formatter.match("tablecellclass",{value:Tn},hi.dom))?d.formatter.remove:d.formatter.apply;Ze(_o,hi=>mc("tablecellclass",{value:Tn},hi.dom)),Zh(d,Jn.dom,tp)})},Me=()=>{j0(d).each(wt=>{Ti(wt,E).each(Tn=>{Mt(Tn,"caption").fold(()=>{const Jn=Je.fromTag("caption");yr(Jn,Je.fromText("Caption")),ud(Tn,Jn,0),d.selection.setCursorLocation(Jn.dom,0)},Jn=>{Ni("caption")(wt)&&Th("td",Tn).each(_o=>d.selection.setCursorLocation(_o.dom,0)),Hr(Jn)}),Zh(d,Tn.dom,gr)})})},Qe=wt=>{d.focus()},$t=(wt,Tn=!1)=>ne((Jn,_o)=>{const ar=zm(qf(d),Jn,_o);wt(Jn,ar,Tn).each(Qe)}),ln=()=>ne((wt,Tn)=>{const Jn=zm(qf(d),wt,Tn),_o=Ph(ce,Je.fromDom(d.getDoc()),Ee.none());return iT(wt,Jn,_o)}),nn=()=>ne((wt,Tn)=>{const Jn=zm(qf(d),wt,Tn);return rT(wt,Jn)}),Ct=(wt,Tn)=>Tn().each(Jn=>{const _o=zt(Jn,ar=>Bc(ar));ne((ar,mc)=>{const hi=Lh(Je.fromDom(d.getDoc())),Cu=Um(qf(d),mc,_o,hi);wt(ar,Cu).each(Qe)})}),an=wt=>(Tn,Jn)=>id(Jn,"type").each(_o=>{$t(wt(_o),Jn.no_events)});Ms({mceTableSplitCells:()=>$t(g.unmergeCells),mceTableMergeCells:()=>$t(g.mergeCells),mceTableInsertRowBefore:()=>$t(g.insertRowsBefore),mceTableInsertRowAfter:()=>$t(g.insertRowsAfter),mceTableInsertColBefore:()=>$t(g.insertColumnsBefore),mceTableInsertColAfter:()=>$t(g.insertColumnsAfter),mceTableDeleteCol:()=>$t(g.deleteColumn),mceTableDeleteRow:()=>$t(g.deleteRow),mceTableCutCol:()=>nn().each(wt=>{aE(wt),$t(g.deleteColumn)}),mceTableCutRow:()=>ln().each(wt=>{q0(wt),$t(g.deleteRow)}),mceTableCopyCol:()=>nn().each(wt=>aE(wt)),mceTableCopyRow:()=>ln().each(wt=>q0(wt)),mceTablePasteColBefore:()=>Ct(g.pasteColsBefore,ap),mceTablePasteColAfter:()=>Ct(g.pasteColsAfter,ap),mceTablePasteRowBefore:()=>Ct(g.pasteRowsBefore,iE),mceTablePasteRowAfter:()=>Ct(g.pasteRowsAfter,iE),mceTableDelete:O,mceTableCellToggleClass:Se,mceTableToggleClass:ve,mceTableToggleCaption:Me,mceTableSizingMode:(wt,Tn)=>L(Tn),mceTableCellType:an(wt=>wt==="th"?g.makeCellsHeader:g.unmakeCellsHeader),mceTableColType:an(wt=>wt==="th"?g.makeColumnsHeader:g.unmakeColumnsHeader),mceTableRowType:an(wt=>{switch(wt){case"header":return g.makeRowsHeader;case"footer":return g.makeRowsFooter;default:return g.makeRowsBody}})},(wt,Tn)=>d.addCommand(Tn,wt)),d.addCommand("mceInsertTable",(wt,Tn)=>{rE(d,Tn.rows,Tn.columns,Tn.options)}),d.addCommand("mceTableApplyCellStyle",(wt,Tn)=>{const Jn=mc=>"tablecell"+mc.toLowerCase().replace("-","");if(!D(Tn))return;const _o=co(qf(d),zc);if(_o.length===0)return;const ar=Sa(Tn,(mc,hi)=>d.formatter.has(Jn(hi))&&S(mc));hl(ar)||(Ms(ar,(mc,hi)=>{const Cu=Jn(hi);Ze(_o,Rg=>{mc===""?d.formatter.remove(Cu,{value:null},Rg.dom,!0):d.formatter.apply(Cu,{value:mc},Rg.dom)})}),W(_o[0]).each(mc=>Zh(d,mc.dom,tp)))})},Z0=(d,g)=>{const E=Zl(d),O=L=>Fh(Qp(d)).bind(W=>Ti(W,E).map(ne=>{const ve=zm(qf(d),ne,W);return L(ne,ve)})).getOr("");Ms({mceTableRowType:()=>O(g.getTableRowType),mceTableCellType:()=>O(g.getTableCellType),mceTableColType:()=>O(g.getTableColType)},(L,W)=>d.addQueryValueHandler(W,L))},fb=Mr.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),z1=(d,g,E,O)=>d.fold(g,E,O),nh=d=>d.fold(Ne,Ne,Ne),ET=fb.before,U1=fb.on,lE=fb.after,La={before:ET,on:U1,after:lE,cata:z1,getStart:nh},cp={create:(d,g)=>({selection:d,kill:g})},wT=(d,g)=>{const E=d.document.createRange();return E.selectNode(g.dom),E},W1=(d,g)=>{const E=d.document.createRange();return Y0(E,g),E},Y0=(d,g)=>d.selectNodeContents(g.dom),_g=(d,g)=>{g.fold(E=>{d.setStartBefore(E.dom)},(E,O)=>{d.setStart(E.dom,O)},E=>{d.setStartAfter(E.dom)})},lp=(d,g)=>{g.fold(E=>{d.setEndBefore(E.dom)},(E,O)=>{d.setEnd(E.dom,O)},E=>{d.setEndAfter(E.dom)})},G1=(d,g,E)=>{const O=d.document.createRange();return _g(O,g),lp(O,E),O},vf=(d,g,E,O,L)=>{const W=d.document.createRange();return W.setStart(g.dom,E),W.setEnd(O.dom,L),W},K0=d=>({left:d.left,top:d.top,right:d.right,bottom:d.bottom,width:d.width,height:d.height}),qi=d=>{const g=d.getClientRects(),E=g.length>0?g[0]:d.getBoundingClientRect();return E.width>0||E.height>0?Ee.some(E).map(K0):Ee.none()},tu=Mr.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),hb=(d,g,E)=>g(Je.fromDom(E.startContainer),E.startOffset,Je.fromDom(E.endContainer),E.endOffset),dE=(d,g)=>g.match({domRange:E=>({ltr:Q(E),rtl:Ee.none}),relative:(E,O)=>({ltr:md(()=>G1(d,E,O)),rtl:md(()=>Ee.some(G1(d,O,E)))}),exact:(E,O,L,W)=>({ltr:md(()=>vf(d,E,O,L,W)),rtl:md(()=>Ee.some(vf(d,L,W,E,O)))})}),fE=(d,g)=>{const E=g.ltr();return E.collapsed?g.rtl().filter(L=>L.collapsed===!1).map(L=>tu.rtl(Je.fromDom(L.endContainer),L.endOffset,Je.fromDom(L.startContainer),L.startOffset)).getOrThunk(()=>hb(d,tu.ltr,E)):hb(d,tu.ltr,E)},X0=(d,g)=>{const E=dE(d,g);return fE(d,E)},up=(d,g)=>X0(d,g).match({ltr:(O,L,W,ne)=>{const ve=d.document.createRange();return ve.setStart(O.dom,L),ve.setEnd(W.dom,ne),ve},rtl:(O,L,W,ne)=>{const ve=d.document.createRange();return ve.setStart(W.dom,ne),ve.setEnd(O.dom,L),ve}});tu.ltr,tu.rtl;const dp={create:(d,g,E,O)=>({start:d,soffset:g,finish:E,foffset:O})},Eg={create:(d,g,E,O)=>({start:La.on(d,g),finish:La.on(E,O)})},j1=(d,g)=>{const E=up(d,g);return dp.create(Je.fromDom(E.startContainer),E.startOffset,Je.fromDom(E.endContainer),E.endOffset)},fp=Eg.create,Q0=(d,g,E,O,L,W,ne)=>Hs(E,L)&&O===W?Ee.none():Yn(E,"td,th",g).bind(ve=>Yn(L,"td,th",g).bind(Se=>wg(d,g,ve,Se,ne))),wg=(d,g,E,O,L)=>Hs(E,O)?Ee.none():cf(E,O,g).bind(W=>{const ne=W.boxes.getOr([]);return ne.length>1?(L(d,ne,W.start,W.finish),Ee.some(cp.create(Ee.some(fp(E,0,E,Ed(E))),!0))):Ee.none()}),Ea=(d,g,E,O,L)=>{const W=ne=>(L.clearBeforeUpdate(E),L.selectRange(E,ne.boxes,ne.start,ne.finish),ne.boxes);return g1(O,d,g,L.firstSelectedSelector,L.lastSelectedSelector).map(W)},J0=(d,g)=>({item:d,mode:g}),Dd=(d,g,E,O=bf)=>d.property().parent(g).map(L=>J0(L,O)),bf=(d,g,E,O=Xh)=>E.sibling(d,g).map(L=>J0(L,O)),Xh=(d,g,E,O=Xh)=>{const L=d.property().children(g);return E.first(L).map(ne=>J0(ne,O))},hp=[{current:Dd,next:bf,fallback:Ee.none()},{current:bf,next:Xh,fallback:Ee.some(Dd)},{current:Xh,next:Xh,fallback:Ee.some(bf)}],p=(d,g,E,O,L=hp)=>se(L,ne=>ne.current===E).bind(ne=>ne.current(d,g,O,ne.next).orThunk(()=>ne.fallback.bind(ve=>p(d,g,ve,O)))),Y={left:()=>({sibling:(E,O)=>E.query().prevSibling(O),first:E=>E.length>0?Ee.some(E[E.length-1]):Ee.none()}),right:()=>({sibling:(E,O)=>E.query().nextSibling(O),first:E=>E.length>0?Ee.some(E[0]):Ee.none()})},pe=(d,g,E,O,L,W)=>p(d,g,O,L).bind(ve=>W(ve.item)?Ee.none():E(ve.item)?Ee.some(ve.item):pe(d,ve.item,E,ve.mode,L,W)),Re=(d,g,E,O)=>pe(d,g,E,bf,Y.left(),O),He=(d,g,E,O)=>pe(d,g,E,bf,Y.right(),O),Ye=d=>g=>d.property().children(g).length===0,gt=(d,g,E)=>en(d,g,Ye(d),E),tn=(d,g,E)=>gn(d,g,Ye(d),E),en=Re,gn=He,$n=Gu(),ho=(d,g)=>gt($n,d,g),Bo=(d,g)=>tn($n,d,g),Mo=(d,g,E)=>en($n,d,g,E),Io=(d,g,E)=>gn($n,d,g,E),$s=(d,g,E)=>Le(d,g,E).isSome(),hs=Mr.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),di=(d,g,E)=>{const O=d.getRect(g),L=d.getRect(E);return L.right>O.left&&L.left<O.right},fi=d=>Yn(d,"tr"),Mc={...hs,verify:(d,g,E,O,L,W,ne)=>Yn(O,"td,th",ne).bind(ve=>Yn(g,"td,th",ne).map(Se=>Hs(ve,Se)?Hs(O,ve)&&Ed(ve)===L?W(Se):hs.none("in same cell"):rs(fi,[ve,Se]).fold(()=>di(d,Se,ve)?hs.success():W(Se),Me=>W(Se)))).getOr(hs.none("default")),cata:(d,g,E,O,L)=>d.fold(g,E,O,L)},Gs=(d,g,E,O)=>({parent:d,children:g,element:E,index:O}),yf=d=>uu(d).bind(g=>{const E=Ss(g);return ey(E,d).map(O=>Gs(g,E,d,O))}),ey=(d,g)=>ls(d,z(Hs,g)),Z1=Ni("br"),hE=(d,g,E)=>g(d,E).bind(O=>Iu(O)&&Tl(O).trim().length===0?hE(O,g,E):Ee.some(O)),mE=(d,g,E)=>E.traverse(g).orThunk(()=>hE(g,E.gather,d)).map(E.relative),TT=(d,g)=>ri(d,g).filter(Z1).orThunk(()=>ri(d,g-1).filter(Z1)),pE=(d,g,E,O)=>TT(g,E).bind(L=>O.traverse(L).fold(()=>hE(L,O.gather,d).map(O.relative),W=>yf(W).map(ne=>La.on(ne.parent,ne.index)))),Ex=(d,g,E,O)=>(Z1(g)?mE(d,g,O):pE(d,g,E,O)).map(W=>({start:W,finish:W})),lR=d=>Mc.cata(d,g=>Ee.none(),()=>Ee.none(),g=>Ee.some(Vi(g,0)),g=>Ee.some(Vi(g,Ed(g)))),Qh=(d,g)=>({left:d.left,top:d.top+g,right:d.right,bottom:d.bottom+g}),ty=(d,g)=>({left:d.left,top:d.top-g,right:d.right,bottom:d.bottom-g}),CT=(d,g,E)=>({left:d.left+g,top:d.top+E,right:d.right+g,bottom:d.bottom+E}),Jh=d=>d.top,ST=d=>d.bottom,ny=(d,g,E)=>E>=0&&E<Ed(g)?d.getRangedRect(g,E,g,E+1):E>0?d.getRangedRect(g,E-1,g,E):Ee.none(),Tg=d=>({left:d.left,top:d.top,right:d.right,bottom:d.bottom}),xT=(d,g)=>Ee.some(d.getRect(g)),wx=(d,g,E)=>Ja(g)?xT(d,g).map(Tg):Iu(g)?ny(d,g,E).map(Tg):Ee.none(),AT=(d,g)=>Ja(g)?xT(d,g).map(Tg):Iu(g)?d.getRangedRect(g,0,g,Ed(g)).map(Tg):Ee.none(),Cg=5,uR=100,em=Mr.generate([{none:[]},{retry:["caret"]}]),Ju=(d,g)=>d.left<g.left||Math.abs(g.right-d.left)<1||d.left>g.right,Tx=(d,g,E)=>it(g,ra).fold(_t,O=>AT(d,O).exists(L=>Ju(E,L))),gE=(d,g,E,O,L)=>{const W=Qh(L,Cg);return Math.abs(E.bottom-O.bottom)<1||E.top>L.bottom?em.retry(W):E.top===L.bottom?em.retry(Qh(L,1)):Tx(d,g,L)?em.retry(CT(W,Cg,0)):em.none()},OT={point:Jh,adjuster:(d,g,E,O,L)=>{const W=ty(L,Cg);return Math.abs(E.top-O.top)<1||E.bottom<L.top?em.retry(W):E.bottom===L.top?em.retry(ty(L,1)):Tx(d,g,L)?em.retry(CT(W,Cg,0)):em.none()},move:ty,gather:ho},dR={point:ST,adjuster:gE,move:Qh,gather:Bo},Cx=(d,g,E)=>d.elementFromPoint(g,E).filter(O=>Ps(O)==="table").isSome(),RT=(d,g,E,O,L)=>vE(d,g,E,g.move(O,Cg),L),vE=(d,g,E,O,L)=>L===0?Ee.some(O):Cx(d,O.left,g.point(O))?RT(d,g,E,O,L-1):d.situsFromPoint(O.left,g.point(O)).bind(W=>W.start.fold(Ee.none,ne=>AT(d,ne).bind(ve=>g.adjuster(d,ne,ve,E,O).fold(Ee.none,Se=>vE(d,g,E,Se,L-1))).orThunk(()=>Ee.some(O)),Ee.none)),fR=(d,g,E)=>d.point(g)>E.getInnerHeight()?Ee.some(d.point(g)-E.getInnerHeight()):d.point(g)<0?Ee.some(-d.point(g)):Ee.none(),hR=(d,g,E)=>{const O=d.move(E,Cg),L=vE(g,d,E,O,uR).getOr(O);return fR(d,L,g).fold(()=>g.situsFromPoint(L.left,d.point(L)),W=>(g.scrollBy(0,W),g.situsFromPoint(L.left,d.point(L)-W)))},bE={tryUp:z(hR,OT),tryDown:z(hR,dR),getJumpSize:Q(Cg)},Sx=20,hk=(d,g,E)=>d.getSelection().bind(O=>Ex(g,O.finish,O.foffset,E).fold(()=>Ee.some(Vi(O.finish,O.foffset)),L=>{const W=d.fromSitus(L),ne=Mc.verify(d,O.finish,O.foffset,W.finish,W.foffset,E.failure,g);return lR(ne)})),mb=(d,g,E,O,L,W)=>W===0?Ee.none():pb(d,g,E,O,L).bind(ne=>{const ve=d.fromSitus(ne),Se=Mc.verify(d,E,O,ve.finish,ve.foffset,L.failure,g);return Mc.cata(Se,()=>Ee.none(),()=>Ee.some(ne),Me=>Hs(E,Me)&&O===0?Uo(d,E,O,ty,L):mb(d,g,Me,0,L,W-1),Me=>Hs(E,Me)&&O===Ed(Me)?Uo(d,E,O,Qh,L):mb(d,g,Me,Ed(Me),L,W-1))}),Uo=(d,g,E,O,L)=>wx(d,g,E).bind(W=>mp(d,L,O(W,bE.getJumpSize()))),mp=(d,g,E)=>{const O=Js().browser;return O.isChromium()||O.isSafari()||O.isFirefox()?g.retry(d,E):Ee.none()},pb=(d,g,E,O,L)=>wx(d,E,O).bind(W=>mp(d,L,W)),IT=(d,g,E)=>hk(d,g,E).bind(O=>mb(d,g,O.element,O.offset,E,Sx).map(d.fromSitus)),mR=(d,g)=>$s(d,E=>uu(E).exists(O=>Hs(O,g))),sy=(d,g,E,O,L)=>Yn(O,"td,th",g).bind(W=>Yn(W,"table",g).bind(ne=>mR(L,ne)?IT(d,g,E).bind(ve=>Yn(ve.finish,"td,th",g).map(Se=>({start:W,finish:Se,range:ve}))):Ee.none())),Y1=(d,g,E,O,L,W)=>W(O,g).orThunk(()=>sy(d,g,E,O,L).map(ne=>{const ve=ne.range;return cp.create(Ee.some(fp(ve.start,ve.soffset,ve.finish,ve.foffset)),!0)})),K1=(d,g)=>Yn(d,"tr",g).bind(E=>Yn(E,"table",g).bind(O=>{const L=_e(O,"tr");return Hs(E,L[0])?Mo(O,W=>Ov(W).isSome(),g).map(W=>{const ne=Ed(W);return cp.create(Ee.some(fp(W,ne,W,ne)),!0)}):Ee.none()})),DT=(d,g)=>Yn(d,"tr",g).bind(E=>Yn(E,"table",g).bind(O=>{const L=_e(O,"tr");return Hs(E,L[L.length-1])?Io(O,W=>Hf(W).isSome(),g).map(W=>cp.create(Ee.some(fp(W,0,W,0)),!0)):Ee.none()})),NT=(d,g,E,O,L,W,ne)=>sy(d,E,O,L,W).bind(ve=>wg(g,E,ve.start,ve.finish,ne)),MT=d=>{let g=d;return{get:()=>g,set:L=>{g=L}}},xx=d=>{const g=MT(Ee.none()),E=()=>g.get().each(d);return{clear:()=>{E(),g.set(Ee.none())},isSet:()=>g.get().isSome(),get:()=>g.get(),set:ve=>{E(),g.set(Ee.some(ve))}}},ry=()=>{const d=xx(ce);return{...d,on:E=>d.get().each(E)}},yE=(d,g)=>Yn(d,"td,th",g),kT=d=>ec(d).exists(oa),PT=(d,g,E,O)=>{const L=ry(),W=L.clear,ne=Qe=>{L.on($t=>{O.clearBeforeUpdate(g),yE(Qe.target,E).each(ln=>{cf($t,ln,E).each(nn=>{const Ct=nn.boxes.getOr([]);if(Ct.length===1){const an=Ct[0],wt=Iv(an)==="false",Tn=Cn(Sl(Qe.target),an,Hs);wt&&Tn&&(O.selectRange(g,Ct,an,an),d.selectContents(an))}else Ct.length>1&&(O.selectRange(g,Ct,nn.start,nn.finish),d.selectContents(ln))})})})};return{clearstate:W,mousedown:Qe=>{O.clear(g),yE(Qe.target,E).filter(kT).each(L.set)},mouseover:Qe=>{ne(Qe)},mouseup:Qe=>{ne(Qe),W()}}},_E={traverse:cd,gather:Bo,relative:La.before,retry:bE.tryDown,failure:Mc.failedDown},iy={traverse:$l,gather:ho,relative:La.before,retry:bE.tryUp,failure:Mc.failedUp},pp=d=>g=>g===d,Ax=pp(38),tm=pp(40),Sg=d=>d>=37&&d<=40,pR={isBackward:pp(37),isForward:pp(39)},Ox={isBackward:pp(39),isForward:pp(37)},LT=d=>{const g=d!==void 0?d.dom:document,E=g.body.scrollLeft||g.documentElement.scrollLeft,O=g.body.scrollTop||g.documentElement.scrollTop;return Hu(E,O)},gb=(d,g,E)=>{const L=(E!==void 0?E.dom:document).defaultView;L&&L.scrollBy(d,g)},vb=Mr.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),gR=d=>vb.exact(d.start,d.soffset,d.finish,d.foffset),vR=d=>d.match({domRange:g=>Je.fromDom(g.startContainer),relative:(g,E)=>La.getStart(g),exact:(g,E,O,L)=>g}),Rx=vb.domRange,xg=vb.relative,BT=vb.exact,$T=d=>{const g=vR(d);return Ei(g)},EE=dp.create,X1={domRange:Rx,relative:xg,exact:BT,exactFromRange:gR,getWin:$T,range:EE},wE=(d,g,E)=>{var O,L;return Ee.from((L=(O=d.dom).caretPositionFromPoint)===null||L===void 0?void 0:L.call(O,g,E)).bind(W=>{if(W.offsetNode===null)return Ee.none();const ne=d.dom.createRange();return ne.setStart(W.offsetNode,W.offset),ne.collapse(),Ee.some(ne)})},hn=(d,g,E)=>{var O,L;return Ee.from((L=(O=d.dom).caretRangeFromPoint)===null||L===void 0?void 0:L.call(O,g,E))},Za=(()=>document.caretPositionFromPoint?wE:document.caretRangeFromPoint?hn:Ee.none)(),TE=(d,g,E)=>{const O=Je.fromDom(d.document);return Za(O,g,E).map(L=>dp.create(Je.fromDom(L.startContainer),L.startOffset,Je.fromDom(L.endContainer),L.endOffset))},Pr=(d,g)=>{const E=Ps(d);return E==="input"?La.after(d):It(["br","img"],E)?g===0?La.before(d):La.after(d):La.on(d,g)},_f=(d,g)=>{const E=d.fold(La.before,Pr,La.after),O=g.fold(La.before,Pr,La.after);return X1.relative(E,O)},Ix=(d,g,E,O)=>{const L=Pr(d,g),W=Pr(E,O);return X1.relative(L,W)},nu=(d,g,E,O)=>{const W=Qi(d).dom.createRange();return W.setStart(d.dom,g),W.setEnd(E.dom,O),W},wa=(d,g,E,O)=>{const L=nu(d,g,E,O),W=Hs(d,E)&&g===O;return L.collapsed&&!W},CE=d=>Ee.from(d.getSelection()),SE=(d,g)=>{CE(d).each(E=>{E.removeAllRanges(),E.addRange(g)})},gp=(d,g,E,O,L)=>{const W=vf(d,g,E,O,L);SE(d,W)},Dx=(d,g,E,O,L,W)=>{g.collapse(E.dom,O),g.extend(L.dom,W)},FT=(d,g)=>X0(d,g).match({ltr:(E,O,L,W)=>{gp(d,E,O,L,W)},rtl:(E,O,L,W)=>{CE(d).each(ne=>{if(ne.setBaseAndExtent)ne.setBaseAndExtent(E.dom,O,L.dom,W);else if(ne.extend)try{Dx(d,ne,E,O,L,W)}catch{gp(d,L,W,E,O)}else gp(d,L,W,E,O)})}}),Nx=(d,g,E,O,L)=>{const W=Ix(g,E,O,L);FT(d,W)},HT=(d,g,E)=>{const O=_f(g,E);FT(d,O)},VT=d=>{if(d.rangeCount>0){const g=d.getRangeAt(0),E=d.getRangeAt(d.rangeCount-1);return Ee.some(dp.create(Je.fromDom(g.startContainer),g.startOffset,Je.fromDom(E.endContainer),E.endOffset))}else return Ee.none()},zT=d=>{if(d.anchorNode===null||d.focusNode===null)return VT(d);{const g=Je.fromDom(d.anchorNode),E=Je.fromDom(d.focusNode);return wa(g,d.anchorOffset,E,d.focusOffset)?Ee.some(dp.create(g,d.anchorOffset,E,d.focusOffset)):VT(d)}},ay=(d,g,E=!0)=>{const L=(E?W1:wT)(d,g);SE(d,L)},xE=d=>CE(d).filter(g=>g.rangeCount>0).bind(zT),cy=d=>xE(d).map(g=>X1.exact(g.start,g.soffset,g.finish,g.foffset)),ly=(d,g)=>{const E=up(d,g);return qi(E)},AE=(d,g,E)=>TE(d,g,E),Mx=d=>{CE(d).each(g=>g.removeAllRanges())},vp=d=>({elementFromPoint:(wt,Tn)=>Je.fromPoint(Je.fromDom(d.document),wt,Tn),getRect:wt=>wt.dom.getBoundingClientRect(),getRangedRect:(wt,Tn,Jn,_o)=>{const ar=X1.exact(wt,Tn,Jn,_o);return ly(d,ar)},getSelection:()=>cy(d).map(wt=>j1(d,wt)),fromSitus:wt=>{const Tn=X1.relative(wt.start,wt.finish);return j1(d,Tn)},situsFromPoint:(wt,Tn)=>AE(d,wt,Tn).map(Jn=>Eg.create(Jn.start,Jn.soffset,Jn.finish,Jn.foffset)),clearSelection:()=>{Mx(d)},collapseSelection:(wt=!1)=>{cy(d).each(Tn=>Tn.fold(Jn=>Jn.collapse(wt),(Jn,_o)=>{const ar=wt?Jn:_o;HT(d,ar,ar)},(Jn,_o,ar,mc)=>{const hi=wt?Jn:ar,Cu=wt?_o:mc;Nx(d,hi,Cu,hi,Cu)}))},setSelection:wt=>{Nx(d,wt.start,wt.soffset,wt.finish,wt.foffset)},setRelativeSelection:(wt,Tn)=>{HT(d,wt,Tn)},selectNode:wt=>{ay(d,wt,!1)},selectContents:wt=>{ay(d,wt)},getInnerHeight:()=>d.innerHeight,getScrollY:()=>LT(Je.fromDom(d.document)).top,scrollBy:(wt,Tn)=>{gb(wt,Tn,Je.fromDom(d.document))}}),nm=(d,g)=>({rows:d,cols:g}),Q1=(d,g,E,O)=>{const L=vp(d),W=PT(L,g,E,O);return{clearstate:W.clearstate,mousedown:W.mousedown,mouseover:W.mouseover,mouseup:W.mouseup}},bb=d=>it(d,jn).exists(oa),UT=(d,g)=>bb(d)||bb(g),bR=(d,g,E,O)=>{const L=vp(d),W=()=>(O.clear(g),Ee.none());return{keydown:(Se,Me,Qe,$t,ln,nn)=>{const Ct=Se.raw,an=Ct.which,wt=Ct.shiftKey===!0;return ng(g,O.selectedSelector).fold(()=>(Sg(an)&&!wt&&O.clearBeforeUpdate(g),Sg(an)&&wt&&!UT(Me,$t)?Ee.none:tm(an)&&wt?z(NT,L,g,E,_E,$t,Me,O.selectRange):Ax(an)&&wt?z(NT,L,g,E,iy,$t,Me,O.selectRange):tm(an)?z(Y1,L,E,_E,$t,Me,DT):Ax(an)?z(Y1,L,E,iy,$t,Me,K1):Ee.none),Jn=>{const _o=ar=>()=>bi(ar,hi=>Ea(hi.rows,hi.cols,g,Jn,O)).fold(()=>a0(g,O.firstSelectedSelector,O.lastSelectedSelector).map(hi=>{const Cu=tm(an)||nn.isForward(an)?La.after:La.before;return L.setRelativeSelection(La.on(hi.first,0),Cu(hi.table)),O.clear(g),cp.create(Ee.none(),!0)}),hi=>Ee.some(cp.create(Ee.none(),!0)));return Sg(an)&&wt&&!UT(Me,$t)?Ee.none:tm(an)&&wt?_o([nm(1,0)]):Ax(an)&&wt?_o([nm(-1,0)]):nn.isBackward(an)&&wt?_o([nm(0,-1),nm(-1,0)]):nn.isForward(an)&&wt?_o([nm(0,1),nm(1,0)]):Sg(an)&&!wt?W:Ee.none})()},keyup:(Se,Me,Qe,$t,ln)=>ng(g,O.selectedSelector).fold(()=>{const nn=Se.raw,Ct=nn.which;return nn.shiftKey===!0&&Sg(Ct)&&UT(Me,$t)?Q0(g,E,Me,Qe,$t,ln,O.selectRange):Ee.none()},Ee.none)}},kx=(d,g,E,O)=>{const L=vp(d);return(W,ne)=>{O.clearBeforeUpdate(g),cf(W,ne,E).each(ve=>{const Se=ve.boxes.getOr([]);O.selectRange(g,Se,ve.start,ve.finish),L.selectContents(ne),L.collapseSelection()})}},OE=(d,g)=>{const E=bc(d,g);return E===void 0||E===""?[]:E.split(" ")},Px=(d,g,E)=>{const L=OE(d,g).concat([E]);return Ur(d,g,L.join(" ")),!0},RE=(d,g,E)=>{const O=co(OE(d,g),L=>L!==E);return O.length>0?Ur(d,g,O.join(" ")):Fr(d,g),!1},Ba=d=>d.dom.classList!==void 0,Ef=d=>OE(d,"class"),Nd=(d,g)=>Px(d,"class",g),uy=(d,g)=>RE(d,"class",g),wu=(d,g)=>{Ba(d)?d.dom.classList.add(g):Nd(d,g)},Lx=d=>{(Ba(d)?d.dom.classList:Ef(d)).length===0&&Fr(d,"class")},WT=(d,g)=>{Ba(d)?d.dom.classList.remove(g):uy(d,g),Lx(d)},GT=(d,g)=>Ba(d)&&d.dom.classList.contains(g),qT=(d,g)=>{Ze(g,E=>{WT(d,E)})},yR=d=>g=>{wu(g,d)},jT=d=>g=>{qT(g,d)},ZT={byClass:d=>{const g=yR(d.selected),E=jT([d.selected,d.lastSelected,d.firstSelected]),O=W=>{const ne=_e(W,d.selectedSelector);Ze(ne,E)};return{clearBeforeUpdate:O,clear:O,selectRange:(W,ne,ve,Se)=>{O(W),Ze(ne,g),wu(ve,d.firstSelected),wu(Se,d.lastSelected)},selectedSelector:d.selectedSelector,firstSelectedSelector:d.firstSelectedSelector,lastSelectedSelector:d.lastSelectedSelector}},byAttr:(d,g,E)=>{const O=Se=>{Fr(Se,d.selected),Fr(Se,d.firstSelected),Fr(Se,d.lastSelected)},L=Se=>{Ur(Se,d.selected,"1")},W=Se=>{ne(Se),E()},ne=Se=>{const Me=_e(Se,`${d.selectedSelector},${d.firstSelectedSelector},${d.lastSelectedSelector}`);Ze(Me,O)};return{clearBeforeUpdate:ne,clear:W,selectRange:(Se,Me,Qe,$t)=>{W(Se),Ze(Me,L),Ur(Qe,d.firstSelected,"1"),Ur($t,d.lastSelected,"1"),g(Me,Qe,$t)},selectedSelector:d.selectedSelector,firstSelectedSelector:d.firstSelectedSelector,lastSelectedSelector:d.lastSelectedSelector}}},YT=(d,g,E,O)=>{switch(d.tag){case"none":return g();case"single":return O(d.element);case"multiple":return E(d.elements)}},ir=()=>({tag:"none"}),om=d=>({tag:"multiple",elements:d}),KT=d=>({tag:"single",element:d}),XT=(d,g,E)=>({get:()=>Lv(d(),E).fold(()=>g().fold(ir,KT),om)}),QT=(d,g)=>{const E=d.slice(0,g[g.length-1].row+1),O=zi(E);return Ft(O,L=>{const W=L.cells.slice(0,g[g.length-1].column+1);return zt(W,ne=>ne.element)})},JT=(d,g)=>{const E=d.slice(g[0].row+g[0].rowspan-1,d.length),O=zi(E);return Ft(O,L=>{const W=L.cells.slice(g[0].column+g[0].colspan-1,L.cells.length);return zt(W,ne=>ne.element)})},eC=(d,g,E)=>{const O=be.fromTable(d);return zh(O,g).map(W=>{const ne=ug(O,E,!1),{rows:ve}=ta(ne),Se=QT(ve,W),Me=JT(ve,W);return{upOrLeftCells:Se,downOrRightCells:Me}})},tC=(d,g,E,O,L,W,ne)=>({target:d,x:g,y:E,stop:O,prevent:L,kill:W,raw:ne}),nC=d=>{const g=Je.fromDom(No(d).getOr(d.target)),E=()=>d.stopPropagation(),O=()=>d.preventDefault(),L=ae(O,E);return tC(g,d.clientX,d.clientY,E,O,L,d)},wR=(d,g)=>E=>{d(E)&&g(nC(E))},Bx=(d,g,E,O,L)=>{const W=wR(E,O);return d.dom.addEventListener(g,W,L),{unbind:z(oC,d,g,W,L)}},TR=(d,g,E,O)=>Bx(d,g,E,O,!1),oC=(d,g,E,O)=>{d.dom.removeEventListener(g,E,O)},CR=Pe,Ag=(d,g,E)=>TR(d,g,CR,E),Sn=nC,bp=d=>!GT(Je.fromDom(d.target),"ephox-snooker-resizer-bar"),SR=(d,g)=>{const E=XT(()=>Je.fromDom(d.getBody()),()=>Fh(Qp(d),Zl(d)),Ac.selectedSelector),O=(Se,Me,Qe)=>{Ti(Me).each(ln=>{const nn=L1(d),Ct=Ph(ce,Je.fromDom(d.getDoc()),nn),an=qf(d),wt=eC(ln,{selection:an},Ct);U_(d,Se,Me,Qe,wt)})},L=()=>sb(d),W=ZT.byAttr(Ac,O,L);return d.on("init",Se=>{const Me=d.getWin(),Qe=Vc(d),$t=Zl(d),ln=()=>{const Ks=d.selection,Il=Je.fromDom(Ks.getStart()),Dl=Je.fromDom(Ks.getEnd());rs(Ti,[Il,Dl]).fold(()=>W.clear(Qe),ce)},nn=Q1(Me,Qe,$t,W),Ct=bR(Me,Qe,$t,W),an=kx(Me,Qe,$t,W),wt=Ks=>Ks.raw.shiftKey===!0;d.on("TableSelectorChange",Ks=>an(Ks.start,Ks.finish));const Tn=(Ks,Il)=>{wt(Ks)&&(Il.kill&&Ks.kill(),Il.selection.each(Dl=>{const Tf=X1.relative(Dl.start,Dl.finish),Su=up(Me,Tf);d.selection.setRng(Su)}))},Jn=Ks=>{const Il=Sn(Ks);if(Il.raw.shiftKey&&Sg(Il.raw.which)){const Dl=d.selection.getRng(),Tf=Je.fromDom(Dl.startContainer),Su=Je.fromDom(Dl.endContainer);Ct.keyup(Il,Tf,Dl.startOffset,Su,Dl.endOffset).each(Ig=>{Tn(Il,Ig)})}},_o=Ks=>{const Il=Sn(Ks);g.hide();const Dl=d.selection.getRng(),Tf=Je.fromDom(Dl.startContainer),Su=Je.fromDom(Dl.endContainer),Ig=a1(pR,Ox)(Je.fromDom(d.selection.getStart()));Ct.keydown(Il,Tf,Dl.startOffset,Su,Dl.endOffset,Ig).each(Nl=>{Tn(Il,Nl)}),g.show()},ar=Ks=>Ks.button===0,mc=Ks=>Ks.buttons===void 0?!0:(Ks.buttons&1)!==0,hi=Ks=>{nn.clearstate()},Cu=Ks=>{ar(Ks)&&bp(Ks)&&nn.mousedown(Sn(Ks))},Rg=Ks=>{mc(Ks)&&bp(Ks)&&nn.mouseover(Sn(Ks))},py=Ks=>{ar(Ks)&&bp(Ks)&&nn.mouseup(Sn(Ks))},$E=(()=>{const Ks=MT(Je.fromDom(Qe)),Il=MT(0);return{touchEnd:Tf=>{const Su=Je.fromDom(Tf.target);if(Ni("td")(Su)||Ni("th")(Su)){const Ig=Ks.get(),Nl=Il.get();Hs(Ig,Su)&&Tf.timeStamp-Nl<300&&(Tf.preventDefault(),an(Su,Su))}Ks.set(Su),Il.set(Tf.timeStamp)}}})();d.on("dragstart",hi),d.on("mousedown",Cu),d.on("mouseover",Rg),d.on("mouseup",py),d.on("touchend",$E.touchEnd),d.on("keyup",Jn),d.on("keydown",_o),d.on("NodeChange",ln)}),d.on("PreInit",()=>{d.serializer.addTempAttr(Ac.firstSelected),d.serializer.addTempAttr(Ac.lastSelected)}),{getSelectedCells:()=>YT(E.get(),Q([]),Se=>zt(Se,Me=>Me.dom),Se=>[Se.dom]),clearSelectedCells:Se=>W.clear(Je.fromDom(Se))}},ji=d=>{let g=[];return{bind:W=>{if(W===void 0)throw new Error("Event bind error: undefined handler");g.push(W)},unbind:W=>{g=co(g,ne=>ne!==W)},trigger:(...W)=>{const ne={};Ze(d,(ve,Se)=>{ne[ve]=W[Se]}),Ze(g,ve=>{ve(ne)})}}},xi=d=>{const g=Lc(d,O=>({bind:O.bind,unbind:O.unbind})),E=Lc(d,O=>O.trigger);return{registry:g,trigger:E}},Og=(d,g)=>{let E=null;const O=()=>{G(E)||(clearTimeout(E),E=null)};return{cancel:O,throttle:(...W)=>{O(),E=setTimeout(()=>{E=null,d.apply(null,W)},g)}}},IE=d=>d.slice(0).sort(),$x=(d,g)=>{throw new Error("All required keys ("+IE(d).join(", ")+") were not specified. Specified keys were: "+IE(g).join(", ")+".")},xR=d=>{throw new Error("Unsupported keys for object: "+IE(d).join(", "))},Qo=(d,g)=>{if(!k(g))throw new Error("The "+d+" fields must be an array. Was: "+g+".");Ze(g,E=>{if(!S(E))throw new Error("The value "+E+" in the "+d+" fields was not a string.")})},Fx=(d,g)=>{throw new Error("All values need to be of type: "+g+". Keys ("+IE(d).join(", ")+") were not.")},DE=d=>{const g=IE(d);se(g,(O,L)=>L<g.length-1&&O===g[L+1]).each(O=>{throw new Error("The field: "+O+" occurs more than once in the combined fields: ["+g.join(", ")+"].")})},J1=(d,g)=>Hx(d,g,{validate:he,label:"function"}),Hx=(d,g,E)=>{if(g.length===0)throw new Error("You must specify at least one required field.");return Qo("required",g),DE(g),O=>{const L=Bt(O);vs(g,ve=>It(L,ve))||$x(g,L),d(g,L);const ne=co(g,ve=>!E.validate(O[ve],ve));return ne.length>0&&Fx(ne,E.label),O}},AR=(d,g)=>{const E=co(g,O=>!It(d,O));E.length>0&&xR(E)},sC=d=>J1(AR,d),OR=sC(["compare","extract","mutate","sink"]),mk=sC(["element","start","stop","destroy"]),Vx=sC(["forceDrop","drop","move","delayDrop"]),rC=()=>{let d=Ee.none();const g=()=>{d=Ee.none()},E=(W,ne)=>{const ve=d.map(Se=>W.compare(Se,ne));return d=Ee.some(ne),ve},O=(W,ne)=>{ne.extract(W).each(Se=>{E(ne,Se).each(Qe=>{L.trigger.move(Qe)})})},L=xi({move:ji(["info"])});return{onEvent:O,reset:g,events:L.registry}},iC=()=>{const d=xi({move:ji(["info"])});return{onEvent:ce,reset:ce,events:d.registry}},zx=()=>{const d=iC(),g=rC();let E=d;return{on:()=>{E.reset(),E=g},off:()=>{E.reset(),E=d},isOn:()=>E===g,onEvent:(ve,Se)=>{E.onEvent(ve,Se)},events:g.events}},pk=(d,g,E)=>{let O=!1;const L=xi({start:ji([]),stop:ji([])}),W=zx(),ne=()=>{Ct.stop(),W.isOn()&&(W.off(),L.trigger.stop())},ve=Og(ne,200),Se=wt=>{Ct.start(wt),W.on(),L.trigger.start()},Me=wt=>{ve.cancel(),W.onEvent(wt,g)};W.events.move.bind(wt=>{g.mutate(d,wt.info)});const Qe=()=>{O=!0},$t=()=>{O=!1},ln=()=>O,nn=wt=>(...Tn)=>{O&&wt.apply(null,Tn)},Ct=g.sink(Vx({forceDrop:ne,drop:nn(ne),move:nn(Me),delayDrop:nn(ve.throttle)}),E),an=()=>{Ct.destroy()};return{element:Ct.element,go:Se,on:Qe,off:$t,isActive:ln,destroy:an,events:L.registry}},NE=d=>{const g=d.replace(/\./g,"-");return{resolve:O=>g+"-"+O}},RR=NE("ephox-dragster").resolve,IR=d=>{const g={layerClass:RR("blocker"),...d},E=Je.fromTag("div");return Ur(E,"role","presentation"),fr(E,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),wu(E,RR("blocker")),wu(E,g.layerClass),{element:Q(E),destroy:()=>{Hr(E)}}};var DR=OR({compare:(d,g)=>Hu(g.left-d.left,g.top-d.top),extract:d=>Ee.some(Hu(d.x,d.y)),sink:(d,g)=>{const E=IR(g),O=Ag(E.element(),"mousedown",d.forceDrop),L=Ag(E.element(),"mouseup",d.drop),W=Ag(E.element(),"mousemove",d.move),ne=Ag(E.element(),"mouseout",d.delayDrop),ve=()=>{E.destroy(),L.unbind(),W.unbind(),ne.unbind(),O.unbind()},Se=Qe=>{yr(Qe,E.element())},Me=()=>{Hr(E.element())};return mk({element:E.element,start:Se,stop:Me,destroy:ve})},mutate:(d,g)=>{d.mutate(g.left,g.top)}});const dy=(d,g={})=>{var E;const O=(E=g.mode)!==null&&E!==void 0?E:DR;return pk(d,O,g)},ME=NE("ephox-snooker").resolve,NR=()=>{const d=xi({drag:ji(["xDelta","yDelta"])});return{mutate:(E,O)=>{d.trigger.drag(E,O)},events:d.registry}},MR=()=>{const d=xi({drag:ji(["xDelta","yDelta","target"])});let g=Ee.none();const E=NR();return E.events.drag.bind(W=>{g.each(ne=>{d.trigger.drag(W.xDelta,W.yDelta,ne)})}),{assign:W=>{g=Ee.some(W)},get:()=>g,mutate:E.mutate,events:d.registry}},cC=(d,g,E,O,L)=>{const W=Je.fromTag("div");return fr(W,{position:"absolute",left:g-O/2+"px",top:E+"px",height:L+"px",width:O+"px"}),Ha(W,{"data-column":d,role:"presentation"}),W},yb=(d,g,E,O,L)=>{const W=Je.fromTag("div");return fr(W,{position:"absolute",left:g+"px",top:E-L/2+"px",height:L+"px",width:O+"px"}),Ha(W,{"data-row":d,role:"presentation"}),W},_b=ME("resizer-bar"),lC=ME("resizer-rows"),kE=ME("resizer-cols"),uC=7,dC=(d,g)=>Ft(d.all,(E,O)=>g(E.element)?[O]:[]),kR=(d,g)=>{const E=[];return jt(d.grid.columns,O=>{be.getColumnAt(d,O).map(W=>W.element).forall(g)&&E.push(O)}),co(E,O=>{const L=be.filterItems(d,W=>W.column===O);return vs(L,W=>g(W.element))})},PE=d=>{const g=_e(d.parent(),"."+_b);Ze(g,Hr)},fC=(d,g,E)=>{const O=d.origin();Ze(g,L=>{L.each(W=>{const ne=E(O,W);wu(ne,_b),yr(d.parent(),ne)})})},hC=(d,g,E,O)=>{fC(d,g,(L,W)=>{const ne=cC(W.col,W.x-L.left,E.top-L.top,uC,O);return wu(ne,kE),ne})},ps=(d,g,E,O)=>{fC(d,g,(L,W)=>{const ne=yb(W.row,E.left-L.left,W.y-L.top,O,uC);return wu(ne,lC),ne})},Ux=(d,g,E,O,L)=>{const W=Bf(E),ne=g.isResizable,ve=O.length>0?yl.positions(O,E):[],Se=ve.length>0?dC(d,ne):[],Me=co(ve,(nn,Ct)=>nt(Se,an=>Ct===an));ps(g,Me,W,Xd(E));const Qe=L.length>0?sl.positions(L,E):[],$t=Qe.length>0?kR(d,ne):[],ln=co(Qe,(nn,Ct)=>nt($t,an=>Ct===an));hC(g,ln,W,Tv(E))},sm=(d,g)=>{if(PE(d),d.isResizable(g)){const E=be.fromTable(g),O=bl(E),L=Qd(E);Ux(E,d,g,O,L)}},oh=(d,g)=>{const E=_e(d.parent(),"."+_b);Ze(E,g)},fy=d=>{oh(d,g=>{as(g,"display","none")})},Tu=d=>{oh(d,g=>{as(g,"display","block")})},LE=d=>GT(d,lC),ev=d=>GT(d,kE),hy=ME("resizer-bar-dragging"),_p=d=>{const g=MR(),E=dy(g,{});let O=Ee.none();const L=(Ct,an)=>Ee.from(bc(Ct,an));g.events.drag.bind(Ct=>{L(Ct.target,"data-row").each(an=>{const wt=hr(Ct.target,"top");as(Ct.target,"top",wt+Ct.yDelta+"px")}),L(Ct.target,"data-column").each(an=>{const wt=hr(Ct.target,"left");as(Ct.target,"left",wt+Ct.xDelta+"px")})});const W=(Ct,an)=>{const wt=hr(Ct,an),Tn=Wr(Ct,"data-initial-"+an,0);return wt-Tn};E.events.stop.bind(()=>{g.get().each(Ct=>{O.each(an=>{L(Ct,"data-row").each(wt=>{const Tn=W(Ct,"top");Fr(Ct,"data-initial-top"),nn.trigger.adjustHeight(an,Tn,parseInt(wt,10))}),L(Ct,"data-column").each(wt=>{const Tn=W(Ct,"left");Fr(Ct,"data-initial-left"),nn.trigger.adjustWidth(an,Tn,parseInt(wt,10))}),sm(d,an)})})});const ne=(Ct,an)=>{nn.trigger.startAdjust(),g.assign(Ct),Ur(Ct,"data-initial-"+an,hr(Ct,an)),wu(Ct,hy),as(Ct,"opacity","0.2"),E.go(d.parent())},ve=Ag(d.parent(),"mousedown",Ct=>{LE(Ct.target)&&ne(Ct.target,"top"),ev(Ct.target)&&ne(Ct.target,"left")}),Se=Ct=>Hs(Ct,d.view()),Me=Ct=>Yn(Ct,"table",Se).filter(oa),Qe=Ag(d.view(),"mouseover",Ct=>{Me(Ct.target).fold(()=>{Xr(Ct.target)&&PE(d)},an=>{E.isActive()&&(O=Ee.some(an),sm(d,an))})}),$t=()=>{ve.unbind(),Qe.unbind(),E.destroy(),PE(d)},ln=Ct=>{sm(d,Ct)},nn=xi({adjustHeight:ji(["table","delta","row"]),adjustWidth:ji(["table","delta","column"]),startAdjust:ji([])});return{destroy:$t,refresh:ln,on:E.on,off:E.off,hideBars:z(fy,d),showBars:z(Tu,d),events:nn.registry}},BE={create:(d,g,E)=>{const O=yl,L=sl,W=_p(d),ne=xi({beforeResize:ji(["table","type"]),afterResize:ji(["table","type"]),startDrag:ji([])});return W.events.adjustHeight.bind(ve=>{const Se=ve.table;ne.trigger.beforeResize(Se,"row");const Me=O.delta(ve.delta,Se);jv(Se,Me,ve.row,O),ne.trigger.afterResize(Se,"row")}),W.events.startAdjust.bind(ve=>{ne.trigger.startDrag()}),W.events.adjustWidth.bind(ve=>{const Se=ve.table;ne.trigger.beforeResize(Se,"col");const Me=L.delta(ve.delta,Se),Qe=E(Se);w0(Se,Me,ve.column,g,Qe),ne.trigger.afterResize(Se,"col")}),{on:W.on,off:W.off,refreshBars:W.refresh,hideBars:W.hideBars,showBars:W.showBars,destroy:W.destroy,events:ne.registry}}},wf={only:(d,g)=>{const E=Kc(d)?si(d):d;return{parent:Q(E),view:Q(d),origin:Q(Hu(0,0)),isResizable:g}},detached:(d,g,E)=>{const O=()=>Bf(g);return{parent:Q(g),view:Q(d),origin:O,isResizable:E}},body:(d,g,E)=>({parent:Q(g),view:Q(d),origin:Q(Hu(0,0)),isResizable:E})},tv=()=>{const d=Je.fromTag("div");return fr(d,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),yr(ua(),d),d},Wx=(d,g)=>d.inline?wf.body(Je.fromDom(d.getBody()),tv(),g):wf.only(Je.fromDom(d.getDoc()),g),my=(d,g)=>{d.inline&&Hr(g.parent())},cs=d=>re(d)&&d.nodeName==="TABLE",Gx="bar-",qx=d=>bc(d,"data-mce-resize")!=="false",pC=d=>{const g=be.fromTable(d);be.hasColumns(g)||Ze(hu(d),E=>{const O=Ra(E,"width");as(E,"width",O),Fr(E,"width")})},gC=d=>{const g=ry(),E=ry(),O=ry();let L,W;const ne=Ct=>$1(d,Ct),ve=()=>M0(d)?ag():ig(),Se=Ct=>Gm(Ct).columns,Me=(Ct,an,wt)=>{const Tn=Oo(an,"e");if(W===""&&Kh(Ct),wt!==L&&W!==""){as(Ct,"width",W);const Jn=ve(),_o=ne(Ct),ar=M0(d)||Tn?Se(Ct)-1:0;w0(Ct,wt-L,ar,Jn,_o)}else if(pr(W)){const Jn=parseFloat(W.replace("%","")),_o=wt*Jn/L;as(Ct,"width",_o+"%")}Nv(W)&&pC(Ct)},Qe=()=>{E.on(Ct=>{Ct.destroy()}),O.on(Ct=>{my(d,Ct)})};return d.on("init",()=>{const Ct=Wx(d,qx);if(O.set(Ct),q_(d)&&bg(d)){const an=ve(),wt=BE.create(Ct,an,ne);wt.on(),wt.events.startDrag.bind(Tn=>{g.set(d.selection.getRng())}),wt.events.beforeResize.bind(Tn=>{const Jn=Tn.table.dom;th(d,Jn,Bh(Jn),Dv(Jn),Gx+Tn.type)}),wt.events.afterResize.bind(Tn=>{const Jn=Tn.table,_o=Jn.dom;xl(Jn),g.on(ar=>{d.selection.setRng(ar),d.focus()}),Es(d,_o,Bh(_o),Dv(_o),Gx+Tn.type),d.undoManager.add()}),E.set(wt)}}),d.on("ObjectResizeStart",Ct=>{const an=Ct.target;if(cs(an)){const wt=Je.fromDom(an);Ze(d.dom.select(".mce-clonedresizable"),Tn=>{d.dom.addClass(Tn,"mce-"+N0(d)+"-columns")}),!F1(wt)&&Eu(d)?H0(wt):!gf(wt)&&ib(d)&&Kh(wt),F0(wt)&&Pi(Ct.origin,Gx)&&Kh(wt),L=Ct.width,W=Ys(d)?"":r0(d,an).getOr("")}}),d.on("ObjectResized",Ct=>{const an=Ct.target;if(cs(an)){const wt=Je.fromDom(an),Tn=Ct.origin;Pi(Tn,"corner-")&&Me(wt,Tn,Ct.width),xl(wt),Zh(d,wt.dom,tp)}}),d.on("SwitchMode",()=>{E.on(Ct=>{d.mode.isReadOnly()?Ct.hideBars():Ct.showBars()})}),d.on("dragstart dragend",Ct=>{E.on(an=>{Ct.type==="dragstart"?(an.hideBars(),an.off()):(an.on(),an.showBars())})}),d.on("remove",()=>{Qe()}),{refresh:Ct=>{E.on(an=>an.refreshBars(Je.fromDom(Ct)))},hide:()=>{E.on(Ct=>Ct.hideBars())},show:()=>{E.on(Ct=>Ct.showBars())}}},wb=d=>{oT(d);const g=gC(d),E=SR(d,g),O=k0(d,g,E);return eu(d,O),Z0(d,O),sg(d,O),{getSelectedCells:E.getSelectedCells,clearSelectedCells:E.clearSelectedCells}},nv=d=>({table:wb(d)});var jx=()=>{a.add("dom",nv)};jx()})();/*!
 * FilePond 4.30.4
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const Woe=a=>a instanceof HTMLElement,Goe=(a,c=[],f=[])=>{const y={...a},C=[],w=[],S=()=>({...y}),D=()=>{const he=[...C];return C.length=0,he},k=()=>{const he=[...w];w.length=0,he.forEach(({type:ue,data:ce})=>{G(ue,ce)})},G=(he,ue,ce)=>{if(ce&&!document.hidden){w.push({type:he,data:ue});return}re[he]&&re[he](ue),C.push({type:he,data:ue})},q=(he,...ue)=>fe[he]?fe[he](...ue):null,X={getState:S,processActionQueue:D,processDispatchQueue:k,dispatch:G,query:q};let fe={};c.forEach(he=>{fe={...he(y),...fe}});let re={};return f.forEach(he=>{re={...he(G,q,y),...re}}),X},qoe=(a,c,f)=>{if(typeof f=="function"){a[c]=f;return}Object.defineProperty(a,c,{...f})},fl=(a,c)=>{for(const f in a)a.hasOwnProperty(f)&&c(f,a[f])},Mw=a=>{const c={};return fl(a,f=>{qoe(c,f,a[f])}),c},iu=(a,c,f=null)=>{if(f===null)return a.getAttribute(c)||a.hasAttribute(c);a.setAttribute(c,f)},joe="http://www.w3.org/2000/svg",Zoe=["svg","path"],$X=a=>Zoe.includes(a),_H=(a,c,f={})=>{typeof c=="object"&&(f=c,c=null);const y=$X(a)?document.createElementNS(joe,a):document.createElement(a);return c&&($X(a)?iu(y,"class",c):y.className=c),fl(f,(C,w)=>{iu(y,C,w)}),y},Yoe=a=>(c,f)=>{typeof f<"u"&&a.children[f]?a.insertBefore(c,a.children[f]):a.appendChild(c)},Koe=(a,c)=>(f,y)=>(typeof y<"u"?c.splice(y,0,f):c.push(f),f),Xoe=(a,c)=>f=>(c.splice(c.indexOf(f),1),f.element.parentNode&&a.removeChild(f.element),f),Qoe=(()=>typeof window<"u"&&typeof window.document<"u")(),XJ=()=>Qoe,Joe=XJ()?_H("svg"):{},ese="children"in Joe?a=>a.children.length:a=>a.childNodes.length,QJ=(a,c,f,y)=>{const C=f[0]||a.left,w=f[1]||a.top,S=C+a.width,D=w+a.height*(y[1]||1),k={element:{...a},inner:{left:a.left,top:a.top,right:a.right,bottom:a.bottom},outer:{left:C,top:w,right:S,bottom:D}};return c.filter(G=>!G.isRectIgnored()).map(G=>G.rect).forEach(G=>{FX(k.inner,{...G.inner}),FX(k.outer,{...G.outer})}),HX(k.inner),k.outer.bottom+=k.element.marginBottom,k.outer.right+=k.element.marginRight,HX(k.outer),k},FX=(a,c)=>{c.top+=a.top,c.right+=a.left,c.bottom+=a.top,c.left+=a.left,c.bottom>a.bottom&&(a.bottom=c.bottom),c.right>a.right&&(a.right=c.right)},HX=a=>{a.width=a.right-a.left,a.height=a.bottom-a.top},tx=a=>typeof a=="number",tse=(a,c,f,y=.001)=>Math.abs(a-c)<y&&Math.abs(f)<y,nse=({stiffness:a=.5,damping:c=.75,mass:f=10}={})=>{let y=null,C=null,w=0,S=!1;const G=Mw({interpolate:(q,X)=>{if(S)return;if(!(tx(y)&&tx(C))){S=!0,w=0;return}const fe=-(C-y)*a;w+=fe/f,C+=w,w*=c,tse(C,y,w)||X?(C=y,w=0,S=!0,G.onupdate(C),G.oncomplete(C)):G.onupdate(C)},target:{set:q=>{if(tx(q)&&!tx(C)&&(C=q),y===null&&(y=q,C=q),y=q,C===y||typeof y>"u"){S=!0,w=0,G.onupdate(C),G.oncomplete(C);return}S=!1},get:()=>y},resting:{get:()=>S},onupdate:q=>{},oncomplete:q=>{}});return G},ose=a=>a<.5?2*a*a:-1+(4-2*a)*a,sse=({duration:a=500,easing:c=ose,delay:f=0}={})=>{let y=null,C,w,S=!0,D=!1,k=null;const q=Mw({interpolate:(X,fe)=>{S||k===null||(y===null&&(y=X),!(X-y<f)&&(C=X-y-f,C>=a||fe?(C=1,w=D?0:1,q.onupdate(w*k),q.oncomplete(w*k),S=!0):(w=C/a,q.onupdate((C>=0?c(D?1-w:w):0)*k))))},target:{get:()=>D?0:k,set:X=>{if(k===null){k=X,q.onupdate(X),q.oncomplete(X);return}X<k?(k=1,D=!0):(D=!1,k=X),S=!1,y=null}},resting:{get:()=>S},onupdate:X=>{},oncomplete:X=>{}});return q},VX={spring:nse,tween:sse},rse=(a,c,f)=>{const y=a[c]&&typeof a[c][f]=="object"?a[c][f]:a[c]||a,C=typeof y=="string"?y:y.type,w=typeof y=="object"?{...y}:{};return VX[C]?VX[C](w):null},pY=(a,c,f,y=!1)=>{c=Array.isArray(c)?c:[c],c.forEach(C=>{a.forEach(w=>{let S=w,D=()=>f[w],k=G=>f[w]=G;typeof w=="object"&&(S=w.key,D=w.getter||D,k=w.setter||k),!(C[S]&&!y)&&(C[S]={get:D,set:k})})})},ise=({mixinConfig:a,viewProps:c,viewInternalAPI:f,viewExternalAPI:y})=>{const C={...c},w=[];return fl(a,(S,D)=>{const k=rse(D);if(!k)return;k.onupdate=q=>{c[S]=q},k.target=C[S],pY([{key:S,setter:q=>{k.target!==q&&(k.target=q)},getter:()=>c[S]}],[f,y],c,!0),w.push(k)}),{write:S=>{let D=document.hidden,k=!0;return w.forEach(G=>{G.resting||(k=!1),G.interpolate(S,D)}),k},destroy:()=>{}}},ase=a=>(c,f)=>{a.addEventListener(c,f)},cse=a=>(c,f)=>{a.removeEventListener(c,f)},lse=({mixinConfig:a,viewProps:c,viewInternalAPI:f,viewExternalAPI:y,viewState:C,view:w})=>{const S=[],D=ase(w.element),k=cse(w.element);return y.on=(G,q)=>{S.push({type:G,fn:q}),D(G,q)},y.off=(G,q)=>{S.splice(S.findIndex(X=>X.type===G&&X.fn===q),1),k(G,q)},{write:()=>!0,destroy:()=>{S.forEach(G=>{k(G.type,G.fn)})}}},use=({mixinConfig:a,viewProps:c,viewExternalAPI:f})=>{pY(a,f,c)},ph=a=>a!=null,dse={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},fse=({mixinConfig:a,viewProps:c,viewInternalAPI:f,viewExternalAPI:y,view:C})=>{const w={...c},S={};pY(a,[f,y],c);const D=()=>[c.translateX||0,c.translateY||0],k=()=>[c.scaleX||0,c.scaleY||0],G=()=>C.rect?QJ(C.rect,C.childViews,D(),k()):null;return f.rect={get:G},y.rect={get:G},a.forEach(q=>{c[q]=typeof w[q]>"u"?dse[q]:w[q]}),{write:()=>{if(hse(S,c))return mse(C.element,c),Object.assign(S,{...c}),!0},destroy:()=>{}}},hse=(a,c)=>{if(Object.keys(a).length!==Object.keys(c).length)return!0;for(const f in c)if(c[f]!==a[f])return!0;return!1},mse=(a,{opacity:c,perspective:f,translateX:y,translateY:C,scaleX:w,scaleY:S,rotateX:D,rotateY:k,rotateZ:G,originX:q,originY:X,width:fe,height:re})=>{let he="",ue="";(ph(q)||ph(X))&&(ue+=`transform-origin: ${q||0}px ${X||0}px;`),ph(f)&&(he+=`perspective(${f}px) `),(ph(y)||ph(C))&&(he+=`translate3d(${y||0}px, ${C||0}px, 0) `),(ph(w)||ph(S))&&(he+=`scale3d(${ph(w)?w:1}, ${ph(S)?S:1}, 1) `),ph(G)&&(he+=`rotateZ(${G}rad) `),ph(D)&&(he+=`rotateX(${D}rad) `),ph(k)&&(he+=`rotateY(${k}rad) `),he.length&&(ue+=`transform:${he};`),ph(c)&&(ue+=`opacity:${c};`,c===0&&(ue+="visibility:hidden;"),c<1&&(ue+="pointer-events:none;")),ph(re)&&(ue+=`height:${re}px;`),ph(fe)&&(ue+=`width:${fe}px;`);const ce=a.elementCurrentStyle||"";(ue.length!==ce.length||ue!==ce)&&(a.style.cssText=ue,a.elementCurrentStyle=ue)},pse={styles:fse,listeners:lse,animations:ise,apis:use},zX=(a={},c={},f={})=>(c.layoutCalculated||(a.paddingTop=parseInt(f.paddingTop,10)||0,a.marginTop=parseInt(f.marginTop,10)||0,a.marginRight=parseInt(f.marginRight,10)||0,a.marginBottom=parseInt(f.marginBottom,10)||0,a.marginLeft=parseInt(f.marginLeft,10)||0,c.layoutCalculated=!0),a.left=c.offsetLeft||0,a.top=c.offsetTop||0,a.width=c.offsetWidth||0,a.height=c.offsetHeight||0,a.right=a.left+a.width,a.bottom=a.top+a.height,a.scrollTop=c.scrollTop,a.hidden=c.offsetParent===null,a),au=({tag:a="div",name:c=null,attributes:f={},read:y=()=>{},write:C=()=>{},create:w=()=>{},destroy:S=()=>{},filterFrameActionsForChild:D=(re,he)=>he,didCreateView:k=()=>{},didWriteView:G=()=>{},ignoreRect:q=!1,ignoreRectUpdate:X=!1,mixins:fe=[]}={})=>(re,he={})=>{const ue=_H(a,`filepond--${c}`,f),ce=window.getComputedStyle(ue,null),ae=zX();let ge=null,Q=!1;const Ne=[],qe=[],z={},we={},je=[C],dt=[y],_t=[S],Pe=()=>ue,Ee=()=>Ne.concat(),pn=()=>z,Tt=tt=>(Dt,se)=>Dt(tt,se),Rt=()=>ge||(ge=QJ(ae,Ne,[0,0],[1,1]),ge),B=()=>ce,It=()=>{ge=null,Ne.forEach(se=>se._read()),!(X&&ae.width&&ae.height)&&zX(ae,ue,ce);const Dt={root:co,props:he,rect:ae};dt.forEach(se=>se(Dt))},nt=(tt,Dt,se)=>{let ls=Dt.length===0;return je.forEach(fo=>{fo({props:he,root:co,actions:Dt,timestamp:tt,shouldOptimize:se})===!1&&(ls=!1)}),qe.forEach(fo=>{fo.write(tt)===!1&&(ls=!1)}),Ne.filter(fo=>!!fo.element.parentNode).forEach(fo=>{fo._write(tt,D(fo,Dt),se)||(ls=!1)}),Ne.forEach((fo,Ft)=>{fo.element.parentNode||(co.appendChild(fo.element,Ft),fo._read(),fo._write(tt,D(fo,Dt),se),ls=!1)}),Q=ls,G({props:he,root:co,actions:Dt,timestamp:tt}),ls},jt=()=>{qe.forEach(tt=>tt.destroy()),_t.forEach(tt=>{tt({root:co,props:he})}),Ne.forEach(tt=>tt._destroy())},zt={element:{get:Pe},style:{get:B},childViews:{get:Ee}},Ze={...zt,rect:{get:Rt},ref:{get:pn},is:tt=>c===tt,appendChild:Yoe(ue),createChildView:Tt(re),linkView:tt=>(Ne.push(tt),tt),unlinkView:tt=>{Ne.splice(Ne.indexOf(tt),1)},appendChildView:Koe(ue,Ne),removeChildView:Xoe(ue,Ne),registerWriter:tt=>je.push(tt),registerReader:tt=>dt.push(tt),registerDestroyer:tt=>_t.push(tt),invalidateLayout:()=>ue.layoutCalculated=!1,dispatch:re.dispatch,query:re.query},bo={element:{get:Pe},childViews:{get:Ee},rect:{get:Rt},resting:{get:()=>Q},isRectIgnored:()=>q,_read:It,_write:nt,_destroy:jt},Fo={...zt,rect:{get:()=>ae}};Object.keys(fe).sort((tt,Dt)=>tt==="styles"?1:Dt==="styles"?-1:0).forEach(tt=>{const Dt=pse[tt]({mixinConfig:fe[tt],viewProps:he,viewState:we,viewInternalAPI:Ze,viewExternalAPI:bo,view:Mw(Fo)});Dt&&qe.push(Dt)});const co=Mw(Ze);w({root:co,props:he});const Ho=ese(ue);return Ne.forEach((tt,Dt)=>{co.appendChild(tt.element,Ho+Dt)}),k(co),Mw(bo)},gse=(a,c,f=60)=>{const y="__framePainter";if(window[y]){window[y].readers.push(a),window[y].writers.push(c);return}window[y]={readers:[a],writers:[c]};const C=window[y],w=1e3/f;let S=null,D=null,k=null,G=null;const q=()=>{document.hidden?(k=()=>window.setTimeout(()=>X(performance.now()),w),G=()=>window.clearTimeout(D)):(k=()=>window.requestAnimationFrame(X),G=()=>window.cancelAnimationFrame(D))};document.addEventListener("visibilitychange",()=>{G&&G(),q(),X(performance.now())});const X=fe=>{D=k(X),S||(S=fe);const re=fe-S;re<=w||(S=fe-re%w,C.readers.forEach(he=>he()),C.writers.forEach(he=>he(fe)))};return q(),X(performance.now()),{pause:()=>{G(D)}}},yh=(a,c)=>({root:f,props:y,actions:C=[],timestamp:w,shouldOptimize:S})=>{C.filter(D=>a[D.type]).forEach(D=>a[D.type]({root:f,props:y,action:D.data,timestamp:w,shouldOptimize:S})),c&&c({root:f,props:y,actions:C,timestamp:w,shouldOptimize:S})},UX=(a,c)=>c.parentNode.insertBefore(a,c),WX=(a,c)=>c.parentNode.insertBefore(a,c.nextSibling),HH=a=>Array.isArray(a),l_=a=>a==null,vse=a=>a.trim(),VH=a=>""+a,bse=(a,c=",")=>l_(a)?[]:HH(a)?a:VH(a).split(c).map(vse).filter(f=>f.length),JJ=a=>typeof a=="boolean",eee=a=>JJ(a)?a:a==="true",bh=a=>typeof a=="string",tee=a=>tx(a)?a:bh(a)?VH(a).replace(/[a-z]+/gi,""):0,rH=a=>parseInt(tee(a),10),GX=a=>parseFloat(tee(a)),tR=a=>tx(a)&&isFinite(a)&&Math.floor(a)===a,qX=(a,c=1e3)=>{if(tR(a))return a;let f=VH(a).trim();return/MB$/i.test(f)?(f=f.replace(/MB$i/,"").trim(),rH(f)*c*c):/KB/i.test(f)?(f=f.replace(/KB$i/,"").trim(),rH(f)*c):rH(f)},nx=a=>typeof a=="function",yse=a=>{let c=self,f=a.split("."),y=null;for(;y=f.shift();)if(c=c[y],!c)return null;return c},jX={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},_se=a=>{const c={};return c.url=bh(a)?a:a.url||"",c.timeout=a.timeout?parseInt(a.timeout,10):0,c.headers=a.headers?a.headers:{},fl(jX,f=>{c[f]=Ese(f,a[f],jX[f],c.timeout,c.headers)}),c.process=a.process||bh(a)||a.url?c.process:null,c.remove=a.remove||null,delete c.headers,c},Ese=(a,c,f,y,C)=>{if(c===null)return null;if(typeof c=="function")return c;const w={url:f==="GET"||f==="PATCH"?`?${a}=`:"",method:f,headers:C,withCredentials:!1,timeout:y,onload:null,ondata:null,onerror:null};if(bh(c))return w.url=c,w;if(Object.assign(w,c),bh(w.headers)){const S=w.headers.split(/:(.+)/);w.headers={header:S[0],value:S[1]}}return w.withCredentials=eee(w.withCredentials),w},wse=a=>_se(a),Tse=a=>a===null,rd=a=>typeof a=="object"&&a!==null,Cse=a=>rd(a)&&bh(a.url)&&rd(a.process)&&rd(a.revert)&&rd(a.restore)&&rd(a.fetch),IZ=a=>HH(a)?"array":Tse(a)?"null":tR(a)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(a)?"bytes":Cse(a)?"api":typeof a,Sse=a=>a.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",'),xse={array:bse,boolean:eee,int:a=>IZ(a)==="bytes"?qX(a):rH(a),number:GX,float:GX,bytes:qX,string:a=>nx(a)?a:VH(a),function:a=>yse(a),serverapi:wse,object:a=>{try{return JSON.parse(Sse(a))}catch{return null}}},Ase=(a,c)=>xse[c](a),nee=(a,c,f)=>{if(a===c)return a;let y=IZ(a);if(y!==f){const C=Ase(a,f);if(y=IZ(C),C===null)throw`Trying to assign value with incorrect type to "${option}", allowed type: "${f}"`;a=C}return a},Ose=(a,c)=>{let f=a;return{enumerable:!0,get:()=>f,set:y=>{f=nee(y,a,c)}}},Rse=a=>{const c={};return fl(a,f=>{const y=a[f];c[f]=Ose(y[0],y[1])}),Mw(c)},Ise=a=>({items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:Rse(a)}),zH=(a,c="-")=>a.split(/(?=[A-Z])/).map(f=>f.toLowerCase()).join(c),Dse=(a,c)=>{const f={};return fl(c,y=>{f[y]={get:()=>a.getState().options[y],set:C=>{a.dispatch(`SET_${zH(y,"_").toUpperCase()}`,{value:C})}}}),f},Nse=a=>(c,f,y)=>{const C={};return fl(a,w=>{const S=zH(w,"_").toUpperCase();C[`SET_${S}`]=D=>{try{y.options[w]=D.value}catch{}c(`DID_SET_${S}`,{value:y.options[w]})}}),C},Mse=a=>c=>{const f={};return fl(a,y=>{f[`GET_${zH(y,"_").toUpperCase()}`]=C=>c.options[y]}),f},Jg={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},gY=()=>Math.random().toString(36).substring(2,11),vY=(a,c)=>a.splice(c,1),kse=(a,c)=>{c?a():document.hidden?Promise.resolve(1).then(a):setTimeout(a,0)},UH=()=>{const a=[],c=(y,C)=>{vY(a,a.findIndex(w=>w.event===y&&(w.cb===C||!C)))},f=(y,C,w)=>{a.filter(S=>S.event===y).map(S=>S.cb).forEach(S=>kse(()=>S(...C),w))};return{fireSync:(y,...C)=>{f(y,C,!0)},fire:(y,...C)=>{f(y,C,!1)},on:(y,C)=>{a.push({event:y,cb:C})},onOnce:(y,C)=>{a.push({event:y,cb:(...w)=>{c(y,C),C(...w)}})},off:c}},oee=(a,c,f)=>{Object.getOwnPropertyNames(a).filter(y=>!f.includes(y)).forEach(y=>Object.defineProperty(c,y,Object.getOwnPropertyDescriptor(a,y)))},Pse=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],Em=a=>{const c={};return oee(a,c,Pse),c},Lse=a=>{a.forEach((c,f)=>{c.released&&vY(a,f)})},Fs={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},Ou={INPUT:1,LIMBO:2,LOCAL:3},see=a=>/[^0-9]+/.exec(a),ree=()=>see(1.1.toLocaleString())[0],Bse=()=>{const a=ree(),c=1e3.toLocaleString(),f=1e3.toString();return c!==f?see(c)[0]:a==="."?",":"."},bn={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},bY=[],bv=(a,c,f)=>new Promise((y,C)=>{const w=bY.filter(D=>D.key===a).map(D=>D.cb);if(w.length===0){y(c);return}const S=w.shift();w.reduce((D,k)=>D.then(G=>k(G,f)),S(c,f)).then(D=>y(D)).catch(D=>C(D))}),fx=(a,c,f)=>bY.filter(y=>y.key===a).map(y=>y.cb(c,f)),$se=(a,c)=>bY.push({key:a,cb:c}),Fse=a=>Object.assign(PO,a),EH=()=>({...PO}),Hse=a=>{fl(a,(c,f)=>{PO[c]&&(PO[c][0]=nee(f,PO[c][0],PO[c][1]))})},PO={id:[null,bn.STRING],name:["filepond",bn.STRING],disabled:[!1,bn.BOOLEAN],className:[null,bn.STRING],required:[!1,bn.BOOLEAN],captureMethod:[null,bn.STRING],allowSyncAcceptAttribute:[!0,bn.BOOLEAN],allowDrop:[!0,bn.BOOLEAN],allowBrowse:[!0,bn.BOOLEAN],allowPaste:[!0,bn.BOOLEAN],allowMultiple:[!1,bn.BOOLEAN],allowReplace:[!0,bn.BOOLEAN],allowRevert:[!0,bn.BOOLEAN],allowRemove:[!0,bn.BOOLEAN],allowProcess:[!0,bn.BOOLEAN],allowReorder:[!1,bn.BOOLEAN],allowDirectoriesOnly:[!1,bn.BOOLEAN],storeAsFile:[!1,bn.BOOLEAN],forceRevert:[!1,bn.BOOLEAN],maxFiles:[null,bn.INT],checkValidity:[!1,bn.BOOLEAN],itemInsertLocationFreedom:[!0,bn.BOOLEAN],itemInsertLocation:["before",bn.STRING],itemInsertInterval:[75,bn.INT],dropOnPage:[!1,bn.BOOLEAN],dropOnElement:[!0,bn.BOOLEAN],dropValidation:[!1,bn.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],bn.ARRAY],instantUpload:[!0,bn.BOOLEAN],maxParallelUploads:[2,bn.INT],allowMinimumUploadDuration:[!0,bn.BOOLEAN],chunkUploads:[!1,bn.BOOLEAN],chunkForce:[!1,bn.BOOLEAN],chunkSize:[5e6,bn.INT],chunkRetryDelays:[[500,1e3,3e3],bn.ARRAY],server:[null,bn.SERVER_API],fileSizeBase:[1e3,bn.INT],labelFileSizeBytes:["bytes",bn.STRING],labelFileSizeKilobytes:["KB",bn.STRING],labelFileSizeMegabytes:["MB",bn.STRING],labelFileSizeGigabytes:["GB",bn.STRING],labelDecimalSeparator:[ree(),bn.STRING],labelThousandsSeparator:[Bse(),bn.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',bn.STRING],labelInvalidField:["Field contains invalid files",bn.STRING],labelFileWaitingForSize:["Waiting for size",bn.STRING],labelFileSizeNotAvailable:["Size not available",bn.STRING],labelFileCountSingular:["file in list",bn.STRING],labelFileCountPlural:["files in list",bn.STRING],labelFileLoading:["Loading",bn.STRING],labelFileAdded:["Added",bn.STRING],labelFileLoadError:["Error during load",bn.STRING],labelFileRemoved:["Removed",bn.STRING],labelFileRemoveError:["Error during remove",bn.STRING],labelFileProcessing:["Uploading",bn.STRING],labelFileProcessingComplete:["Upload complete",bn.STRING],labelFileProcessingAborted:["Upload cancelled",bn.STRING],labelFileProcessingError:["Error during upload",bn.STRING],labelFileProcessingRevertError:["Error during revert",bn.STRING],labelTapToCancel:["tap to cancel",bn.STRING],labelTapToRetry:["tap to retry",bn.STRING],labelTapToUndo:["tap to undo",bn.STRING],labelButtonRemoveItem:["Remove",bn.STRING],labelButtonAbortItemLoad:["Abort",bn.STRING],labelButtonRetryItemLoad:["Retry",bn.STRING],labelButtonAbortItemProcessing:["Cancel",bn.STRING],labelButtonUndoItemProcessing:["Undo",bn.STRING],labelButtonRetryItemProcessing:["Retry",bn.STRING],labelButtonProcessItem:["Upload",bn.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',bn.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',bn.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',bn.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',bn.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',bn.STRING],oninit:[null,bn.FUNCTION],onwarning:[null,bn.FUNCTION],onerror:[null,bn.FUNCTION],onactivatefile:[null,bn.FUNCTION],oninitfile:[null,bn.FUNCTION],onaddfilestart:[null,bn.FUNCTION],onaddfileprogress:[null,bn.FUNCTION],onaddfile:[null,bn.FUNCTION],onprocessfilestart:[null,bn.FUNCTION],onprocessfileprogress:[null,bn.FUNCTION],onprocessfileabort:[null,bn.FUNCTION],onprocessfilerevert:[null,bn.FUNCTION],onprocessfile:[null,bn.FUNCTION],onprocessfiles:[null,bn.FUNCTION],onremovefile:[null,bn.FUNCTION],onpreparefile:[null,bn.FUNCTION],onupdatefiles:[null,bn.FUNCTION],onreorderfiles:[null,bn.FUNCTION],beforeDropFile:[null,bn.FUNCTION],beforeAddFile:[null,bn.FUNCTION],beforeRemoveFile:[null,bn.FUNCTION],beforePrepareFile:[null,bn.FUNCTION],stylePanelLayout:[null,bn.STRING],stylePanelAspectRatio:[null,bn.STRING],styleItemPanelAspectRatio:[null,bn.STRING],styleButtonRemoveItemPosition:["left",bn.STRING],styleButtonProcessItemPosition:["right",bn.STRING],styleLoadIndicatorPosition:["right",bn.STRING],styleProgressIndicatorPosition:["right",bn.STRING],styleButtonRemoveItemAlign:[!1,bn.BOOLEAN],files:[[],bn.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],bn.ARRAY]},ox=(a,c)=>l_(c)?a[0]||null:tR(c)?a[c]||null:(typeof c=="object"&&(c=c.id),a.find(f=>f.id===c)||null),iee=a=>{if(l_(a))return a;if(/:/.test(a)){const c=a.split(":");return c[1]/c[0]}return parseFloat(a)},yv=a=>a.filter(c=>!c.archived),aee={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4};let U5=null;const Vse=()=>{if(U5===null)try{const a=new DataTransfer;a.items.add(new File(["hello world"],"This_Works.txt"));const c=document.createElement("input");c.setAttribute("type","file"),c.files=a.files,U5=c.files.length===1}catch{U5=!1}return U5},zse=[Fs.LOAD_ERROR,Fs.PROCESSING_ERROR,Fs.PROCESSING_REVERT_ERROR],Use=[Fs.LOADING,Fs.PROCESSING,Fs.PROCESSING_QUEUED,Fs.INIT],Wse=[Fs.PROCESSING_COMPLETE],Gse=a=>zse.includes(a.status),qse=a=>Use.includes(a.status),jse=a=>Wse.includes(a.status),ZX=a=>rd(a.options.server)&&(rd(a.options.server.process)||nx(a.options.server.process)),Zse=a=>({GET_STATUS:()=>{const c=yv(a.items),{EMPTY:f,ERROR:y,BUSY:C,IDLE:w,READY:S}=aee;return c.length===0?f:c.some(Gse)?y:c.some(qse)?C:c.some(jse)?S:w},GET_ITEM:c=>ox(a.items,c),GET_ACTIVE_ITEM:c=>ox(yv(a.items),c),GET_ACTIVE_ITEMS:()=>yv(a.items),GET_ITEMS:()=>a.items,GET_ITEM_NAME:c=>{const f=ox(a.items,c);return f?f.filename:null},GET_ITEM_SIZE:c=>{const f=ox(a.items,c);return f?f.fileSize:null},GET_STYLES:()=>Object.keys(a.options).filter(c=>/^style/.test(c)).map(c=>({name:c,value:a.options[c]})),GET_PANEL_ASPECT_RATIO:()=>/circle/.test(a.options.stylePanelLayout)?1:iee(a.options.stylePanelAspectRatio),GET_ITEM_PANEL_ASPECT_RATIO:()=>a.options.styleItemPanelAspectRatio,GET_ITEMS_BY_STATUS:c=>yv(a.items).filter(f=>f.status===c),GET_TOTAL_ITEMS:()=>yv(a.items).length,SHOULD_UPDATE_FILE_INPUT:()=>a.options.storeAsFile&&Vse()&&!ZX(a),IS_ASYNC:()=>ZX(a),GET_FILE_SIZE_LABELS:c=>({labelBytes:c("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:c("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:c("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:c("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0})}),Yse=a=>{const c=yv(a.items).length;if(!a.options.allowMultiple)return c===0;const f=a.options.maxFiles;return f===null||c<f},cee=(a,c,f)=>Math.max(Math.min(f,a),c),Kse=(a,c,f)=>a.splice(c,0,f),Xse=(a,c,f)=>l_(c)?null:typeof f>"u"?(a.push(c),c):(f=cee(f,0,a.length),Kse(a,f,c),c),DZ=a=>/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(a),ik=a=>a.split("/").pop().split("?").shift(),WH=a=>a.split(".").pop(),Qse=a=>{if(typeof a!="string")return"";const c=a.split("/").pop();return/svg/.test(c)?"svg":/zip|compressed/.test(c)?"zip":/plain/.test(c)?"txt":/msword/.test(c)?"doc":/[a-z]+/.test(c)?c==="jpeg"?"jpg":c:""},WM=(a,c="")=>(c+a).slice(-c.length),lee=(a=new Date)=>`${a.getFullYear()}-${WM(a.getMonth()+1,"00")}-${WM(a.getDate(),"00")}_${WM(a.getHours(),"00")}-${WM(a.getMinutes(),"00")}-${WM(a.getSeconds(),"00")}`,YO=(a,c,f=null,y=null)=>{const C=typeof f=="string"?a.slice(0,a.size,f):a.slice(0,a.size,a.type);return C.lastModifiedDate=new Date,a._relativePath&&(C._relativePath=a._relativePath),bh(c)||(c=lee()),c&&y===null&&WH(c)?C.name=c:(y=y||Qse(C.type),C.name=c+(y?"."+y:"")),C},Jse=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,uee=(a,c)=>{const f=Jse();if(f){const y=new f;return y.append(a),y.getBlob(c)}return new Blob([a],{type:c})},ere=(a,c)=>{const f=new ArrayBuffer(a.length),y=new Uint8Array(f);for(let C=0;C<a.length;C++)y[C]=a.charCodeAt(C);return uee(f,c)},dee=a=>(/^data:(.+);/.exec(a)||[])[1]||null,tre=a=>a.split(",")[1].replace(/\s/g,""),nre=a=>atob(tre(a)),ore=a=>{const c=dee(a),f=nre(a);return ere(f,c)},sre=(a,c,f)=>YO(ore(a),c,null,f),rre=a=>{if(!/^content-disposition:/i.test(a))return null;const c=a.split(/filename=|filename\*=.+''/).splice(1).map(f=>f.trim().replace(/^["']|[;"']{0,2}$/g,"")).filter(f=>f.length);return c.length?decodeURI(c[c.length-1]):null},ire=a=>{if(/content-length:/i.test(a)){const c=a.match(/[0-9]+/)[0];return c?parseInt(c,10):null}return null},are=a=>/x-content-transfer-id:/i.test(a)&&(a.split(":")[1]||"").trim()||null,yY=a=>{const c={source:null,name:null,size:null},f=a.split(`
`);for(let y of f){const C=rre(y);if(C){c.name=C;continue}const w=ire(y);if(w){c.size=w;continue}const S=are(y);if(S){c.source=S;continue}}return c},cre=a=>{const c={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},f=()=>c.progress,y=()=>{c.request&&c.request.abort&&c.request.abort()},C=()=>{const D=c.source;S.fire("init",D),D instanceof File?S.fire("load",D):D instanceof Blob?S.fire("load",YO(D,D.name)):DZ(D)?S.fire("load",sre(D)):w(D)},w=D=>{if(!a){S.fire("error",{type:"error",body:"Can't load URL",code:400});return}c.timestamp=Date.now(),c.request=a(D,k=>{c.duration=Date.now()-c.timestamp,c.complete=!0,k instanceof Blob&&(k=YO(k,k.name||ik(D))),S.fire("load",k instanceof Blob?k:k?k.body:null)},k=>{S.fire("error",typeof k=="string"?{type:"error",code:0,body:k}:k)},(k,G,q)=>{if(q&&(c.size=q),c.duration=Date.now()-c.timestamp,!k){c.progress=null;return}c.progress=G/q,S.fire("progress",c.progress)},()=>{S.fire("abort")},k=>{const G=yY(typeof k=="string"?k:k.headers);S.fire("meta",{size:c.size||G.size,filename:G.name,source:G.source})})},S={...UH(),setSource:D=>c.source=D,getProgress:f,abort:y,load:C};return S},YX=a=>/GET|HEAD/.test(a),ax=(a,c,f)=>{const y={onheaders:()=>{},onprogress:()=>{},onload:()=>{},ontimeout:()=>{},onerror:()=>{},onabort:()=>{},abort:()=>{C=!0,S.abort()}};let C=!1,w=!1;f={method:"POST",headers:{},withCredentials:!1,...f},c=encodeURI(c),YX(f.method)&&a&&(c=`${c}${encodeURIComponent(typeof a=="string"?a:JSON.stringify(a))}`);const S=new XMLHttpRequest,D=YX(f.method)?S:S.upload;return D.onprogress=k=>{C||y.onprogress(k.lengthComputable,k.loaded,k.total)},S.onreadystatechange=()=>{S.readyState<2||S.readyState===4&&S.status===0||w||(w=!0,y.onheaders(S))},S.onload=()=>{S.status>=200&&S.status<300?y.onload(S):y.onerror(S)},S.onerror=()=>y.onerror(S),S.onabort=()=>{C=!0,y.onabort()},S.ontimeout=()=>y.ontimeout(S),S.open(f.method,c,!0),tR(f.timeout)&&(S.timeout=f.timeout),Object.keys(f.headers).forEach(k=>{const G=unescape(encodeURIComponent(f.headers[k]));S.setRequestHeader(k,G)}),f.responseType&&(S.responseType=f.responseType),f.withCredentials&&(S.withCredentials=!0),S.send(a),y},Pl=(a,c,f,y)=>({type:a,code:c,body:f,headers:y}),cx=a=>c=>{a(Pl("error",0,"Timeout",c.getAllResponseHeaders()))},KX=a=>/\?/.test(a),QM=(...a)=>{let c="";return a.forEach(f=>{c+=KX(c)&&KX(f)?f.replace(/\?/,"&"):f}),c},Xj=(a="",c)=>{if(typeof c=="function")return c;if(!c||!bh(c.url))return null;const f=c.onload||(C=>C),y=c.onerror||(C=>null);return(C,w,S,D,k,G)=>{const q=ax(C,QM(a,c.url),{...c,responseType:"blob"});return q.onload=X=>{const fe=X.getAllResponseHeaders(),re=yY(fe).name||ik(C);w(Pl("load",X.status,c.method==="HEAD"?null:YO(f(X.response),re),fe))},q.onerror=X=>{S(Pl("error",X.status,y(X.response)||X.statusText,X.getAllResponseHeaders()))},q.onheaders=X=>{G(Pl("headers",X.status,null,X.getAllResponseHeaders()))},q.ontimeout=cx(S),q.onprogress=D,q.onabort=k,q}},Yg={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},lre=(a,c,f,y,C,w,S,D,k,G,q)=>{const X=[],{chunkTransferId:fe,chunkServer:re,chunkSize:he,chunkRetryDelays:ue}=q,ce={serverId:fe,aborted:!1},ae=c.ondata||(Tt=>Tt),ge=c.onload||((Tt,Rt)=>Rt==="HEAD"?Tt.getResponseHeader("Upload-Offset"):Tt.response),Q=c.onerror||(Tt=>null),Ne=Tt=>{const Rt=new FormData;rd(C)&&Rt.append(f,JSON.stringify(C));const B=typeof c.headers=="function"?c.headers(y,C):{...c.headers,"Upload-Length":y.size},It={...c,headers:B},nt=ax(ae(Rt),QM(a,c.url),It);nt.onload=jt=>Tt(ge(jt,It.method)),nt.onerror=jt=>S(Pl("error",jt.status,Q(jt.response)||jt.statusText,jt.getAllResponseHeaders())),nt.ontimeout=cx(S)},qe=Tt=>{const Rt=QM(a,re.url,ce.serverId),It={headers:typeof c.headers=="function"?c.headers(ce.serverId):{...c.headers},method:"HEAD"},nt=ax(null,Rt,It);nt.onload=jt=>Tt(ge(jt,It.method)),nt.onerror=jt=>S(Pl("error",jt.status,Q(jt.response)||jt.statusText,jt.getAllResponseHeaders())),nt.ontimeout=cx(S)},z=Math.floor(y.size/he);for(let Tt=0;Tt<=z;Tt++){const Rt=Tt*he,B=y.slice(Rt,Rt+he,"application/offset+octet-stream");X[Tt]={index:Tt,size:B.size,offset:Rt,data:B,file:y,progress:0,retries:[...ue],status:Yg.QUEUED,error:null,request:null,timeout:null}}const we=()=>w(ce.serverId),je=Tt=>Tt.status===Yg.QUEUED||Tt.status===Yg.ERROR,dt=Tt=>{if(ce.aborted)return;if(Tt=Tt||X.find(je),!Tt){X.every(zt=>zt.status===Yg.COMPLETE)&&we();return}Tt.status=Yg.PROCESSING,Tt.progress=null;const Rt=re.ondata||(zt=>zt),B=re.onerror||(zt=>null),It=QM(a,re.url,ce.serverId),nt=typeof re.headers=="function"?re.headers(Tt):{...re.headers,"Content-Type":"application/offset+octet-stream","Upload-Offset":Tt.offset,"Upload-Length":y.size,"Upload-Name":y.name},jt=Tt.request=ax(Rt(Tt.data),It,{...re,headers:nt});jt.onload=()=>{Tt.status=Yg.COMPLETE,Tt.request=null,Ee()},jt.onprogress=(zt,Ze,bo)=>{Tt.progress=zt?Ze:null,Pe()},jt.onerror=zt=>{Tt.status=Yg.ERROR,Tt.request=null,Tt.error=B(zt.response)||zt.statusText,_t(Tt)||S(Pl("error",zt.status,B(zt.response)||zt.statusText,zt.getAllResponseHeaders()))},jt.ontimeout=zt=>{Tt.status=Yg.ERROR,Tt.request=null,_t(Tt)||cx(S)(zt)},jt.onabort=()=>{Tt.status=Yg.QUEUED,Tt.request=null,k()}},_t=Tt=>Tt.retries.length===0?!1:(Tt.status=Yg.WAITING,clearTimeout(Tt.timeout),Tt.timeout=setTimeout(()=>{dt(Tt)},Tt.retries.shift()),!0),Pe=()=>{const Tt=X.reduce((B,It)=>B===null||It.progress===null?null:B+It.progress,0);if(Tt===null)return D(!1,0,0);const Rt=X.reduce((B,It)=>B+It.size,0);D(!0,Tt,Rt)},Ee=()=>{X.filter(Rt=>Rt.status===Yg.PROCESSING).length>=1||dt()},pn=()=>{X.forEach(Tt=>{clearTimeout(Tt.timeout),Tt.request&&Tt.request.abort()})};return ce.serverId?qe(Tt=>{ce.aborted||(X.filter(Rt=>Rt.offset<Tt).forEach(Rt=>{Rt.status=Yg.COMPLETE,Rt.progress=Rt.size}),Ee())}):Ne(Tt=>{ce.aborted||(G(Tt),ce.serverId=Tt,Ee())}),{abort:()=>{ce.aborted=!0,pn()}}},ure=(a,c,f,y)=>(C,w,S,D,k,G,q)=>{if(!C)return;const X=y.chunkUploads,fe=X&&C.size>y.chunkSize,re=X&&(fe||y.chunkForce);if(C instanceof Blob&&re)return lre(a,c,f,C,w,S,D,k,G,q,y);const he=c.ondata||(qe=>qe),ue=c.onload||(qe=>qe),ce=c.onerror||(qe=>null),ae=typeof c.headers=="function"?c.headers(C,w)||{}:{...c.headers},ge={...c,headers:ae};var Q=new FormData;rd(w)&&Q.append(f,JSON.stringify(w)),(C instanceof Blob?[{name:null,file:C}]:C).forEach(qe=>{Q.append(f,qe.file,qe.name===null?qe.file.name:`${qe.name}${qe.file.name}`)});const Ne=ax(he(Q),QM(a,c.url),ge);return Ne.onload=qe=>{S(Pl("load",qe.status,ue(qe.response),qe.getAllResponseHeaders()))},Ne.onerror=qe=>{D(Pl("error",qe.status,ce(qe.response)||qe.statusText,qe.getAllResponseHeaders()))},Ne.ontimeout=cx(D),Ne.onprogress=k,Ne.onabort=G,Ne},dre=(a="",c,f,y)=>typeof c=="function"?(...C)=>c(f,...C,y):!c||!bh(c.url)?null:ure(a,c,f,y),GM=(a="",c)=>{if(typeof c=="function")return c;if(!c||!bh(c.url))return(C,w)=>w();const f=c.onload||(C=>C),y=c.onerror||(C=>null);return(C,w,S)=>{const D=ax(C,a+c.url,c);return D.onload=k=>{w(Pl("load",k.status,f(k.response),k.getAllResponseHeaders()))},D.onerror=k=>{S(Pl("error",k.status,y(k.response)||k.statusText,k.getAllResponseHeaders()))},D.ontimeout=cx(S),D}},fee=(a=0,c=1)=>a+Math.random()*(c-a),fre=(a,c=1e3,f=0,y=25,C=250)=>{let w=null;const S=Date.now(),D=()=>{let k=Date.now()-S,G=fee(y,C);k+G>c&&(G=k+G-c);let q=k/c;if(q>=1||document.hidden){a(1);return}a(q),w=setTimeout(D,G)};return c>0&&D(),{clear:()=>{clearTimeout(w)}}},hre=(a,c)=>{const f={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},{allowMinimumUploadDuration:y}=c,C=(q,X)=>{const fe=()=>{f.duration===0||f.progress===null||G.fire("progress",G.getProgress())},re=()=>{f.complete=!0,G.fire("load-perceived",f.response.body)};G.fire("start"),f.timestamp=Date.now(),f.perceivedPerformanceUpdater=fre(he=>{f.perceivedProgress=he,f.perceivedDuration=Date.now()-f.timestamp,fe(),f.response&&f.perceivedProgress===1&&!f.complete&&re()},y?fee(750,1500):0),f.request=a(q,X,he=>{f.response=rd(he)?he:{type:"load",code:200,body:`${he}`,headers:{}},f.duration=Date.now()-f.timestamp,f.progress=1,G.fire("load",f.response.body),(!y||y&&f.perceivedProgress===1)&&re()},he=>{f.perceivedPerformanceUpdater.clear(),G.fire("error",rd(he)?he:{type:"error",code:0,body:`${he}`})},(he,ue,ce)=>{f.duration=Date.now()-f.timestamp,f.progress=he?ue/ce:null,fe()},()=>{f.perceivedPerformanceUpdater.clear(),G.fire("abort",f.response?f.response.body:null)},he=>{G.fire("transfer",he)})},w=()=>{f.request&&(f.perceivedPerformanceUpdater.clear(),f.request.abort&&f.request.abort(),f.complete=!0)},S=()=>{w(),f.complete=!1,f.perceivedProgress=0,f.progress=0,f.timestamp=null,f.perceivedDuration=0,f.duration=0,f.request=null,f.response=null},D=y?()=>f.progress?Math.min(f.progress,f.perceivedProgress):null:()=>f.progress||null,k=y?()=>Math.min(f.duration,f.perceivedDuration):()=>f.duration,G={...UH(),process:C,abort:w,getProgress:D,getDuration:k,reset:S};return G},hee=a=>a.substring(0,a.lastIndexOf("."))||a,mre=a=>{let c=[a.name,a.size,a.type];return a instanceof Blob||DZ(a)?c[0]=a.name||lee():DZ(a)?(c[1]=a.length,c[2]=dee(a)):bh(a)&&(c[0]=ik(a),c[1]=0,c[2]="application/octet-stream"),{name:c[0],size:c[1],type:c[2]}},KO=a=>!!(a instanceof File||a instanceof Blob&&a.name),mee=a=>{if(!rd(a))return a;const c=HH(a)?[]:{};for(const f in a){if(!a.hasOwnProperty(f))continue;const y=a[f];c[f]=y&&rd(y)?mee(y):y}return c},pre=(a=null,c=null,f=null)=>{const y=gY(),C={archived:!1,frozen:!1,released:!1,source:null,file:f,serverFileReference:c,transferId:null,processingAborted:!1,status:c?Fs.PROCESSING_COMPLETE:Fs.INIT,activeLoader:null,activeProcessor:null};let w=null;const S={},D=je=>C.status=je,k=(je,...dt)=>{C.released||C.frozen||z.fire(je,...dt)},G=()=>WH(C.file.name),q=()=>C.file.type,X=()=>C.file.size,fe=()=>C.file,re=(je,dt,_t)=>{if(C.source=je,z.fireSync("init"),C.file){z.fireSync("load-skip");return}C.file=mre(je),dt.on("init",()=>{k("load-init")}),dt.on("meta",Pe=>{C.file.size=Pe.size,C.file.filename=Pe.filename,Pe.source&&(a=Ou.LIMBO,C.serverFileReference=Pe.source,C.status=Fs.PROCESSING_COMPLETE),k("load-meta")}),dt.on("progress",Pe=>{D(Fs.LOADING),k("load-progress",Pe)}),dt.on("error",Pe=>{D(Fs.LOAD_ERROR),k("load-request-error",Pe)}),dt.on("abort",()=>{D(Fs.INIT),k("load-abort")}),dt.on("load",Pe=>{C.activeLoader=null;const Ee=Tt=>{C.file=KO(Tt)?Tt:C.file,a===Ou.LIMBO&&C.serverFileReference?D(Fs.PROCESSING_COMPLETE):D(Fs.IDLE),k("load")},pn=Tt=>{C.file=Pe,k("load-meta"),D(Fs.LOAD_ERROR),k("load-file-error",Tt)};if(C.serverFileReference){Ee(Pe);return}_t(Pe,Ee,pn)}),dt.setSource(je),C.activeLoader=dt,dt.load()},he=()=>{C.activeLoader&&C.activeLoader.load()},ue=()=>{if(C.activeLoader){C.activeLoader.abort();return}D(Fs.INIT),k("load-abort")},ce=(je,dt)=>{if(C.processingAborted){C.processingAborted=!1;return}if(D(Fs.PROCESSING),w=null,!(C.file instanceof Blob)){z.on("load",()=>{ce(je,dt)});return}je.on("load",Ee=>{C.transferId=null,C.serverFileReference=Ee}),je.on("transfer",Ee=>{C.transferId=Ee}),je.on("load-perceived",Ee=>{C.activeProcessor=null,C.transferId=null,C.serverFileReference=Ee,D(Fs.PROCESSING_COMPLETE),k("process-complete",Ee)}),je.on("start",()=>{k("process-start")}),je.on("error",Ee=>{C.activeProcessor=null,D(Fs.PROCESSING_ERROR),k("process-error",Ee)}),je.on("abort",Ee=>{C.activeProcessor=null,C.serverFileReference=Ee,D(Fs.IDLE),k("process-abort"),w&&w()}),je.on("progress",Ee=>{k("process-progress",Ee)});const _t=Ee=>{C.archived||je.process(Ee,{...S})},Pe=console.error;dt(C.file,_t,Pe),C.activeProcessor=je},ae=()=>{C.processingAborted=!1,D(Fs.PROCESSING_QUEUED)},ge=()=>new Promise(je=>{if(!C.activeProcessor){C.processingAborted=!0,D(Fs.IDLE),k("process-abort"),je();return}w=()=>{je()},C.activeProcessor.abort()}),Q=(je,dt)=>new Promise((_t,Pe)=>{const Ee=C.serverFileReference!==null?C.serverFileReference:C.transferId;if(Ee===null){_t();return}je(Ee,()=>{C.serverFileReference=null,C.transferId=null,_t()},pn=>{if(!dt){_t();return}D(Fs.PROCESSING_REVERT_ERROR),k("process-revert-error"),Pe(pn)}),D(Fs.IDLE),k("process-revert")}),Ne=(je,dt,_t)=>{const Pe=je.split("."),Ee=Pe[0],pn=Pe.pop();let Tt=S;Pe.forEach(Rt=>Tt=Tt[Rt]),JSON.stringify(Tt[pn])!==JSON.stringify(dt)&&(Tt[pn]=dt,k("metadata-update",{key:Ee,value:S[Ee],silent:_t}))},z={id:{get:()=>y},origin:{get:()=>a,set:je=>a=je},serverId:{get:()=>C.serverFileReference},transferId:{get:()=>C.transferId},status:{get:()=>C.status},filename:{get:()=>C.file.name},filenameWithoutExtension:{get:()=>hee(C.file.name)},fileExtension:{get:G},fileType:{get:q},fileSize:{get:X},file:{get:fe},relativePath:{get:()=>C.file._relativePath},source:{get:()=>C.source},getMetadata:je=>mee(je?S[je]:S),setMetadata:(je,dt,_t)=>{if(rd(je)){const Pe=je;return Object.keys(Pe).forEach(Ee=>{Ne(Ee,Pe[Ee],dt)}),je}return Ne(je,dt,_t),dt},extend:(je,dt)=>we[je]=dt,abortLoad:ue,retryLoad:he,requestProcessing:ae,abortProcessing:ge,load:re,process:ce,revert:Q,...UH(),freeze:()=>C.frozen=!0,release:()=>C.released=!0,released:{get:()=>C.released},archive:()=>C.archived=!0,archived:{get:()=>C.archived}},we=Mw(z);return we},gre=(a,c)=>l_(c)?0:bh(c)?a.findIndex(f=>f.id===c):-1,XX=(a,c)=>{const f=gre(a,c);if(!(f<0))return a[f]||null},QX=(a,c,f,y,C,w)=>{const S=ax(null,a,{method:"GET",responseType:"blob"});return S.onload=D=>{const k=D.getAllResponseHeaders(),G=yY(k).name||ik(a);c(Pl("load",D.status,YO(D.response,G),k))},S.onerror=D=>{f(Pl("error",D.status,D.statusText,D.getAllResponseHeaders()))},S.onheaders=D=>{w(Pl("headers",D.status,null,D.getAllResponseHeaders()))},S.ontimeout=cx(f),S.onprogress=y,S.onabort=C,S},JX=a=>(a.indexOf("//")===0&&(a=location.protocol+a),a.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]),vre=a=>(a.indexOf(":")>-1||a.indexOf("//")>-1)&&JX(location.href)!==JX(a),W5=a=>(...c)=>nx(a)?a(...c):a,bre=a=>!KO(a.file),Qj=(a,c)=>{clearTimeout(c.listUpdateTimeout),c.listUpdateTimeout=setTimeout(()=>{a("DID_UPDATE_ITEMS",{items:yv(c.items)})},0)},eQ=(a,...c)=>new Promise(f=>{if(!a)return f(!0);const y=a(...c);if(y==null)return f(!0);if(typeof y=="boolean")return f(y);typeof y.then=="function"&&y.then(f)}),Jj=(a,c)=>{a.items.sort((f,y)=>c(Em(f),Em(y)))},Kg=(a,c)=>({query:f,success:y=()=>{},failure:C=()=>{},...w}={})=>{const S=ox(a.items,f);if(!S){C({error:Pl("error",0,"Item not found"),file:null});return}c(S,y,C,w||{})},yre=(a,c,f)=>({ABORT_ALL:()=>{yv(f.items).forEach(y=>{y.freeze(),y.abortLoad(),y.abortProcessing()})},DID_SET_FILES:({value:y=[]})=>{const C=y.map(S=>({source:S.source?S.source:S,options:S.options}));let w=yv(f.items);w.forEach(S=>{C.find(D=>D.source===S.source||D.source===S.file)||a("REMOVE_ITEM",{query:S,remove:!1})}),w=yv(f.items),C.forEach((S,D)=>{w.find(k=>k.source===S.source||k.file===S.source)||a("ADD_ITEM",{...S,interactionMethod:Jg.NONE,index:D})})},DID_UPDATE_ITEM_METADATA:({id:y,action:C,change:w})=>{w.silent||(clearTimeout(f.itemUpdateTimeout),f.itemUpdateTimeout=setTimeout(()=>{const S=XX(f.items,y);if(!c("IS_ASYNC")){bv("SHOULD_PREPARE_OUTPUT",!1,{item:S,query:c,action:C,change:w}).then(q=>{const X=c("GET_BEFORE_PREPARE_FILE");X&&(q=X(S,q)),q&&a("REQUEST_PREPARE_OUTPUT",{query:y,item:S,success:fe=>{a("DID_PREPARE_OUTPUT",{id:y,file:fe})}},!0)});return}S.origin===Ou.LOCAL&&a("DID_LOAD_ITEM",{id:S.id,error:null,serverFileReference:S.source});const D=()=>{setTimeout(()=>{a("REQUEST_ITEM_PROCESSING",{query:y})},32)},k=q=>{S.revert(GM(f.options.server.url,f.options.server.revert),c("GET_FORCE_REVERT")).then(q?D:()=>{}).catch(()=>{})},G=q=>{S.abortProcessing().then(q?D:()=>{})};if(S.status===Fs.PROCESSING_COMPLETE)return k(f.options.instantUpload);if(S.status===Fs.PROCESSING)return G(f.options.instantUpload);f.options.instantUpload&&D()},0))},MOVE_ITEM:({query:y,index:C})=>{const w=ox(f.items,y);if(!w)return;const S=f.items.indexOf(w);C=cee(C,0,f.items.length-1),S!==C&&f.items.splice(C,0,f.items.splice(S,1)[0])},SORT:({compare:y})=>{Jj(f,y),a("DID_SORT_ITEMS",{items:c("GET_ACTIVE_ITEMS")})},ADD_ITEMS:({items:y,index:C,interactionMethod:w,success:S=()=>{},failure:D=()=>{}})=>{let k=C;if(C===-1||typeof C>"u"){const re=c("GET_ITEM_INSERT_LOCATION"),he=c("GET_TOTAL_ITEMS");k=re==="before"?0:he}const G=c("GET_IGNORED_FILES"),q=re=>KO(re)?!G.includes(re.name.toLowerCase()):!l_(re),fe=y.filter(q).map(re=>new Promise((he,ue)=>{a("ADD_ITEM",{interactionMethod:w,source:re.source||re,success:he,failure:ue,index:k++,options:re.options||{}})}));Promise.all(fe).then(S).catch(D)},ADD_ITEM:({source:y,index:C=-1,interactionMethod:w,success:S=()=>{},failure:D=()=>{},options:k={}})=>{if(l_(y)){D({error:Pl("error",0,"No source"),file:null});return}if(KO(y)&&f.options.ignoredFiles.includes(y.name.toLowerCase()))return;if(!Yse(f)){if(f.options.allowMultiple||!f.options.allowMultiple&&!f.options.allowReplace){const ge=Pl("warning",0,"Max files");a("DID_THROW_MAX_FILES",{source:y,error:ge}),D({error:ge,file:null});return}const ae=yv(f.items)[0];if(ae.status===Fs.PROCESSING_COMPLETE||ae.status===Fs.PROCESSING_REVERT_ERROR){const ge=c("GET_FORCE_REVERT");if(ae.revert(GM(f.options.server.url,f.options.server.revert),ge).then(()=>{ge&&a("ADD_ITEM",{source:y,index:C,interactionMethod:w,success:S,failure:D,options:k})}).catch(()=>{}),ge)return}a("REMOVE_ITEM",{query:ae.id})}const G=k.type==="local"?Ou.LOCAL:k.type==="limbo"?Ou.LIMBO:Ou.INPUT,q=pre(G,G===Ou.INPUT?null:y,k.file);Object.keys(k.metadata||{}).forEach(ae=>{q.setMetadata(ae,k.metadata[ae])}),fx("DID_CREATE_ITEM",q,{query:c,dispatch:a});const X=c("GET_ITEM_INSERT_LOCATION");f.options.itemInsertLocationFreedom||(C=X==="before"?-1:f.items.length),Xse(f.items,q,C),nx(X)&&y&&Jj(f,X);const fe=q.id;q.on("init",()=>{a("DID_INIT_ITEM",{id:fe})}),q.on("load-init",()=>{a("DID_START_ITEM_LOAD",{id:fe})}),q.on("load-meta",()=>{a("DID_UPDATE_ITEM_META",{id:fe})}),q.on("load-progress",ae=>{a("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:fe,progress:ae})}),q.on("load-request-error",ae=>{const ge=W5(f.options.labelFileLoadError)(ae);if(ae.code>=400&&ae.code<500){a("DID_THROW_ITEM_INVALID",{id:fe,error:ae,status:{main:ge,sub:`${ae.code} (${ae.body})`}}),D({error:ae,file:Em(q)});return}a("DID_THROW_ITEM_LOAD_ERROR",{id:fe,error:ae,status:{main:ge,sub:f.options.labelTapToRetry}})}),q.on("load-file-error",ae=>{a("DID_THROW_ITEM_INVALID",{id:fe,error:ae.status,status:ae.status}),D({error:ae.status,file:Em(q)})}),q.on("load-abort",()=>{a("REMOVE_ITEM",{query:fe})}),q.on("load-skip",()=>{a("COMPLETE_LOAD_ITEM",{query:fe,item:q,data:{source:y,success:S}})}),q.on("load",()=>{const ae=ge=>{if(!ge){a("REMOVE_ITEM",{query:fe});return}q.on("metadata-update",Q=>{a("DID_UPDATE_ITEM_METADATA",{id:fe,change:Q})}),bv("SHOULD_PREPARE_OUTPUT",!1,{item:q,query:c}).then(Q=>{const Ne=c("GET_BEFORE_PREPARE_FILE");Ne&&(Q=Ne(q,Q));const qe=()=>{a("COMPLETE_LOAD_ITEM",{query:fe,item:q,data:{source:y,success:S}}),Qj(a,f)};if(Q){a("REQUEST_PREPARE_OUTPUT",{query:fe,item:q,success:z=>{a("DID_PREPARE_OUTPUT",{id:fe,file:z}),qe()}},!0);return}qe()})};bv("DID_LOAD_ITEM",q,{query:c,dispatch:a}).then(()=>{eQ(c("GET_BEFORE_ADD_FILE"),Em(q)).then(ae)}).catch(ge=>{if(!ge||!ge.error||!ge.status)return ae(!1);a("DID_THROW_ITEM_INVALID",{id:fe,error:ge.error,status:ge.status})})}),q.on("process-start",()=>{a("DID_START_ITEM_PROCESSING",{id:fe})}),q.on("process-progress",ae=>{a("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:fe,progress:ae})}),q.on("process-error",ae=>{a("DID_THROW_ITEM_PROCESSING_ERROR",{id:fe,error:ae,status:{main:W5(f.options.labelFileProcessingError)(ae),sub:f.options.labelTapToRetry}})}),q.on("process-revert-error",ae=>{a("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:fe,error:ae,status:{main:W5(f.options.labelFileProcessingRevertError)(ae),sub:f.options.labelTapToRetry}})}),q.on("process-complete",ae=>{a("DID_COMPLETE_ITEM_PROCESSING",{id:fe,error:null,serverFileReference:ae}),a("DID_DEFINE_VALUE",{id:fe,value:ae})}),q.on("process-abort",()=>{a("DID_ABORT_ITEM_PROCESSING",{id:fe})}),q.on("process-revert",()=>{a("DID_REVERT_ITEM_PROCESSING",{id:fe}),a("DID_DEFINE_VALUE",{id:fe,value:null})}),a("DID_ADD_ITEM",{id:fe,index:C,interactionMethod:w}),Qj(a,f);const{url:re,load:he,restore:ue,fetch:ce}=f.options.server||{};q.load(y,cre(G===Ou.INPUT?bh(y)&&vre(y)&&ce?Xj(re,ce):QX:G===Ou.LIMBO?Xj(re,ue):Xj(re,he)),(ae,ge,Q)=>{bv("LOAD_FILE",ae,{query:c}).then(ge).catch(Q)})},REQUEST_PREPARE_OUTPUT:({item:y,success:C,failure:w=()=>{}})=>{const S={error:Pl("error",0,"Item not found"),file:null};if(y.archived)return w(S);bv("PREPARE_OUTPUT",y.file,{query:c,item:y}).then(D=>{bv("COMPLETE_PREPARE_OUTPUT",D,{query:c,item:y}).then(k=>{if(y.archived)return w(S);C(k)})})},COMPLETE_LOAD_ITEM:({item:y,data:C})=>{const{success:w,source:S}=C,D=c("GET_ITEM_INSERT_LOCATION");if(nx(D)&&S&&Jj(f,D),a("DID_LOAD_ITEM",{id:y.id,error:null,serverFileReference:y.origin===Ou.INPUT?null:S}),w(Em(y)),y.origin===Ou.LOCAL){a("DID_LOAD_LOCAL_ITEM",{id:y.id});return}if(y.origin===Ou.LIMBO){a("DID_COMPLETE_ITEM_PROCESSING",{id:y.id,error:null,serverFileReference:S}),a("DID_DEFINE_VALUE",{id:y.id,value:y.serverId||S});return}c("IS_ASYNC")&&f.options.instantUpload&&a("REQUEST_ITEM_PROCESSING",{query:y.id})},RETRY_ITEM_LOAD:Kg(f,y=>{y.retryLoad()}),REQUEST_ITEM_PREPARE:Kg(f,(y,C,w)=>{a("REQUEST_PREPARE_OUTPUT",{query:y.id,item:y,success:S=>{a("DID_PREPARE_OUTPUT",{id:y.id,file:S}),C({file:y,output:S})},failure:w},!0)}),REQUEST_ITEM_PROCESSING:Kg(f,(y,C,w)=>{if(!(y.status===Fs.IDLE||y.status===Fs.PROCESSING_ERROR)){const D=()=>a("REQUEST_ITEM_PROCESSING",{query:y,success:C,failure:w}),k=()=>document.hidden?D():setTimeout(D,32);y.status===Fs.PROCESSING_COMPLETE||y.status===Fs.PROCESSING_REVERT_ERROR?y.revert(GM(f.options.server.url,f.options.server.revert),c("GET_FORCE_REVERT")).then(k).catch(()=>{}):y.status===Fs.PROCESSING&&y.abortProcessing().then(k);return}y.status!==Fs.PROCESSING_QUEUED&&(y.requestProcessing(),a("DID_REQUEST_ITEM_PROCESSING",{id:y.id}),a("PROCESS_ITEM",{query:y,success:C,failure:w},!0))}),PROCESS_ITEM:Kg(f,(y,C,w)=>{const S=c("GET_MAX_PARALLEL_UPLOADS");if(c("GET_ITEMS_BY_STATUS",Fs.PROCESSING).length===S){f.processingQueue.push({id:y.id,success:C,failure:w});return}if(y.status===Fs.PROCESSING)return;const k=()=>{const q=f.processingQueue.shift();if(!q)return;const{id:X,success:fe,failure:re}=q,he=ox(f.items,X);if(!he||he.archived){k();return}a("PROCESS_ITEM",{query:X,success:fe,failure:re},!0)};y.onOnce("process-complete",()=>{C(Em(y)),k();const q=f.options.server;if(f.options.instantUpload&&y.origin===Ou.LOCAL&&nx(q.remove)){const re=()=>{};y.origin=Ou.LIMBO,f.options.server.remove(y.source,re,re)}c("GET_ITEMS_BY_STATUS",Fs.PROCESSING_COMPLETE).length===f.items.length&&a("DID_COMPLETE_ITEM_PROCESSING_ALL")}),y.onOnce("process-error",q=>{w({error:q,file:Em(y)}),k()});const G=f.options;y.process(hre(dre(G.server.url,G.server.process,G.name,{chunkTransferId:y.transferId,chunkServer:G.server.patch,chunkUploads:G.chunkUploads,chunkForce:G.chunkForce,chunkSize:G.chunkSize,chunkRetryDelays:G.chunkRetryDelays}),{allowMinimumUploadDuration:c("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),(q,X,fe)=>{bv("PREPARE_OUTPUT",q,{query:c,item:y}).then(re=>{a("DID_PREPARE_OUTPUT",{id:y.id,file:re}),X(re)}).catch(fe)})}),RETRY_ITEM_PROCESSING:Kg(f,y=>{a("REQUEST_ITEM_PROCESSING",{query:y})}),REQUEST_REMOVE_ITEM:Kg(f,y=>{eQ(c("GET_BEFORE_REMOVE_FILE"),Em(y)).then(C=>{C&&a("REMOVE_ITEM",{query:y})})}),RELEASE_ITEM:Kg(f,y=>{y.release()}),REMOVE_ITEM:Kg(f,(y,C,w,S)=>{const D=()=>{const G=y.id;XX(f.items,G).archive(),a("DID_REMOVE_ITEM",{error:null,id:G,item:y}),Qj(a,f),C(Em(y))},k=f.options.server;y.origin===Ou.LOCAL&&k&&nx(k.remove)&&S.remove!==!1?(a("DID_START_ITEM_REMOVE",{id:y.id}),k.remove(y.source,()=>D(),G=>{a("DID_THROW_ITEM_REMOVE_ERROR",{id:y.id,error:Pl("error",0,G,null),status:{main:W5(f.options.labelFileRemoveError)(G),sub:f.options.labelTapToRetry}})})):((S.revert&&y.origin!==Ou.LOCAL&&y.serverId!==null||f.options.chunkUploads&&y.file.size>f.options.chunkSize||f.options.chunkUploads&&f.options.chunkForce)&&y.revert(GM(f.options.server.url,f.options.server.revert),c("GET_FORCE_REVERT")),D())}),ABORT_ITEM_LOAD:Kg(f,y=>{y.abortLoad()}),ABORT_ITEM_PROCESSING:Kg(f,y=>{if(y.serverId){a("REVERT_ITEM_PROCESSING",{id:y.id});return}y.abortProcessing().then(()=>{f.options.instantUpload&&a("REMOVE_ITEM",{query:y.id})})}),REQUEST_REVERT_ITEM_PROCESSING:Kg(f,y=>{if(!f.options.instantUpload){a("REVERT_ITEM_PROCESSING",{query:y});return}const C=D=>{D&&a("REVERT_ITEM_PROCESSING",{query:y})},w=c("GET_BEFORE_REMOVE_FILE");if(!w)return C(!0);const S=w(Em(y));if(S==null)return C(!0);if(typeof S=="boolean")return C(S);typeof S.then=="function"&&S.then(C)}),REVERT_ITEM_PROCESSING:Kg(f,y=>{y.revert(GM(f.options.server.url,f.options.server.revert),c("GET_FORCE_REVERT")).then(()=>{(f.options.instantUpload||bre(y))&&a("REMOVE_ITEM",{query:y.id})}).catch(()=>{})}),SET_OPTIONS:({options:y})=>{const C=Object.keys(y),w=_re.filter(D=>C.includes(D));[...w,...Object.keys(y).filter(D=>!w.includes(D))].forEach(D=>{a(`SET_${zH(D,"_").toUpperCase()}`,{value:y[D]})})}}),_re=["server"],_Y=a=>a,u_=a=>document.createElement(a),Ll=(a,c)=>{let f=a.childNodes[0];f?c!==f.nodeValue&&(f.nodeValue=c):(f=document.createTextNode(c),a.appendChild(f))},tQ=(a,c,f,y)=>{const C=(y%360-90)*Math.PI/180;return{x:a+f*Math.cos(C),y:c+f*Math.sin(C)}},Ere=(a,c,f,y,C,w)=>{const S=tQ(a,c,f,C),D=tQ(a,c,f,y);return["M",S.x,S.y,"A",f,f,0,w,0,D.x,D.y].join(" ")},wre=(a,c,f,y,C)=>{let w=1;return C>y&&C-y<=.5&&(w=0),y>C&&y-C>=.5&&(w=0),Ere(a,c,f,Math.min(.9999,y)*360,Math.min(.9999,C)*360,w)},Tre=({root:a,props:c})=>{c.spin=!1,c.progress=0,c.opacity=0;const f=_H("svg");a.ref.path=_H("path",{"stroke-width":2,"stroke-linecap":"round"}),f.appendChild(a.ref.path),a.ref.svg=f,a.appendChild(f)},Cre=({root:a,props:c})=>{if(c.opacity===0)return;c.align&&(a.element.dataset.align=c.align);const f=parseInt(iu(a.ref.path,"stroke-width"),10),y=a.rect.element.width*.5;let C=0,w=0;c.spin?(C=0,w=.5):(C=0,w=c.progress);const S=wre(y,y,y-f,C,w);iu(a.ref.path,"d",S),iu(a.ref.path,"stroke-opacity",c.spin||c.progress>0?1:0)},nQ=au({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:Tre,write:Cre,mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),Sre=({root:a,props:c})=>{a.element.innerHTML=(c.icon||"")+`<span>${c.label}</span>`,c.isDisabled=!1},xre=({root:a,props:c})=>{const{isDisabled:f}=c,y=a.query("GET_DISABLED")||c.opacity===0;y&&!f?(c.isDisabled=!0,iu(a.element,"disabled","disabled")):!y&&f&&(c.isDisabled=!1,a.element.removeAttribute("disabled"))},pee=au({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:Sre,write:xre}),gee=(a,c=".",f=1e3,y={})=>{const{labelBytes:C="bytes",labelKilobytes:w="KB",labelMegabytes:S="MB",labelGigabytes:D="GB"}=y;a=Math.round(Math.abs(a));const k=f,G=f*f,q=f*f*f;return a<k?`${a} ${C}`:a<G?`${Math.floor(a/k)} ${w}`:a<q?`${oQ(a/G,1,c)} ${S}`:`${oQ(a/q,2,c)} ${D}`},oQ=(a,c,f)=>a.toFixed(c).split(".").filter(y=>y!=="0").join(f),Are=({root:a,props:c})=>{const f=u_("span");f.className="filepond--file-info-main",iu(f,"aria-hidden","true"),a.appendChild(f),a.ref.fileName=f;const y=u_("span");y.className="filepond--file-info-sub",a.appendChild(y),a.ref.fileSize=y,Ll(y,a.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),Ll(f,_Y(a.query("GET_ITEM_NAME",c.id)))},NZ=({root:a,props:c})=>{Ll(a.ref.fileSize,gee(a.query("GET_ITEM_SIZE",c.id),".",a.query("GET_FILE_SIZE_BASE"),a.query("GET_FILE_SIZE_LABELS",a.query))),Ll(a.ref.fileName,_Y(a.query("GET_ITEM_NAME",c.id)))},sQ=({root:a,props:c})=>{if(tR(a.query("GET_ITEM_SIZE",c.id))){NZ({root:a,props:c});return}Ll(a.ref.fileSize,a.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},Ore=au({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:yh({DID_LOAD_ITEM:NZ,DID_UPDATE_ITEM_META:NZ,DID_THROW_ITEM_LOAD_ERROR:sQ,DID_THROW_ITEM_INVALID:sQ}),didCreateView:a=>{fx("CREATE_VIEW",{...a,view:a})},create:Are,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),vee=a=>Math.round(a*100),Rre=({root:a})=>{const c=u_("span");c.className="filepond--file-status-main",a.appendChild(c),a.ref.main=c;const f=u_("span");f.className="filepond--file-status-sub",a.appendChild(f),a.ref.sub=f,bee({root:a,action:{progress:null}})},bee=({root:a,action:c})=>{const f=c.progress===null?a.query("GET_LABEL_FILE_LOADING"):`${a.query("GET_LABEL_FILE_LOADING")} ${vee(c.progress)}%`;Ll(a.ref.main,f),Ll(a.ref.sub,a.query("GET_LABEL_TAP_TO_CANCEL"))},Ire=({root:a,action:c})=>{const f=c.progress===null?a.query("GET_LABEL_FILE_PROCESSING"):`${a.query("GET_LABEL_FILE_PROCESSING")} ${vee(c.progress)}%`;Ll(a.ref.main,f),Ll(a.ref.sub,a.query("GET_LABEL_TAP_TO_CANCEL"))},Dre=({root:a})=>{Ll(a.ref.main,a.query("GET_LABEL_FILE_PROCESSING")),Ll(a.ref.sub,a.query("GET_LABEL_TAP_TO_CANCEL"))},Nre=({root:a})=>{Ll(a.ref.main,a.query("GET_LABEL_FILE_PROCESSING_ABORTED")),Ll(a.ref.sub,a.query("GET_LABEL_TAP_TO_RETRY"))},Mre=({root:a})=>{Ll(a.ref.main,a.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),Ll(a.ref.sub,a.query("GET_LABEL_TAP_TO_UNDO"))},rQ=({root:a})=>{Ll(a.ref.main,""),Ll(a.ref.sub,"")},qM=({root:a,action:c})=>{Ll(a.ref.main,c.status.main),Ll(a.ref.sub,c.status.sub)},kre=au({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:yh({DID_LOAD_ITEM:rQ,DID_REVERT_ITEM_PROCESSING:rQ,DID_REQUEST_ITEM_PROCESSING:Dre,DID_ABORT_ITEM_PROCESSING:Nre,DID_COMPLETE_ITEM_PROCESSING:Mre,DID_UPDATE_ITEM_PROCESS_PROGRESS:Ire,DID_UPDATE_ITEM_LOAD_PROGRESS:bee,DID_THROW_ITEM_LOAD_ERROR:qM,DID_THROW_ITEM_INVALID:qM,DID_THROW_ITEM_PROCESSING_ERROR:qM,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:qM,DID_THROW_ITEM_REMOVE_ERROR:qM}),didCreateView:a=>{fx("CREATE_VIEW",{...a,view:a})},create:Rre,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),MZ={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},kZ=[];fl(MZ,a=>{kZ.push(a)});const Pp=a=>{if(PZ(a)==="right")return 0;const c=a.ref.buttonRemoveItem.rect.element;return c.hidden?null:c.width+c.left},Pre=a=>a.ref.buttonAbortItemLoad.rect.element.width,G5=a=>Math.floor(a.ref.buttonRemoveItem.rect.element.height/4),Lre=a=>Math.floor(a.ref.buttonRemoveItem.rect.element.left/2),Bre=a=>a.query("GET_STYLE_LOAD_INDICATOR_POSITION"),$re=a=>a.query("GET_STYLE_PROGRESS_INDICATOR_POSITION"),PZ=a=>a.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION"),Fre={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:Bre},processProgressIndicator:{opacity:0,align:$re},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},iQ={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Pp},status:{translateX:Pp}},eZ={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},LO={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:Pp},status:{translateX:Pp,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:Pp},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:PZ},info:{translateX:Pp},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:PZ},buttonRemoveItem:{opacity:1},info:{translateX:Pp},status:{opacity:1,translateX:Pp}},DID_LOAD_ITEM:iQ,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:Pp},status:{translateX:Pp}},DID_START_ITEM_PROCESSING:eZ,DID_REQUEST_ITEM_PROCESSING:eZ,DID_UPDATE_ITEM_PROCESS_PROGRESS:eZ,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:Pp}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Pp},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:iQ},Hre=au({create:({root:a})=>{a.element.innerHTML=a.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),Vre=({root:a,props:c})=>{const f=Object.keys(MZ).reduce((he,ue)=>(he[ue]={...MZ[ue]},he),{}),{id:y}=c,C=a.query("GET_ALLOW_REVERT"),w=a.query("GET_ALLOW_REMOVE"),S=a.query("GET_ALLOW_PROCESS"),D=a.query("GET_INSTANT_UPLOAD"),k=a.query("IS_ASYNC"),G=a.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");let q;k?S&&!C?q=he=>!/RevertItemProcessing/.test(he):!S&&C?q=he=>!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(he):!S&&!C&&(q=he=>!/Process/.test(he)):q=he=>!/Process/.test(he);const X=q?kZ.filter(q):kZ.concat();if(D&&C&&(f.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",f.RevertItemProcessing.icon="GET_ICON_REMOVE"),k&&!C){const he=LO.DID_COMPLETE_ITEM_PROCESSING;he.info.translateX=Lre,he.info.translateY=G5,he.status.translateY=G5,he.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(k&&!S&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(he=>{LO[he].status.translateY=G5}),LO.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=Pre),G&&C){f.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";const he=LO.DID_COMPLETE_ITEM_PROCESSING;he.info.translateX=Pp,he.status.translateY=G5,he.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}w||(f.RemoveItem.disabled=!0),fl(f,(he,ue)=>{const ce=a.createChildView(pee,{label:a.query(ue.label),icon:a.query(ue.icon),opacity:0});X.includes(he)&&a.appendChildView(ce),ue.disabled&&(ce.element.setAttribute("disabled","disabled"),ce.element.setAttribute("hidden","hidden")),ce.element.dataset.align=a.query(`GET_STYLE_${ue.align}`),ce.element.classList.add(ue.className),ce.on("click",ae=>{ae.stopPropagation(),!ue.disabled&&a.dispatch(ue.action,{query:y})}),a.ref[`button${he}`]=ce}),a.ref.processingCompleteIndicator=a.appendChildView(a.createChildView(Hre)),a.ref.processingCompleteIndicator.element.dataset.align=a.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),a.ref.info=a.appendChildView(a.createChildView(Ore,{id:y})),a.ref.status=a.appendChildView(a.createChildView(kre,{id:y}));const fe=a.appendChildView(a.createChildView(nQ,{opacity:0,align:a.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));fe.element.classList.add("filepond--load-indicator"),a.ref.loadProgressIndicator=fe;const re=a.appendChildView(a.createChildView(nQ,{opacity:0,align:a.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));re.element.classList.add("filepond--process-indicator"),a.ref.processProgressIndicator=re,a.ref.activeStyles=[]},zre=({root:a,actions:c,props:f})=>{Ure({root:a,actions:c,props:f});let y=c.concat().filter(C=>/^DID_/.test(C.type)).reverse().find(C=>LO[C.type]);if(y){a.ref.activeStyles=[];const C=LO[y.type];fl(Fre,(w,S)=>{const D=a.ref[w];fl(S,(k,G)=>{const q=C[w]&&typeof C[w][k]<"u"?C[w][k]:G;a.ref.activeStyles.push({control:D,key:k,value:q})})})}a.ref.activeStyles.forEach(({control:C,key:w,value:S})=>{C[w]=typeof S=="function"?S(a):S})},Ure=yh({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:({root:a,action:c})=>{a.ref.buttonAbortItemProcessing.label=c.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:({root:a,action:c})=>{a.ref.buttonAbortItemLoad.label=c.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:({root:a,action:c})=>{a.ref.buttonAbortItemRemoval.label=c.value},DID_REQUEST_ITEM_PROCESSING:({root:a})=>{a.ref.processProgressIndicator.spin=!0,a.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:({root:a})=>{a.ref.loadProgressIndicator.spin=!0,a.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:({root:a})=>{a.ref.processProgressIndicator.spin=!0,a.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:({root:a,action:c})=>{a.ref.loadProgressIndicator.spin=!1,a.ref.loadProgressIndicator.progress=c.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:({root:a,action:c})=>{a.ref.processProgressIndicator.spin=!1,a.ref.processProgressIndicator.progress=c.progress}}),Wre=au({create:Vre,write:zre,didCreateView:a=>{fx("CREATE_VIEW",{...a,view:a})},name:"file"}),Gre=({root:a,props:c})=>{a.ref.fileName=u_("legend"),a.appendChild(a.ref.fileName),a.ref.file=a.appendChildView(a.createChildView(Wre,{id:c.id})),a.ref.data=!1},qre=({root:a,props:c})=>{Ll(a.ref.fileName,_Y(a.query("GET_ITEM_NAME",c.id)))},jre=au({create:Gre,ignoreRect:!0,write:yh({DID_LOAD_ITEM:qre}),didCreateView:a=>{fx("CREATE_VIEW",{...a,view:a})},tag:"fieldset",name:"file-wrapper"}),aQ={type:"spring",damping:.6,mass:7},Zre=({root:a,props:c})=>{[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:aQ},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:aQ},styles:["translateY"]}}].forEach(f=>{Yre(a,f,c.name)}),a.element.classList.add(`filepond--${c.name}`),a.ref.scalable=null},Yre=(a,c,f)=>{const y=au({name:`panel-${c.name} filepond--${f}`,mixins:c.mixins,ignoreRectUpdate:!0}),C=a.createChildView(y,c.props);a.ref[c.name]=a.appendChildView(C)},Kre=({root:a,props:c})=>{if((a.ref.scalable===null||c.scalable!==a.ref.scalable)&&(a.ref.scalable=JJ(c.scalable)?c.scalable:!0,a.element.dataset.scalable=a.ref.scalable),!c.height)return;const f=a.ref.top.rect.element,y=a.ref.bottom.rect.element,C=Math.max(f.height+y.height,c.height);a.ref.center.translateY=f.height,a.ref.center.scaleY=(C-f.height-y.height)/100,a.ref.bottom.translateY=C-y.height},yee=au({name:"panel",read:({root:a,props:c})=>c.heightCurrent=a.ref.bottom.translateY,write:Kre,create:Zre,ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),Xre=a=>{const c=a.map(y=>y.id);let f;return{setIndex:y=>{f=y},getIndex:()=>f,getItemIndex:y=>c.indexOf(y.id)}},cQ={type:"spring",stiffness:.75,damping:.45,mass:10},lQ="spring",uQ={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},Qre=({root:a,props:c})=>{if(a.ref.handleClick=y=>a.dispatch("DID_ACTIVATE_ITEM",{id:c.id}),a.element.id=`filepond--item-${c.id}`,a.element.addEventListener("click",a.ref.handleClick),a.ref.container=a.appendChildView(a.createChildView(jre,{id:c.id})),a.ref.panel=a.appendChildView(a.createChildView(yee,{name:"item-panel"})),a.ref.panel.height=null,c.markedForRemoval=!1,!a.query("GET_ALLOW_REORDER"))return;a.element.dataset.dragState="idle";const f=y=>{if(!y.isPrimary)return;let C=!1;const w={x:y.pageX,y:y.pageY};c.dragOrigin={x:a.translateX,y:a.translateY},c.dragCenter={x:y.offsetX,y:y.offsetY};const S=Xre(a.query("GET_ACTIVE_ITEMS"));a.dispatch("DID_GRAB_ITEM",{id:c.id,dragState:S});const D=G=>{if(!G.isPrimary)return;G.stopPropagation(),G.preventDefault(),c.dragOffset={x:G.pageX-w.x,y:G.pageY-w.y},c.dragOffset.x*c.dragOffset.x+c.dragOffset.y*c.dragOffset.y>16&&!C&&(C=!0,a.element.removeEventListener("click",a.ref.handleClick)),a.dispatch("DID_DRAG_ITEM",{id:c.id,dragState:S})},k=G=>{G.isPrimary&&(document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",k),c.dragOffset={x:G.pageX-w.x,y:G.pageY-w.y},a.dispatch("DID_DROP_ITEM",{id:c.id,dragState:S}),C&&setTimeout(()=>a.element.addEventListener("click",a.ref.handleClick),0))};document.addEventListener("pointermove",D),document.addEventListener("pointerup",k)};a.element.addEventListener("pointerdown",f)},Jre=yh({DID_UPDATE_PANEL_HEIGHT:({root:a,action:c})=>{a.height=c.height}}),eie=yh({DID_GRAB_ITEM:({root:a,props:c})=>{c.dragOrigin={x:a.translateX,y:a.translateY}},DID_DRAG_ITEM:({root:a})=>{a.element.dataset.dragState="drag"},DID_DROP_ITEM:({root:a,props:c})=>{c.dragOffset=null,c.dragOrigin=null,a.element.dataset.dragState="drop"}},({root:a,actions:c,props:f,shouldOptimize:y})=>{a.element.dataset.dragState==="drop"&&a.scaleX<=1&&(a.element.dataset.dragState="idle");let C=c.concat().filter(S=>/^DID_/.test(S.type)).reverse().find(S=>uQ[S.type]);C&&C.type!==f.currentState&&(f.currentState=C.type,a.element.dataset.filepondItemState=uQ[f.currentState]||"");const w=a.query("GET_ITEM_PANEL_ASPECT_RATIO")||a.query("GET_PANEL_ASPECT_RATIO");w?y||(a.height=a.rect.element.width*w):(Jre({root:a,actions:c,props:f}),!a.height&&a.ref.container.rect.element.height>0&&(a.height=a.ref.container.rect.element.height)),y&&(a.ref.panel.height=null),a.ref.panel.height=a.height}),tie=au({create:Qre,write:eie,destroy:({root:a,props:c})=>{a.element.removeEventListener("click",a.ref.handleClick),a.dispatch("RELEASE_ITEM",{query:c.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:lQ,scaleY:lQ,translateX:cQ,translateY:cQ,opacity:{type:"tween",duration:150}}}});var EY=(a,c)=>Math.max(1,Math.floor((a+1)/c));const wY=(a,c,f)=>{if(!f)return;const y=a.rect.element.width,C=c.length;let w=null;if(C===0||f.top<c[0].rect.element.top)return-1;const D=c[0].rect.element,k=D.marginLeft+D.marginRight,G=D.width+k,q=EY(y,G);if(q===1){for(let re=0;re<C;re++){const he=c[re],ue=he.rect.outer.top+he.rect.element.height*.5;if(f.top<ue)return re}return C}const X=D.marginTop+D.marginBottom,fe=D.height+X;for(let re=0;re<C;re++){const he=re%q,ue=Math.floor(re/q),ce=he*G,ae=ue*fe,ge=ae-D.marginTop,Q=ce+G,Ne=ae+fe+D.marginBottom;if(f.top<Ne&&f.top>ge){if(f.left<Q)return re;re!==C-1?w=re:w=null}}return w!==null?w:C},q5={height:0,width:0,get getHeight(){return this.height},set setHeight(a){(this.height===0||a===0)&&(this.height=a)},get getWidth(){return this.width},set setWidth(a){(this.width===0||a===0)&&(this.width=a)},setDimensions:function(a,c){(this.height===0||a===0)&&(this.height=a),(this.width===0||c===0)&&(this.width=c)}},nie=({root:a})=>{iu(a.element,"role","list"),a.ref.lastItemSpanwDate=Date.now()},oie=({root:a,action:c})=>{const{id:f,index:y,interactionMethod:C}=c;a.ref.addIndex=y;const w=Date.now();let S=w,D=1;if(C!==Jg.NONE){D=0;const k=a.query("GET_ITEM_INSERT_INTERVAL"),G=w-a.ref.lastItemSpanwDate;S=G<k?w+(k-G):w}a.ref.lastItemSpanwDate=S,a.appendChildView(a.createChildView(tie,{spawnDate:S,id:f,opacity:D,interactionMethod:C}),y)},dQ=(a,c,f,y=0,C=1)=>{a.dragOffset?(a.translateX=null,a.translateY=null,a.translateX=a.dragOrigin.x+a.dragOffset.x,a.translateY=a.dragOrigin.y+a.dragOffset.y,a.scaleX=1.025,a.scaleY=1.025):(a.translateX=c,a.translateY=f,Date.now()>a.spawnDate&&(a.opacity===0&&sie(a,c,f,y,C),a.scaleX=1,a.scaleY=1,a.opacity=1))},sie=(a,c,f,y,C)=>{a.interactionMethod===Jg.NONE?(a.translateX=null,a.translateX=c,a.translateY=null,a.translateY=f):a.interactionMethod===Jg.DROP?(a.translateX=null,a.translateX=c-y*20,a.translateY=null,a.translateY=f-C*10,a.scaleX=.8,a.scaleY=.8):a.interactionMethod===Jg.BROWSE?(a.translateY=null,a.translateY=f-30):a.interactionMethod===Jg.API&&(a.translateX=null,a.translateX=c-30,a.translateY=null)},rie=({root:a,action:c})=>{const{id:f}=c,y=a.childViews.find(C=>C.id===f);y&&(y.scaleX=.9,y.scaleY=.9,y.opacity=0,y.markedForRemoval=!0)},tZ=a=>a.rect.element.height+a.rect.element.marginBottom*.5+a.rect.element.marginTop*.5,iie=a=>a.rect.element.width+a.rect.element.marginLeft*.5+a.rect.element.marginRight*.5,aie=({root:a,action:c})=>{const{id:f,dragState:y}=c,C=a.query("GET_ITEM",{id:f}),w=a.childViews.find(ce=>ce.id===f),S=a.childViews.length,D=y.getItemIndex(C);if(!w)return;const k={x:w.dragOrigin.x+w.dragOffset.x+w.dragCenter.x,y:w.dragOrigin.y+w.dragOffset.y+w.dragCenter.y},G=tZ(w),q=iie(w);let X=Math.floor(a.rect.outer.width/q);X>S&&(X=S);const fe=Math.floor(S/X+1);q5.setHeight=G*fe,q5.setWidth=q*X;var re={y:Math.floor(k.y/G),x:Math.floor(k.x/q),getGridIndex:function(){return k.y>q5.getHeight||k.y<0||k.x>q5.getWidth||k.x<0?D:this.y*X+this.x},getColIndex:function(){const ae=a.query("GET_ACTIVE_ITEMS"),ge=a.childViews.filter(Pe=>Pe.rect.element.height),Q=ae.map(Pe=>ge.find(Ee=>Ee.id===Pe.id)),Ne=Q.findIndex(Pe=>Pe===w),qe=tZ(w),z=Q.length;let we=z,je=0,dt=0,_t=0;for(let Pe=0;Pe<z;Pe++)if(je=tZ(Q[Pe]),_t=dt,dt=_t+je,k.y<dt){if(Ne>Pe){if(k.y<_t+qe){we=Pe;break}continue}we=Pe;break}return we}};const he=X>1?re.getGridIndex():re.getColIndex();a.dispatch("MOVE_ITEM",{query:w,index:he});const ue=y.getIndex();if(ue===void 0||ue!==he){if(y.setIndex(he),ue===void 0)return;a.dispatch("DID_REORDER_ITEMS",{items:a.query("GET_ACTIVE_ITEMS"),origin:D,target:he})}},cie=yh({DID_ADD_ITEM:oie,DID_REMOVE_ITEM:rie,DID_DRAG_ITEM:aie}),lie=({root:a,props:c,actions:f,shouldOptimize:y})=>{cie({root:a,props:c,actions:f});const{dragCoordinates:C}=c,w=a.rect.element.width,S=a.childViews.filter(Q=>Q.rect.element.height),D=a.query("GET_ACTIVE_ITEMS").map(Q=>S.find(Ne=>Ne.id===Q.id)).filter(Q=>Q),k=C?wY(a,D,C):null,G=a.ref.addIndex||null;a.ref.addIndex=null;let q=0,X=0,fe=0;if(D.length===0)return;const re=D[0].rect.element,he=re.marginTop+re.marginBottom,ue=re.marginLeft+re.marginRight,ce=re.width+ue,ae=re.height+he,ge=EY(w,ce);if(ge===1){let Q=0,Ne=0;D.forEach((qe,z)=>{if(k){let dt=z-k;dt===-2?Ne=-he*.25:dt===-1?Ne=-he*.75:dt===0?Ne=he*.75:dt===1?Ne=he*.25:Ne=0}y&&(qe.translateX=null,qe.translateY=null),qe.markedForRemoval||dQ(qe,0,Q+Ne);let je=(qe.rect.element.height+he)*(qe.markedForRemoval?qe.opacity:1);Q+=je})}else{let Q=0,Ne=0;D.forEach((qe,z)=>{z===k&&(q=1),z===G&&(fe+=1),qe.markedForRemoval&&qe.opacity<.5&&(X-=1);const we=z+fe+q+X,je=we%ge,dt=Math.floor(we/ge),_t=je*ce,Pe=dt*ae,Ee=Math.sign(_t-Q),pn=Math.sign(Pe-Ne);Q=_t,Ne=Pe,!qe.markedForRemoval&&(y&&(qe.translateX=null,qe.translateY=null),dQ(qe,_t,Pe,Ee,pn))})}},uie=(a,c)=>c.filter(f=>f.data&&f.data.id?a.id===f.data.id:!0),die=au({create:nie,write:lie,tag:"ul",name:"list",didWriteView:({root:a})=>{a.childViews.filter(c=>c.markedForRemoval&&c.opacity===0&&c.resting).forEach(c=>{c._destroy(),a.removeChildView(c)})},filterFrameActionsForChild:uie,mixins:{apis:["dragCoordinates"]}}),fie=({root:a,props:c})=>{a.ref.list=a.appendChildView(a.createChildView(die)),c.dragCoordinates=null,c.overflowing=!1},hie=({root:a,props:c,action:f})=>{a.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(c.dragCoordinates={left:f.position.scopeLeft-a.ref.list.rect.element.left,top:f.position.scopeTop-(a.rect.outer.top+a.rect.element.marginTop+a.rect.element.scrollTop)})},mie=({props:a})=>{a.dragCoordinates=null},pie=yh({DID_DRAG:hie,DID_END_DRAG:mie}),gie=({root:a,props:c,actions:f})=>{if(pie({root:a,props:c,actions:f}),a.ref.list.dragCoordinates=c.dragCoordinates,c.overflowing&&!c.overflow&&(c.overflowing=!1,a.element.dataset.state="",a.height=null),c.overflow){const y=Math.round(c.overflow);y!==a.height&&(c.overflowing=!0,a.element.dataset.state="overflow",a.height=y)}},vie=au({create:fie,write:gie,name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),_v=(a,c,f,y="")=>{f?iu(a,c,y):a.removeAttribute(c)},bie=a=>{if(!(!a||a.value==="")){try{a.value=""}catch{}if(a.value){const c=u_("form"),f=a.parentNode,y=a.nextSibling;c.appendChild(a),c.reset(),y?f.insertBefore(a,y):f.appendChild(a)}}},yie=({root:a,props:c})=>{a.element.id=`filepond--browser-${c.id}`,iu(a.element,"name",a.query("GET_NAME")),iu(a.element,"aria-controls",`filepond--assistant-${c.id}`),iu(a.element,"aria-labelledby",`filepond--drop-label-${c.id}`),_ee({root:a,action:{value:a.query("GET_ACCEPTED_FILE_TYPES")}}),Eee({root:a,action:{value:a.query("GET_ALLOW_MULTIPLE")}}),wee({root:a,action:{value:a.query("GET_ALLOW_DIRECTORIES_ONLY")}}),LZ({root:a}),Tee({root:a,action:{value:a.query("GET_REQUIRED")}}),Cee({root:a,action:{value:a.query("GET_CAPTURE_METHOD")}}),a.ref.handleChange=f=>{if(!a.element.value)return;const y=Array.from(a.element.files).map(C=>(C._relativePath=C.webkitRelativePath,C));setTimeout(()=>{c.onload(y),bie(a.element)},250)},a.element.addEventListener("change",a.ref.handleChange)},_ee=({root:a,action:c})=>{a.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&_v(a.element,"accept",!!c.value,c.value?c.value.join(","):"")},Eee=({root:a,action:c})=>{_v(a.element,"multiple",c.value)},wee=({root:a,action:c})=>{_v(a.element,"webkitdirectory",c.value)},LZ=({root:a})=>{const c=a.query("GET_DISABLED"),f=a.query("GET_ALLOW_BROWSE"),y=c||!f;_v(a.element,"disabled",y)},Tee=({root:a,action:c})=>{c.value?a.query("GET_TOTAL_ITEMS")===0&&_v(a.element,"required",!0):_v(a.element,"required",!1)},Cee=({root:a,action:c})=>{_v(a.element,"capture",!!c.value,c.value===!0?"":c.value)},fQ=({root:a})=>{const{element:c}=a;a.query("GET_TOTAL_ITEMS")>0?(_v(c,"required",!1),_v(c,"name",!1)):(_v(c,"name",!0,a.query("GET_NAME")),a.query("GET_CHECK_VALIDITY")&&c.setCustomValidity(""),a.query("GET_REQUIRED")&&_v(c,"required",!0))},_ie=({root:a})=>{a.query("GET_CHECK_VALIDITY")&&a.element.setCustomValidity(a.query("GET_LABEL_INVALID_FIELD"))},Eie=au({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:yie,destroy:({root:a})=>{a.element.removeEventListener("change",a.ref.handleChange)},write:yh({DID_LOAD_ITEM:fQ,DID_REMOVE_ITEM:fQ,DID_THROW_ITEM_INVALID:_ie,DID_SET_DISABLED:LZ,DID_SET_ALLOW_BROWSE:LZ,DID_SET_ALLOW_DIRECTORIES_ONLY:wee,DID_SET_ALLOW_MULTIPLE:Eee,DID_SET_ACCEPTED_FILE_TYPES:_ee,DID_SET_CAPTURE_METHOD:Cee,DID_SET_REQUIRED:Tee})}),hQ={ENTER:13,SPACE:32},wie=({root:a,props:c})=>{const f=u_("label");iu(f,"for",`filepond--browser-${c.id}`),iu(f,"id",`filepond--drop-label-${c.id}`),iu(f,"aria-hidden","true"),a.ref.handleKeyDown=y=>{(y.keyCode===hQ.ENTER||y.keyCode===hQ.SPACE)&&(y.preventDefault(),a.ref.label.click())},a.ref.handleClick=y=>{y.target===f||f.contains(y.target)||a.ref.label.click()},f.addEventListener("keydown",a.ref.handleKeyDown),a.element.addEventListener("click",a.ref.handleClick),See(f,c.caption),a.appendChild(f),a.ref.label=f},See=(a,c)=>{a.innerHTML=c;const f=a.querySelector(".filepond--label-action");return f&&iu(f,"tabindex","0"),c},Tie=au({name:"drop-label",ignoreRect:!0,create:wie,destroy:({root:a})=>{a.ref.label.addEventListener("keydown",a.ref.handleKeyDown),a.element.removeEventListener("click",a.ref.handleClick)},write:yh({DID_SET_LABEL_IDLE:({root:a,action:c})=>{See(a.ref.label,c.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),Cie=au({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),Sie=({root:a})=>{const c=a.rect.element.width*.5,f=a.rect.element.height*.5;a.ref.blob=a.appendChildView(a.createChildView(Cie,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:c,translateY:f}))},xie=({root:a,action:c})=>{if(!a.ref.blob){Sie({root:a});return}a.ref.blob.translateX=c.position.scopeLeft,a.ref.blob.translateY=c.position.scopeTop,a.ref.blob.scaleX=1,a.ref.blob.scaleY=1,a.ref.blob.opacity=1},Aie=({root:a})=>{a.ref.blob&&(a.ref.blob.opacity=0)},Oie=({root:a})=>{a.ref.blob&&(a.ref.blob.scaleX=2.5,a.ref.blob.scaleY=2.5,a.ref.blob.opacity=0)},Rie=({root:a,props:c,actions:f})=>{Iie({root:a,props:c,actions:f});const{blob:y}=a.ref;f.length===0&&y&&y.opacity===0&&(a.removeChildView(y),a.ref.blob=null)},Iie=yh({DID_DRAG:xie,DID_DROP:Oie,DID_END_DRAG:Aie}),Die=au({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:Rie}),xee=(a,c)=>{try{const f=new DataTransfer;c.forEach(y=>{y instanceof File?f.items.add(y):f.items.add(new File([y],y.name,{type:y.type}))}),a.files=f.files}catch{return!1}return!0},Nie=({root:a})=>a.ref.fields={},GH=(a,c)=>a.ref.fields[c],TY=a=>{a.query("GET_ACTIVE_ITEMS").forEach(c=>{a.ref.fields[c.id]&&a.element.appendChild(a.ref.fields[c.id])})},mQ=({root:a})=>TY(a),Mie=({root:a,action:c})=>{const C=!(a.query("GET_ITEM",c.id).origin===Ou.LOCAL)&&a.query("SHOULD_UPDATE_FILE_INPUT"),w=u_("input");w.type=C?"file":"hidden",w.name=a.query("GET_NAME"),w.disabled=a.query("GET_DISABLED"),a.ref.fields[c.id]=w,TY(a)},kie=({root:a,action:c})=>{const f=GH(a,c.id);if(!f||(c.serverFileReference!==null&&(f.value=c.serverFileReference),!a.query("SHOULD_UPDATE_FILE_INPUT")))return;const y=a.query("GET_ITEM",c.id);xee(f,[y.file])},Pie=({root:a,action:c})=>{a.query("SHOULD_UPDATE_FILE_INPUT")&&setTimeout(()=>{const f=GH(a,c.id);f&&xee(f,[c.file])},0)},Lie=({root:a})=>{a.element.disabled=a.query("GET_DISABLED")},Bie=({root:a,action:c})=>{const f=GH(a,c.id);f&&(f.parentNode&&f.parentNode.removeChild(f),delete a.ref.fields[c.id])},$ie=({root:a,action:c})=>{const f=GH(a,c.id);f&&(c.value===null?f.removeAttribute("value"):f.value=c.value,TY(a))},Fie=yh({DID_SET_DISABLED:Lie,DID_ADD_ITEM:Mie,DID_LOAD_ITEM:kie,DID_REMOVE_ITEM:Bie,DID_DEFINE_VALUE:$ie,DID_PREPARE_OUTPUT:Pie,DID_REORDER_ITEMS:mQ,DID_SORT_ITEMS:mQ}),Hie=au({tag:"fieldset",name:"data",create:Nie,write:Fie,ignoreRect:!0}),Vie=a=>"getRootNode"in a?a.getRootNode():document,zie=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],Uie=["css","csv","html","txt"],Wie={zip:"zip|compressed",epub:"application/epub+zip"},Aee=(a="")=>(a=a.toLowerCase(),zie.includes(a)?"image/"+(a==="jpg"?"jpeg":a==="svg"?"svg+xml":a):Uie.includes(a)?"text/"+a:Wie[a]||""),CY=a=>new Promise((c,f)=>{const y=Qie(a);if(y.length&&!Gie(a))return c(y);qie(a).then(c)}),Gie=a=>a.files?a.files.length>0:!1,qie=a=>new Promise((c,f)=>{const y=(a.items?Array.from(a.items):[]).filter(C=>jie(C)).map(C=>Zie(C));if(!y.length){c(a.files?Array.from(a.files):[]);return}Promise.all(y).then(C=>{const w=[];C.forEach(S=>{w.push.apply(w,S)}),c(w.filter(S=>S).map(S=>(S._relativePath||(S._relativePath=S.webkitRelativePath),S)))}).catch(console.error)}),jie=a=>{if(Oee(a)){const c=SY(a);if(c)return c.isFile||c.isDirectory}return a.kind==="file"},Zie=a=>new Promise((c,f)=>{if(Xie(a)){Yie(SY(a)).then(c).catch(f);return}c([a.getAsFile()])}),Yie=a=>new Promise((c,f)=>{const y=[];let C=0,w=0;const S=()=>{w===0&&C===0&&c(y)},D=k=>{C++;const G=k.createReader(),q=()=>{G.readEntries(X=>{if(X.length===0){C--,S();return}X.forEach(fe=>{fe.isDirectory?D(fe):(w++,fe.file(re=>{const he=Kie(re);fe.fullPath&&(he._relativePath=fe.fullPath),y.push(he),w--,S()}))}),q()},f)};q()};D(a)}),Kie=a=>{if(a.type.length)return a;const c=a.lastModifiedDate,f=a.name,y=Aee(WH(a.name));return y.length&&(a=a.slice(0,a.size,y),a.name=f,a.lastModifiedDate=c),a},Xie=a=>Oee(a)&&(SY(a)||{}).isDirectory,Oee=a=>"webkitGetAsEntry"in a,SY=a=>a.webkitGetAsEntry(),Qie=a=>{let c=[];try{if(c=eae(a),c.length)return c;c=Jie(a)}catch{}return c},Jie=a=>{let c=a.getData("url");return typeof c=="string"&&c.length?[c]:[]},eae=a=>{let c=a.getData("text/html");if(typeof c=="string"&&c.length){const f=c.match(/src\s*=\s*"(.+?)"/);if(f)return[f[1]]}return[]},wH=[],lx=a=>({pageLeft:a.pageX,pageTop:a.pageY,scopeLeft:a.offsetX||a.layerX,scopeTop:a.offsetY||a.layerY}),tae=(a,c,f)=>{const y=nae(c),C={element:a,filterElement:f,state:null,ondrop:()=>{},onenter:()=>{},ondrag:()=>{},onexit:()=>{},onload:()=>{},allowdrop:()=>{}};return C.destroy=y.addListener(C),C},nae=a=>{const c=wH.find(y=>y.element===a);if(c)return c;const f=oae(a);return wH.push(f),f},oae=a=>{const c=[],f={dragenter:rae,dragover:iae,dragleave:cae,drop:aae},y={};fl(f,(w,S)=>{y[w]=S(a,c),a.addEventListener(w,y[w],!1)});const C={element:a,addListener:w=>(c.push(w),()=>{c.splice(c.indexOf(w),1),c.length===0&&(wH.splice(wH.indexOf(C),1),fl(f,S=>{a.removeEventListener(S,y[S],!1)}))})};return C},sae=(a,c)=>("elementFromPoint"in a||(a=document),a.elementFromPoint(c.x,c.y)),xY=(a,c)=>{const f=Vie(c),y=sae(f,{x:a.pageX-window.pageXOffset,y:a.pageY-window.pageYOffset});return y===c||c.contains(y)};let Ree=null;const j5=(a,c)=>{try{a.dropEffect=c}catch{}},rae=(a,c)=>f=>{f.preventDefault(),Ree=f.target,c.forEach(y=>{const{element:C,onenter:w}=y;xY(f,C)&&(y.state="enter",w(lx(f)))})},iae=(a,c)=>f=>{f.preventDefault();const y=f.dataTransfer;CY(y).then(C=>{let w=!1;c.some(S=>{const{filterElement:D,element:k,onenter:G,onexit:q,ondrag:X,allowdrop:fe}=S;j5(y,"copy");const re=fe(C);if(!re){j5(y,"none");return}if(xY(f,k)){if(w=!0,S.state===null){S.state="enter",G(lx(f));return}if(S.state="over",D&&!re){j5(y,"none");return}X(lx(f))}else D&&!w&&j5(y,"none"),S.state&&(S.state=null,q(lx(f)))})})},aae=(a,c)=>f=>{f.preventDefault();const y=f.dataTransfer;CY(y).then(C=>{c.forEach(w=>{const{filterElement:S,element:D,ondrop:k,onexit:G,allowdrop:q}=w;if(w.state=null,!(S&&!xY(f,D))){if(!q(C))return G(lx(f));k(lx(f),C)}})})},cae=(a,c)=>f=>{Ree===f.target&&c.forEach(y=>{const{onexit:C}=y;y.state=null,C(lx(f))})},lae=(a,c,f)=>{a.classList.add("filepond--hopper");const{catchesDropsOnPage:y,requiresDropOnElement:C,filterItems:w=q=>q}=f,S=tae(a,y?document.documentElement:a,C);let D="",k="";S.allowdrop=q=>c(w(q)),S.ondrop=(q,X)=>{const fe=w(X);if(!c(fe)){G.ondragend(q);return}k="drag-drop",G.onload(fe,q)},S.ondrag=q=>{G.ondrag(q)},S.onenter=q=>{k="drag-over",G.ondragstart(q)},S.onexit=q=>{k="drag-exit",G.ondragend(q)};const G={updateHopperState:()=>{D!==k&&(a.dataset.hopperState=k,D=k)},onload:()=>{},ondragstart:()=>{},ondrag:()=>{},ondragend:()=>{},destroy:()=>{S.destroy()}};return G};let BZ=!1;const HO=[],Iee=a=>{const c=document.activeElement;if(c&&/textarea|input/i.test(c.nodeName)){let f=!1,y=c;for(;y!==document.body;){if(y.classList.contains("filepond--root")){f=!0;break}y=y.parentNode}if(!f)return}CY(a.clipboardData).then(f=>{f.length&&HO.forEach(y=>y(f))})},uae=a=>{HO.includes(a)||(HO.push(a),!BZ&&(BZ=!0,document.addEventListener("paste",Iee)))},dae=a=>{vY(HO,HO.indexOf(a)),HO.length===0&&(document.removeEventListener("paste",Iee),BZ=!1)},fae=()=>{const a=f=>{c.onload(f)},c={destroy:()=>{dae(a)},onload:()=>{}};return uae(a),c},hae=({root:a,props:c})=>{a.element.id=`filepond--assistant-${c.id}`,iu(a.element,"role","status"),iu(a.element,"aria-live","polite"),iu(a.element,"aria-relevant","additions")};let pQ=null,gQ=null;const nZ=[],qH=(a,c)=>{a.element.textContent=c},mae=a=>{a.element.textContent=""},Dee=(a,c,f)=>{const y=a.query("GET_TOTAL_ITEMS");qH(a,`${f} ${c}, ${y} ${y===1?a.query("GET_LABEL_FILE_COUNT_SINGULAR"):a.query("GET_LABEL_FILE_COUNT_PLURAL")}`),clearTimeout(gQ),gQ=setTimeout(()=>{mae(a)},1500)},Nee=a=>a.element.parentNode.contains(document.activeElement),pae=({root:a,action:c})=>{if(!Nee(a))return;a.element.textContent="";const f=a.query("GET_ITEM",c.id);nZ.push(f.filename),clearTimeout(pQ),pQ=setTimeout(()=>{Dee(a,nZ.join(", "),a.query("GET_LABEL_FILE_ADDED")),nZ.length=0},750)},gae=({root:a,action:c})=>{if(!Nee(a))return;const f=c.item;Dee(a,f.filename,a.query("GET_LABEL_FILE_REMOVED"))},vae=({root:a,action:c})=>{const y=a.query("GET_ITEM",c.id).filename,C=a.query("GET_LABEL_FILE_PROCESSING_COMPLETE");qH(a,`${y} ${C}`)},vQ=({root:a,action:c})=>{const y=a.query("GET_ITEM",c.id).filename,C=a.query("GET_LABEL_FILE_PROCESSING_ABORTED");qH(a,`${y} ${C}`)},Z5=({root:a,action:c})=>{const y=a.query("GET_ITEM",c.id).filename;qH(a,`${c.status.main} ${y} ${c.status.sub}`)},bae=au({create:hae,ignoreRect:!0,ignoreRectUpdate:!0,write:yh({DID_LOAD_ITEM:pae,DID_REMOVE_ITEM:gae,DID_COMPLETE_ITEM_PROCESSING:vae,DID_ABORT_ITEM_PROCESSING:vQ,DID_REVERT_ITEM_PROCESSING:vQ,DID_THROW_ITEM_REMOVE_ERROR:Z5,DID_THROW_ITEM_LOAD_ERROR:Z5,DID_THROW_ITEM_INVALID:Z5,DID_THROW_ITEM_PROCESSING_ERROR:Z5}),tag:"span",name:"assistant"}),Mee=(a,c="-")=>a.replace(new RegExp(`${c}.`,"g"),f=>f.charAt(1).toUpperCase()),kee=(a,c=16,f=!0)=>{let y=Date.now(),C=null;return(...w)=>{clearTimeout(C);const S=Date.now()-y,D=()=>{y=Date.now(),a(...w)};S<c?f||(C=setTimeout(D,c-S)):D()}},yae=1e6,TH=a=>a.preventDefault(),_ae=({root:a,props:c})=>{const f=a.query("GET_ID");f&&(a.element.id=f);const y=a.query("GET_CLASS_NAME");y&&y.split(" ").filter(k=>k.length).forEach(k=>{a.element.classList.add(k)}),a.ref.label=a.appendChildView(a.createChildView(Tie,{...c,translateY:null,caption:a.query("GET_LABEL_IDLE")})),a.ref.list=a.appendChildView(a.createChildView(vie,{translateY:null})),a.ref.panel=a.appendChildView(a.createChildView(yee,{name:"panel-root"})),a.ref.assistant=a.appendChildView(a.createChildView(bae,{...c})),a.ref.data=a.appendChildView(a.createChildView(Hie,{...c})),a.ref.measure=u_("div"),a.ref.measure.style.height="100%",a.element.appendChild(a.ref.measure),a.ref.bounds=null,a.query("GET_STYLES").filter(k=>!l_(k.value)).map(({name:k,value:G})=>{a.element.dataset[k]=G}),a.ref.widthPrevious=null,a.ref.widthUpdated=kee(()=>{a.ref.updateHistory=[],a.dispatch("DID_RESIZE_ROOT")},250),a.ref.previousAspectRatio=null,a.ref.updateHistory=[];const C=window.matchMedia("(pointer: fine) and (hover: hover)").matches,w="PointerEvent"in window;a.query("GET_ALLOW_REORDER")&&w&&!C&&(a.element.addEventListener("touchmove",TH,{passive:!1}),a.element.addEventListener("gesturestart",TH));const S=a.query("GET_CREDITS");if(S.length===2){const k=document.createElement("a");k.className="filepond--credits",k.setAttribute("aria-hidden","true"),k.href=S[0],k.tabindex=-1,k.target="_blank",k.rel="noopener noreferrer",k.textContent=S[1],a.element.appendChild(k),a.ref.credits=k}},Eae=({root:a,props:c,actions:f})=>{if(xae({root:a,props:c,actions:f}),f.filter(z=>/^DID_SET_STYLE_/.test(z.type)).filter(z=>!l_(z.data.value)).map(({type:z,data:we})=>{const je=Mee(z.substring(8).toLowerCase(),"_");a.element.dataset[je]=we.value,a.invalidateLayout()}),a.rect.element.hidden)return;a.rect.element.width!==a.ref.widthPrevious&&(a.ref.widthPrevious=a.rect.element.width,a.ref.widthUpdated());let y=a.ref.bounds;y||(y=a.ref.bounds=Cae(a),a.element.removeChild(a.ref.measure),a.ref.measure=null);const{hopper:C,label:w,list:S,panel:D}=a.ref;C&&C.updateHopperState();const k=a.query("GET_PANEL_ASPECT_RATIO"),G=a.query("GET_ALLOW_MULTIPLE"),q=a.query("GET_TOTAL_ITEMS"),X=G?a.query("GET_MAX_FILES")||yae:1,fe=q===X,re=f.find(z=>z.type==="DID_ADD_ITEM");if(fe&&re){const z=re.data.interactionMethod;w.opacity=0,G?w.translateY=-40:z===Jg.API?w.translateX=40:z===Jg.BROWSE?w.translateY=40:w.translateY=30}else fe||(w.opacity=1,w.translateX=0,w.translateY=0);const he=wae(a),ue=Tae(a),ce=w.rect.element.height,ae=!G||fe?0:ce,ge=fe?S.rect.element.marginTop:0,Q=q===0?0:S.rect.element.marginBottom,Ne=ae+ge+ue.visual+Q,qe=ae+ge+ue.bounds+Q;if(S.translateY=Math.max(0,ae-S.rect.element.marginTop)-he.top,k){const z=a.rect.element.width,we=z*k;k!==a.ref.previousAspectRatio&&(a.ref.previousAspectRatio=k,a.ref.updateHistory=[]);const je=a.ref.updateHistory;je.push(z);const dt=2;if(je.length>dt*2){const Pe=je.length,Ee=Pe-10;let pn=0;for(let Tt=Pe;Tt>=Ee;Tt--)if(je[Tt]===je[Tt-2]&&pn++,pn>=dt)return}D.scalable=!1,D.height=we;const _t=we-ae-(Q-he.bottom)-(fe?ge:0);ue.visual>_t?S.overflow=_t:S.overflow=null,a.height=we}else if(y.fixedHeight){D.scalable=!1;const z=y.fixedHeight-ae-(Q-he.bottom)-(fe?ge:0);ue.visual>z?S.overflow=z:S.overflow=null}else if(y.cappedHeight){const z=Ne>=y.cappedHeight,we=Math.min(y.cappedHeight,Ne);D.scalable=!0,D.height=z?we:we-he.top-he.bottom;const je=we-ae-(Q-he.bottom)-(fe?ge:0);Ne>y.cappedHeight&&ue.visual>je?S.overflow=je:S.overflow=null,a.height=Math.min(y.cappedHeight,qe-he.top-he.bottom)}else{const z=q>0?he.top+he.bottom:0;D.scalable=!0,D.height=Math.max(ce,Ne-z),a.height=Math.max(ce,qe-z)}a.ref.credits&&D.heightCurrent&&(a.ref.credits.style.transform=`translateY(${D.heightCurrent}px)`)},wae=a=>{const c=a.ref.list.childViews[0].childViews[0];return c?{top:c.rect.element.marginTop,bottom:c.rect.element.marginBottom}:{top:0,bottom:0}},Tae=a=>{let c=0,f=0;const y=a.ref.list,C=y.childViews[0],w=C.childViews.filter(ge=>ge.rect.element.height),S=a.query("GET_ACTIVE_ITEMS").map(ge=>w.find(Q=>Q.id===ge.id)).filter(ge=>ge);if(S.length===0)return{visual:c,bounds:f};const D=C.rect.element.width,k=wY(C,S,y.dragCoordinates),G=S[0].rect.element,q=G.marginTop+G.marginBottom,X=G.marginLeft+G.marginRight,fe=G.width+X,re=G.height+q,he=typeof k<"u"&&k>=0?1:0,ue=S.find(ge=>ge.markedForRemoval&&ge.opacity<.45)?-1:0,ce=S.length+he+ue,ae=EY(D,fe);return ae===1?S.forEach(ge=>{const Q=ge.rect.element.height+q;f+=Q,c+=Q*ge.opacity}):(f=Math.ceil(ce/ae)*re,c=f),{visual:c,bounds:f}},Cae=a=>{const c=a.ref.measureHeight||null;return{cappedHeight:parseInt(a.style.maxHeight,10)||null,fixedHeight:c===0?null:c}},AY=(a,c)=>{const f=a.query("GET_ALLOW_REPLACE"),y=a.query("GET_ALLOW_MULTIPLE"),C=a.query("GET_TOTAL_ITEMS");let w=a.query("GET_MAX_FILES");const S=c.length;return!y&&S>1?(a.dispatch("DID_THROW_MAX_FILES",{source:c,error:Pl("warning",0,"Max files")}),!0):(w=y?w:1,!y&&f?!1:tR(w)&&C+S>w?(a.dispatch("DID_THROW_MAX_FILES",{source:c,error:Pl("warning",0,"Max files")}),!0):!1)},Sae=(a,c,f)=>{const y=a.childViews[0];return wY(y,c,{left:f.scopeLeft-y.rect.element.left,top:f.scopeTop-(a.rect.outer.top+a.rect.element.marginTop+a.rect.element.scrollTop)})},bQ=a=>{const c=a.query("GET_ALLOW_DROP"),f=a.query("GET_DISABLED"),y=c&&!f;if(y&&!a.ref.hopper){const C=lae(a.element,w=>{const S=a.query("GET_BEFORE_DROP_FILE")||(()=>!0);return a.query("GET_DROP_VALIDATION")?w.every(k=>fx("ALLOW_HOPPER_ITEM",k,{query:a.query}).every(G=>G===!0)&&S(k)):!0},{filterItems:w=>{const S=a.query("GET_IGNORED_FILES");return w.filter(D=>KO(D)?!S.includes(D.name.toLowerCase()):!0)},catchesDropsOnPage:a.query("GET_DROP_ON_PAGE"),requiresDropOnElement:a.query("GET_DROP_ON_ELEMENT")});C.onload=(w,S)=>{const k=a.ref.list.childViews[0].childViews.filter(q=>q.rect.element.height),G=a.query("GET_ACTIVE_ITEMS").map(q=>k.find(X=>X.id===q.id)).filter(q=>q);bv("ADD_ITEMS",w,{dispatch:a.dispatch}).then(q=>{if(AY(a,q))return!1;a.dispatch("ADD_ITEMS",{items:q,index:Sae(a.ref.list,G,S),interactionMethod:Jg.DROP})}),a.dispatch("DID_DROP",{position:S}),a.dispatch("DID_END_DRAG",{position:S})},C.ondragstart=w=>{a.dispatch("DID_START_DRAG",{position:w})},C.ondrag=kee(w=>{a.dispatch("DID_DRAG",{position:w})}),C.ondragend=w=>{a.dispatch("DID_END_DRAG",{position:w})},a.ref.hopper=C,a.ref.drip=a.appendChildView(a.createChildView(Die))}else!y&&a.ref.hopper&&(a.ref.hopper.destroy(),a.ref.hopper=null,a.removeChildView(a.ref.drip))},yQ=(a,c)=>{const f=a.query("GET_ALLOW_BROWSE"),y=a.query("GET_DISABLED"),C=f&&!y;C&&!a.ref.browser?a.ref.browser=a.appendChildView(a.createChildView(Eie,{...c,onload:w=>{bv("ADD_ITEMS",w,{dispatch:a.dispatch}).then(S=>{if(AY(a,S))return!1;a.dispatch("ADD_ITEMS",{items:S,index:-1,interactionMethod:Jg.BROWSE})})}}),0):!C&&a.ref.browser&&(a.removeChildView(a.ref.browser),a.ref.browser=null)},_Q=a=>{const c=a.query("GET_ALLOW_PASTE"),f=a.query("GET_DISABLED"),y=c&&!f;y&&!a.ref.paster?(a.ref.paster=fae(),a.ref.paster.onload=C=>{bv("ADD_ITEMS",C,{dispatch:a.dispatch}).then(w=>{if(AY(a,w))return!1;a.dispatch("ADD_ITEMS",{items:w,index:-1,interactionMethod:Jg.PASTE})})}):!y&&a.ref.paster&&(a.ref.paster.destroy(),a.ref.paster=null)},xae=yh({DID_SET_ALLOW_BROWSE:({root:a,props:c})=>{yQ(a,c)},DID_SET_ALLOW_DROP:({root:a})=>{bQ(a)},DID_SET_ALLOW_PASTE:({root:a})=>{_Q(a)},DID_SET_DISABLED:({root:a,props:c})=>{bQ(a),_Q(a),yQ(a,c),a.query("GET_DISABLED")?a.element.dataset.disabled="disabled":a.element.removeAttribute("data-disabled")}}),Aae=au({name:"root",read:({root:a})=>{a.ref.measure&&(a.ref.measureHeight=a.ref.measure.offsetHeight)},create:_ae,write:Eae,destroy:({root:a})=>{a.ref.paster&&a.ref.paster.destroy(),a.ref.hopper&&a.ref.hopper.destroy(),a.element.removeEventListener("touchmove",TH),a.element.removeEventListener("gesturestart",TH)},mixins:{styles:["height"]}}),Oae=(a={})=>{let c=null;const f=EH(),y=Goe(Ise(f),[Zse,Mse(f)],[yre,Nse(f)]);y.dispatch("SET_OPTIONS",{options:a});const C=()=>{document.hidden||y.dispatch("KICK")};document.addEventListener("visibilitychange",C);let w=null,S=!1,D=!1,k=null,G=null;const q=()=>{S||(S=!0),clearTimeout(w),w=setTimeout(()=>{S=!1,k=null,G=null,D&&(D=!1,y.dispatch("DID_STOP_RESIZE"))},500)};window.addEventListener("resize",q);const X=Aae(y,{id:gY()});let fe=!1,re=!1;const he={_read:()=>{S&&(G=window.innerWidth,k||(k=G),!D&&G!==k&&(y.dispatch("DID_START_RESIZE"),D=!0)),re&&fe&&(fe=X.element.offsetParent===null),!fe&&(X._read(),re=X.rect.element.hidden)},_write:B=>{const It=y.processActionQueue().filter(nt=>!/^SET_/.test(nt.type));fe&&!It.length||(ge(It),fe=X._write(B,It,D),Lse(y.query("GET_ITEMS")),fe&&y.processDispatchQueue())}},ue=B=>It=>{const nt={type:B};if(!It)return nt;if(It.hasOwnProperty("error")&&(nt.error=It.error?{...It.error}:null),It.status&&(nt.status={...It.status}),It.file&&(nt.output=It.file),It.source)nt.file=It.source;else if(It.item||It.id){const jt=It.item?It.item:y.query("GET_ITEM",It.id);nt.file=jt?Em(jt):null}return It.items&&(nt.items=It.items.map(Em)),/progress/.test(B)&&(nt.progress=It.progress),It.hasOwnProperty("origin")&&It.hasOwnProperty("target")&&(nt.origin=It.origin,nt.target=It.target),nt},ce={DID_DESTROY:ue("destroy"),DID_INIT:ue("init"),DID_THROW_MAX_FILES:ue("warning"),DID_INIT_ITEM:ue("initfile"),DID_START_ITEM_LOAD:ue("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:ue("addfileprogress"),DID_LOAD_ITEM:ue("addfile"),DID_THROW_ITEM_INVALID:[ue("error"),ue("addfile")],DID_THROW_ITEM_LOAD_ERROR:[ue("error"),ue("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[ue("error"),ue("removefile")],DID_PREPARE_OUTPUT:ue("preparefile"),DID_START_ITEM_PROCESSING:ue("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:ue("processfileprogress"),DID_ABORT_ITEM_PROCESSING:ue("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:ue("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:ue("processfiles"),DID_REVERT_ITEM_PROCESSING:ue("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[ue("error"),ue("processfile")],DID_REMOVE_ITEM:ue("removefile"),DID_UPDATE_ITEMS:ue("updatefiles"),DID_ACTIVATE_ITEM:ue("activatefile"),DID_REORDER_ITEMS:ue("reorderfiles")},ae=B=>{const It={pond:Rt,...B};delete It.type,X.element.dispatchEvent(new CustomEvent(`FilePond:${B.type}`,{detail:It,bubbles:!0,cancelable:!0,composed:!0}));const nt=[];B.hasOwnProperty("error")&&nt.push(B.error),B.hasOwnProperty("file")&&nt.push(B.file);const jt=["type","error","file"];Object.keys(B).filter(Ze=>!jt.includes(Ze)).forEach(Ze=>nt.push(B[Ze])),Rt.fire(B.type,...nt);const zt=y.query(`GET_ON${B.type.toUpperCase()}`);zt&&zt(...nt)},ge=B=>{B.length&&B.filter(It=>ce[It.type]).forEach(It=>{const nt=ce[It.type];(Array.isArray(nt)?nt:[nt]).forEach(jt=>{It.type==="DID_INIT_ITEM"?ae(jt(It.data)):setTimeout(()=>{ae(jt(It.data))},0)})})},Q=B=>y.dispatch("SET_OPTIONS",{options:B}),Ne=B=>y.query("GET_ACTIVE_ITEM",B),qe=B=>new Promise((It,nt)=>{y.dispatch("REQUEST_ITEM_PREPARE",{query:B,success:jt=>{It(jt)},failure:jt=>{nt(jt)}})}),z=(B,It={})=>new Promise((nt,jt)=>{dt([{source:B,options:It}],{index:It.index}).then(zt=>nt(zt&&zt[0])).catch(jt)}),we=B=>B.file&&B.id,je=(B,It)=>(typeof B=="object"&&!we(B)&&!It&&(It=B,B=void 0),y.dispatch("REMOVE_ITEM",{...It,query:B}),y.query("GET_ACTIVE_ITEM",B)===null),dt=(...B)=>new Promise((It,nt)=>{const jt=[],zt={};if(HH(B[0]))jt.push.apply(jt,B[0]),Object.assign(zt,B[1]||{});else{const Ze=B[B.length-1];typeof Ze=="object"&&!(Ze instanceof Blob)&&Object.assign(zt,B.pop()),jt.push(...B)}y.dispatch("ADD_ITEMS",{items:jt,index:zt.index,interactionMethod:Jg.API,success:It,failure:nt})}),_t=()=>y.query("GET_ACTIVE_ITEMS"),Pe=B=>new Promise((It,nt)=>{y.dispatch("REQUEST_ITEM_PROCESSING",{query:B,success:jt=>{It(jt)},failure:jt=>{nt(jt)}})}),Ee=(...B)=>{const It=Array.isArray(B[0])?B[0]:B,nt=It.length?It:_t();return Promise.all(nt.map(qe))},pn=(...B)=>{const It=Array.isArray(B[0])?B[0]:B;if(!It.length){const nt=_t().filter(jt=>!(jt.status===Fs.IDLE&&jt.origin===Ou.LOCAL)&&jt.status!==Fs.PROCESSING&&jt.status!==Fs.PROCESSING_COMPLETE&&jt.status!==Fs.PROCESSING_REVERT_ERROR);return Promise.all(nt.map(Pe))}return Promise.all(It.map(Pe))},Tt=(...B)=>{const It=Array.isArray(B[0])?B[0]:B;let nt;typeof It[It.length-1]=="object"?nt=It.pop():Array.isArray(B[0])&&(nt=B[1]);const jt=_t();return It.length?It.map(Ze=>tx(Ze)?jt[Ze]?jt[Ze].id:null:Ze).filter(Ze=>Ze).map(Ze=>je(Ze,nt)):Promise.all(jt.map(Ze=>je(Ze,nt)))},Rt={...UH(),...he,...Dse(y,f),setOptions:Q,addFile:z,addFiles:dt,getFile:Ne,processFile:Pe,prepareFile:qe,removeFile:je,moveFile:(B,It)=>y.dispatch("MOVE_ITEM",{query:B,index:It}),getFiles:_t,processFiles:pn,removeFiles:Tt,prepareFiles:Ee,sort:B=>y.dispatch("SORT",{compare:B}),browse:()=>{var B=X.element.querySelector("input[type=file]");B&&B.click()},destroy:()=>{Rt.fire("destroy",X.element),y.dispatch("ABORT_ALL"),X._destroy(),window.removeEventListener("resize",q),document.removeEventListener("visibilitychange",C),y.dispatch("DID_DESTROY")},insertBefore:B=>UX(X.element,B),insertAfter:B=>WX(X.element,B),appendTo:B=>B.appendChild(X.element),replaceElement:B=>{UX(X.element,B),B.parentNode.removeChild(B),c=B},restoreElement:()=>{c&&(WX(c,X.element),X.element.parentNode.removeChild(X.element),c=null)},isAttachedTo:B=>X.element===B||c===B,element:{get:()=>X.element},status:{get:()=>y.query("GET_STATUS")}};return y.dispatch("DID_INIT"),Mw(Rt)},Pee=(a={})=>{const c={};return fl(EH(),(y,C)=>{c[y]=C[0]}),Oae({...c,...a})},Rae=a=>a.charAt(0).toLowerCase()+a.slice(1),Iae=a=>Mee(a.replace(/^data-/,"")),Lee=(a,c)=>{fl(c,(f,y)=>{fl(a,(C,w)=>{const S=new RegExp(f);if(!S.test(C)||(delete a[C],y===!1))return;if(bh(y)){a[y]=w;return}const k=y.group;rd(y)&&!a[k]&&(a[k]={}),a[k][Rae(C.replace(S,""))]=w}),y.mapping&&Lee(a[y.group],y.mapping)})},Dae=(a,c={})=>{const f=[];fl(a.attributes,C=>{f.push(a.attributes[C])});const y=f.filter(C=>C.name).reduce((C,w)=>{const S=iu(a,w.name);return C[Iae(w.name)]=S===w.name?!0:S,C},{});return Lee(y,c),y},Nae=(a,c={})=>{const f={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};fx("SET_ATTRIBUTE_TO_OPTION_MAP",f);const y={...c},C=Dae(a.nodeName==="FIELDSET"?a.querySelector("input[type=file]"):a,f);Object.keys(C).forEach(S=>{rd(C[S])?(rd(y[S])||(y[S]={}),Object.assign(y[S],C[S])):y[S]=C[S]}),y.files=(c.files||[]).concat(Array.from(a.querySelectorAll("input:not([type=file])")).map(S=>({source:S.value,options:{type:S.dataset.type}})));const w=Pee(y);return a.files&&Array.from(a.files).forEach(S=>{w.addFile(S)}),w.replaceElement(a),w},Mae=(...a)=>Woe(a[0])?Nae(...a):Pee(...a),kae=["fire","_read","_write"],EQ=a=>{const c={};return oee(a,c,kae),c},Pae=(a,c)=>a.replace(/(?:{([a-zA-Z]+)})/g,(f,y)=>c[y]),Lae=a=>{const c=new Blob(["(",a.toString(),")()"],{type:"application/javascript"}),f=URL.createObjectURL(c),y=new Worker(f);return{transfer:(C,w)=>{},post:(C,w,S)=>{const D=gY();y.onmessage=k=>{k.data.id===D&&w(k.data.message)},y.postMessage({id:D,message:C},S)},terminate:()=>{y.terminate(),URL.revokeObjectURL(f)}}},Bae=a=>new Promise((c,f)=>{const y=new Image;y.onload=()=>{c(y)},y.onerror=C=>{f(C)},y.src=a}),Bee=(a,c)=>{const f=a.slice(0,a.size,a.type);return f.lastModifiedDate=a.lastModifiedDate,f.name=c,f},$ae=a=>Bee(a,a.name),wQ=[],Fae=a=>{if(wQ.includes(a))return;wQ.push(a);const c=a({addFilter:$se,utils:{Type:bn,forin:fl,isString:bh,isFile:KO,toNaturalFileSize:gee,replaceInString:Pae,getExtensionFromFilename:WH,getFilenameWithoutExtension:hee,guesstimateMimeType:Aee,getFileFromBlob:YO,getFilenameFromURL:ik,createRoute:yh,createWorker:Lae,createView:au,createItemAPI:Em,loadImage:Bae,copyFile:$ae,renameFile:Bee,createBlob:uee,applyFilterChain:bv,text:Ll,getNumericAspectRatioFromString:iee},views:{fileActionButton:pee}});Fse(c.options)},Hae=()=>Object.prototype.toString.call(window.operamini)==="[object OperaMini]",Vae=()=>"Promise"in window,zae=()=>"slice"in Blob.prototype,Uae=()=>"URL"in window&&"createObjectURL"in window.URL,Wae=()=>"visibilityState"in document,Gae=()=>"performance"in window,qae=()=>"supports"in(window.CSS||{}),jae=()=>/MSIE|Trident/.test(window.navigator.userAgent),$Z=(()=>{const a=XJ()&&!Hae()&&Wae()&&Vae()&&zae()&&Uae()&&Gae()&&(qae()||jae());return()=>a})(),Ow={apps:[]},Zae="filepond",hx=()=>{};let $ee={},Fee={},Hee={},FZ={},iH=hx,aH=hx,HZ=hx,VZ=hx,CH=hx,zZ=hx,UZ=hx;if($Z()){gse(()=>{Ow.apps.forEach(f=>f._read())},f=>{Ow.apps.forEach(y=>y._write(f))});const a=()=>{document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:$Z,create:iH,destroy:aH,parse:HZ,find:VZ,registerPlugin:CH,setOptions:UZ}})),document.removeEventListener("DOMContentLoaded",a)};document.readyState!=="loading"?setTimeout(()=>a(),0):document.addEventListener("DOMContentLoaded",a);const c=()=>fl(EH(),(f,y)=>{FZ[f]=y[1]});$ee={...aee},Hee={...Ou},Fee={...Fs},FZ={},c(),iH=(...f)=>{const y=Mae(...f);return y.on("destroy",aH),Ow.apps.push(y),EQ(y)},aH=f=>{const y=Ow.apps.findIndex(C=>C.isAttachedTo(f));return y>=0?(Ow.apps.splice(y,1)[0].restoreElement(),!0):!1},HZ=f=>Array.from(f.querySelectorAll(`.${Zae}`)).filter(w=>!Ow.apps.find(S=>S.isAttachedTo(w))).map(w=>iH(w)),VZ=f=>{const y=Ow.apps.find(C=>C.isAttachedTo(f));return y?EQ(y):null},CH=(...f)=>{f.forEach(Fae),c()},zZ=()=>{const f={};return fl(EH(),(y,C)=>{f[y]=C[0]}),f},UZ=f=>(rd(f)&&(Ow.apps.forEach(y=>{y.setOptions(f)}),Hse(f)),zZ())}const Yae=Object.freeze(Object.defineProperty({__proto__:null,get FileOrigin(){return Hee},get FileStatus(){return Fee},get OptionTypes(){return FZ},get Status(){return $ee},get create(){return iH},get destroy(){return aH},get find(){return VZ},get getOptions(){return zZ},get parse(){return HZ},get registerPlugin(){return CH},get setOptions(){return UZ},supported:$Z},Symbol.toStringTag,{value:"Module"}));/*!
 * FilePondPluginFileValidateType 1.2.8
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const Kae=({addFilter:a,utils:c})=>{const{Type:f,isString:y,replaceInString:C,guesstimateMimeType:w,getExtensionFromFilename:S,getFilenameFromURL:D}=c,k=(re,he)=>{const ue=(/^[^/]+/.exec(re)||[]).pop(),ce=he.slice(0,-2);return ue===ce},G=(re,he)=>re.some(ue=>/\*$/.test(ue)?k(he,ue):ue===he),q=re=>{let he="";if(y(re)){const ue=D(re),ce=S(ue);ce&&(he=w(ce))}else he=re.type;return he},X=(re,he,ue)=>{if(he.length===0)return!0;const ce=q(re);return ue?new Promise((ae,ge)=>{ue(re,ce).then(Q=>{G(he,Q)?ae():ge()}).catch(ge)}):G(he,ce)},fe=re=>he=>re[he]===null?!1:re[he]||he;return a("SET_ATTRIBUTE_TO_OPTION_MAP",re=>Object.assign(re,{accept:"acceptedFileTypes"})),a("ALLOW_HOPPER_ITEM",(re,{query:he})=>he("GET_ALLOW_FILE_TYPE_VALIDATION")?X(re,he("GET_ACCEPTED_FILE_TYPES")):!0),a("LOAD_FILE",(re,{query:he})=>new Promise((ue,ce)=>{if(!he("GET_ALLOW_FILE_TYPE_VALIDATION")){ue(re);return}const ae=he("GET_ACCEPTED_FILE_TYPES"),ge=he("GET_FILE_VALIDATE_TYPE_DETECT_TYPE"),Q=X(re,ae,ge),Ne=()=>{const qe=ae.map(fe(he("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"))).filter(we=>we!==!1),z=qe.filter(function(we,je){return qe.indexOf(we)===je});ce({status:{main:he("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:C(he("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:z.join(", "),allButLastType:z.slice(0,-1).join(", "),lastType:z[qe.length-1]})}})};if(typeof Q=="boolean")return Q?ue(re):Ne();Q.then(()=>{ue(re)}).catch(Ne)})),{options:{allowFileTypeValidation:[!0,f.BOOLEAN],acceptedFileTypes:[[],f.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",f.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",f.STRING],fileValidateTypeLabelExpectedTypesMap:[{},f.OBJECT],fileValidateTypeDetectType:[null,f.FUNCTION]}}},Xae=typeof window<"u"&&typeof window.document<"u";Xae&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Kae}));/*!
 * FilePondPluginImagePreview 4.6.11
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const Qae=a=>/^image/.test(a.type),TQ=(a,c)=>tk(a.x*c,a.y*c),CQ=(a,c)=>tk(a.x+c.x,a.y+c.y),Jae=a=>{const c=Math.sqrt(a.x*a.x+a.y*a.y);return c===0?{x:0,y:0}:tk(a.x/c,a.y/c)},Y5=(a,c,f)=>{const y=Math.cos(c),C=Math.sin(c),w=tk(a.x-f.x,a.y-f.y);return tk(f.x+y*w.x-C*w.y,f.y+C*w.x+y*w.y)},tk=(a=0,c=0)=>({x:a,y:c}),wm=(a,c,f=1,y)=>{if(typeof a=="string")return parseFloat(a)*f;if(typeof a=="number")return a*(y?c[y]:Math.min(c.width,c.height))},ece=(a,c,f)=>{const y=a.borderStyle||a.lineStyle||"solid",C=a.backgroundColor||a.fontColor||"transparent",w=a.borderColor||a.lineColor||"transparent",S=wm(a.borderWidth||a.lineWidth,c,f),D=a.lineCap||"round",k=a.lineJoin||"round",G=typeof y=="string"?"":y.map(X=>wm(X,c,f)).join(","),q=a.opacity||1;return{"stroke-linecap":D,"stroke-linejoin":k,"stroke-width":S||0,"stroke-dasharray":G,stroke:w,fill:C,opacity:q}},Xg=a=>a!=null,tce=(a,c,f=1)=>{let y=wm(a.x,c,f,"width")||wm(a.left,c,f,"width"),C=wm(a.y,c,f,"height")||wm(a.top,c,f,"height"),w=wm(a.width,c,f,"width"),S=wm(a.height,c,f,"height"),D=wm(a.right,c,f,"width"),k=wm(a.bottom,c,f,"height");return Xg(C)||(Xg(S)&&Xg(k)?C=c.height-S-k:C=k),Xg(y)||(Xg(w)&&Xg(D)?y=c.width-w-D:y=D),Xg(w)||(Xg(y)&&Xg(D)?w=c.width-y-D:w=0),Xg(S)||(Xg(C)&&Xg(k)?S=c.height-C-k:S=0),{x:y||0,y:C||0,width:w||0,height:S||0}},nce=a=>a.map((c,f)=>`${f===0?"M":"L"} ${c.x} ${c.y}`).join(" "),Yb=(a,c)=>Object.keys(c).forEach(f=>a.setAttribute(f,c[f])),oce="http://www.w3.org/2000/svg",BO=(a,c)=>{const f=document.createElementNS(oce,a);return c&&Yb(f,c),f},sce=a=>Yb(a,{...a.rect,...a.styles}),rce=a=>{const c=a.rect.x+a.rect.width*.5,f=a.rect.y+a.rect.height*.5,y=a.rect.width*.5,C=a.rect.height*.5;return Yb(a,{cx:c,cy:f,rx:y,ry:C,...a.styles})},ice={contain:"xMidYMid meet",cover:"xMidYMid slice"},ace=(a,c)=>{Yb(a,{...a.rect,...a.styles,preserveAspectRatio:ice[c.fit]||"none"})},cce={left:"start",center:"middle",right:"end"},lce=(a,c,f,y)=>{const C=wm(c.fontSize,f,y),w=c.fontFamily||"sans-serif",S=c.fontWeight||"normal",D=cce[c.textAlign]||"start";Yb(a,{...a.rect,...a.styles,"stroke-width":0,"font-weight":S,"font-size":C,"font-family":w,"text-anchor":D}),a.text!==c.text&&(a.text=c.text,a.textContent=c.text.length?c.text:" ")},uce=(a,c,f,y)=>{Yb(a,{...a.rect,...a.styles,fill:"none"});const C=a.childNodes[0],w=a.childNodes[1],S=a.childNodes[2],D=a.rect,k={x:a.rect.x+a.rect.width,y:a.rect.y+a.rect.height};if(Yb(C,{x1:D.x,y1:D.y,x2:k.x,y2:k.y}),!c.lineDecoration)return;w.style.display="none",S.style.display="none";const G=Jae({x:k.x-D.x,y:k.y-D.y}),q=wm(.05,f,y);if(c.lineDecoration.indexOf("arrow-begin")!==-1){const X=TQ(G,q),fe=CQ(D,X),re=Y5(D,2,fe),he=Y5(D,-2,fe);Yb(w,{style:"display:block;",d:`M${re.x},${re.y} L${D.x},${D.y} L${he.x},${he.y}`})}if(c.lineDecoration.indexOf("arrow-end")!==-1){const X=TQ(G,-q),fe=CQ(k,X),re=Y5(k,2,fe),he=Y5(k,-2,fe);Yb(S,{style:"display:block;",d:`M${re.x},${re.y} L${k.x},${k.y} L${he.x},${he.y}`})}},dce=(a,c,f,y)=>{Yb(a,{...a.styles,fill:"none",d:nce(c.points.map(C=>({x:wm(C.x,f,y,"width"),y:wm(C.y,f,y,"height")})))})},K5=a=>c=>BO(a,{id:c.id}),fce=a=>{const c=BO("image",{id:a.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return c.onload=()=>{c.setAttribute("opacity",a.opacity||1)},c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a.src),c},hce=a=>{const c=BO("g",{id:a.id,"stroke-linecap":"round","stroke-linejoin":"round"}),f=BO("line");c.appendChild(f);const y=BO("path");c.appendChild(y);const C=BO("path");return c.appendChild(C),c},mce={image:fce,rect:K5("rect"),ellipse:K5("ellipse"),text:K5("text"),path:K5("path"),line:hce},pce={rect:sce,ellipse:rce,image:ace,text:lce,path:dce,line:uce},gce=(a,c)=>mce[a](c),vce=(a,c,f,y,C)=>{c!=="path"&&(a.rect=tce(f,y,C)),a.styles=ece(f,y,C),pce[c](a,f,y,C)},bce=["x","y","left","top","right","bottom","width","height"],yce=a=>typeof a=="string"&&/%/.test(a)?parseFloat(a)/100:a,_ce=a=>{const[c,f]=a,y=f.points?{}:bce.reduce((C,w)=>(C[w]=yce(f[w]),C),{});return[c,{zIndex:0,...f,...y}]},Ece=(a,c)=>a[1].zIndex>c[1].zIndex?1:a[1].zIndex<c[1].zIndex?-1:0,wce=a=>a.utils.createView({name:"image-preview-markup",tag:"svg",ignoreRect:!0,mixins:{apis:["width","height","crop","markup","resize","dirty"]},write:({root:c,props:f})=>{if(!f.dirty)return;const{crop:y,resize:C,markup:w}=f,S=f.width,D=f.height;let k=y.width,G=y.height;if(C){const{size:re}=C;let he=re&&re.width,ue=re&&re.height;const ce=C.mode,ae=C.upscale;he&&!ue&&(ue=he),ue&&!he&&(he=ue);const ge=k<he&&G<ue;if(!ge||ge&&ae){let Q=he/k,Ne=ue/G;if(ce==="force")k=he,G=ue;else{let qe;ce==="cover"?qe=Math.max(Q,Ne):ce==="contain"&&(qe=Math.min(Q,Ne)),k=k*qe,G=G*qe}}}const q={width:S,height:D};c.element.setAttribute("width",q.width),c.element.setAttribute("height",q.height);const X=Math.min(S/k,D/G);c.element.innerHTML="";const fe=c.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");w.filter(fe).map(_ce).sort(Ece).forEach(re=>{const[he,ue]=re,ce=gce(he,ue);vce(ce,he,ue,q,X),c.element.appendChild(ce)})}}),JM=(a,c)=>({x:a,y:c}),Tce=(a,c)=>a.x*c.x+a.y*c.y,SQ=(a,c)=>JM(a.x-c.x,a.y-c.y),Cce=(a,c)=>Tce(SQ(a,c),SQ(a,c)),xQ=(a,c)=>Math.sqrt(Cce(a,c)),AQ=(a,c)=>{const f=a,y=1.5707963267948966,C=c,w=1.5707963267948966-c,S=Math.sin(y),D=Math.sin(C),k=Math.sin(w),G=Math.cos(w),q=f/S,X=q*D,fe=q*k;return JM(G*X,G*fe)},Sce=(a,c)=>{const f=a.width,y=a.height,C=AQ(f,c),w=AQ(y,c),S=JM(a.x+Math.abs(C.x),a.y-Math.abs(C.y)),D=JM(a.x+a.width+Math.abs(w.y),a.y+Math.abs(w.x)),k=JM(a.x-Math.abs(w.y),a.y+a.height-Math.abs(w.x));return{width:xQ(S,D),height:xQ(S,k)}},xce=(a,c,f=1)=>{const y=a.height/a.width;let C=1,w=c,S=1,D=y;D>w&&(D=w,S=D/y);const k=Math.max(C/S,w/D),G=a.width/(f*k*S),q=G*c;return{width:G,height:q}},Vee=(a,c,f,y)=>{const C=y.x>.5?1-y.x:y.x,w=y.y>.5?1-y.y:y.y,S=C*2*a.width,D=w*2*a.height,k=Sce(c,f);return Math.max(k.width/S,k.height/D)},zee=(a,c)=>{let f=a.width,y=f*c;y>a.height&&(y=a.height,f=y/c);const C=(a.width-f)*.5,w=(a.height-y)*.5;return{x:C,y:w,width:f,height:y}},Ace=(a,c={})=>{let{zoom:f,rotation:y,center:C,aspectRatio:w}=c;w||(w=a.height/a.width);const S=xce(a,w,f),D={x:S.width*.5,y:S.height*.5},k={x:0,y:0,width:S.width,height:S.height,center:D},G=typeof c.scaleToFit>"u"||c.scaleToFit,q=Vee(a,zee(k,w),y,G?C:{x:.5,y:.5}),X=f*q;return{widthFloat:S.width/X,heightFloat:S.height/X,width:Math.round(S.width/X),height:Math.round(S.height/X)}},Zb={type:"spring",stiffness:.5,damping:.45,mass:10},Oce=a=>a.utils.createView({name:"image-bitmap",ignoreRect:!0,mixins:{styles:["scaleX","scaleY"]},create:({root:c,props:f})=>{c.appendChild(f.image)}}),Rce=a=>a.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:!0,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:Zb,originY:Zb,scaleX:Zb,scaleY:Zb,translateX:Zb,translateY:Zb,rotateZ:Zb}},create:({root:c,props:f})=>{f.width=f.image.width,f.height=f.image.height,c.ref.bitmap=c.appendChildView(c.createChildView(Oce(a),{image:f.image}))},write:({root:c,props:f})=>{const{flip:y}=f.crop,{bitmap:C}=c.ref;C.scaleX=y.horizontal?-1:1,C.scaleY=y.vertical?-1:1}}),Ice=a=>a.utils.createView({name:"image-clip",tag:"div",ignoreRect:!0,mixins:{apis:["crop","markup","resize","width","height","dirty","background"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},didWriteView:function({root:c,props:f}){f.background&&(c.element.style.backgroundColor=f.background)},create:({root:c,props:f})=>{c.ref.image=c.appendChildView(c.createChildView(Rce(a),Object.assign({},f))),c.ref.createMarkup=()=>{c.ref.markup||(c.ref.markup=c.appendChildView(c.createChildView(wce(a),Object.assign({},f))))},c.ref.destroyMarkup=()=>{c.ref.markup&&(c.removeChildView(c.ref.markup),c.ref.markup=null)};const y=c.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");y!==null&&(y==="grid"?c.element.dataset.transparencyIndicator=y:c.element.dataset.transparencyIndicator="color")},write:({root:c,props:f,shouldOptimize:y})=>{const{crop:C,markup:w,resize:S,dirty:D,width:k,height:G}=f;c.ref.image.crop=C;const q={x:0,y:0,width:k,height:G,center:{x:k*.5,y:G*.5}},X={width:c.ref.image.width,height:c.ref.image.height},fe={x:C.center.x*X.width,y:C.center.y*X.height},re={x:q.center.x-X.width*C.center.x,y:q.center.y-X.height*C.center.y},he=Math.PI*2+C.rotation%(Math.PI*2),ue=C.aspectRatio||X.height/X.width,ce=typeof C.scaleToFit>"u"||C.scaleToFit,ae=Vee(X,zee(q,ue),he,ce?C.center:{x:.5,y:.5}),ge=C.zoom*ae;w&&w.length?(c.ref.createMarkup(),c.ref.markup.width=k,c.ref.markup.height=G,c.ref.markup.resize=S,c.ref.markup.dirty=D,c.ref.markup.markup=w,c.ref.markup.crop=Ace(X,C)):c.ref.markup&&c.ref.destroyMarkup();const Q=c.ref.image;if(y){Q.originX=null,Q.originY=null,Q.translateX=null,Q.translateY=null,Q.rotateZ=null,Q.scaleX=null,Q.scaleY=null;return}Q.originX=fe.x,Q.originY=fe.y,Q.translateX=re.x,Q.translateY=re.y,Q.rotateZ=he,Q.scaleX=ge,Q.scaleY=ge}}),Dce=a=>a.utils.createView({name:"image-preview",tag:"div",ignoreRect:!0,mixins:{apis:["image","crop","markup","resize","dirty","background"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:Zb,scaleY:Zb,translateY:Zb,opacity:{type:"tween",duration:400}}},create:({root:c,props:f})=>{c.ref.clip=c.appendChildView(c.createChildView(Ice(a),{id:f.id,image:f.image,crop:f.crop,markup:f.markup,resize:f.resize,dirty:f.dirty,background:f.background}))},write:({root:c,props:f,shouldOptimize:y})=>{const{clip:C}=c.ref,{image:w,crop:S,markup:D,resize:k,dirty:G}=f;if(C.crop=S,C.markup=D,C.resize=k,C.dirty=G,C.opacity=y?0:1,y||c.rect.element.hidden)return;const q=w.height/w.width;let X=S.aspectRatio||q;const fe=c.rect.inner.width,re=c.rect.inner.height;let he=c.query("GET_IMAGE_PREVIEW_HEIGHT");const ue=c.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),ce=c.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),ae=c.query("GET_PANEL_ASPECT_RATIO"),ge=c.query("GET_ALLOW_MULTIPLE");ae&&!ge&&(he=fe*ae,X=ae);let Q=he!==null?he:Math.max(ue,Math.min(fe*X,ce)),Ne=Q/X;Ne>fe&&(Ne=fe,Q=Ne*X),Q>re&&(Q=re,Ne=re/X),C.width=Ne,C.height=Q}});let Nce=`<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">
    <defs>
        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">
            <stop offset='50%' stop-color='#000000'/>
            <stop offset='56%' stop-color='#0a0a0a'/>
            <stop offset='63%' stop-color='#262626'/>
            <stop offset='69%' stop-color='#4f4f4f'/>
            <stop offset='75%' stop-color='#808080'/>
            <stop offset='81%' stop-color='#b1b1b1'/>
            <stop offset='88%' stop-color='#dadada'/>
            <stop offset='94%' stop-color='#f6f6f6'/>
            <stop offset='100%' stop-color='#ffffff'/>
        </radialGradient>
        <mask id="mask-__UID__">
            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>
        </mask>
    </defs>
    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>
</svg>`,OQ=0;const Mce=a=>a.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:!0,create:({root:c,props:f})=>{let y=Nce;if(document.querySelector("base")){const C=new URL(window.location.href.replace(window.location.hash,"")).href;y=y.replace(/url\(\#/g,"url("+C+"#")}OQ++,c.element.classList.add(`filepond--image-preview-overlay-${f.status}`),c.element.innerHTML=y.replace(/__UID__/g,OQ)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}}),kce=function(){self.onmessage=a=>{createImageBitmap(a.data.message.file).then(c=>{self.postMessage({id:a.data.id,message:c},[c])})}},Pce=function(){self.onmessage=a=>{const c=a.data.message.imageData,f=a.data.message.colorMatrix,y=c.data,C=y.length,w=f[0],S=f[1],D=f[2],k=f[3],G=f[4],q=f[5],X=f[6],fe=f[7],re=f[8],he=f[9],ue=f[10],ce=f[11],ae=f[12],ge=f[13],Q=f[14],Ne=f[15],qe=f[16],z=f[17],we=f[18],je=f[19];let dt=0,_t=0,Pe=0,Ee=0,pn=0;for(;dt<C;dt+=4)_t=y[dt]/255,Pe=y[dt+1]/255,Ee=y[dt+2]/255,pn=y[dt+3]/255,y[dt]=Math.max(0,Math.min((_t*w+Pe*S+Ee*D+pn*k+G)*255,255)),y[dt+1]=Math.max(0,Math.min((_t*q+Pe*X+Ee*fe+pn*re+he)*255,255)),y[dt+2]=Math.max(0,Math.min((_t*ue+Pe*ce+Ee*ae+pn*ge+Q)*255,255)),y[dt+3]=Math.max(0,Math.min((_t*Ne+Pe*qe+Ee*z+pn*we+je)*255,255));self.postMessage({id:a.data.id,message:c},[c.data.buffer])}},Lce=(a,c)=>{let f=new Image;f.onload=()=>{const y=f.naturalWidth,C=f.naturalHeight;f=null,c(y,C)},f.src=a},Bce={1:()=>[1,0,0,1,0,0],2:a=>[-1,0,0,1,a,0],3:(a,c)=>[-1,0,0,-1,a,c],4:(a,c)=>[1,0,0,-1,0,c],5:()=>[0,1,1,0,0,0],6:(a,c)=>[0,1,-1,0,c,0],7:(a,c)=>[0,-1,-1,0,c,a],8:a=>[0,-1,1,0,0,a]},$ce=(a,c,f,y)=>{y!==-1&&a.transform.apply(a,Bce[y](c,f))},Fce=(a,c,f,y)=>{c=Math.round(c),f=Math.round(f);const C=document.createElement("canvas");C.width=c,C.height=f;const w=C.getContext("2d");return y>=5&&y<=8&&([c,f]=[f,c]),$ce(w,c,f,y),w.drawImage(a,0,0,c,f),C},Uee=a=>/^image/.test(a.type)&&!/svg/.test(a.type),Hce=10,Vce=10,zce=a=>{const c=Math.min(Hce/a.width,Vce/a.height),f=document.createElement("canvas"),y=f.getContext("2d"),C=f.width=Math.ceil(a.width*c),w=f.height=Math.ceil(a.height*c);y.drawImage(a,0,0,C,w);let S=null;try{S=y.getImageData(0,0,C,w).data}catch{return null}const D=S.length;let k=0,G=0,q=0,X=0;for(;X<D;X+=4)k+=S[X]*S[X],G+=S[X+1]*S[X+1],q+=S[X+2]*S[X+2];return k=oZ(k,D),G=oZ(G,D),q=oZ(q,D),{r:k,g:G,b:q}},oZ=(a,c)=>Math.floor(Math.sqrt(a/(c/4))),Uce=(a,c)=>(c=c||document.createElement("canvas"),c.width=a.width,c.height=a.height,c.getContext("2d").drawImage(a,0,0),c),Wce=a=>{let c;try{c=new ImageData(a.width,a.height)}catch{c=document.createElement("canvas").getContext("2d").createImageData(a.width,a.height)}return c.data.set(new Uint8ClampedArray(a.data)),c},Gce=a=>new Promise((c,f)=>{const y=new Image;y.crossOrigin="Anonymous",y.onload=()=>{c(y)},y.onerror=C=>{f(C)},y.src=a}),qce=a=>{const c=Mce(a),f=Dce(a),{createWorker:y}=a.utils,C=(ge,Q,Ne)=>new Promise(qe=>{ge.ref.imageData||(ge.ref.imageData=Ne.getContext("2d").getImageData(0,0,Ne.width,Ne.height));const z=Wce(ge.ref.imageData);if(!Q||Q.length!==20)return Ne.getContext("2d").putImageData(z,0,0),qe();const we=y(Pce);we.post({imageData:z,colorMatrix:Q},je=>{Ne.getContext("2d").putImageData(je,0,0),we.terminate(),qe()},[z.data.buffer])}),w=(ge,Q)=>{ge.removeChildView(Q),Q.image.width=1,Q.image.height=1,Q._destroy()},S=({root:ge})=>{const Q=ge.ref.images.shift();return Q.opacity=0,Q.translateY=-15,ge.ref.imageViewBin.push(Q),Q},D=({root:ge,props:Q,image:Ne})=>{const qe=Q.id,z=ge.query("GET_ITEM",{id:qe});if(!z)return;const we=z.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},je=ge.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR");let dt,_t,Pe=!1;ge.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(dt=z.getMetadata("markup")||[],_t=z.getMetadata("resize"),Pe=!0);const Ee=ge.appendChildView(ge.createChildView(f,{id:qe,image:Ne,crop:we,resize:_t,markup:dt,dirty:Pe,background:je,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),ge.childViews.length);ge.ref.images.push(Ee),Ee.opacity=1,Ee.scaleX=1,Ee.scaleY=1,Ee.translateY=0,setTimeout(()=>{ge.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:qe})},250)},k=({root:ge,props:Q})=>{const Ne=ge.query("GET_ITEM",{id:Q.id});if(!Ne)return;const qe=ge.ref.images[ge.ref.images.length-1];qe.crop=Ne.getMetadata("crop"),qe.background=ge.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),ge.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(qe.dirty=!0,qe.resize=Ne.getMetadata("resize"),qe.markup=Ne.getMetadata("markup"))},G=({root:ge,props:Q,action:Ne})=>{if(!/crop|filter|markup|resize/.test(Ne.change.key)||!ge.ref.images.length)return;const qe=ge.query("GET_ITEM",{id:Q.id});if(qe){if(/filter/.test(Ne.change.key)){const z=ge.ref.images[ge.ref.images.length-1];C(ge,Ne.change.value,z.image);return}if(/crop|markup|resize/.test(Ne.change.key)){const z=qe.getMetadata("crop"),we=ge.ref.images[ge.ref.images.length-1];if(z&&z.aspectRatio&&we.crop&&we.crop.aspectRatio&&Math.abs(z.aspectRatio-we.crop.aspectRatio)>1e-5){const je=S({root:ge});D({root:ge,props:Q,image:Uce(je.image)})}else k({root:ge,props:Q})}}},q=ge=>{const Ne=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./);return(Ne?parseInt(Ne[1]):null)<=58?!1:"createImageBitmap"in window&&Uee(ge)},X=({root:ge,props:Q})=>{const{id:Ne}=Q,qe=ge.query("GET_ITEM",Ne);if(!qe)return;const z=URL.createObjectURL(qe.file);Lce(z,(we,je)=>{ge.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:Ne,width:we,height:je})})},fe=({root:ge,props:Q})=>{const{id:Ne}=Q,qe=ge.query("GET_ITEM",Ne);if(!qe)return;const z=URL.createObjectURL(qe.file),we=()=>{Gce(z).then(je)},je=dt=>{URL.revokeObjectURL(z);const Pe=(qe.getMetadata("exif")||{}).orientation||-1;let{width:Ee,height:pn}=dt;if(!Ee||!pn)return;Pe>=5&&Pe<=8&&([Ee,pn]=[pn,Ee]);const Tt=Math.max(1,window.devicePixelRatio*.75),B=ge.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR")*Tt,It=pn/Ee,nt=ge.rect.element.width,jt=ge.rect.element.height;let zt=nt,Ze=zt*It;It>1?(zt=Math.min(Ee,nt*B),Ze=zt*It):(Ze=Math.min(pn,jt*B),zt=Ze/It);const bo=Fce(dt,zt,Ze,Pe),Fo=()=>{const Ho=ge.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?zce(data):null;qe.setMetadata("color",Ho,!0),"close"in dt&&dt.close(),ge.ref.overlayShadow.opacity=1,D({root:ge,props:Q,image:bo})},co=qe.getMetadata("filter");co?C(ge,co,bo).then(Fo):Fo()};if(q(qe.file)){const dt=y(kce);dt.post({file:qe.file},_t=>{if(dt.terminate(),!_t){we();return}je(_t)})}else we()},re=({root:ge})=>{const Q=ge.ref.images[ge.ref.images.length-1];Q.translateY=0,Q.scaleX=1,Q.scaleY=1,Q.opacity=1},he=({root:ge})=>{ge.ref.overlayShadow.opacity=1,ge.ref.overlayError.opacity=0,ge.ref.overlaySuccess.opacity=0},ue=({root:ge})=>{ge.ref.overlayShadow.opacity=.25,ge.ref.overlayError.opacity=1},ce=({root:ge})=>{ge.ref.overlayShadow.opacity=.25,ge.ref.overlaySuccess.opacity=1},ae=({root:ge})=>{ge.ref.images=[],ge.ref.imageData=null,ge.ref.imageViewBin=[],ge.ref.overlayShadow=ge.appendChildView(ge.createChildView(c,{opacity:0,status:"idle"})),ge.ref.overlaySuccess=ge.appendChildView(ge.createChildView(c,{opacity:0,status:"success"})),ge.ref.overlayError=ge.appendChildView(ge.createChildView(c,{opacity:0,status:"failure"}))};return a.utils.createView({name:"image-preview-wrapper",create:ae,styles:["height"],apis:["height"],destroy:({root:ge})=>{ge.ref.images.forEach(Q=>{Q.image.width=1,Q.image.height=1})},didWriteView:({root:ge})=>{ge.ref.images.forEach(Q=>{Q.dirty=!1})},write:a.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:re,DID_IMAGE_PREVIEW_CONTAINER_CREATE:X,DID_FINISH_CALCULATE_PREVIEWSIZE:fe,DID_UPDATE_ITEM_METADATA:G,DID_THROW_ITEM_LOAD_ERROR:ue,DID_THROW_ITEM_PROCESSING_ERROR:ue,DID_THROW_ITEM_INVALID:ue,DID_COMPLETE_ITEM_PROCESSING:ce,DID_START_ITEM_PROCESSING:he,DID_REVERT_ITEM_PROCESSING:he},({root:ge})=>{const Q=ge.ref.imageViewBin.filter(Ne=>Ne.opacity===0);ge.ref.imageViewBin=ge.ref.imageViewBin.filter(Ne=>Ne.opacity>0),Q.forEach(Ne=>w(ge,Ne)),Q.length=0})})},Wee=a=>{const{addFilter:c,utils:f}=a,{Type:y,createRoute:C,isFile:w}=f,S=qce(a);return c("CREATE_VIEW",D=>{const{is:k,view:G,query:q}=D;if(!k("file")||!q("GET_ALLOW_IMAGE_PREVIEW"))return;const X=({root:ce,props:ae})=>{const{id:ge}=ae,Q=q("GET_ITEM",ge);if(!Q||!w(Q.file)||Q.archived)return;const Ne=Q.file;if(!Qae(Ne)||!q("GET_IMAGE_PREVIEW_FILTER_ITEM")(Q))return;const qe="createImageBitmap"in(window||{}),z=q("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!qe&&z&&Ne.size>z)return;ce.ref.imagePreview=G.appendChildView(G.createChildView(S,{id:ge}));const we=ce.query("GET_IMAGE_PREVIEW_HEIGHT");we&&ce.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:Q.id,height:we});const je=!qe&&Ne.size>q("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");ce.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:ge},je)},fe=(ce,ae)=>{if(!ce.ref.imagePreview)return;let{id:ge}=ae;const Q=ce.query("GET_ITEM",{id:ge});if(!Q)return;const Ne=ce.query("GET_PANEL_ASPECT_RATIO"),qe=ce.query("GET_ITEM_PANEL_ASPECT_RATIO"),z=ce.query("GET_IMAGE_PREVIEW_HEIGHT");if(Ne||qe||z)return;let{imageWidth:we,imageHeight:je}=ce.ref;if(!we||!je)return;const dt=ce.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),_t=ce.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),Ee=(Q.getMetadata("exif")||{}).orientation||-1;if(Ee>=5&&Ee<=8&&([we,je]=[je,we]),!Uee(Q.file)||ce.query("GET_IMAGE_PREVIEW_UPSCALE")){const nt=2048/we;we*=nt,je*=nt}const pn=je/we,Tt=(Q.getMetadata("crop")||{}).aspectRatio||pn;let Rt=Math.max(dt,Math.min(je,_t));const B=ce.rect.element.width,It=Math.min(B*Tt,Rt);ce.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:Q.id,height:It})},re=({root:ce})=>{ce.ref.shouldRescale=!0},he=({root:ce,action:ae})=>{ae.change.key==="crop"&&(ce.ref.shouldRescale=!0)},ue=({root:ce,action:ae})=>{ce.ref.imageWidth=ae.width,ce.ref.imageHeight=ae.height,ce.ref.shouldRescale=!0,ce.ref.shouldDrawPreview=!0,ce.dispatch("KICK")};G.registerWriter(C({DID_RESIZE_ROOT:re,DID_STOP_RESIZE:re,DID_LOAD_ITEM:X,DID_IMAGE_PREVIEW_CALCULATE_SIZE:ue,DID_UPDATE_ITEM_METADATA:he},({root:ce,props:ae})=>{ce.ref.imagePreview&&(ce.rect.element.hidden||(ce.ref.shouldRescale&&(fe(ce,ae),ce.ref.shouldRescale=!1),ce.ref.shouldDrawPreview&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{ce.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:ae.id})})}),ce.ref.shouldDrawPreview=!1)))}))}),{options:{allowImagePreview:[!0,y.BOOLEAN],imagePreviewFilterItem:[()=>!0,y.FUNCTION],imagePreviewHeight:[null,y.INT],imagePreviewMinHeight:[44,y.INT],imagePreviewMaxHeight:[256,y.INT],imagePreviewMaxFileSize:[null,y.INT],imagePreviewZoomFactor:[2,y.INT],imagePreviewUpscale:[!1,y.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,y.INT],imagePreviewTransparencyIndicator:[null,y.STRING],imagePreviewCalculateAverageImageColor:[!1,y.BOOLEAN],imagePreviewMarkupShow:[!0,y.BOOLEAN],imagePreviewMarkupFilter:[()=>!0,y.FUNCTION]}}},jce=typeof window<"u"&&typeof window.document<"u";jce&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Wee}));/*!
 * FilePondPluginImageExifOrientation 1.0.11
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const Zce=a=>/^image\/jpeg/.test(a.type),JS={JPEG:65496,APP1:65505,EXIF:1165519206,TIFF:18761,Orientation:274,Unknown:65280},ex=(a,c,f=!1)=>a.getUint16(c,f),RQ=(a,c,f=!1)=>a.getUint32(c,f),Yce=a=>new Promise((c,f)=>{const y=new FileReader;y.onload=function(C){const w=new DataView(C.target.result);if(ex(w,0)!==JS.JPEG){c(-1);return}const S=w.byteLength;let D=2;for(;D<S;){const k=ex(w,D);if(D+=2,k===JS.APP1){if(RQ(w,D+=2)!==JS.EXIF)break;const G=ex(w,D+=6)===JS.TIFF;D+=RQ(w,D+4,G);const q=ex(w,D,G);D+=2;for(let X=0;X<q;X++)if(ex(w,D+X*12,G)===JS.Orientation){c(ex(w,D+X*12+8,G));return}}else{if((k&JS.Unknown)!==JS.Unknown)break;D+=ex(w,D)}}c(-1)},y.readAsArrayBuffer(a.slice(0,64*1024))}),Kce=(()=>typeof window<"u"&&typeof window.document<"u")(),Xce=()=>Kce,Qce="data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4QA6RXhpZgAATU0AKgAAAAgAAwESAAMAAAABAAYAAAEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAD/2wBDAP//////////////////////////////////////////////////////////////////////////////////////wAALCAABAAIBASIA/8QAJgABAAAAAAAAAAAAAAAAAAAAAxABAAAAAAAAAAAAAAAAAAAAAP/aAAgBAQAAPwBH/9k=";let Gee;const cH=Xce()?new Image:{};cH.onload=()=>Gee=cH.naturalWidth>cH.naturalHeight;cH.src=Qce;const Jce=()=>Gee,qee=({addFilter:a,utils:c})=>{const{Type:f,isFile:y}=c;return a("DID_LOAD_ITEM",(C,{query:w})=>new Promise((S,D)=>{const k=C.file;if(!y(k)||!Zce(k)||!w("GET_ALLOW_IMAGE_EXIF_ORIENTATION")||!Jce())return S(C);Yce(k).then(G=>{C.setMetadata("exif",{orientation:G}),S(C)})})),{options:{allowImageExifOrientation:[!0,f.BOOLEAN]}}},ele=typeof window<"u"&&typeof window.document<"u";ele&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:qee}));/*!
 * FilePondPluginImageCrop 2.0.6
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const IQ=a=>/^image/.test(a.type),tle=({addFilter:a,utils:c})=>{const{Type:f,isFile:y,getNumericAspectRatioFromString:C}=c,w=(G,q)=>!(!IQ(G.file)||!q("GET_ALLOW_IMAGE_CROP")),S=G=>typeof G=="object",D=G=>typeof G=="number",k=(G,q)=>G.setMetadata("crop",Object.assign({},G.getMetadata("crop"),q));return a("DID_CREATE_ITEM",(G,{query:q})=>{G.extend("setImageCrop",X=>{if(!(!w(G,q)||!S(center)))return G.setMetadata("crop",X),X}),G.extend("setImageCropCenter",X=>{if(!(!w(G,q)||!S(X)))return k(G,{center:X})}),G.extend("setImageCropZoom",X=>{if(!(!w(G,q)||!D(X)))return k(G,{zoom:Math.max(1,X)})}),G.extend("setImageCropRotation",X=>{if(!(!w(G,q)||!D(X)))return k(G,{rotation:X})}),G.extend("setImageCropFlip",X=>{if(!(!w(G,q)||!S(X)))return k(G,{flip:X})}),G.extend("setImageCropAspectRatio",X=>{if(!w(G,q)||typeof X>"u")return;const fe=G.getMetadata("crop"),re=C(X),he={center:{x:.5,y:.5},flip:fe?Object.assign({},fe.flip):{horizontal:!1,vertical:!1},rotation:0,zoom:1,aspectRatio:re};return G.setMetadata("crop",he),he})}),a("DID_LOAD_ITEM",(G,{query:q})=>new Promise((X,fe)=>{const re=G.file;if(!y(re)||!IQ(re)||!q("GET_ALLOW_IMAGE_CROP")||G.getMetadata("crop"))return X(G);const ue=q("GET_IMAGE_CROP_ASPECT_RATIO");G.setMetadata("crop",{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},rotation:0,zoom:1,aspectRatio:ue?C(ue):null}),X(G)})),{options:{allowImageCrop:[!0,f.BOOLEAN],imageCropAspectRatio:[null,f.STRING]}}},nle=typeof window<"u"&&typeof window.document<"u";nle&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:tle}));/*!
 * FilePondPluginImageResize 2.0.10
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const ole=a=>/^image/.test(a.type),sle=(a,c)=>{let f=new Image;f.onload=()=>{const y=f.naturalWidth,C=f.naturalHeight;f=null,c({width:y,height:C})},f.onerror=()=>c(null),f.src=a},jee=({addFilter:a,utils:c})=>{const{Type:f}=c;return a("DID_LOAD_ITEM",(y,{query:C})=>new Promise((w,S)=>{const D=y.file;if(!ole(D)||!C("GET_ALLOW_IMAGE_RESIZE"))return w(y);const k=C("GET_IMAGE_RESIZE_MODE"),G=C("GET_IMAGE_RESIZE_TARGET_WIDTH"),q=C("GET_IMAGE_RESIZE_TARGET_HEIGHT"),X=C("GET_IMAGE_RESIZE_UPSCALE");if(G===null&&q===null)return w(y);const fe=G===null?q:G,re=q===null?fe:q,he=URL.createObjectURL(D);sle(he,ue=>{if(URL.revokeObjectURL(he),!ue)return w(y);let{width:ce,height:ae}=ue;const ge=(y.getMetadata("exif")||{}).orientation||-1;if(ge>=5&&ge<=8&&([ce,ae]=[ae,ce]),ce===fe&&ae===re)return w(y);if(!X){if(k==="cover"){if(ce<=fe||ae<=re)return w(y)}else if(ce<=fe&&ae<=fe)return w(y)}y.setMetadata("resize",{mode:k,upscale:X,size:{width:fe,height:re}}),w(y)})})),{options:{allowImageResize:[!0,f.BOOLEAN],imageResizeMode:["cover",f.STRING],imageResizeUpscale:[!0,f.BOOLEAN],imageResizeTargetWidth:[null,f.INT],imageResizeTargetHeight:[null,f.INT]}}},rle=typeof window<"u"&&typeof window.document<"u";rle&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:jee}));/*!
 * FilePondPluginImageTransform 3.8.7
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const ile=a=>/^image/.test(a.type),ale=a=>a.substr(0,a.lastIndexOf("."))||a,cle={jpeg:"jpg","svg+xml":"svg"},lle=(a,c)=>{const f=ale(a),y=c.split("/")[1],C=cle[y]||y;return`${f}.${C}`},ule=a=>/jpeg|png|svg\+xml/.test(a)?a:"image/jpeg",dle=a=>/^image/.test(a.type),fle={1:()=>[1,0,0,1,0,0],2:a=>[-1,0,0,1,a,0],3:(a,c)=>[-1,0,0,-1,a,c],4:(a,c)=>[1,0,0,-1,0,c],5:()=>[0,1,1,0,0,0],6:(a,c)=>[0,1,-1,0,c,0],7:(a,c)=>[0,-1,-1,0,c,a],8:a=>[0,-1,1,0,0,a]},hle=(a,c,f)=>(f===-1&&(f=1),fle[f](a,c)),ek=(a,c)=>({x:a,y:c}),mle=(a,c)=>a.x*c.x+a.y*c.y,DQ=(a,c)=>ek(a.x-c.x,a.y-c.y),ple=(a,c)=>mle(DQ(a,c),DQ(a,c)),NQ=(a,c)=>Math.sqrt(ple(a,c)),MQ=(a,c)=>{const f=a,y=1.5707963267948966,C=c,w=1.5707963267948966-c,S=Math.sin(y),D=Math.sin(C),k=Math.sin(w),G=Math.cos(w),q=f/S,X=q*D,fe=q*k;return ek(G*X,G*fe)},gle=(a,c)=>{const f=a.width,y=a.height,C=MQ(f,c),w=MQ(y,c),S=ek(a.x+Math.abs(C.x),a.y-Math.abs(C.y)),D=ek(a.x+a.width+Math.abs(w.y),a.y+Math.abs(w.x)),k=ek(a.x-Math.abs(w.y),a.y+a.height-Math.abs(w.x));return{width:NQ(S,D),height:NQ(S,k)}},Zee=(a,c,f=0,y={x:.5,y:.5})=>{const C=y.x>.5?1-y.x:y.x,w=y.y>.5?1-y.y:y.y,S=C*2*a.width,D=w*2*a.height,k=gle(c,f);return Math.max(k.width/S,k.height/D)},Yee=(a,c)=>{let f=a.width,y=f*c;y>a.height&&(y=a.height,f=y/c);const C=(a.width-f)*.5,w=(a.height-y)*.5;return{x:C,y:w,width:f,height:y}},kQ=(a,c,f=1)=>{const y=a.height/a.width;let C=1,w=c,S=1,D=y;D>w&&(D=w,S=D/y);const k=Math.max(C/S,w/D),G=a.width/(f*k*S),q=G*c;return{width:G,height:q}},Kee=a=>{a.width=1,a.height=1,a.getContext("2d").clearRect(0,0,1,1)},PQ=a=>a&&(a.horizontal||a.vertical),vle=(a,c,f)=>{if(c<=1&&!PQ(f))return a.width=a.naturalWidth,a.height=a.naturalHeight,a;const y=document.createElement("canvas"),C=a.naturalWidth,w=a.naturalHeight,S=c>=5&&c<=8;S?(y.width=w,y.height=C):(y.width=C,y.height=w);const D=y.getContext("2d");if(c&&D.transform.apply(D,hle(C,w,c)),PQ(f)){const k=[1,0,0,1,0,0];(!S&&f.horizontal||S&f.vertical)&&(k[0]=-1,k[4]=C),(!S&&f.vertical||S&&f.horizontal)&&(k[3]=-1,k[5]=w),D.transform(...k)}return D.drawImage(a,0,0,C,w),y},ble=(a,c,f={},y={})=>{const{canvasMemoryLimit:C,background:w=null}=y,S=f.zoom||1,D=vle(a,c,f.flip),k={width:D.width,height:D.height},G=f.aspectRatio||k.height/k.width;let q=kQ(k,G,S);if(C){const Q=q.width*q.height;if(Q>C){const Ne=Math.sqrt(C)/Math.sqrt(Q);k.width=Math.floor(k.width*Ne),k.height=Math.floor(k.height*Ne),q=kQ(k,G,S)}}const X=document.createElement("canvas"),fe={x:q.width*.5,y:q.height*.5},re={x:0,y:0,width:q.width,height:q.height,center:fe},he=typeof f.scaleToFit>"u"||f.scaleToFit,ue=S*Zee(k,Yee(re,G),f.rotation,he?f.center:{x:.5,y:.5});X.width=Math.round(q.width/ue),X.height=Math.round(q.height/ue),fe.x/=ue,fe.y/=ue;const ce={x:fe.x-k.width*(f.center?f.center.x:.5),y:fe.y-k.height*(f.center?f.center.y:.5)},ae=X.getContext("2d");w&&(ae.fillStyle=w,ae.fillRect(0,0,X.width,X.height)),ae.translate(fe.x,fe.y),ae.rotate(f.rotation||0),ae.drawImage(D,ce.x-fe.x,ce.y-fe.y,k.width,k.height);const ge=ae.getImageData(0,0,X.width,X.height);return Kee(X),ge},yle=(()=>typeof window<"u"&&typeof window.document<"u")();yle&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(a,c,f){var y=this.toDataURL(c,f).split(",")[1];setTimeout(function(){for(var C=atob(y),w=C.length,S=new Uint8Array(w),D=0;D<w;D++)S[D]=C.charCodeAt(D);a(new Blob([S],{type:c||"image/png"}))})}}));const _le=(a,c,f=null)=>new Promise(y=>{const C=f?f(a):a;Promise.resolve(C).then(w=>{w.toBlob(y,c.type,c.quality)})}),SH=(a,c)=>nk(a.x*c,a.y*c),xH=(a,c)=>nk(a.x+c.x,a.y+c.y),Xee=a=>{const c=Math.sqrt(a.x*a.x+a.y*a.y);return c===0?{x:0,y:0}:nk(a.x/c,a.y/c)},Nw=(a,c,f)=>{const y=Math.cos(c),C=Math.sin(c),w=nk(a.x-f.x,a.y-f.y);return nk(f.x+y*w.x-C*w.y,f.y+C*w.x+y*w.y)},nk=(a=0,c=0)=>({x:a,y:c}),Gd=(a,c,f=1,y)=>{if(typeof a=="string")return parseFloat(a)*f;if(typeof a=="number")return a*(y?c[y]:Math.min(c.width,c.height))},mx=(a,c,f)=>{const y=a.borderStyle||a.lineStyle||"solid",C=a.backgroundColor||a.fontColor||"transparent",w=a.borderColor||a.lineColor||"transparent",S=Gd(a.borderWidth||a.lineWidth,c,f),D=a.lineCap||"round",k=a.lineJoin||"round",G=typeof y=="string"?"":y.map(X=>Gd(X,c,f)).join(","),q=a.opacity||1;return{"stroke-linecap":D,"stroke-linejoin":k,"stroke-width":S||0,"stroke-dasharray":G,stroke:w,fill:C,opacity:q}},Qg=a=>a!=null,nR=(a,c,f=1)=>{let y=Gd(a.x,c,f,"width")||Gd(a.left,c,f,"width"),C=Gd(a.y,c,f,"height")||Gd(a.top,c,f,"height"),w=Gd(a.width,c,f,"width"),S=Gd(a.height,c,f,"height"),D=Gd(a.right,c,f,"width"),k=Gd(a.bottom,c,f,"height");return Qg(C)||(Qg(S)&&Qg(k)?C=c.height-S-k:C=k),Qg(y)||(Qg(w)&&Qg(D)?y=c.width-w-D:y=D),Qg(w)||(Qg(y)&&Qg(D)?w=c.width-y-D:w=0),Qg(S)||(Qg(C)&&Qg(k)?S=c.height-C-k:S=0),{x:y||0,y:C||0,width:w||0,height:S||0}},Ele=a=>a.map((c,f)=>`${f===0?"M":"L"} ${c.x} ${c.y}`).join(" "),Kb=(a,c)=>Object.keys(c).forEach(f=>a.setAttribute(f,c[f])),wle="http://www.w3.org/2000/svg",$O=(a,c)=>{const f=document.createElementNS(wle,a);return c&&Kb(f,c),f},Tle=a=>Kb(a,{...a.rect,...a.styles}),Cle=a=>{const c=a.rect.x+a.rect.width*.5,f=a.rect.y+a.rect.height*.5,y=a.rect.width*.5,C=a.rect.height*.5;return Kb(a,{cx:c,cy:f,rx:y,ry:C,...a.styles})},Sle={contain:"xMidYMid meet",cover:"xMidYMid slice"},xle=(a,c)=>{Kb(a,{...a.rect,...a.styles,preserveAspectRatio:Sle[c.fit]||"none"})},Ale={left:"start",center:"middle",right:"end"},Ole=(a,c,f,y)=>{const C=Gd(c.fontSize,f,y),w=c.fontFamily||"sans-serif",S=c.fontWeight||"normal",D=Ale[c.textAlign]||"start";Kb(a,{...a.rect,...a.styles,"stroke-width":0,"font-weight":S,"font-size":C,"font-family":w,"text-anchor":D}),a.text!==c.text&&(a.text=c.text,a.textContent=c.text.length?c.text:" ")},Rle=(a,c,f,y)=>{Kb(a,{...a.rect,...a.styles,fill:"none"});const C=a.childNodes[0],w=a.childNodes[1],S=a.childNodes[2],D=a.rect,k={x:a.rect.x+a.rect.width,y:a.rect.y+a.rect.height};if(Kb(C,{x1:D.x,y1:D.y,x2:k.x,y2:k.y}),!c.lineDecoration)return;w.style.display="none",S.style.display="none";const G=Xee({x:k.x-D.x,y:k.y-D.y}),q=Gd(.05,f,y);if(c.lineDecoration.indexOf("arrow-begin")!==-1){const X=SH(G,q),fe=xH(D,X),re=Nw(D,2,fe),he=Nw(D,-2,fe);Kb(w,{style:"display:block;",d:`M${re.x},${re.y} L${D.x},${D.y} L${he.x},${he.y}`})}if(c.lineDecoration.indexOf("arrow-end")!==-1){const X=SH(G,-q),fe=xH(k,X),re=Nw(k,2,fe),he=Nw(k,-2,fe);Kb(S,{style:"display:block;",d:`M${re.x},${re.y} L${k.x},${k.y} L${he.x},${he.y}`})}},Ile=(a,c,f,y)=>{Kb(a,{...a.styles,fill:"none",d:Ele(c.points.map(C=>({x:Gd(C.x,f,y,"width"),y:Gd(C.y,f,y,"height")})))})},X5=a=>c=>$O(a,{id:c.id}),Dle=a=>{const c=$O("image",{id:a.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return c.onload=()=>{c.setAttribute("opacity",a.opacity||1)},c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a.src),c},Nle=a=>{const c=$O("g",{id:a.id,"stroke-linecap":"round","stroke-linejoin":"round"}),f=$O("line");c.appendChild(f);const y=$O("path");c.appendChild(y);const C=$O("path");return c.appendChild(C),c},Mle={image:Dle,rect:X5("rect"),ellipse:X5("ellipse"),text:X5("text"),path:X5("path"),line:Nle},kle={rect:Tle,ellipse:Cle,image:xle,text:Ole,path:Ile,line:Rle},Ple=(a,c)=>Mle[a](c),Lle=(a,c,f,y,C)=>{c!=="path"&&(a.rect=nR(f,y,C)),a.styles=mx(f,y,C),kle[c](a,f,y,C)},Qee=(a,c)=>a[1].zIndex>c[1].zIndex?1:a[1].zIndex<c[1].zIndex?-1:0,Ble=(a,c={},f,y)=>new Promise(C=>{const{background:w=null}=y,S=new FileReader;S.onloadend=()=>{const D=S.result,k=document.createElement("div");k.style.cssText="position:absolute;pointer-events:none;width:0;height:0;visibility:hidden;",k.innerHTML=D;const G=k.querySelector("svg");document.body.appendChild(k);const q=G.getBBox();k.parentNode.removeChild(k);const X=k.querySelector("title"),fe=G.getAttribute("viewBox")||"",re=G.getAttribute("width")||"",he=G.getAttribute("height")||"";let ue=parseFloat(re)||null,ce=parseFloat(he)||null;const ae=(re.match(/[a-z]+/)||[])[0]||"",ge=(he.match(/[a-z]+/)||[])[0]||"",Q=fe.split(" ").map(parseFloat),Ne=Q.length?{x:Q[0],y:Q[1],width:Q[2],height:Q[3]}:q;let qe=ue??Ne.width,z=ce??Ne.height;G.style.overflow="visible",G.setAttribute("width",qe),G.setAttribute("height",z);let we="";if(f&&f.length){const co={width:qe,height:z};we=f.sort(Qee).reduce((Ho,tt)=>{const Dt=Ple(tt[0],tt[1]);return Lle(Dt,tt[0],tt[1],co),Dt.removeAttribute("id"),Dt.getAttribute("opacity")===1&&Dt.removeAttribute("opacity"),Ho+`
`+Dt.outerHTML+`
`},""),we=`

<g>${we.replace(/&nbsp;/g," ")}</g>

`}const je=c.aspectRatio||z/qe,dt=qe,_t=dt*je,Pe=typeof c.scaleToFit>"u"||c.scaleToFit,Ee=c.center?c.center.x:.5,pn=c.center?c.center.y:.5,Tt=Zee({width:qe,height:z},Yee({width:dt,height:_t},je),c.rotation,Pe?{x:Ee,y:pn}:{x:.5,y:.5}),Rt=c.zoom*Tt,B=c.rotation*(180/Math.PI),It={x:dt*.5,y:_t*.5},nt={x:It.x-qe*Ee,y:It.y-z*pn},jt=[`rotate(${B} ${It.x} ${It.y})`,`translate(${It.x} ${It.y})`,`scale(${Rt})`,`translate(${-It.x} ${-It.y})`,`translate(${nt.x} ${nt.y})`],zt=c.flip&&c.flip.horizontal,Ze=c.flip&&c.flip.vertical,bo=[`scale(${zt?-1:1} ${Ze?-1:1})`,`translate(${zt?-qe:0} ${Ze?-z:0})`],Fo=`<?xml version="1.0" encoding="UTF-8"?>
<svg width="${dt}${ae}" height="${_t}${ge}" 
viewBox="0 0 ${dt} ${_t}" ${w?'style="background:'+w+'" ':""}
preserveAspectRatio="xMinYMin"
xmlns:xlink="http://www.w3.org/1999/xlink"
xmlns="http://www.w3.org/2000/svg">
<!-- Generated by PQINA - https://pqina.nl/ -->
<title>${X?X.textContent:""}</title>
<g transform="${jt.join(" ")}">
<g transform="${bo.join(" ")}">
${G.outerHTML}${we}
</g>
</g>
</svg>`;C(Fo)},S.readAsText(a)}),$le=a=>{let c;try{c=new ImageData(a.width,a.height)}catch{c=document.createElement("canvas").getContext("2d").createImageData(a.width,a.height)}return c.data.set(a.data),c},Fle=()=>{const a={resize:q,filter:G},c=(X,fe)=>(X.forEach(re=>{fe=a[re.type](fe,re.data)}),fe),f=(X,fe)=>{let re=X.transforms,he=null;if(re.forEach(ue=>{ue.type==="filter"&&(he=ue)}),he){let ue=null;re.forEach(ce=>{ce.type==="resize"&&(ue=ce)}),ue&&(ue.data.matrix=he.data,re=re.filter(ce=>ce.type!=="filter"))}fe(c(re,X.imageData))};self.onmessage=X=>{f(X.data.message,fe=>{self.postMessage({id:X.data.id,message:fe},[fe.data.buffer])})};const y=1,C=1,w=1;function S(X,fe,re){const he=fe[X]/255,ue=fe[X+1]/255,ce=fe[X+2]/255,ae=fe[X+3]/255,ge=he*re[0]+ue*re[1]+ce*re[2]+ae*re[3]+re[4],Q=he*re[5]+ue*re[6]+ce*re[7]+ae*re[8]+re[9],Ne=he*re[10]+ue*re[11]+ce*re[12]+ae*re[13]+re[14],qe=he*re[15]+ue*re[16]+ce*re[17]+ae*re[18]+re[19],z=Math.max(0,ge*qe)+y*(1-qe),we=Math.max(0,Q*qe)+C*(1-qe),je=Math.max(0,Ne*qe)+w*(1-qe);fe[X]=Math.max(0,Math.min(1,z))*255,fe[X+1]=Math.max(0,Math.min(1,we))*255,fe[X+2]=Math.max(0,Math.min(1,je))*255}const D=self.JSON.stringify([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]);function k(X){return self.JSON.stringify(X||[])===D}function G(X,fe){if(!fe||k(fe))return X;const re=X.data,he=re.length,ue=fe[0],ce=fe[1],ae=fe[2],ge=fe[3],Q=fe[4],Ne=fe[5],qe=fe[6],z=fe[7],we=fe[8],je=fe[9],dt=fe[10],_t=fe[11],Pe=fe[12],Ee=fe[13],pn=fe[14],Tt=fe[15],Rt=fe[16],B=fe[17],It=fe[18],nt=fe[19];let jt=0,zt=0,Ze=0,bo=0,Fo=0,co=0,Ho=0,tt=0,Dt=0,se=0,ls=0,fo=0;for(;jt<he;jt+=4)zt=re[jt]/255,Ze=re[jt+1]/255,bo=re[jt+2]/255,Fo=re[jt+3]/255,co=zt*ue+Ze*ce+bo*ae+Fo*ge+Q,Ho=zt*Ne+Ze*qe+bo*z+Fo*we+je,tt=zt*dt+Ze*_t+bo*Pe+Fo*Ee+pn,Dt=zt*Tt+Ze*Rt+bo*B+Fo*It+nt,se=Math.max(0,co*Dt)+y*(1-Dt),ls=Math.max(0,Ho*Dt)+C*(1-Dt),fo=Math.max(0,tt*Dt)+w*(1-Dt),re[jt]=Math.max(0,Math.min(1,se))*255,re[jt+1]=Math.max(0,Math.min(1,ls))*255,re[jt+2]=Math.max(0,Math.min(1,fo))*255;return X}function q(X,fe){let{mode:re="contain",upscale:he=!1,width:ue,height:ce,matrix:ae}=fe;if(ae=!ae||k(ae)?null:ae,!ue&&!ce)return G(X,ae);if(ue===null?ue=ce:ce===null&&(ce=ue),re!=="force"){let Ee=ue/X.width,pn=ce/X.height,Tt=1;if(re==="cover"?Tt=Math.max(Ee,pn):re==="contain"&&(Tt=Math.min(Ee,pn)),Tt>1&&he===!1)return G(X,ae);ue=X.width*Tt,ce=X.height*Tt}const ge=X.width,Q=X.height,Ne=Math.round(ue),qe=Math.round(ce),z=X.data,we=new Uint8ClampedArray(Ne*qe*4),je=ge/Ne,dt=Q/qe,_t=Math.ceil(je*.5),Pe=Math.ceil(dt*.5);for(let Ee=0;Ee<qe;Ee++)for(let pn=0;pn<Ne;pn++){let Tt=(pn+Ee*Ne)*4,Rt=0,B=0,It=0,nt=0,jt=0,zt=0,Ze=0,bo=(Ee+.5)*dt;for(let Fo=Math.floor(Ee*dt);Fo<(Ee+1)*dt;Fo++){let co=Math.abs(bo-(Fo+.5))/Pe,Ho=(pn+.5)*je,tt=co*co;for(let Dt=Math.floor(pn*je);Dt<(pn+1)*je;Dt++){let se=Math.abs(Ho-(Dt+.5))/_t,ls=Math.sqrt(tt+se*se);if(ls>=-1&&ls<=1&&(Rt=2*ls*ls*ls-3*ls*ls+1,Rt>0)){se=4*(Dt+Fo*ge);let fo=z[se+3];Ze+=Rt*fo,It+=Rt,fo<255&&(Rt=Rt*fo/250),nt+=Rt*z[se],jt+=Rt*z[se+1],zt+=Rt*z[se+2],B+=Rt}}}we[Tt]=nt/B,we[Tt+1]=jt/B,we[Tt+2]=zt/B,we[Tt+3]=Ze/It,ae&&S(Tt,we,ae)}return{data:we,width:Ne,height:qe}}},Hle=(a,c)=>{if(a.getUint32(c+4,!1)!==1165519206)return;c+=4;const f=a.getUint16(c+=6,!1)===18761;c+=a.getUint32(c+4,f);const y=a.getUint16(c,f);c+=2;for(let C=0;C<y;C++)if(a.getUint16(c+C*12,f)===274)return a.setUint16(c+C*12+8,1,f),!0;return!1},Vle=a=>{const c=new DataView(a);if(c.getUint16(0)!==65496)return null;let f=2,y,C,w=!1;for(;f<c.byteLength&&(y=c.getUint16(f,!1),C=c.getUint16(f+2,!1)+2,!(!(y>=65504&&y<=65519||y===65534)||(w||(w=Hle(c,f)),f+C>c.byteLength)));)f+=C;return a.slice(0,f)},zle=a=>new Promise(c=>{const f=new FileReader;f.onload=()=>c(Vle(f.result)||null),f.readAsArrayBuffer(a.slice(0,256*1024))}),Ule=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,Wle=(a,c)=>{const f=Ule();if(f){const y=new f;return y.append(a),y.getBlob(c)}return new Blob([a],{type:c})},Gle=()=>Math.random().toString(36).substr(2,9),qle=a=>{const c=new Blob(["(",a.toString(),")()"],{type:"application/javascript"}),f=URL.createObjectURL(c),y=new Worker(f),C=[];return{transfer:()=>{},post:(w,S,D)=>{const k=Gle();C[k]=S,y.onmessage=G=>{const q=C[G.data.id];q&&(q(G.data.message),delete C[G.data.id])},y.postMessage({id:k,message:w},D)},terminate:()=>{y.terminate(),URL.revokeObjectURL(f)}}},jle=a=>new Promise((c,f)=>{const y=new Image;y.onload=()=>{c(y)},y.onerror=C=>{f(C)},y.src=a}),Zle=a=>a.reduce((c,f)=>c.then(y=>f().then(Array.prototype.concat.bind(y))),Promise.resolve([])),Yle=(a,c)=>new Promise(f=>{const y={width:a.width,height:a.height},C=a.getContext("2d"),w=c.sort(Qee).map(S=>()=>new Promise(D=>{nue[S[0]](C,y,S[1],D)&&D()}));Zle(w).then(()=>f(a))}),oR=(a,c)=>{a.beginPath(),a.lineCap=c["stroke-linecap"],a.lineJoin=c["stroke-linejoin"],a.lineWidth=c["stroke-width"],c["stroke-dasharray"].length&&a.setLineDash(c["stroke-dasharray"].split(",")),a.fillStyle=c.fill,a.strokeStyle=c.stroke,a.globalAlpha=c.opacity||1},sR=a=>{a.fill(),a.stroke(),a.globalAlpha=1},Kle=(a,c,f)=>{const y=nR(f,c),C=mx(f,c);return oR(a,C),a.rect(y.x,y.y,y.width,y.height),sR(a),!0},Xle=(a,c,f)=>{const y=nR(f,c),C=mx(f,c);oR(a,C);const w=y.x,S=y.y,D=y.width,k=y.height,G=.5522848,q=D/2*G,X=k/2*G,fe=w+D,re=S+k,he=w+D/2,ue=S+k/2;return a.moveTo(w,ue),a.bezierCurveTo(w,ue-X,he-q,S,he,S),a.bezierCurveTo(he+q,S,fe,ue-X,fe,ue),a.bezierCurveTo(fe,ue+X,he+q,re,he,re),a.bezierCurveTo(he-q,re,w,ue+X,w,ue),sR(a),!0},Qle=(a,c,f,y)=>{const C=nR(f,c),w=mx(f,c);oR(a,w);const S=new Image;new URL(f.src,window.location.href).origin!==window.location.origin&&(S.crossOrigin=""),S.onload=()=>{if(f.fit==="cover"){const k=C.width/C.height,G=k>1?S.width:S.height*k,q=k>1?S.width/k:S.height,X=S.width*.5-G*.5,fe=S.height*.5-q*.5;a.drawImage(S,X,fe,G,q,C.x,C.y,C.width,C.height)}else if(f.fit==="contain"){const k=Math.min(C.width/S.width,C.height/S.height),G=k*S.width,q=k*S.height,X=C.x+C.width*.5-G*.5,fe=C.y+C.height*.5-q*.5;a.drawImage(S,0,0,S.width,S.height,X,fe,G,q)}else a.drawImage(S,0,0,S.width,S.height,C.x,C.y,C.width,C.height);sR(a),y()},S.src=f.src},Jle=(a,c,f)=>{const y=nR(f,c),C=mx(f,c);oR(a,C);const w=Gd(f.fontSize,c),S=f.fontFamily||"sans-serif",D=f.fontWeight||"normal",k=f.textAlign||"left";return a.font=`${D} ${w}px ${S}`,a.textAlign=k,a.fillText(f.text,y.x,y.y),sR(a),!0},eue=(a,c,f)=>{const y=mx(f,c);oR(a,y),a.beginPath();const C=f.points.map(S=>({x:Gd(S.x,c,1,"width"),y:Gd(S.y,c,1,"height")}));a.moveTo(C[0].x,C[0].y);const w=C.length;for(let S=1;S<w;S++)a.lineTo(C[S].x,C[S].y);return sR(a),!0},tue=(a,c,f)=>{const y=nR(f,c),C=mx(f,c);oR(a,C),a.beginPath();const w={x:y.x,y:y.y},S={x:y.x+y.width,y:y.y+y.height};a.moveTo(w.x,w.y),a.lineTo(S.x,S.y);const D=Xee({x:S.x-w.x,y:S.y-w.y}),k=.04*Math.min(c.width,c.height);if(f.lineDecoration.indexOf("arrow-begin")!==-1){const G=SH(D,k),q=xH(w,G),X=Nw(w,2,q),fe=Nw(w,-2,q);a.moveTo(X.x,X.y),a.lineTo(w.x,w.y),a.lineTo(fe.x,fe.y)}if(f.lineDecoration.indexOf("arrow-end")!==-1){const G=SH(D,-k),q=xH(S,G),X=Nw(S,2,q),fe=Nw(S,-2,q);a.moveTo(X.x,X.y),a.lineTo(S.x,S.y),a.lineTo(fe.x,fe.y)}return sR(a),!0},nue={rect:Kle,ellipse:Xle,image:Qle,text:Jle,line:tue,path:eue},oue=a=>{const c=document.createElement("canvas");return c.width=a.width,c.height=a.height,c.getContext("2d").putImageData(a,0,0),c},sue=(a,c,f={})=>new Promise((y,C)=>{if(!a||!dle(a))return C({status:"not an image file",file:a});const{stripImageHead:w,beforeCreateBlob:S,afterCreateBlob:D,canvasMemoryLimit:k}=f,{crop:G,size:q,filter:X,markup:fe,output:re}=c,he=c.image&&c.image.orientation?Math.max(1,Math.min(8,c.image.orientation)):null,ue=re&&re.quality,ce=ue===null?null:ue/100,ae=re&&re.type||null,ge=re&&re.background||null,Q=[];q&&(typeof q.width=="number"||typeof q.height=="number")&&Q.push({type:"resize",data:q}),X&&X.length===20&&Q.push({type:"filter",data:X});const Ne=we=>{const je=D?D(we):we;Promise.resolve(je).then(y)},qe=(we,je)=>{const dt=oue(we),_t=fe.length?Yle(dt,fe):dt;Promise.resolve(_t).then(Pe=>{_le(Pe,je,S).then(Ee=>{if(Kee(Pe),w)return Ne(Ee);zle(a).then(pn=>{pn!==null&&(Ee=new Blob([pn,Ee.slice(20)],{type:Ee.type})),Ne(Ee)})}).catch(C)})};if(/svg/.test(a.type)&&ae===null)return Ble(a,G,fe,{background:ge}).then(we=>{y(Wle(we,"image/svg+xml"))});const z=URL.createObjectURL(a);jle(z).then(we=>{URL.revokeObjectURL(z);const je=ble(we,he,G,{canvasMemoryLimit:k,background:ge}),dt={quality:ce,type:ae||a.type};if(!Q.length)return qe(je,dt);const _t=qle(Fle);_t.post({transforms:Q,imageData:je},Pe=>{qe($le(Pe),dt),_t.terminate()},[je.data.buffer])}).catch(C)}),rue=["x","y","left","top","right","bottom","width","height"],iue=a=>typeof a=="string"&&/%/.test(a)?parseFloat(a)/100:a,aue=a=>{const[c,f]=a,y=f.points?{}:rue.reduce((C,w)=>(C[w]=iue(f[w]),C),{});return[c,{zIndex:0,...f,...y}]},cue=a=>new Promise((c,f)=>{const y=new Image;y.src=URL.createObjectURL(a);const C=()=>{const S=y.naturalWidth,D=y.naturalHeight;S&&D&&(URL.revokeObjectURL(y.src),clearInterval(w),c({width:S,height:D}))};y.onerror=S=>{URL.revokeObjectURL(y.src),clearInterval(w),f(S)};const w=setInterval(C,1);C()});typeof window<"u"&&typeof window.document<"u"&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(a,c,f){const y=this;setTimeout(()=>{const C=y.toDataURL(c,f).split(",")[1],w=atob(C);let S=w.length;const D=new Uint8Array(S);for(;S--;)D[S]=w.charCodeAt(S);a(new Blob([D],{type:c||"image/png"}))})}}));const OY=typeof window<"u"&&typeof window.document<"u",lue=OY&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,uue=({addFilter:a,utils:c})=>{const{Type:f,forin:y,getFileFromBlob:C,isFile:w}=c,S=["crop","resize","filter","markup","output"],D=q=>(X,fe,re)=>X(fe,q?q(re):re),k=q=>q.aspectRatio===null&&q.rotation===0&&q.zoom===1&&q.center&&q.center.x===.5&&q.center.y===.5&&q.flip&&q.flip.horizontal===!1&&q.flip.vertical===!1;a("SHOULD_PREPARE_OUTPUT",(q,{query:X})=>new Promise(fe=>{fe(!X("IS_ASYNC"))}));const G=(q,X,fe)=>new Promise(re=>{if(!q("GET_ALLOW_IMAGE_TRANSFORM")||fe.archived||!w(X)||!ile(X))return re(!1);cue(X).then(()=>{const he=q("GET_IMAGE_TRANSFORM_IMAGE_FILTER");if(he){const ue=he(X);if(ue==null)return handleRevert(!0);if(typeof ue=="boolean")return re(ue);if(typeof ue.then=="function")return ue.then(re)}re(!0)}).catch(he=>{re(!1)})});return a("DID_CREATE_ITEM",(q,{query:X,dispatch:fe})=>{X("GET_ALLOW_IMAGE_TRANSFORM")&&q.extend("requestPrepare",()=>new Promise((re,he)=>{fe("REQUEST_PREPARE_OUTPUT",{query:q.id,item:q,success:re,failure:he},!0)}))}),a("PREPARE_OUTPUT",(q,{query:X,item:fe})=>new Promise(re=>{G(X,q,fe).then(he=>{if(!he)return re(q);const ue=[];X("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_ORIGINAL")&&ue.push(()=>new Promise(je=>{je({name:X("GET_IMAGE_TRANSFORM_VARIANTS_ORIGINAL_NAME"),file:q})})),X("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_DEFAULT")&&ue.push((je,dt,_t)=>new Promise(Pe=>{je(dt,_t).then(Ee=>Pe({name:X("GET_IMAGE_TRANSFORM_VARIANTS_DEFAULT_NAME"),file:Ee}))}));const ce=X("GET_IMAGE_TRANSFORM_VARIANTS")||{};y(ce,(je,dt)=>{const _t=D(dt);ue.push((Pe,Ee,pn)=>new Promise(Tt=>{_t(Pe,Ee,pn).then(Rt=>Tt({name:je,file:Rt}))}))});const ae=X("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY"),ge=X("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY_MODE"),Q=ae===null?null:ae/100,Ne=X("GET_IMAGE_TRANSFORM_OUTPUT_MIME_TYPE"),qe=X("GET_IMAGE_TRANSFORM_CLIENT_TRANSFORMS")||S;fe.setMetadata("output",{type:Ne,quality:Q,client:qe},!0);const z=(je,dt)=>new Promise((_t,Pe)=>{const Ee={...dt};Object.keys(Ee).filter(Ze=>Ze!=="exif").forEach(Ze=>{qe.indexOf(Ze)===-1&&delete Ee[Ze]});const{resize:pn,exif:Tt,output:Rt,crop:B,filter:It,markup:nt}=Ee,jt={image:{orientation:Tt?Tt.orientation:null},output:Rt&&(Rt.type||typeof Rt.quality=="number"||Rt.background)?{type:Rt.type,quality:typeof Rt.quality=="number"?Rt.quality*100:null,background:Rt.background||X("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR")||null}:void 0,size:pn&&(pn.size.width||pn.size.height)?{mode:pn.mode,upscale:pn.upscale,...pn.size}:void 0,crop:B&&!k(B)?{...B}:void 0,markup:nt&&nt.length?nt.map(aue):[],filter:It};if(jt.output){const Ze=Rt.type?Rt.type!==je.type:!1,bo=/\/jpe?g$/.test(je.type),Fo=Rt.quality!==null?bo&&ge==="always":!1;if(!!!(jt.size||jt.crop||jt.filter||Ze||Fo))return _t(je)}const zt={beforeCreateBlob:X("GET_IMAGE_TRANSFORM_BEFORE_CREATE_BLOB"),afterCreateBlob:X("GET_IMAGE_TRANSFORM_AFTER_CREATE_BLOB"),canvasMemoryLimit:X("GET_IMAGE_TRANSFORM_CANVAS_MEMORY_LIMIT"),stripImageHead:X("GET_IMAGE_TRANSFORM_OUTPUT_STRIP_IMAGE_HEAD")};sue(je,jt,zt).then(Ze=>{const bo=C(Ze,lle(je.name,ule(Ze.type)));_t(bo)}).catch(Pe)}),we=ue.map(je=>je(z,q,fe.getMetadata()));Promise.all(we).then(je=>{re(je.length===1&&je[0].name===null?je[0].file:je)})})})),{options:{allowImageTransform:[!0,f.BOOLEAN],imageTransformImageFilter:[null,f.FUNCTION],imageTransformOutputMimeType:[null,f.STRING],imageTransformOutputQuality:[null,f.INT],imageTransformOutputStripImageHead:[!0,f.BOOLEAN],imageTransformClientTransforms:[null,f.ARRAY],imageTransformOutputQualityMode:["always",f.STRING],imageTransformVariants:[null,f.OBJECT],imageTransformVariantsIncludeDefault:[!0,f.BOOLEAN],imageTransformVariantsDefaultName:[null,f.STRING],imageTransformVariantsIncludeOriginal:[!1,f.BOOLEAN],imageTransformVariantsOriginalName:["original_",f.STRING],imageTransformBeforeCreateBlob:[null,f.FUNCTION],imageTransformAfterCreateBlob:[null,f.FUNCTION],imageTransformCanvasMemoryLimit:[OY&&lue?4096*4096:null,f.INT],imageTransformCanvasBackgroundColor:[null,f.STRING]}}};OY&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:uue}));/*!
 * FilePondPluginImageEdit 1.6.3
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const sZ=a=>/^image/.test(a.type),due=a=>{const{addFilter:c,utils:f,views:y}=a,{Type:C,createRoute:w,createItemAPI:S=q=>q}=f,{fileActionButton:D}=y;c("SHOULD_REMOVE_ON_REVERT",(q,{item:X,query:fe})=>new Promise(re=>{const{file:he}=X,ue=fe("GET_ALLOW_IMAGE_EDIT")&&fe("GET_IMAGE_EDIT_ALLOW_EDIT")&&sZ(he);re(!ue)})),c("DID_LOAD_ITEM",(q,{query:X,dispatch:fe})=>new Promise((re,he)=>{if(q.origin>1){re(q);return}const{file:ue}=q;if(!X("GET_ALLOW_IMAGE_EDIT")||!X("GET_IMAGE_EDIT_INSTANT_EDIT")){re(q);return}if(!sZ(ue)){re(q);return}const ce=(ge,Q,Ne)=>qe=>{k.shift(),qe?Q(ge):Ne(ge),fe("KICK"),ae()},ae=()=>{if(!k.length)return;const{item:ge,resolve:Q,reject:Ne}=k[0];fe("EDIT_ITEM",{id:ge.id,handleEditorResponse:ce(ge,Q,Ne)})};G({item:q,resolve:re,reject:he}),k.length===1&&ae()})),c("DID_CREATE_ITEM",(q,{query:X,dispatch:fe})=>{q.extend("edit",()=>{fe("EDIT_ITEM",{id:q.id})})});const k=[],G=q=>(k.push(q),q);return c("CREATE_VIEW",q=>{const{is:X,view:fe,query:re}=q;if(!re("GET_ALLOW_IMAGE_EDIT"))return;const he=re("GET_ALLOW_IMAGE_PREVIEW");if(!(X("file-info")&&!he||X("file")&&he))return;const ce=re("GET_IMAGE_EDIT_EDITOR");if(!ce)return;ce.filepondCallbackBridge||(ce.outputData=!0,ce.outputFile=!1,ce.filepondCallbackBridge={onconfirm:ce.onconfirm||(()=>{}),oncancel:ce.oncancel||(()=>{})});const ae=({root:Ne,props:qe,action:z})=>{const{id:we}=qe,{handleEditorResponse:je}=z;ce.cropAspectRatio=Ne.query("GET_IMAGE_CROP_ASPECT_RATIO")||ce.cropAspectRatio,ce.outputCanvasBackgroundColor=Ne.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR")||ce.outputCanvasBackgroundColor;const dt=Ne.query("GET_ITEM",we);if(!dt)return;const _t=dt.file,Pe=dt.getMetadata("crop"),Ee={center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},pn=dt.getMetadata("resize"),Tt=dt.getMetadata("filter")||null,Rt=dt.getMetadata("filters")||null,B=dt.getMetadata("colors")||null,It=dt.getMetadata("markup")||null,nt={crop:Pe||Ee,size:pn?{upscale:pn.upscale,mode:pn.mode,width:pn.size.width,height:pn.size.height}:null,filter:Rt?Rt.id||Rt.matrix:Ne.query("GET_ALLOW_IMAGE_FILTER")&&Ne.query("GET_IMAGE_FILTER_COLOR_MATRIX")&&!B?Tt:null,color:B,markup:It};ce.onconfirm=({data:jt})=>{const{crop:zt,size:Ze,filter:bo,color:Fo,colorMatrix:co,markup:Ho}=jt,tt={};if(zt&&(tt.crop=zt),Ze){const Dt=(dt.getMetadata("resize")||{}).size,se={width:Ze.width,height:Ze.height};!(se.width&&se.height)&&Dt&&(se.width=Dt.width,se.height=Dt.height),(se.width||se.height)&&(tt.resize={upscale:Ze.upscale,mode:Ze.mode,size:se})}Ho&&(tt.markup=Ho),tt.colors=Fo,tt.filters=bo,tt.filter=co,dt.setMetadata(tt),ce.filepondCallbackBridge.onconfirm(jt,S(dt)),je&&(ce.onclose=()=>{je(!0),ce.onclose=null})},ce.oncancel=()=>{ce.filepondCallbackBridge.oncancel(S(dt)),je&&(ce.onclose=()=>{je(!1),ce.onclose=null})},ce.open(_t,nt)},ge=({root:Ne,props:qe})=>{if(!re("GET_IMAGE_EDIT_ALLOW_EDIT"))return;const{id:z}=qe,we=re("GET_ITEM",z);if(!we)return;const je=we.file;if(sZ(je))if(Ne.ref.handleEdit=dt=>{dt.stopPropagation(),Ne.dispatch("EDIT_ITEM",{id:z})},he){const dt=fe.createChildView(D,{label:"edit",icon:re("GET_IMAGE_EDIT_ICON_EDIT"),opacity:0});dt.element.classList.add("filepond--action-edit-item"),dt.element.dataset.align=re("GET_STYLE_IMAGE_EDIT_BUTTON_EDIT_ITEM_POSITION"),dt.on("click",Ne.ref.handleEdit),Ne.ref.buttonEditItem=fe.appendChildView(dt)}else{const dt=fe.element.querySelector(".filepond--file-info-main"),_t=document.createElement("button");_t.className="filepond--action-edit-item-alt",_t.innerHTML=re("GET_IMAGE_EDIT_ICON_EDIT")+"<span>edit</span>",_t.addEventListener("click",Ne.ref.handleEdit),dt.appendChild(_t),Ne.ref.editButton=_t}};fe.registerDestroyer(({root:Ne})=>{Ne.ref.buttonEditItem&&Ne.ref.buttonEditItem.off("click",Ne.ref.handleEdit),Ne.ref.editButton&&Ne.ref.editButton.removeEventListener("click",Ne.ref.handleEdit)});const Q={EDIT_ITEM:ae,DID_LOAD_ITEM:ge};if(he){const Ne=({root:qe})=>{qe.ref.buttonEditItem&&(qe.ref.buttonEditItem.opacity=1)};Q.DID_IMAGE_PREVIEW_SHOW=Ne}fe.registerWriter(w(Q))}),{options:{allowImageEdit:[!0,C.BOOLEAN],styleImageEditButtonEditItemPosition:["bottom center",C.STRING],imageEditInstantEdit:[!1,C.BOOLEAN],imageEditAllowEdit:[!0,C.BOOLEAN],imageEditIconEdit:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false"><path d="M8.5 17h1.586l7-7L15.5 8.414l-7 7V17zm-1.707-2.707l8-8a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-8 8A1 1 0 0 1 10.5 19h-3a1 1 0 0 1-1-1v-3a1 1 0 0 1 .293-.707z" fill="currentColor" fill-rule="nonzero"/></svg>',C.STRING],imageEditEditor:[null,C.OBJECT]}}},fue=typeof window<"u"&&typeof window.document<"u";fue&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:due}));/*!
 * FilePondPluginFileEncode 2.1.10
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const hue=function(){self.onmessage=c=>{a(c.data.message,f=>{self.postMessage({id:c.data.id,message:f})})};const a=(c,f)=>{const{file:y}=c,C=new FileReader;C.onloadend=()=>{f(C.result.replace("data:","").replace(/^.+,/,""))},C.readAsDataURL(y)}},Jee=({addFilter:a,utils:c})=>{const{Type:f,createWorker:y,createRoute:C,isFile:w}=c,S=({name:k,file:G})=>new Promise(q=>{const X=y(hue);X.post({file:G},fe=>{q({name:k,data:fe}),X.terminate()})}),D=[];return a("DID_CREATE_ITEM",(k,{query:G})=>{G("GET_ALLOW_FILE_ENCODE")&&(k.extend("getFileEncodeBase64String",()=>D[k.id]&&D[k.id].data),k.extend("getFileEncodeDataURL",()=>`data:${k.fileType};base64,${D[k.id].data}`))}),a("SHOULD_PREPARE_OUTPUT",(k,{query:G})=>new Promise(q=>{q(G("GET_ALLOW_FILE_ENCODE"))})),a("COMPLETE_PREPARE_OUTPUT",(k,{item:G,query:q})=>new Promise(X=>{if(!q("GET_ALLOW_FILE_ENCODE")||!w(k)&&!Array.isArray(k))return X(k);D[G.id]={metadata:G.getMetadata(),data:null},Promise.all((k instanceof Blob?[{name:null,file:k}]:k).map(S)).then(fe=>{D[G.id].data=k instanceof Blob?fe[0].data:fe,X(k)})})),a("CREATE_VIEW",k=>{const{is:G,view:q,query:X}=k;!G("file-wrapper")||!X("GET_ALLOW_FILE_ENCODE")||q.registerWriter(C({DID_PREPARE_OUTPUT:({root:fe,action:re})=>{if(X("IS_ASYNC"))return;const he=X("GET_ITEM",re.id);if(!he)return;const ue=D[he.id],ce=ue.metadata,ae=ue.data,ge=JSON.stringify({id:he.id,name:he.file.name,type:he.file.type,size:he.file.size,metadata:ce,data:ae});fe.ref.data?fe.ref.data.value=ge:fe.dispatch("DID_DEFINE_VALUE",{id:he.id,value:ge})},DID_REMOVE_ITEM:({action:fe})=>{const re=X("GET_ITEM",fe.id);re&&delete D[re.id]}}))}),{options:{allowFileEncode:[!0,f.BOOLEAN]}}},mue=typeof window<"u"&&typeof window.document<"u";mue&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Jee}));/*!
 * FilePondPluginFilePoster 2.5.1
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const LQ={type:"spring",stiffness:.5,damping:.45,mass:10},pue=a=>a.utils.createView({name:"file-poster",tag:"div",ignoreRect:!0,create:({root:c})=>{c.ref.image=document.createElement("img"),c.element.appendChild(c.ref.image)},write:a.utils.createRoute({DID_FILE_POSTER_LOAD:({root:c,props:f})=>{const{id:y}=f,C=c.query("GET_ITEM",{id:f.id});if(!C)return;const w=C.getMetadata("poster");c.ref.image.src=w,c.dispatch("DID_FILE_POSTER_DRAW",{id:y})}}),mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:LQ,scaleY:LQ,opacity:{type:"tween",duration:750}}}}),gue=(a,c)=>{c.width=a.width,c.height=a.height,c.getContext("2d").drawImage(a,0,0)},vue=a=>a.utils.createView({name:"file-poster-overlay",tag:"canvas",ignoreRect:!0,create:({root:c,props:f})=>{gue(f.template,c.element)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}}),bue=(a,c)=>{let f=new Image;f.onload=()=>{const y=f.naturalWidth,C=f.naturalHeight;f=null,c(y,C)},f.src=a},yue=a=>-.5*(Math.cos(Math.PI*a)-1),_ue=(a,c,f=1,y=yue,C=10,w=0)=>{const S=1-w,D=c.join(",");for(let k=0;k<=C;k++){const G=k/C,q=w+S*G;a.addColorStop(q,`rgba(${D}, ${y(G)*f})`)}},Eue=10,wue=10,Tue=a=>{const c=Math.min(Eue/a.width,wue/a.height),f=document.createElement("canvas"),y=f.getContext("2d"),C=f.width=Math.ceil(a.width*c),w=f.height=Math.ceil(a.height*c);y.drawImage(a,0,0,C,w);let S=null;try{S=y.getImageData(0,0,C,w).data}catch{return null}const D=S.length;let k=0,G=0,q=0,X=0;for(;X<D;X+=4)k+=S[X]*S[X],G+=S[X+1]*S[X+1],q+=S[X+2]*S[X+2];return k=rZ(k,D),G=rZ(G,D),q=rZ(q,D),{r:k,g:G,b:q}},rZ=(a,c)=>Math.floor(Math.sqrt(a/(c/4))),VO=(a,c,f,y,C)=>{a.width=c,a.height=f;const w=a.getContext("2d"),S=c*.5,D=w.createRadialGradient(S,f+110,f-100,S,f+110,f+100);_ue(D,y,C,void 0,8,.4),w.save(),w.translate(-c*.5,0),w.scale(2,1),w.fillStyle=D,w.fillRect(0,0,c,f),w.restore()},jH=typeof navigator<"u",zO=500,UO=200,WZ=jH&&document.createElement("canvas"),GZ=jH&&document.createElement("canvas"),qZ=jH&&document.createElement("canvas");let lH=[40,40,40],uH=[196,78,71],dH=[54,151,99];jH&&(VO(WZ,zO,UO,lH,.85),VO(GZ,zO,UO,uH,1),VO(qZ,zO,UO,dH,1));const Cue=(a,c)=>new Promise((f,y)=>{const C=new Image;typeof crossOrigin=="string"&&(C.crossOrigin=c),C.onload=()=>{f(C)},C.onerror=w=>{y(w)},C.src=a}),Sue=a=>{const c=vue(a),f=({root:G,props:q})=>{const{id:X}=q,fe=G.query("GET_ITEM",X);if(!fe)return;const re=fe.getMetadata("poster"),he=ue=>{const ce=G.query("GET_FILE_POSTER_CALCULATE_AVERAGE_IMAGE_COLOR")?Tue(ue):null;fe.setMetadata("color",ce,!0),G.dispatch("DID_FILE_POSTER_LOAD",{id:X,data:ue})};bue(re,(ue,ce)=>{G.dispatch("DID_FILE_POSTER_CALCULATE_SIZE",{id:X,width:ue,height:ce}),Cue(re,G.query("GET_FILE_POSTER_CROSS_ORIGIN_ATTRIBUTE_VALUE")).then(he)})},y=({root:G})=>{G.ref.overlayShadow.opacity=1},C=({root:G})=>{const{image:q}=G.ref;q.scaleX=1,q.scaleY=1,q.opacity=1},w=({root:G})=>{G.ref.overlayShadow.opacity=1,G.ref.overlayError.opacity=0,G.ref.overlaySuccess.opacity=0},S=({root:G})=>{G.ref.overlayShadow.opacity=.25,G.ref.overlayError.opacity=1},D=({root:G})=>{G.ref.overlayShadow.opacity=.25,G.ref.overlaySuccess.opacity=1},k=({root:G,props:q})=>{const X=G.query("GET_FILE_POSTER_ITEM_OVERLAY_SHADOW_COLOR"),fe=G.query("GET_FILE_POSTER_ITEM_OVERLAY_ERROR_COLOR"),re=G.query("GET_FILE_POSTER_ITEM_OVERLAY_SUCCESS_COLOR");X&&X!==lH&&(lH=X,VO(WZ,zO,UO,lH,.85)),fe&&fe!==uH&&(uH=fe,VO(GZ,zO,UO,uH,1)),re&&re!==dH&&(dH=re,VO(qZ,zO,UO,dH,1));const he=pue(a);G.ref.image=G.appendChildView(G.createChildView(he,{id:q.id,scaleX:1.25,scaleY:1.25,opacity:0})),G.ref.overlayShadow=G.appendChildView(G.createChildView(c,{template:WZ,opacity:0})),G.ref.overlaySuccess=G.appendChildView(G.createChildView(c,{template:qZ,opacity:0})),G.ref.overlayError=G.appendChildView(G.createChildView(c,{template:GZ,opacity:0}))};return a.utils.createView({name:"file-poster-wrapper",create:k,write:a.utils.createRoute({DID_FILE_POSTER_LOAD:y,DID_FILE_POSTER_DRAW:C,DID_FILE_POSTER_CONTAINER_CREATE:f,DID_THROW_ITEM_LOAD_ERROR:S,DID_THROW_ITEM_PROCESSING_ERROR:S,DID_THROW_ITEM_INVALID:S,DID_COMPLETE_ITEM_PROCESSING:D,DID_START_ITEM_PROCESSING:w,DID_REVERT_ITEM_PROCESSING:w})})},ete=a=>{const{addFilter:c,utils:f}=a,{Type:y,createRoute:C}=f,w=Sue(a);return c("CREATE_VIEW",S=>{const{is:D,view:k,query:G}=S;if(!D("file")||!G("GET_ALLOW_FILE_POSTER"))return;const q=({root:ue,props:ce})=>{fe(ue,ce)},X=({root:ue,props:ce,action:ae})=>{/poster/.test(ae.change.key)&&fe(ue,ce)},fe=(ue,ce)=>{const{id:ae}=ce,ge=G("GET_ITEM",ae);!ge||!ge.getMetadata("poster")||ge.archived||ue.ref.previousPoster!==ge.getMetadata("poster")&&(ue.ref.previousPoster=ge.getMetadata("poster"),G("GET_FILE_POSTER_FILTER_ITEM")(ge)&&(ue.ref.filePoster&&k.removeChildView(ue.ref.filePoster),ue.ref.filePoster=k.appendChildView(k.createChildView(w,{id:ae})),ue.dispatch("DID_FILE_POSTER_CONTAINER_CREATE",{id:ae})))},re=({root:ue,action:ce})=>{ue.ref.filePoster&&(ue.ref.imageWidth=ce.width,ue.ref.imageHeight=ce.height,ue.ref.shouldUpdatePanelHeight=!0,ue.dispatch("KICK"))},he=({root:ue})=>{let ce=ue.query("GET_FILE_POSTER_HEIGHT");if(ce)return ce;const ae=ue.query("GET_FILE_POSTER_MIN_HEIGHT"),ge=ue.query("GET_FILE_POSTER_MAX_HEIGHT");if(ae&&ue.ref.imageHeight<ae)return ae;let Q=ue.rect.element.width*(ue.ref.imageHeight/ue.ref.imageWidth);return ae&&Q<ae?ae:ge&&Q>ge?ge:Q};k.registerWriter(C({DID_LOAD_ITEM:q,DID_FILE_POSTER_CALCULATE_SIZE:re,DID_UPDATE_ITEM_METADATA:X},({root:ue,props:ce})=>{ue.ref.filePoster&&(ue.rect.element.hidden||ue.ref.shouldUpdatePanelHeight&&(ue.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:ce.id,height:he({root:ue})}),ue.ref.shouldUpdatePanelHeight=!1))}))}),{options:{allowFilePoster:[!0,y.BOOLEAN],filePosterHeight:[null,y.INT],filePosterMinHeight:[null,y.INT],filePosterMaxHeight:[null,y.INT],filePosterFilterItem:[()=>!0,y.FUNCTION],filePosterCalculateAverageImageColor:[!1,y.BOOLEAN],filePosterCrossOriginAttributeValue:["Anonymous",y.STRING],filePosterItemOverlayShadowColor:[null,y.ARRAY],filePosterItemOverlayErrorColor:[null,y.ARRAY],filePosterItemOverlaySuccessColor:[null,y.ARRAY]}}},xue=typeof window<"u"&&typeof window.document<"u";xue&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:ete}));var BQ={},Aue={get exports(){return BQ},set exports(a){BQ=a}},AH={},Oue={get exports(){return AH},set exports(a){AH=a}},OH={},Rue={get exports(){return OH},set exports(a){OH=a}},$Q;function tte(){return $Q||($Q=1,function(a){(function(c,f){a.exports?a.exports=f():c.EvEmitter=f()})(typeof window<"u"?window:Dw,function(){function c(){}var f=c.prototype;return f.on=function(y,C){if(!(!y||!C)){var w=this._events=this._events||{},S=w[y]=w[y]||[];return S.indexOf(C)==-1&&S.push(C),this}},f.once=function(y,C){if(!(!y||!C)){this.on(y,C);var w=this._onceEvents=this._onceEvents||{},S=w[y]=w[y]||{};return S[C]=!0,this}},f.off=function(y,C){var w=this._events&&this._events[y];if(!(!w||!w.length)){var S=w.indexOf(C);return S!=-1&&w.splice(S,1),this}},f.emitEvent=function(y,C){var w=this._events&&this._events[y];if(!(!w||!w.length)){w=w.slice(0),C=C||[];for(var S=this._onceEvents&&this._onceEvents[y],D=0;D<w.length;D++){var k=w[D],G=S&&S[k];G&&(this.off(y,k),delete S[k]),k.apply(this,C)}return this}},f.allOff=function(){delete this._events,delete this._onceEvents},c})}(Rue)),OH}var RH={},Iue={get exports(){return RH},set exports(a){RH=a}};/*!
 * getSize v2.0.3
 * measure size of elements
 * MIT license
 */var FQ;function RY(){return FQ||(FQ=1,function(a){(function(c,f){a.exports?a.exports=f():c.getSize=f()})(window,function(){function f(re){var he=parseFloat(re),ue=re.indexOf("%")==-1&&!isNaN(he);return ue&&he}function y(){}var C=typeof console>"u"?y:function(re){console.error(re)},w=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],S=w.length;function D(){for(var re={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},he=0;he<S;he++){var ue=w[he];re[ue]=0}return re}function k(re){var he=getComputedStyle(re);return he||C("Style returned "+he+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),he}var G=!1,q;function X(){if(!G){G=!0;var re=document.createElement("div");re.style.width="200px",re.style.padding="1px 2px 3px 4px",re.style.borderStyle="solid",re.style.borderWidth="1px 2px 3px 4px",re.style.boxSizing="border-box";var he=document.body||document.documentElement;he.appendChild(re);var ue=k(re);q=Math.round(f(ue.width))==200,fe.isBoxSizeOuter=q,he.removeChild(re)}}function fe(re){if(X(),typeof re=="string"&&(re=document.querySelector(re)),!(!re||typeof re!="object"||!re.nodeType)){var he=k(re);if(he.display=="none")return D();var ue={};ue.width=re.offsetWidth,ue.height=re.offsetHeight;for(var ce=ue.isBorderBox=he.boxSizing=="border-box",ae=0;ae<S;ae++){var ge=w[ae],Q=he[ge],Ne=parseFloat(Q);ue[ge]=isNaN(Ne)?0:Ne}var qe=ue.paddingLeft+ue.paddingRight,z=ue.paddingTop+ue.paddingBottom,we=ue.marginLeft+ue.marginRight,je=ue.marginTop+ue.marginBottom,dt=ue.borderLeftWidth+ue.borderRightWidth,_t=ue.borderTopWidth+ue.borderBottomWidth,Pe=ce&&q,Ee=f(he.width);Ee!==!1&&(ue.width=Ee+(Pe?0:qe+dt));var pn=f(he.height);return pn!==!1&&(ue.height=pn+(Pe?0:z+_t)),ue.innerWidth=ue.width-(qe+dt),ue.innerHeight=ue.height-(z+_t),ue.outerWidth=ue.width+we,ue.outerHeight=ue.height+je,ue}}return fe})}(Iue)),RH}var IH={},Due={get exports(){return IH},set exports(a){IH=a}},DH={},Nue={get exports(){return DH},set exports(a){DH=a}},HQ;function Mue(){return HQ||(HQ=1,function(a){(function(c,f){a.exports?a.exports=f():c.matchesSelector=f()})(window,function(){var f=function(){var y=window.Element.prototype;if(y.matches)return"matches";if(y.matchesSelector)return"matchesSelector";for(var C=["webkit","moz","ms","o"],w=0;w<C.length;w++){var S=C[w],D=S+"MatchesSelector";if(y[D])return D}}();return function(C,w){return C[f](w)}})}(Nue)),DH}var VQ;function kue(){return VQ||(VQ=1,function(a){(function(c,f){a.exports?a.exports=f(c,Mue()):c.fizzyUIUtils=f(c,c.matchesSelector)})(window,function(f,y){var C={};C.extend=function(D,k){for(var G in k)D[G]=k[G];return D},C.modulo=function(D,k){return(D%k+k)%k};var w=Array.prototype.slice;C.makeArray=function(D){if(Array.isArray(D))return D;if(D==null)return[];var k=typeof D=="object"&&typeof D.length=="number";return k?w.call(D):[D]},C.removeFrom=function(D,k){var G=D.indexOf(k);G!=-1&&D.splice(G,1)},C.getParent=function(D,k){for(;D.parentNode&&D!=document.body;)if(D=D.parentNode,y(D,k))return D},C.getQueryElement=function(D){return typeof D=="string"?document.querySelector(D):D},C.handleEvent=function(D){var k="on"+D.type;this[k]&&this[k](D)},C.filterFindElements=function(D,k){D=C.makeArray(D);var G=[];return D.forEach(function(q){if(q instanceof HTMLElement){if(!k){G.push(q);return}y(q,k)&&G.push(q);for(var X=q.querySelectorAll(k),fe=0;fe<X.length;fe++)G.push(X[fe])}}),G},C.debounceMethod=function(D,k,G){G=G||100;var q=D.prototype[k],X=k+"Timeout";D.prototype[k]=function(){var fe=this[X];clearTimeout(fe);var re=arguments,he=this;this[X]=setTimeout(function(){q.apply(he,re),delete he[X]},G)}},C.docReady=function(D){var k=document.readyState;k=="complete"||k=="interactive"?setTimeout(D):document.addEventListener("DOMContentLoaded",D)},C.toDashed=function(D){return D.replace(/(.)([A-Z])/g,function(k,G,q){return G+"-"+q}).toLowerCase()};var S=f.console;return C.htmlInit=function(D,k){C.docReady(function(){var G=C.toDashed(k),q="data-"+G,X=document.querySelectorAll("["+q+"]"),fe=document.querySelectorAll(".js-"+G),re=C.makeArray(X).concat(C.makeArray(fe)),he=q+"-options",ue=f.jQuery;re.forEach(function(ce){var ae=ce.getAttribute(q)||ce.getAttribute(he),ge;try{ge=ae&&JSON.parse(ae)}catch(Ne){S&&S.error("Error parsing "+q+" on "+ce.className+": "+Ne);return}var Q=new D(ce,ge);ue&&ue.data(ce,k,Q)})})},C})}(Due)),IH}var NH={},Pue={get exports(){return NH},set exports(a){NH=a}},zQ;function Lue(){return zQ||(zQ=1,function(a){(function(c,f){a.exports?a.exports=f(tte(),RY()):(c.Outlayer={},c.Outlayer.Item=f(c.EvEmitter,c.getSize))})(window,function(f,y){function C(ce){for(var ae in ce)return!1;return ae=null,!0}var w=document.documentElement.style,S=typeof w.transition=="string"?"transition":"WebkitTransition",D=typeof w.transform=="string"?"transform":"WebkitTransform",k={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[S],G={transform:D,transition:S,transitionDuration:S+"Duration",transitionProperty:S+"Property",transitionDelay:S+"Delay"};function q(ce,ae){ce&&(this.element=ce,this.layout=ae,this.position={x:0,y:0},this._create())}var X=q.prototype=Object.create(f.prototype);X.constructor=q,X._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},X.handleEvent=function(ce){var ae="on"+ce.type;this[ae]&&this[ae](ce)},X.getSize=function(){this.size=y(this.element)},X.css=function(ce){var ae=this.element.style;for(var ge in ce){var Q=G[ge]||ge;ae[Q]=ce[ge]}},X.getPosition=function(){var ce=getComputedStyle(this.element),ae=this.layout._getOption("originLeft"),ge=this.layout._getOption("originTop"),Q=ce[ae?"left":"right"],Ne=ce[ge?"top":"bottom"],qe=parseFloat(Q),z=parseFloat(Ne),we=this.layout.size;Q.indexOf("%")!=-1&&(qe=qe/100*we.width),Ne.indexOf("%")!=-1&&(z=z/100*we.height),qe=isNaN(qe)?0:qe,z=isNaN(z)?0:z,qe-=ae?we.paddingLeft:we.paddingRight,z-=ge?we.paddingTop:we.paddingBottom,this.position.x=qe,this.position.y=z},X.layoutPosition=function(){var ce=this.layout.size,ae={},ge=this.layout._getOption("originLeft"),Q=this.layout._getOption("originTop"),Ne=ge?"paddingLeft":"paddingRight",qe=ge?"left":"right",z=ge?"right":"left",we=this.position.x+ce[Ne];ae[qe]=this.getXValue(we),ae[z]="";var je=Q?"paddingTop":"paddingBottom",dt=Q?"top":"bottom",_t=Q?"bottom":"top",Pe=this.position.y+ce[je];ae[dt]=this.getYValue(Pe),ae[_t]="",this.css(ae),this.emitEvent("layout",[this])},X.getXValue=function(ce){var ae=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!ae?ce/this.layout.size.width*100+"%":ce+"px"},X.getYValue=function(ce){var ae=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&ae?ce/this.layout.size.height*100+"%":ce+"px"},X._transitionTo=function(ce,ae){this.getPosition();var ge=this.position.x,Q=this.position.y,Ne=ce==this.position.x&&ae==this.position.y;if(this.setPosition(ce,ae),Ne&&!this.isTransitioning){this.layoutPosition();return}var qe=ce-ge,z=ae-Q,we={};we.transform=this.getTranslate(qe,z),this.transition({to:we,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},X.getTranslate=function(ce,ae){var ge=this.layout._getOption("originLeft"),Q=this.layout._getOption("originTop");return ce=ge?ce:-ce,ae=Q?ae:-ae,"translate3d("+ce+"px, "+ae+"px, 0)"},X.goTo=function(ce,ae){this.setPosition(ce,ae),this.layoutPosition()},X.moveTo=X._transitionTo,X.setPosition=function(ce,ae){this.position.x=parseFloat(ce),this.position.y=parseFloat(ae)},X._nonTransition=function(ce){this.css(ce.to),ce.isCleaning&&this._removeStyles(ce.to);for(var ae in ce.onTransitionEnd)ce.onTransitionEnd[ae].call(this)},X.transition=function(ce){if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(ce);return}var ae=this._transn;for(var ge in ce.onTransitionEnd)ae.onEnd[ge]=ce.onTransitionEnd[ge];for(ge in ce.to)ae.ingProperties[ge]=!0,ce.isCleaning&&(ae.clean[ge]=!0);ce.from&&(this.css(ce.from),this.element.offsetHeight),this.enableTransition(ce.to),this.css(ce.to),this.isTransitioning=!0};function fe(ce){return ce.replace(/([A-Z])/g,function(ae){return"-"+ae.toLowerCase()})}var re="opacity,"+fe(D);X.enableTransition=function(){if(!this.isTransitioning){var ce=this.layout.options.transitionDuration;ce=typeof ce=="number"?ce+"ms":ce,this.css({transitionProperty:re,transitionDuration:ce,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(k,this,!1)}},X.onwebkitTransitionEnd=function(ce){this.ontransitionend(ce)},X.onotransitionend=function(ce){this.ontransitionend(ce)};var he={"-webkit-transform":"transform"};X.ontransitionend=function(ce){if(ce.target===this.element){var ae=this._transn,ge=he[ce.propertyName]||ce.propertyName;if(delete ae.ingProperties[ge],C(ae.ingProperties)&&this.disableTransition(),ge in ae.clean&&(this.element.style[ce.propertyName]="",delete ae.clean[ge]),ge in ae.onEnd){var Q=ae.onEnd[ge];Q.call(this),delete ae.onEnd[ge]}this.emitEvent("transitionEnd",[this])}},X.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(k,this,!1),this.isTransitioning=!1},X._removeStyles=function(ce){var ae={};for(var ge in ce)ae[ge]="";this.css(ae)};var ue={transitionProperty:"",transitionDuration:"",transitionDelay:""};return X.removeTransitionStyles=function(){this.css(ue)},X.stagger=function(ce){ce=isNaN(ce)?0:ce,this.staggerDelay=ce+"ms"},X.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},X.remove=function(){if(!S||!parseFloat(this.layout.options.transitionDuration)){this.removeElem();return}this.once("transitionEnd",function(){this.removeElem()}),this.hide()},X.reveal=function(){delete this.isHidden,this.css({display:""});var ce=this.layout.options,ae={},ge=this.getHideRevealTransitionEndProperty("visibleStyle");ae[ge]=this.onRevealTransitionEnd,this.transition({from:ce.hiddenStyle,to:ce.visibleStyle,isCleaning:!0,onTransitionEnd:ae})},X.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},X.getHideRevealTransitionEndProperty=function(ce){var ae=this.layout.options[ce];if(ae.opacity)return"opacity";for(var ge in ae)return ge},X.hide=function(){this.isHidden=!0,this.css({display:""});var ce=this.layout.options,ae={},ge=this.getHideRevealTransitionEndProperty("hiddenStyle");ae[ge]=this.onHideTransitionEnd,this.transition({from:ce.visibleStyle,to:ce.hiddenStyle,isCleaning:!0,onTransitionEnd:ae})},X.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},X.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},q})}(Pue)),NH}/*!
 * Outlayer v2.1.1
 * the brains and guts of a layout library
 * MIT license
 */var UQ;function Bue(){return UQ||(UQ=1,function(a){(function(c,f){a.exports?a.exports=f(c,tte(),RY(),kue(),Lue()):c.Outlayer=f(c,c.EvEmitter,c.getSize,c.fizzyUIUtils,c.Outlayer.Item)})(window,function(f,y,C,w,S){var D=f.console,k=f.jQuery,G=function(){},q=0,X={};function fe(ae,ge){var Q=w.getQueryElement(ae);if(!Q){D&&D.error("Bad element for "+this.constructor.namespace+": "+(Q||ae));return}this.element=Q,k&&(this.$element=k(this.element)),this.options=w.extend({},this.constructor.defaults),this.option(ge);var Ne=++q;this.element.outlayerGUID=Ne,X[Ne]=this,this._create();var qe=this._getOption("initLayout");qe&&this.layout()}fe.namespace="outlayer",fe.Item=S,fe.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var re=fe.prototype;w.extend(re,y.prototype),re.option=function(ae){w.extend(this.options,ae)},re._getOption=function(ae){var ge=this.constructor.compatOptions[ae];return ge&&this.options[ge]!==void 0?this.options[ge]:this.options[ae]},fe.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},re._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),w.extend(this.element.style,this.options.containerStyle);var ae=this._getOption("resize");ae&&this.bindResize()},re.reloadItems=function(){this.items=this._itemize(this.element.children)},re._itemize=function(ae){for(var ge=this._filterFindItemElements(ae),Q=this.constructor.Item,Ne=[],qe=0;qe<ge.length;qe++){var z=ge[qe],we=new Q(z,this);Ne.push(we)}return Ne},re._filterFindItemElements=function(ae){return w.filterFindElements(ae,this.options.itemSelector)},re.getItemElements=function(){return this.items.map(function(ae){return ae.element})},re.layout=function(){this._resetLayout(),this._manageStamps();var ae=this._getOption("layoutInstant"),ge=ae!==void 0?ae:!this._isLayoutInited;this.layoutItems(this.items,ge),this._isLayoutInited=!0},re._init=re.layout,re._resetLayout=function(){this.getSize()},re.getSize=function(){this.size=C(this.element)},re._getMeasurement=function(ae,ge){var Q=this.options[ae],Ne;Q?(typeof Q=="string"?Ne=this.element.querySelector(Q):Q instanceof HTMLElement&&(Ne=Q),this[ae]=Ne?C(Ne)[ge]:Q):this[ae]=0},re.layoutItems=function(ae,ge){ae=this._getItemsForLayout(ae),this._layoutItems(ae,ge),this._postLayout()},re._getItemsForLayout=function(ae){return ae.filter(function(ge){return!ge.isIgnored})},re._layoutItems=function(ae,ge){if(this._emitCompleteOnItems("layout",ae),!(!ae||!ae.length)){var Q=[];ae.forEach(function(Ne){var qe=this._getItemLayoutPosition(Ne);qe.item=Ne,qe.isInstant=ge||Ne.isLayoutInstant,Q.push(qe)},this),this._processLayoutQueue(Q)}},re._getItemLayoutPosition=function(){return{x:0,y:0}},re._processLayoutQueue=function(ae){this.updateStagger(),ae.forEach(function(ge,Q){this._positionItem(ge.item,ge.x,ge.y,ge.isInstant,Q)},this)},re.updateStagger=function(){var ae=this.options.stagger;if(ae==null){this.stagger=0;return}return this.stagger=ce(ae),this.stagger},re._positionItem=function(ae,ge,Q,Ne,qe){Ne?ae.goTo(ge,Q):(ae.stagger(qe*this.stagger),ae.moveTo(ge,Q))},re._postLayout=function(){this.resizeContainer()},re.resizeContainer=function(){var ae=this._getOption("resizeContainer");if(ae){var ge=this._getContainerSize();ge&&(this._setContainerMeasure(ge.width,!0),this._setContainerMeasure(ge.height,!1))}},re._getContainerSize=G,re._setContainerMeasure=function(ae,ge){if(ae!==void 0){var Q=this.size;Q.isBorderBox&&(ae+=ge?Q.paddingLeft+Q.paddingRight+Q.borderLeftWidth+Q.borderRightWidth:Q.paddingBottom+Q.paddingTop+Q.borderTopWidth+Q.borderBottomWidth),ae=Math.max(ae,0),this.element.style[ge?"width":"height"]=ae+"px"}},re._emitCompleteOnItems=function(ae,ge){var Q=this;function Ne(){Q.dispatchEvent(ae+"Complete",null,[ge])}var qe=ge.length;if(!ge||!qe){Ne();return}var z=0;function we(){z++,z==qe&&Ne()}ge.forEach(function(je){je.once(ae,we)})},re.dispatchEvent=function(ae,ge,Q){var Ne=ge?[ge].concat(Q):Q;if(this.emitEvent(ae,Ne),k)if(this.$element=this.$element||k(this.element),ge){var qe=k.Event(ge);qe.type=ae,this.$element.trigger(qe,Q)}else this.$element.trigger(ae,Q)},re.ignore=function(ae){var ge=this.getItem(ae);ge&&(ge.isIgnored=!0)},re.unignore=function(ae){var ge=this.getItem(ae);ge&&delete ge.isIgnored},re.stamp=function(ae){ae=this._find(ae),ae&&(this.stamps=this.stamps.concat(ae),ae.forEach(this.ignore,this))},re.unstamp=function(ae){ae=this._find(ae),ae&&ae.forEach(function(ge){w.removeFrom(this.stamps,ge),this.unignore(ge)},this)},re._find=function(ae){if(ae)return typeof ae=="string"&&(ae=this.element.querySelectorAll(ae)),ae=w.makeArray(ae),ae},re._manageStamps=function(){!this.stamps||!this.stamps.length||(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},re._getBoundingRect=function(){var ae=this.element.getBoundingClientRect(),ge=this.size;this._boundingRect={left:ae.left+ge.paddingLeft+ge.borderLeftWidth,top:ae.top+ge.paddingTop+ge.borderTopWidth,right:ae.right-(ge.paddingRight+ge.borderRightWidth),bottom:ae.bottom-(ge.paddingBottom+ge.borderBottomWidth)}},re._manageStamp=G,re._getElementOffset=function(ae){var ge=ae.getBoundingClientRect(),Q=this._boundingRect,Ne=C(ae),qe={left:ge.left-Q.left-Ne.marginLeft,top:ge.top-Q.top-Ne.marginTop,right:Q.right-ge.right-Ne.marginRight,bottom:Q.bottom-ge.bottom-Ne.marginBottom};return qe},re.handleEvent=w.handleEvent,re.bindResize=function(){f.addEventListener("resize",this),this.isResizeBound=!0},re.unbindResize=function(){f.removeEventListener("resize",this),this.isResizeBound=!1},re.onresize=function(){this.resize()},w.debounceMethod(fe,"onresize",100),re.resize=function(){!this.isResizeBound||!this.needsResizeLayout()||this.layout()},re.needsResizeLayout=function(){var ae=C(this.element),ge=this.size&&ae;return ge&&ae.innerWidth!==this.size.innerWidth},re.addItems=function(ae){var ge=this._itemize(ae);return ge.length&&(this.items=this.items.concat(ge)),ge},re.appended=function(ae){var ge=this.addItems(ae);ge.length&&(this.layoutItems(ge,!0),this.reveal(ge))},re.prepended=function(ae){var ge=this._itemize(ae);if(ge.length){var Q=this.items.slice(0);this.items=ge.concat(Q),this._resetLayout(),this._manageStamps(),this.layoutItems(ge,!0),this.reveal(ge),this.layoutItems(Q)}},re.reveal=function(ae){if(this._emitCompleteOnItems("reveal",ae),!(!ae||!ae.length)){var ge=this.updateStagger();ae.forEach(function(Q,Ne){Q.stagger(Ne*ge),Q.reveal()})}},re.hide=function(ae){if(this._emitCompleteOnItems("hide",ae),!(!ae||!ae.length)){var ge=this.updateStagger();ae.forEach(function(Q,Ne){Q.stagger(Ne*ge),Q.hide()})}},re.revealItemElements=function(ae){var ge=this.getItems(ae);this.reveal(ge)},re.hideItemElements=function(ae){var ge=this.getItems(ae);this.hide(ge)},re.getItem=function(ae){for(var ge=0;ge<this.items.length;ge++){var Q=this.items[ge];if(Q.element==ae)return Q}},re.getItems=function(ae){ae=w.makeArray(ae);var ge=[];return ae.forEach(function(Q){var Ne=this.getItem(Q);Ne&&ge.push(Ne)},this),ge},re.remove=function(ae){var ge=this.getItems(ae);this._emitCompleteOnItems("remove",ge),!(!ge||!ge.length)&&ge.forEach(function(Q){Q.remove(),w.removeFrom(this.items,Q)},this)},re.destroy=function(){var ae=this.element.style;ae.height="",ae.position="",ae.width="",this.items.forEach(function(Q){Q.destroy()}),this.unbindResize();var ge=this.element.outlayerGUID;delete X[ge],delete this.element.outlayerGUID,k&&k.removeData(this.element,this.constructor.namespace)},fe.data=function(ae){ae=w.getQueryElement(ae);var ge=ae&&ae.outlayerGUID;return ge&&X[ge]},fe.create=function(ae,ge){var Q=he(fe);return Q.defaults=w.extend({},fe.defaults),w.extend(Q.defaults,ge),Q.compatOptions=w.extend({},fe.compatOptions),Q.namespace=ae,Q.data=fe.data,Q.Item=he(S),w.htmlInit(Q,ae),k&&k.bridget&&k.bridget(ae,Q),Q};function he(ae){function ge(){ae.apply(this,arguments)}return ge.prototype=Object.create(ae.prototype),ge.prototype.constructor=ge,ge}var ue={ms:1,s:1e3};function ce(ae){if(typeof ae=="number")return ae;var ge=ae.match(/(^\d*\.?\d*)(\w*)/),Q=ge&&ge[1],Ne=ge&&ge[2];if(!Q.length)return 0;Q=parseFloat(Q);var qe=ue[Ne]||1;return Q*qe}return fe.Item=S,fe})}(Oue)),AH}/*!
 * Masonry v4.2.2
 * Cascading grid layout library
 * https://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */(function(a){(function(c,f){a.exports?a.exports=f(Bue(),RY()):c.Masonry=f(c.Outlayer,c.getSize)})(window,function(f,y){var C=f.create("masonry");C.compatOptions.fitWidth="isFitWidth";var w=C.prototype;return w._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var S=0;S<this.cols;S++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},w.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var S=this.items[0],D=S&&S.element;this.columnWidth=D&&y(D).outerWidth||this.containerWidth}var k=this.columnWidth+=this.gutter,G=this.containerWidth+this.gutter,q=G/k,X=k-G%k,fe=X&&X<1?"round":"floor";q=Math[fe](q),this.cols=Math.max(q,1)},w.getContainerWidth=function(){var S=this._getOption("fitWidth"),D=S?this.element.parentNode:this.element,k=y(D);this.containerWidth=k&&k.innerWidth},w._getItemLayoutPosition=function(S){S.getSize();var D=S.size.outerWidth%this.columnWidth,k=D&&D<1?"round":"ceil",G=Math[k](S.size.outerWidth/this.columnWidth);G=Math.min(G,this.cols);for(var q=this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition",X=this[q](G,S),fe={x:this.columnWidth*X.col,y:X.y},re=X.y+S.size.outerHeight,he=G+X.col,ue=X.col;ue<he;ue++)this.colYs[ue]=re;return fe},w._getTopColPosition=function(S){var D=this._getTopColGroup(S),k=Math.min.apply(Math,D);return{col:D.indexOf(k),y:k}},w._getTopColGroup=function(S){if(S<2)return this.colYs;for(var D=[],k=this.cols+1-S,G=0;G<k;G++)D[G]=this._getColGroupY(G,S);return D},w._getColGroupY=function(S,D){if(D<2)return this.colYs[S];var k=this.colYs.slice(S,S+D);return Math.max.apply(Math,k)},w._getHorizontalColPosition=function(S,D){var k=this.horizontalColIndex%this.cols,G=S>1&&k+S>this.cols;k=G?0:k;var q=D.size.outerWidth&&D.size.outerHeight;return this.horizontalColIndex=q?k+S:this.horizontalColIndex,{col:k,y:this._getColGroupY(k,S)}},w._manageStamp=function(S){var D=y(S),k=this._getElementOffset(S),G=this._getOption("originLeft"),q=G?k.left:k.right,X=q+D.outerWidth,fe=Math.floor(q/this.columnWidth);fe=Math.max(0,fe);var re=Math.floor(X/this.columnWidth);re-=X%this.columnWidth?0:1,re=Math.min(this.cols-1,re);for(var he=this._getOption("originTop"),ue=(he?k.top:k.bottom)+D.outerHeight,ce=fe;ce<=re;ce++)this.colYs[ce]=Math.max(ue,this.colYs[ce])},w._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var S={height:this.maxY};return this._getOption("fitWidth")&&(S.width=this._getContainerFitWidth()),S},w._getContainerFitWidth=function(){for(var S=0,D=this.cols;--D&&this.colYs[D]===0;)S++;return(this.cols-S)*this.columnWidth-this.gutter},w.needsResizeLayout=function(){var S=this.containerWidth;return this.getContainerWidth(),S!=this.containerWidth},C})})(Aue);function nte(a,c){return function(){return a.apply(c,arguments)}}const{toString:ote}=Object.prototype,{getPrototypeOf:IY}=Object,DY=(a=>c=>{const f=ote.call(c);return a[f]||(a[f]=f.slice(8,-1).toLowerCase())})(Object.create(null)),d_=a=>(a=a.toLowerCase(),c=>DY(c)===a),ZH=a=>c=>typeof c===a,{isArray:rR}=Array,ok=ZH("undefined");function $ue(a){return a!==null&&!ok(a)&&a.constructor!==null&&!ok(a.constructor)&&kw(a.constructor.isBuffer)&&a.constructor.isBuffer(a)}const ste=d_("ArrayBuffer");function Fue(a){let c;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?c=ArrayBuffer.isView(a):c=a&&a.buffer&&ste(a.buffer),c}const Hue=ZH("string"),kw=ZH("function"),rte=ZH("number"),NY=a=>a!==null&&typeof a=="object",Vue=a=>a===!0||a===!1,fH=a=>{if(DY(a)!=="object")return!1;const c=IY(a);return(c===null||c===Object.prototype||Object.getPrototypeOf(c)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},zue=d_("Date"),Uue=d_("File"),Wue=d_("Blob"),Gue=d_("FileList"),que=a=>NY(a)&&kw(a.pipe),jue=a=>{const c="[object FormData]";return a&&(typeof FormData=="function"&&a instanceof FormData||ote.call(a)===c||kw(a.toString)&&a.toString()===c)},Zue=d_("URLSearchParams"),Yue=a=>a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ak(a,c,{allOwnKeys:f=!1}={}){if(a===null||typeof a>"u")return;let y,C;if(typeof a!="object"&&(a=[a]),rR(a))for(y=0,C=a.length;y<C;y++)c.call(null,a[y],y,a);else{const w=f?Object.getOwnPropertyNames(a):Object.keys(a),S=w.length;let D;for(y=0;y<S;y++)D=w[y],c.call(null,a[D],D,a)}}function ite(a,c){c=c.toLowerCase();const f=Object.keys(a);let y=f.length,C;for(;y-- >0;)if(C=f[y],c===C.toLowerCase())return C;return null}const ate=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),cte=a=>!ok(a)&&a!==ate;function jZ(){const{caseless:a}=cte(this)&&this||{},c={},f=(y,C)=>{const w=a&&ite(c,C)||C;fH(c[w])&&fH(y)?c[w]=jZ(c[w],y):fH(y)?c[w]=jZ({},y):rR(y)?c[w]=y.slice():c[w]=y};for(let y=0,C=arguments.length;y<C;y++)arguments[y]&&ak(arguments[y],f);return c}const Kue=(a,c,f,{allOwnKeys:y}={})=>(ak(c,(C,w)=>{f&&kw(C)?a[w]=nte(C,f):a[w]=C},{allOwnKeys:y}),a),Xue=a=>(a.charCodeAt(0)===65279&&(a=a.slice(1)),a),Que=(a,c,f,y)=>{a.prototype=Object.create(c.prototype,y),a.prototype.constructor=a,Object.defineProperty(a,"super",{value:c.prototype}),f&&Object.assign(a.prototype,f)},Jue=(a,c,f,y)=>{let C,w,S;const D={};if(c=c||{},a==null)return c;do{for(C=Object.getOwnPropertyNames(a),w=C.length;w-- >0;)S=C[w],(!y||y(S,a,c))&&!D[S]&&(c[S]=a[S],D[S]=!0);a=f!==!1&&IY(a)}while(a&&(!f||f(a,c))&&a!==Object.prototype);return c},ede=(a,c,f)=>{a=String(a),(f===void 0||f>a.length)&&(f=a.length),f-=c.length;const y=a.indexOf(c,f);return y!==-1&&y===f},tde=a=>{if(!a)return null;if(rR(a))return a;let c=a.length;if(!rte(c))return null;const f=new Array(c);for(;c-- >0;)f[c]=a[c];return f},nde=(a=>c=>a&&c instanceof a)(typeof Uint8Array<"u"&&IY(Uint8Array)),ode=(a,c)=>{const y=(a&&a[Symbol.iterator]).call(a);let C;for(;(C=y.next())&&!C.done;){const w=C.value;c.call(a,w[0],w[1])}},sde=(a,c)=>{let f;const y=[];for(;(f=a.exec(c))!==null;)y.push(f);return y},rde=d_("HTMLFormElement"),ide=a=>a.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(f,y,C){return y.toUpperCase()+C}),WQ=(({hasOwnProperty:a})=>(c,f)=>a.call(c,f))(Object.prototype),ade=d_("RegExp"),lte=(a,c)=>{const f=Object.getOwnPropertyDescriptors(a),y={};ak(f,(C,w)=>{c(C,w,a)!==!1&&(y[w]=C)}),Object.defineProperties(a,y)},cde=a=>{lte(a,(c,f)=>{if(kw(a)&&["arguments","caller","callee"].indexOf(f)!==-1)return!1;const y=a[f];if(kw(y)){if(c.enumerable=!1,"writable"in c){c.writable=!1;return}c.set||(c.set=()=>{throw Error("Can not rewrite read-only method '"+f+"'")})}})},lde=(a,c)=>{const f={},y=C=>{C.forEach(w=>{f[w]=!0})};return rR(a)?y(a):y(String(a).split(c)),f},ude=()=>{},dde=(a,c)=>(a=+a,Number.isFinite(a)?a:c),iZ="abcdefghijklmnopqrstuvwxyz",GQ="0123456789",ute={DIGIT:GQ,ALPHA:iZ,ALPHA_DIGIT:iZ+iZ.toUpperCase()+GQ},fde=(a=16,c=ute.ALPHA_DIGIT)=>{let f="";const{length:y}=c;for(;a--;)f+=c[Math.random()*y|0];return f};function hde(a){return!!(a&&kw(a.append)&&a[Symbol.toStringTag]==="FormData"&&a[Symbol.iterator])}const mde=a=>{const c=new Array(10),f=(y,C)=>{if(NY(y)){if(c.indexOf(y)>=0)return;if(!("toJSON"in y)){c[C]=y;const w=rR(y)?[]:{};return ak(y,(S,D)=>{const k=f(S,C+1);!ok(k)&&(w[D]=k)}),c[C]=void 0,w}}return y};return f(a,0)},rn={isArray:rR,isArrayBuffer:ste,isBuffer:$ue,isFormData:jue,isArrayBufferView:Fue,isString:Hue,isNumber:rte,isBoolean:Vue,isObject:NY,isPlainObject:fH,isUndefined:ok,isDate:zue,isFile:Uue,isBlob:Wue,isRegExp:ade,isFunction:kw,isStream:que,isURLSearchParams:Zue,isTypedArray:nde,isFileList:Gue,forEach:ak,merge:jZ,extend:Kue,trim:Yue,stripBOM:Xue,inherits:Que,toFlatObject:Jue,kindOf:DY,kindOfTest:d_,endsWith:ede,toArray:tde,forEachEntry:ode,matchAll:sde,isHTMLForm:rde,hasOwnProperty:WQ,hasOwnProp:WQ,reduceDescriptors:lte,freezeMethods:cde,toObjectSet:lde,toCamelCase:ide,noop:ude,toFiniteNumber:dde,findKey:ite,global:ate,isContextDefined:cte,ALPHABET:ute,generateString:fde,isSpecCompliantForm:hde,toJSONObject:mde};function oi(a,c,f,y,C){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=a,this.name="AxiosError",c&&(this.code=c),f&&(this.config=f),y&&(this.request=y),C&&(this.response=C)}rn.inherits(oi,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:rn.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const dte=oi.prototype,fte={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(a=>{fte[a]={value:a}});Object.defineProperties(oi,fte);Object.defineProperty(dte,"isAxiosError",{value:!0});oi.from=(a,c,f,y,C,w)=>{const S=Object.create(dte);return rn.toFlatObject(a,S,function(k){return k!==Error.prototype},D=>D!=="isAxiosError"),oi.call(S,a.message,c,f,y,C),S.cause=a,S.name=a.name,w&&Object.assign(S,w),S};const pde=null;function ZZ(a){return rn.isPlainObject(a)||rn.isArray(a)}function hte(a){return rn.endsWith(a,"[]")?a.slice(0,-2):a}function qQ(a,c,f){return a?a.concat(c).map(function(C,w){return C=hte(C),!f&&w?"["+C+"]":C}).join(f?".":""):c}function gde(a){return rn.isArray(a)&&!a.some(ZZ)}const vde=rn.toFlatObject(rn,{},null,function(c){return/^is[A-Z]/.test(c)});function YH(a,c,f){if(!rn.isObject(a))throw new TypeError("target must be an object");c=c||new FormData,f=rn.toFlatObject(f,{metaTokens:!0,dots:!1,indexes:!1},!1,function(ue,ce){return!rn.isUndefined(ce[ue])});const y=f.metaTokens,C=f.visitor||q,w=f.dots,S=f.indexes,k=(f.Blob||typeof Blob<"u"&&Blob)&&rn.isSpecCompliantForm(c);if(!rn.isFunction(C))throw new TypeError("visitor must be a function");function G(he){if(he===null)return"";if(rn.isDate(he))return he.toISOString();if(!k&&rn.isBlob(he))throw new oi("Blob is not supported. Use a Buffer instead.");return rn.isArrayBuffer(he)||rn.isTypedArray(he)?k&&typeof Blob=="function"?new Blob([he]):Buffer.from(he):he}function q(he,ue,ce){let ae=he;if(he&&!ce&&typeof he=="object"){if(rn.endsWith(ue,"{}"))ue=y?ue:ue.slice(0,-2),he=JSON.stringify(he);else if(rn.isArray(he)&&gde(he)||(rn.isFileList(he)||rn.endsWith(ue,"[]"))&&(ae=rn.toArray(he)))return ue=hte(ue),ae.forEach(function(Q,Ne){!(rn.isUndefined(Q)||Q===null)&&c.append(S===!0?qQ([ue],Ne,w):S===null?ue:ue+"[]",G(Q))}),!1}return ZZ(he)?!0:(c.append(qQ(ce,ue,w),G(he)),!1)}const X=[],fe=Object.assign(vde,{defaultVisitor:q,convertValue:G,isVisitable:ZZ});function re(he,ue){if(!rn.isUndefined(he)){if(X.indexOf(he)!==-1)throw Error("Circular reference detected in "+ue.join("."));X.push(he),rn.forEach(he,function(ae,ge){(!(rn.isUndefined(ae)||ae===null)&&C.call(c,ae,rn.isString(ge)?ge.trim():ge,ue,fe))===!0&&re(ae,ue?ue.concat(ge):[ge])}),X.pop()}}if(!rn.isObject(a))throw new TypeError("data must be an object");return re(a),c}function jQ(a){const c={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(a).replace(/[!'()~]|%20|%00/g,function(y){return c[y]})}function MY(a,c){this._pairs=[],a&&YH(a,this,c)}const mte=MY.prototype;mte.append=function(c,f){this._pairs.push([c,f])};mte.toString=function(c){const f=c?function(y){return c.call(this,y,jQ)}:jQ;return this._pairs.map(function(C){return f(C[0])+"="+f(C[1])},"").join("&")};function bde(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function pte(a,c,f){if(!c)return a;const y=f&&f.encode||bde,C=f&&f.serialize;let w;if(C?w=C(c,f):w=rn.isURLSearchParams(c)?c.toString():new MY(c,f).toString(y),w){const S=a.indexOf("#");S!==-1&&(a=a.slice(0,S)),a+=(a.indexOf("?")===-1?"?":"&")+w}return a}class yde{constructor(){this.handlers=[]}use(c,f,y){return this.handlers.push({fulfilled:c,rejected:f,synchronous:y?y.synchronous:!1,runWhen:y?y.runWhen:null}),this.handlers.length-1}eject(c){this.handlers[c]&&(this.handlers[c]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(c){rn.forEach(this.handlers,function(y){y!==null&&c(y)})}}const ZQ=yde,gte={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_de=typeof URLSearchParams<"u"?URLSearchParams:MY,Ede=typeof FormData<"u"?FormData:null,wde=typeof Blob<"u"?Blob:null,Tde=(()=>{let a;return typeof navigator<"u"&&((a=navigator.product)==="ReactNative"||a==="NativeScript"||a==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Cde=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Xb={isBrowser:!0,classes:{URLSearchParams:_de,FormData:Ede,Blob:wde},isStandardBrowserEnv:Tde,isStandardBrowserWebWorkerEnv:Cde,protocols:["http","https","file","blob","url","data"]};function Sde(a,c){return YH(a,new Xb.classes.URLSearchParams,Object.assign({visitor:function(f,y,C,w){return Xb.isNode&&rn.isBuffer(f)?(this.append(y,f.toString("base64")),!1):w.defaultVisitor.apply(this,arguments)}},c))}function xde(a){return rn.matchAll(/\w+|\[(\w*)]/g,a).map(c=>c[0]==="[]"?"":c[1]||c[0])}function Ade(a){const c={},f=Object.keys(a);let y;const C=f.length;let w;for(y=0;y<C;y++)w=f[y],c[w]=a[w];return c}function vte(a){function c(f,y,C,w){let S=f[w++];const D=Number.isFinite(+S),k=w>=f.length;return S=!S&&rn.isArray(C)?C.length:S,k?(rn.hasOwnProp(C,S)?C[S]=[C[S],y]:C[S]=y,!D):((!C[S]||!rn.isObject(C[S]))&&(C[S]=[]),c(f,y,C[S],w)&&rn.isArray(C[S])&&(C[S]=Ade(C[S])),!D)}if(rn.isFormData(a)&&rn.isFunction(a.entries)){const f={};return rn.forEachEntry(a,(y,C)=>{c(xde(y),C,f,0)}),f}return null}const Ode={"Content-Type":void 0};function Rde(a,c,f){if(rn.isString(a))try{return(c||JSON.parse)(a),rn.trim(a)}catch(y){if(y.name!=="SyntaxError")throw y}return(f||JSON.stringify)(a)}const KH={transitional:gte,adapter:["xhr","http"],transformRequest:[function(c,f){const y=f.getContentType()||"",C=y.indexOf("application/json")>-1,w=rn.isObject(c);if(w&&rn.isHTMLForm(c)&&(c=new FormData(c)),rn.isFormData(c))return C&&C?JSON.stringify(vte(c)):c;if(rn.isArrayBuffer(c)||rn.isBuffer(c)||rn.isStream(c)||rn.isFile(c)||rn.isBlob(c))return c;if(rn.isArrayBufferView(c))return c.buffer;if(rn.isURLSearchParams(c))return f.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),c.toString();let D;if(w){if(y.indexOf("application/x-www-form-urlencoded")>-1)return Sde(c,this.formSerializer).toString();if((D=rn.isFileList(c))||y.indexOf("multipart/form-data")>-1){const k=this.env&&this.env.FormData;return YH(D?{"files[]":c}:c,k&&new k,this.formSerializer)}}return w||C?(f.setContentType("application/json",!1),Rde(c)):c}],transformResponse:[function(c){const f=this.transitional||KH.transitional,y=f&&f.forcedJSONParsing,C=this.responseType==="json";if(c&&rn.isString(c)&&(y&&!this.responseType||C)){const S=!(f&&f.silentJSONParsing)&&C;try{return JSON.parse(c)}catch(D){if(S)throw D.name==="SyntaxError"?oi.from(D,oi.ERR_BAD_RESPONSE,this,null,this.response):D}}return c}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xb.classes.FormData,Blob:Xb.classes.Blob},validateStatus:function(c){return c>=200&&c<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};rn.forEach(["delete","get","head"],function(c){KH.headers[c]={}});rn.forEach(["post","put","patch"],function(c){KH.headers[c]=rn.merge(Ode)});const kY=KH,Ide=rn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Dde=a=>{const c={};let f,y,C;return a&&a.split(`
`).forEach(function(S){C=S.indexOf(":"),f=S.substring(0,C).trim().toLowerCase(),y=S.substring(C+1).trim(),!(!f||c[f]&&Ide[f])&&(f==="set-cookie"?c[f]?c[f].push(y):c[f]=[y]:c[f]=c[f]?c[f]+", "+y:y)}),c},YQ=Symbol("internals");function jM(a){return a&&String(a).trim().toLowerCase()}function hH(a){return a===!1||a==null?a:rn.isArray(a)?a.map(hH):String(a)}function Nde(a){const c=Object.create(null),f=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let y;for(;y=f.exec(a);)c[y[1]]=y[2];return c}const Mde=a=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(a.trim());function aZ(a,c,f,y,C){if(rn.isFunction(y))return y.call(this,c,f);if(C&&(c=f),!!rn.isString(c)){if(rn.isString(y))return c.indexOf(y)!==-1;if(rn.isRegExp(y))return y.test(c)}}function kde(a){return a.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(c,f,y)=>f.toUpperCase()+y)}function Pde(a,c){const f=rn.toCamelCase(" "+c);["get","set","has"].forEach(y=>{Object.defineProperty(a,y+f,{value:function(C,w,S){return this[y].call(this,c,C,w,S)},configurable:!0})})}class XH{constructor(c){c&&this.set(c)}set(c,f,y){const C=this;function w(D,k,G){const q=jM(k);if(!q)throw new Error("header name must be a non-empty string");const X=rn.findKey(C,q);(!X||C[X]===void 0||G===!0||G===void 0&&C[X]!==!1)&&(C[X||k]=hH(D))}const S=(D,k)=>rn.forEach(D,(G,q)=>w(G,q,k));return rn.isPlainObject(c)||c instanceof this.constructor?S(c,f):rn.isString(c)&&(c=c.trim())&&!Mde(c)?S(Dde(c),f):c!=null&&w(f,c,y),this}get(c,f){if(c=jM(c),c){const y=rn.findKey(this,c);if(y){const C=this[y];if(!f)return C;if(f===!0)return Nde(C);if(rn.isFunction(f))return f.call(this,C,y);if(rn.isRegExp(f))return f.exec(C);throw new TypeError("parser must be boolean|regexp|function")}}}has(c,f){if(c=jM(c),c){const y=rn.findKey(this,c);return!!(y&&this[y]!==void 0&&(!f||aZ(this,this[y],y,f)))}return!1}delete(c,f){const y=this;let C=!1;function w(S){if(S=jM(S),S){const D=rn.findKey(y,S);D&&(!f||aZ(y,y[D],D,f))&&(delete y[D],C=!0)}}return rn.isArray(c)?c.forEach(w):w(c),C}clear(c){const f=Object.keys(this);let y=f.length,C=!1;for(;y--;){const w=f[y];(!c||aZ(this,this[w],w,c,!0))&&(delete this[w],C=!0)}return C}normalize(c){const f=this,y={};return rn.forEach(this,(C,w)=>{const S=rn.findKey(y,w);if(S){f[S]=hH(C),delete f[w];return}const D=c?kde(w):String(w).trim();D!==w&&delete f[w],f[D]=hH(C),y[D]=!0}),this}concat(...c){return this.constructor.concat(this,...c)}toJSON(c){const f=Object.create(null);return rn.forEach(this,(y,C)=>{y!=null&&y!==!1&&(f[C]=c&&rn.isArray(y)?y.join(", "):y)}),f}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([c,f])=>c+": "+f).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(c){return c instanceof this?c:new this(c)}static concat(c,...f){const y=new this(c);return f.forEach(C=>y.set(C)),y}static accessor(c){const y=(this[YQ]=this[YQ]={accessors:{}}).accessors,C=this.prototype;function w(S){const D=jM(S);y[D]||(Pde(C,S),y[D]=!0)}return rn.isArray(c)?c.forEach(w):w(c),this}}XH.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);rn.freezeMethods(XH.prototype);rn.freezeMethods(XH);const r_=XH;function cZ(a,c){const f=this||kY,y=c||f,C=r_.from(y.headers);let w=y.data;return rn.forEach(a,function(D){w=D.call(f,w,C.normalize(),c?c.status:void 0)}),C.normalize(),w}function bte(a){return!!(a&&a.__CANCEL__)}function ck(a,c,f){oi.call(this,a??"canceled",oi.ERR_CANCELED,c,f),this.name="CanceledError"}rn.inherits(ck,oi,{__CANCEL__:!0});function Lde(a,c,f){const y=f.config.validateStatus;!f.status||!y||y(f.status)?a(f):c(new oi("Request failed with status code "+f.status,[oi.ERR_BAD_REQUEST,oi.ERR_BAD_RESPONSE][Math.floor(f.status/100)-4],f.config,f.request,f))}const Bde=Xb.isStandardBrowserEnv?function(){return{write:function(f,y,C,w,S,D){const k=[];k.push(f+"="+encodeURIComponent(y)),rn.isNumber(C)&&k.push("expires="+new Date(C).toGMTString()),rn.isString(w)&&k.push("path="+w),rn.isString(S)&&k.push("domain="+S),D===!0&&k.push("secure"),document.cookie=k.join("; ")},read:function(f){const y=document.cookie.match(new RegExp("(^|;\\s*)("+f+")=([^;]*)"));return y?decodeURIComponent(y[3]):null},remove:function(f){this.write(f,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function $de(a){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a)}function Fde(a,c){return c?a.replace(/\/+$/,"")+"/"+c.replace(/^\/+/,""):a}function yte(a,c){return a&&!$de(c)?Fde(a,c):c}const Hde=Xb.isStandardBrowserEnv?function(){const c=/(msie|trident)/i.test(navigator.userAgent),f=document.createElement("a");let y;function C(w){let S=w;return c&&(f.setAttribute("href",S),S=f.href),f.setAttribute("href",S),{href:f.href,protocol:f.protocol?f.protocol.replace(/:$/,""):"",host:f.host,search:f.search?f.search.replace(/^\?/,""):"",hash:f.hash?f.hash.replace(/^#/,""):"",hostname:f.hostname,port:f.port,pathname:f.pathname.charAt(0)==="/"?f.pathname:"/"+f.pathname}}return y=C(window.location.href),function(S){const D=rn.isString(S)?C(S):S;return D.protocol===y.protocol&&D.host===y.host}}():function(){return function(){return!0}}();function Vde(a){const c=/^([-+\w]{1,25})(:?\/\/|:)/.exec(a);return c&&c[1]||""}function zde(a,c){a=a||10;const f=new Array(a),y=new Array(a);let C=0,w=0,S;return c=c!==void 0?c:1e3,function(k){const G=Date.now(),q=y[w];S||(S=G),f[C]=k,y[C]=G;let X=w,fe=0;for(;X!==C;)fe+=f[X++],X=X%a;if(C=(C+1)%a,C===w&&(w=(w+1)%a),G-S<c)return;const re=q&&G-q;return re?Math.round(fe*1e3/re):void 0}}function KQ(a,c){let f=0;const y=zde(50,250);return C=>{const w=C.loaded,S=C.lengthComputable?C.total:void 0,D=w-f,k=y(D),G=w<=S;f=w;const q={loaded:w,total:S,progress:S?w/S:void 0,bytes:D,rate:k||void 0,estimated:k&&S&&G?(S-w)/k:void 0,event:C};q[c?"download":"upload"]=!0,a(q)}}const Ude=typeof XMLHttpRequest<"u",Wde=Ude&&function(a){return new Promise(function(f,y){let C=a.data;const w=r_.from(a.headers).normalize(),S=a.responseType;let D;function k(){a.cancelToken&&a.cancelToken.unsubscribe(D),a.signal&&a.signal.removeEventListener("abort",D)}rn.isFormData(C)&&(Xb.isStandardBrowserEnv||Xb.isStandardBrowserWebWorkerEnv)&&w.setContentType(!1);let G=new XMLHttpRequest;if(a.auth){const re=a.auth.username||"",he=a.auth.password?unescape(encodeURIComponent(a.auth.password)):"";w.set("Authorization","Basic "+btoa(re+":"+he))}const q=yte(a.baseURL,a.url);G.open(a.method.toUpperCase(),pte(q,a.params,a.paramsSerializer),!0),G.timeout=a.timeout;function X(){if(!G)return;const re=r_.from("getAllResponseHeaders"in G&&G.getAllResponseHeaders()),ue={data:!S||S==="text"||S==="json"?G.responseText:G.response,status:G.status,statusText:G.statusText,headers:re,config:a,request:G};Lde(function(ae){f(ae),k()},function(ae){y(ae),k()},ue),G=null}if("onloadend"in G?G.onloadend=X:G.onreadystatechange=function(){!G||G.readyState!==4||G.status===0&&!(G.responseURL&&G.responseURL.indexOf("file:")===0)||setTimeout(X)},G.onabort=function(){G&&(y(new oi("Request aborted",oi.ECONNABORTED,a,G)),G=null)},G.onerror=function(){y(new oi("Network Error",oi.ERR_NETWORK,a,G)),G=null},G.ontimeout=function(){let he=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const ue=a.transitional||gte;a.timeoutErrorMessage&&(he=a.timeoutErrorMessage),y(new oi(he,ue.clarifyTimeoutError?oi.ETIMEDOUT:oi.ECONNABORTED,a,G)),G=null},Xb.isStandardBrowserEnv){const re=(a.withCredentials||Hde(q))&&a.xsrfCookieName&&Bde.read(a.xsrfCookieName);re&&w.set(a.xsrfHeaderName,re)}C===void 0&&w.setContentType(null),"setRequestHeader"in G&&rn.forEach(w.toJSON(),function(he,ue){G.setRequestHeader(ue,he)}),rn.isUndefined(a.withCredentials)||(G.withCredentials=!!a.withCredentials),S&&S!=="json"&&(G.responseType=a.responseType),typeof a.onDownloadProgress=="function"&&G.addEventListener("progress",KQ(a.onDownloadProgress,!0)),typeof a.onUploadProgress=="function"&&G.upload&&G.upload.addEventListener("progress",KQ(a.onUploadProgress)),(a.cancelToken||a.signal)&&(D=re=>{G&&(y(!re||re.type?new ck(null,a,G):re),G.abort(),G=null)},a.cancelToken&&a.cancelToken.subscribe(D),a.signal&&(a.signal.aborted?D():a.signal.addEventListener("abort",D)));const fe=Vde(q);if(fe&&Xb.protocols.indexOf(fe)===-1){y(new oi("Unsupported protocol "+fe+":",oi.ERR_BAD_REQUEST,a));return}G.send(C||null)})},mH={http:pde,xhr:Wde};rn.forEach(mH,(a,c)=>{if(a){try{Object.defineProperty(a,"name",{value:c})}catch{}Object.defineProperty(a,"adapterName",{value:c})}});const Gde={getAdapter:a=>{a=rn.isArray(a)?a:[a];const{length:c}=a;let f,y;for(let C=0;C<c&&(f=a[C],!(y=rn.isString(f)?mH[f.toLowerCase()]:f));C++);if(!y)throw y===!1?new oi(`Adapter ${f} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(rn.hasOwnProp(mH,f)?`Adapter '${f}' is not available in the build`:`Unknown adapter '${f}'`);if(!rn.isFunction(y))throw new TypeError("adapter is not a function");return y},adapters:mH};function lZ(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new ck(null,a)}function XQ(a){return lZ(a),a.headers=r_.from(a.headers),a.data=cZ.call(a,a.transformRequest),["post","put","patch"].indexOf(a.method)!==-1&&a.headers.setContentType("application/x-www-form-urlencoded",!1),Gde.getAdapter(a.adapter||kY.adapter)(a).then(function(y){return lZ(a),y.data=cZ.call(a,a.transformResponse,y),y.headers=r_.from(y.headers),y},function(y){return bte(y)||(lZ(a),y&&y.response&&(y.response.data=cZ.call(a,a.transformResponse,y.response),y.response.headers=r_.from(y.response.headers))),Promise.reject(y)})}const QQ=a=>a instanceof r_?a.toJSON():a;function XO(a,c){c=c||{};const f={};function y(G,q,X){return rn.isPlainObject(G)&&rn.isPlainObject(q)?rn.merge.call({caseless:X},G,q):rn.isPlainObject(q)?rn.merge({},q):rn.isArray(q)?q.slice():q}function C(G,q,X){if(rn.isUndefined(q)){if(!rn.isUndefined(G))return y(void 0,G,X)}else return y(G,q,X)}function w(G,q){if(!rn.isUndefined(q))return y(void 0,q)}function S(G,q){if(rn.isUndefined(q)){if(!rn.isUndefined(G))return y(void 0,G)}else return y(void 0,q)}function D(G,q,X){if(X in c)return y(G,q);if(X in a)return y(void 0,G)}const k={url:w,method:w,data:w,baseURL:S,transformRequest:S,transformResponse:S,paramsSerializer:S,timeout:S,timeoutMessage:S,withCredentials:S,adapter:S,responseType:S,xsrfCookieName:S,xsrfHeaderName:S,onUploadProgress:S,onDownloadProgress:S,decompress:S,maxContentLength:S,maxBodyLength:S,beforeRedirect:S,transport:S,httpAgent:S,httpsAgent:S,cancelToken:S,socketPath:S,responseEncoding:S,validateStatus:D,headers:(G,q)=>C(QQ(G),QQ(q),!0)};return rn.forEach(Object.keys(a).concat(Object.keys(c)),function(q){const X=k[q]||C,fe=X(a[q],c[q],q);rn.isUndefined(fe)&&X!==D||(f[q]=fe)}),f}const _te="1.3.5",PY={};["object","boolean","number","function","string","symbol"].forEach((a,c)=>{PY[a]=function(y){return typeof y===a||"a"+(c<1?"n ":" ")+a}});const JQ={};PY.transitional=function(c,f,y){function C(w,S){return"[Axios v"+_te+"] Transitional option '"+w+"'"+S+(y?". "+y:"")}return(w,S,D)=>{if(c===!1)throw new oi(C(S," has been removed"+(f?" in "+f:"")),oi.ERR_DEPRECATED);return f&&!JQ[S]&&(JQ[S]=!0,console.warn(C(S," has been deprecated since v"+f+" and will be removed in the near future"))),c?c(w,S,D):!0}};function qde(a,c,f){if(typeof a!="object")throw new oi("options must be an object",oi.ERR_BAD_OPTION_VALUE);const y=Object.keys(a);let C=y.length;for(;C-- >0;){const w=y[C],S=c[w];if(S){const D=a[w],k=D===void 0||S(D,w,a);if(k!==!0)throw new oi("option "+w+" must be "+k,oi.ERR_BAD_OPTION_VALUE);continue}if(f!==!0)throw new oi("Unknown option "+w,oi.ERR_BAD_OPTION)}}const YZ={assertOptions:qde,validators:PY},Rw=YZ.validators;class MH{constructor(c){this.defaults=c,this.interceptors={request:new ZQ,response:new ZQ}}request(c,f){typeof c=="string"?(f=f||{},f.url=c):f=c||{},f=XO(this.defaults,f);const{transitional:y,paramsSerializer:C,headers:w}=f;y!==void 0&&YZ.assertOptions(y,{silentJSONParsing:Rw.transitional(Rw.boolean),forcedJSONParsing:Rw.transitional(Rw.boolean),clarifyTimeoutError:Rw.transitional(Rw.boolean)},!1),C!=null&&(rn.isFunction(C)?f.paramsSerializer={serialize:C}:YZ.assertOptions(C,{encode:Rw.function,serialize:Rw.function},!0)),f.method=(f.method||this.defaults.method||"get").toLowerCase();let S;S=w&&rn.merge(w.common,w[f.method]),S&&rn.forEach(["delete","get","head","post","put","patch","common"],he=>{delete w[he]}),f.headers=r_.concat(S,w);const D=[];let k=!0;this.interceptors.request.forEach(function(ue){typeof ue.runWhen=="function"&&ue.runWhen(f)===!1||(k=k&&ue.synchronous,D.unshift(ue.fulfilled,ue.rejected))});const G=[];this.interceptors.response.forEach(function(ue){G.push(ue.fulfilled,ue.rejected)});let q,X=0,fe;if(!k){const he=[XQ.bind(this),void 0];for(he.unshift.apply(he,D),he.push.apply(he,G),fe=he.length,q=Promise.resolve(f);X<fe;)q=q.then(he[X++],he[X++]);return q}fe=D.length;let re=f;for(X=0;X<fe;){const he=D[X++],ue=D[X++];try{re=he(re)}catch(ce){ue.call(this,ce);break}}try{q=XQ.call(this,re)}catch(he){return Promise.reject(he)}for(X=0,fe=G.length;X<fe;)q=q.then(G[X++],G[X++]);return q}getUri(c){c=XO(this.defaults,c);const f=yte(c.baseURL,c.url);return pte(f,c.params,c.paramsSerializer)}}rn.forEach(["delete","get","head","options"],function(c){MH.prototype[c]=function(f,y){return this.request(XO(y||{},{method:c,url:f,data:(y||{}).data}))}});rn.forEach(["post","put","patch"],function(c){function f(y){return function(w,S,D){return this.request(XO(D||{},{method:c,headers:y?{"Content-Type":"multipart/form-data"}:{},url:w,data:S}))}}MH.prototype[c]=f(),MH.prototype[c+"Form"]=f(!0)});const pH=MH;class LY{constructor(c){if(typeof c!="function")throw new TypeError("executor must be a function.");let f;this.promise=new Promise(function(w){f=w});const y=this;this.promise.then(C=>{if(!y._listeners)return;let w=y._listeners.length;for(;w-- >0;)y._listeners[w](C);y._listeners=null}),this.promise.then=C=>{let w;const S=new Promise(D=>{y.subscribe(D),w=D}).then(C);return S.cancel=function(){y.unsubscribe(w)},S},c(function(w,S,D){y.reason||(y.reason=new ck(w,S,D),f(y.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(c){if(this.reason){c(this.reason);return}this._listeners?this._listeners.push(c):this._listeners=[c]}unsubscribe(c){if(!this._listeners)return;const f=this._listeners.indexOf(c);f!==-1&&this._listeners.splice(f,1)}static source(){let c;return{token:new LY(function(C){c=C}),cancel:c}}}const jde=LY;function Zde(a){return function(f){return a.apply(null,f)}}function Yde(a){return rn.isObject(a)&&a.isAxiosError===!0}const KZ={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(KZ).forEach(([a,c])=>{KZ[c]=a});const Kde=KZ;function Ete(a){const c=new pH(a),f=nte(pH.prototype.request,c);return rn.extend(f,pH.prototype,c,{allOwnKeys:!0}),rn.extend(f,c,null,{allOwnKeys:!0}),f.create=function(C){return Ete(XO(a,C))},f}const Ru=Ete(kY);Ru.Axios=pH;Ru.CanceledError=ck;Ru.CancelToken=jde;Ru.isCancel=bte;Ru.VERSION=_te;Ru.toFormData=YH;Ru.AxiosError=oi;Ru.Cancel=Ru.CanceledError;Ru.all=function(c){return Promise.all(c)};Ru.spread=Zde;Ru.isAxiosError=Yde;Ru.mergeConfig=XO;Ru.AxiosHeaders=r_;Ru.formToJSON=a=>vte(rn.isHTMLForm(a)?new FormData(a):a);Ru.HttpStatusCode=Kde;Ru.default=Ru;const Xde=Ru;window._=Kne;window.axios=Xde;window.$=window.jQuery=Qne;window.tinymce=eoe;window.FilePond=Yae;window.bootstrap=Uoe;CH(Jee,jee,qee,ete,Wee);window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";/*!
  * Bootstrap v5.3.0-alpha3 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Iw=new Map,uZ={set(a,c,f){Iw.has(a)||Iw.set(a,new Map);const y=Iw.get(a);if(!y.has(c)&&y.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(y.keys())[0]}.`);return}y.set(c,f)},get(a,c){return Iw.has(a)&&Iw.get(a).get(c)||null},remove(a,c){if(!Iw.has(a))return;const f=Iw.get(a);f.delete(c),f.size===0&&Iw.delete(a)}},Qde=1e6,Jde=1e3,XZ="transitionend",wte=a=>(a&&window.CSS&&window.CSS.escape&&(a=a.replace(/#([^\s"#']+)/g,(c,f)=>`#${CSS.escape(f)}`)),a),efe=a=>a==null?`${a}`:Object.prototype.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase(),tfe=a=>{do a+=Math.floor(Math.random()*Qde);while(document.getElementById(a));return a},nfe=a=>{if(!a)return 0;let{transitionDuration:c,transitionDelay:f}=window.getComputedStyle(a);const y=Number.parseFloat(c),C=Number.parseFloat(f);return!y&&!C?0:(c=c.split(",")[0],f=f.split(",")[0],(Number.parseFloat(c)+Number.parseFloat(f))*Jde)},Tte=a=>{a.dispatchEvent(new Event(XZ))},i_=a=>!a||typeof a!="object"?!1:(typeof a.jquery<"u"&&(a=a[0]),typeof a.nodeType<"u"),Pw=a=>i_(a)?a.jquery?a[0]:a:typeof a=="string"&&a.length>0?document.querySelector(wte(a)):null,iR=a=>{if(!i_(a)||a.getClientRects().length===0)return!1;const c=getComputedStyle(a).getPropertyValue("visibility")==="visible",f=a.closest("details:not([open])");if(!f)return c;if(f!==a){const y=a.closest("summary");if(y&&y.parentNode!==f||y===null)return!1}return c},Lw=a=>!a||a.nodeType!==Node.ELEMENT_NODE||a.classList.contains("disabled")?!0:typeof a.disabled<"u"?a.disabled:a.hasAttribute("disabled")&&a.getAttribute("disabled")!=="false",Cte=a=>{if(!document.documentElement.attachShadow)return null;if(typeof a.getRootNode=="function"){const c=a.getRootNode();return c instanceof ShadowRoot?c:null}return a instanceof ShadowRoot?a:a.parentNode?Cte(a.parentNode):null},kH=()=>{},lk=a=>{a.offsetHeight},Ste=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,dZ=[],ofe=a=>{document.readyState==="loading"?(dZ.length||document.addEventListener("DOMContentLoaded",()=>{for(const c of dZ)c()}),dZ.push(a)):a()},t1=()=>document.documentElement.dir==="rtl",o1=a=>{ofe(()=>{const c=Ste();if(c){const f=a.NAME,y=c.fn[f];c.fn[f]=a.jQueryInterface,c.fn[f].Constructor=a,c.fn[f].noConflict=()=>(c.fn[f]=y,a.jQueryInterface)}})},Tm=(a,c=[],f=a)=>typeof a=="function"?a(...c):f,xte=(a,c,f=!0)=>{if(!f){Tm(a);return}const y=5,C=nfe(c)+y;let w=!1;const S=({target:D})=>{D===c&&(w=!0,c.removeEventListener(XZ,S),Tm(a))};c.addEventListener(XZ,S),setTimeout(()=>{w||Tte(c)},C)},BY=(a,c,f,y)=>{const C=a.length;let w=a.indexOf(c);return w===-1?!f&&y?a[C-1]:a[0]:(w+=f?1:-1,y&&(w=(w+C)%C),a[Math.max(0,Math.min(w,C-1))])},sfe=/[^.]*(?=\..*)\.|.*/,rfe=/\..*/,ife=/::\d+$/,fZ={};let eJ=1;const Ate={mouseenter:"mouseover",mouseleave:"mouseout"},afe=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Ote(a,c){return c&&`${c}::${eJ++}`||a.uidEvent||eJ++}function Rte(a){const c=Ote(a);return a.uidEvent=c,fZ[c]=fZ[c]||{},fZ[c]}function cfe(a,c){return function f(y){return $Y(y,{delegateTarget:a}),f.oneOff&&wn.off(a,y.type,c),c.apply(a,[y])}}function lfe(a,c,f){return function y(C){const w=a.querySelectorAll(c);for(let{target:S}=C;S&&S!==this;S=S.parentNode)for(const D of w)if(D===S)return $Y(C,{delegateTarget:S}),y.oneOff&&wn.off(a,C.type,c,f),f.apply(S,[C])}}function Ite(a,c,f=null){return Object.values(a).find(y=>y.callable===c&&y.delegationSelector===f)}function Dte(a,c,f){const y=typeof c=="string",C=y?f:c||f;let w=Nte(a);return afe.has(w)||(w=a),[y,C,w]}function tJ(a,c,f,y,C){if(typeof c!="string"||!a)return;let[w,S,D]=Dte(c,f,y);c in Ate&&(S=(he=>function(ue){if(!ue.relatedTarget||ue.relatedTarget!==ue.delegateTarget&&!ue.delegateTarget.contains(ue.relatedTarget))return he.call(this,ue)})(S));const k=Rte(a),G=k[D]||(k[D]={}),q=Ite(G,S,w?f:null);if(q){q.oneOff=q.oneOff&&C;return}const X=Ote(S,c.replace(sfe,"")),fe=w?lfe(a,f,S):cfe(a,S);fe.delegationSelector=w?f:null,fe.callable=S,fe.oneOff=C,fe.uidEvent=X,G[X]=fe,a.addEventListener(D,fe,w)}function QZ(a,c,f,y,C){const w=Ite(c[f],y,C);w&&(a.removeEventListener(f,w,!!C),delete c[f][w.uidEvent])}function ufe(a,c,f,y){const C=c[f]||{};for(const[w,S]of Object.entries(C))w.includes(y)&&QZ(a,c,f,S.callable,S.delegationSelector)}function Nte(a){return a=a.replace(rfe,""),Ate[a]||a}const wn={on(a,c,f,y){tJ(a,c,f,y,!1)},one(a,c,f,y){tJ(a,c,f,y,!0)},off(a,c,f,y){if(typeof c!="string"||!a)return;const[C,w,S]=Dte(c,f,y),D=S!==c,k=Rte(a),G=k[S]||{},q=c.startsWith(".");if(typeof w<"u"){if(!Object.keys(G).length)return;QZ(a,k,S,w,C?f:null);return}if(q)for(const X of Object.keys(k))ufe(a,k,X,c.slice(1));for(const[X,fe]of Object.entries(G)){const re=X.replace(ife,"");(!D||c.includes(re))&&QZ(a,k,S,fe.callable,fe.delegationSelector)}},trigger(a,c,f){if(typeof c!="string"||!a)return null;const y=Ste(),C=Nte(c),w=c!==C;let S=null,D=!0,k=!0,G=!1;w&&y&&(S=y.Event(c,f),y(a).trigger(S),D=!S.isPropagationStopped(),k=!S.isImmediatePropagationStopped(),G=S.isDefaultPrevented());const q=$Y(new Event(c,{bubbles:D,cancelable:!0}),f);return G&&q.preventDefault(),k&&a.dispatchEvent(q),q.defaultPrevented&&S&&S.preventDefault(),q}};function $Y(a,c={}){for(const[f,y]of Object.entries(c))try{a[f]=y}catch{Object.defineProperty(a,f,{configurable:!0,get(){return y}})}return a}function nJ(a){if(a==="true")return!0;if(a==="false")return!1;if(a===Number(a).toString())return Number(a);if(a===""||a==="null")return null;if(typeof a!="string")return a;try{return JSON.parse(decodeURIComponent(a))}catch{return a}}function hZ(a){return a.replace(/[A-Z]/g,c=>`-${c.toLowerCase()}`)}const a_={setDataAttribute(a,c,f){a.setAttribute(`data-bs-${hZ(c)}`,f)},removeDataAttribute(a,c){a.removeAttribute(`data-bs-${hZ(c)}`)},getDataAttributes(a){if(!a)return{};const c={},f=Object.keys(a.dataset).filter(y=>y.startsWith("bs")&&!y.startsWith("bsConfig"));for(const y of f){let C=y.replace(/^bs/,"");C=C.charAt(0).toLowerCase()+C.slice(1,C.length),c[C]=nJ(a.dataset[y])}return c},getDataAttribute(a,c){return nJ(a.getAttribute(`data-bs-${hZ(c)}`))}};class uk{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(c){return c=this._mergeConfigObj(c),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}_configAfterMerge(c){return c}_mergeConfigObj(c,f){const y=i_(f)?a_.getDataAttribute(f,"config"):{};return{...this.constructor.Default,...typeof y=="object"?y:{},...i_(f)?a_.getDataAttributes(f):{},...typeof c=="object"?c:{}}}_typeCheckConfig(c,f=this.constructor.DefaultType){for(const[y,C]of Object.entries(f)){const w=c[y],S=i_(w)?"element":efe(w);if(!new RegExp(C).test(S))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${y}" provided type "${S}" but expected type "${C}".`)}}}const dfe="5.3.0-alpha2";class Ev extends uk{constructor(c,f){super(),c=Pw(c),c&&(this._element=c,this._config=this._getConfig(f),uZ.set(this._element,this.constructor.DATA_KEY,this))}dispose(){uZ.remove(this._element,this.constructor.DATA_KEY),wn.off(this._element,this.constructor.EVENT_KEY);for(const c of Object.getOwnPropertyNames(this))this[c]=null}_queueCallback(c,f,y=!0){xte(c,f,y)}_getConfig(c){return c=this._mergeConfigObj(c,this._element),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}static getInstance(c){return uZ.get(Pw(c),this.DATA_KEY)}static getOrCreateInstance(c,f={}){return this.getInstance(c)||new this(c,typeof f=="object"?f:null)}static get VERSION(){return dfe}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(c){return`${c}${this.EVENT_KEY}`}}const mZ=a=>{let c=a.getAttribute("data-bs-target");if(!c||c==="#"){let f=a.getAttribute("href");if(!f||!f.includes("#")&&!f.startsWith("."))return null;f.includes("#")&&!f.startsWith("#")&&(f=`#${f.split("#")[1]}`),c=f&&f!=="#"?f.trim():null}return wte(c)},ss={find(a,c=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(c,a))},findOne(a,c=document.documentElement){return Element.prototype.querySelector.call(c,a)},children(a,c){return[].concat(...a.children).filter(f=>f.matches(c))},parents(a,c){const f=[];let y=a.parentNode.closest(c);for(;y;)f.push(y),y=y.parentNode.closest(c);return f},prev(a,c){let f=a.previousElementSibling;for(;f;){if(f.matches(c))return[f];f=f.previousElementSibling}return[]},next(a,c){let f=a.nextElementSibling;for(;f;){if(f.matches(c))return[f];f=f.nextElementSibling}return[]},focusableChildren(a){const c=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(f=>`${f}:not([tabindex^="-"])`).join(",");return this.find(c,a).filter(f=>!Lw(f)&&iR(f))},getSelectorFromElement(a){const c=mZ(a);return c&&ss.findOne(c)?c:null},getElementFromSelector(a){const c=mZ(a);return c?ss.findOne(c):null},getMultipleElementsFromSelector(a){const c=mZ(a);return c?ss.find(c):[]}},QH=(a,c="hide")=>{const f=`click.dismiss${a.EVENT_KEY}`,y=a.NAME;wn.on(document,f,`[data-bs-dismiss="${y}"]`,function(C){if(["A","AREA"].includes(this.tagName)&&C.preventDefault(),Lw(this))return;const w=ss.getElementFromSelector(this)||this.closest(`.${y}`);a.getOrCreateInstance(w)[c]()})},ffe="alert",hfe="bs.alert",Mte=`.${hfe}`,mfe=`close${Mte}`,pfe=`closed${Mte}`,gfe="fade",vfe="show";class JH extends Ev{static get NAME(){return ffe}close(){if(wn.trigger(this._element,mfe).defaultPrevented)return;this._element.classList.remove(vfe);const f=this._element.classList.contains(gfe);this._queueCallback(()=>this._destroyElement(),this._element,f)}_destroyElement(){this._element.remove(),wn.trigger(this._element,pfe),this.dispose()}static jQueryInterface(c){return this.each(function(){const f=JH.getOrCreateInstance(this);if(typeof c=="string"){if(f[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);f[c](this)}})}}QH(JH,"close");o1(JH);const bfe="button",yfe="bs.button",_fe=`.${yfe}`,Efe=".data-api",wfe="active",oJ='[data-bs-toggle="button"]',Tfe=`click${_fe}${Efe}`;class e6 extends Ev{static get NAME(){return bfe}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(wfe))}static jQueryInterface(c){return this.each(function(){const f=e6.getOrCreateInstance(this);c==="toggle"&&f[c]()})}}wn.on(document,Tfe,oJ,a=>{a.preventDefault();const c=a.target.closest(oJ);e6.getOrCreateInstance(c).toggle()});o1(e6);const Cfe="swipe",aR=".bs.swipe",Sfe=`touchstart${aR}`,xfe=`touchmove${aR}`,Afe=`touchend${aR}`,Ofe=`pointerdown${aR}`,Rfe=`pointerup${aR}`,Ife="touch",Dfe="pen",Nfe="pointer-event",Mfe=40,kfe={endCallback:null,leftCallback:null,rightCallback:null},Pfe={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class PH extends uk{constructor(c,f){super(),this._element=c,!(!c||!PH.isSupported())&&(this._config=this._getConfig(f),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return kfe}static get DefaultType(){return Pfe}static get NAME(){return Cfe}dispose(){wn.off(this._element,aR)}_start(c){if(!this._supportPointerEvents){this._deltaX=c.touches[0].clientX;return}this._eventIsPointerPenTouch(c)&&(this._deltaX=c.clientX)}_end(c){this._eventIsPointerPenTouch(c)&&(this._deltaX=c.clientX-this._deltaX),this._handleSwipe(),Tm(this._config.endCallback)}_move(c){this._deltaX=c.touches&&c.touches.length>1?0:c.touches[0].clientX-this._deltaX}_handleSwipe(){const c=Math.abs(this._deltaX);if(c<=Mfe)return;const f=c/this._deltaX;this._deltaX=0,f&&Tm(f>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(wn.on(this._element,Ofe,c=>this._start(c)),wn.on(this._element,Rfe,c=>this._end(c)),this._element.classList.add(Nfe)):(wn.on(this._element,Sfe,c=>this._start(c)),wn.on(this._element,xfe,c=>this._move(c)),wn.on(this._element,Afe,c=>this._end(c)))}_eventIsPointerPenTouch(c){return this._supportPointerEvents&&(c.pointerType===Dfe||c.pointerType===Ife)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Lfe="carousel",Bfe="bs.carousel",Fw=`.${Bfe}`,kte=".data-api",$fe="ArrowLeft",Ffe="ArrowRight",Hfe=500,ZM="next",IO="prev",MO="left",gH="right",Vfe=`slide${Fw}`,pZ=`slid${Fw}`,zfe=`keydown${Fw}`,Ufe=`mouseenter${Fw}`,Wfe=`mouseleave${Fw}`,Gfe=`dragstart${Fw}`,qfe=`load${Fw}${kte}`,jfe=`click${Fw}${kte}`,Pte="carousel",Q5="active",Zfe="slide",Yfe="carousel-item-end",Kfe="carousel-item-start",Xfe="carousel-item-next",Qfe="carousel-item-prev",Lte=".active",Bte=".carousel-item",Jfe=Lte+Bte,ehe=".carousel-item img",the=".carousel-indicators",nhe="[data-bs-slide], [data-bs-slide-to]",ohe='[data-bs-ride="carousel"]',she={[$fe]:gH,[Ffe]:MO},rhe={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},ihe={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class dk extends Ev{constructor(c,f){super(c,f),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ss.findOne(the,this._element),this._addEventListeners(),this._config.ride===Pte&&this.cycle()}static get Default(){return rhe}static get DefaultType(){return ihe}static get NAME(){return Lfe}next(){this._slide(ZM)}nextWhenVisible(){!document.hidden&&iR(this._element)&&this.next()}prev(){this._slide(IO)}pause(){this._isSliding&&Tte(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){wn.one(this._element,pZ,()=>this.cycle());return}this.cycle()}}to(c){const f=this._getItems();if(c>f.length-1||c<0)return;if(this._isSliding){wn.one(this._element,pZ,()=>this.to(c));return}const y=this._getItemIndex(this._getActive());if(y===c)return;const C=c>y?ZM:IO;this._slide(C,f[c])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(c){return c.defaultInterval=c.interval,c}_addEventListeners(){this._config.keyboard&&wn.on(this._element,zfe,c=>this._keydown(c)),this._config.pause==="hover"&&(wn.on(this._element,Ufe,()=>this.pause()),wn.on(this._element,Wfe,()=>this._maybeEnableCycle())),this._config.touch&&PH.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const y of ss.find(ehe,this._element))wn.on(y,Gfe,C=>C.preventDefault());const f={leftCallback:()=>this._slide(this._directionToOrder(MO)),rightCallback:()=>this._slide(this._directionToOrder(gH)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Hfe+this._config.interval))}};this._swipeHelper=new PH(this._element,f)}_keydown(c){if(/input|textarea/i.test(c.target.tagName))return;const f=she[c.key];f&&(c.preventDefault(),this._slide(this._directionToOrder(f)))}_getItemIndex(c){return this._getItems().indexOf(c)}_setActiveIndicatorElement(c){if(!this._indicatorsElement)return;const f=ss.findOne(Lte,this._indicatorsElement);f.classList.remove(Q5),f.removeAttribute("aria-current");const y=ss.findOne(`[data-bs-slide-to="${c}"]`,this._indicatorsElement);y&&(y.classList.add(Q5),y.setAttribute("aria-current","true"))}_updateInterval(){const c=this._activeElement||this._getActive();if(!c)return;const f=Number.parseInt(c.getAttribute("data-bs-interval"),10);this._config.interval=f||this._config.defaultInterval}_slide(c,f=null){if(this._isSliding)return;const y=this._getActive(),C=c===ZM,w=f||BY(this._getItems(),y,C,this._config.wrap);if(w===y)return;const S=this._getItemIndex(w),D=re=>wn.trigger(this._element,re,{relatedTarget:w,direction:this._orderToDirection(c),from:this._getItemIndex(y),to:S});if(D(Vfe).defaultPrevented||!y||!w)return;const G=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(S),this._activeElement=w;const q=C?Kfe:Yfe,X=C?Xfe:Qfe;w.classList.add(X),lk(w),y.classList.add(q),w.classList.add(q);const fe=()=>{w.classList.remove(q,X),w.classList.add(Q5),y.classList.remove(Q5,X,q),this._isSliding=!1,D(pZ)};this._queueCallback(fe,y,this._isAnimated()),G&&this.cycle()}_isAnimated(){return this._element.classList.contains(Zfe)}_getActive(){return ss.findOne(Jfe,this._element)}_getItems(){return ss.find(Bte,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(c){return t1()?c===MO?IO:ZM:c===MO?ZM:IO}_orderToDirection(c){return t1()?c===IO?MO:gH:c===IO?gH:MO}static jQueryInterface(c){return this.each(function(){const f=dk.getOrCreateInstance(this,c);if(typeof c=="number"){f.to(c);return}if(typeof c=="string"){if(f[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);f[c]()}})}}wn.on(document,jfe,nhe,function(a){const c=ss.getElementFromSelector(this);if(!c||!c.classList.contains(Pte))return;a.preventDefault();const f=dk.getOrCreateInstance(c),y=this.getAttribute("data-bs-slide-to");if(y){f.to(y),f._maybeEnableCycle();return}if(a_.getDataAttribute(this,"slide")==="next"){f.next(),f._maybeEnableCycle();return}f.prev(),f._maybeEnableCycle()});wn.on(window,qfe,()=>{const a=ss.find(ohe);for(const c of a)dk.getOrCreateInstance(c)});o1(dk);const ahe="collapse",che="bs.collapse",fk=`.${che}`,lhe=".data-api",uhe=`show${fk}`,dhe=`shown${fk}`,fhe=`hide${fk}`,hhe=`hidden${fk}`,mhe=`click${fk}${lhe}`,gZ="show",FO="collapse",J5="collapsing",phe="collapsed",ghe=`:scope .${FO} .${FO}`,vhe="collapse-horizontal",bhe="width",yhe="height",_he=".collapse.show, .collapse.collapsing",JZ='[data-bs-toggle="collapse"]',Ehe={parent:null,toggle:!0},whe={parent:"(null|element)",toggle:"boolean"};class sk extends Ev{constructor(c,f){super(c,f),this._isTransitioning=!1,this._triggerArray=[];const y=ss.find(JZ);for(const C of y){const w=ss.getSelectorFromElement(C),S=ss.find(w).filter(D=>D===this._element);w!==null&&S.length&&this._triggerArray.push(C)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Ehe}static get DefaultType(){return whe}static get NAME(){return ahe}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let c=[];if(this._config.parent&&(c=this._getFirstLevelChildren(_he).filter(D=>D!==this._element).map(D=>sk.getOrCreateInstance(D,{toggle:!1}))),c.length&&c[0]._isTransitioning||wn.trigger(this._element,uhe).defaultPrevented)return;for(const D of c)D.hide();const y=this._getDimension();this._element.classList.remove(FO),this._element.classList.add(J5),this._element.style[y]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const C=()=>{this._isTransitioning=!1,this._element.classList.remove(J5),this._element.classList.add(FO,gZ),this._element.style[y]="",wn.trigger(this._element,dhe)},S=`scroll${y[0].toUpperCase()+y.slice(1)}`;this._queueCallback(C,this._element,!0),this._element.style[y]=`${this._element[S]}px`}hide(){if(this._isTransitioning||!this._isShown()||wn.trigger(this._element,fhe).defaultPrevented)return;const f=this._getDimension();this._element.style[f]=`${this._element.getBoundingClientRect()[f]}px`,lk(this._element),this._element.classList.add(J5),this._element.classList.remove(FO,gZ);for(const C of this._triggerArray){const w=ss.getElementFromSelector(C);w&&!this._isShown(w)&&this._addAriaAndCollapsedClass([C],!1)}this._isTransitioning=!0;const y=()=>{this._isTransitioning=!1,this._element.classList.remove(J5),this._element.classList.add(FO),wn.trigger(this._element,hhe)};this._element.style[f]="",this._queueCallback(y,this._element,!0)}_isShown(c=this._element){return c.classList.contains(gZ)}_configAfterMerge(c){return c.toggle=!!c.toggle,c.parent=Pw(c.parent),c}_getDimension(){return this._element.classList.contains(vhe)?bhe:yhe}_initializeChildren(){if(!this._config.parent)return;const c=this._getFirstLevelChildren(JZ);for(const f of c){const y=ss.getElementFromSelector(f);y&&this._addAriaAndCollapsedClass([f],this._isShown(y))}}_getFirstLevelChildren(c){const f=ss.find(ghe,this._config.parent);return ss.find(c,this._config.parent).filter(y=>!f.includes(y))}_addAriaAndCollapsedClass(c,f){if(c.length)for(const y of c)y.classList.toggle(phe,!f),y.setAttribute("aria-expanded",f)}static jQueryInterface(c){const f={};return typeof c=="string"&&/show|hide/.test(c)&&(f.toggle=!1),this.each(function(){const y=sk.getOrCreateInstance(this,f);if(typeof c=="string"){if(typeof y[c]>"u")throw new TypeError(`No method named "${c}"`);y[c]()}})}}wn.on(document,mhe,JZ,function(a){(a.target.tagName==="A"||a.delegateTarget&&a.delegateTarget.tagName==="A")&&a.preventDefault();for(const c of ss.getMultipleElementsFromSelector(this))sk.getOrCreateInstance(c,{toggle:!1}).toggle()});o1(sk);const sJ="dropdown",The="bs.dropdown",px=`.${The}`,FY=".data-api",Che="Escape",rJ="Tab",She="ArrowUp",iJ="ArrowDown",xhe=2,Ahe=`hide${px}`,Ohe=`hidden${px}`,Rhe=`show${px}`,Ihe=`shown${px}`,$te=`click${px}${FY}`,Fte=`keydown${px}${FY}`,Dhe=`keyup${px}${FY}`,kO="show",Nhe="dropup",Mhe="dropend",khe="dropstart",Phe="dropup-center",Lhe="dropdown-center",sx='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Bhe=`${sx}.${kO}`,vH=".dropdown-menu",$he=".navbar",Fhe=".navbar-nav",Hhe=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Vhe=t1()?"top-end":"top-start",zhe=t1()?"top-start":"top-end",Uhe=t1()?"bottom-end":"bottom-start",Whe=t1()?"bottom-start":"bottom-end",Ghe=t1()?"left-start":"right-start",qhe=t1()?"right-start":"left-start",jhe="top",Zhe="bottom",Yhe={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Khe={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Jb extends Ev{constructor(c,f){super(c,f),this._popper=null,this._parent=this._element.parentNode,this._menu=ss.next(this._element,vH)[0]||ss.prev(this._element,vH)[0]||ss.findOne(vH,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Yhe}static get DefaultType(){return Khe}static get NAME(){return sJ}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Lw(this._element)||this._isShown())return;const c={relatedTarget:this._element};if(!wn.trigger(this._element,Rhe,c).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(Fhe))for(const y of[].concat(...document.body.children))wn.on(y,"mouseover",kH);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(kO),this._element.classList.add(kO),wn.trigger(this._element,Ihe,c)}}hide(){if(Lw(this._element)||!this._isShown())return;const c={relatedTarget:this._element};this._completeHide(c)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(c){if(!wn.trigger(this._element,Ahe,c).defaultPrevented){if("ontouchstart"in document.documentElement)for(const y of[].concat(...document.body.children))wn.off(y,"mouseover",kH);this._popper&&this._popper.destroy(),this._menu.classList.remove(kO),this._element.classList.remove(kO),this._element.setAttribute("aria-expanded","false"),a_.removeDataAttribute(this._menu,"popper"),wn.trigger(this._element,Ohe,c)}}_getConfig(c){if(c=super._getConfig(c),typeof c.reference=="object"&&!i_(c.reference)&&typeof c.reference.getBoundingClientRect!="function")throw new TypeError(`${sJ.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return c}_createPopper(){if(typeof mY>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let c=this._element;this._config.reference==="parent"?c=this._parent:i_(this._config.reference)?c=Pw(this._config.reference):typeof this._config.reference=="object"&&(c=this._config.reference);const f=this._getPopperConfig();this._popper=hY(c,this._menu,f)}_isShown(){return this._menu.classList.contains(kO)}_getPlacement(){const c=this._parent;if(c.classList.contains(Mhe))return Ghe;if(c.classList.contains(khe))return qhe;if(c.classList.contains(Phe))return jhe;if(c.classList.contains(Lhe))return Zhe;const f=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return c.classList.contains(Nhe)?f?zhe:Vhe:f?Whe:Uhe}_detectNavbar(){return this._element.closest($he)!==null}_getOffset(){const{offset:c}=this._config;return typeof c=="string"?c.split(",").map(f=>Number.parseInt(f,10)):typeof c=="function"?f=>c(f,this._element):c}_getPopperConfig(){const c={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(a_.setDataAttribute(this._menu,"popper","static"),c.modifiers=[{name:"applyStyles",enabled:!1}]),{...c,...Tm(this._config.popperConfig,[c])}}_selectMenuItem({key:c,target:f}){const y=ss.find(Hhe,this._menu).filter(C=>iR(C));y.length&&BY(y,f,c===iJ,!y.includes(f)).focus()}static jQueryInterface(c){return this.each(function(){const f=Jb.getOrCreateInstance(this,c);if(typeof c=="string"){if(typeof f[c]>"u")throw new TypeError(`No method named "${c}"`);f[c]()}})}static clearMenus(c){if(c.button===xhe||c.type==="keyup"&&c.key!==rJ)return;const f=ss.find(Bhe);for(const y of f){const C=Jb.getInstance(y);if(!C||C._config.autoClose===!1)continue;const w=c.composedPath(),S=w.includes(C._menu);if(w.includes(C._element)||C._config.autoClose==="inside"&&!S||C._config.autoClose==="outside"&&S||C._menu.contains(c.target)&&(c.type==="keyup"&&c.key===rJ||/input|select|option|textarea|form/i.test(c.target.tagName)))continue;const D={relatedTarget:C._element};c.type==="click"&&(D.clickEvent=c),C._completeHide(D)}}static dataApiKeydownHandler(c){const f=/input|textarea/i.test(c.target.tagName),y=c.key===Che,C=[She,iJ].includes(c.key);if(!C&&!y||f&&!y)return;c.preventDefault();const w=this.matches(sx)?this:ss.prev(this,sx)[0]||ss.next(this,sx)[0]||ss.findOne(sx,c.delegateTarget.parentNode),S=Jb.getOrCreateInstance(w);if(C){c.stopPropagation(),S.show(),S._selectMenuItem(c);return}S._isShown()&&(c.stopPropagation(),S.hide(),w.focus())}}wn.on(document,Fte,sx,Jb.dataApiKeydownHandler);wn.on(document,Fte,vH,Jb.dataApiKeydownHandler);wn.on(document,$te,Jb.clearMenus);wn.on(document,Dhe,Jb.clearMenus);wn.on(document,$te,sx,function(a){a.preventDefault(),Jb.getOrCreateInstance(this).toggle()});o1(Jb);const Hte="backdrop",Xhe="fade",aJ="show",cJ=`mousedown.bs.${Hte}`,Qhe={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Jhe={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Vte extends uk{constructor(c){super(),this._config=this._getConfig(c),this._isAppended=!1,this._element=null}static get Default(){return Qhe}static get DefaultType(){return Jhe}static get NAME(){return Hte}show(c){if(!this._config.isVisible){Tm(c);return}this._append();const f=this._getElement();this._config.isAnimated&&lk(f),f.classList.add(aJ),this._emulateAnimation(()=>{Tm(c)})}hide(c){if(!this._config.isVisible){Tm(c);return}this._getElement().classList.remove(aJ),this._emulateAnimation(()=>{this.dispose(),Tm(c)})}dispose(){this._isAppended&&(wn.off(this._element,cJ),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const c=document.createElement("div");c.className=this._config.className,this._config.isAnimated&&c.classList.add(Xhe),this._element=c}return this._element}_configAfterMerge(c){return c.rootElement=Pw(c.rootElement),c}_append(){if(this._isAppended)return;const c=this._getElement();this._config.rootElement.append(c),wn.on(c,cJ,()=>{Tm(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(c){xte(c,this._getElement(),this._config.isAnimated)}}const eme="focustrap",tme="bs.focustrap",LH=`.${tme}`,nme=`focusin${LH}`,ome=`keydown.tab${LH}`,sme="Tab",rme="forward",lJ="backward",ime={autofocus:!0,trapElement:null},ame={autofocus:"boolean",trapElement:"element"};class zte extends uk{constructor(c){super(),this._config=this._getConfig(c),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return ime}static get DefaultType(){return ame}static get NAME(){return eme}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),wn.off(document,LH),wn.on(document,nme,c=>this._handleFocusin(c)),wn.on(document,ome,c=>this._handleKeydown(c)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,wn.off(document,LH))}_handleFocusin(c){const{trapElement:f}=this._config;if(c.target===document||c.target===f||f.contains(c.target))return;const y=ss.focusableChildren(f);y.length===0?f.focus():this._lastTabNavDirection===lJ?y[y.length-1].focus():y[0].focus()}_handleKeydown(c){c.key===sme&&(this._lastTabNavDirection=c.shiftKey?lJ:rme)}}const uJ=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",dJ=".sticky-top",eH="padding-right",fJ="margin-right";class eY{constructor(){this._element=document.body}getWidth(){const c=document.documentElement.clientWidth;return Math.abs(window.innerWidth-c)}hide(){const c=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,eH,f=>f+c),this._setElementAttributes(uJ,eH,f=>f+c),this._setElementAttributes(dJ,fJ,f=>f-c)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,eH),this._resetElementAttributes(uJ,eH),this._resetElementAttributes(dJ,fJ)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(c,f,y){const C=this.getWidth(),w=S=>{if(S!==this._element&&window.innerWidth>S.clientWidth+C)return;this._saveInitialAttribute(S,f);const D=window.getComputedStyle(S).getPropertyValue(f);S.style.setProperty(f,`${y(Number.parseFloat(D))}px`)};this._applyManipulationCallback(c,w)}_saveInitialAttribute(c,f){const y=c.style.getPropertyValue(f);y&&a_.setDataAttribute(c,f,y)}_resetElementAttributes(c,f){const y=C=>{const w=a_.getDataAttribute(C,f);if(w===null){C.style.removeProperty(f);return}a_.removeDataAttribute(C,f),C.style.setProperty(f,w)};this._applyManipulationCallback(c,y)}_applyManipulationCallback(c,f){if(i_(c)){f(c);return}for(const y of ss.find(c,this._element))f(y)}}const cme="modal",lme="bs.modal",n1=`.${lme}`,ume=".data-api",dme="Escape",fme=`hide${n1}`,hme=`hidePrevented${n1}`,Ute=`hidden${n1}`,Wte=`show${n1}`,mme=`shown${n1}`,pme=`resize${n1}`,gme=`click.dismiss${n1}`,vme=`mousedown.dismiss${n1}`,bme=`keydown.dismiss${n1}`,yme=`click${n1}${ume}`,hJ="modal-open",_me="fade",mJ="show",vZ="modal-static",Eme=".modal.show",wme=".modal-dialog",Tme=".modal-body",Cme='[data-bs-toggle="modal"]',Sme={backdrop:!0,focus:!0,keyboard:!0},xme={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class QO extends Ev{constructor(c,f){super(c,f),this._dialog=ss.findOne(wme,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new eY,this._addEventListeners()}static get Default(){return Sme}static get DefaultType(){return xme}static get NAME(){return cme}toggle(c){return this._isShown?this.hide():this.show(c)}show(c){this._isShown||this._isTransitioning||wn.trigger(this._element,Wte,{relatedTarget:c}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(hJ),this._adjustDialog(),this._backdrop.show(()=>this._showElement(c)))}hide(){!this._isShown||this._isTransitioning||wn.trigger(this._element,fme).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(mJ),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){wn.off(window,n1),wn.off(this._dialog,n1),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Vte({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new zte({trapElement:this._element})}_showElement(c){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const f=ss.findOne(Tme,this._dialog);f&&(f.scrollTop=0),lk(this._element),this._element.classList.add(mJ);const y=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,wn.trigger(this._element,mme,{relatedTarget:c})};this._queueCallback(y,this._dialog,this._isAnimated())}_addEventListeners(){wn.on(this._element,bme,c=>{if(c.key===dme){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),wn.on(window,pme,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),wn.on(this._element,vme,c=>{wn.one(this._element,gme,f=>{if(!(this._element!==c.target||this._element!==f.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(hJ),this._resetAdjustments(),this._scrollBar.reset(),wn.trigger(this._element,Ute)})}_isAnimated(){return this._element.classList.contains(_me)}_triggerBackdropTransition(){if(wn.trigger(this._element,hme).defaultPrevented)return;const f=this._element.scrollHeight>document.documentElement.clientHeight,y=this._element.style.overflowY;y==="hidden"||this._element.classList.contains(vZ)||(f||(this._element.style.overflowY="hidden"),this._element.classList.add(vZ),this._queueCallback(()=>{this._element.classList.remove(vZ),this._queueCallback(()=>{this._element.style.overflowY=y},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const c=this._element.scrollHeight>document.documentElement.clientHeight,f=this._scrollBar.getWidth(),y=f>0;if(y&&!c){const C=t1()?"paddingLeft":"paddingRight";this._element.style[C]=`${f}px`}if(!y&&c){const C=t1()?"paddingRight":"paddingLeft";this._element.style[C]=`${f}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(c,f){return this.each(function(){const y=QO.getOrCreateInstance(this,c);if(typeof c=="string"){if(typeof y[c]>"u")throw new TypeError(`No method named "${c}"`);y[c](f)}})}}wn.on(document,yme,Cme,function(a){const c=ss.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&a.preventDefault(),wn.one(c,Wte,C=>{C.defaultPrevented||wn.one(c,Ute,()=>{iR(this)&&this.focus()})});const f=ss.findOne(Eme);f&&QO.getInstance(f).hide(),QO.getOrCreateInstance(c).toggle(this)});QH(QO);o1(QO);const Ame="offcanvas",Ome="bs.offcanvas",f_=`.${Ome}`,Gte=".data-api",Rme=`load${f_}${Gte}`,Ime="Escape",pJ="show",gJ="showing",vJ="hiding",Dme="offcanvas-backdrop",qte=".offcanvas.show",Nme=`show${f_}`,Mme=`shown${f_}`,kme=`hide${f_}`,bJ=`hidePrevented${f_}`,jte=`hidden${f_}`,Pme=`resize${f_}`,Lme=`click${f_}${Gte}`,Bme=`keydown.dismiss${f_}`,$me='[data-bs-toggle="offcanvas"]',Fme={backdrop:!0,keyboard:!0,scroll:!1},Hme={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Bw extends Ev{constructor(c,f){super(c,f),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Fme}static get DefaultType(){return Hme}static get NAME(){return Ame}toggle(c){return this._isShown?this.hide():this.show(c)}show(c){if(this._isShown||wn.trigger(this._element,Nme,{relatedTarget:c}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new eY().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(gJ);const y=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(pJ),this._element.classList.remove(gJ),wn.trigger(this._element,Mme,{relatedTarget:c})};this._queueCallback(y,this._element,!0)}hide(){if(!this._isShown||wn.trigger(this._element,kme).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(vJ),this._backdrop.hide();const f=()=>{this._element.classList.remove(pJ,vJ),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new eY().reset(),wn.trigger(this._element,jte)};this._queueCallback(f,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const c=()=>{if(this._config.backdrop==="static"){wn.trigger(this._element,bJ);return}this.hide()},f=!!this._config.backdrop;return new Vte({className:Dme,isVisible:f,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:f?c:null})}_initializeFocusTrap(){return new zte({trapElement:this._element})}_addEventListeners(){wn.on(this._element,Bme,c=>{if(c.key===Ime){if(this._config.keyboard){this.hide();return}wn.trigger(this._element,bJ)}})}static jQueryInterface(c){return this.each(function(){const f=Bw.getOrCreateInstance(this,c);if(typeof c=="string"){if(f[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);f[c](this)}})}}wn.on(document,Lme,$me,function(a){const c=ss.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&a.preventDefault(),Lw(this))return;wn.one(c,jte,()=>{iR(this)&&this.focus()});const f=ss.findOne(qte);f&&f!==c&&Bw.getInstance(f).hide(),Bw.getOrCreateInstance(c).toggle(this)});wn.on(window,Rme,()=>{for(const a of ss.find(qte))Bw.getOrCreateInstance(a).show()});wn.on(window,Pme,()=>{for(const a of ss.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(a).position!=="fixed"&&Bw.getOrCreateInstance(a).hide()});QH(Bw);o1(Bw);const Vme=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),zme=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Ume=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Wme=(a,c)=>{const f=a.nodeName.toLowerCase();return c.includes(f)?Vme.has(f)?!!(zme.test(a.nodeValue)||Ume.test(a.nodeValue)):!0:c.filter(y=>y instanceof RegExp).some(y=>y.test(f))},Gme=/^aria-[\w-]*$/i,Zte={"*":["class","dir","id","lang","role",Gme],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function qme(a,c,f){if(!a.length)return a;if(f&&typeof f=="function")return f(a);const C=new window.DOMParser().parseFromString(a,"text/html"),w=[].concat(...C.body.querySelectorAll("*"));for(const S of w){const D=S.nodeName.toLowerCase();if(!Object.keys(c).includes(D)){S.remove();continue}const k=[].concat(...S.attributes),G=[].concat(c["*"]||[],c[D]||[]);for(const q of k)Wme(q,G)||S.removeAttribute(q.nodeName)}return C.body.innerHTML}const jme="TemplateFactory",Zme={allowList:Zte,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Yme={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Kme={entry:"(string|element|function|null)",selector:"(string|element)"};class Xme extends uk{constructor(c){super(),this._config=this._getConfig(c)}static get Default(){return Zme}static get DefaultType(){return Yme}static get NAME(){return jme}getContent(){return Object.values(this._config.content).map(c=>this._resolvePossibleFunction(c)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(c){return this._checkContent(c),this._config.content={...this._config.content,...c},this}toHtml(){const c=document.createElement("div");c.innerHTML=this._maybeSanitize(this._config.template);for(const[C,w]of Object.entries(this._config.content))this._setContent(c,w,C);const f=c.children[0],y=this._resolvePossibleFunction(this._config.extraClass);return y&&f.classList.add(...y.split(" ")),f}_typeCheckConfig(c){super._typeCheckConfig(c),this._checkContent(c.content)}_checkContent(c){for(const[f,y]of Object.entries(c))super._typeCheckConfig({selector:f,entry:y},Kme)}_setContent(c,f,y){const C=ss.findOne(y,c);if(C){if(f=this._resolvePossibleFunction(f),!f){C.remove();return}if(i_(f)){this._putElementInTemplate(Pw(f),C);return}if(this._config.html){C.innerHTML=this._maybeSanitize(f);return}C.textContent=f}}_maybeSanitize(c){return this._config.sanitize?qme(c,this._config.allowList,this._config.sanitizeFn):c}_resolvePossibleFunction(c){return Tm(c,[this])}_putElementInTemplate(c,f){if(this._config.html){f.innerHTML="",f.append(c);return}f.textContent=c.textContent}}const Qme="tooltip",Jme=new Set(["sanitize","allowList","sanitizeFn"]),bZ="fade",epe="modal",tH="show",tpe=".tooltip-inner",yJ=`.${epe}`,_J="hide.bs.modal",YM="hover",yZ="focus",npe="click",ope="manual",spe="hide",rpe="hidden",ipe="show",ape="shown",cpe="inserted",lpe="click",upe="focusin",dpe="focusout",fpe="mouseenter",hpe="mouseleave",mpe={AUTO:"auto",TOP:"top",RIGHT:t1()?"left":"right",BOTTOM:"bottom",LEFT:t1()?"right":"left"},ppe={allowList:Zte,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},gpe={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class cR extends Ev{constructor(c,f){if(typeof mY>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(c,f),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return ppe}static get DefaultType(){return gpe}static get NAME(){return Qme}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),wn.off(this._element.closest(yJ),_J,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const c=wn.trigger(this._element,this.constructor.eventName(ipe)),y=(Cte(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(c.defaultPrevented||!y)return;this._disposePopper();const C=this._getTipElement();this._element.setAttribute("aria-describedby",C.getAttribute("id"));const{container:w}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(w.append(C),wn.trigger(this._element,this.constructor.eventName(cpe))),this._popper=this._createPopper(C),C.classList.add(tH),"ontouchstart"in document.documentElement)for(const D of[].concat(...document.body.children))wn.on(D,"mouseover",kH);const S=()=>{wn.trigger(this._element,this.constructor.eventName(ape)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(S,this.tip,this._isAnimated())}hide(){if(!this._isShown()||wn.trigger(this._element,this.constructor.eventName(spe)).defaultPrevented)return;if(this._getTipElement().classList.remove(tH),"ontouchstart"in document.documentElement)for(const C of[].concat(...document.body.children))wn.off(C,"mouseover",kH);this._activeTrigger[npe]=!1,this._activeTrigger[yZ]=!1,this._activeTrigger[YM]=!1,this._isHovered=null;const y=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),wn.trigger(this._element,this.constructor.eventName(rpe)))};this._queueCallback(y,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(c){const f=this._getTemplateFactory(c).toHtml();if(!f)return null;f.classList.remove(bZ,tH),f.classList.add(`bs-${this.constructor.NAME}-auto`);const y=tfe(this.constructor.NAME).toString();return f.setAttribute("id",y),this._isAnimated()&&f.classList.add(bZ),f}setContent(c){this._newContent=c,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(c){return this._templateFactory?this._templateFactory.changeContent(c):this._templateFactory=new Xme({...this._config,content:c,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[tpe]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(c){return this.constructor.getOrCreateInstance(c.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(bZ)}_isShown(){return this.tip&&this.tip.classList.contains(tH)}_createPopper(c){const f=Tm(this._config.placement,[this,c,this._element]),y=mpe[f.toUpperCase()];return hY(this._element,c,this._getPopperConfig(y))}_getOffset(){const{offset:c}=this._config;return typeof c=="string"?c.split(",").map(f=>Number.parseInt(f,10)):typeof c=="function"?f=>c(f,this._element):c}_resolvePossibleFunction(c){return Tm(c,[this._element])}_getPopperConfig(c){const f={placement:c,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:y=>{this._getTipElement().setAttribute("data-popper-placement",y.state.placement)}}]};return{...f,...Tm(this._config.popperConfig,[f])}}_setListeners(){const c=this._config.trigger.split(" ");for(const f of c)if(f==="click")wn.on(this._element,this.constructor.eventName(lpe),this._config.selector,y=>{this._initializeOnDelegatedTarget(y).toggle()});else if(f!==ope){const y=f===YM?this.constructor.eventName(fpe):this.constructor.eventName(upe),C=f===YM?this.constructor.eventName(hpe):this.constructor.eventName(dpe);wn.on(this._element,y,this._config.selector,w=>{const S=this._initializeOnDelegatedTarget(w);S._activeTrigger[w.type==="focusin"?yZ:YM]=!0,S._enter()}),wn.on(this._element,C,this._config.selector,w=>{const S=this._initializeOnDelegatedTarget(w);S._activeTrigger[w.type==="focusout"?yZ:YM]=S._element.contains(w.relatedTarget),S._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},wn.on(this._element.closest(yJ),_J,this._hideModalHandler)}_fixTitle(){const c=this._element.getAttribute("title");c&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",c),this._element.setAttribute("data-bs-original-title",c),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(c,f){clearTimeout(this._timeout),this._timeout=setTimeout(c,f)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(c){const f=a_.getDataAttributes(this._element);for(const y of Object.keys(f))Jme.has(y)&&delete f[y];return c={...f,...typeof c=="object"&&c?c:{}},c=this._mergeConfigObj(c),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}_configAfterMerge(c){return c.container=c.container===!1?document.body:Pw(c.container),typeof c.delay=="number"&&(c.delay={show:c.delay,hide:c.delay}),typeof c.title=="number"&&(c.title=c.title.toString()),typeof c.content=="number"&&(c.content=c.content.toString()),c}_getDelegateConfig(){const c={};for(const[f,y]of Object.entries(this._config))this.constructor.Default[f]!==y&&(c[f]=y);return c.selector=!1,c.trigger="manual",c}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(c){return this.each(function(){const f=cR.getOrCreateInstance(this,c);if(typeof c=="string"){if(typeof f[c]>"u")throw new TypeError(`No method named "${c}"`);f[c]()}})}}o1(cR);const vpe="popover",bpe=".popover-header",ype=".popover-body",_pe={...cR.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Epe={...cR.DefaultType,content:"(null|string|element|function)"};class HY extends cR{static get Default(){return _pe}static get DefaultType(){return Epe}static get NAME(){return vpe}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[bpe]:this._getTitle(),[ype]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(c){return this.each(function(){const f=HY.getOrCreateInstance(this,c);if(typeof c=="string"){if(typeof f[c]>"u")throw new TypeError(`No method named "${c}"`);f[c]()}})}}o1(HY);const wpe="scrollspy",Tpe="bs.scrollspy",VY=`.${Tpe}`,Cpe=".data-api",Spe=`activate${VY}`,EJ=`click${VY}`,xpe=`load${VY}${Cpe}`,Ape="dropdown-item",DO="active",Ope='[data-bs-spy="scroll"]',_Z="[href]",Rpe=".nav, .list-group",wJ=".nav-link",Ipe=".nav-item",Dpe=".list-group-item",Npe=`${wJ}, ${Ipe} > ${wJ}, ${Dpe}`,Mpe=".dropdown",kpe=".dropdown-toggle",Ppe={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Lpe={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class t6 extends Ev{constructor(c,f){super(c,f),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Ppe}static get DefaultType(){return Lpe}static get NAME(){return wpe}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const c of this._observableSections.values())this._observer.observe(c)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(c){return c.target=Pw(c.target)||document.body,c.rootMargin=c.offset?`${c.offset}px 0px -30%`:c.rootMargin,typeof c.threshold=="string"&&(c.threshold=c.threshold.split(",").map(f=>Number.parseFloat(f))),c}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(wn.off(this._config.target,EJ),wn.on(this._config.target,EJ,_Z,c=>{const f=this._observableSections.get(c.target.hash);if(f){c.preventDefault();const y=this._rootElement||window,C=f.offsetTop-this._element.offsetTop;if(y.scrollTo){y.scrollTo({top:C,behavior:"smooth"});return}y.scrollTop=C}}))}_getNewObserver(){const c={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(f=>this._observerCallback(f),c)}_observerCallback(c){const f=S=>this._targetLinks.get(`#${S.target.id}`),y=S=>{this._previousScrollData.visibleEntryTop=S.target.offsetTop,this._process(f(S))},C=(this._rootElement||document.documentElement).scrollTop,w=C>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=C;for(const S of c){if(!S.isIntersecting){this._activeTarget=null,this._clearActiveClass(f(S));continue}const D=S.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(w&&D){if(y(S),!C)return;continue}!w&&!D&&y(S)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const c=ss.find(_Z,this._config.target);for(const f of c){if(!f.hash||Lw(f))continue;const y=ss.findOne(f.hash,this._element);iR(y)&&(this._targetLinks.set(f.hash,f),this._observableSections.set(f.hash,y))}}_process(c){this._activeTarget!==c&&(this._clearActiveClass(this._config.target),this._activeTarget=c,c.classList.add(DO),this._activateParents(c),wn.trigger(this._element,Spe,{relatedTarget:c}))}_activateParents(c){if(c.classList.contains(Ape)){ss.findOne(kpe,c.closest(Mpe)).classList.add(DO);return}for(const f of ss.parents(c,Rpe))for(const y of ss.prev(f,Npe))y.classList.add(DO)}_clearActiveClass(c){c.classList.remove(DO);const f=ss.find(`${_Z}.${DO}`,c);for(const y of f)y.classList.remove(DO)}static jQueryInterface(c){return this.each(function(){const f=t6.getOrCreateInstance(this,c);if(typeof c=="string"){if(f[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);f[c]()}})}}wn.on(window,xpe,()=>{for(const a of ss.find(Ope))t6.getOrCreateInstance(a)});o1(t6);const Bpe="tab",$pe="bs.tab",gx=`.${$pe}`,Fpe=`hide${gx}`,Hpe=`hidden${gx}`,Vpe=`show${gx}`,zpe=`shown${gx}`,Upe=`click${gx}`,Wpe=`keydown${gx}`,Gpe=`load${gx}`,qpe="ArrowLeft",TJ="ArrowRight",jpe="ArrowUp",CJ="ArrowDown",rx="active",SJ="fade",EZ="show",Zpe="dropdown",Ype=".dropdown-toggle",Kpe=".dropdown-menu",wZ=":not(.dropdown-toggle)",Xpe='.list-group, .nav, [role="tablist"]',Qpe=".nav-item, .list-group-item",Jpe=`.nav-link${wZ}, .list-group-item${wZ}, [role="tab"]${wZ}`,Yte='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',TZ=`${Jpe}, ${Yte}`,ege=`.${rx}[data-bs-toggle="tab"], .${rx}[data-bs-toggle="pill"], .${rx}[data-bs-toggle="list"]`;class JO extends Ev{constructor(c){super(c),this._parent=this._element.closest(Xpe),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),wn.on(this._element,Wpe,f=>this._keydown(f)))}static get NAME(){return Bpe}show(){const c=this._element;if(this._elemIsActive(c))return;const f=this._getActiveElem(),y=f?wn.trigger(f,Fpe,{relatedTarget:c}):null;wn.trigger(c,Vpe,{relatedTarget:f}).defaultPrevented||y&&y.defaultPrevented||(this._deactivate(f,c),this._activate(c,f))}_activate(c,f){if(!c)return;c.classList.add(rx),this._activate(ss.getElementFromSelector(c));const y=()=>{if(c.getAttribute("role")!=="tab"){c.classList.add(EZ);return}c.removeAttribute("tabindex"),c.setAttribute("aria-selected",!0),this._toggleDropDown(c,!0),wn.trigger(c,zpe,{relatedTarget:f})};this._queueCallback(y,c,c.classList.contains(SJ))}_deactivate(c,f){if(!c)return;c.classList.remove(rx),c.blur(),this._deactivate(ss.getElementFromSelector(c));const y=()=>{if(c.getAttribute("role")!=="tab"){c.classList.remove(EZ);return}c.setAttribute("aria-selected",!1),c.setAttribute("tabindex","-1"),this._toggleDropDown(c,!1),wn.trigger(c,Hpe,{relatedTarget:f})};this._queueCallback(y,c,c.classList.contains(SJ))}_keydown(c){if(![qpe,TJ,jpe,CJ].includes(c.key))return;c.stopPropagation(),c.preventDefault();const f=[TJ,CJ].includes(c.key),y=BY(this._getChildren().filter(C=>!Lw(C)),c.target,f,!0);y&&(y.focus({preventScroll:!0}),JO.getOrCreateInstance(y).show())}_getChildren(){return ss.find(TZ,this._parent)}_getActiveElem(){return this._getChildren().find(c=>this._elemIsActive(c))||null}_setInitialAttributes(c,f){this._setAttributeIfNotExists(c,"role","tablist");for(const y of f)this._setInitialAttributesOnChild(y)}_setInitialAttributesOnChild(c){c=this._getInnerElement(c);const f=this._elemIsActive(c),y=this._getOuterElement(c);c.setAttribute("aria-selected",f),y!==c&&this._setAttributeIfNotExists(y,"role","presentation"),f||c.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(c,"role","tab"),this._setInitialAttributesOnTargetPanel(c)}_setInitialAttributesOnTargetPanel(c){const f=ss.getElementFromSelector(c);f&&(this._setAttributeIfNotExists(f,"role","tabpanel"),c.id&&this._setAttributeIfNotExists(f,"aria-labelledby",`${c.id}`))}_toggleDropDown(c,f){const y=this._getOuterElement(c);if(!y.classList.contains(Zpe))return;const C=(w,S)=>{const D=ss.findOne(w,y);D&&D.classList.toggle(S,f)};C(Ype,rx),C(Kpe,EZ),y.setAttribute("aria-expanded",f)}_setAttributeIfNotExists(c,f,y){c.hasAttribute(f)||c.setAttribute(f,y)}_elemIsActive(c){return c.classList.contains(rx)}_getInnerElement(c){return c.matches(TZ)?c:ss.findOne(TZ,c)}_getOuterElement(c){return c.closest(Qpe)||c}static jQueryInterface(c){return this.each(function(){const f=JO.getOrCreateInstance(this);if(typeof c=="string"){if(f[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);f[c]()}})}}wn.on(document,Upe,Yte,function(a){["A","AREA"].includes(this.tagName)&&a.preventDefault(),!Lw(this)&&JO.getOrCreateInstance(this).show()});wn.on(window,Gpe,()=>{for(const a of ss.find(ege))JO.getOrCreateInstance(a)});o1(JO);const tge="toast",nge="bs.toast",Hw=`.${nge}`,oge=`mouseover${Hw}`,sge=`mouseout${Hw}`,rge=`focusin${Hw}`,ige=`focusout${Hw}`,age=`hide${Hw}`,cge=`hidden${Hw}`,lge=`show${Hw}`,uge=`shown${Hw}`,dge="fade",xJ="hide",nH="show",oH="showing",fge={animation:"boolean",autohide:"boolean",delay:"number"},hge={animation:!0,autohide:!0,delay:5e3};class n6 extends Ev{constructor(c,f){super(c,f),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return hge}static get DefaultType(){return fge}static get NAME(){return tge}show(){if(wn.trigger(this._element,lge).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(dge);const f=()=>{this._element.classList.remove(oH),wn.trigger(this._element,uge),this._maybeScheduleHide()};this._element.classList.remove(xJ),lk(this._element),this._element.classList.add(nH,oH),this._queueCallback(f,this._element,this._config.animation)}hide(){if(!this.isShown()||wn.trigger(this._element,age).defaultPrevented)return;const f=()=>{this._element.classList.add(xJ),this._element.classList.remove(oH,nH),wn.trigger(this._element,cge)};this._element.classList.add(oH),this._queueCallback(f,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(nH),super.dispose()}isShown(){return this._element.classList.contains(nH)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(c,f){switch(c.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=f;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=f;break}}if(f){this._clearTimeout();return}const y=c.relatedTarget;this._element===y||this._element.contains(y)||this._maybeScheduleHide()}_setListeners(){wn.on(this._element,oge,c=>this._onInteraction(c,!0)),wn.on(this._element,sge,c=>this._onInteraction(c,!1)),wn.on(this._element,rge,c=>this._onInteraction(c,!0)),wn.on(this._element,ige,c=>this._onInteraction(c,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(c){return this.each(function(){const f=n6.getOrCreateInstance(this,c);if(typeof c=="string"){if(typeof f[c]>"u")throw new TypeError(`No method named "${c}"`);f[c](this)}})}}QH(n6);o1(n6);(function(a,c,f,y){function C(w,S){this.settings=null,this.options=a.extend({},C.Defaults,S),this.$element=a(w),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},a.each(["onResize","onThrottledResize"],a.proxy(function(D,k){this._handlers[k]=a.proxy(this[k],this)},this)),a.each(C.Plugins,a.proxy(function(D,k){this._plugins[D.charAt(0).toLowerCase()+D.slice(1)]=new k(this)},this)),a.each(C.Workers,a.proxy(function(D,k){this._pipe.push({filter:k.filter,run:a.proxy(k.run,this)})},this)),this.setup(),this.initialize()}C.Defaults={items:3,loop:!1,center:!1,rewind:!1,checkVisibility:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:c,fallbackEasing:"swing",slideTransition:"",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},C.Width={Default:"default",Inner:"inner",Outer:"outer"},C.Type={Event:"event",State:"state"},C.Plugins={},C.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(w){w.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(w){var S=this.settings.margin||"",D=!this.settings.autoWidth,k=this.settings.rtl,G={width:"auto","margin-left":k?S:"","margin-right":k?"":S};!D&&this.$stage.children().css(G),w.css=G}},{filter:["width","items","settings"],run:function(w){var S=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,D=null,k=this._items.length,G=!this.settings.autoWidth,q=[];for(w.items={merge:!1,width:S};k--;)D=this._mergers[k],D=this.settings.mergeFit&&Math.min(D,this.settings.items)||D,w.items.merge=D>1||w.items.merge,q[k]=G?S*D:this._items[k].width();this._widths=q}},{filter:["items","settings"],run:function(){var w=[],S=this._items,D=this.settings,k=Math.max(D.items*2,4),G=Math.ceil(S.length/2)*2,q=D.loop&&S.length?D.rewind?k:Math.max(k,G):0,X="",fe="";for(q/=2;q>0;)w.push(this.normalize(w.length/2,!0)),X=X+S[w[w.length-1]][0].outerHTML,w.push(this.normalize(S.length-1-(w.length-1)/2,!0)),fe=S[w[w.length-1]][0].outerHTML+fe,q-=1;this._clones=w,a(X).addClass("cloned").appendTo(this.$stage),a(fe).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var w=this.settings.rtl?1:-1,S=this._clones.length+this._items.length,D=-1,k=0,G=0,q=[];++D<S;)k=q[D-1]||0,G=this._widths[this.relative(D)]+this.settings.margin,q.push(k+G*w);this._coordinates=q}},{filter:["width","items","settings"],run:function(){var w=this.settings.stagePadding,S=this._coordinates,D={width:Math.ceil(Math.abs(S[S.length-1]))+w*2,"padding-left":w||"","padding-right":w||""};this.$stage.css(D)}},{filter:["width","items","settings"],run:function(w){var S=this._coordinates.length,D=!this.settings.autoWidth,k=this.$stage.children();if(D&&w.items.merge)for(;S--;)w.css.width=this._widths[this.relative(S)],k.eq(S).css(w.css);else D&&(w.css.width=w.items.width,k.css(w.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(w){w.current=w.current?this.$stage.children().index(w.current):0,w.current=Math.max(this.minimum(),Math.min(this.maximum(),w.current)),this.reset(w.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var w=this.settings.rtl?1:-1,S=this.settings.stagePadding*2,D=this.coordinates(this.current())+S,k=D+this.width()*w,G,q,X=[],fe,re;for(fe=0,re=this._coordinates.length;fe<re;fe++)G=this._coordinates[fe-1]||0,q=Math.abs(this._coordinates[fe])+S*w,(this.op(G,"<=",D)&&this.op(G,">",k)||this.op(q,"<",D)&&this.op(q,">",k))&&X.push(fe);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+X.join("), :eq(")+")").addClass("active"),this.$stage.children(".center").removeClass("center"),this.settings.center&&this.$stage.children().eq(this.current()).addClass("center")}}],C.prototype.initializeStage=function(){this.$stage=this.$element.find("."+this.settings.stageClass),!this.$stage.length&&(this.$element.addClass(this.options.loadingClass),this.$stage=a("<"+this.settings.stageElement+">",{class:this.settings.stageClass}).wrap(a("<div/>",{class:this.settings.stageOuterClass})),this.$element.append(this.$stage.parent()))},C.prototype.initializeItems=function(){var w=this.$element.find(".owl-item");if(w.length){this._items=w.get().map(function(S){return a(S)}),this._mergers=this._items.map(function(){return 1}),this.refresh();return}this.replace(this.$element.children().not(this.$stage.parent())),this.isVisible()?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass)},C.prototype.initialize=function(){if(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")){var w,S,D;w=this.$element.find("img"),S=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:y,D=this.$element.children(S).width(),w.length&&D<=0&&this.preloadAutoWidthImages(w)}this.initializeStage(),this.initializeItems(),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},C.prototype.isVisible=function(){return this.settings.checkVisibility?this.$element.is(":visible"):!0},C.prototype.setup=function(){var w=this.viewport(),S=this.options.responsive,D=-1,k=null;S?(a.each(S,function(G){G<=w&&G>D&&(D=Number(G))}),k=a.extend({},this.options,S[D]),typeof k.stagePadding=="function"&&(k.stagePadding=k.stagePadding()),delete k.responsive,k.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+D))):k=a.extend({},this.options),this.trigger("change",{property:{name:"settings",value:k}}),this._breakpoint=D,this.settings=k,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},C.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},C.prototype.prepare=function(w){var S=this.trigger("prepare",{content:w});return S.data||(S.data=a("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(w)),this.trigger("prepared",{content:S.data}),S.data},C.prototype.update=function(){for(var w=0,S=this._pipe.length,D=a.proxy(function(G){return this[G]},this._invalidated),k={};w<S;)(this._invalidated.all||a.grep(this._pipe[w].filter,D).length>0)&&this._pipe[w].run(k),w++;this._invalidated={},!this.is("valid")&&this.enter("valid")},C.prototype.width=function(w){switch(w=w||C.Width.Default,w){case C.Width.Inner:case C.Width.Outer:return this._width;default:return this._width-this.settings.stagePadding*2+this.settings.margin}},C.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},C.prototype.onThrottledResize=function(){c.clearTimeout(this.resizeTimer),this.resizeTimer=c.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},C.prototype.onResize=function(){if(!this._items.length||this._width===this.$element.width()||!this.isVisible())return!1;if(this.enter("resizing"),this.trigger("resize").isDefaultPrevented())return this.leave("resizing"),!1;this.invalidate("width"),this.refresh(),this.leave("resizing"),this.trigger("resized")},C.prototype.registerEventHandlers=function(){a.support.transition&&this.$stage.on(a.support.transition.end+".owl.core",a.proxy(this.onTransitionEnd,this)),this.settings.responsive!==!1&&this.on(c,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",a.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",a.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",a.proxy(this.onDragEnd,this)))},C.prototype.onDragStart=function(w){var S=null;w.which!==3&&(a.support.transform?(S=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","),S={x:S[S.length===16?12:4],y:S[S.length===16?13:5]}):(S=this.$stage.position(),S={x:this.settings.rtl?S.left+this.$stage.width()-this.width()+this.settings.margin:S.left,y:S.top}),this.is("animating")&&(a.support.transform?this.animate(S.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,w.type==="mousedown"),this.speed(0),this._drag.time=new Date().getTime(),this._drag.target=a(w.target),this._drag.stage.start=S,this._drag.stage.current=S,this._drag.pointer=this.pointer(w),a(f).on("mouseup.owl.core touchend.owl.core",a.proxy(this.onDragEnd,this)),a(f).one("mousemove.owl.core touchmove.owl.core",a.proxy(function(D){var k=this.difference(this._drag.pointer,this.pointer(D));a(f).on("mousemove.owl.core touchmove.owl.core",a.proxy(this.onDragMove,this)),!(Math.abs(k.x)<Math.abs(k.y)&&this.is("valid"))&&(D.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},C.prototype.onDragMove=function(w){var S=null,D=null,k=null,G=this.difference(this._drag.pointer,this.pointer(w)),q=this.difference(this._drag.stage.start,G);this.is("dragging")&&(w.preventDefault(),this.settings.loop?(S=this.coordinates(this.minimum()),D=this.coordinates(this.maximum()+1)-S,q.x=((q.x-S)%D+D)%D+S):(S=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),D=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),k=this.settings.pullDrag?-1*G.x/5:0,q.x=Math.max(Math.min(q.x,S+k),D+k)),this._drag.stage.current=q,this.animate(q.x))},C.prototype.onDragEnd=function(w){var S=this.difference(this._drag.pointer,this.pointer(w)),D=this._drag.stage.current,k=S.x>0^this.settings.rtl?"left":"right";a(f).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(S.x!==0&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(D.x,S.x!==0?k:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=k,(Math.abs(S.x)>3||new Date().getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},C.prototype.closest=function(w,S){var D=-1,k=30,G=this.width(),q=this.coordinates();return this.settings.freeDrag||a.each(q,a.proxy(function(X,fe){return S==="left"&&w>fe-k&&w<fe+k?D=X:S==="right"&&w>fe-G-k&&w<fe-G+k?D=X+1:this.op(w,"<",fe)&&this.op(w,">",q[X+1]!==y?q[X+1]:fe-G)&&(D=S==="left"?X+1:X),D===-1},this)),this.settings.loop||(this.op(w,">",q[this.minimum()])?D=w=this.minimum():this.op(w,"<",q[this.maximum()])&&(D=w=this.maximum())),D},C.prototype.animate=function(w){var S=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),S&&(this.enter("animating"),this.trigger("translate")),a.support.transform3d&&a.support.transition?this.$stage.css({transform:"translate3d("+w+"px,0px,0px)",transition:this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}):S?this.$stage.animate({left:w+"px"},this.speed(),this.settings.fallbackEasing,a.proxy(this.onTransitionEnd,this)):this.$stage.css({left:w+"px"})},C.prototype.is=function(w){return this._states.current[w]&&this._states.current[w]>0},C.prototype.current=function(w){if(w===y)return this._current;if(this._items.length===0)return y;if(w=this.normalize(w),this._current!==w){var S=this.trigger("change",{property:{name:"position",value:w}});S.data!==y&&(w=this.normalize(S.data)),this._current=w,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},C.prototype.invalidate=function(w){return a.type(w)==="string"&&(this._invalidated[w]=!0,this.is("valid")&&this.leave("valid")),a.map(this._invalidated,function(S,D){return D})},C.prototype.reset=function(w){w=this.normalize(w),w!==y&&(this._speed=0,this._current=w,this.suppress(["translate","translated"]),this.animate(this.coordinates(w)),this.release(["translate","translated"]))},C.prototype.normalize=function(w,S){var D=this._items.length,k=S?0:this._clones.length;return!this.isNumeric(w)||D<1?w=y:(w<0||w>=D+k)&&(w=((w-k/2)%D+D)%D+k/2),w},C.prototype.relative=function(w){return w-=this._clones.length/2,this.normalize(w,!0)},C.prototype.maximum=function(w){var S=this.settings,D=this._coordinates.length,k,G,q;if(S.loop)D=this._clones.length/2+this._items.length-1;else if(S.autoWidth||S.merge){if(k=this._items.length,k)for(G=this._items[--k].width(),q=this.$element.width();k--&&(G+=this._items[k].width()+this.settings.margin,!(G>q)););D=k+1}else S.center?D=this._items.length-1:D=this._items.length-S.items;return w&&(D-=this._clones.length/2),Math.max(D,0)},C.prototype.minimum=function(w){return w?0:this._clones.length/2},C.prototype.items=function(w){return w===y?this._items.slice():(w=this.normalize(w,!0),this._items[w])},C.prototype.mergers=function(w){return w===y?this._mergers.slice():(w=this.normalize(w,!0),this._mergers[w])},C.prototype.clones=function(w){var S=this._clones.length/2,D=S+this._items.length,k=function(G){return G%2===0?D+G/2:S-(G+1)/2};return w===y?a.map(this._clones,function(G,q){return k(q)}):a.map(this._clones,function(G,q){return G===w?k(q):null})},C.prototype.speed=function(w){return w!==y&&(this._speed=w),this._speed},C.prototype.coordinates=function(w){var S=1,D=w-1,k;return w===y?a.map(this._coordinates,a.proxy(function(G,q){return this.coordinates(q)},this)):(this.settings.center?(this.settings.rtl&&(S=-1,D=w+1),k=this._coordinates[w],k+=(this.width()-k+(this._coordinates[D]||0))/2*S):k=this._coordinates[D]||0,k=Math.ceil(k),k)},C.prototype.duration=function(w,S,D){return D===0?0:Math.min(Math.max(Math.abs(S-w),1),6)*Math.abs(D||this.settings.smartSpeed)},C.prototype.to=function(w,S){var D=this.current(),k=null,G=w-this.relative(D),q=(G>0)-(G<0),X=this._items.length,fe=this.minimum(),re=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(G)>X/2&&(G+=q*-1*X),w=D+G,k=((w-fe)%X+X)%X+fe,k!==w&&k-G<=re&&k-G>0&&(D=k-G,w=k,this.reset(D))):this.settings.rewind?(re+=1,w=(w%re+re)%re):w=Math.max(fe,Math.min(re,w)),this.speed(this.duration(D,w,S)),this.current(w),this.isVisible()&&this.update()},C.prototype.next=function(w){w=w||!1,this.to(this.relative(this.current())+1,w)},C.prototype.prev=function(w){w=w||!1,this.to(this.relative(this.current())-1,w)},C.prototype.onTransitionEnd=function(w){if(w!==y&&(w.stopPropagation(),(w.target||w.srcElement||w.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},C.prototype.viewport=function(){var w;return this.options.responsiveBaseElement!==c?w=a(this.options.responsiveBaseElement).width():c.innerWidth?w=c.innerWidth:f.documentElement&&f.documentElement.clientWidth?w=f.documentElement.clientWidth:console.warn("Can not detect viewport width."),w},C.prototype.replace=function(w){this.$stage.empty(),this._items=[],w&&(w=w instanceof jQuery?w:a(w)),this.settings.nestedItemSelector&&(w=w.find("."+this.settings.nestedItemSelector)),w.filter(function(){return this.nodeType===1}).each(a.proxy(function(S,D){D=this.prepare(D),this.$stage.append(D),this._items.push(D),this._mergers.push(D.find("[data-merge]").addBack("[data-merge]").attr("data-merge")*1||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},C.prototype.add=function(w,S){var D=this.relative(this._current);S=S===y?this._items.length:this.normalize(S,!0),w=w instanceof jQuery?w:a(w),this.trigger("add",{content:w,position:S}),w=this.prepare(w),this._items.length===0||S===this._items.length?(this._items.length===0&&this.$stage.append(w),this._items.length!==0&&this._items[S-1].after(w),this._items.push(w),this._mergers.push(w.find("[data-merge]").addBack("[data-merge]").attr("data-merge")*1||1)):(this._items[S].before(w),this._items.splice(S,0,w),this._mergers.splice(S,0,w.find("[data-merge]").addBack("[data-merge]").attr("data-merge")*1||1)),this._items[D]&&this.reset(this._items[D].index()),this.invalidate("items"),this.trigger("added",{content:w,position:S})},C.prototype.remove=function(w){w=this.normalize(w,!0),w!==y&&(this.trigger("remove",{content:this._items[w],position:w}),this._items[w].remove(),this._items.splice(w,1),this._mergers.splice(w,1),this.invalidate("items"),this.trigger("removed",{content:null,position:w}))},C.prototype.preloadAutoWidthImages=function(w){w.each(a.proxy(function(S,D){this.enter("pre-loading"),D=a(D),a(new Image).one("load",a.proxy(function(k){D.attr("src",k.target.src),D.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",D.attr("src")||D.attr("data-src")||D.attr("data-src-retina"))},this))},C.prototype.destroy=function(){this.$element.off(".owl.core"),this.$stage.off(".owl.core"),a(f).off(".owl.core"),this.settings.responsive!==!1&&(c.clearTimeout(this.resizeTimer),this.off(c,"resize",this._handlers.onThrottledResize));for(var w in this._plugins)this._plugins[w].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.remove(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},C.prototype.op=function(w,S,D){var k=this.settings.rtl;switch(S){case"<":return k?w>D:w<D;case">":return k?w<D:w>D;case">=":return k?w<=D:w>=D;case"<=":return k?w>=D:w<=D}},C.prototype.on=function(w,S,D,k){w.addEventListener?w.addEventListener(S,D,k):w.attachEvent&&w.attachEvent("on"+S,D)},C.prototype.off=function(w,S,D,k){w.removeEventListener?w.removeEventListener(S,D,k):w.detachEvent&&w.detachEvent("on"+S,D)},C.prototype.trigger=function(w,S,D,k,G){var q={item:{count:this._items.length,index:this.current()}},X=a.camelCase(a.grep(["on",w,D],function(re){return re}).join("-").toLowerCase()),fe=a.Event([w,"owl",D||"carousel"].join(".").toLowerCase(),a.extend({relatedTarget:this},q,S));return this._supress[w]||(a.each(this._plugins,function(re,he){he.onTrigger&&he.onTrigger(fe)}),this.register({type:C.Type.Event,name:w}),this.$element.trigger(fe),this.settings&&typeof this.settings[X]=="function"&&this.settings[X].call(this,fe)),fe},C.prototype.enter=function(w){a.each([w].concat(this._states.tags[w]||[]),a.proxy(function(S,D){this._states.current[D]===y&&(this._states.current[D]=0),this._states.current[D]++},this))},C.prototype.leave=function(w){a.each([w].concat(this._states.tags[w]||[]),a.proxy(function(S,D){this._states.current[D]--},this))},C.prototype.register=function(w){if(w.type===C.Type.Event){if(a.event.special[w.name]||(a.event.special[w.name]={}),!a.event.special[w.name].owl){var S=a.event.special[w.name]._default;a.event.special[w.name]._default=function(D){return S&&S.apply&&(!D.namespace||D.namespace.indexOf("owl")===-1)?S.apply(this,arguments):D.namespace&&D.namespace.indexOf("owl")>-1},a.event.special[w.name].owl=!0}}else w.type===C.Type.State&&(this._states.tags[w.name]?this._states.tags[w.name]=this._states.tags[w.name].concat(w.tags):this._states.tags[w.name]=w.tags,this._states.tags[w.name]=a.grep(this._states.tags[w.name],a.proxy(function(D,k){return a.inArray(D,this._states.tags[w.name])===k},this)))},C.prototype.suppress=function(w){a.each(w,a.proxy(function(S,D){this._supress[D]=!0},this))},C.prototype.release=function(w){a.each(w,a.proxy(function(S,D){delete this._supress[D]},this))},C.prototype.pointer=function(w){var S={x:null,y:null};return w=w.originalEvent||w||c.event,w=w.touches&&w.touches.length?w.touches[0]:w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:w,w.pageX?(S.x=w.pageX,S.y=w.pageY):(S.x=w.clientX,S.y=w.clientY),S},C.prototype.isNumeric=function(w){return!isNaN(parseFloat(w))},C.prototype.difference=function(w,S){return{x:w.x-S.x,y:w.y-S.y}},a.fn.owlCarousel=function(w){var S=Array.prototype.slice.call(arguments,1);return this.each(function(){var D=a(this),k=D.data("owl.carousel");k||(k=new C(this,typeof w=="object"&&w),D.data("owl.carousel",k),a.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(G,q){k.register({type:C.Type.Event,name:q}),k.$element.on(q+".owl.carousel.core",a.proxy(function(X){X.namespace&&X.relatedTarget!==this&&(this.suppress([q]),k[q].apply(this,[].slice.call(arguments,1)),this.release([q]))},k))})),typeof w=="string"&&w.charAt(0)!=="_"&&k[w].apply(k,S)})},a.fn.owlCarousel.Constructor=C})(window.Zepto||window.jQuery,window,document);(function(a,c,f,y){var C=function(w){this._core=w,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":a.proxy(function(S){S.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=a.extend({},C.Defaults,this._core.options),this._core.$element.on(this._handlers)};C.Defaults={autoRefresh:!0,autoRefreshInterval:500},C.prototype.watch=function(){this._interval||(this._visible=this._core.isVisible(),this._interval=c.setInterval(a.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},C.prototype.refresh=function(){this._core.isVisible()!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},C.prototype.destroy=function(){var w,S;c.clearInterval(this._interval);for(w in this._handlers)this._core.$element.off(w,this._handlers[w]);for(S in Object.getOwnPropertyNames(this))typeof this[S]!="function"&&(this[S]=null)},a.fn.owlCarousel.Constructor.Plugins.AutoRefresh=C})(window.Zepto||window.jQuery,window);(function(a,c,f,y){var C=function(w){this._core=w,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":a.proxy(function(S){if(S.namespace&&!(!this._core.settings||!this._core.settings.lazyLoad)&&(S.property&&S.property.name=="position"||S.type=="initialized")){var D=this._core.settings,k=D.center&&Math.ceil(D.items/2)||D.items,G=D.center&&k*-1||0,q=(S.property&&S.property.value!==y?S.property.value:this._core.current())+G,X=this._core.clones().length,fe=a.proxy(function(re,he){this.load(he)},this);for(D.lazyLoadEager>0&&(k+=D.lazyLoadEager,D.loop&&(q-=D.lazyLoadEager,k++));G++<k;)this.load(X/2+this._core.relative(q)),X&&a.each(this._core.clones(this._core.relative(q)),fe),q++}},this)},this._core.options=a.extend({},C.Defaults,this._core.options),this._core.$element.on(this._handlers)};C.Defaults={lazyLoad:!1,lazyLoadEager:0},C.prototype.load=function(w){var S=this._core.$stage.children().eq(w),D=S&&S.find(".owl-lazy");!D||a.inArray(S.get(0),this._loaded)>-1||(D.each(a.proxy(function(k,G){var q=a(G),X,fe=c.devicePixelRatio>1&&q.attr("data-src-retina")||q.attr("data-src")||q.attr("data-srcset");this._core.trigger("load",{element:q,url:fe},"lazy"),q.is("img")?q.one("load.owl.lazy",a.proxy(function(){q.css("opacity",1),this._core.trigger("loaded",{element:q,url:fe},"lazy")},this)).attr("src",fe):q.is("source")?q.one("load.owl.lazy",a.proxy(function(){this._core.trigger("loaded",{element:q,url:fe},"lazy")},this)).attr("srcset",fe):(X=new Image,X.onload=a.proxy(function(){q.css({"background-image":'url("'+fe+'")',opacity:"1"}),this._core.trigger("loaded",{element:q,url:fe},"lazy")},this),X.src=fe)},this)),this._loaded.push(S.get(0)))},C.prototype.destroy=function(){var w,S;for(w in this.handlers)this._core.$element.off(w,this.handlers[w]);for(S in Object.getOwnPropertyNames(this))typeof this[S]!="function"&&(this[S]=null)},a.fn.owlCarousel.Constructor.Plugins.Lazy=C})(window.Zepto||window.jQuery,window);(function(a,c,f,y){var C=function(w){this._core=w,this._previousHeight=null,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":a.proxy(function(D){D.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":a.proxy(function(D){D.namespace&&this._core.settings.autoHeight&&D.property.name==="position"&&this.update()},this),"loaded.owl.lazy":a.proxy(function(D){D.namespace&&this._core.settings.autoHeight&&D.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=a.extend({},C.Defaults,this._core.options),this._core.$element.on(this._handlers),this._intervalId=null;var S=this;a(c).on("load",function(){S._core.settings.autoHeight&&S.update()}),a(c).resize(function(){S._core.settings.autoHeight&&(S._intervalId!=null&&clearTimeout(S._intervalId),S._intervalId=setTimeout(function(){S.update()},250))})};C.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},C.prototype.update=function(){var w=this._core._current,S=w+this._core.settings.items,D=this._core.settings.lazyLoad,k=this._core.$stage.children().toArray().slice(w,S),G=[],q=0;a.each(k,function(X,fe){G.push(a(fe).height())}),q=Math.max.apply(null,G),q<=1&&D&&this._previousHeight&&(q=this._previousHeight),this._previousHeight=q,this._core.$stage.parent().height(q).addClass(this._core.settings.autoHeightClass)},C.prototype.destroy=function(){var w,S;for(w in this._handlers)this._core.$element.off(w,this._handlers[w]);for(S in Object.getOwnPropertyNames(this))typeof this[S]!="function"&&(this[S]=null)},a.fn.owlCarousel.Constructor.Plugins.AutoHeight=C})(window.Zepto||window.jQuery,window);(function(a,c,f,y){var C=function(w){this._core=w,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":a.proxy(function(S){S.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":a.proxy(function(S){S.namespace&&this._core.settings.video&&this.isInFullScreen()&&S.preventDefault()},this),"refreshed.owl.carousel":a.proxy(function(S){S.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":a.proxy(function(S){S.namespace&&S.property.name==="position"&&this._playing&&this.stop()},this),"prepared.owl.carousel":a.proxy(function(S){if(S.namespace){var D=a(S.content).find(".owl-video");D.length&&(D.css("display","none"),this.fetch(D,a(S.content)))}},this)},this._core.options=a.extend({},C.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",a.proxy(function(S){this.play(S)},this))};C.Defaults={video:!1,videoHeight:!1,videoWidth:!1},C.prototype.fetch=function(w,S){var D=function(){return w.attr("data-vimeo-id")?"vimeo":w.attr("data-vzaar-id")?"vzaar":"youtube"}(),k=w.attr("data-vimeo-id")||w.attr("data-youtube-id")||w.attr("data-vzaar-id"),G=w.attr("data-width")||this._core.settings.videoWidth,q=w.attr("data-height")||this._core.settings.videoHeight,X=w.attr("href");if(X){if(k=X.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com|be\-nocookie\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),k[3].indexOf("youtu")>-1)D="youtube";else if(k[3].indexOf("vimeo")>-1)D="vimeo";else if(k[3].indexOf("vzaar")>-1)D="vzaar";else throw new Error("Video URL not supported.");k=k[6]}else throw new Error("Missing video URL.");this._videos[X]={type:D,id:k,width:G,height:q},S.attr("data-video",X),this.thumbnail(w,this._videos[X])},C.prototype.thumbnail=function(w,S){var D,k,G,q=S.width&&S.height?"width:"+S.width+"px;height:"+S.height+"px;":"",X=w.find("img"),fe="src",re="",he=this._core.settings,ue=function(ce){k='<div class="owl-video-play-icon"></div>',he.lazyLoad?D=a("<div/>",{class:"owl-video-tn "+re,srcType:ce}):D=a("<div/>",{class:"owl-video-tn",style:"opacity:1;background-image:url("+ce+")"}),w.after(D),w.after(k)};if(w.wrap(a("<div/>",{class:"owl-video-wrapper",style:q})),this._core.settings.lazyLoad&&(fe="data-src",re="owl-lazy"),X.length)return ue(X.attr(fe)),X.remove(),!1;S.type==="youtube"?(G="//img.youtube.com/vi/"+S.id+"/hqdefault.jpg",ue(G)):S.type==="vimeo"?a.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+S.id+".json",jsonp:"callback",dataType:"jsonp",success:function(ce){G=ce[0].thumbnail_large,ue(G)}}):S.type==="vzaar"&&a.ajax({type:"GET",url:"//vzaar.com/api/videos/"+S.id+".json",jsonp:"callback",dataType:"jsonp",success:function(ce){G=ce.framegrab_url,ue(G)}})},C.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},C.prototype.play=function(w){var S=a(w.target),D=S.closest("."+this._core.settings.itemClass),k=this._videos[D.attr("data-video")],G=k.width||"100%",q=k.height||this._core.$stage.height(),X;this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),D=this._core.items(this._core.relative(D.index())),this._core.reset(D.index()),X=a('<iframe frameborder="0" allowfullscreen mozallowfullscreen webkitAllowFullScreen ></iframe>'),X.attr("height",q),X.attr("width",G),k.type==="youtube"?X.attr("src","//www.youtube.com/embed/"+k.id+"?autoplay=1&rel=0&v="+k.id):k.type==="vimeo"?X.attr("src","//player.vimeo.com/video/"+k.id+"?autoplay=1"):k.type==="vzaar"&&X.attr("src","//view.vzaar.com/"+k.id+"/player?autoplay=true"),a(X).wrap('<div class="owl-video-frame" />').insertAfter(D.find(".owl-video")),this._playing=D.addClass("owl-video-playing"))},C.prototype.isInFullScreen=function(){var w=f.fullscreenElement||f.mozFullScreenElement||f.webkitFullscreenElement;return w&&a(w).parent().hasClass("owl-video-frame")},C.prototype.destroy=function(){var w,S;this._core.$element.off("click.owl.video");for(w in this._handlers)this._core.$element.off(w,this._handlers[w]);for(S in Object.getOwnPropertyNames(this))typeof this[S]!="function"&&(this[S]=null)},a.fn.owlCarousel.Constructor.Plugins.Video=C})(window.Zepto||window.jQuery,window,document);(function(a,c,f,y){var C=function(w){this.core=w,this.core.options=a.extend({},C.Defaults,this.core.options),this.swapping=!0,this.previous=y,this.next=y,this.handlers={"change.owl.carousel":a.proxy(function(S){S.namespace&&S.property.name=="position"&&(this.previous=this.core.current(),this.next=S.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":a.proxy(function(S){S.namespace&&(this.swapping=S.type=="translated")},this),"translate.owl.carousel":a.proxy(function(S){S.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};C.Defaults={animateOut:!1,animateIn:!1},C.prototype.swap=function(){if(this.core.settings.items===1&&!(!a.support.animation||!a.support.transition)){this.core.speed(0);var w,S=a.proxy(this.clear,this),D=this.core.$stage.children().eq(this.previous),k=this.core.$stage.children().eq(this.next),G=this.core.settings.animateIn,q=this.core.settings.animateOut;this.core.current()!==this.previous&&(q&&(w=this.core.coordinates(this.previous)-this.core.coordinates(this.next),D.one(a.support.animation.end,S).css({left:w+"px"}).addClass("animated owl-animated-out").addClass(q)),G&&k.one(a.support.animation.end,S).addClass("animated owl-animated-in").addClass(G))}},C.prototype.clear=function(w){a(w.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},C.prototype.destroy=function(){var w,S;for(w in this.handlers)this.core.$element.off(w,this.handlers[w]);for(S in Object.getOwnPropertyNames(this))typeof this[S]!="function"&&(this[S]=null)},a.fn.owlCarousel.Constructor.Plugins.Animate=C})(window.Zepto||window.jQuery);(function(a,c,f,y){var C=function(w){this._core=w,this._call=null,this._time=0,this._timeout=0,this._paused=!0,this._handlers={"changed.owl.carousel":a.proxy(function(S){S.namespace&&S.property.name==="settings"?this._core.settings.autoplay?this.play():this.stop():S.namespace&&S.property.name==="position"&&this._paused&&(this._time=0)},this),"initialized.owl.carousel":a.proxy(function(S){S.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":a.proxy(function(S,D,k){S.namespace&&this.play(D,k)},this),"stop.owl.autoplay":a.proxy(function(S){S.namespace&&this.stop()},this),"mouseover.owl.autoplay":a.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":a.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":a.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":a.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=a.extend({},C.Defaults,this._core.options)};C.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},C.prototype._next=function(w){this._call=c.setTimeout(a.proxy(this._next,this,w),this._timeout*(Math.round(this.read()/this._timeout)+1)-this.read()),!(this._core.is("interacting")||f.hidden)&&this._core.next(w||this._core.settings.autoplaySpeed)},C.prototype.read=function(){return new Date().getTime()-this._time},C.prototype.play=function(w,S){var D;this._core.is("rotating")||this._core.enter("rotating"),w=w||this._core.settings.autoplayTimeout,D=Math.min(this._time%(this._timeout||w),w),this._paused?(this._time=this.read(),this._paused=!1):c.clearTimeout(this._call),this._time+=this.read()%w-D,this._timeout=w,this._call=c.setTimeout(a.proxy(this._next,this,S),w-D)},C.prototype.stop=function(){this._core.is("rotating")&&(this._time=0,this._paused=!0,c.clearTimeout(this._call),this._core.leave("rotating"))},C.prototype.pause=function(){this._core.is("rotating")&&!this._paused&&(this._time=this.read(),this._paused=!0,c.clearTimeout(this._call))},C.prototype.destroy=function(){var w,S;this.stop();for(w in this._handlers)this._core.$element.off(w,this._handlers[w]);for(S in Object.getOwnPropertyNames(this))typeof this[S]!="function"&&(this[S]=null)},a.fn.owlCarousel.Constructor.Plugins.autoplay=C})(window.Zepto||window.jQuery,window,document);(function(a,c,f,y){var C=function(w){this._core=w,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":a.proxy(function(S){S.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+a(S.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":a.proxy(function(S){S.namespace&&this._core.settings.dotsData&&this._templates.splice(S.position,0,this._templates.pop())},this),"remove.owl.carousel":a.proxy(function(S){S.namespace&&this._core.settings.dotsData&&this._templates.splice(S.position,1)},this),"changed.owl.carousel":a.proxy(function(S){S.namespace&&S.property.name=="position"&&this.draw()},this),"initialized.owl.carousel":a.proxy(function(S){S.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":a.proxy(function(S){S.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=a.extend({},C.Defaults,this._core.options),this.$element.on(this._handlers)};C.Defaults={nav:!1,navText:['<span aria-label="Previous">&#x2039;</span>','<span aria-label="Next">&#x203a;</span>'],navSpeed:!1,navElement:'button type="button" role="presentation"',navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},C.prototype.initialize=function(){var w,S=this._core.settings;this._controls.$relative=(S.navContainer?a(S.navContainer):a("<div>").addClass(S.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=a("<"+S.navElement+">").addClass(S.navClass[0]).html(S.navText[0]).prependTo(this._controls.$relative).on("click",a.proxy(function(D){this.prev(S.navSpeed)},this)),this._controls.$next=a("<"+S.navElement+">").addClass(S.navClass[1]).html(S.navText[1]).appendTo(this._controls.$relative).on("click",a.proxy(function(D){this.next(S.navSpeed)},this)),S.dotsData||(this._templates=[a('<button role="button">').addClass(S.dotClass).append(a("<span>")).prop("outerHTML")]),this._controls.$absolute=(S.dotsContainer?a(S.dotsContainer):a("<div>").addClass(S.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","button",a.proxy(function(D){var k=a(D.target).parent().is(this._controls.$absolute)?a(D.target).index():a(D.target).parent().index();D.preventDefault(),this.to(k,S.dotsSpeed)},this));for(w in this._overrides)this._core[w]=a.proxy(this[w],this)},C.prototype.destroy=function(){var w,S,D,k,G;G=this._core.settings;for(w in this._handlers)this.$element.off(w,this._handlers[w]);for(S in this._controls)S==="$relative"&&G.navContainer?this._controls[S].html(""):this._controls[S].remove();for(k in this.overides)this._core[k]=this._overrides[k];for(D in Object.getOwnPropertyNames(this))typeof this[D]!="function"&&(this[D]=null)},C.prototype.update=function(){var w,S,D=this._core.clones().length/2,k=D+this._core.items().length,G=this._core.maximum(!0),q=this._core.settings,X=q.center||q.autoWidth||q.dotsData?1:q.dotsEach||q.items;if(q.slideBy!=="page"&&(q.slideBy=Math.min(q.slideBy,q.items)),q.dots||q.slideBy=="page")for(this._pages=[],w=D,S=0,0;w<k;w++){if(S>=X||S===0){if(this._pages.push({start:Math.min(G,w-D),end:w-D+X-1}),Math.min(G,w-D)===G)break;S=0}S+=this._core.mergers(this._core.relative(w))}},C.prototype.draw=function(){var w,S=this._core.settings,D=this._core.items().length<=S.items,k=this._core.relative(this._core.current()),G=S.loop||S.rewind;this._controls.$relative.toggleClass("disabled",!S.nav||D),S.nav&&(this._controls.$previous.toggleClass("disabled",!G&&k<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!G&&k>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!S.dots||D),S.dots&&(w=this._pages.length-this._controls.$absolute.children().length,S.dotsData&&w!==0?this._controls.$absolute.html(this._templates.join("")):w>0?this._controls.$absolute.append(new Array(w+1).join(this._templates[0])):w<0&&this._controls.$absolute.children().slice(w).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(a.inArray(this.current(),this._pages)).addClass("active"))},C.prototype.onTrigger=function(w){var S=this._core.settings;w.page={index:a.inArray(this.current(),this._pages),count:this._pages.length,size:S&&(S.center||S.autoWidth||S.dotsData?1:S.dotsEach||S.items)}},C.prototype.current=function(){var w=this._core.relative(this._core.current());return a.grep(this._pages,a.proxy(function(S,D){return S.start<=w&&S.end>=w},this)).pop()},C.prototype.getPosition=function(w){var S,D,k=this._core.settings;return k.slideBy=="page"?(S=a.inArray(this.current(),this._pages),D=this._pages.length,w?++S:--S,S=this._pages[(S%D+D)%D].start):(S=this._core.relative(this._core.current()),D=this._core.items().length,w?S+=k.slideBy:S-=k.slideBy),S},C.prototype.next=function(w){a.proxy(this._overrides.to,this._core)(this.getPosition(!0),w)},C.prototype.prev=function(w){a.proxy(this._overrides.to,this._core)(this.getPosition(!1),w)},C.prototype.to=function(w,S,D){var k;!D&&this._pages.length?(k=this._pages.length,a.proxy(this._overrides.to,this._core)(this._pages[(w%k+k)%k].start,S)):a.proxy(this._overrides.to,this._core)(w,S)},a.fn.owlCarousel.Constructor.Plugins.Navigation=C})(window.Zepto||window.jQuery);(function(a,c,f,y){var C=function(w){this._core=w,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":a.proxy(function(S){S.namespace&&this._core.settings.startPosition==="URLHash"&&a(c).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":a.proxy(function(S){if(S.namespace){var D=a(S.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!D)return;this._hashes[D]=S.content}},this),"changed.owl.carousel":a.proxy(function(S){if(S.namespace&&S.property.name==="position"){var D=this._core.items(this._core.relative(this._core.current())),k=a.map(this._hashes,function(G,q){return G===D?q:null}).join();if(!k||c.location.hash.slice(1)===k)return;c.location.hash=k}},this)},this._core.options=a.extend({},C.Defaults,this._core.options),this.$element.on(this._handlers),a(c).on("hashchange.owl.navigation",a.proxy(function(S){var D=c.location.hash.substring(1),k=this._core.$stage.children(),G=this._hashes[D]&&k.index(this._hashes[D]);G===y||G===this._core.current()||this._core.to(this._core.relative(G),!1,!0)},this))};C.Defaults={URLhashListener:!1},C.prototype.destroy=function(){var w,S;a(c).off("hashchange.owl.navigation");for(w in this._handlers)this._core.$element.off(w,this._handlers[w]);for(S in Object.getOwnPropertyNames(this))typeof this[S]!="function"&&(this[S]=null)},a.fn.owlCarousel.Constructor.Plugins.Hash=C})(window.Zepto||window.jQuery,window);(function(a,c,f,y){var C=a("<support>").get(0).style,w="Webkit Moz O ms".split(" "),S={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},D={csstransforms:function(){return!!k("transform")},csstransforms3d:function(){return!!k("perspective")},csstransitions:function(){return!!k("transition")},cssanimations:function(){return!!k("animation")}};function k(q,X){var fe=!1,re=q.charAt(0).toUpperCase()+q.slice(1);return a.each((q+" "+w.join(re+" ")+re).split(" "),function(he,ue){if(C[ue]!==y)return fe=X?ue:!0,!1}),fe}function G(q){return k(q,!0)}D.csstransitions()&&(a.support.transition=new String(G("transition")),a.support.transition.end=S.transition.end[a.support.transition]),D.cssanimations()&&(a.support.animation=new String(G("animation")),a.support.animation.end=S.animation.end[a.support.animation]),D.csstransforms()&&(a.support.transform=new String(G("transform")),a.support.transform3d=D.csstransforms3d())})(window.Zepto||window.jQuery);$(document).ready(function(){$(".owl-carousel").owlCarousel({loop:!0,autoplay:!0,slideTransition:"linear",autoplayTimeout:4e3,autoplaySpeed:4e3,autoWidth:!0,margin:25,nav:!0,responsive:{0:{items:1},600:{items:3},1e3:{items:8}}})});
