var $w=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bH={},Zne={get exports(){return bH},set exports(a){bH=a}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(a,c){(function(){var f,y="4.17.21",C=200,w="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",S="Expected a function",M="Invalid `variable` option passed into `_.template`",P="__lodash_hash_undefined__",G=500,j="__lodash_placeholder__",J=1,me=2,ae=4,pe=1,fe=2,ue=1,le=2,ve=4,ee=8,ke=16,Ke=32,V=64,we=128,Ue=256,bt=512,It=30,He="...",Te=800,bn=16,Tt=1,Mt=2,F=3,Nt=1/0,rt=9007199254740991,Kt=17976931348623157e292,Gt=0/0,Ze=4294967295,_o=Ze-1,Ho=Ze>>>1,lo=[["ary",we],["bind",ue],["bindKey",le],["curry",ee],["curryRight",ke],["flip",bt],["partial",Ke],["partialRight",V],["rearg",Ue]],Vo="[object Arguments]",nt="[object Array]",Lt="[object AsyncFunction]",X="[object Boolean]",fs="[object Date]",po="[object DOMException]",Rs="[object Error]",as="[object Function]",Ia="[object GeneratorFunction]",Fn="[object Map]",ko="[object Number]",en="[object Null]",Ge="[object Object]",Gc="[object Promise]",va="[object Proxy]",Dn="[object RegExp]",ri="[object Set]",Us="[object String]",jc="[object Symbol]",Is="[object Undefined]",zr="[object WeakMap]",lc="[object WeakSet]",Ya="[object ArrayBuffer]",Or="[object DataView]",lr="[object Float32Array]",Jd="[object Float64Array]",ii="[object Int8Array]",Ls="[object Int16Array]",Zl="[object Int32Array]",ai="[object Uint8Array]",Yl="[object Uint8ClampedArray]",Xs="[object Uint16Array]",_i="[object Uint32Array]",Wf=/\b__p \+= '';/g,uc=/\b(__p \+=) '' \+/g,mm=/(__e\(.*?\)|\b__t\)) \+\n'';/g,dn=/&(?:amp|lt|gt|quot|#39);/g,jo=/[&<>"']/g,Da=RegExp(dn.source),qc=RegExp(jo.source),pm=/<%-([\s\S]+?)%>/g,Qu=/<%([\s\S]+?)%>/g,Ws=/<%=([\s\S]+?)%>/g,xu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Gf=/^\w*$/,gr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jn=/[\\^$.*+?()[\]{}|]/g,dc=RegExp(jn.source),Ju=/^\s+/,Oh=/\s/,gp=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ci=/\{\n\/\* \[wrapped with (.+)\] \*/,li=/,? & /,vr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Rc=/[()=,{}\[\]\/\s]/,ef=/\\(\\)?/g,Kl=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Zc=/\w*$/,qr=/^[-+]0x[0-9a-f]+$/i,Al=/^0b[01]+$/i,Xl=/^\[object .+?Constructor\]$/,Cg=/^0o[0-7]+$/i,Sg=/^(?:0|[1-9]\d*)$/,Ql=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,jf=/($^)/,et=/['\n\r\u2028\u2029\\]/g,Xi="\\ud800-\\udfff",qf="\\u0300-\\u036f",xg="\\ufe20-\\ufe2f",gm="\\u20d0-\\u20ff",Gs=qf+xg+gm,tf="\\u2700-\\u27bf",vp="a-z\\xdf-\\xf6\\xf8-\\xff",Ma="\\xac\\xb1\\xd7\\xf7",Jl="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ei="\\u2000-\\u206f",Li=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ed="A-Z\\xc0-\\xd6\\xd8-\\xde",Ic="\\ufe0e\\ufe0f",td=Ma+Jl+Ei+Li,Dc="['’]",nf="["+Xi+"]",$s="["+td+"]",$i="["+Gs+"]",Ol="\\d+",Md="["+tf+"]",hl="["+vp+"]",Yc="[^"+Xi+td+Ol+tf+vp+ed+"]",Nr="\\ud83c[\\udffb-\\udfff]",of="(?:"+$i+"|"+Nr+")",eu="[^"+Xi+"]",us="(?:\\ud83c[\\udde6-\\uddff]){2}",Na="[\\ud800-\\udbff][\\udc00-\\udfff]",Qi="["+ed+"]",Bi="\\u200d",nd="(?:"+hl+"|"+Yc+")",Nd="(?:"+Qi+"|"+Yc+")",Kc="(?:"+Dc+"(?:d|ll|m|re|s|t|ve))?",ml="(?:"+Dc+"(?:D|LL|M|RE|S|T|VE))?",sf=of+"?",vm="["+Ic+"]?",Ag="(?:"+Bi+"(?:"+[eu,us,Na].join("|")+")"+vm+sf+")*",ka="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",wi="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",fc=vm+sf+Ag,Mc="(?:"+[Md,us,Na].join("|")+")"+fc,Pa="(?:"+[eu+$i+"?",$i,us,Na,nf].join("|")+")",rf=RegExp(Dc,"g"),af=RegExp($i,"g"),Rl=RegExp(Nr+"(?="+Nr+")|"+Pa+fc,"g"),Ti=RegExp([Qi+"?"+hl+"+"+Kc+"(?="+[$s,Qi,"$"].join("|")+")",Nd+"+"+ml+"(?="+[$s,Qi+nd,"$"].join("|")+")",Qi+"?"+nd+"+"+Kc,Qi+"+"+ml,wi,ka,Ol,Mc].join("|"),"g"),Ji=RegExp("["+Bi+Xi+Gs+Ic+"]"),Au=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,od=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],bp=-1,Bs={};Bs[lr]=Bs[Jd]=Bs[ii]=Bs[Ls]=Bs[Zl]=Bs[ai]=Bs[Yl]=Bs[Xs]=Bs[_i]=!0,Bs[Vo]=Bs[nt]=Bs[Ya]=Bs[X]=Bs[Or]=Bs[fs]=Bs[Rs]=Bs[as]=Bs[Fn]=Bs[ko]=Bs[Ge]=Bs[Dn]=Bs[ri]=Bs[Us]=Bs[zr]=!1;var br={};br[Vo]=br[nt]=br[Ya]=br[Or]=br[X]=br[fs]=br[lr]=br[Jd]=br[ii]=br[Ls]=br[Zl]=br[Fn]=br[ko]=br[Ge]=br[Dn]=br[ri]=br[Us]=br[jc]=br[ai]=br[Yl]=br[Xs]=br[_i]=!0,br[Rs]=br[as]=br[zr]=!1;var hc={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},ea={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},tu={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},pl={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},uo=parseFloat,cs=parseInt,Fi=typeof $w=="object"&&$w&&$w.Object===Object&&$w,ui=typeof self=="object"&&self&&self.Object===Object&&self,ba=Fi||ui||Function("return this")(),x=c&&!c.nodeType&&c,k=x&&!0&&a&&!a.nodeType&&a,U=k&&k.exports===x,q=U&&Fi.process,oe=function(){try{var at=k&&k.require&&k.require("util").types;return at||q&&q.binding&&q.binding("util")}catch{}}(),he=oe&&oe.isArrayBuffer,Ee=oe&&oe.isDate,Ce=oe&&oe.isMap,$e=oe&&oe.isRegExp,ot=oe&&oe.isSet,wt=oe&&oe.isTypedArray;function qt(at,$t,Dt){switch(Dt.length){case 0:return at.call($t);case 1:return at.call($t,Dt[0]);case 2:return at.call($t,Dt[0],Dt[1]);case 3:return at.call($t,Dt[0],Dt[1],Dt[2])}return at.apply($t,Dt)}function st(at,$t,Dt,Yn){for(var To=-1,ts=at==null?0:at.length;++To<ts;){var Si=at[To];$t(Yn,Si,Dt(Si),at)}return Yn}function Pt(at,$t){for(var Dt=-1,Yn=at==null?0:at.length;++Dt<Yn&&$t(at[Dt],Dt,at)!==!1;);return at}function no(at,$t){for(var Dt=at==null?0:at.length;Dt--&&$t(at[Dt],Dt,at)!==!1;);return at}function qn(at,$t){for(var Dt=-1,Yn=at==null?0:at.length;++Dt<Yn;)if(!$t(at[Dt],Dt,at))return!1;return!0}function xn(at,$t){for(var Dt=-1,Yn=at==null?0:at.length,To=0,ts=[];++Dt<Yn;){var Si=at[Dt];$t(Si,Dt,at)&&(ts[To++]=Si)}return ts}function yr(at,$t){var Dt=at==null?0:at.length;return!!Dt&&Xc(at,$t,0)>-1}function _r(at,$t,Dt){for(var Yn=-1,To=at==null?0:at.length;++Yn<To;)if(Dt($t,at[Yn]))return!0;return!1}function ws(at,$t){for(var Dt=-1,Yn=at==null?0:at.length,To=Array(Yn);++Dt<Yn;)To[Dt]=$t(at[Dt],Dt,at);return To}function Zn(at,$t){for(var Dt=-1,Yn=$t.length,To=at.length;++Dt<Yn;)at[To+Dt]=$t[Dt];return at}function eo(at,$t,Dt,Yn){var To=-1,ts=at==null?0:at.length;for(Yn&&ts&&(Dt=at[++To]);++To<ts;)Dt=$t(Dt,at[To],To,at);return Dt}function ta(at,$t,Dt,Yn){var To=at==null?0:at.length;for(Yn&&To&&(Dt=at[--To]);To--;)Dt=$t(Dt,at[To],To,at);return Dt}function Po(at,$t){for(var Dt=-1,Yn=at==null?0:at.length;++Dt<Yn;)if($t(at[Dt],Dt,at))return!0;return!1}var nr=mc("length");function nu(at){return at.split("")}function Ds(at){return at.match(vr)||[]}function Er(at,$t,Dt){var Yn;return Dt(at,function(To,ts,Si){if($t(To,ts,Si))return Yn=ts,!1}),Yn}function Jr(at,$t,Dt,Yn){for(var To=at.length,ts=Dt+(Yn?1:-1);Yn?ts--:++ts<To;)if($t(at[ts],ts,at))return ts;return-1}function Xc(at,$t,Dt){return $t===$t?_p(at,$t,Dt):Jr(at,ps,Dt)}function Ci(at,$t,Dt,Yn){for(var To=Dt-1,ts=at.length;++To<ts;)if(Yn(at[To],$t))return To;return-1}function ps(at){return at!==at}function Rr(at,$t){var Dt=at==null?0:at.length;return Dt?Eo(at,$t)/Dt:Gt}function mc(at){return function($t){return $t==null?f:$t[at]}}function Zf(at){return function($t){return at==null?f:at[$t]}}function La(at,$t,Dt,Yn,To){return To(at,function(ts,Si,Qs){Dt=Yn?(Yn=!1,ts):$t(Dt,ts,Si,Qs)}),Dt}function gl(at,$t){var Dt=at.length;for(at.sort($t);Dt--;)at[Dt]=at[Dt].value;return at}function Eo(at,$t){for(var Dt,Yn=-1,To=at.length;++Yn<To;){var ts=$t(at[Yn]);ts!==f&&(Dt=Dt===f?ts:Dt+ts)}return Dt}function ei(at,$t){for(var Dt=-1,Yn=Array(at);++Dt<at;)Yn[Dt]=$t(Dt);return Yn}function Ka(at,$t){return ws($t,function(Dt){return[Dt,at[Dt]]})}function pc(at){return at&&at.slice(0,Ne(at)+1).replace(Ju,"")}function na(at){return function($t){return at($t)}}function Ir(at,$t){return ws($t,function(Dt){return at[Dt]})}function ya(at,$t){return at.has($t)}function Yf(at,$t){for(var Dt=-1,Yn=at.length;++Dt<Yn&&Xc($t,at[Dt],0)>-1;);return Dt}function Ou(at,$t){for(var Dt=at.length;Dt--&&Xc($t,at[Dt],0)>-1;);return Dt}function bm(at,$t){for(var Dt=at.length,Yn=0;Dt--;)at[Dt]===$t&&++Yn;return Yn}var yp=Zf(hc),Il=Zf(ea);function Ru(at){return"\\"+pl[at]}function Rh(at,$t){return at==null?f:at[$t]}function Hi(at){return Ji.test(at)}function sd(at){return Au.test(at)}function kd(at){for(var $t,Dt=[];!($t=at.next()).done;)Dt.push($t.value);return Dt}function Dl(at){var $t=-1,Dt=Array(at.size);return at.forEach(function(Yn,To){Dt[++$t]=[To,Yn]}),Dt}function Xa(at,$t){return function(Dt){return at($t(Dt))}}function $a(at,$t){for(var Dt=-1,Yn=at.length,To=0,ts=[];++Dt<Yn;){var Si=at[Dt];(Si===$t||Si===j)&&(at[Dt]=j,ts[To++]=Dt)}return ts}function rd(at){var $t=-1,Dt=Array(at.size);return at.forEach(function(Yn){Dt[++$t]=Yn}),Dt}function cf(at){var $t=-1,Dt=Array(at.size);return at.forEach(function(Yn){Dt[++$t]=[Yn,Yn]}),Dt}function _p(at,$t,Dt){for(var Yn=Dt-1,To=at.length;++Yn<To;)if(at[Yn]===$t)return Yn;return-1}function Ep(at,$t,Dt){for(var Yn=Dt+1;Yn--;)if(at[Yn]===$t)return Yn;return Yn}function hs(at){return Hi(at)?_a(at):nr(at)}function Qc(at){return Hi(at)?Ih(at):nu(at)}function Ne(at){for(var $t=at.length;$t--&&Oh.test(at.charAt($t)););return $t}var Nc=Zf(tu);function _a(at){for(var $t=Rl.lastIndex=0;Rl.test(at);)++$t;return $t}function Ih(at){return at.match(Rl)||[]}function Og(at){return at.match(Ti)||[]}var zv=function at($t){$t=$t==null?ba:es.defaults(ba.Object(),$t,es.pick(ba,od));var Dt=$t.Array,Yn=$t.Date,To=$t.Error,ts=$t.Function,Si=$t.Math,Qs=$t.Object,Kf=$t.RegExp,Jc=$t.String,Qa=$t.TypeError,Oe=Dt.prototype,Be=ts.prototype,qe=Qs.prototype,Vt=$t["__core-js_shared__"],ft=Be.toString,xt=qe.hasOwnProperty,Xt=0,An=function(){var p=/[^.]+$/.exec(Vt&&Vt.keys&&Vt.keys.IE_PROTO||"");return p?"Symbol(src)_1."+p:""}(),Ln=qe.toString,Co=ft.call(Qs),wo=ba._,fo=Kf("^"+ft.call(xt).replace(jn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zo=U?$t.Buffer:f,Ns=$t.Symbol,Ao=$t.Uint8Array,Ba=zo?zo.allocUnsafe:f,Zr=Xa(Qs.getPrototypeOf,Qs),Fa=Qs.create,ur=qe.propertyIsEnumerable,ou=Oe.splice,js=Ns?Ns.isConcatSpreadable:f,ns=Ns?Ns.iterator:f,su=Ns?Ns.toStringTag:f,wp=function(){try{var p=ze(Qs,"defineProperty");return p({},"",{}),p}catch{}}(),S0=$t.clearTimeout!==ba.clearTimeout&&$t.clearTimeout,Ja=Yn&&Yn.now!==ba.Date.now&&Yn.now,Tp=$t.setTimeout!==ba.setTimeout&&$t.setTimeout,ru=Si.ceil,Ml=Si.floor,Dh=Qs.getOwnPropertySymbols,io=zo?zo.isBuffer:f,gc=$t.isFinite,ym=Oe.join,sb=Xa(Qs.keys,Qs),xi=Si.max,Ha=Si.min,el=Yn.now,iu=$t.parseInt,oa=Si.random,Nl=Oe.reverse,Ea=ze($t,"DataView"),Cp=ze($t,"Map"),bs=ze($t,"Promise"),kl=ze($t,"Set"),Iu=ze($t,"WeakMap"),kr=ze(Qs,"create"),Sp=Iu&&new Iu,_m={},lf=Hu(Ea),dr=Hu(Cp),Pr=Hu(bs),vc=Hu(kl),au=Hu(Iu),Xf=Ns?Ns.prototype:f,Mh=Xf?Xf.valueOf:f,Nh=Xf?Xf.toString:f;function ye(p){if(Bt(p)&&!ys(p)&&!(p instanceof Js)){if(p instanceof cu)return p;if(xt.call(p,"__wrapped__"))return Dp(p)}return new cu(p)}var Qf=function(){function p(){}return function(_){if(!da(_))return{};if(Fa)return Fa(_);p.prototype=_;var N=new p;return p.prototype=f,N}}();function Em(){}function cu(p,_){this.__wrapped__=p,this.__actions__=[],this.__chain__=!!_,this.__index__=0,this.__values__=f}ye.templateSettings={escape:pm,evaluate:Qu,interpolate:Ws,variable:"",imports:{_:ye}},ye.prototype=Em.prototype,ye.prototype.constructor=ye,cu.prototype=Qf(Em.prototype),cu.prototype.constructor=cu;function Js(p){this.__wrapped__=p,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ze,this.__views__=[]}function rb(){var p=new Js(this.__wrapped__);return p.__actions__=ol(this.__actions__),p.__dir__=this.__dir__,p.__filtered__=this.__filtered__,p.__iteratees__=ol(this.__iteratees__),p.__takeCount__=this.__takeCount__,p.__views__=ol(this.__views__),p}function wm(){if(this.__filtered__){var p=new Js(this);p.__dir__=-1,p.__filtered__=!0}else p=this.clone(),p.__dir__*=-1;return p}function Uv(){var p=this.__wrapped__.value(),_=this.__dir__,N=ys(p),K=_<0,ge=N?p.length:0,De=ao(0,ge,this.__views__),Ve=De.start,Ye=De.end,gt=Ye-Ve,sn=K?Ye:Ve-1,nn=this.__iteratees__,vn=nn.length,Hn=0,go=Ha(gt,this.__takeCount__);if(!N||!K&&ge==gt&&go==gt)return Lc(p,this.__actions__);var Wo=[];e:for(;gt--&&Hn<go;){sn+=_;for(var Bo=-1,Lo=p[sn];++Bo<vn;){var Ys=nn[Bo],_s=Ys.iteratee,Ii=Ys.type,Di=_s(Lo);if(Ii==Mt)Lo=Di;else if(!Di){if(Ii==Tt)continue e;break e}}Wo[Hn++]=Lo}return Wo}Js.prototype=Qf(Em.prototype),Js.prototype.constructor=Js;function bc(p){var _=-1,N=p==null?0:p.length;for(this.clear();++_<N;){var K=p[_];this.set(K[0],K[1])}}function ib(){this.__data__=kr?kr(null):{},this.size=0}function Rg(p){var _=this.has(p)&&delete this.__data__[p];return this.size-=_?1:0,_}function Wv(p){var _=this.__data__;if(kr){var N=_[p];return N===P?f:N}return xt.call(_,p)?_[p]:f}function id(p){var _=this.__data__;return kr?_[p]!==f:xt.call(_,p)}function Gv(p,_){var N=this.__data__;return this.size+=this.has(p)?0:1,N[p]=kr&&_===f?P:_,this}bc.prototype.clear=ib,bc.prototype.delete=Rg,bc.prototype.get=Wv,bc.prototype.has=id,bc.prototype.set=Gv;function ec(p){var _=-1,N=p==null?0:p.length;for(this.clear();++_<N;){var K=p[_];this.set(K[0],K[1])}}function Jf(){this.__data__=[],this.size=0}function ab(p){var _=this.__data__,N=uf(_,p);if(N<0)return!1;var K=_.length-1;return N==K?_.pop():ou.call(_,N,1),--this.size,!0}function kh(p){var _=this.__data__,N=uf(_,p);return N<0?f:_[N][1]}function Ig(p){return uf(this.__data__,p)>-1}function Dg(p,_){var N=this.__data__,K=uf(N,p);return K<0?(++this.size,N.push([p,_])):N[K][1]=_,this}ec.prototype.clear=Jf,ec.prototype.delete=ab,ec.prototype.get=kh,ec.prototype.has=Ig,ec.prototype.set=Dg;function ad(p){var _=-1,N=p==null?0:p.length;for(this.clear();++_<N;){var K=p[_];this.set(K[0],K[1])}}function yc(){this.size=0,this.__data__={hash:new bc,map:new(Cp||ec),string:new bc}}function vl(p){var _=Z(this,p).delete(p);return this.size-=_?1:0,_}function Ai(p){return Z(this,p).get(p)}function Va(p){return Z(this,p).has(p)}function $n(p,_){var N=Z(this,p),K=N.size;return N.set(p,_),this.size+=N.size==K?0:1,this}ad.prototype.clear=yc,ad.prototype.delete=vl,ad.prototype.get=Ai,ad.prototype.has=Va,ad.prototype.set=$n;function an(p){var _=-1,N=p==null?0:p.length;for(this.__data__=new ad;++_<N;)this.add(p[_])}function Tm(p){return this.__data__.set(p,P),this}function Pl(p){return this.__data__.has(p)}an.prototype.add=an.prototype.push=Tm,an.prototype.has=Pl;function lu(p){var _=this.__data__=new ec(p);this.size=_.size}function jv(){this.__data__=new ec,this.size=0}function uu(p){var _=this.__data__,N=_.delete(p);return this.size=_.size,N}function du(p){return this.__data__.get(p)}function Mg(p){return this.__data__.has(p)}function Yr(p,_){var N=this.__data__;if(N instanceof ec){var K=N.__data__;if(!Cp||K.length<C-1)return K.push([p,_]),this.size=++N.size,this;N=this.__data__=new ad(K)}return N.set(p,_),this.size=N.size,this}lu.prototype.clear=jv,lu.prototype.delete=uu,lu.prototype.get=du,lu.prototype.has=Mg,lu.prototype.set=Yr;function eh(p,_){var N=ys(p),K=!N&&Zh(p),ge=!N&&!K&&Sf(p),De=!N&&!K&&!ge&&cl(p),Ve=N||K||ge||De,Ye=Ve?ei(p.length,Jc):[],gt=Ye.length;for(var sn in p)(_||xt.call(p,sn))&&!(Ve&&(sn=="length"||ge&&(sn=="offset"||sn=="parent")||De&&(sn=="buffer"||sn=="byteLength"||sn=="byteOffset")||sr(sn,gt)))&&Ye.push(sn);return Ye}function Cm(p){var _=p.length;return _?p[ff(0,_-1)]:f}function Wt(p,_){return Fu(ol(p),Oi(_,0,p.length))}function qv(p){return Fu(ol(p))}function Zv(p,_,N){(N!==f&&!Vs(p[_],N)||N===f&&!(_ in p))&&Do(p,_,N)}function _c(p,_,N){var K=p[_];(!(xt.call(p,_)&&Vs(K,N))||N===f&&!(_ in p))&&Do(p,_,N)}function uf(p,_){for(var N=p.length;N--;)if(Vs(p[N][0],_))return N;return-1}function th(p,_,N,K){return fu(p,function(ge,De,Ve){_(K,ge,N(ge),Ve)}),K}function Lr(p,_){return p&&ku(_,Vc(_),p)}function cb(p,_){return p&&ku(_,Uu(_),p)}function Do(p,_,N){_=="__proto__"&&wp?wp(p,_,{configurable:!0,enumerable:!0,value:N,writable:!0}):p[_]=N}function gs(p,_){for(var N=-1,K=_.length,ge=Dt(K),De=p==null;++N<K;)ge[N]=De?f:y1(p,_[N]);return ge}function Oi(p,_,N){return p===p&&(N!==f&&(p=p<=N?p:N),_!==f&&(p=p>=_?p:_)),p}function mi(p,_,N,K,ge,De){var Ve,Ye=_&J,gt=_&me,sn=_&ae;if(N&&(Ve=ge?N(p,K,ge,De):N(p)),Ve!==f)return Ve;if(!da(p))return p;var nn=ys(p);if(nn){if(Ve=zt(p),!Ye)return ol(p,Ve)}else{var vn=on(p),Hn=vn==as||vn==Ia;if(Sf(p))return zg(p,Ye);if(vn==Ge||vn==Vo||Hn&&!ge){if(Ve=gt||Hn?{}:os(p),!Ye)return gt?fd(p,cb(Ve,p)):vf(p,Lr(Ve,p))}else{if(!br[vn])return ge?p:{};Ve=oi(p,vn,Ye)}}De||(De=new lu);var go=De.get(p);if(go)return go;De.set(p,Ve),xf(p)?p.forEach(function(Lo){Ve.add(mi(Lo,_,N,Lo,p,De))}):j_(p)&&p.forEach(function(Lo,Ys){Ve.set(Ys,mi(Lo,_,N,Ys,p,De))});var Wo=sn?gt?Cc:wr:gt?Uu:Vc,Bo=nn?f:Wo(p);return Pt(Bo||p,function(Lo,Ys){Bo&&(Ys=Lo,Lo=p[Ys]),_c(Ve,Ys,mi(Lo,_,N,Ys,p,De))}),Ve}function di(p){var _=Vc(p);return function(N){return nh(N,p,_)}}function nh(p,_,N){var K=N.length;if(p==null)return!K;for(p=Qs(p);K--;){var ge=N[K],De=_[ge],Ve=p[ge];if(Ve===f&&!(ge in p)||!De(Ve))return!1}return!0}function fi(p,_,N){if(typeof p!="function")throw new Qa(S);return bd(function(){p.apply(f,N)},_)}function Ts(p,_,N,K){var ge=-1,De=yr,Ve=!0,Ye=p.length,gt=[],sn=_.length;if(!Ye)return gt;N&&(_=ws(_,na(N))),K?(De=_r,Ve=!1):_.length>=C&&(De=ya,Ve=!1,_=new an(_));e:for(;++ge<Ye;){var nn=p[ge],vn=N==null?nn:N(nn);if(nn=K||nn!==0?nn:0,Ve&&vn===vn){for(var Hn=sn;Hn--;)if(_[Hn]===vn)continue e;gt.push(nn)}else De(_,vn,K)||gt.push(nn)}return gt}var fu=Lu(Pc),Rt=Lu(Ng,!0);function hu(p,_){var N=!0;return fu(p,function(K,ge,De){return N=!!_(K,ge,De),N}),N}function oh(p,_,N){for(var K=-1,ge=p.length;++K<ge;){var De=p[K],Ve=_(De);if(Ve!=null&&(Ye===f?Ve===Ve&&!Ul(Ve):N(Ve,Ye)))var Ye=Ve,gt=De}return gt}function ti(p,_,N,K){var ge=p.length;for(N=As(N),N<0&&(N=-N>ge?0:ge+N),K=K===f||K>ge?ge:As(K),K<0&&(K+=ge),K=N>K?0:Hp(K);N<K;)p[N++]=_;return p}function Du(p,_){var N=[];return fu(p,function(K,ge,De){_(K,ge,De)&&N.push(K)}),N}function kc(p,_,N,K,ge){var De=-1,Ve=p.length;for(N||(N=or),ge||(ge=[]);++De<Ve;){var Ye=p[De];_>0&&N(Ye)?_>1?kc(Ye,_-1,N,K,ge):Zn(ge,Ye):K||(ge[ge.length]=Ye)}return ge}var bl=Om(),Yv=Om(!0);function Pc(p,_){return p&&bl(p,_,Vc)}function Ng(p,_){return p&&Yv(p,_,Vc)}function Ec(p,_){return xn(_,function(N){return wn(p[N])})}function qo(p,_){_=fr(_,p);for(var N=0,K=_.length;p!=null&&N<K;)p=p[Gi(_[N++])];return N&&N==K?p:f}function cd(p,_,N){var K=_(p);return ys(p)?K:Zn(K,N(p))}function tc(p){return p==null?p===f?Is:en:su&&su in Qs(p)?yt(p):Bd(p)}function Kr(p,_){return p>_}function ld(p,_){return p!=null&&xt.call(p,_)}function nc(p,_){return p!=null&&_ in Qs(p)}function lb(p,_,N){return p>=Ha(_,N)&&p<xi(_,N)}function oc(p,_,N){for(var K=N?_r:yr,ge=p[0].length,De=p.length,Ve=De,Ye=Dt(De),gt=1/0,sn=[];Ve--;){var nn=p[Ve];Ve&&_&&(nn=ws(nn,na(_))),gt=Ha(nn.length,gt),Ye[Ve]=!N&&(_||ge>=120&&nn.length>=120)?new an(Ve&&nn):f}nn=p[0];var vn=-1,Hn=Ye[0];e:for(;++vn<ge&&sn.length<gt;){var go=nn[vn],Wo=_?_(go):go;if(go=N||go!==0?go:0,!(Hn?ya(Hn,Wo):K(sn,Wo,N))){for(Ve=De;--Ve;){var Bo=Ye[Ve];if(!(Bo?ya(Bo,Wo):K(p[Ve],Wo,N)))continue e}Hn&&Hn.push(Wo),sn.push(go)}}return sn}function sh(p,_,N,K){return Pc(p,function(ge,De,Ve){_(K,N(ge),De,Ve)}),K}function tt(p,_,N){_=fr(_,p),p=Fc(p,_);var K=p==null?p:p[Gi(Zs(_))];return K==null?f:qt(K,p,N)}function tl(p){return Bt(p)&&tc(p)==Vo}function Ph(p){return Bt(p)&&tc(p)==Ya}function Mu(p){return Bt(p)&&tc(p)==fs}function wc(p,_,N,K,ge){return p===_?!0:p==null||_==null||!Bt(p)&&!Bt(_)?p!==p&&_!==_:wa(p,_,N,K,wc,ge)}function wa(p,_,N,K,ge,De){var Ve=ys(p),Ye=ys(_),gt=Ve?nt:on(p),sn=Ye?nt:on(_);gt=gt==Vo?Ge:gt,sn=sn==Vo?Ge:sn;var nn=gt==Ge,vn=sn==Ge,Hn=gt==sn;if(Hn&&Sf(p)){if(!Sf(_))return!1;Ve=!0,nn=!1}if(Hn&&!nn)return De||(De=new lu),Ve||cl(p)?Dm(p,_,N,K,ge,De):ah(p,_,gt,N,K,ge,De);if(!(N&pe)){var go=nn&&xt.call(p,"__wrapped__"),Wo=vn&&xt.call(_,"__wrapped__");if(go||Wo){var Bo=go?p.value():p,Lo=Wo?_.value():_;return De||(De=new lu),ge(Bo,Lo,N,K,De)}}return Hn?(De||(De=new lu),Mm(p,_,N,K,ge,De)):!1}function Vi(p){return Bt(p)&&on(p)==Fn}function Kv(p,_,N,K){var ge=N.length,De=ge,Ve=!K;if(p==null)return!De;for(p=Qs(p);ge--;){var Ye=N[ge];if(Ve&&Ye[2]?Ye[1]!==p[Ye[0]]:!(Ye[0]in p))return!1}for(;++ge<De;){Ye=N[ge];var gt=Ye[0],sn=p[gt],nn=Ye[1];if(Ve&&Ye[2]){if(sn===f&&!(gt in p))return!1}else{var vn=new lu;if(K)var Hn=K(sn,nn,gt,p,_,vn);if(!(Hn===f?wc(nn,sn,pe|fe,K,vn):Hn))return!1}}return!0}function xp(p){if(!da(p)||rr(p))return!1;var _=wn(p)?fo:Xl;return _.test(Hu(p))}function Pd(p){return Bt(p)&&tc(p)==Dn}function Wn(p){return Bt(p)&&on(p)==ri}function df(p){return Bt(p)&&p1(p.length)&&!!Bs[tc(p)]}function mu(p){return typeof p=="function"?p:p==null?Wu:typeof p=="object"?ys(p)?Nu(p[0],p[1]):Lh(p):uy(p)}function sa(p){if(!ca(p))return sb(p);var _=[];for(var N in Qs(p))xt.call(p,N)&&N!="constructor"&&_.push(N);return _}function Ap(p){if(!da(p))return sl(p);var _=ca(p),N=[];for(var K in p)K=="constructor"&&(_||!xt.call(p,K))||N.push(K);return N}function yl(p,_){return p<_}function kg(p,_){var N=-1,K=Sl(p)?Dt(p.length):[];return fu(p,function(ge,De,Ve){K[++N]=_(ge,De,Ve)}),K}function Lh(p){var _=Ae(p);return _.length==1&&_[0][2]?pi(_[0][0],_[0][1]):function(N){return N===p||Kv(N,p,_)}}function Nu(p,_){return Tr(p)&&Wi(_)?pi(Gi(p),_):function(N){var K=y1(N,p);return K===f&&K===_?Db(N,p):wc(_,K,pe|fe)}}function Tc(p,_,N,K,ge){p!==_&&bl(_,function(De,Ve){if(ge||(ge=new lu),da(De))_l(p,_,Ve,N,Tc,K,ge);else{var Ye=K?K(Ca(p,Ve),De,Ve+"",p,_,ge):f;Ye===f&&(Ye=De),Zv(p,Ve,Ye)}},Uu)}function _l(p,_,N,K,ge,De,Ve){var Ye=Ca(p,N),gt=Ca(_,N),sn=Ve.get(gt);if(sn){Zv(p,N,sn);return}var nn=De?De(Ye,gt,N+"",p,_,Ve):f,vn=nn===f;if(vn){var Hn=ys(gt),go=!Hn&&Sf(gt),Wo=!Hn&&!go&&cl(gt);nn=gt,Hn||go||Wo?ys(Ye)?nn=Ye:ua(Ye)?nn=ol(Ye):go?(vn=!1,nn=zg(gt,!0)):Wo?(vn=!1,nn=Ug(gt,!0)):nn=[]:zl(gt)||Zh(gt)?(nn=Ye,Zh(Ye)?nn=K_(Ye):(!da(Ye)||wn(Ye))&&(nn=os(gt))):vn=!1}vn&&(Ve.set(gt,nn),ge(nn,gt,K,De,Ve),Ve.delete(gt)),Zv(p,N,nn)}function Pg(p,_){var N=p.length;if(N)return _+=_<0?N:0,sr(_,N)?p[_]:f}function ub(p,_,N){_.length?_=ws(_,function(De){return ys(De)?function(Ve){return qo(Ve,De.length===1?De[0]:De)}:De}):_=[Wu];var K=-1;_=ws(_,na(D()));var ge=kg(p,function(De,Ve,Ye){var gt=ws(_,function(sn){return sn(De)});return{criteria:gt,index:++K,value:De}});return gl(ge,function(De,Ve){return Rp(De,Ve,N)})}function ud(p,_){return Op(p,_,function(N,K){return Db(p,K)})}function Op(p,_,N){for(var K=-1,ge=_.length,De={};++K<ge;){var Ve=_[K],Ye=qo(p,Ve);N(Ye,Ve)&&Ll(De,fr(Ve,p),Ye)}return De}function Lg(p){return function(_){return qo(_,p)}}function $h(p,_,N,K){var ge=K?Ci:Xc,De=-1,Ve=_.length,Ye=p;for(p===_&&(_=ol(_)),N&&(Ye=ws(p,na(N)));++De<Ve;)for(var gt=0,sn=_[De],nn=N?N(sn):sn;(gt=ge(Ye,nn,gt,K))>-1;)Ye!==p&&ou.call(Ye,gt,1),ou.call(p,gt,1);return p}function Sm(p,_){for(var N=p?_.length:0,K=N-1;N--;){var ge=_[N];if(N==K||ge!==De){var De=ge;sr(ge)?ou.call(p,ge,1):Fg(p,ge)}}return p}function ff(p,_){return p+Ml(oa()*(_-p+1))}function $g(p,_,N,K){for(var ge=-1,De=xi(ru((_-p)/(N||1)),0),Ve=Dt(De);De--;)Ve[K?De:++ge]=p,p+=N;return Ve}function Bg(p,_){var N="";if(!p||_<1||_>rt)return N;do _%2&&(N+=p),_=Ml(_/2),_&&(p+=p);while(_);return N}function xs(p,_){return Nm(Fl(p,_,Wu),p+"")}function hf(p){return Cm(Af(p))}function ra(p,_){var N=Af(p);return Fu(N,Oi(_,0,N.length))}function Ll(p,_,N,K){if(!da(p))return p;_=fr(_,p);for(var ge=-1,De=_.length,Ve=De-1,Ye=p;Ye!=null&&++ge<De;){var gt=Gi(_[ge]),sn=N;if(gt==="__proto__"||gt==="constructor"||gt==="prototype")return p;if(ge!=Ve){var nn=Ye[gt];sn=K?K(nn,gt,Ye):f,sn===f&&(sn=da(nn)?nn:sr(_[ge+1])?[]:{})}_c(Ye,gt,sn),Ye=Ye[gt]}return p}var Bh=Sp?function(p,_){return Sp.set(p,_),p}:Wu,rh=wp?function(p,_){return wp(p,"toString",{configurable:!0,enumerable:!1,value:jp(_),writable:!0})}:Wu;function db(p){return Fu(Af(p))}function ni(p,_,N){var K=-1,ge=p.length;_<0&&(_=-_>ge?0:ge+_),N=N>ge?ge:N,N<0&&(N+=ge),ge=_>N?0:N-_>>>0,_>>>=0;for(var De=Dt(ge);++K<ge;)De[K]=p[K+_];return De}function El(p,_){var N;return fu(p,function(K,ge,De){return N=_(K,ge,De),!N}),!!N}function Fh(p,_,N){var K=0,ge=p==null?K:p.length;if(typeof _=="number"&&_===_&&ge<=Ho){for(;K<ge;){var De=K+ge>>>1,Ve=p[De];Ve!==null&&!Ul(Ve)&&(N?Ve<=_:Ve<_)?K=De+1:ge=De}return ge}return Ld(p,_,Wu,N)}function Ld(p,_,N,K){var ge=0,De=p==null?0:p.length;if(De===0)return 0;_=N(_);for(var Ve=_!==_,Ye=_===null,gt=Ul(_),sn=_===f;ge<De;){var nn=Ml((ge+De)/2),vn=N(p[nn]),Hn=vn!==f,go=vn===null,Wo=vn===vn,Bo=Ul(vn);if(Ve)var Lo=K||Wo;else sn?Lo=Wo&&(K||Hn):Ye?Lo=Wo&&Hn&&(K||!go):gt?Lo=Wo&&Hn&&!go&&(K||!Bo):go||Bo?Lo=!1:Lo=K?vn<=_:vn<_;Lo?ge=nn+1:De=nn}return Ha(De,_o)}function $d(p,_){for(var N=-1,K=p.length,ge=0,De=[];++N<K;){var Ve=p[N],Ye=_?_(Ve):Ve;if(!N||!Vs(Ye,gt)){var gt=Ye;De[ge++]=Ve===0?0:Ve}}return De}function mf(p){return typeof p=="number"?p:Ul(p)?Gt:+p}function nl(p){if(typeof p=="string")return p;if(ys(p))return ws(p,nl)+"";if(Ul(p))return Nh?Nh.call(p):"";var _=p+"";return _=="0"&&1/p==-Nt?"-0":_}function zi(p,_,N){var K=-1,ge=yr,De=p.length,Ve=!0,Ye=[],gt=Ye;if(N)Ve=!1,ge=_r;else if(De>=C){var sn=_?null:kt(p);if(sn)return rd(sn);Ve=!1,ge=ya,gt=new an}else gt=_?[]:Ye;e:for(;++K<De;){var nn=p[K],vn=_?_(nn):nn;if(nn=N||nn!==0?nn:0,Ve&&vn===vn){for(var Hn=gt.length;Hn--;)if(gt[Hn]===vn)continue e;_&&gt.push(vn),Ye.push(nn)}else ge(gt,vn,N)||(gt!==Ye&&gt.push(vn),Ye.push(nn))}return Ye}function Fg(p,_){return _=fr(_,p),p=Fc(p,_),p==null||delete p[Gi(Zs(_))]}function ia(p,_,N,K){return Ll(p,_,N(qo(p,_)),K)}function $l(p,_,N,K){for(var ge=p.length,De=K?ge:-1;(K?De--:++De<ge)&&_(p[De],De,p););return N?ni(p,K?0:De,K?De+1:ge):ni(p,K?De+1:0,K?ge:De)}function Lc(p,_){var N=p;return N instanceof Js&&(N=N.value()),eo(_,function(K,ge){return ge.func.apply(ge.thisArg,Zn([K],ge.args))},N)}function xm(p,_,N){var K=p.length;if(K<2)return K?zi(p[0]):[];for(var ge=-1,De=Dt(K);++ge<K;)for(var Ve=p[ge],Ye=-1;++Ye<K;)Ye!=ge&&(De[ge]=Ts(De[ge]||Ve,p[Ye],_,N));return zi(kc(De,1),_,N)}function pf(p,_,N){for(var K=-1,ge=p.length,De=_.length,Ve={};++K<ge;){var Ye=K<De?_[K]:f;N(Ve,p[K],Ye)}return Ve}function Xv(p){return ua(p)?p:[]}function fb(p){return typeof p=="function"?p:Wu}function fr(p,_){return ys(p)?p:Tr(p,_)?[p]:Hl(Wr(p))}var Hg=xs;function $c(p,_,N){var K=p.length;return N=N===f?K:N,!_&&N>=K?p:ni(p,_,N)}var Vg=S0||function(p){return ba.clearTimeout(p)};function zg(p,_){if(_)return p.slice();var N=p.length,K=Ba?Ba(N):new p.constructor(N);return p.copy(K),K}function pu(p){var _=new p.constructor(p.byteLength);return new Ao(_).set(new Ao(p)),_}function Fs(p,_){var N=_?pu(p.buffer):p.buffer;return new p.constructor(N,p.byteOffset,p.byteLength)}function gf(p){var _=new p.constructor(p.source,Zc.exec(p));return _.lastIndex=p.lastIndex,_}function dd(p){return Mh?Qs(Mh.call(p)):{}}function Ug(p,_){var N=_?pu(p.buffer):p.buffer;return new p.constructor(N,p.byteOffset,p.length)}function Hh(p,_){if(p!==_){var N=p!==f,K=p===null,ge=p===p,De=Ul(p),Ve=_!==f,Ye=_===null,gt=_===_,sn=Ul(_);if(!Ye&&!sn&&!De&&p>_||De&&Ve&&gt&&!Ye&&!sn||K&&Ve&&gt||!N&&gt||!ge)return 1;if(!K&&!De&&!sn&&p<_||sn&&N&&ge&&!K&&!De||Ye&&N&&ge||!Ve&&ge||!gt)return-1}return 0}function Rp(p,_,N){for(var K=-1,ge=p.criteria,De=_.criteria,Ve=ge.length,Ye=N.length;++K<Ve;){var gt=Hh(ge[K],De[K]);if(gt){if(K>=Ye)return gt;var sn=N[K];return gt*(sn=="desc"?-1:1)}}return p.index-_.index}function Am(p,_,N,K){for(var ge=-1,De=p.length,Ve=N.length,Ye=-1,gt=_.length,sn=xi(De-Ve,0),nn=Dt(gt+sn),vn=!K;++Ye<gt;)nn[Ye]=_[Ye];for(;++ge<Ve;)(vn||ge<De)&&(nn[N[ge]]=p[ge]);for(;sn--;)nn[Ye++]=p[ge++];return nn}function hb(p,_,N,K){for(var ge=-1,De=p.length,Ve=-1,Ye=N.length,gt=-1,sn=_.length,nn=xi(De-Ye,0),vn=Dt(nn+sn),Hn=!K;++ge<nn;)vn[ge]=p[ge];for(var go=ge;++gt<sn;)vn[go+gt]=_[gt];for(;++Ve<Ye;)(Hn||ge<De)&&(vn[go+N[Ve]]=p[ge++]);return vn}function ol(p,_){var N=-1,K=p.length;for(_||(_=Dt(K));++N<K;)_[N]=p[N];return _}function ku(p,_,N,K){var ge=!N;N||(N={});for(var De=-1,Ve=_.length;++De<Ve;){var Ye=_[De],gt=K?K(N[Ye],p[Ye],Ye,N,p):f;gt===f&&(gt=p[Ye]),ge?Do(N,Ye,gt):_c(N,Ye,gt)}return N}function vf(p,_){return ku(p,St(p),_)}function fd(p,_){return ku(p,Ut(p),_)}function Pu(p,_){return function(N,K){var ge=ys(N)?st:th,De=_?_():{};return ge(N,p,D(K,2),De)}}function Bl(p){return xs(function(_,N){var K=-1,ge=N.length,De=ge>1?N[ge-1]:f,Ve=ge>2?N[2]:f;for(De=p.length>3&&typeof De=="function"?(ge--,De):f,Ve&&Hs(N[0],N[1],Ve)&&(De=ge<3?f:De,ge=1),_=Qs(_);++K<ge;){var Ye=N[K];Ye&&p(_,Ye,K,De)}return _})}function Lu(p,_){return function(N,K){if(N==null)return N;if(!Sl(N))return p(N,K);for(var ge=N.length,De=_?ge:-1,Ve=Qs(N);(_?De--:++De<ge)&&K(Ve[De],De,Ve)!==!1;);return N}}function Om(p){return function(_,N,K){for(var ge=-1,De=Qs(_),Ve=K(_),Ye=Ve.length;Ye--;){var gt=Ve[p?Ye:++ge];if(N(De[gt],gt,De)===!1)break}return _}}function hd(p,_,N){var K=_&ue,ge=zh(p);function De(){var Ve=this&&this!==ba&&this instanceof De?ge:p;return Ve.apply(K?N:this,arguments)}return De}function Qv(p){return function(_){_=Wr(_);var N=Hi(_)?Qc(_):f,K=N?N[0]:_.charAt(0),ge=N?$c(N,1).join(""):_.slice(1);return K[p]()+ge}}function Vh(p){return function(_){return eo(iy(ey(_).replace(rf,"")),p,"")}}function zh(p){return function(){var _=arguments;switch(_.length){case 0:return new p;case 1:return new p(_[0]);case 2:return new p(_[0],_[1]);case 3:return new p(_[0],_[1],_[2]);case 4:return new p(_[0],_[1],_[2],_[3]);case 5:return new p(_[0],_[1],_[2],_[3],_[4]);case 6:return new p(_[0],_[1],_[2],_[3],_[4],_[5]);case 7:return new p(_[0],_[1],_[2],_[3],_[4],_[5],_[6])}var N=Qf(p.prototype),K=p.apply(N,_);return da(K)?K:N}}function Wg(p,_,N){var K=zh(p);function ge(){for(var De=arguments.length,Ve=Dt(De),Ye=De,gt=re(ge);Ye--;)Ve[Ye]=arguments[Ye];var sn=De<3&&Ve[0]!==gt&&Ve[De-1]!==gt?[]:$a(Ve,gt);if(De-=sn.length,De<N)return Gg(p,_,Nn,ge.placeholder,f,Ve,sn,f,f,N-De);var nn=this&&this!==ba&&this instanceof ge?K:p;return qt(nn,this,Ve)}return ge}function Rm(p){return function(_,N,K){var ge=Qs(_);if(!Sl(_)){var De=D(N,3);_=Vc(_),N=function(Ye){return De(ge[Ye],Ye,ge)}}var Ve=p(_,N,K);return Ve>-1?ge[De?_[Ve]:Ve]:f}}function ls(p){return Ui(function(_){var N=_.length,K=N,ge=cu.prototype.thru;for(p&&_.reverse();K--;){var De=_[K];if(typeof De!="function")throw new Qa(S);if(ge&&!Ve&&gu(De)=="wrapper")var Ve=new cu([],!0)}for(K=Ve?K:N;++K<N;){De=_[K];var Ye=gu(De),gt=Ye=="wrapper"?vd(De):f;gt&&hr(gt[0])&&gt[1]==(we|ee|Ke|Ue)&&!gt[4].length&&gt[9]==1?Ve=Ve[gu(gt[0])].apply(Ve,gt[3]):Ve=De.length==1&&hr(De)?Ve[Ye]():Ve.thru(De)}return function(){var sn=arguments,nn=sn[0];if(Ve&&sn.length==1&&ys(nn))return Ve.plant(nn).value();for(var vn=0,Hn=N?_[vn].apply(this,sn):nn;++vn<N;)Hn=_[vn].call(this,Hn);return Hn}})}function Nn(p,_,N,K,ge,De,Ve,Ye,gt,sn){var nn=_&we,vn=_&ue,Hn=_&le,go=_&(ee|ke),Wo=_&bt,Bo=Hn?f:zh(p);function Lo(){for(var Ys=arguments.length,_s=Dt(Ys),Ii=Ys;Ii--;)_s[Ii]=arguments[Ii];if(go)var Di=re(Lo),vi=bm(_s,Di);if(K&&(_s=Am(_s,K,ge,go)),De&&(_s=hb(_s,De,Ve,go)),Ys-=vi,go&&Ys<sn){var hi=$a(_s,Di);return Gg(p,_,Nn,Lo.placeholder,N,_s,hi,Ye,gt,sn-Ys)}var ul=vn?N:this,tr=Hn?ul[p]:p;return Ys=_s.length,Ye?_s=gi(_s,Ye):Wo&&Ys>1&&_s.reverse(),nn&&gt<Ys&&(_s.length=gt),this&&this!==ba&&this instanceof Lo&&(tr=Bo||zh(tr)),tr.apply(ul,_s)}return Lo}function md(p,_){return function(N,K){return sh(N,p,_(K),{})}}function $u(p,_){return function(N,K){var ge;if(N===f&&K===f)return _;if(N!==f&&(ge=N),K!==f){if(ge===f)return K;typeof N=="string"||typeof K=="string"?(N=nl(N),K=nl(K)):(N=mf(N),K=mf(K)),ge=p(N,K)}return ge}}function Im(p){return Ui(function(_){return _=ws(_,na(D())),xs(function(N){var K=this;return p(_,function(ge){return qt(ge,K,N)})})})}function pd(p,_){_=_===f?" ":nl(_);var N=_.length;if(N<2)return N?Bg(_,p):_;var K=Bg(_,ru(p/hs(_)));return Hi(_)?$c(Qc(K),0,p).join(""):K.slice(0,p)}function Jv(p,_,N,K){var ge=_&ue,De=zh(p);function Ve(){for(var Ye=-1,gt=arguments.length,sn=-1,nn=K.length,vn=Dt(nn+gt),Hn=this&&this!==ba&&this instanceof Ve?De:p;++sn<nn;)vn[sn]=K[sn];for(;gt--;)vn[sn++]=arguments[++Ye];return qt(Hn,ge?N:this,vn)}return Ve}function er(p){return function(_,N,K){return K&&typeof K!="number"&&Hs(_,N,K)&&(N=K=f),_=Yh(_),N===f?(N=_,_=0):N=Yh(N),K=K===f?_<N?1:-1:Yh(K),$g(_,N,K,p)}}function Bu(p){return function(_,N){return typeof _=="string"&&typeof N=="string"||(_=Dr(_),N=Dr(N)),p(_,N)}}function Gg(p,_,N,K,ge,De,Ve,Ye,gt,sn){var nn=_&ee,vn=nn?Ve:f,Hn=nn?f:Ve,go=nn?De:f,Wo=nn?f:De;_|=nn?Ke:V,_&=~(nn?V:Ke),_&ve||(_&=~(ue|le));var Bo=[p,_,ge,go,vn,Wo,Hn,Ye,gt,sn],Lo=N.apply(f,Bo);return hr(p)&&rl(Lo,Bo),Lo.placeholder=K,Fd(Lo,p,_)}function jg(p){var _=Si[p];return function(N,K){if(N=Dr(N),K=K==null?0:Ha(As(K),292),K&&gc(N)){var ge=(Wr(N)+"e").split("e"),De=_(ge[0]+"e"+(+ge[1]+K));return ge=(Wr(De)+"e").split("e"),+(ge[0]+"e"+(+ge[1]-K))}return _(N)}}var kt=kl&&1/rd(new kl([,-0]))[1]==Nt?function(p){return new kl(p)}:rc;function qg(p){return function(_){var N=on(_);return N==Fn?Dl(_):N==ri?cf(_):Ka(_,p(_))}}function gd(p,_,N,K,ge,De,Ve,Ye){var gt=_&le;if(!gt&&typeof p!="function")throw new Qa(S);var sn=K?K.length:0;if(sn||(_&=~(Ke|V),K=ge=f),Ve=Ve===f?Ve:xi(As(Ve),0),Ye=Ye===f?Ye:As(Ye),sn-=ge?ge.length:0,_&V){var nn=K,vn=ge;K=ge=f}var Hn=gt?f:vd(p),go=[p,_,N,K,ge,nn,vn,De,Ve,Ye];if(Hn&&Bc(go,Hn),p=go[0],_=go[1],N=go[2],K=go[3],ge=go[4],Ye=go[9]=go[9]===f?gt?0:p.length:xi(go[9]-sn,0),!Ye&&_&(ee|ke)&&(_&=~(ee|ke)),!_||_==ue)var Wo=hd(p,_,N);else _==ee||_==ke?Wo=Wg(p,_,Ye):(_==Ke||_==(ue|Ke))&&!ge.length?Wo=Jv(p,_,N,K):Wo=Nn.apply(f,go);var Bo=Hn?Bh:rl;return Fd(Bo(Wo,go),p,_)}function ih(p,_,N,K){return p===f||Vs(p,qe[N])&&!xt.call(K,N)?_:p}function Ip(p,_,N,K,ge,De){return da(p)&&da(_)&&(De.set(_,p),Tc(p,_,f,Ip,De),De.delete(_)),p}function bf(p){return zl(p)?f:p}function Dm(p,_,N,K,ge,De){var Ve=N&pe,Ye=p.length,gt=_.length;if(Ye!=gt&&!(Ve&&gt>Ye))return!1;var sn=De.get(p),nn=De.get(_);if(sn&&nn)return sn==_&&nn==p;var vn=-1,Hn=!0,go=N&fe?new an:f;for(De.set(p,_),De.set(_,p);++vn<Ye;){var Wo=p[vn],Bo=_[vn];if(K)var Lo=Ve?K(Bo,Wo,vn,_,p,De):K(Wo,Bo,vn,p,_,De);if(Lo!==f){if(Lo)continue;Hn=!1;break}if(go){if(!Po(_,function(Ys,_s){if(!ya(go,_s)&&(Wo===Ys||ge(Wo,Ys,N,K,De)))return go.push(_s)})){Hn=!1;break}}else if(!(Wo===Bo||ge(Wo,Bo,N,K,De))){Hn=!1;break}}return De.delete(p),De.delete(_),Hn}function ah(p,_,N,K,ge,De,Ve){switch(N){case Or:if(p.byteLength!=_.byteLength||p.byteOffset!=_.byteOffset)return!1;p=p.buffer,_=_.buffer;case Ya:return!(p.byteLength!=_.byteLength||!De(new Ao(p),new Ao(_)));case X:case fs:case ko:return Vs(+p,+_);case Rs:return p.name==_.name&&p.message==_.message;case Dn:case Us:return p==_+"";case Fn:var Ye=Dl;case ri:var gt=K&pe;if(Ye||(Ye=rd),p.size!=_.size&&!gt)return!1;var sn=Ve.get(p);if(sn)return sn==_;K|=fe,Ve.set(p,_);var nn=Dm(Ye(p),Ye(_),K,ge,De,Ve);return Ve.delete(p),nn;case jc:if(Mh)return Mh.call(p)==Mh.call(_)}return!1}function Mm(p,_,N,K,ge,De){var Ve=N&pe,Ye=wr(p),gt=Ye.length,sn=wr(_),nn=sn.length;if(gt!=nn&&!Ve)return!1;for(var vn=gt;vn--;){var Hn=Ye[vn];if(!(Ve?Hn in _:xt.call(_,Hn)))return!1}var go=De.get(p),Wo=De.get(_);if(go&&Wo)return go==_&&Wo==p;var Bo=!0;De.set(p,_),De.set(_,p);for(var Lo=Ve;++vn<gt;){Hn=Ye[vn];var Ys=p[Hn],_s=_[Hn];if(K)var Ii=Ve?K(_s,Ys,Hn,_,p,De):K(Ys,_s,Hn,p,_,De);if(!(Ii===f?Ys===_s||ge(Ys,_s,N,K,De):Ii)){Bo=!1;break}Lo||(Lo=Hn=="constructor")}if(Bo&&!Lo){var Di=p.constructor,vi=_.constructor;Di!=vi&&"constructor"in p&&"constructor"in _&&!(typeof Di=="function"&&Di instanceof Di&&typeof vi=="function"&&vi instanceof vi)&&(Bo=!1)}return De.delete(p),De.delete(_),Bo}function Ui(p){return Nm(Fl(p,f,km),p+"")}function wr(p){return cd(p,Vc,St)}function Cc(p){return cd(p,Uu,Ut)}var vd=Sp?function(p){return Sp.get(p)}:rc;function gu(p){for(var _=p.name+"",N=_m[_],K=xt.call(_m,_)?N.length:0;K--;){var ge=N[K],De=ge.func;if(De==null||De==p)return ge.name}return _}function re(p){var _=xt.call(ye,"placeholder")?ye:p;return _.placeholder}function D(){var p=ye.iteratee||ly;return p=p===ly?mu:p,arguments.length?p(arguments[0],arguments[1]):p}function Z(p,_){var N=p.__data__;return Uo(_)?N[typeof _=="string"?"string":"hash"]:N.map}function Ae(p){for(var _=Vc(p),N=_.length;N--;){var K=_[N],ge=p[K];_[N]=[K,ge,Wi(ge)]}return _}function ze(p,_){var N=Rh(p,_);return xp(N)?N:f}function yt(p){var _=xt.call(p,su),N=p[su];try{p[su]=f;var K=!0}catch{}var ge=Ln.call(p);return K&&(_?p[su]=N:delete p[su]),ge}var St=Dh?function(p){return p==null?[]:(p=Qs(p),xn(Dh(p),function(_){return ur.call(p,_)}))}:hh,Ut=Dh?function(p){for(var _=[];p;)Zn(_,St(p)),p=Zr(p);return _}:hh,on=tc;(Ea&&on(new Ea(new ArrayBuffer(1)))!=Or||Cp&&on(new Cp)!=Fn||bs&&on(bs.resolve())!=Gc||kl&&on(new kl)!=ri||Iu&&on(new Iu)!=zr)&&(on=function(p){var _=tc(p),N=_==Ge?p.constructor:f,K=N?Hu(N):"";if(K)switch(K){case lf:return Or;case dr:return Fn;case Pr:return Gc;case vc:return ri;case au:return zr}return _});function ao(p,_,N){for(var K=-1,ge=N.length;++K<ge;){var De=N[K],Ve=De.size;switch(De.type){case"drop":p+=Ve;break;case"dropRight":_-=Ve;break;case"take":_=Ha(_,p+Ve);break;case"takeRight":p=xi(p,_-Ve);break}}return{start:p,end:_}}function Tn(p){var _=p.match(ci);return _?_[1].split(li):[]}function ro(p,_,N){_=fr(_,p);for(var K=-1,ge=_.length,De=!1;++K<ge;){var Ve=Gi(_[K]);if(!(De=p!=null&&N(p,Ve)))break;p=p[Ve]}return De||++K!=ge?De:(ge=p==null?0:p.length,!!ge&&p1(ge)&&sr(Ve,ge)&&(ys(p)||Zh(p)))}function zt(p){var _=p.length,N=new p.constructor(_);return _&&typeof p[0]=="string"&&xt.call(p,"index")&&(N.index=p.index,N.input=p.input),N}function os(p){return typeof p.constructor=="function"&&!ca(p)?Qf(Zr(p)):{}}function oi(p,_,N){var K=p.constructor;switch(_){case Ya:return pu(p);case X:case fs:return new K(+p);case Or:return Fs(p,N);case lr:case Jd:case ii:case Ls:case Zl:case ai:case Yl:case Xs:case _i:return Ug(p,N);case Fn:return new K;case ko:case Us:return new K(p);case Dn:return gf(p);case ri:return new K;case jc:return dd(p)}}function So(p,_){var N=_.length;if(!N)return p;var K=N-1;return _[K]=(N>1?"& ":"")+_[K],_=_.join(N>2?", ":" "),p.replace(gp,`{
/* [wrapped with `+_+`] */
`)}function or(p){return ys(p)||Zh(p)||!!(js&&p&&p[js])}function sr(p,_){var N=typeof p;return _=_??rt,!!_&&(N=="number"||N!="symbol"&&Sg.test(p))&&p>-1&&p%1==0&&p<_}function Hs(p,_,N){if(!da(N))return!1;var K=typeof _;return(K=="number"?Sl(N)&&sr(_,N.length):K=="string"&&_ in N)?Vs(N[_],p):!1}function Tr(p,_){if(ys(p))return!1;var N=typeof p;return N=="number"||N=="symbol"||N=="boolean"||p==null||Ul(p)?!0:Gf.test(p)||!xu.test(p)||_!=null&&p in Qs(_)}function Uo(p){var _=typeof p;return _=="string"||_=="number"||_=="symbol"||_=="boolean"?p!=="__proto__":p===null}function hr(p){var _=gu(p),N=ye[_];if(typeof N!="function"||!(_ in Js.prototype))return!1;if(p===N)return!0;var K=vd(N);return!!K&&p===K[0]}function rr(p){return!!An&&An in p}var aa=Vt?wn:dy;function ca(p){var _=p&&p.constructor,N=typeof _=="function"&&_.prototype||qe;return p===N}function Wi(p){return p===p&&!da(p)}function pi(p,_){return function(N){return N==null?!1:N[p]===_&&(_!==f||p in Qs(N))}}function Ta(p){var _=qh(p,function(K){return N.size===G&&N.clear(),K}),N=_.cache;return _}function Bc(p,_){var N=p[1],K=_[1],ge=N|K,De=ge<(ue|le|we),Ve=K==we&&N==ee||K==we&&N==Ue&&p[7].length<=_[8]||K==(we|Ue)&&_[7].length<=_[8]&&N==ee;if(!(De||Ve))return p;K&ue&&(p[2]=_[2],ge|=N&ue?0:ve);var Ye=_[3];if(Ye){var gt=p[3];p[3]=gt?Am(gt,Ye,_[4]):Ye,p[4]=gt?$a(p[3],j):_[4]}return Ye=_[5],Ye&&(gt=p[5],p[5]=gt?hb(gt,Ye,_[6]):Ye,p[6]=gt?$a(p[5],j):_[6]),Ye=_[7],Ye&&(p[7]=Ye),K&we&&(p[8]=p[8]==null?_[8]:Ha(p[8],_[8])),p[9]==null&&(p[9]=_[9]),p[0]=_[0],p[1]=ge,p}function sl(p){var _=[];if(p!=null)for(var N in Qs(p))_.push(N);return _}function Bd(p){return Ln.call(p)}function Fl(p,_,N){return _=xi(_===f?p.length-1:_,0),function(){for(var K=arguments,ge=-1,De=xi(K.length-_,0),Ve=Dt(De);++ge<De;)Ve[ge]=K[_+ge];ge=-1;for(var Ye=Dt(_+1);++ge<_;)Ye[ge]=K[ge];return Ye[_]=N(Ve),qt(p,this,Ye)}}function Fc(p,_){return _.length<2?p:qo(p,ni(_,0,-1))}function gi(p,_){for(var N=p.length,K=Ha(_.length,N),ge=ol(p);K--;){var De=_[K];p[K]=sr(De,N)?ge[De]:f}return p}function Ca(p,_){if(!(_==="constructor"&&typeof p[_]=="function")&&_!="__proto__")return p[_]}var rl=wl(Bh),bd=Tp||function(p,_){return ba.setTimeout(p,_)},Nm=wl(rh);function Fd(p,_,N){var K=_+"";return Nm(p,So(K,Uh(Tn(K),N)))}function wl(p){var _=0,N=0;return function(){var K=el(),ge=bn-(K-N);if(N=K,ge>0){if(++_>=Te)return arguments[0]}else _=0;return p.apply(f,arguments)}}function Fu(p,_){var N=-1,K=p.length,ge=K-1;for(_=_===f?K:_;++N<_;){var De=ff(N,ge),Ve=p[De];p[De]=p[N],p[N]=Ve}return p.length=_,p}var Hl=Ta(function(p){var _=[];return p.charCodeAt(0)===46&&_.push(""),p.replace(gr,function(N,K,ge,De){_.push(ge?De.replace(ef,"$1"):K||N)}),_});function Gi(p){if(typeof p=="string"||Ul(p))return p;var _=p+"";return _=="0"&&1/p==-Nt?"-0":_}function Hu(p){if(p!=null){try{return ft.call(p)}catch{}try{return p+""}catch{}}return""}function Uh(p,_){return Pt(lo,function(N){var K="_."+N[0];_&N[1]&&!yr(p,K)&&p.push(K)}),p.sort()}function Dp(p){if(p instanceof Js)return p.clone();var _=new cu(p.__wrapped__,p.__chain__);return _.__actions__=ol(p.__actions__),_.__index__=p.__index__,_.__values__=p.__values__,_}function e1(p,_,N){(N?Hs(p,_,N):_===f)?_=1:_=xi(As(_),0);var K=p==null?0:p.length;if(!K||_<1)return[];for(var ge=0,De=0,Ve=Dt(ru(K/_));ge<K;)Ve[De++]=ni(p,ge,ge+=_);return Ve}function qs(p){for(var _=-1,N=p==null?0:p.length,K=0,ge=[];++_<N;){var De=p[_];De&&(ge[K++]=De)}return ge}function x0(){var p=arguments.length;if(!p)return[];for(var _=Dt(p-1),N=arguments[0],K=p;K--;)_[K-1]=arguments[K];return Zn(ys(N)?ol(N):[N],kc(_,1))}var t1=xs(function(p,_){return ua(p)?Ts(p,kc(_,1,ua,!0)):[]}),A0=xs(function(p,_){var N=Zs(_);return ua(N)&&(N=f),ua(p)?Ts(p,kc(_,1,ua,!0),D(N,2)):[]}),Zg=xs(function(p,_){var N=Zs(_);return ua(N)&&(N=f),ua(p)?Ts(p,kc(_,1,ua,!0),f,N):[]});function Wh(p,_,N){var K=p==null?0:p.length;return K?(_=N||_===f?1:As(_),ni(p,_<0?0:_,K)):[]}function Hd(p,_,N){var K=p==null?0:p.length;return K?(_=N||_===f?1:As(_),_=K-_,ni(p,0,_<0?0:_)):[]}function Ri(p,_){return p&&p.length?$l(p,D(_,3),!0,!0):[]}function yf(p,_){return p&&p.length?$l(p,D(_,3),!0):[]}function _f(p,_,N,K){var ge=p==null?0:p.length;return ge?(N&&typeof N!="number"&&Hs(p,_,N)&&(N=0,K=ge),ti(p,_,N,K)):[]}function Xr(p,_,N){var K=p==null?0:p.length;if(!K)return-1;var ge=N==null?0:As(N);return ge<0&&(ge=xi(K+ge,0)),Jr(p,D(_,3),ge)}function Mp(p,_,N){var K=p==null?0:p.length;if(!K)return-1;var ge=K-1;return N!==f&&(ge=As(N),ge=N<0?xi(K+ge,0):Ha(ge,K-1)),Jr(p,D(_,3),ge,!0)}function km(p){var _=p==null?0:p.length;return _?kc(p,1):[]}function mb(p){var _=p==null?0:p.length;return _?kc(p,Nt):[]}function n1(p,_){var N=p==null?0:p.length;return N?(_=_===f?1:As(_),kc(p,_)):[]}function Ef(p){for(var _=-1,N=p==null?0:p.length,K={};++_<N;){var ge=p[_];K[ge[0]]=ge[1]}return K}function Vd(p){return p&&p.length?p[0]:f}function Np(p,_,N){var K=p==null?0:p.length;if(!K)return-1;var ge=N==null?0:As(N);return ge<0&&(ge=xi(K+ge,0)),Xc(p,_,ge)}function O_(p){var _=p==null?0:p.length;return _?ni(p,0,-1):[]}var bx=xs(function(p){var _=ws(p,Xv);return _.length&&_[0]===p[0]?oc(_):[]}),wf=xs(function(p){var _=Zs(p),N=ws(p,Xv);return _===Zs(N)?_=f:N.pop(),N.length&&N[0]===p[0]?oc(N,D(_,2)):[]}),ks=xs(function(p){var _=Zs(p),N=ws(p,Xv);return _=typeof _=="function"?_:f,_&&N.pop(),N.length&&N[0]===p[0]?oc(N,f,_):[]});function R_(p,_){return p==null?"":ym.call(p,_)}function Zs(p){var _=p==null?0:p.length;return _?p[_-1]:f}function Sa(p,_,N){var K=p==null?0:p.length;if(!K)return-1;var ge=K;return N!==f&&(ge=As(N),ge=ge<0?xi(K+ge,0):Ha(ge,K-1)),_===_?Ep(p,_,ge):Jr(p,ps,ge,!0)}function yd(p,_){return p&&p.length?Pg(p,As(_)):f}var Tl=xs(Pm);function Pm(p,_){return p&&p.length&&_&&_.length?$h(p,_):p}function Yg(p,_,N){return p&&p.length&&_&&_.length?$h(p,_,D(N,2)):p}function Gh(p,_,N){return p&&p.length&&_&&_.length?$h(p,_,f,N):p}var Vu=Ui(function(p,_){var N=p==null?0:p.length,K=gs(p,_);return Sm(p,ws(_,function(ge){return sr(ge,N)?+ge:ge}).sort(Hh)),K});function zd(p,_){var N=[];if(!(p&&p.length))return N;var K=-1,ge=[],De=p.length;for(_=D(_,3);++K<De;){var Ve=p[K];_(Ve,K,p)&&(N.push(Ve),ge.push(K))}return Sm(p,ge),N}function Lm(p){return p==null?p:Nl.call(p)}function o1(p,_,N){var K=p==null?0:p.length;return K?(N&&typeof N!="number"&&Hs(p,_,N)?(_=0,N=K):(_=_==null?0:As(_),N=N===f?K:As(N)),ni(p,_,N)):[]}function O0(p,_){return Fh(p,_)}function I_(p,_,N){return Ld(p,_,D(N,2))}function D_(p,_){var N=p==null?0:p.length;if(N){var K=Fh(p,_);if(K<N&&Vs(p[K],_))return K}return-1}function Kg(p,_){return Fh(p,_,!0)}function R0(p,_,N){return Ld(p,_,D(N,2),!0)}function qw(p,_){var N=p==null?0:p.length;if(N){var K=Fh(p,_,!0)-1;if(Vs(p[K],_))return K}return-1}function Zw(p){return p&&p.length?$d(p):[]}function M_(p,_){return p&&p.length?$d(p,D(_,2)):[]}function N_(p){var _=p==null?0:p.length;return _?ni(p,1,_):[]}function I0(p,_,N){return p&&p.length?(_=N||_===f?1:As(_),ni(p,0,_<0?0:_)):[]}function k_(p,_,N){var K=p==null?0:p.length;return K?(_=N||_===f?1:As(_),_=K-_,ni(p,_<0?0:_,K)):[]}function Yw(p,_){return p&&p.length?$l(p,D(_,3),!1,!0):[]}function D0(p,_){return p&&p.length?$l(p,D(_,3)):[]}var kp=xs(function(p){return zi(kc(p,1,ua,!0))}),M0=xs(function(p){var _=Zs(p);return ua(_)&&(_=f),zi(kc(p,1,ua,!0),D(_,2))}),Kw=xs(function(p){var _=Zs(p);return _=typeof _=="function"?_:f,zi(kc(p,1,ua,!0),f,_)});function Xw(p){return p&&p.length?zi(p):[]}function P_(p,_){return p&&p.length?zi(p,D(_,2)):[]}function $r(p,_){return _=typeof _=="function"?_:f,p&&p.length?zi(p,f,_):[]}function ch(p){if(!(p&&p.length))return[];var _=0;return p=xn(p,function(N){if(ua(N))return _=xi(N.length,_),!0}),ei(_,function(N){return ws(p,mc(N))})}function $m(p,_){if(!(p&&p.length))return[];var N=ch(p);return _==null?N:ws(N,function(K){return qt(_,f,K)})}var L_=xs(function(p,_){return ua(p)?Ts(p,_):[]}),pb=xs(function(p){return xm(xn(p,ua))}),Hc=xs(function(p){var _=Zs(p);return ua(_)&&(_=f),xm(xn(p,ua),D(_,2))}),Vl=xs(function(p){var _=Zs(p);return _=typeof _=="function"?_:f,xm(xn(p,ua),f,_)}),Pp=xs(ch);function gb(p,_){return pf(p||[],_||[],_c)}function N0(p,_){return pf(p||[],_||[],Ll)}var $_=xs(function(p){var _=p.length,N=_>1?p[_-1]:f;return N=typeof N=="function"?(p.pop(),N):f,$m(p,N)});function k0(p){var _=ye(p);return _.__chain__=!0,_}function B_(p,_){return _(p),p}function vu(p,_){return _(p)}var jh=Ui(function(p){var _=p.length,N=_?p[0]:0,K=this.__wrapped__,ge=function(De){return gs(De,p)};return _>1||this.__actions__.length||!(K instanceof Js)||!sr(N)?this.thru(ge):(K=K.slice(N,+N+(_?1:0)),K.__actions__.push({func:vu,args:[ge],thisArg:f}),new cu(K,this.__chain__).thru(function(De){return _&&!De.length&&De.push(f),De}))});function Ur(){return k0(this)}function lh(){return new cu(this.value(),this.__chain__)}function Tf(){this.__values__===f&&(this.__values__=Ob(this.value()));var p=this.__index__>=this.__values__.length,_=p?f:this.__values__[this.__index__++];return{done:p,value:_}}function Qw(){return this}function F_(p){for(var _,N=this;N instanceof Em;){var K=Dp(N);K.__index__=0,K.__values__=f,_?ge.__wrapped__=K:_=K;var ge=K;N=N.__wrapped__}return ge.__wrapped__=p,_}function P0(){var p=this.__wrapped__;if(p instanceof Js){var _=p;return this.__actions__.length&&(_=new Js(this)),_=_.reverse(),_.__actions__.push({func:vu,args:[Lm],thisArg:f}),new cu(_,this.__chain__)}return this.thru(Lm)}function Lp(){return Lc(this.__wrapped__,this.__actions__)}var L0=Pu(function(p,_,N){xt.call(p,N)?++p[N]:Do(p,N,1)});function Xg(p,_,N){var K=ys(p)?qn:hu;return N&&Hs(p,_,N)&&(_=f),K(p,D(_,3))}function $p(p,_){var N=ys(p)?xn:Du;return N(p,D(_,3))}var Jw=Rm(Xr),s1=Rm(Mp);function r1(p,_){return kc(i1(p,_),1)}function $0(p,_){return kc(i1(p,_),Nt)}function vb(p,_,N){return N=N===f?1:As(N),kc(i1(p,_),N)}function Qg(p,_){var N=ys(p)?Pt:fu;return N(p,D(_,3))}function bb(p,_){var N=ys(p)?no:Rt;return N(p,D(_,3))}var Bm=Pu(function(p,_,N){xt.call(p,N)?p[N].push(_):Do(p,N,[_])});function Jg(p,_,N,K){p=Sl(p)?p:Af(p),N=N&&!K?As(N):0;var ge=p.length;return N<0&&(N=xi(ge+N,0)),zu(p)?N<=ge&&p.indexOf(_,N)>-1:!!ge&&Xc(p,_,N)>-1}var H_=xs(function(p,_,N){var K=-1,ge=typeof _=="function",De=Sl(p)?Dt(p.length):[];return fu(p,function(Ve){De[++K]=ge?qt(_,Ve,N):tt(Ve,_,N)}),De}),V_=Pu(function(p,_,N){Do(p,N,_)});function i1(p,_){var N=ys(p)?ws:kg;return N(p,D(_,3))}function Cf(p,_,N,K){return p==null?[]:(ys(_)||(_=_==null?[]:[_]),N=K?f:N,ys(N)||(N=N==null?[]:[N]),ub(p,_,N))}var _d=Pu(function(p,_,N){p[N?0:1].push(_)},function(){return[[],[]]});function a1(p,_,N){var K=ys(p)?eo:La,ge=arguments.length<3;return K(p,D(_,4),N,ge,fu)}function Qe(p,_,N){var K=ys(p)?ta:La,ge=arguments.length<3;return K(p,D(_,4),N,ge,Rt)}function Br(p,_){var N=ys(p)?xn:Du;return N(p,al(D(_,3)))}function Bp(p){var _=ys(p)?Cm:hf;return _(p)}function B0(p,_,N){(N?Hs(p,_,N):_===f)?_=1:_=As(_);var K=ys(p)?Wt:ra;return K(p,_)}function mr(p){var _=ys(p)?qv:db;return _(p)}function Ud(p){if(p==null)return 0;if(Sl(p))return zu(p)?hs(p):p.length;var _=on(p);return _==Fn||_==ri?p.size:sa(p).length}function c1(p,_,N){var K=ys(p)?Po:El;return N&&Hs(p,_,N)&&(_=f),K(p,D(_,3))}var xa=xs(function(p,_){if(p==null)return[];var N=_.length;return N>1&&Hs(p,_[0],_[1])?_=[]:N>2&&Hs(_[0],_[1],_[2])&&(_=[_[0]]),ub(p,kc(_,1),[])}),Wd=Ja||function(){return ba.Date.now()};function F0(p,_){if(typeof _!="function")throw new Qa(S);return p=As(p),function(){if(--p<1)return _.apply(this,arguments)}}function z_(p,_,N){return _=N?f:_,_=p&&_==null?p.length:_,gd(p,we,f,f,f,f,_)}function yb(p,_){var N;if(typeof _!="function")throw new Qa(S);return p=As(p),function(){return--p>0&&(N=_.apply(this,arguments)),p<=1&&(_=f),N}}var Fp=xs(function(p,_,N){var K=ue;if(N.length){var ge=$a(N,re(Fp));K|=Ke}return gd(p,K,_,N,ge)}),Fm=xs(function(p,_,N){var K=ue|le;if(N.length){var ge=$a(N,re(Fm));K|=Ke}return gd(_,K,p,N,ge)});function _b(p,_,N){_=N?f:_;var K=gd(p,ee,f,f,f,f,f,_);return K.placeholder=_b.placeholder,K}function l1(p,_,N){_=N?f:_;var K=gd(p,ke,f,f,f,f,f,_);return K.placeholder=l1.placeholder,K}function il(p,_,N){var K,ge,De,Ve,Ye,gt,sn=0,nn=!1,vn=!1,Hn=!0;if(typeof p!="function")throw new Qa(S);_=Dr(_)||0,da(N)&&(nn=!!N.leading,vn="maxWait"in N,De=vn?xi(Dr(N.maxWait)||0,_):De,Hn="trailing"in N?!!N.trailing:Hn);function go(hi){var ul=K,tr=ge;return K=ge=f,sn=hi,Ve=p.apply(tr,ul),Ve}function Wo(hi){return sn=hi,Ye=bd(Ys,_),nn?go(hi):Ve}function Bo(hi){var ul=hi-gt,tr=hi-sn,ph=_-ul;return vn?Ha(ph,De-tr):ph}function Lo(hi){var ul=hi-gt,tr=hi-sn;return gt===f||ul>=_||ul<0||vn&&tr>=De}function Ys(){var hi=Wd();if(Lo(hi))return _s(hi);Ye=bd(Ys,Bo(hi))}function _s(hi){return Ye=f,Hn&&K?go(hi):(K=ge=f,Ve)}function Ii(){Ye!==f&&Vg(Ye),sn=0,K=gt=ge=Ye=f}function Di(){return Ye===f?Ve:_s(Wd())}function vi(){var hi=Wd(),ul=Lo(hi);if(K=arguments,ge=this,gt=hi,ul){if(Ye===f)return Wo(gt);if(vn)return Vg(Ye),Ye=bd(Ys,_),go(gt)}return Ye===f&&(Ye=bd(Ys,_)),Ve}return vi.cancel=Ii,vi.flush=Di,vi}var u1=xs(function(p,_){return fi(p,1,_)}),H0=xs(function(p,_,N){return fi(p,Dr(_)||0,N)});function d1(p){return gd(p,bt)}function qh(p,_){if(typeof p!="function"||_!=null&&typeof _!="function")throw new Qa(S);var N=function(){var K=arguments,ge=_?_.apply(this,K):K[0],De=N.cache;if(De.has(ge))return De.get(ge);var Ve=p.apply(this,K);return N.cache=De.set(ge,Ve)||De,Ve};return N.cache=new(qh.Cache||ad),N}qh.Cache=ad;function al(p){if(typeof p!="function")throw new Qa(S);return function(){var _=arguments;switch(_.length){case 0:return!p.call(this);case 1:return!p.call(this,_[0]);case 2:return!p.call(this,_[0],_[1]);case 3:return!p.call(this,_[0],_[1],_[2])}return!p.apply(this,_)}}function eT(p){return yb(2,p)}var za=Hg(function(p,_){_=_.length==1&&ys(_[0])?ws(_[0],na(D())):ws(kc(_,1),na(D()));var N=_.length;return xs(function(K){for(var ge=-1,De=Ha(K.length,N);++ge<De;)K[ge]=_[ge].call(this,K[ge]);return qt(p,this,K)})}),Eb=xs(function(p,_){var N=$a(_,re(Eb));return gd(p,Ke,f,_,N)}),uh=xs(function(p,_){var N=$a(_,re(uh));return gd(p,V,f,_,N)}),f1=Ui(function(p,_){return gd(p,Ue,f,f,f,_)});function U_(p,_){if(typeof p!="function")throw new Qa(S);return _=_===f?_:As(_),xs(p,_)}function V0(p,_){if(typeof p!="function")throw new Qa(S);return _=_==null?0:xi(As(_),0),xs(function(N){var K=N[_],ge=$c(N,0,_);return K&&Zn(ge,K),qt(p,this,ge)})}function z0(p,_,N){var K=!0,ge=!0;if(typeof p!="function")throw new Qa(S);return da(N)&&(K="leading"in N?!!N.leading:K,ge="trailing"in N?!!N.trailing:ge),il(p,_,{leading:K,maxWait:_,trailing:ge})}function U0(p){return z_(p,1)}function W0(p,_){return Eb(fb(_),p)}function W_(){if(!arguments.length)return[];var p=arguments[0];return ys(p)?p:[p]}function tT(p){return mi(p,ae)}function Ua(p,_){return _=typeof _=="function"?_:f,mi(p,ae,_)}function la(p){return mi(p,J|ae)}function Cl(p,_){return _=typeof _=="function"?_:f,mi(p,J|ae,_)}function bu(p,_){return _==null||nh(p,_,Vc(_))}function Vs(p,_){return p===_||p!==p&&_!==_}var sc=Bu(Kr),Gd=Bu(function(p,_){return p>=_}),Zh=tl(function(){return arguments}())?tl:function(p){return Bt(p)&&xt.call(p,"callee")&&!ur.call(p,"callee")},ys=Dt.isArray,wb=he?na(he):Ph;function Sl(p){return p!=null&&p1(p.length)&&!wn(p)}function ua(p){return Bt(p)&&Sl(p)}function h1(p){return p===!0||p===!1||Bt(p)&&tc(p)==X}var Sf=io||dy,G0=Ee?na(Ee):Mu;function yx(p){return Bt(p)&&p.nodeType===1&&!zl(p)}function Tb(p){if(p==null)return!0;if(Sl(p)&&(ys(p)||typeof p=="string"||typeof p.splice=="function"||Sf(p)||cl(p)||Zh(p)))return!p.length;var _=on(p);if(_==Fn||_==ri)return!p.size;if(ca(p))return!sa(p).length;for(var N in p)if(xt.call(p,N))return!1;return!0}function j0(p,_){return wc(p,_)}function Cb(p,_,N){N=typeof N=="function"?N:f;var K=N?N(p,_):f;return K===f?wc(p,_,f,N):!!K}function m1(p){if(!Bt(p))return!1;var _=tc(p);return _==Rs||_==po||typeof p.message=="string"&&typeof p.name=="string"&&!zl(p)}function G_(p){return typeof p=="number"&&gc(p)}function wn(p){if(!da(p))return!1;var _=tc(p);return _==as||_==Ia||_==Lt||_==va}function Sb(p){return typeof p=="number"&&p==As(p)}function p1(p){return typeof p=="number"&&p>-1&&p%1==0&&p<=rt}function da(p){var _=typeof p;return p!=null&&(_=="object"||_=="function")}function Bt(p){return p!=null&&typeof p=="object"}var j_=Ce?na(Ce):Vi;function Wa(p,_){return p===_||Kv(p,_,Ae(_))}function nT(p,_,N){return N=typeof N=="function"?N:f,Kv(p,_,Ae(_),N)}function q_(p){return ev(p)&&p!=+p}function Z_(p){if(aa(p))throw new To(w);return xp(p)}function Ed(p){return p===null}function wd(p){return p==null}function ev(p){return typeof p=="number"||Bt(p)&&tc(p)==ko}function zl(p){if(!Bt(p)||tc(p)!=Ge)return!1;var _=Zr(p);if(_===null)return!0;var N=xt.call(_,"constructor")&&_.constructor;return typeof N=="function"&&N instanceof N&&ft.call(N)==Co}var g1=$e?na($e):Pd;function v1(p){return Sb(p)&&p>=-rt&&p<=rt}var xf=ot?na(ot):Wn;function zu(p){return typeof p=="string"||!ys(p)&&Bt(p)&&tc(p)==Us}function Ul(p){return typeof p=="symbol"||Bt(p)&&tc(p)==jc}var cl=wt?na(wt):df;function oT(p){return p===f}function xb(p){return Bt(p)&&on(p)==zr}function Ab(p){return Bt(p)&&tc(p)==lc}var Hm=Bu(yl),Y_=Bu(function(p,_){return p<=_});function Ob(p){if(!p)return[];if(Sl(p))return zu(p)?Qc(p):ol(p);if(ns&&p[ns])return kd(p[ns]());var _=on(p),N=_==Fn?Dl:_==ri?rd:Af;return N(p)}function Yh(p){if(!p)return p===0?p:0;if(p=Dr(p),p===Nt||p===-Nt){var _=p<0?-1:1;return _*Kt}return p===p?p:0}function As(p){var _=Yh(p),N=_%1;return _===_?N?_-N:_:0}function Hp(p){return p?Oi(As(p),0,Ze):0}function Dr(p){if(typeof p=="number")return p;if(Ul(p))return Gt;if(da(p)){var _=typeof p.valueOf=="function"?p.valueOf():p;p=da(_)?_+"":_}if(typeof p!="string")return p===0?p:+p;p=pc(p);var N=Al.test(p);return N||Cg.test(p)?cs(p.slice(2),N?2:8):qr.test(p)?Gt:+p}function K_(p){return ku(p,Uu(p))}function Vp(p){return p?Oi(As(p),-rt,rt):p===0?p:0}function Wr(p){return p==null?"":nl(p)}var Rb=Bl(function(p,_){if(ca(_)||Sl(_)){ku(_,Vc(_),p);return}for(var N in _)xt.call(_,N)&&_c(p,N,_[N])}),X_=Bl(function(p,_){ku(_,Uu(_),p)}),tv=Bl(function(p,_,N,K){ku(_,Uu(_),p,K)}),sT=Bl(function(p,_,N,K){ku(_,Vc(_),p,K)}),b1=Ui(gs);function Q_(p,_){var N=Qf(p);return _==null?N:Lr(N,_)}var J_=xs(function(p,_){p=Qs(p);var N=-1,K=_.length,ge=K>2?_[2]:f;for(ge&&Hs(_[0],_[1],ge)&&(K=1);++N<K;)for(var De=_[N],Ve=Uu(De),Ye=-1,gt=Ve.length;++Ye<gt;){var sn=Ve[Ye],nn=p[sn];(nn===f||Vs(nn,qe[sn])&&!xt.call(p,sn))&&(p[sn]=De[sn])}return p}),q0=xs(function(p){return p.push(f,Ip),qt(zp,f,p)});function Z0(p,_){return Er(p,D(_,3),Pc)}function eE(p,_){return Er(p,D(_,3),Ng)}function dh(p,_){return p==null?p:bl(p,D(_,3),Uu)}function Ib(p,_){return p==null?p:Yv(p,D(_,3),Uu)}function Td(p,_){return p&&Pc(p,D(_,3))}function ir(p,_){return p&&Ng(p,D(_,3))}function nv(p){return p==null?[]:Ec(p,Vc(p))}function ll(p){return p==null?[]:Ec(p,Uu(p))}function y1(p,_,N){var K=p==null?f:qo(p,_);return K===f?N:K}function tE(p,_){return p!=null&&ro(p,_,ld)}function Db(p,_){return p!=null&&ro(p,_,nc)}var _1=md(function(p,_,N){_!=null&&typeof _.toString!="function"&&(_=Ln.call(_)),p[_]=N},jp(Wu)),Y0=md(function(p,_,N){_!=null&&typeof _.toString!="function"&&(_=Ln.call(_)),xt.call(p,_)?p[_].push(N):p[_]=[N]},D),nE=xs(tt);function Vc(p){return Sl(p)?eh(p):sa(p)}function Uu(p){return Sl(p)?eh(p,!0):Ap(p)}function rT(p,_){var N={};return _=D(_,3),Pc(p,function(K,ge,De){Do(N,_(K,ge,De),K)}),N}function iT(p,_){var N={};return _=D(_,3),Pc(p,function(K,ge,De){Do(N,ge,_(K,ge,De))}),N}var aT=Bl(function(p,_,N){Tc(p,_,N)}),zp=Bl(function(p,_,N,K){Tc(p,_,N,K)}),K0=Ui(function(p,_){var N={};if(p==null)return N;var K=!1;_=ws(_,function(De){return De=fr(De,p),K||(K=De.length>1),De}),ku(p,Cc(p),N),K&&(N=mi(N,J|me|ae,bf));for(var ge=_.length;ge--;)Fg(N,_[ge]);return N});function X0(p,_){return oE(p,al(D(_)))}var Up=Ui(function(p,_){return p==null?{}:ud(p,_)});function oE(p,_){if(p==null)return{};var N=ws(Cc(p),function(K){return[K]});return _=D(_),Op(p,N,function(K,ge){return _(K,ge[0])})}function cT(p,_,N){_=fr(_,p);var K=-1,ge=_.length;for(ge||(ge=1,p=f);++K<ge;){var De=p==null?f:p[Gi(_[K])];De===f&&(K=ge,De=N),p=wn(De)?De.call(p):De}return p}function lT(p,_,N){return p==null?p:Ll(p,_,N)}function Q0(p,_,N,K){return K=typeof K=="function"?K:f,p==null?p:Ll(p,_,N,K)}var J0=qg(Vc),Vm=qg(Uu);function sE(p,_,N){var K=ys(p),ge=K||Sf(p)||cl(p);if(_=D(_,4),N==null){var De=p&&p.constructor;ge?N=K?new De:[]:da(p)?N=wn(De)?Qf(Zr(p)):{}:N={}}return(ge?Pt:Pc)(p,function(Ve,Ye,gt){return _(N,Ve,Ye,gt)}),N}function uT(p,_){return p==null?!0:Fg(p,_)}function dT(p,_,N){return p==null?p:ia(p,_,fb(N))}function fT(p,_,N,K){return K=typeof K=="function"?K:f,p==null?p:ia(p,_,fb(N),K)}function Af(p){return p==null?[]:Ir(p,Vc(p))}function Mb(p){return p==null?[]:Ir(p,Uu(p))}function Wp(p,_,N){return N===f&&(N=_,_=f),N!==f&&(N=Dr(N),N=N===N?N:0),_!==f&&(_=Dr(_),_=_===_?_:0),Oi(Dr(p),_,N)}function Nb(p,_,N){return _=Yh(_),N===f?(N=_,_=0):N=Yh(N),p=Dr(p),lb(p,_,N)}function rE(p,_,N){if(N&&typeof N!="boolean"&&Hs(p,_,N)&&(_=N=f),N===f&&(typeof _=="boolean"?(N=_,_=f):typeof p=="boolean"&&(N=p,p=f)),p===f&&_===f?(p=0,_=1):(p=Yh(p),_===f?(_=p,p=0):_=Yh(_)),p>_){var K=p;p=_,_=K}if(N||p%1||_%1){var ge=oa();return Ha(p+ge*(_-p+uo("1e-"+((ge+"").length-1))),_)}return ff(p,_)}var fh=Vh(function(p,_,N){return _=_.toLowerCase(),p+(N?E1(_):_)});function E1(p){return T1(Wr(p).toLowerCase())}function ey(p){return p=Wr(p),p&&p.replace(Ql,yp).replace(af,"")}function Of(p,_,N){p=Wr(p),_=nl(_);var K=p.length;N=N===f?K:Oi(As(N),0,K);var ge=N;return N-=_.length,N>=0&&p.slice(N,ge)==_}function zm(p){return p=Wr(p),p&&qc.test(p)?p.replace(jo,Il):p}function ty(p){return p=Wr(p),p&&dc.test(p)?p.replace(jn,"\\$&"):p}var iE=Vh(function(p,_,N){return p+(N?"-":"")+_.toLowerCase()}),hT=Vh(function(p,_,N){return p+(N?" ":"")+_.toLowerCase()}),mT=Qv("toLowerCase");function ny(p,_,N){p=Wr(p),_=As(_);var K=_?hs(p):0;if(!_||K>=_)return p;var ge=(_-K)/2;return pd(Ml(ge),N)+p+pd(ru(ge),N)}function pT(p,_,N){p=Wr(p),_=As(_);var K=_?hs(p):0;return _&&K<_?p+pd(_-K,N):p}function gT(p,_,N){p=Wr(p),_=As(_);var K=_?hs(p):0;return _&&K<_?pd(_-K,N)+p:p}function aE(p,_,N){return N||_==null?_=0:_&&(_=+_),iu(Wr(p).replace(Ju,""),_||0)}function cE(p,_,N){return(N?Hs(p,_,N):_===f)?_=1:_=As(_),Bg(Wr(p),_)}function kb(){var p=arguments,_=Wr(p[0]);return p.length<3?_:_.replace(p[1],p[2])}var vT=Vh(function(p,_,N){return p+(N?"_":"")+_.toLowerCase()});function bT(p,_,N){return N&&typeof N!="number"&&Hs(p,_,N)&&(_=N=f),N=N===f?Ze:N>>>0,N?(p=Wr(p),p&&(typeof _=="string"||_!=null&&!g1(_))&&(_=nl(_),!_&&Hi(p))?$c(Qc(p),0,N):p.split(_,N)):[]}var yT=Vh(function(p,_,N){return p+(N?" ":"")+T1(_)});function lE(p,_,N){return p=Wr(p),N=N==null?0:Oi(As(N),0,p.length),_=nl(_),p.slice(N,N+_.length)==_}function oy(p,_,N){var K=ye.templateSettings;N&&Hs(p,_,N)&&(_=f),p=Wr(p),_=tv({},_,K,ih);var ge=tv({},_.imports,K.imports,ih),De=Vc(ge),Ve=Ir(ge,De),Ye,gt,sn=0,nn=_.interpolate||jf,vn="__p += '",Hn=Kf((_.escape||jf).source+"|"+nn.source+"|"+(nn===Ws?Kl:jf).source+"|"+(_.evaluate||jf).source+"|$","g"),go="//# sourceURL="+(xt.call(_,"sourceURL")?(_.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++bp+"]")+`
`;p.replace(Hn,function(Lo,Ys,_s,Ii,Di,vi){return _s||(_s=Ii),vn+=p.slice(sn,vi).replace(et,Ru),Ys&&(Ye=!0,vn+=`' +
__e(`+Ys+`) +
'`),Di&&(gt=!0,vn+=`';
`+Di+`;
__p += '`),_s&&(vn+=`' +
((__t = (`+_s+`)) == null ? '' : __t) +
'`),sn=vi+Lo.length,Lo}),vn+=`';
`;var Wo=xt.call(_,"variable")&&_.variable;if(!Wo)vn=`with (obj) {
`+vn+`
}
`;else if(Rc.test(Wo))throw new To(M);vn=(gt?vn.replace(Wf,""):vn).replace(uc,"$1").replace(mm,"$1;"),vn="function("+(Wo||"obj")+`) {
`+(Wo?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Ye?", __e = _.escape":"")+(gt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+vn+`return __p
}`;var Bo=ay(function(){return ts(De,go+"return "+vn).apply(f,Ve)});if(Bo.source=vn,m1(Bo))throw Bo;return Bo}function uE(p){return Wr(p).toLowerCase()}function _T(p){return Wr(p).toUpperCase()}function dE(p,_,N){if(p=Wr(p),p&&(N||_===f))return pc(p);if(!p||!(_=nl(_)))return p;var K=Qc(p),ge=Qc(_),De=Yf(K,ge),Ve=Ou(K,ge)+1;return $c(K,De,Ve).join("")}function w1(p,_,N){if(p=Wr(p),p&&(N||_===f))return p.slice(0,Ne(p)+1);if(!p||!(_=nl(_)))return p;var K=Qc(p),ge=Ou(K,Qc(_))+1;return $c(K,0,ge).join("")}function sy(p,_,N){if(p=Wr(p),p&&(N||_===f))return p.replace(Ju,"");if(!p||!(_=nl(_)))return p;var K=Qc(p),ge=Yf(K,Qc(_));return $c(K,ge).join("")}function ry(p,_){var N=It,K=He;if(da(_)){var ge="separator"in _?_.separator:ge;N="length"in _?As(_.length):N,K="omission"in _?nl(_.omission):K}p=Wr(p);var De=p.length;if(Hi(p)){var Ve=Qc(p);De=Ve.length}if(N>=De)return p;var Ye=N-hs(K);if(Ye<1)return K;var gt=Ve?$c(Ve,0,Ye).join(""):p.slice(0,Ye);if(ge===f)return gt+K;if(Ve&&(Ye+=gt.length-Ye),g1(ge)){if(p.slice(Ye).search(ge)){var sn,nn=gt;for(ge.global||(ge=Kf(ge.source,Wr(Zc.exec(ge))+"g")),ge.lastIndex=0;sn=ge.exec(nn);)var vn=sn.index;gt=gt.slice(0,vn===f?Ye:vn)}}else if(p.indexOf(nl(ge),Ye)!=Ye){var Hn=gt.lastIndexOf(ge);Hn>-1&&(gt=gt.slice(0,Hn))}return gt+K}function ov(p){return p=Wr(p),p&&Da.test(p)?p.replace(dn,Nc):p}var Pb=Vh(function(p,_,N){return p+(N?" ":"")+_.toUpperCase()}),T1=Qv("toUpperCase");function iy(p,_,N){return p=Wr(p),_=N?f:_,_===f?sd(p)?Og(p):Ds(p):p.match(_)||[]}var ay=xs(function(p,_){try{return qt(p,f,_)}catch(N){return m1(N)?N:new To(N)}}),fE=Ui(function(p,_){return Pt(_,function(N){N=Gi(N),Do(p,N,Fp(p[N],p))}),p});function Gp(p){var _=p==null?0:p.length,N=D();return p=_?ws(p,function(K){if(typeof K[1]!="function")throw new Qa(S);return[N(K[0]),K[1]]}):[],xs(function(K){for(var ge=-1;++ge<_;){var De=p[ge];if(qt(De[0],this,K))return qt(De[1],this,K)}})}function hE(p){return di(mi(p,J))}function jp(p){return function(){return p}}function ET(p,_){return p==null||p!==p?_:p}var cy=ls(),mE=ls(!0);function Wu(p){return p}function ly(p){return mu(typeof p=="function"?p:mi(p,J))}function Lb(p){return Lh(mi(p,J))}function C1(p,_){return Nu(p,mi(_,J))}var Kh=xs(function(p,_){return function(N){return tt(N,p,_)}}),wT=xs(function(p,_){return function(N){return tt(p,N,_)}});function S1(p,_,N){var K=Vc(_),ge=Ec(_,K);N==null&&!(da(_)&&(ge.length||!K.length))&&(N=_,_=p,p=this,ge=Ec(_,Vc(_)));var De=!(da(N)&&"chain"in N)||!!N.chain,Ve=wn(p);return Pt(ge,function(Ye){var gt=_[Ye];p[Ye]=gt,Ve&&(p.prototype[Ye]=function(){var sn=this.__chain__;if(De||sn){var nn=p(this.__wrapped__),vn=nn.__actions__=ol(this.__actions__);return vn.push({func:gt,args:arguments,thisArg:p}),nn.__chain__=sn,nn}return gt.apply(p,Zn([this.value()],arguments))})}),p}function pE(){return ba._===this&&(ba._=wo),this}function rc(){}function gE(p){return p=As(p),xs(function(_){return Pg(_,p)})}var qp=Im(ws),TT=Im(qn),x1=Im(Po);function uy(p){return Tr(p)?mc(Gi(p)):Lg(p)}function sv(p){return function(_){return p==null?f:qo(p,_)}}var Zp=er(),A1=er(!0);function hh(){return[]}function dy(){return!1}function fa(){return{}}function Gu(){return""}function $b(){return!0}function vE(p,_){if(p=As(p),p<1||p>rt)return[];var N=Ze,K=Ha(p,Ze);_=D(_),p-=Ze;for(var ge=ei(K,_);++N<p;)_(N);return ge}function bE(p){return ys(p)?ws(p,Gi):Ul(p)?[p]:ol(Hl(Wr(p)))}function fy(p){var _=++Xt;return Wr(p)+_}var Yp=$u(function(p,_){return p+_},0),O1=jg("ceil"),Kp=$u(function(p,_){return p/_},1),_x=jg("floor");function rv(p){return p&&p.length?oh(p,Wu,Kr):f}function R1(p,_){return p&&p.length?oh(p,D(_,2),Kr):f}function Xp(p){return Rr(p,Wu)}function hy(p,_){return Rr(p,D(_,2))}function iv(p){return p&&p.length?oh(p,Wu,yl):f}function Ga(p,_){return p&&p.length?oh(p,D(_,2),yl):f}var my=$u(function(p,_){return p*_},1),Rf=jg("round"),mh=$u(function(p,_){return p-_},0);function Um(p){return p&&p.length?Eo(p,Wu):0}function Qp(p,_){return p&&p.length?Eo(p,D(_,2)):0}return ye.after=F0,ye.ary=z_,ye.assign=Rb,ye.assignIn=X_,ye.assignInWith=tv,ye.assignWith=sT,ye.at=b1,ye.before=yb,ye.bind=Fp,ye.bindAll=fE,ye.bindKey=Fm,ye.castArray=W_,ye.chain=k0,ye.chunk=e1,ye.compact=qs,ye.concat=x0,ye.cond=Gp,ye.conforms=hE,ye.constant=jp,ye.countBy=L0,ye.create=Q_,ye.curry=_b,ye.curryRight=l1,ye.debounce=il,ye.defaults=J_,ye.defaultsDeep=q0,ye.defer=u1,ye.delay=H0,ye.difference=t1,ye.differenceBy=A0,ye.differenceWith=Zg,ye.drop=Wh,ye.dropRight=Hd,ye.dropRightWhile=Ri,ye.dropWhile=yf,ye.fill=_f,ye.filter=$p,ye.flatMap=r1,ye.flatMapDeep=$0,ye.flatMapDepth=vb,ye.flatten=km,ye.flattenDeep=mb,ye.flattenDepth=n1,ye.flip=d1,ye.flow=cy,ye.flowRight=mE,ye.fromPairs=Ef,ye.functions=nv,ye.functionsIn=ll,ye.groupBy=Bm,ye.initial=O_,ye.intersection=bx,ye.intersectionBy=wf,ye.intersectionWith=ks,ye.invert=_1,ye.invertBy=Y0,ye.invokeMap=H_,ye.iteratee=ly,ye.keyBy=V_,ye.keys=Vc,ye.keysIn=Uu,ye.map=i1,ye.mapKeys=rT,ye.mapValues=iT,ye.matches=Lb,ye.matchesProperty=C1,ye.memoize=qh,ye.merge=aT,ye.mergeWith=zp,ye.method=Kh,ye.methodOf=wT,ye.mixin=S1,ye.negate=al,ye.nthArg=gE,ye.omit=K0,ye.omitBy=X0,ye.once=eT,ye.orderBy=Cf,ye.over=qp,ye.overArgs=za,ye.overEvery=TT,ye.overSome=x1,ye.partial=Eb,ye.partialRight=uh,ye.partition=_d,ye.pick=Up,ye.pickBy=oE,ye.property=uy,ye.propertyOf=sv,ye.pull=Tl,ye.pullAll=Pm,ye.pullAllBy=Yg,ye.pullAllWith=Gh,ye.pullAt=Vu,ye.range=Zp,ye.rangeRight=A1,ye.rearg=f1,ye.reject=Br,ye.remove=zd,ye.rest=U_,ye.reverse=Lm,ye.sampleSize=B0,ye.set=lT,ye.setWith=Q0,ye.shuffle=mr,ye.slice=o1,ye.sortBy=xa,ye.sortedUniq=Zw,ye.sortedUniqBy=M_,ye.split=bT,ye.spread=V0,ye.tail=N_,ye.take=I0,ye.takeRight=k_,ye.takeRightWhile=Yw,ye.takeWhile=D0,ye.tap=B_,ye.throttle=z0,ye.thru=vu,ye.toArray=Ob,ye.toPairs=J0,ye.toPairsIn=Vm,ye.toPath=bE,ye.toPlainObject=K_,ye.transform=sE,ye.unary=U0,ye.union=kp,ye.unionBy=M0,ye.unionWith=Kw,ye.uniq=Xw,ye.uniqBy=P_,ye.uniqWith=$r,ye.unset=uT,ye.unzip=ch,ye.unzipWith=$m,ye.update=dT,ye.updateWith=fT,ye.values=Af,ye.valuesIn=Mb,ye.without=L_,ye.words=iy,ye.wrap=W0,ye.xor=pb,ye.xorBy=Hc,ye.xorWith=Vl,ye.zip=Pp,ye.zipObject=gb,ye.zipObjectDeep=N0,ye.zipWith=$_,ye.entries=J0,ye.entriesIn=Vm,ye.extend=X_,ye.extendWith=tv,S1(ye,ye),ye.add=Yp,ye.attempt=ay,ye.camelCase=fh,ye.capitalize=E1,ye.ceil=O1,ye.clamp=Wp,ye.clone=tT,ye.cloneDeep=la,ye.cloneDeepWith=Cl,ye.cloneWith=Ua,ye.conformsTo=bu,ye.deburr=ey,ye.defaultTo=ET,ye.divide=Kp,ye.endsWith=Of,ye.eq=Vs,ye.escape=zm,ye.escapeRegExp=ty,ye.every=Xg,ye.find=Jw,ye.findIndex=Xr,ye.findKey=Z0,ye.findLast=s1,ye.findLastIndex=Mp,ye.findLastKey=eE,ye.floor=_x,ye.forEach=Qg,ye.forEachRight=bb,ye.forIn=dh,ye.forInRight=Ib,ye.forOwn=Td,ye.forOwnRight=ir,ye.get=y1,ye.gt=sc,ye.gte=Gd,ye.has=tE,ye.hasIn=Db,ye.head=Vd,ye.identity=Wu,ye.includes=Jg,ye.indexOf=Np,ye.inRange=Nb,ye.invoke=nE,ye.isArguments=Zh,ye.isArray=ys,ye.isArrayBuffer=wb,ye.isArrayLike=Sl,ye.isArrayLikeObject=ua,ye.isBoolean=h1,ye.isBuffer=Sf,ye.isDate=G0,ye.isElement=yx,ye.isEmpty=Tb,ye.isEqual=j0,ye.isEqualWith=Cb,ye.isError=m1,ye.isFinite=G_,ye.isFunction=wn,ye.isInteger=Sb,ye.isLength=p1,ye.isMap=j_,ye.isMatch=Wa,ye.isMatchWith=nT,ye.isNaN=q_,ye.isNative=Z_,ye.isNil=wd,ye.isNull=Ed,ye.isNumber=ev,ye.isObject=da,ye.isObjectLike=Bt,ye.isPlainObject=zl,ye.isRegExp=g1,ye.isSafeInteger=v1,ye.isSet=xf,ye.isString=zu,ye.isSymbol=Ul,ye.isTypedArray=cl,ye.isUndefined=oT,ye.isWeakMap=xb,ye.isWeakSet=Ab,ye.join=R_,ye.kebabCase=iE,ye.last=Zs,ye.lastIndexOf=Sa,ye.lowerCase=hT,ye.lowerFirst=mT,ye.lt=Hm,ye.lte=Y_,ye.max=rv,ye.maxBy=R1,ye.mean=Xp,ye.meanBy=hy,ye.min=iv,ye.minBy=Ga,ye.stubArray=hh,ye.stubFalse=dy,ye.stubObject=fa,ye.stubString=Gu,ye.stubTrue=$b,ye.multiply=my,ye.nth=yd,ye.noConflict=pE,ye.noop=rc,ye.now=Wd,ye.pad=ny,ye.padEnd=pT,ye.padStart=gT,ye.parseInt=aE,ye.random=rE,ye.reduce=a1,ye.reduceRight=Qe,ye.repeat=cE,ye.replace=kb,ye.result=cT,ye.round=Rf,ye.runInContext=at,ye.sample=Bp,ye.size=Ud,ye.snakeCase=vT,ye.some=c1,ye.sortedIndex=O0,ye.sortedIndexBy=I_,ye.sortedIndexOf=D_,ye.sortedLastIndex=Kg,ye.sortedLastIndexBy=R0,ye.sortedLastIndexOf=qw,ye.startCase=yT,ye.startsWith=lE,ye.subtract=mh,ye.sum=Um,ye.sumBy=Qp,ye.template=oy,ye.times=vE,ye.toFinite=Yh,ye.toInteger=As,ye.toLength=Hp,ye.toLower=uE,ye.toNumber=Dr,ye.toSafeInteger=Vp,ye.toString=Wr,ye.toUpper=_T,ye.trim=dE,ye.trimEnd=w1,ye.trimStart=sy,ye.truncate=ry,ye.unescape=ov,ye.uniqueId=fy,ye.upperCase=Pb,ye.upperFirst=T1,ye.each=Qg,ye.eachRight=bb,ye.first=Vd,S1(ye,function(){var p={};return Pc(ye,function(_,N){xt.call(ye.prototype,N)||(p[N]=_)}),p}(),{chain:!1}),ye.VERSION=y,Pt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(p){ye[p].placeholder=ye}),Pt(["drop","take"],function(p,_){Js.prototype[p]=function(N){N=N===f?1:xi(As(N),0);var K=this.__filtered__&&!_?new Js(this):this.clone();return K.__filtered__?K.__takeCount__=Ha(N,K.__takeCount__):K.__views__.push({size:Ha(N,Ze),type:p+(K.__dir__<0?"Right":"")}),K},Js.prototype[p+"Right"]=function(N){return this.reverse()[p](N).reverse()}}),Pt(["filter","map","takeWhile"],function(p,_){var N=_+1,K=N==Tt||N==F;Js.prototype[p]=function(ge){var De=this.clone();return De.__iteratees__.push({iteratee:D(ge,3),type:N}),De.__filtered__=De.__filtered__||K,De}}),Pt(["head","last"],function(p,_){var N="take"+(_?"Right":"");Js.prototype[p]=function(){return this[N](1).value()[0]}}),Pt(["initial","tail"],function(p,_){var N="drop"+(_?"":"Right");Js.prototype[p]=function(){return this.__filtered__?new Js(this):this[N](1)}}),Js.prototype.compact=function(){return this.filter(Wu)},Js.prototype.find=function(p){return this.filter(p).head()},Js.prototype.findLast=function(p){return this.reverse().find(p)},Js.prototype.invokeMap=xs(function(p,_){return typeof p=="function"?new Js(this):this.map(function(N){return tt(N,p,_)})}),Js.prototype.reject=function(p){return this.filter(al(D(p)))},Js.prototype.slice=function(p,_){p=As(p);var N=this;return N.__filtered__&&(p>0||_<0)?new Js(N):(p<0?N=N.takeRight(-p):p&&(N=N.drop(p)),_!==f&&(_=As(_),N=_<0?N.dropRight(-_):N.take(_-p)),N)},Js.prototype.takeRightWhile=function(p){return this.reverse().takeWhile(p).reverse()},Js.prototype.toArray=function(){return this.take(Ze)},Pc(Js.prototype,function(p,_){var N=/^(?:filter|find|map|reject)|While$/.test(_),K=/^(?:head|last)$/.test(_),ge=ye[K?"take"+(_=="last"?"Right":""):_],De=K||/^find/.test(_);ge&&(ye.prototype[_]=function(){var Ve=this.__wrapped__,Ye=K?[1]:arguments,gt=Ve instanceof Js,sn=Ye[0],nn=gt||ys(Ve),vn=function(Ys){var _s=ge.apply(ye,Zn([Ys],Ye));return K&&Hn?_s[0]:_s};nn&&N&&typeof sn=="function"&&sn.length!=1&&(gt=nn=!1);var Hn=this.__chain__,go=!!this.__actions__.length,Wo=De&&!Hn,Bo=gt&&!go;if(!De&&nn){Ve=Bo?Ve:new Js(this);var Lo=p.apply(Ve,Ye);return Lo.__actions__.push({func:vu,args:[vn],thisArg:f}),new cu(Lo,Hn)}return Wo&&Bo?p.apply(this,Ye):(Lo=this.thru(vn),Wo?K?Lo.value()[0]:Lo.value():Lo)})}),Pt(["pop","push","shift","sort","splice","unshift"],function(p){var _=Oe[p],N=/^(?:push|sort|unshift)$/.test(p)?"tap":"thru",K=/^(?:pop|shift)$/.test(p);ye.prototype[p]=function(){var ge=arguments;if(K&&!this.__chain__){var De=this.value();return _.apply(ys(De)?De:[],ge)}return this[N](function(Ve){return _.apply(ys(Ve)?Ve:[],ge)})}}),Pc(Js.prototype,function(p,_){var N=ye[_];if(N){var K=N.name+"";xt.call(_m,K)||(_m[K]=[]),_m[K].push({name:_,func:N})}}),_m[Nn(f,le).name]=[{name:"wrapper",func:f}],Js.prototype.clone=rb,Js.prototype.reverse=wm,Js.prototype.value=Uv,ye.prototype.at=jh,ye.prototype.chain=Ur,ye.prototype.commit=lh,ye.prototype.next=Tf,ye.prototype.plant=F_,ye.prototype.reverse=P0,ye.prototype.toJSON=ye.prototype.valueOf=ye.prototype.value=Lp,ye.prototype.first=ye.prototype.head,ns&&(ye.prototype[ns]=Qw),ye},es=zv();k?((k.exports=es)._=es,x._=es):ba._=es}).call($w)})(Zne,bH);const Yne=bH;var CZ={},Kne={get exports(){return CZ},set exports(a){CZ=a}};/*!
 * jQuery JavaScript Library v3.6.4
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-03-08T15:28Z
 */(function(a){(function(c,f){a.exports=c.document?f(c,!0):function(y){if(!y.document)throw new Error("jQuery requires a window with a document");return f(y)}})(typeof window<"u"?window:$w,function(c,f){var y=[],C=Object.getPrototypeOf,w=y.slice,S=y.flat?function(x){return y.flat.call(x)}:function(x){return y.concat.apply([],x)},M=y.push,P=y.indexOf,G={},j=G.toString,J=G.hasOwnProperty,me=J.toString,ae=me.call(Object),pe={},fe=function(k){return typeof k=="function"&&typeof k.nodeType!="number"&&typeof k.item!="function"},ue=function(k){return k!=null&&k===k.window},le=c.document,ve={type:!0,src:!0,nonce:!0,noModule:!0};function ee(x,k,U){U=U||le;var q,oe,he=U.createElement("script");if(he.text=x,k)for(q in ve)oe=k[q]||k.getAttribute&&k.getAttribute(q),oe&&he.setAttribute(q,oe);U.head.appendChild(he).parentNode.removeChild(he)}function ke(x){return x==null?x+"":typeof x=="object"||typeof x=="function"?G[j.call(x)]||"object":typeof x}var Ke="3.6.4",V=function(x,k){return new V.fn.init(x,k)};V.fn=V.prototype={jquery:Ke,constructor:V,length:0,toArray:function(){return w.call(this)},get:function(x){return x==null?w.call(this):x<0?this[x+this.length]:this[x]},pushStack:function(x){var k=V.merge(this.constructor(),x);return k.prevObject=this,k},each:function(x){return V.each(this,x)},map:function(x){return this.pushStack(V.map(this,function(k,U){return x.call(k,U,k)}))},slice:function(){return this.pushStack(w.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(V.grep(this,function(x,k){return(k+1)%2}))},odd:function(){return this.pushStack(V.grep(this,function(x,k){return k%2}))},eq:function(x){var k=this.length,U=+x+(x<0?k:0);return this.pushStack(U>=0&&U<k?[this[U]]:[])},end:function(){return this.prevObject||this.constructor()},push:M,sort:y.sort,splice:y.splice},V.extend=V.fn.extend=function(){var x,k,U,q,oe,he,Ee=arguments[0]||{},Ce=1,$e=arguments.length,ot=!1;for(typeof Ee=="boolean"&&(ot=Ee,Ee=arguments[Ce]||{},Ce++),typeof Ee!="object"&&!fe(Ee)&&(Ee={}),Ce===$e&&(Ee=this,Ce--);Ce<$e;Ce++)if((x=arguments[Ce])!=null)for(k in x)q=x[k],!(k==="__proto__"||Ee===q)&&(ot&&q&&(V.isPlainObject(q)||(oe=Array.isArray(q)))?(U=Ee[k],oe&&!Array.isArray(U)?he=[]:!oe&&!V.isPlainObject(U)?he={}:he=U,oe=!1,Ee[k]=V.extend(ot,he,q)):q!==void 0&&(Ee[k]=q));return Ee},V.extend({expando:"jQuery"+(Ke+Math.random()).replace(/\D/g,""),isReady:!0,error:function(x){throw new Error(x)},noop:function(){},isPlainObject:function(x){var k,U;return!x||j.call(x)!=="[object Object]"?!1:(k=C(x),k?(U=J.call(k,"constructor")&&k.constructor,typeof U=="function"&&me.call(U)===ae):!0)},isEmptyObject:function(x){var k;for(k in x)return!1;return!0},globalEval:function(x,k,U){ee(x,{nonce:k&&k.nonce},U)},each:function(x,k){var U,q=0;if(we(x))for(U=x.length;q<U&&k.call(x[q],q,x[q])!==!1;q++);else for(q in x)if(k.call(x[q],q,x[q])===!1)break;return x},makeArray:function(x,k){var U=k||[];return x!=null&&(we(Object(x))?V.merge(U,typeof x=="string"?[x]:x):M.call(U,x)),U},inArray:function(x,k,U){return k==null?-1:P.call(k,x,U)},merge:function(x,k){for(var U=+k.length,q=0,oe=x.length;q<U;q++)x[oe++]=k[q];return x.length=oe,x},grep:function(x,k,U){for(var q,oe=[],he=0,Ee=x.length,Ce=!U;he<Ee;he++)q=!k(x[he],he),q!==Ce&&oe.push(x[he]);return oe},map:function(x,k,U){var q,oe,he=0,Ee=[];if(we(x))for(q=x.length;he<q;he++)oe=k(x[he],he,U),oe!=null&&Ee.push(oe);else for(he in x)oe=k(x[he],he,U),oe!=null&&Ee.push(oe);return S(Ee)},guid:1,support:pe}),typeof Symbol=="function"&&(V.fn[Symbol.iterator]=y[Symbol.iterator]),V.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(x,k){G["[object "+k+"]"]=k.toLowerCase()});function we(x){var k=!!x&&"length"in x&&x.length,U=ke(x);return fe(x)||ue(x)?!1:U==="array"||k===0||typeof k=="number"&&k>0&&k-1 in x}var Ue=function(x){var k,U,q,oe,he,Ee,Ce,$e,ot,wt,qt,st,Pt,no,qn,xn,yr,_r,ws,Zn="sizzle"+1*new Date,eo=x.document,ta=0,Po=0,nr=Qc(),nu=Qc(),Ds=Qc(),Er=Qc(),Jr=function(Oe,Be){return Oe===Be&&(qt=!0),0},Xc={}.hasOwnProperty,Ci=[],ps=Ci.pop,Rr=Ci.push,mc=Ci.push,Zf=Ci.slice,La=function(Oe,Be){for(var qe=0,Vt=Oe.length;qe<Vt;qe++)if(Oe[qe]===Be)return qe;return-1},gl="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Eo="[\\x20\\t\\r\\n\\f]",ei="(?:\\\\[\\da-fA-F]{1,6}"+Eo+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Ka="\\["+Eo+"*("+ei+")(?:"+Eo+"*([*^$|!~]?=)"+Eo+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+ei+"))|)"+Eo+"*\\]",pc=":("+ei+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Ka+")*)|.*)\\)|)",na=new RegExp(Eo+"+","g"),Ir=new RegExp("^"+Eo+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Eo+"+$","g"),ya=new RegExp("^"+Eo+"*,"+Eo+"*"),Yf=new RegExp("^"+Eo+"*([>+~]|"+Eo+")"+Eo+"*"),Ou=new RegExp(Eo+"|>"),bm=new RegExp(pc),yp=new RegExp("^"+ei+"$"),Il={ID:new RegExp("^#("+ei+")"),CLASS:new RegExp("^\\.("+ei+")"),TAG:new RegExp("^("+ei+"|[*])"),ATTR:new RegExp("^"+Ka),PSEUDO:new RegExp("^"+pc),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Eo+"*(even|odd|(([+-]|)(\\d*)n|)"+Eo+"*(?:([+-]|)"+Eo+"*(\\d+)|))"+Eo+"*\\)|)","i"),bool:new RegExp("^(?:"+gl+")$","i"),needsContext:new RegExp("^"+Eo+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Eo+"*((?:-\\d)?\\d*)"+Eo+"*\\)|)(?=[^-]|$)","i")},Ru=/HTML$/i,Rh=/^(?:input|select|textarea|button)$/i,Hi=/^h\d$/i,sd=/^[^{]+\{\s*\[native \w/,kd=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Dl=/[+~]/,Xa=new RegExp("\\\\[\\da-fA-F]{1,6}"+Eo+"?|\\\\([^\\r\\n\\f])","g"),$a=function(Oe,Be){var qe="0x"+Oe.slice(1)-65536;return Be||(qe<0?String.fromCharCode(qe+65536):String.fromCharCode(qe>>10|55296,qe&1023|56320))},rd=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,cf=function(Oe,Be){return Be?Oe==="\0"?"�":Oe.slice(0,-1)+"\\"+Oe.charCodeAt(Oe.length-1).toString(16)+" ":"\\"+Oe},_p=function(){st()},Ep=To(function(Oe){return Oe.disabled===!0&&Oe.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{mc.apply(Ci=Zf.call(eo.childNodes),eo.childNodes),Ci[eo.childNodes.length].nodeType}catch{mc={apply:Ci.length?function(Be,qe){Rr.apply(Be,Zf.call(qe))}:function(Be,qe){for(var Vt=Be.length,ft=0;Be[Vt++]=qe[ft++];);Be.length=Vt-1}}}function hs(Oe,Be,qe,Vt){var ft,xt,Xt,An,Ln,Co,wo,fo=Be&&Be.ownerDocument,zo=Be?Be.nodeType:9;if(qe=qe||[],typeof Oe!="string"||!Oe||zo!==1&&zo!==9&&zo!==11)return qe;if(!Vt&&(st(Be),Be=Be||Pt,qn)){if(zo!==11&&(Ln=kd.exec(Oe)))if(ft=Ln[1]){if(zo===9)if(Xt=Be.getElementById(ft)){if(Xt.id===ft)return qe.push(Xt),qe}else return qe;else if(fo&&(Xt=fo.getElementById(ft))&&ws(Be,Xt)&&Xt.id===ft)return qe.push(Xt),qe}else{if(Ln[2])return mc.apply(qe,Be.getElementsByTagName(Oe)),qe;if((ft=Ln[3])&&U.getElementsByClassName&&Be.getElementsByClassName)return mc.apply(qe,Be.getElementsByClassName(ft)),qe}if(U.qsa&&!Er[Oe+" "]&&(!xn||!xn.test(Oe))&&(zo!==1||Be.nodeName.toLowerCase()!=="object")){if(wo=Oe,fo=Be,zo===1&&(Ou.test(Oe)||Yf.test(Oe))){for(fo=Dl.test(Oe)&&$t(Be.parentNode)||Be,(fo!==Be||!U.scope)&&((An=Be.getAttribute("id"))?An=An.replace(rd,cf):Be.setAttribute("id",An=Zn)),Co=Ee(Oe),xt=Co.length;xt--;)Co[xt]=(An?"#"+An:":scope")+" "+Yn(Co[xt]);wo=Co.join(",")}try{return mc.apply(qe,fo.querySelectorAll(wo)),qe}catch{Er(Oe,!0)}finally{An===Zn&&Be.removeAttribute("id")}}}return $e(Oe.replace(Ir,"$1"),Be,qe,Vt)}function Qc(){var Oe=[];function Be(qe,Vt){return Oe.push(qe+" ")>q.cacheLength&&delete Be[Oe.shift()],Be[qe+" "]=Vt}return Be}function Ne(Oe){return Oe[Zn]=!0,Oe}function Nc(Oe){var Be=Pt.createElement("fieldset");try{return!!Oe(Be)}catch{return!1}finally{Be.parentNode&&Be.parentNode.removeChild(Be),Be=null}}function _a(Oe,Be){for(var qe=Oe.split("|"),Vt=qe.length;Vt--;)q.attrHandle[qe[Vt]]=Be}function Ih(Oe,Be){var qe=Be&&Oe,Vt=qe&&Oe.nodeType===1&&Be.nodeType===1&&Oe.sourceIndex-Be.sourceIndex;if(Vt)return Vt;if(qe){for(;qe=qe.nextSibling;)if(qe===Be)return-1}return Oe?1:-1}function Og(Oe){return function(Be){var qe=Be.nodeName.toLowerCase();return qe==="input"&&Be.type===Oe}}function zv(Oe){return function(Be){var qe=Be.nodeName.toLowerCase();return(qe==="input"||qe==="button")&&Be.type===Oe}}function es(Oe){return function(Be){return"form"in Be?Be.parentNode&&Be.disabled===!1?"label"in Be?"label"in Be.parentNode?Be.parentNode.disabled===Oe:Be.disabled===Oe:Be.isDisabled===Oe||Be.isDisabled!==!Oe&&Ep(Be)===Oe:Be.disabled===Oe:"label"in Be?Be.disabled===Oe:!1}}function at(Oe){return Ne(function(Be){return Be=+Be,Ne(function(qe,Vt){for(var ft,xt=Oe([],qe.length,Be),Xt=xt.length;Xt--;)qe[ft=xt[Xt]]&&(qe[ft]=!(Vt[ft]=qe[ft]))})})}function $t(Oe){return Oe&&typeof Oe.getElementsByTagName<"u"&&Oe}U=hs.support={},he=hs.isXML=function(Oe){var Be=Oe&&Oe.namespaceURI,qe=Oe&&(Oe.ownerDocument||Oe).documentElement;return!Ru.test(Be||qe&&qe.nodeName||"HTML")},st=hs.setDocument=function(Oe){var Be,qe,Vt=Oe?Oe.ownerDocument||Oe:eo;return Vt==Pt||Vt.nodeType!==9||!Vt.documentElement||(Pt=Vt,no=Pt.documentElement,qn=!he(Pt),eo!=Pt&&(qe=Pt.defaultView)&&qe.top!==qe&&(qe.addEventListener?qe.addEventListener("unload",_p,!1):qe.attachEvent&&qe.attachEvent("onunload",_p)),U.scope=Nc(function(ft){return no.appendChild(ft).appendChild(Pt.createElement("div")),typeof ft.querySelectorAll<"u"&&!ft.querySelectorAll(":scope fieldset div").length}),U.cssHas=Nc(function(){try{return Pt.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),U.attributes=Nc(function(ft){return ft.className="i",!ft.getAttribute("className")}),U.getElementsByTagName=Nc(function(ft){return ft.appendChild(Pt.createComment("")),!ft.getElementsByTagName("*").length}),U.getElementsByClassName=sd.test(Pt.getElementsByClassName),U.getById=Nc(function(ft){return no.appendChild(ft).id=Zn,!Pt.getElementsByName||!Pt.getElementsByName(Zn).length}),U.getById?(q.filter.ID=function(ft){var xt=ft.replace(Xa,$a);return function(Xt){return Xt.getAttribute("id")===xt}},q.find.ID=function(ft,xt){if(typeof xt.getElementById<"u"&&qn){var Xt=xt.getElementById(ft);return Xt?[Xt]:[]}}):(q.filter.ID=function(ft){var xt=ft.replace(Xa,$a);return function(Xt){var An=typeof Xt.getAttributeNode<"u"&&Xt.getAttributeNode("id");return An&&An.value===xt}},q.find.ID=function(ft,xt){if(typeof xt.getElementById<"u"&&qn){var Xt,An,Ln,Co=xt.getElementById(ft);if(Co){if(Xt=Co.getAttributeNode("id"),Xt&&Xt.value===ft)return[Co];for(Ln=xt.getElementsByName(ft),An=0;Co=Ln[An++];)if(Xt=Co.getAttributeNode("id"),Xt&&Xt.value===ft)return[Co]}return[]}}),q.find.TAG=U.getElementsByTagName?function(ft,xt){if(typeof xt.getElementsByTagName<"u")return xt.getElementsByTagName(ft);if(U.qsa)return xt.querySelectorAll(ft)}:function(ft,xt){var Xt,An=[],Ln=0,Co=xt.getElementsByTagName(ft);if(ft==="*"){for(;Xt=Co[Ln++];)Xt.nodeType===1&&An.push(Xt);return An}return Co},q.find.CLASS=U.getElementsByClassName&&function(ft,xt){if(typeof xt.getElementsByClassName<"u"&&qn)return xt.getElementsByClassName(ft)},yr=[],xn=[],(U.qsa=sd.test(Pt.querySelectorAll))&&(Nc(function(ft){var xt;no.appendChild(ft).innerHTML="<a id='"+Zn+"'></a><select id='"+Zn+"-\r\\' msallowcapture=''><option selected=''></option></select>",ft.querySelectorAll("[msallowcapture^='']").length&&xn.push("[*^$]="+Eo+`*(?:''|"")`),ft.querySelectorAll("[selected]").length||xn.push("\\["+Eo+"*(?:value|"+gl+")"),ft.querySelectorAll("[id~="+Zn+"-]").length||xn.push("~="),xt=Pt.createElement("input"),xt.setAttribute("name",""),ft.appendChild(xt),ft.querySelectorAll("[name='']").length||xn.push("\\["+Eo+"*name"+Eo+"*="+Eo+`*(?:''|"")`),ft.querySelectorAll(":checked").length||xn.push(":checked"),ft.querySelectorAll("a#"+Zn+"+*").length||xn.push(".#.+[+~]"),ft.querySelectorAll("\\\f"),xn.push("[\\r\\n\\f]")}),Nc(function(ft){ft.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var xt=Pt.createElement("input");xt.setAttribute("type","hidden"),ft.appendChild(xt).setAttribute("name","D"),ft.querySelectorAll("[name=d]").length&&xn.push("name"+Eo+"*[*^$|!~]?="),ft.querySelectorAll(":enabled").length!==2&&xn.push(":enabled",":disabled"),no.appendChild(ft).disabled=!0,ft.querySelectorAll(":disabled").length!==2&&xn.push(":enabled",":disabled"),ft.querySelectorAll("*,:x"),xn.push(",.*:")})),(U.matchesSelector=sd.test(_r=no.matches||no.webkitMatchesSelector||no.mozMatchesSelector||no.oMatchesSelector||no.msMatchesSelector))&&Nc(function(ft){U.disconnectedMatch=_r.call(ft,"*"),_r.call(ft,"[s!='']:x"),yr.push("!=",pc)}),U.cssHas||xn.push(":has"),xn=xn.length&&new RegExp(xn.join("|")),yr=yr.length&&new RegExp(yr.join("|")),Be=sd.test(no.compareDocumentPosition),ws=Be||sd.test(no.contains)?function(ft,xt){var Xt=ft.nodeType===9&&ft.documentElement||ft,An=xt&&xt.parentNode;return ft===An||!!(An&&An.nodeType===1&&(Xt.contains?Xt.contains(An):ft.compareDocumentPosition&&ft.compareDocumentPosition(An)&16))}:function(ft,xt){if(xt){for(;xt=xt.parentNode;)if(xt===ft)return!0}return!1},Jr=Be?function(ft,xt){if(ft===xt)return qt=!0,0;var Xt=!ft.compareDocumentPosition-!xt.compareDocumentPosition;return Xt||(Xt=(ft.ownerDocument||ft)==(xt.ownerDocument||xt)?ft.compareDocumentPosition(xt):1,Xt&1||!U.sortDetached&&xt.compareDocumentPosition(ft)===Xt?ft==Pt||ft.ownerDocument==eo&&ws(eo,ft)?-1:xt==Pt||xt.ownerDocument==eo&&ws(eo,xt)?1:wt?La(wt,ft)-La(wt,xt):0:Xt&4?-1:1)}:function(ft,xt){if(ft===xt)return qt=!0,0;var Xt,An=0,Ln=ft.parentNode,Co=xt.parentNode,wo=[ft],fo=[xt];if(!Ln||!Co)return ft==Pt?-1:xt==Pt?1:Ln?-1:Co?1:wt?La(wt,ft)-La(wt,xt):0;if(Ln===Co)return Ih(ft,xt);for(Xt=ft;Xt=Xt.parentNode;)wo.unshift(Xt);for(Xt=xt;Xt=Xt.parentNode;)fo.unshift(Xt);for(;wo[An]===fo[An];)An++;return An?Ih(wo[An],fo[An]):wo[An]==eo?-1:fo[An]==eo?1:0}),Pt},hs.matches=function(Oe,Be){return hs(Oe,null,null,Be)},hs.matchesSelector=function(Oe,Be){if(st(Oe),U.matchesSelector&&qn&&!Er[Be+" "]&&(!yr||!yr.test(Be))&&(!xn||!xn.test(Be)))try{var qe=_r.call(Oe,Be);if(qe||U.disconnectedMatch||Oe.document&&Oe.document.nodeType!==11)return qe}catch{Er(Be,!0)}return hs(Be,Pt,null,[Oe]).length>0},hs.contains=function(Oe,Be){return(Oe.ownerDocument||Oe)!=Pt&&st(Oe),ws(Oe,Be)},hs.attr=function(Oe,Be){(Oe.ownerDocument||Oe)!=Pt&&st(Oe);var qe=q.attrHandle[Be.toLowerCase()],Vt=qe&&Xc.call(q.attrHandle,Be.toLowerCase())?qe(Oe,Be,!qn):void 0;return Vt!==void 0?Vt:U.attributes||!qn?Oe.getAttribute(Be):(Vt=Oe.getAttributeNode(Be))&&Vt.specified?Vt.value:null},hs.escape=function(Oe){return(Oe+"").replace(rd,cf)},hs.error=function(Oe){throw new Error("Syntax error, unrecognized expression: "+Oe)},hs.uniqueSort=function(Oe){var Be,qe=[],Vt=0,ft=0;if(qt=!U.detectDuplicates,wt=!U.sortStable&&Oe.slice(0),Oe.sort(Jr),qt){for(;Be=Oe[ft++];)Be===Oe[ft]&&(Vt=qe.push(ft));for(;Vt--;)Oe.splice(qe[Vt],1)}return wt=null,Oe},oe=hs.getText=function(Oe){var Be,qe="",Vt=0,ft=Oe.nodeType;if(ft){if(ft===1||ft===9||ft===11){if(typeof Oe.textContent=="string")return Oe.textContent;for(Oe=Oe.firstChild;Oe;Oe=Oe.nextSibling)qe+=oe(Oe)}else if(ft===3||ft===4)return Oe.nodeValue}else for(;Be=Oe[Vt++];)qe+=oe(Be);return qe},q=hs.selectors={cacheLength:50,createPseudo:Ne,match:Il,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Oe){return Oe[1]=Oe[1].replace(Xa,$a),Oe[3]=(Oe[3]||Oe[4]||Oe[5]||"").replace(Xa,$a),Oe[2]==="~="&&(Oe[3]=" "+Oe[3]+" "),Oe.slice(0,4)},CHILD:function(Oe){return Oe[1]=Oe[1].toLowerCase(),Oe[1].slice(0,3)==="nth"?(Oe[3]||hs.error(Oe[0]),Oe[4]=+(Oe[4]?Oe[5]+(Oe[6]||1):2*(Oe[3]==="even"||Oe[3]==="odd")),Oe[5]=+(Oe[7]+Oe[8]||Oe[3]==="odd")):Oe[3]&&hs.error(Oe[0]),Oe},PSEUDO:function(Oe){var Be,qe=!Oe[6]&&Oe[2];return Il.CHILD.test(Oe[0])?null:(Oe[3]?Oe[2]=Oe[4]||Oe[5]||"":qe&&bm.test(qe)&&(Be=Ee(qe,!0))&&(Be=qe.indexOf(")",qe.length-Be)-qe.length)&&(Oe[0]=Oe[0].slice(0,Be),Oe[2]=qe.slice(0,Be)),Oe.slice(0,3))}},filter:{TAG:function(Oe){var Be=Oe.replace(Xa,$a).toLowerCase();return Oe==="*"?function(){return!0}:function(qe){return qe.nodeName&&qe.nodeName.toLowerCase()===Be}},CLASS:function(Oe){var Be=nr[Oe+" "];return Be||(Be=new RegExp("(^|"+Eo+")"+Oe+"("+Eo+"|$)"))&&nr(Oe,function(qe){return Be.test(typeof qe.className=="string"&&qe.className||typeof qe.getAttribute<"u"&&qe.getAttribute("class")||"")})},ATTR:function(Oe,Be,qe){return function(Vt){var ft=hs.attr(Vt,Oe);return ft==null?Be==="!=":Be?(ft+="",Be==="="?ft===qe:Be==="!="?ft!==qe:Be==="^="?qe&&ft.indexOf(qe)===0:Be==="*="?qe&&ft.indexOf(qe)>-1:Be==="$="?qe&&ft.slice(-qe.length)===qe:Be==="~="?(" "+ft.replace(na," ")+" ").indexOf(qe)>-1:Be==="|="?ft===qe||ft.slice(0,qe.length+1)===qe+"-":!1):!0}},CHILD:function(Oe,Be,qe,Vt,ft){var xt=Oe.slice(0,3)!=="nth",Xt=Oe.slice(-4)!=="last",An=Be==="of-type";return Vt===1&&ft===0?function(Ln){return!!Ln.parentNode}:function(Ln,Co,wo){var fo,zo,Ns,Ao,Ba,Zr,Fa=xt!==Xt?"nextSibling":"previousSibling",ur=Ln.parentNode,ou=An&&Ln.nodeName.toLowerCase(),js=!wo&&!An,ns=!1;if(ur){if(xt){for(;Fa;){for(Ao=Ln;Ao=Ao[Fa];)if(An?Ao.nodeName.toLowerCase()===ou:Ao.nodeType===1)return!1;Zr=Fa=Oe==="only"&&!Zr&&"nextSibling"}return!0}if(Zr=[Xt?ur.firstChild:ur.lastChild],Xt&&js){for(Ao=ur,Ns=Ao[Zn]||(Ao[Zn]={}),zo=Ns[Ao.uniqueID]||(Ns[Ao.uniqueID]={}),fo=zo[Oe]||[],Ba=fo[0]===ta&&fo[1],ns=Ba&&fo[2],Ao=Ba&&ur.childNodes[Ba];Ao=++Ba&&Ao&&Ao[Fa]||(ns=Ba=0)||Zr.pop();)if(Ao.nodeType===1&&++ns&&Ao===Ln){zo[Oe]=[ta,Ba,ns];break}}else if(js&&(Ao=Ln,Ns=Ao[Zn]||(Ao[Zn]={}),zo=Ns[Ao.uniqueID]||(Ns[Ao.uniqueID]={}),fo=zo[Oe]||[],Ba=fo[0]===ta&&fo[1],ns=Ba),ns===!1)for(;(Ao=++Ba&&Ao&&Ao[Fa]||(ns=Ba=0)||Zr.pop())&&!((An?Ao.nodeName.toLowerCase()===ou:Ao.nodeType===1)&&++ns&&(js&&(Ns=Ao[Zn]||(Ao[Zn]={}),zo=Ns[Ao.uniqueID]||(Ns[Ao.uniqueID]={}),zo[Oe]=[ta,ns]),Ao===Ln)););return ns-=ft,ns===Vt||ns%Vt===0&&ns/Vt>=0}}},PSEUDO:function(Oe,Be){var qe,Vt=q.pseudos[Oe]||q.setFilters[Oe.toLowerCase()]||hs.error("unsupported pseudo: "+Oe);return Vt[Zn]?Vt(Be):Vt.length>1?(qe=[Oe,Oe,"",Be],q.setFilters.hasOwnProperty(Oe.toLowerCase())?Ne(function(ft,xt){for(var Xt,An=Vt(ft,Be),Ln=An.length;Ln--;)Xt=La(ft,An[Ln]),ft[Xt]=!(xt[Xt]=An[Ln])}):function(ft){return Vt(ft,0,qe)}):Vt}},pseudos:{not:Ne(function(Oe){var Be=[],qe=[],Vt=Ce(Oe.replace(Ir,"$1"));return Vt[Zn]?Ne(function(ft,xt,Xt,An){for(var Ln,Co=Vt(ft,null,An,[]),wo=ft.length;wo--;)(Ln=Co[wo])&&(ft[wo]=!(xt[wo]=Ln))}):function(ft,xt,Xt){return Be[0]=ft,Vt(Be,null,Xt,qe),Be[0]=null,!qe.pop()}}),has:Ne(function(Oe){return function(Be){return hs(Oe,Be).length>0}}),contains:Ne(function(Oe){return Oe=Oe.replace(Xa,$a),function(Be){return(Be.textContent||oe(Be)).indexOf(Oe)>-1}}),lang:Ne(function(Oe){return yp.test(Oe||"")||hs.error("unsupported lang: "+Oe),Oe=Oe.replace(Xa,$a).toLowerCase(),function(Be){var qe;do if(qe=qn?Be.lang:Be.getAttribute("xml:lang")||Be.getAttribute("lang"))return qe=qe.toLowerCase(),qe===Oe||qe.indexOf(Oe+"-")===0;while((Be=Be.parentNode)&&Be.nodeType===1);return!1}}),target:function(Oe){var Be=x.location&&x.location.hash;return Be&&Be.slice(1)===Oe.id},root:function(Oe){return Oe===no},focus:function(Oe){return Oe===Pt.activeElement&&(!Pt.hasFocus||Pt.hasFocus())&&!!(Oe.type||Oe.href||~Oe.tabIndex)},enabled:es(!1),disabled:es(!0),checked:function(Oe){var Be=Oe.nodeName.toLowerCase();return Be==="input"&&!!Oe.checked||Be==="option"&&!!Oe.selected},selected:function(Oe){return Oe.parentNode&&Oe.parentNode.selectedIndex,Oe.selected===!0},empty:function(Oe){for(Oe=Oe.firstChild;Oe;Oe=Oe.nextSibling)if(Oe.nodeType<6)return!1;return!0},parent:function(Oe){return!q.pseudos.empty(Oe)},header:function(Oe){return Hi.test(Oe.nodeName)},input:function(Oe){return Rh.test(Oe.nodeName)},button:function(Oe){var Be=Oe.nodeName.toLowerCase();return Be==="input"&&Oe.type==="button"||Be==="button"},text:function(Oe){var Be;return Oe.nodeName.toLowerCase()==="input"&&Oe.type==="text"&&((Be=Oe.getAttribute("type"))==null||Be.toLowerCase()==="text")},first:at(function(){return[0]}),last:at(function(Oe,Be){return[Be-1]}),eq:at(function(Oe,Be,qe){return[qe<0?qe+Be:qe]}),even:at(function(Oe,Be){for(var qe=0;qe<Be;qe+=2)Oe.push(qe);return Oe}),odd:at(function(Oe,Be){for(var qe=1;qe<Be;qe+=2)Oe.push(qe);return Oe}),lt:at(function(Oe,Be,qe){for(var Vt=qe<0?qe+Be:qe>Be?Be:qe;--Vt>=0;)Oe.push(Vt);return Oe}),gt:at(function(Oe,Be,qe){for(var Vt=qe<0?qe+Be:qe;++Vt<Be;)Oe.push(Vt);return Oe})}},q.pseudos.nth=q.pseudos.eq;for(k in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})q.pseudos[k]=Og(k);for(k in{submit:!0,reset:!0})q.pseudos[k]=zv(k);function Dt(){}Dt.prototype=q.filters=q.pseudos,q.setFilters=new Dt,Ee=hs.tokenize=function(Oe,Be){var qe,Vt,ft,xt,Xt,An,Ln,Co=nu[Oe+" "];if(Co)return Be?0:Co.slice(0);for(Xt=Oe,An=[],Ln=q.preFilter;Xt;){(!qe||(Vt=ya.exec(Xt)))&&(Vt&&(Xt=Xt.slice(Vt[0].length)||Xt),An.push(ft=[])),qe=!1,(Vt=Yf.exec(Xt))&&(qe=Vt.shift(),ft.push({value:qe,type:Vt[0].replace(Ir," ")}),Xt=Xt.slice(qe.length));for(xt in q.filter)(Vt=Il[xt].exec(Xt))&&(!Ln[xt]||(Vt=Ln[xt](Vt)))&&(qe=Vt.shift(),ft.push({value:qe,type:xt,matches:Vt}),Xt=Xt.slice(qe.length));if(!qe)break}return Be?Xt.length:Xt?hs.error(Oe):nu(Oe,An).slice(0)};function Yn(Oe){for(var Be=0,qe=Oe.length,Vt="";Be<qe;Be++)Vt+=Oe[Be].value;return Vt}function To(Oe,Be,qe){var Vt=Be.dir,ft=Be.next,xt=ft||Vt,Xt=qe&&xt==="parentNode",An=Po++;return Be.first?function(Ln,Co,wo){for(;Ln=Ln[Vt];)if(Ln.nodeType===1||Xt)return Oe(Ln,Co,wo);return!1}:function(Ln,Co,wo){var fo,zo,Ns,Ao=[ta,An];if(wo){for(;Ln=Ln[Vt];)if((Ln.nodeType===1||Xt)&&Oe(Ln,Co,wo))return!0}else for(;Ln=Ln[Vt];)if(Ln.nodeType===1||Xt)if(Ns=Ln[Zn]||(Ln[Zn]={}),zo=Ns[Ln.uniqueID]||(Ns[Ln.uniqueID]={}),ft&&ft===Ln.nodeName.toLowerCase())Ln=Ln[Vt]||Ln;else{if((fo=zo[xt])&&fo[0]===ta&&fo[1]===An)return Ao[2]=fo[2];if(zo[xt]=Ao,Ao[2]=Oe(Ln,Co,wo))return!0}return!1}}function ts(Oe){return Oe.length>1?function(Be,qe,Vt){for(var ft=Oe.length;ft--;)if(!Oe[ft](Be,qe,Vt))return!1;return!0}:Oe[0]}function Si(Oe,Be,qe){for(var Vt=0,ft=Be.length;Vt<ft;Vt++)hs(Oe,Be[Vt],qe);return qe}function Qs(Oe,Be,qe,Vt,ft){for(var xt,Xt=[],An=0,Ln=Oe.length,Co=Be!=null;An<Ln;An++)(xt=Oe[An])&&(!qe||qe(xt,Vt,ft))&&(Xt.push(xt),Co&&Be.push(An));return Xt}function Kf(Oe,Be,qe,Vt,ft,xt){return Vt&&!Vt[Zn]&&(Vt=Kf(Vt)),ft&&!ft[Zn]&&(ft=Kf(ft,xt)),Ne(function(Xt,An,Ln,Co){var wo,fo,zo,Ns=[],Ao=[],Ba=An.length,Zr=Xt||Si(Be||"*",Ln.nodeType?[Ln]:Ln,[]),Fa=Oe&&(Xt||!Be)?Qs(Zr,Ns,Oe,Ln,Co):Zr,ur=qe?ft||(Xt?Oe:Ba||Vt)?[]:An:Fa;if(qe&&qe(Fa,ur,Ln,Co),Vt)for(wo=Qs(ur,Ao),Vt(wo,[],Ln,Co),fo=wo.length;fo--;)(zo=wo[fo])&&(ur[Ao[fo]]=!(Fa[Ao[fo]]=zo));if(Xt){if(ft||Oe){if(ft){for(wo=[],fo=ur.length;fo--;)(zo=ur[fo])&&wo.push(Fa[fo]=zo);ft(null,ur=[],wo,Co)}for(fo=ur.length;fo--;)(zo=ur[fo])&&(wo=ft?La(Xt,zo):Ns[fo])>-1&&(Xt[wo]=!(An[wo]=zo))}}else ur=Qs(ur===An?ur.splice(Ba,ur.length):ur),ft?ft(null,An,ur,Co):mc.apply(An,ur)})}function Jc(Oe){for(var Be,qe,Vt,ft=Oe.length,xt=q.relative[Oe[0].type],Xt=xt||q.relative[" "],An=xt?1:0,Ln=To(function(fo){return fo===Be},Xt,!0),Co=To(function(fo){return La(Be,fo)>-1},Xt,!0),wo=[function(fo,zo,Ns){var Ao=!xt&&(Ns||zo!==ot)||((Be=zo).nodeType?Ln(fo,zo,Ns):Co(fo,zo,Ns));return Be=null,Ao}];An<ft;An++)if(qe=q.relative[Oe[An].type])wo=[To(ts(wo),qe)];else{if(qe=q.filter[Oe[An].type].apply(null,Oe[An].matches),qe[Zn]){for(Vt=++An;Vt<ft&&!q.relative[Oe[Vt].type];Vt++);return Kf(An>1&&ts(wo),An>1&&Yn(Oe.slice(0,An-1).concat({value:Oe[An-2].type===" "?"*":""})).replace(Ir,"$1"),qe,An<Vt&&Jc(Oe.slice(An,Vt)),Vt<ft&&Jc(Oe=Oe.slice(Vt)),Vt<ft&&Yn(Oe))}wo.push(qe)}return ts(wo)}function Qa(Oe,Be){var qe=Be.length>0,Vt=Oe.length>0,ft=function(xt,Xt,An,Ln,Co){var wo,fo,zo,Ns=0,Ao="0",Ba=xt&&[],Zr=[],Fa=ot,ur=xt||Vt&&q.find.TAG("*",Co),ou=ta+=Fa==null?1:Math.random()||.1,js=ur.length;for(Co&&(ot=Xt==Pt||Xt||Co);Ao!==js&&(wo=ur[Ao])!=null;Ao++){if(Vt&&wo){for(fo=0,!Xt&&wo.ownerDocument!=Pt&&(st(wo),An=!qn);zo=Oe[fo++];)if(zo(wo,Xt||Pt,An)){Ln.push(wo);break}Co&&(ta=ou)}qe&&((wo=!zo&&wo)&&Ns--,xt&&Ba.push(wo))}if(Ns+=Ao,qe&&Ao!==Ns){for(fo=0;zo=Be[fo++];)zo(Ba,Zr,Xt,An);if(xt){if(Ns>0)for(;Ao--;)Ba[Ao]||Zr[Ao]||(Zr[Ao]=ps.call(Ln));Zr=Qs(Zr)}mc.apply(Ln,Zr),Co&&!xt&&Zr.length>0&&Ns+Be.length>1&&hs.uniqueSort(Ln)}return Co&&(ta=ou,ot=Fa),Ba};return qe?Ne(ft):ft}return Ce=hs.compile=function(Oe,Be){var qe,Vt=[],ft=[],xt=Ds[Oe+" "];if(!xt){for(Be||(Be=Ee(Oe)),qe=Be.length;qe--;)xt=Jc(Be[qe]),xt[Zn]?Vt.push(xt):ft.push(xt);xt=Ds(Oe,Qa(ft,Vt)),xt.selector=Oe}return xt},$e=hs.select=function(Oe,Be,qe,Vt){var ft,xt,Xt,An,Ln,Co=typeof Oe=="function"&&Oe,wo=!Vt&&Ee(Oe=Co.selector||Oe);if(qe=qe||[],wo.length===1){if(xt=wo[0]=wo[0].slice(0),xt.length>2&&(Xt=xt[0]).type==="ID"&&Be.nodeType===9&&qn&&q.relative[xt[1].type]){if(Be=(q.find.ID(Xt.matches[0].replace(Xa,$a),Be)||[])[0],Be)Co&&(Be=Be.parentNode);else return qe;Oe=Oe.slice(xt.shift().value.length)}for(ft=Il.needsContext.test(Oe)?0:xt.length;ft--&&(Xt=xt[ft],!q.relative[An=Xt.type]);)if((Ln=q.find[An])&&(Vt=Ln(Xt.matches[0].replace(Xa,$a),Dl.test(xt[0].type)&&$t(Be.parentNode)||Be))){if(xt.splice(ft,1),Oe=Vt.length&&Yn(xt),!Oe)return mc.apply(qe,Vt),qe;break}}return(Co||Ce(Oe,wo))(Vt,Be,!qn,qe,!Be||Dl.test(Oe)&&$t(Be.parentNode)||Be),qe},U.sortStable=Zn.split("").sort(Jr).join("")===Zn,U.detectDuplicates=!!qt,st(),U.sortDetached=Nc(function(Oe){return Oe.compareDocumentPosition(Pt.createElement("fieldset"))&1}),Nc(function(Oe){return Oe.innerHTML="<a href='#'></a>",Oe.firstChild.getAttribute("href")==="#"})||_a("type|href|height|width",function(Oe,Be,qe){if(!qe)return Oe.getAttribute(Be,Be.toLowerCase()==="type"?1:2)}),(!U.attributes||!Nc(function(Oe){return Oe.innerHTML="<input/>",Oe.firstChild.setAttribute("value",""),Oe.firstChild.getAttribute("value")===""}))&&_a("value",function(Oe,Be,qe){if(!qe&&Oe.nodeName.toLowerCase()==="input")return Oe.defaultValue}),Nc(function(Oe){return Oe.getAttribute("disabled")==null})||_a(gl,function(Oe,Be,qe){var Vt;if(!qe)return Oe[Be]===!0?Be.toLowerCase():(Vt=Oe.getAttributeNode(Be))&&Vt.specified?Vt.value:null}),hs}(c);V.find=Ue,V.expr=Ue.selectors,V.expr[":"]=V.expr.pseudos,V.uniqueSort=V.unique=Ue.uniqueSort,V.text=Ue.getText,V.isXMLDoc=Ue.isXML,V.contains=Ue.contains,V.escapeSelector=Ue.escape;var bt=function(x,k,U){for(var q=[],oe=U!==void 0;(x=x[k])&&x.nodeType!==9;)if(x.nodeType===1){if(oe&&V(x).is(U))break;q.push(x)}return q},It=function(x,k){for(var U=[];x;x=x.nextSibling)x.nodeType===1&&x!==k&&U.push(x);return U},He=V.expr.match.needsContext;function Te(x,k){return x.nodeName&&x.nodeName.toLowerCase()===k.toLowerCase()}var bn=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Tt(x,k,U){return fe(k)?V.grep(x,function(q,oe){return!!k.call(q,oe,q)!==U}):k.nodeType?V.grep(x,function(q){return q===k!==U}):typeof k!="string"?V.grep(x,function(q){return P.call(k,q)>-1!==U}):V.filter(k,x,U)}V.filter=function(x,k,U){var q=k[0];return U&&(x=":not("+x+")"),k.length===1&&q.nodeType===1?V.find.matchesSelector(q,x)?[q]:[]:V.find.matches(x,V.grep(k,function(oe){return oe.nodeType===1}))},V.fn.extend({find:function(x){var k,U,q=this.length,oe=this;if(typeof x!="string")return this.pushStack(V(x).filter(function(){for(k=0;k<q;k++)if(V.contains(oe[k],this))return!0}));for(U=this.pushStack([]),k=0;k<q;k++)V.find(x,oe[k],U);return q>1?V.uniqueSort(U):U},filter:function(x){return this.pushStack(Tt(this,x||[],!1))},not:function(x){return this.pushStack(Tt(this,x||[],!0))},is:function(x){return!!Tt(this,typeof x=="string"&&He.test(x)?V(x):x||[],!1).length}});var Mt,F=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Nt=V.fn.init=function(x,k,U){var q,oe;if(!x)return this;if(U=U||Mt,typeof x=="string")if(x[0]==="<"&&x[x.length-1]===">"&&x.length>=3?q=[null,x,null]:q=F.exec(x),q&&(q[1]||!k))if(q[1]){if(k=k instanceof V?k[0]:k,V.merge(this,V.parseHTML(q[1],k&&k.nodeType?k.ownerDocument||k:le,!0)),bn.test(q[1])&&V.isPlainObject(k))for(q in k)fe(this[q])?this[q](k[q]):this.attr(q,k[q]);return this}else return oe=le.getElementById(q[2]),oe&&(this[0]=oe,this.length=1),this;else return!k||k.jquery?(k||U).find(x):this.constructor(k).find(x);else{if(x.nodeType)return this[0]=x,this.length=1,this;if(fe(x))return U.ready!==void 0?U.ready(x):x(V)}return V.makeArray(x,this)};Nt.prototype=V.fn,Mt=V(le);var rt=/^(?:parents|prev(?:Until|All))/,Kt={children:!0,contents:!0,next:!0,prev:!0};V.fn.extend({has:function(x){var k=V(x,this),U=k.length;return this.filter(function(){for(var q=0;q<U;q++)if(V.contains(this,k[q]))return!0})},closest:function(x,k){var U,q=0,oe=this.length,he=[],Ee=typeof x!="string"&&V(x);if(!He.test(x)){for(;q<oe;q++)for(U=this[q];U&&U!==k;U=U.parentNode)if(U.nodeType<11&&(Ee?Ee.index(U)>-1:U.nodeType===1&&V.find.matchesSelector(U,x))){he.push(U);break}}return this.pushStack(he.length>1?V.uniqueSort(he):he)},index:function(x){return x?typeof x=="string"?P.call(V(x),this[0]):P.call(this,x.jquery?x[0]:x):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(x,k){return this.pushStack(V.uniqueSort(V.merge(this.get(),V(x,k))))},addBack:function(x){return this.add(x==null?this.prevObject:this.prevObject.filter(x))}});function Gt(x,k){for(;(x=x[k])&&x.nodeType!==1;);return x}V.each({parent:function(x){var k=x.parentNode;return k&&k.nodeType!==11?k:null},parents:function(x){return bt(x,"parentNode")},parentsUntil:function(x,k,U){return bt(x,"parentNode",U)},next:function(x){return Gt(x,"nextSibling")},prev:function(x){return Gt(x,"previousSibling")},nextAll:function(x){return bt(x,"nextSibling")},prevAll:function(x){return bt(x,"previousSibling")},nextUntil:function(x,k,U){return bt(x,"nextSibling",U)},prevUntil:function(x,k,U){return bt(x,"previousSibling",U)},siblings:function(x){return It((x.parentNode||{}).firstChild,x)},children:function(x){return It(x.firstChild)},contents:function(x){return x.contentDocument!=null&&C(x.contentDocument)?x.contentDocument:(Te(x,"template")&&(x=x.content||x),V.merge([],x.childNodes))}},function(x,k){V.fn[x]=function(U,q){var oe=V.map(this,k,U);return x.slice(-5)!=="Until"&&(q=U),q&&typeof q=="string"&&(oe=V.filter(q,oe)),this.length>1&&(Kt[x]||V.uniqueSort(oe),rt.test(x)&&oe.reverse()),this.pushStack(oe)}});var Ze=/[^\x20\t\r\n\f]+/g;function _o(x){var k={};return V.each(x.match(Ze)||[],function(U,q){k[q]=!0}),k}V.Callbacks=function(x){x=typeof x=="string"?_o(x):V.extend({},x);var k,U,q,oe,he=[],Ee=[],Ce=-1,$e=function(){for(oe=oe||x.once,q=k=!0;Ee.length;Ce=-1)for(U=Ee.shift();++Ce<he.length;)he[Ce].apply(U[0],U[1])===!1&&x.stopOnFalse&&(Ce=he.length,U=!1);x.memory||(U=!1),k=!1,oe&&(U?he=[]:he="")},ot={add:function(){return he&&(U&&!k&&(Ce=he.length-1,Ee.push(U)),function wt(qt){V.each(qt,function(st,Pt){fe(Pt)?(!x.unique||!ot.has(Pt))&&he.push(Pt):Pt&&Pt.length&&ke(Pt)!=="string"&&wt(Pt)})}(arguments),U&&!k&&$e()),this},remove:function(){return V.each(arguments,function(wt,qt){for(var st;(st=V.inArray(qt,he,st))>-1;)he.splice(st,1),st<=Ce&&Ce--}),this},has:function(wt){return wt?V.inArray(wt,he)>-1:he.length>0},empty:function(){return he&&(he=[]),this},disable:function(){return oe=Ee=[],he=U="",this},disabled:function(){return!he},lock:function(){return oe=Ee=[],!U&&!k&&(he=U=""),this},locked:function(){return!!oe},fireWith:function(wt,qt){return oe||(qt=qt||[],qt=[wt,qt.slice?qt.slice():qt],Ee.push(qt),k||$e()),this},fire:function(){return ot.fireWith(this,arguments),this},fired:function(){return!!q}};return ot};function Ho(x){return x}function lo(x){throw x}function Vo(x,k,U,q){var oe;try{x&&fe(oe=x.promise)?oe.call(x).done(k).fail(U):x&&fe(oe=x.then)?oe.call(x,k,U):k.apply(void 0,[x].slice(q))}catch(he){U.apply(void 0,[he])}}V.extend({Deferred:function(x){var k=[["notify","progress",V.Callbacks("memory"),V.Callbacks("memory"),2],["resolve","done",V.Callbacks("once memory"),V.Callbacks("once memory"),0,"resolved"],["reject","fail",V.Callbacks("once memory"),V.Callbacks("once memory"),1,"rejected"]],U="pending",q={state:function(){return U},always:function(){return oe.done(arguments).fail(arguments),this},catch:function(he){return q.then(null,he)},pipe:function(){var he=arguments;return V.Deferred(function(Ee){V.each(k,function(Ce,$e){var ot=fe(he[$e[4]])&&he[$e[4]];oe[$e[1]](function(){var wt=ot&&ot.apply(this,arguments);wt&&fe(wt.promise)?wt.promise().progress(Ee.notify).done(Ee.resolve).fail(Ee.reject):Ee[$e[0]+"With"](this,ot?[wt]:arguments)})}),he=null}).promise()},then:function(he,Ee,Ce){var $e=0;function ot(wt,qt,st,Pt){return function(){var no=this,qn=arguments,xn=function(){var _r,ws;if(!(wt<$e)){if(_r=st.apply(no,qn),_r===qt.promise())throw new TypeError("Thenable self-resolution");ws=_r&&(typeof _r=="object"||typeof _r=="function")&&_r.then,fe(ws)?Pt?ws.call(_r,ot($e,qt,Ho,Pt),ot($e,qt,lo,Pt)):($e++,ws.call(_r,ot($e,qt,Ho,Pt),ot($e,qt,lo,Pt),ot($e,qt,Ho,qt.notifyWith))):(st!==Ho&&(no=void 0,qn=[_r]),(Pt||qt.resolveWith)(no,qn))}},yr=Pt?xn:function(){try{xn()}catch(_r){V.Deferred.exceptionHook&&V.Deferred.exceptionHook(_r,yr.stackTrace),wt+1>=$e&&(st!==lo&&(no=void 0,qn=[_r]),qt.rejectWith(no,qn))}};wt?yr():(V.Deferred.getStackHook&&(yr.stackTrace=V.Deferred.getStackHook()),c.setTimeout(yr))}}return V.Deferred(function(wt){k[0][3].add(ot(0,wt,fe(Ce)?Ce:Ho,wt.notifyWith)),k[1][3].add(ot(0,wt,fe(he)?he:Ho)),k[2][3].add(ot(0,wt,fe(Ee)?Ee:lo))}).promise()},promise:function(he){return he!=null?V.extend(he,q):q}},oe={};return V.each(k,function(he,Ee){var Ce=Ee[2],$e=Ee[5];q[Ee[1]]=Ce.add,$e&&Ce.add(function(){U=$e},k[3-he][2].disable,k[3-he][3].disable,k[0][2].lock,k[0][3].lock),Ce.add(Ee[3].fire),oe[Ee[0]]=function(){return oe[Ee[0]+"With"](this===oe?void 0:this,arguments),this},oe[Ee[0]+"With"]=Ce.fireWith}),q.promise(oe),x&&x.call(oe,oe),oe},when:function(x){var k=arguments.length,U=k,q=Array(U),oe=w.call(arguments),he=V.Deferred(),Ee=function(Ce){return function($e){q[Ce]=this,oe[Ce]=arguments.length>1?w.call(arguments):$e,--k||he.resolveWith(q,oe)}};if(k<=1&&(Vo(x,he.done(Ee(U)).resolve,he.reject,!k),he.state()==="pending"||fe(oe[U]&&oe[U].then)))return he.then();for(;U--;)Vo(oe[U],Ee(U),he.reject);return he.promise()}});var nt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;V.Deferred.exceptionHook=function(x,k){c.console&&c.console.warn&&x&&nt.test(x.name)&&c.console.warn("jQuery.Deferred exception: "+x.message,x.stack,k)},V.readyException=function(x){c.setTimeout(function(){throw x})};var Lt=V.Deferred();V.fn.ready=function(x){return Lt.then(x).catch(function(k){V.readyException(k)}),this},V.extend({isReady:!1,readyWait:1,ready:function(x){(x===!0?--V.readyWait:V.isReady)||(V.isReady=!0,!(x!==!0&&--V.readyWait>0)&&Lt.resolveWith(le,[V]))}}),V.ready.then=Lt.then;function X(){le.removeEventListener("DOMContentLoaded",X),c.removeEventListener("load",X),V.ready()}le.readyState==="complete"||le.readyState!=="loading"&&!le.documentElement.doScroll?c.setTimeout(V.ready):(le.addEventListener("DOMContentLoaded",X),c.addEventListener("load",X));var fs=function(x,k,U,q,oe,he,Ee){var Ce=0,$e=x.length,ot=U==null;if(ke(U)==="object"){oe=!0;for(Ce in U)fs(x,k,Ce,U[Ce],!0,he,Ee)}else if(q!==void 0&&(oe=!0,fe(q)||(Ee=!0),ot&&(Ee?(k.call(x,q),k=null):(ot=k,k=function(wt,qt,st){return ot.call(V(wt),st)})),k))for(;Ce<$e;Ce++)k(x[Ce],U,Ee?q:q.call(x[Ce],Ce,k(x[Ce],U)));return oe?x:ot?k.call(x):$e?k(x[0],U):he},po=/^-ms-/,Rs=/-([a-z])/g;function as(x,k){return k.toUpperCase()}function Ia(x){return x.replace(po,"ms-").replace(Rs,as)}var Fn=function(x){return x.nodeType===1||x.nodeType===9||!+x.nodeType};function ko(){this.expando=V.expando+ko.uid++}ko.uid=1,ko.prototype={cache:function(x){var k=x[this.expando];return k||(k={},Fn(x)&&(x.nodeType?x[this.expando]=k:Object.defineProperty(x,this.expando,{value:k,configurable:!0}))),k},set:function(x,k,U){var q,oe=this.cache(x);if(typeof k=="string")oe[Ia(k)]=U;else for(q in k)oe[Ia(q)]=k[q];return oe},get:function(x,k){return k===void 0?this.cache(x):x[this.expando]&&x[this.expando][Ia(k)]},access:function(x,k,U){return k===void 0||k&&typeof k=="string"&&U===void 0?this.get(x,k):(this.set(x,k,U),U!==void 0?U:k)},remove:function(x,k){var U,q=x[this.expando];if(q!==void 0){if(k!==void 0)for(Array.isArray(k)?k=k.map(Ia):(k=Ia(k),k=k in q?[k]:k.match(Ze)||[]),U=k.length;U--;)delete q[k[U]];(k===void 0||V.isEmptyObject(q))&&(x.nodeType?x[this.expando]=void 0:delete x[this.expando])}},hasData:function(x){var k=x[this.expando];return k!==void 0&&!V.isEmptyObject(k)}};var en=new ko,Ge=new ko,Gc=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,va=/[A-Z]/g;function Dn(x){return x==="true"?!0:x==="false"?!1:x==="null"?null:x===+x+""?+x:Gc.test(x)?JSON.parse(x):x}function ri(x,k,U){var q;if(U===void 0&&x.nodeType===1)if(q="data-"+k.replace(va,"-$&").toLowerCase(),U=x.getAttribute(q),typeof U=="string"){try{U=Dn(U)}catch{}Ge.set(x,k,U)}else U=void 0;return U}V.extend({hasData:function(x){return Ge.hasData(x)||en.hasData(x)},data:function(x,k,U){return Ge.access(x,k,U)},removeData:function(x,k){Ge.remove(x,k)},_data:function(x,k,U){return en.access(x,k,U)},_removeData:function(x,k){en.remove(x,k)}}),V.fn.extend({data:function(x,k){var U,q,oe,he=this[0],Ee=he&&he.attributes;if(x===void 0){if(this.length&&(oe=Ge.get(he),he.nodeType===1&&!en.get(he,"hasDataAttrs"))){for(U=Ee.length;U--;)Ee[U]&&(q=Ee[U].name,q.indexOf("data-")===0&&(q=Ia(q.slice(5)),ri(he,q,oe[q])));en.set(he,"hasDataAttrs",!0)}return oe}return typeof x=="object"?this.each(function(){Ge.set(this,x)}):fs(this,function(Ce){var $e;if(he&&Ce===void 0)return $e=Ge.get(he,x),$e!==void 0||($e=ri(he,x),$e!==void 0)?$e:void 0;this.each(function(){Ge.set(this,x,Ce)})},null,k,arguments.length>1,null,!0)},removeData:function(x){return this.each(function(){Ge.remove(this,x)})}}),V.extend({queue:function(x,k,U){var q;if(x)return k=(k||"fx")+"queue",q=en.get(x,k),U&&(!q||Array.isArray(U)?q=en.access(x,k,V.makeArray(U)):q.push(U)),q||[]},dequeue:function(x,k){k=k||"fx";var U=V.queue(x,k),q=U.length,oe=U.shift(),he=V._queueHooks(x,k),Ee=function(){V.dequeue(x,k)};oe==="inprogress"&&(oe=U.shift(),q--),oe&&(k==="fx"&&U.unshift("inprogress"),delete he.stop,oe.call(x,Ee,he)),!q&&he&&he.empty.fire()},_queueHooks:function(x,k){var U=k+"queueHooks";return en.get(x,U)||en.access(x,U,{empty:V.Callbacks("once memory").add(function(){en.remove(x,[k+"queue",U])})})}}),V.fn.extend({queue:function(x,k){var U=2;return typeof x!="string"&&(k=x,x="fx",U--),arguments.length<U?V.queue(this[0],x):k===void 0?this:this.each(function(){var q=V.queue(this,x,k);V._queueHooks(this,x),x==="fx"&&q[0]!=="inprogress"&&V.dequeue(this,x)})},dequeue:function(x){return this.each(function(){V.dequeue(this,x)})},clearQueue:function(x){return this.queue(x||"fx",[])},promise:function(x,k){var U,q=1,oe=V.Deferred(),he=this,Ee=this.length,Ce=function(){--q||oe.resolveWith(he,[he])};for(typeof x!="string"&&(k=x,x=void 0),x=x||"fx";Ee--;)U=en.get(he[Ee],x+"queueHooks"),U&&U.empty&&(q++,U.empty.add(Ce));return Ce(),oe.promise(k)}});var Us=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,jc=new RegExp("^(?:([+-])=|)("+Us+")([a-z%]*)$","i"),Is=["Top","Right","Bottom","Left"],zr=le.documentElement,lc=function(x){return V.contains(x.ownerDocument,x)},Ya={composed:!0};zr.getRootNode&&(lc=function(x){return V.contains(x.ownerDocument,x)||x.getRootNode(Ya)===x.ownerDocument});var Or=function(x,k){return x=k||x,x.style.display==="none"||x.style.display===""&&lc(x)&&V.css(x,"display")==="none"};function lr(x,k,U,q){var oe,he,Ee=20,Ce=q?function(){return q.cur()}:function(){return V.css(x,k,"")},$e=Ce(),ot=U&&U[3]||(V.cssNumber[k]?"":"px"),wt=x.nodeType&&(V.cssNumber[k]||ot!=="px"&&+$e)&&jc.exec(V.css(x,k));if(wt&&wt[3]!==ot){for($e=$e/2,ot=ot||wt[3],wt=+$e||1;Ee--;)V.style(x,k,wt+ot),(1-he)*(1-(he=Ce()/$e||.5))<=0&&(Ee=0),wt=wt/he;wt=wt*2,V.style(x,k,wt+ot),U=U||[]}return U&&(wt=+wt||+$e||0,oe=U[1]?wt+(U[1]+1)*U[2]:+U[2],q&&(q.unit=ot,q.start=wt,q.end=oe)),oe}var Jd={};function ii(x){var k,U=x.ownerDocument,q=x.nodeName,oe=Jd[q];return oe||(k=U.body.appendChild(U.createElement(q)),oe=V.css(k,"display"),k.parentNode.removeChild(k),oe==="none"&&(oe="block"),Jd[q]=oe,oe)}function Ls(x,k){for(var U,q,oe=[],he=0,Ee=x.length;he<Ee;he++)q=x[he],q.style&&(U=q.style.display,k?(U==="none"&&(oe[he]=en.get(q,"display")||null,oe[he]||(q.style.display="")),q.style.display===""&&Or(q)&&(oe[he]=ii(q))):U!=="none"&&(oe[he]="none",en.set(q,"display",U)));for(he=0;he<Ee;he++)oe[he]!=null&&(x[he].style.display=oe[he]);return x}V.fn.extend({show:function(){return Ls(this,!0)},hide:function(){return Ls(this)},toggle:function(x){return typeof x=="boolean"?x?this.show():this.hide():this.each(function(){Or(this)?V(this).show():V(this).hide()})}});var Zl=/^(?:checkbox|radio)$/i,ai=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Yl=/^$|^module$|\/(?:java|ecma)script/i;(function(){var x=le.createDocumentFragment(),k=x.appendChild(le.createElement("div")),U=le.createElement("input");U.setAttribute("type","radio"),U.setAttribute("checked","checked"),U.setAttribute("name","t"),k.appendChild(U),pe.checkClone=k.cloneNode(!0).cloneNode(!0).lastChild.checked,k.innerHTML="<textarea>x</textarea>",pe.noCloneChecked=!!k.cloneNode(!0).lastChild.defaultValue,k.innerHTML="<option></option>",pe.option=!!k.lastChild})();var Xs={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Xs.tbody=Xs.tfoot=Xs.colgroup=Xs.caption=Xs.thead,Xs.th=Xs.td,pe.option||(Xs.optgroup=Xs.option=[1,"<select multiple='multiple'>","</select>"]);function _i(x,k){var U;return typeof x.getElementsByTagName<"u"?U=x.getElementsByTagName(k||"*"):typeof x.querySelectorAll<"u"?U=x.querySelectorAll(k||"*"):U=[],k===void 0||k&&Te(x,k)?V.merge([x],U):U}function Wf(x,k){for(var U=0,q=x.length;U<q;U++)en.set(x[U],"globalEval",!k||en.get(k[U],"globalEval"))}var uc=/<|&#?\w+;/;function mm(x,k,U,q,oe){for(var he,Ee,Ce,$e,ot,wt,qt=k.createDocumentFragment(),st=[],Pt=0,no=x.length;Pt<no;Pt++)if(he=x[Pt],he||he===0)if(ke(he)==="object")V.merge(st,he.nodeType?[he]:he);else if(!uc.test(he))st.push(k.createTextNode(he));else{for(Ee=Ee||qt.appendChild(k.createElement("div")),Ce=(ai.exec(he)||["",""])[1].toLowerCase(),$e=Xs[Ce]||Xs._default,Ee.innerHTML=$e[1]+V.htmlPrefilter(he)+$e[2],wt=$e[0];wt--;)Ee=Ee.lastChild;V.merge(st,Ee.childNodes),Ee=qt.firstChild,Ee.textContent=""}for(qt.textContent="",Pt=0;he=st[Pt++];){if(q&&V.inArray(he,q)>-1){oe&&oe.push(he);continue}if(ot=lc(he),Ee=_i(qt.appendChild(he),"script"),ot&&Wf(Ee),U)for(wt=0;he=Ee[wt++];)Yl.test(he.type||"")&&U.push(he)}return qt}var dn=/^([^.]*)(?:\.(.+)|)/;function jo(){return!0}function Da(){return!1}function qc(x,k){return x===pm()==(k==="focus")}function pm(){try{return le.activeElement}catch{}}function Qu(x,k,U,q,oe,he){var Ee,Ce;if(typeof k=="object"){typeof U!="string"&&(q=q||U,U=void 0);for(Ce in k)Qu(x,Ce,U,q,k[Ce],he);return x}if(q==null&&oe==null?(oe=U,q=U=void 0):oe==null&&(typeof U=="string"?(oe=q,q=void 0):(oe=q,q=U,U=void 0)),oe===!1)oe=Da;else if(!oe)return x;return he===1&&(Ee=oe,oe=function($e){return V().off($e),Ee.apply(this,arguments)},oe.guid=Ee.guid||(Ee.guid=V.guid++)),x.each(function(){V.event.add(this,k,oe,q,U)})}V.event={global:{},add:function(x,k,U,q,oe){var he,Ee,Ce,$e,ot,wt,qt,st,Pt,no,qn,xn=en.get(x);if(Fn(x))for(U.handler&&(he=U,U=he.handler,oe=he.selector),oe&&V.find.matchesSelector(zr,oe),U.guid||(U.guid=V.guid++),($e=xn.events)||($e=xn.events=Object.create(null)),(Ee=xn.handle)||(Ee=xn.handle=function(yr){return typeof V<"u"&&V.event.triggered!==yr.type?V.event.dispatch.apply(x,arguments):void 0}),k=(k||"").match(Ze)||[""],ot=k.length;ot--;)Ce=dn.exec(k[ot])||[],Pt=qn=Ce[1],no=(Ce[2]||"").split(".").sort(),Pt&&(qt=V.event.special[Pt]||{},Pt=(oe?qt.delegateType:qt.bindType)||Pt,qt=V.event.special[Pt]||{},wt=V.extend({type:Pt,origType:qn,data:q,handler:U,guid:U.guid,selector:oe,needsContext:oe&&V.expr.match.needsContext.test(oe),namespace:no.join(".")},he),(st=$e[Pt])||(st=$e[Pt]=[],st.delegateCount=0,(!qt.setup||qt.setup.call(x,q,no,Ee)===!1)&&x.addEventListener&&x.addEventListener(Pt,Ee)),qt.add&&(qt.add.call(x,wt),wt.handler.guid||(wt.handler.guid=U.guid)),oe?st.splice(st.delegateCount++,0,wt):st.push(wt),V.event.global[Pt]=!0)},remove:function(x,k,U,q,oe){var he,Ee,Ce,$e,ot,wt,qt,st,Pt,no,qn,xn=en.hasData(x)&&en.get(x);if(!(!xn||!($e=xn.events))){for(k=(k||"").match(Ze)||[""],ot=k.length;ot--;){if(Ce=dn.exec(k[ot])||[],Pt=qn=Ce[1],no=(Ce[2]||"").split(".").sort(),!Pt){for(Pt in $e)V.event.remove(x,Pt+k[ot],U,q,!0);continue}for(qt=V.event.special[Pt]||{},Pt=(q?qt.delegateType:qt.bindType)||Pt,st=$e[Pt]||[],Ce=Ce[2]&&new RegExp("(^|\\.)"+no.join("\\.(?:.*\\.|)")+"(\\.|$)"),Ee=he=st.length;he--;)wt=st[he],(oe||qn===wt.origType)&&(!U||U.guid===wt.guid)&&(!Ce||Ce.test(wt.namespace))&&(!q||q===wt.selector||q==="**"&&wt.selector)&&(st.splice(he,1),wt.selector&&st.delegateCount--,qt.remove&&qt.remove.call(x,wt));Ee&&!st.length&&((!qt.teardown||qt.teardown.call(x,no,xn.handle)===!1)&&V.removeEvent(x,Pt,xn.handle),delete $e[Pt])}V.isEmptyObject($e)&&en.remove(x,"handle events")}},dispatch:function(x){var k,U,q,oe,he,Ee,Ce=new Array(arguments.length),$e=V.event.fix(x),ot=(en.get(this,"events")||Object.create(null))[$e.type]||[],wt=V.event.special[$e.type]||{};for(Ce[0]=$e,k=1;k<arguments.length;k++)Ce[k]=arguments[k];if($e.delegateTarget=this,!(wt.preDispatch&&wt.preDispatch.call(this,$e)===!1)){for(Ee=V.event.handlers.call(this,$e,ot),k=0;(oe=Ee[k++])&&!$e.isPropagationStopped();)for($e.currentTarget=oe.elem,U=0;(he=oe.handlers[U++])&&!$e.isImmediatePropagationStopped();)(!$e.rnamespace||he.namespace===!1||$e.rnamespace.test(he.namespace))&&($e.handleObj=he,$e.data=he.data,q=((V.event.special[he.origType]||{}).handle||he.handler).apply(oe.elem,Ce),q!==void 0&&($e.result=q)===!1&&($e.preventDefault(),$e.stopPropagation()));return wt.postDispatch&&wt.postDispatch.call(this,$e),$e.result}},handlers:function(x,k){var U,q,oe,he,Ee,Ce=[],$e=k.delegateCount,ot=x.target;if($e&&ot.nodeType&&!(x.type==="click"&&x.button>=1)){for(;ot!==this;ot=ot.parentNode||this)if(ot.nodeType===1&&!(x.type==="click"&&ot.disabled===!0)){for(he=[],Ee={},U=0;U<$e;U++)q=k[U],oe=q.selector+" ",Ee[oe]===void 0&&(Ee[oe]=q.needsContext?V(oe,this).index(ot)>-1:V.find(oe,this,null,[ot]).length),Ee[oe]&&he.push(q);he.length&&Ce.push({elem:ot,handlers:he})}}return ot=this,$e<k.length&&Ce.push({elem:ot,handlers:k.slice($e)}),Ce},addProp:function(x,k){Object.defineProperty(V.Event.prototype,x,{enumerable:!0,configurable:!0,get:fe(k)?function(){if(this.originalEvent)return k(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[x]},set:function(U){Object.defineProperty(this,x,{enumerable:!0,configurable:!0,writable:!0,value:U})}})},fix:function(x){return x[V.expando]?x:new V.Event(x)},special:{load:{noBubble:!0},click:{setup:function(x){var k=this||x;return Zl.test(k.type)&&k.click&&Te(k,"input")&&Ws(k,"click",jo),!1},trigger:function(x){var k=this||x;return Zl.test(k.type)&&k.click&&Te(k,"input")&&Ws(k,"click"),!0},_default:function(x){var k=x.target;return Zl.test(k.type)&&k.click&&Te(k,"input")&&en.get(k,"click")||Te(k,"a")}},beforeunload:{postDispatch:function(x){x.result!==void 0&&x.originalEvent&&(x.originalEvent.returnValue=x.result)}}}};function Ws(x,k,U){if(!U){en.get(x,k)===void 0&&V.event.add(x,k,jo);return}en.set(x,k,!1),V.event.add(x,k,{namespace:!1,handler:function(q){var oe,he,Ee=en.get(this,k);if(q.isTrigger&1&&this[k]){if(Ee.length)(V.event.special[k]||{}).delegateType&&q.stopPropagation();else if(Ee=w.call(arguments),en.set(this,k,Ee),oe=U(this,k),this[k](),he=en.get(this,k),Ee!==he||oe?en.set(this,k,!1):he={},Ee!==he)return q.stopImmediatePropagation(),q.preventDefault(),he&&he.value}else Ee.length&&(en.set(this,k,{value:V.event.trigger(V.extend(Ee[0],V.Event.prototype),Ee.slice(1),this)}),q.stopImmediatePropagation())}})}V.removeEvent=function(x,k,U){x.removeEventListener&&x.removeEventListener(k,U)},V.Event=function(x,k){if(!(this instanceof V.Event))return new V.Event(x,k);x&&x.type?(this.originalEvent=x,this.type=x.type,this.isDefaultPrevented=x.defaultPrevented||x.defaultPrevented===void 0&&x.returnValue===!1?jo:Da,this.target=x.target&&x.target.nodeType===3?x.target.parentNode:x.target,this.currentTarget=x.currentTarget,this.relatedTarget=x.relatedTarget):this.type=x,k&&V.extend(this,k),this.timeStamp=x&&x.timeStamp||Date.now(),this[V.expando]=!0},V.Event.prototype={constructor:V.Event,isDefaultPrevented:Da,isPropagationStopped:Da,isImmediatePropagationStopped:Da,isSimulated:!1,preventDefault:function(){var x=this.originalEvent;this.isDefaultPrevented=jo,x&&!this.isSimulated&&x.preventDefault()},stopPropagation:function(){var x=this.originalEvent;this.isPropagationStopped=jo,x&&!this.isSimulated&&x.stopPropagation()},stopImmediatePropagation:function(){var x=this.originalEvent;this.isImmediatePropagationStopped=jo,x&&!this.isSimulated&&x.stopImmediatePropagation(),this.stopPropagation()}},V.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},V.event.addProp),V.each({focus:"focusin",blur:"focusout"},function(x,k){V.event.special[x]={setup:function(){return Ws(this,x,qc),!1},trigger:function(){return Ws(this,x),!0},_default:function(U){return en.get(U.target,x)},delegateType:k}}),V.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(x,k){V.event.special[x]={delegateType:k,bindType:k,handle:function(U){var q,oe=this,he=U.relatedTarget,Ee=U.handleObj;return(!he||he!==oe&&!V.contains(oe,he))&&(U.type=Ee.origType,q=Ee.handler.apply(this,arguments),U.type=k),q}}}),V.fn.extend({on:function(x,k,U,q){return Qu(this,x,k,U,q)},one:function(x,k,U,q){return Qu(this,x,k,U,q,1)},off:function(x,k,U){var q,oe;if(x&&x.preventDefault&&x.handleObj)return q=x.handleObj,V(x.delegateTarget).off(q.namespace?q.origType+"."+q.namespace:q.origType,q.selector,q.handler),this;if(typeof x=="object"){for(oe in x)this.off(oe,k,x[oe]);return this}return(k===!1||typeof k=="function")&&(U=k,k=void 0),U===!1&&(U=Da),this.each(function(){V.event.remove(this,x,U,k)})}});var xu=/<script|<style|<link/i,Gf=/checked\s*(?:[^=]|=\s*.checked.)/i,gr=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function jn(x,k){return Te(x,"table")&&Te(k.nodeType!==11?k:k.firstChild,"tr")&&V(x).children("tbody")[0]||x}function dc(x){return x.type=(x.getAttribute("type")!==null)+"/"+x.type,x}function Ju(x){return(x.type||"").slice(0,5)==="true/"?x.type=x.type.slice(5):x.removeAttribute("type"),x}function Oh(x,k){var U,q,oe,he,Ee,Ce,$e;if(k.nodeType===1){if(en.hasData(x)&&(he=en.get(x),$e=he.events,$e)){en.remove(k,"handle events");for(oe in $e)for(U=0,q=$e[oe].length;U<q;U++)V.event.add(k,oe,$e[oe][U])}Ge.hasData(x)&&(Ee=Ge.access(x),Ce=V.extend({},Ee),Ge.set(k,Ce))}}function gp(x,k){var U=k.nodeName.toLowerCase();U==="input"&&Zl.test(x.type)?k.checked=x.checked:(U==="input"||U==="textarea")&&(k.defaultValue=x.defaultValue)}function ci(x,k,U,q){k=S(k);var oe,he,Ee,Ce,$e,ot,wt=0,qt=x.length,st=qt-1,Pt=k[0],no=fe(Pt);if(no||qt>1&&typeof Pt=="string"&&!pe.checkClone&&Gf.test(Pt))return x.each(function(qn){var xn=x.eq(qn);no&&(k[0]=Pt.call(this,qn,xn.html())),ci(xn,k,U,q)});if(qt&&(oe=mm(k,x[0].ownerDocument,!1,x,q),he=oe.firstChild,oe.childNodes.length===1&&(oe=he),he||q)){for(Ee=V.map(_i(oe,"script"),dc),Ce=Ee.length;wt<qt;wt++)$e=oe,wt!==st&&($e=V.clone($e,!0,!0),Ce&&V.merge(Ee,_i($e,"script"))),U.call(x[wt],$e,wt);if(Ce)for(ot=Ee[Ee.length-1].ownerDocument,V.map(Ee,Ju),wt=0;wt<Ce;wt++)$e=Ee[wt],Yl.test($e.type||"")&&!en.access($e,"globalEval")&&V.contains(ot,$e)&&($e.src&&($e.type||"").toLowerCase()!=="module"?V._evalUrl&&!$e.noModule&&V._evalUrl($e.src,{nonce:$e.nonce||$e.getAttribute("nonce")},ot):ee($e.textContent.replace(gr,""),$e,ot))}return x}function li(x,k,U){for(var q,oe=k?V.filter(k,x):x,he=0;(q=oe[he])!=null;he++)!U&&q.nodeType===1&&V.cleanData(_i(q)),q.parentNode&&(U&&lc(q)&&Wf(_i(q,"script")),q.parentNode.removeChild(q));return x}V.extend({htmlPrefilter:function(x){return x},clone:function(x,k,U){var q,oe,he,Ee,Ce=x.cloneNode(!0),$e=lc(x);if(!pe.noCloneChecked&&(x.nodeType===1||x.nodeType===11)&&!V.isXMLDoc(x))for(Ee=_i(Ce),he=_i(x),q=0,oe=he.length;q<oe;q++)gp(he[q],Ee[q]);if(k)if(U)for(he=he||_i(x),Ee=Ee||_i(Ce),q=0,oe=he.length;q<oe;q++)Oh(he[q],Ee[q]);else Oh(x,Ce);return Ee=_i(Ce,"script"),Ee.length>0&&Wf(Ee,!$e&&_i(x,"script")),Ce},cleanData:function(x){for(var k,U,q,oe=V.event.special,he=0;(U=x[he])!==void 0;he++)if(Fn(U)){if(k=U[en.expando]){if(k.events)for(q in k.events)oe[q]?V.event.remove(U,q):V.removeEvent(U,q,k.handle);U[en.expando]=void 0}U[Ge.expando]&&(U[Ge.expando]=void 0)}}}),V.fn.extend({detach:function(x){return li(this,x,!0)},remove:function(x){return li(this,x)},text:function(x){return fs(this,function(k){return k===void 0?V.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=k)})},null,x,arguments.length)},append:function(){return ci(this,arguments,function(x){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var k=jn(this,x);k.appendChild(x)}})},prepend:function(){return ci(this,arguments,function(x){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var k=jn(this,x);k.insertBefore(x,k.firstChild)}})},before:function(){return ci(this,arguments,function(x){this.parentNode&&this.parentNode.insertBefore(x,this)})},after:function(){return ci(this,arguments,function(x){this.parentNode&&this.parentNode.insertBefore(x,this.nextSibling)})},empty:function(){for(var x,k=0;(x=this[k])!=null;k++)x.nodeType===1&&(V.cleanData(_i(x,!1)),x.textContent="");return this},clone:function(x,k){return x=x??!1,k=k??x,this.map(function(){return V.clone(this,x,k)})},html:function(x){return fs(this,function(k){var U=this[0]||{},q=0,oe=this.length;if(k===void 0&&U.nodeType===1)return U.innerHTML;if(typeof k=="string"&&!xu.test(k)&&!Xs[(ai.exec(k)||["",""])[1].toLowerCase()]){k=V.htmlPrefilter(k);try{for(;q<oe;q++)U=this[q]||{},U.nodeType===1&&(V.cleanData(_i(U,!1)),U.innerHTML=k);U=0}catch{}}U&&this.empty().append(k)},null,x,arguments.length)},replaceWith:function(){var x=[];return ci(this,arguments,function(k){var U=this.parentNode;V.inArray(this,x)<0&&(V.cleanData(_i(this)),U&&U.replaceChild(k,this))},x)}}),V.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(x,k){V.fn[x]=function(U){for(var q,oe=[],he=V(U),Ee=he.length-1,Ce=0;Ce<=Ee;Ce++)q=Ce===Ee?this:this.clone(!0),V(he[Ce])[k](q),M.apply(oe,q.get());return this.pushStack(oe)}});var vr=new RegExp("^("+Us+")(?!px)[a-z%]+$","i"),Rc=/^--/,ef=function(x){var k=x.ownerDocument.defaultView;return(!k||!k.opener)&&(k=c),k.getComputedStyle(x)},Kl=function(x,k,U){var q,oe,he={};for(oe in k)he[oe]=x.style[oe],x.style[oe]=k[oe];q=U.call(x);for(oe in k)x.style[oe]=he[oe];return q},Zc=new RegExp(Is.join("|"),"i"),qr="[\\x20\\t\\r\\n\\f]",Al=new RegExp("^"+qr+"+|((?:^|[^\\\\])(?:\\\\.)*)"+qr+"+$","g");(function(){function x(){if(ot){$e.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",ot.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",zr.appendChild($e).appendChild(ot);var wt=c.getComputedStyle(ot);U=wt.top!=="1%",Ce=k(wt.marginLeft)===12,ot.style.right="60%",he=k(wt.right)===36,q=k(wt.width)===36,ot.style.position="absolute",oe=k(ot.offsetWidth/3)===12,zr.removeChild($e),ot=null}}function k(wt){return Math.round(parseFloat(wt))}var U,q,oe,he,Ee,Ce,$e=le.createElement("div"),ot=le.createElement("div");ot.style&&(ot.style.backgroundClip="content-box",ot.cloneNode(!0).style.backgroundClip="",pe.clearCloneStyle=ot.style.backgroundClip==="content-box",V.extend(pe,{boxSizingReliable:function(){return x(),q},pixelBoxStyles:function(){return x(),he},pixelPosition:function(){return x(),U},reliableMarginLeft:function(){return x(),Ce},scrollboxSize:function(){return x(),oe},reliableTrDimensions:function(){var wt,qt,st,Pt;return Ee==null&&(wt=le.createElement("table"),qt=le.createElement("tr"),st=le.createElement("div"),wt.style.cssText="position:absolute;left:-11111px;border-collapse:separate",qt.style.cssText="border:1px solid",qt.style.height="1px",st.style.height="9px",st.style.display="block",zr.appendChild(wt).appendChild(qt).appendChild(st),Pt=c.getComputedStyle(qt),Ee=parseInt(Pt.height,10)+parseInt(Pt.borderTopWidth,10)+parseInt(Pt.borderBottomWidth,10)===qt.offsetHeight,zr.removeChild(wt)),Ee}}))})();function Xl(x,k,U){var q,oe,he,Ee,Ce=Rc.test(k),$e=x.style;return U=U||ef(x),U&&(Ee=U.getPropertyValue(k)||U[k],Ce&&Ee&&(Ee=Ee.replace(Al,"$1")||void 0),Ee===""&&!lc(x)&&(Ee=V.style(x,k)),!pe.pixelBoxStyles()&&vr.test(Ee)&&Zc.test(k)&&(q=$e.width,oe=$e.minWidth,he=$e.maxWidth,$e.minWidth=$e.maxWidth=$e.width=Ee,Ee=U.width,$e.width=q,$e.minWidth=oe,$e.maxWidth=he)),Ee!==void 0?Ee+"":Ee}function Cg(x,k){return{get:function(){if(x()){delete this.get;return}return(this.get=k).apply(this,arguments)}}}var Sg=["Webkit","Moz","ms"],Ql=le.createElement("div").style,jf={};function et(x){for(var k=x[0].toUpperCase()+x.slice(1),U=Sg.length;U--;)if(x=Sg[U]+k,x in Ql)return x}function Xi(x){var k=V.cssProps[x]||jf[x];return k||(x in Ql?x:jf[x]=et(x)||x)}var qf=/^(none|table(?!-c[ea]).+)/,xg={position:"absolute",visibility:"hidden",display:"block"},gm={letterSpacing:"0",fontWeight:"400"};function Gs(x,k,U){var q=jc.exec(k);return q?Math.max(0,q[2]-(U||0))+(q[3]||"px"):k}function tf(x,k,U,q,oe,he){var Ee=k==="width"?1:0,Ce=0,$e=0;if(U===(q?"border":"content"))return 0;for(;Ee<4;Ee+=2)U==="margin"&&($e+=V.css(x,U+Is[Ee],!0,oe)),q?(U==="content"&&($e-=V.css(x,"padding"+Is[Ee],!0,oe)),U!=="margin"&&($e-=V.css(x,"border"+Is[Ee]+"Width",!0,oe))):($e+=V.css(x,"padding"+Is[Ee],!0,oe),U!=="padding"?$e+=V.css(x,"border"+Is[Ee]+"Width",!0,oe):Ce+=V.css(x,"border"+Is[Ee]+"Width",!0,oe));return!q&&he>=0&&($e+=Math.max(0,Math.ceil(x["offset"+k[0].toUpperCase()+k.slice(1)]-he-$e-Ce-.5))||0),$e}function vp(x,k,U){var q=ef(x),oe=!pe.boxSizingReliable()||U,he=oe&&V.css(x,"boxSizing",!1,q)==="border-box",Ee=he,Ce=Xl(x,k,q),$e="offset"+k[0].toUpperCase()+k.slice(1);if(vr.test(Ce)){if(!U)return Ce;Ce="auto"}return(!pe.boxSizingReliable()&&he||!pe.reliableTrDimensions()&&Te(x,"tr")||Ce==="auto"||!parseFloat(Ce)&&V.css(x,"display",!1,q)==="inline")&&x.getClientRects().length&&(he=V.css(x,"boxSizing",!1,q)==="border-box",Ee=$e in x,Ee&&(Ce=x[$e])),Ce=parseFloat(Ce)||0,Ce+tf(x,k,U||(he?"border":"content"),Ee,q,Ce)+"px"}V.extend({cssHooks:{opacity:{get:function(x,k){if(k){var U=Xl(x,"opacity");return U===""?"1":U}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(x,k,U,q){if(!(!x||x.nodeType===3||x.nodeType===8||!x.style)){var oe,he,Ee,Ce=Ia(k),$e=Rc.test(k),ot=x.style;if($e||(k=Xi(Ce)),Ee=V.cssHooks[k]||V.cssHooks[Ce],U!==void 0){if(he=typeof U,he==="string"&&(oe=jc.exec(U))&&oe[1]&&(U=lr(x,k,oe),he="number"),U==null||U!==U)return;he==="number"&&!$e&&(U+=oe&&oe[3]||(V.cssNumber[Ce]?"":"px")),!pe.clearCloneStyle&&U===""&&k.indexOf("background")===0&&(ot[k]="inherit"),(!Ee||!("set"in Ee)||(U=Ee.set(x,U,q))!==void 0)&&($e?ot.setProperty(k,U):ot[k]=U)}else return Ee&&"get"in Ee&&(oe=Ee.get(x,!1,q))!==void 0?oe:ot[k]}},css:function(x,k,U,q){var oe,he,Ee,Ce=Ia(k),$e=Rc.test(k);return $e||(k=Xi(Ce)),Ee=V.cssHooks[k]||V.cssHooks[Ce],Ee&&"get"in Ee&&(oe=Ee.get(x,!0,U)),oe===void 0&&(oe=Xl(x,k,q)),oe==="normal"&&k in gm&&(oe=gm[k]),U===""||U?(he=parseFloat(oe),U===!0||isFinite(he)?he||0:oe):oe}}),V.each(["height","width"],function(x,k){V.cssHooks[k]={get:function(U,q,oe){if(q)return qf.test(V.css(U,"display"))&&(!U.getClientRects().length||!U.getBoundingClientRect().width)?Kl(U,xg,function(){return vp(U,k,oe)}):vp(U,k,oe)},set:function(U,q,oe){var he,Ee=ef(U),Ce=!pe.scrollboxSize()&&Ee.position==="absolute",$e=Ce||oe,ot=$e&&V.css(U,"boxSizing",!1,Ee)==="border-box",wt=oe?tf(U,k,oe,ot,Ee):0;return ot&&Ce&&(wt-=Math.ceil(U["offset"+k[0].toUpperCase()+k.slice(1)]-parseFloat(Ee[k])-tf(U,k,"border",!1,Ee)-.5)),wt&&(he=jc.exec(q))&&(he[3]||"px")!=="px"&&(U.style[k]=q,q=V.css(U,k)),Gs(U,q,wt)}}}),V.cssHooks.marginLeft=Cg(pe.reliableMarginLeft,function(x,k){if(k)return(parseFloat(Xl(x,"marginLeft"))||x.getBoundingClientRect().left-Kl(x,{marginLeft:0},function(){return x.getBoundingClientRect().left}))+"px"}),V.each({margin:"",padding:"",border:"Width"},function(x,k){V.cssHooks[x+k]={expand:function(U){for(var q=0,oe={},he=typeof U=="string"?U.split(" "):[U];q<4;q++)oe[x+Is[q]+k]=he[q]||he[q-2]||he[0];return oe}},x!=="margin"&&(V.cssHooks[x+k].set=Gs)}),V.fn.extend({css:function(x,k){return fs(this,function(U,q,oe){var he,Ee,Ce={},$e=0;if(Array.isArray(q)){for(he=ef(U),Ee=q.length;$e<Ee;$e++)Ce[q[$e]]=V.css(U,q[$e],!1,he);return Ce}return oe!==void 0?V.style(U,q,oe):V.css(U,q)},x,k,arguments.length>1)}});function Ma(x,k,U,q,oe){return new Ma.prototype.init(x,k,U,q,oe)}V.Tween=Ma,Ma.prototype={constructor:Ma,init:function(x,k,U,q,oe,he){this.elem=x,this.prop=U,this.easing=oe||V.easing._default,this.options=k,this.start=this.now=this.cur(),this.end=q,this.unit=he||(V.cssNumber[U]?"":"px")},cur:function(){var x=Ma.propHooks[this.prop];return x&&x.get?x.get(this):Ma.propHooks._default.get(this)},run:function(x){var k,U=Ma.propHooks[this.prop];return this.options.duration?this.pos=k=V.easing[this.easing](x,this.options.duration*x,0,1,this.options.duration):this.pos=k=x,this.now=(this.end-this.start)*k+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),U&&U.set?U.set(this):Ma.propHooks._default.set(this),this}},Ma.prototype.init.prototype=Ma.prototype,Ma.propHooks={_default:{get:function(x){var k;return x.elem.nodeType!==1||x.elem[x.prop]!=null&&x.elem.style[x.prop]==null?x.elem[x.prop]:(k=V.css(x.elem,x.prop,""),!k||k==="auto"?0:k)},set:function(x){V.fx.step[x.prop]?V.fx.step[x.prop](x):x.elem.nodeType===1&&(V.cssHooks[x.prop]||x.elem.style[Xi(x.prop)]!=null)?V.style(x.elem,x.prop,x.now+x.unit):x.elem[x.prop]=x.now}}},Ma.propHooks.scrollTop=Ma.propHooks.scrollLeft={set:function(x){x.elem.nodeType&&x.elem.parentNode&&(x.elem[x.prop]=x.now)}},V.easing={linear:function(x){return x},swing:function(x){return .5-Math.cos(x*Math.PI)/2},_default:"swing"},V.fx=Ma.prototype.init,V.fx.step={};var Jl,Ei,Li=/^(?:toggle|show|hide)$/,ed=/queueHooks$/;function Ic(){Ei&&(le.hidden===!1&&c.requestAnimationFrame?c.requestAnimationFrame(Ic):c.setTimeout(Ic,V.fx.interval),V.fx.tick())}function td(){return c.setTimeout(function(){Jl=void 0}),Jl=Date.now()}function Dc(x,k){var U,q=0,oe={height:x};for(k=k?1:0;q<4;q+=2-k)U=Is[q],oe["margin"+U]=oe["padding"+U]=x;return k&&(oe.opacity=oe.width=x),oe}function nf(x,k,U){for(var q,oe=(Ol.tweeners[k]||[]).concat(Ol.tweeners["*"]),he=0,Ee=oe.length;he<Ee;he++)if(q=oe[he].call(U,k,x))return q}function $s(x,k,U){var q,oe,he,Ee,Ce,$e,ot,wt,qt="width"in k||"height"in k,st=this,Pt={},no=x.style,qn=x.nodeType&&Or(x),xn=en.get(x,"fxshow");U.queue||(Ee=V._queueHooks(x,"fx"),Ee.unqueued==null&&(Ee.unqueued=0,Ce=Ee.empty.fire,Ee.empty.fire=function(){Ee.unqueued||Ce()}),Ee.unqueued++,st.always(function(){st.always(function(){Ee.unqueued--,V.queue(x,"fx").length||Ee.empty.fire()})}));for(q in k)if(oe=k[q],Li.test(oe)){if(delete k[q],he=he||oe==="toggle",oe===(qn?"hide":"show"))if(oe==="show"&&xn&&xn[q]!==void 0)qn=!0;else continue;Pt[q]=xn&&xn[q]||V.style(x,q)}if($e=!V.isEmptyObject(k),!(!$e&&V.isEmptyObject(Pt))){qt&&x.nodeType===1&&(U.overflow=[no.overflow,no.overflowX,no.overflowY],ot=xn&&xn.display,ot==null&&(ot=en.get(x,"display")),wt=V.css(x,"display"),wt==="none"&&(ot?wt=ot:(Ls([x],!0),ot=x.style.display||ot,wt=V.css(x,"display"),Ls([x]))),(wt==="inline"||wt==="inline-block"&&ot!=null)&&V.css(x,"float")==="none"&&($e||(st.done(function(){no.display=ot}),ot==null&&(wt=no.display,ot=wt==="none"?"":wt)),no.display="inline-block")),U.overflow&&(no.overflow="hidden",st.always(function(){no.overflow=U.overflow[0],no.overflowX=U.overflow[1],no.overflowY=U.overflow[2]})),$e=!1;for(q in Pt)$e||(xn?"hidden"in xn&&(qn=xn.hidden):xn=en.access(x,"fxshow",{display:ot}),he&&(xn.hidden=!qn),qn&&Ls([x],!0),st.done(function(){qn||Ls([x]),en.remove(x,"fxshow");for(q in Pt)V.style(x,q,Pt[q])})),$e=nf(qn?xn[q]:0,q,st),q in xn||(xn[q]=$e.start,qn&&($e.end=$e.start,$e.start=0))}}function $i(x,k){var U,q,oe,he,Ee;for(U in x)if(q=Ia(U),oe=k[q],he=x[U],Array.isArray(he)&&(oe=he[1],he=x[U]=he[0]),U!==q&&(x[q]=he,delete x[U]),Ee=V.cssHooks[q],Ee&&"expand"in Ee){he=Ee.expand(he),delete x[q];for(U in he)U in x||(x[U]=he[U],k[U]=oe)}else k[q]=oe}function Ol(x,k,U){var q,oe,he=0,Ee=Ol.prefilters.length,Ce=V.Deferred().always(function(){delete $e.elem}),$e=function(){if(oe)return!1;for(var qt=Jl||td(),st=Math.max(0,ot.startTime+ot.duration-qt),Pt=st/ot.duration||0,no=1-Pt,qn=0,xn=ot.tweens.length;qn<xn;qn++)ot.tweens[qn].run(no);return Ce.notifyWith(x,[ot,no,st]),no<1&&xn?st:(xn||Ce.notifyWith(x,[ot,1,0]),Ce.resolveWith(x,[ot]),!1)},ot=Ce.promise({elem:x,props:V.extend({},k),opts:V.extend(!0,{specialEasing:{},easing:V.easing._default},U),originalProperties:k,originalOptions:U,startTime:Jl||td(),duration:U.duration,tweens:[],createTween:function(qt,st){var Pt=V.Tween(x,ot.opts,qt,st,ot.opts.specialEasing[qt]||ot.opts.easing);return ot.tweens.push(Pt),Pt},stop:function(qt){var st=0,Pt=qt?ot.tweens.length:0;if(oe)return this;for(oe=!0;st<Pt;st++)ot.tweens[st].run(1);return qt?(Ce.notifyWith(x,[ot,1,0]),Ce.resolveWith(x,[ot,qt])):Ce.rejectWith(x,[ot,qt]),this}}),wt=ot.props;for($i(wt,ot.opts.specialEasing);he<Ee;he++)if(q=Ol.prefilters[he].call(ot,x,wt,ot.opts),q)return fe(q.stop)&&(V._queueHooks(ot.elem,ot.opts.queue).stop=q.stop.bind(q)),q;return V.map(wt,nf,ot),fe(ot.opts.start)&&ot.opts.start.call(x,ot),ot.progress(ot.opts.progress).done(ot.opts.done,ot.opts.complete).fail(ot.opts.fail).always(ot.opts.always),V.fx.timer(V.extend($e,{elem:x,anim:ot,queue:ot.opts.queue})),ot}V.Animation=V.extend(Ol,{tweeners:{"*":[function(x,k){var U=this.createTween(x,k);return lr(U.elem,x,jc.exec(k),U),U}]},tweener:function(x,k){fe(x)?(k=x,x=["*"]):x=x.match(Ze);for(var U,q=0,oe=x.length;q<oe;q++)U=x[q],Ol.tweeners[U]=Ol.tweeners[U]||[],Ol.tweeners[U].unshift(k)},prefilters:[$s],prefilter:function(x,k){k?Ol.prefilters.unshift(x):Ol.prefilters.push(x)}}),V.speed=function(x,k,U){var q=x&&typeof x=="object"?V.extend({},x):{complete:U||!U&&k||fe(x)&&x,duration:x,easing:U&&k||k&&!fe(k)&&k};return V.fx.off?q.duration=0:typeof q.duration!="number"&&(q.duration in V.fx.speeds?q.duration=V.fx.speeds[q.duration]:q.duration=V.fx.speeds._default),(q.queue==null||q.queue===!0)&&(q.queue="fx"),q.old=q.complete,q.complete=function(){fe(q.old)&&q.old.call(this),q.queue&&V.dequeue(this,q.queue)},q},V.fn.extend({fadeTo:function(x,k,U,q){return this.filter(Or).css("opacity",0).show().end().animate({opacity:k},x,U,q)},animate:function(x,k,U,q){var oe=V.isEmptyObject(x),he=V.speed(k,U,q),Ee=function(){var Ce=Ol(this,V.extend({},x),he);(oe||en.get(this,"finish"))&&Ce.stop(!0)};return Ee.finish=Ee,oe||he.queue===!1?this.each(Ee):this.queue(he.queue,Ee)},stop:function(x,k,U){var q=function(oe){var he=oe.stop;delete oe.stop,he(U)};return typeof x!="string"&&(U=k,k=x,x=void 0),k&&this.queue(x||"fx",[]),this.each(function(){var oe=!0,he=x!=null&&x+"queueHooks",Ee=V.timers,Ce=en.get(this);if(he)Ce[he]&&Ce[he].stop&&q(Ce[he]);else for(he in Ce)Ce[he]&&Ce[he].stop&&ed.test(he)&&q(Ce[he]);for(he=Ee.length;he--;)Ee[he].elem===this&&(x==null||Ee[he].queue===x)&&(Ee[he].anim.stop(U),oe=!1,Ee.splice(he,1));(oe||!U)&&V.dequeue(this,x)})},finish:function(x){return x!==!1&&(x=x||"fx"),this.each(function(){var k,U=en.get(this),q=U[x+"queue"],oe=U[x+"queueHooks"],he=V.timers,Ee=q?q.length:0;for(U.finish=!0,V.queue(this,x,[]),oe&&oe.stop&&oe.stop.call(this,!0),k=he.length;k--;)he[k].elem===this&&he[k].queue===x&&(he[k].anim.stop(!0),he.splice(k,1));for(k=0;k<Ee;k++)q[k]&&q[k].finish&&q[k].finish.call(this);delete U.finish})}}),V.each(["toggle","show","hide"],function(x,k){var U=V.fn[k];V.fn[k]=function(q,oe,he){return q==null||typeof q=="boolean"?U.apply(this,arguments):this.animate(Dc(k,!0),q,oe,he)}}),V.each({slideDown:Dc("show"),slideUp:Dc("hide"),slideToggle:Dc("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(x,k){V.fn[x]=function(U,q,oe){return this.animate(k,U,q,oe)}}),V.timers=[],V.fx.tick=function(){var x,k=0,U=V.timers;for(Jl=Date.now();k<U.length;k++)x=U[k],!x()&&U[k]===x&&U.splice(k--,1);U.length||V.fx.stop(),Jl=void 0},V.fx.timer=function(x){V.timers.push(x),V.fx.start()},V.fx.interval=13,V.fx.start=function(){Ei||(Ei=!0,Ic())},V.fx.stop=function(){Ei=null},V.fx.speeds={slow:600,fast:200,_default:400},V.fn.delay=function(x,k){return x=V.fx&&V.fx.speeds[x]||x,k=k||"fx",this.queue(k,function(U,q){var oe=c.setTimeout(U,x);q.stop=function(){c.clearTimeout(oe)}})},function(){var x=le.createElement("input"),k=le.createElement("select"),U=k.appendChild(le.createElement("option"));x.type="checkbox",pe.checkOn=x.value!=="",pe.optSelected=U.selected,x=le.createElement("input"),x.value="t",x.type="radio",pe.radioValue=x.value==="t"}();var Md,hl=V.expr.attrHandle;V.fn.extend({attr:function(x,k){return fs(this,V.attr,x,k,arguments.length>1)},removeAttr:function(x){return this.each(function(){V.removeAttr(this,x)})}}),V.extend({attr:function(x,k,U){var q,oe,he=x.nodeType;if(!(he===3||he===8||he===2)){if(typeof x.getAttribute>"u")return V.prop(x,k,U);if((he!==1||!V.isXMLDoc(x))&&(oe=V.attrHooks[k.toLowerCase()]||(V.expr.match.bool.test(k)?Md:void 0)),U!==void 0){if(U===null){V.removeAttr(x,k);return}return oe&&"set"in oe&&(q=oe.set(x,U,k))!==void 0?q:(x.setAttribute(k,U+""),U)}return oe&&"get"in oe&&(q=oe.get(x,k))!==null?q:(q=V.find.attr(x,k),q??void 0)}},attrHooks:{type:{set:function(x,k){if(!pe.radioValue&&k==="radio"&&Te(x,"input")){var U=x.value;return x.setAttribute("type",k),U&&(x.value=U),k}}}},removeAttr:function(x,k){var U,q=0,oe=k&&k.match(Ze);if(oe&&x.nodeType===1)for(;U=oe[q++];)x.removeAttribute(U)}}),Md={set:function(x,k,U){return k===!1?V.removeAttr(x,U):x.setAttribute(U,U),U}},V.each(V.expr.match.bool.source.match(/\w+/g),function(x,k){var U=hl[k]||V.find.attr;hl[k]=function(q,oe,he){var Ee,Ce,$e=oe.toLowerCase();return he||(Ce=hl[$e],hl[$e]=Ee,Ee=U(q,oe,he)!=null?$e:null,hl[$e]=Ce),Ee}});var Yc=/^(?:input|select|textarea|button)$/i,Nr=/^(?:a|area)$/i;V.fn.extend({prop:function(x,k){return fs(this,V.prop,x,k,arguments.length>1)},removeProp:function(x){return this.each(function(){delete this[V.propFix[x]||x]})}}),V.extend({prop:function(x,k,U){var q,oe,he=x.nodeType;if(!(he===3||he===8||he===2))return(he!==1||!V.isXMLDoc(x))&&(k=V.propFix[k]||k,oe=V.propHooks[k]),U!==void 0?oe&&"set"in oe&&(q=oe.set(x,U,k))!==void 0?q:x[k]=U:oe&&"get"in oe&&(q=oe.get(x,k))!==null?q:x[k]},propHooks:{tabIndex:{get:function(x){var k=V.find.attr(x,"tabindex");return k?parseInt(k,10):Yc.test(x.nodeName)||Nr.test(x.nodeName)&&x.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),pe.optSelected||(V.propHooks.selected={get:function(x){var k=x.parentNode;return k&&k.parentNode&&k.parentNode.selectedIndex,null},set:function(x){var k=x.parentNode;k&&(k.selectedIndex,k.parentNode&&k.parentNode.selectedIndex)}}),V.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){V.propFix[this.toLowerCase()]=this});function of(x){var k=x.match(Ze)||[];return k.join(" ")}function eu(x){return x.getAttribute&&x.getAttribute("class")||""}function us(x){return Array.isArray(x)?x:typeof x=="string"?x.match(Ze)||[]:[]}V.fn.extend({addClass:function(x){var k,U,q,oe,he,Ee;return fe(x)?this.each(function(Ce){V(this).addClass(x.call(this,Ce,eu(this)))}):(k=us(x),k.length?this.each(function(){if(q=eu(this),U=this.nodeType===1&&" "+of(q)+" ",U){for(he=0;he<k.length;he++)oe=k[he],U.indexOf(" "+oe+" ")<0&&(U+=oe+" ");Ee=of(U),q!==Ee&&this.setAttribute("class",Ee)}}):this)},removeClass:function(x){var k,U,q,oe,he,Ee;return fe(x)?this.each(function(Ce){V(this).removeClass(x.call(this,Ce,eu(this)))}):arguments.length?(k=us(x),k.length?this.each(function(){if(q=eu(this),U=this.nodeType===1&&" "+of(q)+" ",U){for(he=0;he<k.length;he++)for(oe=k[he];U.indexOf(" "+oe+" ")>-1;)U=U.replace(" "+oe+" "," ");Ee=of(U),q!==Ee&&this.setAttribute("class",Ee)}}):this):this.attr("class","")},toggleClass:function(x,k){var U,q,oe,he,Ee=typeof x,Ce=Ee==="string"||Array.isArray(x);return fe(x)?this.each(function($e){V(this).toggleClass(x.call(this,$e,eu(this),k),k)}):typeof k=="boolean"&&Ce?k?this.addClass(x):this.removeClass(x):(U=us(x),this.each(function(){if(Ce)for(he=V(this),oe=0;oe<U.length;oe++)q=U[oe],he.hasClass(q)?he.removeClass(q):he.addClass(q);else(x===void 0||Ee==="boolean")&&(q=eu(this),q&&en.set(this,"__className__",q),this.setAttribute&&this.setAttribute("class",q||x===!1?"":en.get(this,"__className__")||""))}))},hasClass:function(x){var k,U,q=0;for(k=" "+x+" ";U=this[q++];)if(U.nodeType===1&&(" "+of(eu(U))+" ").indexOf(k)>-1)return!0;return!1}});var Na=/\r/g;V.fn.extend({val:function(x){var k,U,q,oe=this[0];return arguments.length?(q=fe(x),this.each(function(he){var Ee;this.nodeType===1&&(q?Ee=x.call(this,he,V(this).val()):Ee=x,Ee==null?Ee="":typeof Ee=="number"?Ee+="":Array.isArray(Ee)&&(Ee=V.map(Ee,function(Ce){return Ce==null?"":Ce+""})),k=V.valHooks[this.type]||V.valHooks[this.nodeName.toLowerCase()],(!k||!("set"in k)||k.set(this,Ee,"value")===void 0)&&(this.value=Ee))})):oe?(k=V.valHooks[oe.type]||V.valHooks[oe.nodeName.toLowerCase()],k&&"get"in k&&(U=k.get(oe,"value"))!==void 0?U:(U=oe.value,typeof U=="string"?U.replace(Na,""):U??"")):void 0}}),V.extend({valHooks:{option:{get:function(x){var k=V.find.attr(x,"value");return k??of(V.text(x))}},select:{get:function(x){var k,U,q,oe=x.options,he=x.selectedIndex,Ee=x.type==="select-one",Ce=Ee?null:[],$e=Ee?he+1:oe.length;for(he<0?q=$e:q=Ee?he:0;q<$e;q++)if(U=oe[q],(U.selected||q===he)&&!U.disabled&&(!U.parentNode.disabled||!Te(U.parentNode,"optgroup"))){if(k=V(U).val(),Ee)return k;Ce.push(k)}return Ce},set:function(x,k){for(var U,q,oe=x.options,he=V.makeArray(k),Ee=oe.length;Ee--;)q=oe[Ee],(q.selected=V.inArray(V.valHooks.option.get(q),he)>-1)&&(U=!0);return U||(x.selectedIndex=-1),he}}}}),V.each(["radio","checkbox"],function(){V.valHooks[this]={set:function(x,k){if(Array.isArray(k))return x.checked=V.inArray(V(x).val(),k)>-1}},pe.checkOn||(V.valHooks[this].get=function(x){return x.getAttribute("value")===null?"on":x.value})}),pe.focusin="onfocusin"in c;var Qi=/^(?:focusinfocus|focusoutblur)$/,Bi=function(x){x.stopPropagation()};V.extend(V.event,{trigger:function(x,k,U,q){var oe,he,Ee,Ce,$e,ot,wt,qt,st=[U||le],Pt=J.call(x,"type")?x.type:x,no=J.call(x,"namespace")?x.namespace.split("."):[];if(he=qt=Ee=U=U||le,!(U.nodeType===3||U.nodeType===8)&&!Qi.test(Pt+V.event.triggered)&&(Pt.indexOf(".")>-1&&(no=Pt.split("."),Pt=no.shift(),no.sort()),$e=Pt.indexOf(":")<0&&"on"+Pt,x=x[V.expando]?x:new V.Event(Pt,typeof x=="object"&&x),x.isTrigger=q?2:3,x.namespace=no.join("."),x.rnamespace=x.namespace?new RegExp("(^|\\.)"+no.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,x.result=void 0,x.target||(x.target=U),k=k==null?[x]:V.makeArray(k,[x]),wt=V.event.special[Pt]||{},!(!q&&wt.trigger&&wt.trigger.apply(U,k)===!1))){if(!q&&!wt.noBubble&&!ue(U)){for(Ce=wt.delegateType||Pt,Qi.test(Ce+Pt)||(he=he.parentNode);he;he=he.parentNode)st.push(he),Ee=he;Ee===(U.ownerDocument||le)&&st.push(Ee.defaultView||Ee.parentWindow||c)}for(oe=0;(he=st[oe++])&&!x.isPropagationStopped();)qt=he,x.type=oe>1?Ce:wt.bindType||Pt,ot=(en.get(he,"events")||Object.create(null))[x.type]&&en.get(he,"handle"),ot&&ot.apply(he,k),ot=$e&&he[$e],ot&&ot.apply&&Fn(he)&&(x.result=ot.apply(he,k),x.result===!1&&x.preventDefault());return x.type=Pt,!q&&!x.isDefaultPrevented()&&(!wt._default||wt._default.apply(st.pop(),k)===!1)&&Fn(U)&&$e&&fe(U[Pt])&&!ue(U)&&(Ee=U[$e],Ee&&(U[$e]=null),V.event.triggered=Pt,x.isPropagationStopped()&&qt.addEventListener(Pt,Bi),U[Pt](),x.isPropagationStopped()&&qt.removeEventListener(Pt,Bi),V.event.triggered=void 0,Ee&&(U[$e]=Ee)),x.result}},simulate:function(x,k,U){var q=V.extend(new V.Event,U,{type:x,isSimulated:!0});V.event.trigger(q,null,k)}}),V.fn.extend({trigger:function(x,k){return this.each(function(){V.event.trigger(x,k,this)})},triggerHandler:function(x,k){var U=this[0];if(U)return V.event.trigger(x,k,U,!0)}}),pe.focusin||V.each({focus:"focusin",blur:"focusout"},function(x,k){var U=function(q){V.event.simulate(k,q.target,V.event.fix(q))};V.event.special[k]={setup:function(){var q=this.ownerDocument||this.document||this,oe=en.access(q,k);oe||q.addEventListener(x,U,!0),en.access(q,k,(oe||0)+1)},teardown:function(){var q=this.ownerDocument||this.document||this,oe=en.access(q,k)-1;oe?en.access(q,k,oe):(q.removeEventListener(x,U,!0),en.remove(q,k))}}});var nd=c.location,Nd={guid:Date.now()},Kc=/\?/;V.parseXML=function(x){var k,U;if(!x||typeof x!="string")return null;try{k=new c.DOMParser().parseFromString(x,"text/xml")}catch{}return U=k&&k.getElementsByTagName("parsererror")[0],(!k||U)&&V.error("Invalid XML: "+(U?V.map(U.childNodes,function(q){return q.textContent}).join(`
`):x)),k};var ml=/\[\]$/,sf=/\r?\n/g,vm=/^(?:submit|button|image|reset|file)$/i,Ag=/^(?:input|select|textarea|keygen)/i;function ka(x,k,U,q){var oe;if(Array.isArray(k))V.each(k,function(he,Ee){U||ml.test(x)?q(x,Ee):ka(x+"["+(typeof Ee=="object"&&Ee!=null?he:"")+"]",Ee,U,q)});else if(!U&&ke(k)==="object")for(oe in k)ka(x+"["+oe+"]",k[oe],U,q);else q(x,k)}V.param=function(x,k){var U,q=[],oe=function(he,Ee){var Ce=fe(Ee)?Ee():Ee;q[q.length]=encodeURIComponent(he)+"="+encodeURIComponent(Ce??"")};if(x==null)return"";if(Array.isArray(x)||x.jquery&&!V.isPlainObject(x))V.each(x,function(){oe(this.name,this.value)});else for(U in x)ka(U,x[U],k,oe);return q.join("&")},V.fn.extend({serialize:function(){return V.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var x=V.prop(this,"elements");return x?V.makeArray(x):this}).filter(function(){var x=this.type;return this.name&&!V(this).is(":disabled")&&Ag.test(this.nodeName)&&!vm.test(x)&&(this.checked||!Zl.test(x))}).map(function(x,k){var U=V(this).val();return U==null?null:Array.isArray(U)?V.map(U,function(q){return{name:k.name,value:q.replace(sf,`\r
`)}}):{name:k.name,value:U.replace(sf,`\r
`)}}).get()}});var wi=/%20/g,fc=/#.*$/,Mc=/([?&])_=[^&]*/,Pa=/^(.*?):[ \t]*([^\r\n]*)$/mg,rf=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,af=/^(?:GET|HEAD)$/,Rl=/^\/\//,Ti={},Ji={},Au="*/".concat("*"),od=le.createElement("a");od.href=nd.href;function bp(x){return function(k,U){typeof k!="string"&&(U=k,k="*");var q,oe=0,he=k.toLowerCase().match(Ze)||[];if(fe(U))for(;q=he[oe++];)q[0]==="+"?(q=q.slice(1)||"*",(x[q]=x[q]||[]).unshift(U)):(x[q]=x[q]||[]).push(U)}}function Bs(x,k,U,q){var oe={},he=x===Ji;function Ee(Ce){var $e;return oe[Ce]=!0,V.each(x[Ce]||[],function(ot,wt){var qt=wt(k,U,q);if(typeof qt=="string"&&!he&&!oe[qt])return k.dataTypes.unshift(qt),Ee(qt),!1;if(he)return!($e=qt)}),$e}return Ee(k.dataTypes[0])||!oe["*"]&&Ee("*")}function br(x,k){var U,q,oe=V.ajaxSettings.flatOptions||{};for(U in k)k[U]!==void 0&&((oe[U]?x:q||(q={}))[U]=k[U]);return q&&V.extend(!0,x,q),x}function hc(x,k,U){for(var q,oe,he,Ee,Ce=x.contents,$e=x.dataTypes;$e[0]==="*";)$e.shift(),q===void 0&&(q=x.mimeType||k.getResponseHeader("Content-Type"));if(q){for(oe in Ce)if(Ce[oe]&&Ce[oe].test(q)){$e.unshift(oe);break}}if($e[0]in U)he=$e[0];else{for(oe in U){if(!$e[0]||x.converters[oe+" "+$e[0]]){he=oe;break}Ee||(Ee=oe)}he=he||Ee}if(he)return he!==$e[0]&&$e.unshift(he),U[he]}function ea(x,k,U,q){var oe,he,Ee,Ce,$e,ot={},wt=x.dataTypes.slice();if(wt[1])for(Ee in x.converters)ot[Ee.toLowerCase()]=x.converters[Ee];for(he=wt.shift();he;)if(x.responseFields[he]&&(U[x.responseFields[he]]=k),!$e&&q&&x.dataFilter&&(k=x.dataFilter(k,x.dataType)),$e=he,he=wt.shift(),he){if(he==="*")he=$e;else if($e!=="*"&&$e!==he){if(Ee=ot[$e+" "+he]||ot["* "+he],!Ee){for(oe in ot)if(Ce=oe.split(" "),Ce[1]===he&&(Ee=ot[$e+" "+Ce[0]]||ot["* "+Ce[0]],Ee)){Ee===!0?Ee=ot[oe]:ot[oe]!==!0&&(he=Ce[0],wt.unshift(Ce[1]));break}}if(Ee!==!0)if(Ee&&x.throws)k=Ee(k);else try{k=Ee(k)}catch(qt){return{state:"parsererror",error:Ee?qt:"No conversion from "+$e+" to "+he}}}}return{state:"success",data:k}}V.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:nd.href,type:"GET",isLocal:rf.test(nd.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Au,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":V.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(x,k){return k?br(br(x,V.ajaxSettings),k):br(V.ajaxSettings,x)},ajaxPrefilter:bp(Ti),ajaxTransport:bp(Ji),ajax:function(x,k){typeof x=="object"&&(k=x,x=void 0),k=k||{};var U,q,oe,he,Ee,Ce,$e,ot,wt,qt,st=V.ajaxSetup({},k),Pt=st.context||st,no=st.context&&(Pt.nodeType||Pt.jquery)?V(Pt):V.event,qn=V.Deferred(),xn=V.Callbacks("once memory"),yr=st.statusCode||{},_r={},ws={},Zn="canceled",eo={readyState:0,getResponseHeader:function(Po){var nr;if($e){if(!he)for(he={};nr=Pa.exec(oe);)he[nr[1].toLowerCase()+" "]=(he[nr[1].toLowerCase()+" "]||[]).concat(nr[2]);nr=he[Po.toLowerCase()+" "]}return nr==null?null:nr.join(", ")},getAllResponseHeaders:function(){return $e?oe:null},setRequestHeader:function(Po,nr){return $e==null&&(Po=ws[Po.toLowerCase()]=ws[Po.toLowerCase()]||Po,_r[Po]=nr),this},overrideMimeType:function(Po){return $e==null&&(st.mimeType=Po),this},statusCode:function(Po){var nr;if(Po)if($e)eo.always(Po[eo.status]);else for(nr in Po)yr[nr]=[yr[nr],Po[nr]];return this},abort:function(Po){var nr=Po||Zn;return U&&U.abort(nr),ta(0,nr),this}};if(qn.promise(eo),st.url=((x||st.url||nd.href)+"").replace(Rl,nd.protocol+"//"),st.type=k.method||k.type||st.method||st.type,st.dataTypes=(st.dataType||"*").toLowerCase().match(Ze)||[""],st.crossDomain==null){Ce=le.createElement("a");try{Ce.href=st.url,Ce.href=Ce.href,st.crossDomain=od.protocol+"//"+od.host!=Ce.protocol+"//"+Ce.host}catch{st.crossDomain=!0}}if(st.data&&st.processData&&typeof st.data!="string"&&(st.data=V.param(st.data,st.traditional)),Bs(Ti,st,k,eo),$e)return eo;ot=V.event&&st.global,ot&&V.active++===0&&V.event.trigger("ajaxStart"),st.type=st.type.toUpperCase(),st.hasContent=!af.test(st.type),q=st.url.replace(fc,""),st.hasContent?st.data&&st.processData&&(st.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(st.data=st.data.replace(wi,"+")):(qt=st.url.slice(q.length),st.data&&(st.processData||typeof st.data=="string")&&(q+=(Kc.test(q)?"&":"?")+st.data,delete st.data),st.cache===!1&&(q=q.replace(Mc,"$1"),qt=(Kc.test(q)?"&":"?")+"_="+Nd.guid+++qt),st.url=q+qt),st.ifModified&&(V.lastModified[q]&&eo.setRequestHeader("If-Modified-Since",V.lastModified[q]),V.etag[q]&&eo.setRequestHeader("If-None-Match",V.etag[q])),(st.data&&st.hasContent&&st.contentType!==!1||k.contentType)&&eo.setRequestHeader("Content-Type",st.contentType),eo.setRequestHeader("Accept",st.dataTypes[0]&&st.accepts[st.dataTypes[0]]?st.accepts[st.dataTypes[0]]+(st.dataTypes[0]!=="*"?", "+Au+"; q=0.01":""):st.accepts["*"]);for(wt in st.headers)eo.setRequestHeader(wt,st.headers[wt]);if(st.beforeSend&&(st.beforeSend.call(Pt,eo,st)===!1||$e))return eo.abort();if(Zn="abort",xn.add(st.complete),eo.done(st.success),eo.fail(st.error),U=Bs(Ji,st,k,eo),!U)ta(-1,"No Transport");else{if(eo.readyState=1,ot&&no.trigger("ajaxSend",[eo,st]),$e)return eo;st.async&&st.timeout>0&&(Ee=c.setTimeout(function(){eo.abort("timeout")},st.timeout));try{$e=!1,U.send(_r,ta)}catch(Po){if($e)throw Po;ta(-1,Po)}}function ta(Po,nr,nu,Ds){var Er,Jr,Xc,Ci,ps,Rr=nr;$e||($e=!0,Ee&&c.clearTimeout(Ee),U=void 0,oe=Ds||"",eo.readyState=Po>0?4:0,Er=Po>=200&&Po<300||Po===304,nu&&(Ci=hc(st,eo,nu)),!Er&&V.inArray("script",st.dataTypes)>-1&&V.inArray("json",st.dataTypes)<0&&(st.converters["text script"]=function(){}),Ci=ea(st,Ci,eo,Er),Er?(st.ifModified&&(ps=eo.getResponseHeader("Last-Modified"),ps&&(V.lastModified[q]=ps),ps=eo.getResponseHeader("etag"),ps&&(V.etag[q]=ps)),Po===204||st.type==="HEAD"?Rr="nocontent":Po===304?Rr="notmodified":(Rr=Ci.state,Jr=Ci.data,Xc=Ci.error,Er=!Xc)):(Xc=Rr,(Po||!Rr)&&(Rr="error",Po<0&&(Po=0))),eo.status=Po,eo.statusText=(nr||Rr)+"",Er?qn.resolveWith(Pt,[Jr,Rr,eo]):qn.rejectWith(Pt,[eo,Rr,Xc]),eo.statusCode(yr),yr=void 0,ot&&no.trigger(Er?"ajaxSuccess":"ajaxError",[eo,st,Er?Jr:Xc]),xn.fireWith(Pt,[eo,Rr]),ot&&(no.trigger("ajaxComplete",[eo,st]),--V.active||V.event.trigger("ajaxStop")))}return eo},getJSON:function(x,k,U){return V.get(x,k,U,"json")},getScript:function(x,k){return V.get(x,void 0,k,"script")}}),V.each(["get","post"],function(x,k){V[k]=function(U,q,oe,he){return fe(q)&&(he=he||oe,oe=q,q=void 0),V.ajax(V.extend({url:U,type:k,dataType:he,data:q,success:oe},V.isPlainObject(U)&&U))}}),V.ajaxPrefilter(function(x){var k;for(k in x.headers)k.toLowerCase()==="content-type"&&(x.contentType=x.headers[k]||"")}),V._evalUrl=function(x,k,U){return V.ajax({url:x,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(q){V.globalEval(q,k,U)}})},V.fn.extend({wrapAll:function(x){var k;return this[0]&&(fe(x)&&(x=x.call(this[0])),k=V(x,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&k.insertBefore(this[0]),k.map(function(){for(var U=this;U.firstElementChild;)U=U.firstElementChild;return U}).append(this)),this},wrapInner:function(x){return fe(x)?this.each(function(k){V(this).wrapInner(x.call(this,k))}):this.each(function(){var k=V(this),U=k.contents();U.length?U.wrapAll(x):k.append(x)})},wrap:function(x){var k=fe(x);return this.each(function(U){V(this).wrapAll(k?x.call(this,U):x)})},unwrap:function(x){return this.parent(x).not("body").each(function(){V(this).replaceWith(this.childNodes)}),this}}),V.expr.pseudos.hidden=function(x){return!V.expr.pseudos.visible(x)},V.expr.pseudos.visible=function(x){return!!(x.offsetWidth||x.offsetHeight||x.getClientRects().length)},V.ajaxSettings.xhr=function(){try{return new c.XMLHttpRequest}catch{}};var tu={0:200,1223:204},pl=V.ajaxSettings.xhr();pe.cors=!!pl&&"withCredentials"in pl,pe.ajax=pl=!!pl,V.ajaxTransport(function(x){var k,U;if(pe.cors||pl&&!x.crossDomain)return{send:function(q,oe){var he,Ee=x.xhr();if(Ee.open(x.type,x.url,x.async,x.username,x.password),x.xhrFields)for(he in x.xhrFields)Ee[he]=x.xhrFields[he];x.mimeType&&Ee.overrideMimeType&&Ee.overrideMimeType(x.mimeType),!x.crossDomain&&!q["X-Requested-With"]&&(q["X-Requested-With"]="XMLHttpRequest");for(he in q)Ee.setRequestHeader(he,q[he]);k=function(Ce){return function(){k&&(k=U=Ee.onload=Ee.onerror=Ee.onabort=Ee.ontimeout=Ee.onreadystatechange=null,Ce==="abort"?Ee.abort():Ce==="error"?typeof Ee.status!="number"?oe(0,"error"):oe(Ee.status,Ee.statusText):oe(tu[Ee.status]||Ee.status,Ee.statusText,(Ee.responseType||"text")!=="text"||typeof Ee.responseText!="string"?{binary:Ee.response}:{text:Ee.responseText},Ee.getAllResponseHeaders()))}},Ee.onload=k(),U=Ee.onerror=Ee.ontimeout=k("error"),Ee.onabort!==void 0?Ee.onabort=U:Ee.onreadystatechange=function(){Ee.readyState===4&&c.setTimeout(function(){k&&U()})},k=k("abort");try{Ee.send(x.hasContent&&x.data||null)}catch(Ce){if(k)throw Ce}},abort:function(){k&&k()}}}),V.ajaxPrefilter(function(x){x.crossDomain&&(x.contents.script=!1)}),V.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(x){return V.globalEval(x),x}}}),V.ajaxPrefilter("script",function(x){x.cache===void 0&&(x.cache=!1),x.crossDomain&&(x.type="GET")}),V.ajaxTransport("script",function(x){if(x.crossDomain||x.scriptAttrs){var k,U;return{send:function(q,oe){k=V("<script>").attr(x.scriptAttrs||{}).prop({charset:x.scriptCharset,src:x.url}).on("load error",U=function(he){k.remove(),U=null,he&&oe(he.type==="error"?404:200,he.type)}),le.head.appendChild(k[0])},abort:function(){U&&U()}}}});var uo=[],cs=/(=)\?(?=&|$)|\?\?/;V.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var x=uo.pop()||V.expando+"_"+Nd.guid++;return this[x]=!0,x}}),V.ajaxPrefilter("json jsonp",function(x,k,U){var q,oe,he,Ee=x.jsonp!==!1&&(cs.test(x.url)?"url":typeof x.data=="string"&&(x.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&cs.test(x.data)&&"data");if(Ee||x.dataTypes[0]==="jsonp")return q=x.jsonpCallback=fe(x.jsonpCallback)?x.jsonpCallback():x.jsonpCallback,Ee?x[Ee]=x[Ee].replace(cs,"$1"+q):x.jsonp!==!1&&(x.url+=(Kc.test(x.url)?"&":"?")+x.jsonp+"="+q),x.converters["script json"]=function(){return he||V.error(q+" was not called"),he[0]},x.dataTypes[0]="json",oe=c[q],c[q]=function(){he=arguments},U.always(function(){oe===void 0?V(c).removeProp(q):c[q]=oe,x[q]&&(x.jsonpCallback=k.jsonpCallback,uo.push(q)),he&&fe(oe)&&oe(he[0]),he=oe=void 0}),"script"}),pe.createHTMLDocument=function(){var x=le.implementation.createHTMLDocument("").body;return x.innerHTML="<form></form><form></form>",x.childNodes.length===2}(),V.parseHTML=function(x,k,U){if(typeof x!="string")return[];typeof k=="boolean"&&(U=k,k=!1);var q,oe,he;return k||(pe.createHTMLDocument?(k=le.implementation.createHTMLDocument(""),q=k.createElement("base"),q.href=le.location.href,k.head.appendChild(q)):k=le),oe=bn.exec(x),he=!U&&[],oe?[k.createElement(oe[1])]:(oe=mm([x],k,he),he&&he.length&&V(he).remove(),V.merge([],oe.childNodes))},V.fn.load=function(x,k,U){var q,oe,he,Ee=this,Ce=x.indexOf(" ");return Ce>-1&&(q=of(x.slice(Ce)),x=x.slice(0,Ce)),fe(k)?(U=k,k=void 0):k&&typeof k=="object"&&(oe="POST"),Ee.length>0&&V.ajax({url:x,type:oe||"GET",dataType:"html",data:k}).done(function($e){he=arguments,Ee.html(q?V("<div>").append(V.parseHTML($e)).find(q):$e)}).always(U&&function($e,ot){Ee.each(function(){U.apply(this,he||[$e.responseText,ot,$e])})}),this},V.expr.pseudos.animated=function(x){return V.grep(V.timers,function(k){return x===k.elem}).length},V.offset={setOffset:function(x,k,U){var q,oe,he,Ee,Ce,$e,ot,wt=V.css(x,"position"),qt=V(x),st={};wt==="static"&&(x.style.position="relative"),Ce=qt.offset(),he=V.css(x,"top"),$e=V.css(x,"left"),ot=(wt==="absolute"||wt==="fixed")&&(he+$e).indexOf("auto")>-1,ot?(q=qt.position(),Ee=q.top,oe=q.left):(Ee=parseFloat(he)||0,oe=parseFloat($e)||0),fe(k)&&(k=k.call(x,U,V.extend({},Ce))),k.top!=null&&(st.top=k.top-Ce.top+Ee),k.left!=null&&(st.left=k.left-Ce.left+oe),"using"in k?k.using.call(x,st):qt.css(st)}},V.fn.extend({offset:function(x){if(arguments.length)return x===void 0?this:this.each(function(oe){V.offset.setOffset(this,x,oe)});var k,U,q=this[0];if(q)return q.getClientRects().length?(k=q.getBoundingClientRect(),U=q.ownerDocument.defaultView,{top:k.top+U.pageYOffset,left:k.left+U.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var x,k,U,q=this[0],oe={top:0,left:0};if(V.css(q,"position")==="fixed")k=q.getBoundingClientRect();else{for(k=this.offset(),U=q.ownerDocument,x=q.offsetParent||U.documentElement;x&&(x===U.body||x===U.documentElement)&&V.css(x,"position")==="static";)x=x.parentNode;x&&x!==q&&x.nodeType===1&&(oe=V(x).offset(),oe.top+=V.css(x,"borderTopWidth",!0),oe.left+=V.css(x,"borderLeftWidth",!0))}return{top:k.top-oe.top-V.css(q,"marginTop",!0),left:k.left-oe.left-V.css(q,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var x=this.offsetParent;x&&V.css(x,"position")==="static";)x=x.offsetParent;return x||zr})}}),V.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(x,k){var U=k==="pageYOffset";V.fn[x]=function(q){return fs(this,function(oe,he,Ee){var Ce;if(ue(oe)?Ce=oe:oe.nodeType===9&&(Ce=oe.defaultView),Ee===void 0)return Ce?Ce[k]:oe[he];Ce?Ce.scrollTo(U?Ce.pageXOffset:Ee,U?Ee:Ce.pageYOffset):oe[he]=Ee},x,q,arguments.length)}}),V.each(["top","left"],function(x,k){V.cssHooks[k]=Cg(pe.pixelPosition,function(U,q){if(q)return q=Xl(U,k),vr.test(q)?V(U).position()[k]+"px":q})}),V.each({Height:"height",Width:"width"},function(x,k){V.each({padding:"inner"+x,content:k,"":"outer"+x},function(U,q){V.fn[q]=function(oe,he){var Ee=arguments.length&&(U||typeof oe!="boolean"),Ce=U||(oe===!0||he===!0?"margin":"border");return fs(this,function($e,ot,wt){var qt;return ue($e)?q.indexOf("outer")===0?$e["inner"+x]:$e.document.documentElement["client"+x]:$e.nodeType===9?(qt=$e.documentElement,Math.max($e.body["scroll"+x],qt["scroll"+x],$e.body["offset"+x],qt["offset"+x],qt["client"+x])):wt===void 0?V.css($e,ot,Ce):V.style($e,ot,wt,Ce)},k,Ee?oe:void 0,Ee)}})}),V.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(x,k){V.fn[k]=function(U){return this.on(k,U)}}),V.fn.extend({bind:function(x,k,U){return this.on(x,null,k,U)},unbind:function(x,k){return this.off(x,null,k)},delegate:function(x,k,U,q){return this.on(k,x,U,q)},undelegate:function(x,k,U){return arguments.length===1?this.off(x,"**"):this.off(k,x||"**",U)},hover:function(x,k){return this.mouseenter(x).mouseleave(k||x)}}),V.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(x,k){V.fn[k]=function(U,q){return arguments.length>0?this.on(k,null,U,q):this.trigger(k)}});var Fi=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;V.proxy=function(x,k){var U,q,oe;if(typeof k=="string"&&(U=x[k],k=x,x=U),!!fe(x))return q=w.call(arguments,2),oe=function(){return x.apply(k||this,q.concat(w.call(arguments)))},oe.guid=x.guid=x.guid||V.guid++,oe},V.holdReady=function(x){x?V.readyWait++:V.ready(!0)},V.isArray=Array.isArray,V.parseJSON=JSON.parse,V.nodeName=Te,V.isFunction=fe,V.isWindow=ue,V.camelCase=Ia,V.type=ke,V.now=Date.now,V.isNumeric=function(x){var k=V.type(x);return(k==="number"||k==="string")&&!isNaN(x-parseFloat(x))},V.trim=function(x){return x==null?"":(x+"").replace(Fi,"$1")};var ui=c.jQuery,ba=c.$;return V.noConflict=function(x){return c.$===V&&(c.$=ba),x&&c.jQuery===V&&(c.jQuery=ui),V},typeof f>"u"&&(c.jQuery=c.$=V),V})})(Kne);const Xne=CZ;var SZ={},Qne={get exports(){return SZ},set exports(a){SZ=a}};(function(a){(function(){var c=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},f=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},y=function(e,n){var o=Array.prototype.slice.call(e);return o.sort(n)},C=function(e,n){return w(function(o,r){return e.eq(n(o),n(r))})},w=function(e){return{eq:e}},S=w(function(e,n){return e===n}),M=S,P=function(e){return w(function(n,o){if(n.length!==o.length)return!1;for(var r=n.length,l=0;l<r;l++)if(!e.eq(n[l],o[l]))return!1;return!0})},G=function(e,n){return C(P(e),function(o){return y(o,n)})},j=function(e){return w(function(n,o){var r=Object.keys(n),l=Object.keys(o);if(!G(M).eq(r,l))return!1;for(var h=r.length,v=0;v<h;v++){var A=r[v];if(!e.eq(n[A],o[A]))return!1}return!0})},J=w(function(e,n){if(e===n)return!0;var o=c(e),r=c(n);return o!==r?!1:f(o)?e===n:o==="array"?P(J).eq(e,n):o==="object"?j(J).eq(e,n):!1});const me=Object.getPrototypeOf,ae=(e,n,o)=>{var r;return o(e,n.prototype)?!0:((r=e.constructor)===null||r===void 0?void 0:r.name)===n.name},pe=e=>{const n=typeof e;return e===null?"null":n==="object"&&Array.isArray(e)?"array":n==="object"&&ae(e,String,(o,r)=>r.isPrototypeOf(o))?"string":n},fe=e=>n=>pe(n)===e,ue=e=>n=>typeof n===e,le=e=>n=>e===n,ve=(e,n)=>ke(e)&&ae(e,n,(o,r)=>me(o)===r),ee=fe("string"),ke=fe("object"),Ke=e=>ve(e,Object),V=fe("array"),we=le(null),Ue=ue("boolean"),bt=le(void 0),It=e=>e==null,He=e=>!It(e),Te=ue("function"),bn=ue("number"),Tt=(e,n)=>{if(V(e)){for(let o=0,r=e.length;o<r;++o)if(!n(e[o]))return!1;return!0}return!1},Mt=()=>{},F=(e,n)=>(...o)=>e(n.apply(null,o)),Nt=(e,n)=>o=>e(n(o)),rt=e=>()=>e,Kt=e=>e,Gt=(e,n)=>e===n;function Ze(e,...n){return(...o)=>{const r=n.concat(o);return e.apply(null,r)}}const _o=e=>n=>!e(n),Ho=e=>()=>{throw new Error(e)},lo=e=>e(),Vo=e=>{e()},nt=rt(!1),Lt=rt(!0);class X{constructor(n,o){this.tag=n,this.value=o}static some(n){return new X(!0,n)}static none(){return X.singletonNone}fold(n,o){return this.tag?o(this.value):n()}isSome(){return this.tag}isNone(){return!this.tag}map(n){return this.tag?X.some(n(this.value)):X.none()}bind(n){return this.tag?n(this.value):X.none()}exists(n){return this.tag&&n(this.value)}forall(n){return!this.tag||n(this.value)}filter(n){return!this.tag||n(this.value)?this:X.none()}getOr(n){return this.tag?this.value:n}or(n){return this.tag?this:n}getOrThunk(n){return this.tag?this.value:n()}orThunk(n){return this.tag?this:n()}getOrDie(n){if(this.tag)return this.value;throw new Error(n??"Called getOrDie on None")}static from(n){return He(n)?X.some(n):X.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(n){this.tag&&n(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}X.singletonNone=new X(!1);const fs=Array.prototype.slice,po=Array.prototype.indexOf,Rs=Array.prototype.push,as=(e,n)=>po.call(e,n),Ia=(e,n)=>{const o=as(e,n);return o===-1?X.none():X.some(o)},Fn=(e,n)=>as(e,n)>-1,ko=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const l=e[o];if(n(l,o))return!0}return!1},en=(e,n)=>{const o=e.length,r=new Array(o);for(let l=0;l<o;l++){const h=e[l];r[l]=n(h,l)}return r},Ge=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const l=e[o];n(l,o)}},Gc=(e,n)=>{for(let o=e.length-1;o>=0;o--){const r=e[o];n(r,o)}},va=(e,n)=>{const o=[],r=[];for(let l=0,h=e.length;l<h;l++){const v=e[l];(n(v,l)?o:r).push(v)}return{pass:o,fail:r}},Dn=(e,n)=>{const o=[];for(let r=0,l=e.length;r<l;r++){const h=e[r];n(h,r)&&o.push(h)}return o},ri=(e,n,o)=>(Gc(e,(r,l)=>{o=n(o,r,l)}),o),Us=(e,n,o)=>(Ge(e,(r,l)=>{o=n(o,r,l)}),o),jc=(e,n,o)=>{for(let r=0,l=e.length;r<l;r++){const h=e[r];if(n(h,r))return X.some(h);if(o(h,r))break}return X.none()},Is=(e,n)=>jc(e,n,nt),zr=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const l=e[o];if(n(l,o))return X.some(o)}return X.none()},lc=e=>{const n=[];for(let o=0,r=e.length;o<r;++o){if(!V(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);Rs.apply(n,e[o])}return n},Ya=(e,n)=>lc(en(e,n)),Or=(e,n)=>{for(let o=0,r=e.length;o<r;++o){const l=e[o];if(n(l,o)!==!0)return!1}return!0},lr=e=>{const n=fs.call(e,0);return n.reverse(),n},Jd=(e,n)=>Dn(e,o=>!Fn(n,o)),ii=(e,n)=>{const o={};for(let r=0,l=e.length;r<l;r++){const h=e[r];o[String(h)]=n(h,r)}return o},Ls=(e,n)=>{const o=fs.call(e,0);return o.sort(n),o},Zl=(e,n)=>n>=0&&n<e.length?X.some(e[n]):X.none(),ai=e=>Zl(e,0),Yl=e=>Zl(e,e.length-1),Xs=Te(Array.from)?Array.from:e=>fs.call(e),_i=(e,n)=>{for(let o=0;o<e.length;o++){const r=n(e[o],o);if(r.isSome())return r}return X.none()},Wf=(e,n)=>{const o=[],r=Te(n)?l=>ko(o,h=>n(h,l)):l=>Fn(o,l);for(let l=0,h=e.length;l<h;l++){const v=e[l];r(v)||o.push(v)}return o},uc=Object.keys,mm=Object.hasOwnProperty,dn=(e,n)=>{const o=uc(e);for(let r=0,l=o.length;r<l;r++){const h=o[r],v=e[h];n(v,h)}},jo=(e,n)=>Da(e,(o,r)=>({k:r,v:n(o,r)})),Da=(e,n)=>{const o={};return dn(e,(r,l)=>{const h=n(r,l);o[h.k]=h.v}),o},qc=e=>(n,o)=>{e[o]=n},pm=(e,n,o,r)=>{dn(e,(l,h)=>{(n(l,h)?o:r)(l,h)})},Qu=(e,n)=>{const o={},r={};return pm(e,n,qc(o),qc(r)),{t:o,f:r}},Ws=(e,n)=>{const o={};return pm(e,n,qc(o),Mt),o},xu=(e,n)=>{const o=[];return dn(e,(r,l)=>{o.push(n(r,l))}),o},Gf=e=>xu(e,Kt),gr=(e,n)=>jn(e,n)?X.from(e[n]):X.none(),jn=(e,n)=>mm.call(e,n),dc=(e,n)=>jn(e,n)&&e[n]!==void 0&&e[n]!==null,Ju=(e,n,o=J)=>j(o).eq(e,n),Oh=e=>{const n={};return Ge(e,o=>{n[o]={}}),uc(n)},gp=e=>e.length!==void 0,ci=Array.isArray,li=e=>{if(ci(e))return e;{const n=[];for(let o=0,r=e.length;o<r;o++)n[o]=e[o];return n}},vr=(e,n,o)=>{if(!e)return!1;if(o=o||e,gp(e)){for(let r=0,l=e.length;r<l;r++)if(n.call(o,e[r],r,e)===!1)return!1}else for(const r in e)if(jn(e,r)&&n.call(o,e[r],r,e)===!1)return!1;return!0},Rc=(e,n)=>{const o=[];return vr(e,(r,l)=>{o.push(n(r,l,e))}),o},ef=(e,n)=>{const o=[];return vr(e,(r,l)=>{(!n||n(r,l,e))&&o.push(r)}),o},Kl=(e,n)=>{if(e){for(let o=0,r=e.length;o<r;o++)if(e[o]===n)return o}return-1},Zc=(e,n,o,r)=>{let l=bt(o)?e[0]:o;for(let h=0;h<e.length;h++)l=n.call(r,l,e[h],h);return l},qr=(e,n,o)=>{for(let r=0,l=e.length;r<l;r++)if(n.call(o,e[r],r,e))return r;return-1},Al=e=>e[e.length-1],Xl=e=>{let n=!1,o;return(...r)=>(n||(n=!0,o=e.apply(null,r)),o)},Cg=(e,n,o,r)=>{const l=e.isiOS()&&/ipad/i.test(o)===!0,h=e.isiOS()&&!l,v=e.isiOS()||e.isAndroid(),A=v||r("(pointer:coarse)"),R=l||!h&&v&&r("(min-device-width:768px)"),H=h||v&&!R,te=n.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,Q=!H&&!R&&!te;return{isiPad:rt(l),isiPhone:rt(h),isTablet:rt(R),isPhone:rt(H),isTouch:rt(A),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:rt(te),isDesktop:rt(Q)}},Sg=(e,n)=>{for(let o=0;o<e.length;o++){const r=e[o];if(r.test(n))return r}},Ql=(e,n)=>{const o=Sg(e,n);if(!o)return{major:0,minor:0};const r=l=>Number(n.replace(o,"$"+l));return Xi(r(1),r(2))},jf=(e,n)=>{const o=String(n).toLowerCase();return e.length===0?et():Ql(e,o)},et=()=>Xi(0,0),Xi=(e,n)=>({major:e,minor:n}),qf={nu:Xi,detect:jf,unknown:et},xg=(e,n)=>_i(n.brands,o=>{const r=o.brand.toLowerCase();return Is(e,l=>{var h;return r===((h=l.brand)===null||h===void 0?void 0:h.toLowerCase())}).map(l=>({current:l.name,version:qf.nu(parseInt(o.version,10),0)}))}),gm=(e,n)=>{const o=String(n).toLowerCase();return Is(e,r=>r.search(o))},Gs=(e,n)=>gm(e,n).map(o=>{const r=qf.detect(o.versionRegexes,n);return{current:o.name,version:r}}),tf=(e,n)=>gm(e,n).map(o=>{const r=qf.detect(o.versionRegexes,n);return{current:o.name,version:r}}),vp=(e,n)=>e.substring(n),Ma=(e,n,o)=>n===""||e.length>=n.length&&e.substr(o,o+n.length)===n,Jl=(e,n)=>Li(e,n)?vp(e,n.length):e,Ei=(e,n,o=0,r)=>{const l=e.indexOf(n,o);return l!==-1?bt(r)?!0:l+n.length<=r:!1},Li=(e,n)=>Ma(e,n,0),ed=(e,n)=>Ma(e,n,e.length-n.length),Ic=e=>n=>n.replace(e,""),td=Ic(/^\s+|\s+$/g),Dc=Ic(/^\s+/g),nf=Ic(/\s+$/g),$s=e=>e.length>0,$i=e=>!$s(e),Ol=(e,n)=>n<=0?"":new Array(n+1).join(e),Md=(e,n=10)=>{const o=parseInt(e,n);return isNaN(o)?X.none():X.some(o)},hl=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Yc=e=>n=>Ei(n,e),Nr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Ei(e,"edge/")&&Ei(e,"chrome")&&Ei(e,"safari")&&Ei(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,hl],search:e=>Ei(e,"chrome")&&!Ei(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Ei(e,"msie")||Ei(e,"trident")},{name:"Opera",versionRegexes:[hl,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Yc("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Yc("firefox")},{name:"Safari",versionRegexes:[hl,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Ei(e,"safari")||Ei(e,"mobile/"))&&Ei(e,"applewebkit")}],of=[{name:"Windows",search:Yc("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Ei(e,"iphone")||Ei(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Yc("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Yc("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Yc("linux"),versionRegexes:[]},{name:"Solaris",search:Yc("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Yc("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Yc("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],eu={browsers:rt(Nr),oses:rt(of)},us="Edge",Na="Chromium",Qi="IE",Bi="Opera",nd="Firefox",Nd="Safari",Kc=()=>ml({current:void 0,version:qf.unknown()}),ml=e=>{const n=e.current,o=e.version,r=l=>()=>n===l;return{current:n,version:o,isEdge:r(us),isChromium:r(Na),isIE:r(Qi),isOpera:r(Bi),isFirefox:r(nd),isSafari:r(Nd)}},sf={unknown:Kc,nu:ml,edge:rt(us),chromium:rt(Na),ie:rt(Qi),opera:rt(Bi),firefox:rt(nd),safari:rt(Nd)},vm="Windows",Ag="iOS",ka="Android",wi="Linux",fc="macOS",Mc="Solaris",Pa="FreeBSD",rf="ChromeOS",af=()=>Rl({current:void 0,version:qf.unknown()}),Rl=e=>{const n=e.current,o=e.version,r=l=>()=>n===l;return{current:n,version:o,isWindows:r(vm),isiOS:r(Ag),isAndroid:r(ka),isMacOS:r(fc),isLinux:r(wi),isSolaris:r(Mc),isFreeBSD:r(Pa),isChromeOS:r(rf)}},Ti={unknown:af,nu:Rl,windows:rt(vm),ios:rt(Ag),android:rt(ka),linux:rt(wi),macos:rt(fc),solaris:rt(Mc),freebsd:rt(Pa),chromeos:rt(rf)},Au={detect:(e,n,o)=>{const r=eu.browsers(),l=eu.oses(),h=n.bind(R=>xg(r,R)).orThunk(()=>Gs(r,e)).fold(sf.unknown,sf.nu),v=tf(l,e).fold(Ti.unknown,Ti.nu),A=Cg(v,h,e,o);return{browser:h,os:v,deviceType:A}}},od=e=>window.matchMedia(e).matches;let bp=Xl(()=>Au.detect(navigator.userAgent,X.from(navigator.userAgentData),od));const Bs=()=>bp(),br=navigator.userAgent,hc=Bs(),ea=hc.browser,tu=hc.os,pl=hc.deviceType,uo=br.indexOf("Windows Phone")!==-1,cs={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:ea.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!ea.isIE(),windowsPhone:uo,browser:{current:ea.current,version:ea.version,isChromium:ea.isChromium,isEdge:ea.isEdge,isFirefox:ea.isFirefox,isIE:ea.isIE,isOpera:ea.isOpera,isSafari:ea.isSafari},os:{current:tu.current,version:tu.version,isAndroid:tu.isAndroid,isChromeOS:tu.isChromeOS,isFreeBSD:tu.isFreeBSD,isiOS:tu.isiOS,isLinux:tu.isLinux,isMacOS:tu.isMacOS,isSolaris:tu.isSolaris,isWindows:tu.isWindows},deviceType:{isDesktop:pl.isDesktop,isiPad:pl.isiPad,isiPhone:pl.isiPhone,isPhone:pl.isPhone,isTablet:pl.isTablet,isTouch:pl.isTouch,isWebView:pl.isWebView}},Fi=/^\s*|\s*$/g,ui=e=>It(e)?"":(""+e).replace(Fi,""),ba=(e,n)=>n?n==="array"&&ci(e)?!0:typeof e===n:e!==void 0,x=(e,n,o={})=>{const r=ee(e)?e.split(n||","):e||[];let l=r.length;for(;l--;)o[r[l]]={};return o},k=jn,U=(e,...n)=>{for(let o=0;o<n.length;o++){const r=n[o];for(const l in r)if(jn(r,l)){const h=r[l];h!==void 0&&(e[l]=h)}}return e},q=function(e,n,o,r){r=r||this,e&&(o&&(e=e[o]),vr(e,(l,h)=>n.call(r,l,h,o)===!1?!1:(q(l,n,o,r),!0)))},Ce={trim:ui,isArray:ci,is:ba,toArray:li,makeMap:x,each:vr,map:Rc,grep:ef,inArray:Kl,hasOwn:k,extend:U,walk:q,resolve:(e,n=window)=>{const o=e.split(".");for(let r=0,l=o.length;r<l&&(n=n[o[r]],!!n);r++);return n},explode:(e,n)=>V(e)?e:e===""?[]:Rc(e.split(n||","),ui),_addCacheSuffix:e=>{const n=cs.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e}},$e=(e,n,o=Gt)=>e.exists(r=>o(r,n)),ot=e=>{const n=[],o=r=>{n.push(r)};for(let r=0;r<e.length;r++)e[r].each(o);return n},wt=(e,n,o)=>e.isSome()&&n.isSome()?X.some(o(e.getOrDie(),n.getOrDie())):X.none(),qt=(e,n,o,r)=>e.isSome()&&n.isSome()&&o.isSome()?X.some(r(e.getOrDie(),n.getOrDie(),o.getOrDie())):X.none(),st=(e,n)=>e?X.some(n):X.none(),Pt=typeof window<"u"?window:Function("return this;")(),no=(e,n)=>{let o=n??Pt;for(let r=0;r<e.length&&o!==void 0&&o!==null;++r)o=o[e[r]];return o},qn=(e,n)=>{const o=e.split(".");return no(o,n)},xn=(e,n)=>qn(e,n),yr=(e,n)=>{const o=xn(e,n);if(o==null)throw new Error(e+" not available on this browser");return o},_r=Object.getPrototypeOf,ws=e=>yr("HTMLElement",e),Zn=e=>{const n=qn("ownerDocument.defaultView",e);return ke(e)&&(ws(n).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(_r(e).constructor.name))},eo=8,ta=9,Po=11,nr=1,nu=3,Ds=e=>e.dom.nodeName.toLowerCase(),Er=e=>e.dom.nodeType,Jr=e=>n=>Er(n)===e,Xc=e=>Er(e)===eo||Ds(e)==="#comment",Ci=e=>ps(e)&&Zn(e.dom),ps=Jr(nr),Rr=Jr(nu),mc=Jr(ta),Zf=Jr(Po),La=e=>n=>ps(n)&&Ds(n)===e,gl=(e,n,o)=>{if(ee(o)||Ue(o)||bn(o))e.setAttribute(n,o+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},Eo=(e,n,o)=>{gl(e.dom,n,o)},ei=(e,n)=>{const o=e.dom;dn(n,(r,l)=>{gl(o,l,r)})},Ka=(e,n)=>{const o=e.dom.getAttribute(n);return o===null?void 0:o},pc=(e,n)=>X.from(Ka(e,n)),na=(e,n)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(n):!1},Ir=(e,n)=>{e.dom.removeAttribute(n)},ya=e=>{const n=e.dom.attributes;return n==null||n.length===0},Yf=e=>Us(e.dom.attributes,(n,o)=>(n[o.name]=o.value,n),{}),Ou=(e,n)=>{const o=Ka(e,n);return o===void 0||o===""?[]:o.split(" ")},bm=(e,n,o)=>{const l=Ou(e,n).concat([o]);return Eo(e,n,l.join(" ")),!0},yp=(e,n,o)=>{const r=Dn(Ou(e,n),l=>l!==o);return r.length>0?Eo(e,n,r.join(" ")):Ir(e,n),!1},Il=e=>e.dom.classList!==void 0,Ru=e=>Ou(e,"class"),Rh=(e,n)=>bm(e,"class",n),Hi=(e,n)=>yp(e,"class",n),sd=(e,n)=>Fn(Ru(e),n)?Hi(e,n):Rh(e,n),kd=(e,n)=>{Il(e)?e.dom.classList.add(n):Rh(e,n)},Dl=e=>{(Il(e)?e.dom.classList:Ru(e)).length===0&&Ir(e,"class")},Xa=(e,n)=>{Il(e)?e.dom.classList.remove(n):Hi(e,n),Dl(e)},$a=(e,n)=>{const o=Il(e)?e.dom.classList.toggle(n):sd(e,n);return Dl(e),o},rd=(e,n)=>Il(e)&&e.dom.classList.contains(n),cf=(e,n)=>{const r=(n||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){const l="HTML does not have a single root node";throw console.error(l,e),new Error(l)}return hs(r.childNodes[0])},_p=(e,n)=>{const r=(n||document).createElement(e);return hs(r)},Ep=(e,n)=>{const r=(n||document).createTextNode(e);return hs(r)},hs=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},Ne={fromHtml:cf,fromTag:_p,fromText:Ep,fromDom:hs,fromPoint:(e,n,o)=>X.from(e.dom.elementFromPoint(n,o)).map(hs)},Nc=(e,n)=>{const o=[],r=h=>(o.push(h),n(h));let l=n(e);do l=l.bind(r);while(l.isSome());return o},_a=(e,n)=>{const o=e.dom;if(o.nodeType!==nr)return!1;{const r=o;if(r.matches!==void 0)return r.matches(n);if(r.msMatchesSelector!==void 0)return r.msMatchesSelector(n);if(r.webkitMatchesSelector!==void 0)return r.webkitMatchesSelector(n);if(r.mozMatchesSelector!==void 0)return r.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")}},Ih=e=>e.nodeType!==nr&&e.nodeType!==ta&&e.nodeType!==Po||e.childElementCount===0,Og=(e,n)=>{const o=n===void 0?document:n.dom;return Ih(o)?[]:en(o.querySelectorAll(e),Ne.fromDom)},zv=(e,n)=>{const o=n===void 0?document:n.dom;return Ih(o)?X.none():X.from(o.querySelector(e)).map(Ne.fromDom)},es=(e,n)=>e.dom===n.dom,at=(e,n)=>{const o=e.dom,r=n.dom;return o===r?!1:o.contains(r)},$t=e=>Ne.fromDom(e.dom.ownerDocument),Dt=e=>mc(e)?e:$t(e),Yn=e=>Ne.fromDom(Dt(e).dom.documentElement),To=e=>Ne.fromDom(Dt(e).dom.defaultView),ts=e=>X.from(e.dom.parentNode).map(Ne.fromDom),Si=e=>X.from(e.dom.parentElement).map(Ne.fromDom),Qs=(e,n)=>{const o=Te(n)?n:nt;let r=e.dom;const l=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){const h=r.parentNode,v=Ne.fromDom(h);if(l.push(v),o(v)===!0)break;r=h}return l},Kf=e=>{const n=o=>Dn(o,r=>!es(e,r));return ts(e).map(qe).map(n).getOr([])},Jc=e=>X.from(e.dom.previousSibling).map(Ne.fromDom),Qa=e=>X.from(e.dom.nextSibling).map(Ne.fromDom),Oe=e=>lr(Nc(e,Jc)),Be=e=>Nc(e,Qa),qe=e=>en(e.dom.childNodes,Ne.fromDom),Vt=(e,n)=>{const o=e.dom.childNodes;return X.from(o[n]).map(Ne.fromDom)},ft=e=>Vt(e,0),xt=e=>Vt(e,e.dom.childNodes.length-1),Xt=e=>e.dom.childNodes.length,An=e=>{const n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return Ne.fromDom(n)},Ln=e=>Zf(e)&&He(e.dom.host),Co=Te(Element.prototype.attachShadow)&&Te(Node.prototype.getRootNode),wo=rt(Co),fo=Co?e=>Ne.fromDom(e.dom.getRootNode()):Dt,zo=e=>Ln(e)?e:An(Dt(e)),Ns=e=>Ln(e)?e:Ne.fromDom(Dt(e).dom.body),Ao=e=>{const n=fo(e);return Ln(n)?X.some(n):X.none()},Ba=e=>Ne.fromDom(e.dom.host),Zr=e=>{if(wo()&&He(e.target)){const n=Ne.fromDom(e.target);if(ps(n)&&Fa(n)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return ai(o)}}return X.from(e.target)},Fa=e=>He(e.dom.shadowRoot),ur=e=>{const n=Rr(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;const o=n.ownerDocument;return Ao(Ne.fromDom(n)).fold(()=>o.body.contains(n),Nt(ur,Ba))};var ou=(e,n,o,r,l)=>e(o,r)?X.some(o):Te(l)&&l(o)?X.none():n(o,r,l);const js=(e,n,o)=>{let r=e.dom;const l=Te(o)?o:nt;for(;r.parentNode;){r=r.parentNode;const h=Ne.fromDom(r);if(n(h))return X.some(h);if(l(h))break}return X.none()},ns=(e,n,o)=>ou((l,h)=>h(l),js,e,n,o),su=(e,n)=>{const o=e.dom;return o.parentNode?wp(Ne.fromDom(o.parentNode),r=>!es(e,r)&&n(r)):X.none()},wp=(e,n)=>{const o=l=>n(Ne.fromDom(l));return Is(e.dom.childNodes,o).map(Ne.fromDom)},S0=(e,n)=>{const o=r=>{for(let l=0;l<r.childNodes.length;l++){const h=Ne.fromDom(r.childNodes[l]);if(n(h))return X.some(h);const v=o(r.childNodes[l]);if(v.isSome())return v}return X.none()};return o(e.dom)},Ja=(e,n,o)=>js(e,r=>_a(r,n),o),Tp=(e,n)=>zv(n,e),ru=(e,n,o)=>ou((l,h)=>_a(l,h),Ja,e,n,o),Ml=e=>ru(e,"[contenteditable]"),Dh=(e,n=!1)=>ur(e)?e.dom.isContentEditable:Ml(e).fold(rt(n),o=>io(o)==="true"),io=e=>e.dom.contentEditable,gc=e=>e.style!==void 0&&Te(e.style.getPropertyValue),ym=(e,n,o)=>{if(!ee(o))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);gc(e)&&e.style.setProperty(n,o)},sb=(e,n)=>{gc(e)&&e.style.removeProperty(n)},xi=(e,n,o)=>{const r=e.dom;ym(r,n,o)},Ha=(e,n)=>{const o=e.dom;dn(n,(r,l)=>{ym(o,l,r)})},el=(e,n)=>{const o=e.dom,l=window.getComputedStyle(o).getPropertyValue(n);return l===""&&!ur(e)?iu(o,n):l},iu=(e,n)=>gc(e)?e.style.getPropertyValue(n):"",oa=(e,n)=>{const o=e.dom,r=iu(o,n);return X.from(r).filter(l=>l.length>0)},Nl=e=>{const n={},o=e.dom;if(gc(o))for(let r=0;r<o.style.length;r++){const l=o.style.item(r);n[l]=o.style[l]}return n},Ea=(e,n)=>{const o=e.dom;sb(o,n),$e(pc(e,"style").map(td),"")&&Ir(e,"style")},Cp=e=>e.dom.offsetWidth,bs=(e,n)=>{ts(e).each(r=>{r.dom.insertBefore(n.dom,e.dom)})},kl=(e,n)=>{Qa(e).fold(()=>{ts(e).each(l=>{kr(l,n)})},r=>{bs(r,n)})},Iu=(e,n)=>{ft(e).fold(()=>{kr(e,n)},r=>{e.dom.insertBefore(n.dom,r.dom)})},kr=(e,n)=>{e.dom.appendChild(n.dom)},Sp=(e,n)=>{bs(e,n),kr(n,e)},_m=(e,n)=>{Ge(n,(o,r)=>{const l=r===0?e:n[r-1];kl(l,o)})},lf=(e,n)=>{Ge(n,o=>{kr(e,o)})},dr=e=>{e.dom.textContent="",Ge(qe(e),n=>{Pr(n)})},Pr=e=>{const n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},vc=e=>{const n=qe(e);n.length>0&&_m(e,n),Pr(e)},au=(e,n)=>{const r=(n||document).createElement("div");return r.innerHTML=e,qe(Ne.fromDom(r))},Xf=e=>en(e,Ne.fromDom),Mh=e=>e.dom.innerHTML,Nh=(e,n)=>{const r=$t(e).dom,l=Ne.fromDom(r.createDocumentFragment()),h=au(n,r);lf(l,h),dr(e),kr(e,l)},ye=e=>{const n=Ne.fromTag("div"),o=Ne.fromDom(e.dom.cloneNode(!0));return kr(n,o),Mh(n)},Qf=(e,n,o,r,l,h,v)=>({target:e,x:n,y:o,stop:r,prevent:l,kill:h,raw:v}),Em=e=>{const n=Ne.fromDom(Zr(e).getOr(e.target)),o=()=>e.stopPropagation(),r=()=>e.preventDefault(),l=F(r,o);return Qf(n,e.clientX,e.clientY,o,r,l,e)},cu=(e,n)=>o=>{e(o)&&n(Em(o))},Js=(e,n,o,r,l)=>{const h=cu(o,r);return e.dom.addEventListener(n,h,l),{unbind:Ze(wm,e,n,h,l)}},rb=(e,n,o,r)=>Js(e,n,o,r,!1),wm=(e,n,o,r)=>{e.dom.removeEventListener(n,o,r)},Uv=(e,n)=>({left:e,top:n,translate:(r,l)=>Uv(e+r,n+l)}),bc=Uv,ib=e=>{const n=e.getBoundingClientRect();return bc(n.left,n.top)},Rg=(e,n)=>e!==void 0?e:n!==void 0?n:0,Wv=e=>{const n=e.dom.ownerDocument,o=n.body,r=n.defaultView,l=n.documentElement;if(o===e.dom)return bc(o.offsetLeft,o.offsetTop);const h=Rg(r==null?void 0:r.pageYOffset,l.scrollTop),v=Rg(r==null?void 0:r.pageXOffset,l.scrollLeft),A=Rg(l.clientTop,o.clientTop),R=Rg(l.clientLeft,o.clientLeft);return id(e).translate(v-R,h-A)},id=e=>{const n=e.dom,r=n.ownerDocument.body;return r===n?bc(r.offsetLeft,r.offsetTop):ur(e)?ib(n):bc(0,0)},Gv=e=>{const n=e!==void 0?e.dom:document,o=n.body.scrollLeft||n.documentElement.scrollLeft,r=n.body.scrollTop||n.documentElement.scrollTop;return bc(o,r)},ec=(e,n,o)=>{const l=(o!==void 0?o.dom:document).defaultView;l&&l.scrollTo(e,n)},Jf=(e,n)=>{Bs().browser.isSafari()&&Te(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},ab=e=>{const n=e===void 0?window:e;return Bs().browser.isFirefox()?X.none():X.from(n.visualViewport)},kh=(e,n,o,r)=>({x:e,y:n,width:o,height:r,right:e+o,bottom:n+r}),Ig=e=>{const n=e===void 0?window:e,o=n.document,r=Gv(Ne.fromDom(o));return ab(n).fold(()=>{const l=n.document.documentElement,h=l.clientWidth,v=l.clientHeight;return kh(r.left,r.top,h,v)},l=>kh(Math.max(l.pageLeft,r.left),Math.max(l.pageTop,r.top),l.width,l.height))},Dg=(e,n)=>Dn(qe(e),n),ad=(e,n)=>{let o=[];return Ge(qe(e),r=>{n(r)&&(o=o.concat([r])),o=o.concat(ad(r,n))}),o},yc=(e,n)=>Og(n,e),vl=(e,n,o)=>Ja(e,n,o).isSome();class Ai{constructor(n,o){this.node=n,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node}prev(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node}prev2(n){return this.node=this.findPreviousNode(this.node,n),this.node}findSibling(n,o,r,l){if(n){if(!l&&n[o])return n[o];if(n!==this.rootNode){let h=n[r];if(h)return h;for(let v=n.parentNode;v&&v!==this.rootNode;v=v.parentNode)if(h=v[r],h)return h}}}findPreviousNode(n,o){if(n){const r=n.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!o){for(let h=r.lastChild;h;h=h.lastChild)if(!h.lastChild)return h}return r}const l=n.parentNode;if(l&&l!==this.rootNode)return l}}}const Va=e=>n=>!!n&&n.nodeType===e,$n=e=>!!e&&!Object.getPrototypeOf(e),an=Va(1),Tm=e=>{const n=e.toLowerCase();return o=>He(o)&&o.nodeName.toLowerCase()===n},Pl=e=>{const n=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const r=o.nodeName.toLowerCase();return Fn(n,r)}return!1}},lu=(e,n)=>{const o=n.toLowerCase().split(" ");return r=>{if(an(r)){const l=r.ownerDocument.defaultView;if(l)for(let h=0;h<o.length;h++){const v=l.getComputedStyle(r,null);if((v?v.getPropertyValue(e):null)===o[h])return!0}}return!1}},jv=e=>n=>an(n)&&n.hasAttribute(e),uu=(e,n)=>o=>an(o)&&o.getAttribute(e)===n,du=e=>an(e)&&e.hasAttribute("data-mce-bogus"),Mg=e=>an(e)&&e.getAttribute("data-mce-bogus")==="all",Yr=e=>an(e)&&e.tagName==="TABLE",eh=e=>n=>!!(an(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e)),Cm=Pl(["textarea","input"]),Wt=Va(3),qv=Va(4),Zv=Va(7),_c=Va(8),uf=Va(9),th=Va(11),Lr=Tm("br"),cb=Tm("img"),Do=eh("true"),gs=eh("false"),Oi=Pl(["td","th"]),mi=Pl(["td","th","caption"]),di=Pl(["video","audio","object","embed"]),nh=Tm("li"),fi="\uFEFF",Ts=" ",fu=e=>e===fi,Rt=e=>e.replace(/\uFEFF/g,""),oh=((e,n)=>{const o=h=>{if(!e(h))throw new Error("Can only get "+n+" value of a "+n+" node");return r(h).getOr("")},r=h=>e(h)?X.from(h.dom.nodeValue):X.none();return{get:o,getOption:r,set:(h,v)=>{if(!e(h))throw new Error("Can only set raw "+n+" value of a "+n+" node");h.dom.nodeValue=v}}})(Rr,"text"),ti=e=>oh.get(e),Du=e=>oh.getOption(e),kc=(e,n)=>oh.set(e,n),bl=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],Yv=["td","th"],Pc=["thead","tbody","tfoot"],Ng=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Ec=["h1","h2","h3","h4","h5","h6"],qo=["li","dd","dt"],cd=["ul","ol","dl"],tc=["pre","script","textarea","style"],Kr=["pre"].concat(Ec),ld=e=>{let n;return o=>(n=n||ii(e,Lt),jn(n,Ds(o)))},nc=ld(bl),lb=e=>Ds(e)==="table",oc=e=>ps(e)&&!nc(e),sh=e=>ps(e)&&Ds(e)==="br",tt=ld(Ng),tl=ld(cd),Ph=ld(qo),Mu=ld(Pc),wc=ld(Yv),wa=ld(tc),Vi=ld(Kr),Kv=e=>Vi(e)||oc(e),xp=e=>{const n=[];let o=e.dom;for(;o;)n.push(Ne.fromDom(o)),o=o.lastChild;return n},Pd=e=>{const n=yc(e,"br"),o=Dn(xp(e).slice(-1),sh);n.length===o.length&&Ge(o,Pr)},Wn=()=>{const e=Ne.fromTag("br");return Eo(e,"data-mce-bogus","1"),e},df=e=>{dr(e),kr(e,Wn())},mu=e=>{xt(e).each(n=>{Jc(n).each(o=>{nc(e)&&sh(n)&&nc(o)&&Pr(n)})})},sa=fi,Ap=fu,yl=Rt,kg=an,Lh=Wt,Nu=e=>(Lh(e)&&(e=e.parentNode),kg(e)&&e.hasAttribute("data-mce-caret")),Tc=e=>Lh(e)&&Ap(e.data),_l=e=>Nu(e)||Tc(e),Pg=e=>e.firstChild!==e.lastChild||!Lr(e.firstChild),ub=(e,n)=>{var o;const l=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(sa),h=e.parentNode;if(n){const v=e.previousSibling;if(Lh(v)){if(_l(v))return v;if(Sm(v))return v.splitText(v.data.length-1)}h==null||h.insertBefore(l,e)}else{const v=e.nextSibling;if(Lh(v)){if(_l(v))return v;if($h(v))return v.splitText(1),v}e.nextSibling?h==null||h.insertBefore(l,e.nextSibling):h==null||h.appendChild(l)}return l},ud=e=>{const n=e.container();return Wt(n)?n.data.charAt(e.offset())===sa||e.isAtStart()&&Tc(n.previousSibling):!1},Op=e=>{const n=e.container();return Wt(n)?n.data.charAt(e.offset()-1)===sa||e.isAtEnd()&&Tc(n.nextSibling):!1},Lg=(e,n,o)=>{var r;const h=((r=n.ownerDocument)!==null&&r!==void 0?r:document).createElement(e);h.setAttribute("data-mce-caret",o?"before":"after"),h.setAttribute("data-mce-bogus","all"),h.appendChild(Wn().dom);const v=n.parentNode;return o?v==null||v.insertBefore(h,n):n.nextSibling?v==null||v.insertBefore(h,n.nextSibling):v==null||v.appendChild(h),h},$h=e=>Lh(e)&&e.data[0]===sa,Sm=e=>Lh(e)&&e.data[e.data.length-1]===sa,ff=e=>{var n;const o=e.getElementsByTagName("br"),r=o[o.length-1];du(r)&&((n=r.parentNode)===null||n===void 0||n.removeChild(r))},$g=e=>e&&e.hasAttribute("data-mce-caret")?(ff(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Bg=e=>Nu(e.startContainer),xs=Do,hf=gs,ra=Lr,Ll=Wt,Bh=Pl(["script","style","textarea"]),rh=Pl(["img","input","textarea","hr","iframe","video","audio","object","embed"]),db=Pl(["table"]),ni=_l,El=e=>ni(e)?!1:Ll(e)?!Bh(e.parentNode):rh(e)||ra(e)||db(e)||Ld(e),Fh=e=>an(e)&&e.getAttribute("unselectable")==="true",Ld=e=>!Fh(e)&&hf(e),$d=(e,n)=>{for(let o=e.parentNode;o&&o!==n;o=o.parentNode){if(Ld(o))return!1;if(xs(o))return!0}return!0},mf=e=>Ld(e)?!Us(Xs(e.getElementsByTagName("*")),(n,o)=>n||xs(o),!1):!1,nl=e=>rh(e)||mf(e),zi=(e,n)=>El(e)&&$d(e,n),Fg=/^[ \t\r\n]*$/,ia=e=>Fg.test(e),$l=e=>" \f	\v".indexOf(e)!==-1,Lc=e=>e===`
`||e==="\r",xm=(e,n)=>n<e.length&&n>=0?Lc(e[n]):!1,pf=(e,n=4,o=!0,r=!0)=>{const l=Ol(" ",n),h=e.replace(/\t/g,l);return Us(h,(A,R)=>$l(R)||R===Ts?A.pcIsSpace||A.str===""&&o||A.str.length===h.length-1&&r||xm(h,A.str.length+1)?{pcIsSpace:!1,str:A.str+Ts}:{pcIsSpace:!0,str:A.str+" "}:{pcIsSpace:Lc(R),str:A.str+R},{pcIsSpace:!1,str:""}).str},Xv=(e,n)=>{const o=Ne.fromDom(n),r=Ne.fromDom(e);return vl(r,"pre,code",Ze(es,o))},fb=(e,n)=>Wt(e)&&ia(e.data)&&!Xv(e,n),fr=e=>an(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),Hg=(e,n)=>El(e)&&!fb(e,n)||fr(e)||$c(e),$c=jv("data-mce-bookmark"),Vg=jv("data-mce-bogus"),zg=uu("data-mce-bogus","all"),pu=(e,n)=>{let o=0;if(Hg(e,e))return!1;{let r=e.firstChild;if(!r)return!0;const l=new Ai(r,e);do{if(n){if(zg(r)){r=l.next(!0);continue}if(Vg(r)){r=l.next();continue}}if(Lr(r)){o++,r=l.next();continue}if(Hg(r,e))return!1;r=l.next()}while(r);return o<=1}},Fs=(e,n=!0)=>pu(e.dom,n),gf="data-mce-block",dd=e=>Dn(uc(e),n=>!/[A-Z]/.test(n)),Ug=e=>dd(e).join(","),Hh=(e,n)=>He(n.querySelector(e))?(n.setAttribute(gf,"true"),n.getAttribute("data-mce-selected")==="inline-boundary"&&n.removeAttribute("data-mce-selected"),!0):(n.removeAttribute(gf),!1),Rp=(e,n)=>{const o=Ug(e.getTransparentElements()),r=Ug(e.getBlockElements());return Dn(n.querySelectorAll(o),l=>Hh(r,l))},Am=(e,n)=>{var o;const r=n?"lastChild":"firstChild";for(let l=e[r];l;l=l[r])if(Fs(Ne.fromDom(l))){(o=l.parentNode)===null||o===void 0||o.removeChild(l);return}},hb=(e,n)=>{const o=document.createRange(),r=e.parentNode;if(r){o.setStartBefore(e),o.setEndBefore(n);const l=o.extractContents();Am(l,!0),o.setStartAfter(n),o.setEndAfter(e);const h=o.extractContents();Am(h,!1),Fs(Ne.fromDom(l))||r.insertBefore(l,e),Fs(Ne.fromDom(n))||r.insertBefore(n,e),Fs(Ne.fromDom(h))||r.insertBefore(h,e),r.removeChild(e)}},ol=(e,n,o)=>{const r=e.getBlockElements(),l=Ne.fromDom(n),h=A=>Ds(A)in r,v=A=>es(A,l);Ge(Xf(o),A=>{js(A,h,v).each(R=>{const H=Dg(A,te=>h(te)&&!e.isValidChild(Ds(R),Ds(te)));if(H.length>0){const te=Si(R);Ge(H,Q=>{js(Q,h,v).each(ce=>{hb(ce.dom,Q.dom)})}),te.each(Q=>Rp(e,Q.dom))}})})},ku=(e,n,o)=>{Ge([...o,...hd(e,n)?[n]:[]],r=>Ge(yc(Ne.fromDom(r),r.nodeName.toLowerCase()),l=>{Qv(e,l.dom)&&vc(l)}))},vf=(e,n)=>{const o=Rp(e,n);ol(e,n,o),ku(e,n,o)},fd=(e,n)=>{if(Om(e,n)){const o=Ug(e.getBlockElements());Hh(o,n)}},Pu=(e,n,o)=>{const r=h=>es(h,Ne.fromDom(n)),l=Qs(Ne.fromDom(o),r);Zl(l,l.length-2).filter(ps).fold(()=>vf(e,n),h=>vf(e,h.dom))},Bl=e=>e.hasAttribute(gf),Lu=(e,n)=>jn(e.getTransparentElements(),n),Om=(e,n)=>an(n)&&Lu(e,n.nodeName),hd=(e,n)=>Om(e,n)&&Bl(n),Qv=(e,n)=>Om(e,n)&&!Bl(n),Vh=(e,n)=>n.type===1&&Lu(e,n.name)&&ee(n.attr(gf)),zh=(e,n)=>n.type===1&&Lu(e,n.name)&&bt(n.attr(gf)),Wg=Bs().browser,Rm=e=>Is(e,ps),ls=e=>Wg.isFirefox()&&Ds(e)==="table"?Rm(qe(e)).filter(n=>Ds(n)==="caption").bind(n=>Rm(Be(n)).map(o=>{const r=o.dom.offsetTop,l=n.dom.offsetTop,h=n.dom.offsetHeight;return r<=l?-h:0})).getOr(0):0,Nn=(e,n)=>e.children&&Fn(e.children,n),md=(e,n,o)=>{let r=0,l=0;const h=e.ownerDocument;if(o=o||e,n){if(o===e&&n.getBoundingClientRect&&el(Ne.fromDom(e),"position")==="static"){const A=n.getBoundingClientRect();return r=A.left+(h.documentElement.scrollLeft||e.scrollLeft)-h.documentElement.clientLeft,l=A.top+(h.documentElement.scrollTop||e.scrollTop)-h.documentElement.clientTop,{x:r,y:l}}let v=n;for(;v&&v!==o&&v.nodeType&&!Nn(v,o);){const A=v;r+=A.offsetLeft||0,l+=A.offsetTop||0,v=A.offsetParent}for(v=n.parentNode;v&&v!==o&&v.nodeType&&!Nn(v,o);)r-=v.scrollLeft||0,l-=v.scrollTop||0,v=v.parentNode;l+=ls(Ne.fromDom(n))}return{x:r,y:l}},$u=(e,n={})=>{let o=0;const r={},l=Ne.fromDom(e),h=Dt(l),v=_e=>{n.referrerPolicy=_e},A=_e=>{n.contentCssCors=_e},R=_e=>{kr(zo(l),_e)},H=_e=>{const Ie=zo(l);Tp(Ie,"#"+_e).each(Pr)},te=_e=>gr(r,_e).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),Q=_e=>new Promise((Ie,We)=>{let Fe;const Xe=Ce._addCacheSuffix(_e),lt=te(Xe);r[Xe]=lt,lt.count++;const Ot=(mt,En)=>{Ge(mt,Vo),lt.status=En,lt.passed=[],lt.failed=[],Fe&&(Fe.onload=null,Fe.onerror=null,Fe=null)},cn=()=>Ot(lt.passed,2),Qt=()=>Ot(lt.failed,3);if(Ie&&lt.passed.push(Ie),We&&lt.failed.push(We),lt.status===1)return;if(lt.status===2){cn();return}if(lt.status===3){Qt();return}lt.status=1;const pt=Ne.fromTag("link",h.dom);ei(pt,{rel:"stylesheet",type:"text/css",id:lt.id}),n.contentCssCors&&Eo(pt,"crossOrigin","anonymous"),n.referrerPolicy&&Eo(pt,"referrerpolicy",n.referrerPolicy),Fe=pt.dom,Fe.onload=cn,Fe.onerror=Qt,R(pt),Eo(pt,"href",Xe)}),ce=_e=>Promise.allSettled(en(_e,We=>Q(We).then(rt(We)))).then(We=>{const Fe=va(We,Xe=>Xe.status==="fulfilled");return Fe.fail.length>0?Promise.reject(en(Fe.fail,Xe=>Xe.reason)):en(Fe.pass,Xe=>Xe.value)}),Re=_e=>{const Ie=Ce._addCacheSuffix(_e);gr(r,Ie).each(We=>{--We.count===0&&(delete r[Ie],H(We.id))})};return{load:Q,loadAll:ce,unload:Re,unloadAll:_e=>{Ge(_e,Ie=>{Re(Ie)})},_setReferrerPolicy:v,_setContentCssCors:A}},pd=(()=>{const e=new WeakMap;return{forElement:(o,r)=>{const h=fo(o).dom;return X.from(e.get(h)).getOrThunk(()=>{const v=$u(h,r);return e.set(h,v),v})}}})(),Jv=e=>e.nodeName.toLowerCase()==="span",er=(e,n)=>He(e)&&(Hg(e,n)||oc(Ne.fromDom(e))),Bu=(e,n)=>{const o=new Ai(e,n).prev(!1),r=new Ai(e,n).next(!1),l=bt(o)||er(o,n),h=bt(r)||er(r,n);return l&&h},Gg=e=>Jv(e)&&e.getAttribute("data-mce-type")==="bookmark",jg=(e,n)=>Wt(e)&&e.data.length>0&&Bu(e,n),kt=e=>an(e)?e.childNodes.length>0:!1,qg=e=>th(e)||uf(e),gd=(e,n,o)=>{var r;const l=o||n;if(an(n)&&Gg(n))return n;const h=n.childNodes;for(let v=h.length-1;v>=0;v--)gd(e,h[v],l);if(an(n)){const v=n.childNodes;v.length===1&&Gg(v[0])&&((r=n.parentNode)===null||r===void 0||r.insertBefore(v[0],n))}return!qg(n)&&!Hg(n,l)&&!kt(n)&&!jg(n,l)&&e.remove(n),n},ih=Ce.makeMap,Ip=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,bf=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Dm=/[<>&\"\']/g,ah=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Mm={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},Ui={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},wr={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Cc=e=>{const n=Ne.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},vd=(e,n)=>{const o={};if(e){const r=e.split(",");n=n||10;for(let l=0;l<r.length;l+=2){const h=String.fromCharCode(parseInt(r[l],n));if(!Ui[h]){const v="&"+r[l+1]+";";o[h]=v,o[v]=h}}return o}else return},gu=vd("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),re=(e,n)=>e.replace(n?Ip:bf,o=>Ui[o]||o),D=e=>(""+e).replace(Dm,n=>Ui[n]||n),Z=(e,n)=>e.replace(n?Ip:bf,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":Ui[o]||"&#"+o.charCodeAt(0)+";"),Ae=(e,n,o)=>{const r=o||gu;return e.replace(n?Ip:bf,l=>Ui[l]||r[l]||l)},St={encodeRaw:re,encodeAllRaw:D,encodeNumeric:Z,encodeNamed:Ae,getEncodeFunc:(e,n)=>{const o=vd(n)||gu,r=(v,A)=>v.replace(A?Ip:bf,R=>Ui[R]!==void 0?Ui[R]:o[R]!==void 0?o[R]:R.length>1?"&#"+((R.charCodeAt(0)-55296)*1024+(R.charCodeAt(1)-56320)+65536)+";":"&#"+R.charCodeAt(0)+";"),l=(v,A)=>Ae(v,A,o),h=ih(e.replace(/\+/g,","));return h.named&&h.numeric?r:h.named?n?l:Ae:h.numeric?Z:re},decode:e=>e.replace(ah,(n,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):Mm[o]||String.fromCharCode(o)):wr[n]||gu[n]||Cc(n))},Ut={},on={},ao={},Tn=Ce.makeMap,ro=Ce.each,zt=Ce.extend,os=Ce.explode,oi=Ce.inArray,So=(e,n)=>(e=Ce.trim(e),e?e.split(n||" "):[]),or=(e,n={})=>{const o=Tn(e," ",Tn(e.toUpperCase()," "));return zt(o,n)},sr=e=>or("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Hs=e=>{const n={};let o,r,l,h;const v=(R,H="",te="")=>{const Q=So(te),ce=So(R);let Re=ce.length;for(;Re--;){const Me=So([o,H].join(" "));n[ce[Re]]={attributes:ii(Me,()=>({})),attributesOrder:Me,children:ii(Q,rt(ao))}}},A=(R,H)=>{const te=So(R),Q=So(H);let ce=te.length;for(;ce--;){const Re=n[te[ce]];for(let Me=0,_e=Q.length;Me<_e;Me++)Re.attributes[Q[Me]]={},Re.attributesOrder.push(Q[Me])}};if(Ut[e])return Ut[e];if(o="id accesskey class dir lang style tabindex title role",r="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",l="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"){const R="a ins del canvas map";o+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",r+=" article aside details dialog figure main header footer hgroup section nav "+R,l+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"}if(e!=="html5-strict"){o+=" xml:lang";const R="acronym applet basefont big font strike tt";l=[l,R].join(" "),ro(So(R),te=>{v(te,"",l)});const H="center dir isindex noframes";r=[r,H].join(" "),h=[r,l].join(" "),ro(So(H),te=>{v(te,"",h)})}return h=h||[r,l].join(" "),v("html","manifest","head body"),v("head","","base command link meta noscript script style title"),v("title hr noscript br"),v("base","href target"),v("link","href rel media hreflang type sizes hreflang"),v("meta","name http-equiv content charset"),v("style","media type scoped"),v("script","src async defer type charset"),v("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",h),v("address dt dd div caption","",h),v("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",l),v("blockquote","cite",h),v("ol","reversed start type","li"),v("ul","","li"),v("li","value",h),v("dl","","dt dd"),v("a","href target rel media hreflang type",h),v("q","cite",l),v("ins del","cite datetime",h),v("img","src sizes srcset alt usemap ismap width height"),v("iframe","src name width height",h),v("embed","src type width height"),v("object","data type typemustmatch name usemap form width height",[h,"param"].join(" ")),v("param","name value"),v("map","name",[h,"area"].join(" ")),v("area","alt coords shape href target rel media hreflang type"),v("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),v("colgroup","span","col"),v("col","span"),v("tbody thead tfoot","","tr"),v("tr","","td th"),v("td","colspan rowspan headers",h),v("th","colspan rowspan headers scope abbr",h),v("form","accept-charset action autocomplete enctype method name novalidate target",h),v("fieldset","disabled form name",[h,"legend"].join(" ")),v("label","form for",l),v("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),v("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?h:l),v("select","disabled form multiple name required size","option optgroup"),v("optgroup","disabled label","option"),v("option","disabled label selected value"),v("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),v("menu","type label",[h,"li"].join(" ")),v("noscript","",h),e!=="html4"&&(v("wbr"),v("ruby","",[l,"rt rp"].join(" ")),v("figcaption","",h),v("mark rt rp summary bdi","",l),v("canvas","width height",h),v("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[h,"track source"].join(" ")),v("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[h,"track source"].join(" ")),v("picture","","img source"),v("source","src srcset type media sizes"),v("track","kind src srclang label default"),v("datalist","",[l,"option"].join(" ")),v("article section nav aside main header footer","",h),v("hgroup","","h1 h2 h3 h4 h5 h6"),v("figure","",[h,"figcaption"].join(" ")),v("time","datetime",l),v("dialog","open",h),v("command","type label icon disabled checked radiogroup command"),v("output","for form name",l),v("progress","value max",l),v("meter","value min max low high optimum",l),v("details","open",[h,"summary"].join(" ")),v("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(A("script","language xml:space"),A("style","xml:space"),A("object","declare classid code codebase codetype archive standby align border hspace vspace"),A("embed","align name hspace vspace"),A("param","valuetype type"),A("a","charset name rev shape coords"),A("br","clear"),A("applet","codebase archive code object alt name width height align hspace vspace"),A("img","name longdesc align border hspace vspace"),A("iframe","longdesc frameborder marginwidth marginheight scrolling align"),A("font basefont","size color face"),A("input","usemap align"),A("select"),A("textarea"),A("h1 h2 h3 h4 h5 h6 div p legend caption","align"),A("ul","type compact"),A("li","type"),A("ol dl menu dir","compact"),A("pre","width xml:space"),A("hr","align noshade size width"),A("isindex","prompt"),A("table","summary width frame rules cellspacing cellpadding align bgcolor"),A("col","width align char charoff valign"),A("colgroup","width align char charoff valign"),A("thead","align char charoff valign"),A("tr","align char charoff valign bgcolor"),A("th","axis align char charoff valign nowrap bgcolor width height"),A("form","accept"),A("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),A("tfoot","align char charoff valign"),A("tbody","align char charoff valign"),A("area","nohref"),A("body","background bgcolor text link vlink alink")),e!=="html4"&&(A("input button select textarea","autofocus"),A("input textarea","placeholder"),A("a","download"),A("link script img","crossorigin"),A("img","loading"),A("iframe","sandbox seamless allow allowfullscreen loading")),e!=="html4"&&Ge([n.video,n.audio],R=>{delete R.children.audio,delete R.children.video}),ro(So("a form meter progress dfn"),R=>{n[R]&&delete n[R].children[R]}),delete n.caption.children.table,delete n.script,Ut[e]=n,n},Tr=(e,n)=>{if(e){const o={};return ee(e)&&(e={"*":e}),ro(e,(r,l)=>{o[l]=o[l.toUpperCase()]=n==="map"?Tn(r,/[, ]/):os(r,/[, ]/)}),o}else return},Uo=(e={})=>{var n;const o={},r={};let l=[];const h={},v={},A=(bo,Ss,cr)=>{const Ar=e[bo];if(Ar)return Tn(Ar,/[, ]/,Tn(Ar.toUpperCase(),/[, ]/));{let ki=on[bo];return ki||(ki=or(Ss,cr),on[bo]=ki),ki}},R=(n=e.schema)!==null&&n!==void 0?n:"html5",H=Hs(R);e.verify_html===!1&&(e.valid_elements="*[*]");const te=Tr(e.valid_styles),Q=Tr(e.invalid_styles,"map"),ce=Tr(e.valid_classes,"map"),Re=A("whitespace_elements","pre script noscript style textarea video audio iframe object code"),Me=A("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),_e=A("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),Ie=A("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),We="td th iframe video audio object script code",Fe=A("non_empty_elements",We+" pre",_e),Xe=A("move_caret_before_on_enter_elements",We+" table",_e),lt=A("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),Ot=A("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",lt),cn=A("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),Qt=A("transparent_elements","a ins del canvas map");ro("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),bo=>{v[bo]=new RegExp("</"+bo+"[^>]*>","gi")});const pt=bo=>new RegExp("^"+bo.replace(/([?+*])/g,".$1")+"$"),mt=bo=>{const Ss=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,cr=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,Ar=/[*?+]/;if(bo){const ki=So(bo,",");let pa,si;o["@"]&&(pa=o["@"].attributes,si=o["@"].attributesOrder);for(let qa=0,om=ki.length;qa<om;qa++){let jl=Ss.exec(ki[qa]);if(jl){const gg=jl[1],Bf=jl[2],m_=jl[3],p_=jl[5],vg={},lp=[],cc={attributes:vg,attributesOrder:lp};if(gg==="#"&&(cc.paddEmpty=!0),gg==="-"&&(cc.removeEmpty=!0),jl[4]==="!"&&(cc.removeEmptyAttrs=!0),pa&&(dn(pa,(sm,bg)=>{vg[bg]=sm}),si&&lp.push(...si)),p_){const sm=So(p_,"|");for(let bg=0,Zu=sm.length;bg<Zu;bg++)if(jl=cr.exec(sm[bg]),jl){const rm={},Iv=jl[1],Tu=jl[2].replace(/[\\:]:/g,":"),X1=jl[3],yg=jl[4];if(Iv==="!"&&(cc.attributesRequired=cc.attributesRequired||[],cc.attributesRequired.push(Tu),rm.required=!0),Iv==="-"){delete vg[Tu],lp.splice(oi(lp,Tu),1);continue}if(X1&&(X1==="="&&(cc.attributesDefault=cc.attributesDefault||[],cc.attributesDefault.push({name:Tu,value:yg}),rm.defaultValue=yg),X1==="~"&&(cc.attributesForced=cc.attributesForced||[],cc.attributesForced.push({name:Tu,value:yg}),rm.forcedValue=yg),X1==="<"&&(rm.validValues=Tn(yg,"?"))),Ar.test(Tu)){const Ff=rm;cc.attributePatterns=cc.attributePatterns||[],Ff.pattern=pt(Tu),cc.attributePatterns.push(Ff)}else vg[Tu]||lp.push(Tu),vg[Tu]=rm}}if(!pa&&Bf==="@"&&(pa=vg,si=lp),m_&&(cc.outputName=Bf,o[m_]=cc),Ar.test(Bf)){const sm=cc;sm.pattern=pt(Bf),l.push(sm)}else o[Bf]=cc}}}},En=bo=>{l=[],Ge(uc(o),Ss=>{delete o[Ss]}),mt(bo),ro(H,(Ss,cr)=>{r[cr]=Ss.children})},Bn=bo=>{const Ss=/^(~)?(.+)$/;bo&&(delete on.text_block_elements,delete on.block_elements,ro(So(bo,","),cr=>{const Ar=Ss.exec(cr);if(Ar){const ki=Ar[1]==="~",pa=ki?"span":"div",si=Ar[2];if(r[si]=r[pa],h[si]=pa,Fe[si.toUpperCase()]={},Fe[si]={},ki||(Ot[si.toUpperCase()]={},Ot[si]={}),!o[si]){let qa=o[pa];qa=zt({},qa),delete qa.removeEmptyAttrs,delete qa.removeEmpty,o[si]=qa}ro(r,(qa,om)=>{qa[pa]&&(r[om]=qa=zt({},r[om]),qa[si]=qa[pa])})}}))},Xn=bo=>{const Ss=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;delete Ut[R],bo&&ro(So(bo,","),cr=>{const Ar=Ss.exec(cr);if(Ar){const ki=Ar[1];let pa;ki?pa=r[Ar[2]]:pa=r[Ar[2]]={"#comment":{}},pa=r[Ar[2]],ro(So(Ar[3],"|"),si=>{ki==="-"?delete pa[si]:pa[si]={}})}})},Ro=bo=>{const Ss=o[bo];if(Ss)return Ss;let cr=l.length;for(;cr--;){const Ar=l[cr];if(Ar.pattern.test(bo))return Ar}};e.valid_elements?En(e.valid_elements):(ro(H,(bo,Ss)=>{o[Ss]={attributes:bo.attributes,attributesOrder:bo.attributesOrder},r[Ss]=bo.children}),ro(So("strong/b em/i"),bo=>{const Ss=So(bo,"/");o[Ss[1]].outputName=Ss[0]}),ro(cn,(bo,Ss)=>{o[Ss]&&(e.padd_empty_block_inline_children&&(o[Ss].paddInEmptyBlock=!0),o[Ss].removeEmpty=!0)}),ro(So("ol ul blockquote a table tbody"),bo=>{o[bo]&&(o[bo].removeEmpty=!0)}),ro(So("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),bo=>{o[bo].paddEmpty=!0}),ro(So("span"),bo=>{o[bo].removeEmptyAttrs=!0})),Bn(e.custom_elements),Xn(e.valid_children),mt(e.extended_valid_elements),Xn("+ol[ul|ol],+ul[ul|ol]"),ro({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(bo,Ss)=>{o[Ss]&&(o[Ss].parentsRequired=So(bo))}),e.invalid_elements&&ro(os(e.invalid_elements),bo=>{o[bo]&&delete o[bo]}),Ro("span")||mt("span[!data-mce-type|*]");const rs=rt(te),zs=rt(Q),xr=rt(ce),Ki=rt(Ie),fl=rt(Ot),Oc=rt(lt),Yt=rt(cn),kn=rt(Object.seal(_e)),Es=rt(Me),mn=rt(Fe),Gn=rt(Xe),Kn=rt(Re),gn=rt(Qt),Ko=rt(Object.seal(v)),Xo=(bo,Ss)=>{const cr=r[bo.toLowerCase()];return!!(cr&&cr[Ss.toLowerCase()])},Wc=(bo,Ss)=>{const cr=Ro(bo);if(cr)if(Ss){if(cr.attributes[Ss])return!0;const Ar=cr.attributePatterns;if(Ar){let ki=Ar.length;for(;ki--;)if(Ar[ki].pattern.test(Ss))return!0}}else return!0;return!1},Qr=rt(h);return{type:R,children:r,elements:o,getValidStyles:rs,getValidClasses:xr,getBlockElements:fl,getInvalidStyles:zs,getVoidElements:kn,getTextBlockElements:Oc,getTextInlineElements:Yt,getBoolAttrs:Ki,getElementRule:Ro,getSelfClosingElements:Es,getNonEmptyElements:mn,getMoveCaretBeforeOnEnterElements:Gn,getWhitespaceElements:Kn,getTransparentElements:gn,getSpecialElements:Ko,isValidChild:Xo,isValid:Wc,getCustomElements:Qr,addValidElements:mt,setValidElements:En,addCustomElements:Bn,addValidChildren:Xn}},hr=(e={},n)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,l=/\s+$/,h={};let v,A;const R=fi;n&&(v=n.getValidStyles(),A=n.getInvalidStyles());const H=(`\\" \\' \\; \\: ; : `+R).split(" ");for(let Q=0;Q<H.length;Q++)h[H[Q]]=R+Q,h[R+Q]=H[Q];const te={parse:Q=>{const ce={};let Re=!1;const Me=e.url_converter,_e=e.url_converter_scope||te,Ie=(pt,mt,En)=>{const Bn=ce[pt+"-top"+mt];if(!Bn)return;const Xn=ce[pt+"-right"+mt];if(!Xn)return;const Ro=ce[pt+"-bottom"+mt];if(!Ro)return;const rs=ce[pt+"-left"+mt];if(!rs)return;const zs=[Bn,Xn,Ro,rs];let xr=zs.length-1;for(;xr--&&zs[xr]===zs[xr+1];);xr>-1&&En||(ce[pt+mt]=xr===-1?zs[0]:zs.join(" "),delete ce[pt+"-top"+mt],delete ce[pt+"-right"+mt],delete ce[pt+"-bottom"+mt],delete ce[pt+"-left"+mt])},We=pt=>{const mt=ce[pt];if(!mt)return;const En=mt.split(" ");let Bn=En.length;for(;Bn--;)if(En[Bn]!==En[0])return!1;return ce[pt]=En[0],!0},Fe=(pt,mt,En,Bn)=>{We(mt)&&We(En)&&We(Bn)&&(ce[pt]=ce[mt]+" "+ce[En]+" "+ce[Bn],delete ce[mt],delete ce[En],delete ce[Bn])},Xe=pt=>(Re=!0,h[pt]),lt=(pt,mt)=>(Re&&(pt=pt.replace(/\uFEFF[0-9]/g,En=>h[En])),mt||(pt=pt.replace(/\\([\'\";:])/g,"$1")),pt),Ot=pt=>String.fromCharCode(parseInt(pt.slice(1),16)),cn=pt=>pt.replace(/\\[0-9a-f]+/gi,Ot),Qt=(pt,mt,En,Bn,Xn,Ro)=>{if(Xn=Xn||Ro,Xn)return Xn=lt(Xn),"'"+Xn.replace(/\'/g,"\\'")+"'";if(mt=lt(mt||En||Bn||""),!e.allow_script_urls){const rs=mt.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(rs)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(rs))return""}return Me&&(mt=Me.call(_e,mt,"style")),"url('"+mt.replace(/\'/g,"\\'")+"')"};if(Q){Q=Q.replace(/[\u0000-\u001F]/g,""),Q=Q.replace(/\\[\"\';:\uFEFF]/g,Xe).replace(/\"[^\"]+\"|\'[^\']+\'/g,mt=>mt.replace(/[;:]/g,Xe));let pt;for(;pt=r.exec(Q);){r.lastIndex=pt.index+pt[0].length;let mt=pt[1].replace(l,"").toLowerCase(),En=pt[2].replace(l,"");if(mt&&En){if(mt=cn(mt),En=cn(En),mt.indexOf(R)!==-1||mt.indexOf('"')!==-1||!e.allow_script_urls&&(mt==="behavior"||/expression\s*\(|\/\*|\*\//.test(En)))continue;mt==="font-weight"&&En==="700"?En="bold":(mt==="color"||mt==="background-color")&&(En=En.toLowerCase()),En=En.replace(o,Qt),ce[mt]=Re?lt(En,!0):En}}Ie("border","",!0),Ie("border","-width"),Ie("border","-color"),Ie("border","-style"),Ie("padding",""),Ie("margin",""),Fe("border","border-width","border-style","border-color"),ce.border==="medium none"&&delete ce.border,ce["border-image"]==="none"&&delete ce["border-image"]}return ce},serialize:(Q,ce)=>{let Re="";const Me=(Ie,We)=>{const Fe=We[Ie];if(Fe)for(let Xe=0,lt=Fe.length;Xe<lt;Xe++){const Ot=Fe[Xe],cn=Q[Ot];cn&&(Re+=(Re.length>0?" ":"")+Ot+": "+cn+";")}},_e=(Ie,We)=>{if(!A||!We)return!0;let Fe=A["*"];return Fe&&Fe[Ie]?!1:(Fe=A[We],!(Fe&&Fe[Ie]))};return ce&&v?(Me("*",v),Me(ce,v)):dn(Q,(Ie,We)=>{Ie&&_e(We,ce)&&(Re+=(Re.length>0?" ":"")+We+": "+Ie+";")}),Re}};return te},rr={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},aa=e=>e instanceof Event||Te(e.initEvent),ca=e=>e.isDefaultPrevented===Lt||e.isDefaultPrevented===nt,Wi=e=>It(e.preventDefault)||aa(e),pi=(e,n)=>{const o=n??{};for(const r in e)jn(rr,r)||(o[r]=e[r]);return He(e.composedPath)&&(o.composedPath=()=>e.composedPath()),o},Ta=(e,n,o,r)=>{var l;const h=pi(n,r);return h.type=e,It(h.target)&&(h.target=(l=h.srcElement)!==null&&l!==void 0?l:o),Wi(n)&&(h.preventDefault=()=>{h.defaultPrevented=!0,h.isDefaultPrevented=Lt,Te(n.preventDefault)&&n.preventDefault()},h.stopPropagation=()=>{h.cancelBubble=!0,h.isPropagationStopped=Lt,Te(n.stopPropagation)&&n.stopPropagation()},h.stopImmediatePropagation=()=>{h.isImmediatePropagationStopped=Lt,h.stopPropagation()},ca(h)||(h.isDefaultPrevented=h.defaultPrevented===!0?Lt:nt,h.isPropagationStopped=h.cancelBubble===!0?Lt:nt,h.isImmediatePropagationStopped=nt)),h},Bc="mce-data-",sl=/^(?:mouse|contextmenu)|click/,Bd=(e,n,o,r)=>{e.addEventListener(n,o,r||!1)},Fl=(e,n,o,r)=>{e.removeEventListener(n,o,r||!1)},Fc=e=>He(e)&&sl.test(e.type),gi=(e,n)=>{const o=Ta(e.type,e,document,n);if(Fc(e)&&bt(e.pageX)&&!bt(e.clientX)){const r=o.target.ownerDocument||document,l=r.documentElement,h=r.body,v=o;v.pageX=e.clientX+(l&&l.scrollLeft||h&&h.scrollLeft||0)-(l&&l.clientLeft||h&&h.clientLeft||0),v.pageY=e.clientY+(l&&l.scrollTop||h&&h.scrollTop||0)-(l&&l.clientTop||h&&h.clientTop||0)}return o},Ca=(e,n,o)=>{const r=e.document,l={type:"ready"};if(o.domLoaded){n(l);return}const h=()=>r.readyState==="complete"||r.readyState==="interactive"&&r.body,v=()=>{Fl(e,"DOMContentLoaded",v),Fl(e,"load",v),o.domLoaded||(o.domLoaded=!0,n(l)),e=null};h()?v():Bd(e,"DOMContentLoaded",v),o.domLoaded||Bd(e,"load",v)};class rl{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=Bc+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(n,o,r,l){const h=this;let v;const A=window,R=ce=>{h.executeHandlers(gi(ce||A.event),H)};if(!n||Wt(n)||_c(n))return r;let H;n[h.expando]?H=n[h.expando]:(H=h.count++,n[h.expando]=H,h.events[H]={}),l=l||n;const te=o.split(" ");let Q=te.length;for(;Q--;){let ce=te[Q],Re=R,Me=!1,_e=!1;if(ce==="DOMContentLoaded"&&(ce="ready"),h.domLoaded&&ce==="ready"&&n.readyState==="complete"){r.call(l,gi({type:ce}));continue}!h.hasFocusIn&&(ce==="focusin"||ce==="focusout")&&(Me=!0,_e=ce==="focusin"?"focus":"blur",Re=Ie=>{const We=gi(Ie||A.event);We.type=We.type==="focus"?"focusin":"focusout",h.executeHandlers(We,H)}),v=h.events[H][ce],v?ce==="ready"&&h.domLoaded?r(gi({type:ce})):v.push({func:r,scope:l}):(h.events[H][ce]=v=[{func:r,scope:l}],v.fakeName=_e,v.capture=Me,v.nativeHandler=Re,ce==="ready"?Ca(n,Re,h):Bd(n,_e||ce,Re,Me))}return n=v=null,r}unbind(n,o,r){if(!n||Wt(n)||_c(n))return this;const l=n[this.expando];if(l){let h=this.events[l];if(o){const v=o.split(" ");let A=v.length;for(;A--;){const R=v[A],H=h[R];if(H){if(r){let te=H.length;for(;te--;)if(H[te].func===r){const Q=H.nativeHandler,ce=H.fakeName,Re=H.capture,Me=H.slice(0,te).concat(H.slice(te+1));Me.nativeHandler=Q,Me.fakeName=ce,Me.capture=Re,h[R]=Me}}(!r||H.length===0)&&(delete h[R],Fl(n,H.fakeName||R,H.nativeHandler,H.capture))}}}else dn(h,(v,A)=>{Fl(n,v.fakeName||A,v.nativeHandler,v.capture)}),h={};for(const v in h)if(jn(h,v))return this;delete this.events[l];try{delete n[this.expando]}catch{n[this.expando]=null}}return this}fire(n,o,r){return this.dispatch(n,o,r)}dispatch(n,o,r){if(!n||Wt(n)||_c(n))return this;const l=gi({type:o,target:n},r);do{const h=n[this.expando];h&&this.executeHandlers(l,h),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow}while(n&&!l.isPropagationStopped());return this}clean(n){if(!n||Wt(n)||_c(n))return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName){this.unbind(n);const o=n.getElementsByTagName("*");let r=o.length;for(;r--;)n=o[r],n[this.expando]&&this.unbind(n)}return this}destroy(){this.events={}}cancel(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1}executeHandlers(n,o){const r=this.events[o],l=r&&r[n.type];if(l)for(let h=0,v=l.length;h<v;h++){const A=l[h];if(A&&A.func.call(A.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}}}rl.Event=new rl;const bd=Ce.each,Nm=Ce.grep,Fd="data-mce-style",wl=Ce.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),Fu=(e,n,o)=>{It(o)||o===""?Ir(e,n):Eo(e,n,o)},Hl=e=>e.replace(/[A-Z]/g,n=>"-"+n.toLowerCase()),Gi=(e,n)=>{let o=0;if(e)for(let r=e.nodeType,l=e.previousSibling;l;l=l.previousSibling){const h=l.nodeType;n&&Wt(l)&&(h===r||!l.data.length)||(o++,r=h)}return o},Hu=(e,n)=>{const o=Ka(n,"style"),r=e.serialize(e.parse(o),Ds(n));Fu(n,Fd,r)},Uh=(e,n)=>bn(e)?jn(wl,n)?e+"":e+"px":e,Dp=(e,n,o)=>{const r=Hl(n);It(o)||o===""?Ea(e,r):xi(e,r,Uh(o,r))},e1=(e,n,o)=>{const r=n.keep_values,l={set:(v,A,R)=>{const H=Ne.fromDom(v);Te(n.url_converter)&&He(A)&&(A=n.url_converter.call(n.url_converter_scope||o(),String(A),R,v));const te="data-mce-"+R;Fu(H,te,A),Fu(H,R,A)},get:(v,A)=>{const R=Ne.fromDom(v);return Ka(R,"data-mce-"+A)||Ka(R,A)}},h={style:{set:(v,A)=>{const R=Ne.fromDom(v);r&&Fu(R,Fd,A),Ir(R,"style"),ee(A)&&Ha(R,e.parse(A))},get:v=>{const A=Ne.fromDom(v),R=Ka(A,Fd)||Ka(A,"style");return e.serialize(e.parse(R),Ds(A))}}};return r&&(h.href=h.src=l),h},qs=(e,n={})=>{const o={},r=window,l={};let h=0;const v=!0,A=!0,R=pd.forElement(Ne.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),H=[],te=n.schema?n.schema:Uo({}),Q=hr({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),ce=n.ownEvents?new rl:rl.Event,Re=te.getBlockElements(),Me=ut=>ee(ut)?jn(Re,ut):an(ut)&&(jn(Re,ut.nodeName)||hd(te,ut)),_e=ut=>ut&&e&&ee(ut)?e.getElementById(ut):ut,Ie=ut=>{const dt=_e(ut);return He(dt)?Ne.fromDom(dt):null},We=(ut,dt,Jt="")=>{let jt;const Un=Ie(ut);if(He(Un)&&ps(Un)){const Qo=g_[dt];Qo&&Qo.get?jt=Qo.get(Un.dom,dt):jt=Ka(Un,dt)}return He(jt)?jt:Jt},Fe=ut=>{const dt=_e(ut);return It(dt)?[]:dt.attributes},Xe=(ut,dt,Jt)=>{kn(ut,jt=>{if(an(jt)){const Un=Ne.fromDom(jt),Qo=Jt===""?null:Jt,Mr=Ka(Un,dt),jr=g_[dt];jr&&jr.set?jr.set(Un.dom,Qo,dt):Fu(Un,dt,Qo),Mr!==Qo&&n.onSetAttrib&&n.onSetAttrib({attrElm:Un.dom,attrName:dt,attrValue:Qo})}})},lt=(ut,dt)=>ut.cloneNode(dt),Ot=()=>n.root_element||e.body,cn=ut=>{const dt=Ig(ut);return{x:dt.x,y:dt.y,w:dt.width,h:dt.height}},Qt=(ut,dt)=>md(e.body,_e(ut),dt),pt=(ut,dt,Jt)=>{kn(ut,jt=>{const Un=Ne.fromDom(jt);Dp(Un,dt,Jt),n.update_styles&&Hu(Q,Un)})},mt=(ut,dt)=>{kn(ut,Jt=>{const jt=Ne.fromDom(Jt);dn(dt,(Un,Qo)=>{Dp(jt,Qo,Un)}),n.update_styles&&Hu(Q,jt)})},En=(ut,dt,Jt)=>{const jt=_e(ut);if(!(It(jt)||!an(jt)))return Jt?el(Ne.fromDom(jt),Hl(dt)):(dt=dt.replace(/-(\D)/g,(Un,Qo)=>Qo.toUpperCase()),dt==="float"&&(dt="cssFloat"),jt.style?jt.style[dt]:void 0)},Bn=ut=>{const dt=_e(ut);if(!dt)return{w:0,h:0};let Jt=En(dt,"width"),jt=En(dt,"height");return(!Jt||Jt.indexOf("px")===-1)&&(Jt="0"),(!jt||jt.indexOf("px")===-1)&&(jt="0"),{w:parseInt(Jt,10)||dt.offsetWidth||dt.clientWidth,h:parseInt(jt,10)||dt.offsetHeight||dt.clientHeight}},Xn=ut=>{const dt=_e(ut),Jt=Qt(dt),jt=Bn(dt);return{x:Jt.x,y:Jt.y,w:jt.w,h:jt.h}},Ro=(ut,dt)=>{if(!ut)return!1;const Jt=V(ut)?ut:[ut];return ko(Jt,jt=>_a(Ne.fromDom(jt),dt))},rs=(ut,dt,Jt,jt)=>{const Un=[];let Qo=_e(ut);jt=jt===void 0;const Mr=Jt||(Ot().nodeName!=="BODY"?Ot().parentNode:null);if(ee(dt))if(dt==="*")dt=an;else{const jr=dt;dt=Mv=>Ro(Mv,jr)}for(;Qo&&!(Qo===Mr||It(Qo.nodeType)||uf(Qo)||th(Qo));){if(!dt||dt(Qo))if(jt)Un.push(Qo);else return[Qo];Qo=Qo.parentNode}return jt?Un:null},zs=(ut,dt,Jt)=>{const jt=rs(ut,dt,Jt,!1);return jt&&jt.length>0?jt[0]:null},xr=(ut,dt,Jt)=>{let jt=dt;if(ut){ee(dt)&&(jt=Un=>Ro(Un,dt));for(let Un=ut[Jt];Un;Un=Un[Jt])if(Te(jt)&&jt(Un))return Un}return null},Ki=(ut,dt)=>xr(ut,dt,"nextSibling"),fl=(ut,dt)=>xr(ut,dt,"previousSibling"),Oc=ut=>Te(ut.querySelectorAll),Yt=(ut,dt)=>{var Jt,jt;const Un=(jt=(Jt=_e(dt))!==null&&Jt!==void 0?Jt:n.root_element)!==null&&jt!==void 0?jt:e;return Oc(Un)?Xs(Un.querySelectorAll(ut)):[]},kn=function(ut,dt,Jt){const jt=Jt??this;if(V(ut)){const Un=[];return bd(ut,(Qo,Mr)=>{const jr=_e(Qo);jr&&Un.push(dt.call(jt,jr,Mr))}),Un}else{const Un=_e(ut);return Un?dt.call(jt,Un):!1}},Es=(ut,dt)=>{kn(ut,Jt=>{dn(dt,(jt,Un)=>{Xe(Jt,Un,jt)})})},mn=(ut,dt)=>{kn(ut,Jt=>{const jt=Ne.fromDom(Jt);Nh(jt,dt)})},Gn=(ut,dt,Jt,jt,Un)=>kn(ut,Qo=>{const Mr=ee(dt)?e.createElement(dt):dt;return He(Jt)&&Es(Mr,Jt),jt&&(!ee(jt)&&jt.nodeType?Mr.appendChild(jt):ee(jt)&&mn(Mr,jt)),Un?Mr:Qo.appendChild(Mr)}),Kn=(ut,dt,Jt)=>Gn(e.createElement(ut),ut,dt,Jt,!0),gn=St.decode,Ko=St.encodeAllRaw,Xo=(ut,dt,Jt="")=>{let jt="<"+ut;for(const Un in dt)dc(dt,Un)&&(jt+=" "+Un+'="'+Ko(dt[Un])+'"');return $i(Jt)&&jn(te.getVoidElements(),ut)?jt+" />":jt+">"+Jt+"</"+ut+">"},Wc=ut=>{const dt=e.createElement("div"),Jt=e.createDocumentFragment();Jt.appendChild(dt),ut&&(dt.innerHTML=ut);let jt;for(;jt=dt.firstChild;)Jt.appendChild(jt);return Jt.removeChild(dt),Jt},Qr=(ut,dt)=>kn(ut,Jt=>{const jt=Ne.fromDom(Jt);return dt&&Ge(qe(jt),Un=>{Rr(Un)&&Un.dom.length===0?Pr(Un):bs(jt,Un)}),Pr(jt),jt.dom}),bo=ut=>kn(ut,dt=>{const Jt=dt.attributes;for(let jt=Jt.length-1;jt>=0;jt--)dt.removeAttributeNode(Jt.item(jt))}),Ss=ut=>Q.parse(ut),cr=(ut,dt)=>Q.serialize(ut,dt),Ar=ut=>{if(up!==qs.DOM&&e===document){if(o[ut])return;o[ut]=!0}let dt=e.getElementById("mceDefaultStyles");if(!dt){dt=e.createElement("style"),dt.id="mceDefaultStyles",dt.type="text/css";const Jt=e.head;Jt.firstChild?Jt.insertBefore(dt,Jt.firstChild):Jt.appendChild(dt)}dt.styleSheet?dt.styleSheet.cssText+=ut:dt.appendChild(e.createTextNode(ut))},ki=ut=>{ut||(ut=""),Ge(ut.split(","),dt=>{l[dt]=!0,R.load(dt).catch(Mt)})},pa=(ut,dt,Jt)=>{kn(ut,jt=>{if(an(jt)){const Un=Ne.fromDom(jt),Qo=dt.split(" ");Ge(Qo,Mr=>{He(Jt)?(Jt?kd:Xa)(Un,Mr):$a(Un,Mr)})}})},si=(ut,dt)=>{pa(ut,dt,!0)},qa=(ut,dt)=>{pa(ut,dt,!1)},om=(ut,dt)=>{const Jt=Ie(ut),jt=dt.split(" ");return He(Jt)&&Or(jt,Un=>rd(Jt,Un))},jl=ut=>{kn(ut,dt=>Ea(Ne.fromDom(dt),"display"))},gg=ut=>{kn(ut,dt=>xi(Ne.fromDom(dt),"display","none"))},Bf=ut=>{const dt=Ie(ut);return He(dt)&&$e(oa(dt,"display"),"none")},m_=ut=>(ut||"mce_")+h++,p_=ut=>{const dt=Ie(ut);return He(dt)?an(dt.dom)?dt.dom.outerHTML:ye(dt):""},vg=(ut,dt)=>{kn(ut,Jt=>{an(Jt)&&(Jt.outerHTML=dt)})},lp=(ut,dt)=>{const Jt=_e(dt);return kn(ut,jt=>{const Un=Jt==null?void 0:Jt.parentNode,Qo=Jt==null?void 0:Jt.nextSibling;return Un&&(Qo?Un.insertBefore(jt,Qo):Un.appendChild(jt)),jt})},cc=(ut,dt,Jt)=>kn(dt,jt=>{var Un;const Qo=V(dt)?ut.cloneNode(!0):ut;return Jt&&bd(Nm(jt.childNodes),Mr=>{Qo.appendChild(Mr)}),(Un=jt.parentNode)===null||Un===void 0||Un.replaceChild(Qo,jt),jt}),sm=(ut,dt)=>{if(ut.nodeName!==dt.toUpperCase()){const Jt=Kn(dt);return bd(Fe(ut),jt=>{Xe(Jt,jt.nodeName,We(ut,jt.nodeName))}),cc(Jt,ut,!0),Jt}else return ut},bg=(ut,dt)=>{let Jt=ut;for(;Jt;){let jt=dt;for(;jt&&Jt!==jt;)jt=jt.parentNode;if(Jt===jt)break;Jt=Jt.parentNode}return!Jt&&ut.ownerDocument?ut.ownerDocument.documentElement:Jt},Zu=ut=>{if(an(ut)){const dt=ut.nodeName.toLowerCase()==="a"&&!We(ut,"href")&&We(ut,"id");if(We(ut,"name")||We(ut,"data-mce-bookmark")||dt)return!0}return!1},rm=(ut,dt)=>{let Jt=0;if(Zu(ut))return!1;const jt=ut.firstChild;if(jt){const Un=new Ai(jt,ut),Qo=te?te.getWhitespaceElements():{},Mr=dt||(te?te.getNonEmptyElements():null);let jr=jt;do{if(an(jr)){const Mv=jr.getAttribute("data-mce-bogus");if(Mv){jr=Un.next(Mv==="all");continue}const Hf=jr.nodeName.toLowerCase();if(Mr&&Mr[Hf]){if(Hf==="br"){Jt++,jr=Un.next();continue}return!1}if(Zu(jr))return!1}if(_c(jr)||Wt(jr)&&!ia(jr.data)||Wt(jr)&&jr.parentNode&&Qo[jr.parentNode.nodeName]&&ia(jr.data))return!1;jr=Un.next()}while(jr)}return Jt<=1},Iv=()=>e.createRange(),Tu=(ut,dt,Jt)=>{let jt=Iv(),Un,Qo;if(ut&&dt&&ut.parentNode&&dt.parentNode){const Mr=ut.parentNode;return jt.setStart(Mr,Gi(ut)),jt.setEnd(dt.parentNode,Gi(dt)),Un=jt.extractContents(),jt=Iv(),jt.setStart(dt.parentNode,Gi(dt)+1),jt.setEnd(Mr,Gi(ut)+1),Qo=jt.extractContents(),Mr.insertBefore(gd(up,Un),ut),Jt?Mr.insertBefore(Jt,ut):Mr.insertBefore(dt,ut),Mr.insertBefore(gd(up,Qo),ut),Qr(ut),Jt||dt}else return},X1=(ut,dt,Jt,jt)=>{if(V(ut)){let Un=ut.length;const Qo=[];for(;Un--;)Qo[Un]=X1(ut[Un],dt,Jt,jt);return Qo}else return n.collect&&(ut===e||ut===r)&&H.push([ut,dt,Jt,jt]),ce.bind(ut,dt,Jt,jt||up)},yg=(ut,dt,Jt)=>{if(V(ut)){let jt=ut.length;const Un=[];for(;jt--;)Un[jt]=yg(ut[jt],dt,Jt);return Un}else{if(H.length>0&&(ut===e||ut===r)){let jt=H.length;for(;jt--;){const[Un,Qo,Mr]=H[jt];ut===Un&&(!dt||dt===Qo)&&(!Jt||Jt===Mr)&&ce.unbind(Un,Qo,Mr)}}return ce.unbind(ut,dt,Jt)}},Ff=(ut,dt,Jt)=>ce.dispatch(ut,dt,Jt),Dv=(ut,dt,Jt)=>ce.dispatch(ut,dt,Jt),ZS=ut=>{if(ut&&an(ut)){const dt=ut.getAttribute("data-mce-contenteditable");return dt&&dt!=="inherit"?dt:ut.contentEditable!=="inherit"?ut.contentEditable:null}else return null},up={doc:e,settings:n,win:r,files:l,stdMode:v,boxModel:A,styleSheetLoader:R,boundEvents:H,styles:Q,schema:te,events:ce,isBlock:Me,root:null,clone:lt,getRoot:Ot,getViewPort:cn,getRect:Xn,getSize:Bn,getParent:zs,getParents:rs,get:_e,getNext:Ki,getPrev:fl,select:Yt,is:Ro,add:Gn,create:Kn,createHTML:Xo,createFragment:Wc,remove:Qr,setStyle:pt,getStyle:En,setStyles:mt,removeAllAttribs:bo,setAttrib:Xe,setAttribs:Es,getAttrib:We,getPos:Qt,parseStyle:Ss,serializeStyle:cr,addStyle:Ar,loadCSS:ki,addClass:si,removeClass:qa,hasClass:om,toggleClass:pa,show:jl,hide:gg,isHidden:Bf,uniqueId:m_,setHTML:mn,getOuterHTML:p_,setOuterHTML:vg,decode:gn,encode:Ko,insertAfter:lp,replace:cc,rename:sm,findCommonAncestor:bg,run:kn,getAttribs:Fe,isEmpty:rm,createRng:Iv,nodeIndex:Gi,split:Tu,bind:X1,unbind:yg,fire:Dv,dispatch:Ff,getContentEditable:ZS,getContentEditableParent:ut=>{const dt=Ot();let Jt=null;for(let jt=ut;jt&&jt!==dt&&(Jt=ZS(jt),Jt===null);jt=jt.parentNode);return Jt},isEditable:ut=>{if(He(ut)){const dt=an(ut)?ut:ut.parentElement,Jt=ZS(Ot())==="true";return He(dt)&&Dh(Ne.fromDom(dt),Jt)}else return!1},destroy:()=>{if(H.length>0){let ut=H.length;for(;ut--;){const[dt,Jt,jt]=H[ut];ce.unbind(dt,Jt,jt)}}dn(l,(ut,dt)=>{R.unload(dt),delete l[dt]})},isChildOf:(ut,dt)=>ut===dt||dt.contains(ut),dumpRng:ut=>"startContainer: "+ut.startContainer.nodeName+", startOffset: "+ut.startOffset+", endContainer: "+ut.endContainer.nodeName+", endOffset: "+ut.endOffset},g_=e1(Q,n,rt(up));return up};qs.DOM=qs(document),qs.nodeIndex=Gi;const x0=qs.DOM,t1=0,A0=1,Zg=2,Wh=3;class Hd{constructor(n={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=n}_setReferrerPolicy(n){this.settings.referrerPolicy=n}loadScript(n){return new Promise((o,r)=>{const l=x0;let h;const v=()=>{l.remove(H),h&&(h.onerror=h.onload=h=null)},A=()=>{v(),o()},R=()=>{v(),r("Failed to load script: "+n)},H=l.uniqueId();h=document.createElement("script"),h.id=H,h.type="text/javascript",h.src=Ce._addCacheSuffix(n),this.settings.referrerPolicy&&l.setAttrib(h,"referrerpolicy",this.settings.referrerPolicy),h.onload=A,h.onerror=R,(document.getElementsByTagName("head")[0]||document.body).appendChild(h)})}isDone(n){return this.states[n]===Zg}markDone(n){this.states[n]=Zg}add(n){const o=this;return o.queue.push(n),o.states[n]===void 0&&(o.states[n]=t1),new Promise((l,h)=>{o.scriptLoadedCallbacks[n]||(o.scriptLoadedCallbacks[n]=[]),o.scriptLoadedCallbacks[n].push({resolve:l,reject:h})})}load(n){return this.add(n)}remove(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]}loadQueue(){const n=this.queue;return this.queue=[],this.loadScripts(n)}loadScripts(n){const o=this,r=(R,H)=>{gr(o.scriptLoadedCallbacks,H).each(te=>{Ge(te,Q=>Q[R](H))}),delete o.scriptLoadedCallbacks[H]},l=R=>{const H=Dn(R,te=>te.status==="rejected");return H.length>0?Promise.reject(Ya(H,({reason:te})=>V(te)?te:[te])):Promise.resolve()},h=R=>Promise.allSettled(en(R,H=>o.states[H]===Zg?(r("resolve",H),Promise.resolve()):o.states[H]===Wh?(r("reject",H),Promise.reject(H)):(o.states[H]=A0,o.loadScript(H).then(()=>{o.states[H]=Zg,r("resolve",H);const te=o.queue;return te.length>0?(o.queue=[],h(te).then(l)):Promise.resolve()},()=>(o.states[H]=Wh,r("reject",H),Promise.reject(H)))))),v=R=>(o.loading=!0,h(R).then(H=>{o.loading=!1;const te=o.queueLoadedCallbacks.shift();return X.from(te).each(Vo),l(H)})),A=Oh(n);return o.loading?new Promise((R,H)=>{o.queueLoadedCallbacks.push(()=>v(A).then(R,H))}):v(A)}}Hd.ScriptLoader=new Hd;const Ri=e=>{let n=e;return{get:()=>n,set:l=>{n=l}}},yf=e=>ke(e)&&jn(e,"raw"),_f=e=>V(e)&&e.length>1,Xr={},Mp=Ri("en"),km=()=>gr(Xr,Mp.get()),wf={getData:()=>jo(Xr,e=>({...e})),setCode:e=>{e&&Mp.set(e)},getCode:()=>Mp.get(),add:(e,n)=>{let o=Xr[e];o||(Xr[e]=o={}),dn(n,(r,l)=>{o[l.toLowerCase()]=r})},translate:e=>{const n=km().getOr({}),o=v=>Te(v)?Object.prototype.toString.call(v):r(v)?"":""+v,r=v=>v===""||v===null||v===void 0,l=v=>{const A=o(v);return gr(n,A.toLowerCase()).map(o).getOr(A)},h=v=>v.replace(/{context:\w+}$/,"");if(r(e))return"";if(yf(e))return o(e.raw);if(_f(e)){const v=e.slice(1),A=l(e[0]).replace(/\{([0-9]+)\}/g,(R,H)=>jn(v,H)?o(v[H]):R);return h(A)}return h(l(e))},isRtl:()=>km().bind(e=>gr(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>jn(Xr,e)},ks=()=>{const e=[],n={},o={},r=[],l=(_e,Ie)=>{const We=Dn(r,Fe=>Fe.name===_e&&Fe.state===Ie);Ge(We,Fe=>Fe.resolve())},h=_e=>jn(n,_e),v=_e=>jn(o,_e),A=_e=>{if(o[_e])return o[_e].instance},R=(_e,Ie)=>{const We=wf.getCode(),Fe=","+(Ie||"")+",";!We||Ie&&Fe.indexOf(","+We+",")===-1||Hd.ScriptLoader.add(n[_e]+"/langs/"+We+".js")},H=(_e,Ie)=>{ks.languageLoad!==!1&&(h(_e)?R(_e,Ie):Me(_e,"loaded").then(()=>R(_e,Ie)))},te=(_e,Ie)=>(e.push(Ie),o[_e]={instance:Ie},l(_e,"added"),Ie),Q=_e=>{delete n[_e],delete o[_e]},ce=(_e,Ie)=>ee(Ie)?ee(_e)?{prefix:"",resource:Ie,suffix:""}:{prefix:_e.prefix,resource:Ie,suffix:_e.suffix}:Ie,Re=(_e,Ie)=>{if(n[_e])return Promise.resolve();let We=ee(Ie)?Ie:Ie.prefix+Ie.resource+Ie.suffix;We.indexOf("/")!==0&&We.indexOf("://")===-1&&(We=ks.baseURL+"/"+We),n[_e]=We.substring(0,We.lastIndexOf("/"));const Fe=()=>(l(_e,"loaded"),Promise.resolve());return o[_e]?Fe():Hd.ScriptLoader.add(We).then(Fe)},Me=(_e,Ie="added")=>Ie==="added"&&v(_e)||Ie==="loaded"&&h(_e)?Promise.resolve():new Promise(We=>{r.push({name:_e,state:Ie,resolve:We})});return{items:e,urls:n,lookup:o,get:A,requireLangPack:H,add:te,remove:Q,createUrl:ce,load:Re,waitFor:Me}};ks.languageLoad=!0,ks.baseURL="",ks.PluginManager=ks(),ks.ThemeManager=ks(),ks.ModelManager=ks();const R_=e=>{const n=Ri(X.none()),o=()=>n.get().each(e);return{clear:()=>{o(),n.set(X.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:A=>{o(),n.set(X.some(A))}}},Zs=e=>{const n=Ri(X.none()),o=()=>n.get().each(A=>clearInterval(A));return{clear:()=>{o(),n.set(X.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:A=>{o(),n.set(X.some(setInterval(A,e)))}}},Sa=()=>{const e=R_(Mt);return{...e,on:o=>e.get().each(o)}},yd=(e,n)=>{let o=null;return{cancel:()=>{we(o)||(clearTimeout(o),o=null)},throttle:(...h)=>{we(o)&&(o=setTimeout(()=>{o=null,e.apply(null,h)},n))}}},Tl=(e,n)=>{let o=null;const r=()=>{we(o)||(clearTimeout(o),o=null)};return{cancel:r,throttle:(...h)=>{r(),o=setTimeout(()=>{o=null,e.apply(null,h)},n)}}},Pm=rt("mce-annotation"),Yg=rt("data-mce-annotation"),Gh=rt("data-mce-annotation-uid"),Vu=rt("data-mce-annotation-active"),zd=rt("data-mce-annotation-classes"),Lm=rt("data-mce-annotation-attrs"),o1=e=>n=>es(n,e),O0=(e,n)=>{const o=e.selection.getRng(),r=Ne.fromDom(o.startContainer),l=Ne.fromDom(e.getBody()),h=n.fold(()=>"."+Pm(),R=>`[${Yg()}="${R}"]`),v=Vt(r,o.startOffset).getOr(r);return ru(v,h,o1(l)).bind(R=>pc(R,`${Gh()}`).bind(H=>pc(R,`${Yg()}`).map(te=>{const Q=Kg(e,H);return{uid:H,name:te,elements:Q}})))},I_=e=>ps(e)&&rd(e,Pm()),D_=(e,n)=>na(e,"data-mce-bogus")||vl(e,'[data-mce-bogus="all"]',o1(n)),Kg=(e,n)=>{const o=Ne.fromDom(e.getBody()),r=yc(o,`[${Gh()}="${n}"]`);return Dn(r,l=>!D_(l,o))},R0=(e,n)=>{const o=Ne.fromDom(e.getBody()),r=yc(o,`[${Yg()}="${n}"]`),l={};return Ge(r,h=>{if(!D_(h,o)){const v=Ka(h,Gh()),A=gr(l,v).getOr([]);l[v]=A.concat([h])}}),l},qw=(e,n)=>{const o=Ri({}),r=()=>({listeners:[],previous:Sa()}),l=(Q,ce)=>{h(Q,Re=>(ce(Re),Re))},h=(Q,ce)=>{const Re=o.get(),Me=gr(Re,Q).getOrThunk(r),_e=ce(Me);Re[Q]=_e,o.set(Re)},v=(Q,ce,Re)=>{l(Q,Me=>{Ge(Me.listeners,_e=>_e(!0,Q,{uid:ce,nodes:en(Re,Ie=>Ie.dom)}))})},A=Q=>{l(Q,ce=>{Ge(ce.listeners,Re=>Re(!1,Q))})},R=(Q,ce)=>{Ge(Kg(e,Q),Re=>{ce?Eo(Re,Vu(),"true"):Ir(Re,Vu())})},H=Tl(()=>{const Q=Ls(n.getNames());Ge(Q,ce=>{h(ce,Re=>{const Me=Re.previous.get();return O0(e,X.some(ce)).fold(()=>{Me.each(_e=>{A(ce),Re.previous.clear(),R(_e,!1)})},({uid:_e,name:Ie,elements:We})=>{$e(Me,_e)||(Me.each(Fe=>R(Fe,!1)),v(Ie,_e,We),Re.previous.set(_e),R(_e,!0))}),{previous:Re.previous,listeners:Re.listeners}})})},30);return e.on("remove",()=>{H.cancel()}),e.on("NodeChange",()=>{H.throttle()}),{addListener:(Q,ce)=>{h(Q,Re=>({previous:Re.previous,listeners:Re.listeners.concat([ce])}))}}},Zw=(e,n)=>{const o=Yg(),r=h=>X.from(h.attr(o)).bind(n.lookup),l=h=>{var v,A;h.attr(Gh(),null),h.attr(Yg(),null),h.attr(Vu(),null);const R=X.from(h.attr(Lm())).map(ce=>ce.split(",")).getOr([]),H=X.from(h.attr(zd())).map(ce=>ce.split(",")).getOr([]);Ge(R,ce=>h.attr(ce,null));const te=(A=(v=h.attr("class"))===null||v===void 0?void 0:v.split(" "))!==null&&A!==void 0?A:[],Q=Jd(te,[Pm()].concat(H));h.attr("class",Q.length>0?Q.join(" "):null),h.attr(zd(),null),h.attr(Lm(),null)};e.serializer.addTempAttr(Vu()),e.serializer.addAttributeFilter(o,h=>{for(const v of h)r(v).each(A=>{A.persistent===!1&&(v.name==="span"?v.unwrap():l(v))})})},M_=()=>{const e={};return{register:(l,h)=>{e[l]={name:l,settings:h}},lookup:l=>gr(e,l).map(h=>h.settings),getNames:()=>uc(e)}};let N_=0;const I0=e=>{const o=new Date().getTime(),r=Math.floor(Math.random()*1e9);return N_++,e+"_"+r+N_+String(o)},k_=(e,n)=>{Ge(n,o=>{kd(e,o)})},Yw=(e,n)=>{Ge(n,o=>{Xa(e,o)})},D0=(e,n)=>Ne.fromDom(e.dom.cloneNode(n)),kp=e=>D0(e,!1),M0=e=>D0(e,!0),Kw=(e,n)=>{const o=Ne.fromTag(n),r=Yf(e);return ei(o,r),o},Xw=(e,n)=>{const o=Kw(e,n);kl(e,o);const r=qe(e);return lf(o,r),Pr(e),o},P_=(e,n,o=nt)=>{const r=new Ai(e,n),l=h=>{let v;do v=r[h]();while(v&&!Wt(v)&&!o(v));return X.from(v).filter(Wt)};return{current:()=>X.from(r.current()).filter(Wt),next:()=>l("next"),prev:()=>l("prev"),prev2:()=>l("prev2")}},$r=(e,n)=>{const o=n||(v=>e.isBlock(v)||Lr(v)||gs(v)),r=(v,A,R,H)=>{if(Wt(v)){const te=H(v,A,v.data);if(te!==-1)return X.some({container:v,offset:te})}return R().bind(te=>r(te.container,te.offset,R,H))};return{backwards:(v,A,R,H)=>{const te=P_(v,H??e.getRoot(),o);return r(v,A,()=>te.prev().map(Q=>({container:Q,offset:Q.length})),R).getOrNull()},forwards:(v,A,R,H)=>{const te=P_(v,H??e.getRoot(),o);return r(v,A,()=>te.next().map(Q=>({container:Q,offset:0})),R).getOrNull()}}},ch=Math.round,$m=e=>e?{left:ch(e.left),top:ch(e.top),bottom:ch(e.bottom),right:ch(e.right),width:ch(e.width),height:ch(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},L_=(e,n)=>(e=$m(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),pb=(e,n)=>e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right,Hc=(e,n,o)=>e>=0&&e<=Math.min(n.height,o.height)/2,Vl=(e,n)=>{const o=Math.min(n.height/2,e.height/2);return e.bottom-o<n.top?!0:e.top>n.bottom?!1:Hc(n.top-e.bottom,e,n)},Pp=(e,n)=>e.top>n.bottom?!0:e.bottom<n.top?!1:Hc(n.bottom-e.top,e,n),gb=(e,n,o)=>n>=e.left&&n<=e.right&&o>=e.top&&o<=e.bottom,N0=e=>Us(e,(n,o)=>n.fold(()=>X.some(o),r=>{const l=Math.min(o.left,r.left),h=Math.min(o.top,r.top),v=Math.max(o.right,r.right),A=Math.max(o.bottom,r.bottom);return X.some({top:h,right:v,bottom:A,left:l,width:v-l,height:A-h})}),X.none()),$_=(e,n,o)=>{const r=Math.max(Math.min(n,e.left+e.width),e.left),l=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((n-r)*(n-r)+(o-l)*(o-l))},k0=(e,n)=>Math.max(0,Math.min(e.bottom,n.bottom)-Math.max(e.top,n.top)),B_=(e,n,o)=>Math.min(Math.max(e,n),o),vu=e=>{const n=e.startContainer,o=e.startOffset;return n===e.endContainer&&n.hasChildNodes()&&e.endOffset===o+1?n.childNodes[o]:null},jh=(e,n)=>{if(an(e)&&e.hasChildNodes()){const o=e.childNodes,r=B_(n,0,o.length-1);return o[r]}else return e},Ur=(e,n)=>{if(!(n<0&&an(e)&&e.hasChildNodes()))return jh(e,n)},lh=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),Tf=e=>ee(e)&&e.charCodeAt(0)>=768&&lh.test(e),Qw=(...e)=>n=>{for(let o=0;o<e.length;o++)if(e[o](n))return!0;return!1},F_=(...e)=>n=>{for(let o=0;o<e.length;o++)if(!e[o](n))return!1;return!0},P0=an,Lp=El,L0=lu("display","block table"),Xg=lu("float","left right"),$p=F_(P0,Lp,_o(Xg)),Jw=_o(lu("white-space","pre pre-line pre-wrap")),s1=Wt,r1=Lr,$0=qs.nodeIndex,vb=Ur,Qg=e=>e?e.createRange():qs.DOM.createRng(),bb=e=>ee(e)&&/[\r\n\t ]/.test(e),Bm=e=>!!e.setStart&&!!e.setEnd,Jg=e=>{const n=e.startContainer,o=e.startOffset;if(bb(e.toString())&&Jw(n.parentNode)&&Wt(n)){const r=n.data;if(bb(r[o-1])||bb(r[o+1]))return!0}return!1},H_=e=>{const n=e.ownerDocument,o=Qg(n),r=n.createTextNode(Ts),l=e.parentNode;l.insertBefore(r,e),o.setStart(r,0),o.setEnd(r,1);const h=$m(o.getBoundingClientRect());return l.removeChild(r),h},V_=e=>{const n=e.startContainer,o=e.endContainer,r=e.startOffset,l=e.endOffset;if(n===o&&Wt(o)&&r===0&&l===1){const h=e.cloneRange();return h.setEndAfter(o),Cf(h)}else return null},i1=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,Cf=e=>{var n;let o;const r=e.getClientRects();return r.length>0?o=$m(r[0]):o=$m(e.getBoundingClientRect()),!Bm(e)&&r1(e)&&i1(o)?H_(e):i1(o)&&Bm(e)&&(n=V_(e))!==null&&n!==void 0?n:o},_d=(e,n)=>{const o=L_(e,n);return o.width=1,o.right=o.left+1,o},a1=e=>{const n=[],o=v=>{v.height!==0&&(n.length>0&&pb(v,n[n.length-1])||n.push(v))},r=(v,A)=>{const R=Qg(v.ownerDocument);if(A<v.data.length){if(Tf(v.data[A]))return;if(Tf(v.data[A-1])&&(R.setStart(v,A),R.setEnd(v,A+1),!Jg(R))){o(_d(Cf(R),!1));return}}A>0&&(R.setStart(v,A-1),R.setEnd(v,A),Jg(R)||o(_d(Cf(R),!1))),A<v.data.length&&(R.setStart(v,A),R.setEnd(v,A+1),Jg(R)||o(_d(Cf(R),!0)))},l=e.container(),h=e.offset();if(s1(l))return r(l,h),n;if(P0(l))if(e.isAtEnd()){const v=vb(l,h);s1(v)&&r(v,v.data.length),$p(v)&&!r1(v)&&o(_d(Cf(v),!1))}else{const v=vb(l,h);if(s1(v)&&r(v,0),$p(v)&&e.isAtEnd())return o(_d(Cf(v),!1)),n;const A=vb(e.container(),e.offset()-1);$p(A)&&!r1(A)&&(L0(A)||L0(v)||!$p(v))&&o(_d(Cf(A),!1)),$p(v)&&o(_d(Cf(v),!0))}return n},Qe=(e,n,o)=>{const r=()=>(s1(e),n===0),l=()=>s1(e)?n>=e.data.length:n>=e.childNodes.length,h=()=>{const te=Qg(e.ownerDocument);return te.setStart(e,n),te.setEnd(e,n),te},v=()=>(o||(o=a1(Qe(e,n))),o),A=()=>v().length>0,R=te=>te&&e===te.container()&&n===te.offset(),H=te=>vb(e,te?n-1:n);return{container:rt(e),offset:rt(n),toRange:h,getClientRects:v,isVisible:A,isAtStart:r,isAtEnd:l,isEqual:R,getNode:H}};Qe.fromRangeStart=e=>Qe(e.startContainer,e.startOffset),Qe.fromRangeEnd=e=>Qe(e.endContainer,e.endOffset),Qe.after=e=>Qe(e.parentNode,$0(e)+1),Qe.before=e=>Qe(e.parentNode,$0(e)),Qe.isAbove=(e,n)=>wt(ai(n.getClientRects()),Yl(e.getClientRects()),Vl).getOr(!1),Qe.isBelow=(e,n)=>wt(Yl(n.getClientRects()),ai(e.getClientRects()),Pp).getOr(!1),Qe.isAtStart=e=>e?e.isAtStart():!1,Qe.isAtEnd=e=>e?e.isAtEnd():!1,Qe.isTextPosition=e=>e?Wt(e.container()):!1,Qe.isElementPosition=e=>!Qe.isTextPosition(e);const Br=(e,n)=>{Wt(n)&&n.data.length===0&&e.remove(n)},Bp=(e,n,o)=>{n.insertNode(o),Br(e,o.previousSibling),Br(e,o.nextSibling)},B0=(e,n,o)=>{const r=X.from(o.firstChild),l=X.from(o.lastChild);n.insertNode(o),r.each(h=>Br(e,h.previousSibling)),l.each(h=>Br(e,h.nextSibling))},mr=(e,n,o)=>{th(o)?B0(e,n,o):Bp(e,n,o)},Ud=Wt,c1=du,xa=qs.nodeIndex,Wd=e=>{const n=e.parentNode;return c1(n)?Wd(n):n},F0=e=>e?Zc(e.childNodes,(n,o)=>(c1(o)&&o.nodeName!=="BR"?n=n.concat(F0(o)):n.push(o),n),[]):[],z_=(e,n)=>{let o=e;for(;(o=o.previousSibling)&&Ud(o);)n+=o.data.length;return n},yb=e=>n=>e===n,Fp=e=>{let n,o;n=F0(Wd(e)),o=qr(n,yb(e),e),n=n.slice(0,o+1);const r=Zc(n,(l,h,v)=>(Ud(h)&&Ud(n[v-1])&&l++,l),0);return n=ef(n,Pl([e.nodeName])),o=qr(n,yb(e),e),o-r},Fm=e=>(Ud(e)?"text()":e.nodeName.toLowerCase())+"["+Fp(e)+"]",_b=(e,n,o)=>{const r=[];for(let l=n.parentNode;l&&l!==e&&!(o&&o(l));l=l.parentNode)r.push(l);return r},l1=(e,n)=>{let o=[],r=n.container(),l=n.offset(),h;if(Ud(r))h=z_(r,l);else{const A=r.childNodes;l>=A.length?(h="after",l=A.length-1):h="before",r=A[l]}o.push(Fm(r));let v=_b(e,r);return v=ef(v,_o(du)),o=o.concat(Rc(v,A=>Fm(A))),o.reverse().join("/")+","+h},il=(e,n,o)=>{let r=F0(e);return r=ef(r,(l,h)=>!Ud(l)||!Ud(r[h-1])),r=ef(r,Pl([n])),r[o]},u1=(e,n)=>{let o=e,r=0;for(;Ud(o);){const l=o.data.length;if(n>=r&&n<=r+l){e=o,n=n-r;break}if(!Ud(o.nextSibling)){e=o,n=l;break}r+=l,o=o.nextSibling}return Ud(e)&&n>e.data.length&&(n=e.data.length),Qe(e,n)},H0=(e,n)=>{if(!n)return null;const o=n.split(","),r=o[0].split("/"),l=o.length>1?o[1]:"before",h=Zc(r,(v,A)=>{const R=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(A);return R?(R[1]==="text()"&&(R[1]="#text"),il(v,R[1],parseInt(R[2],10))):null},e);if(!h)return null;if(!Ud(h)&&h.parentNode){let v;return l==="after"?v=xa(h)+1:v=xa(h),Qe(h.parentNode,v)}return u1(h,parseInt(l,10))},d1=gs,qh=(e,n,o)=>{let r=e(n.data.slice(0,o)).length;for(let l=n.previousSibling;l&&Wt(l);l=l.previousSibling)r+=e(l.data).length;return r},al=(e,n,o,r,l)=>{const h=l?r.startContainer:r.endContainer;let v=l?r.startOffset:r.endOffset;const A=[],R=e.getRoot();if(Wt(h))A.push(o?qh(n,h,v):v);else{let H=0;const te=h.childNodes;v>=te.length&&te.length&&(H=1,v=Math.max(0,te.length-1)),A.push(e.nodeIndex(te[v],o)+H)}for(let H=h;H&&H!==R;H=H.parentNode)A.push(e.nodeIndex(H,o));return A},eT=(e,n,o,r)=>{const l=n.dom,h=al(l,e,o,r,!0),v=n.isForward(),A=Bg(r)?{isFakeCaret:!0}:{};if(n.isCollapsed())return{start:h,forward:v,...A};{const R=al(l,e,o,r,!1);return{start:h,end:R,forward:v,...A}}},za=(e,n,o)=>{let r=0;return Ce.each(e.select(n),l=>{if(l.getAttribute("data-mce-bogus")!=="all"){if(l===o)return!1;r++;return}}),r},Eb=(e,n)=>{let o=n?e.startContainer:e.endContainer,r=n?e.startOffset:e.endOffset;if(an(o)&&o.nodeName==="TR"){const l=o.childNodes;o=l[Math.min(n?r:r-1,l.length-1)],o&&(r=n?0:o.childNodes.length,n?e.setStart(o,r):e.setEnd(o,r))}},uh=e=>(Eb(e,!0),Eb(e,!1),e),f1=(e,n)=>{if(an(e)&&(e=jh(e,n),d1(e)))return e;if(_l(e)){Wt(e)&&Nu(e)&&(e=e.parentNode);let o=e.previousSibling;if(d1(o)||(o=e.nextSibling,d1(o)))return o}},U_=e=>f1(e.startContainer,e.startOffset)||f1(e.endContainer,e.endOffset),V0=(e,n,o)=>{const r=o.getNode(),l=o.getRng();if(r.nodeName==="IMG"||d1(r)){const v=r.nodeName;return{name:v,index:za(o.dom,v,r)}}const h=U_(l);if(h){const v=h.tagName;return{name:v,index:za(o.dom,v,h)}}return eT(e,o,n,l)},z0=e=>{const n=e.getRng();return{start:l1(e.dom.getRoot(),Qe.fromRangeStart(n)),end:l1(e.dom.getRoot(),Qe.fromRangeEnd(n)),forward:e.isForward()}},U0=e=>({rng:e.getRng(),forward:e.isForward()}),W0=(e,n,o)=>{const r={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return o?e.create("span",r,"&#xFEFF;"):e.create("span",r)},W_=(e,n)=>{const o=e.dom;let r=e.getRng();const l=o.uniqueId(),h=e.isCollapsed(),v=e.getNode(),A=v.nodeName,R=e.isForward();if(A==="IMG")return{name:A,index:za(o,A,v)};const H=uh(r.cloneRange());if(!h){H.collapse(!1);const Q=W0(o,l+"_end",n);mr(o,H,Q)}r=uh(r),r.collapse(!0);const te=W0(o,l+"_start",n);return mr(o,r,te),e.moveToBookmark({id:l,keep:!0,forward:R}),{id:l,forward:R}},tT=(e,n,o=!1)=>n===2?V0(yl,o,e):n===3?z0(e):n?U0(e):W_(e,!1),Ua=Ze(V0,Kt,!0),la=e=>{const n=h=>h(e),o=rt(e),r=()=>l,l={tag:!0,inner:e,fold:(h,v)=>v(e),isValue:Lt,isError:nt,map:h=>Vs.value(h(e)),mapError:r,bind:n,exists:n,forall:n,getOr:o,or:r,getOrThunk:o,orThunk:r,getOrDie:o,each:h=>{h(e)},toOptional:()=>X.some(e)};return l},Cl=e=>{const n=()=>o,o={tag:!1,inner:e,fold:(r,l)=>r(e),isValue:nt,isError:Lt,map:n,mapError:r=>Vs.error(r(e)),bind:n,exists:nt,forall:Lt,getOr:Kt,or:Kt,getOrThunk:lo,orThunk:lo,getOrDie:Ho(String(e)),each:Mt,toOptional:X.none};return o},Vs={value:la,error:Cl,fromOption:(e,n)=>e.fold(()=>Cl(n),la)},Gd={generate:e=>{if(!V(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const n=[],o={};return Ge(e,(r,l)=>{const h=uc(r);if(h.length!==1)throw new Error("one and only one name per case");const v=h[0],A=r[v];if(o[v]!==void 0)throw new Error("duplicate key detected:"+v);if(v==="cata")throw new Error("cannot have a case named cata (sorry)");if(!V(A))throw new Error("case arguments must be an array");n.push(v),o[v]=(...R)=>{const H=R.length;if(H!==A.length)throw new Error("Wrong number of arguments to case "+v+". Expected "+A.length+" ("+A+"), got "+H);return{fold:(...Q)=>{if(Q.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+Q.length);return Q[l].apply(null,R)},match:Q=>{const ce=uc(Q);if(n.length!==ce.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+ce.join(","));if(!Or(n,Me=>Fn(ce,Me)))throw new Error("Not all branches were specified when using match. Specified: "+ce.join(", ")+`
Required: `+n.join(", "));return Q[v].apply(null,R)},log:Q=>{console.log(Q,{constructors:n,constructor:v,params:R})}}}}),o}};Gd.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Zh=e=>{const n=[],o=[];return Ge(e,r=>{r.fold(l=>{n.push(l)},l=>{o.push(l)})}),{errors:n,values:o}},ys=e=>e.type==="inline-command"||e.type==="inline-format",wb=e=>e.type==="block-command"||e.type==="block-format",Sl=e=>{const n=r=>Vs.error({message:r,pattern:e}),o=(r,l,h)=>{if(e.format!==void 0){let v;if(V(e.format)){if(!Or(e.format,ee))return n(r+" pattern has non-string items in the `format` array");v=e.format}else if(ee(e.format))v=[e.format];else return n(r+" pattern has non-string `format` parameter");return Vs.value(l(v))}else return e.cmd!==void 0?ee(e.cmd)?Vs.value(h(e.cmd,e.value)):n(r+" pattern has non-string `cmd` parameter"):n(r+" pattern is missing both `format` and `cmd` parameters")};if(!ke(e))return n("Raw pattern is not an object");if(!ee(e.start))return n("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!ee(e.end))return n("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return n("Inline pattern has empty `start` and `end` parameters");let r=e.start,l=e.end;return l.length===0&&(l=r,r=""),o("Inline",h=>({type:"inline-format",start:r,end:l,format:h}),(h,v)=>({type:"inline-command",start:r,end:l,cmd:h,value:v}))}else return e.replacement!==void 0?ee(e.replacement)?e.start.length===0?n("Replacement pattern has empty `start` parameter"):Vs.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):n("Replacement pattern has non-string `replacement` parameter"):e.start.length===0?n("Block pattern has empty `start` parameter"):o("Block",r=>({type:"block-format",start:e.start,format:r[0]}),(r,l)=>({type:"block-command",start:e.start,cmd:r,value:l}))},ua=e=>Dn(e,wb),h1=e=>Dn(e,ys),Sf=(e,n)=>({inlinePatterns:h1(e),blockPatterns:ua(e),dynamicPatternsLookup:n}),G0=e=>{const n=Zh(en(e,Sl));return Ge(n.errors,o=>console.error(o.message,o.pattern)),n.values},yx=e=>n=>{const o=e(n);return G0(o)},Tb=Bs().deviceType,j0=Tb.isTouch(),Cb=qs.DOM,m1=e=>{const n=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return Us(n,(o,r)=>{const l=r.split("="),h=l[0],v=l.length>1?l[1]:h;return o[td(h)]=td(v),o},{})},G_=e=>ve(e,RegExp),wn=e=>n=>n.options.get(e),Sb=e=>ee(e)||ke(e),p1=(e,n="")=>o=>{const r=ee(o);if(r)if(o.indexOf("=")!==-1){const l=m1(o);return{value:gr(l,e.id).getOr(n),valid:r}}else return{value:o,valid:r};else return{valid:!1,message:"Must be a string."}},da=e=>{const n=e.options.register;n("id",{processor:"string",default:e.id}),n("selector",{processor:"string"}),n("target",{processor:"object"}),n("suffix",{processor:"string"}),n("cache_suffix",{processor:"string"}),n("base_url",{processor:"string"}),n("referrer_policy",{processor:"string",default:""}),n("language_load",{processor:"boolean",default:!0}),n("inline",{processor:"boolean",default:!1}),n("iframe_attrs",{processor:"object",default:{}}),n("doctype",{processor:"string",default:"<!DOCTYPE html>"}),n("document_base_url",{processor:"string",default:e.documentBaseUrl}),n("body_id",{processor:p1(e,"tinymce"),default:"tinymce"}),n("body_class",{processor:p1(e),default:""}),n("content_security_policy",{processor:"string",default:""}),n("br_in_pre",{processor:"boolean",default:!0}),n("forced_root_block",{processor:o=>{const r=ee(o)&&$s(o);return r?{value:o,valid:r}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),n("forced_root_block_attrs",{processor:"object",default:{}}),n("newline_behavior",{processor:o=>{const r=Fn(["block","linebreak","invert","default"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),n("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),n("no_newline_selector",{processor:"string",default:""}),n("keep_styles",{processor:"boolean",default:!0}),n("end_container_on_empty_block",{processor:o=>Ue(o)?{valid:!0,value:o}:ee(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),n("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),n("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),n("font_size_classes",{processor:"string",default:""}),n("automatic_uploads",{processor:"boolean",default:!0}),n("images_reuse_filename",{processor:"boolean",default:!1}),n("images_replace_blob_uris",{processor:"boolean",default:!0}),n("icons",{processor:"string",default:""}),n("icons_url",{processor:"string",default:""}),n("images_upload_url",{processor:"string",default:""}),n("images_upload_base_path",{processor:"string",default:""}),n("images_upload_credentials",{processor:"boolean",default:!1}),n("images_upload_handler",{processor:"function"}),n("language",{processor:"string",default:"en"}),n("language_url",{processor:"string",default:""}),n("entity_encoding",{processor:"string",default:"named"}),n("indent",{processor:"boolean",default:!0}),n("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_use_margin",{processor:"boolean",default:!1}),n("indentation",{processor:"string",default:"40px"}),n("content_css",{processor:o=>{const r=o===!1||ee(o)||Tt(o,ee);return r?ee(o)?{value:en(o.split(","),td),valid:r}:V(o)?{value:o,valid:r}:o===!1?{value:[],valid:r}:{value:o,valid:r}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Y0(e)?[]:["default"]}),n("content_style",{processor:"string"}),n("content_css_cors",{processor:"boolean",default:!1}),n("font_css",{processor:o=>{const r=ee(o)||Tt(o,ee);return r?{value:V(o)?o:en(o.split(","),td),valid:r}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),n("inline_boundaries",{processor:"boolean",default:!0}),n("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),n("object_resizing",{processor:o=>{const r=Ue(o)||ee(o);return r?o===!1||Tb.isiPhone()||Tb.isiPad()?{value:"",valid:r}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:r}:{valid:!1,message:"Must be boolean or a string"}},default:!j0}),n("resize_img_proportional",{processor:"boolean",default:!0}),n("event_root",{processor:"object"}),n("service_message",{processor:"string"}),n("theme",{processor:o=>o===!1||ee(o)||Te(o),default:"silver"}),n("theme_url",{processor:"string"}),n("formats",{processor:"object"}),n("format_empty_lines",{processor:"boolean",default:!1}),n("format_noneditable_selector",{processor:"string",default:""}),n("preview_styles",{processor:o=>{const r=o===!1||ee(o);return r?{value:o===!1?"":o,valid:r}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),n("custom_ui_selector",{processor:"string",default:""}),n("hidden_input",{processor:"boolean",default:!0}),n("submit_patch",{processor:"boolean",default:!0}),n("encoding",{processor:"string"}),n("add_form_submit_trigger",{processor:"boolean",default:!0}),n("add_unload_trigger",{processor:"boolean",default:!0}),n("custom_undo_redo_levels",{processor:"number",default:0}),n("disable_nodechange",{processor:"boolean",default:!1}),n("readonly",{processor:"boolean",default:!1}),n("plugins",{processor:"string[]",default:[]}),n("external_plugins",{processor:"object"}),n("forced_plugins",{processor:"string[]"}),n("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),n("model_url",{processor:"string"}),n("block_unsupported_drop",{processor:"boolean",default:!0}),n("visual",{processor:"boolean",default:!0}),n("visual_table_class",{processor:"string",default:"mce-item-table"}),n("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),n("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),n("setup",{processor:"function"}),n("init_instance_callback",{processor:"function"}),n("url_converter",{processor:"function",default:e.convertURL}),n("url_converter_scope",{processor:"object",default:e}),n("urlconverter_callback",{processor:"function"}),n("allow_conditional_comments",{processor:"boolean",default:!1}),n("allow_html_data_urls",{processor:"boolean",default:!1}),n("allow_svg_data_urls",{processor:"boolean"}),n("allow_html_in_named_anchor",{processor:"boolean",default:!1}),n("allow_script_urls",{processor:"boolean",default:!1}),n("allow_unsafe_link_target",{processor:"boolean",default:!1}),n("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),n("fix_list_elements",{processor:"boolean",default:!1}),n("preserve_cdata",{processor:"boolean",default:!1}),n("remove_trailing_brs",{processor:"boolean"}),n("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),n("element_format",{processor:"string",default:"html"}),n("entities",{processor:"string"}),n("schema",{processor:"string",default:"html5"}),n("convert_urls",{processor:"boolean",default:!0}),n("relative_urls",{processor:"boolean",default:!0}),n("remove_script_host",{processor:"boolean",default:!0}),n("custom_elements",{processor:"string"}),n("extended_valid_elements",{processor:"string"}),n("invalid_elements",{processor:"string"}),n("invalid_styles",{processor:Sb}),n("valid_children",{processor:"string"}),n("valid_classes",{processor:Sb}),n("valid_elements",{processor:"string"}),n("valid_styles",{processor:Sb}),n("verify_html",{processor:"boolean",default:!0}),n("auto_focus",{processor:o=>ee(o)||o===!0}),n("browser_spellcheck",{processor:"boolean",default:!1}),n("protect",{processor:"array"}),n("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),n("deprecation_warnings",{processor:"boolean",default:!0}),n("a11y_advanced_options",{processor:"boolean",default:!1}),n("api_key",{processor:"string"}),n("paste_block_drop",{processor:"boolean",default:!1}),n("paste_data_images",{processor:"boolean",default:!0}),n("paste_preprocess",{processor:"function"}),n("paste_postprocess",{processor:"function"}),n("paste_webkit_styles",{processor:"string",default:"none"}),n("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),n("paste_merge_formats",{processor:"boolean",default:!0}),n("smart_paste",{processor:"boolean",default:!0}),n("paste_as_text",{processor:"boolean",default:!1}),n("paste_tab_spaces",{processor:"number",default:4}),n("text_patterns",{processor:o=>Tt(o,ke)||o===!1?{value:G0(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),n("text_patterns_lookup",{processor:o=>Te(o)?{value:yx(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),n("noneditable_class",{processor:"string",default:"mceNonEditable"}),n("editable_class",{processor:"string",default:"mceEditable"}),n("noneditable_regexp",{processor:o=>Tt(o,G_)?{value:o,valid:!0}:G_(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),n("table_tab_navigation",{processor:"boolean",default:!0}),n("highlight_on_focus",{processor:"boolean",default:!1}),n("xss_sanitization",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{n("directionality",{processor:"string",default:wf.isRtl()?"rtl":void 0}),n("placeholder",{processor:"string",default:Cb.getAttrib(e.getElement(),"placeholder")})})},Bt=wn("iframe_attrs"),j_=wn("doctype"),Wa=wn("document_base_url"),nT=wn("body_id"),q_=wn("body_class"),Z_=wn("content_security_policy"),Ed=wn("br_in_pre"),wd=wn("forced_root_block"),ev=wn("forced_root_block_attrs"),zl=wn("newline_behavior"),g1=wn("br_newline_selector"),v1=wn("no_newline_selector"),xf=wn("keep_styles"),zu=wn("end_container_on_empty_block"),Ul=wn("automatic_uploads"),cl=wn("images_reuse_filename"),oT=wn("images_replace_blob_uris"),xb=wn("icons"),Ab=wn("icons_url"),Hm=wn("images_upload_url"),Y_=wn("images_upload_base_path"),Ob=wn("images_upload_credentials"),Yh=wn("images_upload_handler"),As=wn("content_css_cors"),Hp=wn("referrer_policy"),Dr=wn("language"),K_=wn("language_url"),Vp=wn("indent_use_margin"),Wr=wn("indentation"),Rb=wn("content_css"),X_=wn("content_style"),tv=wn("font_css"),sT=wn("directionality"),b1=wn("inline_boundaries_selector"),Q_=wn("object_resizing"),J_=wn("resize_img_proportional"),q0=wn("placeholder"),Z0=wn("event_root"),eE=wn("service_message"),dh=wn("theme"),Ib=wn("theme_url"),Td=wn("model"),ir=wn("model_url"),nv=wn("inline_boundaries"),ll=wn("formats"),y1=wn("preview_styles"),tE=wn("format_empty_lines"),Db=wn("format_noneditable_selector"),_1=wn("custom_ui_selector"),Y0=wn("inline"),nE=wn("hidden_input"),Vc=wn("submit_patch"),Uu=wn("add_form_submit_trigger"),rT=wn("add_unload_trigger"),iT=wn("custom_undo_redo_levels"),aT=wn("disable_nodechange"),zp=wn("readonly"),K0=wn("content_css_cors"),X0=wn("plugins"),Up=wn("external_plugins"),oE=wn("block_unsupported_drop"),cT=wn("visual"),lT=wn("visual_table_class"),Q0=wn("visual_anchor_class"),J0=wn("iframe_aria_text"),Vm=wn("setup"),sE=wn("init_instance_callback"),uT=wn("urlconverter_callback"),dT=wn("auto_focus"),fT=wn("browser_spellcheck"),Af=wn("protect"),Mb=wn("paste_block_drop"),Wp=wn("paste_data_images"),Nb=wn("paste_preprocess"),rE=wn("paste_postprocess"),fh=wn("paste_webkit_styles"),E1=wn("paste_remove_styles_if_webkit"),ey=wn("paste_merge_formats"),Of=wn("smart_paste"),zm=wn("paste_as_text"),ty=wn("paste_tab_spaces"),iE=wn("allow_html_data_urls"),hT=wn("text_patterns"),mT=wn("text_patterns_lookup"),ny=wn("noneditable_class"),pT=wn("editable_class"),gT=wn("noneditable_regexp"),aE=wn("preserve_cdata"),cE=wn("highlight_on_focus"),kb=wn("xss_sanitization"),vT=e=>e.options.isSet("text_patterns_lookup"),bT=e=>Ce.explode(e.options.get("font_size_style_values")),yT=e=>Ce.explode(e.options.get("font_size_classes")),lE=e=>e.options.get("encoding")==="xml",oy=e=>Ce.explode(e.options.get("images_file_types")),uE=wn("table_tab_navigation"),_T=an,dE=Wt,w1=e=>{const n=e.parentNode;n&&n.removeChild(e)},sy=e=>{const n=yl(e);return{count:e.length-n.length,text:n}},ry=e=>{let n;for(;(n=e.data.lastIndexOf(sa))!==-1;)e.deleteData(n,1)},ov=(e,n)=>(Gp(e),n),Pb=(e,n)=>{const o=sy(e.data.substr(0,n.offset())),r=sy(e.data.substr(n.offset()));return(o.text+r.text).length>0?(ry(e),Qe(e,n.offset()-o.count)):n},T1=(e,n)=>{const o=n.container(),r=Ia(Xs(o.childNodes),e).map(l=>l<n.offset()?Qe(o,n.offset()-1):n).getOr(n);return Gp(e),r},iy=(e,n)=>dE(e)&&n.container()===e?Pb(e,n):ov(e,n),ay=(e,n)=>n.container()===e.parentNode?T1(e,n):ov(e,n),fE=(e,n)=>Qe.isTextPosition(n)?iy(e,n):ay(e,n),Gp=e=>{_T(e)&&_l(e)&&(Pg(e)?e.removeAttribute("data-mce-caret"):w1(e)),dE(e)&&(ry(e),e.data.length===0&&w1(e))},hE=gs,jp=di,ET=Oi,cy="*[contentEditable=false],video,audio,embed,object",mE=(e,n,o)=>{const r=L_(n.getBoundingClientRect(),o);let l,h;if(e.tagName==="BODY"){const A=e.ownerDocument.documentElement;l=e.scrollLeft||A.scrollLeft,h=e.scrollTop||A.scrollTop}else{const A=e.getBoundingClientRect();l=e.scrollLeft-A.left,h=e.scrollTop-A.top}r.left+=l,r.right+=l,r.top+=h,r.bottom+=h,r.width=1;let v=n.offsetWidth-n.clientWidth;return v>0&&(o&&(v*=-1),r.left+=v,r.right+=v),r},Wu=e=>{var n,o;const r=yc(Ne.fromDom(e),cy);for(let l=0;l<r.length;l++){const h=r[l].dom;let v=h.previousSibling;if(Sm(v)){const A=v.data;A.length===1?(n=v.parentNode)===null||n===void 0||n.removeChild(v):v.deleteData(A.length-1,1)}v=h.nextSibling,$h(v)&&(v.data.length===1?(o=v.parentNode)===null||o===void 0||o.removeChild(v):v.deleteData(0,1))}},ly=(e,n,o,r)=>{const l=Sa();let h,v;const A=wd(e),R=e.dom,H=(_e,Ie)=>{let We;if(te(),ET(Ie))return null;if(o(Ie)){const Fe=Lg(A,Ie,_e),Xe=mE(n,Ie,_e);R.setStyle(Fe,"top",Xe.top),v=Fe;const lt=R.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});R.setStyles(lt,{...Xe}),R.add(n,lt),l.set({caret:lt,element:Ie,before:_e}),_e&&R.addClass(lt,"mce-visual-caret-before"),Q(),We=Ie.ownerDocument.createRange(),We.setStart(Fe,0),We.setEnd(Fe,0)}else return v=ub(Ie,_e),We=Ie.ownerDocument.createRange(),C1(v.nextSibling)?(We.setStart(v,0),We.setEnd(v,0)):(We.setStart(v,1),We.setEnd(v,1)),We;return We},te=()=>{Wu(n),v&&(Gp(v),v=null),l.on(_e=>{R.remove(_e.caret),l.clear()}),h&&(clearInterval(h),h=void 0)},Q=()=>{h=setInterval(()=>{l.on(_e=>{r()?R.toggleClass(_e.caret,"mce-visual-caret-hidden"):R.addClass(_e.caret,"mce-visual-caret-hidden")})},500)};return{show:H,hide:te,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{l.on(_e=>{const Ie=mE(n,_e.element,_e.before);R.setStyles(_e.caret,{...Ie})})},destroy:()=>clearInterval(h)}},Lb=()=>cs.browser.isFirefox(),C1=e=>hE(e)||jp(e),Kh=e=>(C1(e)||Yr(e)&&Lb())&&Si(Ne.fromDom(e)).exists(Dh),wT=Do,S1=gs,pE=di,rc=lu("display","block table table-cell table-caption list-item"),gE=_l,qp=Nu,TT=an,x1=Wt,uy=El,sv=e=>e>0,Zp=e=>e<0,A1=(e,n)=>{let o;for(;o=e(n);)if(!qp(o))return o;return null},hh=(e,n,o,r,l)=>{const h=new Ai(e,r),v=S1(e)||qp(e);let A;if(Zp(n)){if(v&&(A=A1(h.prev.bind(h),!0),o(A)))return A;for(;A=A1(h.prev.bind(h),l);)if(o(A))return A}if(sv(n)){if(v&&(A=A1(h.next.bind(h),!0),o(A)))return A;for(;A=A1(h.next.bind(h),l);)if(o(A))return A}return null},dy=(e,n)=>{const o=l=>wT(l.dom),r=l=>l.dom===n;return js(Ne.fromDom(e),o,r).map(l=>l.dom).getOr(n)},fa=(e,n)=>{for(;e&&e!==n;){if(rc(e))return e;e=e.parentNode}return null},Gu=(e,n,o)=>fa(e.container(),o)===fa(n.container(),o),$b=(e,n)=>{if(!n)return X.none();const o=n.container(),r=n.offset();return TT(o)?X.from(o.childNodes[r+e]):X.none()},vE=(e,n)=>{var o;const l=((o=n.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(l.setStartBefore(n),l.setEndBefore(n)):(l.setStartAfter(n),l.setEndAfter(n)),l},bE=(e,n,o)=>fa(n,e)===fa(o,e),fy=(e,n,o)=>{const r=e?"previousSibling":"nextSibling";let l=o;for(;l&&l!==n;){let h=l[r];if(h&&gE(h)&&(h=h[r]),S1(h)||pE(h)){if(bE(n,h,l))return h;break}if(uy(h))break;l=l.parentNode}return null},Yp=Ze(vE,!0),O1=Ze(vE,!1),Kp=(e,n,o)=>{let r;const l=Ze(fy,!0,n),h=Ze(fy,!1,n),v=o.startContainer,A=o.startOffset;if(Nu(v)){const R=x1(v)?v.parentNode:v,H=R.getAttribute("data-mce-caret");if(H==="before"&&(r=R.nextSibling,Kh(r)))return Yp(r);if(H==="after"&&(r=R.previousSibling,Kh(r)))return O1(r)}if(!o.collapsed)return o;if(Wt(v)){if(gE(v)){if(e===1){if(r=h(v),r)return Yp(r);if(r=l(v),r)return O1(r)}if(e===-1){if(r=l(v),r)return O1(r);if(r=h(v),r)return Yp(r)}return o}if(Sm(v)&&A>=v.data.length-1)return e===1&&(r=h(v),r)?Yp(r):o;if($h(v)&&A<=1)return e===-1&&(r=l(v),r)?O1(r):o;if(A===v.data.length)return r=h(v),r?Yp(r):o;if(A===0)return r=l(v),r?O1(r):o}return o},_x=(e,n)=>$b(e?0:-1,n).filter(S1),rv=(e,n,o)=>{const r=Kp(e,n,o);return e===-1?Qe.fromRangeStart(r):Qe.fromRangeEnd(r)},R1=e=>X.from(e.getNode()).map(Ne.fromDom),Xp=e=>X.from(e.getNode(!0)).map(Ne.fromDom),hy=(e,n)=>{let o=n;for(;o=e(o);)if(o.isVisible())return o;return o},iv=(e,n)=>{const o=Gu(e,n);return!o&&Lr(e.getNode())?!0:o};var Ga;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(Ga||(Ga={}));const my=gs,Rf=Wt,mh=an,Um=Lr,Qp=El,p=nl,_=zi,N=(e,n)=>{const o=[];let r=e;for(;r&&r!==n;)o.push(r),r=r.parentNode;return o},K=(e,n)=>e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null,ge=(e,n)=>{if(sv(e)){if(Qp(n.previousSibling)&&!Rf(n.previousSibling))return Qe.before(n);if(Rf(n))return Qe(n,0)}if(Zp(e)){if(Qp(n.nextSibling)&&!Rf(n.nextSibling))return Qe.after(n);if(Rf(n))return Qe(n,n.data.length)}return Zp(e)?Um(n)?Qe.before(n):Qe.after(n):Qe.before(n)},De=(e,n)=>{const o=n.nextSibling;return o&&Qp(o)?Rf(o)?Qe(o,0):Qe.before(o):Ve(Ga.Forwards,Qe.after(n),e)},Ve=(e,n,o)=>{let r,l,h,v;if(!mh(o)||!n)return null;if(n.isEqual(Qe.after(o))&&o.lastChild){if(v=Qe.after(o.lastChild),Zp(e)&&Qp(o.lastChild)&&mh(o.lastChild))return Um(o.lastChild)?Qe.before(o.lastChild):v}else v=n;const A=v.container();let R=v.offset();if(Rf(A)){if(Zp(e)&&R>0)return Qe(A,--R);if(sv(e)&&R<A.length)return Qe(A,++R);r=A}else{if(Zp(e)&&R>0&&(l=K(A,R-1),Qp(l)))return!p(l)&&(h=hh(l,e,_,l),h)?Rf(h)?Qe(h,h.data.length):Qe.after(h):Rf(l)?Qe(l,l.data.length):Qe.before(l);if(sv(e)&&R<A.childNodes.length&&(l=K(A,R),Qp(l)))return Um(l)?De(o,l):!p(l)&&(h=hh(l,e,_,l),h)?Rf(h)?Qe(h,0):Qe.before(h):Rf(l)?Qe(l,0):Qe.after(l);r=l||v.getNode()}if(r&&(sv(e)&&v.isAtEnd()||Zp(e)&&v.isAtStart())&&(r=hh(r,e,Lt,o,!0),_(r,o)))return ge(e,r);l=r&&hh(r,e,_,o);const H=Al(Dn(N(A,o),my));return H&&(!l||!H.contains(l))?(sv(e)?v=Qe.after(H):v=Qe.before(H),v):l?ge(e,l):null},Ye=e=>({next:n=>Ve(Ga.Forwards,n,e),prev:n=>Ve(Ga.Backwards,n,e)}),gt=(e,n,o)=>{const r=e?Qe.before(o):Qe.after(o);return Bo(e,n,r)},sn=e=>Lr(e)?Qe.before(e):Qe.after(e),nn=e=>Qe.isTextPosition(e)?e.offset()===0:El(e.getNode()),vn=e=>{if(Qe.isTextPosition(e)){const n=e.container();return e.offset()===n.data.length}else return El(e.getNode(!0))},Hn=(e,n)=>!Qe.isTextPosition(e)&&!Qe.isTextPosition(n)&&e.getNode()===n.getNode(!0),go=e=>!Qe.isTextPosition(e)&&Lr(e.getNode()),Wo=(e,n,o)=>e?!Hn(n,o)&&!go(n)&&vn(n)&&nn(o):!Hn(o,n)&&nn(n)&&vn(o),Bo=(e,n,o)=>{const r=Ye(n);return X.from(e?r.next(o):r.prev(o))},Lo=(e,n,o)=>Bo(e,n,o).bind(r=>Gu(o,r,n)&&Wo(e,o,r)?Bo(e,n,r):X.some(r)),Ys=(e,n,o,r)=>Lo(e,n,o).bind(l=>r(l)?Ys(e,n,l,r):X.some(l)),_s=(e,n)=>{const o=e?n.firstChild:n.lastChild;return Wt(o)?X.some(Qe(o,e?0:o.data.length)):o?El(o)?X.some(e?Qe.before(o):sn(o)):gt(e,n,o):X.none()},Ii=Ze(Bo,!0),Di=Ze(Bo,!1),vi=Ze(_s,!0),hi=Ze(_s,!1),ul="_mce_caret",tr=e=>an(e)&&e.id===ul,ph=(e,n)=>{let o=n;for(;o&&o!==e;){if(tr(o))return o;o=o.parentNode}return null},py=e=>ee(e.start),I1=e=>jn(e,"rng"),yE=e=>jn(e,"id"),_E=e=>jn(e,"name"),CT=e=>Ce.isArray(e.start),EE=e=>!_E(e)&&Ue(e.forward)?e.forward:!0,Ex=(e,n)=>(an(n)&&e.isBlock(n)&&!n.innerHTML&&(n.innerHTML='<br data-mce-bogus="1" />'),n),lR=(e,n)=>{const o=X.from(H0(e.getRoot(),n.start)),r=X.from(H0(e.getRoot(),n.end));return wt(o,r,(l,h)=>{const v=e.createRng();return v.setStart(l.container(),l.offset()),v.setEnd(h.container(),h.offset()),{range:v,forward:EE(n)}})},Wm=(e,n)=>{var o;const l=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(sa);e.appendChild(l),n.setStart(l,0),n.setEnd(l,0)},gy=e=>!e.hasChildNodes(),ST=(e,n)=>hi(e).fold(nt,o=>(n.setStart(o.container(),o.offset()),n.setEnd(o.container(),o.offset()),!0)),Gm=(e,n,o)=>gy(n)&&ph(e,n)?(Wm(n,o),!0):!1,xT=(e,n,o,r)=>{const l=o[n?"start":"end"],h=e.getRoot();if(l){let v=h,A=l[0];for(let R=l.length-1;v&&R>=1;R--){const H=v.childNodes;if(Gm(h,v,r))return!0;if(l[R]>H.length-1)return Gm(h,v,r)?!0:ST(v,r);v=H[l[R]]}Wt(v)&&(A=Math.min(l[0],v.data.length)),an(v)&&(A=Math.min(l[0],v.childNodes.length)),n?r.setStart(v,A):r.setEnd(v,A)}return!0},vy=e=>Wt(e)&&e.data.length>0,av=(e,n,o)=>{const r=e.get(o.id+"_"+n),l=r==null?void 0:r.parentNode,h=o.keep;if(r&&l){let v,A;if(n==="start"?h?r.hasChildNodes()?(v=r.firstChild,A=1):vy(r.nextSibling)?(v=r.nextSibling,A=0):vy(r.previousSibling)?(v=r.previousSibling,A=r.previousSibling.data.length):(v=l,A=e.nodeIndex(r)+1):(v=l,A=e.nodeIndex(r)):h?r.hasChildNodes()?(v=r.firstChild,A=1):vy(r.previousSibling)?(v=r.previousSibling,A=r.previousSibling.data.length):(v=l,A=e.nodeIndex(r)):(v=l,A=e.nodeIndex(r)),!h){const R=r.previousSibling,H=r.nextSibling;Ce.each(Ce.grep(r.childNodes),Q=>{Wt(Q)&&(Q.data=Q.data.replace(/\uFEFF/g,""))});let te;for(;te=e.get(o.id+"_"+n);)e.remove(te,!0);if(Wt(H)&&Wt(R)&&!cs.browser.isOpera()){const Q=R.data.length;R.appendData(H.data),e.remove(H),v=R,A=Q}}return X.some(Qe(v,A))}else return X.none()},AT=(e,n)=>{const o=e.createRng();return xT(e,!0,n,o)&&xT(e,!1,n,o)?X.some({range:o,forward:EE(n)}):X.none()},wx=(e,n)=>{const o=av(e,"start",n),r=av(e,"end",n);return wt(o,r.or(o),(l,h)=>{const v=e.createRng();return v.setStart(Ex(e,l.container()),l.offset()),v.setEnd(Ex(e,h.container()),h.offset()),{range:v,forward:EE(n)}})},OT=(e,n)=>X.from(e.select(n.name)[n.index]).map(o=>{const r=e.createRng();return r.selectNode(o),{range:r,forward:!0}}),cv=(e,n)=>{const o=e.dom;if(n){if(CT(n))return AT(o,n);if(py(n))return lR(o,n);if(yE(n))return wx(o,n);if(_E(n))return OT(o,n);if(I1(n))return X.some({range:n.rng,forward:EE(n)})}return X.none()},uR=(e,n,o)=>tT(e,n,o),jm=(e,n)=>{cv(e,n).each(({range:o,forward:r})=>{e.setRng(o,r)})},jd=e=>an(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",wE=(e=>n=>e===n)(Ts),by=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,RT=e=>!by(e)&&!wE(e)&&!fu(e),dR=e=>({value:Cx(e)}),Cx=e=>Jl(e,"#").toUpperCase(),IT=e=>{const n=e.toString(16);return(n.length===1?"0"+n:n).toUpperCase()},TE=e=>{const n=IT(e.red)+IT(e.green)+IT(e.blue);return dR(n)},fR=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,hR=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,CE=(e,n,o,r)=>({red:e,green:n,blue:o,alpha:r}),Sx=(e,n,o,r)=>{const l=parseInt(e,10),h=parseInt(n,10),v=parseInt(o,10),A=parseFloat(r);return CE(l,h,v,A)},hk=e=>{if(e==="transparent")return X.some(CE(0,0,0,0));const n=fR.exec(e);if(n!==null)return X.some(Sx(n[1],n[2],n[3],"1"));const o=hR.exec(e);return o!==null?X.some(Sx(o[1],o[2],o[3],o[4])):X.none()},Bb=e=>hk(e).map(TE).map(n=>"#"+n.value).getOr(e),Zo=e=>{const n=[];if(e)for(let o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));return n},Jp=e=>Ya(e,n=>{const o=vu(n);return o?[Ne.fromDom(o)]:[]}),Fb=e=>Zo(e).length>1,DT=e=>Dn(Jp(e),wc),mR=e=>yc(e,"td[data-mce-selected],th[data-mce-selected]"),yy=(e,n)=>{const o=mR(n);return o.length>0?o:DT(e)},D1=e=>yy(Zo(e.selection.getSel()),Ne.fromDom(e.getBody())),M1=(e,n)=>Ja(e,"table",n),MT=e=>{const n=e.startContainer,o=e.startOffset;return Wt(n)?o===0?X.some(Ne.fromDom(n)):X.none():X.from(n.childNodes[o]).map(Ne.fromDom)},NT=e=>{const n=e.endContainer,o=e.endOffset;return Wt(n)?o===n.data.length?X.some(Ne.fromDom(n)):X.none():X.from(n.childNodes[o-1]).map(Ne.fromDom)},kT=e=>ft(e).fold(rt([e]),n=>[e].concat(kT(n))),xx=e=>xt(e).fold(rt([e]),n=>Ds(n)==="br"?Jc(n).map(o=>[e].concat(xx(o))).getOr([]):[e].concat(xx(n))),_y=(e,n)=>wt(MT(n),NT(n),(o,r)=>{const l=Is(kT(e),Ze(es,o)),h=Is(xx(e),Ze(es,r));return l.isSome()&&h.isSome()}).getOr(!1),SE=(e,n,o,r)=>{const l=o,h=new Ai(o,l),v=Ws(e.schema.getMoveCaretBeforeOnEnterElements(),(R,H)=>!Fn(["td","th","table"],H.toLowerCase()));let A=o;do{if(Wt(A)&&Ce.trim(A.data).length!==0){r?n.setStart(A,0):n.setEnd(A,A.data.length);return}if(v[A.nodeName]){r?n.setStartBefore(A):A.nodeName==="BR"?n.setEndBefore(A):n.setEndAfter(A);return}}while(A=r?h.next():h.prev());l.nodeName==="BODY"&&(r?n.setStart(l,0):n.setEnd(l,l.childNodes.length))},PT=e=>{const n=e.selection.getSel();return He(n)&&n.rangeCount>0},LT=(e,n)=>{const o=D1(e);o.length>0?Ge(o,r=>{const l=r.dom,h=e.dom.createRng();h.setStartBefore(l),h.setEndAfter(l),n(h,!0)}):n(e.selection.getRng(),!1)},xE=(e,n,o)=>{const r=W_(e,n);o(r),e.moveToBookmark(r)},Ey=e=>bn(e==null?void 0:e.nodeType),eg=e=>an(e)&&!jd(e)&&!tr(e)&&!du(e),Ax=(e,n)=>{if(eg(n)&&!/^(TD|TH)$/.test(n.nodeName)){const o=e.getAttrib(n,"data-mce-selected"),r=parseInt(o,10);return!isNaN(r)&&r>0}else return!1},qm=e=>e.isContentEditable===!0,lv=(e,n,o)=>{const{selection:r,dom:l}=e,h=r.getNode(),v=gs(h);xE(r,!0,()=>{n()}),v&&gs(h)&&l.isChildOf(h,e.getBody())?e.selection.select(h):o(r.getStart())&&pR(l,r)},pR=(e,n)=>{var o,r;const l=n.getRng(),{startContainer:h,startOffset:v}=l,A=n.getNode();if(!Ax(e,A)&&an(h)){const R=h.childNodes,H=e.getRoot();let te;if(v<R.length){const Q=R[v];te=new Ai(Q,(o=e.getParent(Q,e.isBlock))!==null&&o!==void 0?o:H)}else{const Q=R[R.length-1];te=new Ai(Q,(r=e.getParent(Q,e.isBlock))!==null&&r!==void 0?r:H),te.next(!0)}for(let Q=te.current();Q;Q=te.next()){if(e.getContentEditable(Q)==="false")return;if(Wt(Q)&&!Vb(Q)){l.setStart(Q,0),n.setRng(l);return}}}},Ox=(e,n,o)=>{if(e){const r=n?"nextSibling":"previousSibling";for(e=o?e:e[r];e;e=e[r])if(an(e)||!Vb(e))return e}},$T=(e,n)=>!!e.getTextBlockElements()[n.nodeName.toLowerCase()]||hd(e,n),Hb=(e,n,o)=>e.schema.isValidChild(n,o),Vb=(e,n=!1)=>{if(He(e)&&Wt(e)){const o=n?e.data.replace(/ /g," "):e.data;return ia(o)}else return!1},gR=e=>He(e)&&Wt(e)&&e.length===0,vR=(e,n)=>{const o="[data-mce-cef-wrappable]",r=Db(e),l=$i(r)?o:`${o},${r}`;return _a(Ne.fromDom(n),l)},Rx=(e,n)=>{const o=e.dom;return eg(n)&&o.getContentEditable(n)==="false"&&vR(e,n)&&o.select('[contenteditable="true"]',n).length===0},uv=(e,n)=>Te(e)?e(n):(He(n)&&(e=e.replace(/%(\w+)/g,(o,r)=>n[r]||o)),e),BT=(e,n)=>(e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()),FT=(e,n)=>{if(It(e))return null;{let o=String(e);return(n==="color"||n==="backgroundColor")&&(o=Bb(o)),n==="fontWeight"&&e===700&&(o="bold"),n==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},AE=(e,n,o)=>{const r=e.getStyle(n,o);return FT(r,o)},N1=(e,n)=>{let o;return e.getParent(n,r=>an(r)?(o=e.getStyle(r,"text-decoration"),!!o&&o!=="none"):!1),o},OE=(e,n,o)=>e.getParents(n,o,e.getRoot()),pn=(e,n,o)=>{const r=e.formatter.get(n);return He(r)&&ko(r,o)},Sc=(e,n)=>pn(e,n,r=>{const l=h=>Te(h)||h.length>1&&h.charAt(0)==="%";return ko(["styles","attributes"],h=>gr(r,h).exists(v=>{const A=V(v)?v:Gf(v);return ko(A,l)}))}),RE=(e,n,o)=>{const r=["inline","block","selector","attributes","styles","classes"],l=h=>Ws(h,(v,A)=>ko(r,R=>R===A));return pn(e,n,h=>{const v=l(h);return pn(e,o,A=>{const R=l(A);return Ju(v,R)})})},Gr=e=>dc(e,"block"),gh=e=>Gr(e)&&e.wrapper===!0,Ix=e=>Gr(e)&&e.wrapper!==!0,ju=e=>dc(e,"selector"),ja=e=>dc(e,"inline"),IE=e=>ju(e)&&ja(e)&&$e(gr(e,"mixed"),!0),DE=e=>ju(e)&&e.expand!==!1&&!ja(e),tg=jd,Dx=OE,HT=Vb,Mx=$T,VT=e=>Lr(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,zT=(e,n)=>{let o=n;for(;o;){if(an(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:n;o=o.parentNode}return n},UT=(e,n,o,r)=>{const l=n.data;if(e){for(let h=o;h>0;h--)if(r(l.charAt(h-1)))return h}else for(let h=o;h<l.length;h++)if(r(l.charAt(h)))return h;return-1},wy=(e,n,o)=>UT(e,n,o,r=>wE(r)||by(r)),ME=(e,n,o)=>UT(e,n,o,RT),Ty=(e,n,o,r,l,h)=>{let v;const A=e.getParent(o,e.isBlock)||n,R=(te,Q,ce)=>{const Re=$r(e),Me=l?Re.backwards:Re.forwards;return X.from(Me(te,Q,(_e,Ie)=>tg(_e.parentNode)?-1:(v=_e,ce(l,_e,Ie)),A))};return R(o,r,wy).bind(te=>h?R(te.container,te.offset+(l?-1:0),ME):X.some(te)).orThunk(()=>v?X.some({container:v,offset:l?0:v.length}):X.none())},Cy=(e,n,o,r,l)=>{const h=r[l];Wt(r)&&$i(r.data)&&h&&(r=h);const v=Dx(e,r);for(let A=0;A<v.length;A++)for(let R=0;R<n.length;R++){const H=n[R];if(!(He(H.collapsed)&&H.collapsed!==o.collapsed)&&ju(H)&&e.is(v[A],H.selector))return v[A]}return r},NE=(e,n,o,r)=>{var l;let h=o;const v=e.getRoot(),A=n[0];if(Gr(A)&&(h=A.wrapper?null:e.getParent(o,A.block,v)),!h){const R=(l=e.getParent(o,"LI,TD,TH"))!==null&&l!==void 0?l:v;h=e.getParent(Wt(o)?o.parentNode:o,H=>H!==v&&Mx(e.schema,H),R)}if(h&&Gr(A)&&A.wrapper&&(h=Dx(e,h,"ul,ol").reverse()[0]||h),!h)for(h=o;h&&h[r]&&!e.isBlock(h[r])&&(h=h[r],!BT(h,"br")););return h||o},Nx=(e,n,o,r)=>{const l=o.parentNode;return He(o[r])?!1:l===n||It(l)||e.isBlock(l)?!0:Nx(e,n,l,r)},ng=(e,n,o,r,l)=>{let h=o;const v=l?"previousSibling":"nextSibling",A=e.getRoot();if(Wt(o)&&!HT(o)&&(l?r>0:r<o.data.length))return o;for(;h;){if(!n[0].block_expand&&e.isBlock(h))return h;for(let R=h[v];R;R=R[v]){const H=Wt(R)&&!Nx(e,A,R,v);if(!tg(R)&&!VT(R)&&!HT(R,H))return h}if(h===A||h.parentNode===A){o=h;break}h=h.parentNode}return o},Zm=e=>tg(e.parentNode)||tg(e),k1=(e,n,o,r=!1)=>{let{startContainer:l,startOffset:h,endContainer:v,endOffset:A}=n;const R=o[0];return an(l)&&l.hasChildNodes()&&(l=jh(l,h),Wt(l)&&(h=0)),an(v)&&v.hasChildNodes()&&(v=jh(v,n.collapsed?A:A-1),Wt(v)&&(A=v.data.length)),l=zT(e,l),v=zT(e,v),Zm(l)&&(l=tg(l)?l:l.parentNode,n.collapsed?l=l.previousSibling||l:l=l.nextSibling||l,Wt(l)&&(h=n.collapsed?l.length:0)),Zm(v)&&(v=tg(v)?v:v.parentNode,n.collapsed?v=v.nextSibling||v:v=v.previousSibling||v,Wt(v)&&(A=n.collapsed?0:v.length)),n.collapsed&&(Ty(e,e.getRoot(),l,h,!0,r).each(({container:Q,offset:ce})=>{l=Q,h=ce}),Ty(e,e.getRoot(),v,A,!1,r).each(({container:Q,offset:ce})=>{v=Q,A=ce})),(ja(R)||R.block_expand)&&((!ja(R)||!Wt(l)||h===0)&&(l=ng(e,o,l,h,!0)),(!ja(R)||!Wt(v)||A===v.data.length)&&(v=ng(e,o,v,A,!1))),DE(R)&&(l=Cy(e,o,n,l,"previousSibling"),v=Cy(e,o,n,v,"nextSibling")),(Gr(R)||ju(R))&&(l=NE(e,o,l,"previousSibling"),v=NE(e,o,v,"nextSibling"),Gr(R)&&(e.isBlock(l)||(l=ng(e,o,l,h,!0)),e.isBlock(v)||(v=ng(e,o,v,A,!1)))),an(l)&&l.parentNode&&(h=e.nodeIndex(l),l=l.parentNode),an(v)&&v.parentNode&&(A=e.nodeIndex(v)+1,v=v.parentNode),{startContainer:l,startOffset:h,endContainer:v,endOffset:A}},zb=(e,n,o)=>{var r;const l=n.startOffset,h=jh(n.startContainer,l),v=n.endOffset,A=jh(n.endContainer,v-1),R=Ie=>{const We=Ie[0];Wt(We)&&We===h&&l>=We.data.length&&Ie.splice(0,1);const Fe=Ie[Ie.length-1];return v===0&&Ie.length>0&&Fe===A&&Wt(Fe)&&Ie.splice(Ie.length-1,1),Ie},H=(Ie,We,Fe)=>{const Xe=[];for(;Ie&&Ie!==Fe;Ie=Ie[We])Xe.push(Ie);return Xe},te=(Ie,We)=>e.getParent(Ie,Fe=>Fe.parentNode===We,We),Q=(Ie,We,Fe)=>{const Xe=Fe?"nextSibling":"previousSibling";for(let lt=Ie,Ot=lt.parentNode;lt&&lt!==We;lt=Ot){Ot=lt.parentNode;const cn=H(lt===Ie?lt:lt[Xe],Xe);cn.length&&(Fe||cn.reverse(),o(R(cn)))}};if(h===A)return o(R([h]));const ce=(r=e.findCommonAncestor(h,A))!==null&&r!==void 0?r:e.getRoot();if(e.isChildOf(h,A))return Q(h,ce,!0);if(e.isChildOf(A,h))return Q(A,ce);const Re=te(h,ce)||h,Me=te(A,ce)||A;Q(h,Re,!0);const _e=H(Re===h?Re:Re.nextSibling,"nextSibling",Me===A?Me.nextSibling:Me);_e.length&&o(R(_e)),Q(A,Me)},WT=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],bR=e=>Rr(e)&&ti(e)===sa,kx=(e,n,o,r)=>ts(n).fold(()=>"skipping",l=>r==="br"||bR(n)?"valid":I_(n)?"existing":tr(n.dom)?"caret":ko(WT,h=>_a(n,h))?"valid-block":!Hb(e,o,r)||!Hb(e,Ds(l),o)?"invalid-child":"valid"),kE=(e,n)=>{const o=k1(e.dom,n,[{inline:"span"}]);n.setStart(o.startContainer,o.startOffset),n.setEnd(o.endContainer,o.endOffset),e.selection.setRng(n)},Px=(e,n,o,r,l,h)=>{const{uid:v=n,...A}=o;kd(e,Pm()),Eo(e,`${Gh()}`,v),Eo(e,`${Yg()}`,r);const{attributes:R={},classes:H=[]}=l(v,A);if(ei(e,R),k_(e,H),h){H.length>0&&Eo(e,`${zd()}`,H.join(","));const te=uc(R);te.length>0&&Eo(e,`${Lm()}`,te.join(","))}},PE=e=>{Xa(e,Pm()),Ir(e,`${Gh()}`),Ir(e,`${Yg()}`),Ir(e,`${Vu()}`);const n=pc(e,`${Lm()}`).map(r=>r.split(",")).getOr([]),o=pc(e,`${zd()}`).map(r=>r.split(",")).getOr([]);Ge(n,r=>Ir(e,r)),Yw(e,o),Ir(e,`${zd()}`),Ir(e,`${Lm()}`)},ic=(e,n,o,r,l)=>{const h=Ne.fromTag("span",e);return Px(h,n,o,r,l,!1),h},vh=(e,n,o,r,l,h)=>{const v=[],A=ic(e.getDoc(),o,h,r,l),R=Sa(),H=()=>{R.clear()},te=()=>R.get().getOrThunk(()=>{const Me=kp(A);return v.push(Me),R.set(Me),Me}),Q=Me=>{Ge(Me,ce)},ce=Me=>{switch(kx(e,Me,"span",Ds(Me))){case"invalid-child":{H();const Ie=qe(Me);Q(Ie),H();break}case"valid-block":{H(),Px(Me,o,h,r,l,!0);break}case"valid":{const Ie=te();Sp(Me,Ie);break}}},Re=Me=>{const _e=en(Me,Ne.fromDom);Q(_e)};return zb(e.dom,n,Me=>{H(),Re(Me)}),v},If=(e,n,o,r)=>{e.undoManager.transact(()=>{const l=e.selection,h=l.getRng(),v=D1(e).length>0,A=I0("mce-annotation");if(h.collapsed&&!v&&kE(e,h),l.getRng().collapsed&&!v){const R=ic(e.getDoc(),A,r,n,o.decorate);Nh(R,Ts),l.getRng().insertNode(R.dom),l.select(R.dom)}else xE(l,!1,()=>{LT(e,R=>{vh(e,R,A,n,o.decorate,r)})})})},Sy=e=>{const n=M_();Zw(e,n);const o=qw(e,n),r=La("span"),l=h=>{Ge(h,v=>{r(v)?vc(v):PE(v)})};return{register:(h,v)=>{n.register(h,v)},annotate:(h,v)=>{n.lookup(h).each(A=>{If(e,h,A,v)})},annotationChanged:(h,v)=>{o.addListener(h,v)},remove:h=>{O0(e,X.some(h)).each(({elements:v})=>{const A=e.selection.getBookmark();l(v),e.selection.moveToBookmark(A)})},removeAll:h=>{const v=e.selection.getBookmark();dn(R0(e,h),(A,R)=>{l(A)}),e.selection.moveToBookmark(v)},getAll:h=>{const v=R0(e,h);return jo(v,A=>en(A,R=>R.dom))}}},Cd=e=>({getBookmark:Ze(uR,e),moveToBookmark:Ze(jm,e)});Cd.isBookmarkNode=jd;const Lx=(e,n,o)=>o.collapsed?!1:ko(o.getClientRects(),r=>gb(r,e,n)),GT=(e,n)=>e.dispatch("PreProcess",n),jT=(e,n)=>e.dispatch("PostProcess",n),qT=e=>{e.dispatch("remove")},yR=e=>{e.dispatch("detach")},ZT=(e,n)=>{e.dispatch("SwitchMode",{mode:n})},_R=(e,n,o,r,l)=>{e.dispatch("ObjectResizeStart",{target:n,width:o,height:r,origin:l})},ER=(e,n,o,r,l)=>{e.dispatch("ObjectResized",{target:n,width:o,height:r,origin:l})},YT=e=>{e.dispatch("PreInit")},KT=e=>{e.dispatch("PostRender")},Cr=e=>{e.dispatch("Init")},Ym=(e,n)=>{e.dispatch("PlaceholderToggle",{state:n})},XT=(e,n,o)=>{e.dispatch(n,o)},QT=(e,n,o,r)=>{e.dispatch("FormatApply",{format:n,node:o,vars:r})},JT=(e,n,o,r)=>{e.dispatch("FormatRemove",{format:n,node:o,vars:r})},eC=(e,n)=>e.dispatch("BeforeSetContent",n),tC=(e,n)=>e.dispatch("SetContent",n),nC=(e,n)=>e.dispatch("BeforeGetContent",n),oC=(e,n)=>e.dispatch("GetContent",n),wR=(e,n)=>{e.dispatch("AutocompleterStart",n)},$x=(e,n)=>{e.dispatch("AutocompleterUpdate",n)},TR=e=>{e.dispatch("AutocompleterEnd")},sC=(e,n,o)=>e.dispatch("PastePreProcess",{content:n,internal:o}),CR=(e,n,o)=>e.dispatch("PastePostProcess",{node:n,internal:o}),dv=(e,n)=>e.dispatch("PastePlainTextToggle",{state:n}),On={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||On.metaKeyPressed(e),metaKeyPressed:e=>cs.os.isMacOS()||cs.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},og="data-mce-selected",SR="table,img,figure.image,hr,video,span.mce-preview-object",ha=Math.abs,ji=Math.round,fv={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},LE=e=>e.type==="longpress"||e.type.indexOf("touch")===0,Bx=(e,n)=>{const o=n.dom,r=n.getDoc(),l=document,h=n.getBody();let v,A,R,H,te,Q,ce,Re,Me,_e,Ie,We,Fe,Xe,lt,Ot,cn;const Qt=gn=>He(gn)&&(cb(gn)||o.is(gn,"figure.image")),pt=gn=>di(gn)||o.hasClass(gn,"mce-preview-object"),mt=(gn,Ko)=>{if(LE(gn)){const Xo=gn.touches[0];return Qt(gn.target)&&!Lx(Xo.clientX,Xo.clientY,Ko)}else return Qt(gn.target)&&!Lx(gn.clientX,gn.clientY,Ko)},En=gn=>{const Ko=gn.target;mt(gn,n.selection.getRng())&&!gn.isDefaultPrevented()&&n.selection.select(Ko)},Bn=gn=>o.hasClass(gn,"mce-preview-object")&&He(gn.firstElementChild)?[gn,gn.firstElementChild]:o.is(gn,"figure.image")?[gn.querySelector("img")]:[gn],Xn=gn=>{const Ko=Q_(n);return!Ko||gn.getAttribute("data-mce-resize")==="false"||gn===n.getBody()?!1:o.hasClass(gn,"mce-preview-object")&&He(gn.firstElementChild)?_a(Ne.fromDom(gn.firstElementChild),Ko):_a(Ne.fromDom(gn),Ko)},Ro=gn=>pt(gn)?o.create("img",{src:cs.transparentSrc}):gn.cloneNode(!0),rs=(gn,Ko,Xo)=>{if(He(Xo)){const Wc=Bn(gn);Ge(Wc,Qr=>{Qr.style[Ko]||!n.schema.isValid(Qr.nodeName.toLowerCase(),Ko)?o.setStyle(Qr,Ko,Xo):o.setAttrib(Qr,Ko,""+Xo)})}},zs=(gn,Ko,Xo)=>{rs(gn,"width",Ko),rs(gn,"height",Xo)},xr=gn=>{let Ko,Xo,Wc,Qr,bo;Ko=gn.screenX-Q,Xo=gn.screenY-ce,Xe=Ko*H[2]+_e,lt=Xo*H[3]+Ie,Xe=Xe<5?5:Xe,lt=lt<5?5:lt,(Qt(v)||pt(v))&&J_(n)!==!1?Wc=!On.modifierPressed(gn):Wc=On.modifierPressed(gn),Wc&&(ha(Ko)>ha(Xo)?(lt=ji(Xe*We),Xe=ji(lt/We)):(Xe=ji(lt/We),lt=ji(Xe*We))),zs(A,Xe,lt),Qr=H.startPos.x+Ko,bo=H.startPos.y+Xo,Qr=Qr>0?Qr:0,bo=bo>0?bo:0,o.setStyles(R,{left:Qr,top:bo,display:"block"}),R.innerHTML=Xe+" &times; "+lt,H[2]<0&&A.clientWidth<=Xe&&o.setStyle(A,"left",Re+(_e-Xe)),H[3]<0&&A.clientHeight<=lt&&o.setStyle(A,"top",Me+(Ie-lt)),Ko=h.scrollWidth-Ot,Xo=h.scrollHeight-cn,Ko+Xo!==0&&o.setStyles(R,{left:Qr-Ko,top:bo-Xo}),Fe||(_R(n,v,_e,Ie,"corner-"+H.name),Fe=!0)},Ki=()=>{const gn=Fe;Fe=!1,gn&&(rs(v,"width",Xe),rs(v,"height",lt)),o.unbind(r,"mousemove",xr),o.unbind(r,"mouseup",Ki),l!==r&&(o.unbind(l,"mousemove",xr),o.unbind(l,"mouseup",Ki)),o.remove(A),o.remove(R),o.remove(te),fl(v),gn&&(ER(n,v,Xe,lt,"corner-"+H.name),o.setAttrib(v,"style",o.getAttrib(v,"style"))),n.nodeChanged()},fl=gn=>{mn();const Ko=o.getPos(gn,h),Xo=Ko.x,Wc=Ko.y,Qr=gn.getBoundingClientRect(),bo=Qr.width||Qr.right-Qr.left,Ss=Qr.height||Qr.bottom-Qr.top;v!==gn&&(Yt(),v=gn,Xe=lt=0);const cr=n.dispatch("ObjectSelected",{target:gn});Xn(gn)&&!cr.isDefaultPrevented()?dn(fv,(Ar,ki)=>{const pa=qa=>{const om=Bn(v)[0];Q=qa.screenX,ce=qa.screenY,_e=om.clientWidth,Ie=om.clientHeight,We=Ie/_e,H=Ar,H.name=ki,H.startPos={x:bo*Ar[0]+Xo,y:Ss*Ar[1]+Wc},Ot=h.scrollWidth,cn=h.scrollHeight,te=o.add(h,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(te,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),A=Ro(v),o.addClass(A,"mce-clonedresizable"),o.setAttrib(A,"data-mce-bogus","all"),A.contentEditable="false",o.setStyles(A,{left:Xo,top:Wc,margin:0}),zs(A,bo,Ss),A.removeAttribute(og),h.appendChild(A),o.bind(r,"mousemove",xr),o.bind(r,"mouseup",Ki),l!==r&&(o.bind(l,"mousemove",xr),o.bind(l,"mouseup",Ki)),R=o.add(h,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},_e+" &times; "+Ie)};let si=o.get("mceResizeHandle"+ki);si&&o.remove(si),si=o.add(h,"div",{id:"mceResizeHandle"+ki,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+ki+"-resize; margin:0; padding:0"}),o.bind(si,"mousedown",qa=>{qa.stopImmediatePropagation(),qa.preventDefault(),pa(qa)}),Ar.elm=si,o.setStyles(si,{left:bo*Ar[0]+Xo-si.offsetWidth/2,top:Ss*Ar[1]+Wc-si.offsetHeight/2})}):Yt(!1)},Oc=yd(fl,0),Yt=(gn=!0)=>{Oc.cancel(),mn(),v&&gn&&v.removeAttribute(og),dn(fv,(Ko,Xo)=>{const Wc=o.get("mceResizeHandle"+Xo);Wc&&(o.unbind(Wc),o.remove(Wc))})},kn=(gn,Ko)=>o.isChildOf(gn,Ko),Es=gn=>{if(Fe||n.removed||n.composing)return;const Ko=gn.type==="mousedown"?gn.target:e.getNode(),Xo=ru(Ne.fromDom(Ko),SR).map(Qr=>Qr.dom).filter(Qr=>o.isEditable(Qr.parentElement)).getOrUndefined(),Wc=He(Xo)?o.getAttrib(Xo,og,"1"):"1";if(Ge(o.select(`img[${og}],hr[${og}]`),Qr=>{Qr.removeAttribute(og)}),He(Xo)&&kn(Xo,h)){Gn();const Qr=e.getStart(!0);if(kn(Qr,Xo)&&kn(e.getEnd(!0),Xo)){o.setAttrib(Xo,og,Wc),Oc.throttle(Xo);return}}Yt()},mn=()=>{dn(fv,gn=>{gn.elm&&(o.unbind(gn.elm),delete gn.elm)})},Gn=()=>{try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return n.on("init",()=>{Gn(),n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Es),n.on("keyup compositionend",gn=>{v&&v.nodeName==="TABLE"&&Es(gn)}),n.on("hide blur",Yt),n.on("contextmenu longpress",En,!0)}),n.on("remove",mn),{isResizable:Xn,showResizeRect:fl,hideResizeRect:Yt,updateResizeRect:Es,destroy:()=>{Oc.cancel(),v=A=te=null}}},xR=(e,n)=>{n.fold(o=>{e.setStartBefore(o.dom)},(o,r)=>{e.setStart(o.dom,r)},o=>{e.setStartAfter(o.dom)})},ss=(e,n)=>{n.fold(o=>{e.setEndBefore(o.dom)},(o,r)=>{e.setEnd(o.dom,r)},o=>{e.setEndAfter(o.dom)})},Fx=(e,n,o)=>{const r=e.document.createRange();return xR(r,n),ss(r,o),r},$E=(e,n,o,r,l)=>{const h=e.document.createRange();return h.setStart(n.dom,o),h.setEnd(r.dom,l),h},P1=Gd.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Hx=(e,n,o)=>n(Ne.fromDom(o.startContainer),o.startOffset,Ne.fromDom(o.endContainer),o.endOffset),AR=(e,n)=>n.match({domRange:o=>({ltr:rt(o),rtl:X.none}),relative:(o,r)=>({ltr:Xl(()=>Fx(e,o,r)),rtl:Xl(()=>X.some(Fx(e,r,o)))}),exact:(o,r,l,h)=>({ltr:Xl(()=>$E(e,o,r,l,h)),rtl:Xl(()=>X.some($E(e,l,h,o,r)))})}),rC=(e,n)=>{const o=n.ltr();return o.collapsed?n.rtl().filter(l=>l.collapsed===!1).map(l=>P1.rtl(Ne.fromDom(l.endContainer),l.endOffset,Ne.fromDom(l.startContainer),l.startOffset)).getOrThunk(()=>Hx(e,P1.ltr,o)):Hx(e,P1.ltr,o)},OR=(e,n)=>{const o=AR(e,n);return rC(e,o)};P1.ltr,P1.rtl;const Vx={create:(e,n,o,r)=>({start:e,soffset:n,finish:o,foffset:r})},iC=(e,n,o)=>{var r,l;return X.from((l=(r=e.dom).caretPositionFromPoint)===null||l===void 0?void 0:l.call(r,n,o)).bind(h=>{if(h.offsetNode===null)return X.none();const v=e.dom.createRange();return v.setStart(h.offsetNode,h.offset),v.collapse(),X.some(v)})},aC=(e,n,o)=>{var r,l;return X.from((l=(r=e.dom).caretRangeFromPoint)===null||l===void 0?void 0:l.call(r,n,o))},zx=(()=>document.caretPositionFromPoint?iC:document.caretRangeFromPoint?aC:X.none)(),pk=(e,n,o)=>{const r=Ne.fromDom(e.document);return zx(r,n,o).map(l=>Vx.create(Ne.fromDom(l.startContainer),l.startOffset,Ne.fromDom(l.endContainer),l.endOffset))},BE=Gd.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),o6=(e,n,o,r)=>e.fold(n,o,r),RR=e=>e.fold(Kt,Kt,Kt),IR=BE.before,gk=BE.on,so=BE.after,sg={before:IR,on:gk,after:so,cata:o6,getStart:RR},cC=Gd.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),DR=e=>cC.exact(e.start,e.soffset,e.finish,e.foffset),xy=e=>e.match({domRange:n=>Ne.fromDom(n.startContainer),relative:(n,o)=>sg.getStart(n),exact:(n,o,r,l)=>n}),vk=cC.domRange,FE=cC.relative,MR=cC.exact,NR=e=>{const n=xy(e);return To(n)},lC=Vx.create,Ub={domRange:vk,relative:FE,exact:MR,exactFromRange:DR,getWin:NR,range:lC},Wb=(e,n)=>{const o=Ds(e);return o==="input"?sg.after(e):Fn(["br","img"],o)?n===0?sg.before(e):sg.after(e):sg.on(e,n)},uC=(e,n)=>{const o=e.fold(sg.before,Wb,sg.after),r=n.fold(sg.before,Wb,sg.after);return Ub.relative(o,r)},HE=(e,n,o,r)=>{const l=Wb(e,n),h=Wb(o,r);return Ub.relative(l,h)},dC=e=>e.match({domRange:n=>{const o=Ne.fromDom(n.startContainer),r=Ne.fromDom(n.endContainer);return HE(o,n.startOffset,r,n.endOffset)},relative:uC,exact:HE}),fC=(e,n)=>{const r=(n||document).createDocumentFragment();return Ge(e,l=>{r.appendChild(l.dom)}),Ne.fromDom(r)},kR=e=>{const n=Ub.getWin(e).dom,o=(l,h,v,A)=>$E(n,l,h,v,A),r=dC(e);return OR(n,r).match({ltr:o,rtl:o})},VE=(e,n,o)=>pk(e,n,o),hC=(e,n,o)=>{const r=To(Ne.fromDom(o));return VE(r.dom,e,n).map(l=>{const h=o.createRange();return h.setStart(l.start.dom,l.soffset),h.setEnd(l.finish.dom,l.foffset),h}).getOrUndefined()},mC=(e,n)=>He(e)&&He(n)&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset,Cs=(e,n,o)=>{let r=e;for(;r&&r!==n;){if(o(r))return r;r=r.parentNode}return null},Ux=(e,n,o)=>Cs(e,n,o)!==null,Km=(e,n,o)=>Ux(e,n,r=>r.nodeName===o),Xh=(e,n)=>_l(e)&&!Ux(e,n,tr),Ay=(e,n,o)=>{const r=n.parentNode;if(r){const l=new Ai(n,e.getParent(r,e.isBlock)||e.getRoot());let h;for(;h=l[o?"prev":"next"]();)if(Lr(h))return!0}return!1},Sd=(e,n)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===n},zE=(e,n)=>{let o=n;for(;o&&o!==e;){if(gs(o))return!0;o=o.parentNode}return!1},L1=(e,n,o,r,l)=>{const h=e.getRoot(),v=e.schema.getNonEmptyElements(),A=l.parentNode;let R,H;if(!A)return X.none();const te=e.getParent(A,e.isBlock)||h;if(r&&Lr(l)&&n&&e.isEmpty(te))return X.some(Qe(A,e.nodeIndex(l)));const Q=new Ai(l,te);for(;H=Q[r?"prev":"next"]();){if(e.getContentEditableParent(H)==="false"||Xh(H,h))return X.none();if(Wt(H)&&H.data.length>0)return Km(H,h,"A")?X.none():X.some(Qe(H,r?H.data.length:0));if(e.isBlock(H)||v[H.nodeName.toLowerCase()])return X.none();R=H}return _c(R)?X.none():o&&R?X.some(Qe(R,0)):X.none()},Oy=(e,n,o,r)=>{const l=e.getRoot();let h,v=!1,A=o?r.startContainer:r.endContainer,R=o?r.startOffset:r.endOffset;const H=an(A)&&R===A.childNodes.length,te=e.schema.getNonEmptyElements();let Q=o;if(_l(A))return X.none();if(an(A)&&R>A.childNodes.length-1&&(Q=!1),uf(A)&&(A=l,R=0),A===l){if(Q&&(h=A.childNodes[R>0?R-1:0],h&&(_l(h)||te[h.nodeName]||Yr(h))))return X.none();if(A.hasChildNodes()){if(R=Math.min(!Q&&R>0?R-1:R,A.childNodes.length-1),A=A.childNodes[R],R=Wt(A)&&H?A.data.length:0,!n&&A===l.lastChild&&Yr(A)||zE(l,A)||_l(A))return X.none();if(A.hasChildNodes()&&!Yr(A)){h=A;const ce=new Ai(A,l);do{if(gs(h)||_l(h)){v=!1;break}if(Wt(h)&&h.data.length>0){R=Q?0:h.data.length,A=h,v=!0;break}if(te[h.nodeName.toLowerCase()]&&!mi(h)){R=e.nodeIndex(h),A=h.parentNode,Q||R++,v=!0;break}}while(h=Q?ce.next():ce.prev())}}}return n&&(Wt(A)&&R===0&&L1(e,H,n,!0,A).each(ce=>{A=ce.container(),R=ce.offset(),v=!0}),an(A)&&(h=A.childNodes[R],h||(h=A.childNodes[R-1]),h&&Lr(h)&&!Sd(h,"A")&&!Ay(e,h,!1)&&!Ay(e,h,!0)&&L1(e,H,n,!0,h).each(ce=>{A=ce.container(),R=ce.offset(),v=!0}))),Q&&!n&&Wt(A)&&R===A.data.length&&L1(e,H,n,!1,A).each(ce=>{A=ce.container(),R=ce.offset(),v=!0}),v&&A?X.some(Qe(A,R)):X.none()},rg=(e,n)=>{const o=n.collapsed,r=n.cloneRange(),l=Qe.fromRangeStart(n);return Oy(e,o,!0,r).each(h=>{(!o||!Qe.isAbove(l,h))&&r.setStart(h.container(),h.offset())}),o||Oy(e,o,!1,r).each(h=>{r.setEnd(h.container(),h.offset())}),o&&r.collapse(!0),mC(n,r)?X.none():X.some(r)},pC=(e,n)=>e.splitText(n),UE=e=>{let n=e.startContainer,o=e.startOffset,r=e.endContainer,l=e.endOffset;if(n===r&&Wt(n)){if(o>0&&o<n.data.length)if(r=pC(n,o),n=r.previousSibling,l>o){l=l-o;const h=pC(r,l).previousSibling;n=r=h,l=h.data.length,o=0}else l=0}else if(Wt(n)&&o>0&&o<n.data.length&&(n=pC(n,o),o=0),Wt(r)&&l>0&&l<r.data.length){const h=pC(r,l).previousSibling;r=h,l=h.data.length}return{startContainer:n,startOffset:o,endContainer:r,endOffset:l}},Gb=e=>({walk:(h,v)=>zb(e,h,v),split:UE,expand:(h,v={type:"word"})=>{if(v.type==="word"){const A=k1(e,h,[{inline:"span"}]),R=e.createRng();return R.setStart(A.startContainer,A.startOffset),R.setEnd(A.endContainer,A.endOffset),R}return h},normalize:h=>rg(e,h).fold(nt,v=>(h.setStart(v.startContainer,v.startOffset),h.setEnd(v.endContainer,v.endOffset),!0))});Gb.compareRanges=mC,Gb.getCaretRangeFromPoint=hC,Gb.getSelectedNode=vu,Gb.getNode=jh;const ms=((e,n)=>{const o=(A,R)=>{if(!bn(R)&&!R.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+R);const H=A.dom;gc(H)&&(H.style[e]=R+"px")},r=A=>{const R=n(A);if(R<=0||R===null){const H=el(A,e);return parseFloat(H)||0}return R},l=r,h=(A,R)=>Us(R,(H,te)=>{const Q=el(A,te),ce=Q===void 0?0:parseInt(Q,10);return isNaN(ce)?H:H+ce},0);return{set:o,get:r,getOuter:l,aggregate:h,max:(A,R,H)=>{const te=h(A,H);return R>te?R-te:0}}})("height",e=>{const n=e.dom;return ur(e)?n.getBoundingClientRect().height:n.offsetHeight}),bh=e=>ms.get(e),$1=()=>Ne.fromDom(document),Wx=(e,n)=>e.view(n).fold(rt([]),r=>{const l=e.owner(r),h=Wx(e,l);return[r].concat(h)}),Ry=(e,n)=>{const o=n.owner(e);return Wx(n,o)};var jx=Object.freeze({__proto__:null,view:e=>{var n;return(e.dom===document?X.none():X.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement)).map(Ne.fromDom)},owner:e=>Dt(e)});const gC=e=>{const n=$1(),o=Gv(n),r=Ry(e,jx),l=id(e),h=ri(r,(v,A)=>{const R=id(A);return{left:v.left+R.left,top:v.top+R.top}},{left:0,top:0});return bc(h.left+l.left+o.left,h.top+l.top+o.top)},vC=e=>Ds(e)==="textarea",jb=(e,n)=>e.dispatch("ScrollIntoView",n).isDefaultPrevented(),B1=(e,n)=>{e.dispatch("AfterScrollIntoView",n)},qx=(e,n)=>{const o=qe(e);if(o.length===0||vC(e))return{element:e,offset:n};if(n<o.length&&!vC(o[n]))return{element:o[n],offset:0};{const r=o[o.length-1];return vC(r)?{element:e,offset:n}:Ds(r)==="img"?{element:r,offset:1}:Rr(r)?{element:r,offset:ti(r).length}:{element:r,offset:qe(r).length}}},d=(e,n)=>{const o=Wv(e),r=bh(e);return{element:e,bottom:o.top+r,height:r,pos:o,cleanup:n}},g=(e,n)=>{const o=qx(e,n),r=Ne.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+sa+"</span>");return bs(o.element,r),d(r,()=>Pr(r))},E=e=>d(Ne.fromDom(e),Mt),O=(e,n,o,r)=>{be(e,(l,h)=>W(e,n,o,r),o)},B=(e,n,o,r,l)=>{const h={elm:r.element.dom,alignToTop:l};if(jb(e,h))return;const v=Gv(n).top;o(n,v,r,l),B1(e,h)},W=(e,n,o,r)=>{const l=Ne.fromDom(e.getBody()),h=Ne.fromDom(e.getDoc());Cp(l);const v=g(Ne.fromDom(o.startContainer),o.startOffset);B(e,h,n,v,r),v.cleanup()},se=(e,n,o,r)=>{const l=Ne.fromDom(e.getDoc());B(e,l,o,E(n),r)},be=(e,n,o)=>{const r=o.startContainer,l=o.startOffset,h=o.endContainer,v=o.endOffset;n(Ne.fromDom(r),Ne.fromDom(h));const A=e.dom.createRng();A.setStart(r,l),A.setEnd(h,v),e.selection.setRng(o)},xe=(e,n,o,r)=>{const l=e.pos;if(o)ec(l.left,l.top,r);else{const h=l.top-n+e.height;ec(l.left,h,r)}},Pe=(e,n,o,r,l)=>{const h=o+n,v=r.pos.top,A=r.bottom,R=A-v>=o;v<n?xe(r,o,l!==!1,e):v>h?xe(r,o,R?l!==!1:l===!0,e):A>h&&!R&&xe(r,o,l===!0,e)},Je=(e,n,o,r)=>{const l=To(e).dom.innerHeight;Pe(e,n,l,o,r)},Ht=(e,n,o,r)=>{const l=To(e).dom.innerHeight;Pe(e,n,l,o,r);const h=gC(o.element),v=Ig(window);h.top<v.y?Jf(o.element,r!==!1):h.top>v.bottom&&Jf(o.element,r===!0)},fn=(e,n,o)=>O(e,Je,n,o),rn=(e,n,o)=>se(e,n,Je,o),At=(e,n,o)=>O(e,Ht,n,o),un=(e,n,o)=>se(e,n,Ht,o),Ct=(e,n,o)=>{(e.inline?rn:un)(e,n,o)},Sn=(e,n,o)=>{(e.inline?fn:At)(e,n,o)},oo=e=>e.dom.focus(),xo=e=>{const n=fo(e).dom;return e.dom===n.activeElement},Sr=(e=$1())=>X.from(e.dom.activeElement).map(Ne.fromDom),zc=e=>Sr(fo(e)).filter(n=>e.dom.contains(n.dom)),Mi=(e,n)=>{const o=Rr(n)?ti(n).length:qe(n).length+1;return e>o?o:e<0?0:e},xd=e=>Ub.range(e.start,Mi(e.soffset,e.start),e.finish,Mi(e.foffset,e.finish)),hv=(e,n)=>!$n(n.dom)&&(at(e,n)||es(e,n)),Iy=e=>n=>hv(e,n.start)&&hv(e,n.finish),bC=e=>e.inline||cs.browser.isFirefox(),WE=e=>Ub.range(Ne.fromDom(e.startContainer),e.startOffset,Ne.fromDom(e.endContainer),e.endOffset),ar=e=>{const n=e.getSelection();return(!n||n.rangeCount===0?X.none():X.from(n.getRangeAt(0))).map(WE)},yu=e=>{const n=To(e);return ar(n.dom).filter(Iy(e))},_u=(e,n)=>X.from(n).filter(Iy(e)).map(xd),yh=e=>{const n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),X.some(n)}catch{return X.none()}},Ad=e=>{const n=bC(e)?yu(Ne.fromDom(e.getBody())):X.none();e.bookmark=n.isSome()?n:e.bookmark},mv=e=>(e.bookmark?e.bookmark:X.none()).bind(o=>_u(Ne.fromDom(e.getBody()),o)).bind(yh),Eu=e=>{mv(e).each(n=>e.selection.setRng(n))},qb={isEditorUIElement:e=>{const n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1}},Df=(e,n)=>(bn(n)||(n=0),setTimeout(e,n)),dl=(e,n)=>(bn(n)||(n=0),setInterval(e,n)),Mf={setEditorTimeout:(e,n,o)=>Df(()=>{e.removed||n()},o),setEditorInterval:(e,n,o)=>{const r=dl(()=>{e.removed?clearInterval(r):n()},o);return r}},Yx=e=>e.type==="nodechange"&&e.selectionChange,Kx=(e,n)=>{const o=()=>{n.throttle()};qs.DOM.bind(document,"mouseup",o),e.on("remove",()=>{qs.DOM.unbind(document,"mouseup",o)})},PR=(e,n)=>{e.on("mouseup touchend",o=>{n.throttle()})},LR=(e,n)=>{PR(e,n),e.on("keyup NodeChange AfterSetSelectionRange",o=>{Yx(o)||Ad(e)})},yC=e=>{const n=yd(()=>{Ad(e)},0);e.on("init",()=>{e.inline&&Kx(e,n),LR(e,n)}),e.on("remove",()=>{n.cancel()})};let Zb;const F1=qs.DOM,bk=e=>an(e)&&qb.isEditorUIElement(e),Xx=e=>{const n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},Dy=(e,n)=>{const o=_1(e);return F1.getParent(n,l=>bk(l)||(o?e.dom.is(l,o):!1))!==null},$R=e=>{try{const n=fo(Ne.fromDom(e.getElement()));return Sr(n).fold(()=>document.body,o=>o.dom)}catch{return document.body}},r6=(e,n)=>{const o=n.editor;yC(o);const r=(l,h)=>{if(cE(l)&&l.inline!==!0){const v=Ne.fromDom(l.getContainer());h(v,"tox-edit-focus")}};o.on("focusin",()=>{const l=e.focusedEditor;Xx($R(o))&&r(o,kd),l!==o&&(l&&l.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:l}),o.focus(!0))}),o.on("focusout",()=>{Mf.setEditorTimeout(o,()=>{const l=e.focusedEditor;(!Xx($R(o))||l!==o)&&r(o,Xa),!Dy(o,$R(o))&&l===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Zb||(Zb=l=>{const h=e.activeEditor;h&&Zr(l).each(v=>{const A=v;A.ownerDocument===document&&A!==document.body&&!Dy(h,A)&&e.focusedEditor===h&&(h.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},F1.bind(document,"focusin",Zb))},BR=(e,n)=>{e.focusedEditor===n.editor&&(e.focusedEditor=null),!e.activeEditor&&Zb&&(F1.unbind(document,"focusin",Zb),Zb=null)},i6=e=>{e.on("AddEditor",Ze(r6,e)),e.on("RemoveEditor",Ze(BR,e))},yk=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="true"),_k=e=>e.collapsed?X.from(jh(e.startContainer,e.startOffset)).map(Ne.fromDom):X.none(),Ek=(e,n)=>_k(n).bind(o=>Mu(o)?X.some(o):at(e,o)?X.none():X.some(e)),wk=(e,n)=>{Ek(Ne.fromDom(e.getBody()),n).bind(o=>vi(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},FR=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},a6=e=>xo(e)||zc(e).isSome(),c6=e=>He(e.iframeElement)&&xo(Ne.fromDom(e.iframeElement)),Qx=e=>{const n=e.getBody();return n&&a6(Ne.fromDom(n))},Tk=e=>{const n=fo(Ne.fromDom(e.getElement()));return Sr(n).filter(o=>!Xx(o.dom)&&Dy(e,o.dom)).isSome()},Yb=e=>e.inline?Qx(e):c6(e),Ck=e=>Yb(e)||Tk(e),Sk=e=>{const n=e.selection,o=e.getBody();let r=n.getRng();e.quirks.refreshContentEditable(),He(e.bookmark)&&!Yb(e)&&mv(e).each(h=>{e.selection.setRng(h),r=h});const l=yk(e,n.getNode());if(l&&e.dom.isChildOf(l,o)){FR(l),wk(e,r),HR(e);return}e.inline||(cs.browser.isOpera()||FR(o),e.getWin().focus()),(cs.browser.isFirefox()||e.inline)&&(FR(o),wk(e,r)),HR(e)},HR=e=>e.editorManager.setActive(e),l6=(e,n)=>{e.removed||(n?HR(e):Sk(e))},xk=(e,n,o,r,l)=>{const h=o?n.startContainer:n.endContainer,v=o?n.startOffset:n.endOffset;return X.from(h).map(Ne.fromDom).map(A=>!r||!n.collapsed?Vt(A,l(A,v)).getOr(A):A).bind(A=>ps(A)?X.some(A):ts(A).filter(ps)).map(A=>A.dom).getOr(e)},Ak=(e,n,o=!1)=>xk(e,n,!0,o,(r,l)=>Math.min(Xt(r),l)),Ok=(e,n,o=!1)=>xk(e,n,!1,o,(r,l)=>l>0?l-1:l),Rk=(e,n)=>{const o=e;for(;e&&Wt(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||o},u6=(e,n)=>{if(!n)return e;let o=n.startContainer,r=n.endContainer;const l=n.startOffset,h=n.endOffset;let v=n.commonAncestorContainer;n.collapsed||(o===r&&h-l<2&&o.hasChildNodes()&&(v=o.childNodes[l]),Wt(o)&&Wt(r)&&(o.length===l?o=Rk(o.nextSibling,!0):o=o.parentNode,h===0?r=Rk(r.previousSibling,!1):r=r.parentNode,o&&o===r&&(v=o)));const A=Wt(v)?v.parentNode:v;return an(A)?A:e},d6=(e,n,o,r)=>{const l=[],h=e.getRoot(),v=e.getParent(o||Ak(h,n,n.collapsed),e.isBlock),A=e.getParent(r||Ok(h,n,n.collapsed),e.isBlock);if(v&&v!==h&&l.push(v),v&&A&&v!==A){let R;const H=new Ai(v,h);for(;(R=H.next())&&R!==A;)e.isBlock(R)&&l.push(R)}return A&&v!==A&&A!==h&&l.push(A),l},f6=(e,n,o)=>X.from(n).bind(r=>X.from(r.parentNode).map(l=>{const h=e.nodeIndex(r),v=e.createRng();return v.setStart(l,h),v.setEnd(l,h+1),o&&(SE(e,v,r,!0),SE(e,v,r,!1)),v})),VR=(e,n)=>en(n,o=>{const r=e.dispatch("GetSelectionRange",{range:o});return r.range!==o?r.range:o}),h6=e=>Ds(e)==="img"?1:Du(e).fold(()=>qe(e).length,n=>n.length),m6=e=>Du(e).filter(n=>n.trim().length!==0||n.indexOf(Ts)>-1).isSome(),Jx=e=>Ci(e)&&Ka(e,"contenteditable")==="false",Ik=["img","br"],zR=e=>m6(e)||Fn(Ik,Ds(e))||Jx(e),p6=e=>S0(e,zR),g6=e=>v6(e,zR),v6=(e,n)=>{const o=r=>{const l=qe(r);for(let h=l.length-1;h>=0;h--){const v=l[h];if(n(v))return X.some(v);const A=o(v);if(A.isSome())return A}return X.none()};return o(e)},Dk="[data-mce-autocompleter]",b6=(e,n)=>{if(UR(Ne.fromDom(e.getBody())).isNone()){const o=Ne.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());kr(o,Ne.fromDom(n.extractContents())),n.insertNode(o.dom),ts(o).each(r=>r.dom.normalize()),g6(o).map(r=>{e.selection.setCursorLocation(r.dom,h6(r))})}},y6=e=>ru(e,Dk),UR=e=>Tp(e,Dk),_6=(e,n)=>UR(n).each(o=>{const r=e.selection.getBookmark();vc(o),e.selection.moveToBookmark(r)}),Mk={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},_C=(e,n,o)=>{const r=o?"lastChild":"firstChild",l=o?"prev":"next";if(e[r])return e[r];if(e!==n){let h=e[l];if(h)return h;for(let v=e.parent;v&&v!==n;v=v.parent)if(h=v[l],h)return h}},E6=e=>{var n;const o=(n=e.value)!==null&&n!==void 0?n:"";if(!ia(o))return!1;const r=e.parent;return!(r&&(r.name!=="span"||r.attr("style"))&&/^[ ]+$/.test(o))},Nk=e=>{const n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n};class qd{constructor(n,o){this.name=n,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}static create(n,o){const r=new qd(n,Mk[n]||1);return o&&dn(o,(l,h)=>{r.attr(h,l)}),r}replace(n){const o=this;return n.parent&&n.remove(),o.insert(n,o),o.remove(),o}attr(n,o){const r=this;if(!ee(n))return He(n)&&dn(n,(h,v)=>{r.attr(v,h)}),r;const l=r.attributes;if(l){if(o!==void 0){if(o===null){if(n in l.map){delete l.map[n];let h=l.length;for(;h--;)if(l[h].name===n)return l.splice(h,1),r}return r}if(n in l.map){let h=l.length;for(;h--;)if(l[h].name===n){l[h].value=o;break}}else l.push({name:n,value:o});return l.map[n]=o,r}return l.map[n]}}clone(){const n=this,o=new qd(n.name,n.type),r=n.attributes;if(r){const l=[];l.map={};for(let h=0,v=r.length;h<v;h++){const A=r[h];A.name!=="id"&&(l[l.length]={name:A.name,value:A.value},l.map[A.name]=A.value)}o.attributes=l}return o.value=n.value,o}wrap(n){const o=this;return o.parent&&(o.parent.insert(n,o),n.append(o)),o}unwrap(){const n=this;for(let o=n.firstChild;o;){const r=o.next;n.insert(o,n,!0),o=r}n.remove()}remove(){const n=this,o=n.parent,r=n.next,l=n.prev;return o&&(o.firstChild===n?(o.firstChild=r,r&&(r.prev=null)):l&&(l.next=r),o.lastChild===n?(o.lastChild=l,l&&(l.next=null)):r&&(r.prev=l),n.parent=n.next=n.prev=null),n}append(n){const o=this;n.parent&&n.remove();const r=o.lastChild;return r?(r.next=n,n.prev=r,o.lastChild=n):o.lastChild=o.firstChild=n,n.parent=o,n}insert(n,o,r){n.parent&&n.remove();const l=o.parent||this;return r?(o===l.firstChild?l.firstChild=n:o.prev&&(o.prev.next=n),n.prev=o.prev,n.next=o,o.prev=n):(o===l.lastChild?l.lastChild=n:o.next&&(o.next.prev=n),n.next=o.next,n.prev=o,o.next=n),n.parent=l,n}getAll(n){const o=this,r=[];for(let l=o.firstChild;l;l=_C(l,o))l.name===n&&r.push(l);return r}children(){const n=this,o=[];for(let r=n.firstChild;r;r=r.next)o.push(r);return o}empty(){const n=this;if(n.firstChild){const o=[];for(let l=n.firstChild;l;l=_C(l,n))o.push(l);let r=o.length;for(;r--;){const l=o[r];l.parent=l.firstChild=l.lastChild=l.next=l.prev=null}}return n.firstChild=n.lastChild=null,n}isEmpty(n,o={},r){var l;const h=this;let v=h.firstChild;if(Nk(h))return!1;if(v)do{if(v.type===1){if(v.attr("data-mce-bogus"))continue;if(n[v.name]||Nk(v))return!1}if(v.type===8||v.type===3&&!E6(v)||v.type===3&&v.parent&&o[v.parent.name]&&ia((l=v.value)!==null&&l!==void 0?l:"")||r&&r(v))return!1}while(v=_C(v,h));return!0}walk(n){return _C(this,null,n)}}const w6=(e,n)=>/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(n)),kk=(e,n,o=0)=>{const r=e.toLowerCase();if(r.indexOf("[if ",o)!==-1&&w6(r,o)){const l=r.indexOf("[endif]",o);return r.indexOf(">",l)}else if(n){const l=r.indexOf(">",o);return l!==-1?l:r.length}else{const l=/--!?>/g;l.lastIndex=o;const h=l.exec(e);return h?h.index+h[0].length:r.length}},T6=(e,n,o)=>{const r=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,l=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,h=e.getVoidElements();let v=1,A=o;for(;v!==0;)for(r.lastIndex=A;;){const R=r.exec(n);if(R===null)return A;if(R[1]==="!"){Li(R[2],"--")?A=kk(n,!1,R.index+3):A=kk(n,!0,R.index+1);break}else{l.lastIndex=r.lastIndex;const H=l.exec(n);if(we(H)||H.index!==r.lastIndex)continue;R[1]==="/"?v-=1:jn(h,R[2])||(v+=1),A=r.lastIndex+H[0].length;break}}return A},C6=(e,n)=>{const o=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return n.replace(o,"")},Pk=(e,n)=>{const o=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,r=e.schema;let l=C6(e.getTempAttrs(),n);const h=r.getVoidElements();let v;for(;v=o.exec(l);){const A=o.lastIndex,R=v[0].length;let H;h[v[1]]?H=A:H=T6(r,l,A),l=l.substring(0,A-R)+l.substring(H),o.lastIndex=A-R}return yl(l)},S6=Pk,Lk=e=>{const n=yc(e,"[data-mce-bogus]");Ge(n,o=>{Ka(o,"data-mce-bogus")==="all"?Pr(o):sh(o)?(bs(o,Ne.fromText(fi)),Pr(o)):vc(o)})},$k=e=>{const n=yc(e,"input");Ge(n,o=>{Ir(o,"name")})},x6=(e,n)=>{const o=wd(e),r=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(r,"")},A6=(e,n)=>{const o=e.getDoc(),r=fo(Ne.fromDom(e.getBody())),l=Ne.fromTag("div",o);Eo(l,"data-mce-bogus","all"),Ha(l,{position:"fixed",left:"-9999999px",top:"0"}),Nh(l,n.innerHTML),Lk(l),$k(l);const h=Ns(r);kr(h,l);const v=yl(l.dom.innerText);return Pr(l),v},O6=(e,n,o)=>{let r;return n.format==="raw"?r=Ce.trim(S6(e.serializer,o.innerHTML)):n.format==="text"?r=A6(e,o):n.format==="tree"?r=e.serializer.serialize(o,n):r=x6(e,e.serializer.serialize(o,n)),n.format!=="text"&&!wa(Ne.fromDom(o))&&ee(r)?Ce.trim(r):r},R6=(e,n)=>X.from(e.getBody()).fold(rt(n.format==="tree"?new qd("body",11):""),o=>O6(e,n,o)),Bk=Ce.makeMap,Fk=e=>{const n=[];e=e||{};const o=e.indent,r=Bk(e.indent_before||""),l=Bk(e.indent_after||""),h=St.getEncodeFunc(e.entity_encoding||"raw",e.entities),v=e.element_format!=="xhtml";return{start:(A,R,H)=>{if(o&&r[A]&&n.length>0){const te=n[n.length-1];te.length>0&&te!==`
`&&n.push(`
`)}if(n.push("<",A),R)for(let te=0,Q=R.length;te<Q;te++){const ce=R[te];n.push(" ",ce.name,'="',h(ce.value,!0),'"')}if(!H||v?n[n.length]=">":n[n.length]=" />",H&&o&&l[A]&&n.length>0){const te=n[n.length-1];te.length>0&&te!==`
`&&n.push(`
`)}},end:A=>{let R;n.push("</",A,">"),o&&l[A]&&n.length>0&&(R=n[n.length-1],R.length>0&&R!==`
`&&n.push(`
`))},text:(A,R)=>{A.length>0&&(n[n.length]=R?A:h(A))},cdata:A=>{n.push("<![CDATA[",A,"]]>")},comment:A=>{n.push("<!--",A,"-->")},pi:(A,R)=>{R?n.push("<?",A," ",h(R),"?>"):n.push("<?",A,"?>"),o&&n.push(`
`)},doctype:A=>{n.push("<!DOCTYPE",A,">",o?`
`:"")},reset:()=>{n.length=0},getContent:()=>n.join("").replace(/\n$/,"")}},Kb=(e={},n=Uo())=>{const o=Fk(e);return e.validate="validate"in e?e.validate:!0,{serialize:l=>{const h=e.validate,v={3:R=>{var H;o.text((H=R.value)!==null&&H!==void 0?H:"",R.raw)},8:R=>{var H;o.comment((H=R.value)!==null&&H!==void 0?H:"")},7:R=>{o.pi(R.name,R.value)},10:R=>{var H;o.doctype((H=R.value)!==null&&H!==void 0?H:"")},4:R=>{var H;o.cdata((H=R.value)!==null&&H!==void 0?H:"")},11:R=>{let H=R;if(H=H.firstChild)do A(H);while(H=H.next)}};o.reset();const A=R=>{var H;const te=v[R.type];if(te)te(R);else{const Q=R.name,ce=Q in n.getVoidElements();let Re=R.attributes;if(h&&Re&&Re.length>1){const Me=[];Me.map={};const _e=n.getElementRule(R.name);if(_e){for(let Ie=0,We=_e.attributesOrder.length;Ie<We;Ie++){const Fe=_e.attributesOrder[Ie];if(Fe in Re.map){const Xe=Re.map[Fe];Me.map[Fe]=Xe,Me.push({name:Fe,value:Xe})}}for(let Ie=0,We=Re.length;Ie<We;Ie++){const Fe=Re[Ie].name;if(!(Fe in Me.map)){const Xe=Re.map[Fe];Me.map[Fe]=Xe,Me.push({name:Fe,value:Xe})}}Re=Me}}if(o.start(Q,Re,ce),!ce){let Me=R.firstChild;if(Me){(Q==="pre"||Q==="textarea")&&Me.type===3&&((H=Me.value)===null||H===void 0?void 0:H[0])===`
`&&o.text(`
`,!0);do A(Me);while(Me=Me.next)}o.end(Q)}}};return l.type===1&&!e.inner?A(l):l.type===3?v[3](l):v[11](l),o.getContent()}}},Hk=new Set;Ge(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],n=>{Hk.add(n)});const Vn=["font","text-decoration","text-emphasis"],eA=(e,n)=>uc(e.parseStyle(e.getAttrib(n,"style"))),Vk=e=>Hk.has(e),I6=(e,n)=>Or(eA(e,n),o=>!Vk(o)),WR=e=>Dn(e,n=>ko(Vn,o=>Li(n,o))),D6=(e,n,o)=>{const r=eA(e,n),l=eA(e,o),h=v=>{var A,R;const H=(A=e.getStyle(n,v))!==null&&A!==void 0?A:"",te=(R=e.getStyle(o,v))!==null&&R!==void 0?R:"";return $s(H)&&$s(te)&&H!==te};return ko(r,v=>{const A=R=>ko(R,H=>H===v);if(!A(l)&&A(Vn)){const R=WR(l);return ko(R,h)}else return h(v)})},zk=(e,n,o)=>X.from(o.container()).filter(Wt).exists(r=>{const l=e?0:-1;return n(r.data.charAt(o.offset()+l))}),GR=Ze(zk,!0,by),jR=Ze(zk,!1,by),M6=e=>{const n=e.container();return Wt(n)&&(n.data.length===0||Ap(n.data)&&Cd.isBookmarkNode(n.parentNode))},ig=(e,n)=>o=>$b(e?0:-1,o).filter(n).isSome(),qR=e=>cb(e)&&el(Ne.fromDom(e),"display")==="block",N6=e=>gs(e)&&!Mg(e),k6=ig(!0,qR),mo=ig(!1,qR),EC=ig(!0,di),vo=ig(!1,di),ZR=ig(!0,Yr),P6=ig(!1,Yr),My=ig(!0,N6),Xb=ig(!1,N6),VY=e=>e.slice(0,-1),zY=(e,n,o)=>at(n,e)?VY(Qs(e,r=>o(r)||es(r,n))):[],Uk=(e,n)=>zY(e,n,nt),H1=(e,n)=>[e].concat(Uk(e,n)),Qn=(e,n,o)=>Ys(e,n,o,M6),Wk=(e,n)=>Is(H1(Ne.fromDom(n.container()),e),nc),Gk=(e,n,o)=>Qn(e,n.dom,o).forall(r=>Wk(n,o).fold(()=>!Gu(r,o,n.dom),l=>!Gu(r,o,n.dom)&&at(l,Ne.fromDom(r.container())))),jk=(e,n,o)=>Wk(n,o).fold(()=>Qn(e,n.dom,o).forall(r=>!Gu(r,o,n.dom)),r=>Qn(e,r.dom,o).isNone()),Ny=Ze(jk,!1),YR=Ze(jk,!0),L6=Ze(Gk,!1),$6=Ze(Gk,!0),B6=e=>R1(e).exists(sh),wC=(e,n,o)=>{const r=Dn(H1(Ne.fromDom(o.container()),n),nc),l=ai(r).getOr(n);return Bo(e,l.dom,o).filter(B6)},KR=(e,n)=>R1(n).exists(sh)||wC(!0,e,n).isSome(),qk=(e,n)=>Xp(n).exists(sh)||wC(!1,e,n).isSome(),UY=Ze(wC,!1),F6=Ze(wC,!0),Zk=e=>Qe.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),Yk=(e,n)=>{const o=Dn(H1(Ne.fromDom(n.container()),e),nc);return ai(o).getOr(e)},Kk=(e,n)=>Zk(n)?jR(n):jR(n)||Di(Yk(e,n).dom,n).exists(jR),XR=(e,n)=>Zk(n)?GR(n):GR(n)||Ii(Yk(e,n).dom,n).exists(GR),H6=e=>Fn(["pre","pre-wrap"],e),Mo=e=>R1(e).bind(n=>ns(n,ps)).exists(n=>H6(el(n,"white-space"))),Xk=(e,n)=>Di(e.dom,n).isNone(),tA=(e,n)=>Ii(e.dom,n).isNone(),Qk=(e,n)=>Xk(e,n)||tA(e,n)||Ny(e,n)||YR(e,n)||qk(e,n)||KR(e,n),Jk=e=>He(e)&&gs(e)&&rc(e),QR=(e,n)=>o=>Jk(new Ai(o,e)[n]()),eP=(e,n)=>{const o=Ii(e.dom,n).getOr(n),r=QR(e.dom,"next");return n.isAtEnd()&&(r(n.container())||r(o.container()))},tP=(e,n)=>{const o=Di(e.dom,n).getOr(n),r=QR(e.dom,"prev");return n.isAtStart()&&(r(n.container())||r(o.container()))},V6=(e,n)=>Mo(n)?!1:Qk(e,n)||Kk(e,n)||XR(e,n),GE=(e,n)=>Mo(n)?!1:Ny(e,n)||L6(e,n)||qk(e,n)||Kk(e,n)||tP(e,n),z6=e=>{const n=e.container(),o=e.offset();return Wt(n)&&o<n.data.length?Qe(n,o+1):e},TC=(e,n)=>Mo(n)?!1:YR(e,n)||$6(e,n)||KR(e,n)||XR(e,n)||eP(e,n),JR=(e,n)=>GE(e,n)||TC(e,z6(n)),nP=(e,n)=>wE(e.charAt(n)),oP=(e,n)=>by(e.charAt(n)),U6=e=>{const n=e.container();return Wt(n)&&Ei(n.data,Ts)},W6=e=>{const n=e.split("");return en(n,(o,r)=>wE(o)&&r>0&&r<n.length-1&&RT(n[r-1])&&RT(n[r+1])?" ":o).join("")},sP=(e,n,o)=>{const r=n.data,l=Qe(n,0);return!o&&nP(r,0)&&!JR(e,l)?(n.data=" "+r.slice(1),!0):o&&oP(r,0)&&GE(e,l)?(n.data=Ts+r.slice(1),!0):!1},eI=e=>{const n=e.data,o=W6(n);return o!==n?(e.data=o,!0):!1},nA=(e,n,o)=>{const r=n.data,l=Qe(n,r.length-1);return!o&&nP(r,r.length-1)&&!JR(e,l)?(n.data=r.slice(0,-1)+" ",!0):o&&oP(r,r.length-1)&&TC(e,l)?(n.data=r.slice(0,-1)+Ts,!0):!1},G6=(e,n)=>{const o=n.container();if(!Wt(o))return X.none();if(U6(n)){const r=sP(e,o,!1)||eI(o)||nA(e,o,!1);return st(r,n)}else if(JR(e,n)){const r=sP(e,o,!0)||nA(e,o,!0);return st(r,n)}else return X.none()},j6=e=>{const n=Ne.fromDom(e.getBody());e.selection.isCollapsed()&&G6(n,Qe.fromRangeStart(e.selection.getRng())).each(o=>{e.selection.setRng(o.toRange())})},rP=(e,n,o)=>{if(o===0)return;const r=Ne.fromDom(e),l=js(r,nc).getOr(r),h=e.data.slice(n,n+o),v=n+o>=e.data.length&&TC(l,Qe(e,e.data.length)),A=n===0&&GE(l,Qe(e,0));e.replaceData(n,o,pf(h,4,A,v))},oA=(e,n)=>{const o=e.data.slice(n),r=o.length-Dc(o).length;rP(e,n,r)},tI=(e,n)=>{const o=e.data.slice(0,n),r=o.length-nf(o).length;rP(e,n-r,r)},nI=(e,n,o,r=!0)=>{const l=nf(e.data).length,h=r?e:n,v=r?n:e;return r?h.appendData(v.data):h.insertData(0,v.data),Pr(Ne.fromDom(v)),o&&oA(h,l),h},q6=(e,n)=>{const o=e.container(),r=e.offset();return!Qe.isTextPosition(e)&&o===n.parentNode&&r>Qe.before(n).offset()},Z6=(e,n)=>q6(n,e)?Qe(n.container(),n.offset()-1):n,iP=e=>Wt(e)?Qe(e,0):Qe.before(e),Y6=e=>Wt(e)?Qe(e,e.data.length):Qe.after(e),aP=e=>El(e.previousSibling)?X.some(Y6(e.previousSibling)):e.previousSibling?hi(e.previousSibling):X.none(),Qb=e=>El(e.nextSibling)?X.some(iP(e.nextSibling)):e.nextSibling?vi(e.nextSibling):X.none(),K6=(e,n)=>X.from(n.previousSibling?n.previousSibling:n.parentNode).bind(o=>Di(e,Qe.before(o))).orThunk(()=>Ii(e,Qe.after(n))),cP=(e,n)=>Ii(e,Qe.after(n)).orThunk(()=>Di(e,Qe.before(n))),X6=(e,n)=>aP(n).orThunk(()=>Qb(n)).orThunk(()=>K6(e,n)),Q6=(e,n)=>Qb(n).orThunk(()=>aP(n)).orThunk(()=>cP(e,n)),lP=(e,n,o)=>e?Q6(n,o):X6(n,o),uP=(e,n,o)=>lP(e,n,o).map(Ze(Z6,o)),oI=(e,n,o)=>{o.fold(()=>{e.focus()},r=>{e.selection.setRng(r.toRange(),n)})},dP=e=>n=>n.dom===e,Od=(e,n)=>n&&jn(e.schema.getBlockElements(),Ds(n)),J6=e=>{if(Fs(e)){const n=Ne.fromHtml('<br data-mce-bogus="1">');return dr(e),kr(e,n),X.some(Qe.before(n.dom))}else return X.none()},eV=(e,n,o)=>{const r=Jc(e).filter(Rr),l=Qa(e).filter(Rr);return Pr(e),qt(r,l,n,(h,v,A)=>{const R=h.dom,H=v.dom,te=R.data.length;return nI(R,H,o),A.container()===H?Qe(R,te):A}).orThunk(()=>(o&&(r.each(h=>tI(h.dom,h.dom.length)),l.each(h=>oA(h.dom,0))),n))},tV=(e,n)=>jn(e.schema.getTextInlineElements(),Ds(n)),ky=(e,n,o,r=!0)=>{const l=uP(n,e.getBody(),o.dom),h=js(o,Ze(Od,e),dP(e.getBody())),v=eV(o,l,tV(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):h.bind(J6).fold(()=>{r&&oI(e,n,v)},A=>{r&&oI(e,n,X.some(A))})},nV=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Py=e=>nV.test(e),Ly=(e,n)=>_a(Ne.fromDom(n),b1(e))&&!hd(e.schema,n)&&e.dom.isEditable(n),oV=e=>{var n;return qs.DOM.getStyle(e,"direction",!0)==="rtl"||Py((n=e.textContent)!==null&&n!==void 0?n:"")},Aa=(e,n,o)=>Dn(qs.DOM.getParents(o.container(),"*",n),e),ag=(e,n,o)=>{const r=Aa(e,n,o);return X.from(r[r.length-1])},WY=(e,n,o)=>{const r=fa(n,e),l=fa(o,e);return He(r)&&r===l},xl=e=>ud(e)||Op(e),Yo=(e,n)=>{const o=n.container(),r=n.offset();return e?Tc(o)?Wt(o.nextSibling)?Qe(o.nextSibling,0):Qe.after(o):ud(n)?Qe(o,r+1):n:Tc(o)?Wt(o.previousSibling)?Qe(o.previousSibling,o.previousSibling.data.length):Qe.before(o):Op(n)?Qe(o,r-1):n},_h=Ze(Yo,!0),fP=Ze(Yo,!1),sI=(e,n)=>{const o=r=>r.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(n),e.off("beforeinput input",o)},rI=e=>{e.execCommand("delete")},CC=e=>sI(e,"Delete"),hP=e=>sI(e,"ForwardDelete"),mP=e=>n=>$e(ts(n),e,es),sV=e=>tt(e)||Ph(e),sA=(e,n)=>at(e,n)?ns(n,sV,mP(e)):X.none(),SC=(e,n=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!n})},pP=(e,n,o)=>wt(vi(o),hi(o),(r,l)=>{const h=Yo(!0,r),v=Yo(!1,l),A=Yo(!1,n);return e?Ii(o,A).exists(R=>R.isEqual(v)&&n.isEqual(h)):Di(o,A).exists(R=>R.isEqual(h)&&n.isEqual(v))}).getOr(!0),Qh=e=>(Xc(e)?Jc(e):xt(e)).bind(Qh).orThunk(()=>X.some(e)),gP=(e,n,o,r=!0)=>{var l;n.deleteContents();const h=Qh(o).getOr(o),v=Ne.fromDom((l=e.dom.getParent(h.dom,e.dom.isBlock))!==null&&l!==void 0?l:o.dom);if(v.dom===e.getBody()?SC(e,r):Fs(v)&&(df(v),r&&e.selection.setCursorLocation(v.dom,0)),!es(o,v)){const A=$e(ts(v),o)?[]:Kf(v);Ge(A.concat(qe(o)),R=>{!es(R,v)&&!at(R,v)&&Fs(R)&&Pr(R)})}},rV=e=>n=>es(e,n),vP=e=>yc(e,"td,th"),iI=(e,n)=>{const o=H=>M1(Ne.fromDom(H),n),r=o(e.startContainer),l=o(e.endContainer),h=r.isSome(),v=l.isSome(),A=wt(r,l,es).getOr(!1);return{startTable:r,endTable:l,isStartInTable:h,isEndInTable:v,isSameTable:A,isMultiTable:!A&&h&&v}},aI=(e,n)=>({start:e,end:n}),xC=(e,n,o)=>({rng:e,table:n,cells:o}),AC=Gd.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),V1=(e,n)=>ru(Ne.fromDom(e),"td,th",n),Eh=e=>!es(e.start,e.end),jE=(e,n)=>M1(e.start,n).bind(o=>M1(e.end,n).bind(r=>st(es(o,r),o))),Fr=(e,n)=>!Eh(e)&&jE(e,n).exists(o=>{const r=o.dom.rows;return r.length===1&&r[0].cells.length===1}),OC=(e,n)=>{const o=V1(e.startContainer,n),r=V1(e.endContainer,n);return wt(o,r,aI)},bP=e=>n=>M1(n,e).bind(o=>Yl(vP(o)).map(r=>aI(n,r))),yP=e=>n=>M1(n,e).bind(o=>ai(vP(o)).map(r=>aI(r,n))),RC=e=>n=>jE(n,e).map(o=>xC(n,o,vP(o))),rA=(e,n,o,r)=>{if(o.collapsed||!e.forall(Eh))return X.none();if(n.isSameTable){const l=e.bind(RC(r));return X.some({start:l,end:l})}else{const l=V1(o.startContainer,r),h=V1(o.endContainer,r),v=l.bind(bP(r)).bind(RC(r)),A=h.bind(yP(r)).bind(RC(r));return X.some({start:v,end:A})}},iA=(e,n)=>zr(e,o=>es(o,n)),IC=e=>wt(iA(e.cells,e.rng.start),iA(e.cells,e.rng.end),(n,o)=>e.cells.slice(n,o+1)),aA=(e,n,o)=>e.exists(r=>Fr(r,o)&&_y(r.start,n)),cA=(e,n)=>{const{startTable:o,endTable:r}=n,l=e.cloneRange();return o.each(h=>l.setStartAfter(h.dom)),r.each(h=>l.setEndBefore(h.dom)),l},_P=(e,n,o,r)=>rA(e,n,o,r).bind(({start:l,end:h})=>l.or(h)).bind(l=>{const{isSameTable:h}=n,v=IC(l).getOr([]);if(h&&l.cells.length===v.length)return X.some(AC.fullTable(l.table));if(v.length>0){if(h)return X.some(AC.partialTable(v,X.none()));{const A=cA(o,n);return X.some(AC.partialTable(v,X.some({...n,rng:A})))}}else return X.none()}),EP=(e,n,o,r)=>rA(e,n,o,r).bind(({start:l,end:h})=>{const v=l.bind(IC).getOr([]),A=h.bind(IC).getOr([]);if(v.length>0&&A.length>0){const R=cA(o,n);return X.some(AC.multiTable(v,A,R))}else return X.none()}),wP=(e,n)=>{const o=rV(e),r=OC(n,o),l=iI(n,o);return aA(r,n,o)?r.map(h=>AC.singleCellTable(n,h.start)):l.isMultiTable?EP(r,l,n,o):_P(r,l,n,o)},cI=e=>Ge(e,n=>{Ir(n,"contenteditable"),df(n)}),TP=(e,n)=>X.from(e.dom.getParent(n,e.dom.isBlock)).map(Ne.fromDom),qE=(e,n,o)=>{o.each(r=>{n?Pr(r):(df(r),e.selection.setCursorLocation(r.dom,0))})},lA=(e,n,o,r)=>{const l=o.cloneRange();r?(l.setStart(o.startContainer,o.startOffset),l.setEndAfter(n.dom.lastChild)):(l.setStartBefore(n.dom.firstChild),l.setEnd(o.endContainer,o.endOffset)),dA(e,l,n,!1).each(h=>h())},uA=e=>{const n=D1(e),o=Ne.fromDom(e.selection.getNode());Oi(o.dom)&&Fs(o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),n.length>1&&ko(n,r=>es(r,o))&&Eo(o,"data-mce-selected","1")},CP=(e,n,o)=>X.some(()=>{const r=e.selection.getRng(),l=o.bind(({rng:h,isStartInTable:v})=>{const A=TP(e,v?h.endContainer:h.startContainer);h.deleteContents(),qE(e,v,A.filter(Fs));const R=v?n[0]:n[n.length-1];return lA(e,R,r,v),Fs(R)?X.none():X.some(v?n.slice(1):n.slice(0,-1))}).getOr(n);cI(l),uA(e)}),iV=(e,n,o,r)=>X.some(()=>{const l=e.selection.getRng(),h=n[0],v=o[o.length-1];lA(e,h,l,!0),lA(e,v,l,!1);const A=Fs(h)?n:n.slice(1),R=Fs(v)?o:o.slice(0,-1);cI(A.concat(R)),r.deleteContents(),uA(e)}),dA=(e,n,o,r=!0)=>X.some(()=>{gP(e,n,o,r)}),SP=(e,n)=>X.some(()=>ky(e,!1,n)),xP=(e,n,o)=>wP(n,o).bind(r=>r.fold(Ze(dA,e),Ze(SP,e),Ze(CP,e),Ze(iV,e))),fA=(e,n)=>DC(e,n),AP=(e,n,o,r)=>hA(n,r).fold(()=>xP(e,n,o),l=>fA(e,l)),OP=(e,n,o)=>{const r=Ne.fromDom(e.getBody()),l=e.selection.getRng();return o.length!==0?CP(e,o,X.none()):AP(e,r,l,n)},lI=(e,n)=>Is(H1(n,e),wc),hA=(e,n)=>Is(H1(n,e),La("caption")),RP=(e,n,o,r,l)=>Lo(o,e.getBody(),l).bind(h=>lI(n,Ne.fromDom(h.getNode())).bind(v=>es(v,r)?X.none():X.some(Mt))),DC=(e,n)=>X.some(()=>{df(n),e.selection.setCursorLocation(n.dom,0)}),IP=(e,n,o,r)=>vi(e.dom).bind(l=>hi(e.dom).map(h=>n?o.isEqual(l)&&r.isEqual(h):o.isEqual(h)&&r.isEqual(l))).getOr(!0),DP=(e,n)=>DC(e,n),MP=(e,n,o)=>hA(e,Ne.fromDom(o.getNode())).fold(()=>X.some(Mt),r=>st(!es(r,n),Mt)),NP=(e,n,o,r,l)=>Lo(o,e.getBody(),l).fold(()=>X.some(Mt),h=>IP(r,o,l,h)?DP(e,r):MP(n,r,h)),kP=(e,n,o,r)=>{const l=Qe.fromRangeStart(e.selection.getRng());return lI(o,r).bind(h=>Fs(h)?DC(e,h):RP(e,o,n,h,l))},PP=(e,n,o,r)=>{const l=Qe.fromRangeStart(e.selection.getRng());return Fs(r)?DC(e,r):NP(e,o,n,r,l)},uI=(e,n)=>e?ZR(n):P6(n),LP=(e,n)=>{const o=Qe.fromRangeStart(e.selection.getRng());return uI(n,o)||Bo(n,e.getBody(),o).exists(r=>uI(n,r))},$P=(e,n,o)=>{const r=Ne.fromDom(e.getBody());return hA(r,o).fold(()=>kP(e,n,r,o).orThunk(()=>st(LP(e,n),Mt)),l=>PP(e,n,r,l))},MC=(e,n)=>{const o=Ne.fromDom(e.selection.getStart(!0)),r=D1(e);return e.selection.isCollapsed()&&r.length===0?$P(e,n,o):OP(e,o,r)},pv=(e,n)=>{let o=n;for(;o&&o!==e;){if(Do(o)||gs(o))return o;o=o.parentNode}return null},BP=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],FP=Ce.each,ZE=e=>{const n=e.dom,o=new Set(e.serializer.getTempAttrs()),r=(h,v)=>{if(h.nodeName!==v.nodeName||h.nodeType!==v.nodeType)return!1;const A=H=>{const te={};return FP(n.getAttribs(H),Q=>{const ce=Q.nodeName.toLowerCase();ce!=="style"&&!l(ce)&&(te[ce]=n.getAttrib(H,ce))}),te},R=(H,te)=>{for(const Q in H)if(jn(H,Q)){const ce=te[Q];if(bt(ce)||H[Q]!==ce)return!1;delete te[Q]}for(const Q in te)if(jn(te,Q))return!1;return!0};return an(h)&&an(v)&&(!R(A(h),A(v))||!R(n.parseStyle(n.getAttrib(h,"style")),n.parseStyle(n.getAttrib(v,"style"))))?!1:!jd(h)&&!jd(v)},l=h=>ko(BP,v=>Li(h,v))||o.has(h);return{compare:r,isAttributeInternal:l}},dI=(e,n)=>{let o=e;for(;o=o.walk();)n(o)},YE=(e,n,o,r)=>{const l=o.name;for(let h=0,v=e.length;h<v;h++){const A=e[h];if(A.name===l){const R=r.nodes[l];R?R.nodes.push(o):r.nodes[l]={filter:A,nodes:[o]}}}if(o.attributes)for(let h=0,v=n.length;h<v;h++){const A=n[h],R=A.name;if(R in o.attributes.map){const H=r.attributes[R];H?H.nodes.push(o):r.attributes[R]={filter:A,nodes:[o]}}}},fI=(e,n,o)=>{const r={nodes:{},attributes:{}};return o.firstChild&&dI(o,l=>{YE(e,n,l,r)}),r},hI=(e,n)=>{const o=(r,l)=>{dn(r,h=>{const v=Xs(h.nodes);Ge(h.filter.callbacks,A=>{for(let R=v.length-1;R>=0;R--){const H=v[R];(!(l?H.attr(h.filter.name)!==void 0:H.name===h.filter.name)||It(H.parent))&&v.splice(R,1)}v.length>0&&A(v,h.filter.name,n)})})};o(e.nodes,!1),o(e.attributes,!0)},$y=(e,n,o,r={})=>{const l=fI(e,n,o);hI(l,r)},NC=(e,n,o)=>{if(e.insert&&n(o)){const r=new qd("br",1);r.attr("data-mce-bogus","1"),o.empty().append(r)}else o.empty().append(new qd("#text",3)).value=Ts},mI=e=>{var n;return KE(e,"#text")&&((n=e==null?void 0:e.firstChild)===null||n===void 0?void 0:n.value)===Ts},KE=(e,n)=>{const o=e==null?void 0:e.firstChild;return He(o)&&o===e.lastChild&&o.name===n},Jb=(e,n)=>{const o=e.getElementRule(n.name);return(o==null?void 0:o.paddEmpty)===!0},XE=(e,n,o,r)=>r.isEmpty(n,o,l=>Jb(e,l)),aV=(e,n)=>He(e)&&(n(e)||e.name==="br"),HP=e=>{let n;for(let o=e;o;o=o.parent){const r=o.attr("contenteditable");if(r==="false")break;r==="true"&&(n=o)}return X.from(n)},mA=(e,n,o=e.parent)=>{if(n.getSpecialElements()[e.name])e.empty().remove();else{const r=e.children();for(const l of r)o&&!n.isValidChild(o.name,l.name)&&mA(l,n,o);e.unwrap()}},pI=(e,n,o,r=Mt)=>{const l=n.getTextBlockElements(),h=n.getNonEmptyElements(),v=n.getWhitespaceElements(),A=Ce.makeMap("tr,td,th,tbody,thead,tfoot,table"),R=new Set,H=te=>te!==o&&!A[te.name];for(let te=0;te<e.length;te++){const Q=e[te];let ce,Re,Me;if(!Q.parent||R.has(Q))continue;if(l[Q.name]&&Q.parent.name==="li"){let Ie=Q.next;for(;Ie&&l[Ie.name];){Ie.name="li",R.add(Ie),Q.parent.insert(Ie,Q.parent);Ie=Ie.next}Q.unwrap();continue}const _e=[Q];for(ce=Q.parent;ce&&!n.isValidChild(ce.name,Q.name)&&H(ce);ce=ce.parent)_e.push(ce);if(ce&&_e.length>1)if(n.isValidChild(ce.name,Q.name)){_e.reverse(),Re=_e[0].clone(),r(Re);let Ie=Re;for(let We=0;We<_e.length-1;We++){n.isValidChild(Ie.name,_e[We].name)&&We>0?(Me=_e[We].clone(),r(Me),Ie.append(Me)):Me=Ie;for(let Fe=_e[We].firstChild;Fe&&Fe!==_e[We+1];){const Xe=Fe.next;Me.append(Fe),Fe=Xe}Ie=Me}XE(n,h,v,Re)?ce.insert(Q,_e[0],!0):(ce.insert(Re,_e[0],!0),ce.insert(Q,Re)),ce=_e[0],(XE(n,h,v,ce)||KE(ce,"br"))&&ce.empty().remove()}else mA(Q,n);else if(Q.parent){if(Q.name==="li"){let Ie=Q.prev;if(Ie&&(Ie.name==="ul"||Ie.name==="ol")){Ie.append(Q);continue}if(Ie=Q.next,Ie&&(Ie.name==="ul"||Ie.name==="ol")&&Ie.firstChild){Ie.insert(Q,Ie.firstChild,!0);continue}const We=new qd("ul",1);r(We),Q.wrap(We);continue}if(n.isValidChild(Q.parent.name,"div")&&n.isValidChild("div",Q.name)){const Ie=new qd("div",1);r(Ie),Q.wrap(Ie)}else mA(Q,n)}}},GY=(e,n)=>{let o=e;for(;o;){if(o.name===n)return!0;o=o.parent}return!1},VP=(e,n,o=n.parent)=>o&&e.children[n.name]&&!e.isValidChild(o.name,n.name)?!0:!!(o&&n.name==="a"&&GY(o,"a")),gI=(e,n,o,r)=>{const l=document.createRange();return l.setStart(e,n),l.setEnd(o,r),l},cg=e=>{const n=Qe.fromRangeStart(e),o=Qe.fromRangeEnd(e),r=e.commonAncestorContainer;return Bo(!1,r,o).map(l=>!Gu(n,o,r)&&Gu(n,l,r)?gI(n.container(),n.offset(),l.container(),l.offset()):e).getOr(e)},kC=e=>e.collapsed?e:cg(e),pA=e=>He(e.firstChild)&&e.firstChild===e.lastChild,vI=e=>e.name==="br"||e.value===Ts,cV=(e,n)=>e.getBlockElements()[n.name]&&pA(n)&&vI(n.firstChild),zP=(e,n)=>{const o=e.getNonEmptyElements();return He(n)&&(n.isEmpty(o)||cV(e,n))},lV=(e,n)=>{let o=n.firstChild,r=n.lastChild;return o&&o.name==="meta"&&(o=o.next),r&&r.attr("id")==="mce_marker"&&(r=r.prev),zP(e,r)&&(r=r==null?void 0:r.prev),!o||o!==r?!1:o.name==="ul"||o.name==="ol"},UP=e=>{var n,o;const r=e.firstChild,l=e.lastChild;return r&&r.nodeName==="META"&&((n=r.parentNode)===null||n===void 0||n.removeChild(r)),l&&l.id==="mce_marker"&&((o=l.parentNode)===null||o===void 0||o.removeChild(l)),e},bI=(e,n,o)=>{const r=n.serialize(o),l=e.createFragment(r);return UP(l)},uV=e=>{var n;return Dn((n=e==null?void 0:e.childNodes)!==null&&n!==void 0?n:[],o=>o.nodeName==="LI")},WP=e=>e.data===Ts||Lr(e),dV=e=>He(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&WP(e.firstChild),PC=e=>!e.firstChild||dV(e),GP=e=>e.length>0&&PC(e[e.length-1])?e.slice(0,-1):e,yI=(e,n)=>{const o=e.getParent(n,e.isBlock);return o&&o.nodeName==="LI"?o:null},jP=(e,n)=>!!yI(e,n),fV=(e,n)=>{const o=n.cloneRange(),r=n.cloneRange();return o.setStartBefore(e),r.setEndAfter(e),[o.cloneContents(),r.cloneContents()]},hV=(e,n)=>{const o=Qe.before(e),l=Ye(n).next(o);return l?l.toRange():null},qP=(e,n)=>{const o=Qe.after(e),l=Ye(n).prev(o);return l?l.toRange():null},mV=(e,n,o,r)=>{const l=fV(e,r),h=e.parentNode;return h&&(h.insertBefore(l[0],e),Ce.each(n,v=>{h.insertBefore(v,e)}),h.insertBefore(l[1],e),h.removeChild(e)),qP(n[n.length-1],o)},pV=(e,n,o)=>{const r=e.parentNode;return r&&Ce.each(n,l=>{r.insertBefore(l,e)}),hV(e,o)},ZP=(e,n,o,r)=>(r.insertAfter(n.reverse(),e),qP(n[0],o)),gV=(e,n,o,r)=>{const l=bI(n,e,r),h=yI(n,o.startContainer),v=GP(uV(l.firstChild)),A=1,R=2,H=n.getRoot(),te=Q=>{const ce=Qe.fromRangeStart(o),Re=Ye(n.getRoot()),Me=Q===A?Re.prev(ce):Re.next(ce),_e=Me==null?void 0:Me.getNode();return _e?yI(n,_e)!==h:!0};return h?te(A)?pV(h,v,H):te(R)?ZP(h,v,H,n):mV(h,v,H,o):null},_I=["pre"],By=(e,n,o,r)=>{var l;const h=n.firstChild,v=n.lastChild,A=v.attr("data-mce-type")==="bookmark"?v.prev:v,R=h===A,H=Fn(_I,h.name);if(R&&H){const te=h.attr("contenteditable")!=="false",Q=((l=e.getParent(o,e.isBlock))===null||l===void 0?void 0:l.nodeName.toLowerCase())===h.name,ce=X.from(pv(r,o)).forall(Do);return te&&Q&&ce}else return!1},EI=Oi,vV=(e,n,o)=>{if(He(o)){const r=e.getParent(n.endContainer,EI);return o===r&&_y(Ne.fromDom(o),n)}else return!1},gA=(e,n,o)=>{var r;if(o.getAttribute("data-mce-bogus")==="all")(r=o.parentNode)===null||r===void 0||r.insertBefore(e.dom.createFragment(n),o);else{const l=o.firstChild,h=o.lastChild;!l||l===h&&l.nodeName==="BR"?e.dom.setHTML(o,n):e.selection.setContent(n,{no_events:!0})}},YP=(e,n)=>{X.from(e.getParent(n,"td,th")).map(Ne.fromDom).each(mu)},KP=(e,n)=>{const o=e.schema.getTextInlineElements(),r=e.dom;if(n){const l=e.getBody(),h=ZE(e);Ce.each(r.select("*[data-mce-fragment]"),v=>{if(He(o[v.nodeName.toLowerCase()])&&I6(r,v)){for(let R=v.parentElement;He(R)&&R!==l&&!D6(r,v,R);R=R.parentElement)if(h.compare(R,v)){r.remove(v,!0);break}}})}},bV=e=>{let n=e;for(;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},XP=e=>{Ce.each(e.getElementsByTagName("*"),n=>{n.removeAttribute("data-mce-fragment")})},yV=e=>!!e.getAttribute("data-mce-fragment"),Fy=(e,n)=>He(n)&&!e.schema.getVoidElements()[n.nodeName],QP=(e,n)=>{var o,r,l;let h;const v=e.dom,A=e.selection;if(!n)return;A.scrollIntoView(n);const R=pv(e.getBody(),n);if(R&&v.getContentEditable(R)==="false"){v.remove(n),A.select(R);return}let H=v.createRng();const te=n.previousSibling;if(Wt(te)){H.setStart(te,(r=(o=te.nodeValue)===null||o===void 0?void 0:o.length)!==null&&r!==void 0?r:0);const Re=n.nextSibling;Wt(Re)&&(te.appendData(Re.data),(l=Re.parentNode)===null||l===void 0||l.removeChild(Re))}else H.setStartBefore(n),H.setEndBefore(n);const Q=Re=>{let Me=Qe.fromRangeStart(Re);return Me=Ye(e.getBody()).next(Me),Me==null?void 0:Me.toRange()},ce=v.getParent(n,v.isBlock);v.remove(n),ce&&v.isEmpty(ce)&&(dr(Ne.fromDom(ce)),H.setStart(ce,0),H.setEnd(ce,0),!EI(ce)&&!yV(ce)&&(h=Q(H))?(H=h,v.remove(ce)):v.add(ce,v.create("br",{"data-mce-bogus":"1"}))),A.setRng(H)},JP=e=>{const n=e.dom,o=kC(e.selection.getRng());e.selection.setRng(o);const r=n.getParent(o.startContainer,EI);vV(n,o,r)?dA(e,o,Ne.fromDom(r)):o.startContainer===o.endContainer&&o.endOffset-o.startOffset===1&&Wt(o.startContainer.childNodes[o.startOffset])?o.deleteContents():e.getDoc().execCommand("Delete",!1)},eL=e=>{for(let n=e;n;n=n.walk())if(n.attr("id")==="mce_marker")return X.some(n);return X.none()},vA=(e,n,o)=>{var r,l;const h=e.selection,v=e.dom,A=e.parser,R=o.merge,H=Kb({validate:!0},e.schema),te='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,te);let Q=h.getRng();const ce=Q.startContainer,Re=e.getBody();ce===Re&&h.isCollapsed()&&v.isBlock(Re.firstChild)&&Fy(e,Re.firstChild)&&v.isEmpty(Re.firstChild)&&(Q=v.createRng(),Q.setStart(Re.firstChild,0),Q.setEnd(Re.firstChild,0),h.setRng(Q)),h.isCollapsed()||JP(e);const Me=h.getNode(),_e={context:Me.nodeName.toLowerCase(),data:o.data,insert:!0},Ie=A.parse(n,_e);if(o.paste===!0&&lV(e.schema,Ie)&&jP(v,Me))return Q=gV(H,v,h.getRng(),Ie),Q&&h.setRng(Q),n;o.paste===!0&&By(v,Ie,Me,e.getBody())&&((r=Ie.firstChild)===null||r===void 0||r.unwrap()),bV(Ie);let We=Ie.lastChild;if(We&&We.attr("id")==="mce_marker"){const Fe=We;for(We=We.prev;We;We=We.walk(!0))if(We.type===3||!v.isBlock(We.name)){We.parent&&e.schema.isValidChild(We.parent.name,"span")&&We.parent.insert(Fe,We,We.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(Me),!_e.invalid)n=H.serialize(Ie),gA(e,n,Me);else{e.selection.setContent(te);let Fe=h.getNode(),Xe;const lt=e.getBody();for(uf(Fe)?Fe=Xe=lt:Xe=Fe;Xe&&Xe!==lt;)Fe=Xe,Xe=Xe.parentNode;n=Fe===lt?lt.innerHTML:v.getOuterHTML(Fe);const Ot=A.parse(n),cn=eL(Ot),Qt=cn.bind(HP).getOr(Ot);cn.each(Bn=>Bn.replace(Ie));const pt=Ie.children(),mt=(l=Ie.parent)!==null&&l!==void 0?l:Ot;Ie.unwrap();const En=Dn(pt,Bn=>VP(e.schema,Bn,mt));pI(En,e.schema,Qt),$y(A.getNodeFilters(),A.getAttributeFilters(),Ot),n=H.serialize(Ot),Fe===lt?v.setHTML(lt,n):v.setOuterHTML(Fe,n)}return KP(e,R),QP(e,v.get("mce_marker")),XP(e.getBody()),YP(v,h.getStart()),Pu(e.schema,e.getBody(),h.getStart()),n},LC=e=>e instanceof qd,_V=e=>{Yb(e)&&vi(e.getBody()).each(n=>{const o=n.getNode(),r=Yr(o)?vi(o).getOr(n):n;e.selection.setRng(r.toRange())})},bA=(e,n,o)=>{e.dom.setHTML(e.getBody(),n),o!==!0&&_V(e)},EV=(e,n,o,r)=>{if(o.length===0||/^\s+$/.test(o)){const l='<br data-mce-bogus="1">';n.nodeName==="TABLE"?o="<tr><td>"+l+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(o="<li>"+l+"</li>");const h=wd(e);return e.schema.isValidChild(n.nodeName.toLowerCase(),h.toLowerCase())?(o=l,o=e.dom.createHTML(h,ev(e),o)):o||(o=l),bA(e,o,r.no_selection),{content:o,html:o}}else{r.format!=="raw"&&(o=Kb({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const l=wa(Ne.fromDom(n))?o:Ce.trim(o);return bA(e,l,r.no_selection),{content:l,html:l}}},wV=(e,n,o,r)=>{$y(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const l=Kb({validate:!1},e.schema).serialize(o),h=wa(Ne.fromDom(n))?l:Ce.trim(l);return bA(e,h,r.no_selection),{content:o,html:h}},yA=(e,n,o)=>X.from(e.getBody()).map(r=>LC(n)?wV(e,r,n,o):EV(e,r,n,o)).getOr({content:n,html:LC(o.content)?"":o.content}),tL=(e,n,o)=>js(e,n,o).isSome(),wI=(e,n)=>su(e,n).isSome(),nL=e=>Te(e)?e:nt,TV=(e,n,o)=>{let r=e.dom;const l=nL(o);for(;r.parentNode;){r=r.parentNode;const h=Ne.fromDom(r),v=n(h);if(v.isSome())return v;if(l(h))break}return X.none()},_A=(e,n,o)=>{const r=n(e),l=nL(o);return r.orThunk(()=>l(e)?X.none():TV(e,n,l))},$C=BT,TI=(e,n,o)=>{const r=e.formatter.get(o);if(r)for(let l=0;l<r.length;l++){const h=r[l];if(ju(h)&&h.inherit===!1&&e.dom.is(n,h.selector))return!0}return!1},CI=(e,n,o,r,l)=>{const h=e.dom.getRoot();if(n===h)return!1;const v=e.dom.getParent(n,A=>TI(e,A,o)?!0:A.parentNode===h||!!Jh(e,A,o,r,!0));return!!Jh(e,v,o,r,l)},EA=(e,n,o)=>ja(o)&&$C(n,o.inline)||Gr(o)&&$C(n,o.block)?!0:ju(o)?an(n)&&e.is(n,o.selector):!1,oL=(e,n,o,r,l,h)=>{const v=o[r],A=r==="attributes";if(Te(o.onmatch))return o.onmatch(n,o,r);if(v){if(gp(v)){for(let R=0;R<v.length;R++)if(A?e.getAttrib(n,v[R]):AE(e,n,v[R]))return!0}else for(const R in v)if(jn(v,R)){const H=A?e.getAttrib(n,R):AE(e,n,R),te=uv(v[R],h),Q=It(H)||$i(H);if(Q&&It(te))continue;if(l&&Q&&!o.exact||(!l||o.exact)&&!$C(H,FT(te,R)))return!1}}return!0},Jh=(e,n,o,r,l)=>{const h=e.formatter.get(o),v=e.dom;if(h&&an(n))for(let A=0;A<h.length;A++){const R=h[A];if(EA(e.dom,n,R)&&oL(v,n,R,"attributes",l,r)&&oL(v,n,R,"styles",l,r)){const H=R.classes;if(H){for(let te=0;te<H.length;te++)if(!e.dom.hasClass(n,uv(H[te],r)))return}return R}}},lg=(e,n,o,r,l)=>{if(r)return CI(e,r,n,o,l);if(r=e.selection.getNode(),CI(e,r,n,o,l))return!0;const h=e.selection.getStart();return!!(h!==r&&CI(e,h,n,o,l))},CV=(e,n,o)=>{const r=[],l={},h=e.selection.getStart();return e.dom.getParent(h,v=>{for(let A=0;A<n.length;A++){const R=n[A];!l[R]&&Jh(e,v,R,o)&&(l[R]=!0,r.push(R))}},e.dom.getRoot()),r},SI=(e,n)=>{const o=l=>es(l,Ne.fromDom(e.getBody())),r=(l,h)=>Jh(e,l.dom,h)?X.some(h):X.none();return X.from(e.selection.getStart(!0)).bind(l=>_A(Ne.fromDom(l),h=>_i(n,v=>r(h,v)),o)).getOrNull()},Oa=(e,n)=>{const o=e.formatter.get(n),r=e.dom;if(o){const l=e.selection.getStart(),h=OE(r,l);for(let v=o.length-1;v>=0;v--){const A=o[v];if(!ju(A))return!0;for(let R=h.length-1;R>=0;R--)if(r.is(h[R],A.selector))return!0}}return!1},xI=(e,n,o)=>Us(o,(r,l)=>{const h=Sc(e,l);return e.formatter.matchNode(n,l,{},h)?r.concat([l]):r},[]),e0=sa,z1=(e,n)=>e.importNode(n,!0),sL=e=>{const n=[];let o=e;for(;o;){if(Wt(o)&&o.data!==e0||o.childNodes.length>1)return[];an(o)&&n.push(o),o=o.firstChild}return n},wA=e=>sL(e).length>0,QE=e=>{if(e){const n=new Ai(e,e);for(let o=n.current();o;o=n.next())if(Wt(o))return o}return null},AI=e=>{const n=Ne.fromTag("span");return ei(n,{id:ul,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&kr(n,Ne.fromText(e0)),n},SV=e=>{const n=QE(e);return n&&n.data.charAt(0)===e0&&n.deleteData(0,1),n},t0=(e,n,o=!0)=>{const r=e.dom,l=e.selection;if(wA(n))ky(e,!1,Ne.fromDom(n),o);else{const h=l.getRng(),v=r.getParent(n,r.isBlock),A=h.startContainer,R=h.startOffset,H=h.endContainer,te=h.endOffset,Q=SV(n);r.remove(n,!0),A===Q&&R>0&&h.setStart(Q,R-1),H===Q&&te>0&&h.setEnd(Q,te-1),v&&r.isEmpty(v)&&df(Ne.fromDom(v)),l.setRng(h)}},OI=(e,n,o=!0)=>{const r=e.dom,l=e.selection;if(n)t0(e,n,o);else if(n=ph(e.getBody(),l.getStart()),!n)for(;n=r.get(ul);)t0(e,n,!1)},Hy=(e,n,o)=>{var r,l;const h=e.dom,v=h.getParent(o,Ze($T,e.schema));v&&h.isEmpty(v)?(r=o.parentNode)===null||r===void 0||r.replaceChild(n,o):(Pd(Ne.fromDom(o)),h.isEmpty(o)?(l=o.parentNode)===null||l===void 0||l.replaceChild(n,o):h.insertAfter(n,o))},rL=(e,n)=>(e.appendChild(n),n),U1=(e,n)=>{var o;const r=ri(e,(h,v)=>rL(h,v.cloneNode(!1)),n),l=(o=r.ownerDocument)!==null&&o!==void 0?o:document;return rL(r,l.createTextNode(e0))},Xm=(e,n,o,r,l,h)=>{const v=e.formatter,A=e.dom,R=Dn(uc(v.get()),Q=>Q!==r&&!Ei(Q,"removeformat")),H=xI(e,o,R);if(Dn(H,Q=>!RE(e,Q,r)).length>0){const Q=o.cloneNode(!1);return A.add(n,Q),v.remove(r,l,Q,h),A.remove(Q),X.some(Q)}else return X.none()},TA=(e,n,o)=>{let r;const l=e.selection,h=e.formatter.get(n);if(!h)return;const v=l.getRng();let A=v.startOffset;const H=v.startContainer.nodeValue;r=ph(e.getBody(),l.getStart());const te=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(H&&A>0&&A<H.length&&te.test(H.charAt(A))&&te.test(H.charAt(A-1))){const Q=l.getBookmark();v.collapse(!0);let ce=k1(e.dom,v,h);ce=UE(ce),e.formatter.apply(n,o,ce),l.moveToBookmark(Q)}else{let Q=r?QE(r):null;(!r||(Q==null?void 0:Q.data)!==e0)&&(r=z1(e.getDoc(),AI(!0).dom),Q=r.firstChild,v.insertNode(r),A=1),e.formatter.apply(n,o,r),l.setCursorLocation(Q,A)}},RI=(e,n,o,r)=>{const l=e.dom,h=e.selection;let v=!1;const A=e.formatter.get(n);if(!A)return;const R=h.getRng(),H=R.startContainer,te=R.startOffset;let Q=H;Wt(H)&&(te!==H.data.length&&(v=!0),Q=Q.parentNode);const ce=[];let Re;for(;Q;){if(Jh(e,Q,n,o,r)){Re=Q;break}Q.nextSibling&&(v=!0),ce.push(Q),Q=Q.parentNode}if(Re)if(v){const Me=h.getBookmark();R.collapse(!0);let _e=k1(l,R,A,!0);_e=UE(_e),e.formatter.remove(n,o,_e,r),h.moveToBookmark(Me)}else{const Me=ph(e.getBody(),Re),_e=AI(!1).dom;Hy(e,_e,Me??Re);const Ie=Xm(e,_e,Re,n,o,r),We=U1(ce.concat(Ie.toArray()),_e);Me&&t0(e,Me,!1),h.setCursorLocation(We,1),l.isEmpty(Re)&&l.remove(Re)}},xV=(e,n)=>{const o=e.selection,r=e.getBody();OI(e,null,!1),(n===8||n===46)&&o.isCollapsed()&&o.getStart().innerHTML===e0&&OI(e,ph(r,o.getStart())),(n===37||n===39)&&OI(e,ph(r,o.getStart()))},AV=e=>{e.on("mouseup keydown",n=>{xV(e,n.keyCode)})},BC=e=>{const n=AI(!1),o=U1(e,n.dom);return{caretContainer:n,caretPosition:Qe(o,0)}},iL=(e,n)=>{const{caretContainer:o,caretPosition:r}=BC(n);return bs(Ne.fromDom(e),o),Pr(Ne.fromDom(e)),r},Qm=(e,n)=>{const{caretContainer:o,caretPosition:r}=BC(n);return e.selection.getRng().insertNode(o.dom),r},FC=(e,n)=>{const o=e.schema.getTextInlineElements();return jn(o,Ds(n))&&!tr(n.dom)&&!du(n.dom)},II=e=>tr(e.dom)&&wA(e.dom),Vy={},CA=Pl(["pre"]),zy=(e,n)=>{Vy[e]||(Vy[e]=[]),Vy[e].push(n)},DI=(e,n)=>{jn(Vy,e)&&Ge(Vy[e],o=>{o(n)})};zy("pre",e=>{const n=e.selection.getRng(),o=l=>h=>{const v=h.previousSibling;return CA(v)&&Fn(l,v)},r=(l,h)=>{const v=Ne.fromDom(h),A=Dt(v).dom;Pr(v),lf(Ne.fromDom(l),[Ne.fromTag("br",A),Ne.fromTag("br",A),...qe(v)])};if(!n.collapsed){const l=e.selection.getSelectedBlocks(),h=Dn(Dn(l,CA),o(l));Ge(h,v=>{r(v.previousSibling,v)})}});const aL=["fontWeight","fontStyle","color","fontSize","fontFamily"],cL=e=>ke(e.styles)&&ko(uc(e.styles),n=>Fn(aL,n)),OV=e=>Is(e,n=>ja(n)&&n.inline==="span"&&cL(n)),lL=(e,n)=>{const o=e.get(n);return V(o)?OV(o):X.none()},uL=(e,n)=>Di(n,Qe.fromRangeStart(e)).isNone(),dL=(e,n)=>Ii(n,Qe.fromRangeEnd(e)).exists(o=>!Lr(o.getNode())||Ii(n,o).isSome())===!1,JE=e=>n=>nh(n)&&e.isEditable(n),RV=e=>{const n=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(n.length===1)return uL(o,n[0])&&dL(o,n[0])?n:[];{const r=ai(n).filter(v=>uL(o,v)).toArray(),l=Yl(n).filter(v=>dL(o,v)).toArray(),h=n.slice(1,-1);return r.concat(h).concat(l)}},fL=e=>Dn(RV(e),JE(e.dom)),SA=e=>Dn(e.getSelectedBlocks(),JE(e.dom)),MI=Ce.each,xA=e=>an(e)&&!jd(e)&&!tr(e)&&!du(e),NI=(e,n)=>{for(let o=e;o;o=o[n]){if(Wt(o)&&$s(o.data))return e;if(an(o)&&!jd(o))return o}return e},hL=(e,n,o)=>{const r=ZE(e),l=an(n)&&qm(n),h=an(o)&&qm(o);if(l&&h){const v=NI(n,"previousSibling"),A=NI(o,"nextSibling");if(r.compare(v,A)){for(let R=v.nextSibling;R&&R!==A;){const H=R;R=R.nextSibling,v.appendChild(H)}return e.dom.remove(A),Ce.each(Ce.grep(A.childNodes),R=>{v.appendChild(R)}),v}}return o},mL=(e,n,o,r)=>{var l;if(r&&n.merge_siblings!==!1){const h=(l=hL(e,Ox(r),r))!==null&&l!==void 0?l:r;hL(e,h,Ox(h,!0))}},IV=(e,n,o)=>{if(n.clear_child_styles){const r=n.links?"*:not(a)":"*";MI(e.select(r,o),l=>{xA(l)&&qm(l)&&MI(n.styles,(h,v)=>{e.setStyle(l,v,"")})})}},kI=(e,n,o)=>{MI(e.childNodes,r=>{xA(r)&&(n(r)&&o(r),r.hasChildNodes()&&kI(r,n,o))})},DV=(e,n)=>{n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},pL=(e,n)=>o=>!!(o&&AE(e,o,n)),gL=(e,n,o)=>r=>{e.setStyle(r,n,o),r.getAttribute("style")===""&&r.removeAttribute("style"),DV(e,r)},Uy=Gd.generate([{keep:[]},{rename:["name"]},{removed:[]}]),MV=/^(src|href|style)$/,PI=Ce.each,AA=BT,NV=e=>/^(TR|TH|TD)$/.test(e.nodeName),vL=(e,n,o)=>e.isChildOf(n,o)&&n!==o&&!e.isBlock(o),LI=(e,n,o)=>{let r=n[o?"startContainer":"endContainer"],l=n[o?"startOffset":"endOffset"];if(an(r)){const h=r.childNodes.length-1;!o&&l&&l--,r=r.childNodes[l>h?h:l]}return Wt(r)&&o&&l>=r.data.length&&(r=new Ai(r,e.getBody()).next()||r),Wt(r)&&!o&&l===0&&(r=new Ai(r,e.getBody()).prev()||r),r},bL=(e,n)=>{const o=n?"firstChild":"lastChild",r=e[o];return NV(e)&&r?e.nodeName==="TR"&&r[o]||r:e},n0=(e,n,o,r)=>{var l;const h=e.create(o,r);return(l=n.parentNode)===null||l===void 0||l.insertBefore(h,n),h.appendChild(n),h},yL=(e,n,o,r,l)=>{const h=Ne.fromDom(n),v=Ne.fromDom(e.create(r,l)),A=o?Be(h):Oe(h);return lf(v,A),o?(bs(h,v),Iu(v,h)):(kl(h,v),kr(v,h)),v.dom},kV=(e,n)=>n.links&&e.nodeName==="A",_L=(e,n,o)=>{const r=n.parentNode;let l;const h=e.dom,v=wd(e);Gr(o)&&r===h.getRoot()&&(!o.list_block||!AA(n,o.list_block))&&Ge(Xs(n.childNodes),A=>{Hb(e,v,A.nodeName.toLowerCase())?l?l.appendChild(A):(l=n0(h,A,v),h.setAttribs(l,ev(e))):l=null}),!(IE(o)&&!AA(o.inline,n))&&h.remove(n,!0)},EL=(e,n,o)=>bn(e)?{name:n,value:null}:{name:e,value:uv(n,o)},$I=(e,n)=>{e.getAttrib(n,"style")===""&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style"))},wL=(e,n,o,r,l)=>{let h=!1;PI(o.styles,(v,A)=>{const{name:R,value:H}=EL(A,v,r),te=FT(H,R);(o.remove_similar||we(H)||!an(l)||AA(AE(e,l,R),te))&&e.setStyle(n,R,""),h=!0}),h&&$I(e,n)},PV=(e,n,o)=>{n==="removeformat"?Ge(SA(e.selection),r=>{Ge(aL,l=>e.dom.setStyle(r,l,"")),$I(e.dom,r)}):lL(e.formatter,n).each(r=>{Ge(SA(e.selection),l=>wL(e.dom,l,r,o,null))})},TL=(e,n,o,r,l)=>{const h=e.dom,v=ZE(e),A=e.schema;if(ja(n)&&Lu(A,n.inline)&&hd(A,r)&&r.parentElement===e.getBody())return _L(e,r,n),Uy.removed();if(!n.ceFalseOverride&&r&&h.getContentEditableParent(r)==="false"||r&&!EA(h,r,n)&&!kV(r,n))return Uy.keep();const R=r,H=n.preserve_attributes;if(ja(n)&&n.remove==="all"&&V(H)){const te=Dn(h.getAttribs(R),Q=>Fn(H,Q.name.toLowerCase()));if(h.removeAllAttribs(R),Ge(te,Q=>h.setAttrib(R,Q.name,Q.value)),te.length>0)return Uy.rename("span")}if(n.remove!=="all"){wL(h,R,n,o,l),PI(n.attributes,(Q,ce)=>{const{name:Re,value:Me}=EL(ce,Q,o);if(n.remove_similar||we(Me)||!an(l)||AA(h.getAttrib(l,Re),Me)){if(Re==="class"){const _e=h.getAttrib(R,Re);if(_e){let Ie="";if(Ge(_e.split(/\s+/),We=>{/mce\-\w+/.test(We)&&(Ie+=(Ie?" ":"")+We)}),Ie){h.setAttrib(R,Re,Ie);return}}}if(MV.test(Re)&&R.removeAttribute("data-mce-"+Re),Re==="style"&&Pl(["li"])(R)&&h.getStyle(R,"list-style-type")==="none"){R.removeAttribute(Re),h.setStyle(R,"list-style-type","none");return}Re==="class"&&R.removeAttribute("className"),R.removeAttribute(Re)}}),PI(n.classes,Q=>{Q=uv(Q,o),(!an(l)||h.hasClass(l,Q))&&h.removeClass(R,Q)});const te=h.getAttribs(R);for(let Q=0;Q<te.length;Q++){const ce=te[Q].nodeName;if(!v.isAttributeInternal(ce))return Uy.keep()}}return n.remove!=="none"?(_L(e,R,n),Uy.removed()):Uy.keep()},HC=(e,n,o,r,l)=>TL(e,n,o,r,l).fold(nt,h=>(e.dom.rename(r,h),!0),Lt),LV=(e,n,o,r,l)=>{let h;return n.parentNode&&Ge(OE(e.dom,n.parentNode).reverse(),v=>{if(!h&&an(v)&&v.id!=="_start"&&v.id!=="_end"){const A=Jh(e,v,o,r,l);A&&A.split!==!1&&(h=v)}}),h},$V=(e,n,o,r)=>TL(e,n,o,r,r).fold(rt(r),l=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,l)),rt(null)),BV=(e,n,o,r,l,h,v,A)=>{var R,H;let te,Q;const ce=e.dom;if(o){const Re=o.parentNode;for(let Me=r.parentNode;Me&&Me!==Re;Me=Me.parentNode){let _e=ce.clone(Me,!1);for(let Ie=0;Ie<n.length&&(_e=$V(e,n[Ie],A,_e),_e!==null);Ie++);_e&&(te&&_e.appendChild(te),Q||(Q=_e),te=_e)}h&&(!v.mixed||!ce.isBlock(o))&&(r=(R=ce.split(o,r))!==null&&R!==void 0?R:r),te&&Q&&((H=l.parentNode)===null||H===void 0||H.insertBefore(te,l),Q.appendChild(l),ja(v)&&mL(e,v,A,te))}return r},CL=(e,n,o,r,l)=>{const h=e.formatter.get(n),v=h[0],A=e.dom,R=e.selection,H=_e=>{const Ie=LV(e,_e,n,o,l);return BV(e,h,Ie,_e,_e,!0,v,o)},te=_e=>jd(_e)&&an(_e)&&(_e.id==="_start"||_e.id==="_end"),Q=_e=>ko(h,Ie=>HC(e,Ie,o,_e,_e)),ce=_e=>{const Ie=Xs(_e.childNodes),Fe=Q(_e)||ko(h,Ot=>EA(A,_e,Ot)),Xe=_e.parentNode;if(!Fe&&He(Xe)&&DE(v)&&Q(Xe),v.deep&&Ie.length)for(let Ot=0;Ot<Ie.length;Ot++)ce(Ie[Ot]);Ge(["underline","line-through","overline"],Ot=>{an(_e)&&e.dom.getStyle(_e,"text-decoration")===Ot&&_e.parentNode&&N1(A,_e.parentNode)===Ot&&HC(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Ot}},void 0,_e)})},Re=_e=>{const Ie=A.get(_e?"_start":"_end");if(Ie){let We=Ie[_e?"firstChild":"lastChild"];return te(We)&&(We=We[_e?"firstChild":"lastChild"]),Wt(We)&&We.data.length===0&&(We=_e?Ie.previousSibling||Ie.nextSibling:Ie.nextSibling||Ie.previousSibling),A.remove(Ie,!0),We}else return null},Me=_e=>{let Ie,We,Fe=k1(A,_e,h,_e.collapsed);if(v.split){if(Fe=UE(Fe),Ie=LI(e,Fe,!0),We=LI(e,Fe),Ie!==We){if(Ie=bL(Ie,!0),We=bL(We,!1),vL(A,Ie,We)){const lt=X.from(Ie.firstChild).getOr(Ie);H(yL(A,lt,!0,"span",{id:"_start","data-mce-type":"bookmark"})),Re(!0);return}if(vL(A,We,Ie)){const lt=X.from(We.lastChild).getOr(We);H(yL(A,lt,!1,"span",{id:"_end","data-mce-type":"bookmark"})),Re(!1);return}Ie=n0(A,Ie,"span",{id:"_start","data-mce-type":"bookmark"}),We=n0(A,We,"span",{id:"_end","data-mce-type":"bookmark"});const Xe=A.createRng();Xe.setStartAfter(Ie),Xe.setEndBefore(We),zb(A,Xe,lt=>{Ge(lt,Ot=>{!jd(Ot)&&!jd(Ot.parentNode)&&H(Ot)})}),H(Ie),H(We),Ie=Re(!0),We=Re()}else Ie=We=H(Ie);Fe.startContainer=Ie.parentNode?Ie.parentNode:Ie,Fe.startOffset=A.nodeIndex(Ie),Fe.endContainer=We.parentNode?We.parentNode:We,Fe.endOffset=A.nodeIndex(We)+1}zb(A,Fe,Xe=>{Ge(Xe,ce)})};if(r){if(Ey(r)){const _e=A.createRng();_e.setStartBefore(r),_e.setEndAfter(r),Me(_e)}else Me(r);JT(e,n,r,o);return}!R.isCollapsed()||!ja(v)||D1(e).length?(lv(e,()=>LT(e,Me),_e=>ja(v)&&lg(e,n,o,_e)),e.nodeChanged()):RI(e,n,o,l),PV(e,n,o),JT(e,n,r,o)},SL=Ce.each,FV=(e,n,o,r)=>{const l=h=>{if(an(h)&&an(h.parentNode)&&qm(h)){const v=N1(e,h.parentNode);e.getStyle(h,"color")&&v?e.setStyle(h,"text-decoration",v):e.getStyle(h,"text-decoration")===v&&e.setStyle(h,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(Ce.walk(r,l,"childNodes"),l(r))},BI=(e,n,o,r)=>{if(n.styles&&n.styles.backgroundColor){const l=pL(e,"fontSize");kI(r,h=>l(h)&&qm(h),gL(e,"backgroundColor",uv(n.styles.backgroundColor,o)))}},xL=(e,n,o,r)=>{if(ja(n)&&(n.inline==="sub"||n.inline==="sup")){const l=pL(e,"fontSize");kI(r,v=>l(v)&&qm(v),gL(e,"fontSize",""));const h=Dn(e.select(n.inline==="sup"?"sub":"sup",r),qm);e.remove(h,!0)}},jY=(e,n,o,r)=>{SL(n,l=>{ja(l)&&SL(e.dom.select(l.inline,r),h=>{xA(h)&&HC(e,l,o,h,l.exact?h:null)}),IV(e.dom,l,r)})},VC=(e,n,o,r,l)=>{const h=l.parentNode;Jh(e,h,o,r)&&HC(e,n,r,l)||n.merge_with_parents&&h&&e.dom.getParent(h,v=>Jh(e,v,o,r)?(HC(e,n,r,l),!0):!1)},zC=Ce.each,UC=(e,n,o,r)=>{if(tE(e)&&ja(n)&&o.parentNode){const l=sr(e.schema),h=wI(Ne.fromDom(o),v=>tr(v.dom));return dc(l,r)&&Fs(Ne.fromDom(o.parentNode),!1)&&!h}else return!1},ew=(e,n,o,r)=>{if(zC(o.styles,(l,h)=>{e.setStyle(n,h,uv(l,r))}),o.styles){const l=e.getAttrib(n,"style");l&&e.setAttrib(n,"data-mce-style",l)}},FI=(e,n,o,r)=>{const l=e.formatter.get(n),h=l[0],v=!r&&e.selection.isCollapsed(),A=e.dom,R=e.selection,H=(Me,_e=h)=>{Te(_e.onformat)&&_e.onformat(Me,_e,o,r),ew(A,Me,_e,o),zC(_e.attributes,(Ie,We)=>{A.setAttrib(Me,We,uv(Ie,o))}),zC(_e.classes,Ie=>{const We=uv(Ie,o);A.hasClass(Me,We)||A.addClass(Me,We)})},te=(Me,_e)=>{let Ie=!1;return zC(Me,We=>ju(We)?A.getContentEditable(_e)==="false"&&!We.ceFalseOverride||He(We.collapsed)&&We.collapsed!==v?!0:A.is(_e,We.selector)&&!tr(_e)?(H(_e,We),Ie=!0,!1):!0:!1),Ie},Q=Me=>{if(ee(Me)){const _e=A.create(Me);return H(_e),_e}else return null},ce=(Me,_e,Ie)=>{const We=[];let Fe=!0;const Xe=h.inline||h.block,lt=Q(Xe),Ot=pt=>gh(h)&&Jh(e,pt,n,o),cn=(pt,mt,En)=>{const Bn=Ix(h)&&$T(e.schema,pt)&&Hb(e,mt,Xe);return En&&Bn},Qt=(pt,mt,En,Bn)=>{const Xn=pt.nodeName.toLowerCase(),Ro=Hb(e,Xe,Xn)&&Hb(e,mt,Xe),rs=!Ie&&Wt(pt)&&Ap(pt.data),zs=tr(pt),xr=!ja(h)||!Me.isBlock(pt);return(En||Bn)&&Ro&&!rs&&!zs&&xr};zb(Me,_e,pt=>{let mt;const En=Bn=>{let Xn=!1,Ro=Fe,rs=!1;const zs=Bn.parentNode,xr=zs.nodeName.toLowerCase(),Ki=Me.getContentEditable(Bn);He(Ki)&&(Ro=Fe,Fe=Ki==="true",Xn=!0,rs=Rx(e,Bn));const fl=Fe&&!Xn;if(Lr(Bn)&&!UC(e,h,Bn,xr)){mt=null,Gr(h)&&Me.remove(Bn);return}if(Ot(Bn)){mt=null;return}if(cn(Bn,xr,fl)){const Oc=Me.rename(Bn,Xe);H(Oc),We.push(Oc),mt=null;return}if(ju(h)){let Oc=te(l,Bn);if(!Oc&&He(zs)&&DE(h)&&(Oc=te(l,zs)),!ja(h)||Oc){mt=null;return}}He(lt)&&Qt(Bn,xr,fl,rs)?(mt||(mt=Me.clone(lt,!1),zs.insertBefore(mt,Bn),We.push(mt)),rs&&Xn&&(Fe=Ro),mt.appendChild(Bn)):(mt=null,Ge(Xs(Bn.childNodes),En),Xn&&(Fe=Ro),mt=null)};Ge(pt,En)}),h.links===!0&&Ge(We,pt=>{const mt=En=>{En.nodeName==="A"&&H(En,h),Ge(Xs(En.childNodes),mt)};mt(pt)}),Ge(We,pt=>{const mt=Xn=>{let Ro=0;return Ge(Xn.childNodes,rs=>{!gR(rs)&&!jd(rs)&&Ro++}),Ro},En=Xn=>Is(Xn.childNodes,eg).filter(rs=>Me.getContentEditable(rs)!=="false"&&EA(Me,rs,h)).map(rs=>{const zs=Me.clone(rs,!1);return H(zs),Me.replace(zs,Xn,!0),Me.remove(rs,!0),zs}).getOr(Xn),Bn=mt(pt);if((We.length>1||!Me.isBlock(pt))&&Bn===0){Me.remove(pt,!0);return}(ja(h)||Gr(h)&&h.wrapper)&&(!h.exact&&Bn===1&&(pt=En(pt)),jY(e,l,o,pt),VC(e,h,n,o,pt),BI(Me,h,o,pt),FV(Me,h,o,pt),xL(Me,h,o,pt),mL(e,h,o,pt))})},Re=Ey(r)?r:R.getNode();if(A.getContentEditable(Re)==="false"&&!Rx(e,Re)){r=Re,te(l,r),QT(e,n,r,o);return}if(h){if(r)if(Ey(r)){if(!te(l,r)){const Me=A.createRng();Me.setStartBefore(r),Me.setEndAfter(r),ce(A,k1(A,Me,l),!0)}}else ce(A,r,!0);else!v||!ja(h)||D1(e).length?(R.setRng(kC(R.getRng())),lv(e,()=>{LT(e,(Me,_e)=>{const Ie=_e?Me:k1(A,Me,l);ce(A,Ie,!1)})},Lt),e.nodeChanged()):TA(e,n,o),lL(e.formatter,n).each(Me=>{Ge(fL(e.selection),_e=>ew(A,_e,Me,o))});DI(n,e)}QT(e,n,r,o)},HV=e=>jn(e,"vars"),VV=(e,n)=>{e.set({}),n.on("NodeChange",o=>{UV(n,o.element,e.get())}),n.on("FormatApply FormatRemove",o=>{const r=X.from(o.node).map(l=>Ey(l)?l:l.startContainer).bind(l=>an(l)?X.some(l):X.from(l.parentElement)).getOrThunk(()=>zV(n));UV(n,r,e.get())})},zV=e=>e.selection.getStart(),AL=(e,n,o,r,l)=>jc(n,A=>{const R=e.formatter.matchNode(A,o,l??{},r);return!bt(R)},A=>TI(e,A,o)?!0:r?!1:He(e.formatter.matchNode(A,o,l,!0))),OL=(e,n)=>{const o=n??zV(e);return Dn(OE(e.dom,o),r=>an(r)&&!du(r))},UV=(e,n,o)=>{const r=OL(e,n);dn(o,(l,h)=>{const v=A=>{const R=AL(e,r,h,A.similar,HV(A)?A.vars:void 0),H=R.isSome();if(A.state.get()!==H){A.state.set(H);const te=R.getOr(n);HV(A)?A.callback(H,{node:te,format:h,parents:r}):Ge(A.callbacks,Q=>Q(H,{node:te,format:h,parents:r}))}};Ge([l.withSimilar,l.withoutSimilar],v),Ge(l.withVars,v)})},WV=(e,n,o,r,l,h)=>{const v=n.get();Ge(o.split(","),A=>{const R=gr(v,A).getOrThunk(()=>{const te={withSimilar:{state:Ri(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Ri(!1),similar:!1,callbacks:[]},withVars:[]};return v[A]=te,te}),H=()=>{const te=OL(e);return AL(e,te,A,l,h).isSome()};if(bt(h)){const te=l?R.withSimilar:R.withoutSimilar;te.callbacks.push(r),te.callbacks.length===1&&te.state.set(H())}else R.withVars.push({state:Ri(H()),similar:l,vars:h,callback:r})}),n.set(v)},RL=(e,n,o)=>{const r=e.get();Ge(n.split(","),l=>gr(r,l).each(h=>{r[l]={withSimilar:{...h.withSimilar,callbacks:Dn(h.withSimilar.callbacks,v=>v!==o)},withoutSimilar:{...h.withoutSimilar,callbacks:Dn(h.withoutSimilar.callbacks,v=>v!==o)},withVars:Dn(h.withVars,v=>v.callback!==o)}})),e.set(r)},GV=(e,n,o,r,l,h)=>(WV(e,n,o,r,l,h),{unbind:()=>RL(n,o,r)}),IL=(e,n,o,r)=>{const l=e.formatter.get(n);l&&(lg(e,n,o,r)&&(!("toggle"in l[0])||l[0].toggle)?CL(e,n,o,r):FI(e,n,o,r))},DL=Ce.explode,WC=()=>{const e={};return{addFilter:(l,h)=>{Ge(DL(l),v=>{jn(e,v)||(e[v]={name:v,callbacks:[]}),e[v].callbacks.push(h)})},getFilters:()=>Gf(e),removeFilter:(l,h)=>{Ge(DL(l),v=>{if(jn(e,v))if(He(h)){const A=e[v],R=Dn(A.callbacks,H=>H!==h);R.length>0?A.callbacks=R:delete e[v]}else delete e[v]})}}},ML=(e,n)=>{Ge(n,o=>{e.attr(o,null)})},xc=(e,n,o)=>{e.addNodeFilter("font",r=>{Ge(r,l=>{const h=n.parse(l.attr("style")),v=l.attr("color"),A=l.attr("face"),R=l.attr("size");v&&(h.color=v),A&&(h["font-family"]=A),R&&Md(R).each(H=>{h["font-size"]=o[H-1]}),l.name="span",l.attr("style",n.serialize(h)),ML(l,["color","face","size"])})})},qY=(e,n,o)=>{e.addNodeFilter("strike",r=>{const l=n.type!=="html4";Ge(r,h=>{if(l)h.name="s";else{const v=o.parse(h.attr("style"));v["text-decoration"]="line-through",h.name="span",h.attr("style",o.serialize(v))}})})},ZY=(e,n,o)=>{var r;const l=hr();n.convert_fonts_to_spans&&xc(e,l,Ce.explode((r=n.font_size_legacy_values)!==null&&r!==void 0?r:"")),qY(e,o,l)},YY=(e,n,o)=>{n.inline_styles&&ZY(e,n,o)},KY=e=>fetch(e).then(n=>n.ok?n.blob():Promise.reject()).catch(()=>Promise.reject(`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`)),Jm=e=>{const n=/([a-z0-9+\/=\s]+)/i.exec(e);return n?n[1]:""},tw=e=>{const[n,...o]=e.split(","),r=o.join(","),l=/data:([^/]+\/[^;]+)(;.+)?/.exec(n);if(l){const h=l[2]===";base64",v=h?Jm(r):decodeURIComponent(r);return X.some({type:l[1],data:v,base64Encoded:h})}else return X.none()},o0=(e,n,o=!0)=>{let r=n;if(o)try{r=atob(n)}catch{return X.none()}const l=new Uint8Array(r.length);for(let h=0;h<l.length;h++)l[h]=r.charCodeAt(h);return X.some(new Blob([l],{type:e}))},Wy=e=>new Promise((n,o)=>{tw(e).bind(({type:r,data:l,base64Encoded:h})=>o0(r,l,h)).fold(()=>o("Invalid data URI"),n)}),jV=e=>Li(e,"blob:")?KY(e):Li(e,"data:")?Wy(e):Promise.reject("Unknown URI format"),NL=e=>new Promise((n,o)=>{const r=new FileReader;r.onloadend=()=>{n(r.result)},r.onerror=()=>{var l;o((l=r.error)===null||l===void 0?void 0:l.message)},r.readAsDataURL(e)});let nw=0;const ow=e=>(e||"blobid")+nw++,Gy=(e,n,o)=>tw(e).bind(({data:r,type:l,base64Encoded:h})=>{if(n&&!h)return X.none();{const v=h?r:btoa(r);return o(v,l)}}),kL=(e,n,o)=>{const r=e.create(ow(),n,o);return e.add(r),r},OA=(e,n,o=!1)=>Gy(n,o,(r,l)=>X.from(e.getByData(r,l)).orThunk(()=>o0(l,r).map(h=>kL(e,h,r)))),PL=(e,n)=>{const o=()=>Promise.reject("Invalid data URI");if(Li(n,"blob:")){const r=e.getByUri(n);return He(r)?Promise.resolve(r):jV(n).then(l=>NL(l).then(h=>Gy(h,!1,v=>X.some(kL(e,l,v))).getOrThunk(o)))}else return Li(n,"data:")?OA(e,n).fold(o,r=>Promise.resolve(r)):Promise.reject("Unknown image data format")},LL=e=>He(e.attr("data-mce-bogus")),qV=e=>e.attr("src")===cs.transparentSrc||He(e.attr("data-mce-placeholder")),ZV=(e,n)=>{const{blob_cache:o}=n;if(o){const r=l=>{const h=l.attr("src");qV(l)||LL(l)||It(h)||OA(o,h,!0).each(v=>{l.attr("src",v.blobUri())})};e.addAttributeFilter("src",l=>Ge(l,r))}},$L=(e,n)=>{const o=e.schema;n.remove_trailing_brs&&e.addNodeFilter("br",(l,h,v)=>{const A=Ce.extend({},o.getBlockElements()),R=o.getNonEmptyElements(),H=o.getWhitespaceElements();A.body=1;const te=Q=>Q.name in A&&zh(o,Q);for(let Q=0,ce=l.length;Q<ce;Q++){let Re=l[Q],Me=Re.parent;if(Me&&A[Me.name]&&Re===Me.lastChild){let _e=Re.prev;for(;_e;){const Ie=_e.name;if(Ie!=="span"||_e.attr("data-mce-type")!=="bookmark"){Ie==="br"&&(Re=null);break}_e=_e.prev}if(Re&&(Re.remove(),XE(o,R,H,Me))){const Ie=o.getElementRule(Me.name);Ie&&(Ie.removeEmpty?Me.remove():Ie.paddEmpty&&NC(v,te,Me))}}else{let _e=Re;for(;Me&&Me.firstChild===_e&&Me.lastChild===_e&&(_e=Me,!A[Me.name]);)Me=Me.parent;if(_e===Me){const Ie=new qd("#text",3);Ie.value=Ts,Re.replace(Ie)}}}}),e.addAttributeFilter("href",l=>{let h=l.length;const v=R=>R.split(" ").filter(te=>te.length>0).concat(["noopener"]).sort().join(" "),A=R=>{const H=R?Ce.trim(R):"";return/\b(noopener)\b/g.test(H)?H:v(H)};if(!n.allow_unsafe_link_target)for(;h--;){const R=l[h];R.name==="a"&&R.attr("target")==="_blank"&&R.attr("rel",A(R.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",l=>{let h=l.length,v,A,R,H;for(;h--;)if(H=l[h],H.name==="a"&&H.firstChild&&!H.attr("href"))for(R=H.parent,v=H.lastChild;v&&R;)A=v.prev,R.insert(v,H),v=A}),n.fix_list_elements&&e.addNodeFilter("ul,ol",l=>{let h=l.length,v,A;for(;h--;)if(v=l[h],A=v.parent,A&&(A.name==="ul"||A.name==="ol"))if(v.prev&&v.prev.name==="li")v.prev.append(v);else{const R=new qd("li",1);R.attr("style","list-style-type: none"),v.wrap(R)}});const r=o.getValidClasses();n.validate&&r&&e.addAttributeFilter("class",l=>{var h;let v=l.length;for(;v--;){const A=l[v],R=(h=A.attr("class"))!==null&&h!==void 0?h:"",H=Ce.explode(R," ");let te="";for(let Q=0;Q<H.length;Q++){const ce=H[Q];let Re=!1,Me=r["*"];Me&&Me[ce]&&(Re=!0),Me=r[A.name],!Re&&Me&&Me[ce]&&(Re=!0),Re&&(te&&(te+=" "),te+=ce)}te.length||(te=null),A.attr("class",te)}}),ZV(e,n)};function jy(e){return jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},jy(e)}function HI(e,n){return HI=Object.setPrototypeOf||function(r,l){return r.__proto__=l,r},HI(e,n)}function YV(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function RA(e,n,o){return YV()?RA=Reflect.construct:RA=function(l,h,v){var A=[null];A.push.apply(A,h);var R=Function.bind.apply(l,A),H=new R;return v&&HI(H,v.prototype),H},RA.apply(null,arguments)}function ug(e){return BL(e)||KV(e)||GC(e)||XV()}function BL(e){if(Array.isArray(e))return IA(e)}function KV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function GC(e,n){if(e){if(typeof e=="string")return IA(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);if(o==="Object"&&e.constructor&&(o=e.constructor.name),o==="Map"||o==="Set")return Array.from(e);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return IA(e,n)}}function IA(e,n){(n==null||n>e.length)&&(n=e.length);for(var o=0,r=new Array(n);o<n;o++)r[o]=e[o];return r}function XV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var FL=Object.hasOwnProperty,HL=Object.setPrototypeOf,VL=Object.isFrozen,QV=Object.getPrototypeOf,JV=Object.getOwnPropertyDescriptor,Zd=Object.freeze,dg=Object.seal,zL=Object.create,VI=typeof Reflect<"u"&&Reflect,jC=VI.apply,DA=VI.construct;jC||(jC=function(n,o,r){return n.apply(o,r)}),Zd||(Zd=function(n){return n}),dg||(dg=function(n){return n}),DA||(DA=function(n,o){return RA(n,ug(o))});var e8=qu(Array.prototype.forEach),t8=qu(Array.prototype.pop),qC=qu(Array.prototype.push),sw=qu(String.prototype.toLowerCase),ZC=qu(String.prototype.match),W1=qu(String.prototype.replace),UL=qu(String.prototype.indexOf),MA=qu(String.prototype.trim),Nf=qu(RegExp.prototype.test),zI=UI(TypeError);function qu(e){return function(n){for(var o=arguments.length,r=new Array(o>1?o-1:0),l=1;l<o;l++)r[l-1]=arguments[l];return jC(e,n,r)}}function UI(e){return function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return DA(e,o)}}function pr(e,n){HL&&HL(e,null);for(var o=n.length;o--;){var r=n[o];if(typeof r=="string"){var l=sw(r);l!==r&&(VL(n)||(n[o]=l),r=l)}e[r]=!0}return e}function fg(e){var n=zL(null),o;for(o in e)jC(FL,e,[o])&&(n[o]=e[o]);return n}function YC(e,n){for(;e!==null;){var o=JV(e,n);if(o){if(o.get)return qu(o.get);if(typeof o.value=="function")return qu(o.value)}e=QV(e)}function r(l){return console.warn("fallback value for",l),null}return r}var NA=Zd(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),kA=Zd(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),PA=Zd(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),n8=Zd(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),WI=Zd(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),o8=Zd(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),LA=Zd(["#text"]),WL=Zd(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),$A=Zd(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),GL=Zd(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),BA=Zd(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),s8=dg(/\{\{[\w\W]*|[\w\W]*\}\}/gm),qy=dg(/<%[\w\W]*|[\w\W]*%>/gm),jL=dg(/^data-[\-\w.\u00B7-\uFFFF]/),r8=dg(/^aria-[\-\w]+$/),qL=dg(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),i8=dg(/^(?:\w+script|data):/i),ZL=dg(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),KC=dg(/^html$/i),GI=function(){return typeof window>"u"?null:window},a8=function(n,o){if(jy(n)!=="object"||typeof n.createPolicy!="function")return null;var r=null,l="data-tt-policy-suffix";o.currentScript&&o.currentScript.hasAttribute(l)&&(r=o.currentScript.getAttribute(l));var h="dompurify"+(r?"#"+r:"");try{return n.createPolicy(h,{createHTML:function(A){return A}})}catch{return console.warn("TrustedTypes policy "+h+" could not be created."),null}};function jI(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:GI(),n=function(_t){return jI(_t)};if(n.version="2.3.8",n.removed=[],!e||!e.document||e.document.nodeType!==9)return n.isSupported=!1,n;var o=e.document,r=e.document,l=e.DocumentFragment,h=e.HTMLTemplateElement,v=e.Node,A=e.Element,R=e.NodeFilter,H=e.NamedNodeMap,te=H===void 0?e.NamedNodeMap||e.MozNamedAttrMap:H,Q=e.HTMLFormElement,ce=e.DOMParser,Re=e.trustedTypes,Me=A.prototype,_e=YC(Me,"cloneNode"),Ie=YC(Me,"nextSibling"),We=YC(Me,"childNodes"),Fe=YC(Me,"parentNode");if(typeof h=="function"){var Xe=r.createElement("template");Xe.content&&Xe.content.ownerDocument&&(r=Xe.content.ownerDocument)}var lt=a8(Re,o),Ot=lt?lt.createHTML(""):"",cn=r,Qt=cn.implementation,pt=cn.createNodeIterator,mt=cn.createDocumentFragment,En=cn.getElementsByTagName,Bn=o.importNode,Xn={};try{Xn=fg(r).documentMode?r.documentMode:{}}catch{}var Ro={};n.isSupported=typeof Fe=="function"&&Qt&&typeof Qt.createHTMLDocument<"u"&&Xn!==9;var rs=s8,zs=qy,xr=jL,Ki=r8,fl=i8,Oc=ZL,Yt=qL,kn=null,Es=pr({},[].concat(ug(NA),ug(kA),ug(PA),ug(WI),ug(LA))),mn=null,Gn=pr({},[].concat(ug(WL),ug($A),ug(GL),ug(BA))),Kn=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),gn=null,Ko=null,Xo=!0,Wc=!0,Qr=!1,bo=!1,Ss=!1,cr=!1,Ar=!1,ki=!1,pa=!1,si=!1,qa=!0,om=!0,jl=!1,gg={},Bf=null,m_=pr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),p_=null,vg=pr({},["audio","video","img","source","image","track"]),lp=null,cc=pr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),sm="http://www.w3.org/1998/Math/MathML",bg="http://www.w3.org/2000/svg",Zu="http://www.w3.org/1999/xhtml",rm=Zu,Iv=!1,Tu,X1=["application/xhtml+xml","text/html"],yg="text/html",Ff,Dv=null,ZS=r.createElement("form"),wO=function(_t){return _t instanceof RegExp||_t instanceof Function},YS=function(_t){Dv&&Dv===_t||((!_t||jy(_t)!=="object")&&(_t={}),_t=fg(_t),kn="ALLOWED_TAGS"in _t?pr({},_t.ALLOWED_TAGS):Es,mn="ALLOWED_ATTR"in _t?pr({},_t.ALLOWED_ATTR):Gn,lp="ADD_URI_SAFE_ATTR"in _t?pr(fg(cc),_t.ADD_URI_SAFE_ATTR):cc,p_="ADD_DATA_URI_TAGS"in _t?pr(fg(vg),_t.ADD_DATA_URI_TAGS):vg,Bf="FORBID_CONTENTS"in _t?pr({},_t.FORBID_CONTENTS):m_,gn="FORBID_TAGS"in _t?pr({},_t.FORBID_TAGS):{},Ko="FORBID_ATTR"in _t?pr({},_t.FORBID_ATTR):{},gg="USE_PROFILES"in _t?_t.USE_PROFILES:!1,Xo=_t.ALLOW_ARIA_ATTR!==!1,Wc=_t.ALLOW_DATA_ATTR!==!1,Qr=_t.ALLOW_UNKNOWN_PROTOCOLS||!1,bo=_t.SAFE_FOR_TEMPLATES||!1,Ss=_t.WHOLE_DOCUMENT||!1,ki=_t.RETURN_DOM||!1,pa=_t.RETURN_DOM_FRAGMENT||!1,si=_t.RETURN_TRUSTED_TYPE||!1,Ar=_t.FORCE_BODY||!1,qa=_t.SANITIZE_DOM!==!1,om=_t.KEEP_CONTENT!==!1,jl=_t.IN_PLACE||!1,Yt=_t.ALLOWED_URI_REGEXP||Yt,rm=_t.NAMESPACE||Zu,_t.CUSTOM_ELEMENT_HANDLING&&wO(_t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Kn.tagNameCheck=_t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),_t.CUSTOM_ELEMENT_HANDLING&&wO(_t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Kn.attributeNameCheck=_t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),_t.CUSTOM_ELEMENT_HANDLING&&typeof _t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Kn.allowCustomizedBuiltInElements=_t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Tu=X1.indexOf(_t.PARSER_MEDIA_TYPE)===-1?Tu=yg:Tu=_t.PARSER_MEDIA_TYPE,Ff=Tu==="application/xhtml+xml"?function(Mn){return Mn}:sw,bo&&(Wc=!1),pa&&(ki=!0),gg&&(kn=pr({},ug(LA)),mn=[],gg.html===!0&&(pr(kn,NA),pr(mn,WL)),gg.svg===!0&&(pr(kn,kA),pr(mn,$A),pr(mn,BA)),gg.svgFilters===!0&&(pr(kn,PA),pr(mn,$A),pr(mn,BA)),gg.mathMl===!0&&(pr(kn,WI),pr(mn,GL),pr(mn,BA))),_t.ADD_TAGS&&(kn===Es&&(kn=fg(kn)),pr(kn,_t.ADD_TAGS)),_t.ADD_ATTR&&(mn===Gn&&(mn=fg(mn)),pr(mn,_t.ADD_ATTR)),_t.ADD_URI_SAFE_ATTR&&pr(lp,_t.ADD_URI_SAFE_ATTR),_t.FORBID_CONTENTS&&(Bf===m_&&(Bf=fg(Bf)),pr(Bf,_t.FORBID_CONTENTS)),om&&(kn["#text"]=!0),Ss&&pr(kn,["html","head","body"]),kn.table&&(pr(kn,["tbody"]),delete gn.tbody),Zd&&Zd(_t),Dv=_t)},LN=pr({},["mi","mo","mn","ms","mtext"]),KS=pr({},["foreignobject","desc","title","annotation-xml"]),$N=pr({},["title","style","font","a","script"]),up=pr({},kA);pr(up,PA),pr(up,n8);var g_=pr({},WI);pr(g_,o8);var ut=function(_t){var Mn=Fe(_t);(!Mn||!Mn.tagName)&&(Mn={namespaceURI:Zu,tagName:"template"});var ho=sw(_t.tagName),ga=sw(Mn.tagName);return _t.namespaceURI===bg?Mn.namespaceURI===Zu?ho==="svg":Mn.namespaceURI===sm?ho==="svg"&&(ga==="annotation-xml"||LN[ga]):!!up[ho]:_t.namespaceURI===sm?Mn.namespaceURI===Zu?ho==="math":Mn.namespaceURI===bg?ho==="math"&&KS[ga]:!!g_[ho]:_t.namespaceURI===Zu?Mn.namespaceURI===bg&&!KS[ga]||Mn.namespaceURI===sm&&!LN[ga]?!1:!g_[ho]&&($N[ho]||!up[ho]):!1},dt=function(_t){qC(n.removed,{element:_t});try{_t.parentNode.removeChild(_t)}catch{try{_t.outerHTML=Ot}catch{_t.remove()}}},Jt=function(_t,Mn){try{qC(n.removed,{attribute:Mn.getAttributeNode(_t),from:Mn})}catch{qC(n.removed,{attribute:null,from:Mn})}if(Mn.removeAttribute(_t),_t==="is"&&!mn[_t])if(ki||pa)try{dt(Mn)}catch{}else try{Mn.setAttribute(_t,"")}catch{}},jt=function(_t){var Mn,ho;if(Ar)_t="<remove></remove>"+_t;else{var ga=ZC(_t,/^[\r\n\t ]+/);ho=ga&&ga[0]}Tu==="application/xhtml+xml"&&(_t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+_t+"</body></html>");var xh=lt?lt.createHTML(_t):_t;if(rm===Zu)try{Mn=new ce().parseFromString(xh,Tu)}catch{}if(!Mn||!Mn.documentElement){Mn=Qt.createDocument(rm,"template",null);try{Mn.documentElement.innerHTML=Iv?"":xh}catch{}}var Xd=Mn.body||Mn.documentElement;return _t&&ho&&Xd.insertBefore(r.createTextNode(ho),Xd.childNodes[0]||null),rm===Zu?En.call(Mn,Ss?"html":"body")[0]:Ss?Mn.documentElement:Xd},Un=function(_t){return pt.call(_t.ownerDocument||_t,_t,R.SHOW_ELEMENT|R.SHOW_COMMENT|R.SHOW_TEXT,null,!1)},Qo=function(_t){return _t instanceof Q&&(typeof _t.nodeName!="string"||typeof _t.textContent!="string"||typeof _t.removeChild!="function"||!(_t.attributes instanceof te)||typeof _t.removeAttribute!="function"||typeof _t.setAttribute!="function"||typeof _t.namespaceURI!="string"||typeof _t.insertBefore!="function")},Mr=function(_t){return jy(v)==="object"?_t instanceof v:_t&&jy(_t)==="object"&&typeof _t.nodeType=="number"&&typeof _t.nodeName=="string"},jr=function(_t,Mn,ho){Ro[_t]&&e8(Ro[_t],function(ga){ga.call(n,Mn,ho,Dv)})},Mv=function(_t){var Mn;if(jr("beforeSanitizeElements",_t,null),Qo(_t)||Nf(/[\u0080-\uFFFF]/,_t.nodeName))return dt(_t),!0;var ho=Ff(_t.nodeName);if(jr("uponSanitizeElement",_t,{tagName:ho,allowedTags:kn}),_t.hasChildNodes()&&!Mr(_t.firstElementChild)&&(!Mr(_t.content)||!Mr(_t.content.firstElementChild))&&Nf(/<[/\w]/g,_t.innerHTML)&&Nf(/<[/\w]/g,_t.textContent)||ho==="select"&&Nf(/<template/i,_t.innerHTML))return dt(_t),!0;if(!kn[ho]||gn[ho]){if(!gn[ho]&&D5(ho)&&(Kn.tagNameCheck instanceof RegExp&&Nf(Kn.tagNameCheck,ho)||Kn.tagNameCheck instanceof Function&&Kn.tagNameCheck(ho)))return!1;if(om&&!Bf[ho]){var ga=Fe(_t)||_t.parentNode,xh=We(_t)||_t.childNodes;if(xh&&ga)for(var Xd=xh.length,bi=Xd-1;bi>=0;--bi)ga.insertBefore(_e(xh[bi],!0),Ie(_t))}return dt(_t),!0}return _t instanceof A&&!ut(_t)||(ho==="noscript"||ho==="noembed")&&Nf(/<\/no(script|embed)/i,_t.innerHTML)?(dt(_t),!0):(bo&&_t.nodeType===3&&(Mn=_t.textContent,Mn=W1(Mn,rs," "),Mn=W1(Mn,zs," "),_t.textContent!==Mn&&(qC(n.removed,{element:_t.cloneNode()}),_t.textContent=Mn)),jr("afterSanitizeElements",_t,null),!1)},Hf=function(_t,Mn,ho){if(qa&&(Mn==="id"||Mn==="name")&&(ho in r||ho in ZS))return!1;if(!(Wc&&!Ko[Mn]&&Nf(xr,Mn))){if(!(Xo&&Nf(Ki,Mn))){if(!mn[Mn]||Ko[Mn]){if(!(D5(_t)&&(Kn.tagNameCheck instanceof RegExp&&Nf(Kn.tagNameCheck,_t)||Kn.tagNameCheck instanceof Function&&Kn.tagNameCheck(_t))&&(Kn.attributeNameCheck instanceof RegExp&&Nf(Kn.attributeNameCheck,Mn)||Kn.attributeNameCheck instanceof Function&&Kn.attributeNameCheck(Mn))||Mn==="is"&&Kn.allowCustomizedBuiltInElements&&(Kn.tagNameCheck instanceof RegExp&&Nf(Kn.tagNameCheck,ho)||Kn.tagNameCheck instanceof Function&&Kn.tagNameCheck(ho))))return!1}else if(!lp[Mn]){if(!Nf(Yt,W1(ho,Oc,""))){if(!((Mn==="src"||Mn==="xlink:href"||Mn==="href")&&_t!=="script"&&UL(ho,"data:")===0&&p_[_t])){if(!(Qr&&!Nf(fl,W1(ho,Oc,"")))){if(ho)return!1}}}}}}return!0},D5=function(_t){return _t.indexOf("-")>0},M5=function(_t){var Mn,ho,ga,xh;jr("beforeSanitizeAttributes",_t,null);var Xd=_t.attributes;if(Xd){var bi={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:mn};for(xh=Xd.length;xh--;){Mn=Xd[xh];var im=Mn,Rd=im.name,BN=im.namespaceURI;ho=Rd==="value"?Mn.value:MA(Mn.value),ga=Ff(Rd);var TO=ho;if(bi.attrName=ga,bi.attrValue=ho,bi.keepAttr=!0,bi.forceKeepAttr=void 0,jr("uponSanitizeAttribute",_t,bi),ho=bi.attrValue,!bi.forceKeepAttr){if(!bi.keepAttr){Jt(Rd,_t);continue}if(Nf(/\/>/i,ho)){Jt(Rd,_t);continue}bo&&(ho=W1(ho,rs," "),ho=W1(ho,zs," "));var FN=Ff(_t.nodeName);if(!Hf(FN,ga,ho)){Jt(Rd,_t);continue}if(ho!==TO)try{BN?_t.setAttributeNS(BN,Rd,ho):_t.setAttribute(Rd,ho)}catch{Jt(Rd,_t)}}}jr("afterSanitizeAttributes",_t,null)}},Nq=function No(_t){var Mn,ho=Un(_t);for(jr("beforeSanitizeShadowDOM",_t,null);Mn=ho.nextNode();)jr("uponSanitizeShadowNode",Mn,null),!Mv(Mn)&&(Mn.content instanceof l&&No(Mn.content),M5(Mn));jr("afterSanitizeShadowDOM",_t,null)};return n.sanitize=function(No,_t){var Mn,ho,ga,xh,Xd;if(Iv=!No,Iv&&(No="<!-->"),typeof No!="string"&&!Mr(No)){if(typeof No.toString!="function")throw zI("toString is not a function");if(No=No.toString(),typeof No!="string")throw zI("dirty is not a string, aborting")}if(!n.isSupported){if(jy(e.toStaticHTML)==="object"||typeof e.toStaticHTML=="function"){if(typeof No=="string")return e.toStaticHTML(No);if(Mr(No))return e.toStaticHTML(No.outerHTML)}return No}if(cr||YS(_t),n.removed=[],typeof No=="string"&&(jl=!1),jl){if(No.nodeName){var bi=Ff(No.nodeName);if(!kn[bi]||gn[bi])throw zI("root node is forbidden and cannot be sanitized in-place")}}else if(No instanceof v)Mn=jt("<!---->"),ho=Mn.ownerDocument.importNode(No,!0),ho.nodeType===1&&ho.nodeName==="BODY"||ho.nodeName==="HTML"?Mn=ho:Mn.appendChild(ho);else{if(!ki&&!bo&&!Ss&&No.indexOf("<")===-1)return lt&&si?lt.createHTML(No):No;if(Mn=jt(No),!Mn)return ki?null:si?Ot:""}Mn&&Ar&&dt(Mn.firstChild);for(var im=Un(jl?No:Mn);ga=im.nextNode();)ga.nodeType===3&&ga===xh||Mv(ga)||(ga.content instanceof l&&Nq(ga.content),M5(ga),xh=ga);if(xh=null,jl)return No;if(ki){if(pa)for(Xd=mt.call(Mn.ownerDocument);Mn.firstChild;)Xd.appendChild(Mn.firstChild);else Xd=Mn;return mn.shadowroot&&(Xd=Bn.call(o,Xd,!0)),Xd}var Rd=Ss?Mn.outerHTML:Mn.innerHTML;return Ss&&kn["!doctype"]&&Mn.ownerDocument&&Mn.ownerDocument.doctype&&Mn.ownerDocument.doctype.name&&Nf(KC,Mn.ownerDocument.doctype.name)&&(Rd="<!DOCTYPE "+Mn.ownerDocument.doctype.name+`>
`+Rd),bo&&(Rd=W1(Rd,rs," "),Rd=W1(Rd,zs," ")),lt&&si?lt.createHTML(Rd):Rd},n.setConfig=function(No){YS(No),cr=!0},n.clearConfig=function(){Dv=null,cr=!1},n.isValidAttribute=function(No,_t,Mn){Dv||YS({});var ho=Ff(No),ga=Ff(_t);return Hf(ho,ga,Mn)},n.addHook=function(No,_t){typeof _t=="function"&&(Ro[No]=Ro[No]||[],qC(Ro[No],_t))},n.removeHook=function(No){if(Ro[No])return t8(Ro[No])},n.removeHooks=function(No){Ro[No]&&(Ro[No]=[])},n.removeAllHooks=function(){Ro={}},n}var c8=jI();const FA=Ce.each,qI=Ce.trim,ZI=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],YL={ftp:21,http:80,https:443,mailto:25},KL=["img","video"],l8=(e,n)=>He(e)?!e:He(n)?!Fn(KL,n):!0,gv=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},HA=(e,n,o)=>{const r=gv(n).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(r)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(r)?l8(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)};class hg{constructor(n,o={}){this.path="",this.directory="",n=qI(n),this.settings=o;const r=o.base_uri,l=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){l.source=n;return}const h=n.indexOf("//")===0;if(n.indexOf("/")===0&&!h&&(n=(r&&r.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){const A=r?r.path:new hg(document.location.href).directory;if((r==null?void 0:r.protocol)==="")n="//mce_host"+l.toAbsPath(A,n);else{const R=/([^#?]*)([#?]?.*)/.exec(n);R&&(n=(r&&r.protocol||"http")+"://mce_host"+l.toAbsPath(A,R[1])+R[2])}}n=n.replace(/@@/g,"(mce_at)");const v=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);v&&FA(ZI,(A,R)=>{let H=v[R];H&&(H=H.replace(/\(mce_at\)/g,"@@")),l[A]=H}),r&&(l.protocol||(l.protocol=r.protocol),l.userInfo||(l.userInfo=r.userInfo),!l.port&&l.host==="mce_host"&&(l.port=r.port),(!l.host||l.host==="mce_host")&&(l.host=r.host),l.source=""),h&&(l.protocol="")}static parseDataUri(n){let o;const r=decodeURIComponent(n).split(","),l=/data:([^;]+)/.exec(r[0]);return l&&(o=l[1]),{type:o,data:r[1]}}static isDomSafe(n,o,r={}){if(r.allow_script_urls)return!0;{const l=St.decode(n).replace(/[\s\u0000-\u001F]+/g,"");return!HA(r,l,o)}}static getDocumentBaseUrl(n){var o;let r;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?r=(o=n.href)!==null&&o!==void 0?o:"":r=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r}setPath(n){const o=/^(.*?)\/?(\w+)?$/.exec(n);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(n){if(n==="./")return n;const o=new hg(n,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const r=this.getURI(),l=o.getURI();if(r===l||r.charAt(r.length-1)==="/"&&r.substr(0,r.length-1)===l)return r;let h=this.toRelPath(this.path,o.path);return o.query&&(h+="?"+o.query),o.anchor&&(h+="#"+o.anchor),h}toAbsolute(n,o){const r=new hg(n,{base_uri:this});return r.getURI(o&&this.isSameOrigin(r))}isSameOrigin(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;const o=this.protocol?YL[this.protocol]:null;if(o&&(this.port||o)==(n.port||o))return!0}return!1}toRelPath(n,o){let r=0,l="",h,v;const A=n.substring(0,n.lastIndexOf("/")).split("/"),R=o.split("/");if(A.length>=R.length){for(h=0,v=A.length;h<v;h++)if(h>=R.length||A[h]!==R[h]){r=h+1;break}}if(A.length<R.length){for(h=0,v=R.length;h<v;h++)if(h>=A.length||A[h]!==R[h]){r=h+1;break}}if(r===1)return o;for(h=0,v=A.length-(r-1);h<v;h++)l+="../";for(h=r-1,v=R.length;h<v;h++)h!==r-1?l+="/"+R[h]:l+=R[h];return l}toAbsPath(n,o){let r=0;const l=/\/$/.test(o)?"/":"",h=n.split("/"),v=o.split("/"),A=[];FA(h,Q=>{Q&&A.push(Q)});const R=[];for(let Q=v.length-1;Q>=0;Q--)if(!(v[Q].length===0||v[Q]===".")){if(v[Q]===".."){r++;continue}if(r>0){r--;continue}R.push(v[Q])}const H=A.length-r;let te;return H<=0?te=lr(R).join("/"):te=A.slice(0,H).join("/")+"/"+lr(R).join("/"),te.indexOf("/")!==0&&(te="/"+te),l&&te.lastIndexOf("/")!==te.length-1&&(te+=l),te}getURI(n=!1){let o;return(!this.source||n)&&(o="",n||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const u8=Ce.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),VA="data-mce-type";let YI=0;const rw=(e,n,o,r)=>{var l,h,v,A;const R=n.validate,H=o.getSpecialElements();e.nodeType===eo&&!n.allow_conditional_comments&&/^\[if/i.test((l=e.nodeValue)!==null&&l!==void 0?l:"")&&(e.nodeValue=" "+e.nodeValue);const te=(h=r==null?void 0:r.tagName)!==null&&h!==void 0?h:e.nodeName.toLowerCase();if(e.nodeType!==nr||te==="body")return;const Q=Ne.fromDom(e),ce=na(Q,VA),Re=Ka(Q,"data-mce-bogus");if(!ce&&ee(Re)){Re==="all"?Pr(Q):vc(Q);return}const Me=o.getElementRule(te);if(R&&!Me){jn(H,te)?Pr(Q):vc(Q);return}else He(r)&&(r.allowedTags[te]=!0);if(R&&Me&&!ce){if(Ge((v=Me.attributesForced)!==null&&v!==void 0?v:[],_e=>{Eo(Q,_e.name,_e.value==="{$uid}"?`mce_${YI++}`:_e.value)}),Ge((A=Me.attributesDefault)!==null&&A!==void 0?A:[],_e=>{na(Q,_e.name)||Eo(Q,_e.name,_e.value==="{$uid}"?`mce_${YI++}`:_e.value)}),Me.attributesRequired&&!ko(Me.attributesRequired,_e=>na(Q,_e))){vc(Q);return}if(Me.removeEmptyAttrs&&ya(Q)){vc(Q);return}Me.outputName&&Me.outputName!==te&&Xw(Q,Me.outputName)}},XL=(e,n,o,r,l)=>!(r in u8&&HA(e,l,o))&&(!e.validate||n.isValid(o,r)||Li(r,"data-")||Li(r,"aria-")),QL=(e,n)=>e.hasAttribute(VA)&&(n==="id"||n==="class"||n==="style"),JL=(e,n)=>e in n.getBoolAttrs(),d8=(e,n,o)=>{const{attributes:r}=e;for(let l=r.length-1;l>=0;l--){const h=r[l],v=h.name,A=h.value;!XL(n,o,e.tagName.toLowerCase(),v,A)&&!QL(e,v)?e.removeAttribute(v):JL(v,o)&&e.setAttribute(v,v)}},f8=(e,n)=>{const o=c8();return o.addHook("uponSanitizeElement",(r,l)=>{rw(r,e,n,l)}),o.addHook("uponSanitizeAttribute",(r,l)=>{const h=r.tagName.toLowerCase(),{attrName:v,attrValue:A}=l;l.keepAttr=XL(e,n,h,v,A),l.keepAttr?(l.allowedAttributes[v]=!0,JL(v,n)&&(l.attrValue=v),e.allow_svg_data_urls&&Li(A,"data:image/svg+xml")&&(l.forceKeepAttr=!0)):QL(r,v)&&(l.forceKeepAttr=!0)}),o},e4=(e,n)=>{const r={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return r.PARSER_MEDIA_TYPE=n,e.allow_script_urls?r.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(r.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),r},h8=(e,n)=>{if(e.sanitize){const o=f8(e,n);return(r,l)=>{o.sanitize(r,e4(e,l)),o.removed=[]}}else return(o,r)=>{const l=document.createNodeIterator(o,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let h;for(;h=l.nextNode();)rw(h,e,n),an(h)&&d8(h,e,n)}},t4=Ce.makeMap,n4=Ce.extend,KI=(e,n,o)=>{const r=e.name,l=r in o&&r!=="title"&&r!=="textarea",h=n.childNodes;for(let v=0,A=h.length;v<A;v++){const R=h[v],H=new qd(R.nodeName.toLowerCase(),R.nodeType);if(an(R)){const te=R.attributes;for(let Q=0,ce=te.length;Q<ce;Q++){const Re=te[Q];H.attr(Re.name,Re.value)}}else Wt(R)?(H.value=R.data,l&&(H.raw=!0)):(_c(R)||qv(R)||Zv(R))&&(H.value=R.data);KI(H,R,o),e.append(H)}},XI=(e,n,o)=>{const r=[];for(let l=e,h=l;l;h=l,l=l.walk()){const v=l;Ge(n,A=>A(v)),It(v.parent)&&v!==e?l=h:r.push(v)}for(let l=r.length-1;l>=0;l--){const h=r[l];Ge(o,v=>v(h))}},o4=(e,n,o,r)=>{const l=o.validate,h=n.getNonEmptyElements(),v=n.getWhitespaceElements(),A=n4(t4("script,style,head,html,body,title,meta,param"),n.getBlockElements()),R=sr(n),H=/[ \t\r\n]+/g,te=/^[ \t\r\n]+/,Q=/[ \t\r\n]+$/,ce=Fe=>{let Xe=Fe.parent;for(;He(Xe);){if(Xe.name in v)return!0;Xe=Xe.parent}return!1},Re=Fe=>{let Xe=Fe;for(;He(Xe);){if(Xe.name in R)return XE(n,h,v,Xe);Xe=Xe.parent}return!1},Me=Fe=>Fe.name in A&&!zh(n,Fe),_e=(Fe,Xe)=>{const lt=Xe?Fe.prev:Fe.next;return He(lt)||It(Fe.parent)?!1:Me(Fe.parent)&&(Fe.parent!==e||r.isRootContent===!0)};return[Fe=>{var Xe;if(Fe.type===3&&!ce(Fe)){let lt=(Xe=Fe.value)!==null&&Xe!==void 0?Xe:"";lt=lt.replace(H," "),(aV(Fe.prev,Me)||_e(Fe,!0))&&(lt=lt.replace(te,"")),lt.length===0?Fe.remove():Fe.value=lt}},Fe=>{var Xe;if(Fe.type===1){const lt=n.getElementRule(Fe.name);if(l&&lt){const Ot=XE(n,h,v,Fe);lt.paddInEmptyBlock&&Ot&&Re(Fe)?NC(r,Me,Fe):lt.removeEmpty&&Ot?Me(Fe)?Fe.remove():Fe.unwrap():lt.paddEmpty&&(Ot||mI(Fe))&&NC(r,Me,Fe)}}else if(Fe.type===3&&!ce(Fe)){let lt=(Xe=Fe.value)!==null&&Xe!==void 0?Xe:"";(Fe.next&&Me(Fe.next)||_e(Fe,!1))&&(lt=lt.replace(Q,"")),lt.length===0?Fe.remove():Fe.value=lt}}]},s4=(e,n)=>{var o;const r=(o=n.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return r===!1?"":r===!0?"p":r},s0=(e={},n=Uo())=>{const o=WC(),r=WC(),l={validate:!0,root_name:"body",sanitize:!0,...e},h=new DOMParser,v=h8(l,n),A=(Xe,lt,Ot="html")=>{const cn=Ot==="xhtml"?"application/xhtml+xml":"text/html",Qt=jn(n.getSpecialElements(),lt.toLowerCase()),pt=Qt?`<${lt}>${Xe}</${lt}>`:Xe,mt=Ot==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${pt}</body></html>`:`<body>${pt}</body>`,En=h.parseFromString(mt,cn).body;return v(En,cn),Qt?En.firstChild:En},R=o.addFilter,H=o.getFilters,te=o.removeFilter,Q=r.addFilter,ce=r.getFilters,Re=r.removeFilter,Me=(Xe,lt)=>{VP(n,Xe)&&lt.push(Xe)},_e=(Xe,lt)=>{const Ot=ee(lt.attr(VA)),cn=lt.type===1&&!jn(Xe,lt.name)&&!Vh(n,lt);return lt.type===3||cn&&!Ot},Ie=(Xe,lt)=>{const Ot=n4(t4("script,style,head,html,body,title,meta,param"),n.getBlockElements()),cn=/^[ \t\r\n]+/,Qt=/[ \t\r\n]+$/;let pt=Xe.firstChild,mt=null;const En=Bn=>{var Xn,Ro;Bn&&(pt=Bn.firstChild,pt&&pt.type===3&&(pt.value=(Xn=pt.value)===null||Xn===void 0?void 0:Xn.replace(cn,"")),pt=Bn.lastChild,pt&&pt.type===3&&(pt.value=(Ro=pt.value)===null||Ro===void 0?void 0:Ro.replace(Qt,"")))};if(n.isValidChild(Xe.name,lt.toLowerCase())){for(;pt;){const Bn=pt.next;_e(Ot,pt)?(mt||(mt=new qd(lt,1),mt.attr(l.forced_root_block_attrs),Xe.insert(mt,pt)),mt.append(pt)):(En(mt),mt=null),pt=Bn}En(mt)}},Fe={schema:n,addAttributeFilter:Q,getAttributeFilters:ce,removeAttributeFilter:Re,addNodeFilter:R,getNodeFilters:H,removeNodeFilter:te,parse:(Xe,lt={})=>{var Ot;const cn=l.validate,Qt=(Ot=lt.context)!==null&&Ot!==void 0?Ot:l.root_name,pt=A(Xe,Qt,lt.format);vf(n,pt);const mt=new qd(Qt,11);KI(mt,pt,n.getSpecialElements()),pt.innerHTML="";const[En,Bn]=o4(mt,n,l,lt),Xn=[],Ro=cn?Ki=>Me(Ki,Xn):Mt,rs={nodes:{},attributes:{}},zs=Ki=>YE(H(),ce(),Ki,rs);if(XI(mt,[En,zs],[Bn,Ro]),Xn.reverse(),cn&&Xn.length>0)if(lt.context){const{pass:Ki,fail:fl}=va(Xn,Oc=>Oc.parent===mt);pI(fl,n,mt,zs),lt.invalid=Ki.length>0}else pI(Xn,n,mt,zs);const xr=s4(l,lt);return xr&&(mt.name==="body"||lt.isRootContent)&&Ie(mt,xr),lt.invalid||hI(rs,lt),mt}};return $L(Fe,l),YY(Fe,l,n),Fe},r4=e=>LC(e)?Kb({validate:!1}).serialize(e):e,QI=(e,n,o)=>{const r=r4(e),l=n(r);if(l.isDefaultPrevented())return l;if(LC(e))if(l.content!==r){const h=s0({validate:!1,forced_root_block:!1,sanitize:o}).parse(l.content,{context:e.name});return{...l,content:h}}else return{...l,content:e};else return l},JI=(e,n)=>{if(n.no_events)return Vs.value(n);{const o=nC(e,n);return o.isDefaultPrevented()?Vs.error(oC(e,{content:"",...o}).content):Vs.value(o)}},eD=(e,n,o)=>o.no_events?n:QI(n,l=>oC(e,{...o,content:l}),kb(e)).content,tD=(e,n)=>{if(n.no_events)return Vs.value(n);{const o=QI(n.content,r=>eC(e,{...n,content:r}),kb(e));return o.isDefaultPrevented()?(tC(e,o),Vs.error(void 0)):Vs.value(o)}},XC=(e,n,o)=>{o.no_events||tC(e,{...o,content:n})},nD=(e,n,o)=>({element:e,width:n,rows:o}),QC=(e,n)=>({element:e,cells:n}),m8=(e,n)=>({x:e,y:n}),i4=(e,n)=>pc(e,n).bind(Md).getOr(1),p8=(e,n,o,r,l)=>{const h=i4(l,"rowspan"),v=i4(l,"colspan"),A=e.rows;for(let R=o;R<o+h;R++){A[R]||(A[R]=QC(M0(r),[]));for(let H=n;H<n+v;H++){const te=A[R].cells;te[H]=R===o&&H===n?l:kp(l)}}},a4=(e,n,o)=>{const r=e.rows;return!!(r[o]?r[o].cells:[])[n]},c4=(e,n,o)=>{for(;a4(e,n,o);)n++;return n},l4=e=>Us(e,(n,o)=>o.cells.length>n?o.cells.length:n,0),u4=(e,n)=>{const o=e.rows;for(let r=0;r<o.length;r++){const l=o[r].cells;for(let h=0;h<l.length;h++)if(es(l[h],n))return X.some(m8(h,r))}return X.none()},d4=(e,n,o,r,l)=>{const h=[],v=e.rows;for(let A=o;A<=l;A++){const R=v[A].cells,H=n<r?R.slice(n,r+1):R.slice(r,n+1);h.push(QC(v[A].element,H))}return h},g8=(e,n,o)=>{const r=n.x,l=n.y,h=o.x,v=o.y,A=l<v?d4(e,r,l,h,v):d4(e,r,v,h,l);return nD(e.element,l4(A),A)},f4=(e,n)=>{const o=kp(e.element),r=Ne.fromTag("tbody");return lf(r,n),kr(o,r),o},XY=e=>en(e.rows,n=>{const o=en(n.cells,l=>{const h=M0(l);return Ir(h,"colspan"),Ir(h,"rowspan"),h}),r=kp(n.element);return lf(r,o),r}),v8=e=>{const n=nD(kp(e),0,[]);return Ge(yc(e,"tr"),(o,r)=>{Ge(yc(o,"td,th"),(l,h)=>{p8(n,c4(n,h,r),r,o,l)})}),nD(n.element,l4(n.rows),n.rows)},b8=e=>f4(e,XY(e)),y8=(e,n,o)=>u4(e,n).bind(r=>u4(e,o).map(l=>g8(e,r,l))),_8=e=>Is(e,n=>Ds(n)==="ul"||Ds(n)==="ol"),E8=(e,n)=>Is(e,o=>Ds(o)==="li"&&_y(o,n)).fold(rt([]),o=>_8(e).map(r=>{const l=Ne.fromTag(Ds(r)),h=Ws(Nl(r),(v,A)=>Li(A,"list-style"));return Ha(l,h),[Ne.fromTag("li"),l]}).getOr([])),w8=(e,n)=>{const o=Us(n,(r,l)=>(kr(l,r),l),e);return n.length>0?fC([o]):o},T8=e=>Ph(e)?ts(e).filter(tl).fold(rt([]),n=>[e,n]):tl(e)?[e]:[],h4=(e,n)=>{const o=Ne.fromDom(n.commonAncestorContainer),r=H1(o,e),l=Dn(r,Kv),h=E8(r,n),v=l.concat(h.length?h:T8(o));return en(v,kp)},m4=()=>fC([]),C8=(e,n)=>w8(Ne.fromDom(n.cloneContents()),h4(e,n)),S8=(e,n)=>Ja(n,"table",Ze(es,e)),x8=(e,n)=>S8(e,n[0]).bind(o=>{const r=n[0],l=n[n.length-1],h=v8(o);return y8(h,r,l).map(v=>fC([b8(v)]))}).getOrThunk(m4),A8=(e,n)=>n.length>0&&n[0].collapsed?m4():C8(e,n[0]),QY=(e,n)=>{const o=yy(n,e);return o.length>0?x8(e,o):A8(e,n)},oD=(e,n)=>n>=0&&n<e.length&&by(e.charAt(n)),p4=e=>yl(e.innerText),O8=e=>e.map(n=>n.nodeName).getOr("div").toLowerCase(),JY=e=>X.from(e.selection.getRng()).map(n=>{var o;const r=X.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),l=e.getBody(),h=O8(r),v=Ne.fromDom(n.cloneContents());Lk(v),$k(v);const A=e.dom.add(l,h,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},v.dom),R=p4(A),H=yl((o=A.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(A),oD(H,0)||oD(H,H.length-1)){const te=r.getOr(l),Q=p4(te),ce=Q.indexOf(R);if(ce===-1)return R;{const Re=oD(Q,ce-1),Me=oD(Q,ce+R.length);return(Re?" ":"")+R+(Me?" ":"")}}else return R}).getOr(""),R8=(e,n)=>{const o=e.selection.getRng(),r=e.dom.create("body"),l=e.selection.getSel(),h=VR(e,Zo(l)),v=n.contextual?QY(Ne.fromDom(e.getBody()),h).dom:o.cloneContents();return v&&r.appendChild(v),e.selection.serializer.serialize(r,n)},qi=(e,n)=>{if(n.format==="text")return JY(e);{const o=R8(e,n);return n.format==="tree"?o:e.selection.isCollapsed()?"":o}},sD=(e,n)=>({...e,format:n,get:!0,selection:!0,getInner:!0}),eK=(e,n,o={})=>{const r=sD(o,n);return JI(e,r).fold(Kt,l=>{const h=qi(e,l);return eD(e,h,l)})},rD=0,g4=1,Zy=2,tK=(e,n)=>{const o=e.length+n.length+2,r=new Array(o),l=new Array(o),h=(te,Q,ce)=>({start:te,end:Q,diag:ce}),v=(te,Q,ce,Re,Me)=>{const _e=R(te,Q,ce,Re);if(_e===null||_e.start===Q&&_e.diag===Q-Re||_e.end===te&&_e.diag===te-ce){let Ie=te,We=ce;for(;Ie<Q||We<Re;)Ie<Q&&We<Re&&e[Ie]===n[We]?(Me.push([rD,e[Ie]]),++Ie,++We):Q-te>Re-ce?(Me.push([Zy,e[Ie]]),++Ie):(Me.push([g4,n[We]]),++We)}else{v(te,_e.start,ce,_e.start-_e.diag,Me);for(let Ie=_e.start;Ie<_e.end;++Ie)Me.push([rD,e[Ie]]);v(_e.end,Q,_e.end-_e.diag,Re,Me)}},A=(te,Q,ce,Re)=>{let Me=te;for(;Me-Q<Re&&Me<ce&&e[Me]===n[Me-Q];)++Me;return h(te,Me,Q)},R=(te,Q,ce,Re)=>{const Me=Q-te,_e=Re-ce;if(Me===0||_e===0)return null;const Ie=Me-_e,We=_e+Me,Fe=(We%2===0?We:We+1)/2;r[1+Fe]=te,l[1+Fe]=Q+1;let Xe,lt,Ot,cn,Qt;for(Xe=0;Xe<=Fe;++Xe){for(lt=-Xe;lt<=Xe;lt+=2){for(Ot=lt+Fe,lt===-Xe||lt!==Xe&&r[Ot-1]<r[Ot+1]?r[Ot]=r[Ot+1]:r[Ot]=r[Ot-1]+1,cn=r[Ot],Qt=cn-te+ce-lt;cn<Q&&Qt<Re&&e[cn]===n[Qt];)r[Ot]=++cn,++Qt;if(Ie%2!==0&&Ie-Xe<=lt&&lt<=Ie+Xe&&l[Ot-Ie]<=r[Ot])return A(l[Ot-Ie],lt+te-ce,Q,Re)}for(lt=Ie-Xe;lt<=Ie+Xe;lt+=2){for(Ot=lt+Fe-Ie,lt===Ie-Xe||lt!==Ie+Xe&&l[Ot+1]<=l[Ot-1]?l[Ot]=l[Ot+1]-1:l[Ot]=l[Ot-1],cn=l[Ot]-1,Qt=cn-te+ce-lt;cn>=te&&Qt>=ce&&e[cn]===n[Qt];)l[Ot]=cn--,Qt--;if(Ie%2===0&&-Xe<=lt&&lt<=Xe&&l[Ot]<=r[Ot+Ie])return A(l[Ot],lt+te-ce,Q,Re)}}return null},H=[];return v(0,e.length,0,n.length,H),H},I8=e=>an(e)?e.outerHTML:Wt(e)?St.encodeRaw(e.data,!1):_c(e)?"<!--"+e.data+"-->":"",Wl=e=>{let n;const o=document.createElement("div"),r=document.createDocumentFragment();for(e&&(o.innerHTML=e);n=o.firstChild;)r.appendChild(n);return r},v4=(e,n,o)=>{const r=Wl(n);if(e.hasChildNodes()&&o<e.childNodes.length){const l=e.childNodes[o];e.insertBefore(r,l)}else e.appendChild(r)},b4=(e,n)=>{if(e.hasChildNodes()&&n<e.childNodes.length){const o=e.childNodes[n];e.removeChild(o)}},y4=(e,n)=>{let o=0;Ge(e,r=>{r[0]===rD?o++:r[0]===g4?(v4(n,r[1],o),o++):r[0]===Zy&&b4(n,o)})},D8=e=>Dn(en(Xs(e.childNodes),I8),n=>n.length>0),M8=(e,n)=>{const o=en(Xs(n.childNodes),I8);return y4(tK(o,e),n),n},zA=Xl(()=>document.implementation.createHTMLDocument("undo")),N8=e=>e.indexOf("</iframe>")!==-1,iD=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),k8=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),JC=e=>{const n=D8(e.getBody()),o=Ya(n,l=>{const h=Pk(e.serializer,l);return h.length>0?[h]:[]}),r=o.join("");return N8(r)?iD(o):k8(r)},UA=(e,n,o)=>{const r=o?n.beforeBookmark:n.bookmark;n.type==="fragmented"?M8(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:He(r)&&CT(r)?!r.isFakeCaret:!0}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},eS=e=>e.type==="fragmented"?e.fragments.join(""):e.content,aD=e=>{const n=Ne.fromTag("body",zA());return Nh(n,eS(e)),Ge(yc(n,"*[data-mce-bogus]"),vc),Mh(n)},cD=(e,n)=>eS(e)===eS(n),P8=(e,n)=>aD(e)===aD(n),lD=(e,n)=>!e||!n?!1:cD(e,n)?!0:P8(e,n),uD=e=>e.get()===0,Yd=(e,n,o)=>{uD(o)&&(e.typing=n)},_4=(e,n)=>{e.typing&&(Yd(e,!1,n),e.add())},L8=e=>{e.typing&&(e.typing=!1,e.add())},$8=(e,n,o)=>{uD(n)&&o.set(Ua(e.selection))},B8=(e,n,o,r,l,h,v)=>{const A=JC(e),R=Ce.extend(h||{},A);if(!uD(r)||e.removed)return null;const H=n.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:R,lastLevel:H,originalEvent:v}).isDefaultPrevented()||H&&lD(H,R))return null;n.data[o.get()]&&l.get().each(ce=>{n.data[o.get()].beforeBookmark=ce});const te=iT(e);if(te&&n.data.length>te){for(let ce=0;ce<n.data.length-1;ce++)n.data[ce]=n.data[ce+1];n.data.length--,o.set(n.data.length)}R.bookmark=Ua(e.selection),o.get()<n.data.length-1&&(n.data.length=o.get()+1),n.data.push(R),o.set(n.data.length-1);const Q={level:R,lastLevel:H,originalEvent:v};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",Q),e.dispatch("change",Q)):e.dispatch("AddUndo",Q),R},F8=(e,n,o)=>{n.data=[],o.set(0),n.typing=!1,e.dispatch("ClearUndos")},E4=(e,n,o,r,l)=>{if(n.transact(r)){const h=n.data[o.get()].bookmark,v=n.data[o.get()-1];UA(e,v,!0),n.transact(l)&&(n.data[o.get()-1].beforeBookmark=h)}},H8=(e,n,o)=>{let r;return n.get()<o.length-1&&(n.set(n.get()+1),r=o[n.get()],UA(e,r,!1),e.setDirty(!0),e.dispatch("Redo",{level:r})),r},V8=(e,n,o,r)=>{let l;return n.typing&&(n.add(),n.typing=!1,Yd(n,!1,o)),r.get()>0&&(r.set(r.get()-1),l=n.data[r.get()],UA(e,l,!0),e.setDirty(!0),e.dispatch("Undo",{level:l})),l},z8=e=>{e.clear(),e.add()},WA=(e,n,o)=>o.get()>0||n.typing&&n.data[0]&&!lD(JC(e),n.data[0]),U8=(e,n)=>n.get()<e.data.length-1&&!e.typing,W8=(e,n,o)=>(_4(e,n),e.beforeChange(),e.ignore(o),e.add()),w4=(e,n)=>{try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},dD=(e,n)=>{const o=e.dom,r=He(n)?n:e.getBody();Ge(o.select("table,a",r),l=>{switch(l.nodeName){case"TABLE":const h=lT(e),v=o.getAttrib(l,"border");(!v||v==="0")&&e.hasVisual?o.addClass(l,h):o.removeClass(l,h);break;case"A":if(!o.getAttrib(l,"href")){const A=o.getAttrib(l,"name")||l.id,R=Q0(e);A&&e.hasVisual?o.addClass(l,R):o.removeClass(l,R)}break}}),e.dispatch("VisualAid",{element:n,hasVisual:e.hasVisual})},T4=e=>({init:{bindEvents:Mt},undoManager:{beforeChange:(n,o)=>$8(e,n,o),add:(n,o,r,l,h,v)=>B8(e,n,o,r,l,h,v),undo:(n,o,r)=>V8(e,n,o,r),redo:(n,o)=>H8(e,n,o),clear:(n,o)=>F8(e,n,o),reset:n=>z8(n),hasUndo:(n,o)=>WA(e,n,o),hasRedo:(n,o)=>U8(n,o),transact:(n,o,r)=>W8(n,o,r),ignore:(n,o)=>w4(n,o),extra:(n,o,r,l)=>E4(e,n,o,r,l)},formatter:{match:(n,o,r,l)=>lg(e,n,o,r,l),matchAll:(n,o)=>CV(e,n,o),matchNode:(n,o,r,l)=>Jh(e,n,o,r,l),canApply:n=>Oa(e,n),closest:n=>SI(e,n),apply:(n,o,r)=>FI(e,n,o,r),remove:(n,o,r,l)=>CL(e,n,o,r,l),toggle:(n,o,r)=>IL(e,n,o,r),formatChanged:(n,o,r,l,h)=>GV(e,n,o,r,l,h)},editor:{getContent:n=>R6(e,n),setContent:(n,o)=>yA(e,n,o),insertContent:(n,o)=>vA(e,n,o),addVisual:n=>dD(e,n)},selection:{getContent:(n,o)=>eK(e,n,o)},autocompleter:{addDecoration:n=>b6(e,n),removeDecoration:()=>_6(e,Ne.fromDom(e.getBody()))},raw:{getModel:()=>X.none()}}),G8=e=>{const n=H=>ke(H)?H:{},{init:o,undoManager:r,formatter:l,editor:h,selection:v,autocompleter:A,raw:R}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:(H,te,Q)=>r.transact(Q),ignore:(H,te)=>r.ignore(te),extra:(H,te,Q,ce)=>r.extra(Q,ce)},formatter:{match:(H,te,Q,ce)=>l.match(H,n(te),ce),matchAll:l.matchAll,matchNode:l.matchNode,canApply:H=>l.canApply(H),closest:H=>l.closest(H),apply:(H,te,Q)=>l.apply(H,n(te)),remove:(H,te,Q,ce)=>l.remove(H,n(te)),toggle:(H,te,Q)=>l.toggle(H,n(te)),formatChanged:(H,te,Q,ce,Re)=>l.formatChanged(te,Q,ce,Re)},editor:{getContent:H=>h.getContent(H),setContent:(H,te)=>({content:h.setContent(H,te),html:""}),insertContent:(H,te)=>(h.insertContent(H),""),addVisual:h.addVisual},selection:{getContent:(H,te)=>v.getContent(te)},autocompleter:{addDecoration:A.addDecoration,removeDecoration:A.removeDecoration},raw:{getModel:()=>X.some(R.getRawModel())}}},nK=()=>{const e=rt(null),n=rt("");return{init:{bindEvents:Mt},undoManager:{beforeChange:Mt,add:e,undo:e,redo:e,clear:Mt,reset:Mt,hasUndo:nt,hasRedo:nt,transact:e,ignore:Mt,extra:Mt},formatter:{match:nt,matchAll:rt([]),matchNode:rt(void 0),canApply:nt,closest:n,apply:Mt,remove:Mt,toggle:Mt,formatChanged:rt({unbind:Mt})},editor:{getContent:n,setContent:rt({content:"",html:""}),insertContent:rt(""),addVisual:Mt},selection:{getContent:n},autocompleter:{addDecoration:Mt,removeDecoration:Mt},raw:{getModel:rt(X.none())}}},vv=e=>jn(e.plugins,"rtc"),j8=e=>gr(e.plugins,"rtc").bind(n=>X.from(n.setup)),q8=e=>{const n=e;return j8(e).fold(()=>(n.rtcInstance=T4(e),X.none()),o=>(n.rtcInstance=nK(),X.some(()=>o().then(r=>(n.rtcInstance=G8(r),r.rtc.isRemote)))))},fD=e=>e.rtcInstance?e.rtcInstance:T4(e),Zi=e=>{const n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},GA=(e,n,o)=>{Zi(e).undoManager.beforeChange(n,o)},tS=(e,n,o,r,l,h,v)=>Zi(e).undoManager.add(n,o,r,l,h,v),C4=(e,n,o,r)=>Zi(e).undoManager.undo(n,o,r),S4=(e,n,o)=>Zi(e).undoManager.redo(n,o),Z8=(e,n,o)=>{Zi(e).undoManager.clear(n,o)},x4=(e,n)=>{Zi(e).undoManager.reset(n)},Y8=(e,n,o)=>Zi(e).undoManager.hasUndo(n,o),K8=(e,n,o)=>Zi(e).undoManager.hasRedo(n,o),X8=(e,n,o,r)=>Zi(e).undoManager.transact(n,o,r),Q8=(e,n,o)=>{Zi(e).undoManager.ignore(n,o)},A4=(e,n,o,r,l)=>{Zi(e).undoManager.extra(n,o,r,l)},J8=(e,n,o,r,l)=>Zi(e).formatter.match(n,o,r,l),e7=(e,n,o)=>Zi(e).formatter.matchAll(n,o),nS=(e,n,o,r,l)=>Zi(e).formatter.matchNode(n,o,r,l),O4=(e,n)=>Zi(e).formatter.canApply(n),R4=(e,n)=>Zi(e).formatter.closest(n),t7=(e,n,o,r)=>{Zi(e).formatter.apply(n,o,r)},n7=(e,n,o,r,l)=>{Zi(e).formatter.remove(n,o,r,l)},o7=(e,n,o,r)=>{Zi(e).formatter.toggle(n,o,r)},I4=(e,n,o,r,l,h)=>Zi(e).formatter.formatChanged(n,o,r,l,h),s7=(e,n)=>fD(e).editor.getContent(n),r7=(e,n,o)=>fD(e).editor.setContent(n,o),i7=(e,n,o)=>fD(e).editor.insertContent(n,o),a7=(e,n,o)=>Zi(e).selection.getContent(n,o),oK=(e,n)=>Zi(e).editor.addVisual(n),ep=e=>Zi(e).init.bindEvents(),hD=(e,n)=>Zi(e).autocompleter.addDecoration(n),c7=e=>Zi(e).autocompleter.removeDecoration(),l7=(e,n={})=>{const o=n.format?n.format:"html";return a7(e,o,n)},D4=e=>e.dom.length===0?(Pr(e),X.none()):X.some(e),u7=(e,n)=>e.filter(o=>Cd.isBookmarkNode(o.dom)).bind(n?Qa:Jc),Ms=(e,n,o,r)=>{const l=e.dom,h=n.dom,v=r?l.length:h.length;r?(nI(l,h,!1,!r),o.setStart(h,v)):(nI(h,l,!1,!r),o.setEnd(h,v))},sK=(e,n)=>{ts(e).each(o=>{const r=e.dom;n&&GE(o,Qe(r,0))?oA(r,0):!n&&TC(o,Qe(r,r.length))&&tI(r,r.length)})},M4=(e,n,o,r)=>{e.bind(l=>((r?tI:oA)(l.dom,r?l.dom.length:0),n.filter(Rr).map(v=>Ms(l,v,o,r)))).orThunk(()=>u7(n,r).or(n).filter(Rr).map(h=>sK(h,r)))},d7=(e,n)=>{const o=X.from(n.firstChild).map(Ne.fromDom),r=X.from(n.lastChild).map(Ne.fromDom);e.deleteContents(),e.insertNode(n);const l=o.bind(Jc).filter(Rr).bind(D4),h=r.bind(Qa).filter(Rr).bind(D4);M4(l,o,e,!0),M4(h,r,e,!1),e.collapse(!1)},Ni=(e,n)=>({format:"html",...e,set:!0,selection:!0,content:n}),f7=(e,n)=>{if(n.format!=="raw"){const o=e.selection.getRng(),r=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),l=r?{context:r.nodeName.toLowerCase()}:{},h=e.parser.parse(n.content,{forced_root_block:!1,...l,...n});return Kb({validate:!1},e.schema).serialize(h)}else return n.content},oS=(e,n,o={})=>{const r=Ni(o,n);tD(e,r).each(l=>{const h=f7(e,l),v=e.selection.getRng();d7(v,v.createContextualFragment(h)),e.selection.setRng(v),Sn(e,v),XC(e,h,l)})},N4=(e,n,o)=>{if(jn(e,n)){const r=Dn(e[n],l=>l!==o);r.length===0?delete e[n]:e[n]=r}};var h7=(e,n)=>{let o,r;const l=(A,R)=>Is(R,H=>e.is(H,A)),h=A=>e.getParents(A,void 0,e.getRoot()),v=()=>{o={},r={},n.on("NodeChange",A=>{const R=A.element,H=h(R),te={};dn(o,(Q,ce)=>{l(ce,H).each(Re=>{r[ce]||(Ge(Q,Me=>{Me(!0,{node:Re,selector:ce,parents:H})}),r[ce]=Q),te[ce]=Q})}),dn(r,(Q,ce)=>{te[ce]||(delete r[ce],Ge(Q,Re=>{Re(!1,{node:R,selector:ce,parents:H})}))})})};return{selectorChangedWithUnbind:(A,R)=>(o||v(),o[A]||(o[A]=[]),o[A].push(R),l(A,h(n.selection.getStart())).each(()=>{r[A]=o[A]}),{unbind:()=>{N4(o,A,R),N4(r,A,R)}})}};const k4=e=>!!(e&&e.ownerDocument)&&at(Ne.fromDom(e.ownerDocument),Ne.fromDom(e)),P4=e=>e?k4(e.startContainer)&&k4(e.endContainer):!1,G1=(e,n,o,r)=>{let l,h;const{selectorChangedWithUnbind:v}=h7(e,r),A=(Yt,kn)=>{const Es=e.createRng();He(Yt)&&He(kn)?(Es.setStart(Yt,kn),Es.setEnd(Yt,kn),lt(Es),We(!1)):(SE(e,Es,r.getBody(),!0),lt(Es))},R=Yt=>l7(r,Yt),H=(Yt,kn)=>oS(r,Yt,kn),te=Yt=>Ak(r.getBody(),Xe(),Yt),Q=Yt=>Ok(r.getBody(),Xe(),Yt),ce=(Yt,kn)=>fl.getBookmark(Yt,kn),Re=Yt=>fl.moveToBookmark(Yt),Me=(Yt,kn)=>(f6(e,Yt,kn).each(lt),Yt),_e=()=>{const Yt=Xe(),kn=Fe();return!Yt||Yt.item?!1:Yt.compareEndPoints?Yt.compareEndPoints("StartToEnd",Yt)===0:!kn||Yt.collapsed},Ie=()=>{const Yt=Xe(),kn=r.getBody().querySelectorAll('[data-mce-selected="1"]');return kn.length>0?Or(kn,Es=>e.isEditable(Es.parentElement)):Yt.startContainer===Yt.endContainer?e.isEditable(Yt.startContainer):e.isEditable(Yt.startContainer)&&e.isEditable(Yt.endContainer)},We=Yt=>{const kn=Xe();kn.collapse(!!Yt),lt(kn)},Fe=()=>n.getSelection?n.getSelection():n.document.selection,Xe=()=>{let Yt;const kn=(mn,Gn,Kn)=>{try{return Gn.compareBoundaryPoints(mn,Kn)}catch{return-1}},Es=n.document;if(He(r.bookmark)&&!Yb(r)){const mn=mv(r);if(mn.isSome())return mn.map(Gn=>VR(r,[Gn])[0]).getOr(Es.createRange())}try{const mn=Fe();mn&&!$n(mn.anchorNode)&&(mn.rangeCount>0?Yt=mn.getRangeAt(0):Yt=Es.createRange(),Yt=VR(r,[Yt])[0])}catch{}if(Yt||(Yt=Es.createRange()),uf(Yt.startContainer)&&Yt.collapsed){const mn=e.getRoot();Yt.setStart(mn,0),Yt.setEnd(mn,0)}return l&&h&&(kn(Yt.START_TO_START,Yt,l)===0&&kn(Yt.END_TO_END,Yt,l)===0?Yt=h:(l=null,h=null)),Yt},lt=(Yt,kn)=>{if(!P4(Yt))return;const Es=Fe();if(Yt=r.dispatch("SetSelectionRange",{range:Yt,forward:kn}).range,Es){h=Yt;try{Es.removeAllRanges(),Es.addRange(Yt)}catch{}kn===!1&&Es.extend&&(Es.collapse(Yt.endContainer,Yt.endOffset),Es.extend(Yt.startContainer,Yt.startOffset)),l=Es.rangeCount>0?Es.getRangeAt(0):null}if(!Yt.collapsed&&Yt.startContainer===Yt.endContainer&&(Es!=null&&Es.setBaseAndExtent)&&Yt.endOffset-Yt.startOffset<2&&Yt.startContainer.hasChildNodes()){const Gn=Yt.startContainer.childNodes[Yt.startOffset];Gn&&Gn.nodeName==="IMG"&&(Es.setBaseAndExtent(Yt.startContainer,Yt.startOffset,Yt.endContainer,Yt.endOffset),(Es.anchorNode!==Yt.startContainer||Es.focusNode!==Yt.endContainer)&&Es.setBaseAndExtent(Gn,0,Gn,1))}r.dispatch("AfterSetSelectionRange",{range:Yt,forward:kn})},Ot=Yt=>(H(e.getOuterHTML(Yt)),Yt),cn=()=>u6(r.getBody(),Xe()),Qt=(Yt,kn)=>d6(e,Xe(),Yt,kn),pt=()=>{const Yt=Fe(),kn=Yt==null?void 0:Yt.anchorNode,Es=Yt==null?void 0:Yt.focusNode;if(!Yt||!kn||!Es||$n(kn)||$n(Es))return!0;const mn=e.createRng(),Gn=e.createRng();try{mn.setStart(kn,Yt.anchorOffset),mn.collapse(!0),Gn.setStart(Es,Yt.focusOffset),Gn.collapse(!0)}catch{return!0}return mn.compareBoundaryPoints(mn.START_TO_START,Gn)<=0},Ki={dom:e,win:n,serializer:o,editor:r,expand:(Yt={type:"word"})=>lt(Gb(e).expand(Xe(),Yt)),collapse:We,setCursorLocation:A,getContent:R,setContent:H,getBookmark:ce,moveToBookmark:Re,select:Me,isCollapsed:_e,isEditable:Ie,isForward:pt,setNode:Ot,getNode:cn,getSel:Fe,setRng:lt,getRng:Xe,getStart:te,getEnd:Q,getSelectedBlocks:Qt,normalize:()=>{const Yt=Xe(),kn=Fe();if(!Fb(kn)&&PT(r)){const Es=rg(e,Yt);return Es.each(mn=>{lt(mn,pt())}),Es.getOr(Yt)}return Yt},selectorChanged:(Yt,kn)=>(v(Yt,kn),Ki),selectorChangedWithUnbind:v,getScrollContainer:()=>{let Yt,kn=e.getRoot();for(;kn&&kn.nodeName!=="BODY";){if(kn.scrollHeight>kn.clientHeight){Yt=kn;break}kn=kn.parentNode}return Yt},scrollIntoView:(Yt,kn)=>{He(Yt)?Ct(r,Yt,kn):Sn(r,Xe(),kn)},placeCaretAt:(Yt,kn)=>lt(hC(Yt,kn,r.getDoc())),getBoundingClientRect:()=>{const Yt=Xe();return Yt.collapsed?Qe.fromRangeStart(Yt).getClientRects()[0]:Yt.getBoundingClientRect()},destroy:()=>{n=l=h=null,Oc.destroy()}},fl=Cd(Ki),Oc=Bx(Ki,r);return Ki.bookmarkManager=fl,Ki.controlSelection=Oc,Ki},kf=(e,n,o)=>{e.addAttributeFilter("data-mce-tabindex",(r,l)=>{let h=r.length;for(;h--;){const v=r[h];v.attr("tabindex",v.attr("data-mce-tabindex")),v.attr(l,null)}}),e.addAttributeFilter("src,href,style",(r,l)=>{const h="data-mce-"+l,v=n.url_converter,A=n.url_converter_scope;let R=r.length;for(;R--;){const H=r[R];let te=H.attr(h);te!==void 0?(H.attr(l,te.length>0?te:null),H.attr(h,null)):(te=H.attr(l),l==="style"?te=o.serializeStyle(o.parseStyle(te),H.name):v&&(te=v.call(A,te,l,H.name)),H.attr(l,te.length>0?te:null))}}),e.addAttributeFilter("class",r=>{let l=r.length;for(;l--;){const h=r[l];let v=h.attr("class");v&&(v=v.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),h.attr("class",v.length>0?v:null))}}),e.addAttributeFilter("data-mce-type",(r,l,h)=>{let v=r.length;for(;v--;){const A=r[v];A.attr("data-mce-type")==="bookmark"&&!h.cleanup&&(X.from(A.firstChild).exists(H=>{var te;return!Ap((te=H.value)!==null&&te!==void 0?te:"")})?A.unwrap():A.remove())}}),e.addNodeFilter("noscript",r=>{var l;let h=r.length;for(;h--;){const v=r[h].firstChild;v&&(v.value=St.decode((l=v.value)!==null&&l!==void 0?l:""))}}),e.addNodeFilter("script,style",(r,l)=>{var h;const v=R=>R.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let A=r.length;for(;A--;){const R=r[A],H=R.firstChild,te=(h=H==null?void 0:H.value)!==null&&h!==void 0?h:"";if(l==="script"){const Q=R.attr("type");Q&&R.attr("type",Q==="mce-no/type"?null:Q.replace(/^mce\-/,"")),n.element_format==="xhtml"&&H&&te.length>0&&(H.value=`// <![CDATA[
`+v(te)+`
// ]]>`)}else n.element_format==="xhtml"&&H&&te.length>0&&(H.value=`<!--
`+v(te)+`
-->`)}}),e.addNodeFilter("#comment",r=>{let l=r.length;for(;l--;){const h=r[l],v=h.value;n.preserve_cdata&&(v==null?void 0:v.indexOf("[CDATA["))===0?(h.name="#cdata",h.type=4,h.value=o.decode(v.replace(/^\[CDATA\[|\]\]$/g,""))):(v==null?void 0:v.indexOf("mce:protected "))===0&&(h.name="#text",h.type=3,h.raw=!0,h.value=unescape(v).substr(14))}}),e.addNodeFilter("xml:namespace,input",(r,l)=>{let h=r.length;for(;h--;){const v=r[h];v.type===7?v.remove():v.type===1&&l==="input"&&!v.attr("type")&&v.attr("type","text")}}),e.addAttributeFilter("data-mce-type",r=>{Ge(r,l=>{l.attr("data-mce-type")==="format-caret"&&(l.isEmpty(e.schema.getNonEmptyElements())?l.remove():l.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(r,l)=>{let h=r.length;for(;h--;)r[h].attr(l,null)})},sS=e=>{const n=r=>(r==null?void 0:r.name)==="br",o=e.lastChild;if(n(o)){const r=o.prev;n(r)&&(o.remove(),r.remove())}},Yy=(e,n,o)=>{let r;const l=e.dom;let h=n.cloneNode(!0);const v=document.implementation;if(v.createHTMLDocument){const A=v.createHTMLDocument("");Ce.each(h.nodeName==="BODY"?h.childNodes:[h],R=>{A.body.appendChild(A.importNode(R,!0))}),h.nodeName!=="BODY"?h=A.body.firstChild:h=A.body,r=l.doc,l.doc=A}return GT(e,{...o,node:h}),r&&(l.doc=r),h},bv=(e,n)=>He(e)&&e.hasEventListeners("PreProcess")&&!n.no_events,rS=(e,n,o)=>bv(e,o)?Yy(e,n,o):n,mD=(e,n,o)=>{Ce.inArray(n,o)===-1&&(e.addAttributeFilter(o,(r,l)=>{let h=r.length;for(;h--;)r[h].attr(l,null)}),n.push(o))},pD=(e,n,o)=>!n.no_events&&e?jT(e,{...n,content:o}).content:o,L4=(e,n,o)=>{const r=yl(o.getInner?n.innerHTML:e.getOuterHTML(n));return o.selection||wa(Ne.fromDom(n))?r:Ce.trim(r)},$4=(e,n,o)=>{const r=o.selection?{forced_root_block:!1,...o}:o,l=e.parse(n,r);return sS(l),l},m7=(e,n,o)=>Kb(e,n).serialize(o),p7=(e,n,o,r,l)=>{const h=m7(n,o,r);return pD(e,l,h)},B4=(e,n)=>{const o=["data-mce-selected"],r=n&&n.dom?n.dom:qs.DOM,l=n&&n.schema?n.schema:Uo(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0;const h=s0(e,l);kf(h,e,r);const v=(A,R={})=>{const H={format:"html",...R},te=rS(n,A,H),Q=L4(r,te,H),ce=$4(h,Q,H);return H.format==="tree"?ce:p7(n,e,l,ce,H)};return{schema:l,addNodeFilter:h.addNodeFilter,addAttributeFilter:h.addAttributeFilter,serialize:v,addRules:l.addValidElements,setRules:l.setValidElements,addTempAttr:Ze(mD,h,o),getTempAttrs:rt(o),getNodeFilters:h.getNodeFilters,getAttributeFilters:h.getAttributeFilters,removeNodeFilter:h.removeNodeFilter,removeAttributeFilter:h.removeAttributeFilter}},gD=(e,n)=>{const o=B4(e,n);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},F4="html",H4=(e,n)=>({...e,format:n,get:!0,getInner:!0}),vD=(e,n={})=>{const o=n.format?n.format:F4,r=H4(n,o);return JI(e,r).fold(Kt,l=>{const h=s7(e,l);return eD(e,h,l)})},rK="html",g7=(e,n)=>({format:rK,...e,set:!0,content:n}),V4=(e,n,o={})=>{const r=g7(o,n);return tD(e,r).map(l=>{const h=r7(e,l.content,l);return XC(e,h.html,l),h.content}).getOr(n)},v7="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),b7="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),yv="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),y7=[{name:"template",replacedWith:"Advanced Template"}],_7=(e,n)=>{const o=Dn(n,r=>jn(e,r));return Ls(o)},E7=e=>{const n=_7(e,v7),o=e.forced_root_block;return(o===!1||o==="")&&n.push("forced_root_block (false only)"),Ls(n)},iS=e=>_7(e,b7),z4=(e,n)=>{const o=Ce.makeMap(e.plugins," "),l=Dn(n,h=>jn(o,h));return Ls(l)},U4=e=>z4(e,yv),W4=e=>z4(e,y7.map(n=>n.name)),G4=(e,n)=>{const o=E7(e),r=U4(n),l=r.length>0,h=o.length>0,v=n.theme==="mobile";if(l||h||v){const A=`
- `,R=v?`

Themes:${A}mobile`:"",H=l?`

Plugins:${A}${r.join(A)}`:"",te=h?`

Options:${A}${o.join(A)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+R+H+te)}},w7=e=>Is(y7,n=>n.name===e).fold(()=>e,n=>`${e}, replaced by ${n.replacedWith}`),T7=(e,n)=>{const o=iS(e),r=W4(n),l=r.length>0,h=o.length>0;if(l||h){const v=`
- `,A=l?`

Plugins:${v}${r.map(w7).join(v)}`:"",R=h?`

Options:${v}${o.join(v)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+A+R)}},r0=(e,n)=>{G4(e,n),T7(e,n)},jA=qs.DOM,C7=e=>{jA.setStyle(e.id,"display",e.orgDisplay)},qA=e=>X.from(e).each(n=>n.destroy()),S7=e=>{const n=e;n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null;const o=e.selection;if(o){const r=o.dom;n.selection=o.win=o.dom=r.doc=null}},x7=e=>{const n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,delete n._mceOldSubmit),jA.unbind(n,"submit reset",e.formEventDelegate))},A7=e=>{if(!e.removed){const{_selectionOverrides:n,editorUpload:o}=e,r=e.getBody(),l=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&He(l==null?void 0:l.nextSibling)&&jA.remove(l.nextSibling),qT(e),e.editorManager.remove(e),!e.inline&&r&&C7(e),yR(e),jA.remove(e.getContainer()),qA(n),qA(o),e.destroy()}},O7=(e,n)=>{const{selection:o,dom:r}=e;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),qA(o),qA(r)),x7(e),S7(e),e.destroyed=!0}},ZA=(()=>{const e={};return{add:(l,h)=>{e[l]=h},get:l=>e[l]?e[l]:{icons:{}},has:l=>jn(e,l)}})(),iw=ks.ModelManager,j4=(e,n)=>n.dom[e],R7=(e,n)=>parseInt(el(n,e),10),aS=Ze(j4,"clientWidth"),I7=Ze(j4,"clientHeight"),bD=Ze(R7,"margin-top"),D7=Ze(R7,"margin-left"),M7=e=>e.dom.getBoundingClientRect(),N7=(e,n,o)=>{const r=aS(e),l=I7(e);return n>=0&&o>=0&&n<=r&&o<=l},k7=(e,n,o,r)=>{const l=M7(n),h=e?l.left+n.dom.clientLeft+D7(n):0,v=e?l.top+n.dom.clientTop+bD(n):0,A=o-h,R=r-v;return{x:A,y:R}},Ky=(e,n,o)=>{const r=Ne.fromDom(e.getBody()),l=e.inline?r:Yn(r),h=k7(e.inline,l,n,o);return N7(l,h.x,h.y)},Xy=e=>X.from(e).map(Ne.fromDom),YA=e=>{const n=e.inline?e.getBody():e.getContentAreaContainer();return Xy(n).map(ur).getOr(!1)};var KA=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const i0=e=>{const n=[],o=()=>{const ce=e.theme;return ce&&ce.getNotificationManagerImpl?ce.getNotificationManagerImpl():KA()},r=()=>X.from(n[0]),l=(ce,Re)=>ce.type===Re.type&&ce.text===Re.text&&!ce.progressBar&&!ce.timeout&&!Re.progressBar&&!Re.timeout,h=()=>{Ge(n,ce=>{ce.reposition()})},v=ce=>{n.push(ce)},A=ce=>{zr(n,Re=>Re===ce).each(Re=>{n.splice(Re,1)})},R=(ce,Re=!0)=>e.removed||!YA(e)?{}:(Re&&e.dispatch("BeforeOpenNotification",{notification:ce}),Is(n,Me=>l(o().getArgs(Me),ce)).getOrThunk(()=>{e.editorManager.setActive(e);const Me=o().open(ce,()=>{A(Me),h(),r().fold(()=>e.focus(),_e=>oo(Ne.fromDom(_e.getEl())))});return v(Me),h(),e.dispatch("OpenNotification",{notification:{...Me}}),Me})),H=()=>{r().each(ce=>{o().close(ce),A(ce),h()})},te=rt(n);return(ce=>{ce.on("SkinLoaded",()=>{const Re=eE(ce);Re&&R({text:Re,type:"warning",timeout:0},!1),h()}),ce.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(h)}),ce.on("remove",()=>{Ge(n.slice(),Re=>{o().close(Re)})})})(e),{open:R,close:H,getNotifications:te}},tp=ks.PluginManager,_v=ks.ThemeManager;var XA=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const yD=e=>{let n=[];const o=()=>{const _e=e.theme;return _e&&_e.getWindowManagerImpl?_e.getWindowManagerImpl():XA()},r=(_e,Ie)=>(...We)=>Ie?Ie.apply(_e,We):void 0,l=_e=>{e.dispatch("OpenWindow",{dialog:_e})},h=_e=>{e.dispatch("CloseWindow",{dialog:_e})},v=_e=>{n.push(_e),l(_e)},A=_e=>{h(_e),n=Dn(n,Ie=>Ie!==_e),n.length===0&&e.focus()},R=()=>X.from(n[n.length-1]),H=_e=>{e.editorManager.setActive(e),Ad(e),e.ui.show();const Ie=_e();return v(Ie),Ie},te=(_e,Ie)=>H(()=>o().open(_e,Ie,A)),Q=_e=>H(()=>o().openUrl(_e,A)),ce=(_e,Ie,We)=>{const Fe=o();Fe.alert(_e,r(We||Fe,Ie))},Re=(_e,Ie,We)=>{const Fe=o();Fe.confirm(_e,r(We||Fe,Ie))},Me=()=>{R().each(_e=>{o().close(_e),A(_e)})};return e.on("remove",()=>{Ge(n,_e=>{o().close(_e)})}),{open:te,openUrl:Q,alert:ce,confirm:Re,close:Me}},QA=(e,n)=>{e.notificationManager.open({type:"error",text:n})},aw=(e,n)=>{e._skinLoaded?QA(e,n):e.on("SkinLoaded",()=>{QA(e,n)})},q4=(e,n)=>{aw(e,wf.translate(["Failed to upload image: {0}",n]))},cw=(e,n,o)=>{XT(e,n,{message:o}),console.error(o)},Ev=(e,n,o)=>o?`Failed to load ${e}: ${o} from url ${n}`:`Failed to load ${e} url: ${n}`,Z4=(e,n,o)=>{cw(e,"PluginLoadError",Ev("plugin",n,o))},Y4=(e,n,o)=>{cw(e,"IconsLoadError",Ev("icons",n,o))},K4=(e,n,o)=>{cw(e,"LanguageLoadError",Ev("language",n,o))},JA=(e,n,o)=>{cw(e,"ThemeLoadError",Ev("theme",n,o))},X4=(e,n,o)=>{cw(e,"ModelLoadError",Ev("model",n,o))},Q4=(e,n,o)=>{const r=wf.translate(["Failed to initialize plugin: {0}",n]);XT(e,"PluginLoadError",{message:r}),cS(r,o),aw(e,r)},cS=(e,...n)=>{const o=window.console;o&&(o.error?o.error(e,...n):o.log(e,...n))},J4=e=>/^[a-z0-9\-]+$/i.test(e),j1=e=>em(e,Rb(e)),a0=e=>em(e,tv(e)),em=(e,n)=>{const o=e.editorManager.baseURL+"/skins/content",l=`content${e.editorManager.suffix}.css`;return en(n,h=>J4(h)&&!e.inline?`${o}/${h}/${l}`:e.documentBaseURI.toAbsolute(h))},P7=e=>{e.contentCSS=e.contentCSS.concat(j1(e),a0(e))},L7=e=>e?Xs(e.getElementsByTagName("img")):[],$7=(e,n)=>{const o={};return{findAll:(l,h=Lt)=>{const v=Dn(L7(l),R=>{const H=R.src;return R.hasAttribute("data-mce-bogus")||R.hasAttribute("data-mce-placeholder")||!H||H===cs.transparentSrc?!1:Li(H,"blob:")?!e.isUploaded(H)&&h(R):Li(H,"data:")?h(R):!1}),A=en(v,R=>{const H=R.src;if(jn(o,H))return o[H].then(te=>ee(te)?te:{image:R,blobInfo:te.blobInfo});{const te=PL(n,H).then(Q=>(delete o[H],{image:R,blobInfo:Q})).catch(Q=>(delete o[H],Q));return o[H]=te,te}});return Promise.all(A)}}},e3=()=>{let o={};const r=(ce,Re)=>({status:ce,resultUri:Re}),l=ce=>ce in o;return{hasBlobUri:l,getResultUri:ce=>{const Re=o[ce];return Re?Re.resultUri:null},isPending:ce=>l(ce)?o[ce].status===1:!1,isUploaded:ce=>l(ce)?o[ce].status===2:!1,markPending:ce=>{o[ce]=r(1,null)},markUploaded:(ce,Re)=>{o[ce]=r(2,Re)},removeFailed:ce=>{delete o[ce]},destroy:()=>{o={}}}};let B7=0;const F7=()=>{const e=()=>Math.round(Math.random()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},H7=e=>e+B7+++F7(),V7=()=>{let e=[];const n=Q=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[Q.toLowerCase()]||"dat",o=(Q,ce,Re,Me,_e)=>{if(ee(Q))return r({id:Q,name:Me,filename:_e,blob:ce,base64:Re});if(ke(Q))return r(Q);throw new Error("Unknown input type")},r=Q=>{if(!Q.blob||!Q.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const ce=Q.id||H7("blobid"),Re=Q.name||ce,Me=Q.blob;return{id:rt(ce),name:rt(Re),filename:rt(Q.filename||Re+"."+n(Me.type)),blob:rt(Me),base64:rt(Q.base64),blobUri:rt(Q.blobUri||URL.createObjectURL(Me)),uri:rt(Q.uri)}},l=Q=>{v(Q.id())||e.push(Q)},h=Q=>Is(e,Q).getOrUndefined(),v=Q=>h(ce=>ce.id()===Q);return{create:o,add:l,get:v,getByUri:Q=>h(ce=>ce.blobUri()===Q),getByData:(Q,ce)=>h(Re=>Re.base64()===Q&&Re.blob().type===ce),findFirst:h,removeByUri:Q=>{e=Dn(e,ce=>ce.blobUri()===Q?(URL.revokeObjectURL(ce.blobUri()),!1):!0)},destroy:()=>{Ge(e,Q=>{URL.revokeObjectURL(Q.blobUri())}),e=[]}}},z7=(e,n)=>{const o={},r=(_e,Ie)=>_e?_e.replace(/\/$/,"")+"/"+Ie.replace(/^\//,""):Ie,l=(_e,Ie)=>new Promise((We,Fe)=>{const Xe=new XMLHttpRequest;Xe.open("POST",n.url),Xe.withCredentials=n.credentials,Xe.upload.onprogress=Ot=>{Ie(Ot.loaded/Ot.total*100)},Xe.onerror=()=>{Fe("Image upload failed due to a XHR Transport error. Code: "+Xe.status)},Xe.onload=()=>{if(Xe.status<200||Xe.status>=300){Fe("HTTP Error: "+Xe.status);return}const Ot=JSON.parse(Xe.responseText);if(!Ot||!ee(Ot.location)){Fe("Invalid JSON: "+Xe.responseText);return}We(r(n.basePath,Ot.location))};const lt=new FormData;lt.append("file",_e.blob(),_e.filename()),Xe.send(lt)}),h=Te(n.handler)?n.handler:l,v=()=>new Promise(_e=>{_e([])}),A=(_e,Ie)=>({url:Ie,blobInfo:_e,status:!0}),R=(_e,Ie)=>({url:"",blobInfo:_e,status:!1,error:Ie}),H=(_e,Ie)=>{Ce.each(o[_e],We=>{We(Ie)}),delete o[_e]},te=(_e,Ie,We)=>(e.markPending(_e.blobUri()),new Promise(Fe=>{let Xe,lt;try{const Ot=()=>{Xe&&(Xe.close(),lt=Mt)},cn=pt=>{Ot(),e.markUploaded(_e.blobUri(),pt),H(_e.blobUri(),A(_e,pt)),Fe(A(_e,pt))},Qt=pt=>{Ot(),e.removeFailed(_e.blobUri()),H(_e.blobUri(),R(_e,pt)),Fe(R(_e,pt))};lt=pt=>{pt<0||pt>100||X.from(Xe).orThunk(()=>X.from(We).map(lo)).each(mt=>{Xe=mt,mt.progressBar.value(pt)})},Ie(_e,lt).then(cn,pt=>{Qt(ee(pt)?{message:pt}:pt)})}catch(Ot){Fe(R(_e,Ot))}})),Q=_e=>_e===l,ce=_e=>{const Ie=_e.blobUri();return new Promise(We=>{o[Ie]=o[Ie]||[],o[Ie].push(We)})},Re=(_e,Ie)=>(_e=Ce.grep(_e,We=>!e.isUploaded(We.blobUri())),Promise.all(Ce.map(_e,We=>e.isPending(We.blobUri())?ce(We):te(We,h,Ie))));return{upload:(_e,Ie)=>!n.url&&Q(h)?v():Re(_e,Ie)}},t3=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),n3=(e,n)=>z7(n,{url:Hm(e),basePath:Y_(e),credentials:Ob(e),handler:Yh(e)}),U7=e=>{const n=e3(),o=n3(e,n);return{upload:(r,l=!0)=>o.upload(r,l?t3(e):void 0)}},_D=e=>{const n=V7();let o,r;const l=e3(),h=[],v=Xe=>lt=>e.selection?Xe(lt):[],A=Xe=>Xe+(Xe.indexOf("?")===-1?"?":"&")+new Date().getTime(),R=(Xe,lt,Ot)=>{let cn=0;do cn=Xe.indexOf(lt,cn),cn!==-1&&(Xe=Xe.substring(0,cn)+Ot+Xe.substr(cn+lt.length),cn+=Ot.length-lt.length+1);while(cn!==-1);return Xe},H=(Xe,lt,Ot)=>{const cn=`src="${Ot}"${Ot===cs.transparentSrc?' data-mce-placeholder="1"':""}`;return Xe=R(Xe,`src="${lt}"`,cn),Xe=R(Xe,'data-mce-src="'+lt+'"','data-mce-src="'+Ot+'"'),Xe},te=(Xe,lt)=>{Ge(e.undoManager.data,Ot=>{Ot.type==="fragmented"?Ot.fragments=en(Ot.fragments,cn=>H(cn,Xe,lt)):Ot.content=H(Ot.content,Xe,lt)})},Q=(Xe,lt)=>{const Ot=e.convertURL(lt,"src");te(Xe.src,lt),ei(Ne.fromDom(Xe),{src:cl(e)?A(lt):lt,"data-mce-src":Ot})},ce=()=>(o||(o=n3(e,l)),Ie().then(v(Xe=>{const lt=en(Xe,Ot=>Ot.blobInfo);return o.upload(lt,t3(e)).then(v(Ot=>{const cn=[];let Qt=!1;const pt=en(Ot,(mt,En)=>{const{blobInfo:Bn,image:Xn}=Xe[En];let Ro=!1;return mt.status&&oT(e)?(mt.url&&!Ei(Xn.src,mt.url)&&(Qt=!0),n.removeByUri(Xn.src),vv(e)||Q(Xn,mt.url)):mt.error&&(mt.error.remove&&(te(Xn.src,cs.transparentSrc),cn.push(Xn),Ro=!0),q4(e,mt.error.message)),{element:Xn,status:mt.status,uploadUri:mt.url,blobInfo:Bn,removed:Ro}});return cn.length>0&&!vv(e)?e.undoManager.transact(()=>{Ge(cn,mt=>{e.dom.remove(mt),n.removeByUri(mt.src)})}):Qt&&e.undoManager.dispatchChange(),pt}))}))),Re=()=>Ul(e)?ce():Promise.resolve([]),Me=Xe=>Or(h,lt=>lt(Xe)),_e=Xe=>{h.push(Xe)},Ie=()=>(r||(r=$7(l,n)),r.findAll(e.getBody(),Me).then(v(Xe=>{const lt=Dn(Xe,Ot=>ee(Ot)?(aw(e,Ot),!1):!0);return vv(e)||Ge(lt,Ot=>{te(Ot.image.src,Ot.blobInfo.blobUri()),Ot.image.src=Ot.blobInfo.blobUri(),Ot.image.removeAttribute("data-mce-src")}),lt}))),We=()=>{n.destroy(),l.destroy(),r=o=null},Fe=Xe=>Xe.replace(/src="(blob:[^"]+)"/g,(lt,Ot)=>{const cn=l.getResultUri(Ot);if(cn)return'src="'+cn+'"';let Qt=n.getByUri(Ot);return Qt||(Qt=Us(e.editorManager.get(),(pt,mt)=>pt||mt.editorUpload&&mt.editorUpload.blobCache.getByUri(Ot),void 0)),Qt?'src="data:'+Qt.blob().type+";base64,"+Qt.base64()+'"':lt});return e.on("SetContent",()=>{Ul(e)?Re():Ie()}),e.on("RawSaveContent",Xe=>{Xe.content=Fe(Xe.content)}),e.on("GetContent",Xe=>{Xe.source_view||Xe.format==="raw"||Xe.format==="tree"||(Xe.content=Fe(Xe.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",Xe=>{Ge(Xe,lt=>{const Ot=lt.attr("src");if(!Ot||n.getByUri(Ot))return;const cn=l.getResultUri(Ot);cn&&lt.attr("src",cn)})})}),{blobCache:n,addFilter:_e,uploadImages:ce,uploadImagesAuto:Re,scanForImages:Ie,destroy:We}},ED=e=>{const n=e.dom,o=e.schema.type,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:l=>{n.setStyle(l,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:l=>{n.setStyle(l,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const l={inline:"span",styles:{textDecoration:"line-through"},exact:!0},h={inline:"strike",remove:"all",preserve_attributes:["class","style"]},v={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[v,l,h]:[l,v,h]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(l,h,v)=>an(l)&&l.hasAttribute("href"),onformat:(l,h,v)=>{Ce.each(v,(A,R)=>{n.setAttrib(l,R,A)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":l=>{var h;return(h=l==null?void 0:l.customValue)!==null&&h!==void 0?h:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Ce.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),l=>{r[l]={block:l,remove:"all"}}),r},wD={remove_similar:!0,inherit:!1},lw={selector:"td,th",...wD},W7={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...lw},tablecellverticalalign:{styles:{"vertical-align":"%value"},...lw},tablecellbordercolor:{styles:{borderColor:"%value"},...lw},tablecellclass:{classes:["%value"],...lw},tableclass:{selector:"table",classes:["%value"],...wD},tablecellborderstyle:{styles:{borderStyle:"%value"},...lw},tablecellborderwidth:{styles:{borderWidth:"%value"},...lw}},o3=rt(W7),s3=e=>{const n={},o=v=>He(v)?n[v]:n,r=v=>jn(n,v),l=(v,A)=>{v&&(ee(v)?(V(A)||(A=[A]),Ge(A,R=>{bt(R.deep)&&(R.deep=!ju(R)),bt(R.split)&&(R.split=!ju(R)||ja(R)),bt(R.remove)&&ju(R)&&!ja(R)&&(R.remove="none"),ju(R)&&ja(R)&&(R.mixed=!0,R.block_expand=!0),ee(R.classes)&&(R.classes=R.classes.split(/\s+/))}),n[v]=A):dn(v,(R,H)=>{l(H,R)}))},h=v=>(v&&n[v]&&delete n[v],n);return l(ED(e)),l(o3()),l(ll(e)),{get:o,has:r,register:l,unregister:h}},uw=Ce.each,wh=qs.DOM,e2=e=>He(e)&&ke(e),t2=(e,n)=>{const o=n&&n.schema||Uo({}),r=(R,H)=>{H.classes.length>0&&wh.addClass(R,H.classes.join(" ")),wh.setAttribs(R,H.attrs)},l=R=>{const H=ee(R)?{name:R,classes:[],attrs:{}}:R,te=wh.create(H.name);return r(te,H),te},h=(R,H)=>{const te=o.getElementRule(R.nodeName.toLowerCase()),Q=te==null?void 0:te.parentsRequired;return Q&&Q.length?H&&Fn(Q,H)?H:Q[0]:!1},v=(R,H,te)=>{let Q;const ce=H[0],Re=e2(ce)?ce.name:void 0,Me=h(R,Re);if(Me)Re===Me?(Q=ce,H=H.slice(1)):Q=Me;else if(ce)Q=ce,H=H.slice(1);else if(!te)return R;const _e=Q?l(Q):wh.create("div");_e.appendChild(R),te&&Ce.each(te,We=>{const Fe=l(We);_e.insertBefore(Fe,R)});const Ie=e2(Q)?Q.siblings:void 0;return v(_e,H,Ie)},A=wh.create("div");if(e.length>0){const R=e[0],H=l(R),te=e2(R)?R.siblings:void 0;A.appendChild(v(H,e.slice(1),te))}return A},G7=e=>{e=Ce.trim(e);let n="div";const o={name:n,classes:[],attrs:{},selector:e};return e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(r,l,h,v,A)=>{switch(l){case"#":o.attrs.id=h;break;case".":o.classes.push(h);break;case":":Ce.inArray("checked disabled enabled read-only required".split(" "),h)!==-1&&(o.attrs[h]=h);break}if(v==="["){const R=A.match(/([\w\-]+)(?:\=\"([^\"]+))?/);R&&(o.attrs[R[1]]=R[2])}return""})),o.name=n||"div",o},j7=e=>ee(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Ce.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),n=>{const o=Ce.map(n.split(/(?:~\+|~|\+)/),G7),r=o.pop();return o.length&&(r.siblings=o),r}).reverse()):[],wv=(e,n)=>{let o="",r=y1(e);if(r==="")return"";const l=ce=>ee(ce)?ce.replace(/%(\w+)/g,""):"",h=(ce,Re)=>wh.getStyle(Re??e.getBody(),ce,!0);if(ee(n)){const ce=e.formatter.get(n);if(!ce)return"";n=ce[0]}if("preview"in n){const ce=n.preview;if(ce===!1)return"";r=ce||r}let v=n.block||n.inline||"span",A;const R=j7(n.selector);R.length>0?(R[0].name||(R[0].name=v),v=n.selector,A=t2(R,e)):A=t2([v],e);const H=wh.select(v,A)[0]||A.firstChild;uw(n.styles,(ce,Re)=>{const Me=l(ce);Me&&wh.setStyle(H,Re,Me)}),uw(n.attributes,(ce,Re)=>{const Me=l(ce);Me&&wh.setAttrib(H,Re,Me)}),uw(n.classes,ce=>{const Re=l(ce);wh.hasClass(H,Re)||wh.addClass(H,Re)}),e.dispatch("PreviewFormats"),wh.setStyles(A,{position:"absolute",left:-65535}),e.getBody().appendChild(A);const te=h("fontSize"),Q=/px$/.test(te)?parseInt(te,10):0;return uw(r.split(" "),ce=>{let Re=h(ce,H);if(!(ce==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(Re)&&(Re=h(ce),Bb(Re).toLowerCase()==="#ffffff"))&&!(ce==="color"&&Bb(Re).toLowerCase()==="#000000")){if(ce==="font-size"&&/em|%$/.test(Re)){if(Q===0)return;Re=parseFloat(Re)/(/%$/.test(Re)?100:1)*Q+"px"}ce==="border"&&Re&&(o+="padding:0 2px;"),o+=ce+":"+Re+";"}}),e.dispatch("AfterPreviewFormats"),wh.remove(A),o},np=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},lS=e=>{const n=s3(e),o=Ri({});return np(e),AV(e),vv(e)||VV(o,e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:(r,l,h)=>{t7(e,r,l,h)},remove:(r,l,h,v)=>{n7(e,r,l,h,v)},toggle:(r,l,h)=>{o7(e,r,l,h)},match:(r,l,h,v)=>J8(e,r,l,h,v),closest:r=>R4(e,r),matchAll:(r,l)=>e7(e,r,l),matchNode:(r,l,h,v)=>nS(e,r,l,h,v),canApply:r=>O4(e,r),formatChanged:(r,l,h,v)=>I4(e,o,r,l,h,v),getCssText:Ze(wv,e)}},TD=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},n2=(e,n,o)=>{const r=Ri(!1),l=R=>{Yd(n,!1,o),n.add({},R)};e.on("init",()=>{n.add()}),e.on("BeforeExecCommand",R=>{const H=R.command;TD(H)||(_4(n,o),n.beforeChange())}),e.on("ExecCommand",R=>{const H=R.command;TD(H)||l(R)}),e.on("ObjectResizeStart cut",()=>{n.beforeChange()}),e.on("SaveContent ObjectResized blur",l),e.on("dragend",l),e.on("keyup",R=>{const H=R.keyCode;R.isDefaultPrevented()||((H>=33&&H<=36||H>=37&&H<=40||H===45||R.ctrlKey)&&(l(),e.nodeChanged()),(H===46||H===8)&&e.nodeChanged(),r.get()&&n.typing&&!lD(JC(e),n.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),r.set(!1),e.nodeChanged()))}),e.on("keydown",R=>{const H=R.keyCode;if(R.isDefaultPrevented())return;if(H>=33&&H<=36||H>=37&&H<=40||H===45){n.typing&&l(R);return}const te=R.ctrlKey&&!R.altKey||R.metaKey;(H<16||H>20)&&H!==224&&H!==91&&!n.typing&&!te&&(n.beforeChange(),Yd(n,!0,o),n.add({},R),r.set(!0))}),e.on("mousedown",R=>{n.typing&&l(R)});const h=R=>R.inputType==="insertReplacementText",v=R=>R.inputType==="insertText"&&R.data===null,A=R=>R.inputType==="insertFromPaste"||R.inputType==="insertFromDrop";e.on("input",R=>{R.inputType&&(h(R)||v(R)||A(R))&&l(R)}),e.on("AddUndo Undo Redo ClearUndos",R=>{R.isDefaultPrevented()||e.nodeChanged()})},r3=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},CD=e=>{const n=Sa(),o=Ri(0),r=Ri(0),l={data:[],typing:!1,beforeChange:()=>{GA(e,o,n)},add:(h,v)=>tS(e,l,r,o,n,h,v),dispatchChange:()=>{e.setDirty(!0);const h=JC(e);h.bookmark=Ua(e.selection),e.dispatch("change",{level:h,lastLevel:Zl(l.data,r.get()).getOrUndefined()})},undo:()=>C4(e,l,o,r),redo:()=>S4(e,r,l.data),clear:()=>{Z8(e,l,r)},reset:()=>{x4(e,l)},hasUndo:()=>Y8(e,l,r),hasRedo:()=>K8(e,l,r),transact:h=>X8(e,l,o,h),ignore:h=>{Q8(e,o,h)},extra:(h,v)=>{A4(e,l,r,h,v)}};return vv(e)||n2(e,l,o),r3(e),l},i3=[9,27,On.HOME,On.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,On.DOWN,On.UP,On.LEFT,On.RIGHT].concat(cs.browser.isFirefox()?[224]:[]),SD="data-mce-placeholder",xD=e=>e.type==="keydown"||e.type==="keyup",AD=e=>{const n=e.keyCode;return n===On.BACKSPACE||n===On.DELETE},o2=e=>{if(xD(e)){const n=e.keyCode;return!AD(e)&&(On.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||Fn(i3,n))}else return!1},OD=e=>xD(e)&&!(AD(e)||e.type==="keyup"&&e.keyCode===229),q7=(e,n,o)=>{if(Fs(Ne.fromDom(n),!1)){const r=n.firstElementChild;return r?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:o===r.nodeName.toLowerCase():!0}else return!1},Z7=e=>{var n;const o=e.dom,r=wd(e),l=(n=q0(e))!==null&&n!==void 0?n:"",h=(v,A)=>{if(o2(v))return;const R=e.getBody(),H=OD(v)?!1:q7(o,R,r);(o.getAttrib(R,SD)!==""!==H||A)&&(o.setAttrib(R,SD,H?l:null),o.setAttrib(R,"aria-placeholder",H?l:null),Ym(e,H),e.on(H?"keydown":"keyup",h),e.off(H?"keyup":"keydown",h))};$s(l)&&e.on("init",v=>{h(v,!0),e.on("change SetContent ExecCommand",h),e.on("paste",A=>Mf.setEditorTimeout(e,()=>h(A)))})},Y7=(e,n)=>({block:e,position:n}),K7=(e,n)=>({from:e,to:n}),s2=(e,n)=>{const o=Ne.fromDom(e),r=Ne.fromDom(n.container());return sA(o,r).map(l=>Y7(l,n))},X7=e=>!es(e.from.block,e.to.block),a3=(e,n)=>ns(n,l=>wc(l)||Do(l.dom),l=>es(l,e)).filter(ps).getOr(e),RD=(e,n)=>{const o=Ne.fromDom(e);return es(a3(o,n.from.block),a3(o,n.to.block))},Q7=e=>gs(e.from.block.dom)===!1&&gs(e.to.block.dom)===!1,J7=e=>{const n=o=>tt(o)||Bl(o.dom);return n(e.from.block)&&n(e.to.block)},ez=(e,n,o)=>Lr(o.position.getNode())&&!Fs(o.block)?_s(!1,o.block.dom).bind(r=>r.isEqual(o.position)?Bo(n,e,r).bind(l=>s2(e,l)):X.some(o)).getOr(o):o,tz=(e,n,o)=>{const r=s2(e,Qe.fromRangeStart(o)),l=r.bind(h=>Bo(n,e,h.position).bind(v=>s2(e,v).map(A=>ez(e,n,A))));return wt(r,l,K7).filter(h=>X7(h)&&RD(e,h)&&Q7(h)&&J7(h))},nz=(e,n,o)=>o.collapsed?tz(e,n,o):X.none(),oz=e=>{const n=qe(e);return zr(n,nc).fold(rt(n),o=>n.slice(0,o))},c3=e=>{const n=oz(e);return Ge(n,Pr),n},uS=(e,n)=>{const o=H1(n,e);return Is(o.reverse(),r=>Fs(r)).each(Pr)},ID=e=>Dn(Oe(e),n=>!Fs(n)).length===0,sz=(e,n,o,r)=>{if(Fs(o))return df(o),vi(o.dom);ID(r)&&Fs(n)&&bs(r,Ne.fromTag("br"));const l=Di(o.dom,Qe.before(r.dom));return Ge(c3(n),h=>{bs(r,h)}),uS(e,n),l},rz=(e,n,o)=>{if(Fs(o)){if(Fs(n)){const h=ri((v=>{const A=(R,H)=>ft(R).fold(()=>H,te=>oc(te)?A(te,H.concat(kp(te))):H);return A(v,[])})(o),(v,A)=>(Sp(v,A),A),Wn());dr(n),kr(n,h)}return Pr(o),vi(n.dom)}const r=hi(o.dom);return Ge(c3(n),l=>{kr(o,l)}),uS(e,n),r},iz=(e,n)=>{const o=H1(n,e);return X.from(o[o.length-1])},az=(e,n)=>at(n,e)?iz(n,e):X.none(),DD=(e,n)=>{_s(e,n.dom).bind(o=>X.from(o.getNode())).map(Ne.fromDom).filter(sh).each(Pr)},l3=(e,n,o)=>(DD(!0,n),DD(!1,o),az(n,o).fold(Ze(rz,e,n,o),Ze(sz,e,n,o))),u3=(e,n,o,r)=>n?l3(e,r,o):l3(e,o,r),dS=(e,n)=>{const o=Ne.fromDom(e.getBody());return nz(o.dom,n,e.selection.getRng()).map(l=>()=>{u3(o,n,l.from.block,l.to.block).each(h=>{e.selection.setRng(h.toRange())})})},cz=(e,n)=>{const o=n.getRng();return wt(sA(e,Ne.fromDom(o.startContainer)),sA(e,Ne.fromDom(o.endContainer)),(r,l)=>es(r,l)?X.none():X.some(()=>{o.deleteContents(),u3(e,!0,r,l).each(h=>{n.setRng(h.toRange())})})).getOr(X.none())},d3=(e,n)=>{const o=Ne.fromDom(n),r=Ze(es,e);return js(o,wc,r).isSome()},lz=(e,n)=>d3(e,n.startContainer)||d3(e,n.endContainer),uz=(e,n)=>{const o=Di(e.dom,Qe.fromRangeStart(n)).isNone(),r=Ii(e.dom,Qe.fromRangeEnd(n)).isNone();return!lz(e,n)&&o&&r},dz=e=>X.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),fz=e=>{const n=Ne.fromDom(e.getBody()),o=e.selection.getRng();return uz(n,o)?dz(e):cz(n,e.selection)},MD=(e,n)=>e.selection.isCollapsed()?X.none():fz(e),op=(e,n,o,r,l)=>X.from(n._selectionOverrides.showCaret(e,o,r,l)),r2=e=>{const n=e.ownerDocument.createRange();return n.selectNode(e),n},fS=(e,n)=>e.dispatch("BeforeObjectSelected",{target:n}).isDefaultPrevented()?X.none():X.some(r2(n)),hz=(e,n,o)=>{const r=Kp(1,e.getBody(),n),l=Qe.fromRangeStart(r),h=l.getNode();if(C1(h))return op(1,e,h,!l.isAtEnd(),!1);const v=l.getNode(!0);if(C1(v))return op(1,e,v,!1,!1);const A=pv(e.dom.getRoot(),l.getNode());return C1(A)?op(1,e,A,!1,o):X.none()},dw=(e,n,o)=>n.collapsed?hz(e,n,o).getOr(n):n,mz=e=>My(e)||EC(e),pz=e=>Xb(e)||vo(e),gz=(e,n)=>{Wt(n)&&n.data.length===0&&e.remove(n)},f3=(e,n,o,r,l,h)=>{op(r,e,h.getNode(!l),l,!0).each(v=>{if(n.collapsed){const A=n.cloneRange();l?A.setEnd(v.startContainer,v.startOffset):A.setStart(v.endContainer,v.endOffset),A.deleteContents()}else n.deleteContents();e.selection.setRng(v)}),gz(e.dom,o)},vz=(e,n)=>{const o=e.selection.getRng();if(!Wt(o.commonAncestorContainer))return X.none();const r=n?Ga.Forwards:Ga.Backwards,l=Ye(e.getBody()),h=Ze(hy,n?l.next:l.prev),v=n?mz:pz,A=rv(r,e.getBody(),o),R=h(A),H=R&&Yo(n,R);if(!H||!iv(A,H))return X.none();if(v(H))return X.some(()=>f3(e,o,A.getNode(),r,n,H));const te=h(H);return te&&v(te)&&iv(H,te)?X.some(()=>f3(e,o,A.getNode(),r,n,te)):X.none()},ND=(e,n)=>vz(e,n),kD=(e,n)=>{const o=e.getBody();return n?vi(o).filter(My):hi(o).filter(Xb)},PD=e=>{const n=e.selection.getRng();return!n.collapsed&&(kD(e,!0).exists(o=>o.isEqual(Qe.fromRangeStart(n)))||kD(e,!1).exists(o=>o.isEqual(Qe.fromRangeEnd(n))))},bz=e=>He(e)&&(wc(Ne.fromDom(e))||Ph(Ne.fromDom(e))),Th=Gd.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),yz=(e,n)=>{const o=n.getNode(!e),r=e?"after":"before";return an(o)&&o.getAttribute("data-mce-caret")===r},aK=(e,n,o,r)=>{const l=h=>oc(Ne.fromDom(h))&&!Gu(o,r,e);return _x(!n,o).fold(()=>_x(n,r).fold(nt,l),l)},tm=(e,n,o,r)=>{const l=r.getNode(!n);return sA(Ne.fromDom(e),Ne.fromDom(o.getNode())).map(h=>Fs(h)?Th.remove(h.dom):Th.moveToElement(l)).orThunk(()=>X.some(Th.moveToElement(l)))},i2=(e,n,o)=>Bo(n,e,o).bind(r=>bz(r.getNode())||aK(e,n,o,r)?X.none():n&&gs(r.getNode())||!n&&gs(r.getNode(!0))?tm(e,n,o,r):n&&Xb(o)||!n&&My(o)?X.some(Th.moveToPosition(r)):X.none()),h3=(e,n)=>It(n)?X.none():e&&gs(n.nextSibling)?X.some(Th.moveToElement(n.nextSibling)):!e&&gs(n.previousSibling)?X.some(Th.moveToElement(n.previousSibling)):X.none(),m3=(e,n,o)=>o.fold(r=>X.some(Th.remove(r)),r=>X.some(Th.moveToElement(r)),r=>Gu(n,r,e)?X.none():X.some(Th.moveToPosition(r))),_z=(e,n,o)=>yz(n,o)?h3(n,o.getNode(!n)).orThunk(()=>i2(e,n,o)):i2(e,n,o).bind(r=>m3(e,o,r)),p3=(e,n,o)=>{const r=Kp(n?1:-1,e,o),l=Qe.fromRangeStart(r),h=Ne.fromDom(e);return!n&&Xb(l)?X.some(Th.remove(l.getNode(!0))):n&&My(l)?X.some(Th.remove(l.getNode())):!n&&My(l)&&qk(h,l)?UY(h,l).map(v=>Th.remove(v.getNode())):n&&Xb(l)&&KR(h,l)?F6(h,l).map(v=>Th.remove(v.getNode())):_z(e,n,l)},Ez=(e,n)=>o=>(e._selectionOverrides.hideFakeCaret(),ky(e,n,Ne.fromDom(o)),!0),g3=(e,n)=>o=>{const r=n?Qe.before(o):Qe.after(o);return e.selection.setRng(r.toRange()),!0},wz=e=>n=>(e.selection.setRng(n.toRange()),!0),v3=(e,n)=>X.from(pv(e.getBody(),n)),Tz=(e,n)=>{const o=e.selection.getNode();return v3(e,o).filter(gs).fold(()=>p3(e.getBody(),n,e.selection.getRng()).map(r=>()=>r.fold(Ez(e,n),g3(e,n),wz(e))),()=>X.some(Mt))},fw=e=>{Ge(yc(e,".mce-offscreen-selection"),Pr)},b3=(e,n)=>{const o=e.selection.getNode();return gs(o)&&!Oi(o)?v3(e,o.parentNode).filter(gs).fold(()=>X.some(()=>{fw(Ne.fromDom(e.getBody())),ky(e,n,Ne.fromDom(e.selection.getNode())),SC(e)}),()=>X.some(Mt)):PD(e)?X.some(()=>{gP(e,e.selection.getRng(),Ne.fromDom(e.getBody()))}):X.none()},LD=e=>{const n=e.dom,o=e.selection,r=pv(e.getBody(),o.getNode());if(Do(r)&&n.isBlock(r)&&n.isEmpty(r)){const l=n.create("br",{"data-mce-bogus":"1"});n.setHTML(r,""),r.appendChild(l),o.setRng(Qe.before(l).toRange())}return!0},a2=(e,n)=>e.selection.isCollapsed()?Tz(e,n):b3(e,n),$D=(e,n)=>{const o=Qe.fromRangeStart(e.selection.getRng());return Bo(n,e.getBody(),o).filter(r=>n?k6(r):mo(r)).bind(r=>$b(n?0:-1,r)).map(r=>()=>e.selection.select(r))},BD=(e,n)=>e.selection.isCollapsed()?$D(e,n):X.none(),hw=Wt,y3=e=>hw(e)&&e.data[0]===sa,Cz=e=>hw(e)&&e.data[e.data.length-1]===sa,Sz=e=>{var n;return((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(sa)},cK=e=>{var n;if(hw(e.previousSibling))return Cz(e.previousSibling)||e.previousSibling.appendData(sa),e.previousSibling;if(hw(e))return y3(e)||e.insertData(0,sa),e;{const o=Sz(e);return(n=e.parentNode)===null||n===void 0||n.insertBefore(o,e),o}},sp=e=>{var n,o;if(hw(e.nextSibling))return y3(e.nextSibling)||e.nextSibling.insertData(0,sa),e.nextSibling;if(hw(e))return Cz(e)||e.appendData(sa),e;{const r=Sz(e);return e.nextSibling?(n=e.parentNode)===null||n===void 0||n.insertBefore(r,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(r),r}},c2=(e,n)=>e?cK(n):sp(n),xz=Ze(c2,!0),_3=Ze(c2,!1),l2=(e,n)=>Wt(e.container())?c2(n,e.container()):c2(n,e.getNode()),Az=(e,n)=>{const o=n.get();return o&&e.container()===o&&Tc(o)},E3=(e,n)=>n.fold(o=>{Gp(e.get());const r=xz(o);return e.set(r),X.some(Qe(r,r.length-1))},o=>vi(o).map(r=>{if(Az(r,e)){const l=e.get();return Qe(l,1)}else{Gp(e.get());const l=l2(r,!0);return e.set(l),Qe(l,1)}}),o=>hi(o).map(r=>{if(Az(r,e)){const l=e.get();return Qe(l,l.length-1)}else{Gp(e.get());const l=l2(r,!1);return e.set(l),Qe(l,l.length-1)}}),o=>{Gp(e.get());const r=_3(o);return e.set(r),X.some(Qe(r,1))}),Oz=(e,n)=>{for(let o=0;o<e.length;o++){const r=e[o].apply(null,n);if(r.isSome())return r}return X.none()},Yi=Gd.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),w3=(e,n)=>{const o=fa(n,e);return o||e},Rz=(e,n,o)=>{const r=_h(o),l=w3(n,r.container());return ag(e,l,r).fold(()=>Ii(l,r).bind(Ze(ag,e,l)).map(h=>Yi.before(h)),X.none)},Iz=(e,n)=>ph(e,n)===null,T3=(e,n,o)=>ag(e,n,o).filter(Ze(Iz,n)),Dz=(e,n,o)=>{const r=fP(o);return T3(e,n,r).bind(l=>Di(l,r).isNone()?X.some(Yi.start(l)):X.none())},Mz=(e,n,o)=>{const r=_h(o);return T3(e,n,r).bind(l=>Ii(l,r).isNone()?X.some(Yi.end(l)):X.none())},Qy=(e,n,o)=>{const r=fP(o),l=w3(n,r.container());return ag(e,l,r).fold(()=>Di(l,r).bind(Ze(ag,e,l)).map(h=>Yi.after(h)),X.none)},C3=e=>!oV(FD(e)),Tv=(e,n,o)=>Oz([Rz,Dz,Mz,Qy],[e,n,o]).filter(C3),FD=e=>e.fold(Kt,Kt,Kt,Kt),u2=e=>e.fold(rt("before"),rt("start"),rt("end"),rt("after")),mw=e=>e.fold(Yi.before,Yi.before,Yi.after,Yi.after),d2=e=>e.fold(Yi.start,Yi.start,Yi.end,Yi.end),S3=(e,n)=>u2(e)===u2(n)&&FD(e)===FD(n),x3=(e,n,o,r,l,h)=>wt(ag(n,o,r),ag(n,o,l),(v,A)=>v!==A&&WY(o,v,A)?Yi.after(e?v:A):h).getOr(h),Nz=(e,n)=>e.fold(Lt,o=>!S3(o,n)),hS=(e,n,o,r,l)=>{const h=Yo(e,l);return Bo(e,o,h).map(Ze(Yo,e)).fold(()=>r.map(mw),R=>Tv(n,o,R).map(Ze(x3,e,n,o,h,R)).filter(Ze(Nz,r))).filter(C3)},kz=(e,n)=>e?n.fold(F(X.some,Yi.start),X.none,F(X.some,Yi.after),X.none):n.fold(X.none,F(X.some,Yi.before),X.none,F(X.some,Yi.end)),Pz=(e,n,o,r)=>{const l=Yo(e,r),h=Tv(n,o,l);return Tv(n,o,l).bind(Ze(kz,e)).orThunk(()=>hS(e,n,o,h,r))},Lz=e=>Te(e.selection.getSel().modify),A3=(e,n,o)=>{const r=e?1:-1;return n.setRng(Qe(o.container(),o.offset()+r).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},$z=(e,n)=>{const o=n.selection.getRng(),r=e?Qe.fromRangeEnd(o):Qe.fromRangeStart(o);return Lz(n)?e&&ud(r)?A3(!0,n.selection,r):!e&&Op(r)?A3(!1,n.selection,r):!1:!1};var Cv;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Cv||(Cv={}));const f2=(e,n)=>e===Ga.Backwards?lr(n):n,O3=(e,n,o)=>e===Ga.Forwards?n.next(o):n.prev(o),Bz=(e,n,o,r)=>Lr(r.getNode(n===Ga.Forwards))?Cv.Br:Gu(o,r)===!1?Cv.Block:Cv.Wrap,c0=(e,n,o,r)=>{const l=Ye(o);let h=r;const v=[];for(;h;){const A=O3(n,l,h);if(!A)break;if(Lr(A.getNode(!1)))return n===Ga.Forwards?{positions:f2(n,v).concat([A]),breakType:Cv.Br,breakAt:X.some(A)}:{positions:f2(n,v),breakType:Cv.Br,breakAt:X.some(A)};if(!A.isVisible()){h=A;continue}if(e(h,A)){const R=Bz(o,n,h,A);return{positions:f2(n,v),breakType:R,breakAt:X.some(A)}}v.push(A),h=A}return{positions:f2(n,v),breakType:Cv.Eol,breakAt:X.none()}},HD=(e,n,o,r)=>n(o,r).breakAt.map(l=>{const h=n(o,l).positions;return e===Ga.Backwards?h.concat(l):[l].concat(h)}).getOr([]),mS=(e,n)=>Us(e,(o,r)=>o.fold(()=>X.some(r),l=>wt(ai(l.getClientRects()),ai(r.getClientRects()),(h,v)=>{const A=Math.abs(n-h.left);return Math.abs(n-v.left)<=A?r:l}).or(o)),X.none()),pS=(e,n)=>ai(n.getClientRects()).bind(o=>mS(e,o.left)),Jy=Ze(c0,Qe.isAbove,-1),rp=Ze(c0,Qe.isBelow,1),VD=Ze(HD,-1,Jy),Ch=Ze(HD,1,rp),e_=(e,n)=>Jy(e,n).breakAt.isNone(),zD=(e,n)=>rp(e,n).breakAt.isNone(),Fz=e=>vi(e).map(n=>[n].concat(rp(e,n).positions)).getOr([]),R3=e=>hi(e).map(n=>Jy(e,n).positions.concat(n)).getOr([]),Hz=(e,n)=>pS(VD(e,n),n),Vz=(e,n)=>pS(Ch(e,n),n),zz=gs,I3=(e,n)=>Math.abs(e.left-n),D3=(e,n)=>Math.abs(e.right-n),M3=e=>dc(e,"node"),N3=(e,n)=>Zc(e,(o,r)=>{const l=Math.min(I3(o,n),D3(o,n)),h=Math.min(I3(r,n),D3(r,n));return h===l&&M3(r)&&zz(r.node)||h<l?r:o}),Uz=e=>{const n=o=>en(o,r=>{const l=$m(r);return l.node=e,l});if(an(e))return n(e.getClientRects());if(Wt(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),n(o.getClientRects())}else return[]},t_=e=>Ya(e,Uz);var n_;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(n_||(n_={}));const k3=(e,n,o,r)=>{let l=r;for(;l=hh(l,e,zi,n);)if(o(l))return},UD=(e,n,o,r,l,h)=>{let v=0;const A=[],R=Q=>{let ce=t_([Q]);e===-1&&(ce=ce.reverse());for(let Re=0;Re<ce.length;Re++){const Me=ce[Re];if(!o(Me,H)){if(A.length>0&&n(Me,Al(A))&&v++,Me.line=v,l(Me))return!0;A.push(Me)}}return!1},H=Al(h.getClientRects());if(!H)return A;const te=h.getNode();return te&&(R(te),k3(e,r,R,te)),A},WD=(e,n)=>n.line>e,Wz=(e,n)=>n.line===e,Gz=Ze(UD,n_.Up,Vl,Pp),jz=Ze(UD,n_.Down,Pp,Vl),P3=e=>Al(e.getClientRects()),qz=(e,n,o,r)=>{const l=Ye(n);let h,v,A,R;const H=[];let te=0;e===1?(h=l.next,v=Pp,A=Vl,R=Qe.after(r)):(h=l.prev,v=Vl,A=Pp,R=Qe.before(r));const Q=P3(R);do{if(!R.isVisible())continue;const ce=P3(R);if(A(ce,Q))continue;H.length>0&&v(ce,Al(H))&&te++;const Re=$m(ce);if(Re.position=R,Re.line=te,o(Re))return H;H.push(Re)}while(R=h(R));return H},L3=e=>n=>WD(e,n),GD=e=>n=>Wz(e,n),Sv=(e,n)=>{e.selection.setRng(n),Sn(e,e.selection.getRng())},jD=(e,n,o)=>X.some(dw(e,n,o)),$3=(e,n,o,r,l,h)=>{const v=n===Ga.Forwards,A=Ye(e.getBody()),R=Ze(hy,v?A.next:A.prev),H=v?r:l;if(!o.collapsed){const Me=vu(o);if(h(Me))return op(n,e,Me,n===Ga.Backwards,!1);if(PD(e)){const _e=o.cloneRange();return _e.collapse(n===Ga.Backwards),X.from(_e)}}const te=rv(n,e.getBody(),o);if(H(te))return fS(e,te.getNode(!v));let Q=R(te);const ce=Bg(o);if(Q)Q=Yo(v,Q);else return ce?X.some(o):X.none();if(H(Q))return op(n,e,Q.getNode(!v),v,!1);const Re=R(Q);return Re&&H(Re)&&iv(Q,Re)?op(n,e,Re.getNode(!v),v,!1):ce?jD(e,Q.toRange(),!1):X.none()},Pf=(e,n,o,r,l,h)=>{const v=rv(n,e.getBody(),o),A=Al(v.getClientRects()),R=n===n_.Down,H=e.getBody();if(!A)return X.none();if(PD(e)){const Ie=R?Qe.fromRangeEnd(o):Qe.fromRangeStart(o);return(R?Vz:Hz)(H,Ie).orThunk(()=>X.from(Ie)).map(Fe=>Fe.toRange())}const Q=(R?jz:Gz)(H,L3(1),v),ce=Dn(Q,GD(1)),Re=A.left,Me=N3(ce,Re);if(Me&&h(Me.node)){const Ie=Math.abs(Re-Me.left),We=Math.abs(Re-Me.right);return op(n,e,Me.node,Ie<We,!1)}let _e;if(r(v)?_e=v.getNode():l(v)?_e=v.getNode(!0):_e=vu(o),_e){const Ie=qz(n,H,L3(1),_e);let We=N3(Dn(Ie,GD(1)),Re);if(We||(We=Al(Dn(Ie,GD(0))),We))return jD(e,We.position.toRange(),!1)}return ce.length===0?qD(e,R).filter(R?l:r).map(Ie=>dw(e,Ie.toRange(),!1)):X.none()},qD=(e,n)=>{const o=e.selection.getRng(),r=n?Qe.fromRangeEnd(o):Qe.fromRangeStart(o),l=dy(r.container(),e.getBody());if(n){const h=rp(l,r);return Yl(h.positions)}else{const h=Jy(l,r);return ai(h.positions)}},h2=(e,n,o)=>qD(e,n).filter(o).exists(r=>(e.selection.setRng(r.toRange()),!0)),gS=(e,n)=>{const o=e.dom.createRng();o.setStart(n.container(),n.offset()),o.setEnd(n.container(),n.offset()),e.selection.setRng(o)},m2=(e,n)=>{e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},B3=(e,n,o)=>E3(n,o).map(r=>(gS(e,r),o)),Zz=(e,n,o)=>{const r=Qe.fromRangeStart(e);if(e.collapsed)return r;{const l=Qe.fromRangeEnd(e);return o?Di(n,l).getOr(l):Ii(n,r).getOr(r)}},Yz=(e,n,o)=>{const r=e.getBody(),l=Zz(e.selection.getRng(),r,o),h=Ze(Ly,e);return Pz(o,h,r,l).bind(A=>B3(e,n,A))},Kz=(e,n,o)=>{const r=en(yc(Ne.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),v=>v.dom),l=Dn(r,e),h=Dn(o,e);Ge(Jd(l,h),Ze(m2,!1)),Ge(Jd(h,l),Ze(m2,!0))},Xz=(e,n)=>{const o=n.get();if(e.selection.isCollapsed()&&!e.composing&&o){const r=Qe.fromRangeStart(e.selection.getRng());Qe.isTextPosition(r)&&!xl(r)&&(gS(e,fE(o,r)),n.set(null))}},F3=(e,n,o,r)=>{if(n.selection.isCollapsed()){const l=Dn(r,e);Ge(l,h=>{const v=Qe.fromRangeStart(n.selection.getRng());Tv(e,n.getBody(),v).bind(A=>B3(n,o,A))})}},H3=(e,n,o)=>nv(e)?Yz(e,n,o).isSome():!1,V3=(e,n,o)=>nv(n)?$z(e,n):!1,vS=e=>{const n=Ri(null),o=Ze(Ly,e);return e.on("NodeChange",r=>{nv(e)&&(Kz(o,e.dom,r.parents),Xz(e,n),F3(o,e,n,r.parents))}),n},q1=Ze(V3,!0),o_=Ze(V3,!1),s_=(e,n,o)=>{if(nv(e)){const r=qD(e,n).getOrThunk(()=>{const l=e.selection.getRng();return n?Qe.fromRangeEnd(l):Qe.fromRangeStart(l)});return Tv(Ze(Ly,e),e.getBody(),r).exists(l=>{const h=mw(l);return E3(o,h).exists(v=>(gS(e,v),!0))})}else return!1},ZD=(e,n)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(n.container(),n.offset()),o},YD=e=>wt(vi(e),hi(e),(n,o)=>{const r=Yo(!0,n),l=Yo(!1,o);return Ii(e,r).forall(h=>h.isEqual(l))}).getOr(!0),KD=(e,n)=>o=>E3(n,o).map(r=>()=>gS(e,r)),z3=(e,n,o,r)=>{const l=e.getBody(),h=Ze(Ly,e);e.undoManager.ignore(()=>{e.selection.setRng(ZD(o,r)),CC(e),Tv(h,l,Qe.fromRangeStart(e.selection.getRng())).map(d2).bind(KD(e,n)).each(Vo)}),e.nodeChanged()},U3=(e,n)=>{const o=fa(n,e);return o||e},W3=(e,n,o,r)=>{const l=U3(e.getBody(),r.container()),h=Ze(Ly,e),v=Tv(h,l,r);return v.bind(R=>o?R.fold(rt(X.some(d2(R))),X.none,rt(X.some(mw(R))),X.none):R.fold(X.none,rt(X.some(mw(R))),X.none,rt(X.some(d2(R))))).map(KD(e,n)).getOrThunk(()=>{const R=Lo(o,l,r),H=R.bind(te=>Tv(h,l,te));return wt(v,H,()=>ag(h,l,r).bind(te=>YD(te)?X.some(()=>{ky(e,o,Ne.fromDom(te))}):X.none())).getOrThunk(()=>H.bind(()=>R.map(te=>()=>{o?z3(e,n,r,te):z3(e,n,te,r)})))})},XD=(e,n,o)=>{if(e.selection.isCollapsed()&&nv(e)){const r=Qe.fromRangeStart(e.selection.getRng());return W3(e,n,o,r)}return X.none()},Qz=e=>Xt(e)>1,G3=(e,n)=>{const o=Ne.fromDom(e.getBody()),r=Ne.fromDom(e.selection.getStart()),l=H1(r,o);return zr(l,n).fold(rt(l),h=>l.slice(0,h))},Jz=e=>G3(e,n=>nc(n)||Qz(n)),eU=e=>G3(e,nc),j3=(e,n)=>{const o=Ze(FC,e);return Ya(n,r=>o(r)?[r.dom]:[])},QD=e=>{const n=eU(e);return j3(e,n)},q3=(e,n,o,r)=>{const l=j3(n,r);if(l.length===0)ky(n,e,o);else{const h=iL(o.dom,l);n.selection.setRng(h.toRange())}},lK=(e,n)=>{const o=Jz(e);return Yl(o).bind(r=>{const l=Qe.fromRangeStart(e.selection.getRng());return pP(n,l,r.dom)&&!II(r)?X.some(()=>q3(n,e,r,o)):X.none()})},uK=(e,n)=>{const o=n.parentElement;return Lr(n)&&!we(o)&&e.dom.isEmpty(o)},dK=e=>II(Ne.fromDom(e)),Z3=(e,n)=>{const o=e.selection.getStart(),r=uK(e,o)||dK(o)?iL(o,n):Qm(e,n);e.selection.setRng(r.toRange())},fK=(e,n)=>{const o=Jd(n,QD(e));o.length>0&&Z3(e,o)},tU=e=>Wt(e.startContainer),nU=e=>e.startOffset===0&&tU(e),oU=(e,n)=>{const o=n.startContainer.parentElement;return!we(o)&&FC(e,Ne.fromDom(o))},hK=e=>{const n=e.startContainer.parentNode,o=e.endContainer.parentNode;return!we(n)&&!we(o)&&n.isEqualNode(o)},sU=e=>{const n=e.endContainer;return e.endOffset===(Wt(n)?n.length:n.childNodes.length)},Lf=e=>hK(e)&&sU(e),Y3=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),bS=e=>Lf(e)||Y3(e),rU=e=>{const n=e.selection.getRng();return nU(n)&&oU(e,n)&&bS(n)},K3=e=>{if(rU(e)){const n=QD(e);return X.some(()=>{CC(e),fK(e,n)})}else return X.none()},p2=(e,n)=>e.selection.isCollapsed()?lK(e,n):K3(e),JD=e=>tL(e,n=>tr(n.dom),nc),iU=e=>JD(Ne.fromDom(e.selection.getStart())),aU=e=>{const n=e.selection.getRng();return n.collapsed&&(tU(n)||e.dom.isEmpty(n.startContainer))&&!iU(e)},pw=e=>(aU(e)&&Z3(e,[]),!0),eM=(e,n,o)=>He(o)?X.some(()=>{e._selectionOverrides.hideFakeCaret(),ky(e,n,Ne.fromDom(o))}):X.none(),cU=(e,n)=>{const o=n?EC:vo,r=n?Ga.Forwards:Ga.Backwards,l=rv(r,e.getBody(),e.selection.getRng());return o(l)?eM(e,n,l.getNode(!n)):X.from(Yo(n,l)).filter(h=>o(h)&&iv(l,h)).bind(h=>eM(e,n,h.getNode(!n)))},tM=(e,n)=>{const o=e.selection.getNode();return di(o)?eM(e,n,o):X.none()},nM=(e,n)=>e.selection.isCollapsed()?cU(e,n):tM(e,n),mK=e=>ns(e,n=>Do(n.dom)||gs(n.dom)).exists(n=>Do(n.dom)),oM=e=>Md(e??"").getOr(0),X3=(e,n)=>{const o=e||lb(n)?"margin":"padding",r=el(n,"direction")==="rtl"?"-right":"-left";return o+r},sM=(e,n,o,r,l,h)=>{const v=X3(o,Ne.fromDom(h)),A=oM(e.getStyle(h,v));if(n==="outdent"){const R=Math.max(0,A-r);e.setStyle(h,v,R?R+l:"")}else{const R=A+r+l;e.setStyle(h,v,R)}},Q3=(e,n)=>Or(n,o=>{const r=X3(Vp(e),o),l=oa(o,r).map(oM).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&l>0}),lU=e=>{const n=e$(e);return!e.mode.isReadOnly()&&(n.length>1||Q3(e,n))},J3=e=>tl(e)||Ph(e),uU=e=>ts(e).exists(J3),e$=e=>Dn(Xf(e.selection.getSelectedBlocks()),n=>!J3(n)&&!uU(n)&&mK(n)),g2=(e,n)=>{var o,r;const{dom:l}=e,h=Wr(e),v=(r=(o=/[a-z%]+$/i.exec(h))===null||o===void 0?void 0:o[0])!==null&&r!==void 0?r:"px",A=oM(h),R=Vp(e);Ge(e$(e),H=>{sM(l,n,R,A,v,H.dom)})},v2=e=>g2(e,"indent"),rM=e=>g2(e,"outdent"),iM=e=>{if(e.selection.isCollapsed()&&lU(e)){const n=e.dom,o=e.selection.getRng(),r=Qe.fromRangeStart(o),l=n.getParent(o.startContainer,n.isBlock);if(l!==null&&Ny(Ne.fromDom(l),r))return X.some(()=>rM(e))}return X.none()},t$=(e,n,o)=>_i([iM,a2,ND,(r,l)=>XD(r,n,l),dS,MC,BD,nM,MD,p2],r=>r(e,o)).filter(r=>e.selection.isEditable()),dU=(e,n)=>{t$(e,n,!1).fold(()=>{CC(e),SC(e)},Vo)},aM=(e,n)=>{t$(e,n,!0).fold(()=>hP(e),Vo)},fU=(e,n)=>{e.addCommand("delete",()=>{dU(e,n)}),e.addCommand("forwardDelete",()=>{aM(e,n)})},n$=5,hU=400,o$=e=>e.touches===void 0||e.touches.length!==1?X.none():X.some(e.touches[0]),ip=(e,n)=>{const o=Math.abs(e.clientX-n.x),r=Math.abs(e.clientY-n.y);return o>n$||r>n$},s$=e=>{const n=Sa(),o=Ri(!1),r=Tl(l=>{e.dispatch("longpress",{...l,type:"longpress"}),o.set(!0)},hU);e.on("touchstart",l=>{o$(l).each(h=>{r.cancel();const v={x:h.clientX,y:h.clientY,target:l.target};r.throttle(l),o.set(!1),n.set(v)})},!0),e.on("touchmove",l=>{r.cancel(),o$(l).each(h=>{n.on(v=>{ip(h,v)&&(n.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",l=>{r.cancel(),l.type!=="touchcancel"&&n.get().filter(h=>h.target.isEqualNode(l.target)).each(()=>{o.get()?l.preventDefault():e.dispatch("tap",{...l,type:"tap"})})},!0)},b2=(e,n)=>jn(e,n.nodeName),pK=(e,n)=>Wt(n)?!0:an(n)?!b2(e.getBlockElements(),n)&&!jd(n)&&!hd(e,n):!1,gK=(e,n,o)=>ko(Uk(Ne.fromDom(o),Ne.fromDom(n)),r=>b2(e,r.dom)),vK=(e,n)=>{if(Wt(n)){if(n.data.length===0)return!0;if(/^\s+$/.test(n.data)&&(!n.nextSibling||b2(e,n.nextSibling)))return!0}return!1},mU=e=>e.dom.create(wd(e),ev(e)),pU=e=>{const n=e.dom,o=e.selection,r=e.schema,l=r.getBlockElements(),h=o.getStart(),v=e.getBody();let A,R,H=!1;const te=wd(e);if(!h||!an(h))return;const Q=v.nodeName.toLowerCase();if(!r.isValidChild(Q,te.toLowerCase())||gK(l,v,h))return;const ce=o.getRng(),{startContainer:Re,startOffset:Me,endContainer:_e,endOffset:Ie}=ce,We=Yb(e);let Fe=v.firstChild;for(;Fe;)if(an(Fe)&&fd(r,Fe),pK(r,Fe)){if(vK(l,Fe)){R=Fe,Fe=Fe.nextSibling,n.remove(R);continue}A||(A=mU(e),v.insertBefore(A,Fe),H=!0),R=Fe,Fe=Fe.nextSibling,A.appendChild(R)}else A=null,Fe=Fe.nextSibling;H&&We&&(ce.setStart(Re,Me),ce.setEnd(_e,Ie),o.setRng(ce),e.nodeChanged())},yS=(e,n,o)=>{const r=Ne.fromDom(mU(e)),l=Wn();kr(r,l),o(n,r);const h=document.createRange();return h.setStartBefore(l.dom),h.setEndBefore(l.dom),h},gU=e=>{e.on("NodeChange",Ze(pU,e))},y2=e=>n=>(" "+n.attr("class")+" ").indexOf(e)!==-1,r$=(e,n,o)=>function(r){const l=arguments,h=l[l.length-2],v=h>0?n.charAt(h-1):"";if(v==='"')return r;if(v===">"){const A=n.lastIndexOf("<",h);if(A!==-1&&n.substring(A,h).indexOf('contenteditable="false"')!==-1)return r}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(l[0])+'">'+e.dom.encode(typeof l[1]=="string"?l[1]:l[0])+"</span>"},i$=(e,n,o)=>{let r=n.length,l=o.content;if(o.format!=="raw"){for(;r--;)l=l.replace(n[r],r$(e,l,ny(e)));o.content=l}},a$=e=>{const n="contenteditable",o=" "+Ce.trim(pT(e))+" ",r=" "+Ce.trim(ny(e))+" ",l=y2(o),h=y2(r),v=gT(e);v.length>0&&e.on("BeforeSetContent",A=>{i$(e,v,A)}),e.parser.addAttributeFilter("class",A=>{let R=A.length;for(;R--;){const H=A[R];l(H)?H.attr(n,"true"):h(H)&&H.attr(n,"false")}}),e.serializer.addAttributeFilter(n,A=>{let R=A.length;for(;R--;){const H=A[R];!l(H)&&!h(H)||(v.length>0&&H.attr("data-mce-content")?(H.name="#text",H.type=3,H.raw=!0,H.value=H.attr("data-mce-content")):H.attr(n,null))}})},vU=e=>Tp(Ne.fromDom(e.getBody()),"*[data-mce-caret]").map(n=>n.dom).getOrNull(),c$=(e,n)=>{n.hasAttribute("data-mce-caret")&&($g(n),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(n))},bU=(e,n)=>{const o=vU(e);if(o){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),c$(e,o);return}Pg(o)&&(c$(e,o),e.undoManager.add())}},yU=e=>{e.on("keyup compositionstart",Ze(bU,e))},_S=gs,_U=(e,n,o)=>$3(n,e,o,My,Xb,_S),EU=(e,n,o)=>Pf(n,e,o,h=>My(h)||ZR(h),h=>Xb(h)||P6(h),_S),wU=e=>{const n=e.dom.create(wd(e));return n.innerHTML='<br data-mce-bogus="1">',n},_2=(e,n,o)=>{const r=Ye(e.getBody()),l=Ze(hy,n===1?r.next:r.prev);if(o.collapsed){const h=e.dom.getParent(o.startContainer,"PRE");if(!h)return;if(!l(Qe.fromRangeStart(o))){const A=Ne.fromDom(wU(e));n===1?kl(Ne.fromDom(h),A):bs(Ne.fromDom(h),A),e.selection.select(A.dom,!0),e.selection.collapse()}}},TU=(e,n)=>{const o=n?Ga.Forwards:Ga.Backwards,r=e.selection.getRng();return _U(o,e,r).orThunk(()=>(_2(e,o,r),X.none()))},CU=(e,n)=>{const o=n?1:-1,r=e.selection.getRng();return EU(o,e,r).orThunk(()=>(_2(e,o,r),X.none()))},cM=(e,n)=>TU(e,n).exists(o=>(Sv(e,o),!0)),l$=(e,n)=>CU(e,n).exists(o=>(Sv(e,o),!0)),u$=(e,n)=>h2(e,n,n?Xb:My),E2=(e,n)=>kD(e,!n).map(o=>{const r=o.toRange(),l=e.selection.getRng();return n?r.setStart(l.startContainer,l.startOffset):r.setEnd(l.endContainer,l.endOffset),r}).exists(o=>(Sv(e,o),!0)),SU=e=>Fn(["figcaption"],Ds(e)),xU=(e,n)=>{const o=Ze(es,n);return ns(Ne.fromDom(e.container()),nc,o).filter(SU)},AU=(e,n,o)=>n?zD(e.dom,o):e_(e.dom,o),lM=(e,n)=>{const o=Ne.fromDom(e.getBody()),r=Qe.fromRangeStart(e.selection.getRng());return xU(r,o).exists(()=>{if(AU(o,n,r)){const h=yS(e,o,n?kr:Iu);return e.selection.setRng(h),!0}else return!1})},d$=(e,n)=>e.selection.isCollapsed()?lM(e,n):!1,uM={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},OU=e=>en(e,n=>({...uM,...n})),RU=e=>en(e,n=>({...uM,...n})),f$=(e,n)=>n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey,IU=(e,n)=>Ya(OU(e),o=>f$(o,n)?[o]:[]),DU=(e,n)=>Ya(RU(e),o=>f$(o,n)?[o]:[]),Io=(e,...n)=>()=>e.apply(null,n),ma=(e,n)=>Is(IU(e,n),o=>o.action()),h$=(e,n)=>_i(DU(e,n),o=>o.action()),m$=(e,n)=>{const o=n?Ga.Forwards:Ga.Backwards,r=e.selection.getRng();return $3(e,o,r,EC,vo,di).exists(l=>(Sv(e,l),!0))},p$=(e,n)=>{const o=n?1:-1,r=e.selection.getRng();return Pf(e,o,r,EC,vo,di).exists(l=>(Sv(e,l),!0))},dM=(e,n)=>h2(e,n,n?vo:EC),w2=Gd.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),ap={...w2,none:e=>w2.none(e)},fM=(e,n)=>hM(e,n,Lt),hM=(e,n,o)=>Ya(qe(e),r=>_a(r,n)?o(r)?[r]:[]:hM(r,n,o)),mM=(e,n,o=nt)=>{if(o(n))return X.none();if(Fn(e,Ds(n)))return X.some(n);const r=l=>_a(l,"table")||o(l);return Ja(n,e.join(","),r)},pM=(e,n)=>mM(["td","th"],e,n),gM=e=>fM(e,"th,td"),vM=(e,n)=>ru(e,"table",n),gw=(e,n,o,r,l=Lt)=>{const h=r===1;if(!h&&o<=0)return ap.first(e[0]);if(h&&o>=e.length-1)return ap.last(e[e.length-1]);{const v=o+r,A=e[v];return l(A)?ap.middle(n,A):gw(e,n,v,r,l)}},ES=(e,n)=>vM(e,n).bind(o=>{const r=gM(o);return zr(r,h=>es(e,h)).map(h=>({index:h,all:r}))}),wS=(e,n,o)=>ES(e,o).fold(()=>ap.none(e),l=>gw(l.all,e,l.index,1,n)),TS=(e,n,o)=>ES(e,o).fold(()=>ap.none(),l=>gw(l.all,e,l.index,-1,n)),xv=(e,n)=>({left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}),CS=(e,n)=>Ya(n,o=>{const r=xv($m(o.getBoundingClientRect()),-1);return[{x:r.left,y:e(r),cell:o},{x:r.right,y:e(r),cell:o}]}),g$=(e,n,o)=>Us(e,(r,l)=>r.fold(()=>X.some(l),h=>{const v=Math.sqrt(Math.abs(h.x-n)+Math.abs(h.y-o)),A=Math.sqrt(Math.abs(l.x-n)+Math.abs(l.y-o));return X.some(A<v?l:h)}),X.none()),bM=(e,n,o,r,l)=>{const h=yc(Ne.fromDom(o),"td,th,caption").map(A=>A.dom),v=Dn(CS(e,h),A=>n(A,l));return g$(v,r,l).map(A=>A.cell)},NU=e=>e.bottom,v$=e=>e.top,kU=(e,n)=>e.y<n,PU=(e,n)=>e.y>n,b$=Ze(bM,NU,kU),LU=Ze(bM,v$,PU),$U=(e,n)=>ai(n.getClientRects()).bind(o=>b$(e,o.left,o.top)).bind(o=>pS(R3(o),n)),BU=(e,n)=>Yl(n.getClientRects()).bind(o=>LU(e,o.left,o.top)).bind(o=>pS(Fz(o),n)),FU=(e,n,o)=>o.breakAt.exists(r=>e(n,r).breakAt.isSome()),HU=e=>e.breakType===Cv.Wrap&&e.positions.length===0,VU=e=>e.breakType===Cv.Br&&e.positions.length===1,y$=(e,n,o)=>{const r=e(n,o);return HU(r)||!Lr(o.getNode())&&VU(r)?!FU(e,n,r):r.breakAt.isNone()},zU=Ze(y$,Jy),UU=Ze(y$,rp),WU=(e,n,o)=>{const r=Qe.fromRangeStart(n);return _s(!e,o).exists(l=>l.isEqual(r))},GU=(e,n,o,r)=>{const l=e.selection.getRng(),h=n?1:-1;return Lb()&&WU(n,l,o)?(op(h,e,o,!n,!1).each(v=>{Sv(e,v)}),!0):!1},jU=(e,n,o)=>$U(n,o).orThunk(()=>ai(o.getClientRects()).bind(r=>mS(VD(e,Qe.before(n)),r.left))).getOr(Qe.before(n)),qU=(e,n,o)=>BU(n,o).orThunk(()=>ai(o.getClientRects()).bind(r=>mS(Ch(e,Qe.after(n)),r.left))).getOr(Qe.after(n)),yM=(e,n)=>{const o=n.getNode(e);return Yr(o)?X.some(o):X.none()},_$=(e,n,o)=>{n.undoManager.transact(()=>{const r=e?kl:bs,l=yS(n,Ne.fromDom(o),r);Sv(n,l)})},_M=(e,n,o)=>{const r=yM(!!n,o),l=n===!1;r.fold(()=>Sv(e,o.toRange()),h=>_s(l,e.getBody()).filter(v=>v.isEqual(o)).fold(()=>Sv(e,o.toRange()),v=>_$(n,e,h)))},ZU=(e,n,o,r)=>{const l=e.selection.getRng(),h=Qe.fromRangeStart(l),v=e.getBody();if(!n&&zU(r,h)){const A=jU(v,o,h);return _M(e,n,A),!0}else if(n&&UU(r,h)){const A=qU(v,o,h);return _M(e,n,A),!0}else return!1},E$=(e,n,o)=>X.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(r=>X.from(e.dom.getParent(r,"table")).map(l=>o(e,n,l,r))).getOr(!1),w$=(e,n)=>E$(e,n,GU),T$=(e,n)=>E$(e,n,ZU),C$=e=>{const n=Ub.exact(e,0,e,0);return kR(n)},S$=(e,n,o)=>o.fold(X.none,X.none,(r,l)=>p6(l).map(h=>C$(h)),r=>(e.execCommand("mceTableInsertRowAfter"),EM(e,n,r))),EM=(e,n,o)=>S$(e,n,wS(o,Dh)),YU=(e,n,o)=>S$(e,n,TS(o,Dh)),wM=(e,n)=>{const o=["table","li","dl"],r=Ne.fromDom(e.getBody()),l=A=>{const R=Ds(A);return es(A,r)||Fn(o,R)},h=e.selection.getRng(),v=Ne.fromDom(n?h.endContainer:h.startContainer);return pM(v,l).map(A=>(vM(A,l).each(te=>{e.model.table.clearSelectedCells(te.dom)}),e.selection.collapse(!n),(n?EM:YU)(e,l,A).each(te=>{e.selection.setRng(te)}),!0)).getOr(!1)},x$=(e,n,o)=>{const r=cs.os.isMacOS()||cs.os.isiOS();ma([{keyCode:On.RIGHT,action:Io(cM,e,!0)},{keyCode:On.LEFT,action:Io(cM,e,!1)},{keyCode:On.UP,action:Io(l$,e,!1)},{keyCode:On.DOWN,action:Io(l$,e,!0)},...r?[{keyCode:On.UP,action:Io(E2,e,!1),metaKey:!0,shiftKey:!0},{keyCode:On.DOWN,action:Io(E2,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:On.RIGHT,action:Io(w$,e,!0)},{keyCode:On.LEFT,action:Io(w$,e,!1)},{keyCode:On.UP,action:Io(T$,e,!1)},{keyCode:On.DOWN,action:Io(T$,e,!0)},{keyCode:On.RIGHT,action:Io(m$,e,!0)},{keyCode:On.LEFT,action:Io(m$,e,!1)},{keyCode:On.UP,action:Io(p$,e,!1)},{keyCode:On.DOWN,action:Io(p$,e,!0)},{keyCode:On.RIGHT,action:Io(H3,e,n,!0)},{keyCode:On.LEFT,action:Io(H3,e,n,!1)},{keyCode:On.RIGHT,ctrlKey:!r,altKey:r,action:Io(q1,e,n)},{keyCode:On.LEFT,ctrlKey:!r,altKey:r,action:Io(o_,e,n)},{keyCode:On.UP,action:Io(d$,e,!1)},{keyCode:On.DOWN,action:Io(d$,e,!0)}],o).each(l=>{o.preventDefault()})},KU=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||x$(e,n,o)})},mg=(e,n)=>({container:e,offset:n}),T2=qs.DOM,SS=e=>n=>e===n?-1:0,XU=e=>n=>e.isBlock(n)||Fn(["BR","IMG","HR","INPUT"],n.nodeName)||e.getContentEditable(n)==="false",TM=(e,n,o)=>{if(Wt(e)&&n>=0)return X.some(mg(e,n));{const r=$r(T2);return X.from(r.backwards(e,n,SS(e),o)).map(l=>mg(l.container,l.container.data.length))}},A$=(e,n,o)=>{if(Wt(e)&&n>=e.length)return X.some(mg(e,n));{const r=$r(T2);return X.from(r.forwards(e,n,SS(e),o)).map(l=>mg(l.container,0))}},CM=(e,n,o)=>{if(!Wt(e))return X.none();const r=e.data;if(n>=0&&n<=r.length)return X.some(mg(e,n));{const l=$r(T2);return X.from(l.backwards(e,n,SS(e),o)).bind(h=>{const v=h.container.data;return CM(h.container,n+v.length,o)})}},O$=(e,n,o)=>{if(!Wt(e))return X.none();const r=e.data;if(n<=r.length)return X.some(mg(e,n));{const l=$r(T2);return X.from(l.forwards(e,n,SS(e),o)).bind(h=>O$(h.container,n-r.length,o))}},C2=(e,n,o,r,l)=>{const h=$r(e,XU(e));return X.from(h.backwards(n,o,r,l))},QU=e=>e.collapsed&&Wt(e.startContainer),R$=e=>yl(e.toString().replace(/\u00A0/g," ")),I$=e=>e!==""&&`  \f
\r	\v`.indexOf(e)!==-1,S2=(e,n)=>e.substring(n.length),D$=(e,n,o)=>{let r;const l=o.charAt(0);for(r=n-1;r>=0;r--){const h=e.charAt(r);if(I$(h))return X.none();if(l===h&&Ei(e,o,r,n))break}return X.some(r)},JU=(e,n,o,r=0)=>{if(!QU(n))return X.none();const l={text:"",offset:0},h=(A,R,H)=>(l.text=H+l.text,l.offset+=R,D$(l.text,l.offset,o).getOr(R)),v=e.getParent(n.startContainer,e.isBlock)||e.getRoot();return C2(e,n.startContainer,n.startOffset,h,v).bind(A=>{const R=n.cloneRange();if(R.setStart(A.container,A.offset),R.setEnd(n.endContainer,n.endOffset),R.collapsed)return X.none();const H=R$(R);return H.lastIndexOf(o)!==0||S2(H,o).length<r?X.none():X.some({text:S2(H,o),range:R,trigger:o})})},M$=(e,n,o,r=0)=>y6(Ne.fromDom(n.startContainer)).fold(()=>JU(e,n,o,r),l=>{const h=e.createRng();h.selectNode(l.dom);const v=R$(h);return X.some({range:h,text:S2(v,o),trigger:o})}),eW=e=>e.nodeType===nu,tW=e=>e.nodeType===nr,N$=e=>{if(eW(e))return mg(e,e.data.length);{const n=e.childNodes;return n.length>0?N$(n[n.length-1]):mg(e,n.length)}},k$=(e,n)=>{const o=e.childNodes;return o.length>0&&n<o.length?k$(o[n],0):o.length>0&&tW(e)&&o.length===n?N$(o[o.length-1]):mg(e,n)},nW=(e,n)=>{var o;const r=(o=e.getParent(n.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return C2(e,n.container,n.offset,(l,h)=>h===0?-1:h,r).filter(l=>{const h=l.container.data.charAt(l.offset-1);return!I$(h)}).isSome()},oW=e=>n=>{const o=k$(n.startContainer,n.startOffset);return!nW(e,o)},bK=(e,n,o)=>_i(o.triggers,r=>M$(e,n,r)),sW=(e,n)=>{const o=n(),r=e.selection.getRng();return bK(e.dom,r,o).bind(l=>xS(e,n,l))},xS=(e,n,o,r={})=>{var l;const h=n(),A=(l=e.selection.getRng().startContainer.nodeValue)!==null&&l!==void 0?l:"",R=Dn(h.lookupByTrigger(o.trigger),te=>o.text.length>=te.minChars&&te.matches.getOrThunk(()=>oW(e.dom))(o.range,A,o.text));if(R.length===0)return X.none();const H=Promise.all(en(R,te=>te.fetch(o.text,te.maxResults,r).then(ce=>({matchText:o.text,items:ce,columns:te.columns,onAction:te.onAction,highlightOn:te.highlightOn}))));return X.some({lookupData:H,context:o})};var cp;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(cp||(cp={}));const x2=(e,n,o)=>e.stype===cp.Error?n(e.serror):o(e.svalue),rW=e=>{const n=[],o=[];return Ge(e,r=>{x2(r,l=>o.push(l),l=>n.push(l))}),{values:n,errors:o}},P$=(e,n)=>e.stype===cp.Error?{stype:cp.Error,serror:n(e.serror)}:e,L$=(e,n)=>e.stype===cp.Value?{stype:cp.Value,svalue:n(e.svalue)}:e,iW=(e,n)=>e.stype===cp.Value?n(e.svalue):e,aW=(e,n)=>e.stype===cp.Error?n(e.serror):e,$$=e=>({stype:cp.Value,svalue:e}),SM=e=>({stype:cp.Error,serror:e}),Gl={fromResult:e=>e.fold(SM,$$),toResult:e=>x2(e,Vs.error,Vs.value),svalue:$$,partition:rW,serror:SM,bind:iW,bindError:aW,map:L$,mapError:P$,fold:x2},xM=e=>ke(e)&&uc(e).length>100?" removed due to size":JSON.stringify(e,null,2),cW=e=>{const n=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:rt("... (only showing first ten failures)")}]):e;return en(n,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},AS=(e,n)=>Gl.serror([{path:e,getErrorInfo:n}]),lW=(e,n,o)=>AS(e,()=>'Could not find valid *required* value for "'+n+'" in '+xM(o)),uW=(e,n)=>AS(e,()=>'Choice schema did not contain choice key: "'+n+'"'),dW=(e,n,o)=>AS(e,()=>'The chosen schema: "'+o+'" did not exist in branches: '+xM(n)),fW=(e,n)=>AS(e,rt(n)),hW=(e,n,o,r)=>gr(o,r).fold(()=>dW(e,o,r),h=>h.extract(e.concat(["branch: "+r]),n)),Uc=(e,n)=>({extract:(l,h)=>gr(h,e).fold(()=>uW(l,e),A=>hW(l,h,n,A)),toString:()=>"chooseOn("+e+"). Possible values: "+uc(n)}),Av=(e,n)=>n,mW=(e,n)=>Ke(e)&&Ke(n)?A2(e,n):n,pW=e=>(...n)=>{if(n.length===0)throw new Error("Can't merge zero objects");const o={};for(let r=0;r<n.length;r++){const l=n[r];for(const h in l)jn(l,h)&&(o[h]=e(o[h],l[h]))}return o},A2=pW(mW),gW=pW(Av),F$=()=>({tag:"required",process:{}}),vW=e=>({tag:"defaultedThunk",process:e}),AM=e=>vW(rt(e)),vw=()=>({tag:"option",process:{}}),_K=(e,n)=>e.length>0?Gl.svalue(A2(n,gW.apply(void 0,e))):Gl.svalue(n),H$=e=>F(Gl.serror,lc)(e),bW={consolidateObj:(e,n)=>{const o=Gl.partition(e);return o.errors.length>0?H$(o.errors):_K(o.values,n)},consolidateArr:e=>{const n=Gl.partition(e);return n.errors.length>0?H$(n.errors):Gl.svalue(n.values)}},yW=(e,n,o,r)=>({tag:"field",key:e,newKey:n,presence:o,prop:r}),V$=(e,n)=>({tag:"custom",newKey:e,instantiator:n}),z$=(e,n,o)=>{switch(e.tag){case"field":return n(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},OS=e=>{const n=(r,l)=>Gl.bindError(e(l),h=>fW(r,h)),o=rt("val");return{extract:n,toString:o}},U$=OS(Gl.svalue),_W=(e,n,o,r)=>gr(n,o).fold(()=>lW(e,o,n),r),W$=(e,n,o,r)=>{const l=gr(e,n).getOrThunk(()=>o(e));return r(l)},EW=(e,n,o)=>o(gr(e,n)),G$=(e,n,o,r)=>{const l=gr(e,n).map(h=>h===!0?o(e):h);return r(l)},j$=(e,n,o,r,l)=>{const h=A=>l.extract(n.concat([r]),A),v=A=>A.fold(()=>Gl.svalue(X.none()),R=>{const H=l.extract(n.concat([r]),R);return Gl.map(H,X.some)});switch(e.tag){case"required":return _W(n,o,r,h);case"defaultedThunk":return W$(o,r,e.process,h);case"option":return EW(o,r,v);case"defaultedOptionThunk":return G$(o,r,e.process,v);case"mergeWithThunk":return W$(o,r,rt({}),A=>{const R=A2(e.process(o),A);return h(R)})}},OM=(e,n,o)=>{const r={},l=[];for(const h of o)z$(h,(v,A,R,H)=>{const te=j$(R,e,n,v,H);Gl.fold(te,Q=>{l.push(...Q)},Q=>{r[A]=Q})},(v,A)=>{r[v]=A(n)});return l.length>0?Gl.serror(l):Gl.svalue(r)},RS=e=>({extract:(r,l)=>OM(r,l,e),toString:()=>`obj{
`+en(e,l=>z$(l,(h,v,A,R)=>h+" -> "+R.toString(),(h,v)=>"state("+h+")")).join(`
`)+"}"}),O2=e=>({extract:(r,l)=>{const h=en(l,(v,A)=>e.extract(r.concat(["["+A+"]"]),v));return bW.consolidateArr(h)},toString:()=>"array("+e.toString()+")"}),wW=e=>OS(n=>e(n).fold(Gl.serror,Gl.svalue)),TW=(e,n,o)=>{const r=n.extract([e],o);return Gl.mapError(r,l=>({input:o,errors:l}))},CW=(e,n,o)=>Gl.toResult(TW(e,n,o)),SW=e=>`Errors: 
`+cW(e.errors).join(`
`)+`

Input object: `+xM(e.input),R2=(e,n)=>Uc(e,jo(n,RS)),q$=rt(U$),I2=(e,n)=>OS(o=>{const r=typeof o;return e(o)?Gl.svalue(o):Gl.serror(`Expected type: ${n} but got: ${r}`)}),Z$=I2(bn,"number"),D2=I2(ee,"string"),RM=I2(Ue,"boolean"),IM=I2(Te,"function"),IS=yW,Y$=V$,xW=e=>wW(n=>Fn(e,n)?Vs.value(n):Vs.error(`Unsupported value: "${n}", choose one of "${e.join(", ")}".`)),K$=(e,n)=>IS(e,e,F$(),n),DM=e=>K$(e,D2),M2=e=>K$(e,IM),X$=(e,n)=>IS(e,e,F$(),O2(n)),N2=(e,n)=>IS(e,e,vw(),n),k2=e=>N2(e,D2),AW=e=>N2(e,IM),OW=(e,n)=>IS(e,e,AM(n),q$()),Z1=(e,n,o)=>IS(e,e,AM(n),o),MM=(e,n)=>Z1(e,n,Z$),Q$=(e,n)=>Z1(e,n,D2),J$=(e,n,o)=>Z1(e,n,xW(o)),NM=(e,n)=>Z1(e,n,RM),eB=(e,n)=>Z1(e,n,IM),wK=(e,n,o)=>Z1(e,n,O2(o)),TK=DM("type"),RW=M2("fetch"),tB=M2("onAction"),IW=eB("onSetup",()=>Mt),DW=k2("text"),CK=k2("icon"),MW=k2("tooltip"),ac=k2("label"),kM=NM("active",!1),Rv=NM("enabled",!0),PM=NM("primary",!1),nB=e=>OW("columns",e),DS=e=>Q$("type",e),LM=RS([TK,DM("trigger"),MM("minChars",1),nB(1),MM("maxResults",10),AW("matches"),RW,tB,wK("highlightOn",[],D2)]),$M=e=>CW("Autocompleter",LM,{trigger:e.ch,...e}),P2=[Rv,MW,CK,DW,IW],BM=[kM].concat(P2),NW=[eB("predicate",nt),J$("scope","node",["node","editor"]),J$("position","selection",["node","selection","line"])],kW=P2.concat([DS("contextformbutton"),PM,tB,Y$("original",Kt)]),PW=BM.concat([DS("contextformbutton"),PM,tB,Y$("original",Kt)]),LW=P2.concat([DS("contextformbutton")]),$W=BM.concat([DS("contextformtogglebutton")]),oB=R2("type",{contextformbutton:kW,contextformtogglebutton:PW});RS([DS("contextform"),eB("initValue",rt("")),ac,X$("commands",oB),N2("launch",R2("type",{contextformbutton:LW,contextformtogglebutton:$W}))].concat(NW));const BW=e=>{const n=e.ui.registry.getAll().popups,o=jo(n,v=>$M(v).fold(A=>{throw new Error(SW(A))},Kt)),r=Oh(xu(o,v=>v.trigger)),l=Gf(o);return{dataset:o,triggers:r,lookupByTrigger:v=>Dn(l,A=>A.trigger===v)}},FW=(e,n)=>{const o=Tl(n.load,50);e.on("keypress compositionend",r=>{r.which!==27&&o.throttle()}),e.on("keydown",r=>{const l=r.which;l===8?o.throttle():l===27&&n.cancelIfNecessary()}),e.on("remove",o.cancel)},HW=e=>{const n=Sa(),o=Ri(!1),r=n.isSet,l=()=>{r()&&(c7(e),TR(e),o.set(!1),n.clear())},h=H=>{r()||(hD(e,H.range),n.set({trigger:H.trigger,matchLength:H.text.length}))},v=Xl(()=>BW(e)),A=H=>n.get().map(te=>M$(e.dom,e.selection.getRng(),te.trigger).bind(Q=>xS(e,v,Q,H))).getOrThunk(()=>sW(e,v)),R=H=>{A(H).fold(l,te=>{h(te.context),te.lookupData.then(Q=>{n.get().map(ce=>{const Re=te.context;ce.trigger===Re.trigger&&(Re.text.length-ce.matchLength>=10?l():(n.set({...ce,matchLength:Re.text.length}),o.get()?$x(e,{lookupData:Q}):(o.set(!0),wR(e,{lookupData:Q}))))})})})};e.addCommand("mceAutocompleterReload",(H,te)=>{const Q=ke(te)?te.fetchOptions:{};R(Q)}),e.addCommand("mceAutocompleterClose",l),FW(e,{cancelIfNecessary:l,load:R})},sB=e=>(n,o,r={})=>{const l=n.getBody(),h={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:l,currentTarget:l,eventPhase:Event.AT_TARGET,originalTarget:l,explicitOriginalTarget:l,isTrusted:!1,srcElement:l,cancelable:!1,preventDefault:Mt,inputType:o},v=pi(new InputEvent(e));return n.dispatch(e,{...v,...h,...r})},FM=sB("input"),L2=sB("beforeinput"),rB=(e,n,o)=>{const r=o.keyCode===On.BACKSPACE?"deleteContentBackward":"deleteContentForward";h$([{keyCode:On.BACKSPACE,action:Io(iM,e)},{keyCode:On.BACKSPACE,action:Io(a2,e,!1)},{keyCode:On.DELETE,action:Io(a2,e,!0)},{keyCode:On.BACKSPACE,action:Io(ND,e,!1)},{keyCode:On.DELETE,action:Io(ND,e,!0)},{keyCode:On.BACKSPACE,action:Io(XD,e,n,!1)},{keyCode:On.DELETE,action:Io(XD,e,n,!0)},{keyCode:On.BACKSPACE,action:Io(MC,e,!1)},{keyCode:On.DELETE,action:Io(MC,e,!0)},{keyCode:On.BACKSPACE,action:Io(BD,e,!1)},{keyCode:On.DELETE,action:Io(BD,e,!0)},{keyCode:On.BACKSPACE,action:Io(nM,e,!1)},{keyCode:On.DELETE,action:Io(nM,e,!0)},{keyCode:On.BACKSPACE,action:Io(MD,e,!1)},{keyCode:On.DELETE,action:Io(MD,e,!0)},{keyCode:On.BACKSPACE,action:Io(dS,e,!1)},{keyCode:On.DELETE,action:Io(dS,e,!0)},{keyCode:On.BACKSPACE,action:Io(p2,e,!1)},{keyCode:On.DELETE,action:Io(p2,e,!0)}],o).filter(l=>e.selection.isEditable()).each(l=>{o.preventDefault(),L2(e,r).isDefaultPrevented()||(l(),FM(e,r))})},VW=(e,n,o)=>{const r=Bs(),l=r.os,h=r.browser,v=l.isMacOS()?[{keyCode:On.BACKSPACE,altKey:!0,action:Io(pw,e)},{keyCode:On.DELETE,altKey:!0,action:Io(pw,e)}]:[{keyCode:On.BACKSPACE,ctrlKey:!0,action:Io(pw,e)},{keyCode:On.DELETE,ctrlKey:!0,action:Io(pw,e)}];l.isMacOS()&&o&&v.push({keyCode:h.isFirefox()?224:91,action:Io(pw,e)}),ma([{keyCode:On.BACKSPACE,action:Io(LD,e)},{keyCode:On.DELETE,action:Io(LD,e)},...v],n)},zW=(e,n)=>{let o=!1;e.on("keydown",r=>{o=r.keyCode===On.BACKSPACE,r.isDefaultPrevented()||rB(e,n,r)}),e.on("keyup",r=>{r.isDefaultPrevented()||VW(e,r,o),o=!1})},SK=e=>{for(;e;){if(an(e)||Wt(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},r_=(e,n)=>{const o=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!n)return;if(/^(LI|DT|DD)$/.test(n.nodeName)){const h=SK(n.firstChild);h&&/^(UL|OL|DL)$/.test(h.nodeName)&&n.insertBefore(o.doc.createTextNode(Ts),n.firstChild)}const l=o.createRng();if(n.normalize(),n.hasChildNodes()){const h=new Ai(n,n);let v=n,A;for(;A=h.current();){if(Wt(A)){l.setStart(A,0),l.setEnd(A,0);break}if(r[A.nodeName.toLowerCase()]){l.setStartBefore(A),l.setEndBefore(A);break}v=A,A=h.next()}A||(l.setStart(v,0),l.setEnd(v,0))}else Lr(n)?n.nextSibling&&o.isBlock(n.nextSibling)?(l.setStartBefore(n),l.setEndBefore(n)):(l.setStartAfter(n),l.setEndAfter(n)):(l.setStart(n,0),l.setEnd(n,0));e.selection.setRng(l),Sn(e,l)},$2=(e,n)=>{const o=e.getRoot();let r,l=n;for(;l!==o&&l&&e.getContentEditable(l)!=="false";)e.getContentEditable(l)==="true"&&(r=l),l=l.parentNode;return l!==o?r:o},HM=e=>X.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),UW=e=>HM(e).fold(rt(""),n=>n.nodeName.toUpperCase()),iB=e=>HM(e).filter(n=>Ph(Ne.fromDom(n))).isSome(),WW=(e,n)=>e.firstChild&&e.firstChild.nodeName===n,aB=e=>{var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},cB=(e,n)=>{const o=e==null?void 0:e.parentNode;return He(o)&&o.nodeName===n},lB=e=>He(e)&&/^(OL|UL|LI)$/.test(e.nodeName),xK=e=>He(e)&&/^(LI|DT|DD)$/.test(e.nodeName),wu=e=>lB(e)&&lB(e.parentNode),B2=e=>{const n=e.parentNode;return xK(n)?n:e},F2=(e,n,o)=>{let r=e[o?"firstChild":"lastChild"];for(;r&&!an(r);)r=r[o?"nextSibling":"previousSibling"];return r===n},GW=(e,n,o,r,l)=>{const h=e.dom,v=e.selection.getRng(),A=o.parentNode;if(o===e.getBody()||!A)return;wu(o)&&(l="LI");let R=n(l);if(F2(o,r,!0)&&F2(o,r,!1))if(cB(o,"LI")){const H=B2(o);h.insertAfter(R,H),aB(o)?h.remove(H):h.remove(o)}else h.replace(R,o);else if(F2(o,r,!0))cB(o,"LI")?(h.insertAfter(R,B2(o)),R.appendChild(h.doc.createTextNode(" ")),R.appendChild(o)):A.insertBefore(R,o),h.remove(r);else if(F2(o,r,!1))h.insertAfter(R,B2(o)),h.remove(r);else{o=B2(o);const H=v.cloneRange();H.setStartAfter(r),H.setEndAfter(o);const te=H.extractContents();l==="LI"&&WW(te,"LI")?(R=te.firstChild,h.insertAfter(te,o)):(h.insertAfter(te,o),h.insertAfter(R,o)),h.remove(r)}r_(e,R)},jW=e=>{Ge(ad(Ne.fromDom(e),Rr),n=>{const o=n.dom;o.nodeValue=yl(o.data)})},qW=(e,n)=>{const o=e.dom.getParent(n,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},ZW=(e,n)=>n&&n.nodeName==="A"&&e.isEmpty(n),VM=e=>{e.innerHTML='<br data-mce-bogus="1">'},bw=(e,n)=>e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n,zM=(e,n)=>He(n)&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.isEditable(n.parentNode)&&e.getContentEditable(n)!=="false",YW=(e,n,o)=>{var r;const l=[];if(!o)return;let h=o;for(;h=h.firstChild;){if(e.isBlock(h))return;an(h)&&!n[h.nodeName.toLowerCase()]&&l.push(h)}let v=l.length;for(;v--;)h=l[v],(!h.hasChildNodes()||h.firstChild===h.lastChild&&((r=h.firstChild)===null||r===void 0?void 0:r.nodeValue)===""||ZW(e,h))&&e.remove(h)},MS=(e,n,o)=>Wt(n)?e?o===1&&n.data.charAt(o-1)===sa?0:o:o===n.data.length-1&&n.data.charAt(o)===sa?n.data.length:o:o,UM=e=>{const n=e.cloneRange();return n.setStart(e.startContainer,MS(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,MS(!1,e.endContainer,e.endOffset)),n},KW=e=>{let n=e;do Wt(n)&&(n.data=n.data.replace(/^[\r\n]+/,"")),n=n.firstChild;while(n)},AK=(e,n,o)=>{const r=e.dom;X.from(o.style).map(r.parseStyle).each(R=>{const te={...Nl(Ne.fromDom(n)),...R};r.setStyles(n,te)});const l=X.from(o.class).map(R=>R.split(/\s+/)),h=X.from(n.className).map(R=>Dn(R.split(/\s+/),H=>H!==""));wt(l,h,(R,H)=>{const te=Dn(H,ce=>!Fn(R,ce)),Q=[...R,...te];r.setAttrib(n,"class",Q.join(" "))});const v=["style","class"],A=Ws(o,(R,H)=>!Fn(v,H));r.setAttribs(n,A)},H2=(e,n)=>{if(wd(e).toLowerCase()===n.tagName.toLowerCase()){const r=ev(e);AK(e,n,r)}},XW=(e,n,o,r,l)=>{var h,v;const A=e.dom,R=(h=$2(A,r))!==null&&h!==void 0?h:A.getRoot();let H=A.getParent(r,A.isBlock);if(!H||!zM(A,H)){if(H=H||R,!H.hasChildNodes()){const Re=A.create(n);return H2(e,Re),H.appendChild(Re),o.setStart(Re,0),o.setEnd(Re,0),Re}let te=r;for(;te&&te.parentNode!==H;)te=te.parentNode;let Q;for(;te&&!A.isBlock(te);)Q=te,te=te.previousSibling;const ce=(v=Q==null?void 0:Q.parentElement)===null||v===void 0?void 0:v.nodeName;if(Q&&ce&&e.schema.isValidChild(ce,n.toLowerCase())){const Re=Q.parentNode,Me=A.create(n);for(H2(e,Me),Re.insertBefore(Me,Q),te=Q;te&&!A.isBlock(te);){const _e=te.nextSibling;Me.appendChild(te),te=_e}o.setStart(r,l),o.setEnd(r,l)}}return r},QW=(e,n)=>{n.normalize();const o=n.lastChild;(!o||an(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(n,"br")},OK=(e,n)=>{const o=zu(e);return It(n)?!1:ee(o)?Fn(Ce.explode(o),n.nodeName.toLowerCase()):o},uB={insert:(e,n)=>{let o,r,l,h,v=!1;const A=e.dom,R=e.schema,H=R.getNonEmptyElements(),te=e.selection.getRng(),Q=wd(e),ce=cn=>{let Qt=o;const pt=R.getTextInlineElements();let mt;cn||l==="TABLE"||l==="HR"?mt=A.create(cn||Q):mt=Fe.cloneNode(!1);let En=mt;if(xf(e)===!1)A.setAttrib(mt,"style",null),A.setAttrib(mt,"class",null);else do if(pt[Qt.nodeName]){if(tr(Qt)||jd(Qt))continue;const Bn=Qt.cloneNode(!1);A.setAttrib(Bn,"id",""),mt.hasChildNodes()?(Bn.appendChild(mt.firstChild),mt.appendChild(Bn)):(En=Bn,mt.appendChild(Bn))}while((Qt=Qt.parentNode)&&Qt!==We);return H2(e,mt),VM(En),mt},Re=cn=>{const Qt=MS(cn,o,r);if(Wt(o)&&(cn?Qt>0:Qt<o.data.length))return!1;if(o.parentNode===Fe&&v&&!cn||cn&&an(o)&&o===Fe.firstChild)return!0;if(bw(o,"TABLE")||bw(o,"HR"))return v&&!cn||!v&&cn;const pt=new Ai(o,Fe);Wt(o)&&(cn&&Qt===0?pt.prev():!cn&&Qt===o.data.length&&pt.next());let mt;for(;mt=pt.current();){if(an(mt)){if(!mt.getAttribute("data-mce-bogus")){const En=mt.nodeName.toLowerCase();if(H[En]&&En!=="br")return!1}}else if(Wt(mt)&&!ia(mt.data))return!1;cn?pt.prev():pt.next()}return!0},Me=()=>{let cn;return/^(H[1-6]|PRE|FIGURE)$/.test(l)&&Xe!=="HGROUP"?cn=ce(Q):cn=ce(),OK(e,h)&&zM(A,h)&&A.isEmpty(Fe)?cn=A.split(h,Fe):A.insertAfter(cn,Fe),r_(e,cn),cn};rg(A,te).each(cn=>{te.setStart(cn.startContainer,cn.startOffset),te.setEnd(cn.endContainer,cn.endOffset)}),o=te.startContainer,r=te.startOffset;const _e=!!(n&&n.shiftKey),Ie=!!(n&&n.ctrlKey);an(o)&&o.hasChildNodes()&&(v=r>o.childNodes.length-1,o=o.childNodes[Math.min(r,o.childNodes.length-1)]||o,v&&Wt(o)?r=o.data.length:r=0);const We=$2(A,o);if(!We||qW(e,o))return;_e||(o=XW(e,Q,te,o,r));let Fe=A.getParent(o,A.isBlock)||A.getRoot();h=He(Fe==null?void 0:Fe.parentNode)?A.getParent(Fe.parentNode,A.isBlock):null,l=Fe?Fe.nodeName.toUpperCase():"";const Xe=h?h.nodeName.toUpperCase():"";if(Xe==="LI"&&!Ie){const cn=h;Fe=cn,h=cn.parentNode,l=Xe}if(/^(LI|DT|DD)$/.test(l)&&an(h)&&A.isEmpty(Fe)){GW(e,ce,h,Fe,Q);return}if(Fe===e.getBody()||!zM(A,Fe))return;const lt=Fe.parentNode;let Ot;if(Nu(Fe))Ot=$g(Fe),A.isEmpty(Fe)&&VM(Fe),H2(e,Ot),r_(e,Ot);else if(Re(!1))Ot=Me();else if(Re(!0)&&lt)Ot=lt.insertBefore(ce(),Fe),r_(e,bw(Fe,"HR")?Ot:Fe);else{const cn=UM(te).cloneRange();cn.setEndAfter(Fe);const Qt=cn.extractContents();jW(Qt),KW(Qt),Ot=Qt.firstChild,A.insertAfter(Qt,Fe),YW(A,H,Ot),QW(A,Fe),A.isEmpty(Fe)&&VM(Fe),Ot.normalize(),A.isEmpty(Ot)?(A.remove(Ot),Me()):(H2(e,Ot),r_(e,Ot))}A.setAttrib(Ot,"id",""),e.dispatch("NewBlock",{newBlock:Ot})},fakeEventName:"insertParagraph"},JW=(e,n,o)=>{const r=new Ai(n,o);let l;const h=e.getNonEmptyElements();for(;l=r.next();)if(h[l.nodeName.toLowerCase()]||Wt(l)&&l.length>0)return!0;return!1},Y1=(e,n,o)=>{const r=e.dom.createRng();o?(r.setStartBefore(n),r.setEndBefore(n)):(r.setStartAfter(n),r.setEndAfter(n)),e.selection.setRng(r),Sn(e,r)},e9=(e,n)=>{const o=e.selection,r=e.dom,l=o.getRng();let h,v=!1;rg(r,l).each(Re=>{l.setStart(Re.startContainer,Re.startOffset),l.setEnd(Re.endContainer,Re.endOffset)});let A=l.startOffset,R=l.startContainer;if(an(R)&&R.hasChildNodes()){const Re=A>R.childNodes.length-1;R=R.childNodes[Math.min(A,R.childNodes.length-1)]||R,Re&&Wt(R)?A=R.data.length:A=0}let H=r.getParent(R,r.isBlock);const te=H&&H.parentNode?r.getParent(H.parentNode,r.isBlock):null,Q=te?te.nodeName.toUpperCase():"",ce=!!(n&&n.ctrlKey);Q==="LI"&&!ce&&(H=te),Wt(R)&&A>=R.data.length&&(JW(e.schema,R,H||r.getRoot())||(h=r.create("br"),l.insertNode(h),l.setStartAfter(h),l.setEndAfter(h),v=!0)),h=r.create("br"),mr(r,l,h),Y1(e,h,v),e.undoManager.add()},dB=(e,n)=>{const o=Ne.fromTag("br");bs(Ne.fromDom(n),o),e.undoManager.add()},t9=(e,n)=>{o9(e.getBody(),n)||kl(Ne.fromDom(n),Ne.fromTag("br"));const o=Ne.fromTag("br");kl(Ne.fromDom(n),o),Y1(e,o.dom,!1),e.undoManager.add()},n9=e=>Lr(e.getNode()),o9=(e,n)=>n9(Qe.after(n))?!0:Ii(e,Qe.after(n)).map(o=>Lr(o.getNode())).getOr(!1),fB=e=>e&&e.nodeName==="A"&&"href"in e,s9=e=>e.fold(nt,fB,fB,nt),r9=e=>{const n=Ze(Ly,e),o=Qe.fromRangeStart(e.selection.getRng());return Tv(n,e.getBody(),o).filter(s9)},i9=(e,n)=>{n.fold(Mt,Ze(dB,e),Ze(t9,e),Mt)},NS={insert:(e,n)=>{const o=r9(e);o.isSome()?o.each(Ze(i9,e)):e9(e,n)},fakeEventName:"insertLineBreak"},mB=(e,n)=>HM(e).filter(o=>n.length>0&&_a(Ne.fromDom(o),n)).isSome(),c9=e=>mB(e,g1(e)),l9=e=>mB(e,v1(e)),nm=Gd.generate([{br:[]},{block:[]},{none:[]}]),u9=(e,n)=>l9(e),WM=e=>(n,o)=>iB(n)===e,pB=(e,n)=>(o,r)=>UW(o)===e.toUpperCase()===n,gB=e=>{const n=$2(e.dom,e.selection.getStart());return It(n)},yw=e=>pB("pre",e),d9=()=>pB("summary",!0),V2=e=>(n,o)=>Ed(n)===e,GM=(e,n)=>c9(e),z2=(e,n)=>n,f9=e=>{const n=wd(e),o=$2(e.dom,e.selection.getStart());return He(o)&&e.schema.isValidChild(o.nodeName,n)},$f=(e,n)=>(o,r)=>Us(e,(h,v)=>h&&v(o,r),!0)?X.some(n):X.none(),h9=(e,n)=>Oz([$f([u9],nm.none()),$f([yw(!0),gB],nm.none()),$f([d9()],nm.br()),$f([yw(!0),V2(!1),z2],nm.br()),$f([yw(!0),V2(!1)],nm.block()),$f([yw(!0),V2(!0),z2],nm.block()),$f([yw(!0),V2(!0)],nm.br()),$f([WM(!0),z2],nm.br()),$f([WM(!0)],nm.block()),$f([GM],nm.br()),$f([z2],nm.br()),$f([f9],nm.block())],[e,!!(n&&n.shiftKey)]).getOr(nm.none()),_w=(e,n,o)=>{n.selection.isCollapsed()||rI(n),!(He(o)&&L2(n,e.fakeEventName).isDefaultPrevented())&&(e.insert(n,o),He(o)&&FM(n,e.fakeEventName))},U2=(e,n)=>{const o=()=>_w(NS,e,n),r=()=>_w(uB,e,n),l=h9(e,n);switch(zl(e)){case"linebreak":l.fold(o,o,Mt);break;case"block":l.fold(r,r,Mt);break;case"invert":l.fold(r,o,Mt);break;default:l.fold(o,r,Mt);break}},vB=(e,n)=>{n.isDefaultPrevented()||(n.preventDefault(),L8(e.undoManager),e.undoManager.transact(()=>{U2(e,n)}))},m9=e=>{e.on("keydown",n=>{n.keyCode===On.ENTER&&vB(e,n)})},IK=(e,n,o)=>{const r=cs.os.isMacOS()||cs.os.isiOS();ma([{keyCode:On.END,action:Io(u$,e,!0)},{keyCode:On.HOME,action:Io(u$,e,!1)},...r?[]:[{keyCode:On.HOME,action:Io(E2,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:On.END,action:Io(E2,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:On.END,action:Io(dM,e,!0)},{keyCode:On.HOME,action:Io(dM,e,!1)},{keyCode:On.END,action:Io(s_,e,!0,n)},{keyCode:On.HOME,action:Io(s_,e,!1,n)}],o).each(l=>{o.preventDefault()})},u0=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||IK(e,n,o)})},p9=e=>{e.on("input",n=>{n.isComposing||j6(e)})},g9=Bs(),v9=(e,n,o)=>{ma([{keyCode:On.PAGE_UP,action:Io(s_,e,!1,n)},{keyCode:On.PAGE_DOWN,action:Io(s_,e,!0,n)}],o)},kS=e=>e.stopImmediatePropagation(),jM=e=>e.keyCode===On.PAGE_UP||e.keyCode===On.PAGE_DOWN,qM=(e,n,o)=>{o&&!e.get()?n.on("NodeChange",kS,!0):!o&&e.get()&&n.off("NodeChange",kS),e.set(o)},b9=(e,n)=>{if(g9.os.isMacOS())return;const o=Ri(!1);e.on("keydown",r=>{jM(r)&&qM(o,e,!0)}),e.on("keyup",r=>{r.isDefaultPrevented()||v9(e,n,r),jM(r)&&o.get()&&(qM(o,e,!1),e.nodeChanged())})},ZM=(e,n)=>{const o=n.container(),r=n.offset();return Wt(o)?(o.insertData(r,e),X.some(Qe(o,r+e.length))):R1(n).map(l=>{const h=Ne.fromText(e);return n.isAtEnd()?kl(l,h):bs(l,h),Qe(h.dom,e.length)})},y9=Ze(ZM,Ts),_9=Ze(ZM," "),E9=e=>n=>n.fold(o=>Di(e.dom,Qe.before(o)),o=>vi(o),o=>hi(o),o=>Ii(e.dom,Qe.after(o))),bB=(e,n)=>o=>V6(e,o)?y9(n):_9(n),YM=e=>n=>(e.selection.setRng(n.toRange()),e.nodeChanged(),!0),w9=e=>{const n=Qe.fromRangeStart(e.selection.getRng()),o=Ne.fromDom(e.getBody());if(e.selection.isCollapsed()){const r=Ze(Ly,e),l=Qe.fromRangeStart(e.selection.getRng());return Tv(r,e.getBody(),l).bind(E9(o)).map(h=>()=>bB(o,n)(h).each(YM(e)))}else return X.none()},KM=(e,n)=>{h$([{keyCode:On.SPACEBAR,action:Io(w9,e)}],n).each(o=>{n.preventDefault(),L2(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),FM(e,"insertText",{data:" "}))})},yB=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||KM(e,n)})},W2=e=>uE(e)?[{keyCode:On.TAB,action:Io(wM,e,!0)},{keyCode:On.TAB,shiftKey:!0,action:Io(wM,e,!1)}]:[],_B=(e,n)=>{ma([...W2(e)],n).each(o=>{n.preventDefault()})},EB=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||_B(e,n)})},T9=e=>{if(e.addShortcut("Meta+P","","mcePrint"),HW(e),vv(e))return Ri(null);{const n=vS(e);return yU(e),KU(e,n),zW(e,n),m9(e),yB(e),p9(e),EB(e),u0(e,n),b9(e,n),n}};class C9{constructor(n){this.lastPath=[],this.editor=n;let o;const r=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",l=>{const h=n.selection.getRng(),v={startContainer:h.startContainer,startOffset:h.startOffset,endContainer:h.endContainer,endOffset:h.endOffset};(l.type==="nodechange"||!mC(v,o))&&n.dispatch("SelectionChange"),o=v}),n.on("contextmenu",()=>{n.dispatch("SelectionChange")}),n.on("SelectionChange",()=>{const l=n.selection.getStart(!0);l&&PT(n)&&!r.isSameElementPath(l)&&n.dom.isChildOf(l,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",l=>{!l.isDefaultPrevented()&&PT(n)&&(n.selection.getNode().nodeName==="IMG"?Mf.setEditorTimeout(n,()=>{n.nodeChanged()}):n.nodeChanged())})}nodeChanged(n={}){const o=this.editor.selection;let r;if(this.editor.initialized&&o&&!aT(this.editor)&&!this.editor.mode.isReadOnly()){const l=this.editor.getBody();r=o.getStart(!0)||l,(r.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(r,l))&&(r=l);const h=[];this.editor.dom.getParent(r,v=>v===l?!0:(h.push(v),!1)),this.editor.dispatch("NodeChange",{...n,element:r,parents:h})}}isSameElementPath(n){let o;const r=this.editor,l=lr(r.dom.getParents(n,Lt,r.getBody()));if(l.length===this.lastPath.length){for(o=l.length;o>=0&&l[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=l,!0}return this.lastPath=l,!1}}const PS="x-tinymce/html",LS=rt(PS),XM="<!-- "+PS+" -->",S9=e=>XM+e,wB=e=>e.replace(XM,""),TB=e=>e.indexOf(XM)!==-1,x9=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),A9=(e,n)=>{let o="<"+e;const r=xu(n,(l,h)=>h+'="'+St.encodeAllRaw(l)+'"');return r.length&&(o+=" "+r.join(" ")),o+">"},O9=(e,n,o)=>{const r=e.split(/\n\n/),l=A9(n,o),h="</"+n+">",v=en(r,R=>R.split(/\n/).join("<br />")),A=R=>l+R+h;return v.length===1?v[0]:en(v,A).join("")},CB="%MCEPASTEBIN%",SB=(e,n)=>{const{dom:o,selection:r}=e,l=e.getBody();n.set(r.getRng());const h=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},CB);cs.browser.isFirefox()&&o.setStyle(h,"left",o.getStyle(l,"direction",!0)==="rtl"?65535:-65535),o.bind(h,"beforedeactivate focusin focusout",v=>{v.stopPropagation()}),h.focus(),r.select(h,!0)},R9=(e,n)=>{const o=e.dom;if(G2(e)){let r;const l=n.get();for(;r=G2(e);)o.remove(r),o.unbind(r);l&&e.selection.setRng(l)}n.set(null)},G2=e=>e.dom.get("mcepastebin"),I9=e=>He(e)&&e.id==="mcepastebin",D9=e=>{const n=e.dom,o=(v,A)=>{v.appendChild(A),n.remove(A,!0)},[r,...l]=Dn(e.getBody().childNodes,I9);Ge(l,v=>{o(r,v)});const h=n.select("div[id=mcepastebin]",r);for(let v=h.length-1;v>=0;v--){const A=n.create("div");r.insertBefore(A,h[v]),o(A,h[v])}return r?r.innerHTML:""},xB=e=>e===CB,M9=e=>{const n=Ri(null);return{create:()=>SB(e,n),remove:()=>R9(e,n),getEl:()=>G2(e),getHtml:()=>D9(e),getLastRng:n.get}},AB=(e,n)=>(Ce.each(n,o=>{ve(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),Ew=e=>{const n=Uo(),o=s0({},n);let r="";const l=n.getVoidElements(),h=Ce.makeMap("script noscript style textarea video audio iframe object"," "),v=n.getBlockElements(),A=R=>{const H=R.name,te=R;if(H==="br"){r+=`
`;return}if(H!=="wbr"){if(l[H]&&(r+=" "),h[H]){r+=" ";return}if(R.type===3&&(r+=R.value),!(R.name in n.getVoidElements())){let Q=R.firstChild;if(Q)do A(Q);while(Q=Q.next)}v[H]&&te.next&&(r+=`
`,H==="p"&&(r+=`
`))}};return e=AB(e,[/<!\[[^\]]+\]>/g]),A(o.parse(e)),r},OB=e=>(e=AB(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,r,l)=>!r&&!l?" ":Ts],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),N9=e=>{let n=0;return()=>e+n++},RB=e=>{const n=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Ce.hasOwn(o,n)?"image/"+o[n]:"image/"+n},k9=(e,n)=>{const o=s0({sanitize:kb(e)},e.schema);o.addNodeFilter("meta",l=>{Ce.each(l,h=>{h.remove()})});const r=o.parse(n,{forced_root_block:!1,isRootContent:!0});return Kb({validate:!0},e.schema).serialize(r)},IB=(e,n)=>({content:e,cancelled:n}),P9=(e,n,o)=>{const r=e.dom.create("div",{style:"display:none"},n),l=CR(e,r,o);return IB(l.node.innerHTML,l.isDefaultPrevented())},DB=(e,n,o)=>{const r=sC(e,n,o),l=k9(e,r.content);return e.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?P9(e,l,o):IB(l,r.isDefaultPrevented())},L9=(e,n,o)=>DB(e,n,o),QM=(e,n)=>(e.insertContent(n,{merge:ey(e),paste:!0}),!0),MB=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),j2=(e,n)=>MB(n)&&ko(oy(e),o=>ed(n.toLowerCase(),`.${o.toLowerCase()}`)),$9=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.insertContent('<img src="'+n+'">')}),!0),B9=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.execCommand("mceInsertLink",!1,n)}),!0),F9=(e,n,o)=>!e.selection.isCollapsed()&&MB(n)?B9(e,n,o):!1,H9=(e,n,o)=>j2(e,n)?$9(e,n,o):!1,V9=(e,n)=>{Ce.each([F9,H9,QM],o=>!o(e,n,QM))},z9=(e,n,o)=>{o||!Of(e)?QM(e,n):V9(e,n)},U9=N9("mceclip"),NB=(e,n,o,r)=>{const l=L9(e,n,o);l.cancelled||z9(e,l.content,r)},q2=(e,n,o)=>{const r=o||TB(n);NB(e,wB(n),r,!1)},JM=(e,n)=>{const o=e.dom.encode(n).replace(/\r\n/g,`
`),r=pf(o,ty(e)),l=O9(r,wd(e),ev(e));NB(e,l,!1,!0)},kB=e=>{const n={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const r=e.types[o];try{n[r]=e.getData(r)}catch{n[r]=""}}return n},d0=(e,n)=>n in e&&e[n].length>0,PB=e=>d0(e,"text/html")||d0(e,"text/plain"),Hr=(e,n)=>{const o=n.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return He(o)?e.dom.encode(o[1]):void 0},W9=(e,n,o,r)=>{const l=U9(),h=cl(e)&&He(o.name),v=h?Hr(e,o.name):l,A=h?o.name:void 0,R=n.create(l,o,r,v,A);return n.add(R),R},LB=(e,n)=>{tw(n.uri).each(({data:o,type:r,base64Encoded:l})=>{const h=l?o:btoa(o),v=n.file,A=e.editorUpload.blobCache,R=A.getByData(h,r),H=R??W9(e,A,v,h);q2(e,`<img src="${H.blobUri()}">`,!1)})},G9=e=>e.type==="paste",eN=e=>Promise.all(en(e,n=>NL(n).then(o=>({file:n,uri:o})))),$B=e=>{const n=oy(e);return o=>Li(o.type,"image/")&&ko(n,r=>RB(r)===o.type)},BB=(e,n)=>{const o=n.items?Ya(Xs(n.items),l=>l.kind==="file"?[l.getAsFile()]:[]):[],r=n.files?Xs(n.files):[];return Dn(o.length>0?o:r,$B(e))},FB=(e,n,o)=>{const r=G9(n)?n.clipboardData:n.dataTransfer;if(Wp(e)&&r){const l=BB(e,r);if(l.length>0)return n.preventDefault(),eN(l).then(h=>{o&&e.selection.setRng(o),Ge(h,v=>{LB(e,v)})}),!0}return!1},HB=e=>{var n,o;return cs.os.isAndroid()&&((o=(n=e.clipboardData)===null||n===void 0?void 0:n.items)===null||o===void 0?void 0:o.length)===0},j9=e=>On.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,tN=(e,n,o,r)=>{let l=OB(o);const h=d0(n,LS())||TB(o),v=!h&&x9(l),A=MB(l);(xB(l)||!l.length||v&&!A)&&(r=!0),(r||A)&&(d0(n,"text/plain")&&v?l=n["text/plain"]:l=Ew(l)),!xB(l)&&(r?JM(e,l):q2(e,l,h))},VB=(e,n,o)=>{let r;const l=()=>n.getLastRng()||e.selection.getRng();e.on("keydown",h=>{j9(h)&&!h.isDefaultPrevented()&&(r=h.shiftKey&&h.keyCode===86)}),e.on("paste",h=>{if(h.isDefaultPrevented()||HB(h))return;const v=o.get()==="text"||r;r=!1;const A=kB(h.clipboardData);!PB(A)&&FB(e,h,l())||(d0(A,"text/html")?(h.preventDefault(),tN(e,A,A["text/html"],v)):d0(A,"text/plain")&&d0(A,"text/uri-list")?(h.preventDefault(),tN(e,A,A["text/plain"],v)):(n.create(),Mf.setEditorTimeout(e,()=>{const R=n.getHtml();n.remove(),tN(e,A,R,v)},0)))})},q9=e=>{const n=l=>Li(l,"webkit-fake-url"),o=l=>Li(l,"data:"),r=l=>{var h;return((h=l.data)===null||h===void 0?void 0:h.paste)===!0};e.parser.addNodeFilter("img",(l,h,v)=>{if(!Wp(e)&&r(v))for(const A of l){const R=A.attr("src");ee(R)&&!A.attr("data-mce-object")&&R!==cs.transparentSrc&&(n(R)||!iE(e)&&o(R))&&A.remove()}})},Z9=(e,n,o)=>{VB(e,n,o),q9(e)},Z2=(e,n)=>{n.get()==="text"?(n.set("html"),dv(e,!1)):(n.set("text"),dv(e,!0)),e.focus()},$S=(e,n)=>{e.addCommand("mceTogglePlainTextPaste",()=>{Z2(e,n)}),e.addCommand("mceInsertClipboardContent",(o,r)=>{r.html&&q2(e,r.html,r.internal),r.text&&JM(e,r.text)})},zB=(e,n,o)=>{if(e)try{return e.clearData(),e.setData("text/html",n),e.setData("text/plain",o),e.setData(LS(),n),!0}catch{return!1}else return!1},Sh=(e,n,o,r)=>{zB(e.clipboardData,n.html,n.text)?(e.preventDefault(),r()):o(n.html,r)},UB=e=>(n,o)=>{const{dom:r,selection:l}=e,h=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),v=r.create("div",{contenteditable:"true"},n);r.setStyles(h,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),h.appendChild(v),r.add(e.getBody(),h);const A=l.getRng();v.focus();const R=r.createRng();R.selectNodeContents(v),l.setRng(R),Mf.setEditorTimeout(e,()=>{l.setRng(A),r.remove(h),o()},0)},i_=e=>({html:S9(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),BS=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),WB=e=>!e.selection.isCollapsed()||BS(e),Y9=e=>n=>{!n.isDefaultPrevented()&&WB(e)&&Sh(n,i_(e),UB(e),()=>{if(cs.browser.isChromium()||cs.browser.isFirefox()){const o=e.selection.getRng();Mf.setEditorTimeout(e,()=>{e.selection.setRng(o),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},ww=e=>n=>{!n.isDefaultPrevented()&&WB(e)&&Sh(n,i_(e),UB(e),Mt)},K9=e=>{e.on("cut",Y9(e)),e.on("copy",ww(e))},Y2=(e,n)=>{var o,r;return Gb.getCaretRangeFromPoint((o=n.clientX)!==null&&o!==void 0?o:0,(r=n.clientY)!==null&&r!==void 0?r:0,e.getDoc())},nN=e=>{const n=e["text/plain"];return n?n.indexOf("file://")===0:!1},oN=(e,n)=>{e.focus(),n&&e.selection.setRng(n)},X9=e=>ko(e.files,n=>/^image\//.test(n.type)),Q9=(e,n,o,r)=>{const l=e.getParent(o,h=>hd(n,h));if(l&&jn(r,"text/html")){const h=new DOMParser().parseFromString(r["text/html"],"text/html").body;return!we(h.querySelector(l.nodeName.toLowerCase()))}else return!1},GB=(e,n)=>{Mb(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),Wp(e)||e.on("drop",o=>{const r=o.dataTransfer;r&&X9(r)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const r=Y2(e,o);if(It(r))return;const l=kB(o.dataTransfer),h=d0(l,LS());if((!PB(l)||nN(l))&&FB(e,o,r))return;const v=l[LS()],A=v||l["text/html"]||l["text/plain"],R=Q9(e.dom,e.schema,r.startContainer,l);n.get()&&!R||A&&(o.preventDefault(),Mf.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{v&&e.execCommand("Delete"),oN(e,r);const H=OB(A);l["text/html"]?q2(e,H,h):JM(e,H)})}))}),e.on("dragstart",o=>{n.set(!0)}),e.on("dragover dragend",o=>{Wp(e)&&!n.get()&&(o.preventDefault(),oN(e,Y2(e,o))),o.type==="dragend"&&n.set(!1)})},jB=e=>{const n=l=>h=>{l(e,h)},o=Nb(e);Te(o)&&e.on("PastePreProcess",n(o));const r=rE(e);Te(r)&&e.on("PastePostProcess",n(r))},J9=(e,n)=>{e.on("PastePreProcess",o=>{o.content=n(e,o.content,o.internal)})},eG=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,qB=e=>Ce.trim(e).replace(eG,Bb).toLowerCase(),ZB=(e,n,o)=>{const r=fh(e);if(o||r==="all"||!E1(e))return n;const l=r?r.split(/[, ]/):[];if(l&&r!=="none"){const h=e.dom,v=e.selection.getNode();n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(A,R,H,te)=>{const Q=h.parseStyle(h.decode(H)),ce={};for(let Me=0;Me<l.length;Me++){const _e=Q[l[Me]];let Ie=_e,We=h.getStyle(v,l[Me],!0);/color/.test(l[Me])&&(Ie=qB(Ie),We=qB(We)),We!==Ie&&(ce[l[Me]]=_e)}const Re=h.serializeStyle(ce,"span");return Re?R+' style="'+Re+'"'+te:R+te})}else n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return n=n.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(h,v,A,R)=>v+' style="'+A+'"'+R),n},tG=e=>{(cs.browser.isChromium()||cs.browser.isSafari())&&J9(e,ZB)},YB=e=>{const n=Ri(!1),o=Ri(zm(e)?"text":"html"),r=M9(e);tG(e),$S(e,o),jB(e),e.on("PreInit",()=>{K9(e),GB(e,n),Z9(e,r,o)})},nG=e=>{e.on("click",n=>{e.dom.getParent(n.target,"details")&&n.preventDefault()})},oG=e=>{e.parser.addNodeFilter("details",n=>{Ge(n,o=>{o.attr("data-mce-open",o.attr("open")),o.attr("open","open")})}),e.serializer.addNodeFilter("details",n=>{Ge(n,o=>{const r=o.attr("data-mce-open");o.attr("open",ee(r)?r:null),o.attr("data-mce-open",null)})})},KB=e=>{nG(e),oG(e)},sG=Lr,XB=Wt,rG=e=>gs(e.dom),QB=e=>Do(e.dom),JB=e=>n=>es(Ne.fromDom(e),n),iG=(e,n)=>ns(Ne.fromDom(e),o=>QB(o)||nc(o),JB(n)).getOr(Ne.fromDom(n)).dom,eF=(e,n)=>ns(Ne.fromDom(e),rG,JB(n)),tF=(e,n,o)=>{const r=new Ai(e,n),l=o?r.next.bind(r):r.prev.bind(r);let h=e;for(let v=o?e:l();v&&!sG(v);v=l())El(v)&&(h=v);return h},aG=(e,n)=>{const r=Qe.fromRangeStart(e).getNode(),l=iG(r,n),h=tF(r,l,!1),v=tF(r,l,!0),A=document.createRange();return eF(h,l).fold(()=>{XB(h)?A.setStart(h,0):A.setStartBefore(h)},R=>A.setStartBefore(R.dom)),eF(v,l).fold(()=>{XB(v)?A.setEnd(v,v.data.length):A.setEndAfter(v)},R=>A.setEndAfter(R.dom)),A},cG=e=>{const n=aG(e.selection.getRng(),e.getBody());e.selection.setRng(kC(n))},lG=e=>{e.on("mousedown",n=>{n.detail>=3&&(n.preventDefault(),cG(e))})};var a_;(function(e){e.Before="before",e.After="after"})(a_||(a_={}));const uG=(e,n)=>Math.abs(e.left-n),dG=(e,n)=>Math.abs(e.right-n),fG=(e,n)=>e>=n.top&&e<=n.bottom,hG=(e,n)=>e.top<n.bottom&&e.bottom>n.top,mG=(e,n)=>{const o=k0(e,n)/Math.min(e.height,n.height);return hG(e,n)&&o>.5},nF=(e,n)=>{const o=Dn(e,r=>fG(n,r));return N0(o).fold(()=>[[],e],r=>{const{pass:l,fail:h}=va(e,v=>mG(v,r));return[l,h]})},pG=(e,n)=>({node:e.node,position:uG(e,n)<dG(e,n)?a_.Before:a_.After}),gG=(e,n,o)=>n>e.left&&n<e.right?0:Math.min(Math.abs(e.left-n),Math.abs(e.right-n)),sN=(e,n,o)=>{const r=te=>El(te.node)?X.some(te):an(te.node)?sN(Xs(te.node.childNodes),n,o):X.none(),l=(te,Q)=>{if(te.length>=2){const ce=r(te[0]).getOr(te[0]),Re=r(te[1]).getOr(te[1]);if(Math.abs(Q(ce,n,o)-Q(Re,n,o))<2){if(Wt(ce.node))return X.some(ce);if(Wt(Re.node))return X.some(Re)}}return X.none()},h=(te,Q)=>{const ce=Ls(te,(Re,Me)=>Q(Re,n,o)-Q(Me,n,o));return l(ce,Q).orThunk(()=>_i(ce,r))},[v,A]=nF(t_(e),o),{pass:R,fail:H}=va(A,te=>te.top<o);return h(v,gG).orThunk(()=>h(H,$_)).orThunk(()=>h(R,$_))},vG=(e,n,o,r)=>{const l=(h,v)=>{const A=H=>an(H)&&H.classList.contains("mce-drag-container"),R=Dn(h.dom.childNodes,_o(A));return v.fold(()=>sN(R,o,r),H=>{const te=Dn(R,Q=>Q!==H.dom);return sN(te,o,r)}).orThunk(()=>(es(h,e)?X.none():Si(h)).bind(te=>l(te,X.some(h))))};return l(n,X.none())},bG=(e,n,o)=>{const r=Ne.fromDom(e),l=Dt(r),v=Ne.fromPoint(l,n,o).filter(A=>at(r,A)).getOr(r);return vG(r,v,n,o)},oF=(e,n,o)=>bG(e,n,o).filter(r=>Kh(r.node)).map(r=>pG(r,n)),sF=e=>{var n,o;const r=e.getBoundingClientRect(),l=e.ownerDocument,h=l.documentElement,v=l.defaultView;return{top:r.top+((n=v==null?void 0:v.scrollY)!==null&&n!==void 0?n:0)-h.clientTop,left:r.left+((o=v==null?void 0:v.scrollX)!==null&&o!==void 0?o:0)-h.clientLeft}},K2=e=>e.inline?sF(e.getBody()):{left:0,top:0},rF=e=>{const n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},yG=e=>{const n=e.getBody(),o=e.getDoc().documentElement,r={left:n.scrollLeft,top:n.scrollTop},l={left:n.scrollLeft||o.scrollLeft,top:n.scrollTop||o.scrollTop};return e.inline?r:l},iF=(e,n)=>{if(n.target.ownerDocument!==e.getDoc()){const o=sF(e.getContentAreaContainer()),r=yG(e);return{left:n.pageX-o.left+r.left,top:n.pageY-o.top+r.top}}return{left:n.pageX,top:n.pageY}},aF=(e,n,o)=>({pageX:o.left-e.left+n.left,pageY:o.top-e.top+n.top}),rN=(e,n)=>aF(K2(e),rF(e),iF(e,n)),_G=(e,n,o)=>({...n,dataTransfer:null,type:e,...o}),cF=(e,n)=>{const o=Ho("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,srcElement:null,target:null,timeStamp:0,type:e,composedPath:o,initEvent:o,preventDefault:Mt,stopImmediatePropagation:Mt,stopPropagation:Mt,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:o,initMouseEvent:o,getModifierState:o,dataTransfer:null,...n}},lF=e=>({target:e,srcElement:e}),uF=e=>n=>cF(e,lF(n)),iN=e=>(n,o)=>_G(e,n,lF(o)),dF=iN("dragstart"),EG=iN("drop"),wG=uF("dragend"),fF=iN("dragend"),f0=32,TG=100,X2=8,FS=16,hF=gs,CG=Qw(hF,Do),SG=(e,n,o)=>hF(o)&&o!==n&&e.isEditable(o.parentElement),xG=(e,n,o)=>It(n)||n===o||e.dom.isChildOf(n,o)?!1:e.dom.isEditable(n),AG=e=>{const n=e.cloneNode(!0);return n.removeAttribute("data-mce-selected"),n},Q2=(e,n,o,r)=>{const l=e.dom,h=n.cloneNode(!0);l.setStyles(h,{width:o,height:r}),l.setAttrib(h,"data-mce-selected",null);const v=l.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return l.setStyles(v,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:r}),l.setStyles(h,{margin:0,boxSizing:"border-box"}),v.appendChild(h),v},mF=(e,n)=>{e.parentNode!==n&&n.appendChild(e)},HS=(e,n)=>o=>()=>{const r=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:r+n,behavior:"smooth"})},pF=HS("left",-f0),gF=HS("left",f0),vF=HS("top",-f0),OG=HS("top",f0),RG=(e,n,o,r,l,h,v,A,R,H,te,Q)=>{let ce=0,Re=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+o>l&&(ce=n.pageX+o-l),n.pageY+r>h&&(Re=n.pageY+r-h),e.style.width=o-ce+"px",e.style.height=r-Re+"px";const Me=R.clientHeight,_e=R.clientWidth,Ie=v+R.getBoundingClientRect().top,We=A+R.getBoundingClientRect().left;te.on(Fe=>{Fe.intervalId.clear(),Fe.dragging&&Q&&(v+X2>=Me?Fe.intervalId.set(OG(H)):v-X2<=0?Fe.intervalId.set(vF(H)):A+X2>=_e?Fe.intervalId.set(gF(H)):A-X2<=0?Fe.intervalId.set(pF(H)):Ie+FS>=window.innerHeight?Fe.intervalId.set(OG(window)):Ie-FS<=0?Fe.intervalId.set(vF(window)):We+FS>=window.innerWidth?Fe.intervalId.set(gF(window)):We-FS<=0&&Fe.intervalId.set(pF(window)))})},J2=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},aN=(e,n)=>{const o=e.getParent(n.parentNode,e.isBlock);J2(n),o&&o!==e.getRoot()&&e.isEmpty(o)&&df(Ne.fromDom(o))},eO=e=>e.button===0,IG=(e,n)=>({pageX:n.pageX-e.relX,pageY:n.pageY+5}),DG=(e,n)=>o=>{if(eO(o)){const r=Is(n.dom.getParents(o.target),CG).getOr(null);if(He(r)&&SG(n.dom,n.getBody(),r)){const l=n.dom.getPos(r),h=n.getBody(),v=n.getDoc().documentElement;e.set({element:r,dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(n.inline?h.scrollWidth:v.offsetWidth)-2,maxY:(n.inline?h.scrollHeight:v.offsetHeight)-2,relX:o.pageX-l.x,relY:o.pageY-l.y,width:r.offsetWidth,height:r.offsetHeight,ghost:Q2(n,r,r.offsetWidth,r.offsetHeight),intervalId:Zs(TG)})}}},bF=(e,n,o)=>{e._selectionOverrides.hideFakeCaret(),oF(e.getBody(),n,o).fold(()=>e.selection.placeCaretAt(n,o),r=>{const l=e._selectionOverrides.showCaret(1,r.node,r.position===a_.Before,!1);l?e.selection.setRng(l):e.selection.placeCaretAt(n,o)})},MG=(e,n)=>{const o=yd((l,h)=>bF(n,l,h),0);n.on("remove",o.cancel);const r=e;return l=>e.on(h=>{const v=Math.max(Math.abs(l.screenX-h.screenX),Math.abs(l.screenY-h.screenY));if(!h.dragging&&v>10){if(n.dispatch("dragstart",dF(l,h.element)).isDefaultPrevented())return;h.dragging=!0,n.focus()}if(h.dragging){const A=l.currentTarget===n.getDoc().documentElement,R=IG(h,rN(n,l));mF(h.ghost,n.getBody()),RG(h.ghost,R,h.width,h.height,h.maxX,h.maxY,l.clientY,l.clientX,n.getContentAreaContainer(),n.getWin(),r,A),o.throttle(l.clientX,l.clientY)}})},cN=e=>{const n=e.getSel();if(He(n)){const r=n.getRangeAt(0).startContainer;return Wt(r)?r.parentNode:r}else return null},yF=(e,n)=>o=>{e.on(r=>{var l;if(r.intervalId.clear(),r.dragging){if(xG(n,cN(n.selection),r.element)){const h=AG(r.element),v=(l=n.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&l!==void 0?l:n.getBody();n.dispatch("drop",EG(o,v)).isDefaultPrevented()||n.undoManager.transact(()=>{aN(n.dom,r.element),n.insertContent(n.dom.getOuterHTML(h)),n._selectionOverrides.hideFakeCaret()})}n.dispatch("dragend",fF(o,n.getBody()))}}),lN(e)},_F=(e,n,o)=>{e.on(r=>{if(r.intervalId.clear(),r.dragging){const l=o.fold(()=>wG(r.element),h=>fF(h,r.element));n.dispatch("dragend",l)}}),lN(e)},NG=(e,n)=>o=>_F(e,n,X.some(o)),lN=e=>{e.on(n=>{n.intervalId.clear(),J2(n.ghost)}),e.clear()},kG=e=>{const n=Sa(),o=qs.DOM,r=document,l=DG(n,e),h=MG(n,e),v=yF(n,e),A=NG(n,e);e.on("mousedown",l),e.on("mousemove",h),e.on("mouseup",v),o.bind(r,"mousemove",h),o.bind(r,"mouseup",A),e.on("remove",()=>{o.unbind(r,"mousemove",h),o.unbind(r,"mouseup",A)}),e.on("keydown",R=>{R.keyCode===On.ESC&&_F(n,e,X.none())})},DK=e=>{const n=l=>{if(!l.isDefaultPrevented()){const h=l.dataTransfer;h&&(Fn(h.types,"Files")||h.files.length>0)&&(l.preventDefault(),l.type==="drop"&&aw(e,"Dropped file type is not supported"))}},o=l=>{Dy(e,l.target)&&n(l)},r=()=>{const l=qs.DOM,h=e.dom,v=document,A=e.inline?e.getBody():e.getDoc(),R=["drop","dragover"];Ge(R,H=>{l.bind(v,H,o),h.bind(A,H,n)}),e.on("remove",()=>{Ge(R,H=>{l.unbind(v,H,o),h.unbind(A,H,n)})})};e.on("init",()=>{Mf.setEditorTimeout(e,r,0)})},PG=e=>{kG(e),oE(e)&&DK(e)},LG=e=>{const n=yd(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const r=dw(e,o,!1);e.selection.setRng(r)}}},0);e.on("focus",()=>{n.throttle()}),e.on("blur",()=>{n.cancel()})},$G=e=>{e.on("init",()=>{e.on("focusin",n=>{const o=n.target;if(di(o)){const r=pv(e.getBody(),o),l=gs(r)?r:o;e.selection.getNode()!==l&&fS(e,l).each(h=>e.selection.setRng(h))}})})},Tw=gs,EF=(e,n)=>pv(e.getBody(),n),wF=e=>{const n=e.selection,o=e.dom,r=e.getBody(),l=ly(e,r,o.isBlock,()=>Yb(e)),h="sel-"+o.uniqueId(),v="data-mce-selected";let A;const R=Qt=>He(Qt)&&o.hasClass(Qt,"mce-offscreen-selection"),H=Qt=>Qt!==r&&(Tw(Qt)||di(Qt))&&o.isChildOf(Qt,r)&&o.isEditable(Qt.parentNode),te=Qt=>{Qt&&n.setRng(Qt)},Q=(Qt,pt,mt,En=!0)=>e.dispatch("ShowCaret",{target:pt,direction:Qt,before:mt}).isDefaultPrevented()?null:(En&&n.scrollIntoView(pt,Qt===-1),l.show(mt,pt)),ce=Qt=>{Qt.hasAttribute("data-mce-caret")&&($g(Qt),n.scrollIntoView(Qt))},Re=()=>{e.on("click",pt=>{o.isEditable(pt.target)||(pt.preventDefault(),e.focus())}),e.on("blur NewBlock",lt),e.on("ResizeWindow FullscreenStateChanged",l.reposition),e.on("tap",pt=>{const mt=pt.target,En=EF(e,mt);Tw(En)?(pt.preventDefault(),fS(e,En).each(Xe)):H(mt)&&fS(e,mt).each(Xe)},!0),e.on("mousedown",pt=>{const mt=pt.target;if(mt!==r&&mt.nodeName!=="HTML"&&!o.isChildOf(mt,r)||!Ky(e,pt.clientX,pt.clientY))return;lt(),cn();const En=EF(e,mt);Tw(En)?(pt.preventDefault(),fS(e,En).each(Xe)):oF(r,pt.clientX,pt.clientY).each(Bn=>{pt.preventDefault();const Xn=Q(1,Bn.node,Bn.position===a_.Before,!1);te(Xn),an(En)?En.focus():e.getBody().focus()})}),e.on("keypress",pt=>{On.modifierPressed(pt)||Tw(n.getNode())&&pt.preventDefault()}),e.on("GetSelectionRange",pt=>{let mt=pt.range;if(A){if(!A.parentNode){A=null;return}mt=mt.cloneRange(),mt.selectNode(A),pt.range=mt}}),e.on("SetSelectionRange",pt=>{pt.range=Ie(pt.range);const mt=Xe(pt.range,pt.forward);mt&&(pt.range=mt)});const Qt=pt=>an(pt)&&pt.id==="mcepastebin";e.on("AfterSetSelectionRange",pt=>{const mt=pt.range,En=mt.startContainer.parentElement;!_e(mt)&&!Qt(En)&&cn(),R(En)||lt()}),PG(e),LG(e),$G(e)},Me=Qt=>_l(Qt)||$h(Qt)||Sm(Qt),_e=Qt=>Me(Qt.startContainer)||Me(Qt.endContainer),Ie=Qt=>{const pt=e.schema.getVoidElements(),mt=o.createRng(),En=Qt.startContainer,Bn=Qt.startOffset,Xn=Qt.endContainer,Ro=Qt.endOffset;return jn(pt,En.nodeName.toLowerCase())?Bn===0?mt.setStartBefore(En):mt.setStartAfter(En):mt.setStart(En,Bn),jn(pt,Xn.nodeName.toLowerCase())?Ro===0?mt.setEndBefore(Xn):mt.setEndAfter(Xn):mt.setEnd(Xn,Ro),mt},We=(Qt,pt)=>{const mt=Ne.fromDom(e.getBody()),En=e.getDoc(),Bn=Tp(mt,"#"+h).getOrThunk(()=>{const rs=Ne.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',En);return Eo(rs,"id",h),kr(mt,rs),rs}),Xn=o.createRng();dr(Bn),lf(Bn,[Ne.fromText(Ts,En),Ne.fromDom(pt),Ne.fromText(Ts,En)]),Xn.setStart(Bn.dom.firstChild,1),Xn.setEnd(Bn.dom.lastChild,0),Ha(Bn,{top:o.getPos(Qt,e.getBody()).y+"px"}),oo(Bn);const Ro=n.getSel();return Ro&&(Ro.removeAllRanges(),Ro.addRange(Xn)),Xn},Fe=Qt=>{const pt=Qt.cloneNode(!0),mt=e.dispatch("ObjectSelected",{target:Qt,targetClone:pt});if(mt.isDefaultPrevented())return null;const En=We(Qt,mt.targetClone),Bn=Ne.fromDom(Qt);return Ge(yc(Ne.fromDom(e.getBody()),`*[${v}]`),Xn=>{es(Bn,Xn)||Ir(Xn,v)}),o.getAttrib(Qt,v)||Qt.setAttribute(v,"1"),A=Qt,cn(),En},Xe=(Qt,pt)=>{if(!Qt)return null;if(Qt.collapsed){if(!_e(Qt)){const Xn=pt?1:-1,Ro=rv(Xn,r,Qt),rs=Ro.getNode(!pt);if(He(rs)){if(Kh(rs))return Q(Xn,rs,pt?!Ro.isAtEnd():!1,!1);if(Tc(rs)&&gs(rs.nextSibling)){const xr=o.createRng();return xr.setStart(rs,0),xr.setEnd(rs,0),xr}}const zs=Ro.getNode(pt);if(He(zs)){if(Kh(zs))return Q(Xn,zs,pt?!1:!Ro.isAtEnd(),!1);if(Tc(zs)&&gs(zs.previousSibling)){const xr=o.createRng();return xr.setStart(zs,1),xr.setEnd(zs,1),xr}}}return null}let mt=Qt.startContainer,En=Qt.startOffset;const Bn=Qt.endOffset;if(Wt(mt)&&En===0&&Tw(mt.parentNode)&&(mt=mt.parentNode,En=o.nodeIndex(mt),mt=mt.parentNode),!an(mt))return null;if(Bn===En+1&&mt===Qt.endContainer){const Xn=mt.childNodes[En];if(H(Xn))return Fe(Xn)}return null},lt=()=>{A&&A.removeAttribute(v),Tp(Ne.fromDom(e.getBody()),"#"+h).each(Pr),A=null},Ot=()=>{l.destroy(),A=null},cn=()=>{l.hide()};return vv(e)||Re(),{showCaret:Q,showBlockCaretContainer:ce,hideFakeCaret:cn,destroy:Ot}},BG=(e,n)=>{let o=n;for(let r=e.previousSibling;Wt(r);r=r.previousSibling)o+=r.data.length;return o},TF=(e,n,o,r,l)=>{if(Wt(o)&&(r<0||r>o.data.length))return[];const h=l&&Wt(o)?[BG(o,r)]:[r];let v=o;for(;v!==n&&v.parentNode;)h.push(e.nodeIndex(v,l)),v=v.parentNode;return v===n?h.reverse():[]},uN=(e,n,o,r,l,h,v=!1)=>{const A=TF(e,n,o,r,v),R=TF(e,n,l,h,v);return{start:A,end:R}},CF=(e,n)=>{const o=n.slice(),r=o.pop();return bn(r)?Us(o,(h,v)=>h.bind(A=>X.from(A.childNodes[v])),X.some(e)).bind(h=>Wt(h)&&(r<0||r>h.data.length)?X.none():X.some({node:h,offset:r})):X.none()},SF=(e,n)=>CF(e,n.start).bind(({node:o,offset:r})=>CF(e,n.end).map(({node:l,offset:h})=>{const v=document.createRange();return v.setStart(o,r),v.setEnd(l,h),v})),xF=(e,n,o,r=!1)=>uN(e,n,o.startContainer,o.startOffset,o.endContainer,o.endOffset,r),VS=(e,n,o)=>{if(n&&e.isEmpty(n)&&!o(n)){const r=n.parentNode;e.remove(n),VS(e,r,o)}},tO=(e,n,o,r=!0)=>{const l=n.startContainer.parentNode,h=n.endContainer.parentNode;n.deleteContents(),r&&!o(n.startContainer)&&(Wt(n.startContainer)&&n.startContainer.data.length===0&&e.remove(n.startContainer),Wt(n.endContainer)&&n.endContainer.data.length===0&&e.remove(n.endContainer),VS(e,l,o),l!==h&&VS(e,h,o))},nO=(e,n)=>X.from(e.dom.getParent(n.startContainer,e.dom.isBlock)),AF=(e,n,o)=>{const r=e.dynamicPatternsLookup({text:o,block:n});return{...e,blockPatterns:ua(r).concat(e.blockPatterns),inlinePatterns:h1(r).concat(e.inlinePatterns)}},oO=(e,n,o,r)=>{const l=e.createRng();return l.setStart(n,0),l.setEnd(o,r),l.toString()},FG=e=>/^\s[^\s]/.test(e),OF=(e,n,o)=>{A$(n,0,n).each(l=>{const h=l.container;O$(h,o.start.length,n).each(R=>{const H=e.createRng();H.setStart(h,0),H.setEnd(R.container,R.offset),tO(e,H,te=>te===n)});const v=Ne.fromDom(h),A=ti(v);FG(A)&&kc(v,A.slice(1))})},HG=(e,n)=>{const o=e.dom,r=n.pattern,l=SF(o.getRoot(),n.range).getOrDie("Unable to resolve path range"),h=(v,A)=>{const R=A.get(v);return V(R)&&ai(R).exists(H=>jn(H,"block"))};return nO(e,l).each(v=>{r.type==="block-format"?h(r.format,e.formatter)&&e.undoManager.transact(()=>{OF(e.dom,v,r),e.formatter.apply(r.format)}):r.type==="block-command"&&e.undoManager.transact(()=>{OF(e.dom,v,r),e.execCommand(r.cmd,!1,r.value)})}),!0},RF=e=>Ls(e,(n,o)=>o.start.length-n.start.length),sO=(e,n)=>{const o=RF(e),r=n.replace(Ts," ");return Is(o,l=>n.indexOf(l.start)===0||r.indexOf(l.start)===0)},IF=(e,n,o,r)=>{var l;const h=e.dom,v=wd(e);if(!h.is(n,v))return[];const A=(l=n.textContent)!==null&&l!==void 0?l:"";return sO(o.blockPatterns,A).map(R=>Ce.trim(A).length===R.start.length?[]:[{pattern:R,range:uN(h,h.getRoot(),n,0,n,0,r)}]).getOr([])},DF=(e,n)=>{if(n.length===0)return;const o=e.selection.getBookmark();Ge(n,r=>HG(e,r)),e.selection.moveToBookmark(o)},MF=(e,n)=>e.create("span",{"data-mce-type":"bookmark",id:n}),rO=(e,n)=>{const o=e.createRng();return o.setStartAfter(n.start),o.setEndBefore(n.end),o},dN=(e,n,o)=>{const r=SF(e.getRoot(),o).getOrDie("Unable to resolve path range"),l=r.startContainer,h=r.endContainer,v=r.endOffset===0?h:h.splitText(r.endOffset),A=r.startOffset===0?l:l.splitText(r.startOffset),R=A.parentNode,H=v.parentNode;return{prefix:n,end:H.insertBefore(MF(e,n+"-end"),v),start:R.insertBefore(MF(e,n+"-start"),A)}},NF=(e,n,o)=>{VS(e,e.get(n.prefix+"-end"),o),VS(e,e.get(n.prefix+"-start"),o)},fN=e=>e.start.length===0,VG=e=>(n,o)=>{const l=n.data.substring(0,o),h=l.lastIndexOf(e.charAt(e.length-1)),v=l.lastIndexOf(e);return v!==-1?v+e.length:h!==-1?h+1:-1},iO=(e,n,o,r)=>{const l=n.start;return C2(e,r.container,r.offset,VG(l),o).bind(v=>{var A,R;const H=(R=(A=o.textContent)===null||A===void 0?void 0:A.indexOf(l))!==null&&R!==void 0?R:-1;if(H!==-1&&v.offset>=H+l.length){const Q=e.createRng();return Q.setStart(v.container,v.offset-l.length),Q.setEnd(v.container,v.offset),X.some(Q)}else{const Q=v.offset-l.length;return CM(v.container,Q,o).map(ce=>{const Re=e.createRng();return Re.setStart(ce.container,ce.offset),Re.setEnd(v.container,v.offset),Re}).filter(ce=>ce.toString()===l).orThunk(()=>iO(e,n,o,mg(v.container,0)))}})},zG=(e,n,o,r,l,h=!1)=>{if(n.start.length===0&&!h){const v=e.createRng();return v.setStart(o,r),v.setEnd(o,r),X.some(v)}return TM(o,r,l).bind(v=>iO(e,n,l,v).bind(R=>{var H;if(h){if(R.endContainer===v.container&&R.endOffset===v.offset)return X.none();if(v.offset===0&&((H=R.endContainer.textContent)===null||H===void 0?void 0:H.length)===R.endOffset)return X.none()}return X.some(R)}))},UG=(e,n,o,r)=>{const l=e.dom,h=l.getRoot(),v=o.pattern,A=o.position.container,R=o.position.offset;return CM(A,R-o.pattern.end.length,n).bind(H=>{const te=uN(l,h,H.container,H.offset,A,R,r);if(fN(v))return X.some({matches:[{pattern:v,startRng:te,endRng:te}],position:H});{const Q=aO(e,o.remainingPatterns,H.container,H.offset,n,r),ce=Q.getOr({matches:[],position:H}),Re=ce.position;return zG(l,v,Re.container,Re.offset,n,Q.isNone()).map(_e=>{const Ie=xF(l,h,_e,r);return{matches:ce.matches.concat([{pattern:v,startRng:Ie,endRng:te}]),position:mg(_e.startContainer,_e.startOffset)}})}})},aO=(e,n,o,r,l,h)=>{const v=e.dom;return TM(o,r,v.getRoot()).bind(A=>{const R=oO(v,l,o,r);for(let H=0;H<n.length;H++){const te=n[H];if(!ed(R,te.end))continue;const Q=n.slice();Q.splice(H,1);const ce=UG(e,l,{pattern:te,remainingPatterns:Q,position:A},h);if(ce.isNone()&&r>0)return aO(e,n,o,r-1,l,h);if(ce.isSome())return ce}return X.none()})},kF=(e,n,o)=>{e.selection.setRng(o),n.type==="inline-format"?Ge(n.format,r=>{e.formatter.apply(r)}):e.execCommand(n.cmd,!1,n.value)},WG=(e,n,o,r)=>{const l=rO(e.dom,o);tO(e.dom,l,r),kF(e,n,l)},GG=(e,n,o,r,l)=>{const h=e.dom,v=rO(h,r),A=rO(h,o);tO(h,A,l),tO(h,v,l);const R={prefix:o.prefix,start:o.end,end:r.start},H=rO(h,R);kF(e,n,H)},PF=(e,n)=>{const o=I0("mce_textpattern"),r=ri(n,(l,h)=>{const v=dN(e,o+`_end${l.length}`,h.endRng);return l.concat([{...h,endMarker:v}])},[]);return ri(r,(l,h)=>{const v=r.length-l.length-1,A=fN(h.pattern)?h.endMarker:dN(e,o+`_start${v}`,h.startRng);return l.concat([{...h,startMarker:A}])},[])},LF=e=>Ls(e,(n,o)=>o.end.length-n.end.length),hN=(e,n)=>{const o=Or(e,r=>ko(n,l=>r.pattern.start===l.pattern.start&&r.pattern.end===l.pattern.end));return e.length===n.length?o?e:n:e.length>n.length?e:n},cO=(e,n,o,r,l,h)=>{const v=aO(e,l.inlinePatterns,o,r,n,h).fold(()=>[],R=>R.matches),A=aO(e,LF(l.inlinePatterns),o,r,n,h).fold(()=>[],R=>R.matches);return hN(v,A)},$F=(e,n)=>{if(n.length===0)return;const o=e.dom,r=e.selection.getBookmark(),l=PF(o,n);Ge(l,h=>{const v=o.getParent(h.startMarker.start,o.isBlock),A=R=>R===v;fN(h.pattern)?WG(e,h.pattern,h.endMarker,A):GG(e,h.pattern,h.startMarker,h.endMarker,A),NF(o,h.endMarker,A),NF(o,h.startMarker,A)}),e.selection.moveToBookmark(r)},mN=(e,n)=>{const o=e.selection.getRng();return nO(e,o).map(r=>{var l;const h=Math.max(0,o.startOffset),v=AF(n,r,(l=r.textContent)!==null&&l!==void 0?l:""),A=cO(e,r,o.startContainer,h,v,!0),R=IF(e,r,v,!0);return R.length>0||A.length>0?(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{e.insertContent(fi),$F(e,A),DF(e,R);const H=e.selection.getRng(),te=TM(H.startContainer,H.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),te.each(Q=>{const ce=Q.container;ce.data.charAt(Q.offset-1)===fi&&(ce.deleteData(Q.offset-1,1),VS(e.dom,ce.parentNode,Re=>Re===e.dom.getRoot()))})}),!0):!1}).getOr(!1)},jG=(e,n)=>{const o=e.selection.getRng();nO(e,o).map(r=>{const l=Math.max(0,o.startOffset-1),h=oO(e.dom,r,o.startContainer,l),v=AF(n,r,h),A=cO(e,r,o.startContainer,l,v,!1);A.length>0&&e.undoManager.transact(()=>{$F(e,A)})})},BF=(e,n,o)=>{for(let r=0;r<e.length;r++)if(o(e[r],n))return!0;return!1},FF=(e,n)=>BF(e,n,(o,r)=>o===r.keyCode&&!On.modifierPressed(r)),qG=(e,n)=>BF(e,n,(o,r)=>o.charCodeAt(0)===r.charCode),ZG=e=>{const n=[",",".",";",":","!","?"],o=[32],r=()=>Sf(hT(e),mT(e)),l=()=>vT(e);e.on("keydown",v=>{if(v.keyCode===13&&!On.modifierPressed(v)&&e.selection.isCollapsed()){const A=r();(A.inlinePatterns.length>0||A.blockPatterns.length>0||l())&&mN(e,A)&&v.preventDefault()}},!0);const h=()=>{if(e.selection.isCollapsed()){const v=r();(v.inlinePatterns.length>0||l())&&jG(e,v)}};e.on("keyup",v=>{FF(o,v)&&h()}),e.on("keypress",v=>{qG(n,v)&&Mf.setEditorTimeout(e,h)})},YG=e=>{ZG(e)},KG=e=>{const n=Ce.each,o=On.BACKSPACE,r=On.DELETE,l=e.dom,h=e.selection,v=e.parser,A=cs.browser,R=A.isFirefox(),H=A.isChromium()||A.isSafari(),te=cs.deviceType.isiPhone()||cs.deviceType.isiPad(),Q=cs.os.isMacOS()||cs.os.isiOS(),ce=(mn,Gn)=>{try{e.getDoc().execCommand(mn,!1,String(Gn))}catch{}},Re=mn=>mn.isDefaultPrevented(),Me=()=>{const mn=Kn=>{const gn=l.create("body"),Ko=Kn.cloneContents();return gn.appendChild(Ko),h.serializer.serialize(gn,{format:"html"})},Gn=Kn=>{const gn=mn(Kn),Ko=l.createRng();Ko.selectNode(e.getBody());const Xo=mn(Ko);return gn===Xo};e.on("keydown",Kn=>{const gn=Kn.keyCode;if(!Re(Kn)&&(gn===r||gn===o)&&e.selection.isEditable()){const Ko=e.selection.isCollapsed(),Xo=e.getBody();if(Ko&&!l.isEmpty(Xo)||!Ko&&!Gn(e.selection.getRng()))return;Kn.preventDefault(),e.setContent(""),Xo.firstChild&&l.isBlock(Xo.firstChild)?e.selection.setCursorLocation(Xo.firstChild,0):e.selection.setCursorLocation(Xo,0),e.nodeChanged()}})},_e=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},Ie=()=>{e.inline||l.bind(e.getDoc(),"mousedown mouseup",mn=>{let Gn;if(mn.target===e.getDoc().documentElement)if(Gn=h.getRng(),e.getBody().focus(),mn.type==="mousedown"){if(_l(Gn.startContainer))return;h.placeCaretAt(mn.clientX,mn.clientY)}else h.setRng(Gn)})},We=()=>{e.on("keydown",mn=>{if(!Re(mn)&&mn.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(h.isCollapsed()&&h.getRng().startOffset===0){const Gn=h.getNode(),Kn=Gn.previousSibling;if(Gn.nodeName==="HR"){l.remove(Gn),mn.preventDefault();return}Kn&&Kn.nodeName&&Kn.nodeName.toLowerCase()==="hr"&&(l.remove(Kn),mn.preventDefault())}}})},Fe=()=>{Range.prototype.getClientRects||e.on("mousedown",mn=>{if(!Re(mn)&&mn.target.nodeName==="HTML"){const Gn=e.getBody();Gn.blur(),Mf.setEditorTimeout(e,()=>{Gn.focus()})}})},Xe=()=>{const mn=Q0(e);e.on("click",Gn=>{const Kn=Gn.target;/^(IMG|HR)$/.test(Kn.nodeName)&&l.isEditable(Kn.parentNode)&&(Gn.preventDefault(),e.selection.select(Kn),e.nodeChanged()),Kn.nodeName==="A"&&l.hasClass(Kn,mn)&&Kn.childNodes.length===0&&l.isEditable(Kn.parentNode)&&(Gn.preventDefault(),h.select(Kn))})},lt=()=>{const mn=()=>{const Kn=l.getAttribs(h.getStart().cloneNode(!1));return()=>{const gn=h.getStart();gn!==e.getBody()&&(l.setAttrib(gn,"style",null),n(Kn,Ko=>{gn.setAttributeNode(Ko.cloneNode(!0))}))}},Gn=()=>!h.isCollapsed()&&l.getParent(h.getStart(),l.isBlock)!==l.getParent(h.getEnd(),l.isBlock);e.on("keypress",Kn=>{let gn;return!Re(Kn)&&(Kn.keyCode===8||Kn.keyCode===46)&&Gn()?(gn=mn(),e.getDoc().execCommand("delete",!1),gn(),Kn.preventDefault(),!1):!0}),l.bind(e.getDoc(),"cut",Kn=>{if(!Re(Kn)&&Gn()){const gn=mn();Mf.setEditorTimeout(e,()=>{gn()})}})},Ot=()=>{e.on("keydown",mn=>{if(!Re(mn)&&mn.keyCode===o&&h.isCollapsed()&&h.getRng().startOffset===0){const Gn=h.getNode().previousSibling;if(Gn&&Gn.nodeName&&Gn.nodeName.toLowerCase()==="table")return mn.preventDefault(),!1}return!0})},cn=()=>{e.on("keydown",mn=>{if(Re(mn)||mn.keyCode!==On.BACKSPACE)return;let Gn=h.getRng();const Kn=Gn.startContainer,gn=Gn.startOffset,Ko=l.getRoot();let Xo=Kn;if(!(!Gn.collapsed||gn!==0)){for(;Xo.parentNode&&Xo.parentNode.firstChild===Xo&&Xo.parentNode!==Ko;)Xo=Xo.parentNode;Xo.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,Xo),Gn=l.createRng(),Gn.setStart(Kn,0),Gn.setEnd(Kn,0),h.setRng(Gn))}})},Qt=()=>{const mn=()=>{ce("StyleWithCSS",!1),ce("enableInlineTableEditing",!1),Q_(e)||ce("enableObjectResizing",!1)};zp(e)||e.on("BeforeExecCommand mousedown",mn)},pt=()=>{const mn=()=>{n(l.select("a:not([data-mce-block])"),Gn=>{var Kn;let gn=Gn.parentNode;const Ko=l.getRoot();if((gn==null?void 0:gn.lastChild)===Gn){for(;gn&&!l.isBlock(gn);){if(((Kn=gn.parentNode)===null||Kn===void 0?void 0:Kn.lastChild)!==gn||gn===Ko)return;gn=gn.parentNode}l.add(gn,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",Gn=>{(Gn.type==="setcontent"||Gn.command==="mceInsertLink")&&mn()})},mt=()=>{e.on("init",()=>{ce("DefaultParagraphSeparator",wd(e))})},En=mn=>{const Gn=mn.getBody(),Kn=mn.selection.getRng();return Kn.startContainer===Kn.endContainer&&Kn.startContainer===Gn&&Kn.startOffset===0&&Kn.endOffset===Gn.childNodes.length},Bn=()=>{e.on("keyup focusin mouseup",mn=>{!On.modifierPressed(mn)&&!En(e)&&h.normalize()},!0)},Xn=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Ro=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},rs=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",mn=>{let Gn;mn.target.nodeName==="HTML"&&(Gn=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Gn),e.selection.normalize(),e.nodeChanged())}))},zs=()=>{Q&&e.on("keydown",mn=>{On.metaKeyPressed(mn)&&!mn.shiftKey&&(mn.keyCode===37||mn.keyCode===39)&&(mn.preventDefault(),e.selection.getSel().modify("move",mn.keyCode===37?"backward":"forward","lineboundary"))})},xr=()=>{e.on("click",mn=>{let Gn=mn.target;do if(Gn.tagName==="A"){mn.preventDefault();return}while(Gn=Gn.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Ki=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",mn=>{mn.preventDefault()})})},fl=()=>{v.addNodeFilter("br",mn=>{let Gn=mn.length;for(;Gn--;)mn[Gn].attr("class")==="Apple-interchange-newline"&&mn[Gn].remove()})},Oc=Mt,Yt=()=>{if(!R||e.removed)return!1;const mn=e.selection.getSel();return!mn||!mn.rangeCount||mn.rangeCount===0},kn=()=>{H&&(Ie(),Xe(),Ki(),_e(),te&&(Ro(),rs(),xr())),R&&(Fe(),Qt(),Xn(),zs())},Es=()=>{cn(),Me(),cs.windowsPhone||Bn(),H&&(Ie(),Xe(),mt(),Ki(),Ot(),fl(),te?(Ro(),rs(),xr()):_e()),R&&(We(),Fe(),lt(),Qt(),pt(),Xn(),zs(),Ot())};return vv(e)?kn():Es(),{refreshContentEditable:Oc,isHidden:Yt}},pN=qs.DOM,XG=(e,n)=>{const o=Ne.fromDom(e.getBody()),r=zo(fo(o)),l=Ne.fromTag("style");Eo(l,"type","text/css"),kr(l,Ne.fromText(n)),kr(r,l),e.on("remove",()=>{Pr(l)})},QG=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,lO=e=>Ws(e,n=>bt(n)===!1),HF=e=>{const n=e.options.get,o=e.editorUpload.blobCache;return lO({allow_conditional_comments:n("allow_conditional_comments"),allow_html_data_urls:n("allow_html_data_urls"),allow_svg_data_urls:n("allow_svg_data_urls"),allow_html_in_named_anchor:n("allow_html_in_named_anchor"),allow_script_urls:n("allow_script_urls"),allow_unsafe_link_target:n("allow_unsafe_link_target"),convert_fonts_to_spans:n("convert_fonts_to_spans"),fix_list_elements:n("fix_list_elements"),font_size_legacy_values:n("font_size_legacy_values"),forced_root_block:n("forced_root_block"),forced_root_block_attrs:n("forced_root_block_attrs"),preserve_cdata:n("preserve_cdata"),remove_trailing_brs:n("remove_trailing_brs"),inline_styles:n("inline_styles"),root_name:QG(e),sanitize:n("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},uO=e=>{const n=e.options.get;return lO({custom_elements:n("custom_elements"),extended_valid_elements:n("extended_valid_elements"),invalid_elements:n("invalid_elements"),invalid_styles:n("invalid_styles"),schema:n("schema"),valid_children:n("valid_children"),valid_classes:n("valid_classes"),valid_elements:n("valid_elements"),valid_styles:n("valid_styles"),verify_html:n("verify_html"),padd_empty_block_inline_children:n("format_empty_lines")})},JG=e=>{const n=e.options.get;return{...HF(e),...uO(e),...lO({url_converter:n("url_converter"),url_converter_scope:n("url_converter_scope"),element_format:n("element_format"),entities:n("entities"),entity_encoding:n("entity_encoding"),indent:n("indent"),indent_after:n("indent_after"),indent_before:n("indent_before")})}},ej=e=>{const n=s0(HF(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",(o,r)=>{const l=e.dom,h="data-mce-"+r;let v=o.length;for(;v--;){const A=o[v];let R=A.attr(r);if(R&&!A.attr(h)){if(R.indexOf("data:")===0||R.indexOf("blob:")===0)continue;r==="style"?(R=l.serializeStyle(l.parseStyle(R),A.name),R.length||(R=null),A.attr(h,R),A.attr(r,R)):r==="tabindex"?(A.attr(h,R),A.attr(r,null)):A.attr(h,e.convertURL(R,r,A.name))}}}),n.addNodeFilter("script",o=>{let r=o.length;for(;r--;){const l=o[r],h=l.attr("type")||"no/type";h.indexOf("mce-")!==0&&l.attr("type","mce-"+h)}}),aE(e)&&n.addNodeFilter("#cdata",o=>{var r;let l=o.length;for(;l--;){const h=o[l];h.type=8,h.name="#comment",h.value="[CDATA["+e.dom.encode((r=h.value)!==null&&r!==void 0?r:"")+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let r=o.length;const l=e.schema.getNonEmptyElements();for(;r--;){const h=o[r];h.isEmpty(l)&&h.getAll("br").length===0&&h.append(new qd("br",1))}}),n},tj=e=>{const n=dT(e);n&&Mf.setEditorTimeout(e,()=>{let o;n===!0?o=e:o=e.editorManager.get(n),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},nj=e=>{const n=e.dom.getRoot();!e.inline&&(!PT(e)||e.selection.getStart(!0)===n)&&vi(n).each(o=>{const r=o.getNode(),l=Yr(r)?vi(r).getOr(o):o;e.selection.setRng(l.toRange())})},oj=e=>{e.bindPendingEventDelegates(),e.initialized=!0,Cr(e),e.focus(!0),nj(e),e.nodeChanged({initial:!0});const n=sE(e);Te(n)&&n.call(e,e),tj(e)},VF=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,dO=(e,n,o)=>{const r=[VF(e).loadAll(n)];return e.inline?r:r.concat([e.ui.styleSheetLoader.loadAll(o)])},zF=e=>{const n=VF(e),o=tv(e),r=e.contentCSS,l=()=>{n.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(o)},h=()=>{e.removed?l():e.on("remove",l)};if(e.contentStyles.length>0){let R="";Ce.each(e.contentStyles,H=>{R+=H+`\r
`}),e.dom.addStyle(R)}const v=Promise.all(dO(e,r,o)).then(h).catch(h),A=X_(e);return A&&XG(e,A),v},sj=e=>{const n=e.getDoc(),o=e.getBody();YT(e),fT(e)||(n.body.spellcheck=!1,pN.setAttrib(o,"spellcheck","false")),e.quirks=KG(e),KT(e);const r=sT(e);r!==void 0&&(o.dir=r);const l=Af(e);l&&e.on("BeforeSetContent",h=>{Ce.each(l,v=>{h.content=h.content.replace(v,A=>"<!--mce:protected "+escape(A)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",h=>{e.composing=h.type==="compositionstart"})},rj=e=>{vv(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},gN=e=>{e.removed!==!0&&(rj(e),oj(e))},UF=e=>{const n=e.getElement();let o=e.getDoc();e.inline&&(pN.addClass(n,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=n,e.contentAreaContainer=n);const r=e.getBody();r.disabled=!0,e.readonly=zp(e),e.readonly||(e.inline&&pN.getStyle(r,"position",!0)==="static"&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,e.editorUpload=_D(e),e.schema=Uo(uO(e)),e.dom=qs(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:As(e),referrerPolicy:Hp(e),onSetAttrib:v=>{e.dispatch("SetAttrib",v)}}),e.parser=ej(e),e.serializer=gD(JG(e),e),e.selection=G1(e.dom,e.getWin(),e.serializer,e),e.annotator=Sy(e),e.formatter=lS(e),e.undoManager=CD(e),e._nodeChangeDispatcher=new C9(e),e._selectionOverrides=wF(e),s$(e),KB(e),a$(e),vv(e)||(lG(e),YG(e));const l=T9(e);fU(e,l),gU(e),Z7(e),YB(e);const h=q8(e);sj(e),h.fold(()=>{zF(e).then(()=>gN(e))},v=>{e.setProgressState(!0),zF(e).then(()=>{v().then(A=>{e.setProgressState(!1),gN(e),ep(e)},A=>{e.notificationManager.open({type:"error",text:String(A)}),gN(e),ep(e)})})})},ij=Lt,aj=(e,n,o)=>rb(e,n,ij,o),vN=qs.DOM,cj=(e,n,o,r)=>{const l=Ne.fromTag("iframe");return r.each(h=>Eo(l,"tabindex",h)),ei(l,o),ei(l,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),kd(l,"tox-edit-area__iframe"),l},WF=e=>{let n=j_(e)+"<html><head>";Wa(e)!==e.documentBaseUrl&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=nT(e),r=q_(e),l=e.translate(J0(e));return Z_(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+Z_(e)+'" />'),n+=`</head><body id="${o}" class="mce-content-body ${r}" data-id="${e.id}" aria-label="${l}"><br></body></html>`,n},lj=(e,n)=>{const o=e.translate("Rich Text Area"),r=pc(Ne.fromDom(e.getElement()),"tabindex").bind(Md),l=cj(e.id,o,Bt(e),r).dom;l.onload=()=>{l.onload=null,e.dispatch("load")},e.contentAreaContainer=n.iframeContainer,e.iframeElement=l,e.iframeHTML=WF(e),vN.add(n.iframeContainer,l)},GF=e=>{const n=e.iframeElement,o=aj(Ne.fromDom(n),"load",()=>{o.unbind(),e.contentDocument=n.contentDocument,UF(e)});if(cs.browser.isFirefox()){const r=e.getDoc();r.open(),r.write(e.iframeHTML),r.close()}else n.srcdoc=e.iframeHTML},uj=(e,n)=>{lj(e,n),n.editorContainer&&(n.editorContainer.style.display=e.orgDisplay,e.hidden=vN.isHidden(n.editorContainer)),e.getElement().style.display="none",vN.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,GF(e)},jF=qs.DOM,qF=(e,n,o)=>{const r=tp.get(o),l=tp.urls[o]||e.documentBaseUrl.replace(/\/$/,"");if(o=Ce.trim(o),r&&Ce.inArray(n,o)===-1){if(e.plugins[o])return;try{const h=r(e,l)||{};e.plugins[o]=h,Te(h.init)&&(h.init(e,l),n.push(o))}catch(h){Q4(e,o,h)}}},zS=e=>e.replace(/^\-/,""),dj=e=>{const n=[];Ge(X0(e),o=>{qF(e,n,zS(o))})},ZF=e=>{const n=Ce.trim(xb(e)),o=e.ui.registry.getAll().icons,r={...ZA.get("default").icons,...ZA.get(n).icons};dn(r,(l,h)=>{jn(o,h)||e.ui.registry.addIcon(h,l)})},fj=e=>{const n=dh(e);if(ee(n)){const o=_v.get(n);e.theme=o(e,_v.urls[n])||{},Te(e.theme.init)&&e.theme.init(e,_v.urls[n]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},hj=e=>{const n=Td(e),o=iw.get(n);e.model=o(e,iw.urls[n])},mj=e=>{const n=e.theme.renderUI;return n?n():yN(e)},pj=e=>{const n=e.getElement(),r=dh(e)(e,n);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:n.offsetHeight,r},bN=(e,n)=>({editorContainer:e,iframeContainer:n,api:{}}),gj=e=>{const n=jF.create("div");return jF.insertAfter(n,e),bN(n,n)},yN=e=>{const n=e.getElement();return e.inline?bN(null):gj(n)},vj=e=>{const n=e.getElement();return e.orgDisplay=n.style.display,ee(dh(e))?mj(e):Te(dh(e))?pj(e):yN(e)},bj=(e,n)=>{const o={show:X.from(n.show).getOr(Mt),hide:X.from(n.hide).getOr(Mt),isEnabled:X.from(n.isEnabled).getOr(Lt),setEnabled:r=>{e.mode.isReadOnly()||X.from(n.setEnabled).each(l=>l(r))}};e.ui={...e.ui,...o}},yj=async e=>{e.dispatch("ScriptsLoaded"),ZF(e),fj(e),hj(e),dj(e);const n=await vj(e);bj(e,X.from(n.api).getOr({})),e.editorContainer=n.editorContainer,P7(e),e.inline?UF(e):uj(e,{editorContainer:n.editorContainer,iframeContainer:n.iframeContainer})},c_=qs.DOM,YF=e=>e.charAt(0)==="-",_j=(e,n)=>{const o=Dr(n),r=K_(n);if(!wf.hasCode(o)&&o!=="en"){const l=$s(r)?r:`${n.editorManager.baseURL}/langs/${o}.js`;e.add(l).catch(()=>{K4(n,l,o)})}},Ej=(e,n)=>{const o=dh(e);if(ee(o)&&!YF(o)&&!jn(_v.urls,o)){const r=Ib(e),l=r?e.documentBaseURI.toAbsolute(r):`themes/${o}/theme${n}.js`;_v.load(o,l).catch(()=>{JA(e,l,o)})}},wj=(e,n)=>{const o=Td(e);if(o!=="plugin"&&!jn(iw.urls,o)){const r=ir(e),l=ee(r)?e.documentBaseURI.toAbsolute(r):`models/${o}/model${n}.js`;iw.load(o,l).catch(()=>{X4(e,l,o)})}},Tj=e=>X.from(Ab(e)).filter($s).map(n=>({url:n,name:X.none()})),_N=(e,n,o)=>X.from(n).filter(r=>$s(r)&&!ZA.has(r)).map(r=>({url:`${e.editorManager.baseURL}/icons/${r}/icons${o}.js`,name:X.some(r)})),EN=(e,n,o)=>{const r=_N(n,"default",o),l=Tj(n).orThunk(()=>_N(n,xb(n),""));Ge(ot([r,l]),h=>{e.add(h.url).catch(()=>{Y4(n,h.url,h.name.getOrUndefined())})})},KF=(e,n)=>{const o=(r,l)=>{tp.load(r,l).catch(()=>{Z4(e,l,r)})};dn(Up(e),(r,l)=>{o(l,r),e.options.set("plugins",X0(e).concat(l))}),Ge(X0(e),r=>{r=Ce.trim(r),r&&!tp.urls[r]&&!YF(r)&&o(r,`plugins/${r}/plugin${n}.js`)})},XF=e=>{const n=dh(e);return!ee(n)||He(_v.get(n))},Cj=e=>{const n=Td(e);return He(iw.get(n))},Sj=(e,n)=>{const o=Hd.ScriptLoader,r=()=>{!e.removed&&XF(e)&&Cj(e)&&yj(e)};Ej(e,n),wj(e,n),_j(o,e),EN(o,e,n),KF(e,n),o.loadQueue().then(r,r)},xj=(e,n)=>pd.forElement(e,{contentCssCors:K0(n),referrerPolicy:Hp(n)}),QF=e=>{const n=e.id;wf.setCode(Dr(e));const o=()=>{c_.unbind(window,"ready",o),e.render()};if(!rl.Event.domLoaded){c_.bind(window,"ready",o);return}if(!e.getElement())return;const r=Ne.fromDom(e.getElement()),l=Yf(r);e.on("remove",()=>{Gc(r.dom.attributes,v=>Ir(r,v.name)),ei(r,l)}),e.ui.styleSheetLoader=xj(r,e),Y0(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const h=e.getElement().form||c_.getParent(n,"form");h&&(e.formElement=h,nE(e)&&!Cm(e.getElement())&&(c_.insertAfter(c_.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=v=>{e.dispatch(v.type,v)},c_.bind(h,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),Vc(e)&&!h.submit.nodeType&&!h.submit.length&&!h._mceOldSubmit&&(h._mceOldSubmit=h.submit,h.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),h._mceOldSubmit(h)))),e.windowManager=yD(e),e.notificationManager=i0(e),lE(e)&&e.on("GetContent",v=>{v.save&&(v.content=c_.encode(v.content))}),Uu(e)&&e.on("submit",()=>{e.initialized&&e.save()}),rT(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),Sj(e,e.suffix)},JF=(e,n)=>({sections:rt(e),options:rt(n)}),e5=Bs().deviceType,t5=e5.isPhone(),wN=e5.isTablet(),h0=e=>{if(It(e))return[];{const n=V(e)?e:e.split(/[ ,]/),o=en(n,td);return Dn(o,$s)}},fO=(e,n)=>{const o=Qu(n,(r,l)=>Fn(e,l));return JF(o.t,o.f)},K1=(e,n,o={})=>{const r=e.sections(),l=gr(r,n).getOr({});return Ce.extend({},o,l)},Cw=(e,n)=>jn(e.sections(),n),Sw=(e,n)=>Cw(e,n)?e.sections()[n]:{},n5=(e,n)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:gr(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...n?{menubar:!1}:{}}),Aj=(e,n)=>{var o;const r=(o=n.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?Ce.extend({},e.external_plugins,r):r},Oj=(e,n)=>[...h0(e),...h0(n)],o5=(e,n,o,r)=>e&&Cw(n,"mobile")?r:o,Rj=(e,n,o,r)=>{const l=h0(o.forced_plugins),h=h0(r.plugins),v=Sw(n,"mobile"),A=v.plugins?h0(v.plugins):h,R=o5(e,n,h,A),H=Oj(l,R);return Ce.extend(r,{forced_plugins:l,plugins:H})},TN=(e,n)=>e&&Cw(n,"mobile"),hO=(e,n,o,r,l)=>{var h;const v=e?{mobile:n5((h=l.mobile)!==null&&h!==void 0?h:{},n)}:{},A=fO(["mobile"],A2(v,l)),R=Ce.extend(o,r,A.options(),TN(e,A)?K1(A,"mobile"):{},{external_plugins:Aj(r,A.options())});return Rj(e,A,r,R)},m0=(e,n)=>hO(t5||wN,t5,n,e,n),l_=(e,n)=>oK(e,n),s5=e=>{const n=(r,l)=>{e.formatter.toggle(r,l),e.nodeChanged()},o=r=>()=>{Ge("left,center,right,justify".split(","),l=>{r!==l&&e.formatter.remove("align"+l)}),r!=="none"&&n("align"+r)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},Ij=e=>{const n=o=>()=>{const r=e.selection,l=r.isCollapsed()?[e.dom.getParent(r.getNode(),e.dom.isBlock)]:r.getSelectedBlocks();return ko(l,h=>He(e.formatter.matchNode(h,o)))};e.editorCommands.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify")},"state")},Dj=e=>{s5(e),Ij(e)},Mj=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":n=>{const o=e.getDoc();let r;try{o.execCommand(n)}catch{r=!0}if(n==="paste"&&!o.queryCommandEnabled(n)&&(r=!0),r||!o.queryCommandSupported(n)){let l=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(cs.os.isMacOS()||cs.os.isiOS())&&(l=l.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:l,type:"error"})}}})},Nj=(e,n,o)=>{const r=Ne.fromDom(e.getRoot());return GE(r,Qe.fromRangeStart(n))?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),TC(r,Qe.fromRangeEnd(n))?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},kj=e=>{if(typeof e!="string"){const n=Ce.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},Pj=(e,n)=>{const o=e.selection,r=e.dom;return/^ | $/.test(n)?Nj(r,o.getRng(),n):n},US=(e,n)=>{if(e.selection.isEditable()){const{content:o,details:r}=kj(n);tD(e,{...r,content:Pj(e,o),format:"html",set:!1,selection:!0}).each(l=>{const h=i7(e,l.content,r);XC(e,h,l),e.addVisual()})}},Lj=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const n=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(n)},insertImage:(n,o,r)=>{US(e,e.dom.createHTML("img",{src:r}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(n,o,r)=>{US(e,e.dom.encode(r))},insertHTML:(n,o,r)=>{US(e,r)},mceInsertContent:(n,o,r)=>{US(e,r)},mceSetContent:(n,o,r)=>{e.setContent(r)},mceReplaceContent:(n,o,r)=>{e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent("")}})},$j={"font-size":"size","font-family":"face"},Bj=La("font"),MK=(e,n,o)=>{const r=h=>oa(h,e).orThunk(()=>Bj(h)?gr($j,e).bind(v=>pc(h,v)):X.none()),l=h=>es(Ne.fromDom(n),h);return _A(Ne.fromDom(o),h=>r(h),l)},Fj=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),CN=(e,n)=>X.from(qs.DOM.getStyle(n,e,!0)),r5=e=>(n,o)=>X.from(o).map(Ne.fromDom).filter(ps).bind(r=>MK(e,n,r.dom).or(CN(e,r.dom))).getOr(""),Hj=r5("font-size"),i5=F(Fj,r5("font-family")),Vj=e=>vi(e.getBody()).bind(n=>{const o=n.container();return X.from(Wt(o)?o.parentNode:o)}),a5=e=>X.from(e.selection.getRng()).bind(n=>{const o=e.getBody();return n.startContainer===o&&n.startOffset===0?X.none():X.from(e.selection.getStart(!0))}),zj=(e,n)=>a5(e).orThunk(Ze(Vj,e)).map(Ne.fromDom).filter(ps).bind(n),WS=(e,n)=>zj(e,Nt(X.some,n)),c5=(e,n)=>{if(/^[0-9.]+$/.test(n)){const o=parseInt(n,10);if(o>=1&&o<=7){const r=bT(e),l=yT(e);return l.length>0?l[o-1]||n:r[o-1]||n}else return n}else return n},Uj=e=>{const n=e.split(/\s*,\s*/);return en(n,o=>o.indexOf(" ")!==-1&&!(Li(o,'"')||Li(o,"'"))?`'${o}'`:o).join(",")},Wj=(e,n)=>{const o=c5(e,n);e.formatter.toggle("fontname",{value:Uj(o)}),e.nodeChanged()},Gj=e=>WS(e,n=>i5(e.getBody(),n.dom)).getOr(""),l5=(e,n)=>{e.formatter.toggle("fontsize",{value:c5(e,n)}),e.nodeChanged()},SN=e=>WS(e,n=>Hj(e.getBody(),n.dom)).getOr(""),u5=e=>WS(e,n=>{const o=Ne.fromDom(e.getBody()),r=_A(n,h=>oa(h,"line-height"),Ze(es,o)),l=()=>{const h=parseFloat(el(n,"line-height")),v=parseFloat(el(n,"font-size"));return String(h/v)};return r.getOrThunk(l)}).getOr(""),xN=(e,n)=>{e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},jj=e=>{const n=(o,r)=>{e.formatter.toggle(o,r),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{n(o)},"ForeColor,HiliteColor":(o,r,l)=>{n(o,{value:l})},BackColor:(o,r,l)=>{n("hilitecolor",{value:l})},FontName:(o,r,l)=>{Wj(e,l)},FontSize:(o,r,l)=>{l5(e,l)},LineHeight:(o,r,l)=>{xN(e,l)},Lang:(o,r,l)=>{var h;n(o,{value:l.code,customValue:(h=l.customCode)!==null&&h!==void 0?h:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{n("blockquote")},FormatBlock:(o,r,l)=>{n(ee(l)?l:"p")},mceToggleFormat:(o,r,l)=>{n(l)}})},NK=e=>{const n=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>n(o),mceBlockQuote:()=>n("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>Gj(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>SN(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>u5(e))},kK=e=>{jj(e),NK(e)},qj=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},d5=e=>{e.editorCommands.addCommands({Indent:()=>{v2(e)},Outdent:()=>{rM(e)}}),e.editorCommands.addCommands({Outdent:()=>lU(e)},"state")},Zj=e=>{const n=(o,r,l)=>{const h=ee(l)?{href:l}:l,v=e.dom.getParent(e.selection.getNode(),"a");ke(h)&&ee(h.href)&&(h.href=h.href.replace(/ /g,"%20"),(!v||!h.href)&&e.formatter.remove("link"),h.href&&e.formatter.apply("link",h,v))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")},mceInsertLink:n,createLink:n})},Yj=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":n=>{e.getDoc().execCommand(n);const o=e.dom.getParent(e.selection.getNode(),"ol,ul");if(o){const r=o.parentNode;if(r&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)){const l=e.selection.getBookmark();e.dom.split(r,o),e.selection.moveToBookmark(l)}}}})},Kj=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":n=>{const o=e.dom.getParent(e.selection.getNode(),"ul,ol");return o&&(n==="insertunorderedlist"&&o.tagName==="UL"||n==="insertorderedlist"&&o.tagName==="OL")}},"state")},PK=e=>{Yj(e),Kj(e)},LK=e=>{e.editorCommands.addCommands({insertParagraph:()=>{_w(uB,e)},mceInsertNewLine:(n,o,r)=>{U2(e,r)},InsertLineBreak:(n,o,r)=>{_w(NS,e)}})},f5=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(n,o,r)=>{let l=0;e.dom.getParent(e.selection.getNode(),h=>an(h)&&l++===r?(e.selection.select(h),!1):!0,e.getBody())},mceSelectNode:(n,o,r)=>{e.selection.select(r)},selectAll:()=>{const n=e.dom.getParent(e.selection.getStart(),Do);if(n){const o=e.dom.createRng();o.selectNodeContents(n),e.selection.setRng(o)}}})},h5=e=>{e.editorCommands.addCommands({mceRemoveNode:(n,o,r)=>{const l=r??e.selection.getNode();if(l!==e.getBody()){const h=e.selection.getBookmark();e.dom.remove(l,!0),e.selection.moveToBookmark(h)}},mcePrint:()=>{e.getWin().print()},mceFocus:(n,o,r)=>{l6(e,r===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},Xj=e=>{Dj(e),Mj(e),qj(e),f5(e),Lj(e),Zj(e),d5(e),LK(e),PK(e),kK(e),h5(e)},Qj=["toggleview"],m5=e=>Fn(Qj,e.toLowerCase());class Jj{constructor(n){this.commands={state:{},exec:{},value:{}},this.editor=n}execCommand(n,o=!1,r,l){const h=this.editor,v=n.toLowerCase(),A=l==null?void 0:l.skip_focus;if(h.removed||(v!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(v)&&!A?h.focus():Eu(h)),h.dispatch("BeforeExecCommand",{command:n,ui:o,value:r}).isDefaultPrevented()))return!1;const H=this.commands.exec[v];return Te(H)?(H(v,o,r),h.dispatch("ExecCommand",{command:n,ui:o,value:r}),!0):!1}queryCommandState(n){if(!m5(n)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=n.toLowerCase(),r=this.commands.state[o];return Te(r)?r(o):!1}queryCommandValue(n){if(!m5(n)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=n.toLowerCase(),r=this.commands.value[o];return Te(r)?r(o):""}addCommands(n,o="exec"){const r=this.commands;dn(n,(l,h)=>{Ge(h.toLowerCase().split(","),v=>{r[o][v]=l})})}addCommand(n,o,r){const l=n.toLowerCase();this.commands.exec[l]=(h,v,A)=>o.call(r??this.editor,v,A)}queryCommandSupported(n){const o=n.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(n,o,r){this.commands.state[n.toLowerCase()]=()=>o.call(r??this.editor)}addQueryValueHandler(n,o,r){this.commands.value[n.toLowerCase()]=()=>o.call(r??this.editor)}}const xw="data-mce-contenteditable",$K=(e,n,o)=>{rd(e,n)&&!o?Xa(e,n):o&&kd(e,n)},AN=(e,n,o)=>{try{e.getDoc().execCommand(n,!1,String(o))}catch{}},ON=(e,n)=>{e.dom.contentEditable=n?"true":"false"},eq=e=>{Ge(yc(e,'*[contenteditable="true"]'),n=>{Eo(n,xw,"true"),ON(n,!1)})},u_=e=>{Ge(yc(e,`*[${xw}="true"]`),n=>{Ir(n,xw),ON(n,!0)})},RN=e=>{X.from(e.selection.getNode()).each(n=>{n.removeAttribute("data-mce-selected")})},mO=e=>{e.selection.setRng(e.selection.getRng())},p5=(e,n)=>{const o=Ne.fromDom(e.getBody());$K(o,"mce-content-readonly",n),n?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),RN(e),e.readonly=!0,ON(o,!1),eq(o)):(e.readonly=!1,ON(o,!0),u_(o),AN(e,"StyleWithCSS",!1),AN(e,"enableInlineTableEditing",!1),AN(e,"enableObjectResizing",!1),Ck(e)&&e.focus(),mO(e),e.nodeChanged())},p0=e=>e.readonly,IN=e=>{e.parser.addAttributeFilter("contenteditable",n=>{p0(e)&&Ge(n,o=>{o.attr(xw,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(xw,n=>{p0(e)&&Ge(n,o=>{o.attr("contenteditable",o.attr(xw))})}),e.serializer.addTempAttr(xw)},tq=e=>{e.serializer?IN(e):e.on("PreInit",()=>{IN(e)})},nq=e=>e.type==="click",oq=["copy"],sq=e=>Fn(oq,e.type),d_=(e,n)=>ru(n,"a",r=>es(r,Ne.fromDom(e.getBody()))).bind(r=>pc(r,"href")),rq=(e,n)=>{if(nq(n)&&!On.metaKeyPressed(n)){const o=Ne.fromDom(n.target);d_(e,o).each(r=>{if(n.preventDefault(),/^#/.test(r)){const l=e.dom.select(`${r},[name="${Jl(r,"#")}"]`);l.length&&e.selection.scrollIntoView(l[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else sq(n)&&e.dispatch(n.type,n)},g5=e=>{e.on("ShowCaret",n=>{p0(e)&&n.preventDefault()}),e.on("ObjectSelected",n=>{p0(e)&&n.preventDefault()})},iq=Ce.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class Aw{constructor(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||nt}static isNative(n){return!!iq[n.toLowerCase()]}fire(n,o){return this.dispatch(n,o)}dispatch(n,o){const r=n.toLowerCase(),l=Ta(r,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(l);const h=this.bindings[r];if(h)for(let v=0,A=h.length;v<A;v++){const R=h[v];if(!R.removed){if(R.once&&this.off(r,R.func),l.isImmediatePropagationStopped())return l;if(R.func.call(this.scope,l)===!1)return l.preventDefault(),l}}return l}on(n,o,r,l){if(o===!1&&(o=nt),o){const h={func:o,removed:!1};l&&Ce.extend(h,l);const v=n.toLowerCase().split(" ");let A=v.length;for(;A--;){const R=v[A];let H=this.bindings[R];H||(H=[],this.toggleEvent(R,!0)),r?H=[h,...H]:H=[...H,h],this.bindings[R]=H}}return this}off(n,o){if(n){const r=n.toLowerCase().split(" ");let l=r.length;for(;l--;){const h=r[l];let v=this.bindings[h];if(!h)return dn(this.bindings,(A,R)=>{this.toggleEvent(R,!1),delete this.bindings[R]}),this;if(v){if(!o)v.length=0;else{const A=va(v,R=>R.func===o);v=A.fail,this.bindings[h]=v,Ge(A.pass,R=>{R.removed=!0})}v.length||(this.toggleEvent(n,!1),delete this.bindings[h])}}}else dn(this.bindings,(r,l)=>{this.toggleEvent(l,!1)}),this.bindings={};return this}once(n,o,r){return this.on(n,o,r,{once:!0})}has(n){n=n.toLowerCase();const o=this.bindings[n];return!(!o||o.length===0)}}const GS=e=>(e._eventDispatcher||(e._eventDispatcher=new Aw({scope:e,toggleEvent:(n,o)=>{Aw.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,o)}})),e._eventDispatcher),DN={fire(e,n,o){return this.dispatch(e,n,o)},dispatch(e,n,o){const r=this;if(r.removed&&e!=="remove"&&e!=="detach")return Ta(e.toLowerCase(),n??{},r);const l=GS(r).dispatch(e,n);if(o!==!1&&r.parent){let h=r.parent();for(;h&&!l.isPropagationStopped();)h.dispatch(e,l,!1),h=h.parent?h.parent():void 0}return l},on(e,n,o){return GS(this).on(e,n,o)},off(e,n){return GS(this).off(e,n)},once(e,n){return GS(this).once(e,n)},hasEventListeners(e){return GS(this).has(e)}},pO=qs.DOM;let g0;const gO=(e,n)=>{if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(n))return e.getDoc().documentElement;const o=Z0(e);return o?(e.eventRoot||(e.eventRoot=pO.select(o)[0]),e.eventRoot):e.getBody()},aq=e=>!e.hidden&&!p0(e),v5=(e,n,o)=>{aq(e)?e.dispatch(n,o):p0(e)&&rq(e,o)},b5=(e,n)=>{if(e.delegates||(e.delegates={}),e.delegates[n]||e.removed)return;const o=gO(e,n);if(Z0(e)){if(g0||(g0={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||g0&&(dn(g0,(l,h)=>{e.dom.unbind(gO(e,h))}),g0=null)})),g0[n])return;const r=l=>{const h=l.target,v=e.editorManager.get();let A=v.length;for(;A--;){const R=v[A].getBody();(R===h||pO.isChildOf(h,R))&&v5(v[A],n,l)}};g0[n]=r,pO.bind(o,n,r)}else{const r=l=>{v5(e,n,l)};pO.bind(o,n,r),e.delegates[n]=r}},vO={...DN,bindPendingEventDelegates(){const e=this;Ce.each(e._pendingNativeEvents,n=>{b5(e,n)})},toggleNativeEvent(e,n){const o=this;e==="focus"||e==="blur"||o.removed||(n?o.initialized?b5(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(gO(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,n=e.getBody(),o=e.dom;e.delegates&&(dn(e.delegates,(r,l)=>{e.dom.unbind(gO(e,l),l,r)}),delete e.delegates),!e.inline&&n&&o&&(n.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(n),o.unbind(e.getContainer()))}},cq=e=>ee(e)?{value:e.split(/[ ,]/),valid:!0}:Tt(e,ee)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},lq=e=>{const n=(()=>{switch(e){case"array":return V;case"boolean":return Ue;case"function":return Te;case"number":return bn;case"object":return ke;case"string":return ee;case"string[]":return cq;case"object[]":return o=>Tt(o,ke);case"regexp":return o=>ve(o,RegExp);default:return Lt}})();return o=>jS(o,n,`The value must be a ${e}.`)},Ac=e=>ee(e.processor),y5=(e,n)=>{const o=$i(n.message)?"":`. ${n.message}`;return e+o},_5=e=>e.valid,jS=(e,n,o="")=>{const r=n(e);return Ue(r)?r?{value:e,valid:!0}:{valid:!1,message:o}:r},E5=(e,n,o)=>{if(!bt(n)){const r=jS(n,o);if(_5(r))return r.value;console.error(y5(`Invalid default value passed for the "${e}" option`,r))}},MN=(e,n)=>{const o={},r={},l=(Q,ce,Re)=>{const Me=jS(ce,Re);return _5(Me)?(r[Q]=Me.value,!0):(console.warn(y5(`Invalid value passed for the ${Q} option`,Me)),!1)},h=(Q,ce)=>{const Re=Ac(ce)?lq(ce.processor):ce.processor,Me=E5(Q,ce.default,Re);o[Q]={...ce,default:Me,processor:Re},gr(r,Q).orThunk(()=>gr(n,Q)).each(Ie=>l(Q,Ie,Re))},v=Q=>jn(o,Q);return{register:h,isRegistered:v,get:Q=>gr(r,Q).orThunk(()=>gr(o,Q).map(ce=>ce.default)).getOrUndefined(),set:(Q,ce)=>{if(v(Q)){const Re=o[Q];return Re.immutable?(console.error(`"${Q}" is an immutable option and cannot be updated`),!1):l(Q,ce,Re.processor)}else return console.warn(`"${Q}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:Q=>{const ce=v(Q);return ce&&delete r[Q],ce},isSet:Q=>jn(r,Q)}},uq=["design","readonly"],w5=(e,n,o,r)=>{const l=o[n.get()],h=o[r];try{h.activate()}catch(v){console.error(`problem while activating editor mode ${r}:`,v);return}l.deactivate(),l.editorReadOnly!==h.editorReadOnly&&p5(e,h.editorReadOnly),n.set(r),ZT(e,r)},dq=(e,n,o,r)=>{if(r!==o.get()){if(!jn(n,r))throw new Error(`Editor mode '${r}' is invalid`);e.initialized?w5(e,o,n,r):e.on("init",()=>w5(e,o,n,r))}},fq=(e,n,o)=>{if(Fn(uq,n))throw new Error(`Cannot override default mode ${n}`);return{...e,[n]:{...o,deactivate:()=>{try{o.deactivate()}catch(r){console.error(`problem while deactivating editor mode ${n}:`,r)}}}}},hq=e=>{const n=Ri("design"),o=Ri({design:{activate:Mt,deactivate:Mt,editorReadOnly:!1},readonly:{activate:Mt,deactivate:Mt,editorReadOnly:!0}});return tq(e),g5(e),{isReadOnly:()=>p0(e),set:r=>dq(e,o.get(),n,r),get:()=>n.get(),register:(r,l)=>{o.set(fq(o.get(),r,l))}}},NN=Ce.each,kN=Ce.explode,mq={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},f_=Ce.makeMap("alt,ctrl,shift,meta,access"),pg=e=>e in f_,pq=e=>{const n={},o=cs.os.isMacOS()||cs.os.isiOS();NN(kN(e.toLowerCase(),"+"),h=>{pg(h)?n[h]=!0:/^[0-9]{2,}$/.test(h)?n.keyCode=parseInt(h,10):(n.charCode=h.charCodeAt(0),n.keyCode=mq[h]||h.toUpperCase().charCodeAt(0))});const r=[n.keyCode];let l;for(l in f_)n[l]?r.push(l):n[l]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,o?n.ctrl=!0:n.shift=!0),n.meta&&(o?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n};class T5{constructor(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;const o=this;n.on("keyup keypress keydown",r=>{(o.hasModifier(r)||o.isFunctionKey(r))&&!r.isDefaultPrevented()&&(NN(o.shortcuts,l=>{o.matchShortcut(r,l)&&(o.pendingPatterns=l.subpatterns.slice(0),r.type==="keydown"&&o.executeShortcutAction(l))}),o.matchShortcut(r,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&r.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(n,o,r,l){const h=this,v=h.normalizeCommandFunc(r);return NN(kN(Ce.trim(n)),A=>{const R=h.createShortcut(A,o,v,l);h.shortcuts[R.id]=R}),!0}remove(n){const o=this.createShortcut(n);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(n){const o=this,r=n;return typeof r=="string"?()=>{o.editor.execCommand(r,!1,null)}:Ce.isArray(r)?()=>{o.editor.execCommand(r[0],r[1],r[2])}:r}createShortcut(n,o,r,l){const h=Ce.map(kN(n,">"),pq);return h[h.length-1]=Ce.extend(h[h.length-1],{func:r,scope:l||this.editor}),Ce.extend(h[0],{desc:this.editor.translate(o),subpatterns:h.slice(1)})}hasModifier(n){return n.altKey||n.ctrlKey||n.metaKey}isFunctionKey(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123}matchShortcut(n,o){return!o||o.ctrl!==n.ctrlKey||o.meta!==n.metaKey||o.alt!==n.altKey||o.shift!==n.shiftKey?!1:n.keyCode===o.keyCode||n.charCode&&n.charCode===o.charCode?(n.preventDefault(),!0):!1}executeShortcutAction(n){return n.func?n.func.call(n.scope):null}}const gq=()=>{const e={},n={},o={},r={},l={},h={},v={},A={},R=(te,Q)=>(ce,Re)=>{te[ce.toLowerCase()]={...Re,type:Q}},H=(te,Q)=>r[te.toLowerCase()]=Q;return{addButton:R(e,"button"),addGroupToolbarButton:R(e,"grouptoolbarbutton"),addToggleButton:R(e,"togglebutton"),addMenuButton:R(e,"menubutton"),addSplitButton:R(e,"splitbutton"),addMenuItem:R(n,"menuitem"),addNestedMenuItem:R(n,"nestedmenuitem"),addToggleMenuItem:R(n,"togglemenuitem"),addAutocompleter:R(o,"autocompleter"),addContextMenu:R(l,"contextmenu"),addContextToolbar:R(h,"contexttoolbar"),addContextForm:R(h,"contextform"),addSidebar:R(v,"sidebar"),addView:R(A,"views"),addIcon:H,getAll:()=>({buttons:e,menuItems:n,icons:r,popups:o,contextMenus:l,contextToolbars:h,sidebars:v,views:A})}},vq=()=>{const e=gq();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},h_=qs.DOM,C5=Ce.extend,bq=Ce.each;class bO{constructor(n,o,r){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,C5(this,vO);const l=this;this.id=n,this.hidden=!1;const h=m0(r.defaultOptions,o);this.options=MN(l,h),da(l);const v=this.options.get;v("deprecation_warnings")&&r0(o,h);const A=v("suffix");A&&(r.suffix=A),this.suffix=r.suffix;const R=v("base_url");R&&r._setBaseUrl(R),this.baseUri=r.baseURI;const H=Hp(l);H&&(Hd.ScriptLoader._setReferrerPolicy(H),qs.DOM.styleSheetLoader._setReferrerPolicy(H));const te=K0(l);He(te)&&qs.DOM.styleSheetLoader._setContentCssCors(te),ks.languageLoad=v("language_load"),ks.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new hg(Wa(l),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Y0(l),this.hasVisual=cT(l),this.shortcuts=new T5(this),this.editorCommands=new Jj(this),Xj(this);const Q=v("cache_suffix");Q&&(cs.cacheSuffix=Q.replace(/^[\?\&]+/,"")),this.ui={registry:vq(),styleSheetLoader:void 0,show:Mt,hide:Mt,setEnabled:Mt,isEnabled:Lt},this.mode=hq(l),r.dispatch("SetupEditor",{editor:this});const ce=Vm(l);Te(ce)&&ce.call(l,l)}render(){QF(this)}focus(n){this.execCommand("mceFocus",!1,n)}hasFocus(){return Yb(this)}translate(n){return wf.translate(n)}getParam(n,o,r){const l=this.options;return l.isRegistered(n)||(He(r)?l.register(n,{processor:r,default:o}):l.register(n,{processor:Lt,default:o})),!l.isSet(n)&&!bt(o)?o:l.get(n)}hasPlugin(n,o){return Fn(X0(this),n)?o?tp.get(n)!==void 0:!0:!1}nodeChanged(n){this._nodeChangeDispatcher.nodeChanged(n)}addCommand(n,o,r){this.editorCommands.addCommand(n,o,r)}addQueryStateHandler(n,o,r){this.editorCommands.addQueryStateHandler(n,o,r)}addQueryValueHandler(n,o,r){this.editorCommands.addQueryValueHandler(n,o,r)}addShortcut(n,o,r,l){this.shortcuts.add(n,o,r,l)}execCommand(n,o,r,l){return this.editorCommands.execCommand(n,o,r,l)}queryCommandState(n){return this.editorCommands.queryCommandState(n)}queryCommandValue(n){return this.editorCommands.queryCommandValue(n)}queryCommandSupported(n){return this.editorCommands.queryCommandSupported(n)}show(){const n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(h_.show(n.getContainer()),h_.hide(n.id)),n.load(),n.dispatch("show"))}hide(){const n=this;n.hidden||(n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(h_.hide(n.getContainer()),h_.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(n,o){this.dispatch("ProgressState",{state:n,time:o})}load(n={}){const o=this,r=o.getElement();if(o.removed)return"";if(r){const l={...n,load:!0},h=Cm(r)?r.value:r.innerHTML,v=o.setContent(h,l);return l.no_events||o.dispatch("LoadContent",{...l,element:r}),v}else return""}save(n={}){const o=this;let r=o.getElement();if(!r||!o.initialized||o.removed)return"";const l={...n,save:!0,element:r};let h=o.getContent(l);const v={...l,content:h};if(v.no_events||o.dispatch("SaveContent",v),v.format==="raw"&&o.dispatch("RawSaveContent",v),h=v.content,Cm(r))r.value=h;else{(n.is_removing||!o.inline)&&(r.innerHTML=h);const A=h_.getParent(o.id,"form");A&&bq(A.elements,R=>R.name===o.id?(R.value=h,!1):!0)}return v.element=l.element=r=null,v.set_dirty!==!1&&o.setDirty(!1),h}setContent(n,o){return V4(this,n,o)}getContent(n){return vD(this,n)}insertContent(n,o){o&&(n=C5({content:n},o)),this.execCommand("mceInsertContent",!1,n)}resetContent(n){n===void 0?V4(this,this.startContent,{format:"raw"}):V4(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(n){const o=!this.isNotDirty;this.isNotDirty=!n,n&&n!==o&&this.dispatch("dirty")}getContainer(){const n=this;return n.container||(n.container=n.editorContainer||h_.get(n.id+"_parent")),n.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=h_.get(this.id)),this.targetElm}getWin(){const n=this;if(!n.contentWindow){const o=n.iframeElement;o&&(n.contentWindow=o.contentWindow)}return n.contentWindow}getDoc(){const n=this;if(!n.contentDocument){const o=n.getWin();o&&(n.contentDocument=o.document)}return n.contentDocument}getBody(){var n,o;const r=this.getDoc();return(o=(n=this.bodyElement)!==null&&n!==void 0?n:r==null?void 0:r.body)!==null&&o!==void 0?o:null}convertURL(n,o,r){const l=this,h=l.options.get,v=uT(l);return Te(v)?v.call(l,n,r,!0,o):!h("convert_urls")||r==="link"||ke(r)&&r.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0?n:h("relative_urls")?l.documentBaseURI.toRelative(n):(n=l.documentBaseURI.toAbsolute(n,h("remove_script_host")),n)}addVisual(n){l_(this,n)}remove(){A7(this)}destroy(n){O7(this,n)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const Ow=qs.DOM,PN=Ce.each;let S5=!1,yO,Kd=[];const _O=e=>{const n=e.type;PN(v0.get(),o=>{switch(n){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},x5=e=>{if(e!==S5){const n=qs.DOM;e?(n.bind(window,"resize",_O),n.bind(window,"scroll",_O)):(n.unbind(window,"resize",_O),n.unbind(window,"scroll",_O)),S5=e}},A5=e=>{const n=Kd;return Kd=Dn(Kd,o=>e!==o),v0.activeEditor===e&&(v0.activeEditor=Kd.length>0?Kd[0]:null),v0.focusedEditor===e&&(v0.focusedEditor=null),n.length!==Kd.length},BK=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(A5(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},yq=document.compatMode!=="CSS1Compat",v0={...DN,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"4.1",releaseDate:"2023-03-29",i18n:wf,activeEditor:null,focusedEditor:null,setup(){const e=this;let n="",o="",r=hg.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));const l=window.tinymce||window.tinyMCEPreInit;if(l)n=l.base||l.baseURL,o=l.suffix;else{const h=document.getElementsByTagName("script");for(let v=0;v<h.length;v++){const A=h[v].src||"";if(A==="")continue;const R=A.substring(A.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(A)){R.indexOf(".min")!==-1&&(o=".min"),n=A.substring(0,A.lastIndexOf("/"));break}}if(!n&&document.currentScript){const v=document.currentScript.src;v.indexOf(".min")!==-1&&(o=".min"),n=v.substring(0,v.lastIndexOf("/"))}}e.baseURL=new hg(r).toAbsolute(n),e.documentBaseURL=r,e.baseURI=new hg(e.baseURL),e.suffix=o,i6(e)},overrideDefaults(e){const n=e.base_url;n&&this._setBaseUrl(n);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const r=e.plugin_base_urls;r!==void 0&&dn(r,(l,h)=>{ks.PluginManager.urls[h]=l})},init(e){const n=this;let o;const r=Ce.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),l=(te,Q)=>te.inline&&Q.tagName.toLowerCase()in r,h=te=>{let Q=te.id;return Q||(Q=gr(te,"name").filter(ce=>!Ow.get(ce)).getOrThunk(Ow.uniqueId),te.setAttribute("id",Q)),Q},v=te=>{const Q=e[te];if(Q)return Q.apply(n,[])},A=te=>cs.browser.isIE()||cs.browser.isEdge()?(cS("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):yq?(cS("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):ee(te.selector)?Ow.select(te.selector):He(te.target)?[te.target]:[];let R=te=>{o=te};const H=()=>{let te=0;const Q=[];let ce;const Re=(Me,_e,Ie)=>{const We=new bO(Me,_e,n);Q.push(We),We.on("init",()=>{++te===ce.length&&R(Q)}),We.targetElm=We.targetElm||Ie,We.render()};Ow.unbind(window,"ready",H),v("onpageload"),ce=Wf(A(e)),Ce.each(ce,Me=>{BK(n.get(Me.id))}),ce=Ce.grep(ce,Me=>!n.get(Me.id)),ce.length===0?R([]):PN(ce,Me=>{l(e,Me)?cS("Could not initialize inline editor on invalid inline target element",Me):Re(h(Me),e,Me)})};return Ow.bind(window,"ready",H),new Promise(te=>{o?te(o):R=Q=>{te(Q)}})},get(e){return arguments.length===0?Kd.slice(0):ee(e)?Is(Kd,n=>n.id===e).getOr(null):bn(e)&&Kd[e]?Kd[e]:null},add(e){const n=this,o=n.get(e.id);return o===e||(o===null&&Kd.push(e),x5(!0),n.activeEditor=e,n.dispatch("AddEditor",{editor:e}),yO||(yO=r=>{const l=n.dispatch("BeforeUnload");if(l.returnValue)return r.preventDefault(),r.returnValue=l.returnValue,l.returnValue},window.addEventListener("beforeunload",yO))),e},createEditor(e,n){return this.add(new bO(e,n,this))},remove(e){const n=this;let o;if(!e){for(let r=Kd.length-1;r>=0;r--)n.remove(Kd[r]);return}if(ee(e)){PN(Ow.select(e),r=>{o=n.get(r.id),o&&n.remove(o)});return}return o=e,we(n.get(o.id))?null:(A5(o)&&n.dispatch("RemoveEditor",{editor:o}),Kd.length===0&&window.removeEventListener("beforeunload",yO),o.remove(),x5(Kd.length>0),o)},execCommand(e,n,o){var r;const l=this,h=ke(o)?(r=o.id)!==null&&r!==void 0?r:o.index:o;switch(e){case"mceAddEditor":{if(!l.get(h)){const v=o.options;new bO(h,v,l).render()}return!0}case"mceRemoveEditor":{const v=l.get(h);return v&&v.remove(),!0}case"mceToggleEditor":{const v=l.get(h);return v?(v.isHidden()?v.show():v.hide(),!0):(l.execCommand("mceAddEditor",!1,o),!0)}}return l.activeEditor?l.activeEditor.execCommand(e,n,o):!1},triggerSave:()=>{PN(Kd,e=>{e.save()})},addI18n:(e,n)=>{wf.add(e,n)},translate:e=>wf.translate(e),setActive(e){const n=this.activeEditor;this.activeEditor!==e&&(n&&n.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new hg(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new hg(this.baseURL)}};v0.setup();const _q=(()=>{const e=Sa(),n=h=>({items:h,types:uc(h),getType:v=>gr(h,v).getOrUndefined()}),o=h=>{e.set(h)},r=()=>e.get().getOrUndefined(),l=e.clear;return{FakeClipboardItem:n,write:o,read:r,clear:l}})(),O5=Math.min,Rw=Math.max,EO=Math.round,R5=(e,n,o)=>{let r=n.x,l=n.y;const h=e.w,v=e.h,A=n.w,R=n.h,H=(o||"").split("");return H[0]==="b"&&(l+=R),H[1]==="r"&&(r+=A),H[0]==="c"&&(l+=EO(R/2)),H[1]==="c"&&(r+=EO(A/2)),H[3]==="b"&&(l-=v),H[4]==="r"&&(r-=h),H[3]==="c"&&(l-=EO(v/2)),H[4]==="c"&&(r-=EO(h/2)),Iw(r,l,h,v)},Eq=(e,n,o,r)=>{for(let l=0;l<r.length;l++){const h=R5(e,n,r[l]);if(h.x>=o.x&&h.x+h.w<=o.w+o.x&&h.y>=o.y&&h.y+h.h<=o.h+o.y)return r[l]}return null},wq=(e,n,o)=>Iw(e.x-n,e.y-o,e.w+n*2,e.h+o*2),Tq=(e,n)=>{const o=Rw(e.x,n.x),r=Rw(e.y,n.y),l=O5(e.x+e.w,n.x+n.w),h=O5(e.y+e.h,n.y+n.h);return l-o<0||h-r<0?null:Iw(o,r,l-o,h-r)},Cq=(e,n,o)=>{let r=e.x,l=e.y,h=e.x+e.w,v=e.y+e.h;const A=n.x+n.w,R=n.y+n.h,H=Rw(0,n.x-r),te=Rw(0,n.y-l),Q=Rw(0,h-A),ce=Rw(0,v-R);return r+=H,l+=te,o&&(h+=H,v+=te,r-=Q,l-=ce),h-=Q,v-=ce,Iw(r,l,h-r,v-l)},Iw=(e,n,o,r)=>({x:e,y:n,w:o,h:r}),Sq={inflate:wq,relativePosition:R5,findBestRelativePosition:Eq,intersect:Tq,clamp:Cq,create:Iw,fromClientRect:e=>Iw(e.left,e.top,e.width,e.height)},xq=(e,n,o=1e3)=>{let r=!1,l=null;const h=H=>(...te)=>{r||(r=!0,l!==null&&(clearTimeout(l),l=null),H.apply(null,te))},v=h(e),A=h(n);return{start:(...H)=>{!r&&l===null&&(l=setTimeout(()=>A.apply(null,H),o))},resolve:v,reject:A}},Oq=(()=>{const e={},n={};return{load:(h,v)=>{const A=`Script at URL "${v}" failed to load`,R=`Script at URL "${v}" did not call \`tinymce.Resource.add('${h}', data)\` within 1 second`;if(e[h]!==void 0)return e[h];{const H=new Promise((te,Q)=>{const ce=xq(te,Q);n[h]=ce.resolve,Hd.ScriptLoader.loadScript(v).then(()=>ce.start(R),()=>ce.reject(A))});return e[h]=H,H}},add:(h,v)=>{n[h]!==void 0&&(n[h](v),delete n[h]),e[h]=Promise.resolve(v)},unload:h=>{delete e[h]}}})(),Rq=()=>(()=>{let e={},n=[];const o={getItem:r=>{const l=e[r];return l||null},setItem:(r,l)=>{n.push(r),e[r]=String(l)},key:r=>n[r],removeItem:r=>{n=n.filter(l=>l===r),delete e[r]},clear:()=>{n=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>n.length,configurable:!1,enumerable:!1}),o})();let qS;try{const e="__storage_test__";qS=window.localStorage,qS.setItem(e,e),qS.removeItem(e)}catch{qS=Rq()}var Iq=qS;const Dq={geom:{Rect:Sq},util:{Delay:Mf,Tools:Ce,VK:On,URI:hg,EventDispatcher:Aw,Observable:DN,I18n:wf,LocalStorage:Iq,ImageUploader:U7},dom:{EventUtils:rl,TreeWalker:Ai,TextSeeker:$r,DOMUtils:qs,ScriptLoader:Hd,RangeUtils:Gb,Serializer:gD,StyleSheetLoader:$u,ControlSelection:Bx,BookmarkManager:Cd,Selection:G1,Event:rl.Event},html:{Styles:hr,Entities:St,Node:qd,Schema:Uo,DomParser:s0,Writer:Fk,Serializer:Kb},Env:cs,AddOnManager:ks,Annotator:Sy,Formatter:lS,UndoManager:CD,EditorCommands:Jj,WindowManager:yD,NotificationManager:i0,EditorObservable:vO,Shortcuts:T5,Editor:bO,FocusManager:qb,EditorManager:v0,DOM:qs.DOM,ScriptLoader:Hd.ScriptLoader,PluginManager:tp,ThemeManager:_v,ModelManager:iw,IconManager:ZA,Resource:Oq,FakeClipboard:_q,trim:Ce.trim,isArray:Ce.isArray,is:Ce.is,toArray:Ce.toArray,makeMap:Ce.makeMap,each:Ce.each,map:Ce.map,grep:Ce.grep,inArray:Ce.inArray,extend:Ce.extend,walk:Ce.walk,resolve:Ce.resolve,explode:Ce.explode,_addCacheSuffix:Ce._addCacheSuffix},I5=Ce.extend(v0,Dq),Mq=e=>{try{a.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(I5),Mq(I5)})()})(Qne);const Jne=SZ;var xZ={},eoe={get exports(){return xZ},set exports(a){xZ=a}};/*!
  * Bootstrap v5.3.0-alpha3 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(a,c){(function(f,y){a.exports=y()})($w,function(){const f=new Map,y={set(re,D,Z){f.has(re)||f.set(re,new Map);const Ae=f.get(re);if(!Ae.has(D)&&Ae.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(Ae.keys())[0]}.`);return}Ae.set(D,Z)},get(re,D){return f.has(re)&&f.get(re).get(D)||null},remove(re,D){if(!f.has(re))return;const Z=f.get(re);Z.delete(D),Z.size===0&&f.delete(re)}},C=1e6,w=1e3,S="transitionend",M=re=>(re&&window.CSS&&window.CSS.escape&&(re=re.replace(/#([^\s"#']+)/g,(D,Z)=>`#${CSS.escape(Z)}`)),re),P=re=>re==null?`${re}`:Object.prototype.toString.call(re).match(/\s([a-z]+)/i)[1].toLowerCase(),G=re=>{do re+=Math.floor(Math.random()*C);while(document.getElementById(re));return re},j=re=>{if(!re)return 0;let{transitionDuration:D,transitionDelay:Z}=window.getComputedStyle(re);const Ae=Number.parseFloat(D),ze=Number.parseFloat(Z);return!Ae&&!ze?0:(D=D.split(",")[0],Z=Z.split(",")[0],(Number.parseFloat(D)+Number.parseFloat(Z))*w)},J=re=>{re.dispatchEvent(new Event(S))},me=re=>!re||typeof re!="object"?!1:(typeof re.jquery<"u"&&(re=re[0]),typeof re.nodeType<"u"),ae=re=>me(re)?re.jquery?re[0]:re:typeof re=="string"&&re.length>0?document.querySelector(M(re)):null,pe=re=>{if(!me(re)||re.getClientRects().length===0)return!1;const D=getComputedStyle(re).getPropertyValue("visibility")==="visible",Z=re.closest("details:not([open])");if(!Z)return D;if(Z!==re){const Ae=re.closest("summary");if(Ae&&Ae.parentNode!==Z||Ae===null)return!1}return D},fe=re=>!re||re.nodeType!==Node.ELEMENT_NODE||re.classList.contains("disabled")?!0:typeof re.disabled<"u"?re.disabled:re.hasAttribute("disabled")&&re.getAttribute("disabled")!=="false",ue=re=>{if(!document.documentElement.attachShadow)return null;if(typeof re.getRootNode=="function"){const D=re.getRootNode();return D instanceof ShadowRoot?D:null}return re instanceof ShadowRoot?re:re.parentNode?ue(re.parentNode):null},le=()=>{},ve=re=>{re.offsetHeight},ee=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,ke=[],Ke=re=>{document.readyState==="loading"?(ke.length||document.addEventListener("DOMContentLoaded",()=>{for(const D of ke)D()}),ke.push(re)):re()},V=()=>document.documentElement.dir==="rtl",we=re=>{Ke(()=>{const D=ee();if(D){const Z=re.NAME,Ae=D.fn[Z];D.fn[Z]=re.jQueryInterface,D.fn[Z].Constructor=re,D.fn[Z].noConflict=()=>(D.fn[Z]=Ae,re.jQueryInterface)}})},Ue=(re,D=[],Z=re)=>typeof re=="function"?re(...D):Z,bt=(re,D,Z=!0)=>{if(!Z){Ue(re);return}const Ae=5,ze=j(D)+Ae;let yt=!1;const St=({target:Ut})=>{Ut===D&&(yt=!0,D.removeEventListener(S,St),Ue(re))};D.addEventListener(S,St),setTimeout(()=>{yt||J(D)},ze)},It=(re,D,Z,Ae)=>{const ze=re.length;let yt=re.indexOf(D);return yt===-1?!Z&&Ae?re[ze-1]:re[0]:(yt+=Z?1:-1,Ae&&(yt=(yt+ze)%ze),re[Math.max(0,Math.min(yt,ze-1))])},He=/[^.]*(?=\..*)\.|.*/,Te=/\..*/,bn=/::\d+$/,Tt={};let Mt=1;const F={mouseenter:"mouseover",mouseleave:"mouseout"},Nt=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function rt(re,D){return D&&`${D}::${Mt++}`||re.uidEvent||Mt++}function Kt(re){const D=rt(re);return re.uidEvent=D,Tt[D]=Tt[D]||{},Tt[D]}function Gt(re,D){return function Z(Ae){return fs(Ae,{delegateTarget:re}),Z.oneOff&&X.off(re,Ae.type,D),D.apply(re,[Ae])}}function Ze(re,D,Z){return function Ae(ze){const yt=re.querySelectorAll(D);for(let{target:St}=ze;St&&St!==this;St=St.parentNode)for(const Ut of yt)if(Ut===St)return fs(ze,{delegateTarget:St}),Ae.oneOff&&X.off(re,ze.type,D,Z),Z.apply(St,[ze])}}function _o(re,D,Z=null){return Object.values(re).find(Ae=>Ae.callable===D&&Ae.delegationSelector===Z)}function Ho(re,D,Z){const Ae=typeof D=="string",ze=Ae?Z:D||Z;let yt=Lt(re);return Nt.has(yt)||(yt=re),[Ae,ze,yt]}function lo(re,D,Z,Ae,ze){if(typeof D!="string"||!re)return;let[yt,St,Ut]=Ho(D,Z,Ae);D in F&&(St=(oi=>function(So){if(!So.relatedTarget||So.relatedTarget!==So.delegateTarget&&!So.delegateTarget.contains(So.relatedTarget))return oi.call(this,So)})(St));const on=Kt(re),ao=on[Ut]||(on[Ut]={}),Tn=_o(ao,St,yt?Z:null);if(Tn){Tn.oneOff=Tn.oneOff&&ze;return}const ro=rt(St,D.replace(He,"")),zt=yt?Ze(re,Z,St):Gt(re,St);zt.delegationSelector=yt?Z:null,zt.callable=St,zt.oneOff=ze,zt.uidEvent=ro,ao[ro]=zt,re.addEventListener(Ut,zt,yt)}function Vo(re,D,Z,Ae,ze){const yt=_o(D[Z],Ae,ze);yt&&(re.removeEventListener(Z,yt,!!ze),delete D[Z][yt.uidEvent])}function nt(re,D,Z,Ae){const ze=D[Z]||{};for(const[yt,St]of Object.entries(ze))yt.includes(Ae)&&Vo(re,D,Z,St.callable,St.delegationSelector)}function Lt(re){return re=re.replace(Te,""),F[re]||re}const X={on(re,D,Z,Ae){lo(re,D,Z,Ae,!1)},one(re,D,Z,Ae){lo(re,D,Z,Ae,!0)},off(re,D,Z,Ae){if(typeof D!="string"||!re)return;const[ze,yt,St]=Ho(D,Z,Ae),Ut=St!==D,on=Kt(re),ao=on[St]||{},Tn=D.startsWith(".");if(typeof yt<"u"){if(!Object.keys(ao).length)return;Vo(re,on,St,yt,ze?Z:null);return}if(Tn)for(const ro of Object.keys(on))nt(re,on,ro,D.slice(1));for(const[ro,zt]of Object.entries(ao)){const os=ro.replace(bn,"");(!Ut||D.includes(os))&&Vo(re,on,St,zt.callable,zt.delegationSelector)}},trigger(re,D,Z){if(typeof D!="string"||!re)return null;const Ae=ee(),ze=Lt(D),yt=D!==ze;let St=null,Ut=!0,on=!0,ao=!1;yt&&Ae&&(St=Ae.Event(D,Z),Ae(re).trigger(St),Ut=!St.isPropagationStopped(),on=!St.isImmediatePropagationStopped(),ao=St.isDefaultPrevented());const Tn=fs(new Event(D,{bubbles:Ut,cancelable:!0}),Z);return ao&&Tn.preventDefault(),on&&re.dispatchEvent(Tn),Tn.defaultPrevented&&St&&St.preventDefault(),Tn}};function fs(re,D={}){for(const[Z,Ae]of Object.entries(D))try{re[Z]=Ae}catch{Object.defineProperty(re,Z,{configurable:!0,get(){return Ae}})}return re}function po(re){if(re==="true")return!0;if(re==="false")return!1;if(re===Number(re).toString())return Number(re);if(re===""||re==="null")return null;if(typeof re!="string")return re;try{return JSON.parse(decodeURIComponent(re))}catch{return re}}function Rs(re){return re.replace(/[A-Z]/g,D=>`-${D.toLowerCase()}`)}const as={setDataAttribute(re,D,Z){re.setAttribute(`data-bs-${Rs(D)}`,Z)},removeDataAttribute(re,D){re.removeAttribute(`data-bs-${Rs(D)}`)},getDataAttributes(re){if(!re)return{};const D={},Z=Object.keys(re.dataset).filter(Ae=>Ae.startsWith("bs")&&!Ae.startsWith("bsConfig"));for(const Ae of Z){let ze=Ae.replace(/^bs/,"");ze=ze.charAt(0).toLowerCase()+ze.slice(1,ze.length),D[ze]=po(re.dataset[Ae])}return D},getDataAttribute(re,D){return po(re.getAttribute(`data-bs-${Rs(D)}`))}};class Ia{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(D){return D=this._mergeConfigObj(D),D=this._configAfterMerge(D),this._typeCheckConfig(D),D}_configAfterMerge(D){return D}_mergeConfigObj(D,Z){const Ae=me(Z)?as.getDataAttribute(Z,"config"):{};return{...this.constructor.Default,...typeof Ae=="object"?Ae:{},...me(Z)?as.getDataAttributes(Z):{},...typeof D=="object"?D:{}}}_typeCheckConfig(D,Z=this.constructor.DefaultType){for(const[Ae,ze]of Object.entries(Z)){const yt=D[Ae],St=me(yt)?"element":P(yt);if(!new RegExp(ze).test(St))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${Ae}" provided type "${St}" but expected type "${ze}".`)}}}const Fn="5.3.0-alpha2";class ko extends Ia{constructor(D,Z){super(),D=ae(D),D&&(this._element=D,this._config=this._getConfig(Z),y.set(this._element,this.constructor.DATA_KEY,this))}dispose(){y.remove(this._element,this.constructor.DATA_KEY),X.off(this._element,this.constructor.EVENT_KEY);for(const D of Object.getOwnPropertyNames(this))this[D]=null}_queueCallback(D,Z,Ae=!0){bt(D,Z,Ae)}_getConfig(D){return D=this._mergeConfigObj(D,this._element),D=this._configAfterMerge(D),this._typeCheckConfig(D),D}static getInstance(D){return y.get(ae(D),this.DATA_KEY)}static getOrCreateInstance(D,Z={}){return this.getInstance(D)||new this(D,typeof Z=="object"?Z:null)}static get VERSION(){return Fn}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(D){return`${D}${this.EVENT_KEY}`}}const en=re=>{let D=re.getAttribute("data-bs-target");if(!D||D==="#"){let Z=re.getAttribute("href");if(!Z||!Z.includes("#")&&!Z.startsWith("."))return null;Z.includes("#")&&!Z.startsWith("#")&&(Z=`#${Z.split("#")[1]}`),D=Z&&Z!=="#"?Z.trim():null}return M(D)},Ge={find(re,D=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(D,re))},findOne(re,D=document.documentElement){return Element.prototype.querySelector.call(D,re)},children(re,D){return[].concat(...re.children).filter(Z=>Z.matches(D))},parents(re,D){const Z=[];let Ae=re.parentNode.closest(D);for(;Ae;)Z.push(Ae),Ae=Ae.parentNode.closest(D);return Z},prev(re,D){let Z=re.previousElementSibling;for(;Z;){if(Z.matches(D))return[Z];Z=Z.previousElementSibling}return[]},next(re,D){let Z=re.nextElementSibling;for(;Z;){if(Z.matches(D))return[Z];Z=Z.nextElementSibling}return[]},focusableChildren(re){const D=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(Z=>`${Z}:not([tabindex^="-"])`).join(",");return this.find(D,re).filter(Z=>!fe(Z)&&pe(Z))},getSelectorFromElement(re){const D=en(re);return D&&Ge.findOne(D)?D:null},getElementFromSelector(re){const D=en(re);return D?Ge.findOne(D):null},getMultipleElementsFromSelector(re){const D=en(re);return D?Ge.find(D):[]}},Gc=(re,D="hide")=>{const Z=`click.dismiss${re.EVENT_KEY}`,Ae=re.NAME;X.on(document,Z,`[data-bs-dismiss="${Ae}"]`,function(ze){if(["A","AREA"].includes(this.tagName)&&ze.preventDefault(),fe(this))return;const yt=Ge.getElementFromSelector(this)||this.closest(`.${Ae}`);re.getOrCreateInstance(yt)[D]()})},va="alert",ri=".bs.alert",Us=`close${ri}`,jc=`closed${ri}`,Is="fade",zr="show";class lc extends ko{static get NAME(){return va}close(){if(X.trigger(this._element,Us).defaultPrevented)return;this._element.classList.remove(zr);const Z=this._element.classList.contains(Is);this._queueCallback(()=>this._destroyElement(),this._element,Z)}_destroyElement(){this._element.remove(),X.trigger(this._element,jc),this.dispose()}static jQueryInterface(D){return this.each(function(){const Z=lc.getOrCreateInstance(this);if(typeof D=="string"){if(Z[D]===void 0||D.startsWith("_")||D==="constructor")throw new TypeError(`No method named "${D}"`);Z[D](this)}})}}Gc(lc,"close"),we(lc);const Ya="button",lr=".bs.button",Jd=".data-api",ii="active",Ls='[data-bs-toggle="button"]',Zl=`click${lr}${Jd}`;class ai extends ko{static get NAME(){return Ya}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(ii))}static jQueryInterface(D){return this.each(function(){const Z=ai.getOrCreateInstance(this);D==="toggle"&&Z[D]()})}}X.on(document,Zl,Ls,re=>{re.preventDefault();const D=re.target.closest(Ls);ai.getOrCreateInstance(D).toggle()}),we(ai);const Yl="swipe",Xs=".bs.swipe",_i=`touchstart${Xs}`,Wf=`touchmove${Xs}`,uc=`touchend${Xs}`,mm=`pointerdown${Xs}`,dn=`pointerup${Xs}`,jo="touch",Da="pen",qc="pointer-event",pm=40,Qu={endCallback:null,leftCallback:null,rightCallback:null},Ws={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class xu extends Ia{constructor(D,Z){super(),this._element=D,!(!D||!xu.isSupported())&&(this._config=this._getConfig(Z),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Qu}static get DefaultType(){return Ws}static get NAME(){return Yl}dispose(){X.off(this._element,Xs)}_start(D){if(!this._supportPointerEvents){this._deltaX=D.touches[0].clientX;return}this._eventIsPointerPenTouch(D)&&(this._deltaX=D.clientX)}_end(D){this._eventIsPointerPenTouch(D)&&(this._deltaX=D.clientX-this._deltaX),this._handleSwipe(),Ue(this._config.endCallback)}_move(D){this._deltaX=D.touches&&D.touches.length>1?0:D.touches[0].clientX-this._deltaX}_handleSwipe(){const D=Math.abs(this._deltaX);if(D<=pm)return;const Z=D/this._deltaX;this._deltaX=0,Z&&Ue(Z>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(X.on(this._element,mm,D=>this._start(D)),X.on(this._element,dn,D=>this._end(D)),this._element.classList.add(qc)):(X.on(this._element,_i,D=>this._start(D)),X.on(this._element,Wf,D=>this._move(D)),X.on(this._element,uc,D=>this._end(D)))}_eventIsPointerPenTouch(D){return this._supportPointerEvents&&(D.pointerType===Da||D.pointerType===jo)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Gf="carousel",jn=".bs.carousel",dc=".data-api",Ju="ArrowLeft",Oh="ArrowRight",gp=500,ci="next",li="prev",vr="left",Rc="right",ef=`slide${jn}`,Kl=`slid${jn}`,Zc=`keydown${jn}`,qr=`mouseenter${jn}`,Al=`mouseleave${jn}`,Xl=`dragstart${jn}`,Cg=`load${jn}${dc}`,Sg=`click${jn}${dc}`,Ql="carousel",jf="active",et="slide",Xi="carousel-item-end",qf="carousel-item-start",xg="carousel-item-next",gm="carousel-item-prev",Gs=".active",tf=".carousel-item",vp=Gs+tf,Ma=".carousel-item img",Jl=".carousel-indicators",Ei="[data-bs-slide], [data-bs-slide-to]",Li='[data-bs-ride="carousel"]',ed={[Ju]:Rc,[Oh]:vr},Ic={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},td={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Dc extends ko{constructor(D,Z){super(D,Z),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Ge.findOne(Jl,this._element),this._addEventListeners(),this._config.ride===Ql&&this.cycle()}static get Default(){return Ic}static get DefaultType(){return td}static get NAME(){return Gf}next(){this._slide(ci)}nextWhenVisible(){!document.hidden&&pe(this._element)&&this.next()}prev(){this._slide(li)}pause(){this._isSliding&&J(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){X.one(this._element,Kl,()=>this.cycle());return}this.cycle()}}to(D){const Z=this._getItems();if(D>Z.length-1||D<0)return;if(this._isSliding){X.one(this._element,Kl,()=>this.to(D));return}const Ae=this._getItemIndex(this._getActive());if(Ae===D)return;const ze=D>Ae?ci:li;this._slide(ze,Z[D])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(D){return D.defaultInterval=D.interval,D}_addEventListeners(){this._config.keyboard&&X.on(this._element,Zc,D=>this._keydown(D)),this._config.pause==="hover"&&(X.on(this._element,qr,()=>this.pause()),X.on(this._element,Al,()=>this._maybeEnableCycle())),this._config.touch&&xu.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const Ae of Ge.find(Ma,this._element))X.on(Ae,Xl,ze=>ze.preventDefault());const Z={leftCallback:()=>this._slide(this._directionToOrder(vr)),rightCallback:()=>this._slide(this._directionToOrder(Rc)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),gp+this._config.interval))}};this._swipeHelper=new xu(this._element,Z)}_keydown(D){if(/input|textarea/i.test(D.target.tagName))return;const Z=ed[D.key];Z&&(D.preventDefault(),this._slide(this._directionToOrder(Z)))}_getItemIndex(D){return this._getItems().indexOf(D)}_setActiveIndicatorElement(D){if(!this._indicatorsElement)return;const Z=Ge.findOne(Gs,this._indicatorsElement);Z.classList.remove(jf),Z.removeAttribute("aria-current");const Ae=Ge.findOne(`[data-bs-slide-to="${D}"]`,this._indicatorsElement);Ae&&(Ae.classList.add(jf),Ae.setAttribute("aria-current","true"))}_updateInterval(){const D=this._activeElement||this._getActive();if(!D)return;const Z=Number.parseInt(D.getAttribute("data-bs-interval"),10);this._config.interval=Z||this._config.defaultInterval}_slide(D,Z=null){if(this._isSliding)return;const Ae=this._getActive(),ze=D===ci,yt=Z||It(this._getItems(),Ae,ze,this._config.wrap);if(yt===Ae)return;const St=this._getItemIndex(yt),Ut=os=>X.trigger(this._element,os,{relatedTarget:yt,direction:this._orderToDirection(D),from:this._getItemIndex(Ae),to:St});if(Ut(ef).defaultPrevented||!Ae||!yt)return;const ao=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(St),this._activeElement=yt;const Tn=ze?qf:Xi,ro=ze?xg:gm;yt.classList.add(ro),ve(yt),Ae.classList.add(Tn),yt.classList.add(Tn);const zt=()=>{yt.classList.remove(Tn,ro),yt.classList.add(jf),Ae.classList.remove(jf,ro,Tn),this._isSliding=!1,Ut(Kl)};this._queueCallback(zt,Ae,this._isAnimated()),ao&&this.cycle()}_isAnimated(){return this._element.classList.contains(et)}_getActive(){return Ge.findOne(vp,this._element)}_getItems(){return Ge.find(tf,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(D){return V()?D===vr?li:ci:D===vr?ci:li}_orderToDirection(D){return V()?D===li?vr:Rc:D===li?Rc:vr}static jQueryInterface(D){return this.each(function(){const Z=Dc.getOrCreateInstance(this,D);if(typeof D=="number"){Z.to(D);return}if(typeof D=="string"){if(Z[D]===void 0||D.startsWith("_")||D==="constructor")throw new TypeError(`No method named "${D}"`);Z[D]()}})}}X.on(document,Sg,Ei,function(re){const D=Ge.getElementFromSelector(this);if(!D||!D.classList.contains(Ql))return;re.preventDefault();const Z=Dc.getOrCreateInstance(D),Ae=this.getAttribute("data-bs-slide-to");if(Ae){Z.to(Ae),Z._maybeEnableCycle();return}if(as.getDataAttribute(this,"slide")==="next"){Z.next(),Z._maybeEnableCycle();return}Z.prev(),Z._maybeEnableCycle()}),X.on(window,Cg,()=>{const re=Ge.find(Li);for(const D of re)Dc.getOrCreateInstance(D)}),we(Dc);const nf="collapse",$i=".bs.collapse",Ol=".data-api",Md=`show${$i}`,hl=`shown${$i}`,Yc=`hide${$i}`,Nr=`hidden${$i}`,of=`click${$i}${Ol}`,eu="show",us="collapse",Na="collapsing",Qi="collapsed",Bi=`:scope .${us} .${us}`,nd="collapse-horizontal",Nd="width",Kc="height",ml=".collapse.show, .collapse.collapsing",sf='[data-bs-toggle="collapse"]',vm={parent:null,toggle:!0},Ag={parent:"(null|element)",toggle:"boolean"};class ka extends ko{constructor(D,Z){super(D,Z),this._isTransitioning=!1,this._triggerArray=[];const Ae=Ge.find(sf);for(const ze of Ae){const yt=Ge.getSelectorFromElement(ze),St=Ge.find(yt).filter(Ut=>Ut===this._element);yt!==null&&St.length&&this._triggerArray.push(ze)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return vm}static get DefaultType(){return Ag}static get NAME(){return nf}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let D=[];if(this._config.parent&&(D=this._getFirstLevelChildren(ml).filter(Ut=>Ut!==this._element).map(Ut=>ka.getOrCreateInstance(Ut,{toggle:!1}))),D.length&&D[0]._isTransitioning||X.trigger(this._element,Md).defaultPrevented)return;for(const Ut of D)Ut.hide();const Ae=this._getDimension();this._element.classList.remove(us),this._element.classList.add(Na),this._element.style[Ae]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const ze=()=>{this._isTransitioning=!1,this._element.classList.remove(Na),this._element.classList.add(us,eu),this._element.style[Ae]="",X.trigger(this._element,hl)},St=`scroll${Ae[0].toUpperCase()+Ae.slice(1)}`;this._queueCallback(ze,this._element,!0),this._element.style[Ae]=`${this._element[St]}px`}hide(){if(this._isTransitioning||!this._isShown()||X.trigger(this._element,Yc).defaultPrevented)return;const Z=this._getDimension();this._element.style[Z]=`${this._element.getBoundingClientRect()[Z]}px`,ve(this._element),this._element.classList.add(Na),this._element.classList.remove(us,eu);for(const ze of this._triggerArray){const yt=Ge.getElementFromSelector(ze);yt&&!this._isShown(yt)&&this._addAriaAndCollapsedClass([ze],!1)}this._isTransitioning=!0;const Ae=()=>{this._isTransitioning=!1,this._element.classList.remove(Na),this._element.classList.add(us),X.trigger(this._element,Nr)};this._element.style[Z]="",this._queueCallback(Ae,this._element,!0)}_isShown(D=this._element){return D.classList.contains(eu)}_configAfterMerge(D){return D.toggle=!!D.toggle,D.parent=ae(D.parent),D}_getDimension(){return this._element.classList.contains(nd)?Nd:Kc}_initializeChildren(){if(!this._config.parent)return;const D=this._getFirstLevelChildren(sf);for(const Z of D){const Ae=Ge.getElementFromSelector(Z);Ae&&this._addAriaAndCollapsedClass([Z],this._isShown(Ae))}}_getFirstLevelChildren(D){const Z=Ge.find(Bi,this._config.parent);return Ge.find(D,this._config.parent).filter(Ae=>!Z.includes(Ae))}_addAriaAndCollapsedClass(D,Z){if(D.length)for(const Ae of D)Ae.classList.toggle(Qi,!Z),Ae.setAttribute("aria-expanded",Z)}static jQueryInterface(D){const Z={};return typeof D=="string"&&/show|hide/.test(D)&&(Z.toggle=!1),this.each(function(){const Ae=ka.getOrCreateInstance(this,Z);if(typeof D=="string"){if(typeof Ae[D]>"u")throw new TypeError(`No method named "${D}"`);Ae[D]()}})}}X.on(document,of,sf,function(re){(re.target.tagName==="A"||re.delegateTarget&&re.delegateTarget.tagName==="A")&&re.preventDefault();for(const D of Ge.getMultipleElementsFromSelector(this))ka.getOrCreateInstance(D,{toggle:!1}).toggle()}),we(ka);var wi="top",fc="bottom",Mc="right",Pa="left",rf="auto",af=[wi,fc,Mc,Pa],Rl="start",Ti="end",Ji="clippingParents",Au="viewport",od="popper",bp="reference",Bs=af.reduce(function(re,D){return re.concat([D+"-"+Rl,D+"-"+Ti])},[]),br=[].concat(af,[rf]).reduce(function(re,D){return re.concat([D,D+"-"+Rl,D+"-"+Ti])},[]),hc="beforeRead",ea="read",tu="afterRead",pl="beforeMain",uo="main",cs="afterMain",Fi="beforeWrite",ui="write",ba="afterWrite",x=[hc,ea,tu,pl,uo,cs,Fi,ui,ba];function k(re){return re?(re.nodeName||"").toLowerCase():null}function U(re){if(re==null)return window;if(re.toString()!=="[object Window]"){var D=re.ownerDocument;return D&&D.defaultView||window}return re}function q(re){var D=U(re).Element;return re instanceof D||re instanceof Element}function oe(re){var D=U(re).HTMLElement;return re instanceof D||re instanceof HTMLElement}function he(re){if(typeof ShadowRoot>"u")return!1;var D=U(re).ShadowRoot;return re instanceof D||re instanceof ShadowRoot}function Ee(re){var D=re.state;Object.keys(D.elements).forEach(function(Z){var Ae=D.styles[Z]||{},ze=D.attributes[Z]||{},yt=D.elements[Z];!oe(yt)||!k(yt)||(Object.assign(yt.style,Ae),Object.keys(ze).forEach(function(St){var Ut=ze[St];Ut===!1?yt.removeAttribute(St):yt.setAttribute(St,Ut===!0?"":Ut)}))})}function Ce(re){var D=re.state,Z={popper:{position:D.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(D.elements.popper.style,Z.popper),D.styles=Z,D.elements.arrow&&Object.assign(D.elements.arrow.style,Z.arrow),function(){Object.keys(D.elements).forEach(function(Ae){var ze=D.elements[Ae],yt=D.attributes[Ae]||{},St=Object.keys(D.styles.hasOwnProperty(Ae)?D.styles[Ae]:Z[Ae]),Ut=St.reduce(function(on,ao){return on[ao]="",on},{});!oe(ze)||!k(ze)||(Object.assign(ze.style,Ut),Object.keys(yt).forEach(function(on){ze.removeAttribute(on)}))})}}const $e={name:"applyStyles",enabled:!0,phase:"write",fn:Ee,effect:Ce,requires:["computeStyles"]};function ot(re){return re.split("-")[0]}var wt=Math.max,qt=Math.min,st=Math.round;function Pt(){var re=navigator.userAgentData;return re!=null&&re.brands&&Array.isArray(re.brands)?re.brands.map(function(D){return D.brand+"/"+D.version}).join(" "):navigator.userAgent}function no(){return!/^((?!chrome|android).)*safari/i.test(Pt())}function qn(re,D,Z){D===void 0&&(D=!1),Z===void 0&&(Z=!1);var Ae=re.getBoundingClientRect(),ze=1,yt=1;D&&oe(re)&&(ze=re.offsetWidth>0&&st(Ae.width)/re.offsetWidth||1,yt=re.offsetHeight>0&&st(Ae.height)/re.offsetHeight||1);var St=q(re)?U(re):window,Ut=St.visualViewport,on=!no()&&Z,ao=(Ae.left+(on&&Ut?Ut.offsetLeft:0))/ze,Tn=(Ae.top+(on&&Ut?Ut.offsetTop:0))/yt,ro=Ae.width/ze,zt=Ae.height/yt;return{width:ro,height:zt,top:Tn,right:ao+ro,bottom:Tn+zt,left:ao,x:ao,y:Tn}}function xn(re){var D=qn(re),Z=re.offsetWidth,Ae=re.offsetHeight;return Math.abs(D.width-Z)<=1&&(Z=D.width),Math.abs(D.height-Ae)<=1&&(Ae=D.height),{x:re.offsetLeft,y:re.offsetTop,width:Z,height:Ae}}function yr(re,D){var Z=D.getRootNode&&D.getRootNode();if(re.contains(D))return!0;if(Z&&he(Z)){var Ae=D;do{if(Ae&&re.isSameNode(Ae))return!0;Ae=Ae.parentNode||Ae.host}while(Ae)}return!1}function _r(re){return U(re).getComputedStyle(re)}function ws(re){return["table","td","th"].indexOf(k(re))>=0}function Zn(re){return((q(re)?re.ownerDocument:re.document)||window.document).documentElement}function eo(re){return k(re)==="html"?re:re.assignedSlot||re.parentNode||(he(re)?re.host:null)||Zn(re)}function ta(re){return!oe(re)||_r(re).position==="fixed"?null:re.offsetParent}function Po(re){var D=/firefox/i.test(Pt()),Z=/Trident/i.test(Pt());if(Z&&oe(re)){var Ae=_r(re);if(Ae.position==="fixed")return null}var ze=eo(re);for(he(ze)&&(ze=ze.host);oe(ze)&&["html","body"].indexOf(k(ze))<0;){var yt=_r(ze);if(yt.transform!=="none"||yt.perspective!=="none"||yt.contain==="paint"||["transform","perspective"].indexOf(yt.willChange)!==-1||D&&yt.willChange==="filter"||D&&yt.filter&&yt.filter!=="none")return ze;ze=ze.parentNode}return null}function nr(re){for(var D=U(re),Z=ta(re);Z&&ws(Z)&&_r(Z).position==="static";)Z=ta(Z);return Z&&(k(Z)==="html"||k(Z)==="body"&&_r(Z).position==="static")?D:Z||Po(re)||D}function nu(re){return["top","bottom"].indexOf(re)>=0?"x":"y"}function Ds(re,D,Z){return wt(re,qt(D,Z))}function Er(re,D,Z){var Ae=Ds(re,D,Z);return Ae>Z?Z:Ae}function Jr(){return{top:0,right:0,bottom:0,left:0}}function Xc(re){return Object.assign({},Jr(),re)}function Ci(re,D){return D.reduce(function(Z,Ae){return Z[Ae]=re,Z},{})}var ps=function(D,Z){return D=typeof D=="function"?D(Object.assign({},Z.rects,{placement:Z.placement})):D,Xc(typeof D!="number"?D:Ci(D,af))};function Rr(re){var D,Z=re.state,Ae=re.name,ze=re.options,yt=Z.elements.arrow,St=Z.modifiersData.popperOffsets,Ut=ot(Z.placement),on=nu(Ut),ao=[Pa,Mc].indexOf(Ut)>=0,Tn=ao?"height":"width";if(!(!yt||!St)){var ro=ps(ze.padding,Z),zt=xn(yt),os=on==="y"?wi:Pa,oi=on==="y"?fc:Mc,So=Z.rects.reference[Tn]+Z.rects.reference[on]-St[on]-Z.rects.popper[Tn],or=St[on]-Z.rects.reference[on],sr=nr(yt),Hs=sr?on==="y"?sr.clientHeight||0:sr.clientWidth||0:0,Tr=So/2-or/2,Uo=ro[os],hr=Hs-zt[Tn]-ro[oi],rr=Hs/2-zt[Tn]/2+Tr,aa=Ds(Uo,rr,hr),ca=on;Z.modifiersData[Ae]=(D={},D[ca]=aa,D.centerOffset=aa-rr,D)}}function mc(re){var D=re.state,Z=re.options,Ae=Z.element,ze=Ae===void 0?"[data-popper-arrow]":Ae;ze!=null&&(typeof ze=="string"&&(ze=D.elements.popper.querySelector(ze),!ze)||yr(D.elements.popper,ze)&&(D.elements.arrow=ze))}const Zf={name:"arrow",enabled:!0,phase:"main",fn:Rr,effect:mc,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function La(re){return re.split("-")[1]}var gl={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Eo(re,D){var Z=re.x,Ae=re.y,ze=D.devicePixelRatio||1;return{x:st(Z*ze)/ze||0,y:st(Ae*ze)/ze||0}}function ei(re){var D,Z=re.popper,Ae=re.popperRect,ze=re.placement,yt=re.variation,St=re.offsets,Ut=re.position,on=re.gpuAcceleration,ao=re.adaptive,Tn=re.roundOffsets,ro=re.isFixed,zt=St.x,os=zt===void 0?0:zt,oi=St.y,So=oi===void 0?0:oi,or=typeof Tn=="function"?Tn({x:os,y:So}):{x:os,y:So};os=or.x,So=or.y;var sr=St.hasOwnProperty("x"),Hs=St.hasOwnProperty("y"),Tr=Pa,Uo=wi,hr=window;if(ao){var rr=nr(Z),aa="clientHeight",ca="clientWidth";if(rr===U(Z)&&(rr=Zn(Z),_r(rr).position!=="static"&&Ut==="absolute"&&(aa="scrollHeight",ca="scrollWidth")),rr=rr,ze===wi||(ze===Pa||ze===Mc)&&yt===Ti){Uo=fc;var Wi=ro&&rr===hr&&hr.visualViewport?hr.visualViewport.height:rr[aa];So-=Wi-Ae.height,So*=on?1:-1}if(ze===Pa||(ze===wi||ze===fc)&&yt===Ti){Tr=Mc;var pi=ro&&rr===hr&&hr.visualViewport?hr.visualViewport.width:rr[ca];os-=pi-Ae.width,os*=on?1:-1}}var Ta=Object.assign({position:Ut},ao&&gl),Bc=Tn===!0?Eo({x:os,y:So},U(Z)):{x:os,y:So};if(os=Bc.x,So=Bc.y,on){var sl;return Object.assign({},Ta,(sl={},sl[Uo]=Hs?"0":"",sl[Tr]=sr?"0":"",sl.transform=(hr.devicePixelRatio||1)<=1?"translate("+os+"px, "+So+"px)":"translate3d("+os+"px, "+So+"px, 0)",sl))}return Object.assign({},Ta,(D={},D[Uo]=Hs?So+"px":"",D[Tr]=sr?os+"px":"",D.transform="",D))}function Ka(re){var D=re.state,Z=re.options,Ae=Z.gpuAcceleration,ze=Ae===void 0?!0:Ae,yt=Z.adaptive,St=yt===void 0?!0:yt,Ut=Z.roundOffsets,on=Ut===void 0?!0:Ut,ao={placement:ot(D.placement),variation:La(D.placement),popper:D.elements.popper,popperRect:D.rects.popper,gpuAcceleration:ze,isFixed:D.options.strategy==="fixed"};D.modifiersData.popperOffsets!=null&&(D.styles.popper=Object.assign({},D.styles.popper,ei(Object.assign({},ao,{offsets:D.modifiersData.popperOffsets,position:D.options.strategy,adaptive:St,roundOffsets:on})))),D.modifiersData.arrow!=null&&(D.styles.arrow=Object.assign({},D.styles.arrow,ei(Object.assign({},ao,{offsets:D.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:on})))),D.attributes.popper=Object.assign({},D.attributes.popper,{"data-popper-placement":D.placement})}const pc={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Ka,data:{}};var na={passive:!0};function Ir(re){var D=re.state,Z=re.instance,Ae=re.options,ze=Ae.scroll,yt=ze===void 0?!0:ze,St=Ae.resize,Ut=St===void 0?!0:St,on=U(D.elements.popper),ao=[].concat(D.scrollParents.reference,D.scrollParents.popper);return yt&&ao.forEach(function(Tn){Tn.addEventListener("scroll",Z.update,na)}),Ut&&on.addEventListener("resize",Z.update,na),function(){yt&&ao.forEach(function(Tn){Tn.removeEventListener("scroll",Z.update,na)}),Ut&&on.removeEventListener("resize",Z.update,na)}}const ya={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Ir,data:{}};var Yf={left:"right",right:"left",bottom:"top",top:"bottom"};function Ou(re){return re.replace(/left|right|bottom|top/g,function(D){return Yf[D]})}var bm={start:"end",end:"start"};function yp(re){return re.replace(/start|end/g,function(D){return bm[D]})}function Il(re){var D=U(re),Z=D.pageXOffset,Ae=D.pageYOffset;return{scrollLeft:Z,scrollTop:Ae}}function Ru(re){return qn(Zn(re)).left+Il(re).scrollLeft}function Rh(re,D){var Z=U(re),Ae=Zn(re),ze=Z.visualViewport,yt=Ae.clientWidth,St=Ae.clientHeight,Ut=0,on=0;if(ze){yt=ze.width,St=ze.height;var ao=no();(ao||!ao&&D==="fixed")&&(Ut=ze.offsetLeft,on=ze.offsetTop)}return{width:yt,height:St,x:Ut+Ru(re),y:on}}function Hi(re){var D,Z=Zn(re),Ae=Il(re),ze=(D=re.ownerDocument)==null?void 0:D.body,yt=wt(Z.scrollWidth,Z.clientWidth,ze?ze.scrollWidth:0,ze?ze.clientWidth:0),St=wt(Z.scrollHeight,Z.clientHeight,ze?ze.scrollHeight:0,ze?ze.clientHeight:0),Ut=-Ae.scrollLeft+Ru(re),on=-Ae.scrollTop;return _r(ze||Z).direction==="rtl"&&(Ut+=wt(Z.clientWidth,ze?ze.clientWidth:0)-yt),{width:yt,height:St,x:Ut,y:on}}function sd(re){var D=_r(re),Z=D.overflow,Ae=D.overflowX,ze=D.overflowY;return/auto|scroll|overlay|hidden/.test(Z+ze+Ae)}function kd(re){return["html","body","#document"].indexOf(k(re))>=0?re.ownerDocument.body:oe(re)&&sd(re)?re:kd(eo(re))}function Dl(re,D){var Z;D===void 0&&(D=[]);var Ae=kd(re),ze=Ae===((Z=re.ownerDocument)==null?void 0:Z.body),yt=U(Ae),St=ze?[yt].concat(yt.visualViewport||[],sd(Ae)?Ae:[]):Ae,Ut=D.concat(St);return ze?Ut:Ut.concat(Dl(eo(St)))}function Xa(re){return Object.assign({},re,{left:re.x,top:re.y,right:re.x+re.width,bottom:re.y+re.height})}function $a(re,D){var Z=qn(re,!1,D==="fixed");return Z.top=Z.top+re.clientTop,Z.left=Z.left+re.clientLeft,Z.bottom=Z.top+re.clientHeight,Z.right=Z.left+re.clientWidth,Z.width=re.clientWidth,Z.height=re.clientHeight,Z.x=Z.left,Z.y=Z.top,Z}function rd(re,D,Z){return D===Au?Xa(Rh(re,Z)):q(D)?$a(D,Z):Xa(Hi(Zn(re)))}function cf(re){var D=Dl(eo(re)),Z=["absolute","fixed"].indexOf(_r(re).position)>=0,Ae=Z&&oe(re)?nr(re):re;return q(Ae)?D.filter(function(ze){return q(ze)&&yr(ze,Ae)&&k(ze)!=="body"}):[]}function _p(re,D,Z,Ae){var ze=D==="clippingParents"?cf(re):[].concat(D),yt=[].concat(ze,[Z]),St=yt[0],Ut=yt.reduce(function(on,ao){var Tn=rd(re,ao,Ae);return on.top=wt(Tn.top,on.top),on.right=qt(Tn.right,on.right),on.bottom=qt(Tn.bottom,on.bottom),on.left=wt(Tn.left,on.left),on},rd(re,St,Ae));return Ut.width=Ut.right-Ut.left,Ut.height=Ut.bottom-Ut.top,Ut.x=Ut.left,Ut.y=Ut.top,Ut}function Ep(re){var D=re.reference,Z=re.element,Ae=re.placement,ze=Ae?ot(Ae):null,yt=Ae?La(Ae):null,St=D.x+D.width/2-Z.width/2,Ut=D.y+D.height/2-Z.height/2,on;switch(ze){case wi:on={x:St,y:D.y-Z.height};break;case fc:on={x:St,y:D.y+D.height};break;case Mc:on={x:D.x+D.width,y:Ut};break;case Pa:on={x:D.x-Z.width,y:Ut};break;default:on={x:D.x,y:D.y}}var ao=ze?nu(ze):null;if(ao!=null){var Tn=ao==="y"?"height":"width";switch(yt){case Rl:on[ao]=on[ao]-(D[Tn]/2-Z[Tn]/2);break;case Ti:on[ao]=on[ao]+(D[Tn]/2-Z[Tn]/2);break}}return on}function hs(re,D){D===void 0&&(D={});var Z=D,Ae=Z.placement,ze=Ae===void 0?re.placement:Ae,yt=Z.strategy,St=yt===void 0?re.strategy:yt,Ut=Z.boundary,on=Ut===void 0?Ji:Ut,ao=Z.rootBoundary,Tn=ao===void 0?Au:ao,ro=Z.elementContext,zt=ro===void 0?od:ro,os=Z.altBoundary,oi=os===void 0?!1:os,So=Z.padding,or=So===void 0?0:So,sr=Xc(typeof or!="number"?or:Ci(or,af)),Hs=zt===od?bp:od,Tr=re.rects.popper,Uo=re.elements[oi?Hs:zt],hr=_p(q(Uo)?Uo:Uo.contextElement||Zn(re.elements.popper),on,Tn,St),rr=qn(re.elements.reference),aa=Ep({reference:rr,element:Tr,strategy:"absolute",placement:ze}),ca=Xa(Object.assign({},Tr,aa)),Wi=zt===od?ca:rr,pi={top:hr.top-Wi.top+sr.top,bottom:Wi.bottom-hr.bottom+sr.bottom,left:hr.left-Wi.left+sr.left,right:Wi.right-hr.right+sr.right},Ta=re.modifiersData.offset;if(zt===od&&Ta){var Bc=Ta[ze];Object.keys(pi).forEach(function(sl){var Bd=[Mc,fc].indexOf(sl)>=0?1:-1,Fl=[wi,fc].indexOf(sl)>=0?"y":"x";pi[sl]+=Bc[Fl]*Bd})}return pi}function Qc(re,D){D===void 0&&(D={});var Z=D,Ae=Z.placement,ze=Z.boundary,yt=Z.rootBoundary,St=Z.padding,Ut=Z.flipVariations,on=Z.allowedAutoPlacements,ao=on===void 0?br:on,Tn=La(Ae),ro=Tn?Ut?Bs:Bs.filter(function(oi){return La(oi)===Tn}):af,zt=ro.filter(function(oi){return ao.indexOf(oi)>=0});zt.length===0&&(zt=ro);var os=zt.reduce(function(oi,So){return oi[So]=hs(re,{placement:So,boundary:ze,rootBoundary:yt,padding:St})[ot(So)],oi},{});return Object.keys(os).sort(function(oi,So){return os[oi]-os[So]})}function Ne(re){if(ot(re)===rf)return[];var D=Ou(re);return[yp(re),D,yp(D)]}function Nc(re){var D=re.state,Z=re.options,Ae=re.name;if(!D.modifiersData[Ae]._skip){for(var ze=Z.mainAxis,yt=ze===void 0?!0:ze,St=Z.altAxis,Ut=St===void 0?!0:St,on=Z.fallbackPlacements,ao=Z.padding,Tn=Z.boundary,ro=Z.rootBoundary,zt=Z.altBoundary,os=Z.flipVariations,oi=os===void 0?!0:os,So=Z.allowedAutoPlacements,or=D.options.placement,sr=ot(or),Hs=sr===or,Tr=on||(Hs||!oi?[Ou(or)]:Ne(or)),Uo=[or].concat(Tr).reduce(function(Fu,Hl){return Fu.concat(ot(Hl)===rf?Qc(D,{placement:Hl,boundary:Tn,rootBoundary:ro,padding:ao,flipVariations:oi,allowedAutoPlacements:So}):Hl)},[]),hr=D.rects.reference,rr=D.rects.popper,aa=new Map,ca=!0,Wi=Uo[0],pi=0;pi<Uo.length;pi++){var Ta=Uo[pi],Bc=ot(Ta),sl=La(Ta)===Rl,Bd=[wi,fc].indexOf(Bc)>=0,Fl=Bd?"width":"height",Fc=hs(D,{placement:Ta,boundary:Tn,rootBoundary:ro,altBoundary:zt,padding:ao}),gi=Bd?sl?Mc:Pa:sl?fc:wi;hr[Fl]>rr[Fl]&&(gi=Ou(gi));var Ca=Ou(gi),rl=[];if(yt&&rl.push(Fc[Bc]<=0),Ut&&rl.push(Fc[gi]<=0,Fc[Ca]<=0),rl.every(function(Fu){return Fu})){Wi=Ta,ca=!1;break}aa.set(Ta,rl)}if(ca)for(var bd=oi?3:1,Nm=function(Hl){var Gi=Uo.find(function(Hu){var Uh=aa.get(Hu);if(Uh)return Uh.slice(0,Hl).every(function(Dp){return Dp})});if(Gi)return Wi=Gi,"break"},Fd=bd;Fd>0;Fd--){var wl=Nm(Fd);if(wl==="break")break}D.placement!==Wi&&(D.modifiersData[Ae]._skip=!0,D.placement=Wi,D.reset=!0)}}const _a={name:"flip",enabled:!0,phase:"main",fn:Nc,requiresIfExists:["offset"],data:{_skip:!1}};function Ih(re,D,Z){return Z===void 0&&(Z={x:0,y:0}),{top:re.top-D.height-Z.y,right:re.right-D.width+Z.x,bottom:re.bottom-D.height+Z.y,left:re.left-D.width-Z.x}}function Og(re){return[wi,Mc,fc,Pa].some(function(D){return re[D]>=0})}function zv(re){var D=re.state,Z=re.name,Ae=D.rects.reference,ze=D.rects.popper,yt=D.modifiersData.preventOverflow,St=hs(D,{elementContext:"reference"}),Ut=hs(D,{altBoundary:!0}),on=Ih(St,Ae),ao=Ih(Ut,ze,yt),Tn=Og(on),ro=Og(ao);D.modifiersData[Z]={referenceClippingOffsets:on,popperEscapeOffsets:ao,isReferenceHidden:Tn,hasPopperEscaped:ro},D.attributes.popper=Object.assign({},D.attributes.popper,{"data-popper-reference-hidden":Tn,"data-popper-escaped":ro})}const es={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:zv};function at(re,D,Z){var Ae=ot(re),ze=[Pa,wi].indexOf(Ae)>=0?-1:1,yt=typeof Z=="function"?Z(Object.assign({},D,{placement:re})):Z,St=yt[0],Ut=yt[1];return St=St||0,Ut=(Ut||0)*ze,[Pa,Mc].indexOf(Ae)>=0?{x:Ut,y:St}:{x:St,y:Ut}}function $t(re){var D=re.state,Z=re.options,Ae=re.name,ze=Z.offset,yt=ze===void 0?[0,0]:ze,St=br.reduce(function(Tn,ro){return Tn[ro]=at(ro,D.rects,yt),Tn},{}),Ut=St[D.placement],on=Ut.x,ao=Ut.y;D.modifiersData.popperOffsets!=null&&(D.modifiersData.popperOffsets.x+=on,D.modifiersData.popperOffsets.y+=ao),D.modifiersData[Ae]=St}const Dt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:$t};function Yn(re){var D=re.state,Z=re.name;D.modifiersData[Z]=Ep({reference:D.rects.reference,element:D.rects.popper,strategy:"absolute",placement:D.placement})}const To={name:"popperOffsets",enabled:!0,phase:"read",fn:Yn,data:{}};function ts(re){return re==="x"?"y":"x"}function Si(re){var D=re.state,Z=re.options,Ae=re.name,ze=Z.mainAxis,yt=ze===void 0?!0:ze,St=Z.altAxis,Ut=St===void 0?!1:St,on=Z.boundary,ao=Z.rootBoundary,Tn=Z.altBoundary,ro=Z.padding,zt=Z.tether,os=zt===void 0?!0:zt,oi=Z.tetherOffset,So=oi===void 0?0:oi,or=hs(D,{boundary:on,rootBoundary:ao,padding:ro,altBoundary:Tn}),sr=ot(D.placement),Hs=La(D.placement),Tr=!Hs,Uo=nu(sr),hr=ts(Uo),rr=D.modifiersData.popperOffsets,aa=D.rects.reference,ca=D.rects.popper,Wi=typeof So=="function"?So(Object.assign({},D.rects,{placement:D.placement})):So,pi=typeof Wi=="number"?{mainAxis:Wi,altAxis:Wi}:Object.assign({mainAxis:0,altAxis:0},Wi),Ta=D.modifiersData.offset?D.modifiersData.offset[D.placement]:null,Bc={x:0,y:0};if(rr){if(yt){var sl,Bd=Uo==="y"?wi:Pa,Fl=Uo==="y"?fc:Mc,Fc=Uo==="y"?"height":"width",gi=rr[Uo],Ca=gi+or[Bd],rl=gi-or[Fl],bd=os?-ca[Fc]/2:0,Nm=Hs===Rl?aa[Fc]:ca[Fc],Fd=Hs===Rl?-ca[Fc]:-aa[Fc],wl=D.elements.arrow,Fu=os&&wl?xn(wl):{width:0,height:0},Hl=D.modifiersData["arrow#persistent"]?D.modifiersData["arrow#persistent"].padding:Jr(),Gi=Hl[Bd],Hu=Hl[Fl],Uh=Ds(0,aa[Fc],Fu[Fc]),Dp=Tr?aa[Fc]/2-bd-Uh-Gi-pi.mainAxis:Nm-Uh-Gi-pi.mainAxis,e1=Tr?-aa[Fc]/2+bd+Uh+Hu+pi.mainAxis:Fd+Uh+Hu+pi.mainAxis,qs=D.elements.arrow&&nr(D.elements.arrow),x0=qs?Uo==="y"?qs.clientTop||0:qs.clientLeft||0:0,t1=(sl=Ta==null?void 0:Ta[Uo])!=null?sl:0,A0=gi+Dp-t1-x0,Zg=gi+e1-t1,Wh=Ds(os?qt(Ca,A0):Ca,gi,os?wt(rl,Zg):rl);rr[Uo]=Wh,Bc[Uo]=Wh-gi}if(Ut){var Hd,Ri=Uo==="x"?wi:Pa,yf=Uo==="x"?fc:Mc,_f=rr[hr],Xr=hr==="y"?"height":"width",Mp=_f+or[Ri],km=_f-or[yf],mb=[wi,Pa].indexOf(sr)!==-1,n1=(Hd=Ta==null?void 0:Ta[hr])!=null?Hd:0,Ef=mb?Mp:_f-aa[Xr]-ca[Xr]-n1+pi.altAxis,Vd=mb?_f+aa[Xr]+ca[Xr]-n1-pi.altAxis:km,Np=os&&mb?Er(Ef,_f,Vd):Ds(os?Ef:Mp,_f,os?Vd:km);rr[hr]=Np,Bc[hr]=Np-_f}D.modifiersData[Ae]=Bc}}const Qs={name:"preventOverflow",enabled:!0,phase:"main",fn:Si,requiresIfExists:["offset"]};function Kf(re){return{scrollLeft:re.scrollLeft,scrollTop:re.scrollTop}}function Jc(re){return re===U(re)||!oe(re)?Il(re):Kf(re)}function Qa(re){var D=re.getBoundingClientRect(),Z=st(D.width)/re.offsetWidth||1,Ae=st(D.height)/re.offsetHeight||1;return Z!==1||Ae!==1}function Oe(re,D,Z){Z===void 0&&(Z=!1);var Ae=oe(D),ze=oe(D)&&Qa(D),yt=Zn(D),St=qn(re,ze,Z),Ut={scrollLeft:0,scrollTop:0},on={x:0,y:0};return(Ae||!Ae&&!Z)&&((k(D)!=="body"||sd(yt))&&(Ut=Jc(D)),oe(D)?(on=qn(D,!0),on.x+=D.clientLeft,on.y+=D.clientTop):yt&&(on.x=Ru(yt))),{x:St.left+Ut.scrollLeft-on.x,y:St.top+Ut.scrollTop-on.y,width:St.width,height:St.height}}function Be(re){var D=new Map,Z=new Set,Ae=[];re.forEach(function(yt){D.set(yt.name,yt)});function ze(yt){Z.add(yt.name);var St=[].concat(yt.requires||[],yt.requiresIfExists||[]);St.forEach(function(Ut){if(!Z.has(Ut)){var on=D.get(Ut);on&&ze(on)}}),Ae.push(yt)}return re.forEach(function(yt){Z.has(yt.name)||ze(yt)}),Ae}function qe(re){var D=Be(re);return x.reduce(function(Z,Ae){return Z.concat(D.filter(function(ze){return ze.phase===Ae}))},[])}function Vt(re){var D;return function(){return D||(D=new Promise(function(Z){Promise.resolve().then(function(){D=void 0,Z(re())})})),D}}function ft(re){var D=re.reduce(function(Z,Ae){var ze=Z[Ae.name];return Z[Ae.name]=ze?Object.assign({},ze,Ae,{options:Object.assign({},ze.options,Ae.options),data:Object.assign({},ze.data,Ae.data)}):Ae,Z},{});return Object.keys(D).map(function(Z){return D[Z]})}var xt={placement:"bottom",modifiers:[],strategy:"absolute"};function Xt(){for(var re=arguments.length,D=new Array(re),Z=0;Z<re;Z++)D[Z]=arguments[Z];return!D.some(function(Ae){return!(Ae&&typeof Ae.getBoundingClientRect=="function")})}function An(re){re===void 0&&(re={});var D=re,Z=D.defaultModifiers,Ae=Z===void 0?[]:Z,ze=D.defaultOptions,yt=ze===void 0?xt:ze;return function(Ut,on,ao){ao===void 0&&(ao=yt);var Tn={placement:"bottom",orderedModifiers:[],options:Object.assign({},xt,yt),modifiersData:{},elements:{reference:Ut,popper:on},attributes:{},styles:{}},ro=[],zt=!1,os={state:Tn,setOptions:function(sr){var Hs=typeof sr=="function"?sr(Tn.options):sr;So(),Tn.options=Object.assign({},yt,Tn.options,Hs),Tn.scrollParents={reference:q(Ut)?Dl(Ut):Ut.contextElement?Dl(Ut.contextElement):[],popper:Dl(on)};var Tr=qe(ft([].concat(Ae,Tn.options.modifiers)));return Tn.orderedModifiers=Tr.filter(function(Uo){return Uo.enabled}),oi(),os.update()},forceUpdate:function(){if(!zt){var sr=Tn.elements,Hs=sr.reference,Tr=sr.popper;if(Xt(Hs,Tr)){Tn.rects={reference:Oe(Hs,nr(Tr),Tn.options.strategy==="fixed"),popper:xn(Tr)},Tn.reset=!1,Tn.placement=Tn.options.placement,Tn.orderedModifiers.forEach(function(pi){return Tn.modifiersData[pi.name]=Object.assign({},pi.data)});for(var Uo=0;Uo<Tn.orderedModifiers.length;Uo++){if(Tn.reset===!0){Tn.reset=!1,Uo=-1;continue}var hr=Tn.orderedModifiers[Uo],rr=hr.fn,aa=hr.options,ca=aa===void 0?{}:aa,Wi=hr.name;typeof rr=="function"&&(Tn=rr({state:Tn,options:ca,name:Wi,instance:os})||Tn)}}}},update:Vt(function(){return new Promise(function(or){os.forceUpdate(),or(Tn)})}),destroy:function(){So(),zt=!0}};if(!Xt(Ut,on))return os;os.setOptions(ao).then(function(or){!zt&&ao.onFirstUpdate&&ao.onFirstUpdate(or)});function oi(){Tn.orderedModifiers.forEach(function(or){var sr=or.name,Hs=or.options,Tr=Hs===void 0?{}:Hs,Uo=or.effect;if(typeof Uo=="function"){var hr=Uo({state:Tn,name:sr,instance:os,options:Tr}),rr=function(){};ro.push(hr||rr)}})}function So(){ro.forEach(function(or){return or()}),ro=[]}return os}}var Ln=An(),Co=[ya,To,pc,$e],wo=An({defaultModifiers:Co}),fo=[ya,To,pc,$e,Dt,_a,Qs,Zf,es],zo=An({defaultModifiers:fo});const Ns=Object.freeze(Object.defineProperty({__proto__:null,afterMain:cs,afterRead:tu,afterWrite:ba,applyStyles:$e,arrow:Zf,auto:rf,basePlacements:af,beforeMain:pl,beforeRead:hc,beforeWrite:Fi,bottom:fc,clippingParents:Ji,computeStyles:pc,createPopper:zo,createPopperBase:Ln,createPopperLite:wo,detectOverflow:hs,end:Ti,eventListeners:ya,flip:_a,hide:es,left:Pa,main:uo,modifierPhases:x,offset:Dt,placements:br,popper:od,popperGenerator:An,popperOffsets:To,preventOverflow:Qs,read:ea,reference:bp,right:Mc,start:Rl,top:wi,variationPlacements:Bs,viewport:Au,write:ui},Symbol.toStringTag,{value:"Module"})),Ao="dropdown",Zr=".bs.dropdown",Fa=".data-api",ur="Escape",ou="Tab",js="ArrowUp",ns="ArrowDown",su=2,wp=`hide${Zr}`,S0=`hidden${Zr}`,Ja=`show${Zr}`,Tp=`shown${Zr}`,ru=`click${Zr}${Fa}`,Ml=`keydown${Zr}${Fa}`,Dh=`keyup${Zr}${Fa}`,io="show",gc="dropup",ym="dropend",sb="dropstart",xi="dropup-center",Ha="dropdown-center",el='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',iu=`${el}.${io}`,oa=".dropdown-menu",Nl=".navbar",Ea=".navbar-nav",Cp=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",bs=V()?"top-end":"top-start",kl=V()?"top-start":"top-end",Iu=V()?"bottom-end":"bottom-start",kr=V()?"bottom-start":"bottom-end",Sp=V()?"left-start":"right-start",_m=V()?"right-start":"left-start",lf="top",dr="bottom",Pr={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},vc={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class au extends ko{constructor(D,Z){super(D,Z),this._popper=null,this._parent=this._element.parentNode,this._menu=Ge.next(this._element,oa)[0]||Ge.prev(this._element,oa)[0]||Ge.findOne(oa,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Pr}static get DefaultType(){return vc}static get NAME(){return Ao}toggle(){return this._isShown()?this.hide():this.show()}show(){if(fe(this._element)||this._isShown())return;const D={relatedTarget:this._element};if(!X.trigger(this._element,Ja,D).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(Ea))for(const Ae of[].concat(...document.body.children))X.on(Ae,"mouseover",le);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(io),this._element.classList.add(io),X.trigger(this._element,Tp,D)}}hide(){if(fe(this._element)||!this._isShown())return;const D={relatedTarget:this._element};this._completeHide(D)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(D){if(!X.trigger(this._element,wp,D).defaultPrevented){if("ontouchstart"in document.documentElement)for(const Ae of[].concat(...document.body.children))X.off(Ae,"mouseover",le);this._popper&&this._popper.destroy(),this._menu.classList.remove(io),this._element.classList.remove(io),this._element.setAttribute("aria-expanded","false"),as.removeDataAttribute(this._menu,"popper"),X.trigger(this._element,S0,D)}}_getConfig(D){if(D=super._getConfig(D),typeof D.reference=="object"&&!me(D.reference)&&typeof D.reference.getBoundingClientRect!="function")throw new TypeError(`${Ao.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return D}_createPopper(){if(typeof Ns>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let D=this._element;this._config.reference==="parent"?D=this._parent:me(this._config.reference)?D=ae(this._config.reference):typeof this._config.reference=="object"&&(D=this._config.reference);const Z=this._getPopperConfig();this._popper=zo(D,this._menu,Z)}_isShown(){return this._menu.classList.contains(io)}_getPlacement(){const D=this._parent;if(D.classList.contains(ym))return Sp;if(D.classList.contains(sb))return _m;if(D.classList.contains(xi))return lf;if(D.classList.contains(Ha))return dr;const Z=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return D.classList.contains(gc)?Z?kl:bs:Z?kr:Iu}_detectNavbar(){return this._element.closest(Nl)!==null}_getOffset(){const{offset:D}=this._config;return typeof D=="string"?D.split(",").map(Z=>Number.parseInt(Z,10)):typeof D=="function"?Z=>D(Z,this._element):D}_getPopperConfig(){const D={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(as.setDataAttribute(this._menu,"popper","static"),D.modifiers=[{name:"applyStyles",enabled:!1}]),{...D,...Ue(this._config.popperConfig,[D])}}_selectMenuItem({key:D,target:Z}){const Ae=Ge.find(Cp,this._menu).filter(ze=>pe(ze));Ae.length&&It(Ae,Z,D===ns,!Ae.includes(Z)).focus()}static jQueryInterface(D){return this.each(function(){const Z=au.getOrCreateInstance(this,D);if(typeof D=="string"){if(typeof Z[D]>"u")throw new TypeError(`No method named "${D}"`);Z[D]()}})}static clearMenus(D){if(D.button===su||D.type==="keyup"&&D.key!==ou)return;const Z=Ge.find(iu);for(const Ae of Z){const ze=au.getInstance(Ae);if(!ze||ze._config.autoClose===!1)continue;const yt=D.composedPath(),St=yt.includes(ze._menu);if(yt.includes(ze._element)||ze._config.autoClose==="inside"&&!St||ze._config.autoClose==="outside"&&St||ze._menu.contains(D.target)&&(D.type==="keyup"&&D.key===ou||/input|select|option|textarea|form/i.test(D.target.tagName)))continue;const Ut={relatedTarget:ze._element};D.type==="click"&&(Ut.clickEvent=D),ze._completeHide(Ut)}}static dataApiKeydownHandler(D){const Z=/input|textarea/i.test(D.target.tagName),Ae=D.key===ur,ze=[js,ns].includes(D.key);if(!ze&&!Ae||Z&&!Ae)return;D.preventDefault();const yt=this.matches(el)?this:Ge.prev(this,el)[0]||Ge.next(this,el)[0]||Ge.findOne(el,D.delegateTarget.parentNode),St=au.getOrCreateInstance(yt);if(ze){D.stopPropagation(),St.show(),St._selectMenuItem(D);return}St._isShown()&&(D.stopPropagation(),St.hide(),yt.focus())}}X.on(document,Ml,el,au.dataApiKeydownHandler),X.on(document,Ml,oa,au.dataApiKeydownHandler),X.on(document,ru,au.clearMenus),X.on(document,Dh,au.clearMenus),X.on(document,ru,el,function(re){re.preventDefault(),au.getOrCreateInstance(this).toggle()}),we(au);const Xf="backdrop",Mh="fade",Nh="show",ye=`mousedown.bs.${Xf}`,Qf={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Em={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class cu extends Ia{constructor(D){super(),this._config=this._getConfig(D),this._isAppended=!1,this._element=null}static get Default(){return Qf}static get DefaultType(){return Em}static get NAME(){return Xf}show(D){if(!this._config.isVisible){Ue(D);return}this._append();const Z=this._getElement();this._config.isAnimated&&ve(Z),Z.classList.add(Nh),this._emulateAnimation(()=>{Ue(D)})}hide(D){if(!this._config.isVisible){Ue(D);return}this._getElement().classList.remove(Nh),this._emulateAnimation(()=>{this.dispose(),Ue(D)})}dispose(){this._isAppended&&(X.off(this._element,ye),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const D=document.createElement("div");D.className=this._config.className,this._config.isAnimated&&D.classList.add(Mh),this._element=D}return this._element}_configAfterMerge(D){return D.rootElement=ae(D.rootElement),D}_append(){if(this._isAppended)return;const D=this._getElement();this._config.rootElement.append(D),X.on(D,ye,()=>{Ue(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(D){bt(D,this._getElement(),this._config.isAnimated)}}const Js="focustrap",wm=".bs.focustrap",Uv=`focusin${wm}`,bc=`keydown.tab${wm}`,ib="Tab",Rg="forward",Wv="backward",id={autofocus:!0,trapElement:null},Gv={autofocus:"boolean",trapElement:"element"};class ec extends Ia{constructor(D){super(),this._config=this._getConfig(D),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return id}static get DefaultType(){return Gv}static get NAME(){return Js}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),X.off(document,wm),X.on(document,Uv,D=>this._handleFocusin(D)),X.on(document,bc,D=>this._handleKeydown(D)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,X.off(document,wm))}_handleFocusin(D){const{trapElement:Z}=this._config;if(D.target===document||D.target===Z||Z.contains(D.target))return;const Ae=Ge.focusableChildren(Z);Ae.length===0?Z.focus():this._lastTabNavDirection===Wv?Ae[Ae.length-1].focus():Ae[0].focus()}_handleKeydown(D){D.key===ib&&(this._lastTabNavDirection=D.shiftKey?Wv:Rg)}}const Jf=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ab=".sticky-top",kh="padding-right",Ig="margin-right";class Dg{constructor(){this._element=document.body}getWidth(){const D=document.documentElement.clientWidth;return Math.abs(window.innerWidth-D)}hide(){const D=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,kh,Z=>Z+D),this._setElementAttributes(Jf,kh,Z=>Z+D),this._setElementAttributes(ab,Ig,Z=>Z-D)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,kh),this._resetElementAttributes(Jf,kh),this._resetElementAttributes(ab,Ig)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(D,Z,Ae){const ze=this.getWidth(),yt=St=>{if(St!==this._element&&window.innerWidth>St.clientWidth+ze)return;this._saveInitialAttribute(St,Z);const Ut=window.getComputedStyle(St).getPropertyValue(Z);St.style.setProperty(Z,`${Ae(Number.parseFloat(Ut))}px`)};this._applyManipulationCallback(D,yt)}_saveInitialAttribute(D,Z){const Ae=D.style.getPropertyValue(Z);Ae&&as.setDataAttribute(D,Z,Ae)}_resetElementAttributes(D,Z){const Ae=ze=>{const yt=as.getDataAttribute(ze,Z);if(yt===null){ze.style.removeProperty(Z);return}as.removeDataAttribute(ze,Z),ze.style.setProperty(Z,yt)};this._applyManipulationCallback(D,Ae)}_applyManipulationCallback(D,Z){if(me(D)){Z(D);return}for(const Ae of Ge.find(D,this._element))Z(Ae)}}const ad="modal",vl=".bs.modal",Ai=".data-api",Va="Escape",$n=`hide${vl}`,an=`hidePrevented${vl}`,Tm=`hidden${vl}`,Pl=`show${vl}`,lu=`shown${vl}`,jv=`resize${vl}`,uu=`click.dismiss${vl}`,du=`mousedown.dismiss${vl}`,Mg=`keydown.dismiss${vl}`,Yr=`click${vl}${Ai}`,eh="modal-open",Cm="fade",Wt="show",qv="modal-static",Zv=".modal.show",_c=".modal-dialog",uf=".modal-body",th='[data-bs-toggle="modal"]',Lr={backdrop:!0,focus:!0,keyboard:!0},cb={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Do extends ko{constructor(D,Z){super(D,Z),this._dialog=Ge.findOne(_c,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Dg,this._addEventListeners()}static get Default(){return Lr}static get DefaultType(){return cb}static get NAME(){return ad}toggle(D){return this._isShown?this.hide():this.show(D)}show(D){this._isShown||this._isTransitioning||X.trigger(this._element,Pl,{relatedTarget:D}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(eh),this._adjustDialog(),this._backdrop.show(()=>this._showElement(D)))}hide(){!this._isShown||this._isTransitioning||X.trigger(this._element,$n).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Wt),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){X.off(window,vl),X.off(this._dialog,vl),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new cu({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new ec({trapElement:this._element})}_showElement(D){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const Z=Ge.findOne(uf,this._dialog);Z&&(Z.scrollTop=0),ve(this._element),this._element.classList.add(Wt);const Ae=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,X.trigger(this._element,lu,{relatedTarget:D})};this._queueCallback(Ae,this._dialog,this._isAnimated())}_addEventListeners(){X.on(this._element,Mg,D=>{if(D.key===Va){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),X.on(window,jv,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),X.on(this._element,du,D=>{X.one(this._element,uu,Z=>{if(!(this._element!==D.target||this._element!==Z.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(eh),this._resetAdjustments(),this._scrollBar.reset(),X.trigger(this._element,Tm)})}_isAnimated(){return this._element.classList.contains(Cm)}_triggerBackdropTransition(){if(X.trigger(this._element,an).defaultPrevented)return;const Z=this._element.scrollHeight>document.documentElement.clientHeight,Ae=this._element.style.overflowY;Ae==="hidden"||this._element.classList.contains(qv)||(Z||(this._element.style.overflowY="hidden"),this._element.classList.add(qv),this._queueCallback(()=>{this._element.classList.remove(qv),this._queueCallback(()=>{this._element.style.overflowY=Ae},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const D=this._element.scrollHeight>document.documentElement.clientHeight,Z=this._scrollBar.getWidth(),Ae=Z>0;if(Ae&&!D){const ze=V()?"paddingLeft":"paddingRight";this._element.style[ze]=`${Z}px`}if(!Ae&&D){const ze=V()?"paddingRight":"paddingLeft";this._element.style[ze]=`${Z}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(D,Z){return this.each(function(){const Ae=Do.getOrCreateInstance(this,D);if(typeof D=="string"){if(typeof Ae[D]>"u")throw new TypeError(`No method named "${D}"`);Ae[D](Z)}})}}X.on(document,Yr,th,function(re){const D=Ge.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&re.preventDefault(),X.one(D,Pl,ze=>{ze.defaultPrevented||X.one(D,Tm,()=>{pe(this)&&this.focus()})});const Z=Ge.findOne(Zv);Z&&Do.getInstance(Z).hide(),Do.getOrCreateInstance(D).toggle(this)}),Gc(Do),we(Do);const gs="offcanvas",mi=".bs.offcanvas",di=".data-api",nh=`load${mi}${di}`,fi="Escape",Ts="show",fu="showing",Rt="hiding",hu="offcanvas-backdrop",oh=".offcanvas.show",ti=`show${mi}`,Du=`shown${mi}`,kc=`hide${mi}`,bl=`hidePrevented${mi}`,Yv=`hidden${mi}`,Pc=`resize${mi}`,Ng=`click${mi}${di}`,Ec=`keydown.dismiss${mi}`,qo='[data-bs-toggle="offcanvas"]',cd={backdrop:!0,keyboard:!0,scroll:!1},tc={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Kr extends ko{constructor(D,Z){super(D,Z),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return cd}static get DefaultType(){return tc}static get NAME(){return gs}toggle(D){return this._isShown?this.hide():this.show(D)}show(D){if(this._isShown||X.trigger(this._element,ti,{relatedTarget:D}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Dg().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(fu);const Ae=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(Ts),this._element.classList.remove(fu),X.trigger(this._element,Du,{relatedTarget:D})};this._queueCallback(Ae,this._element,!0)}hide(){if(!this._isShown||X.trigger(this._element,kc).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Rt),this._backdrop.hide();const Z=()=>{this._element.classList.remove(Ts,Rt),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Dg().reset(),X.trigger(this._element,Yv)};this._queueCallback(Z,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const D=()=>{if(this._config.backdrop==="static"){X.trigger(this._element,bl);return}this.hide()},Z=!!this._config.backdrop;return new cu({className:hu,isVisible:Z,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:Z?D:null})}_initializeFocusTrap(){return new ec({trapElement:this._element})}_addEventListeners(){X.on(this._element,Ec,D=>{if(D.key===fi){if(this._config.keyboard){this.hide();return}X.trigger(this._element,bl)}})}static jQueryInterface(D){return this.each(function(){const Z=Kr.getOrCreateInstance(this,D);if(typeof D=="string"){if(Z[D]===void 0||D.startsWith("_")||D==="constructor")throw new TypeError(`No method named "${D}"`);Z[D](this)}})}}X.on(document,Ng,qo,function(re){const D=Ge.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&re.preventDefault(),fe(this))return;X.one(D,Yv,()=>{pe(this)&&this.focus()});const Z=Ge.findOne(oh);Z&&Z!==D&&Kr.getInstance(Z).hide(),Kr.getOrCreateInstance(D).toggle(this)}),X.on(window,nh,()=>{for(const re of Ge.find(oh))Kr.getOrCreateInstance(re).show()}),X.on(window,Pc,()=>{for(const re of Ge.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(re).position!=="fixed"&&Kr.getOrCreateInstance(re).hide()}),Gc(Kr),we(Kr);const ld=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),nc=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,lb=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,oc=(re,D)=>{const Z=re.nodeName.toLowerCase();return D.includes(Z)?ld.has(Z)?!!(nc.test(re.nodeValue)||lb.test(re.nodeValue)):!0:D.filter(Ae=>Ae instanceof RegExp).some(Ae=>Ae.test(Z))},tt={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function tl(re,D,Z){if(!re.length)return re;if(Z&&typeof Z=="function")return Z(re);const ze=new window.DOMParser().parseFromString(re,"text/html"),yt=[].concat(...ze.body.querySelectorAll("*"));for(const St of yt){const Ut=St.nodeName.toLowerCase();if(!Object.keys(D).includes(Ut)){St.remove();continue}const on=[].concat(...St.attributes),ao=[].concat(D["*"]||[],D[Ut]||[]);for(const Tn of on)oc(Tn,ao)||St.removeAttribute(Tn.nodeName)}return ze.body.innerHTML}const Ph="TemplateFactory",Mu={allowList:tt,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},wc={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},wa={entry:"(string|element|function|null)",selector:"(string|element)"};class Vi extends Ia{constructor(D){super(),this._config=this._getConfig(D)}static get Default(){return Mu}static get DefaultType(){return wc}static get NAME(){return Ph}getContent(){return Object.values(this._config.content).map(D=>this._resolvePossibleFunction(D)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(D){return this._checkContent(D),this._config.content={...this._config.content,...D},this}toHtml(){const D=document.createElement("div");D.innerHTML=this._maybeSanitize(this._config.template);for(const[ze,yt]of Object.entries(this._config.content))this._setContent(D,yt,ze);const Z=D.children[0],Ae=this._resolvePossibleFunction(this._config.extraClass);return Ae&&Z.classList.add(...Ae.split(" ")),Z}_typeCheckConfig(D){super._typeCheckConfig(D),this._checkContent(D.content)}_checkContent(D){for(const[Z,Ae]of Object.entries(D))super._typeCheckConfig({selector:Z,entry:Ae},wa)}_setContent(D,Z,Ae){const ze=Ge.findOne(Ae,D);if(ze){if(Z=this._resolvePossibleFunction(Z),!Z){ze.remove();return}if(me(Z)){this._putElementInTemplate(ae(Z),ze);return}if(this._config.html){ze.innerHTML=this._maybeSanitize(Z);return}ze.textContent=Z}}_maybeSanitize(D){return this._config.sanitize?tl(D,this._config.allowList,this._config.sanitizeFn):D}_resolvePossibleFunction(D){return Ue(D,[this])}_putElementInTemplate(D,Z){if(this._config.html){Z.innerHTML="",Z.append(D);return}Z.textContent=D.textContent}}const Kv="tooltip",xp=new Set(["sanitize","allowList","sanitizeFn"]),Pd="fade",Wn="modal",df="show",mu=".tooltip-inner",sa=`.${Wn}`,Ap="hide.bs.modal",yl="hover",kg="focus",Lh="click",Nu="manual",Tc="hide",_l="hidden",Pg="show",ub="shown",ud="inserted",Op="click",Lg="focusin",$h="focusout",Sm="mouseenter",ff="mouseleave",$g={AUTO:"auto",TOP:"top",RIGHT:V()?"left":"right",BOTTOM:"bottom",LEFT:V()?"right":"left"},Bg={allowList:tt,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},xs={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class hf extends ko{constructor(D,Z){if(typeof Ns>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(D,Z),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Bg}static get DefaultType(){return xs}static get NAME(){return Kv}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),X.off(this._element.closest(sa),Ap,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const D=X.trigger(this._element,this.constructor.eventName(Pg)),Ae=(ue(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(D.defaultPrevented||!Ae)return;this._disposePopper();const ze=this._getTipElement();this._element.setAttribute("aria-describedby",ze.getAttribute("id"));const{container:yt}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(yt.append(ze),X.trigger(this._element,this.constructor.eventName(ud))),this._popper=this._createPopper(ze),ze.classList.add(df),"ontouchstart"in document.documentElement)for(const Ut of[].concat(...document.body.children))X.on(Ut,"mouseover",le);const St=()=>{X.trigger(this._element,this.constructor.eventName(ub)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(St,this.tip,this._isAnimated())}hide(){if(!this._isShown()||X.trigger(this._element,this.constructor.eventName(Tc)).defaultPrevented)return;if(this._getTipElement().classList.remove(df),"ontouchstart"in document.documentElement)for(const ze of[].concat(...document.body.children))X.off(ze,"mouseover",le);this._activeTrigger[Lh]=!1,this._activeTrigger[kg]=!1,this._activeTrigger[yl]=!1,this._isHovered=null;const Ae=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),X.trigger(this._element,this.constructor.eventName(_l)))};this._queueCallback(Ae,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(D){const Z=this._getTemplateFactory(D).toHtml();if(!Z)return null;Z.classList.remove(Pd,df),Z.classList.add(`bs-${this.constructor.NAME}-auto`);const Ae=G(this.constructor.NAME).toString();return Z.setAttribute("id",Ae),this._isAnimated()&&Z.classList.add(Pd),Z}setContent(D){this._newContent=D,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(D){return this._templateFactory?this._templateFactory.changeContent(D):this._templateFactory=new Vi({...this._config,content:D,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[mu]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(D){return this.constructor.getOrCreateInstance(D.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Pd)}_isShown(){return this.tip&&this.tip.classList.contains(df)}_createPopper(D){const Z=Ue(this._config.placement,[this,D,this._element]),Ae=$g[Z.toUpperCase()];return zo(this._element,D,this._getPopperConfig(Ae))}_getOffset(){const{offset:D}=this._config;return typeof D=="string"?D.split(",").map(Z=>Number.parseInt(Z,10)):typeof D=="function"?Z=>D(Z,this._element):D}_resolvePossibleFunction(D){return Ue(D,[this._element])}_getPopperConfig(D){const Z={placement:D,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:Ae=>{this._getTipElement().setAttribute("data-popper-placement",Ae.state.placement)}}]};return{...Z,...Ue(this._config.popperConfig,[Z])}}_setListeners(){const D=this._config.trigger.split(" ");for(const Z of D)if(Z==="click")X.on(this._element,this.constructor.eventName(Op),this._config.selector,Ae=>{this._initializeOnDelegatedTarget(Ae).toggle()});else if(Z!==Nu){const Ae=Z===yl?this.constructor.eventName(Sm):this.constructor.eventName(Lg),ze=Z===yl?this.constructor.eventName(ff):this.constructor.eventName($h);X.on(this._element,Ae,this._config.selector,yt=>{const St=this._initializeOnDelegatedTarget(yt);St._activeTrigger[yt.type==="focusin"?kg:yl]=!0,St._enter()}),X.on(this._element,ze,this._config.selector,yt=>{const St=this._initializeOnDelegatedTarget(yt);St._activeTrigger[yt.type==="focusout"?kg:yl]=St._element.contains(yt.relatedTarget),St._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},X.on(this._element.closest(sa),Ap,this._hideModalHandler)}_fixTitle(){const D=this._element.getAttribute("title");D&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",D),this._element.setAttribute("data-bs-original-title",D),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(D,Z){clearTimeout(this._timeout),this._timeout=setTimeout(D,Z)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(D){const Z=as.getDataAttributes(this._element);for(const Ae of Object.keys(Z))xp.has(Ae)&&delete Z[Ae];return D={...Z,...typeof D=="object"&&D?D:{}},D=this._mergeConfigObj(D),D=this._configAfterMerge(D),this._typeCheckConfig(D),D}_configAfterMerge(D){return D.container=D.container===!1?document.body:ae(D.container),typeof D.delay=="number"&&(D.delay={show:D.delay,hide:D.delay}),typeof D.title=="number"&&(D.title=D.title.toString()),typeof D.content=="number"&&(D.content=D.content.toString()),D}_getDelegateConfig(){const D={};for(const[Z,Ae]of Object.entries(this._config))this.constructor.Default[Z]!==Ae&&(D[Z]=Ae);return D.selector=!1,D.trigger="manual",D}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(D){return this.each(function(){const Z=hf.getOrCreateInstance(this,D);if(typeof D=="string"){if(typeof Z[D]>"u")throw new TypeError(`No method named "${D}"`);Z[D]()}})}}we(hf);const ra="popover",Ll=".popover-header",Bh=".popover-body",rh={...hf.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},db={...hf.DefaultType,content:"(null|string|element|function)"};class ni extends hf{static get Default(){return rh}static get DefaultType(){return db}static get NAME(){return ra}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Ll]:this._getTitle(),[Bh]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(D){return this.each(function(){const Z=ni.getOrCreateInstance(this,D);if(typeof D=="string"){if(typeof Z[D]>"u")throw new TypeError(`No method named "${D}"`);Z[D]()}})}}we(ni);const El="scrollspy",Ld=".bs.scrollspy",$d=".data-api",mf=`activate${Ld}`,nl=`click${Ld}`,zi=`load${Ld}${$d}`,Fg="dropdown-item",ia="active",$l='[data-bs-spy="scroll"]',Lc="[href]",xm=".nav, .list-group",pf=".nav-link",fr=`${pf}, .nav-item > ${pf}, .list-group-item`,Hg=".dropdown",$c=".dropdown-toggle",Vg={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},zg={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class pu extends ko{constructor(D,Z){super(D,Z),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Vg}static get DefaultType(){return zg}static get NAME(){return El}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const D of this._observableSections.values())this._observer.observe(D)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(D){return D.target=ae(D.target)||document.body,D.rootMargin=D.offset?`${D.offset}px 0px -30%`:D.rootMargin,typeof D.threshold=="string"&&(D.threshold=D.threshold.split(",").map(Z=>Number.parseFloat(Z))),D}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(X.off(this._config.target,nl),X.on(this._config.target,nl,Lc,D=>{const Z=this._observableSections.get(D.target.hash);if(Z){D.preventDefault();const Ae=this._rootElement||window,ze=Z.offsetTop-this._element.offsetTop;if(Ae.scrollTo){Ae.scrollTo({top:ze,behavior:"smooth"});return}Ae.scrollTop=ze}}))}_getNewObserver(){const D={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(Z=>this._observerCallback(Z),D)}_observerCallback(D){const Z=St=>this._targetLinks.get(`#${St.target.id}`),Ae=St=>{this._previousScrollData.visibleEntryTop=St.target.offsetTop,this._process(Z(St))},ze=(this._rootElement||document.documentElement).scrollTop,yt=ze>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=ze;for(const St of D){if(!St.isIntersecting){this._activeTarget=null,this._clearActiveClass(Z(St));continue}const Ut=St.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(yt&&Ut){if(Ae(St),!ze)return;continue}!yt&&!Ut&&Ae(St)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const D=Ge.find(Lc,this._config.target);for(const Z of D){if(!Z.hash||fe(Z))continue;const Ae=Ge.findOne(Z.hash,this._element);pe(Ae)&&(this._targetLinks.set(Z.hash,Z),this._observableSections.set(Z.hash,Ae))}}_process(D){this._activeTarget!==D&&(this._clearActiveClass(this._config.target),this._activeTarget=D,D.classList.add(ia),this._activateParents(D),X.trigger(this._element,mf,{relatedTarget:D}))}_activateParents(D){if(D.classList.contains(Fg)){Ge.findOne($c,D.closest(Hg)).classList.add(ia);return}for(const Z of Ge.parents(D,xm))for(const Ae of Ge.prev(Z,fr))Ae.classList.add(ia)}_clearActiveClass(D){D.classList.remove(ia);const Z=Ge.find(`${Lc}.${ia}`,D);for(const Ae of Z)Ae.classList.remove(ia)}static jQueryInterface(D){return this.each(function(){const Z=pu.getOrCreateInstance(this,D);if(typeof D=="string"){if(Z[D]===void 0||D.startsWith("_")||D==="constructor")throw new TypeError(`No method named "${D}"`);Z[D]()}})}}X.on(window,zi,()=>{for(const re of Ge.find($l))pu.getOrCreateInstance(re)}),we(pu);const Fs="tab",dd=".bs.tab",Ug=`hide${dd}`,Hh=`hidden${dd}`,Rp=`show${dd}`,Am=`shown${dd}`,hb=`click${dd}`,ol=`keydown${dd}`,ku=`load${dd}`,vf="ArrowLeft",fd="ArrowRight",Pu="ArrowUp",Bl="ArrowDown",Lu="active",Om="fade",hd="show",Qv="dropdown",Vh=".dropdown-toggle",zh=".dropdown-menu",Wg=":not(.dropdown-toggle)",Rm='.list-group, .nav, [role="tablist"]',ls=".nav-item, .list-group-item",Nn=`.nav-link${Wg}, .list-group-item${Wg}, [role="tab"]${Wg}`,md='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',$u=`${Nn}, ${md}`,Im=`.${Lu}[data-bs-toggle="tab"], .${Lu}[data-bs-toggle="pill"], .${Lu}[data-bs-toggle="list"]`;class pd extends ko{constructor(D){super(D),this._parent=this._element.closest(Rm),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),X.on(this._element,ol,Z=>this._keydown(Z)))}static get NAME(){return Fs}show(){const D=this._element;if(this._elemIsActive(D))return;const Z=this._getActiveElem(),Ae=Z?X.trigger(Z,Ug,{relatedTarget:D}):null;X.trigger(D,Rp,{relatedTarget:Z}).defaultPrevented||Ae&&Ae.defaultPrevented||(this._deactivate(Z,D),this._activate(D,Z))}_activate(D,Z){if(!D)return;D.classList.add(Lu),this._activate(Ge.getElementFromSelector(D));const Ae=()=>{if(D.getAttribute("role")!=="tab"){D.classList.add(hd);return}D.removeAttribute("tabindex"),D.setAttribute("aria-selected",!0),this._toggleDropDown(D,!0),X.trigger(D,Am,{relatedTarget:Z})};this._queueCallback(Ae,D,D.classList.contains(Om))}_deactivate(D,Z){if(!D)return;D.classList.remove(Lu),D.blur(),this._deactivate(Ge.getElementFromSelector(D));const Ae=()=>{if(D.getAttribute("role")!=="tab"){D.classList.remove(hd);return}D.setAttribute("aria-selected",!1),D.setAttribute("tabindex","-1"),this._toggleDropDown(D,!1),X.trigger(D,Hh,{relatedTarget:Z})};this._queueCallback(Ae,D,D.classList.contains(Om))}_keydown(D){if(![vf,fd,Pu,Bl].includes(D.key))return;D.stopPropagation(),D.preventDefault();const Z=[fd,Bl].includes(D.key),Ae=It(this._getChildren().filter(ze=>!fe(ze)),D.target,Z,!0);Ae&&(Ae.focus({preventScroll:!0}),pd.getOrCreateInstance(Ae).show())}_getChildren(){return Ge.find($u,this._parent)}_getActiveElem(){return this._getChildren().find(D=>this._elemIsActive(D))||null}_setInitialAttributes(D,Z){this._setAttributeIfNotExists(D,"role","tablist");for(const Ae of Z)this._setInitialAttributesOnChild(Ae)}_setInitialAttributesOnChild(D){D=this._getInnerElement(D);const Z=this._elemIsActive(D),Ae=this._getOuterElement(D);D.setAttribute("aria-selected",Z),Ae!==D&&this._setAttributeIfNotExists(Ae,"role","presentation"),Z||D.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(D,"role","tab"),this._setInitialAttributesOnTargetPanel(D)}_setInitialAttributesOnTargetPanel(D){const Z=Ge.getElementFromSelector(D);Z&&(this._setAttributeIfNotExists(Z,"role","tabpanel"),D.id&&this._setAttributeIfNotExists(Z,"aria-labelledby",`${D.id}`))}_toggleDropDown(D,Z){const Ae=this._getOuterElement(D);if(!Ae.classList.contains(Qv))return;const ze=(yt,St)=>{const Ut=Ge.findOne(yt,Ae);Ut&&Ut.classList.toggle(St,Z)};ze(Vh,Lu),ze(zh,hd),Ae.setAttribute("aria-expanded",Z)}_setAttributeIfNotExists(D,Z,Ae){D.hasAttribute(Z)||D.setAttribute(Z,Ae)}_elemIsActive(D){return D.classList.contains(Lu)}_getInnerElement(D){return D.matches($u)?D:Ge.findOne($u,D)}_getOuterElement(D){return D.closest(ls)||D}static jQueryInterface(D){return this.each(function(){const Z=pd.getOrCreateInstance(this);if(typeof D=="string"){if(Z[D]===void 0||D.startsWith("_")||D==="constructor")throw new TypeError(`No method named "${D}"`);Z[D]()}})}}X.on(document,hb,md,function(re){["A","AREA"].includes(this.tagName)&&re.preventDefault(),!fe(this)&&pd.getOrCreateInstance(this).show()}),X.on(window,ku,()=>{for(const re of Ge.find(Im))pd.getOrCreateInstance(re)}),we(pd);const Jv="toast",Bu=".bs.toast",Gg=`mouseover${Bu}`,jg=`mouseout${Bu}`,kt=`focusin${Bu}`,qg=`focusout${Bu}`,gd=`hide${Bu}`,ih=`hidden${Bu}`,Ip=`show${Bu}`,bf=`shown${Bu}`,Dm="fade",ah="hide",Mm="show",Ui="showing",wr={animation:"boolean",autohide:"boolean",delay:"number"},Cc={animation:!0,autohide:!0,delay:5e3};class vd extends ko{constructor(D,Z){super(D,Z),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Cc}static get DefaultType(){return wr}static get NAME(){return Jv}show(){if(X.trigger(this._element,Ip).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Dm);const Z=()=>{this._element.classList.remove(Ui),X.trigger(this._element,bf),this._maybeScheduleHide()};this._element.classList.remove(ah),ve(this._element),this._element.classList.add(Mm,Ui),this._queueCallback(Z,this._element,this._config.animation)}hide(){if(!this.isShown()||X.trigger(this._element,gd).defaultPrevented)return;const Z=()=>{this._element.classList.add(ah),this._element.classList.remove(Ui,Mm),X.trigger(this._element,ih)};this._element.classList.add(Ui),this._queueCallback(Z,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Mm),super.dispose()}isShown(){return this._element.classList.contains(Mm)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(D,Z){switch(D.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=Z;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=Z;break}}if(Z){this._clearTimeout();return}const Ae=D.relatedTarget;this._element===Ae||this._element.contains(Ae)||this._maybeScheduleHide()}_setListeners(){X.on(this._element,Gg,D=>this._onInteraction(D,!0)),X.on(this._element,jg,D=>this._onInteraction(D,!1)),X.on(this._element,kt,D=>this._onInteraction(D,!0)),X.on(this._element,qg,D=>this._onInteraction(D,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(D){return this.each(function(){const Z=vd.getOrCreateInstance(this,D);if(typeof D=="string"){if(typeof Z[D]>"u")throw new TypeError(`No method named "${D}"`);Z[D](this)}})}}return Gc(vd),we(vd),{Alert:lc,Button:ai,Carousel:Dc,Collapse:ka,Dropdown:au,Modal:Do,Offcanvas:Kr,Popover:ni,ScrollSpy:pu,Tab:pd,Toast:vd,Tooltip:hf}})})(eoe);const toe=xZ;tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const a=Object.getPrototypeOf,c=(t,s,i)=>{var u;return i(t,s.prototype)?!0:((u=t.constructor)===null||u===void 0?void 0:u.name)===s.name},f=t=>{const s=typeof t;return t===null?"null":s==="object"&&Array.isArray(t)?"array":s==="object"&&c(t,String,(i,u)=>u.isPrototypeOf(i))?"string":s},y=t=>s=>f(s)===t,C=t=>s=>typeof s===t,w=t=>s=>t===s,S=(t,s)=>P(t)&&c(t,s,(i,u)=>a(i)===u),M=y("string"),P=y("object"),G=t=>S(t,Object),j=y("array"),J=w(null),me=C("boolean"),ae=w(void 0),pe=t=>t==null,fe=t=>!pe(t),ue=C("function"),le=C("number"),ve=(t,s)=>{if(j(t)){for(let i=0,u=t.length;i<u;++i)if(!s(t[i]))return!1;return!0}return!1},ee=()=>{},ke=t=>()=>t(),Ke=(t,s)=>(...i)=>t(s.apply(null,i)),V=(t,s)=>i=>t(s(i)),we=t=>()=>t,Ue=t=>t,bt=(t,s)=>t===s;function It(t,...s){return(...i)=>{const u=s.concat(i);return t.apply(null,u)}}const He=t=>s=>!t(s),Te=t=>()=>{throw new Error(t)},bn=t=>t(),Tt=we(!1),Mt=we(!0);class F{constructor(s,i){this.tag=s,this.value=i}static some(s){return new F(!0,s)}static none(){return F.singletonNone}fold(s,i){return this.tag?i(this.value):s()}isSome(){return this.tag}isNone(){return!this.tag}map(s){return this.tag?F.some(s(this.value)):F.none()}bind(s){return this.tag?s(this.value):F.none()}exists(s){return this.tag&&s(this.value)}forall(s){return!this.tag||s(this.value)}filter(s){return!this.tag||s(this.value)?this:F.none()}getOr(s){return this.tag?this.value:s}or(s){return this.tag?this:s}getOrThunk(s){return this.tag?this.value:s()}orThunk(s){return this.tag?this:s()}getOrDie(s){if(this.tag)return this.value;throw new Error(s??"Called getOrDie on None")}static from(s){return fe(s)?F.some(s):F.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(s){this.tag&&s(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}F.singletonNone=new F(!1);const Nt=Array.prototype.slice,rt=Array.prototype.indexOf,Kt=Array.prototype.push,Gt=(t,s)=>rt.call(t,s),Ze=(t,s)=>{const i=Gt(t,s);return i===-1?F.none():F.some(i)},_o=(t,s)=>Gt(t,s)>-1,Ho=(t,s)=>{for(let i=0,u=t.length;i<u;i++){const m=t[i];if(s(m,i))return!0}return!1},lo=(t,s)=>{const i=[];for(let u=0;u<t;u++)i.push(s(u));return i},Vo=(t,s)=>{const i=[];for(let u=0;u<t.length;u+=s){const m=Nt.call(t,u,u+s);i.push(m)}return i},nt=(t,s)=>{const i=t.length,u=new Array(i);for(let m=0;m<i;m++){const b=t[m];u[m]=s(b,m)}return u},Lt=(t,s)=>{for(let i=0,u=t.length;i<u;i++){const m=t[i];s(m,i)}},X=(t,s)=>{for(let i=t.length-1;i>=0;i--){const u=t[i];s(u,i)}},fs=(t,s)=>{const i=[],u=[];for(let m=0,b=t.length;m<b;m++){const T=t[m];(s(T,m)?i:u).push(T)}return{pass:i,fail:u}},po=(t,s)=>{const i=[];for(let u=0,m=t.length;u<m;u++){const b=t[u];s(b,u)&&i.push(b)}return i},Rs=(t,s,i)=>(X(t,(u,m)=>{i=s(i,u,m)}),i),as=(t,s,i)=>(Lt(t,(u,m)=>{i=s(i,u,m)}),i),Ia=(t,s,i)=>{for(let u=0,m=t.length;u<m;u++){const b=t[u];if(s(b,u))return F.some(b);if(i(b,u))break}return F.none()},Fn=(t,s)=>Ia(t,s,Tt),ko=(t,s)=>{for(let i=0,u=t.length;i<u;i++){const m=t[i];if(s(m,i))return F.some(i)}return F.none()},en=t=>{const s=[];for(let i=0,u=t.length;i<u;++i){if(!j(t[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+t);Kt.apply(s,t[i])}return s},Ge=(t,s)=>en(nt(t,s)),Gc=(t,s)=>{for(let i=0,u=t.length;i<u;++i){const m=t[i];if(s(m,i)!==!0)return!1}return!0},va=t=>{const s=Nt.call(t,0);return s.reverse(),s},Dn=(t,s)=>po(t,i=>!_o(s,i)),ri=(t,s)=>{const i={};for(let u=0,m=t.length;u<m;u++){const b=t[u];i[String(b)]=s(b,u)}return i},Us=t=>[t],jc=(t,s)=>{const i=Nt.call(t,0);return i.sort(s),i},Is=(t,s)=>s>=0&&s<t.length?F.some(t[s]):F.none(),zr=t=>Is(t,0),lc=t=>Is(t,t.length-1),Ya=ue(Array.from)?Array.from:t=>Nt.call(t),Or=(t,s)=>{for(let i=0;i<t.length;i++){const u=s(t[i],i);if(u.isSome())return u}return F.none()},lr=Object.keys,Jd=Object.hasOwnProperty,ii=(t,s)=>{const i=lr(t);for(let u=0,m=i.length;u<m;u++){const b=i[u],T=t[b];s(T,b)}},Ls=(t,s)=>Zl(t,(i,u)=>({k:u,v:s(i,u)})),Zl=(t,s)=>{const i={};return ii(t,(u,m)=>{const b=s(u,m);i[b.k]=b.v}),i},ai=t=>(s,i)=>{t[i]=s},Yl=(t,s,i,u)=>{ii(t,(m,b)=>{(s(m,b)?i:u)(m,b)})},Xs=(t,s)=>{const i={},u={};return Yl(t,s,ai(i),ai(u)),{t:i,f:u}},_i=(t,s)=>{const i={};return Yl(t,s,ai(i),ee),i},Wf=(t,s)=>{const i=[];return ii(t,(u,m)=>{i.push(s(u,m))}),i},uc=(t,s)=>{const i=lr(t);for(let u=0,m=i.length;u<m;u++){const b=i[u],T=t[b];if(s(T,b,t))return F.some(T)}return F.none()},mm=t=>Wf(t,Ue),dn=(t,s)=>jo(t,s)?F.from(t[s]):F.none(),jo=(t,s)=>Jd.call(t,s),Da=(t,s)=>jo(t,s)&&t[s]!==void 0&&t[s]!==null,qc=(t,s,i=bt)=>t.exists(u=>i(u,s)),pm=(t,s,i=bt)=>xu(t,s,i).getOr(t.isNone()&&s.isNone()),Qu=t=>{const s=[],i=u=>{s.push(u)};for(let u=0;u<t.length;u++)t[u].each(i);return s},Ws=t=>{const s=[];for(let i=0;i<t.length;i++){const u=t[i];if(u.isSome())s.push(u.getOrDie());else return F.none()}return F.some(s)},xu=(t,s,i)=>t.isSome()&&s.isSome()?F.some(i(t.getOrDie(),s.getOrDie())):F.none(),Gf=(t,s,i,u)=>t.isSome()&&s.isSome()&&i.isSome()?F.some(u(t.getOrDie(),s.getOrDie(),i.getOrDie())):F.none(),gr=(t,s)=>t!=null?F.some(s(t)):F.none(),jn=(t,s)=>t?F.some(s):F.none(),dc=(t,s)=>t+s,Ju=(t,s)=>t.substring(s),Oh=(t,s,i)=>s===""||t.length>=s.length&&t.substr(i,i+s.length)===s,gp=(t,s)=>vr(t,s)?Ju(t,s.length):t,ci=(t,s)=>Rc(t,s)?t:dc(t,s),li=(t,s,i=0,u)=>{const m=t.indexOf(s,i);return m!==-1?ae(u)?!0:m+s.length<=u:!1},vr=(t,s)=>Oh(t,s,0),Rc=(t,s)=>Oh(t,s,t.length-s.length),Kl=(t=>s=>s.replace(t,""))(/^\s+|\s+$/g),Zc=t=>t.length>0,qr=t=>!Zc(t),Al=t=>t.style!==void 0&&ue(t.style.getPropertyValue),Xl=(t,s)=>{const u=(s||document).createElement("div");if(u.innerHTML=t,!u.hasChildNodes()||u.childNodes.length>1){const m="HTML does not have a single root node";throw console.error(m,t),new Error(m)}return Ql(u.childNodes[0])},Cg=(t,s)=>{const u=(s||document).createElement(t);return Ql(u)},Sg=(t,s)=>{const u=(s||document).createTextNode(t);return Ql(u)},Ql=t=>{if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},et={fromHtml:Xl,fromTag:Cg,fromText:Sg,fromDom:Ql,fromPoint:(t,s,i)=>F.from(t.dom.elementFromPoint(s,i)).map(Ql)},Xi=typeof window<"u"?window:Function("return this;")(),qf=(t,s)=>{let i=s??Xi;for(let u=0;u<t.length&&i!==void 0&&i!==null;++u)i=i[t[u]];return i},xg=(t,s)=>{const i=t.split(".");return qf(i,s)},gm=(t,s)=>xg(t,s),Gs=(t,s)=>{const i=gm(t,s);if(i==null)throw new Error(t+" not available on this browser");return i},tf=Object.getPrototypeOf,vp=t=>Gs("HTMLElement",t),Ma=t=>{const s=xg("ownerDocument.defaultView",t);return P(t)&&(vp(s).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(tf(t).constructor.name))},Jl=9,Ei=11,Li=1,ed=3,Ic=t=>t.dom.nodeName.toLowerCase(),td=t=>t.dom.nodeType,Dc=t=>s=>td(s)===t,nf=t=>$s(t)&&Ma(t.dom),$s=Dc(Li),$i=Dc(ed),Ol=Dc(Jl),Md=Dc(Ei),hl=t=>s=>$s(s)&&Ic(s)===t,Yc=(t,s)=>{const i=t.dom;if(i.nodeType!==Li)return!1;{const u=i;if(u.matches!==void 0)return u.matches(s);if(u.msMatchesSelector!==void 0)return u.msMatchesSelector(s);if(u.webkitMatchesSelector!==void 0)return u.webkitMatchesSelector(s);if(u.mozMatchesSelector!==void 0)return u.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")}},Nr=t=>t.nodeType!==Li&&t.nodeType!==Jl&&t.nodeType!==Ei||t.childElementCount===0,of=(t,s)=>{const i=s===void 0?document:s.dom;return Nr(i)?[]:nt(i.querySelectorAll(t),et.fromDom)},eu=(t,s)=>{const i=s===void 0?document:s.dom;return Nr(i)?F.none():F.from(i.querySelector(t)).map(et.fromDom)},us=(t,s)=>t.dom===s.dom,Na=(t,s)=>{const i=t.dom,u=s.dom;return i===u?!1:i.contains(u)},Qi=t=>et.fromDom(t.dom.ownerDocument),Bi=t=>Ol(t)?t:Qi(t),nd=t=>et.fromDom(Bi(t).dom.documentElement),Nd=t=>et.fromDom(Bi(t).dom.defaultView),Kc=t=>F.from(t.dom.parentNode).map(et.fromDom),ml=t=>F.from(t.dom.parentElement).map(et.fromDom),sf=(t,s)=>{const i=ue(s)?s:Tt;let u=t.dom;const m=[];for(;u.parentNode!==null&&u.parentNode!==void 0;){const b=u.parentNode,T=et.fromDom(b);if(m.push(T),i(T)===!0)break;u=b}return m},vm=t=>F.from(t.dom.offsetParent).map(et.fromDom),Ag=t=>F.from(t.dom.nextSibling).map(et.fromDom),ka=t=>nt(t.dom.childNodes,et.fromDom),wi=(t,s)=>{const i=t.dom.childNodes;return F.from(i[s]).map(et.fromDom)},fc=t=>wi(t,0),Mc=(t,s)=>({element:t,offset:s}),Pa=(t,s)=>{const i=ka(t);return i.length>0&&s<i.length?Mc(i[s],0):Mc(t,s)},rf=t=>Md(t)&&fe(t.dom.host),af=ue(Element.prototype.attachShadow)&&ue(Node.prototype.getRootNode),Rl=we(af),Ti=af?t=>et.fromDom(t.dom.getRootNode()):Bi,Ji=t=>rf(t)?t:et.fromDom(Bi(t).dom.body),Au=t=>od(t).isSome(),od=t=>{const s=Ti(t);return rf(s)?F.some(s):F.none()},bp=t=>et.fromDom(t.dom.host),Bs=t=>{if(Rl()&&fe(t.target)){const s=et.fromDom(t.target);if($s(s)&&br(s)&&t.composed&&t.composedPath){const i=t.composedPath();if(i)return zr(i)}}return F.from(t.target)},br=t=>fe(t.dom.shadowRoot),hc=t=>{const s=$i(t)?t.dom.parentNode:t.dom;if(s==null||s.ownerDocument===null)return!1;const i=s.ownerDocument;return od(et.fromDom(s)).fold(()=>i.body.contains(s),V(hc,bp))},ea=()=>tu(et.fromDom(document)),tu=t=>{const s=t.dom.body;if(s==null)throw new Error("Body is not available yet");return et.fromDom(s)},pl=(t,s,i)=>{if(M(i)||me(i)||le(i))t.setAttribute(s,i+"");else throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",i,":: Element ",t),new Error("Attribute value was not simple")},uo=(t,s,i)=>{pl(t.dom,s,i)},cs=(t,s)=>{const i=t.dom;ii(s,(u,m)=>{pl(i,m,u)})},Fi=(t,s)=>{const i=t.dom.getAttribute(s);return i===null?void 0:i},ui=(t,s)=>F.from(Fi(t,s)),ba=(t,s)=>{const i=t.dom;return i&&i.hasAttribute?i.hasAttribute(s):!1},x=(t,s)=>{t.dom.removeAttribute(s)},k=t=>as(t.dom.attributes,(s,i)=>(s[i.name]=i.value,s),{}),U=(t,s,i)=>{if(!M(i))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",i,":: Element ",t),new Error("CSS value must be a string: "+i);Al(t)&&t.style.setProperty(s,i)},q=(t,s)=>{Al(t)&&t.style.removeProperty(s)},oe=(t,s,i)=>{const u=t.dom;U(u,s,i)},he=(t,s)=>{const i=t.dom;ii(s,(u,m)=>{U(i,m,u)})},Ee=(t,s)=>{const i=t.dom;ii(s,(u,m)=>{u.fold(()=>{q(i,m)},b=>{U(i,m,b)})})},Ce=(t,s)=>{const i=t.dom,m=window.getComputedStyle(i).getPropertyValue(s);return m===""&&!hc(t)?$e(i,s):m},$e=(t,s)=>Al(t)?t.style.getPropertyValue(s):"",ot=(t,s)=>{const i=t.dom,u=$e(i,s);return F.from(u).filter(m=>m.length>0)},wt=t=>{const s={},i=t.dom;if(Al(i))for(let u=0;u<i.style.length;u++){const m=i.style.item(u);s[m]=i.style[m]}return s},qt=(t,s,i)=>{const u=et.fromTag(t);return oe(u,s,i),ot(u,s).isSome()},st=(t,s)=>{const i=t.dom;q(i,s),qc(ui(t,"style").map(Kl),"")&&x(t,"style")},Pt=t=>t.dom.offsetWidth,no=(t,s)=>{const i=(I,L)=>{if(!le(L)&&!L.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+L);const z=I.dom;Al(z)&&(z.style[t]=L+"px")},u=I=>{const L=s(I);if(L<=0||L===null){const z=Ce(I,t);return parseFloat(z)||0}return L},m=u,b=(I,L)=>as(L,(z,Y)=>{const ne=Ce(I,Y),ie=ne===void 0?0:parseInt(ne,10);return isNaN(ie)?z:z+ie},0);return{set:i,get:u,getOuter:m,aggregate:b,max:(I,L,z)=>{const Y=b(I,z);return L>Y?L-Y:0}}},qn=no("height",t=>{const s=t.dom;return hc(t)?s.getBoundingClientRect().height:s.offsetHeight}),xn=t=>qn.get(t),yr=t=>qn.getOuter(t),_r=(t,s)=>{const i=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],u=qn.max(t,s,i);oe(t,"max-height",u+"px")},ws=(t,s)=>({left:t,top:s,translate:(u,m)=>ws(t+u,s+m)}),Zn=ws,eo=t=>{const s=t.getBoundingClientRect();return Zn(s.left,s.top)},ta=(t,s)=>t!==void 0?t:s!==void 0?s:0,Po=t=>{const s=t.dom.ownerDocument,i=s.body,u=s.defaultView,m=s.documentElement;if(i===t.dom)return Zn(i.offsetLeft,i.offsetTop);const b=ta(u==null?void 0:u.pageYOffset,m.scrollTop),T=ta(u==null?void 0:u.pageXOffset,m.scrollLeft),I=ta(m.clientTop,i.clientTop),L=ta(m.clientLeft,i.clientLeft);return nr(t).translate(T-L,b-I)},nr=t=>{const s=t.dom,u=s.ownerDocument.body;return u===s?Zn(u.offsetLeft,u.offsetTop):hc(t)?eo(s):Zn(0,0)},nu=no("width",t=>t.dom.offsetWidth),Ds=(t,s)=>nu.set(t,s),Er=t=>nu.get(t),Jr=t=>nu.getOuter(t),Xc=(t,s)=>{const i=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],u=nu.max(t,s,i);oe(t,"max-width",u+"px")},Ci=t=>{let s=!1,i;return(...u)=>(s||(s=!0,i=t.apply(null,u)),i)},ps=(t,s,i,u)=>{const m=t.isiOS()&&/ipad/i.test(i)===!0,b=t.isiOS()&&!m,T=t.isiOS()||t.isAndroid(),I=T||u("(pointer:coarse)"),L=m||!b&&T&&u("(min-device-width:768px)"),z=b||T&&!L,Y=s.isSafari()&&t.isiOS()&&/safari/i.test(i)===!1,ne=!z&&!L&&!Y;return{isiPad:we(m),isiPhone:we(b),isTablet:we(L),isPhone:we(z),isTouch:we(I),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:we(Y),isDesktop:we(ne)}},Rr=(t,s)=>{for(let i=0;i<t.length;i++){const u=t[i];if(u.test(s))return u}},mc=(t,s)=>{const i=Rr(t,s);if(!i)return{major:0,minor:0};const u=m=>Number(s.replace(i,"$"+m));return gl(u(1),u(2))},Zf=(t,s)=>{const i=String(s).toLowerCase();return t.length===0?La():mc(t,i)},La=()=>gl(0,0),gl=(t,s)=>({major:t,minor:s}),Eo={nu:gl,detect:Zf,unknown:La},ei=(t,s)=>Or(s.brands,i=>{const u=i.brand.toLowerCase();return Fn(t,m=>{var b;return u===((b=m.brand)===null||b===void 0?void 0:b.toLowerCase())}).map(m=>({current:m.name,version:Eo.nu(parseInt(i.version,10),0)}))}),Ka=(t,s)=>{const i=String(s).toLowerCase();return Fn(t,u=>u.search(i))},pc=(t,s)=>Ka(t,s).map(i=>{const u=Eo.detect(i.versionRegexes,s);return{current:i.name,version:u}}),na=(t,s)=>Ka(t,s).map(i=>{const u=Eo.detect(i.versionRegexes,s);return{current:i.name,version:u}}),Ir=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ya=t=>s=>li(s,t),Yf=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:t=>li(t,"edge/")&&li(t,"chrome")&&li(t,"safari")&&li(t,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ir],search:t=>li(t,"chrome")&&!li(t,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:t=>li(t,"msie")||li(t,"trident")},{name:"Opera",versionRegexes:[Ir,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ya("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ya("firefox")},{name:"Safari",versionRegexes:[Ir,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:t=>(li(t,"safari")||li(t,"mobile/"))&&li(t,"applewebkit")}],Ou=[{name:"Windows",search:ya("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:t=>li(t,"iphone")||li(t,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ya("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:ya("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ya("linux"),versionRegexes:[]},{name:"Solaris",search:ya("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ya("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ya("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],bm={browsers:we(Yf),oses:we(Ou)},yp="Edge",Il="Chromium",Ru="IE",Rh="Opera",Hi="Firefox",sd="Safari",kd=()=>Dl({current:void 0,version:Eo.unknown()}),Dl=t=>{const s=t.current,i=t.version,u=m=>()=>s===m;return{current:s,version:i,isEdge:u(yp),isChromium:u(Il),isIE:u(Ru),isOpera:u(Rh),isFirefox:u(Hi),isSafari:u(sd)}},Xa={unknown:kd,nu:Dl,edge:we(yp),chromium:we(Il),ie:we(Ru),opera:we(Rh),firefox:we(Hi),safari:we(sd)},$a="Windows",rd="iOS",cf="Android",_p="Linux",Ep="macOS",hs="Solaris",Qc="FreeBSD",Ne="ChromeOS",Nc=()=>_a({current:void 0,version:Eo.unknown()}),_a=t=>{const s=t.current,i=t.version,u=m=>()=>s===m;return{current:s,version:i,isWindows:u($a),isiOS:u(rd),isAndroid:u(cf),isMacOS:u(Ep),isLinux:u(_p),isSolaris:u(hs),isFreeBSD:u(Qc),isChromeOS:u(Ne)}},Ih={unknown:Nc,nu:_a,windows:we($a),ios:we(rd),android:we(cf),linux:we(_p),macos:we(Ep),solaris:we(hs),freebsd:we(Qc),chromeos:we(Ne)},zv={detect:(t,s,i)=>{const u=bm.browsers(),m=bm.oses(),b=s.bind(L=>ei(u,L)).orThunk(()=>pc(u,t)).fold(Xa.unknown,Xa.nu),T=na(m,t).fold(Ih.unknown,Ih.nu),I=ps(T,b,t,i);return{browser:b,os:T,deviceType:I}}},es=t=>window.matchMedia(t).matches;let at=Ci(()=>zv.detect(navigator.userAgent,F.from(navigator.userAgentData),es));const $t=()=>at(),Dt=(t,s,i,u,m,b,T)=>({target:t,x:s,y:i,stop:u,prevent:m,kill:b,raw:T}),Yn=t=>{const s=et.fromDom(Bs(t).getOr(t.target)),i=()=>t.stopPropagation(),u=()=>t.preventDefault(),m=Ke(u,i);return Dt(s,t.clientX,t.clientY,i,u,m,t)},To=(t,s)=>i=>{t(i)&&s(Yn(i))},ts=(t,s,i,u,m)=>{const b=To(i,u);return t.dom.addEventListener(s,b,m),{unbind:It(Kf,t,s,b,m)}},Si=(t,s,i,u)=>ts(t,s,i,u,!1),Qs=(t,s,i,u)=>ts(t,s,i,u,!0),Kf=(t,s,i,u)=>{t.dom.removeEventListener(s,i,u)},Jc=(t,s)=>{Kc(t).each(u=>{u.dom.insertBefore(s.dom,t.dom)})},Qa=(t,s)=>{Ag(t).fold(()=>{Kc(t).each(m=>{Be(m,s)})},u=>{Jc(u,s)})},Oe=(t,s)=>{fc(t).fold(()=>{Be(t,s)},u=>{t.dom.insertBefore(s.dom,u.dom)})},Be=(t,s)=>{t.dom.appendChild(s.dom)},qe=(t,s,i)=>{wi(t,i).fold(()=>{Be(t,s)},u=>{Jc(u,s)})},Vt=(t,s)=>{Lt(s,i=>{Be(t,i)})},ft=t=>{t.dom.textContent="",Lt(ka(t),s=>{xt(s)})},xt=t=>{const s=t.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},Xt=t=>{const s=t!==void 0?t.dom:document,i=s.body.scrollLeft||s.documentElement.scrollLeft,u=s.body.scrollTop||s.documentElement.scrollTop;return Zn(i,u)},An=(t,s,i)=>{const m=(i!==void 0?i.dom:document).defaultView;m&&m.scrollTo(t,s)},Ln=t=>{const s=t===void 0?window:t;return $t().browser.isFirefox()?F.none():F.from(s.visualViewport)},Co=(t,s,i,u)=>({x:t,y:s,width:i,height:u,right:t+i,bottom:s+u}),wo=t=>{const s=t===void 0?window:t,i=s.document,u=Xt(et.fromDom(i));return Ln(s).fold(()=>{const m=s.document.documentElement,b=m.clientWidth,T=m.clientHeight;return Co(u.left,u.top,b,T)},m=>Co(Math.max(m.pageLeft,u.left),Math.max(m.pageTop,u.top),m.width,m.height))},fo=()=>et.fromDom(document),zo=(t,s)=>t.view(s).fold(we([]),u=>{const m=t.owner(u),b=zo(t,m);return[u].concat(b)}),Ns=(t,s)=>{const i=s.owner(t),u=zo(s,i);return F.some(u)};var Zr=Object.freeze({__proto__:null,view:t=>{var s;return(t.dom===document?F.none():F.from((s=t.dom.defaultView)===null||s===void 0?void 0:s.frameElement)).map(et.fromDom)},owner:t=>Qi(t)});const Fa=t=>{const s=fo(),i=Xt(s);return Ns(t,Zr).fold(It(Po,t),m=>{const b=nr(t),T=Rs(m,(I,L)=>{const z=nr(L);return{left:I.left+z.left,top:I.top+z.top}},{left:0,top:0});return Zn(T.left+b.left+i.left,T.top+b.top+i.top)})},ur=(t,s,i)=>({point:t,width:s,height:i}),ou=(t,s,i,u)=>({x:t,y:s,width:i,height:u}),js=(t,s,i,u)=>({x:t,y:s,width:i,height:u,right:t+i,bottom:s+u}),ns=t=>{const s=Po(t),i=Jr(t),u=yr(t);return js(s.left,s.top,i,u)},su=t=>{const s=Fa(t),i=Jr(t),u=yr(t);return js(s.left,s.top,i,u)},wp=(t,s)=>{const i=Math.max(t.x,s.x),u=Math.max(t.y,s.y),m=Math.min(t.right,s.right),b=Math.min(t.bottom,s.bottom),T=m-i,I=b-u;return js(i,u,T,I)},S0=(t,s)=>as(s,(i,u)=>wp(i,u),t),Ja=()=>wo(window);var Tp=tinymce.util.Tools.resolve("tinymce.ThemeManager");const ru=t=>{const s=b=>b(t),i=we(t),u=()=>m,m={tag:!0,inner:t,fold:(b,T)=>T(t),isValue:Mt,isError:Tt,map:b=>io.value(b(t)),mapError:u,bind:s,exists:s,forall:s,getOr:i,or:u,getOrThunk:i,orThunk:u,getOrDie:i,each:b=>{b(t)},toOptional:()=>F.some(t)};return m},Ml=t=>{const s=()=>i,i={tag:!1,inner:t,fold:(u,m)=>u(t),isValue:Tt,isError:Mt,map:s,mapError:u=>io.error(u(t)),bind:s,exists:Tt,forall:Mt,getOr:Ue,or:Ue,getOrThunk:bn,orThunk:bn,getOrDie:Te(String(t)),each:ee,toOptional:F.none};return i},io={value:ru,error:Ml,fromOption:(t,s)=>t.fold(()=>Ml(s),ru)};var gc;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(gc||(gc={}));const ym=(t,s,i)=>t.stype===gc.Error?s(t.serror):i(t.svalue),sb=t=>{const s=[],i=[];return Lt(t,u=>{ym(u,m=>i.push(m),m=>s.push(m))}),{values:s,errors:i}},xi=(t,s)=>t.stype===gc.Error?{stype:gc.Error,serror:s(t.serror)}:t,Ha=(t,s)=>t.stype===gc.Value?{stype:gc.Value,svalue:s(t.svalue)}:t,el=(t,s)=>t.stype===gc.Value?s(t.svalue):t,iu=(t,s)=>t.stype===gc.Error?s(t.serror):t,oa=t=>({stype:gc.Value,svalue:t}),Nl=t=>({stype:gc.Error,serror:t}),bs={fromResult:t=>t.fold(Nl,oa),toResult:t=>ym(t,io.error,io.value),svalue:oa,partition:sb,serror:Nl,bind:el,bindError:iu,map:Ha,mapError:xi,fold:ym},kl=(t,s,i,u)=>({tag:"field",key:t,newKey:s,presence:i,prop:u}),Iu=(t,s)=>({tag:"custom",newKey:t,instantiator:s}),kr=(t,s,i)=>{switch(t.tag){case"field":return s(t.key,t.newKey,t.presence,t.prop);case"custom":return i(t.newKey,t.instantiator)}},Sp=(t,s)=>s,_m=(t,s)=>G(t)&&G(s)?dr(t,s):s,lf=t=>(...s)=>{if(s.length===0)throw new Error("Can't merge zero objects");const i={};for(let u=0;u<s.length;u++){const m=s[u];for(const b in m)jo(m,b)&&(i[b]=t(i[b],m[b]))}return i},dr=lf(_m),Pr=lf(Sp),vc=()=>({tag:"required",process:{}}),au=t=>({tag:"defaultedThunk",process:t}),Xf=t=>au(we(t)),Mh=()=>({tag:"option",process:{}}),Nh=t=>({tag:"mergeWithThunk",process:t}),ye=t=>Nh(we(t)),Qf=(t,s)=>t.length>0?bs.svalue(dr(s,Pr.apply(void 0,t))):bs.svalue(s),Em=t=>Ke(bs.serror,en)(t),rb={consolidateObj:(t,s)=>{const i=bs.partition(t);return i.errors.length>0?Em(i.errors):Qf(i.values,s)},consolidateArr:t=>{const s=bs.partition(t);return s.errors.length>0?Em(s.errors):bs.svalue(s.values)}},wm=t=>P(t)&&lr(t).length>100?" removed due to size":JSON.stringify(t,null,2),Uv=t=>{const s=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:we("... (only showing first ten failures)")}]):t;return nt(s,i=>"Failed path: ("+i.path.join(" > ")+`)
`+i.getErrorInfo())},bc=(t,s)=>bs.serror([{path:t,getErrorInfo:s}]),ib=(t,s,i)=>bc(t,()=>'Could not find valid *required* value for "'+s+'" in '+wm(i)),Rg=(t,s)=>bc(t,()=>'Choice schema did not contain choice key: "'+s+'"'),Wv=(t,s,i)=>bc(t,()=>'The chosen schema: "'+i+'" did not exist in branches: '+wm(s)),id=(t,s)=>bc(t,()=>"There are unsupported fields: ["+s.join(", ")+"] specified"),Gv=(t,s)=>bc(t,we(s)),ec=t=>{const s=(u,m)=>bs.bindError(t(m),b=>Gv(u,b)),i=we("val");return{extract:s,toString:i}},Jf=ec(bs.svalue),ab=(t,s,i,u)=>dn(s,i).fold(()=>ib(t,i,s),u),kh=(t,s,i,u)=>{const m=dn(t,s).getOrThunk(()=>i(t));return u(m)},Ig=(t,s,i)=>i(dn(t,s)),Dg=(t,s,i,u)=>{const m=dn(t,s).map(b=>b===!0?i(t):b);return u(m)},ad=(t,s,i,u,m)=>{const b=I=>m.extract(s.concat([u]),I),T=I=>I.fold(()=>bs.svalue(F.none()),L=>{const z=m.extract(s.concat([u]),L);return bs.map(z,F.some)});switch(t.tag){case"required":return ab(s,i,u,b);case"defaultedThunk":return kh(i,u,t.process,b);case"option":return Ig(i,u,T);case"defaultedOptionThunk":return Dg(i,u,t.process,T);case"mergeWithThunk":return kh(i,u,we({}),I=>{const L=dr(t.process(i),I);return b(L)})}},yc=(t,s,i)=>{const u={},m=[];for(const b of i)kr(b,(T,I,L,z)=>{const Y=ad(L,t,s,T,z);bs.fold(Y,ne=>{m.push(...ne)},ne=>{u[I]=ne})},(T,I)=>{u[T]=I(s)});return m.length>0?bs.serror(m):bs.svalue(u)},vl=t=>({extract:(u,m)=>t().extract(u,m),toString:()=>t().toString()}),Ai=t=>lr(_i(t,fe)),Va=t=>{const s=$n(t),i=Rs(t,(m,b)=>kr(b,T=>dr(m,{[T]:!0}),we(m)),{});return{extract:(m,b)=>{const T=me(b)?[]:Ai(b),I=po(T,L=>!Da(i,L));return I.length===0?s.extract(m,b):id(m,I)},toString:s.toString}},$n=t=>({extract:(u,m)=>yc(u,m,t),toString:()=>`obj{
`+nt(t,m=>kr(m,(b,T,I,L)=>b+" -> "+L.toString(),(b,T)=>"state("+b+")")).join(`
`)+"}"}),an=t=>({extract:(u,m)=>{const b=nt(m,(T,I)=>t.extract(u.concat(["["+I+"]"]),T));return rb.consolidateArr(b)},toString:()=>"array("+t.toString()+")"}),Tm=(t,s)=>{const i=s!==void 0?s:Ue;return{extract:(b,T)=>{const I=[];for(const L of t){const z=L.extract(b,T);if(z.stype===gc.Value)return{stype:gc.Value,svalue:i(z.svalue)};I.push(z)}return rb.consolidateArr(I)},toString:()=>"oneOf("+nt(t,b=>b.toString()).join(", ")+")"}},Pl=(t,s)=>{const i=(b,T)=>an(ec(t)).extract(b,T);return{extract:(b,T)=>{const I=lr(T),L=i(b,I);return bs.bind(L,z=>{const Y=nt(z,ne=>kl(ne,ne,vc(),s));return $n(Y).extract(b,T)})},toString:()=>"setOf("+s.toString()+")"}},lu=(t,s)=>{const i=Ci(s);return{extract:(b,T)=>i().extract(b,T),toString:()=>i().toString()}},jv=Ke(an,$n),uu=we(Jf),du=(t,s)=>ec(i=>{const u=typeof i;return t(i)?bs.svalue(i):bs.serror(`Expected type: ${s} but got: ${u}`)}),Mg=du(le,"number"),Yr=du(M,"string"),eh=du(me,"boolean"),Cm=du(ue,"function"),Wt=t=>{if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(s=>Wt(t[s]));default:return!1}},qv=ec(t=>Wt(t)?bs.svalue(t):bs.serror("Expected value to be acceptable for sending via postMessage")),Zv=(t,s,i,u)=>dn(i,u).fold(()=>Wv(t,i,u),b=>b.extract(t.concat(["branch: "+u]),s)),_c=(t,s)=>({extract:(m,b)=>dn(b,t).fold(()=>Rg(m,t),I=>Zv(m,b,s,I)),toString:()=>"chooseOn("+t+"). Possible values: "+lr(s)}),uf=()=>an(Jf),th=t=>ec(s=>t(s).fold(bs.serror,bs.svalue)),Lr=(t,s)=>Pl(i=>bs.fromResult(t(i)),s),cb=(t,s,i)=>{const u=s.extract([t],i);return bs.mapError(u,m=>({input:i,errors:m}))},Do=(t,s,i)=>bs.toResult(cb(t,s,i)),gs=t=>t.fold(s=>{throw new Error(mi(s))},Ue),Oi=(t,s,i)=>gs(Do(t,s,i)),mi=t=>`Errors: 
`+Uv(t.errors).join(`
`)+`

Input object: `+wm(t.input),di=(t,s)=>_c(t,Ls(s,$n)),nh=(t,s)=>lu(t,s),fi=kl,Ts=Iu,fu=t=>th(s=>_o(t,s)?io.value(s):io.error(`Unsupported value: "${s}", choose one of "${t.join(", ")}".`)),Rt=t=>fi(t,t,vc(),uu()),hu=(t,s)=>fi(t,t,vc(),s),oh=t=>hu(t,Mg),ti=t=>hu(t,Yr),Du=(t,s)=>fi(t,t,vc(),fu(s)),kc=t=>hu(t,eh),bl=t=>hu(t,Cm),Yv=(t,s)=>fi(t,t,Mh(),ec(i=>bs.serror("The field: "+t+" is forbidden. "+s))),Pc=(t,s)=>fi(t,t,vc(),$n(s)),Ng=(t,s)=>fi(t,t,vc(),jv(s)),Ec=(t,s)=>fi(t,t,vc(),an(s)),qo=t=>fi(t,t,Mh(),uu()),cd=(t,s)=>fi(t,t,Mh(),s),tc=t=>cd(t,Mg),Kr=t=>cd(t,Yr),ld=(t,s)=>cd(t,fu(s)),nc=t=>cd(t,Cm),lb=(t,s)=>cd(t,an(s)),oc=(t,s)=>cd(t,$n(s)),sh=(t,s)=>cd(t,Va(s)),tt=(t,s)=>fi(t,t,Xf(s),uu()),tl=(t,s,i)=>fi(t,t,Xf(s),i),Ph=(t,s)=>tl(t,s,Mg),Mu=(t,s)=>tl(t,s,Yr),wc=(t,s,i)=>tl(t,s,fu(i)),wa=(t,s)=>tl(t,s,eh),Vi=(t,s)=>tl(t,s,Cm),Kv=(t,s)=>tl(t,s,qv),xp=(t,s,i)=>tl(t,s,an(i)),Pd=(t,s,i)=>tl(t,s,$n(i)),Wn=t=>{let s=t;return{get:()=>s,set:m=>{s=m}}},mu={generate:t=>{if(!j(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");const s=[],i={};return Lt(t,(u,m)=>{const b=lr(u);if(b.length!==1)throw new Error("one and only one name per case");const T=b[0],I=u[T];if(i[T]!==void 0)throw new Error("duplicate key detected:"+T);if(T==="cata")throw new Error("cannot have a case named cata (sorry)");if(!j(I))throw new Error("case arguments must be an array");s.push(T),i[T]=(...L)=>{const z=L.length;if(z!==I.length)throw new Error("Wrong number of arguments to case "+T+". Expected "+I.length+" ("+I+"), got "+z);return{fold:(...ne)=>{if(ne.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+ne.length);return ne[m].apply(null,L)},match:ne=>{const ie=lr(ne);if(s.length!==ie.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+ie.join(","));if(!Gc(s,Se=>_o(ie,Se)))throw new Error("Not all branches were specified when using match. Specified: "+ie.join(", ")+`
Required: `+s.join(", "));return ne[T].apply(null,L)},log:ne=>{console.log(ne,{constructors:s,constructor:T,params:L})}}}}),i}};mu.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const sa=t=>{const s=[],i=[];return Lt(t,u=>{u.fold(m=>{s.push(m)},m=>{i.push(m)})}),{errors:s,values:i}},Ap=(t,s)=>{const i={};return ii(t,(u,m)=>{_o(s,m)||(i[m]=u)}),i},yl=(t,s)=>({[t]:s}),kg=t=>{const s={};return Lt(t,i=>{s[i.key]=i.value}),s},Lh=(t,s)=>Ap(t,s),Nu=(t,s)=>yl(t,s),Tc=t=>kg(t),_l=(t,s)=>t.length===0?io.value(s):io.value(dr(s,Pr.apply(void 0,t))),Pg=t=>io.error(en(t)),ub=(t,s)=>{const i=sa(t);return i.errors.length>0?Pg(i.errors):_l(i.values,s)},ud=t=>ue(t)?t:Tt,Op=(t,s,i)=>{let u=t.dom;const m=ud(i);for(;u.parentNode;){u=u.parentNode;const b=et.fromDom(u),T=s(b);if(T.isSome())return T;if(m(b))break}return F.none()},Lg=(t,s,i)=>{const u=s(t),m=ud(i);return u.orThunk(()=>m(t)?F.none():Op(t,s,m))},$h=(t,s)=>us(t.element,s.event.target),Sm={can:Mt,abort:Tt,run:ee},ff=t=>{if(!Da(t,"can")&&!Da(t,"abort")&&!Da(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return{...Sm,...t}},$g=(t,s)=>(...i)=>as(t,(u,m)=>u&&s(m).apply(void 0,i),!0),Bg=(t,s)=>(...i)=>as(t,(u,m)=>u||s(m).apply(void 0,i),!1),xs=t=>ue(t)?{can:Mt,abort:Tt,run:t}:t,hf=t=>{const s=$g(t,m=>m.can),i=Bg(t,m=>m.abort);return{can:s,abort:i,run:(...m)=>{Lt(t,b=>{b.run.apply(void 0,m)})}}},ra=we,Ll=ra("touchstart"),Bh=ra("touchmove"),rh=ra("touchend"),db=ra("touchcancel"),ni=ra("mousedown"),El=ra("mousemove"),Fh=ra("mouseout"),Ld=ra("mouseup"),$d=ra("mouseover"),mf=ra("focusin"),nl=ra("focusout"),zi=ra("keydown"),Fg=ra("keyup"),ia=ra("input"),$l=ra("change"),Lc=ra("click"),xm=ra("transitioncancel"),pf=ra("transitionend"),Xv=ra("transitionstart"),fb=ra("selectstart"),fr=t=>we("alloy."+t),Hg={tap:fr("tap")},$c=fr("focus"),Vg=fr("blur.post"),zg=fr("paste.post"),pu=fr("receive"),Fs=fr("execute"),gf=fr("focus.item"),dd=Hg.tap,Ug=fr("longpress"),Hh=fr("sandbox.close"),Rp=fr("typeahead.cancel"),Am=fr("system.init"),hb=fr("system.touchmove"),ol=fr("system.touchend"),ku=fr("system.scroll"),vf=fr("system.resize"),fd=fr("system.attached"),Pu=fr("system.detached"),Bl=fr("system.dismissRequested"),Lu=fr("system.repositionRequested"),Om=fr("focusmanager.shifted"),hd=fr("slotcontainer.visibility"),Qv=fr("system.external.element.scroll"),Vh=fr("change.tab"),zh=fr("dismiss.tab"),Wg=fr("highlight"),Rm=fr("dehighlight"),ls=(t,s)=>{Im(t,t.element,s,{})},Nn=(t,s,i)=>{Im(t,t.element,s,i)},md=t=>{ls(t,Fs())},$u=(t,s,i)=>{Im(t,s,i,{})},Im=(t,s,i,u)=>{const m={target:s,...u};t.getSystem().triggerEvent(i,s,m)},pd=(t,s,i,u)=>{const m={...u,target:s};t.getSystem().triggerEvent(i,s,m)},Jv=(t,s,i,u)=>{t.getSystem().triggerEvent(i,s,u.event)},er=t=>Tc(t),Bu=(t,s)=>({key:t,value:ff({abort:s})}),Gg=(t,s)=>({key:t,value:ff({can:s})}),jg=t=>({key:t,value:ff({run:(s,i)=>{i.event.prevent()}})}),kt=(t,s)=>({key:t,value:ff({run:s})}),qg=(t,s,i)=>({key:t,value:ff({run:(u,m)=>{s.apply(void 0,[u,m].concat(i))}})}),gd=t=>s=>kt(t,s),ih=t=>s=>({key:t,value:ff({run:(i,u)=>{$h(i,u)&&s(i,u)}})}),Ip=(t,s)=>kt(t,(i,u)=>{i.getSystem().getByUid(s).each(m=>{Jv(m,m.element,t,u)})}),bf=(t,s,i)=>{const u=s.partUids[i];return Ip(t,u)},Dm=(t,s)=>kt(t,(i,u)=>{const m=u.event,b=i.getSystem().getByDom(m.target).getOrThunk(()=>Lg(m.target,I=>i.getSystem().getByDom(I).toOptional(),Tt).getOr(i));s(i,b,u)}),ah=t=>kt(t,(s,i)=>{i.cut()}),Mm=t=>kt(t,(s,i)=>{i.stop()}),Ui=(t,s)=>ih(t)(s),wr=ih(fd()),Cc=ih(Pu()),vd=ih(Am()),gu=gd(Fs()),re=(t,s)=>{const u=(s||document).createElement("div");return u.innerHTML=t,ka(et.fromDom(u))},D=t=>t.dom.innerHTML,Z=(t,s)=>{const u=Qi(t).dom,m=et.fromDom(u.createDocumentFragment()),b=re(s,u);Vt(m,b),ft(t),Be(t,m)},Ae=t=>{const s=et.fromTag("div"),i=et.fromDom(t.dom.cloneNode(!0));return Be(s,i),D(s)},ze=(t,s)=>et.fromDom(t.dom.cloneNode(s)),yt=t=>ze(t,!1),St=t=>{if(rf(t))return"#shadow-root";{const s=yt(t);return Ae(s)}},Ut=t=>St(t),on=(t,s,i)=>us(s,t.element)&&!us(s,i),ao=er([Gg($c(),(t,s)=>{const i=s.event,u=i.originator,m=i.target;return on(t,u,m)?(console.warn($c()+` did not get interpreted by the desired target. 
Originator: `+Ut(u)+`
Target: `+Ut(m)+`
Check the `+$c()+" event handlers"),!1):!0})]);var Tn=Object.freeze({__proto__:null,events:ao});let ro=0;const zt=t=>{const i=new Date().getTime(),u=Math.floor(Math.random()*1e9);return ro++,t+"_"+u+ro+String(i)},os=we("alloy-id-"),oi=we("data-alloy-id"),So=os(),or=oi(),sr=(t,s)=>{const i=zt(So+t);return Hs(s,i),i},Hs=(t,s)=>{Object.defineProperty(t.dom,or,{value:s,writable:!0})},Tr=t=>{const s=$s(t)?t.dom[or]:null;return F.from(s)},Uo=t=>zt(t),hr=Ue,rr=t=>{const s=m=>`The component must be in a context to execute: ${m}`+(t?`
`+Ut(t().element)+" is not in context.":""),i=m=>()=>{throw new Error(s(m))},u=m=>()=>{console.warn(s(m))};return{debugInfo:we("fake"),triggerEvent:u("triggerEvent"),triggerFocus:u("triggerFocus"),triggerEscape:u("triggerEscape"),broadcast:u("broadcast"),broadcastOn:u("broadcastOn"),broadcastEvent:u("broadcastEvent"),build:i("build"),buildOrPatch:i("buildOrPatch"),addToWorld:i("addToWorld"),removeFromWorld:i("removeFromWorld"),addToGui:i("addToGui"),removeFromGui:i("removeFromGui"),getByUid:i("getByUid"),getByDom:i("getByDom"),isConnected:Tt}},aa=rr(),ca=(t,s,i)=>{const u=i.toString(),m=u.indexOf(")")+1,b=u.indexOf("("),T=u.substring(b+1,m-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:Wi(T.slice(0,1).concat(T.slice(3)))}),t},Wi=t=>nt(t,s=>Rc(s,"/*")?s.substring(0,s.length-2):s),pi=(t,s)=>{const i=t.toString(),u=i.indexOf(")")+1,m=i.indexOf("("),b=i.substring(m+1,u-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:Wi(b)}),t},Ta=(t,s)=>{const i=s.toString(),u=i.indexOf(")")+1,m=i.indexOf("("),b=i.substring(m+1,u-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:Wi(b.slice(1))}),t},Bc=zt("alloy-premade"),sl=t=>(Object.defineProperty(t.element.dom,Bc,{value:t.uid,writable:!0}),Nu(Bc,t)),Bd=t=>jo(t.dom,Bc),Fl=t=>dn(t,Bc),Fc=t=>Ta((s,...i)=>t(s.getApis(),s,...i),t),gi={init:()=>Ca({readState:we("No State required")})},Ca=t=>t,rl=(t,s)=>{const i=nt(s,m=>oc(m.name(),[Rt("config"),tt("state",gi)])),u=Do("component.behaviours",$n(i),t.behaviours).fold(m=>{throw new Error(mi(m)+`
Complete spec:
`+JSON.stringify(t,null,2))},Ue);return{list:s,data:Ls(u,m=>{const b=m.map(T=>({config:T.config,state:T.state.init(T.config)}));return we(b)})}},bd=t=>t.list,Nm=t=>t.data,Fd=(t,s)=>{const i={};return ii(t,(u,m)=>{ii(u,(b,T)=>{const I=dn(i,T).getOr([]);i[T]=I.concat([s(m,b)])})}),i},wl=t=>({classes:ae(t.classes)?[]:t.classes,attributes:ae(t.attributes)?{}:t.attributes,styles:ae(t.styles)?{}:t.styles}),Fu=(t,s)=>({...t,attributes:{...t.attributes,...s.attributes},styles:{...t.styles,...s.styles},classes:t.classes.concat(s.classes)}),Hl=(t,s,i,u)=>{const m={...s};Lt(i,Y=>{m[Y.name()]=Y.exhibit(t,u)});const b=Fd(m,(Y,ne)=>({name:Y,modification:ne})),T=Y=>Rs(Y,(ne,ie)=>({...ie.modification,...ne}),{}),I=Rs(b.classes,(Y,ne)=>ne.modification.concat(Y),[]),L=T(b.attributes),z=T(b.styles);return wl({classes:I,attributes:L,styles:z})},Gi=(t,s,i,u)=>{try{const m=jc(i,(b,T)=>{const I=b[s],L=T[s],z=u.indexOf(I),Y=u.indexOf(L);if(z===-1)throw new Error("The ordering for "+t+" does not have an entry for "+I+`.
Order specified: `+JSON.stringify(u,null,2));if(Y===-1)throw new Error("The ordering for "+t+" does not have an entry for "+L+`.
Order specified: `+JSON.stringify(u,null,2));return z<Y?-1:Y<z?1:0});return io.value(m)}catch(m){return io.error([m])}},Hu=(t,s)=>({handler:t,purpose:s}),Uh=(t,s)=>({cHandler:t,purpose:s}),Dp=(t,s)=>Uh(It.apply(void 0,[t.handler].concat(s)),t.purpose),e1=t=>t.cHandler,qs=(t,s)=>({name:t,handler:s}),x0=(t,s)=>{const i={};return Lt(t,u=>{i[u.name()]=u.handlers(s)}),i},t1=(t,s,i)=>{const u={...i,...x0(s,t)};return Fd(u,qs)},A0=(t,s,i,u)=>{const m=t1(t,i,u);return Ri(m,s)},Zg=t=>{const s=xs(t);return(i,u,...m)=>{const b=[i,u].concat(m);s.abort.apply(void 0,b)?u.stop():s.can.apply(void 0,b)&&s.run.apply(void 0,b)}},Wh=(t,s)=>io.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(nt(s,i=>i.name),null,2)]),Hd=(t,s,i)=>{const u=s[i];return u?Gi("Event: "+i,"name",t,u).map(m=>{const b=nt(m,T=>T.handler);return hf(b)}):Wh(i,t)},Ri=(t,s)=>{const i=Wf(t,(u,m)=>(u.length===1?io.value(u[0].handler):Hd(u,s,m)).map(T=>{const I=Zg(T),L=u.length>1?po(s[m],z=>Ho(u,Y=>Y.name===z)).join(" > "):u[0].name;return Nu(m,Hu(I,L))}));return ub(i,{})},yf="alloy.base.behaviour",_f=$n([fi("dom","dom",vc(),$n([Rt("tag"),tt("styles",{}),tt("classes",[]),tt("attributes",{}),qo("value"),qo("innerHtml")])),Rt("components"),Rt("uid"),tt("events",{}),tt("apis",{}),fi("eventOrder","eventOrder",ye({[Fs()]:["disabling",yf,"toggling","typeaheadevents"],[$c()]:[yf,"focusing","keying"],[Am()]:[yf,"disabling","toggling","representing"],[ia()]:[yf,"representing","streaming","invalidating"],[Pu()]:[yf,"representing","item-events","tooltipping"],[ni()]:["focusing",yf,"item-type-events"],[Ll()]:["focusing",yf,"item-type-events"],[$d()]:["item-type-events","tooltipping"],[pu()]:["receiving","reflecting","tooltipping"]}),uu()),qo("domModification")]),Xr=t=>Do("custom.definition",_f,t),Mp=t=>({...t.dom,uid:t.uid,domChildren:nt(t.components,s=>s.element)}),km=t=>t.domModification.fold(()=>wl({}),wl),mb=t=>t.events,n1=(t,s)=>{const i=Fi(t,s);return i===void 0||i===""?[]:i.split(" ")},Ef=(t,s,i)=>{const m=n1(t,s).concat([i]);return uo(t,s,m.join(" ")),!0},Vd=(t,s,i)=>{const u=po(n1(t,s),m=>m!==i);return u.length>0?uo(t,s,u.join(" ")):x(t,s),!1},Np=t=>t.dom.classList!==void 0,O_=t=>n1(t,"class"),bx=(t,s)=>Ef(t,"class",s),wf=(t,s)=>Vd(t,"class",s),ks=(t,s)=>{Np(t)?t.dom.classList.add(s):bx(t,s)},R_=t=>{(Np(t)?t.dom.classList:O_(t)).length===0&&x(t,"class")},Zs=(t,s)=>{Np(t)?t.dom.classList.remove(s):wf(t,s),R_(t)},Sa=(t,s)=>Np(t)&&t.dom.classList.contains(s),yd=(t,s)=>{Lt(s,i=>{ks(t,i)})},Tl=(t,s)=>{Lt(s,i=>{Zs(t,i)})},Pm=(t,s)=>Gc(s,i=>Sa(t,i)),Yg=t=>{const s=t.dom.classList,i=new Array(s.length);for(let u=0;u<s.length;u++){const m=s.item(u);m!==null&&(i[u]=m)}return i},Gh=t=>Np(t)?Yg(t):O_(t),Vu=t=>t.dom.value,zd=(t,s)=>{if(s===void 0)throw new Error("Value.set was undefined");t.dom.value=s},Lm=(t,s,i)=>wi(t,s).map(m=>{if(i.exists(T=>!us(T,m))){const T=i.map(Ic).getOr("span"),I=et.fromTag(T);return Jc(m,I),I}else return m}),o1=(t,s,i)=>{i.fold(()=>Be(t,s),u=>{us(u,s)||(Jc(u,s),xt(u))})},O0=(t,s,i)=>{const u=nt(s,i),m=ka(t);return Lt(m.slice(u.length),xt),u},I_=(t,s,i,u)=>{const m=wi(t,s),b=u(i,m),T=Lm(t,s,m);return o1(t,b.element,T),b},D_=(t,s,i)=>O0(t,s,(u,m)=>I_(t,m,u,i)),Kg=(t,s)=>O0(t,s,(i,u)=>{const m=wi(t,u);return o1(t,i,m),i}),R0=(t,s)=>{const i=lr(t),u=lr(s),m=Dn(u,i),b=Xs(t,(T,I)=>!jo(s,I)||T!==s[I]).t;return{toRemove:m,toSet:b}},qw=(t,s)=>{const{class:i,style:u,...m}=k(s),{toSet:b,toRemove:T}=R0(t.attributes,m),I=()=>{Lt(T,ht=>x(s,ht)),cs(s,b)},L=wt(s),{toSet:z,toRemove:Y}=R0(t.styles,L),ne=()=>{Lt(Y,ht=>st(s,ht)),he(s,z)},ie=Gh(s),de=Dn(ie,t.classes),Se=Dn(t.classes,ie),Le=()=>{yd(s,Se),Tl(s,de)},ct=ht=>{Z(s,ht)},je=()=>{const ht=t.domChildren;Kg(s,ht)},it=()=>{const ht=s,vt=t.value.getOrUndefined();vt!==Vu(ht)&&zd(ht,vt??"")};return I(),Le(),ne(),t.innerHtml.fold(je,ct),it(),s},Zw=t=>{const s=et.fromTag(t.tag);cs(s,t.attributes),yd(s,t.classes),he(s,t.styles),t.innerHtml.each(u=>Z(s,u));const i=t.domChildren;return Vt(s,i),t.value.each(u=>{zd(s,u)}),s},M_=(t,s)=>{try{const i=qw(t,s);return F.some(i)}catch{return F.none()}},N_=t=>t.innerHtml.isSome()&&t.domChildren.length>0,I0=(t,s)=>{const i=m=>Ic(m)===t.tag&&!N_(t)&&!Bd(m),u=s.filter(i).bind(m=>M_(t,m)).getOrThunk(()=>Zw(t));return Hs(u,t.uid),u},k_=t=>{const s=dn(t,"behaviours").getOr({});return Ge(lr(s),i=>{const u=s[i];return fe(u)?[u.me]:[]})},Yw=(t,s)=>rl(t,s),D0=t=>{const s=k_(t);return Yw(t,s)},kp=(t,s,i)=>{const u=Mp(t),m=km(t),b={"alloy.base.modification":m},T=s.length>0?Hl(i,b,s,u):m;return Fu(u,T)},M0=(t,s,i)=>{const u={"alloy.base.behaviour":mb(t)};return A0(i,t.eventOrder,s,u).getOrDie()},Kw=(t,s)=>{const i=()=>ht,u=Wn(aa),m=gs(Xr(t)),b=D0(t),T=bd(b),I=Nm(b),L=kp(m,T,I),z=I0(L,s),Y=M0(m,T,I),ne=Wn(m.components),ie=vt=>{u.set(vt)},de=()=>{u.set(rr(i))},Se=()=>{const vt=ka(z),tn=Ge(vt,Ft=>u.get().getByDom(Ft).fold(()=>[],Us));ne.set(tn)},Le=vt=>{const tn=I;return(ue(tn[vt.name()])?tn[vt.name()]:()=>{throw new Error("Could not find "+vt.name()+" in "+JSON.stringify(t,null,2))})()},ct=vt=>ue(I[vt.name()]),je=()=>m.apis,it=vt=>I[vt]().map(tn=>tn.state.readState()).getOr("not enabled"),ht={uid:t.uid,getSystem:u.get,config:Le,hasConfigured:ct,spec:t,readState:it,getApis:je,connect:ie,disconnect:de,element:z,syncComponents:Se,components:ne.get,events:Y};return ht},Xw=(t,s)=>{const i=dn(t,"components").getOr([]);return s.fold(()=>nt(i,Hc),u=>nt(i,(m,b)=>pb(m,wi(u,b))))},P_=(t,s)=>{const{events:i,...u}=hr(t),m=Xw(u,s),b={...u,events:{...Tn,...i},components:m};return io.value(Kw(b,s))},$r=t=>{const s=et.fromText(t);return ch({element:s})},ch=t=>{const s=Oi("external.component",Va([Rt("element"),qo("uid")]),t),i=Wn(rr()),u=I=>{i.set(I)},m=()=>{i.set(rr(()=>T))},b=s.uid.getOrThunk(()=>Uo("external"));Hs(s.element,b);const T={uid:b,getSystem:i.get,config:F.none,hasConfigured:Tt,connect:u,disconnect:m,getApis:()=>({}),element:s.element,spec:t,readState:we("No state"),syncComponents:ee,components:we([]),events:{}};return sl(T)},$m=Uo,L_=t=>jo(t,"uid"),pb=(t,s)=>Fl(t).getOrThunk(()=>{const i=L_(t)?t:{uid:$m(""),...t};return P_(i,s).getOrDie()}),Hc=t=>pb(t,F.none()),Vl=sl;var Pp=(t,s,i,u,m)=>t(i,u)?F.some(i):ue(m)&&m(i)?F.none():s(i,u,m);const gb=(t,s,i)=>{let u=t.dom;const m=ue(i)?i:Tt;for(;u.parentNode;){u=u.parentNode;const b=et.fromDom(u);if(s(b))return F.some(b);if(m(b))break}return F.none()},N0=(t,s,i)=>Pp((m,b)=>b(m),gb,t,s,i),$_=(t,s)=>{const i=m=>s(et.fromDom(m));return Fn(t.dom.childNodes,i).map(et.fromDom)},k0=(t,s)=>{const i=u=>{for(let m=0;m<u.childNodes.length;m++){const b=et.fromDom(u.childNodes[m]);if(s(b))return F.some(b);const T=i(u.childNodes[m]);if(T.isSome())return T}return F.none()};return i(t.dom)},B_=(t,s,i)=>N0(t,s,i).isSome(),vu=(t,s,i)=>gb(t,u=>Yc(u,s),i),jh=(t,s)=>$_(t,i=>Yc(i,s)),Ur=(t,s)=>eu(s,t),lh=(t,s,i)=>Pp((m,b)=>Yc(m,b),vu,t,s,i),Tf="aria-controls",Qw=t=>N0(t,i=>{if(!$s(i))return!1;const u=Fi(i,"id");return u!==void 0&&u.indexOf(Tf)>-1}).bind(i=>{const u=Fi(i,"id"),m=Ti(i);return Ur(m,`[${Tf}="${u}"]`)}),F_=()=>{const t=zt(Tf);return{id:t,link:u=>{uo(u,Tf,t)},unlink:u=>{x(u,Tf)}}},P0=(t,s)=>Qw(s).exists(i=>Lp(t,i)),Lp=(t,s)=>B_(s,i=>us(i,t.element),Tt)||P0(t,s),L0="unknown";var Xg;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(Xg||(Xg={}));const $p=Wn({}),Jw=(t,s)=>{const i=[],u=new Date().getTime();return{logEventCut:(m,b,T)=>{i.push({outcome:"cut",target:b,purpose:T})},logEventStopped:(m,b,T)=>{i.push({outcome:"stopped",target:b,purpose:T})},logNoParent:(m,b,T)=>{i.push({outcome:"no-parent",target:b,purpose:T})},logEventNoHandlers:(m,b)=>{i.push({outcome:"no-handlers-left",target:b})},logEventResponse:(m,b,T)=>{i.push({outcome:"response",purpose:T,target:b})},write:()=>{const m=new Date().getTime();_o(["mousemove","mouseover","mouseout",Am()],t)||console.log(t,{event:t,time:m-u,target:s.dom,sequence:nt(i,b=>_o(["cut","stopped","response"],b.outcome)?"{"+b.purpose+"} "+b.outcome+" at ("+Ut(b.target)+")":b.outcome)})}}},s1=(t,s,i)=>{switch(dn($p.get(),t).orThunk(()=>{const m=lr($p.get());return Or(m,b=>t.indexOf(b)>-1?F.some($p.get()[b]):F.none())}).getOr(Xg.NORMAL)){case Xg.NORMAL:return i(bb());case Xg.LOGGING:{const m=Jw(t,s),b=i(m);return m.write(),b}case Xg.STOP:return!0}},r1=["alloy/data/Fields","alloy/debugging/Debugging"],$0=()=>{const t=new Error;if(t.stack!==void 0){const s=t.stack.split(`
`);return Fn(s,i=>i.indexOf("alloy")>0&&!Ho(r1,u=>i.indexOf(u)>-1)).getOr(L0)}else return L0},vb={logEventCut:ee,logEventStopped:ee,logNoParent:ee,logEventNoHandlers:ee,logEventResponse:ee,write:ee},Qg=(t,s,i)=>s1(t,s,i),bb=we(vb),Bm=we([Rt("menu"),Rt("selectedMenu")]),Jg=we([Rt("item"),Rt("selectedItem")]);we($n(Jg().concat(Bm())));const H_=we($n(Jg())),V_=Pc("initSize",[Rt("numColumns"),Rt("numRows")]),i1=()=>hu("markers",H_()),Cf=()=>Pc("markers",[Rt("backgroundMenu")].concat(Bm()).concat(Jg())),_d=t=>Pc("markers",nt(t,Rt)),a1=(t,s,i)=>($0(),fi(s,s,i,th(u=>io.value((...m)=>u.apply(void 0,m))))),Qe=t=>a1("onHandler",t,Xf(ee)),Br=t=>a1("onKeyboardHandler",t,Xf(F.none)),Bp=t=>a1("onHandler",t,vc()),B0=t=>a1("onKeyboardHandler",t,vc()),mr=(t,s)=>Ts(t,we(s)),Ud=t=>Ts(t,Ue),c1=we(V_),xa=(t,s,i,u,m,b,T,I=!1)=>({x:t,y:s,bubble:i,direction:u,placement:m,restriction:b,label:`${T}-${m}`,alwaysFit:I}),Wd=mu.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),F0=(t,s,i,u,m,b,T,I,L)=>t.fold(s,i,u,m,b,T,I,L),z_=(t,s,i,u)=>t.fold(s,s,u,u,s,u,i,i),yb=(t,s,i,u)=>t.fold(s,u,s,u,i,i,s,u),Fp=Wd.southeast,Fm=Wd.southwest,_b=Wd.northeast,l1=Wd.northwest,il=Wd.south,u1=Wd.north,H0=Wd.east,d1=Wd.west,qh=(t,s,i,u)=>{const m=t+s;return m>u?i:m<i?u:m},al=(t,s,i)=>Math.min(Math.max(t,s),i),eT=(t,s)=>{switch(s){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},za=(t,s)=>ri(["left","right","top","bottom"],i=>dn(s,i).map(u=>eT(t,u))),Eb=(t,s,i)=>{const u=(L,z)=>s[L].map(Y=>{const ne=L==="top"||L==="bottom",ie=ne?i.top:i.left,Se=(L==="left"||L==="top"?Math.max:Math.min)(Y,z)+ie;return ne?al(Se,t.y,t.bottom):al(Se,t.x,t.right)}).getOr(z),m=u("left",t.x),b=u("top",t.y),T=u("right",t.right),I=u("bottom",t.bottom);return js(m,b,T-m,I-b)},uh="layout",f1=t=>t.x,U_=(t,s)=>t.x+t.width/2-s.width/2,V0=(t,s)=>t.x+t.width-s.width,z0=(t,s)=>t.y-s.height,U0=t=>t.y+t.height,W0=(t,s)=>t.y+t.height/2-s.height/2,W_=t=>t.x+t.width,tT=(t,s)=>t.x-s.width,Ua=(t,s,i)=>xa(f1(t),U0(t),i.southeast(),Fp(),"southeast",za(t,{left:1,top:3}),uh),la=(t,s,i)=>xa(V0(t,s),U0(t),i.southwest(),Fm(),"southwest",za(t,{right:0,top:3}),uh),Cl=(t,s,i)=>xa(f1(t),z0(t,s),i.northeast(),_b(),"northeast",za(t,{left:1,bottom:2}),uh),bu=(t,s,i)=>xa(V0(t,s),z0(t,s),i.northwest(),l1(),"northwest",za(t,{right:0,bottom:2}),uh),Vs=(t,s,i)=>xa(U_(t,s),z0(t,s),i.north(),u1(),"north",za(t,{bottom:2}),uh),sc=(t,s,i)=>xa(U_(t,s),U0(t),i.south(),il(),"south",za(t,{top:3}),uh),Gd=(t,s,i)=>xa(W_(t),W0(t,s),i.east(),H0(),"east",za(t,{left:0}),uh),Zh=(t,s,i)=>xa(tT(t,s),W0(t,s),i.west(),d1(),"west",za(t,{right:1}),uh),ys=()=>[Ua,la,Cl,bu,sc,Vs,Gd,Zh],wb=()=>[la,Ua,bu,Cl,sc,Vs,Gd,Zh],Sl=()=>[Cl,bu,Ua,la,Vs,sc],ua=()=>[bu,Cl,la,Ua,Vs,sc],h1=()=>[Ua,la,Cl,bu,sc,Vs],Sf=()=>[la,Ua,bu,Cl,sc,Vs],G0=(t,s)=>s.universal?t:po(t,i=>_o(s.channels,i));var Tb=Object.freeze({__proto__:null,events:t=>er([kt(pu(),(s,i)=>{const u=t.channels,m=lr(u),b=i,T=G0(m,b);Lt(T,I=>{const L=u[I],z=L.schema,Y=Oi("channel["+I+`] data
Receiver: `+Ut(s.element),z,b.data);L.onReceive(s,Y)})})])}),j0=[hu("channels",Lr(io.value,Va([Bp("onReceive"),tt("schema",uu())])))];const Cb=(t,s,i)=>gu(u=>{i(u,t,s)}),m1=(t,s,i)=>vd((u,m)=>{i(u,t,s)}),G_=(t,s,i,u,m,b)=>{const T=Va(t),I=oc(s,[sh("config",t)]);return da(T,I,s,i,u,m,b)},wn=(t,s,i,u,m,b)=>{const T=t,I=oc(s,[cd("config",t)]);return da(T,I,s,i,u,m,b)},Sb=(t,s,i)=>ca((m,...b)=>{const T=[m].concat(b);return m.config({name:we(t)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+i)},I=>{const L=Array.prototype.slice.call(T,1);return s.apply(void 0,[m,I.config,I.state].concat(L))})},i,s),p1=t=>({key:t,value:void 0}),da=(t,s,i,u,m,b,T)=>{const I=ne=>Da(ne,i)?ne[i]():F.none(),L=Ls(m,(ne,ie)=>Sb(i,ne,ie)),Y={...Ls(b,(ne,ie)=>pi(ne,ie)),...L,revoke:It(p1,i),config:ne=>{const ie=Oi(i+"-config",t,ne);return{key:i,value:{config:ie,me:Y,configAsRaw:Ci(()=>Oi(i+"-config",t,ne)),initialConfig:ne,state:T}}},schema:we(s),exhibit:(ne,ie)=>xu(I(ne),dn(u,"exhibit"),(de,Se)=>Se(ie,de.config,de.state)).getOrThunk(()=>wl({})),name:we(i),handlers:ne=>I(ne).map(ie=>dn(u,"events").getOr(()=>({}))(ie.config,ie.state)).getOr({})};return Y},Bt=t=>Tc(t),j_=Va([Rt("fields"),Rt("name"),tt("active",{}),tt("apis",{}),tt("state",gi),tt("extra",{})]),Wa=t=>{const s=Oi("Creating behaviour: "+t.name,j_,t);return G_(s.fields,s.name,s.active,s.apis,s.extra,s.state)},nT=Va([Rt("branchKey"),Rt("branches"),Rt("name"),tt("active",{}),tt("apis",{}),tt("state",gi),tt("extra",{})]),q_=t=>{const s=Oi("Creating behaviour: "+t.name,nT,t);return wn(di(s.branchKey,s.branches),s.name,s.active,s.apis,s.extra,s.state)},Z_=we(void 0),Ed=Wa({fields:j0,name:"receiving",active:Tb});var ev=Object.freeze({__proto__:null,exhibit:(t,s)=>wl({classes:[],styles:s.useFixed()?{}:{position:"relative"}})});const zl=t=>t.dom.focus(),g1=t=>t.dom.blur(),v1=t=>{const s=Ti(t).dom;return t.dom===s.activeElement},xf=(t=fo())=>F.from(t.dom.activeElement).map(et.fromDom),zu=t=>xf(Ti(t)).filter(s=>t.dom.contains(s.dom)),Ul=(t,s)=>{const i=Ti(s),u=xf(i).bind(b=>{const T=I=>us(b,I);return T(s)?F.some(s):k0(s,T)}),m=t(s);return u.each(b=>{xf(i).filter(T=>us(T,b)).fold(()=>{zl(b)},ee)}),m},cl=(t,s,i,u,m)=>{const b=T=>T+"px";return{position:t,left:s.map(b),top:i.map(b),right:u.map(b),bottom:m.map(b)}},oT=t=>({...t,position:F.some(t.position)}),xb=(t,s)=>{Ee(t,oT(s))},Ab=mu.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Hm=(t,s,i,u,m,b)=>{const T=s.rect,I=T.x-i,L=T.y-u,z=T.width,Y=T.height,ne=m-(I+z),ie=b-(L+Y),de=F.some(I),Se=F.some(L),Le=F.some(ne),ct=F.some(ie),je=F.none();return F0(s.direction,()=>cl(t,de,Se,je,je),()=>cl(t,je,Se,Le,je),()=>cl(t,de,je,je,ct),()=>cl(t,je,je,Le,ct),()=>cl(t,de,Se,je,je),()=>cl(t,de,je,je,ct),()=>cl(t,de,Se,je,je),()=>cl(t,je,Se,Le,je))},Y_=(t,s)=>t.fold(()=>{const i=s.rect;return cl("absolute",F.some(i.x),F.some(i.y),F.none(),F.none())},(i,u,m,b)=>Hm("absolute",s,i,u,m,b),(i,u,m,b)=>Hm("fixed",s,i,u,m,b)),Ob=(t,s)=>{const i=It(Fa,s),u=t.fold(i,i,()=>{const T=Xt();return Fa(s).translate(-T.left,-T.top)}),m=Jr(s),b=yr(s);return js(u.left,u.top,m,b)},Yh=(t,s)=>s.fold(()=>t.fold(Ja,Ja,js),i=>t.fold(we(i),we(i),()=>{const u=As(t,i.x,i.y);return js(u.left,u.top,i.width,i.height)})),As=(t,s,i)=>{const u=Zn(s,i),m=()=>{const b=Xt();return u.translate(-b.left,-b.top)};return t.fold(we(u),we(u),m)},Hp=(t,s,i,u)=>t.fold(s,i,u);Ab.none;const Dr=Ab.relative,K_=Ab.fixed,Vp=(t,s)=>({anchorBox:t,origin:s}),Wr=(t,s)=>Vp(t,s),Rb="data-alloy-placement",X_=(t,s)=>{uo(t,Rb,s)},tv=t=>ui(t,Rb),sT=t=>x(t,Rb),b1=mu.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),Q_=(t,s)=>{const{x:i,y:u,right:m,bottom:b}=s,{x:T,y:I,right:L,bottom:z,width:Y,height:ne}=t,ie=T>=i&&T<=m,de=I>=u&&I<=b,Se=ie&&de,Le=L<=m&&L>=i,ct=z<=b&&z>=u,je=Le&&ct,it=Math.min(Y,T>=i?m-T:L-i),ht=Math.min(ne,I>=u?b-I:z-u);return{originInBounds:Se,sizeInBounds:je,visibleW:it,visibleH:ht}},J_=(t,s)=>{const{x:i,y:u,right:m,bottom:b}=s,{x:T,y:I,width:L,height:z}=t,Y=Math.max(i,m-L),ne=Math.max(u,b-z),ie=al(T,i,Y),de=al(I,u,ne),Se=Math.min(ie+L,m)-ie,Le=Math.min(de+z,b)-de;return js(ie,de,Se,Le)},q0=(t,s,i)=>{const u=we(s.bottom-i.y),m=we(i.bottom-s.y),b=z_(t,m,m,u),T=we(s.right-i.x),I=we(i.right-s.x);return{maxWidth:yb(t,I,I,T),maxHeight:b}},Z0=(t,s,i,u)=>{const m=t.bubble,b=m.offset,T=Eb(u,t.restriction,b),I=t.x+b.left,L=t.y+b.top,z=js(I,L,s,i),{originInBounds:Y,sizeInBounds:ne,visibleW:ie,visibleH:de}=Q_(z,T),Se=Y&&ne,Le=Se?z:J_(z,T),ct=Le.width>0&&Le.height>0,{maxWidth:je,maxHeight:it}=q0(t.direction,Le,u),ht={rect:Le,maxHeight:it,maxWidth:je,direction:t.direction,placement:t.placement,classes:{on:m.classesOn,off:m.classesOff},layout:t.label,testY:L};return Se||t.alwaysFit?b1.fit(ht):b1.nofit(ht,ie,de,ct)},eE=(t,s,i,u,m,b)=>{const T=u.width,I=u.height,L=(Y,ne,ie,de,Se)=>{const Le=Y(i,u,m,t,b),ct=Z0(Le,T,I,b);return ct.fold(we(ct),(je,it,ht,vt)=>(Se===vt?ht>de||it>ie:!Se&&vt)?ct:b1.nofit(ne,ie,de,Se))};return as(s,(Y,ne)=>{const ie=It(L,ne);return Y.fold(we(Y),ie)},b1.nofit({rect:i,maxHeight:u.height,maxWidth:u.width,direction:Fp(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:i.y},-1,-1,!1)).fold(Ue,Ue)},dh=t=>{const s=Wn(F.none()),i=()=>s.get().each(t);return{clear:()=>{i(),s.set(F.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:I=>{i(),s.set(F.some(I))}}},Ib=()=>dh(t=>t.destroy()),Td=()=>dh(t=>t.unbind()),ir=()=>{const t=dh(ee);return{...t,on:i=>t.get().each(i)}},nv=Mt,ll=(t,s,i)=>Si(t,s,nv,i),y1=(t,s,i)=>Qs(t,s,nv,i),tE=Yn,Db=["top","bottom","right","left"],_1="data-alloy-transition-timer",Y0=(t,s)=>Pm(t,s.classes),nE=(t,s,i)=>i.exists(u=>{const m=t.mode;return m==="all"?!0:u[m]!==s[m]}),Vc=(t,s)=>{const i=u=>parseFloat(u).toFixed(3);return uc(s,(u,m)=>{const b=t[m].map(i),T=u.map(i);return!pm(b,T)}).isSome()},Uu=t=>{const s=b=>{const I=Ce(t,b).split(/\s*,\s*/);return po(I,Zc)},i=b=>{if(M(b)&&/^[\d.]+/.test(b)){const T=parseFloat(b);return Rc(b,"ms")?T:T*1e3}else return 0},u=s("transition-delay"),m=s("transition-duration");return as(m,(b,T,I)=>{const L=i(u[I])+i(T);return Math.max(b,L)},0)},rT=(t,s)=>{const i=Td(),u=Td();let m;const b=z=>{var Y;const ne=(Y=z.raw.pseudoElement)!==null&&Y!==void 0?Y:"";return us(z.target,t)&&qr(ne)&&_o(Db,z.raw.propertyName)},T=z=>{if(pe(z)||b(z)){i.clear(),u.clear();const Y=z==null?void 0:z.raw.type;(pe(Y)||Y===pf())&&(clearTimeout(m),x(t,_1),Tl(t,s.classes))}},I=ll(t,Xv(),z=>{b(z)&&(I.unbind(),i.set(ll(t,pf(),T)),u.set(ll(t,xm(),T)))}),L=Uu(t);requestAnimationFrame(()=>{m=setTimeout(T,L+17),uo(t,_1,m)})},iT=(t,s)=>{yd(t,s.classes),ui(t,_1).each(i=>{clearTimeout(parseInt(i,10)),x(t,_1)}),rT(t,s)},aT=(t,s,i,u,m,b)=>{const T=nE(u,m,b);if(T||Y0(t,u)){oe(t,"position",i.position);const I=Ob(s,t),L=Y_(s,{...m,rect:I}),z=ri(Db,Y=>L[Y]);Vc(i,z)&&(Ee(t,z),T&&iT(t,u),Pt(t))}else Tl(t,u.classes)},zp=t=>({width:Jr(t),height:yr(t)}),K0=(t,s,i,u)=>{st(s,"max-height"),st(s,"max-width");const m=zp(s);return eE(s,u.preference,t,m,i,u.bounds)},X0=(t,s)=>{const i=s.classes;Tl(t,i.off),yd(t,i.on)},Up=(t,s,i)=>{const u=i.maxHeightFunction;u(t,s.maxHeight)},oE=(t,s,i)=>{const u=i.maxWidthFunction;u(t,s.maxWidth)},cT=(t,s,i)=>{const u=Y_(i.origin,s);i.transition.each(m=>{aT(t,i.origin,u,m,s,i.lastPlacement)}),xb(t,u)},lT=(t,s)=>{X_(t,s.placement)},Q0=(t,s)=>{_r(t,Math.floor(s))},J0=we((t,s)=>{Q0(t,s),he(t,{"overflow-x":"hidden","overflow-y":"auto"})}),Vm=we((t,s)=>{Q0(t,s)}),sE=(t,s,i)=>t[s]===void 0?i:t[s],uT=(t,s,i,u,m,b,T,I)=>{const L=sE(T,"maxHeightFunction",J0()),z=sE(T,"maxWidthFunction",ee),Y=t.anchorBox,ne=t.origin,ie={bounds:Yh(ne,b),origin:ne,preference:u,maxHeightFunction:L,maxWidthFunction:z,lastPlacement:m,transition:I};return dT(Y,s,i,ie)},dT=(t,s,i,u)=>{const m=K0(t,s,i,u);return cT(s,m,u),lT(s,m),X0(s,m),Up(s,m,u),oE(s,m,u),{layout:m.layout,placement:m.placement}},fT=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Af=(t,s,i,u=1)=>{const m=t*u,b=s*u,T=L=>dn(i,L).getOr([]),I=(L,z,Y)=>{const ne=Dn(fT,Y);return{offset:Zn(L,z),classesOn:Ge(Y,T),classesOff:Ge(ne,T)}};return{southeast:()=>I(-t,s,["top","alignLeft"]),southwest:()=>I(t,s,["top","alignRight"]),south:()=>I(-t/2,s,["top","alignCentre"]),northeast:()=>I(-t,-s,["bottom","alignLeft"]),northwest:()=>I(t,-s,["bottom","alignRight"]),north:()=>I(-t/2,-s,["bottom","alignCentre"]),east:()=>I(t,-s/2,["valignCentre","left"]),west:()=>I(-t,-s/2,["valignCentre","right"]),insetNortheast:()=>I(m,b,["top","alignLeft","inset"]),insetNorthwest:()=>I(-m,b,["top","alignRight","inset"]),insetNorth:()=>I(-m/2,b,["top","alignCentre","inset"]),insetSoutheast:()=>I(m,-b,["bottom","alignLeft","inset"]),insetSouthwest:()=>I(-m,-b,["bottom","alignRight","inset"]),insetSouth:()=>I(-m/2,-b,["bottom","alignCentre","inset"]),insetEast:()=>I(-m,-b/2,["valignCentre","right","inset"]),insetWest:()=>I(m,-b/2,["valignCentre","left","inset"])}},Mb=()=>Af(0,0,{}),Wp=Ue,Nb=(t,s)=>i=>rE(i)==="rtl"?s:t,rE=t=>Ce(t,"direction")==="rtl"?"rtl":"ltr";var fh;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(fh||(fh={}));const E1="data-alloy-vertical-dir",ey=t=>B_(t,s=>$s(s)&&Fi(s,"data-alloy-vertical-dir")===fh.BottomToTop),Of=()=>oc("layouts",[Rt("onLtr"),Rt("onRtl"),qo("onBottomLtr"),qo("onBottomRtl")]),zm=(t,s,i,u,m,b,T)=>{const I=T.map(ey).getOr(!1),L=s.layouts.map(de=>de.onLtr(t)),z=s.layouts.map(de=>de.onRtl(t)),Y=I?s.layouts.bind(de=>de.onBottomLtr.map(Se=>Se(t))).or(L).getOr(m):L.getOr(i),ne=I?s.layouts.bind(de=>de.onBottomRtl.map(Se=>Se(t))).or(z).getOr(b):z.getOr(u);return Nb(Y,ne)(t)},ty=(t,s,i)=>{const u=s.hotspot,m=Ob(i,u.element),b=zm(t.element,s,h1(),Sf(),Sl(),ua(),F.some(s.hotspot.element));return F.some(Wp({anchorBox:m,bubble:s.bubble.getOr(Mb()),overrides:s.overrides,layouts:b}))};var iE=[Rt("hotspot"),qo("bubble"),tt("overrides",{}),Of(),mr("placement",ty)];const hT=(t,s,i)=>{const u=As(i,s.x,s.y),m=js(u.left,u.top,s.width,s.height),b=zm(t.element,s,ys(),wb(),ys(),wb(),F.none());return F.some(Wp({anchorBox:m,bubble:s.bubble,overrides:s.overrides,layouts:b}))};var mT=[Rt("x"),Rt("y"),tt("height",0),tt("width",0),tt("bubble",Mb()),tt("overrides",{}),Of(),mr("placement",hT)];const ny=mu.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),pT=t=>t.fold(Ue,(s,i,u)=>s.translate(-i,-u)),gT=t=>t.fold(Ue,Ue),aE=t=>as(t,(s,i)=>s.translate(i.left,i.top),Zn(0,0)),cE=t=>{const s=nt(t,pT);return aE(s)},kb=t=>{const s=nt(t,gT);return aE(s)},vT=ny.screen,bT=ny.absolute,yT=(t,s,i)=>{const u=Nd(i.root).dom,m=b=>{const T=Qi(b),I=Qi(t.element);return us(T,I)};return F.from(u.frameElement).map(et.fromDom).filter(m).map(Po)},lE=(t,s,i)=>{const u=Qi(t.element),m=Xt(u),b=yT(t,s,i).getOr(m);return bT(b,m.left,m.top)},oy=(t,s,i,u)=>{const m=vT(Zn(t,s));return F.some(ur(m,i,u))},uE=(t,s,i,u,m)=>t.map(b=>{const T=[s,b.point],I=Hp(u,()=>kb(T),()=>kb(T),()=>cE(T)),L=ou(I.left,I.top,b.width,b.height),z=i.showAbove?Sl():h1(),Y=i.showAbove?ua():Sf(),ne=zm(m,i,z,Y,z,Y,F.none());return Wp({anchorBox:L,bubble:i.bubble.getOr(Mb()),overrides:i.overrides,layouts:ne})}),_T=(t,s,i)=>{const u=lE(t,i,s);return s.node.filter(hc).bind(m=>{const b=m.dom.getBoundingClientRect(),T=oy(b.left,b.top,b.width,b.height),I=s.node.getOr(t.element);return uE(T,u,s,i,I)})};var dE=[Rt("node"),Rt("root"),qo("bubble"),Of(),tt("overrides",{}),tt("showAbove",!1),mr("placement",_T)];const w1="\uFEFF",sy=" ",ov={create:(t,s,i,u)=>({start:t,soffset:s,finish:i,foffset:u})},Pb=mu.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),T1=(t,s,i,u)=>t.fold(s,i,u),iy=t=>t.fold(Ue,Ue,Ue),ay=Pb.before,fE=Pb.on,Gp=Pb.after,hE={before:ay,on:fE,after:Gp,cata:T1,getStart:iy},jp=mu.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),ET=t=>jp.exact(t.start,t.soffset,t.finish,t.foffset),cy=t=>t.match({domRange:s=>et.fromDom(s.startContainer),relative:(s,i)=>hE.getStart(s),exact:(s,i,u,m)=>s}),mE=jp.domRange,Wu=jp.relative,ly=jp.exact,Lb=t=>{const s=cy(t);return Nd(s)},C1=ov.create,Kh={domRange:mE,relative:Wu,exact:ly,exactFromRange:ET,getWin:Lb,range:C1},wT=(t,s)=>{s.fold(i=>{t.setStartBefore(i.dom)},(i,u)=>{t.setStart(i.dom,u)},i=>{t.setStartAfter(i.dom)})},S1=(t,s)=>{s.fold(i=>{t.setEndBefore(i.dom)},(i,u)=>{t.setEnd(i.dom,u)},i=>{t.setEndAfter(i.dom)})},pE=(t,s,i)=>{const u=t.document.createRange();return wT(u,s),S1(u,i),u},rc=(t,s,i,u,m)=>{const b=t.document.createRange();return b.setStart(s.dom,i),b.setEnd(u.dom,m),b},gE=t=>({left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}),qp=t=>{const s=t.getClientRects(),i=s.length>0?s[0]:t.getBoundingClientRect();return i.width>0||i.height>0?F.some(i).map(gE):F.none()},TT=t=>{const s=t.getBoundingClientRect();return s.width>0||s.height>0?F.some(s).map(gE):F.none()},x1=mu.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),uy=(t,s,i)=>s(et.fromDom(i.startContainer),i.startOffset,et.fromDom(i.endContainer),i.endOffset),sv=(t,s)=>s.match({domRange:i=>({ltr:we(i),rtl:F.none}),relative:(i,u)=>({ltr:Ci(()=>pE(t,i,u)),rtl:Ci(()=>F.some(pE(t,u,i)))}),exact:(i,u,m,b)=>({ltr:Ci(()=>rc(t,i,u,m,b)),rtl:Ci(()=>F.some(rc(t,m,b,i,u)))})}),Zp=(t,s)=>{const i=s.ltr();return i.collapsed?s.rtl().filter(m=>m.collapsed===!1).map(m=>x1.rtl(et.fromDom(m.endContainer),m.endOffset,et.fromDom(m.startContainer),m.startOffset)).getOrThunk(()=>uy(t,x1.ltr,i)):uy(t,x1.ltr,i)},A1=(t,s)=>{const i=sv(t,s);return Zp(t,i)},hh=(t,s)=>A1(t,s).match({ltr:(u,m,b,T)=>{const I=t.document.createRange();return I.setStart(u.dom,m),I.setEnd(b.dom,T),I},rtl:(u,m,b,T)=>{const I=t.document.createRange();return I.setStart(b.dom,T),I.setEnd(u.dom,m),I}});x1.ltr,x1.rtl;const dy=(t,s,i)=>po(sf(t,i),s),fa=(t,s)=>of(s,t),Gu=(t,s,i,u)=>{const b=Qi(t).dom.createRange();return b.setStart(t.dom,s),b.setEnd(i.dom,u),b},$b=(t,s,i,u)=>{const m=Gu(t,s,i,u),b=us(t,i)&&s===u;return m.collapsed&&!b},vE=t=>F.from(t.getSelection()),bE=t=>{if(t.rangeCount>0){const s=t.getRangeAt(0),i=t.getRangeAt(t.rangeCount-1);return F.some(ov.create(et.fromDom(s.startContainer),s.startOffset,et.fromDom(i.endContainer),i.endOffset))}else return F.none()},fy=t=>{if(t.anchorNode===null||t.focusNode===null)return bE(t);{const s=et.fromDom(t.anchorNode),i=et.fromDom(t.focusNode);return $b(s,t.anchorOffset,i,t.focusOffset)?F.some(ov.create(s,t.anchorOffset,i,t.focusOffset)):bE(t)}},Yp=t=>vE(t).filter(s=>s.rangeCount>0).bind(fy),O1=(t,s)=>{const i=hh(t,s);return qp(i)},Kp=(t,s)=>{const i=hh(t,s);return TT(i)},rv=((t,s)=>{const i=b=>{if(!t(b))throw new Error("Can only get "+s+" value of a "+s+" node");return u(b).getOr("")},u=b=>t(b)?F.from(b.dom.nodeValue):F.none();return{get:i,getOption:u,set:(b,T)=>{if(!t(b))throw new Error("Can only set raw "+s+" value of a "+s+" node");b.dom.nodeValue=T}}})($i,"text"),R1=t=>rv.get(t),Xp=(t,s)=>({element:t,offset:s}),hy=(t,s)=>{const i=ka(t);if(i.length===0)return Xp(t,s);if(s<i.length)return Xp(i[s],0);{const u=i[i.length-1],m=$i(u)?R1(u).length:ka(u).length;return Xp(u,m)}},iv=(t,s)=>$i(t)?Xp(t,s):hy(t,s),Ga=(t,s)=>s.getSelection.getOrThunk(()=>()=>Yp(t))().map(u=>{const m=iv(u.start,u.soffset),b=iv(u.finish,u.foffset);return Kh.range(m.element,m.offset,b.element,b.offset)}),my=(t,s,i)=>{const u=Nd(s.root).dom,m=lE(t,i,s),b=Ga(u,s).bind(L=>Kp(u,Kh.exactFromRange(L)).orThunk(()=>{const Y=et.fromText(w1);Jc(L.start,Y);const ne=O1(u,Kh.exact(Y,0,Y,1));return xt(Y),ne}).bind(Y=>oy(Y.left,Y.top,Y.width,Y.height))),I=Ga(u,s).bind(L=>$s(L.start)?F.some(L.start):ml(L.start)).getOr(t.element);return uE(b,m,s,i,I)};var Rf=[qo("getSelection"),Rt("root"),qo("bubble"),Of(),tt("overrides",{}),tt("showAbove",!1),mr("placement",my)];const mh="link-layout",Um=t=>t.x+t.width,Qp=(t,s)=>t.x-s.width,p=(t,s)=>t.y-s.height+t.height,_=t=>t.y,N=(t,s,i)=>xa(Um(t),_(t),i.southeast(),Fp(),"southeast",za(t,{left:0,top:2}),mh),K=(t,s,i)=>xa(Qp(t,s),_(t),i.southwest(),Fm(),"southwest",za(t,{right:1,top:2}),mh),ge=(t,s,i)=>xa(Um(t),p(t,s),i.northeast(),_b(),"northeast",za(t,{left:0,bottom:3}),mh),De=(t,s,i)=>xa(Qp(t,s),p(t,s),i.northwest(),l1(),"northwest",za(t,{right:1,bottom:3}),mh),Ve=()=>[N,K,ge,De],Ye=()=>[K,N,De,ge],gt=(t,s,i)=>{const u=Ob(i,s.item.element),m=zm(t.element,s,Ve(),Ye(),Ve(),Ye(),F.none());return F.some(Wp({anchorBox:u,bubble:Mb(),overrides:s.overrides,layouts:m}))};var sn=[Rt("item"),Of(),tt("overrides",{}),mr("placement",gt)],nn=di("type",{selection:Rf,node:dE,hotspot:iE,submenu:sn,makeshift:mT});const vn=[Ec("classes",Yr),wc("mode","all",["all","layout","placement"])],Hn=[tt("useFixed",Tt),qo("getBounds")],go=[hu("anchor",nn),oc("transition",vn)],Wo=()=>{const t=document.documentElement;return K_(0,0,t.clientWidth,t.clientHeight)},Bo=t=>{const s=Po(t.element),i=t.element.dom.getBoundingClientRect();return Dr(s.left,s.top,i.width,i.height)},Lo=(t,s,i,u,m,b)=>{const T=Wr(s.anchorBox,t);return uT(T,u.element,s.bubble,s.layouts,m,i,s.overrides,b)},Ys=(t,s,i,u,m)=>{const b=F.none();_s(t,s,i,u,m,b)},_s=(t,s,i,u,m,b)=>{const T=Oi("placement.info",$n(go),m),I=T.anchor,L=u.element,z=i.get(u.uid);Ul(()=>{oe(L,"position","fixed");const Y=ot(L,"visibility");oe(L,"visibility","hidden");const ne=s.useFixed()?Wo():Bo(t);I.placement(t,I,ne).each(ie=>{const de=b.orThunk(()=>s.getBounds.map(bn)),Se=Lo(ne,ie,de,u,z,T.transition);i.set(u.uid,Se)}),Y.fold(()=>{st(L,"visibility")},ie=>{oe(L,"visibility",ie)}),ot(L,"left").isNone()&&ot(L,"top").isNone()&&ot(L,"right").isNone()&&ot(L,"bottom").isNone()&&qc(ot(L,"position"),"fixed")&&st(L,"position")},L)};var vi=Object.freeze({__proto__:null,position:Ys,positionWithinBounds:_s,getMode:(t,s,i)=>s.useFixed()?"fixed":"absolute",reset:(t,s,i,u)=>{const m=u.element;Lt(["position","left","right","top","bottom"],b=>st(m,b)),sT(m),i.clear(u.uid)}}),ul=Object.freeze({__proto__:null,init:()=>{let t={};return Ca({readState:()=>t,clear:m=>{fe(m)?delete t[m]:t={}},set:(m,b)=>{t[m]=b},get:m=>dn(t,m)})}});const tr=Wa({fields:Hn,name:"positioning",active:ev,apis:vi,state:ul}),ph=t=>t.getSystem().isConnected(),py=t=>{ls(t,Pu());const s=t.components();Lt(s,py)},I1=t=>{const s=t.components();Lt(s,I1),ls(t,fd())},yE=(t,s)=>{t.getSystem().addToWorld(s),hc(t.element)&&I1(s)},_E=t=>{py(t),t.getSystem().removeFromWorld(t)},CT=(t,s)=>{Be(t.element,s.element)},EE=t=>{Lt(t.components(),s=>xt(s.element)),ft(t.element),t.syncComponents()},Ex=(t,s,i)=>{const u=t.components();EE(t);const m=i(s),b=Dn(u,m);Lt(b,T=>{py(T),t.getSystem().removeFromWorld(T)}),Lt(m,T=>{ph(T)?CT(t,T):(t.getSystem().addToWorld(T),CT(t,T),hc(t.element)&&I1(T))}),t.syncComponents()},lR=(t,s,i)=>{const u=t.components(),m=Ge(s,I=>Fl(I).toArray());Lt(u,I=>{_o(m,I)||_E(I)});const b=i(s),T=Dn(u,b);Lt(T,I=>{ph(I)&&_E(I)}),Lt(b,I=>{ph(I)||yE(t,I)}),t.syncComponents()},Wm=(t,s)=>{gy(t,s,Be)},gy=(t,s,i)=>{t.getSystem().addToWorld(s),i(t.element,s.element),hc(t.element)&&I1(s),t.syncComponents()},ST=t=>{py(t),xt(t.element),t.getSystem().removeFromWorld(t)},Gm=t=>{const s=Kc(t.element).bind(i=>t.getSystem().getByDom(i).toOptional());ST(t),s.each(i=>{i.syncComponents()})},xT=t=>{const s=t.components();Lt(s,ST),ft(t.element),t.syncComponents()},vy=(t,s)=>{AT(t,s,Be)},av=(t,s)=>{AT(t,s,Qa)},AT=(t,s,i)=>{i(t,s.element);const u=ka(s.element);Lt(u,m=>{s.getByDom(m).each(I1)})},wx=t=>{const s=ka(t.element);Lt(s,i=>{t.getByDom(i).each(py)}),xt(t.element)},OT=(t,s,i,u)=>{i.get().each(T=>{xT(t)});const m=s.getAttachPoint(t);Wm(m,t);const b=t.getSystem().build(u);return Wm(t,b),i.set(b),b},cv=(t,s,i,u)=>{const m=OT(t,s,i,u);return s.onOpen(t,m),m},uR=(t,s,i,u)=>i.get().map(()=>OT(t,s,i,u)),jm=(t,s,i,u,m)=>{Cx(t,s),cv(t,s,i,u),m(),TE(t,s)},jd=(t,s,i)=>{i.get().each(u=>{xT(t),Gm(t),s.onClose(t,u),i.clear()})},Tx=(t,s,i)=>i.isOpen(),wE=(t,s,i,u)=>Tx(t,s,i)&&i.get().exists(m=>s.isPartOf(t,m,u)),by=(t,s,i)=>i.get(),RT=(t,s,i,u)=>{ot(t.element,s).fold(()=>{x(t.element,i)},m=>{uo(t.element,i,m)}),oe(t.element,s,u)},dR=(t,s,i)=>{ui(t.element,i).fold(()=>st(t.element,s),u=>oe(t.element,s,u))},Cx=(t,s,i)=>{const u=s.getAttachPoint(t);oe(t.element,"position",tr.getMode(u)),RT(t,"visibility",s.cloakVisibilityAttr,"hidden")},IT=t=>Ho(["top","left","right","bottom"],s=>ot(t,s).isSome()),TE=(t,s,i)=>{IT(t.element)||st(t.element,"position"),dR(t,"visibility",s.cloakVisibilityAttr)};var fR=Object.freeze({__proto__:null,cloak:Cx,decloak:TE,open:cv,openWhileCloaked:jm,close:jd,isOpen:Tx,isPartOf:wE,getState:by,setContent:uR}),CE=Object.freeze({__proto__:null,events:(t,s)=>er([kt(Hh(),(i,u)=>{jd(i,t,s)})])}),Sx=[Qe("onOpen"),Qe("onClose"),Rt("isPartOf"),Rt("getAttachPoint"),tt("cloakVisibilityAttr","data-precloak-visibility")],Bb=Object.freeze({__proto__:null,init:()=>{const t=ir(),s=we("not-implemented");return Ca({readState:s,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})}});const Zo=Wa({fields:Sx,name:"sandboxing",active:CE,apis:fR,state:Bb}),Jp=we("dismiss.popups"),Fb=we("reposition.popups"),DT=we("mouse.released"),mR=Va([tt("isExtraPart",Tt),oc("fireEventInstead",[tt("event",Bl())])]),yy=t=>{const s=Oi("Dismissal",mR,t);return{[Jp()]:{schema:Va([Rt("target")]),onReceive:(i,u)=>{Zo.isOpen(i)&&(Zo.isPartOf(i,u.target)||s.isExtraPart(i,u.target)||s.fireEventInstead.fold(()=>Zo.close(i),b=>ls(i,b.event)))}}}},D1=Va([oc("fireEventInstead",[tt("event",Lu())]),bl("doReposition")]),M1=t=>{const s=Oi("Reposition",D1,t);return{[Fb()]:{onReceive:i=>{Zo.isOpen(i)&&s.fireEventInstead.fold(()=>s.doReposition(i),u=>ls(i,u.event))}}}},MT=(t,s,i)=>{s.store.manager.onLoad(t,s,i)},NT=(t,s,i)=>{s.store.manager.onUnload(t,s,i)};var SE=Object.freeze({__proto__:null,onLoad:MT,onUnload:NT,setValue:(t,s,i,u)=>{s.store.manager.setValue(t,s,i,u)},getValue:(t,s,i)=>s.store.manager.getValue(t,s,i),getState:(t,s,i)=>i}),LT=Object.freeze({__proto__:null,events:(t,s)=>{const i=t.resetOnDom?[wr((u,m)=>{MT(u,t,s)}),Cc((u,m)=>{NT(u,t,s)})]:[m1(t,s,MT)];return er(i)}});const xE=()=>{const t=Wn(null),s=()=>({mode:"memory",value:t.get()}),i=()=>t.get()===null,u=()=>{t.set(null)};return Ca({set:t.set,get:t.get,isNotSet:i,clear:u,readState:s})},Ey=()=>Ca({readState:ee}),eg=()=>{const t=Wn({}),s=Wn({});return Ca({readState:()=>({mode:"dataset",dataByValue:t.get(),dataByText:s.get()}),lookup:T=>dn(t.get(),T).orThunk(()=>dn(s.get(),T)),update:T=>{const I=t.get(),L=s.get(),z={},Y={};Lt(T,ne=>{z[ne.value]=ne,dn(ne,"meta").each(ie=>{dn(ie,"text").each(de=>{Y[de]=ne})})}),t.set({...I,...z}),s.set({...L,...Y})},clear:()=>{t.set({}),s.set({})}})};var qm=Object.freeze({__proto__:null,memory:xE,dataset:eg,manual:Ey,init:t=>t.store.manager.state(t)});const lv=(t,s,i,u)=>{const m=s.store;i.update([u]),m.setValue(t,u),s.onSetValue(t,u)},pR=(t,s,i)=>{const u=s.store,m=u.getDataKey(t);return i.lookup(m).getOrThunk(()=>u.getFallbackEntry(m))},Ox=(t,s,i)=>{s.store.initialValue.each(m=>{lv(t,s,i,m)})},$T=(t,s,i)=>{i.clear()};var Hb=[qo("initialValue"),Rt("getFallbackEntry"),Rt("getDataKey"),Rt("setValue"),mr("manager",{setValue:lv,getValue:pR,onLoad:Ox,onUnload:$T,state:eg})];const Vb=(t,s,i)=>s.store.getValue(t),gR=(t,s,i,u)=>{s.store.setValue(t,u),s.onSetValue(t,u)},vR=(t,s,i)=>{s.store.initialValue.each(u=>{s.store.setValue(t,u)})};var Rx=[Rt("getValue"),tt("setValue",ee),qo("initialValue"),mr("manager",{setValue:gR,getValue:Vb,onLoad:vR,onUnload:ee,state:gi.init})];const uv=(t,s,i,u)=>{i.set(u),s.onSetValue(t,u)},BT=(t,s,i)=>i.get(),FT=(t,s,i)=>{s.store.initialValue.each(u=>{i.isNotSet()&&i.set(u)})},AE=(t,s,i)=>{i.clear()};var N1=[qo("initialValue"),mr("manager",{setValue:uv,getValue:BT,onLoad:FT,onUnload:AE,state:xE})],OE=[tl("store",{mode:"memory"},di("mode",{memory:N1,manual:Rx,dataset:Hb})),Qe("onSetValue"),tt("resetOnDom",!1)];const pn=Wa({fields:OE,name:"representing",active:LT,apis:SE,extra:{setValueFrom:(t,s)=>{const i=pn.getValue(s);pn.setValue(t,i)}},state:qm}),Sc=(t,s)=>Pd(t,{},nt(s,i=>Yv(i.name(),"Cannot configure "+i.name()+" for "+t)).concat([Ts("dump",Ue)])),RE=t=>t.dump,Gr=(t,s)=>({...Bt(s),...t.dump}),gh={field:Sc,augment:Gr,get:RE},Ix="placeholder",ju=mu.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),ja=t=>jo(t,"uiType"),IE=(t,s,i,u)=>t.exists(m=>m!==i.owner)?ju.single(!0,we(i)):dn(u,i.name).fold(()=>{throw new Error("Unknown placeholder component: "+i.name+`
Known: [`+lr(u)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(i,null,2))},m=>m.replace()),DE=(t,s,i,u)=>ja(i)&&i.uiType===Ix?IE(t,s,i,u):ju.single(!1,we(i)),tg=(t,s,i,u)=>DE(t,s,i,u).fold((b,T)=>{const I=ja(i)?T(s,i.config,i.validated):T(s),L=dn(I,"components").getOr([]),z=Ge(L,Y=>tg(t,s,Y,u));return[{...I,components:z}]},(b,T)=>{if(ja(i)){const I=T(s,i.config,i.validated);return i.validated.preprocess.getOr(Ue)(I)}else return T(s)}),Dx=(t,s,i,u)=>Ge(i,m=>tg(t,s,m,u)),HT=(t,s)=>{let i=!1;const u=()=>i,m=()=>{if(i)throw new Error("Trying to use the same placeholder more than once: "+t);return i=!0,s},b=()=>s.fold((T,I)=>T,(T,I)=>T);return{name:we(t),required:b,used:u,replace:m}},Mx=(t,s,i,u)=>{const m=Ls(u,(T,I)=>HT(I,T)),b=Dx(t,s,i,m);return ii(m,T=>{if(T.used()===!1&&T.required())throw new Error("Placeholder: "+T.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(s.components,null,2))}),b},VT=ju.single,zT=ju.multiple,UT=we(Ix),wy=mu.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),ME=tt("factory",{sketch:Ue}),Ty=tt("schema",[]),Cy=Rt("name"),NE=fi("pname","pname",au(t=>"<alloy."+zt(t.name)+">"),uu()),Nx=Ts("schema",()=>[qo("preprocess")]),ng=tt("defaults",we({})),Zm=tt("overrides",we({})),k1=$n([ME,Ty,Cy,NE,ng,Zm]),zb=$n([ME,Ty,Cy,ng,Zm]),WT=$n([ME,Ty,Cy,NE,ng,Zm]),bR=$n([ME,Nx,Cy,Rt("unit"),NE,ng,Zm]),kx=t=>t.fold(F.some,F.none,F.some,F.some),kE=t=>{const s=i=>i.name;return t.fold(s,s,s,s)},Px=t=>t.fold(Ue,Ue,Ue,Ue),PE=(t,s)=>i=>{const u=Oi("Converting part type",s,i);return t(u)},ic=PE(wy.required,k1),vh=PE(wy.external,zb),If=PE(wy.optional,WT),Sy=PE(wy.group,bR),Cd=we("entirety");var Lx=Object.freeze({__proto__:null,required:ic,external:vh,optional:If,group:Sy,asNamedPart:kx,name:kE,asCommon:Px,original:Cd});const GT=(t,s,i,u)=>dr(s.defaults(t,i,u),i,{uid:t.partUids[s.name]},s.overrides(t,i,u)),jT=(t,s,i)=>{const u={},m={};return Lt(i,b=>{b.fold(T=>{u[T.pname]=VT(!0,(I,L,z)=>T.factory.sketch(GT(I,T,L,z)))},T=>{const I=s.parts[T.name];m[T.name]=we(T.factory.sketch(GT(s,T,I[Cd()]),I))},T=>{u[T.pname]=VT(!1,(I,L,z)=>T.factory.sketch(GT(I,T,L,z)))},T=>{u[T.pname]=zT(!0,(I,L,z)=>{const Y=I[T.name];return nt(Y,ne=>T.factory.sketch(dr(T.defaults(I,ne,z),ne,T.overrides(I,ne))))})})}),{internals:we(u),externals:we(m)}},qT=(t,s)=>{const i={};return Lt(s,u=>{kx(u).each(m=>{const b=yR(t,m.pname);i[m.name]=T=>{const I=Oi("Part: "+m.name+" in "+t,$n(m.schema),T);return{...b,config:T,validated:I}}})}),i},yR=(t,s)=>({uiType:UT(),owner:t,name:s}),ZT=(t,s,i)=>({uiType:UT(),owner:t,name:s,config:i,validated:{}}),_R=t=>Ge(t,s=>s.fold(F.none,F.some,F.none,F.none).map(i=>Pc(i.name,i.schema.concat([Ud(Cd())]))).toArray()),ER=t=>nt(t,kE),YT=(t,s,i)=>jT(t,s,i),KT=(t,s,i)=>Mx(F.some(t),s,s.components,i),Cr=(t,s,i)=>{const u=s.partUids[i];return t.getSystem().getByUid(u).toOptional()},Ym=(t,s,i)=>Cr(t,s,i).getOrDie("Could not find part: "+i),XT=(t,s,i)=>{const u={},m=s.partUids,b=t.getSystem();return Lt(i,T=>{u[T]=we(b.getByUid(m[T]))}),u},QT=(t,s)=>{const i=t.getSystem();return Ls(s.partUids,(u,m)=>we(i.getByUid(u)))},JT=t=>lr(t.partUids),eC=(t,s,i)=>{const u={},m=s.partUids,b=t.getSystem();return Lt(i,T=>{u[T]=we(b.getByUid(m[T]).getOrDie())}),u},tC=(t,s)=>{const i=ER(s);return Tc(nt(i,u=>({key:u,value:t+"-"+u})))},nC=t=>fi("partUids","partUids",Nh(s=>tC(s.uid,t)),uu());var oC=Object.freeze({__proto__:null,generate:qT,generateOne:ZT,schemas:_R,names:ER,substitutes:YT,components:KT,defaultUids:tC,defaultUidsSchema:nC,getAllParts:QT,getAllPartNames:JT,getPart:Cr,getPartOrDie:Ym,getParts:XT,getPartsOrDie:eC});const wR=(t,s)=>(t.length>0?[Pc("parts",t)]:[]).concat([Rt("uid"),tt("dom",{}),tt("components",[]),Ud("originalSpec"),tt("debug.sketcher",{})]).concat(s),$x=(t,s,i,u,m)=>{const b=wR(u,m);return Oi(t+" [SpecSchema]",Va(b.concat(s)),i)},TR=(t,s,i,u)=>{const m=dv(u),b=$x(t,s,m,[],[]);return i(b,m)},sC=(t,s,i,u,m)=>{const b=dv(m),T=_R(i),I=nC(i),L=$x(t,s,b,T,[I]),z=YT(t,L,i),Y=KT(t,L,z.internals());return u(L,Y,b,z.externals())},CR=t=>jo(t,"uid"),dv=t=>CR(t)?t:{...t,uid:Uo("uid")},On=t=>t.uid!==void 0,og=Va([Rt("name"),Rt("factory"),Rt("configFields"),tt("apis",{}),tt("extraApis",{})]),SR=Va([Rt("name"),Rt("factory"),Rt("configFields"),Rt("partFields"),tt("apis",{}),tt("extraApis",{})]),ha=t=>{const s=Oi("Sketcher for "+t.name,og,t),i=b=>TR(s.name,s.configFields,s.factory,b),u=Ls(s.apis,Fc),m=Ls(s.extraApis,(b,T)=>pi(b,T));return{name:s.name,configFields:s.configFields,sketch:i,...u,...m}},ji=t=>{const s=Oi("Sketcher for "+t.name,SR,t),i=T=>sC(s.name,s.configFields,s.partFields,s.factory,T),u=qT(s.name,s.partFields),m=Ls(s.apis,Fc),b=Ls(s.extraApis,(T,I)=>pi(T,I));return{name:s.name,partFields:s.partFields,configFields:s.configFields,sketch:i,parts:u,...m,...b}},fv=t=>hl("input")(t)&&Fi(t,"type")!=="radio"||hl("textarea")(t);var Bx=Object.freeze({__proto__:null,getCurrent:(t,s,i)=>s.find(t)});const xR=[Rt("find")],ss=Wa({fields:xR,name:"composing",apis:Bx}),Fx=["input","button","textarea","select"],$E=(t,s,i)=>{(s.disabled()?iC:aC)(t,s)},P1=(t,s)=>s.useNative===!0&&_o(Fx,Ic(t.element)),Hx=t=>ba(t.element,"disabled"),AR=t=>{uo(t.element,"disabled","disabled")},rC=t=>{x(t.element,"disabled")},OR=t=>Fi(t.element,"aria-disabled")==="true",mk=t=>{uo(t.element,"aria-disabled","true")},Vx=t=>{uo(t.element,"aria-disabled","false")},iC=(t,s,i)=>{s.disableClass.each(m=>{ks(t.element,m)}),(P1(t,s)?AR:mk)(t),s.onDisabled(t)},aC=(t,s,i)=>{s.disableClass.each(m=>{Zs(t.element,m)}),(P1(t,s)?rC:Vx)(t),s.onEnabled(t)},zx=(t,s)=>P1(t,s)?Hx(t):OR(t);var BE=Object.freeze({__proto__:null,enable:aC,disable:iC,isDisabled:zx,onLoad:$E,set:(t,s,i,u)=>{(u?iC:aC)(t,s)}}),IR=Object.freeze({__proto__:null,exhibit:(t,s)=>wl({classes:s.disabled()?s.disableClass.toArray():[]}),events:(t,s)=>er([Bu(Fs(),(i,u)=>zx(i,t)),m1(t,s,$E)])}),gk=[Vi("disabled",Tt),tt("useNative",!0),qo("disableClass"),Qe("onDisabled"),Qe("onEnabled")];const so=Wa({fields:gk,name:"disabling",active:IR,apis:BE}),sg=(t,s,i,u)=>{const m=fa(t.element,"."+s.highlightClass);Lt(m,b=>{Ho(u,I=>us(I.element,b))||(Zs(b,s.highlightClass),t.getSystem().getByDom(b).each(I=>{s.onDehighlight(t,I),ls(I,Rm())}))})},cC=(t,s,i)=>sg(t,s,i,[]),DR=(t,s,i,u)=>{lC(t,s,i,u)&&(Zs(u.element,s.highlightClass),s.onDehighlight(t,u),ls(u,Rm()))},xy=(t,s,i,u)=>{sg(t,s,i,[u]),lC(t,s,i,u)||(ks(u.element,s.highlightClass),s.onHighlight(t,u),ls(u,Wg()))},vk=(t,s,i)=>{uC(t,s).each(u=>{xy(t,s,i,u)})},FE=(t,s,i)=>{HE(t,s).each(u=>{xy(t,s,i,u)})},MR=(t,s,i,u)=>{Wb(t,s,i,u).fold(m=>{throw m},m=>{xy(t,s,i,m)})},NR=(t,s,i,u)=>{const m=VE(t,s);Fn(m,u).each(T=>{xy(t,s,i,T)})},lC=(t,s,i,u)=>Sa(u.element,s.highlightClass),Ub=(t,s,i)=>Ur(t.element,"."+s.highlightClass).bind(u=>t.getSystem().getByDom(u).toOptional()),Wb=(t,s,i,u)=>{const m=fa(t.element,"."+s.itemClass);return F.from(m[u]).fold(()=>io.error(new Error("No element found with index "+u)),t.getSystem().getByDom)},uC=(t,s,i)=>Ur(t.element,"."+s.itemClass).bind(u=>t.getSystem().getByDom(u).toOptional()),HE=(t,s,i)=>{const u=fa(t.element,"."+s.itemClass);return(u.length>0?F.some(u[u.length-1]):F.none()).bind(b=>t.getSystem().getByDom(b).toOptional())},dC=(t,s,i,u)=>{const m=fa(t.element,"."+s.itemClass);return ko(m,T=>Sa(T,s.highlightClass)).bind(T=>{const I=qh(T,u,0,m.length-1);return t.getSystem().getByDom(m[I]).toOptional()})},fC=(t,s,i)=>dC(t,s,i,-1),kR=(t,s,i)=>dC(t,s,i,1),VE=(t,s,i)=>{const u=fa(t.element,"."+s.itemClass);return Qu(nt(u,m=>t.getSystem().getByDom(m).toOptional()))};var hC=Object.freeze({__proto__:null,dehighlightAll:cC,dehighlight:DR,highlight:xy,highlightFirst:vk,highlightLast:FE,highlightAt:MR,highlightBy:NR,isHighlighted:lC,getHighlighted:Ub,getFirst:uC,getLast:HE,getPrevious:fC,getNext:kR,getCandidates:VE}),mC=[Rt("highlightClass"),Rt("itemClass"),Qe("onHighlight"),Qe("onDehighlight")];const Cs=Wa({fields:mC,name:"highlighting",apis:hC}),Ux=[8],Km=[9],Xh=[13],Ay=[27],Sd=[32],zE=[37],L1=[38],Oy=[39],rg=[40],pC=(t,s,i)=>{const u=va(t.slice(0,s)),m=va(t.slice(s+1));return Fn(u.concat(m),i)},UE=(t,s,i)=>{const u=va(t.slice(0,s));return Fn(u,i)},Gb=(t,s,i)=>{const u=t.slice(0,s),m=t.slice(s+1);return Fn(m.concat(u),i)},s6=(t,s,i)=>{const u=t.slice(s+1);return Fn(u,i)},ms=t=>s=>{const i=s.raw;return _o(t,i.which)},bh=t=>s=>Gc(t,i=>i(s)),$1=t=>t.raw.shiftKey===!0,Wx=t=>t.raw.ctrlKey===!0,Ry=He($1),vs=(t,s)=>({matches:t,classification:s}),Gx=(t,s)=>Fn(t,u=>u.matches(s)).map(u=>u.classification),jx=(t,s,i)=>{s.exists(m=>i.exists(b=>us(b,m)))||Nn(t,Om(),{prevFocus:s,newFocus:i})},gC=()=>{const t=i=>zu(i.element);return{get:t,set:(i,u)=>{const m=t(i);i.getSystem().triggerFocus(u,i.element);const b=t(i);jx(i,m,b)}}},vC=()=>{const t=i=>Cs.getHighlighted(i).map(u=>u.element);return{get:t,set:(i,u)=>{const m=t(i);i.getSystem().getByDom(u).fold(ee,T=>{Cs.highlight(i,T)});const b=t(i);jx(i,m,b)}}};var jb;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(jb||(jb={}));const B1=(t,s,i,u,m)=>{const b=()=>t.concat([tt("focusManager",gC()),tl("focusInside","onFocus",th(z=>_o(["onFocus","onEnterOrSpace","onApi"],z)?io.value(z):io.error("Invalid value for focusInside"))),mr("handler",L),mr("state",s),mr("sendFocusIn",m)]),T=(z,Y,ne,ie,de)=>{const Se=ne(z,Y,ie,de);return Gx(Se,Y.event).bind(Le=>Le(z,Y,ie,de))},L={schema:b,processKey:T,toEvents:(z,Y)=>{const ne=z.focusInside!==jb.OnFocusMode?F.none():m(z).map(Se=>kt($c(),(Le,ct)=>{Se(Le,z,Y),ct.stop()})),ie=(Se,Le)=>{const ct=ms(Sd.concat(Xh))(Le.event);z.focusInside===jb.OnEnterOrSpaceMode&&ct&&$h(Se,Le)&&m(z).each(je=>{je(Se,z,Y),Le.stop()})},de=[kt(zi(),(Se,Le)=>{T(Se,Le,i,z,Y).fold(()=>{ie(Se,Le)},ct=>{Le.stop()})}),kt(Fg(),(Se,Le)=>{T(Se,Le,u,z,Y).each(ct=>{Le.stop()})})];return er(ne.toArray().concat(de))}};return L},qx=t=>{const s=[qo("onEscape"),qo("onEnter"),tt("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),tt("firstTabstop",0),tt("useTabstopAt",Mt),qo("visibilitySelector")].concat([t]),i=(Le,ct)=>{const je=Le.visibilitySelector.bind(it=>lh(ct,it)).getOr(ct);return xn(je)>0},u=(Le,ct)=>{const je=fa(Le.element,ct.selector),it=po(je,ht=>i(ct,ht));return F.from(it[ct.firstTabstop])},m=(Le,ct)=>ct.focusManager.get(Le).bind(je=>lh(je,ct.selector)),b=(Le,ct)=>i(Le,ct)&&Le.useTabstopAt(ct),T=(Le,ct,je)=>{u(Le,ct).each(it=>{ct.focusManager.set(Le,it)})},I=(Le,ct,je,it,ht)=>ht(ct,je,vt=>b(it,vt)).fold(()=>it.cyclic?F.some(!0):F.none(),vt=>(it.focusManager.set(Le,vt),F.some(!0))),L=(Le,ct,je,it)=>{const ht=fa(Le.element,je.selector);return m(Le,je).bind(vt=>ko(ht,It(us,vt)).bind(Ft=>I(Le,ht,Ft,je,it)))},z=(Le,ct,je)=>{const it=je.cyclic?pC:UE;return L(Le,ct,je,it)},Y=(Le,ct,je)=>{const it=je.cyclic?Gb:s6;return L(Le,ct,je,it)},ne=(Le,ct,je)=>je.onEnter.bind(it=>it(Le,ct)),ie=(Le,ct,je)=>je.onEscape.bind(it=>it(Le,ct)),de=we([vs(bh([$1,ms(Km)]),z),vs(ms(Km),Y),vs(bh([Ry,ms(Xh)]),ne)]),Se=we([vs(ms(Ay),ie)]);return B1(s,gi.init,de,Se,()=>F.some(T))};var d=qx(Ts("cyclic",Tt)),g=qx(Ts("cyclic",Mt));const E=(t,s,i)=>($u(t,i,Fs()),F.some(!0)),O=(t,s,i)=>fv(i)&&ms(Sd)(s.event)?F.none():E(t,s,i),B=(t,s)=>F.some(!0),W=[tt("execute",O),tt("useSpace",!1),tt("useEnter",!0),tt("useControlEnter",!1),tt("useDown",!1)],se=(t,s,i)=>i.execute(t,s,t.element),be=(t,s,i,u)=>{const m=i.useSpace&&!fv(t.element)?Sd:[],b=i.useEnter?Xh:[],T=i.useDown?rg:[],I=m.concat(b).concat(T);return[vs(ms(I),se)].concat(i.useControlEnter?[vs(bh([Wx,ms(Xh)]),se)]:[])},xe=(t,s,i,u)=>i.useSpace&&!fv(t.element)?[vs(ms(Sd),B)]:[];var Pe=B1(W,gi.init,be,xe,()=>F.none());const Je=()=>{const t=ir();return Ca({readState:()=>t.get().map(m=>({numRows:String(m.numRows),numColumns:String(m.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(m,b)=>{t.set({numRows:m,numColumns:b})},getNumRows:()=>t.get().map(m=>m.numRows),getNumColumns:()=>t.get().map(m=>m.numColumns)})};var fn=Object.freeze({__proto__:null,flatgrid:Je,init:t=>t.state(t)});const rn=t=>(s,i,u,m)=>{const b=t(s.element);return Sn(b,s,i,u,m)},At=(t,s)=>{const i=Nb(t,s);return rn(i)},un=(t,s)=>{const i=Nb(s,t);return rn(i)},Ct=t=>(s,i,u,m)=>Sn(t,s,i,u,m),Sn=(t,s,i,u,m)=>u.focusManager.get(s).bind(T=>t(s.element,T,u,m)).map(T=>(u.focusManager.set(s,T),!0)),oo=Ct,xo=Ct,Sr=Ct,zc=t=>t.offsetWidth<=0&&t.offsetHeight<=0,Mi=t=>!zc(t.dom),xd=(t,s)=>ko(t,s).map(i=>({index:i,candidates:t})),hv=(t,s,i)=>{const u=T=>us(T,s),m=fa(t,i),b=po(m,Mi);return xd(b,u)},Iy=(t,s)=>ko(t,i=>us(s,i)),bC=(t,s,i,u)=>{const m=Math.floor(s/i),b=s%i;return u(m,b).bind(T=>{const I=T.row*i+T.column;return I>=0&&I<t.length?F.some(t[I]):F.none()})},WE=(t,s,i,u,m)=>bC(t,s,u,(b,T)=>{const L=b===i-1?t.length-b*u:u,z=qh(T,m,0,L-1);return F.some({row:b,column:z})}),ar=(t,s,i,u,m)=>bC(t,s,u,(b,T)=>{const I=qh(b,m,0,i-1),z=I===i-1?t.length-I*u:u,Y=al(T,0,z-1);return F.some({row:I,column:Y})}),yu=(t,s,i,u)=>WE(t,s,i,u,1),_u=(t,s,i,u)=>WE(t,s,i,u,-1),yh=(t,s,i,u)=>ar(t,s,i,u,-1),Ad=(t,s,i,u)=>ar(t,s,i,u,1),mv=[Rt("selector"),tt("execute",O),Br("onEscape"),tt("captureTab",!1),c1()],Eu=(t,s,i)=>{Ur(t.element,s.selector).each(u=>{s.focusManager.set(t,u)})},Zx=(t,s)=>s.focusManager.get(t).bind(i=>lh(i,s.selector)),qb=(t,s,i,u)=>Zx(t,i).bind(m=>i.execute(t,s,m)),Df=t=>(s,i,u,m)=>hv(s,i,u.selector).bind(b=>t(b.candidates,b.index,m.getNumRows().getOr(u.initSize.numRows),m.getNumColumns().getOr(u.initSize.numColumns))),dl=(t,s,i)=>i.captureTab?F.some(!0):F.none(),Mf=(t,s,i)=>i.onEscape(t,s),Yx=Df(_u),Kx=Df(yu),PR=Df(yh),LR=Df(Ad),yC=we([vs(ms(zE),At(Yx,Kx)),vs(ms(Oy),un(Yx,Kx)),vs(ms(L1),oo(PR)),vs(ms(rg),xo(LR)),vs(bh([$1,ms(Km)]),dl),vs(bh([Ry,ms(Km)]),dl),vs(ms(Sd.concat(Xh)),qb)]),Zb=we([vs(ms(Ay),Mf),vs(ms(Sd),B)]);var F1=B1(mv,Je,yC,Zb,()=>F.some(Eu));const bk=(t,s,i,u,m)=>{const b=I=>Ic(I)==="button"&&Fi(I,"disabled")==="disabled",T=(I,L,z)=>m(I,L,u,0,z.length-1,z[L],Y=>b(z[Y])?T(I,Y,z):F.from(z[Y]));return hv(t,i,s).bind(I=>{const L=I.index,z=I.candidates;return T(L,L,z)})},Xx=(t,s,i,u)=>bk(t,s,i,u,(m,b,T,I,L,z,Y)=>{const ne=al(b+T,I,L);return ne===m?F.from(z):Y(ne)}),Dy=(t,s,i,u)=>bk(t,s,i,u,(m,b,T,I,L,z,Y)=>{const ne=qh(b,T,I,L);return ne===m?F.none():Y(ne)}),$R=[Rt("selector"),tt("getInitial",F.none),tt("execute",O),Br("onEscape"),tt("executeOnMove",!1),tt("allowVertical",!0),tt("allowHorizontal",!0),tt("cycles",!0)],r6=(t,s)=>s.focusManager.get(t).bind(i=>lh(i,s.selector)),BR=(t,s,i)=>r6(t,i).bind(u=>i.execute(t,s,u)),i6=(t,s,i)=>{s.getInitial(t).orThunk(()=>Ur(t.element,s.selector)).each(u=>{s.focusManager.set(t,u)})},yk=(t,s,i)=>(i.cycles?Dy:Xx)(t,i.selector,s,-1),_k=(t,s,i)=>(i.cycles?Dy:Xx)(t,i.selector,s,1),Ek=t=>(s,i,u,m)=>t(s,i,u,m).bind(()=>u.executeOnMove?BR(s,i,u):F.some(!0)),wk=(t,s,i)=>i.onEscape(t,s),FR=(t,s,i,u)=>{const m=[...i.allowHorizontal?zE:[]].concat(i.allowVertical?L1:[]),b=[...i.allowHorizontal?Oy:[]].concat(i.allowVertical?rg:[]);return[vs(ms(m),Ek(At(yk,_k))),vs(ms(b),Ek(un(yk,_k))),vs(ms(Xh),BR),vs(ms(Sd),BR)]},a6=we([vs(ms(Sd),B),vs(ms(Ay),wk)]);var c6=B1($R,gi.init,FR,a6,()=>F.some(i6));const Qx=(t,s,i)=>F.from(t[s]).bind(u=>F.from(u[i]).map(m=>({rowIndex:s,columnIndex:i,cell:m}))),Tk=(t,s,i,u)=>{const b=t[s].length,T=qh(i,u,0,b-1);return Qx(t,s,T)},Yb=(t,s,i,u)=>{const m=qh(i,u,0,t.length-1),b=t[m].length,T=al(s,0,b-1);return Qx(t,m,T)},Ck=(t,s,i,u)=>{const b=t[s].length,T=al(i+u,0,b-1);return Qx(t,s,T)},Sk=(t,s,i,u)=>{const m=al(i+u,0,t.length-1),b=t[m].length,T=al(s,0,b-1);return Qx(t,m,T)},HR=(t,s,i)=>Tk(t,s,i,1),l6=(t,s,i)=>Tk(t,s,i,-1),xk=(t,s,i)=>Yb(t,i,s,-1),Ak=(t,s,i)=>Yb(t,i,s,1),Ok=(t,s,i)=>Ck(t,s,i,-1),Rk=(t,s,i)=>Ck(t,s,i,1),u6=(t,s,i)=>Sk(t,i,s,-1),d6=(t,s,i)=>Sk(t,i,s,1),f6=[Pc("selectors",[Rt("row"),Rt("cell")]),tt("cycles",!0),tt("previousSelector",F.none),tt("execute",O)],VR=(t,s,i)=>{s.previousSelector(t).orThunk(()=>{const m=s.selectors;return Ur(t.element,m.cell)}).each(m=>{s.focusManager.set(t,m)})},h6=(t,s,i)=>zu(t.element).bind(u=>i.execute(t,s,u)),m6=(t,s)=>nt(t,i=>fa(i,s.selectors.cell)),Jx=(t,s)=>(i,u,m)=>{const b=m.cycles?t:s;return lh(u,m.selectors.row).bind(T=>{const I=fa(T,m.selectors.cell);return Iy(I,u).bind(L=>{const z=fa(i,m.selectors.row);return Iy(z,T).bind(Y=>{const ne=m6(z,m);return b(ne,Y,L).map(ie=>ie.cell)})})})},Ik=Jx(l6,Ok),zR=Jx(HR,Rk),p6=Jx(xk,u6),g6=Jx(Ak,d6),v6=we([vs(ms(zE),At(Ik,zR)),vs(ms(Oy),un(Ik,zR)),vs(ms(L1),oo(p6)),vs(ms(rg),xo(g6)),vs(ms(Sd.concat(Xh)),h6)]),Dk=we([vs(ms(Sd),B)]);var b6=B1(f6,gi.init,v6,Dk,()=>F.some(VR));const y6=[Rt("selector"),tt("execute",O),tt("moveOnTab",!1)],UR=(t,s,i)=>i.focusManager.get(t).bind(u=>i.execute(t,s,u)),_6=(t,s,i)=>{Ur(t.element,s.selector).each(u=>{s.focusManager.set(t,u)})},Mk=(t,s,i)=>Dy(t,i.selector,s,-1),_C=(t,s,i)=>Dy(t,i.selector,s,1),E6=(t,s,i,u)=>i.moveOnTab?Sr(Mk)(t,s,i,u):F.none(),Nk=(t,s,i,u)=>i.moveOnTab?Sr(_C)(t,s,i,u):F.none(),qd=we([vs(ms(L1),Sr(Mk)),vs(ms(rg),Sr(_C)),vs(bh([$1,ms(Km)]),E6),vs(bh([Ry,ms(Km)]),Nk),vs(ms(Xh),UR),vs(ms(Sd),UR)]),w6=we([vs(ms(Sd),B)]);var kk=B1(y6,gi.init,qd,w6,()=>F.some(_6));const T6=[Br("onSpace"),Br("onEnter"),Br("onShiftEnter"),Br("onLeft"),Br("onRight"),Br("onTab"),Br("onShiftTab"),Br("onUp"),Br("onDown"),Br("onEscape"),tt("stopSpaceKeyup",!1),qo("focusIn")],C6=(t,s,i)=>[vs(ms(Sd),i.onSpace),vs(bh([Ry,ms(Xh)]),i.onEnter),vs(bh([$1,ms(Xh)]),i.onShiftEnter),vs(bh([$1,ms(Km)]),i.onShiftTab),vs(bh([Ry,ms(Km)]),i.onTab),vs(ms(L1),i.onUp),vs(ms(rg),i.onDown),vs(ms(zE),i.onLeft),vs(ms(Oy),i.onRight),vs(ms(Sd),i.onSpace)],Pk=(t,s,i)=>[...i.stopSpaceKeyup?[vs(ms(Sd),B)]:[],vs(ms(Ay),i.onEscape)];var S6=B1(T6,gi.init,C6,Pk,t=>t.focusIn);const Lk=d.schema(),$k=g.schema(),x6=c6.schema(),A6=F1.schema(),O6=b6.schema(),R6=Pe.schema(),Bk=kk.schema(),Fk=S6.schema();var Kb=Object.freeze({__proto__:null,acyclic:Lk,cyclic:$k,flow:x6,flatgrid:A6,matrix:O6,execution:R6,menu:Bk,special:Fk});const Hk=t=>Da(t,"setGridSize"),Vn=q_({branchKey:"mode",branches:Kb,name:"keying",active:{events:(t,s)=>t.handler.toEvents(t,s)},apis:{focusIn:(t,s,i)=>{s.sendFocusIn(s).fold(()=>{t.getSystem().triggerFocus(t.element,t.element)},u=>{u(t,s,i)})},setGridSize:(t,s,i,u,m)=>{Hk(i)?i.setGridSize(u,m):console.error("Layout does not support setGridSize")}},state:fn}),eA=(t,s)=>{Ul(()=>{Ex(t,s,()=>nt(s,t.getSystem().build))},t.element)},Vk=(t,s)=>{Ul(()=>{lR(t,s,()=>D_(t.element,s,t.getSystem().buildOrPatch))},t.element)},I6=(t,s,i,u)=>{_E(s);const m=I_(t.element,i,u,t.getSystem().buildOrPatch);yE(t,m),t.syncComponents()},WR=(t,s,i)=>{const u=t.getSystem().build(i);gy(t,u,s)},D6=(t,s,i,u)=>{Gm(s),WR(t,(m,b)=>qe(m,b,i),u)},zk=(t,s,i,u)=>(s.reuseDom?Vk:eA)(t,u),GR=(t,s,i,u)=>{WR(t,Be,u)},jR=(t,s,i,u)=>{WR(t,Oe,u)},M6=(t,s,i,u)=>{const m=ig(t);Fn(m,T=>us(u.element,T.element)).each(Gm)},ig=(t,s)=>t.components(),qR=(t,s,i,u,m)=>{const b=ig(t);return F.from(b[u]).map(T=>(m.fold(()=>Gm(T),I=>{(s.reuseDom?I6:D6)(t,T,u,I)}),T))};var k6=Object.freeze({__proto__:null,append:GR,prepend:jR,remove:M6,replaceAt:qR,replaceBy:(t,s,i,u,m)=>{const b=ig(t);return ko(b,u).bind(T=>qR(t,s,i,T,m))},set:zk,contents:ig});const mo=Wa({fields:[wa("reuseDom",!0)],name:"replacing",apis:k6}),EC=(t,s)=>{const i=er(s);return Wa({fields:[Rt("enabled")],name:t,active:{events:we(i)}})},vo=(t,s)=>{const i=EC(t,s);return{key:t,value:{config:{},me:i,configAsRaw:we({}),initialConfig:{},state:gi}}},ZR=(t,s)=>{s.ignore||(zl(t.element),s.onFocus(t))};var Xb=Object.freeze({__proto__:null,focus:ZR,blur:(t,s)=>{s.ignore||g1(t.element)},isFocused:t=>v1(t.element)}),Uk=Object.freeze({__proto__:null,exhibit:(t,s)=>{const i=s.ignore?{}:{attributes:{tabindex:"-1"}};return wl(i)},events:t=>er([kt($c(),(s,i)=>{ZR(s,t),i.stop()})].concat(t.stopMousedown?[kt(ni(),(s,i)=>{i.event.prevent()})]:[]))}),H1=[Qe("onFocus"),tt("stopMousedown",!1),tt("ignore",!1)];const Qn=Wa({fields:H1,name:"focusing",active:Uk,apis:Xb}),Wk=t=>({init:()=>{const i=Wn(t);return{get:()=>i.get(),set:I=>i.set(I),clear:()=>i.set(t),readState:()=>i.get()}}}),Gk=(t,s,i)=>{const u=s.aria;u.update(t,u,i.get())},jk=(t,s,i)=>{s.toggleClass.each(u=>{i.get()?ks(t.element,u):Zs(t.element,u)})},Ny=(t,s,i,u)=>{const m=i.get();i.set(u),jk(t,s,i),Gk(t,s,i),m!==u&&s.onToggled(t,u)},YR=(t,s,i)=>{Ny(t,s,i,!i.get())},L6=(t,s,i)=>{Ny(t,s,i,!0)},$6=(t,s,i)=>{Ny(t,s,i,!1)},B6=(t,s,i)=>i.get(),wC=(t,s,i)=>{Ny(t,s,i,s.selected)};var KR=Object.freeze({__proto__:null,onLoad:wC,toggle:YR,isOn:B6,on:L6,off:$6,set:Ny}),F6=Object.freeze({__proto__:null,exhibit:()=>wl({}),events:(t,s)=>{const i=Cb(t,s,YR),u=m1(t,s,wC);return er(en([t.toggleOnExecute?[i]:[],[u]]))}});const Zk=(t,s,i)=>{uo(t.element,"aria-pressed",i),s.syncWithExpanded&&XR(t,s,i)},Yk=(t,s,i)=>{uo(t.element,"aria-selected",i)},Kk=(t,s,i)=>{uo(t.element,"aria-checked",i)},XR=(t,s,i)=>{uo(t.element,"aria-expanded",i)};var H6=[tt("selected",!1),qo("toggleClass"),tt("toggleOnExecute",!0),Qe("onToggled"),tl("aria",{mode:"none"},di("mode",{pressed:[tt("syncWithExpanded",!1),mr("update",Zk)],checked:[mr("update",Kk)],expanded:[mr("update",XR)],selected:[mr("update",Yk)],none:[mr("update",ee)]}))];const Mo=Wa({fields:H6,name:"toggling",active:F6,apis:KR,state:Wk(!1)}),Xk=()=>{const t=(s,i)=>{i.stop(),md(s)};return[kt(Lc(),t),kt(dd(),t),ah(Ll()),ah(ni())]},tA=t=>{const s=i=>gu((u,m)=>{i(u),m.stop()});return er(en([t.map(s).toArray(),Xk()]))},Qk="alloy.item-hover",Jk="alloy.item-focus",QR="alloy.item-toggled",eP=t=>{(zu(t.element).isNone()||Qn.isFocused(t))&&(Qn.isFocused(t)||Qn.focus(t),Nn(t,Qk,{item:t}))},tP=t=>{Nn(t,Jk,{item:t})},V6=(t,s)=>{Nn(t,QR,{item:t,state:s})},GE=we(Qk),z6=we(Jk),TC=we(QR),JR=t=>t.toggling.map(s=>s.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),nP=t=>({aria:{mode:"checked"},..._i(t,(s,i)=>i!=="exclusive"),onToggled:(s,i)=>{ue(t.onToggled)&&t.onToggled(s,i),V6(s,i)}}),oP=t=>({dom:t.dom,domModification:{...t.domModification,attributes:{role:JR(t),...t.domModification.attributes,"aria-haspopup":t.hasSubmenu,...t.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:gh.augment(t.itemBehaviours,[t.toggling.fold(Mo.revoke,s=>Mo.config(nP(s))),Qn.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:s=>{tP(s)}}),Vn.config({mode:"execution"}),pn.config({store:{mode:"memory",initialValue:t.data}}),vo("item-type-events",[...Xk(),kt($d(),eP),kt(gf(),Qn.focus)])]),components:t.components,eventOrder:t.eventOrder}),U6=[Rt("data"),Rt("components"),Rt("dom"),tt("hasSubmenu",!1),qo("toggling"),gh.field("itemBehaviours",[Mo,Qn,Vn,pn]),tt("ignoreFocus",!1),tt("domModification",{}),mr("builder",oP),tt("eventOrder",{})],W6=t=>({dom:t.dom,components:t.components,events:er([Mm(gf())])}),sP=[Rt("dom"),Rt("components"),mr("builder",W6)],eI=we("item-widget"),nA=we([ic({name:"widget",overrides:t=>({behaviours:Bt([pn.config({store:{mode:"manual",getValue:s=>t.data,setValue:ee}})])})})]),G6=t=>{const s=YT(eI(),t,nA()),i=KT(eI(),t,s.internals()),u=b=>Cr(b,t,"widget").map(T=>(Vn.focusIn(T),T)),m=(b,T)=>fv(T.event.target)?F.none():(()=>(t.autofocus&&T.setSource(b.element),F.none()))();return{dom:t.dom,components:i,domModification:t.domModification,events:er([gu((b,T)=>{u(b).each(I=>{T.stop()})}),kt($d(),eP),kt(gf(),(b,T)=>{t.autofocus?u(b):Qn.focus(b)})]),behaviours:gh.augment(t.widgetBehaviours,[pn.config({store:{mode:"memory",initialValue:t.data}}),Qn.config({ignore:t.ignoreFocus,onFocus:b=>{tP(b)}}),Vn.config({mode:"special",focusIn:t.autofocus?b=>{u(b)}:Z_(),onLeft:m,onRight:m,onEscape:(b,T)=>!Qn.isFocused(b)&&!t.autofocus?(Qn.focus(b),F.some(!0)):(t.autofocus&&T.setSource(b.element),F.none())})])}},j6=[Rt("uid"),Rt("data"),Rt("components"),Rt("dom"),tt("autofocus",!1),tt("ignoreFocus",!1),gh.field("widgetBehaviours",[pn,Qn,Vn]),tt("domModification",{}),nC(nA()),mr("builder",G6)],rP=di("type",{widget:j6,item:U6,separator:sP}),oA=(t,s)=>({mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:s.initSize.numColumns,numRows:s.initSize.numRows},focusManager:t.focusManager}),tI=(t,s)=>({mode:"matrix",selectors:{row:s.rowSelector,cell:"."+t.markers.item},previousSelector:s.previousSelector,focusManager:t.focusManager}),nI=(t,s)=>({mode:"menu",selector:"."+t.markers.item,moveOnTab:s.moveOnTab,focusManager:t.focusManager}),q6=we([Sy({factory:{sketch:t=>{const s=Oi("menu.spec item",rP,t);return s.builder(s)}},name:"items",unit:"item",defaults:(t,s)=>jo(s,"uid")?s:{...s,uid:Uo("item")},overrides:(t,s)=>({type:s.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}})})]),Z6=we([Rt("value"),Rt("items"),Rt("dom"),Rt("components"),tt("eventOrder",{}),Sc("menuBehaviours",[Cs,pn,ss,Vn]),tl("movement",{mode:"menu",moveOnTab:!0},di("mode",{grid:[c1(),mr("config",oA)],matrix:[mr("config",tI),Rt("rowSelector"),tt("previousSelector",F.none)],menu:[tt("moveOnTab",!0),mr("config",nI)]})),i1(),tt("fakeFocus",!1),tt("focusManager",gC()),Qe("onHighlight"),Qe("onDehighlight")]),iP=we("alloy.menu-focus"),Y6=(t,s)=>{const i=fa(t.element,'[role="menuitemradio"][aria-checked="true"]');Lt(i,u=>{us(u,s.element)||t.getSystem().getByDom(u).each(m=>{Mo.off(m)})})},aP=(t,s,i,u)=>({uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Gr(t.menuBehaviours,[Cs.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight,onDehighlight:t.onDehighlight}),pn.config({store:{mode:"memory",initialValue:t.value}}),ss.config({find:F.some}),Vn.config(t.movement.config(t,t.movement))]),events:er([kt(z6(),(m,b)=>{const T=b.event;m.getSystem().getByDom(T.target).each(I=>{Cs.highlight(m,I),b.stop(),Nn(m,iP(),{menu:m,item:I})})}),kt(GE(),(m,b)=>{const T=b.event.item;Cs.highlight(m,T)}),kt(TC(),(m,b)=>{const{item:T,state:I}=b.event;I&&Fi(T.element,"role")==="menuitemradio"&&Y6(m,T)})]),components:s,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}),Qb=ji({name:"Menu",configFields:Z6(),partFields:q6(),factory:aP}),K6=t=>Zl(t,(s,i)=>({k:s,v:i})),cP=(t,s,i,u)=>dn(i,u).bind(m=>dn(t,m).bind(b=>{const T=cP(t,s,i,b);return F.some([b].concat(T))})).getOr([]),X6=(t,s)=>{const i={};ii(t,(T,I)=>{Lt(T,L=>{i[L]=I})});const u=s,m=K6(s),b=Ls(m,(T,I)=>[I].concat(cP(i,u,m,I)));return Ls(i,T=>dn(b,T).getOr([T]))},Q6=()=>{const t=Wn({}),s=Wn({}),i=Wn({}),u=ir(),m=Wn({}),b=()=>{t.set({}),s.set({}),i.set({}),u.clear()},T=()=>u.get().isNone(),I=(tn,Ft)=>{s.set({...s.get(),[tn]:{type:"prepared",menu:Ft}})},L=(tn,Ft,hn,In)=>{u.set(tn),t.set(hn),s.set(Ft),m.set(In);const Go=X6(In,hn);i.set(Go)},z=tn=>uc(t.get(),(Ft,hn)=>Ft===tn),Y=(tn,Ft,hn)=>Le(tn).bind(In=>z(tn).bind(Go=>Ft(Go).map(zn=>({triggeredMenu:In,triggeringItem:zn,triggeringPath:hn})))),ne=(tn,Ft)=>{const hn=po(je(tn).toArray(),In=>Le(In).isSome());return dn(i.get(),tn).bind(In=>{const Go=va(hn.concat(In)),zn=Ge(Go,(Fo,co)=>Y(Fo,Ft,Go.slice(0,co+1)).fold(()=>qc(u.get(),Fo)?[]:[F.none()],$o=>[F.some($o)]));return Ws(zn)})},ie=tn=>dn(t.get(),tn).map(Ft=>{const hn=dn(i.get(),tn).getOr([]);return[Ft].concat(hn)}),de=tn=>dn(i.get(),tn).bind(Ft=>Ft.length>1?F.some(Ft.slice(1)):F.none()),Se=tn=>dn(i.get(),tn),Le=tn=>ct(tn).bind(lP),ct=tn=>dn(s.get(),tn),je=tn=>dn(t.get(),tn);return{setMenuBuilt:I,setContents:L,expand:ie,refresh:Se,collapse:de,lookupMenu:ct,lookupItem:je,otherMenus:tn=>{const Ft=m.get();return Dn(lr(Ft),tn)},getPrimary:()=>u.get().bind(Le),getMenus:()=>s.get(),clear:b,isClear:T,getTriggeringPath:ne}},lP=t=>t.type==="prepared"?F.some(t.menu):F.none(),uP={init:Q6,extractPreparedMenu:lP},oI=zt("tiered-menu-item-highlight"),dP=zt("tiered-menu-item-dehighlight");var Od;(function(t){t[t.HighlightMenuAndItem=0]="HighlightMenuAndItem",t[t.HighlightJustMenu=1]="HighlightJustMenu",t[t.HighlightNone=2]="HighlightNone"})(Od||(Od={}));const J6=(t,s)=>{const i=ir(),u=(Zt,Rn,yn)=>Ls(yn,(Jn,Oo)=>{const is=()=>Qb.sketch({...Jn,value:Oo,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:(Ra,Os)=>{Nn(Ra,oI,{menuComp:Ra,itemComp:Os})},onDehighlight:(Ra,Os)=>{Nn(Ra,dP,{menuComp:Ra,itemComp:Os})},focusManager:t.fakeFocus?vC():gC()});return Oo===Rn?{type:"prepared",menu:Zt.getSystem().build(is())}:{type:"notbuilt",nbMenu:is}}),m=uP.init(),b=Zt=>{const Rn=u(Zt,t.data.primary,t.data.menus),yn=L();return m.setContents(t.data.primary,Rn,t.data.expansions,yn),m.getPrimary()},T=Zt=>pn.getValue(Zt).value,I=(Zt,Rn,yn)=>Or(Rn,Jn=>{if(!Jn.getSystem().isConnected())return F.none();const Oo=Cs.getCandidates(Jn);return Fn(Oo,is=>T(is)===yn)}),L=Zt=>Ls(t.data.menus,(Rn,yn)=>Ge(Rn.items,Jn=>Jn.type==="separator"?[]:[Jn.data.value])),z=Cs.highlight,Y=(Zt,Rn)=>{z(Zt,Rn),Cs.getHighlighted(Rn).orThunk(()=>Cs.getFirst(Rn)).each(yn=>{t.fakeFocus?Cs.highlight(Rn,yn):$u(Zt,yn.element,gf())})},ne=(Zt,Rn)=>Qu(nt(Rn,yn=>Zt.lookupMenu(yn).bind(Jn=>Jn.type==="prepared"?F.some(Jn.menu):F.none()))),ie=(Zt,Rn,yn)=>{const Jn=ne(Rn,Rn.otherMenus(yn));Lt(Jn,Oo=>{Tl(Oo.element,[t.markers.backgroundMenu]),t.stayInDom||mo.remove(Zt,Oo)})},de=Zt=>i.get().getOrThunk(()=>{const Rn={},yn=fa(Zt.element,`.${t.markers.item}`),Jn=po(yn,Oo=>Fi(Oo,"aria-haspopup")==="true");return Lt(Jn,Oo=>{Zt.getSystem().getByDom(Oo).each(is=>{const Ra=T(is);Rn[Ra]=is})}),i.set(Rn),Rn}),Se=(Zt,Rn)=>{const yn=de(Zt);ii(yn,(Jn,Oo)=>{const is=_o(Rn,Oo);uo(Jn.element,"aria-expanded",is)})},Le=(Zt,Rn,yn)=>F.from(yn[0]).bind(Jn=>Rn.lookupMenu(Jn).bind(Oo=>{if(Oo.type==="notbuilt")return F.none();{const is=Oo.menu,Ra=ne(Rn,yn.slice(1));return Lt(Ra,Os=>{ks(Os.element,t.markers.backgroundMenu)}),hc(is.element)||mo.append(Zt,Vl(is)),Tl(is.element,[t.markers.backgroundMenu]),Y(Zt,is),ie(Zt,Rn,yn),F.some(is)}}));let ct;(function(Zt){Zt[Zt.HighlightSubmenu=0]="HighlightSubmenu",Zt[Zt.HighlightParent=1]="HighlightParent"})(ct||(ct={}));const je=(Zt,Rn,yn)=>{if(yn.type==="notbuilt"){const Jn=Zt.getSystem().build(yn.nbMenu());return m.setMenuBuilt(Rn,Jn),Jn}else return yn.menu},it=(Zt,Rn,yn=ct.HighlightSubmenu)=>{if(Rn.hasConfigured(so)&&so.isDisabled(Rn))return F.some(Rn);{const Jn=T(Rn);return m.expand(Jn).bind(Oo=>(Se(Zt,Oo),F.from(Oo[0]).bind(is=>m.lookupMenu(is).bind(Ra=>{const Os=je(Zt,is,Ra);return hc(Os.element)||mo.append(Zt,Vl(Os)),t.onOpenSubmenu(Zt,Rn,Os,va(Oo)),yn===ct.HighlightSubmenu?(Cs.highlightFirst(Os),Le(Zt,m,Oo)):(Cs.dehighlightAll(Os),F.some(Rn))}))))}},ht=(Zt,Rn)=>{const yn=T(Rn);return m.collapse(yn).bind(Jn=>(Se(Zt,Jn),Le(Zt,m,Jn).map(Oo=>(t.onCollapseMenu(Zt,Rn,Oo),Oo))))},vt=(Zt,Rn)=>{const yn=T(Rn);return m.refresh(yn).bind(Jn=>(Se(Zt,Jn),Le(Zt,m,Jn)))},tn=(Zt,Rn)=>fv(Rn.element)?F.none():it(Zt,Rn,ct.HighlightSubmenu),Ft=(Zt,Rn)=>fv(Rn.element)?F.none():ht(Zt,Rn),hn=(Zt,Rn)=>ht(Zt,Rn).orThunk(()=>t.onEscape(Zt,Rn).map(()=>Zt)),In=Zt=>(Rn,yn)=>lh(yn.getSource(),`.${t.markers.item}`).bind(Jn=>Rn.getSystem().getByDom(Jn).toOptional().bind(Oo=>Zt(Rn,Oo).map(Mt))),Go=er([kt(iP(),(Zt,Rn)=>{const yn=Rn.event.item;m.lookupItem(T(yn)).each(()=>{const Jn=Rn.event.menu;Cs.highlight(Zt,Jn);const Oo=T(Rn.event.item);m.refresh(Oo).each(is=>ie(Zt,m,is))})}),gu((Zt,Rn)=>{const yn=Rn.event.target;Zt.getSystem().getByDom(yn).each(Jn=>{T(Jn).indexOf("collapse-item")===0&&ht(Zt,Jn),it(Zt,Jn,ct.HighlightSubmenu).fold(()=>{t.onExecute(Zt,Jn)},ee)})}),wr((Zt,Rn)=>{b(Zt).each(yn=>{mo.append(Zt,Vl(yn)),t.onOpenMenu(Zt,yn),t.highlightOnOpen===Od.HighlightMenuAndItem?Y(Zt,yn):t.highlightOnOpen===Od.HighlightJustMenu&&z(Zt,yn)})}),kt(oI,(Zt,Rn)=>{t.onHighlightItem(Zt,Rn.event.menuComp,Rn.event.itemComp)}),kt(dP,(Zt,Rn)=>{t.onDehighlightItem(Zt,Rn.event.menuComp,Rn.event.itemComp)}),...t.navigateOnHover?[kt(GE(),(Zt,Rn)=>{const yn=Rn.event.item;vt(Zt,yn),it(Zt,yn,ct.HighlightParent),t.onHover(Zt,yn)})]:[]]),zn=Zt=>Cs.getHighlighted(Zt).bind(Cs.getHighlighted),Fo=Zt=>{zn(Zt).each(Rn=>{ht(Zt,Rn)})},co=Zt=>{m.getPrimary().each(Rn=>{Y(Zt,Rn)})},$o=Zt=>F.from(Zt.components()[0]).filter(Rn=>Fi(Rn.element,"role")==="menu"),Ps={collapseMenu:Fo,highlightPrimary:co,repositionMenus:Zt=>{m.getPrimary().bind(yn=>zn(Zt).bind(Jn=>{const Oo=T(Jn),is=mm(m.getMenus()),Ra=Qu(nt(is,uP.extractPreparedMenu));return m.getTriggeringPath(Oo,Os=>I(Zt,Ra,Os))}).map(Jn=>({primary:yn,triggeringPath:Jn}))).fold(()=>{$o(Zt).each(yn=>{t.onRepositionMenu(Zt,yn,[])})},({primary:yn,triggeringPath:Jn})=>{t.onRepositionMenu(Zt,yn,Jn)})}};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Gr(t.tmenuBehaviours,[Vn.config({mode:"special",onRight:In(tn),onLeft:In(Ft),onEscape:In(hn),focusIn:(Zt,Rn)=>{m.getPrimary().each(yn=>{$u(Zt,yn.element,gf())})}}),Cs.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),ss.config({find:Zt=>Cs.getHighlighted(Zt)}),mo.config({})]),eventOrder:t.eventOrder,apis:Ps,events:Go}},eV=we("collapse-item"),tV=(t,s,i)=>({primary:t,menus:s,expansions:i}),ky=(t,s)=>({primary:t,menus:Nu(t,s),expansions:{}}),nV=t=>({value:zt(eV()),meta:{text:t}}),Py=ha({name:"TieredMenu",configFields:[B0("onExecute"),B0("onEscape"),Bp("onOpenMenu"),Bp("onOpenSubmenu"),Qe("onRepositionMenu"),Qe("onCollapseMenu"),tt("highlightOnOpen",Od.HighlightMenuAndItem),Pc("data",[Rt("primary"),Rt("menus"),Rt("expansions")]),tt("fakeFocus",!1),Qe("onHighlightItem"),Qe("onDehighlightItem"),Qe("onHover"),Cf(),Rt("dom"),tt("navigateOnHover",!0),tt("stayInDom",!1),Sc("tmenuBehaviours",[Vn,Cs,ss,mo]),tt("eventOrder",{})],apis:{collapseMenu:(t,s)=>{t.collapseMenu(s)},highlightPrimary:(t,s)=>{t.highlightPrimary(s)},repositionMenus:(t,s)=>{t.repositionMenus(s)}},factory:J6,extraApis:{tieredData:tV,singleData:ky,collapseItem:nV}}),Ly=(t,s,i,u,m)=>{const b=()=>t.lazySink(s),T=u.type==="horizontal"?{layouts:{onLtr:()=>h1(),onRtl:()=>Sf()}}:{},I=z=>z.length===2,L=z=>I(z)?T:{};return Py.sketch({dom:{tag:"div"},data:u.data,markers:u.menu.markers,highlightOnOpen:u.menu.highlightOnOpen,fakeFocus:u.menu.fakeFocus,onEscape:()=>(Zo.close(s),t.onEscape.map(z=>z(s)),F.some(!0)),onExecute:()=>F.some(!0),onOpenMenu:(z,Y)=>{tr.positionWithinBounds(b().getOrDie(),Y,i,m())},onOpenSubmenu:(z,Y,ne,ie)=>{const de=b().getOrDie();tr.position(de,ne,{anchor:{type:"submenu",item:Y,...L(ie)}})},onRepositionMenu:(z,Y,ne)=>{const ie=b().getOrDie();tr.positionWithinBounds(ie,Y,i,m()),Lt(ne,de=>{const Se=L(de.triggeringPath);tr.position(ie,de.triggeredMenu,{anchor:{type:"submenu",item:de.triggeringItem,...Se}})})}})},oV=(t,s)=>{const i=(ie,de)=>t.getRelated(ie).exists(Le=>Lp(Le,de)),u=(ie,de)=>{Zo.setContent(ie,de)},m=(ie,de,Se)=>{const Le=F.none;b(ie,de,Se,Le)},b=(ie,de,Se,Le)=>{const ct=t.lazySink(ie).getOrDie();Zo.openWhileCloaked(ie,de,()=>tr.positionWithinBounds(ct,ie,Se,Le())),pn.setValue(ie,F.some({mode:"position",config:Se,getBounds:Le}))},T=(ie,de,Se)=>{I(ie,de,Se,F.none)},I=(ie,de,Se,Le)=>{const ct=Ly(t,ie,de,Se,Le);Zo.open(ie,ct),pn.setValue(ie,F.some({mode:"menu",menu:ct}))},L=ie=>{Zo.isOpen(ie)&&(pn.setValue(ie,F.none()),Zo.close(ie))},z=ie=>Zo.getState(ie),Y=ie=>{Zo.isOpen(ie)&&pn.getValue(ie).each(de=>{switch(de.mode){case"menu":Zo.getState(ie).each(Py.repositionMenus);break;case"position":const Se=t.lazySink(ie).getOrDie();tr.positionWithinBounds(Se,ie,de.config,de.getBounds());break}})},ne={setContent:u,showAt:m,showWithinBounds:b,showMenuAt:T,showMenuWithinBounds:I,hide:L,getContent:z,reposition:Y,isOpen:Zo.isOpen};return{uid:t.uid,dom:t.dom,behaviours:Gr(t.inlineBehaviours,[Zo.config({isPartOf:(ie,de,Se)=>Lp(de,Se)||i(ie,Se),getAttachPoint:ie=>t.lazySink(ie).getOrDie(),onOpen:ie=>{t.onShow(ie)},onClose:ie=>{t.onHide(ie)}}),pn.config({store:{mode:"memory",initialValue:F.none()}}),Ed.config({channels:{...yy({isExtraPart:s.isExtraPart,...t.fireDismissalEventInstead.map(ie=>({fireEventInstead:{event:ie.event}})).getOr({})}),...M1({...t.fireRepositionEventInstead.map(ie=>({fireEventInstead:{event:ie.event}})).getOr({}),doReposition:Y})}})]),eventOrder:t.eventOrder,apis:ne}},Aa=ha({name:"InlineView",configFields:[Rt("lazySink"),Qe("onShow"),Qe("onHide"),nc("onEscape"),Sc("inlineBehaviours",[Zo,pn,Ed]),oc("fireDismissalEventInstead",[tt("event",Bl())]),oc("fireRepositionEventInstead",[tt("event",Lu())]),tt("getRelated",F.none),tt("isExtraPart",Tt),tt("eventOrder",F.none)],factory:oV,apis:{showAt:(t,s,i,u)=>{t.showAt(s,i,u)},showWithinBounds:(t,s,i,u,m)=>{t.showWithinBounds(s,i,u,m)},showMenuAt:(t,s,i,u)=>{t.showMenuAt(s,i,u)},showMenuWithinBounds:(t,s,i,u,m)=>{t.showMenuWithinBounds(s,i,u,m)},hide:(t,s)=>{t.hide(s)},isOpen:(t,s)=>t.isOpen(s),getContent:(t,s)=>t.getContent(s),setContent:(t,s,i)=>{t.setContent(s,i)},reposition:(t,s)=>{t.reposition(s)}}});var ag=tinymce.util.Tools.resolve("tinymce.util.Delay");const xl=ha({name:"Button",factory:t=>{const s=tA(t.action),i=t.dom.tag,u=b=>dn(t.dom,"attributes").bind(T=>dn(T,b)),m=()=>{if(i==="button"){const b=u("type").getOr("button"),T=u("role").map(I=>({role:I})).getOr({});return{type:b,...T}}else return{role:t.role.getOr(u("role").getOr("button"))}};return{uid:t.uid,dom:t.dom,components:t.components,events:s,behaviours:gh.augment(t.buttonBehaviours,[Qn.config({}),Vn.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:m()},eventOrder:t.eventOrder}},configFields:[tt("uid",void 0),Rt("dom"),tt("components",[]),gh.field("buttonBehaviours",[Qn,Vn]),qo("action"),qo("role"),tt("eventOrder",{})]}),Yo=t=>{const s=On(t)&&Da(t,"uid")?t.uid:Uo("memento");return{get:b=>b.getSystem().getByUid(s).getOrDie(),getOpt:b=>b.getSystem().getByUid(s).toOptional(),asSpec:()=>({...t,uid:s})}};var _h=tinymce.util.Tools.resolve("tinymce.util.I18n");const fP={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},sI="temporary-placeholder",rI=t=>()=>dn(t,sI).getOr("!not found!"),CC=(t,s)=>{const i=t.toLowerCase();if(_h.isRtl()){const u=ci(i,"-rtl");return jo(s,u)?u:i}else return i},hP=(t,s)=>dn(s,CC(t,s)),mP=(t,s)=>{const i=s();return hP(t,i).getOrThunk(rI(i))},sV=(t,s,i)=>{const u=s();return hP(t,u).or(i).getOrThunk(rI(u))},sA=t=>_h.isRtl()?jo(fP,t):!1,SC=()=>vo("add-focusable",[wr(t=>{jh(t.element,"svg").each(s=>uo(s,"focusable","false"))})]),pP=(t,s,i,u)=>{var m,b;const T=sA(s)?["tox-icon--flip"]:[],I=dn(i,CC(s,i)).or(u).getOrThunk(rI(i));return{dom:{tag:t.tag,attributes:(m=t.attributes)!==null&&m!==void 0?m:{},classes:t.classes.concat(T),innerHtml:I},behaviours:Bt([...(b=t.behaviours)!==null&&b!==void 0?b:[],SC()])}},Qh=(t,s,i,u=F.none())=>pP(s,t,i(),u),gP=(t,s,i)=>{const u=i(),m=Fn(t,b=>jo(u,CC(b,u)));return pP(s,m.getOr(sI),u,F.none())},rV={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},iI=ha({name:"Notification",factory:t=>{const s=Yo({dom:{tag:"p",innerHtml:t.translationProvider(t.text)},behaviours:Bt([mo.config({})])}),i=de=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${de}%`}}}),u=de=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${de}%`}}),m=Yo({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[i(0)]},u(0)],behaviours:Bt([mo.config({})])}),I={updateProgress:(de,Se)=>{de.getSystem().isConnected()&&m.getOpt(de).each(Le=>{mo.set(Le,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[i(Se)]},u(Se)])})},updateText:(de,Se)=>{if(de.getSystem().isConnected()){const Le=s.get(de);mo.set(Le,[$r(Se)])}}},L=en([t.icon.toArray(),t.level.toArray(),t.level.bind(de=>F.from(rV[de])).toArray()]),z=Yo(xl.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[Qh("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":t.translationProvider("Close")}},t.iconProvider)],action:de=>{t.onAction(de)}})),Y=gP(L,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),ne={dom:{tag:"div",classes:["tox-notification__body"]},components:[s.asSpec()],behaviours:Bt([mo.config({})])},ie=[Y,ne];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map(de=>["tox-notification","tox-notification--in",`tox-notification--${de}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:Bt([Qn.config({}),vo("notification-events",[kt(mf(),de=>{z.getOpt(de).each(Qn.focus)})])]),components:ie.concat(t.progress?[m.asSpec()]:[]).concat(t.closeButton?[z.asSpec()]:[]),apis:I}},configFields:[qo("level"),Rt("progress"),qo("icon"),Rt("onAction"),Rt("text"),Rt("iconProvider"),Rt("translationProvider"),wa("closeButton",!0)],apis:{updateProgress:(t,s,i)=>{t.updateProgress(s,i)},updateText:(t,s,i)=>{t.updateText(s,i)}}});var aI=(t,s,i)=>{const u=s.backstage.shared,m=()=>{const L=ns(et.fromDom(t.getContentAreaContainer())),z=Ja(),Y=al(z.x,L.x,L.right),ne=al(z.y,L.y,L.bottom),ie=Math.max(L.right,z.right),de=Math.max(L.bottom,z.bottom);return F.some(js(Y,ne,ie-Y,de-ne))};return{open:(L,z)=>{const Y=()=>{z(),Aa.hide(ie)},ne=Hc(iI.sketch({text:L.text,level:_o(["success","error","warning","warn","info"],L.type)?L.type:void 0,progress:L.progressBar===!0,icon:L.icon,closeButton:L.closeButton,onAction:Y,iconProvider:u.providers.icons,translationProvider:u.providers.translate})),ie=Hc(Aa.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:u.getSink,fireDismissalEventInstead:{},...u.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));i.add(ie),le(L.timeout)&&L.timeout>0&&ag.setEditorTimeout(t,()=>{Y()},L.timeout);const Se={close:Y,reposition:()=>{const Le=Vl(ne),ct={maxHeightFunction:Vm()},je=t.notificationManager.getNotifications();if(je[0]===Se){const it={...u.anchors.banner(),overrides:ct};Aa.showWithinBounds(ie,Le,{anchor:it},m)}else Ze(je,Se).each(it=>{const ht=je[it-1].getEl(),vt={type:"node",root:ea(),node:F.some(et.fromDom(ht)),overrides:ct,layouts:{onRtl:()=>[sc],onLtr:()=>[sc]}};Aa.showWithinBounds(ie,Le,{anchor:vt},m)})},text:Le=>{iI.updateText(ne,Le)},settings:L,getEl:()=>ne.element.dom,progressBar:{value:Le=>{iI.updateProgress(ne,Le)}}};return Se},close:L=>{L.close()},getArgs:L=>L.settings}},xC=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),AC=tinymce.util.Tools.resolve("tinymce.EditorManager"),V1=tinymce.util.Tools.resolve("tinymce.Env"),Eh;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(Eh||(Eh={}));var jE;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(jE||(jE={}));const Fr=t=>s=>s.options.get(t),OC=t=>s=>F.from(t(s)),bP=t=>{const s=V1.deviceType.isPhone(),i=V1.deviceType.isTablet()||s,u=t.options.register,m=T=>M(T)||T===!1,b=T=>M(T)||le(T);u("skin",{processor:T=>M(T)||T===!1,default:"oxide"}),u("skin_url",{processor:"string"}),u("height",{processor:b,default:Math.max(t.getElement().offsetHeight,400)}),u("width",{processor:b,default:xC.DOM.getStyle(t.getElement(),"width")}),u("min_height",{processor:"number",default:100}),u("min_width",{processor:"number"}),u("max_height",{processor:"number"}),u("max_width",{processor:"number"}),u("style_formats",{processor:"object[]"}),u("style_formats_merge",{processor:"boolean",default:!1}),u("style_formats_autohide",{processor:"boolean",default:!1}),u("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),u("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),u("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),u("font_size_input_default_unit",{processor:"string",default:"pt"}),u("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),u("content_langs",{processor:"object[]"}),u("removed_menuitems",{processor:"string",default:""}),u("menubar",{processor:T=>M(T)||me(T),default:!s}),u("menu",{processor:"object",default:{}}),u("toolbar",{processor:T=>me(T)||M(T)||j(T)?{value:T,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),lo(9,T=>{u("toolbar"+(T+1),{processor:"string"})}),u("toolbar_mode",{processor:"string",default:i?"scrolling":"floating"}),u("toolbar_groups",{processor:"object",default:{}}),u("toolbar_location",{processor:"string",default:jE.auto}),u("toolbar_persist",{processor:"boolean",default:!1}),u("toolbar_sticky",{processor:"boolean",default:t.inline}),u("toolbar_sticky_offset",{processor:"number",default:0}),u("fixed_toolbar_container",{processor:"string",default:""}),u("fixed_toolbar_container_target",{processor:"object"}),u("ui_mode",{processor:"string",default:"combined"}),u("file_picker_callback",{processor:"function"}),u("file_picker_validator_handler",{processor:"function"}),u("file_picker_types",{processor:"string"}),u("typeahead_urls",{processor:"boolean",default:!0}),u("anchor_top",{processor:m,default:"#top"}),u("anchor_bottom",{processor:m,default:"#bottom"}),u("draggable_modal",{processor:"boolean",default:!1}),u("statusbar",{processor:"boolean",default:!0}),u("elementpath",{processor:"boolean",default:!0}),u("branding",{processor:"boolean",default:!0}),u("promotion",{processor:"boolean",default:!0}),u("resize",{processor:T=>T==="both"||me(T),default:!V1.deviceType.isTouch()}),u("sidebar_show",{processor:"string"})},yP=Fr("readonly"),RC=Fr("height"),rA=Fr("width"),iA=OC(Fr("min_width")),IC=OC(Fr("min_height")),aA=OC(Fr("max_width")),cA=OC(Fr("max_height")),_P=OC(Fr("style_formats")),EP=Fr("style_formats_merge"),wP=Fr("style_formats_autohide"),cI=Fr("content_langs"),TP=Fr("removed_menuitems"),qE=Fr("toolbar_mode"),lA=Fr("toolbar_groups"),uA=Fr("toolbar_location"),CP=Fr("fixed_toolbar_container"),iV=Fr("fixed_toolbar_container_target"),dA=Fr("toolbar_persist"),SP=Fr("toolbar_sticky_offset"),xP=Fr("menubar"),fA=Fr("toolbar"),AP=Fr("file_picker_callback"),OP=Fr("file_picker_validator_handler"),lI=Fr("font_size_input_default_unit"),hA=Fr("file_picker_types"),RP=Fr("typeahead_urls"),DC=Fr("anchor_top"),IP=Fr("anchor_bottom"),DP=Fr("draggable_modal"),MP=Fr("statusbar"),NP=Fr("elementpath"),kP=Fr("branding"),PP=Fr("resize"),uI=Fr("paste_as_text"),LP=Fr("sidebar_show"),$P=Fr("promotion"),MC=t=>t.options.get("skin")===!1,pv=t=>t.options.get("menubar")!==!1,BP=t=>{const s=t.options.get("skin_url");if(MC(t))return s;if(s)return t.documentBaseURI.toAbsolute(s);{const i=t.options.get("skin");return AC.baseURL+"/skins/ui/"+i}},FP=t=>t.options.get("line_height_formats").split(" "),ZE=t=>{const s=fA(t),i=M(s),u=j(s)&&s.length>0;return!YE(t)&&(u||i||s===!0)},dI=t=>{const s=lo(9,u=>t.options.get("toolbar"+(u+1))),i=po(s,M);return jn(i.length>0,i)},YE=t=>dI(t).fold(()=>{const s=fA(t);return ve(s,M)&&s.length>0},Mt),fI=t=>uA(t)===jE.bottom,hI=t=>{var s;if(!t.inline)return F.none();const i=(s=CP(t))!==null&&s!==void 0?s:"";if(i.length>0)return Ur(ea(),i);const u=iV(t);return fe(u)?F.some(et.fromDom(u)):F.none()},$y=t=>t.inline&&hI(t).isSome(),NC=t=>hI(t).getOrThunk(()=>Ji(Ti(et.fromDom(t.getElement())))),mI=t=>t.inline&&!pv(t)&&!ZE(t)&&!YE(t),KE=t=>(t.options.get("toolbar_sticky")||t.inline)&&!$y(t)&&!mI(t),Jb=t=>!$y(t)&&t.options.get("ui_mode")==="split",XE=t=>{const s=t.options.get("menu");return Ls(s,i=>({...i,items:i.items}))};var aV=Object.freeze({__proto__:null,get ToolbarMode(){return Eh},get ToolbarLocation(){return jE},register:bP,getSkinUrl:BP,isReadOnly:yP,isSkinDisabled:MC,getHeightOption:RC,getWidthOption:rA,getMinWidthOption:iA,getMinHeightOption:IC,getMaxWidthOption:aA,getMaxHeightOption:cA,getUserStyleFormats:_P,shouldMergeStyleFormats:EP,shouldAutoHideStyleFormats:wP,getLineHeightFormats:FP,getContentLanguages:cI,getRemovedMenuItems:TP,isMenubarEnabled:pv,isMultipleToolbars:YE,isToolbarEnabled:ZE,isToolbarPersist:dA,getMultipleToolbarsOption:dI,getUiContainer:NC,useFixedContainer:$y,isSplitUiMode:Jb,getToolbarMode:qE,isDraggableModal:DP,isDistractionFree:mI,isStickyToolbar:KE,getStickyToolbarOffset:SP,getToolbarLocation:uA,isToolbarLocationBottom:fI,getToolbarGroups:lA,getMenus:XE,getMenubar:xP,getToolbar:fA,getFilePickerCallback:AP,getFilePickerTypes:hA,useTypeaheadUrls:RP,getAnchorTop:DC,getAnchorBottom:IP,getFilePickerValidatorHandler:OP,getFontSizeInputDefaultUnit:lI,useStatusBar:MP,useElementPath:NP,promotionEnabled:$P,useBranding:kP,getResize:PP,getPasteAsText:uI,getSidebarShow:LP});const HP="[data-mce-autocompleter]",mA=t=>lh(t,HP),pI=t=>Ur(t,HP),VP={setup:(t,s)=>{const i=(m,b)=>{Nn(m,zi(),{raw:b})},u=()=>t.getMenu().bind(Cs.getHighlighted);s.on("keydown",m=>{const b=m.which;t.isActive()&&(t.isMenuOpen()?b===13?(u().each(md),m.preventDefault()):b===40?(u().fold(()=>{t.getMenu().each(Cs.highlightFirst)},T=>{i(T,m)}),m.preventDefault(),m.stopImmediatePropagation()):(b===37||b===38||b===39)&&u().each(T=>{i(T,m),m.preventDefault(),m.stopImmediatePropagation()}):(b===13||b===38||b===40)&&t.cancelIfNecessary())}),s.on("NodeChange",m=>{t.isActive()&&!t.isProcessingAction()&&mA(et.fromDom(m.element)).isNone()&&t.cancelIfNecessary()})}};var gI;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(gI||(gI={}));var cg=gI;const kC="tox-menu-nav__js",pA="tox-collection__item",vI="tox-swatch",cV={normal:kC,color:vI},zP="tox-collection__item--enabled",lV="tox-collection__group-heading",UP="tox-collection__item-icon",bI="tox-collection__item-label",uV="tox-collection__item-accessory",WP="tox-collection__item-caret",dV="tox-collection__item-checkmark",PC="tox-collection__item--active",GP="tox-collection__item-container",yI="tox-collection__item-container--column",jP="tox-collection__item-container--row",fV="tox-collection__item-container--align-right",hV="tox-collection__item-container--align-left",qP="tox-collection__item-container--valign-top",mV="tox-collection__item-container--valign-middle",pV="tox-collection__item-container--valign-bottom",ZP=t=>dn(cV,t).getOr(kC),gV=t=>t==="color"?"tox-swatches":"tox-menu",_I=t=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:gV(t),tieredMenu:"tox-tiered-menu"}),By=t=>{const s=_I(t);return{backgroundMenu:s.backgroundMenu,selectedMenu:s.selectedMenu,menu:s.menu,selectedItem:s.selectedItem,item:ZP(t)}},EI=(t,s,i)=>{const u=_I(i);return{tag:"div",classes:en([[u.menu,`tox-menu-${s}-column`],t?[u.hasIcons]:[]])}},vV=[Qb.parts.items({})],gA=(t,s,i)=>{const u=_I(i);return{dom:{tag:"div",classes:en([[u.tieredMenu]])},markers:By(i)}},YP=we([qo("data"),tt("inputAttributes",{}),tt("inputStyles",{}),tt("tag","input"),tt("inputClasses",[]),Qe("onSetValue"),tt("styles",{}),tt("eventOrder",{}),Sc("inputBehaviours",[pn,Qn]),tt("selectOnFocus",!0)]),KP=t=>Bt([Qn.config({onFocus:t.selectOnFocus?s=>{const i=s.element,u=Vu(i);i.dom.setSelectionRange(0,u.length)}:ee})]),bV=t=>({...KP(t),...Gr(t.inputBehaviours,[pn.config({store:{mode:"manual",...t.data.map(s=>({initialValue:s})).getOr({}),getValue:s=>Vu(s.element),setValue:(s,i)=>{Vu(s.element)!==i&&zd(s.element,i)}},onSetValue:t.onSetValue})])}),XP=t=>({tag:t.tag,attributes:{type:"text",...t.inputAttributes},styles:t.inputStyles,classes:t.inputClasses}),yV=(t,s)=>({uid:t.uid,dom:XP(t),components:[],behaviours:bV(t),eventOrder:t.eventOrder}),Fy=ha({name:"Input",configFields:YP(),factory:yV}),QP=zt("refetch-trigger-event"),JP=zt("redirect-menu-item-interaction"),eL="tox-menu__searcher",vA=t=>Ur(t.element,`.${eL}`).bind(s=>t.getSystem().getByDom(s).toOptional()),LC=vA,_V=(t,s)=>{pn.setValue(t,s.fetchPattern),t.element.dom.selectionStart=s.selectionStart,t.element.dom.selectionEnd=s.selectionEnd},bA=t=>{const s=pn.getValue(t),i=t.element.dom.selectionStart,u=t.element.dom.selectionEnd;return{fetchPattern:s,selectionStart:i,selectionEnd:u}},EV=(t,s)=>{ui(s.element,"id").each(i=>uo(t.element,"aria-activedescendant",i))},wV=t=>{const s=(m,b)=>(b.cut(),F.none()),i=(m,b)=>{const T={interactionEvent:b.event,eventType:b.event.raw.type};return Nn(m,JP,T),F.some(!0)},u="searcher-events";return{dom:{tag:"div",classes:[pA]},components:[Fy.sketch({inputClasses:[eL,"tox-textfield"],inputAttributes:{...t.placeholder.map(m=>({placeholder:t.i18n(m)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:Bt([vo(u,[kt(ia(),m=>{ls(m,QP)}),kt(zi(),(m,b)=>{b.event.raw.key==="Escape"&&b.stop()})]),Vn.config({mode:"special",onLeft:s,onRight:s,onSpace:s,onEnter:i,onEscape:i,onUp:i,onDown:i})]),eventOrder:{keydown:[u,Vn.name()]}})]}},yA="tox-collection--results__js",tL=t=>{var s;return t.dom?{...t,dom:{...t.dom,attributes:{...(s=t.dom.attributes)!==null&&s!==void 0?s:{},id:zt("aria-item-search-result-id"),"aria-selected":"false"}}}:t},wI=(t,s)=>i=>{const u=Vo(i,s);return nt(u,m=>({dom:t,components:m}))},nL=t=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Qb.parts.items({preprocess:t!=="auto"?wI({tag:"div",classes:["tox-swatches__row"]},t):Ue})]}]}),TV=t=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Qb.parts.items({preprocess:wI({tag:"div",classes:["tox-collection__group"]},t)})]}),_A=(t,s)=>{const i=[];let u=[];return Lt(t,(m,b)=>{s(m,b)?(u.length>0&&i.push(u),u=[],(jo(m.dom,"innerHtml")||m.components&&m.components.length>0)&&u.push(m)):u.push(m)}),u.length>0&&i.push(u),nt(i,m=>({dom:{tag:"div",classes:["tox-collection__group"]},components:m}))},$C=(t,s,i)=>Qb.parts.items({preprocess:u=>{const m=nt(u,i);return t!=="auto"&&t>1?wI({tag:"div",classes:["tox-collection__group"]},t)(m):_A(m,(b,T)=>s[T].type==="separator")}}),TI=(t,s,i=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[$C(t,s,Ue)]}),CI=(t,s,i=!0)=>{const u=zt("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",yA].concat(t===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:u}},components:[$C(t,s,tL)]}},EA=(t,s,i)=>{const u=zt("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[wV({i18n:_h.translate,placeholder:i.placeholder}),{dom:{tag:"div",classes:[...t===1?["tox-collection--list"]:["tox-collection--grid"],yA],attributes:{id:u}},components:[$C(t,s,tL)]}]}},oL=(t,s=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Qb.parts.items({preprocess:i=>_A(i,(u,m)=>t[m].type==="separator")})]}),Jh=t=>Ho(t,s=>"icon"in s&&s.icon!==void 0),lg=t=>(console.error(mi(t)),console.log(t),F.none()),CV=(t,s,i,u,m)=>{const b=oL(i);return{value:t,dom:b.dom,components:b.components,items:i}},SI=(t,s,i,u,m)=>{const b=()=>m.menuType!=="searchable"?TI(u,i):m.searchMode.searchMode==="search-with-field"?EA(u,i,m.searchMode):CI(u,i);if(m.menuType==="color"){const T=nL(u);return{value:t,dom:T.dom,components:T.components,items:i}}else if(m.menuType==="normal"&&u==="auto"){const T=TI(u,i);return{value:t,dom:T.dom,components:T.components,items:i}}else if(m.menuType==="normal"||m.menuType==="searchable"){const T=b();return{value:t,dom:T.dom,components:T.components,items:i}}else if(m.menuType==="listpreview"&&u!=="auto"){const T=TV(u);return{value:t,dom:T.dom,components:T.components,items:i}}else return{value:t,dom:EI(s,u,m.menuType),components:vV,items:i}},Oa=ti("type"),xI=ti("name"),e0=ti("label"),z1=ti("text"),sL=ti("title"),wA=ti("icon"),QE=ti("value"),AI=bl("fetch"),SV=bl("getSubmenuItems"),t0=bl("onAction"),OI=bl("onItemAction"),Hy=Vi("onSetup",()=>ee),rL=Kr("name"),U1=Kr("text"),Xm=Kr("icon"),TA=Kr("tooltip"),RI=Kr("label"),xV=Kr("shortcut"),AV=nc("select"),BC=wa("active",!1),iL=wa("borderless",!1),Qm=wa("enabled",!0),FC=wa("primary",!1),II=t=>tt("columns",t),Vy=tt("meta",{}),CA=Vi("onAction",ee),zy=t=>Mu("type",t),DI=t=>fi("name","name",au(()=>zt(`${t}-name`)),Yr),aL=t=>fi("value","value",au(()=>zt(`${t}-value`)),uu()),cL=$n([Oa,U1]),OV=t=>Do("separatormenuitem",cL,t),lL=$n([zy("autocompleteitem"),BC,Qm,Vy,QE,U1,Xm]),uL=t=>Do("Autocompleter.Separator",cL,t),dL=t=>Do("Autocompleter.Item",lL,t),JE=[Qm,TA,Xm,U1,Hy],RV=$n([Oa,t0].concat(JE)),fL=t=>Do("toolbarbutton",RV,t),SA=[BC].concat(JE),MI=$n(SA.concat([Oa,t0])),xA=t=>Do("ToggleButton",MI,t),NI=[Vi("predicate",Tt),wc("scope","node",["node","editor"]),wc("position","selection",["node","selection","line"])],hL=JE.concat([zy("contextformbutton"),FC,t0,Ts("original",Ue)]),mL=SA.concat([zy("contextformbutton"),FC,t0,Ts("original",Ue)]),IV=JE.concat([zy("contextformbutton")]),kI=SA.concat([zy("contextformtogglebutton")]),DV=di("type",{contextformbutton:hL,contextformtogglebutton:mL}),pL=$n([zy("contextform"),Vi("initValue",we("")),RI,Ec("commands",DV),cd("launch",di("type",{contextformbutton:IV,contextformtogglebutton:kI}))].concat(NI)),gL=t=>Do("ContextForm",pL,t),Uy=$n([zy("contexttoolbar"),ti("items")].concat(NI)),MV=t=>Do("ContextToolbar",Uy,t),PI=[Oa,ti("src"),Kr("alt"),xp("classes",[],Yr)],AA=$n(PI),NV=[Oa,z1,rL,xp("classes",["tox-collection__item-label"],Yr)],vL=$n(NV),LI=vl(()=>_c("type",{cardimage:AA,cardtext:vL,cardcontainer:bL})),bL=$n([Oa,Mu("direction","horizontal"),Mu("align","left"),Mu("valign","middle"),Ec("items",LI)]),n0=[Qm,U1,xV,aL("menuitem"),Vy],yL=$n([Oa,RI,Ec("items",LI),Hy,CA].concat(n0)),kV=t=>Do("cardmenuitem",yL,t),_L=$n([Oa,BC,Xm].concat(n0)),EL=t=>Do("choicemenuitem",_L,t),$I=[Oa,ti("fancytype"),CA],wL=[tt("initData",{})].concat($I),PV=[nc("select"),Pd("initData",{},[wa("allowCustomColors",!0),Mu("storageKey","default"),lb("colors",uu())])].concat($I),TL=di("fancytype",{inserttable:wL,colorswatch:PV}),HC=t=>Do("fancymenuitem",TL,t),LV=$n([Oa,Hy,CA,Xm].concat(n0)),$V=t=>Do("menuitem",LV,t),BV=$n([Oa,SV,Hy,Xm].concat(n0)),CL=t=>Do("nestedmenuitem",BV,t),SL=$n([Oa,Xm,BC,Hy,t0].concat(n0)),FV=t=>Do("togglemenuitem",SL,t),BI=(t,s,i)=>{const u=fa(t.element,"."+i);if(u.length>0){const m=ko(u,b=>{const T=b.dom.getBoundingClientRect().top,I=u[0].dom.getBoundingClientRect().top;return Math.abs(T-I)>s}).getOr(u.length);return F.some({numColumns:m,numRows:Math.ceil(u.length/m)})}else return F.none()},xL=(t,s)=>Bt([vo(t,s)]),VC={namedEvents:xL,unnamedEvents:t=>xL(zt("unnamed-events"),t)},zC=zt("tooltip.exclusive"),UC=zt("tooltip.show"),ew=zt("tooltip.hide"),FI=(t,s,i)=>{t.getSystem().broadcastOn([zC],{})};var VV=Object.freeze({__proto__:null,hideAllExclusive:FI,setComponents:(t,s,i,u)=>{i.getTooltip().each(m=>{m.getSystem().isConnected()&&mo.set(m,u)})}}),AL=Object.freeze({__proto__:null,events:(t,s)=>{const i=m=>{s.getTooltip().each(b=>{Gm(b),t.onHide(m,b),s.clearTooltip()}),s.clearTimer()},u=m=>{if(!s.isShowing()){FI(m);const b=t.lazySink(m).getOrDie(),T=m.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:er(t.mode==="normal"?[kt($d(),I=>{ls(m,UC)}),kt(Fh(),I=>{ls(m,ew)})]:[]),behaviours:Bt([mo.config({})])});s.setTooltip(T),Wm(b,T),t.onShow(m,T),tr.position(b,T,{anchor:t.anchor(m)})}};return er(en([[kt(UC,m=>{s.resetTimer(()=>{u(m)},t.delay)}),kt(ew,m=>{s.resetTimer(()=>{i(m)},t.delay)}),kt(pu(),(m,b)=>{const T=b;T.universal||_o(T.channels,zC)&&i(m)}),Cc(m=>{i(m)})],t.mode==="normal"?[kt(mf(),m=>{ls(m,UC)}),kt(Vg(),m=>{ls(m,ew)}),kt($d(),m=>{ls(m,UC)}),kt(Fh(),m=>{ls(m,ew)})]:[kt(Wg(),(m,b)=>{ls(m,UC)}),kt(Rm(),m=>{ls(m,ew)})]]))}}),OL=[Rt("lazySink"),Rt("tooltipDom"),tt("exclusive",!0),tt("tooltipComponents",[]),tt("delay",300),wc("mode","normal",["normal","follow-highlight"]),tt("anchor",t=>({type:"hotspot",hotspot:t,layouts:{onLtr:we([sc,Vs,Ua,Cl,la,bu]),onRtl:we([sc,Vs,Ua,Cl,la,bu])}})),Qe("onHide"),Qe("onShow")],WV=Object.freeze({__proto__:null,init:()=>{const t=ir(),s=ir(),i=()=>{t.on(clearTimeout)},u=(b,T)=>{i(),t.set(setTimeout(b,T))},m=we("not-implemented");return Ca({getTooltip:s.get,isShowing:s.isSet,setTooltip:s.set,clearTooltip:s.clear,clearTimer:i,resetTimer:u,readState:m})}});const RL=Wa({fields:OL,name:"tooltipping",active:AL,state:WV,apis:VV}),GV=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),IL="silver.readonly",DL=$n([kc("readonly")]),WC=(t,s)=>{const u=t.mainUi.outerContainer.element,m=[t.mainUi.mothership,...t.uiMotherships];s&&Lt(m,b=>{b.broadcastOn([Jp()],{target:u})}),Lt(m,b=>{b.broadcastOn([IL],{readonly:s})})},ML=(t,s)=>{t.on("init",()=>{t.mode.isReadOnly()&&WC(s,!0)}),t.on("SwitchMode",()=>WC(s,t.mode.isReadOnly())),yP(t)&&t.mode.set("readonly")},xc=()=>Ed.config({channels:{[IL]:{schema:DL,onReceive:(t,s)=>{so.set(t,s.readonly)}}}}),Jm={item:t=>so.config({disabled:t,disableClass:"tox-collection__item--state-disabled"}),button:t=>so.config({disabled:t}),splitButton:t=>so.config({disabled:t,disableClass:"tox-tbtn--disabled"}),toolbarButton:t=>so.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},tw=(t,s)=>{const i=t.getApi(s);return u=>{u(i)}},o0=(t,s)=>wr(i=>{tw(t,i)(m=>{const b=t.onSetup(m);ue(b)&&s.set(b)})}),Wy=(t,s)=>Cc(i=>tw(t,i)(s.get())),jV=(t,s)=>gu((i,u)=>{tw(t,i)(t.onAction),!t.triggersSubmenu&&s===cg.CLOSE_ON_EXECUTE&&(i.getSystem().isConnected()&&ls(i,Hh()),u.stop())}),NL={[Fs()]:["disabling","alloy.base.behaviour","toggling","item-events"]},nw=Qu,ow=(t,s,i,u)=>{const m=Wn(ee);return{type:"item",dom:s.dom,components:nw(s.optComponents),data:t.data,eventOrder:NL,hasSubmenu:t.triggersSubmenu,itemBehaviours:Bt([vo("item-events",[jV(t,i),o0(t,m),Wy(t,m)]),Jm.item(()=>!t.enabled||u.isDisabled()),xc(),mo.config({})].concat(t.itemBehaviours))}},Gy=t=>({value:t.value,meta:{text:t.text.getOr(""),...t.meta}}),kL=t=>{const s=V1.os.isMacOS()||V1.os.isiOS(),m=s?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},b=t.split("+"),T=nt(b,I=>{const L=I.toLowerCase().trim();return jo(m,L)?m[L]:I});return s?T.join(""):T.join("+")},OA=(t,s,i=[UP])=>Qh(t,{tag:"div",classes:i},s),PL=t=>({dom:{tag:"div",classes:[bI]},components:[$r(_h.translate(t))]}),LL=(t,s)=>({dom:{tag:"div",classes:s,innerHtml:t}}),qV=(t,s)=>({dom:{tag:"div",classes:[bI]},components:[{dom:{tag:t.tag,styles:t.styles},components:[$r(_h.translate(s))]}]}),ZV=t=>({dom:{tag:"div",classes:[uV]},components:[$r(kL(t))]}),$L=t=>OA("checkmark",t,[dV]),jy=t=>OA("chevron-right",t,[WP]),HI=t=>OA("chevron-down",t,[WP]),YV=(t,s)=>{const i=t.direction==="vertical"?yI:jP,u=t.align==="left"?hV:fV;return{dom:{tag:"div",classes:[GP,i,u,(()=>{switch(t.valign){case"top":return qP;case"middle":return mV;case"bottom":return pV}})()]},components:s}},RA=(t,s,i)=>({dom:{tag:"img",classes:s,attributes:{src:t,alt:i.getOr("")}}}),ug=(t,s,i)=>{const u="custom",m="remove",b=t.ariaLabel,T=t.value,I=t.iconContent.map(z=>sV(z,s.icons,i));return{dom:(()=>{const z=vI,Y=I.getOr(""),ie={tag:"div",attributes:b.map(de=>({title:s.translate(de)})).getOr({}),classes:[z]};return T===u?{...ie,tag:"button",classes:[...ie.classes,"tox-swatches__picker-btn"],innerHtml:Y}:T===m?{...ie,classes:[...ie.classes,"tox-swatch--remove"],innerHtml:Y}:fe(T)?{...ie,attributes:{...ie.attributes,"data-mce-color":T},styles:{"background-color":T},innerHtml:Y}:ie})(),optComponents:[]}},BL=t=>{const s=t.map(i=>({attributes:{title:_h.translate(i)}})).getOr({});return{tag:"div",classes:[kC,pA],...s}},KV=(t,s,i,u)=>{const m={tag:"div",classes:[UP]},b=ie=>Qh(ie,m,s.icons,u),T=()=>F.some({dom:m}),I=i?t.iconContent.map(b).orThunk(T):F.none(),L=t.checkMark,z=F.from(t.meta).fold(()=>PL,ie=>jo(ie,"style")?It(qV,ie.style):PL),Y=t.htmlContent.fold(()=>t.textContent.map(z),ie=>F.some(LL(ie,[bI])));return{dom:BL(t.ariaLabel),optComponents:[I,Y,t.shortcutContent.map(ZV),L,t.caret]}},GC=(t,s,i,u=F.none())=>t.presets==="color"?ug(t,s,u):KV(t,s,i,u),IA=(t,s)=>dn(t,"tooltipWorker").map(i=>[RL.config({lazySink:s.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:u=>({type:"submenu",item:u,overrides:{maxHeightFunction:Vm}}),mode:"follow-highlight",onShow:(u,m)=>{i(b=>{RL.setComponents(u,[ch({element:et.fromDom(b)})])})}})]).getOr([]),XV=t=>xC.DOM.encode(t),FL=(t,s)=>{const i=_h.translate(t),u=XV(i);if(s.length>0){const m=new RegExp(GV(s),"gi");return u.replace(m,b=>`<span class="tox-autocompleter-highlight">${b}</span>`)}else return u},HL=(t,s,i,u,m,b,T,I=!0)=>{const L=GC({presets:u,textContent:F.none(),htmlContent:i?t.text.map(z=>FL(z,s)):F.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:F.none(),checkMark:F.none(),caret:F.none(),value:t.value},T.providers,I,t.icon);return ow({data:Gy(t),enabled:t.enabled,getApi:we({}),onAction:z=>m(t.value,t.meta),onSetup:we(ee),triggersSubmenu:!1,itemBehaviours:IA(t.meta,T)},L,b,T.providers)},VL=(t,s)=>nt(t,i=>{switch(i.type){case"cardcontainer":return YV(i,VL(i.items,s));case"cardimage":return RA(i.src,i.classes,i.alt);case"cardtext":const m=i.name.exists(b=>_o(s.cardText.highlightOn,b))?F.from(s.cardText.matchText).getOr(""):"";return LL(FL(i.text,m),i.classes)}}),QV=(t,s,i,u)=>{const m=T=>({isEnabled:()=>!so.isDisabled(T),setEnabled:I=>{so.set(T,!I),Lt(fa(T.element,"*"),L=>{T.getSystem().getByDom(L).each(z=>{z.hasConfigured(so)&&so.set(z,!I)})})}}),b={dom:BL(t.label),optComponents:[F.some({dom:{tag:"div",classes:[GP,jP]},components:VL(t.items,u)})]};return ow({data:Gy({text:F.none(),...t}),enabled:t.enabled,getApi:m,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:F.from(u.itemBehaviours).getOr([])},b,s,i.providers)},JV=(t,s,i,u,m,b,T,I=!0)=>{const L=Y=>({setActive:ne=>{Mo.set(Y,ne)},isActive:()=>Mo.isOn(Y),isEnabled:()=>!so.isDisabled(Y),setEnabled:ne=>so.set(Y,!ne)}),z=GC({presets:i,textContent:s?t.text:F.none(),htmlContent:F.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:s?t.shortcut:F.none(),checkMark:s?F.some($L(T.icons)):F.none(),caret:F.none(),value:t.value},T,I);return dr(ow({data:Gy(t),enabled:t.enabled,getApi:L,onAction:Y=>u(t.value),onSetup:Y=>(Y.setActive(m),ee),triggersSubmenu:!1,itemBehaviours:[]},z,b,T),{toggling:{toggleClass:zP,toggleOnExecute:!1,selected:t.active,exclusive:!0}})},Zd=qT(eI(),nA()),dg=t=>({value:DA(t)}),zL=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,VI=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,jC=t=>zL.test(t)||VI.test(t),DA=t=>gp(t,"#").toUpperCase(),e8=t=>jC(t)?F.some({value:DA(t)}):F.none(),t8=t=>({value:t.value.replace(zL,(i,u,m,b)=>u+u+m+m+b+b)}),qC=t=>{const s=t8(t),i=VI.exec(s.value);return i===null?["FFFFFF","FF","FF","FF"]:i},sw=t=>{const s=t.toString(16);return(s.length===1?"0"+s:s).toUpperCase()},ZC=t=>{const s=sw(t.red)+sw(t.green)+sw(t.blue);return dg(s)},W1=Math.min,UL=Math.max,MA=Math.round,Nf=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,zI=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,qu=(t,s,i,u)=>({red:t,green:s,blue:i,alpha:u}),UI=t=>{const s=parseInt(t,10);return s.toString()===t&&s>=0&&s<=255},pr=t=>{let s,i,u;const m=(t.hue||0)%360;let b=t.saturation/100,T=t.value/100;if(b=UL(0,W1(b,1)),T=UL(0,W1(T,1)),b===0)return s=i=u=MA(255*T),qu(s,i,u,1);const I=m/60,L=T*b,z=L*(1-Math.abs(I%2-1)),Y=T-L;switch(Math.floor(I)){case 0:s=L,i=z,u=0;break;case 1:s=z,i=L,u=0;break;case 2:s=0,i=L,u=z;break;case 3:s=0,i=z,u=L;break;case 4:s=z,i=0,u=L;break;case 5:s=L,i=0,u=z;break;default:s=i=u=0}return s=MA(255*(s+Y)),i=MA(255*(i+Y)),u=MA(255*(u+Y)),qu(s,i,u,1)},fg=t=>{const s=qC(t),i=parseInt(s[1],16),u=parseInt(s[2],16),m=parseInt(s[3],16);return qu(i,u,m,1)},YC=(t,s,i,u)=>{const m=parseInt(t,10),b=parseInt(s,10),T=parseInt(i,10),I=parseFloat(u);return qu(m,b,T,I)},NA=t=>{if(t==="transparent")return F.some(qu(0,0,0,0));const s=Nf.exec(t);if(s!==null)return F.some(YC(s[1],s[2],s[3],"1"));const i=zI.exec(t);return i!==null?F.some(YC(i[1],i[2],i[3],i[4])):F.none()},kA=t=>`rgba(${t.red},${t.green},${t.blue},${t.alpha})`,PA=qu(255,0,0,1),n8=t=>{t.dispatch("SkinLoaded")},WI=(t,s)=>{t.dispatch("SkinLoadError",s)},o8=t=>{t.dispatch("ResizeEditor")},LA=(t,s)=>{t.dispatch("ResizeContent",s)},WL=(t,s)=>{t.dispatch("ScrollContent",s)},$A=(t,s)=>{t.dispatch("TextColorChange",s)},GL=(t,s)=>{t.dispatch("AfterProgressState",{state:s})},BA=(t,s)=>t.dispatch("ResolveName",{name:s.nodeName.toLowerCase(),target:s}),s8=(t,s)=>{t.dispatch("ToggleToolbarDrawer",{state:s})};var qy=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const jL={},r8=(t,s=10)=>{const i=qy.getItem(t),u=M(i)?JSON.parse(i):[],b=(z=>s-z.length<0?z.slice(0,s):z)(u),T=z=>{Ze(b,z).each(I),b.unshift(z),b.length>s&&b.pop(),qy.setItem(t,JSON.stringify(b))},I=z=>{b.splice(z,1)};return{add:T,state:()=>b.slice(0)}},qL=t=>dn(jL,t).getOrThunk(()=>{const s=`tinymce-custom-colors-${t}`,i=qy.getItem(s);if(pe(i)){const m=qy.getItem("tinymce-custom-colors");qy.setItem(s,fe(m)?m:"[]")}const u=r8(s,10);return jL[t]=u,u}),i8=t=>nt(qL(t).state(),s=>({type:"choiceitem",text:s,icon:"checkmark",value:s})),ZL=(t,s)=>{qL(t).add(s)},KC=(t,s,i)=>({hue:t,saturation:s,value:i}),GI=t=>{let s=0,i=0,u=0;const m=t.red/255,b=t.green/255,T=t.blue/255,I=Math.min(m,Math.min(b,T)),L=Math.max(m,Math.max(b,T));if(I===L)return u=I,KC(0,0,u*100);const z=m===I?b-T:T===I?m-b:T-m;return s=m===I?3:T===I?1:5,s=60*(s-z/(L-I)),i=(L-I)/L,u=L,KC(Math.round(s),Math.round(i*100),Math.round(u*100))},a8=t=>GI(fg(t)),jI=t=>ZC(pr(t)),c8=t=>e8(t).orThunk(()=>NA(t).map(ZC)).getOrThunk(()=>{const s=document.createElement("canvas");s.height=1,s.width=1;const i=s.getContext("2d");i.clearRect(0,0,s.width,s.height),i.fillStyle="#FFFFFF",i.fillStyle=t,i.fillRect(0,0,1,1);const u=i.getImageData(0,0,1,1).data,m=u[0],b=u[1],T=u[2],I=u[3];return ZC(qu(m,b,T,I))}),FA="forecolor",qI="hilitecolor",ZI=5,YL=t=>Math.max(ZI,Math.ceil(Math.sqrt(t))),KL=(t,s)=>{const i=YL(s),u=gv("color_cols")(t);return ZI===i?u:i},l8=t=>{const s=[];for(let i=0;i<t.length;i+=2)s.push({text:t[i+1],value:"#"+c8(t[i]).value,icon:"checkmark",type:"choiceitem"});return s},gv=t=>s=>s.options.get(t),HA="#000000",hg=t=>{const s=t.options.register,i=u=>ve(u,M)?{value:l8(u),valid:!0}:{valid:!1,message:"Must be an array of strings."};s("color_map",{processor:i,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),s("color_map_background",{processor:i}),s("color_map_foreground",{processor:i}),s("color_cols",{processor:"number",default:YL(rw(t,"default").length)}),s("color_cols_foreground",{processor:"number",default:KL(t,rw(t,FA).length)}),s("color_cols_background",{processor:"number",default:KL(t,rw(t,qI).length)}),s("custom_colors",{processor:"boolean",default:!0}),s("color_default_foreground",{processor:"string",default:HA}),s("color_default_background",{processor:"string",default:HA})},u8=(t,s)=>s===FA?gv("color_cols_foreground")(t):s===qI?gv("color_cols_background")(t):gv("color_cols")(t),VA=(t,s)=>{const i=u8(t,s);return i>0?i:ZI},YI=gv("custom_colors"),rw=(t,s)=>s===FA&&t.options.isSet("color_map_foreground")?gv("color_map_foreground")(t):s===qI&&t.options.isSet("color_map_background")?gv("color_map_background")(t):gv("color_map")(t),XL=gv("color_default_foreground"),QL=gv("color_default_background"),JL="rgba(0, 0, 0, 0)",d8=t=>NA(t).exists(s=>s.alpha!==0),f8=t=>Lg(t,s=>{if($s(s)){const i=Ce(s,"background-color");return jn(d8(i),i)}else return F.none()}).getOr(JL),e4=(t,s)=>{const i=et.fromDom(t.selection.getStart()),u=s==="hilitecolor"?f8(i):Ce(i,"color");return NA(u).map(m=>"#"+ZC(m).value)},h8=(t,s,i)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.apply(s,{value:i}),t.nodeChanged()})},t4=(t,s)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.remove(s,{value:null},void 0,!0),t.nodeChanged()})},n4=t=>{t.addCommand("mceApplyTextcolor",(s,i)=>{h8(t,s,i)}),t.addCommand("mceRemoveTextcolor",s=>{t4(t,s)})},KI=t=>{const s="choiceitem",i={type:s,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return t?[i,{type:s,text:"Custom color",icon:"color-picker",value:"custom"}]:[i]},XI=(t,s,i,u)=>{i==="custom"?eD(t)(b=>{b.each(T=>{ZL(s,T),t.execCommand("mceApplyTextcolor",s,T),u(T)})},e4(t,s).getOr(HA)):i==="remove"?(u(""),t.execCommand("mceRemoveTextcolor",s)):(u(i),t.execCommand("mceApplyTextcolor",s,i))},o4=(t,s,i)=>t.concat(i8(s).concat(KI(i))),s4=(t,s,i)=>u=>{u(o4(t,s,i))},s0=(t,s,i)=>{const u=s==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(u,i)},r4=(t,s)=>i=>{const u=e4(t,s);return qc(u,i.toUpperCase())},QI=(t,s,i,u,m)=>{t.ui.registry.addSplitButton(s,{tooltip:u,presets:"color",icon:s==="forecolor"?"text-color":"highlight-bg-color",select:r4(t,i),columns:VA(t,i),fetch:s4(rw(t,i),i,YI(t)),onAction:b=>{XI(t,i,m.get(),ee)},onItemAction:(b,T)=>{XI(t,i,T,I=>{m.set(I),$A(t,{name:s,color:I})})},onSetup:b=>{s0(b,s,m.get());const T=I=>{I.name===s&&s0(b,I.name,I.color)};return t.on("TextColorChange",T),()=>{t.off("TextColorChange",T)}}})},JI=(t,s,i,u,m)=>{t.ui.registry.addNestedMenuItem(s,{text:u,icon:s==="forecolor"?"text-color":"highlight-bg-color",onSetup:b=>(s0(b,s,m.get()),ee),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:r4(t,i),initData:{storageKey:i},onAction:b=>{XI(t,i,b.value,T=>{m.set(T),$A(t,{name:s,color:T})})}}]})},eD=t=>(s,i)=>{let u=!1;const m=I=>{const z=I.getData().colorpicker;u?(s(F.from(z)),I.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",z]))},b=(I,L)=>{L.name==="hex-valid"&&(u=L.value)},T={colorpicker:i};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:T,onAction:b,onSubmit:m,onClose:ee,onCancel:()=>{s(F.none())}})},tD=t=>{n4(t);const s=XL(t),i=QL(t),u=Wn(s),m=Wn(i);QI(t,"forecolor","forecolor","Text color",u),QI(t,"backcolor","hilitecolor","Background color",m),JI(t,"forecolor","forecolor","Text color",u),JI(t,"backcolor","hilitecolor","Background color",m)},XC=(t,s,i,u,m,b,T,I)=>{const L=Jh(s),Y=nD(s,i,u,m!=="color"?"normal":"color",b,T,I);return SI(t,L,Y,u,{menuType:m})},nD=(t,s,i,u,m,b,T)=>Qu(nt(t,I=>I.type==="choiceitem"?EL(I).fold(lg,L=>F.some(JV(L,i===1,u,s,b(L.value),m,T,Jh(t)))):F.none())),QC=(t,s)=>{const i=By(s);return t===1?{mode:"menu",moveOnTab:!0}:t==="auto"?{mode:"grid",selector:"."+i.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(s==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:m=>s==="color"?Ur(m.element,"[aria-checked=true]"):F.none()}},m8=(t,s)=>t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:s==="color"?".tox-swatches__row":".tox-collection__group",cell:s==="color"?`.${vI}`:`.${pA}`}},i4=(t,s)=>{const i=p8(t,s),u=s.colorinput.getColorCols(t.initData.storageKey),m="color",T={...XC(zt("menu-value"),i,I=>{t.onAction({value:I})},u,m,cg.CLOSE_ON_EXECUTE,t.select.getOr(Tt),s.shared.providers),markers:By(m),movement:QC(u,m)};return{type:"widget",data:{value:zt("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Zd.widget(Qb.sketch(T))]}},p8=(t,s)=>{const i=t.initData.allowCustomColors&&s.colorinput.hasCustomColors();return t.initData.colors.fold(()=>o4(s.colorinput.getColors(t.initData.storageKey),t.initData.storageKey,i),u=>u.concat(KI(i)))},a4=zt("cell-over"),c4=zt("cell-execute"),l4=(t,s,i)=>{const u=T=>Nn(T,a4,{row:t,col:s}),m=T=>Nn(T,c4,{row:t,col:s}),b=(T,I)=>{I.stop(),m(T)};return Hc({dom:{tag:"div",attributes:{role:"button",["aria-labelledby"]:i}},behaviours:Bt([vo("insert-table-picker-cell",[kt($d(),Qn.focus),kt(Fs(),m),kt(Lc(),b),kt(dd(),b)]),Mo.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Qn.config({onFocus:u})])})},u4=(t,s,i)=>{const u=[];for(let m=0;m<s;m++){const b=[];for(let T=0;T<i;T++)b.push(l4(m,T,t));u.push(b)}return u},d4=(t,s,i,u,m)=>{for(let b=0;b<u;b++)for(let T=0;T<m;T++)Mo.set(t[b][T],b<=s&&T<=i)},g8=t=>Ge(t,s=>nt(s,Vl)),f4=(t,s)=>$r(`${s}x${t}`),v8={inserttable:t=>{const u=zt("size-label"),m=u4(u,10,10),b=f4(0,0),T=Yo({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:u}},components:[b],behaviours:Bt([mo.config({})])});return{type:"widget",data:{value:zt("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Zd.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:g8(m).concat(T.asSpec()),behaviours:Bt([vo("insert-table-picker",[wr(I=>{mo.set(T.get(I),[b])}),Dm(a4,(I,L,z)=>{const{row:Y,col:ne}=z.event;d4(m,Y,ne,10,10),mo.set(T.get(I),[f4(Y+1,ne+1)])}),Dm(c4,(I,L,z)=>{const{row:Y,col:ne}=z.event;t.onAction({numRows:Y+1,numColumns:ne+1}),ls(I,Hh())})]),Vn.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:i4},b8=(t,s)=>dn(v8,t.fancytype).map(i=>i(t,s)),y8=(t,s,i,u=!0,m=!1)=>{const b=m?HI(i.icons):jy(i.icons),T=L=>({isEnabled:()=>!so.isDisabled(L),setEnabled:z=>so.set(L,!z),setIconFill:(z,Y)=>{Ur(L.element,`svg path[id="${z}"], rect[id="${z}"]`).each(ne=>{uo(ne,"fill",Y)})}}),I=GC({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:F.none(),ariaLabel:t.text,caret:F.some(b),checkMark:F.none(),shortcutContent:t.shortcut},i,u);return ow({data:Gy(t),getApi:T,enabled:t.enabled,onAction:ee,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},I,s,i)},_8=(t,s,i,u=!0)=>{const m=T=>({isEnabled:()=>!so.isDisabled(T),setEnabled:I=>so.set(T,!I)}),b=GC({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:F.none(),ariaLabel:t.text,caret:F.none(),checkMark:F.none(),shortcutContent:t.shortcut},i,u);return ow({data:Gy(t),getApi:m,enabled:t.enabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},b,s,i)},E8=t=>({type:"separator",dom:{tag:"div",classes:[pA,lV]},components:t.text.map($r).toArray()}),w8=(t,s,i,u=!0)=>{const m=T=>({setActive:I=>{Mo.set(T,I)},isActive:()=>Mo.isOn(T),isEnabled:()=>!so.isDisabled(T),setEnabled:I=>so.set(T,!I)}),b=GC({iconContent:t.icon,textContent:t.text,htmlContent:F.none(),ariaLabel:t.text,checkMark:F.some($L(i.icons)),caret:F.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},i,u);return dr(ow({data:Gy(t),enabled:t.enabled,getApi:m,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},b,s,i),{toggling:{toggleClass:zP,toggleOnExecute:!1,selected:t.active}})},T8=HL,h4=E8,m4=_8,C8=y8,S8=w8,x8=b8,A8=QV;var p4=Object.freeze({__proto__:null,getCoupled:(t,s,i,u)=>i.getOrCreate(t,s,u),getExistingCoupled:(t,s,i,u)=>i.getExisting(t,s,u)}),O8=[hu("others",Lr(io.value,uu()))],R8=Object.freeze({__proto__:null,init:()=>{const t={},s=(b,T)=>{if(lr(b.others).length===0)throw new Error("Cannot find any known coupled components");return dn(t,T)},i=(b,T,I)=>s(T,I).getOrThunk(()=>{const z=dn(T.others,I).getOrDie("No information found for coupled component: "+I)(b),Y=b.getSystem().build(z);return t[I]=Y,Y}),u=(b,T,I)=>s(T,I).orThunk(()=>(dn(T.others,I).getOrDie("No information found for coupled component: "+I),F.none())),m=we({});return Ca({readState:m,getExisting:u,getOrCreate:i})}});const qi=Wa({fields:O8,name:"coupling",apis:p4,state:R8}),sD=t=>{let s=F.none(),i=[];const u=z=>sD(Y=>{m(ne=>{Y(z(ne))})}),m=z=>{T()?L(z):i.push(z)},b=z=>{T()||(s=F.some(z),I(i),i=[])},T=()=>s.isSome(),I=z=>{Lt(z,L)},L=z=>{s.each(Y=>{setTimeout(()=>{z(Y)},0)})};return t(b),{get:m,map:u,isReady:T}},rD={nu:sD,pure:t=>sD(s=>{s(t)})},g4=t=>{setTimeout(()=>{throw t},0)},Zy=t=>{const s=L=>{t().then(L,g4)};return{map:L=>Zy(()=>t().then(L)),bind:L=>Zy(()=>t().then(z=>L(z).toPromise())),anonBind:L=>Zy(()=>t().then(()=>L.toPromise())),toLazy:()=>rD.nu(s),toCached:()=>{let L=null;return Zy(()=>(L===null&&(L=t()),L))},toPromise:t,get:s}},Wl={nu:t=>Zy(()=>new Promise(t)),pure:t=>Zy(()=>Promise.resolve(t))},v4=we("sink"),b4=we(If({name:v4(),overrides:we({dom:{tag:"div"},behaviours:Bt([tr.config({useFixed:Mt})]),events:er([ah(zi()),ah(ni()),ah(Lc())])})})),y4=(t,s)=>{const i=t.getHotspot(s).getOr(s),u="hotspot",m=t.getAnchorOverrides();return t.layouts.fold(()=>({type:u,hotspot:i,overrides:m}),b=>({type:u,hotspot:i,overrides:m,layouts:b}))},D8=(t,s,i)=>{const u=t.fetch;return u(i).map(s)},M8=(t,s,i,u,m,b,T)=>{const I=D8(t,s,u),L=JC(u,t);return I.map(z=>z.bind(Y=>F.from(Py.sketch({...b.menu(),uid:Uo(""),data:Y,highlightOnOpen:T,onOpenMenu:(ne,ie)=>{const de=L().getOrDie();tr.position(de,ie,{anchor:i}),Zo.decloak(m)},onOpenSubmenu:(ne,ie,de)=>{const Se=L().getOrDie();tr.position(Se,de,{anchor:{type:"submenu",item:ie}}),Zo.decloak(m)},onRepositionMenu:(ne,ie,de)=>{const Se=L().getOrDie();tr.position(Se,ie,{anchor:i}),Lt(de,Le=>{tr.position(Se,Le.triggeredMenu,{anchor:{type:"submenu",item:Le.triggeringItem}})})},onEscape:()=>(Qn.focus(u),Zo.close(m),F.some(!0))}))))},zA=(t,s,i,u,m,b,T)=>{const I=y4(t,i);return M8(t,s,I,i,u,m,T).map(z=>(z.fold(()=>{Zo.isOpen(u)&&Zo.close(u)},Y=>{Zo.cloak(u),Zo.open(u,Y),b(u)}),u))},N8=(t,s,i,u,m,b,T)=>(Zo.close(u),Wl.pure(u)),iD=(t,s,i,u,m,b)=>{const T=qi.getCoupled(i,"sandbox");return(Zo.isOpen(T)?N8:zA)(t,s,i,T,u,m,b)},k8=(t,s,i)=>{const u=ss.getCurrent(s).getOr(s),m=Er(t.element);i?oe(u.element,"min-width",m+"px"):Ds(u.element,m)},JC=(t,s)=>t.getSystem().getByUid(s.uid+"-"+v4()).map(i=>()=>io.value(i)).getOrThunk(()=>s.lazySink.fold(()=>()=>io.error(new Error("No internal sink is specified, nor could an external sink be found")),i=>()=>i(t))),UA=t=>{Zo.getState(t).each(s=>{Py.repositionMenus(s)})},eS=(t,s,i)=>{const u=F_(),m=(I,L)=>{const z=y4(t,s);u.link(s.element),t.matchWidth&&k8(z.hotspot,L,t.useMinWidth),t.onOpen(z,I,L),i!==void 0&&i.onOpen!==void 0&&i.onOpen(I,L)},b=(I,L)=>{u.unlink(s.element),i!==void 0&&i.onClose!==void 0&&i.onClose(I,L)},T=JC(s,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:u.id,role:"listbox"}},behaviours:gh.augment(t.sandboxBehaviours,[pn.config({store:{mode:"memory",initialValue:s}}),Zo.config({onOpen:m,onClose:b,isPartOf:(I,L,z)=>Lp(L,z)||Lp(s,z),getAttachPoint:()=>T().getOrDie()}),ss.config({find:I=>Zo.getState(I).bind(L=>ss.getCurrent(L))}),Ed.config({channels:{...yy({isExtraPart:Tt}),...M1({doReposition:UA})}})])}},aD=t=>{const s=qi.getCoupled(t,"sandbox");UA(s)},cD=()=>[tt("sandboxClasses",[]),gh.field("sandboxBehaviours",[ss,Ed,Zo,pn])],P8=we([Rt("dom"),Rt("fetch"),Qe("onOpen"),Br("onExecute"),tt("getHotspot",F.some),tt("getAnchorOverrides",we({})),Of(),Sc("dropdownBehaviours",[Mo,qi,Vn,Qn]),Rt("toggleClass"),tt("eventOrder",{}),qo("lazySink"),tt("matchWidth",!1),tt("useMinWidth",!1),qo("role")].concat(cD())),lD=we([vh({schema:[Cf(),tt("fakeFocus",!1)],name:"menu",defaults:t=>({onExecute:t.onExecute})}),b4()]),uD=(t,s,i,u)=>{const m=Y=>dn(t.dom,"attributes").bind(ne=>dn(ne,Y)),b=Y=>{Zo.getState(Y).each(ne=>{Py.highlightPrimary(ne)})},T=(Y,ne,ie)=>iD(t,Ue,Y,u,ne,ie),I=Y=>{T(Y,b,Od.HighlightMenuAndItem).get(ee)},L={expand:Y=>{Mo.isOn(Y)||T(Y,ee,Od.HighlightNone).get(ee)},open:Y=>{Mo.isOn(Y)||T(Y,ee,Od.HighlightMenuAndItem).get(ee)},refetch:Y=>qi.getExistingCoupled(Y,"sandbox").fold(()=>T(Y,ee,Od.HighlightMenuAndItem).map(ee),ie=>zA(t,Ue,Y,ie,u,ee,Od.HighlightMenuAndItem).map(ee)),isOpen:Mo.isOn,close:Y=>{Mo.isOn(Y)&&T(Y,ee,Od.HighlightMenuAndItem).get(ee)},repositionMenus:Y=>{Mo.isOn(Y)&&aD(Y)}},z=(Y,ne)=>(md(Y),F.some(!0));return{uid:t.uid,dom:t.dom,components:s,behaviours:Gr(t.dropdownBehaviours,[Mo.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),qi.config({others:{sandbox:Y=>eS(t,Y,{onOpen:()=>Mo.on(Y),onClose:()=>Mo.off(Y)})}}),Vn.config({mode:"special",onSpace:z,onEnter:z,onDown:(Y,ne)=>{if(Yd.isOpen(Y)){const ie=qi.getCoupled(Y,"sandbox");b(ie)}else Yd.open(Y);return F.some(!0)},onEscape:(Y,ne)=>Yd.isOpen(Y)?(Yd.close(Y),F.some(!0)):F.none()}),Qn.config({})]),events:tA(F.some(I)),eventOrder:{...t.eventOrder,[Fs()]:["disabling","toggling","alloy.base.behaviour"]},apis:L,domModification:{attributes:{"aria-haspopup":"true",...t.role.fold(()=>({}),Y=>({role:Y})),...t.dom.tag==="button"?{type:m("type").getOr("button")}:{}}}}},Yd=ji({name:"Dropdown",configFields:P8(),partFields:lD(),factory:uD,apis:{open:(t,s)=>t.open(s),refetch:(t,s)=>t.refetch(s),expand:(t,s)=>t.expand(s),close:(t,s)=>t.close(s),isOpen:(t,s)=>t.isOpen(s),repositionMenus:(t,s)=>t.repositionMenus(s)}}),_4=t=>{switch(t.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:t}}},L8=t=>{const s=pn.getValue(t),i=vA(t).map(bA);Yd.refetch(s).get(()=>{const u=qi.getCoupled(s,"sandbox");i.each(m=>vA(u).each(b=>_V(b,m)))})},$8=(t,s)=>{B8(t).each(i=>{pd(t,i.element,s.event.eventType,s.event.interactionEvent)})},B8=t=>Zo.getState(t).bind(Cs.getHighlighted).bind(Cs.getHighlighted),F8=t=>Sa(t.element,yA)?F.some(t.element):Ur(t.element,"."+yA),E4=(t,s,i)=>{LC(t).each(u=>{EV(u,i),F8(s).each(b=>{ui(b,"id").each(T=>uo(u.element,"aria-controls",T))})}),uo(i.element,"aria-selected","true")},H8=(t,s,i)=>{uo(i.element,"aria-selected","false")},V8=t=>{LC(t).each(s=>Qn.focus(s))},z8=t=>qi.getExistingCoupled(t,"sandbox").bind(vA).map(bA).map(i=>i.fetchPattern).getOr("");var WA;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(WA||(WA={}));const U8=(t,s,i,u,m)=>{const b=i.shared.providers,T=I=>m?{...I,shortcut:F.none(),icon:I.text.isSome()?F.none():I.icon}:I;switch(t.type){case"menuitem":return $V(t).fold(lg,I=>F.some(m4(T(I),s,b,u)));case"nestedmenuitem":return CL(t).fold(lg,I=>F.some(C8(T(I),s,b,u,m)));case"togglemenuitem":return FV(t).fold(lg,I=>F.some(S8(T(I),s,b,u)));case"separator":return OV(t).fold(lg,I=>F.some(h4(I)));case"fancymenuitem":return HC(t).fold(lg,I=>x8(I,i));default:return console.error("Unknown item in general menu",t),F.none()}},W8=(t,s,i,u,m,b,T)=>{const I=u===1,L=!I||Jh(t);return Qu(nt(t,z=>{switch(z.type){case"separator":return uL(z).fold(lg,Y=>F.some(h4(Y)));case"cardmenuitem":return kV(z).fold(lg,Y=>F.some(A8({...Y,onAction:ne=>{Y.onAction(ne),i(Y.value,Y.meta)}},m,b,{itemBehaviours:IA(Y.meta,b),cardText:{matchText:s,highlightOn:T}})));case"autocompleteitem":default:return dL(z).fold(lg,Y=>F.some(T8(Y,s,I,"normal",i,m,b,L)))}}))},w4=(t,s,i,u,m,b)=>{const T=Jh(s),I=Qu(nt(s,Y=>{const ne=de=>m?!jo(de,"text"):T,ie=de=>U8(de,i,u,ne(de),m);return Y.type==="nestedmenuitem"&&Y.getSubmenuItems().length<=0?ie({...Y,enabled:!1}):ie(Y)})),L=_4(b);return(m?CV:SI)(t,T,I,1,L)},dD=t=>Py.singleData(t.value,t),T4=(t,s,i,u)=>{const m=QC(s,u),b=By(u);return{data:dD({...t,movement:m,menuBehaviours:VC.unnamedEvents(s!=="auto"?[]:[wr((T,I)=>{BI(T,4,b.item).each(({numColumns:L,numRows:z})=>{Vn.setGridSize(T,z,L)})})])}),menu:{markers:By(u),fakeFocus:i===WA.ContentFocus}}},G8=(t,s)=>mA(et.fromDom(s.startContainer)).map(i=>{const u=t.createRng();return u.selectNode(i.dom),u}),vv={register:(t,s)=>{const i=Wn(!1),u=Wn(!1),m=Hc(Aa.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Bt([vo("dismissAutocompleter",[kt(Bl(),()=>z())])]),lazySink:s.getSink})),b=()=>Aa.isOpen(m),T=u.get,I=()=>{b()&&Aa.hide(m)},L=()=>Aa.getContent(m).bind(Se=>Is(Se.components(),0)),z=()=>t.execCommand("mceAutocompleterClose"),Y=Se=>{const Le=Or(Se,ct=>F.from(ct.columns)).getOr(1);return Ge(Se,ct=>{const je=ct.items;return W8(je,ct.matchText,(it,ht)=>{const vt=t.selection.getRng();G8(t.dom,vt).each(tn=>{const Ft={hide:()=>z(),reload:hn=>{I(),t.execCommand("mceAutocompleterReload",!1,{fetchOptions:hn})}};i.set(!0),ct.onAction(Ft,tn,it,ht),i.set(!1)})},Le,cg.BUBBLE_TO_SANDBOX,s,ct.highlightOn)})},ne=(Se,Le)=>{pI(et.fromDom(t.getBody())).each(ct=>{const je=Or(Se,it=>F.from(it.columns)).getOr(1);Aa.showMenuAt(m,{anchor:{type:"node",root:et.fromDom(t.getBody()),node:F.from(ct)}},T4(SI("autocompleter-value",!0,Le,je,{menuType:"normal"}),je,WA.ContentFocus,"normal"))}),L().each(Cs.highlightFirst)},ie=Se=>{const Le=Y(Se);Le.length>0?ne(Se,Le):I()};t.on("AutocompleterStart",({lookupData:Se})=>{u.set(!0),i.set(!1),ie(Se)}),t.on("AutocompleterUpdate",({lookupData:Se})=>ie(Se)),t.on("AutocompleterEnd",()=>{I(),u.set(!1),i.set(!1)});const de={cancelIfNecessary:z,isMenuOpen:b,isActive:T,isProcessingAction:i.get,getMenu:L};VP.setup(de,t)}},j8=["visible","hidden"],q8=t=>{if(nf(t)){const s=Ce(t,"overflow");return Kl(s).length>0&&!_o(j8,s)}else return!1},fD=t=>{const s=dy(t,q8);return zr(s).map(i=>({element:i,others:s.slice(1)}))},Zi=(t,s)=>Jb(t)?fD(s):F.none(),GA=t=>{const s=[...nt(t.others,ns),Ja()];return S0(ns(t.element),s)},tS=(t,s,i)=>lh(t,s,i).isSome(),C4=(t,s)=>{let i=null;return{cancel:()=>{i!==null&&(clearTimeout(i),i=null)},schedule:(...b)=>{i=setTimeout(()=>{t.apply(null,b),i=null},s)}}},S4=5,Z8=400,x4=t=>{const s=t.raw;return s.touches===void 0||s.touches.length!==1?F.none():F.some(s.touches[0])},Y8=(t,s)=>{const i=Math.abs(t.clientX-s.x),u=Math.abs(t.clientY-s.y);return i>S4||u>S4},K8=t=>{const s=ir(),i=Wn(!1),u=C4(z=>{t.triggerEvent(Ug(),z),i.set(!0)},Z8),m=z=>(x4(z).each(Y=>{u.cancel();const ne={x:Y.clientX,y:Y.clientY,target:z.target};u.schedule(z),i.set(!1),s.set(ne)}),F.none()),b=z=>(u.cancel(),x4(z).each(Y=>{s.on(ne=>{Y8(Y,ne)&&s.clear()})}),F.none()),T=z=>{u.cancel();const Y=ne=>us(ne.target,z.target);return s.get().filter(Y).map(ne=>i.get()?(z.prevent(),!1):t.triggerEvent(dd(),z))},I=Tc([{key:Ll(),value:m},{key:Bh(),value:b},{key:rh(),value:T}]);return{fireIfReady:(z,Y)=>dn(I,Y).bind(ne=>ne(z))}},X8=t=>t.raw.which===Ux[0]&&!_o(["input","textarea"],Ic(t.target))&&!tS(t.target,'[contenteditable="true"]'),Q8=(t,s)=>{const i={stopBackspace:!0,...s},u=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],m=K8(i),b=nt(u.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),de=>ll(t,de,Se=>{m.fireIfReady(Se,de).each(ct=>{ct&&Se.kill()}),i.triggerEvent(de,Se)&&Se.kill()})),T=ir(),I=ll(t,"paste",de=>{m.fireIfReady(de,"paste").each(Le=>{Le&&de.kill()}),i.triggerEvent("paste",de)&&de.kill(),T.set(setTimeout(()=>{i.triggerEvent(zg(),de)},0))}),L=ll(t,"keydown",de=>{i.triggerEvent("keydown",de)?de.kill():i.stopBackspace&&X8(de)&&de.prevent()}),z=ll(t,"focusin",de=>{i.triggerEvent("focusin",de)&&de.kill()}),Y=ir(),ne=ll(t,"focusout",de=>{i.triggerEvent("focusout",de)&&de.kill(),Y.set(setTimeout(()=>{i.triggerEvent(Vg(),de)},0))});return{unbind:()=>{Lt(b,de=>{de.unbind()}),L.unbind(),z.unbind(),ne.unbind(),I.unbind(),T.on(clearTimeout),Y.on(clearTimeout)}}},A4=(t,s)=>{const i=dn(t,"target").getOr(s);return Wn(i)},J8=(t,s)=>{const i=Wn(!1),u=Wn(!1);return{stop:()=>{i.set(!0)},cut:()=>{u.set(!0)},isStopped:i.get,isCut:u.get,event:t,setSource:s.set,getSource:s.get}},e7=t=>{const s=Wn(!1);return{stop:()=>{s.set(!0)},cut:ee,isStopped:s.get,isCut:Tt,event:t,setSource:Te("Cannot set source of a broadcasted event"),getSource:Te("Cannot get source of a broadcasted event")}},nS=mu.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),O4=(t,s,i,u,m,b)=>{const T=t(s,u),I=J8(i,m);return T.fold(()=>(b.logEventNoHandlers(s,u),nS.complete()),L=>{const z=L.descHandler;return e1(z)(I),I.isStopped()?(b.logEventStopped(s,L.element,z.purpose),nS.stopped()):I.isCut()?(b.logEventCut(s,L.element,z.purpose),nS.complete()):Kc(L.element).fold(()=>(b.logNoParent(s,L.element,z.purpose),nS.complete()),ne=>(b.logEventResponse(s,L.element,z.purpose),nS.resume(ne)))})},R4=(t,s,i,u,m,b)=>O4(t,s,i,u,m,b).fold(Mt,T=>R4(t,s,i,T,m,b),Tt),t7=(t,s,i,u,m)=>{const b=A4(i,u);return O4(t,s,i,u,b,m)},n7=(t,s,i)=>{const u=e7(s);return Lt(t,m=>{const b=m.descHandler;e1(b)(u)}),u.isStopped()},o7=(t,s,i,u)=>I4(t,s,i,i.target,u),I4=(t,s,i,u,m)=>{const b=A4(i,u);return R4(t,s,i,u,b,m)},s7=(t,s)=>({element:t,descHandler:s}),r7=(t,s)=>({id:t,descHandler:s}),i7=()=>{const t={},s=(T,I,L)=>{ii(L,(z,Y)=>{const ne=t[Y]!==void 0?t[Y]:{};ne[I]=Dp(z,T),t[Y]=ne})},i=(T,I)=>Tr(I).bind(L=>dn(T,L)).map(L=>s7(I,L));return{registerId:s,unregisterId:T=>{ii(t,(I,L)=>{jo(I,T)&&delete I[T]})},filterByType:T=>dn(t,T).map(I=>Wf(I,(L,z)=>r7(z,L))).getOr([]),find:(T,I,L)=>dn(t,I).bind(z=>Lg(L,Y=>i(z,Y),T))}},a7=()=>{const t=i7(),s={},i=z=>{const Y=z.element;return Tr(Y).getOrThunk(()=>sr("uid-",z.element))},u=(z,Y)=>{const ne=s[Y];if(ne===z)b(z);else throw new Error('The tagId "'+Y+'" is already used by: '+Ut(ne.element)+`
Cannot use it for: `+Ut(z.element)+`
The conflicting element is`+(hc(ne.element)?" ":" not ")+"already in the DOM")},m=z=>{const Y=i(z);Da(s,Y)&&u(z,Y);const ne=[z];t.registerId(ne,Y,z.events),s[Y]=z},b=z=>{Tr(z.element).each(Y=>{delete s[Y],t.unregisterId(Y)})};return{find:(z,Y,ne)=>t.find(z,Y,ne),filter:z=>t.filterByType(z),register:m,unregister:b,getById:z=>dn(s,z)}},ep=ha({name:"Container",factory:t=>{const{attributes:s,...i}=t.dom;return{uid:t.uid,dom:{tag:"div",attributes:{role:"presentation",...s},...i},components:t.components,behaviours:RE(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},configFields:[tt("components",[]),Sc("containerBehaviours",[]),tt("events",{}),tt("domModification",{}),tt("eventOrder",{})]}),hD=t=>{const s=je=>Kc(t.element).fold(Mt,it=>us(je,it)),i=a7(),u=(je,it)=>i.find(s,je,it),m=Q8(t.element,{triggerEvent:(je,it)=>Qg(je,it.target,ht=>o7(u,je,it,ht))}),b={debugInfo:we("real"),triggerEvent:(je,it,ht)=>{Qg(je,it,vt=>I4(u,je,ht,it,vt))},triggerFocus:(je,it)=>{Tr(je).fold(()=>{zl(je)},ht=>{Qg($c(),je,vt=>(t7(u,$c(),{originator:it,kill:ee,prevent:ee,target:je},je,vt),!1))})},triggerEscape:(je,it)=>{b.triggerEvent("keydown",je.element,it.event)},getByUid:je=>Le(je),getByDom:je=>ct(je),build:Hc,buildOrPatch:pb,addToGui:je=>{L(je)},removeFromGui:je=>{z(je)},addToWorld:je=>{T(je)},removeFromWorld:je=>{I(je)},broadcast:je=>{ie(je)},broadcastOn:(je,it)=>{de(je,it)},broadcastEvent:(je,it)=>{Se(je,it)},isConnected:Mt},T=je=>{je.connect(b),$i(je.element)||(i.register(je),Lt(je.components(),T),b.triggerEvent(Am(),je.element,{target:je.element}))},I=je=>{$i(je.element)||(Lt(je.components(),I),i.unregister(je)),je.disconnect()},L=je=>{Wm(t,je)},z=je=>{Gm(je)},Y=()=>{m.unbind(),xt(t.element)},ne=je=>{const it=i.filter(pu());Lt(it,ht=>{const vt=ht.descHandler;e1(vt)(je)})},ie=je=>{ne({universal:!0,data:je})},de=(je,it)=>{ne({universal:!1,channels:je,data:it})},Se=(je,it)=>{const ht=i.filter(je);return n7(ht,it)},Le=je=>i.getById(je).fold(()=>io.error(new Error('Could not find component with uid: "'+je+'" in system.')),io.value),ct=je=>{const it=Tr(je).getOr("not found");return Le(it)};return T(t),{root:t,element:t.element,destroy:Y,add:L,remove:z,getByUid:Le,getByDom:ct,addToWorld:T,removeFromWorld:I,broadcast:ie,broadcastOn:de,broadcastEvent:Se}},c7=(t,s)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:nt(t.items,s.interpreter)}),l7=we([tt("prefix","form-field"),Sc("fieldBehaviours",[ss,pn])]),D4=we([If({schema:[Rt("dom")],name:"label"}),If({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[Rt("text")],name:"aria-descriptor"}),ic({factory:{sketch:t=>{const s=Lh(t,["factory"]);return t.factory.sketch(s)}},schema:[Rt("factory")],name:"field"})]),u7=(t,s,i,u)=>{const m=Gr(t.fieldBehaviours,[ss.config({find:I=>Cr(I,t,"field")}),pn.config({store:{mode:"manual",getValue:I=>ss.getCurrent(I).bind(pn.getValue),setValue:(I,L)=>{ss.getCurrent(I).each(z=>{pn.setValue(z,L)})}}})]),b=er([wr((I,L)=>{const z=XT(I,t,["label","field","aria-descriptor"]);z.field().each(Y=>{const ne=zt(t.prefix);z.label().each(ie=>{uo(ie.element,"for",ne),uo(Y.element,"id",ne)}),z["aria-descriptor"]().each(ie=>{const de=zt(t.prefix);uo(ie.element,"id",de),uo(Y.element,"aria-describedby",de)})})})]),T={getField:I=>Cr(I,t,"field"),getLabel:I=>Cr(I,t,"label")};return{uid:t.uid,dom:t.dom,components:s,behaviours:m,events:b,apis:T}},Ms=ji({name:"FormField",configFields:l7(),partFields:D4(),factory:u7,apis:{getField:(t,s)=>t.getField(s),getLabel:(t,s)=>t.getLabel(s)}});var M4=Object.freeze({__proto__:null,exhibit:(t,s)=>wl({attributes:Tc([{key:s.tabAttr,value:"true"}])})}),d7=[tt("tabAttr","data-alloy-tabstop")];const Ni=Wa({fields:d7,name:"tabstopping",active:M4});var f7=tinymce.util.Tools.resolve("tinymce.html.Entities");const oS=(t,s,i,u)=>{const m=h7(t,s,i,u);return Ms.sketch(m)},N4=(t,s)=>oS(t,s,[],[]),h7=(t,s,i,u)=>({dom:P4(i),components:t.toArray().concat([s]),fieldBehaviours:Bt(u)}),k4=()=>P4([]),P4=t=>({tag:"div",classes:["tox-form__group"].concat(t)}),G1=(t,s)=>Ms.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[$r(s.translate(t))]}),kf=zt("form-component-change"),sS=zt("form-close"),Yy=zt("form-cancel"),bv=zt("form-action"),rS=zt("form-submit"),mD=zt("form-block"),pD=zt("form-unblock"),L4=zt("form-tabchange"),$4=zt("form-resize"),m7=(t,s,i)=>{const u=t.label.map(ne=>G1(ne,s)),m=ne=>(ie,de)=>{lh(de.event.target,"[data-collection-item-value]").each(Se=>{ne(ie,de,Se,Fi(Se,"data-collection-item-value"))})},b=(ne,ie)=>{const de=nt(ie,ct=>{const je=_h.translate(ct.text),it=t.columns===1?`<div class="tox-collection__item-label">${je}</div>`:"",ht=`<div class="tox-collection__item-icon">${ct.icon}</div>`,vt={_:" "," - ":" ","-":" "},tn=je.replace(/\_| \- |\-/g,hn=>vt[hn]);return`<div class="tox-collection__item${s.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${f7.encodeAllRaw(ct.value)}" title="${tn}" aria-label="${tn}">${ht}${it}</div>`}),Se=t.columns!=="auto"&&t.columns>1?Vo(de,t.columns):[de],Le=nt(Se,ct=>`<div class="tox-collection__group">${ct.join("")}</div>`);Z(ne.element,Le.join(""))},T=m((ne,ie,de,Se)=>{ie.stop(),s.isDisabled()||Nn(ne,bv,{name:t.name,value:Se})}),I=[kt($d(),m((ne,ie,de)=>{zl(de)})),kt(Lc(),T),kt(dd(),T),kt(mf(),m((ne,ie,de)=>{Ur(ne.element,"."+PC).each(Se=>{Zs(Se,PC)}),ks(de,PC)})),kt(nl(),m(ne=>{Ur(ne.element,"."+PC).each(ie=>{Zs(ie,PC)})})),gu(m((ne,ie,de,Se)=>{Nn(ne,bv,{name:t.name,value:Se})}))],L=(ne,ie)=>nt(fa(ne.element,".tox-collection__item"),ie),z=Ms.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Ue},behaviours:Bt([so.config({disabled:s.isDisabled,onDisabled:ne=>{L(ne,ie=>{ks(ie,"tox-collection__item--state-disabled"),uo(ie,"aria-disabled",!0)})},onEnabled:ne=>{L(ne,ie=>{Zs(ie,"tox-collection__item--state-disabled"),x(ie,"aria-disabled")})}}),xc(),mo.config({}),pn.config({store:{mode:"memory",initialValue:i.getOr([])},onSetValue:(ne,ie)=>{b(ne,ie),t.columns==="auto"&&BI(ne,5,"tox-collection__item").each(({numRows:de,numColumns:Se})=>{Vn.setGridSize(ne,de,Se)}),ls(ne,$4)}}),Ni.config({}),Vn.config(m8(t.columns,"normal")),vo("collection-events",I)]),eventOrder:{[Fs()]:["disabling","alloy.base.behaviour","collection-events"]}});return oS(u,z,["tox-form__group--collection"],[])},p7=["input","textarea"],B4=t=>{const s=Ic(t);return _o(p7,s)},gD=(t,s)=>{const i=s.getRoot(t).getOr(t.element);Zs(i,s.invalidClass),s.notify.each(u=>{B4(t.element)&&uo(t.element,"aria-invalid",!1),u.getContainer(t).each(m=>{Z(m,u.validHtml)}),u.onValid(t)})},F4=(t,s,i,u)=>{const m=s.getRoot(t).getOr(t.element);ks(m,s.invalidClass),s.notify.each(b=>{B4(t.element)&&uo(t.element,"aria-invalid",!0),b.getContainer(t).each(T=>{Z(T,u)}),b.onInvalid(t,u)})},H4=(t,s,i)=>s.validator.fold(()=>Wl.pure(io.value(!0)),u=>u.validate(t)),vD=(t,s,i)=>(s.notify.each(u=>{u.onValidate(t)}),H4(t,s).map(u=>t.getSystem().isConnected()?u.fold(m=>(F4(t,s,i,m),io.error(m)),m=>(gD(t,s),io.value(m))):io.error("No longer in system")));var g7=Object.freeze({__proto__:null,markValid:gD,markInvalid:F4,query:H4,run:vD,isInvalid:(t,s)=>{const i=s.getRoot(t).getOr(t.element);return Sa(i,s.invalidClass)}}),v7=Object.freeze({__proto__:null,events:(t,s)=>t.validator.map(i=>er([kt(i.onEvent,u=>{vD(u,t,s).get(Ue)})].concat(i.validateOnLoad?[wr(u=>{vD(u,t,s).get(ee)})]:[]))).getOr({})}),b7=[Rt("invalidClass"),tt("getRoot",F.none),oc("notify",[tt("aria","alert"),tt("getContainer",F.none),tt("validHtml",""),Qe("onValid"),Qe("onInvalid"),Qe("onValidate")]),oc("validator",[Rt("validate"),tt("onEvent","input"),tt("validateOnLoad",!0)])];const yv=Wa({fields:b7,name:"invalidating",active:v7,apis:g7,extra:{validation:t=>s=>{const i=pn.getValue(s);return Wl.pure(t(i))}}});var E7=Object.freeze({__proto__:null,events:()=>er([Bu(fb(),Mt)]),exhibit:()=>wl({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const iS=Wa({fields:[],name:"unselecting",active:E7}),z4=(t,s)=>Yd.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:Bt([Jm.button(s.providers.isDisabled),xc(),iS.config({}),Ni.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:s.getSink,fetch:i=>Wl.nu(u=>t.fetch(u)).map(u=>F.from(dD(dr(XC(zt("menu-value"),u,m=>{t.onItemAction(i,m)},t.columns,t.presets,cg.CLOSE_ON_EXECUTE,Tt,s.providers),{movement:QC(t.columns,t.presets)})))),parts:{menu:gA(!1,1,t.presets)}}),U4=zt("color-input-change"),W4=zt("color-swatch-change"),G4=zt("color-picker-cancel"),w7=(t,s,i,u)=>{const m=Ms.parts.field({factory:Fy,inputClasses:["tox-textfield"],data:u,onSetValue:z=>yv.run(z).get(ee),inputBehaviours:Bt([so.config({disabled:s.providers.isDisabled}),xc(),Ni.config({}),yv.config({invalidClass:"tox-textbox-field-invalid",getRoot:z=>ml(z.element),notify:{onValid:z=>{const Y=pn.getValue(z);Nn(z,U4,{color:Y})}},validator:{validateOnLoad:!1,validate:z=>{const Y=pn.getValue(z);if(Y.length===0)return Wl.pure(io.value(!0));{const ne=et.fromTag("span");oe(ne,"background-color",Y);const ie=ot(ne,"background-color").fold(()=>io.error("blah"),de=>io.value(Y));return Wl.pure(ie)}}}})]),selectOnFocus:!1}),b=t.label.map(z=>G1(z,s.providers)),T=(z,Y)=>{Nn(z,W4,{value:Y})},I=(z,Y)=>{L.getOpt(z).each(ne=>{Y==="custom"?i.colorPicker(ie=>{ie.fold(()=>ls(ne,G4),de=>{T(ne,de),ZL(t.storageKey,de)})},"#ffffff"):Y==="remove"?T(ne,""):T(ne,Y)})},L=Yo(z4({dom:{tag:"span",attributes:{"aria-label":s.providers.translate("Color swatch")}},layouts:{onRtl:()=>[la,Ua,sc],onLtr:()=>[Ua,la,sc]},components:[],fetch:s4(i.getColors(t.storageKey),t.storageKey,i.hasCustomColors()),columns:i.getColorCols(t.storageKey),presets:"color",onItemAction:I},s));return Ms.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:b.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[m,L.asSpec()]}]),fieldBehaviours:Bt([vo("form-field-events",[kt(U4,(z,Y)=>{L.getOpt(z).each(ne=>{oe(ne.element,"background-color",Y.event.color)}),Nn(z,kf,{name:t.name})}),kt(W4,(z,Y)=>{Ms.getField(z).each(ne=>{pn.setValue(ne,Y.event.value),ss.getCurrent(z).each(Qn.focus)})}),kt(G4,(z,Y)=>{Ms.getField(z).each(ne=>{ss.getCurrent(z).each(Qn.focus)})})])])})},T7=If({schema:[Rt("dom")],name:"label"}),r0=t=>If({name:""+t+"-edge",overrides:s=>s.model.manager.edgeActions[t].fold(()=>({}),u=>({events:er([qg(Ll(),(m,b,T)=>u(m,T),[s]),qg(ni(),(m,b,T)=>u(m,T),[s]),qg(El(),(m,b,T)=>{T.mouseIsDown.get()&&u(m,T)},[s])])}))}),jA=r0("top-left"),C7=r0("top"),qA=r0("top-right"),S7=r0("right"),x7=r0("bottom-right"),A7=r0("bottom"),O7=r0("bottom-left"),iK=r0("left"),ZA=ic({name:"thumb",defaults:we({dom:{styles:{position:"absolute"}}}),overrides:t=>({events:er([bf(Ll(),t,"spectrum"),bf(Bh(),t,"spectrum"),bf(rh(),t,"spectrum"),bf(ni(),t,"spectrum"),bf(El(),t,"spectrum"),bf(Ld(),t,"spectrum")])})}),iw=ic({schema:[Ts("mouseIsDown",()=>Wn(!1))],name:"spectrum",overrides:t=>{const i=t.model.manager,u=(m,b)=>i.getValueFromEvent(b).map(T=>i.setValueFrom(m,t,T));return{behaviours:Bt([Vn.config({mode:"special",onLeft:m=>i.onLeft(m,t),onRight:m=>i.onRight(m,t),onUp:m=>i.onUp(m,t),onDown:m=>i.onDown(m,t)}),Qn.config({})]),events:er([kt(Ll(),u),kt(Bh(),u),kt(ni(),u),kt(El(),(m,b)=>{t.mouseIsDown.get()&&u(m,b)})])}}});var j4=[T7,iK,S7,C7,A7,jA,qA,O7,x7,ZA,iw];const aS=we("slider.change.value"),I7=t=>t.type.indexOf("touch")!==-1,bD=t=>{const s=t.event.raw;if(I7(s)){const i=s;return i.touches!==void 0&&i.touches.length===1?F.some(i.touches[0]).map(u=>Zn(u.clientX,u.clientY)):F.none()}else{const i=s;return i.clientX!==void 0?F.some(i).map(u=>Zn(u.clientX,u.clientY)):F.none()}},D7="top",M7="right",N7="bottom",k7="left",Ky=t=>t.model.minX,Xy=t=>t.model.minY,YA=t=>t.model.minX-1,KA=t=>t.model.minY-1,i0=t=>t.model.maxX,tp=t=>t.model.maxY,_v=t=>t.model.maxX+1,XA=t=>t.model.maxY+1,yD=(t,s,i)=>s(t)-i(t),QA=t=>yD(t,i0,Ky),aw=t=>yD(t,tp,Xy),q4=t=>QA(t)/2,cw=t=>aw(t)/2,Ev=t=>t.stepSize,Z4=t=>t.snapToGrid,Y4=t=>t.snapStart,K4=t=>t.rounded,JA=(t,s)=>t[s+"-edge"]!==void 0,X4=t=>JA(t,k7),Q4=t=>JA(t,M7),cS=t=>JA(t,D7),J4=t=>JA(t,N7),j1=t=>t.model.value.get(),a0=(t,s)=>({x:t,y:s}),em=(t,s)=>{Nn(t,aS(),{value:s})},P7=(t,s)=>{em(t,a0(YA(s),KA(s)))},L7=(t,s)=>{em(t,KA(s))},$7=(t,s)=>{em(t,a0(q4(s),KA(s)))},e3=(t,s)=>{em(t,a0(_v(s),KA(s)))},B7=(t,s)=>{em(t,_v(s))},F7=(t,s)=>{em(t,a0(_v(s),cw(s)))},H7=(t,s)=>{em(t,a0(_v(s),XA(s)))},V7=(t,s)=>{em(t,XA(s))},z7=(t,s)=>{em(t,a0(q4(s),XA(s)))},t3=(t,s)=>{em(t,a0(YA(s),XA(s)))},n3=(t,s)=>{em(t,YA(s))},U7=(t,s)=>{em(t,a0(YA(s),cw(s)))},_D=(t,s,i,u)=>t<s?t:t>i?i:t===s?s-1:Math.max(s,t-u),ED=(t,s,i,u)=>t>i?t:t<s?s:t===i?i+1:Math.min(i,t+u),wD=(t,s,i)=>Math.max(s,Math.min(i,t)),lw=(t,s,i,u,m)=>m.fold(()=>{const b=t-s,T=Math.round(b/u)*u;return wD(s+T,s-1,i+1)},b=>{const T=(t-b)%u,I=Math.round(T/u),L=Math.floor((t-b)/u),z=Math.floor((i-b)/u),Y=Math.min(z,L+I),ne=b+Y*u;return Math.max(b,ne)}),W7=(t,s,i)=>Math.min(i,Math.max(t,s))-s,o3=t=>{const{min:s,max:i,range:u,value:m,step:b,snap:T,snapStart:I,rounded:L,hasMinEdge:z,hasMaxEdge:Y,minBound:ne,maxBound:ie,screenRange:de}=t,Se=z?s-1:s,Le=Y?i+1:i;if(m<ne)return Se;if(m>ie)return Le;{const ct=W7(m,ne,ie),je=wD(ct/de*u+s,Se,Le);return T&&je>=s&&je<=i?lw(je,s,i,b,I):L?Math.round(je):je}},s3=t=>{const{min:s,max:i,range:u,value:m,hasMinEdge:b,hasMaxEdge:T,maxBound:I,maxOffset:L,centerMinEdge:z,centerMaxEdge:Y}=t;return m<s?b?0:z:m>i?T?I:Y:(m-s)/u*L},uw="top",wh="right",e2="bottom",t2="left",G7="width",j7="height",wv=t=>t.element.dom.getBoundingClientRect(),np=(t,s)=>t[s],lS=t=>{const s=wv(t);return np(s,t2)},TD=t=>{const s=wv(t);return np(s,wh)},n2=t=>{const s=wv(t);return np(s,uw)},r3=t=>{const s=wv(t);return np(s,e2)},CD=t=>{const s=wv(t);return np(s,G7)},i3=t=>{const s=wv(t);return np(s,j7)},SD=(t,s,i)=>(t+s)/2-i,xD=(t,s)=>{const i=wv(t),u=wv(s),m=np(i,t2),b=np(i,wh),T=np(u,t2);return SD(m,b,T)},AD=(t,s)=>{const i=wv(t),u=wv(s),m=np(i,uw),b=np(i,e2),T=np(u,uw);return SD(m,b,T)},o2=(t,s)=>{Nn(t,aS(),{value:s})},OD=(t,s,i)=>{const u={min:Ky(s),max:i0(s),range:QA(s),value:i,step:Ev(s),snap:Z4(s),snapStart:Y4(s),rounded:K4(s),hasMinEdge:X4(s),hasMaxEdge:Q4(s),minBound:lS(t),maxBound:TD(t),screenRange:CD(t)};return o3(u)},q7=(t,s,i)=>{const u=OD(t,s,i);return o2(t,u),u},Z7=(t,s)=>{const i=Ky(s);o2(t,i)},Y7=(t,s)=>{const i=i0(s);o2(t,i)},K7=(t,s,i)=>{const m=(t>0?ED:_D)(j1(i),Ky(i),i0(i),Ev(i));return o2(s,m),F.some(m)},s2=t=>(s,i)=>K7(t,s,i).map(Mt),X7=t=>bD(t).map(i=>i.left),a3=(t,s,i,u,m)=>{const T=CD(t),I=u.bind(Y=>F.some(xD(Y,t))).getOr(0),L=m.bind(Y=>F.some(xD(Y,t))).getOr(T),z={min:Ky(s),max:i0(s),range:QA(s),value:i,hasMinEdge:X4(s),hasMaxEdge:Q4(s),minBound:lS(t),minOffset:0,maxBound:TD(t),maxOffset:T,centerMinEdge:I,centerMaxEdge:L};return s3(z)},RD=(t,s,i,u,m,b)=>{const T=a3(s,b,i,u,m);return lS(s)-lS(t)+T},Q7=(t,s,i,u)=>{const m=j1(i),b=RD(t,u.getSpectrum(t),m,u.getLeftEdge(t),u.getRightEdge(t),i),T=Er(s.element)/2;oe(s.element,"left",b-T+"px")},J7=s2(-1),ez=s2(1),tz=F.none,nz=F.none,oz={"top-left":F.none(),top:F.none(),"top-right":F.none(),right:F.some(B7),"bottom-right":F.none(),bottom:F.none(),"bottom-left":F.none(),left:F.some(n3)};var c3=Object.freeze({__proto__:null,setValueFrom:q7,setToMin:Z7,setToMax:Y7,findValueOfOffset:OD,getValueFromEvent:X7,findPositionOfValue:RD,setPositionFromValue:Q7,onLeft:J7,onRight:ez,onUp:tz,onDown:nz,edgeActions:oz});const uS=(t,s)=>{Nn(t,aS(),{value:s})},ID=(t,s,i)=>{const u={min:Xy(s),max:tp(s),range:aw(s),value:i,step:Ev(s),snap:Z4(s),snapStart:Y4(s),rounded:K4(s),hasMinEdge:cS(s),hasMaxEdge:J4(s),minBound:n2(t),maxBound:r3(t),screenRange:i3(t)};return o3(u)},sz=(t,s,i)=>{const u=ID(t,s,i);return uS(t,u),u},rz=(t,s)=>{const i=Xy(s);uS(t,i)},iz=(t,s)=>{const i=tp(s);uS(t,i)},az=(t,s,i)=>{const m=(t>0?ED:_D)(j1(i),Xy(i),tp(i),Ev(i));return uS(s,m),F.some(m)},DD=t=>(s,i)=>az(t,s,i).map(Mt),l3=t=>bD(t).map(i=>i.top),u3=(t,s,i,u,m)=>{const T=i3(t),I=u.bind(Y=>F.some(AD(Y,t))).getOr(0),L=m.bind(Y=>F.some(AD(Y,t))).getOr(T),z={min:Xy(s),max:tp(s),range:aw(s),value:i,hasMinEdge:cS(s),hasMaxEdge:J4(s),minBound:n2(t),minOffset:0,maxBound:r3(t),maxOffset:T,centerMinEdge:I,centerMaxEdge:L};return s3(z)},dS=(t,s,i,u,m,b)=>{const T=u3(s,b,i,u,m);return n2(s)-n2(t)+T},cz=(t,s,i,u)=>{const m=j1(i),b=dS(t,u.getSpectrum(t),m,u.getTopEdge(t),u.getBottomEdge(t),i),T=xn(s.element)/2;oe(s.element,"top",b-T+"px")},d3=F.none,lz=F.none,uz=DD(-1),dz=DD(1),fz={"top-left":F.none(),top:F.some(L7),"top-right":F.none(),right:F.none(),"bottom-right":F.none(),bottom:F.some(V7),"bottom-left":F.none(),left:F.none()};var MD=Object.freeze({__proto__:null,setValueFrom:sz,setToMin:rz,setToMax:iz,findValueOfOffset:ID,getValueFromEvent:l3,findPositionOfValue:dS,setPositionFromValue:cz,onLeft:d3,onRight:lz,onUp:uz,onDown:dz,edgeActions:fz});const op=(t,s)=>{Nn(t,aS(),{value:s})},r2=(t,s)=>({x:t,y:s}),fS=(t,s,i)=>{const u=OD(t,s,i.left),m=ID(t,s,i.top),b=r2(u,m);return op(t,b),b},hz=(t,s,i,u)=>{const m=t>0?ED:_D,b=s?j1(u).x:m(j1(u).x,Ky(u),i0(u),Ev(u)),T=s?m(j1(u).y,Xy(u),tp(u),Ev(u)):j1(u).y;return op(i,r2(b,T)),F.some(b)},dw=(t,s)=>(i,u)=>hz(t,s,i,u).map(Mt),mz=(t,s)=>{const i=Ky(s),u=Xy(s);op(t,r2(i,u))},pz=(t,s)=>{const i=i0(s),u=tp(s);op(t,r2(i,u))},gz=t=>bD(t),f3=(t,s,i,u)=>{const m=j1(i),b=RD(t,u.getSpectrum(t),m.x,u.getLeftEdge(t),u.getRightEdge(t),i),T=dS(t,u.getSpectrum(t),m.y,u.getTopEdge(t),u.getBottomEdge(t),i),I=Er(s.element)/2,L=xn(s.element)/2;oe(s.element,"left",b-I+"px"),oe(s.element,"top",T-L+"px")},vz=dw(-1,!1),ND=dw(1,!1),kD=dw(-1,!0),PD=dw(1,!0),bz={"top-left":F.some(P7),top:F.some($7),"top-right":F.some(e3),right:F.some(F7),"bottom-right":F.some(H7),bottom:F.some(z7),"bottom-left":F.some(t3),left:F.some(U7)};var Th=Object.freeze({__proto__:null,setValueFrom:fS,setToMin:mz,setToMax:pz,getValueFromEvent:gz,setPositionFromValue:f3,onLeft:vz,onRight:ND,onUp:kD,onDown:PD,edgeActions:bz});const yz=[tt("stepSize",1),tt("onChange",ee),tt("onChoose",ee),tt("onInit",ee),tt("onDragStart",ee),tt("onDragEnd",ee),tt("snapToGrid",!1),tt("rounded",!0),qo("snapStart"),hu("model",di("mode",{x:[tt("minX",0),tt("maxX",100),Ts("value",t=>Wn(t.mode.minX)),Rt("getInitialValue"),mr("manager",c3)],y:[tt("minY",0),tt("maxY",100),Ts("value",t=>Wn(t.mode.minY)),Rt("getInitialValue"),mr("manager",MD)],xy:[tt("minX",0),tt("maxX",100),tt("minY",0),tt("maxY",100),Ts("value",t=>Wn({x:t.mode.minX,y:t.mode.minY})),Rt("getInitialValue"),mr("manager",Th)]})),Sc("sliderBehaviours",[Vn,pn]),Ts("mouseIsDown",()=>Wn(!1))],tm=ji({name:"Slider",configFields:yz,partFields:j4,factory:(t,s,i,u)=>{const m=vt=>Ym(vt,t,"thumb"),b=vt=>Ym(vt,t,"spectrum"),T=vt=>Cr(vt,t,"left-edge"),I=vt=>Cr(vt,t,"right-edge"),L=vt=>Cr(vt,t,"top-edge"),z=vt=>Cr(vt,t,"bottom-edge"),Y=t.model,ne=Y.manager,ie=(vt,tn)=>{ne.setPositionFromValue(vt,tn,t,{getLeftEdge:T,getRightEdge:I,getTopEdge:L,getBottomEdge:z,getSpectrum:b})},de=(vt,tn)=>{Y.value.set(tn);const Ft=m(vt);ie(vt,Ft)},Se=(vt,tn)=>{de(vt,tn);const Ft=m(vt);return t.onChange(vt,Ft,tn),F.some(!0)},Le=vt=>{ne.setToMin(vt,t)},ct=vt=>{ne.setToMax(vt,t)},je=vt=>{const tn=()=>{Cr(vt,t,"thumb").each(hn=>{const In=Y.value.get();t.onChoose(vt,hn,In)})},Ft=t.mouseIsDown.get();t.mouseIsDown.set(!1),Ft&&tn()},it=(vt,tn)=>{tn.stop(),t.mouseIsDown.set(!0),t.onDragStart(vt,m(vt))},ht=(vt,tn)=>{tn.stop(),t.onDragEnd(vt,m(vt)),je(vt)};return{uid:t.uid,dom:t.dom,components:s,behaviours:Gr(t.sliderBehaviours,[Vn.config({mode:"special",focusIn:vt=>Cr(vt,t,"spectrum").map(Vn.focusIn).map(Mt)}),pn.config({store:{mode:"manual",getValue:vt=>Y.value.get(),setValue:de}}),Ed.config({channels:{[DT()]:{onReceive:je}}})]),events:er([kt(aS(),(vt,tn)=>{Se(vt,tn.event.value)}),wr((vt,tn)=>{const Ft=Y.getInitialValue();Y.value.set(Ft);const hn=m(vt);ie(vt,hn);const In=b(vt);t.onInit(vt,hn,In,Y.value.get())}),kt(Ll(),it),kt(rh(),ht),kt(ni(),it),kt(Ld(),ht)]),apis:{resetToMin:Le,resetToMax:ct,setValue:de,refresh:ie},domModification:{styles:{position:"relative"}}}},apis:{setValue:(t,s,i)=>{t.setValue(s,i)},resetToMin:(t,s)=>{t.resetToMin(s)},resetToMax:(t,s)=>{t.resetToMax(s)},refresh:(t,s)=>{t.refresh(s)}}}),i2=zt("rgb-hex-update"),h3=zt("slider-update"),m3=zt("palette-update"),_z=(t,s)=>{const i=tm.parts.spectrum({dom:{tag:"div",classes:[s("hue-slider-spectrum")],attributes:{role:"presentation"}}}),u=tm.parts.thumb({dom:{tag:"div",classes:[s("hue-slider-thumb")],attributes:{role:"presentation"}}});return tm.sketch({dom:{tag:"div",classes:[s("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:we(0)},components:[i,u],sliderBehaviours:Bt([Qn.config({})]),onChange:(m,b,T)=>{Nn(m,h3,{value:T})}})},p3="form",Ez=[Sc("formBehaviours",[pn])],g3=t=>"<alloy.field."+t+">",wz=t=>{const s=(()=>{const b=[];return{field:(I,L)=>(b.push(I),ZT(p3,g3(I),L)),record:we(b)}})(),i=t(s),u=s.record(),m=nt(u,b=>ic({name:b,pname:g3(b)}));return sC(p3,Ez,m,Tz,i)},v3=(t,s)=>t.fold(()=>io.error(s),io.value),Tz=(t,s)=>({uid:t.uid,dom:t.dom,components:s,behaviours:Gr(t.formBehaviours,[pn.config({store:{mode:"manual",getValue:i=>{const u=QT(i,t);return Ls(u,(m,b)=>m().bind(T=>{const I=ss.getCurrent(T);return v3(I,new Error(`Cannot find a current component to extract the value from for form part '${b}': `+Ut(T.element)))}).map(pn.getValue))},setValue:(i,u)=>{ii(u,(m,b)=>{Cr(i,t,b).each(T=>{ss.getCurrent(T).each(I=>{pn.setValue(I,m)})})})}}})]),apis:{getField:(i,u)=>Cr(i,t,u).bind(ss.getCurrent)}}),fw={getField:Fc((t,s,i)=>t.getField(s,i)),sketch:wz},b3=zt("valid-input"),LD=zt("invalid-input"),a2=zt("validating-input"),$D="colorcustom.rgb.",BD=(t,s,i,u)=>{const m=(ie,de)=>yv.config({invalidClass:s("invalid"),notify:{onValidate:Se=>{Nn(Se,a2,{type:ie})},onValid:Se=>{Nn(Se,b3,{type:ie,value:pn.getValue(Se)})},onInvalid:Se=>{Nn(Se,LD,{type:ie,value:pn.getValue(Se)})}},validator:{validate:Se=>{const Le=pn.getValue(Se),ct=de(Le)?io.value(!0):io.error(t("aria.input.invalid"));return Wl.pure(ct)},validateOnLoad:!1}}),b=(ie,de,Se,Le,ct)=>{const je=t($D+"range"),it=Ms.parts.label({dom:{tag:"label",attributes:{"aria-label":Le}},components:[$r(Se)]}),ht=Ms.parts.field({data:ct,factory:Fy,inputAttributes:{type:"text",...de==="hex"?{"aria-live":"polite"}:{}},inputClasses:[s("textfield")],inputBehaviours:Bt([m(de,ie),Ni.config({})]),onSetValue:hn=>{yv.isInvalid(hn)&&yv.run(hn).get(ee)}}),vt=[it,ht],tn=de!=="hex"?[Ms.parts["aria-descriptor"]({text:je})]:[],Ft=vt.concat(tn);return{dom:{tag:"div",attributes:{role:"presentation"}},components:Ft}},T=(ie,de)=>{const Se=ZC(de);return fw.getField(ie,"hex").each(Le=>{Qn.isFocused(Le)||pn.setValue(ie,{hex:Se.value})}),Se},I=(ie,de)=>{const Se=de.red,Le=de.green,ct=de.blue;pn.setValue(ie,{red:Se,green:Le,blue:ct})},L=Yo({dom:{tag:"div",classes:[s("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),z=(ie,de)=>{L.getOpt(ie).each(Se=>{oe(Se.element,"background-color","#"+de.value)})};return ha({factory:()=>{const ie={red:Wn(F.some(255)),green:Wn(F.some(255)),blue:Wn(F.some(255)),hex:Wn(F.some("ffffff"))},de=(co,$o)=>{const to=fg($o);I(co,to),je(to)},Se=co=>ie[co].get(),Le=(co,$o)=>{ie[co].set($o)},ct=()=>Se("red").bind(co=>Se("green").bind($o=>Se("blue").map(to=>qu(co,$o,to,1)))),je=co=>{const $o=co.red,to=co.green,Ps=co.blue;Le("red",F.some($o)),Le("green",F.some(to)),Le("blue",F.some(Ps))},it=(co,$o)=>{const to=$o.event;to.type!=="hex"?Le(to.type,F.none()):u(co)},ht=(co,$o)=>{i(co);const to=dg($o);Le("hex",F.some(to.value));const Ps=fg(to);I(co,Ps),je(Ps),Nn(co,i2,{hex:to}),z(co,to)},vt=(co,$o,to)=>{const Ps=parseInt(to,10);Le($o,F.some(Ps)),ct().each(Zt=>{const Rn=T(co,Zt);Nn(co,i2,{hex:Rn}),z(co,Rn)})},tn=co=>co.type==="hex",Ft=(co,$o)=>{const to=$o.event;tn(to)?ht(co,to.value):vt(co,to.type,to.value)},hn=co=>({label:t($D+co+".label"),description:t($D+co+".description")}),In=hn("red"),Go=hn("green"),zn=hn("blue"),Fo=hn("hex");return dr(fw.sketch(co=>({dom:{tag:"form",classes:[s("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[co.field("red",Ms.sketch(b(UI,"red",In.label,In.description,255))),co.field("green",Ms.sketch(b(UI,"green",Go.label,Go.description,255))),co.field("blue",Ms.sketch(b(UI,"blue",zn.label,zn.description,255))),co.field("hex",Ms.sketch(b(jC,"hex",Fo.label,Fo.description,"ffffff"))),L.asSpec()],formBehaviours:Bt([yv.config({invalidClass:s("form-invalid")}),vo("rgb-form-events",[kt(b3,Ft),kt(LD,it),kt(a2,it)])])})),{apis:{updateHex:(co,$o)=>{pn.setValue(co,{hex:$o.value}),de(co,$o),z(co,$o)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(ie,de,Se)=>{ie.updateHex(de,Se)}},extraApis:{}})},hw=(t,s)=>{const i=tm.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[s("sv-palette-spectrum")]}}),u=tm.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette-thumb")],innerHtml:`<div class=${s("sv-palette-inner-thumb")} role="presentation"></div>`}}),m=(z,Y)=>{const{width:ne,height:ie}=z,de=z.getContext("2d");if(de===null)return;de.fillStyle=Y,de.fillRect(0,0,ne,ie);const Se=de.createLinearGradient(0,0,ne,0);Se.addColorStop(0,"rgba(255,255,255,1)"),Se.addColorStop(1,"rgba(255,255,255,0)"),de.fillStyle=Se,de.fillRect(0,0,ne,ie);const Le=de.createLinearGradient(0,0,0,ie);Le.addColorStop(0,"rgba(0,0,0,0)"),Le.addColorStop(1,"rgba(0,0,0,1)"),de.fillStyle=Le,de.fillRect(0,0,ne,ie)},b=(z,Y)=>{const ne=z.components()[0].element.dom,ie=KC(Y,100,100),de=pr(ie);m(ne,kA(de))},T=(z,Y)=>{const ne=GI(fg(Y));tm.setValue(z,{x:ne.saturation,y:100-ne.value})};return ha({factory:z=>{const Y=we({x:0,y:0}),ne=(Se,Le,ct)=>{Nn(Se,m3,{value:ct})},ie=(Se,Le,ct,je)=>{m(ct.element.dom,kA(PA))},de=Bt([ss.config({find:F.some}),Qn.config({})]);return tm.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette")]},model:{mode:"xy",getInitialValue:Y},rounded:!1,components:[i,u],onChange:ne,onInit:ie,sliderBehaviours:de})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(z,Y,ne)=>{b(Y,ne)},setThumb:(z,Y,ne)=>{T(Y,ne)}},extraApis:{}})},y3=(t,s)=>{const i=m=>{const b=BD(t,s,m.onValidHex,m.onInvalidHex),T=hw(t,s),I=Ft=>(100-Ft)/100*360,L=Ft=>100-Ft/360*100,z={paletteRgba:Wn(PA),paletteHue:Wn(0)},Y=Yo(_z(t,s)),ne=Yo(T.sketch({})),ie=Yo(b.sketch({})),de=(Ft,hn,In)=>{ne.getOpt(Ft).each(Go=>{T.setHue(Go,In)})},Se=(Ft,hn)=>{ie.getOpt(Ft).each(In=>{b.updateHex(In,hn)})},Le=(Ft,hn,In)=>{Y.getOpt(Ft).each(Go=>{tm.setValue(Go,L(In))})},ct=(Ft,hn)=>{ne.getOpt(Ft).each(In=>{T.setThumb(In,hn)})},je=(Ft,hn)=>{const In=fg(Ft);z.paletteRgba.set(In),z.paletteHue.set(hn)},it=(Ft,hn,In,Go)=>{je(hn,In),Lt(Go,zn=>{zn(Ft,hn,In)})},ht=()=>{const Ft=[Se];return(hn,In)=>{const Go=In.event.value,zn=z.paletteHue.get(),Fo=KC(zn,Go.x,100-Go.y),co=jI(Fo);it(hn,co,zn,Ft)}},vt=()=>{const Ft=[de,Se];return(hn,In)=>{const Go=I(In.event.value),zn=z.paletteRgba.get(),Fo=GI(zn),co=KC(Go,Fo.saturation,Fo.value),$o=jI(co);it(hn,$o,Go,Ft)}},tn=()=>{const Ft=[de,Le,ct];return(hn,In)=>{const Go=In.event.hex,zn=a8(Go);it(hn,Go,zn.hue,Ft)}};return{uid:m.uid,dom:m.dom,components:[ne.asSpec(),Y.asSpec(),ie.asSpec()],behaviours:Bt([vo("colour-picker-events",[kt(i2,tn()),kt(m3,ht()),kt(h3,vt())]),ss.config({find:Ft=>ie.getOpt(Ft)}),Vn.config({mode:"acyclic"})])}};return ha({name:"ColourPicker",configFields:[Rt("dom"),tt("onValidHex",ee),tt("onInvalidHex",ee)],factory:i})},sp={self:()=>ss.config({find:F.some}),memento:t=>ss.config({find:t.getOpt}),childAt:t=>ss.config({find:s=>wi(s.element,t).bind(i=>s.getSystem().getByDom(i).toOptional())})},c2=$n([tt("preprocess",Ue),tt("postprocess",Ue)]),xz=(t,s)=>{const i=Oi("RepresentingConfigs.memento processors",c2,s);return pn.config({store:{mode:"manual",getValue:u=>{const m=t.get(u),b=pn.getValue(m);return i.postprocess(b)},setValue:(u,m)=>{const b=i.preprocess(m),T=t.get(u);pn.setValue(T,b)}}})},_3=(t,s,i)=>pn.config({store:{mode:"manual",...t.map(u=>({initialValue:u})).getOr({}),getValue:s,setValue:i}}),l2=(t,s,i)=>_3(t,u=>s(u.element),(u,m)=>i(u.element,m)),Yi={memento:xz,withElement:l2,withComp:_3,domValue:t=>l2(t,Vu,zd),domHtml:t=>l2(t,D,Z),memory:t=>pn.config({store:{mode:"memory",initialValue:t}})},w3={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},Rz=t=>s=>t.translate(w3[s]),Iz=(t,s,i)=>{const u=L=>"tox-"+L,m=y3(Rz(s),u),b=L=>{Nn(L,bv,{name:"hex-valid",value:!0})},T=L=>{Nn(L,bv,{name:"hex-valid",value:!1})},I=Yo(m.sketch({dom:{tag:"div",classes:[u("color-picker-container")],attributes:{role:"presentation"}},onValidHex:b,onInvalidHex:T}));return{dom:{tag:"div"},components:[I.asSpec()],behaviours:Bt([Yi.withComp(i,L=>{const z=I.get(L);return ss.getCurrent(z).bind(ie=>pn.getValue(ie).hex).map(ie=>"#"+gp(ie,"#")).getOr("")},(L,z)=>{const Y=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,ne=F.from(Y.exec(z)).bind(Se=>Is(Se,1)),ie=I.get(L);ss.getCurrent(ie).fold(()=>{console.log("Can not find form")},Se=>{pn.setValue(Se,{hex:ne.getOr("")}),fw.getField(Se,"hex").each(Le=>{ls(Le,ia())})})}),sp.self()])}};var T3=tinymce.util.Tools.resolve("tinymce.Resource");const Dz=t=>jo(t,"init"),Mz=t=>{const s=ir(),i=Yo({dom:{tag:t.tag}}),u=ir();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Bt([vo("custom-editor-events",[wr(m=>{i.getOpt(m).each(b=>{(Dz(t)?t.init(b.element.dom):T3.load(t.scriptId,t.scriptUrl).then(T=>T(b.element.dom,t.settings))).then(T=>{u.on(I=>{T.setValue(I)}),u.clear(),s.set(T)})})})]),Yi.withComp(F.none(),()=>s.get().fold(()=>u.get().getOr(""),m=>m.getValue()),(m,b)=>{s.get().fold(()=>u.set(b),T=>T.setValue(b))}),sp.self()]),components:[i.asSpec()]}};var Qy=tinymce.util.Tools.resolve("tinymce.util.Tools");const C3=(t,s)=>{const i=Qy.explode(s.getOption("images_file_types")),u=m=>Ho(i,b=>Rc(m.name.toLowerCase(),`.${b.toLowerCase()}`));return po(Ya(t),u)},Tv=(t,s,i)=>{const u=(ie,de)=>{de.stop()},m=ie=>(de,Se)=>{Lt(ie,Le=>{Le(de,Se)})},b=(ie,de)=>{var Se;if(!so.isDisabled(ie)){const Le=de.event.raw;I(ie,(Se=Le.dataTransfer)===null||Se===void 0?void 0:Se.files)}},T=(ie,de)=>{const Se=de.event.raw.target;I(ie,Se.files)},I=(ie,de)=>{de&&(pn.setValue(ie,C3(de,s)),Nn(ie,kf,{name:t.name}))},L=Yo({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Bt([vo("input-file-events",[ah(Lc()),ah(dd())])])}),z=ie=>({uid:ie.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Bt([Yi.memory(i.getOr([])),sp.self(),so.config({}),Mo.config({toggleClass:"dragenter",toggleOnExecute:!1}),vo("dropzone-events",[kt("dragenter",m([u,Mo.toggle])),kt("dragleave",m([u,Mo.toggle])),kt("dragover",u),kt("drop",m([u,b])),kt($l(),T)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[$r(s.translate("Drop an image here"))]},xl.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[$r(s.translate("Browse for an image")),L.asSpec()],action:de=>{L.get(de).element.dom.click()},buttonBehaviours:Bt([Ni.config({}),Jm.button(s.isDisabled),xc()])})]}]}),Y=t.label.map(ie=>G1(ie,s)),ne=Ms.parts.field({factory:{sketch:z}});return oS(Y,ne,["tox-form__group--stretched"],[])},FD=(t,s)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${t.columns}col`]},components:nt(t.items,s.interpreter)}),u2=zt("alloy-fake-before-tabstop"),mw=zt("alloy-fake-after-tabstop"),d2=t=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:Bt([Qn.config({ignore:!0}),Ni.config({})])}),S3=t=>({dom:{tag:"div",classes:["tox-navobj"]},components:[d2([u2]),t,d2([mw])],behaviours:Bt([sp.childAt(1)])}),x3=(t,s)=>{Nn(t,zi(),{raw:{which:9,shiftKey:s}})},Nz=(t,s)=>{const i=s.element;Sa(i,u2)?x3(t,!0):Sa(i,mw)&&x3(t,!1)},hS=t=>tS(t,["."+u2,"."+mw].join(","),Tt),kz=t=>{const s=Wn(t.getOr(""));return{getValue:i=>s.get(),setValue:(i,u)=>{s.get()!==u&&uo(i.element,"srcdoc",u),s.set(u)}}},Pz=(t,s,i)=>{const u=t.sandboxed,m=t.transparent,b="tox-dialog__iframe",T={...t.label.map(ne=>({title:ne})).getOr({}),...i.map(ne=>({srcdoc:ne})).getOr({}),...u?{sandbox:"allow-scripts allow-same-origin"}:{}},I=kz(i),L=t.label.map(ne=>G1(ne,s)),z=ne=>S3({uid:ne.uid,dom:{tag:"iframe",attributes:T,classes:m?[b]:[b,`${b}--opaque`]},behaviours:Bt([Ni.config({}),Qn.config({}),Yi.withComp(i,I.getValue,I.setValue)])}),Y=Ms.parts.field({factory:{sketch:z}});return oS(L,Y,["tox-form__group--stretched"],[])},Lz=t=>new Promise((s,i)=>{const u=()=>{b(),s(t)},m=[ll(t,"load",u),ll(t,"error",()=>{b(),i("Unable to load data from image: "+t.dom.src)})],b=()=>Lt(m,T=>T.unbind());t.dom.complete&&u()}),A3=(t,s,i,u,m)=>{const b=i*m,T=u*m,I=Math.max(0,t/2-b/2),L=Math.max(0,s/2-T/2);return{left:I.toString()+"px",top:L.toString()+"px",width:b.toString()+"px",height:T.toString()+"px"}},$z=(t,s,i)=>{const u=Er(t),m=xn(t);return Math.min(u/s,m/i,1)},Cv=(t,s)=>{const i=Wn(s.getOr({url:""})),u=Yo({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:s.map(L=>({src:L.url})).getOr({})}}),m=Yo({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[u.asSpec()]}),b=(L,z)=>{const Y={url:z.url};z.zoom.each(ie=>Y.zoom=ie),z.cachedWidth.each(ie=>Y.cachedWidth=ie),z.cachedHeight.each(ie=>Y.cachedHeight=ie),i.set(Y);const ne=()=>{const{cachedWidth:ie,cachedHeight:de,zoom:Se}=Y;if(!ae(ie)&&!ae(de)){if(ae(Se)){const ct=$z(L.element,ie,de);Y.zoom=ct}const Le=A3(Er(L.element),xn(L.element),ie,de,Y.zoom);m.getOpt(L).each(ct=>{he(ct.element,Le)})}};u.getOpt(L).each(ie=>{const de=ie.element;z.url!==Fi(de,"src")&&(uo(de,"src",z.url),Zs(L.element,"tox-imagepreview__loaded")),ne(),Lz(de).then(Se=>{L.getSystem().isConnected()&&(ks(L.element,"tox-imagepreview__loaded"),Y.cachedWidth=Se.dom.naturalWidth,Y.cachedHeight=Se.dom.naturalHeight,ne())})})},T={};t.height.each(L=>T.height=L);const I=s.map(L=>({url:L.url,zoom:F.from(L.zoom),cachedWidth:F.from(L.cachedWidth),cachedHeight:F.from(L.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:T,attributes:{role:"presentation"}},components:[m.asSpec()],behaviours:Bt([sp.self(),Yi.withComp(I,()=>i.get(),b)])}},f2=(t,s)=>{const i={dom:{tag:"label",classes:["tox-label"]},components:[$r(s.providers.translate(t.label))]},u=nt(t.items,s.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[i,...u],behaviours:Bt([sp.self(),mo.config({}),Yi.domHtml(F.none()),Vn.config({mode:"acyclic"})])}},O3=zt("toolbar.button.execute"),Bz=t=>gu((s,i)=>{tw(t,s)(u=>{Nn(s,O3,{buttonApi:u}),t.onAction(u)})}),c0=zt("common-button-display-events"),HD={[Fs()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],[fd()]:["toolbar-button-events",c0],[ni()]:["focusing","alloy.base.behaviour",c0]},mS=t=>oe(t.element,"width",Ce(t.element,"width")),pS=(t,s,i)=>Qh(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:i},s),Jy=(t,s)=>pS(t,s,[]),rp=(t,s)=>pS(t,s,[mo.config({})]),VD=(t,s,i)=>({dom:{tag:"span",classes:[`${s}__select-label`]},components:[$r(i.translate(t))],behaviours:Bt([mo.config({})])}),Ch=zt("update-menu-text"),e_=zt("update-menu-icon"),zD=(t,s,i)=>{const u=Wn(ee),m=t.text.map(ie=>Yo(VD(ie,s,i.providers))),b=t.icon.map(ie=>Yo(rp(ie,i.providers.icons))),T=(ie,de)=>{const Se=pn.getValue(ie);return Qn.focus(Se),Nn(Se,"keydown",{raw:de.event.raw}),Yd.close(Se),F.some(!0)},I=t.role.fold(()=>({}),ie=>({role:ie})),L=t.tooltip.fold(()=>({}),ie=>{const de=i.providers.translate(ie);return{title:de,"aria-label":de}}),z=Qh("chevron-down",{tag:"div",classes:[`${s}__select-chevron`]},i.providers.icons),Y=zt("common-button-display-events");return Yo(Yd.sketch({...t.uid?{uid:t.uid}:{},...I,dom:{tag:"button",classes:[s,`${s}--select`].concat(nt(t.classes,ie=>`${s}--${ie}`)),attributes:{...L}},components:nw([b.map(ie=>ie.asSpec()),m.map(ie=>ie.asSpec()),F.some(z)]),matchWidth:!0,useMinWidth:!0,onOpen:(ie,de,Se)=>{t.searchable&&V8(Se)},dropdownBehaviours:Bt([...t.dropdownBehaviours,Jm.button(()=>t.disabled||i.providers.isDisabled()),xc(),iS.config({}),mo.config({}),vo("dropdown-events",[o0(t,u),Wy(t,u)]),vo(Y,[wr((ie,de)=>mS(ie))]),vo("menubutton-update-display-text",[kt(Ch,(ie,de)=>{m.bind(Se=>Se.getOpt(ie)).each(Se=>{mo.set(Se,[$r(i.providers.translate(de.event.text))])})}),kt(e_,(ie,de)=>{b.bind(Se=>Se.getOpt(ie)).each(Se=>{mo.set(Se,[rp(de.event.icon,i.providers.icons)])})})])]),eventOrder:dr(HD,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[fd()]:["toolbar-button-events","dropdown-events",Y]}),sandboxBehaviours:Bt([Vn.config({mode:"special",onLeft:T,onRight:T}),vo("dropdown-sandbox-events",[kt(QP,(ie,de)=>{L8(ie),de.stop()}),kt(JP,(ie,de)=>{$8(ie,de),de.stop()})])]),lazySink:i.getSink,toggleClass:`${s}--active`,parts:{menu:{...gA(!1,t.columns,t.presets),fakeFocus:t.searchable,onHighlightItem:E4,onCollapseMenu:(ie,de,Se)=>{Cs.getHighlighted(Se).each(Le=>{E4(ie,Se,Le)})},onDehighlightItem:H8}},fetch:ie=>Wl.nu(It(t.fetch,ie))})).asSpec()},Fz=t=>M(t),R3=t=>t.type==="separator",Hz=t=>jo(t,"getSubmenuItems"),Vz={type:"separator"},zz=(t,s)=>{const i=as(t,(u,m)=>Fz(m)?m===""?u:m==="|"?u.length>0&&!R3(u[u.length-1])?u.concat([Vz]):u:jo(s,m.toLowerCase())?u.concat([s[m.toLowerCase()]]):u:u.concat([m]),[]);return i.length>0&&R3(i[i.length-1])&&i.pop(),i},I3=(t,s)=>{const i=t.getSubmenuItems(),u=M3(i,s),m=dr(u.menus,{[t.value]:u.items}),b=dr(u.expansions,{[t.value]:t.value});return{item:t,menus:m,expansions:b}},D3=t=>{const s=dn(t,"value").getOrThunk(()=>zt("generated-menu-item"));return dr({value:s},t)},M3=(t,s)=>{const i=zz(M(t)?t.split(" "):t,s);return Rs(i,(u,m)=>{if(Hz(m)){const b=D3(m),T=I3(b,s);return{menus:dr(u.menus,T.menus),items:[T.item,...u.items],expansions:dr(u.expansions,T.expansions)}}else return{...u,items:[m,...u.items]}},{menus:{},expansions:{},items:[]})},N3=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-field",placeholder:s.placeholder})),Uz=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-results"})),t_=(t,s,i,u)=>{const m=zt("primary-menu"),b=M3(t,i.shared.providers.menuItems());if(b.items.length===0)return F.none();const T=N3(u),I=w4(m,b.items,s,i,u.isHorizontalMenu,T),L=Uz(u),z=Ls(b.menus,(ne,ie)=>w4(ie,ne,s,i,!1,L)),Y=dr(z,Nu(m,I));return F.from(Py.tieredData(m,Y,b.expansions))},n_=t=>!jo(t,"items"),k3="data-value",UD=(t,s,i,u)=>nt(i,m=>n_(m)?{type:"togglemenuitem",text:m.text,value:m.value,active:m.value===u,onAction:()=>{pn.setValue(t,m.value),Nn(t,kf,{name:s}),Qn.focus(t)}}:{type:"nestedmenuitem",text:m.text,getSubmenuItems:()=>UD(t,s,m.items,u)}),WD=(t,s)=>Or(t,i=>n_(i)?jn(i.value===s,i):WD(i.items,s)),Wz=(t,s,i)=>{const u=s.shared.providers,m=i.bind(L=>WD(t.items,L)).orThunk(()=>zr(t.items).filter(n_)),b=t.label.map(L=>G1(L,u)),T=Ms.parts.field({dom:{},factory:{sketch:L=>zD({uid:L.uid,text:m.map(z=>z.text),icon:F.none(),tooltip:t.label,role:F.none(),fetch:(z,Y)=>{const ne=UD(z,t.name,t.items,pn.getValue(z));Y(t_(ne,cg.CLOSE_ON_EXECUTE,s,{isHorizontalMenu:!1,search:F.none()}))},onSetup:we(ee),getApi:we({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Ni.config({}),Yi.withComp(m.map(z=>z.value),z=>Fi(z.element,k3),(z,Y)=>{WD(t.items,Y).each(ne=>{uo(z.element,k3,ne.value),Nn(z,Ch,{text:ne.text})})})]},"tox-listbox",s.shared)}}),I={dom:{tag:"div",classes:["tox-listboxfield"]},components:[T]};return Ms.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:en([b.toArray(),[I]]),fieldBehaviours:Bt([so.config({disabled:we(!t.enabled),onDisabled:L=>{Ms.getField(L).each(so.disable)},onEnabled:L=>{Ms.getField(L).each(so.enable)}})])})},Gz=(t,s)=>({dom:{tag:"div",classes:t.classes},components:nt(t.items,s.shared.interpreter)}),jz=(t,s)=>{const i=nt(t.options,m=>({dom:{tag:"option",value:m.value,innerHtml:m.text}})),u=t.data.map(m=>Nu("initialValue",m)).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:i,behaviours:Gr(t.selectBehaviours,[Qn.config({}),pn.config({store:{mode:"manual",getValue:m=>Vu(m.element),setValue:(m,b)=>{Fn(t.options,I=>I.value===b).isSome()&&zd(m.element,b)},...u}})])}},P3=ha({name:"HtmlSelect",configFields:[Rt("options"),Sc("selectBehaviours",[Qn,pn]),tt("selectClasses",[]),tt("selectAttributes",{}),qo("data")],factory:jz}),qz=(t,s,i)=>{const u=nt(t.items,L=>({text:s.translate(L.text),value:L.value})),m=t.label.map(L=>G1(L,s)),b=Ms.parts.field({dom:{},...i.map(L=>({data:L})).getOr({}),selectAttributes:{size:t.size},options:u,factory:P3,selectBehaviours:Bt([so.config({disabled:()=>!t.enabled||s.isDisabled()}),Ni.config({}),vo("selectbox-change",[kt($l(),(L,z)=>{Nn(L,kf,{name:t.name})})])])}),T=t.size>1?F.none():F.some(Qh("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},s.icons)),I={dom:{tag:"div",classes:["tox-selectfield"]},components:en([[b],T.toArray()])};return Ms.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:en([m.toArray(),[I]]),fieldBehaviours:Bt([so.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:L=>{Ms.getField(L).each(so.disable)},onEnabled:L=>{Ms.getField(L).each(so.enable)}}),xc()])})},L3=we([tt("field1Name","field1"),tt("field2Name","field2"),Bp("onLockedChange"),_d(["lockClass"]),tt("locked",!1),gh.field("coupledFieldBehaviours",[ss,pn])]),GD=(t,s,i)=>Cr(t,s,i).bind(ss.getCurrent),Sv=(t,s)=>ic({factory:Ms,name:t,overrides:i=>({fieldBehaviours:Bt([vo("coupled-input-behaviour",[kt(ia(),u=>{GD(u,i,s).each(m=>{Cr(u,i,"lock").each(b=>{Mo.isOn(b)&&i.onLockedChange(u,m,b)})})})])])})}),jD=we([Sv("field1","field2"),Sv("field2","field1"),ic({factory:xl,schema:[Rt("dom")],name:"lock",overrides:t=>({buttonBehaviours:Bt([Mo.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])})})]),$3=(t,s,i,u)=>({uid:t.uid,dom:t.dom,components:s,behaviours:gh.augment(t.coupledFieldBehaviours,[ss.config({find:F.some}),pn.config({store:{mode:"manual",getValue:m=>{const b=eC(m,t,["field1","field2"]);return{[t.field1Name]:pn.getValue(b.field1()),[t.field2Name]:pn.getValue(b.field2())}},setValue:(m,b)=>{const T=eC(m,t,["field1","field2"]);Da(b,t.field1Name)&&pn.setValue(T.field1(),b[t.field1Name]),Da(b,t.field2Name)&&pn.setValue(T.field2(),b[t.field2Name])}}})]),apis:{getField1:m=>Cr(m,t,"field1"),getField2:m=>Cr(m,t,"field2"),getLock:m=>Cr(m,t,"lock")}}),Pf=ji({name:"FormCoupledInputs",configFields:L3(),partFields:jD(),factory:$3,apis:{getField1:(t,s)=>t.getField1(s),getField2:(t,s)=>t.getField2(s),getLock:(t,s)=>t.getLock(s)}}),qD=t=>{const s={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},i=m=>m in s?s[m]:1;let u=t.value.toFixed(i(t.unit));return u.indexOf(".")!==-1&&(u=u.replace(/\.?0*$/,"")),u+t.unit},h2=t=>{const i=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(t);if(i!==null){const u=parseFloat(i[1]),m=i[2];return io.value({value:u,unit:m})}else return io.error(t)},gS=(t,s)=>{const i={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},u=m=>jo(i,m);return t.unit===s?F.some(t.value):u(t.unit)&&u(s)?i[t.unit]===i[s]?F.some(t.value):F.some(t.value/i[t.unit]*i[s]):F.none()},m2=t=>F.none(),B3=(t,s)=>i=>gS(i,s).map(u=>({value:u*t,unit:s})),Zz=(t,s)=>{const i=h2(t).toOptional(),u=h2(s).toOptional();return xu(i,u,(m,b)=>gS(m,b.unit).map(T=>b.value/T).map(T=>B3(T,b.unit)).getOr(m2)).getOr(m2)},Yz=(t,s)=>{let i=m2;const u=zt("ratio-event"),m=ne=>Qh(ne,{tag:"span",classes:["tox-icon","tox-lock-icon__"+ne]},s.icons),b=Pf.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:s.translate(t.label.getOr("Constrain proportions"))}},components:[m("lock"),m("unlock")],buttonBehaviours:Bt([so.config({disabled:()=>!t.enabled||s.isDisabled()}),xc(),Ni.config({})])}),T=ne=>({dom:{tag:"div",classes:["tox-form__group"]},components:ne}),I=ne=>Ms.parts.field({factory:Fy,inputClasses:["tox-textfield"],inputBehaviours:Bt([so.config({disabled:()=>!t.enabled||s.isDisabled()}),xc(),Ni.config({}),vo("size-input-events",[kt(mf(),(ie,de)=>{Nn(ie,u,{isField1:ne})}),kt($l(),(ie,de)=>{Nn(ie,kf,{name:t.name})})])]),selectOnFocus:!1}),L=ne=>({dom:{tag:"label",classes:["tox-label"]},components:[$r(s.translate(ne))]}),z=Pf.parts.field1(T([Ms.parts.label(L("Width")),I(!0)])),Y=Pf.parts.field2(T([Ms.parts.label(L("Height")),I(!1)]));return Pf.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[z,Y,T([L(sy),b])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(ne,ie,de)=>{h2(pn.getValue(ne)).each(Se=>{i(Se).each(Le=>{pn.setValue(ie,qD(Le))})})},coupledFieldBehaviours:Bt([so.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:ne=>{Pf.getField1(ne).bind(Ms.getField).each(so.disable),Pf.getField2(ne).bind(Ms.getField).each(so.disable),Pf.getLock(ne).each(so.disable)},onEnabled:ne=>{Pf.getField1(ne).bind(Ms.getField).each(so.enable),Pf.getField2(ne).bind(Ms.getField).each(so.enable),Pf.getLock(ne).each(so.enable)}}),xc(),vo("size-input-events2",[kt(u,(ne,ie)=>{const de=ie.event.isField1,Se=de?Pf.getField1(ne):Pf.getField2(ne),Le=de?Pf.getField2(ne):Pf.getField1(ne),ct=Se.map(pn.getValue).getOr(""),je=Le.map(pn.getValue).getOr("");i=Zz(ct,je)})])])})},Kz=(t,s,i)=>{const u=tm.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[$r(s.translate(t.label))]}),m=tm.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),b=tm.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return tm.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:t.min,maxX:t.max,getInitialValue:we(i.getOrThunk(()=>(Math.abs(t.max)-Math.abs(t.min))/2))},components:[u,m,b],sliderBehaviours:Bt([sp.self(),Qn.config({})]),onChoose:(T,I,L)=>{Nn(T,kf,{name:t.name,value:L})}})},Xz=(t,s)=>{const i=I=>({dom:{tag:"th",innerHtml:s.translate(I)}}),u=I=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:nt(I,i)}]}),m=I=>({dom:{tag:"td",innerHtml:s.translate(I)}}),b=I=>({dom:{tag:"tr"},components:nt(I,m)}),T=I=>({dom:{tag:"tbody"},components:nt(I,b)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[u(t.header),T(t.cells)],behaviours:Bt([Ni.config({}),Qn.config({})])}},F3=(t,s)=>{const i=t.label.map(de=>G1(de,s)),u=[so.config({disabled:()=>t.disabled||s.isDisabled()}),xc(),Vn.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:de=>(ls(de,rS),F.some(!0))}),vo("textfield-change",[kt(ia(),(de,Se)=>{Nn(de,kf,{name:t.name})}),kt(zg(),(de,Se)=>{Nn(de,kf,{name:t.name})})]),Ni.config({})],m=t.validation.map(de=>yv.config({getRoot:Se=>ml(Se.element),invalidClass:"tox-invalid",validator:{validate:Se=>{const Le=pn.getValue(Se),ct=de.validator(Le);return Wl.pure(ct===!0?io.value(Le):io.error(ct))},validateOnLoad:de.validateOnLoad}})).toArray(),b=t.placeholder.fold(we({}),de=>({placeholder:s.translate(de)})),T=t.inputMode.fold(we({}),de=>({inputmode:de})),I={...b,...T},L=Ms.parts.field({tag:t.multiline===!0?"textarea":"input",...t.data.map(de=>({data:de})).getOr({}),inputAttributes:I,inputClasses:[t.classname],inputBehaviours:Bt(en([u,m])),selectOnFocus:!1,factory:Fy}),z=t.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[L]}:L,ne=(t.flex?["tox-form__group--stretched"]:[]).concat(t.maximized?["tox-form-group--maximize"]:[]),ie=[so.config({disabled:()=>t.disabled||s.isDisabled(),onDisabled:de=>{Ms.getField(de).each(so.disable)},onEnabled:de=>{Ms.getField(de).each(so.enable)}}),xc()];return oS(i,z,ne,ie)},H3=(t,s,i)=>F3({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:!t.enabled,classname:"tox-textfield",validation:F.none(),maximized:t.maximized,data:i},s),V3=(t,s,i)=>F3({name:t.name,multiline:!0,label:t.label,inputMode:F.none(),placeholder:t.placeholder,flex:!0,disabled:!t.enabled,classname:"tox-textarea",validation:F.none(),maximized:t.maximized,data:i},s),vS=(t,s)=>s.getAnimationRoot.fold(()=>t.element,i=>i(t)),q1=t=>t.dimension.property,o_=(t,s)=>t.dimension.getDimension(s),s_=(t,s)=>{const i=vS(t,s);Tl(i,[s.shrinkingClass,s.growingClass])},ZD=(t,s)=>{Zs(t.element,s.openClass),ks(t.element,s.closedClass),oe(t.element,q1(s),"0px"),Pt(t.element)},YD=(t,s)=>{Zs(t.element,s.closedClass),ks(t.element,s.openClass),st(t.element,q1(s))},KD=(t,s,i,u)=>{i.setCollapsed(),oe(t.element,q1(s),o_(s,t.element)),s_(t,s),ZD(t,s),s.onStartShrink(t),s.onShrunk(t)},z3=(t,s,i,u)=>{const m=u.getOrThunk(()=>o_(s,t.element));i.setCollapsed(),oe(t.element,q1(s),m),Pt(t.element);const b=vS(t,s);Zs(b,s.growingClass),ks(b,s.shrinkingClass),ZD(t,s),s.onStartShrink(t)},U3=(t,s,i)=>{const u=o_(s,t.element);(u==="0px"?KD:z3)(t,s,i,F.some(u))},W3=(t,s,i)=>{const u=vS(t,s),m=Sa(u,s.shrinkingClass),b=o_(s,t.element);YD(t,s);const T=o_(s,t.element);(m?()=>{oe(t.element,q1(s),b),Pt(t.element)}:()=>{ZD(t,s)})(),Zs(u,s.shrinkingClass),ks(u,s.growingClass),YD(t,s),oe(t.element,q1(s),T),i.setExpanded(),s.onStartGrow(t)},XD=(t,s,i)=>{if(i.isExpanded()){st(t.element,q1(s));const u=o_(s,t.element);oe(t.element,q1(s),u)}},Qz=(t,s,i)=>{i.isExpanded()||W3(t,s,i)},G3=(t,s,i)=>{i.isExpanded()&&U3(t,s,i)},Jz=(t,s,i)=>{i.isExpanded()&&KD(t,s,i)},eU=(t,s,i)=>i.isExpanded(),j3=(t,s,i)=>i.isCollapsed(),QD=(t,s,i)=>{const u=vS(t,s);return Sa(u,s.growingClass)===!0},q3=(t,s,i)=>{const u=vS(t,s);return Sa(u,s.shrinkingClass)===!0};var Z3=Object.freeze({__proto__:null,refresh:XD,grow:Qz,shrink:G3,immediateShrink:Jz,hasGrown:eU,hasShrunk:j3,isGrowing:QD,isShrinking:q3,isTransitioning:(t,s,i)=>QD(t,s)||q3(t,s),toggleGrow:(t,s,i)=>{(i.isExpanded()?U3:W3)(t,s,i)},disableTransitions:s_,immediateGrow:(t,s,i)=>{i.isExpanded()||(YD(t,s),oe(t.element,q1(s),o_(s,t.element)),s_(t,s),i.setExpanded(),s.onStartGrow(t),s.onGrown(t))}}),nU=Object.freeze({__proto__:null,exhibit:(t,s,i)=>{const u=s.expanded;return wl(u?{classes:[s.openClass],styles:{}}:{classes:[s.closedClass],styles:Nu(s.dimension.property,"0px")})},events:(t,s)=>er([Ui(pf(),(i,u)=>{u.event.raw.propertyName===t.dimension.property&&(s_(i,t),s.isExpanded()&&st(i.element,t.dimension.property),(s.isExpanded()?t.onGrown:t.onShrunk)(i))})])}),oU=[Rt("closedClass"),Rt("openClass"),Rt("shrinkingClass"),Rt("growingClass"),qo("getAnimationRoot"),Qe("onShrunk"),Qe("onStartShrink"),Qe("onGrown"),Qe("onStartGrow"),tt("expanded",!1),hu("dimension",di("property",{width:[mr("property","width"),mr("getDimension",t=>Er(t)+"px")],height:[mr("property","height"),mr("getDimension",t=>xn(t)+"px")]}))],sU=Object.freeze({__proto__:null,init:t=>{const s=Wn(t.expanded),i=()=>"expanded: "+s.get();return Ca({isExpanded:()=>s.get()===!0,isCollapsed:()=>s.get()===!1,setCollapsed:It(s.set,!1),setExpanded:It(s.set,!0),readState:i})}});const Lf=Wa({fields:oU,name:"sliding",active:nU,apis:Z3,state:sU}),Y3=t=>({isEnabled:()=>!so.isDisabled(t),setEnabled:s=>so.set(t,!s),setActive:s=>{const i=t.element;s?(ks(i,"tox-tbtn--enabled"),uo(i,"aria-pressed",!0)):(Zs(i,"tox-tbtn--enabled"),x(i,"aria-pressed"))},isActive:()=>Sa(t.element,"tox-tbtn--enabled"),setText:s=>{Nn(t,Ch,{text:s})},setIcon:s=>Nn(t,e_,{icon:s})}),bS=(t,s,i,u,m=!0)=>zD({text:t.text,icon:t.icon,tooltip:t.tooltip,searchable:t.search.isSome(),role:u,fetch:(b,T)=>{const I={pattern:t.search.isSome()?z8(b):""};t.fetch(L=>{T(t_(L,cg.CLOSE_ON_EXECUTE,i,{isHorizontalMenu:!1,search:t.search}))},I,Y3(b))},onSetup:t.onSetup,getApi:Y3,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...m?[Ni.config({})]:[]]},s,i.shared),rU=(t,s,i)=>{const u=b=>T=>{const I=!T.isActive();T.setActive(I),b.storage.set(I),i.shared.getSink().each(L=>{s().getOpt(L).each(z=>{zl(z.element),Nn(z,bv,{name:b.name,value:b.storage.get()})})})},m=b=>T=>{T.setActive(b.storage.get())};return b=>{b(nt(t,T=>{const I=T.text.fold(()=>({}),L=>({text:L}));return{type:T.type,active:!1,...I,onAction:u(T),onSetup:m(T)}}))}},K3=t=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{title:t,"aria-label":t}},components:[$r(t)]}),p2=zt("leaf-label-event-id"),JD=({leaf:t,onLeafAction:s,visible:i,treeId:u,backstage:m})=>{const b=t.menu.map(I=>bS(I,"tox-mbtn",m,F.none(),i)),T=[K3(t.title)];return b.each(I=>T.push(I)),xl.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(i?["tox-tree--leaf__label--visible"]:[])},components:T,role:"treeitem",action:I=>{s(t.id),I.getSystem().broadcastOn([`update-active-item-${u}`],{value:t.id})},eventOrder:{[zi()]:[p2,"keying"]},buttonBehaviours:Bt([...i?[Ni.config({})]:[],Mo.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),Ed.config({channels:{[`update-active-item-${u}`]:{onReceive:(I,L)=>{(L.value===t.id?Mo.on:Mo.off)(I)}}}}),vo(p2,[kt(zi(),(I,L)=>{const z=L.event.raw.code==="ArrowLeft",Y=L.event.raw.code==="ArrowRight";z?(vu(I.element,".tox-tree--directory").each(ne=>{I.getSystem().getByDom(ne).each(ie=>{jh(ne,".tox-tree--directory__label").each(de=>{ie.getSystem().getByDom(de).each(Qn.focus)})})}),L.stop()):Y&&L.stop()})])])})},iU=(t,s,i)=>Qh(t,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:i},s),aU=(t,s)=>iU(t,s,[]),pw=zt("directory-label-event-id"),eM=({directory:t,visible:s,noChildren:i,backstage:u})=>{const m=t.menu.map(I=>bS(I,"tox-mbtn",u,F.none())),b=[{dom:{tag:"div",classes:["tox-chevron"]},components:[aU("chevron-right",u.shared.providers.icons)]},K3(t.title)];m.each(I=>{b.push(I)});const T=I=>{vu(I.element,".tox-tree--directory").each(L=>{I.getSystem().getByDom(L).each(z=>Mo.toggle(z))})};return xl.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(s?["tox-tree--directory__label--visible"]:[])},components:b,action:T,eventOrder:{[zi()]:[pw,"keying"]},buttonBehaviours:Bt([...s?[Ni.config({})]:[],vo(pw,[kt(zi(),(I,L)=>{const z=L.event.raw.code==="ArrowRight",Y=L.event.raw.code==="ArrowLeft";z&&i&&L.stop(),(z||Y)&&vu(I.element,".tox-tree--directory").each(ne=>{I.getSystem().getByDom(ne).each(ie=>{!Mo.isOn(ie)&&z||Mo.isOn(ie)&&Y?(T(I),L.stop()):Y&&!Mo.isOn(ie)&&(vu(ie.element,".tox-tree--directory").each(de=>{jh(de,".tox-tree--directory__label").each(Se=>{ie.getSystem().getByDom(Se).each(Qn.focus)})}),L.stop())})})})])])})},cU=({children:t,onLeafAction:s,visible:i,treeId:u,backstage:m})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:t.map(b=>b.type==="leaf"?JD({leaf:b,onLeafAction:s,visible:i,treeId:u,backstage:m}):tM({directory:b,onLeafAction:s,labelTabstopping:i,treeId:u,backstage:m})),behaviours:Bt([Lf.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking"}),mo.config({})])}),tM=({directory:t,onLeafAction:s,labelTabstopping:i,treeId:u,backstage:m})=>{const{children:b}=t,T=I=>b.map(L=>L.type==="leaf"?JD({leaf:L,onLeafAction:s,visible:I,treeId:u,backstage:m}):tM({directory:L,onLeafAction:s,labelTabstopping:I,treeId:u,backstage:m}));return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[eM({directory:t,visible:i,noChildren:t.children.length===0,backstage:m}),cU({children:b,onLeafAction:s,visible:!1,treeId:u,backstage:m})],behaviours:Bt([Mo.config({...t.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(I,L)=>{const z=I.components()[1],Y=T(L);L?Lf.grow(z):Lf.shrink(z),mo.set(z,Y)}})])}},nM=(t,s)=>{const i=t.onLeafAction.getOr(ee),u=zt("tree-id"),m=t.items.map(b=>b.type==="leaf"?JD({leaf:b,onLeafAction:i,visible:!0,treeId:u,backstage:s}):tM({directory:b,onLeafAction:i,labelTabstopping:!0,treeId:u,backstage:s}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:m,behaviours:Bt([Vn.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1})])}};var oM=Object.freeze({__proto__:null,events:(t,s)=>{const u=t.stream.streams.setup(t,s);return er([kt(t.event,u),Cc(()=>s.cancel())].concat(t.cancelEvent.map(m=>[kt(m,()=>s.cancel())]).getOr([])))}});const X3=(t,s)=>{let i=null;return{cancel:()=>{J(i)||(clearTimeout(i),i=null)},throttle:(...b)=>{J(i)&&(i=setTimeout(()=>{i=null,t.apply(null,b)},s))}}},sM=(t,s)=>{let i=null;const u=()=>{J(i)||(clearTimeout(i),i=null)};return{cancel:u,throttle:(...b)=>{u(),i=setTimeout(()=>{i=null,t.apply(null,b)},s)}}},Q3=t=>{const s=Wn(null);return Ca({readState:()=>({timer:s.get()!==null?"set":"unset"}),setTimer:b=>{s.set(b)},cancel:()=>{const b=s.get();b!==null&&b.cancel()}})};var J3=Object.freeze({__proto__:null,throttle:Q3,init:t=>t.stream.streams.state(t)});const uU=(t,s)=>{const i=t.stream,u=sM(t.onStream,i.delay);return s.setTimer(u),(m,b)=>{u.throttle(m,b),i.stopEvent&&b.stop()}};var e$=[hu("stream",di("mode",{throttle:[Rt("delay"),tt("stopEvent",!0),mr("streams",{setup:uU,state:Q3})]})),tt("event","input"),qo("cancelEvent"),Bp("onStream")];const g2=Wa({fields:e$,name:"streaming",active:oM,state:J3}),v2=(t,s,i)=>{const u=pn.getValue(i);pn.setValue(s,u),iM(s)},rM=(t,s)=>{const i=t.element,u=Vu(i),m=i.dom;Fi(i,"type")!=="number"&&s(m,u)},iM=t=>{rM(t,(s,i)=>s.setSelectionRange(i.length,i.length))},t$=(t,s)=>{rM(t,(i,u)=>i.setSelectionRange(s,u.length))},dU=(t,s,i)=>{if(t.selectsOver){const u=pn.getValue(s),m=t.getDisplayText(u),b=pn.getValue(i);return t.getDisplayText(b).indexOf(m)===0?F.some(()=>{v2(t,s,i),t$(s,m.length)}):F.none()}else return F.none()},aM=we("alloy.typeahead.itemexecute"),fU=(t,s,i,u)=>{const m=(ne,ie,de)=>{t.previewing.set(!1);const Se=qi.getCoupled(ne,"sandbox");if(Zo.isOpen(Se))ss.getCurrent(Se).each(Le=>{Cs.getHighlighted(Le).fold(()=>{de(Le)},()=>{Jv(Se,Le.element,"keydown",ie)})});else{const Le=ct=>{ss.getCurrent(ct).each(de)};zA(t,T(ne),ne,Se,u,Le,Od.HighlightMenuAndItem).get(ee)}},b=KP(t),T=ne=>ie=>ie.map(de=>{const Se=mm(de.menus),Le=Ge(Se,je=>po(je.items,it=>it.type==="item"));return pn.getState(ne).update(nt(Le,je=>je.data)),de}),I=ne=>ss.getCurrent(ne),L="typeaheadevents",z=[Qn.config({}),pn.config({onSetValue:t.onSetValue,store:{mode:"dataset",getDataKey:ne=>Vu(ne.element),getFallbackEntry:ne=>({value:ne,meta:{}}),setValue:(ne,ie)=>{zd(ne.element,t.model.getDisplayText(ie))},...t.initialData.map(ne=>Nu("initialValue",ne)).getOr({})}}),g2.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:(ne,ie)=>{const de=qi.getCoupled(ne,"sandbox");if(Qn.isFocused(ne)&&Vu(ne.element).length>=t.minChars){const Le=I(de).bind(je=>Cs.getHighlighted(je).map(pn.getValue));t.previewing.set(!0);const ct=je=>{I(de).each(it=>{Le.fold(()=>{t.model.selectsOver&&Cs.highlightFirst(it)},ht=>{Cs.highlightBy(it,vt=>pn.getValue(vt).value===ht.value),Cs.getHighlighted(it).orThunk(()=>(Cs.highlightFirst(it),F.none()))})})};zA(t,T(ne),ne,de,u,ct,Od.HighlightJustMenu).get(ee)}},cancelEvent:Rp()}),Vn.config({mode:"special",onDown:(ne,ie)=>(m(ne,ie,Cs.highlightFirst),F.some(!0)),onEscape:ne=>{const ie=qi.getCoupled(ne,"sandbox");return Zo.isOpen(ie)?(Zo.close(ie),F.some(!0)):F.none()},onUp:(ne,ie)=>(m(ne,ie,Cs.highlightLast),F.some(!0)),onEnter:ne=>{const ie=qi.getCoupled(ne,"sandbox"),de=Zo.isOpen(ie);if(de&&!t.previewing.get())return I(ie).bind(Se=>Cs.getHighlighted(Se)).map(Se=>(Nn(ne,aM(),{item:Se}),!0));{const Se=pn.getValue(ne);return ls(ne,Rp()),t.onExecute(ie,ne,Se),de&&Zo.close(ie),F.some(!0)}}}),Mo.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),qi.config({others:{sandbox:ne=>eS(t,ne,{onOpen:()=>Mo.on(ne),onClose:()=>Mo.off(ne)})}}),vo(L,[wr(ne=>{t.lazyTypeaheadComp.set(F.some(ne))}),Cc(ne=>{t.lazyTypeaheadComp.set(F.none())}),gu(ne=>{const ie=ee;iD(t,T(ne),ne,u,ie,Od.HighlightMenuAndItem).get(ee)}),kt(aM(),(ne,ie)=>{const de=qi.getCoupled(ne,"sandbox");v2(t.model,ne,ie.event.item),ls(ne,Rp()),t.onItemExecute(ne,de,ie.event.item,pn.getValue(ne)),Zo.close(de),iM(ne)})].concat(t.dismissOnBlur?[kt(Vg(),ne=>{const ie=qi.getCoupled(ne,"sandbox");zu(ie.element).isNone()&&Zo.close(ie)})]:[]))],Y={[Pu()]:[pn.name(),g2.name(),L],...t.eventOrder};return{uid:t.uid,dom:XP(dr(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...b,...Gr(t.typeaheadBehaviours,z)},eventOrder:Y}},n$=we([qo("lazySink"),Rt("fetch"),tt("minChars",5),tt("responseTime",1e3),Qe("onOpen"),tt("getHotspot",F.some),tt("getAnchorOverrides",we({})),tt("layouts",F.none()),tt("eventOrder",{}),Pd("model",{},[tt("getDisplayText",t=>t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value),tt("selectsOver",!0),tt("populateFromBrowse",!0)]),Qe("onSetValue"),Br("onExecute"),Qe("onItemExecute"),tt("inputClasses",[]),tt("inputAttributes",{}),tt("inputStyles",{}),tt("matchWidth",!0),tt("useMinWidth",!1),tt("dismissOnBlur",!0),_d(["openClass"]),qo("initialData"),Sc("typeaheadBehaviours",[Qn,pn,g2,Vn,Mo,qi]),Ts("lazyTypeaheadComp",()=>Wn(F.none)),Ts("previewing",()=>Wn(!0))].concat(YP()).concat(cD())),hU=we([vh({schema:[Cf()],name:"menu",overrides:t=>({fakeFocus:!0,onHighlightItem:(s,i,u)=>{t.previewing.get()?t.lazyTypeaheadComp.get().each(m=>{dU(t.model,m,u).fold(()=>{t.model.selectsOver?(Cs.dehighlight(i,u),t.previewing.set(!0)):t.previewing.set(!1)},b=>{b(),t.previewing.set(!1)})}):t.lazyTypeaheadComp.get().each(m=>{t.model.populateFromBrowse&&v2(t.model,m,u)})},onExecute:(s,i)=>t.lazyTypeaheadComp.get().map(u=>(Nn(u,aM(),{item:i}),!0)),onHover:(s,i)=>{t.previewing.set(!1),t.lazyTypeaheadComp.get().each(u=>{t.model.populateFromBrowse&&v2(t.model,u,i)})}})})]),o$=ji({name:"Typeahead",configFields:n$(),partFields:hU(),factory:fU}),ip=t=>({...t,toCached:()=>ip(t.toCached()),bindFuture:L=>ip(t.bind(z=>z.fold(Y=>Wl.pure(io.error(Y)),Y=>L(Y)))),bindResult:L=>ip(t.map(z=>z.bind(L))),mapResult:L=>ip(t.map(z=>z.map(L))),mapError:L=>ip(t.map(z=>z.mapError(L))),foldResult:(L,z)=>t.map(Y=>Y.fold(L,z)),withTimeout:(L,z)=>ip(Wl.nu(Y=>{let ne=!1;const ie=setTimeout(()=>{ne=!0,Y(io.error(z()))},L);t.get(de=>{ne||(clearTimeout(ie),Y(de))})}))}),s$=t=>ip(Wl.nu(t)),b2=t=>ip(Wl.pure(io.value(t))),pU={nu:s$,wrap:ip,pure:b2,value:b2,error:t=>ip(Wl.pure(io.error(t))),fromResult:t=>ip(Wl.pure(t)),fromFuture:t=>ip(t.map(io.value)),fromPromise:t=>s$(s=>{t.then(i=>{s(io.value(i))},i=>{s(io.error(i))})})},yS=(t,s,i=[],u,m,b)=>{const T=s.fold(()=>({}),z=>({action:z})),I={buttonBehaviours:Bt([Jm.button(()=>!t.enabled||b.isDisabled()),xc(),Ni.config({}),vo("button press",[jg("click"),jg("mousedown")])].concat(i)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...T},L=dr(I,{dom:u});return dr(L,{components:m})},gU=(t,s,i,u=[])=>{const m=t.tooltip.map(L=>({"aria-label":i.translate(L),title:i.translate(L)})).getOr({}),b={tag:"button",classes:["tox-tbtn"],attributes:m},T=t.icon.map(L=>Jy(L,i.icons)),I=nw([T]);return yS(t,s,u,b,I,i)},y2=t=>{switch(t){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},r$=(t,s,i,u=[],m=[])=>{const b=i.translate(t.text),T=t.icon.map(ie=>Jy(ie,i.icons)),I=[T.getOrThunk(()=>$r(b))],L=t.buttonType.getOr(!t.primary&&!t.borderless?"secondary":"primary"),ne={tag:"button",classes:[...y2(L),...T.isSome()?["tox-button--icon"]:[],...t.borderless?["tox-button--naked"]:[],...m],attributes:{title:b}};return yS(t,s,u,ne,I,i)},i$=(t,s,i,u=[],m=[])=>{const b=r$(t,F.some(s),i,u,m);return xl.sketch(b)},a$=(t,s)=>i=>{s==="custom"?Nn(i,bv,{name:t,value:{}}):s==="submit"?ls(i,rS):s==="cancel"?ls(i,Yy):console.error("Unknown button type: ",s)},vU=(t,s)=>s==="menu",c$=(t,s)=>s==="custom"||s==="cancel"||s==="submit",bU=(t,s)=>s==="togglebutton",yU=(t,s)=>{var i,u,m;const b=F.from(t.icon).map(it=>rp(it,s.icons)).map(Yo),T=it=>{Nn(it,bv,{name:t.name,value:{setIcon:ht=>{b.map(vt=>vt.getOpt(it).each(tn=>{mo.set(tn,[rp(ht,s.icons)])}))}}})},I={...t,name:(i=t.name)!==null&&i!==void 0?i:"",primary:t.buttonType==="primary",buttonType:F.from(t.buttonType),tooltip:F.from(t.tooltip),icon:F.from(t.name),enabled:(u=t.enabled)!==null&&u!==void 0?u:!1,borderless:!1},L=I.tooltip.map(it=>({"aria-label":s.translate(it),title:s.translate(it)})).getOr({}),z=y2((m=t.buttonType)!==null&&m!==void 0?m:"secondary"),Y=!!t.icon&&!!t.text,ne={tag:"button",classes:[...z.concat(["tox-button--icon"]),...t.active?["tox-button--enabled"]:[],...Y?["tox-button--icon-and-text"]:[]],attributes:L},ie=[],de=s.translate(t.text),Se=$r(de),ct=[...nw([b.map(it=>it.asSpec())]),...Y?[Se]:[]],je=yS(I,F.some(T),ie,ne,ct,s);return xl.sketch(je)},_S=(t,s,i)=>{if(vU(t,s)){const u=()=>T,m=t,b={...t,type:"menubutton",search:F.none(),onSetup:I=>(I.setEnabled(t.enabled),ee),fetch:rU(m.items,u,i)},T=Yo(bS(b,"tox-tbtn",i,F.none()));return T.asSpec()}else if(c$(t,s)){const u=a$(t.name,s),m={...t,borderless:!1};return i$(m,u,i.shared.providers,[])}else if(bU(t,s)){const u={...t,tooltip:t.tooltip,text:t.text.getOrUndefined(),buttonType:t.buttonType.getOrUndefined()};return yU(u,i.shared.providers)}else throw console.error("Unknown footer button type: ",s),new Error("Unknown footer button type")},_U=(t,s)=>{const i=a$(t.name,"custom");return N4(F.none(),Ms.parts.field({factory:xl,...r$(t,F.some(i),s,[Yi.memory(""),sp.self()])}))},EU={type:"separator"},wU=t=>({type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:ee}),_2=(t,s)=>({type:"menuitem",value:s,text:t,meta:{attach:void 0},onAction:ee}),TU=t=>nt(t,wU),CU=(t,s)=>po(s,i=>i.type===t),cM=(t,s)=>TU(CU(t,s)),l$=t=>cM("header",t.targets),u$=t=>cM("anchor",t.targets),E2=t=>F.from(t.anchorTop).map(s=>_2("<top>",s)).toArray(),SU=t=>F.from(t.anchorBottom).map(s=>_2("<bottom>",s)).toArray(),xU=t=>nt(t,s=>_2(s,s)),AU=t=>as(t,(s,i)=>s.length===0||i.length===0?s.concat(i):s.concat(EU,i),[]),lM=(t,s)=>{const i=t.toLowerCase();return po(s,u=>{var m;const b=u.meta!==void 0&&u.meta.text!==void 0?u.meta.text:u.text,T=(m=u.value)!==null&&m!==void 0?m:"";return li(b.toLowerCase(),i)||li(T.toLowerCase(),i)})},d$=(t,s,i)=>{const u=pn.getValue(s),m=u.meta.text!==void 0?u.meta.text:u.value;return i.getLinkInformation().fold(()=>[],T=>{const I=lM(m,xU(i.getHistory(t)));return t==="file"?AU([I,lM(m,l$(T)),lM(m,en([E2(T),u$(T),SU(T)]))]):I})},uM=zt("aria-invalid"),OU=(t,s,i,u)=>{const m=s.shared.providers,b=it=>{const ht=pn.getValue(it);i.addToHistory(ht.value,t.filetype)},T={...u.map(it=>({initialData:it})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":uM,type:"url"},minChars:0,responseTime:0,fetch:it=>{const ht=d$(t.filetype,it,i),vt=t_(ht,cg.BUBBLE_TO_SANDBOX,s,{isHorizontalMenu:!1,search:F.none()});return Wl.pure(vt)},getHotspot:it=>Se.getOpt(it),onSetValue:(it,ht)=>{it.hasConfigured(yv)&&yv.run(it).get(ee)},typeaheadBehaviours:Bt([...i.getValidationHandler().map(it=>yv.config({getRoot:ht=>ml(ht.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(ht,vt)=>{Y.getOpt(ht).each(tn=>{uo(tn.element,"title",m.translate(vt))})}},validator:{validate:ht=>{const vt=pn.getValue(ht);return pU.nu(tn=>{it({type:t.filetype,url:vt.value},Ft=>{if(Ft.status==="invalid"){const hn=io.error(Ft.message);tn(hn)}else{const hn=io.value(Ft.message);tn(hn)}})})},validateOnLoad:!1}})).toArray(),so.config({disabled:()=>!t.enabled||m.isDisabled()}),Ni.config({}),vo("urlinput-events",[kt(ia(),it=>{const ht=Vu(it.element),vt=ht.trim();vt!==ht&&zd(it.element,vt),t.filetype==="file"&&Nn(it,kf,{name:t.name})}),kt($l(),it=>{Nn(it,kf,{name:t.name}),b(it)}),kt(zg(),it=>{Nn(it,kf,{name:t.name}),b(it)})])]),eventOrder:{[ia()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:it=>it.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:s.shared.getSink,parts:{menu:gA(!1,1,"normal")},onExecute:(it,ht,vt)=>{Nn(ht,rS,{})},onItemExecute:(it,ht,vt,tn)=>{b(it),Nn(it,kf,{name:t.name})}},I=Ms.parts.field({...T,factory:o$}),L=t.label.map(it=>G1(it,m)),Y=Yo(((it,ht,vt=it,tn=it)=>Qh(vt,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+it],attributes:{title:m.translate(tn),"aria-live":"polite",...ht.fold(()=>({}),Ft=>({id:Ft}))}},m.icons))("invalid",F.some(uM),"warning")),ne=Yo({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[Y.asSpec()]}),ie=i.getUrlPicker(t.filetype),de=zt("browser.url.event"),Se=Yo({dom:{tag:"div",classes:["tox-control-wrap"]},components:[I,ne.asSpec()],behaviours:Bt([so.config({disabled:()=>!t.enabled||m.isDisabled()})])}),Le=Yo(i$({name:t.name,icon:F.some("browse"),text:t.label.getOr(""),enabled:t.enabled,primary:!1,buttonType:F.none(),borderless:!0},it=>ls(it,de),m,[],["tox-browse-url"])),ct=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:en([[Se.asSpec()],ie.map(()=>Le.asSpec()).toArray()])}),je=it=>{ss.getCurrent(it).each(ht=>{const vt=pn.getValue(ht),tn={fieldname:t.name,...vt};ie.each(Ft=>{Ft(tn).get(hn=>{pn.setValue(ht,hn),Nn(it,kf,{name:t.name})})})})};return Ms.sketch({dom:k4(),components:L.toArray().concat([ct()]),fieldBehaviours:Bt([so.config({disabled:()=>!t.enabled||m.isDisabled(),onDisabled:it=>{Ms.getField(it).each(so.disable),Le.getOpt(it).each(so.disable)},onEnabled:it=>{Ms.getField(it).each(so.enable),Le.getOpt(it).each(so.enable)}}),xc(),vo("url-input-events",[kt(de,je)])])})},RU=(t,s)=>ep.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${t.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[xl.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:mP(t.icon,s.icons),attributes:{title:s.translate(t.iconTooltip)}},action:i=>{Nn(i,bv,{name:"alert-banner",value:t.url})},buttonBehaviours:Bt([SC()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:s.translate(t.text)}}]}),f$=(t,s)=>{t.dom.checked=s},IU=t=>t.dom.checked,DU=(t,s,i)=>{const u=L=>(L.element.dom.click(),F.some(!0)),m=Ms.parts.field({factory:{sketch:Ue},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Bt([sp.self(),so.config({disabled:()=>!t.enabled||s.isDisabled()}),Ni.config({}),Qn.config({}),Yi.withElement(i,IU,f$),Vn.config({mode:"special",onEnter:u,onSpace:u,stopSpaceKeyup:!0}),vo("checkbox-events",[kt($l(),(L,z)=>{Nn(L,kf,{name:t.name})})])])}),b=Ms.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[$r(s.translate(t.label))],behaviours:Bt([iS.config({})])}),T=L=>Qh(L==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+L]},s.icons),I=Yo({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[T("checked"),T("unchecked")]});return Ms.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[m,I.asSpec(),b],fieldBehaviours:Bt([so.config({disabled:()=>!t.enabled||s.isDisabled(),disableClass:"tox-checkbox--disabled",onDisabled:L=>{Ms.getField(L).each(so.disable)},onEnabled:L=>{Ms.getField(L).each(so.enable)}}),xc()])})},Io=t=>t.presets==="presentation"?ep.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):ep.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:Bt([Ni.config({}),Qn.config({})])}),ma=t=>(s,i,u,m)=>dn(i,"name").fold(()=>t(i,m,F.none()),b=>s.field(b,t(i,m,dn(u,b)))),h$=t=>(s,i,u,m)=>{const b=dr(i,{source:"dynamic"});return ma(t)(s,b,u,m)},m$={bar:ma((t,s)=>c7(t,s.shared)),collection:ma((t,s,i)=>m7(t,s.shared.providers,i)),alertbanner:ma((t,s)=>RU(t,s.shared.providers)),input:ma((t,s,i)=>H3(t,s.shared.providers,i)),textarea:ma((t,s,i)=>V3(t,s.shared.providers,i)),label:ma((t,s)=>f2(t,s.shared)),iframe:h$((t,s,i)=>Pz(t,s.shared.providers,i)),button:ma((t,s)=>_U(t,s.shared.providers)),checkbox:ma((t,s,i)=>DU(t,s.shared.providers,i)),colorinput:ma((t,s,i)=>w7(t,s.shared,s.colorinput,i)),colorpicker:ma((t,s,i)=>Iz(t,s.shared.providers,i)),dropzone:ma((t,s,i)=>Tv(t,s.shared.providers,i)),grid:ma((t,s)=>FD(t,s.shared)),listbox:ma((t,s,i)=>Wz(t,s,i)),selectbox:ma((t,s,i)=>qz(t,s.shared.providers,i)),sizeinput:ma((t,s)=>Yz(t,s.shared.providers)),slider:ma((t,s,i)=>Kz(t,s.shared.providers,i)),urlinput:ma((t,s,i)=>OU(t,s,s.urlinput,i)),customeditor:ma(Mz),htmlpanel:ma(Io),imagepreview:ma((t,s,i)=>Cv(t,i)),table:ma((t,s)=>Xz(t,s.shared.providers)),tree:ma((t,s)=>nM(t,s)),panel:ma((t,s)=>Gz(t,s))},p$={field:(t,s)=>s,record:we([])},dM=(t,s,i,u)=>{const m=dr(u,{shared:{interpreter:b=>w2(t,b,i,m)}});return w2(t,s,i,m)},w2=(t,s,i,u)=>dn(m$,s.type).fold(()=>(console.error(`Unknown factory type "${s.type}", defaulting to container: `,s),s),m=>m(t,s,i,u)),MU=(t,s,i)=>w2(p$,t,s,i),ap="layout-inset",fM=t=>t.x,hM=(t,s)=>t.x+t.width/2-s.width/2,mM=(t,s)=>t.x+t.width-s.width,pM=t=>t.y,gM=(t,s)=>t.y+t.height-s.height,vM=(t,s)=>t.y+t.height/2-s.height/2,gw=(t,s,i)=>xa(mM(t,s),gM(t,s),i.insetSouthwest(),l1(),"southwest",za(t,{right:0,bottom:3}),ap),ES=(t,s,i)=>xa(fM(t),gM(t,s),i.insetSoutheast(),_b(),"southeast",za(t,{left:1,bottom:3}),ap),wS=(t,s,i)=>xa(mM(t,s),pM(t),i.insetNorthwest(),Fm(),"northwest",za(t,{right:0,top:2}),ap),TS=(t,s,i)=>xa(fM(t),pM(t),i.insetNortheast(),Fp(),"northeast",za(t,{left:1,top:2}),ap),xv=(t,s,i)=>xa(hM(t,s),pM(t),i.insetNorth(),il(),"north",za(t,{top:2}),ap),CS=(t,s,i)=>xa(hM(t,s),gM(t,s),i.insetSouth(),u1(),"south",za(t,{bottom:3}),ap),g$=(t,s,i)=>xa(mM(t,s),vM(t,s),i.insetEast(),d1(),"east",za(t,{right:0}),ap),bM=(t,s,i)=>xa(fM(t),vM(t,s),i.insetWest(),H0(),"west",za(t,{left:1}),ap),NU=t=>{switch(t){case"north":return xv;case"northeast":return TS;case"northwest":return wS;case"south":return CS;case"southeast":return ES;case"southwest":return gw;case"east":return g$;case"west":return bM}},v$=(t,s,i,u,m)=>tv(u).map(NU).getOr(xv)(t,s,i,u,m),kU=t=>{switch(t){case"north":return CS;case"northeast":return ES;case"northwest":return gw;case"south":return xv;case"southeast":return TS;case"southwest":return wS;case"east":return bM;case"west":return g$}},PU=(t,s,i,u,m)=>tv(u).map(kU).getOr(xv)(t,s,i,u,m),b$={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},LU=(t,s,i)=>{const m={maxHeightFunction:Vm()},b=()=>({type:"node",root:Ji(Ti(t())),node:F.from(t()),bubble:Af(12,12,b$),layouts:{onRtl:()=>[TS],onLtr:()=>[wS]},overrides:m}),T=()=>({type:"hotspot",hotspot:s(),bubble:Af(-12,12,b$),layouts:{onRtl:()=>[Ua,la,sc],onLtr:()=>[la,Ua,sc]},overrides:m});return()=>i()?b():T()},$U=(t,s,i)=>{const u=()=>({type:"node",root:Ji(Ti(t())),node:F.from(t()),layouts:{onRtl:()=>[xv],onLtr:()=>[xv]}}),m=()=>({type:"hotspot",hotspot:s(),layouts:{onRtl:()=>[sc],onLtr:()=>[sc]}});return()=>i()?u():m()},BU=(t,s)=>()=>({type:"selection",root:s(),getSelection:()=>{const i=t.selection.getRng();return F.some(Kh.range(et.fromDom(i.startContainer),i.startOffset,et.fromDom(i.endContainer),i.endOffset))}}),FU=t=>s=>({type:"node",root:t(),node:s}),HU=(t,s,i)=>{const u=$y(t),m=()=>et.fromDom(t.getBody()),b=()=>et.fromDom(t.getContentAreaContainer()),T=()=>u||!i();return{inlineDialog:LU(b,s,T),banner:$U(b,s,T),cursor:BU(t,m),node:FU(m)}},VU=t=>(s,i)=>{eD(t)(s,i)},y$=t=>()=>YI(t),zU=t=>s=>rw(t,s),UU=t=>s=>VA(t,s),WU=t=>({colorPicker:VU(t),hasCustomColors:y$(t),getColors:zU(t),getColorCols:UU(t)}),GU=t=>()=>DP(t),jU=t=>({isDraggableModal:GU(t)}),qU=t=>{const s=Wn(fI(t)?"bottom":"top");return{isPositionedAtTop:()=>s.get()==="top",getDockingMode:s.get,setDockingMode:s.set}},yM=t=>Da(t,"items"),_$=t=>Da(t,"format"),_M=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],ZU=t=>jo(t,"items"),E$=t=>jo(t,"block"),w$=t=>jo(t,"inline"),T$=t=>jo(t,"selector"),C$=t=>as(t,(s,i)=>{if(ZU(i)){const u=C$(i.items);return{customFormats:s.customFormats.concat(u.customFormats),formats:s.formats.concat([{title:i.title,items:u.formats}])}}else if(w$(i)||E$(i)||T$(i)){const m=`custom-${M(i.name)?i.name:i.title.toLowerCase()}`;return{customFormats:s.customFormats.concat([{name:m,format:i}]),formats:s.formats.concat([{title:i.title,format:m,icon:i.icon}])}}else return{...s,formats:s.formats.concat(i)}},{customFormats:[],formats:[]}),S$=(t,s)=>{const i=C$(s),u=m=>{Lt(m,b=>{t.formatter.has(b.name)||t.formatter.register(b.name,b.format)})};return t.formatter?u(i.customFormats):t.on("init",()=>{u(i.customFormats)}),i.formats},EM=t=>_P(t).map(s=>{const i=S$(t,s);return EP(t)?_M.concat(i):i}).getOr(_M),YU=t=>{const s=lr(t);return s.length===1&&_o(s,"title")},wM=(t,s,i)=>({...t,type:"formatter",isSelected:s(t.format),getStylePreview:i(t.format)}),x$=(t,s,i,u)=>{const m=L=>wM(L,i,u),b=L=>{const z=I(L.items);return{...L,type:"submenu",getStyleItems:we(z)}},T=L=>{const z=M(L.name)?L.name:zt(L.title),Y=`custom-${z}`,ne={...L,type:"formatter",format:Y,isSelected:i(Y),getStylePreview:u(Y)};return t.formatter.register(z,ne),ne},I=L=>nt(L,z=>yM(z)?b(z):_$(z)?m(z):YU(z)?{...z,type:"separator"}:T(z));return I(s)},KU=t=>{const s=I=>()=>t.formatter.match(I),i=I=>()=>{const L=t.formatter.get(I);return L!==void 0?F.some({tag:L.length>0&&(L[0].inline||L[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(I))}):F.none()},u=Wn([]),m=Wn([]),b=Wn(!1);return t.on("PreInit",I=>{const L=EM(t),z=x$(t,L,s,i);u.set(z)}),t.on("addStyleModifications",I=>{const L=x$(t,I.items,s,i);m.set(L),b.set(I.replace)}),{getData:()=>{const I=b.get()?[]:u.get(),L=m.get();return I.concat(L)}}},mg=t=>fe(t)&&t.nodeType===1,T2=Qy.trim,SS=t=>s=>!!(mg(s)&&(s.contentEditable===t||s.getAttribute("data-mce-contenteditable")===t)),XU=SS("true"),TM=SS("false"),A$=(t,s,i,u,m)=>({type:t,title:s,url:i,level:u,attach:m}),CM=t=>{let s=t;for(;s=s.parentNode;){const i=s.contentEditable;if(i&&i!=="inherit")return XU(s)}return!1},O$=(t,s)=>nt(fa(et.fromDom(s),t),i=>i.dom),C2=t=>t.innerText||t.textContent,QU=t=>t.id?t.id:zt("h"),R$=t=>t&&t.nodeName==="A"&&(t.id||t.name)!==void 0,I$=t=>R$(t)&&D$(t),S2=t=>t&&/^(H[1-6])$/.test(t.nodeName),D$=t=>CM(t)&&!TM(t),JU=t=>S2(t)&&D$(t),M$=t=>S2(t)?parseInt(t.nodeName.substr(1),10):0,eW=t=>{var s;const i=QU(t),u=()=>{t.id=i};return A$("header",(s=C2(t))!==null&&s!==void 0?s:"","#"+i,M$(t),u)},tW=t=>{const s=t.id||t.name,i=C2(t);return A$("anchor",i||"#"+s,"#"+s,0,ee)},N$=t=>nt(po(t,JU),eW),k$=t=>nt(po(t,I$),tW),nW=t=>O$("h1,h2,h3,h4,h5,h6,a:not([href])",t),oW=t=>T2(t.title).length>0,sW={find:t=>{const s=nW(t);return po(N$(s).concat(k$(s)),oW)}},xS="tinymce-url-history",cp=5,x2=t=>M(t)&&/^https?/.test(t),rW=t=>j(t)&&t.length<=cp&&Gc(t,x2),P$=t=>P(t)&&uc(t,s=>!rW(s)).isNone(),L$=()=>{const t=qy.getItem(xS);if(t===null)return{};let s;try{s=JSON.parse(t)}catch(i){if(i instanceof SyntaxError)return console.log("Local storage "+xS+" was not valid JSON",i),{};throw i}return P$(s)?s:(console.log("Local storage "+xS+" was not valid format",s),{})},iW=t=>{if(!P$(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));qy.setItem(xS,JSON.stringify(t))},aW=t=>{const s=L$();return dn(s,t).getOr([])},$$=(t,s)=>{if(!x2(t))return;const i=L$(),u=dn(i,s).getOr([]),m=po(u,b=>b!==t);i[s]=[t].concat(m).slice(0,cp),iW(i)},SM=t=>!!t,yK=t=>Ls(Qy.makeMap(t,/[, ]/),SM),B$=t=>F.from(AP(t)),Gl=t=>{const s=F.from(hA(t)).filter(SM).map(yK);return B$(t).fold(Tt,i=>s.fold(Mt,u=>lr(u).length>0?u:!1))},xM=(t,s)=>{const i=Gl(t);return me(i)?i?B$(t):F.none():i[s]?B$(t):F.none()},cW=(t,s)=>xM(t,s).map(i=>u=>Wl.nu(m=>{const b=(I,L)=>{if(!M(I))throw new Error("Expected value to be string");if(L!==void 0&&!P(L))throw new Error("Expected meta to be a object");m({value:I,meta:L})},T={filetype:s,fieldname:u.fieldname,...F.from(u.meta).getOr({})};i.call(t,b,u.value,T)})),AS=t=>F.from(t).filter(M).getOrUndefined(),lW=t=>RP(t)?F.some({targets:sW.find(t.getBody()),anchorTop:AS(DC(t)),anchorBottom:AS(IP(t))}):F.none(),uW=t=>F.from(OP(t)),dW=t=>({getHistory:aW,addToHistory:$$,getLinkInformation:()=>lW(t),getValidationHandler:()=>uW(t),getUrlPicker:s=>cW(t,s)}),fW=(t,s,i)=>{const u=Wn(!1),m=qU(s),b={icons:()=>s.ui.registry.getAll().icons,menuItems:()=>s.ui.registry.getAll().menuItems,translate:_h.translate,isDisabled:()=>s.mode.isReadOnly()||!s.ui.isEnabled(),getOption:s.options.get},T=dW(s),I=KU(s),L=WU(s),z=jU(s),Y=()=>u.get(),ne=Le=>u.set(Le),ie={shared:{providers:b,anchors:HU(s,i,m.isPositionedAtTop),header:m},urlinput:T,styles:I,colorinput:L,dialog:z,isContextMenuOpen:Y,setContextMenuState:ne},de={...ie,shared:{...ie.shared,interpreter:Le=>MU(Le,{},de),getSink:t.popup}},Se={...ie,shared:{...ie.shared,interpreter:Le=>MU(Le,{},Se),getSink:t.dialog}};return{popup:de,dialog:Se}},hW=(t,s,i)=>{const u=(Ft,hn)=>{Lt([s,...i],In=>{In.broadcastEvent(Ft,hn)})},m=(Ft,hn)=>{Lt([s,...i],In=>{In.broadcastOn([Ft],hn)})},b=Ft=>m(Jp(),{target:Ft.target}),T=fo(),I=ll(T,"touchstart",b),L=ll(T,"touchmove",Ft=>u(hb(),Ft)),z=ll(T,"touchend",Ft=>u(ol(),Ft)),Y=ll(T,"mousedown",b),ne=ll(T,"mouseup",Ft=>{Ft.raw.button===0&&m(DT(),{target:Ft.target})}),ie=Ft=>m(Jp(),{target:et.fromDom(Ft.target)}),de=Ft=>{Ft.button===0&&m(DT(),{target:et.fromDom(Ft.target)})},Se=()=>{Lt(t.editorManager.get(),Ft=>{t!==Ft&&Ft.dispatch("DismissPopups",{relatedTarget:t})})},Le=Ft=>u(ku(),tE(Ft)),ct=Ft=>{m(Fb(),{}),u(vf(),tE(Ft))},je=Ti(et.fromDom(t.getElement())),it=y1(je,"scroll",Ft=>{requestAnimationFrame(()=>{const hn=t.getContainer();if(hn!=null){const Go=Zi(t,s.element).map(zn=>[zn.element,...zn.others]).getOr([]);Ho(Go,zn=>us(zn,Ft.target))&&(t.dispatch("ElementScroll",{target:Ft.target.dom}),u(Qv(),Ft))}})}),ht=()=>m(Fb(),{}),vt=Ft=>{Ft.state&&m(Jp(),{target:et.fromDom(t.getContainer())})},tn=Ft=>{m(Jp(),{target:et.fromDom(Ft.relatedTarget.getContainer())})};t.on("PostRender",()=>{t.on("click",ie),t.on("tap",ie),t.on("mouseup",de),t.on("mousedown",Se),t.on("ScrollWindow",Le),t.on("ResizeWindow",ct),t.on("ResizeEditor",ht),t.on("AfterProgressState",vt),t.on("DismissPopups",tn)}),t.on("remove",()=>{t.off("click",ie),t.off("tap",ie),t.off("mouseup",de),t.off("mousedown",Se),t.off("ScrollWindow",Le),t.off("ResizeWindow",ct),t.off("ResizeEditor",ht),t.off("AfterProgressState",vt),t.off("DismissPopups",tn),Y.unbind(),I.unbind(),L.unbind(),z.unbind(),ne.unbind(),it.unbind()}),t.on("detach",()=>{Lt([s,...i],wx),Lt([s,...i],Ft=>Ft.destroy())})},Uc=oC,Av=Lx,mW=we([tt("shell",!1),Rt("makeItem"),tt("setupItem",ee),gh.field("listBehaviours",[mo])]),A2=If({name:"items",overrides:()=>({behaviours:Bt([mo.config({})])})}),gW=we([A2]),F$=we("CustomList"),vW=(t,s,i,u)=>{const m=(I,L)=>{T(I).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},z=>{const Y=mo.contents(z),ne=L.length,ie=ne-Y.length,de=ie>0?lo(ie,()=>t.makeItem()):[],Se=Y.slice(ne);Lt(Se,ct=>mo.remove(z,ct)),Lt(de,ct=>mo.append(z,ct));const Le=mo.contents(z);Lt(Le,(ct,je)=>{t.setupItem(I,ct,L[je],je)})})},b=t.shell?{behaviours:[mo.config({})],components:[]}:{behaviours:[],components:s},T=I=>t.shell?F.some(I):Cr(I,t,"items");return{uid:t.uid,dom:t.dom,components:b.components,behaviours:Gr(t.listBehaviours,b.behaviours),apis:{setItems:m}}},AM=ji({name:F$(),configFields:mW(),partFields:gW(),factory:vW,apis:{setItems:(t,s,i)=>{t.setItems(s,i)}}}),vw=we([Rt("dom"),tt("shell",!0),Sc("toolbarBehaviours",[mo])]),H$=we([If({name:"groups",overrides:()=>({behaviours:Bt([mo.config({})])})})]),EK=(t,s,i,u)=>{const m=(I,L)=>{b(I).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},z=>{mo.set(z,L)})},b=I=>t.shell?F.some(I):Cr(I,t,"groups"),T=t.shell?{behaviours:[mo.config({})],components:[]}:{behaviours:[],components:s};return{uid:t.uid,dom:t.dom,components:T.components,behaviours:Gr(t.toolbarBehaviours,T.behaviours),apis:{setGroups:m},domModification:{attributes:{role:"group"}}}},Ov=ji({name:"Toolbar",configFields:vw(),partFields:H$(),factory:EK,apis:{setGroups:(t,s,i)=>{t.setGroups(s,i)}}}),bW=ee,yW=Tt,V$=we([]);var z$=Object.freeze({__proto__:null,setup:bW,isDocked:yW,getBehaviours:V$});const OS=t=>(qc(ot(t,"position"),"fixed")?F.none():vm(t)).orThunk(()=>{const u=et.fromTag("span");return Kc(t).bind(m=>{Be(m,u);const b=vm(u);return xt(u),b})}),U$=t=>OS(t).map(Po).getOrThunk(()=>Zn(0,0)),_W=(t,s)=>{const i=t.element;ks(i,s.transitionClass),Zs(i,s.fadeOutClass),ks(i,s.fadeInClass),s.onShow(t)},W$=(t,s)=>{const i=t.element;ks(i,s.transitionClass),Zs(i,s.fadeInClass),ks(i,s.fadeOutClass),s.onHide(t)},EW=(t,s)=>t.y<s.bottom&&t.bottom>s.y,G$=(t,s)=>t.y>=s.y,j$=(t,s)=>t.bottom<=s.bottom,OM=(t,s,i)=>({location:"top",leftX:s,topY:i.bounds.y-t.y}),RS=(t,s,i)=>({location:"bottom",leftX:s,bottomY:t.bottom-i.bounds.bottom}),O2=t=>t.box.x-t.win.x,wW=(t,s,i)=>{const u=s.win,m=s.box,b=O2(s);return Or(t,T=>{switch(T){case"bottom":return j$(m,i.bounds)?F.none():F.some(RS(u,b,i));case"top":return G$(m,i.bounds)?F.none():F.some(OM(u,b,i));default:return F.none()}}).getOr({location:"no-dock"})},TW=(t,s,i)=>Gc(t,u=>{switch(u){case"bottom":return j$(s,i.bounds);case"top":return G$(s,i.bounds)}}),CW=(t,s)=>{const i=s.optScrollEnv.fold(we(t.bounds.y),u=>u.scrollElmTop+(t.bounds.y-u.currentScrollTop));return Zn(t.bounds.x,i)},SW=(t,s)=>{const i=s.optScrollEnv.fold(we(t.y),u=>t.y+u.currentScrollTop-u.scrollElmTop);return Zn(t.x,i)},R2=(t,s,i)=>i.getInitialPos().map(u=>{const m=CW(u,s);return{box:js(m.left,m.top,Er(t),xn(t)),location:u.location}}),q$=(t,s,i,u,m)=>{const b=SW(s,i),T=js(b.left,b.top,s.width,s.height);u.setInitialPos({style:wt(t),position:Ce(t,"position")||"static",bounds:T,location:m.location})},I2=(t,s,i,u,m)=>{u.getInitialPos().fold(()=>q$(t,s,i,u,m),()=>ee)},Z$=(t,s,i)=>i.getInitialPos().bind(u=>{var m;switch(i.clearInitialPos(),u.position){case"static":return F.some({morph:"static"});case"absolute":const b=OS(t).getOr(ea()),T=ns(b),I=(m=b.dom.scrollTop)!==null&&m!==void 0?m:0;return F.some({morph:"absolute",positionCss:cl("absolute",dn(u.style,"left").map(L=>s.x-T.x),dn(u.style,"top").map(L=>s.y-T.y+I),dn(u.style,"right").map(L=>T.right-s.right),dn(u.style,"bottom").map(L=>T.bottom-s.bottom))});default:return F.none()}}),D2=(t,s,i)=>R2(t,s,i).filter(({box:u})=>TW(i.getModes(),u,s)).bind(({box:u})=>Z$(t,u,i)),RM=t=>{switch(t.location){case"top":return F.some({morph:"fixed",positionCss:cl("fixed",F.some(t.leftX),F.some(t.topY),F.none(),F.none())});case"bottom":return F.some({morph:"fixed",positionCss:cl("fixed",F.some(t.leftX),F.none(),F.none(),F.some(t.bottomY))});default:return F.none()}},IM=(t,s,i)=>{const u=ns(t),m=Ja(),b=wW(i.getModes(),{win:m,box:u},s);return b.location==="top"||b.location==="bottom"?(q$(t,u,s,i,b),RM(b)):F.none()},IS=(t,s,i)=>D2(t,s,i).orThunk(()=>s.optScrollEnv.bind(u=>R2(t,s,i)).bind(({box:u,location:m})=>{const b=Ja(),T=O2({win:b,box:u}),I=m==="top"?OM(b,T,s):RS(b,T,s);return RM(I)})),Y$=(t,s,i)=>{const u=t.element;return qc(ot(u,"position"),"fixed")?IS(u,s,i):IM(u,s,i)},xW=(t,s,i)=>{const u=t.element;return R2(u,s,i).bind(({box:m})=>Z$(u,m,i))},K$=(t,s,i,u)=>{const m=ns(t),b=Ja(),T=O2({win:b,box:m}),I=u(b,T,s);return I.location==="bottom"||I.location==="top"?(I2(t,m,s,i,I),RM(I)):F.none()},DM=(t,s,i)=>{i.setDocked(!1),Lt(["left","right","top","bottom","position"],u=>st(t.element,u)),s.onUndocked(t)},M2=(t,s,i,u)=>{const m=u.position==="fixed";i.setDocked(m),xb(t.element,u),(m?s.onDocked:s.onUndocked)(t)},X$=(t,s,i,u,m=!1)=>{s.contextual.each(b=>{b.lazyContext(t).each(T=>{const I=EW(T,u.bounds);I!==i.isVisible()&&(i.setVisible(I),m&&!I?(yd(t.element,[b.fadeOutClass]),b.onHide(t)):(I?_W:W$)(t,b))})})},N2=(t,s,i,u,m)=>{X$(t,s,i,u,!0),M2(t,s,i,m.positionCss)},k2=(t,s,i,u,m)=>{switch(m.morph){case"static":return DM(t,s,i);case"absolute":return M2(t,s,i,m.positionCss);case"fixed":return N2(t,s,i,u,m)}},AW=(t,s,i)=>{const u=s.lazyViewport(t);X$(t,s,i,u),Y$(t,u,i).each(m=>{k2(t,s,i,u,m)})},OW=(t,s,i)=>{const u=t.element;i.setDocked(!1);const m=s.lazyViewport(t);xW(t,m,i).each(b=>{switch(b.morph){case"static":{DM(t,s,i);break}case"absolute":{M2(t,s,i,b.positionCss);break}}}),i.setVisible(!0),s.contextual.each(b=>{Tl(u,[b.fadeInClass,b.fadeOutClass,b.transitionClass]),b.onShow(t)}),Z1(t,s,i)},Z1=(t,s,i)=>{t.getSystem().isConnected()&&AW(t,s,i)},MM=(t,s,i)=>{i.isDocked()&&OW(t,s,i)},Q$=t=>(s,i,u)=>{const m=i.lazyViewport(s);K$(s.element,m,u,t).each(T=>{N2(s,i,u,m,T)})},J$=Q$(OM),NM=Q$(RS);var RW=Object.freeze({__proto__:null,refresh:Z1,reset:MM,isDocked:(t,s,i)=>i.isDocked(),getModes:(t,s,i)=>i.getModes(),setModes:(t,s,i,u)=>i.setModes(u),forceDockToTop:J$,forceDockToBottom:NM}),IW=Object.freeze({__proto__:null,events:(t,s)=>er([Ui(pf(),(i,u)=>{t.contextual.each(m=>{Sa(i.element,m.transitionClass)&&(Tl(i.element,[m.transitionClass,m.fadeInClass]),(s.isVisible()?m.onShown:m.onHidden)(i)),u.stop()})}),kt(ku(),(i,u)=>{Z1(i,t,s)}),kt(Qv(),(i,u)=>{Z1(i,t,s)}),kt(vf(),(i,u)=>{MM(i,t,s)})])}),DW=[oc("contextual",[ti("fadeInClass"),ti("fadeOutClass"),ti("transitionClass"),bl("lazyContext"),Qe("onShow"),Qe("onShown"),Qe("onHide"),Qe("onHidden")]),Vi("lazyViewport",()=>({bounds:Ja(),optScrollEnv:F.none()})),xp("modes",["top","bottom"],Yr),Qe("onDocked"),Qe("onUndocked")],MW=Object.freeze({__proto__:null,init:t=>{const s=Wn(!1),i=Wn(!0),u=ir(),m=Wn(t.modes),b=()=>`docked:  ${s.get()}, visible: ${i.get()}, modes: ${m.get().join(",")}`;return Ca({isDocked:s.get,setDocked:s.set,getInitialPos:u.get,setInitialPos:u.set,clearInitialPos:u.clear,isVisible:i.get,setVisible:i.set,getModes:m.get,setModes:m.set,readState:b})}});const ac=Wa({fields:DW,name:"docking",active:IW,apis:RW,state:MW}),kM=we(zt("toolbar-height-change")),Rv={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},PM="tox-tinymce--toolbar-sticky-on",nB="tox-tinymce--toolbar-sticky-off",DS=(t,s)=>{const i=Qi(s),m=Nd(s).dom.innerHeight,b=Xt(i),T=et.fromDom(t.elm),I=su(T),L=xn(T),z=I.y,Y=z+L,ne=Po(s),ie=xn(s),de=ne.top,Se=de+ie,Le=Math.abs(de-b.top)<2,ct=Math.abs(Se-(b.top+m))<2;if(Le&&z<Se)An(b.left,z-ie,i);else if(ct&&Y>de){const je=z-m+L+ie;An(b.left,je,i)}},LM=(t,s)=>_o(ac.getModes(t),s),$M=t=>{const s=u=>yr(u)+(parseInt(Ce(u,"margin-top"),10)||0)+(parseInt(Ce(u,"margin-bottom"),10)||0),i=t.element;ml(i).each(u=>{const m="padding-"+ac.getModes(t)[0];if(ac.isDocked(t)){const b=Er(u);oe(i,"width",b+"px"),oe(u,m,s(i)+"px")}else st(i,"width"),st(u,m)})},P2=(t,s)=>{s?(Zs(t,Rv.fadeOutClass),yd(t,[Rv.transitionClass,Rv.fadeInClass])):(Zs(t,Rv.fadeInClass),yd(t,[Rv.fadeOutClass,Rv.transitionClass]))},BM=(t,s)=>{const i=et.fromDom(t.getContainer());s?(ks(i,PM),Zs(i,nB)):(ks(i,nB),Zs(i,PM))},NW=(t,s)=>{const i=Qi(s);xf(i).filter(u=>!us(s,u)).filter(u=>us(u,et.fromDom(i.dom.body))||Na(t,u)).each(()=>zl(s))},kW=(t,s)=>zu(t).orThunk(()=>s().toOptional().bind(i=>zu(i.element))),PW=(t,s,i)=>{t.inline||(s.header.isPositionedAtTop()||t.on("ResizeEditor",()=>{i().each(ac.reset)}),t.on("ResizeWindow ResizeEditor",()=>{i().each($M)}),t.on("SkinLoaded",()=>{i().each(u=>{ac.isDocked(u)?ac.reset(u):ac.refresh(u)})}),t.on("FullscreenStateChanged",()=>{i().each(ac.reset)})),t.on("AfterScrollIntoView",u=>{i().each(m=>{ac.refresh(m);const b=m.element;Mi(b)&&DS(u,b)})}),t.on("PostRender",()=>{BM(t,!1)})},LW=t=>t().map(ac.isDocked).getOr(!1),$W=()=>[Ed.config({channels:{[kM()]:{onReceive:$M}}})],oB=(t,s)=>{const i=ir(),u=s.getSink,m=I=>{u().each(L=>I(L.element))},b=I=>{t.inline||$M(I),BM(t,ac.isDocked(I)),I.getSystem().broadcastOn([Fb()],{}),u().each(L=>L.getSystem().broadcastOn([Fb()],{}))},T=t.inline?[]:$W();return[Qn.config({}),ac.config({contextual:{lazyContext:I=>{const L=yr(I.element),z=t.inline?t.getContentAreaContainer():t.getContainer();return F.from(z).map(Y=>{const ne=ns(et.fromDom(Y));return Zi(t,I.element).fold(()=>{const de=ne.height-L,Se=ne.y+(LM(I,"top")?0:L);return js(ne.x,Se,ne.width,de)},de=>{const Se=wp(ne,GA(de));return js(Se.x,Se.y,Se.width,Se.height-L)})})},onShow:()=>{m(I=>P2(I,!0))},onShown:I=>{m(L=>Tl(L,[Rv.transitionClass,Rv.fadeInClass])),i.get().each(L=>{NW(I.element,L),i.clear()})},onHide:I=>{kW(I.element,u).fold(i.clear,i.set),m(L=>P2(L,!1))},onHidden:()=>{m(I=>Tl(I,[Rv.transitionClass]))},...Rv},lazyViewport:I=>Zi(t,I.element).fold(()=>{const z=Ja(),Y=SP(t),ne=z.y+(LM(I,"top")?Y:0),ie=z.height-(LM(I,"bottom")?Y:0);return{bounds:js(z.x,ne,z.width,ie),optScrollEnv:F.none()}},z=>({bounds:GA(z),optScrollEnv:F.some({currentScrollTop:z.element.dom.scrollTop,scrollElmTop:Po(z.element).top})})),modes:[s.header.getDockingMode()],onDocked:b,onUndocked:b}),...T]};var BW=Object.freeze({__proto__:null,setup:PW,isDocked:LW,getBehaviours:oB});const FW=t=>{const s=t.editor,i=t.sticky?oB:V$;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:Bt(i(s,t.sharedBackstage))}},HW=$n([Oa,hu("items",Tm([jv([xI,Ec("items",Yr)]),Yr]))].concat(JE)),sB=t=>Do("GroupToolbarButton",HW,t),FM=[Kr("text"),Kr("tooltip"),Kr("icon"),tl("search",!1,Tm([eh,$n([Kr("placeholder")])],t=>me(t)?t?F.some({placeholder:F.none()}):F.none():F.some(t))),bl("fetch"),Vi("onSetup",()=>ee)],L2=$n([Oa,...FM]),rB=t=>Do("menubutton",L2,t),VW=$n([Oa,TA,Xm,U1,AV,AI,Hy,wc("presets","normal",["normal","color","listpreview"]),II(1),t0,OI]),zW=t=>Do("SplitButton",VW,t);var r_=ha({factory:(t,s)=>{const i=(m,b)=>{const T=nt(b,I=>{const L={type:"menubutton",text:I.text,fetch:Y=>{Y(I.getItems())}},z=rB(L).mapError(Y=>mi(Y)).getOrDie();return bS(z,"tox-mbtn",s.backstage,F.some("menuitem"))});mo.set(m,T)},u={focus:Vn.focusIn,setMenus:i};return{uid:t.uid,dom:t.dom,components:[],behaviours:Bt([mo.config({}),vo("menubar-events",[wr(m=>{t.onSetup(m)}),kt($d(),(m,b)=>{Ur(m.element,".tox-mbtn--active").each(T=>{lh(b.event.target,".tox-mbtn").each(I=>{us(T,I)||m.getSystem().getByDom(T).each(L=>{m.getSystem().getByDom(I).each(z=>{Yd.expand(z),Yd.close(L),Qn.focus(z)})})})})}),kt(Om(),(m,b)=>{b.event.prevFocus.bind(T=>m.getSystem().getByDom(T).toOptional()).each(T=>{b.event.newFocus.bind(I=>m.getSystem().getByDom(I).toOptional()).each(I=>{Yd.isOpen(T)&&(Yd.expand(I),Yd.close(T))})})})]),Vn.config({mode:"flow",selector:".tox-mbtn",onEscape:m=>(t.onEscape(m),F.some(!0))}),Ni.config({})]),apis:u,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Rt("dom"),Rt("uid"),Rt("onEscape"),Rt("backstage"),tt("onSetup",ee)],apis:{focus:(t,s)=>{t.focus(s)},setMenus:(t,s,i)=>{t.setMenus(s,i)}}});const $2="⚡️Upgrade",HM="https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_source=TinyMCE&utm_medium=SPAP&utm_campaign=SPAP&utm_id=editorreferral",UW=t=>({uid:t.uid,dom:t.dom,components:[{dom:{tag:"a",attributes:{href:HM,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:$2}}]}),iB="container",WW=[Sc("slotBehaviours",[])],aB=t=>"<alloy.field."+t+">",cB=t=>{const s=(()=>{const b=[];return{slot:(I,L)=>(b.push(I),ZT(iB,aB(I),L)),record:we(b)}})(),i=t(s),u=s.record(),m=nt(u,b=>ic({name:b,pname:aB(b)}));return sC(iB,WW,m,lB,i)},lB=(t,s)=>{const i=Le=>JT(t),u=(Le,ct)=>Cr(Le,t,ct),m=(Le,ct)=>(je,it)=>Cr(je,t,it).map(ht=>Le(ht,it)).getOr(ct),b=Le=>(ct,je)=>{Lt(je,it=>Le(ct,it))},T=(Le,ct)=>Fi(Le.element,"aria-hidden")!=="true",I=(Le,ct)=>{if(!T(Le)){const je=Le.element;st(je,"display"),x(je,"aria-hidden"),Nn(Le,hd(),{name:ct,visible:!0})}},L=(Le,ct)=>{if(T(Le)){const je=Le.element;oe(je,"display","none"),uo(je,"aria-hidden","true"),Nn(Le,hd(),{name:ct,visible:!1})}},z=m(T,!1),Y=m(L),ne=b(Y),ie=Le=>ne(Le,i()),de=m(I),Se={getSlotNames:i,getSlot:u,isShowing:z,hideSlot:Y,hideAllSlots:ie,showSlot:de};return{uid:t.uid,dom:t.dom,components:s,behaviours:RE(t.slotBehaviours),apis:Se}},wu={...Ls({getSlotNames:(t,s)=>t.getSlotNames(s),getSlot:(t,s,i)=>t.getSlot(s,i),isShowing:(t,s,i)=>t.isShowing(s,i),hideSlot:(t,s,i)=>t.hideSlot(s,i),hideAllSlots:(t,s)=>t.hideAllSlots(s),showSlot:(t,s,i)=>t.showSlot(s,i)},t=>Fc(t)),sketch:cB},B2=$n([Xm,TA,Vi("onShow",ee),Vi("onHide",ee),Hy]),F2=t=>Do("sidebar",B2,t),GW=t=>{const{sidebars:s}=t.ui.registry.getAll();Lt(lr(s),i=>{const u=s[i],m=()=>qc(F.from(t.queryCommandValue("ToggleSidebar")),i);t.ui.registry.addToggleButton(i,{icon:u.icon,tooltip:u.tooltip,onAction:b=>{t.execCommand("ToggleSidebar",!1,i),b.setActive(m())},onSetup:b=>{b.setActive(m());const T=()=>b.setActive(m());return t.on("ToggleSidebar",T),()=>{t.off("ToggleSidebar",T)}}})})},jW=t=>({element:()=>t.element.dom}),qW=(t,s)=>{const i=nt(lr(s),u=>{const m=s[u],b=gs(F2(m));return{name:u,getApi:jW,onSetup:b.onSetup,onShow:b.onShow,onHide:b.onHide}});return nt(i,u=>{const m=Wn(ee);return t.slot(u.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:VC.unnamedEvents([o0(u,m),Wy(u,m),kt(hd(),(b,T)=>{const I=T.event;Fn(i,z=>z.name===I.name).each(z=>{(I.visible?z.onShow:z.onHide)(z.getApi(b))})})])})})},ZW=t=>wu.sketch(s=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:qW(s,t),slotBehaviours:VC.unnamedEvents([wr(i=>wu.hideAllSlots(i))])})),VM=(t,s,i)=>{ss.getCurrent(t).each(m=>{mo.set(m,[ZW(s)]);const b=i==null?void 0:i.toLowerCase();M(b)&&jo(s,b)&&ss.getCurrent(m).each(T=>{wu.showSlot(T,b),Lf.immediateGrow(m),st(m.element,"width"),bw(t.element,"region")})})},bw=(t,s)=>{uo(t,"role",s)},zM=(t,s)=>{ss.getCurrent(t).each(u=>{ss.getCurrent(u).each(b=>{Lf.hasGrown(u)?wu.isShowing(b,s)?(Lf.shrink(u),bw(t.element,"presentation")):(wu.hideAllSlots(b),wu.showSlot(b,s),bw(t.element,"region")):(wu.hideAllSlots(b),wu.showSlot(b,s),Lf.grow(u),bw(t.element,"region"))})})},YW=t=>ss.getCurrent(t).bind(i=>Lf.isGrowing(i)||Lf.hasGrown(i)?ss.getCurrent(i).bind(b=>Fn(wu.getSlotNames(b),T=>wu.isShowing(b,T))):F.none()),MS=zt("FixSizeEvent"),UM=zt("AutoSizeEvent"),KW=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Bt([Ni.config({}),Qn.config({}),Lf.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:s=>{ss.getCurrent(s).each(wu.hideAllSlots),ls(s,UM)},onGrown:s=>{ls(s,UM)},onStartGrow:s=>{Nn(s,MS,{width:ot(s.element,"width").getOr("")})},onStartShrink:s=>{Nn(s,MS,{width:Er(s.element)+"px"})}}),mo.config({}),ss.config({find:s=>{const i=mo.contents(s);return zr(i)}})])}],behaviours:Bt([sp.childAt(0),vo("sidebar-sliding-events",[kt(MS,(s,i)=>{oe(s.element,"width",i.event.width)}),kt(UM,(s,i)=>{st(s.element,"width")})])])});var XW=Object.freeze({__proto__:null,block:(t,s,i,u)=>{uo(t.element,"aria-busy",!0);const m=s.getRoot(t).getOr(t),b=Bt([Vn.config({mode:"special",onTab:()=>F.some(!0),onShiftTab:()=>F.some(!0)}),Qn.config({})]),T=u(m,b),I=m.getSystem().build(T);mo.append(m,Vl(I)),I.hasConfigured(Vn)&&s.focus&&Vn.focusIn(I),i.isBlocked()||s.onBlock(t),i.blockWith(()=>mo.remove(m,I))},unblock:(t,s,i)=>{x(t.element,"aria-busy"),i.isBlocked()&&s.onUnblock(t),i.clear()}}),QW=[Vi("getRoot",F.none),wa("focus",!0),Qe("onBlock"),Qe("onUnblock")],RK=Object.freeze({__proto__:null,init:()=>{const t=Ib(),s=i=>{t.set({destroy:i})};return Ca({readState:t.isSet,blockWith:s,clear:t.clear,isBlocked:t.isSet})}});const l0=Wa({fields:QW,name:"blocking",apis:XW,state:RK}),uB=t=>{const s=t.dom.attributes!==void 0?t.dom.attributes:[];return as(s,(i,u)=>u.name==="class"?i:{...i,[u.name]:u.value},{})},JW=t=>Array.prototype.slice.call(t.dom.classList,0),Y1=t=>{const s=et.fromHtml(t),i=ka(s),u=uB(s),m=JW(s),b=i.length===0?{}:{innerHtml:D(s)};return{tag:Ic(s),classes:m,attributes:u,...b}},e9=t=>(s,i)=>({dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:Y1('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),dB=t=>ss.getCurrent(t).each(s=>zl(s.element)),t9=(t,s)=>{const i="tabindex",u=`data-mce-${i}`;F.from(t.iframeElement).map(et.fromDom).each(m=>{s?(ui(m,i).each(b=>uo(m,u,b)),uo(m,i,-1)):(x(m,i),ui(m,u).each(b=>{uo(m,i,b),x(m,u)}))})},n9=(t,s,i,u)=>{const m=s.element;if(t9(t,i),i)l0.block(s,e9(u)),st(m,"display"),x(m,"aria-hidden"),t.hasFocus()&&dB(s);else{const b=ss.getCurrent(s).exists(T=>v1(T.element));l0.unblock(s),oe(m,"display","none"),uo(m,"aria-hidden","true"),b&&t.focus()}},o9=t=>({uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Bt([mo.config({}),l0.config({focus:!1}),ss.config({find:s=>zr(s.components())})]),components:[]}),fB=t=>t.type==="focusin",s9=t=>fB(t)?(t.composed?zr(t.composedPath()):F.from(t.target)).map(et.fromDom).filter($s).exists(i=>Sa(i,"mce-pastebin")):!1,r9=(t,s,i)=>{const u=Wn(!1),m=ir(),b=I=>{u.get()&&!s9(I)&&(I.preventDefault(),dB(s()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",()=>{t.dom.bind(t.getWin(),"focusin",b),t.on("BeforeExecCommand",I=>{I.command.toLowerCase()==="mcefocus"&&I.value!==!0&&b(I)})});const T=I=>{I!==u.get()&&(u.set(I),n9(t,s(),I,i.providers),GL(t,I))};t.on("ProgressState",I=>{if(m.on(clearTimeout),le(I.time)){const L=ag.setEditorTimeout(t,()=>T(I.state),I.time);m.set(L)}else T(I.state),m.clear()})},i9=(t,s)=>as(t,(m,b)=>s(b,m.len).fold(we(m),I=>({len:I.finish,list:m.list.concat([I])})),{len:0,list:[]}).list,hB=(t,s,i)=>({within:t,extra:s,withinWidth:i}),a9=(t,s,i)=>{const u=i9(t,(I,L)=>{const z=i(I);return F.some({element:I,start:L,finish:L+z,width:z})}),m=po(u,I=>I.finish<=s),b=Rs(m,(I,L)=>I+L.width,0),T=u.slice(m.length);return{within:m,extra:T,withinWidth:b}},NS=t=>nt(t,s=>s.element),mB=(t,s,i)=>{const u=NS(t.concat(s));return hB(u,[],i)},c9=(t,s,i,u)=>{const m=NS(t).concat([i]);return hB(m,NS(s),u)},l9=(t,s,i)=>hB(NS(t),[],i),nm=(t,s,i)=>{const u=a9(s,t,i);return u.extra.length===0?F.some(u):F.none()},u9=(t,s,i,u)=>{const m=nm(t,s,i).getOrThunk(()=>a9(s,t-i(u),i)),b=m.within,T=m.extra,I=m.withinWidth;return T.length===1&&T[0].width<=i(u)?mB(b,T,I):T.length>=1?c9(b,T,u,I):l9(b,T,I)},WM=(t,s)=>{const i=nt(s,u=>Vl(u));Ov.setGroups(t,i)},pB=t=>Or(t,s=>zu(s.element).bind(i=>s.getSystem().getByDom(i).toOptional())),gB=(t,s,i)=>{const u=s.builtGroups.get();if(u.length===0)return;const m=Ym(t,s,"primary"),b=qi.getCoupled(t,"overflowGroup");oe(m.element,"visibility","hidden");const T=u.concat([b]),I=pB(T);i([]),WM(m,T);const L=Er(m.element),z=u9(L,s.builtGroups.get(),Y=>Er(Y.element),b);z.extra.length===0?(mo.remove(m,b),i([])):(WM(m,z.within),i(z.extra)),st(m.element,"visibility"),Pt(m.element),I.each(Qn.focus)},yw=we([Sc("splitToolbarBehaviours",[qi]),Ts("builtGroups",()=>Wn([]))]),d9=we([_d(["overflowToggledClass"]),nc("getOverflowBounds"),Rt("lazySink"),Ts("overflowGroups",()=>Wn([])),Qe("onOpened"),Qe("onClosed")].concat(yw())),V2=we([ic({factory:Ov,schema:vw(),name:"primary"}),vh({schema:vw(),name:"overflow"}),vh({name:"overflow-button"}),vh({name:"overflow-group"})]),GM=we((t,s)=>{Xc(t,Math.floor(s))}),z2=we([_d(["toggledClass"]),Rt("lazySink"),bl("fetch"),nc("getBounds"),oc("fireDismissalEventInstead",[tt("event",Bl())]),Of(),Qe("onToggled")]),f9=we([vh({name:"button",overrides:t=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Bt([Mo.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:t.onToggled})])})}),vh({factory:Ov,schema:vw(),name:"toolbar",overrides:t=>({toolbarBehaviours:Bt([Vn.config({mode:"cyclic",onEscape:s=>(Cr(s,t,"button").each(Qn.focus),F.none())})])})})]),$f=ir(),h9=(t,s)=>{$f.set(!0),_w(t,s),$f.clear()},_w=(t,s)=>{const i=qi.getCoupled(t,"toolbarSandbox");Zo.isOpen(i)?Zo.close(i):Zo.open(i,s.toolbar())},U2=(t,s,i,u)=>{const m=i.getBounds.map(T=>T()),b=i.lazySink(t).getOrDie();tr.positionWithinBounds(b,s,{anchor:{type:"hotspot",hotspot:t,layouts:u,overrides:{maxWidthFunction:GM()}}},m)},vB=(t,s,i,u,m)=>{Ov.setGroups(s,m),U2(t,s,i,u),Mo.on(t)},m9=(t,s,i)=>{const u=F_(),m=(T,I)=>{const L=$f.get().getOr(!1);i.fetch().get(z=>{vB(t,I,i,s.layouts,z),u.link(t.element),L||Vn.focusIn(I)})},b=()=>{Mo.off(t),$f.get().getOr(!1)||Qn.focus(t),u.unlink(t.element)};return{dom:{tag:"div",attributes:{id:u.id}},behaviours:Bt([Vn.config({mode:"special",onEscape:T=>(Zo.close(T),F.some(!0))}),Zo.config({onOpen:m,onClose:b,isPartOf:(T,I,L)=>Lp(I,L)||Lp(t,L),getAttachPoint:()=>i.lazySink(t).getOrDie()}),Ed.config({channels:{...yy({isExtraPart:Tt,...i.fireDismissalEventInstead.map(T=>({fireEventInstead:{event:T.event}})).getOr({})}),...M1({doReposition:()=>{Zo.getState(qi.getCoupled(t,"toolbarSandbox")).each(T=>{U2(t,T,i,s.layouts)})}})}})])}},u0=ji({name:"FloatingToolbarButton",factory:(t,s,i,u)=>({...xl.sketch({...u.button(),action:m=>{_w(m,u)},buttonBehaviours:gh.augment({dump:u.button().buttonBehaviours},[qi.config({others:{toolbarSandbox:m=>m9(m,i,t)}})])}),apis:{setGroups:(m,b)=>{Zo.getState(qi.getCoupled(m,"toolbarSandbox")).each(T=>{vB(m,T,t,i.layouts,b)})},reposition:m=>{Zo.getState(qi.getCoupled(m,"toolbarSandbox")).each(b=>{U2(m,b,t,i.layouts)})},toggle:m=>{_w(m,u)},toggleWithoutFocusing:m=>{h9(m,u)},getToolbar:m=>Zo.getState(qi.getCoupled(m,"toolbarSandbox")),isOpen:m=>Zo.isOpen(qi.getCoupled(m,"toolbarSandbox"))}}),configFields:z2(),partFields:f9(),apis:{setGroups:(t,s,i)=>{t.setGroups(s,i)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggleWithoutFocusing(s)},getToolbar:(t,s)=>t.getToolbar(s),isOpen:(t,s)=>t.isOpen(s)}}),p9=we([Rt("items"),_d(["itemSelector"]),Sc("tgroupBehaviours",[Vn])]),g9=we([Sy({name:"items",unit:"item"})]),v9=(t,s,i,u)=>({uid:t.uid,dom:t.dom,components:s,behaviours:Gr(t.tgroupBehaviours,[Vn.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),kS=ji({name:"ToolbarGroup",configFields:p9(),partFields:g9(),factory:v9}),jM=t=>nt(t,s=>Vl(s)),qM=(t,s,i)=>{gB(t,i,u=>{i.overflowGroups.set(u),s.getOpt(t).each(m=>{u0.setGroups(m,jM(u))})})},b9=(t,s,i,u)=>{const m=Yo(u0.sketch({fetch:()=>Wl.nu(b=>{b(jM(t.overflowGroups.get()))}),layouts:{onLtr:()=>[la,Ua],onRtl:()=>[Ua,la],onBottomLtr:()=>[bu,Cl],onBottomRtl:()=>[Cl,bu]},getBounds:i.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:u["overflow-button"](),toolbar:u.overflow()},onToggled:(b,T)=>t[T?"onOpened":"onClosed"](b)}));return{uid:t.uid,dom:t.dom,components:s,behaviours:Gr(t.splitToolbarBehaviours,[qi.config({others:{overflowGroup:()=>kS.sketch({...u["overflow-group"](),items:[m.asSpec()]})}})]),apis:{setGroups:(b,T)=>{t.builtGroups.set(nt(T,b.getSystem().build)),qM(b,m,t)},refresh:b=>qM(b,m,t),toggle:b=>{m.getOpt(b).each(T=>{u0.toggle(T)})},toggleWithoutFocusing:b=>{m.getOpt(b).each(u0.toggleWithoutFocusing)},isOpen:b=>m.getOpt(b).map(u0.isOpen).getOr(!1),reposition:b=>{m.getOpt(b).each(T=>{u0.reposition(T)})},getOverflow:b=>m.getOpt(b).bind(u0.getToolbar)},domModification:{attributes:{role:"group"}}}},ZM=ji({name:"SplitFloatingToolbar",configFields:d9(),partFields:V2(),factory:b9,apis:{setGroups:(t,s,i)=>{t.setGroups(s,i)},refresh:(t,s)=>{t.refresh(s)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s),getOverflow:(t,s)=>t.getOverflow(s)}}),y9=we([_d(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Qe("onOpened"),Qe("onClosed")].concat(yw())),_9=we([ic({factory:Ov,schema:vw(),name:"primary"}),ic({factory:Ov,schema:vw(),name:"overflow",overrides:t=>({toolbarBehaviours:Bt([Lf.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:s=>{Cr(s,t,"overflow-button").each(i=>{Mo.off(i),Qn.focus(i)}),t.onClosed(s)},onGrown:s=>{Vn.focusIn(s),t.onOpened(s)},onStartGrow:s=>{Cr(s,t,"overflow-button").each(Mo.on)}}),Vn.config({mode:"acyclic",onEscape:s=>(Cr(s,t,"overflow-button").each(Qn.focus),F.some(!0))})])})}),vh({name:"overflow-button",overrides:t=>({buttonBehaviours:Bt([Mo.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])})}),vh({name:"overflow-group"})]),E9=(t,s)=>Cr(t,s,"overflow").map(Lf.hasGrown).getOr(!1),bB=(t,s)=>{Cr(t,s,"overflow-button").bind(()=>Cr(t,s,"overflow")).each(i=>{YM(t,s),Lf.toggleGrow(i)})},YM=(t,s)=>{Cr(t,s,"overflow").each(i=>{gB(t,s,u=>{const m=nt(u,b=>Vl(b));Ov.setGroups(i,m)}),Cr(t,s,"overflow-button").each(u=>{Lf.hasGrown(i)&&Mo.on(u)}),Lf.refresh(i)})},w9=(t,s,i,u)=>{const m="alloy.toolbar.toggle",b=(T,I)=>{const L=nt(I,T.getSystem().build);t.builtGroups.set(L)};return{uid:t.uid,dom:t.dom,components:s,behaviours:Gr(t.splitToolbarBehaviours,[qi.config({others:{overflowGroup:T=>kS.sketch({...u["overflow-group"](),items:[xl.sketch({...u["overflow-button"](),action:I=>{ls(T,m)}})]})}}),vo("toolbar-toggle-events",[kt(m,T=>{bB(T,t)})])]),apis:{setGroups:(T,I)=>{b(T,I),YM(T,t)},refresh:T=>YM(T,t),toggle:T=>bB(T,t),isOpen:T=>E9(T,t)},domModification:{attributes:{role:"group"}}}},KM=ji({name:"SplitSlidingToolbar",configFields:y9(),partFields:_9(),factory:w9,apis:{setGroups:(t,s,i)=>{t.setGroups(s,i)},refresh:(t,s)=>{t.refresh(s)},toggle:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s)}}),yB=t=>{const s=t.title.fold(()=>({}),i=>({attributes:{title:i}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...s},components:[kS.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:Bt([Ni.config({}),Qn.config({})])}},W2=t=>kS.sketch(yB(t)),_B=(t,s)=>{const i=wr(u=>{const m=nt(t.initGroups,W2);Ov.setGroups(u,m)});return Bt([Jm.toolbarButton(t.providers.isDisabled),xc(),Vn.config({mode:s,onEscape:t.onEscape,selector:".tox-toolbar__group"}),vo("toolbar-events",[i])])},EB=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":yB({title:F.none(),items:[]}),"overflow-button":gU({name:"more",icon:F.some("more-drawer"),enabled:!0,tooltip:F.some("More..."),primary:!1,buttonType:F.none(),borderless:!1},F.none(),t.providers)},splitToolbarBehaviours:_B(t,s)}},T9=t=>{const s=EB(t),i=4,u=ZM.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return ZM.sketch({...s,lazySink:t.getSink,getOverflowBounds:()=>{const m=t.moreDrawerData.lazyHeader().element,b=su(m),T=nd(m),I=su(T),L=Math.max(T.dom.scrollHeight,I.height);return js(b.x+i,I.y,b.width-i*2,L)},parts:{...s.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}},components:[u],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:m=>t.onToggled(m,!0),onClosed:m=>t.onToggled(m,!1)})},C9=t=>{const s=KM.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),i=KM.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),u=EB(t);return KM.sketch({...u,components:[s,i],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:m=>{m.getSystem().broadcastOn([kM()],{type:"opened"}),t.onToggled(m,!0)},onClosed:m=>{m.getSystem().broadcastOn([kM()],{type:"closed"}),t.onToggled(m,!1)}})},PS=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return Ov.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===Eh.scrolling?["tox-toolbar--scrolling"]:[])},components:[Ov.parts.groups({})],toolbarBehaviours:_B(t,s)})},LS=[U1,Xm,Kr("tooltip"),wc("buttonType","secondary",["primary","secondary"]),wa("borderless",!1),bl("onAction")],XM=[...LS,z1,Du("type",["button"])],S9=[...LS,wa("active",!1),Du("type",["togglebutton"])],wB={button:XM,togglebutton:S9},TB=[Du("type",["group"]),xp("buttons",[],di("type",wB))],x9=di("type",{...wB,group:TB}),A9=$n([xp("buttons",[],x9),bl("onShow"),bl("onHide")]),O9=t=>Do("view",A9,t),CB=(t,s)=>{var i,u;const m=t.type==="togglebutton",b=t.icon.map(ht=>rp(ht,s.icons)).map(Yo),I=(()=>ht=>{const vt=hn=>{b.map(In=>In.getOpt(ht).each(Go=>{mo.set(Go,[rp(hn,s.icons)])}))},tn=hn=>{const In=ht.element;hn?(ks(In,"tox-button--enabled"),uo(In,"aria-pressed",!0)):(Zs(In,"tox-button--enabled"),x(In,"aria-pressed"))},Ft=()=>Sa(ht.element,"tox-button--enabled");if(m)return t.onAction({setIcon:vt,setActive:tn,isActive:Ft});if(t.type==="button")return t.onAction({setIcon:vt})})(),L={...t,name:m?t.text.getOr(t.icon.getOr("")):(i=t.text)!==null&&i!==void 0?i:t.icon.getOr(""),primary:t.buttonType==="primary",buttonType:F.from(t.buttonType),tooltip:t.tooltip,icon:t.icon,enabled:!0,borderless:t.borderless},z=y2((u=t.buttonType)!==null&&u!==void 0?u:"secondary"),Y=m?t.text.map(s.translate):F.some(s.translate(t.text)),ne=Y.map($r),ie=L.tooltip.or(Y).map(ht=>({"aria-label":s.translate(ht),title:s.translate(ht)})).getOr({}),de=b.map(ht=>ht.asSpec()),Se=nw([de,ne]),Le=t.icon.isSome()&&ne.isSome(),ct={tag:"button",classes:z.concat(...t.icon.isSome()&&!Le?["tox-button--icon"]:[]).concat(...Le?["tox-button--icon-and-text"]:[]).concat(...t.borderless?["tox-button--naked"]:[]).concat(...t.type==="togglebutton"&&t.active?["tox-button--enabled"]:[]),attributes:ie},je=[],it=yS(L,F.some(I),je,ct,Se,s);return xl.sketch(it)},SB=(t,s)=>CB(t,s),R9=(t,s)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:nt(t.buttons,i=>SB(i,s))}),G2=$t().deviceType,I9=G2.isPhone(),D9=G2.isTablet(),xB=t=>{let s=!1;const i=nt(t.buttons,u=>u.type==="group"?(s=!0,R9(u,t.providers)):SB(u,t.providers));return{uid:t.uid,dom:{tag:"div",classes:[s?"tox-view__toolbar":"tox-view__header",...I9||D9?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:Bt([Qn.config({}),Vn.config({mode:"flow",selector:"button, .tox-button",focusInside:jb.OnEnterOrSpaceMode})]),components:s?i:[ep.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),ep.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:i})]}},M9=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-view__pane"]}}),AB=(t,s,i,u)=>{const m={getPane:b=>Uc.getPart(b,t,"pane"),getOnShow:b=>t.viewConfig.onShow,getOnHide:b=>t.viewConfig.onHide};return{uid:t.uid,dom:t.dom,components:s,apis:m}};var Ew=ji({name:"silver.View",configFields:[Rt("viewConfig")],partFields:[If({factory:{sketch:xB},schema:[Rt("buttons"),Rt("providers")],name:"header"}),If({factory:{sketch:M9},schema:[],name:"pane"})],factory:AB,apis:{getPane:(t,s)=>t.getPane(s),getOnShow:(t,s)=>t.getOnShow(s),getOnHide:(t,s)=>t.getOnHide(s)}});const OB=(t,s,i)=>Wf(s,(u,m)=>{const b=gs(O9(u));return t.slot(m,Ew.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:b,components:[...b.buttons.length>0?[Ew.parts.header({buttons:b.buttons,providers:i})]:[],Ew.parts.pane({})]}))}),N9=(t,s)=>wu.sketch(i=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:OB(i,t,s),slotBehaviours:VC.unnamedEvents([wr(u=>wu.hideAllSlots(u))])})),RB=t=>Fn(wu.getSlotNames(t),s=>wu.isShowing(t,s)),k9=t=>{const s=t.element;oe(s,"display","none"),uo(s,"aria-hidden","true")},IB=t=>{const s=t.element;st(s,"display"),x(s,"aria-hidden")},P9=t=>({getContainer:we(t)}),DB=(t,s,i)=>{wu.getSlot(t,s).each(u=>{Ew.getPane(u).each(m=>{i(u)(P9(m.element.dom))})})},L9=(t,s)=>DB(t,s,Ew.getOnShow),QM=(t,s)=>DB(t,s,Ew.getOnHide);var j2=ha({factory:(t,s)=>{const b={setViews:(T,I)=>{mo.set(T,[N9(I,s.backstage.shared.providers)])},whichView:T=>ss.getCurrent(T).bind(RB),toggleView:(T,I,L,z)=>ss.getCurrent(T).exists(Y=>{const ne=RB(Y),ie=ne.exists(Se=>z===Se),de=wu.getSlot(Y,z).isSome();return de&&(wu.hideAllSlots(Y),ie?(k9(T),I()):(L(),IB(T),wu.showSlot(Y,z),L9(Y,z)),ne.each(Se=>QM(Y,Se))),de})};return{uid:t.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:Bt([mo.config({}),ss.config({find:T=>{const I=mo.contents(T);return zr(I)}})]),apis:b}},name:"silver.ViewWrapper",configFields:[Rt("backstage")],apis:{setViews:(t,s,i)=>t.setViews(s,i),toggleView:(t,s,i,u,m)=>t.toggleView(s,i,u,m),whichView:(t,s)=>t.whichView(s)}});const $9=(t,s,i)=>{let u=!1;const m={getSocket:b=>Uc.getPart(b,t,"socket"),setSidebar:(b,T,I)=>{Uc.getPart(b,t,"sidebar").each(L=>VM(L,T,I))},toggleSidebar:(b,T)=>{Uc.getPart(b,t,"sidebar").each(I=>zM(I,T))},whichSidebar:b=>Uc.getPart(b,t,"sidebar").bind(YW).getOrNull(),getHeader:b=>Uc.getPart(b,t,"header"),getToolbar:b=>Uc.getPart(b,t,"toolbar"),setToolbar:(b,T)=>{Uc.getPart(b,t,"toolbar").each(I=>{const L=nt(T,W2);I.getApis().setGroups(I,L)})},setToolbars:(b,T)=>{Uc.getPart(b,t,"multiple-toolbar").each(I=>{const L=nt(T,z=>nt(z,W2));AM.setItems(I,L)})},refreshToolbar:b=>{Uc.getPart(b,t,"toolbar").each(I=>I.getApis().refresh(I))},toggleToolbarDrawer:b=>{Uc.getPart(b,t,"toolbar").each(T=>{gr(T.getApis().toggle,I=>I(T))})},toggleToolbarDrawerWithoutFocusing:b=>{Uc.getPart(b,t,"toolbar").each(T=>{gr(T.getApis().toggleWithoutFocusing,I=>I(T))})},isToolbarDrawerToggled:b=>Uc.getPart(b,t,"toolbar").bind(T=>F.from(T.getApis().isOpen).map(I=>I(T))).getOr(!1),getThrobber:b=>Uc.getPart(b,t,"throbber"),focusToolbar:b=>{Uc.getPart(b,t,"toolbar").orThunk(()=>Uc.getPart(b,t,"multiple-toolbar")).each(I=>{Vn.focusIn(I)})},setMenubar:(b,T)=>{Uc.getPart(b,t,"menubar").each(I=>{r_.setMenus(I,T)})},focusMenubar:b=>{Uc.getPart(b,t,"menubar").each(T=>{r_.focus(T)})},setViews:(b,T)=>{Uc.getPart(b,t,"viewWrapper").each(I=>{j2.setViews(I,T)})},toggleView:(b,T)=>Uc.getPart(b,t,"viewWrapper").exists(I=>j2.toggleView(I,()=>m.showMainView(b),()=>m.hideMainView(b),T)),whichView:b=>Uc.getPart(b,t,"viewWrapper").bind(j2.whichView).getOrNull(),hideMainView:b=>{u=m.isToolbarDrawerToggled(b),u&&m.toggleToolbarDrawer(b),Uc.getPart(b,t,"editorContainer").each(T=>{const I=T.element;oe(I,"display","none"),uo(I,"aria-hidden","true")})},showMainView:b=>{u&&m.toggleToolbarDrawer(b),Uc.getPart(b,t,"editorContainer").each(T=>{const I=T.element;st(I,"display"),x(I,"aria-hidden")}),m.refreshToolbar(b)}};return{uid:t.uid,dom:t.dom,components:s,apis:m,behaviours:t.behaviours}},B9=Av.optional({factory:r_,name:"menubar",schema:[Rt("backstage")]}),F9=t=>t.type===Eh.sliding?C9:t.type===Eh.floating?T9:PS,H9=Av.optional({factory:{sketch:t=>AM.sketch({uid:t.uid,dom:t.dom,listBehaviours:Bt([Vn.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>PS({type:t.type,uid:zt("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:()=>(t.onEscape(),F.some(!0))}),setupItem:(s,i,u,m)=>{Ov.setGroups(i,u)},shell:!0})},name:"multiple-toolbar",schema:[Rt("dom"),Rt("onEscape")]}),V9=Av.optional({factory:{sketch:t=>{const s=F9(t),i={type:t.type,uid:t.uid,onEscape:()=>(t.onEscape(),F.some(!0)),onToggled:(u,m)=>t.onToolbarToggled(m),cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return s(i)}},name:"toolbar",schema:[Rt("dom"),Rt("onEscape"),Rt("getSink")]}),z9=Av.optional({factory:{sketch:FW},name:"header",schema:[Rt("dom")]}),U9=Av.optional({factory:{sketch:UW},name:"promotion",schema:[Rt("dom")]}),NB=Av.optional({name:"socket",schema:[Rt("dom")]}),q2=Av.optional({factory:{sketch:KW},name:"sidebar",schema:[Rt("dom")]}),JM=Av.optional({factory:{sketch:o9},name:"throbber",schema:[Rt("dom")]}),kB=Av.optional({factory:j2,name:"viewWrapper",schema:[Rt("backstage")]}),d0=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:t.components}),PB=Av.optional({factory:{sketch:d0},name:"editorContainer",schema:[]});var Hr=ji({name:"OuterContainer",factory:$9,configFields:[Rt("dom"),Rt("behaviours")],partFields:[z9,B9,V9,H9,NB,q2,U9,JM,kB,PB],apis:{getSocket:(t,s)=>t.getSocket(s),setSidebar:(t,s,i,u)=>{t.setSidebar(s,i,u)},toggleSidebar:(t,s,i)=>{t.toggleSidebar(s,i)},whichSidebar:(t,s)=>t.whichSidebar(s),getHeader:(t,s)=>t.getHeader(s),getToolbar:(t,s)=>t.getToolbar(s),setToolbar:(t,s,i)=>{t.setToolbar(s,i)},setToolbars:(t,s,i)=>{t.setToolbars(s,i)},refreshToolbar:(t,s)=>t.refreshToolbar(s),toggleToolbarDrawer:(t,s)=>{t.toggleToolbarDrawer(s)},toggleToolbarDrawerWithoutFocusing:(t,s)=>{t.toggleToolbarDrawerWithoutFocusing(s)},isToolbarDrawerToggled:(t,s)=>t.isToolbarDrawerToggled(s),getThrobber:(t,s)=>t.getThrobber(s),setMenubar:(t,s,i)=>{t.setMenubar(s,i)},focusMenubar:(t,s)=>{t.focusMenubar(s)},focusToolbar:(t,s)=>{t.focusToolbar(s)},setViews:(t,s,i)=>{t.setViews(s,i)},toggleView:(t,s,i)=>t.toggleView(s,i),whichView:(t,s)=>t.whichView(s)}});const W9="file edit view insert format tools table help",LB={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template inserttemplate codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},G9=(t,s,i)=>{const u=TP(i).split(/[ ,]/);return{text:t.title,getItems:()=>Ge(t.items,m=>{const b=m.toLowerCase();return b.trim().length===0?[]:Ho(u,T=>T===b)?[]:b==="separator"||b==="|"?[{type:"separator"}]:s.menuItems[b]?[s.menuItems[b]]:[]})}},eN=t=>t.split(" "),$B=(t,s)=>{const i={...LB,...s.menus},u=lr(s.menus).length>0,m=s.menubar===void 0||s.menubar===!0?eN(W9):eN(s.menubar===!1?"":s.menubar),b=po(m,I=>{const L=jo(LB,I);return u?L||dn(s.menus,I).exists(z=>jo(z,"items")):L}),T=nt(b,I=>{const L=i[I];return G9({title:L.title,items:eN(L.items)},s,t)});return po(T,I=>{const L=z=>M(z)||z.type!=="separator";return I.getItems().length>0&&Ho(I.getItems(),L)})},BB=t=>{const s=()=>{t._skinLoaded=!0,n8(t)};return()=>{t.initialized?s():t.on("init",s)}},FB=(t,s)=>()=>WI(t,{message:s}),HB=(t,s,i)=>(t.on("remove",()=>i.unload(s)),i.load(s)),j9=(t,s)=>{const i=s+"/skin.min.css";return HB(t,i,t.ui.styleSheetLoader)},tN=(t,s)=>{if(Au(et.fromDom(t.getElement()))){const u=s+"/skin.shadowdom.min.css";return HB(t,u,xC.DOM.styleSheetLoader)}else return Promise.resolve()},VB=(t,s)=>{const i=BP(s);return i&&s.contentCSS.push(i+(t?"/content.inline":"/content")+".min.css"),!MC(s)&&M(i)?Promise.all([j9(s,i),tN(s,i)]).then(BB(s),FB(s,"Skin could not be loaded")):Promise.resolve(BB(s)())},q9=It(VB,!1),Z9=It(VB,!0),Z2=(t,s)=>i=>{const u=Td(),m=()=>{i.setActive(t.formatter.match(s));const b=t.formatter.formatChanged(s,i.setActive);u.set(b)};return t.initialized?m():t.once("init",m),()=>{t.off("init",m),u.clear()}},$S=(t,s,i)=>u=>{const m=()=>i(u),b=()=>{i(u),t.on(s,m)};return t.initialized?b():t.once("init",b),()=>{t.off("init",b),t.off(s,m)}},zB=t=>s=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("mceToggleFormat",!1,s.format)})},Sh=(t,s)=>()=>t.execCommand(s),UB=(t,s,i)=>{const u=(I,L,z,Y)=>{const ne=s.shared.providers.translate(I.title);if(I.type==="separator")return F.some({type:"separator",text:ne});if(I.type==="submenu"){const ie=Ge(I.getStyleItems(),de=>m(de,L,Y));return L===0&&ie.length<=0?F.none():F.some({type:"nestedmenuitem",text:ne,enabled:ie.length>0,getSubmenuItems:()=>Ge(I.getStyleItems(),de=>m(de,L,Y))})}else return F.some({type:"togglemenuitem",text:ne,icon:I.icon,active:I.isSelected(Y),enabled:!z,onAction:i.onAction(I),...I.getStylePreview().fold(()=>({}),ie=>({meta:{style:ie}}))})},m=(I,L,z)=>{const Y=I.type==="formatter"&&i.isInvalid(I);return L===0?Y?[]:u(I,L,!1,z).toArray():u(I,L,Y,z).toArray()},b=I=>{const L=i.getCurrentValue(),z=i.shouldHide?0:1;return Ge(I,Y=>m(Y,z,L))};return{validateItems:b,getFetch:(I,L)=>(z,Y)=>{const ne=L(),ie=b(ne),de=t_(ie,cg.CLOSE_ON_EXECUTE,I,{isHorizontalMenu:!1,search:F.none()});Y(de)}}},i_=(t,s,i)=>{const u=i.dataset,m=u.type==="basic"?()=>nt(u.data,b=>wM(b,i.isSelectedFor,i.getPreviewFor)):u.getData;return{items:UB(t,s,i),getStyleItems:m}},BS=(t,s,i)=>{const{items:u,getStyleItems:m}=i_(t,s,i),b=I=>({getComponent:we(I)}),T=$S(t,"NodeChange",I=>{const L=I.getComponent();i.updateText(L)});return zD({text:i.icon.isSome()?F.none():i.text,icon:i.icon,tooltip:F.from(i.tooltip),role:F.none(),fetch:u.getFetch(s,m),onSetup:T,getApi:b,columns:1,presets:"normal",classes:i.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",s.shared)},WB=t=>nt(t,s=>{let i=s,u=s;const m=s.split("=");return m.length>1&&(i=m[0],u=m[1]),{title:i,format:u}}),Y9=t=>({type:"basic",data:t});var ww;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(ww||(ww={}));const K9=(t,s)=>s===ww.SemiColon?t.replace(/;$/,"").split(";"):t.split(" "),Y2=(t,s,i)=>{const u=t.options.get(s);return{type:"basic",data:WB(K9(u,i))}},nN=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],oN=t=>{const s=()=>Fn(nN,I=>t.formatter.match(I.format)),i=I=>()=>t.formatter.match(I),u=I=>F.none,m=I=>{const z=s().fold(we("left"),Y=>Y.title.toLowerCase());Nn(I,e_,{icon:`align-${z}`})},b=Y9(nN),T=I=>()=>Fn(nN,L=>L.format===I.format).each(L=>t.execCommand(L.command));return{tooltip:"Align",text:F.none(),icon:F.some("align-left"),isSelectedFor:i,getCurrentValue:F.none,getPreviewFor:u,onAction:T,updateText:m,dataset:b,shouldHide:!1,isInvalid:I=>!t.formatter.canApply(I.format)}},X9=(t,s)=>BS(t,s,oN(t)),Q9=(t,s)=>{const i=i_(t,s,oN(t));t.ui.registry.addNestedMenuItem("align",{text:s.shared.providers.translate("Align"),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},GB=(t,s)=>{const i=s(),u=nt(i,m=>m.format);return F.from(t.formatter.closest(u)).bind(m=>Fn(i,b=>b.format===m)).orThunk(()=>jn(t.formatter.match("p"),{title:"Paragraph",format:"p"}))},jB=t=>{const s="Paragraph",i=T=>()=>t.formatter.match(T),u=T=>()=>{const I=t.formatter.get(T);return I?F.some({tag:I.length>0&&(I[0].inline||I[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(T))}):F.none()},m=T=>{const L=GB(t,()=>b.data).fold(we(s),z=>z.title);Nn(T,Ch,{text:L})},b=Y2(t,"block_formats",ww.SemiColon);return{tooltip:"Blocks",text:F.some(s),icon:F.none(),isSelectedFor:i,getCurrentValue:F.none,getPreviewFor:u,onAction:zB(t),updateText:m,dataset:b,shouldHide:!1,isInvalid:T=>!t.formatter.canApply(T.format)}},J9=(t,s)=>BS(t,s,jB(t)),eG=(t,s)=>{const i=i_(t,s,jB(t));t.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},qB=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],ZB=t=>{const s=t.split(/\s*,\s*/);return nt(s,i=>i.replace(/^['"]+|['"]+$/g,""))},tG=t=>{const s=()=>{const i=ZB(t.toLowerCase());return Gc(qB,u=>i.indexOf(u.toLowerCase())>-1)};return t.indexOf("-apple-system")===0&&s()},YB=t=>{const s="System Font",i=()=>{const z=Se=>Se?ZB(Se)[0]:"",Y=t.queryCommandValue("FontName"),ne=L.data,ie=Y?Y.toLowerCase():"";return{matchOpt:Fn(ne,Se=>{const Le=Se.format;return Le.toLowerCase()===ie||z(Le).toLowerCase()===z(ie).toLowerCase()}).orThunk(()=>jn(tG(ie),{title:s,format:ie})),font:Y}},u=z=>Y=>Y.exists(ne=>ne.format===z),m=()=>{const{matchOpt:z}=i();return z},b=z=>()=>F.some({tag:"div",styles:z.indexOf("dings")===-1?{"font-family":z}:{}}),T=z=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontName",!1,z.format)})},I=z=>{const{matchOpt:Y,font:ne}=i(),ie=Y.fold(we(ne),de=>de.title);Nn(z,Ch,{text:ie})},L=Y2(t,"font_family_formats",ww.SemiColon);return{tooltip:"Fonts",text:F.some(s),icon:F.none(),isSelectedFor:u,getCurrentValue:m,getPreviewFor:b,onAction:T,updateText:I,dataset:L,shouldHide:!1,isInvalid:Tt}},nG=(t,s)=>BS(t,s,YB(t)),oG=(t,s)=>{const i=i_(t,s,YB(t));t.ui.registry.addNestedMenuItem("fontfamily",{text:s.shared.providers.translate("Fonts"),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},KB={tab:we(9),escape:we(27),enter:we(13),backspace:we(8),delete:we(46),left:we(37),up:we(38),right:we(39),down:we(40),space:we(32),home:we(36),end:we(35),pageUp:we(33),pageDown:we(34)},sG={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},XB=(()=>{const t="[0-9]+",i="[eE]"+("[+-]?"+t),u="\\.",m=I=>`(?:${I})?`,T=`[+-]?(?:${["Infinity",t+u+m(t)+m(i),u+t+m(i),t+m(i)].join("|")})`;return new RegExp(`^(${T})(.*)$`)})(),rG=(t,s)=>Ho(s,i=>Ho(sG[i],u=>t===u)),QB=(t,s)=>F.from(XB.exec(t)).bind(u=>{const m=Number(u[1]),b=u[2];return rG(b,s)?F.some({value:m,unit:b}):F.none()}),JB=(t,s)=>QB(t,s).map(({value:i,unit:u})=>i+u),iG=(t,s,i)=>{let u=F.none();const m=ht=>ht.map(vt=>pn.getValue(vt)).getOr(""),b=$S(t,"NodeChange",ht=>{const vt=ht.getComponent();u=F.some(vt),i.updateInputValue(vt)}),T=ht=>({getComponent:we(ht)}),I=Wn(ee),L=zt("custom-number-input-events"),z=ht=>ht>=0,Y=(ht,vt,tn)=>{const Ft=m(u),hn=QB(Ft,["unsupportedLength","empty"]),In=hn.map(Zt=>Zt.value).getOr(0),Go=lI(t),zn=hn.map(Zt=>Zt.unit).filter(Zt=>Zt!=="").getOr(Go),Fo=ht(In,i.getConfigFromUnit(zn).step),co=`${z(Fo)?Fo:In}${zn}`,$o=`${In}${zn}`.length-`${co}`.length,to=u.map(Zt=>Zt.element.dom.selectionStart-$o),Ps=u.map(Zt=>Zt.element.dom.selectionEnd-$o);i.onAction(co,tn),u.each(Zt=>{pn.setValue(Zt,co),vt&&(to.each(Rn=>Zt.element.dom.selectionStart=Rn),Ps.each(Rn=>Zt.element.dom.selectionEnd=Rn))})},ne=(ht,vt)=>Y((tn,Ft)=>tn-Ft,ht,vt),ie=(ht,vt)=>Y((tn,Ft)=>tn+Ft,ht,vt),de=ht=>ml(ht.element).fold(F.none,vt=>(zl(vt),F.some(!0))),Se=ht=>v1(ht.element)?(fc(ht.element).each(vt=>zl(vt)),F.some(!0)):F.none(),Le=(ht,vt,tn,Ft)=>{const hn=s.shared.providers.translate(tn),In=zt("altExecuting"),Go=()=>ht(!0);return xl.sketch({dom:{tag:"button",attributes:{title:hn,"aria-label":hn},classes:Ft.concat(vt)},components:[Jy(vt,s.shared.providers.icons)],buttonBehaviours:Bt([vo(In,[kt(zi(),(zn,Fo)=>{(Fo.event.raw.keyCode===KB.space()||Fo.event.raw.keyCode===KB.enter())&&ht(!1)}),kt(Lc(),Go),kt(rh(),Go)])]),eventOrder:{[zi()]:[In,"keying"],[Lc()]:[In,"alloy.base.behaviour"],[rh()]:[In,"alloy.base.behaviour"]}})},ct=Yo(Le(ht=>ne(!1,ht),"minus","Decrease font size",["highlight-on-focus"])),je=Yo(Le(ht=>ie(!1,ht),"plus","Increase font size",["highlight-on-focus"])),it=Yo({dom:{tag:"div",classes:["tox-input-wrapper","highlight-on-focus"]},components:[Fy.sketch({inputBehaviours:Bt([vo(L,[o0({onSetup:b,getApi:T},I),Wy({getApi:T},I)]),vo("input-update-display-text",[kt(Ch,(ht,vt)=>{pn.setValue(ht,vt.event.text)}),kt(nl(),ht=>{i.onAction(pn.getValue(ht))}),kt($l(),ht=>{i.onAction(pn.getValue(ht))})]),Vn.config({mode:"special",onEnter:ht=>(Y(Ue,!0,!0),F.some(!0)),onEscape:de,onUp:ht=>(ie(!0,!1),F.some(!0)),onDown:ht=>(ne(!0,!1),F.some(!0)),onLeft:(ht,vt)=>(vt.cut(),F.none()),onRight:(ht,vt)=>(vt.cut(),F.none())})])})],behaviours:Bt([Qn.config({}),Vn.config({mode:"special",onEnter:Se,onSpace:Se,onEscape:de}),vo("input-wrapper-events",[kt($d(),ht=>{Lt([ct,je],vt=>{const tn=et.fromDom(vt.get(ht).element.dom);v1(tn)&&g1(tn)})})])])});return{dom:{tag:"div",classes:["tox-number-input"]},components:[ct.asSpec(),it.asSpec(),je.asSpec()],behaviours:Bt([Qn.config({}),Vn.config({mode:"flow",focusInside:jb.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:ht=>v1(ht.element)?F.none():(zl(ht.element),F.some(!0))})])}},eF={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},tF={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},aG=(t,s)=>{const i=Math.pow(10,s);return Math.round(t*i)/i},cG=(t,s)=>/[0-9.]+px$/.test(t)?aG(parseInt(t,10)*72/96,s||0)+"pt":dn(tF,t).getOr(t),lG=t=>dn(eF,t).getOr(""),a_=t=>{const s=()=>{let L=F.none();const z=I.data,Y=t.queryCommandValue("FontSize");if(Y)for(let ne=3;L.isNone()&&ne>=0;ne--){const ie=cG(Y,ne),de=lG(ie);L=Fn(z,Se=>Se.format===Y||Se.format===ie||Se.format===de)}return{matchOpt:L,size:Y}},i=L=>z=>z.exists(Y=>Y.format===L),u=()=>{const{matchOpt:L}=s();return L},m=we(F.none),b=L=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontSize",!1,L.format)})},T=L=>{const{matchOpt:z,size:Y}=s(),ne=z.fold(we(Y),ie=>ie.title);Nn(L,Ch,{text:ne})},I=Y2(t,"font_size_formats",ww.Space);return{tooltip:"Font sizes",text:F.some("12pt"),icon:F.none(),isSelectedFor:i,getPreviewFor:m,getCurrentValue:u,onAction:b,updateText:T,dataset:I,shouldHide:!1,isInvalid:Tt}},uG=(t,s)=>BS(t,s,a_(t)),dG=t=>{var s;const i={step:1};return(s={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[t])!==null&&s!==void 0?s:i},fG=t=>({updateInputValue:i=>Nn(i,Ch,{text:t.queryCommandValue("FontSize")}),getConfigFromUnit:dG,onAction:(i,u)=>t.execCommand("FontSize",!1,i,{skip_focus:!u})}),hG=(t,s)=>iG(t,s,fG(t)),mG=(t,s)=>{const i=i_(t,s,a_(t));t.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},nF=(t,s)=>{const i="Paragraph",u=T=>()=>t.formatter.match(T),m=T=>()=>{const I=t.formatter.get(T);return I!==void 0?F.some({tag:I.length>0&&(I[0].inline||I[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(T))}):F.none()},b=T=>{const I=ne=>yM(ne)?Ge(ne.items,I):_$(ne)?[{title:ne.title,format:ne.format}]:[],L=Ge(EM(t),I),Y=GB(t,we(L)).fold(we(i),ne=>ne.title);Nn(T,Ch,{text:Y})};return{tooltip:"Formats",text:F.some(i),icon:F.none(),isSelectedFor:u,getCurrentValue:F.none,getPreviewFor:m,onAction:zB(t),updateText:b,shouldHide:wP(t),isInvalid:T=>!t.formatter.canApply(T.format),dataset:s}},pG=(t,s)=>{const i={type:"advanced",...s.styles};return BS(t,s,nF(t,i))},gG=(t,s)=>{const i={type:"advanced",...s.styles},u=i_(t,s,nF(t,i));t.ui.registry.addNestedMenuItem("styles",{text:"Formats",getSubmenuItems:()=>u.items.validateItems(u.getStyleItems())})},sN=we([Rt("toggleClass"),Rt("fetch"),Bp("onExecute"),tt("getHotspot",F.some),tt("getAnchorOverrides",we({})),Of(),Bp("onItemExecute"),qo("lazySink"),Rt("dom"),Qe("onOpen"),Sc("splitDropdownBehaviours",[qi,Vn,Qn]),tt("matchWidth",!1),tt("useMinWidth",!1),tt("eventOrder",{}),qo("role")].concat(cD())),vG=ic({factory:xl,schema:[Rt("dom")],name:"arrow",defaults:()=>({buttonBehaviours:Bt([Qn.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(md)},buttonBehaviours:Bt([Mo.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])})}),bG=ic({factory:xl,schema:[Rt("dom")],name:"button",defaults:()=>({buttonBehaviours:Bt([Qn.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(i=>{t.onExecute(i,s)})}})}),oF=we([vG,bG,If({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[Rt("text")],name:"aria-descriptor"}),vh({schema:[Cf()],name:"menu",defaults:t=>({onExecute:(s,i)=>{s.getSystem().getByUid(t.uid).each(u=>{t.onItemExecute(u,s,i)})}})}),b4()]),sF=(t,s,i,u)=>{const m=Y=>{ss.getCurrent(Y).each(ne=>{Cs.highlightFirst(ne),Vn.focusIn(ne)})},b=Y=>{iD(t,Ue,Y,u,m,Od.HighlightMenuAndItem).get(ee)},T=Y=>(b(Y),F.some(!0)),I=Y=>{const ne=Ym(Y,t,"button");return md(ne),F.some(!0)},L={...er([wr((Y,ne)=>{Cr(Y,t,"aria-descriptor").each(de=>{const Se=zt("aria");uo(de.element,"id",Se),uo(Y.element,"aria-describedby",Se)})})]),...tA(F.some(b))},z={repositionMenus:Y=>{Mo.isOn(Y)&&aD(Y)}};return{uid:t.uid,dom:t.dom,components:s,apis:z,eventOrder:{...t.eventOrder,[Fs()]:["disabling","toggling","alloy.base.behaviour"]},events:L,behaviours:Gr(t.splitDropdownBehaviours,[qi.config({others:{sandbox:Y=>{const ne=Ym(Y,t,"arrow");return eS(t,Y,{onOpen:()=>{Mo.on(ne),Mo.on(Y)},onClose:()=>{Mo.off(ne),Mo.off(Y)}})}}}),Vn.config({mode:"special",onSpace:I,onEnter:I,onDown:T}),Qn.config({}),Mo.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},K2=ji({name:"SplitDropdown",configFields:sN(),partFields:oF(),factory:sF,apis:{repositionMenus:(t,s)=>t.repositionMenus(s)}}),rF=t=>({isEnabled:()=>!so.isDisabled(t),setEnabled:s=>so.set(t,!s),setText:s=>Nn(t,Ch,{text:s}),setIcon:s=>Nn(t,e_,{icon:s})}),yG=t=>({setActive:s=>{Mo.set(t,s)},isActive:()=>Mo.isOn(t),isEnabled:()=>!so.isDisabled(t),setEnabled:s=>so.set(t,!s),setText:s=>Nn(t,Ch,{text:s}),setIcon:s=>Nn(t,e_,{icon:s})}),iF=(t,s)=>t.map(i=>({"aria-label":s.translate(i),title:s.translate(i)})).getOr({}),aF=zt("focus-button"),rN=(t,s,i,u,m)=>{const b=s.map(I=>Yo(VD(I,"tox-tbtn",m))),T=t.map(I=>Yo(rp(I,m.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(s.isSome()?["tox-tbtn--select"]:[]),attributes:iF(i,m)},components:nw([T.map(I=>I.asSpec()),b.map(I=>I.asSpec())]),eventOrder:{[ni()]:["focusing","alloy.base.behaviour",c0],[fd()]:[c0,"toolbar-group-button-events"]},buttonBehaviours:Bt([Jm.toolbarButton(m.isDisabled),xc(),vo(c0,[wr((I,L)=>mS(I)),kt(Ch,(I,L)=>{b.bind(z=>z.getOpt(I)).each(z=>{mo.set(z,[$r(m.translate(L.event.text))])})}),kt(e_,(I,L)=>{T.bind(z=>z.getOpt(I)).each(z=>{mo.set(z,[rp(L.event.icon,m.icons)])})}),kt(ni(),(I,L)=>{L.event.prevent(),ls(I,aF)})])].concat(u.getOr([])))}},_G=(t,s,i,u)=>{const m=s.shared,b=Wn(ee),T={toolbarButtonBehaviours:[],getApi:rF,onSetup:t.onSetup},I=[vo("toolbar-group-button-events",[o0(T,b),Wy(T,b)])];return u0.sketch({lazySink:m.getSink,fetch:()=>Wl.nu(L=>{L(nt(i(t.items),W2))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:rN(t.icon,t.text,t.tooltip,F.some(I),m.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:u}}}})},cF=(t,s,i)=>{var u;const m=Wn(ee),b=rN(t.icon,t.text,t.tooltip,F.none(),i);return xl.sketch({dom:b.dom,components:b.components,eventOrder:HD,buttonBehaviours:{...Bt([vo("toolbar-button-events",[Bz({onAction:t.onAction,getApi:s.getApi}),o0(s,m),Wy(s,m)]),Jm.toolbarButton(()=>!t.enabled||i.isDisabled()),xc()].concat(s.toolbarButtonBehaviours)),[c0]:(u=b.buttonBehaviours)===null||u===void 0?void 0:u[c0]}})},lF=(t,s)=>uF(t,s,[]),uF=(t,s,i)=>cF(t,{toolbarButtonBehaviours:i.length>0?[vo("toolbarButtonWith",i)]:[],getApi:rF,onSetup:t.onSetup},s),iN=(t,s)=>dF(t,s,[]),dF=(t,s,i)=>cF(t,{toolbarButtonBehaviours:[mo.config({}),Mo.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(i.length>0?[vo("toolbarToggleButtonWith",i)]:[]),getApi:yG,onSetup:t.onSetup},s),EG=(t,s,i)=>u=>Wl.nu(m=>s.fetch(m)).map(m=>F.from(dD(dr(XC(zt("menu-value"),m,b=>{s.onItemAction(t(u),b)},s.columns,s.presets,cg.CLOSE_ON_EXECUTE,s.select.getOr(Tt),i),{movement:QC(s.columns,s.presets),menuBehaviours:VC.unnamedEvents(s.columns!=="auto"?[]:[wr((b,T)=>{BI(b,4,ZP(s.presets)).each(({numRows:I,numColumns:L})=>{Vn.setGridSize(b,I,L)})})])})))),wG=(t,s)=>{const i=b=>({isEnabled:()=>!so.isDisabled(b),setEnabled:T=>so.set(b,!T),setIconFill:(T,I)=>{Ur(b.element,`svg path[id="${T}"], rect[id="${T}"]`).each(L=>{uo(L,"fill",I)})},setActive:T=>{uo(b.element,"aria-pressed",T),Ur(b.element,"span").each(I=>{b.getSystem().getByDom(I).each(L=>Mo.set(L,T))})},isActive:()=>Ur(b.element,"span").exists(T=>b.getSystem().getByDom(T).exists(Mo.isOn)),setText:T=>Ur(b.element,"span").each(I=>b.getSystem().getByDom(I).each(L=>Nn(L,Ch,{text:T}))),setIcon:T=>Ur(b.element,"span").each(I=>b.getSystem().getByDom(I).each(L=>Nn(L,e_,{icon:T})))}),u=Wn(ee),m={getApi:i,onSetup:t.onSetup};return K2.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...iF(t.tooltip,s.providers)}},onExecute:b=>{const T=i(b);T.isEnabled()&&t.onAction(T)},onItemExecute:(b,T,I)=>{},splitDropdownBehaviours:Bt([Jm.splitButton(s.providers.isDisabled),xc(),vo("split-dropdown-events",[wr((b,T)=>mS(b)),kt(aF,Qn.focus),o0(m,u),Wy(m,u)]),iS.config({})]),eventOrder:{[fd()]:["alloy.base.behaviour","split-dropdown-events"]},toggleClass:"tox-tbtn--enabled",lazySink:s.getSink,fetch:EG(i,t,s.providers),parts:{menu:gA(!1,t.columns,t.presets)},components:[K2.parts.button(rN(t.icon,t.text,F.none(),F.some([Mo.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),s.providers)),K2.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:mP("chevron-down",s.providers.icons)},buttonBehaviours:Bt([Jm.splitButton(s.providers.isDisabled),xc(),SC()])}),K2.parts["aria-descriptor"]({text:s.providers.translate("To open the popup, press Shift+Enter")})]})},fF=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],f0=(t,s)=>(i,u,m)=>{const b=t(i).mapError(T=>mi(T)).getOrDie();return s(b,u,m)},TG={button:f0(fL,(t,s)=>lF(t,s.shared.providers)),togglebutton:f0(xA,(t,s)=>iN(t,s.shared.providers)),menubutton:f0(rB,(t,s)=>bS(t,"tox-tbtn",s,F.none())),splitbutton:f0(zW,(t,s)=>wG(t,s.shared)),grouptoolbarbutton:f0(sB,(t,s,i)=>{const u=i.ui.registry.getAll().buttons,m=T=>Q2(i,{buttons:u,toolbar:T,allowToolbarGroups:!1},s,F.none()),b={[E1]:s.shared.header.isPositionedAtTop()?fh.TopToBottom:fh.BottomToTop};switch(qE(i)){case Eh.floating:return _G(t,s,m,b);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})},X2=(t,s,i)=>dn(TG,t.type).fold(()=>(console.error("skipping button defined by",t),F.none()),u=>F.some(u(t,s,i))),FS={styles:pG,fontsize:uG,fontsizeinput:hG,fontfamily:nG,blocks:J9,align:X9},hF=t=>{const s=nt(fF,i=>{const u=po(i.items,m=>jo(t,m)||jo(FS,m));return{name:i.name,items:u}});return po(s,i=>i.items.length>0)},CG=t=>{const s=t.split("|");return nt(s,i=>({items:i.trim().split(" ")}))},SG=t=>ve(t,s=>jo(s,"name")&&jo(s,"items")),xG=t=>{const s=t.toolbar,i=t.buttons;return s===!1?[]:s===void 0||s===!0?hF(i):M(s)?CG(s):SG(s)?s:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},AG=(t,s,i,u,m,b)=>dn(s,i.toLowerCase()).orThunk(()=>b.bind(T=>Or(T,I=>dn(s,I+i.toLowerCase())))).fold(()=>dn(FS,i.toLowerCase()).map(T=>T(t,m)),T=>T.type==="grouptoolbarbutton"&&!u?(console.warn(`Ignoring the '${i}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),F.none()):X2(T,m,t)),Q2=(t,s,i,u)=>{const m=xG(s),b=nt(m,T=>{const I=Ge(T.items,L=>L.trim().length===0?[]:AG(t,s.buttons,L,s.allowToolbarGroups,i,u).toArray());return{title:F.from(t.translate(T.name)),items:I}});return po(b,T=>T.items.length>0)},mF=(t,s,i,u)=>{const m=s.mainUi.outerContainer,b=i.toolbar,T=i.buttons;if(ve(b,M)){const I=b.map(L=>{const z={toolbar:L,buttons:T,allowToolbarGroups:i.allowToolbarGroups};return Q2(t,z,u,F.none())});Hr.setToolbars(m,I)}else Hr.setToolbar(m,Q2(t,i,u,F.none()))},HS=$t(),pF=HS.os.isiOS()&&HS.os.version.major<=12,gF=(t,s)=>{const{uiMotherships:i}=s,u=t.dom;let m=t.getWin();const b=t.getDoc().documentElement,T=Wn(Zn(m.innerWidth,m.innerHeight)),I=Wn(Zn(b.offsetWidth,b.offsetHeight)),L=()=>{const ie=T.get();(ie.left!==m.innerWidth||ie.top!==m.innerHeight)&&(T.set(Zn(m.innerWidth,m.innerHeight)),LA(t))},z=()=>{const ie=t.getDoc().documentElement,de=I.get();(de.left!==ie.offsetWidth||de.top!==ie.offsetHeight)&&(I.set(Zn(ie.offsetWidth,ie.offsetHeight)),LA(t))},Y=ie=>{WL(t,ie)};u.bind(m,"resize",L),u.bind(m,"scroll",Y);const ne=y1(et.fromDom(t.getBody()),"load",z);t.on("hide",()=>{Lt(i,ie=>{oe(ie.element,"display","none")})}),t.on("show",()=>{Lt(i,ie=>{st(ie.element,"display")})}),t.on("NodeChange",z),t.on("remove",()=>{ne.unbind(),u.unbind(m,"resize",L),u.unbind(m,"scroll",Y),m=null})},vF=(t,s,i)=>{Jb(t)&&av(i.mainUi.mothership.element,i.popupUi.mothership),vy(s,i.dialogUi.mothership)};var RG=Object.freeze({__proto__:null,render:async(t,s,i,u,m)=>{const{mainUi:b,uiMotherships:T}=s,I=Wn(0),L=b.outerContainer;await q9(t);const z=et.fromDom(m.targetNode),Y=Ji(Ti(z));av(z,b.mothership),vF(t,Y,s),t.on("PostRender",()=>{Hr.setSidebar(L,i.sidebar,LP(t)),mF(t,s,i,u),I.set(t.getWin().innerWidth),Hr.setMenubar(L,$B(t,i)),Hr.setViews(L,i.views),gF(t,s)});const ne=Hr.getSocket(L).getOrDie("Could not find expected socket element");if(pF){he(ne.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const Le=X3(()=>{t.dispatch("ScrollContent")},20),ct=ll(ne.element,"scroll",Le.throttle);t.on("remove",ct.unbind)}ML(t,s),t.addCommand("ToggleSidebar",(Le,ct)=>{Hr.toggleSidebar(L,ct),t.dispatch("ToggleSidebar")}),t.addQueryValueHandler("ToggleSidebar",()=>{var Le;return(Le=Hr.whichSidebar(L))!==null&&Le!==void 0?Le:""}),t.addCommand("ToggleView",(Le,ct)=>{if(Hr.toggleView(L,ct)){const je=L.element;b.mothership.broadcastOn([Jp()],{target:je}),Lt(T,it=>{it.broadcastOn([Jp()],{target:je})}),J(Hr.whichView(L))&&(t.focus(),t.nodeChanged())}}),t.addQueryValueHandler("ToggleView",()=>{var Le;return(Le=Hr.whichView(L))!==null&&Le!==void 0?Le:""});const ie=qE(t),de=()=>{Hr.refreshToolbar(s.mainUi.outerContainer)};(ie===Eh.sliding||ie===Eh.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",()=>{const Le=t.getWin().innerWidth;Le!==I.get()&&(de(),I.set(Le))});const Se={setEnabled:Le=>{WC(s,!Le)},isEnabled:()=>!so.isDisabled(L)};return{iframeContainer:ne.element.dom,editorContainer:L.element.dom,api:Se}}});const J2=t=>/^[0-9\.]+(|px)$/i.test(""+t)?F.some(parseInt(""+t,10)):F.none(),aN=t=>le(t)?t+"px":t,eO=(t,s,i)=>{const u=s.filter(b=>t<b),m=i.filter(b=>t>b);return u.or(m).getOr(t)},IG=t=>{const s=RC(t),i=IC(t),u=cA(t);return J2(s).map(m=>eO(m,i,u))},DG=t=>IG(t).getOr(RC(t)),bF=t=>{const s=rA(t),i=iA(t),u=aA(t);return J2(s).map(m=>eO(m,i,u))},MG=t=>bF(t).getOr(rA(t)),{ToolbarLocation:cN,ToolbarMode:yF}=aV,_F=40,NG=(t,s,i,u,m)=>{const{mainUi:b,uiMotherships:T}=i,I=xC.DOM,L=$y(t),z=KE(t),Y=aA(t).or(bF(t)),ne=u.shared.header,ie=ne.isPositionedAtTop,de=qE(t),Se=de===yF.sliding||de===yF.floating,Le=Wn(!1),ct=()=>Le.get()&&!t.removed,je=to=>Se?to.fold(we(0),Ps=>Ps.components().length>1?xn(Ps.components()[1].element):0):0,it=to=>{switch(uA(t)){case cN.auto:const Ps=Hr.getToolbar(b.outerContainer),Zt=je(Ps),Rn=xn(to.element)-Zt,yn=ns(s);if(yn.y>Rn)return"top";{const Oo=nd(s),is=Math.max(Oo.dom.scrollHeight,xn(Oo));return yn.bottom<is-Rn||Ja().bottom<yn.bottom-Rn?"bottom":"top"}case cN.bottom:return"bottom";case cN.top:default:return"top"}},ht=to=>{m.on(Ps=>{ac.setModes(Ps,[to]),ne.setDockingMode(to);const Zt=ie()?fh.TopToBottom:fh.BottomToTop;uo(Ps.element,E1,Zt)})},vt=()=>{m.on(to=>{const Ps=Y.getOrThunk(()=>{const Zt=J2(Ce(ea(),"margin-left")).getOr(0);return Er(ea())-Po(s).left+Zt});oe(to.element,"max-width",Ps+"px")})},tn=to=>{m.on(Ps=>{const Zt=Hr.getToolbar(b.outerContainer),Rn=je(Zt),yn=ns(s),{top:Jn,left:Oo}=Ft(t,b.outerContainer.element).fold(()=>({top:ie()?Math.max(yn.y-xn(Ps.element)+Rn,0):yn.bottom,left:yn.x}),Os=>{var Yu;const Pi=ns(Os),cm=(Yu=Os.dom.scrollTop)!==null&&Yu!==void 0?Yu:0,dp=us(Os,ea()),J1=dp?Math.max(yn.y-xn(Ps.element)+Rn,0):yn.y-Pi.y+cm-xn(Ps.element)+Rn;return{top:ie()?J1:yn.bottom,left:dp?yn.x:yn.x-Pi.x}}),is={position:"absolute",left:Math.round(Oo)+"px",top:Math.round(Jn)+"px"},Ra=to.map(Os=>{const Yu=Xt(),Pi=150,cm=window.innerWidth-(Oo-Yu.left);return{width:Math.max(Math.min(Os,cm),Pi)+"px"}}).getOr({});he(b.outerContainer.element,{...is,...Ra})})},Ft=(to,Ps)=>Jb(to)?OS(Ps):F.none(),hn=()=>{Lt(T,to=>{to.broadcastOn([Fb()],{})})},In=()=>{if(L)return F.none();if(Po(b.outerContainer.element).left+Jr(b.outerContainer.element)>=window.innerWidth-_F||ot(b.outerContainer.element,"width").isSome()){oe(b.outerContainer.element,"position","absolute"),oe(b.outerContainer.element,"left","0px"),st(b.outerContainer.element,"width");const Ps=Jr(b.outerContainer.element);return F.some(Ps)}else return F.none()},Go=to=>{if(!ct())return;L||vt();const Ps=L?F.none():In();Se&&Hr.refreshToolbar(b.outerContainer),L||tn(Ps),z&&m.on(to),hn()},zn=()=>L||!z||!ct()?!1:m.get().exists(to=>{const Ps=ne.getDockingMode(),Zt=it(to);return Zt!==Ps?(ht(Zt),!0):!1});return{isVisible:ct,isPositionedAtTop:ie,show:()=>{Le.set(!0),oe(b.outerContainer.element,"display","flex"),I.addClass(t.getBody(),"mce-edit-focus"),Lt(T,to=>{st(to.element,"display")}),zn(),Jb(t)?Go(to=>ac.isDocked(to)?ac.reset(to):ac.refresh(to)):Go(ac.refresh)},hide:()=>{Le.set(!1),oe(b.outerContainer.element,"display","none"),I.removeClass(t.getBody(),"mce-edit-focus"),Lt(T,to=>{oe(to.element,"display","none")})},update:Go,updateMode:()=>{zn()&&Go(ac.reset)},repositionPopups:hn}},lN=(t,s)=>{const i=ns(t);return{pos:s?i.y:i.bottom,bounds:i}},kG=(t,s,i,u)=>{const m=Wn(lN(s,i.isPositionedAtTop())),b=z=>{const{pos:Y,bounds:ne}=lN(s,i.isPositionedAtTop()),{pos:ie,bounds:de}=m.get(),Se=ne.height!==de.height||ne.width!==de.width;m.set({pos:Y,bounds:ne}),Se&&LA(t,z),i.isVisible()&&(ie!==Y?i.update(ac.reset):Se&&(i.updateMode(),i.repositionPopups()))};u||(t.on("activate",i.show),t.on("deactivate",i.hide)),t.on("SkinLoaded ResizeWindow",()=>i.update(ac.reset)),t.on("NodeChange keydown",z=>{requestAnimationFrame(()=>b(z))});let T=0;const I=sM(()=>i.update(ac.refresh),33);t.on("ScrollWindow",()=>{const z=Xt().left;z!==T&&(T=z,I.throttle()),i.updateMode()}),Jb(t)&&t.on("ElementScroll",z=>{i.update(ac.refresh)});const L=Td();L.set(y1(et.fromDom(t.getBody()),"load",z=>b(z.raw))),t.on("remove",()=>{L.clear()})};var PG=Object.freeze({__proto__:null,render:async(t,s,i,u,m)=>{const{mainUi:b}=s,T=ir(),I=et.fromDom(m.targetNode),L=NG(t,I,s,u,T),z=dA(t);await Z9(t);const Y=()=>{if(T.isSet()){L.show();return}T.set(Hr.getHeader(b.outerContainer).getOrDie());const ie=NC(t);Jb(t)?(av(I,b.mothership),av(I,s.popupUi.mothership)):vy(ie,b.mothership),vy(ie,s.dialogUi.mothership),mF(t,s,i,u),Hr.setMenubar(b.outerContainer,$B(t,i)),L.show(),kG(t,I,L,z),t.nodeChanged()};t.on("show",Y),t.on("hide",L.hide),z||(t.on("focus",Y),t.on("blur",L.hide)),t.on("init",()=>{(t.hasFocus()||z)&&Y()}),ML(t,s);const ne={show:Y,hide:L.hide,setEnabled:ie=>{WC(s,!ie)},isEnabled:()=>!so.isDisabled(b.outerContainer)};return{editorContainer:b.outerContainer.element.dom,api:ne}}});const LG=()=>{const t=ir(),s=ir(),i=ir();return{dialogUi:t,popupUi:s,mainUi:i,getUiMotherships:()=>{const b=t.get().map(I=>I.mothership),T=s.get().map(I=>I.mothership);return b.fold(()=>T.toArray(),I=>T.fold(()=>[I],L=>us(I.element,L.element)?[I]:[I,L]))},lazyGetInOuterOrDie:(b,T)=>()=>i.get().bind(I=>T(I.outerContainer)).getOrDie(`Could not find ${b} element in OuterContainer`)}},$G="contexttoolbar-show",Tw="contexttoolbar-hide",EF=t=>({hide:()=>ls(t,Hh()),getValue:()=>pn.getValue(t)}),wF=(t,s)=>kt(O3,(i,u)=>{const m=t.get(i),b=EF(m);s.onAction(b,u.event.buttonApi)}),BG=(t,s,i)=>{const{primary:u,...m}=s.original,b=gs(fL({...m,type:"button",onAction:ee}));return uF(b,i,[wF(t,s)])},TF=(t,s,i)=>{const{primary:u,...m}=s.original,b=gs(xA({...m,type:"togglebutton",onAction:ee}));return dF(b,i,[wF(t,s)])},uN=t=>t.type==="contextformtogglebutton",CF=(t,s,i)=>uN(s)?TF(t,s,i):BG(t,s,i),SF=(t,s,i)=>{const u=nt(s,T=>Yo(CF(t,T,i)));return{asSpecs:()=>nt(u,T=>T.asSpec()),findPrimary:T=>Or(s,(I,L)=>I.primary?F.from(u[L]).bind(z=>z.getOpt(T)).filter(He(so.isDisabled)):F.none())}},xF=(t,s)=>{const i=t.label.fold(()=>({}),b=>({"aria-label":b})),u=Yo(Fy.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:i,selectOnFocus:!0,inputBehaviours:Bt([Vn.config({mode:"special",onEnter:b=>m.findPrimary(b).map(T=>(md(T),!0)),onLeft:(b,T)=>(T.cut(),F.none()),onRight:(b,T)=>(T.cut(),F.none())})])})),m=SF(u,t.commands,s);return[{title:F.none(),items:[u.asSpec()]},{title:F.none(),items:m.asSpecs()}]},tO={renderContextForm:(t,s,i)=>PS({type:t,uid:zt("context-toolbar"),initGroups:xF(s,i),onEscape:F.none,cyclicKeying:!0,providers:i}),buildInitGroups:xF},nO=(t,s,i)=>s.bottom-t.y>=i&&t.bottom-s.y>=i,AF=t=>{const s=t.getBoundingClientRect();if(s.height<=0&&s.width<=0){const i=Pa(et.fromDom(t.startContainer),t.startOffset).element;return($i(i)?Kc(i):F.some(i)).filter($s).map(m=>m.dom.getBoundingClientRect()).getOr(s)}else return s},oO=t=>{const s=t.selection.getRng(),i=AF(s);if(t.inline){const u=Xt();return js(u.left+i.left,u.top+i.top,i.width,i.height)}else{const u=su(et.fromDom(t.getBody()));return js(u.x+i.left,u.y+i.top,i.width,i.height)}},FG=(t,s)=>s.filter(i=>hc(i)&&nf(i)).map(su).getOrThunk(()=>oO(t)),OF=(t,s,i)=>{const u=Math.max(t.x+i,s.x),m=Math.min(t.right-i,s.right);return{x:u,width:m-u}},HG=(t,s,i,u,m,b)=>{const T=et.fromDom(t.getContainer()),I=Ur(T,".tox-editor-header").getOr(T),L=ns(I),z=L.y>=s.bottom,Y=u&&!z;if(t.inline&&Y)return{y:Math.max(L.bottom+b,i.y),bottom:i.bottom};if(t.inline&&!Y)return{y:i.y,bottom:Math.min(L.y-b,i.bottom)};const ne=m==="line"?ns(T):s;return Y?{y:Math.max(L.bottom+b,i.y),bottom:Math.min(ne.bottom-b,i.bottom)}:{y:Math.max(ne.y+b,i.y),bottom:Math.min(L.y-b,i.bottom)}},RF=(t,s,i,u=0)=>{const m=wo(window),b=ns(et.fromDom(t.getContentAreaContainer())),T=pv(t)||ZE(t)||YE(t),{x:I,width:L}=OF(b,m,u);if(t.inline&&!T)return js(I,m.y,L,m.height);{const z=s.header.isPositionedAtTop(),{y:Y,bottom:ne}=HG(t,b,m,z,i,u);return js(I,Y,L,ne-Y)}},sO=12,IF={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},DF={maxHeightFunction:Vm(),maxWidthFunction:GM()},MF=(t,s)=>{const i=t.selection.getRng(),u=Pa(et.fromDom(i.startContainer),i.startOffset);return i.startContainer===i.endContainer&&i.startOffset===i.endOffset-1&&us(u.element,s)},rO=(t,s,i)=>{const u=ot(t,"position");oe(t,"position",s);const m=i(t);return u.each(b=>oe(t,"position",b)),m},dN=t=>t==="node",NF=(t,s,i,u,m)=>{const b=oO(t),T=u.lastElement().exists(I=>us(i,I));if(MF(t,i))return T?v$:xv;if(T)return rO(s,u.getMode(),()=>nO(b,ns(s),-20)&&!u.isReposition()?PU:v$);{const I=u.getMode()==="fixed"?m.y+Xt().top:m.y,L=xn(s)+sO;return I+L<=b.y?xv:CS}},fN=(t,s,i,u)=>{const m=L=>(z,Y,ne,ie,de)=>{const Se=NF(t,ie,L,i,de),Le={...z,y:de.y,height:de.height};return{...Se(Le,Y,ne,ie,de),alwaysFit:!0}},b=L=>dN(u)?[m(L)]:[];return s?{onLtr:L=>[sc,Ua,la,Cl,bu,Vs].concat(b(L)),onRtl:L=>[sc,la,Ua,bu,Cl,Vs].concat(b(L))}:{onLtr:L=>[Vs,sc,Cl,Ua,bu,la].concat(b(L)),onRtl:L=>[Vs,sc,bu,la,Cl,Ua].concat(b(L))}},VG=(t,s,i,u)=>s==="line"?{bubble:Af(sO,0,IF),layouts:{onLtr:()=>[Gd],onRtl:()=>[Zh]},overrides:DF}:{bubble:Af(0,sO,IF,1/sO),layouts:fN(t,i,u,s),overrides:DF},iO=(t,s)=>{const i=po(s,b=>b.predicate(t.dom)),{pass:u,fail:m}=fs(i,b=>b.type==="contexttoolbar");return{contextToolbars:u,contextForms:m}},zG=t=>{if(t.length<=1)return t;{const s=b=>Ho(t,T=>T.position===b),i=b=>po(t,T=>T.position===b),u=s("selection"),m=s("node");if(u||m)if(m&&u){const b=i("node"),T=nt(i("selection"),I=>({...I,position:"node"}));return b.concat(T)}else return i(u?"selection":"node");else return i("line")}},UG=t=>{if(t.length<=1)return t;{const s=u=>Fn(t,m=>m.position===u);return s("selection").orThunk(()=>s("node")).orThunk(()=>s("line")).map(u=>u.position).fold(()=>[],u=>po(t,m=>m.position===u))}},aO=(t,s,i)=>{const u=iO(t,s);if(u.contextForms.length>0)return F.some({elem:t,toolbars:[u.contextForms[0]]});{const m=iO(t,i);if(m.contextForms.length>0)return F.some({elem:t,toolbars:[m.contextForms[0]]});if(u.contextToolbars.length>0||m.contextToolbars.length>0){const b=zG(u.contextToolbars.concat(m.contextToolbars));return F.some({elem:t,toolbars:b})}else return F.none()}},kF=(t,s,i)=>t(s)?F.none():Op(s,u=>{if($s(u)){const{contextToolbars:m,contextForms:b}=iO(u,i.inNodeScope),T=b.length>0?b:UG(m);return T.length>0?F.some({elem:u,toolbars:T}):F.none()}else return F.none()},t),WG=(t,s)=>{const i=et.fromDom(s.getBody()),u=T=>us(T,i),m=T=>!u(T)&&!Na(i,T),b=et.fromDom(s.selection.getNode());return m(b)?F.none():aO(b,t.inNodeScope,t.inEditorScope).orThunk(()=>kF(u,b,t))},GG=(t,s)=>{const i={},u=[],m=[],b={},T={},I=(Y,ne)=>{const ie=gs(gL(ne));i[Y]=ie,ie.launch.map(de=>{b["form:"+Y]={...ne.launch,type:de.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{s(ie)}}}),ie.scope==="editor"?m.push(ie):u.push(ie),T[Y]=ie},L=(Y,ne)=>{MV(ne).each(ie=>{ne.scope==="editor"?m.push(ie):u.push(ie),T[Y]=ie})},z=lr(t);return Lt(z,Y=>{const ne=t[Y];ne.type==="contextform"?I(Y,ne):ne.type==="contexttoolbar"&&L(Y,ne)}),{forms:i,inNodeScope:u,inEditorScope:m,lookupTable:T,formNavigators:b}},PF=zt("forward-slide"),LF=zt("backward-slide"),hN=zt("change-slide-event"),cO="tox-pop--resizing",$F=t=>{const s=Wn([]);return Aa.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:i=>{s.set([]),Aa.getContent(i).each(u=>{st(u.element,"visibility")}),Zs(i.element,cO),st(i.element,"width")},inlineBehaviours:Bt([vo("context-toolbar-events",[Ui(pf(),(i,u)=>{u.event.raw.propertyName==="width"&&(Zs(i.element,cO),st(i.element,"width"))}),kt(hN,(i,u)=>{const m=i.element;st(m,"width");const b=Er(m);Aa.setContent(i,u.event.contents),ks(m,cO);const T=Er(m);oe(m,"width",b+"px"),Aa.getContent(i).each(I=>{u.event.focus.bind(L=>(zl(L),zu(m))).orThunk(()=>(Vn.focusIn(I),xf(Ti(m))))}),setTimeout(()=>{oe(i.element,"width",T+"px")},0)}),kt(PF,(i,u)=>{Aa.getContent(i).each(m=>{s.set(s.get().concat([{bar:m,focus:xf(Ti(i.element))}]))}),Nn(i,hN,{contents:u.event.forwardContents,focus:F.none()})}),kt(LF,(i,u)=>{lc(s.get()).each(m=>{s.set(s.get().slice(0,s.get().length-1)),Nn(i,hN,{contents:Vl(m.bar),focus:m.focus})})})]),Vn.config({mode:"special",onEscape:i=>lc(s.get()).fold(()=>t.onEscape(),u=>(ls(i,LF),F.some(!0)))})]),lazySink:()=>io.value(t.sink)})},mN="tox-pop--transition",jG=(t,s,i,u)=>{const m=u.backstage,b=m.shared,T=$t().deviceType.isTouch,I=ir(),L=ir(),z=ir(),Y=Hc($F({sink:i,onEscape:()=>(t.focus(),F.some(!0))})),ne=()=>{const zn=z.get().getOr("node"),Fo=dN(zn)?1:0;return RF(t,b,zn,Fo)},ie=()=>!t.removed&&!(T()&&m.isContextMenuOpen()),de=zn=>qc(xu(zn,I.get(),us),!0),Se=()=>{if(ie()){const zn=ne(),Fo=qc(z.get(),"node")?FG(t,I.get()):oO(t);return zn.height<=0||!nO(Fo,zn,.01)}else return!0},Le=()=>{I.clear(),L.clear(),z.clear(),Aa.hide(Y)},ct=()=>{if(Aa.isOpen(Y)){const zn=Y.element;st(zn,"display"),Se()?oe(zn,"display","none"):(L.set(0),Aa.reposition(Y))}},je=zn=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[zn],behaviours:Bt([Vn.config({mode:"acyclic"}),vo("pop-dialog-wrap-events",[wr(Fo=>{t.shortcuts.add("ctrl+F9","focus statusbar",()=>Vn.focusIn(Fo))}),Cc(Fo=>{t.shortcuts.remove("ctrl+F9")})])])}),it=Ci(()=>GG(s,zn=>{const Fo=tn([zn]);Nn(Y,PF,{forwardContents:je(Fo)})})),ht=(zn,Fo)=>Q2(t,{buttons:zn,toolbar:Fo.items,allowToolbarGroups:!1},u.backstage,F.some(["form:"])),vt=(zn,Fo)=>tO.buildInitGroups(zn,Fo),tn=zn=>{const{buttons:Fo}=t.ui.registry.getAll(),co=it(),$o={...Fo,...co.formNavigators},to=qE(t)===Eh.scrolling?Eh.scrolling:Eh.default,Ps=en(nt(zn,Zt=>Zt.type==="contexttoolbar"?ht($o,Zt):vt(Zt,b.providers)));return PS({type:to,uid:zt("context-toolbar"),initGroups:Ps,onEscape:F.none,cyclicKeying:!0,providers:b.providers})},Ft=(zn,Fo)=>{const co=zn==="node"?b.anchors.node(Fo):b.anchors.cursor(),$o=VG(t,zn,T(),{lastElement:I.get,isReposition:()=>qc(L.get(),0),getMode:()=>tr.getMode(i)});return dr(co,$o)},hn=(zn,Fo)=>{if(Go.cancel(),!ie())return;const co=tn(zn),$o=zn[0].position,to=Ft($o,Fo);z.set($o),L.set(1);const Ps=Y.element;st(Ps,"display"),de(Fo)||(Zs(Ps,mN),tr.reset(i,Y)),Aa.showWithinBounds(Y,je(co),{anchor:to,transition:{classes:[mN],mode:"placement"}},()=>F.some(ne())),Fo.fold(I.clear,I.set),Se()&&oe(Ps,"display","none")};let In=!1;const Go=sM(()=>{if(!(!t.hasFocus()||t.removed||In))if(Sa(Y.element,mN))Go.throttle();else{const zn=it();WG(zn,t).fold(Le,Fo=>{hn(Fo.toolbars,F.some(Fo.elem))})}},17);t.on("init",()=>{t.on("remove",Le),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",ct),t.on("click keyup focus SetContent",Go.throttle),t.on(Tw,Le),t.on($G,zn=>{const Fo=it();dn(Fo.lookupTable,zn.toolbarKey).each(co=>{hn([co],jn(zn.target!==t,zn.target)),Aa.getContent(Y).each(Vn.focusIn)})}),t.on("focusout",zn=>{ag.setEditorTimeout(t,()=>{zu(i.element).isNone()&&zu(Y.element).isNone()&&Le()},0)}),t.on("SwitchMode",()=>{t.mode.isReadOnly()&&Le()}),t.on("AfterProgressState",zn=>{zn.state?Le():t.hasFocus()&&Go.throttle()}),t.on("dragstart",()=>{In=!0}),t.on("dragend drop",()=>{In=!1}),t.on("NodeChange",zn=>{zu(Y.element).fold(Go.throttle,ee)})})},BF=t=>{Lt([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],i=>{t.ui.registry.addToggleButton(i.name,{tooltip:i.text,icon:i.icon,onAction:Sh(t,i.cmd),onSetup:Z2(t,i.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:Sh(t,"JustifyNone")})},FF=(t,s)=>{const i=()=>{const u=s.getOptions(t),m=s.getCurrent(t).map(s.hash),b=ir();return nt(u,T=>({type:"togglemenuitem",text:s.display(T),onSetup:I=>{const L=Y=>{Y&&(b.on(ne=>ne.setActive(!1)),b.set(I)),I.setActive(Y)};L(qc(m,s.hash(T)));const z=s.watcher(t,T,L);return()=>{b.clear(),z()}},onAction:()=>s.setCurrent(t,T)}))};t.ui.registry.addMenuButton(s.name,{tooltip:s.text,icon:s.icon,fetch:u=>u(i()),onSetup:s.onToolbarSetup}),t.ui.registry.addNestedMenuItem(s.name,{type:"nestedmenuitem",text:s.text,getSubmenuItems:i,onSetup:s.onMenuSetup})},qG={name:"lineheight",text:"Line height",icon:"line-height",getOptions:FP,hash:t=>JB(t,["fixed","relative","empty"]).getOr(t),display:Ue,watcher:(t,s,i)=>t.formatter.formatChanged("lineheight",i,!1,{value:s}).unbind,getCurrent:t=>F.from(t.queryCommandValue("LineHeight")),setCurrent:(t,s)=>t.execCommand("LineHeight",!1,s)},ZG=t=>F.from(cI(t)).map(i=>({name:"language",text:"Language",icon:"language",getOptions:we(i),hash:u=>ae(u.customCode)?u.code:`${u.code}/${u.customCode}`,display:u=>u.title,watcher:(u,m,b)=>{var T;return u.formatter.formatChanged("lang",b,!1,{value:m.code,customValue:(T=m.customCode)!==null&&T!==void 0?T:null}).unbind},getCurrent:u=>{const m=et.fromDom(u.selection.getNode());return Lg(m,b=>F.some(b).filter($s).bind(T=>ui(T,"lang").map(L=>{const z=ui(T,"data-mce-lang").getOrUndefined();return{code:L,customCode:z,title:""}})))},setCurrent:(u,m)=>u.execCommand("Lang",!1,m),onToolbarSetup:u=>{const m=Td();return u.setActive(t.formatter.match("lang",{},void 0,!0)),m.set(t.formatter.formatChanged("lang",u.setActive,!0)),m.clear}})),YG=t=>{FF(t,qG),ZG(t).each(s=>FF(t,s))},KG=(t,s)=>{Q9(t,s),oG(t,s),gG(t,s),eG(t,s),mG(t,s)},pN=t=>$S(t,"NodeChange",s=>{s.setEnabled(t.queryCommandState("outdent"))}),XG=t=>{t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:pN(t),onAction:Sh(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:Sh(t,"indent")})},QG=t=>{XG(t)},lO=(t,s)=>i=>{i.setActive(s.get());const u=m=>{s.set(m.state),i.setActive(m.state)};return t.on("PastePlainTextToggle",u),()=>t.off("PastePlainTextToggle",u)},HF=t=>{const s=Wn(uI(t)),i=()=>t.execCommand("mceTogglePlainTextPaste");t.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:i,onSetup:lO(t,s)}),t.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:i,onSetup:lO(t,s)})},uO=(t,s)=>()=>{t.execCommand("mceToggleFormat",!1,s)},JG=t=>{Qy.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(s,i)=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:Z2(t,s.name),onAction:uO(t,s.name)})});for(let s=1;s<=6;s++){const i="h"+s;t.ui.registry.addToggleButton(i,{text:i.toUpperCase(),tooltip:"Heading "+s,onSetup:Z2(t,i),onAction:uO(t,i)})}},ej=t=>{Qy.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"print",text:"Print",action:"mcePrint",icon:"print"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onAction:Sh(t,s.action)})})},tj=t=>{Qy.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],s=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onAction:Sh(t,s.action),onSetup:Z2(t,s.name)})})},nj=t=>{JG(t),ej(t),tj(t)},oj=t=>{Qy.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onAction:Sh(t,s.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:uO(t,"code")})},VF=t=>{nj(t),oj(t)},dO=(t,s)=>$S(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",i=>{i.setEnabled(!t.mode.isReadOnly()&&t.undoManager[s]())}),zF=t=>{t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:dO(t,"hasUndo"),onAction:Sh(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:dO(t,"hasRedo"),onAction:Sh(t,"redo")})},sj=t=>{t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:dO(t,"hasUndo"),onAction:Sh(t,"undo")}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:dO(t,"hasRedo"),onAction:Sh(t,"redo")})},rj=t=>{zF(t),sj(t)},gN=t=>$S(t,"VisualAid",s=>{s.setActive(t.hasVisual)}),UF=t=>{t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:gN(t),onAction:Sh(t,"mceToggleVisualAid")})},ij=t=>{t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:Sh(t,"mceToggleVisualAid")})},aj=t=>{ij(t),UF(t)},vN=(t,s)=>{BF(t),VF(t),KG(t,s),rj(t),tD(t),aj(t),QG(t),YG(t),HF(t)},cj=t=>M(t)?t.split(/[ ,]/):t,WF=t=>s=>s.options.get(t),lj=t=>{const s=t.options.register;s("contextmenu_avoid_overlap",{processor:"string",default:""}),s("contextmenu_never_use_native",{processor:"boolean",default:!1}),s("contextmenu",{processor:i=>i===!1?{value:[],valid:!0}:M(i)||ve(i,M)?{value:cj(i),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},GF=WF("contextmenu_never_use_native"),uj=WF("contextmenu_avoid_overlap"),jF=t=>qF(t).length===0,qF=t=>{const s=t.ui.registry.getAll().contextMenus,i=t.options.get("contextmenu");return t.options.isSet("contextmenu")?i:po(i,u=>jo(s,u))},zS=(t,s)=>({type:"makeshift",x:t,y:s}),dj=(t,s,i)=>zS(t.x+s,t.y+i),ZF=t=>t.type==="longpress"||t.type.indexOf("touch")===0,fj=t=>{if(ZF(t)){const s=t.touches[0];return zS(s.pageX,s.pageY)}else return zS(t.pageX,t.pageY)},hj=t=>{if(ZF(t)){const s=t.touches[0];return zS(s.clientX,s.clientY)}else return zS(t.clientX,t.clientY)},mj=(t,s)=>{const i=xC.DOM.getPos(t);return dj(s,i.x,i.y)},pj=(t,s)=>s.type==="contextmenu"||s.type==="longpress"?t.inline?fj(s):mj(t.getContentAreaContainer(),hj(s)):bN(t),bN=t=>({type:"selection",root:et.fromDom(t.selection.getNode())}),gj=t=>({type:"node",node:F.some(et.fromDom(t.selection.getNode())),root:et.fromDom(t.getBody())}),yN=(t,s,i)=>{switch(i){case"node":return gj(t);case"point":return pj(t,s);case"selection":return bN(t)}},vj=(t,s,i,u,m,b)=>{const T=i(),I=yN(t,s,b);t_(T,cg.CLOSE_ON_EXECUTE,u,{isHorizontalMenu:!1,search:F.none()}).map(L=>{s.preventDefault(),Aa.showMenuAt(m,{anchor:I},{menu:{markers:By("normal")},data:L})})},bj={onLtr:()=>[sc,Ua,la,Cl,bu,Vs,xv,CS,TS,ES,wS,gw],onRtl:()=>[sc,la,Ua,bu,Cl,Vs,xv,CS,wS,gw,TS,ES]},yj=12,c_={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},YF=(t,s)=>{const i=t.selection;if(i.isCollapsed()||s.touches.length<1)return!1;{const u=s.touches[0],m=i.getRng();return O1(t.getWin(),Kh.domRange(m)).exists(T=>T.left<=u.clientX&&T.right>=u.clientX&&T.top<=u.clientY&&T.bottom>=u.clientY)}},_j=t=>{const s=t.selection.getRng(),i=()=>{ag.setEditorTimeout(t,()=>{t.selection.setRng(s)},10),b()};t.once("touchend",i);const u=T=>{T.preventDefault(),T.stopImmediatePropagation()};t.on("mousedown",u,!0);const m=()=>b();t.once("longpresscancel",m);const b=()=>{t.off("touchend",i),t.off("longpresscancel",m),t.off("mousedown",u)}},Ej=(t,s,i)=>{const u=yN(t,s,i);return{bubble:Af(0,i==="point"?yj:0,c_),layouts:bj,overrides:{maxWidthFunction:GM(),maxHeightFunction:Vm()},...u}},wj=(t,s,i,u,m,b,T)=>{const I=Ej(t,s,b);t_(i,cg.CLOSE_ON_EXECUTE,u,{isHorizontalMenu:!0,search:F.none()}).map(L=>{s.preventDefault();const z=T?Od.HighlightMenuAndItem:Od.HighlightNone;Aa.showMenuWithinBounds(m,{anchor:I},{menu:{markers:By("normal"),highlightOnOpen:z},data:L,type:"horizontal"},()=>F.some(RF(t,u.shared,b==="node"?"node":"selection"))),t.dispatch(Tw)})},Tj=(t,s,i,u,m,b)=>{const T=$t(),I=T.os.isiOS(),L=T.os.isMacOS(),z=T.os.isAndroid(),Y=T.deviceType.isTouch(),ne=()=>!(z||I||L&&Y),ie=()=>{const de=i();wj(t,s,de,u,m,b,ne())};if((L||I)&&b!=="node"){const de=()=>{_j(t),ie()};YF(t,s)?de():(t.once("selectionchange",de),t.once("touchend",()=>t.off("selectionchange",de)))}else ie()},_N=t=>M(t)?t==="|":t.type==="separator",EN={type:"separator"},KF=t=>{const s=i=>({text:i.text,icon:i.icon,enabled:i.enabled,shortcut:i.shortcut});if(M(t))return t;switch(t.type){case"separator":return EN;case"submenu":return{type:"nestedmenuitem",...s(t),getSubmenuItems:()=>{const u=t.getSubmenuItems();return M(u)?u:nt(u,KF)}};default:const i=t;return{type:"menuitem",...s(i),onAction:ke(i.onAction)}}},XF=(t,s)=>{if(s.length===0)return t;const u=lc(t).filter(m=>!_N(m)).fold(()=>[],m=>[EN]);return t.concat(u).concat(s).concat([EN])},Cj=(t,s,i)=>{const u=as(s,(m,b)=>dn(t,b.toLowerCase()).map(T=>{const I=T.update(i);if(M(I))return XF(m,I.split(" "));if(I.length>0){const L=nt(I,KF);return XF(m,L)}else return m}).getOrThunk(()=>m.concat([b])),[]);return u.length>0&&_N(u[u.length-1])&&u.pop(),u},Sj=(t,s)=>s.ctrlKey&&!GF(t),xj=t=>t.type==="longpress"||jo(t,"touches"),QF=(t,s)=>!xj(s)&&(s.button!==2||s.target===t.getBody()&&s.pointerType===""),JF=(t,s)=>QF(t,s)?t.selection.getStart(!0):s.target,e5=(t,s)=>{const i=uj(t),u=QF(t,s)?"selection":"point";if(Zc(i)){const m=JF(t,s);return tS(et.fromDom(m),i)?"node":u}else return u},t5=(t,s,i)=>{const m=$t().deviceType.isTouch,b=Hc(Aa.sketch({dom:{tag:"div"},lazySink:s,onEscape:()=>t.focus(),onShow:()=>i.setContextMenuState(!0),onHide:()=>i.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:Bt([vo("dismissContextMenu",[kt(Bl(),(L,z)=>{Zo.close(L),t.focus()})])])})),T=()=>Aa.hide(b),I=L=>{if(GF(t)&&L.preventDefault(),Sj(t,L)||jF(t))return;const z=e5(t,L),Y=()=>{const ie=JF(t,L),de=t.ui.registry.getAll(),Se=qF(t);return Cj(de.contextMenus,Se,ie)};(m()?Tj:vj)(t,L,Y,i,b,z)};t.on("init",()=>{const L="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(m()?"":" ResizeWindow");t.on(L,T),t.on("longpress contextmenu",I)})},wN=mu.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),h0=t=>s=>s.translate(-t.left,-t.top),fO=t=>s=>s.translate(t.left,t.top),K1=t=>(s,i)=>as(t,(u,m)=>m(u),Zn(s,i)),Cw=(t,s,i)=>t.fold(K1([fO(i),h0(s)]),K1([h0(s)]),K1([])),Sw=(t,s,i)=>t.fold(K1([fO(i)]),K1([]),K1([fO(s)])),n5=(t,s,i)=>t.fold(K1([]),K1([h0(i)]),K1([fO(s),h0(i)])),Aj=(t,s,i,u,m,b)=>{const T=Sw(t,m,b),I=Sw(s,m,b);return Math.abs(T.left-I.left)<=i&&Math.abs(T.top-I.top)<=u},Oj=(t,s,i,u,m,b)=>{const T=Sw(t,m,b),I=Sw(s,m,b),L=Math.abs(T.left-I.left),z=Math.abs(T.top-I.top);return Zn(L,z)},o5=(t,s,i)=>{const u=t.fold((m,b)=>({position:F.some("absolute"),left:F.some(m+"px"),top:F.some(b+"px")}),(m,b)=>({position:F.some("absolute"),left:F.some(m-i.left+"px"),top:F.some(b-i.top+"px")}),(m,b)=>({position:F.some("fixed"),left:F.some(m+"px"),top:F.some(b+"px")}));return{right:F.none(),bottom:F.none(),...u}},Rj=(t,s,i)=>t.fold((u,m)=>hO(u+s,m+i),(u,m)=>m0(u+s,m+i),(u,m)=>l_(u+s,m+i)),TN=(t,s,i,u)=>{const m=(b,T)=>(I,L)=>{const z=b(s,i,u);return T(I.getOr(z.left),L.getOr(z.top))};return t.fold(m(n5,hO),m(Sw,m0),m(Cw,l_))},hO=wN.offset,m0=wN.absolute,l_=wN.fixed,s5=(t,s)=>{const i=Fi(t,s);return ae(i)?NaN:parseInt(i,10)},Ij=(t,s)=>{const i=t.element,u=s5(i,s.leftAttr),m=s5(i,s.topAttr);return isNaN(u)||isNaN(m)?F.none():F.some(Zn(u,m))},Dj=(t,s,i)=>{const u=t.element;uo(u,s.leftAttr,i.left+"px"),uo(u,s.topAttr,i.top+"px")},Mj=(t,s)=>{const i=t.element;x(i,s.leftAttr),x(i,s.topAttr)},Nj=(t,s,i,u)=>Ij(t,s).fold(()=>i,m=>l_(m.left+u.left,m.top+u.top)),kj=(t,s,i,u,m,b)=>{const T=Nj(t,s,i,u),I=s.mustSnap?Lj(t,s,T,m,b):$j(t,s,T,m,b),L=Cw(T,m,b);return Dj(t,s,L),I.fold(()=>({coord:l_(L.left,L.top),extra:F.none()}),z=>({coord:z.output,extra:z.extra}))},Pj=(t,s)=>{Mj(t,s)},US=(t,s,i,u)=>Or(t,m=>{const b=m.sensor;return Aj(s,b,m.range.left,m.range.top,i,u)?F.some({output:TN(m.output,s,i,u),extra:m.extra}):F.none()}),Lj=(t,s,i,u,m)=>{const b=s.getSnapPoints(t);return US(b,i,u,m).orThunk(()=>as(b,(L,z)=>{const Y=z.sensor,ne=Oj(i,Y,z.range.left,z.range.top,u,m);return L.deltas.fold(()=>({deltas:F.some(ne),snap:F.some(z)}),ie=>{const de=(ne.left+ne.top)/2,Se=(ie.left+ie.top)/2;return de<=Se?{deltas:F.some(ne),snap:F.some(z)}:L})},{deltas:F.none(),snap:F.none()}).snap.map(L=>({output:TN(L.output,i,u,m),extra:L.extra})))},$j=(t,s,i,u,m)=>{const b=s.getSnapPoints(t);return US(b,i,u,m)},Bj=(t,s,i)=>({coord:TN(t.output,t.output,s,i),extra:t.extra});var Fj=Object.freeze({__proto__:null,snapTo:(t,s,i,u)=>{const m=s.getTarget(t.element);if(s.repositionTarget){const b=Qi(t.element),T=Xt(b),I=U$(m),L=Bj(u,T,I),z=o5(L.coord,T,I);Ee(m,z)}}});const CN="data-initial-z-index",r5=t=>{Kc(t.element).filter($s).each(s=>{ui(s,CN).fold(()=>st(s,"z-index"),i=>oe(s,"z-index",i)),x(s,CN)})},Hj=t=>{Kc(t.element).filter($s).each(s=>{ot(s,"z-index").each(i=>{uo(s,CN,i)}),oe(s,"z-index",Ce(t.element,"z-index"))})},i5=(t,s)=>{t.getSystem().addToGui(s),Hj(s)},Vj=t=>{r5(t),t.getSystem().removeFromGui(t)},a5=(t,s,i)=>t.getSystem().build(ep.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[s]},events:i}));var zj=oc("snaps",[Rt("getSnapPoints"),Qe("onSensor"),Rt("leftAttr"),Rt("topAttr"),tt("lazyViewport",Ja),tt("mustSnap",!1)]);const WS=[tt("useFixed",Tt),Rt("blockerClass"),tt("getTarget",Ue),tt("onDrag",ee),tt("repositionTarget",!0),tt("onDrop",ee),Vi("getBounds",Ja),zj],c5=t=>Gf(ot(t,"left"),ot(t,"top"),ot(t,"position"),(s,i,u)=>(u==="fixed"?l_:hO)(parseInt(s,10),parseInt(i,10))).getOrThunk(()=>{const s=Po(t);return m0(s.left,s.top)}),Uj=(t,s,i,u,m)=>{const b=m.bounds,T=Sw(s,i,u),I=al(T.left,b.x,b.x+b.width-m.width),L=al(T.top,b.y,b.y+b.height-m.height),z=m0(I,L);return s.fold(()=>{const Y=n5(z,i,u);return hO(Y.left,Y.top)},we(z),()=>{const Y=Cw(z,i,u);return l_(Y.left,Y.top)})},Wj=(t,s,i,u,m,b,T)=>{const I=s.fold(()=>{const L=Rj(i,b.left,b.top),z=Cw(L,u,m);return l_(z.left,z.top)},L=>{const z=kj(t,L,i,b,u,m);return z.extra.each(Y=>{L.onSensor(t,Y)}),z.coord});return Uj(t,I,u,m,T)},Gj=(t,s,i,u)=>{const m=s.getTarget(t.element);if(s.repositionTarget){const b=Qi(t.element),T=Xt(b),I=U$(m),L=c5(m),z=Wj(t,s.snaps,L,T,I,u,i),Y=o5(z,T,I);Ee(m,Y)}s.onDrag(t,m,u)},l5=(t,s)=>({bounds:t.getBounds(),height:yr(s.element),width:Jr(s.element)}),SN=(t,s,i,u,m)=>{const b=i.update(u,m),T=i.getStartData().getOrThunk(()=>l5(s,t));b.each(I=>{Gj(t,s,T,I)})},u5=(t,s,i,u)=>{s.each(Vj),i.snaps.each(b=>{Pj(t,b)});const m=i.getTarget(t.element);u.reset(),i.onDrop(t,m)},xN=t=>(s,i)=>{const u=m=>{i.setStartData(l5(s,m))};return er([kt(ku(),m=>{i.getStartData().each(()=>u(m))}),...t(s,i,u)])},jj=t=>er([kt(ni(),t.forceDrop),kt(Ld(),t.drop),kt(El(),(s,i)=>{t.move(i.event)}),kt(Fh(),t.delayDrop)]);var qj=Object.freeze({__proto__:null,getData:t=>F.from(Zn(t.x,t.y)),getDelta:(t,s)=>Zn(s.left-t.left,s.top-t.top)});const d5=(t,s,i)=>[kt(ni(),(u,m)=>{if(m.event.raw.button!==0)return;m.stop();const T=()=>u5(u,F.some(z),t,s),I=C4(T,200),L={drop:T,delayDrop:I.schedule,forceDrop:T,move:ne=>{I.cancel(),SN(u,t,s,qj,ne)}},z=a5(u,t.blockerClass,jj(L));(()=>{i(u),i5(u,z)})()})],Zj=[...WS,mr("dragger",{handlers:xN(d5)})],Yj=t=>er([kt(Ll(),t.forceDrop),kt(rh(),t.drop),kt(db(),t.drop),kt(Bh(),(s,i)=>{t.move(i.event)})]),Kj=t=>{const s=t[0];return F.some(Zn(s.clientX,s.clientY))};var f5=Object.freeze({__proto__:null,getData:t=>{const i=t.raw.touches;return i.length===1?Kj(i):F.none()},getDelta:(t,s)=>Zn(s.left-t.left,s.top-t.top)});const h5=(t,s,i)=>{const u=ir(),m=b=>{u5(b,u.get(),t,s),u.clear()};return[kt(Ll(),(b,T)=>{T.stop();const I=()=>m(b),L={drop:I,delayDrop:ee,forceDrop:I,move:ne=>{SN(b,t,s,f5,ne)}},z=a5(b,t.blockerClass,Yj(L));u.set(z),(()=>{i(b),i5(b,z)})()}),kt(Bh(),(b,T)=>{T.stop(),SN(b,t,s,f5,T.event)}),kt(rh(),(b,T)=>{T.stop(),m(b)}),kt(db(),m)]},Xj=[...WS,mr("dragger",{handlers:xN(h5)})],Qj=(t,s,i)=>[...d5(t,s,i),...h5(t,s,i)],m5=[...WS,mr("dragger",{handlers:xN(Qj)})];var AN=Object.freeze({__proto__:null,mouse:Zj,touch:Xj,mouseOrTouch:m5}),eq=Object.freeze({__proto__:null,init:()=>{let t=F.none(),s=F.none();const i=()=>{t=F.none(),s=F.none()},u=(L,z)=>{const Y=t.map(ne=>L.getDelta(ne,z));return t=F.some(z),Y},m=(L,z)=>L.getData(z).bind(Y=>u(L,Y)),b=L=>{s=F.some(L)},T=()=>s,I=we({});return Ca({readState:I,reset:i,update:m,getStartData:T,setStartData:b})}});const u_=q_({branchKey:"mode",branches:AN,name:"dragging",active:{events:(t,s)=>t.dragger.handlers(t,s)},extra:{snap:t=>({sensor:t.sensor,range:t.range,output:t.output,extra:F.from(t.extra)})},state:eq,apis:Fj}),RN=40,mO=RN/2,p5=(t,s,i,u,m,b)=>t.fold(()=>u_.snap({sensor:m0(i-mO,u-mO),range:Zn(m,b),output:m0(F.some(i),F.some(u)),extra:{td:s}}),T=>{const I=i-mO,L=u-mO,z=RN,Y=RN,ne=T.element.dom.getBoundingClientRect();return u_.snap({sensor:m0(I,L),range:Zn(z,Y),output:m0(F.some(i-ne.width/2),F.some(u-ne.height/2)),extra:{td:s}})}),p0=(t,s,i)=>{const u=(m,b)=>m.exists(T=>us(T,b));return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(m,b)=>{const T=b.td;u(s.get(),T)||(s.set(T),i(T))},mustSnap:!0}},IN=t=>Yo(xl.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Bt([u_.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),iS.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),tq=(t,s)=>{const i=Wn([]),u=Wn([]),m=Wn(!1),b=ir(),T=ir(),I=hn=>{const In=su(hn);return p5(de.getOpt(s),hn,In.x,In.y,In.width,In.height)},L=()=>nt(i.get(),hn=>I(hn)),z=hn=>{const In=su(hn);return p5(Se.getOpt(s),hn,In.right,In.bottom,In.width,In.height)},Y=()=>nt(u.get(),hn=>z(hn)),ne=p0(L,b,hn=>{T.get().each(In=>{t.dispatch("TableSelectorChange",{start:hn,finish:In})})}),ie=p0(Y,T,hn=>{b.get().each(In=>{t.dispatch("TableSelectorChange",{start:In,finish:hn})})}),de=IN(ne),Se=IN(ie),Le=Hc(de.asSpec()),ct=Hc(Se.asSpec()),je=(hn,In,Go,zn)=>{const Fo=In.dom.getBoundingClientRect();st(hn.element,"display");const co=Nd(et.fromDom(t.getBody())).dom.innerHeight,$o=Go(Fo),to=zn(Fo,co);($o||to)&&oe(hn.element,"display","none")},it=(hn,In,Go,zn)=>{const Fo=Go(In);u_.snapTo(hn,Fo),je(hn,In,to=>to[zn]<0,(to,Ps)=>to[zn]>Ps)},ht=hn=>it(Le,hn,I,"top"),vt=()=>b.get().each(ht),tn=hn=>it(ct,hn,z,"bottom"),Ft=()=>T.get().each(tn);$t().deviceType.isTouch()&&(t.on("TableSelectionChange",hn=>{m.get()||(Wm(s,Le),Wm(s,ct),m.set(!0)),b.set(hn.start),T.set(hn.finish),hn.otherCells.each(In=>{i.set(In.upOrLeftCells),u.set(In.downOrRightCells),ht(hn.start),tn(hn.finish)})}),t.on("ResizeEditor ResizeWindow ScrollContent",()=>{vt(),Ft()}),t.on("TableSelectionClear",()=>{m.get()&&(Gm(Le),Gm(ct),m.set(!1)),b.clear(),T.clear()}))};var nq=`<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>
</svg>
`;const oq=t=>t.nodeName==="BR"||!!t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark",sq=(t,s,i)=>{var u;const m=(u=s.delimiter)!==null&&u!==void 0?u:"›",b=(z,Y,ne)=>xl.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":ne,"aria-level":ne+1}},components:[$r(z)],action:ie=>{t.focus(),t.selection.select(Y),t.nodeChanged()},buttonBehaviours:Bt([Jm.button(i.isDisabled),xc()])}),T=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[$r(` ${m} `)]}),I=z=>as(z,(Y,ne,ie)=>{const de=b(ne.name,ne.element,ie);return ie===0?Y.concat([de]):Y.concat([T(),de])},[]),L=z=>{const Y=[];let ne=z.length;for(;ne-- >0;){const ie=z[ne];if(ie.nodeType===1&&!oq(ie)){const de=BA(t,ie);if(de.isDefaultPrevented()||Y.push({name:de.name,element:ie}),de.isPropagationStopped())break}}return Y};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Bt([Vn.config({mode:"flow",selector:"div[role=button]"}),so.config({disabled:i.isDisabled}),xc(),Ni.config({}),mo.config({}),vo("elementPathEvents",[wr((z,Y)=>{t.shortcuts.add("alt+F11","focus statusbar elementpath",()=>Vn.focusIn(z)),t.on("NodeChange",ne=>{const ie=L(ne.parents),de=ie.length>0?I(ie):[];mo.set(z,de)})})])]),components:[]}};var d_;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(d_||(d_={}));const rq=(t,s,i,u,m)=>{const b={height:eO(u+s.top,IC(t),cA(t))};return i===d_.Both&&(b.width=eO(m+s.left,iA(t),aA(t))),b},g5=(t,s,i)=>{const u=et.fromDom(t.getContainer()),m=rq(t,s,i,xn(u),Er(u));ii(m,(b,T)=>{le(b)&&oe(u,T,aN(b))}),o8(t)},iq=t=>{const s=PP(t);return s===!1?d_.None:s==="both"?d_.Both:d_.Vertical},Aw=(t,s,i,u)=>{const b=Zn(i*20,u*20);return g5(t,b,s),F.some(!0)},GS=(t,s)=>{const i=iq(t);return i===d_.None?F.none():F.some(Qh("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:s.translate("Resize")},behaviours:[u_.config({mode:"mouse",repositionTarget:!1,onDrag:(u,m,b)=>g5(t,b,i),blockerClass:"tox-blocker"}),Vn.config({mode:"special",onLeft:()=>Aw(t,i,-1,0),onRight:()=>Aw(t,i,1,0),onUp:()=>Aw(t,i,0,-1),onDown:()=>Aw(t,i,0,1)}),Ni.config({}),Qn.config({})]},s.icons))},DN=(t,s)=>{const i=(u,m,b)=>mo.set(u,[$r(s.translate(["{0} "+b,m[b]]))]);return xl.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Bt([Jm.button(s.isDisabled),xc(),Ni.config({}),mo.config({}),pn.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),vo("wordcount-events",[gu(u=>{const m=pn.getValue(u),b=m.mode==="words"?"characters":"words";pn.setValue(u,{mode:b,count:m.count}),i(u,m.count,b)}),wr(u=>{t.on("wordCountUpdate",m=>{const{mode:b}=pn.getValue(u);pn.setValue(u,{mode:b,count:m.wordCount}),i(u,m.wordCount,b)})})])]),eventOrder:{[Fs()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},pO=(t,s)=>{const i=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6",rel:"noopener",target:"_blank","aria-label":_h.translate(["Powered by {0}","Tiny"])},innerHtml:nq.trim()},behaviours:Bt([Qn.config({})])}]}),u=()=>{const b=[];return NP(t)&&b.push(sq(t,{},s)),t.hasPlugin("wordcount")&&b.push(DN(t,s)),kP(t)&&b.push(i()),b.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:b}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const b=u(),T=GS(t,s);return b.concat(T.toArray())})()}},g0=(t,s)=>s.get().getOrDie(`UI for ${t} has not been rendered`),gO=(t,s)=>{const i=t.inline,u=i?PG:RG,m=KE(t)?BW:z$,b=LG(),T=ir(),I=ir(),L=ir(),ie=$t().deviceType.isTouch()?["tox-platform-touch"]:[],de=fI(t),Se=qE(t),Le=Yo({dom:{tag:"div",classes:["tox-anchorbar"]}}),ct=()=>b.mainUi.get().map(yn=>yn.outerContainer).bind(Hr.getHeader),je=()=>io.fromOption(b.dialogUi.get().map(yn=>yn.sink),"UI has not been rendered"),it=()=>io.fromOption(b.popupUi.get().map(yn=>yn.sink),"(popup) UI has not been rendered"),ht=b.lazyGetInOuterOrDie("anchor bar",Le.getOpt),vt=b.lazyGetInOuterOrDie("toolbar",Hr.getToolbar),tn=b.lazyGetInOuterOrDie("throbber",Hr.getThrobber),Ft=fW({popup:it,dialog:je},t,ht),hn=()=>{const yn={attributes:{[E1]:de?fh.BottomToTop:fh.TopToBottom}},Jn=Hr.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:Ft.popup,onEscape:()=>{t.focus()}}),Oo=Hr.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:Ft.popup.shared.getSink,providers:Ft.popup.shared.providers,onEscape:()=>{t.focus()},onToolbarToggled:CO=>{s8(t,CO)},type:Se,lazyToolbar:vt,lazyHeader:()=>ct().getOrDie("Could not find header element"),...yn}),is=Hr.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:Ft.popup.shared.providers,onEscape:()=>{t.focus()},type:Se}),Ra=YE(t),Os=ZE(t),Yu=pv(t),Pi=$P(t),cm=In(),dp=Ra||Os||Yu,J1=()=>Ra?[is]:Os?[Oo]:[],QS=Pi?[cm,Jn]:[Jn];return Hr.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(dp?[]:["tox-editor-header--empty"]),...yn},components:en([Yu?QS:[],J1(),$y(t)?[]:[Le.asSpec()]]),sticky:KE(t),editor:t,sharedBackstage:Ft.popup.shared})},In=()=>Hr.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),Go=()=>{const yn=Hr.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Jn=Hr.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[yn,Jn]}},zn=()=>{const yn=NC(t),Jn=us(ea(),yn)&&Ce(yn,"display")==="grid",Oo={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(ie),attributes:{..._h.isRtl()?{dir:"rtl"}:{}}},behaviours:Bt([tr.config({useFixed:()=>m.isDocked(ct)})])},is={dom:{styles:{width:document.body.clientWidth+"px"}},events:er([kt(vf(),Yu=>{oe(Yu.element,"width",document.body.clientWidth+"px")})])},Ra=Hc(dr(Oo,Jn?is:{})),Os=hD(Ra);return I.set(Os),{sink:Ra,mothership:Os}},Fo=()=>{const yn={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(ie),attributes:{..._h.isRtl()?{dir:"rtl"}:{}}},behaviours:Bt([tr.config({useFixed:()=>m.isDocked(ct),getBounds:()=>s.getPopupSinkBounds()})])},Jn=Hc(yn),Oo=hD(Jn);return L.set(Oo),{sink:Jn,mothership:Oo}},co=()=>{const yn=hn(),Jn=Go(),Oo=Hr.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:Ft.popup}),is=Hr.parts.viewWrapper({backstage:Ft.popup}),Ra=MP(t)&&!i?F.some(pO(t,Ft.popup.shared.providers)):F.none(),Os=en([de?[]:[yn],i?[]:[Jn],de?[yn]:[]]),Yu=Hr.parts.editorContainer({components:en([Os,i?[]:Ra.toArray()])}),Pi=mI(t),cm={role:"application",..._h.isRtl()?{dir:"rtl"}:{},...Pi?{"aria-hidden":"true"}:{}},dp=Hc(Hr.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(i?["tox-tinymce-inline"]:[]).concat(de?["tox-tinymce--toolbar-bottom"]:[]).concat(ie),styles:{visibility:"hidden",...Pi?{opacity:"0",border:"0"}:{}},attributes:cm},components:[Yu,...i?[]:[is],Oo],behaviours:Bt([xc(),so.config({disableClass:"tox-tinymce--disabled"}),Vn.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),J1=hD(dp);return T.set(J1),{mothership:J1,outerContainer:dp}},$o=yn=>{const Jn=aN(DG(t)),Oo=aN(MG(t));return t.inline||(qt("div","width",Oo)&&oe(yn.element,"width",Oo),qt("div","height",Jn)?oe(yn.element,"height",Jn):oe(yn.element,"height","400px")),Jn},to=yn=>{t.addShortcut("alt+F9","focus menubar",()=>{Hr.focusMenubar(yn)}),t.addShortcut("alt+F10","focus toolbar",()=>{Hr.focusToolbar(yn)}),t.addCommand("ToggleToolbarDrawer",(Jn,Oo)=>{Oo!=null&&Oo.skipFocus?Hr.toggleToolbarDrawerWithoutFocusing(yn):Hr.toggleToolbarDrawer(yn)}),t.addQueryStateHandler("ToggleToolbarDrawer",()=>Hr.isToolbarDrawerToggled(yn))},Ps=yn=>{const{mainUi:Jn,popupUi:Oo,uiMotherships:is}=yn;Ls(lA(t),(v_,VN)=>{t.ui.registry.addGroupToolbarButton(VN,v_)});const{buttons:Ra,menuItems:Os,contextToolbars:Yu,sidebars:Pi,views:cm}=t.ui.registry.getAll(),dp=dI(t),J1={menuItems:Os,menus:XE(t),menubar:xP(t),toolbar:dp.getOrThunk(()=>fA(t)),allowToolbarGroups:Se===Eh.floating,buttons:Ra,sidebar:Pi,views:cm};to(Jn.outerContainer),hW(t,Jn.mothership,is),m.setup(t,Ft.popup.shared,ct),vN(t,Ft.popup),t5(t,Ft.popup.shared.getSink,Ft.popup),GW(t),r9(t,tn,Ft.popup.shared),jG(t,Yu,Oo.sink,{backstage:Ft.popup}),tq(t,Oo.sink);const QS=t.getElement(),CO=$o(Jn.outerContainer),Mw={targetNode:QS,height:CO};return u.render(t,yn,J1,Ft.popup,Mw)},Zt=yn=>(L.set(yn.mothership),yn),Rn=()=>{const yn=co(),Jn=zn(),Oo=Jb(t)?Fo():Zt(Jn);b.dialogUi.set(Jn),b.popupUi.set(Oo),b.mainUi.set(yn);const is={popupUi:Oo,dialogUi:Jn,mainUi:yn,uiMotherships:b.getUiMotherships()};return Ps(is)};return{popups:{backstage:Ft.popup,getMothership:()=>g0("popups",L)},dialogs:{backstage:Ft.dialog,getMothership:()=>g0("dialogs",I)},renderUI:Rn}},aq=(t,s)=>{const i=F.from(Fi(t,"id")).fold(()=>{const u=zt("dialog-describe");return uo(s,"id",u),u},Ue);uo(t,"aria-describedby",i)},v5=(t,s)=>{const i=ui(t,"id").fold(()=>{const u=zt("dialog-label");return uo(s,"id",u),u},Ue);uo(t,"aria-labelledby",i)},b5=we([Rt("lazySink"),qo("dragBlockClass"),Vi("getBounds",Ja),tt("useTabstopAt",Mt),tt("firstTabstop",0),tt("eventOrder",{}),Sc("modalBehaviours",[Vn]),Br("onExecute"),B0("onEscape")]),vO={sketch:Ue},cq=we([If({name:"draghandle",overrides:(t,s)=>({behaviours:Bt([u_.config({mode:"mouse",getTarget:i=>vu(i,'[role="dialog"]').getOr(i),blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(s,null,2)).message),getBounds:t.getDragBounds})])})}),ic({schema:[Rt("dom")],name:"title"}),ic({factory:vO,schema:[Rt("dom")],name:"close"}),ic({factory:vO,schema:[Rt("dom")],name:"body"}),If({factory:vO,schema:[Rt("dom")],name:"footer"}),vh({factory:{sketch:(t,s)=>({...t,dom:s.dom,components:s.components})},schema:[tt("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),tt("components",[])],name:"blocker"})]),lq=(t,s,i,u)=>{const m=ir(),b=de=>{m.set(de);const Se=t.lazySink(de).getOrDie(),Le=u.blocker(),ct=Se.getSystem().build({...Le,components:Le.components.concat([Vl(de)]),behaviours:Bt([Qn.config({}),vo("dialog-blocker-events",[Ui(mf(),()=>{Vn.focusIn(de)})])])});Wm(Se,ct),Vn.focusIn(de)},T=de=>{m.clear(),Kc(de.element).each(Se=>{de.getSystem().getByDom(Se).each(Le=>{Gm(Le)})})},I=de=>Ym(de,t,"body"),L=de=>Ym(de,t,"footer"),z=(de,Se)=>{l0.block(de,Se)},Y=de=>{l0.unblock(de)},ne=zt("modal-events"),ie={...t.eventOrder,[fd()]:[ne].concat(t.eventOrder["alloy.system.attached"]||[])};return{uid:t.uid,dom:t.dom,components:s,apis:{show:b,hide:T,getBody:I,getFooter:L,setIdle:Y,setBusy:z},eventOrder:ie,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Gr(t.modalBehaviours,[mo.config({}),Vn.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt,firstTabstop:t.firstTabstop}),l0.config({getRoot:m.get}),vo(ne,[wr(de=>{v5(de.element,Ym(de,t,"title").element),aq(de.element,Ym(de,t,"body").element)})])])}},Ac=ji({name:"ModalDialog",configFields:b5(),partFields:cq(),factory:lq,apis:{show:(t,s)=>{t.show(s)},hide:(t,s)=>{t.hide(s)},getBody:(t,s)=>t.getBody(s),getFooter:(t,s)=>t.getFooter(s),setBusy:(t,s,i)=>{t.setBusy(s,i)},setIdle:(t,s)=>{t.setIdle(s)}}}),y5=$n([Oa,xI].concat(n0)),_5=eh,jS=[DI("button"),Xm,wc("align","end",["start","end"]),FC,Qm,ld("buttonType",["primary","secondary"])],E5=[...jS,z1],MN=[Du("type",["submit","cancel","custom"]),...E5],uq=[Du("type",["menu"]),U1,TA,Xm,Ec("items",y5),...jS],w5=[...jS,Du("type",["togglebutton"]),ti("tooltip"),wA,U1,wa("active",!1)],dq=di("type",{submit:MN,cancel:MN,custom:MN,menu:uq,togglebutton:w5}),fq=[Oa,z1,Du("level",["info","warn","error","success"]),wA,tt("url","")],hq=$n(fq),NN=t=>[Oa,t],kN=[Oa,z1,Qm,DI("button"),Xm,iL,ld("buttonType",["primary","secondary","toolbar"]),FC],mq=$n(kN),f_=[Oa,xI],pg=f_.concat([RI]),pq=f_.concat([e0,Qm]),T5=$n(pq),gq=eh,vq=pg.concat([II("auto")]),h_=$n(vq),C5=jv([QE,z1,wA]),bq=pg.concat([Mu("storageKey","default")]),bO=$n(bq),Ow=Yr,S5=$n(pg),yO=Yr,Kd=f_.concat([Mu("tag","textarea"),ti("scriptId"),ti("scriptUrl"),Kv("settings",void 0)]),_O=f_.concat([Mu("tag","textarea"),bl("init")]),x5=th(t=>Do("customeditor.old",Va(_O),t).orThunk(()=>Do("customeditor.new",Va(Kd),t))),A5=Yr,yq=$n(pg),v0=uf(),FK=t=>[Oa,oh("columns"),t],_q=[Oa,ti("html"),wc("presets","presentation",["presentation","document"])],O5=$n(_q),Rw=pg.concat([wa("sandboxed",!0),wa("transparent",!0)]),EO=$n(Rw),R5=Yr,Eq=$n(f_.concat([Kr("height")])),wq=$n([ti("url"),tc("zoom"),tc("cachedWidth"),tc("cachedHeight")]),Tq=pg.concat([Kr("inputMode"),Kr("placeholder"),wa("maximized",!1),Qm]),Cq=$n(Tq),Iw=Yr,HK=t=>[Oa,e0,t],Sq=[z1,QE],xq=[z1,Ec("items",nh("items",()=>Aq))],Aq=Tm([$n(Sq),$n(xq)]),Oq=pg.concat([Ec("items",Aq),Qm]),Rq=$n(Oq),qS=Yr,Iq=pg.concat([Ng("items",[z1,QE]),Ph("size",1),Qm]),Dq=$n(Iq),I5=Yr,Mq=pg.concat([wa("constrain",!0),Qm]),VK=$n(Mq),e=$n([ti("width"),ti("height")]),n=f_.concat([e0,Ph("min",0),Ph("max",0)]),o=$n(n),r=Mg,l=[Oa,Ec("header",Yr),Ec("cells",an(Yr))],h=$n(l),v=pg.concat([Kr("placeholder"),wa("maximized",!1),Qm]),A=$n(v),R=Yr,H=[Du("type",["directory","leaf"]),sL,ti("id"),cd("menu",L2)],Q=$n(H),ce=H.concat([Ec("children",nh("children",()=>_c("type",{directory:Re,leaf:Q})))]),Re=$n(ce),Me=_c("type",{directory:Re,leaf:Q}),_e=[Oa,Ec("items",Me),nc("onLeafAction")],Ie=$n(_e),We=pg.concat([wc("filetype","file",["image","media","file"]),Qm]),Fe=$n(We),Xe=$n([QE,Vy]),lt=t=>fi("items","items",vc(),an(th(s=>Do(`Checking item of ${t}`,Ot,s).fold(i=>io.error(mi(i)),i=>io.value(i))))),Ot=vl(()=>_c("type",{alertbanner:hq,bar:$n(NN(lt("bar"))),button:mq,checkbox:T5,colorinput:bO,colorpicker:S5,dropzone:yq,grid:$n(FK(lt("grid"))),iframe:EO,input:Cq,listbox:Rq,selectbox:Dq,sizeinput:VK,slider:o,textarea:A,urlinput:Fe,customeditor:x5,htmlpanel:O5,imagepreview:Eq,collection:h_,label:$n(HK(lt("label"))),table:h,tree:Ie,panel:Qt})),cn=[Oa,tt("classes",[]),Ec("items",Ot)],Qt=$n(cn),pt=[DI("tab"),sL,Ec("items",Ot)],mt=[Oa,Ng("tabs",pt)],En=$n(mt),Bn=E5,Xn=dq,Ro=$n([ti("title"),hu("body",_c("type",{panel:Qt,tabpanel:En})),Mu("size","normal"),Ec("buttons",Xn),tt("initialData",{}),Vi("onAction",ee),Vi("onChange",ee),Vi("onSubmit",ee),Vi("onClose",ee),Vi("onCancel",ee),Vi("onTabChange",ee)]),rs=t=>Do("dialog",Ro,t),zs=$n([Du("type",["cancel","custom"]),...Bn]),xr=$n([ti("title"),ti("url"),tc("height"),tc("width"),lb("buttons",zs),Vi("onAction",ee),Vi("onCancel",ee),Vi("onClose",ee),Vi("onMessage",ee)]),Ki=t=>Do("dialog",xr,t),fl=t=>P(t)?[t].concat(Ge(mm(t),fl)):j(t)?Ge(t,fl):[],Oc=t=>M(t.type)&&M(t.name),Yt={checkbox:gq,colorinput:Ow,colorpicker:yO,dropzone:v0,input:Iw,iframe:R5,imagepreview:wq,selectbox:I5,sizeinput:e,slider:r,listbox:qS,size:e,textarea:R,urlinput:Xe,customeditor:A5,collection:C5,togglemenuitem:_5},kn=t=>F.from(Yt[t.type]),Es=t=>po(fl(t),Oc),mn=t=>{const s=Es(t),i=Ge(s,u=>kn(u).fold(()=>[],m=>[hu(u.name,m)]));return $n(i)},Gn=t=>{var s;const i=gs(rs(t)),u=mn(t),m=(s=t.initialData)!==null&&s!==void 0?s:{};return{internalDialog:i,dataValidator:u,initialData:m}},Kn={open:(t,s)=>{const i=Gn(s);return t(i.internalDialog,i.initialData,i.dataValidator)},openUrl:(t,s)=>{const i=gs(Ki(s));return t(i)},redial:t=>Gn(t)};var Ko=Object.freeze({__proto__:null,events:(t,s)=>{const i=(u,m)=>{t.updateState.each(b=>{const T=b(u,m);s.set(T)}),t.renderComponents.each(b=>{const T=b(m,s.get());(t.reuseDom?Vk:eA)(u,T)})};return er([kt(pu(),(u,m)=>{const b=m;if(!b.universal){const T=t.channel;_o(b.channels,T)&&i(u,b.data)}}),wr((u,m)=>{t.initialData.each(b=>{i(u,b)})})])}}),Wc=Object.freeze({__proto__:null,getState:(t,s,i)=>i}),Qr=[Rt("channel"),qo("renderComponents"),qo("updateState"),qo("initialData"),wa("reuseDom",!0)],Ss=Object.freeze({__proto__:null,init:()=>{const t=Wn(F.none()),s=()=>t.set(F.none());return{readState:()=>t.get().getOr("none"),get:t.get,set:t.set,clear:s}}});const cr=Wa({fields:Qr,name:"reflecting",active:Ko,apis:Wc,state:Ss}),Ar=t=>{const s=[],i={};return ii(t,(u,m)=>{u.fold(()=>{s.push(m)},b=>{i[m]=b})}),s.length>0?io.error(s):io.value(i)},ki=(t,s,i)=>{const u=Yo(fw.sketch(m=>({dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:nt(t.items,b=>dM(m,b,s,i))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[u.asSpec()]}],behaviours:Bt([Vn.config({mode:"acyclic",useTabstopAt:He(hS)}),sp.memento(u),Yi.memento(u,{postprocess:m=>Ar(m).fold(b=>(console.error(b),{}),Ue)})])}},pa=(t,s)=>({uid:t.uid,dom:t.dom,components:t.components,events:tA(t.action),behaviours:Gr(t.tabButtonBehaviours,[Qn.config({}),Vn.config({mode:"execution",useSpace:!0,useEnter:!0}),pn.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}),si=ha({name:"TabButton",configFields:[tt("uid",void 0),Rt("value"),fi("dom","dom",Nh(()=>({attributes:{role:"tab",id:zt("aria"),"aria-selected":"false"}})),uu()),qo("action"),tt("domModification",{}),Sc("tabButtonBehaviours",[Qn,Vn,pn]),Rt("view")],factory:pa}),qa=we([Rt("tabs"),Rt("dom"),tt("clickToDismiss",!1),Sc("tabbarBehaviours",[Cs,Vn]),_d(["tabClass","selectedClass"])]),om=Sy({factory:si,name:"tabs",unit:"tab",overrides:t=>{const s=(u,m)=>{Cs.dehighlight(u,m),Nn(u,zh(),{tabbar:u,button:m})},i=(u,m)=>{Cs.highlight(u,m),Nn(u,Vh(),{tabbar:u,button:m})};return{action:u=>{const m=u.getSystem().getByUid(t.uid).getOrDie(),b=Cs.isHighlighted(m,u);(()=>b&&t.clickToDismiss?s:b?ee:i)()(m,u)},domModification:{classes:[t.markers.tabClass]}}}}),jl=we([om]),gg=(t,s,i,u)=>({uid:t.uid,dom:t.dom,components:s,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Gr(t.tabbarBehaviours,[Cs.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:(m,b)=>{uo(b.element,"aria-selected","true")},onDehighlight:(m,b)=>{uo(b.element,"aria-selected","false")}}),Vn.config({mode:"flow",getInitial:m=>Cs.getHighlighted(m).map(b=>b.element),selector:"."+t.markers.tabClass,executeOnMove:!0})])}),Bf=ji({name:"Tabbar",configFields:qa(),partFields:jl(),factory:gg}),m_=(t,s)=>({uid:t.uid,dom:t.dom,behaviours:Gr(t.tabviewBehaviours,[mo.config({})]),domModification:{attributes:{role:"tabpanel"}}}),p_=ha({name:"Tabview",configFields:[Sc("tabviewBehaviours",[mo])],factory:m_}),vg=we([tt("selectFirst",!0),Qe("onChangeTab"),Qe("onDismissTab"),tt("tabs",[]),Sc("tabSectionBehaviours",[])]),lp=ic({factory:Bf,schema:[Rt("dom"),Pc("markers",[Rt("tabClass"),Rt("selectedClass")])],name:"tabbar",defaults:t=>({tabs:t.tabs})}),cc=ic({factory:p_,name:"tabview"}),sm=we([lp,cc]),bg=(t,s,i,u)=>{const m=T=>{const I=pn.getValue(T);Cr(T,t,"tabview").each(L=>{Fn(t.tabs,Y=>Y.value===I).each(Y=>{const ne=Y.view();ui(T.element,"id").each(ie=>{uo(L.element,"aria-labelledby",ie)}),mo.set(L,ne),t.onChangeTab(L,T,ne)})})},b=(T,I)=>{Cr(T,t,"tabbar").each(L=>{I(L).each(md)})};return{uid:t.uid,dom:t.dom,components:s,behaviours:RE(t.tabSectionBehaviours),events:er(en([t.selectFirst?[wr((T,I)=>{b(T,Cs.getFirst)})]:[],[kt(Vh(),(T,I)=>{const L=I.event.button;m(L)}),kt(zh(),(T,I)=>{const L=I.event.button;t.onDismissTab(T,L)})]])),apis:{getViewItems:T=>Cr(T,t,"tabview").map(I=>mo.contents(I)).getOr([]),showTab:(T,I)=>{b(T,z=>{const Y=Cs.getCandidates(z);return Fn(Y,ie=>pn.getValue(ie)===I).filter(ie=>!Cs.isHighlighted(z,ie))})}}}},Zu=ji({name:"TabSection",configFields:vg(),partFields:sm(),factory:bg,apis:{getViewItems:(t,s)=>t.getViewItems(s),showTab:(t,s,i)=>{t.showTab(s,i)}}}),rm=(t,s,i)=>nt(t,(u,m)=>{mo.set(i,t[m].view());const b=s.dom.getBoundingClientRect();return mo.set(i,[]),b.height}),Iv=t=>zr(jc(t,(s,i)=>s>i?-1:s<i?1:0)),Tu=(t,s,i)=>{const u=nd(t).dom,m=vu(t,".tox-dialog-wrap").getOr(t),b=Ce(m,"position")==="fixed";let T;b?T=Math.max(u.clientHeight,window.innerHeight):T=Math.max(u.offsetHeight,u.scrollHeight);const I=xn(s),z=s.dom.offsetLeft>=i.dom.offsetLeft+Er(i)?Math.max(xn(i),I):I,Y=parseInt(Ce(t,"margin-top"),10)||0,ne=parseInt(Ce(t,"margin-bottom"),10)||0,de=xn(t)+Y+ne-z;return T-de},X1=(t,s)=>{zr(t).each(i=>Zu.showTab(s,i.value))},yg=(t,s)=>{oe(t,"height",s+"px"),oe(t,"flex-basis",s+"px")},Ff=(t,s,i)=>{vu(t,'[role="dialog"]').each(u=>{Ur(u,'[role="tablist"]').each(m=>{i.get().map(b=>(oe(s,"height","0"),oe(s,"flex-basis","0"),Math.min(b,Tu(u,s,m)))).each(b=>{yg(s,b)})})})},Dv=t=>Ur(t,'[role="tabpanel"]'),ZS=t=>{const s=ir();return{extraEvents:[wr(m=>{const b=m.element;Dv(b).each(T=>{oe(T,"visibility","hidden"),m.getSystem().getByDom(T).toOptional().each(I=>{const L=rm(t,T,I);Iv(L).fold(s.clear,s.set)}),Ff(b,T,s),st(T,"visibility"),X1(t,m),requestAnimationFrame(()=>{Ff(b,T,s)})})}),kt(vf(),m=>{const b=m.element;Dv(b).each(T=>{Ff(b,T,s)})}),kt($4,(m,b)=>{const T=m.element;Dv(T).each(I=>{const L=xf(Ti(I));oe(I,"visibility","hidden");const z=ot(I,"height").map(ie=>parseInt(ie,10));st(I,"height"),st(I,"flex-basis");const Y=I.dom.getBoundingClientRect().height;z.forall(ie=>Y>ie)?(s.set(Y),Ff(T,I,s)):z.each(ie=>{yg(I,ie)}),st(I,"visibility"),L.each(zl)})})],selectFirst:!1}},wO="send-data-to-section",YS="send-data-to-view",LN=(t,s,i)=>{const u=Wn({}),m=z=>{const Y=pn.getValue(z),ne=Ar(Y).getOr({}),ie=u.get(),de=dr(ie,ne);u.set(de)},b=z=>{const Y=u.get();pn.setValue(z,Y)},T=Wn(null),I=nt(t.tabs,z=>({value:z.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[$r(i.shared.providers.translate(z.title))],view:()=>[fw.sketch(Y=>({dom:{tag:"div",classes:["tox-form"]},components:nt(z.items,ne=>dM(Y,ne,s,i)),formBehaviours:Bt([Vn.config({mode:"acyclic",useTabstopAt:He(hS)}),vo("TabView.form.events",[wr(b),Cc(m)]),Ed.config({channels:Tc([{key:wO,value:{onReceive:m}},{key:YS,value:{onReceive:b}}])})])}))]})),L=ZS(I);return Zu.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(z,Y,ne)=>{const ie=pn.getValue(Y);Nn(z,L4,{name:ie,oldName:T.get()}),T.set(ie)},tabs:I,components:[Zu.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[Bf.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Bt([Ni.config({})])}),Zu.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:L.selectFirst,tabSectionBehaviours:Bt([vo("tabpanel",L.extraEvents),Vn.config({mode:"acyclic"}),ss.config({find:z=>zr(Zu.getViewItems(z))}),Yi.withComp(F.none(),z=>(z.getSystem().broadcastOn([wO],{}),u.get()),(z,Y)=>{u.set(Y),z.getSystem().broadcastOn([YS],{})})])})},KS=zt("update-dialog"),$N=zt("update-title"),up=zt("update-body"),g_=zt("update-footer"),ut=zt("body-send-message"),dt=(t,s,i,u,m)=>{const b=L=>{const z=L.body;switch(z.type){case"tabpanel":return[LN(z,L.initialData,u)];default:return[ki(z,L.initialData,u)]}},T=(L,z)=>F.some({isTabPanel:()=>z.body.type==="tabpanel"}),I={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...i.map(L=>({id:L})).getOr({}),...m?I:{}}},components:[],behaviours:Bt([sp.childAt(0),cr.config({channel:`${up}-${s}`,updateState:T,renderComponents:b,initialData:t})])}},Jt=(t,s,i,u,m)=>dt(t,s,F.some(i),u,m),jt=(t,s,i)=>{const u=dt(t,s,F.none(),i,!1);return Ac.parts.body(u)},Un=t=>{const s={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[S3({dom:{tag:"iframe",attributes:{src:t.url}},behaviours:Bt([Ni.config({}),Qn.config({})])})]}],behaviours:Bt([Vn.config({mode:"acyclic",useTabstopAt:He(hS)})])};return Ac.parts.body(s)};function Qo(t){return Qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Qo(t)}function Mr(t,s){return Mr=Object.setPrototypeOf||function(u,m){return u.__proto__=m,u},Mr(t,s)}function jr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mv(t,s,i){return jr()?Mv=Reflect.construct:Mv=function(m,b,T){var I=[null];I.push.apply(I,b);var L=Function.bind.apply(m,I),z=new L;return T&&Mr(z,T.prototype),z},Mv.apply(null,arguments)}function Hf(t){return D5(t)||M5(t)||Nq(t)||_t()}function D5(t){if(Array.isArray(t))return No(t)}function M5(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nq(t,s){if(t){if(typeof t=="string")return No(t,s);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return No(t,s)}}function No(t,s){(s==null||s>t.length)&&(s=t.length);for(var i=0,u=new Array(s);i<s;i++)u[i]=t[i];return u}function _t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Mn=Object.hasOwnProperty,ho=Object.setPrototypeOf,ga=Object.isFrozen,xh=Object.getPrototypeOf,Xd=Object.getOwnPropertyDescriptor,bi=Object.freeze,im=Object.seal,Rd=Object.create,BN=typeof Reflect<"u"&&Reflect,TO=BN.apply,FN=BN.construct;TO||(TO=function(s,i,u){return s.apply(i,u)}),bi||(bi=function(s){return s}),im||(im=function(s){return s}),FN||(FN=function(s,i){return Mv(s,Hf(i))});var zK=Q1(Array.prototype.forEach),Kte=Q1(Array.prototype.pop),HN=Q1(Array.prototype.push),N5=Q1(String.prototype.toLowerCase),Xte=Q1(String.prototype.match),Dw=Q1(String.prototype.replace),Qte=Q1(String.prototype.indexOf),Jte=Q1(String.prototype.trim),am=Q1(RegExp.prototype.test),kq=ene(TypeError);function Q1(t){return function(s){for(var i=arguments.length,u=new Array(i>1?i-1:0),m=1;m<i;m++)u[m-1]=arguments[m];return TO(t,s,u)}}function ene(t){return function(){for(var s=arguments.length,i=new Array(s),u=0;u<s;u++)i[u]=arguments[u];return FN(t,i)}}function Vr(t,s){ho&&ho(t,null);for(var i=s.length;i--;){var u=s[i];if(typeof u=="string"){var m=N5(u);m!==u&&(ga(s)||(s[i]=m),u=m)}t[u]=!0}return t}function XS(t){var s=Rd(null),i;for(i in t)TO(Mn,t,[i])&&(s[i]=t[i]);return s}function k5(t,s){for(;t!==null;){var i=Xd(t,s);if(i){if(i.get)return Q1(i.get);if(typeof i.value=="function")return Q1(i.value)}t=xh(t)}function u(m){return console.warn("fallback value for",m),null}return u}var UK=bi(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Pq=bi(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Lq=bi(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),tne=bi(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),$q=bi(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),nne=bi(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),WK=bi(["#text"]),GK=bi(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Bq=bi(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),jK=bi(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),P5=bi(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),one=im(/\{\{[\w\W]*|[\w\W]*\}\}/gm),sne=im(/<%[\w\W]*|[\w\W]*%>/gm),rne=im(/^data-[\-\w.\u00B7-\uFFFF]/),ine=im(/^aria-[\-\w]+$/),ane=im(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),cne=im(/^(?:\w+script|data):/i),lne=im(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),une=im(/^html$/i),dne=function(){return typeof window>"u"?null:window},fne=function(s,i){if(Qo(s)!=="object"||typeof s.createPolicy!="function")return null;var u=null,m="data-tt-policy-suffix";i.currentScript&&i.currentScript.hasAttribute(m)&&(u=i.currentScript.getAttribute(m));var b="dompurify"+(u?"#"+u:"");try{return s.createPolicy(b,{createHTML:function(I){return I}})}catch{return console.warn("TrustedTypes policy "+b+" could not be created."),null}};function qK(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:dne(),s=function(Et){return qK(Et)};if(s.version="2.3.8",s.removed=[],!t||!t.document||t.document.nodeType!==9)return s.isSupported=!1,s;var i=t.document,u=t.document,m=t.DocumentFragment,b=t.HTMLTemplateElement,T=t.Node,I=t.Element,L=t.NodeFilter,z=t.NamedNodeMap,Y=z===void 0?t.NamedNodeMap||t.MozNamedAttrMap:z,ne=t.HTMLFormElement,ie=t.DOMParser,de=t.trustedTypes,Se=I.prototype,Le=k5(Se,"cloneNode"),ct=k5(Se,"nextSibling"),je=k5(Se,"childNodes"),it=k5(Se,"parentNode");if(typeof b=="function"){var ht=u.createElement("template");ht.content&&ht.content.ownerDocument&&(u=ht.content.ownerDocument)}var vt=fne(de,i),tn=vt?vt.createHTML(""):"",Ft=u,hn=Ft.implementation,In=Ft.createNodeIterator,Go=Ft.createDocumentFragment,zn=Ft.getElementsByTagName,Fo=i.importNode,co={};try{co=XS(u).documentMode?u.documentMode:{}}catch{}var $o={};s.isSupported=typeof it=="function"&&hn&&typeof hn.createHTMLDocument<"u"&&co!==9;var to=one,Ps=sne,Zt=rne,Rn=ine,yn=cne,Jn=lne,Oo=ane,is=null,Ra=Vr({},[].concat(Hf(UK),Hf(Pq),Hf(Lq),Hf($q),Hf(WK))),Os=null,Yu=Vr({},[].concat(Hf(GK),Hf(Bq),Hf(jK),Hf(P5))),Pi=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),cm=null,dp=null,J1=!0,QS=!0,CO=!1,Mw=!1,v_=!1,VN=!1,Uq=!1,SO=!1,L5=!1,$5=!1,mX=!0,Wq=!0,zN=!1,xO={},AO=null,pX=Vr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),gX=null,vX=Vr({},["audio","video","img","source","image","track"]),Gq=null,bX=Vr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),jq="http://www.w3.org/1998/Math/MathML",qq="http://www.w3.org/2000/svg",Nw="http://www.w3.org/1999/xhtml",B5=Nw,Zq=!1,OO,Fne=["application/xhtml+xml","text/html"],Hne="text/html",JS,RO=null,Vne=u.createElement("form"),yX=function(Et){return Et instanceof RegExp||Et instanceof Function},Yq=function(Et){RO&&RO===Et||((!Et||Qo(Et)!=="object")&&(Et={}),Et=XS(Et),is="ALLOWED_TAGS"in Et?Vr({},Et.ALLOWED_TAGS):Ra,Os="ALLOWED_ATTR"in Et?Vr({},Et.ALLOWED_ATTR):Yu,Gq="ADD_URI_SAFE_ATTR"in Et?Vr(XS(bX),Et.ADD_URI_SAFE_ATTR):bX,gX="ADD_DATA_URI_TAGS"in Et?Vr(XS(vX),Et.ADD_DATA_URI_TAGS):vX,AO="FORBID_CONTENTS"in Et?Vr({},Et.FORBID_CONTENTS):pX,cm="FORBID_TAGS"in Et?Vr({},Et.FORBID_TAGS):{},dp="FORBID_ATTR"in Et?Vr({},Et.FORBID_ATTR):{},xO="USE_PROFILES"in Et?Et.USE_PROFILES:!1,J1=Et.ALLOW_ARIA_ATTR!==!1,QS=Et.ALLOW_DATA_ATTR!==!1,CO=Et.ALLOW_UNKNOWN_PROTOCOLS||!1,Mw=Et.SAFE_FOR_TEMPLATES||!1,v_=Et.WHOLE_DOCUMENT||!1,SO=Et.RETURN_DOM||!1,L5=Et.RETURN_DOM_FRAGMENT||!1,$5=Et.RETURN_TRUSTED_TYPE||!1,Uq=Et.FORCE_BODY||!1,mX=Et.SANITIZE_DOM!==!1,Wq=Et.KEEP_CONTENT!==!1,zN=Et.IN_PLACE||!1,Oo=Et.ALLOWED_URI_REGEXP||Oo,B5=Et.NAMESPACE||Nw,Et.CUSTOM_ELEMENT_HANDLING&&yX(Et.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Pi.tagNameCheck=Et.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Et.CUSTOM_ELEMENT_HANDLING&&yX(Et.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Pi.attributeNameCheck=Et.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Et.CUSTOM_ELEMENT_HANDLING&&typeof Et.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Pi.allowCustomizedBuiltInElements=Et.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),OO=Fne.indexOf(Et.PARSER_MEDIA_TYPE)===-1?OO=Hne:OO=Et.PARSER_MEDIA_TYPE,JS=OO==="application/xhtml+xml"?function(Pn){return Pn}:N5,Mw&&(QS=!1),L5&&(SO=!0),xO&&(is=Vr({},Hf(WK)),Os=[],xO.html===!0&&(Vr(is,UK),Vr(Os,GK)),xO.svg===!0&&(Vr(is,Pq),Vr(Os,Bq),Vr(Os,P5)),xO.svgFilters===!0&&(Vr(is,Lq),Vr(Os,Bq),Vr(Os,P5)),xO.mathMl===!0&&(Vr(is,$q),Vr(Os,jK),Vr(Os,P5))),Et.ADD_TAGS&&(is===Ra&&(is=XS(is)),Vr(is,Et.ADD_TAGS)),Et.ADD_ATTR&&(Os===Yu&&(Os=XS(Os)),Vr(Os,Et.ADD_ATTR)),Et.ADD_URI_SAFE_ATTR&&Vr(Gq,Et.ADD_URI_SAFE_ATTR),Et.FORBID_CONTENTS&&(AO===pX&&(AO=XS(AO)),Vr(AO,Et.FORBID_CONTENTS)),Wq&&(is["#text"]=!0),v_&&Vr(is,["html","head","body"]),is.table&&(Vr(is,["tbody"]),delete cm.tbody),bi&&bi(Et),RO=Et)},_X=Vr({},["mi","mo","mn","ms","mtext"]),EX=Vr({},["foreignobject","desc","title","annotation-xml"]),zne=Vr({},["title","style","font","a","script"]),F5=Vr({},Pq);Vr(F5,Lq),Vr(F5,tne);var Kq=Vr({},$q);Vr(Kq,nne);var Une=function(Et){var Pn=it(Et);(!Pn||!Pn.tagName)&&(Pn={namespaceURI:Nw,tagName:"template"});var yo=N5(Et.tagName),Za=N5(Pn.tagName);return Et.namespaceURI===qq?Pn.namespaceURI===Nw?yo==="svg":Pn.namespaceURI===jq?yo==="svg"&&(Za==="annotation-xml"||_X[Za]):!!F5[yo]:Et.namespaceURI===jq?Pn.namespaceURI===Nw?yo==="math":Pn.namespaceURI===qq?yo==="math"&&EX[Za]:!!Kq[yo]:Et.namespaceURI===Nw?Pn.namespaceURI===qq&&!EX[Za]||Pn.namespaceURI===jq&&!_X[Za]?!1:!Kq[yo]&&(zne[yo]||!F5[yo]):!1},b_=function(Et){HN(s.removed,{element:Et});try{Et.parentNode.removeChild(Et)}catch{try{Et.outerHTML=tn}catch{Et.remove()}}},H5=function(Et,Pn){try{HN(s.removed,{attribute:Pn.getAttributeNode(Et),from:Pn})}catch{HN(s.removed,{attribute:null,from:Pn})}if(Pn.removeAttribute(Et),Et==="is"&&!Os[Et])if(SO||L5)try{b_(Pn)}catch{}else try{Pn.setAttribute(Et,"")}catch{}},wX=function(Et){var Pn,yo;if(Uq)Et="<remove></remove>"+Et;else{var Za=Xte(Et,/^[\r\n\t ]+/);yo=Za&&Za[0]}OO==="application/xhtml+xml"&&(Et='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Et+"</body></html>");var fp=vt?vt.createHTML(Et):Et;if(B5===Nw)try{Pn=new ie().parseFromString(fp,OO)}catch{}if(!Pn||!Pn.documentElement){Pn=hn.createDocument(B5,"template",null);try{Pn.documentElement.innerHTML=Zq?"":fp}catch{}}var Ah=Pn.body||Pn.documentElement;return Et&&yo&&Ah.insertBefore(u.createTextNode(yo),Ah.childNodes[0]||null),B5===Nw?zn.call(Pn,v_?"html":"body")[0]:v_?Pn.documentElement:Ah},TX=function(Et){return In.call(Et.ownerDocument||Et,Et,L.SHOW_ELEMENT|L.SHOW_COMMENT|L.SHOW_TEXT,null,!1)},Wne=function(Et){return Et instanceof ne&&(typeof Et.nodeName!="string"||typeof Et.textContent!="string"||typeof Et.removeChild!="function"||!(Et.attributes instanceof Y)||typeof Et.removeAttribute!="function"||typeof Et.setAttribute!="function"||typeof Et.namespaceURI!="string"||typeof Et.insertBefore!="function")},UN=function(Et){return Qo(T)==="object"?Et instanceof T:Et&&Qo(Et)==="object"&&typeof Et.nodeType=="number"&&typeof Et.nodeName=="string"},y_=function(Et,Pn,yo){$o[Et]&&zK($o[Et],function(Za){Za.call(s,Pn,yo,RO)})},CX=function(Et){var Pn;if(y_("beforeSanitizeElements",Et,null),Wne(Et)||am(/[\u0080-\uFFFF]/,Et.nodeName))return b_(Et),!0;var yo=JS(Et.nodeName);if(y_("uponSanitizeElement",Et,{tagName:yo,allowedTags:is}),Et.hasChildNodes()&&!UN(Et.firstElementChild)&&(!UN(Et.content)||!UN(Et.content.firstElementChild))&&am(/<[/\w]/g,Et.innerHTML)&&am(/<[/\w]/g,Et.textContent)||yo==="select"&&am(/<template/i,Et.innerHTML))return b_(Et),!0;if(!is[yo]||cm[yo]){if(!cm[yo]&&xX(yo)&&(Pi.tagNameCheck instanceof RegExp&&am(Pi.tagNameCheck,yo)||Pi.tagNameCheck instanceof Function&&Pi.tagNameCheck(yo)))return!1;if(Wq&&!AO[yo]){var Za=it(Et)||Et.parentNode,fp=je(Et)||Et.childNodes;if(fp&&Za)for(var Ah=fp.length,Vf=Ah-1;Vf>=0;--Vf)Za.insertBefore(Le(fp[Vf],!0),ct(Et))}return b_(Et),!0}return Et instanceof I&&!Une(Et)||(yo==="noscript"||yo==="noembed")&&am(/<\/no(script|embed)/i,Et.innerHTML)?(b_(Et),!0):(Mw&&Et.nodeType===3&&(Pn=Et.textContent,Pn=Dw(Pn,to," "),Pn=Dw(Pn,Ps," "),Et.textContent!==Pn&&(HN(s.removed,{element:Et.cloneNode()}),Et.textContent=Pn)),y_("afterSanitizeElements",Et,null),!1)},SX=function(Et,Pn,yo){if(mX&&(Pn==="id"||Pn==="name")&&(yo in u||yo in Vne))return!1;if(!(QS&&!dp[Pn]&&am(Zt,Pn))){if(!(J1&&am(Rn,Pn))){if(!Os[Pn]||dp[Pn]){if(!(xX(Et)&&(Pi.tagNameCheck instanceof RegExp&&am(Pi.tagNameCheck,Et)||Pi.tagNameCheck instanceof Function&&Pi.tagNameCheck(Et))&&(Pi.attributeNameCheck instanceof RegExp&&am(Pi.attributeNameCheck,Pn)||Pi.attributeNameCheck instanceof Function&&Pi.attributeNameCheck(Pn))||Pn==="is"&&Pi.allowCustomizedBuiltInElements&&(Pi.tagNameCheck instanceof RegExp&&am(Pi.tagNameCheck,yo)||Pi.tagNameCheck instanceof Function&&Pi.tagNameCheck(yo))))return!1}else if(!Gq[Pn]){if(!am(Oo,Dw(yo,Jn,""))){if(!((Pn==="src"||Pn==="xlink:href"||Pn==="href")&&Et!=="script"&&Qte(yo,"data:")===0&&gX[Et])){if(!(CO&&!am(yn,Dw(yo,Jn,"")))){if(yo)return!1}}}}}}return!0},xX=function(Et){return Et.indexOf("-")>0},AX=function(Et){var Pn,yo,Za,fp;y_("beforeSanitizeAttributes",Et,null);var Ah=Et.attributes;if(Ah){var Vf={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Os};for(fp=Ah.length;fp--;){Pn=Ah[fp];var V5=Pn,zf=V5.name,OX=V5.namespaceURI;yo=zf==="value"?Pn.value:Jte(Pn.value),Za=JS(zf);var jne=yo;if(Vf.attrName=Za,Vf.attrValue=yo,Vf.keepAttr=!0,Vf.forceKeepAttr=void 0,y_("uponSanitizeAttribute",Et,Vf),yo=Vf.attrValue,!Vf.forceKeepAttr){if(!Vf.keepAttr){H5(zf,Et);continue}if(am(/\/>/i,yo)){H5(zf,Et);continue}Mw&&(yo=Dw(yo,to," "),yo=Dw(yo,Ps," "));var qne=JS(Et.nodeName);if(!SX(qne,Za,yo)){H5(zf,Et);continue}if(yo!==jne)try{OX?Et.setAttributeNS(OX,zf,yo):Et.setAttribute(zf,yo)}catch{H5(zf,Et)}}}y_("afterSanitizeAttributes",Et,null)}},Gne=function Jo(Et){var Pn,yo=TX(Et);for(y_("beforeSanitizeShadowDOM",Et,null);Pn=yo.nextNode();)y_("uponSanitizeShadowNode",Pn,null),!CX(Pn)&&(Pn.content instanceof m&&Jo(Pn.content),AX(Pn));y_("afterSanitizeShadowDOM",Et,null)};return s.sanitize=function(Jo,Et){var Pn,yo,Za,fp,Ah;if(Zq=!Jo,Zq&&(Jo="<!-->"),typeof Jo!="string"&&!UN(Jo)){if(typeof Jo.toString!="function")throw kq("toString is not a function");if(Jo=Jo.toString(),typeof Jo!="string")throw kq("dirty is not a string, aborting")}if(!s.isSupported){if(Qo(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof Jo=="string")return t.toStaticHTML(Jo);if(UN(Jo))return t.toStaticHTML(Jo.outerHTML)}return Jo}if(VN||Yq(Et),s.removed=[],typeof Jo=="string"&&(zN=!1),zN){if(Jo.nodeName){var Vf=JS(Jo.nodeName);if(!is[Vf]||cm[Vf])throw kq("root node is forbidden and cannot be sanitized in-place")}}else if(Jo instanceof T)Pn=wX("<!---->"),yo=Pn.ownerDocument.importNode(Jo,!0),yo.nodeType===1&&yo.nodeName==="BODY"||yo.nodeName==="HTML"?Pn=yo:Pn.appendChild(yo);else{if(!SO&&!Mw&&!v_&&Jo.indexOf("<")===-1)return vt&&$5?vt.createHTML(Jo):Jo;if(Pn=wX(Jo),!Pn)return SO?null:$5?tn:""}Pn&&Uq&&b_(Pn.firstChild);for(var V5=TX(zN?Jo:Pn);Za=V5.nextNode();)Za.nodeType===3&&Za===fp||CX(Za)||(Za.content instanceof m&&Gne(Za.content),AX(Za),fp=Za);if(fp=null,zN)return Jo;if(SO){if(L5)for(Ah=Go.call(Pn.ownerDocument);Pn.firstChild;)Ah.appendChild(Pn.firstChild);else Ah=Pn;return Os.shadowroot&&(Ah=Fo.call(i,Ah,!0)),Ah}var zf=v_?Pn.outerHTML:Pn.innerHTML;return v_&&is["!doctype"]&&Pn.ownerDocument&&Pn.ownerDocument.doctype&&Pn.ownerDocument.doctype.name&&am(une,Pn.ownerDocument.doctype.name)&&(zf="<!DOCTYPE "+Pn.ownerDocument.doctype.name+`>
`+zf),Mw&&(zf=Dw(zf,to," "),zf=Dw(zf,Ps," ")),vt&&$5?vt.createHTML(zf):zf},s.setConfig=function(Jo){Yq(Jo),VN=!0},s.clearConfig=function(){RO=null,VN=!1},s.isValidAttribute=function(Jo,Et,Pn){RO||Yq({});var yo=JS(Jo),Za=JS(Et);return SX(yo,Za,Pn)},s.addHook=function(Jo,Et){typeof Et=="function"&&($o[Jo]=$o[Jo]||[],HN($o[Jo],Et))},s.removeHook=function(Jo){if($o[Jo])return Kte($o[Jo])},s.removeHooks=function(Jo){$o[Jo]&&($o[Jo]=[])},s.removeAllHooks=function(){$o={}},s}var hne=qK();const mne=t=>hne().sanitize(t),pne=V1.deviceType.isTouch(),ZK=(t,s)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,s]}),YK=(t,s)=>Ac.parts.close(xl.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close")}},action:t,buttonBehaviours:Bt([Ni.config({})])})),KK=()=>Ac.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),XK=(t,s)=>Ac.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:Y1(`<p>${mne(s.translate(t))}</p>`)}]}]}),QK=t=>Ac.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t}),JK=(t,s)=>[ep.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),ep.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:s})],Fq=t=>{const s="tox-dialog",i=s+"-wrap",u=i+"__backdrop",m=s+"__disable-scroll";return Ac.sketch({lazySink:t.lazySink,onEscape:b=>(t.onEscape(b),F.some(!0)),useTabstopAt:b=>!hS(b),firstTabstop:t.firstTabstop,dom:{tag:"div",classes:[s].concat(t.extraClasses),styles:{position:"relative",...t.extraStyles}},components:[t.header,t.body,...t.footer.toArray()],parts:{blocker:{dom:Y1(`<div class="${i}"></div>`),components:[{dom:{tag:"div",classes:pne?[u,u+"--opaque"]:[u]}}]}},dragBlockClass:i,modalBehaviours:Bt([Qn.config({}),vo("dialog-events",t.dialogEvents.concat([Ui(mf(),(b,T)=>{Vn.focusIn(b)})])),vo("scroll-lock",[wr(()=>{ks(ea(),m)}),Cc(()=>{Zs(ea(),m)})]),...t.extraBehaviours]),eventOrder:{[Fs()]:["dialog-events"],[fd()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Pu()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...t.eventOrder}})},eX=t=>xl.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},buttonBehaviours:Bt([Ni.config({})]),components:[Qh("close",{tag:"div",classes:["tox-icon"]},t.icons)],action:s=>{ls(s,Yy)}}),tX=(t,s,i,u)=>{const m=b=>[$r(u.translate(b.title))];return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...i.map(b=>({id:b})).getOr({})}},components:[],behaviours:Bt([cr.config({channel:`${$N}-${s}`,initialData:t,renderComponents:m})])}},nX=()=>({dom:Y1('<div class="tox-dialog__draghandle"></div>')}),gne=(t,s,i,u)=>ep.sketch({dom:Y1('<div class="tox-dialog__header"></div>'),components:[tX(t,s,F.some(i),u),nX(),eX(u)],containerBehaviours:Bt([u_.config({mode:"mouse",blockerClass:"blocker",getTarget:m=>lh(m,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}),vne=(t,s,i)=>{const u=Ac.parts.title(tX(t,s,F.none(),i)),m=Ac.parts.draghandle(nX()),b=Ac.parts.close(eX(i)),T=[u].concat(t.draggable?[m]:[]).concat([b]);return ep.sketch({dom:Y1('<div class="tox-dialog__header"></div>'),components:T})},oX=(t,s,i)=>vne({title:i.shared.providers.translate(t),draggable:i.dialog.isDraggableModal()},s,i.shared.providers),sX=(t,s,i)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":i.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:s,components:[{dom:Y1('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),rX=(t,s,i)=>({onClose:()=>i.closeWindow(),onBlock:u=>{Ac.setBusy(t(),(m,b)=>sX(u.message,b,s))},onUnblock:()=>{Ac.setIdle(t())}}),iX=(t,s,i,u)=>{const m=(b,T)=>F.some(T);return Hc(Fq({...t,firstTabstop:1,lazySink:u.shared.getSink,extraBehaviours:[cr.config({channel:`${KS}-${t.id}`,updateState:m,initialData:s}),Yi.memory({}),...t.extraBehaviours],onEscape:b=>{ls(b,Yy)},dialogEvents:i,eventOrder:{[pu()]:[cr.name(),Ed.name()],[fd()]:["scroll-lock",cr.name(),"messages","dialog-events","alloy.base.behaviour"],[Pu()]:["alloy.base.behaviour","dialog-events","messages",cr.name(),"scroll-lock"]}}))},Hq=(t,s={})=>{const i=u=>{const m=nt(u.items,b=>{const T=dn(s,b.name).getOr(Wn(!1));return{...b,storage:T}});return{...u,items:m}};return nt(t,u=>u.type==="menu"?i(u):u)},aX=t=>as(t,(s,i)=>i.type==="menu"?as(i.items,(m,b)=>(m[b.name]=b.storage,m),s):s,{}),cX=(t,s)=>[Dm(mf(),Nz),t(sS,(i,u,m,b)=>{xf(Ti(b.element)).fold(ee,g1),s.onClose(),u.onClose()}),t(Yy,(i,u,m,b)=>{u.onCancel(i),ls(b,sS)}),kt(pD,(i,u)=>s.onUnblock()),kt(mD,(i,u)=>s.onBlock(u.event))],Vq={initUrlDialog:(t,s)=>{const i=(m,b)=>kt(m,(T,I)=>{u(T,(L,z)=>{b(t(),L,I.event,T)})}),u=(m,b)=>{cr.getState(m).get().each(T=>{b(T,m)})};return[...cX(i,s),i(bv,(m,b,T)=>{b.onAction(m,{name:T.name})})]},initDialog:(t,s,i)=>{const u=(b,T)=>kt(b,(I,L)=>{m(I,(z,Y)=>{T(t(),z,L.event,I)})}),m=(b,T)=>{cr.getState(b).get().each(I=>{T(I.internalDialog,b)})};return[...cX(u,s),u(rS,(b,T)=>T.onSubmit(b)),u(kf,(b,T,I)=>{T.onChange(b,{name:I.name})}),u(bv,(b,T,I,L)=>{const z=()=>Vn.focusIn(L),Y=de=>ba(de,"disabled")||ui(de,"aria-disabled").exists(Se=>Se==="true"),ne=Ti(L.element),ie=xf(ne);T.onAction(b,{name:I.name,value:I.value}),xf(ne).fold(z,de=>{Y(de)||ie.exists(Se=>Na(de,Se)&&Y(Se))?z():i().toOptional().filter(Se=>!Na(Se.element,de)).each(z)})}),u(L4,(b,T,I)=>{T.onTabChange(b,{newTabName:I.name,oldTabName:I.oldName})}),Cc(b=>{const T=t();pn.setValue(b,T.getData())})]}},bne=(t,s)=>_S(t,t.type,s),yne=(t,s,i)=>Fn(s,u=>u.name===i).bind(u=>u.memento.getOpt(t)),_ne=(t,s)=>{const i=s.map(I=>I.footerButtons).getOr([]),u=fs(i,I=>I.align==="start"),m=(I,L)=>ep.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${I}`]},components:nt(L,z=>z.memento.asSpec())}),b=m("start",u.pass),T=m("end",u.fail);return[b,T]},lX=(t,s,i)=>{const u=(m,b)=>{const T=nt(b.buttons,L=>{const z=Yo(bne(L,i));return{name:L.name,align:L.align,memento:z}}),I=L=>yne(m,T,L);return F.some({lookupByName:I,footerButtons:T})};return{dom:Y1('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Bt([cr.config({channel:`${g_}-${s}`,initialData:t,updateState:u,renderComponents:_ne})])}},Ene=(t,s,i)=>lX(t,s,i),uX=(t,s,i)=>Ac.parts.footer(lX(t,s,i)),dX=(t,s)=>{if(t.getRoot().getSystem().isConnected()){const u=ss.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return fw.getField(u,s).orThunk(()=>{const m=t.getFooter();return cr.getState(m).get().bind(T=>T.lookupByName(s))})}else return F.none()},wne=(t,s)=>{const i=t.getRoot();return cr.getState(i).get().map(u=>gs(Do("data",u.dataValidator,s))).getOr(s)},fX=(t,s,i)=>{const u=Se=>{const Le=t.getRoot();Le.getSystem().isConnected()&&Se(Le)},de={getData:()=>{const Se=t.getRoot(),Le=Se.getSystem().isConnected()?t.getFormWrapper():Se,ct=pn.getValue(Le),je=Ls(i,it=>it.get());return{...ct,...je}},setData:Se=>{u(Le=>{const ct=de.getData(),je=dr(ct,Se),it=wne(t,je),ht=t.getFormWrapper();pn.setValue(ht,it),ii(i,(vt,tn)=>{jo(je,tn)&&vt.set(je[tn])})})},setEnabled:(Se,Le)=>{dX(t,Se).each(Le?so.enable:so.disable)},focus:Se=>{dX(t,Se).each(Qn.focus)},block:Se=>{if(!M(Se))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");u(Le=>{Nn(Le,mD,{message:Se})})},unblock:()=>{u(Se=>{ls(Se,pD)})},showTab:Se=>{u(Le=>{const ct=t.getBody();cr.getState(ct).get().exists(it=>it.isTabPanel())&&ss.getCurrent(ct).each(it=>{Zu.showTab(it,Se)})})},redial:Se=>{u(Le=>{const ct=t.getId(),je=s(Se),it=Hq(je.internalDialog.buttons,i);Le.getSystem().broadcastOn([`${KS}-${ct}`],je),Le.getSystem().broadcastOn([`${$N}-${ct}`],je.internalDialog),Le.getSystem().broadcastOn([`${up}-${ct}`],je.internalDialog),Le.getSystem().broadcastOn([`${g_}-${ct}`],{...je.internalDialog,buttons:it}),de.setData(je.initialData)})},close:()=>{u(Se=>{ls(Se,sS)})},toggleFullscreen:t.toggleFullscreen};return de},Tne=t=>{switch(t){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},Cne=(t,s,i)=>{const u=zt("dialog"),m=t.internalDialog,b=oX(m.title,u,i),T=jt({body:m.body,initialData:m.initialData},u,i),I=Hq(m.buttons),L=aX(I),z=uX({buttons:I},u,i),Y=Vq.initDialog(()=>Le,rX(()=>de,i.shared.providers,s),i.shared.getSink),ne=Tne(m.size),ie={id:u,header:b,body:T,footer:F.some(z),extraClasses:ne,extraBehaviours:[],extraStyles:{}},de=iX(ie,t,Y,i),Se=(()=>{const ct=()=>{const it=Ac.getBody(de);return ss.getCurrent(it).getOr(it)},je=()=>{const it="tox-dialog--fullscreen",ht=et.fromDom(de.element.dom);Sa(ht,it)?(Zs(ht,it),yd(ht,ne)):(Tl(ht,ne),ks(ht,it))};return{getId:we(u),getRoot:we(de),getBody:()=>Ac.getBody(de),getFooter:()=>Ac.getFooter(de),getFormWrapper:ct,toggleFullscreen:je}})(),Le=fX(Se,s.redial,L);return{dialog:de,instanceApi:Le}},Sne=(t,s,i,u)=>{const m=zt("dialog"),b=zt("dialog-label"),T=zt("dialog-content"),I=t.internalDialog,L=(ht,vt)=>F.some(vt),z=Yo(gne({title:I.title,draggable:!0},m,b,i.shared.providers)),Y=Yo(Jt({body:I.body,initialData:I.initialData},m,T,i,u)),ne=Hq(I.buttons),ie=aX(ne),de=Yo(Ene({buttons:ne},m,i)),Se=Vq.initDialog(()=>it,{onBlock:ht=>{l0.block(ct,(vt,tn)=>sX(ht.message,tn,i.shared.providers))},onUnblock:()=>{l0.unblock(ct)},onClose:()=>s.closeWindow()},i.shared.getSink),Le="tox-dialog-inline",ct=Hc({dom:{tag:"div",classes:["tox-dialog",Le],attributes:{role:"dialog",["aria-labelledby"]:b,["aria-describedby"]:T}},eventOrder:{[pu()]:[cr.name(),Ed.name()],[Fs()]:["execute-on-form"],[fd()]:["reflecting","execute-on-form"]},behaviours:Bt([Vn.config({mode:"cyclic",onEscape:ht=>(ls(ht,sS),F.some(!0)),useTabstopAt:ht=>!hS(ht)&&(Ic(ht)!=="button"||Fi(ht,"disabled")!=="disabled"),firstTabstop:1}),cr.config({channel:`${KS}-${m}`,updateState:L,initialData:t}),Qn.config({}),vo("execute-on-form",Se.concat([Ui(mf(),(ht,vt)=>{Vn.focusIn(ht)})])),l0.config({getRoot:()=>F.some(ct)}),mo.config({}),Yi.memory({})]),components:[z.asSpec(),Y.asSpec(),de.asSpec()]}),je=()=>{const ht="tox-dialog--fullscreen",vt=et.fromDom(ct.element.dom);Pm(vt,[ht])?(Tl(vt,[ht]),yd(vt,[Le])):(Tl(vt,[Le]),yd(vt,[ht]))},it=fX({getId:we(m),getRoot:we(ct),getFooter:()=>de.get(ct),getBody:()=>Y.get(ct),getFormWrapper:()=>{const ht=Y.get(ct);return ss.getCurrent(ht).getOr(ht)},toggleFullscreen:je},s.redial,ie);return{dialog:ct,instanceApi:it}};var zq=tinymce.util.Tools.resolve("tinymce.util.URI");const xne=t=>{const s=T=>{t.getSystem().isConnected()&&T(t)};return{block:T=>{if(!M(T))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(I=>{Nn(I,mD,{message:T})})},unblock:()=>{s(T=>{ls(T,pD)})},close:()=>{s(T=>{ls(T,sS)})},sendMessage:T=>{s(I=>{I.getSystem().broadcastOn([ut],T)})}}},Ane=["insertContent","setContent","execCommand","close","block","unblock"],hX=t=>P(t)&&Ane.indexOf(t.mceAction)!==-1,One=t=>!hX(t)&&P(t)&&jo(t,"mceAction"),Rne=(t,s,i)=>{switch(i.mceAction){case"insertContent":t.insertContent(i.content);break;case"setContent":t.setContent(i.content);break;case"execCommand":const u=me(i.ui)?i.ui:!1;t.execCommand(i.cmd,u,i.value);break;case"close":s.close();break;case"block":s.block(i.message);break;case"unblock":s.unblock();break}},Ine=(t,s,i,u)=>{const m=zt("dialog"),b=oX(t.title,m,u),T=Un(t),I=t.buttons.bind(it=>it.length===0?F.none():F.some(uX({buttons:it},m,u))),L=Vq.initUrlDialog(()=>je,rX(()=>ct,u.shared.providers,s)),z={...t.height.fold(()=>({}),it=>({height:it+"px","max-height":it+"px"})),...t.width.fold(()=>({}),it=>({width:it+"px","max-width":it+"px"}))},Y=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],ne=new zq(t.url,{base_uri:new zq(window.location.href)}),ie=`${ne.protocol}://${ne.host}${ne.port?":"+ne.port:""}`,de=Td(),Se=[vo("messages",[wr(()=>{const it=ll(et.fromDom(window),"message",ht=>{if(ne.isSameOrigin(new zq(ht.raw.origin))){const vt=ht.raw.data;hX(vt)?Rne(i,je,vt):One(vt)&&t.onMessage(je,vt)}});de.set(it)}),Cc(de.clear)]),Ed.config({channels:{[ut]:{onReceive:(it,ht)=>{Ur(it.element,"iframe").each(vt=>{const tn=vt.dom.contentWindow;fe(tn)&&tn.postMessage(ht,ie)})}}}})],ct=iX({id:m,header:b,body:T,footer:I,extraClasses:Y,extraBehaviours:Se,extraStyles:z},t,L,u),je=xne(ct);return{dialog:ct,instanceApi:je}},Dne=t=>{const s=t.shared;return{open:(u,m)=>{const b=()=>{Ac.hide(z),m()},T=Yo(_S({name:"close-alert",text:"OK",primary:!0,buttonType:F.some("primary"),align:"end",enabled:!0,icon:F.none()},"cancel",t)),I=KK(),L=YK(b,s.providers),z=Hc(Fq({lazySink:()=>s.getSink(),header:ZK(I,L),body:XK(u,s.providers),footer:F.some(QK(JK([],[T.asSpec()]))),onEscape:b,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[kt(Yy,b)],eventOrder:{}}));Ac.show(z);const Y=T.get(z);Qn.focus(Y)}}},Mne=t=>{const s=t.shared;return{open:(u,m)=>{const b=ie=>{Ac.hide(Y),m(ie)},T=Yo(_S({name:"yes",text:"Yes",primary:!0,buttonType:F.some("primary"),align:"end",enabled:!0,icon:F.none()},"submit",t)),I=_S({name:"no",text:"No",primary:!1,buttonType:F.some("secondary"),align:"end",enabled:!0,icon:F.none()},"cancel",t),L=KK(),z=YK(()=>b(!1),s.providers),Y=Hc(Fq({lazySink:()=>s.getSink(),header:ZK(L,z),body:XK(u,s.providers),footer:F.some(QK(JK([],[I,T.asSpec()]))),onEscape:()=>b(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[kt(Yy,()=>b(!1)),kt(rS,()=>b(!0))],eventOrder:{}}));Ac.show(Y);const ne=T.get(Y);Qn.focus(ne)}}},Nne=(t,s)=>gs(Do("data",s,t)),kne=t=>tS(t,".tox-alert-dialog")||tS(t,".tox-confirm-dialog"),Pne=(t,s,i)=>s&&i?[]:[ac.config({contextual:{lazyContext:()=>F.some(ns(et.fromDom(t.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:u=>Zi(t,u.element).map(b=>({bounds:GA(b),optScrollEnv:F.some({currentScrollTop:b.element.dom.scrollTop,scrollElmTop:Po(b.element).top})})).getOrThunk(()=>({bounds:Ja(),optScrollEnv:F.none()}))})],Lne=t=>{const s=t.editor,i=KE(s),u=Dne(t.backstages.dialog),m=Mne(t.backstages.dialog),b=(de,Se,Le)=>Se!==void 0&&Se.inline==="toolbar"?z(de,t.backstages.popup.shared.anchors.inlineDialog(),Le,Se.ariaAttrs):Se!==void 0&&Se.inline==="cursor"?z(de,t.backstages.popup.shared.anchors.cursor(),Le,Se.ariaAttrs):L(de,Le),T=(de,Se)=>I(de,Se),I=(de,Se)=>{const Le=ct=>{const je=Ine(ct,{closeWindow:()=>{Ac.hide(je.dialog),Se(je.instanceApi)}},s,t.backstages.dialog);return Ac.show(je.dialog),je.instanceApi};return Kn.openUrl(Le,de)},L=(de,Se)=>{const Le=(ct,je,it)=>{const ht=je,tn=Cne({dataValidator:it,initialData:ht,internalDialog:ct},{redial:Kn.redial,closeWindow:()=>{Ac.hide(tn.dialog),Se(tn.instanceApi)}},t.backstages.dialog);return Ac.show(tn.dialog),tn.instanceApi.setData(ht),tn.instanceApi};return Kn.open(Le,de)},z=(de,Se,Le,ct=!1)=>{const je=(it,ht,vt)=>{const tn=Nne(ht,vt),Ft=ir(),hn=t.backstages.popup.shared.header.isPositionedAtTop(),In={dataValidator:vt,initialData:tn,internalDialog:it},Go=()=>Ft.on($o=>{Aa.reposition($o),ac.refresh($o)}),zn=Sne(In,{redial:Kn.redial,closeWindow:()=>{Ft.on(Aa.hide),s.off("ResizeEditor",Go),Ft.clear(),Le(zn.instanceApi)}},t.backstages.popup,ct),Fo=Hc(Aa.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{},...hn?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Bt([vo("window-manager-inline-events",[kt(Bl(),($o,to)=>{ls(zn.dialog,Yy)})]),...Pne(s,i,hn)]),isExtraPart:($o,to)=>kne(to)}));Ft.set(Fo);const co=()=>{const $o=s.inline?ea():et.fromDom(s.getContainer()),to=ns($o);return F.some(to)};return Aa.showWithinBounds(Fo,Vl(zn.dialog),{anchor:Se},co),(!i||!hn)&&(ac.refresh(Fo),s.on("ResizeEditor",Go)),zn.instanceApi.setData(tn),Vn.focusIn(zn.dialog),zn.instanceApi};return Kn.open(je,de)};return{open:b,openUrl:T,alert:(de,Se)=>{u.open(de,Se)},close:de=>{de.close()},confirm:(de,Se)=>{m.open(de,Se)}}},$ne=t=>{bP(t),hg(t),lj(t)};var Bne=()=>{Tp.add("silver",t=>{$ne(t);let s=()=>Ja();const{dialogs:i,popups:u,renderUI:m}=gO(t,{getPopupSinkBounds:()=>s()}),b=async()=>{const L=await m();return Zi(t,u.getMothership().element).each(Y=>{s=()=>GA(Y)}),L};vv.register(t,u.backstage.shared);const T=Lne({editor:t,backstages:{popup:u.backstage,dialog:i.backstage}}),I=()=>aI(t,{backstage:u.backstage},u.getMothership());return{renderUI:b,getWindowManagerImpl:we(T),getNotificationManagerImpl:I}})};Bne()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.ModelManager");const c=(d,g,E)=>{var O;return E(d,g.prototype)?!0:((O=d.constructor)===null||O===void 0?void 0:O.name)===g.name},f=d=>{const g=typeof d;return d===null?"null":g==="object"&&Array.isArray(d)?"array":g==="object"&&c(d,String,(E,O)=>O.isPrototypeOf(E))?"string":g},y=d=>g=>f(g)===d,C=d=>g=>typeof g===d,w=d=>g=>d===g,S=y("string"),M=y("object"),P=y("array"),G=w(null),j=C("boolean"),J=w(void 0),me=d=>d==null,ae=d=>!me(d),pe=C("function"),fe=C("number"),ue=()=>{},le=(d,g)=>(...E)=>d(g.apply(null,E)),ve=(d,g)=>E=>d(g(E)),ee=d=>()=>d,ke=d=>d,Ke=(d,g)=>d===g;function V(d,...g){return(...E)=>{const O=g.concat(E);return d.apply(null,O)}}const we=d=>g=>!d(g),Ue=d=>()=>{throw new Error(d)},bt=d=>d(),It=ee(!1),He=ee(!0);class Te{constructor(g,E){this.tag=g,this.value=E}static some(g){return new Te(!0,g)}static none(){return Te.singletonNone}fold(g,E){return this.tag?E(this.value):g()}isSome(){return this.tag}isNone(){return!this.tag}map(g){return this.tag?Te.some(g(this.value)):Te.none()}bind(g){return this.tag?g(this.value):Te.none()}exists(g){return this.tag&&g(this.value)}forall(g){return!this.tag||g(this.value)}filter(g){return!this.tag||g(this.value)?this:Te.none()}getOr(g){return this.tag?this.value:g}or(g){return this.tag?this:g}getOrThunk(g){return this.tag?this.value:g()}orThunk(g){return this.tag?this:g()}getOrDie(g){if(this.tag)return this.value;throw new Error(g??"Called getOrDie on None")}static from(g){return ae(g)?Te.some(g):Te.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(g){this.tag&&g(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Te.singletonNone=new Te(!1);const bn=Array.prototype.slice,Tt=Array.prototype.indexOf,Mt=Array.prototype.push,F=(d,g)=>Tt.call(d,g),Nt=(d,g)=>F(d,g)>-1,rt=(d,g)=>{for(let E=0,O=d.length;E<O;E++){const B=d[E];if(g(B,E))return!0}return!1},Kt=(d,g)=>{const E=[];for(let O=0;O<d;O++)E.push(g(O));return E},Gt=(d,g)=>{const E=d.length,O=new Array(E);for(let B=0;B<E;B++){const W=d[B];O[B]=g(W,B)}return O},Ze=(d,g)=>{for(let E=0,O=d.length;E<O;E++){const B=d[E];g(B,E)}},_o=(d,g)=>{for(let E=d.length-1;E>=0;E--){const O=d[E];g(O,E)}},Ho=(d,g)=>{const E=[],O=[];for(let B=0,W=d.length;B<W;B++){const se=d[B];(g(se,B)?E:O).push(se)}return{pass:E,fail:O}},lo=(d,g)=>{const E=[];for(let O=0,B=d.length;O<B;O++){const W=d[O];g(W,O)&&E.push(W)}return E},Vo=(d,g,E)=>(_o(d,(O,B)=>{E=g(E,O,B)}),E),nt=(d,g,E)=>(Ze(d,(O,B)=>{E=g(E,O,B)}),E),Lt=(d,g,E)=>{for(let O=0,B=d.length;O<B;O++){const W=d[O];if(g(W,O))return Te.some(W);if(E(W,O))break}return Te.none()},X=(d,g)=>Lt(d,g,It),fs=(d,g)=>{for(let E=0,O=d.length;E<O;E++){const B=d[E];if(g(B,E))return Te.some(E)}return Te.none()},po=d=>{const g=[];for(let E=0,O=d.length;E<O;++E){if(!P(d[E]))throw new Error("Arr.flatten item "+E+" was not an array, input: "+d);Mt.apply(g,d[E])}return g},Rs=(d,g)=>po(Gt(d,g)),as=(d,g)=>{for(let E=0,O=d.length;E<O;++E){const B=d[E];if(g(B,E)!==!0)return!1}return!0},Ia=d=>{const g=bn.call(d,0);return g.reverse(),g},Fn=(d,g)=>{const E={};for(let O=0,B=d.length;O<B;O++){const W=d[O];E[String(W)]=g(W,O)}return E},ko=(d,g)=>{const E=bn.call(d,0);return E.sort(g),E},en=(d,g)=>g>=0&&g<d.length?Te.some(d[g]):Te.none(),Ge=d=>en(d,0),Gc=d=>en(d,d.length-1),va=(d,g)=>{for(let E=0;E<d.length;E++){const O=g(d[E],E);if(O.isSome())return O}return Te.none()},Dn=Object.keys,ri=Object.hasOwnProperty,Us=(d,g)=>{const E=Dn(d);for(let O=0,B=E.length;O<B;O++){const W=E[O],se=d[W];g(se,W)}},jc=(d,g)=>Is(d,(E,O)=>({k:O,v:g(E,O)})),Is=(d,g)=>{const E={};return Us(d,(O,B)=>{const W=g(O,B);E[W.k]=W.v}),E},zr=d=>(g,E)=>{d[E]=g},lc=(d,g,E,O)=>{Us(d,(B,W)=>{(g(B,W)?E:O)(B,W)})},Ya=(d,g)=>{const E={};return lc(d,g,zr(E),ue),E},Or=(d,g)=>{const E=[];return Us(d,(O,B)=>{E.push(g(O,B))}),E},lr=d=>Or(d,ke),Jd=(d,g)=>ii(d,g)?Te.from(d[g]):Te.none(),ii=(d,g)=>ri.call(d,g),Ls=(d,g)=>ii(d,g)&&d[g]!==void 0&&d[g]!==null,Zl=d=>{for(const g in d)if(ri.call(d,g))return!1;return!0},ai=typeof window<"u"?window:Function("return this;")(),Yl=(d,g)=>{let E=g??ai;for(let O=0;O<d.length&&E!==void 0&&E!==null;++O)E=E[d[O]];return E},Xs=(d,g)=>{const E=d.split(".");return Yl(E,g)},_i=(d,g)=>Xs(d,g),Wf=(d,g)=>{const E=_i(d,g);if(E==null)throw new Error(d+" not available on this browser");return E},uc=Object.getPrototypeOf,mm=d=>Wf("HTMLElement",d),dn=d=>{const g=Xs("ownerDocument.defaultView",d);return M(d)&&(mm(g).prototype.isPrototypeOf(d)||/^HTML\w*Element$/.test(uc(d).constructor.name))},jo=8,Da=9,qc=11,pm=1,Qu=3,Ws=d=>d.dom.nodeName.toLowerCase(),xu=d=>d.dom.nodeType,Gf=d=>g=>xu(g)===d,gr=d=>xu(d)===jo||Ws(d)==="#comment",jn=d=>dc(d)&&dn(d.dom),dc=Gf(pm),Ju=Gf(Qu),Oh=Gf(Da),gp=Gf(qc),ci=d=>g=>dc(g)&&Ws(g)===d,li=(d,g,E)=>{if(S(E)||j(E)||fe(E))d.setAttribute(g,E+"");else throw console.error("Invalid call to Attribute.set. Key ",g,":: Value ",E,":: Element ",d),new Error("Attribute value was not simple")},vr=(d,g,E)=>{li(d.dom,g,E)},Rc=(d,g)=>{const E=d.dom;Us(g,(O,B)=>{li(E,B,O)})},ef=(d,g)=>{Us(g,(E,O)=>{E.fold(()=>{qr(d,O)},B=>{li(d.dom,O,B)})})},Kl=(d,g)=>{const E=d.dom.getAttribute(g);return E===null?void 0:E},Zc=(d,g)=>Te.from(Kl(d,g)),qr=(d,g)=>{d.dom.removeAttribute(g)},Al=d=>nt(d.dom.attributes,(g,E)=>(g[E.name]=E.value,g),{}),Xl=(d,g)=>{const O=(g||document).createElement("div");if(O.innerHTML=d,!O.hasChildNodes()||O.childNodes.length>1){const B="HTML does not have a single root node";throw console.error(B,d),new Error(B)}return Ql(O.childNodes[0])},Cg=(d,g)=>{const O=(g||document).createElement(d);return Ql(O)},Sg=(d,g)=>{const O=(g||document).createTextNode(d);return Ql(O)},Ql=d=>{if(d==null)throw new Error("Node cannot be null or undefined");return{dom:d}},et={fromHtml:Xl,fromTag:Cg,fromText:Sg,fromDom:Ql,fromPoint:(d,g,E)=>Te.from(d.dom.elementFromPoint(g,E)).map(Ql)},Xi=(d,g)=>{const E=d.dom;if(E.nodeType!==pm)return!1;{const O=E;if(O.matches!==void 0)return O.matches(g);if(O.msMatchesSelector!==void 0)return O.msMatchesSelector(g);if(O.webkitMatchesSelector!==void 0)return O.webkitMatchesSelector(g);if(O.mozMatchesSelector!==void 0)return O.mozMatchesSelector(g);throw new Error("Browser lacks native selectors")}},qf=d=>d.nodeType!==pm&&d.nodeType!==Da&&d.nodeType!==qc||d.childElementCount===0,xg=(d,g)=>{const E=g===void 0?document:g.dom;return qf(E)?[]:Gt(E.querySelectorAll(d),et.fromDom)},gm=(d,g)=>{const E=g===void 0?document:g.dom;return qf(E)?Te.none():Te.from(E.querySelector(d)).map(et.fromDom)},Gs=(d,g)=>d.dom===g.dom,tf=(d,g)=>{const E=d.dom,O=g.dom;return E===O?!1:E.contains(O)},vp=Xi,Ma=d=>et.fromDom(d.dom.ownerDocument),Jl=d=>Oh(d)?d:Ma(d),Ei=d=>et.fromDom(Jl(d).dom.documentElement),Li=d=>et.fromDom(Jl(d).dom.defaultView),ed=d=>Te.from(d.dom.parentNode).map(et.fromDom),Ic=d=>Te.from(d.dom.parentElement).map(et.fromDom),td=(d,g)=>{const E=pe(g)?g:It;let O=d.dom;const B=[];for(;O.parentNode!==null&&O.parentNode!==void 0;){const W=O.parentNode,se=et.fromDom(W);if(B.push(se),E(se)===!0)break;O=W}return B},Dc=d=>Te.from(d.dom.previousSibling).map(et.fromDom),nf=d=>Te.from(d.dom.nextSibling).map(et.fromDom),$s=d=>Gt(d.dom.childNodes,et.fromDom),$i=(d,g)=>{const E=d.dom.childNodes;return Te.from(E[g]).map(et.fromDom)},Ol=d=>$i(d,0),Md=(d,g)=>{ed(d).each(O=>{O.dom.insertBefore(g.dom,d.dom)})},hl=(d,g)=>{nf(d).fold(()=>{ed(d).each(B=>{Nr(B,g)})},O=>{Md(O,g)})},Yc=(d,g)=>{Ol(d).fold(()=>{Nr(d,g)},O=>{d.dom.insertBefore(g.dom,O.dom)})},Nr=(d,g)=>{d.dom.appendChild(g.dom)},of=(d,g,E)=>{$i(d,E).fold(()=>{Nr(d,g)},O=>{Md(O,g)})},eu=(d,g)=>{Md(d,g),Nr(g,d)},us=(d,g)=>{Ze(g,(E,O)=>{const B=O===0?d:g[O-1];hl(B,E)})},Na=(d,g)=>{Ze(g,E=>{Nr(d,E)})},Qi=d=>{d.dom.textContent="",Ze($s(d),g=>{Bi(g)})},Bi=d=>{const g=d.dom;g.parentNode!==null&&g.parentNode.removeChild(g)},nd=d=>{const g=$s(d);g.length>0&&us(d,g),Bi(d)},Nd=(d,g)=>et.fromDom(d.dom.cloneNode(g)),Kc=d=>Nd(d,!1),ml=d=>Nd(d,!0),sf=(d,g)=>{const E=et.fromTag(g),O=Al(d);return Rc(E,O),E},vm=(d,g)=>{const E=sf(d,g),O=$s(ml(d));return Na(E,O),E},Ag=(d,g)=>{const E=sf(d,g);hl(d,E);const O=$s(d);return Na(E,O),Bi(d),E},ka=["tfoot","thead","tbody","colgroup"],wi=d=>Nt(ka,d),fc=(d,g)=>({rows:d,columns:g}),Mc=(d,g)=>({row:d,column:g}),Pa=(d,g,E)=>({element:d,rowspan:g,colspan:E}),rf=(d,g,E,O)=>({element:d,rowspan:g,colspan:E,isNew:O}),af=(d,g,E,O,B,W)=>({element:d,rowspan:g,colspan:E,row:O,column:B,isLocked:W}),Rl=(d,g,E)=>({element:d,cells:g,section:E}),Ti=(d,g,E,O)=>({element:d,cells:g,section:E,isNew:O}),Ji=(d,g,E)=>({element:d,isNew:g,isLocked:E}),Au=(d,g,E,O)=>({element:d,cells:g,section:E,isNew:O}),od=(d,g,E,O)=>({startRow:d,startCol:g,finishRow:E,finishCol:O}),bp=(d,g,E)=>({element:d,colspan:g,column:E}),Bs=(d,g)=>({element:d,columns:g}),br=d=>gp(d)&&ae(d.dom.host),hc=pe(Element.prototype.attachShadow)&&pe(Node.prototype.getRootNode),ea=ee(hc),tu=hc?d=>et.fromDom(d.dom.getRootNode()):Jl,pl=d=>{const g=tu(d);return br(g)?Te.some(g):Te.none()},uo=d=>et.fromDom(d.dom.host),cs=d=>{if(ea()&&ae(d.target)){const g=et.fromDom(d.target);if(dc(g)&&Fi(g)&&d.composed&&d.composedPath){const E=d.composedPath();if(E)return Ge(E)}}return Te.from(d.target)},Fi=d=>ae(d.dom.shadowRoot),ui=d=>{const g=Ju(d)?d.dom.parentNode:d.dom;if(g==null||g.ownerDocument===null)return!1;const E=g.ownerDocument;return pl(et.fromDom(g)).fold(()=>E.body.contains(g),ve(ui,uo))},ba=()=>x(et.fromDom(document)),x=d=>{const g=d.dom.body;if(g==null)throw new Error("Body is not available yet");return et.fromDom(g)},k=(d,g,E)=>lo(td(d,E),g),U=(d,g)=>lo($s(d),g),q=(d,g)=>{let E=[];return Ze($s(d),O=>{g(O)&&(E=E.concat([O])),E=E.concat(q(O,g))}),E},oe=(d,g,E)=>k(d,O=>Xi(O,g),E),he=(d,g)=>U(d,E=>Xi(E,g)),Ee=(d,g)=>xg(g,d);var Ce=(d,g,E,O,B)=>d(E,O)?Te.some(E):pe(B)&&B(E)?Te.none():g(E,O,B);const $e=(d,g,E)=>{let O=d.dom;const B=pe(E)?E:It;for(;O.parentNode;){O=O.parentNode;const W=et.fromDom(O);if(g(W))return Te.some(W);if(B(W))break}return Te.none()},ot=(d,g,E)=>Ce((B,W)=>W(B),$e,d,g,E),wt=(d,g)=>{const E=B=>g(et.fromDom(B));return X(d.dom.childNodes,E).map(et.fromDom)},qt=(d,g)=>{const E=O=>{for(let B=0;B<O.childNodes.length;B++){const W=et.fromDom(O.childNodes[B]);if(g(W))return Te.some(W);const se=E(O.childNodes[B]);if(se.isSome())return se}return Te.none()};return E(d.dom)},st=(d,g,E)=>$e(d,O=>Xi(O,g),E),Pt=(d,g)=>wt(d,E=>Xi(E,g)),no=(d,g)=>gm(g,d),qn=(d,g,E)=>Ce((B,W)=>Xi(B,W),st,d,g,E),xn=(d,g,E=Ke)=>d.exists(O=>E(O,g)),yr=d=>{const g=[],E=O=>{g.push(O)};for(let O=0;O<d.length;O++)d[O].each(E);return g},_r=(d,g)=>d!=null?g(d):Te.none(),ws=(d,g)=>d?Te.some(g):Te.none(),Zn=(d,g,E)=>g===""||d.length>=g.length&&d.substr(E,E+g.length)===g,eo=(d,g,E=0,O)=>{const B=d.indexOf(g,E);return B!==-1?J(O)?!0:B+g.length<=O:!1},ta=(d,g)=>Zn(d,g,0),Po=(d,g)=>Zn(d,g,d.length-g.length),nu=(d=>g=>g.replace(d,""))(/^\s+|\s+$/g),Ds=d=>d.length>0,Er=d=>{const g=parseFloat(d);return isNaN(g)?Te.none():Te.some(g)},Jr=d=>d.style!==void 0&&pe(d.style.getPropertyValue),Xc=(d,g,E)=>{if(!S(E))throw console.error("Invalid call to CSS.set. Property ",g,":: Value ",E,":: Element ",d),new Error("CSS value must be a string: "+E);Jr(d)&&d.style.setProperty(g,E)},Ci=(d,g)=>{Jr(d)&&d.style.removeProperty(g)},ps=(d,g,E)=>{const O=d.dom;Xc(O,g,E)},Rr=(d,g)=>{const E=d.dom;Us(g,(O,B)=>{Xc(E,B,O)})},mc=(d,g)=>{const E=d.dom,B=window.getComputedStyle(E).getPropertyValue(g);return B===""&&!ui(d)?Zf(E,g):B},Zf=(d,g)=>Jr(d)?d.style.getPropertyValue(g):"",La=(d,g)=>{const E=d.dom,O=Zf(E,g);return Te.from(O).filter(B=>B.length>0)},gl=(d,g)=>{const E=d.dom;Ci(E,g),xn(Zc(d,"style").map(nu),"")&&qr(d,"style")},Eo=(d,g)=>{const E=d.dom,O=g.dom;Jr(E)&&Jr(O)&&(O.style.cssText=E.style.cssText)},ei=(d,g,E=0)=>Zc(d,g).map(O=>parseInt(O,10)).getOr(E),Ka=(d,g)=>ei(d,g,1),pc=d=>ci("col")(d)?ei(d,"span",1)>1:Ka(d,"colspan")>1,na=d=>Ka(d,"rowspan")>1,Ir=(d,g)=>parseInt(mc(d,g),10),ya=ee(10),Yf=ee(10),Ou=(d,g)=>bm(d,g,He),bm=(d,g,E)=>Rs($s(d),O=>Xi(O,g)?E(O)?[O]:[]:bm(O,g,E)),yp=(d,g,E=It)=>{if(E(g))return Te.none();if(Nt(d,Ws(g)))return Te.some(g);const O=B=>Xi(B,"table")||E(B);return st(g,d.join(","),O)},Il=(d,g)=>yp(["td","th"],d,g),Ru=d=>Ou(d,"th,td"),Rh=d=>Xi(d,"colgroup")?he(d,"col"):Rs(kd(d),g=>he(g,"col")),Hi=(d,g)=>qn(d,"table",g),sd=d=>Ou(d,"tr"),kd=d=>Hi(d).fold(ee([]),g=>he(g,"colgroup")),Dl=(d,g)=>Gt(d,E=>{if(Ws(E)==="colgroup"){const O=Gt(Rh(E),B=>{const W=ei(B,"span",1);return Pa(B,1,W)});return Rl(E,O,"colgroup")}else{const O=Gt(Ru(E),B=>{const W=ei(B,"rowspan",1),se=ei(B,"colspan",1);return Pa(B,W,se)});return Rl(E,O,g(E))}}),Xa=d=>ed(d).map(g=>{const E=Ws(g);return wi(E)?E:"tbody"}).getOr("tbody"),$a=d=>{const g=sd(d),O=[...kd(d),...g];return Dl(O,Xa)},rd=(d,g)=>Dl(d,()=>g),cf=d=>{let g=!1,E;return(...O)=>(g||(g=!0,E=d.apply(null,O)),E)},_p=(d,g,E,O)=>{const B=d.isiOS()&&/ipad/i.test(E)===!0,W=d.isiOS()&&!B,se=d.isiOS()||d.isAndroid(),be=se||O("(pointer:coarse)"),xe=B||!W&&se&&O("(min-device-width:768px)"),Pe=W||se&&!xe,Je=g.isSafari()&&d.isiOS()&&/safari/i.test(E)===!1,Ht=!Pe&&!xe&&!Je;return{isiPad:ee(B),isiPhone:ee(W),isTablet:ee(xe),isPhone:ee(Pe),isTouch:ee(be),isAndroid:d.isAndroid,isiOS:d.isiOS,isWebView:ee(Je),isDesktop:ee(Ht)}},Ep=(d,g)=>{for(let E=0;E<d.length;E++){const O=d[E];if(O.test(g))return O}},hs=(d,g)=>{const E=Ep(d,g);if(!E)return{major:0,minor:0};const O=B=>Number(g.replace(E,"$"+B));return Nc(O(1),O(2))},Qc=(d,g)=>{const E=String(g).toLowerCase();return d.length===0?Ne():hs(d,E)},Ne=()=>Nc(0,0),Nc=(d,g)=>({major:d,minor:g}),_a={nu:Nc,detect:Qc,unknown:Ne},Ih=(d,g)=>va(g.brands,E=>{const O=E.brand.toLowerCase();return X(d,B=>{var W;return O===((W=B.brand)===null||W===void 0?void 0:W.toLowerCase())}).map(B=>({current:B.name,version:_a.nu(parseInt(E.version,10),0)}))}),Og=(d,g)=>{const E=String(g).toLowerCase();return X(d,O=>O.search(E))},zv=(d,g)=>Og(d,g).map(E=>{const O=_a.detect(E.versionRegexes,g);return{current:E.name,version:O}}),es=(d,g)=>Og(d,g).map(E=>{const O=_a.detect(E.versionRegexes,g);return{current:E.name,version:O}}),at=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,$t=d=>g=>eo(g,d),Dt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:d=>eo(d,"edge/")&&eo(d,"chrome")&&eo(d,"safari")&&eo(d,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,at],search:d=>eo(d,"chrome")&&!eo(d,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:d=>eo(d,"msie")||eo(d,"trident")},{name:"Opera",versionRegexes:[at,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:$t("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:$t("firefox")},{name:"Safari",versionRegexes:[at,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:d=>(eo(d,"safari")||eo(d,"mobile/"))&&eo(d,"applewebkit")}],Yn=[{name:"Windows",search:$t("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:d=>eo(d,"iphone")||eo(d,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:$t("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:$t("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:$t("linux"),versionRegexes:[]},{name:"Solaris",search:$t("sunos"),versionRegexes:[]},{name:"FreeBSD",search:$t("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:$t("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],To={browsers:ee(Dt),oses:ee(Yn)},ts="Edge",Si="Chromium",Qs="IE",Kf="Opera",Jc="Firefox",Qa="Safari",Oe=()=>Be({current:void 0,version:_a.unknown()}),Be=d=>{const g=d.current,E=d.version,O=B=>()=>g===B;return{current:g,version:E,isEdge:O(ts),isChromium:O(Si),isIE:O(Qs),isOpera:O(Kf),isFirefox:O(Jc),isSafari:O(Qa)}},qe={unknown:Oe,nu:Be,edge:ee(ts),chromium:ee(Si),ie:ee(Qs),opera:ee(Kf),firefox:ee(Jc),safari:ee(Qa)},Vt="Windows",ft="iOS",xt="Android",Xt="Linux",An="macOS",Ln="Solaris",Co="FreeBSD",wo="ChromeOS",fo=()=>zo({current:void 0,version:_a.unknown()}),zo=d=>{const g=d.current,E=d.version,O=B=>()=>g===B;return{current:g,version:E,isWindows:O(Vt),isiOS:O(ft),isAndroid:O(xt),isMacOS:O(An),isLinux:O(Xt),isSolaris:O(Ln),isFreeBSD:O(Co),isChromeOS:O(wo)}},Ns={unknown:fo,nu:zo,windows:ee(Vt),ios:ee(ft),android:ee(xt),linux:ee(Xt),macos:ee(An),solaris:ee(Ln),freebsd:ee(Co),chromeos:ee(wo)},Ba={detect:(d,g,E)=>{const O=To.browsers(),B=To.oses(),W=g.bind(xe=>Ih(O,xe)).orThunk(()=>zv(O,d)).fold(qe.unknown,qe.nu),se=es(B,d).fold(Ns.unknown,Ns.nu),be=_p(se,W,d,E);return{browser:W,os:se,deviceType:be}}},Zr=d=>window.matchMedia(d).matches;let Fa=cf(()=>Ba.detect(navigator.userAgent,Te.from(navigator.userAgentData),Zr));const ur=()=>Fa(),ou=(d,g)=>{const E=(be,xe)=>{if(!fe(xe)&&!xe.match(/^[0-9]+$/))throw new Error(d+".set accepts only positive integer values. Value was "+xe);const Pe=be.dom;Jr(Pe)&&(Pe.style[d]=xe+"px")},O=be=>{const xe=g(be);if(xe<=0||xe===null){const Pe=mc(be,d);return parseFloat(Pe)||0}return xe},B=O,W=(be,xe)=>nt(xe,(Pe,Je)=>{const Ht=mc(be,Je),fn=Ht===void 0?0:parseInt(Ht,10);return isNaN(fn)?Pe:Pe+fn},0);return{set:E,get:O,getOuter:B,aggregate:W,max:(be,xe,Pe)=>{const Je=W(be,Pe);return xe>Je?xe-Je:0}}},js=(d,g)=>Er(d).getOr(g),ns=(d,g,E)=>js(mc(d,g),E),su=(d,g,E,O)=>{const B=ns(d,`padding-${E}`,0),W=ns(d,`padding-${O}`,0),se=ns(d,`border-${E}-width`,0),be=ns(d,`border-${O}-width`,0);return g-B-W-se-be},wp=(d,g)=>{const E=d.dom,O=E.getBoundingClientRect().width||E.offsetWidth;return g==="border-box"?O:su(d,O,"left","right")},S0=d=>ns(d,"height",d.dom.offsetHeight),Ja=d=>ns(d,"width",d.dom.offsetWidth),Tp=d=>wp(d,"content-box"),ru=ou("width",d=>d.dom.offsetWidth),Ml=d=>ru.get(d),Dh=d=>ru.getOuter(d),io=Tp,gc=Ja,ym=(d,g,E)=>{const O=d.cells,B=O.slice(0,g),W=O.slice(g),se=B.concat(E).concat(W);return Ha(d,se)},sb=(d,g,E)=>ym(d,g,[E]),xi=(d,g,E)=>{const O=d.cells;O[g]=E},Ha=(d,g)=>Au(d.element,g,d.section,d.isNew),el=(d,g)=>{const E=d.cells,O=Gt(E,g);return Au(d.element,O,d.section,d.isNew)},iu=(d,g)=>d.cells[g],oa=(d,g)=>iu(d,g).element,Nl=d=>d.cells.length,Ea=d=>{const g=Ho(d,E=>E.section==="colgroup");return{rows:g.fail,cols:g.pass}},Cp=(d,g,E)=>{const O=Gt(d.cells,E);return Au(g(d.element),O,d.section,!0)},bs="data-snooker-locked-cols",kl=d=>Zc(d,bs).bind(g=>Te.from(g.match(/\d+/g))).map(g=>Fn(g,He)),Iu=d=>{const g=nt(Ea(d).rows,(O,B)=>(Ze(B.cells,(W,se)=>{W.isLocked&&(O[se]=!0)}),O),{}),E=Or(g,(O,B)=>parseInt(B,10));return ko(E)},kr=(d,g)=>d+","+g,Sp=(d,g,E)=>Te.from(d.access[kr(g,E)]),_m=(d,g,E)=>{const O=lf(d,B=>E(g,B.element));return O.length>0?Te.some(O[0]):Te.none()},lf=(d,g)=>{const E=Rs(d.all,O=>O.cells);return lo(E,g)},dr=d=>{const g={};let E=0;return Ze(d.cells,O=>{const B=O.colspan;Kt(B,W=>{const se=E+W;g[se]=bp(O.element,B,se)}),E+=B}),g},Pr=d=>{const g={},E=[],B=Ge(d).map(rn=>rn.element).bind(Hi).bind(kl).getOr({});let W=0,se=0,be=0;const{pass:xe,fail:Pe}=Ho(d,rn=>rn.section==="colgroup");Ze(Pe,rn=>{const At=[];Ze(rn.cells,un=>{let Ct=0;for(;g[kr(be,Ct)]!==void 0;)Ct++;const Sn=Ls(B,Ct.toString()),oo=af(un.element,un.rowspan,un.colspan,be,Ct,Sn);for(let xo=0;xo<un.colspan;xo++)for(let Sr=0;Sr<un.rowspan;Sr++){const zc=be+Sr,Mi=Ct+xo,xd=kr(zc,Mi);g[xd]=oo,se=Math.max(se,Mi+1)}At.push(oo)}),W++,E.push(Rl(rn.element,At,rn.section)),be++});const{columns:Je,colgroups:Ht}=Gc(xe).map(rn=>{const At=dr(rn);return{colgroups:[Bs(rn.element,lr(At))],columns:At}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:fc(W,se),access:g,all:E,columns:Je,colgroups:Ht}},ye={fromTable:d=>{const g=$a(d);return Pr(g)},generate:Pr,getAt:Sp,findItem:_m,filterItems:lf,justCells:d=>Rs(d.all,g=>g.cells),justColumns:d=>lr(d.columns),hasColumns:d=>Dn(d.columns).length>0,getColumnAt:(d,g)=>Te.from(d.columns[g])},Qf=(d,g=He)=>{const E=d.grid,O=Kt(E.columns,ke),B=Kt(E.rows,ke);return Gt(O,W=>Em(()=>Rs(B,Pe=>ye.getAt(d,Pe,W).filter(Je=>Je.column===W).toArray()),Pe=>Pe.colspan===1&&g(Pe.element),()=>ye.getAt(d,0,W)))},Em=(d,g,E)=>{const O=d();return X(O,g).orThunk(()=>Te.from(O[0]).orThunk(E)).map(se=>se.element)},cu=d=>{const g=d.grid,E=Kt(g.rows,ke),O=Kt(g.columns,ke);return Gt(E,B=>Em(()=>Rs(O,xe=>ye.getAt(d,B,xe).filter(Pe=>Pe.row===B).fold(ee([]),Pe=>[Pe])),xe=>xe.rowspan===1,()=>ye.getAt(d,B,0)))},Js=(d,g)=>{if(g<0||g>=d.length-1)return Te.none();const E=d[g].fold(()=>{const B=Ia(d.slice(0,g));return va(B,(W,se)=>W.map(be=>({value:be,delta:se+1})))},B=>Te.some({value:B,delta:0})),O=d[g+1].fold(()=>{const B=d.slice(g+1);return va(B,(W,se)=>W.map(be=>({value:be,delta:se+1})))},B=>Te.some({value:B,delta:1}));return E.bind(B=>O.map(W=>{const se=W.delta+B.delta;return Math.abs(W.value-B.value)/se}))},rb=(d,g)=>E=>wm(E)==="rtl"?g:d,wm=d=>mc(d,"direction")==="rtl"?"rtl":"ltr",Uv=ou("height",d=>{const g=d.dom;return ui(d)?g.getBoundingClientRect().height:g.offsetHeight}),bc=d=>Uv.get(d),ib=d=>Uv.getOuter(d),Rg=S0,Wv=(d,g)=>({left:d,top:g,translate:(O,B)=>Wv(d+O,g+B)}),id=Wv,Gv=d=>{const g=d.getBoundingClientRect();return id(g.left,g.top)},ec=(d,g)=>d!==void 0?d:g!==void 0?g:0,Jf=d=>{const g=d.dom.ownerDocument,E=g.body,O=g.defaultView,B=g.documentElement;if(E===d.dom)return id(E.offsetLeft,E.offsetTop);const W=ec(O==null?void 0:O.pageYOffset,B.scrollTop),se=ec(O==null?void 0:O.pageXOffset,B.scrollLeft),be=ec(B.clientTop,E.clientTop),xe=ec(B.clientLeft,E.clientLeft);return ab(d).translate(se-xe,W-be)},ab=d=>{const g=d.dom,O=g.ownerDocument.body;return O===g?id(O.offsetLeft,O.offsetTop):ui(d)?Gv(g):id(0,0)},kh=(d,g)=>({row:d,y:g}),Ig=(d,g)=>({col:d,x:g}),Dg=d=>Jf(d).left+Dh(d),ad=d=>Jf(d).left,yc=(d,g)=>Ig(d,ad(g)),vl=(d,g)=>Ig(d,Dg(g)),Ai=d=>Jf(d).top,Va=(d,g)=>kh(d,Ai(g)),$n=(d,g)=>kh(d,Ai(g)+ib(g)),an=(d,g,E)=>{if(E.length===0)return[];const O=Gt(E.slice(1),(W,se)=>W.map(be=>d(se,be))),B=E[E.length-1].map(W=>g(E.length-1,W));return O.concat([B])},Tm=d=>-d,Pl={delta:ke,positions:d=>an(Va,$n,d),edge:Ai},uu=rb({delta:ke,edge:ad,positions:d=>an(yc,vl,d)},{delta:Tm,edge:Dg,positions:d=>an(vl,yc,d)}),du={delta:(d,g)=>uu(g).delta(d,g),positions:(d,g)=>uu(g).positions(d,g),edge:d=>uu(d).edge(d)},Mg={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Yr=(()=>{const d="[0-9]+",E="[eE]"+("[+-]?"+d),O="\\.",B=be=>`(?:${be})?`,se=`[+-]?(?:${["Infinity",d+O+B(d)+B(E),O+d+B(E),d+B(E)].join("|")})`;return new RegExp(`^(${se})(.*)$`)})(),eh=(d,g)=>rt(g,E=>rt(Mg[E],O=>d===O)),Cm=(d,g)=>Te.from(Yr.exec(d)).bind(O=>{const B=Number(O[1]),W=O[2];return eh(W,g)?Te.some({value:B,unit:W}):Te.none()}),Wt=/(\d+(\.\d+)?)%/,qv=/(\d+(\.\d+)?)px|em/,Zv=ci("col"),_c=(d,g,E)=>{const O=Ic(d).getOrThunk(()=>x(Ma(d)));return g(d)/E(O)*100},uf=(d,g)=>{ps(d,"width",g+"px")},th=(d,g)=>{ps(d,"width",g+"%")},Lr=(d,g)=>{ps(d,"height",g+"px")},cb=d=>Rg(d)+"px",Do=(d,g,E,O)=>{const B=Hi(d).map(W=>{const se=E(W);return Math.floor(g/100*se)}).getOr(g);return O(d,B),B},gs=(d,g,E,O)=>{const B=parseFloat(d);return Po(d,"%")&&Ws(g)!=="table"?Do(g,B,E,O):B},Oi=d=>{const g=cb(d);return g?gs(g,d,bc,Lr):bc(d)},mi=(d,g,E)=>{const O=E(d),B=Ka(d,g);return O/B},di=(d,g)=>La(d,g).orThunk(()=>Zc(d,g).map(E=>E+"px")),nh=d=>di(d,"width"),fi=d=>di(d,"height"),Ts=d=>_c(d,Ml,io),fu=d=>Zv(d)?Ml(d):gc(d),Rt=d=>mi(d,"rowspan",Oi),hu=d=>nh(d).bind(E=>Cm(E,["fixed","relative","empty"])),oh=(d,g,E)=>{ps(d,"width",g+E)},ti=d=>Ml(d)+"px",Du=d=>_c(d,Ml,io)+"%",kc=d=>nh(d).exists(g=>Wt.test(g)),bl=d=>nh(d).exists(g=>qv.test(g)),Yv=d=>nh(d).isNone(),Pc=ee(Wt),Ng=ci("col"),Ec=d=>nh(d).getOrThunk(()=>fu(d)+"px"),qo=d=>fi(d).getOrThunk(()=>Rt(d)+"px"),cd=d=>Gt(ye.justColumns(d),g=>Te.from(g.element)),tc=d=>{const g=ur().browser,E=g.isChromium()||g.isFirefox();return Ng(d)?E:!0},Kr=(d,g,E,O,B,W)=>d.filter(O).fold(()=>W(Js(E,g)),se=>B(se)),ld=(d,g,E,O)=>{const B=Qf(d),W=ye.hasColumns(d)?cd(d):B,se=[Te.some(du.edge(g))].concat(Gt(du.positions(B,g),xe=>xe.map(Pe=>Pe.x))),be=we(pc);return Gt(W,(xe,Pe)=>Kr(xe,Pe,se,be,Je=>{if(tc(Je))return E(Je);{const Ht=_r(B[Pe],ke);return Kr(Ht,Pe,se,be,fn=>O(Te.some(Ml(fn))),O)}},O))},nc=d=>d.map(g=>g+"px").getOr(""),lb=(d,g)=>ld(d,g,Ec,nc),oc=(d,g,E)=>ld(d,g,Ts,O=>O.fold(()=>E.minCellWidth(),B=>B/E.pixelWidth()*100)),sh=(d,g,E)=>ld(d,g,fu,O=>O.getOrThunk(E.minCellWidth)),tt=(d,g,E,O,B)=>{const W=cu(d),se=[Te.some(E.edge(g))].concat(Gt(E.positions(W,g),be=>be.map(xe=>xe.y)));return Gt(W,(be,xe)=>Kr(be,xe,se,we(na),O,B))},tl=(d,g,E)=>tt(d,g,E,Rt,O=>O.getOrThunk(Yf)),Ph=(d,g,E)=>tt(d,g,E,qo,nc),Mu=(d,g)=>()=>ui(d)?g(d):parseFloat(La(d,"width").getOr("0")),wc=d=>{const g=Mu(d,Ml),E=ee(0);return{width:g,pixelWidth:g,getWidths:(B,W)=>sh(B,d,W),getCellDelta:E,singleColumnWidth:ee([0]),minCellWidth:E,setElementWidth:ue,adjustTableWidth:ue,isRelative:!0,label:"none"}},wa=d=>{const g=Mu(d,xe=>parseFloat(Du(xe))),E=Mu(d,Ml);return{width:g,pixelWidth:E,getWidths:(xe,Pe)=>oc(xe,d,Pe),getCellDelta:xe=>xe/E()*100,singleColumnWidth:(xe,Pe)=>[100-xe],minCellWidth:()=>ya()/E()*100,setElementWidth:th,adjustTableWidth:xe=>{const Pe=g(),Je=xe/100*Pe,Ht=Pe+Je;th(d,Ht)},isRelative:!0,label:"percent"}},Vi=d=>{const g=Mu(d,Ml);return{width:g,pixelWidth:g,getWidths:(se,be)=>sh(se,d,be),getCellDelta:ke,singleColumnWidth:(se,be)=>[Math.max(ya(),se+be)-se],minCellWidth:ya,setElementWidth:uf,adjustTableWidth:se=>{const be=g()+se;uf(d,be)},isRelative:!1,label:"pixel"}},Kv=(d,g)=>Pc().exec(g)!==null?wa(d):Vi(d),Pd={getTableSize:d=>nh(d).fold(()=>wc(d),E=>Kv(d,E)),pixelSize:Vi,percentageSize:wa,noneSize:wc},Wn=(d,g,E,O,B,W)=>({minRow:d,minCol:g,maxRow:E,maxCol:O,allCells:B,selectedCells:W}),df=(d,g)=>{const E=d.grid.columns;let B=d.grid.rows,W=E,se=0,be=0;const xe=[],Pe=[];return Us(d.access,Je=>{if(xe.push(Je),g(Je)){Pe.push(Je);const Ht=Je.row,fn=Ht+Je.rowspan-1,rn=Je.column,At=rn+Je.colspan-1;Ht<B?B=Ht:fn>se&&(se=fn),rn<W?W=rn:At>be&&(be=At)}}),Wn(B,W,se,be,xe,Pe)},mu=(d,g,E)=>{const O=d[E].element,B=et.fromTag("td");Nr(B,et.fromTag("br")),(g?Nr:Yc)(O,B)},sa=(d,g,E,O)=>{const B=lo(d,be=>be.section!=="colgroup"),W=g.grid.columns,se=g.grid.rows;for(let be=0;be<se;be++){let xe=!1;for(let Pe=0;Pe<W;Pe++)be<E.minRow||be>E.maxRow||Pe<E.minCol||Pe>E.maxCol||(ye.getAt(g,be,Pe).filter(O).isNone()?mu(B,xe,be):xe=!0)}},Ap=(d,g,E,O)=>{Us(E.columns,se=>{(se.column<g.minCol||se.column>g.maxCol)&&Bi(se.element)});const B=lo(Ou(d,"tr"),se=>se.dom.childElementCount===0);Ze(B,Bi),(g.minCol===g.maxCol||g.minRow===g.maxRow)&&Ze(Ou(d,"th,td"),se=>{qr(se,"rowspan"),qr(se,"colspan")}),qr(d,bs),qr(d,"data-snooker-col-series"),Pd.getTableSize(d).adjustTableWidth(O)},yl=(d,g,E,O)=>{if(O.minCol===0&&g.grid.columns===O.maxCol+1)return 0;const B=sh(g,d,E),W=nt(B,(Pe,Je)=>Pe+Je,0),xe=nt(B.slice(O.minCol,O.maxCol+1),(Pe,Je)=>Pe+Je,0)/W*E.pixelWidth()-E.pixelWidth();return E.getCellDelta(xe)},kg=(d,g)=>{const E=fn=>Xi(fn.element,g),O=ml(d),B=$a(O),W=Pd.getTableSize(d),se=ye.generate(B),be=df(se,E),xe="th:not("+g+"),td:not("+g+")",Pe=bm(O,"th,td",fn=>Xi(fn,xe));Ze(Pe,Bi),sa(B,se,be,E);const Je=ye.fromTable(d),Ht=yl(d,Je,W,be);return Ap(O,be,se,Ht),O},Lh=" ",Tc=((d,g)=>{const E=W=>{if(!d(W))throw new Error("Can only get "+g+" value of a "+g+" node");return O(W).getOr("")},O=W=>d(W)?Te.from(W.dom.nodeValue):Te.none();return{get:E,getOption:O,set:(W,se)=>{if(!d(W))throw new Error("Can only set raw "+g+" value of a "+g+" node");W.dom.nodeValue=se}}})(Ju,"text"),_l=d=>Tc.get(d),Pg=d=>Tc.getOption(d),ub=(d,g)=>Tc.set(d,g),ud=d=>Ws(d)==="img"?1:Pg(d).fold(()=>$s(d).length,g=>g.length),Op=d=>Pg(d).filter(g=>g.trim().length!==0||g.indexOf(Lh)>-1).isSome(),Lg=d=>jn(d)&&Kl(d,"contenteditable")==="false",$h=["img","br"],Sm=d=>Op(d)||Nt($h,Ws(d))||Lg(d),ff=d=>qt(d,Sm),$g=d=>Bg(d,Sm),Bg=(d,g)=>{const E=O=>{const B=$s(O);for(let W=B.length-1;W>=0;W--){const se=B[W];if(g(se))return Te.some(se);const be=E(se);if(be.isSome())return be}return Te.none()};return E(d)},xs={scope:["row","col"]},hf=d=>()=>{const g=et.fromTag("td",d.dom);return Nr(g,et.fromTag("br",d.dom)),g},ra=d=>()=>et.fromTag("col",d.dom),Ll=d=>()=>et.fromTag("colgroup",d.dom),Bh=d=>()=>et.fromTag("tr",d.dom),rh=(d,g,E)=>{const O=vm(d,g);return Us(E,(B,W)=>{B===null?qr(O,W):vr(O,W,B)}),O},db=d=>d,ni=(d,g,E)=>ff(d).map(B=>{const W=E.join(","),se=oe(B,W,be=>Gs(be,d));return Vo(se,(be,xe)=>{const Pe=Kc(xe);return Nr(be,Pe),Pe},g)}).getOr(g),El=(d,g)=>{Us(xs,(E,O)=>Zc(d,O).filter(B=>Nt(E,B)).each(B=>vr(g,O,B)))},Fh=(d,g,E)=>{const O=(se,be)=>{Eo(se.element,be),gl(be,"height"),se.colspan!==1&&gl(be,"width")},B=se=>{const be=et.fromTag(Ws(se.element),g.dom),xe=E.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),Pe=xe.length>0?ni(se.element,be,xe):be;return Nr(Pe,et.fromTag("br")),O(se,be),El(se.element,be),d(se.element,be),be};return{col:se=>{const be=et.fromTag(Ws(se.element),g.dom);return O(se,be),d(se.element,be),be},colgroup:Ll(g),row:Bh(g),cell:B,replace:rh,colGap:ra(g),gap:hf(g)}},Ld=d=>({col:ra(d),colgroup:Ll(d),row:Bh(d),cell:hf(d),replace:db,colGap:ra(d),gap:hf(d)}),$d=(d,g)=>{const O=(g||document).createElement("div");return O.innerHTML=d,$s(et.fromDom(O))},mf=d=>Gt(d,et.fromDom),nl=d=>qn(d,"[contenteditable]"),zi=(d,g=!1)=>ui(d)?d.dom.isContentEditable:nl(d).fold(ee(g),E=>Fg(E)==="true"),Fg=d=>d.dom.contentEditable,ia=d=>et.fromDom(d.getBody()),$l=d=>g=>Gs(g,ia(d)),Lc=d=>{qr(d,"data-mce-style");const g=E=>qr(E,"data-mce-style");Ze(Ru(d),g),Ze(Rh(d),g),Ze(sd(d),g)},xm=d=>et.fromDom(d.selection.getStart()),pf=d=>d.getBoundingClientRect().width,Xv=d=>d.getBoundingClientRect().height,fb=(d,g)=>{const E=d.dom.getStyle(g,"width")||d.dom.getAttrib(g,"width");return Te.from(E).filter(Ds)},fr=d=>/^(\d+(\.\d+)?)%$/.test(d),Hg=d=>/^(\d+(\.\d+)?)px$/.test(d),$c=d=>ot(d,ci("table")).exists(zi),Vg=(d,g)=>{const E=g.column,O=g.column+g.colspan-1,B=g.row,W=g.row+g.rowspan-1;return E<=d.finishCol&&O>=d.startCol&&B<=d.finishRow&&W>=d.startRow},zg=(d,g)=>g.column>=d.startCol&&g.column+g.colspan-1<=d.finishCol&&g.row>=d.startRow&&g.row+g.rowspan-1<=d.finishRow,pu=(d,g)=>{let E=!0;const O=V(zg,g);for(let B=g.startRow;B<=g.finishRow;B++)for(let W=g.startCol;W<=g.finishCol;W++)E=E&&ye.getAt(d,B,W).exists(O);return E?Te.some(g):Te.none()},Fs=(d,g)=>od(Math.min(d.row,g.row),Math.min(d.column,g.column),Math.max(d.row+d.rowspan-1,g.row+g.rowspan-1),Math.max(d.column+d.colspan-1,g.column+g.colspan-1)),gf=(d,g,E)=>{const O=ye.findItem(d,g,Gs),B=ye.findItem(d,E,Gs);return O.bind(W=>B.map(se=>Fs(W,se)))},dd=(d,g,E)=>gf(d,g,E).bind(O=>pu(d,O)),Ug=(d,g,E,O)=>ye.findItem(d,g,Gs).bind(B=>{const W=E>0?B.row+B.rowspan-1:B.row,se=O>0?B.column+B.colspan-1:B.column;return ye.getAt(d,W+E,se+O).map(xe=>xe.element)}),Hh=(d,g,E)=>gf(d,g,E).map(O=>{const B=ye.filterItems(d,V(Vg,O));return Gt(B,W=>W.element)}),Rp=(d,g)=>{const E=(O,B)=>tf(B,O);return ye.findItem(d,g,E).map(O=>O.element)},Am=(d,g,E)=>Hi(d).bind(O=>{const B=vf(O);return Ug(B,d,g,E)}),hb=(d,g,E)=>{const O=vf(d);return Hh(O,g,E)},ol=(d,g,E,O,B)=>{const W=vf(d),se=Gs(d,E)?Te.some(g):Rp(W,g),be=Gs(d,B)?Te.some(O):Rp(W,O);return se.bind(xe=>be.bind(Pe=>Hh(W,xe,Pe)))},ku=(d,g,E)=>{const O=vf(d);return dd(O,g,E)},vf=ye.fromTable;var fd=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Pu=()=>{const d=Pe=>et.fromDom(Pe.dom.cloneNode(!1)),g=Pe=>Jl(Pe).dom,E=Pe=>dc(Pe)?Ws(Pe)==="body"?!0:Nt(fd,Ws(Pe)):!1,O=Pe=>dc(Pe)?Nt(["br","img","hr","input"],Ws(Pe)):!1,B=Pe=>dc(Pe)&&Kl(Pe,"contenteditable")==="false",W=(Pe,Je)=>Pe.dom.compareDocumentPosition(Je.dom),se=(Pe,Je)=>{const Ht=Al(Pe);Rc(Je,Ht)},be=Pe=>{const Je=Ws(Pe);return Nt(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Je)},xe=Pe=>dc(Pe)?Zc(Pe,"lang"):Te.none();return{up:ee({selector:st,closest:qn,predicate:$e,all:td}),down:ee({selector:Ee,predicate:q}),styles:ee({get:mc,getRaw:La,set:ps,remove:gl}),attrs:ee({get:Kl,set:vr,remove:qr,copyTo:se}),insert:ee({before:Md,after:hl,afterAll:us,append:Nr,appendAll:Na,prepend:Yc,wrap:eu}),remove:ee({unwrap:nd,remove:Bi}),create:ee({nu:et.fromTag,clone:d,text:et.fromText}),query:ee({comparePosition:W,prevSibling:Dc,nextSibling:nf}),property:ee({children:$s,name:Ws,parent:ed,document:g,isText:Ju,isComment:gr,isElement:dc,isSpecial:be,getLanguage:xe,getText:_l,setText:ub,isBoundary:E,isEmptyTag:O,isNonEditable:B}),eq:Gs,is:vp}};const Bl=(d,g,E,O)=>{const B=E[0],W=E.slice(1);return O(d,g,B,W)},Lu=(d,g,E)=>E.length>0?Bl(d,g,E,Om):Te.none(),Om=(d,g,E,O)=>{const B=g(d,E);return Vo(O,(W,se)=>{const be=g(d,se);return hd(d,W,be)},B)},hd=(d,g,E)=>g.bind(O=>E.filter(V(d.eq,O))),Qv=(d,g)=>V(d.eq,g),Vh=(d,g,E,O=It)=>{const B=[g].concat(d.up().all(g)),W=[E].concat(d.up().all(E)),se=Je=>fs(Je,O).fold(()=>Je,fn=>Je.slice(0,fn+1)),be=se(B),xe=se(W),Pe=X(be,Je=>rt(xe,Qv(d,Je)));return{firstpath:be,secondpath:xe,shared:Pe}},zh=Lu,Wg=Vh,Rm=Pu(),ls=(d,g)=>zh(Rm,(E,O)=>d(O),g),Nn=(d,g,E)=>Wg(Rm,d,g,E),md=d=>st(d,"table"),$u=(d,g,E)=>{const O=B=>W=>E!==void 0&&E(W)||Gs(W,B);return Gs(d,g)?Te.some({boxes:Te.some([d]),start:d,finish:g}):md(d).bind(B=>md(g).bind(W=>{if(Gs(B,W))return Te.some({boxes:hb(B,d,g),start:d,finish:g});if(tf(B,W)){const se=oe(g,"td,th",O(B)),be=se.length>0?se[se.length-1]:g;return Te.some({boxes:ol(B,d,B,g,W),start:d,finish:be})}else if(tf(W,B)){const se=oe(d,"td,th",O(W)),be=se.length>0?se[se.length-1]:d;return Te.some({boxes:ol(W,d,B,g,W),start:d,finish:be})}else return Nn(d,g).shared.bind(se=>qn(se,"table",E).bind(be=>{const xe=oe(g,"td,th",O(be)),Pe=xe.length>0?xe[xe.length-1]:g,Je=oe(d,"td,th",O(be)),Ht=Je.length>0?Je[Je.length-1]:d;return Te.some({boxes:ol(be,d,B,g,W),start:Ht,finish:Pe})}))}))},Im=(d,g)=>{const E=Ee(d,g);return E.length>0?Te.some(E):Te.none()},pd=(d,g)=>X(d,E=>Xi(E,g)),Jv=(d,g,E)=>no(d,g).bind(O=>no(d,E).bind(B=>ls(md,[O,B]).map(W=>({first:O,last:B,table:W})))),er=(d,g)=>st(d,"table").bind(E=>no(E,g).bind(O=>$u(O,d).bind(B=>B.boxes.map(W=>({boxes:W,start:B.start,finish:B.finish}))))),Bu=(d,g,E,O,B)=>pd(d,B).bind(W=>Am(W,g,E).bind(se=>er(se,O))),Gg=(d,g)=>Im(d,g),jg=(d,g,E)=>Jv(d,g,E).bind(O=>{const B=xe=>Gs(d,xe),W="thead,tfoot,tbody,table",se=st(O.first,W,B),be=st(O.last,W,B);return se.bind(xe=>be.bind(Pe=>Gs(xe,Pe)?ku(O.table,O.first,O.last):Te.none()))}),kt=ke,qg=d=>{const g=(O,B)=>Zc(O,B).exists(W=>parseInt(W,10)>1),E=O=>g(O,"rowspan")||g(O,"colspan");return d.length>0&&as(d,E)?Te.some(d):Te.none()},gd=(d,g,E)=>g.length<=1?Te.none():jg(d,E.firstSelectedSelector,E.lastSelectedSelector).map(O=>({bounds:O,cells:g})),ih="data-mce-selected",Ip="td["+ih+"],th["+ih+"]",bf="["+ih+"]",Dm="data-mce-first-selected",ah="td["+Dm+"],th["+Dm+"]",Mm="data-mce-last-selected",Ui="td["+Mm+"],th["+Mm+"]",wr=bf,Cc={selected:ih,selectedSelector:Ip,firstSelected:Dm,firstSelectedSelector:ah,lastSelected:Mm,lastSelectedSelector:Ui},vd=(d,g,E)=>({element:E,mergable:gd(g,d,Cc),unmergable:qg(d),selection:kt(d)}),gu=(d,g,E)=>({element:d,clipboard:g,generators:E}),re=(d,g,E,O)=>({selection:kt(d),clipboard:E,generators:O}),D=d=>Hi(d).bind(g=>Gg(g,Cc.firstSelectedSelector)).fold(ee(d),g=>g[0]),Z=d=>(g,E)=>{const O=Ws(g),B=O==="col"||O==="colgroup"?D(g):g;return qn(B,d,E)},Ae=Z("th,td,caption"),ze=Z("th,td"),yt=d=>mf(d.model.table.getSelectedCells()),St=d=>lo(yt(d),g=>Xi(g,Cc.selectedSelector)),Ut=d=>Hi(d[0]).map(g=>{const E=kg(g,wr);return Lc(E),[E]}),on=(d,g)=>Gt(g,E=>d.selection.serializer.serialize(E.dom,{})).join(""),ao=d=>Gt(d,g=>g.dom.innerText).join(""),Tn=(d,g)=>{d.on("BeforeGetContent",E=>{const O=B=>{E.preventDefault(),Ut(B).each(W=>{E.content=E.format==="text"?ao(W):on(d,W)})};if(E.selection===!0){const B=St(d);B.length>=1&&O(B)}}),d.on("BeforeSetContent",E=>{if(E.selection===!0&&E.paste===!0){const O=yt(d);Ge(O).each(B=>{Hi(B).each(W=>{const se=lo($d(E.content),xe=>Ws(xe)!=="meta"),be=ci("table");if(se.length===1&&be(se[0])){E.preventDefault();const xe=et.fromDom(d.getDoc()),Pe=Ld(xe),Je=gu(B,se[0],Pe);g.pasteCells(W,Je).each(()=>{d.focus()})}})})}})},ro=(d,g)=>({element:d,offset:g}),zt=(d,g,E)=>d.property().isText(g)&&d.property().getText(g).trim().length===0||d.property().isComment(g)?E(g).bind(O=>zt(d,O,E).orThunk(()=>Te.some(O))):Te.none(),os=(d,g)=>d.property().isText(g)?d.property().getText(g).length:d.property().children(g).length,oi=(d,g)=>{const E=zt(d,g,d.query().prevSibling).getOr(g);if(d.property().isText(E))return ro(E,os(d,E));const O=d.property().children(E);return O.length>0?oi(d,O[O.length-1]):ro(E,os(d,E))},So=oi,or=Pu(),sr=d=>So(or,d),Hs=(d,g)=>{pc(d)||hu(d).each(O=>{const B=O.value/2;oh(d,B,O.unit),oh(g,B,O.unit)})},Tr=d=>Gt(d,ee(0)),Uo=(d,g,E,O,B)=>B(d.slice(0,g)).concat(O).concat(B(d.slice(E))),hr=d=>(g,E,O,B)=>{if(d(O)){const W=Math.max(B,g[E]-Math.abs(O)),se=Math.abs(W-g[E]);return O>=0?se:-se}else return O},rr=hr(d=>d<0),aa=hr(He),ca=()=>{const d=(be,xe,Pe,Je,Ht)=>{const fn=rr(be,xe,Je,Ht);return Uo(be,xe,Pe+1,[fn,0],Tr)},g=(be,xe,Pe,Je)=>{const Ht=(100+Pe)/100,fn=Math.max(Je,(be[xe]+Pe)/Ht);return Gt(be,(rn,At)=>(At===xe?fn:rn/Ht)-rn)},E=(be,xe,Pe,Je,Ht,fn)=>fn?g(be,xe,Je,Ht):d(be,xe,Pe,Je,Ht);return{resizeTable:(be,xe)=>be(xe),clampTableDelta:rr,calcLeftEdgeDeltas:E,calcMiddleDeltas:(be,xe,Pe,Je,Ht,fn,rn)=>E(be,Pe,Je,Ht,fn,rn),calcRightEdgeDeltas:(be,xe,Pe,Je,Ht,fn)=>{if(fn)return g(be,Pe,Je,Ht);{const rn=rr(be,Pe,Je,Ht);return Tr(be.slice(0,Pe)).concat([rn])}},calcRedestributedWidths:(be,xe,Pe,Je)=>{if(Je){const fn=(xe+Pe)/xe,rn=Gt(be,At=>At/fn);return{delta:fn*100-100,newSizes:rn}}else return{delta:Pe,newSizes:be}}}},Wi=()=>{const d=(se,be,xe,Pe,Je)=>{const Ht=Pe>=0?xe:be,fn=aa(se,Ht,Pe,Je);return Uo(se,be,xe+1,[fn,-fn],Tr)};return{resizeTable:(se,be,xe)=>{xe&&se(be)},clampTableDelta:(se,be,xe,Pe,Je)=>{if(Je){if(xe>=0)return xe;{const Ht=nt(se,(fn,rn)=>fn+rn-Pe,0);return Math.max(-Ht,xe)}}else return rr(se,be,xe,Pe)},calcLeftEdgeDeltas:d,calcMiddleDeltas:(se,be,xe,Pe,Je,Ht)=>d(se,xe,Pe,Je,Ht),calcRightEdgeDeltas:(se,be,xe,Pe,Je,Ht)=>{if(Ht)return Tr(se);{const fn=Pe/se.length;return Gt(se,ee(fn))}},calcRedestributedWidths:(se,be,xe,Pe)=>({delta:0,newSizes:se})}},pi=d=>ye.fromTable(d).grid,Ta=ci("th"),Bc=d=>as(d,g=>Ta(g.element)),sl=(d,g)=>d&&g?"sectionCells":d?"section":"cells",Bd=d=>{const g=d.section==="thead",E=xn(Fl(d.cells),"th");return d.section==="tfoot"?{type:"footer"}:g||E?{type:"header",subType:sl(g,E)}:{type:"body"}},Fl=d=>{const g=lo(d,E=>Ta(E.element));return g.length===0?Te.some("td"):g.length===d.length?Te.some("th"):Te.none()},Fc=d=>{const g=Gt(d,B=>Bd(B).type),E=Nt(g,"header"),O=Nt(g,"footer");if(!E&&!O)return Te.some("body");{const B=Nt(g,"body");return E&&!B&&!O?Te.some("header"):!E&&!B&&O?Te.some("footer"):Te.none()}},gi=d=>va(d.all,g=>{const E=Bd(g);return E.type==="header"?Te.from(E.subType):Te.none()}),Ca=(d,g,E)=>Ji(E(d.element,g),!0,d.isLocked),rl=(d,g)=>d.section!==g?Au(d.element,d.cells,g,d.isNew):d,bd=()=>({transformRow:rl,transformCell:(d,g,E)=>{const O=E(d.element,g),B=Ws(O)!=="td"?Ag(O,"td"):O;return Ji(B,d.isNew,d.isLocked)}}),Nm=()=>({transformRow:rl,transformCell:Ca}),Fd=()=>({transformRow:(d,g)=>rl(d,g==="thead"?"tbody":g),transformCell:Ca}),Hl={getTableSectionType:(d,g)=>{const E=ye.fromTable(d);switch(gi(E).getOr(g)){case"section":return bd();case"sectionCells":return Nm();case"cells":return Fd()}},section:bd,sectionCells:Nm,cells:Fd,fallback:()=>({transformRow:ke,transformCell:Ca})},Gi=(d,g,E,O)=>{E===O?qr(d,g):vr(d,g,E)},Hu=(d,g,E)=>{Gc(he(d,g)).fold(()=>Yc(d,E),O=>hl(O,E))},Uh=(d,g)=>{const E=Pt(d,g).getOrThunk(()=>{const O=et.fromTag(g,Ma(d).dom);return g==="thead"?Hu(d,"caption,colgroup",O):g==="colgroup"?Hu(d,"caption",O):Nr(d,O),O});return Qi(E),E},Dp=(d,g)=>{const E=[],O=[],B=rn=>Gt(rn,At=>{At.isNew&&E.push(At.element);const un=At.element;return Qi(un),Ze(At.cells,Ct=>{Ct.isNew&&O.push(Ct.element),Gi(Ct.element,"colspan",Ct.colspan,1),Gi(Ct.element,"rowspan",Ct.rowspan,1),Nr(un,Ct.element)}),un}),W=rn=>Rs(rn,At=>Gt(At.cells,un=>(Gi(un.element,"span",un.colspan,1),un.element))),se=(rn,At)=>{const un=Uh(d,At),Sn=(At==="colgroup"?W:B)(rn);Na(un,Sn)},be=rn=>{Pt(d,rn).each(Bi)},xe=(rn,At)=>{rn.length>0?se(rn,At):be(At)},Pe=[],Je=[],Ht=[],fn=[];return Ze(g,rn=>{switch(rn.section){case"thead":Pe.push(rn);break;case"tbody":Je.push(rn);break;case"tfoot":Ht.push(rn);break;case"colgroup":fn.push(rn);break}}),xe(fn,"colgroup"),xe(Pe,"thead"),xe(Je,"tbody"),xe(Ht,"tfoot"),{newRows:E,newCells:O}},e1=d=>Gt(d,g=>{const E=Kc(g.element);return Ze(g.cells,O=>{const B=ml(O.element);Gi(B,"colspan",O.colspan,1),Gi(B,"rowspan",O.rowspan,1),Nr(E,B)}),E}),qs=(d,g)=>Gt(d,E=>iu(E,g)),x0=(d,g)=>d[g],t1=(d,g)=>{if(d.length===0)return 0;const E=d[0];return fs(d,B=>!g(E.element,B.element)).getOr(d.length)},A0=(d,g,E,O)=>{const B=x0(d,g),W=B.section==="colgroup",se=t1(B.cells.slice(E),O),be=W?1:t1(qs(d.slice(g),E),O);return{colspan:se,rowspan:be}},Zg=(d,g)=>{const E=Gt(d,B=>Gt(B.cells,It)),O=(B,W,se,be)=>{for(let xe=B;xe<B+se;xe++)for(let Pe=W;Pe<W+be;Pe++)E[xe][Pe]=!0};return Gt(d,(B,W)=>{const se=Rs(B.cells,(be,xe)=>{if(E[W][xe]===!1){const Pe=A0(d,W,xe,g);return O(W,xe,Pe.rowspan,Pe.colspan),[rf(be.element,Pe.rowspan,Pe.colspan,be.isNew)]}else return[]});return Ti(B.element,se,B.section,B.isNew)})},Wh=(d,g,E)=>{const O=[];Ze(d.colgroups,B=>{const W=[];for(let se=0;se<d.grid.columns;se++){const be=ye.getColumnAt(d,se).map(xe=>Ji(xe.element,E,!1)).getOrThunk(()=>Ji(g.colGap(),!0,!1));W.push(be)}O.push(Au(B.element,W,"colgroup",E))});for(let B=0;B<d.grid.rows;B++){const W=[];for(let xe=0;xe<d.grid.columns;xe++){const Pe=ye.getAt(d,B,xe).map(Je=>Ji(Je.element,E,Je.isLocked)).getOrThunk(()=>Ji(g.gap(),!0,!1));W.push(Pe)}const se=d.all[B],be=Au(se.element,W,se.section,E);O.push(be)}return O},Hd=(d,g)=>Wh(d,g,!1),Ri=d=>Zg(d,Gs),yf=(d,g)=>va(d.all,E=>X(E.cells,O=>Gs(g,O.element))),_f=(d,g,E)=>{const O=Gt(g.selection,W=>Il(W).bind(se=>yf(d,se)).filter(E)),B=yr(O);return ws(B.length>0,B)},Xr=(d,g,E,O,B)=>(W,se,be,xe)=>{const Pe=ye.fromTable(W),Je=Te.from(xe==null?void 0:xe.section).getOrThunk(Hl.fallback);return g(Pe,se).map(fn=>{const rn=Hd(Pe,be),At=d(rn,fn,Gs,B(be),Je),un=Iu(At.grid),Ct=Ri(At.grid);return{info:fn,grid:Ct,cursor:At.cursor,lockedColumns:un}}).bind(fn=>{const rn=Dp(W,fn.grid),At=Te.from(xe==null?void 0:xe.sizing).getOrThunk(()=>Pd.getTableSize(W)),un=Te.from(xe==null?void 0:xe.resize).getOrThunk(Wi);return E(W,fn.grid,fn.info,{sizing:At,resize:un,section:Je}),O(W),qr(W,bs),fn.lockedColumns.length>0&&vr(W,bs,fn.lockedColumns.join(",")),Te.some({cursor:fn.cursor,newRows:rn.newRows,newCells:rn.newCells})})},Mp=(d,g)=>Il(g.element).bind(E=>yf(d,E).map(O=>({...O,generators:g.generators,clipboard:g.clipboard}))),km=(d,g)=>_f(d,g,He).map(E=>({cells:E,generators:g.generators,clipboard:g.clipboard})),mb=(d,g)=>g.mergable,n1=(d,g)=>g.unmergable,Ef=(d,g)=>_f(d,g,He),Vd=(d,g)=>_f(d,g,E=>!E.isLocked),Np=(d,g)=>yf(d,g).exists(E=>!E.isLocked),O_=(d,g)=>as(g,E=>Np(d,E)),bx=(d,g)=>mb(d,g).filter(E=>O_(d,E.cells)),wf=(d,g)=>n1(d,g).filter(E=>O_(d,E)),ks=(d,g,E,O)=>{const B=Ea(d).rows;if(B.length===0)return d;for(let W=g.startRow;W<=g.finishRow;W++)for(let se=g.startCol;se<=g.finishCol;se++){const be=B[W],xe=iu(be,se).isLocked;xi(be,se,Ji(O(),!1,xe))}return d},R_=(d,g,E,O)=>{const B=Ea(d).rows;let W=!0;for(let se=0;se<B.length;se++)for(let be=0;be<Nl(B[0]);be++){const xe=B[se],Pe=iu(xe,be),Je=Pe.element,Ht=E(Je,g);Ht&&!W?xi(xe,be,Ji(O(),!0,Pe.isLocked)):Ht&&(W=!1)}return d},Zs=(d,g)=>nt(d,(E,O)=>rt(E,B=>g(B.element,O.element))?E:E.concat([O]),[]),Sa=(d,g,E,O)=>(g>0&&g<d[0].cells.length&&Ze(d,B=>{const W=B.cells[g-1];let se=0;const be=O();for(;B.cells.length>g+se&&E(W.element,B.cells[g+se].element);)xi(B,g+se,Ji(be,!0,B.cells[g+se].isLocked)),se++}),d),yd=(d,g,E,O)=>{const B=Ea(d).rows;if(g>0&&g<B.length){const W=B[g-1].cells,se=Zs(W,E);Ze(se,be=>{let xe=Te.none();for(let Pe=g;Pe<B.length;Pe++)for(let Je=0;Je<Nl(B[0]);Je++){const Ht=B[Pe],fn=iu(Ht,Je);E(fn.element,be.element)&&(xe.isNone()&&(xe=Te.some(O())),xe.each(At=>{xi(Ht,Je,Ji(At,!0,fn.isLocked))}))}})}return d},Tl=d=>{const g=W=>W(d),E=ee(d),O=()=>B,B={tag:!0,inner:d,fold:(W,se)=>se(d),isValue:He,isError:It,map:W=>Gh.value(W(d)),mapError:O,bind:g,exists:g,forall:g,getOr:E,or:O,getOrThunk:E,orThunk:O,getOrDie:E,each:W=>{W(d)},toOptional:()=>Te.some(d)};return B},Pm=d=>{const g=()=>E,E={tag:!1,inner:d,fold:(O,B)=>O(d),isValue:It,isError:He,map:g,mapError:O=>Gh.error(O(d)),bind:g,exists:It,forall:He,getOr:ke,or:ke,getOrThunk:bt,orThunk:bt,getOrDie:Ue(String(d)),each:ue,toOptional:Te.none};return E},Gh={value:Tl,error:Pm,fromOption:(d,g)=>d.fold(()=>Pm(g),Tl)},Vu=(d,g,E)=>{if(d.row>=g.length||d.column>Nl(g[0]))return Gh.error("invalid start address out of table bounds, row: "+d.row+", column: "+d.column);const O=g.slice(d.row),B=O[0].cells.slice(d.column),W=Nl(E[0]),se=E.length;return Gh.value({rowDelta:O.length-se,colDelta:B.length-W})},zd=(d,g)=>{const E=Nl(d[0]),O=Nl(g[0]);return{rowDelta:0,colDelta:E-O}},Lm=(d,g)=>{const E=d.length,O=g.length;return{rowDelta:E-O,colDelta:0}},o1=(d,g,E,O)=>{const B=g.section==="colgroup"?E.col:E.cell;return Kt(d,W=>Ji(B(),!0,O(W)))},O0=(d,g,E,O)=>{const B=d[d.length-1];return d.concat(Kt(g,()=>{const W=B.section==="colgroup"?E.colgroup:E.row,se=Cp(B,W,ke),be=o1(se.cells.length,se,E,xe=>ii(O,xe.toString()));return Ha(se,be)}))},I_=(d,g,E,O)=>Gt(d,B=>{const W=o1(g,B,E,It);return ym(B,O,W)}),D_=(d,g,E)=>Gt(d,O=>nt(E,(B,W)=>{const se=o1(1,O,g,He)[0];return sb(B,W,se)},O)),Kg=(d,g,E)=>{const O=g.colDelta<0?I_:ke,B=g.rowDelta<0?O0:ke,W=Iu(d),se=Nl(d[0]),be=rt(W,Je=>Je===se-1),xe=O(d,Math.abs(g.colDelta),E,be?se-1:se),Pe=Iu(xe);return B(xe,Math.abs(g.rowDelta),E,Fn(Pe,He))},R0=(d,g,E,O)=>{const B=iu(d[g],E),W=V(O,B.element),se=d[g];return d.length>1&&Nl(se)>1&&(E>0&&W(oa(se,E-1))||E<se.cells.length-1&&W(oa(se,E+1))||g>0&&W(oa(d[g-1],E))||g<d.length-1&&W(oa(d[g+1],E)))},qw=(d,g,E,O,B,W)=>{const se=d.row,be=d.column,xe=E.length,Pe=Nl(E[0]),Je=se+xe,Ht=be+Pe+W.length,fn=Fn(W,He);for(let rn=se;rn<Je;rn++){let At=0;for(let un=be;un<Ht;un++){if(fn[un]){At++;continue}R0(g,rn,un,B)&&R_(g,oa(g[rn],un),B,O.cell);const Ct=un-be-At,Sn=iu(E[rn-se],Ct),oo=Sn.element,xo=O.replace(oo);xi(g[rn],un,Ji(xo,!0,Sn.isLocked))}}return g},Zw=(d,g,E)=>{const O=Nl(g[0]),B=Ea(g).cols.length+d.row,W=Kt(O-d.column,be=>be+d.column),se=X(W,be=>as(E,xe=>xe!==be)).getOr(O-1);return{row:B,column:se}},M_=(d,g,E)=>lo(E,O=>O>=d.column&&O<=Nl(g[0])+d.column),N_=(d,g,E,O,B)=>{const W=Iu(g),se=Zw(d,g,W),be=Ea(E).rows,xe=M_(se,be,W);return Vu(se,g,be).map(Je=>{const Ht={...Je,colDelta:Je.colDelta-xe.length},fn=Kg(g,Ht,O),rn=Iu(fn),At=M_(se,be,rn);return qw(se,fn,be,O,B,At)})},I0=(d,g,E,O,B)=>{Sa(g,d,B,O.cell);const W=Lm(E,g),se=Kg(E,W,O),be=Lm(g,se),xe=Kg(g,be,O);return Gt(xe,(Pe,Je)=>ym(Pe,d,se[Je].cells))},k_=(d,g,E,O,B)=>{yd(g,d,B,O.cell);const W=Iu(g),se=zd(g,E),be={...se,colDelta:se.colDelta-W.length},xe=Kg(g,be,O),{cols:Pe,rows:Je}=Ea(xe),Ht=Iu(xe),fn=zd(E,g),rn={...fn,colDelta:fn.colDelta+Ht.length},At=D_(E,O,Ht),un=Kg(At,rn,O);return[...Pe,...Je.slice(0,d),...un,...Je.slice(d,Je.length)]},Yw=(d,g,E,O)=>Cp(d,B=>O(B,E),g),D0=(d,g,E,O,B)=>{const{rows:W,cols:se}=Ea(d),be=W.slice(0,g),xe=W.slice(g),Pe=Yw(W[E],(Je,Ht)=>g>0&&g<W.length&&O(oa(W[g-1],Ht),oa(W[g],Ht))?iu(W[g],Ht):Ji(B(Je.element,O),!0,Je.isLocked),O,B);return[...se,...be,Pe,...xe]},kp=(d,g,E,O,B,W,se)=>{if(E==="colgroup"||!O){const be=iu(d,B);return Ji(se(be.element,W),!0,!1)}else return iu(d,g)},M0=(d,g,E,O,B)=>Gt(d,W=>{const se=g>0&&g<Nl(W)&&O(oa(W,g-1),oa(W,g)),be=kp(W,g,W.section,se,E,O,B);return sb(W,g,be)}),Kw=(d,g)=>Rs(d,E=>{const O=E.cells,B=Vo(g,(W,se)=>se>=0&&se<W.length?W.slice(0,se).concat(W.slice(se+1)):W,O);return B.length>0?[Au(E.element,B,E.section,E.isNew)]:[]}),Xw=(d,g,E)=>{const{rows:O,cols:B}=Ea(d);return[...B,...O.slice(0,g),...O.slice(E+1)]},P_=(d,g,E,O)=>oa(d[g],E)!==void 0&&g>0&&O(oa(d[g-1],E),oa(d[g],E)),$r=(d,g,E)=>g>0&&E(oa(d,g-1),oa(d,g)),ch=(d,g,E,O)=>P_(d,g,E,O)||$r(d[g],E,O),$m=(d,g)=>as(g,ke)&&Bc(d.cells)?He:(O,B,W)=>!(Ws(O.element)==="th"&&g[W]),L_=(d,g)=>as(g,ke)&&Bc(d)?He:(O,B,W)=>!(Ws(O.element)==="th"&&g[B]),pb=(d,g,E,O)=>{const B=se=>se==="row"?na(g):pc(g),W=se=>B(se)?`${se}group`:se;return d?Ta(g)?W(E):null:O&&Ta(g)?W(E==="row"?"col":"row"):null},Hc=(d,g)=>(E,O,B)=>Te.some(pb(d,E.element,"col",g[B])),Vl=(d,g)=>(E,O)=>Te.some(pb(d,E.element,"row",g[O])),Pp=(d,g,E)=>Ji(E(d.element,g),!0,d.isLocked),gb=(d,g,E,O,B,W,se)=>{const be=xe=>rt(g,Pe=>E(xe.element,Pe.element));return Gt(d,(xe,Pe)=>el(xe,(Je,Ht)=>{if(be(Je)){const fn=se(Je,Pe,Ht)?B(Je,E,O):Je;return W(fn,Pe,Ht).each(rn=>{ef(fn.element,{scope:Te.from(rn)})}),fn}else return Je}))},N0=(d,g,E)=>Rs(d,(O,B)=>ch(d,B,g,E)?[]:[iu(O,g)]),$_=(d,g,E)=>{const O=d[g];return Rs(O.cells,(B,W)=>ch(d,g,W,E)?[]:[B])},k0=(d,g,E,O,B)=>{const W=Ea(d).rows,se=Rs(g,Je=>N0(W,Je,O)),be=Gt(W,Je=>Bc(Je.cells)),xe=L_(se,be),Pe=Vl(E,be);return gb(d,se,O,B,Pp,Pe,xe)},B_=(d,g,E,O,B,W,se)=>{const{cols:be,rows:xe}=Ea(d),Pe=xe[g[0]],Je=Rs(g,Ct=>$_(xe,Ct,B)),Ht=Gt(Pe.cells,(Ct,Sn)=>Bc(N0(xe,Sn,B))),fn=[...xe];Ze(g,Ct=>{fn[Ct]=se.transformRow(xe[Ct],E)});const rn=[...be,...fn],At=$m(Pe,Ht),un=Hc(O,Ht);return gb(rn,Je,B,W,se.transformCell,un,At)},vu=(d,g,E,O)=>{const B=Ea(d).rows,W=Gt(g,se=>iu(B[se.row],se.column));return gb(d,W,E,O,Pp,Te.none,He)},Ur={generate:d=>{if(!P(d))throw new Error("cases must be an array");if(d.length===0)throw new Error("there must be at least one case");const g=[],E={};return Ze(d,(O,B)=>{const W=Dn(O);if(W.length!==1)throw new Error("one and only one name per case");const se=W[0],be=O[se];if(E[se]!==void 0)throw new Error("duplicate key detected:"+se);if(se==="cata")throw new Error("cannot have a case named cata (sorry)");if(!P(be))throw new Error("case arguments must be an array");g.push(se),E[se]=(...xe)=>{const Pe=xe.length;if(Pe!==be.length)throw new Error("Wrong number of arguments to case "+se+". Expected "+be.length+" ("+be+"), got "+Pe);return{fold:(...Ht)=>{if(Ht.length!==d.length)throw new Error("Wrong number of arguments to fold. Expected "+d.length+", got "+Ht.length);return Ht[B].apply(null,xe)},match:Ht=>{const fn=Dn(Ht);if(g.length!==fn.length)throw new Error("Wrong number of arguments to match. Expected: "+g.join(",")+`
Actual: `+fn.join(","));if(!as(g,At=>Nt(fn,At)))throw new Error("Not all branches were specified when using match. Specified: "+fn.join(", ")+`
Required: `+g.join(", "));return Ht[se].apply(null,xe)},log:Ht=>{console.log(Ht,{constructors:g,constructor:se,params:xe})}}}}),E}},Tf={...Ur.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},Qw=(d,g)=>d.length===0?Tf.none():d.length===1?Tf.only(0):g===0?Tf.left(0,1):g===d.length-1?Tf.right(g-1,g):g>0&&g<d.length-1?Tf.middle(g-1,g,g+1):Tf.none(),F_=(d,g,E,O,B)=>{const W=d.slice(0),se=Qw(d,g),be=ee(Gt(W,ee(0))),xe=fn=>O.singleColumnWidth(W[fn],E),Pe=(fn,rn)=>B.calcLeftEdgeDeltas(W,fn,rn,E,O.minCellWidth(),O.isRelative),Je=(fn,rn,At)=>B.calcMiddleDeltas(W,fn,rn,At,E,O.minCellWidth(),O.isRelative),Ht=(fn,rn)=>B.calcRightEdgeDeltas(W,fn,rn,E,O.minCellWidth(),O.isRelative);return se.fold(be,xe,Pe,Je,Ht)},P0=(d,g,E)=>{let O=0;for(let B=d;B<g;B++)O+=E[B]!==void 0?E[B]:0;return O},Lp=(d,g)=>{const E=ye.justCells(d);return Gt(E,O=>{const B=P0(O.column,O.column+O.colspan,g);return{element:O.element,width:B,colspan:O.colspan}})},L0=(d,g)=>{const E=ye.justColumns(d);return Gt(E,(O,B)=>({element:O.element,width:g[B],colspan:O.colspan}))},Xg=(d,g)=>{const E=ye.justCells(d);return Gt(E,O=>{const B=P0(O.row,O.row+O.rowspan,g);return{element:O.element,height:B,rowspan:O.rowspan}})},$p=(d,g)=>Gt(d.all,(E,O)=>({element:E.element,height:g[O]})),Jw=d=>Vo(d,(g,E)=>g+E,0),s1=(d,g)=>ye.hasColumns(d)?L0(d,g):Lp(d,g),r1=(d,g,E)=>{const O=s1(d,g);Ze(O,B=>{E.setElementWidth(B.element,B.width)})},$0=(d,g,E,O,B)=>{const W=ye.fromTable(d),se=B.getCellDelta(g),be=B.getWidths(W,B),xe=E===W.grid.columns-1,Pe=O.clampTableDelta(be,E,se,B.minCellWidth(),xe),Je=F_(be,E,Pe,B,O),Ht=Gt(Je,(fn,rn)=>fn+be[rn]);r1(W,Ht,B),O.resizeTable(B.adjustTableWidth,Pe,xe)},vb=(d,g,E,O)=>{const B=ye.fromTable(d),W=tl(B,d,O),se=Gt(W,(Je,Ht)=>E===Ht?Math.max(g+Je,Yf()):Je),be=Xg(B,se),xe=$p(B,se);Ze(xe,Je=>{Lr(Je.element,Je.height)}),Ze(be,Je=>{Lr(Je.element,Je.height)});const Pe=Jw(se);Lr(d,Pe)},Qg=(d,g,E,O,B)=>{const W=ye.generate(g),se=O.getWidths(W,O),be=O.pixelWidth(),{newSizes:xe,delta:Pe}=B.calcRedestributedWidths(se,be,E.pixelDelta,O.isRelative);r1(W,xe,O),O.adjustTableWidth(Pe)},bb=(d,g,E,O)=>{const B=ye.generate(g),W=O.getWidths(B,O);r1(B,W,O)},Bm=d=>nt(d,(E,O)=>rt(E,W=>W.column===O.column)?E:E.concat([O]),[]).sort((E,O)=>E.column-O.column),Jg=ci("col"),H_=ci("colgroup"),V_=d=>Ws(d)==="tr"||H_(d),i1=d=>{const g=ei(d,"colspan",1),E=ei(d,"rowspan",1);return{element:d,colspan:g,rowspan:E}},Cf=(d,g=i1)=>{const E=be=>Jg(be.element)?d.col(be):d.cell(be),O=be=>H_(be.element)?d.colgroup(be):d.row(be),B=be=>{if(V_(be))return O({element:be});{const xe=be,Pe=E(g(xe));return W=Te.some({item:xe,replacement:Pe}),Pe}};let W=Te.none();return{getOrInit:(be,xe)=>W.fold(()=>B(be),Pe=>xe(be,Pe.item)?Pe.replacement:B(be))}},_d=d=>g=>{const E=[],O=(se,be)=>X(E,xe=>be(xe.item,se)),B=se=>{const be=d==="td"?{scope:null}:{},xe=g.replace(se,d,be);return E.push({item:se,sub:xe}),xe};return{replaceOrInit:(se,be)=>{if(V_(se)||Jg(se))return se;{const xe=se;return O(xe,be).fold(()=>B(xe),Pe=>be(se,Pe.item)?Pe.sub:B(xe))}}}},a1=d=>Zc(d,"scope").map(g=>g.substr(0,3)),Br={modification:Cf,transform:_d,merging:d=>({unmerge:O=>{const B=a1(O);return B.each(W=>vr(O,"scope",W)),()=>{const W=d.cell({element:O,colspan:1,rowspan:1});return gl(W,"width"),gl(O,"width"),B.each(se=>vr(W,"scope",se)),W}},merge:O=>{const B=()=>{const W=yr(Gt(O,a1));if(W.length===0)return Te.none();{const se=W[0],be=["row","col"];return rt(W,Pe=>Pe!==se&&Nt(be,Pe))?Te.none():Te.from(se)}};return gl(O[0],"width"),B().fold(()=>qr(O[0],"scope"),W=>vr(O[0],"scope",W+"group")),ee(O[0])}})},Bp=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],B0=(d,g)=>{const E=d.property().name(g);return Nt(["ol","ul"],E)},mr=(d,g)=>{const E=d.property().name(g);return Nt(Bp,E)},Ud=(d,g)=>Nt(["br","img","hr","input"],d.property().name(g)),c1=Pu(),xa=d=>mr(c1,d),Wd=d=>B0(c1,d),F0=d=>Ud(c1,d),z_=d=>{const g=ci("br"),E=xe=>as(xe,Pe=>g(Pe)||Ju(Pe)&&_l(Pe).trim().length===0),O=xe=>Ws(xe)==="li"||$e(xe,Wd).isSome(),B=xe=>nf(xe).map(Pe=>xa(Pe)?!0:F0(Pe)?Ws(Pe)!=="img":!1).getOr(!1),W=xe=>$g(xe).bind(Pe=>{const Je=B(Pe);return ed(Pe).map(Ht=>Je===!0||O(Ht)||g(Pe)||xa(Ht)&&!Gs(xe,Ht)?[]:[et.fromTag("br")])}).getOr([]),be=(()=>{const xe=Rs(d,Pe=>{const Je=$s(Pe);return E(Je)?[]:Je.concat(W(Pe))});return xe.length===0?[et.fromTag("br")]:xe})();Qi(d[0]),Na(d[0],be)},yb=d=>zi(d,!0),Fp=d=>{Ru(d).length===0&&Bi(d)},Fm=(d,g)=>({grid:d,cursor:g}),_b=d=>va(d,g=>va(g.cells,E=>{const O=E.element;return ws(yb(O),O)})),l1=(d,g,E)=>{var O,B;const W=Ea(d).rows;return Te.from((B=(O=W[g])===null||O===void 0?void 0:O.cells[E])===null||B===void 0?void 0:B.element).filter(yb).orThunk(()=>_b(W))},il=(d,g,E)=>{const O=l1(d,g,E);return Fm(d,O)},u1=d=>nt(d,(E,O)=>rt(E,W=>W.row===O.row)?E:E.concat([O]),[]).sort((E,O)=>E.row-O.row),H0=(d,g,E,O)=>{const B=g[0].row,W=u1(g),se=Vo(W,(be,xe)=>({grid:D0(be.grid,B,xe.row+be.delta,E,O.getOrInit),delta:be.delta+1}),{grid:d,delta:0}).grid;return il(se,B,g[0].column)},d1=(d,g,E,O)=>{const B=u1(g),W=B[B.length-1],se=W.row+W.rowspan,be=Vo(B,(xe,Pe)=>D0(xe,se,Pe.row,E,O.getOrInit),d);return il(be,se,g[0].column)},qh=(d,g,E,O)=>{const B=g.details,W=Bm(B),se=W[0].column,be=Vo(W,(xe,Pe)=>({grid:M0(xe.grid,se,Pe.column+xe.delta,E,O.getOrInit),delta:xe.delta+1}),{grid:d,delta:0}).grid;return il(be,B[0].row,se)},al=(d,g,E,O)=>{const B=g.details,W=B[B.length-1],se=W.column+W.colspan,be=Bm(B),xe=Vo(be,(Pe,Je)=>M0(Pe,se,Je.column,E,O.getOrInit),d);return il(xe,B[0].row,se)},eT=(d,g,E,O)=>{const B=Bm(g),W=Gt(B,be=>be.column),se=k0(d,W,!0,E,O.replaceOrInit);return il(se,g[0].row,g[0].column)},za=(d,g,E,O)=>{const B=vu(d,g,E,O.replaceOrInit);return il(B,g[0].row,g[0].column)},Eb=(d,g,E,O)=>{const B=Bm(g),W=Gt(B,be=>be.column),se=k0(d,W,!1,E,O.replaceOrInit);return il(se,g[0].row,g[0].column)},uh=(d,g,E,O)=>{const B=vu(d,g,E,O.replaceOrInit);return il(B,g[0].row,g[0].column)},f1=(d,g)=>(E,O,B,W,se)=>{const be=u1(O),xe=Gt(be,Je=>Je.row),Pe=B_(E,xe,d,g,B,W.replaceOrInit,se);return il(Pe,O[0].row,O[0].column)},U_=f1("thead",!0),V0=f1("tbody",!1),z0=f1("tfoot",!1),U0=(d,g,E,O)=>{const B=Bm(g.details),W=Kw(d,Gt(B,be=>be.column)),se=W.length>0?W[0].cells.length-1:0;return il(W,B[0].row,Math.min(B[0].column,se))},W0=(d,g,E,O)=>{const B=u1(g),W=Xw(d,B[0].row,B[B.length-1].row),se=W.length>0?W.length-1:0;return il(W,Math.min(g[0].row,se),g[0].column)},W_=(d,g,E,O)=>{const B=g.cells;z_(B);const W=ks(d,g.bounds,E,O.merge(B));return Fm(W,Te.from(B[0]))},tT=(d,g,E,O)=>{const W=Vo(g,(se,be)=>R_(se,be,E,O.unmerge(be)),d);return Fm(W,Te.from(g[0]))},Ua=(d,g,E,O)=>{const W=((xe,Pe)=>{const Je=ye.fromTable(xe);return Wh(Je,Pe,!0)})(g.clipboard,g.generators),se=Mc(g.row,g.column);return N_(se,d,W,g.generators,E).fold(()=>Fm(d,Te.some(g.element)),xe=>il(xe,g.row,g.column))},la=(d,g,E)=>{const O=rd(d,E.section),B=ye.generate(O);return Wh(B,g,!0)},Cl=(d,g,E,O)=>{const B=Ea(d).rows,W=g.cells[0].column,se=B[g.cells[0].row],be=la(g.clipboard,g.generators,se),xe=I0(W,d,be,g.generators,E);return il(xe,g.cells[0].row,g.cells[0].column)},bu=(d,g,E,O)=>{const B=Ea(d).rows,W=g.cells[g.cells.length-1].column+g.cells[g.cells.length-1].colspan,se=B[g.cells[0].row],be=la(g.clipboard,g.generators,se),xe=I0(W,d,be,g.generators,E);return il(xe,g.cells[0].row,g.cells[0].column)},Vs=(d,g,E,O)=>{const B=Ea(d).rows,W=g.cells[0].row,se=B[W],be=la(g.clipboard,g.generators,se),xe=k_(W,d,be,g.generators,E);return il(xe,g.cells[0].row,g.cells[0].column)},sc=(d,g,E,O)=>{const B=Ea(d).rows,W=g.cells[g.cells.length-1].row+g.cells[g.cells.length-1].rowspan,se=B[g.cells[0].row],be=la(g.clipboard,g.generators,se),xe=k_(W,d,be,g.generators,E);return il(xe,g.cells[0].row,g.cells[0].column)},Gd=(d,g)=>{const E=ye.fromTable(d);return Ef(E,g).bind(B=>{const W=B[B.length-1],se=B[0].column,be=W.column+W.colspan,xe=po(Gt(E.all,Pe=>lo(Pe.cells,Je=>Je.column>=se&&Je.column<be)));return Fl(xe)}).getOr("")},Zh=(d,g)=>{const E=ye.fromTable(d);return Ef(E,g).bind(Fl).getOr("")},ys=(d,g)=>{const E=ye.fromTable(d);return Ef(E,g).bind(B=>{const W=B[B.length-1],se=B[0].row,be=W.row+W.rowspan,xe=E.all.slice(se,be);return Fc(xe)}).getOr("")},wb=(d,g,E,O)=>bb(d,g,E,O.sizing),Sl=(d,g,E,O)=>Qg(d,g,E,O.sizing,O.resize),ua=(d,g)=>rt(g,E=>E.column===0&&E.isLocked),h1=(d,g)=>rt(g,E=>E.column+E.colspan>=d.grid.columns&&E.isLocked),Sf=(d,g)=>{const E=Qf(d),O=Bm(g);return nt(O,(B,W)=>{const be=E[W.column].map(Dh).getOr(0);return B+be},0)},G0=d=>(g,E)=>Ef(g,E).filter(O=>!(d?ua:h1)(g,O)).map(O=>({details:O,pixelDelta:Sf(g,O)})),yx=(d,g)=>Vd(d,g).map(E=>({details:E,pixelDelta:-Sf(d,E)})),Tb=d=>(g,E)=>km(g,E).filter(O=>!(d?ua:h1)(g,O.cells)),j0=Br.transform("th"),Cb=Br.transform("td"),m1=Xr(H0,Ef,ue,ue,Br.modification),G_=Xr(d1,Ef,ue,ue,Br.modification),wn=Xr(qh,G0(!0),Sl,ue,Br.modification),Sb=Xr(al,G0(!1),Sl,ue,Br.modification),p1=Xr(U0,yx,Sl,Fp,Br.modification),da=Xr(W0,Ef,ue,Fp,Br.modification),Bt=Xr(eT,Vd,ue,ue,j0),j_=Xr(Eb,Vd,ue,ue,Cb),Wa=Xr(U_,Vd,ue,ue,j0),nT=Xr(V0,Vd,ue,ue,Cb),q_=Xr(z0,Vd,ue,ue,Cb),Z_=Xr(za,Vd,ue,ue,j0),Ed=Xr(uh,Vd,ue,ue,Cb),wd=Xr(W_,bx,wb,ue,Br.merging),ev=Xr(tT,wf,wb,ue,Br.merging),zl=Xr(Ua,Mp,wb,ue,Br.modification),g1=Xr(Cl,Tb(!0),ue,ue,Br.modification),v1=Xr(bu,Tb(!1),ue,ue,Br.modification),xf=Xr(Vs,km,ue,ue,Br.modification),zu=Xr(sc,km,ue,ue,Br.modification),Ul=Gd,cl=Zh,oT=ys,xb=(d,g)=>d.dispatch("NewRow",{node:g}),Ab=(d,g)=>d.dispatch("NewCell",{node:g}),Hm=(d,g,E)=>{d.dispatch("TableModified",{...E,table:g})},Y_=(d,g,E,O,B)=>{d.dispatch("TableSelectionChange",{cells:g,start:E,finish:O,otherCells:B})},Ob=d=>{d.dispatch("TableSelectionClear")},Yh=(d,g,E,O,B)=>{d.dispatch("ObjectResizeStart",{target:g,width:E,height:O,origin:B})},As=(d,g,E,O,B)=>{d.dispatch("ObjectResized",{target:g,width:E,height:O,origin:B})},Hp={structure:!1,style:!0},Dr={structure:!0,style:!1},K_={structure:!0,style:!0},Vp=d=>g=>g.options.get(d),Wr="100%",Rb=d=>{var g;const E=d.dom,O=(g=E.getParent(d.selection.getStart(),E.isBlock))!==null&&g!==void 0?g:d.getBody();return io(et.fromDom(O))+"px"},X_=(d,g)=>ir(d)||!ll(d)?g:Td(d)?{...g,width:Rb(d)}:{...g,width:Wr},tv=(d,g)=>ir(d)||ll(d)?g:Td(d)?{...g,width:Rb(d)}:{...g,width:Wr},sT=d=>{const g=d.options.register;g("table_clone_elements",{processor:"string[]"}),g("table_use_colgroups",{processor:"boolean",default:!0}),g("table_header_type",{processor:E=>{const O=Nt(["section","cells","sectionCells","auto"],E);return O?{value:E,valid:O}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),g("table_sizing_mode",{processor:"string",default:"auto"}),g("table_default_attributes",{processor:"object",default:{border:"1"}}),g("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),g("table_column_resizing",{processor:E=>{const O=Nt(["preservetable","resizetable"],E);return O?{value:E,valid:O}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),g("table_resize_bars",{processor:"boolean",default:!0}),g("table_style_by_css",{processor:"boolean",default:!0})},b1=d=>Te.from(d.options.get("table_clone_elements")),Q_=d=>{const g=d.options.get("object_resizing");return Nt(g.split(","),"table")},J_=Vp("table_header_type"),q0=Vp("table_column_resizing"),Z0=d=>q0(d)==="preservetable",eE=d=>q0(d)==="resizetable",dh=Vp("table_sizing_mode"),Ib=d=>dh(d)==="relative",Td=d=>dh(d)==="fixed",ir=d=>dh(d)==="responsive",nv=Vp("table_resize_bars"),ll=Vp("table_style_by_css"),y1=d=>{const g=d.options,E=g.get("table_default_attributes");return g.isSet("table_default_attributes")?E:tv(d,E)},tE=d=>{const g=d.options,E=g.get("table_default_styles");return g.isSet("table_default_styles")?E:X_(d,E)},Db=Vp("table_use_colgroups"),_1=(d,g)=>Ib(d)?Pd.percentageSize(g):Td(d)?Pd.pixelSize(g):Pd.getTableSize(g),Y0=(d,g,E)=>{const O=Eu=>Ws(ia(Eu))==="table",B=Eu=>!O(d)||pi(Eu).rows>1,W=Eu=>!O(d)||pi(Eu).columns>1,se=b1(d),be=eE(d)?ue:Hs,xe=Eu=>{switch(J_(d)){case"section":return Hl.section();case"sectionCells":return Hl.sectionCells();case"cells":return Hl.cells();default:return Hl.getTableSectionType(Eu,"section")}},Pe=(Eu,Zx)=>Zx.cursor.fold(()=>{const qb=Ru(Eu);return Ge(qb).filter(ui).map(Df=>{E.clearSelectedCells(Eu.dom);const dl=d.dom.createRng();return dl.selectNode(Df.dom),d.selection.setRng(dl),vr(Df,"data-mce-selected","1"),dl})},qb=>{const Df=sr(qb),dl=d.dom.createRng();return dl.setStart(Df.element.dom,Df.offset),dl.setEnd(Df.element.dom,Df.offset),d.selection.setRng(dl),E.clearSelectedCells(Eu.dom),Te.some(dl)}),Je=(Eu,Zx,qb,Df)=>(dl,Mf,Yx=!1)=>{Lc(dl);const Kx=et.fromDom(d.getDoc()),PR=Fh(qb,Kx,se),LR={sizing:_1(d,dl),resize:eE(d)?ca():Wi(),section:xe(dl)};return Zx(dl)?Eu(dl,Mf,PR,LR).bind(yC=>{g.refresh(dl.dom),Ze(yC.newRows,F1=>{xb(d,F1.dom)}),Ze(yC.newCells,F1=>{Ab(d,F1.dom)});const Zb=Pe(dl,yC);return ui(dl)&&(Lc(dl),Yx||Hm(d,dl.dom,Df)),Zb.map(F1=>({rng:F1,effect:Df}))}):Te.none()},Ht=Je(da,B,ue,Dr),fn=Je(p1,W,ue,Dr),rn=Je(m1,He,ue,Dr),At=Je(G_,He,ue,Dr),un=Je(wn,He,be,Dr),Ct=Je(Sb,He,be,Dr),Sn=Je(wd,He,ue,Dr),oo=Je(ev,He,ue,Dr),xo=Je(g1,He,ue,Dr),Sr=Je(v1,He,ue,Dr),zc=Je(xf,He,ue,Dr),Mi=Je(zu,He,ue,Dr),xd=Je(zl,He,ue,K_),hv=Je(Z_,He,ue,Dr),Iy=Je(Ed,He,ue,Dr),bC=Je(Bt,He,ue,Dr),WE=Je(j_,He,ue,Dr),ar=Je(Wa,He,ue,Dr),yu=Je(nT,He,ue,Dr),_u=Je(q_,He,ue,Dr);return{deleteRow:Ht,deleteColumn:fn,insertRowsBefore:rn,insertRowsAfter:At,insertColumnsBefore:un,insertColumnsAfter:Ct,mergeCells:Sn,unmergeCells:oo,pasteColsBefore:xo,pasteColsAfter:Sr,pasteRowsBefore:zc,pasteRowsAfter:Mi,pasteCells:xd,makeCellsHeader:hv,unmakeCellsHeader:Iy,makeColumnsHeader:bC,unmakeColumnsHeader:WE,makeRowsHeader:ar,makeRowsBody:yu,makeRowsFooter:_u,getTableRowType:oT,getTableCellType:cl,getTableColType:Ul}},nE=(d,g,E)=>{const O=ei(d,g,1);E===1||O<=1?qr(d,g):vr(d,g,Math.min(E,O))},Vc=(d,g)=>E=>{const O=E.column+E.colspan-1,B=E.column;return O>=d&&B<g},Uu=(d,g,E)=>{if(ye.hasColumns(d)){const O=lo(ye.justColumns(d),Vc(g,E)),B=Gt(O,se=>{const be=ml(se.element);return nE(be,"span",E-g),be}),W=et.fromTag("colgroup");return Na(W,B),[W]}else return[]},rT=(d,g,E)=>Gt(d.all,O=>{const B=lo(O.cells,Vc(g,E)),W=Gt(B,be=>{const xe=ml(be.element);return nE(xe,"colspan",E-g),xe}),se=et.fromTag("tr");return Na(se,W),se}),iT=(d,g)=>{const E=ye.fromTable(d);return Vd(E,g).map(B=>{const W=B[B.length-1],se=B[0].column,be=W.column+W.colspan,xe=Uu(E,se,be),Pe=rT(E,se,be);return[...xe,...Pe]})},aT=(d,g,E)=>{const O=ye.fromTable(d);return Ef(O,g).bind(W=>{const se=Wh(O,E,!1),xe=Ea(se).rows.slice(W[0].row,W[W.length-1].row+W[W.length-1].rowspan),Pe=Rs(xe,Ht=>{const fn=lo(Ht.cells,rn=>!rn.isLocked);return fn.length>0?[{...Ht,cells:fn}]:[]}),Je=Ri(Pe);return ws(Je.length>0,Je)}).map(W=>e1(W))},zp=Ur.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),K0=(d,g,E)=>{const O=E.substring(0,E.length-d.length),B=parseFloat(O);return O===B.toString()?g(B):zp.invalid(E)},Up={...zp,from:d=>Po(d,"%")?K0("%",zp.percent,d):Po(d,"px")?K0("px",zp.pixels,d):zp.invalid(d)},oE=(d,g)=>Gt(d,E=>Up.from(E).fold(()=>E,B=>B/g*100+"%",B=>B+"%")),cT=(d,g,E)=>{const O=E/g;return Gt(d,B=>Up.from(B).fold(()=>B,se=>se*O+"px",se=>se/100*E+"px"))},lT=(d,g)=>{const E=d.fold(()=>ee(""),O=>{const B=O/g;return ee(B+"px")},()=>{const O=100/g;return ee(O+"%")});return Kt(g,E)},Q0=(d,g,E)=>d.fold(()=>g,O=>cT(g,E,O),O=>oE(g,E)),J0=(d,g,E)=>{const O=Up.from(E),B=as(d,W=>W==="0px")?lT(O,d.length):Q0(O,d,g);return dT(B)},Vm=(d,g)=>d.length===0?g:Vo(d,(E,O)=>Up.from(O).fold(ee(0),ke,ke)+E,0),sE=(d,g)=>{const E=Math.floor(d);return{value:E+g,remainder:d-E}},uT=(d,g)=>Up.from(d).fold(ee(d),E=>E+g+"px",E=>E+g+"%"),dT=d=>{if(d.length===0)return d;const g=Vo(d,(O,B)=>{const W=Up.from(B).fold(()=>({value:B,remainder:0}),se=>sE(se,"px"),se=>({value:se+"%",remainder:0}));return{output:[W.value].concat(O.output),remainder:O.remainder+W.remainder}},{output:[],remainder:0}),E=g.output;return E.slice(0,E.length-1).concat([uT(E[E.length-1],Math.round(g.remainder))])},fT=Up.from,Af=(d,g,E)=>{Ze(g,O=>{const B=d.slice(O.column,O.colspan+O.column),W=Vm(B,ya());ps(O.element,"width",W+E)})},Mb=(d,g,E)=>{Ze(g,(O,B)=>{const W=Vm([d[B]],ya());ps(O.element,"width",W+E)})},Wp=(d,g,E,O)=>{Ze(E,B=>{const W=d.slice(B.row,B.rowspan+B.row),se=Vm(W,Yf());ps(B.element,"height",se+O)}),Ze(g,(B,W)=>{ps(B.element,"height",d[W])})},Nb=d=>fT(d).fold(ee("px"),ee("px"),ee("%")),rE=(d,g,E)=>{const O=ye.fromTable(d),B=O.all,W=ye.justCells(O),se=ye.justColumns(O);g.each(be=>{const xe=Nb(be),Pe=Ml(d),Je=lb(O,d),Ht=J0(Je,Pe,be);ye.hasColumns(O)?Mb(Ht,se,xe):Af(Ht,W,xe),ps(d,"width",be)}),E.each(be=>{const xe=Nb(be),Pe=bc(d),Je=Ph(O,d,Pl),Ht=J0(Je,Pe,be);Wp(Ht,B,W,xe),ps(d,"height",be)})},fh=kc,E1=bl,ey=Yv,Of=d=>{qr(d,"width")},zm=d=>{const g=Du(d);rE(d,Te.some(g),Te.none()),Of(d)},ty=d=>{const g=ti(d);rE(d,Te.some(g),Te.none()),Of(d)},iE=d=>{gl(d,"width");const g=Rh(d),E=g.length>0?g:Ru(d);Ze(E,O=>{gl(O,"width"),Of(O)}),Of(d)},hT={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},mT=()=>et.fromTag("th"),ny=()=>et.fromTag("td"),pT=()=>et.fromTag("col"),gT=(d,g,E,O)=>{const B=et.fromTag("tr");for(let W=0;W<d;W++){const se=O<g||W<E?mT():ny();W<E&&vr(se,"scope","row"),O<g&&vr(se,"scope","col"),Nr(se,et.fromTag("br")),Nr(B,se)}return B},aE=d=>{const g=et.fromTag("colgroup");return Kt(d,()=>Nr(g,pT())),g},cE=(d,g,E,O)=>Kt(d,B=>gT(g,E,O,B)),kb=(d,g,E,O,B,W=hT)=>{const se=et.fromTag("table"),be=B!=="cells";Rr(se,W.styles),Rc(se,W.attributes),W.colGroups&&Nr(se,aE(g));const xe=Math.min(d,E);if(be&&E>0){const rn=et.fromTag("thead");Nr(se,rn);const un=cE(E,g,B==="sectionCells"?xe:0,O);Na(rn,un)}const Pe=et.fromTag("tbody");Nr(se,Pe);const Je=be?d-xe:d,fn=cE(Je,g,be?0:E,O);return Na(Pe,fn),se},vT=d=>d.dom.innerHTML,bT=d=>{const g=et.fromTag("div"),E=et.fromDom(d.dom.cloneNode(!0));return Nr(g,E),vT(g)},yT=(d,g)=>{d.selection.select(g.dom,!0),d.selection.collapse(!0)},lE=(d,g)=>{no(g,"td,th").each(V(yT,d))},oy=(d,g)=>{Ze(Ee(g,"tr"),E=>{xb(d,E.dom),Ze(Ee(E,"th,td"),O=>{Ab(d,O.dom)})})},uE=d=>S(d)&&d.indexOf("%")!==-1,_T=(d,g,E,O,B)=>{const W=tE(d),se={styles:W,attributes:y1(d),colGroups:Db(d)};return d.undoManager.ignore(()=>{const be=kb(E,g,B,O,J_(d),se);vr(be,"data-mce-id","__mce");const xe=bT(be);d.insertContent(xe),d.addVisual()}),no(ia(d),'table[data-mce-id="__mce"]').map(be=>(Td(d)?ty(be):ir(d)?iE(be):(Ib(d)||uE(W.width))&&zm(be),Lc(be),qr(be,"data-mce-id"),oy(d,be),lE(d,be),be.dom)).getOrNull()},dE=(d,g,E,O={})=>{const B=W=>fe(W)&&W>0;if(B(g)&&B(E)){const W=O.headerRows||0,se=O.headerColumns||0;return _T(d,E,g,se,W)}else return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var w1=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const sy="x-tinymce/dom-table-",ry=sy+"rows",ov=sy+"columns",Pb=d=>{const g=w1.FakeClipboardItem(d);w1.write([g])},T1=d=>{var g;const E=(g=w1.read())!==null&&g!==void 0?g:[];return va(E,O=>Te.from(O.getType(d)))},iy=d=>{T1(d).isSome()&&w1.clear()},ay=d=>{d.fold(Gp,g=>Pb({[ry]:g}))},fE=()=>T1(ry),Gp=()=>iy(ry),hE=d=>{d.fold(ET,g=>Pb({[ov]:g}))},jp=()=>T1(ov),ET=()=>iy(ov),cy=d=>Ae(xm(d),$l(d)).filter($c),mE=d=>ze(xm(d),$l(d)).filter($c),Wu=(d,g)=>{const E=$l(d),O=()=>cy(d).each(Ct=>{Hi(Ct,E).filter(we(E)).each(Sn=>{const oo=et.fromText("");if(hl(Sn,oo),Bi(Sn),d.dom.isEmpty(d.getBody()))d.setContent(""),d.selection.setCursorLocation();else{const xo=d.dom.createRng();xo.setStart(oo.dom,0),xo.setEnd(oo.dom,0),d.selection.setRng(xo),d.nodeChanged()}})}),B=Ct=>cy(d).each(Sn=>{ir(d)||Td(d)||Ib(d)||Hi(Sn,E).each(xo=>{Ct==="relative"&&!fh(xo)?zm(xo):Ct==="fixed"&&!E1(xo)?ty(xo):Ct==="responsive"&&!ey(xo)&&iE(xo),Lc(xo),Hm(d,xo.dom,Dr)})}),W=Ct=>Hi(Ct,E),se=Ct=>mE(d).bind(Sn=>W(Sn).map(oo=>Ct(oo,Sn))),be=(Ct,Sn)=>{se(oo=>{d.formatter.toggle("tableclass",{value:Sn},oo.dom),Hm(d,oo.dom,Hp)})},xe=(Ct,Sn)=>{se(oo=>{const xo=yt(d),zc=as(xo,Mi=>d.formatter.match("tablecellclass",{value:Sn},Mi.dom))?d.formatter.remove:d.formatter.apply;Ze(xo,Mi=>zc("tablecellclass",{value:Sn},Mi.dom)),Hm(d,oo.dom,Hp)})},Pe=()=>{cy(d).each(Ct=>{Hi(Ct,E).each(Sn=>{Pt(Sn,"caption").fold(()=>{const oo=et.fromTag("caption");Nr(oo,et.fromText("Caption")),of(Sn,oo,0),d.selection.setCursorLocation(oo.dom,0)},oo=>{ci("caption")(Ct)&&gm("td",Sn).each(xo=>d.selection.setCursorLocation(xo.dom,0)),Bi(oo)}),Hm(d,Sn.dom,Dr)})})},Je=Ct=>{d.focus()},Ht=(Ct,Sn=!1)=>se((oo,xo)=>{const Sr=vd(yt(d),oo,xo);Ct(oo,Sr,Sn).each(Je)}),fn=()=>se((Ct,Sn)=>{const oo=vd(yt(d),Ct,Sn),xo=Fh(ue,et.fromDom(d.getDoc()),Te.none());return aT(Ct,oo,xo)}),rn=()=>se((Ct,Sn)=>{const oo=vd(yt(d),Ct,Sn);return iT(Ct,oo)}),At=(Ct,Sn)=>Sn().each(oo=>{const xo=Gt(oo,Sr=>ml(Sr));se((Sr,zc)=>{const Mi=Ld(et.fromDom(d.getDoc())),xd=re(yt(d),zc,xo,Mi);Ct(Sr,xd).each(Je)})}),un=Ct=>(Sn,oo)=>Jd(oo,"type").each(xo=>{Ht(Ct(xo),oo.no_events)});Us({mceTableSplitCells:()=>Ht(g.unmergeCells),mceTableMergeCells:()=>Ht(g.mergeCells),mceTableInsertRowBefore:()=>Ht(g.insertRowsBefore),mceTableInsertRowAfter:()=>Ht(g.insertRowsAfter),mceTableInsertColBefore:()=>Ht(g.insertColumnsBefore),mceTableInsertColAfter:()=>Ht(g.insertColumnsAfter),mceTableDeleteCol:()=>Ht(g.deleteColumn),mceTableDeleteRow:()=>Ht(g.deleteRow),mceTableCutCol:()=>rn().each(Ct=>{hE(Ct),Ht(g.deleteColumn)}),mceTableCutRow:()=>fn().each(Ct=>{ay(Ct),Ht(g.deleteRow)}),mceTableCopyCol:()=>rn().each(Ct=>hE(Ct)),mceTableCopyRow:()=>fn().each(Ct=>ay(Ct)),mceTablePasteColBefore:()=>At(g.pasteColsBefore,jp),mceTablePasteColAfter:()=>At(g.pasteColsAfter,jp),mceTablePasteRowBefore:()=>At(g.pasteRowsBefore,fE),mceTablePasteRowAfter:()=>At(g.pasteRowsAfter,fE),mceTableDelete:O,mceTableCellToggleClass:xe,mceTableToggleClass:be,mceTableToggleCaption:Pe,mceTableSizingMode:(Ct,Sn)=>B(Sn),mceTableCellType:un(Ct=>Ct==="th"?g.makeCellsHeader:g.unmakeCellsHeader),mceTableColType:un(Ct=>Ct==="th"?g.makeColumnsHeader:g.unmakeColumnsHeader),mceTableRowType:un(Ct=>{switch(Ct){case"header":return g.makeRowsHeader;case"footer":return g.makeRowsFooter;default:return g.makeRowsBody}})},(Ct,Sn)=>d.addCommand(Sn,Ct)),d.addCommand("mceInsertTable",(Ct,Sn)=>{dE(d,Sn.rows,Sn.columns,Sn.options)}),d.addCommand("mceTableApplyCellStyle",(Ct,Sn)=>{const oo=zc=>"tablecell"+zc.toLowerCase().replace("-","");if(!M(Sn))return;const xo=lo(yt(d),$c);if(xo.length===0)return;const Sr=Ya(Sn,(zc,Mi)=>d.formatter.has(oo(Mi))&&S(zc));Zl(Sr)||(Us(Sr,(zc,Mi)=>{const xd=oo(Mi);Ze(xo,hv=>{zc===""?d.formatter.remove(xd,{value:null},hv.dom,!0):d.formatter.apply(xd,{value:zc},hv.dom)})}),W(xo[0]).each(zc=>Hm(d,zc.dom,Hp)))})},ly=(d,g)=>{const E=$l(d),O=B=>ze(xm(d)).bind(W=>Hi(W,E).map(se=>{const be=vd(yt(d),se,W);return B(se,be)})).getOr("");Us({mceTableRowType:()=>O(g.getTableRowType),mceTableCellType:()=>O(g.getTableCellType),mceTableColType:()=>O(g.getTableColType)},(B,W)=>d.addQueryValueHandler(W,B))},Lb=Ur.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),C1=(d,g,E,O)=>d.fold(g,E,O),Kh=d=>d.fold(ke,ke,ke),wT=Lb.before,S1=Lb.on,pE=Lb.after,rc={before:wT,on:S1,after:pE,cata:C1,getStart:Kh},qp={create:(d,g)=>({selection:d,kill:g})},TT=(d,g)=>{const E=d.document.createRange();return E.selectNode(g.dom),E},x1=(d,g)=>{const E=d.document.createRange();return uy(E,g),E},uy=(d,g)=>d.selectNodeContents(g.dom),sv=(d,g)=>{g.fold(E=>{d.setStartBefore(E.dom)},(E,O)=>{d.setStart(E.dom,O)},E=>{d.setStartAfter(E.dom)})},Zp=(d,g)=>{g.fold(E=>{d.setEndBefore(E.dom)},(E,O)=>{d.setEnd(E.dom,O)},E=>{d.setEndAfter(E.dom)})},A1=(d,g,E)=>{const O=d.document.createRange();return sv(O,g),Zp(O,E),O},hh=(d,g,E,O,B)=>{const W=d.document.createRange();return W.setStart(g.dom,E),W.setEnd(O.dom,B),W},dy=d=>({left:d.left,top:d.top,right:d.right,bottom:d.bottom,width:d.width,height:d.height}),fa=d=>{const g=d.getClientRects(),E=g.length>0?g[0]:d.getBoundingClientRect();return E.width>0||E.height>0?Te.some(E).map(dy):Te.none()},Gu=Ur.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),$b=(d,g,E)=>g(et.fromDom(E.startContainer),E.startOffset,et.fromDom(E.endContainer),E.endOffset),vE=(d,g)=>g.match({domRange:E=>({ltr:ee(E),rtl:Te.none}),relative:(E,O)=>({ltr:cf(()=>A1(d,E,O)),rtl:cf(()=>Te.some(A1(d,O,E)))}),exact:(E,O,B,W)=>({ltr:cf(()=>hh(d,E,O,B,W)),rtl:cf(()=>Te.some(hh(d,B,W,E,O)))})}),bE=(d,g)=>{const E=g.ltr();return E.collapsed?g.rtl().filter(B=>B.collapsed===!1).map(B=>Gu.rtl(et.fromDom(B.endContainer),B.endOffset,et.fromDom(B.startContainer),B.startOffset)).getOrThunk(()=>$b(d,Gu.ltr,E)):$b(d,Gu.ltr,E)},fy=(d,g)=>{const E=vE(d,g);return bE(d,E)},Yp=(d,g)=>fy(d,g).match({ltr:(O,B,W,se)=>{const be=d.document.createRange();return be.setStart(O.dom,B),be.setEnd(W.dom,se),be},rtl:(O,B,W,se)=>{const be=d.document.createRange();return be.setStart(W.dom,se),be.setEnd(O.dom,B),be}});Gu.ltr,Gu.rtl;const Kp={create:(d,g,E,O)=>({start:d,soffset:g,finish:E,foffset:O})},rv={create:(d,g,E,O)=>({start:rc.on(d,g),finish:rc.on(E,O)})},R1=(d,g)=>{const E=Yp(d,g);return Kp.create(et.fromDom(E.startContainer),E.startOffset,et.fromDom(E.endContainer),E.endOffset)},Xp=rv.create,hy=(d,g,E,O,B,W,se)=>Gs(E,B)&&O===W?Te.none():qn(E,"td,th",g).bind(be=>qn(B,"td,th",g).bind(xe=>iv(d,g,be,xe,se))),iv=(d,g,E,O,B)=>Gs(E,O)?Te.none():$u(E,O,g).bind(W=>{const se=W.boxes.getOr([]);return se.length>1?(B(d,se,W.start,W.finish),Te.some(qp.create(Te.some(Xp(E,0,E,ud(E))),!0))):Te.none()}),Ga=(d,g,E,O,B)=>{const W=se=>(B.clearBeforeUpdate(E),B.selectRange(E,se.boxes,se.start,se.finish),se.boxes);return Bu(O,d,g,B.firstSelectedSelector,B.lastSelectedSelector).map(W)},my=(d,g)=>({item:d,mode:g}),Rf=(d,g,E,O=mh)=>d.property().parent(g).map(B=>my(B,O)),mh=(d,g,E,O=Um)=>E.sibling(d,g).map(B=>my(B,O)),Um=(d,g,E,O=Um)=>{const B=d.property().children(g);return E.first(B).map(se=>my(se,O))},Qp=[{current:Rf,next:mh,fallback:Te.none()},{current:mh,next:Um,fallback:Te.some(Rf)},{current:Um,next:Um,fallback:Te.some(mh)}],p=(d,g,E,O,B=Qp)=>X(B,se=>se.current===E).bind(se=>se.current(d,g,O,se.next).orThunk(()=>se.fallback.bind(be=>p(d,g,be,O)))),K={left:()=>({sibling:(E,O)=>E.query().prevSibling(O),first:E=>E.length>0?Te.some(E[E.length-1]):Te.none()}),right:()=>({sibling:(E,O)=>E.query().nextSibling(O),first:E=>E.length>0?Te.some(E[0]):Te.none()})},ge=(d,g,E,O,B,W)=>p(d,g,O,B).bind(be=>W(be.item)?Te.none():E(be.item)?Te.some(be.item):ge(d,be.item,E,be.mode,B,W)),De=(d,g,E,O)=>ge(d,g,E,mh,K.left(),O),Ve=(d,g,E,O)=>ge(d,g,E,mh,K.right(),O),Ye=d=>g=>d.property().children(g).length===0,gt=(d,g,E)=>nn(d,g,Ye(d),E),sn=(d,g,E)=>vn(d,g,Ye(d),E),nn=De,vn=Ve,Hn=Pu(),go=(d,g)=>gt(Hn,d,g),Wo=(d,g)=>sn(Hn,d,g),Bo=(d,g,E)=>nn(Hn,d,g,E),Lo=(d,g,E)=>vn(Hn,d,g,E),Ys=(d,g,E)=>$e(d,g,E).isSome(),_s=Ur.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),Ii=(d,g,E)=>{const O=d.getRect(g),B=d.getRect(E);return B.right>O.left&&B.left<O.right},Di=d=>qn(d,"tr"),ul={..._s,verify:(d,g,E,O,B,W,se)=>qn(O,"td,th",se).bind(be=>qn(g,"td,th",se).map(xe=>Gs(be,xe)?Gs(O,be)&&ud(be)===B?W(xe):_s.none("in same cell"):ls(Di,[be,xe]).fold(()=>Ii(d,xe,be)?_s.success():W(xe),Pe=>W(xe)))).getOr(_s.none("default")),cata:(d,g,E,O,B)=>d.fold(g,E,O,B)},tr=(d,g,E,O)=>({parent:d,children:g,element:E,index:O}),ph=d=>ed(d).bind(g=>{const E=$s(g);return py(E,d).map(O=>tr(g,E,d,O))}),py=(d,g)=>fs(d,V(Gs,g)),I1=ci("br"),yE=(d,g,E)=>g(d,E).bind(O=>Ju(O)&&_l(O).trim().length===0?yE(O,g,E):Te.some(O)),_E=(d,g,E)=>E.traverse(g).orThunk(()=>yE(g,E.gather,d)).map(E.relative),CT=(d,g)=>$i(d,g).filter(I1).orThunk(()=>$i(d,g-1).filter(I1)),EE=(d,g,E,O)=>CT(g,E).bind(B=>O.traverse(B).fold(()=>yE(B,O.gather,d).map(O.relative),W=>ph(W).map(se=>rc.on(se.parent,se.index)))),Ex=(d,g,E,O)=>(I1(g)?_E(d,g,O):EE(d,g,E,O)).map(W=>({start:W,finish:W})),lR=d=>ul.cata(d,g=>Te.none(),()=>Te.none(),g=>Te.some(ro(g,0)),g=>Te.some(ro(g,ud(g)))),Wm=(d,g)=>({left:d.left,top:d.top+g,right:d.right,bottom:d.bottom+g}),gy=(d,g)=>({left:d.left,top:d.top-g,right:d.right,bottom:d.bottom-g}),ST=(d,g,E)=>({left:d.left+g,top:d.top+E,right:d.right+g,bottom:d.bottom+E}),Gm=d=>d.top,xT=d=>d.bottom,vy=(d,g,E)=>E>=0&&E<ud(g)?d.getRangedRect(g,E,g,E+1):E>0?d.getRangedRect(g,E-1,g,E):Te.none(),av=d=>({left:d.left,top:d.top,right:d.right,bottom:d.bottom}),AT=(d,g)=>Te.some(d.getRect(g)),wx=(d,g,E)=>dc(g)?AT(d,g).map(av):Ju(g)?vy(d,g,E).map(av):Te.none(),OT=(d,g)=>dc(g)?AT(d,g).map(av):Ju(g)?d.getRangedRect(g,0,g,ud(g)).map(av):Te.none(),cv=5,uR=100,jm=Ur.generate([{none:[]},{retry:["caret"]}]),jd=(d,g)=>d.left<g.left||Math.abs(g.right-d.left)<1||d.left>g.right,Tx=(d,g,E)=>ot(g,xa).fold(It,O=>OT(d,O).exists(B=>jd(E,B))),wE=(d,g,E,O,B)=>{const W=Wm(B,cv);return Math.abs(E.bottom-O.bottom)<1||E.top>B.bottom?jm.retry(W):E.top===B.bottom?jm.retry(Wm(B,1)):Tx(d,g,B)?jm.retry(ST(W,cv,0)):jm.none()},RT={point:Gm,adjuster:(d,g,E,O,B)=>{const W=gy(B,cv);return Math.abs(E.top-O.top)<1||E.bottom<B.top?jm.retry(W):E.bottom===B.top?jm.retry(gy(B,1)):Tx(d,g,B)?jm.retry(ST(W,cv,0)):jm.none()},move:gy,gather:go},dR={point:xT,adjuster:wE,move:Wm,gather:Wo},Cx=(d,g,E)=>d.elementFromPoint(g,E).filter(O=>Ws(O)==="table").isSome(),IT=(d,g,E,O,B)=>TE(d,g,E,g.move(O,cv),B),TE=(d,g,E,O,B)=>B===0?Te.some(O):Cx(d,O.left,g.point(O))?IT(d,g,E,O,B-1):d.situsFromPoint(O.left,g.point(O)).bind(W=>W.start.fold(Te.none,se=>OT(d,se).bind(be=>g.adjuster(d,se,be,E,O).fold(Te.none,xe=>TE(d,g,E,xe,B-1))).orThunk(()=>Te.some(O)),Te.none)),fR=(d,g,E)=>d.point(g)>E.getInnerHeight()?Te.some(d.point(g)-E.getInnerHeight()):d.point(g)<0?Te.some(-d.point(g)):Te.none(),hR=(d,g,E)=>{const O=d.move(E,cv),B=TE(g,d,E,O,uR).getOr(O);return fR(d,B,g).fold(()=>g.situsFromPoint(B.left,d.point(B)),W=>(g.scrollBy(0,W),g.situsFromPoint(B.left,d.point(B)-W)))},CE={tryUp:V(hR,RT),tryDown:V(hR,dR),getJumpSize:ee(cv)},Sx=20,hk=(d,g,E)=>d.getSelection().bind(O=>Ex(g,O.finish,O.foffset,E).fold(()=>Te.some(ro(O.finish,O.foffset)),B=>{const W=d.fromSitus(B),se=ul.verify(d,O.finish,O.foffset,W.finish,W.foffset,E.failure,g);return lR(se)})),Bb=(d,g,E,O,B,W)=>W===0?Te.none():Fb(d,g,E,O,B).bind(se=>{const be=d.fromSitus(se),xe=ul.verify(d,E,O,be.finish,be.foffset,B.failure,g);return ul.cata(xe,()=>Te.none(),()=>Te.some(se),Pe=>Gs(E,Pe)&&O===0?Zo(d,E,O,gy,B):Bb(d,g,Pe,0,B,W-1),Pe=>Gs(E,Pe)&&O===ud(Pe)?Zo(d,E,O,Wm,B):Bb(d,g,Pe,ud(Pe),B,W-1))}),Zo=(d,g,E,O,B)=>wx(d,g,E).bind(W=>Jp(d,B,O(W,CE.getJumpSize()))),Jp=(d,g,E)=>{const O=ur().browser;return O.isChromium()||O.isSafari()||O.isFirefox()?g.retry(d,E):Te.none()},Fb=(d,g,E,O,B)=>wx(d,E,O).bind(W=>Jp(d,B,W)),DT=(d,g,E)=>hk(d,g,E).bind(O=>Bb(d,g,O.element,O.offset,E,Sx).map(d.fromSitus)),mR=(d,g)=>Ys(d,E=>ed(E).exists(O=>Gs(O,g))),yy=(d,g,E,O,B)=>qn(O,"td,th",g).bind(W=>qn(W,"table",g).bind(se=>mR(B,se)?DT(d,g,E).bind(be=>qn(be.finish,"td,th",g).map(xe=>({start:W,finish:xe,range:be}))):Te.none())),D1=(d,g,E,O,B,W)=>W(O,g).orThunk(()=>yy(d,g,E,O,B).map(se=>{const be=se.range;return qp.create(Te.some(Xp(be.start,be.soffset,be.finish,be.foffset)),!0)})),M1=(d,g)=>qn(d,"tr",g).bind(E=>qn(E,"table",g).bind(O=>{const B=Ee(O,"tr");return Gs(E,B[0])?Bo(O,W=>$g(W).isSome(),g).map(W=>{const se=ud(W);return qp.create(Te.some(Xp(W,se,W,se)),!0)}):Te.none()})),MT=(d,g)=>qn(d,"tr",g).bind(E=>qn(E,"table",g).bind(O=>{const B=Ee(O,"tr");return Gs(E,B[B.length-1])?Lo(O,W=>ff(W).isSome(),g).map(W=>qp.create(Te.some(Xp(W,0,W,0)),!0)):Te.none()})),NT=(d,g,E,O,B,W,se)=>yy(d,E,O,B,W).bind(be=>iv(g,E,be.start,be.finish,se)),kT=d=>{let g=d;return{get:()=>g,set:B=>{g=B}}},xx=d=>{const g=kT(Te.none()),E=()=>g.get().each(d);return{clear:()=>{E(),g.set(Te.none())},isSet:()=>g.get().isSome(),get:()=>g.get(),set:be=>{E(),g.set(Te.some(be))}}},_y=()=>{const d=xx(ue);return{...d,on:E=>d.get().each(E)}},SE=(d,g)=>qn(d,"td,th",g),PT=d=>Ic(d).exists(zi),LT=(d,g,E,O)=>{const B=_y(),W=B.clear,se=Je=>{B.on(Ht=>{O.clearBeforeUpdate(g),SE(Je.target,E).each(fn=>{$u(Ht,fn,E).each(rn=>{const At=rn.boxes.getOr([]);if(At.length===1){const un=At[0],Ct=Fg(un)==="false",Sn=xn(nl(Je.target),un,Gs);Ct&&Sn&&(O.selectRange(g,At,un,un),d.selectContents(un))}else At.length>1&&(O.selectRange(g,At,rn.start,rn.finish),d.selectContents(fn))})})})};return{clearstate:W,mousedown:Je=>{O.clear(g),SE(Je.target,E).filter(PT).each(B.set)},mouseover:Je=>{se(Je)},mouseup:Je=>{se(Je),W()}}},xE={traverse:nf,gather:Wo,relative:rc.before,retry:CE.tryDown,failure:ul.failedDown},Ey={traverse:Dc,gather:go,relative:rc.before,retry:CE.tryUp,failure:ul.failedUp},eg=d=>g=>g===d,Ax=eg(38),qm=eg(40),lv=d=>d>=37&&d<=40,pR={isBackward:eg(37),isForward:eg(39)},Ox={isBackward:eg(39),isForward:eg(37)},$T=d=>{const g=d!==void 0?d.dom:document,E=g.body.scrollLeft||g.documentElement.scrollLeft,O=g.body.scrollTop||g.documentElement.scrollTop;return id(E,O)},Hb=(d,g,E)=>{const B=(E!==void 0?E.dom:document).defaultView;B&&B.scrollBy(d,g)},Vb=Ur.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),gR=d=>Vb.exact(d.start,d.soffset,d.finish,d.foffset),vR=d=>d.match({domRange:g=>et.fromDom(g.startContainer),relative:(g,E)=>rc.getStart(g),exact:(g,E,O,B)=>g}),Rx=Vb.domRange,uv=Vb.relative,BT=Vb.exact,FT=d=>{const g=vR(d);return Li(g)},AE=Kp.create,N1={domRange:Rx,relative:uv,exact:BT,exactFromRange:gR,getWin:FT,range:AE},OE=(d,g,E)=>{var O,B;return Te.from((B=(O=d.dom).caretPositionFromPoint)===null||B===void 0?void 0:B.call(O,g,E)).bind(W=>{if(W.offsetNode===null)return Te.none();const se=d.dom.createRange();return se.setStart(W.offsetNode,W.offset),se.collapse(),Te.some(se)})},pn=(d,g,E)=>{var O,B;return Te.from((B=(O=d.dom).caretRangeFromPoint)===null||B===void 0?void 0:B.call(O,g,E))},Sc=(()=>document.caretPositionFromPoint?OE:document.caretRangeFromPoint?pn:Te.none)(),RE=(d,g,E)=>{const O=et.fromDom(d.document);return Sc(O,g,E).map(B=>Kp.create(et.fromDom(B.startContainer),B.startOffset,et.fromDom(B.endContainer),B.endOffset))},Gr=(d,g)=>{const E=Ws(d);return E==="input"?rc.after(d):Nt(["br","img"],E)?g===0?rc.before(d):rc.after(d):rc.on(d,g)},gh=(d,g)=>{const E=d.fold(rc.before,Gr,rc.after),O=g.fold(rc.before,Gr,rc.after);return N1.relative(E,O)},Ix=(d,g,E,O)=>{const B=Gr(d,g),W=Gr(E,O);return N1.relative(B,W)},ju=(d,g,E,O)=>{const W=Ma(d).dom.createRange();return W.setStart(d.dom,g),W.setEnd(E.dom,O),W},ja=(d,g,E,O)=>{const B=ju(d,g,E,O),W=Gs(d,E)&&g===O;return B.collapsed&&!W},IE=d=>Te.from(d.getSelection()),DE=(d,g)=>{IE(d).each(E=>{E.removeAllRanges(),E.addRange(g)})},tg=(d,g,E,O,B)=>{const W=hh(d,g,E,O,B);DE(d,W)},Dx=(d,g,E,O,B,W)=>{g.collapse(E.dom,O),g.extend(B.dom,W)},HT=(d,g)=>fy(d,g).match({ltr:(E,O,B,W)=>{tg(d,E,O,B,W)},rtl:(E,O,B,W)=>{IE(d).each(se=>{if(se.setBaseAndExtent)se.setBaseAndExtent(E.dom,O,B.dom,W);else if(se.extend)try{Dx(d,se,E,O,B,W)}catch{tg(d,B,W,E,O)}else tg(d,B,W,E,O)})}}),Mx=(d,g,E,O,B)=>{const W=Ix(g,E,O,B);HT(d,W)},VT=(d,g,E)=>{const O=gh(g,E);HT(d,O)},zT=d=>{if(d.rangeCount>0){const g=d.getRangeAt(0),E=d.getRangeAt(d.rangeCount-1);return Te.some(Kp.create(et.fromDom(g.startContainer),g.startOffset,et.fromDom(E.endContainer),E.endOffset))}else return Te.none()},UT=d=>{if(d.anchorNode===null||d.focusNode===null)return zT(d);{const g=et.fromDom(d.anchorNode),E=et.fromDom(d.focusNode);return ja(g,d.anchorOffset,E,d.focusOffset)?Te.some(Kp.create(g,d.anchorOffset,E,d.focusOffset)):zT(d)}},wy=(d,g,E=!0)=>{const B=(E?x1:TT)(d,g);DE(d,B)},ME=d=>IE(d).filter(g=>g.rangeCount>0).bind(UT),Ty=d=>ME(d).map(g=>N1.exact(g.start,g.soffset,g.finish,g.foffset)),Cy=(d,g)=>{const E=Yp(d,g);return fa(E)},NE=(d,g,E)=>RE(d,g,E),Nx=d=>{IE(d).each(g=>g.removeAllRanges())},ng=d=>({elementFromPoint:(Ct,Sn)=>et.fromPoint(et.fromDom(d.document),Ct,Sn),getRect:Ct=>Ct.dom.getBoundingClientRect(),getRangedRect:(Ct,Sn,oo,xo)=>{const Sr=N1.exact(Ct,Sn,oo,xo);return Cy(d,Sr)},getSelection:()=>Ty(d).map(Ct=>R1(d,Ct)),fromSitus:Ct=>{const Sn=N1.relative(Ct.start,Ct.finish);return R1(d,Sn)},situsFromPoint:(Ct,Sn)=>NE(d,Ct,Sn).map(oo=>rv.create(oo.start,oo.soffset,oo.finish,oo.foffset)),clearSelection:()=>{Nx(d)},collapseSelection:(Ct=!1)=>{Ty(d).each(Sn=>Sn.fold(oo=>oo.collapse(Ct),(oo,xo)=>{const Sr=Ct?oo:xo;VT(d,Sr,Sr)},(oo,xo,Sr,zc)=>{const Mi=Ct?oo:Sr,xd=Ct?xo:zc;Mx(d,Mi,xd,Mi,xd)}))},setSelection:Ct=>{Mx(d,Ct.start,Ct.soffset,Ct.finish,Ct.foffset)},setRelativeSelection:(Ct,Sn)=>{VT(d,Ct,Sn)},selectNode:Ct=>{wy(d,Ct,!1)},selectContents:Ct=>{wy(d,Ct)},getInnerHeight:()=>d.innerHeight,getScrollY:()=>$T(et.fromDom(d.document)).top,scrollBy:(Ct,Sn)=>{Hb(Ct,Sn,et.fromDom(d.document))}}),Zm=(d,g)=>({rows:d,cols:g}),k1=(d,g,E,O)=>{const B=ng(d),W=LT(B,g,E,O);return{clearstate:W.clearstate,mousedown:W.mousedown,mouseover:W.mouseover,mouseup:W.mouseup}},zb=d=>ot(d,jn).exists(zi),WT=(d,g)=>zb(d)||zb(g),bR=(d,g,E,O)=>{const B=ng(d),W=()=>(O.clear(g),Te.none());return{keydown:(xe,Pe,Je,Ht,fn,rn)=>{const At=xe.raw,un=At.which,Ct=At.shiftKey===!0;return Im(g,O.selectedSelector).fold(()=>(lv(un)&&!Ct&&O.clearBeforeUpdate(g),lv(un)&&Ct&&!WT(Pe,Ht)?Te.none:qm(un)&&Ct?V(NT,B,g,E,xE,Ht,Pe,O.selectRange):Ax(un)&&Ct?V(NT,B,g,E,Ey,Ht,Pe,O.selectRange):qm(un)?V(D1,B,E,xE,Ht,Pe,MT):Ax(un)?V(D1,B,E,Ey,Ht,Pe,M1):Te.none),oo=>{const xo=Sr=>()=>va(Sr,Mi=>Ga(Mi.rows,Mi.cols,g,oo,O)).fold(()=>Jv(g,O.firstSelectedSelector,O.lastSelectedSelector).map(Mi=>{const xd=qm(un)||rn.isForward(un)?rc.after:rc.before;return B.setRelativeSelection(rc.on(Mi.first,0),xd(Mi.table)),O.clear(g),qp.create(Te.none(),!0)}),Mi=>Te.some(qp.create(Te.none(),!0)));return lv(un)&&Ct&&!WT(Pe,Ht)?Te.none:qm(un)&&Ct?xo([Zm(1,0)]):Ax(un)&&Ct?xo([Zm(-1,0)]):rn.isBackward(un)&&Ct?xo([Zm(0,-1),Zm(-1,0)]):rn.isForward(un)&&Ct?xo([Zm(0,1),Zm(1,0)]):lv(un)&&!Ct?W:Te.none})()},keyup:(xe,Pe,Je,Ht,fn)=>Im(g,O.selectedSelector).fold(()=>{const rn=xe.raw,At=rn.which;return rn.shiftKey===!0&&lv(At)&&WT(Pe,Ht)?hy(g,E,Pe,Je,Ht,fn,O.selectRange):Te.none()},Te.none)}},kx=(d,g,E,O)=>{const B=ng(d);return(W,se)=>{O.clearBeforeUpdate(g),$u(W,se,E).each(be=>{const xe=be.boxes.getOr([]);O.selectRange(g,xe,be.start,be.finish),B.selectContents(se),B.collapseSelection()})}},kE=(d,g)=>{const E=Kl(d,g);return E===void 0||E===""?[]:E.split(" ")},Px=(d,g,E)=>{const B=kE(d,g).concat([E]);return vr(d,g,B.join(" ")),!0},PE=(d,g,E)=>{const O=lo(kE(d,g),B=>B!==E);return O.length>0?vr(d,g,O.join(" ")):qr(d,g),!1},ic=d=>d.dom.classList!==void 0,vh=d=>kE(d,"class"),If=(d,g)=>Px(d,"class",g),Sy=(d,g)=>PE(d,"class",g),Cd=(d,g)=>{ic(d)?d.dom.classList.add(g):If(d,g)},Lx=d=>{(ic(d)?d.dom.classList:vh(d)).length===0&&qr(d,"class")},GT=(d,g)=>{ic(d)?d.dom.classList.remove(g):Sy(d,g),Lx(d)},jT=(d,g)=>ic(d)&&d.dom.classList.contains(g),qT=(d,g)=>{Ze(g,E=>{GT(d,E)})},yR=d=>g=>{Cd(g,d)},ZT=d=>g=>{qT(g,d)},YT={byClass:d=>{const g=yR(d.selected),E=ZT([d.selected,d.lastSelected,d.firstSelected]),O=W=>{const se=Ee(W,d.selectedSelector);Ze(se,E)};return{clearBeforeUpdate:O,clear:O,selectRange:(W,se,be,xe)=>{O(W),Ze(se,g),Cd(be,d.firstSelected),Cd(xe,d.lastSelected)},selectedSelector:d.selectedSelector,firstSelectedSelector:d.firstSelectedSelector,lastSelectedSelector:d.lastSelectedSelector}},byAttr:(d,g,E)=>{const O=xe=>{qr(xe,d.selected),qr(xe,d.firstSelected),qr(xe,d.lastSelected)},B=xe=>{vr(xe,d.selected,"1")},W=xe=>{se(xe),E()},se=xe=>{const Pe=Ee(xe,`${d.selectedSelector},${d.firstSelectedSelector},${d.lastSelectedSelector}`);Ze(Pe,O)};return{clearBeforeUpdate:se,clear:W,selectRange:(xe,Pe,Je,Ht)=>{W(xe),Ze(Pe,B),vr(Je,d.firstSelected,"1"),vr(Ht,d.lastSelected,"1"),g(Pe,Je,Ht)},selectedSelector:d.selectedSelector,firstSelectedSelector:d.firstSelectedSelector,lastSelectedSelector:d.lastSelectedSelector}}},KT=(d,g,E,O)=>{switch(d.tag){case"none":return g();case"single":return O(d.element);case"multiple":return E(d.elements)}},Cr=()=>({tag:"none"}),Ym=d=>({tag:"multiple",elements:d}),XT=d=>({tag:"single",element:d}),QT=(d,g,E)=>({get:()=>Gg(d(),E).fold(()=>g().fold(Cr,XT),Ym)}),JT=(d,g)=>{const E=d.slice(0,g[g.length-1].row+1),O=Ri(E);return Rs(O,B=>{const W=B.cells.slice(0,g[g.length-1].column+1);return Gt(W,se=>se.element)})},eC=(d,g)=>{const E=d.slice(g[0].row+g[0].rowspan-1,d.length),O=Ri(E);return Rs(O,B=>{const W=B.cells.slice(g[0].column+g[0].colspan-1,B.cells.length);return Gt(W,se=>se.element)})},tC=(d,g,E)=>{const O=ye.fromTable(d);return Ef(O,g).map(W=>{const se=Wh(O,E,!1),{rows:be}=Ea(se),xe=JT(be,W),Pe=eC(be,W);return{upOrLeftCells:xe,downOrRightCells:Pe}})},nC=(d,g,E,O,B,W,se)=>({target:d,x:g,y:E,stop:O,prevent:B,kill:W,raw:se}),oC=d=>{const g=et.fromDom(cs(d).getOr(d.target)),E=()=>d.stopPropagation(),O=()=>d.preventDefault(),B=le(O,E);return nC(g,d.clientX,d.clientY,E,O,B,d)},wR=(d,g)=>E=>{d(E)&&g(oC(E))},$x=(d,g,E,O,B)=>{const W=wR(E,O);return d.dom.addEventListener(g,W,B),{unbind:V(sC,d,g,W,B)}},TR=(d,g,E,O)=>$x(d,g,E,O,!1),sC=(d,g,E,O)=>{d.dom.removeEventListener(g,E,O)},CR=He,dv=(d,g,E)=>TR(d,g,CR,E),On=oC,og=d=>!jT(et.fromDom(d.target),"ephox-snooker-resizer-bar"),SR=(d,g)=>{const E=QT(()=>et.fromDom(d.getBody()),()=>ze(xm(d),$l(d)),Cc.selectedSelector),O=(xe,Pe,Je)=>{Hi(Pe).each(fn=>{const rn=b1(d),At=Fh(ue,et.fromDom(d.getDoc()),rn),un=yt(d),Ct=tC(fn,{selection:un},At);Y_(d,xe,Pe,Je,Ct)})},B=()=>Ob(d),W=YT.byAttr(Cc,O,B);return d.on("init",xe=>{const Pe=d.getWin(),Je=ia(d),Ht=$l(d),fn=()=>{const ar=d.selection,yu=et.fromDom(ar.getStart()),_u=et.fromDom(ar.getEnd());ls(Hi,[yu,_u]).fold(()=>W.clear(Je),ue)},rn=k1(Pe,Je,Ht,W),At=bR(Pe,Je,Ht,W),un=kx(Pe,Je,Ht,W),Ct=ar=>ar.raw.shiftKey===!0;d.on("TableSelectorChange",ar=>un(ar.start,ar.finish));const Sn=(ar,yu)=>{Ct(ar)&&(yu.kill&&ar.kill(),yu.selection.each(_u=>{const yh=N1.relative(_u.start,_u.finish),Ad=Yp(Pe,yh);d.selection.setRng(Ad)}))},oo=ar=>{const yu=On(ar);if(yu.raw.shiftKey&&lv(yu.raw.which)){const _u=d.selection.getRng(),yh=et.fromDom(_u.startContainer),Ad=et.fromDom(_u.endContainer);At.keyup(yu,yh,_u.startOffset,Ad,_u.endOffset).each(mv=>{Sn(yu,mv)})}},xo=ar=>{const yu=On(ar);g.hide();const _u=d.selection.getRng(),yh=et.fromDom(_u.startContainer),Ad=et.fromDom(_u.endContainer),mv=rb(pR,Ox)(et.fromDom(d.selection.getStart()));At.keydown(yu,yh,_u.startOffset,Ad,_u.endOffset,mv).each(Eu=>{Sn(yu,Eu)}),g.show()},Sr=ar=>ar.button===0,zc=ar=>ar.buttons===void 0?!0:(ar.buttons&1)!==0,Mi=ar=>{rn.clearstate()},xd=ar=>{Sr(ar)&&og(ar)&&rn.mousedown(On(ar))},hv=ar=>{zc(ar)&&og(ar)&&rn.mouseover(On(ar))},Iy=ar=>{Sr(ar)&&og(ar)&&rn.mouseup(On(ar))},WE=(()=>{const ar=kT(et.fromDom(Je)),yu=kT(0);return{touchEnd:yh=>{const Ad=et.fromDom(yh.target);if(ci("td")(Ad)||ci("th")(Ad)){const mv=ar.get(),Eu=yu.get();Gs(mv,Ad)&&yh.timeStamp-Eu<300&&(yh.preventDefault(),un(Ad,Ad))}ar.set(Ad),yu.set(yh.timeStamp)}}})();d.on("dragstart",Mi),d.on("mousedown",xd),d.on("mouseover",hv),d.on("mouseup",Iy),d.on("touchend",WE.touchEnd),d.on("keyup",oo),d.on("keydown",xo),d.on("NodeChange",fn)}),d.on("PreInit",()=>{d.serializer.addTempAttr(Cc.firstSelected),d.serializer.addTempAttr(Cc.lastSelected)}),{getSelectedCells:()=>KT(E.get(),ee([]),xe=>Gt(xe,Pe=>Pe.dom),xe=>[xe.dom]),clearSelectedCells:xe=>W.clear(et.fromDom(xe))}},ha=d=>{let g=[];return{bind:W=>{if(W===void 0)throw new Error("Event bind error: undefined handler");g.push(W)},unbind:W=>{g=lo(g,se=>se!==W)},trigger:(...W)=>{const se={};Ze(d,(be,xe)=>{se[be]=W[xe]}),Ze(g,be=>{be(se)})}}},ji=d=>{const g=jc(d,O=>({bind:O.bind,unbind:O.unbind})),E=jc(d,O=>O.trigger);return{registry:g,trigger:E}},fv=(d,g)=>{let E=null;const O=()=>{G(E)||(clearTimeout(E),E=null)};return{cancel:O,throttle:(...W)=>{O(),E=setTimeout(()=>{E=null,d.apply(null,W)},g)}}},LE=d=>d.slice(0).sort(),Bx=(d,g)=>{throw new Error("All required keys ("+LE(d).join(", ")+") were not specified. Specified keys were: "+LE(g).join(", ")+".")},xR=d=>{throw new Error("Unsupported keys for object: "+LE(d).join(", "))},ss=(d,g)=>{if(!P(g))throw new Error("The "+d+" fields must be an array. Was: "+g+".");Ze(g,E=>{if(!S(E))throw new Error("The value "+E+" in the "+d+" fields was not a string.")})},Fx=(d,g)=>{throw new Error("All values need to be of type: "+g+". Keys ("+LE(d).join(", ")+") were not.")},$E=d=>{const g=LE(d);X(g,(O,B)=>B<g.length-1&&O===g[B+1]).each(O=>{throw new Error("The field: "+O+" occurs more than once in the combined fields: ["+g.join(", ")+"].")})},P1=(d,g)=>Hx(d,g,{validate:pe,label:"function"}),Hx=(d,g,E)=>{if(g.length===0)throw new Error("You must specify at least one required field.");return ss("required",g),$E(g),O=>{const B=Dn(O);as(g,be=>Nt(B,be))||Bx(g,B),d(g,B);const se=lo(g,be=>!E.validate(O[be],be));return se.length>0&&Fx(se,E.label),O}},AR=(d,g)=>{const E=lo(g,O=>!Nt(d,O));E.length>0&&xR(E)},rC=d=>P1(AR,d),OR=rC(["compare","extract","mutate","sink"]),mk=rC(["element","start","stop","destroy"]),Vx=rC(["forceDrop","drop","move","delayDrop"]),iC=()=>{let d=Te.none();const g=()=>{d=Te.none()},E=(W,se)=>{const be=d.map(xe=>W.compare(xe,se));return d=Te.some(se),be},O=(W,se)=>{se.extract(W).each(xe=>{E(se,xe).each(Je=>{B.trigger.move(Je)})})},B=ji({move:ha(["info"])});return{onEvent:O,reset:g,events:B.registry}},aC=()=>{const d=ji({move:ha(["info"])});return{onEvent:ue,reset:ue,events:d.registry}},zx=()=>{const d=aC(),g=iC();let E=d;return{on:()=>{E.reset(),E=g},off:()=>{E.reset(),E=d},isOn:()=>E===g,onEvent:(be,xe)=>{E.onEvent(be,xe)},events:g.events}},pk=(d,g,E)=>{let O=!1;const B=ji({start:ha([]),stop:ha([])}),W=zx(),se=()=>{At.stop(),W.isOn()&&(W.off(),B.trigger.stop())},be=fv(se,200),xe=Ct=>{At.start(Ct),W.on(),B.trigger.start()},Pe=Ct=>{be.cancel(),W.onEvent(Ct,g)};W.events.move.bind(Ct=>{g.mutate(d,Ct.info)});const Je=()=>{O=!0},Ht=()=>{O=!1},fn=()=>O,rn=Ct=>(...Sn)=>{O&&Ct.apply(null,Sn)},At=g.sink(Vx({forceDrop:se,drop:rn(se),move:rn(Pe),delayDrop:rn(be.throttle)}),E),un=()=>{At.destroy()};return{element:At.element,go:xe,on:Je,off:Ht,isActive:fn,destroy:un,events:B.registry}},BE=d=>{const g=d.replace(/\./g,"-");return{resolve:O=>g+"-"+O}},RR=BE("ephox-dragster").resolve,IR=d=>{const g={layerClass:RR("blocker"),...d},E=et.fromTag("div");return vr(E,"role","presentation"),Rr(E,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Cd(E,RR("blocker")),Cd(E,g.layerClass),{element:ee(E),destroy:()=>{Bi(E)}}};var DR=OR({compare:(d,g)=>id(g.left-d.left,g.top-d.top),extract:d=>Te.some(id(d.x,d.y)),sink:(d,g)=>{const E=IR(g),O=dv(E.element(),"mousedown",d.forceDrop),B=dv(E.element(),"mouseup",d.drop),W=dv(E.element(),"mousemove",d.move),se=dv(E.element(),"mouseout",d.delayDrop),be=()=>{E.destroy(),B.unbind(),W.unbind(),se.unbind(),O.unbind()},xe=Je=>{Nr(Je,E.element())},Pe=()=>{Bi(E.element())};return mk({element:E.element,start:xe,stop:Pe,destroy:be})},mutate:(d,g)=>{d.mutate(g.left,g.top)}});const xy=(d,g={})=>{var E;const O=(E=g.mode)!==null&&E!==void 0?E:DR;return pk(d,O,g)},FE=BE("ephox-snooker").resolve,MR=()=>{const d=ji({drag:ha(["xDelta","yDelta"])});return{mutate:(E,O)=>{d.trigger.drag(E,O)},events:d.registry}},NR=()=>{const d=ji({drag:ha(["xDelta","yDelta","target"])});let g=Te.none();const E=MR();return E.events.drag.bind(W=>{g.each(se=>{d.trigger.drag(W.xDelta,W.yDelta,se)})}),{assign:W=>{g=Te.some(W)},get:()=>g,mutate:E.mutate,events:d.registry}},lC=(d,g,E,O,B)=>{const W=et.fromTag("div");return Rr(W,{position:"absolute",left:g-O/2+"px",top:E+"px",height:B+"px",width:O+"px"}),Rc(W,{"data-column":d,role:"presentation"}),W},Ub=(d,g,E,O,B)=>{const W=et.fromTag("div");return Rr(W,{position:"absolute",left:g+"px",top:E-B/2+"px",height:B+"px",width:O+"px"}),Rc(W,{"data-row":d,role:"presentation"}),W},Wb=FE("resizer-bar"),uC=FE("resizer-rows"),HE=FE("resizer-cols"),dC=7,fC=(d,g)=>Rs(d.all,(E,O)=>g(E.element)?[O]:[]),kR=(d,g)=>{const E=[];return Kt(d.grid.columns,O=>{ye.getColumnAt(d,O).map(W=>W.element).forall(g)&&E.push(O)}),lo(E,O=>{const B=ye.filterItems(d,W=>W.column===O);return as(B,W=>g(W.element))})},VE=d=>{const g=Ee(d.parent(),"."+Wb);Ze(g,Bi)},hC=(d,g,E)=>{const O=d.origin();Ze(g,B=>{B.each(W=>{const se=E(O,W);Cd(se,Wb),Nr(d.parent(),se)})})},mC=(d,g,E,O)=>{hC(d,g,(B,W)=>{const se=lC(W.col,W.x-B.left,E.top-B.top,dC,O);return Cd(se,HE),se})},Cs=(d,g,E,O)=>{hC(d,g,(B,W)=>{const se=Ub(W.row,E.left-B.left,W.y-B.top,O,dC);return Cd(se,uC),se})},Ux=(d,g,E,O,B)=>{const W=Jf(E),se=g.isResizable,be=O.length>0?Pl.positions(O,E):[],xe=be.length>0?fC(d,se):[],Pe=lo(be,(rn,At)=>rt(xe,un=>At===un));Cs(g,Pe,W,Dh(E));const Je=B.length>0?du.positions(B,E):[],Ht=Je.length>0?kR(d,se):[],fn=lo(Je,(rn,At)=>rt(Ht,un=>At===un));mC(g,fn,W,ib(E))},Km=(d,g)=>{if(VE(d),d.isResizable(g)){const E=ye.fromTable(g),O=cu(E),B=Qf(E);Ux(E,d,g,O,B)}},Xh=(d,g)=>{const E=Ee(d.parent(),"."+Wb);Ze(E,g)},Ay=d=>{Xh(d,g=>{ps(g,"display","none")})},Sd=d=>{Xh(d,g=>{ps(g,"display","block")})},zE=d=>jT(d,uC),L1=d=>jT(d,HE),Oy=FE("resizer-bar-dragging"),rg=d=>{const g=NR(),E=xy(g,{});let O=Te.none();const B=(At,un)=>Te.from(Kl(At,un));g.events.drag.bind(At=>{B(At.target,"data-row").each(un=>{const Ct=Ir(At.target,"top");ps(At.target,"top",Ct+At.yDelta+"px")}),B(At.target,"data-column").each(un=>{const Ct=Ir(At.target,"left");ps(At.target,"left",Ct+At.xDelta+"px")})});const W=(At,un)=>{const Ct=Ir(At,un),Sn=ei(At,"data-initial-"+un,0);return Ct-Sn};E.events.stop.bind(()=>{g.get().each(At=>{O.each(un=>{B(At,"data-row").each(Ct=>{const Sn=W(At,"top");qr(At,"data-initial-top"),rn.trigger.adjustHeight(un,Sn,parseInt(Ct,10))}),B(At,"data-column").each(Ct=>{const Sn=W(At,"left");qr(At,"data-initial-left"),rn.trigger.adjustWidth(un,Sn,parseInt(Ct,10))}),Km(d,un)})})});const se=(At,un)=>{rn.trigger.startAdjust(),g.assign(At),vr(At,"data-initial-"+un,Ir(At,un)),Cd(At,Oy),ps(At,"opacity","0.2"),E.go(d.parent())},be=dv(d.parent(),"mousedown",At=>{zE(At.target)&&se(At.target,"top"),L1(At.target)&&se(At.target,"left")}),xe=At=>Gs(At,d.view()),Pe=At=>qn(At,"table",xe).filter(zi),Je=dv(d.view(),"mouseover",At=>{Pe(At.target).fold(()=>{ui(At.target)&&VE(d)},un=>{E.isActive()&&(O=Te.some(un),Km(d,un))})}),Ht=()=>{be.unbind(),Je.unbind(),E.destroy(),VE(d)},fn=At=>{Km(d,At)},rn=ji({adjustHeight:ha(["table","delta","row"]),adjustWidth:ha(["table","delta","column"]),startAdjust:ha([])});return{destroy:Ht,refresh:fn,on:E.on,off:E.off,hideBars:V(Ay,d),showBars:V(Sd,d),events:rn.registry}},UE={create:(d,g,E)=>{const O=Pl,B=du,W=rg(d),se=ji({beforeResize:ha(["table","type"]),afterResize:ha(["table","type"]),startDrag:ha([])});return W.events.adjustHeight.bind(be=>{const xe=be.table;se.trigger.beforeResize(xe,"row");const Pe=O.delta(be.delta,xe);vb(xe,Pe,be.row,O),se.trigger.afterResize(xe,"row")}),W.events.startAdjust.bind(be=>{se.trigger.startDrag()}),W.events.adjustWidth.bind(be=>{const xe=be.table;se.trigger.beforeResize(xe,"col");const Pe=B.delta(be.delta,xe),Je=E(xe);$0(xe,Pe,be.column,g,Je),se.trigger.afterResize(xe,"col")}),{on:W.on,off:W.off,refreshBars:W.refresh,hideBars:W.hideBars,showBars:W.showBars,destroy:W.destroy,events:se.registry}}},bh={only:(d,g)=>{const E=Oh(d)?Ei(d):d;return{parent:ee(E),view:ee(d),origin:ee(id(0,0)),isResizable:g}},detached:(d,g,E)=>{const O=()=>Jf(g);return{parent:ee(g),view:ee(d),origin:O,isResizable:E}},body:(d,g,E)=>({parent:ee(g),view:ee(d),origin:ee(id(0,0)),isResizable:E})},$1=()=>{const d=et.fromTag("div");return Rr(d,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Nr(ba(),d),d},Wx=(d,g)=>d.inline?bh.body(et.fromDom(d.getBody()),$1(),g):bh.only(et.fromDom(d.getDoc()),g),Ry=(d,g)=>{d.inline&&Bi(g.parent())},vs=d=>ae(d)&&d.nodeName==="TABLE",Gx="bar-",jx=d=>Kl(d,"data-mce-resize")!=="false",gC=d=>{const g=ye.fromTable(d);ye.hasColumns(g)||Ze(Ru(d),E=>{const O=mc(E,"width");ps(E,"width",O),qr(E,"width")})},vC=d=>{const g=_y(),E=_y(),O=_y();let B,W;const se=At=>_1(d,At),be=()=>Z0(d)?Wi():ca(),xe=At=>pi(At).columns,Pe=(At,un,Ct)=>{const Sn=Po(un,"e");if(W===""&&zm(At),Ct!==B&&W!==""){ps(At,"width",W);const oo=be(),xo=se(At),Sr=Z0(d)||Sn?xe(At)-1:0;$0(At,Ct-B,Sr,oo,xo)}else if(fr(W)){const oo=parseFloat(W.replace("%","")),xo=Ct*oo/B;ps(At,"width",xo+"%")}Hg(W)&&gC(At)},Je=()=>{E.on(At=>{At.destroy()}),O.on(At=>{Ry(d,At)})};return d.on("init",()=>{const At=Wx(d,jx);if(O.set(At),Q_(d)&&nv(d)){const un=be(),Ct=UE.create(At,un,se);Ct.on(),Ct.events.startDrag.bind(Sn=>{g.set(d.selection.getRng())}),Ct.events.beforeResize.bind(Sn=>{const oo=Sn.table.dom;Yh(d,oo,pf(oo),Xv(oo),Gx+Sn.type)}),Ct.events.afterResize.bind(Sn=>{const oo=Sn.table,xo=oo.dom;Lc(oo),g.on(Sr=>{d.selection.setRng(Sr),d.focus()}),As(d,xo,pf(xo),Xv(xo),Gx+Sn.type),d.undoManager.add()}),E.set(Ct)}}),d.on("ObjectResizeStart",At=>{const un=At.target;if(vs(un)){const Ct=et.fromDom(un);Ze(d.dom.select(".mce-clonedresizable"),Sn=>{d.dom.addClass(Sn,"mce-"+q0(d)+"-columns")}),!E1(Ct)&&Td(d)?ty(Ct):!fh(Ct)&&Ib(d)&&zm(Ct),ey(Ct)&&ta(At.origin,Gx)&&zm(Ct),B=At.width,W=ir(d)?"":fb(d,un).getOr("")}}),d.on("ObjectResized",At=>{const un=At.target;if(vs(un)){const Ct=et.fromDom(un),Sn=At.origin;ta(Sn,"corner-")&&Pe(Ct,Sn,At.width),Lc(Ct),Hm(d,Ct.dom,Hp)}}),d.on("SwitchMode",()=>{E.on(At=>{d.mode.isReadOnly()?At.hideBars():At.showBars()})}),d.on("dragstart dragend",At=>{E.on(un=>{At.type==="dragstart"?(un.hideBars(),un.off()):(un.on(),un.showBars())})}),d.on("remove",()=>{Je()}),{refresh:At=>{E.on(un=>un.refreshBars(et.fromDom(At)))},hide:()=>{E.on(At=>At.hideBars())},show:()=>{E.on(At=>At.showBars())}}},jb=d=>{sT(d);const g=vC(d),E=SR(d,g),O=Y0(d,g,E);return Wu(d,O),ly(d,O),Tn(d,O),{getSelectedCells:E.getSelectedCells,clearSelectedCells:E.clearSelectedCells}},B1=d=>({table:jb(d)});var qx=()=>{a.add("dom",B1)};qx()})();/*!
 * FilePond 4.30.4
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const noe=a=>a instanceof HTMLElement,ooe=(a,c=[],f=[])=>{const y={...a},C=[],w=[],S=()=>({...y}),M=()=>{const pe=[...C];return C.length=0,pe},P=()=>{const pe=[...w];w.length=0,pe.forEach(({type:fe,data:ue})=>{G(fe,ue)})},G=(pe,fe,ue)=>{if(ue&&!document.hidden){w.push({type:pe,data:fe});return}ae[pe]&&ae[pe](fe),C.push({type:pe,data:fe})},j=(pe,...fe)=>me[pe]?me[pe](...fe):null,J={getState:S,processActionQueue:M,processDispatchQueue:P,dispatch:G,query:j};let me={};c.forEach(pe=>{me={...pe(y),...me}});let ae={};return f.forEach(pe=>{ae={...pe(G,j,y),...ae}}),J},soe=(a,c,f)=>{if(typeof f=="function"){a[c]=f;return}Object.defineProperty(a,c,{...f})},ql=(a,c)=>{for(const f in a)a.hasOwnProperty(f)&&c(f,a[f])},Fw=a=>{const c={};return ql(a,f=>{soe(c,f,a[f])}),c},Ku=(a,c,f=null)=>{if(f===null)return a.getAttribute(c)||a.hasAttribute(c);a.setAttribute(c,f)},roe="http://www.w3.org/2000/svg",ioe=["svg","path"],RX=a=>ioe.includes(a),yH=(a,c,f={})=>{typeof c=="object"&&(f=c,c=null);const y=RX(a)?document.createElementNS(roe,a):document.createElement(a);return c&&(RX(a)?Ku(y,"class",c):y.className=c),ql(f,(C,w)=>{Ku(y,C,w)}),y},aoe=a=>(c,f)=>{typeof f<"u"&&a.children[f]?a.insertBefore(c,a.children[f]):a.appendChild(c)},coe=(a,c)=>(f,y)=>(typeof y<"u"?c.splice(y,0,f):c.push(f),f),loe=(a,c)=>f=>(c.splice(c.indexOf(f),1),f.element.parentNode&&a.removeChild(f.element),f),uoe=(()=>typeof window<"u"&&typeof window.document<"u")(),xJ=()=>uoe,doe=xJ()?yH("svg"):{},foe="children"in doe?a=>a.children.length:a=>a.childNodes.length,AJ=(a,c,f,y)=>{const C=f[0]||a.left,w=f[1]||a.top,S=C+a.width,M=w+a.height*(y[1]||1),P={element:{...a},inner:{left:a.left,top:a.top,right:a.right,bottom:a.bottom},outer:{left:C,top:w,right:S,bottom:M}};return c.filter(G=>!G.isRectIgnored()).map(G=>G.rect).forEach(G=>{IX(P.inner,{...G.inner}),IX(P.outer,{...G.outer})}),DX(P.inner),P.outer.bottom+=P.element.marginBottom,P.outer.right+=P.element.marginRight,DX(P.outer),P},IX=(a,c)=>{c.top+=a.top,c.right+=a.left,c.bottom+=a.top,c.left+=a.left,c.bottom>a.bottom&&(a.bottom=c.bottom),c.right>a.right&&(a.right=c.right)},DX=a=>{a.width=a.right-a.left,a.height=a.bottom-a.top},nx=a=>typeof a=="number",hoe=(a,c,f,y=.001)=>Math.abs(a-c)<y&&Math.abs(f)<y,moe=({stiffness:a=.5,damping:c=.75,mass:f=10}={})=>{let y=null,C=null,w=0,S=!1;const G=Fw({interpolate:(j,J)=>{if(S)return;if(!(nx(y)&&nx(C))){S=!0,w=0;return}const me=-(C-y)*a;w+=me/f,C+=w,w*=c,hoe(C,y,w)||J?(C=y,w=0,S=!0,G.onupdate(C),G.oncomplete(C)):G.onupdate(C)},target:{set:j=>{if(nx(j)&&!nx(C)&&(C=j),y===null&&(y=j,C=j),y=j,C===y||typeof y>"u"){S=!0,w=0,G.onupdate(C),G.oncomplete(C);return}S=!1},get:()=>y},resting:{get:()=>S},onupdate:j=>{},oncomplete:j=>{}});return G},poe=a=>a<.5?2*a*a:-1+(4-2*a)*a,goe=({duration:a=500,easing:c=poe,delay:f=0}={})=>{let y=null,C,w,S=!0,M=!1,P=null;const j=Fw({interpolate:(J,me)=>{S||P===null||(y===null&&(y=J),!(J-y<f)&&(C=J-y-f,C>=a||me?(C=1,w=M?0:1,j.onupdate(w*P),j.oncomplete(w*P),S=!0):(w=C/a,j.onupdate((C>=0?c(M?1-w:w):0)*P))))},target:{get:()=>M?0:P,set:J=>{if(P===null){P=J,j.onupdate(J),j.oncomplete(J);return}J<P?(P=1,M=!0):(M=!1,P=J),S=!1,y=null}},resting:{get:()=>S},onupdate:J=>{},oncomplete:J=>{}});return j},MX={spring:moe,tween:goe},voe=(a,c,f)=>{const y=a[c]&&typeof a[c][f]=="object"?a[c][f]:a[c]||a,C=typeof y=="string"?y:y.type,w=typeof y=="object"?{...y}:{};return MX[C]?MX[C](w):null},tY=(a,c,f,y=!1)=>{c=Array.isArray(c)?c:[c],c.forEach(C=>{a.forEach(w=>{let S=w,M=()=>f[w],P=G=>f[w]=G;typeof w=="object"&&(S=w.key,M=w.getter||M,P=w.setter||P),!(C[S]&&!y)&&(C[S]={get:M,set:P})})})},boe=({mixinConfig:a,viewProps:c,viewInternalAPI:f,viewExternalAPI:y})=>{const C={...c},w=[];return ql(a,(S,M)=>{const P=voe(M);if(!P)return;P.onupdate=j=>{c[S]=j},P.target=C[S],tY([{key:S,setter:j=>{P.target!==j&&(P.target=j)},getter:()=>c[S]}],[f,y],c,!0),w.push(P)}),{write:S=>{let M=document.hidden,P=!0;return w.forEach(G=>{G.resting||(P=!1),G.interpolate(S,M)}),P},destroy:()=>{}}},yoe=a=>(c,f)=>{a.addEventListener(c,f)},_oe=a=>(c,f)=>{a.removeEventListener(c,f)},Eoe=({mixinConfig:a,viewProps:c,viewInternalAPI:f,viewExternalAPI:y,viewState:C,view:w})=>{const S=[],M=yoe(w.element),P=_oe(w.element);return y.on=(G,j)=>{S.push({type:G,fn:j}),M(G,j)},y.off=(G,j)=>{S.splice(S.findIndex(J=>J.type===G&&J.fn===j),1),P(G,j)},{write:()=>!0,destroy:()=>{S.forEach(G=>{P(G.type,G.fn)})}}},woe=({mixinConfig:a,viewProps:c,viewExternalAPI:f})=>{tY(a,f,c)},lm=a=>a!=null,Toe={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},Coe=({mixinConfig:a,viewProps:c,viewInternalAPI:f,viewExternalAPI:y,view:C})=>{const w={...c},S={};tY(a,[f,y],c);const M=()=>[c.translateX||0,c.translateY||0],P=()=>[c.scaleX||0,c.scaleY||0],G=()=>C.rect?AJ(C.rect,C.childViews,M(),P()):null;return f.rect={get:G},y.rect={get:G},a.forEach(j=>{c[j]=typeof w[j]>"u"?Toe[j]:w[j]}),{write:()=>{if(Soe(S,c))return xoe(C.element,c),Object.assign(S,{...c}),!0},destroy:()=>{}}},Soe=(a,c)=>{if(Object.keys(a).length!==Object.keys(c).length)return!0;for(const f in c)if(c[f]!==a[f])return!0;return!1},xoe=(a,{opacity:c,perspective:f,translateX:y,translateY:C,scaleX:w,scaleY:S,rotateX:M,rotateY:P,rotateZ:G,originX:j,originY:J,width:me,height:ae})=>{let pe="",fe="";(lm(j)||lm(J))&&(fe+=`transform-origin: ${j||0}px ${J||0}px;`),lm(f)&&(pe+=`perspective(${f}px) `),(lm(y)||lm(C))&&(pe+=`translate3d(${y||0}px, ${C||0}px, 0) `),(lm(w)||lm(S))&&(pe+=`scale3d(${lm(w)?w:1}, ${lm(S)?S:1}, 1) `),lm(G)&&(pe+=`rotateZ(${G}rad) `),lm(M)&&(pe+=`rotateX(${M}rad) `),lm(P)&&(pe+=`rotateY(${P}rad) `),pe.length&&(fe+=`transform:${pe};`),lm(c)&&(fe+=`opacity:${c};`,c===0&&(fe+="visibility:hidden;"),c<1&&(fe+="pointer-events:none;")),lm(ae)&&(fe+=`height:${ae}px;`),lm(me)&&(fe+=`width:${me}px;`);const ue=a.elementCurrentStyle||"";(fe.length!==ue.length||fe!==ue)&&(a.style.cssText=fe,a.elementCurrentStyle=fe)},Aoe={styles:Coe,listeners:Eoe,animations:boe,apis:woe},NX=(a={},c={},f={})=>(c.layoutCalculated||(a.paddingTop=parseInt(f.paddingTop,10)||0,a.marginTop=parseInt(f.marginTop,10)||0,a.marginRight=parseInt(f.marginRight,10)||0,a.marginBottom=parseInt(f.marginBottom,10)||0,a.marginLeft=parseInt(f.marginLeft,10)||0,c.layoutCalculated=!0),a.left=c.offsetLeft||0,a.top=c.offsetTop||0,a.width=c.offsetWidth||0,a.height=c.offsetHeight||0,a.right=a.left+a.width,a.bottom=a.top+a.height,a.scrollTop=c.scrollTop,a.hidden=c.offsetParent===null,a),Xu=({tag:a="div",name:c=null,attributes:f={},read:y=()=>{},write:C=()=>{},create:w=()=>{},destroy:S=()=>{},filterFrameActionsForChild:M=(ae,pe)=>pe,didCreateView:P=()=>{},didWriteView:G=()=>{},ignoreRect:j=!1,ignoreRectUpdate:J=!1,mixins:me=[]}={})=>(ae,pe={})=>{const fe=yH(a,`filepond--${c}`,f),ue=window.getComputedStyle(fe,null),le=NX();let ve=null,ee=!1;const ke=[],Ke=[],V={},we={},Ue=[C],bt=[y],It=[S],He=()=>fe,Te=()=>ke.concat(),bn=()=>V,Tt=nt=>(Lt,X)=>Lt(nt,X),Mt=()=>ve||(ve=AJ(le,ke,[0,0],[1,1]),ve),F=()=>ue,Nt=()=>{ve=null,ke.forEach(X=>X._read()),!(J&&le.width&&le.height)&&NX(le,fe,ue);const Lt={root:lo,props:pe,rect:le};bt.forEach(X=>X(Lt))},rt=(nt,Lt,X)=>{let fs=Lt.length===0;return Ue.forEach(po=>{po({props:pe,root:lo,actions:Lt,timestamp:nt,shouldOptimize:X})===!1&&(fs=!1)}),Ke.forEach(po=>{po.write(nt)===!1&&(fs=!1)}),ke.filter(po=>!!po.element.parentNode).forEach(po=>{po._write(nt,M(po,Lt),X)||(fs=!1)}),ke.forEach((po,Rs)=>{po.element.parentNode||(lo.appendChild(po.element,Rs),po._read(),po._write(nt,M(po,Lt),X),fs=!1)}),ee=fs,G({props:pe,root:lo,actions:Lt,timestamp:nt}),fs},Kt=()=>{Ke.forEach(nt=>nt.destroy()),It.forEach(nt=>{nt({root:lo,props:pe})}),ke.forEach(nt=>nt._destroy())},Gt={element:{get:He},style:{get:F},childViews:{get:Te}},Ze={...Gt,rect:{get:Mt},ref:{get:bn},is:nt=>c===nt,appendChild:aoe(fe),createChildView:Tt(ae),linkView:nt=>(ke.push(nt),nt),unlinkView:nt=>{ke.splice(ke.indexOf(nt),1)},appendChildView:coe(fe,ke),removeChildView:loe(fe,ke),registerWriter:nt=>Ue.push(nt),registerReader:nt=>bt.push(nt),registerDestroyer:nt=>It.push(nt),invalidateLayout:()=>fe.layoutCalculated=!1,dispatch:ae.dispatch,query:ae.query},_o={element:{get:He},childViews:{get:Te},rect:{get:Mt},resting:{get:()=>ee},isRectIgnored:()=>j,_read:Nt,_write:rt,_destroy:Kt},Ho={...Gt,rect:{get:()=>le}};Object.keys(me).sort((nt,Lt)=>nt==="styles"?1:Lt==="styles"?-1:0).forEach(nt=>{const Lt=Aoe[nt]({mixinConfig:me[nt],viewProps:pe,viewState:we,viewInternalAPI:Ze,viewExternalAPI:_o,view:Fw(Ho)});Lt&&Ke.push(Lt)});const lo=Fw(Ze);w({root:lo,props:pe});const Vo=foe(fe);return ke.forEach((nt,Lt)=>{lo.appendChild(nt.element,Vo+Lt)}),P(lo),Fw(_o)},Ooe=(a,c,f=60)=>{const y="__framePainter";if(window[y]){window[y].readers.push(a),window[y].writers.push(c);return}window[y]={readers:[a],writers:[c]};const C=window[y],w=1e3/f;let S=null,M=null,P=null,G=null;const j=()=>{document.hidden?(P=()=>window.setTimeout(()=>J(performance.now()),w),G=()=>window.clearTimeout(M)):(P=()=>window.requestAnimationFrame(J),G=()=>window.cancelAnimationFrame(M))};document.addEventListener("visibilitychange",()=>{G&&G(),j(),J(performance.now())});const J=me=>{M=P(J),S||(S=me);const ae=me-S;ae<=w||(S=me-ae%w,C.readers.forEach(pe=>pe()),C.writers.forEach(pe=>pe(me)))};return j(),J(performance.now()),{pause:()=>{G(M)}}},hm=(a,c)=>({root:f,props:y,actions:C=[],timestamp:w,shouldOptimize:S})=>{C.filter(M=>a[M.type]).forEach(M=>a[M.type]({root:f,props:y,action:M.data,timestamp:w,shouldOptimize:S})),c&&c({root:f,props:y,actions:C,timestamp:w,shouldOptimize:S})},kX=(a,c)=>c.parentNode.insertBefore(a,c),PX=(a,c)=>c.parentNode.insertBefore(a,c.nextSibling),$H=a=>Array.isArray(a),T_=a=>a==null,Roe=a=>a.trim(),BH=a=>""+a,Ioe=(a,c=",")=>T_(a)?[]:$H(a)?a:BH(a).split(c).map(Roe).filter(f=>f.length),OJ=a=>typeof a=="boolean",RJ=a=>OJ(a)?a:a==="true",fm=a=>typeof a=="string",IJ=a=>nx(a)?a:fm(a)?BH(a).replace(/[a-z]+/gi,""):0,sH=a=>parseInt(IJ(a),10),LX=a=>parseFloat(IJ(a)),eR=a=>nx(a)&&isFinite(a)&&Math.floor(a)===a,$X=(a,c=1e3)=>{if(eR(a))return a;let f=BH(a).trim();return/MB$/i.test(f)?(f=f.replace(/MB$i/,"").trim(),sH(f)*c*c):/KB/i.test(f)?(f=f.replace(/KB$i/,"").trim(),sH(f)*c):sH(f)},ox=a=>typeof a=="function",Doe=a=>{let c=self,f=a.split("."),y=null;for(;y=f.shift();)if(c=c[y],!c)return null;return c},BX={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},Moe=a=>{const c={};return c.url=fm(a)?a:a.url||"",c.timeout=a.timeout?parseInt(a.timeout,10):0,c.headers=a.headers?a.headers:{},ql(BX,f=>{c[f]=Noe(f,a[f],BX[f],c.timeout,c.headers)}),c.process=a.process||fm(a)||a.url?c.process:null,c.remove=a.remove||null,delete c.headers,c},Noe=(a,c,f,y,C)=>{if(c===null)return null;if(typeof c=="function")return c;const w={url:f==="GET"||f==="PATCH"?`?${a}=`:"",method:f,headers:C,withCredentials:!1,timeout:y,onload:null,ondata:null,onerror:null};if(fm(c))return w.url=c,w;if(Object.assign(w,c),fm(w.headers)){const S=w.headers.split(/:(.+)/);w.headers={header:S[0],value:S[1]}}return w.withCredentials=RJ(w.withCredentials),w},koe=a=>Moe(a),Poe=a=>a===null,Qd=a=>typeof a=="object"&&a!==null,Loe=a=>Qd(a)&&fm(a.url)&&Qd(a.process)&&Qd(a.revert)&&Qd(a.restore)&&Qd(a.fetch),AZ=a=>$H(a)?"array":Poe(a)?"null":eR(a)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(a)?"bytes":Loe(a)?"api":typeof a,$oe=a=>a.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",'),Boe={array:Ioe,boolean:RJ,int:a=>AZ(a)==="bytes"?$X(a):sH(a),number:LX,float:LX,bytes:$X,string:a=>ox(a)?a:BH(a),function:a=>Doe(a),serverapi:koe,object:a=>{try{return JSON.parse($oe(a))}catch{return null}}},Foe=(a,c)=>Boe[c](a),DJ=(a,c,f)=>{if(a===c)return a;let y=AZ(a);if(y!==f){const C=Foe(a,f);if(y=AZ(C),C===null)throw`Trying to assign value with incorrect type to "${option}", allowed type: "${f}"`;a=C}return a},Hoe=(a,c)=>{let f=a;return{enumerable:!0,get:()=>f,set:y=>{f=DJ(y,a,c)}}},Voe=a=>{const c={};return ql(a,f=>{const y=a[f];c[f]=Hoe(y[0],y[1])}),Fw(c)},zoe=a=>({items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:Voe(a)}),FH=(a,c="-")=>a.split(/(?=[A-Z])/).map(f=>f.toLowerCase()).join(c),Uoe=(a,c)=>{const f={};return ql(c,y=>{f[y]={get:()=>a.getState().options[y],set:C=>{a.dispatch(`SET_${FH(y,"_").toUpperCase()}`,{value:C})}}}),f},Woe=a=>(c,f,y)=>{const C={};return ql(a,w=>{const S=FH(w,"_").toUpperCase();C[`SET_${S}`]=M=>{try{y.options[w]=M.value}catch{}c(`DID_SET_${S}`,{value:y.options[w]})}}),C},Goe=a=>c=>{const f={};return ql(a,y=>{f[`GET_${FH(y,"_").toUpperCase()}`]=C=>c.options[y]}),f},$v={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},nY=()=>Math.random().toString(36).substring(2,11),oY=(a,c)=>a.splice(c,1),joe=(a,c)=>{c?a():document.hidden?Promise.resolve(1).then(a):setTimeout(a,0)},HH=()=>{const a=[],c=(y,C)=>{oY(a,a.findIndex(w=>w.event===y&&(w.cb===C||!C)))},f=(y,C,w)=>{a.filter(S=>S.event===y).map(S=>S.cb).forEach(S=>joe(()=>S(...C),w))};return{fireSync:(y,...C)=>{f(y,C,!0)},fire:(y,...C)=>{f(y,C,!1)},on:(y,C)=>{a.push({event:y,cb:C})},onOnce:(y,C)=>{a.push({event:y,cb:(...w)=>{c(y,C),C(...w)}})},off:c}},MJ=(a,c,f)=>{Object.getOwnPropertyNames(a).filter(y=>!f.includes(y)).forEach(y=>Object.defineProperty(c,y,Object.getOwnPropertyDescriptor(a,y)))},qoe=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],hp=a=>{const c={};return MJ(a,c,qoe),c},Zoe=a=>{a.forEach((c,f)=>{c.released&&oY(a,f)})},Ks={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},Id={INPUT:1,LIMBO:2,LOCAL:3},NJ=a=>/[^0-9]+/.exec(a),kJ=()=>NJ(1.1.toLocaleString())[0],Yoe=()=>{const a=kJ(),c=1e3.toLocaleString(),f=1e3.toString();return c!==f?NJ(c)[0]:a==="."?",":"."},_n={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},sY=[],eb=(a,c,f)=>new Promise((y,C)=>{const w=sY.filter(M=>M.key===a).map(M=>M.cb);if(w.length===0){y(c);return}const S=w.shift();w.reduce((M,P)=>M.then(G=>P(G,f)),S(c,f)).then(M=>y(M)).catch(M=>C(M))}),hx=(a,c,f)=>sY.filter(y=>y.key===a).map(y=>y.cb(c,f)),Koe=(a,c)=>sY.push({key:a,cb:c}),Xoe=a=>Object.assign(PO,a),_H=()=>({...PO}),Qoe=a=>{ql(a,(c,f)=>{PO[c]&&(PO[c][0]=DJ(f,PO[c][0],PO[c][1]))})},PO={id:[null,_n.STRING],name:["filepond",_n.STRING],disabled:[!1,_n.BOOLEAN],className:[null,_n.STRING],required:[!1,_n.BOOLEAN],captureMethod:[null,_n.STRING],allowSyncAcceptAttribute:[!0,_n.BOOLEAN],allowDrop:[!0,_n.BOOLEAN],allowBrowse:[!0,_n.BOOLEAN],allowPaste:[!0,_n.BOOLEAN],allowMultiple:[!1,_n.BOOLEAN],allowReplace:[!0,_n.BOOLEAN],allowRevert:[!0,_n.BOOLEAN],allowRemove:[!0,_n.BOOLEAN],allowProcess:[!0,_n.BOOLEAN],allowReorder:[!1,_n.BOOLEAN],allowDirectoriesOnly:[!1,_n.BOOLEAN],storeAsFile:[!1,_n.BOOLEAN],forceRevert:[!1,_n.BOOLEAN],maxFiles:[null,_n.INT],checkValidity:[!1,_n.BOOLEAN],itemInsertLocationFreedom:[!0,_n.BOOLEAN],itemInsertLocation:["before",_n.STRING],itemInsertInterval:[75,_n.INT],dropOnPage:[!1,_n.BOOLEAN],dropOnElement:[!0,_n.BOOLEAN],dropValidation:[!1,_n.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],_n.ARRAY],instantUpload:[!0,_n.BOOLEAN],maxParallelUploads:[2,_n.INT],allowMinimumUploadDuration:[!0,_n.BOOLEAN],chunkUploads:[!1,_n.BOOLEAN],chunkForce:[!1,_n.BOOLEAN],chunkSize:[5e6,_n.INT],chunkRetryDelays:[[500,1e3,3e3],_n.ARRAY],server:[null,_n.SERVER_API],fileSizeBase:[1e3,_n.INT],labelFileSizeBytes:["bytes",_n.STRING],labelFileSizeKilobytes:["KB",_n.STRING],labelFileSizeMegabytes:["MB",_n.STRING],labelFileSizeGigabytes:["GB",_n.STRING],labelDecimalSeparator:[kJ(),_n.STRING],labelThousandsSeparator:[Yoe(),_n.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',_n.STRING],labelInvalidField:["Field contains invalid files",_n.STRING],labelFileWaitingForSize:["Waiting for size",_n.STRING],labelFileSizeNotAvailable:["Size not available",_n.STRING],labelFileCountSingular:["file in list",_n.STRING],labelFileCountPlural:["files in list",_n.STRING],labelFileLoading:["Loading",_n.STRING],labelFileAdded:["Added",_n.STRING],labelFileLoadError:["Error during load",_n.STRING],labelFileRemoved:["Removed",_n.STRING],labelFileRemoveError:["Error during remove",_n.STRING],labelFileProcessing:["Uploading",_n.STRING],labelFileProcessingComplete:["Upload complete",_n.STRING],labelFileProcessingAborted:["Upload cancelled",_n.STRING],labelFileProcessingError:["Error during upload",_n.STRING],labelFileProcessingRevertError:["Error during revert",_n.STRING],labelTapToCancel:["tap to cancel",_n.STRING],labelTapToRetry:["tap to retry",_n.STRING],labelTapToUndo:["tap to undo",_n.STRING],labelButtonRemoveItem:["Remove",_n.STRING],labelButtonAbortItemLoad:["Abort",_n.STRING],labelButtonRetryItemLoad:["Retry",_n.STRING],labelButtonAbortItemProcessing:["Cancel",_n.STRING],labelButtonUndoItemProcessing:["Undo",_n.STRING],labelButtonRetryItemProcessing:["Retry",_n.STRING],labelButtonProcessItem:["Upload",_n.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',_n.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',_n.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',_n.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',_n.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',_n.STRING],oninit:[null,_n.FUNCTION],onwarning:[null,_n.FUNCTION],onerror:[null,_n.FUNCTION],onactivatefile:[null,_n.FUNCTION],oninitfile:[null,_n.FUNCTION],onaddfilestart:[null,_n.FUNCTION],onaddfileprogress:[null,_n.FUNCTION],onaddfile:[null,_n.FUNCTION],onprocessfilestart:[null,_n.FUNCTION],onprocessfileprogress:[null,_n.FUNCTION],onprocessfileabort:[null,_n.FUNCTION],onprocessfilerevert:[null,_n.FUNCTION],onprocessfile:[null,_n.FUNCTION],onprocessfiles:[null,_n.FUNCTION],onremovefile:[null,_n.FUNCTION],onpreparefile:[null,_n.FUNCTION],onupdatefiles:[null,_n.FUNCTION],onreorderfiles:[null,_n.FUNCTION],beforeDropFile:[null,_n.FUNCTION],beforeAddFile:[null,_n.FUNCTION],beforeRemoveFile:[null,_n.FUNCTION],beforePrepareFile:[null,_n.FUNCTION],stylePanelLayout:[null,_n.STRING],stylePanelAspectRatio:[null,_n.STRING],styleItemPanelAspectRatio:[null,_n.STRING],styleButtonRemoveItemPosition:["left",_n.STRING],styleButtonProcessItemPosition:["right",_n.STRING],styleLoadIndicatorPosition:["right",_n.STRING],styleProgressIndicatorPosition:["right",_n.STRING],styleButtonRemoveItemAlign:[!1,_n.BOOLEAN],files:[[],_n.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],_n.ARRAY]},sx=(a,c)=>T_(c)?a[0]||null:eR(c)?a[c]||null:(typeof c=="object"&&(c=c.id),a.find(f=>f.id===c)||null),PJ=a=>{if(T_(a))return a;if(/:/.test(a)){const c=a.split(":");return c[1]/c[0]}return parseFloat(a)},tb=a=>a.filter(c=>!c.archived),LJ={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4};let z5=null;const Joe=()=>{if(z5===null)try{const a=new DataTransfer;a.items.add(new File(["hello world"],"This_Works.txt"));const c=document.createElement("input");c.setAttribute("type","file"),c.files=a.files,z5=c.files.length===1}catch{z5=!1}return z5},ese=[Ks.LOAD_ERROR,Ks.PROCESSING_ERROR,Ks.PROCESSING_REVERT_ERROR],tse=[Ks.LOADING,Ks.PROCESSING,Ks.PROCESSING_QUEUED,Ks.INIT],nse=[Ks.PROCESSING_COMPLETE],ose=a=>ese.includes(a.status),sse=a=>tse.includes(a.status),rse=a=>nse.includes(a.status),FX=a=>Qd(a.options.server)&&(Qd(a.options.server.process)||ox(a.options.server.process)),ise=a=>({GET_STATUS:()=>{const c=tb(a.items),{EMPTY:f,ERROR:y,BUSY:C,IDLE:w,READY:S}=LJ;return c.length===0?f:c.some(ose)?y:c.some(sse)?C:c.some(rse)?S:w},GET_ITEM:c=>sx(a.items,c),GET_ACTIVE_ITEM:c=>sx(tb(a.items),c),GET_ACTIVE_ITEMS:()=>tb(a.items),GET_ITEMS:()=>a.items,GET_ITEM_NAME:c=>{const f=sx(a.items,c);return f?f.filename:null},GET_ITEM_SIZE:c=>{const f=sx(a.items,c);return f?f.fileSize:null},GET_STYLES:()=>Object.keys(a.options).filter(c=>/^style/.test(c)).map(c=>({name:c,value:a.options[c]})),GET_PANEL_ASPECT_RATIO:()=>/circle/.test(a.options.stylePanelLayout)?1:PJ(a.options.stylePanelAspectRatio),GET_ITEM_PANEL_ASPECT_RATIO:()=>a.options.styleItemPanelAspectRatio,GET_ITEMS_BY_STATUS:c=>tb(a.items).filter(f=>f.status===c),GET_TOTAL_ITEMS:()=>tb(a.items).length,SHOULD_UPDATE_FILE_INPUT:()=>a.options.storeAsFile&&Joe()&&!FX(a),IS_ASYNC:()=>FX(a),GET_FILE_SIZE_LABELS:c=>({labelBytes:c("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:c("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:c("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:c("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0})}),ase=a=>{const c=tb(a.items).length;if(!a.options.allowMultiple)return c===0;const f=a.options.maxFiles;return f===null||c<f},$J=(a,c,f)=>Math.max(Math.min(f,a),c),cse=(a,c,f)=>a.splice(c,0,f),lse=(a,c,f)=>T_(c)?null:typeof f>"u"?(a.push(c),c):(f=$J(f,0,a.length),cse(a,f,c),c),OZ=a=>/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(a),rk=a=>a.split("/").pop().split("?").shift(),VH=a=>a.split(".").pop(),use=a=>{if(typeof a!="string")return"";const c=a.split("/").pop();return/svg/.test(c)?"svg":/zip|compressed/.test(c)?"zip":/plain/.test(c)?"txt":/msword/.test(c)?"doc":/[a-z]+/.test(c)?c==="jpeg"?"jpg":c:""},WN=(a,c="")=>(c+a).slice(-c.length),BJ=(a=new Date)=>`${a.getFullYear()}-${WN(a.getMonth()+1,"00")}-${WN(a.getDate(),"00")}_${WN(a.getHours(),"00")}-${WN(a.getMinutes(),"00")}-${WN(a.getSeconds(),"00")}`,WO=(a,c,f=null,y=null)=>{const C=typeof f=="string"?a.slice(0,a.size,f):a.slice(0,a.size,a.type);return C.lastModifiedDate=new Date,a._relativePath&&(C._relativePath=a._relativePath),fm(c)||(c=BJ()),c&&y===null&&VH(c)?C.name=c:(y=y||use(C.type),C.name=c+(y?"."+y:"")),C},dse=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,FJ=(a,c)=>{const f=dse();if(f){const y=new f;return y.append(a),y.getBlob(c)}return new Blob([a],{type:c})},fse=(a,c)=>{const f=new ArrayBuffer(a.length),y=new Uint8Array(f);for(let C=0;C<a.length;C++)y[C]=a.charCodeAt(C);return FJ(f,c)},HJ=a=>(/^data:(.+);/.exec(a)||[])[1]||null,hse=a=>a.split(",")[1].replace(/\s/g,""),mse=a=>atob(hse(a)),pse=a=>{const c=HJ(a),f=mse(a);return fse(f,c)},gse=(a,c,f)=>WO(pse(a),c,null,f),vse=a=>{if(!/^content-disposition:/i.test(a))return null;const c=a.split(/filename=|filename\*=.+''/).splice(1).map(f=>f.trim().replace(/^["']|[;"']{0,2}$/g,"")).filter(f=>f.length);return c.length?decodeURI(c[c.length-1]):null},bse=a=>{if(/content-length:/i.test(a)){const c=a.match(/[0-9]+/)[0];return c?parseInt(c,10):null}return null},yse=a=>/x-content-transfer-id:/i.test(a)&&(a.split(":")[1]||"").trim()||null,rY=a=>{const c={source:null,name:null,size:null},f=a.split(`
`);for(let y of f){const C=vse(y);if(C){c.name=C;continue}const w=bse(y);if(w){c.size=w;continue}const S=yse(y);if(S){c.source=S;continue}}return c},_se=a=>{const c={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},f=()=>c.progress,y=()=>{c.request&&c.request.abort&&c.request.abort()},C=()=>{const M=c.source;S.fire("init",M),M instanceof File?S.fire("load",M):M instanceof Blob?S.fire("load",WO(M,M.name)):OZ(M)?S.fire("load",gse(M)):w(M)},w=M=>{if(!a){S.fire("error",{type:"error",body:"Can't load URL",code:400});return}c.timestamp=Date.now(),c.request=a(M,P=>{c.duration=Date.now()-c.timestamp,c.complete=!0,P instanceof Blob&&(P=WO(P,P.name||rk(M))),S.fire("load",P instanceof Blob?P:P?P.body:null)},P=>{S.fire("error",typeof P=="string"?{type:"error",code:0,body:P}:P)},(P,G,j)=>{if(j&&(c.size=j),c.duration=Date.now()-c.timestamp,!P){c.progress=null;return}c.progress=G/j,S.fire("progress",c.progress)},()=>{S.fire("abort")},P=>{const G=rY(typeof P=="string"?P:P.headers);S.fire("meta",{size:c.size||G.size,filename:G.name,source:G.source})})},S={...HH(),setSource:M=>c.source=M,getProgress:f,abort:y,load:C};return S},HX=a=>/GET|HEAD/.test(a),ax=(a,c,f)=>{const y={onheaders:()=>{},onprogress:()=>{},onload:()=>{},ontimeout:()=>{},onerror:()=>{},onabort:()=>{},abort:()=>{C=!0,S.abort()}};let C=!1,w=!1;f={method:"POST",headers:{},withCredentials:!1,...f},c=encodeURI(c),HX(f.method)&&a&&(c=`${c}${encodeURIComponent(typeof a=="string"?a:JSON.stringify(a))}`);const S=new XMLHttpRequest,M=HX(f.method)?S:S.upload;return M.onprogress=P=>{C||y.onprogress(P.lengthComputable,P.loaded,P.total)},S.onreadystatechange=()=>{S.readyState<2||S.readyState===4&&S.status===0||w||(w=!0,y.onheaders(S))},S.onload=()=>{S.status>=200&&S.status<300?y.onload(S):y.onerror(S)},S.onerror=()=>y.onerror(S),S.onabort=()=>{C=!0,y.onabort()},S.ontimeout=()=>y.ontimeout(S),S.open(f.method,c,!0),eR(f.timeout)&&(S.timeout=f.timeout),Object.keys(f.headers).forEach(P=>{const G=unescape(encodeURIComponent(f.headers[P]));S.setRequestHeader(P,G)}),f.responseType&&(S.responseType=f.responseType),f.withCredentials&&(S.withCredentials=!0),S.send(a),y},Cu=(a,c,f,y)=>({type:a,code:c,body:f,headers:y}),cx=a=>c=>{a(Cu("error",0,"Timeout",c.getAllResponseHeaders()))},VX=a=>/\?/.test(a),KN=(...a)=>{let c="";return a.forEach(f=>{c+=VX(c)&&VX(f)?f.replace(/\?/,"&"):f}),c},Xq=(a="",c)=>{if(typeof c=="function")return c;if(!c||!fm(c.url))return null;const f=c.onload||(C=>C),y=c.onerror||(C=>null);return(C,w,S,M,P,G)=>{const j=ax(C,KN(a,c.url),{...c,responseType:"blob"});return j.onload=J=>{const me=J.getAllResponseHeaders(),ae=rY(me).name||rk(C);w(Cu("load",J.status,c.method==="HEAD"?null:WO(f(J.response),ae),me))},j.onerror=J=>{S(Cu("error",J.status,y(J.response)||J.statusText,J.getAllResponseHeaders()))},j.onheaders=J=>{G(Cu("headers",J.status,null,J.getAllResponseHeaders()))},j.ontimeout=cx(S),j.onprogress=M,j.onabort=P,j}},Nv={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},Ese=(a,c,f,y,C,w,S,M,P,G,j)=>{const J=[],{chunkTransferId:me,chunkServer:ae,chunkSize:pe,chunkRetryDelays:fe}=j,ue={serverId:me,aborted:!1},le=c.ondata||(Tt=>Tt),ve=c.onload||((Tt,Mt)=>Mt==="HEAD"?Tt.getResponseHeader("Upload-Offset"):Tt.response),ee=c.onerror||(Tt=>null),ke=Tt=>{const Mt=new FormData;Qd(C)&&Mt.append(f,JSON.stringify(C));const F=typeof c.headers=="function"?c.headers(y,C):{...c.headers,"Upload-Length":y.size},Nt={...c,headers:F},rt=ax(le(Mt),KN(a,c.url),Nt);rt.onload=Kt=>Tt(ve(Kt,Nt.method)),rt.onerror=Kt=>S(Cu("error",Kt.status,ee(Kt.response)||Kt.statusText,Kt.getAllResponseHeaders())),rt.ontimeout=cx(S)},Ke=Tt=>{const Mt=KN(a,ae.url,ue.serverId),Nt={headers:typeof c.headers=="function"?c.headers(ue.serverId):{...c.headers},method:"HEAD"},rt=ax(null,Mt,Nt);rt.onload=Kt=>Tt(ve(Kt,Nt.method)),rt.onerror=Kt=>S(Cu("error",Kt.status,ee(Kt.response)||Kt.statusText,Kt.getAllResponseHeaders())),rt.ontimeout=cx(S)},V=Math.floor(y.size/pe);for(let Tt=0;Tt<=V;Tt++){const Mt=Tt*pe,F=y.slice(Mt,Mt+pe,"application/offset+octet-stream");J[Tt]={index:Tt,size:F.size,offset:Mt,data:F,file:y,progress:0,retries:[...fe],status:Nv.QUEUED,error:null,request:null,timeout:null}}const we=()=>w(ue.serverId),Ue=Tt=>Tt.status===Nv.QUEUED||Tt.status===Nv.ERROR,bt=Tt=>{if(ue.aborted)return;if(Tt=Tt||J.find(Ue),!Tt){J.every(Gt=>Gt.status===Nv.COMPLETE)&&we();return}Tt.status=Nv.PROCESSING,Tt.progress=null;const Mt=ae.ondata||(Gt=>Gt),F=ae.onerror||(Gt=>null),Nt=KN(a,ae.url,ue.serverId),rt=typeof ae.headers=="function"?ae.headers(Tt):{...ae.headers,"Content-Type":"application/offset+octet-stream","Upload-Offset":Tt.offset,"Upload-Length":y.size,"Upload-Name":y.name},Kt=Tt.request=ax(Mt(Tt.data),Nt,{...ae,headers:rt});Kt.onload=()=>{Tt.status=Nv.COMPLETE,Tt.request=null,Te()},Kt.onprogress=(Gt,Ze,_o)=>{Tt.progress=Gt?Ze:null,He()},Kt.onerror=Gt=>{Tt.status=Nv.ERROR,Tt.request=null,Tt.error=F(Gt.response)||Gt.statusText,It(Tt)||S(Cu("error",Gt.status,F(Gt.response)||Gt.statusText,Gt.getAllResponseHeaders()))},Kt.ontimeout=Gt=>{Tt.status=Nv.ERROR,Tt.request=null,It(Tt)||cx(S)(Gt)},Kt.onabort=()=>{Tt.status=Nv.QUEUED,Tt.request=null,P()}},It=Tt=>Tt.retries.length===0?!1:(Tt.status=Nv.WAITING,clearTimeout(Tt.timeout),Tt.timeout=setTimeout(()=>{bt(Tt)},Tt.retries.shift()),!0),He=()=>{const Tt=J.reduce((F,Nt)=>F===null||Nt.progress===null?null:F+Nt.progress,0);if(Tt===null)return M(!1,0,0);const Mt=J.reduce((F,Nt)=>F+Nt.size,0);M(!0,Tt,Mt)},Te=()=>{J.filter(Mt=>Mt.status===Nv.PROCESSING).length>=1||bt()},bn=()=>{J.forEach(Tt=>{clearTimeout(Tt.timeout),Tt.request&&Tt.request.abort()})};return ue.serverId?Ke(Tt=>{ue.aborted||(J.filter(Mt=>Mt.offset<Tt).forEach(Mt=>{Mt.status=Nv.COMPLETE,Mt.progress=Mt.size}),Te())}):ke(Tt=>{ue.aborted||(G(Tt),ue.serverId=Tt,Te())}),{abort:()=>{ue.aborted=!0,bn()}}},wse=(a,c,f,y)=>(C,w,S,M,P,G,j)=>{if(!C)return;const J=y.chunkUploads,me=J&&C.size>y.chunkSize,ae=J&&(me||y.chunkForce);if(C instanceof Blob&&ae)return Ese(a,c,f,C,w,S,M,P,G,j,y);const pe=c.ondata||(Ke=>Ke),fe=c.onload||(Ke=>Ke),ue=c.onerror||(Ke=>null),le=typeof c.headers=="function"?c.headers(C,w)||{}:{...c.headers},ve={...c,headers:le};var ee=new FormData;Qd(w)&&ee.append(f,JSON.stringify(w)),(C instanceof Blob?[{name:null,file:C}]:C).forEach(Ke=>{ee.append(f,Ke.file,Ke.name===null?Ke.file.name:`${Ke.name}${Ke.file.name}`)});const ke=ax(pe(ee),KN(a,c.url),ve);return ke.onload=Ke=>{S(Cu("load",Ke.status,fe(Ke.response),Ke.getAllResponseHeaders()))},ke.onerror=Ke=>{M(Cu("error",Ke.status,ue(Ke.response)||Ke.statusText,Ke.getAllResponseHeaders()))},ke.ontimeout=cx(M),ke.onprogress=P,ke.onabort=G,ke},Tse=(a="",c,f,y)=>typeof c=="function"?(...C)=>c(f,...C,y):!c||!fm(c.url)?null:wse(a,c,f,y),GN=(a="",c)=>{if(typeof c=="function")return c;if(!c||!fm(c.url))return(C,w)=>w();const f=c.onload||(C=>C),y=c.onerror||(C=>null);return(C,w,S)=>{const M=ax(C,a+c.url,c);return M.onload=P=>{w(Cu("load",P.status,f(P.response),P.getAllResponseHeaders()))},M.onerror=P=>{S(Cu("error",P.status,y(P.response)||P.statusText,P.getAllResponseHeaders()))},M.ontimeout=cx(S),M}},VJ=(a=0,c=1)=>a+Math.random()*(c-a),Cse=(a,c=1e3,f=0,y=25,C=250)=>{let w=null;const S=Date.now(),M=()=>{let P=Date.now()-S,G=VJ(y,C);P+G>c&&(G=P+G-c);let j=P/c;if(j>=1||document.hidden){a(1);return}a(j),w=setTimeout(M,G)};return c>0&&M(),{clear:()=>{clearTimeout(w)}}},Sse=(a,c)=>{const f={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},{allowMinimumUploadDuration:y}=c,C=(j,J)=>{const me=()=>{f.duration===0||f.progress===null||G.fire("progress",G.getProgress())},ae=()=>{f.complete=!0,G.fire("load-perceived",f.response.body)};G.fire("start"),f.timestamp=Date.now(),f.perceivedPerformanceUpdater=Cse(pe=>{f.perceivedProgress=pe,f.perceivedDuration=Date.now()-f.timestamp,me(),f.response&&f.perceivedProgress===1&&!f.complete&&ae()},y?VJ(750,1500):0),f.request=a(j,J,pe=>{f.response=Qd(pe)?pe:{type:"load",code:200,body:`${pe}`,headers:{}},f.duration=Date.now()-f.timestamp,f.progress=1,G.fire("load",f.response.body),(!y||y&&f.perceivedProgress===1)&&ae()},pe=>{f.perceivedPerformanceUpdater.clear(),G.fire("error",Qd(pe)?pe:{type:"error",code:0,body:`${pe}`})},(pe,fe,ue)=>{f.duration=Date.now()-f.timestamp,f.progress=pe?fe/ue:null,me()},()=>{f.perceivedPerformanceUpdater.clear(),G.fire("abort",f.response?f.response.body:null)},pe=>{G.fire("transfer",pe)})},w=()=>{f.request&&(f.perceivedPerformanceUpdater.clear(),f.request.abort&&f.request.abort(),f.complete=!0)},S=()=>{w(),f.complete=!1,f.perceivedProgress=0,f.progress=0,f.timestamp=null,f.perceivedDuration=0,f.duration=0,f.request=null,f.response=null},M=y?()=>f.progress?Math.min(f.progress,f.perceivedProgress):null:()=>f.progress||null,P=y?()=>Math.min(f.duration,f.perceivedDuration):()=>f.duration,G={...HH(),process:C,abort:w,getProgress:M,getDuration:P,reset:S};return G},zJ=a=>a.substring(0,a.lastIndexOf("."))||a,xse=a=>{let c=[a.name,a.size,a.type];return a instanceof Blob||OZ(a)?c[0]=a.name||BJ():OZ(a)?(c[1]=a.length,c[2]=HJ(a)):fm(a)&&(c[0]=rk(a),c[1]=0,c[2]="application/octet-stream"),{name:c[0],size:c[1],type:c[2]}},GO=a=>!!(a instanceof File||a instanceof Blob&&a.name),UJ=a=>{if(!Qd(a))return a;const c=$H(a)?[]:{};for(const f in a){if(!a.hasOwnProperty(f))continue;const y=a[f];c[f]=y&&Qd(y)?UJ(y):y}return c},Ase=(a=null,c=null,f=null)=>{const y=nY(),C={archived:!1,frozen:!1,released:!1,source:null,file:f,serverFileReference:c,transferId:null,processingAborted:!1,status:c?Ks.PROCESSING_COMPLETE:Ks.INIT,activeLoader:null,activeProcessor:null};let w=null;const S={},M=Ue=>C.status=Ue,P=(Ue,...bt)=>{C.released||C.frozen||V.fire(Ue,...bt)},G=()=>VH(C.file.name),j=()=>C.file.type,J=()=>C.file.size,me=()=>C.file,ae=(Ue,bt,It)=>{if(C.source=Ue,V.fireSync("init"),C.file){V.fireSync("load-skip");return}C.file=xse(Ue),bt.on("init",()=>{P("load-init")}),bt.on("meta",He=>{C.file.size=He.size,C.file.filename=He.filename,He.source&&(a=Id.LIMBO,C.serverFileReference=He.source,C.status=Ks.PROCESSING_COMPLETE),P("load-meta")}),bt.on("progress",He=>{M(Ks.LOADING),P("load-progress",He)}),bt.on("error",He=>{M(Ks.LOAD_ERROR),P("load-request-error",He)}),bt.on("abort",()=>{M(Ks.INIT),P("load-abort")}),bt.on("load",He=>{C.activeLoader=null;const Te=Tt=>{C.file=GO(Tt)?Tt:C.file,a===Id.LIMBO&&C.serverFileReference?M(Ks.PROCESSING_COMPLETE):M(Ks.IDLE),P("load")},bn=Tt=>{C.file=He,P("load-meta"),M(Ks.LOAD_ERROR),P("load-file-error",Tt)};if(C.serverFileReference){Te(He);return}It(He,Te,bn)}),bt.setSource(Ue),C.activeLoader=bt,bt.load()},pe=()=>{C.activeLoader&&C.activeLoader.load()},fe=()=>{if(C.activeLoader){C.activeLoader.abort();return}M(Ks.INIT),P("load-abort")},ue=(Ue,bt)=>{if(C.processingAborted){C.processingAborted=!1;return}if(M(Ks.PROCESSING),w=null,!(C.file instanceof Blob)){V.on("load",()=>{ue(Ue,bt)});return}Ue.on("load",Te=>{C.transferId=null,C.serverFileReference=Te}),Ue.on("transfer",Te=>{C.transferId=Te}),Ue.on("load-perceived",Te=>{C.activeProcessor=null,C.transferId=null,C.serverFileReference=Te,M(Ks.PROCESSING_COMPLETE),P("process-complete",Te)}),Ue.on("start",()=>{P("process-start")}),Ue.on("error",Te=>{C.activeProcessor=null,M(Ks.PROCESSING_ERROR),P("process-error",Te)}),Ue.on("abort",Te=>{C.activeProcessor=null,C.serverFileReference=Te,M(Ks.IDLE),P("process-abort"),w&&w()}),Ue.on("progress",Te=>{P("process-progress",Te)});const It=Te=>{C.archived||Ue.process(Te,{...S})},He=console.error;bt(C.file,It,He),C.activeProcessor=Ue},le=()=>{C.processingAborted=!1,M(Ks.PROCESSING_QUEUED)},ve=()=>new Promise(Ue=>{if(!C.activeProcessor){C.processingAborted=!0,M(Ks.IDLE),P("process-abort"),Ue();return}w=()=>{Ue()},C.activeProcessor.abort()}),ee=(Ue,bt)=>new Promise((It,He)=>{const Te=C.serverFileReference!==null?C.serverFileReference:C.transferId;if(Te===null){It();return}Ue(Te,()=>{C.serverFileReference=null,C.transferId=null,It()},bn=>{if(!bt){It();return}M(Ks.PROCESSING_REVERT_ERROR),P("process-revert-error"),He(bn)}),M(Ks.IDLE),P("process-revert")}),ke=(Ue,bt,It)=>{const He=Ue.split("."),Te=He[0],bn=He.pop();let Tt=S;He.forEach(Mt=>Tt=Tt[Mt]),JSON.stringify(Tt[bn])!==JSON.stringify(bt)&&(Tt[bn]=bt,P("metadata-update",{key:Te,value:S[Te],silent:It}))},V={id:{get:()=>y},origin:{get:()=>a,set:Ue=>a=Ue},serverId:{get:()=>C.serverFileReference},transferId:{get:()=>C.transferId},status:{get:()=>C.status},filename:{get:()=>C.file.name},filenameWithoutExtension:{get:()=>zJ(C.file.name)},fileExtension:{get:G},fileType:{get:j},fileSize:{get:J},file:{get:me},relativePath:{get:()=>C.file._relativePath},source:{get:()=>C.source},getMetadata:Ue=>UJ(Ue?S[Ue]:S),setMetadata:(Ue,bt,It)=>{if(Qd(Ue)){const He=Ue;return Object.keys(He).forEach(Te=>{ke(Te,He[Te],bt)}),Ue}return ke(Ue,bt,It),bt},extend:(Ue,bt)=>we[Ue]=bt,abortLoad:fe,retryLoad:pe,requestProcessing:le,abortProcessing:ve,load:ae,process:ue,revert:ee,...HH(),freeze:()=>C.frozen=!0,release:()=>C.released=!0,released:{get:()=>C.released},archive:()=>C.archived=!0,archived:{get:()=>C.archived}},we=Fw(V);return we},Ose=(a,c)=>T_(c)?0:fm(c)?a.findIndex(f=>f.id===c):-1,zX=(a,c)=>{const f=Ose(a,c);if(!(f<0))return a[f]||null},UX=(a,c,f,y,C,w)=>{const S=ax(null,a,{method:"GET",responseType:"blob"});return S.onload=M=>{const P=M.getAllResponseHeaders(),G=rY(P).name||rk(a);c(Cu("load",M.status,WO(M.response,G),P))},S.onerror=M=>{f(Cu("error",M.status,M.statusText,M.getAllResponseHeaders()))},S.onheaders=M=>{w(Cu("headers",M.status,null,M.getAllResponseHeaders()))},S.ontimeout=cx(f),S.onprogress=y,S.onabort=C,S},WX=a=>(a.indexOf("//")===0&&(a=location.protocol+a),a.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]),Rse=a=>(a.indexOf(":")>-1||a.indexOf("//")>-1)&&WX(location.href)!==WX(a),U5=a=>(...c)=>ox(a)?a(...c):a,Ise=a=>!GO(a.file),Qq=(a,c)=>{clearTimeout(c.listUpdateTimeout),c.listUpdateTimeout=setTimeout(()=>{a("DID_UPDATE_ITEMS",{items:tb(c.items)})},0)},GX=(a,...c)=>new Promise(f=>{if(!a)return f(!0);const y=a(...c);if(y==null)return f(!0);if(typeof y=="boolean")return f(y);typeof y.then=="function"&&y.then(f)}),Jq=(a,c)=>{a.items.sort((f,y)=>c(hp(f),hp(y)))},kv=(a,c)=>({query:f,success:y=()=>{},failure:C=()=>{},...w}={})=>{const S=sx(a.items,f);if(!S){C({error:Cu("error",0,"Item not found"),file:null});return}c(S,y,C,w||{})},Dse=(a,c,f)=>({ABORT_ALL:()=>{tb(f.items).forEach(y=>{y.freeze(),y.abortLoad(),y.abortProcessing()})},DID_SET_FILES:({value:y=[]})=>{const C=y.map(S=>({source:S.source?S.source:S,options:S.options}));let w=tb(f.items);w.forEach(S=>{C.find(M=>M.source===S.source||M.source===S.file)||a("REMOVE_ITEM",{query:S,remove:!1})}),w=tb(f.items),C.forEach((S,M)=>{w.find(P=>P.source===S.source||P.file===S.source)||a("ADD_ITEM",{...S,interactionMethod:$v.NONE,index:M})})},DID_UPDATE_ITEM_METADATA:({id:y,action:C,change:w})=>{w.silent||(clearTimeout(f.itemUpdateTimeout),f.itemUpdateTimeout=setTimeout(()=>{const S=zX(f.items,y);if(!c("IS_ASYNC")){eb("SHOULD_PREPARE_OUTPUT",!1,{item:S,query:c,action:C,change:w}).then(j=>{const J=c("GET_BEFORE_PREPARE_FILE");J&&(j=J(S,j)),j&&a("REQUEST_PREPARE_OUTPUT",{query:y,item:S,success:me=>{a("DID_PREPARE_OUTPUT",{id:y,file:me})}},!0)});return}S.origin===Id.LOCAL&&a("DID_LOAD_ITEM",{id:S.id,error:null,serverFileReference:S.source});const M=()=>{setTimeout(()=>{a("REQUEST_ITEM_PROCESSING",{query:y})},32)},P=j=>{S.revert(GN(f.options.server.url,f.options.server.revert),c("GET_FORCE_REVERT")).then(j?M:()=>{}).catch(()=>{})},G=j=>{S.abortProcessing().then(j?M:()=>{})};if(S.status===Ks.PROCESSING_COMPLETE)return P(f.options.instantUpload);if(S.status===Ks.PROCESSING)return G(f.options.instantUpload);f.options.instantUpload&&M()},0))},MOVE_ITEM:({query:y,index:C})=>{const w=sx(f.items,y);if(!w)return;const S=f.items.indexOf(w);C=$J(C,0,f.items.length-1),S!==C&&f.items.splice(C,0,f.items.splice(S,1)[0])},SORT:({compare:y})=>{Jq(f,y),a("DID_SORT_ITEMS",{items:c("GET_ACTIVE_ITEMS")})},ADD_ITEMS:({items:y,index:C,interactionMethod:w,success:S=()=>{},failure:M=()=>{}})=>{let P=C;if(C===-1||typeof C>"u"){const ae=c("GET_ITEM_INSERT_LOCATION"),pe=c("GET_TOTAL_ITEMS");P=ae==="before"?0:pe}const G=c("GET_IGNORED_FILES"),j=ae=>GO(ae)?!G.includes(ae.name.toLowerCase()):!T_(ae),me=y.filter(j).map(ae=>new Promise((pe,fe)=>{a("ADD_ITEM",{interactionMethod:w,source:ae.source||ae,success:pe,failure:fe,index:P++,options:ae.options||{}})}));Promise.all(me).then(S).catch(M)},ADD_ITEM:({source:y,index:C=-1,interactionMethod:w,success:S=()=>{},failure:M=()=>{},options:P={}})=>{if(T_(y)){M({error:Cu("error",0,"No source"),file:null});return}if(GO(y)&&f.options.ignoredFiles.includes(y.name.toLowerCase()))return;if(!ase(f)){if(f.options.allowMultiple||!f.options.allowMultiple&&!f.options.allowReplace){const ve=Cu("warning",0,"Max files");a("DID_THROW_MAX_FILES",{source:y,error:ve}),M({error:ve,file:null});return}const le=tb(f.items)[0];if(le.status===Ks.PROCESSING_COMPLETE||le.status===Ks.PROCESSING_REVERT_ERROR){const ve=c("GET_FORCE_REVERT");if(le.revert(GN(f.options.server.url,f.options.server.revert),ve).then(()=>{ve&&a("ADD_ITEM",{source:y,index:C,interactionMethod:w,success:S,failure:M,options:P})}).catch(()=>{}),ve)return}a("REMOVE_ITEM",{query:le.id})}const G=P.type==="local"?Id.LOCAL:P.type==="limbo"?Id.LIMBO:Id.INPUT,j=Ase(G,G===Id.INPUT?null:y,P.file);Object.keys(P.metadata||{}).forEach(le=>{j.setMetadata(le,P.metadata[le])}),hx("DID_CREATE_ITEM",j,{query:c,dispatch:a});const J=c("GET_ITEM_INSERT_LOCATION");f.options.itemInsertLocationFreedom||(C=J==="before"?-1:f.items.length),lse(f.items,j,C),ox(J)&&y&&Jq(f,J);const me=j.id;j.on("init",()=>{a("DID_INIT_ITEM",{id:me})}),j.on("load-init",()=>{a("DID_START_ITEM_LOAD",{id:me})}),j.on("load-meta",()=>{a("DID_UPDATE_ITEM_META",{id:me})}),j.on("load-progress",le=>{a("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:me,progress:le})}),j.on("load-request-error",le=>{const ve=U5(f.options.labelFileLoadError)(le);if(le.code>=400&&le.code<500){a("DID_THROW_ITEM_INVALID",{id:me,error:le,status:{main:ve,sub:`${le.code} (${le.body})`}}),M({error:le,file:hp(j)});return}a("DID_THROW_ITEM_LOAD_ERROR",{id:me,error:le,status:{main:ve,sub:f.options.labelTapToRetry}})}),j.on("load-file-error",le=>{a("DID_THROW_ITEM_INVALID",{id:me,error:le.status,status:le.status}),M({error:le.status,file:hp(j)})}),j.on("load-abort",()=>{a("REMOVE_ITEM",{query:me})}),j.on("load-skip",()=>{a("COMPLETE_LOAD_ITEM",{query:me,item:j,data:{source:y,success:S}})}),j.on("load",()=>{const le=ve=>{if(!ve){a("REMOVE_ITEM",{query:me});return}j.on("metadata-update",ee=>{a("DID_UPDATE_ITEM_METADATA",{id:me,change:ee})}),eb("SHOULD_PREPARE_OUTPUT",!1,{item:j,query:c}).then(ee=>{const ke=c("GET_BEFORE_PREPARE_FILE");ke&&(ee=ke(j,ee));const Ke=()=>{a("COMPLETE_LOAD_ITEM",{query:me,item:j,data:{source:y,success:S}}),Qq(a,f)};if(ee){a("REQUEST_PREPARE_OUTPUT",{query:me,item:j,success:V=>{a("DID_PREPARE_OUTPUT",{id:me,file:V}),Ke()}},!0);return}Ke()})};eb("DID_LOAD_ITEM",j,{query:c,dispatch:a}).then(()=>{GX(c("GET_BEFORE_ADD_FILE"),hp(j)).then(le)}).catch(ve=>{if(!ve||!ve.error||!ve.status)return le(!1);a("DID_THROW_ITEM_INVALID",{id:me,error:ve.error,status:ve.status})})}),j.on("process-start",()=>{a("DID_START_ITEM_PROCESSING",{id:me})}),j.on("process-progress",le=>{a("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:me,progress:le})}),j.on("process-error",le=>{a("DID_THROW_ITEM_PROCESSING_ERROR",{id:me,error:le,status:{main:U5(f.options.labelFileProcessingError)(le),sub:f.options.labelTapToRetry}})}),j.on("process-revert-error",le=>{a("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:me,error:le,status:{main:U5(f.options.labelFileProcessingRevertError)(le),sub:f.options.labelTapToRetry}})}),j.on("process-complete",le=>{a("DID_COMPLETE_ITEM_PROCESSING",{id:me,error:null,serverFileReference:le}),a("DID_DEFINE_VALUE",{id:me,value:le})}),j.on("process-abort",()=>{a("DID_ABORT_ITEM_PROCESSING",{id:me})}),j.on("process-revert",()=>{a("DID_REVERT_ITEM_PROCESSING",{id:me}),a("DID_DEFINE_VALUE",{id:me,value:null})}),a("DID_ADD_ITEM",{id:me,index:C,interactionMethod:w}),Qq(a,f);const{url:ae,load:pe,restore:fe,fetch:ue}=f.options.server||{};j.load(y,_se(G===Id.INPUT?fm(y)&&Rse(y)&&ue?Xq(ae,ue):UX:G===Id.LIMBO?Xq(ae,fe):Xq(ae,pe)),(le,ve,ee)=>{eb("LOAD_FILE",le,{query:c}).then(ve).catch(ee)})},REQUEST_PREPARE_OUTPUT:({item:y,success:C,failure:w=()=>{}})=>{const S={error:Cu("error",0,"Item not found"),file:null};if(y.archived)return w(S);eb("PREPARE_OUTPUT",y.file,{query:c,item:y}).then(M=>{eb("COMPLETE_PREPARE_OUTPUT",M,{query:c,item:y}).then(P=>{if(y.archived)return w(S);C(P)})})},COMPLETE_LOAD_ITEM:({item:y,data:C})=>{const{success:w,source:S}=C,M=c("GET_ITEM_INSERT_LOCATION");if(ox(M)&&S&&Jq(f,M),a("DID_LOAD_ITEM",{id:y.id,error:null,serverFileReference:y.origin===Id.INPUT?null:S}),w(hp(y)),y.origin===Id.LOCAL){a("DID_LOAD_LOCAL_ITEM",{id:y.id});return}if(y.origin===Id.LIMBO){a("DID_COMPLETE_ITEM_PROCESSING",{id:y.id,error:null,serverFileReference:S}),a("DID_DEFINE_VALUE",{id:y.id,value:y.serverId||S});return}c("IS_ASYNC")&&f.options.instantUpload&&a("REQUEST_ITEM_PROCESSING",{query:y.id})},RETRY_ITEM_LOAD:kv(f,y=>{y.retryLoad()}),REQUEST_ITEM_PREPARE:kv(f,(y,C,w)=>{a("REQUEST_PREPARE_OUTPUT",{query:y.id,item:y,success:S=>{a("DID_PREPARE_OUTPUT",{id:y.id,file:S}),C({file:y,output:S})},failure:w},!0)}),REQUEST_ITEM_PROCESSING:kv(f,(y,C,w)=>{if(!(y.status===Ks.IDLE||y.status===Ks.PROCESSING_ERROR)){const M=()=>a("REQUEST_ITEM_PROCESSING",{query:y,success:C,failure:w}),P=()=>document.hidden?M():setTimeout(M,32);y.status===Ks.PROCESSING_COMPLETE||y.status===Ks.PROCESSING_REVERT_ERROR?y.revert(GN(f.options.server.url,f.options.server.revert),c("GET_FORCE_REVERT")).then(P).catch(()=>{}):y.status===Ks.PROCESSING&&y.abortProcessing().then(P);return}y.status!==Ks.PROCESSING_QUEUED&&(y.requestProcessing(),a("DID_REQUEST_ITEM_PROCESSING",{id:y.id}),a("PROCESS_ITEM",{query:y,success:C,failure:w},!0))}),PROCESS_ITEM:kv(f,(y,C,w)=>{const S=c("GET_MAX_PARALLEL_UPLOADS");if(c("GET_ITEMS_BY_STATUS",Ks.PROCESSING).length===S){f.processingQueue.push({id:y.id,success:C,failure:w});return}if(y.status===Ks.PROCESSING)return;const P=()=>{const j=f.processingQueue.shift();if(!j)return;const{id:J,success:me,failure:ae}=j,pe=sx(f.items,J);if(!pe||pe.archived){P();return}a("PROCESS_ITEM",{query:J,success:me,failure:ae},!0)};y.onOnce("process-complete",()=>{C(hp(y)),P();const j=f.options.server;if(f.options.instantUpload&&y.origin===Id.LOCAL&&ox(j.remove)){const ae=()=>{};y.origin=Id.LIMBO,f.options.server.remove(y.source,ae,ae)}c("GET_ITEMS_BY_STATUS",Ks.PROCESSING_COMPLETE).length===f.items.length&&a("DID_COMPLETE_ITEM_PROCESSING_ALL")}),y.onOnce("process-error",j=>{w({error:j,file:hp(y)}),P()});const G=f.options;y.process(Sse(Tse(G.server.url,G.server.process,G.name,{chunkTransferId:y.transferId,chunkServer:G.server.patch,chunkUploads:G.chunkUploads,chunkForce:G.chunkForce,chunkSize:G.chunkSize,chunkRetryDelays:G.chunkRetryDelays}),{allowMinimumUploadDuration:c("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),(j,J,me)=>{eb("PREPARE_OUTPUT",j,{query:c,item:y}).then(ae=>{a("DID_PREPARE_OUTPUT",{id:y.id,file:ae}),J(ae)}).catch(me)})}),RETRY_ITEM_PROCESSING:kv(f,y=>{a("REQUEST_ITEM_PROCESSING",{query:y})}),REQUEST_REMOVE_ITEM:kv(f,y=>{GX(c("GET_BEFORE_REMOVE_FILE"),hp(y)).then(C=>{C&&a("REMOVE_ITEM",{query:y})})}),RELEASE_ITEM:kv(f,y=>{y.release()}),REMOVE_ITEM:kv(f,(y,C,w,S)=>{const M=()=>{const G=y.id;zX(f.items,G).archive(),a("DID_REMOVE_ITEM",{error:null,id:G,item:y}),Qq(a,f),C(hp(y))},P=f.options.server;y.origin===Id.LOCAL&&P&&ox(P.remove)&&S.remove!==!1?(a("DID_START_ITEM_REMOVE",{id:y.id}),P.remove(y.source,()=>M(),G=>{a("DID_THROW_ITEM_REMOVE_ERROR",{id:y.id,error:Cu("error",0,G,null),status:{main:U5(f.options.labelFileRemoveError)(G),sub:f.options.labelTapToRetry}})})):((S.revert&&y.origin!==Id.LOCAL&&y.serverId!==null||f.options.chunkUploads&&y.file.size>f.options.chunkSize||f.options.chunkUploads&&f.options.chunkForce)&&y.revert(GN(f.options.server.url,f.options.server.revert),c("GET_FORCE_REVERT")),M())}),ABORT_ITEM_LOAD:kv(f,y=>{y.abortLoad()}),ABORT_ITEM_PROCESSING:kv(f,y=>{if(y.serverId){a("REVERT_ITEM_PROCESSING",{id:y.id});return}y.abortProcessing().then(()=>{f.options.instantUpload&&a("REMOVE_ITEM",{query:y.id})})}),REQUEST_REVERT_ITEM_PROCESSING:kv(f,y=>{if(!f.options.instantUpload){a("REVERT_ITEM_PROCESSING",{query:y});return}const C=M=>{M&&a("REVERT_ITEM_PROCESSING",{query:y})},w=c("GET_BEFORE_REMOVE_FILE");if(!w)return C(!0);const S=w(hp(y));if(S==null)return C(!0);if(typeof S=="boolean")return C(S);typeof S.then=="function"&&S.then(C)}),REVERT_ITEM_PROCESSING:kv(f,y=>{y.revert(GN(f.options.server.url,f.options.server.revert),c("GET_FORCE_REVERT")).then(()=>{(f.options.instantUpload||Ise(y))&&a("REMOVE_ITEM",{query:y.id})}).catch(()=>{})}),SET_OPTIONS:({options:y})=>{const C=Object.keys(y),w=Mse.filter(M=>C.includes(M));[...w,...Object.keys(y).filter(M=>!w.includes(M))].forEach(M=>{a(`SET_${FH(M,"_").toUpperCase()}`,{value:y[M]})})}}),Mse=["server"],iY=a=>a,C_=a=>document.createElement(a),Su=(a,c)=>{let f=a.childNodes[0];f?c!==f.nodeValue&&(f.nodeValue=c):(f=document.createTextNode(c),a.appendChild(f))},jX=(a,c,f,y)=>{const C=(y%360-90)*Math.PI/180;return{x:a+f*Math.cos(C),y:c+f*Math.sin(C)}},Nse=(a,c,f,y,C,w)=>{const S=jX(a,c,f,C),M=jX(a,c,f,y);return["M",S.x,S.y,"A",f,f,0,w,0,M.x,M.y].join(" ")},kse=(a,c,f,y,C)=>{let w=1;return C>y&&C-y<=.5&&(w=0),y>C&&y-C>=.5&&(w=0),Nse(a,c,f,Math.min(.9999,y)*360,Math.min(.9999,C)*360,w)},Pse=({root:a,props:c})=>{c.spin=!1,c.progress=0,c.opacity=0;const f=yH("svg");a.ref.path=yH("path",{"stroke-width":2,"stroke-linecap":"round"}),f.appendChild(a.ref.path),a.ref.svg=f,a.appendChild(f)},Lse=({root:a,props:c})=>{if(c.opacity===0)return;c.align&&(a.element.dataset.align=c.align);const f=parseInt(Ku(a.ref.path,"stroke-width"),10),y=a.rect.element.width*.5;let C=0,w=0;c.spin?(C=0,w=.5):(C=0,w=c.progress);const S=kse(y,y,y-f,C,w);Ku(a.ref.path,"d",S),Ku(a.ref.path,"stroke-opacity",c.spin||c.progress>0?1:0)},qX=Xu({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:Pse,write:Lse,mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),$se=({root:a,props:c})=>{a.element.innerHTML=(c.icon||"")+`<span>${c.label}</span>`,c.isDisabled=!1},Bse=({root:a,props:c})=>{const{isDisabled:f}=c,y=a.query("GET_DISABLED")||c.opacity===0;y&&!f?(c.isDisabled=!0,Ku(a.element,"disabled","disabled")):!y&&f&&(c.isDisabled=!1,a.element.removeAttribute("disabled"))},WJ=Xu({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:$se,write:Bse}),GJ=(a,c=".",f=1e3,y={})=>{const{labelBytes:C="bytes",labelKilobytes:w="KB",labelMegabytes:S="MB",labelGigabytes:M="GB"}=y;a=Math.round(Math.abs(a));const P=f,G=f*f,j=f*f*f;return a<P?`${a} ${C}`:a<G?`${Math.floor(a/P)} ${w}`:a<j?`${ZX(a/G,1,c)} ${S}`:`${ZX(a/j,2,c)} ${M}`},ZX=(a,c,f)=>a.toFixed(c).split(".").filter(y=>y!=="0").join(f),Fse=({root:a,props:c})=>{const f=C_("span");f.className="filepond--file-info-main",Ku(f,"aria-hidden","true"),a.appendChild(f),a.ref.fileName=f;const y=C_("span");y.className="filepond--file-info-sub",a.appendChild(y),a.ref.fileSize=y,Su(y,a.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),Su(f,iY(a.query("GET_ITEM_NAME",c.id)))},RZ=({root:a,props:c})=>{Su(a.ref.fileSize,GJ(a.query("GET_ITEM_SIZE",c.id),".",a.query("GET_FILE_SIZE_BASE"),a.query("GET_FILE_SIZE_LABELS",a.query))),Su(a.ref.fileName,iY(a.query("GET_ITEM_NAME",c.id)))},YX=({root:a,props:c})=>{if(eR(a.query("GET_ITEM_SIZE",c.id))){RZ({root:a,props:c});return}Su(a.ref.fileSize,a.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},Hse=Xu({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:hm({DID_LOAD_ITEM:RZ,DID_UPDATE_ITEM_META:RZ,DID_THROW_ITEM_LOAD_ERROR:YX,DID_THROW_ITEM_INVALID:YX}),didCreateView:a=>{hx("CREATE_VIEW",{...a,view:a})},create:Fse,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),jJ=a=>Math.round(a*100),Vse=({root:a})=>{const c=C_("span");c.className="filepond--file-status-main",a.appendChild(c),a.ref.main=c;const f=C_("span");f.className="filepond--file-status-sub",a.appendChild(f),a.ref.sub=f,qJ({root:a,action:{progress:null}})},qJ=({root:a,action:c})=>{const f=c.progress===null?a.query("GET_LABEL_FILE_LOADING"):`${a.query("GET_LABEL_FILE_LOADING")} ${jJ(c.progress)}%`;Su(a.ref.main,f),Su(a.ref.sub,a.query("GET_LABEL_TAP_TO_CANCEL"))},zse=({root:a,action:c})=>{const f=c.progress===null?a.query("GET_LABEL_FILE_PROCESSING"):`${a.query("GET_LABEL_FILE_PROCESSING")} ${jJ(c.progress)}%`;Su(a.ref.main,f),Su(a.ref.sub,a.query("GET_LABEL_TAP_TO_CANCEL"))},Use=({root:a})=>{Su(a.ref.main,a.query("GET_LABEL_FILE_PROCESSING")),Su(a.ref.sub,a.query("GET_LABEL_TAP_TO_CANCEL"))},Wse=({root:a})=>{Su(a.ref.main,a.query("GET_LABEL_FILE_PROCESSING_ABORTED")),Su(a.ref.sub,a.query("GET_LABEL_TAP_TO_RETRY"))},Gse=({root:a})=>{Su(a.ref.main,a.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),Su(a.ref.sub,a.query("GET_LABEL_TAP_TO_UNDO"))},KX=({root:a})=>{Su(a.ref.main,""),Su(a.ref.sub,"")},jN=({root:a,action:c})=>{Su(a.ref.main,c.status.main),Su(a.ref.sub,c.status.sub)},jse=Xu({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:hm({DID_LOAD_ITEM:KX,DID_REVERT_ITEM_PROCESSING:KX,DID_REQUEST_ITEM_PROCESSING:Use,DID_ABORT_ITEM_PROCESSING:Wse,DID_COMPLETE_ITEM_PROCESSING:Gse,DID_UPDATE_ITEM_PROCESS_PROGRESS:zse,DID_UPDATE_ITEM_LOAD_PROGRESS:qJ,DID_THROW_ITEM_LOAD_ERROR:jN,DID_THROW_ITEM_INVALID:jN,DID_THROW_ITEM_PROCESSING_ERROR:jN,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:jN,DID_THROW_ITEM_REMOVE_ERROR:jN}),didCreateView:a=>{hx("CREATE_VIEW",{...a,view:a})},create:Vse,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),IZ={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},DZ=[];ql(IZ,a=>{DZ.push(a)});const _g=a=>{if(MZ(a)==="right")return 0;const c=a.ref.buttonRemoveItem.rect.element;return c.hidden?null:c.width+c.left},qse=a=>a.ref.buttonAbortItemLoad.rect.element.width,W5=a=>Math.floor(a.ref.buttonRemoveItem.rect.element.height/4),Zse=a=>Math.floor(a.ref.buttonRemoveItem.rect.element.left/2),Yse=a=>a.query("GET_STYLE_LOAD_INDICATOR_POSITION"),Kse=a=>a.query("GET_STYLE_PROGRESS_INDICATOR_POSITION"),MZ=a=>a.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION"),Xse={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:Yse},processProgressIndicator:{opacity:0,align:Kse},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},XX={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:_g},status:{translateX:_g}},eZ={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},LO={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:_g},status:{translateX:_g,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:_g},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:MZ},info:{translateX:_g},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:MZ},buttonRemoveItem:{opacity:1},info:{translateX:_g},status:{opacity:1,translateX:_g}},DID_LOAD_ITEM:XX,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:_g},status:{translateX:_g}},DID_START_ITEM_PROCESSING:eZ,DID_REQUEST_ITEM_PROCESSING:eZ,DID_UPDATE_ITEM_PROCESS_PROGRESS:eZ,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:_g}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:_g},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:XX},Qse=Xu({create:({root:a})=>{a.element.innerHTML=a.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),Jse=({root:a,props:c})=>{const f=Object.keys(IZ).reduce((pe,fe)=>(pe[fe]={...IZ[fe]},pe),{}),{id:y}=c,C=a.query("GET_ALLOW_REVERT"),w=a.query("GET_ALLOW_REMOVE"),S=a.query("GET_ALLOW_PROCESS"),M=a.query("GET_INSTANT_UPLOAD"),P=a.query("IS_ASYNC"),G=a.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");let j;P?S&&!C?j=pe=>!/RevertItemProcessing/.test(pe):!S&&C?j=pe=>!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(pe):!S&&!C&&(j=pe=>!/Process/.test(pe)):j=pe=>!/Process/.test(pe);const J=j?DZ.filter(j):DZ.concat();if(M&&C&&(f.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",f.RevertItemProcessing.icon="GET_ICON_REMOVE"),P&&!C){const pe=LO.DID_COMPLETE_ITEM_PROCESSING;pe.info.translateX=Zse,pe.info.translateY=W5,pe.status.translateY=W5,pe.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(P&&!S&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(pe=>{LO[pe].status.translateY=W5}),LO.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=qse),G&&C){f.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";const pe=LO.DID_COMPLETE_ITEM_PROCESSING;pe.info.translateX=_g,pe.status.translateY=W5,pe.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}w||(f.RemoveItem.disabled=!0),ql(f,(pe,fe)=>{const ue=a.createChildView(WJ,{label:a.query(fe.label),icon:a.query(fe.icon),opacity:0});J.includes(pe)&&a.appendChildView(ue),fe.disabled&&(ue.element.setAttribute("disabled","disabled"),ue.element.setAttribute("hidden","hidden")),ue.element.dataset.align=a.query(`GET_STYLE_${fe.align}`),ue.element.classList.add(fe.className),ue.on("click",le=>{le.stopPropagation(),!fe.disabled&&a.dispatch(fe.action,{query:y})}),a.ref[`button${pe}`]=ue}),a.ref.processingCompleteIndicator=a.appendChildView(a.createChildView(Qse)),a.ref.processingCompleteIndicator.element.dataset.align=a.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),a.ref.info=a.appendChildView(a.createChildView(Hse,{id:y})),a.ref.status=a.appendChildView(a.createChildView(jse,{id:y}));const me=a.appendChildView(a.createChildView(qX,{opacity:0,align:a.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));me.element.classList.add("filepond--load-indicator"),a.ref.loadProgressIndicator=me;const ae=a.appendChildView(a.createChildView(qX,{opacity:0,align:a.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));ae.element.classList.add("filepond--process-indicator"),a.ref.processProgressIndicator=ae,a.ref.activeStyles=[]},ere=({root:a,actions:c,props:f})=>{tre({root:a,actions:c,props:f});let y=c.concat().filter(C=>/^DID_/.test(C.type)).reverse().find(C=>LO[C.type]);if(y){a.ref.activeStyles=[];const C=LO[y.type];ql(Xse,(w,S)=>{const M=a.ref[w];ql(S,(P,G)=>{const j=C[w]&&typeof C[w][P]<"u"?C[w][P]:G;a.ref.activeStyles.push({control:M,key:P,value:j})})})}a.ref.activeStyles.forEach(({control:C,key:w,value:S})=>{C[w]=typeof S=="function"?S(a):S})},tre=hm({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:({root:a,action:c})=>{a.ref.buttonAbortItemProcessing.label=c.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:({root:a,action:c})=>{a.ref.buttonAbortItemLoad.label=c.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:({root:a,action:c})=>{a.ref.buttonAbortItemRemoval.label=c.value},DID_REQUEST_ITEM_PROCESSING:({root:a})=>{a.ref.processProgressIndicator.spin=!0,a.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:({root:a})=>{a.ref.loadProgressIndicator.spin=!0,a.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:({root:a})=>{a.ref.processProgressIndicator.spin=!0,a.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:({root:a,action:c})=>{a.ref.loadProgressIndicator.spin=!1,a.ref.loadProgressIndicator.progress=c.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:({root:a,action:c})=>{a.ref.processProgressIndicator.spin=!1,a.ref.processProgressIndicator.progress=c.progress}}),nre=Xu({create:Jse,write:ere,didCreateView:a=>{hx("CREATE_VIEW",{...a,view:a})},name:"file"}),ore=({root:a,props:c})=>{a.ref.fileName=C_("legend"),a.appendChild(a.ref.fileName),a.ref.file=a.appendChildView(a.createChildView(nre,{id:c.id})),a.ref.data=!1},sre=({root:a,props:c})=>{Su(a.ref.fileName,iY(a.query("GET_ITEM_NAME",c.id)))},rre=Xu({create:ore,ignoreRect:!0,write:hm({DID_LOAD_ITEM:sre}),didCreateView:a=>{hx("CREATE_VIEW",{...a,view:a})},tag:"fieldset",name:"file-wrapper"}),QX={type:"spring",damping:.6,mass:7},ire=({root:a,props:c})=>{[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:QX},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:QX},styles:["translateY"]}}].forEach(f=>{are(a,f,c.name)}),a.element.classList.add(`filepond--${c.name}`),a.ref.scalable=null},are=(a,c,f)=>{const y=Xu({name:`panel-${c.name} filepond--${f}`,mixins:c.mixins,ignoreRectUpdate:!0}),C=a.createChildView(y,c.props);a.ref[c.name]=a.appendChildView(C)},cre=({root:a,props:c})=>{if((a.ref.scalable===null||c.scalable!==a.ref.scalable)&&(a.ref.scalable=OJ(c.scalable)?c.scalable:!0,a.element.dataset.scalable=a.ref.scalable),!c.height)return;const f=a.ref.top.rect.element,y=a.ref.bottom.rect.element,C=Math.max(f.height+y.height,c.height);a.ref.center.translateY=f.height,a.ref.center.scaleY=(C-f.height-y.height)/100,a.ref.bottom.translateY=C-y.height},ZJ=Xu({name:"panel",read:({root:a,props:c})=>c.heightCurrent=a.ref.bottom.translateY,write:cre,create:ire,ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),lre=a=>{const c=a.map(y=>y.id);let f;return{setIndex:y=>{f=y},getIndex:()=>f,getItemIndex:y=>c.indexOf(y.id)}},JX={type:"spring",stiffness:.75,damping:.45,mass:10},eQ="spring",tQ={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},ure=({root:a,props:c})=>{if(a.ref.handleClick=y=>a.dispatch("DID_ACTIVATE_ITEM",{id:c.id}),a.element.id=`filepond--item-${c.id}`,a.element.addEventListener("click",a.ref.handleClick),a.ref.container=a.appendChildView(a.createChildView(rre,{id:c.id})),a.ref.panel=a.appendChildView(a.createChildView(ZJ,{name:"item-panel"})),a.ref.panel.height=null,c.markedForRemoval=!1,!a.query("GET_ALLOW_REORDER"))return;a.element.dataset.dragState="idle";const f=y=>{if(!y.isPrimary)return;let C=!1;const w={x:y.pageX,y:y.pageY};c.dragOrigin={x:a.translateX,y:a.translateY},c.dragCenter={x:y.offsetX,y:y.offsetY};const S=lre(a.query("GET_ACTIVE_ITEMS"));a.dispatch("DID_GRAB_ITEM",{id:c.id,dragState:S});const M=G=>{if(!G.isPrimary)return;G.stopPropagation(),G.preventDefault(),c.dragOffset={x:G.pageX-w.x,y:G.pageY-w.y},c.dragOffset.x*c.dragOffset.x+c.dragOffset.y*c.dragOffset.y>16&&!C&&(C=!0,a.element.removeEventListener("click",a.ref.handleClick)),a.dispatch("DID_DRAG_ITEM",{id:c.id,dragState:S})},P=G=>{G.isPrimary&&(document.removeEventListener("pointermove",M),document.removeEventListener("pointerup",P),c.dragOffset={x:G.pageX-w.x,y:G.pageY-w.y},a.dispatch("DID_DROP_ITEM",{id:c.id,dragState:S}),C&&setTimeout(()=>a.element.addEventListener("click",a.ref.handleClick),0))};document.addEventListener("pointermove",M),document.addEventListener("pointerup",P)};a.element.addEventListener("pointerdown",f)},dre=hm({DID_UPDATE_PANEL_HEIGHT:({root:a,action:c})=>{a.height=c.height}}),fre=hm({DID_GRAB_ITEM:({root:a,props:c})=>{c.dragOrigin={x:a.translateX,y:a.translateY}},DID_DRAG_ITEM:({root:a})=>{a.element.dataset.dragState="drag"},DID_DROP_ITEM:({root:a,props:c})=>{c.dragOffset=null,c.dragOrigin=null,a.element.dataset.dragState="drop"}},({root:a,actions:c,props:f,shouldOptimize:y})=>{a.element.dataset.dragState==="drop"&&a.scaleX<=1&&(a.element.dataset.dragState="idle");let C=c.concat().filter(S=>/^DID_/.test(S.type)).reverse().find(S=>tQ[S.type]);C&&C.type!==f.currentState&&(f.currentState=C.type,a.element.dataset.filepondItemState=tQ[f.currentState]||"");const w=a.query("GET_ITEM_PANEL_ASPECT_RATIO")||a.query("GET_PANEL_ASPECT_RATIO");w?y||(a.height=a.rect.element.width*w):(dre({root:a,actions:c,props:f}),!a.height&&a.ref.container.rect.element.height>0&&(a.height=a.ref.container.rect.element.height)),y&&(a.ref.panel.height=null),a.ref.panel.height=a.height}),hre=Xu({create:ure,write:fre,destroy:({root:a,props:c})=>{a.element.removeEventListener("click",a.ref.handleClick),a.dispatch("RELEASE_ITEM",{query:c.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:eQ,scaleY:eQ,translateX:JX,translateY:JX,opacity:{type:"tween",duration:150}}}});var aY=(a,c)=>Math.max(1,Math.floor((a+1)/c));const cY=(a,c,f)=>{if(!f)return;const y=a.rect.element.width,C=c.length;let w=null;if(C===0||f.top<c[0].rect.element.top)return-1;const M=c[0].rect.element,P=M.marginLeft+M.marginRight,G=M.width+P,j=aY(y,G);if(j===1){for(let ae=0;ae<C;ae++){const pe=c[ae],fe=pe.rect.outer.top+pe.rect.element.height*.5;if(f.top<fe)return ae}return C}const J=M.marginTop+M.marginBottom,me=M.height+J;for(let ae=0;ae<C;ae++){const pe=ae%j,fe=Math.floor(ae/j),ue=pe*G,le=fe*me,ve=le-M.marginTop,ee=ue+G,ke=le+me+M.marginBottom;if(f.top<ke&&f.top>ve){if(f.left<ee)return ae;ae!==C-1?w=ae:w=null}}return w!==null?w:C},G5={height:0,width:0,get getHeight(){return this.height},set setHeight(a){(this.height===0||a===0)&&(this.height=a)},get getWidth(){return this.width},set setWidth(a){(this.width===0||a===0)&&(this.width=a)},setDimensions:function(a,c){(this.height===0||a===0)&&(this.height=a),(this.width===0||c===0)&&(this.width=c)}},mre=({root:a})=>{Ku(a.element,"role","list"),a.ref.lastItemSpanwDate=Date.now()},pre=({root:a,action:c})=>{const{id:f,index:y,interactionMethod:C}=c;a.ref.addIndex=y;const w=Date.now();let S=w,M=1;if(C!==$v.NONE){M=0;const P=a.query("GET_ITEM_INSERT_INTERVAL"),G=w-a.ref.lastItemSpanwDate;S=G<P?w+(P-G):w}a.ref.lastItemSpanwDate=S,a.appendChildView(a.createChildView(hre,{spawnDate:S,id:f,opacity:M,interactionMethod:C}),y)},nQ=(a,c,f,y=0,C=1)=>{a.dragOffset?(a.translateX=null,a.translateY=null,a.translateX=a.dragOrigin.x+a.dragOffset.x,a.translateY=a.dragOrigin.y+a.dragOffset.y,a.scaleX=1.025,a.scaleY=1.025):(a.translateX=c,a.translateY=f,Date.now()>a.spawnDate&&(a.opacity===0&&gre(a,c,f,y,C),a.scaleX=1,a.scaleY=1,a.opacity=1))},gre=(a,c,f,y,C)=>{a.interactionMethod===$v.NONE?(a.translateX=null,a.translateX=c,a.translateY=null,a.translateY=f):a.interactionMethod===$v.DROP?(a.translateX=null,a.translateX=c-y*20,a.translateY=null,a.translateY=f-C*10,a.scaleX=.8,a.scaleY=.8):a.interactionMethod===$v.BROWSE?(a.translateY=null,a.translateY=f-30):a.interactionMethod===$v.API&&(a.translateX=null,a.translateX=c-30,a.translateY=null)},vre=({root:a,action:c})=>{const{id:f}=c,y=a.childViews.find(C=>C.id===f);y&&(y.scaleX=.9,y.scaleY=.9,y.opacity=0,y.markedForRemoval=!0)},tZ=a=>a.rect.element.height+a.rect.element.marginBottom*.5+a.rect.element.marginTop*.5,bre=a=>a.rect.element.width+a.rect.element.marginLeft*.5+a.rect.element.marginRight*.5,yre=({root:a,action:c})=>{const{id:f,dragState:y}=c,C=a.query("GET_ITEM",{id:f}),w=a.childViews.find(ue=>ue.id===f),S=a.childViews.length,M=y.getItemIndex(C);if(!w)return;const P={x:w.dragOrigin.x+w.dragOffset.x+w.dragCenter.x,y:w.dragOrigin.y+w.dragOffset.y+w.dragCenter.y},G=tZ(w),j=bre(w);let J=Math.floor(a.rect.outer.width/j);J>S&&(J=S);const me=Math.floor(S/J+1);G5.setHeight=G*me,G5.setWidth=j*J;var ae={y:Math.floor(P.y/G),x:Math.floor(P.x/j),getGridIndex:function(){return P.y>G5.getHeight||P.y<0||P.x>G5.getWidth||P.x<0?M:this.y*J+this.x},getColIndex:function(){const le=a.query("GET_ACTIVE_ITEMS"),ve=a.childViews.filter(He=>He.rect.element.height),ee=le.map(He=>ve.find(Te=>Te.id===He.id)),ke=ee.findIndex(He=>He===w),Ke=tZ(w),V=ee.length;let we=V,Ue=0,bt=0,It=0;for(let He=0;He<V;He++)if(Ue=tZ(ee[He]),It=bt,bt=It+Ue,P.y<bt){if(ke>He){if(P.y<It+Ke){we=He;break}continue}we=He;break}return we}};const pe=J>1?ae.getGridIndex():ae.getColIndex();a.dispatch("MOVE_ITEM",{query:w,index:pe});const fe=y.getIndex();if(fe===void 0||fe!==pe){if(y.setIndex(pe),fe===void 0)return;a.dispatch("DID_REORDER_ITEMS",{items:a.query("GET_ACTIVE_ITEMS"),origin:M,target:pe})}},_re=hm({DID_ADD_ITEM:pre,DID_REMOVE_ITEM:vre,DID_DRAG_ITEM:yre}),Ere=({root:a,props:c,actions:f,shouldOptimize:y})=>{_re({root:a,props:c,actions:f});const{dragCoordinates:C}=c,w=a.rect.element.width,S=a.childViews.filter(ee=>ee.rect.element.height),M=a.query("GET_ACTIVE_ITEMS").map(ee=>S.find(ke=>ke.id===ee.id)).filter(ee=>ee),P=C?cY(a,M,C):null,G=a.ref.addIndex||null;a.ref.addIndex=null;let j=0,J=0,me=0;if(M.length===0)return;const ae=M[0].rect.element,pe=ae.marginTop+ae.marginBottom,fe=ae.marginLeft+ae.marginRight,ue=ae.width+fe,le=ae.height+pe,ve=aY(w,ue);if(ve===1){let ee=0,ke=0;M.forEach((Ke,V)=>{if(P){let bt=V-P;bt===-2?ke=-pe*.25:bt===-1?ke=-pe*.75:bt===0?ke=pe*.75:bt===1?ke=pe*.25:ke=0}y&&(Ke.translateX=null,Ke.translateY=null),Ke.markedForRemoval||nQ(Ke,0,ee+ke);let Ue=(Ke.rect.element.height+pe)*(Ke.markedForRemoval?Ke.opacity:1);ee+=Ue})}else{let ee=0,ke=0;M.forEach((Ke,V)=>{V===P&&(j=1),V===G&&(me+=1),Ke.markedForRemoval&&Ke.opacity<.5&&(J-=1);const we=V+me+j+J,Ue=we%ve,bt=Math.floor(we/ve),It=Ue*ue,He=bt*le,Te=Math.sign(It-ee),bn=Math.sign(He-ke);ee=It,ke=He,!Ke.markedForRemoval&&(y&&(Ke.translateX=null,Ke.translateY=null),nQ(Ke,It,He,Te,bn))})}},wre=(a,c)=>c.filter(f=>f.data&&f.data.id?a.id===f.data.id:!0),Tre=Xu({create:mre,write:Ere,tag:"ul",name:"list",didWriteView:({root:a})=>{a.childViews.filter(c=>c.markedForRemoval&&c.opacity===0&&c.resting).forEach(c=>{c._destroy(),a.removeChildView(c)})},filterFrameActionsForChild:wre,mixins:{apis:["dragCoordinates"]}}),Cre=({root:a,props:c})=>{a.ref.list=a.appendChildView(a.createChildView(Tre)),c.dragCoordinates=null,c.overflowing=!1},Sre=({root:a,props:c,action:f})=>{a.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(c.dragCoordinates={left:f.position.scopeLeft-a.ref.list.rect.element.left,top:f.position.scopeTop-(a.rect.outer.top+a.rect.element.marginTop+a.rect.element.scrollTop)})},xre=({props:a})=>{a.dragCoordinates=null},Are=hm({DID_DRAG:Sre,DID_END_DRAG:xre}),Ore=({root:a,props:c,actions:f})=>{if(Are({root:a,props:c,actions:f}),a.ref.list.dragCoordinates=c.dragCoordinates,c.overflowing&&!c.overflow&&(c.overflowing=!1,a.element.dataset.state="",a.height=null),c.overflow){const y=Math.round(c.overflow);y!==a.height&&(c.overflowing=!0,a.element.dataset.state="overflow",a.height=y)}},Rre=Xu({create:Cre,write:Ore,name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),nb=(a,c,f,y="")=>{f?Ku(a,c,y):a.removeAttribute(c)},Ire=a=>{if(!(!a||a.value==="")){try{a.value=""}catch{}if(a.value){const c=C_("form"),f=a.parentNode,y=a.nextSibling;c.appendChild(a),c.reset(),y?f.insertBefore(a,y):f.appendChild(a)}}},Dre=({root:a,props:c})=>{a.element.id=`filepond--browser-${c.id}`,Ku(a.element,"name",a.query("GET_NAME")),Ku(a.element,"aria-controls",`filepond--assistant-${c.id}`),Ku(a.element,"aria-labelledby",`filepond--drop-label-${c.id}`),YJ({root:a,action:{value:a.query("GET_ACCEPTED_FILE_TYPES")}}),KJ({root:a,action:{value:a.query("GET_ALLOW_MULTIPLE")}}),XJ({root:a,action:{value:a.query("GET_ALLOW_DIRECTORIES_ONLY")}}),NZ({root:a}),QJ({root:a,action:{value:a.query("GET_REQUIRED")}}),JJ({root:a,action:{value:a.query("GET_CAPTURE_METHOD")}}),a.ref.handleChange=f=>{if(!a.element.value)return;const y=Array.from(a.element.files).map(C=>(C._relativePath=C.webkitRelativePath,C));setTimeout(()=>{c.onload(y),Ire(a.element)},250)},a.element.addEventListener("change",a.ref.handleChange)},YJ=({root:a,action:c})=>{a.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&nb(a.element,"accept",!!c.value,c.value?c.value.join(","):"")},KJ=({root:a,action:c})=>{nb(a.element,"multiple",c.value)},XJ=({root:a,action:c})=>{nb(a.element,"webkitdirectory",c.value)},NZ=({root:a})=>{const c=a.query("GET_DISABLED"),f=a.query("GET_ALLOW_BROWSE"),y=c||!f;nb(a.element,"disabled",y)},QJ=({root:a,action:c})=>{c.value?a.query("GET_TOTAL_ITEMS")===0&&nb(a.element,"required",!0):nb(a.element,"required",!1)},JJ=({root:a,action:c})=>{nb(a.element,"capture",!!c.value,c.value===!0?"":c.value)},oQ=({root:a})=>{const{element:c}=a;a.query("GET_TOTAL_ITEMS")>0?(nb(c,"required",!1),nb(c,"name",!1)):(nb(c,"name",!0,a.query("GET_NAME")),a.query("GET_CHECK_VALIDITY")&&c.setCustomValidity(""),a.query("GET_REQUIRED")&&nb(c,"required",!0))},Mre=({root:a})=>{a.query("GET_CHECK_VALIDITY")&&a.element.setCustomValidity(a.query("GET_LABEL_INVALID_FIELD"))},Nre=Xu({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:Dre,destroy:({root:a})=>{a.element.removeEventListener("change",a.ref.handleChange)},write:hm({DID_LOAD_ITEM:oQ,DID_REMOVE_ITEM:oQ,DID_THROW_ITEM_INVALID:Mre,DID_SET_DISABLED:NZ,DID_SET_ALLOW_BROWSE:NZ,DID_SET_ALLOW_DIRECTORIES_ONLY:XJ,DID_SET_ALLOW_MULTIPLE:KJ,DID_SET_ACCEPTED_FILE_TYPES:YJ,DID_SET_CAPTURE_METHOD:JJ,DID_SET_REQUIRED:QJ})}),sQ={ENTER:13,SPACE:32},kre=({root:a,props:c})=>{const f=C_("label");Ku(f,"for",`filepond--browser-${c.id}`),Ku(f,"id",`filepond--drop-label-${c.id}`),Ku(f,"aria-hidden","true"),a.ref.handleKeyDown=y=>{(y.keyCode===sQ.ENTER||y.keyCode===sQ.SPACE)&&(y.preventDefault(),a.ref.label.click())},a.ref.handleClick=y=>{y.target===f||f.contains(y.target)||a.ref.label.click()},f.addEventListener("keydown",a.ref.handleKeyDown),a.element.addEventListener("click",a.ref.handleClick),eee(f,c.caption),a.appendChild(f),a.ref.label=f},eee=(a,c)=>{a.innerHTML=c;const f=a.querySelector(".filepond--label-action");return f&&Ku(f,"tabindex","0"),c},Pre=Xu({name:"drop-label",ignoreRect:!0,create:kre,destroy:({root:a})=>{a.ref.label.addEventListener("keydown",a.ref.handleKeyDown),a.element.removeEventListener("click",a.ref.handleClick)},write:hm({DID_SET_LABEL_IDLE:({root:a,action:c})=>{eee(a.ref.label,c.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),Lre=Xu({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),$re=({root:a})=>{const c=a.rect.element.width*.5,f=a.rect.element.height*.5;a.ref.blob=a.appendChildView(a.createChildView(Lre,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:c,translateY:f}))},Bre=({root:a,action:c})=>{if(!a.ref.blob){$re({root:a});return}a.ref.blob.translateX=c.position.scopeLeft,a.ref.blob.translateY=c.position.scopeTop,a.ref.blob.scaleX=1,a.ref.blob.scaleY=1,a.ref.blob.opacity=1},Fre=({root:a})=>{a.ref.blob&&(a.ref.blob.opacity=0)},Hre=({root:a})=>{a.ref.blob&&(a.ref.blob.scaleX=2.5,a.ref.blob.scaleY=2.5,a.ref.blob.opacity=0)},Vre=({root:a,props:c,actions:f})=>{zre({root:a,props:c,actions:f});const{blob:y}=a.ref;f.length===0&&y&&y.opacity===0&&(a.removeChildView(y),a.ref.blob=null)},zre=hm({DID_DRAG:Bre,DID_DROP:Hre,DID_END_DRAG:Fre}),Ure=Xu({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:Vre}),tee=(a,c)=>{try{const f=new DataTransfer;c.forEach(y=>{y instanceof File?f.items.add(y):f.items.add(new File([y],y.name,{type:y.type}))}),a.files=f.files}catch{return!1}return!0},Wre=({root:a})=>a.ref.fields={},zH=(a,c)=>a.ref.fields[c],lY=a=>{a.query("GET_ACTIVE_ITEMS").forEach(c=>{a.ref.fields[c.id]&&a.element.appendChild(a.ref.fields[c.id])})},rQ=({root:a})=>lY(a),Gre=({root:a,action:c})=>{const C=!(a.query("GET_ITEM",c.id).origin===Id.LOCAL)&&a.query("SHOULD_UPDATE_FILE_INPUT"),w=C_("input");w.type=C?"file":"hidden",w.name=a.query("GET_NAME"),w.disabled=a.query("GET_DISABLED"),a.ref.fields[c.id]=w,lY(a)},jre=({root:a,action:c})=>{const f=zH(a,c.id);if(!f||(c.serverFileReference!==null&&(f.value=c.serverFileReference),!a.query("SHOULD_UPDATE_FILE_INPUT")))return;const y=a.query("GET_ITEM",c.id);tee(f,[y.file])},qre=({root:a,action:c})=>{a.query("SHOULD_UPDATE_FILE_INPUT")&&setTimeout(()=>{const f=zH(a,c.id);f&&tee(f,[c.file])},0)},Zre=({root:a})=>{a.element.disabled=a.query("GET_DISABLED")},Yre=({root:a,action:c})=>{const f=zH(a,c.id);f&&(f.parentNode&&f.parentNode.removeChild(f),delete a.ref.fields[c.id])},Kre=({root:a,action:c})=>{const f=zH(a,c.id);f&&(c.value===null?f.removeAttribute("value"):f.value=c.value,lY(a))},Xre=hm({DID_SET_DISABLED:Zre,DID_ADD_ITEM:Gre,DID_LOAD_ITEM:jre,DID_REMOVE_ITEM:Yre,DID_DEFINE_VALUE:Kre,DID_PREPARE_OUTPUT:qre,DID_REORDER_ITEMS:rQ,DID_SORT_ITEMS:rQ}),Qre=Xu({tag:"fieldset",name:"data",create:Wre,write:Xre,ignoreRect:!0}),Jre=a=>"getRootNode"in a?a.getRootNode():document,eie=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],tie=["css","csv","html","txt"],nie={zip:"zip|compressed",epub:"application/epub+zip"},nee=(a="")=>(a=a.toLowerCase(),eie.includes(a)?"image/"+(a==="jpg"?"jpeg":a==="svg"?"svg+xml":a):tie.includes(a)?"text/"+a:nie[a]||""),uY=a=>new Promise((c,f)=>{const y=uie(a);if(y.length&&!oie(a))return c(y);sie(a).then(c)}),oie=a=>a.files?a.files.length>0:!1,sie=a=>new Promise((c,f)=>{const y=(a.items?Array.from(a.items):[]).filter(C=>rie(C)).map(C=>iie(C));if(!y.length){c(a.files?Array.from(a.files):[]);return}Promise.all(y).then(C=>{const w=[];C.forEach(S=>{w.push.apply(w,S)}),c(w.filter(S=>S).map(S=>(S._relativePath||(S._relativePath=S.webkitRelativePath),S)))}).catch(console.error)}),rie=a=>{if(oee(a)){const c=dY(a);if(c)return c.isFile||c.isDirectory}return a.kind==="file"},iie=a=>new Promise((c,f)=>{if(lie(a)){aie(dY(a)).then(c).catch(f);return}c([a.getAsFile()])}),aie=a=>new Promise((c,f)=>{const y=[];let C=0,w=0;const S=()=>{w===0&&C===0&&c(y)},M=P=>{C++;const G=P.createReader(),j=()=>{G.readEntries(J=>{if(J.length===0){C--,S();return}J.forEach(me=>{me.isDirectory?M(me):(w++,me.file(ae=>{const pe=cie(ae);me.fullPath&&(pe._relativePath=me.fullPath),y.push(pe),w--,S()}))}),j()},f)};j()};M(a)}),cie=a=>{if(a.type.length)return a;const c=a.lastModifiedDate,f=a.name,y=nee(VH(a.name));return y.length&&(a=a.slice(0,a.size,y),a.name=f,a.lastModifiedDate=c),a},lie=a=>oee(a)&&(dY(a)||{}).isDirectory,oee=a=>"webkitGetAsEntry"in a,dY=a=>a.webkitGetAsEntry(),uie=a=>{let c=[];try{if(c=fie(a),c.length)return c;c=die(a)}catch{}return c},die=a=>{let c=a.getData("url");return typeof c=="string"&&c.length?[c]:[]},fie=a=>{let c=a.getData("text/html");if(typeof c=="string"&&c.length){const f=c.match(/src\s*=\s*"(.+?)"/);if(f)return[f[1]]}return[]},EH=[],lx=a=>({pageLeft:a.pageX,pageTop:a.pageY,scopeLeft:a.offsetX||a.layerX,scopeTop:a.offsetY||a.layerY}),hie=(a,c,f)=>{const y=mie(c),C={element:a,filterElement:f,state:null,ondrop:()=>{},onenter:()=>{},ondrag:()=>{},onexit:()=>{},onload:()=>{},allowdrop:()=>{}};return C.destroy=y.addListener(C),C},mie=a=>{const c=EH.find(y=>y.element===a);if(c)return c;const f=pie(a);return EH.push(f),f},pie=a=>{const c=[],f={dragenter:vie,dragover:bie,dragleave:_ie,drop:yie},y={};ql(f,(w,S)=>{y[w]=S(a,c),a.addEventListener(w,y[w],!1)});const C={element:a,addListener:w=>(c.push(w),()=>{c.splice(c.indexOf(w),1),c.length===0&&(EH.splice(EH.indexOf(C),1),ql(f,S=>{a.removeEventListener(S,y[S],!1)}))})};return C},gie=(a,c)=>("elementFromPoint"in a||(a=document),a.elementFromPoint(c.x,c.y)),fY=(a,c)=>{const f=Jre(c),y=gie(f,{x:a.pageX-window.pageXOffset,y:a.pageY-window.pageYOffset});return y===c||c.contains(y)};let see=null;const j5=(a,c)=>{try{a.dropEffect=c}catch{}},vie=(a,c)=>f=>{f.preventDefault(),see=f.target,c.forEach(y=>{const{element:C,onenter:w}=y;fY(f,C)&&(y.state="enter",w(lx(f)))})},bie=(a,c)=>f=>{f.preventDefault();const y=f.dataTransfer;uY(y).then(C=>{let w=!1;c.some(S=>{const{filterElement:M,element:P,onenter:G,onexit:j,ondrag:J,allowdrop:me}=S;j5(y,"copy");const ae=me(C);if(!ae){j5(y,"none");return}if(fY(f,P)){if(w=!0,S.state===null){S.state="enter",G(lx(f));return}if(S.state="over",M&&!ae){j5(y,"none");return}J(lx(f))}else M&&!w&&j5(y,"none"),S.state&&(S.state=null,j(lx(f)))})})},yie=(a,c)=>f=>{f.preventDefault();const y=f.dataTransfer;uY(y).then(C=>{c.forEach(w=>{const{filterElement:S,element:M,ondrop:P,onexit:G,allowdrop:j}=w;if(w.state=null,!(S&&!fY(f,M))){if(!j(C))return G(lx(f));P(lx(f),C)}})})},_ie=(a,c)=>f=>{see===f.target&&c.forEach(y=>{const{onexit:C}=y;y.state=null,C(lx(f))})},Eie=(a,c,f)=>{a.classList.add("filepond--hopper");const{catchesDropsOnPage:y,requiresDropOnElement:C,filterItems:w=j=>j}=f,S=hie(a,y?document.documentElement:a,C);let M="",P="";S.allowdrop=j=>c(w(j)),S.ondrop=(j,J)=>{const me=w(J);if(!c(me)){G.ondragend(j);return}P="drag-drop",G.onload(me,j)},S.ondrag=j=>{G.ondrag(j)},S.onenter=j=>{P="drag-over",G.ondragstart(j)},S.onexit=j=>{P="drag-exit",G.ondragend(j)};const G={updateHopperState:()=>{M!==P&&(a.dataset.hopperState=P,M=P)},onload:()=>{},ondragstart:()=>{},ondrag:()=>{},ondragend:()=>{},destroy:()=>{S.destroy()}};return G};let kZ=!1;const HO=[],ree=a=>{const c=document.activeElement;if(c&&/textarea|input/i.test(c.nodeName)){let f=!1,y=c;for(;y!==document.body;){if(y.classList.contains("filepond--root")){f=!0;break}y=y.parentNode}if(!f)return}uY(a.clipboardData).then(f=>{f.length&&HO.forEach(y=>y(f))})},wie=a=>{HO.includes(a)||(HO.push(a),!kZ&&(kZ=!0,document.addEventListener("paste",ree)))},Tie=a=>{oY(HO,HO.indexOf(a)),HO.length===0&&(document.removeEventListener("paste",ree),kZ=!1)},Cie=()=>{const a=f=>{c.onload(f)},c={destroy:()=>{Tie(a)},onload:()=>{}};return wie(a),c},Sie=({root:a,props:c})=>{a.element.id=`filepond--assistant-${c.id}`,Ku(a.element,"role","status"),Ku(a.element,"aria-live","polite"),Ku(a.element,"aria-relevant","additions")};let iQ=null,aQ=null;const nZ=[],UH=(a,c)=>{a.element.textContent=c},xie=a=>{a.element.textContent=""},iee=(a,c,f)=>{const y=a.query("GET_TOTAL_ITEMS");UH(a,`${f} ${c}, ${y} ${y===1?a.query("GET_LABEL_FILE_COUNT_SINGULAR"):a.query("GET_LABEL_FILE_COUNT_PLURAL")}`),clearTimeout(aQ),aQ=setTimeout(()=>{xie(a)},1500)},aee=a=>a.element.parentNode.contains(document.activeElement),Aie=({root:a,action:c})=>{if(!aee(a))return;a.element.textContent="";const f=a.query("GET_ITEM",c.id);nZ.push(f.filename),clearTimeout(iQ),iQ=setTimeout(()=>{iee(a,nZ.join(", "),a.query("GET_LABEL_FILE_ADDED")),nZ.length=0},750)},Oie=({root:a,action:c})=>{if(!aee(a))return;const f=c.item;iee(a,f.filename,a.query("GET_LABEL_FILE_REMOVED"))},Rie=({root:a,action:c})=>{const y=a.query("GET_ITEM",c.id).filename,C=a.query("GET_LABEL_FILE_PROCESSING_COMPLETE");UH(a,`${y} ${C}`)},cQ=({root:a,action:c})=>{const y=a.query("GET_ITEM",c.id).filename,C=a.query("GET_LABEL_FILE_PROCESSING_ABORTED");UH(a,`${y} ${C}`)},q5=({root:a,action:c})=>{const y=a.query("GET_ITEM",c.id).filename;UH(a,`${c.status.main} ${y} ${c.status.sub}`)},Iie=Xu({create:Sie,ignoreRect:!0,ignoreRectUpdate:!0,write:hm({DID_LOAD_ITEM:Aie,DID_REMOVE_ITEM:Oie,DID_COMPLETE_ITEM_PROCESSING:Rie,DID_ABORT_ITEM_PROCESSING:cQ,DID_REVERT_ITEM_PROCESSING:cQ,DID_THROW_ITEM_REMOVE_ERROR:q5,DID_THROW_ITEM_LOAD_ERROR:q5,DID_THROW_ITEM_INVALID:q5,DID_THROW_ITEM_PROCESSING_ERROR:q5}),tag:"span",name:"assistant"}),cee=(a,c="-")=>a.replace(new RegExp(`${c}.`,"g"),f=>f.charAt(1).toUpperCase()),lee=(a,c=16,f=!0)=>{let y=Date.now(),C=null;return(...w)=>{clearTimeout(C);const S=Date.now()-y,M=()=>{y=Date.now(),a(...w)};S<c?f||(C=setTimeout(M,c-S)):M()}},Die=1e6,wH=a=>a.preventDefault(),Mie=({root:a,props:c})=>{const f=a.query("GET_ID");f&&(a.element.id=f);const y=a.query("GET_CLASS_NAME");y&&y.split(" ").filter(P=>P.length).forEach(P=>{a.element.classList.add(P)}),a.ref.label=a.appendChildView(a.createChildView(Pre,{...c,translateY:null,caption:a.query("GET_LABEL_IDLE")})),a.ref.list=a.appendChildView(a.createChildView(Rre,{translateY:null})),a.ref.panel=a.appendChildView(a.createChildView(ZJ,{name:"panel-root"})),a.ref.assistant=a.appendChildView(a.createChildView(Iie,{...c})),a.ref.data=a.appendChildView(a.createChildView(Qre,{...c})),a.ref.measure=C_("div"),a.ref.measure.style.height="100%",a.element.appendChild(a.ref.measure),a.ref.bounds=null,a.query("GET_STYLES").filter(P=>!T_(P.value)).map(({name:P,value:G})=>{a.element.dataset[P]=G}),a.ref.widthPrevious=null,a.ref.widthUpdated=lee(()=>{a.ref.updateHistory=[],a.dispatch("DID_RESIZE_ROOT")},250),a.ref.previousAspectRatio=null,a.ref.updateHistory=[];const C=window.matchMedia("(pointer: fine) and (hover: hover)").matches,w="PointerEvent"in window;a.query("GET_ALLOW_REORDER")&&w&&!C&&(a.element.addEventListener("touchmove",wH,{passive:!1}),a.element.addEventListener("gesturestart",wH));const S=a.query("GET_CREDITS");if(S.length===2){const P=document.createElement("a");P.className="filepond--credits",P.setAttribute("aria-hidden","true"),P.href=S[0],P.tabindex=-1,P.target="_blank",P.rel="noopener noreferrer",P.textContent=S[1],a.element.appendChild(P),a.ref.credits=P}},Nie=({root:a,props:c,actions:f})=>{if(Bie({root:a,props:c,actions:f}),f.filter(V=>/^DID_SET_STYLE_/.test(V.type)).filter(V=>!T_(V.data.value)).map(({type:V,data:we})=>{const Ue=cee(V.substring(8).toLowerCase(),"_");a.element.dataset[Ue]=we.value,a.invalidateLayout()}),a.rect.element.hidden)return;a.rect.element.width!==a.ref.widthPrevious&&(a.ref.widthPrevious=a.rect.element.width,a.ref.widthUpdated());let y=a.ref.bounds;y||(y=a.ref.bounds=Lie(a),a.element.removeChild(a.ref.measure),a.ref.measure=null);const{hopper:C,label:w,list:S,panel:M}=a.ref;C&&C.updateHopperState();const P=a.query("GET_PANEL_ASPECT_RATIO"),G=a.query("GET_ALLOW_MULTIPLE"),j=a.query("GET_TOTAL_ITEMS"),J=G?a.query("GET_MAX_FILES")||Die:1,me=j===J,ae=f.find(V=>V.type==="DID_ADD_ITEM");if(me&&ae){const V=ae.data.interactionMethod;w.opacity=0,G?w.translateY=-40:V===$v.API?w.translateX=40:V===$v.BROWSE?w.translateY=40:w.translateY=30}else me||(w.opacity=1,w.translateX=0,w.translateY=0);const pe=kie(a),fe=Pie(a),ue=w.rect.element.height,le=!G||me?0:ue,ve=me?S.rect.element.marginTop:0,ee=j===0?0:S.rect.element.marginBottom,ke=le+ve+fe.visual+ee,Ke=le+ve+fe.bounds+ee;if(S.translateY=Math.max(0,le-S.rect.element.marginTop)-pe.top,P){const V=a.rect.element.width,we=V*P;P!==a.ref.previousAspectRatio&&(a.ref.previousAspectRatio=P,a.ref.updateHistory=[]);const Ue=a.ref.updateHistory;Ue.push(V);const bt=2;if(Ue.length>bt*2){const He=Ue.length,Te=He-10;let bn=0;for(let Tt=He;Tt>=Te;Tt--)if(Ue[Tt]===Ue[Tt-2]&&bn++,bn>=bt)return}M.scalable=!1,M.height=we;const It=we-le-(ee-pe.bottom)-(me?ve:0);fe.visual>It?S.overflow=It:S.overflow=null,a.height=we}else if(y.fixedHeight){M.scalable=!1;const V=y.fixedHeight-le-(ee-pe.bottom)-(me?ve:0);fe.visual>V?S.overflow=V:S.overflow=null}else if(y.cappedHeight){const V=ke>=y.cappedHeight,we=Math.min(y.cappedHeight,ke);M.scalable=!0,M.height=V?we:we-pe.top-pe.bottom;const Ue=we-le-(ee-pe.bottom)-(me?ve:0);ke>y.cappedHeight&&fe.visual>Ue?S.overflow=Ue:S.overflow=null,a.height=Math.min(y.cappedHeight,Ke-pe.top-pe.bottom)}else{const V=j>0?pe.top+pe.bottom:0;M.scalable=!0,M.height=Math.max(ue,ke-V),a.height=Math.max(ue,Ke-V)}a.ref.credits&&M.heightCurrent&&(a.ref.credits.style.transform=`translateY(${M.heightCurrent}px)`)},kie=a=>{const c=a.ref.list.childViews[0].childViews[0];return c?{top:c.rect.element.marginTop,bottom:c.rect.element.marginBottom}:{top:0,bottom:0}},Pie=a=>{let c=0,f=0;const y=a.ref.list,C=y.childViews[0],w=C.childViews.filter(ve=>ve.rect.element.height),S=a.query("GET_ACTIVE_ITEMS").map(ve=>w.find(ee=>ee.id===ve.id)).filter(ve=>ve);if(S.length===0)return{visual:c,bounds:f};const M=C.rect.element.width,P=cY(C,S,y.dragCoordinates),G=S[0].rect.element,j=G.marginTop+G.marginBottom,J=G.marginLeft+G.marginRight,me=G.width+J,ae=G.height+j,pe=typeof P<"u"&&P>=0?1:0,fe=S.find(ve=>ve.markedForRemoval&&ve.opacity<.45)?-1:0,ue=S.length+pe+fe,le=aY(M,me);return le===1?S.forEach(ve=>{const ee=ve.rect.element.height+j;f+=ee,c+=ee*ve.opacity}):(f=Math.ceil(ue/le)*ae,c=f),{visual:c,bounds:f}},Lie=a=>{const c=a.ref.measureHeight||null;return{cappedHeight:parseInt(a.style.maxHeight,10)||null,fixedHeight:c===0?null:c}},hY=(a,c)=>{const f=a.query("GET_ALLOW_REPLACE"),y=a.query("GET_ALLOW_MULTIPLE"),C=a.query("GET_TOTAL_ITEMS");let w=a.query("GET_MAX_FILES");const S=c.length;return!y&&S>1?(a.dispatch("DID_THROW_MAX_FILES",{source:c,error:Cu("warning",0,"Max files")}),!0):(w=y?w:1,!y&&f?!1:eR(w)&&C+S>w?(a.dispatch("DID_THROW_MAX_FILES",{source:c,error:Cu("warning",0,"Max files")}),!0):!1)},$ie=(a,c,f)=>{const y=a.childViews[0];return cY(y,c,{left:f.scopeLeft-y.rect.element.left,top:f.scopeTop-(a.rect.outer.top+a.rect.element.marginTop+a.rect.element.scrollTop)})},lQ=a=>{const c=a.query("GET_ALLOW_DROP"),f=a.query("GET_DISABLED"),y=c&&!f;if(y&&!a.ref.hopper){const C=Eie(a.element,w=>{const S=a.query("GET_BEFORE_DROP_FILE")||(()=>!0);return a.query("GET_DROP_VALIDATION")?w.every(P=>hx("ALLOW_HOPPER_ITEM",P,{query:a.query}).every(G=>G===!0)&&S(P)):!0},{filterItems:w=>{const S=a.query("GET_IGNORED_FILES");return w.filter(M=>GO(M)?!S.includes(M.name.toLowerCase()):!0)},catchesDropsOnPage:a.query("GET_DROP_ON_PAGE"),requiresDropOnElement:a.query("GET_DROP_ON_ELEMENT")});C.onload=(w,S)=>{const P=a.ref.list.childViews[0].childViews.filter(j=>j.rect.element.height),G=a.query("GET_ACTIVE_ITEMS").map(j=>P.find(J=>J.id===j.id)).filter(j=>j);eb("ADD_ITEMS",w,{dispatch:a.dispatch}).then(j=>{if(hY(a,j))return!1;a.dispatch("ADD_ITEMS",{items:j,index:$ie(a.ref.list,G,S),interactionMethod:$v.DROP})}),a.dispatch("DID_DROP",{position:S}),a.dispatch("DID_END_DRAG",{position:S})},C.ondragstart=w=>{a.dispatch("DID_START_DRAG",{position:w})},C.ondrag=lee(w=>{a.dispatch("DID_DRAG",{position:w})}),C.ondragend=w=>{a.dispatch("DID_END_DRAG",{position:w})},a.ref.hopper=C,a.ref.drip=a.appendChildView(a.createChildView(Ure))}else!y&&a.ref.hopper&&(a.ref.hopper.destroy(),a.ref.hopper=null,a.removeChildView(a.ref.drip))},uQ=(a,c)=>{const f=a.query("GET_ALLOW_BROWSE"),y=a.query("GET_DISABLED"),C=f&&!y;C&&!a.ref.browser?a.ref.browser=a.appendChildView(a.createChildView(Nre,{...c,onload:w=>{eb("ADD_ITEMS",w,{dispatch:a.dispatch}).then(S=>{if(hY(a,S))return!1;a.dispatch("ADD_ITEMS",{items:S,index:-1,interactionMethod:$v.BROWSE})})}}),0):!C&&a.ref.browser&&(a.removeChildView(a.ref.browser),a.ref.browser=null)},dQ=a=>{const c=a.query("GET_ALLOW_PASTE"),f=a.query("GET_DISABLED"),y=c&&!f;y&&!a.ref.paster?(a.ref.paster=Cie(),a.ref.paster.onload=C=>{eb("ADD_ITEMS",C,{dispatch:a.dispatch}).then(w=>{if(hY(a,w))return!1;a.dispatch("ADD_ITEMS",{items:w,index:-1,interactionMethod:$v.PASTE})})}):!y&&a.ref.paster&&(a.ref.paster.destroy(),a.ref.paster=null)},Bie=hm({DID_SET_ALLOW_BROWSE:({root:a,props:c})=>{uQ(a,c)},DID_SET_ALLOW_DROP:({root:a})=>{lQ(a)},DID_SET_ALLOW_PASTE:({root:a})=>{dQ(a)},DID_SET_DISABLED:({root:a,props:c})=>{lQ(a),dQ(a),uQ(a,c),a.query("GET_DISABLED")?a.element.dataset.disabled="disabled":a.element.removeAttribute("data-disabled")}}),Fie=Xu({name:"root",read:({root:a})=>{a.ref.measure&&(a.ref.measureHeight=a.ref.measure.offsetHeight)},create:Mie,write:Nie,destroy:({root:a})=>{a.ref.paster&&a.ref.paster.destroy(),a.ref.hopper&&a.ref.hopper.destroy(),a.element.removeEventListener("touchmove",wH),a.element.removeEventListener("gesturestart",wH)},mixins:{styles:["height"]}}),Hie=(a={})=>{let c=null;const f=_H(),y=ooe(zoe(f),[ise,Goe(f)],[Dse,Woe(f)]);y.dispatch("SET_OPTIONS",{options:a});const C=()=>{document.hidden||y.dispatch("KICK")};document.addEventListener("visibilitychange",C);let w=null,S=!1,M=!1,P=null,G=null;const j=()=>{S||(S=!0),clearTimeout(w),w=setTimeout(()=>{S=!1,P=null,G=null,M&&(M=!1,y.dispatch("DID_STOP_RESIZE"))},500)};window.addEventListener("resize",j);const J=Fie(y,{id:nY()});let me=!1,ae=!1;const pe={_read:()=>{S&&(G=window.innerWidth,P||(P=G),!M&&G!==P&&(y.dispatch("DID_START_RESIZE"),M=!0)),ae&&me&&(me=J.element.offsetParent===null),!me&&(J._read(),ae=J.rect.element.hidden)},_write:F=>{const Nt=y.processActionQueue().filter(rt=>!/^SET_/.test(rt.type));me&&!Nt.length||(ve(Nt),me=J._write(F,Nt,M),Zoe(y.query("GET_ITEMS")),me&&y.processDispatchQueue())}},fe=F=>Nt=>{const rt={type:F};if(!Nt)return rt;if(Nt.hasOwnProperty("error")&&(rt.error=Nt.error?{...Nt.error}:null),Nt.status&&(rt.status={...Nt.status}),Nt.file&&(rt.output=Nt.file),Nt.source)rt.file=Nt.source;else if(Nt.item||Nt.id){const Kt=Nt.item?Nt.item:y.query("GET_ITEM",Nt.id);rt.file=Kt?hp(Kt):null}return Nt.items&&(rt.items=Nt.items.map(hp)),/progress/.test(F)&&(rt.progress=Nt.progress),Nt.hasOwnProperty("origin")&&Nt.hasOwnProperty("target")&&(rt.origin=Nt.origin,rt.target=Nt.target),rt},ue={DID_DESTROY:fe("destroy"),DID_INIT:fe("init"),DID_THROW_MAX_FILES:fe("warning"),DID_INIT_ITEM:fe("initfile"),DID_START_ITEM_LOAD:fe("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:fe("addfileprogress"),DID_LOAD_ITEM:fe("addfile"),DID_THROW_ITEM_INVALID:[fe("error"),fe("addfile")],DID_THROW_ITEM_LOAD_ERROR:[fe("error"),fe("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[fe("error"),fe("removefile")],DID_PREPARE_OUTPUT:fe("preparefile"),DID_START_ITEM_PROCESSING:fe("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:fe("processfileprogress"),DID_ABORT_ITEM_PROCESSING:fe("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:fe("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:fe("processfiles"),DID_REVERT_ITEM_PROCESSING:fe("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[fe("error"),fe("processfile")],DID_REMOVE_ITEM:fe("removefile"),DID_UPDATE_ITEMS:fe("updatefiles"),DID_ACTIVATE_ITEM:fe("activatefile"),DID_REORDER_ITEMS:fe("reorderfiles")},le=F=>{const Nt={pond:Mt,...F};delete Nt.type,J.element.dispatchEvent(new CustomEvent(`FilePond:${F.type}`,{detail:Nt,bubbles:!0,cancelable:!0,composed:!0}));const rt=[];F.hasOwnProperty("error")&&rt.push(F.error),F.hasOwnProperty("file")&&rt.push(F.file);const Kt=["type","error","file"];Object.keys(F).filter(Ze=>!Kt.includes(Ze)).forEach(Ze=>rt.push(F[Ze])),Mt.fire(F.type,...rt);const Gt=y.query(`GET_ON${F.type.toUpperCase()}`);Gt&&Gt(...rt)},ve=F=>{F.length&&F.filter(Nt=>ue[Nt.type]).forEach(Nt=>{const rt=ue[Nt.type];(Array.isArray(rt)?rt:[rt]).forEach(Kt=>{Nt.type==="DID_INIT_ITEM"?le(Kt(Nt.data)):setTimeout(()=>{le(Kt(Nt.data))},0)})})},ee=F=>y.dispatch("SET_OPTIONS",{options:F}),ke=F=>y.query("GET_ACTIVE_ITEM",F),Ke=F=>new Promise((Nt,rt)=>{y.dispatch("REQUEST_ITEM_PREPARE",{query:F,success:Kt=>{Nt(Kt)},failure:Kt=>{rt(Kt)}})}),V=(F,Nt={})=>new Promise((rt,Kt)=>{bt([{source:F,options:Nt}],{index:Nt.index}).then(Gt=>rt(Gt&&Gt[0])).catch(Kt)}),we=F=>F.file&&F.id,Ue=(F,Nt)=>(typeof F=="object"&&!we(F)&&!Nt&&(Nt=F,F=void 0),y.dispatch("REMOVE_ITEM",{...Nt,query:F}),y.query("GET_ACTIVE_ITEM",F)===null),bt=(...F)=>new Promise((Nt,rt)=>{const Kt=[],Gt={};if($H(F[0]))Kt.push.apply(Kt,F[0]),Object.assign(Gt,F[1]||{});else{const Ze=F[F.length-1];typeof Ze=="object"&&!(Ze instanceof Blob)&&Object.assign(Gt,F.pop()),Kt.push(...F)}y.dispatch("ADD_ITEMS",{items:Kt,index:Gt.index,interactionMethod:$v.API,success:Nt,failure:rt})}),It=()=>y.query("GET_ACTIVE_ITEMS"),He=F=>new Promise((Nt,rt)=>{y.dispatch("REQUEST_ITEM_PROCESSING",{query:F,success:Kt=>{Nt(Kt)},failure:Kt=>{rt(Kt)}})}),Te=(...F)=>{const Nt=Array.isArray(F[0])?F[0]:F,rt=Nt.length?Nt:It();return Promise.all(rt.map(Ke))},bn=(...F)=>{const Nt=Array.isArray(F[0])?F[0]:F;if(!Nt.length){const rt=It().filter(Kt=>!(Kt.status===Ks.IDLE&&Kt.origin===Id.LOCAL)&&Kt.status!==Ks.PROCESSING&&Kt.status!==Ks.PROCESSING_COMPLETE&&Kt.status!==Ks.PROCESSING_REVERT_ERROR);return Promise.all(rt.map(He))}return Promise.all(Nt.map(He))},Tt=(...F)=>{const Nt=Array.isArray(F[0])?F[0]:F;let rt;typeof Nt[Nt.length-1]=="object"?rt=Nt.pop():Array.isArray(F[0])&&(rt=F[1]);const Kt=It();return Nt.length?Nt.map(Ze=>nx(Ze)?Kt[Ze]?Kt[Ze].id:null:Ze).filter(Ze=>Ze).map(Ze=>Ue(Ze,rt)):Promise.all(Kt.map(Ze=>Ue(Ze,rt)))},Mt={...HH(),...pe,...Uoe(y,f),setOptions:ee,addFile:V,addFiles:bt,getFile:ke,processFile:He,prepareFile:Ke,removeFile:Ue,moveFile:(F,Nt)=>y.dispatch("MOVE_ITEM",{query:F,index:Nt}),getFiles:It,processFiles:bn,removeFiles:Tt,prepareFiles:Te,sort:F=>y.dispatch("SORT",{compare:F}),browse:()=>{var F=J.element.querySelector("input[type=file]");F&&F.click()},destroy:()=>{Mt.fire("destroy",J.element),y.dispatch("ABORT_ALL"),J._destroy(),window.removeEventListener("resize",j),document.removeEventListener("visibilitychange",C),y.dispatch("DID_DESTROY")},insertBefore:F=>kX(J.element,F),insertAfter:F=>PX(J.element,F),appendTo:F=>F.appendChild(J.element),replaceElement:F=>{kX(J.element,F),F.parentNode.removeChild(F),c=F},restoreElement:()=>{c&&(PX(c,J.element),J.element.parentNode.removeChild(J.element),c=null)},isAttachedTo:F=>J.element===F||c===F,element:{get:()=>J.element},status:{get:()=>y.query("GET_STATUS")}};return y.dispatch("DID_INIT"),Fw(Mt)},uee=(a={})=>{const c={};return ql(_H(),(y,C)=>{c[y]=C[0]}),Hie({...c,...a})},Vie=a=>a.charAt(0).toLowerCase()+a.slice(1),zie=a=>cee(a.replace(/^data-/,"")),dee=(a,c)=>{ql(c,(f,y)=>{ql(a,(C,w)=>{const S=new RegExp(f);if(!S.test(C)||(delete a[C],y===!1))return;if(fm(y)){a[y]=w;return}const P=y.group;Qd(y)&&!a[P]&&(a[P]={}),a[P][Vie(C.replace(S,""))]=w}),y.mapping&&dee(a[y.group],y.mapping)})},Uie=(a,c={})=>{const f=[];ql(a.attributes,C=>{f.push(a.attributes[C])});const y=f.filter(C=>C.name).reduce((C,w)=>{const S=Ku(a,w.name);return C[zie(w.name)]=S===w.name?!0:S,C},{});return dee(y,c),y},Wie=(a,c={})=>{const f={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};hx("SET_ATTRIBUTE_TO_OPTION_MAP",f);const y={...c},C=Uie(a.nodeName==="FIELDSET"?a.querySelector("input[type=file]"):a,f);Object.keys(C).forEach(S=>{Qd(C[S])?(Qd(y[S])||(y[S]={}),Object.assign(y[S],C[S])):y[S]=C[S]}),y.files=(c.files||[]).concat(Array.from(a.querySelectorAll("input:not([type=file])")).map(S=>({source:S.value,options:{type:S.dataset.type}})));const w=uee(y);return a.files&&Array.from(a.files).forEach(S=>{w.addFile(S)}),w.replaceElement(a),w},Gie=(...a)=>noe(a[0])?Wie(...a):uee(...a),jie=["fire","_read","_write"],fQ=a=>{const c={};return MJ(a,c,jie),c},qie=(a,c)=>a.replace(/(?:{([a-zA-Z]+)})/g,(f,y)=>c[y]),Zie=a=>{const c=new Blob(["(",a.toString(),")()"],{type:"application/javascript"}),f=URL.createObjectURL(c),y=new Worker(f);return{transfer:(C,w)=>{},post:(C,w,S)=>{const M=nY();y.onmessage=P=>{P.data.id===M&&w(P.data.message)},y.postMessage({id:M,message:C},S)},terminate:()=>{y.terminate(),URL.revokeObjectURL(f)}}},Yie=a=>new Promise((c,f)=>{const y=new Image;y.onload=()=>{c(y)},y.onerror=C=>{f(C)},y.src=a}),fee=(a,c)=>{const f=a.slice(0,a.size,a.type);return f.lastModifiedDate=a.lastModifiedDate,f.name=c,f},Kie=a=>fee(a,a.name),hQ=[],Xie=a=>{if(hQ.includes(a))return;hQ.push(a);const c=a({addFilter:Koe,utils:{Type:_n,forin:ql,isString:fm,isFile:GO,toNaturalFileSize:GJ,replaceInString:qie,getExtensionFromFilename:VH,getFilenameWithoutExtension:zJ,guesstimateMimeType:nee,getFileFromBlob:WO,getFilenameFromURL:rk,createRoute:hm,createWorker:Zie,createView:Xu,createItemAPI:hp,loadImage:Yie,copyFile:Kie,renameFile:fee,createBlob:FJ,applyFilterChain:eb,text:Su,getNumericAspectRatioFromString:PJ},views:{fileActionButton:WJ}});Xoe(c.options)},Qie=()=>Object.prototype.toString.call(window.operamini)==="[object OperaMini]",Jie=()=>"Promise"in window,eae=()=>"slice"in Blob.prototype,tae=()=>"URL"in window&&"createObjectURL"in window.URL,nae=()=>"visibilityState"in document,oae=()=>"performance"in window,sae=()=>"supports"in(window.CSS||{}),rae=()=>/MSIE|Trident/.test(window.navigator.userAgent),PZ=(()=>{const a=xJ()&&!Qie()&&nae()&&Jie()&&eae()&&tae()&&oae()&&(sae()||rae());return()=>a})(),kw={apps:[]},iae="filepond",mx=()=>{};let hee={},mee={},pee={},LZ={},rH=mx,iH=mx,$Z=mx,BZ=mx,TH=mx,FZ=mx,HZ=mx;if(PZ()){Ooe(()=>{kw.apps.forEach(f=>f._read())},f=>{kw.apps.forEach(y=>y._write(f))});const a=()=>{document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:PZ,create:rH,destroy:iH,parse:$Z,find:BZ,registerPlugin:TH,setOptions:HZ}})),document.removeEventListener("DOMContentLoaded",a)};document.readyState!=="loading"?setTimeout(()=>a(),0):document.addEventListener("DOMContentLoaded",a);const c=()=>ql(_H(),(f,y)=>{LZ[f]=y[1]});hee={...LJ},pee={...Id},mee={...Ks},LZ={},c(),rH=(...f)=>{const y=Gie(...f);return y.on("destroy",iH),kw.apps.push(y),fQ(y)},iH=f=>{const y=kw.apps.findIndex(C=>C.isAttachedTo(f));return y>=0?(kw.apps.splice(y,1)[0].restoreElement(),!0):!1},$Z=f=>Array.from(f.querySelectorAll(`.${iae}`)).filter(w=>!kw.apps.find(S=>S.isAttachedTo(w))).map(w=>rH(w)),BZ=f=>{const y=kw.apps.find(C=>C.isAttachedTo(f));return y?fQ(y):null},TH=(...f)=>{f.forEach(Xie),c()},FZ=()=>{const f={};return ql(_H(),(y,C)=>{f[y]=C[0]}),f},HZ=f=>(Qd(f)&&(kw.apps.forEach(y=>{y.setOptions(f)}),Qoe(f)),FZ())}const aae=Object.freeze(Object.defineProperty({__proto__:null,get FileOrigin(){return pee},get FileStatus(){return mee},get OptionTypes(){return LZ},get Status(){return hee},get create(){return rH},get destroy(){return iH},get find(){return BZ},get getOptions(){return FZ},get parse(){return $Z},get registerPlugin(){return TH},get setOptions(){return HZ},supported:PZ},Symbol.toStringTag,{value:"Module"}));/*!
 * FilePondPluginFileValidateType 1.2.8
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const cae=({addFilter:a,utils:c})=>{const{Type:f,isString:y,replaceInString:C,guesstimateMimeType:w,getExtensionFromFilename:S,getFilenameFromURL:M}=c,P=(ae,pe)=>{const fe=(/^[^/]+/.exec(ae)||[]).pop(),ue=pe.slice(0,-2);return fe===ue},G=(ae,pe)=>ae.some(fe=>/\*$/.test(fe)?P(pe,fe):fe===pe),j=ae=>{let pe="";if(y(ae)){const fe=M(ae),ue=S(fe);ue&&(pe=w(ue))}else pe=ae.type;return pe},J=(ae,pe,fe)=>{if(pe.length===0)return!0;const ue=j(ae);return fe?new Promise((le,ve)=>{fe(ae,ue).then(ee=>{G(pe,ee)?le():ve()}).catch(ve)}):G(pe,ue)},me=ae=>pe=>ae[pe]===null?!1:ae[pe]||pe;return a("SET_ATTRIBUTE_TO_OPTION_MAP",ae=>Object.assign(ae,{accept:"acceptedFileTypes"})),a("ALLOW_HOPPER_ITEM",(ae,{query:pe})=>pe("GET_ALLOW_FILE_TYPE_VALIDATION")?J(ae,pe("GET_ACCEPTED_FILE_TYPES")):!0),a("LOAD_FILE",(ae,{query:pe})=>new Promise((fe,ue)=>{if(!pe("GET_ALLOW_FILE_TYPE_VALIDATION")){fe(ae);return}const le=pe("GET_ACCEPTED_FILE_TYPES"),ve=pe("GET_FILE_VALIDATE_TYPE_DETECT_TYPE"),ee=J(ae,le,ve),ke=()=>{const Ke=le.map(me(pe("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"))).filter(we=>we!==!1),V=Ke.filter(function(we,Ue){return Ke.indexOf(we)===Ue});ue({status:{main:pe("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:C(pe("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:V.join(", "),allButLastType:V.slice(0,-1).join(", "),lastType:V[Ke.length-1]})}})};if(typeof ee=="boolean")return ee?fe(ae):ke();ee.then(()=>{fe(ae)}).catch(ke)})),{options:{allowFileTypeValidation:[!0,f.BOOLEAN],acceptedFileTypes:[[],f.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",f.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",f.STRING],fileValidateTypeLabelExpectedTypesMap:[{},f.OBJECT],fileValidateTypeDetectType:[null,f.FUNCTION]}}},lae=typeof window<"u"&&typeof window.document<"u";lae&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:cae}));/*!
 * FilePondPluginImagePreview 4.6.11
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const uae=a=>/^image/.test(a.type),mQ=(a,c)=>tk(a.x*c,a.y*c),pQ=(a,c)=>tk(a.x+c.x,a.y+c.y),dae=a=>{const c=Math.sqrt(a.x*a.x+a.y*a.y);return c===0?{x:0,y:0}:tk(a.x/c,a.y/c)},Z5=(a,c,f)=>{const y=Math.cos(c),C=Math.sin(c),w=tk(a.x-f.x,a.y-f.y);return tk(f.x+y*w.x-C*w.y,f.y+C*w.x+y*w.y)},tk=(a=0,c=0)=>({x:a,y:c}),mp=(a,c,f=1,y)=>{if(typeof a=="string")return parseFloat(a)*f;if(typeof a=="number")return a*(y?c[y]:Math.min(c.width,c.height))},fae=(a,c,f)=>{const y=a.borderStyle||a.lineStyle||"solid",C=a.backgroundColor||a.fontColor||"transparent",w=a.borderColor||a.lineColor||"transparent",S=mp(a.borderWidth||a.lineWidth,c,f),M=a.lineCap||"round",P=a.lineJoin||"round",G=typeof y=="string"?"":y.map(J=>mp(J,c,f)).join(","),j=a.opacity||1;return{"stroke-linecap":M,"stroke-linejoin":P,"stroke-width":S||0,"stroke-dasharray":G,stroke:w,fill:C,opacity:j}},Pv=a=>a!=null,hae=(a,c,f=1)=>{let y=mp(a.x,c,f,"width")||mp(a.left,c,f,"width"),C=mp(a.y,c,f,"height")||mp(a.top,c,f,"height"),w=mp(a.width,c,f,"width"),S=mp(a.height,c,f,"height"),M=mp(a.right,c,f,"width"),P=mp(a.bottom,c,f,"height");return Pv(C)||(Pv(S)&&Pv(P)?C=c.height-S-P:C=P),Pv(y)||(Pv(w)&&Pv(M)?y=c.width-w-M:y=M),Pv(w)||(Pv(y)&&Pv(M)?w=c.width-y-M:w=0),Pv(S)||(Pv(C)&&Pv(P)?S=c.height-C-P:S=0),{x:y||0,y:C||0,width:w||0,height:S||0}},mae=a=>a.map((c,f)=>`${f===0?"M":"L"} ${c.x} ${c.y}`).join(" "),y0=(a,c)=>Object.keys(c).forEach(f=>a.setAttribute(f,c[f])),pae="http://www.w3.org/2000/svg",$O=(a,c)=>{const f=document.createElementNS(pae,a);return c&&y0(f,c),f},gae=a=>y0(a,{...a.rect,...a.styles}),vae=a=>{const c=a.rect.x+a.rect.width*.5,f=a.rect.y+a.rect.height*.5,y=a.rect.width*.5,C=a.rect.height*.5;return y0(a,{cx:c,cy:f,rx:y,ry:C,...a.styles})},bae={contain:"xMidYMid meet",cover:"xMidYMid slice"},yae=(a,c)=>{y0(a,{...a.rect,...a.styles,preserveAspectRatio:bae[c.fit]||"none"})},_ae={left:"start",center:"middle",right:"end"},Eae=(a,c,f,y)=>{const C=mp(c.fontSize,f,y),w=c.fontFamily||"sans-serif",S=c.fontWeight||"normal",M=_ae[c.textAlign]||"start";y0(a,{...a.rect,...a.styles,"stroke-width":0,"font-weight":S,"font-size":C,"font-family":w,"text-anchor":M}),a.text!==c.text&&(a.text=c.text,a.textContent=c.text.length?c.text:" ")},wae=(a,c,f,y)=>{y0(a,{...a.rect,...a.styles,fill:"none"});const C=a.childNodes[0],w=a.childNodes[1],S=a.childNodes[2],M=a.rect,P={x:a.rect.x+a.rect.width,y:a.rect.y+a.rect.height};if(y0(C,{x1:M.x,y1:M.y,x2:P.x,y2:P.y}),!c.lineDecoration)return;w.style.display="none",S.style.display="none";const G=dae({x:P.x-M.x,y:P.y-M.y}),j=mp(.05,f,y);if(c.lineDecoration.indexOf("arrow-begin")!==-1){const J=mQ(G,j),me=pQ(M,J),ae=Z5(M,2,me),pe=Z5(M,-2,me);y0(w,{style:"display:block;",d:`M${ae.x},${ae.y} L${M.x},${M.y} L${pe.x},${pe.y}`})}if(c.lineDecoration.indexOf("arrow-end")!==-1){const J=mQ(G,-j),me=pQ(P,J),ae=Z5(P,2,me),pe=Z5(P,-2,me);y0(S,{style:"display:block;",d:`M${ae.x},${ae.y} L${P.x},${P.y} L${pe.x},${pe.y}`})}},Tae=(a,c,f,y)=>{y0(a,{...a.styles,fill:"none",d:mae(c.points.map(C=>({x:mp(C.x,f,y,"width"),y:mp(C.y,f,y,"height")})))})},Y5=a=>c=>$O(a,{id:c.id}),Cae=a=>{const c=$O("image",{id:a.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return c.onload=()=>{c.setAttribute("opacity",a.opacity||1)},c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a.src),c},Sae=a=>{const c=$O("g",{id:a.id,"stroke-linecap":"round","stroke-linejoin":"round"}),f=$O("line");c.appendChild(f);const y=$O("path");c.appendChild(y);const C=$O("path");return c.appendChild(C),c},xae={image:Cae,rect:Y5("rect"),ellipse:Y5("ellipse"),text:Y5("text"),path:Y5("path"),line:Sae},Aae={rect:gae,ellipse:vae,image:yae,text:Eae,path:Tae,line:wae},Oae=(a,c)=>xae[a](c),Rae=(a,c,f,y,C)=>{c!=="path"&&(a.rect=hae(f,y,C)),a.styles=fae(f,y,C),Aae[c](a,f,y,C)},Iae=["x","y","left","top","right","bottom","width","height"],Dae=a=>typeof a=="string"&&/%/.test(a)?parseFloat(a)/100:a,Mae=a=>{const[c,f]=a,y=f.points?{}:Iae.reduce((C,w)=>(C[w]=Dae(f[w]),C),{});return[c,{zIndex:0,...f,...y}]},Nae=(a,c)=>a[1].zIndex>c[1].zIndex?1:a[1].zIndex<c[1].zIndex?-1:0,kae=a=>a.utils.createView({name:"image-preview-markup",tag:"svg",ignoreRect:!0,mixins:{apis:["width","height","crop","markup","resize","dirty"]},write:({root:c,props:f})=>{if(!f.dirty)return;const{crop:y,resize:C,markup:w}=f,S=f.width,M=f.height;let P=y.width,G=y.height;if(C){const{size:ae}=C;let pe=ae&&ae.width,fe=ae&&ae.height;const ue=C.mode,le=C.upscale;pe&&!fe&&(fe=pe),fe&&!pe&&(pe=fe);const ve=P<pe&&G<fe;if(!ve||ve&&le){let ee=pe/P,ke=fe/G;if(ue==="force")P=pe,G=fe;else{let Ke;ue==="cover"?Ke=Math.max(ee,ke):ue==="contain"&&(Ke=Math.min(ee,ke)),P=P*Ke,G=G*Ke}}}const j={width:S,height:M};c.element.setAttribute("width",j.width),c.element.setAttribute("height",j.height);const J=Math.min(S/P,M/G);c.element.innerHTML="";const me=c.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");w.filter(me).map(Mae).sort(Nae).forEach(ae=>{const[pe,fe]=ae,ue=Oae(pe,fe);Rae(ue,pe,fe,j,J),c.element.appendChild(ue)})}}),XN=(a,c)=>({x:a,y:c}),Pae=(a,c)=>a.x*c.x+a.y*c.y,gQ=(a,c)=>XN(a.x-c.x,a.y-c.y),Lae=(a,c)=>Pae(gQ(a,c),gQ(a,c)),vQ=(a,c)=>Math.sqrt(Lae(a,c)),bQ=(a,c)=>{const f=a,y=1.5707963267948966,C=c,w=1.5707963267948966-c,S=Math.sin(y),M=Math.sin(C),P=Math.sin(w),G=Math.cos(w),j=f/S,J=j*M,me=j*P;return XN(G*J,G*me)},$ae=(a,c)=>{const f=a.width,y=a.height,C=bQ(f,c),w=bQ(y,c),S=XN(a.x+Math.abs(C.x),a.y-Math.abs(C.y)),M=XN(a.x+a.width+Math.abs(w.y),a.y+Math.abs(w.x)),P=XN(a.x-Math.abs(w.y),a.y+a.height-Math.abs(w.x));return{width:vQ(S,M),height:vQ(S,P)}},Bae=(a,c,f=1)=>{const y=a.height/a.width;let C=1,w=c,S=1,M=y;M>w&&(M=w,S=M/y);const P=Math.max(C/S,w/M),G=a.width/(f*P*S),j=G*c;return{width:G,height:j}},gee=(a,c,f,y)=>{const C=y.x>.5?1-y.x:y.x,w=y.y>.5?1-y.y:y.y,S=C*2*a.width,M=w*2*a.height,P=$ae(c,f);return Math.max(P.width/S,P.height/M)},vee=(a,c)=>{let f=a.width,y=f*c;y>a.height&&(y=a.height,f=y/c);const C=(a.width-f)*.5,w=(a.height-y)*.5;return{x:C,y:w,width:f,height:y}},Fae=(a,c={})=>{let{zoom:f,rotation:y,center:C,aspectRatio:w}=c;w||(w=a.height/a.width);const S=Bae(a,w,f),M={x:S.width*.5,y:S.height*.5},P={x:0,y:0,width:S.width,height:S.height,center:M},G=typeof c.scaleToFit>"u"||c.scaleToFit,j=gee(a,vee(P,w),y,G?C:{x:.5,y:.5}),J=f*j;return{widthFloat:S.width/J,heightFloat:S.height/J,width:Math.round(S.width/J),height:Math.round(S.height/J)}},b0={type:"spring",stiffness:.5,damping:.45,mass:10},Hae=a=>a.utils.createView({name:"image-bitmap",ignoreRect:!0,mixins:{styles:["scaleX","scaleY"]},create:({root:c,props:f})=>{c.appendChild(f.image)}}),Vae=a=>a.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:!0,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:b0,originY:b0,scaleX:b0,scaleY:b0,translateX:b0,translateY:b0,rotateZ:b0}},create:({root:c,props:f})=>{f.width=f.image.width,f.height=f.image.height,c.ref.bitmap=c.appendChildView(c.createChildView(Hae(a),{image:f.image}))},write:({root:c,props:f})=>{const{flip:y}=f.crop,{bitmap:C}=c.ref;C.scaleX=y.horizontal?-1:1,C.scaleY=y.vertical?-1:1}}),zae=a=>a.utils.createView({name:"image-clip",tag:"div",ignoreRect:!0,mixins:{apis:["crop","markup","resize","width","height","dirty","background"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},didWriteView:function({root:c,props:f}){f.background&&(c.element.style.backgroundColor=f.background)},create:({root:c,props:f})=>{c.ref.image=c.appendChildView(c.createChildView(Vae(a),Object.assign({},f))),c.ref.createMarkup=()=>{c.ref.markup||(c.ref.markup=c.appendChildView(c.createChildView(kae(a),Object.assign({},f))))},c.ref.destroyMarkup=()=>{c.ref.markup&&(c.removeChildView(c.ref.markup),c.ref.markup=null)};const y=c.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");y!==null&&(y==="grid"?c.element.dataset.transparencyIndicator=y:c.element.dataset.transparencyIndicator="color")},write:({root:c,props:f,shouldOptimize:y})=>{const{crop:C,markup:w,resize:S,dirty:M,width:P,height:G}=f;c.ref.image.crop=C;const j={x:0,y:0,width:P,height:G,center:{x:P*.5,y:G*.5}},J={width:c.ref.image.width,height:c.ref.image.height},me={x:C.center.x*J.width,y:C.center.y*J.height},ae={x:j.center.x-J.width*C.center.x,y:j.center.y-J.height*C.center.y},pe=Math.PI*2+C.rotation%(Math.PI*2),fe=C.aspectRatio||J.height/J.width,ue=typeof C.scaleToFit>"u"||C.scaleToFit,le=gee(J,vee(j,fe),pe,ue?C.center:{x:.5,y:.5}),ve=C.zoom*le;w&&w.length?(c.ref.createMarkup(),c.ref.markup.width=P,c.ref.markup.height=G,c.ref.markup.resize=S,c.ref.markup.dirty=M,c.ref.markup.markup=w,c.ref.markup.crop=Fae(J,C)):c.ref.markup&&c.ref.destroyMarkup();const ee=c.ref.image;if(y){ee.originX=null,ee.originY=null,ee.translateX=null,ee.translateY=null,ee.rotateZ=null,ee.scaleX=null,ee.scaleY=null;return}ee.originX=me.x,ee.originY=me.y,ee.translateX=ae.x,ee.translateY=ae.y,ee.rotateZ=pe,ee.scaleX=ve,ee.scaleY=ve}}),Uae=a=>a.utils.createView({name:"image-preview",tag:"div",ignoreRect:!0,mixins:{apis:["image","crop","markup","resize","dirty","background"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:b0,scaleY:b0,translateY:b0,opacity:{type:"tween",duration:400}}},create:({root:c,props:f})=>{c.ref.clip=c.appendChildView(c.createChildView(zae(a),{id:f.id,image:f.image,crop:f.crop,markup:f.markup,resize:f.resize,dirty:f.dirty,background:f.background}))},write:({root:c,props:f,shouldOptimize:y})=>{const{clip:C}=c.ref,{image:w,crop:S,markup:M,resize:P,dirty:G}=f;if(C.crop=S,C.markup=M,C.resize=P,C.dirty=G,C.opacity=y?0:1,y||c.rect.element.hidden)return;const j=w.height/w.width;let J=S.aspectRatio||j;const me=c.rect.inner.width,ae=c.rect.inner.height;let pe=c.query("GET_IMAGE_PREVIEW_HEIGHT");const fe=c.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),ue=c.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),le=c.query("GET_PANEL_ASPECT_RATIO"),ve=c.query("GET_ALLOW_MULTIPLE");le&&!ve&&(pe=me*le,J=le);let ee=pe!==null?pe:Math.max(fe,Math.min(me*J,ue)),ke=ee/J;ke>me&&(ke=me,ee=ke*J),ee>ae&&(ee=ae,ke=ae/J),C.width=ke,C.height=ee}});let Wae=`<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">
    <defs>
        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">
            <stop offset='50%' stop-color='#000000'/>
            <stop offset='56%' stop-color='#0a0a0a'/>
            <stop offset='63%' stop-color='#262626'/>
            <stop offset='69%' stop-color='#4f4f4f'/>
            <stop offset='75%' stop-color='#808080'/>
            <stop offset='81%' stop-color='#b1b1b1'/>
            <stop offset='88%' stop-color='#dadada'/>
            <stop offset='94%' stop-color='#f6f6f6'/>
            <stop offset='100%' stop-color='#ffffff'/>
        </radialGradient>
        <mask id="mask-__UID__">
            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>
        </mask>
    </defs>
    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>
</svg>`,yQ=0;const Gae=a=>a.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:!0,create:({root:c,props:f})=>{let y=Wae;if(document.querySelector("base")){const C=new URL(window.location.href.replace(window.location.hash,"")).href;y=y.replace(/url\(\#/g,"url("+C+"#")}yQ++,c.element.classList.add(`filepond--image-preview-overlay-${f.status}`),c.element.innerHTML=y.replace(/__UID__/g,yQ)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}}),jae=function(){self.onmessage=a=>{createImageBitmap(a.data.message.file).then(c=>{self.postMessage({id:a.data.id,message:c},[c])})}},qae=function(){self.onmessage=a=>{const c=a.data.message.imageData,f=a.data.message.colorMatrix,y=c.data,C=y.length,w=f[0],S=f[1],M=f[2],P=f[3],G=f[4],j=f[5],J=f[6],me=f[7],ae=f[8],pe=f[9],fe=f[10],ue=f[11],le=f[12],ve=f[13],ee=f[14],ke=f[15],Ke=f[16],V=f[17],we=f[18],Ue=f[19];let bt=0,It=0,He=0,Te=0,bn=0;for(;bt<C;bt+=4)It=y[bt]/255,He=y[bt+1]/255,Te=y[bt+2]/255,bn=y[bt+3]/255,y[bt]=Math.max(0,Math.min((It*w+He*S+Te*M+bn*P+G)*255,255)),y[bt+1]=Math.max(0,Math.min((It*j+He*J+Te*me+bn*ae+pe)*255,255)),y[bt+2]=Math.max(0,Math.min((It*fe+He*ue+Te*le+bn*ve+ee)*255,255)),y[bt+3]=Math.max(0,Math.min((It*ke+He*Ke+Te*V+bn*we+Ue)*255,255));self.postMessage({id:a.data.id,message:c},[c.data.buffer])}},Zae=(a,c)=>{let f=new Image;f.onload=()=>{const y=f.naturalWidth,C=f.naturalHeight;f=null,c(y,C)},f.src=a},Yae={1:()=>[1,0,0,1,0,0],2:a=>[-1,0,0,1,a,0],3:(a,c)=>[-1,0,0,-1,a,c],4:(a,c)=>[1,0,0,-1,0,c],5:()=>[0,1,1,0,0,0],6:(a,c)=>[0,1,-1,0,c,0],7:(a,c)=>[0,-1,-1,0,c,a],8:a=>[0,-1,1,0,0,a]},Kae=(a,c,f,y)=>{y!==-1&&a.transform.apply(a,Yae[y](c,f))},Xae=(a,c,f,y)=>{c=Math.round(c),f=Math.round(f);const C=document.createElement("canvas");C.width=c,C.height=f;const w=C.getContext("2d");return y>=5&&y<=8&&([c,f]=[f,c]),Kae(w,c,f,y),w.drawImage(a,0,0,c,f),C},bee=a=>/^image/.test(a.type)&&!/svg/.test(a.type),Qae=10,Jae=10,ece=a=>{const c=Math.min(Qae/a.width,Jae/a.height),f=document.createElement("canvas"),y=f.getContext("2d"),C=f.width=Math.ceil(a.width*c),w=f.height=Math.ceil(a.height*c);y.drawImage(a,0,0,C,w);let S=null;try{S=y.getImageData(0,0,C,w).data}catch{return null}const M=S.length;let P=0,G=0,j=0,J=0;for(;J<M;J+=4)P+=S[J]*S[J],G+=S[J+1]*S[J+1],j+=S[J+2]*S[J+2];return P=oZ(P,M),G=oZ(G,M),j=oZ(j,M),{r:P,g:G,b:j}},oZ=(a,c)=>Math.floor(Math.sqrt(a/(c/4))),tce=(a,c)=>(c=c||document.createElement("canvas"),c.width=a.width,c.height=a.height,c.getContext("2d").drawImage(a,0,0),c),nce=a=>{let c;try{c=new ImageData(a.width,a.height)}catch{c=document.createElement("canvas").getContext("2d").createImageData(a.width,a.height)}return c.data.set(new Uint8ClampedArray(a.data)),c},oce=a=>new Promise((c,f)=>{const y=new Image;y.crossOrigin="Anonymous",y.onload=()=>{c(y)},y.onerror=C=>{f(C)},y.src=a}),sce=a=>{const c=Gae(a),f=Uae(a),{createWorker:y}=a.utils,C=(ve,ee,ke)=>new Promise(Ke=>{ve.ref.imageData||(ve.ref.imageData=ke.getContext("2d").getImageData(0,0,ke.width,ke.height));const V=nce(ve.ref.imageData);if(!ee||ee.length!==20)return ke.getContext("2d").putImageData(V,0,0),Ke();const we=y(qae);we.post({imageData:V,colorMatrix:ee},Ue=>{ke.getContext("2d").putImageData(Ue,0,0),we.terminate(),Ke()},[V.data.buffer])}),w=(ve,ee)=>{ve.removeChildView(ee),ee.image.width=1,ee.image.height=1,ee._destroy()},S=({root:ve})=>{const ee=ve.ref.images.shift();return ee.opacity=0,ee.translateY=-15,ve.ref.imageViewBin.push(ee),ee},M=({root:ve,props:ee,image:ke})=>{const Ke=ee.id,V=ve.query("GET_ITEM",{id:Ke});if(!V)return;const we=V.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},Ue=ve.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR");let bt,It,He=!1;ve.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(bt=V.getMetadata("markup")||[],It=V.getMetadata("resize"),He=!0);const Te=ve.appendChildView(ve.createChildView(f,{id:Ke,image:ke,crop:we,resize:It,markup:bt,dirty:He,background:Ue,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),ve.childViews.length);ve.ref.images.push(Te),Te.opacity=1,Te.scaleX=1,Te.scaleY=1,Te.translateY=0,setTimeout(()=>{ve.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:Ke})},250)},P=({root:ve,props:ee})=>{const ke=ve.query("GET_ITEM",{id:ee.id});if(!ke)return;const Ke=ve.ref.images[ve.ref.images.length-1];Ke.crop=ke.getMetadata("crop"),Ke.background=ve.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),ve.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(Ke.dirty=!0,Ke.resize=ke.getMetadata("resize"),Ke.markup=ke.getMetadata("markup"))},G=({root:ve,props:ee,action:ke})=>{if(!/crop|filter|markup|resize/.test(ke.change.key)||!ve.ref.images.length)return;const Ke=ve.query("GET_ITEM",{id:ee.id});if(Ke){if(/filter/.test(ke.change.key)){const V=ve.ref.images[ve.ref.images.length-1];C(ve,ke.change.value,V.image);return}if(/crop|markup|resize/.test(ke.change.key)){const V=Ke.getMetadata("crop"),we=ve.ref.images[ve.ref.images.length-1];if(V&&V.aspectRatio&&we.crop&&we.crop.aspectRatio&&Math.abs(V.aspectRatio-we.crop.aspectRatio)>1e-5){const Ue=S({root:ve});M({root:ve,props:ee,image:tce(Ue.image)})}else P({root:ve,props:ee})}}},j=ve=>{const ke=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./);return(ke?parseInt(ke[1]):null)<=58?!1:"createImageBitmap"in window&&bee(ve)},J=({root:ve,props:ee})=>{const{id:ke}=ee,Ke=ve.query("GET_ITEM",ke);if(!Ke)return;const V=URL.createObjectURL(Ke.file);Zae(V,(we,Ue)=>{ve.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:ke,width:we,height:Ue})})},me=({root:ve,props:ee})=>{const{id:ke}=ee,Ke=ve.query("GET_ITEM",ke);if(!Ke)return;const V=URL.createObjectURL(Ke.file),we=()=>{oce(V).then(Ue)},Ue=bt=>{URL.revokeObjectURL(V);const He=(Ke.getMetadata("exif")||{}).orientation||-1;let{width:Te,height:bn}=bt;if(!Te||!bn)return;He>=5&&He<=8&&([Te,bn]=[bn,Te]);const Tt=Math.max(1,window.devicePixelRatio*.75),F=ve.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR")*Tt,Nt=bn/Te,rt=ve.rect.element.width,Kt=ve.rect.element.height;let Gt=rt,Ze=Gt*Nt;Nt>1?(Gt=Math.min(Te,rt*F),Ze=Gt*Nt):(Ze=Math.min(bn,Kt*F),Gt=Ze/Nt);const _o=Xae(bt,Gt,Ze,He),Ho=()=>{const Vo=ve.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?ece(data):null;Ke.setMetadata("color",Vo,!0),"close"in bt&&bt.close(),ve.ref.overlayShadow.opacity=1,M({root:ve,props:ee,image:_o})},lo=Ke.getMetadata("filter");lo?C(ve,lo,_o).then(Ho):Ho()};if(j(Ke.file)){const bt=y(jae);bt.post({file:Ke.file},It=>{if(bt.terminate(),!It){we();return}Ue(It)})}else we()},ae=({root:ve})=>{const ee=ve.ref.images[ve.ref.images.length-1];ee.translateY=0,ee.scaleX=1,ee.scaleY=1,ee.opacity=1},pe=({root:ve})=>{ve.ref.overlayShadow.opacity=1,ve.ref.overlayError.opacity=0,ve.ref.overlaySuccess.opacity=0},fe=({root:ve})=>{ve.ref.overlayShadow.opacity=.25,ve.ref.overlayError.opacity=1},ue=({root:ve})=>{ve.ref.overlayShadow.opacity=.25,ve.ref.overlaySuccess.opacity=1},le=({root:ve})=>{ve.ref.images=[],ve.ref.imageData=null,ve.ref.imageViewBin=[],ve.ref.overlayShadow=ve.appendChildView(ve.createChildView(c,{opacity:0,status:"idle"})),ve.ref.overlaySuccess=ve.appendChildView(ve.createChildView(c,{opacity:0,status:"success"})),ve.ref.overlayError=ve.appendChildView(ve.createChildView(c,{opacity:0,status:"failure"}))};return a.utils.createView({name:"image-preview-wrapper",create:le,styles:["height"],apis:["height"],destroy:({root:ve})=>{ve.ref.images.forEach(ee=>{ee.image.width=1,ee.image.height=1})},didWriteView:({root:ve})=>{ve.ref.images.forEach(ee=>{ee.dirty=!1})},write:a.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:ae,DID_IMAGE_PREVIEW_CONTAINER_CREATE:J,DID_FINISH_CALCULATE_PREVIEWSIZE:me,DID_UPDATE_ITEM_METADATA:G,DID_THROW_ITEM_LOAD_ERROR:fe,DID_THROW_ITEM_PROCESSING_ERROR:fe,DID_THROW_ITEM_INVALID:fe,DID_COMPLETE_ITEM_PROCESSING:ue,DID_START_ITEM_PROCESSING:pe,DID_REVERT_ITEM_PROCESSING:pe},({root:ve})=>{const ee=ve.ref.imageViewBin.filter(ke=>ke.opacity===0);ve.ref.imageViewBin=ve.ref.imageViewBin.filter(ke=>ke.opacity>0),ee.forEach(ke=>w(ve,ke)),ee.length=0})})},yee=a=>{const{addFilter:c,utils:f}=a,{Type:y,createRoute:C,isFile:w}=f,S=sce(a);return c("CREATE_VIEW",M=>{const{is:P,view:G,query:j}=M;if(!P("file")||!j("GET_ALLOW_IMAGE_PREVIEW"))return;const J=({root:ue,props:le})=>{const{id:ve}=le,ee=j("GET_ITEM",ve);if(!ee||!w(ee.file)||ee.archived)return;const ke=ee.file;if(!uae(ke)||!j("GET_IMAGE_PREVIEW_FILTER_ITEM")(ee))return;const Ke="createImageBitmap"in(window||{}),V=j("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!Ke&&V&&ke.size>V)return;ue.ref.imagePreview=G.appendChildView(G.createChildView(S,{id:ve}));const we=ue.query("GET_IMAGE_PREVIEW_HEIGHT");we&&ue.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:ee.id,height:we});const Ue=!Ke&&ke.size>j("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");ue.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:ve},Ue)},me=(ue,le)=>{if(!ue.ref.imagePreview)return;let{id:ve}=le;const ee=ue.query("GET_ITEM",{id:ve});if(!ee)return;const ke=ue.query("GET_PANEL_ASPECT_RATIO"),Ke=ue.query("GET_ITEM_PANEL_ASPECT_RATIO"),V=ue.query("GET_IMAGE_PREVIEW_HEIGHT");if(ke||Ke||V)return;let{imageWidth:we,imageHeight:Ue}=ue.ref;if(!we||!Ue)return;const bt=ue.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),It=ue.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),Te=(ee.getMetadata("exif")||{}).orientation||-1;if(Te>=5&&Te<=8&&([we,Ue]=[Ue,we]),!bee(ee.file)||ue.query("GET_IMAGE_PREVIEW_UPSCALE")){const rt=2048/we;we*=rt,Ue*=rt}const bn=Ue/we,Tt=(ee.getMetadata("crop")||{}).aspectRatio||bn;let Mt=Math.max(bt,Math.min(Ue,It));const F=ue.rect.element.width,Nt=Math.min(F*Tt,Mt);ue.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:ee.id,height:Nt})},ae=({root:ue})=>{ue.ref.shouldRescale=!0},pe=({root:ue,action:le})=>{le.change.key==="crop"&&(ue.ref.shouldRescale=!0)},fe=({root:ue,action:le})=>{ue.ref.imageWidth=le.width,ue.ref.imageHeight=le.height,ue.ref.shouldRescale=!0,ue.ref.shouldDrawPreview=!0,ue.dispatch("KICK")};G.registerWriter(C({DID_RESIZE_ROOT:ae,DID_STOP_RESIZE:ae,DID_LOAD_ITEM:J,DID_IMAGE_PREVIEW_CALCULATE_SIZE:fe,DID_UPDATE_ITEM_METADATA:pe},({root:ue,props:le})=>{ue.ref.imagePreview&&(ue.rect.element.hidden||(ue.ref.shouldRescale&&(me(ue,le),ue.ref.shouldRescale=!1),ue.ref.shouldDrawPreview&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{ue.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:le.id})})}),ue.ref.shouldDrawPreview=!1)))}))}),{options:{allowImagePreview:[!0,y.BOOLEAN],imagePreviewFilterItem:[()=>!0,y.FUNCTION],imagePreviewHeight:[null,y.INT],imagePreviewMinHeight:[44,y.INT],imagePreviewMaxHeight:[256,y.INT],imagePreviewMaxFileSize:[null,y.INT],imagePreviewZoomFactor:[2,y.INT],imagePreviewUpscale:[!1,y.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,y.INT],imagePreviewTransparencyIndicator:[null,y.STRING],imagePreviewCalculateAverageImageColor:[!1,y.BOOLEAN],imagePreviewMarkupShow:[!0,y.BOOLEAN],imagePreviewMarkupFilter:[()=>!0,y.FUNCTION]}}},rce=typeof window<"u"&&typeof window.document<"u";rce&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:yee}));/*!
 * FilePondPluginImageExifOrientation 1.0.11
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const ice=a=>/^image\/jpeg/.test(a.type),ex={JPEG:65496,APP1:65505,EXIF:1165519206,TIFF:18761,Orientation:274,Unknown:65280},tx=(a,c,f=!1)=>a.getUint16(c,f),_Q=(a,c,f=!1)=>a.getUint32(c,f),ace=a=>new Promise((c,f)=>{const y=new FileReader;y.onload=function(C){const w=new DataView(C.target.result);if(tx(w,0)!==ex.JPEG){c(-1);return}const S=w.byteLength;let M=2;for(;M<S;){const P=tx(w,M);if(M+=2,P===ex.APP1){if(_Q(w,M+=2)!==ex.EXIF)break;const G=tx(w,M+=6)===ex.TIFF;M+=_Q(w,M+4,G);const j=tx(w,M,G);M+=2;for(let J=0;J<j;J++)if(tx(w,M+J*12,G)===ex.Orientation){c(tx(w,M+J*12+8,G));return}}else{if((P&ex.Unknown)!==ex.Unknown)break;M+=tx(w,M)}}c(-1)},y.readAsArrayBuffer(a.slice(0,64*1024))}),cce=(()=>typeof window<"u"&&typeof window.document<"u")(),lce=()=>cce,uce="data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4QA6RXhpZgAATU0AKgAAAAgAAwESAAMAAAABAAYAAAEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAD/2wBDAP//////////////////////////////////////////////////////////////////////////////////////wAALCAABAAIBASIA/8QAJgABAAAAAAAAAAAAAAAAAAAAAxABAAAAAAAAAAAAAAAAAAAAAP/aAAgBAQAAPwBH/9k=";let _ee;const aH=lce()?new Image:{};aH.onload=()=>_ee=aH.naturalWidth>aH.naturalHeight;aH.src=uce;const dce=()=>_ee,Eee=({addFilter:a,utils:c})=>{const{Type:f,isFile:y}=c;return a("DID_LOAD_ITEM",(C,{query:w})=>new Promise((S,M)=>{const P=C.file;if(!y(P)||!ice(P)||!w("GET_ALLOW_IMAGE_EXIF_ORIENTATION")||!dce())return S(C);ace(P).then(G=>{C.setMetadata("exif",{orientation:G}),S(C)})})),{options:{allowImageExifOrientation:[!0,f.BOOLEAN]}}},fce=typeof window<"u"&&typeof window.document<"u";fce&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Eee}));/*!
 * FilePondPluginImageCrop 2.0.6
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const EQ=a=>/^image/.test(a.type),hce=({addFilter:a,utils:c})=>{const{Type:f,isFile:y,getNumericAspectRatioFromString:C}=c,w=(G,j)=>!(!EQ(G.file)||!j("GET_ALLOW_IMAGE_CROP")),S=G=>typeof G=="object",M=G=>typeof G=="number",P=(G,j)=>G.setMetadata("crop",Object.assign({},G.getMetadata("crop"),j));return a("DID_CREATE_ITEM",(G,{query:j})=>{G.extend("setImageCrop",J=>{if(!(!w(G,j)||!S(center)))return G.setMetadata("crop",J),J}),G.extend("setImageCropCenter",J=>{if(!(!w(G,j)||!S(J)))return P(G,{center:J})}),G.extend("setImageCropZoom",J=>{if(!(!w(G,j)||!M(J)))return P(G,{zoom:Math.max(1,J)})}),G.extend("setImageCropRotation",J=>{if(!(!w(G,j)||!M(J)))return P(G,{rotation:J})}),G.extend("setImageCropFlip",J=>{if(!(!w(G,j)||!S(J)))return P(G,{flip:J})}),G.extend("setImageCropAspectRatio",J=>{if(!w(G,j)||typeof J>"u")return;const me=G.getMetadata("crop"),ae=C(J),pe={center:{x:.5,y:.5},flip:me?Object.assign({},me.flip):{horizontal:!1,vertical:!1},rotation:0,zoom:1,aspectRatio:ae};return G.setMetadata("crop",pe),pe})}),a("DID_LOAD_ITEM",(G,{query:j})=>new Promise((J,me)=>{const ae=G.file;if(!y(ae)||!EQ(ae)||!j("GET_ALLOW_IMAGE_CROP")||G.getMetadata("crop"))return J(G);const fe=j("GET_IMAGE_CROP_ASPECT_RATIO");G.setMetadata("crop",{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},rotation:0,zoom:1,aspectRatio:fe?C(fe):null}),J(G)})),{options:{allowImageCrop:[!0,f.BOOLEAN],imageCropAspectRatio:[null,f.STRING]}}},mce=typeof window<"u"&&typeof window.document<"u";mce&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:hce}));/*!
 * FilePondPluginImageResize 2.0.10
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const pce=a=>/^image/.test(a.type),gce=(a,c)=>{let f=new Image;f.onload=()=>{const y=f.naturalWidth,C=f.naturalHeight;f=null,c({width:y,height:C})},f.onerror=()=>c(null),f.src=a},wee=({addFilter:a,utils:c})=>{const{Type:f}=c;return a("DID_LOAD_ITEM",(y,{query:C})=>new Promise((w,S)=>{const M=y.file;if(!pce(M)||!C("GET_ALLOW_IMAGE_RESIZE"))return w(y);const P=C("GET_IMAGE_RESIZE_MODE"),G=C("GET_IMAGE_RESIZE_TARGET_WIDTH"),j=C("GET_IMAGE_RESIZE_TARGET_HEIGHT"),J=C("GET_IMAGE_RESIZE_UPSCALE");if(G===null&&j===null)return w(y);const me=G===null?j:G,ae=j===null?me:j,pe=URL.createObjectURL(M);gce(pe,fe=>{if(URL.revokeObjectURL(pe),!fe)return w(y);let{width:ue,height:le}=fe;const ve=(y.getMetadata("exif")||{}).orientation||-1;if(ve>=5&&ve<=8&&([ue,le]=[le,ue]),ue===me&&le===ae)return w(y);if(!J){if(P==="cover"){if(ue<=me||le<=ae)return w(y)}else if(ue<=me&&le<=me)return w(y)}y.setMetadata("resize",{mode:P,upscale:J,size:{width:me,height:ae}}),w(y)})})),{options:{allowImageResize:[!0,f.BOOLEAN],imageResizeMode:["cover",f.STRING],imageResizeUpscale:[!0,f.BOOLEAN],imageResizeTargetWidth:[null,f.INT],imageResizeTargetHeight:[null,f.INT]}}},vce=typeof window<"u"&&typeof window.document<"u";vce&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:wee}));/*!
 * FilePondPluginImageTransform 3.8.7
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const bce=a=>/^image/.test(a.type),yce=a=>a.substr(0,a.lastIndexOf("."))||a,_ce={jpeg:"jpg","svg+xml":"svg"},Ece=(a,c)=>{const f=yce(a),y=c.split("/")[1],C=_ce[y]||y;return`${f}.${C}`},wce=a=>/jpeg|png|svg\+xml/.test(a)?a:"image/jpeg",Tce=a=>/^image/.test(a.type),Cce={1:()=>[1,0,0,1,0,0],2:a=>[-1,0,0,1,a,0],3:(a,c)=>[-1,0,0,-1,a,c],4:(a,c)=>[1,0,0,-1,0,c],5:()=>[0,1,1,0,0,0],6:(a,c)=>[0,1,-1,0,c,0],7:(a,c)=>[0,-1,-1,0,c,a],8:a=>[0,-1,1,0,0,a]},Sce=(a,c,f)=>(f===-1&&(f=1),Cce[f](a,c)),QN=(a,c)=>({x:a,y:c}),xce=(a,c)=>a.x*c.x+a.y*c.y,wQ=(a,c)=>QN(a.x-c.x,a.y-c.y),Ace=(a,c)=>xce(wQ(a,c),wQ(a,c)),TQ=(a,c)=>Math.sqrt(Ace(a,c)),CQ=(a,c)=>{const f=a,y=1.5707963267948966,C=c,w=1.5707963267948966-c,S=Math.sin(y),M=Math.sin(C),P=Math.sin(w),G=Math.cos(w),j=f/S,J=j*M,me=j*P;return QN(G*J,G*me)},Oce=(a,c)=>{const f=a.width,y=a.height,C=CQ(f,c),w=CQ(y,c),S=QN(a.x+Math.abs(C.x),a.y-Math.abs(C.y)),M=QN(a.x+a.width+Math.abs(w.y),a.y+Math.abs(w.x)),P=QN(a.x-Math.abs(w.y),a.y+a.height-Math.abs(w.x));return{width:TQ(S,M),height:TQ(S,P)}},Tee=(a,c,f=0,y={x:.5,y:.5})=>{const C=y.x>.5?1-y.x:y.x,w=y.y>.5?1-y.y:y.y,S=C*2*a.width,M=w*2*a.height,P=Oce(c,f);return Math.max(P.width/S,P.height/M)},Cee=(a,c)=>{let f=a.width,y=f*c;y>a.height&&(y=a.height,f=y/c);const C=(a.width-f)*.5,w=(a.height-y)*.5;return{x:C,y:w,width:f,height:y}},SQ=(a,c,f=1)=>{const y=a.height/a.width;let C=1,w=c,S=1,M=y;M>w&&(M=w,S=M/y);const P=Math.max(C/S,w/M),G=a.width/(f*P*S),j=G*c;return{width:G,height:j}},See=a=>{a.width=1,a.height=1,a.getContext("2d").clearRect(0,0,1,1)},xQ=a=>a&&(a.horizontal||a.vertical),Rce=(a,c,f)=>{if(c<=1&&!xQ(f))return a.width=a.naturalWidth,a.height=a.naturalHeight,a;const y=document.createElement("canvas"),C=a.naturalWidth,w=a.naturalHeight,S=c>=5&&c<=8;S?(y.width=w,y.height=C):(y.width=C,y.height=w);const M=y.getContext("2d");if(c&&M.transform.apply(M,Sce(C,w,c)),xQ(f)){const P=[1,0,0,1,0,0];(!S&&f.horizontal||S&f.vertical)&&(P[0]=-1,P[4]=C),(!S&&f.vertical||S&&f.horizontal)&&(P[3]=-1,P[5]=w),M.transform(...P)}return M.drawImage(a,0,0,C,w),y},Ice=(a,c,f={},y={})=>{const{canvasMemoryLimit:C,background:w=null}=y,S=f.zoom||1,M=Rce(a,c,f.flip),P={width:M.width,height:M.height},G=f.aspectRatio||P.height/P.width;let j=SQ(P,G,S);if(C){const ee=j.width*j.height;if(ee>C){const ke=Math.sqrt(C)/Math.sqrt(ee);P.width=Math.floor(P.width*ke),P.height=Math.floor(P.height*ke),j=SQ(P,G,S)}}const J=document.createElement("canvas"),me={x:j.width*.5,y:j.height*.5},ae={x:0,y:0,width:j.width,height:j.height,center:me},pe=typeof f.scaleToFit>"u"||f.scaleToFit,fe=S*Tee(P,Cee(ae,G),f.rotation,pe?f.center:{x:.5,y:.5});J.width=Math.round(j.width/fe),J.height=Math.round(j.height/fe),me.x/=fe,me.y/=fe;const ue={x:me.x-P.width*(f.center?f.center.x:.5),y:me.y-P.height*(f.center?f.center.y:.5)},le=J.getContext("2d");w&&(le.fillStyle=w,le.fillRect(0,0,J.width,J.height)),le.translate(me.x,me.y),le.rotate(f.rotation||0),le.drawImage(M,ue.x-me.x,ue.y-me.y,P.width,P.height);const ve=le.getImageData(0,0,J.width,J.height);return See(J),ve},Dce=(()=>typeof window<"u"&&typeof window.document<"u")();Dce&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(a,c,f){var y=this.toDataURL(c,f).split(",")[1];setTimeout(function(){for(var C=atob(y),w=C.length,S=new Uint8Array(w),M=0;M<w;M++)S[M]=C.charCodeAt(M);a(new Blob([S],{type:c||"image/png"}))})}}));const Mce=(a,c,f=null)=>new Promise(y=>{const C=f?f(a):a;Promise.resolve(C).then(w=>{w.toBlob(y,c.type,c.quality)})}),CH=(a,c)=>nk(a.x*c,a.y*c),SH=(a,c)=>nk(a.x+c.x,a.y+c.y),xee=a=>{const c=Math.sqrt(a.x*a.x+a.y*a.y);return c===0?{x:0,y:0}:nk(a.x/c,a.y/c)},Bw=(a,c,f)=>{const y=Math.cos(c),C=Math.sin(c),w=nk(a.x-f.x,a.y-f.y);return nk(f.x+y*w.x-C*w.y,f.y+C*w.x+y*w.y)},nk=(a=0,c=0)=>({x:a,y:c}),Uf=(a,c,f=1,y)=>{if(typeof a=="string")return parseFloat(a)*f;if(typeof a=="number")return a*(y?c[y]:Math.min(c.width,c.height))},px=(a,c,f)=>{const y=a.borderStyle||a.lineStyle||"solid",C=a.backgroundColor||a.fontColor||"transparent",w=a.borderColor||a.lineColor||"transparent",S=Uf(a.borderWidth||a.lineWidth,c,f),M=a.lineCap||"round",P=a.lineJoin||"round",G=typeof y=="string"?"":y.map(J=>Uf(J,c,f)).join(","),j=a.opacity||1;return{"stroke-linecap":M,"stroke-linejoin":P,"stroke-width":S||0,"stroke-dasharray":G,stroke:w,fill:C,opacity:j}},Lv=a=>a!=null,tR=(a,c,f=1)=>{let y=Uf(a.x,c,f,"width")||Uf(a.left,c,f,"width"),C=Uf(a.y,c,f,"height")||Uf(a.top,c,f,"height"),w=Uf(a.width,c,f,"width"),S=Uf(a.height,c,f,"height"),M=Uf(a.right,c,f,"width"),P=Uf(a.bottom,c,f,"height");return Lv(C)||(Lv(S)&&Lv(P)?C=c.height-S-P:C=P),Lv(y)||(Lv(w)&&Lv(M)?y=c.width-w-M:y=M),Lv(w)||(Lv(y)&&Lv(M)?w=c.width-y-M:w=0),Lv(S)||(Lv(C)&&Lv(P)?S=c.height-C-P:S=0),{x:y||0,y:C||0,width:w||0,height:S||0}},Nce=a=>a.map((c,f)=>`${f===0?"M":"L"} ${c.x} ${c.y}`).join(" "),_0=(a,c)=>Object.keys(c).forEach(f=>a.setAttribute(f,c[f])),kce="http://www.w3.org/2000/svg",BO=(a,c)=>{const f=document.createElementNS(kce,a);return c&&_0(f,c),f},Pce=a=>_0(a,{...a.rect,...a.styles}),Lce=a=>{const c=a.rect.x+a.rect.width*.5,f=a.rect.y+a.rect.height*.5,y=a.rect.width*.5,C=a.rect.height*.5;return _0(a,{cx:c,cy:f,rx:y,ry:C,...a.styles})},$ce={contain:"xMidYMid meet",cover:"xMidYMid slice"},Bce=(a,c)=>{_0(a,{...a.rect,...a.styles,preserveAspectRatio:$ce[c.fit]||"none"})},Fce={left:"start",center:"middle",right:"end"},Hce=(a,c,f,y)=>{const C=Uf(c.fontSize,f,y),w=c.fontFamily||"sans-serif",S=c.fontWeight||"normal",M=Fce[c.textAlign]||"start";_0(a,{...a.rect,...a.styles,"stroke-width":0,"font-weight":S,"font-size":C,"font-family":w,"text-anchor":M}),a.text!==c.text&&(a.text=c.text,a.textContent=c.text.length?c.text:" ")},Vce=(a,c,f,y)=>{_0(a,{...a.rect,...a.styles,fill:"none"});const C=a.childNodes[0],w=a.childNodes[1],S=a.childNodes[2],M=a.rect,P={x:a.rect.x+a.rect.width,y:a.rect.y+a.rect.height};if(_0(C,{x1:M.x,y1:M.y,x2:P.x,y2:P.y}),!c.lineDecoration)return;w.style.display="none",S.style.display="none";const G=xee({x:P.x-M.x,y:P.y-M.y}),j=Uf(.05,f,y);if(c.lineDecoration.indexOf("arrow-begin")!==-1){const J=CH(G,j),me=SH(M,J),ae=Bw(M,2,me),pe=Bw(M,-2,me);_0(w,{style:"display:block;",d:`M${ae.x},${ae.y} L${M.x},${M.y} L${pe.x},${pe.y}`})}if(c.lineDecoration.indexOf("arrow-end")!==-1){const J=CH(G,-j),me=SH(P,J),ae=Bw(P,2,me),pe=Bw(P,-2,me);_0(S,{style:"display:block;",d:`M${ae.x},${ae.y} L${P.x},${P.y} L${pe.x},${pe.y}`})}},zce=(a,c,f,y)=>{_0(a,{...a.styles,fill:"none",d:Nce(c.points.map(C=>({x:Uf(C.x,f,y,"width"),y:Uf(C.y,f,y,"height")})))})},K5=a=>c=>BO(a,{id:c.id}),Uce=a=>{const c=BO("image",{id:a.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return c.onload=()=>{c.setAttribute("opacity",a.opacity||1)},c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a.src),c},Wce=a=>{const c=BO("g",{id:a.id,"stroke-linecap":"round","stroke-linejoin":"round"}),f=BO("line");c.appendChild(f);const y=BO("path");c.appendChild(y);const C=BO("path");return c.appendChild(C),c},Gce={image:Uce,rect:K5("rect"),ellipse:K5("ellipse"),text:K5("text"),path:K5("path"),line:Wce},jce={rect:Pce,ellipse:Lce,image:Bce,text:Hce,path:zce,line:Vce},qce=(a,c)=>Gce[a](c),Zce=(a,c,f,y,C)=>{c!=="path"&&(a.rect=tR(f,y,C)),a.styles=px(f,y,C),jce[c](a,f,y,C)},Aee=(a,c)=>a[1].zIndex>c[1].zIndex?1:a[1].zIndex<c[1].zIndex?-1:0,Yce=(a,c={},f,y)=>new Promise(C=>{const{background:w=null}=y,S=new FileReader;S.onloadend=()=>{const M=S.result,P=document.createElement("div");P.style.cssText="position:absolute;pointer-events:none;width:0;height:0;visibility:hidden;",P.innerHTML=M;const G=P.querySelector("svg");document.body.appendChild(P);const j=G.getBBox();P.parentNode.removeChild(P);const J=P.querySelector("title"),me=G.getAttribute("viewBox")||"",ae=G.getAttribute("width")||"",pe=G.getAttribute("height")||"";let fe=parseFloat(ae)||null,ue=parseFloat(pe)||null;const le=(ae.match(/[a-z]+/)||[])[0]||"",ve=(pe.match(/[a-z]+/)||[])[0]||"",ee=me.split(" ").map(parseFloat),ke=ee.length?{x:ee[0],y:ee[1],width:ee[2],height:ee[3]}:j;let Ke=fe??ke.width,V=ue??ke.height;G.style.overflow="visible",G.setAttribute("width",Ke),G.setAttribute("height",V);let we="";if(f&&f.length){const lo={width:Ke,height:V};we=f.sort(Aee).reduce((Vo,nt)=>{const Lt=qce(nt[0],nt[1]);return Zce(Lt,nt[0],nt[1],lo),Lt.removeAttribute("id"),Lt.getAttribute("opacity")===1&&Lt.removeAttribute("opacity"),Vo+`
`+Lt.outerHTML+`
`},""),we=`

<g>${we.replace(/&nbsp;/g," ")}</g>

`}const Ue=c.aspectRatio||V/Ke,bt=Ke,It=bt*Ue,He=typeof c.scaleToFit>"u"||c.scaleToFit,Te=c.center?c.center.x:.5,bn=c.center?c.center.y:.5,Tt=Tee({width:Ke,height:V},Cee({width:bt,height:It},Ue),c.rotation,He?{x:Te,y:bn}:{x:.5,y:.5}),Mt=c.zoom*Tt,F=c.rotation*(180/Math.PI),Nt={x:bt*.5,y:It*.5},rt={x:Nt.x-Ke*Te,y:Nt.y-V*bn},Kt=[`rotate(${F} ${Nt.x} ${Nt.y})`,`translate(${Nt.x} ${Nt.y})`,`scale(${Mt})`,`translate(${-Nt.x} ${-Nt.y})`,`translate(${rt.x} ${rt.y})`],Gt=c.flip&&c.flip.horizontal,Ze=c.flip&&c.flip.vertical,_o=[`scale(${Gt?-1:1} ${Ze?-1:1})`,`translate(${Gt?-Ke:0} ${Ze?-V:0})`],Ho=`<?xml version="1.0" encoding="UTF-8"?>
<svg width="${bt}${le}" height="${It}${ve}" 
viewBox="0 0 ${bt} ${It}" ${w?'style="background:'+w+'" ':""}
preserveAspectRatio="xMinYMin"
xmlns:xlink="http://www.w3.org/1999/xlink"
xmlns="http://www.w3.org/2000/svg">
<!-- Generated by PQINA - https://pqina.nl/ -->
<title>${J?J.textContent:""}</title>
<g transform="${Kt.join(" ")}">
<g transform="${_o.join(" ")}">
${G.outerHTML}${we}
</g>
</g>
</svg>`;C(Ho)},S.readAsText(a)}),Kce=a=>{let c;try{c=new ImageData(a.width,a.height)}catch{c=document.createElement("canvas").getContext("2d").createImageData(a.width,a.height)}return c.data.set(a.data),c},Xce=()=>{const a={resize:j,filter:G},c=(J,me)=>(J.forEach(ae=>{me=a[ae.type](me,ae.data)}),me),f=(J,me)=>{let ae=J.transforms,pe=null;if(ae.forEach(fe=>{fe.type==="filter"&&(pe=fe)}),pe){let fe=null;ae.forEach(ue=>{ue.type==="resize"&&(fe=ue)}),fe&&(fe.data.matrix=pe.data,ae=ae.filter(ue=>ue.type!=="filter"))}me(c(ae,J.imageData))};self.onmessage=J=>{f(J.data.message,me=>{self.postMessage({id:J.data.id,message:me},[me.data.buffer])})};const y=1,C=1,w=1;function S(J,me,ae){const pe=me[J]/255,fe=me[J+1]/255,ue=me[J+2]/255,le=me[J+3]/255,ve=pe*ae[0]+fe*ae[1]+ue*ae[2]+le*ae[3]+ae[4],ee=pe*ae[5]+fe*ae[6]+ue*ae[7]+le*ae[8]+ae[9],ke=pe*ae[10]+fe*ae[11]+ue*ae[12]+le*ae[13]+ae[14],Ke=pe*ae[15]+fe*ae[16]+ue*ae[17]+le*ae[18]+ae[19],V=Math.max(0,ve*Ke)+y*(1-Ke),we=Math.max(0,ee*Ke)+C*(1-Ke),Ue=Math.max(0,ke*Ke)+w*(1-Ke);me[J]=Math.max(0,Math.min(1,V))*255,me[J+1]=Math.max(0,Math.min(1,we))*255,me[J+2]=Math.max(0,Math.min(1,Ue))*255}const M=self.JSON.stringify([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]);function P(J){return self.JSON.stringify(J||[])===M}function G(J,me){if(!me||P(me))return J;const ae=J.data,pe=ae.length,fe=me[0],ue=me[1],le=me[2],ve=me[3],ee=me[4],ke=me[5],Ke=me[6],V=me[7],we=me[8],Ue=me[9],bt=me[10],It=me[11],He=me[12],Te=me[13],bn=me[14],Tt=me[15],Mt=me[16],F=me[17],Nt=me[18],rt=me[19];let Kt=0,Gt=0,Ze=0,_o=0,Ho=0,lo=0,Vo=0,nt=0,Lt=0,X=0,fs=0,po=0;for(;Kt<pe;Kt+=4)Gt=ae[Kt]/255,Ze=ae[Kt+1]/255,_o=ae[Kt+2]/255,Ho=ae[Kt+3]/255,lo=Gt*fe+Ze*ue+_o*le+Ho*ve+ee,Vo=Gt*ke+Ze*Ke+_o*V+Ho*we+Ue,nt=Gt*bt+Ze*It+_o*He+Ho*Te+bn,Lt=Gt*Tt+Ze*Mt+_o*F+Ho*Nt+rt,X=Math.max(0,lo*Lt)+y*(1-Lt),fs=Math.max(0,Vo*Lt)+C*(1-Lt),po=Math.max(0,nt*Lt)+w*(1-Lt),ae[Kt]=Math.max(0,Math.min(1,X))*255,ae[Kt+1]=Math.max(0,Math.min(1,fs))*255,ae[Kt+2]=Math.max(0,Math.min(1,po))*255;return J}function j(J,me){let{mode:ae="contain",upscale:pe=!1,width:fe,height:ue,matrix:le}=me;if(le=!le||P(le)?null:le,!fe&&!ue)return G(J,le);if(fe===null?fe=ue:ue===null&&(ue=fe),ae!=="force"){let Te=fe/J.width,bn=ue/J.height,Tt=1;if(ae==="cover"?Tt=Math.max(Te,bn):ae==="contain"&&(Tt=Math.min(Te,bn)),Tt>1&&pe===!1)return G(J,le);fe=J.width*Tt,ue=J.height*Tt}const ve=J.width,ee=J.height,ke=Math.round(fe),Ke=Math.round(ue),V=J.data,we=new Uint8ClampedArray(ke*Ke*4),Ue=ve/ke,bt=ee/Ke,It=Math.ceil(Ue*.5),He=Math.ceil(bt*.5);for(let Te=0;Te<Ke;Te++)for(let bn=0;bn<ke;bn++){let Tt=(bn+Te*ke)*4,Mt=0,F=0,Nt=0,rt=0,Kt=0,Gt=0,Ze=0,_o=(Te+.5)*bt;for(let Ho=Math.floor(Te*bt);Ho<(Te+1)*bt;Ho++){let lo=Math.abs(_o-(Ho+.5))/He,Vo=(bn+.5)*Ue,nt=lo*lo;for(let Lt=Math.floor(bn*Ue);Lt<(bn+1)*Ue;Lt++){let X=Math.abs(Vo-(Lt+.5))/It,fs=Math.sqrt(nt+X*X);if(fs>=-1&&fs<=1&&(Mt=2*fs*fs*fs-3*fs*fs+1,Mt>0)){X=4*(Lt+Ho*ve);let po=V[X+3];Ze+=Mt*po,Nt+=Mt,po<255&&(Mt=Mt*po/250),rt+=Mt*V[X],Kt+=Mt*V[X+1],Gt+=Mt*V[X+2],F+=Mt}}}we[Tt]=rt/F,we[Tt+1]=Kt/F,we[Tt+2]=Gt/F,we[Tt+3]=Ze/Nt,le&&S(Tt,we,le)}return{data:we,width:ke,height:Ke}}},Qce=(a,c)=>{if(a.getUint32(c+4,!1)!==1165519206)return;c+=4;const f=a.getUint16(c+=6,!1)===18761;c+=a.getUint32(c+4,f);const y=a.getUint16(c,f);c+=2;for(let C=0;C<y;C++)if(a.getUint16(c+C*12,f)===274)return a.setUint16(c+C*12+8,1,f),!0;return!1},Jce=a=>{const c=new DataView(a);if(c.getUint16(0)!==65496)return null;let f=2,y,C,w=!1;for(;f<c.byteLength&&(y=c.getUint16(f,!1),C=c.getUint16(f+2,!1)+2,!(!(y>=65504&&y<=65519||y===65534)||(w||(w=Qce(c,f)),f+C>c.byteLength)));)f+=C;return a.slice(0,f)},ele=a=>new Promise(c=>{const f=new FileReader;f.onload=()=>c(Jce(f.result)||null),f.readAsArrayBuffer(a.slice(0,256*1024))}),tle=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,nle=(a,c)=>{const f=tle();if(f){const y=new f;return y.append(a),y.getBlob(c)}return new Blob([a],{type:c})},ole=()=>Math.random().toString(36).substr(2,9),sle=a=>{const c=new Blob(["(",a.toString(),")()"],{type:"application/javascript"}),f=URL.createObjectURL(c),y=new Worker(f),C=[];return{transfer:()=>{},post:(w,S,M)=>{const P=ole();C[P]=S,y.onmessage=G=>{const j=C[G.data.id];j&&(j(G.data.message),delete C[G.data.id])},y.postMessage({id:P,message:w},M)},terminate:()=>{y.terminate(),URL.revokeObjectURL(f)}}},rle=a=>new Promise((c,f)=>{const y=new Image;y.onload=()=>{c(y)},y.onerror=C=>{f(C)},y.src=a}),ile=a=>a.reduce((c,f)=>c.then(y=>f().then(Array.prototype.concat.bind(y))),Promise.resolve([])),ale=(a,c)=>new Promise(f=>{const y={width:a.width,height:a.height},C=a.getContext("2d"),w=c.sort(Aee).map(S=>()=>new Promise(M=>{mle[S[0]](C,y,S[1],M)&&M()}));ile(w).then(()=>f(a))}),nR=(a,c)=>{a.beginPath(),a.lineCap=c["stroke-linecap"],a.lineJoin=c["stroke-linejoin"],a.lineWidth=c["stroke-width"],c["stroke-dasharray"].length&&a.setLineDash(c["stroke-dasharray"].split(",")),a.fillStyle=c.fill,a.strokeStyle=c.stroke,a.globalAlpha=c.opacity||1},oR=a=>{a.fill(),a.stroke(),a.globalAlpha=1},cle=(a,c,f)=>{const y=tR(f,c),C=px(f,c);return nR(a,C),a.rect(y.x,y.y,y.width,y.height),oR(a),!0},lle=(a,c,f)=>{const y=tR(f,c),C=px(f,c);nR(a,C);const w=y.x,S=y.y,M=y.width,P=y.height,G=.5522848,j=M/2*G,J=P/2*G,me=w+M,ae=S+P,pe=w+M/2,fe=S+P/2;return a.moveTo(w,fe),a.bezierCurveTo(w,fe-J,pe-j,S,pe,S),a.bezierCurveTo(pe+j,S,me,fe-J,me,fe),a.bezierCurveTo(me,fe+J,pe+j,ae,pe,ae),a.bezierCurveTo(pe-j,ae,w,fe+J,w,fe),oR(a),!0},ule=(a,c,f,y)=>{const C=tR(f,c),w=px(f,c);nR(a,w);const S=new Image;new URL(f.src,window.location.href).origin!==window.location.origin&&(S.crossOrigin=""),S.onload=()=>{if(f.fit==="cover"){const P=C.width/C.height,G=P>1?S.width:S.height*P,j=P>1?S.width/P:S.height,J=S.width*.5-G*.5,me=S.height*.5-j*.5;a.drawImage(S,J,me,G,j,C.x,C.y,C.width,C.height)}else if(f.fit==="contain"){const P=Math.min(C.width/S.width,C.height/S.height),G=P*S.width,j=P*S.height,J=C.x+C.width*.5-G*.5,me=C.y+C.height*.5-j*.5;a.drawImage(S,0,0,S.width,S.height,J,me,G,j)}else a.drawImage(S,0,0,S.width,S.height,C.x,C.y,C.width,C.height);oR(a),y()},S.src=f.src},dle=(a,c,f)=>{const y=tR(f,c),C=px(f,c);nR(a,C);const w=Uf(f.fontSize,c),S=f.fontFamily||"sans-serif",M=f.fontWeight||"normal",P=f.textAlign||"left";return a.font=`${M} ${w}px ${S}`,a.textAlign=P,a.fillText(f.text,y.x,y.y),oR(a),!0},fle=(a,c,f)=>{const y=px(f,c);nR(a,y),a.beginPath();const C=f.points.map(S=>({x:Uf(S.x,c,1,"width"),y:Uf(S.y,c,1,"height")}));a.moveTo(C[0].x,C[0].y);const w=C.length;for(let S=1;S<w;S++)a.lineTo(C[S].x,C[S].y);return oR(a),!0},hle=(a,c,f)=>{const y=tR(f,c),C=px(f,c);nR(a,C),a.beginPath();const w={x:y.x,y:y.y},S={x:y.x+y.width,y:y.y+y.height};a.moveTo(w.x,w.y),a.lineTo(S.x,S.y);const M=xee({x:S.x-w.x,y:S.y-w.y}),P=.04*Math.min(c.width,c.height);if(f.lineDecoration.indexOf("arrow-begin")!==-1){const G=CH(M,P),j=SH(w,G),J=Bw(w,2,j),me=Bw(w,-2,j);a.moveTo(J.x,J.y),a.lineTo(w.x,w.y),a.lineTo(me.x,me.y)}if(f.lineDecoration.indexOf("arrow-end")!==-1){const G=CH(M,-P),j=SH(S,G),J=Bw(S,2,j),me=Bw(S,-2,j);a.moveTo(J.x,J.y),a.lineTo(S.x,S.y),a.lineTo(me.x,me.y)}return oR(a),!0},mle={rect:cle,ellipse:lle,image:ule,text:dle,line:hle,path:fle},ple=a=>{const c=document.createElement("canvas");return c.width=a.width,c.height=a.height,c.getContext("2d").putImageData(a,0,0),c},gle=(a,c,f={})=>new Promise((y,C)=>{if(!a||!Tce(a))return C({status:"not an image file",file:a});const{stripImageHead:w,beforeCreateBlob:S,afterCreateBlob:M,canvasMemoryLimit:P}=f,{crop:G,size:j,filter:J,markup:me,output:ae}=c,pe=c.image&&c.image.orientation?Math.max(1,Math.min(8,c.image.orientation)):null,fe=ae&&ae.quality,ue=fe===null?null:fe/100,le=ae&&ae.type||null,ve=ae&&ae.background||null,ee=[];j&&(typeof j.width=="number"||typeof j.height=="number")&&ee.push({type:"resize",data:j}),J&&J.length===20&&ee.push({type:"filter",data:J});const ke=we=>{const Ue=M?M(we):we;Promise.resolve(Ue).then(y)},Ke=(we,Ue)=>{const bt=ple(we),It=me.length?ale(bt,me):bt;Promise.resolve(It).then(He=>{Mce(He,Ue,S).then(Te=>{if(See(He),w)return ke(Te);ele(a).then(bn=>{bn!==null&&(Te=new Blob([bn,Te.slice(20)],{type:Te.type})),ke(Te)})}).catch(C)})};if(/svg/.test(a.type)&&le===null)return Yce(a,G,me,{background:ve}).then(we=>{y(nle(we,"image/svg+xml"))});const V=URL.createObjectURL(a);rle(V).then(we=>{URL.revokeObjectURL(V);const Ue=Ice(we,pe,G,{canvasMemoryLimit:P,background:ve}),bt={quality:ue,type:le||a.type};if(!ee.length)return Ke(Ue,bt);const It=sle(Xce);It.post({transforms:ee,imageData:Ue},He=>{Ke(Kce(He),bt),It.terminate()},[Ue.data.buffer])}).catch(C)}),vle=["x","y","left","top","right","bottom","width","height"],ble=a=>typeof a=="string"&&/%/.test(a)?parseFloat(a)/100:a,yle=a=>{const[c,f]=a,y=f.points?{}:vle.reduce((C,w)=>(C[w]=ble(f[w]),C),{});return[c,{zIndex:0,...f,...y}]},_le=a=>new Promise((c,f)=>{const y=new Image;y.src=URL.createObjectURL(a);const C=()=>{const S=y.naturalWidth,M=y.naturalHeight;S&&M&&(URL.revokeObjectURL(y.src),clearInterval(w),c({width:S,height:M}))};y.onerror=S=>{URL.revokeObjectURL(y.src),clearInterval(w),f(S)};const w=setInterval(C,1);C()});typeof window<"u"&&typeof window.document<"u"&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(a,c,f){const y=this;setTimeout(()=>{const C=y.toDataURL(c,f).split(",")[1],w=atob(C);let S=w.length;const M=new Uint8Array(S);for(;S--;)M[S]=w.charCodeAt(S);a(new Blob([M],{type:c||"image/png"}))})}}));const mY=typeof window<"u"&&typeof window.document<"u",Ele=mY&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,wle=({addFilter:a,utils:c})=>{const{Type:f,forin:y,getFileFromBlob:C,isFile:w}=c,S=["crop","resize","filter","markup","output"],M=j=>(J,me,ae)=>J(me,j?j(ae):ae),P=j=>j.aspectRatio===null&&j.rotation===0&&j.zoom===1&&j.center&&j.center.x===.5&&j.center.y===.5&&j.flip&&j.flip.horizontal===!1&&j.flip.vertical===!1;a("SHOULD_PREPARE_OUTPUT",(j,{query:J})=>new Promise(me=>{me(!J("IS_ASYNC"))}));const G=(j,J,me)=>new Promise(ae=>{if(!j("GET_ALLOW_IMAGE_TRANSFORM")||me.archived||!w(J)||!bce(J))return ae(!1);_le(J).then(()=>{const pe=j("GET_IMAGE_TRANSFORM_IMAGE_FILTER");if(pe){const fe=pe(J);if(fe==null)return handleRevert(!0);if(typeof fe=="boolean")return ae(fe);if(typeof fe.then=="function")return fe.then(ae)}ae(!0)}).catch(pe=>{ae(!1)})});return a("DID_CREATE_ITEM",(j,{query:J,dispatch:me})=>{J("GET_ALLOW_IMAGE_TRANSFORM")&&j.extend("requestPrepare",()=>new Promise((ae,pe)=>{me("REQUEST_PREPARE_OUTPUT",{query:j.id,item:j,success:ae,failure:pe},!0)}))}),a("PREPARE_OUTPUT",(j,{query:J,item:me})=>new Promise(ae=>{G(J,j,me).then(pe=>{if(!pe)return ae(j);const fe=[];J("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_ORIGINAL")&&fe.push(()=>new Promise(Ue=>{Ue({name:J("GET_IMAGE_TRANSFORM_VARIANTS_ORIGINAL_NAME"),file:j})})),J("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_DEFAULT")&&fe.push((Ue,bt,It)=>new Promise(He=>{Ue(bt,It).then(Te=>He({name:J("GET_IMAGE_TRANSFORM_VARIANTS_DEFAULT_NAME"),file:Te}))}));const ue=J("GET_IMAGE_TRANSFORM_VARIANTS")||{};y(ue,(Ue,bt)=>{const It=M(bt);fe.push((He,Te,bn)=>new Promise(Tt=>{It(He,Te,bn).then(Mt=>Tt({name:Ue,file:Mt}))}))});const le=J("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY"),ve=J("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY_MODE"),ee=le===null?null:le/100,ke=J("GET_IMAGE_TRANSFORM_OUTPUT_MIME_TYPE"),Ke=J("GET_IMAGE_TRANSFORM_CLIENT_TRANSFORMS")||S;me.setMetadata("output",{type:ke,quality:ee,client:Ke},!0);const V=(Ue,bt)=>new Promise((It,He)=>{const Te={...bt};Object.keys(Te).filter(Ze=>Ze!=="exif").forEach(Ze=>{Ke.indexOf(Ze)===-1&&delete Te[Ze]});const{resize:bn,exif:Tt,output:Mt,crop:F,filter:Nt,markup:rt}=Te,Kt={image:{orientation:Tt?Tt.orientation:null},output:Mt&&(Mt.type||typeof Mt.quality=="number"||Mt.background)?{type:Mt.type,quality:typeof Mt.quality=="number"?Mt.quality*100:null,background:Mt.background||J("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR")||null}:void 0,size:bn&&(bn.size.width||bn.size.height)?{mode:bn.mode,upscale:bn.upscale,...bn.size}:void 0,crop:F&&!P(F)?{...F}:void 0,markup:rt&&rt.length?rt.map(yle):[],filter:Nt};if(Kt.output){const Ze=Mt.type?Mt.type!==Ue.type:!1,_o=/\/jpe?g$/.test(Ue.type),Ho=Mt.quality!==null?_o&&ve==="always":!1;if(!!!(Kt.size||Kt.crop||Kt.filter||Ze||Ho))return It(Ue)}const Gt={beforeCreateBlob:J("GET_IMAGE_TRANSFORM_BEFORE_CREATE_BLOB"),afterCreateBlob:J("GET_IMAGE_TRANSFORM_AFTER_CREATE_BLOB"),canvasMemoryLimit:J("GET_IMAGE_TRANSFORM_CANVAS_MEMORY_LIMIT"),stripImageHead:J("GET_IMAGE_TRANSFORM_OUTPUT_STRIP_IMAGE_HEAD")};gle(Ue,Kt,Gt).then(Ze=>{const _o=C(Ze,Ece(Ue.name,wce(Ze.type)));It(_o)}).catch(He)}),we=fe.map(Ue=>Ue(V,j,me.getMetadata()));Promise.all(we).then(Ue=>{ae(Ue.length===1&&Ue[0].name===null?Ue[0].file:Ue)})})})),{options:{allowImageTransform:[!0,f.BOOLEAN],imageTransformImageFilter:[null,f.FUNCTION],imageTransformOutputMimeType:[null,f.STRING],imageTransformOutputQuality:[null,f.INT],imageTransformOutputStripImageHead:[!0,f.BOOLEAN],imageTransformClientTransforms:[null,f.ARRAY],imageTransformOutputQualityMode:["always",f.STRING],imageTransformVariants:[null,f.OBJECT],imageTransformVariantsIncludeDefault:[!0,f.BOOLEAN],imageTransformVariantsDefaultName:[null,f.STRING],imageTransformVariantsIncludeOriginal:[!1,f.BOOLEAN],imageTransformVariantsOriginalName:["original_",f.STRING],imageTransformBeforeCreateBlob:[null,f.FUNCTION],imageTransformAfterCreateBlob:[null,f.FUNCTION],imageTransformCanvasMemoryLimit:[mY&&Ele?4096*4096:null,f.INT],imageTransformCanvasBackgroundColor:[null,f.STRING]}}};mY&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:wle}));/*!
 * FilePondPluginImageEdit 1.6.3
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const sZ=a=>/^image/.test(a.type),Tle=a=>{const{addFilter:c,utils:f,views:y}=a,{Type:C,createRoute:w,createItemAPI:S=j=>j}=f,{fileActionButton:M}=y;c("SHOULD_REMOVE_ON_REVERT",(j,{item:J,query:me})=>new Promise(ae=>{const{file:pe}=J,fe=me("GET_ALLOW_IMAGE_EDIT")&&me("GET_IMAGE_EDIT_ALLOW_EDIT")&&sZ(pe);ae(!fe)})),c("DID_LOAD_ITEM",(j,{query:J,dispatch:me})=>new Promise((ae,pe)=>{if(j.origin>1){ae(j);return}const{file:fe}=j;if(!J("GET_ALLOW_IMAGE_EDIT")||!J("GET_IMAGE_EDIT_INSTANT_EDIT")){ae(j);return}if(!sZ(fe)){ae(j);return}const ue=(ve,ee,ke)=>Ke=>{P.shift(),Ke?ee(ve):ke(ve),me("KICK"),le()},le=()=>{if(!P.length)return;const{item:ve,resolve:ee,reject:ke}=P[0];me("EDIT_ITEM",{id:ve.id,handleEditorResponse:ue(ve,ee,ke)})};G({item:j,resolve:ae,reject:pe}),P.length===1&&le()})),c("DID_CREATE_ITEM",(j,{query:J,dispatch:me})=>{j.extend("edit",()=>{me("EDIT_ITEM",{id:j.id})})});const P=[],G=j=>(P.push(j),j);return c("CREATE_VIEW",j=>{const{is:J,view:me,query:ae}=j;if(!ae("GET_ALLOW_IMAGE_EDIT"))return;const pe=ae("GET_ALLOW_IMAGE_PREVIEW");if(!(J("file-info")&&!pe||J("file")&&pe))return;const ue=ae("GET_IMAGE_EDIT_EDITOR");if(!ue)return;ue.filepondCallbackBridge||(ue.outputData=!0,ue.outputFile=!1,ue.filepondCallbackBridge={onconfirm:ue.onconfirm||(()=>{}),oncancel:ue.oncancel||(()=>{})});const le=({root:ke,props:Ke,action:V})=>{const{id:we}=Ke,{handleEditorResponse:Ue}=V;ue.cropAspectRatio=ke.query("GET_IMAGE_CROP_ASPECT_RATIO")||ue.cropAspectRatio,ue.outputCanvasBackgroundColor=ke.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR")||ue.outputCanvasBackgroundColor;const bt=ke.query("GET_ITEM",we);if(!bt)return;const It=bt.file,He=bt.getMetadata("crop"),Te={center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},bn=bt.getMetadata("resize"),Tt=bt.getMetadata("filter")||null,Mt=bt.getMetadata("filters")||null,F=bt.getMetadata("colors")||null,Nt=bt.getMetadata("markup")||null,rt={crop:He||Te,size:bn?{upscale:bn.upscale,mode:bn.mode,width:bn.size.width,height:bn.size.height}:null,filter:Mt?Mt.id||Mt.matrix:ke.query("GET_ALLOW_IMAGE_FILTER")&&ke.query("GET_IMAGE_FILTER_COLOR_MATRIX")&&!F?Tt:null,color:F,markup:Nt};ue.onconfirm=({data:Kt})=>{const{crop:Gt,size:Ze,filter:_o,color:Ho,colorMatrix:lo,markup:Vo}=Kt,nt={};if(Gt&&(nt.crop=Gt),Ze){const Lt=(bt.getMetadata("resize")||{}).size,X={width:Ze.width,height:Ze.height};!(X.width&&X.height)&&Lt&&(X.width=Lt.width,X.height=Lt.height),(X.width||X.height)&&(nt.resize={upscale:Ze.upscale,mode:Ze.mode,size:X})}Vo&&(nt.markup=Vo),nt.colors=Ho,nt.filters=_o,nt.filter=lo,bt.setMetadata(nt),ue.filepondCallbackBridge.onconfirm(Kt,S(bt)),Ue&&(ue.onclose=()=>{Ue(!0),ue.onclose=null})},ue.oncancel=()=>{ue.filepondCallbackBridge.oncancel(S(bt)),Ue&&(ue.onclose=()=>{Ue(!1),ue.onclose=null})},ue.open(It,rt)},ve=({root:ke,props:Ke})=>{if(!ae("GET_IMAGE_EDIT_ALLOW_EDIT"))return;const{id:V}=Ke,we=ae("GET_ITEM",V);if(!we)return;const Ue=we.file;if(sZ(Ue))if(ke.ref.handleEdit=bt=>{bt.stopPropagation(),ke.dispatch("EDIT_ITEM",{id:V})},pe){const bt=me.createChildView(M,{label:"edit",icon:ae("GET_IMAGE_EDIT_ICON_EDIT"),opacity:0});bt.element.classList.add("filepond--action-edit-item"),bt.element.dataset.align=ae("GET_STYLE_IMAGE_EDIT_BUTTON_EDIT_ITEM_POSITION"),bt.on("click",ke.ref.handleEdit),ke.ref.buttonEditItem=me.appendChildView(bt)}else{const bt=me.element.querySelector(".filepond--file-info-main"),It=document.createElement("button");It.className="filepond--action-edit-item-alt",It.innerHTML=ae("GET_IMAGE_EDIT_ICON_EDIT")+"<span>edit</span>",It.addEventListener("click",ke.ref.handleEdit),bt.appendChild(It),ke.ref.editButton=It}};me.registerDestroyer(({root:ke})=>{ke.ref.buttonEditItem&&ke.ref.buttonEditItem.off("click",ke.ref.handleEdit),ke.ref.editButton&&ke.ref.editButton.removeEventListener("click",ke.ref.handleEdit)});const ee={EDIT_ITEM:le,DID_LOAD_ITEM:ve};if(pe){const ke=({root:Ke})=>{Ke.ref.buttonEditItem&&(Ke.ref.buttonEditItem.opacity=1)};ee.DID_IMAGE_PREVIEW_SHOW=ke}me.registerWriter(w(ee))}),{options:{allowImageEdit:[!0,C.BOOLEAN],styleImageEditButtonEditItemPosition:["bottom center",C.STRING],imageEditInstantEdit:[!1,C.BOOLEAN],imageEditAllowEdit:[!0,C.BOOLEAN],imageEditIconEdit:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false"><path d="M8.5 17h1.586l7-7L15.5 8.414l-7 7V17zm-1.707-2.707l8-8a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-8 8A1 1 0 0 1 10.5 19h-3a1 1 0 0 1-1-1v-3a1 1 0 0 1 .293-.707z" fill="currentColor" fill-rule="nonzero"/></svg>',C.STRING],imageEditEditor:[null,C.OBJECT]}}},Cle=typeof window<"u"&&typeof window.document<"u";Cle&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Tle}));/*!
 * FilePondPluginFileEncode 2.1.10
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const Sle=function(){self.onmessage=c=>{a(c.data.message,f=>{self.postMessage({id:c.data.id,message:f})})};const a=(c,f)=>{const{file:y}=c,C=new FileReader;C.onloadend=()=>{f(C.result.replace("data:","").replace(/^.+,/,""))},C.readAsDataURL(y)}},Oee=({addFilter:a,utils:c})=>{const{Type:f,createWorker:y,createRoute:C,isFile:w}=c,S=({name:P,file:G})=>new Promise(j=>{const J=y(Sle);J.post({file:G},me=>{j({name:P,data:me}),J.terminate()})}),M=[];return a("DID_CREATE_ITEM",(P,{query:G})=>{G("GET_ALLOW_FILE_ENCODE")&&(P.extend("getFileEncodeBase64String",()=>M[P.id]&&M[P.id].data),P.extend("getFileEncodeDataURL",()=>`data:${P.fileType};base64,${M[P.id].data}`))}),a("SHOULD_PREPARE_OUTPUT",(P,{query:G})=>new Promise(j=>{j(G("GET_ALLOW_FILE_ENCODE"))})),a("COMPLETE_PREPARE_OUTPUT",(P,{item:G,query:j})=>new Promise(J=>{if(!j("GET_ALLOW_FILE_ENCODE")||!w(P)&&!Array.isArray(P))return J(P);M[G.id]={metadata:G.getMetadata(),data:null},Promise.all((P instanceof Blob?[{name:null,file:P}]:P).map(S)).then(me=>{M[G.id].data=P instanceof Blob?me[0].data:me,J(P)})})),a("CREATE_VIEW",P=>{const{is:G,view:j,query:J}=P;!G("file-wrapper")||!J("GET_ALLOW_FILE_ENCODE")||j.registerWriter(C({DID_PREPARE_OUTPUT:({root:me,action:ae})=>{if(J("IS_ASYNC"))return;const pe=J("GET_ITEM",ae.id);if(!pe)return;const fe=M[pe.id],ue=fe.metadata,le=fe.data,ve=JSON.stringify({id:pe.id,name:pe.file.name,type:pe.file.type,size:pe.file.size,metadata:ue,data:le});me.ref.data?me.ref.data.value=ve:me.dispatch("DID_DEFINE_VALUE",{id:pe.id,value:ve})},DID_REMOVE_ITEM:({action:me})=>{const ae=J("GET_ITEM",me.id);ae&&delete M[ae.id]}}))}),{options:{allowFileEncode:[!0,f.BOOLEAN]}}},xle=typeof window<"u"&&typeof window.document<"u";xle&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Oee}));/*!
 * FilePondPluginFilePoster 2.5.1
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const AQ={type:"spring",stiffness:.5,damping:.45,mass:10},Ale=a=>a.utils.createView({name:"file-poster",tag:"div",ignoreRect:!0,create:({root:c})=>{c.ref.image=document.createElement("img"),c.element.appendChild(c.ref.image)},write:a.utils.createRoute({DID_FILE_POSTER_LOAD:({root:c,props:f})=>{const{id:y}=f,C=c.query("GET_ITEM",{id:f.id});if(!C)return;const w=C.getMetadata("poster");c.ref.image.src=w,c.dispatch("DID_FILE_POSTER_DRAW",{id:y})}}),mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:AQ,scaleY:AQ,opacity:{type:"tween",duration:750}}}}),Ole=(a,c)=>{c.width=a.width,c.height=a.height,c.getContext("2d").drawImage(a,0,0)},Rle=a=>a.utils.createView({name:"file-poster-overlay",tag:"canvas",ignoreRect:!0,create:({root:c,props:f})=>{Ole(f.template,c.element)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}}),Ile=(a,c)=>{let f=new Image;f.onload=()=>{const y=f.naturalWidth,C=f.naturalHeight;f=null,c(y,C)},f.src=a},Dle=a=>-.5*(Math.cos(Math.PI*a)-1),Mle=(a,c,f=1,y=Dle,C=10,w=0)=>{const S=1-w,M=c.join(",");for(let P=0;P<=C;P++){const G=P/C,j=w+S*G;a.addColorStop(j,`rgba(${M}, ${y(G)*f})`)}},Nle=10,kle=10,Ple=a=>{const c=Math.min(Nle/a.width,kle/a.height),f=document.createElement("canvas"),y=f.getContext("2d"),C=f.width=Math.ceil(a.width*c),w=f.height=Math.ceil(a.height*c);y.drawImage(a,0,0,C,w);let S=null;try{S=y.getImageData(0,0,C,w).data}catch{return null}const M=S.length;let P=0,G=0,j=0,J=0;for(;J<M;J+=4)P+=S[J]*S[J],G+=S[J+1]*S[J+1],j+=S[J+2]*S[J+2];return P=rZ(P,M),G=rZ(G,M),j=rZ(j,M),{r:P,g:G,b:j}},rZ=(a,c)=>Math.floor(Math.sqrt(a/(c/4))),VO=(a,c,f,y,C)=>{a.width=c,a.height=f;const w=a.getContext("2d"),S=c*.5,M=w.createRadialGradient(S,f+110,f-100,S,f+110,f+100);Mle(M,y,C,void 0,8,.4),w.save(),w.translate(-c*.5,0),w.scale(2,1),w.fillStyle=M,w.fillRect(0,0,c,f),w.restore()},WH=typeof navigator<"u",zO=500,UO=200,VZ=WH&&document.createElement("canvas"),zZ=WH&&document.createElement("canvas"),UZ=WH&&document.createElement("canvas");let cH=[40,40,40],lH=[196,78,71],uH=[54,151,99];WH&&(VO(VZ,zO,UO,cH,.85),VO(zZ,zO,UO,lH,1),VO(UZ,zO,UO,uH,1));const Lle=(a,c)=>new Promise((f,y)=>{const C=new Image;typeof crossOrigin=="string"&&(C.crossOrigin=c),C.onload=()=>{f(C)},C.onerror=w=>{y(w)},C.src=a}),$le=a=>{const c=Rle(a),f=({root:G,props:j})=>{const{id:J}=j,me=G.query("GET_ITEM",J);if(!me)return;const ae=me.getMetadata("poster"),pe=fe=>{const ue=G.query("GET_FILE_POSTER_CALCULATE_AVERAGE_IMAGE_COLOR")?Ple(fe):null;me.setMetadata("color",ue,!0),G.dispatch("DID_FILE_POSTER_LOAD",{id:J,data:fe})};Ile(ae,(fe,ue)=>{G.dispatch("DID_FILE_POSTER_CALCULATE_SIZE",{id:J,width:fe,height:ue}),Lle(ae,G.query("GET_FILE_POSTER_CROSS_ORIGIN_ATTRIBUTE_VALUE")).then(pe)})},y=({root:G})=>{G.ref.overlayShadow.opacity=1},C=({root:G})=>{const{image:j}=G.ref;j.scaleX=1,j.scaleY=1,j.opacity=1},w=({root:G})=>{G.ref.overlayShadow.opacity=1,G.ref.overlayError.opacity=0,G.ref.overlaySuccess.opacity=0},S=({root:G})=>{G.ref.overlayShadow.opacity=.25,G.ref.overlayError.opacity=1},M=({root:G})=>{G.ref.overlayShadow.opacity=.25,G.ref.overlaySuccess.opacity=1},P=({root:G,props:j})=>{const J=G.query("GET_FILE_POSTER_ITEM_OVERLAY_SHADOW_COLOR"),me=G.query("GET_FILE_POSTER_ITEM_OVERLAY_ERROR_COLOR"),ae=G.query("GET_FILE_POSTER_ITEM_OVERLAY_SUCCESS_COLOR");J&&J!==cH&&(cH=J,VO(VZ,zO,UO,cH,.85)),me&&me!==lH&&(lH=me,VO(zZ,zO,UO,lH,1)),ae&&ae!==uH&&(uH=ae,VO(UZ,zO,UO,uH,1));const pe=Ale(a);G.ref.image=G.appendChildView(G.createChildView(pe,{id:j.id,scaleX:1.25,scaleY:1.25,opacity:0})),G.ref.overlayShadow=G.appendChildView(G.createChildView(c,{template:VZ,opacity:0})),G.ref.overlaySuccess=G.appendChildView(G.createChildView(c,{template:UZ,opacity:0})),G.ref.overlayError=G.appendChildView(G.createChildView(c,{template:zZ,opacity:0}))};return a.utils.createView({name:"file-poster-wrapper",create:P,write:a.utils.createRoute({DID_FILE_POSTER_LOAD:y,DID_FILE_POSTER_DRAW:C,DID_FILE_POSTER_CONTAINER_CREATE:f,DID_THROW_ITEM_LOAD_ERROR:S,DID_THROW_ITEM_PROCESSING_ERROR:S,DID_THROW_ITEM_INVALID:S,DID_COMPLETE_ITEM_PROCESSING:M,DID_START_ITEM_PROCESSING:w,DID_REVERT_ITEM_PROCESSING:w})})},Ree=a=>{const{addFilter:c,utils:f}=a,{Type:y,createRoute:C}=f,w=$le(a);return c("CREATE_VIEW",S=>{const{is:M,view:P,query:G}=S;if(!M("file")||!G("GET_ALLOW_FILE_POSTER"))return;const j=({root:fe,props:ue})=>{me(fe,ue)},J=({root:fe,props:ue,action:le})=>{/poster/.test(le.change.key)&&me(fe,ue)},me=(fe,ue)=>{const{id:le}=ue,ve=G("GET_ITEM",le);!ve||!ve.getMetadata("poster")||ve.archived||fe.ref.previousPoster!==ve.getMetadata("poster")&&(fe.ref.previousPoster=ve.getMetadata("poster"),G("GET_FILE_POSTER_FILTER_ITEM")(ve)&&(fe.ref.filePoster&&P.removeChildView(fe.ref.filePoster),fe.ref.filePoster=P.appendChildView(P.createChildView(w,{id:le})),fe.dispatch("DID_FILE_POSTER_CONTAINER_CREATE",{id:le})))},ae=({root:fe,action:ue})=>{fe.ref.filePoster&&(fe.ref.imageWidth=ue.width,fe.ref.imageHeight=ue.height,fe.ref.shouldUpdatePanelHeight=!0,fe.dispatch("KICK"))},pe=({root:fe})=>{let ue=fe.query("GET_FILE_POSTER_HEIGHT");if(ue)return ue;const le=fe.query("GET_FILE_POSTER_MIN_HEIGHT"),ve=fe.query("GET_FILE_POSTER_MAX_HEIGHT");if(le&&fe.ref.imageHeight<le)return le;let ee=fe.rect.element.width*(fe.ref.imageHeight/fe.ref.imageWidth);return le&&ee<le?le:ve&&ee>ve?ve:ee};P.registerWriter(C({DID_LOAD_ITEM:j,DID_FILE_POSTER_CALCULATE_SIZE:ae,DID_UPDATE_ITEM_METADATA:J},({root:fe,props:ue})=>{fe.ref.filePoster&&(fe.rect.element.hidden||fe.ref.shouldUpdatePanelHeight&&(fe.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:ue.id,height:pe({root:fe})}),fe.ref.shouldUpdatePanelHeight=!1))}))}),{options:{allowFilePoster:[!0,y.BOOLEAN],filePosterHeight:[null,y.INT],filePosterMinHeight:[null,y.INT],filePosterMaxHeight:[null,y.INT],filePosterFilterItem:[()=>!0,y.FUNCTION],filePosterCalculateAverageImageColor:[!1,y.BOOLEAN],filePosterCrossOriginAttributeValue:["Anonymous",y.STRING],filePosterItemOverlayShadowColor:[null,y.ARRAY],filePosterItemOverlayErrorColor:[null,y.ARRAY],filePosterItemOverlaySuccessColor:[null,y.ARRAY]}}},Ble=typeof window<"u"&&typeof window.document<"u";Ble&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Ree}));var OQ={},Fle={get exports(){return OQ},set exports(a){OQ=a}},xH={},Hle={get exports(){return xH},set exports(a){xH=a}},AH={},Vle={get exports(){return AH},set exports(a){AH=a}},RQ;function Iee(){return RQ||(RQ=1,function(a){(function(c,f){a.exports?a.exports=f():c.EvEmitter=f()})(typeof window<"u"?window:$w,function(){function c(){}var f=c.prototype;return f.on=function(y,C){if(!(!y||!C)){var w=this._events=this._events||{},S=w[y]=w[y]||[];return S.indexOf(C)==-1&&S.push(C),this}},f.once=function(y,C){if(!(!y||!C)){this.on(y,C);var w=this._onceEvents=this._onceEvents||{},S=w[y]=w[y]||{};return S[C]=!0,this}},f.off=function(y,C){var w=this._events&&this._events[y];if(!(!w||!w.length)){var S=w.indexOf(C);return S!=-1&&w.splice(S,1),this}},f.emitEvent=function(y,C){var w=this._events&&this._events[y];if(!(!w||!w.length)){w=w.slice(0),C=C||[];for(var S=this._onceEvents&&this._onceEvents[y],M=0;M<w.length;M++){var P=w[M],G=S&&S[P];G&&(this.off(y,P),delete S[P]),P.apply(this,C)}return this}},f.allOff=function(){delete this._events,delete this._onceEvents},c})}(Vle)),AH}var OH={},zle={get exports(){return OH},set exports(a){OH=a}};/*!
 * getSize v2.0.3
 * measure size of elements
 * MIT license
 */var IQ;function pY(){return IQ||(IQ=1,function(a){(function(c,f){a.exports?a.exports=f():c.getSize=f()})(window,function(){function f(ae){var pe=parseFloat(ae),fe=ae.indexOf("%")==-1&&!isNaN(pe);return fe&&pe}function y(){}var C=typeof console>"u"?y:function(ae){console.error(ae)},w=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],S=w.length;function M(){for(var ae={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},pe=0;pe<S;pe++){var fe=w[pe];ae[fe]=0}return ae}function P(ae){var pe=getComputedStyle(ae);return pe||C("Style returned "+pe+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),pe}var G=!1,j;function J(){if(!G){G=!0;var ae=document.createElement("div");ae.style.width="200px",ae.style.padding="1px 2px 3px 4px",ae.style.borderStyle="solid",ae.style.borderWidth="1px 2px 3px 4px",ae.style.boxSizing="border-box";var pe=document.body||document.documentElement;pe.appendChild(ae);var fe=P(ae);j=Math.round(f(fe.width))==200,me.isBoxSizeOuter=j,pe.removeChild(ae)}}function me(ae){if(J(),typeof ae=="string"&&(ae=document.querySelector(ae)),!(!ae||typeof ae!="object"||!ae.nodeType)){var pe=P(ae);if(pe.display=="none")return M();var fe={};fe.width=ae.offsetWidth,fe.height=ae.offsetHeight;for(var ue=fe.isBorderBox=pe.boxSizing=="border-box",le=0;le<S;le++){var ve=w[le],ee=pe[ve],ke=parseFloat(ee);fe[ve]=isNaN(ke)?0:ke}var Ke=fe.paddingLeft+fe.paddingRight,V=fe.paddingTop+fe.paddingBottom,we=fe.marginLeft+fe.marginRight,Ue=fe.marginTop+fe.marginBottom,bt=fe.borderLeftWidth+fe.borderRightWidth,It=fe.borderTopWidth+fe.borderBottomWidth,He=ue&&j,Te=f(pe.width);Te!==!1&&(fe.width=Te+(He?0:Ke+bt));var bn=f(pe.height);return bn!==!1&&(fe.height=bn+(He?0:V+It)),fe.innerWidth=fe.width-(Ke+bt),fe.innerHeight=fe.height-(V+It),fe.outerWidth=fe.width+we,fe.outerHeight=fe.height+Ue,fe}}return me})}(zle)),OH}var RH={},Ule={get exports(){return RH},set exports(a){RH=a}},IH={},Wle={get exports(){return IH},set exports(a){IH=a}},DQ;function Gle(){return DQ||(DQ=1,function(a){(function(c,f){a.exports?a.exports=f():c.matchesSelector=f()})(window,function(){var f=function(){var y=window.Element.prototype;if(y.matches)return"matches";if(y.matchesSelector)return"matchesSelector";for(var C=["webkit","moz","ms","o"],w=0;w<C.length;w++){var S=C[w],M=S+"MatchesSelector";if(y[M])return M}}();return function(C,w){return C[f](w)}})}(Wle)),IH}var MQ;function jle(){return MQ||(MQ=1,function(a){(function(c,f){a.exports?a.exports=f(c,Gle()):c.fizzyUIUtils=f(c,c.matchesSelector)})(window,function(f,y){var C={};C.extend=function(M,P){for(var G in P)M[G]=P[G];return M},C.modulo=function(M,P){return(M%P+P)%P};var w=Array.prototype.slice;C.makeArray=function(M){if(Array.isArray(M))return M;if(M==null)return[];var P=typeof M=="object"&&typeof M.length=="number";return P?w.call(M):[M]},C.removeFrom=function(M,P){var G=M.indexOf(P);G!=-1&&M.splice(G,1)},C.getParent=function(M,P){for(;M.parentNode&&M!=document.body;)if(M=M.parentNode,y(M,P))return M},C.getQueryElement=function(M){return typeof M=="string"?document.querySelector(M):M},C.handleEvent=function(M){var P="on"+M.type;this[P]&&this[P](M)},C.filterFindElements=function(M,P){M=C.makeArray(M);var G=[];return M.forEach(function(j){if(j instanceof HTMLElement){if(!P){G.push(j);return}y(j,P)&&G.push(j);for(var J=j.querySelectorAll(P),me=0;me<J.length;me++)G.push(J[me])}}),G},C.debounceMethod=function(M,P,G){G=G||100;var j=M.prototype[P],J=P+"Timeout";M.prototype[P]=function(){var me=this[J];clearTimeout(me);var ae=arguments,pe=this;this[J]=setTimeout(function(){j.apply(pe,ae),delete pe[J]},G)}},C.docReady=function(M){var P=document.readyState;P=="complete"||P=="interactive"?setTimeout(M):document.addEventListener("DOMContentLoaded",M)},C.toDashed=function(M){return M.replace(/(.)([A-Z])/g,function(P,G,j){return G+"-"+j}).toLowerCase()};var S=f.console;return C.htmlInit=function(M,P){C.docReady(function(){var G=C.toDashed(P),j="data-"+G,J=document.querySelectorAll("["+j+"]"),me=document.querySelectorAll(".js-"+G),ae=C.makeArray(J).concat(C.makeArray(me)),pe=j+"-options",fe=f.jQuery;ae.forEach(function(ue){var le=ue.getAttribute(j)||ue.getAttribute(pe),ve;try{ve=le&&JSON.parse(le)}catch(ke){S&&S.error("Error parsing "+j+" on "+ue.className+": "+ke);return}var ee=new M(ue,ve);fe&&fe.data(ue,P,ee)})})},C})}(Ule)),RH}var DH={},qle={get exports(){return DH},set exports(a){DH=a}},NQ;function Zle(){return NQ||(NQ=1,function(a){(function(c,f){a.exports?a.exports=f(Iee(),pY()):(c.Outlayer={},c.Outlayer.Item=f(c.EvEmitter,c.getSize))})(window,function(f,y){function C(ue){for(var le in ue)return!1;return le=null,!0}var w=document.documentElement.style,S=typeof w.transition=="string"?"transition":"WebkitTransition",M=typeof w.transform=="string"?"transform":"WebkitTransform",P={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[S],G={transform:M,transition:S,transitionDuration:S+"Duration",transitionProperty:S+"Property",transitionDelay:S+"Delay"};function j(ue,le){ue&&(this.element=ue,this.layout=le,this.position={x:0,y:0},this._create())}var J=j.prototype=Object.create(f.prototype);J.constructor=j,J._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},J.handleEvent=function(ue){var le="on"+ue.type;this[le]&&this[le](ue)},J.getSize=function(){this.size=y(this.element)},J.css=function(ue){var le=this.element.style;for(var ve in ue){var ee=G[ve]||ve;le[ee]=ue[ve]}},J.getPosition=function(){var ue=getComputedStyle(this.element),le=this.layout._getOption("originLeft"),ve=this.layout._getOption("originTop"),ee=ue[le?"left":"right"],ke=ue[ve?"top":"bottom"],Ke=parseFloat(ee),V=parseFloat(ke),we=this.layout.size;ee.indexOf("%")!=-1&&(Ke=Ke/100*we.width),ke.indexOf("%")!=-1&&(V=V/100*we.height),Ke=isNaN(Ke)?0:Ke,V=isNaN(V)?0:V,Ke-=le?we.paddingLeft:we.paddingRight,V-=ve?we.paddingTop:we.paddingBottom,this.position.x=Ke,this.position.y=V},J.layoutPosition=function(){var ue=this.layout.size,le={},ve=this.layout._getOption("originLeft"),ee=this.layout._getOption("originTop"),ke=ve?"paddingLeft":"paddingRight",Ke=ve?"left":"right",V=ve?"right":"left",we=this.position.x+ue[ke];le[Ke]=this.getXValue(we),le[V]="";var Ue=ee?"paddingTop":"paddingBottom",bt=ee?"top":"bottom",It=ee?"bottom":"top",He=this.position.y+ue[Ue];le[bt]=this.getYValue(He),le[It]="",this.css(le),this.emitEvent("layout",[this])},J.getXValue=function(ue){var le=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!le?ue/this.layout.size.width*100+"%":ue+"px"},J.getYValue=function(ue){var le=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&le?ue/this.layout.size.height*100+"%":ue+"px"},J._transitionTo=function(ue,le){this.getPosition();var ve=this.position.x,ee=this.position.y,ke=ue==this.position.x&&le==this.position.y;if(this.setPosition(ue,le),ke&&!this.isTransitioning){this.layoutPosition();return}var Ke=ue-ve,V=le-ee,we={};we.transform=this.getTranslate(Ke,V),this.transition({to:we,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},J.getTranslate=function(ue,le){var ve=this.layout._getOption("originLeft"),ee=this.layout._getOption("originTop");return ue=ve?ue:-ue,le=ee?le:-le,"translate3d("+ue+"px, "+le+"px, 0)"},J.goTo=function(ue,le){this.setPosition(ue,le),this.layoutPosition()},J.moveTo=J._transitionTo,J.setPosition=function(ue,le){this.position.x=parseFloat(ue),this.position.y=parseFloat(le)},J._nonTransition=function(ue){this.css(ue.to),ue.isCleaning&&this._removeStyles(ue.to);for(var le in ue.onTransitionEnd)ue.onTransitionEnd[le].call(this)},J.transition=function(ue){if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(ue);return}var le=this._transn;for(var ve in ue.onTransitionEnd)le.onEnd[ve]=ue.onTransitionEnd[ve];for(ve in ue.to)le.ingProperties[ve]=!0,ue.isCleaning&&(le.clean[ve]=!0);ue.from&&(this.css(ue.from),this.element.offsetHeight),this.enableTransition(ue.to),this.css(ue.to),this.isTransitioning=!0};function me(ue){return ue.replace(/([A-Z])/g,function(le){return"-"+le.toLowerCase()})}var ae="opacity,"+me(M);J.enableTransition=function(){if(!this.isTransitioning){var ue=this.layout.options.transitionDuration;ue=typeof ue=="number"?ue+"ms":ue,this.css({transitionProperty:ae,transitionDuration:ue,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(P,this,!1)}},J.onwebkitTransitionEnd=function(ue){this.ontransitionend(ue)},J.onotransitionend=function(ue){this.ontransitionend(ue)};var pe={"-webkit-transform":"transform"};J.ontransitionend=function(ue){if(ue.target===this.element){var le=this._transn,ve=pe[ue.propertyName]||ue.propertyName;if(delete le.ingProperties[ve],C(le.ingProperties)&&this.disableTransition(),ve in le.clean&&(this.element.style[ue.propertyName]="",delete le.clean[ve]),ve in le.onEnd){var ee=le.onEnd[ve];ee.call(this),delete le.onEnd[ve]}this.emitEvent("transitionEnd",[this])}},J.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(P,this,!1),this.isTransitioning=!1},J._removeStyles=function(ue){var le={};for(var ve in ue)le[ve]="";this.css(le)};var fe={transitionProperty:"",transitionDuration:"",transitionDelay:""};return J.removeTransitionStyles=function(){this.css(fe)},J.stagger=function(ue){ue=isNaN(ue)?0:ue,this.staggerDelay=ue+"ms"},J.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},J.remove=function(){if(!S||!parseFloat(this.layout.options.transitionDuration)){this.removeElem();return}this.once("transitionEnd",function(){this.removeElem()}),this.hide()},J.reveal=function(){delete this.isHidden,this.css({display:""});var ue=this.layout.options,le={},ve=this.getHideRevealTransitionEndProperty("visibleStyle");le[ve]=this.onRevealTransitionEnd,this.transition({from:ue.hiddenStyle,to:ue.visibleStyle,isCleaning:!0,onTransitionEnd:le})},J.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},J.getHideRevealTransitionEndProperty=function(ue){var le=this.layout.options[ue];if(le.opacity)return"opacity";for(var ve in le)return ve},J.hide=function(){this.isHidden=!0,this.css({display:""});var ue=this.layout.options,le={},ve=this.getHideRevealTransitionEndProperty("hiddenStyle");le[ve]=this.onHideTransitionEnd,this.transition({from:ue.visibleStyle,to:ue.hiddenStyle,isCleaning:!0,onTransitionEnd:le})},J.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},J.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},j})}(qle)),DH}/*!
 * Outlayer v2.1.1
 * the brains and guts of a layout library
 * MIT license
 */var kQ;function Yle(){return kQ||(kQ=1,function(a){(function(c,f){a.exports?a.exports=f(c,Iee(),pY(),jle(),Zle()):c.Outlayer=f(c,c.EvEmitter,c.getSize,c.fizzyUIUtils,c.Outlayer.Item)})(window,function(f,y,C,w,S){var M=f.console,P=f.jQuery,G=function(){},j=0,J={};function me(le,ve){var ee=w.getQueryElement(le);if(!ee){M&&M.error("Bad element for "+this.constructor.namespace+": "+(ee||le));return}this.element=ee,P&&(this.$element=P(this.element)),this.options=w.extend({},this.constructor.defaults),this.option(ve);var ke=++j;this.element.outlayerGUID=ke,J[ke]=this,this._create();var Ke=this._getOption("initLayout");Ke&&this.layout()}me.namespace="outlayer",me.Item=S,me.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var ae=me.prototype;w.extend(ae,y.prototype),ae.option=function(le){w.extend(this.options,le)},ae._getOption=function(le){var ve=this.constructor.compatOptions[le];return ve&&this.options[ve]!==void 0?this.options[ve]:this.options[le]},me.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},ae._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),w.extend(this.element.style,this.options.containerStyle);var le=this._getOption("resize");le&&this.bindResize()},ae.reloadItems=function(){this.items=this._itemize(this.element.children)},ae._itemize=function(le){for(var ve=this._filterFindItemElements(le),ee=this.constructor.Item,ke=[],Ke=0;Ke<ve.length;Ke++){var V=ve[Ke],we=new ee(V,this);ke.push(we)}return ke},ae._filterFindItemElements=function(le){return w.filterFindElements(le,this.options.itemSelector)},ae.getItemElements=function(){return this.items.map(function(le){return le.element})},ae.layout=function(){this._resetLayout(),this._manageStamps();var le=this._getOption("layoutInstant"),ve=le!==void 0?le:!this._isLayoutInited;this.layoutItems(this.items,ve),this._isLayoutInited=!0},ae._init=ae.layout,ae._resetLayout=function(){this.getSize()},ae.getSize=function(){this.size=C(this.element)},ae._getMeasurement=function(le,ve){var ee=this.options[le],ke;ee?(typeof ee=="string"?ke=this.element.querySelector(ee):ee instanceof HTMLElement&&(ke=ee),this[le]=ke?C(ke)[ve]:ee):this[le]=0},ae.layoutItems=function(le,ve){le=this._getItemsForLayout(le),this._layoutItems(le,ve),this._postLayout()},ae._getItemsForLayout=function(le){return le.filter(function(ve){return!ve.isIgnored})},ae._layoutItems=function(le,ve){if(this._emitCompleteOnItems("layout",le),!(!le||!le.length)){var ee=[];le.forEach(function(ke){var Ke=this._getItemLayoutPosition(ke);Ke.item=ke,Ke.isInstant=ve||ke.isLayoutInstant,ee.push(Ke)},this),this._processLayoutQueue(ee)}},ae._getItemLayoutPosition=function(){return{x:0,y:0}},ae._processLayoutQueue=function(le){this.updateStagger(),le.forEach(function(ve,ee){this._positionItem(ve.item,ve.x,ve.y,ve.isInstant,ee)},this)},ae.updateStagger=function(){var le=this.options.stagger;if(le==null){this.stagger=0;return}return this.stagger=ue(le),this.stagger},ae._positionItem=function(le,ve,ee,ke,Ke){ke?le.goTo(ve,ee):(le.stagger(Ke*this.stagger),le.moveTo(ve,ee))},ae._postLayout=function(){this.resizeContainer()},ae.resizeContainer=function(){var le=this._getOption("resizeContainer");if(le){var ve=this._getContainerSize();ve&&(this._setContainerMeasure(ve.width,!0),this._setContainerMeasure(ve.height,!1))}},ae._getContainerSize=G,ae._setContainerMeasure=function(le,ve){if(le!==void 0){var ee=this.size;ee.isBorderBox&&(le+=ve?ee.paddingLeft+ee.paddingRight+ee.borderLeftWidth+ee.borderRightWidth:ee.paddingBottom+ee.paddingTop+ee.borderTopWidth+ee.borderBottomWidth),le=Math.max(le,0),this.element.style[ve?"width":"height"]=le+"px"}},ae._emitCompleteOnItems=function(le,ve){var ee=this;function ke(){ee.dispatchEvent(le+"Complete",null,[ve])}var Ke=ve.length;if(!ve||!Ke){ke();return}var V=0;function we(){V++,V==Ke&&ke()}ve.forEach(function(Ue){Ue.once(le,we)})},ae.dispatchEvent=function(le,ve,ee){var ke=ve?[ve].concat(ee):ee;if(this.emitEvent(le,ke),P)if(this.$element=this.$element||P(this.element),ve){var Ke=P.Event(ve);Ke.type=le,this.$element.trigger(Ke,ee)}else this.$element.trigger(le,ee)},ae.ignore=function(le){var ve=this.getItem(le);ve&&(ve.isIgnored=!0)},ae.unignore=function(le){var ve=this.getItem(le);ve&&delete ve.isIgnored},ae.stamp=function(le){le=this._find(le),le&&(this.stamps=this.stamps.concat(le),le.forEach(this.ignore,this))},ae.unstamp=function(le){le=this._find(le),le&&le.forEach(function(ve){w.removeFrom(this.stamps,ve),this.unignore(ve)},this)},ae._find=function(le){if(le)return typeof le=="string"&&(le=this.element.querySelectorAll(le)),le=w.makeArray(le),le},ae._manageStamps=function(){!this.stamps||!this.stamps.length||(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},ae._getBoundingRect=function(){var le=this.element.getBoundingClientRect(),ve=this.size;this._boundingRect={left:le.left+ve.paddingLeft+ve.borderLeftWidth,top:le.top+ve.paddingTop+ve.borderTopWidth,right:le.right-(ve.paddingRight+ve.borderRightWidth),bottom:le.bottom-(ve.paddingBottom+ve.borderBottomWidth)}},ae._manageStamp=G,ae._getElementOffset=function(le){var ve=le.getBoundingClientRect(),ee=this._boundingRect,ke=C(le),Ke={left:ve.left-ee.left-ke.marginLeft,top:ve.top-ee.top-ke.marginTop,right:ee.right-ve.right-ke.marginRight,bottom:ee.bottom-ve.bottom-ke.marginBottom};return Ke},ae.handleEvent=w.handleEvent,ae.bindResize=function(){f.addEventListener("resize",this),this.isResizeBound=!0},ae.unbindResize=function(){f.removeEventListener("resize",this),this.isResizeBound=!1},ae.onresize=function(){this.resize()},w.debounceMethod(me,"onresize",100),ae.resize=function(){!this.isResizeBound||!this.needsResizeLayout()||this.layout()},ae.needsResizeLayout=function(){var le=C(this.element),ve=this.size&&le;return ve&&le.innerWidth!==this.size.innerWidth},ae.addItems=function(le){var ve=this._itemize(le);return ve.length&&(this.items=this.items.concat(ve)),ve},ae.appended=function(le){var ve=this.addItems(le);ve.length&&(this.layoutItems(ve,!0),this.reveal(ve))},ae.prepended=function(le){var ve=this._itemize(le);if(ve.length){var ee=this.items.slice(0);this.items=ve.concat(ee),this._resetLayout(),this._manageStamps(),this.layoutItems(ve,!0),this.reveal(ve),this.layoutItems(ee)}},ae.reveal=function(le){if(this._emitCompleteOnItems("reveal",le),!(!le||!le.length)){var ve=this.updateStagger();le.forEach(function(ee,ke){ee.stagger(ke*ve),ee.reveal()})}},ae.hide=function(le){if(this._emitCompleteOnItems("hide",le),!(!le||!le.length)){var ve=this.updateStagger();le.forEach(function(ee,ke){ee.stagger(ke*ve),ee.hide()})}},ae.revealItemElements=function(le){var ve=this.getItems(le);this.reveal(ve)},ae.hideItemElements=function(le){var ve=this.getItems(le);this.hide(ve)},ae.getItem=function(le){for(var ve=0;ve<this.items.length;ve++){var ee=this.items[ve];if(ee.element==le)return ee}},ae.getItems=function(le){le=w.makeArray(le);var ve=[];return le.forEach(function(ee){var ke=this.getItem(ee);ke&&ve.push(ke)},this),ve},ae.remove=function(le){var ve=this.getItems(le);this._emitCompleteOnItems("remove",ve),!(!ve||!ve.length)&&ve.forEach(function(ee){ee.remove(),w.removeFrom(this.items,ee)},this)},ae.destroy=function(){var le=this.element.style;le.height="",le.position="",le.width="",this.items.forEach(function(ee){ee.destroy()}),this.unbindResize();var ve=this.element.outlayerGUID;delete J[ve],delete this.element.outlayerGUID,P&&P.removeData(this.element,this.constructor.namespace)},me.data=function(le){le=w.getQueryElement(le);var ve=le&&le.outlayerGUID;return ve&&J[ve]},me.create=function(le,ve){var ee=pe(me);return ee.defaults=w.extend({},me.defaults),w.extend(ee.defaults,ve),ee.compatOptions=w.extend({},me.compatOptions),ee.namespace=le,ee.data=me.data,ee.Item=pe(S),w.htmlInit(ee,le),P&&P.bridget&&P.bridget(le,ee),ee};function pe(le){function ve(){le.apply(this,arguments)}return ve.prototype=Object.create(le.prototype),ve.prototype.constructor=ve,ve}var fe={ms:1,s:1e3};function ue(le){if(typeof le=="number")return le;var ve=le.match(/(^\d*\.?\d*)(\w*)/),ee=ve&&ve[1],ke=ve&&ve[2];if(!ee.length)return 0;ee=parseFloat(ee);var Ke=fe[ke]||1;return ee*Ke}return me.Item=S,me})}(Hle)),xH}/*!
 * Masonry v4.2.2
 * Cascading grid layout library
 * https://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */(function(a){(function(c,f){a.exports?a.exports=f(Yle(),pY()):c.Masonry=f(c.Outlayer,c.getSize)})(window,function(f,y){var C=f.create("masonry");C.compatOptions.fitWidth="isFitWidth";var w=C.prototype;return w._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var S=0;S<this.cols;S++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},w.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var S=this.items[0],M=S&&S.element;this.columnWidth=M&&y(M).outerWidth||this.containerWidth}var P=this.columnWidth+=this.gutter,G=this.containerWidth+this.gutter,j=G/P,J=P-G%P,me=J&&J<1?"round":"floor";j=Math[me](j),this.cols=Math.max(j,1)},w.getContainerWidth=function(){var S=this._getOption("fitWidth"),M=S?this.element.parentNode:this.element,P=y(M);this.containerWidth=P&&P.innerWidth},w._getItemLayoutPosition=function(S){S.getSize();var M=S.size.outerWidth%this.columnWidth,P=M&&M<1?"round":"ceil",G=Math[P](S.size.outerWidth/this.columnWidth);G=Math.min(G,this.cols);for(var j=this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition",J=this[j](G,S),me={x:this.columnWidth*J.col,y:J.y},ae=J.y+S.size.outerHeight,pe=G+J.col,fe=J.col;fe<pe;fe++)this.colYs[fe]=ae;return me},w._getTopColPosition=function(S){var M=this._getTopColGroup(S),P=Math.min.apply(Math,M);return{col:M.indexOf(P),y:P}},w._getTopColGroup=function(S){if(S<2)return this.colYs;for(var M=[],P=this.cols+1-S,G=0;G<P;G++)M[G]=this._getColGroupY(G,S);return M},w._getColGroupY=function(S,M){if(M<2)return this.colYs[S];var P=this.colYs.slice(S,S+M);return Math.max.apply(Math,P)},w._getHorizontalColPosition=function(S,M){var P=this.horizontalColIndex%this.cols,G=S>1&&P+S>this.cols;P=G?0:P;var j=M.size.outerWidth&&M.size.outerHeight;return this.horizontalColIndex=j?P+S:this.horizontalColIndex,{col:P,y:this._getColGroupY(P,S)}},w._manageStamp=function(S){var M=y(S),P=this._getElementOffset(S),G=this._getOption("originLeft"),j=G?P.left:P.right,J=j+M.outerWidth,me=Math.floor(j/this.columnWidth);me=Math.max(0,me);var ae=Math.floor(J/this.columnWidth);ae-=J%this.columnWidth?0:1,ae=Math.min(this.cols-1,ae);for(var pe=this._getOption("originTop"),fe=(pe?P.top:P.bottom)+M.outerHeight,ue=me;ue<=ae;ue++)this.colYs[ue]=Math.max(fe,this.colYs[ue])},w._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var S={height:this.maxY};return this._getOption("fitWidth")&&(S.width=this._getContainerFitWidth()),S},w._getContainerFitWidth=function(){for(var S=0,M=this.cols;--M&&this.colYs[M]===0;)S++;return(this.cols-S)*this.columnWidth-this.gutter},w.needsResizeLayout=function(){var S=this.containerWidth;return this.getContainerWidth(),S!=this.containerWidth},C})})(Fle);function Dee(a,c){return function(){return a.apply(c,arguments)}}const{toString:Mee}=Object.prototype,{getPrototypeOf:gY}=Object,vY=(a=>c=>{const f=Mee.call(c);return a[f]||(a[f]=f.slice(8,-1).toLowerCase())})(Object.create(null)),x_=a=>(a=a.toLowerCase(),c=>vY(c)===a),GH=a=>c=>typeof c===a,{isArray:sR}=Array,ok=GH("undefined");function Kle(a){return a!==null&&!ok(a)&&a.constructor!==null&&!ok(a.constructor)&&Hw(a.constructor.isBuffer)&&a.constructor.isBuffer(a)}const Nee=x_("ArrayBuffer");function Xle(a){let c;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?c=ArrayBuffer.isView(a):c=a&&a.buffer&&Nee(a.buffer),c}const Qle=GH("string"),Hw=GH("function"),kee=GH("number"),bY=a=>a!==null&&typeof a=="object",Jle=a=>a===!0||a===!1,dH=a=>{if(vY(a)!=="object")return!1;const c=gY(a);return(c===null||c===Object.prototype||Object.getPrototypeOf(c)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},eue=x_("Date"),tue=x_("File"),nue=x_("Blob"),oue=x_("FileList"),sue=a=>bY(a)&&Hw(a.pipe),rue=a=>{const c="[object FormData]";return a&&(typeof FormData=="function"&&a instanceof FormData||Mee.call(a)===c||Hw(a.toString)&&a.toString()===c)},iue=x_("URLSearchParams"),aue=a=>a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ik(a,c,{allOwnKeys:f=!1}={}){if(a===null||typeof a>"u")return;let y,C;if(typeof a!="object"&&(a=[a]),sR(a))for(y=0,C=a.length;y<C;y++)c.call(null,a[y],y,a);else{const w=f?Object.getOwnPropertyNames(a):Object.keys(a),S=w.length;let M;for(y=0;y<S;y++)M=w[y],c.call(null,a[M],M,a)}}function Pee(a,c){c=c.toLowerCase();const f=Object.keys(a);let y=f.length,C;for(;y-- >0;)if(C=f[y],c===C.toLowerCase())return C;return null}const Lee=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),$ee=a=>!ok(a)&&a!==Lee;function WZ(){const{caseless:a}=$ee(this)&&this||{},c={},f=(y,C)=>{const w=a&&Pee(c,C)||C;dH(c[w])&&dH(y)?c[w]=WZ(c[w],y):dH(y)?c[w]=WZ({},y):sR(y)?c[w]=y.slice():c[w]=y};for(let y=0,C=arguments.length;y<C;y++)arguments[y]&&ik(arguments[y],f);return c}const cue=(a,c,f,{allOwnKeys:y}={})=>(ik(c,(C,w)=>{f&&Hw(C)?a[w]=Dee(C,f):a[w]=C},{allOwnKeys:y}),a),lue=a=>(a.charCodeAt(0)===65279&&(a=a.slice(1)),a),uue=(a,c,f,y)=>{a.prototype=Object.create(c.prototype,y),a.prototype.constructor=a,Object.defineProperty(a,"super",{value:c.prototype}),f&&Object.assign(a.prototype,f)},due=(a,c,f,y)=>{let C,w,S;const M={};if(c=c||{},a==null)return c;do{for(C=Object.getOwnPropertyNames(a),w=C.length;w-- >0;)S=C[w],(!y||y(S,a,c))&&!M[S]&&(c[S]=a[S],M[S]=!0);a=f!==!1&&gY(a)}while(a&&(!f||f(a,c))&&a!==Object.prototype);return c},fue=(a,c,f)=>{a=String(a),(f===void 0||f>a.length)&&(f=a.length),f-=c.length;const y=a.indexOf(c,f);return y!==-1&&y===f},hue=a=>{if(!a)return null;if(sR(a))return a;let c=a.length;if(!kee(c))return null;const f=new Array(c);for(;c-- >0;)f[c]=a[c];return f},mue=(a=>c=>a&&c instanceof a)(typeof Uint8Array<"u"&&gY(Uint8Array)),pue=(a,c)=>{const y=(a&&a[Symbol.iterator]).call(a);let C;for(;(C=y.next())&&!C.done;){const w=C.value;c.call(a,w[0],w[1])}},gue=(a,c)=>{let f;const y=[];for(;(f=a.exec(c))!==null;)y.push(f);return y},vue=x_("HTMLFormElement"),bue=a=>a.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(f,y,C){return y.toUpperCase()+C}),PQ=(({hasOwnProperty:a})=>(c,f)=>a.call(c,f))(Object.prototype),yue=x_("RegExp"),Bee=(a,c)=>{const f=Object.getOwnPropertyDescriptors(a),y={};ik(f,(C,w)=>{c(C,w,a)!==!1&&(y[w]=C)}),Object.defineProperties(a,y)},_ue=a=>{Bee(a,(c,f)=>{if(Hw(a)&&["arguments","caller","callee"].indexOf(f)!==-1)return!1;const y=a[f];if(Hw(y)){if(c.enumerable=!1,"writable"in c){c.writable=!1;return}c.set||(c.set=()=>{throw Error("Can not rewrite read-only method '"+f+"'")})}})},Eue=(a,c)=>{const f={},y=C=>{C.forEach(w=>{f[w]=!0})};return sR(a)?y(a):y(String(a).split(c)),f},wue=()=>{},Tue=(a,c)=>(a=+a,Number.isFinite(a)?a:c),iZ="abcdefghijklmnopqrstuvwxyz",LQ="0123456789",Fee={DIGIT:LQ,ALPHA:iZ,ALPHA_DIGIT:iZ+iZ.toUpperCase()+LQ},Cue=(a=16,c=Fee.ALPHA_DIGIT)=>{let f="";const{length:y}=c;for(;a--;)f+=c[Math.random()*y|0];return f};function Sue(a){return!!(a&&Hw(a.append)&&a[Symbol.toStringTag]==="FormData"&&a[Symbol.iterator])}const xue=a=>{const c=new Array(10),f=(y,C)=>{if(bY(y)){if(c.indexOf(y)>=0)return;if(!("toJSON"in y)){c[C]=y;const w=sR(y)?[]:{};return ik(y,(S,M)=>{const P=f(S,C+1);!ok(P)&&(w[M]=P)}),c[C]=void 0,w}}return y};return f(a,0)},ln={isArray:sR,isArrayBuffer:Nee,isBuffer:Kle,isFormData:rue,isArrayBufferView:Xle,isString:Qle,isNumber:kee,isBoolean:Jle,isObject:bY,isPlainObject:dH,isUndefined:ok,isDate:eue,isFile:tue,isBlob:nue,isRegExp:yue,isFunction:Hw,isStream:sue,isURLSearchParams:iue,isTypedArray:mue,isFileList:oue,forEach:ik,merge:WZ,extend:cue,trim:aue,stripBOM:lue,inherits:uue,toFlatObject:due,kindOf:vY,kindOfTest:x_,endsWith:fue,toArray:hue,forEachEntry:pue,matchAll:gue,isHTMLForm:vue,hasOwnProperty:PQ,hasOwnProp:PQ,reduceDescriptors:Bee,freezeMethods:_ue,toObjectSet:Eue,toCamelCase:bue,noop:wue,toFiniteNumber:Tue,findKey:Pee,global:Lee,isContextDefined:$ee,ALPHABET:Fee,generateString:Cue,isSpecCompliantForm:Sue,toJSONObject:xue};function yi(a,c,f,y,C){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=a,this.name="AxiosError",c&&(this.code=c),f&&(this.config=f),y&&(this.request=y),C&&(this.response=C)}ln.inherits(yi,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ln.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Hee=yi.prototype,Vee={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(a=>{Vee[a]={value:a}});Object.defineProperties(yi,Vee);Object.defineProperty(Hee,"isAxiosError",{value:!0});yi.from=(a,c,f,y,C,w)=>{const S=Object.create(Hee);return ln.toFlatObject(a,S,function(P){return P!==Error.prototype},M=>M!=="isAxiosError"),yi.call(S,a.message,c,f,y,C),S.cause=a,S.name=a.name,w&&Object.assign(S,w),S};const Aue=null;function GZ(a){return ln.isPlainObject(a)||ln.isArray(a)}function zee(a){return ln.endsWith(a,"[]")?a.slice(0,-2):a}function $Q(a,c,f){return a?a.concat(c).map(function(C,w){return C=zee(C),!f&&w?"["+C+"]":C}).join(f?".":""):c}function Oue(a){return ln.isArray(a)&&!a.some(GZ)}const Rue=ln.toFlatObject(ln,{},null,function(c){return/^is[A-Z]/.test(c)});function jH(a,c,f){if(!ln.isObject(a))throw new TypeError("target must be an object");c=c||new FormData,f=ln.toFlatObject(f,{metaTokens:!0,dots:!1,indexes:!1},!1,function(fe,ue){return!ln.isUndefined(ue[fe])});const y=f.metaTokens,C=f.visitor||j,w=f.dots,S=f.indexes,P=(f.Blob||typeof Blob<"u"&&Blob)&&ln.isSpecCompliantForm(c);if(!ln.isFunction(C))throw new TypeError("visitor must be a function");function G(pe){if(pe===null)return"";if(ln.isDate(pe))return pe.toISOString();if(!P&&ln.isBlob(pe))throw new yi("Blob is not supported. Use a Buffer instead.");return ln.isArrayBuffer(pe)||ln.isTypedArray(pe)?P&&typeof Blob=="function"?new Blob([pe]):Buffer.from(pe):pe}function j(pe,fe,ue){let le=pe;if(pe&&!ue&&typeof pe=="object"){if(ln.endsWith(fe,"{}"))fe=y?fe:fe.slice(0,-2),pe=JSON.stringify(pe);else if(ln.isArray(pe)&&Oue(pe)||(ln.isFileList(pe)||ln.endsWith(fe,"[]"))&&(le=ln.toArray(pe)))return fe=zee(fe),le.forEach(function(ee,ke){!(ln.isUndefined(ee)||ee===null)&&c.append(S===!0?$Q([fe],ke,w):S===null?fe:fe+"[]",G(ee))}),!1}return GZ(pe)?!0:(c.append($Q(ue,fe,w),G(pe)),!1)}const J=[],me=Object.assign(Rue,{defaultVisitor:j,convertValue:G,isVisitable:GZ});function ae(pe,fe){if(!ln.isUndefined(pe)){if(J.indexOf(pe)!==-1)throw Error("Circular reference detected in "+fe.join("."));J.push(pe),ln.forEach(pe,function(le,ve){(!(ln.isUndefined(le)||le===null)&&C.call(c,le,ln.isString(ve)?ve.trim():ve,fe,me))===!0&&ae(le,fe?fe.concat(ve):[ve])}),J.pop()}}if(!ln.isObject(a))throw new TypeError("data must be an object");return ae(a),c}function BQ(a){const c={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(a).replace(/[!'()~]|%20|%00/g,function(y){return c[y]})}function yY(a,c){this._pairs=[],a&&jH(a,this,c)}const Uee=yY.prototype;Uee.append=function(c,f){this._pairs.push([c,f])};Uee.toString=function(c){const f=c?function(y){return c.call(this,y,BQ)}:BQ;return this._pairs.map(function(C){return f(C[0])+"="+f(C[1])},"").join("&")};function Iue(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Wee(a,c,f){if(!c)return a;const y=f&&f.encode||Iue,C=f&&f.serialize;let w;if(C?w=C(c,f):w=ln.isURLSearchParams(c)?c.toString():new yY(c,f).toString(y),w){const S=a.indexOf("#");S!==-1&&(a=a.slice(0,S)),a+=(a.indexOf("?")===-1?"?":"&")+w}return a}class Due{constructor(){this.handlers=[]}use(c,f,y){return this.handlers.push({fulfilled:c,rejected:f,synchronous:y?y.synchronous:!1,runWhen:y?y.runWhen:null}),this.handlers.length-1}eject(c){this.handlers[c]&&(this.handlers[c]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(c){ln.forEach(this.handlers,function(y){y!==null&&c(y)})}}const FQ=Due,Gee={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Mue=typeof URLSearchParams<"u"?URLSearchParams:yY,Nue=typeof FormData<"u"?FormData:null,kue=typeof Blob<"u"?Blob:null,Pue=(()=>{let a;return typeof navigator<"u"&&((a=navigator.product)==="ReactNative"||a==="NativeScript"||a==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Lue=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),E0={isBrowser:!0,classes:{URLSearchParams:Mue,FormData:Nue,Blob:kue},isStandardBrowserEnv:Pue,isStandardBrowserWebWorkerEnv:Lue,protocols:["http","https","file","blob","url","data"]};function $ue(a,c){return jH(a,new E0.classes.URLSearchParams,Object.assign({visitor:function(f,y,C,w){return E0.isNode&&ln.isBuffer(f)?(this.append(y,f.toString("base64")),!1):w.defaultVisitor.apply(this,arguments)}},c))}function Bue(a){return ln.matchAll(/\w+|\[(\w*)]/g,a).map(c=>c[0]==="[]"?"":c[1]||c[0])}function Fue(a){const c={},f=Object.keys(a);let y;const C=f.length;let w;for(y=0;y<C;y++)w=f[y],c[w]=a[w];return c}function jee(a){function c(f,y,C,w){let S=f[w++];const M=Number.isFinite(+S),P=w>=f.length;return S=!S&&ln.isArray(C)?C.length:S,P?(ln.hasOwnProp(C,S)?C[S]=[C[S],y]:C[S]=y,!M):((!C[S]||!ln.isObject(C[S]))&&(C[S]=[]),c(f,y,C[S],w)&&ln.isArray(C[S])&&(C[S]=Fue(C[S])),!M)}if(ln.isFormData(a)&&ln.isFunction(a.entries)){const f={};return ln.forEachEntry(a,(y,C)=>{c(Bue(y),C,f,0)}),f}return null}const Hue={"Content-Type":void 0};function Vue(a,c,f){if(ln.isString(a))try{return(c||JSON.parse)(a),ln.trim(a)}catch(y){if(y.name!=="SyntaxError")throw y}return(f||JSON.stringify)(a)}const qH={transitional:Gee,adapter:["xhr","http"],transformRequest:[function(c,f){const y=f.getContentType()||"",C=y.indexOf("application/json")>-1,w=ln.isObject(c);if(w&&ln.isHTMLForm(c)&&(c=new FormData(c)),ln.isFormData(c))return C&&C?JSON.stringify(jee(c)):c;if(ln.isArrayBuffer(c)||ln.isBuffer(c)||ln.isStream(c)||ln.isFile(c)||ln.isBlob(c))return c;if(ln.isArrayBufferView(c))return c.buffer;if(ln.isURLSearchParams(c))return f.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),c.toString();let M;if(w){if(y.indexOf("application/x-www-form-urlencoded")>-1)return $ue(c,this.formSerializer).toString();if((M=ln.isFileList(c))||y.indexOf("multipart/form-data")>-1){const P=this.env&&this.env.FormData;return jH(M?{"files[]":c}:c,P&&new P,this.formSerializer)}}return w||C?(f.setContentType("application/json",!1),Vue(c)):c}],transformResponse:[function(c){const f=this.transitional||qH.transitional,y=f&&f.forcedJSONParsing,C=this.responseType==="json";if(c&&ln.isString(c)&&(y&&!this.responseType||C)){const S=!(f&&f.silentJSONParsing)&&C;try{return JSON.parse(c)}catch(M){if(S)throw M.name==="SyntaxError"?yi.from(M,yi.ERR_BAD_RESPONSE,this,null,this.response):M}}return c}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:E0.classes.FormData,Blob:E0.classes.Blob},validateStatus:function(c){return c>=200&&c<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};ln.forEach(["delete","get","head"],function(c){qH.headers[c]={}});ln.forEach(["post","put","patch"],function(c){qH.headers[c]=ln.merge(Hue)});const _Y=qH,zue=ln.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Uue=a=>{const c={};let f,y,C;return a&&a.split(`
`).forEach(function(S){C=S.indexOf(":"),f=S.substring(0,C).trim().toLowerCase(),y=S.substring(C+1).trim(),!(!f||c[f]&&zue[f])&&(f==="set-cookie"?c[f]?c[f].push(y):c[f]=[y]:c[f]=c[f]?c[f]+", "+y:y)}),c},HQ=Symbol("internals");function qN(a){return a&&String(a).trim().toLowerCase()}function fH(a){return a===!1||a==null?a:ln.isArray(a)?a.map(fH):String(a)}function Wue(a){const c=Object.create(null),f=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let y;for(;y=f.exec(a);)c[y[1]]=y[2];return c}const Gue=a=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(a.trim());function aZ(a,c,f,y,C){if(ln.isFunction(y))return y.call(this,c,f);if(C&&(c=f),!!ln.isString(c)){if(ln.isString(y))return c.indexOf(y)!==-1;if(ln.isRegExp(y))return y.test(c)}}function jue(a){return a.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(c,f,y)=>f.toUpperCase()+y)}function que(a,c){const f=ln.toCamelCase(" "+c);["get","set","has"].forEach(y=>{Object.defineProperty(a,y+f,{value:function(C,w,S){return this[y].call(this,c,C,w,S)},configurable:!0})})}class ZH{constructor(c){c&&this.set(c)}set(c,f,y){const C=this;function w(M,P,G){const j=qN(P);if(!j)throw new Error("header name must be a non-empty string");const J=ln.findKey(C,j);(!J||C[J]===void 0||G===!0||G===void 0&&C[J]!==!1)&&(C[J||P]=fH(M))}const S=(M,P)=>ln.forEach(M,(G,j)=>w(G,j,P));return ln.isPlainObject(c)||c instanceof this.constructor?S(c,f):ln.isString(c)&&(c=c.trim())&&!Gue(c)?S(Uue(c),f):c!=null&&w(f,c,y),this}get(c,f){if(c=qN(c),c){const y=ln.findKey(this,c);if(y){const C=this[y];if(!f)return C;if(f===!0)return Wue(C);if(ln.isFunction(f))return f.call(this,C,y);if(ln.isRegExp(f))return f.exec(C);throw new TypeError("parser must be boolean|regexp|function")}}}has(c,f){if(c=qN(c),c){const y=ln.findKey(this,c);return!!(y&&this[y]!==void 0&&(!f||aZ(this,this[y],y,f)))}return!1}delete(c,f){const y=this;let C=!1;function w(S){if(S=qN(S),S){const M=ln.findKey(y,S);M&&(!f||aZ(y,y[M],M,f))&&(delete y[M],C=!0)}}return ln.isArray(c)?c.forEach(w):w(c),C}clear(c){const f=Object.keys(this);let y=f.length,C=!1;for(;y--;){const w=f[y];(!c||aZ(this,this[w],w,c,!0))&&(delete this[w],C=!0)}return C}normalize(c){const f=this,y={};return ln.forEach(this,(C,w)=>{const S=ln.findKey(y,w);if(S){f[S]=fH(C),delete f[w];return}const M=c?jue(w):String(w).trim();M!==w&&delete f[w],f[M]=fH(C),y[M]=!0}),this}concat(...c){return this.constructor.concat(this,...c)}toJSON(c){const f=Object.create(null);return ln.forEach(this,(y,C)=>{y!=null&&y!==!1&&(f[C]=c&&ln.isArray(y)?y.join(", "):y)}),f}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([c,f])=>c+": "+f).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(c){return c instanceof this?c:new this(c)}static concat(c,...f){const y=new this(c);return f.forEach(C=>y.set(C)),y}static accessor(c){const y=(this[HQ]=this[HQ]={accessors:{}}).accessors,C=this.prototype;function w(S){const M=qN(S);y[M]||(que(C,S),y[M]=!0)}return ln.isArray(c)?c.forEach(w):w(c),this}}ZH.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ln.freezeMethods(ZH.prototype);ln.freezeMethods(ZH);const __=ZH;function cZ(a,c){const f=this||_Y,y=c||f,C=__.from(y.headers);let w=y.data;return ln.forEach(a,function(M){w=M.call(f,w,C.normalize(),c?c.status:void 0)}),C.normalize(),w}function qee(a){return!!(a&&a.__CANCEL__)}function ak(a,c,f){yi.call(this,a??"canceled",yi.ERR_CANCELED,c,f),this.name="CanceledError"}ln.inherits(ak,yi,{__CANCEL__:!0});function Zue(a,c,f){const y=f.config.validateStatus;!f.status||!y||y(f.status)?a(f):c(new yi("Request failed with status code "+f.status,[yi.ERR_BAD_REQUEST,yi.ERR_BAD_RESPONSE][Math.floor(f.status/100)-4],f.config,f.request,f))}const Yue=E0.isStandardBrowserEnv?function(){return{write:function(f,y,C,w,S,M){const P=[];P.push(f+"="+encodeURIComponent(y)),ln.isNumber(C)&&P.push("expires="+new Date(C).toGMTString()),ln.isString(w)&&P.push("path="+w),ln.isString(S)&&P.push("domain="+S),M===!0&&P.push("secure"),document.cookie=P.join("; ")},read:function(f){const y=document.cookie.match(new RegExp("(^|;\\s*)("+f+")=([^;]*)"));return y?decodeURIComponent(y[3]):null},remove:function(f){this.write(f,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Kue(a){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a)}function Xue(a,c){return c?a.replace(/\/+$/,"")+"/"+c.replace(/^\/+/,""):a}function Zee(a,c){return a&&!Kue(c)?Xue(a,c):c}const Que=E0.isStandardBrowserEnv?function(){const c=/(msie|trident)/i.test(navigator.userAgent),f=document.createElement("a");let y;function C(w){let S=w;return c&&(f.setAttribute("href",S),S=f.href),f.setAttribute("href",S),{href:f.href,protocol:f.protocol?f.protocol.replace(/:$/,""):"",host:f.host,search:f.search?f.search.replace(/^\?/,""):"",hash:f.hash?f.hash.replace(/^#/,""):"",hostname:f.hostname,port:f.port,pathname:f.pathname.charAt(0)==="/"?f.pathname:"/"+f.pathname}}return y=C(window.location.href),function(S){const M=ln.isString(S)?C(S):S;return M.protocol===y.protocol&&M.host===y.host}}():function(){return function(){return!0}}();function Jue(a){const c=/^([-+\w]{1,25})(:?\/\/|:)/.exec(a);return c&&c[1]||""}function ede(a,c){a=a||10;const f=new Array(a),y=new Array(a);let C=0,w=0,S;return c=c!==void 0?c:1e3,function(P){const G=Date.now(),j=y[w];S||(S=G),f[C]=P,y[C]=G;let J=w,me=0;for(;J!==C;)me+=f[J++],J=J%a;if(C=(C+1)%a,C===w&&(w=(w+1)%a),G-S<c)return;const ae=j&&G-j;return ae?Math.round(me*1e3/ae):void 0}}function VQ(a,c){let f=0;const y=ede(50,250);return C=>{const w=C.loaded,S=C.lengthComputable?C.total:void 0,M=w-f,P=y(M),G=w<=S;f=w;const j={loaded:w,total:S,progress:S?w/S:void 0,bytes:M,rate:P||void 0,estimated:P&&S&&G?(S-w)/P:void 0,event:C};j[c?"download":"upload"]=!0,a(j)}}const tde=typeof XMLHttpRequest<"u",nde=tde&&function(a){return new Promise(function(f,y){let C=a.data;const w=__.from(a.headers).normalize(),S=a.responseType;let M;function P(){a.cancelToken&&a.cancelToken.unsubscribe(M),a.signal&&a.signal.removeEventListener("abort",M)}ln.isFormData(C)&&(E0.isStandardBrowserEnv||E0.isStandardBrowserWebWorkerEnv)&&w.setContentType(!1);let G=new XMLHttpRequest;if(a.auth){const ae=a.auth.username||"",pe=a.auth.password?unescape(encodeURIComponent(a.auth.password)):"";w.set("Authorization","Basic "+btoa(ae+":"+pe))}const j=Zee(a.baseURL,a.url);G.open(a.method.toUpperCase(),Wee(j,a.params,a.paramsSerializer),!0),G.timeout=a.timeout;function J(){if(!G)return;const ae=__.from("getAllResponseHeaders"in G&&G.getAllResponseHeaders()),fe={data:!S||S==="text"||S==="json"?G.responseText:G.response,status:G.status,statusText:G.statusText,headers:ae,config:a,request:G};Zue(function(le){f(le),P()},function(le){y(le),P()},fe),G=null}if("onloadend"in G?G.onloadend=J:G.onreadystatechange=function(){!G||G.readyState!==4||G.status===0&&!(G.responseURL&&G.responseURL.indexOf("file:")===0)||setTimeout(J)},G.onabort=function(){G&&(y(new yi("Request aborted",yi.ECONNABORTED,a,G)),G=null)},G.onerror=function(){y(new yi("Network Error",yi.ERR_NETWORK,a,G)),G=null},G.ontimeout=function(){let pe=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const fe=a.transitional||Gee;a.timeoutErrorMessage&&(pe=a.timeoutErrorMessage),y(new yi(pe,fe.clarifyTimeoutError?yi.ETIMEDOUT:yi.ECONNABORTED,a,G)),G=null},E0.isStandardBrowserEnv){const ae=(a.withCredentials||Que(j))&&a.xsrfCookieName&&Yue.read(a.xsrfCookieName);ae&&w.set(a.xsrfHeaderName,ae)}C===void 0&&w.setContentType(null),"setRequestHeader"in G&&ln.forEach(w.toJSON(),function(pe,fe){G.setRequestHeader(fe,pe)}),ln.isUndefined(a.withCredentials)||(G.withCredentials=!!a.withCredentials),S&&S!=="json"&&(G.responseType=a.responseType),typeof a.onDownloadProgress=="function"&&G.addEventListener("progress",VQ(a.onDownloadProgress,!0)),typeof a.onUploadProgress=="function"&&G.upload&&G.upload.addEventListener("progress",VQ(a.onUploadProgress)),(a.cancelToken||a.signal)&&(M=ae=>{G&&(y(!ae||ae.type?new ak(null,a,G):ae),G.abort(),G=null)},a.cancelToken&&a.cancelToken.subscribe(M),a.signal&&(a.signal.aborted?M():a.signal.addEventListener("abort",M)));const me=Jue(j);if(me&&E0.protocols.indexOf(me)===-1){y(new yi("Unsupported protocol "+me+":",yi.ERR_BAD_REQUEST,a));return}G.send(C||null)})},hH={http:Aue,xhr:nde};ln.forEach(hH,(a,c)=>{if(a){try{Object.defineProperty(a,"name",{value:c})}catch{}Object.defineProperty(a,"adapterName",{value:c})}});const ode={getAdapter:a=>{a=ln.isArray(a)?a:[a];const{length:c}=a;let f,y;for(let C=0;C<c&&(f=a[C],!(y=ln.isString(f)?hH[f.toLowerCase()]:f));C++);if(!y)throw y===!1?new yi(`Adapter ${f} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(ln.hasOwnProp(hH,f)?`Adapter '${f}' is not available in the build`:`Unknown adapter '${f}'`);if(!ln.isFunction(y))throw new TypeError("adapter is not a function");return y},adapters:hH};function lZ(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new ak(null,a)}function zQ(a){return lZ(a),a.headers=__.from(a.headers),a.data=cZ.call(a,a.transformRequest),["post","put","patch"].indexOf(a.method)!==-1&&a.headers.setContentType("application/x-www-form-urlencoded",!1),ode.getAdapter(a.adapter||_Y.adapter)(a).then(function(y){return lZ(a),y.data=cZ.call(a,a.transformResponse,y),y.headers=__.from(y.headers),y},function(y){return qee(y)||(lZ(a),y&&y.response&&(y.response.data=cZ.call(a,a.transformResponse,y.response),y.response.headers=__.from(y.response.headers))),Promise.reject(y)})}const UQ=a=>a instanceof __?a.toJSON():a;function jO(a,c){c=c||{};const f={};function y(G,j,J){return ln.isPlainObject(G)&&ln.isPlainObject(j)?ln.merge.call({caseless:J},G,j):ln.isPlainObject(j)?ln.merge({},j):ln.isArray(j)?j.slice():j}function C(G,j,J){if(ln.isUndefined(j)){if(!ln.isUndefined(G))return y(void 0,G,J)}else return y(G,j,J)}function w(G,j){if(!ln.isUndefined(j))return y(void 0,j)}function S(G,j){if(ln.isUndefined(j)){if(!ln.isUndefined(G))return y(void 0,G)}else return y(void 0,j)}function M(G,j,J){if(J in c)return y(G,j);if(J in a)return y(void 0,G)}const P={url:w,method:w,data:w,baseURL:S,transformRequest:S,transformResponse:S,paramsSerializer:S,timeout:S,timeoutMessage:S,withCredentials:S,adapter:S,responseType:S,xsrfCookieName:S,xsrfHeaderName:S,onUploadProgress:S,onDownloadProgress:S,decompress:S,maxContentLength:S,maxBodyLength:S,beforeRedirect:S,transport:S,httpAgent:S,httpsAgent:S,cancelToken:S,socketPath:S,responseEncoding:S,validateStatus:M,headers:(G,j)=>C(UQ(G),UQ(j),!0)};return ln.forEach(Object.keys(a).concat(Object.keys(c)),function(j){const J=P[j]||C,me=J(a[j],c[j],j);ln.isUndefined(me)&&J!==M||(f[j]=me)}),f}const Yee="1.3.5",EY={};["object","boolean","number","function","string","symbol"].forEach((a,c)=>{EY[a]=function(y){return typeof y===a||"a"+(c<1?"n ":" ")+a}});const WQ={};EY.transitional=function(c,f,y){function C(w,S){return"[Axios v"+Yee+"] Transitional option '"+w+"'"+S+(y?". "+y:"")}return(w,S,M)=>{if(c===!1)throw new yi(C(S," has been removed"+(f?" in "+f:"")),yi.ERR_DEPRECATED);return f&&!WQ[S]&&(WQ[S]=!0,console.warn(C(S," has been deprecated since v"+f+" and will be removed in the near future"))),c?c(w,S,M):!0}};function sde(a,c,f){if(typeof a!="object")throw new yi("options must be an object",yi.ERR_BAD_OPTION_VALUE);const y=Object.keys(a);let C=y.length;for(;C-- >0;){const w=y[C],S=c[w];if(S){const M=a[w],P=M===void 0||S(M,w,a);if(P!==!0)throw new yi("option "+w+" must be "+P,yi.ERR_BAD_OPTION_VALUE);continue}if(f!==!0)throw new yi("Unknown option "+w,yi.ERR_BAD_OPTION)}}const jZ={assertOptions:sde,validators:EY},Pw=jZ.validators;class MH{constructor(c){this.defaults=c,this.interceptors={request:new FQ,response:new FQ}}request(c,f){typeof c=="string"?(f=f||{},f.url=c):f=c||{},f=jO(this.defaults,f);const{transitional:y,paramsSerializer:C,headers:w}=f;y!==void 0&&jZ.assertOptions(y,{silentJSONParsing:Pw.transitional(Pw.boolean),forcedJSONParsing:Pw.transitional(Pw.boolean),clarifyTimeoutError:Pw.transitional(Pw.boolean)},!1),C!=null&&(ln.isFunction(C)?f.paramsSerializer={serialize:C}:jZ.assertOptions(C,{encode:Pw.function,serialize:Pw.function},!0)),f.method=(f.method||this.defaults.method||"get").toLowerCase();let S;S=w&&ln.merge(w.common,w[f.method]),S&&ln.forEach(["delete","get","head","post","put","patch","common"],pe=>{delete w[pe]}),f.headers=__.concat(S,w);const M=[];let P=!0;this.interceptors.request.forEach(function(fe){typeof fe.runWhen=="function"&&fe.runWhen(f)===!1||(P=P&&fe.synchronous,M.unshift(fe.fulfilled,fe.rejected))});const G=[];this.interceptors.response.forEach(function(fe){G.push(fe.fulfilled,fe.rejected)});let j,J=0,me;if(!P){const pe=[zQ.bind(this),void 0];for(pe.unshift.apply(pe,M),pe.push.apply(pe,G),me=pe.length,j=Promise.resolve(f);J<me;)j=j.then(pe[J++],pe[J++]);return j}me=M.length;let ae=f;for(J=0;J<me;){const pe=M[J++],fe=M[J++];try{ae=pe(ae)}catch(ue){fe.call(this,ue);break}}try{j=zQ.call(this,ae)}catch(pe){return Promise.reject(pe)}for(J=0,me=G.length;J<me;)j=j.then(G[J++],G[J++]);return j}getUri(c){c=jO(this.defaults,c);const f=Zee(c.baseURL,c.url);return Wee(f,c.params,c.paramsSerializer)}}ln.forEach(["delete","get","head","options"],function(c){MH.prototype[c]=function(f,y){return this.request(jO(y||{},{method:c,url:f,data:(y||{}).data}))}});ln.forEach(["post","put","patch"],function(c){function f(y){return function(w,S,M){return this.request(jO(M||{},{method:c,headers:y?{"Content-Type":"multipart/form-data"}:{},url:w,data:S}))}}MH.prototype[c]=f(),MH.prototype[c+"Form"]=f(!0)});const mH=MH;class wY{constructor(c){if(typeof c!="function")throw new TypeError("executor must be a function.");let f;this.promise=new Promise(function(w){f=w});const y=this;this.promise.then(C=>{if(!y._listeners)return;let w=y._listeners.length;for(;w-- >0;)y._listeners[w](C);y._listeners=null}),this.promise.then=C=>{let w;const S=new Promise(M=>{y.subscribe(M),w=M}).then(C);return S.cancel=function(){y.unsubscribe(w)},S},c(function(w,S,M){y.reason||(y.reason=new ak(w,S,M),f(y.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(c){if(this.reason){c(this.reason);return}this._listeners?this._listeners.push(c):this._listeners=[c]}unsubscribe(c){if(!this._listeners)return;const f=this._listeners.indexOf(c);f!==-1&&this._listeners.splice(f,1)}static source(){let c;return{token:new wY(function(C){c=C}),cancel:c}}}const rde=wY;function ide(a){return function(f){return a.apply(null,f)}}function ade(a){return ln.isObject(a)&&a.isAxiosError===!0}const qZ={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(qZ).forEach(([a,c])=>{qZ[c]=a});const cde=qZ;function Kee(a){const c=new mH(a),f=Dee(mH.prototype.request,c);return ln.extend(f,mH.prototype,c,{allOwnKeys:!0}),ln.extend(f,c,null,{allOwnKeys:!0}),f.create=function(C){return Kee(jO(a,C))},f}const Dd=Kee(_Y);Dd.Axios=mH;Dd.CanceledError=ak;Dd.CancelToken=rde;Dd.isCancel=qee;Dd.VERSION=Yee;Dd.toFormData=jH;Dd.AxiosError=yi;Dd.Cancel=Dd.CanceledError;Dd.all=function(c){return Promise.all(c)};Dd.spread=ide;Dd.isAxiosError=ade;Dd.mergeConfig=jO;Dd.AxiosHeaders=__;Dd.formToJSON=a=>jee(ln.isHTMLForm(a)?new FormData(a):a);Dd.HttpStatusCode=cde;Dd.default=Dd;const lde=Dd;window._=Yne;window.axios=lde;window.$=window.jQuery=Xne;window.tinymce=Jne;window.FilePond=aae;window.bootstrap=toe;TH(Oee,wee,Eee,Ree,yee);window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var um="top",Eg="bottom",wg="right",dm="left",YH="auto",rR=[um,Eg,wg,dm],dx="start",qO="end",Xee="clippingParents",TY="viewport",MO="popper",Qee="reference",ZZ=rR.reduce(function(a,c){return a.concat([c+"-"+dx,c+"-"+qO])},[]),CY=[].concat(rR,[YH]).reduce(function(a,c){return a.concat([c,c+"-"+dx,c+"-"+qO])},[]),Jee="beforeRead",ete="read",tte="afterRead",nte="beforeMain",ote="main",ste="afterMain",rte="beforeWrite",ite="write",ate="afterWrite",cte=[Jee,ete,tte,nte,ote,ste,rte,ite,ate];function C0(a){return a?(a.nodeName||"").toLowerCase():null}function Tg(a){if(a==null)return window;if(a.toString()!=="[object Window]"){var c=a.ownerDocument;return c&&c.defaultView||window}return a}function fx(a){var c=Tg(a).Element;return a instanceof c||a instanceof Element}function Bv(a){var c=Tg(a).HTMLElement;return a instanceof c||a instanceof HTMLElement}function SY(a){if(typeof ShadowRoot>"u")return!1;var c=Tg(a).ShadowRoot;return a instanceof c||a instanceof ShadowRoot}function ude(a){var c=a.state;Object.keys(c.elements).forEach(function(f){var y=c.styles[f]||{},C=c.attributes[f]||{},w=c.elements[f];!Bv(w)||!C0(w)||(Object.assign(w.style,y),Object.keys(C).forEach(function(S){var M=C[S];M===!1?w.removeAttribute(S):w.setAttribute(S,M===!0?"":M)}))})}function dde(a){var c=a.state,f={popper:{position:c.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(c.elements.popper.style,f.popper),c.styles=f,c.elements.arrow&&Object.assign(c.elements.arrow.style,f.arrow),function(){Object.keys(c.elements).forEach(function(y){var C=c.elements[y],w=c.attributes[y]||{},S=Object.keys(c.styles.hasOwnProperty(y)?c.styles[y]:f[y]),M=S.reduce(function(P,G){return P[G]="",P},{});!Bv(C)||!C0(C)||(Object.assign(C.style,M),Object.keys(w).forEach(function(P){C.removeAttribute(P)}))})}}const xY={name:"applyStyles",enabled:!0,phase:"write",fn:ude,effect:dde,requires:["computeStyles"]};function w0(a){return a.split("-")[0]}var ux=Math.max,NH=Math.min,ZO=Math.round;function YZ(){var a=navigator.userAgentData;return a!=null&&a.brands&&Array.isArray(a.brands)?a.brands.map(function(c){return c.brand+"/"+c.version}).join(" "):navigator.userAgent}function lte(){return!/^((?!chrome|android).)*safari/i.test(YZ())}function YO(a,c,f){c===void 0&&(c=!1),f===void 0&&(f=!1);var y=a.getBoundingClientRect(),C=1,w=1;c&&Bv(a)&&(C=a.offsetWidth>0&&ZO(y.width)/a.offsetWidth||1,w=a.offsetHeight>0&&ZO(y.height)/a.offsetHeight||1);var S=fx(a)?Tg(a):window,M=S.visualViewport,P=!lte()&&f,G=(y.left+(P&&M?M.offsetLeft:0))/C,j=(y.top+(P&&M?M.offsetTop:0))/w,J=y.width/C,me=y.height/w;return{width:J,height:me,top:j,right:G+J,bottom:j+me,left:G,x:G,y:j}}function AY(a){var c=YO(a),f=a.offsetWidth,y=a.offsetHeight;return Math.abs(c.width-f)<=1&&(f=c.width),Math.abs(c.height-y)<=1&&(y=c.height),{x:a.offsetLeft,y:a.offsetTop,width:f,height:y}}function ute(a,c){var f=c.getRootNode&&c.getRootNode();if(a.contains(c))return!0;if(f&&SY(f)){var y=c;do{if(y&&a.isSameNode(y))return!0;y=y.parentNode||y.host}while(y)}return!1}function S_(a){return Tg(a).getComputedStyle(a)}function fde(a){return["table","td","th"].indexOf(C0(a))>=0}function Ww(a){return((fx(a)?a.ownerDocument:a.document)||window.document).documentElement}function KH(a){return C0(a)==="html"?a:a.assignedSlot||a.parentNode||(SY(a)?a.host:null)||Ww(a)}function GQ(a){return!Bv(a)||S_(a).position==="fixed"?null:a.offsetParent}function hde(a){var c=/firefox/i.test(YZ()),f=/Trident/i.test(YZ());if(f&&Bv(a)){var y=S_(a);if(y.position==="fixed")return null}var C=KH(a);for(SY(C)&&(C=C.host);Bv(C)&&["html","body"].indexOf(C0(C))<0;){var w=S_(C);if(w.transform!=="none"||w.perspective!=="none"||w.contain==="paint"||["transform","perspective"].indexOf(w.willChange)!==-1||c&&w.willChange==="filter"||c&&w.filter&&w.filter!=="none")return C;C=C.parentNode}return null}function ck(a){for(var c=Tg(a),f=GQ(a);f&&fde(f)&&S_(f).position==="static";)f=GQ(f);return f&&(C0(f)==="html"||C0(f)==="body"&&S_(f).position==="static")?c:f||hde(a)||c}function OY(a){return["top","bottom"].indexOf(a)>=0?"x":"y"}function JN(a,c,f){return ux(a,NH(c,f))}function mde(a,c,f){var y=JN(a,c,f);return y>f?f:y}function dte(){return{top:0,right:0,bottom:0,left:0}}function fte(a){return Object.assign({},dte(),a)}function hte(a,c){return c.reduce(function(f,y){return f[y]=a,f},{})}var pde=function(c,f){return c=typeof c=="function"?c(Object.assign({},f.rects,{placement:f.placement})):c,fte(typeof c!="number"?c:hte(c,rR))};function gde(a){var c,f=a.state,y=a.name,C=a.options,w=f.elements.arrow,S=f.modifiersData.popperOffsets,M=w0(f.placement),P=OY(M),G=[dm,wg].indexOf(M)>=0,j=G?"height":"width";if(!(!w||!S)){var J=pde(C.padding,f),me=AY(w),ae=P==="y"?um:dm,pe=P==="y"?Eg:wg,fe=f.rects.reference[j]+f.rects.reference[P]-S[P]-f.rects.popper[j],ue=S[P]-f.rects.reference[P],le=ck(w),ve=le?P==="y"?le.clientHeight||0:le.clientWidth||0:0,ee=fe/2-ue/2,ke=J[ae],Ke=ve-me[j]-J[pe],V=ve/2-me[j]/2+ee,we=JN(ke,V,Ke),Ue=P;f.modifiersData[y]=(c={},c[Ue]=we,c.centerOffset=we-V,c)}}function vde(a){var c=a.state,f=a.options,y=f.element,C=y===void 0?"[data-popper-arrow]":y;C!=null&&(typeof C=="string"&&(C=c.elements.popper.querySelector(C),!C)||ute(c.elements.popper,C)&&(c.elements.arrow=C))}const mte={name:"arrow",enabled:!0,phase:"main",fn:gde,effect:vde,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function KO(a){return a.split("-")[1]}var bde={top:"auto",right:"auto",bottom:"auto",left:"auto"};function yde(a,c){var f=a.x,y=a.y,C=c.devicePixelRatio||1;return{x:ZO(f*C)/C||0,y:ZO(y*C)/C||0}}function jQ(a){var c,f=a.popper,y=a.popperRect,C=a.placement,w=a.variation,S=a.offsets,M=a.position,P=a.gpuAcceleration,G=a.adaptive,j=a.roundOffsets,J=a.isFixed,me=S.x,ae=me===void 0?0:me,pe=S.y,fe=pe===void 0?0:pe,ue=typeof j=="function"?j({x:ae,y:fe}):{x:ae,y:fe};ae=ue.x,fe=ue.y;var le=S.hasOwnProperty("x"),ve=S.hasOwnProperty("y"),ee=dm,ke=um,Ke=window;if(G){var V=ck(f),we="clientHeight",Ue="clientWidth";if(V===Tg(f)&&(V=Ww(f),S_(V).position!=="static"&&M==="absolute"&&(we="scrollHeight",Ue="scrollWidth")),V=V,C===um||(C===dm||C===wg)&&w===qO){ke=Eg;var bt=J&&V===Ke&&Ke.visualViewport?Ke.visualViewport.height:V[we];fe-=bt-y.height,fe*=P?1:-1}if(C===dm||(C===um||C===Eg)&&w===qO){ee=wg;var It=J&&V===Ke&&Ke.visualViewport?Ke.visualViewport.width:V[Ue];ae-=It-y.width,ae*=P?1:-1}}var He=Object.assign({position:M},G&&bde),Te=j===!0?yde({x:ae,y:fe},Tg(f)):{x:ae,y:fe};if(ae=Te.x,fe=Te.y,P){var bn;return Object.assign({},He,(bn={},bn[ke]=ve?"0":"",bn[ee]=le?"0":"",bn.transform=(Ke.devicePixelRatio||1)<=1?"translate("+ae+"px, "+fe+"px)":"translate3d("+ae+"px, "+fe+"px, 0)",bn))}return Object.assign({},He,(c={},c[ke]=ve?fe+"px":"",c[ee]=le?ae+"px":"",c.transform="",c))}function _de(a){var c=a.state,f=a.options,y=f.gpuAcceleration,C=y===void 0?!0:y,w=f.adaptive,S=w===void 0?!0:w,M=f.roundOffsets,P=M===void 0?!0:M,G={placement:w0(c.placement),variation:KO(c.placement),popper:c.elements.popper,popperRect:c.rects.popper,gpuAcceleration:C,isFixed:c.options.strategy==="fixed"};c.modifiersData.popperOffsets!=null&&(c.styles.popper=Object.assign({},c.styles.popper,jQ(Object.assign({},G,{offsets:c.modifiersData.popperOffsets,position:c.options.strategy,adaptive:S,roundOffsets:P})))),c.modifiersData.arrow!=null&&(c.styles.arrow=Object.assign({},c.styles.arrow,jQ(Object.assign({},G,{offsets:c.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:P})))),c.attributes.popper=Object.assign({},c.attributes.popper,{"data-popper-placement":c.placement})}const RY={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:_de,data:{}};var X5={passive:!0};function Ede(a){var c=a.state,f=a.instance,y=a.options,C=y.scroll,w=C===void 0?!0:C,S=y.resize,M=S===void 0?!0:S,P=Tg(c.elements.popper),G=[].concat(c.scrollParents.reference,c.scrollParents.popper);return w&&G.forEach(function(j){j.addEventListener("scroll",f.update,X5)}),M&&P.addEventListener("resize",f.update,X5),function(){w&&G.forEach(function(j){j.removeEventListener("scroll",f.update,X5)}),M&&P.removeEventListener("resize",f.update,X5)}}const IY={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Ede,data:{}};var wde={left:"right",right:"left",bottom:"top",top:"bottom"};function pH(a){return a.replace(/left|right|bottom|top/g,function(c){return wde[c]})}var Tde={start:"end",end:"start"};function qQ(a){return a.replace(/start|end/g,function(c){return Tde[c]})}function DY(a){var c=Tg(a),f=c.pageXOffset,y=c.pageYOffset;return{scrollLeft:f,scrollTop:y}}function MY(a){return YO(Ww(a)).left+DY(a).scrollLeft}function Cde(a,c){var f=Tg(a),y=Ww(a),C=f.visualViewport,w=y.clientWidth,S=y.clientHeight,M=0,P=0;if(C){w=C.width,S=C.height;var G=lte();(G||!G&&c==="fixed")&&(M=C.offsetLeft,P=C.offsetTop)}return{width:w,height:S,x:M+MY(a),y:P}}function Sde(a){var c,f=Ww(a),y=DY(a),C=(c=a.ownerDocument)==null?void 0:c.body,w=ux(f.scrollWidth,f.clientWidth,C?C.scrollWidth:0,C?C.clientWidth:0),S=ux(f.scrollHeight,f.clientHeight,C?C.scrollHeight:0,C?C.clientHeight:0),M=-y.scrollLeft+MY(a),P=-y.scrollTop;return S_(C||f).direction==="rtl"&&(M+=ux(f.clientWidth,C?C.clientWidth:0)-w),{width:w,height:S,x:M,y:P}}function NY(a){var c=S_(a),f=c.overflow,y=c.overflowX,C=c.overflowY;return/auto|scroll|overlay|hidden/.test(f+C+y)}function pte(a){return["html","body","#document"].indexOf(C0(a))>=0?a.ownerDocument.body:Bv(a)&&NY(a)?a:pte(KH(a))}function ek(a,c){var f;c===void 0&&(c=[]);var y=pte(a),C=y===((f=a.ownerDocument)==null?void 0:f.body),w=Tg(y),S=C?[w].concat(w.visualViewport||[],NY(y)?y:[]):y,M=c.concat(S);return C?M:M.concat(ek(KH(S)))}function KZ(a){return Object.assign({},a,{left:a.x,top:a.y,right:a.x+a.width,bottom:a.y+a.height})}function xde(a,c){var f=YO(a,!1,c==="fixed");return f.top=f.top+a.clientTop,f.left=f.left+a.clientLeft,f.bottom=f.top+a.clientHeight,f.right=f.left+a.clientWidth,f.width=a.clientWidth,f.height=a.clientHeight,f.x=f.left,f.y=f.top,f}function ZQ(a,c,f){return c===TY?KZ(Cde(a,f)):fx(c)?xde(c,f):KZ(Sde(Ww(a)))}function Ade(a){var c=ek(KH(a)),f=["absolute","fixed"].indexOf(S_(a).position)>=0,y=f&&Bv(a)?ck(a):a;return fx(y)?c.filter(function(C){return fx(C)&&ute(C,y)&&C0(C)!=="body"}):[]}function Ode(a,c,f,y){var C=c==="clippingParents"?Ade(a):[].concat(c),w=[].concat(C,[f]),S=w[0],M=w.reduce(function(P,G){var j=ZQ(a,G,y);return P.top=ux(j.top,P.top),P.right=NH(j.right,P.right),P.bottom=NH(j.bottom,P.bottom),P.left=ux(j.left,P.left),P},ZQ(a,S,y));return M.width=M.right-M.left,M.height=M.bottom-M.top,M.x=M.left,M.y=M.top,M}function gte(a){var c=a.reference,f=a.element,y=a.placement,C=y?w0(y):null,w=y?KO(y):null,S=c.x+c.width/2-f.width/2,M=c.y+c.height/2-f.height/2,P;switch(C){case um:P={x:S,y:c.y-f.height};break;case Eg:P={x:S,y:c.y+c.height};break;case wg:P={x:c.x+c.width,y:M};break;case dm:P={x:c.x-f.width,y:M};break;default:P={x:c.x,y:c.y}}var G=C?OY(C):null;if(G!=null){var j=G==="y"?"height":"width";switch(w){case dx:P[G]=P[G]-(c[j]/2-f[j]/2);break;case qO:P[G]=P[G]+(c[j]/2-f[j]/2);break}}return P}function XO(a,c){c===void 0&&(c={});var f=c,y=f.placement,C=y===void 0?a.placement:y,w=f.strategy,S=w===void 0?a.strategy:w,M=f.boundary,P=M===void 0?Xee:M,G=f.rootBoundary,j=G===void 0?TY:G,J=f.elementContext,me=J===void 0?MO:J,ae=f.altBoundary,pe=ae===void 0?!1:ae,fe=f.padding,ue=fe===void 0?0:fe,le=fte(typeof ue!="number"?ue:hte(ue,rR)),ve=me===MO?Qee:MO,ee=a.rects.popper,ke=a.elements[pe?ve:me],Ke=Ode(fx(ke)?ke:ke.contextElement||Ww(a.elements.popper),P,j,S),V=YO(a.elements.reference),we=gte({reference:V,element:ee,strategy:"absolute",placement:C}),Ue=KZ(Object.assign({},ee,we)),bt=me===MO?Ue:V,It={top:Ke.top-bt.top+le.top,bottom:bt.bottom-Ke.bottom+le.bottom,left:Ke.left-bt.left+le.left,right:bt.right-Ke.right+le.right},He=a.modifiersData.offset;if(me===MO&&He){var Te=He[C];Object.keys(It).forEach(function(bn){var Tt=[wg,Eg].indexOf(bn)>=0?1:-1,Mt=[um,Eg].indexOf(bn)>=0?"y":"x";It[bn]+=Te[Mt]*Tt})}return It}function Rde(a,c){c===void 0&&(c={});var f=c,y=f.placement,C=f.boundary,w=f.rootBoundary,S=f.padding,M=f.flipVariations,P=f.allowedAutoPlacements,G=P===void 0?CY:P,j=KO(y),J=j?M?ZZ:ZZ.filter(function(pe){return KO(pe)===j}):rR,me=J.filter(function(pe){return G.indexOf(pe)>=0});me.length===0&&(me=J);var ae=me.reduce(function(pe,fe){return pe[fe]=XO(a,{placement:fe,boundary:C,rootBoundary:w,padding:S})[w0(fe)],pe},{});return Object.keys(ae).sort(function(pe,fe){return ae[pe]-ae[fe]})}function Ide(a){if(w0(a)===YH)return[];var c=pH(a);return[qQ(a),c,qQ(c)]}function Dde(a){var c=a.state,f=a.options,y=a.name;if(!c.modifiersData[y]._skip){for(var C=f.mainAxis,w=C===void 0?!0:C,S=f.altAxis,M=S===void 0?!0:S,P=f.fallbackPlacements,G=f.padding,j=f.boundary,J=f.rootBoundary,me=f.altBoundary,ae=f.flipVariations,pe=ae===void 0?!0:ae,fe=f.allowedAutoPlacements,ue=c.options.placement,le=w0(ue),ve=le===ue,ee=P||(ve||!pe?[pH(ue)]:Ide(ue)),ke=[ue].concat(ee).reduce(function(lo,Vo){return lo.concat(w0(Vo)===YH?Rde(c,{placement:Vo,boundary:j,rootBoundary:J,padding:G,flipVariations:pe,allowedAutoPlacements:fe}):Vo)},[]),Ke=c.rects.reference,V=c.rects.popper,we=new Map,Ue=!0,bt=ke[0],It=0;It<ke.length;It++){var He=ke[It],Te=w0(He),bn=KO(He)===dx,Tt=[um,Eg].indexOf(Te)>=0,Mt=Tt?"width":"height",F=XO(c,{placement:He,boundary:j,rootBoundary:J,altBoundary:me,padding:G}),Nt=Tt?bn?wg:dm:bn?Eg:um;Ke[Mt]>V[Mt]&&(Nt=pH(Nt));var rt=pH(Nt),Kt=[];if(w&&Kt.push(F[Te]<=0),M&&Kt.push(F[Nt]<=0,F[rt]<=0),Kt.every(function(lo){return lo})){bt=He,Ue=!1;break}we.set(He,Kt)}if(Ue)for(var Gt=pe?3:1,Ze=function(Vo){var nt=ke.find(function(Lt){var X=we.get(Lt);if(X)return X.slice(0,Vo).every(function(fs){return fs})});if(nt)return bt=nt,"break"},_o=Gt;_o>0;_o--){var Ho=Ze(_o);if(Ho==="break")break}c.placement!==bt&&(c.modifiersData[y]._skip=!0,c.placement=bt,c.reset=!0)}}const vte={name:"flip",enabled:!0,phase:"main",fn:Dde,requiresIfExists:["offset"],data:{_skip:!1}};function YQ(a,c,f){return f===void 0&&(f={x:0,y:0}),{top:a.top-c.height-f.y,right:a.right-c.width+f.x,bottom:a.bottom-c.height+f.y,left:a.left-c.width-f.x}}function KQ(a){return[um,wg,Eg,dm].some(function(c){return a[c]>=0})}function Mde(a){var c=a.state,f=a.name,y=c.rects.reference,C=c.rects.popper,w=c.modifiersData.preventOverflow,S=XO(c,{elementContext:"reference"}),M=XO(c,{altBoundary:!0}),P=YQ(S,y),G=YQ(M,C,w),j=KQ(P),J=KQ(G);c.modifiersData[f]={referenceClippingOffsets:P,popperEscapeOffsets:G,isReferenceHidden:j,hasPopperEscaped:J},c.attributes.popper=Object.assign({},c.attributes.popper,{"data-popper-reference-hidden":j,"data-popper-escaped":J})}const bte={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Mde};function Nde(a,c,f){var y=w0(a),C=[dm,um].indexOf(y)>=0?-1:1,w=typeof f=="function"?f(Object.assign({},c,{placement:a})):f,S=w[0],M=w[1];return S=S||0,M=(M||0)*C,[dm,wg].indexOf(y)>=0?{x:M,y:S}:{x:S,y:M}}function kde(a){var c=a.state,f=a.options,y=a.name,C=f.offset,w=C===void 0?[0,0]:C,S=CY.reduce(function(j,J){return j[J]=Nde(J,c.rects,w),j},{}),M=S[c.placement],P=M.x,G=M.y;c.modifiersData.popperOffsets!=null&&(c.modifiersData.popperOffsets.x+=P,c.modifiersData.popperOffsets.y+=G),c.modifiersData[y]=S}const yte={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:kde};function Pde(a){var c=a.state,f=a.name;c.modifiersData[f]=gte({reference:c.rects.reference,element:c.rects.popper,strategy:"absolute",placement:c.placement})}const kY={name:"popperOffsets",enabled:!0,phase:"read",fn:Pde,data:{}};function Lde(a){return a==="x"?"y":"x"}function $de(a){var c=a.state,f=a.options,y=a.name,C=f.mainAxis,w=C===void 0?!0:C,S=f.altAxis,M=S===void 0?!1:S,P=f.boundary,G=f.rootBoundary,j=f.altBoundary,J=f.padding,me=f.tether,ae=me===void 0?!0:me,pe=f.tetherOffset,fe=pe===void 0?0:pe,ue=XO(c,{boundary:P,rootBoundary:G,padding:J,altBoundary:j}),le=w0(c.placement),ve=KO(c.placement),ee=!ve,ke=OY(le),Ke=Lde(ke),V=c.modifiersData.popperOffsets,we=c.rects.reference,Ue=c.rects.popper,bt=typeof fe=="function"?fe(Object.assign({},c.rects,{placement:c.placement})):fe,It=typeof bt=="number"?{mainAxis:bt,altAxis:bt}:Object.assign({mainAxis:0,altAxis:0},bt),He=c.modifiersData.offset?c.modifiersData.offset[c.placement]:null,Te={x:0,y:0};if(V){if(w){var bn,Tt=ke==="y"?um:dm,Mt=ke==="y"?Eg:wg,F=ke==="y"?"height":"width",Nt=V[ke],rt=Nt+ue[Tt],Kt=Nt-ue[Mt],Gt=ae?-Ue[F]/2:0,Ze=ve===dx?we[F]:Ue[F],_o=ve===dx?-Ue[F]:-we[F],Ho=c.elements.arrow,lo=ae&&Ho?AY(Ho):{width:0,height:0},Vo=c.modifiersData["arrow#persistent"]?c.modifiersData["arrow#persistent"].padding:dte(),nt=Vo[Tt],Lt=Vo[Mt],X=JN(0,we[F],lo[F]),fs=ee?we[F]/2-Gt-X-nt-It.mainAxis:Ze-X-nt-It.mainAxis,po=ee?-we[F]/2+Gt+X+Lt+It.mainAxis:_o+X+Lt+It.mainAxis,Rs=c.elements.arrow&&ck(c.elements.arrow),as=Rs?ke==="y"?Rs.clientTop||0:Rs.clientLeft||0:0,Ia=(bn=He==null?void 0:He[ke])!=null?bn:0,Fn=Nt+fs-Ia-as,ko=Nt+po-Ia,en=JN(ae?NH(rt,Fn):rt,Nt,ae?ux(Kt,ko):Kt);V[ke]=en,Te[ke]=en-Nt}if(M){var Ge,Gc=ke==="x"?um:dm,va=ke==="x"?Eg:wg,Dn=V[Ke],ri=Ke==="y"?"height":"width",Us=Dn+ue[Gc],jc=Dn-ue[va],Is=[um,dm].indexOf(le)!==-1,zr=(Ge=He==null?void 0:He[Ke])!=null?Ge:0,lc=Is?Us:Dn-we[ri]-Ue[ri]-zr+It.altAxis,Ya=Is?Dn+we[ri]+Ue[ri]-zr-It.altAxis:jc,Or=ae&&Is?mde(lc,Dn,Ya):JN(ae?lc:Us,Dn,ae?Ya:jc);V[Ke]=Or,Te[Ke]=Or-Dn}c.modifiersData[y]=Te}}const _te={name:"preventOverflow",enabled:!0,phase:"main",fn:$de,requiresIfExists:["offset"]};function Bde(a){return{scrollLeft:a.scrollLeft,scrollTop:a.scrollTop}}function Fde(a){return a===Tg(a)||!Bv(a)?DY(a):Bde(a)}function Hde(a){var c=a.getBoundingClientRect(),f=ZO(c.width)/a.offsetWidth||1,y=ZO(c.height)/a.offsetHeight||1;return f!==1||y!==1}function Vde(a,c,f){f===void 0&&(f=!1);var y=Bv(c),C=Bv(c)&&Hde(c),w=Ww(c),S=YO(a,C,f),M={scrollLeft:0,scrollTop:0},P={x:0,y:0};return(y||!y&&!f)&&((C0(c)!=="body"||NY(w))&&(M=Fde(c)),Bv(c)?(P=YO(c,!0),P.x+=c.clientLeft,P.y+=c.clientTop):w&&(P.x=MY(w))),{x:S.left+M.scrollLeft-P.x,y:S.top+M.scrollTop-P.y,width:S.width,height:S.height}}function zde(a){var c=new Map,f=new Set,y=[];a.forEach(function(w){c.set(w.name,w)});function C(w){f.add(w.name);var S=[].concat(w.requires||[],w.requiresIfExists||[]);S.forEach(function(M){if(!f.has(M)){var P=c.get(M);P&&C(P)}}),y.push(w)}return a.forEach(function(w){f.has(w.name)||C(w)}),y}function Ude(a){var c=zde(a);return cte.reduce(function(f,y){return f.concat(c.filter(function(C){return C.phase===y}))},[])}function Wde(a){var c;return function(){return c||(c=new Promise(function(f){Promise.resolve().then(function(){c=void 0,f(a())})})),c}}function Gde(a){var c=a.reduce(function(f,y){var C=f[y.name];return f[y.name]=C?Object.assign({},C,y,{options:Object.assign({},C.options,y.options),data:Object.assign({},C.data,y.data)}):y,f},{});return Object.keys(c).map(function(f){return c[f]})}var XQ={placement:"bottom",modifiers:[],strategy:"absolute"};function QQ(){for(var a=arguments.length,c=new Array(a),f=0;f<a;f++)c[f]=arguments[f];return!c.some(function(y){return!(y&&typeof y.getBoundingClientRect=="function")})}function XH(a){a===void 0&&(a={});var c=a,f=c.defaultModifiers,y=f===void 0?[]:f,C=c.defaultOptions,w=C===void 0?XQ:C;return function(M,P,G){G===void 0&&(G=w);var j={placement:"bottom",orderedModifiers:[],options:Object.assign({},XQ,w),modifiersData:{},elements:{reference:M,popper:P},attributes:{},styles:{}},J=[],me=!1,ae={state:j,setOptions:function(le){var ve=typeof le=="function"?le(j.options):le;fe(),j.options=Object.assign({},w,j.options,ve),j.scrollParents={reference:fx(M)?ek(M):M.contextElement?ek(M.contextElement):[],popper:ek(P)};var ee=Ude(Gde([].concat(y,j.options.modifiers)));return j.orderedModifiers=ee.filter(function(ke){return ke.enabled}),pe(),ae.update()},forceUpdate:function(){if(!me){var le=j.elements,ve=le.reference,ee=le.popper;if(QQ(ve,ee)){j.rects={reference:Vde(ve,ck(ee),j.options.strategy==="fixed"),popper:AY(ee)},j.reset=!1,j.placement=j.options.placement,j.orderedModifiers.forEach(function(It){return j.modifiersData[It.name]=Object.assign({},It.data)});for(var ke=0;ke<j.orderedModifiers.length;ke++){if(j.reset===!0){j.reset=!1,ke=-1;continue}var Ke=j.orderedModifiers[ke],V=Ke.fn,we=Ke.options,Ue=we===void 0?{}:we,bt=Ke.name;typeof V=="function"&&(j=V({state:j,options:Ue,name:bt,instance:ae})||j)}}}},update:Wde(function(){return new Promise(function(ue){ae.forceUpdate(),ue(j)})}),destroy:function(){fe(),me=!0}};if(!QQ(M,P))return ae;ae.setOptions(G).then(function(ue){!me&&G.onFirstUpdate&&G.onFirstUpdate(ue)});function pe(){j.orderedModifiers.forEach(function(ue){var le=ue.name,ve=ue.options,ee=ve===void 0?{}:ve,ke=ue.effect;if(typeof ke=="function"){var Ke=ke({state:j,name:le,instance:ae,options:ee}),V=function(){};J.push(Ke||V)}})}function fe(){J.forEach(function(ue){return ue()}),J=[]}return ae}}var jde=XH(),qde=[IY,kY,RY,xY],Zde=XH({defaultModifiers:qde}),Yde=[IY,kY,RY,xY,yte,vte,_te,mte,bte],PY=XH({defaultModifiers:Yde});const Ete=Object.freeze(Object.defineProperty({__proto__:null,afterMain:ste,afterRead:tte,afterWrite:ate,applyStyles:xY,arrow:mte,auto:YH,basePlacements:rR,beforeMain:nte,beforeRead:Jee,beforeWrite:rte,bottom:Eg,clippingParents:Xee,computeStyles:RY,createPopper:PY,createPopperBase:jde,createPopperLite:Zde,detectOverflow:XO,end:qO,eventListeners:IY,flip:vte,hide:bte,left:dm,main:ote,modifierPhases:cte,offset:yte,placements:CY,popper:MO,popperGenerator:XH,popperOffsets:kY,preventOverflow:_te,read:ete,reference:Qee,right:wg,start:dx,top:um,variationPlacements:ZZ,viewport:TY,write:ite},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.0-alpha3 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Lw=new Map,uZ={set(a,c,f){Lw.has(a)||Lw.set(a,new Map);const y=Lw.get(a);if(!y.has(c)&&y.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(y.keys())[0]}.`);return}y.set(c,f)},get(a,c){return Lw.has(a)&&Lw.get(a).get(c)||null},remove(a,c){if(!Lw.has(a))return;const f=Lw.get(a);f.delete(c),f.size===0&&Lw.delete(a)}},Kde=1e6,Xde=1e3,XZ="transitionend",wte=a=>(a&&window.CSS&&window.CSS.escape&&(a=a.replace(/#([^\s"#']+)/g,(c,f)=>`#${CSS.escape(f)}`)),a),Qde=a=>a==null?`${a}`:Object.prototype.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase(),Jde=a=>{do a+=Math.floor(Math.random()*Kde);while(document.getElementById(a));return a},efe=a=>{if(!a)return 0;let{transitionDuration:c,transitionDelay:f}=window.getComputedStyle(a);const y=Number.parseFloat(c),C=Number.parseFloat(f);return!y&&!C?0:(c=c.split(",")[0],f=f.split(",")[0],(Number.parseFloat(c)+Number.parseFloat(f))*Xde)},Tte=a=>{a.dispatchEvent(new Event(XZ))},E_=a=>!a||typeof a!="object"?!1:(typeof a.jquery<"u"&&(a=a[0]),typeof a.nodeType<"u"),Vw=a=>E_(a)?a.jquery?a[0]:a:typeof a=="string"&&a.length>0?document.querySelector(wte(a)):null,iR=a=>{if(!E_(a)||a.getClientRects().length===0)return!1;const c=getComputedStyle(a).getPropertyValue("visibility")==="visible",f=a.closest("details:not([open])");if(!f)return c;if(f!==a){const y=a.closest("summary");if(y&&y.parentNode!==f||y===null)return!1}return c},zw=a=>!a||a.nodeType!==Node.ELEMENT_NODE||a.classList.contains("disabled")?!0:typeof a.disabled<"u"?a.disabled:a.hasAttribute("disabled")&&a.getAttribute("disabled")!=="false",Cte=a=>{if(!document.documentElement.attachShadow)return null;if(typeof a.getRootNode=="function"){const c=a.getRootNode();return c instanceof ShadowRoot?c:null}return a instanceof ShadowRoot?a:a.parentNode?Cte(a.parentNode):null},kH=()=>{},lk=a=>{a.offsetHeight},Ste=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,dZ=[],tfe=a=>{document.readyState==="loading"?(dZ.length||document.addEventListener("DOMContentLoaded",()=>{for(const c of dZ)c()}),dZ.push(a)):a()},Fv=()=>document.documentElement.dir==="rtl",Vv=a=>{tfe(()=>{const c=Ste();if(c){const f=a.NAME,y=c.fn[f];c.fn[f]=a.jQueryInterface,c.fn[f].Constructor=a,c.fn[f].noConflict=()=>(c.fn[f]=y,a.jQueryInterface)}})},pp=(a,c=[],f=a)=>typeof a=="function"?a(...c):f,xte=(a,c,f=!0)=>{if(!f){pp(a);return}const y=5,C=efe(c)+y;let w=!1;const S=({target:M})=>{M===c&&(w=!0,c.removeEventListener(XZ,S),pp(a))};c.addEventListener(XZ,S),setTimeout(()=>{w||Tte(c)},C)},LY=(a,c,f,y)=>{const C=a.length;let w=a.indexOf(c);return w===-1?!f&&y?a[C-1]:a[0]:(w+=f?1:-1,y&&(w=(w+C)%C),a[Math.max(0,Math.min(w,C-1))])},nfe=/[^.]*(?=\..*)\.|.*/,ofe=/\..*/,sfe=/::\d+$/,fZ={};let JQ=1;const Ate={mouseenter:"mouseover",mouseleave:"mouseout"},rfe=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Ote(a,c){return c&&`${c}::${JQ++}`||a.uidEvent||JQ++}function Rte(a){const c=Ote(a);return a.uidEvent=c,fZ[c]=fZ[c]||{},fZ[c]}function ife(a,c){return function f(y){return $Y(y,{delegateTarget:a}),f.oneOff&&Cn.off(a,y.type,c),c.apply(a,[y])}}function afe(a,c,f){return function y(C){const w=a.querySelectorAll(c);for(let{target:S}=C;S&&S!==this;S=S.parentNode)for(const M of w)if(M===S)return $Y(C,{delegateTarget:S}),y.oneOff&&Cn.off(a,C.type,c,f),f.apply(S,[C])}}function Ite(a,c,f=null){return Object.values(a).find(y=>y.callable===c&&y.delegationSelector===f)}function Dte(a,c,f){const y=typeof c=="string",C=y?f:c||f;let w=Mte(a);return rfe.has(w)||(w=a),[y,C,w]}function eJ(a,c,f,y,C){if(typeof c!="string"||!a)return;let[w,S,M]=Dte(c,f,y);c in Ate&&(S=(pe=>function(fe){if(!fe.relatedTarget||fe.relatedTarget!==fe.delegateTarget&&!fe.delegateTarget.contains(fe.relatedTarget))return pe.call(this,fe)})(S));const P=Rte(a),G=P[M]||(P[M]={}),j=Ite(G,S,w?f:null);if(j){j.oneOff=j.oneOff&&C;return}const J=Ote(S,c.replace(nfe,"")),me=w?afe(a,f,S):ife(a,S);me.delegationSelector=w?f:null,me.callable=S,me.oneOff=C,me.uidEvent=J,G[J]=me,a.addEventListener(M,me,w)}function QZ(a,c,f,y,C){const w=Ite(c[f],y,C);w&&(a.removeEventListener(f,w,!!C),delete c[f][w.uidEvent])}function cfe(a,c,f,y){const C=c[f]||{};for(const[w,S]of Object.entries(C))w.includes(y)&&QZ(a,c,f,S.callable,S.delegationSelector)}function Mte(a){return a=a.replace(ofe,""),Ate[a]||a}const Cn={on(a,c,f,y){eJ(a,c,f,y,!1)},one(a,c,f,y){eJ(a,c,f,y,!0)},off(a,c,f,y){if(typeof c!="string"||!a)return;const[C,w,S]=Dte(c,f,y),M=S!==c,P=Rte(a),G=P[S]||{},j=c.startsWith(".");if(typeof w<"u"){if(!Object.keys(G).length)return;QZ(a,P,S,w,C?f:null);return}if(j)for(const J of Object.keys(P))cfe(a,P,J,c.slice(1));for(const[J,me]of Object.entries(G)){const ae=J.replace(sfe,"");(!M||c.includes(ae))&&QZ(a,P,S,me.callable,me.delegationSelector)}},trigger(a,c,f){if(typeof c!="string"||!a)return null;const y=Ste(),C=Mte(c),w=c!==C;let S=null,M=!0,P=!0,G=!1;w&&y&&(S=y.Event(c,f),y(a).trigger(S),M=!S.isPropagationStopped(),P=!S.isImmediatePropagationStopped(),G=S.isDefaultPrevented());const j=$Y(new Event(c,{bubbles:M,cancelable:!0}),f);return G&&j.preventDefault(),P&&a.dispatchEvent(j),j.defaultPrevented&&S&&S.preventDefault(),j}};function $Y(a,c={}){for(const[f,y]of Object.entries(c))try{a[f]=y}catch{Object.defineProperty(a,f,{configurable:!0,get(){return y}})}return a}function tJ(a){if(a==="true")return!0;if(a==="false")return!1;if(a===Number(a).toString())return Number(a);if(a===""||a==="null")return null;if(typeof a!="string")return a;try{return JSON.parse(decodeURIComponent(a))}catch{return a}}function hZ(a){return a.replace(/[A-Z]/g,c=>`-${c.toLowerCase()}`)}const w_={setDataAttribute(a,c,f){a.setAttribute(`data-bs-${hZ(c)}`,f)},removeDataAttribute(a,c){a.removeAttribute(`data-bs-${hZ(c)}`)},getDataAttributes(a){if(!a)return{};const c={},f=Object.keys(a.dataset).filter(y=>y.startsWith("bs")&&!y.startsWith("bsConfig"));for(const y of f){let C=y.replace(/^bs/,"");C=C.charAt(0).toLowerCase()+C.slice(1,C.length),c[C]=tJ(a.dataset[y])}return c},getDataAttribute(a,c){return tJ(a.getAttribute(`data-bs-${hZ(c)}`))}};class uk{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(c){return c=this._mergeConfigObj(c),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}_configAfterMerge(c){return c}_mergeConfigObj(c,f){const y=E_(f)?w_.getDataAttribute(f,"config"):{};return{...this.constructor.Default,...typeof y=="object"?y:{},...E_(f)?w_.getDataAttributes(f):{},...typeof c=="object"?c:{}}}_typeCheckConfig(c,f=this.constructor.DefaultType){for(const[y,C]of Object.entries(f)){const w=c[y],S=E_(w)?"element":Qde(w);if(!new RegExp(C).test(S))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${y}" provided type "${S}" but expected type "${C}".`)}}}const lfe="5.3.0-alpha2";class ob extends uk{constructor(c,f){super(),c=Vw(c),c&&(this._element=c,this._config=this._getConfig(f),uZ.set(this._element,this.constructor.DATA_KEY,this))}dispose(){uZ.remove(this._element,this.constructor.DATA_KEY),Cn.off(this._element,this.constructor.EVENT_KEY);for(const c of Object.getOwnPropertyNames(this))this[c]=null}_queueCallback(c,f,y=!0){xte(c,f,y)}_getConfig(c){return c=this._mergeConfigObj(c,this._element),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}static getInstance(c){return uZ.get(Vw(c),this.DATA_KEY)}static getOrCreateInstance(c,f={}){return this.getInstance(c)||new this(c,typeof f=="object"?f:null)}static get VERSION(){return lfe}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(c){return`${c}${this.EVENT_KEY}`}}const mZ=a=>{let c=a.getAttribute("data-bs-target");if(!c||c==="#"){let f=a.getAttribute("href");if(!f||!f.includes("#")&&!f.startsWith("."))return null;f.includes("#")&&!f.startsWith("#")&&(f=`#${f.split("#")[1]}`),c=f&&f!=="#"?f.trim():null}return wte(c)},ds={find(a,c=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(c,a))},findOne(a,c=document.documentElement){return Element.prototype.querySelector.call(c,a)},children(a,c){return[].concat(...a.children).filter(f=>f.matches(c))},parents(a,c){const f=[];let y=a.parentNode.closest(c);for(;y;)f.push(y),y=y.parentNode.closest(c);return f},prev(a,c){let f=a.previousElementSibling;for(;f;){if(f.matches(c))return[f];f=f.previousElementSibling}return[]},next(a,c){let f=a.nextElementSibling;for(;f;){if(f.matches(c))return[f];f=f.nextElementSibling}return[]},focusableChildren(a){const c=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(f=>`${f}:not([tabindex^="-"])`).join(",");return this.find(c,a).filter(f=>!zw(f)&&iR(f))},getSelectorFromElement(a){const c=mZ(a);return c&&ds.findOne(c)?c:null},getElementFromSelector(a){const c=mZ(a);return c?ds.findOne(c):null},getMultipleElementsFromSelector(a){const c=mZ(a);return c?ds.find(c):[]}},QH=(a,c="hide")=>{const f=`click.dismiss${a.EVENT_KEY}`,y=a.NAME;Cn.on(document,f,`[data-bs-dismiss="${y}"]`,function(C){if(["A","AREA"].includes(this.tagName)&&C.preventDefault(),zw(this))return;const w=ds.getElementFromSelector(this)||this.closest(`.${y}`);a.getOrCreateInstance(w)[c]()})},ufe="alert",dfe="bs.alert",Nte=`.${dfe}`,ffe=`close${Nte}`,hfe=`closed${Nte}`,mfe="fade",pfe="show";class JH extends ob{static get NAME(){return ufe}close(){if(Cn.trigger(this._element,ffe).defaultPrevented)return;this._element.classList.remove(pfe);const f=this._element.classList.contains(mfe);this._queueCallback(()=>this._destroyElement(),this._element,f)}_destroyElement(){this._element.remove(),Cn.trigger(this._element,hfe),this.dispose()}static jQueryInterface(c){return this.each(function(){const f=JH.getOrCreateInstance(this);if(typeof c=="string"){if(f[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);f[c](this)}})}}QH(JH,"close");Vv(JH);const gfe="button",vfe="bs.button",bfe=`.${vfe}`,yfe=".data-api",_fe="active",nJ='[data-bs-toggle="button"]',Efe=`click${bfe}${yfe}`;class e6 extends ob{static get NAME(){return gfe}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(_fe))}static jQueryInterface(c){return this.each(function(){const f=e6.getOrCreateInstance(this);c==="toggle"&&f[c]()})}}Cn.on(document,Efe,nJ,a=>{a.preventDefault();const c=a.target.closest(nJ);e6.getOrCreateInstance(c).toggle()});Vv(e6);const wfe="swipe",aR=".bs.swipe",Tfe=`touchstart${aR}`,Cfe=`touchmove${aR}`,Sfe=`touchend${aR}`,xfe=`pointerdown${aR}`,Afe=`pointerup${aR}`,Ofe="touch",Rfe="pen",Ife="pointer-event",Dfe=40,Mfe={endCallback:null,leftCallback:null,rightCallback:null},Nfe={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class PH extends uk{constructor(c,f){super(),this._element=c,!(!c||!PH.isSupported())&&(this._config=this._getConfig(f),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Mfe}static get DefaultType(){return Nfe}static get NAME(){return wfe}dispose(){Cn.off(this._element,aR)}_start(c){if(!this._supportPointerEvents){this._deltaX=c.touches[0].clientX;return}this._eventIsPointerPenTouch(c)&&(this._deltaX=c.clientX)}_end(c){this._eventIsPointerPenTouch(c)&&(this._deltaX=c.clientX-this._deltaX),this._handleSwipe(),pp(this._config.endCallback)}_move(c){this._deltaX=c.touches&&c.touches.length>1?0:c.touches[0].clientX-this._deltaX}_handleSwipe(){const c=Math.abs(this._deltaX);if(c<=Dfe)return;const f=c/this._deltaX;this._deltaX=0,f&&pp(f>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Cn.on(this._element,xfe,c=>this._start(c)),Cn.on(this._element,Afe,c=>this._end(c)),this._element.classList.add(Ife)):(Cn.on(this._element,Tfe,c=>this._start(c)),Cn.on(this._element,Cfe,c=>this._move(c)),Cn.on(this._element,Sfe,c=>this._end(c)))}_eventIsPointerPenTouch(c){return this._supportPointerEvents&&(c.pointerType===Rfe||c.pointerType===Ofe)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const kfe="carousel",Pfe="bs.carousel",Gw=`.${Pfe}`,kte=".data-api",Lfe="ArrowLeft",$fe="ArrowRight",Bfe=500,ZN="next",IO="prev",NO="left",gH="right",Ffe=`slide${Gw}`,pZ=`slid${Gw}`,Hfe=`keydown${Gw}`,Vfe=`mouseenter${Gw}`,zfe=`mouseleave${Gw}`,Ufe=`dragstart${Gw}`,Wfe=`load${Gw}${kte}`,Gfe=`click${Gw}${kte}`,Pte="carousel",Q5="active",jfe="slide",qfe="carousel-item-end",Zfe="carousel-item-start",Yfe="carousel-item-next",Kfe="carousel-item-prev",Lte=".active",$te=".carousel-item",Xfe=Lte+$te,Qfe=".carousel-item img",Jfe=".carousel-indicators",ehe="[data-bs-slide], [data-bs-slide-to]",the='[data-bs-ride="carousel"]',nhe={[Lfe]:gH,[$fe]:NO},ohe={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},she={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class dk extends ob{constructor(c,f){super(c,f),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ds.findOne(Jfe,this._element),this._addEventListeners(),this._config.ride===Pte&&this.cycle()}static get Default(){return ohe}static get DefaultType(){return she}static get NAME(){return kfe}next(){this._slide(ZN)}nextWhenVisible(){!document.hidden&&iR(this._element)&&this.next()}prev(){this._slide(IO)}pause(){this._isSliding&&Tte(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){Cn.one(this._element,pZ,()=>this.cycle());return}this.cycle()}}to(c){const f=this._getItems();if(c>f.length-1||c<0)return;if(this._isSliding){Cn.one(this._element,pZ,()=>this.to(c));return}const y=this._getItemIndex(this._getActive());if(y===c)return;const C=c>y?ZN:IO;this._slide(C,f[c])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(c){return c.defaultInterval=c.interval,c}_addEventListeners(){this._config.keyboard&&Cn.on(this._element,Hfe,c=>this._keydown(c)),this._config.pause==="hover"&&(Cn.on(this._element,Vfe,()=>this.pause()),Cn.on(this._element,zfe,()=>this._maybeEnableCycle())),this._config.touch&&PH.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const y of ds.find(Qfe,this._element))Cn.on(y,Ufe,C=>C.preventDefault());const f={leftCallback:()=>this._slide(this._directionToOrder(NO)),rightCallback:()=>this._slide(this._directionToOrder(gH)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Bfe+this._config.interval))}};this._swipeHelper=new PH(this._element,f)}_keydown(c){if(/input|textarea/i.test(c.target.tagName))return;const f=nhe[c.key];f&&(c.preventDefault(),this._slide(this._directionToOrder(f)))}_getItemIndex(c){return this._getItems().indexOf(c)}_setActiveIndicatorElement(c){if(!this._indicatorsElement)return;const f=ds.findOne(Lte,this._indicatorsElement);f.classList.remove(Q5),f.removeAttribute("aria-current");const y=ds.findOne(`[data-bs-slide-to="${c}"]`,this._indicatorsElement);y&&(y.classList.add(Q5),y.setAttribute("aria-current","true"))}_updateInterval(){const c=this._activeElement||this._getActive();if(!c)return;const f=Number.parseInt(c.getAttribute("data-bs-interval"),10);this._config.interval=f||this._config.defaultInterval}_slide(c,f=null){if(this._isSliding)return;const y=this._getActive(),C=c===ZN,w=f||LY(this._getItems(),y,C,this._config.wrap);if(w===y)return;const S=this._getItemIndex(w),M=ae=>Cn.trigger(this._element,ae,{relatedTarget:w,direction:this._orderToDirection(c),from:this._getItemIndex(y),to:S});if(M(Ffe).defaultPrevented||!y||!w)return;const G=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(S),this._activeElement=w;const j=C?Zfe:qfe,J=C?Yfe:Kfe;w.classList.add(J),lk(w),y.classList.add(j),w.classList.add(j);const me=()=>{w.classList.remove(j,J),w.classList.add(Q5),y.classList.remove(Q5,J,j),this._isSliding=!1,M(pZ)};this._queueCallback(me,y,this._isAnimated()),G&&this.cycle()}_isAnimated(){return this._element.classList.contains(jfe)}_getActive(){return ds.findOne(Xfe,this._element)}_getItems(){return ds.find($te,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(c){return Fv()?c===NO?IO:ZN:c===NO?ZN:IO}_orderToDirection(c){return Fv()?c===IO?NO:gH:c===IO?gH:NO}static jQueryInterface(c){return this.each(function(){const f=dk.getOrCreateInstance(this,c);if(typeof c=="number"){f.to(c);return}if(typeof c=="string"){if(f[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);f[c]()}})}}Cn.on(document,Gfe,ehe,function(a){const c=ds.getElementFromSelector(this);if(!c||!c.classList.contains(Pte))return;a.preventDefault();const f=dk.getOrCreateInstance(c),y=this.getAttribute("data-bs-slide-to");if(y){f.to(y),f._maybeEnableCycle();return}if(w_.getDataAttribute(this,"slide")==="next"){f.next(),f._maybeEnableCycle();return}f.prev(),f._maybeEnableCycle()});Cn.on(window,Wfe,()=>{const a=ds.find(the);for(const c of a)dk.getOrCreateInstance(c)});Vv(dk);const rhe="collapse",ihe="bs.collapse",fk=`.${ihe}`,ahe=".data-api",che=`show${fk}`,lhe=`shown${fk}`,uhe=`hide${fk}`,dhe=`hidden${fk}`,fhe=`click${fk}${ahe}`,gZ="show",FO="collapse",J5="collapsing",hhe="collapsed",mhe=`:scope .${FO} .${FO}`,phe="collapse-horizontal",ghe="width",vhe="height",bhe=".collapse.show, .collapse.collapsing",JZ='[data-bs-toggle="collapse"]',yhe={parent:null,toggle:!0},_he={parent:"(null|element)",toggle:"boolean"};class sk extends ob{constructor(c,f){super(c,f),this._isTransitioning=!1,this._triggerArray=[];const y=ds.find(JZ);for(const C of y){const w=ds.getSelectorFromElement(C),S=ds.find(w).filter(M=>M===this._element);w!==null&&S.length&&this._triggerArray.push(C)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return yhe}static get DefaultType(){return _he}static get NAME(){return rhe}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let c=[];if(this._config.parent&&(c=this._getFirstLevelChildren(bhe).filter(M=>M!==this._element).map(M=>sk.getOrCreateInstance(M,{toggle:!1}))),c.length&&c[0]._isTransitioning||Cn.trigger(this._element,che).defaultPrevented)return;for(const M of c)M.hide();const y=this._getDimension();this._element.classList.remove(FO),this._element.classList.add(J5),this._element.style[y]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const C=()=>{this._isTransitioning=!1,this._element.classList.remove(J5),this._element.classList.add(FO,gZ),this._element.style[y]="",Cn.trigger(this._element,lhe)},S=`scroll${y[0].toUpperCase()+y.slice(1)}`;this._queueCallback(C,this._element,!0),this._element.style[y]=`${this._element[S]}px`}hide(){if(this._isTransitioning||!this._isShown()||Cn.trigger(this._element,uhe).defaultPrevented)return;const f=this._getDimension();this._element.style[f]=`${this._element.getBoundingClientRect()[f]}px`,lk(this._element),this._element.classList.add(J5),this._element.classList.remove(FO,gZ);for(const C of this._triggerArray){const w=ds.getElementFromSelector(C);w&&!this._isShown(w)&&this._addAriaAndCollapsedClass([C],!1)}this._isTransitioning=!0;const y=()=>{this._isTransitioning=!1,this._element.classList.remove(J5),this._element.classList.add(FO),Cn.trigger(this._element,dhe)};this._element.style[f]="",this._queueCallback(y,this._element,!0)}_isShown(c=this._element){return c.classList.contains(gZ)}_configAfterMerge(c){return c.toggle=!!c.toggle,c.parent=Vw(c.parent),c}_getDimension(){return this._element.classList.contains(phe)?ghe:vhe}_initializeChildren(){if(!this._config.parent)return;const c=this._getFirstLevelChildren(JZ);for(const f of c){const y=ds.getElementFromSelector(f);y&&this._addAriaAndCollapsedClass([f],this._isShown(y))}}_getFirstLevelChildren(c){const f=ds.find(mhe,this._config.parent);return ds.find(c,this._config.parent).filter(y=>!f.includes(y))}_addAriaAndCollapsedClass(c,f){if(c.length)for(const y of c)y.classList.toggle(hhe,!f),y.setAttribute("aria-expanded",f)}static jQueryInterface(c){const f={};return typeof c=="string"&&/show|hide/.test(c)&&(f.toggle=!1),this.each(function(){const y=sk.getOrCreateInstance(this,f);if(typeof c=="string"){if(typeof y[c]>"u")throw new TypeError(`No method named "${c}"`);y[c]()}})}}Cn.on(document,fhe,JZ,function(a){(a.target.tagName==="A"||a.delegateTarget&&a.delegateTarget.tagName==="A")&&a.preventDefault();for(const c of ds.getMultipleElementsFromSelector(this))sk.getOrCreateInstance(c,{toggle:!1}).toggle()});Vv(sk);const oJ="dropdown",Ehe="bs.dropdown",gx=`.${Ehe}`,BY=".data-api",whe="Escape",sJ="Tab",The="ArrowUp",rJ="ArrowDown",Che=2,She=`hide${gx}`,xhe=`hidden${gx}`,Ahe=`show${gx}`,Ohe=`shown${gx}`,Bte=`click${gx}${BY}`,Fte=`keydown${gx}${BY}`,Rhe=`keyup${gx}${BY}`,kO="show",Ihe="dropup",Dhe="dropend",Mhe="dropstart",Nhe="dropup-center",khe="dropdown-center",rx='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Phe=`${rx}.${kO}`,vH=".dropdown-menu",Lhe=".navbar",$he=".navbar-nav",Bhe=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Fhe=Fv()?"top-end":"top-start",Hhe=Fv()?"top-start":"top-end",Vhe=Fv()?"bottom-end":"bottom-start",zhe=Fv()?"bottom-start":"bottom-end",Uhe=Fv()?"left-start":"right-start",Whe=Fv()?"right-start":"left-start",Ghe="top",jhe="bottom",qhe={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Zhe={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class T0 extends ob{constructor(c,f){super(c,f),this._popper=null,this._parent=this._element.parentNode,this._menu=ds.next(this._element,vH)[0]||ds.prev(this._element,vH)[0]||ds.findOne(vH,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return qhe}static get DefaultType(){return Zhe}static get NAME(){return oJ}toggle(){return this._isShown()?this.hide():this.show()}show(){if(zw(this._element)||this._isShown())return;const c={relatedTarget:this._element};if(!Cn.trigger(this._element,Ahe,c).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest($he))for(const y of[].concat(...document.body.children))Cn.on(y,"mouseover",kH);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(kO),this._element.classList.add(kO),Cn.trigger(this._element,Ohe,c)}}hide(){if(zw(this._element)||!this._isShown())return;const c={relatedTarget:this._element};this._completeHide(c)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(c){if(!Cn.trigger(this._element,She,c).defaultPrevented){if("ontouchstart"in document.documentElement)for(const y of[].concat(...document.body.children))Cn.off(y,"mouseover",kH);this._popper&&this._popper.destroy(),this._menu.classList.remove(kO),this._element.classList.remove(kO),this._element.setAttribute("aria-expanded","false"),w_.removeDataAttribute(this._menu,"popper"),Cn.trigger(this._element,xhe,c)}}_getConfig(c){if(c=super._getConfig(c),typeof c.reference=="object"&&!E_(c.reference)&&typeof c.reference.getBoundingClientRect!="function")throw new TypeError(`${oJ.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return c}_createPopper(){if(typeof Ete>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let c=this._element;this._config.reference==="parent"?c=this._parent:E_(this._config.reference)?c=Vw(this._config.reference):typeof this._config.reference=="object"&&(c=this._config.reference);const f=this._getPopperConfig();this._popper=PY(c,this._menu,f)}_isShown(){return this._menu.classList.contains(kO)}_getPlacement(){const c=this._parent;if(c.classList.contains(Dhe))return Uhe;if(c.classList.contains(Mhe))return Whe;if(c.classList.contains(Nhe))return Ghe;if(c.classList.contains(khe))return jhe;const f=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return c.classList.contains(Ihe)?f?Hhe:Fhe:f?zhe:Vhe}_detectNavbar(){return this._element.closest(Lhe)!==null}_getOffset(){const{offset:c}=this._config;return typeof c=="string"?c.split(",").map(f=>Number.parseInt(f,10)):typeof c=="function"?f=>c(f,this._element):c}_getPopperConfig(){const c={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(w_.setDataAttribute(this._menu,"popper","static"),c.modifiers=[{name:"applyStyles",enabled:!1}]),{...c,...pp(this._config.popperConfig,[c])}}_selectMenuItem({key:c,target:f}){const y=ds.find(Bhe,this._menu).filter(C=>iR(C));y.length&&LY(y,f,c===rJ,!y.includes(f)).focus()}static jQueryInterface(c){return this.each(function(){const f=T0.getOrCreateInstance(this,c);if(typeof c=="string"){if(typeof f[c]>"u")throw new TypeError(`No method named "${c}"`);f[c]()}})}static clearMenus(c){if(c.button===Che||c.type==="keyup"&&c.key!==sJ)return;const f=ds.find(Phe);for(const y of f){const C=T0.getInstance(y);if(!C||C._config.autoClose===!1)continue;const w=c.composedPath(),S=w.includes(C._menu);if(w.includes(C._element)||C._config.autoClose==="inside"&&!S||C._config.autoClose==="outside"&&S||C._menu.contains(c.target)&&(c.type==="keyup"&&c.key===sJ||/input|select|option|textarea|form/i.test(c.target.tagName)))continue;const M={relatedTarget:C._element};c.type==="click"&&(M.clickEvent=c),C._completeHide(M)}}static dataApiKeydownHandler(c){const f=/input|textarea/i.test(c.target.tagName),y=c.key===whe,C=[The,rJ].includes(c.key);if(!C&&!y||f&&!y)return;c.preventDefault();const w=this.matches(rx)?this:ds.prev(this,rx)[0]||ds.next(this,rx)[0]||ds.findOne(rx,c.delegateTarget.parentNode),S=T0.getOrCreateInstance(w);if(C){c.stopPropagation(),S.show(),S._selectMenuItem(c);return}S._isShown()&&(c.stopPropagation(),S.hide(),w.focus())}}Cn.on(document,Fte,rx,T0.dataApiKeydownHandler);Cn.on(document,Fte,vH,T0.dataApiKeydownHandler);Cn.on(document,Bte,T0.clearMenus);Cn.on(document,Rhe,T0.clearMenus);Cn.on(document,Bte,rx,function(a){a.preventDefault(),T0.getOrCreateInstance(this).toggle()});Vv(T0);const Hte="backdrop",Yhe="fade",iJ="show",aJ=`mousedown.bs.${Hte}`,Khe={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Xhe={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Vte extends uk{constructor(c){super(),this._config=this._getConfig(c),this._isAppended=!1,this._element=null}static get Default(){return Khe}static get DefaultType(){return Xhe}static get NAME(){return Hte}show(c){if(!this._config.isVisible){pp(c);return}this._append();const f=this._getElement();this._config.isAnimated&&lk(f),f.classList.add(iJ),this._emulateAnimation(()=>{pp(c)})}hide(c){if(!this._config.isVisible){pp(c);return}this._getElement().classList.remove(iJ),this._emulateAnimation(()=>{this.dispose(),pp(c)})}dispose(){this._isAppended&&(Cn.off(this._element,aJ),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const c=document.createElement("div");c.className=this._config.className,this._config.isAnimated&&c.classList.add(Yhe),this._element=c}return this._element}_configAfterMerge(c){return c.rootElement=Vw(c.rootElement),c}_append(){if(this._isAppended)return;const c=this._getElement();this._config.rootElement.append(c),Cn.on(c,aJ,()=>{pp(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(c){xte(c,this._getElement(),this._config.isAnimated)}}const Qhe="focustrap",Jhe="bs.focustrap",LH=`.${Jhe}`,eme=`focusin${LH}`,tme=`keydown.tab${LH}`,nme="Tab",ome="forward",cJ="backward",sme={autofocus:!0,trapElement:null},rme={autofocus:"boolean",trapElement:"element"};class zte extends uk{constructor(c){super(),this._config=this._getConfig(c),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return sme}static get DefaultType(){return rme}static get NAME(){return Qhe}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Cn.off(document,LH),Cn.on(document,eme,c=>this._handleFocusin(c)),Cn.on(document,tme,c=>this._handleKeydown(c)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Cn.off(document,LH))}_handleFocusin(c){const{trapElement:f}=this._config;if(c.target===document||c.target===f||f.contains(c.target))return;const y=ds.focusableChildren(f);y.length===0?f.focus():this._lastTabNavDirection===cJ?y[y.length-1].focus():y[0].focus()}_handleKeydown(c){c.key===nme&&(this._lastTabNavDirection=c.shiftKey?cJ:ome)}}const lJ=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",uJ=".sticky-top",eH="padding-right",dJ="margin-right";class eY{constructor(){this._element=document.body}getWidth(){const c=document.documentElement.clientWidth;return Math.abs(window.innerWidth-c)}hide(){const c=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,eH,f=>f+c),this._setElementAttributes(lJ,eH,f=>f+c),this._setElementAttributes(uJ,dJ,f=>f-c)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,eH),this._resetElementAttributes(lJ,eH),this._resetElementAttributes(uJ,dJ)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(c,f,y){const C=this.getWidth(),w=S=>{if(S!==this._element&&window.innerWidth>S.clientWidth+C)return;this._saveInitialAttribute(S,f);const M=window.getComputedStyle(S).getPropertyValue(f);S.style.setProperty(f,`${y(Number.parseFloat(M))}px`)};this._applyManipulationCallback(c,w)}_saveInitialAttribute(c,f){const y=c.style.getPropertyValue(f);y&&w_.setDataAttribute(c,f,y)}_resetElementAttributes(c,f){const y=C=>{const w=w_.getDataAttribute(C,f);if(w===null){C.style.removeProperty(f);return}w_.removeDataAttribute(C,f),C.style.setProperty(f,w)};this._applyManipulationCallback(c,y)}_applyManipulationCallback(c,f){if(E_(c)){f(c);return}for(const y of ds.find(c,this._element))f(y)}}const ime="modal",ame="bs.modal",Hv=`.${ame}`,cme=".data-api",lme="Escape",ume=`hide${Hv}`,dme=`hidePrevented${Hv}`,Ute=`hidden${Hv}`,Wte=`show${Hv}`,fme=`shown${Hv}`,hme=`resize${Hv}`,mme=`click.dismiss${Hv}`,pme=`mousedown.dismiss${Hv}`,gme=`keydown.dismiss${Hv}`,vme=`click${Hv}${cme}`,fJ="modal-open",bme="fade",hJ="show",vZ="modal-static",yme=".modal.show",_me=".modal-dialog",Eme=".modal-body",wme='[data-bs-toggle="modal"]',Tme={backdrop:!0,focus:!0,keyboard:!0},Cme={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class QO extends ob{constructor(c,f){super(c,f),this._dialog=ds.findOne(_me,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new eY,this._addEventListeners()}static get Default(){return Tme}static get DefaultType(){return Cme}static get NAME(){return ime}toggle(c){return this._isShown?this.hide():this.show(c)}show(c){this._isShown||this._isTransitioning||Cn.trigger(this._element,Wte,{relatedTarget:c}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(fJ),this._adjustDialog(),this._backdrop.show(()=>this._showElement(c)))}hide(){!this._isShown||this._isTransitioning||Cn.trigger(this._element,ume).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(hJ),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Cn.off(window,Hv),Cn.off(this._dialog,Hv),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Vte({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new zte({trapElement:this._element})}_showElement(c){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const f=ds.findOne(Eme,this._dialog);f&&(f.scrollTop=0),lk(this._element),this._element.classList.add(hJ);const y=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Cn.trigger(this._element,fme,{relatedTarget:c})};this._queueCallback(y,this._dialog,this._isAnimated())}_addEventListeners(){Cn.on(this._element,gme,c=>{if(c.key===lme){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),Cn.on(window,hme,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Cn.on(this._element,pme,c=>{Cn.one(this._element,mme,f=>{if(!(this._element!==c.target||this._element!==f.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(fJ),this._resetAdjustments(),this._scrollBar.reset(),Cn.trigger(this._element,Ute)})}_isAnimated(){return this._element.classList.contains(bme)}_triggerBackdropTransition(){if(Cn.trigger(this._element,dme).defaultPrevented)return;const f=this._element.scrollHeight>document.documentElement.clientHeight,y=this._element.style.overflowY;y==="hidden"||this._element.classList.contains(vZ)||(f||(this._element.style.overflowY="hidden"),this._element.classList.add(vZ),this._queueCallback(()=>{this._element.classList.remove(vZ),this._queueCallback(()=>{this._element.style.overflowY=y},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const c=this._element.scrollHeight>document.documentElement.clientHeight,f=this._scrollBar.getWidth(),y=f>0;if(y&&!c){const C=Fv()?"paddingLeft":"paddingRight";this._element.style[C]=`${f}px`}if(!y&&c){const C=Fv()?"paddingRight":"paddingLeft";this._element.style[C]=`${f}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(c,f){return this.each(function(){const y=QO.getOrCreateInstance(this,c);if(typeof c=="string"){if(typeof y[c]>"u")throw new TypeError(`No method named "${c}"`);y[c](f)}})}}Cn.on(document,vme,wme,function(a){const c=ds.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&a.preventDefault(),Cn.one(c,Wte,C=>{C.defaultPrevented||Cn.one(c,Ute,()=>{iR(this)&&this.focus()})});const f=ds.findOne(yme);f&&QO.getInstance(f).hide(),QO.getOrCreateInstance(c).toggle(this)});QH(QO);Vv(QO);const Sme="offcanvas",xme="bs.offcanvas",A_=`.${xme}`,Gte=".data-api",Ame=`load${A_}${Gte}`,Ome="Escape",mJ="show",pJ="showing",gJ="hiding",Rme="offcanvas-backdrop",jte=".offcanvas.show",Ime=`show${A_}`,Dme=`shown${A_}`,Mme=`hide${A_}`,vJ=`hidePrevented${A_}`,qte=`hidden${A_}`,Nme=`resize${A_}`,kme=`click${A_}${Gte}`,Pme=`keydown.dismiss${A_}`,Lme='[data-bs-toggle="offcanvas"]',$me={backdrop:!0,keyboard:!0,scroll:!1},Bme={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Uw extends ob{constructor(c,f){super(c,f),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return $me}static get DefaultType(){return Bme}static get NAME(){return Sme}toggle(c){return this._isShown?this.hide():this.show(c)}show(c){if(this._isShown||Cn.trigger(this._element,Ime,{relatedTarget:c}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new eY().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(pJ);const y=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(mJ),this._element.classList.remove(pJ),Cn.trigger(this._element,Dme,{relatedTarget:c})};this._queueCallback(y,this._element,!0)}hide(){if(!this._isShown||Cn.trigger(this._element,Mme).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(gJ),this._backdrop.hide();const f=()=>{this._element.classList.remove(mJ,gJ),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new eY().reset(),Cn.trigger(this._element,qte)};this._queueCallback(f,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const c=()=>{if(this._config.backdrop==="static"){Cn.trigger(this._element,vJ);return}this.hide()},f=!!this._config.backdrop;return new Vte({className:Rme,isVisible:f,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:f?c:null})}_initializeFocusTrap(){return new zte({trapElement:this._element})}_addEventListeners(){Cn.on(this._element,Pme,c=>{if(c.key===Ome){if(this._config.keyboard){this.hide();return}Cn.trigger(this._element,vJ)}})}static jQueryInterface(c){return this.each(function(){const f=Uw.getOrCreateInstance(this,c);if(typeof c=="string"){if(f[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);f[c](this)}})}}Cn.on(document,kme,Lme,function(a){const c=ds.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&a.preventDefault(),zw(this))return;Cn.one(c,qte,()=>{iR(this)&&this.focus()});const f=ds.findOne(jte);f&&f!==c&&Uw.getInstance(f).hide(),Uw.getOrCreateInstance(c).toggle(this)});Cn.on(window,Ame,()=>{for(const a of ds.find(jte))Uw.getOrCreateInstance(a).show()});Cn.on(window,Nme,()=>{for(const a of ds.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(a).position!=="fixed"&&Uw.getOrCreateInstance(a).hide()});QH(Uw);Vv(Uw);const Fme=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Hme=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Vme=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,zme=(a,c)=>{const f=a.nodeName.toLowerCase();return c.includes(f)?Fme.has(f)?!!(Hme.test(a.nodeValue)||Vme.test(a.nodeValue)):!0:c.filter(y=>y instanceof RegExp).some(y=>y.test(f))},Ume=/^aria-[\w-]*$/i,Zte={"*":["class","dir","id","lang","role",Ume],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function Wme(a,c,f){if(!a.length)return a;if(f&&typeof f=="function")return f(a);const C=new window.DOMParser().parseFromString(a,"text/html"),w=[].concat(...C.body.querySelectorAll("*"));for(const S of w){const M=S.nodeName.toLowerCase();if(!Object.keys(c).includes(M)){S.remove();continue}const P=[].concat(...S.attributes),G=[].concat(c["*"]||[],c[M]||[]);for(const j of P)zme(j,G)||S.removeAttribute(j.nodeName)}return C.body.innerHTML}const Gme="TemplateFactory",jme={allowList:Zte,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},qme={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Zme={entry:"(string|element|function|null)",selector:"(string|element)"};class Yme extends uk{constructor(c){super(),this._config=this._getConfig(c)}static get Default(){return jme}static get DefaultType(){return qme}static get NAME(){return Gme}getContent(){return Object.values(this._config.content).map(c=>this._resolvePossibleFunction(c)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(c){return this._checkContent(c),this._config.content={...this._config.content,...c},this}toHtml(){const c=document.createElement("div");c.innerHTML=this._maybeSanitize(this._config.template);for(const[C,w]of Object.entries(this._config.content))this._setContent(c,w,C);const f=c.children[0],y=this._resolvePossibleFunction(this._config.extraClass);return y&&f.classList.add(...y.split(" ")),f}_typeCheckConfig(c){super._typeCheckConfig(c),this._checkContent(c.content)}_checkContent(c){for(const[f,y]of Object.entries(c))super._typeCheckConfig({selector:f,entry:y},Zme)}_setContent(c,f,y){const C=ds.findOne(y,c);if(C){if(f=this._resolvePossibleFunction(f),!f){C.remove();return}if(E_(f)){this._putElementInTemplate(Vw(f),C);return}if(this._config.html){C.innerHTML=this._maybeSanitize(f);return}C.textContent=f}}_maybeSanitize(c){return this._config.sanitize?Wme(c,this._config.allowList,this._config.sanitizeFn):c}_resolvePossibleFunction(c){return pp(c,[this])}_putElementInTemplate(c,f){if(this._config.html){f.innerHTML="",f.append(c);return}f.textContent=c.textContent}}const Kme="tooltip",Xme=new Set(["sanitize","allowList","sanitizeFn"]),bZ="fade",Qme="modal",tH="show",Jme=".tooltip-inner",bJ=`.${Qme}`,yJ="hide.bs.modal",YN="hover",yZ="focus",epe="click",tpe="manual",npe="hide",ope="hidden",spe="show",rpe="shown",ipe="inserted",ape="click",cpe="focusin",lpe="focusout",upe="mouseenter",dpe="mouseleave",fpe={AUTO:"auto",TOP:"top",RIGHT:Fv()?"left":"right",BOTTOM:"bottom",LEFT:Fv()?"right":"left"},hpe={allowList:Zte,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},mpe={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class cR extends ob{constructor(c,f){if(typeof Ete>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(c,f),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return hpe}static get DefaultType(){return mpe}static get NAME(){return Kme}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),Cn.off(this._element.closest(bJ),yJ,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const c=Cn.trigger(this._element,this.constructor.eventName(spe)),y=(Cte(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(c.defaultPrevented||!y)return;this._disposePopper();const C=this._getTipElement();this._element.setAttribute("aria-describedby",C.getAttribute("id"));const{container:w}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(w.append(C),Cn.trigger(this._element,this.constructor.eventName(ipe))),this._popper=this._createPopper(C),C.classList.add(tH),"ontouchstart"in document.documentElement)for(const M of[].concat(...document.body.children))Cn.on(M,"mouseover",kH);const S=()=>{Cn.trigger(this._element,this.constructor.eventName(rpe)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(S,this.tip,this._isAnimated())}hide(){if(!this._isShown()||Cn.trigger(this._element,this.constructor.eventName(npe)).defaultPrevented)return;if(this._getTipElement().classList.remove(tH),"ontouchstart"in document.documentElement)for(const C of[].concat(...document.body.children))Cn.off(C,"mouseover",kH);this._activeTrigger[epe]=!1,this._activeTrigger[yZ]=!1,this._activeTrigger[YN]=!1,this._isHovered=null;const y=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Cn.trigger(this._element,this.constructor.eventName(ope)))};this._queueCallback(y,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(c){const f=this._getTemplateFactory(c).toHtml();if(!f)return null;f.classList.remove(bZ,tH),f.classList.add(`bs-${this.constructor.NAME}-auto`);const y=Jde(this.constructor.NAME).toString();return f.setAttribute("id",y),this._isAnimated()&&f.classList.add(bZ),f}setContent(c){this._newContent=c,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(c){return this._templateFactory?this._templateFactory.changeContent(c):this._templateFactory=new Yme({...this._config,content:c,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Jme]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(c){return this.constructor.getOrCreateInstance(c.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(bZ)}_isShown(){return this.tip&&this.tip.classList.contains(tH)}_createPopper(c){const f=pp(this._config.placement,[this,c,this._element]),y=fpe[f.toUpperCase()];return PY(this._element,c,this._getPopperConfig(y))}_getOffset(){const{offset:c}=this._config;return typeof c=="string"?c.split(",").map(f=>Number.parseInt(f,10)):typeof c=="function"?f=>c(f,this._element):c}_resolvePossibleFunction(c){return pp(c,[this._element])}_getPopperConfig(c){const f={placement:c,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:y=>{this._getTipElement().setAttribute("data-popper-placement",y.state.placement)}}]};return{...f,...pp(this._config.popperConfig,[f])}}_setListeners(){const c=this._config.trigger.split(" ");for(const f of c)if(f==="click")Cn.on(this._element,this.constructor.eventName(ape),this._config.selector,y=>{this._initializeOnDelegatedTarget(y).toggle()});else if(f!==tpe){const y=f===YN?this.constructor.eventName(upe):this.constructor.eventName(cpe),C=f===YN?this.constructor.eventName(dpe):this.constructor.eventName(lpe);Cn.on(this._element,y,this._config.selector,w=>{const S=this._initializeOnDelegatedTarget(w);S._activeTrigger[w.type==="focusin"?yZ:YN]=!0,S._enter()}),Cn.on(this._element,C,this._config.selector,w=>{const S=this._initializeOnDelegatedTarget(w);S._activeTrigger[w.type==="focusout"?yZ:YN]=S._element.contains(w.relatedTarget),S._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Cn.on(this._element.closest(bJ),yJ,this._hideModalHandler)}_fixTitle(){const c=this._element.getAttribute("title");c&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",c),this._element.setAttribute("data-bs-original-title",c),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(c,f){clearTimeout(this._timeout),this._timeout=setTimeout(c,f)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(c){const f=w_.getDataAttributes(this._element);for(const y of Object.keys(f))Xme.has(y)&&delete f[y];return c={...f,...typeof c=="object"&&c?c:{}},c=this._mergeConfigObj(c),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}_configAfterMerge(c){return c.container=c.container===!1?document.body:Vw(c.container),typeof c.delay=="number"&&(c.delay={show:c.delay,hide:c.delay}),typeof c.title=="number"&&(c.title=c.title.toString()),typeof c.content=="number"&&(c.content=c.content.toString()),c}_getDelegateConfig(){const c={};for(const[f,y]of Object.entries(this._config))this.constructor.Default[f]!==y&&(c[f]=y);return c.selector=!1,c.trigger="manual",c}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(c){return this.each(function(){const f=cR.getOrCreateInstance(this,c);if(typeof c=="string"){if(typeof f[c]>"u")throw new TypeError(`No method named "${c}"`);f[c]()}})}}Vv(cR);const ppe="popover",gpe=".popover-header",vpe=".popover-body",bpe={...cR.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},ype={...cR.DefaultType,content:"(null|string|element|function)"};class FY extends cR{static get Default(){return bpe}static get DefaultType(){return ype}static get NAME(){return ppe}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[gpe]:this._getTitle(),[vpe]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(c){return this.each(function(){const f=FY.getOrCreateInstance(this,c);if(typeof c=="string"){if(typeof f[c]>"u")throw new TypeError(`No method named "${c}"`);f[c]()}})}}Vv(FY);const _pe="scrollspy",Epe="bs.scrollspy",HY=`.${Epe}`,wpe=".data-api",Tpe=`activate${HY}`,_J=`click${HY}`,Cpe=`load${HY}${wpe}`,Spe="dropdown-item",DO="active",xpe='[data-bs-spy="scroll"]',_Z="[href]",Ape=".nav, .list-group",EJ=".nav-link",Ope=".nav-item",Rpe=".list-group-item",Ipe=`${EJ}, ${Ope} > ${EJ}, ${Rpe}`,Dpe=".dropdown",Mpe=".dropdown-toggle",Npe={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},kpe={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class t6 extends ob{constructor(c,f){super(c,f),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Npe}static get DefaultType(){return kpe}static get NAME(){return _pe}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const c of this._observableSections.values())this._observer.observe(c)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(c){return c.target=Vw(c.target)||document.body,c.rootMargin=c.offset?`${c.offset}px 0px -30%`:c.rootMargin,typeof c.threshold=="string"&&(c.threshold=c.threshold.split(",").map(f=>Number.parseFloat(f))),c}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Cn.off(this._config.target,_J),Cn.on(this._config.target,_J,_Z,c=>{const f=this._observableSections.get(c.target.hash);if(f){c.preventDefault();const y=this._rootElement||window,C=f.offsetTop-this._element.offsetTop;if(y.scrollTo){y.scrollTo({top:C,behavior:"smooth"});return}y.scrollTop=C}}))}_getNewObserver(){const c={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(f=>this._observerCallback(f),c)}_observerCallback(c){const f=S=>this._targetLinks.get(`#${S.target.id}`),y=S=>{this._previousScrollData.visibleEntryTop=S.target.offsetTop,this._process(f(S))},C=(this._rootElement||document.documentElement).scrollTop,w=C>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=C;for(const S of c){if(!S.isIntersecting){this._activeTarget=null,this._clearActiveClass(f(S));continue}const M=S.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(w&&M){if(y(S),!C)return;continue}!w&&!M&&y(S)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const c=ds.find(_Z,this._config.target);for(const f of c){if(!f.hash||zw(f))continue;const y=ds.findOne(f.hash,this._element);iR(y)&&(this._targetLinks.set(f.hash,f),this._observableSections.set(f.hash,y))}}_process(c){this._activeTarget!==c&&(this._clearActiveClass(this._config.target),this._activeTarget=c,c.classList.add(DO),this._activateParents(c),Cn.trigger(this._element,Tpe,{relatedTarget:c}))}_activateParents(c){if(c.classList.contains(Spe)){ds.findOne(Mpe,c.closest(Dpe)).classList.add(DO);return}for(const f of ds.parents(c,Ape))for(const y of ds.prev(f,Ipe))y.classList.add(DO)}_clearActiveClass(c){c.classList.remove(DO);const f=ds.find(`${_Z}.${DO}`,c);for(const y of f)y.classList.remove(DO)}static jQueryInterface(c){return this.each(function(){const f=t6.getOrCreateInstance(this,c);if(typeof c=="string"){if(f[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);f[c]()}})}}Cn.on(window,Cpe,()=>{for(const a of ds.find(xpe))t6.getOrCreateInstance(a)});Vv(t6);const Ppe="tab",Lpe="bs.tab",vx=`.${Lpe}`,$pe=`hide${vx}`,Bpe=`hidden${vx}`,Fpe=`show${vx}`,Hpe=`shown${vx}`,Vpe=`click${vx}`,zpe=`keydown${vx}`,Upe=`load${vx}`,Wpe="ArrowLeft",wJ="ArrowRight",Gpe="ArrowUp",TJ="ArrowDown",ix="active",CJ="fade",EZ="show",jpe="dropdown",qpe=".dropdown-toggle",Zpe=".dropdown-menu",wZ=":not(.dropdown-toggle)",Ype='.list-group, .nav, [role="tablist"]',Kpe=".nav-item, .list-group-item",Xpe=`.nav-link${wZ}, .list-group-item${wZ}, [role="tab"]${wZ}`,Yte='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',TZ=`${Xpe}, ${Yte}`,Qpe=`.${ix}[data-bs-toggle="tab"], .${ix}[data-bs-toggle="pill"], .${ix}[data-bs-toggle="list"]`;class JO extends ob{constructor(c){super(c),this._parent=this._element.closest(Ype),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Cn.on(this._element,zpe,f=>this._keydown(f)))}static get NAME(){return Ppe}show(){const c=this._element;if(this._elemIsActive(c))return;const f=this._getActiveElem(),y=f?Cn.trigger(f,$pe,{relatedTarget:c}):null;Cn.trigger(c,Fpe,{relatedTarget:f}).defaultPrevented||y&&y.defaultPrevented||(this._deactivate(f,c),this._activate(c,f))}_activate(c,f){if(!c)return;c.classList.add(ix),this._activate(ds.getElementFromSelector(c));const y=()=>{if(c.getAttribute("role")!=="tab"){c.classList.add(EZ);return}c.removeAttribute("tabindex"),c.setAttribute("aria-selected",!0),this._toggleDropDown(c,!0),Cn.trigger(c,Hpe,{relatedTarget:f})};this._queueCallback(y,c,c.classList.contains(CJ))}_deactivate(c,f){if(!c)return;c.classList.remove(ix),c.blur(),this._deactivate(ds.getElementFromSelector(c));const y=()=>{if(c.getAttribute("role")!=="tab"){c.classList.remove(EZ);return}c.setAttribute("aria-selected",!1),c.setAttribute("tabindex","-1"),this._toggleDropDown(c,!1),Cn.trigger(c,Bpe,{relatedTarget:f})};this._queueCallback(y,c,c.classList.contains(CJ))}_keydown(c){if(![Wpe,wJ,Gpe,TJ].includes(c.key))return;c.stopPropagation(),c.preventDefault();const f=[wJ,TJ].includes(c.key),y=LY(this._getChildren().filter(C=>!zw(C)),c.target,f,!0);y&&(y.focus({preventScroll:!0}),JO.getOrCreateInstance(y).show())}_getChildren(){return ds.find(TZ,this._parent)}_getActiveElem(){return this._getChildren().find(c=>this._elemIsActive(c))||null}_setInitialAttributes(c,f){this._setAttributeIfNotExists(c,"role","tablist");for(const y of f)this._setInitialAttributesOnChild(y)}_setInitialAttributesOnChild(c){c=this._getInnerElement(c);const f=this._elemIsActive(c),y=this._getOuterElement(c);c.setAttribute("aria-selected",f),y!==c&&this._setAttributeIfNotExists(y,"role","presentation"),f||c.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(c,"role","tab"),this._setInitialAttributesOnTargetPanel(c)}_setInitialAttributesOnTargetPanel(c){const f=ds.getElementFromSelector(c);f&&(this._setAttributeIfNotExists(f,"role","tabpanel"),c.id&&this._setAttributeIfNotExists(f,"aria-labelledby",`${c.id}`))}_toggleDropDown(c,f){const y=this._getOuterElement(c);if(!y.classList.contains(jpe))return;const C=(w,S)=>{const M=ds.findOne(w,y);M&&M.classList.toggle(S,f)};C(qpe,ix),C(Zpe,EZ),y.setAttribute("aria-expanded",f)}_setAttributeIfNotExists(c,f,y){c.hasAttribute(f)||c.setAttribute(f,y)}_elemIsActive(c){return c.classList.contains(ix)}_getInnerElement(c){return c.matches(TZ)?c:ds.findOne(TZ,c)}_getOuterElement(c){return c.closest(Kpe)||c}static jQueryInterface(c){return this.each(function(){const f=JO.getOrCreateInstance(this);if(typeof c=="string"){if(f[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);f[c]()}})}}Cn.on(document,Vpe,Yte,function(a){["A","AREA"].includes(this.tagName)&&a.preventDefault(),!zw(this)&&JO.getOrCreateInstance(this).show()});Cn.on(window,Upe,()=>{for(const a of ds.find(Qpe))JO.getOrCreateInstance(a)});Vv(JO);const Jpe="toast",ege="bs.toast",jw=`.${ege}`,tge=`mouseover${jw}`,nge=`mouseout${jw}`,oge=`focusin${jw}`,sge=`focusout${jw}`,rge=`hide${jw}`,ige=`hidden${jw}`,age=`show${jw}`,cge=`shown${jw}`,lge="fade",SJ="hide",nH="show",oH="showing",uge={animation:"boolean",autohide:"boolean",delay:"number"},dge={animation:!0,autohide:!0,delay:5e3};class n6 extends ob{constructor(c,f){super(c,f),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return dge}static get DefaultType(){return uge}static get NAME(){return Jpe}show(){if(Cn.trigger(this._element,age).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(lge);const f=()=>{this._element.classList.remove(oH),Cn.trigger(this._element,cge),this._maybeScheduleHide()};this._element.classList.remove(SJ),lk(this._element),this._element.classList.add(nH,oH),this._queueCallback(f,this._element,this._config.animation)}hide(){if(!this.isShown()||Cn.trigger(this._element,rge).defaultPrevented)return;const f=()=>{this._element.classList.add(SJ),this._element.classList.remove(oH,nH),Cn.trigger(this._element,ige)};this._element.classList.add(oH),this._queueCallback(f,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(nH),super.dispose()}isShown(){return this._element.classList.contains(nH)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(c,f){switch(c.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=f;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=f;break}}if(f){this._clearTimeout();return}const y=c.relatedTarget;this._element===y||this._element.contains(y)||this._maybeScheduleHide()}_setListeners(){Cn.on(this._element,tge,c=>this._onInteraction(c,!0)),Cn.on(this._element,nge,c=>this._onInteraction(c,!1)),Cn.on(this._element,oge,c=>this._onInteraction(c,!0)),Cn.on(this._element,sge,c=>this._onInteraction(c,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(c){return this.each(function(){const f=n6.getOrCreateInstance(this,c);if(typeof c=="string"){if(typeof f[c]>"u")throw new TypeError(`No method named "${c}"`);f[c](this)}})}}QH(n6);Vv(n6);(function(a,c,f,y){function C(w,S){this.settings=null,this.options=a.extend({},C.Defaults,S),this.$element=a(w),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},a.each(["onResize","onThrottledResize"],a.proxy(function(M,P){this._handlers[P]=a.proxy(this[P],this)},this)),a.each(C.Plugins,a.proxy(function(M,P){this._plugins[M.charAt(0).toLowerCase()+M.slice(1)]=new P(this)},this)),a.each(C.Workers,a.proxy(function(M,P){this._pipe.push({filter:P.filter,run:a.proxy(P.run,this)})},this)),this.setup(),this.initialize()}C.Defaults={items:3,loop:!1,center:!1,rewind:!1,checkVisibility:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:c,fallbackEasing:"swing",slideTransition:"",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},C.Width={Default:"default",Inner:"inner",Outer:"outer"},C.Type={Event:"event",State:"state"},C.Plugins={},C.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(w){w.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(w){var S=this.settings.margin||"",M=!this.settings.autoWidth,P=this.settings.rtl,G={width:"auto","margin-left":P?S:"","margin-right":P?"":S};!M&&this.$stage.children().css(G),w.css=G}},{filter:["width","items","settings"],run:function(w){var S=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,M=null,P=this._items.length,G=!this.settings.autoWidth,j=[];for(w.items={merge:!1,width:S};P--;)M=this._mergers[P],M=this.settings.mergeFit&&Math.min(M,this.settings.items)||M,w.items.merge=M>1||w.items.merge,j[P]=G?S*M:this._items[P].width();this._widths=j}},{filter:["items","settings"],run:function(){var w=[],S=this._items,M=this.settings,P=Math.max(M.items*2,4),G=Math.ceil(S.length/2)*2,j=M.loop&&S.length?M.rewind?P:Math.max(P,G):0,J="",me="";for(j/=2;j>0;)w.push(this.normalize(w.length/2,!0)),J=J+S[w[w.length-1]][0].outerHTML,w.push(this.normalize(S.length-1-(w.length-1)/2,!0)),me=S[w[w.length-1]][0].outerHTML+me,j-=1;this._clones=w,a(J).addClass("cloned").appendTo(this.$stage),a(me).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var w=this.settings.rtl?1:-1,S=this._clones.length+this._items.length,M=-1,P=0,G=0,j=[];++M<S;)P=j[M-1]||0,G=this._widths[this.relative(M)]+this.settings.margin,j.push(P+G*w);this._coordinates=j}},{filter:["width","items","settings"],run:function(){var w=this.settings.stagePadding,S=this._coordinates,M={width:Math.ceil(Math.abs(S[S.length-1]))+w*2,"padding-left":w||"","padding-right":w||""};this.$stage.css(M)}},{filter:["width","items","settings"],run:function(w){var S=this._coordinates.length,M=!this.settings.autoWidth,P=this.$stage.children();if(M&&w.items.merge)for(;S--;)w.css.width=this._widths[this.relative(S)],P.eq(S).css(w.css);else M&&(w.css.width=w.items.width,P.css(w.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(w){w.current=w.current?this.$stage.children().index(w.current):0,w.current=Math.max(this.minimum(),Math.min(this.maximum(),w.current)),this.reset(w.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var w=this.settings.rtl?1:-1,S=this.settings.stagePadding*2,M=this.coordinates(this.current())+S,P=M+this.width()*w,G,j,J=[],me,ae;for(me=0,ae=this._coordinates.length;me<ae;me++)G=this._coordinates[me-1]||0,j=Math.abs(this._coordinates[me])+S*w,(this.op(G,"<=",M)&&this.op(G,">",P)||this.op(j,"<",M)&&this.op(j,">",P))&&J.push(me);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+J.join("), :eq(")+")").addClass("active"),this.$stage.children(".center").removeClass("center"),this.settings.center&&this.$stage.children().eq(this.current()).addClass("center")}}],C.prototype.initializeStage=function(){this.$stage=this.$element.find("."+this.settings.stageClass),!this.$stage.length&&(this.$element.addClass(this.options.loadingClass),this.$stage=a("<"+this.settings.stageElement+">",{class:this.settings.stageClass}).wrap(a("<div/>",{class:this.settings.stageOuterClass})),this.$element.append(this.$stage.parent()))},C.prototype.initializeItems=function(){var w=this.$element.find(".owl-item");if(w.length){this._items=w.get().map(function(S){return a(S)}),this._mergers=this._items.map(function(){return 1}),this.refresh();return}this.replace(this.$element.children().not(this.$stage.parent())),this.isVisible()?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass)},C.prototype.initialize=function(){if(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")){var w,S,M;w=this.$element.find("img"),S=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:y,M=this.$element.children(S).width(),w.length&&M<=0&&this.preloadAutoWidthImages(w)}this.initializeStage(),this.initializeItems(),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},C.prototype.isVisible=function(){return this.settings.checkVisibility?this.$element.is(":visible"):!0},C.prototype.setup=function(){var w=this.viewport(),S=this.options.responsive,M=-1,P=null;S?(a.each(S,function(G){G<=w&&G>M&&(M=Number(G))}),P=a.extend({},this.options,S[M]),typeof P.stagePadding=="function"&&(P.stagePadding=P.stagePadding()),delete P.responsive,P.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+M))):P=a.extend({},this.options),this.trigger("change",{property:{name:"settings",value:P}}),this._breakpoint=M,this.settings=P,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},C.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},C.prototype.prepare=function(w){var S=this.trigger("prepare",{content:w});return S.data||(S.data=a("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(w)),this.trigger("prepared",{content:S.data}),S.data},C.prototype.update=function(){for(var w=0,S=this._pipe.length,M=a.proxy(function(G){return this[G]},this._invalidated),P={};w<S;)(this._invalidated.all||a.grep(this._pipe[w].filter,M).length>0)&&this._pipe[w].run(P),w++;this._invalidated={},!this.is("valid")&&this.enter("valid")},C.prototype.width=function(w){switch(w=w||C.Width.Default,w){case C.Width.Inner:case C.Width.Outer:return this._width;default:return this._width-this.settings.stagePadding*2+this.settings.margin}},C.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},C.prototype.onThrottledResize=function(){c.clearTimeout(this.resizeTimer),this.resizeTimer=c.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},C.prototype.onResize=function(){if(!this._items.length||this._width===this.$element.width()||!this.isVisible())return!1;if(this.enter("resizing"),this.trigger("resize").isDefaultPrevented())return this.leave("resizing"),!1;this.invalidate("width"),this.refresh(),this.leave("resizing"),this.trigger("resized")},C.prototype.registerEventHandlers=function(){a.support.transition&&this.$stage.on(a.support.transition.end+".owl.core",a.proxy(this.onTransitionEnd,this)),this.settings.responsive!==!1&&this.on(c,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",a.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",a.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",a.proxy(this.onDragEnd,this)))},C.prototype.onDragStart=function(w){var S=null;w.which!==3&&(a.support.transform?(S=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","),S={x:S[S.length===16?12:4],y:S[S.length===16?13:5]}):(S=this.$stage.position(),S={x:this.settings.rtl?S.left+this.$stage.width()-this.width()+this.settings.margin:S.left,y:S.top}),this.is("animating")&&(a.support.transform?this.animate(S.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,w.type==="mousedown"),this.speed(0),this._drag.time=new Date().getTime(),this._drag.target=a(w.target),this._drag.stage.start=S,this._drag.stage.current=S,this._drag.pointer=this.pointer(w),a(f).on("mouseup.owl.core touchend.owl.core",a.proxy(this.onDragEnd,this)),a(f).one("mousemove.owl.core touchmove.owl.core",a.proxy(function(M){var P=this.difference(this._drag.pointer,this.pointer(M));a(f).on("mousemove.owl.core touchmove.owl.core",a.proxy(this.onDragMove,this)),!(Math.abs(P.x)<Math.abs(P.y)&&this.is("valid"))&&(M.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},C.prototype.onDragMove=function(w){var S=null,M=null,P=null,G=this.difference(this._drag.pointer,this.pointer(w)),j=this.difference(this._drag.stage.start,G);this.is("dragging")&&(w.preventDefault(),this.settings.loop?(S=this.coordinates(this.minimum()),M=this.coordinates(this.maximum()+1)-S,j.x=((j.x-S)%M+M)%M+S):(S=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),M=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),P=this.settings.pullDrag?-1*G.x/5:0,j.x=Math.max(Math.min(j.x,S+P),M+P)),this._drag.stage.current=j,this.animate(j.x))},C.prototype.onDragEnd=function(w){var S=this.difference(this._drag.pointer,this.pointer(w)),M=this._drag.stage.current,P=S.x>0^this.settings.rtl?"left":"right";a(f).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(S.x!==0&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(M.x,S.x!==0?P:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=P,(Math.abs(S.x)>3||new Date().getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},C.prototype.closest=function(w,S){var M=-1,P=30,G=this.width(),j=this.coordinates();return this.settings.freeDrag||a.each(j,a.proxy(function(J,me){return S==="left"&&w>me-P&&w<me+P?M=J:S==="right"&&w>me-G-P&&w<me-G+P?M=J+1:this.op(w,"<",me)&&this.op(w,">",j[J+1]!==y?j[J+1]:me-G)&&(M=S==="left"?J+1:J),M===-1},this)),this.settings.loop||(this.op(w,">",j[this.minimum()])?M=w=this.minimum():this.op(w,"<",j[this.maximum()])&&(M=w=this.maximum())),M},C.prototype.animate=function(w){var S=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),S&&(this.enter("animating"),this.trigger("translate")),a.support.transform3d&&a.support.transition?this.$stage.css({transform:"translate3d("+w+"px,0px,0px)",transition:this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}):S?this.$stage.animate({left:w+"px"},this.speed(),this.settings.fallbackEasing,a.proxy(this.onTransitionEnd,this)):this.$stage.css({left:w+"px"})},C.prototype.is=function(w){return this._states.current[w]&&this._states.current[w]>0},C.prototype.current=function(w){if(w===y)return this._current;if(this._items.length===0)return y;if(w=this.normalize(w),this._current!==w){var S=this.trigger("change",{property:{name:"position",value:w}});S.data!==y&&(w=this.normalize(S.data)),this._current=w,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},C.prototype.invalidate=function(w){return a.type(w)==="string"&&(this._invalidated[w]=!0,this.is("valid")&&this.leave("valid")),a.map(this._invalidated,function(S,M){return M})},C.prototype.reset=function(w){w=this.normalize(w),w!==y&&(this._speed=0,this._current=w,this.suppress(["translate","translated"]),this.animate(this.coordinates(w)),this.release(["translate","translated"]))},C.prototype.normalize=function(w,S){var M=this._items.length,P=S?0:this._clones.length;return!this.isNumeric(w)||M<1?w=y:(w<0||w>=M+P)&&(w=((w-P/2)%M+M)%M+P/2),w},C.prototype.relative=function(w){return w-=this._clones.length/2,this.normalize(w,!0)},C.prototype.maximum=function(w){var S=this.settings,M=this._coordinates.length,P,G,j;if(S.loop)M=this._clones.length/2+this._items.length-1;else if(S.autoWidth||S.merge){if(P=this._items.length,P)for(G=this._items[--P].width(),j=this.$element.width();P--&&(G+=this._items[P].width()+this.settings.margin,!(G>j)););M=P+1}else S.center?M=this._items.length-1:M=this._items.length-S.items;return w&&(M-=this._clones.length/2),Math.max(M,0)},C.prototype.minimum=function(w){return w?0:this._clones.length/2},C.prototype.items=function(w){return w===y?this._items.slice():(w=this.normalize(w,!0),this._items[w])},C.prototype.mergers=function(w){return w===y?this._mergers.slice():(w=this.normalize(w,!0),this._mergers[w])},C.prototype.clones=function(w){var S=this._clones.length/2,M=S+this._items.length,P=function(G){return G%2===0?M+G/2:S-(G+1)/2};return w===y?a.map(this._clones,function(G,j){return P(j)}):a.map(this._clones,function(G,j){return G===w?P(j):null})},C.prototype.speed=function(w){return w!==y&&(this._speed=w),this._speed},C.prototype.coordinates=function(w){var S=1,M=w-1,P;return w===y?a.map(this._coordinates,a.proxy(function(G,j){return this.coordinates(j)},this)):(this.settings.center?(this.settings.rtl&&(S=-1,M=w+1),P=this._coordinates[w],P+=(this.width()-P+(this._coordinates[M]||0))/2*S):P=this._coordinates[M]||0,P=Math.ceil(P),P)},C.prototype.duration=function(w,S,M){return M===0?0:Math.min(Math.max(Math.abs(S-w),1),6)*Math.abs(M||this.settings.smartSpeed)},C.prototype.to=function(w,S){var M=this.current(),P=null,G=w-this.relative(M),j=(G>0)-(G<0),J=this._items.length,me=this.minimum(),ae=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(G)>J/2&&(G+=j*-1*J),w=M+G,P=((w-me)%J+J)%J+me,P!==w&&P-G<=ae&&P-G>0&&(M=P-G,w=P,this.reset(M))):this.settings.rewind?(ae+=1,w=(w%ae+ae)%ae):w=Math.max(me,Math.min(ae,w)),this.speed(this.duration(M,w,S)),this.current(w),this.isVisible()&&this.update()},C.prototype.next=function(w){w=w||!1,this.to(this.relative(this.current())+1,w)},C.prototype.prev=function(w){w=w||!1,this.to(this.relative(this.current())-1,w)},C.prototype.onTransitionEnd=function(w){if(w!==y&&(w.stopPropagation(),(w.target||w.srcElement||w.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},C.prototype.viewport=function(){var w;return this.options.responsiveBaseElement!==c?w=a(this.options.responsiveBaseElement).width():c.innerWidth?w=c.innerWidth:f.documentElement&&f.documentElement.clientWidth?w=f.documentElement.clientWidth:console.warn("Can not detect viewport width."),w},C.prototype.replace=function(w){this.$stage.empty(),this._items=[],w&&(w=w instanceof jQuery?w:a(w)),this.settings.nestedItemSelector&&(w=w.find("."+this.settings.nestedItemSelector)),w.filter(function(){return this.nodeType===1}).each(a.proxy(function(S,M){M=this.prepare(M),this.$stage.append(M),this._items.push(M),this._mergers.push(M.find("[data-merge]").addBack("[data-merge]").attr("data-merge")*1||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},C.prototype.add=function(w,S){var M=this.relative(this._current);S=S===y?this._items.length:this.normalize(S,!0),w=w instanceof jQuery?w:a(w),this.trigger("add",{content:w,position:S}),w=this.prepare(w),this._items.length===0||S===this._items.length?(this._items.length===0&&this.$stage.append(w),this._items.length!==0&&this._items[S-1].after(w),this._items.push(w),this._mergers.push(w.find("[data-merge]").addBack("[data-merge]").attr("data-merge")*1||1)):(this._items[S].before(w),this._items.splice(S,0,w),this._mergers.splice(S,0,w.find("[data-merge]").addBack("[data-merge]").attr("data-merge")*1||1)),this._items[M]&&this.reset(this._items[M].index()),this.invalidate("items"),this.trigger("added",{content:w,position:S})},C.prototype.remove=function(w){w=this.normalize(w,!0),w!==y&&(this.trigger("remove",{content:this._items[w],position:w}),this._items[w].remove(),this._items.splice(w,1),this._mergers.splice(w,1),this.invalidate("items"),this.trigger("removed",{content:null,position:w}))},C.prototype.preloadAutoWidthImages=function(w){w.each(a.proxy(function(S,M){this.enter("pre-loading"),M=a(M),a(new Image).one("load",a.proxy(function(P){M.attr("src",P.target.src),M.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",M.attr("src")||M.attr("data-src")||M.attr("data-src-retina"))},this))},C.prototype.destroy=function(){this.$element.off(".owl.core"),this.$stage.off(".owl.core"),a(f).off(".owl.core"),this.settings.responsive!==!1&&(c.clearTimeout(this.resizeTimer),this.off(c,"resize",this._handlers.onThrottledResize));for(var w in this._plugins)this._plugins[w].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.remove(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},C.prototype.op=function(w,S,M){var P=this.settings.rtl;switch(S){case"<":return P?w>M:w<M;case">":return P?w<M:w>M;case">=":return P?w<=M:w>=M;case"<=":return P?w>=M:w<=M}},C.prototype.on=function(w,S,M,P){w.addEventListener?w.addEventListener(S,M,P):w.attachEvent&&w.attachEvent("on"+S,M)},C.prototype.off=function(w,S,M,P){w.removeEventListener?w.removeEventListener(S,M,P):w.detachEvent&&w.detachEvent("on"+S,M)},C.prototype.trigger=function(w,S,M,P,G){var j={item:{count:this._items.length,index:this.current()}},J=a.camelCase(a.grep(["on",w,M],function(ae){return ae}).join("-").toLowerCase()),me=a.Event([w,"owl",M||"carousel"].join(".").toLowerCase(),a.extend({relatedTarget:this},j,S));return this._supress[w]||(a.each(this._plugins,function(ae,pe){pe.onTrigger&&pe.onTrigger(me)}),this.register({type:C.Type.Event,name:w}),this.$element.trigger(me),this.settings&&typeof this.settings[J]=="function"&&this.settings[J].call(this,me)),me},C.prototype.enter=function(w){a.each([w].concat(this._states.tags[w]||[]),a.proxy(function(S,M){this._states.current[M]===y&&(this._states.current[M]=0),this._states.current[M]++},this))},C.prototype.leave=function(w){a.each([w].concat(this._states.tags[w]||[]),a.proxy(function(S,M){this._states.current[M]--},this))},C.prototype.register=function(w){if(w.type===C.Type.Event){if(a.event.special[w.name]||(a.event.special[w.name]={}),!a.event.special[w.name].owl){var S=a.event.special[w.name]._default;a.event.special[w.name]._default=function(M){return S&&S.apply&&(!M.namespace||M.namespace.indexOf("owl")===-1)?S.apply(this,arguments):M.namespace&&M.namespace.indexOf("owl")>-1},a.event.special[w.name].owl=!0}}else w.type===C.Type.State&&(this._states.tags[w.name]?this._states.tags[w.name]=this._states.tags[w.name].concat(w.tags):this._states.tags[w.name]=w.tags,this._states.tags[w.name]=a.grep(this._states.tags[w.name],a.proxy(function(M,P){return a.inArray(M,this._states.tags[w.name])===P},this)))},C.prototype.suppress=function(w){a.each(w,a.proxy(function(S,M){this._supress[M]=!0},this))},C.prototype.release=function(w){a.each(w,a.proxy(function(S,M){delete this._supress[M]},this))},C.prototype.pointer=function(w){var S={x:null,y:null};return w=w.originalEvent||w||c.event,w=w.touches&&w.touches.length?w.touches[0]:w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:w,w.pageX?(S.x=w.pageX,S.y=w.pageY):(S.x=w.clientX,S.y=w.clientY),S},C.prototype.isNumeric=function(w){return!isNaN(parseFloat(w))},C.prototype.difference=function(w,S){return{x:w.x-S.x,y:w.y-S.y}},a.fn.owlCarousel=function(w){var S=Array.prototype.slice.call(arguments,1);return this.each(function(){var M=a(this),P=M.data("owl.carousel");P||(P=new C(this,typeof w=="object"&&w),M.data("owl.carousel",P),a.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(G,j){P.register({type:C.Type.Event,name:j}),P.$element.on(j+".owl.carousel.core",a.proxy(function(J){J.namespace&&J.relatedTarget!==this&&(this.suppress([j]),P[j].apply(this,[].slice.call(arguments,1)),this.release([j]))},P))})),typeof w=="string"&&w.charAt(0)!=="_"&&P[w].apply(P,S)})},a.fn.owlCarousel.Constructor=C})(window.Zepto||window.jQuery,window,document);(function(a,c,f,y){var C=function(w){this._core=w,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":a.proxy(function(S){S.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=a.extend({},C.Defaults,this._core.options),this._core.$element.on(this._handlers)};C.Defaults={autoRefresh:!0,autoRefreshInterval:500},C.prototype.watch=function(){this._interval||(this._visible=this._core.isVisible(),this._interval=c.setInterval(a.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},C.prototype.refresh=function(){this._core.isVisible()!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},C.prototype.destroy=function(){var w,S;c.clearInterval(this._interval);for(w in this._handlers)this._core.$element.off(w,this._handlers[w]);for(S in Object.getOwnPropertyNames(this))typeof this[S]!="function"&&(this[S]=null)},a.fn.owlCarousel.Constructor.Plugins.AutoRefresh=C})(window.Zepto||window.jQuery,window);(function(a,c,f,y){var C=function(w){this._core=w,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":a.proxy(function(S){if(S.namespace&&!(!this._core.settings||!this._core.settings.lazyLoad)&&(S.property&&S.property.name=="position"||S.type=="initialized")){var M=this._core.settings,P=M.center&&Math.ceil(M.items/2)||M.items,G=M.center&&P*-1||0,j=(S.property&&S.property.value!==y?S.property.value:this._core.current())+G,J=this._core.clones().length,me=a.proxy(function(ae,pe){this.load(pe)},this);for(M.lazyLoadEager>0&&(P+=M.lazyLoadEager,M.loop&&(j-=M.lazyLoadEager,P++));G++<P;)this.load(J/2+this._core.relative(j)),J&&a.each(this._core.clones(this._core.relative(j)),me),j++}},this)},this._core.options=a.extend({},C.Defaults,this._core.options),this._core.$element.on(this._handlers)};C.Defaults={lazyLoad:!1,lazyLoadEager:0},C.prototype.load=function(w){var S=this._core.$stage.children().eq(w),M=S&&S.find(".owl-lazy");!M||a.inArray(S.get(0),this._loaded)>-1||(M.each(a.proxy(function(P,G){var j=a(G),J,me=c.devicePixelRatio>1&&j.attr("data-src-retina")||j.attr("data-src")||j.attr("data-srcset");this._core.trigger("load",{element:j,url:me},"lazy"),j.is("img")?j.one("load.owl.lazy",a.proxy(function(){j.css("opacity",1),this._core.trigger("loaded",{element:j,url:me},"lazy")},this)).attr("src",me):j.is("source")?j.one("load.owl.lazy",a.proxy(function(){this._core.trigger("loaded",{element:j,url:me},"lazy")},this)).attr("srcset",me):(J=new Image,J.onload=a.proxy(function(){j.css({"background-image":'url("'+me+'")',opacity:"1"}),this._core.trigger("loaded",{element:j,url:me},"lazy")},this),J.src=me)},this)),this._loaded.push(S.get(0)))},C.prototype.destroy=function(){var w,S;for(w in this.handlers)this._core.$element.off(w,this.handlers[w]);for(S in Object.getOwnPropertyNames(this))typeof this[S]!="function"&&(this[S]=null)},a.fn.owlCarousel.Constructor.Plugins.Lazy=C})(window.Zepto||window.jQuery,window);(function(a,c,f,y){var C=function(w){this._core=w,this._previousHeight=null,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":a.proxy(function(M){M.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":a.proxy(function(M){M.namespace&&this._core.settings.autoHeight&&M.property.name==="position"&&this.update()},this),"loaded.owl.lazy":a.proxy(function(M){M.namespace&&this._core.settings.autoHeight&&M.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=a.extend({},C.Defaults,this._core.options),this._core.$element.on(this._handlers),this._intervalId=null;var S=this;a(c).on("load",function(){S._core.settings.autoHeight&&S.update()}),a(c).resize(function(){S._core.settings.autoHeight&&(S._intervalId!=null&&clearTimeout(S._intervalId),S._intervalId=setTimeout(function(){S.update()},250))})};C.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},C.prototype.update=function(){var w=this._core._current,S=w+this._core.settings.items,M=this._core.settings.lazyLoad,P=this._core.$stage.children().toArray().slice(w,S),G=[],j=0;a.each(P,function(J,me){G.push(a(me).height())}),j=Math.max.apply(null,G),j<=1&&M&&this._previousHeight&&(j=this._previousHeight),this._previousHeight=j,this._core.$stage.parent().height(j).addClass(this._core.settings.autoHeightClass)},C.prototype.destroy=function(){var w,S;for(w in this._handlers)this._core.$element.off(w,this._handlers[w]);for(S in Object.getOwnPropertyNames(this))typeof this[S]!="function"&&(this[S]=null)},a.fn.owlCarousel.Constructor.Plugins.AutoHeight=C})(window.Zepto||window.jQuery,window);(function(a,c,f,y){var C=function(w){this._core=w,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":a.proxy(function(S){S.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":a.proxy(function(S){S.namespace&&this._core.settings.video&&this.isInFullScreen()&&S.preventDefault()},this),"refreshed.owl.carousel":a.proxy(function(S){S.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":a.proxy(function(S){S.namespace&&S.property.name==="position"&&this._playing&&this.stop()},this),"prepared.owl.carousel":a.proxy(function(S){if(S.namespace){var M=a(S.content).find(".owl-video");M.length&&(M.css("display","none"),this.fetch(M,a(S.content)))}},this)},this._core.options=a.extend({},C.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",a.proxy(function(S){this.play(S)},this))};C.Defaults={video:!1,videoHeight:!1,videoWidth:!1},C.prototype.fetch=function(w,S){var M=function(){return w.attr("data-vimeo-id")?"vimeo":w.attr("data-vzaar-id")?"vzaar":"youtube"}(),P=w.attr("data-vimeo-id")||w.attr("data-youtube-id")||w.attr("data-vzaar-id"),G=w.attr("data-width")||this._core.settings.videoWidth,j=w.attr("data-height")||this._core.settings.videoHeight,J=w.attr("href");if(J){if(P=J.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com|be\-nocookie\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),P[3].indexOf("youtu")>-1)M="youtube";else if(P[3].indexOf("vimeo")>-1)M="vimeo";else if(P[3].indexOf("vzaar")>-1)M="vzaar";else throw new Error("Video URL not supported.");P=P[6]}else throw new Error("Missing video URL.");this._videos[J]={type:M,id:P,width:G,height:j},S.attr("data-video",J),this.thumbnail(w,this._videos[J])},C.prototype.thumbnail=function(w,S){var M,P,G,j=S.width&&S.height?"width:"+S.width+"px;height:"+S.height+"px;":"",J=w.find("img"),me="src",ae="",pe=this._core.settings,fe=function(ue){P='<div class="owl-video-play-icon"></div>',pe.lazyLoad?M=a("<div/>",{class:"owl-video-tn "+ae,srcType:ue}):M=a("<div/>",{class:"owl-video-tn",style:"opacity:1;background-image:url("+ue+")"}),w.after(M),w.after(P)};if(w.wrap(a("<div/>",{class:"owl-video-wrapper",style:j})),this._core.settings.lazyLoad&&(me="data-src",ae="owl-lazy"),J.length)return fe(J.attr(me)),J.remove(),!1;S.type==="youtube"?(G="//img.youtube.com/vi/"+S.id+"/hqdefault.jpg",fe(G)):S.type==="vimeo"?a.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+S.id+".json",jsonp:"callback",dataType:"jsonp",success:function(ue){G=ue[0].thumbnail_large,fe(G)}}):S.type==="vzaar"&&a.ajax({type:"GET",url:"//vzaar.com/api/videos/"+S.id+".json",jsonp:"callback",dataType:"jsonp",success:function(ue){G=ue.framegrab_url,fe(G)}})},C.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},C.prototype.play=function(w){var S=a(w.target),M=S.closest("."+this._core.settings.itemClass),P=this._videos[M.attr("data-video")],G=P.width||"100%",j=P.height||this._core.$stage.height(),J;this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),M=this._core.items(this._core.relative(M.index())),this._core.reset(M.index()),J=a('<iframe frameborder="0" allowfullscreen mozallowfullscreen webkitAllowFullScreen ></iframe>'),J.attr("height",j),J.attr("width",G),P.type==="youtube"?J.attr("src","//www.youtube.com/embed/"+P.id+"?autoplay=1&rel=0&v="+P.id):P.type==="vimeo"?J.attr("src","//player.vimeo.com/video/"+P.id+"?autoplay=1"):P.type==="vzaar"&&J.attr("src","//view.vzaar.com/"+P.id+"/player?autoplay=true"),a(J).wrap('<div class="owl-video-frame" />').insertAfter(M.find(".owl-video")),this._playing=M.addClass("owl-video-playing"))},C.prototype.isInFullScreen=function(){var w=f.fullscreenElement||f.mozFullScreenElement||f.webkitFullscreenElement;return w&&a(w).parent().hasClass("owl-video-frame")},C.prototype.destroy=function(){var w,S;this._core.$element.off("click.owl.video");for(w in this._handlers)this._core.$element.off(w,this._handlers[w]);for(S in Object.getOwnPropertyNames(this))typeof this[S]!="function"&&(this[S]=null)},a.fn.owlCarousel.Constructor.Plugins.Video=C})(window.Zepto||window.jQuery,window,document);(function(a,c,f,y){var C=function(w){this.core=w,this.core.options=a.extend({},C.Defaults,this.core.options),this.swapping=!0,this.previous=y,this.next=y,this.handlers={"change.owl.carousel":a.proxy(function(S){S.namespace&&S.property.name=="position"&&(this.previous=this.core.current(),this.next=S.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":a.proxy(function(S){S.namespace&&(this.swapping=S.type=="translated")},this),"translate.owl.carousel":a.proxy(function(S){S.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};C.Defaults={animateOut:!1,animateIn:!1},C.prototype.swap=function(){if(this.core.settings.items===1&&!(!a.support.animation||!a.support.transition)){this.core.speed(0);var w,S=a.proxy(this.clear,this),M=this.core.$stage.children().eq(this.previous),P=this.core.$stage.children().eq(this.next),G=this.core.settings.animateIn,j=this.core.settings.animateOut;this.core.current()!==this.previous&&(j&&(w=this.core.coordinates(this.previous)-this.core.coordinates(this.next),M.one(a.support.animation.end,S).css({left:w+"px"}).addClass("animated owl-animated-out").addClass(j)),G&&P.one(a.support.animation.end,S).addClass("animated owl-animated-in").addClass(G))}},C.prototype.clear=function(w){a(w.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},C.prototype.destroy=function(){var w,S;for(w in this.handlers)this.core.$element.off(w,this.handlers[w]);for(S in Object.getOwnPropertyNames(this))typeof this[S]!="function"&&(this[S]=null)},a.fn.owlCarousel.Constructor.Plugins.Animate=C})(window.Zepto||window.jQuery);(function(a,c,f,y){var C=function(w){this._core=w,this._call=null,this._time=0,this._timeout=0,this._paused=!0,this._handlers={"changed.owl.carousel":a.proxy(function(S){S.namespace&&S.property.name==="settings"?this._core.settings.autoplay?this.play():this.stop():S.namespace&&S.property.name==="position"&&this._paused&&(this._time=0)},this),"initialized.owl.carousel":a.proxy(function(S){S.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":a.proxy(function(S,M,P){S.namespace&&this.play(M,P)},this),"stop.owl.autoplay":a.proxy(function(S){S.namespace&&this.stop()},this),"mouseover.owl.autoplay":a.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":a.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":a.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":a.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=a.extend({},C.Defaults,this._core.options)};C.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},C.prototype._next=function(w){this._call=c.setTimeout(a.proxy(this._next,this,w),this._timeout*(Math.round(this.read()/this._timeout)+1)-this.read()),!(this._core.is("interacting")||f.hidden)&&this._core.next(w||this._core.settings.autoplaySpeed)},C.prototype.read=function(){return new Date().getTime()-this._time},C.prototype.play=function(w,S){var M;this._core.is("rotating")||this._core.enter("rotating"),w=w||this._core.settings.autoplayTimeout,M=Math.min(this._time%(this._timeout||w),w),this._paused?(this._time=this.read(),this._paused=!1):c.clearTimeout(this._call),this._time+=this.read()%w-M,this._timeout=w,this._call=c.setTimeout(a.proxy(this._next,this,S),w-M)},C.prototype.stop=function(){this._core.is("rotating")&&(this._time=0,this._paused=!0,c.clearTimeout(this._call),this._core.leave("rotating"))},C.prototype.pause=function(){this._core.is("rotating")&&!this._paused&&(this._time=this.read(),this._paused=!0,c.clearTimeout(this._call))},C.prototype.destroy=function(){var w,S;this.stop();for(w in this._handlers)this._core.$element.off(w,this._handlers[w]);for(S in Object.getOwnPropertyNames(this))typeof this[S]!="function"&&(this[S]=null)},a.fn.owlCarousel.Constructor.Plugins.autoplay=C})(window.Zepto||window.jQuery,window,document);(function(a,c,f,y){var C=function(w){this._core=w,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":a.proxy(function(S){S.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+a(S.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":a.proxy(function(S){S.namespace&&this._core.settings.dotsData&&this._templates.splice(S.position,0,this._templates.pop())},this),"remove.owl.carousel":a.proxy(function(S){S.namespace&&this._core.settings.dotsData&&this._templates.splice(S.position,1)},this),"changed.owl.carousel":a.proxy(function(S){S.namespace&&S.property.name=="position"&&this.draw()},this),"initialized.owl.carousel":a.proxy(function(S){S.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":a.proxy(function(S){S.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=a.extend({},C.Defaults,this._core.options),this.$element.on(this._handlers)};C.Defaults={nav:!1,navText:['<span aria-label="Previous">&#x2039;</span>','<span aria-label="Next">&#x203a;</span>'],navSpeed:!1,navElement:'button type="button" role="presentation"',navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},C.prototype.initialize=function(){var w,S=this._core.settings;this._controls.$relative=(S.navContainer?a(S.navContainer):a("<div>").addClass(S.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=a("<"+S.navElement+">").addClass(S.navClass[0]).html(S.navText[0]).prependTo(this._controls.$relative).on("click",a.proxy(function(M){this.prev(S.navSpeed)},this)),this._controls.$next=a("<"+S.navElement+">").addClass(S.navClass[1]).html(S.navText[1]).appendTo(this._controls.$relative).on("click",a.proxy(function(M){this.next(S.navSpeed)},this)),S.dotsData||(this._templates=[a('<button role="button">').addClass(S.dotClass).append(a("<span>")).prop("outerHTML")]),this._controls.$absolute=(S.dotsContainer?a(S.dotsContainer):a("<div>").addClass(S.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","button",a.proxy(function(M){var P=a(M.target).parent().is(this._controls.$absolute)?a(M.target).index():a(M.target).parent().index();M.preventDefault(),this.to(P,S.dotsSpeed)},this));for(w in this._overrides)this._core[w]=a.proxy(this[w],this)},C.prototype.destroy=function(){var w,S,M,P,G;G=this._core.settings;for(w in this._handlers)this.$element.off(w,this._handlers[w]);for(S in this._controls)S==="$relative"&&G.navContainer?this._controls[S].html(""):this._controls[S].remove();for(P in this.overides)this._core[P]=this._overrides[P];for(M in Object.getOwnPropertyNames(this))typeof this[M]!="function"&&(this[M]=null)},C.prototype.update=function(){var w,S,M=this._core.clones().length/2,P=M+this._core.items().length,G=this._core.maximum(!0),j=this._core.settings,J=j.center||j.autoWidth||j.dotsData?1:j.dotsEach||j.items;if(j.slideBy!=="page"&&(j.slideBy=Math.min(j.slideBy,j.items)),j.dots||j.slideBy=="page")for(this._pages=[],w=M,S=0,0;w<P;w++){if(S>=J||S===0){if(this._pages.push({start:Math.min(G,w-M),end:w-M+J-1}),Math.min(G,w-M)===G)break;S=0}S+=this._core.mergers(this._core.relative(w))}},C.prototype.draw=function(){var w,S=this._core.settings,M=this._core.items().length<=S.items,P=this._core.relative(this._core.current()),G=S.loop||S.rewind;this._controls.$relative.toggleClass("disabled",!S.nav||M),S.nav&&(this._controls.$previous.toggleClass("disabled",!G&&P<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!G&&P>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!S.dots||M),S.dots&&(w=this._pages.length-this._controls.$absolute.children().length,S.dotsData&&w!==0?this._controls.$absolute.html(this._templates.join("")):w>0?this._controls.$absolute.append(new Array(w+1).join(this._templates[0])):w<0&&this._controls.$absolute.children().slice(w).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(a.inArray(this.current(),this._pages)).addClass("active"))},C.prototype.onTrigger=function(w){var S=this._core.settings;w.page={index:a.inArray(this.current(),this._pages),count:this._pages.length,size:S&&(S.center||S.autoWidth||S.dotsData?1:S.dotsEach||S.items)}},C.prototype.current=function(){var w=this._core.relative(this._core.current());return a.grep(this._pages,a.proxy(function(S,M){return S.start<=w&&S.end>=w},this)).pop()},C.prototype.getPosition=function(w){var S,M,P=this._core.settings;return P.slideBy=="page"?(S=a.inArray(this.current(),this._pages),M=this._pages.length,w?++S:--S,S=this._pages[(S%M+M)%M].start):(S=this._core.relative(this._core.current()),M=this._core.items().length,w?S+=P.slideBy:S-=P.slideBy),S},C.prototype.next=function(w){a.proxy(this._overrides.to,this._core)(this.getPosition(!0),w)},C.prototype.prev=function(w){a.proxy(this._overrides.to,this._core)(this.getPosition(!1),w)},C.prototype.to=function(w,S,M){var P;!M&&this._pages.length?(P=this._pages.length,a.proxy(this._overrides.to,this._core)(this._pages[(w%P+P)%P].start,S)):a.proxy(this._overrides.to,this._core)(w,S)},a.fn.owlCarousel.Constructor.Plugins.Navigation=C})(window.Zepto||window.jQuery);(function(a,c,f,y){var C=function(w){this._core=w,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":a.proxy(function(S){S.namespace&&this._core.settings.startPosition==="URLHash"&&a(c).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":a.proxy(function(S){if(S.namespace){var M=a(S.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!M)return;this._hashes[M]=S.content}},this),"changed.owl.carousel":a.proxy(function(S){if(S.namespace&&S.property.name==="position"){var M=this._core.items(this._core.relative(this._core.current())),P=a.map(this._hashes,function(G,j){return G===M?j:null}).join();if(!P||c.location.hash.slice(1)===P)return;c.location.hash=P}},this)},this._core.options=a.extend({},C.Defaults,this._core.options),this.$element.on(this._handlers),a(c).on("hashchange.owl.navigation",a.proxy(function(S){var M=c.location.hash.substring(1),P=this._core.$stage.children(),G=this._hashes[M]&&P.index(this._hashes[M]);G===y||G===this._core.current()||this._core.to(this._core.relative(G),!1,!0)},this))};C.Defaults={URLhashListener:!1},C.prototype.destroy=function(){var w,S;a(c).off("hashchange.owl.navigation");for(w in this._handlers)this._core.$element.off(w,this._handlers[w]);for(S in Object.getOwnPropertyNames(this))typeof this[S]!="function"&&(this[S]=null)},a.fn.owlCarousel.Constructor.Plugins.Hash=C})(window.Zepto||window.jQuery,window);(function(a,c,f,y){var C=a("<support>").get(0).style,w="Webkit Moz O ms".split(" "),S={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},M={csstransforms:function(){return!!P("transform")},csstransforms3d:function(){return!!P("perspective")},csstransitions:function(){return!!P("transition")},cssanimations:function(){return!!P("animation")}};function P(j,J){var me=!1,ae=j.charAt(0).toUpperCase()+j.slice(1);return a.each((j+" "+w.join(ae+" ")+ae).split(" "),function(pe,fe){if(C[fe]!==y)return me=J?fe:!0,!1}),me}function G(j){return P(j,!0)}M.csstransitions()&&(a.support.transition=new String(G("transition")),a.support.transition.end=S.transition.end[a.support.transition]),M.cssanimations()&&(a.support.animation=new String(G("animation")),a.support.animation.end=S.animation.end[a.support.animation]),M.csstransforms()&&(a.support.transform=new String(G("transform")),a.support.transform3d=M.csstransforms3d())})(window.Zepto||window.jQuery);$(document).ready(function(){$("#footerCarousel").owlCarousel({loop:!0,autoplay:!0,nav:!1,slideTransition:"linear",autoplayTimeout:3e3,autoplaySpeed:3e3,autoWidth:!0,margin:25,autoplayHoverPause:!0,responsive:{0:{items:1},600:{items:3},1e3:{items:8}}}),$("#birthdayCarousel").owlCarousel({loop:!0,margin:10,nav:!1,center:!0,autoplay:!0,autoplayTimeout:3e3,items:1,autoplayHoverPause:!0}),$("#retirementCarousel").owlCarousel({loop:!0,margin:10,nav:!1,center:!0,autoplay:!0,autoplayTimeout:2e3,items:1,autoplayHoverPause:!0})});
