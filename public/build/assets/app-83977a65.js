var Iw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jne(a){if(a.__esModule)return a;var c=a.default;if(typeof c=="function"){var f=function y(){if(this instanceof y){var S=[null];S.push.apply(S,arguments);var D=Function.bind.apply(c,S);return new D}return c.apply(this,arguments)};f.prototype=c.prototype}else f={};return Object.defineProperty(f,"__esModule",{value:!0}),Object.keys(a).forEach(function(y){var S=Object.getOwnPropertyDescriptor(a,y);Object.defineProperty(f,y,S.get?S:{enumerable:!0,get:function(){return a[y]}})}),f}var vH={},Zne={get exports(){return vH},set exports(a){vH=a}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(a,c){(function(){var f,y="4.17.21",S=200,D="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",I="Expected a function",B="Invalid `variable` option passed into `_.template`",U="__lodash_hash_undefined__",j=500,Y="__lodash_placeholder__",ne=1,ve=2,ie=4,fe=1,ue=2,ce=1,re=2,me=4,K=8,De=16,Ge=32,H=64,Ee=128,qe=256,ut=512,yt=30,ke="...",_e=800,mn=16,wt=1,Ot=2,P=3,Rt=1/0,tt=9007199254740991,qt=17976931348623157e292,Vt=0/0,je=4294967295,vo=je-1,Bo=je>>>1,ao=[["ary",Ee],["bind",ce],["bindKey",re],["curry",K],["curryRight",De],["flip",ut],["partial",Ge],["partialRight",H],["rearg",qe]],Fo="[object Arguments]",et="[object Array]",It="[object AsyncFunction]",oe="[object Boolean]",cs="[object Date]",uo="[object DOMException]",Bt="[object Error]",gs="[object Function]",Xa="[object GeneratorFunction]",kn="[object Map]",ko="[object Number]",Yt="[object Null]",mt="[object Object]",gi="[object Promise]",vi="[object Proxy]",Lt="[object RegExp]",Lr="[object Set]",Ns="[object String]",Pc="[object Symbol]",vs="[object Undefined]",Rr="[object WeakMap]",jc="[object WeakSet]",Ca="[object ArrayBuffer]",nr="[object DataView]",Os="[object Float32Array]",rd="[object Float64Array]",Yr="[object Int8Array]",Ms="[object Int16Array]",fl="[object Int32Array]",Ii="[object Uint8Array]",Zc="[object Uint8ClampedArray]",vr="[object Uint16Array]",$r="[object Uint32Array]",Gd=/\b__p \+= '';/g,bi=/\b(__p \+=) '' \+/g,yh=/(__e\(.*?\)|\b__t\)) \+\n'';/g,an=/&(?:amp|lt|gt|quot|#39);/g,Ho=/[&<>"']/g,ca=RegExp(an.source),gc=RegExp(Ho.source),_h=/<%-([\s\S]+?)%>/g,au=/<%([\s\S]+?)%>/g,ks=/<%=([\s\S]+?)%>/g,id=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qd=/^\w*$/,Xs=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qn=/[\\^$.*+?()[\]{}|]/g,Qa=RegExp(qn.source),Ru=/^\s+/,Yc=/\s/,Eh=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Di=/\{\n\/\* \[wrapped with (.+)\] \*/,Ki=/,? & /,Ur=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Fa=/[()=,{}\[\]\/\s]/,Kc=/\\(\\)?/g,vc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Sa=/\w*$/,Br=/^[-+]0x[0-9a-f]+$/i,bc=/^0b[01]+$/i,hl=/^\[object .+?Constructor\]$/,Bp=/^0o[0-7]+$/i,Fp=/^(?:0|[1-9]\d*)$/,Ll=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Tm=/($^)/,Qe=/['\n\r\u2028\u2029\\]/g,yi="\\ud800-\\udfff",cu="\\u0300-\\u036f",Hp="\\ufe20-\\ufe2f",wh="\\u20d0-\\u20ff",Fs=cu+Hp+wh,jd="\\u2700-\\u27bf",Cm="a-z\\xdf-\\xf6\\xf8-\\xff",Xi="\\xac\\xb1\\xd7\\xf7",Xc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",oi="\\u2000-\\u206f",_i=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",lu="A-Z\\xc0-\\xd6\\xd8-\\xde",Ja="\\ufe0e\\ufe0f",uu=Xi+Xc+oi+_i,$l="['’]",ad="["+yi+"]",Cs="["+uu+"]",si="["+Fs+"]",Qc="\\d+",cd="["+jd+"]",xa="["+Cm+"]",yc="[^"+yi+uu+Qc+jd+Cm+lu+"]",br="\\ud83c[\\udffb-\\udfff]",ld="(?:"+si+"|"+br+")",du="[^"+yi+"]",bs="(?:\\ud83c[\\udde6-\\uddff]){2}",ec="[\\ud800-\\udbff][\\udc00-\\udfff]",ri="["+lu+"]",Fr="\\u200d",Jc="(?:"+xa+"|"+yc+")",Iu="(?:"+ri+"|"+yc+")",_c="(?:"+$l+"(?:d|ll|m|re|s|t|ve))?",Lc="(?:"+$l+"(?:D|LL|M|RE|S|T|VE))?",Df=ld+"?",Th="["+Ja+"]?",Vp="(?:"+Fr+"(?:"+[du,bs,ec].join("|")+")"+Th+Df+")*",tc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Du="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ch=Th+Df+Vp,Nu="(?:"+[cd,bs,ec].join("|")+")"+Ch,Nf="(?:"+[du+si+"?",si,bs,ec,ad].join("|")+")",Sm=RegExp($l,"g"),Mu=RegExp(si,"g"),ku=RegExp(br+"(?="+br+")|"+Nf+Ch,"g"),Aa=RegExp([ri+"?"+xa+"+"+_c+"(?="+[Cs,ri,"$"].join("|")+")",Iu+"+"+Lc+"(?="+[Cs,ri+Jc,"$"].join("|")+")",ri+"?"+Jc+"+"+_c,ri+"+"+Lc,Du,tc,Qc,Nu].join("|"),"g"),Ni=RegExp("["+Fr+yi+Fs+Ja+"]"),Pu=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Mf=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Up=-1,Hs={};Hs[Os]=Hs[rd]=Hs[Yr]=Hs[Ms]=Hs[fl]=Hs[Ii]=Hs[Zc]=Hs[vr]=Hs[$r]=!0,Hs[Fo]=Hs[et]=Hs[Ca]=Hs[oe]=Hs[nr]=Hs[cs]=Hs[Bt]=Hs[gs]=Hs[kn]=Hs[ko]=Hs[mt]=Hs[Lt]=Hs[Lr]=Hs[Ns]=Hs[Rr]=!1;var yr={};yr[Fo]=yr[et]=yr[Ca]=yr[nr]=yr[oe]=yr[cs]=yr[Os]=yr[rd]=yr[Yr]=yr[Ms]=yr[fl]=yr[kn]=yr[ko]=yr[mt]=yr[Lt]=yr[Lr]=yr[Ns]=yr[Pc]=yr[Ii]=yr[Zc]=yr[vr]=yr[$r]=!0,yr[Bt]=yr[gs]=yr[Rr]=!1;var nc={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Qi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ml={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},$c={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},co=parseFloat,Do=parseInt,Mi=typeof Iw=="object"&&Iw&&Iw.Object===Object&&Iw,Kr=typeof self=="object"&&self&&self.Object===Object&&self,la=Mi||Kr||Function("return this")(),T=c&&!c.nodeType&&c,N=T&&!0&&a&&!a.nodeType&&a,V=N&&N.exports===T,W=V&&Mi.process,J=function(){try{var Je=N&&N.require&&N.require("util").types;return Je||W&&W.binding&&W.binding("util")}catch{}}(),le=J&&J.isArrayBuffer,ye=J&&J.isDate,we=J&&J.isMap,Pe=J&&J.isRegExp,rt=J&&J.isSet,_t=J&&J.isTypedArray;function Kt(Je,Mt,At){switch(At.length){case 0:return Je.call(Mt);case 1:return Je.call(Mt,At[0]);case 2:return Je.call(Mt,At[0],At[1]);case 3:return Je.call(Mt,At[0],At[1],At[2])}return Je.apply(Mt,At)}function st(Je,Mt,At,Un){for(var _o=-1,Vo=Je==null?0:Je.length;++_o<Vo;){var Xr=Je[_o];Mt(Un,Xr,At(Xr),Je)}return Un}function Nt(Je,Mt){for(var At=-1,Un=Je==null?0:Je.length;++At<Un&&Mt(Je[At],At,Je)!==!1;);return Je}function Jn(Je,Mt){for(var At=Je==null?0:Je.length;At--&&Mt(Je[At],At,Je)!==!1;);return Je}function Zn(Je,Mt){for(var At=-1,Un=Je==null?0:Je.length;++At<Un;)if(!Mt(Je[At],At,Je))return!1;return!0}function Tn(Je,Mt){for(var At=-1,Un=Je==null?0:Je.length,_o=0,Vo=[];++At<Un;){var Xr=Je[At];Mt(Xr,At,Je)&&(Vo[_o++]=Xr)}return Vo}function lr(Je,Mt){var At=Je==null?0:Je.length;return!!At&&Bc(Je,Mt,0)>-1}function Gs(Je,Mt,At){for(var Un=-1,_o=Je==null?0:Je.length;++Un<_o;)if(At(Mt,Je[Un]))return!0;return!1}function ls(Je,Mt){for(var At=-1,Un=Je==null?0:Je.length,_o=Array(Un);++At<Un;)_o[At]=Mt(Je[At],At,Je);return _o}function Kn(Je,Mt){for(var At=-1,Un=Mt.length,_o=Je.length;++At<Un;)Je[_o+At]=Mt[At];return Je}function eo(Je,Mt,At,Un){var _o=-1,Vo=Je==null?0:Je.length;for(Un&&Vo&&(At=Je[++_o]);++_o<Vo;)At=Mt(At,Je[_o],_o,Je);return At}function ki(Je,Mt,At,Un){var _o=Je==null?0:Je.length;for(Un&&_o&&(At=Je[--_o]);_o--;)At=Mt(At,Je[_o],_o,Je);return At}function Ao(Je,Mt){for(var At=-1,Un=Je==null?0:Je.length;++At<Un;)if(Mt(Je[At],At,Je))return!0;return!1}var _r=Oa("length");function Bl(Je){return Je.split("")}function Vs(Je){return Je.match(Ur)||[]}function ur(Je,Mt,At){var Un;return At(Je,function(_o,Vo,Xr){if(Mt(_o,Vo,Xr))return Un=Vo,!1}),Un}function Ir(Je,Mt,At,Un){for(var _o=Je.length,Vo=At+(Un?1:-1);Un?Vo--:++Vo<_o;)if(Mt(Je[Vo],Vo,Je))return Vo;return-1}function Bc(Je,Mt,At){return Mt===Mt?xh(Je,Mt,At):Ir(Je,is,At)}function Ei(Je,Mt,At,Un){for(var _o=At-1,Vo=Je.length;++_o<Vo;)if(Un(Je[_o],Mt))return _o;return-1}function is(Je){return Je!==Je}function dr(Je,Mt){var At=Je==null?0:Je.length;return At?ho(Je,Mt)/At:Vt}function Oa(Je){return function(Mt){return Mt==null?f:Mt[Je]}}function kf(Je){return function(Mt){return Je==null?f:Je[Mt]}}function Fc(Je,Mt,At,Un,_o){return _o(Je,function(Vo,Xr,qs){At=Un?(Un=!1,Vo):Mt(At,Vo,Xr,qs)}),At}function Ec(Je,Mt){var At=Je.length;for(Je.sort(Mt);At--;)Je[At]=Je[At].value;return Je}function ho(Je,Mt){for(var At,Un=-1,_o=Je.length;++Un<_o;){var Vo=Mt(Je[Un]);Vo!==f&&(At=At===f?Vo:At+Vo)}return At}function zr(Je,Mt){for(var At=-1,Un=Array(Je);++At<Je;)Un[At]=Mt(At);return Un}function Pi(Je,Mt){return ls(Mt,function(At){return[At,Je[At]]})}function oc(Je){return Je&&Je.slice(0,Ie(Je)+1).replace(Ru,"")}function Ji(Je){return function(Mt){return Je(Mt)}}function fr(Je,Mt){return ls(Mt,function(At){return Je[At]})}function Ha(Je,Mt){return Je.has(Mt)}function Ra(Je,Mt){for(var At=-1,Un=Je.length;++At<Un&&Bc(Mt,Je[At],0)>-1;);return At}function ud(Je,Mt){for(var At=Je.length;At--&&Bc(Mt,Je[At],0)>-1;);return At}function Sh(Je,Mt){for(var At=Je.length,Un=0;At--;)Je[At]===Mt&&++Un;return Un}var zp=kf(nc),Fl=kf(Qi);function fu(Je){return"\\"+$c[Je]}function Zd(Je,Mt){return Je==null?f:Je[Mt]}function wi(Je){return Ni.test(Je)}function dd(Je){return Pu.test(Je)}function fd(Je){for(var Mt,At=[];!(Mt=Je.next()).done;)At.push(Mt.value);return At}function Lu(Je){var Mt=-1,At=Array(Je.size);return Je.forEach(function(Un,_o){At[++Mt]=[_o,Un]}),At}function sc(Je,Mt){return function(At){return Je(Mt(At))}}function ua(Je,Mt){for(var At=-1,Un=Je.length,_o=0,Vo=[];++At<Un;){var Xr=Je[At];(Xr===Mt||Xr===Y)&&(Je[At]=Y,Vo[_o++]=At)}return Vo}function hu(Je){var Mt=-1,At=Array(Je.size);return Je.forEach(function(Un){At[++Mt]=Un}),At}function hd(Je){var Mt=-1,At=Array(Je.size);return Je.forEach(function(Un){At[++Mt]=[Un,Un]}),At}function xh(Je,Mt,At){for(var Un=At-1,_o=Je.length;++Un<_o;)if(Je[Un]===Mt)return Un;return-1}function Ah(Je,Mt,At){for(var Un=At+1;Un--;)if(Je[Un]===Mt)return Un;return Un}function ws(Je){return wi(Je)?da(Je):_r(Je)}function wc(Je){return wi(Je)?Oh(Je):Bl(Je)}function Ie(Je){for(var Mt=Je.length;Mt--&&Yc.test(Je.charAt(Mt)););return Mt}var rc=kf(ml);function da(Je){for(var Mt=ku.lastIndex=0;ku.test(Je);)++Mt;return Mt}function Oh(Je){return Je.match(ku)||[]}function md(Je){return Je.match(Aa)||[]}var o1=function Je(Mt){Mt=Mt==null?la:ns.defaults(la.Object(),Mt,ns.pick(la,Mf));var At=Mt.Array,Un=Mt.Date,_o=Mt.Error,Vo=Mt.Function,Xr=Mt.Math,qs=Mt.Object,pd=Mt.RegExp,Tc=Mt.String,Ia=Mt.TypeError,Se=At.prototype,Le=Vo.prototype,ze=qs.prototype,Ht=Mt["__core-js_shared__"],lt=Le.toString,Ct=ze.hasOwnProperty,Xt=0,xn=function(){var p=/[^.]+$/.exec(Ht&&Ht.keys&&Ht.keys.IE_PROTO||"");return p?"Symbol(src)_1."+p:""}(),Nn=ze.toString,to=lt.call(qs),bo=la._,so=pd("^"+lt.call(Ct).replace(qn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Zo=V?Mt.Buffer:f,Rs=Mt.Symbol,To=Mt.Uint8Array,Li=Zo?Zo.allocUnsafe:f,$i=sc(qs.getPrototypeOf,qs),Va=qs.create,Qs=ze.propertyIsEnumerable,Hl=Se.splice,Ps=Rs?Rs.isConcatSpreadable:f,es=Rs?Rs.iterator:f,pl=Rs?Rs.toStringTag:f,xm=function(){try{var p=Bh(qs,"defineProperty");return p({},"",{}),p}catch{}}(),s1=Mt.clearTimeout!==la.clearTimeout&&Mt.clearTimeout,Da=Un&&Un.now!==la.Date.now&&Un.now,Yd=Mt.setTimeout!==la.setTimeout&&Mt.setTimeout,Vl=Xr.ceil,el=Xr.floor,Kd=qs.getOwnPropertySymbols,ro=Zo?Zo.isBuffer:f,fa=Mt.isFinite,Rh=Se.join,Ev=sc(qs.keys,qs),ii=Xr.max,ha=Xr.min,$u=Un.now,gl=Mt.parseInt,Na=Xr.random,tl=Se.reverse,ea=Bh(Mt,"DataView"),Am=Bh(Mt,"Map"),us=Bh(Mt,"Promise"),nl=Bh(Mt,"Set"),Ul=Bh(Mt,"WeakMap"),Er=Bh(qs,"create"),Om=Ul&&new Ul,zl={},gd=qf(ea),Js=qf(Am),wr=qf(us),Ua=qf(nl),r1=qf(Ul),Bu=Rs?Rs.prototype:f,Pf=Bu?Bu.valueOf:f,Rm=Bu?Bu.toString:f;function ge(p){if(kt(p)&&!ds(p)&&!(p instanceof Us)){if(p instanceof vl)return p;if(Ct.call(p,"__wrapped__"))return l0(p)}return new vl(p)}var Xd=function(){function p(){}return function(_){if(!Wi(_))return{};if(Va)return Va(_);p.prototype=_;var R=new p;return p.prototype=f,R}}();function Ih(){}function vl(p,_){this.__wrapped__=p,this.__actions__=[],this.__chain__=!!_,this.__index__=0,this.__values__=f}ge.templateSettings={escape:_h,evaluate:au,interpolate:ks,variable:"",imports:{_:ge}},ge.prototype=Ih.prototype,ge.prototype.constructor=ge,vl.prototype=Xd(Ih.prototype),vl.prototype.constructor=vl;function Us(p){this.__wrapped__=p,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=je,this.__views__=[]}function i1(){var p=new Us(this.__wrapped__);return p.__actions__=sl(this.__actions__),p.__dir__=this.__dir__,p.__filtered__=this.__filtered__,p.__iteratees__=sl(this.__iteratees__),p.__takeCount__=this.__takeCount__,p.__views__=sl(this.__views__),p}function Qd(){if(this.__filtered__){var p=new Us(this);p.__dir__=-1,p.__filtered__=!0}else p=this.clone(),p.__dir__*=-1;return p}function a1(){var p=this.__wrapped__.value(),_=this.__dir__,R=ds(p),q=_<0,he=R?p.length:0,Oe=Hw(0,he,this.__views__),Fe=Oe.start,Ze=Oe.end,pt=Ze-Fe,en=q?Ze:Fe-1,Jt=this.__iteratees__,pn=Jt.length,$n=0,fo=ha(pt,this.__takeCount__);if(!R||!q&&he==pt&&fo==pt)return Sl(p,this.__actions__);var Lo=[];e:for(;pt--&&$n<fo;){en+=_;for(var No=-1,Ro=p[en];++No<pn;){var $s=Jt[No],fs=$s.iteratee,ui=$s.type,di=fs(Ro);if(ui==Ot)Ro=di;else if(!di){if(ui==wt)continue e;break e}}Lo[$n++]=Ro}return Lo}Us.prototype=Xd(Ih.prototype),Us.prototype.constructor=Us;function ma(p){var _=-1,R=p==null?0:p.length;for(this.clear();++_<R;){var q=p[_];this.set(q[0],q[1])}}function wv(){this.__data__=Er?Er(null):{},this.size=0}function Im(p){var _=this.has(p)&&delete this.__data__[p];return this.size-=_?1:0,_}function e0(p){var _=this.__data__;if(Er){var R=_[p];return R===U?f:R}return Ct.call(_,p)?_[p]:f}function Fu(p){var _=this.__data__;return Er?_[p]!==f:Ct.call(_,p)}function c1(p,_){var R=this.__data__;return this.size+=this.has(p)?0:1,R[p]=Er&&_===f?U:_,this}ma.prototype.clear=wv,ma.prototype.delete=Im,ma.prototype.get=e0,ma.prototype.has=Fu,ma.prototype.set=c1;function za(p){var _=-1,R=p==null?0:p.length;for(this.clear();++_<R;){var q=p[_];this.set(q[0],q[1])}}function Lf(){this.__data__=[],this.size=0}function t0(p){var _=this.__data__,R=bd(_,p);if(R<0)return!1;var q=_.length-1;return R==q?_.pop():Hl.call(_,R,1),--this.size,!0}function Wp(p){var _=this.__data__,R=bd(_,p);return R<0?f:_[R][1]}function $f(p){return bd(this.__data__,p)>-1}function Tv(p,_){var R=this.__data__,q=bd(R,p);return q<0?(++this.size,R.push([p,_])):R[q][1]=_,this}za.prototype.clear=Lf,za.prototype.delete=t0,za.prototype.get=Wp,za.prototype.has=$f,za.prototype.set=Tv;function Hu(p){var _=-1,R=p==null?0:p.length;for(this.clear();++_<R;){var q=p[_];this.set(q[0],q[1])}}function Qr(){this.size=0,this.__data__={hash:new ma,map:new(Am||za),string:new ma}}function Gp(p){var _=wd(this,p).delete(p);return this.size-=_?1:0,_}function ai(p){return wd(this,p).get(p)}function pa(p){return wd(this,p).has(p)}function Pn(p,_){var R=wd(this,p),q=R.size;return R.set(p,_),this.size+=R.size==q?0:1,this}Hu.prototype.clear=Qr,Hu.prototype.delete=Gp,Hu.prototype.get=ai,Hu.prototype.has=pa,Hu.prototype.set=Pn;function nn(p){var _=-1,R=p==null?0:p.length;for(this.__data__=new Hu;++_<R;)this.add(p[_])}function Dm(p){return this.__data__.set(p,U),this}function bl(p){return this.__data__.has(p)}nn.prototype.add=nn.prototype.push=Dm,nn.prototype.has=bl;function yl(p){var _=this.__data__=new za(p);this.size=_.size}function qp(){this.__data__=new za,this.size=0}function _l(p){var _=this.__data__,R=_.delete(p);return this.size=_.size,R}function ol(p){return this.__data__.get(p)}function Vu(p){return this.__data__.has(p)}function Dr(p,_){var R=this.__data__;if(R instanceof za){var q=R.__data__;if(!Am||q.length<S-1)return q.push([p,_]),this.size=++R.size,this;R=this.__data__=new Hu(q)}return R.set(p,_),this.size=R.size,this}yl.prototype.clear=qp,yl.prototype.delete=_l,yl.prototype.get=ol,yl.prototype.has=Vu,yl.prototype.set=Dr;function vd(p,_){var R=ds(p),q=!R&&Jf(p),he=!R&&!q&&xd(p),Oe=!R&&!q&&!he&&Ic(p),Fe=R||q||he||Oe,Ze=Fe?zr(p.length,Tc):[],pt=Ze.length;for(var en in p)(_||Ct.call(p,en))&&!(Fe&&(en=="length"||he&&(en=="offset"||en=="parent")||Oe&&(en=="buffer"||en=="byteLength"||en=="byteOffset")||lf(en,pt)))&&Ze.push(en);return Ze}function Dh(p){var _=p.length;return _?p[Ff(0,_-1)]:f}function Ut(p,_){return qm(sl(p),Jr(_,0,p.length))}function n0(p){return qm(sl(p))}function Nm(p,_,R){(R!==f&&!Is(p[_],R)||R===f&&!(_ in p))&&ts(p,_,R)}function Wa(p,_,R){var q=p[_];(!(Ct.call(p,_)&&Is(q,R))||R===f&&!(_ in p))&&ts(p,_,R)}function bd(p,_){for(var R=p.length;R--;)if(Is(p[R][0],_))return R;return-1}function Jd(p,_,R,q){return Wl(p,function(he,Oe,Fe){_(q,he,R(he),Fe)}),q}function hr(p,_){return p&&zu(_,fc(_),p)}function jp(p,_){return p&&zu(_,Ql(_),p)}function ts(p,_,R){_=="__proto__"&&xm?xm(p,_,{configurable:!0,enumerable:!0,value:R,writable:!0}):p[_]=R}function Po(p,_){for(var R=-1,q=_.length,he=At(q),Oe=p==null;++R<q;)he[R]=Oe?f:L1(p,_[R]);return he}function Jr(p,_,R){return p===p&&(R!==f&&(p=p<=R?p:R),_!==f&&(p=p>=_?p:_)),p}function Cc(p,_,R,q,he,Oe){var Fe,Ze=_&ne,pt=_&ve,en=_&ie;if(R&&(Fe=he?R(p,q,he,Oe):R(p)),Fe!==f)return Fe;if(!Wi(p))return p;var Jt=ds(p);if(Jt){if(Fe=_n(p),!Ze)return sl(p,Fe)}else{var pn=cc(p),$n=pn==gs||pn==Xa;if(xd(p))return Mv(p,Ze);if(pn==mt||pn==Fo||$n&&!he){if(Fe=pt||$n?{}:Bv(p),!Ze)return pt?sf(p,jp(Fe,p)):Uf(p,hr(Fe,p))}else{if(!yr[pn])return he?p:{};Fe=v_(p,pn,Ze)}}Oe||(Oe=new yl);var fo=Oe.get(p);if(fo)return fo;Oe.set(p,Fe),Ad(p)?p.forEach(function(Ro){Fe.add(Cc(Ro,_,R,Ro,p,Oe))}):F_(p)&&p.forEach(function(Ro,$s){Fe.set($s,Cc(Ro,_,R,$s,p,Oe))});var Lo=en?pt?xc:Tr:pt?Ql:fc,No=Jt?f:Lo(p);return Nt(No||p,function(Ro,$s){No&&($s=Ro,Ro=p[$s]),Wa(Fe,$s,Cc(Ro,_,R,$s,p,Oe))}),Fe}function or(p){var _=fc(p);return function(R){return ef(R,p,_)}}function ef(p,_,R){var q=R.length;if(p==null)return!q;for(p=qs(p);q--;){var he=R[q],Oe=_[he],Fe=p[he];if(Fe===f&&!(he in p)||!Oe(Fe))return!1}return!0}function jr(p,_,R){if(typeof p!="function")throw new Ia(I);return Hh(function(){p.apply(f,R)},_)}function ys(p,_,R,q){var he=-1,Oe=lr,Fe=!0,Ze=p.length,pt=[],en=_.length;if(!Ze)return pt;R&&(_=ls(_,Ji(R))),q?(Oe=Gs,Fe=!1):_.length>=S&&(Oe=Ha,Fe=!1,_=new nn(_));e:for(;++he<Ze;){var Jt=p[he],pn=R==null?Jt:R(Jt);if(Jt=q||Jt!==0?Jt:0,Fe&&pn===pn){for(var $n=en;$n--;)if(_[$n]===pn)continue e;pt.push(Jt)}else Oe(_,pn,q)||pt.push(Jt)}return pt}var Wl=Jp(ac),xt=Jp(Zp,!0);function El(p,_){var R=!0;return Wl(p,function(q,he,Oe){return R=!!_(q,he,Oe),R}),R}function Bf(p,_,R){for(var q=-1,he=p.length;++q<he;){var Oe=p[q],Fe=_(Oe);if(Fe!=null&&(Ze===f?Fe===Fe&&!al(Fe):R(Fe,Ze)))var Ze=Fe,pt=Oe}return pt}function Wr(p,_,R,q){var he=p.length;for(R=_s(R),R<0&&(R=-R>he?0:he+R),q=q===f||q>he?he:_s(q),q<0&&(q+=he),q=R>q?0:ep(q);R<q;)p[R++]=_;return p}function Gl(p,_){var R=[];return Wl(p,function(q,he,Oe){_(q,he,Oe)&&R.push(q)}),R}function Ga(p,_,R,q,he){var Oe=-1,Fe=p.length;for(R||(R=c0),he||(he=[]);++Oe<Fe;){var Ze=p[Oe];_>0&&R(Ze)?_>1?Ga(Ze,_-1,R,q,he):Kn(he,Ze):q||(he[he.length]=Ze)}return he}var ic=h1(),Mm=h1(!0);function ac(p,_){return p&&ic(p,_,fc)}function Zp(p,_){return p&&Mm(p,_,fc)}function Bi(p,_){return Tn(_,function(R){return yn(p[R])})}function Yo(p,_){_=mr(_,p);for(var R=0,q=_.length;p!=null&&R<q;)p=p[uc(_[R++])];return R&&R==q?p:f}function $e(p,_,R){var q=_(p);return ds(p)?q:Kn(q,R(p))}function $(p){return p==null?p===f?vs:Yt:pl&&pl in qs(p)?Gf(p):Fv(p)}function de(p,_){return p>_}function He(p,_){return p!=null&&Ct.call(p,_)}function Ft(p,_){return p!=null&&_ in qs(p)}function In(p,_,R){return p>=ha(_,R)&&p<ii(_,R)}function dn(p,_,R){for(var q=R?Gs:lr,he=p[0].length,Oe=p.length,Fe=Oe,Ze=At(Oe),pt=1/0,en=[];Fe--;){var Jt=p[Fe];Fe&&_&&(Jt=ls(Jt,Ji(_))),pt=ha(Jt.length,pt),Ze[Fe]=!R&&(_||he>=120&&Jt.length>=120)?new nn(Fe&&Jt):f}Jt=p[0];var pn=-1,$n=Ze[0];e:for(;++pn<he&&en.length<pt;){var fo=Jt[pn],Lo=_?_(fo):fo;if(fo=R||fo!==0?fo:0,!($n?Ha($n,Lo):q(en,Lo,R))){for(Fe=Oe;--Fe;){var No=Ze[Fe];if(!(No?Ha(No,Lo):q(p[Fe],Lo,R)))continue e}$n&&$n.push(Lo),en.push(fo)}}return en}function Ko(p,_,R,q){return ac(p,function(he,Oe,Fe){_(q,R(he),Oe,Fe)}),q}function We(p,_,R){_=mr(_,p),p=b1(p,_);var q=p==null?p:p[uc(Ls(_))];return q==null?f:Kt(q,p,R)}function Gr(p){return kt(p)&&$(p)==Fo}function ci(p){return kt(p)&&$(p)==Ca}function ta(p){return kt(p)&&$(p)==cs}function Hr(p,_,R,q,he){return p===_?!0:p==null||_==null||!kt(p)&&!kt(_)?p!==p&&_!==_:li(p,_,R,q,Hr,he)}function li(p,_,R,q,he,Oe){var Fe=ds(p),Ze=ds(_),pt=Fe?et:cc(p),en=Ze?et:cc(_);pt=pt==Fo?mt:pt,en=en==Fo?mt:en;var Jt=pt==mt,pn=en==mt,$n=pt==en;if($n&&xd(p)){if(!xd(_))return!1;Fe=!0,Jt=!1}if($n&&!Jt)return Oe||(Oe=new yl),Fe||Ic(p)?ng(p,_,R,q,he,Oe):Hm(p,_,pt,R,q,he,Oe);if(!(R&fe)){var fo=Jt&&Ct.call(p,"__wrapped__"),Lo=pn&&Ct.call(_,"__wrapped__");if(fo||Lo){var No=fo?p.value():p,Ro=Lo?_.value():_;return Oe||(Oe=new yl),he(No,Ro,R,q,Oe)}}return $n?(Oe||(Oe=new yl),a0(p,_,R,q,he,Oe)):!1}function Ti(p){return kt(p)&&cc(p)==kn}function tf(p,_,R,q){var he=R.length,Oe=he,Fe=!q;if(p==null)return!Oe;for(p=qs(p);he--;){var Ze=R[he];if(Fe&&Ze[2]?Ze[1]!==p[Ze[0]]:!(Ze[0]in p))return!1}for(;++he<Oe;){Ze=R[he];var pt=Ze[0],en=p[pt],Jt=Ze[1];if(Fe&&Ze[2]){if(en===f&&!(pt in p))return!1}else{var pn=new yl;if(q)var $n=q(en,Jt,pt,p,_,pn);if(!($n===f?Hr(Jt,en,fe|ue,q,pn):$n))return!1}}return!0}function l1(p){if(!Wi(p)||zm(p))return!1;var _=yn(p)?so:hl;return _.test(qf(p))}function Nh(p){return kt(p)&&$(p)==Lt}function Wn(p){return kt(p)&&cc(p)==Lr}function Yp(p){return kt(p)&&N1(p.length)&&!!Hs[$(p)]}function mu(p){return typeof p=="function"?p:p==null?Jl:typeof p=="object"?ds(p)?Uu(p[0],p[1]):km(p):Z0(p)}function Ma(p){if(!rg(p))return Ev(p);var _=[];for(var R in qs(p))Ct.call(p,R)&&R!="constructor"&&_.push(R);return _}function Cv(p){if(!Wi(p))return b_(p);var _=rg(p),R=[];for(var q in p)q=="constructor"&&(_||!Ct.call(p,q))||R.push(q);return R}function yd(p,_){return p<_}function f_(p,_){var R=-1,q=Gc(p)?At(p.length):[];return Wl(p,function(he,Oe,Fe){q[++R]=_(he,Oe,Fe)}),q}function km(p){var _=v1(p);return _.length==1&&_[0][2]?Wm(_[0][0],_[0][1]):function(R){return R===p||tf(R,p,_)}}function Uu(p,_){return qu(p)&&ig(_)?Wm(uc(p),_):function(R){var q=L1(R,p);return q===f&&q===_?ib(R,p):Hr(_,q,fe|ue)}}function Sc(p,_,R,q,he){p!==_&&ic(_,function(Oe,Fe){if(he||(he=new yl),Wi(Oe))wl(p,_,Fe,R,Sc,q,he);else{var Ze=q?q(Ac(p,Fe),Oe,Fe+"",p,_,he):f;Ze===f&&(Ze=Oe),Nm(p,Fe,Ze)}},Ql)}function wl(p,_,R,q,he,Oe,Fe){var Ze=Ac(p,R),pt=Ac(_,R),en=Fe.get(pt);if(en){Nm(p,R,en);return}var Jt=Oe?Oe(Ze,pt,R+"",p,_,Fe):f,pn=Jt===f;if(pn){var $n=ds(pt),fo=!$n&&xd(pt),Lo=!$n&&!fo&&Ic(pt);Jt=pt,$n||fo||Lo?ds(Ze)?Jt=Ze:zi(Ze)?Jt=sl(Ze):fo?(pn=!1,Jt=Mv(pt,!0)):Lo?(pn=!1,Jt=kv(pt,!0)):Jt=[]:il(pt)||Jf(pt)?(Jt=Ze,Jf(Ze)?Jt=z_(Ze):(!Wi(Ze)||yn(Ze))&&(Jt=Bv(pt))):pn=!1}pn&&(Fe.set(pt,Jt),he(Jt,pt,q,Oe,Fe),Fe.delete(pt)),Nm(p,R,Jt)}function Sv(p,_){var R=p.length;if(R)return _+=_<0?R:0,lf(_,R)?p[_]:f}function h_(p,_,R){_.length?_=ls(_,function(Oe){return ds(Oe)?function(Fe){return Yo(Fe,Oe.length===1?Oe[0]:Oe)}:Oe}):_=[Jl];var q=-1;_=ls(_,Ji(Oo()));var he=f_(p,function(Oe,Fe,Ze){var pt=ls(_,function(en){return en(Oe)});return{criteria:pt,index:++q,value:Oe}});return Ec(he,function(Oe,Fe){return f1(Oe,Fe,R)})}function _d(p,_){return u1(p,_,function(R,q){return ib(p,q)})}function u1(p,_,R){for(var q=-1,he=_.length,Oe={};++q<he;){var Fe=_[q],Ze=Yo(p,Fe);R(Ze,Fe)&&ql(Oe,mr(Fe,p),Ze)}return Oe}function xv(p){return function(_){return Yo(_,p)}}function Pm(p,_,R,q){var he=q?Ei:Bc,Oe=-1,Fe=_.length,Ze=p;for(p===_&&(_=sl(_)),R&&(Ze=ls(p,Ji(R)));++Oe<Fe;)for(var pt=0,en=_[Oe],Jt=R?R(en):en;(pt=he(Ze,Jt,pt,q))>-1;)Ze!==p&&Hl.call(Ze,pt,1),Hl.call(p,pt,1);return p}function Kp(p,_){for(var R=p?_.length:0,q=R-1;R--;){var he=_[R];if(R==q||he!==Oe){var Oe=he;lf(he)?Hl.call(p,he,1):Rv(p,he)}}return p}function Ff(p,_){return p+el(Na()*(_-p+1))}function Av(p,_,R,q){for(var he=-1,Oe=ii(Vl((_-p)/(R||1)),0),Fe=At(Oe);Oe--;)Fe[q?Oe:++he]=p,p+=R;return Fe}function Ov(p,_){var R="";if(!p||_<1||_>tt)return R;do _%2&&(R+=p),_=el(_/2),_&&(p+=p);while(_);return R}function Ss(p,_){return Hv(Fh(p,_,Jl),p+"")}function o0(p){return Dh(Od(p))}function ga(p,_){var R=Od(p);return qm(R,Jr(_,0,R.length))}function ql(p,_,R,q){if(!Wi(p))return p;_=mr(_,p);for(var he=-1,Oe=_.length,Fe=Oe-1,Ze=p;Ze!=null&&++he<Oe;){var pt=uc(_[he]),en=R;if(pt==="__proto__"||pt==="constructor"||pt==="prototype")return p;if(he!=Fe){var Jt=Ze[pt];en=q?q(Jt,pt,Ze):f,en===f&&(en=Wi(Jt)?Jt:lf(_[he+1])?[]:{})}Wa(Ze,pt,en),Ze=Ze[pt]}return p}var Lm=Om?function(p,_){return Om.set(p,_),p}:Jl,Mh=xm?function(p,_){return xm(p,"toString",{configurable:!0,enumerable:!1,value:ip(_),writable:!0})}:Jl;function m_(p){return qm(Od(p))}function Fi(p,_,R){var q=-1,he=p.length;_<0&&(_=-_>he?0:he+_),R=R>he?he:R,R<0&&(R+=he),he=_>R?0:R-_>>>0,_>>>=0;for(var Oe=At(he);++q<he;)Oe[q]=p[q+_];return Oe}function Tl(p,_){var R;return Wl(p,function(q,he,Oe){return R=_(q,he,Oe),!R}),!!R}function kh(p,_,R){var q=0,he=p==null?q:p.length;if(typeof _=="number"&&_===_&&he<=Bo){for(;q<he;){var Oe=q+he>>>1,Fe=p[Oe];Fe!==null&&!al(Fe)&&(R?Fe<=_:Fe<_)?q=Oe+1:he=Oe}return he}return Ph(p,_,Jl,R)}function Ph(p,_,R,q){var he=0,Oe=p==null?0:p.length;if(Oe===0)return 0;_=R(_);for(var Fe=_!==_,Ze=_===null,pt=al(_),en=_===f;he<Oe;){var Jt=el((he+Oe)/2),pn=R(p[Jt]),$n=pn!==f,fo=pn===null,Lo=pn===pn,No=al(pn);if(Fe)var Ro=q||Lo;else en?Ro=Lo&&(q||$n):Ze?Ro=Lo&&$n&&(q||!fo):pt?Ro=Lo&&$n&&!fo&&(q||!No):fo||No?Ro=!1:Ro=q?pn<=_:pn<_;Ro?he=Jt+1:Oe=Jt}return ha(Oe,vo)}function nf(p,_){for(var R=-1,q=p.length,he=0,Oe=[];++R<q;){var Fe=p[R],Ze=_?_(Fe):Fe;if(!R||!Is(Ze,pt)){var pt=Ze;Oe[he++]=Fe===0?0:Fe}}return Oe}function Hf(p){return typeof p=="number"?p:al(p)?Vt:+p}function Cl(p){if(typeof p=="string")return p;if(ds(p))return ls(p,Cl)+"";if(al(p))return Rm?Rm.call(p):"";var _=p+"";return _=="0"&&1/p==-Rt?"-0":_}function na(p,_,R){var q=-1,he=lr,Oe=p.length,Fe=!0,Ze=[],pt=Ze;if(R)Fe=!1,he=Gs;else if(Oe>=S){var en=_?null:Dt(p);if(en)return hu(en);Fe=!1,he=Ha,pt=new nn}else pt=_?[]:Ze;e:for(;++q<Oe;){var Jt=p[q],pn=_?_(Jt):Jt;if(Jt=R||Jt!==0?Jt:0,Fe&&pn===pn){for(var $n=pt.length;$n--;)if(pt[$n]===pn)continue e;_&&pt.push(pn),Ze.push(Jt)}else he(pt,pn,R)||(pt!==Ze&&pt.push(pn),Ze.push(Jt))}return Ze}function Rv(p,_){return _=mr(_,p),p=b1(p,_),p==null||delete p[uc(Ls(_))]}function Hc(p,_,R,q){return ql(p,_,R(Yo(p,_)),q)}function jl(p,_,R,q){for(var he=p.length,Oe=q?he:-1;(q?Oe--:++Oe<he)&&_(p[Oe],Oe,p););return R?Fi(p,q?0:Oe,q?Oe+1:he):Fi(p,q?Oe+1:0,q?he:Oe)}function Sl(p,_){var R=p;return R instanceof Us&&(R=R.value()),eo(_,function(q,he){return he.func.apply(he.thisArg,Kn([q],he.args))},R)}function Xp(p,_,R){var q=p.length;if(q<2)return q?na(p[0]):[];for(var he=-1,Oe=At(q);++he<q;)for(var Fe=p[he],Ze=-1;++Ze<q;)Ze!=he&&(Oe[he]=ys(Oe[he]||Fe,p[Ze],_,R));return na(Ga(Oe,1),_,R)}function Lh(p,_,R){for(var q=-1,he=p.length,Oe=_.length,Fe={};++q<he;){var Ze=q<Oe?_[q]:f;R(Fe,p[q],Ze)}return Fe}function Iv(p){return zi(p)?p:[]}function s0(p){return typeof p=="function"?p:Jl}function mr(p,_){return ds(p)?p:qu(p,_)?[p]:jm(Mr(p))}var Dv=Ss;function Vc(p,_,R){var q=p.length;return R=R===f?q:R,!_&&R>=q?p:Fi(p,_,R)}var Nv=s1||function(p){return la.clearTimeout(p)};function Mv(p,_){if(_)return p.slice();var R=p.length,q=Li?Li(R):new p.constructor(R);return p.copy(q),q}function Vf(p){var _=new p.constructor(p.byteLength);return new To(_).set(new To(p)),_}function zs(p,_){var R=_?Vf(p.buffer):p.buffer;return new p.constructor(R,p.byteOffset,p.byteLength)}function of(p){var _=new p.constructor(p.source,Sa.exec(p));return _.lastIndex=p.lastIndex,_}function d1(p){return Pf?qs(Pf.call(p)):{}}function kv(p,_){var R=_?Vf(p.buffer):p.buffer;return new p.constructor(R,p.byteOffset,p.length)}function $m(p,_){if(p!==_){var R=p!==f,q=p===null,he=p===p,Oe=al(p),Fe=_!==f,Ze=_===null,pt=_===_,en=al(_);if(!Ze&&!en&&!Oe&&p>_||Oe&&Fe&&pt&&!Ze&&!en||q&&Fe&&pt||!R&&pt||!he)return 1;if(!q&&!Oe&&!en&&p<_||en&&R&&he&&!q&&!Oe||Ze&&R&&he||!Fe&&he||!pt)return-1}return 0}function f1(p,_,R){for(var q=-1,he=p.criteria,Oe=_.criteria,Fe=he.length,Ze=R.length;++q<Fe;){var pt=$m(he[q],Oe[q]);if(pt){if(q>=Ze)return pt;var en=R[q];return pt*(en=="desc"?-1:1)}}return p.index-_.index}function Qp(p,_,R,q){for(var he=-1,Oe=p.length,Fe=R.length,Ze=-1,pt=_.length,en=ii(Oe-Fe,0),Jt=At(pt+en),pn=!q;++Ze<pt;)Jt[Ze]=_[Ze];for(;++he<Fe;)(pn||he<Oe)&&(Jt[R[he]]=p[he]);for(;en--;)Jt[Ze++]=p[he++];return Jt}function p_(p,_,R,q){for(var he=-1,Oe=p.length,Fe=-1,Ze=R.length,pt=-1,en=_.length,Jt=ii(Oe-Ze,0),pn=At(Jt+en),$n=!q;++he<Jt;)pn[he]=p[he];for(var fo=he;++pt<en;)pn[fo+pt]=_[pt];for(;++Fe<Ze;)($n||he<Oe)&&(pn[fo+R[Fe]]=p[he++]);return pn}function sl(p,_){var R=-1,q=p.length;for(_||(_=At(q));++R<q;)_[R]=p[R];return _}function zu(p,_,R,q){var he=!R;R||(R={});for(var Oe=-1,Fe=_.length;++Oe<Fe;){var Ze=_[Oe],pt=q?q(R[Ze],p[Ze],Ze,R,p):f;pt===f&&(pt=p[Ze]),he?ts(R,Ze,pt):Wa(R,Ze,pt)}return R}function Uf(p,_){return zu(p,cf(p),_)}function sf(p,_){return zu(p,Gu(p),_)}function Wu(p,_){return function(R,q){var he=ds(R)?st:Jd,Oe=_?_():{};return he(R,p,Oo(q,2),Oe)}}function pu(p){return Ss(function(_,R){var q=-1,he=R.length,Oe=he>1?R[he-1]:f,Fe=he>2?R[2]:f;for(Oe=p.length>3&&typeof Oe=="function"?(he--,Oe):f,Fe&&Uc(R[0],R[1],Fe)&&(Oe=he<3?f:Oe,he=1),_=qs(_);++q<he;){var Ze=R[q];Ze&&p(_,Ze,q,Oe)}return _})}function Jp(p,_){return function(R,q){if(R==null)return R;if(!Gc(R))return p(R,q);for(var he=R.length,Oe=_?he:-1,Fe=qs(R);(_?Oe--:++Oe<he)&&q(Fe[Oe],Oe,Fe)!==!1;);return R}}function h1(p){return function(_,R,q){for(var he=-1,Oe=qs(_),Fe=q(_),Ze=Fe.length;Ze--;){var pt=Fe[p?Ze:++he];if(R(Oe[pt],pt,Oe)===!1)break}return _}}function zf(p,_,R){var q=_&ce,he=Fm(p);function Oe(){var Fe=this&&this!==la&&this instanceof Oe?he:p;return Fe.apply(q?R:this,arguments)}return Oe}function r0(p){return function(_){_=Mr(_);var R=wi(_)?wc(_):f,q=R?R[0]:_.charAt(0),he=R?Vc(R,1).join(""):_.slice(1);return q[p]()+he}}function Bm(p){return function(_){return eo(W0(B0(_).replace(Sm,"")),p,"")}}function Fm(p){return function(){var _=arguments;switch(_.length){case 0:return new p;case 1:return new p(_[0]);case 2:return new p(_[0],_[1]);case 3:return new p(_[0],_[1],_[2]);case 4:return new p(_[0],_[1],_[2],_[3]);case 5:return new p(_[0],_[1],_[2],_[3],_[4]);case 6:return new p(_[0],_[1],_[2],_[3],_[4],_[5]);case 7:return new p(_[0],_[1],_[2],_[3],_[4],_[5],_[6])}var R=Xd(p.prototype),q=p.apply(R,_);return Wi(q)?q:R}}function g_(p,_,R){var q=Fm(p);function he(){for(var Oe=arguments.length,Fe=At(Oe),Ze=Oe,pt=Um(he);Ze--;)Fe[Ze]=arguments[Ze];var en=Oe<3&&Fe[0]!==pt&&Fe[Oe-1]!==pt?[]:ua(Fe,pt);if(Oe-=en.length,Oe<R)return Pv(p,_,Mn,he.placeholder,f,Fe,en,f,f,R-Oe);var Jt=this&&this!==la&&this instanceof he?q:p;return Kt(Jt,this,Fe)}return he}function eg(p){return function(_,R,q){var he=qs(_);if(!Gc(_)){var Oe=Oo(R,3);_=fc(_),R=function(Ze){return Oe(he[Ze],Ze,he)}}var Fe=p(_,R,q);return Fe>-1?he[Oe?_[Fe]:Fe]:f}}function ss(p){return qa(function(_){var R=_.length,q=R,he=vl.prototype.thru;for(p&&_.reverse();q--;){var Oe=_[q];if(typeof Oe!="function")throw new Ia(I);if(he&&!Fe&&Zl(Oe)=="wrapper")var Fe=new vl([],!0)}for(q=Fe?q:R;++q<R;){Oe=_[q];var Ze=Zl(Oe),pt=Ze=="wrapper"?Vm(Oe):f;pt&&sg(pt[0])&&pt[1]==(Ee|K|Ge|qe)&&!pt[4].length&&pt[9]==1?Fe=Fe[Zl(pt[0])].apply(Fe,pt[3]):Fe=Oe.length==1&&sg(Oe)?Fe[Ze]():Fe.thru(Oe)}return function(){var en=arguments,Jt=en[0];if(Fe&&en.length==1&&ds(Jt))return Fe.plant(Jt).value();for(var pn=0,$n=R?_[pn].apply(this,en):Jt;++pn<R;)$n=_[pn].call(this,$n);return $n}})}function Mn(p,_,R,q,he,Oe,Fe,Ze,pt,en){var Jt=_&Ee,pn=_&ce,$n=_&re,fo=_&(K|De),Lo=_&ut,No=$n?f:Fm(p);function Ro(){for(var $s=arguments.length,fs=At($s),ui=$s;ui--;)fs[ui]=arguments[ui];if(fo)var di=Um(Ro),ei=Sh(fs,di);if(q&&(fs=Qp(fs,q,he,fo)),Oe&&(fs=p_(fs,Oe,Fe,fo)),$s-=ei,fo&&$s<en){var Zr=ua(fs,di);return Pv(p,_,Mn,Ro.placeholder,R,fs,Zr,Ze,pt,en-$s)}var Nc=pn?R:this,Ws=$n?Nc[p]:p;return $s=fs.length,Ze?fs=xl(fs,Ze):Lo&&$s>1&&fs.reverse(),Jt&&pt<$s&&(fs.length=pt),this&&this!==la&&this instanceof Ro&&(Ws=No||Fm(Ws)),Ws.apply(Nc,fs)}return Ro}function rf(p,_){return function(R,q){return Ko(R,p,_(q),{})}}function af(p,_){return function(R,q){var he;if(R===f&&q===f)return _;if(R!==f&&(he=R),q!==f){if(he===f)return q;typeof R=="string"||typeof q=="string"?(R=Cl(R),q=Cl(q)):(R=Hf(R),q=Hf(q)),he=p(R,q)}return he}}function tg(p){return qa(function(_){return _=ls(_,Ji(Oo())),Ss(function(R){var q=this;return p(_,function(he){return Kt(he,q,R)})})})}function m1(p,_){_=_===f?" ":Cl(_);var R=_.length;if(R<2)return R?Ov(_,p):_;var q=Ov(_,Vl(p/ws(_)));return wi(_)?Vc(wc(q),0,p).join(""):q.slice(0,p)}function i0(p,_,R,q){var he=_&ce,Oe=Fm(p);function Fe(){for(var Ze=-1,pt=arguments.length,en=-1,Jt=q.length,pn=At(Jt+pt),$n=this&&this!==la&&this instanceof Fe?Oe:p;++en<Jt;)pn[en]=q[en];for(;pt--;)pn[en++]=arguments[++Ze];return Kt($n,he?R:this,pn)}return Fe}function js(p){return function(_,R,q){return q&&typeof q!="number"&&Uc(_,R,q)&&(R=q=f),_=eh(_),R===f?(R=_,_=0):R=eh(R),q=q===f?_<R?1:-1:eh(q),Av(_,R,q,p)}}function p1(p){return function(_,R){return typeof _=="string"&&typeof R=="string"||(_=pr(_),R=pr(R)),p(_,R)}}function Pv(p,_,R,q,he,Oe,Fe,Ze,pt,en){var Jt=_&K,pn=Jt?Fe:f,$n=Jt?f:Fe,fo=Jt?Oe:f,Lo=Jt?f:Oe;_|=Jt?Ge:H,_&=~(Jt?H:Ge),_&me||(_&=~(ce|re));var No=[p,_,he,fo,pn,Lo,$n,Ze,pt,en],Ro=R.apply(f,No);return sg(p)&&uf(Ro,No),Ro.placeholder=q,cg(Ro,p,_)}function Lv(p){var _=Xr[p];return function(R,q){if(R=pr(R),q=q==null?0:ha(_s(q),292),q&&fa(R)){var he=(Mr(R)+"e").split("e"),Oe=_(he[0]+"e"+(+he[1]+q));return he=(Mr(Oe)+"e").split("e"),+(he[0]+"e"+(+he[1]-q))}return _(R)}}var Dt=nl&&1/hu(new nl([,-0]))[1]==Rt?function(p){return new nl(p)}:Pa;function $v(p){return function(_){var R=cc(_);return R==kn?Lu(_):R==Lr?hd(_):Pi(_,p(_))}}function Ed(p,_,R,q,he,Oe,Fe,Ze){var pt=_&re;if(!pt&&typeof p!="function")throw new Ia(I);var en=q?q.length:0;if(en||(_&=~(Ge|H),q=he=f),Fe=Fe===f?Fe:ii(_s(Fe),0),Ze=Ze===f?Ze:_s(Ze),en-=he?he.length:0,_&H){var Jt=q,pn=he;q=he=f}var $n=pt?f:Vm(p),fo=[p,_,R,q,he,Jt,pn,Oe,Fe,Ze];if($n&&Gm(fo,$n),p=fo[0],_=fo[1],R=fo[2],q=fo[3],he=fo[4],Ze=fo[9]=fo[9]===f?pt?0:p.length:ii(fo[9]-en,0),!Ze&&_&(K|De)&&(_&=~(K|De)),!_||_==ce)var Lo=zf(p,_,R);else _==K||_==De?Lo=g_(p,_,Ze):(_==Ge||_==(ce|Ge))&&!he.length?Lo=i0(p,_,R,q):Lo=Mn.apply(f,fo);var No=$n?Lm:uf;return cg(No(Lo,fo),p,_)}function $h(p,_,R,q){return p===f||Is(p,ze[R])&&!Ct.call(q,R)?_:p}function g1(p,_,R,q,he,Oe){return Wi(p)&&Wi(_)&&(Oe.set(_,p),Sc(p,_,f,g1,Oe),Oe.delete(_)),p}function Wf(p){return il(p)?f:p}function ng(p,_,R,q,he,Oe){var Fe=R&fe,Ze=p.length,pt=_.length;if(Ze!=pt&&!(Fe&&pt>Ze))return!1;var en=Oe.get(p),Jt=Oe.get(_);if(en&&Jt)return en==_&&Jt==p;var pn=-1,$n=!0,fo=R&ue?new nn:f;for(Oe.set(p,_),Oe.set(_,p);++pn<Ze;){var Lo=p[pn],No=_[pn];if(q)var Ro=Fe?q(No,Lo,pn,_,p,Oe):q(Lo,No,pn,p,_,Oe);if(Ro!==f){if(Ro)continue;$n=!1;break}if(fo){if(!Ao(_,function($s,fs){if(!Ha(fo,fs)&&(Lo===$s||he(Lo,$s,R,q,Oe)))return fo.push(fs)})){$n=!1;break}}else if(!(Lo===No||he(Lo,No,R,q,Oe))){$n=!1;break}}return Oe.delete(p),Oe.delete(_),$n}function Hm(p,_,R,q,he,Oe,Fe){switch(R){case nr:if(p.byteLength!=_.byteLength||p.byteOffset!=_.byteOffset)return!1;p=p.buffer,_=_.buffer;case Ca:return!(p.byteLength!=_.byteLength||!Oe(new To(p),new To(_)));case oe:case cs:case ko:return Is(+p,+_);case Bt:return p.name==_.name&&p.message==_.message;case Lt:case Ns:return p==_+"";case kn:var Ze=Lu;case Lr:var pt=q&fe;if(Ze||(Ze=hu),p.size!=_.size&&!pt)return!1;var en=Fe.get(p);if(en)return en==_;q|=ue,Fe.set(p,_);var Jt=ng(Ze(p),Ze(_),q,he,Oe,Fe);return Fe.delete(p),Jt;case Pc:if(Pf)return Pf.call(p)==Pf.call(_)}return!1}function a0(p,_,R,q,he,Oe){var Fe=R&fe,Ze=Tr(p),pt=Ze.length,en=Tr(_),Jt=en.length;if(pt!=Jt&&!Fe)return!1;for(var pn=pt;pn--;){var $n=Ze[pn];if(!(Fe?$n in _:Ct.call(_,$n)))return!1}var fo=Oe.get(p),Lo=Oe.get(_);if(fo&&Lo)return fo==_&&Lo==p;var No=!0;Oe.set(p,_),Oe.set(_,p);for(var Ro=Fe;++pn<pt;){$n=Ze[pn];var $s=p[$n],fs=_[$n];if(q)var ui=Fe?q(fs,$s,$n,_,p,Oe):q($s,fs,$n,p,_,Oe);if(!(ui===f?$s===fs||he($s,fs,R,q,Oe):ui)){No=!1;break}Ro||(Ro=$n=="constructor")}if(No&&!Ro){var di=p.constructor,ei=_.constructor;di!=ei&&"constructor"in p&&"constructor"in _&&!(typeof di=="function"&&di instanceof di&&typeof ei=="function"&&ei instanceof ei)&&(No=!1)}return Oe.delete(p),Oe.delete(_),No}function qa(p){return Hv(Fh(p,f,y1),p+"")}function Tr(p){return $e(p,fc,cf)}function xc(p){return $e(p,Ql,Gu)}var Vm=Om?function(p){return Om.get(p)}:Pa;function Zl(p){for(var _=p.name+"",R=zl[_],q=Ct.call(zl,_)?R.length:0;q--;){var he=R[q],Oe=he.func;if(Oe==null||Oe==p)return he.name}return _}function Um(p){var _=Ct.call(ge,"placeholder")?ge:p;return _.placeholder}function Oo(){var p=ge.iteratee||j0;return p=p===j0?mu:p,arguments.length?p(arguments[0],arguments[1]):p}function wd(p,_){var R=p.__data__;return Yl(_)?R[typeof _=="string"?"string":"hash"]:R.map}function v1(p){for(var _=fc(p),R=_.length;R--;){var q=_[R],he=p[q];_[R]=[q,he,ig(he)]}return _}function Bh(p,_){var R=Zd(p,_);return l1(R)?R:f}function Gf(p){var _=Ct.call(p,pl),R=p[pl];try{p[pl]=f;var q=!0}catch{}var he=Nn.call(p);return q&&(_?p[pl]=R:delete p[pl]),he}var cf=Kd?function(p){return p==null?[]:(p=qs(p),Tn(Kd(p),function(_){return Qs.call(p,_)}))}:gf,Gu=Kd?function(p){for(var _=[];p;)Kn(_,cf(p)),p=$i(p);return _}:gf,cc=$;(ea&&cc(new ea(new ArrayBuffer(1)))!=nr||Am&&cc(new Am)!=kn||us&&cc(us.resolve())!=gi||nl&&cc(new nl)!=Lr||Ul&&cc(new Ul)!=Rr)&&(cc=function(p){var _=$(p),R=_==mt?p.constructor:f,q=R?qf(R):"";if(q)switch(q){case gd:return nr;case Js:return kn;case wr:return gi;case Ua:return Lr;case r1:return Rr}return _});function Hw(p,_,R){for(var q=-1,he=R.length;++q<he;){var Oe=R[q],Fe=Oe.size;switch(Oe.type){case"drop":p+=Fe;break;case"dropRight":_-=Fe;break;case"take":_=ha(_,p+Fe);break;case"takeRight":p=ii(p,_-Fe);break}}return{start:p,end:_}}function og(p){var _=p.match(Di);return _?_[1].split(Ki):[]}function Hi(p,_,R){_=mr(_,p);for(var q=-1,he=_.length,Oe=!1;++q<he;){var Fe=uc(_[q]);if(!(Oe=p!=null&&R(p,Fe)))break;p=p[Fe]}return Oe||++q!=he?Oe:(he=p==null?0:p.length,!!he&&N1(he)&&lf(Fe,he)&&(ds(p)||Jf(p)))}function _n(p){var _=p.length,R=new p.constructor(_);return _&&typeof p[0]=="string"&&Ct.call(p,"index")&&(R.index=p.index,R.input=p.input),R}function Bv(p){return typeof p.constructor=="function"&&!rg(p)?Xd($i(p)):{}}function v_(p,_,R){var q=p.constructor;switch(_){case Ca:return Vf(p);case oe:case cs:return new q(+p);case nr:return zs(p,R);case Os:case rd:case Yr:case Ms:case fl:case Ii:case Zc:case vr:case $r:return kv(p,R);case kn:return new q;case ko:case Ns:return new q(p);case Lt:return of(p);case Lr:return new q;case Pc:return d1(p)}}function lc(p,_){var R=_.length;if(!R)return p;var q=R-1;return _[q]=(R>1?"& ":"")+_[q],_=_.join(R>2?", ":" "),p.replace(Eh,`{
/* [wrapped with `+_+`] */
`)}function c0(p){return ds(p)||Jf(p)||!!(Ps&&p&&p[Ps])}function lf(p,_){var R=typeof p;return _=_??tt,!!_&&(R=="number"||R!="symbol"&&Fp.test(p))&&p>-1&&p%1==0&&p<_}function Uc(p,_,R){if(!Wi(R))return!1;var q=typeof _;return(q=="number"?Gc(R)&&lf(_,R.length):q=="string"&&_ in R)?Is(R[_],p):!1}function qu(p,_){if(ds(p))return!1;var R=typeof p;return R=="number"||R=="symbol"||R=="boolean"||p==null||al(p)?!0:qd.test(p)||!id.test(p)||_!=null&&p in qs(_)}function Yl(p){var _=typeof p;return _=="string"||_=="number"||_=="symbol"||_=="boolean"?p!=="__proto__":p===null}function sg(p){var _=Zl(p),R=ge[_];if(typeof R!="function"||!(_ in Us.prototype))return!1;if(p===R)return!0;var q=Vm(R);return!!q&&p===q[0]}function zm(p){return!!xn&&xn in p}var Vw=Ht?yn:Y0;function rg(p){var _=p&&p.constructor,R=typeof _=="function"&&_.prototype||ze;return p===R}function ig(p){return p===p&&!Wi(p)}function Wm(p,_){return function(R){return R==null?!1:R[p]===_&&(_!==f||p in qs(R))}}function ag(p){var _=Qf(p,function(q){return R.size===j&&R.clear(),q}),R=_.cache;return _}function Gm(p,_){var R=p[1],q=_[1],he=R|q,Oe=he<(ce|re|Ee),Fe=q==Ee&&R==K||q==Ee&&R==qe&&p[7].length<=_[8]||q==(Ee|qe)&&_[7].length<=_[8]&&R==K;if(!(Oe||Fe))return p;q&ce&&(p[2]=_[2],he|=R&ce?0:me);var Ze=_[3];if(Ze){var pt=p[3];p[3]=pt?Qp(pt,Ze,_[4]):Ze,p[4]=pt?ua(p[3],Y):_[4]}return Ze=_[5],Ze&&(pt=p[5],p[5]=pt?p_(pt,Ze,_[6]):Ze,p[6]=pt?ua(p[5],Y):_[6]),Ze=_[7],Ze&&(p[7]=Ze),q&Ee&&(p[8]=p[8]==null?_[8]:ha(p[8],_[8])),p[9]==null&&(p[9]=_[9]),p[0]=_[0],p[1]=he,p}function b_(p){var _=[];if(p!=null)for(var R in qs(p))_.push(R);return _}function Fv(p){return Nn.call(p)}function Fh(p,_,R){return _=ii(_===f?p.length-1:_,0),function(){for(var q=arguments,he=-1,Oe=ii(q.length-_,0),Fe=At(Oe);++he<Oe;)Fe[he]=q[_+he];he=-1;for(var Ze=At(_+1);++he<_;)Ze[he]=q[he];return Ze[_]=R(Fe),Kt(p,this,Ze)}}function b1(p,_){return _.length<2?p:Yo(p,Fi(_,0,-1))}function xl(p,_){for(var R=p.length,q=ha(_.length,R),he=sl(p);q--;){var Oe=_[q];p[q]=lf(Oe,R)?he[Oe]:f}return p}function Ac(p,_){if(!(_==="constructor"&&typeof p[_]=="function")&&_!="__proto__")return p[_]}var uf=ju(Lm),Hh=Yd||function(p,_){return la.setTimeout(p,_)},Hv=ju(Mh);function cg(p,_,R){var q=_+"";return Hv(p,lc(q,Uw(og(q),R)))}function ju(p){var _=0,R=0;return function(){var q=$u(),he=mn-(q-R);if(R=q,he>0){if(++_>=_e)return arguments[0]}else _=0;return p.apply(f,arguments)}}function qm(p,_){var R=-1,q=p.length,he=q-1;for(_=_===f?q:_;++R<_;){var Oe=Ff(R,he),Fe=p[Oe];p[Oe]=p[R],p[R]=Fe}return p.length=_,p}var jm=ag(function(p){var _=[];return p.charCodeAt(0)===46&&_.push(""),p.replace(Xs,function(R,q,he,Oe){_.push(he?Oe.replace(Kc,"$1"):q||R)}),_});function uc(p){if(typeof p=="string"||al(p))return p;var _=p+"";return _=="0"&&1/p==-Rt?"-0":_}function qf(p){if(p!=null){try{return lt.call(p)}catch{}try{return p+""}catch{}}return""}function Uw(p,_){return Nt(ao,function(R){var q="_."+R[0];_&R[1]&&!lr(p,q)&&p.push(q)}),p.sort()}function l0(p){if(p instanceof Us)return p.clone();var _=new vl(p.__wrapped__,p.__chain__);return _.__actions__=sl(p.__actions__),_.__index__=p.__index__,_.__values__=p.__values__,_}function u0(p,_,R){(R?Uc(p,_,R):_===f)?_=1:_=ii(_s(_),0);var q=p==null?0:p.length;if(!q||_<1)return[];for(var he=0,Oe=0,Fe=At(Vl(q/_));he<q;)Fe[Oe++]=Fi(p,he,he+=_);return Fe}function sr(p){for(var _=-1,R=p==null?0:p.length,q=0,he=[];++_<R;){var Oe=p[_];Oe&&(he[q++]=Oe)}return he}function zw(){var p=arguments.length;if(!p)return[];for(var _=At(p-1),R=arguments[0],q=p;q--;)_[q-1]=arguments[q];return Kn(ds(R)?sl(R):[R],Ga(_,1))}var y_=Ss(function(p,_){return zi(p)?ys(p,Ga(_,1,zi,!0)):[]}),Ww=Ss(function(p,_){var R=Ls(_);return zi(R)&&(R=f),zi(p)?ys(p,Ga(_,1,zi,!0),Oo(R,2)):[]}),Vv=Ss(function(p,_){var R=Ls(_);return zi(R)&&(R=f),zi(p)?ys(p,Ga(_,1,zi,!0),f,R):[]});function lg(p,_,R){var q=p==null?0:p.length;return q?(_=R||_===f?1:_s(_),Fi(p,_<0?0:_,q)):[]}function jf(p,_,R){var q=p==null?0:p.length;return q?(_=R||_===f?1:_s(_),_=q-_,Fi(p,0,_<0?0:_)):[]}function Vi(p,_){return p&&p.length?jl(p,Oo(_,3),!0,!0):[]}function Zf(p,_){return p&&p.length?jl(p,Oo(_,3),!0):[]}function d0(p,_,R,q){var he=p==null?0:p.length;return he?(R&&typeof R!="number"&&Uc(p,_,R)&&(R=0,q=he),Wr(p,_,R,q)):[]}function Ci(p,_,R){var q=p==null?0:p.length;if(!q)return-1;var he=R==null?0:_s(R);return he<0&&(he=ii(q+he,0)),Ir(p,Oo(_,3),he)}function Uv(p,_,R){var q=p==null?0:p.length;if(!q)return-1;var he=q-1;return R!==f&&(he=_s(R),he=R<0?ii(q+he,0):ha(he,q-1)),Ir(p,Oo(_,3),he,!0)}function y1(p){var _=p==null?0:p.length;return _?Ga(p,1):[]}function gx(p){var _=p==null?0:p.length;return _?Ga(p,Rt):[]}function __(p,_){var R=p==null?0:p.length;return R?(_=_===f?1:_s(_),Ga(p,_)):[]}function Vh(p){for(var _=-1,R=p==null?0:p.length,q={};++_<R;){var he=p[_];q[he[0]]=he[1]}return q}function Yf(p){return p&&p.length?p[0]:f}function zv(p,_,R){var q=p==null?0:p.length;if(!q)return-1;var he=R==null?0:_s(R);return he<0&&(he=ii(q+he,0)),Bc(p,_,he)}function E_(p){var _=p==null?0:p.length;return _?Fi(p,0,-1):[]}var vx=Ss(function(p){var _=ls(p,Iv);return _.length&&_[0]===p[0]?dn(_):[]}),Td=Ss(function(p){var _=Ls(p),R=ls(p,Iv);return _===Ls(R)?_=f:R.pop(),R.length&&R[0]===p[0]?dn(R,Oo(_,2)):[]}),xs=Ss(function(p){var _=Ls(p),R=ls(p,Iv);return _=typeof _=="function"?_:f,_&&R.pop(),R.length&&R[0]===p[0]?dn(R,f,_):[]});function w_(p,_){return p==null?"":Rh.call(p,_)}function Ls(p){var _=p==null?0:p.length;return _?p[_-1]:f}function oa(p,_,R){var q=p==null?0:p.length;if(!q)return-1;var he=q;return R!==f&&(he=_s(R),he=he<0?ii(q+he,0):ha(he,q-1)),_===_?Ah(p,_,he):Ir(p,is,he,!0)}function gu(p,_){return p&&p.length?Sv(p,_s(_)):f}var zc=Ss(Uh);function Uh(p,_){return p&&p.length&&_&&_.length?Pm(p,_):p}function ug(p,_,R){return p&&p.length&&_&&_.length?Pm(p,_,Oo(R,2)):p}function Kf(p,_,R){return p&&p.length&&_&&_.length?Pm(p,_,f,R):p}var Kl=qa(function(p,_){var R=p==null?0:p.length,q=Po(p,_);return Kp(p,ls(_,function(he){return lf(he,R)?+he:he}).sort($m)),q});function Zu(p,_){var R=[];if(!(p&&p.length))return R;var q=-1,he=[],Oe=p.length;for(_=Oo(_,3);++q<Oe;){var Fe=p[q];_(Fe,q,p)&&(R.push(Fe),he.push(q))}return Kp(p,he),R}function zh(p){return p==null?p:tl.call(p)}function _1(p,_,R){var q=p==null?0:p.length;return q?(R&&typeof R!="number"&&Uc(p,_,R)?(_=0,R=q):(_=_==null?0:_s(_),R=R===f?q:_s(R)),Fi(p,_,R)):[]}function f0(p,_){return kh(p,_)}function T_(p,_,R){return Ph(p,_,Oo(R,2))}function C_(p,_){var R=p==null?0:p.length;if(R){var q=kh(p,_);if(q<R&&Is(p[q],_))return q}return-1}function dg(p,_){return kh(p,_,!0)}function h0(p,_,R){return Ph(p,_,Oo(R,2),!0)}function Gw(p,_){var R=p==null?0:p.length;if(R){var q=kh(p,_,!0)-1;if(Is(p[q],_))return q}return-1}function qw(p){return p&&p.length?nf(p):[]}function S_(p,_){return p&&p.length?nf(p,Oo(_,2)):[]}function x_(p){var _=p==null?0:p.length;return _?Fi(p,1,_):[]}function m0(p,_,R){return p&&p.length?(_=R||_===f?1:_s(_),Fi(p,0,_<0?0:_)):[]}function A_(p,_,R){var q=p==null?0:p.length;return q?(_=R||_===f?1:_s(_),_=q-_,Fi(p,_<0?0:_,q)):[]}function jw(p,_){return p&&p.length?jl(p,Oo(_,3),!1,!0):[]}function p0(p,_){return p&&p.length?jl(p,Oo(_,3)):[]}var Zm=Ss(function(p){return na(Ga(p,1,zi,!0))}),g0=Ss(function(p){var _=Ls(p);return zi(_)&&(_=f),na(Ga(p,1,zi,!0),Oo(_,2))}),Zw=Ss(function(p){var _=Ls(p);return _=typeof _=="function"?_:f,na(Ga(p,1,zi,!0),f,_)});function Yw(p){return p&&p.length?na(p):[]}function O_(p,_){return p&&p.length?na(p,Oo(_,2)):[]}function Cr(p,_){return _=typeof _=="function"?_:f,p&&p.length?na(p,f,_):[]}function df(p){if(!(p&&p.length))return[];var _=0;return p=Tn(p,function(R){if(zi(R))return _=ii(R.length,_),!0}),zr(_,function(R){return ls(p,Oa(R))})}function Wh(p,_){if(!(p&&p.length))return[];var R=df(p);return _==null?R:ls(R,function(q){return Kt(_,f,q)})}var R_=Ss(function(p,_){return zi(p)?ys(p,_):[]}),Wv=Ss(function(p){return Xp(Tn(p,zi))}),dc=Ss(function(p){var _=Ls(p);return zi(_)&&(_=f),Xp(Tn(p,zi),Oo(_,2))}),rl=Ss(function(p){var _=Ls(p);return _=typeof _=="function"?_:f,Xp(Tn(p,zi),f,_)}),Ym=Ss(df);function Gv(p,_){return Lh(p||[],_||[],Wa)}function v0(p,_){return Lh(p||[],_||[],ql)}var I_=Ss(function(p){var _=p.length,R=_>1?p[_-1]:f;return R=typeof R=="function"?(p.pop(),R):f,Wh(p,R)});function b0(p){var _=ge(p);return _.__chain__=!0,_}function D_(p,_){return _(p),p}function Al(p,_){return _(p)}var Xf=qa(function(p){var _=p.length,R=_?p[0]:0,q=this.__wrapped__,he=function(Oe){return Po(Oe,p)};return _>1||this.__actions__.length||!(q instanceof Us)||!lf(R)?this.thru(he):(q=q.slice(R,+R+(_?1:0)),q.__actions__.push({func:Al,args:[he],thisArg:f}),new vl(q,this.__chain__).thru(function(Oe){return _&&!Oe.length&&Oe.push(f),Oe}))});function Nr(){return b0(this)}function ff(){return new vl(this.value(),this.__chain__)}function Cd(){this.__values__===f&&(this.__values__=ob(this.value()));var p=this.__index__>=this.__values__.length,_=p?f:this.__values__[this.__index__++];return{done:p,value:_}}function Kw(){return this}function N_(p){for(var _,R=this;R instanceof Ih;){var q=l0(R);q.__index__=0,q.__values__=f,_?he.__wrapped__=q:_=q;var he=q;R=R.__wrapped__}return he.__wrapped__=p,_}function y0(){var p=this.__wrapped__;if(p instanceof Us){var _=p;return this.__actions__.length&&(_=new Us(this)),_=_.reverse(),_.__actions__.push({func:Al,args:[zh],thisArg:f}),new vl(_,this.__chain__)}return this.thru(zh)}function Km(){return Sl(this.__wrapped__,this.__actions__)}var _0=Wu(function(p,_,R){Ct.call(p,R)?++p[R]:ts(p,R,1)});function fg(p,_,R){var q=ds(p)?Zn:El;return R&&Uc(p,_,R)&&(_=f),q(p,Oo(_,3))}function Xm(p,_){var R=ds(p)?Tn:Gl;return R(p,Oo(_,3))}var Xw=eg(Ci),E1=eg(Uv);function w1(p,_){return Ga(T1(p,_),1)}function E0(p,_){return Ga(T1(p,_),Rt)}function qv(p,_,R){return R=R===f?1:_s(R),Ga(T1(p,_),R)}function hg(p,_){var R=ds(p)?Nt:Wl;return R(p,Oo(_,3))}function jv(p,_){var R=ds(p)?Jn:xt;return R(p,Oo(_,3))}var Gh=Wu(function(p,_,R){Ct.call(p,R)?p[R].push(_):ts(p,R,[_])});function mg(p,_,R,q){p=Gc(p)?p:Od(p),R=R&&!q?_s(R):0;var he=p.length;return R<0&&(R=ii(he+R,0)),Xl(p)?R<=he&&p.indexOf(_,R)>-1:!!he&&Bc(p,_,R)>-1}var M_=Ss(function(p,_,R){var q=-1,he=typeof _=="function",Oe=Gc(p)?At(p.length):[];return Wl(p,function(Fe){Oe[++q]=he?Kt(_,Fe,R):We(Fe,_,R)}),Oe}),k_=Wu(function(p,_,R){ts(p,R,_)});function T1(p,_){var R=ds(p)?ls:f_;return R(p,Oo(_,3))}function Sd(p,_,R,q){return p==null?[]:(ds(_)||(_=_==null?[]:[_]),R=q?f:R,ds(R)||(R=R==null?[]:[R]),h_(p,_,R))}var vu=Wu(function(p,_,R){p[R?0:1].push(_)},function(){return[[],[]]});function C1(p,_,R){var q=ds(p)?eo:Fc,he=arguments.length<3;return q(p,Oo(_,4),R,he,Wl)}function Ke(p,_,R){var q=ds(p)?ki:Fc,he=arguments.length<3;return q(p,Oo(_,4),R,he,xt)}function Sr(p,_){var R=ds(p)?Tn:Gl;return R(p,Rc(Oo(_,3)))}function Qm(p){var _=ds(p)?Dh:o0;return _(p)}function w0(p,_,R){(R?Uc(p,_,R):_===f)?_=1:_=_s(_);var q=ds(p)?Ut:ga;return q(p,_)}function er(p){var _=ds(p)?n0:m_;return _(p)}function Yu(p){if(p==null)return 0;if(Gc(p))return Xl(p)?ws(p):p.length;var _=cc(p);return _==kn||_==Lr?p.size:Ma(p).length}function S1(p,_,R){var q=ds(p)?Ao:Tl;return R&&Uc(p,_,R)&&(_=f),q(p,Oo(_,3))}var sa=Ss(function(p,_){if(p==null)return[];var R=_.length;return R>1&&Uc(p,_[0],_[1])?_=[]:R>2&&Uc(_[0],_[1],_[2])&&(_=[_[0]]),h_(p,Ga(_,1),[])}),Ku=Da||function(){return la.Date.now()};function T0(p,_){if(typeof _!="function")throw new Ia(I);return p=_s(p),function(){if(--p<1)return _.apply(this,arguments)}}function P_(p,_,R){return _=R?f:_,_=p&&_==null?p.length:_,Ed(p,Ee,f,f,f,f,_)}function Zv(p,_){var R;if(typeof _!="function")throw new Ia(I);return p=_s(p),function(){return--p>0&&(R=_.apply(this,arguments)),p<=1&&(_=f),R}}var Jm=Ss(function(p,_,R){var q=ce;if(R.length){var he=ua(R,Um(Jm));q|=Ge}return Ed(p,q,_,R,he)}),qh=Ss(function(p,_,R){var q=ce|re;if(R.length){var he=ua(R,Um(qh));q|=Ge}return Ed(_,q,p,R,he)});function Yv(p,_,R){_=R?f:_;var q=Ed(p,K,f,f,f,f,f,_);return q.placeholder=Yv.placeholder,q}function x1(p,_,R){_=R?f:_;var q=Ed(p,De,f,f,f,f,f,_);return q.placeholder=x1.placeholder,q}function Oc(p,_,R){var q,he,Oe,Fe,Ze,pt,en=0,Jt=!1,pn=!1,$n=!0;if(typeof p!="function")throw new Ia(I);_=pr(_)||0,Wi(R)&&(Jt=!!R.leading,pn="maxWait"in R,Oe=pn?ii(pr(R.maxWait)||0,_):Oe,$n="trailing"in R?!!R.trailing:$n);function fo(Zr){var Nc=q,Ws=he;return q=he=f,en=Zr,Fe=p.apply(Ws,Nc),Fe}function Lo(Zr){return en=Zr,Ze=Hh($s,_),Jt?fo(Zr):Fe}function No(Zr){var Nc=Zr-pt,Ws=Zr-en,bf=_-Nc;return pn?ha(bf,Oe-Ws):bf}function Ro(Zr){var Nc=Zr-pt,Ws=Zr-en;return pt===f||Nc>=_||Nc<0||pn&&Ws>=Oe}function $s(){var Zr=Ku();if(Ro(Zr))return fs(Zr);Ze=Hh($s,No(Zr))}function fs(Zr){return Ze=f,$n&&q?fo(Zr):(q=he=f,Fe)}function ui(){Ze!==f&&Nv(Ze),en=0,q=pt=he=Ze=f}function di(){return Ze===f?Fe:fs(Ku())}function ei(){var Zr=Ku(),Nc=Ro(Zr);if(q=arguments,he=this,pt=Zr,Nc){if(Ze===f)return Lo(pt);if(pn)return Nv(Ze),Ze=Hh($s,_),fo(pt)}return Ze===f&&(Ze=Hh($s,_)),Fe}return ei.cancel=ui,ei.flush=di,ei}var A1=Ss(function(p,_){return jr(p,1,_)}),C0=Ss(function(p,_,R){return jr(p,pr(_)||0,R)});function O1(p){return Ed(p,ut)}function Qf(p,_){if(typeof p!="function"||_!=null&&typeof _!="function")throw new Ia(I);var R=function(){var q=arguments,he=_?_.apply(this,q):q[0],Oe=R.cache;if(Oe.has(he))return Oe.get(he);var Fe=p.apply(this,q);return R.cache=Oe.set(he,Fe)||Oe,Fe};return R.cache=new(Qf.Cache||Hu),R}Qf.Cache=Hu;function Rc(p){if(typeof p!="function")throw new Ia(I);return function(){var _=arguments;switch(_.length){case 0:return!p.call(this);case 1:return!p.call(this,_[0]);case 2:return!p.call(this,_[0],_[1]);case 3:return!p.call(this,_[0],_[1],_[2])}return!p.apply(this,_)}}function Qw(p){return Zv(2,p)}var va=Dv(function(p,_){_=_.length==1&&ds(_[0])?ls(_[0],Ji(Oo())):ls(Ga(_,1),Ji(Oo()));var R=_.length;return Ss(function(q){for(var he=-1,Oe=ha(q.length,R);++he<Oe;)q[he]=_[he].call(this,q[he]);return Kt(p,this,q)})}),Kv=Ss(function(p,_){var R=ua(_,Um(Kv));return Ed(p,Ge,f,_,R)}),hf=Ss(function(p,_){var R=ua(_,Um(hf));return Ed(p,H,f,_,R)}),R1=qa(function(p,_){return Ed(p,qe,f,f,f,_)});function L_(p,_){if(typeof p!="function")throw new Ia(I);return _=_===f?_:_s(_),Ss(p,_)}function S0(p,_){if(typeof p!="function")throw new Ia(I);return _=_==null?0:ii(_s(_),0),Ss(function(R){var q=R[_],he=Vc(R,0,_);return q&&Kn(he,q),Kt(p,this,he)})}function x0(p,_,R){var q=!0,he=!0;if(typeof p!="function")throw new Ia(I);return Wi(R)&&(q="leading"in R?!!R.leading:q,he="trailing"in R?!!R.trailing:he),Oc(p,_,{leading:q,maxWait:_,trailing:he})}function A0(p){return P_(p,1)}function O0(p,_){return Kv(s0(_),p)}function $_(){if(!arguments.length)return[];var p=arguments[0];return ds(p)?p:[p]}function Jw(p){return Cc(p,ie)}function ba(p,_){return _=typeof _=="function"?_:f,Cc(p,ie,_)}function Ui(p){return Cc(p,ne|ie)}function Wc(p,_){return _=typeof _=="function"?_:f,Cc(p,ne|ie,_)}function Ol(p,_){return _==null||ef(p,_,fc(_))}function Is(p,_){return p===_||p!==p&&_!==_}var ka=p1(de),Xu=p1(function(p,_){return p>=_}),Jf=Gr(function(){return arguments}())?Gr:function(p){return kt(p)&&Ct.call(p,"callee")&&!Qs.call(p,"callee")},ds=At.isArray,Xv=le?Ji(le):ci;function Gc(p){return p!=null&&N1(p.length)&&!yn(p)}function zi(p){return kt(p)&&Gc(p)}function I1(p){return p===!0||p===!1||kt(p)&&$(p)==oe}var xd=ro||Y0,R0=ye?Ji(ye):ta;function bx(p){return kt(p)&&p.nodeType===1&&!il(p)}function Qv(p){if(p==null)return!0;if(Gc(p)&&(ds(p)||typeof p=="string"||typeof p.splice=="function"||xd(p)||Ic(p)||Jf(p)))return!p.length;var _=cc(p);if(_==kn||_==Lr)return!p.size;if(rg(p))return!Ma(p).length;for(var R in p)if(Ct.call(p,R))return!1;return!0}function I0(p,_){return Hr(p,_)}function Jv(p,_,R){R=typeof R=="function"?R:f;var q=R?R(p,_):f;return q===f?Hr(p,_,f,R):!!q}function D1(p){if(!kt(p))return!1;var _=$(p);return _==Bt||_==uo||typeof p.message=="string"&&typeof p.name=="string"&&!il(p)}function B_(p){return typeof p=="number"&&fa(p)}function yn(p){if(!Wi(p))return!1;var _=$(p);return _==gs||_==Xa||_==It||_==vi}function eb(p){return typeof p=="number"&&p==_s(p)}function N1(p){return typeof p=="number"&&p>-1&&p%1==0&&p<=tt}function Wi(p){var _=typeof p;return p!=null&&(_=="object"||_=="function")}function kt(p){return p!=null&&typeof p=="object"}var F_=we?Ji(we):Ti;function ya(p,_){return p===_||tf(p,_,v1(_))}function eT(p,_,R){return R=typeof R=="function"?R:f,tf(p,_,v1(_),R)}function H_(p){return pg(p)&&p!=+p}function V_(p){if(Vw(p))throw new _o(D);return l1(p)}function bu(p){return p===null}function yu(p){return p==null}function pg(p){return typeof p=="number"||kt(p)&&$(p)==ko}function il(p){if(!kt(p)||$(p)!=mt)return!1;var _=$i(p);if(_===null)return!0;var R=Ct.call(_,"constructor")&&_.constructor;return typeof R=="function"&&R instanceof R&&lt.call(R)==to}var M1=Pe?Ji(Pe):Nh;function k1(p){return eb(p)&&p>=-tt&&p<=tt}var Ad=rt?Ji(rt):Wn;function Xl(p){return typeof p=="string"||!ds(p)&&kt(p)&&$(p)==Ns}function al(p){return typeof p=="symbol"||kt(p)&&$(p)==Pc}var Ic=_t?Ji(_t):Yp;function tT(p){return p===f}function tb(p){return kt(p)&&cc(p)==Rr}function nb(p){return kt(p)&&$(p)==jc}var jh=p1(yd),U_=p1(function(p,_){return p<=_});function ob(p){if(!p)return[];if(Gc(p))return Xl(p)?wc(p):sl(p);if(es&&p[es])return fd(p[es]());var _=cc(p),R=_==kn?Lu:_==Lr?hu:Od;return R(p)}function eh(p){if(!p)return p===0?p:0;if(p=pr(p),p===Rt||p===-Rt){var _=p<0?-1:1;return _*qt}return p===p?p:0}function _s(p){var _=eh(p),R=_%1;return _===_?R?_-R:_:0}function ep(p){return p?Jr(_s(p),0,je):0}function pr(p){if(typeof p=="number")return p;if(al(p))return Vt;if(Wi(p)){var _=typeof p.valueOf=="function"?p.valueOf():p;p=Wi(_)?_+"":_}if(typeof p!="string")return p===0?p:+p;p=oc(p);var R=bc.test(p);return R||Bp.test(p)?Do(p.slice(2),R?2:8):Br.test(p)?Vt:+p}function z_(p){return zu(p,Ql(p))}function tp(p){return p?Jr(_s(p),-tt,tt):p===0?p:0}function Mr(p){return p==null?"":Cl(p)}var sb=pu(function(p,_){if(rg(_)||Gc(_)){zu(_,fc(_),p);return}for(var R in _)Ct.call(_,R)&&Wa(p,R,_[R])}),W_=pu(function(p,_){zu(_,Ql(_),p)}),gg=pu(function(p,_,R,q){zu(_,Ql(_),p,q)}),nT=pu(function(p,_,R,q){zu(_,fc(_),p,q)}),P1=qa(Po);function G_(p,_){var R=Xd(p);return _==null?R:hr(R,_)}var q_=Ss(function(p,_){p=qs(p);var R=-1,q=_.length,he=q>2?_[2]:f;for(he&&Uc(_[0],_[1],he)&&(q=1);++R<q;)for(var Oe=_[R],Fe=Ql(Oe),Ze=-1,pt=Fe.length;++Ze<pt;){var en=Fe[Ze],Jt=p[en];(Jt===f||Is(Jt,ze[en])&&!Ct.call(p,en))&&(p[en]=Oe[en])}return p}),D0=Ss(function(p){return p.push(f,g1),Kt(np,f,p)});function N0(p,_){return ur(p,Oo(_,3),ac)}function j_(p,_){return ur(p,Oo(_,3),Zp)}function mf(p,_){return p==null?p:ic(p,Oo(_,3),Ql)}function rb(p,_){return p==null?p:Mm(p,Oo(_,3),Ql)}function _u(p,_){return p&&ac(p,Oo(_,3))}function Zs(p,_){return p&&Zp(p,Oo(_,3))}function vg(p){return p==null?[]:Bi(p,fc(p))}function Dc(p){return p==null?[]:Bi(p,Ql(p))}function L1(p,_,R){var q=p==null?f:Yo(p,_);return q===f?R:q}function Z_(p,_){return p!=null&&Hi(p,_,He)}function ib(p,_){return p!=null&&Hi(p,_,Ft)}var $1=rf(function(p,_,R){_!=null&&typeof _.toString!="function"&&(_=Nn.call(_)),p[_]=R},ip(Jl)),M0=rf(function(p,_,R){_!=null&&typeof _.toString!="function"&&(_=Nn.call(_)),Ct.call(p,_)?p[_].push(R):p[_]=[R]},Oo),Y_=Ss(We);function fc(p){return Gc(p)?vd(p):Ma(p)}function Ql(p){return Gc(p)?vd(p,!0):Cv(p)}function oT(p,_){var R={};return _=Oo(_,3),ac(p,function(q,he,Oe){ts(R,_(q,he,Oe),q)}),R}function sT(p,_){var R={};return _=Oo(_,3),ac(p,function(q,he,Oe){ts(R,he,_(q,he,Oe))}),R}var rT=pu(function(p,_,R){Sc(p,_,R)}),np=pu(function(p,_,R,q){Sc(p,_,R,q)}),k0=qa(function(p,_){var R={};if(p==null)return R;var q=!1;_=ls(_,function(Oe){return Oe=mr(Oe,p),q||(q=Oe.length>1),Oe}),zu(p,xc(p),R),q&&(R=Cc(R,ne|ve|ie,Wf));for(var he=_.length;he--;)Rv(R,_[he]);return R});function P0(p,_){return K_(p,Rc(Oo(_)))}var op=qa(function(p,_){return p==null?{}:_d(p,_)});function K_(p,_){if(p==null)return{};var R=ls(xc(p),function(q){return[q]});return _=Oo(_),u1(p,R,function(q,he){return _(q,he[0])})}function iT(p,_,R){_=mr(_,p);var q=-1,he=_.length;for(he||(he=1,p=f);++q<he;){var Oe=p==null?f:p[uc(_[q])];Oe===f&&(q=he,Oe=R),p=yn(Oe)?Oe.call(p):Oe}return p}function aT(p,_,R){return p==null?p:ql(p,_,R)}function L0(p,_,R,q){return q=typeof q=="function"?q:f,p==null?p:ql(p,_,R,q)}var $0=$v(fc),Zh=$v(Ql);function X_(p,_,R){var q=ds(p),he=q||xd(p)||Ic(p);if(_=Oo(_,4),R==null){var Oe=p&&p.constructor;he?R=q?new Oe:[]:Wi(p)?R=yn(Oe)?Xd($i(p)):{}:R={}}return(he?Nt:ac)(p,function(Fe,Ze,pt){return _(R,Fe,Ze,pt)}),R}function cT(p,_){return p==null?!0:Rv(p,_)}function lT(p,_,R){return p==null?p:Hc(p,_,s0(R))}function uT(p,_,R,q){return q=typeof q=="function"?q:f,p==null?p:Hc(p,_,s0(R),q)}function Od(p){return p==null?[]:fr(p,fc(p))}function ab(p){return p==null?[]:fr(p,Ql(p))}function sp(p,_,R){return R===f&&(R=_,_=f),R!==f&&(R=pr(R),R=R===R?R:0),_!==f&&(_=pr(_),_=_===_?_:0),Jr(pr(p),_,R)}function cb(p,_,R){return _=eh(_),R===f?(R=_,_=0):R=eh(R),p=pr(p),In(p,_,R)}function Q_(p,_,R){if(R&&typeof R!="boolean"&&Uc(p,_,R)&&(_=R=f),R===f&&(typeof _=="boolean"?(R=_,_=f):typeof p=="boolean"&&(R=p,p=f)),p===f&&_===f?(p=0,_=1):(p=eh(p),_===f?(_=p,p=0):_=eh(_)),p>_){var q=p;p=_,_=q}if(R||p%1||_%1){var he=Na();return ha(p+he*(_-p+co("1e-"+((he+"").length-1))),_)}return Ff(p,_)}var pf=Bm(function(p,_,R){return _=_.toLowerCase(),p+(R?B1(_):_)});function B1(p){return H1(Mr(p).toLowerCase())}function B0(p){return p=Mr(p),p&&p.replace(Ll,zp).replace(Mu,"")}function Rd(p,_,R){p=Mr(p),_=Cl(_);var q=p.length;R=R===f?q:Jr(_s(R),0,q);var he=R;return R-=_.length,R>=0&&p.slice(R,he)==_}function Yh(p){return p=Mr(p),p&&gc.test(p)?p.replace(Ho,Fl):p}function F0(p){return p=Mr(p),p&&Qa.test(p)?p.replace(qn,"\\$&"):p}var J_=Bm(function(p,_,R){return p+(R?"-":"")+_.toLowerCase()}),dT=Bm(function(p,_,R){return p+(R?" ":"")+_.toLowerCase()}),fT=r0("toLowerCase");function H0(p,_,R){p=Mr(p),_=_s(_);var q=_?ws(p):0;if(!_||q>=_)return p;var he=(_-q)/2;return m1(el(he),R)+p+m1(Vl(he),R)}function hT(p,_,R){p=Mr(p),_=_s(_);var q=_?ws(p):0;return _&&q<_?p+m1(_-q,R):p}function mT(p,_,R){p=Mr(p),_=_s(_);var q=_?ws(p):0;return _&&q<_?m1(_-q,R)+p:p}function eE(p,_,R){return R||_==null?_=0:_&&(_=+_),gl(Mr(p).replace(Ru,""),_||0)}function tE(p,_,R){return(R?Uc(p,_,R):_===f)?_=1:_=_s(_),Ov(Mr(p),_)}function lb(){var p=arguments,_=Mr(p[0]);return p.length<3?_:_.replace(p[1],p[2])}var pT=Bm(function(p,_,R){return p+(R?"_":"")+_.toLowerCase()});function gT(p,_,R){return R&&typeof R!="number"&&Uc(p,_,R)&&(_=R=f),R=R===f?je:R>>>0,R?(p=Mr(p),p&&(typeof _=="string"||_!=null&&!M1(_))&&(_=Cl(_),!_&&wi(p))?Vc(wc(p),0,R):p.split(_,R)):[]}var vT=Bm(function(p,_,R){return p+(R?" ":"")+H1(_)});function nE(p,_,R){return p=Mr(p),R=R==null?0:Jr(_s(R),0,p.length),_=Cl(_),p.slice(R,R+_.length)==_}function V0(p,_,R){var q=ge.templateSettings;R&&Uc(p,_,R)&&(_=f),p=Mr(p),_=gg({},_,q,$h);var he=gg({},_.imports,q.imports,$h),Oe=fc(he),Fe=fr(he,Oe),Ze,pt,en=0,Jt=_.interpolate||Tm,pn="__p += '",$n=pd((_.escape||Tm).source+"|"+Jt.source+"|"+(Jt===ks?vc:Tm).source+"|"+(_.evaluate||Tm).source+"|$","g"),fo="//# sourceURL="+(Ct.call(_,"sourceURL")?(_.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Up+"]")+`
`;p.replace($n,function(Ro,$s,fs,ui,di,ei){return fs||(fs=ui),pn+=p.slice(en,ei).replace(Qe,fu),$s&&(Ze=!0,pn+=`' +
__e(`+$s+`) +
'`),di&&(pt=!0,pn+=`';
`+di+`;
__p += '`),fs&&(pn+=`' +
((__t = (`+fs+`)) == null ? '' : __t) +
'`),en=ei+Ro.length,Ro}),pn+=`';
`;var Lo=Ct.call(_,"variable")&&_.variable;if(!Lo)pn=`with (obj) {
`+pn+`
}
`;else if(Fa.test(Lo))throw new _o(B);pn=(pt?pn.replace(Gd,""):pn).replace(bi,"$1").replace(yh,"$1;"),pn="function("+(Lo||"obj")+`) {
`+(Lo?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Ze?", __e = _.escape":"")+(pt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+pn+`return __p
}`;var No=G0(function(){return Vo(Oe,fo+"return "+pn).apply(f,Fe)});if(No.source=pn,D1(No))throw No;return No}function oE(p){return Mr(p).toLowerCase()}function bT(p){return Mr(p).toUpperCase()}function sE(p,_,R){if(p=Mr(p),p&&(R||_===f))return oc(p);if(!p||!(_=Cl(_)))return p;var q=wc(p),he=wc(_),Oe=Ra(q,he),Fe=ud(q,he)+1;return Vc(q,Oe,Fe).join("")}function F1(p,_,R){if(p=Mr(p),p&&(R||_===f))return p.slice(0,Ie(p)+1);if(!p||!(_=Cl(_)))return p;var q=wc(p),he=ud(q,wc(_))+1;return Vc(q,0,he).join("")}function U0(p,_,R){if(p=Mr(p),p&&(R||_===f))return p.replace(Ru,"");if(!p||!(_=Cl(_)))return p;var q=wc(p),he=Ra(q,wc(_));return Vc(q,he).join("")}function z0(p,_){var R=yt,q=ke;if(Wi(_)){var he="separator"in _?_.separator:he;R="length"in _?_s(_.length):R,q="omission"in _?Cl(_.omission):q}p=Mr(p);var Oe=p.length;if(wi(p)){var Fe=wc(p);Oe=Fe.length}if(R>=Oe)return p;var Ze=R-ws(q);if(Ze<1)return q;var pt=Fe?Vc(Fe,0,Ze).join(""):p.slice(0,Ze);if(he===f)return pt+q;if(Fe&&(Ze+=pt.length-Ze),M1(he)){if(p.slice(Ze).search(he)){var en,Jt=pt;for(he.global||(he=pd(he.source,Mr(Sa.exec(he))+"g")),he.lastIndex=0;en=he.exec(Jt);)var pn=en.index;pt=pt.slice(0,pn===f?Ze:pn)}}else if(p.indexOf(Cl(he),Ze)!=Ze){var $n=pt.lastIndexOf(he);$n>-1&&(pt=pt.slice(0,$n))}return pt+q}function bg(p){return p=Mr(p),p&&ca.test(p)?p.replace(an,rc):p}var ub=Bm(function(p,_,R){return p+(R?" ":"")+_.toUpperCase()}),H1=r0("toUpperCase");function W0(p,_,R){return p=Mr(p),_=R?f:_,_===f?dd(p)?md(p):Vs(p):p.match(_)||[]}var G0=Ss(function(p,_){try{return Kt(p,f,_)}catch(R){return D1(R)?R:new _o(R)}}),rE=qa(function(p,_){return Nt(_,function(R){R=uc(R),ts(p,R,Jm(p[R],p))}),p});function rp(p){var _=p==null?0:p.length,R=Oo();return p=_?ls(p,function(q){if(typeof q[1]!="function")throw new Ia(I);return[R(q[0]),q[1]]}):[],Ss(function(q){for(var he=-1;++he<_;){var Oe=p[he];if(Kt(Oe[0],this,q))return Kt(Oe[1],this,q)}})}function iE(p){return or(Cc(p,ne))}function ip(p){return function(){return p}}function yT(p,_){return p==null||p!==p?_:p}var q0=ss(),aE=ss(!0);function Jl(p){return p}function j0(p){return mu(typeof p=="function"?p:Cc(p,ne))}function db(p){return km(Cc(p,ne))}function V1(p,_){return Uu(p,Cc(_,ne))}var th=Ss(function(p,_){return function(R){return We(R,p,_)}}),_T=Ss(function(p,_){return function(R){return We(p,R,_)}});function U1(p,_,R){var q=fc(_),he=Bi(_,q);R==null&&!(Wi(_)&&(he.length||!q.length))&&(R=_,_=p,p=this,he=Bi(_,fc(_)));var Oe=!(Wi(R)&&"chain"in R)||!!R.chain,Fe=yn(p);return Nt(he,function(Ze){var pt=_[Ze];p[Ze]=pt,Fe&&(p.prototype[Ze]=function(){var en=this.__chain__;if(Oe||en){var Jt=p(this.__wrapped__),pn=Jt.__actions__=sl(this.__actions__);return pn.push({func:pt,args:arguments,thisArg:p}),Jt.__chain__=en,Jt}return pt.apply(p,Kn([this.value()],arguments))})}),p}function cE(){return la._===this&&(la._=bo),this}function Pa(){}function lE(p){return p=_s(p),Ss(function(_){return Sv(_,p)})}var ap=tg(ls),ET=tg(Zn),z1=tg(Ao);function Z0(p){return qu(p)?Oa(uc(p)):xv(p)}function yg(p){return function(_){return p==null?f:Yo(p,_)}}var cp=js(),W1=js(!0);function gf(){return[]}function Y0(){return!1}function Gi(){return{}}function eu(){return""}function fb(){return!0}function uE(p,_){if(p=_s(p),p<1||p>tt)return[];var R=je,q=ha(p,je);_=Oo(_),p-=je;for(var he=zr(q,_);++R<p;)_(R);return he}function dE(p){return ds(p)?ls(p,uc):al(p)?[p]:sl(jm(Mr(p)))}function K0(p){var _=++Xt;return Mr(p)+_}var lp=af(function(p,_){return p+_},0),G1=Lv("ceil"),up=af(function(p,_){return p/_},1),yx=Lv("floor");function _g(p){return p&&p.length?Bf(p,Jl,de):f}function q1(p,_){return p&&p.length?Bf(p,Oo(_,2),de):f}function dp(p){return dr(p,Jl)}function X0(p,_){return dr(p,Oo(_,2))}function Eg(p){return p&&p.length?Bf(p,Jl,yd):f}function _a(p,_){return p&&p.length?Bf(p,Oo(_,2),yd):f}var Q0=af(function(p,_){return p*_},1),Id=Lv("round"),vf=af(function(p,_){return p-_},0);function Kh(p){return p&&p.length?ho(p,Jl):0}function fp(p,_){return p&&p.length?ho(p,Oo(_,2)):0}return ge.after=T0,ge.ary=P_,ge.assign=sb,ge.assignIn=W_,ge.assignInWith=gg,ge.assignWith=nT,ge.at=P1,ge.before=Zv,ge.bind=Jm,ge.bindAll=rE,ge.bindKey=qh,ge.castArray=$_,ge.chain=b0,ge.chunk=u0,ge.compact=sr,ge.concat=zw,ge.cond=rp,ge.conforms=iE,ge.constant=ip,ge.countBy=_0,ge.create=G_,ge.curry=Yv,ge.curryRight=x1,ge.debounce=Oc,ge.defaults=q_,ge.defaultsDeep=D0,ge.defer=A1,ge.delay=C0,ge.difference=y_,ge.differenceBy=Ww,ge.differenceWith=Vv,ge.drop=lg,ge.dropRight=jf,ge.dropRightWhile=Vi,ge.dropWhile=Zf,ge.fill=d0,ge.filter=Xm,ge.flatMap=w1,ge.flatMapDeep=E0,ge.flatMapDepth=qv,ge.flatten=y1,ge.flattenDeep=gx,ge.flattenDepth=__,ge.flip=O1,ge.flow=q0,ge.flowRight=aE,ge.fromPairs=Vh,ge.functions=vg,ge.functionsIn=Dc,ge.groupBy=Gh,ge.initial=E_,ge.intersection=vx,ge.intersectionBy=Td,ge.intersectionWith=xs,ge.invert=$1,ge.invertBy=M0,ge.invokeMap=M_,ge.iteratee=j0,ge.keyBy=k_,ge.keys=fc,ge.keysIn=Ql,ge.map=T1,ge.mapKeys=oT,ge.mapValues=sT,ge.matches=db,ge.matchesProperty=V1,ge.memoize=Qf,ge.merge=rT,ge.mergeWith=np,ge.method=th,ge.methodOf=_T,ge.mixin=U1,ge.negate=Rc,ge.nthArg=lE,ge.omit=k0,ge.omitBy=P0,ge.once=Qw,ge.orderBy=Sd,ge.over=ap,ge.overArgs=va,ge.overEvery=ET,ge.overSome=z1,ge.partial=Kv,ge.partialRight=hf,ge.partition=vu,ge.pick=op,ge.pickBy=K_,ge.property=Z0,ge.propertyOf=yg,ge.pull=zc,ge.pullAll=Uh,ge.pullAllBy=ug,ge.pullAllWith=Kf,ge.pullAt=Kl,ge.range=cp,ge.rangeRight=W1,ge.rearg=R1,ge.reject=Sr,ge.remove=Zu,ge.rest=L_,ge.reverse=zh,ge.sampleSize=w0,ge.set=aT,ge.setWith=L0,ge.shuffle=er,ge.slice=_1,ge.sortBy=sa,ge.sortedUniq=qw,ge.sortedUniqBy=S_,ge.split=gT,ge.spread=S0,ge.tail=x_,ge.take=m0,ge.takeRight=A_,ge.takeRightWhile=jw,ge.takeWhile=p0,ge.tap=D_,ge.throttle=x0,ge.thru=Al,ge.toArray=ob,ge.toPairs=$0,ge.toPairsIn=Zh,ge.toPath=dE,ge.toPlainObject=z_,ge.transform=X_,ge.unary=A0,ge.union=Zm,ge.unionBy=g0,ge.unionWith=Zw,ge.uniq=Yw,ge.uniqBy=O_,ge.uniqWith=Cr,ge.unset=cT,ge.unzip=df,ge.unzipWith=Wh,ge.update=lT,ge.updateWith=uT,ge.values=Od,ge.valuesIn=ab,ge.without=R_,ge.words=W0,ge.wrap=O0,ge.xor=Wv,ge.xorBy=dc,ge.xorWith=rl,ge.zip=Ym,ge.zipObject=Gv,ge.zipObjectDeep=v0,ge.zipWith=I_,ge.entries=$0,ge.entriesIn=Zh,ge.extend=W_,ge.extendWith=gg,U1(ge,ge),ge.add=lp,ge.attempt=G0,ge.camelCase=pf,ge.capitalize=B1,ge.ceil=G1,ge.clamp=sp,ge.clone=Jw,ge.cloneDeep=Ui,ge.cloneDeepWith=Wc,ge.cloneWith=ba,ge.conformsTo=Ol,ge.deburr=B0,ge.defaultTo=yT,ge.divide=up,ge.endsWith=Rd,ge.eq=Is,ge.escape=Yh,ge.escapeRegExp=F0,ge.every=fg,ge.find=Xw,ge.findIndex=Ci,ge.findKey=N0,ge.findLast=E1,ge.findLastIndex=Uv,ge.findLastKey=j_,ge.floor=yx,ge.forEach=hg,ge.forEachRight=jv,ge.forIn=mf,ge.forInRight=rb,ge.forOwn=_u,ge.forOwnRight=Zs,ge.get=L1,ge.gt=ka,ge.gte=Xu,ge.has=Z_,ge.hasIn=ib,ge.head=Yf,ge.identity=Jl,ge.includes=mg,ge.indexOf=zv,ge.inRange=cb,ge.invoke=Y_,ge.isArguments=Jf,ge.isArray=ds,ge.isArrayBuffer=Xv,ge.isArrayLike=Gc,ge.isArrayLikeObject=zi,ge.isBoolean=I1,ge.isBuffer=xd,ge.isDate=R0,ge.isElement=bx,ge.isEmpty=Qv,ge.isEqual=I0,ge.isEqualWith=Jv,ge.isError=D1,ge.isFinite=B_,ge.isFunction=yn,ge.isInteger=eb,ge.isLength=N1,ge.isMap=F_,ge.isMatch=ya,ge.isMatchWith=eT,ge.isNaN=H_,ge.isNative=V_,ge.isNil=yu,ge.isNull=bu,ge.isNumber=pg,ge.isObject=Wi,ge.isObjectLike=kt,ge.isPlainObject=il,ge.isRegExp=M1,ge.isSafeInteger=k1,ge.isSet=Ad,ge.isString=Xl,ge.isSymbol=al,ge.isTypedArray=Ic,ge.isUndefined=tT,ge.isWeakMap=tb,ge.isWeakSet=nb,ge.join=w_,ge.kebabCase=J_,ge.last=Ls,ge.lastIndexOf=oa,ge.lowerCase=dT,ge.lowerFirst=fT,ge.lt=jh,ge.lte=U_,ge.max=_g,ge.maxBy=q1,ge.mean=dp,ge.meanBy=X0,ge.min=Eg,ge.minBy=_a,ge.stubArray=gf,ge.stubFalse=Y0,ge.stubObject=Gi,ge.stubString=eu,ge.stubTrue=fb,ge.multiply=Q0,ge.nth=gu,ge.noConflict=cE,ge.noop=Pa,ge.now=Ku,ge.pad=H0,ge.padEnd=hT,ge.padStart=mT,ge.parseInt=eE,ge.random=Q_,ge.reduce=C1,ge.reduceRight=Ke,ge.repeat=tE,ge.replace=lb,ge.result=iT,ge.round=Id,ge.runInContext=Je,ge.sample=Qm,ge.size=Yu,ge.snakeCase=pT,ge.some=S1,ge.sortedIndex=f0,ge.sortedIndexBy=T_,ge.sortedIndexOf=C_,ge.sortedLastIndex=dg,ge.sortedLastIndexBy=h0,ge.sortedLastIndexOf=Gw,ge.startCase=vT,ge.startsWith=nE,ge.subtract=vf,ge.sum=Kh,ge.sumBy=fp,ge.template=V0,ge.times=uE,ge.toFinite=eh,ge.toInteger=_s,ge.toLength=ep,ge.toLower=oE,ge.toNumber=pr,ge.toSafeInteger=tp,ge.toString=Mr,ge.toUpper=bT,ge.trim=sE,ge.trimEnd=F1,ge.trimStart=U0,ge.truncate=z0,ge.unescape=bg,ge.uniqueId=K0,ge.upperCase=ub,ge.upperFirst=H1,ge.each=hg,ge.eachRight=jv,ge.first=Yf,U1(ge,function(){var p={};return ac(ge,function(_,R){Ct.call(ge.prototype,R)||(p[R]=_)}),p}(),{chain:!1}),ge.VERSION=y,Nt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(p){ge[p].placeholder=ge}),Nt(["drop","take"],function(p,_){Us.prototype[p]=function(R){R=R===f?1:ii(_s(R),0);var q=this.__filtered__&&!_?new Us(this):this.clone();return q.__filtered__?q.__takeCount__=ha(R,q.__takeCount__):q.__views__.push({size:ha(R,je),type:p+(q.__dir__<0?"Right":"")}),q},Us.prototype[p+"Right"]=function(R){return this.reverse()[p](R).reverse()}}),Nt(["filter","map","takeWhile"],function(p,_){var R=_+1,q=R==wt||R==P;Us.prototype[p]=function(he){var Oe=this.clone();return Oe.__iteratees__.push({iteratee:Oo(he,3),type:R}),Oe.__filtered__=Oe.__filtered__||q,Oe}}),Nt(["head","last"],function(p,_){var R="take"+(_?"Right":"");Us.prototype[p]=function(){return this[R](1).value()[0]}}),Nt(["initial","tail"],function(p,_){var R="drop"+(_?"":"Right");Us.prototype[p]=function(){return this.__filtered__?new Us(this):this[R](1)}}),Us.prototype.compact=function(){return this.filter(Jl)},Us.prototype.find=function(p){return this.filter(p).head()},Us.prototype.findLast=function(p){return this.reverse().find(p)},Us.prototype.invokeMap=Ss(function(p,_){return typeof p=="function"?new Us(this):this.map(function(R){return We(R,p,_)})}),Us.prototype.reject=function(p){return this.filter(Rc(Oo(p)))},Us.prototype.slice=function(p,_){p=_s(p);var R=this;return R.__filtered__&&(p>0||_<0)?new Us(R):(p<0?R=R.takeRight(-p):p&&(R=R.drop(p)),_!==f&&(_=_s(_),R=_<0?R.dropRight(-_):R.take(_-p)),R)},Us.prototype.takeRightWhile=function(p){return this.reverse().takeWhile(p).reverse()},Us.prototype.toArray=function(){return this.take(je)},ac(Us.prototype,function(p,_){var R=/^(?:filter|find|map|reject)|While$/.test(_),q=/^(?:head|last)$/.test(_),he=ge[q?"take"+(_=="last"?"Right":""):_],Oe=q||/^find/.test(_);he&&(ge.prototype[_]=function(){var Fe=this.__wrapped__,Ze=q?[1]:arguments,pt=Fe instanceof Us,en=Ze[0],Jt=pt||ds(Fe),pn=function($s){var fs=he.apply(ge,Kn([$s],Ze));return q&&$n?fs[0]:fs};Jt&&R&&typeof en=="function"&&en.length!=1&&(pt=Jt=!1);var $n=this.__chain__,fo=!!this.__actions__.length,Lo=Oe&&!$n,No=pt&&!fo;if(!Oe&&Jt){Fe=No?Fe:new Us(this);var Ro=p.apply(Fe,Ze);return Ro.__actions__.push({func:Al,args:[pn],thisArg:f}),new vl(Ro,$n)}return Lo&&No?p.apply(this,Ze):(Ro=this.thru(pn),Lo?q?Ro.value()[0]:Ro.value():Ro)})}),Nt(["pop","push","shift","sort","splice","unshift"],function(p){var _=Se[p],R=/^(?:push|sort|unshift)$/.test(p)?"tap":"thru",q=/^(?:pop|shift)$/.test(p);ge.prototype[p]=function(){var he=arguments;if(q&&!this.__chain__){var Oe=this.value();return _.apply(ds(Oe)?Oe:[],he)}return this[R](function(Fe){return _.apply(ds(Fe)?Fe:[],he)})}}),ac(Us.prototype,function(p,_){var R=ge[_];if(R){var q=R.name+"";Ct.call(zl,q)||(zl[q]=[]),zl[q].push({name:_,func:R})}}),zl[Mn(f,re).name]=[{name:"wrapper",func:f}],Us.prototype.clone=i1,Us.prototype.reverse=Qd,Us.prototype.value=a1,ge.prototype.at=Xf,ge.prototype.chain=Nr,ge.prototype.commit=ff,ge.prototype.next=Cd,ge.prototype.plant=N_,ge.prototype.reverse=y0,ge.prototype.toJSON=ge.prototype.valueOf=ge.prototype.value=Km,ge.prototype.first=ge.prototype.head,es&&(ge.prototype[es]=Kw),ge},ns=o1();N?((N.exports=ns)._=ns,T._=ns):la._=ns}).call(Iw)})(Zne,vH);const Yne=vH;var TZ={},Kne={get exports(){return TZ},set exports(a){TZ=a}};/*!
 * jQuery JavaScript Library v3.6.4
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-03-08T15:28Z
 */(function(a){(function(c,f){a.exports=c.document?f(c,!0):function(y){if(!y.document)throw new Error("jQuery requires a window with a document");return f(y)}})(typeof window<"u"?window:Iw,function(c,f){var y=[],S=Object.getPrototypeOf,D=y.slice,I=y.flat?function(T){return y.flat.call(T)}:function(T){return y.concat.apply([],T)},B=y.push,U=y.indexOf,j={},Y=j.toString,ne=j.hasOwnProperty,ve=ne.toString,ie=ve.call(Object),fe={},ue=function(N){return typeof N=="function"&&typeof N.nodeType!="number"&&typeof N.item!="function"},ce=function(N){return N!=null&&N===N.window},re=c.document,me={type:!0,src:!0,nonce:!0,noModule:!0};function K(T,N,V){V=V||re;var W,J,le=V.createElement("script");if(le.text=T,N)for(W in me)J=N[W]||N.getAttribute&&N.getAttribute(W),J&&le.setAttribute(W,J);V.head.appendChild(le).parentNode.removeChild(le)}function De(T){return T==null?T+"":typeof T=="object"||typeof T=="function"?j[Y.call(T)]||"object":typeof T}var Ge="3.6.4",H=function(T,N){return new H.fn.init(T,N)};H.fn=H.prototype={jquery:Ge,constructor:H,length:0,toArray:function(){return D.call(this)},get:function(T){return T==null?D.call(this):T<0?this[T+this.length]:this[T]},pushStack:function(T){var N=H.merge(this.constructor(),T);return N.prevObject=this,N},each:function(T){return H.each(this,T)},map:function(T){return this.pushStack(H.map(this,function(N,V){return T.call(N,V,N)}))},slice:function(){return this.pushStack(D.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(H.grep(this,function(T,N){return(N+1)%2}))},odd:function(){return this.pushStack(H.grep(this,function(T,N){return N%2}))},eq:function(T){var N=this.length,V=+T+(T<0?N:0);return this.pushStack(V>=0&&V<N?[this[V]]:[])},end:function(){return this.prevObject||this.constructor()},push:B,sort:y.sort,splice:y.splice},H.extend=H.fn.extend=function(){var T,N,V,W,J,le,ye=arguments[0]||{},we=1,Pe=arguments.length,rt=!1;for(typeof ye=="boolean"&&(rt=ye,ye=arguments[we]||{},we++),typeof ye!="object"&&!ue(ye)&&(ye={}),we===Pe&&(ye=this,we--);we<Pe;we++)if((T=arguments[we])!=null)for(N in T)W=T[N],!(N==="__proto__"||ye===W)&&(rt&&W&&(H.isPlainObject(W)||(J=Array.isArray(W)))?(V=ye[N],J&&!Array.isArray(V)?le=[]:!J&&!H.isPlainObject(V)?le={}:le=V,J=!1,ye[N]=H.extend(rt,le,W)):W!==void 0&&(ye[N]=W));return ye},H.extend({expando:"jQuery"+(Ge+Math.random()).replace(/\D/g,""),isReady:!0,error:function(T){throw new Error(T)},noop:function(){},isPlainObject:function(T){var N,V;return!T||Y.call(T)!=="[object Object]"?!1:(N=S(T),N?(V=ne.call(N,"constructor")&&N.constructor,typeof V=="function"&&ve.call(V)===ie):!0)},isEmptyObject:function(T){var N;for(N in T)return!1;return!0},globalEval:function(T,N,V){K(T,{nonce:N&&N.nonce},V)},each:function(T,N){var V,W=0;if(Ee(T))for(V=T.length;W<V&&N.call(T[W],W,T[W])!==!1;W++);else for(W in T)if(N.call(T[W],W,T[W])===!1)break;return T},makeArray:function(T,N){var V=N||[];return T!=null&&(Ee(Object(T))?H.merge(V,typeof T=="string"?[T]:T):B.call(V,T)),V},inArray:function(T,N,V){return N==null?-1:U.call(N,T,V)},merge:function(T,N){for(var V=+N.length,W=0,J=T.length;W<V;W++)T[J++]=N[W];return T.length=J,T},grep:function(T,N,V){for(var W,J=[],le=0,ye=T.length,we=!V;le<ye;le++)W=!N(T[le],le),W!==we&&J.push(T[le]);return J},map:function(T,N,V){var W,J,le=0,ye=[];if(Ee(T))for(W=T.length;le<W;le++)J=N(T[le],le,V),J!=null&&ye.push(J);else for(le in T)J=N(T[le],le,V),J!=null&&ye.push(J);return I(ye)},guid:1,support:fe}),typeof Symbol=="function"&&(H.fn[Symbol.iterator]=y[Symbol.iterator]),H.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(T,N){j["[object "+N+"]"]=N.toLowerCase()});function Ee(T){var N=!!T&&"length"in T&&T.length,V=De(T);return ue(T)||ce(T)?!1:V==="array"||N===0||typeof N=="number"&&N>0&&N-1 in T}var qe=function(T){var N,V,W,J,le,ye,we,Pe,rt,_t,Kt,st,Nt,Jn,Zn,Tn,lr,Gs,ls,Kn="sizzle"+1*new Date,eo=T.document,ki=0,Ao=0,_r=wc(),Bl=wc(),Vs=wc(),ur=wc(),Ir=function(Se,Le){return Se===Le&&(Kt=!0),0},Bc={}.hasOwnProperty,Ei=[],is=Ei.pop,dr=Ei.push,Oa=Ei.push,kf=Ei.slice,Fc=function(Se,Le){for(var ze=0,Ht=Se.length;ze<Ht;ze++)if(Se[ze]===Le)return ze;return-1},Ec="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ho="[\\x20\\t\\r\\n\\f]",zr="(?:\\\\[\\da-fA-F]{1,6}"+ho+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Pi="\\["+ho+"*("+zr+")(?:"+ho+"*([*^$|!~]?=)"+ho+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+zr+"))|)"+ho+"*\\]",oc=":("+zr+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Pi+")*)|.*)\\)|)",Ji=new RegExp(ho+"+","g"),fr=new RegExp("^"+ho+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ho+"+$","g"),Ha=new RegExp("^"+ho+"*,"+ho+"*"),Ra=new RegExp("^"+ho+"*([>+~]|"+ho+")"+ho+"*"),ud=new RegExp(ho+"|>"),Sh=new RegExp(oc),zp=new RegExp("^"+zr+"$"),Fl={ID:new RegExp("^#("+zr+")"),CLASS:new RegExp("^\\.("+zr+")"),TAG:new RegExp("^("+zr+"|[*])"),ATTR:new RegExp("^"+Pi),PSEUDO:new RegExp("^"+oc),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ho+"*(even|odd|(([+-]|)(\\d*)n|)"+ho+"*(?:([+-]|)"+ho+"*(\\d+)|))"+ho+"*\\)|)","i"),bool:new RegExp("^(?:"+Ec+")$","i"),needsContext:new RegExp("^"+ho+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ho+"*((?:-\\d)?\\d*)"+ho+"*\\)|)(?=[^-]|$)","i")},fu=/HTML$/i,Zd=/^(?:input|select|textarea|button)$/i,wi=/^h\d$/i,dd=/^[^{]+\{\s*\[native \w/,fd=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Lu=/[+~]/,sc=new RegExp("\\\\[\\da-fA-F]{1,6}"+ho+"?|\\\\([^\\r\\n\\f])","g"),ua=function(Se,Le){var ze="0x"+Se.slice(1)-65536;return Le||(ze<0?String.fromCharCode(ze+65536):String.fromCharCode(ze>>10|55296,ze&1023|56320))},hu=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,hd=function(Se,Le){return Le?Se==="\0"?"�":Se.slice(0,-1)+"\\"+Se.charCodeAt(Se.length-1).toString(16)+" ":"\\"+Se},xh=function(){st()},Ah=_o(function(Se){return Se.disabled===!0&&Se.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{Oa.apply(Ei=kf.call(eo.childNodes),eo.childNodes),Ei[eo.childNodes.length].nodeType}catch{Oa={apply:Ei.length?function(Le,ze){dr.apply(Le,kf.call(ze))}:function(Le,ze){for(var Ht=Le.length,lt=0;Le[Ht++]=ze[lt++];);Le.length=Ht-1}}}function ws(Se,Le,ze,Ht){var lt,Ct,Xt,xn,Nn,to,bo,so=Le&&Le.ownerDocument,Zo=Le?Le.nodeType:9;if(ze=ze||[],typeof Se!="string"||!Se||Zo!==1&&Zo!==9&&Zo!==11)return ze;if(!Ht&&(st(Le),Le=Le||Nt,Zn)){if(Zo!==11&&(Nn=fd.exec(Se)))if(lt=Nn[1]){if(Zo===9)if(Xt=Le.getElementById(lt)){if(Xt.id===lt)return ze.push(Xt),ze}else return ze;else if(so&&(Xt=so.getElementById(lt))&&ls(Le,Xt)&&Xt.id===lt)return ze.push(Xt),ze}else{if(Nn[2])return Oa.apply(ze,Le.getElementsByTagName(Se)),ze;if((lt=Nn[3])&&V.getElementsByClassName&&Le.getElementsByClassName)return Oa.apply(ze,Le.getElementsByClassName(lt)),ze}if(V.qsa&&!ur[Se+" "]&&(!Tn||!Tn.test(Se))&&(Zo!==1||Le.nodeName.toLowerCase()!=="object")){if(bo=Se,so=Le,Zo===1&&(ud.test(Se)||Ra.test(Se))){for(so=Lu.test(Se)&&Mt(Le.parentNode)||Le,(so!==Le||!V.scope)&&((xn=Le.getAttribute("id"))?xn=xn.replace(hu,hd):Le.setAttribute("id",xn=Kn)),to=ye(Se),Ct=to.length;Ct--;)to[Ct]=(xn?"#"+xn:":scope")+" "+Un(to[Ct]);bo=to.join(",")}try{return Oa.apply(ze,so.querySelectorAll(bo)),ze}catch{ur(Se,!0)}finally{xn===Kn&&Le.removeAttribute("id")}}}return Pe(Se.replace(fr,"$1"),Le,ze,Ht)}function wc(){var Se=[];function Le(ze,Ht){return Se.push(ze+" ")>W.cacheLength&&delete Le[Se.shift()],Le[ze+" "]=Ht}return Le}function Ie(Se){return Se[Kn]=!0,Se}function rc(Se){var Le=Nt.createElement("fieldset");try{return!!Se(Le)}catch{return!1}finally{Le.parentNode&&Le.parentNode.removeChild(Le),Le=null}}function da(Se,Le){for(var ze=Se.split("|"),Ht=ze.length;Ht--;)W.attrHandle[ze[Ht]]=Le}function Oh(Se,Le){var ze=Le&&Se,Ht=ze&&Se.nodeType===1&&Le.nodeType===1&&Se.sourceIndex-Le.sourceIndex;if(Ht)return Ht;if(ze){for(;ze=ze.nextSibling;)if(ze===Le)return-1}return Se?1:-1}function md(Se){return function(Le){var ze=Le.nodeName.toLowerCase();return ze==="input"&&Le.type===Se}}function o1(Se){return function(Le){var ze=Le.nodeName.toLowerCase();return(ze==="input"||ze==="button")&&Le.type===Se}}function ns(Se){return function(Le){return"form"in Le?Le.parentNode&&Le.disabled===!1?"label"in Le?"label"in Le.parentNode?Le.parentNode.disabled===Se:Le.disabled===Se:Le.isDisabled===Se||Le.isDisabled!==!Se&&Ah(Le)===Se:Le.disabled===Se:"label"in Le?Le.disabled===Se:!1}}function Je(Se){return Ie(function(Le){return Le=+Le,Ie(function(ze,Ht){for(var lt,Ct=Se([],ze.length,Le),Xt=Ct.length;Xt--;)ze[lt=Ct[Xt]]&&(ze[lt]=!(Ht[lt]=ze[lt]))})})}function Mt(Se){return Se&&typeof Se.getElementsByTagName<"u"&&Se}V=ws.support={},le=ws.isXML=function(Se){var Le=Se&&Se.namespaceURI,ze=Se&&(Se.ownerDocument||Se).documentElement;return!fu.test(Le||ze&&ze.nodeName||"HTML")},st=ws.setDocument=function(Se){var Le,ze,Ht=Se?Se.ownerDocument||Se:eo;return Ht==Nt||Ht.nodeType!==9||!Ht.documentElement||(Nt=Ht,Jn=Nt.documentElement,Zn=!le(Nt),eo!=Nt&&(ze=Nt.defaultView)&&ze.top!==ze&&(ze.addEventListener?ze.addEventListener("unload",xh,!1):ze.attachEvent&&ze.attachEvent("onunload",xh)),V.scope=rc(function(lt){return Jn.appendChild(lt).appendChild(Nt.createElement("div")),typeof lt.querySelectorAll<"u"&&!lt.querySelectorAll(":scope fieldset div").length}),V.cssHas=rc(function(){try{return Nt.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),V.attributes=rc(function(lt){return lt.className="i",!lt.getAttribute("className")}),V.getElementsByTagName=rc(function(lt){return lt.appendChild(Nt.createComment("")),!lt.getElementsByTagName("*").length}),V.getElementsByClassName=dd.test(Nt.getElementsByClassName),V.getById=rc(function(lt){return Jn.appendChild(lt).id=Kn,!Nt.getElementsByName||!Nt.getElementsByName(Kn).length}),V.getById?(W.filter.ID=function(lt){var Ct=lt.replace(sc,ua);return function(Xt){return Xt.getAttribute("id")===Ct}},W.find.ID=function(lt,Ct){if(typeof Ct.getElementById<"u"&&Zn){var Xt=Ct.getElementById(lt);return Xt?[Xt]:[]}}):(W.filter.ID=function(lt){var Ct=lt.replace(sc,ua);return function(Xt){var xn=typeof Xt.getAttributeNode<"u"&&Xt.getAttributeNode("id");return xn&&xn.value===Ct}},W.find.ID=function(lt,Ct){if(typeof Ct.getElementById<"u"&&Zn){var Xt,xn,Nn,to=Ct.getElementById(lt);if(to){if(Xt=to.getAttributeNode("id"),Xt&&Xt.value===lt)return[to];for(Nn=Ct.getElementsByName(lt),xn=0;to=Nn[xn++];)if(Xt=to.getAttributeNode("id"),Xt&&Xt.value===lt)return[to]}return[]}}),W.find.TAG=V.getElementsByTagName?function(lt,Ct){if(typeof Ct.getElementsByTagName<"u")return Ct.getElementsByTagName(lt);if(V.qsa)return Ct.querySelectorAll(lt)}:function(lt,Ct){var Xt,xn=[],Nn=0,to=Ct.getElementsByTagName(lt);if(lt==="*"){for(;Xt=to[Nn++];)Xt.nodeType===1&&xn.push(Xt);return xn}return to},W.find.CLASS=V.getElementsByClassName&&function(lt,Ct){if(typeof Ct.getElementsByClassName<"u"&&Zn)return Ct.getElementsByClassName(lt)},lr=[],Tn=[],(V.qsa=dd.test(Nt.querySelectorAll))&&(rc(function(lt){var Ct;Jn.appendChild(lt).innerHTML="<a id='"+Kn+"'></a><select id='"+Kn+"-\r\\' msallowcapture=''><option selected=''></option></select>",lt.querySelectorAll("[msallowcapture^='']").length&&Tn.push("[*^$]="+ho+`*(?:''|"")`),lt.querySelectorAll("[selected]").length||Tn.push("\\["+ho+"*(?:value|"+Ec+")"),lt.querySelectorAll("[id~="+Kn+"-]").length||Tn.push("~="),Ct=Nt.createElement("input"),Ct.setAttribute("name",""),lt.appendChild(Ct),lt.querySelectorAll("[name='']").length||Tn.push("\\["+ho+"*name"+ho+"*="+ho+`*(?:''|"")`),lt.querySelectorAll(":checked").length||Tn.push(":checked"),lt.querySelectorAll("a#"+Kn+"+*").length||Tn.push(".#.+[+~]"),lt.querySelectorAll("\\\f"),Tn.push("[\\r\\n\\f]")}),rc(function(lt){lt.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var Ct=Nt.createElement("input");Ct.setAttribute("type","hidden"),lt.appendChild(Ct).setAttribute("name","D"),lt.querySelectorAll("[name=d]").length&&Tn.push("name"+ho+"*[*^$|!~]?="),lt.querySelectorAll(":enabled").length!==2&&Tn.push(":enabled",":disabled"),Jn.appendChild(lt).disabled=!0,lt.querySelectorAll(":disabled").length!==2&&Tn.push(":enabled",":disabled"),lt.querySelectorAll("*,:x"),Tn.push(",.*:")})),(V.matchesSelector=dd.test(Gs=Jn.matches||Jn.webkitMatchesSelector||Jn.mozMatchesSelector||Jn.oMatchesSelector||Jn.msMatchesSelector))&&rc(function(lt){V.disconnectedMatch=Gs.call(lt,"*"),Gs.call(lt,"[s!='']:x"),lr.push("!=",oc)}),V.cssHas||Tn.push(":has"),Tn=Tn.length&&new RegExp(Tn.join("|")),lr=lr.length&&new RegExp(lr.join("|")),Le=dd.test(Jn.compareDocumentPosition),ls=Le||dd.test(Jn.contains)?function(lt,Ct){var Xt=lt.nodeType===9&&lt.documentElement||lt,xn=Ct&&Ct.parentNode;return lt===xn||!!(xn&&xn.nodeType===1&&(Xt.contains?Xt.contains(xn):lt.compareDocumentPosition&&lt.compareDocumentPosition(xn)&16))}:function(lt,Ct){if(Ct){for(;Ct=Ct.parentNode;)if(Ct===lt)return!0}return!1},Ir=Le?function(lt,Ct){if(lt===Ct)return Kt=!0,0;var Xt=!lt.compareDocumentPosition-!Ct.compareDocumentPosition;return Xt||(Xt=(lt.ownerDocument||lt)==(Ct.ownerDocument||Ct)?lt.compareDocumentPosition(Ct):1,Xt&1||!V.sortDetached&&Ct.compareDocumentPosition(lt)===Xt?lt==Nt||lt.ownerDocument==eo&&ls(eo,lt)?-1:Ct==Nt||Ct.ownerDocument==eo&&ls(eo,Ct)?1:_t?Fc(_t,lt)-Fc(_t,Ct):0:Xt&4?-1:1)}:function(lt,Ct){if(lt===Ct)return Kt=!0,0;var Xt,xn=0,Nn=lt.parentNode,to=Ct.parentNode,bo=[lt],so=[Ct];if(!Nn||!to)return lt==Nt?-1:Ct==Nt?1:Nn?-1:to?1:_t?Fc(_t,lt)-Fc(_t,Ct):0;if(Nn===to)return Oh(lt,Ct);for(Xt=lt;Xt=Xt.parentNode;)bo.unshift(Xt);for(Xt=Ct;Xt=Xt.parentNode;)so.unshift(Xt);for(;bo[xn]===so[xn];)xn++;return xn?Oh(bo[xn],so[xn]):bo[xn]==eo?-1:so[xn]==eo?1:0}),Nt},ws.matches=function(Se,Le){return ws(Se,null,null,Le)},ws.matchesSelector=function(Se,Le){if(st(Se),V.matchesSelector&&Zn&&!ur[Le+" "]&&(!lr||!lr.test(Le))&&(!Tn||!Tn.test(Le)))try{var ze=Gs.call(Se,Le);if(ze||V.disconnectedMatch||Se.document&&Se.document.nodeType!==11)return ze}catch{ur(Le,!0)}return ws(Le,Nt,null,[Se]).length>0},ws.contains=function(Se,Le){return(Se.ownerDocument||Se)!=Nt&&st(Se),ls(Se,Le)},ws.attr=function(Se,Le){(Se.ownerDocument||Se)!=Nt&&st(Se);var ze=W.attrHandle[Le.toLowerCase()],Ht=ze&&Bc.call(W.attrHandle,Le.toLowerCase())?ze(Se,Le,!Zn):void 0;return Ht!==void 0?Ht:V.attributes||!Zn?Se.getAttribute(Le):(Ht=Se.getAttributeNode(Le))&&Ht.specified?Ht.value:null},ws.escape=function(Se){return(Se+"").replace(hu,hd)},ws.error=function(Se){throw new Error("Syntax error, unrecognized expression: "+Se)},ws.uniqueSort=function(Se){var Le,ze=[],Ht=0,lt=0;if(Kt=!V.detectDuplicates,_t=!V.sortStable&&Se.slice(0),Se.sort(Ir),Kt){for(;Le=Se[lt++];)Le===Se[lt]&&(Ht=ze.push(lt));for(;Ht--;)Se.splice(ze[Ht],1)}return _t=null,Se},J=ws.getText=function(Se){var Le,ze="",Ht=0,lt=Se.nodeType;if(lt){if(lt===1||lt===9||lt===11){if(typeof Se.textContent=="string")return Se.textContent;for(Se=Se.firstChild;Se;Se=Se.nextSibling)ze+=J(Se)}else if(lt===3||lt===4)return Se.nodeValue}else for(;Le=Se[Ht++];)ze+=J(Le);return ze},W=ws.selectors={cacheLength:50,createPseudo:Ie,match:Fl,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Se){return Se[1]=Se[1].replace(sc,ua),Se[3]=(Se[3]||Se[4]||Se[5]||"").replace(sc,ua),Se[2]==="~="&&(Se[3]=" "+Se[3]+" "),Se.slice(0,4)},CHILD:function(Se){return Se[1]=Se[1].toLowerCase(),Se[1].slice(0,3)==="nth"?(Se[3]||ws.error(Se[0]),Se[4]=+(Se[4]?Se[5]+(Se[6]||1):2*(Se[3]==="even"||Se[3]==="odd")),Se[5]=+(Se[7]+Se[8]||Se[3]==="odd")):Se[3]&&ws.error(Se[0]),Se},PSEUDO:function(Se){var Le,ze=!Se[6]&&Se[2];return Fl.CHILD.test(Se[0])?null:(Se[3]?Se[2]=Se[4]||Se[5]||"":ze&&Sh.test(ze)&&(Le=ye(ze,!0))&&(Le=ze.indexOf(")",ze.length-Le)-ze.length)&&(Se[0]=Se[0].slice(0,Le),Se[2]=ze.slice(0,Le)),Se.slice(0,3))}},filter:{TAG:function(Se){var Le=Se.replace(sc,ua).toLowerCase();return Se==="*"?function(){return!0}:function(ze){return ze.nodeName&&ze.nodeName.toLowerCase()===Le}},CLASS:function(Se){var Le=_r[Se+" "];return Le||(Le=new RegExp("(^|"+ho+")"+Se+"("+ho+"|$)"))&&_r(Se,function(ze){return Le.test(typeof ze.className=="string"&&ze.className||typeof ze.getAttribute<"u"&&ze.getAttribute("class")||"")})},ATTR:function(Se,Le,ze){return function(Ht){var lt=ws.attr(Ht,Se);return lt==null?Le==="!=":Le?(lt+="",Le==="="?lt===ze:Le==="!="?lt!==ze:Le==="^="?ze&&lt.indexOf(ze)===0:Le==="*="?ze&&lt.indexOf(ze)>-1:Le==="$="?ze&&lt.slice(-ze.length)===ze:Le==="~="?(" "+lt.replace(Ji," ")+" ").indexOf(ze)>-1:Le==="|="?lt===ze||lt.slice(0,ze.length+1)===ze+"-":!1):!0}},CHILD:function(Se,Le,ze,Ht,lt){var Ct=Se.slice(0,3)!=="nth",Xt=Se.slice(-4)!=="last",xn=Le==="of-type";return Ht===1&&lt===0?function(Nn){return!!Nn.parentNode}:function(Nn,to,bo){var so,Zo,Rs,To,Li,$i,Va=Ct!==Xt?"nextSibling":"previousSibling",Qs=Nn.parentNode,Hl=xn&&Nn.nodeName.toLowerCase(),Ps=!bo&&!xn,es=!1;if(Qs){if(Ct){for(;Va;){for(To=Nn;To=To[Va];)if(xn?To.nodeName.toLowerCase()===Hl:To.nodeType===1)return!1;$i=Va=Se==="only"&&!$i&&"nextSibling"}return!0}if($i=[Xt?Qs.firstChild:Qs.lastChild],Xt&&Ps){for(To=Qs,Rs=To[Kn]||(To[Kn]={}),Zo=Rs[To.uniqueID]||(Rs[To.uniqueID]={}),so=Zo[Se]||[],Li=so[0]===ki&&so[1],es=Li&&so[2],To=Li&&Qs.childNodes[Li];To=++Li&&To&&To[Va]||(es=Li=0)||$i.pop();)if(To.nodeType===1&&++es&&To===Nn){Zo[Se]=[ki,Li,es];break}}else if(Ps&&(To=Nn,Rs=To[Kn]||(To[Kn]={}),Zo=Rs[To.uniqueID]||(Rs[To.uniqueID]={}),so=Zo[Se]||[],Li=so[0]===ki&&so[1],es=Li),es===!1)for(;(To=++Li&&To&&To[Va]||(es=Li=0)||$i.pop())&&!((xn?To.nodeName.toLowerCase()===Hl:To.nodeType===1)&&++es&&(Ps&&(Rs=To[Kn]||(To[Kn]={}),Zo=Rs[To.uniqueID]||(Rs[To.uniqueID]={}),Zo[Se]=[ki,es]),To===Nn)););return es-=lt,es===Ht||es%Ht===0&&es/Ht>=0}}},PSEUDO:function(Se,Le){var ze,Ht=W.pseudos[Se]||W.setFilters[Se.toLowerCase()]||ws.error("unsupported pseudo: "+Se);return Ht[Kn]?Ht(Le):Ht.length>1?(ze=[Se,Se,"",Le],W.setFilters.hasOwnProperty(Se.toLowerCase())?Ie(function(lt,Ct){for(var Xt,xn=Ht(lt,Le),Nn=xn.length;Nn--;)Xt=Fc(lt,xn[Nn]),lt[Xt]=!(Ct[Xt]=xn[Nn])}):function(lt){return Ht(lt,0,ze)}):Ht}},pseudos:{not:Ie(function(Se){var Le=[],ze=[],Ht=we(Se.replace(fr,"$1"));return Ht[Kn]?Ie(function(lt,Ct,Xt,xn){for(var Nn,to=Ht(lt,null,xn,[]),bo=lt.length;bo--;)(Nn=to[bo])&&(lt[bo]=!(Ct[bo]=Nn))}):function(lt,Ct,Xt){return Le[0]=lt,Ht(Le,null,Xt,ze),Le[0]=null,!ze.pop()}}),has:Ie(function(Se){return function(Le){return ws(Se,Le).length>0}}),contains:Ie(function(Se){return Se=Se.replace(sc,ua),function(Le){return(Le.textContent||J(Le)).indexOf(Se)>-1}}),lang:Ie(function(Se){return zp.test(Se||"")||ws.error("unsupported lang: "+Se),Se=Se.replace(sc,ua).toLowerCase(),function(Le){var ze;do if(ze=Zn?Le.lang:Le.getAttribute("xml:lang")||Le.getAttribute("lang"))return ze=ze.toLowerCase(),ze===Se||ze.indexOf(Se+"-")===0;while((Le=Le.parentNode)&&Le.nodeType===1);return!1}}),target:function(Se){var Le=T.location&&T.location.hash;return Le&&Le.slice(1)===Se.id},root:function(Se){return Se===Jn},focus:function(Se){return Se===Nt.activeElement&&(!Nt.hasFocus||Nt.hasFocus())&&!!(Se.type||Se.href||~Se.tabIndex)},enabled:ns(!1),disabled:ns(!0),checked:function(Se){var Le=Se.nodeName.toLowerCase();return Le==="input"&&!!Se.checked||Le==="option"&&!!Se.selected},selected:function(Se){return Se.parentNode&&Se.parentNode.selectedIndex,Se.selected===!0},empty:function(Se){for(Se=Se.firstChild;Se;Se=Se.nextSibling)if(Se.nodeType<6)return!1;return!0},parent:function(Se){return!W.pseudos.empty(Se)},header:function(Se){return wi.test(Se.nodeName)},input:function(Se){return Zd.test(Se.nodeName)},button:function(Se){var Le=Se.nodeName.toLowerCase();return Le==="input"&&Se.type==="button"||Le==="button"},text:function(Se){var Le;return Se.nodeName.toLowerCase()==="input"&&Se.type==="text"&&((Le=Se.getAttribute("type"))==null||Le.toLowerCase()==="text")},first:Je(function(){return[0]}),last:Je(function(Se,Le){return[Le-1]}),eq:Je(function(Se,Le,ze){return[ze<0?ze+Le:ze]}),even:Je(function(Se,Le){for(var ze=0;ze<Le;ze+=2)Se.push(ze);return Se}),odd:Je(function(Se,Le){for(var ze=1;ze<Le;ze+=2)Se.push(ze);return Se}),lt:Je(function(Se,Le,ze){for(var Ht=ze<0?ze+Le:ze>Le?Le:ze;--Ht>=0;)Se.push(Ht);return Se}),gt:Je(function(Se,Le,ze){for(var Ht=ze<0?ze+Le:ze;++Ht<Le;)Se.push(Ht);return Se})}},W.pseudos.nth=W.pseudos.eq;for(N in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})W.pseudos[N]=md(N);for(N in{submit:!0,reset:!0})W.pseudos[N]=o1(N);function At(){}At.prototype=W.filters=W.pseudos,W.setFilters=new At,ye=ws.tokenize=function(Se,Le){var ze,Ht,lt,Ct,Xt,xn,Nn,to=Bl[Se+" "];if(to)return Le?0:to.slice(0);for(Xt=Se,xn=[],Nn=W.preFilter;Xt;){(!ze||(Ht=Ha.exec(Xt)))&&(Ht&&(Xt=Xt.slice(Ht[0].length)||Xt),xn.push(lt=[])),ze=!1,(Ht=Ra.exec(Xt))&&(ze=Ht.shift(),lt.push({value:ze,type:Ht[0].replace(fr," ")}),Xt=Xt.slice(ze.length));for(Ct in W.filter)(Ht=Fl[Ct].exec(Xt))&&(!Nn[Ct]||(Ht=Nn[Ct](Ht)))&&(ze=Ht.shift(),lt.push({value:ze,type:Ct,matches:Ht}),Xt=Xt.slice(ze.length));if(!ze)break}return Le?Xt.length:Xt?ws.error(Se):Bl(Se,xn).slice(0)};function Un(Se){for(var Le=0,ze=Se.length,Ht="";Le<ze;Le++)Ht+=Se[Le].value;return Ht}function _o(Se,Le,ze){var Ht=Le.dir,lt=Le.next,Ct=lt||Ht,Xt=ze&&Ct==="parentNode",xn=Ao++;return Le.first?function(Nn,to,bo){for(;Nn=Nn[Ht];)if(Nn.nodeType===1||Xt)return Se(Nn,to,bo);return!1}:function(Nn,to,bo){var so,Zo,Rs,To=[ki,xn];if(bo){for(;Nn=Nn[Ht];)if((Nn.nodeType===1||Xt)&&Se(Nn,to,bo))return!0}else for(;Nn=Nn[Ht];)if(Nn.nodeType===1||Xt)if(Rs=Nn[Kn]||(Nn[Kn]={}),Zo=Rs[Nn.uniqueID]||(Rs[Nn.uniqueID]={}),lt&&lt===Nn.nodeName.toLowerCase())Nn=Nn[Ht]||Nn;else{if((so=Zo[Ct])&&so[0]===ki&&so[1]===xn)return To[2]=so[2];if(Zo[Ct]=To,To[2]=Se(Nn,to,bo))return!0}return!1}}function Vo(Se){return Se.length>1?function(Le,ze,Ht){for(var lt=Se.length;lt--;)if(!Se[lt](Le,ze,Ht))return!1;return!0}:Se[0]}function Xr(Se,Le,ze){for(var Ht=0,lt=Le.length;Ht<lt;Ht++)ws(Se,Le[Ht],ze);return ze}function qs(Se,Le,ze,Ht,lt){for(var Ct,Xt=[],xn=0,Nn=Se.length,to=Le!=null;xn<Nn;xn++)(Ct=Se[xn])&&(!ze||ze(Ct,Ht,lt))&&(Xt.push(Ct),to&&Le.push(xn));return Xt}function pd(Se,Le,ze,Ht,lt,Ct){return Ht&&!Ht[Kn]&&(Ht=pd(Ht)),lt&&!lt[Kn]&&(lt=pd(lt,Ct)),Ie(function(Xt,xn,Nn,to){var bo,so,Zo,Rs=[],To=[],Li=xn.length,$i=Xt||Xr(Le||"*",Nn.nodeType?[Nn]:Nn,[]),Va=Se&&(Xt||!Le)?qs($i,Rs,Se,Nn,to):$i,Qs=ze?lt||(Xt?Se:Li||Ht)?[]:xn:Va;if(ze&&ze(Va,Qs,Nn,to),Ht)for(bo=qs(Qs,To),Ht(bo,[],Nn,to),so=bo.length;so--;)(Zo=bo[so])&&(Qs[To[so]]=!(Va[To[so]]=Zo));if(Xt){if(lt||Se){if(lt){for(bo=[],so=Qs.length;so--;)(Zo=Qs[so])&&bo.push(Va[so]=Zo);lt(null,Qs=[],bo,to)}for(so=Qs.length;so--;)(Zo=Qs[so])&&(bo=lt?Fc(Xt,Zo):Rs[so])>-1&&(Xt[bo]=!(xn[bo]=Zo))}}else Qs=qs(Qs===xn?Qs.splice(Li,Qs.length):Qs),lt?lt(null,xn,Qs,to):Oa.apply(xn,Qs)})}function Tc(Se){for(var Le,ze,Ht,lt=Se.length,Ct=W.relative[Se[0].type],Xt=Ct||W.relative[" "],xn=Ct?1:0,Nn=_o(function(so){return so===Le},Xt,!0),to=_o(function(so){return Fc(Le,so)>-1},Xt,!0),bo=[function(so,Zo,Rs){var To=!Ct&&(Rs||Zo!==rt)||((Le=Zo).nodeType?Nn(so,Zo,Rs):to(so,Zo,Rs));return Le=null,To}];xn<lt;xn++)if(ze=W.relative[Se[xn].type])bo=[_o(Vo(bo),ze)];else{if(ze=W.filter[Se[xn].type].apply(null,Se[xn].matches),ze[Kn]){for(Ht=++xn;Ht<lt&&!W.relative[Se[Ht].type];Ht++);return pd(xn>1&&Vo(bo),xn>1&&Un(Se.slice(0,xn-1).concat({value:Se[xn-2].type===" "?"*":""})).replace(fr,"$1"),ze,xn<Ht&&Tc(Se.slice(xn,Ht)),Ht<lt&&Tc(Se=Se.slice(Ht)),Ht<lt&&Un(Se))}bo.push(ze)}return Vo(bo)}function Ia(Se,Le){var ze=Le.length>0,Ht=Se.length>0,lt=function(Ct,Xt,xn,Nn,to){var bo,so,Zo,Rs=0,To="0",Li=Ct&&[],$i=[],Va=rt,Qs=Ct||Ht&&W.find.TAG("*",to),Hl=ki+=Va==null?1:Math.random()||.1,Ps=Qs.length;for(to&&(rt=Xt==Nt||Xt||to);To!==Ps&&(bo=Qs[To])!=null;To++){if(Ht&&bo){for(so=0,!Xt&&bo.ownerDocument!=Nt&&(st(bo),xn=!Zn);Zo=Se[so++];)if(Zo(bo,Xt||Nt,xn)){Nn.push(bo);break}to&&(ki=Hl)}ze&&((bo=!Zo&&bo)&&Rs--,Ct&&Li.push(bo))}if(Rs+=To,ze&&To!==Rs){for(so=0;Zo=Le[so++];)Zo(Li,$i,Xt,xn);if(Ct){if(Rs>0)for(;To--;)Li[To]||$i[To]||($i[To]=is.call(Nn));$i=qs($i)}Oa.apply(Nn,$i),to&&!Ct&&$i.length>0&&Rs+Le.length>1&&ws.uniqueSort(Nn)}return to&&(ki=Hl,rt=Va),Li};return ze?Ie(lt):lt}return we=ws.compile=function(Se,Le){var ze,Ht=[],lt=[],Ct=Vs[Se+" "];if(!Ct){for(Le||(Le=ye(Se)),ze=Le.length;ze--;)Ct=Tc(Le[ze]),Ct[Kn]?Ht.push(Ct):lt.push(Ct);Ct=Vs(Se,Ia(lt,Ht)),Ct.selector=Se}return Ct},Pe=ws.select=function(Se,Le,ze,Ht){var lt,Ct,Xt,xn,Nn,to=typeof Se=="function"&&Se,bo=!Ht&&ye(Se=to.selector||Se);if(ze=ze||[],bo.length===1){if(Ct=bo[0]=bo[0].slice(0),Ct.length>2&&(Xt=Ct[0]).type==="ID"&&Le.nodeType===9&&Zn&&W.relative[Ct[1].type]){if(Le=(W.find.ID(Xt.matches[0].replace(sc,ua),Le)||[])[0],Le)to&&(Le=Le.parentNode);else return ze;Se=Se.slice(Ct.shift().value.length)}for(lt=Fl.needsContext.test(Se)?0:Ct.length;lt--&&(Xt=Ct[lt],!W.relative[xn=Xt.type]);)if((Nn=W.find[xn])&&(Ht=Nn(Xt.matches[0].replace(sc,ua),Lu.test(Ct[0].type)&&Mt(Le.parentNode)||Le))){if(Ct.splice(lt,1),Se=Ht.length&&Un(Ct),!Se)return Oa.apply(ze,Ht),ze;break}}return(to||we(Se,bo))(Ht,Le,!Zn,ze,!Le||Lu.test(Se)&&Mt(Le.parentNode)||Le),ze},V.sortStable=Kn.split("").sort(Ir).join("")===Kn,V.detectDuplicates=!!Kt,st(),V.sortDetached=rc(function(Se){return Se.compareDocumentPosition(Nt.createElement("fieldset"))&1}),rc(function(Se){return Se.innerHTML="<a href='#'></a>",Se.firstChild.getAttribute("href")==="#"})||da("type|href|height|width",function(Se,Le,ze){if(!ze)return Se.getAttribute(Le,Le.toLowerCase()==="type"?1:2)}),(!V.attributes||!rc(function(Se){return Se.innerHTML="<input/>",Se.firstChild.setAttribute("value",""),Se.firstChild.getAttribute("value")===""}))&&da("value",function(Se,Le,ze){if(!ze&&Se.nodeName.toLowerCase()==="input")return Se.defaultValue}),rc(function(Se){return Se.getAttribute("disabled")==null})||da(Ec,function(Se,Le,ze){var Ht;if(!ze)return Se[Le]===!0?Le.toLowerCase():(Ht=Se.getAttributeNode(Le))&&Ht.specified?Ht.value:null}),ws}(c);H.find=qe,H.expr=qe.selectors,H.expr[":"]=H.expr.pseudos,H.uniqueSort=H.unique=qe.uniqueSort,H.text=qe.getText,H.isXMLDoc=qe.isXML,H.contains=qe.contains,H.escapeSelector=qe.escape;var ut=function(T,N,V){for(var W=[],J=V!==void 0;(T=T[N])&&T.nodeType!==9;)if(T.nodeType===1){if(J&&H(T).is(V))break;W.push(T)}return W},yt=function(T,N){for(var V=[];T;T=T.nextSibling)T.nodeType===1&&T!==N&&V.push(T);return V},ke=H.expr.match.needsContext;function _e(T,N){return T.nodeName&&T.nodeName.toLowerCase()===N.toLowerCase()}var mn=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function wt(T,N,V){return ue(N)?H.grep(T,function(W,J){return!!N.call(W,J,W)!==V}):N.nodeType?H.grep(T,function(W){return W===N!==V}):typeof N!="string"?H.grep(T,function(W){return U.call(N,W)>-1!==V}):H.filter(N,T,V)}H.filter=function(T,N,V){var W=N[0];return V&&(T=":not("+T+")"),N.length===1&&W.nodeType===1?H.find.matchesSelector(W,T)?[W]:[]:H.find.matches(T,H.grep(N,function(J){return J.nodeType===1}))},H.fn.extend({find:function(T){var N,V,W=this.length,J=this;if(typeof T!="string")return this.pushStack(H(T).filter(function(){for(N=0;N<W;N++)if(H.contains(J[N],this))return!0}));for(V=this.pushStack([]),N=0;N<W;N++)H.find(T,J[N],V);return W>1?H.uniqueSort(V):V},filter:function(T){return this.pushStack(wt(this,T||[],!1))},not:function(T){return this.pushStack(wt(this,T||[],!0))},is:function(T){return!!wt(this,typeof T=="string"&&ke.test(T)?H(T):T||[],!1).length}});var Ot,P=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Rt=H.fn.init=function(T,N,V){var W,J;if(!T)return this;if(V=V||Ot,typeof T=="string")if(T[0]==="<"&&T[T.length-1]===">"&&T.length>=3?W=[null,T,null]:W=P.exec(T),W&&(W[1]||!N))if(W[1]){if(N=N instanceof H?N[0]:N,H.merge(this,H.parseHTML(W[1],N&&N.nodeType?N.ownerDocument||N:re,!0)),mn.test(W[1])&&H.isPlainObject(N))for(W in N)ue(this[W])?this[W](N[W]):this.attr(W,N[W]);return this}else return J=re.getElementById(W[2]),J&&(this[0]=J,this.length=1),this;else return!N||N.jquery?(N||V).find(T):this.constructor(N).find(T);else{if(T.nodeType)return this[0]=T,this.length=1,this;if(ue(T))return V.ready!==void 0?V.ready(T):T(H)}return H.makeArray(T,this)};Rt.prototype=H.fn,Ot=H(re);var tt=/^(?:parents|prev(?:Until|All))/,qt={children:!0,contents:!0,next:!0,prev:!0};H.fn.extend({has:function(T){var N=H(T,this),V=N.length;return this.filter(function(){for(var W=0;W<V;W++)if(H.contains(this,N[W]))return!0})},closest:function(T,N){var V,W=0,J=this.length,le=[],ye=typeof T!="string"&&H(T);if(!ke.test(T)){for(;W<J;W++)for(V=this[W];V&&V!==N;V=V.parentNode)if(V.nodeType<11&&(ye?ye.index(V)>-1:V.nodeType===1&&H.find.matchesSelector(V,T))){le.push(V);break}}return this.pushStack(le.length>1?H.uniqueSort(le):le)},index:function(T){return T?typeof T=="string"?U.call(H(T),this[0]):U.call(this,T.jquery?T[0]:T):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(T,N){return this.pushStack(H.uniqueSort(H.merge(this.get(),H(T,N))))},addBack:function(T){return this.add(T==null?this.prevObject:this.prevObject.filter(T))}});function Vt(T,N){for(;(T=T[N])&&T.nodeType!==1;);return T}H.each({parent:function(T){var N=T.parentNode;return N&&N.nodeType!==11?N:null},parents:function(T){return ut(T,"parentNode")},parentsUntil:function(T,N,V){return ut(T,"parentNode",V)},next:function(T){return Vt(T,"nextSibling")},prev:function(T){return Vt(T,"previousSibling")},nextAll:function(T){return ut(T,"nextSibling")},prevAll:function(T){return ut(T,"previousSibling")},nextUntil:function(T,N,V){return ut(T,"nextSibling",V)},prevUntil:function(T,N,V){return ut(T,"previousSibling",V)},siblings:function(T){return yt((T.parentNode||{}).firstChild,T)},children:function(T){return yt(T.firstChild)},contents:function(T){return T.contentDocument!=null&&S(T.contentDocument)?T.contentDocument:(_e(T,"template")&&(T=T.content||T),H.merge([],T.childNodes))}},function(T,N){H.fn[T]=function(V,W){var J=H.map(this,N,V);return T.slice(-5)!=="Until"&&(W=V),W&&typeof W=="string"&&(J=H.filter(W,J)),this.length>1&&(qt[T]||H.uniqueSort(J),tt.test(T)&&J.reverse()),this.pushStack(J)}});var je=/[^\x20\t\r\n\f]+/g;function vo(T){var N={};return H.each(T.match(je)||[],function(V,W){N[W]=!0}),N}H.Callbacks=function(T){T=typeof T=="string"?vo(T):H.extend({},T);var N,V,W,J,le=[],ye=[],we=-1,Pe=function(){for(J=J||T.once,W=N=!0;ye.length;we=-1)for(V=ye.shift();++we<le.length;)le[we].apply(V[0],V[1])===!1&&T.stopOnFalse&&(we=le.length,V=!1);T.memory||(V=!1),N=!1,J&&(V?le=[]:le="")},rt={add:function(){return le&&(V&&!N&&(we=le.length-1,ye.push(V)),function _t(Kt){H.each(Kt,function(st,Nt){ue(Nt)?(!T.unique||!rt.has(Nt))&&le.push(Nt):Nt&&Nt.length&&De(Nt)!=="string"&&_t(Nt)})}(arguments),V&&!N&&Pe()),this},remove:function(){return H.each(arguments,function(_t,Kt){for(var st;(st=H.inArray(Kt,le,st))>-1;)le.splice(st,1),st<=we&&we--}),this},has:function(_t){return _t?H.inArray(_t,le)>-1:le.length>0},empty:function(){return le&&(le=[]),this},disable:function(){return J=ye=[],le=V="",this},disabled:function(){return!le},lock:function(){return J=ye=[],!V&&!N&&(le=V=""),this},locked:function(){return!!J},fireWith:function(_t,Kt){return J||(Kt=Kt||[],Kt=[_t,Kt.slice?Kt.slice():Kt],ye.push(Kt),N||Pe()),this},fire:function(){return rt.fireWith(this,arguments),this},fired:function(){return!!W}};return rt};function Bo(T){return T}function ao(T){throw T}function Fo(T,N,V,W){var J;try{T&&ue(J=T.promise)?J.call(T).done(N).fail(V):T&&ue(J=T.then)?J.call(T,N,V):N.apply(void 0,[T].slice(W))}catch(le){V.apply(void 0,[le])}}H.extend({Deferred:function(T){var N=[["notify","progress",H.Callbacks("memory"),H.Callbacks("memory"),2],["resolve","done",H.Callbacks("once memory"),H.Callbacks("once memory"),0,"resolved"],["reject","fail",H.Callbacks("once memory"),H.Callbacks("once memory"),1,"rejected"]],V="pending",W={state:function(){return V},always:function(){return J.done(arguments).fail(arguments),this},catch:function(le){return W.then(null,le)},pipe:function(){var le=arguments;return H.Deferred(function(ye){H.each(N,function(we,Pe){var rt=ue(le[Pe[4]])&&le[Pe[4]];J[Pe[1]](function(){var _t=rt&&rt.apply(this,arguments);_t&&ue(_t.promise)?_t.promise().progress(ye.notify).done(ye.resolve).fail(ye.reject):ye[Pe[0]+"With"](this,rt?[_t]:arguments)})}),le=null}).promise()},then:function(le,ye,we){var Pe=0;function rt(_t,Kt,st,Nt){return function(){var Jn=this,Zn=arguments,Tn=function(){var Gs,ls;if(!(_t<Pe)){if(Gs=st.apply(Jn,Zn),Gs===Kt.promise())throw new TypeError("Thenable self-resolution");ls=Gs&&(typeof Gs=="object"||typeof Gs=="function")&&Gs.then,ue(ls)?Nt?ls.call(Gs,rt(Pe,Kt,Bo,Nt),rt(Pe,Kt,ao,Nt)):(Pe++,ls.call(Gs,rt(Pe,Kt,Bo,Nt),rt(Pe,Kt,ao,Nt),rt(Pe,Kt,Bo,Kt.notifyWith))):(st!==Bo&&(Jn=void 0,Zn=[Gs]),(Nt||Kt.resolveWith)(Jn,Zn))}},lr=Nt?Tn:function(){try{Tn()}catch(Gs){H.Deferred.exceptionHook&&H.Deferred.exceptionHook(Gs,lr.stackTrace),_t+1>=Pe&&(st!==ao&&(Jn=void 0,Zn=[Gs]),Kt.rejectWith(Jn,Zn))}};_t?lr():(H.Deferred.getStackHook&&(lr.stackTrace=H.Deferred.getStackHook()),c.setTimeout(lr))}}return H.Deferred(function(_t){N[0][3].add(rt(0,_t,ue(we)?we:Bo,_t.notifyWith)),N[1][3].add(rt(0,_t,ue(le)?le:Bo)),N[2][3].add(rt(0,_t,ue(ye)?ye:ao))}).promise()},promise:function(le){return le!=null?H.extend(le,W):W}},J={};return H.each(N,function(le,ye){var we=ye[2],Pe=ye[5];W[ye[1]]=we.add,Pe&&we.add(function(){V=Pe},N[3-le][2].disable,N[3-le][3].disable,N[0][2].lock,N[0][3].lock),we.add(ye[3].fire),J[ye[0]]=function(){return J[ye[0]+"With"](this===J?void 0:this,arguments),this},J[ye[0]+"With"]=we.fireWith}),W.promise(J),T&&T.call(J,J),J},when:function(T){var N=arguments.length,V=N,W=Array(V),J=D.call(arguments),le=H.Deferred(),ye=function(we){return function(Pe){W[we]=this,J[we]=arguments.length>1?D.call(arguments):Pe,--N||le.resolveWith(W,J)}};if(N<=1&&(Fo(T,le.done(ye(V)).resolve,le.reject,!N),le.state()==="pending"||ue(J[V]&&J[V].then)))return le.then();for(;V--;)Fo(J[V],ye(V),le.reject);return le.promise()}});var et=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;H.Deferred.exceptionHook=function(T,N){c.console&&c.console.warn&&T&&et.test(T.name)&&c.console.warn("jQuery.Deferred exception: "+T.message,T.stack,N)},H.readyException=function(T){c.setTimeout(function(){throw T})};var It=H.Deferred();H.fn.ready=function(T){return It.then(T).catch(function(N){H.readyException(N)}),this},H.extend({isReady:!1,readyWait:1,ready:function(T){(T===!0?--H.readyWait:H.isReady)||(H.isReady=!0,!(T!==!0&&--H.readyWait>0)&&It.resolveWith(re,[H]))}}),H.ready.then=It.then;function oe(){re.removeEventListener("DOMContentLoaded",oe),c.removeEventListener("load",oe),H.ready()}re.readyState==="complete"||re.readyState!=="loading"&&!re.documentElement.doScroll?c.setTimeout(H.ready):(re.addEventListener("DOMContentLoaded",oe),c.addEventListener("load",oe));var cs=function(T,N,V,W,J,le,ye){var we=0,Pe=T.length,rt=V==null;if(De(V)==="object"){J=!0;for(we in V)cs(T,N,we,V[we],!0,le,ye)}else if(W!==void 0&&(J=!0,ue(W)||(ye=!0),rt&&(ye?(N.call(T,W),N=null):(rt=N,N=function(_t,Kt,st){return rt.call(H(_t),st)})),N))for(;we<Pe;we++)N(T[we],V,ye?W:W.call(T[we],we,N(T[we],V)));return J?T:rt?N.call(T):Pe?N(T[0],V):le},uo=/^-ms-/,Bt=/-([a-z])/g;function gs(T,N){return N.toUpperCase()}function Xa(T){return T.replace(uo,"ms-").replace(Bt,gs)}var kn=function(T){return T.nodeType===1||T.nodeType===9||!+T.nodeType};function ko(){this.expando=H.expando+ko.uid++}ko.uid=1,ko.prototype={cache:function(T){var N=T[this.expando];return N||(N={},kn(T)&&(T.nodeType?T[this.expando]=N:Object.defineProperty(T,this.expando,{value:N,configurable:!0}))),N},set:function(T,N,V){var W,J=this.cache(T);if(typeof N=="string")J[Xa(N)]=V;else for(W in N)J[Xa(W)]=N[W];return J},get:function(T,N){return N===void 0?this.cache(T):T[this.expando]&&T[this.expando][Xa(N)]},access:function(T,N,V){return N===void 0||N&&typeof N=="string"&&V===void 0?this.get(T,N):(this.set(T,N,V),V!==void 0?V:N)},remove:function(T,N){var V,W=T[this.expando];if(W!==void 0){if(N!==void 0)for(Array.isArray(N)?N=N.map(Xa):(N=Xa(N),N=N in W?[N]:N.match(je)||[]),V=N.length;V--;)delete W[N[V]];(N===void 0||H.isEmptyObject(W))&&(T.nodeType?T[this.expando]=void 0:delete T[this.expando])}},hasData:function(T){var N=T[this.expando];return N!==void 0&&!H.isEmptyObject(N)}};var Yt=new ko,mt=new ko,gi=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,vi=/[A-Z]/g;function Lt(T){return T==="true"?!0:T==="false"?!1:T==="null"?null:T===+T+""?+T:gi.test(T)?JSON.parse(T):T}function Lr(T,N,V){var W;if(V===void 0&&T.nodeType===1)if(W="data-"+N.replace(vi,"-$&").toLowerCase(),V=T.getAttribute(W),typeof V=="string"){try{V=Lt(V)}catch{}mt.set(T,N,V)}else V=void 0;return V}H.extend({hasData:function(T){return mt.hasData(T)||Yt.hasData(T)},data:function(T,N,V){return mt.access(T,N,V)},removeData:function(T,N){mt.remove(T,N)},_data:function(T,N,V){return Yt.access(T,N,V)},_removeData:function(T,N){Yt.remove(T,N)}}),H.fn.extend({data:function(T,N){var V,W,J,le=this[0],ye=le&&le.attributes;if(T===void 0){if(this.length&&(J=mt.get(le),le.nodeType===1&&!Yt.get(le,"hasDataAttrs"))){for(V=ye.length;V--;)ye[V]&&(W=ye[V].name,W.indexOf("data-")===0&&(W=Xa(W.slice(5)),Lr(le,W,J[W])));Yt.set(le,"hasDataAttrs",!0)}return J}return typeof T=="object"?this.each(function(){mt.set(this,T)}):cs(this,function(we){var Pe;if(le&&we===void 0)return Pe=mt.get(le,T),Pe!==void 0||(Pe=Lr(le,T),Pe!==void 0)?Pe:void 0;this.each(function(){mt.set(this,T,we)})},null,N,arguments.length>1,null,!0)},removeData:function(T){return this.each(function(){mt.remove(this,T)})}}),H.extend({queue:function(T,N,V){var W;if(T)return N=(N||"fx")+"queue",W=Yt.get(T,N),V&&(!W||Array.isArray(V)?W=Yt.access(T,N,H.makeArray(V)):W.push(V)),W||[]},dequeue:function(T,N){N=N||"fx";var V=H.queue(T,N),W=V.length,J=V.shift(),le=H._queueHooks(T,N),ye=function(){H.dequeue(T,N)};J==="inprogress"&&(J=V.shift(),W--),J&&(N==="fx"&&V.unshift("inprogress"),delete le.stop,J.call(T,ye,le)),!W&&le&&le.empty.fire()},_queueHooks:function(T,N){var V=N+"queueHooks";return Yt.get(T,V)||Yt.access(T,V,{empty:H.Callbacks("once memory").add(function(){Yt.remove(T,[N+"queue",V])})})}}),H.fn.extend({queue:function(T,N){var V=2;return typeof T!="string"&&(N=T,T="fx",V--),arguments.length<V?H.queue(this[0],T):N===void 0?this:this.each(function(){var W=H.queue(this,T,N);H._queueHooks(this,T),T==="fx"&&W[0]!=="inprogress"&&H.dequeue(this,T)})},dequeue:function(T){return this.each(function(){H.dequeue(this,T)})},clearQueue:function(T){return this.queue(T||"fx",[])},promise:function(T,N){var V,W=1,J=H.Deferred(),le=this,ye=this.length,we=function(){--W||J.resolveWith(le,[le])};for(typeof T!="string"&&(N=T,T=void 0),T=T||"fx";ye--;)V=Yt.get(le[ye],T+"queueHooks"),V&&V.empty&&(W++,V.empty.add(we));return we(),J.promise(N)}});var Ns=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Pc=new RegExp("^(?:([+-])=|)("+Ns+")([a-z%]*)$","i"),vs=["Top","Right","Bottom","Left"],Rr=re.documentElement,jc=function(T){return H.contains(T.ownerDocument,T)},Ca={composed:!0};Rr.getRootNode&&(jc=function(T){return H.contains(T.ownerDocument,T)||T.getRootNode(Ca)===T.ownerDocument});var nr=function(T,N){return T=N||T,T.style.display==="none"||T.style.display===""&&jc(T)&&H.css(T,"display")==="none"};function Os(T,N,V,W){var J,le,ye=20,we=W?function(){return W.cur()}:function(){return H.css(T,N,"")},Pe=we(),rt=V&&V[3]||(H.cssNumber[N]?"":"px"),_t=T.nodeType&&(H.cssNumber[N]||rt!=="px"&&+Pe)&&Pc.exec(H.css(T,N));if(_t&&_t[3]!==rt){for(Pe=Pe/2,rt=rt||_t[3],_t=+Pe||1;ye--;)H.style(T,N,_t+rt),(1-le)*(1-(le=we()/Pe||.5))<=0&&(ye=0),_t=_t/le;_t=_t*2,H.style(T,N,_t+rt),V=V||[]}return V&&(_t=+_t||+Pe||0,J=V[1]?_t+(V[1]+1)*V[2]:+V[2],W&&(W.unit=rt,W.start=_t,W.end=J)),J}var rd={};function Yr(T){var N,V=T.ownerDocument,W=T.nodeName,J=rd[W];return J||(N=V.body.appendChild(V.createElement(W)),J=H.css(N,"display"),N.parentNode.removeChild(N),J==="none"&&(J="block"),rd[W]=J,J)}function Ms(T,N){for(var V,W,J=[],le=0,ye=T.length;le<ye;le++)W=T[le],W.style&&(V=W.style.display,N?(V==="none"&&(J[le]=Yt.get(W,"display")||null,J[le]||(W.style.display="")),W.style.display===""&&nr(W)&&(J[le]=Yr(W))):V!=="none"&&(J[le]="none",Yt.set(W,"display",V)));for(le=0;le<ye;le++)J[le]!=null&&(T[le].style.display=J[le]);return T}H.fn.extend({show:function(){return Ms(this,!0)},hide:function(){return Ms(this)},toggle:function(T){return typeof T=="boolean"?T?this.show():this.hide():this.each(function(){nr(this)?H(this).show():H(this).hide()})}});var fl=/^(?:checkbox|radio)$/i,Ii=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Zc=/^$|^module$|\/(?:java|ecma)script/i;(function(){var T=re.createDocumentFragment(),N=T.appendChild(re.createElement("div")),V=re.createElement("input");V.setAttribute("type","radio"),V.setAttribute("checked","checked"),V.setAttribute("name","t"),N.appendChild(V),fe.checkClone=N.cloneNode(!0).cloneNode(!0).lastChild.checked,N.innerHTML="<textarea>x</textarea>",fe.noCloneChecked=!!N.cloneNode(!0).lastChild.defaultValue,N.innerHTML="<option></option>",fe.option=!!N.lastChild})();var vr={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};vr.tbody=vr.tfoot=vr.colgroup=vr.caption=vr.thead,vr.th=vr.td,fe.option||(vr.optgroup=vr.option=[1,"<select multiple='multiple'>","</select>"]);function $r(T,N){var V;return typeof T.getElementsByTagName<"u"?V=T.getElementsByTagName(N||"*"):typeof T.querySelectorAll<"u"?V=T.querySelectorAll(N||"*"):V=[],N===void 0||N&&_e(T,N)?H.merge([T],V):V}function Gd(T,N){for(var V=0,W=T.length;V<W;V++)Yt.set(T[V],"globalEval",!N||Yt.get(N[V],"globalEval"))}var bi=/<|&#?\w+;/;function yh(T,N,V,W,J){for(var le,ye,we,Pe,rt,_t,Kt=N.createDocumentFragment(),st=[],Nt=0,Jn=T.length;Nt<Jn;Nt++)if(le=T[Nt],le||le===0)if(De(le)==="object")H.merge(st,le.nodeType?[le]:le);else if(!bi.test(le))st.push(N.createTextNode(le));else{for(ye=ye||Kt.appendChild(N.createElement("div")),we=(Ii.exec(le)||["",""])[1].toLowerCase(),Pe=vr[we]||vr._default,ye.innerHTML=Pe[1]+H.htmlPrefilter(le)+Pe[2],_t=Pe[0];_t--;)ye=ye.lastChild;H.merge(st,ye.childNodes),ye=Kt.firstChild,ye.textContent=""}for(Kt.textContent="",Nt=0;le=st[Nt++];){if(W&&H.inArray(le,W)>-1){J&&J.push(le);continue}if(rt=jc(le),ye=$r(Kt.appendChild(le),"script"),rt&&Gd(ye),V)for(_t=0;le=ye[_t++];)Zc.test(le.type||"")&&V.push(le)}return Kt}var an=/^([^.]*)(?:\.(.+)|)/;function Ho(){return!0}function ca(){return!1}function gc(T,N){return T===_h()==(N==="focus")}function _h(){try{return re.activeElement}catch{}}function au(T,N,V,W,J,le){var ye,we;if(typeof N=="object"){typeof V!="string"&&(W=W||V,V=void 0);for(we in N)au(T,we,V,W,N[we],le);return T}if(W==null&&J==null?(J=V,W=V=void 0):J==null&&(typeof V=="string"?(J=W,W=void 0):(J=W,W=V,V=void 0)),J===!1)J=ca;else if(!J)return T;return le===1&&(ye=J,J=function(Pe){return H().off(Pe),ye.apply(this,arguments)},J.guid=ye.guid||(ye.guid=H.guid++)),T.each(function(){H.event.add(this,N,J,W,V)})}H.event={global:{},add:function(T,N,V,W,J){var le,ye,we,Pe,rt,_t,Kt,st,Nt,Jn,Zn,Tn=Yt.get(T);if(kn(T))for(V.handler&&(le=V,V=le.handler,J=le.selector),J&&H.find.matchesSelector(Rr,J),V.guid||(V.guid=H.guid++),(Pe=Tn.events)||(Pe=Tn.events=Object.create(null)),(ye=Tn.handle)||(ye=Tn.handle=function(lr){return typeof H<"u"&&H.event.triggered!==lr.type?H.event.dispatch.apply(T,arguments):void 0}),N=(N||"").match(je)||[""],rt=N.length;rt--;)we=an.exec(N[rt])||[],Nt=Zn=we[1],Jn=(we[2]||"").split(".").sort(),Nt&&(Kt=H.event.special[Nt]||{},Nt=(J?Kt.delegateType:Kt.bindType)||Nt,Kt=H.event.special[Nt]||{},_t=H.extend({type:Nt,origType:Zn,data:W,handler:V,guid:V.guid,selector:J,needsContext:J&&H.expr.match.needsContext.test(J),namespace:Jn.join(".")},le),(st=Pe[Nt])||(st=Pe[Nt]=[],st.delegateCount=0,(!Kt.setup||Kt.setup.call(T,W,Jn,ye)===!1)&&T.addEventListener&&T.addEventListener(Nt,ye)),Kt.add&&(Kt.add.call(T,_t),_t.handler.guid||(_t.handler.guid=V.guid)),J?st.splice(st.delegateCount++,0,_t):st.push(_t),H.event.global[Nt]=!0)},remove:function(T,N,V,W,J){var le,ye,we,Pe,rt,_t,Kt,st,Nt,Jn,Zn,Tn=Yt.hasData(T)&&Yt.get(T);if(!(!Tn||!(Pe=Tn.events))){for(N=(N||"").match(je)||[""],rt=N.length;rt--;){if(we=an.exec(N[rt])||[],Nt=Zn=we[1],Jn=(we[2]||"").split(".").sort(),!Nt){for(Nt in Pe)H.event.remove(T,Nt+N[rt],V,W,!0);continue}for(Kt=H.event.special[Nt]||{},Nt=(W?Kt.delegateType:Kt.bindType)||Nt,st=Pe[Nt]||[],we=we[2]&&new RegExp("(^|\\.)"+Jn.join("\\.(?:.*\\.|)")+"(\\.|$)"),ye=le=st.length;le--;)_t=st[le],(J||Zn===_t.origType)&&(!V||V.guid===_t.guid)&&(!we||we.test(_t.namespace))&&(!W||W===_t.selector||W==="**"&&_t.selector)&&(st.splice(le,1),_t.selector&&st.delegateCount--,Kt.remove&&Kt.remove.call(T,_t));ye&&!st.length&&((!Kt.teardown||Kt.teardown.call(T,Jn,Tn.handle)===!1)&&H.removeEvent(T,Nt,Tn.handle),delete Pe[Nt])}H.isEmptyObject(Pe)&&Yt.remove(T,"handle events")}},dispatch:function(T){var N,V,W,J,le,ye,we=new Array(arguments.length),Pe=H.event.fix(T),rt=(Yt.get(this,"events")||Object.create(null))[Pe.type]||[],_t=H.event.special[Pe.type]||{};for(we[0]=Pe,N=1;N<arguments.length;N++)we[N]=arguments[N];if(Pe.delegateTarget=this,!(_t.preDispatch&&_t.preDispatch.call(this,Pe)===!1)){for(ye=H.event.handlers.call(this,Pe,rt),N=0;(J=ye[N++])&&!Pe.isPropagationStopped();)for(Pe.currentTarget=J.elem,V=0;(le=J.handlers[V++])&&!Pe.isImmediatePropagationStopped();)(!Pe.rnamespace||le.namespace===!1||Pe.rnamespace.test(le.namespace))&&(Pe.handleObj=le,Pe.data=le.data,W=((H.event.special[le.origType]||{}).handle||le.handler).apply(J.elem,we),W!==void 0&&(Pe.result=W)===!1&&(Pe.preventDefault(),Pe.stopPropagation()));return _t.postDispatch&&_t.postDispatch.call(this,Pe),Pe.result}},handlers:function(T,N){var V,W,J,le,ye,we=[],Pe=N.delegateCount,rt=T.target;if(Pe&&rt.nodeType&&!(T.type==="click"&&T.button>=1)){for(;rt!==this;rt=rt.parentNode||this)if(rt.nodeType===1&&!(T.type==="click"&&rt.disabled===!0)){for(le=[],ye={},V=0;V<Pe;V++)W=N[V],J=W.selector+" ",ye[J]===void 0&&(ye[J]=W.needsContext?H(J,this).index(rt)>-1:H.find(J,this,null,[rt]).length),ye[J]&&le.push(W);le.length&&we.push({elem:rt,handlers:le})}}return rt=this,Pe<N.length&&we.push({elem:rt,handlers:N.slice(Pe)}),we},addProp:function(T,N){Object.defineProperty(H.Event.prototype,T,{enumerable:!0,configurable:!0,get:ue(N)?function(){if(this.originalEvent)return N(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[T]},set:function(V){Object.defineProperty(this,T,{enumerable:!0,configurable:!0,writable:!0,value:V})}})},fix:function(T){return T[H.expando]?T:new H.Event(T)},special:{load:{noBubble:!0},click:{setup:function(T){var N=this||T;return fl.test(N.type)&&N.click&&_e(N,"input")&&ks(N,"click",Ho),!1},trigger:function(T){var N=this||T;return fl.test(N.type)&&N.click&&_e(N,"input")&&ks(N,"click"),!0},_default:function(T){var N=T.target;return fl.test(N.type)&&N.click&&_e(N,"input")&&Yt.get(N,"click")||_e(N,"a")}},beforeunload:{postDispatch:function(T){T.result!==void 0&&T.originalEvent&&(T.originalEvent.returnValue=T.result)}}}};function ks(T,N,V){if(!V){Yt.get(T,N)===void 0&&H.event.add(T,N,Ho);return}Yt.set(T,N,!1),H.event.add(T,N,{namespace:!1,handler:function(W){var J,le,ye=Yt.get(this,N);if(W.isTrigger&1&&this[N]){if(ye.length)(H.event.special[N]||{}).delegateType&&W.stopPropagation();else if(ye=D.call(arguments),Yt.set(this,N,ye),J=V(this,N),this[N](),le=Yt.get(this,N),ye!==le||J?Yt.set(this,N,!1):le={},ye!==le)return W.stopImmediatePropagation(),W.preventDefault(),le&&le.value}else ye.length&&(Yt.set(this,N,{value:H.event.trigger(H.extend(ye[0],H.Event.prototype),ye.slice(1),this)}),W.stopImmediatePropagation())}})}H.removeEvent=function(T,N,V){T.removeEventListener&&T.removeEventListener(N,V)},H.Event=function(T,N){if(!(this instanceof H.Event))return new H.Event(T,N);T&&T.type?(this.originalEvent=T,this.type=T.type,this.isDefaultPrevented=T.defaultPrevented||T.defaultPrevented===void 0&&T.returnValue===!1?Ho:ca,this.target=T.target&&T.target.nodeType===3?T.target.parentNode:T.target,this.currentTarget=T.currentTarget,this.relatedTarget=T.relatedTarget):this.type=T,N&&H.extend(this,N),this.timeStamp=T&&T.timeStamp||Date.now(),this[H.expando]=!0},H.Event.prototype={constructor:H.Event,isDefaultPrevented:ca,isPropagationStopped:ca,isImmediatePropagationStopped:ca,isSimulated:!1,preventDefault:function(){var T=this.originalEvent;this.isDefaultPrevented=Ho,T&&!this.isSimulated&&T.preventDefault()},stopPropagation:function(){var T=this.originalEvent;this.isPropagationStopped=Ho,T&&!this.isSimulated&&T.stopPropagation()},stopImmediatePropagation:function(){var T=this.originalEvent;this.isImmediatePropagationStopped=Ho,T&&!this.isSimulated&&T.stopImmediatePropagation(),this.stopPropagation()}},H.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},H.event.addProp),H.each({focus:"focusin",blur:"focusout"},function(T,N){H.event.special[T]={setup:function(){return ks(this,T,gc),!1},trigger:function(){return ks(this,T),!0},_default:function(V){return Yt.get(V.target,T)},delegateType:N}}),H.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(T,N){H.event.special[T]={delegateType:N,bindType:N,handle:function(V){var W,J=this,le=V.relatedTarget,ye=V.handleObj;return(!le||le!==J&&!H.contains(J,le))&&(V.type=ye.origType,W=ye.handler.apply(this,arguments),V.type=N),W}}}),H.fn.extend({on:function(T,N,V,W){return au(this,T,N,V,W)},one:function(T,N,V,W){return au(this,T,N,V,W,1)},off:function(T,N,V){var W,J;if(T&&T.preventDefault&&T.handleObj)return W=T.handleObj,H(T.delegateTarget).off(W.namespace?W.origType+"."+W.namespace:W.origType,W.selector,W.handler),this;if(typeof T=="object"){for(J in T)this.off(J,N,T[J]);return this}return(N===!1||typeof N=="function")&&(V=N,N=void 0),V===!1&&(V=ca),this.each(function(){H.event.remove(this,T,V,N)})}});var id=/<script|<style|<link/i,qd=/checked\s*(?:[^=]|=\s*.checked.)/i,Xs=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function qn(T,N){return _e(T,"table")&&_e(N.nodeType!==11?N:N.firstChild,"tr")&&H(T).children("tbody")[0]||T}function Qa(T){return T.type=(T.getAttribute("type")!==null)+"/"+T.type,T}function Ru(T){return(T.type||"").slice(0,5)==="true/"?T.type=T.type.slice(5):T.removeAttribute("type"),T}function Yc(T,N){var V,W,J,le,ye,we,Pe;if(N.nodeType===1){if(Yt.hasData(T)&&(le=Yt.get(T),Pe=le.events,Pe)){Yt.remove(N,"handle events");for(J in Pe)for(V=0,W=Pe[J].length;V<W;V++)H.event.add(N,J,Pe[J][V])}mt.hasData(T)&&(ye=mt.access(T),we=H.extend({},ye),mt.set(N,we))}}function Eh(T,N){var V=N.nodeName.toLowerCase();V==="input"&&fl.test(T.type)?N.checked=T.checked:(V==="input"||V==="textarea")&&(N.defaultValue=T.defaultValue)}function Di(T,N,V,W){N=I(N);var J,le,ye,we,Pe,rt,_t=0,Kt=T.length,st=Kt-1,Nt=N[0],Jn=ue(Nt);if(Jn||Kt>1&&typeof Nt=="string"&&!fe.checkClone&&qd.test(Nt))return T.each(function(Zn){var Tn=T.eq(Zn);Jn&&(N[0]=Nt.call(this,Zn,Tn.html())),Di(Tn,N,V,W)});if(Kt&&(J=yh(N,T[0].ownerDocument,!1,T,W),le=J.firstChild,J.childNodes.length===1&&(J=le),le||W)){for(ye=H.map($r(J,"script"),Qa),we=ye.length;_t<Kt;_t++)Pe=J,_t!==st&&(Pe=H.clone(Pe,!0,!0),we&&H.merge(ye,$r(Pe,"script"))),V.call(T[_t],Pe,_t);if(we)for(rt=ye[ye.length-1].ownerDocument,H.map(ye,Ru),_t=0;_t<we;_t++)Pe=ye[_t],Zc.test(Pe.type||"")&&!Yt.access(Pe,"globalEval")&&H.contains(rt,Pe)&&(Pe.src&&(Pe.type||"").toLowerCase()!=="module"?H._evalUrl&&!Pe.noModule&&H._evalUrl(Pe.src,{nonce:Pe.nonce||Pe.getAttribute("nonce")},rt):K(Pe.textContent.replace(Xs,""),Pe,rt))}return T}function Ki(T,N,V){for(var W,J=N?H.filter(N,T):T,le=0;(W=J[le])!=null;le++)!V&&W.nodeType===1&&H.cleanData($r(W)),W.parentNode&&(V&&jc(W)&&Gd($r(W,"script")),W.parentNode.removeChild(W));return T}H.extend({htmlPrefilter:function(T){return T},clone:function(T,N,V){var W,J,le,ye,we=T.cloneNode(!0),Pe=jc(T);if(!fe.noCloneChecked&&(T.nodeType===1||T.nodeType===11)&&!H.isXMLDoc(T))for(ye=$r(we),le=$r(T),W=0,J=le.length;W<J;W++)Eh(le[W],ye[W]);if(N)if(V)for(le=le||$r(T),ye=ye||$r(we),W=0,J=le.length;W<J;W++)Yc(le[W],ye[W]);else Yc(T,we);return ye=$r(we,"script"),ye.length>0&&Gd(ye,!Pe&&$r(T,"script")),we},cleanData:function(T){for(var N,V,W,J=H.event.special,le=0;(V=T[le])!==void 0;le++)if(kn(V)){if(N=V[Yt.expando]){if(N.events)for(W in N.events)J[W]?H.event.remove(V,W):H.removeEvent(V,W,N.handle);V[Yt.expando]=void 0}V[mt.expando]&&(V[mt.expando]=void 0)}}}),H.fn.extend({detach:function(T){return Ki(this,T,!0)},remove:function(T){return Ki(this,T)},text:function(T){return cs(this,function(N){return N===void 0?H.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=N)})},null,T,arguments.length)},append:function(){return Di(this,arguments,function(T){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var N=qn(this,T);N.appendChild(T)}})},prepend:function(){return Di(this,arguments,function(T){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var N=qn(this,T);N.insertBefore(T,N.firstChild)}})},before:function(){return Di(this,arguments,function(T){this.parentNode&&this.parentNode.insertBefore(T,this)})},after:function(){return Di(this,arguments,function(T){this.parentNode&&this.parentNode.insertBefore(T,this.nextSibling)})},empty:function(){for(var T,N=0;(T=this[N])!=null;N++)T.nodeType===1&&(H.cleanData($r(T,!1)),T.textContent="");return this},clone:function(T,N){return T=T??!1,N=N??T,this.map(function(){return H.clone(this,T,N)})},html:function(T){return cs(this,function(N){var V=this[0]||{},W=0,J=this.length;if(N===void 0&&V.nodeType===1)return V.innerHTML;if(typeof N=="string"&&!id.test(N)&&!vr[(Ii.exec(N)||["",""])[1].toLowerCase()]){N=H.htmlPrefilter(N);try{for(;W<J;W++)V=this[W]||{},V.nodeType===1&&(H.cleanData($r(V,!1)),V.innerHTML=N);V=0}catch{}}V&&this.empty().append(N)},null,T,arguments.length)},replaceWith:function(){var T=[];return Di(this,arguments,function(N){var V=this.parentNode;H.inArray(this,T)<0&&(H.cleanData($r(this)),V&&V.replaceChild(N,this))},T)}}),H.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(T,N){H.fn[T]=function(V){for(var W,J=[],le=H(V),ye=le.length-1,we=0;we<=ye;we++)W=we===ye?this:this.clone(!0),H(le[we])[N](W),B.apply(J,W.get());return this.pushStack(J)}});var Ur=new RegExp("^("+Ns+")(?!px)[a-z%]+$","i"),Fa=/^--/,Kc=function(T){var N=T.ownerDocument.defaultView;return(!N||!N.opener)&&(N=c),N.getComputedStyle(T)},vc=function(T,N,V){var W,J,le={};for(J in N)le[J]=T.style[J],T.style[J]=N[J];W=V.call(T);for(J in N)T.style[J]=le[J];return W},Sa=new RegExp(vs.join("|"),"i"),Br="[\\x20\\t\\r\\n\\f]",bc=new RegExp("^"+Br+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Br+"+$","g");(function(){function T(){if(rt){Pe.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",rt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Rr.appendChild(Pe).appendChild(rt);var _t=c.getComputedStyle(rt);V=_t.top!=="1%",we=N(_t.marginLeft)===12,rt.style.right="60%",le=N(_t.right)===36,W=N(_t.width)===36,rt.style.position="absolute",J=N(rt.offsetWidth/3)===12,Rr.removeChild(Pe),rt=null}}function N(_t){return Math.round(parseFloat(_t))}var V,W,J,le,ye,we,Pe=re.createElement("div"),rt=re.createElement("div");rt.style&&(rt.style.backgroundClip="content-box",rt.cloneNode(!0).style.backgroundClip="",fe.clearCloneStyle=rt.style.backgroundClip==="content-box",H.extend(fe,{boxSizingReliable:function(){return T(),W},pixelBoxStyles:function(){return T(),le},pixelPosition:function(){return T(),V},reliableMarginLeft:function(){return T(),we},scrollboxSize:function(){return T(),J},reliableTrDimensions:function(){var _t,Kt,st,Nt;return ye==null&&(_t=re.createElement("table"),Kt=re.createElement("tr"),st=re.createElement("div"),_t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Kt.style.cssText="border:1px solid",Kt.style.height="1px",st.style.height="9px",st.style.display="block",Rr.appendChild(_t).appendChild(Kt).appendChild(st),Nt=c.getComputedStyle(Kt),ye=parseInt(Nt.height,10)+parseInt(Nt.borderTopWidth,10)+parseInt(Nt.borderBottomWidth,10)===Kt.offsetHeight,Rr.removeChild(_t)),ye}}))})();function hl(T,N,V){var W,J,le,ye,we=Fa.test(N),Pe=T.style;return V=V||Kc(T),V&&(ye=V.getPropertyValue(N)||V[N],we&&ye&&(ye=ye.replace(bc,"$1")||void 0),ye===""&&!jc(T)&&(ye=H.style(T,N)),!fe.pixelBoxStyles()&&Ur.test(ye)&&Sa.test(N)&&(W=Pe.width,J=Pe.minWidth,le=Pe.maxWidth,Pe.minWidth=Pe.maxWidth=Pe.width=ye,ye=V.width,Pe.width=W,Pe.minWidth=J,Pe.maxWidth=le)),ye!==void 0?ye+"":ye}function Bp(T,N){return{get:function(){if(T()){delete this.get;return}return(this.get=N).apply(this,arguments)}}}var Fp=["Webkit","Moz","ms"],Ll=re.createElement("div").style,Tm={};function Qe(T){for(var N=T[0].toUpperCase()+T.slice(1),V=Fp.length;V--;)if(T=Fp[V]+N,T in Ll)return T}function yi(T){var N=H.cssProps[T]||Tm[T];return N||(T in Ll?T:Tm[T]=Qe(T)||T)}var cu=/^(none|table(?!-c[ea]).+)/,Hp={position:"absolute",visibility:"hidden",display:"block"},wh={letterSpacing:"0",fontWeight:"400"};function Fs(T,N,V){var W=Pc.exec(N);return W?Math.max(0,W[2]-(V||0))+(W[3]||"px"):N}function jd(T,N,V,W,J,le){var ye=N==="width"?1:0,we=0,Pe=0;if(V===(W?"border":"content"))return 0;for(;ye<4;ye+=2)V==="margin"&&(Pe+=H.css(T,V+vs[ye],!0,J)),W?(V==="content"&&(Pe-=H.css(T,"padding"+vs[ye],!0,J)),V!=="margin"&&(Pe-=H.css(T,"border"+vs[ye]+"Width",!0,J))):(Pe+=H.css(T,"padding"+vs[ye],!0,J),V!=="padding"?Pe+=H.css(T,"border"+vs[ye]+"Width",!0,J):we+=H.css(T,"border"+vs[ye]+"Width",!0,J));return!W&&le>=0&&(Pe+=Math.max(0,Math.ceil(T["offset"+N[0].toUpperCase()+N.slice(1)]-le-Pe-we-.5))||0),Pe}function Cm(T,N,V){var W=Kc(T),J=!fe.boxSizingReliable()||V,le=J&&H.css(T,"boxSizing",!1,W)==="border-box",ye=le,we=hl(T,N,W),Pe="offset"+N[0].toUpperCase()+N.slice(1);if(Ur.test(we)){if(!V)return we;we="auto"}return(!fe.boxSizingReliable()&&le||!fe.reliableTrDimensions()&&_e(T,"tr")||we==="auto"||!parseFloat(we)&&H.css(T,"display",!1,W)==="inline")&&T.getClientRects().length&&(le=H.css(T,"boxSizing",!1,W)==="border-box",ye=Pe in T,ye&&(we=T[Pe])),we=parseFloat(we)||0,we+jd(T,N,V||(le?"border":"content"),ye,W,we)+"px"}H.extend({cssHooks:{opacity:{get:function(T,N){if(N){var V=hl(T,"opacity");return V===""?"1":V}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(T,N,V,W){if(!(!T||T.nodeType===3||T.nodeType===8||!T.style)){var J,le,ye,we=Xa(N),Pe=Fa.test(N),rt=T.style;if(Pe||(N=yi(we)),ye=H.cssHooks[N]||H.cssHooks[we],V!==void 0){if(le=typeof V,le==="string"&&(J=Pc.exec(V))&&J[1]&&(V=Os(T,N,J),le="number"),V==null||V!==V)return;le==="number"&&!Pe&&(V+=J&&J[3]||(H.cssNumber[we]?"":"px")),!fe.clearCloneStyle&&V===""&&N.indexOf("background")===0&&(rt[N]="inherit"),(!ye||!("set"in ye)||(V=ye.set(T,V,W))!==void 0)&&(Pe?rt.setProperty(N,V):rt[N]=V)}else return ye&&"get"in ye&&(J=ye.get(T,!1,W))!==void 0?J:rt[N]}},css:function(T,N,V,W){var J,le,ye,we=Xa(N),Pe=Fa.test(N);return Pe||(N=yi(we)),ye=H.cssHooks[N]||H.cssHooks[we],ye&&"get"in ye&&(J=ye.get(T,!0,V)),J===void 0&&(J=hl(T,N,W)),J==="normal"&&N in wh&&(J=wh[N]),V===""||V?(le=parseFloat(J),V===!0||isFinite(le)?le||0:J):J}}),H.each(["height","width"],function(T,N){H.cssHooks[N]={get:function(V,W,J){if(W)return cu.test(H.css(V,"display"))&&(!V.getClientRects().length||!V.getBoundingClientRect().width)?vc(V,Hp,function(){return Cm(V,N,J)}):Cm(V,N,J)},set:function(V,W,J){var le,ye=Kc(V),we=!fe.scrollboxSize()&&ye.position==="absolute",Pe=we||J,rt=Pe&&H.css(V,"boxSizing",!1,ye)==="border-box",_t=J?jd(V,N,J,rt,ye):0;return rt&&we&&(_t-=Math.ceil(V["offset"+N[0].toUpperCase()+N.slice(1)]-parseFloat(ye[N])-jd(V,N,"border",!1,ye)-.5)),_t&&(le=Pc.exec(W))&&(le[3]||"px")!=="px"&&(V.style[N]=W,W=H.css(V,N)),Fs(V,W,_t)}}}),H.cssHooks.marginLeft=Bp(fe.reliableMarginLeft,function(T,N){if(N)return(parseFloat(hl(T,"marginLeft"))||T.getBoundingClientRect().left-vc(T,{marginLeft:0},function(){return T.getBoundingClientRect().left}))+"px"}),H.each({margin:"",padding:"",border:"Width"},function(T,N){H.cssHooks[T+N]={expand:function(V){for(var W=0,J={},le=typeof V=="string"?V.split(" "):[V];W<4;W++)J[T+vs[W]+N]=le[W]||le[W-2]||le[0];return J}},T!=="margin"&&(H.cssHooks[T+N].set=Fs)}),H.fn.extend({css:function(T,N){return cs(this,function(V,W,J){var le,ye,we={},Pe=0;if(Array.isArray(W)){for(le=Kc(V),ye=W.length;Pe<ye;Pe++)we[W[Pe]]=H.css(V,W[Pe],!1,le);return we}return J!==void 0?H.style(V,W,J):H.css(V,W)},T,N,arguments.length>1)}});function Xi(T,N,V,W,J){return new Xi.prototype.init(T,N,V,W,J)}H.Tween=Xi,Xi.prototype={constructor:Xi,init:function(T,N,V,W,J,le){this.elem=T,this.prop=V,this.easing=J||H.easing._default,this.options=N,this.start=this.now=this.cur(),this.end=W,this.unit=le||(H.cssNumber[V]?"":"px")},cur:function(){var T=Xi.propHooks[this.prop];return T&&T.get?T.get(this):Xi.propHooks._default.get(this)},run:function(T){var N,V=Xi.propHooks[this.prop];return this.options.duration?this.pos=N=H.easing[this.easing](T,this.options.duration*T,0,1,this.options.duration):this.pos=N=T,this.now=(this.end-this.start)*N+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),V&&V.set?V.set(this):Xi.propHooks._default.set(this),this}},Xi.prototype.init.prototype=Xi.prototype,Xi.propHooks={_default:{get:function(T){var N;return T.elem.nodeType!==1||T.elem[T.prop]!=null&&T.elem.style[T.prop]==null?T.elem[T.prop]:(N=H.css(T.elem,T.prop,""),!N||N==="auto"?0:N)},set:function(T){H.fx.step[T.prop]?H.fx.step[T.prop](T):T.elem.nodeType===1&&(H.cssHooks[T.prop]||T.elem.style[yi(T.prop)]!=null)?H.style(T.elem,T.prop,T.now+T.unit):T.elem[T.prop]=T.now}}},Xi.propHooks.scrollTop=Xi.propHooks.scrollLeft={set:function(T){T.elem.nodeType&&T.elem.parentNode&&(T.elem[T.prop]=T.now)}},H.easing={linear:function(T){return T},swing:function(T){return .5-Math.cos(T*Math.PI)/2},_default:"swing"},H.fx=Xi.prototype.init,H.fx.step={};var Xc,oi,_i=/^(?:toggle|show|hide)$/,lu=/queueHooks$/;function Ja(){oi&&(re.hidden===!1&&c.requestAnimationFrame?c.requestAnimationFrame(Ja):c.setTimeout(Ja,H.fx.interval),H.fx.tick())}function uu(){return c.setTimeout(function(){Xc=void 0}),Xc=Date.now()}function $l(T,N){var V,W=0,J={height:T};for(N=N?1:0;W<4;W+=2-N)V=vs[W],J["margin"+V]=J["padding"+V]=T;return N&&(J.opacity=J.width=T),J}function ad(T,N,V){for(var W,J=(Qc.tweeners[N]||[]).concat(Qc.tweeners["*"]),le=0,ye=J.length;le<ye;le++)if(W=J[le].call(V,N,T))return W}function Cs(T,N,V){var W,J,le,ye,we,Pe,rt,_t,Kt="width"in N||"height"in N,st=this,Nt={},Jn=T.style,Zn=T.nodeType&&nr(T),Tn=Yt.get(T,"fxshow");V.queue||(ye=H._queueHooks(T,"fx"),ye.unqueued==null&&(ye.unqueued=0,we=ye.empty.fire,ye.empty.fire=function(){ye.unqueued||we()}),ye.unqueued++,st.always(function(){st.always(function(){ye.unqueued--,H.queue(T,"fx").length||ye.empty.fire()})}));for(W in N)if(J=N[W],_i.test(J)){if(delete N[W],le=le||J==="toggle",J===(Zn?"hide":"show"))if(J==="show"&&Tn&&Tn[W]!==void 0)Zn=!0;else continue;Nt[W]=Tn&&Tn[W]||H.style(T,W)}if(Pe=!H.isEmptyObject(N),!(!Pe&&H.isEmptyObject(Nt))){Kt&&T.nodeType===1&&(V.overflow=[Jn.overflow,Jn.overflowX,Jn.overflowY],rt=Tn&&Tn.display,rt==null&&(rt=Yt.get(T,"display")),_t=H.css(T,"display"),_t==="none"&&(rt?_t=rt:(Ms([T],!0),rt=T.style.display||rt,_t=H.css(T,"display"),Ms([T]))),(_t==="inline"||_t==="inline-block"&&rt!=null)&&H.css(T,"float")==="none"&&(Pe||(st.done(function(){Jn.display=rt}),rt==null&&(_t=Jn.display,rt=_t==="none"?"":_t)),Jn.display="inline-block")),V.overflow&&(Jn.overflow="hidden",st.always(function(){Jn.overflow=V.overflow[0],Jn.overflowX=V.overflow[1],Jn.overflowY=V.overflow[2]})),Pe=!1;for(W in Nt)Pe||(Tn?"hidden"in Tn&&(Zn=Tn.hidden):Tn=Yt.access(T,"fxshow",{display:rt}),le&&(Tn.hidden=!Zn),Zn&&Ms([T],!0),st.done(function(){Zn||Ms([T]),Yt.remove(T,"fxshow");for(W in Nt)H.style(T,W,Nt[W])})),Pe=ad(Zn?Tn[W]:0,W,st),W in Tn||(Tn[W]=Pe.start,Zn&&(Pe.end=Pe.start,Pe.start=0))}}function si(T,N){var V,W,J,le,ye;for(V in T)if(W=Xa(V),J=N[W],le=T[V],Array.isArray(le)&&(J=le[1],le=T[V]=le[0]),V!==W&&(T[W]=le,delete T[V]),ye=H.cssHooks[W],ye&&"expand"in ye){le=ye.expand(le),delete T[W];for(V in le)V in T||(T[V]=le[V],N[V]=J)}else N[W]=J}function Qc(T,N,V){var W,J,le=0,ye=Qc.prefilters.length,we=H.Deferred().always(function(){delete Pe.elem}),Pe=function(){if(J)return!1;for(var Kt=Xc||uu(),st=Math.max(0,rt.startTime+rt.duration-Kt),Nt=st/rt.duration||0,Jn=1-Nt,Zn=0,Tn=rt.tweens.length;Zn<Tn;Zn++)rt.tweens[Zn].run(Jn);return we.notifyWith(T,[rt,Jn,st]),Jn<1&&Tn?st:(Tn||we.notifyWith(T,[rt,1,0]),we.resolveWith(T,[rt]),!1)},rt=we.promise({elem:T,props:H.extend({},N),opts:H.extend(!0,{specialEasing:{},easing:H.easing._default},V),originalProperties:N,originalOptions:V,startTime:Xc||uu(),duration:V.duration,tweens:[],createTween:function(Kt,st){var Nt=H.Tween(T,rt.opts,Kt,st,rt.opts.specialEasing[Kt]||rt.opts.easing);return rt.tweens.push(Nt),Nt},stop:function(Kt){var st=0,Nt=Kt?rt.tweens.length:0;if(J)return this;for(J=!0;st<Nt;st++)rt.tweens[st].run(1);return Kt?(we.notifyWith(T,[rt,1,0]),we.resolveWith(T,[rt,Kt])):we.rejectWith(T,[rt,Kt]),this}}),_t=rt.props;for(si(_t,rt.opts.specialEasing);le<ye;le++)if(W=Qc.prefilters[le].call(rt,T,_t,rt.opts),W)return ue(W.stop)&&(H._queueHooks(rt.elem,rt.opts.queue).stop=W.stop.bind(W)),W;return H.map(_t,ad,rt),ue(rt.opts.start)&&rt.opts.start.call(T,rt),rt.progress(rt.opts.progress).done(rt.opts.done,rt.opts.complete).fail(rt.opts.fail).always(rt.opts.always),H.fx.timer(H.extend(Pe,{elem:T,anim:rt,queue:rt.opts.queue})),rt}H.Animation=H.extend(Qc,{tweeners:{"*":[function(T,N){var V=this.createTween(T,N);return Os(V.elem,T,Pc.exec(N),V),V}]},tweener:function(T,N){ue(T)?(N=T,T=["*"]):T=T.match(je);for(var V,W=0,J=T.length;W<J;W++)V=T[W],Qc.tweeners[V]=Qc.tweeners[V]||[],Qc.tweeners[V].unshift(N)},prefilters:[Cs],prefilter:function(T,N){N?Qc.prefilters.unshift(T):Qc.prefilters.push(T)}}),H.speed=function(T,N,V){var W=T&&typeof T=="object"?H.extend({},T):{complete:V||!V&&N||ue(T)&&T,duration:T,easing:V&&N||N&&!ue(N)&&N};return H.fx.off?W.duration=0:typeof W.duration!="number"&&(W.duration in H.fx.speeds?W.duration=H.fx.speeds[W.duration]:W.duration=H.fx.speeds._default),(W.queue==null||W.queue===!0)&&(W.queue="fx"),W.old=W.complete,W.complete=function(){ue(W.old)&&W.old.call(this),W.queue&&H.dequeue(this,W.queue)},W},H.fn.extend({fadeTo:function(T,N,V,W){return this.filter(nr).css("opacity",0).show().end().animate({opacity:N},T,V,W)},animate:function(T,N,V,W){var J=H.isEmptyObject(T),le=H.speed(N,V,W),ye=function(){var we=Qc(this,H.extend({},T),le);(J||Yt.get(this,"finish"))&&we.stop(!0)};return ye.finish=ye,J||le.queue===!1?this.each(ye):this.queue(le.queue,ye)},stop:function(T,N,V){var W=function(J){var le=J.stop;delete J.stop,le(V)};return typeof T!="string"&&(V=N,N=T,T=void 0),N&&this.queue(T||"fx",[]),this.each(function(){var J=!0,le=T!=null&&T+"queueHooks",ye=H.timers,we=Yt.get(this);if(le)we[le]&&we[le].stop&&W(we[le]);else for(le in we)we[le]&&we[le].stop&&lu.test(le)&&W(we[le]);for(le=ye.length;le--;)ye[le].elem===this&&(T==null||ye[le].queue===T)&&(ye[le].anim.stop(V),J=!1,ye.splice(le,1));(J||!V)&&H.dequeue(this,T)})},finish:function(T){return T!==!1&&(T=T||"fx"),this.each(function(){var N,V=Yt.get(this),W=V[T+"queue"],J=V[T+"queueHooks"],le=H.timers,ye=W?W.length:0;for(V.finish=!0,H.queue(this,T,[]),J&&J.stop&&J.stop.call(this,!0),N=le.length;N--;)le[N].elem===this&&le[N].queue===T&&(le[N].anim.stop(!0),le.splice(N,1));for(N=0;N<ye;N++)W[N]&&W[N].finish&&W[N].finish.call(this);delete V.finish})}}),H.each(["toggle","show","hide"],function(T,N){var V=H.fn[N];H.fn[N]=function(W,J,le){return W==null||typeof W=="boolean"?V.apply(this,arguments):this.animate($l(N,!0),W,J,le)}}),H.each({slideDown:$l("show"),slideUp:$l("hide"),slideToggle:$l("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(T,N){H.fn[T]=function(V,W,J){return this.animate(N,V,W,J)}}),H.timers=[],H.fx.tick=function(){var T,N=0,V=H.timers;for(Xc=Date.now();N<V.length;N++)T=V[N],!T()&&V[N]===T&&V.splice(N--,1);V.length||H.fx.stop(),Xc=void 0},H.fx.timer=function(T){H.timers.push(T),H.fx.start()},H.fx.interval=13,H.fx.start=function(){oi||(oi=!0,Ja())},H.fx.stop=function(){oi=null},H.fx.speeds={slow:600,fast:200,_default:400},H.fn.delay=function(T,N){return T=H.fx&&H.fx.speeds[T]||T,N=N||"fx",this.queue(N,function(V,W){var J=c.setTimeout(V,T);W.stop=function(){c.clearTimeout(J)}})},function(){var T=re.createElement("input"),N=re.createElement("select"),V=N.appendChild(re.createElement("option"));T.type="checkbox",fe.checkOn=T.value!=="",fe.optSelected=V.selected,T=re.createElement("input"),T.value="t",T.type="radio",fe.radioValue=T.value==="t"}();var cd,xa=H.expr.attrHandle;H.fn.extend({attr:function(T,N){return cs(this,H.attr,T,N,arguments.length>1)},removeAttr:function(T){return this.each(function(){H.removeAttr(this,T)})}}),H.extend({attr:function(T,N,V){var W,J,le=T.nodeType;if(!(le===3||le===8||le===2)){if(typeof T.getAttribute>"u")return H.prop(T,N,V);if((le!==1||!H.isXMLDoc(T))&&(J=H.attrHooks[N.toLowerCase()]||(H.expr.match.bool.test(N)?cd:void 0)),V!==void 0){if(V===null){H.removeAttr(T,N);return}return J&&"set"in J&&(W=J.set(T,V,N))!==void 0?W:(T.setAttribute(N,V+""),V)}return J&&"get"in J&&(W=J.get(T,N))!==null?W:(W=H.find.attr(T,N),W??void 0)}},attrHooks:{type:{set:function(T,N){if(!fe.radioValue&&N==="radio"&&_e(T,"input")){var V=T.value;return T.setAttribute("type",N),V&&(T.value=V),N}}}},removeAttr:function(T,N){var V,W=0,J=N&&N.match(je);if(J&&T.nodeType===1)for(;V=J[W++];)T.removeAttribute(V)}}),cd={set:function(T,N,V){return N===!1?H.removeAttr(T,V):T.setAttribute(V,V),V}},H.each(H.expr.match.bool.source.match(/\w+/g),function(T,N){var V=xa[N]||H.find.attr;xa[N]=function(W,J,le){var ye,we,Pe=J.toLowerCase();return le||(we=xa[Pe],xa[Pe]=ye,ye=V(W,J,le)!=null?Pe:null,xa[Pe]=we),ye}});var yc=/^(?:input|select|textarea|button)$/i,br=/^(?:a|area)$/i;H.fn.extend({prop:function(T,N){return cs(this,H.prop,T,N,arguments.length>1)},removeProp:function(T){return this.each(function(){delete this[H.propFix[T]||T]})}}),H.extend({prop:function(T,N,V){var W,J,le=T.nodeType;if(!(le===3||le===8||le===2))return(le!==1||!H.isXMLDoc(T))&&(N=H.propFix[N]||N,J=H.propHooks[N]),V!==void 0?J&&"set"in J&&(W=J.set(T,V,N))!==void 0?W:T[N]=V:J&&"get"in J&&(W=J.get(T,N))!==null?W:T[N]},propHooks:{tabIndex:{get:function(T){var N=H.find.attr(T,"tabindex");return N?parseInt(N,10):yc.test(T.nodeName)||br.test(T.nodeName)&&T.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),fe.optSelected||(H.propHooks.selected={get:function(T){var N=T.parentNode;return N&&N.parentNode&&N.parentNode.selectedIndex,null},set:function(T){var N=T.parentNode;N&&(N.selectedIndex,N.parentNode&&N.parentNode.selectedIndex)}}),H.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){H.propFix[this.toLowerCase()]=this});function ld(T){var N=T.match(je)||[];return N.join(" ")}function du(T){return T.getAttribute&&T.getAttribute("class")||""}function bs(T){return Array.isArray(T)?T:typeof T=="string"?T.match(je)||[]:[]}H.fn.extend({addClass:function(T){var N,V,W,J,le,ye;return ue(T)?this.each(function(we){H(this).addClass(T.call(this,we,du(this)))}):(N=bs(T),N.length?this.each(function(){if(W=du(this),V=this.nodeType===1&&" "+ld(W)+" ",V){for(le=0;le<N.length;le++)J=N[le],V.indexOf(" "+J+" ")<0&&(V+=J+" ");ye=ld(V),W!==ye&&this.setAttribute("class",ye)}}):this)},removeClass:function(T){var N,V,W,J,le,ye;return ue(T)?this.each(function(we){H(this).removeClass(T.call(this,we,du(this)))}):arguments.length?(N=bs(T),N.length?this.each(function(){if(W=du(this),V=this.nodeType===1&&" "+ld(W)+" ",V){for(le=0;le<N.length;le++)for(J=N[le];V.indexOf(" "+J+" ")>-1;)V=V.replace(" "+J+" "," ");ye=ld(V),W!==ye&&this.setAttribute("class",ye)}}):this):this.attr("class","")},toggleClass:function(T,N){var V,W,J,le,ye=typeof T,we=ye==="string"||Array.isArray(T);return ue(T)?this.each(function(Pe){H(this).toggleClass(T.call(this,Pe,du(this),N),N)}):typeof N=="boolean"&&we?N?this.addClass(T):this.removeClass(T):(V=bs(T),this.each(function(){if(we)for(le=H(this),J=0;J<V.length;J++)W=V[J],le.hasClass(W)?le.removeClass(W):le.addClass(W);else(T===void 0||ye==="boolean")&&(W=du(this),W&&Yt.set(this,"__className__",W),this.setAttribute&&this.setAttribute("class",W||T===!1?"":Yt.get(this,"__className__")||""))}))},hasClass:function(T){var N,V,W=0;for(N=" "+T+" ";V=this[W++];)if(V.nodeType===1&&(" "+ld(du(V))+" ").indexOf(N)>-1)return!0;return!1}});var ec=/\r/g;H.fn.extend({val:function(T){var N,V,W,J=this[0];return arguments.length?(W=ue(T),this.each(function(le){var ye;this.nodeType===1&&(W?ye=T.call(this,le,H(this).val()):ye=T,ye==null?ye="":typeof ye=="number"?ye+="":Array.isArray(ye)&&(ye=H.map(ye,function(we){return we==null?"":we+""})),N=H.valHooks[this.type]||H.valHooks[this.nodeName.toLowerCase()],(!N||!("set"in N)||N.set(this,ye,"value")===void 0)&&(this.value=ye))})):J?(N=H.valHooks[J.type]||H.valHooks[J.nodeName.toLowerCase()],N&&"get"in N&&(V=N.get(J,"value"))!==void 0?V:(V=J.value,typeof V=="string"?V.replace(ec,""):V??"")):void 0}}),H.extend({valHooks:{option:{get:function(T){var N=H.find.attr(T,"value");return N??ld(H.text(T))}},select:{get:function(T){var N,V,W,J=T.options,le=T.selectedIndex,ye=T.type==="select-one",we=ye?null:[],Pe=ye?le+1:J.length;for(le<0?W=Pe:W=ye?le:0;W<Pe;W++)if(V=J[W],(V.selected||W===le)&&!V.disabled&&(!V.parentNode.disabled||!_e(V.parentNode,"optgroup"))){if(N=H(V).val(),ye)return N;we.push(N)}return we},set:function(T,N){for(var V,W,J=T.options,le=H.makeArray(N),ye=J.length;ye--;)W=J[ye],(W.selected=H.inArray(H.valHooks.option.get(W),le)>-1)&&(V=!0);return V||(T.selectedIndex=-1),le}}}}),H.each(["radio","checkbox"],function(){H.valHooks[this]={set:function(T,N){if(Array.isArray(N))return T.checked=H.inArray(H(T).val(),N)>-1}},fe.checkOn||(H.valHooks[this].get=function(T){return T.getAttribute("value")===null?"on":T.value})}),fe.focusin="onfocusin"in c;var ri=/^(?:focusinfocus|focusoutblur)$/,Fr=function(T){T.stopPropagation()};H.extend(H.event,{trigger:function(T,N,V,W){var J,le,ye,we,Pe,rt,_t,Kt,st=[V||re],Nt=ne.call(T,"type")?T.type:T,Jn=ne.call(T,"namespace")?T.namespace.split("."):[];if(le=Kt=ye=V=V||re,!(V.nodeType===3||V.nodeType===8)&&!ri.test(Nt+H.event.triggered)&&(Nt.indexOf(".")>-1&&(Jn=Nt.split("."),Nt=Jn.shift(),Jn.sort()),Pe=Nt.indexOf(":")<0&&"on"+Nt,T=T[H.expando]?T:new H.Event(Nt,typeof T=="object"&&T),T.isTrigger=W?2:3,T.namespace=Jn.join("."),T.rnamespace=T.namespace?new RegExp("(^|\\.)"+Jn.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,T.result=void 0,T.target||(T.target=V),N=N==null?[T]:H.makeArray(N,[T]),_t=H.event.special[Nt]||{},!(!W&&_t.trigger&&_t.trigger.apply(V,N)===!1))){if(!W&&!_t.noBubble&&!ce(V)){for(we=_t.delegateType||Nt,ri.test(we+Nt)||(le=le.parentNode);le;le=le.parentNode)st.push(le),ye=le;ye===(V.ownerDocument||re)&&st.push(ye.defaultView||ye.parentWindow||c)}for(J=0;(le=st[J++])&&!T.isPropagationStopped();)Kt=le,T.type=J>1?we:_t.bindType||Nt,rt=(Yt.get(le,"events")||Object.create(null))[T.type]&&Yt.get(le,"handle"),rt&&rt.apply(le,N),rt=Pe&&le[Pe],rt&&rt.apply&&kn(le)&&(T.result=rt.apply(le,N),T.result===!1&&T.preventDefault());return T.type=Nt,!W&&!T.isDefaultPrevented()&&(!_t._default||_t._default.apply(st.pop(),N)===!1)&&kn(V)&&Pe&&ue(V[Nt])&&!ce(V)&&(ye=V[Pe],ye&&(V[Pe]=null),H.event.triggered=Nt,T.isPropagationStopped()&&Kt.addEventListener(Nt,Fr),V[Nt](),T.isPropagationStopped()&&Kt.removeEventListener(Nt,Fr),H.event.triggered=void 0,ye&&(V[Pe]=ye)),T.result}},simulate:function(T,N,V){var W=H.extend(new H.Event,V,{type:T,isSimulated:!0});H.event.trigger(W,null,N)}}),H.fn.extend({trigger:function(T,N){return this.each(function(){H.event.trigger(T,N,this)})},triggerHandler:function(T,N){var V=this[0];if(V)return H.event.trigger(T,N,V,!0)}}),fe.focusin||H.each({focus:"focusin",blur:"focusout"},function(T,N){var V=function(W){H.event.simulate(N,W.target,H.event.fix(W))};H.event.special[N]={setup:function(){var W=this.ownerDocument||this.document||this,J=Yt.access(W,N);J||W.addEventListener(T,V,!0),Yt.access(W,N,(J||0)+1)},teardown:function(){var W=this.ownerDocument||this.document||this,J=Yt.access(W,N)-1;J?Yt.access(W,N,J):(W.removeEventListener(T,V,!0),Yt.remove(W,N))}}});var Jc=c.location,Iu={guid:Date.now()},_c=/\?/;H.parseXML=function(T){var N,V;if(!T||typeof T!="string")return null;try{N=new c.DOMParser().parseFromString(T,"text/xml")}catch{}return V=N&&N.getElementsByTagName("parsererror")[0],(!N||V)&&H.error("Invalid XML: "+(V?H.map(V.childNodes,function(W){return W.textContent}).join(`
`):T)),N};var Lc=/\[\]$/,Df=/\r?\n/g,Th=/^(?:submit|button|image|reset|file)$/i,Vp=/^(?:input|select|textarea|keygen)/i;function tc(T,N,V,W){var J;if(Array.isArray(N))H.each(N,function(le,ye){V||Lc.test(T)?W(T,ye):tc(T+"["+(typeof ye=="object"&&ye!=null?le:"")+"]",ye,V,W)});else if(!V&&De(N)==="object")for(J in N)tc(T+"["+J+"]",N[J],V,W);else W(T,N)}H.param=function(T,N){var V,W=[],J=function(le,ye){var we=ue(ye)?ye():ye;W[W.length]=encodeURIComponent(le)+"="+encodeURIComponent(we??"")};if(T==null)return"";if(Array.isArray(T)||T.jquery&&!H.isPlainObject(T))H.each(T,function(){J(this.name,this.value)});else for(V in T)tc(V,T[V],N,J);return W.join("&")},H.fn.extend({serialize:function(){return H.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var T=H.prop(this,"elements");return T?H.makeArray(T):this}).filter(function(){var T=this.type;return this.name&&!H(this).is(":disabled")&&Vp.test(this.nodeName)&&!Th.test(T)&&(this.checked||!fl.test(T))}).map(function(T,N){var V=H(this).val();return V==null?null:Array.isArray(V)?H.map(V,function(W){return{name:N.name,value:W.replace(Df,`\r
`)}}):{name:N.name,value:V.replace(Df,`\r
`)}}).get()}});var Du=/%20/g,Ch=/#.*$/,Nu=/([?&])_=[^&]*/,Nf=/^(.*?):[ \t]*([^\r\n]*)$/mg,Sm=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Mu=/^(?:GET|HEAD)$/,ku=/^\/\//,Aa={},Ni={},Pu="*/".concat("*"),Mf=re.createElement("a");Mf.href=Jc.href;function Up(T){return function(N,V){typeof N!="string"&&(V=N,N="*");var W,J=0,le=N.toLowerCase().match(je)||[];if(ue(V))for(;W=le[J++];)W[0]==="+"?(W=W.slice(1)||"*",(T[W]=T[W]||[]).unshift(V)):(T[W]=T[W]||[]).push(V)}}function Hs(T,N,V,W){var J={},le=T===Ni;function ye(we){var Pe;return J[we]=!0,H.each(T[we]||[],function(rt,_t){var Kt=_t(N,V,W);if(typeof Kt=="string"&&!le&&!J[Kt])return N.dataTypes.unshift(Kt),ye(Kt),!1;if(le)return!(Pe=Kt)}),Pe}return ye(N.dataTypes[0])||!J["*"]&&ye("*")}function yr(T,N){var V,W,J=H.ajaxSettings.flatOptions||{};for(V in N)N[V]!==void 0&&((J[V]?T:W||(W={}))[V]=N[V]);return W&&H.extend(!0,T,W),T}function nc(T,N,V){for(var W,J,le,ye,we=T.contents,Pe=T.dataTypes;Pe[0]==="*";)Pe.shift(),W===void 0&&(W=T.mimeType||N.getResponseHeader("Content-Type"));if(W){for(J in we)if(we[J]&&we[J].test(W)){Pe.unshift(J);break}}if(Pe[0]in V)le=Pe[0];else{for(J in V){if(!Pe[0]||T.converters[J+" "+Pe[0]]){le=J;break}ye||(ye=J)}le=le||ye}if(le)return le!==Pe[0]&&Pe.unshift(le),V[le]}function Qi(T,N,V,W){var J,le,ye,we,Pe,rt={},_t=T.dataTypes.slice();if(_t[1])for(ye in T.converters)rt[ye.toLowerCase()]=T.converters[ye];for(le=_t.shift();le;)if(T.responseFields[le]&&(V[T.responseFields[le]]=N),!Pe&&W&&T.dataFilter&&(N=T.dataFilter(N,T.dataType)),Pe=le,le=_t.shift(),le){if(le==="*")le=Pe;else if(Pe!=="*"&&Pe!==le){if(ye=rt[Pe+" "+le]||rt["* "+le],!ye){for(J in rt)if(we=J.split(" "),we[1]===le&&(ye=rt[Pe+" "+we[0]]||rt["* "+we[0]],ye)){ye===!0?ye=rt[J]:rt[J]!==!0&&(le=we[0],_t.unshift(we[1]));break}}if(ye!==!0)if(ye&&T.throws)N=ye(N);else try{N=ye(N)}catch(Kt){return{state:"parsererror",error:ye?Kt:"No conversion from "+Pe+" to "+le}}}}return{state:"success",data:N}}H.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Jc.href,type:"GET",isLocal:Sm.test(Jc.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Pu,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":H.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(T,N){return N?yr(yr(T,H.ajaxSettings),N):yr(H.ajaxSettings,T)},ajaxPrefilter:Up(Aa),ajaxTransport:Up(Ni),ajax:function(T,N){typeof T=="object"&&(N=T,T=void 0),N=N||{};var V,W,J,le,ye,we,Pe,rt,_t,Kt,st=H.ajaxSetup({},N),Nt=st.context||st,Jn=st.context&&(Nt.nodeType||Nt.jquery)?H(Nt):H.event,Zn=H.Deferred(),Tn=H.Callbacks("once memory"),lr=st.statusCode||{},Gs={},ls={},Kn="canceled",eo={readyState:0,getResponseHeader:function(Ao){var _r;if(Pe){if(!le)for(le={};_r=Nf.exec(J);)le[_r[1].toLowerCase()+" "]=(le[_r[1].toLowerCase()+" "]||[]).concat(_r[2]);_r=le[Ao.toLowerCase()+" "]}return _r==null?null:_r.join(", ")},getAllResponseHeaders:function(){return Pe?J:null},setRequestHeader:function(Ao,_r){return Pe==null&&(Ao=ls[Ao.toLowerCase()]=ls[Ao.toLowerCase()]||Ao,Gs[Ao]=_r),this},overrideMimeType:function(Ao){return Pe==null&&(st.mimeType=Ao),this},statusCode:function(Ao){var _r;if(Ao)if(Pe)eo.always(Ao[eo.status]);else for(_r in Ao)lr[_r]=[lr[_r],Ao[_r]];return this},abort:function(Ao){var _r=Ao||Kn;return V&&V.abort(_r),ki(0,_r),this}};if(Zn.promise(eo),st.url=((T||st.url||Jc.href)+"").replace(ku,Jc.protocol+"//"),st.type=N.method||N.type||st.method||st.type,st.dataTypes=(st.dataType||"*").toLowerCase().match(je)||[""],st.crossDomain==null){we=re.createElement("a");try{we.href=st.url,we.href=we.href,st.crossDomain=Mf.protocol+"//"+Mf.host!=we.protocol+"//"+we.host}catch{st.crossDomain=!0}}if(st.data&&st.processData&&typeof st.data!="string"&&(st.data=H.param(st.data,st.traditional)),Hs(Aa,st,N,eo),Pe)return eo;rt=H.event&&st.global,rt&&H.active++===0&&H.event.trigger("ajaxStart"),st.type=st.type.toUpperCase(),st.hasContent=!Mu.test(st.type),W=st.url.replace(Ch,""),st.hasContent?st.data&&st.processData&&(st.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(st.data=st.data.replace(Du,"+")):(Kt=st.url.slice(W.length),st.data&&(st.processData||typeof st.data=="string")&&(W+=(_c.test(W)?"&":"?")+st.data,delete st.data),st.cache===!1&&(W=W.replace(Nu,"$1"),Kt=(_c.test(W)?"&":"?")+"_="+Iu.guid+++Kt),st.url=W+Kt),st.ifModified&&(H.lastModified[W]&&eo.setRequestHeader("If-Modified-Since",H.lastModified[W]),H.etag[W]&&eo.setRequestHeader("If-None-Match",H.etag[W])),(st.data&&st.hasContent&&st.contentType!==!1||N.contentType)&&eo.setRequestHeader("Content-Type",st.contentType),eo.setRequestHeader("Accept",st.dataTypes[0]&&st.accepts[st.dataTypes[0]]?st.accepts[st.dataTypes[0]]+(st.dataTypes[0]!=="*"?", "+Pu+"; q=0.01":""):st.accepts["*"]);for(_t in st.headers)eo.setRequestHeader(_t,st.headers[_t]);if(st.beforeSend&&(st.beforeSend.call(Nt,eo,st)===!1||Pe))return eo.abort();if(Kn="abort",Tn.add(st.complete),eo.done(st.success),eo.fail(st.error),V=Hs(Ni,st,N,eo),!V)ki(-1,"No Transport");else{if(eo.readyState=1,rt&&Jn.trigger("ajaxSend",[eo,st]),Pe)return eo;st.async&&st.timeout>0&&(ye=c.setTimeout(function(){eo.abort("timeout")},st.timeout));try{Pe=!1,V.send(Gs,ki)}catch(Ao){if(Pe)throw Ao;ki(-1,Ao)}}function ki(Ao,_r,Bl,Vs){var ur,Ir,Bc,Ei,is,dr=_r;Pe||(Pe=!0,ye&&c.clearTimeout(ye),V=void 0,J=Vs||"",eo.readyState=Ao>0?4:0,ur=Ao>=200&&Ao<300||Ao===304,Bl&&(Ei=nc(st,eo,Bl)),!ur&&H.inArray("script",st.dataTypes)>-1&&H.inArray("json",st.dataTypes)<0&&(st.converters["text script"]=function(){}),Ei=Qi(st,Ei,eo,ur),ur?(st.ifModified&&(is=eo.getResponseHeader("Last-Modified"),is&&(H.lastModified[W]=is),is=eo.getResponseHeader("etag"),is&&(H.etag[W]=is)),Ao===204||st.type==="HEAD"?dr="nocontent":Ao===304?dr="notmodified":(dr=Ei.state,Ir=Ei.data,Bc=Ei.error,ur=!Bc)):(Bc=dr,(Ao||!dr)&&(dr="error",Ao<0&&(Ao=0))),eo.status=Ao,eo.statusText=(_r||dr)+"",ur?Zn.resolveWith(Nt,[Ir,dr,eo]):Zn.rejectWith(Nt,[eo,dr,Bc]),eo.statusCode(lr),lr=void 0,rt&&Jn.trigger(ur?"ajaxSuccess":"ajaxError",[eo,st,ur?Ir:Bc]),Tn.fireWith(Nt,[eo,dr]),rt&&(Jn.trigger("ajaxComplete",[eo,st]),--H.active||H.event.trigger("ajaxStop")))}return eo},getJSON:function(T,N,V){return H.get(T,N,V,"json")},getScript:function(T,N){return H.get(T,void 0,N,"script")}}),H.each(["get","post"],function(T,N){H[N]=function(V,W,J,le){return ue(W)&&(le=le||J,J=W,W=void 0),H.ajax(H.extend({url:V,type:N,dataType:le,data:W,success:J},H.isPlainObject(V)&&V))}}),H.ajaxPrefilter(function(T){var N;for(N in T.headers)N.toLowerCase()==="content-type"&&(T.contentType=T.headers[N]||"")}),H._evalUrl=function(T,N,V){return H.ajax({url:T,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(W){H.globalEval(W,N,V)}})},H.fn.extend({wrapAll:function(T){var N;return this[0]&&(ue(T)&&(T=T.call(this[0])),N=H(T,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&N.insertBefore(this[0]),N.map(function(){for(var V=this;V.firstElementChild;)V=V.firstElementChild;return V}).append(this)),this},wrapInner:function(T){return ue(T)?this.each(function(N){H(this).wrapInner(T.call(this,N))}):this.each(function(){var N=H(this),V=N.contents();V.length?V.wrapAll(T):N.append(T)})},wrap:function(T){var N=ue(T);return this.each(function(V){H(this).wrapAll(N?T.call(this,V):T)})},unwrap:function(T){return this.parent(T).not("body").each(function(){H(this).replaceWith(this.childNodes)}),this}}),H.expr.pseudos.hidden=function(T){return!H.expr.pseudos.visible(T)},H.expr.pseudos.visible=function(T){return!!(T.offsetWidth||T.offsetHeight||T.getClientRects().length)},H.ajaxSettings.xhr=function(){try{return new c.XMLHttpRequest}catch{}};var ml={0:200,1223:204},$c=H.ajaxSettings.xhr();fe.cors=!!$c&&"withCredentials"in $c,fe.ajax=$c=!!$c,H.ajaxTransport(function(T){var N,V;if(fe.cors||$c&&!T.crossDomain)return{send:function(W,J){var le,ye=T.xhr();if(ye.open(T.type,T.url,T.async,T.username,T.password),T.xhrFields)for(le in T.xhrFields)ye[le]=T.xhrFields[le];T.mimeType&&ye.overrideMimeType&&ye.overrideMimeType(T.mimeType),!T.crossDomain&&!W["X-Requested-With"]&&(W["X-Requested-With"]="XMLHttpRequest");for(le in W)ye.setRequestHeader(le,W[le]);N=function(we){return function(){N&&(N=V=ye.onload=ye.onerror=ye.onabort=ye.ontimeout=ye.onreadystatechange=null,we==="abort"?ye.abort():we==="error"?typeof ye.status!="number"?J(0,"error"):J(ye.status,ye.statusText):J(ml[ye.status]||ye.status,ye.statusText,(ye.responseType||"text")!=="text"||typeof ye.responseText!="string"?{binary:ye.response}:{text:ye.responseText},ye.getAllResponseHeaders()))}},ye.onload=N(),V=ye.onerror=ye.ontimeout=N("error"),ye.onabort!==void 0?ye.onabort=V:ye.onreadystatechange=function(){ye.readyState===4&&c.setTimeout(function(){N&&V()})},N=N("abort");try{ye.send(T.hasContent&&T.data||null)}catch(we){if(N)throw we}},abort:function(){N&&N()}}}),H.ajaxPrefilter(function(T){T.crossDomain&&(T.contents.script=!1)}),H.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(T){return H.globalEval(T),T}}}),H.ajaxPrefilter("script",function(T){T.cache===void 0&&(T.cache=!1),T.crossDomain&&(T.type="GET")}),H.ajaxTransport("script",function(T){if(T.crossDomain||T.scriptAttrs){var N,V;return{send:function(W,J){N=H("<script>").attr(T.scriptAttrs||{}).prop({charset:T.scriptCharset,src:T.url}).on("load error",V=function(le){N.remove(),V=null,le&&J(le.type==="error"?404:200,le.type)}),re.head.appendChild(N[0])},abort:function(){V&&V()}}}});var co=[],Do=/(=)\?(?=&|$)|\?\?/;H.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var T=co.pop()||H.expando+"_"+Iu.guid++;return this[T]=!0,T}}),H.ajaxPrefilter("json jsonp",function(T,N,V){var W,J,le,ye=T.jsonp!==!1&&(Do.test(T.url)?"url":typeof T.data=="string"&&(T.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Do.test(T.data)&&"data");if(ye||T.dataTypes[0]==="jsonp")return W=T.jsonpCallback=ue(T.jsonpCallback)?T.jsonpCallback():T.jsonpCallback,ye?T[ye]=T[ye].replace(Do,"$1"+W):T.jsonp!==!1&&(T.url+=(_c.test(T.url)?"&":"?")+T.jsonp+"="+W),T.converters["script json"]=function(){return le||H.error(W+" was not called"),le[0]},T.dataTypes[0]="json",J=c[W],c[W]=function(){le=arguments},V.always(function(){J===void 0?H(c).removeProp(W):c[W]=J,T[W]&&(T.jsonpCallback=N.jsonpCallback,co.push(W)),le&&ue(J)&&J(le[0]),le=J=void 0}),"script"}),fe.createHTMLDocument=function(){var T=re.implementation.createHTMLDocument("").body;return T.innerHTML="<form></form><form></form>",T.childNodes.length===2}(),H.parseHTML=function(T,N,V){if(typeof T!="string")return[];typeof N=="boolean"&&(V=N,N=!1);var W,J,le;return N||(fe.createHTMLDocument?(N=re.implementation.createHTMLDocument(""),W=N.createElement("base"),W.href=re.location.href,N.head.appendChild(W)):N=re),J=mn.exec(T),le=!V&&[],J?[N.createElement(J[1])]:(J=yh([T],N,le),le&&le.length&&H(le).remove(),H.merge([],J.childNodes))},H.fn.load=function(T,N,V){var W,J,le,ye=this,we=T.indexOf(" ");return we>-1&&(W=ld(T.slice(we)),T=T.slice(0,we)),ue(N)?(V=N,N=void 0):N&&typeof N=="object"&&(J="POST"),ye.length>0&&H.ajax({url:T,type:J||"GET",dataType:"html",data:N}).done(function(Pe){le=arguments,ye.html(W?H("<div>").append(H.parseHTML(Pe)).find(W):Pe)}).always(V&&function(Pe,rt){ye.each(function(){V.apply(this,le||[Pe.responseText,rt,Pe])})}),this},H.expr.pseudos.animated=function(T){return H.grep(H.timers,function(N){return T===N.elem}).length},H.offset={setOffset:function(T,N,V){var W,J,le,ye,we,Pe,rt,_t=H.css(T,"position"),Kt=H(T),st={};_t==="static"&&(T.style.position="relative"),we=Kt.offset(),le=H.css(T,"top"),Pe=H.css(T,"left"),rt=(_t==="absolute"||_t==="fixed")&&(le+Pe).indexOf("auto")>-1,rt?(W=Kt.position(),ye=W.top,J=W.left):(ye=parseFloat(le)||0,J=parseFloat(Pe)||0),ue(N)&&(N=N.call(T,V,H.extend({},we))),N.top!=null&&(st.top=N.top-we.top+ye),N.left!=null&&(st.left=N.left-we.left+J),"using"in N?N.using.call(T,st):Kt.css(st)}},H.fn.extend({offset:function(T){if(arguments.length)return T===void 0?this:this.each(function(J){H.offset.setOffset(this,T,J)});var N,V,W=this[0];if(W)return W.getClientRects().length?(N=W.getBoundingClientRect(),V=W.ownerDocument.defaultView,{top:N.top+V.pageYOffset,left:N.left+V.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var T,N,V,W=this[0],J={top:0,left:0};if(H.css(W,"position")==="fixed")N=W.getBoundingClientRect();else{for(N=this.offset(),V=W.ownerDocument,T=W.offsetParent||V.documentElement;T&&(T===V.body||T===V.documentElement)&&H.css(T,"position")==="static";)T=T.parentNode;T&&T!==W&&T.nodeType===1&&(J=H(T).offset(),J.top+=H.css(T,"borderTopWidth",!0),J.left+=H.css(T,"borderLeftWidth",!0))}return{top:N.top-J.top-H.css(W,"marginTop",!0),left:N.left-J.left-H.css(W,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var T=this.offsetParent;T&&H.css(T,"position")==="static";)T=T.offsetParent;return T||Rr})}}),H.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(T,N){var V=N==="pageYOffset";H.fn[T]=function(W){return cs(this,function(J,le,ye){var we;if(ce(J)?we=J:J.nodeType===9&&(we=J.defaultView),ye===void 0)return we?we[N]:J[le];we?we.scrollTo(V?we.pageXOffset:ye,V?ye:we.pageYOffset):J[le]=ye},T,W,arguments.length)}}),H.each(["top","left"],function(T,N){H.cssHooks[N]=Bp(fe.pixelPosition,function(V,W){if(W)return W=hl(V,N),Ur.test(W)?H(V).position()[N]+"px":W})}),H.each({Height:"height",Width:"width"},function(T,N){H.each({padding:"inner"+T,content:N,"":"outer"+T},function(V,W){H.fn[W]=function(J,le){var ye=arguments.length&&(V||typeof J!="boolean"),we=V||(J===!0||le===!0?"margin":"border");return cs(this,function(Pe,rt,_t){var Kt;return ce(Pe)?W.indexOf("outer")===0?Pe["inner"+T]:Pe.document.documentElement["client"+T]:Pe.nodeType===9?(Kt=Pe.documentElement,Math.max(Pe.body["scroll"+T],Kt["scroll"+T],Pe.body["offset"+T],Kt["offset"+T],Kt["client"+T])):_t===void 0?H.css(Pe,rt,we):H.style(Pe,rt,_t,we)},N,ye?J:void 0,ye)}})}),H.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(T,N){H.fn[N]=function(V){return this.on(N,V)}}),H.fn.extend({bind:function(T,N,V){return this.on(T,null,N,V)},unbind:function(T,N){return this.off(T,null,N)},delegate:function(T,N,V,W){return this.on(N,T,V,W)},undelegate:function(T,N,V){return arguments.length===1?this.off(T,"**"):this.off(N,T||"**",V)},hover:function(T,N){return this.mouseenter(T).mouseleave(N||T)}}),H.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(T,N){H.fn[N]=function(V,W){return arguments.length>0?this.on(N,null,V,W):this.trigger(N)}});var Mi=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;H.proxy=function(T,N){var V,W,J;if(typeof N=="string"&&(V=T[N],N=T,T=V),!!ue(T))return W=D.call(arguments,2),J=function(){return T.apply(N||this,W.concat(D.call(arguments)))},J.guid=T.guid=T.guid||H.guid++,J},H.holdReady=function(T){T?H.readyWait++:H.ready(!0)},H.isArray=Array.isArray,H.parseJSON=JSON.parse,H.nodeName=_e,H.isFunction=ue,H.isWindow=ce,H.camelCase=Xa,H.type=De,H.now=Date.now,H.isNumeric=function(T){var N=H.type(T);return(N==="number"||N==="string")&&!isNaN(T-parseFloat(T))},H.trim=function(T){return T==null?"":(T+"").replace(Mi,"$1")};var Kr=c.jQuery,la=c.$;return H.noConflict=function(T){return c.$===H&&(c.$=la),T&&c.jQuery===H&&(c.jQuery=Kr),H},typeof f>"u"&&(c.jQuery=c.$=H),H})})(Kne);const Xne=TZ;var CZ={},Qne={get exports(){return CZ},set exports(a){CZ=a}};(function(a){(function(){var c=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},f=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},y=function(e,n){var o=Array.prototype.slice.call(e);return o.sort(n)},S=function(e,n){return D(function(o,r){return e.eq(n(o),n(r))})},D=function(e){return{eq:e}},I=D(function(e,n){return e===n}),B=I,U=function(e){return D(function(n,o){if(n.length!==o.length)return!1;for(var r=n.length,l=0;l<r;l++)if(!e.eq(n[l],o[l]))return!1;return!0})},j=function(e,n){return S(U(e),function(o){return y(o,n)})},Y=function(e){return D(function(n,o){var r=Object.keys(n),l=Object.keys(o);if(!j(B).eq(r,l))return!1;for(var h=r.length,v=0;v<h;v++){var C=r[v];if(!e.eq(n[C],o[C]))return!1}return!0})},ne=D(function(e,n){if(e===n)return!0;var o=c(e),r=c(n);return o!==r?!1:f(o)?e===n:o==="array"?U(ne).eq(e,n):o==="object"?Y(ne).eq(e,n):!1});const ve=Object.getPrototypeOf,ie=(e,n,o)=>{var r;return o(e,n.prototype)?!0:((r=e.constructor)===null||r===void 0?void 0:r.name)===n.name},fe=e=>{const n=typeof e;return e===null?"null":n==="object"&&Array.isArray(e)?"array":n==="object"&&ie(e,String,(o,r)=>r.isPrototypeOf(o))?"string":n},ue=e=>n=>fe(n)===e,ce=e=>n=>typeof n===e,re=e=>n=>e===n,me=(e,n)=>De(e)&&ie(e,n,(o,r)=>ve(o)===r),K=ue("string"),De=ue("object"),Ge=e=>me(e,Object),H=ue("array"),Ee=re(null),qe=ce("boolean"),ut=re(void 0),yt=e=>e==null,ke=e=>!yt(e),_e=ce("function"),mn=ce("number"),wt=(e,n)=>{if(H(e)){for(let o=0,r=e.length;o<r;++o)if(!n(e[o]))return!1;return!0}return!1},Ot=()=>{},P=(e,n)=>(...o)=>e(n.apply(null,o)),Rt=(e,n)=>o=>e(n(o)),tt=e=>()=>e,qt=e=>e,Vt=(e,n)=>e===n;function je(e,...n){return(...o)=>{const r=n.concat(o);return e.apply(null,r)}}const vo=e=>n=>!e(n),Bo=e=>()=>{throw new Error(e)},ao=e=>e(),Fo=e=>{e()},et=tt(!1),It=tt(!0);class oe{constructor(n,o){this.tag=n,this.value=o}static some(n){return new oe(!0,n)}static none(){return oe.singletonNone}fold(n,o){return this.tag?o(this.value):n()}isSome(){return this.tag}isNone(){return!this.tag}map(n){return this.tag?oe.some(n(this.value)):oe.none()}bind(n){return this.tag?n(this.value):oe.none()}exists(n){return this.tag&&n(this.value)}forall(n){return!this.tag||n(this.value)}filter(n){return!this.tag||n(this.value)?this:oe.none()}getOr(n){return this.tag?this.value:n}or(n){return this.tag?this:n}getOrThunk(n){return this.tag?this.value:n()}orThunk(n){return this.tag?this:n()}getOrDie(n){if(this.tag)return this.value;throw new Error(n??"Called getOrDie on None")}static from(n){return ke(n)?oe.some(n):oe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(n){this.tag&&n(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}oe.singletonNone=new oe(!1);const cs=Array.prototype.slice,uo=Array.prototype.indexOf,Bt=Array.prototype.push,gs=(e,n)=>uo.call(e,n),Xa=(e,n)=>{const o=gs(e,n);return o===-1?oe.none():oe.some(o)},kn=(e,n)=>gs(e,n)>-1,ko=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const l=e[o];if(n(l,o))return!0}return!1},Yt=(e,n)=>{const o=e.length,r=new Array(o);for(let l=0;l<o;l++){const h=e[l];r[l]=n(h,l)}return r},mt=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const l=e[o];n(l,o)}},gi=(e,n)=>{for(let o=e.length-1;o>=0;o--){const r=e[o];n(r,o)}},vi=(e,n)=>{const o=[],r=[];for(let l=0,h=e.length;l<h;l++){const v=e[l];(n(v,l)?o:r).push(v)}return{pass:o,fail:r}},Lt=(e,n)=>{const o=[];for(let r=0,l=e.length;r<l;r++){const h=e[r];n(h,r)&&o.push(h)}return o},Lr=(e,n,o)=>(gi(e,(r,l)=>{o=n(o,r,l)}),o),Ns=(e,n,o)=>(mt(e,(r,l)=>{o=n(o,r,l)}),o),Pc=(e,n,o)=>{for(let r=0,l=e.length;r<l;r++){const h=e[r];if(n(h,r))return oe.some(h);if(o(h,r))break}return oe.none()},vs=(e,n)=>Pc(e,n,et),Rr=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const l=e[o];if(n(l,o))return oe.some(o)}return oe.none()},jc=e=>{const n=[];for(let o=0,r=e.length;o<r;++o){if(!H(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);Bt.apply(n,e[o])}return n},Ca=(e,n)=>jc(Yt(e,n)),nr=(e,n)=>{for(let o=0,r=e.length;o<r;++o){const l=e[o];if(n(l,o)!==!0)return!1}return!0},Os=e=>{const n=cs.call(e,0);return n.reverse(),n},rd=(e,n)=>Lt(e,o=>!kn(n,o)),Yr=(e,n)=>{const o={};for(let r=0,l=e.length;r<l;r++){const h=e[r];o[String(h)]=n(h,r)}return o},Ms=(e,n)=>{const o=cs.call(e,0);return o.sort(n),o},fl=(e,n)=>n>=0&&n<e.length?oe.some(e[n]):oe.none(),Ii=e=>fl(e,0),Zc=e=>fl(e,e.length-1),vr=_e(Array.from)?Array.from:e=>cs.call(e),$r=(e,n)=>{for(let o=0;o<e.length;o++){const r=n(e[o],o);if(r.isSome())return r}return oe.none()},Gd=(e,n)=>{const o=[],r=_e(n)?l=>ko(o,h=>n(h,l)):l=>kn(o,l);for(let l=0,h=e.length;l<h;l++){const v=e[l];r(v)||o.push(v)}return o},bi=Object.keys,yh=Object.hasOwnProperty,an=(e,n)=>{const o=bi(e);for(let r=0,l=o.length;r<l;r++){const h=o[r],v=e[h];n(v,h)}},Ho=(e,n)=>ca(e,(o,r)=>({k:r,v:n(o,r)})),ca=(e,n)=>{const o={};return an(e,(r,l)=>{const h=n(r,l);o[h.k]=h.v}),o},gc=e=>(n,o)=>{e[o]=n},_h=(e,n,o,r)=>{an(e,(l,h)=>{(n(l,h)?o:r)(l,h)})},au=(e,n)=>{const o={},r={};return _h(e,n,gc(o),gc(r)),{t:o,f:r}},ks=(e,n)=>{const o={};return _h(e,n,gc(o),Ot),o},id=(e,n)=>{const o=[];return an(e,(r,l)=>{o.push(n(r,l))}),o},qd=e=>id(e,qt),Xs=(e,n)=>qn(e,n)?oe.from(e[n]):oe.none(),qn=(e,n)=>yh.call(e,n),Qa=(e,n)=>qn(e,n)&&e[n]!==void 0&&e[n]!==null,Ru=(e,n,o=ne)=>Y(o).eq(e,n),Yc=e=>{const n={};return mt(e,o=>{n[o]={}}),bi(n)},Eh=e=>e.length!==void 0,Di=Array.isArray,Ki=e=>{if(Di(e))return e;{const n=[];for(let o=0,r=e.length;o<r;o++)n[o]=e[o];return n}},Ur=(e,n,o)=>{if(!e)return!1;if(o=o||e,Eh(e)){for(let r=0,l=e.length;r<l;r++)if(n.call(o,e[r],r,e)===!1)return!1}else for(const r in e)if(qn(e,r)&&n.call(o,e[r],r,e)===!1)return!1;return!0},Fa=(e,n)=>{const o=[];return Ur(e,(r,l)=>{o.push(n(r,l,e))}),o},Kc=(e,n)=>{const o=[];return Ur(e,(r,l)=>{(!n||n(r,l,e))&&o.push(r)}),o},vc=(e,n)=>{if(e){for(let o=0,r=e.length;o<r;o++)if(e[o]===n)return o}return-1},Sa=(e,n,o,r)=>{let l=ut(o)?e[0]:o;for(let h=0;h<e.length;h++)l=n.call(r,l,e[h],h);return l},Br=(e,n,o)=>{for(let r=0,l=e.length;r<l;r++)if(n.call(o,e[r],r,e))return r;return-1},bc=e=>e[e.length-1],hl=e=>{let n=!1,o;return(...r)=>(n||(n=!0,o=e.apply(null,r)),o)},Bp=(e,n,o,r)=>{const l=e.isiOS()&&/ipad/i.test(o)===!0,h=e.isiOS()&&!l,v=e.isiOS()||e.isAndroid(),C=v||r("(pointer:coarse)"),A=l||!h&&v&&r("(min-device-width:768px)"),L=h||v&&!A,X=n.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,Z=!L&&!A&&!X;return{isiPad:tt(l),isiPhone:tt(h),isTablet:tt(A),isPhone:tt(L),isTouch:tt(C),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:tt(X),isDesktop:tt(Z)}},Fp=(e,n)=>{for(let o=0;o<e.length;o++){const r=e[o];if(r.test(n))return r}},Ll=(e,n)=>{const o=Fp(e,n);if(!o)return{major:0,minor:0};const r=l=>Number(n.replace(o,"$"+l));return yi(r(1),r(2))},Tm=(e,n)=>{const o=String(n).toLowerCase();return e.length===0?Qe():Ll(e,o)},Qe=()=>yi(0,0),yi=(e,n)=>({major:e,minor:n}),cu={nu:yi,detect:Tm,unknown:Qe},Hp=(e,n)=>$r(n.brands,o=>{const r=o.brand.toLowerCase();return vs(e,l=>{var h;return r===((h=l.brand)===null||h===void 0?void 0:h.toLowerCase())}).map(l=>({current:l.name,version:cu.nu(parseInt(o.version,10),0)}))}),wh=(e,n)=>{const o=String(n).toLowerCase();return vs(e,r=>r.search(o))},Fs=(e,n)=>wh(e,n).map(o=>{const r=cu.detect(o.versionRegexes,n);return{current:o.name,version:r}}),jd=(e,n)=>wh(e,n).map(o=>{const r=cu.detect(o.versionRegexes,n);return{current:o.name,version:r}}),Cm=(e,n)=>e.substring(n),Xi=(e,n,o)=>n===""||e.length>=n.length&&e.substr(o,o+n.length)===n,Xc=(e,n)=>_i(e,n)?Cm(e,n.length):e,oi=(e,n,o=0,r)=>{const l=e.indexOf(n,o);return l!==-1?ut(r)?!0:l+n.length<=r:!1},_i=(e,n)=>Xi(e,n,0),lu=(e,n)=>Xi(e,n,e.length-n.length),Ja=e=>n=>n.replace(e,""),uu=Ja(/^\s+|\s+$/g),$l=Ja(/^\s+/g),ad=Ja(/\s+$/g),Cs=e=>e.length>0,si=e=>!Cs(e),Qc=(e,n)=>n<=0?"":new Array(n+1).join(e),cd=(e,n=10)=>{const o=parseInt(e,n);return isNaN(o)?oe.none():oe.some(o)},xa=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,yc=e=>n=>oi(n,e),br=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>oi(e,"edge/")&&oi(e,"chrome")&&oi(e,"safari")&&oi(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,xa],search:e=>oi(e,"chrome")&&!oi(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>oi(e,"msie")||oi(e,"trident")},{name:"Opera",versionRegexes:[xa,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:yc("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:yc("firefox")},{name:"Safari",versionRegexes:[xa,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(oi(e,"safari")||oi(e,"mobile/"))&&oi(e,"applewebkit")}],ld=[{name:"Windows",search:yc("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>oi(e,"iphone")||oi(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:yc("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:yc("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:yc("linux"),versionRegexes:[]},{name:"Solaris",search:yc("sunos"),versionRegexes:[]},{name:"FreeBSD",search:yc("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:yc("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],du={browsers:tt(br),oses:tt(ld)},bs="Edge",ec="Chromium",ri="IE",Fr="Opera",Jc="Firefox",Iu="Safari",_c=()=>Lc({current:void 0,version:cu.unknown()}),Lc=e=>{const n=e.current,o=e.version,r=l=>()=>n===l;return{current:n,version:o,isEdge:r(bs),isChromium:r(ec),isIE:r(ri),isOpera:r(Fr),isFirefox:r(Jc),isSafari:r(Iu)}},Df={unknown:_c,nu:Lc,edge:tt(bs),chromium:tt(ec),ie:tt(ri),opera:tt(Fr),firefox:tt(Jc),safari:tt(Iu)},Th="Windows",Vp="iOS",tc="Android",Du="Linux",Ch="macOS",Nu="Solaris",Nf="FreeBSD",Sm="ChromeOS",Mu=()=>ku({current:void 0,version:cu.unknown()}),ku=e=>{const n=e.current,o=e.version,r=l=>()=>n===l;return{current:n,version:o,isWindows:r(Th),isiOS:r(Vp),isAndroid:r(tc),isMacOS:r(Ch),isLinux:r(Du),isSolaris:r(Nu),isFreeBSD:r(Nf),isChromeOS:r(Sm)}},Aa={unknown:Mu,nu:ku,windows:tt(Th),ios:tt(Vp),android:tt(tc),linux:tt(Du),macos:tt(Ch),solaris:tt(Nu),freebsd:tt(Nf),chromeos:tt(Sm)},Pu={detect:(e,n,o)=>{const r=du.browsers(),l=du.oses(),h=n.bind(A=>Hp(r,A)).orThunk(()=>Fs(r,e)).fold(Df.unknown,Df.nu),v=jd(l,e).fold(Aa.unknown,Aa.nu),C=Bp(v,h,e,o);return{browser:h,os:v,deviceType:C}}},Mf=e=>window.matchMedia(e).matches;let Up=hl(()=>Pu.detect(navigator.userAgent,oe.from(navigator.userAgentData),Mf));const Hs=()=>Up(),yr=navigator.userAgent,nc=Hs(),Qi=nc.browser,ml=nc.os,$c=nc.deviceType,co=yr.indexOf("Windows Phone")!==-1,Do={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Qi.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Qi.isIE(),windowsPhone:co,browser:{current:Qi.current,version:Qi.version,isChromium:Qi.isChromium,isEdge:Qi.isEdge,isFirefox:Qi.isFirefox,isIE:Qi.isIE,isOpera:Qi.isOpera,isSafari:Qi.isSafari},os:{current:ml.current,version:ml.version,isAndroid:ml.isAndroid,isChromeOS:ml.isChromeOS,isFreeBSD:ml.isFreeBSD,isiOS:ml.isiOS,isLinux:ml.isLinux,isMacOS:ml.isMacOS,isSolaris:ml.isSolaris,isWindows:ml.isWindows},deviceType:{isDesktop:$c.isDesktop,isiPad:$c.isiPad,isiPhone:$c.isiPhone,isPhone:$c.isPhone,isTablet:$c.isTablet,isTouch:$c.isTouch,isWebView:$c.isWebView}},Mi=/^\s*|\s*$/g,Kr=e=>yt(e)?"":(""+e).replace(Mi,""),la=(e,n)=>n?n==="array"&&Di(e)?!0:typeof e===n:e!==void 0,T=(e,n,o={})=>{const r=K(e)?e.split(n||","):e||[];let l=r.length;for(;l--;)o[r[l]]={};return o},N=qn,V=(e,...n)=>{for(let o=0;o<n.length;o++){const r=n[o];for(const l in r)if(qn(r,l)){const h=r[l];h!==void 0&&(e[l]=h)}}return e},W=function(e,n,o,r){r=r||this,e&&(o&&(e=e[o]),Ur(e,(l,h)=>n.call(r,l,h,o)===!1?!1:(W(l,n,o,r),!0)))},we={trim:Kr,isArray:Di,is:la,toArray:Ki,makeMap:T,each:Ur,map:Fa,grep:Kc,inArray:vc,hasOwn:N,extend:V,walk:W,resolve:(e,n=window)=>{const o=e.split(".");for(let r=0,l=o.length;r<l&&(n=n[o[r]],!!n);r++);return n},explode:(e,n)=>H(e)?e:e===""?[]:Fa(e.split(n||","),Kr),_addCacheSuffix:e=>{const n=Do.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e}},Pe=(e,n,o=Vt)=>e.exists(r=>o(r,n)),rt=e=>{const n=[],o=r=>{n.push(r)};for(let r=0;r<e.length;r++)e[r].each(o);return n},_t=(e,n,o)=>e.isSome()&&n.isSome()?oe.some(o(e.getOrDie(),n.getOrDie())):oe.none(),Kt=(e,n,o,r)=>e.isSome()&&n.isSome()&&o.isSome()?oe.some(r(e.getOrDie(),n.getOrDie(),o.getOrDie())):oe.none(),st=(e,n)=>e?oe.some(n):oe.none(),Nt=typeof window<"u"?window:Function("return this;")(),Jn=(e,n)=>{let o=n??Nt;for(let r=0;r<e.length&&o!==void 0&&o!==null;++r)o=o[e[r]];return o},Zn=(e,n)=>{const o=e.split(".");return Jn(o,n)},Tn=(e,n)=>Zn(e,n),lr=(e,n)=>{const o=Tn(e,n);if(o==null)throw new Error(e+" not available on this browser");return o},Gs=Object.getPrototypeOf,ls=e=>lr("HTMLElement",e),Kn=e=>{const n=Zn("ownerDocument.defaultView",e);return De(e)&&(ls(n).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Gs(e).constructor.name))},eo=8,ki=9,Ao=11,_r=1,Bl=3,Vs=e=>e.dom.nodeName.toLowerCase(),ur=e=>e.dom.nodeType,Ir=e=>n=>ur(n)===e,Bc=e=>ur(e)===eo||Vs(e)==="#comment",Ei=e=>is(e)&&Kn(e.dom),is=Ir(_r),dr=Ir(Bl),Oa=Ir(ki),kf=Ir(Ao),Fc=e=>n=>is(n)&&Vs(n)===e,Ec=(e,n,o)=>{if(K(o)||qe(o)||mn(o))e.setAttribute(n,o+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},ho=(e,n,o)=>{Ec(e.dom,n,o)},zr=(e,n)=>{const o=e.dom;an(n,(r,l)=>{Ec(o,l,r)})},Pi=(e,n)=>{const o=e.dom.getAttribute(n);return o===null?void 0:o},oc=(e,n)=>oe.from(Pi(e,n)),Ji=(e,n)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(n):!1},fr=(e,n)=>{e.dom.removeAttribute(n)},Ha=e=>{const n=e.dom.attributes;return n==null||n.length===0},Ra=e=>Ns(e.dom.attributes,(n,o)=>(n[o.name]=o.value,n),{}),ud=(e,n)=>{const o=Pi(e,n);return o===void 0||o===""?[]:o.split(" ")},Sh=(e,n,o)=>{const l=ud(e,n).concat([o]);return ho(e,n,l.join(" ")),!0},zp=(e,n,o)=>{const r=Lt(ud(e,n),l=>l!==o);return r.length>0?ho(e,n,r.join(" ")):fr(e,n),!1},Fl=e=>e.dom.classList!==void 0,fu=e=>ud(e,"class"),Zd=(e,n)=>Sh(e,"class",n),wi=(e,n)=>zp(e,"class",n),dd=(e,n)=>kn(fu(e),n)?wi(e,n):Zd(e,n),fd=(e,n)=>{Fl(e)?e.dom.classList.add(n):Zd(e,n)},Lu=e=>{(Fl(e)?e.dom.classList:fu(e)).length===0&&fr(e,"class")},sc=(e,n)=>{Fl(e)?e.dom.classList.remove(n):wi(e,n),Lu(e)},ua=(e,n)=>{const o=Fl(e)?e.dom.classList.toggle(n):dd(e,n);return Lu(e),o},hu=(e,n)=>Fl(e)&&e.dom.classList.contains(n),hd=(e,n)=>{const r=(n||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){const l="HTML does not have a single root node";throw console.error(l,e),new Error(l)}return ws(r.childNodes[0])},xh=(e,n)=>{const r=(n||document).createElement(e);return ws(r)},Ah=(e,n)=>{const r=(n||document).createTextNode(e);return ws(r)},ws=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},Ie={fromHtml:hd,fromTag:xh,fromText:Ah,fromDom:ws,fromPoint:(e,n,o)=>oe.from(e.dom.elementFromPoint(n,o)).map(ws)},rc=(e,n)=>{const o=[],r=h=>(o.push(h),n(h));let l=n(e);do l=l.bind(r);while(l.isSome());return o},da=(e,n)=>{const o=e.dom;if(o.nodeType!==_r)return!1;{const r=o;if(r.matches!==void 0)return r.matches(n);if(r.msMatchesSelector!==void 0)return r.msMatchesSelector(n);if(r.webkitMatchesSelector!==void 0)return r.webkitMatchesSelector(n);if(r.mozMatchesSelector!==void 0)return r.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")}},Oh=e=>e.nodeType!==_r&&e.nodeType!==ki&&e.nodeType!==Ao||e.childElementCount===0,md=(e,n)=>{const o=n===void 0?document:n.dom;return Oh(o)?[]:Yt(o.querySelectorAll(e),Ie.fromDom)},o1=(e,n)=>{const o=n===void 0?document:n.dom;return Oh(o)?oe.none():oe.from(o.querySelector(e)).map(Ie.fromDom)},ns=(e,n)=>e.dom===n.dom,Je=(e,n)=>{const o=e.dom,r=n.dom;return o===r?!1:o.contains(r)},Mt=e=>Ie.fromDom(e.dom.ownerDocument),At=e=>Oa(e)?e:Mt(e),Un=e=>Ie.fromDom(At(e).dom.documentElement),_o=e=>Ie.fromDom(At(e).dom.defaultView),Vo=e=>oe.from(e.dom.parentNode).map(Ie.fromDom),Xr=e=>oe.from(e.dom.parentElement).map(Ie.fromDom),qs=(e,n)=>{const o=_e(n)?n:et;let r=e.dom;const l=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){const h=r.parentNode,v=Ie.fromDom(h);if(l.push(v),o(v)===!0)break;r=h}return l},pd=e=>{const n=o=>Lt(o,r=>!ns(e,r));return Vo(e).map(ze).map(n).getOr([])},Tc=e=>oe.from(e.dom.previousSibling).map(Ie.fromDom),Ia=e=>oe.from(e.dom.nextSibling).map(Ie.fromDom),Se=e=>Os(rc(e,Tc)),Le=e=>rc(e,Ia),ze=e=>Yt(e.dom.childNodes,Ie.fromDom),Ht=(e,n)=>{const o=e.dom.childNodes;return oe.from(o[n]).map(Ie.fromDom)},lt=e=>Ht(e,0),Ct=e=>Ht(e,e.dom.childNodes.length-1),Xt=e=>e.dom.childNodes.length,xn=e=>{const n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return Ie.fromDom(n)},Nn=e=>kf(e)&&ke(e.dom.host),to=_e(Element.prototype.attachShadow)&&_e(Node.prototype.getRootNode),bo=tt(to),so=to?e=>Ie.fromDom(e.dom.getRootNode()):At,Zo=e=>Nn(e)?e:xn(At(e)),Rs=e=>Nn(e)?e:Ie.fromDom(At(e).dom.body),To=e=>{const n=so(e);return Nn(n)?oe.some(n):oe.none()},Li=e=>Ie.fromDom(e.dom.host),$i=e=>{if(bo()&&ke(e.target)){const n=Ie.fromDom(e.target);if(is(n)&&Va(n)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return Ii(o)}}return oe.from(e.target)},Va=e=>ke(e.dom.shadowRoot),Qs=e=>{const n=dr(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;const o=n.ownerDocument;return To(Ie.fromDom(n)).fold(()=>o.body.contains(n),Rt(Qs,Li))};var Hl=(e,n,o,r,l)=>e(o,r)?oe.some(o):_e(l)&&l(o)?oe.none():n(o,r,l);const Ps=(e,n,o)=>{let r=e.dom;const l=_e(o)?o:et;for(;r.parentNode;){r=r.parentNode;const h=Ie.fromDom(r);if(n(h))return oe.some(h);if(l(h))break}return oe.none()},es=(e,n,o)=>Hl((l,h)=>h(l),Ps,e,n,o),pl=(e,n)=>{const o=e.dom;return o.parentNode?xm(Ie.fromDom(o.parentNode),r=>!ns(e,r)&&n(r)):oe.none()},xm=(e,n)=>{const o=l=>n(Ie.fromDom(l));return vs(e.dom.childNodes,o).map(Ie.fromDom)},s1=(e,n)=>{const o=r=>{for(let l=0;l<r.childNodes.length;l++){const h=Ie.fromDom(r.childNodes[l]);if(n(h))return oe.some(h);const v=o(r.childNodes[l]);if(v.isSome())return v}return oe.none()};return o(e.dom)},Da=(e,n,o)=>Ps(e,r=>da(r,n),o),Yd=(e,n)=>o1(n,e),Vl=(e,n,o)=>Hl((l,h)=>da(l,h),Da,e,n,o),el=e=>Vl(e,"[contenteditable]"),Kd=(e,n=!1)=>Qs(e)?e.dom.isContentEditable:el(e).fold(tt(n),o=>ro(o)==="true"),ro=e=>e.dom.contentEditable,fa=e=>e.style!==void 0&&_e(e.style.getPropertyValue),Rh=(e,n,o)=>{if(!K(o))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);fa(e)&&e.style.setProperty(n,o)},Ev=(e,n)=>{fa(e)&&e.style.removeProperty(n)},ii=(e,n,o)=>{const r=e.dom;Rh(r,n,o)},ha=(e,n)=>{const o=e.dom;an(n,(r,l)=>{Rh(o,l,r)})},$u=(e,n)=>{const o=e.dom,l=window.getComputedStyle(o).getPropertyValue(n);return l===""&&!Qs(e)?gl(o,n):l},gl=(e,n)=>fa(e)?e.style.getPropertyValue(n):"",Na=(e,n)=>{const o=e.dom,r=gl(o,n);return oe.from(r).filter(l=>l.length>0)},tl=e=>{const n={},o=e.dom;if(fa(o))for(let r=0;r<o.style.length;r++){const l=o.style.item(r);n[l]=o.style[l]}return n},ea=(e,n)=>{const o=e.dom;Ev(o,n),Pe(oc(e,"style").map(uu),"")&&fr(e,"style")},Am=e=>e.dom.offsetWidth,us=(e,n)=>{Vo(e).each(r=>{r.dom.insertBefore(n.dom,e.dom)})},nl=(e,n)=>{Ia(e).fold(()=>{Vo(e).each(l=>{Er(l,n)})},r=>{us(r,n)})},Ul=(e,n)=>{lt(e).fold(()=>{Er(e,n)},r=>{e.dom.insertBefore(n.dom,r.dom)})},Er=(e,n)=>{e.dom.appendChild(n.dom)},Om=(e,n)=>{us(e,n),Er(n,e)},zl=(e,n)=>{mt(n,(o,r)=>{const l=r===0?e:n[r-1];nl(l,o)})},gd=(e,n)=>{mt(n,o=>{Er(e,o)})},Js=e=>{e.dom.textContent="",mt(ze(e),n=>{wr(n)})},wr=e=>{const n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},Ua=e=>{const n=ze(e);n.length>0&&zl(e,n),wr(e)},r1=(e,n)=>{const r=(n||document).createElement("div");return r.innerHTML=e,ze(Ie.fromDom(r))},Bu=e=>Yt(e,Ie.fromDom),Pf=e=>e.dom.innerHTML,Rm=(e,n)=>{const r=Mt(e).dom,l=Ie.fromDom(r.createDocumentFragment()),h=r1(n,r);gd(l,h),Js(e),Er(e,l)},ge=e=>{const n=Ie.fromTag("div"),o=Ie.fromDom(e.dom.cloneNode(!0));return Er(n,o),Pf(n)},Xd=(e,n,o,r,l,h,v)=>({target:e,x:n,y:o,stop:r,prevent:l,kill:h,raw:v}),Ih=e=>{const n=Ie.fromDom($i(e).getOr(e.target)),o=()=>e.stopPropagation(),r=()=>e.preventDefault(),l=P(r,o);return Xd(n,e.clientX,e.clientY,o,r,l,e)},vl=(e,n)=>o=>{e(o)&&n(Ih(o))},Us=(e,n,o,r,l)=>{const h=vl(o,r);return e.dom.addEventListener(n,h,l),{unbind:je(Qd,e,n,h,l)}},i1=(e,n,o,r)=>Us(e,n,o,r,!1),Qd=(e,n,o,r)=>{e.dom.removeEventListener(n,o,r)},a1=(e,n)=>({left:e,top:n,translate:(r,l)=>a1(e+r,n+l)}),ma=a1,wv=e=>{const n=e.getBoundingClientRect();return ma(n.left,n.top)},Im=(e,n)=>e!==void 0?e:n!==void 0?n:0,e0=e=>{const n=e.dom.ownerDocument,o=n.body,r=n.defaultView,l=n.documentElement;if(o===e.dom)return ma(o.offsetLeft,o.offsetTop);const h=Im(r==null?void 0:r.pageYOffset,l.scrollTop),v=Im(r==null?void 0:r.pageXOffset,l.scrollLeft),C=Im(l.clientTop,o.clientTop),A=Im(l.clientLeft,o.clientLeft);return Fu(e).translate(v-A,h-C)},Fu=e=>{const n=e.dom,r=n.ownerDocument.body;return r===n?ma(r.offsetLeft,r.offsetTop):Qs(e)?wv(n):ma(0,0)},c1=e=>{const n=e!==void 0?e.dom:document,o=n.body.scrollLeft||n.documentElement.scrollLeft,r=n.body.scrollTop||n.documentElement.scrollTop;return ma(o,r)},za=(e,n,o)=>{const l=(o!==void 0?o.dom:document).defaultView;l&&l.scrollTo(e,n)},Lf=(e,n)=>{Hs().browser.isSafari()&&_e(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},t0=e=>{const n=e===void 0?window:e;return Hs().browser.isFirefox()?oe.none():oe.from(n.visualViewport)},Wp=(e,n,o,r)=>({x:e,y:n,width:o,height:r,right:e+o,bottom:n+r}),$f=e=>{const n=e===void 0?window:e,o=n.document,r=c1(Ie.fromDom(o));return t0(n).fold(()=>{const l=n.document.documentElement,h=l.clientWidth,v=l.clientHeight;return Wp(r.left,r.top,h,v)},l=>Wp(Math.max(l.pageLeft,r.left),Math.max(l.pageTop,r.top),l.width,l.height))},Tv=(e,n)=>Lt(ze(e),n),Hu=(e,n)=>{let o=[];return mt(ze(e),r=>{n(r)&&(o=o.concat([r])),o=o.concat(Hu(r,n))}),o},Qr=(e,n)=>md(n,e),Gp=(e,n,o)=>Da(e,n,o).isSome();class ai{constructor(n,o){this.node=n,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node}prev(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node}prev2(n){return this.node=this.findPreviousNode(this.node,n),this.node}findSibling(n,o,r,l){if(n){if(!l&&n[o])return n[o];if(n!==this.rootNode){let h=n[r];if(h)return h;for(let v=n.parentNode;v&&v!==this.rootNode;v=v.parentNode)if(h=v[r],h)return h}}}findPreviousNode(n,o){if(n){const r=n.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!o){for(let h=r.lastChild;h;h=h.lastChild)if(!h.lastChild)return h}return r}const l=n.parentNode;if(l&&l!==this.rootNode)return l}}}const pa=e=>n=>!!n&&n.nodeType===e,Pn=e=>!!e&&!Object.getPrototypeOf(e),nn=pa(1),Dm=e=>{const n=e.toLowerCase();return o=>ke(o)&&o.nodeName.toLowerCase()===n},bl=e=>{const n=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const r=o.nodeName.toLowerCase();return kn(n,r)}return!1}},yl=(e,n)=>{const o=n.toLowerCase().split(" ");return r=>{if(nn(r)){const l=r.ownerDocument.defaultView;if(l)for(let h=0;h<o.length;h++){const v=l.getComputedStyle(r,null);if((v?v.getPropertyValue(e):null)===o[h])return!0}}return!1}},qp=e=>n=>nn(n)&&n.hasAttribute(e),_l=(e,n)=>o=>nn(o)&&o.getAttribute(e)===n,ol=e=>nn(e)&&e.hasAttribute("data-mce-bogus"),Vu=e=>nn(e)&&e.getAttribute("data-mce-bogus")==="all",Dr=e=>nn(e)&&e.tagName==="TABLE",vd=e=>n=>!!(nn(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e)),Dh=bl(["textarea","input"]),Ut=pa(3),n0=pa(4),Nm=pa(7),Wa=pa(8),bd=pa(9),Jd=pa(11),hr=Dm("br"),jp=Dm("img"),ts=vd("true"),Po=vd("false"),Jr=bl(["td","th"]),Cc=bl(["td","th","caption"]),or=bl(["video","audio","object","embed"]),ef=Dm("li"),jr="\uFEFF",ys=" ",Wl=e=>e===jr,xt=e=>e.replace(/\uFEFF/g,""),Bf=((e,n)=>{const o=h=>{if(!e(h))throw new Error("Can only get "+n+" value of a "+n+" node");return r(h).getOr("")},r=h=>e(h)?oe.from(h.dom.nodeValue):oe.none();return{get:o,getOption:r,set:(h,v)=>{if(!e(h))throw new Error("Can only set raw "+n+" value of a "+n+" node");h.dom.nodeValue=v}}})(dr,"text"),Wr=e=>Bf.get(e),Gl=e=>Bf.getOption(e),Ga=(e,n)=>Bf.set(e,n),ic=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],Mm=["td","th"],ac=["thead","tbody","tfoot"],Zp=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Bi=["h1","h2","h3","h4","h5","h6"],Yo=["li","dd","dt"],$e=["ul","ol","dl"],$=["pre","script","textarea","style"],de=["pre"].concat(Bi),He=e=>{let n;return o=>(n=n||Yr(e,It),qn(n,Vs(o)))},Ft=He(ic),In=e=>Vs(e)==="table",dn=e=>is(e)&&!Ft(e),Ko=e=>is(e)&&Vs(e)==="br",We=He(Zp),Gr=He($e),ci=He(Yo),ta=He(ac),Hr=He(Mm),li=He($),Ti=He(de),tf=e=>Ti(e)||dn(e),l1=e=>{const n=[];let o=e.dom;for(;o;)n.push(Ie.fromDom(o)),o=o.lastChild;return n},Nh=e=>{const n=Qr(e,"br"),o=Lt(l1(e).slice(-1),Ko);n.length===o.length&&mt(o,wr)},Wn=()=>{const e=Ie.fromTag("br");return ho(e,"data-mce-bogus","1"),e},Yp=e=>{Js(e),Er(e,Wn())},mu=e=>{Ct(e).each(n=>{Tc(n).each(o=>{Ft(e)&&Ko(n)&&Ft(o)&&wr(n)})})},Ma=jr,Cv=Wl,yd=xt,f_=nn,km=Ut,Uu=e=>(km(e)&&(e=e.parentNode),f_(e)&&e.hasAttribute("data-mce-caret")),Sc=e=>km(e)&&Cv(e.data),wl=e=>Uu(e)||Sc(e),Sv=e=>e.firstChild!==e.lastChild||!hr(e.firstChild),h_=(e,n)=>{var o;const l=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Ma),h=e.parentNode;if(n){const v=e.previousSibling;if(km(v)){if(wl(v))return v;if(Kp(v))return v.splitText(v.data.length-1)}h==null||h.insertBefore(l,e)}else{const v=e.nextSibling;if(km(v)){if(wl(v))return v;if(Pm(v))return v.splitText(1),v}e.nextSibling?h==null||h.insertBefore(l,e.nextSibling):h==null||h.appendChild(l)}return l},_d=e=>{const n=e.container();return Ut(n)?n.data.charAt(e.offset())===Ma||e.isAtStart()&&Sc(n.previousSibling):!1},u1=e=>{const n=e.container();return Ut(n)?n.data.charAt(e.offset()-1)===Ma||e.isAtEnd()&&Sc(n.nextSibling):!1},xv=(e,n,o)=>{var r;const h=((r=n.ownerDocument)!==null&&r!==void 0?r:document).createElement(e);h.setAttribute("data-mce-caret",o?"before":"after"),h.setAttribute("data-mce-bogus","all"),h.appendChild(Wn().dom);const v=n.parentNode;return o?v==null||v.insertBefore(h,n):n.nextSibling?v==null||v.insertBefore(h,n.nextSibling):v==null||v.appendChild(h),h},Pm=e=>km(e)&&e.data[0]===Ma,Kp=e=>km(e)&&e.data[e.data.length-1]===Ma,Ff=e=>{var n;const o=e.getElementsByTagName("br"),r=o[o.length-1];ol(r)&&((n=r.parentNode)===null||n===void 0||n.removeChild(r))},Av=e=>e&&e.hasAttribute("data-mce-caret")?(Ff(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Ov=e=>Uu(e.startContainer),Ss=ts,o0=Po,ga=hr,ql=Ut,Lm=bl(["script","style","textarea"]),Mh=bl(["img","input","textarea","hr","iframe","video","audio","object","embed"]),m_=bl(["table"]),Fi=wl,Tl=e=>Fi(e)?!1:ql(e)?!Lm(e.parentNode):Mh(e)||ga(e)||m_(e)||Ph(e),kh=e=>nn(e)&&e.getAttribute("unselectable")==="true",Ph=e=>!kh(e)&&o0(e),nf=(e,n)=>{for(let o=e.parentNode;o&&o!==n;o=o.parentNode){if(Ph(o))return!1;if(Ss(o))return!0}return!0},Hf=e=>Ph(e)?!Ns(vr(e.getElementsByTagName("*")),(n,o)=>n||Ss(o),!1):!1,Cl=e=>Mh(e)||Hf(e),na=(e,n)=>Tl(e)&&nf(e,n),Rv=/^[ \t\r\n]*$/,Hc=e=>Rv.test(e),jl=e=>" \f	\v".indexOf(e)!==-1,Sl=e=>e===`
`||e==="\r",Xp=(e,n)=>n<e.length&&n>=0?Sl(e[n]):!1,Lh=(e,n=4,o=!0,r=!0)=>{const l=Qc(" ",n),h=e.replace(/\t/g,l);return Ns(h,(C,A)=>jl(A)||A===ys?C.pcIsSpace||C.str===""&&o||C.str.length===h.length-1&&r||Xp(h,C.str.length+1)?{pcIsSpace:!1,str:C.str+ys}:{pcIsSpace:!0,str:C.str+" "}:{pcIsSpace:Sl(A),str:C.str+A},{pcIsSpace:!1,str:""}).str},Iv=(e,n)=>{const o=Ie.fromDom(n),r=Ie.fromDom(e);return Gp(r,"pre,code",je(ns,o))},s0=(e,n)=>Ut(e)&&Hc(e.data)&&!Iv(e,n),mr=e=>nn(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),Dv=(e,n)=>Tl(e)&&!s0(e,n)||mr(e)||Vc(e),Vc=qp("data-mce-bookmark"),Nv=qp("data-mce-bogus"),Mv=_l("data-mce-bogus","all"),Vf=(e,n)=>{let o=0;if(Dv(e,e))return!1;{let r=e.firstChild;if(!r)return!0;const l=new ai(r,e);do{if(n){if(Mv(r)){r=l.next(!0);continue}if(Nv(r)){r=l.next();continue}}if(hr(r)){o++,r=l.next();continue}if(Dv(r,e))return!1;r=l.next()}while(r);return o<=1}},zs=(e,n=!0)=>Vf(e.dom,n),of="data-mce-block",d1=e=>Lt(bi(e),n=>!/[A-Z]/.test(n)),kv=e=>d1(e).join(","),$m=(e,n)=>ke(n.querySelector(e))?(n.setAttribute(of,"true"),n.getAttribute("data-mce-selected")==="inline-boundary"&&n.removeAttribute("data-mce-selected"),!0):(n.removeAttribute(of),!1),f1=(e,n)=>{const o=kv(e.getTransparentElements()),r=kv(e.getBlockElements());return Lt(n.querySelectorAll(o),l=>$m(r,l))},Qp=(e,n)=>{var o;const r=n?"lastChild":"firstChild";for(let l=e[r];l;l=l[r])if(zs(Ie.fromDom(l))){(o=l.parentNode)===null||o===void 0||o.removeChild(l);return}},p_=(e,n)=>{const o=document.createRange(),r=e.parentNode;if(r){o.setStartBefore(e),o.setEndBefore(n);const l=o.extractContents();Qp(l,!0),o.setStartAfter(n),o.setEndAfter(e);const h=o.extractContents();Qp(h,!1),zs(Ie.fromDom(l))||r.insertBefore(l,e),zs(Ie.fromDom(n))||r.insertBefore(n,e),zs(Ie.fromDom(h))||r.insertBefore(h,e),r.removeChild(e)}},sl=(e,n,o)=>{const r=e.getBlockElements(),l=Ie.fromDom(n),h=C=>Vs(C)in r,v=C=>ns(C,l);mt(Bu(o),C=>{Ps(C,h,v).each(A=>{const L=Tv(C,X=>h(X)&&!e.isValidChild(Vs(A),Vs(X)));if(L.length>0){const X=Xr(A);mt(L,Z=>{Ps(Z,h,v).each(se=>{p_(se.dom,Z.dom)})}),X.each(Z=>f1(e,Z.dom))}})})},zu=(e,n,o)=>{mt([...o,...zf(e,n)?[n]:[]],r=>mt(Qr(Ie.fromDom(r),r.nodeName.toLowerCase()),l=>{r0(e,l.dom)&&Ua(l)}))},Uf=(e,n)=>{const o=f1(e,n);sl(e,n,o),zu(e,n,o)},sf=(e,n)=>{if(h1(e,n)){const o=kv(e.getBlockElements());$m(o,n)}},Wu=(e,n,o)=>{const r=h=>ns(h,Ie.fromDom(n)),l=qs(Ie.fromDom(o),r);fl(l,l.length-2).filter(is).fold(()=>Uf(e,n),h=>Uf(e,h.dom))},pu=e=>e.hasAttribute(of),Jp=(e,n)=>qn(e.getTransparentElements(),n),h1=(e,n)=>nn(n)&&Jp(e,n.nodeName),zf=(e,n)=>h1(e,n)&&pu(n),r0=(e,n)=>h1(e,n)&&!pu(n),Bm=(e,n)=>n.type===1&&Jp(e,n.name)&&K(n.attr(of)),Fm=(e,n)=>n.type===1&&Jp(e,n.name)&&ut(n.attr(of)),g_=Hs().browser,eg=e=>vs(e,is),ss=e=>g_.isFirefox()&&Vs(e)==="table"?eg(ze(e)).filter(n=>Vs(n)==="caption").bind(n=>eg(Le(n)).map(o=>{const r=o.dom.offsetTop,l=n.dom.offsetTop,h=n.dom.offsetHeight;return r<=l?-h:0})).getOr(0):0,Mn=(e,n)=>e.children&&kn(e.children,n),rf=(e,n,o)=>{let r=0,l=0;const h=e.ownerDocument;if(o=o||e,n){if(o===e&&n.getBoundingClientRect&&$u(Ie.fromDom(e),"position")==="static"){const C=n.getBoundingClientRect();return r=C.left+(h.documentElement.scrollLeft||e.scrollLeft)-h.documentElement.clientLeft,l=C.top+(h.documentElement.scrollTop||e.scrollTop)-h.documentElement.clientTop,{x:r,y:l}}let v=n;for(;v&&v!==o&&v.nodeType&&!Mn(v,o);){const C=v;r+=C.offsetLeft||0,l+=C.offsetTop||0,v=C.offsetParent}for(v=n.parentNode;v&&v!==o&&v.nodeType&&!Mn(v,o);)r-=v.scrollLeft||0,l-=v.scrollTop||0,v=v.parentNode;l+=ss(Ie.fromDom(n))}return{x:r,y:l}},af=(e,n={})=>{let o=0;const r={},l=Ie.fromDom(e),h=At(l),v=be=>{n.referrerPolicy=be},C=be=>{n.contentCssCors=be},A=be=>{Er(Zo(l),be)},L=be=>{const Ae=Zo(l);Yd(Ae,"#"+be).each(wr)},X=be=>Xs(r,be).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),Z=be=>new Promise((Ae,Ve)=>{let Be;const Ye=we._addCacheSuffix(be),it=X(Ye);r[Ye]=it,it.count++;const St=(ft,bn)=>{mt(ft,Fo),it.status=bn,it.passed=[],it.failed=[],Be&&(Be.onload=null,Be.onerror=null,Be=null)},on=()=>St(it.passed,2),jt=()=>St(it.failed,3);if(Ae&&it.passed.push(Ae),Ve&&it.failed.push(Ve),it.status===1)return;if(it.status===2){on();return}if(it.status===3){jt();return}it.status=1;const ht=Ie.fromTag("link",h.dom);zr(ht,{rel:"stylesheet",type:"text/css",id:it.id}),n.contentCssCors&&ho(ht,"crossOrigin","anonymous"),n.referrerPolicy&&ho(ht,"referrerpolicy",n.referrerPolicy),Be=ht.dom,Be.onload=on,Be.onerror=jt,A(ht),ho(ht,"href",Ye)}),se=be=>Promise.allSettled(Yt(be,Ve=>Z(Ve).then(tt(Ve)))).then(Ve=>{const Be=vi(Ve,Ye=>Ye.status==="fulfilled");return Be.fail.length>0?Promise.reject(Yt(Be.fail,Ye=>Ye.reason)):Yt(Be.pass,Ye=>Ye.value)}),xe=be=>{const Ae=we._addCacheSuffix(be);Xs(r,Ae).each(Ve=>{--Ve.count===0&&(delete r[Ae],L(Ve.id))})};return{load:Z,loadAll:se,unload:xe,unloadAll:be=>{mt(be,Ae=>{xe(Ae)})},_setReferrerPolicy:v,_setContentCssCors:C}},m1=(()=>{const e=new WeakMap;return{forElement:(o,r)=>{const h=so(o).dom;return oe.from(e.get(h)).getOrThunk(()=>{const v=af(h,r);return e.set(h,v),v})}}})(),i0=e=>e.nodeName.toLowerCase()==="span",js=(e,n)=>ke(e)&&(Dv(e,n)||dn(Ie.fromDom(e))),p1=(e,n)=>{const o=new ai(e,n).prev(!1),r=new ai(e,n).next(!1),l=ut(o)||js(o,n),h=ut(r)||js(r,n);return l&&h},Pv=e=>i0(e)&&e.getAttribute("data-mce-type")==="bookmark",Lv=(e,n)=>Ut(e)&&e.data.length>0&&p1(e,n),Dt=e=>nn(e)?e.childNodes.length>0:!1,$v=e=>Jd(e)||bd(e),Ed=(e,n,o)=>{var r;const l=o||n;if(nn(n)&&Pv(n))return n;const h=n.childNodes;for(let v=h.length-1;v>=0;v--)Ed(e,h[v],l);if(nn(n)){const v=n.childNodes;v.length===1&&Pv(v[0])&&((r=n.parentNode)===null||r===void 0||r.insertBefore(v[0],n))}return!$v(n)&&!Dv(n,l)&&!Dt(n)&&!Lv(n,l)&&e.remove(n),n},$h=we.makeMap,g1=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Wf=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ng=/[<>&\"\']/g,Hm=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,a0={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},qa={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Tr={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},xc=e=>{const n=Ie.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},Vm=(e,n)=>{const o={};if(e){const r=e.split(",");n=n||10;for(let l=0;l<r.length;l+=2){const h=String.fromCharCode(parseInt(r[l],n));if(!qa[h]){const v="&"+r[l+1]+";";o[h]=v,o[v]=h}}return o}else return},Zl=Vm("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Um=(e,n)=>e.replace(n?g1:Wf,o=>qa[o]||o),Oo=e=>(""+e).replace(ng,n=>qa[n]||n),wd=(e,n)=>e.replace(n?g1:Wf,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":qa[o]||"&#"+o.charCodeAt(0)+";"),v1=(e,n,o)=>{const r=o||Zl;return e.replace(n?g1:Wf,l=>qa[l]||r[l]||l)},cf={encodeRaw:Um,encodeAllRaw:Oo,encodeNumeric:wd,encodeNamed:v1,getEncodeFunc:(e,n)=>{const o=Vm(n)||Zl,r=(v,C)=>v.replace(C?g1:Wf,A=>qa[A]!==void 0?qa[A]:o[A]!==void 0?o[A]:A.length>1?"&#"+((A.charCodeAt(0)-55296)*1024+(A.charCodeAt(1)-56320)+65536)+";":"&#"+A.charCodeAt(0)+";"),l=(v,C)=>v1(v,C,o),h=$h(e.replace(/\+/g,","));return h.named&&h.numeric?r:h.named?n?l:v1:h.numeric?wd:Um},decode:e=>e.replace(Hm,(n,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):a0[o]||String.fromCharCode(o)):Tr[n]||Zl[n]||xc(n))},Gu={},cc={},Hw={},og=we.makeMap,Hi=we.each,_n=we.extend,Bv=we.explode,v_=we.inArray,lc=(e,n)=>(e=we.trim(e),e?e.split(n||" "):[]),c0=(e,n={})=>{const o=og(e," ",og(e.toUpperCase()," "));return _n(o,n)},lf=e=>c0("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Uc=e=>{const n={};let o,r,l,h;const v=(A,L="",X="")=>{const Z=lc(X),se=lc(A);let xe=se.length;for(;xe--;){const Re=lc([o,L].join(" "));n[se[xe]]={attributes:Yr(Re,()=>({})),attributesOrder:Re,children:Yr(Z,tt(Hw))}}},C=(A,L)=>{const X=lc(A),Z=lc(L);let se=X.length;for(;se--;){const xe=n[X[se]];for(let Re=0,be=Z.length;Re<be;Re++)xe.attributes[Z[Re]]={},xe.attributesOrder.push(Z[Re])}};if(Gu[e])return Gu[e];if(o="id accesskey class dir lang style tabindex title role",r="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",l="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"){const A="a ins del canvas map";o+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",r+=" article aside details dialog figure main header footer hgroup section nav "+A,l+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"}if(e!=="html5-strict"){o+=" xml:lang";const A="acronym applet basefont big font strike tt";l=[l,A].join(" "),Hi(lc(A),X=>{v(X,"",l)});const L="center dir isindex noframes";r=[r,L].join(" "),h=[r,l].join(" "),Hi(lc(L),X=>{v(X,"",h)})}return h=h||[r,l].join(" "),v("html","manifest","head body"),v("head","","base command link meta noscript script style title"),v("title hr noscript br"),v("base","href target"),v("link","href rel media hreflang type sizes hreflang"),v("meta","name http-equiv content charset"),v("style","media type scoped"),v("script","src async defer type charset"),v("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",h),v("address dt dd div caption","",h),v("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",l),v("blockquote","cite",h),v("ol","reversed start type","li"),v("ul","","li"),v("li","value",h),v("dl","","dt dd"),v("a","href target rel media hreflang type",h),v("q","cite",l),v("ins del","cite datetime",h),v("img","src sizes srcset alt usemap ismap width height"),v("iframe","src name width height",h),v("embed","src type width height"),v("object","data type typemustmatch name usemap form width height",[h,"param"].join(" ")),v("param","name value"),v("map","name",[h,"area"].join(" ")),v("area","alt coords shape href target rel media hreflang type"),v("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),v("colgroup","span","col"),v("col","span"),v("tbody thead tfoot","","tr"),v("tr","","td th"),v("td","colspan rowspan headers",h),v("th","colspan rowspan headers scope abbr",h),v("form","accept-charset action autocomplete enctype method name novalidate target",h),v("fieldset","disabled form name",[h,"legend"].join(" ")),v("label","form for",l),v("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),v("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?h:l),v("select","disabled form multiple name required size","option optgroup"),v("optgroup","disabled label","option"),v("option","disabled label selected value"),v("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),v("menu","type label",[h,"li"].join(" ")),v("noscript","",h),e!=="html4"&&(v("wbr"),v("ruby","",[l,"rt rp"].join(" ")),v("figcaption","",h),v("mark rt rp summary bdi","",l),v("canvas","width height",h),v("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[h,"track source"].join(" ")),v("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[h,"track source"].join(" ")),v("picture","","img source"),v("source","src srcset type media sizes"),v("track","kind src srclang label default"),v("datalist","",[l,"option"].join(" ")),v("article section nav aside main header footer","",h),v("hgroup","","h1 h2 h3 h4 h5 h6"),v("figure","",[h,"figcaption"].join(" ")),v("time","datetime",l),v("dialog","open",h),v("command","type label icon disabled checked radiogroup command"),v("output","for form name",l),v("progress","value max",l),v("meter","value min max low high optimum",l),v("details","open",[h,"summary"].join(" ")),v("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(C("script","language xml:space"),C("style","xml:space"),C("object","declare classid code codebase codetype archive standby align border hspace vspace"),C("embed","align name hspace vspace"),C("param","valuetype type"),C("a","charset name rev shape coords"),C("br","clear"),C("applet","codebase archive code object alt name width height align hspace vspace"),C("img","name longdesc align border hspace vspace"),C("iframe","longdesc frameborder marginwidth marginheight scrolling align"),C("font basefont","size color face"),C("input","usemap align"),C("select"),C("textarea"),C("h1 h2 h3 h4 h5 h6 div p legend caption","align"),C("ul","type compact"),C("li","type"),C("ol dl menu dir","compact"),C("pre","width xml:space"),C("hr","align noshade size width"),C("isindex","prompt"),C("table","summary width frame rules cellspacing cellpadding align bgcolor"),C("col","width align char charoff valign"),C("colgroup","width align char charoff valign"),C("thead","align char charoff valign"),C("tr","align char charoff valign bgcolor"),C("th","axis align char charoff valign nowrap bgcolor width height"),C("form","accept"),C("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),C("tfoot","align char charoff valign"),C("tbody","align char charoff valign"),C("area","nohref"),C("body","background bgcolor text link vlink alink")),e!=="html4"&&(C("input button select textarea","autofocus"),C("input textarea","placeholder"),C("a","download"),C("link script img","crossorigin"),C("img","loading"),C("iframe","sandbox seamless allow allowfullscreen loading")),e!=="html4"&&mt([n.video,n.audio],A=>{delete A.children.audio,delete A.children.video}),Hi(lc("a form meter progress dfn"),A=>{n[A]&&delete n[A].children[A]}),delete n.caption.children.table,delete n.script,Gu[e]=n,n},qu=(e,n)=>{if(e){const o={};return K(e)&&(e={"*":e}),Hi(e,(r,l)=>{o[l]=o[l.toUpperCase()]=n==="map"?og(r,/[, ]/):Bv(r,/[, ]/)}),o}else return},Yl=(e={})=>{var n;const o={},r={};let l=[];const h={},v={},C=(po,ps,Ks)=>{const cr=e[po];if(cr)return og(cr,/[, ]/,og(cr.toUpperCase(),/[, ]/));{let mi=cc[po];return mi||(mi=c0(ps,Ks),cc[po]=mi),mi}},A=(n=e.schema)!==null&&n!==void 0?n:"html5",L=Uc(A);e.verify_html===!1&&(e.valid_elements="*[*]");const X=qu(e.valid_styles),Z=qu(e.invalid_styles,"map"),se=qu(e.valid_classes,"map"),xe=C("whitespace_elements","pre script noscript style textarea video audio iframe object code"),Re=C("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),be=C("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),Ae=C("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),Ve="td th iframe video audio object script code",Be=C("non_empty_elements",Ve+" pre",be),Ye=C("move_caret_before_on_enter_elements",Ve+" table",be),it=C("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),St=C("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",it),on=C("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),jt=C("transparent_elements","a ins del canvas map");Hi("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),po=>{v[po]=new RegExp("</"+po+"[^>]*>","gi")});const ht=po=>new RegExp("^"+po.replace(/([?+*])/g,".$1")+"$"),ft=po=>{const ps=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,Ks=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,cr=/[*?+]/;if(po){const mi=lc(po,",");let Zi,qr;o["@"]&&(Zi=o["@"].attributes,qr=o["@"].attributesOrder);for(let wa=0,ch=mi.length;wa<ch;wa++){let ul=ps.exec(mi[wa]);if(ul){const Ip=ul[1],Fd=ul[2],Qy=ul[3],Jy=ul[5],Dp={},gm=[],Ba={attributes:Dp,attributesOrder:gm};if(Ip==="#"&&(Ba.paddEmpty=!0),Ip==="-"&&(Ba.removeEmpty=!0),ul[4]==="!"&&(Ba.removeEmptyAttrs=!0),Zi&&(an(Zi,(lh,Np)=>{Dp[Np]=lh}),qr&&gm.push(...qr)),Jy){const lh=lc(Jy,"|");for(let Np=0,ou=lh.length;Np<ou;Np++)if(ul=Ks.exec(lh[Np]),ul){const uh={},Gg=ul[1],Ml=ul[2].replace(/[\\:]:/g,":"),mv=ul[3],Mp=ul[4];if(Gg==="!"&&(Ba.attributesRequired=Ba.attributesRequired||[],Ba.attributesRequired.push(Ml),uh.required=!0),Gg==="-"){delete Dp[Ml],gm.splice(v_(gm,Ml),1);continue}if(mv&&(mv==="="&&(Ba.attributesDefault=Ba.attributesDefault||[],Ba.attributesDefault.push({name:Ml,value:Mp}),uh.defaultValue=Mp),mv==="~"&&(Ba.attributesForced=Ba.attributesForced||[],Ba.attributesForced.push({name:Ml,value:Mp}),uh.forcedValue=Mp),mv==="<"&&(uh.validValues=og(Mp,"?"))),cr.test(Ml)){const Hd=uh;Ba.attributePatterns=Ba.attributePatterns||[],Hd.pattern=ht(Ml),Ba.attributePatterns.push(Hd)}else Dp[Ml]||gm.push(Ml),Dp[Ml]=uh}}if(!Zi&&Fd==="@"&&(Zi=Dp,qr=gm),Qy&&(Ba.outputName=Fd,o[Qy]=Ba),cr.test(Fd)){const lh=Ba;lh.pattern=ht(Fd),l.push(lh)}else o[Fd]=Ba}}}},bn=po=>{l=[],mt(bi(o),ps=>{delete o[ps]}),ft(po),Hi(L,(ps,Ks)=>{r[Ks]=ps.children})},Ln=po=>{const ps=/^(~)?(.+)$/;po&&(delete cc.text_block_elements,delete cc.block_elements,Hi(lc(po,","),Ks=>{const cr=ps.exec(Ks);if(cr){const mi=cr[1]==="~",Zi=mi?"span":"div",qr=cr[2];if(r[qr]=r[Zi],h[qr]=Zi,Be[qr.toUpperCase()]={},Be[qr]={},mi||(St[qr.toUpperCase()]={},St[qr]={}),!o[qr]){let wa=o[Zi];wa=_n({},wa),delete wa.removeEmptyAttrs,delete wa.removeEmpty,o[qr]=wa}Hi(r,(wa,ch)=>{wa[Zi]&&(r[ch]=wa=_n({},r[ch]),wa[qr]=wa[Zi])})}}))},Gn=po=>{const ps=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;delete Gu[A],po&&Hi(lc(po,","),Ks=>{const cr=ps.exec(Ks);if(cr){const mi=cr[1];let Zi;mi?Zi=r[cr[2]]:Zi=r[cr[2]]={"#comment":{}},Zi=r[cr[2]],Hi(lc(cr[3],"|"),qr=>{mi==="-"?delete Zi[qr]:Zi[qr]={}})}})},wo=po=>{const ps=o[po];if(ps)return ps;let Ks=l.length;for(;Ks--;){const cr=l[Ks];if(cr.pattern.test(po))return cr}};e.valid_elements?bn(e.valid_elements):(Hi(L,(po,ps)=>{o[ps]={attributes:po.attributes,attributesOrder:po.attributesOrder},r[ps]=po.children}),Hi(lc("strong/b em/i"),po=>{const ps=lc(po,"/");o[ps[1]].outputName=ps[0]}),Hi(on,(po,ps)=>{o[ps]&&(e.padd_empty_block_inline_children&&(o[ps].paddInEmptyBlock=!0),o[ps].removeEmpty=!0)}),Hi(lc("ol ul blockquote a table tbody"),po=>{o[po]&&(o[po].removeEmpty=!0)}),Hi(lc("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),po=>{o[po].paddEmpty=!0}),Hi(lc("span"),po=>{o[po].removeEmptyAttrs=!0})),Ln(e.custom_elements),Gn(e.valid_children),ft(e.extended_valid_elements),Gn("+ol[ul|ol],+ul[ul|ol]"),Hi({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(po,ps)=>{o[ps]&&(o[ps].parentsRequired=lc(po))}),e.invalid_elements&&Hi(Bv(e.invalid_elements),po=>{o[po]&&delete o[po]}),wo("span")||ft("span[!data-mce-type|*]");const Qo=tt(X),Ds=tt(Z),ar=tt(se),Ri=tt(Ae),kc=tt(St),Ka=tt(it),Gt=tt(on),Rn=tt(Object.seal(be)),hs=tt(Re),un=tt(Be),Vn=tt(Ye),zn=tt(xe),hn=tt(jt),Wo=tt(Object.seal(v)),Go=(po,ps)=>{const Ks=r[po.toLowerCase()];return!!(Ks&&Ks[ps.toLowerCase()])},pc=(po,ps)=>{const Ks=wo(po);if(Ks)if(ps){if(Ks.attributes[ps])return!0;const cr=Ks.attributePatterns;if(cr){let mi=cr.length;for(;mi--;)if(cr[mi].pattern.test(ps))return!0}}else return!0;return!1},Vr=tt(h);return{type:A,children:r,elements:o,getValidStyles:Qo,getValidClasses:ar,getBlockElements:kc,getInvalidStyles:Ds,getVoidElements:Rn,getTextBlockElements:Ka,getTextInlineElements:Gt,getBoolAttrs:Ri,getElementRule:wo,getSelfClosingElements:hs,getNonEmptyElements:un,getMoveCaretBeforeOnEnterElements:Vn,getWhitespaceElements:zn,getTransparentElements:hn,getSpecialElements:Wo,isValidChild:Go,isValid:pc,getCustomElements:Vr,addValidElements:ft,setValidElements:bn,addCustomElements:Ln,addValidChildren:Gn}},sg=(e={},n)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,l=/\s+$/,h={};let v,C;const A=jr;n&&(v=n.getValidStyles(),C=n.getInvalidStyles());const L=(`\\" \\' \\; \\: ; : `+A).split(" ");for(let Z=0;Z<L.length;Z++)h[L[Z]]=A+Z,h[A+Z]=L[Z];const X={parse:Z=>{const se={};let xe=!1;const Re=e.url_converter,be=e.url_converter_scope||X,Ae=(ht,ft,bn)=>{const Ln=se[ht+"-top"+ft];if(!Ln)return;const Gn=se[ht+"-right"+ft];if(!Gn)return;const wo=se[ht+"-bottom"+ft];if(!wo)return;const Qo=se[ht+"-left"+ft];if(!Qo)return;const Ds=[Ln,Gn,wo,Qo];let ar=Ds.length-1;for(;ar--&&Ds[ar]===Ds[ar+1];);ar>-1&&bn||(se[ht+ft]=ar===-1?Ds[0]:Ds.join(" "),delete se[ht+"-top"+ft],delete se[ht+"-right"+ft],delete se[ht+"-bottom"+ft],delete se[ht+"-left"+ft])},Ve=ht=>{const ft=se[ht];if(!ft)return;const bn=ft.split(" ");let Ln=bn.length;for(;Ln--;)if(bn[Ln]!==bn[0])return!1;return se[ht]=bn[0],!0},Be=(ht,ft,bn,Ln)=>{Ve(ft)&&Ve(bn)&&Ve(Ln)&&(se[ht]=se[ft]+" "+se[bn]+" "+se[Ln],delete se[ft],delete se[bn],delete se[Ln])},Ye=ht=>(xe=!0,h[ht]),it=(ht,ft)=>(xe&&(ht=ht.replace(/\uFEFF[0-9]/g,bn=>h[bn])),ft||(ht=ht.replace(/\\([\'\";:])/g,"$1")),ht),St=ht=>String.fromCharCode(parseInt(ht.slice(1),16)),on=ht=>ht.replace(/\\[0-9a-f]+/gi,St),jt=(ht,ft,bn,Ln,Gn,wo)=>{if(Gn=Gn||wo,Gn)return Gn=it(Gn),"'"+Gn.replace(/\'/g,"\\'")+"'";if(ft=it(ft||bn||Ln||""),!e.allow_script_urls){const Qo=ft.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Qo)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(Qo))return""}return Re&&(ft=Re.call(be,ft,"style")),"url('"+ft.replace(/\'/g,"\\'")+"')"};if(Z){Z=Z.replace(/[\u0000-\u001F]/g,""),Z=Z.replace(/\\[\"\';:\uFEFF]/g,Ye).replace(/\"[^\"]+\"|\'[^\']+\'/g,ft=>ft.replace(/[;:]/g,Ye));let ht;for(;ht=r.exec(Z);){r.lastIndex=ht.index+ht[0].length;let ft=ht[1].replace(l,"").toLowerCase(),bn=ht[2].replace(l,"");if(ft&&bn){if(ft=on(ft),bn=on(bn),ft.indexOf(A)!==-1||ft.indexOf('"')!==-1||!e.allow_script_urls&&(ft==="behavior"||/expression\s*\(|\/\*|\*\//.test(bn)))continue;ft==="font-weight"&&bn==="700"?bn="bold":(ft==="color"||ft==="background-color")&&(bn=bn.toLowerCase()),bn=bn.replace(o,jt),se[ft]=xe?it(bn,!0):bn}}Ae("border","",!0),Ae("border","-width"),Ae("border","-color"),Ae("border","-style"),Ae("padding",""),Ae("margin",""),Be("border","border-width","border-style","border-color"),se.border==="medium none"&&delete se.border,se["border-image"]==="none"&&delete se["border-image"]}return se},serialize:(Z,se)=>{let xe="";const Re=(Ae,Ve)=>{const Be=Ve[Ae];if(Be)for(let Ye=0,it=Be.length;Ye<it;Ye++){const St=Be[Ye],on=Z[St];on&&(xe+=(xe.length>0?" ":"")+St+": "+on+";")}},be=(Ae,Ve)=>{if(!C||!Ve)return!0;let Be=C["*"];return Be&&Be[Ae]?!1:(Be=C[Ve],!(Be&&Be[Ae]))};return se&&v?(Re("*",v),Re(se,v)):an(Z,(Ae,Ve)=>{Ae&&be(Ve,se)&&(xe+=(xe.length>0?" ":"")+Ve+": "+Ae+";")}),xe}};return X},zm={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Vw=e=>e instanceof Event||_e(e.initEvent),rg=e=>e.isDefaultPrevented===It||e.isDefaultPrevented===et,ig=e=>yt(e.preventDefault)||Vw(e),Wm=(e,n)=>{const o=n??{};for(const r in e)qn(zm,r)||(o[r]=e[r]);return ke(e.composedPath)&&(o.composedPath=()=>e.composedPath()),o},ag=(e,n,o,r)=>{var l;const h=Wm(n,r);return h.type=e,yt(h.target)&&(h.target=(l=h.srcElement)!==null&&l!==void 0?l:o),ig(n)&&(h.preventDefault=()=>{h.defaultPrevented=!0,h.isDefaultPrevented=It,_e(n.preventDefault)&&n.preventDefault()},h.stopPropagation=()=>{h.cancelBubble=!0,h.isPropagationStopped=It,_e(n.stopPropagation)&&n.stopPropagation()},h.stopImmediatePropagation=()=>{h.isImmediatePropagationStopped=It,h.stopPropagation()},rg(h)||(h.isDefaultPrevented=h.defaultPrevented===!0?It:et,h.isPropagationStopped=h.cancelBubble===!0?It:et,h.isImmediatePropagationStopped=et)),h},Gm="mce-data-",b_=/^(?:mouse|contextmenu)|click/,Fv=(e,n,o,r)=>{e.addEventListener(n,o,r||!1)},Fh=(e,n,o,r)=>{e.removeEventListener(n,o,r||!1)},b1=e=>ke(e)&&b_.test(e.type),xl=(e,n)=>{const o=ag(e.type,e,document,n);if(b1(e)&&ut(e.pageX)&&!ut(e.clientX)){const r=o.target.ownerDocument||document,l=r.documentElement,h=r.body,v=o;v.pageX=e.clientX+(l&&l.scrollLeft||h&&h.scrollLeft||0)-(l&&l.clientLeft||h&&h.clientLeft||0),v.pageY=e.clientY+(l&&l.scrollTop||h&&h.scrollTop||0)-(l&&l.clientTop||h&&h.clientTop||0)}return o},Ac=(e,n,o)=>{const r=e.document,l={type:"ready"};if(o.domLoaded){n(l);return}const h=()=>r.readyState==="complete"||r.readyState==="interactive"&&r.body,v=()=>{Fh(e,"DOMContentLoaded",v),Fh(e,"load",v),o.domLoaded||(o.domLoaded=!0,n(l)),e=null};h()?v():Fv(e,"DOMContentLoaded",v),o.domLoaded||Fv(e,"load",v)};class uf{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=Gm+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(n,o,r,l){const h=this;let v;const C=window,A=se=>{h.executeHandlers(xl(se||C.event),L)};if(!n||Ut(n)||Wa(n))return r;let L;n[h.expando]?L=n[h.expando]:(L=h.count++,n[h.expando]=L,h.events[L]={}),l=l||n;const X=o.split(" ");let Z=X.length;for(;Z--;){let se=X[Z],xe=A,Re=!1,be=!1;if(se==="DOMContentLoaded"&&(se="ready"),h.domLoaded&&se==="ready"&&n.readyState==="complete"){r.call(l,xl({type:se}));continue}!h.hasFocusIn&&(se==="focusin"||se==="focusout")&&(Re=!0,be=se==="focusin"?"focus":"blur",xe=Ae=>{const Ve=xl(Ae||C.event);Ve.type=Ve.type==="focus"?"focusin":"focusout",h.executeHandlers(Ve,L)}),v=h.events[L][se],v?se==="ready"&&h.domLoaded?r(xl({type:se})):v.push({func:r,scope:l}):(h.events[L][se]=v=[{func:r,scope:l}],v.fakeName=be,v.capture=Re,v.nativeHandler=xe,se==="ready"?Ac(n,xe,h):Fv(n,be||se,xe,Re))}return n=v=null,r}unbind(n,o,r){if(!n||Ut(n)||Wa(n))return this;const l=n[this.expando];if(l){let h=this.events[l];if(o){const v=o.split(" ");let C=v.length;for(;C--;){const A=v[C],L=h[A];if(L){if(r){let X=L.length;for(;X--;)if(L[X].func===r){const Z=L.nativeHandler,se=L.fakeName,xe=L.capture,Re=L.slice(0,X).concat(L.slice(X+1));Re.nativeHandler=Z,Re.fakeName=se,Re.capture=xe,h[A]=Re}}(!r||L.length===0)&&(delete h[A],Fh(n,L.fakeName||A,L.nativeHandler,L.capture))}}}else an(h,(v,C)=>{Fh(n,v.fakeName||C,v.nativeHandler,v.capture)}),h={};for(const v in h)if(qn(h,v))return this;delete this.events[l];try{delete n[this.expando]}catch{n[this.expando]=null}}return this}fire(n,o,r){return this.dispatch(n,o,r)}dispatch(n,o,r){if(!n||Ut(n)||Wa(n))return this;const l=xl({type:o,target:n},r);do{const h=n[this.expando];h&&this.executeHandlers(l,h),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow}while(n&&!l.isPropagationStopped());return this}clean(n){if(!n||Ut(n)||Wa(n))return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName){this.unbind(n);const o=n.getElementsByTagName("*");let r=o.length;for(;r--;)n=o[r],n[this.expando]&&this.unbind(n)}return this}destroy(){this.events={}}cancel(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1}executeHandlers(n,o){const r=this.events[o],l=r&&r[n.type];if(l)for(let h=0,v=l.length;h<v;h++){const C=l[h];if(C&&C.func.call(C.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}}}uf.Event=new uf;const Hh=we.each,Hv=we.grep,cg="data-mce-style",ju=we.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),qm=(e,n,o)=>{yt(o)||o===""?fr(e,n):ho(e,n,o)},jm=e=>e.replace(/[A-Z]/g,n=>"-"+n.toLowerCase()),uc=(e,n)=>{let o=0;if(e)for(let r=e.nodeType,l=e.previousSibling;l;l=l.previousSibling){const h=l.nodeType;n&&Ut(l)&&(h===r||!l.data.length)||(o++,r=h)}return o},qf=(e,n)=>{const o=Pi(n,"style"),r=e.serialize(e.parse(o),Vs(n));qm(n,cg,r)},Uw=(e,n)=>mn(e)?qn(ju,n)?e+"":e+"px":e,l0=(e,n,o)=>{const r=jm(n);yt(o)||o===""?ea(e,r):ii(e,r,Uw(o,r))},u0=(e,n,o)=>{const r=n.keep_values,l={set:(v,C,A)=>{const L=Ie.fromDom(v);_e(n.url_converter)&&ke(C)&&(C=n.url_converter.call(n.url_converter_scope||o(),String(C),A,v));const X="data-mce-"+A;qm(L,X,C),qm(L,A,C)},get:(v,C)=>{const A=Ie.fromDom(v);return Pi(A,"data-mce-"+C)||Pi(A,C)}},h={style:{set:(v,C)=>{const A=Ie.fromDom(v);r&&qm(A,cg,C),fr(A,"style"),K(C)&&ha(A,e.parse(C))},get:v=>{const C=Ie.fromDom(v),A=Pi(C,cg)||Pi(C,"style");return e.serialize(e.parse(A),Vs(C))}}};return r&&(h.href=h.src=l),h},sr=(e,n={})=>{const o={},r=window,l={};let h=0;const v=!0,C=!0,A=m1.forElement(Ie.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),L=[],X=n.schema?n.schema:Yl({}),Z=sg({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),se=n.ownEvents?new uf:uf.Event,xe=X.getBlockElements(),Re=at=>K(at)?qn(xe,at):nn(at)&&(qn(xe,at.nodeName)||zf(X,at)),be=at=>at&&e&&K(at)?e.getElementById(at):at,Ae=at=>{const ct=be(at);return ke(ct)?Ie.fromDom(ct):null},Ve=(at,ct,Zt="")=>{let zt;const Hn=Ae(at);if(ke(Hn)&&is(Hn)){const qo=e_[ct];qo&&qo.get?zt=qo.get(Hn.dom,ct):zt=Pi(Hn,ct)}return ke(zt)?zt:Zt},Be=at=>{const ct=be(at);return yt(ct)?[]:ct.attributes},Ye=(at,ct,Zt)=>{Rn(at,zt=>{if(nn(zt)){const Hn=Ie.fromDom(zt),qo=Zt===""?null:Zt,gr=Pi(Hn,ct),Pr=e_[ct];Pr&&Pr.set?Pr.set(Hn.dom,qo,ct):qm(Hn,ct,qo),gr!==qo&&n.onSetAttrib&&n.onSetAttrib({attrElm:Hn.dom,attrName:ct,attrValue:qo})}})},it=(at,ct)=>at.cloneNode(ct),St=()=>n.root_element||e.body,on=at=>{const ct=$f(at);return{x:ct.x,y:ct.y,w:ct.width,h:ct.height}},jt=(at,ct)=>rf(e.body,be(at),ct),ht=(at,ct,Zt)=>{Rn(at,zt=>{const Hn=Ie.fromDom(zt);l0(Hn,ct,Zt),n.update_styles&&qf(Z,Hn)})},ft=(at,ct)=>{Rn(at,Zt=>{const zt=Ie.fromDom(Zt);an(ct,(Hn,qo)=>{l0(zt,qo,Hn)}),n.update_styles&&qf(Z,zt)})},bn=(at,ct,Zt)=>{const zt=be(at);if(!(yt(zt)||!nn(zt)))return Zt?$u(Ie.fromDom(zt),jm(ct)):(ct=ct.replace(/-(\D)/g,(Hn,qo)=>qo.toUpperCase()),ct==="float"&&(ct="cssFloat"),zt.style?zt.style[ct]:void 0)},Ln=at=>{const ct=be(at);if(!ct)return{w:0,h:0};let Zt=bn(ct,"width"),zt=bn(ct,"height");return(!Zt||Zt.indexOf("px")===-1)&&(Zt="0"),(!zt||zt.indexOf("px")===-1)&&(zt="0"),{w:parseInt(Zt,10)||ct.offsetWidth||ct.clientWidth,h:parseInt(zt,10)||ct.offsetHeight||ct.clientHeight}},Gn=at=>{const ct=be(at),Zt=jt(ct),zt=Ln(ct);return{x:Zt.x,y:Zt.y,w:zt.w,h:zt.h}},wo=(at,ct)=>{if(!at)return!1;const Zt=H(at)?at:[at];return ko(Zt,zt=>da(Ie.fromDom(zt),ct))},Qo=(at,ct,Zt,zt)=>{const Hn=[];let qo=be(at);zt=zt===void 0;const gr=Zt||(St().nodeName!=="BODY"?St().parentNode:null);if(K(ct))if(ct==="*")ct=nn;else{const Pr=ct;ct=jg=>wo(jg,Pr)}for(;qo&&!(qo===gr||yt(qo.nodeType)||bd(qo)||Jd(qo));){if(!ct||ct(qo))if(zt)Hn.push(qo);else return[qo];qo=qo.parentNode}return zt?Hn:null},Ds=(at,ct,Zt)=>{const zt=Qo(at,ct,Zt,!1);return zt&&zt.length>0?zt[0]:null},ar=(at,ct,Zt)=>{let zt=ct;if(at){K(ct)&&(zt=Hn=>wo(Hn,ct));for(let Hn=at[Zt];Hn;Hn=Hn[Zt])if(_e(zt)&&zt(Hn))return Hn}return null},Ri=(at,ct)=>ar(at,ct,"nextSibling"),kc=(at,ct)=>ar(at,ct,"previousSibling"),Ka=at=>_e(at.querySelectorAll),Gt=(at,ct)=>{var Zt,zt;const Hn=(zt=(Zt=be(ct))!==null&&Zt!==void 0?Zt:n.root_element)!==null&&zt!==void 0?zt:e;return Ka(Hn)?vr(Hn.querySelectorAll(at)):[]},Rn=function(at,ct,Zt){const zt=Zt??this;if(H(at)){const Hn=[];return Hh(at,(qo,gr)=>{const Pr=be(qo);Pr&&Hn.push(ct.call(zt,Pr,gr))}),Hn}else{const Hn=be(at);return Hn?ct.call(zt,Hn):!1}},hs=(at,ct)=>{Rn(at,Zt=>{an(ct,(zt,Hn)=>{Ye(Zt,Hn,zt)})})},un=(at,ct)=>{Rn(at,Zt=>{const zt=Ie.fromDom(Zt);Rm(zt,ct)})},Vn=(at,ct,Zt,zt,Hn)=>Rn(at,qo=>{const gr=K(ct)?e.createElement(ct):ct;return ke(Zt)&&hs(gr,Zt),zt&&(!K(zt)&&zt.nodeType?gr.appendChild(zt):K(zt)&&un(gr,zt)),Hn?gr:qo.appendChild(gr)}),zn=(at,ct,Zt)=>Vn(e.createElement(at),at,ct,Zt,!0),hn=cf.decode,Wo=cf.encodeAllRaw,Go=(at,ct,Zt="")=>{let zt="<"+at;for(const Hn in ct)Qa(ct,Hn)&&(zt+=" "+Hn+'="'+Wo(ct[Hn])+'"');return si(Zt)&&qn(X.getVoidElements(),at)?zt+" />":zt+">"+Zt+"</"+at+">"},pc=at=>{const ct=e.createElement("div"),Zt=e.createDocumentFragment();Zt.appendChild(ct),at&&(ct.innerHTML=at);let zt;for(;zt=ct.firstChild;)Zt.appendChild(zt);return Zt.removeChild(ct),Zt},Vr=(at,ct)=>Rn(at,Zt=>{const zt=Ie.fromDom(Zt);return ct&&mt(ze(zt),Hn=>{dr(Hn)&&Hn.dom.length===0?wr(Hn):us(zt,Hn)}),wr(zt),zt.dom}),po=at=>Rn(at,ct=>{const Zt=ct.attributes;for(let zt=Zt.length-1;zt>=0;zt--)ct.removeAttributeNode(Zt.item(zt))}),ps=at=>Z.parse(at),Ks=(at,ct)=>Z.serialize(at,ct),cr=at=>{if(vm!==sr.DOM&&e===document){if(o[at])return;o[at]=!0}let ct=e.getElementById("mceDefaultStyles");if(!ct){ct=e.createElement("style"),ct.id="mceDefaultStyles",ct.type="text/css";const Zt=e.head;Zt.firstChild?Zt.insertBefore(ct,Zt.firstChild):Zt.appendChild(ct)}ct.styleSheet?ct.styleSheet.cssText+=at:ct.appendChild(e.createTextNode(at))},mi=at=>{at||(at=""),mt(at.split(","),ct=>{l[ct]=!0,A.load(ct).catch(Ot)})},Zi=(at,ct,Zt)=>{Rn(at,zt=>{if(nn(zt)){const Hn=Ie.fromDom(zt),qo=ct.split(" ");mt(qo,gr=>{ke(Zt)?(Zt?fd:sc)(Hn,gr):ua(Hn,gr)})}})},qr=(at,ct)=>{Zi(at,ct,!0)},wa=(at,ct)=>{Zi(at,ct,!1)},ch=(at,ct)=>{const Zt=Ae(at),zt=ct.split(" ");return ke(Zt)&&nr(zt,Hn=>hu(Zt,Hn))},ul=at=>{Rn(at,ct=>ea(Ie.fromDom(ct),"display"))},Ip=at=>{Rn(at,ct=>ii(Ie.fromDom(ct),"display","none"))},Fd=at=>{const ct=Ae(at);return ke(ct)&&Pe(Na(ct,"display"),"none")},Qy=at=>(at||"mce_")+h++,Jy=at=>{const ct=Ae(at);return ke(ct)?nn(ct.dom)?ct.dom.outerHTML:ge(ct):""},Dp=(at,ct)=>{Rn(at,Zt=>{nn(Zt)&&(Zt.outerHTML=ct)})},gm=(at,ct)=>{const Zt=be(ct);return Rn(at,zt=>{const Hn=Zt==null?void 0:Zt.parentNode,qo=Zt==null?void 0:Zt.nextSibling;return Hn&&(qo?Hn.insertBefore(zt,qo):Hn.appendChild(zt)),zt})},Ba=(at,ct,Zt)=>Rn(ct,zt=>{var Hn;const qo=H(ct)?at.cloneNode(!0):at;return Zt&&Hh(Hv(zt.childNodes),gr=>{qo.appendChild(gr)}),(Hn=zt.parentNode)===null||Hn===void 0||Hn.replaceChild(qo,zt),zt}),lh=(at,ct)=>{if(at.nodeName!==ct.toUpperCase()){const Zt=zn(ct);return Hh(Be(at),zt=>{Ye(Zt,zt.nodeName,Ve(at,zt.nodeName))}),Ba(Zt,at,!0),Zt}else return at},Np=(at,ct)=>{let Zt=at;for(;Zt;){let zt=ct;for(;zt&&Zt!==zt;)zt=zt.parentNode;if(Zt===zt)break;Zt=Zt.parentNode}return!Zt&&at.ownerDocument?at.ownerDocument.documentElement:Zt},ou=at=>{if(nn(at)){const ct=at.nodeName.toLowerCase()==="a"&&!Ve(at,"href")&&Ve(at,"id");if(Ve(at,"name")||Ve(at,"data-mce-bookmark")||ct)return!0}return!1},uh=(at,ct)=>{let Zt=0;if(ou(at))return!1;const zt=at.firstChild;if(zt){const Hn=new ai(zt,at),qo=X?X.getWhitespaceElements():{},gr=ct||(X?X.getNonEmptyElements():null);let Pr=zt;do{if(nn(Pr)){const jg=Pr.getAttribute("data-mce-bogus");if(jg){Pr=Hn.next(jg==="all");continue}const Vd=Pr.nodeName.toLowerCase();if(gr&&gr[Vd]){if(Vd==="br"){Zt++,Pr=Hn.next();continue}return!1}if(ou(Pr))return!1}if(Wa(Pr)||Ut(Pr)&&!Hc(Pr.data)||Ut(Pr)&&Pr.parentNode&&qo[Pr.parentNode.nodeName]&&Hc(Pr.data))return!1;Pr=Hn.next()}while(Pr)}return Zt<=1},Gg=()=>e.createRange(),Ml=(at,ct,Zt)=>{let zt=Gg(),Hn,qo;if(at&&ct&&at.parentNode&&ct.parentNode){const gr=at.parentNode;return zt.setStart(gr,uc(at)),zt.setEnd(ct.parentNode,uc(ct)),Hn=zt.extractContents(),zt=Gg(),zt.setStart(ct.parentNode,uc(ct)+1),zt.setEnd(gr,uc(at)+1),qo=zt.extractContents(),gr.insertBefore(Ed(vm,Hn),at),Zt?gr.insertBefore(Zt,at):gr.insertBefore(ct,at),gr.insertBefore(Ed(vm,qo),at),Vr(at),Zt||ct}else return},mv=(at,ct,Zt,zt)=>{if(H(at)){let Hn=at.length;const qo=[];for(;Hn--;)qo[Hn]=mv(at[Hn],ct,Zt,zt);return qo}else return n.collect&&(at===e||at===r)&&L.push([at,ct,Zt,zt]),se.bind(at,ct,Zt,zt||vm)},Mp=(at,ct,Zt)=>{if(H(at)){let zt=at.length;const Hn=[];for(;zt--;)Hn[zt]=Mp(at[zt],ct,Zt);return Hn}else{if(L.length>0&&(at===e||at===r)){let zt=L.length;for(;zt--;){const[Hn,qo,gr]=L[zt];at===Hn&&(!ct||ct===qo)&&(!Zt||Zt===gr)&&se.unbind(Hn,qo,gr)}}return se.unbind(at,ct,Zt)}},Hd=(at,ct,Zt)=>se.dispatch(at,ct,Zt),qg=(at,ct,Zt)=>se.dispatch(at,ct,Zt),qS=at=>{if(at&&nn(at)){const ct=at.getAttribute("data-mce-contenteditable");return ct&&ct!=="inherit"?ct:at.contentEditable!=="inherit"?at.contentEditable:null}else return null},vm={doc:e,settings:n,win:r,files:l,stdMode:v,boxModel:C,styleSheetLoader:A,boundEvents:L,styles:Z,schema:X,events:se,isBlock:Re,root:null,clone:it,getRoot:St,getViewPort:on,getRect:Gn,getSize:Ln,getParent:Ds,getParents:Qo,get:be,getNext:Ri,getPrev:kc,select:Gt,is:wo,add:Vn,create:zn,createHTML:Go,createFragment:pc,remove:Vr,setStyle:ht,getStyle:bn,setStyles:ft,removeAllAttribs:po,setAttrib:Ye,setAttribs:hs,getAttrib:Ve,getPos:jt,parseStyle:ps,serializeStyle:Ks,addStyle:cr,loadCSS:mi,addClass:qr,removeClass:wa,hasClass:ch,toggleClass:Zi,show:ul,hide:Ip,isHidden:Fd,uniqueId:Qy,setHTML:un,getOuterHTML:Jy,setOuterHTML:Dp,decode:hn,encode:Wo,insertAfter:gm,replace:Ba,rename:lh,findCommonAncestor:Np,run:Rn,getAttribs:Be,isEmpty:uh,createRng:Gg,nodeIndex:uc,split:Ml,bind:mv,unbind:Mp,fire:qg,dispatch:Hd,getContentEditable:qS,getContentEditableParent:at=>{const ct=St();let Zt=null;for(let zt=at;zt&&zt!==ct&&(Zt=qS(zt),Zt===null);zt=zt.parentNode);return Zt},isEditable:at=>{if(ke(at)){const ct=nn(at)?at:at.parentElement,Zt=qS(St())==="true";return ke(ct)&&Kd(Ie.fromDom(ct),Zt)}else return!1},destroy:()=>{if(L.length>0){let at=L.length;for(;at--;){const[ct,Zt,zt]=L[at];se.unbind(ct,Zt,zt)}}an(l,(at,ct)=>{A.unload(ct),delete l[ct]})},isChildOf:(at,ct)=>at===ct||ct.contains(at),dumpRng:at=>"startContainer: "+at.startContainer.nodeName+", startOffset: "+at.startOffset+", endContainer: "+at.endContainer.nodeName+", endOffset: "+at.endOffset},e_=u0(Z,n,tt(vm));return vm};sr.DOM=sr(document),sr.nodeIndex=uc;const zw=sr.DOM,y_=0,Ww=1,Vv=2,lg=3;class jf{constructor(n={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=n}_setReferrerPolicy(n){this.settings.referrerPolicy=n}loadScript(n){return new Promise((o,r)=>{const l=zw;let h;const v=()=>{l.remove(L),h&&(h.onerror=h.onload=h=null)},C=()=>{v(),o()},A=()=>{v(),r("Failed to load script: "+n)},L=l.uniqueId();h=document.createElement("script"),h.id=L,h.type="text/javascript",h.src=we._addCacheSuffix(n),this.settings.referrerPolicy&&l.setAttrib(h,"referrerpolicy",this.settings.referrerPolicy),h.onload=C,h.onerror=A,(document.getElementsByTagName("head")[0]||document.body).appendChild(h)})}isDone(n){return this.states[n]===Vv}markDone(n){this.states[n]=Vv}add(n){const o=this;return o.queue.push(n),o.states[n]===void 0&&(o.states[n]=y_),new Promise((l,h)=>{o.scriptLoadedCallbacks[n]||(o.scriptLoadedCallbacks[n]=[]),o.scriptLoadedCallbacks[n].push({resolve:l,reject:h})})}load(n){return this.add(n)}remove(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]}loadQueue(){const n=this.queue;return this.queue=[],this.loadScripts(n)}loadScripts(n){const o=this,r=(A,L)=>{Xs(o.scriptLoadedCallbacks,L).each(X=>{mt(X,Z=>Z[A](L))}),delete o.scriptLoadedCallbacks[L]},l=A=>{const L=Lt(A,X=>X.status==="rejected");return L.length>0?Promise.reject(Ca(L,({reason:X})=>H(X)?X:[X])):Promise.resolve()},h=A=>Promise.allSettled(Yt(A,L=>o.states[L]===Vv?(r("resolve",L),Promise.resolve()):o.states[L]===lg?(r("reject",L),Promise.reject(L)):(o.states[L]=Ww,o.loadScript(L).then(()=>{o.states[L]=Vv,r("resolve",L);const X=o.queue;return X.length>0?(o.queue=[],h(X).then(l)):Promise.resolve()},()=>(o.states[L]=lg,r("reject",L),Promise.reject(L)))))),v=A=>(o.loading=!0,h(A).then(L=>{o.loading=!1;const X=o.queueLoadedCallbacks.shift();return oe.from(X).each(Fo),l(L)})),C=Yc(n);return o.loading?new Promise((A,L)=>{o.queueLoadedCallbacks.push(()=>v(C).then(A,L))}):v(C)}}jf.ScriptLoader=new jf;const Vi=e=>{let n=e;return{get:()=>n,set:l=>{n=l}}},Zf=e=>De(e)&&qn(e,"raw"),d0=e=>H(e)&&e.length>1,Ci={},Uv=Vi("en"),y1=()=>Xs(Ci,Uv.get()),Td={getData:()=>Ho(Ci,e=>({...e})),setCode:e=>{e&&Uv.set(e)},getCode:()=>Uv.get(),add:(e,n)=>{let o=Ci[e];o||(Ci[e]=o={}),an(n,(r,l)=>{o[l.toLowerCase()]=r})},translate:e=>{const n=y1().getOr({}),o=v=>_e(v)?Object.prototype.toString.call(v):r(v)?"":""+v,r=v=>v===""||v===null||v===void 0,l=v=>{const C=o(v);return Xs(n,C.toLowerCase()).map(o).getOr(C)},h=v=>v.replace(/{context:\w+}$/,"");if(r(e))return"";if(Zf(e))return o(e.raw);if(d0(e)){const v=e.slice(1),C=l(e[0]).replace(/\{([0-9]+)\}/g,(A,L)=>qn(v,L)?o(v[L]):A);return h(C)}return h(l(e))},isRtl:()=>y1().bind(e=>Xs(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>qn(Ci,e)},xs=()=>{const e=[],n={},o={},r=[],l=(be,Ae)=>{const Ve=Lt(r,Be=>Be.name===be&&Be.state===Ae);mt(Ve,Be=>Be.resolve())},h=be=>qn(n,be),v=be=>qn(o,be),C=be=>{if(o[be])return o[be].instance},A=(be,Ae)=>{const Ve=Td.getCode(),Be=","+(Ae||"")+",";!Ve||Ae&&Be.indexOf(","+Ve+",")===-1||jf.ScriptLoader.add(n[be]+"/langs/"+Ve+".js")},L=(be,Ae)=>{xs.languageLoad!==!1&&(h(be)?A(be,Ae):Re(be,"loaded").then(()=>A(be,Ae)))},X=(be,Ae)=>(e.push(Ae),o[be]={instance:Ae},l(be,"added"),Ae),Z=be=>{delete n[be],delete o[be]},se=(be,Ae)=>K(Ae)?K(be)?{prefix:"",resource:Ae,suffix:""}:{prefix:be.prefix,resource:Ae,suffix:be.suffix}:Ae,xe=(be,Ae)=>{if(n[be])return Promise.resolve();let Ve=K(Ae)?Ae:Ae.prefix+Ae.resource+Ae.suffix;Ve.indexOf("/")!==0&&Ve.indexOf("://")===-1&&(Ve=xs.baseURL+"/"+Ve),n[be]=Ve.substring(0,Ve.lastIndexOf("/"));const Be=()=>(l(be,"loaded"),Promise.resolve());return o[be]?Be():jf.ScriptLoader.add(Ve).then(Be)},Re=(be,Ae="added")=>Ae==="added"&&v(be)||Ae==="loaded"&&h(be)?Promise.resolve():new Promise(Ve=>{r.push({name:be,state:Ae,resolve:Ve})});return{items:e,urls:n,lookup:o,get:C,requireLangPack:L,add:X,remove:Z,createUrl:se,load:xe,waitFor:Re}};xs.languageLoad=!0,xs.baseURL="",xs.PluginManager=xs(),xs.ThemeManager=xs(),xs.ModelManager=xs();const w_=e=>{const n=Vi(oe.none()),o=()=>n.get().each(e);return{clear:()=>{o(),n.set(oe.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:C=>{o(),n.set(oe.some(C))}}},Ls=e=>{const n=Vi(oe.none()),o=()=>n.get().each(C=>clearInterval(C));return{clear:()=>{o(),n.set(oe.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:C=>{o(),n.set(oe.some(setInterval(C,e)))}}},oa=()=>{const e=w_(Ot);return{...e,on:o=>e.get().each(o)}},gu=(e,n)=>{let o=null;return{cancel:()=>{Ee(o)||(clearTimeout(o),o=null)},throttle:(...h)=>{Ee(o)&&(o=setTimeout(()=>{o=null,e.apply(null,h)},n))}}},zc=(e,n)=>{let o=null;const r=()=>{Ee(o)||(clearTimeout(o),o=null)};return{cancel:r,throttle:(...h)=>{r(),o=setTimeout(()=>{o=null,e.apply(null,h)},n)}}},Uh=tt("mce-annotation"),ug=tt("data-mce-annotation"),Kf=tt("data-mce-annotation-uid"),Kl=tt("data-mce-annotation-active"),Zu=tt("data-mce-annotation-classes"),zh=tt("data-mce-annotation-attrs"),_1=e=>n=>ns(n,e),f0=(e,n)=>{const o=e.selection.getRng(),r=Ie.fromDom(o.startContainer),l=Ie.fromDom(e.getBody()),h=n.fold(()=>"."+Uh(),A=>`[${ug()}="${A}"]`),v=Ht(r,o.startOffset).getOr(r);return Vl(v,h,_1(l)).bind(A=>oc(A,`${Kf()}`).bind(L=>oc(A,`${ug()}`).map(X=>{const Z=dg(e,L);return{uid:L,name:X,elements:Z}})))},T_=e=>is(e)&&hu(e,Uh()),C_=(e,n)=>Ji(e,"data-mce-bogus")||Gp(e,'[data-mce-bogus="all"]',_1(n)),dg=(e,n)=>{const o=Ie.fromDom(e.getBody()),r=Qr(o,`[${Kf()}="${n}"]`);return Lt(r,l=>!C_(l,o))},h0=(e,n)=>{const o=Ie.fromDom(e.getBody()),r=Qr(o,`[${ug()}="${n}"]`),l={};return mt(r,h=>{if(!C_(h,o)){const v=Pi(h,Kf()),C=Xs(l,v).getOr([]);l[v]=C.concat([h])}}),l},Gw=(e,n)=>{const o=Vi({}),r=()=>({listeners:[],previous:oa()}),l=(Z,se)=>{h(Z,xe=>(se(xe),xe))},h=(Z,se)=>{const xe=o.get(),Re=Xs(xe,Z).getOrThunk(r),be=se(Re);xe[Z]=be,o.set(xe)},v=(Z,se,xe)=>{l(Z,Re=>{mt(Re.listeners,be=>be(!0,Z,{uid:se,nodes:Yt(xe,Ae=>Ae.dom)}))})},C=Z=>{l(Z,se=>{mt(se.listeners,xe=>xe(!1,Z))})},A=(Z,se)=>{mt(dg(e,Z),xe=>{se?ho(xe,Kl(),"true"):fr(xe,Kl())})},L=zc(()=>{const Z=Ms(n.getNames());mt(Z,se=>{h(se,xe=>{const Re=xe.previous.get();return f0(e,oe.some(se)).fold(()=>{Re.each(be=>{C(se),xe.previous.clear(),A(be,!1)})},({uid:be,name:Ae,elements:Ve})=>{Pe(Re,be)||(Re.each(Be=>A(Be,!1)),v(Ae,be,Ve),xe.previous.set(be),A(be,!0))}),{previous:xe.previous,listeners:xe.listeners}})})},30);return e.on("remove",()=>{L.cancel()}),e.on("NodeChange",()=>{L.throttle()}),{addListener:(Z,se)=>{h(Z,xe=>({previous:xe.previous,listeners:xe.listeners.concat([se])}))}}},qw=(e,n)=>{const o=ug(),r=h=>oe.from(h.attr(o)).bind(n.lookup),l=h=>{var v,C;h.attr(Kf(),null),h.attr(ug(),null),h.attr(Kl(),null);const A=oe.from(h.attr(zh())).map(se=>se.split(",")).getOr([]),L=oe.from(h.attr(Zu())).map(se=>se.split(",")).getOr([]);mt(A,se=>h.attr(se,null));const X=(C=(v=h.attr("class"))===null||v===void 0?void 0:v.split(" "))!==null&&C!==void 0?C:[],Z=rd(X,[Uh()].concat(L));h.attr("class",Z.length>0?Z.join(" "):null),h.attr(Zu(),null),h.attr(zh(),null)};e.serializer.addTempAttr(Kl()),e.serializer.addAttributeFilter(o,h=>{for(const v of h)r(v).each(C=>{C.persistent===!1&&(v.name==="span"?v.unwrap():l(v))})})},S_=()=>{const e={};return{register:(l,h)=>{e[l]={name:l,settings:h}},lookup:l=>Xs(e,l).map(h=>h.settings),getNames:()=>bi(e)}};let x_=0;const m0=e=>{const o=new Date().getTime(),r=Math.floor(Math.random()*1e9);return x_++,e+"_"+r+x_+String(o)},A_=(e,n)=>{mt(n,o=>{fd(e,o)})},jw=(e,n)=>{mt(n,o=>{sc(e,o)})},p0=(e,n)=>Ie.fromDom(e.dom.cloneNode(n)),Zm=e=>p0(e,!1),g0=e=>p0(e,!0),Zw=(e,n)=>{const o=Ie.fromTag(n),r=Ra(e);return zr(o,r),o},Yw=(e,n)=>{const o=Zw(e,n);nl(e,o);const r=ze(e);return gd(o,r),wr(e),o},O_=(e,n,o=et)=>{const r=new ai(e,n),l=h=>{let v;do v=r[h]();while(v&&!Ut(v)&&!o(v));return oe.from(v).filter(Ut)};return{current:()=>oe.from(r.current()).filter(Ut),next:()=>l("next"),prev:()=>l("prev"),prev2:()=>l("prev2")}},Cr=(e,n)=>{const o=n||(v=>e.isBlock(v)||hr(v)||Po(v)),r=(v,C,A,L)=>{if(Ut(v)){const X=L(v,C,v.data);if(X!==-1)return oe.some({container:v,offset:X})}return A().bind(X=>r(X.container,X.offset,A,L))};return{backwards:(v,C,A,L)=>{const X=O_(v,L??e.getRoot(),o);return r(v,C,()=>X.prev().map(Z=>({container:Z,offset:Z.length})),A).getOrNull()},forwards:(v,C,A,L)=>{const X=O_(v,L??e.getRoot(),o);return r(v,C,()=>X.next().map(Z=>({container:Z,offset:0})),A).getOrNull()}}},df=Math.round,Wh=e=>e?{left:df(e.left),top:df(e.top),bottom:df(e.bottom),right:df(e.right),width:df(e.width),height:df(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},R_=(e,n)=>(e=Wh(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),Wv=(e,n)=>e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right,dc=(e,n,o)=>e>=0&&e<=Math.min(n.height,o.height)/2,rl=(e,n)=>{const o=Math.min(n.height/2,e.height/2);return e.bottom-o<n.top?!0:e.top>n.bottom?!1:dc(n.top-e.bottom,e,n)},Ym=(e,n)=>e.top>n.bottom?!0:e.bottom<n.top?!1:dc(n.bottom-e.top,e,n),Gv=(e,n,o)=>n>=e.left&&n<=e.right&&o>=e.top&&o<=e.bottom,v0=e=>Ns(e,(n,o)=>n.fold(()=>oe.some(o),r=>{const l=Math.min(o.left,r.left),h=Math.min(o.top,r.top),v=Math.max(o.right,r.right),C=Math.max(o.bottom,r.bottom);return oe.some({top:h,right:v,bottom:C,left:l,width:v-l,height:C-h})}),oe.none()),I_=(e,n,o)=>{const r=Math.max(Math.min(n,e.left+e.width),e.left),l=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((n-r)*(n-r)+(o-l)*(o-l))},b0=(e,n)=>Math.max(0,Math.min(e.bottom,n.bottom)-Math.max(e.top,n.top)),D_=(e,n,o)=>Math.min(Math.max(e,n),o),Al=e=>{const n=e.startContainer,o=e.startOffset;return n===e.endContainer&&n.hasChildNodes()&&e.endOffset===o+1?n.childNodes[o]:null},Xf=(e,n)=>{if(nn(e)&&e.hasChildNodes()){const o=e.childNodes,r=D_(n,0,o.length-1);return o[r]}else return e},Nr=(e,n)=>{if(!(n<0&&nn(e)&&e.hasChildNodes()))return Xf(e,n)},ff=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),Cd=e=>K(e)&&e.charCodeAt(0)>=768&&ff.test(e),Kw=(...e)=>n=>{for(let o=0;o<e.length;o++)if(e[o](n))return!0;return!1},N_=(...e)=>n=>{for(let o=0;o<e.length;o++)if(!e[o](n))return!1;return!0},y0=nn,Km=Tl,_0=yl("display","block table"),fg=yl("float","left right"),Xm=N_(y0,Km,vo(fg)),Xw=vo(yl("white-space","pre pre-line pre-wrap")),E1=Ut,w1=hr,E0=sr.nodeIndex,qv=Nr,hg=e=>e?e.createRange():sr.DOM.createRng(),jv=e=>K(e)&&/[\r\n\t ]/.test(e),Gh=e=>!!e.setStart&&!!e.setEnd,mg=e=>{const n=e.startContainer,o=e.startOffset;if(jv(e.toString())&&Xw(n.parentNode)&&Ut(n)){const r=n.data;if(jv(r[o-1])||jv(r[o+1]))return!0}return!1},M_=e=>{const n=e.ownerDocument,o=hg(n),r=n.createTextNode(ys),l=e.parentNode;l.insertBefore(r,e),o.setStart(r,0),o.setEnd(r,1);const h=Wh(o.getBoundingClientRect());return l.removeChild(r),h},k_=e=>{const n=e.startContainer,o=e.endContainer,r=e.startOffset,l=e.endOffset;if(n===o&&Ut(o)&&r===0&&l===1){const h=e.cloneRange();return h.setEndAfter(o),Sd(h)}else return null},T1=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,Sd=e=>{var n;let o;const r=e.getClientRects();return r.length>0?o=Wh(r[0]):o=Wh(e.getBoundingClientRect()),!Gh(e)&&w1(e)&&T1(o)?M_(e):T1(o)&&Gh(e)&&(n=k_(e))!==null&&n!==void 0?n:o},vu=(e,n)=>{const o=R_(e,n);return o.width=1,o.right=o.left+1,o},C1=e=>{const n=[],o=v=>{v.height!==0&&(n.length>0&&Wv(v,n[n.length-1])||n.push(v))},r=(v,C)=>{const A=hg(v.ownerDocument);if(C<v.data.length){if(Cd(v.data[C]))return;if(Cd(v.data[C-1])&&(A.setStart(v,C),A.setEnd(v,C+1),!mg(A))){o(vu(Sd(A),!1));return}}C>0&&(A.setStart(v,C-1),A.setEnd(v,C),mg(A)||o(vu(Sd(A),!1))),C<v.data.length&&(A.setStart(v,C),A.setEnd(v,C+1),mg(A)||o(vu(Sd(A),!0)))},l=e.container(),h=e.offset();if(E1(l))return r(l,h),n;if(y0(l))if(e.isAtEnd()){const v=qv(l,h);E1(v)&&r(v,v.data.length),Xm(v)&&!w1(v)&&o(vu(Sd(v),!1))}else{const v=qv(l,h);if(E1(v)&&r(v,0),Xm(v)&&e.isAtEnd())return o(vu(Sd(v),!1)),n;const C=qv(e.container(),e.offset()-1);Xm(C)&&!w1(C)&&(_0(C)||_0(v)||!Xm(v))&&o(vu(Sd(C),!1)),Xm(v)&&o(vu(Sd(v),!0))}return n},Ke=(e,n,o)=>{const r=()=>(E1(e),n===0),l=()=>E1(e)?n>=e.data.length:n>=e.childNodes.length,h=()=>{const X=hg(e.ownerDocument);return X.setStart(e,n),X.setEnd(e,n),X},v=()=>(o||(o=C1(Ke(e,n))),o),C=()=>v().length>0,A=X=>X&&e===X.container()&&n===X.offset(),L=X=>qv(e,X?n-1:n);return{container:tt(e),offset:tt(n),toRange:h,getClientRects:v,isVisible:C,isAtStart:r,isAtEnd:l,isEqual:A,getNode:L}};Ke.fromRangeStart=e=>Ke(e.startContainer,e.startOffset),Ke.fromRangeEnd=e=>Ke(e.endContainer,e.endOffset),Ke.after=e=>Ke(e.parentNode,E0(e)+1),Ke.before=e=>Ke(e.parentNode,E0(e)),Ke.isAbove=(e,n)=>_t(Ii(n.getClientRects()),Zc(e.getClientRects()),rl).getOr(!1),Ke.isBelow=(e,n)=>_t(Zc(n.getClientRects()),Ii(e.getClientRects()),Ym).getOr(!1),Ke.isAtStart=e=>e?e.isAtStart():!1,Ke.isAtEnd=e=>e?e.isAtEnd():!1,Ke.isTextPosition=e=>e?Ut(e.container()):!1,Ke.isElementPosition=e=>!Ke.isTextPosition(e);const Sr=(e,n)=>{Ut(n)&&n.data.length===0&&e.remove(n)},Qm=(e,n,o)=>{n.insertNode(o),Sr(e,o.previousSibling),Sr(e,o.nextSibling)},w0=(e,n,o)=>{const r=oe.from(o.firstChild),l=oe.from(o.lastChild);n.insertNode(o),r.each(h=>Sr(e,h.previousSibling)),l.each(h=>Sr(e,h.nextSibling))},er=(e,n,o)=>{Jd(o)?w0(e,n,o):Qm(e,n,o)},Yu=Ut,S1=ol,sa=sr.nodeIndex,Ku=e=>{const n=e.parentNode;return S1(n)?Ku(n):n},T0=e=>e?Sa(e.childNodes,(n,o)=>(S1(o)&&o.nodeName!=="BR"?n=n.concat(T0(o)):n.push(o),n),[]):[],P_=(e,n)=>{let o=e;for(;(o=o.previousSibling)&&Yu(o);)n+=o.data.length;return n},Zv=e=>n=>e===n,Jm=e=>{let n,o;n=T0(Ku(e)),o=Br(n,Zv(e),e),n=n.slice(0,o+1);const r=Sa(n,(l,h,v)=>(Yu(h)&&Yu(n[v-1])&&l++,l),0);return n=Kc(n,bl([e.nodeName])),o=Br(n,Zv(e),e),o-r},qh=e=>(Yu(e)?"text()":e.nodeName.toLowerCase())+"["+Jm(e)+"]",Yv=(e,n,o)=>{const r=[];for(let l=n.parentNode;l&&l!==e&&!(o&&o(l));l=l.parentNode)r.push(l);return r},x1=(e,n)=>{let o=[],r=n.container(),l=n.offset(),h;if(Yu(r))h=P_(r,l);else{const C=r.childNodes;l>=C.length?(h="after",l=C.length-1):h="before",r=C[l]}o.push(qh(r));let v=Yv(e,r);return v=Kc(v,vo(ol)),o=o.concat(Fa(v,C=>qh(C))),o.reverse().join("/")+","+h},Oc=(e,n,o)=>{let r=T0(e);return r=Kc(r,(l,h)=>!Yu(l)||!Yu(r[h-1])),r=Kc(r,bl([n])),r[o]},A1=(e,n)=>{let o=e,r=0;for(;Yu(o);){const l=o.data.length;if(n>=r&&n<=r+l){e=o,n=n-r;break}if(!Yu(o.nextSibling)){e=o,n=l;break}r+=l,o=o.nextSibling}return Yu(e)&&n>e.data.length&&(n=e.data.length),Ke(e,n)},C0=(e,n)=>{if(!n)return null;const o=n.split(","),r=o[0].split("/"),l=o.length>1?o[1]:"before",h=Sa(r,(v,C)=>{const A=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(C);return A?(A[1]==="text()"&&(A[1]="#text"),Oc(v,A[1],parseInt(A[2],10))):null},e);if(!h)return null;if(!Yu(h)&&h.parentNode){let v;return l==="after"?v=sa(h)+1:v=sa(h),Ke(h.parentNode,v)}return A1(h,parseInt(l,10))},O1=Po,Qf=(e,n,o)=>{let r=e(n.data.slice(0,o)).length;for(let l=n.previousSibling;l&&Ut(l);l=l.previousSibling)r+=e(l.data).length;return r},Rc=(e,n,o,r,l)=>{const h=l?r.startContainer:r.endContainer;let v=l?r.startOffset:r.endOffset;const C=[],A=e.getRoot();if(Ut(h))C.push(o?Qf(n,h,v):v);else{let L=0;const X=h.childNodes;v>=X.length&&X.length&&(L=1,v=Math.max(0,X.length-1)),C.push(e.nodeIndex(X[v],o)+L)}for(let L=h;L&&L!==A;L=L.parentNode)C.push(e.nodeIndex(L,o));return C},Qw=(e,n,o,r)=>{const l=n.dom,h=Rc(l,e,o,r,!0),v=n.isForward(),C=Ov(r)?{isFakeCaret:!0}:{};if(n.isCollapsed())return{start:h,forward:v,...C};{const A=Rc(l,e,o,r,!1);return{start:h,end:A,forward:v,...C}}},va=(e,n,o)=>{let r=0;return we.each(e.select(n),l=>{if(l.getAttribute("data-mce-bogus")!=="all"){if(l===o)return!1;r++;return}}),r},Kv=(e,n)=>{let o=n?e.startContainer:e.endContainer,r=n?e.startOffset:e.endOffset;if(nn(o)&&o.nodeName==="TR"){const l=o.childNodes;o=l[Math.min(n?r:r-1,l.length-1)],o&&(r=n?0:o.childNodes.length,n?e.setStart(o,r):e.setEnd(o,r))}},hf=e=>(Kv(e,!0),Kv(e,!1),e),R1=(e,n)=>{if(nn(e)&&(e=Xf(e,n),O1(e)))return e;if(wl(e)){Ut(e)&&Uu(e)&&(e=e.parentNode);let o=e.previousSibling;if(O1(o)||(o=e.nextSibling,O1(o)))return o}},L_=e=>R1(e.startContainer,e.startOffset)||R1(e.endContainer,e.endOffset),S0=(e,n,o)=>{const r=o.getNode(),l=o.getRng();if(r.nodeName==="IMG"||O1(r)){const v=r.nodeName;return{name:v,index:va(o.dom,v,r)}}const h=L_(l);if(h){const v=h.tagName;return{name:v,index:va(o.dom,v,h)}}return Qw(e,o,n,l)},x0=e=>{const n=e.getRng();return{start:x1(e.dom.getRoot(),Ke.fromRangeStart(n)),end:x1(e.dom.getRoot(),Ke.fromRangeEnd(n)),forward:e.isForward()}},A0=e=>({rng:e.getRng(),forward:e.isForward()}),O0=(e,n,o)=>{const r={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return o?e.create("span",r,"&#xFEFF;"):e.create("span",r)},$_=(e,n)=>{const o=e.dom;let r=e.getRng();const l=o.uniqueId(),h=e.isCollapsed(),v=e.getNode(),C=v.nodeName,A=e.isForward();if(C==="IMG")return{name:C,index:va(o,C,v)};const L=hf(r.cloneRange());if(!h){L.collapse(!1);const Z=O0(o,l+"_end",n);er(o,L,Z)}r=hf(r),r.collapse(!0);const X=O0(o,l+"_start",n);return er(o,r,X),e.moveToBookmark({id:l,keep:!0,forward:A}),{id:l,forward:A}},Jw=(e,n,o=!1)=>n===2?S0(yd,o,e):n===3?x0(e):n?A0(e):$_(e,!1),ba=je(S0,qt,!0),Ui=e=>{const n=h=>h(e),o=tt(e),r=()=>l,l={tag:!0,inner:e,fold:(h,v)=>v(e),isValue:It,isError:et,map:h=>Is.value(h(e)),mapError:r,bind:n,exists:n,forall:n,getOr:o,or:r,getOrThunk:o,orThunk:r,getOrDie:o,each:h=>{h(e)},toOptional:()=>oe.some(e)};return l},Wc=e=>{const n=()=>o,o={tag:!1,inner:e,fold:(r,l)=>r(e),isValue:et,isError:It,map:n,mapError:r=>Is.error(r(e)),bind:n,exists:et,forall:It,getOr:qt,or:qt,getOrThunk:ao,orThunk:ao,getOrDie:Bo(String(e)),each:Ot,toOptional:oe.none};return o},Is={value:Ui,error:Wc,fromOption:(e,n)=>e.fold(()=>Wc(n),Ui)},Xu={generate:e=>{if(!H(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const n=[],o={};return mt(e,(r,l)=>{const h=bi(r);if(h.length!==1)throw new Error("one and only one name per case");const v=h[0],C=r[v];if(o[v]!==void 0)throw new Error("duplicate key detected:"+v);if(v==="cata")throw new Error("cannot have a case named cata (sorry)");if(!H(C))throw new Error("case arguments must be an array");n.push(v),o[v]=(...A)=>{const L=A.length;if(L!==C.length)throw new Error("Wrong number of arguments to case "+v+". Expected "+C.length+" ("+C+"), got "+L);return{fold:(...Z)=>{if(Z.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+Z.length);return Z[l].apply(null,A)},match:Z=>{const se=bi(Z);if(n.length!==se.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+se.join(","));if(!nr(n,Re=>kn(se,Re)))throw new Error("Not all branches were specified when using match. Specified: "+se.join(", ")+`
Required: `+n.join(", "));return Z[v].apply(null,A)},log:Z=>{console.log(Z,{constructors:n,constructor:v,params:A})}}}}),o}};Xu.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Jf=e=>{const n=[],o=[];return mt(e,r=>{r.fold(l=>{n.push(l)},l=>{o.push(l)})}),{errors:n,values:o}},ds=e=>e.type==="inline-command"||e.type==="inline-format",Xv=e=>e.type==="block-command"||e.type==="block-format",Gc=e=>{const n=r=>Is.error({message:r,pattern:e}),o=(r,l,h)=>{if(e.format!==void 0){let v;if(H(e.format)){if(!nr(e.format,K))return n(r+" pattern has non-string items in the `format` array");v=e.format}else if(K(e.format))v=[e.format];else return n(r+" pattern has non-string `format` parameter");return Is.value(l(v))}else return e.cmd!==void 0?K(e.cmd)?Is.value(h(e.cmd,e.value)):n(r+" pattern has non-string `cmd` parameter"):n(r+" pattern is missing both `format` and `cmd` parameters")};if(!De(e))return n("Raw pattern is not an object");if(!K(e.start))return n("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!K(e.end))return n("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return n("Inline pattern has empty `start` and `end` parameters");let r=e.start,l=e.end;return l.length===0&&(l=r,r=""),o("Inline",h=>({type:"inline-format",start:r,end:l,format:h}),(h,v)=>({type:"inline-command",start:r,end:l,cmd:h,value:v}))}else return e.replacement!==void 0?K(e.replacement)?e.start.length===0?n("Replacement pattern has empty `start` parameter"):Is.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):n("Replacement pattern has non-string `replacement` parameter"):e.start.length===0?n("Block pattern has empty `start` parameter"):o("Block",r=>({type:"block-format",start:e.start,format:r[0]}),(r,l)=>({type:"block-command",start:e.start,cmd:r,value:l}))},zi=e=>Lt(e,Xv),I1=e=>Lt(e,ds),xd=(e,n)=>({inlinePatterns:I1(e),blockPatterns:zi(e),dynamicPatternsLookup:n}),R0=e=>{const n=Jf(Yt(e,Gc));return mt(n.errors,o=>console.error(o.message,o.pattern)),n.values},bx=e=>n=>{const o=e(n);return R0(o)},Qv=Hs().deviceType,I0=Qv.isTouch(),Jv=sr.DOM,D1=e=>{const n=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return Ns(n,(o,r)=>{const l=r.split("="),h=l[0],v=l.length>1?l[1]:h;return o[uu(h)]=uu(v),o},{})},B_=e=>me(e,RegExp),yn=e=>n=>n.options.get(e),eb=e=>K(e)||De(e),N1=(e,n="")=>o=>{const r=K(o);if(r)if(o.indexOf("=")!==-1){const l=D1(o);return{value:Xs(l,e.id).getOr(n),valid:r}}else return{value:o,valid:r};else return{valid:!1,message:"Must be a string."}},Wi=e=>{const n=e.options.register;n("id",{processor:"string",default:e.id}),n("selector",{processor:"string"}),n("target",{processor:"object"}),n("suffix",{processor:"string"}),n("cache_suffix",{processor:"string"}),n("base_url",{processor:"string"}),n("referrer_policy",{processor:"string",default:""}),n("language_load",{processor:"boolean",default:!0}),n("inline",{processor:"boolean",default:!1}),n("iframe_attrs",{processor:"object",default:{}}),n("doctype",{processor:"string",default:"<!DOCTYPE html>"}),n("document_base_url",{processor:"string",default:e.documentBaseUrl}),n("body_id",{processor:N1(e,"tinymce"),default:"tinymce"}),n("body_class",{processor:N1(e),default:""}),n("content_security_policy",{processor:"string",default:""}),n("br_in_pre",{processor:"boolean",default:!0}),n("forced_root_block",{processor:o=>{const r=K(o)&&Cs(o);return r?{value:o,valid:r}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),n("forced_root_block_attrs",{processor:"object",default:{}}),n("newline_behavior",{processor:o=>{const r=kn(["block","linebreak","invert","default"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),n("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),n("no_newline_selector",{processor:"string",default:""}),n("keep_styles",{processor:"boolean",default:!0}),n("end_container_on_empty_block",{processor:o=>qe(o)?{valid:!0,value:o}:K(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),n("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),n("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),n("font_size_classes",{processor:"string",default:""}),n("automatic_uploads",{processor:"boolean",default:!0}),n("images_reuse_filename",{processor:"boolean",default:!1}),n("images_replace_blob_uris",{processor:"boolean",default:!0}),n("icons",{processor:"string",default:""}),n("icons_url",{processor:"string",default:""}),n("images_upload_url",{processor:"string",default:""}),n("images_upload_base_path",{processor:"string",default:""}),n("images_upload_credentials",{processor:"boolean",default:!1}),n("images_upload_handler",{processor:"function"}),n("language",{processor:"string",default:"en"}),n("language_url",{processor:"string",default:""}),n("entity_encoding",{processor:"string",default:"named"}),n("indent",{processor:"boolean",default:!0}),n("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_use_margin",{processor:"boolean",default:!1}),n("indentation",{processor:"string",default:"40px"}),n("content_css",{processor:o=>{const r=o===!1||K(o)||wt(o,K);return r?K(o)?{value:Yt(o.split(","),uu),valid:r}:H(o)?{value:o,valid:r}:o===!1?{value:[],valid:r}:{value:o,valid:r}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:M0(e)?[]:["default"]}),n("content_style",{processor:"string"}),n("content_css_cors",{processor:"boolean",default:!1}),n("font_css",{processor:o=>{const r=K(o)||wt(o,K);return r?{value:H(o)?o:Yt(o.split(","),uu),valid:r}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),n("inline_boundaries",{processor:"boolean",default:!0}),n("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),n("object_resizing",{processor:o=>{const r=qe(o)||K(o);return r?o===!1||Qv.isiPhone()||Qv.isiPad()?{value:"",valid:r}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:r}:{valid:!1,message:"Must be boolean or a string"}},default:!I0}),n("resize_img_proportional",{processor:"boolean",default:!0}),n("event_root",{processor:"object"}),n("service_message",{processor:"string"}),n("theme",{processor:o=>o===!1||K(o)||_e(o),default:"silver"}),n("theme_url",{processor:"string"}),n("formats",{processor:"object"}),n("format_empty_lines",{processor:"boolean",default:!1}),n("format_noneditable_selector",{processor:"string",default:""}),n("preview_styles",{processor:o=>{const r=o===!1||K(o);return r?{value:o===!1?"":o,valid:r}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),n("custom_ui_selector",{processor:"string",default:""}),n("hidden_input",{processor:"boolean",default:!0}),n("submit_patch",{processor:"boolean",default:!0}),n("encoding",{processor:"string"}),n("add_form_submit_trigger",{processor:"boolean",default:!0}),n("add_unload_trigger",{processor:"boolean",default:!0}),n("custom_undo_redo_levels",{processor:"number",default:0}),n("disable_nodechange",{processor:"boolean",default:!1}),n("readonly",{processor:"boolean",default:!1}),n("plugins",{processor:"string[]",default:[]}),n("external_plugins",{processor:"object"}),n("forced_plugins",{processor:"string[]"}),n("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),n("model_url",{processor:"string"}),n("block_unsupported_drop",{processor:"boolean",default:!0}),n("visual",{processor:"boolean",default:!0}),n("visual_table_class",{processor:"string",default:"mce-item-table"}),n("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),n("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),n("setup",{processor:"function"}),n("init_instance_callback",{processor:"function"}),n("url_converter",{processor:"function",default:e.convertURL}),n("url_converter_scope",{processor:"object",default:e}),n("urlconverter_callback",{processor:"function"}),n("allow_conditional_comments",{processor:"boolean",default:!1}),n("allow_html_data_urls",{processor:"boolean",default:!1}),n("allow_svg_data_urls",{processor:"boolean"}),n("allow_html_in_named_anchor",{processor:"boolean",default:!1}),n("allow_script_urls",{processor:"boolean",default:!1}),n("allow_unsafe_link_target",{processor:"boolean",default:!1}),n("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),n("fix_list_elements",{processor:"boolean",default:!1}),n("preserve_cdata",{processor:"boolean",default:!1}),n("remove_trailing_brs",{processor:"boolean"}),n("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),n("element_format",{processor:"string",default:"html"}),n("entities",{processor:"string"}),n("schema",{processor:"string",default:"html5"}),n("convert_urls",{processor:"boolean",default:!0}),n("relative_urls",{processor:"boolean",default:!0}),n("remove_script_host",{processor:"boolean",default:!0}),n("custom_elements",{processor:"string"}),n("extended_valid_elements",{processor:"string"}),n("invalid_elements",{processor:"string"}),n("invalid_styles",{processor:eb}),n("valid_children",{processor:"string"}),n("valid_classes",{processor:eb}),n("valid_elements",{processor:"string"}),n("valid_styles",{processor:eb}),n("verify_html",{processor:"boolean",default:!0}),n("auto_focus",{processor:o=>K(o)||o===!0}),n("browser_spellcheck",{processor:"boolean",default:!1}),n("protect",{processor:"array"}),n("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),n("deprecation_warnings",{processor:"boolean",default:!0}),n("a11y_advanced_options",{processor:"boolean",default:!1}),n("api_key",{processor:"string"}),n("paste_block_drop",{processor:"boolean",default:!1}),n("paste_data_images",{processor:"boolean",default:!0}),n("paste_preprocess",{processor:"function"}),n("paste_postprocess",{processor:"function"}),n("paste_webkit_styles",{processor:"string",default:"none"}),n("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),n("paste_merge_formats",{processor:"boolean",default:!0}),n("smart_paste",{processor:"boolean",default:!0}),n("paste_as_text",{processor:"boolean",default:!1}),n("paste_tab_spaces",{processor:"number",default:4}),n("text_patterns",{processor:o=>wt(o,De)||o===!1?{value:R0(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),n("text_patterns_lookup",{processor:o=>_e(o)?{value:bx(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),n("noneditable_class",{processor:"string",default:"mceNonEditable"}),n("editable_class",{processor:"string",default:"mceEditable"}),n("noneditable_regexp",{processor:o=>wt(o,B_)?{value:o,valid:!0}:B_(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),n("table_tab_navigation",{processor:"boolean",default:!0}),n("highlight_on_focus",{processor:"boolean",default:!1}),n("xss_sanitization",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{n("directionality",{processor:"string",default:Td.isRtl()?"rtl":void 0}),n("placeholder",{processor:"string",default:Jv.getAttrib(e.getElement(),"placeholder")})})},kt=yn("iframe_attrs"),F_=yn("doctype"),ya=yn("document_base_url"),eT=yn("body_id"),H_=yn("body_class"),V_=yn("content_security_policy"),bu=yn("br_in_pre"),yu=yn("forced_root_block"),pg=yn("forced_root_block_attrs"),il=yn("newline_behavior"),M1=yn("br_newline_selector"),k1=yn("no_newline_selector"),Ad=yn("keep_styles"),Xl=yn("end_container_on_empty_block"),al=yn("automatic_uploads"),Ic=yn("images_reuse_filename"),tT=yn("images_replace_blob_uris"),tb=yn("icons"),nb=yn("icons_url"),jh=yn("images_upload_url"),U_=yn("images_upload_base_path"),ob=yn("images_upload_credentials"),eh=yn("images_upload_handler"),_s=yn("content_css_cors"),ep=yn("referrer_policy"),pr=yn("language"),z_=yn("language_url"),tp=yn("indent_use_margin"),Mr=yn("indentation"),sb=yn("content_css"),W_=yn("content_style"),gg=yn("font_css"),nT=yn("directionality"),P1=yn("inline_boundaries_selector"),G_=yn("object_resizing"),q_=yn("resize_img_proportional"),D0=yn("placeholder"),N0=yn("event_root"),j_=yn("service_message"),mf=yn("theme"),rb=yn("theme_url"),_u=yn("model"),Zs=yn("model_url"),vg=yn("inline_boundaries"),Dc=yn("formats"),L1=yn("preview_styles"),Z_=yn("format_empty_lines"),ib=yn("format_noneditable_selector"),$1=yn("custom_ui_selector"),M0=yn("inline"),Y_=yn("hidden_input"),fc=yn("submit_patch"),Ql=yn("add_form_submit_trigger"),oT=yn("add_unload_trigger"),sT=yn("custom_undo_redo_levels"),rT=yn("disable_nodechange"),np=yn("readonly"),k0=yn("content_css_cors"),P0=yn("plugins"),op=yn("external_plugins"),K_=yn("block_unsupported_drop"),iT=yn("visual"),aT=yn("visual_table_class"),L0=yn("visual_anchor_class"),$0=yn("iframe_aria_text"),Zh=yn("setup"),X_=yn("init_instance_callback"),cT=yn("urlconverter_callback"),lT=yn("auto_focus"),uT=yn("browser_spellcheck"),Od=yn("protect"),ab=yn("paste_block_drop"),sp=yn("paste_data_images"),cb=yn("paste_preprocess"),Q_=yn("paste_postprocess"),pf=yn("paste_webkit_styles"),B1=yn("paste_remove_styles_if_webkit"),B0=yn("paste_merge_formats"),Rd=yn("smart_paste"),Yh=yn("paste_as_text"),F0=yn("paste_tab_spaces"),J_=yn("allow_html_data_urls"),dT=yn("text_patterns"),fT=yn("text_patterns_lookup"),H0=yn("noneditable_class"),hT=yn("editable_class"),mT=yn("noneditable_regexp"),eE=yn("preserve_cdata"),tE=yn("highlight_on_focus"),lb=yn("xss_sanitization"),pT=e=>e.options.isSet("text_patterns_lookup"),gT=e=>we.explode(e.options.get("font_size_style_values")),vT=e=>we.explode(e.options.get("font_size_classes")),nE=e=>e.options.get("encoding")==="xml",V0=e=>we.explode(e.options.get("images_file_types")),oE=yn("table_tab_navigation"),bT=nn,sE=Ut,F1=e=>{const n=e.parentNode;n&&n.removeChild(e)},U0=e=>{const n=yd(e);return{count:e.length-n.length,text:n}},z0=e=>{let n;for(;(n=e.data.lastIndexOf(Ma))!==-1;)e.deleteData(n,1)},bg=(e,n)=>(rp(e),n),ub=(e,n)=>{const o=U0(e.data.substr(0,n.offset())),r=U0(e.data.substr(n.offset()));return(o.text+r.text).length>0?(z0(e),Ke(e,n.offset()-o.count)):n},H1=(e,n)=>{const o=n.container(),r=Xa(vr(o.childNodes),e).map(l=>l<n.offset()?Ke(o,n.offset()-1):n).getOr(n);return rp(e),r},W0=(e,n)=>sE(e)&&n.container()===e?ub(e,n):bg(e,n),G0=(e,n)=>n.container()===e.parentNode?H1(e,n):bg(e,n),rE=(e,n)=>Ke.isTextPosition(n)?W0(e,n):G0(e,n),rp=e=>{bT(e)&&wl(e)&&(Sv(e)?e.removeAttribute("data-mce-caret"):F1(e)),sE(e)&&(z0(e),e.data.length===0&&F1(e))},iE=Po,ip=or,yT=Jr,q0="*[contentEditable=false],video,audio,embed,object",aE=(e,n,o)=>{const r=R_(n.getBoundingClientRect(),o);let l,h;if(e.tagName==="BODY"){const C=e.ownerDocument.documentElement;l=e.scrollLeft||C.scrollLeft,h=e.scrollTop||C.scrollTop}else{const C=e.getBoundingClientRect();l=e.scrollLeft-C.left,h=e.scrollTop-C.top}r.left+=l,r.right+=l,r.top+=h,r.bottom+=h,r.width=1;let v=n.offsetWidth-n.clientWidth;return v>0&&(o&&(v*=-1),r.left+=v,r.right+=v),r},Jl=e=>{var n,o;const r=Qr(Ie.fromDom(e),q0);for(let l=0;l<r.length;l++){const h=r[l].dom;let v=h.previousSibling;if(Kp(v)){const C=v.data;C.length===1?(n=v.parentNode)===null||n===void 0||n.removeChild(v):v.deleteData(C.length-1,1)}v=h.nextSibling,Pm(v)&&(v.data.length===1?(o=v.parentNode)===null||o===void 0||o.removeChild(v):v.deleteData(0,1))}},j0=(e,n,o,r)=>{const l=oa();let h,v;const C=yu(e),A=e.dom,L=(be,Ae)=>{let Ve;if(X(),yT(Ae))return null;if(o(Ae)){const Be=xv(C,Ae,be),Ye=aE(n,Ae,be);A.setStyle(Be,"top",Ye.top),v=Be;const it=A.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});A.setStyles(it,{...Ye}),A.add(n,it),l.set({caret:it,element:Ae,before:be}),be&&A.addClass(it,"mce-visual-caret-before"),Z(),Ve=Ae.ownerDocument.createRange(),Ve.setStart(Be,0),Ve.setEnd(Be,0)}else return v=h_(Ae,be),Ve=Ae.ownerDocument.createRange(),V1(v.nextSibling)?(Ve.setStart(v,0),Ve.setEnd(v,0)):(Ve.setStart(v,1),Ve.setEnd(v,1)),Ve;return Ve},X=()=>{Jl(n),v&&(rp(v),v=null),l.on(be=>{A.remove(be.caret),l.clear()}),h&&(clearInterval(h),h=void 0)},Z=()=>{h=setInterval(()=>{l.on(be=>{r()?A.toggleClass(be.caret,"mce-visual-caret-hidden"):A.addClass(be.caret,"mce-visual-caret-hidden")})},500)};return{show:L,hide:X,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{l.on(be=>{const Ae=aE(n,be.element,be.before);A.setStyles(be.caret,{...Ae})})},destroy:()=>clearInterval(h)}},db=()=>Do.browser.isFirefox(),V1=e=>iE(e)||ip(e),th=e=>(V1(e)||Dr(e)&&db())&&Xr(Ie.fromDom(e)).exists(Kd),_T=ts,U1=Po,cE=or,Pa=yl("display","block table table-cell table-caption list-item"),lE=wl,ap=Uu,ET=nn,z1=Ut,Z0=Tl,yg=e=>e>0,cp=e=>e<0,W1=(e,n)=>{let o;for(;o=e(n);)if(!ap(o))return o;return null},gf=(e,n,o,r,l)=>{const h=new ai(e,r),v=U1(e)||ap(e);let C;if(cp(n)){if(v&&(C=W1(h.prev.bind(h),!0),o(C)))return C;for(;C=W1(h.prev.bind(h),l);)if(o(C))return C}if(yg(n)){if(v&&(C=W1(h.next.bind(h),!0),o(C)))return C;for(;C=W1(h.next.bind(h),l);)if(o(C))return C}return null},Y0=(e,n)=>{const o=l=>_T(l.dom),r=l=>l.dom===n;return Ps(Ie.fromDom(e),o,r).map(l=>l.dom).getOr(n)},Gi=(e,n)=>{for(;e&&e!==n;){if(Pa(e))return e;e=e.parentNode}return null},eu=(e,n,o)=>Gi(e.container(),o)===Gi(n.container(),o),fb=(e,n)=>{if(!n)return oe.none();const o=n.container(),r=n.offset();return ET(o)?oe.from(o.childNodes[r+e]):oe.none()},uE=(e,n)=>{var o;const l=((o=n.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(l.setStartBefore(n),l.setEndBefore(n)):(l.setStartAfter(n),l.setEndAfter(n)),l},dE=(e,n,o)=>Gi(n,e)===Gi(o,e),K0=(e,n,o)=>{const r=e?"previousSibling":"nextSibling";let l=o;for(;l&&l!==n;){let h=l[r];if(h&&lE(h)&&(h=h[r]),U1(h)||cE(h)){if(dE(n,h,l))return h;break}if(Z0(h))break;l=l.parentNode}return null},lp=je(uE,!0),G1=je(uE,!1),up=(e,n,o)=>{let r;const l=je(K0,!0,n),h=je(K0,!1,n),v=o.startContainer,C=o.startOffset;if(Uu(v)){const A=z1(v)?v.parentNode:v,L=A.getAttribute("data-mce-caret");if(L==="before"&&(r=A.nextSibling,th(r)))return lp(r);if(L==="after"&&(r=A.previousSibling,th(r)))return G1(r)}if(!o.collapsed)return o;if(Ut(v)){if(lE(v)){if(e===1){if(r=h(v),r)return lp(r);if(r=l(v),r)return G1(r)}if(e===-1){if(r=l(v),r)return G1(r);if(r=h(v),r)return lp(r)}return o}if(Kp(v)&&C>=v.data.length-1)return e===1&&(r=h(v),r)?lp(r):o;if(Pm(v)&&C<=1)return e===-1&&(r=l(v),r)?G1(r):o;if(C===v.data.length)return r=h(v),r?lp(r):o;if(C===0)return r=l(v),r?G1(r):o}return o},yx=(e,n)=>fb(e?0:-1,n).filter(U1),_g=(e,n,o)=>{const r=up(e,n,o);return e===-1?Ke.fromRangeStart(r):Ke.fromRangeEnd(r)},q1=e=>oe.from(e.getNode()).map(Ie.fromDom),dp=e=>oe.from(e.getNode(!0)).map(Ie.fromDom),X0=(e,n)=>{let o=n;for(;o=e(o);)if(o.isVisible())return o;return o},Eg=(e,n)=>{const o=eu(e,n);return!o&&hr(e.getNode())?!0:o};var _a;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(_a||(_a={}));const Q0=Po,Id=Ut,vf=nn,Kh=hr,fp=Tl,p=Cl,_=na,R=(e,n)=>{const o=[];let r=e;for(;r&&r!==n;)o.push(r),r=r.parentNode;return o},q=(e,n)=>e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null,he=(e,n)=>{if(yg(e)){if(fp(n.previousSibling)&&!Id(n.previousSibling))return Ke.before(n);if(Id(n))return Ke(n,0)}if(cp(e)){if(fp(n.nextSibling)&&!Id(n.nextSibling))return Ke.after(n);if(Id(n))return Ke(n,n.data.length)}return cp(e)?Kh(n)?Ke.before(n):Ke.after(n):Ke.before(n)},Oe=(e,n)=>{const o=n.nextSibling;return o&&fp(o)?Id(o)?Ke(o,0):Ke.before(o):Fe(_a.Forwards,Ke.after(n),e)},Fe=(e,n,o)=>{let r,l,h,v;if(!vf(o)||!n)return null;if(n.isEqual(Ke.after(o))&&o.lastChild){if(v=Ke.after(o.lastChild),cp(e)&&fp(o.lastChild)&&vf(o.lastChild))return Kh(o.lastChild)?Ke.before(o.lastChild):v}else v=n;const C=v.container();let A=v.offset();if(Id(C)){if(cp(e)&&A>0)return Ke(C,--A);if(yg(e)&&A<C.length)return Ke(C,++A);r=C}else{if(cp(e)&&A>0&&(l=q(C,A-1),fp(l)))return!p(l)&&(h=gf(l,e,_,l),h)?Id(h)?Ke(h,h.data.length):Ke.after(h):Id(l)?Ke(l,l.data.length):Ke.before(l);if(yg(e)&&A<C.childNodes.length&&(l=q(C,A),fp(l)))return Kh(l)?Oe(o,l):!p(l)&&(h=gf(l,e,_,l),h)?Id(h)?Ke(h,0):Ke.before(h):Id(l)?Ke(l,0):Ke.after(l);r=l||v.getNode()}if(r&&(yg(e)&&v.isAtEnd()||cp(e)&&v.isAtStart())&&(r=gf(r,e,It,o,!0),_(r,o)))return he(e,r);l=r&&gf(r,e,_,o);const L=bc(Lt(R(C,o),Q0));return L&&(!l||!L.contains(l))?(yg(e)?v=Ke.after(L):v=Ke.before(L),v):l?he(e,l):null},Ze=e=>({next:n=>Fe(_a.Forwards,n,e),prev:n=>Fe(_a.Backwards,n,e)}),pt=(e,n,o)=>{const r=e?Ke.before(o):Ke.after(o);return No(e,n,r)},en=e=>hr(e)?Ke.before(e):Ke.after(e),Jt=e=>Ke.isTextPosition(e)?e.offset()===0:Tl(e.getNode()),pn=e=>{if(Ke.isTextPosition(e)){const n=e.container();return e.offset()===n.data.length}else return Tl(e.getNode(!0))},$n=(e,n)=>!Ke.isTextPosition(e)&&!Ke.isTextPosition(n)&&e.getNode()===n.getNode(!0),fo=e=>!Ke.isTextPosition(e)&&hr(e.getNode()),Lo=(e,n,o)=>e?!$n(n,o)&&!fo(n)&&pn(n)&&Jt(o):!$n(o,n)&&Jt(n)&&pn(o),No=(e,n,o)=>{const r=Ze(n);return oe.from(e?r.next(o):r.prev(o))},Ro=(e,n,o)=>No(e,n,o).bind(r=>eu(o,r,n)&&Lo(e,o,r)?No(e,n,r):oe.some(r)),$s=(e,n,o,r)=>Ro(e,n,o).bind(l=>r(l)?$s(e,n,l,r):oe.some(l)),fs=(e,n)=>{const o=e?n.firstChild:n.lastChild;return Ut(o)?oe.some(Ke(o,e?0:o.data.length)):o?Tl(o)?oe.some(e?Ke.before(o):en(o)):pt(e,n,o):oe.none()},ui=je(No,!0),di=je(No,!1),ei=je(fs,!0),Zr=je(fs,!1),Nc="_mce_caret",Ws=e=>nn(e)&&e.id===Nc,bf=(e,n)=>{let o=n;for(;o&&o!==e;){if(Ws(o))return o;o=o.parentNode}return null},J0=e=>K(e.start),j1=e=>qn(e,"rng"),fE=e=>qn(e,"id"),hE=e=>qn(e,"name"),wT=e=>we.isArray(e.start),mE=e=>!hE(e)&&qe(e.forward)?e.forward:!0,_x=(e,n)=>(nn(n)&&e.isBlock(n)&&!n.innerHTML&&(n.innerHTML='<br data-mce-bogus="1" />'),n),cR=(e,n)=>{const o=oe.from(C0(e.getRoot(),n.start)),r=oe.from(C0(e.getRoot(),n.end));return _t(o,r,(l,h)=>{const v=e.createRng();return v.setStart(l.container(),l.offset()),v.setEnd(h.container(),h.offset()),{range:v,forward:mE(n)}})},Xh=(e,n)=>{var o;const l=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Ma);e.appendChild(l),n.setStart(l,0),n.setEnd(l,0)},ey=e=>!e.hasChildNodes(),TT=(e,n)=>Zr(e).fold(et,o=>(n.setStart(o.container(),o.offset()),n.setEnd(o.container(),o.offset()),!0)),Qh=(e,n,o)=>ey(n)&&bf(e,n)?(Xh(n,o),!0):!1,CT=(e,n,o,r)=>{const l=o[n?"start":"end"],h=e.getRoot();if(l){let v=h,C=l[0];for(let A=l.length-1;v&&A>=1;A--){const L=v.childNodes;if(Qh(h,v,r))return!0;if(l[A]>L.length-1)return Qh(h,v,r)?!0:TT(v,r);v=L[l[A]]}Ut(v)&&(C=Math.min(l[0],v.data.length)),nn(v)&&(C=Math.min(l[0],v.childNodes.length)),n?r.setStart(v,C):r.setEnd(v,C)}return!0},ty=e=>Ut(e)&&e.data.length>0,wg=(e,n,o)=>{const r=e.get(o.id+"_"+n),l=r==null?void 0:r.parentNode,h=o.keep;if(r&&l){let v,C;if(n==="start"?h?r.hasChildNodes()?(v=r.firstChild,C=1):ty(r.nextSibling)?(v=r.nextSibling,C=0):ty(r.previousSibling)?(v=r.previousSibling,C=r.previousSibling.data.length):(v=l,C=e.nodeIndex(r)+1):(v=l,C=e.nodeIndex(r)):h?r.hasChildNodes()?(v=r.firstChild,C=1):ty(r.previousSibling)?(v=r.previousSibling,C=r.previousSibling.data.length):(v=l,C=e.nodeIndex(r)):(v=l,C=e.nodeIndex(r)),!h){const A=r.previousSibling,L=r.nextSibling;we.each(we.grep(r.childNodes),Z=>{Ut(Z)&&(Z.data=Z.data.replace(/\uFEFF/g,""))});let X;for(;X=e.get(o.id+"_"+n);)e.remove(X,!0);if(Ut(L)&&Ut(A)&&!Do.browser.isOpera()){const Z=A.data.length;A.appendData(L.data),e.remove(L),v=A,C=Z}}return oe.some(Ke(v,C))}else return oe.none()},ST=(e,n)=>{const o=e.createRng();return CT(e,!0,n,o)&&CT(e,!1,n,o)?oe.some({range:o,forward:mE(n)}):oe.none()},Ex=(e,n)=>{const o=wg(e,"start",n),r=wg(e,"end",n);return _t(o,r.or(o),(l,h)=>{const v=e.createRng();return v.setStart(_x(e,l.container()),l.offset()),v.setEnd(_x(e,h.container()),h.offset()),{range:v,forward:mE(n)}})},xT=(e,n)=>oe.from(e.select(n.name)[n.index]).map(o=>{const r=e.createRng();return r.selectNode(o),{range:r,forward:!0}}),Tg=(e,n)=>{const o=e.dom;if(n){if(wT(n))return ST(o,n);if(J0(n))return cR(o,n);if(fE(n))return Ex(o,n);if(hE(n))return xT(o,n);if(j1(n))return oe.some({range:n.rng,forward:mE(n)})}return oe.none()},lR=(e,n,o)=>Jw(e,n,o),Jh=(e,n)=>{Tg(e,n).each(({range:o,forward:r})=>{e.setRng(o,r)})},Qu=e=>nn(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",pE=(e=>n=>e===n)(ys),ny=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,AT=e=>!ny(e)&&!pE(e)&&!Wl(e),uR=e=>({value:Tx(e)}),Tx=e=>Xc(e,"#").toUpperCase(),OT=e=>{const n=e.toString(16);return(n.length===1?"0"+n:n).toUpperCase()},gE=e=>{const n=OT(e.red)+OT(e.green)+OT(e.blue);return uR(n)},dR=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,fR=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,vE=(e,n,o,r)=>({red:e,green:n,blue:o,alpha:r}),Cx=(e,n,o,r)=>{const l=parseInt(e,10),h=parseInt(n,10),v=parseInt(o,10),C=parseFloat(r);return vE(l,h,v,C)},fk=e=>{if(e==="transparent")return oe.some(vE(0,0,0,0));const n=dR.exec(e);if(n!==null)return oe.some(Cx(n[1],n[2],n[3],"1"));const o=fR.exec(e);return o!==null?oe.some(Cx(o[1],o[2],o[3],o[4])):oe.none()},hb=e=>fk(e).map(gE).map(n=>"#"+n.value).getOr(e),Uo=e=>{const n=[];if(e)for(let o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));return n},hp=e=>Ca(e,n=>{const o=Al(n);return o?[Ie.fromDom(o)]:[]}),mb=e=>Uo(e).length>1,RT=e=>Lt(hp(e),Hr),hR=e=>Qr(e,"td[data-mce-selected],th[data-mce-selected]"),oy=(e,n)=>{const o=hR(n);return o.length>0?o:RT(e)},Z1=e=>oy(Uo(e.selection.getSel()),Ie.fromDom(e.getBody())),Y1=(e,n)=>Da(e,"table",n),IT=e=>{const n=e.startContainer,o=e.startOffset;return Ut(n)?o===0?oe.some(Ie.fromDom(n)):oe.none():oe.from(n.childNodes[o]).map(Ie.fromDom)},DT=e=>{const n=e.endContainer,o=e.endOffset;return Ut(n)?o===n.data.length?oe.some(Ie.fromDom(n)):oe.none():oe.from(n.childNodes[o-1]).map(Ie.fromDom)},NT=e=>lt(e).fold(tt([e]),n=>[e].concat(NT(n))),Sx=e=>Ct(e).fold(tt([e]),n=>Vs(n)==="br"?Tc(n).map(o=>[e].concat(Sx(o))).getOr([]):[e].concat(Sx(n))),sy=(e,n)=>_t(IT(n),DT(n),(o,r)=>{const l=vs(NT(e),je(ns,o)),h=vs(Sx(e),je(ns,r));return l.isSome()&&h.isSome()}).getOr(!1),bE=(e,n,o,r)=>{const l=o,h=new ai(o,l),v=ks(e.schema.getMoveCaretBeforeOnEnterElements(),(A,L)=>!kn(["td","th","table"],L.toLowerCase()));let C=o;do{if(Ut(C)&&we.trim(C.data).length!==0){r?n.setStart(C,0):n.setEnd(C,C.data.length);return}if(v[C.nodeName]){r?n.setStartBefore(C):C.nodeName==="BR"?n.setEndBefore(C):n.setEndAfter(C);return}}while(C=r?h.next():h.prev());l.nodeName==="BODY"&&(r?n.setStart(l,0):n.setEnd(l,l.childNodes.length))},MT=e=>{const n=e.selection.getSel();return ke(n)&&n.rangeCount>0},kT=(e,n)=>{const o=Z1(e);o.length>0?mt(o,r=>{const l=r.dom,h=e.dom.createRng();h.setStartBefore(l),h.setEndAfter(l),n(h,!0)}):n(e.selection.getRng(),!1)},yE=(e,n,o)=>{const r=$_(e,n);o(r),e.moveToBookmark(r)},ry=e=>mn(e==null?void 0:e.nodeType),mp=e=>nn(e)&&!Qu(e)&&!Ws(e)&&!ol(e),xx=(e,n)=>{if(mp(n)&&!/^(TD|TH)$/.test(n.nodeName)){const o=e.getAttrib(n,"data-mce-selected"),r=parseInt(o,10);return!isNaN(r)&&r>0}else return!1},em=e=>e.isContentEditable===!0,Cg=(e,n,o)=>{const{selection:r,dom:l}=e,h=r.getNode(),v=Po(h);yE(r,!0,()=>{n()}),v&&Po(h)&&l.isChildOf(h,e.getBody())?e.selection.select(h):o(r.getStart())&&mR(l,r)},mR=(e,n)=>{var o,r;const l=n.getRng(),{startContainer:h,startOffset:v}=l,C=n.getNode();if(!xx(e,C)&&nn(h)){const A=h.childNodes,L=e.getRoot();let X;if(v<A.length){const Z=A[v];X=new ai(Z,(o=e.getParent(Z,e.isBlock))!==null&&o!==void 0?o:L)}else{const Z=A[A.length-1];X=new ai(Z,(r=e.getParent(Z,e.isBlock))!==null&&r!==void 0?r:L),X.next(!0)}for(let Z=X.current();Z;Z=X.next()){if(e.getContentEditable(Z)==="false")return;if(Ut(Z)&&!gb(Z)){l.setStart(Z,0),n.setRng(l);return}}}},Ax=(e,n,o)=>{if(e){const r=n?"nextSibling":"previousSibling";for(e=o?e:e[r];e;e=e[r])if(nn(e)||!gb(e))return e}},PT=(e,n)=>!!e.getTextBlockElements()[n.nodeName.toLowerCase()]||zf(e,n),pb=(e,n,o)=>e.schema.isValidChild(n,o),gb=(e,n=!1)=>{if(ke(e)&&Ut(e)){const o=n?e.data.replace(/ /g," "):e.data;return Hc(o)}else return!1},pR=e=>ke(e)&&Ut(e)&&e.length===0,gR=(e,n)=>{const o="[data-mce-cef-wrappable]",r=ib(e),l=si(r)?o:`${o},${r}`;return da(Ie.fromDom(n),l)},Ox=(e,n)=>{const o=e.dom;return mp(n)&&o.getContentEditable(n)==="false"&&gR(e,n)&&o.select('[contenteditable="true"]',n).length===0},Sg=(e,n)=>_e(e)?e(n):(ke(n)&&(e=e.replace(/%(\w+)/g,(o,r)=>n[r]||o)),e),LT=(e,n)=>(e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()),$T=(e,n)=>{if(yt(e))return null;{let o=String(e);return(n==="color"||n==="backgroundColor")&&(o=hb(o)),n==="fontWeight"&&e===700&&(o="bold"),n==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},_E=(e,n,o)=>{const r=e.getStyle(n,o);return $T(r,o)},K1=(e,n)=>{let o;return e.getParent(n,r=>nn(r)?(o=e.getStyle(r,"text-decoration"),!!o&&o!=="none"):!1),o},EE=(e,n,o)=>e.getParents(n,o,e.getRoot()),fn=(e,n,o)=>{const r=e.formatter.get(n);return ke(r)&&ko(r,o)},ja=(e,n)=>fn(e,n,r=>{const l=h=>_e(h)||h.length>1&&h.charAt(0)==="%";return ko(["styles","attributes"],h=>Xs(r,h).exists(v=>{const C=H(v)?v:qd(v);return ko(C,l)}))}),wE=(e,n,o)=>{const r=["inline","block","selector","attributes","styles","classes"],l=h=>ks(h,(v,C)=>ko(r,A=>A===C));return fn(e,n,h=>{const v=l(h);return fn(e,o,C=>{const A=l(C);return Ru(v,A)})})},kr=e=>Qa(e,"block"),yf=e=>kr(e)&&e.wrapper===!0,Rx=e=>kr(e)&&e.wrapper!==!0,tu=e=>Qa(e,"selector"),Ea=e=>Qa(e,"inline"),TE=e=>tu(e)&&Ea(e)&&Pe(Xs(e,"mixed"),!0),CE=e=>tu(e)&&e.expand!==!1&&!Ea(e),pp=Qu,Ix=EE,BT=gb,Dx=PT,FT=e=>hr(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,HT=(e,n)=>{let o=n;for(;o;){if(nn(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:n;o=o.parentNode}return n},VT=(e,n,o,r)=>{const l=n.data;if(e){for(let h=o;h>0;h--)if(r(l.charAt(h-1)))return h}else for(let h=o;h<l.length;h++)if(r(l.charAt(h)))return h;return-1},iy=(e,n,o)=>VT(e,n,o,r=>pE(r)||ny(r)),SE=(e,n,o)=>VT(e,n,o,AT),ay=(e,n,o,r,l,h)=>{let v;const C=e.getParent(o,e.isBlock)||n,A=(X,Z,se)=>{const xe=Cr(e),Re=l?xe.backwards:xe.forwards;return oe.from(Re(X,Z,(be,Ae)=>pp(be.parentNode)?-1:(v=be,se(l,be,Ae)),C))};return A(o,r,iy).bind(X=>h?A(X.container,X.offset+(l?-1:0),SE):oe.some(X)).orThunk(()=>v?oe.some({container:v,offset:l?0:v.length}):oe.none())},cy=(e,n,o,r,l)=>{const h=r[l];Ut(r)&&si(r.data)&&h&&(r=h);const v=Ix(e,r);for(let C=0;C<v.length;C++)for(let A=0;A<n.length;A++){const L=n[A];if(!(ke(L.collapsed)&&L.collapsed!==o.collapsed)&&tu(L)&&e.is(v[C],L.selector))return v[C]}return r},xE=(e,n,o,r)=>{var l;let h=o;const v=e.getRoot(),C=n[0];if(kr(C)&&(h=C.wrapper?null:e.getParent(o,C.block,v)),!h){const A=(l=e.getParent(o,"LI,TD,TH"))!==null&&l!==void 0?l:v;h=e.getParent(Ut(o)?o.parentNode:o,L=>L!==v&&Dx(e.schema,L),A)}if(h&&kr(C)&&C.wrapper&&(h=Ix(e,h,"ul,ol").reverse()[0]||h),!h)for(h=o;h&&h[r]&&!e.isBlock(h[r])&&(h=h[r],!LT(h,"br")););return h||o},Nx=(e,n,o,r)=>{const l=o.parentNode;return ke(o[r])?!1:l===n||yt(l)||e.isBlock(l)?!0:Nx(e,n,l,r)},gp=(e,n,o,r,l)=>{let h=o;const v=l?"previousSibling":"nextSibling",C=e.getRoot();if(Ut(o)&&!BT(o)&&(l?r>0:r<o.data.length))return o;for(;h;){if(!n[0].block_expand&&e.isBlock(h))return h;for(let A=h[v];A;A=A[v]){const L=Ut(A)&&!Nx(e,C,A,v);if(!pp(A)&&!FT(A)&&!BT(A,L))return h}if(h===C||h.parentNode===C){o=h;break}h=h.parentNode}return o},tm=e=>pp(e.parentNode)||pp(e),X1=(e,n,o,r=!1)=>{let{startContainer:l,startOffset:h,endContainer:v,endOffset:C}=n;const A=o[0];return nn(l)&&l.hasChildNodes()&&(l=Xf(l,h),Ut(l)&&(h=0)),nn(v)&&v.hasChildNodes()&&(v=Xf(v,n.collapsed?C:C-1),Ut(v)&&(C=v.data.length)),l=HT(e,l),v=HT(e,v),tm(l)&&(l=pp(l)?l:l.parentNode,n.collapsed?l=l.previousSibling||l:l=l.nextSibling||l,Ut(l)&&(h=n.collapsed?l.length:0)),tm(v)&&(v=pp(v)?v:v.parentNode,n.collapsed?v=v.nextSibling||v:v=v.previousSibling||v,Ut(v)&&(C=n.collapsed?0:v.length)),n.collapsed&&(ay(e,e.getRoot(),l,h,!0,r).each(({container:Z,offset:se})=>{l=Z,h=se}),ay(e,e.getRoot(),v,C,!1,r).each(({container:Z,offset:se})=>{v=Z,C=se})),(Ea(A)||A.block_expand)&&((!Ea(A)||!Ut(l)||h===0)&&(l=gp(e,o,l,h,!0)),(!Ea(A)||!Ut(v)||C===v.data.length)&&(v=gp(e,o,v,C,!1))),CE(A)&&(l=cy(e,o,n,l,"previousSibling"),v=cy(e,o,n,v,"nextSibling")),(kr(A)||tu(A))&&(l=xE(e,o,l,"previousSibling"),v=xE(e,o,v,"nextSibling"),kr(A)&&(e.isBlock(l)||(l=gp(e,o,l,h,!0)),e.isBlock(v)||(v=gp(e,o,v,C,!1)))),nn(l)&&l.parentNode&&(h=e.nodeIndex(l),l=l.parentNode),nn(v)&&v.parentNode&&(C=e.nodeIndex(v)+1,v=v.parentNode),{startContainer:l,startOffset:h,endContainer:v,endOffset:C}},vb=(e,n,o)=>{var r;const l=n.startOffset,h=Xf(n.startContainer,l),v=n.endOffset,C=Xf(n.endContainer,v-1),A=Ae=>{const Ve=Ae[0];Ut(Ve)&&Ve===h&&l>=Ve.data.length&&Ae.splice(0,1);const Be=Ae[Ae.length-1];return v===0&&Ae.length>0&&Be===C&&Ut(Be)&&Ae.splice(Ae.length-1,1),Ae},L=(Ae,Ve,Be)=>{const Ye=[];for(;Ae&&Ae!==Be;Ae=Ae[Ve])Ye.push(Ae);return Ye},X=(Ae,Ve)=>e.getParent(Ae,Be=>Be.parentNode===Ve,Ve),Z=(Ae,Ve,Be)=>{const Ye=Be?"nextSibling":"previousSibling";for(let it=Ae,St=it.parentNode;it&&it!==Ve;it=St){St=it.parentNode;const on=L(it===Ae?it:it[Ye],Ye);on.length&&(Be||on.reverse(),o(A(on)))}};if(h===C)return o(A([h]));const se=(r=e.findCommonAncestor(h,C))!==null&&r!==void 0?r:e.getRoot();if(e.isChildOf(h,C))return Z(h,se,!0);if(e.isChildOf(C,h))return Z(C,se);const xe=X(h,se)||h,Re=X(C,se)||C;Z(h,xe,!0);const be=L(xe===h?xe:xe.nextSibling,"nextSibling",Re===C?Re.nextSibling:Re);be.length&&o(A(be)),Z(C,Re)},UT=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],vR=e=>dr(e)&&Wr(e)===Ma,Mx=(e,n,o,r)=>Vo(n).fold(()=>"skipping",l=>r==="br"||vR(n)?"valid":T_(n)?"existing":Ws(n.dom)?"caret":ko(UT,h=>da(n,h))?"valid-block":!pb(e,o,r)||!pb(e,Vs(l),o)?"invalid-child":"valid"),AE=(e,n)=>{const o=X1(e.dom,n,[{inline:"span"}]);n.setStart(o.startContainer,o.startOffset),n.setEnd(o.endContainer,o.endOffset),e.selection.setRng(n)},kx=(e,n,o,r,l,h)=>{const{uid:v=n,...C}=o;fd(e,Uh()),ho(e,`${Kf()}`,v),ho(e,`${ug()}`,r);const{attributes:A={},classes:L=[]}=l(v,C);if(zr(e,A),A_(e,L),h){L.length>0&&ho(e,`${Zu()}`,L.join(","));const X=bi(A);X.length>0&&ho(e,`${zh()}`,X.join(","))}},OE=e=>{sc(e,Uh()),fr(e,`${Kf()}`),fr(e,`${ug()}`),fr(e,`${Kl()}`);const n=oc(e,`${zh()}`).map(r=>r.split(",")).getOr([]),o=oc(e,`${Zu()}`).map(r=>r.split(",")).getOr([]);mt(n,r=>fr(e,r)),jw(e,o),fr(e,`${Zu()}`),fr(e,`${zh()}`)},La=(e,n,o,r,l)=>{const h=Ie.fromTag("span",e);return kx(h,n,o,r,l,!1),h},_f=(e,n,o,r,l,h)=>{const v=[],C=La(e.getDoc(),o,h,r,l),A=oa(),L=()=>{A.clear()},X=()=>A.get().getOrThunk(()=>{const Re=Zm(C);return v.push(Re),A.set(Re),Re}),Z=Re=>{mt(Re,se)},se=Re=>{switch(Mx(e,Re,"span",Vs(Re))){case"invalid-child":{L();const Ae=ze(Re);Z(Ae),L();break}case"valid-block":{L(),kx(Re,o,h,r,l,!0);break}case"valid":{const Ae=X();Om(Re,Ae);break}}},xe=Re=>{const be=Yt(Re,Ie.fromDom);Z(be)};return vb(e.dom,n,Re=>{L(),xe(Re)}),v},Dd=(e,n,o,r)=>{e.undoManager.transact(()=>{const l=e.selection,h=l.getRng(),v=Z1(e).length>0,C=m0("mce-annotation");if(h.collapsed&&!v&&AE(e,h),l.getRng().collapsed&&!v){const A=La(e.getDoc(),C,r,n,o.decorate);Rm(A,ys),l.getRng().insertNode(A.dom),l.select(A.dom)}else yE(l,!1,()=>{kT(e,A=>{_f(e,A,C,n,o.decorate,r)})})})},ly=e=>{const n=S_();qw(e,n);const o=Gw(e,n),r=Fc("span"),l=h=>{mt(h,v=>{r(v)?Ua(v):OE(v)})};return{register:(h,v)=>{n.register(h,v)},annotate:(h,v)=>{n.lookup(h).each(C=>{Dd(e,h,C,v)})},annotationChanged:(h,v)=>{o.addListener(h,v)},remove:h=>{f0(e,oe.some(h)).each(({elements:v})=>{const C=e.selection.getBookmark();l(v),e.selection.moveToBookmark(C)})},removeAll:h=>{const v=e.selection.getBookmark();an(h0(e,h),(C,A)=>{l(C)}),e.selection.moveToBookmark(v)},getAll:h=>{const v=h0(e,h);return Ho(v,C=>Yt(C,A=>A.dom))}}},Eu=e=>({getBookmark:je(lR,e),moveToBookmark:je(Jh,e)});Eu.isBookmarkNode=Qu;const Px=(e,n,o)=>o.collapsed?!1:ko(o.getClientRects(),r=>Gv(r,e,n)),zT=(e,n)=>e.dispatch("PreProcess",n),WT=(e,n)=>e.dispatch("PostProcess",n),GT=e=>{e.dispatch("remove")},bR=e=>{e.dispatch("detach")},qT=(e,n)=>{e.dispatch("SwitchMode",{mode:n})},yR=(e,n,o,r,l)=>{e.dispatch("ObjectResizeStart",{target:n,width:o,height:r,origin:l})},_R=(e,n,o,r,l)=>{e.dispatch("ObjectResized",{target:n,width:o,height:r,origin:l})},jT=e=>{e.dispatch("PreInit")},ZT=e=>{e.dispatch("PostRender")},rr=e=>{e.dispatch("Init")},nm=(e,n)=>{e.dispatch("PlaceholderToggle",{state:n})},YT=(e,n,o)=>{e.dispatch(n,o)},KT=(e,n,o,r)=>{e.dispatch("FormatApply",{format:n,node:o,vars:r})},XT=(e,n,o,r)=>{e.dispatch("FormatRemove",{format:n,node:o,vars:r})},QT=(e,n)=>e.dispatch("BeforeSetContent",n),JT=(e,n)=>e.dispatch("SetContent",n),eC=(e,n)=>e.dispatch("BeforeGetContent",n),tC=(e,n)=>e.dispatch("GetContent",n),ER=(e,n)=>{e.dispatch("AutocompleterStart",n)},Lx=(e,n)=>{e.dispatch("AutocompleterUpdate",n)},wR=e=>{e.dispatch("AutocompleterEnd")},nC=(e,n,o)=>e.dispatch("PastePreProcess",{content:n,internal:o}),TR=(e,n,o)=>e.dispatch("PastePostProcess",{node:n,internal:o}),xg=(e,n)=>e.dispatch("PastePlainTextToggle",{state:n}),Cn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Cn.metaKeyPressed(e),metaKeyPressed:e=>Do.os.isMacOS()||Do.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},vp="data-mce-selected",CR="table,img,figure.image,hr,video,span.mce-preview-object",qi=Math.abs,Si=Math.round,Ag={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},RE=e=>e.type==="longpress"||e.type.indexOf("touch")===0,$x=(e,n)=>{const o=n.dom,r=n.getDoc(),l=document,h=n.getBody();let v,C,A,L,X,Z,se,xe,Re,be,Ae,Ve,Be,Ye,it,St,on;const jt=hn=>ke(hn)&&(jp(hn)||o.is(hn,"figure.image")),ht=hn=>or(hn)||o.hasClass(hn,"mce-preview-object"),ft=(hn,Wo)=>{if(RE(hn)){const Go=hn.touches[0];return jt(hn.target)&&!Px(Go.clientX,Go.clientY,Wo)}else return jt(hn.target)&&!Px(hn.clientX,hn.clientY,Wo)},bn=hn=>{const Wo=hn.target;ft(hn,n.selection.getRng())&&!hn.isDefaultPrevented()&&n.selection.select(Wo)},Ln=hn=>o.hasClass(hn,"mce-preview-object")&&ke(hn.firstElementChild)?[hn,hn.firstElementChild]:o.is(hn,"figure.image")?[hn.querySelector("img")]:[hn],Gn=hn=>{const Wo=G_(n);return!Wo||hn.getAttribute("data-mce-resize")==="false"||hn===n.getBody()?!1:o.hasClass(hn,"mce-preview-object")&&ke(hn.firstElementChild)?da(Ie.fromDom(hn.firstElementChild),Wo):da(Ie.fromDom(hn),Wo)},wo=hn=>ht(hn)?o.create("img",{src:Do.transparentSrc}):hn.cloneNode(!0),Qo=(hn,Wo,Go)=>{if(ke(Go)){const pc=Ln(hn);mt(pc,Vr=>{Vr.style[Wo]||!n.schema.isValid(Vr.nodeName.toLowerCase(),Wo)?o.setStyle(Vr,Wo,Go):o.setAttrib(Vr,Wo,""+Go)})}},Ds=(hn,Wo,Go)=>{Qo(hn,"width",Wo),Qo(hn,"height",Go)},ar=hn=>{let Wo,Go,pc,Vr,po;Wo=hn.screenX-Z,Go=hn.screenY-se,Ye=Wo*L[2]+be,it=Go*L[3]+Ae,Ye=Ye<5?5:Ye,it=it<5?5:it,(jt(v)||ht(v))&&q_(n)!==!1?pc=!Cn.modifierPressed(hn):pc=Cn.modifierPressed(hn),pc&&(qi(Wo)>qi(Go)?(it=Si(Ye*Ve),Ye=Si(it/Ve)):(Ye=Si(it/Ve),it=Si(Ye*Ve))),Ds(C,Ye,it),Vr=L.startPos.x+Wo,po=L.startPos.y+Go,Vr=Vr>0?Vr:0,po=po>0?po:0,o.setStyles(A,{left:Vr,top:po,display:"block"}),A.innerHTML=Ye+" &times; "+it,L[2]<0&&C.clientWidth<=Ye&&o.setStyle(C,"left",xe+(be-Ye)),L[3]<0&&C.clientHeight<=it&&o.setStyle(C,"top",Re+(Ae-it)),Wo=h.scrollWidth-St,Go=h.scrollHeight-on,Wo+Go!==0&&o.setStyles(A,{left:Vr-Wo,top:po-Go}),Be||(yR(n,v,be,Ae,"corner-"+L.name),Be=!0)},Ri=()=>{const hn=Be;Be=!1,hn&&(Qo(v,"width",Ye),Qo(v,"height",it)),o.unbind(r,"mousemove",ar),o.unbind(r,"mouseup",Ri),l!==r&&(o.unbind(l,"mousemove",ar),o.unbind(l,"mouseup",Ri)),o.remove(C),o.remove(A),o.remove(X),kc(v),hn&&(_R(n,v,Ye,it,"corner-"+L.name),o.setAttrib(v,"style",o.getAttrib(v,"style"))),n.nodeChanged()},kc=hn=>{un();const Wo=o.getPos(hn,h),Go=Wo.x,pc=Wo.y,Vr=hn.getBoundingClientRect(),po=Vr.width||Vr.right-Vr.left,ps=Vr.height||Vr.bottom-Vr.top;v!==hn&&(Gt(),v=hn,Ye=it=0);const Ks=n.dispatch("ObjectSelected",{target:hn});Gn(hn)&&!Ks.isDefaultPrevented()?an(Ag,(cr,mi)=>{const Zi=wa=>{const ch=Ln(v)[0];Z=wa.screenX,se=wa.screenY,be=ch.clientWidth,Ae=ch.clientHeight,Ve=Ae/be,L=cr,L.name=mi,L.startPos={x:po*cr[0]+Go,y:ps*cr[1]+pc},St=h.scrollWidth,on=h.scrollHeight,X=o.add(h,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(X,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),C=wo(v),o.addClass(C,"mce-clonedresizable"),o.setAttrib(C,"data-mce-bogus","all"),C.contentEditable="false",o.setStyles(C,{left:Go,top:pc,margin:0}),Ds(C,po,ps),C.removeAttribute(vp),h.appendChild(C),o.bind(r,"mousemove",ar),o.bind(r,"mouseup",Ri),l!==r&&(o.bind(l,"mousemove",ar),o.bind(l,"mouseup",Ri)),A=o.add(h,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},be+" &times; "+Ae)};let qr=o.get("mceResizeHandle"+mi);qr&&o.remove(qr),qr=o.add(h,"div",{id:"mceResizeHandle"+mi,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+mi+"-resize; margin:0; padding:0"}),o.bind(qr,"mousedown",wa=>{wa.stopImmediatePropagation(),wa.preventDefault(),Zi(wa)}),cr.elm=qr,o.setStyles(qr,{left:po*cr[0]+Go-qr.offsetWidth/2,top:ps*cr[1]+pc-qr.offsetHeight/2})}):Gt(!1)},Ka=gu(kc,0),Gt=(hn=!0)=>{Ka.cancel(),un(),v&&hn&&v.removeAttribute(vp),an(Ag,(Wo,Go)=>{const pc=o.get("mceResizeHandle"+Go);pc&&(o.unbind(pc),o.remove(pc))})},Rn=(hn,Wo)=>o.isChildOf(hn,Wo),hs=hn=>{if(Be||n.removed||n.composing)return;const Wo=hn.type==="mousedown"?hn.target:e.getNode(),Go=Vl(Ie.fromDom(Wo),CR).map(Vr=>Vr.dom).filter(Vr=>o.isEditable(Vr.parentElement)).getOrUndefined(),pc=ke(Go)?o.getAttrib(Go,vp,"1"):"1";if(mt(o.select(`img[${vp}],hr[${vp}]`),Vr=>{Vr.removeAttribute(vp)}),ke(Go)&&Rn(Go,h)){Vn();const Vr=e.getStart(!0);if(Rn(Vr,Go)&&Rn(e.getEnd(!0),Go)){o.setAttrib(Go,vp,pc),Ka.throttle(Go);return}}Gt()},un=()=>{an(Ag,hn=>{hn.elm&&(o.unbind(hn.elm),delete hn.elm)})},Vn=()=>{try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return n.on("init",()=>{Vn(),n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",hs),n.on("keyup compositionend",hn=>{v&&v.nodeName==="TABLE"&&hs(hn)}),n.on("hide blur",Gt),n.on("contextmenu longpress",bn,!0)}),n.on("remove",un),{isResizable:Gn,showResizeRect:kc,hideResizeRect:Gt,updateResizeRect:hs,destroy:()=>{Ka.cancel(),v=C=X=null}}},SR=(e,n)=>{n.fold(o=>{e.setStartBefore(o.dom)},(o,r)=>{e.setStart(o.dom,r)},o=>{e.setStartAfter(o.dom)})},Xo=(e,n)=>{n.fold(o=>{e.setEndBefore(o.dom)},(o,r)=>{e.setEnd(o.dom,r)},o=>{e.setEndAfter(o.dom)})},Bx=(e,n,o)=>{const r=e.document.createRange();return SR(r,n),Xo(r,o),r},IE=(e,n,o,r,l)=>{const h=e.document.createRange();return h.setStart(n.dom,o),h.setEnd(r.dom,l),h},Q1=Xu.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Fx=(e,n,o)=>n(Ie.fromDom(o.startContainer),o.startOffset,Ie.fromDom(o.endContainer),o.endOffset),xR=(e,n)=>n.match({domRange:o=>({ltr:tt(o),rtl:oe.none}),relative:(o,r)=>({ltr:hl(()=>Bx(e,o,r)),rtl:hl(()=>oe.some(Bx(e,r,o)))}),exact:(o,r,l,h)=>({ltr:hl(()=>IE(e,o,r,l,h)),rtl:hl(()=>oe.some(IE(e,l,h,o,r)))})}),oC=(e,n)=>{const o=n.ltr();return o.collapsed?n.rtl().filter(l=>l.collapsed===!1).map(l=>Q1.rtl(Ie.fromDom(l.endContainer),l.endOffset,Ie.fromDom(l.startContainer),l.startOffset)).getOrThunk(()=>Fx(e,Q1.ltr,o)):Fx(e,Q1.ltr,o)},AR=(e,n)=>{const o=xR(e,n);return oC(e,o)};Q1.ltr,Q1.rtl;const Hx={create:(e,n,o,r)=>({start:e,soffset:n,finish:o,foffset:r})},sC=(e,n,o)=>{var r,l;return oe.from((l=(r=e.dom).caretPositionFromPoint)===null||l===void 0?void 0:l.call(r,n,o)).bind(h=>{if(h.offsetNode===null)return oe.none();const v=e.dom.createRange();return v.setStart(h.offsetNode,h.offset),v.collapse(),oe.some(v)})},rC=(e,n,o)=>{var r,l;return oe.from((l=(r=e.dom).caretRangeFromPoint)===null||l===void 0?void 0:l.call(r,n,o))},Vx=(()=>document.caretPositionFromPoint?sC:document.caretRangeFromPoint?rC:oe.none)(),mk=(e,n,o)=>{const r=Ie.fromDom(e.document);return Vx(r,n,o).map(l=>Hx.create(Ie.fromDom(l.startContainer),l.startOffset,Ie.fromDom(l.endContainer),l.endOffset))},DE=Xu.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),n6=(e,n,o,r)=>e.fold(n,o,r),OR=e=>e.fold(qt,qt,qt),RR=DE.before,pk=DE.on,no=DE.after,bp={before:RR,on:pk,after:no,cata:n6,getStart:OR},iC=Xu.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),IR=e=>iC.exact(e.start,e.soffset,e.finish,e.foffset),uy=e=>e.match({domRange:n=>Ie.fromDom(n.startContainer),relative:(n,o)=>bp.getStart(n),exact:(n,o,r,l)=>n}),gk=iC.domRange,NE=iC.relative,DR=iC.exact,NR=e=>{const n=uy(e);return _o(n)},aC=Hx.create,bb={domRange:gk,relative:NE,exact:DR,exactFromRange:IR,getWin:NR,range:aC},yb=(e,n)=>{const o=Vs(e);return o==="input"?bp.after(e):kn(["br","img"],o)?n===0?bp.before(e):bp.after(e):bp.on(e,n)},cC=(e,n)=>{const o=e.fold(bp.before,yb,bp.after),r=n.fold(bp.before,yb,bp.after);return bb.relative(o,r)},ME=(e,n,o,r)=>{const l=yb(e,n),h=yb(o,r);return bb.relative(l,h)},lC=e=>e.match({domRange:n=>{const o=Ie.fromDom(n.startContainer),r=Ie.fromDom(n.endContainer);return ME(o,n.startOffset,r,n.endOffset)},relative:cC,exact:ME}),uC=(e,n)=>{const r=(n||document).createDocumentFragment();return mt(e,l=>{r.appendChild(l.dom)}),Ie.fromDom(r)},MR=e=>{const n=bb.getWin(e).dom,o=(l,h,v,C)=>IE(n,l,h,v,C),r=lC(e);return AR(n,r).match({ltr:o,rtl:o})},kE=(e,n,o)=>mk(e,n,o),dC=(e,n,o)=>{const r=_o(Ie.fromDom(o));return kE(r.dom,e,n).map(l=>{const h=o.createRange();return h.setStart(l.start.dom,l.soffset),h.setEnd(l.finish.dom,l.foffset),h}).getOrUndefined()},fC=(e,n)=>ke(e)&&ke(n)&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset,ms=(e,n,o)=>{let r=e;for(;r&&r!==n;){if(o(r))return r;r=r.parentNode}return null},Ux=(e,n,o)=>ms(e,n,o)!==null,om=(e,n,o)=>Ux(e,n,r=>r.nodeName===o),nh=(e,n)=>wl(e)&&!Ux(e,n,Ws),dy=(e,n,o)=>{const r=n.parentNode;if(r){const l=new ai(n,e.getParent(r,e.isBlock)||e.getRoot());let h;for(;h=l[o?"prev":"next"]();)if(hr(h))return!0}return!1},wu=(e,n)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===n},PE=(e,n)=>{let o=n;for(;o&&o!==e;){if(Po(o))return!0;o=o.parentNode}return!1},J1=(e,n,o,r,l)=>{const h=e.getRoot(),v=e.schema.getNonEmptyElements(),C=l.parentNode;let A,L;if(!C)return oe.none();const X=e.getParent(C,e.isBlock)||h;if(r&&hr(l)&&n&&e.isEmpty(X))return oe.some(Ke(C,e.nodeIndex(l)));const Z=new ai(l,X);for(;L=Z[r?"prev":"next"]();){if(e.getContentEditableParent(L)==="false"||nh(L,h))return oe.none();if(Ut(L)&&L.data.length>0)return om(L,h,"A")?oe.none():oe.some(Ke(L,r?L.data.length:0));if(e.isBlock(L)||v[L.nodeName.toLowerCase()])return oe.none();A=L}return Wa(A)?oe.none():o&&A?oe.some(Ke(A,0)):oe.none()},fy=(e,n,o,r)=>{const l=e.getRoot();let h,v=!1,C=o?r.startContainer:r.endContainer,A=o?r.startOffset:r.endOffset;const L=nn(C)&&A===C.childNodes.length,X=e.schema.getNonEmptyElements();let Z=o;if(wl(C))return oe.none();if(nn(C)&&A>C.childNodes.length-1&&(Z=!1),bd(C)&&(C=l,A=0),C===l){if(Z&&(h=C.childNodes[A>0?A-1:0],h&&(wl(h)||X[h.nodeName]||Dr(h))))return oe.none();if(C.hasChildNodes()){if(A=Math.min(!Z&&A>0?A-1:A,C.childNodes.length-1),C=C.childNodes[A],A=Ut(C)&&L?C.data.length:0,!n&&C===l.lastChild&&Dr(C)||PE(l,C)||wl(C))return oe.none();if(C.hasChildNodes()&&!Dr(C)){h=C;const se=new ai(C,l);do{if(Po(h)||wl(h)){v=!1;break}if(Ut(h)&&h.data.length>0){A=Z?0:h.data.length,C=h,v=!0;break}if(X[h.nodeName.toLowerCase()]&&!Cc(h)){A=e.nodeIndex(h),C=h.parentNode,Z||A++,v=!0;break}}while(h=Z?se.next():se.prev())}}}return n&&(Ut(C)&&A===0&&J1(e,L,n,!0,C).each(se=>{C=se.container(),A=se.offset(),v=!0}),nn(C)&&(h=C.childNodes[A],h||(h=C.childNodes[A-1]),h&&hr(h)&&!wu(h,"A")&&!dy(e,h,!1)&&!dy(e,h,!0)&&J1(e,L,n,!0,h).each(se=>{C=se.container(),A=se.offset(),v=!0}))),Z&&!n&&Ut(C)&&A===C.data.length&&J1(e,L,n,!1,C).each(se=>{C=se.container(),A=se.offset(),v=!0}),v&&C?oe.some(Ke(C,A)):oe.none()},yp=(e,n)=>{const o=n.collapsed,r=n.cloneRange(),l=Ke.fromRangeStart(n);return fy(e,o,!0,r).each(h=>{(!o||!Ke.isAbove(l,h))&&r.setStart(h.container(),h.offset())}),o||fy(e,o,!1,r).each(h=>{r.setEnd(h.container(),h.offset())}),o&&r.collapse(!0),fC(n,r)?oe.none():oe.some(r)},hC=(e,n)=>e.splitText(n),LE=e=>{let n=e.startContainer,o=e.startOffset,r=e.endContainer,l=e.endOffset;if(n===r&&Ut(n)){if(o>0&&o<n.data.length)if(r=hC(n,o),n=r.previousSibling,l>o){l=l-o;const h=hC(r,l).previousSibling;n=r=h,l=h.data.length,o=0}else l=0}else if(Ut(n)&&o>0&&o<n.data.length&&(n=hC(n,o),o=0),Ut(r)&&l>0&&l<r.data.length){const h=hC(r,l).previousSibling;r=h,l=h.data.length}return{startContainer:n,startOffset:o,endContainer:r,endOffset:l}},_b=e=>({walk:(h,v)=>vb(e,h,v),split:LE,expand:(h,v={type:"word"})=>{if(v.type==="word"){const C=X1(e,h,[{inline:"span"}]),A=e.createRng();return A.setStart(C.startContainer,C.startOffset),A.setEnd(C.endContainer,C.endOffset),A}return h},normalize:h=>yp(e,h).fold(et,v=>(h.setStart(v.startContainer,v.startOffset),h.setEnd(v.endContainer,v.endOffset),!0))});_b.compareRanges=fC,_b.getCaretRangeFromPoint=dC,_b.getSelectedNode=Al,_b.getNode=Xf;const rs=((e,n)=>{const o=(C,A)=>{if(!mn(A)&&!A.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+A);const L=C.dom;fa(L)&&(L.style[e]=A+"px")},r=C=>{const A=n(C);if(A<=0||A===null){const L=$u(C,e);return parseFloat(L)||0}return A},l=r,h=(C,A)=>Ns(A,(L,X)=>{const Z=$u(C,X),se=Z===void 0?0:parseInt(Z,10);return isNaN(se)?L:L+se},0);return{set:o,get:r,getOuter:l,aggregate:h,max:(C,A,L)=>{const X=h(C,L);return A>X?A-X:0}}})("height",e=>{const n=e.dom;return Qs(e)?n.getBoundingClientRect().height:n.offsetHeight}),Ef=e=>rs.get(e),ev=()=>Ie.fromDom(document),zx=(e,n)=>e.view(n).fold(tt([]),r=>{const l=e.owner(r),h=zx(e,l);return[r].concat(h)}),hy=(e,n)=>{const o=n.owner(e);return zx(n,o)};var Gx=Object.freeze({__proto__:null,view:e=>{var n;return(e.dom===document?oe.none():oe.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement)).map(Ie.fromDom)},owner:e=>At(e)});const mC=e=>{const n=ev(),o=c1(n),r=hy(e,Gx),l=Fu(e),h=Lr(r,(v,C)=>{const A=Fu(C);return{left:v.left+A.left,top:v.top+A.top}},{left:0,top:0});return ma(h.left+l.left+o.left,h.top+l.top+o.top)},pC=e=>Vs(e)==="textarea",Eb=(e,n)=>e.dispatch("ScrollIntoView",n).isDefaultPrevented(),tv=(e,n)=>{e.dispatch("AfterScrollIntoView",n)},qx=(e,n)=>{const o=ze(e);if(o.length===0||pC(e))return{element:e,offset:n};if(n<o.length&&!pC(o[n]))return{element:o[n],offset:0};{const r=o[o.length-1];return pC(r)?{element:e,offset:n}:Vs(r)==="img"?{element:r,offset:1}:dr(r)?{element:r,offset:Wr(r).length}:{element:r,offset:ze(r).length}}},d=(e,n)=>{const o=e0(e),r=Ef(e);return{element:e,bottom:o.top+r,height:r,pos:o,cleanup:n}},g=(e,n)=>{const o=qx(e,n),r=Ie.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Ma+"</span>");return us(o.element,r),d(r,()=>wr(r))},E=e=>d(Ie.fromDom(e),Ot),x=(e,n,o,r)=>{pe(e,(l,h)=>z(e,n,o,r),o)},k=(e,n,o,r,l)=>{const h={elm:r.element.dom,alignToTop:l};if(Eb(e,h))return;const v=c1(n).top;o(n,v,r,l),tv(e,h)},z=(e,n,o,r)=>{const l=Ie.fromDom(e.getBody()),h=Ie.fromDom(e.getDoc());Am(l);const v=g(Ie.fromDom(o.startContainer),o.startOffset);k(e,h,n,v,r),v.cleanup()},ee=(e,n,o,r)=>{const l=Ie.fromDom(e.getDoc());k(e,l,o,E(n),r)},pe=(e,n,o)=>{const r=o.startContainer,l=o.startOffset,h=o.endContainer,v=o.endOffset;n(Ie.fromDom(r),Ie.fromDom(h));const C=e.dom.createRng();C.setStart(r,l),C.setEnd(h,v),e.selection.setRng(o)},Ce=(e,n,o,r)=>{const l=e.pos;if(o)za(l.left,l.top,r);else{const h=l.top-n+e.height;za(l.left,h,r)}},Ne=(e,n,o,r,l)=>{const h=o+n,v=r.pos.top,C=r.bottom,A=C-v>=o;v<n?Ce(r,o,l!==!1,e):v>h?Ce(r,o,A?l!==!1:l===!0,e):C>h&&!A&&Ce(r,o,l===!0,e)},Xe=(e,n,o,r)=>{const l=_o(e).dom.innerHeight;Ne(e,n,l,o,r)},$t=(e,n,o,r)=>{const l=_o(e).dom.innerHeight;Ne(e,n,l,o,r);const h=mC(o.element),v=$f(window);h.top<v.y?Lf(o.element,r!==!1):h.top>v.bottom&&Lf(o.element,r===!0)},cn=(e,n,o)=>x(e,Xe,n,o),tn=(e,n,o)=>ee(e,n,Xe,o),Tt=(e,n,o)=>x(e,$t,n,o),rn=(e,n,o)=>ee(e,n,$t,o),Et=(e,n,o)=>{(e.inline?tn:rn)(e,n,o)},wn=(e,n,o)=>{(e.inline?cn:Tt)(e,n,o)},Qn=e=>e.dom.focus(),yo=e=>{const n=so(e).dom;return e.dom===n.activeElement},ir=(e=ev())=>oe.from(e.dom.activeElement).map(Ie.fromDom),hc=e=>ir(so(e)).filter(n=>e.dom.contains(n.dom)),fi=(e,n)=>{const o=dr(n)?Wr(n).length:ze(n).length+1;return e>o?o:e<0?0:e},Tu=e=>bb.range(e.start,fi(e.soffset,e.start),e.finish,fi(e.foffset,e.finish)),Og=(e,n)=>!Pn(n.dom)&&(Je(e,n)||ns(e,n)),my=e=>n=>Og(e,n.start)&&Og(e,n.finish),gC=e=>e.inline||Do.browser.isFirefox(),$E=e=>bb.range(Ie.fromDom(e.startContainer),e.startOffset,Ie.fromDom(e.endContainer),e.endOffset),Ys=e=>{const n=e.getSelection();return(!n||n.rangeCount===0?oe.none():oe.from(n.getRangeAt(0))).map($E)},Rl=e=>{const n=_o(e);return Ys(n.dom).filter(my(e))},Il=(e,n)=>oe.from(n).filter(my(e)).map(Tu),wf=e=>{const n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),oe.some(n)}catch{return oe.none()}},Cu=e=>{const n=gC(e)?Rl(Ie.fromDom(e.getBody())):oe.none();e.bookmark=n.isSome()?n:e.bookmark},Rg=e=>(e.bookmark?e.bookmark:oe.none()).bind(o=>Il(Ie.fromDom(e.getBody()),o)).bind(wf),Dl=e=>{Rg(e).each(n=>e.selection.setRng(n))},wb={isEditorUIElement:e=>{const n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1}},Nd=(e,n)=>(mn(n)||(n=0),setTimeout(e,n)),Mc=(e,n)=>(mn(n)||(n=0),setInterval(e,n)),Md={setEditorTimeout:(e,n,o)=>Nd(()=>{e.removed||n()},o),setEditorInterval:(e,n,o)=>{const r=Mc(()=>{e.removed?clearInterval(r):n()},o);return r}},Zx=e=>e.type==="nodechange"&&e.selectionChange,Yx=(e,n)=>{const o=()=>{n.throttle()};sr.DOM.bind(document,"mouseup",o),e.on("remove",()=>{sr.DOM.unbind(document,"mouseup",o)})},kR=(e,n)=>{e.on("mouseup touchend",o=>{n.throttle()})},PR=(e,n)=>{kR(e,n),e.on("keyup NodeChange AfterSetSelectionRange",o=>{Zx(o)||Cu(e)})},vC=e=>{const n=gu(()=>{Cu(e)},0);e.on("init",()=>{e.inline&&Yx(e,n),PR(e,n)}),e.on("remove",()=>{n.cancel()})};let Tb;const nv=sr.DOM,vk=e=>nn(e)&&wb.isEditorUIElement(e),Kx=e=>{const n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},py=(e,n)=>{const o=$1(e);return nv.getParent(n,l=>vk(l)||(o?e.dom.is(l,o):!1))!==null},LR=e=>{try{const n=so(Ie.fromDom(e.getElement()));return ir(n).fold(()=>document.body,o=>o.dom)}catch{return document.body}},s6=(e,n)=>{const o=n.editor;vC(o);const r=(l,h)=>{if(tE(l)&&l.inline!==!0){const v=Ie.fromDom(l.getContainer());h(v,"tox-edit-focus")}};o.on("focusin",()=>{const l=e.focusedEditor;Kx(LR(o))&&r(o,fd),l!==o&&(l&&l.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:l}),o.focus(!0))}),o.on("focusout",()=>{Md.setEditorTimeout(o,()=>{const l=e.focusedEditor;(!Kx(LR(o))||l!==o)&&r(o,sc),!py(o,LR(o))&&l===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Tb||(Tb=l=>{const h=e.activeEditor;h&&$i(l).each(v=>{const C=v;C.ownerDocument===document&&C!==document.body&&!py(h,C)&&e.focusedEditor===h&&(h.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},nv.bind(document,"focusin",Tb))},$R=(e,n)=>{e.focusedEditor===n.editor&&(e.focusedEditor=null),!e.activeEditor&&Tb&&(nv.unbind(document,"focusin",Tb),Tb=null)},r6=e=>{e.on("AddEditor",je(s6,e)),e.on("RemoveEditor",je($R,e))},bk=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="true"),yk=e=>e.collapsed?oe.from(Xf(e.startContainer,e.startOffset)).map(Ie.fromDom):oe.none(),_k=(e,n)=>yk(n).bind(o=>ta(o)?oe.some(o):Je(e,o)?oe.none():oe.some(e)),Ek=(e,n)=>{_k(Ie.fromDom(e.getBody()),n).bind(o=>ei(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},BR=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},i6=e=>yo(e)||hc(e).isSome(),a6=e=>ke(e.iframeElement)&&yo(Ie.fromDom(e.iframeElement)),Xx=e=>{const n=e.getBody();return n&&i6(Ie.fromDom(n))},wk=e=>{const n=so(Ie.fromDom(e.getElement()));return ir(n).filter(o=>!Kx(o.dom)&&py(e,o.dom)).isSome()},Cb=e=>e.inline?Xx(e):a6(e),Tk=e=>Cb(e)||wk(e),Ck=e=>{const n=e.selection,o=e.getBody();let r=n.getRng();e.quirks.refreshContentEditable(),ke(e.bookmark)&&!Cb(e)&&Rg(e).each(h=>{e.selection.setRng(h),r=h});const l=bk(e,n.getNode());if(l&&e.dom.isChildOf(l,o)){BR(l),Ek(e,r),FR(e);return}e.inline||(Do.browser.isOpera()||BR(o),e.getWin().focus()),(Do.browser.isFirefox()||e.inline)&&(BR(o),Ek(e,r)),FR(e)},FR=e=>e.editorManager.setActive(e),c6=(e,n)=>{e.removed||(n?FR(e):Ck(e))},Sk=(e,n,o,r,l)=>{const h=o?n.startContainer:n.endContainer,v=o?n.startOffset:n.endOffset;return oe.from(h).map(Ie.fromDom).map(C=>!r||!n.collapsed?Ht(C,l(C,v)).getOr(C):C).bind(C=>is(C)?oe.some(C):Vo(C).filter(is)).map(C=>C.dom).getOr(e)},xk=(e,n,o=!1)=>Sk(e,n,!0,o,(r,l)=>Math.min(Xt(r),l)),Ak=(e,n,o=!1)=>Sk(e,n,!1,o,(r,l)=>l>0?l-1:l),Ok=(e,n)=>{const o=e;for(;e&&Ut(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||o},l6=(e,n)=>{if(!n)return e;let o=n.startContainer,r=n.endContainer;const l=n.startOffset,h=n.endOffset;let v=n.commonAncestorContainer;n.collapsed||(o===r&&h-l<2&&o.hasChildNodes()&&(v=o.childNodes[l]),Ut(o)&&Ut(r)&&(o.length===l?o=Ok(o.nextSibling,!0):o=o.parentNode,h===0?r=Ok(r.previousSibling,!1):r=r.parentNode,o&&o===r&&(v=o)));const C=Ut(v)?v.parentNode:v;return nn(C)?C:e},u6=(e,n,o,r)=>{const l=[],h=e.getRoot(),v=e.getParent(o||xk(h,n,n.collapsed),e.isBlock),C=e.getParent(r||Ak(h,n,n.collapsed),e.isBlock);if(v&&v!==h&&l.push(v),v&&C&&v!==C){let A;const L=new ai(v,h);for(;(A=L.next())&&A!==C;)e.isBlock(A)&&l.push(A)}return C&&v!==C&&C!==h&&l.push(C),l},d6=(e,n,o)=>oe.from(n).bind(r=>oe.from(r.parentNode).map(l=>{const h=e.nodeIndex(r),v=e.createRng();return v.setStart(l,h),v.setEnd(l,h+1),o&&(bE(e,v,r,!0),bE(e,v,r,!1)),v})),HR=(e,n)=>Yt(n,o=>{const r=e.dispatch("GetSelectionRange",{range:o});return r.range!==o?r.range:o}),f6=e=>Vs(e)==="img"?1:Gl(e).fold(()=>ze(e).length,n=>n.length),h6=e=>Gl(e).filter(n=>n.trim().length!==0||n.indexOf(ys)>-1).isSome(),Qx=e=>Ei(e)&&Pi(e,"contenteditable")==="false",Rk=["img","br"],VR=e=>h6(e)||kn(Rk,Vs(e))||Qx(e),m6=e=>s1(e,VR),p6=e=>g6(e,VR),g6=(e,n)=>{const o=r=>{const l=ze(r);for(let h=l.length-1;h>=0;h--){const v=l[h];if(n(v))return oe.some(v);const C=o(v);if(C.isSome())return C}return oe.none()};return o(e)},Ik="[data-mce-autocompleter]",v6=(e,n)=>{if(UR(Ie.fromDom(e.getBody())).isNone()){const o=Ie.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());Er(o,Ie.fromDom(n.extractContents())),n.insertNode(o.dom),Vo(o).each(r=>r.dom.normalize()),p6(o).map(r=>{e.selection.setCursorLocation(r.dom,f6(r))})}},b6=e=>Vl(e,Ik),UR=e=>Yd(e,Ik),y6=(e,n)=>UR(n).each(o=>{const r=e.selection.getBookmark();Ua(o),e.selection.moveToBookmark(r)}),Dk={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},bC=(e,n,o)=>{const r=o?"lastChild":"firstChild",l=o?"prev":"next";if(e[r])return e[r];if(e!==n){let h=e[l];if(h)return h;for(let v=e.parent;v&&v!==n;v=v.parent)if(h=v[l],h)return h}},_6=e=>{var n;const o=(n=e.value)!==null&&n!==void 0?n:"";if(!Hc(o))return!1;const r=e.parent;return!(r&&(r.name!=="span"||r.attr("style"))&&/^[ ]+$/.test(o))},Nk=e=>{const n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n};class Ju{constructor(n,o){this.name=n,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}static create(n,o){const r=new Ju(n,Dk[n]||1);return o&&an(o,(l,h)=>{r.attr(h,l)}),r}replace(n){const o=this;return n.parent&&n.remove(),o.insert(n,o),o.remove(),o}attr(n,o){const r=this;if(!K(n))return ke(n)&&an(n,(h,v)=>{r.attr(v,h)}),r;const l=r.attributes;if(l){if(o!==void 0){if(o===null){if(n in l.map){delete l.map[n];let h=l.length;for(;h--;)if(l[h].name===n)return l.splice(h,1),r}return r}if(n in l.map){let h=l.length;for(;h--;)if(l[h].name===n){l[h].value=o;break}}else l.push({name:n,value:o});return l.map[n]=o,r}return l.map[n]}}clone(){const n=this,o=new Ju(n.name,n.type),r=n.attributes;if(r){const l=[];l.map={};for(let h=0,v=r.length;h<v;h++){const C=r[h];C.name!=="id"&&(l[l.length]={name:C.name,value:C.value},l.map[C.name]=C.value)}o.attributes=l}return o.value=n.value,o}wrap(n){const o=this;return o.parent&&(o.parent.insert(n,o),n.append(o)),o}unwrap(){const n=this;for(let o=n.firstChild;o;){const r=o.next;n.insert(o,n,!0),o=r}n.remove()}remove(){const n=this,o=n.parent,r=n.next,l=n.prev;return o&&(o.firstChild===n?(o.firstChild=r,r&&(r.prev=null)):l&&(l.next=r),o.lastChild===n?(o.lastChild=l,l&&(l.next=null)):r&&(r.prev=l),n.parent=n.next=n.prev=null),n}append(n){const o=this;n.parent&&n.remove();const r=o.lastChild;return r?(r.next=n,n.prev=r,o.lastChild=n):o.lastChild=o.firstChild=n,n.parent=o,n}insert(n,o,r){n.parent&&n.remove();const l=o.parent||this;return r?(o===l.firstChild?l.firstChild=n:o.prev&&(o.prev.next=n),n.prev=o.prev,n.next=o,o.prev=n):(o===l.lastChild?l.lastChild=n:o.next&&(o.next.prev=n),n.next=o.next,n.prev=o,o.next=n),n.parent=l,n}getAll(n){const o=this,r=[];for(let l=o.firstChild;l;l=bC(l,o))l.name===n&&r.push(l);return r}children(){const n=this,o=[];for(let r=n.firstChild;r;r=r.next)o.push(r);return o}empty(){const n=this;if(n.firstChild){const o=[];for(let l=n.firstChild;l;l=bC(l,n))o.push(l);let r=o.length;for(;r--;){const l=o[r];l.parent=l.firstChild=l.lastChild=l.next=l.prev=null}}return n.firstChild=n.lastChild=null,n}isEmpty(n,o={},r){var l;const h=this;let v=h.firstChild;if(Nk(h))return!1;if(v)do{if(v.type===1){if(v.attr("data-mce-bogus"))continue;if(n[v.name]||Nk(v))return!1}if(v.type===8||v.type===3&&!_6(v)||v.type===3&&v.parent&&o[v.parent.name]&&Hc((l=v.value)!==null&&l!==void 0?l:"")||r&&r(v))return!1}while(v=bC(v,h));return!0}walk(n){return bC(this,null,n)}}const E6=(e,n)=>/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(n)),Mk=(e,n,o=0)=>{const r=e.toLowerCase();if(r.indexOf("[if ",o)!==-1&&E6(r,o)){const l=r.indexOf("[endif]",o);return r.indexOf(">",l)}else if(n){const l=r.indexOf(">",o);return l!==-1?l:r.length}else{const l=/--!?>/g;l.lastIndex=o;const h=l.exec(e);return h?h.index+h[0].length:r.length}},w6=(e,n,o)=>{const r=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,l=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,h=e.getVoidElements();let v=1,C=o;for(;v!==0;)for(r.lastIndex=C;;){const A=r.exec(n);if(A===null)return C;if(A[1]==="!"){_i(A[2],"--")?C=Mk(n,!1,A.index+3):C=Mk(n,!0,A.index+1);break}else{l.lastIndex=r.lastIndex;const L=l.exec(n);if(Ee(L)||L.index!==r.lastIndex)continue;A[1]==="/"?v-=1:qn(h,A[2])||(v+=1),C=r.lastIndex+L[0].length;break}}return C},T6=(e,n)=>{const o=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return n.replace(o,"")},kk=(e,n)=>{const o=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,r=e.schema;let l=T6(e.getTempAttrs(),n);const h=r.getVoidElements();let v;for(;v=o.exec(l);){const C=o.lastIndex,A=v[0].length;let L;h[v[1]]?L=C:L=w6(r,l,C),l=l.substring(0,C-A)+l.substring(L),o.lastIndex=C-A}return yd(l)},C6=kk,Pk=e=>{const n=Qr(e,"[data-mce-bogus]");mt(n,o=>{Pi(o,"data-mce-bogus")==="all"?wr(o):Ko(o)?(us(o,Ie.fromText(jr)),wr(o)):Ua(o)})},Lk=e=>{const n=Qr(e,"input");mt(n,o=>{fr(o,"name")})},S6=(e,n)=>{const o=yu(e),r=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(r,"")},x6=(e,n)=>{const o=e.getDoc(),r=so(Ie.fromDom(e.getBody())),l=Ie.fromTag("div",o);ho(l,"data-mce-bogus","all"),ha(l,{position:"fixed",left:"-9999999px",top:"0"}),Rm(l,n.innerHTML),Pk(l),Lk(l);const h=Rs(r);Er(h,l);const v=yd(l.dom.innerText);return wr(l),v},A6=(e,n,o)=>{let r;return n.format==="raw"?r=we.trim(C6(e.serializer,o.innerHTML)):n.format==="text"?r=x6(e,o):n.format==="tree"?r=e.serializer.serialize(o,n):r=S6(e,e.serializer.serialize(o,n)),n.format!=="text"&&!li(Ie.fromDom(o))&&K(r)?we.trim(r):r},O6=(e,n)=>oe.from(e.getBody()).fold(tt(n.format==="tree"?new Ju("body",11):""),o=>A6(e,n,o)),$k=we.makeMap,Bk=e=>{const n=[];e=e||{};const o=e.indent,r=$k(e.indent_before||""),l=$k(e.indent_after||""),h=cf.getEncodeFunc(e.entity_encoding||"raw",e.entities),v=e.element_format!=="xhtml";return{start:(C,A,L)=>{if(o&&r[C]&&n.length>0){const X=n[n.length-1];X.length>0&&X!==`
`&&n.push(`
`)}if(n.push("<",C),A)for(let X=0,Z=A.length;X<Z;X++){const se=A[X];n.push(" ",se.name,'="',h(se.value,!0),'"')}if(!L||v?n[n.length]=">":n[n.length]=" />",L&&o&&l[C]&&n.length>0){const X=n[n.length-1];X.length>0&&X!==`
`&&n.push(`
`)}},end:C=>{let A;n.push("</",C,">"),o&&l[C]&&n.length>0&&(A=n[n.length-1],A.length>0&&A!==`
`&&n.push(`
`))},text:(C,A)=>{C.length>0&&(n[n.length]=A?C:h(C))},cdata:C=>{n.push("<![CDATA[",C,"]]>")},comment:C=>{n.push("<!--",C,"-->")},pi:(C,A)=>{A?n.push("<?",C," ",h(A),"?>"):n.push("<?",C,"?>"),o&&n.push(`
`)},doctype:C=>{n.push("<!DOCTYPE",C,">",o?`
`:"")},reset:()=>{n.length=0},getContent:()=>n.join("").replace(/\n$/,"")}},Sb=(e={},n=Yl())=>{const o=Bk(e);return e.validate="validate"in e?e.validate:!0,{serialize:l=>{const h=e.validate,v={3:A=>{var L;o.text((L=A.value)!==null&&L!==void 0?L:"",A.raw)},8:A=>{var L;o.comment((L=A.value)!==null&&L!==void 0?L:"")},7:A=>{o.pi(A.name,A.value)},10:A=>{var L;o.doctype((L=A.value)!==null&&L!==void 0?L:"")},4:A=>{var L;o.cdata((L=A.value)!==null&&L!==void 0?L:"")},11:A=>{let L=A;if(L=L.firstChild)do C(L);while(L=L.next)}};o.reset();const C=A=>{var L;const X=v[A.type];if(X)X(A);else{const Z=A.name,se=Z in n.getVoidElements();let xe=A.attributes;if(h&&xe&&xe.length>1){const Re=[];Re.map={};const be=n.getElementRule(A.name);if(be){for(let Ae=0,Ve=be.attributesOrder.length;Ae<Ve;Ae++){const Be=be.attributesOrder[Ae];if(Be in xe.map){const Ye=xe.map[Be];Re.map[Be]=Ye,Re.push({name:Be,value:Ye})}}for(let Ae=0,Ve=xe.length;Ae<Ve;Ae++){const Be=xe[Ae].name;if(!(Be in Re.map)){const Ye=xe.map[Be];Re.map[Be]=Ye,Re.push({name:Be,value:Ye})}}xe=Re}}if(o.start(Z,xe,se),!se){let Re=A.firstChild;if(Re){(Z==="pre"||Z==="textarea")&&Re.type===3&&((L=Re.value)===null||L===void 0?void 0:L[0])===`
`&&o.text(`
`,!0);do C(Re);while(Re=Re.next)}o.end(Z)}}};return l.type===1&&!e.inner?C(l):l.type===3?v[3](l):v[11](l),o.getContent()}}},Fk=new Set;mt(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],n=>{Fk.add(n)});const Bn=["font","text-decoration","text-emphasis"],Jx=(e,n)=>bi(e.parseStyle(e.getAttrib(n,"style"))),Hk=e=>Fk.has(e),R6=(e,n)=>nr(Jx(e,n),o=>!Hk(o)),zR=e=>Lt(e,n=>ko(Bn,o=>_i(n,o))),I6=(e,n,o)=>{const r=Jx(e,n),l=Jx(e,o),h=v=>{var C,A;const L=(C=e.getStyle(n,v))!==null&&C!==void 0?C:"",X=(A=e.getStyle(o,v))!==null&&A!==void 0?A:"";return Cs(L)&&Cs(X)&&L!==X};return ko(r,v=>{const C=A=>ko(A,L=>L===v);if(!C(l)&&C(Bn)){const A=zR(l);return ko(A,h)}else return h(v)})},Vk=(e,n,o)=>oe.from(o.container()).filter(Ut).exists(r=>{const l=e?0:-1;return n(r.data.charAt(o.offset()+l))}),WR=je(Vk,!0,ny),GR=je(Vk,!1,ny),D6=e=>{const n=e.container();return Ut(n)&&(n.data.length===0||Cv(n.data)&&Eu.isBookmarkNode(n.parentNode))},_p=(e,n)=>o=>fb(e?0:-1,o).filter(n).isSome(),qR=e=>jp(e)&&$u(Ie.fromDom(e),"display")==="block",N6=e=>Po(e)&&!Vu(e),M6=_p(!0,qR),lo=_p(!1,qR),yC=_p(!0,or),mo=_p(!1,or),jR=_p(!0,Dr),k6=_p(!1,Dr),gy=_p(!0,N6),xb=_p(!1,N6),VY=e=>e.slice(0,-1),UY=(e,n,o)=>Je(n,e)?VY(qs(e,r=>o(r)||ns(r,n))):[],Uk=(e,n)=>UY(e,n,et),ov=(e,n)=>[e].concat(Uk(e,n)),jn=(e,n,o)=>$s(e,n,o,D6),zk=(e,n)=>vs(ov(Ie.fromDom(n.container()),e),Ft),Wk=(e,n,o)=>jn(e,n.dom,o).forall(r=>zk(n,o).fold(()=>!eu(r,o,n.dom),l=>!eu(r,o,n.dom)&&Je(l,Ie.fromDom(r.container())))),Gk=(e,n,o)=>zk(n,o).fold(()=>jn(e,n.dom,o).forall(r=>!eu(r,o,n.dom)),r=>jn(e,r.dom,o).isNone()),vy=je(Gk,!1),ZR=je(Gk,!0),P6=je(Wk,!1),L6=je(Wk,!0),$6=e=>q1(e).exists(Ko),_C=(e,n,o)=>{const r=Lt(ov(Ie.fromDom(o.container()),n),Ft),l=Ii(r).getOr(n);return No(e,l.dom,o).filter($6)},YR=(e,n)=>q1(n).exists(Ko)||_C(!0,e,n).isSome(),qk=(e,n)=>dp(n).exists(Ko)||_C(!1,e,n).isSome(),zY=je(_C,!1),B6=je(_C,!0),jk=e=>Ke.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),Zk=(e,n)=>{const o=Lt(ov(Ie.fromDom(n.container()),e),Ft);return Ii(o).getOr(e)},Yk=(e,n)=>jk(n)?GR(n):GR(n)||di(Zk(e,n).dom,n).exists(GR),KR=(e,n)=>jk(n)?WR(n):WR(n)||ui(Zk(e,n).dom,n).exists(WR),F6=e=>kn(["pre","pre-wrap"],e),So=e=>q1(e).bind(n=>es(n,is)).exists(n=>F6($u(n,"white-space"))),Kk=(e,n)=>di(e.dom,n).isNone(),eA=(e,n)=>ui(e.dom,n).isNone(),Xk=(e,n)=>Kk(e,n)||eA(e,n)||vy(e,n)||ZR(e,n)||qk(e,n)||YR(e,n),Qk=e=>ke(e)&&Po(e)&&Pa(e),XR=(e,n)=>o=>Qk(new ai(o,e)[n]()),Jk=(e,n)=>{const o=ui(e.dom,n).getOr(n),r=XR(e.dom,"next");return n.isAtEnd()&&(r(n.container())||r(o.container()))},eP=(e,n)=>{const o=di(e.dom,n).getOr(n),r=XR(e.dom,"prev");return n.isAtStart()&&(r(n.container())||r(o.container()))},H6=(e,n)=>So(n)?!1:Xk(e,n)||Yk(e,n)||KR(e,n),BE=(e,n)=>So(n)?!1:vy(e,n)||P6(e,n)||qk(e,n)||Yk(e,n)||eP(e,n),V6=e=>{const n=e.container(),o=e.offset();return Ut(n)&&o<n.data.length?Ke(n,o+1):e},EC=(e,n)=>So(n)?!1:ZR(e,n)||L6(e,n)||YR(e,n)||KR(e,n)||Jk(e,n),QR=(e,n)=>BE(e,n)||EC(e,V6(n)),tP=(e,n)=>pE(e.charAt(n)),nP=(e,n)=>ny(e.charAt(n)),U6=e=>{const n=e.container();return Ut(n)&&oi(n.data,ys)},z6=e=>{const n=e.split("");return Yt(n,(o,r)=>pE(o)&&r>0&&r<n.length-1&&AT(n[r-1])&&AT(n[r+1])?" ":o).join("")},oP=(e,n,o)=>{const r=n.data,l=Ke(n,0);return!o&&tP(r,0)&&!QR(e,l)?(n.data=" "+r.slice(1),!0):o&&nP(r,0)&&BE(e,l)?(n.data=ys+r.slice(1),!0):!1},JR=e=>{const n=e.data,o=z6(n);return o!==n?(e.data=o,!0):!1},tA=(e,n,o)=>{const r=n.data,l=Ke(n,r.length-1);return!o&&tP(r,r.length-1)&&!QR(e,l)?(n.data=r.slice(0,-1)+" ",!0):o&&nP(r,r.length-1)&&EC(e,l)?(n.data=r.slice(0,-1)+ys,!0):!1},W6=(e,n)=>{const o=n.container();if(!Ut(o))return oe.none();if(U6(n)){const r=oP(e,o,!1)||JR(o)||tA(e,o,!1);return st(r,n)}else if(QR(e,n)){const r=oP(e,o,!0)||tA(e,o,!0);return st(r,n)}else return oe.none()},G6=e=>{const n=Ie.fromDom(e.getBody());e.selection.isCollapsed()&&W6(n,Ke.fromRangeStart(e.selection.getRng())).each(o=>{e.selection.setRng(o.toRange())})},sP=(e,n,o)=>{if(o===0)return;const r=Ie.fromDom(e),l=Ps(r,Ft).getOr(r),h=e.data.slice(n,n+o),v=n+o>=e.data.length&&EC(l,Ke(e,e.data.length)),C=n===0&&BE(l,Ke(e,0));e.replaceData(n,o,Lh(h,4,C,v))},nA=(e,n)=>{const o=e.data.slice(n),r=o.length-$l(o).length;sP(e,n,r)},eI=(e,n)=>{const o=e.data.slice(0,n),r=o.length-ad(o).length;sP(e,n-r,r)},tI=(e,n,o,r=!0)=>{const l=ad(e.data).length,h=r?e:n,v=r?n:e;return r?h.appendData(v.data):h.insertData(0,v.data),wr(Ie.fromDom(v)),o&&nA(h,l),h},q6=(e,n)=>{const o=e.container(),r=e.offset();return!Ke.isTextPosition(e)&&o===n.parentNode&&r>Ke.before(n).offset()},j6=(e,n)=>q6(n,e)?Ke(n.container(),n.offset()-1):n,rP=e=>Ut(e)?Ke(e,0):Ke.before(e),Z6=e=>Ut(e)?Ke(e,e.data.length):Ke.after(e),iP=e=>Tl(e.previousSibling)?oe.some(Z6(e.previousSibling)):e.previousSibling?Zr(e.previousSibling):oe.none(),Ab=e=>Tl(e.nextSibling)?oe.some(rP(e.nextSibling)):e.nextSibling?ei(e.nextSibling):oe.none(),Y6=(e,n)=>oe.from(n.previousSibling?n.previousSibling:n.parentNode).bind(o=>di(e,Ke.before(o))).orThunk(()=>ui(e,Ke.after(n))),aP=(e,n)=>ui(e,Ke.after(n)).orThunk(()=>di(e,Ke.before(n))),K6=(e,n)=>iP(n).orThunk(()=>Ab(n)).orThunk(()=>Y6(e,n)),X6=(e,n)=>Ab(n).orThunk(()=>iP(n)).orThunk(()=>aP(e,n)),cP=(e,n,o)=>e?X6(n,o):K6(n,o),lP=(e,n,o)=>cP(e,n,o).map(je(j6,o)),nI=(e,n,o)=>{o.fold(()=>{e.focus()},r=>{e.selection.setRng(r.toRange(),n)})},uP=e=>n=>n.dom===e,Su=(e,n)=>n&&qn(e.schema.getBlockElements(),Vs(n)),Q6=e=>{if(zs(e)){const n=Ie.fromHtml('<br data-mce-bogus="1">');return Js(e),Er(e,n),oe.some(Ke.before(n.dom))}else return oe.none()},J6=(e,n,o)=>{const r=Tc(e).filter(dr),l=Ia(e).filter(dr);return wr(e),Kt(r,l,n,(h,v,C)=>{const A=h.dom,L=v.dom,X=A.data.length;return tI(A,L,o),C.container()===L?Ke(A,X):C}).orThunk(()=>(o&&(r.each(h=>eI(h.dom,h.dom.length)),l.each(h=>nA(h.dom,0))),n))},eV=(e,n)=>qn(e.schema.getTextInlineElements(),Vs(n)),by=(e,n,o,r=!0)=>{const l=lP(n,e.getBody(),o.dom),h=Ps(o,je(Su,e),uP(e.getBody())),v=J6(o,l,eV(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):h.bind(Q6).fold(()=>{r&&nI(e,n,v)},C=>{r&&nI(e,n,oe.some(C))})},tV=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,yy=e=>tV.test(e),_y=(e,n)=>da(Ie.fromDom(n),P1(e))&&!zf(e.schema,n)&&e.dom.isEditable(n),nV=e=>{var n;return sr.DOM.getStyle(e,"direction",!0)==="rtl"||yy((n=e.textContent)!==null&&n!==void 0?n:"")},ra=(e,n,o)=>Lt(sr.DOM.getParents(o.container(),"*",n),e),Ep=(e,n,o)=>{const r=ra(e,n,o);return oe.from(r[r.length-1])},WY=(e,n,o)=>{const r=Gi(n,e),l=Gi(o,e);return ke(r)&&r===l},qc=e=>_d(e)||u1(e),zo=(e,n)=>{const o=n.container(),r=n.offset();return e?Sc(o)?Ut(o.nextSibling)?Ke(o.nextSibling,0):Ke.after(o):_d(n)?Ke(o,r+1):n:Sc(o)?Ut(o.previousSibling)?Ke(o.previousSibling,o.previousSibling.data.length):Ke.before(o):u1(n)?Ke(o,r-1):n},Tf=je(zo,!0),dP=je(zo,!1),oI=(e,n)=>{const o=r=>r.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(n),e.off("beforeinput input",o)},sI=e=>{e.execCommand("delete")},wC=e=>oI(e,"Delete"),fP=e=>oI(e,"ForwardDelete"),hP=e=>n=>Pe(Vo(n),e,ns),oV=e=>We(e)||ci(e),oA=(e,n)=>Je(e,n)?es(n,oV,hP(e)):oe.none(),TC=(e,n=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!n})},mP=(e,n,o)=>_t(ei(o),Zr(o),(r,l)=>{const h=zo(!0,r),v=zo(!1,l),C=zo(!1,n);return e?ui(o,C).exists(A=>A.isEqual(v)&&n.isEqual(h)):di(o,C).exists(A=>A.isEqual(h)&&n.isEqual(v))}).getOr(!0),oh=e=>(Bc(e)?Tc(e):Ct(e)).bind(oh).orThunk(()=>oe.some(e)),pP=(e,n,o,r=!0)=>{var l;n.deleteContents();const h=oh(o).getOr(o),v=Ie.fromDom((l=e.dom.getParent(h.dom,e.dom.isBlock))!==null&&l!==void 0?l:o.dom);if(v.dom===e.getBody()?TC(e,r):zs(v)&&(Yp(v),r&&e.selection.setCursorLocation(v.dom,0)),!ns(o,v)){const C=Pe(Vo(v),o)?[]:pd(v);mt(C.concat(ze(o)),A=>{!ns(A,v)&&!Je(A,v)&&zs(A)&&wr(A)})}},sV=e=>n=>ns(e,n),gP=e=>Qr(e,"td,th"),rI=(e,n)=>{const o=L=>Y1(Ie.fromDom(L),n),r=o(e.startContainer),l=o(e.endContainer),h=r.isSome(),v=l.isSome(),C=_t(r,l,ns).getOr(!1);return{startTable:r,endTable:l,isStartInTable:h,isEndInTable:v,isSameTable:C,isMultiTable:!C&&h&&v}},iI=(e,n)=>({start:e,end:n}),CC=(e,n,o)=>({rng:e,table:n,cells:o}),SC=Xu.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),sv=(e,n)=>Vl(Ie.fromDom(e),"td,th",n),Cf=e=>!ns(e.start,e.end),FE=(e,n)=>Y1(e.start,n).bind(o=>Y1(e.end,n).bind(r=>st(ns(o,r),o))),xr=(e,n)=>!Cf(e)&&FE(e,n).exists(o=>{const r=o.dom.rows;return r.length===1&&r[0].cells.length===1}),xC=(e,n)=>{const o=sv(e.startContainer,n),r=sv(e.endContainer,n);return _t(o,r,iI)},vP=e=>n=>Y1(n,e).bind(o=>Zc(gP(o)).map(r=>iI(n,r))),bP=e=>n=>Y1(n,e).bind(o=>Ii(gP(o)).map(r=>iI(r,n))),AC=e=>n=>FE(n,e).map(o=>CC(n,o,gP(o))),sA=(e,n,o,r)=>{if(o.collapsed||!e.forall(Cf))return oe.none();if(n.isSameTable){const l=e.bind(AC(r));return oe.some({start:l,end:l})}else{const l=sv(o.startContainer,r),h=sv(o.endContainer,r),v=l.bind(vP(r)).bind(AC(r)),C=h.bind(bP(r)).bind(AC(r));return oe.some({start:v,end:C})}},rA=(e,n)=>Rr(e,o=>ns(o,n)),OC=e=>_t(rA(e.cells,e.rng.start),rA(e.cells,e.rng.end),(n,o)=>e.cells.slice(n,o+1)),iA=(e,n,o)=>e.exists(r=>xr(r,o)&&sy(r.start,n)),aA=(e,n)=>{const{startTable:o,endTable:r}=n,l=e.cloneRange();return o.each(h=>l.setStartAfter(h.dom)),r.each(h=>l.setEndBefore(h.dom)),l},yP=(e,n,o,r)=>sA(e,n,o,r).bind(({start:l,end:h})=>l.or(h)).bind(l=>{const{isSameTable:h}=n,v=OC(l).getOr([]);if(h&&l.cells.length===v.length)return oe.some(SC.fullTable(l.table));if(v.length>0){if(h)return oe.some(SC.partialTable(v,oe.none()));{const C=aA(o,n);return oe.some(SC.partialTable(v,oe.some({...n,rng:C})))}}else return oe.none()}),_P=(e,n,o,r)=>sA(e,n,o,r).bind(({start:l,end:h})=>{const v=l.bind(OC).getOr([]),C=h.bind(OC).getOr([]);if(v.length>0&&C.length>0){const A=aA(o,n);return oe.some(SC.multiTable(v,C,A))}else return oe.none()}),EP=(e,n)=>{const o=sV(e),r=xC(n,o),l=rI(n,o);return iA(r,n,o)?r.map(h=>SC.singleCellTable(n,h.start)):l.isMultiTable?_P(r,l,n,o):yP(r,l,n,o)},aI=e=>mt(e,n=>{fr(n,"contenteditable"),Yp(n)}),wP=(e,n)=>oe.from(e.dom.getParent(n,e.dom.isBlock)).map(Ie.fromDom),HE=(e,n,o)=>{o.each(r=>{n?wr(r):(Yp(r),e.selection.setCursorLocation(r.dom,0))})},cA=(e,n,o,r)=>{const l=o.cloneRange();r?(l.setStart(o.startContainer,o.startOffset),l.setEndAfter(n.dom.lastChild)):(l.setStartBefore(n.dom.firstChild),l.setEnd(o.endContainer,o.endOffset)),uA(e,l,n,!1).each(h=>h())},lA=e=>{const n=Z1(e),o=Ie.fromDom(e.selection.getNode());Jr(o.dom)&&zs(o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),n.length>1&&ko(n,r=>ns(r,o))&&ho(o,"data-mce-selected","1")},TP=(e,n,o)=>oe.some(()=>{const r=e.selection.getRng(),l=o.bind(({rng:h,isStartInTable:v})=>{const C=wP(e,v?h.endContainer:h.startContainer);h.deleteContents(),HE(e,v,C.filter(zs));const A=v?n[0]:n[n.length-1];return cA(e,A,r,v),zs(A)?oe.none():oe.some(v?n.slice(1):n.slice(0,-1))}).getOr(n);aI(l),lA(e)}),rV=(e,n,o,r)=>oe.some(()=>{const l=e.selection.getRng(),h=n[0],v=o[o.length-1];cA(e,h,l,!0),cA(e,v,l,!1);const C=zs(h)?n:n.slice(1),A=zs(v)?o:o.slice(0,-1);aI(C.concat(A)),r.deleteContents(),lA(e)}),uA=(e,n,o,r=!0)=>oe.some(()=>{pP(e,n,o,r)}),CP=(e,n)=>oe.some(()=>by(e,!1,n)),SP=(e,n,o)=>EP(n,o).bind(r=>r.fold(je(uA,e),je(CP,e),je(TP,e),je(rV,e))),dA=(e,n)=>RC(e,n),xP=(e,n,o,r)=>fA(n,r).fold(()=>SP(e,n,o),l=>dA(e,l)),AP=(e,n,o)=>{const r=Ie.fromDom(e.getBody()),l=e.selection.getRng();return o.length!==0?TP(e,o,oe.none()):xP(e,r,l,n)},cI=(e,n)=>vs(ov(n,e),Hr),fA=(e,n)=>vs(ov(n,e),Fc("caption")),OP=(e,n,o,r,l)=>Ro(o,e.getBody(),l).bind(h=>cI(n,Ie.fromDom(h.getNode())).bind(v=>ns(v,r)?oe.none():oe.some(Ot))),RC=(e,n)=>oe.some(()=>{Yp(n),e.selection.setCursorLocation(n.dom,0)}),RP=(e,n,o,r)=>ei(e.dom).bind(l=>Zr(e.dom).map(h=>n?o.isEqual(l)&&r.isEqual(h):o.isEqual(h)&&r.isEqual(l))).getOr(!0),IP=(e,n)=>RC(e,n),DP=(e,n,o)=>fA(e,Ie.fromDom(o.getNode())).fold(()=>oe.some(Ot),r=>st(!ns(r,n),Ot)),NP=(e,n,o,r,l)=>Ro(o,e.getBody(),l).fold(()=>oe.some(Ot),h=>RP(r,o,l,h)?IP(e,r):DP(n,r,h)),MP=(e,n,o,r)=>{const l=Ke.fromRangeStart(e.selection.getRng());return cI(o,r).bind(h=>zs(h)?RC(e,h):OP(e,o,n,h,l))},kP=(e,n,o,r)=>{const l=Ke.fromRangeStart(e.selection.getRng());return zs(r)?RC(e,r):NP(e,o,n,r,l)},lI=(e,n)=>e?jR(n):k6(n),PP=(e,n)=>{const o=Ke.fromRangeStart(e.selection.getRng());return lI(n,o)||No(n,e.getBody(),o).exists(r=>lI(n,r))},LP=(e,n,o)=>{const r=Ie.fromDom(e.getBody());return fA(r,o).fold(()=>MP(e,n,r,o).orThunk(()=>st(PP(e,n),Ot)),l=>kP(e,n,r,l))},IC=(e,n)=>{const o=Ie.fromDom(e.selection.getStart(!0)),r=Z1(e);return e.selection.isCollapsed()&&r.length===0?LP(e,n,o):AP(e,o,r)},Ig=(e,n)=>{let o=n;for(;o&&o!==e;){if(ts(o)||Po(o))return o;o=o.parentNode}return null},$P=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],BP=we.each,VE=e=>{const n=e.dom,o=new Set(e.serializer.getTempAttrs()),r=(h,v)=>{if(h.nodeName!==v.nodeName||h.nodeType!==v.nodeType)return!1;const C=L=>{const X={};return BP(n.getAttribs(L),Z=>{const se=Z.nodeName.toLowerCase();se!=="style"&&!l(se)&&(X[se]=n.getAttrib(L,se))}),X},A=(L,X)=>{for(const Z in L)if(qn(L,Z)){const se=X[Z];if(ut(se)||L[Z]!==se)return!1;delete X[Z]}for(const Z in X)if(qn(X,Z))return!1;return!0};return nn(h)&&nn(v)&&(!A(C(h),C(v))||!A(n.parseStyle(n.getAttrib(h,"style")),n.parseStyle(n.getAttrib(v,"style"))))?!1:!Qu(h)&&!Qu(v)},l=h=>ko($P,v=>_i(h,v))||o.has(h);return{compare:r,isAttributeInternal:l}},uI=(e,n)=>{let o=e;for(;o=o.walk();)n(o)},UE=(e,n,o,r)=>{const l=o.name;for(let h=0,v=e.length;h<v;h++){const C=e[h];if(C.name===l){const A=r.nodes[l];A?A.nodes.push(o):r.nodes[l]={filter:C,nodes:[o]}}}if(o.attributes)for(let h=0,v=n.length;h<v;h++){const C=n[h],A=C.name;if(A in o.attributes.map){const L=r.attributes[A];L?L.nodes.push(o):r.attributes[A]={filter:C,nodes:[o]}}}},dI=(e,n,o)=>{const r={nodes:{},attributes:{}};return o.firstChild&&uI(o,l=>{UE(e,n,l,r)}),r},fI=(e,n)=>{const o=(r,l)=>{an(r,h=>{const v=vr(h.nodes);mt(h.filter.callbacks,C=>{for(let A=v.length-1;A>=0;A--){const L=v[A];(!(l?L.attr(h.filter.name)!==void 0:L.name===h.filter.name)||yt(L.parent))&&v.splice(A,1)}v.length>0&&C(v,h.filter.name,n)})})};o(e.nodes,!1),o(e.attributes,!0)},Ey=(e,n,o,r={})=>{const l=dI(e,n,o);fI(l,r)},DC=(e,n,o)=>{if(e.insert&&n(o)){const r=new Ju("br",1);r.attr("data-mce-bogus","1"),o.empty().append(r)}else o.empty().append(new Ju("#text",3)).value=ys},hI=e=>{var n;return zE(e,"#text")&&((n=e==null?void 0:e.firstChild)===null||n===void 0?void 0:n.value)===ys},zE=(e,n)=>{const o=e==null?void 0:e.firstChild;return ke(o)&&o===e.lastChild&&o.name===n},Ob=(e,n)=>{const o=e.getElementRule(n.name);return(o==null?void 0:o.paddEmpty)===!0},WE=(e,n,o,r)=>r.isEmpty(n,o,l=>Ob(e,l)),iV=(e,n)=>ke(e)&&(n(e)||e.name==="br"),FP=e=>{let n;for(let o=e;o;o=o.parent){const r=o.attr("contenteditable");if(r==="false")break;r==="true"&&(n=o)}return oe.from(n)},hA=(e,n,o=e.parent)=>{if(n.getSpecialElements()[e.name])e.empty().remove();else{const r=e.children();for(const l of r)o&&!n.isValidChild(o.name,l.name)&&hA(l,n,o);e.unwrap()}},mI=(e,n,o,r=Ot)=>{const l=n.getTextBlockElements(),h=n.getNonEmptyElements(),v=n.getWhitespaceElements(),C=we.makeMap("tr,td,th,tbody,thead,tfoot,table"),A=new Set,L=X=>X!==o&&!C[X.name];for(let X=0;X<e.length;X++){const Z=e[X];let se,xe,Re;if(!Z.parent||A.has(Z))continue;if(l[Z.name]&&Z.parent.name==="li"){let Ae=Z.next;for(;Ae&&l[Ae.name];){Ae.name="li",A.add(Ae),Z.parent.insert(Ae,Z.parent);Ae=Ae.next}Z.unwrap();continue}const be=[Z];for(se=Z.parent;se&&!n.isValidChild(se.name,Z.name)&&L(se);se=se.parent)be.push(se);if(se&&be.length>1)if(n.isValidChild(se.name,Z.name)){be.reverse(),xe=be[0].clone(),r(xe);let Ae=xe;for(let Ve=0;Ve<be.length-1;Ve++){n.isValidChild(Ae.name,be[Ve].name)&&Ve>0?(Re=be[Ve].clone(),r(Re),Ae.append(Re)):Re=Ae;for(let Be=be[Ve].firstChild;Be&&Be!==be[Ve+1];){const Ye=Be.next;Re.append(Be),Be=Ye}Ae=Re}WE(n,h,v,xe)?se.insert(Z,be[0],!0):(se.insert(xe,be[0],!0),se.insert(Z,xe)),se=be[0],(WE(n,h,v,se)||zE(se,"br"))&&se.empty().remove()}else hA(Z,n);else if(Z.parent){if(Z.name==="li"){let Ae=Z.prev;if(Ae&&(Ae.name==="ul"||Ae.name==="ol")){Ae.append(Z);continue}if(Ae=Z.next,Ae&&(Ae.name==="ul"||Ae.name==="ol")&&Ae.firstChild){Ae.insert(Z,Ae.firstChild,!0);continue}const Ve=new Ju("ul",1);r(Ve),Z.wrap(Ve);continue}if(n.isValidChild(Z.parent.name,"div")&&n.isValidChild("div",Z.name)){const Ae=new Ju("div",1);r(Ae),Z.wrap(Ae)}else hA(Z,n)}}},GY=(e,n)=>{let o=e;for(;o;){if(o.name===n)return!0;o=o.parent}return!1},HP=(e,n,o=n.parent)=>o&&e.children[n.name]&&!e.isValidChild(o.name,n.name)?!0:!!(o&&n.name==="a"&&GY(o,"a")),pI=(e,n,o,r)=>{const l=document.createRange();return l.setStart(e,n),l.setEnd(o,r),l},wp=e=>{const n=Ke.fromRangeStart(e),o=Ke.fromRangeEnd(e),r=e.commonAncestorContainer;return No(!1,r,o).map(l=>!eu(n,o,r)&&eu(n,l,r)?pI(n.container(),n.offset(),l.container(),l.offset()):e).getOr(e)},NC=e=>e.collapsed?e:wp(e),mA=e=>ke(e.firstChild)&&e.firstChild===e.lastChild,gI=e=>e.name==="br"||e.value===ys,aV=(e,n)=>e.getBlockElements()[n.name]&&mA(n)&&gI(n.firstChild),VP=(e,n)=>{const o=e.getNonEmptyElements();return ke(n)&&(n.isEmpty(o)||aV(e,n))},cV=(e,n)=>{let o=n.firstChild,r=n.lastChild;return o&&o.name==="meta"&&(o=o.next),r&&r.attr("id")==="mce_marker"&&(r=r.prev),VP(e,r)&&(r=r==null?void 0:r.prev),!o||o!==r?!1:o.name==="ul"||o.name==="ol"},UP=e=>{var n,o;const r=e.firstChild,l=e.lastChild;return r&&r.nodeName==="META"&&((n=r.parentNode)===null||n===void 0||n.removeChild(r)),l&&l.id==="mce_marker"&&((o=l.parentNode)===null||o===void 0||o.removeChild(l)),e},vI=(e,n,o)=>{const r=n.serialize(o),l=e.createFragment(r);return UP(l)},lV=e=>{var n;return Lt((n=e==null?void 0:e.childNodes)!==null&&n!==void 0?n:[],o=>o.nodeName==="LI")},zP=e=>e.data===ys||hr(e),uV=e=>ke(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&zP(e.firstChild),MC=e=>!e.firstChild||uV(e),WP=e=>e.length>0&&MC(e[e.length-1])?e.slice(0,-1):e,bI=(e,n)=>{const o=e.getParent(n,e.isBlock);return o&&o.nodeName==="LI"?o:null},GP=(e,n)=>!!bI(e,n),dV=(e,n)=>{const o=n.cloneRange(),r=n.cloneRange();return o.setStartBefore(e),r.setEndAfter(e),[o.cloneContents(),r.cloneContents()]},fV=(e,n)=>{const o=Ke.before(e),l=Ze(n).next(o);return l?l.toRange():null},qP=(e,n)=>{const o=Ke.after(e),l=Ze(n).prev(o);return l?l.toRange():null},hV=(e,n,o,r)=>{const l=dV(e,r),h=e.parentNode;return h&&(h.insertBefore(l[0],e),we.each(n,v=>{h.insertBefore(v,e)}),h.insertBefore(l[1],e),h.removeChild(e)),qP(n[n.length-1],o)},mV=(e,n,o)=>{const r=e.parentNode;return r&&we.each(n,l=>{r.insertBefore(l,e)}),fV(e,o)},jP=(e,n,o,r)=>(r.insertAfter(n.reverse(),e),qP(n[0],o)),pV=(e,n,o,r)=>{const l=vI(n,e,r),h=bI(n,o.startContainer),v=WP(lV(l.firstChild)),C=1,A=2,L=n.getRoot(),X=Z=>{const se=Ke.fromRangeStart(o),xe=Ze(n.getRoot()),Re=Z===C?xe.prev(se):xe.next(se),be=Re==null?void 0:Re.getNode();return be?bI(n,be)!==h:!0};return h?X(C)?mV(h,v,L):X(A)?jP(h,v,L,n):hV(h,v,L,o):null},yI=["pre"],wy=(e,n,o,r)=>{var l;const h=n.firstChild,v=n.lastChild,C=v.attr("data-mce-type")==="bookmark"?v.prev:v,A=h===C,L=kn(yI,h.name);if(A&&L){const X=h.attr("contenteditable")!=="false",Z=((l=e.getParent(o,e.isBlock))===null||l===void 0?void 0:l.nodeName.toLowerCase())===h.name,se=oe.from(Ig(r,o)).forall(ts);return X&&Z&&se}else return!1},_I=Jr,gV=(e,n,o)=>{if(ke(o)){const r=e.getParent(n.endContainer,_I);return o===r&&sy(Ie.fromDom(o),n)}else return!1},pA=(e,n,o)=>{var r;if(o.getAttribute("data-mce-bogus")==="all")(r=o.parentNode)===null||r===void 0||r.insertBefore(e.dom.createFragment(n),o);else{const l=o.firstChild,h=o.lastChild;!l||l===h&&l.nodeName==="BR"?e.dom.setHTML(o,n):e.selection.setContent(n,{no_events:!0})}},ZP=(e,n)=>{oe.from(e.getParent(n,"td,th")).map(Ie.fromDom).each(mu)},YP=(e,n)=>{const o=e.schema.getTextInlineElements(),r=e.dom;if(n){const l=e.getBody(),h=VE(e);we.each(r.select("*[data-mce-fragment]"),v=>{if(ke(o[v.nodeName.toLowerCase()])&&R6(r,v)){for(let A=v.parentElement;ke(A)&&A!==l&&!I6(r,v,A);A=A.parentElement)if(h.compare(A,v)){r.remove(v,!0);break}}})}},vV=e=>{let n=e;for(;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},KP=e=>{we.each(e.getElementsByTagName("*"),n=>{n.removeAttribute("data-mce-fragment")})},bV=e=>!!e.getAttribute("data-mce-fragment"),Ty=(e,n)=>ke(n)&&!e.schema.getVoidElements()[n.nodeName],XP=(e,n)=>{var o,r,l;let h;const v=e.dom,C=e.selection;if(!n)return;C.scrollIntoView(n);const A=Ig(e.getBody(),n);if(A&&v.getContentEditable(A)==="false"){v.remove(n),C.select(A);return}let L=v.createRng();const X=n.previousSibling;if(Ut(X)){L.setStart(X,(r=(o=X.nodeValue)===null||o===void 0?void 0:o.length)!==null&&r!==void 0?r:0);const xe=n.nextSibling;Ut(xe)&&(X.appendData(xe.data),(l=xe.parentNode)===null||l===void 0||l.removeChild(xe))}else L.setStartBefore(n),L.setEndBefore(n);const Z=xe=>{let Re=Ke.fromRangeStart(xe);return Re=Ze(e.getBody()).next(Re),Re==null?void 0:Re.toRange()},se=v.getParent(n,v.isBlock);v.remove(n),se&&v.isEmpty(se)&&(Js(Ie.fromDom(se)),L.setStart(se,0),L.setEnd(se,0),!_I(se)&&!bV(se)&&(h=Z(L))?(L=h,v.remove(se)):v.add(se,v.create("br",{"data-mce-bogus":"1"}))),C.setRng(L)},QP=e=>{const n=e.dom,o=NC(e.selection.getRng());e.selection.setRng(o);const r=n.getParent(o.startContainer,_I);gV(n,o,r)?uA(e,o,Ie.fromDom(r)):o.startContainer===o.endContainer&&o.endOffset-o.startOffset===1&&Ut(o.startContainer.childNodes[o.startOffset])?o.deleteContents():e.getDoc().execCommand("Delete",!1)},JP=e=>{for(let n=e;n;n=n.walk())if(n.attr("id")==="mce_marker")return oe.some(n);return oe.none()},gA=(e,n,o)=>{var r,l;const h=e.selection,v=e.dom,C=e.parser,A=o.merge,L=Sb({validate:!0},e.schema),X='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,X);let Z=h.getRng();const se=Z.startContainer,xe=e.getBody();se===xe&&h.isCollapsed()&&v.isBlock(xe.firstChild)&&Ty(e,xe.firstChild)&&v.isEmpty(xe.firstChild)&&(Z=v.createRng(),Z.setStart(xe.firstChild,0),Z.setEnd(xe.firstChild,0),h.setRng(Z)),h.isCollapsed()||QP(e);const Re=h.getNode(),be={context:Re.nodeName.toLowerCase(),data:o.data,insert:!0},Ae=C.parse(n,be);if(o.paste===!0&&cV(e.schema,Ae)&&GP(v,Re))return Z=pV(L,v,h.getRng(),Ae),Z&&h.setRng(Z),n;o.paste===!0&&wy(v,Ae,Re,e.getBody())&&((r=Ae.firstChild)===null||r===void 0||r.unwrap()),vV(Ae);let Ve=Ae.lastChild;if(Ve&&Ve.attr("id")==="mce_marker"){const Be=Ve;for(Ve=Ve.prev;Ve;Ve=Ve.walk(!0))if(Ve.type===3||!v.isBlock(Ve.name)){Ve.parent&&e.schema.isValidChild(Ve.parent.name,"span")&&Ve.parent.insert(Be,Ve,Ve.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(Re),!be.invalid)n=L.serialize(Ae),pA(e,n,Re);else{e.selection.setContent(X);let Be=h.getNode(),Ye;const it=e.getBody();for(bd(Be)?Be=Ye=it:Ye=Be;Ye&&Ye!==it;)Be=Ye,Ye=Ye.parentNode;n=Be===it?it.innerHTML:v.getOuterHTML(Be);const St=C.parse(n),on=JP(St),jt=on.bind(FP).getOr(St);on.each(Ln=>Ln.replace(Ae));const ht=Ae.children(),ft=(l=Ae.parent)!==null&&l!==void 0?l:St;Ae.unwrap();const bn=Lt(ht,Ln=>HP(e.schema,Ln,ft));mI(bn,e.schema,jt),Ey(C.getNodeFilters(),C.getAttributeFilters(),St),n=L.serialize(St),Be===it?v.setHTML(it,n):v.setOuterHTML(Be,n)}return YP(e,A),XP(e,v.get("mce_marker")),KP(e.getBody()),ZP(v,h.getStart()),Wu(e.schema,e.getBody(),h.getStart()),n},kC=e=>e instanceof Ju,yV=e=>{Cb(e)&&ei(e.getBody()).each(n=>{const o=n.getNode(),r=Dr(o)?ei(o).getOr(n):n;e.selection.setRng(r.toRange())})},vA=(e,n,o)=>{e.dom.setHTML(e.getBody(),n),o!==!0&&yV(e)},_V=(e,n,o,r)=>{if(o.length===0||/^\s+$/.test(o)){const l='<br data-mce-bogus="1">';n.nodeName==="TABLE"?o="<tr><td>"+l+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(o="<li>"+l+"</li>");const h=yu(e);return e.schema.isValidChild(n.nodeName.toLowerCase(),h.toLowerCase())?(o=l,o=e.dom.createHTML(h,pg(e),o)):o||(o=l),vA(e,o,r.no_selection),{content:o,html:o}}else{r.format!=="raw"&&(o=Sb({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const l=li(Ie.fromDom(n))?o:we.trim(o);return vA(e,l,r.no_selection),{content:l,html:l}}},EV=(e,n,o,r)=>{Ey(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const l=Sb({validate:!1},e.schema).serialize(o),h=li(Ie.fromDom(n))?l:we.trim(l);return vA(e,h,r.no_selection),{content:o,html:h}},bA=(e,n,o)=>oe.from(e.getBody()).map(r=>kC(n)?EV(e,r,n,o):_V(e,r,n,o)).getOr({content:n,html:kC(o.content)?"":o.content}),eL=(e,n,o)=>Ps(e,n,o).isSome(),EI=(e,n)=>pl(e,n).isSome(),tL=e=>_e(e)?e:et,wV=(e,n,o)=>{let r=e.dom;const l=tL(o);for(;r.parentNode;){r=r.parentNode;const h=Ie.fromDom(r),v=n(h);if(v.isSome())return v;if(l(h))break}return oe.none()},yA=(e,n,o)=>{const r=n(e),l=tL(o);return r.orThunk(()=>l(e)?oe.none():wV(e,n,l))},PC=LT,wI=(e,n,o)=>{const r=e.formatter.get(o);if(r)for(let l=0;l<r.length;l++){const h=r[l];if(tu(h)&&h.inherit===!1&&e.dom.is(n,h.selector))return!0}return!1},TI=(e,n,o,r,l)=>{const h=e.dom.getRoot();if(n===h)return!1;const v=e.dom.getParent(n,C=>wI(e,C,o)?!0:C.parentNode===h||!!sh(e,C,o,r,!0));return!!sh(e,v,o,r,l)},_A=(e,n,o)=>Ea(o)&&PC(n,o.inline)||kr(o)&&PC(n,o.block)?!0:tu(o)?nn(n)&&e.is(n,o.selector):!1,nL=(e,n,o,r,l,h)=>{const v=o[r],C=r==="attributes";if(_e(o.onmatch))return o.onmatch(n,o,r);if(v){if(Eh(v)){for(let A=0;A<v.length;A++)if(C?e.getAttrib(n,v[A]):_E(e,n,v[A]))return!0}else for(const A in v)if(qn(v,A)){const L=C?e.getAttrib(n,A):_E(e,n,A),X=Sg(v[A],h),Z=yt(L)||si(L);if(Z&&yt(X))continue;if(l&&Z&&!o.exact||(!l||o.exact)&&!PC(L,$T(X,A)))return!1}}return!0},sh=(e,n,o,r,l)=>{const h=e.formatter.get(o),v=e.dom;if(h&&nn(n))for(let C=0;C<h.length;C++){const A=h[C];if(_A(e.dom,n,A)&&nL(v,n,A,"attributes",l,r)&&nL(v,n,A,"styles",l,r)){const L=A.classes;if(L){for(let X=0;X<L.length;X++)if(!e.dom.hasClass(n,Sg(L[X],r)))return}return A}}},Tp=(e,n,o,r,l)=>{if(r)return TI(e,r,n,o,l);if(r=e.selection.getNode(),TI(e,r,n,o,l))return!0;const h=e.selection.getStart();return!!(h!==r&&TI(e,h,n,o,l))},TV=(e,n,o)=>{const r=[],l={},h=e.selection.getStart();return e.dom.getParent(h,v=>{for(let C=0;C<n.length;C++){const A=n[C];!l[A]&&sh(e,v,A,o)&&(l[A]=!0,r.push(A))}},e.dom.getRoot()),r},CI=(e,n)=>{const o=l=>ns(l,Ie.fromDom(e.getBody())),r=(l,h)=>sh(e,l.dom,h)?oe.some(h):oe.none();return oe.from(e.selection.getStart(!0)).bind(l=>yA(Ie.fromDom(l),h=>$r(n,v=>r(h,v)),o)).getOrNull()},ia=(e,n)=>{const o=e.formatter.get(n),r=e.dom;if(o){const l=e.selection.getStart(),h=EE(r,l);for(let v=o.length-1;v>=0;v--){const C=o[v];if(!tu(C))return!0;for(let A=h.length-1;A>=0;A--)if(r.is(h[A],C.selector))return!0}}return!1},SI=(e,n,o)=>Ns(o,(r,l)=>{const h=ja(e,l);return e.formatter.matchNode(n,l,{},h)?r.concat([l]):r},[]),Rb=Ma,rv=(e,n)=>e.importNode(n,!0),oL=e=>{const n=[];let o=e;for(;o;){if(Ut(o)&&o.data!==Rb||o.childNodes.length>1)return[];nn(o)&&n.push(o),o=o.firstChild}return n},EA=e=>oL(e).length>0,GE=e=>{if(e){const n=new ai(e,e);for(let o=n.current();o;o=n.next())if(Ut(o))return o}return null},xI=e=>{const n=Ie.fromTag("span");return zr(n,{id:Nc,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Er(n,Ie.fromText(Rb)),n},CV=e=>{const n=GE(e);return n&&n.data.charAt(0)===Rb&&n.deleteData(0,1),n},Ib=(e,n,o=!0)=>{const r=e.dom,l=e.selection;if(EA(n))by(e,!1,Ie.fromDom(n),o);else{const h=l.getRng(),v=r.getParent(n,r.isBlock),C=h.startContainer,A=h.startOffset,L=h.endContainer,X=h.endOffset,Z=CV(n);r.remove(n,!0),C===Z&&A>0&&h.setStart(Z,A-1),L===Z&&X>0&&h.setEnd(Z,X-1),v&&r.isEmpty(v)&&Yp(Ie.fromDom(v)),l.setRng(h)}},AI=(e,n,o=!0)=>{const r=e.dom,l=e.selection;if(n)Ib(e,n,o);else if(n=bf(e.getBody(),l.getStart()),!n)for(;n=r.get(Nc);)Ib(e,n,!1)},Cy=(e,n,o)=>{var r,l;const h=e.dom,v=h.getParent(o,je(PT,e.schema));v&&h.isEmpty(v)?(r=o.parentNode)===null||r===void 0||r.replaceChild(n,o):(Nh(Ie.fromDom(o)),h.isEmpty(o)?(l=o.parentNode)===null||l===void 0||l.replaceChild(n,o):h.insertAfter(n,o))},sL=(e,n)=>(e.appendChild(n),n),iv=(e,n)=>{var o;const r=Lr(e,(h,v)=>sL(h,v.cloneNode(!1)),n),l=(o=r.ownerDocument)!==null&&o!==void 0?o:document;return sL(r,l.createTextNode(Rb))},sm=(e,n,o,r,l,h)=>{const v=e.formatter,C=e.dom,A=Lt(bi(v.get()),Z=>Z!==r&&!oi(Z,"removeformat")),L=SI(e,o,A);if(Lt(L,Z=>!wE(e,Z,r)).length>0){const Z=o.cloneNode(!1);return C.add(n,Z),v.remove(r,l,Z,h),C.remove(Z),oe.some(Z)}else return oe.none()},wA=(e,n,o)=>{let r;const l=e.selection,h=e.formatter.get(n);if(!h)return;const v=l.getRng();let C=v.startOffset;const L=v.startContainer.nodeValue;r=bf(e.getBody(),l.getStart());const X=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(L&&C>0&&C<L.length&&X.test(L.charAt(C))&&X.test(L.charAt(C-1))){const Z=l.getBookmark();v.collapse(!0);let se=X1(e.dom,v,h);se=LE(se),e.formatter.apply(n,o,se),l.moveToBookmark(Z)}else{let Z=r?GE(r):null;(!r||(Z==null?void 0:Z.data)!==Rb)&&(r=rv(e.getDoc(),xI(!0).dom),Z=r.firstChild,v.insertNode(r),C=1),e.formatter.apply(n,o,r),l.setCursorLocation(Z,C)}},OI=(e,n,o,r)=>{const l=e.dom,h=e.selection;let v=!1;const C=e.formatter.get(n);if(!C)return;const A=h.getRng(),L=A.startContainer,X=A.startOffset;let Z=L;Ut(L)&&(X!==L.data.length&&(v=!0),Z=Z.parentNode);const se=[];let xe;for(;Z;){if(sh(e,Z,n,o,r)){xe=Z;break}Z.nextSibling&&(v=!0),se.push(Z),Z=Z.parentNode}if(xe)if(v){const Re=h.getBookmark();A.collapse(!0);let be=X1(l,A,C,!0);be=LE(be),e.formatter.remove(n,o,be,r),h.moveToBookmark(Re)}else{const Re=bf(e.getBody(),xe),be=xI(!1).dom;Cy(e,be,Re??xe);const Ae=sm(e,be,xe,n,o,r),Ve=iv(se.concat(Ae.toArray()),be);Re&&Ib(e,Re,!1),h.setCursorLocation(Ve,1),l.isEmpty(xe)&&l.remove(xe)}},SV=(e,n)=>{const o=e.selection,r=e.getBody();AI(e,null,!1),(n===8||n===46)&&o.isCollapsed()&&o.getStart().innerHTML===Rb&&AI(e,bf(r,o.getStart())),(n===37||n===39)&&AI(e,bf(r,o.getStart()))},xV=e=>{e.on("mouseup keydown",n=>{SV(e,n.keyCode)})},LC=e=>{const n=xI(!1),o=iv(e,n.dom);return{caretContainer:n,caretPosition:Ke(o,0)}},rL=(e,n)=>{const{caretContainer:o,caretPosition:r}=LC(n);return us(Ie.fromDom(e),o),wr(Ie.fromDom(e)),r},rm=(e,n)=>{const{caretContainer:o,caretPosition:r}=LC(n);return e.selection.getRng().insertNode(o.dom),r},$C=(e,n)=>{const o=e.schema.getTextInlineElements();return qn(o,Vs(n))&&!Ws(n.dom)&&!ol(n.dom)},RI=e=>Ws(e.dom)&&EA(e.dom),Sy={},TA=bl(["pre"]),xy=(e,n)=>{Sy[e]||(Sy[e]=[]),Sy[e].push(n)},II=(e,n)=>{qn(Sy,e)&&mt(Sy[e],o=>{o(n)})};xy("pre",e=>{const n=e.selection.getRng(),o=l=>h=>{const v=h.previousSibling;return TA(v)&&kn(l,v)},r=(l,h)=>{const v=Ie.fromDom(h),C=At(v).dom;wr(v),gd(Ie.fromDom(l),[Ie.fromTag("br",C),Ie.fromTag("br",C),...ze(v)])};if(!n.collapsed){const l=e.selection.getSelectedBlocks(),h=Lt(Lt(l,TA),o(l));mt(h,v=>{r(v.previousSibling,v)})}});const iL=["fontWeight","fontStyle","color","fontSize","fontFamily"],aL=e=>De(e.styles)&&ko(bi(e.styles),n=>kn(iL,n)),AV=e=>vs(e,n=>Ea(n)&&n.inline==="span"&&aL(n)),cL=(e,n)=>{const o=e.get(n);return H(o)?AV(o):oe.none()},lL=(e,n)=>di(n,Ke.fromRangeStart(e)).isNone(),uL=(e,n)=>ui(n,Ke.fromRangeEnd(e)).exists(o=>!hr(o.getNode())||ui(n,o).isSome())===!1,qE=e=>n=>ef(n)&&e.isEditable(n),OV=e=>{const n=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(n.length===1)return lL(o,n[0])&&uL(o,n[0])?n:[];{const r=Ii(n).filter(v=>lL(o,v)).toArray(),l=Zc(n).filter(v=>uL(o,v)).toArray(),h=n.slice(1,-1);return r.concat(h).concat(l)}},dL=e=>Lt(OV(e),qE(e.dom)),CA=e=>Lt(e.getSelectedBlocks(),qE(e.dom)),DI=we.each,SA=e=>nn(e)&&!Qu(e)&&!Ws(e)&&!ol(e),NI=(e,n)=>{for(let o=e;o;o=o[n]){if(Ut(o)&&Cs(o.data))return e;if(nn(o)&&!Qu(o))return o}return e},fL=(e,n,o)=>{const r=VE(e),l=nn(n)&&em(n),h=nn(o)&&em(o);if(l&&h){const v=NI(n,"previousSibling"),C=NI(o,"nextSibling");if(r.compare(v,C)){for(let A=v.nextSibling;A&&A!==C;){const L=A;A=A.nextSibling,v.appendChild(L)}return e.dom.remove(C),we.each(we.grep(C.childNodes),A=>{v.appendChild(A)}),v}}return o},hL=(e,n,o,r)=>{var l;if(r&&n.merge_siblings!==!1){const h=(l=fL(e,Ax(r),r))!==null&&l!==void 0?l:r;fL(e,h,Ax(h,!0))}},RV=(e,n,o)=>{if(n.clear_child_styles){const r=n.links?"*:not(a)":"*";DI(e.select(r,o),l=>{SA(l)&&em(l)&&DI(n.styles,(h,v)=>{e.setStyle(l,v,"")})})}},MI=(e,n,o)=>{DI(e.childNodes,r=>{SA(r)&&(n(r)&&o(r),r.hasChildNodes()&&MI(r,n,o))})},IV=(e,n)=>{n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},mL=(e,n)=>o=>!!(o&&_E(e,o,n)),pL=(e,n,o)=>r=>{e.setStyle(r,n,o),r.getAttribute("style")===""&&r.removeAttribute("style"),IV(e,r)},Ay=Xu.generate([{keep:[]},{rename:["name"]},{removed:[]}]),DV=/^(src|href|style)$/,kI=we.each,xA=LT,NV=e=>/^(TR|TH|TD)$/.test(e.nodeName),gL=(e,n,o)=>e.isChildOf(n,o)&&n!==o&&!e.isBlock(o),PI=(e,n,o)=>{let r=n[o?"startContainer":"endContainer"],l=n[o?"startOffset":"endOffset"];if(nn(r)){const h=r.childNodes.length-1;!o&&l&&l--,r=r.childNodes[l>h?h:l]}return Ut(r)&&o&&l>=r.data.length&&(r=new ai(r,e.getBody()).next()||r),Ut(r)&&!o&&l===0&&(r=new ai(r,e.getBody()).prev()||r),r},vL=(e,n)=>{const o=n?"firstChild":"lastChild",r=e[o];return NV(e)&&r?e.nodeName==="TR"&&r[o]||r:e},Db=(e,n,o,r)=>{var l;const h=e.create(o,r);return(l=n.parentNode)===null||l===void 0||l.insertBefore(h,n),h.appendChild(n),h},bL=(e,n,o,r,l)=>{const h=Ie.fromDom(n),v=Ie.fromDom(e.create(r,l)),C=o?Le(h):Se(h);return gd(v,C),o?(us(h,v),Ul(v,h)):(nl(h,v),Er(v,h)),v.dom},MV=(e,n)=>n.links&&e.nodeName==="A",yL=(e,n,o)=>{const r=n.parentNode;let l;const h=e.dom,v=yu(e);kr(o)&&r===h.getRoot()&&(!o.list_block||!xA(n,o.list_block))&&mt(vr(n.childNodes),C=>{pb(e,v,C.nodeName.toLowerCase())?l?l.appendChild(C):(l=Db(h,C,v),h.setAttribs(l,pg(e))):l=null}),!(TE(o)&&!xA(o.inline,n))&&h.remove(n,!0)},_L=(e,n,o)=>mn(e)?{name:n,value:null}:{name:e,value:Sg(n,o)},LI=(e,n)=>{e.getAttrib(n,"style")===""&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style"))},EL=(e,n,o,r,l)=>{let h=!1;kI(o.styles,(v,C)=>{const{name:A,value:L}=_L(C,v,r),X=$T(L,A);(o.remove_similar||Ee(L)||!nn(l)||xA(_E(e,l,A),X))&&e.setStyle(n,A,""),h=!0}),h&&LI(e,n)},kV=(e,n,o)=>{n==="removeformat"?mt(CA(e.selection),r=>{mt(iL,l=>e.dom.setStyle(r,l,"")),LI(e.dom,r)}):cL(e.formatter,n).each(r=>{mt(CA(e.selection),l=>EL(e.dom,l,r,o,null))})},wL=(e,n,o,r,l)=>{const h=e.dom,v=VE(e),C=e.schema;if(Ea(n)&&Jp(C,n.inline)&&zf(C,r)&&r.parentElement===e.getBody())return yL(e,r,n),Ay.removed();if(!n.ceFalseOverride&&r&&h.getContentEditableParent(r)==="false"||r&&!_A(h,r,n)&&!MV(r,n))return Ay.keep();const A=r,L=n.preserve_attributes;if(Ea(n)&&n.remove==="all"&&H(L)){const X=Lt(h.getAttribs(A),Z=>kn(L,Z.name.toLowerCase()));if(h.removeAllAttribs(A),mt(X,Z=>h.setAttrib(A,Z.name,Z.value)),X.length>0)return Ay.rename("span")}if(n.remove!=="all"){EL(h,A,n,o,l),kI(n.attributes,(Z,se)=>{const{name:xe,value:Re}=_L(se,Z,o);if(n.remove_similar||Ee(Re)||!nn(l)||xA(h.getAttrib(l,xe),Re)){if(xe==="class"){const be=h.getAttrib(A,xe);if(be){let Ae="";if(mt(be.split(/\s+/),Ve=>{/mce\-\w+/.test(Ve)&&(Ae+=(Ae?" ":"")+Ve)}),Ae){h.setAttrib(A,xe,Ae);return}}}if(DV.test(xe)&&A.removeAttribute("data-mce-"+xe),xe==="style"&&bl(["li"])(A)&&h.getStyle(A,"list-style-type")==="none"){A.removeAttribute(xe),h.setStyle(A,"list-style-type","none");return}xe==="class"&&A.removeAttribute("className"),A.removeAttribute(xe)}}),kI(n.classes,Z=>{Z=Sg(Z,o),(!nn(l)||h.hasClass(l,Z))&&h.removeClass(A,Z)});const X=h.getAttribs(A);for(let Z=0;Z<X.length;Z++){const se=X[Z].nodeName;if(!v.isAttributeInternal(se))return Ay.keep()}}return n.remove!=="none"?(yL(e,A,n),Ay.removed()):Ay.keep()},BC=(e,n,o,r,l)=>wL(e,n,o,r,l).fold(et,h=>(e.dom.rename(r,h),!0),It),PV=(e,n,o,r,l)=>{let h;return n.parentNode&&mt(EE(e.dom,n.parentNode).reverse(),v=>{if(!h&&nn(v)&&v.id!=="_start"&&v.id!=="_end"){const C=sh(e,v,o,r,l);C&&C.split!==!1&&(h=v)}}),h},LV=(e,n,o,r)=>wL(e,n,o,r,r).fold(tt(r),l=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,l)),tt(null)),$V=(e,n,o,r,l,h,v,C)=>{var A,L;let X,Z;const se=e.dom;if(o){const xe=o.parentNode;for(let Re=r.parentNode;Re&&Re!==xe;Re=Re.parentNode){let be=se.clone(Re,!1);for(let Ae=0;Ae<n.length&&(be=LV(e,n[Ae],C,be),be!==null);Ae++);be&&(X&&be.appendChild(X),Z||(Z=be),X=be)}h&&(!v.mixed||!se.isBlock(o))&&(r=(A=se.split(o,r))!==null&&A!==void 0?A:r),X&&Z&&((L=l.parentNode)===null||L===void 0||L.insertBefore(X,l),Z.appendChild(l),Ea(v)&&hL(e,v,C,X))}return r},TL=(e,n,o,r,l)=>{const h=e.formatter.get(n),v=h[0],C=e.dom,A=e.selection,L=be=>{const Ae=PV(e,be,n,o,l);return $V(e,h,Ae,be,be,!0,v,o)},X=be=>Qu(be)&&nn(be)&&(be.id==="_start"||be.id==="_end"),Z=be=>ko(h,Ae=>BC(e,Ae,o,be,be)),se=be=>{const Ae=vr(be.childNodes),Be=Z(be)||ko(h,St=>_A(C,be,St)),Ye=be.parentNode;if(!Be&&ke(Ye)&&CE(v)&&Z(Ye),v.deep&&Ae.length)for(let St=0;St<Ae.length;St++)se(Ae[St]);mt(["underline","line-through","overline"],St=>{nn(be)&&e.dom.getStyle(be,"text-decoration")===St&&be.parentNode&&K1(C,be.parentNode)===St&&BC(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:St}},void 0,be)})},xe=be=>{const Ae=C.get(be?"_start":"_end");if(Ae){let Ve=Ae[be?"firstChild":"lastChild"];return X(Ve)&&(Ve=Ve[be?"firstChild":"lastChild"]),Ut(Ve)&&Ve.data.length===0&&(Ve=be?Ae.previousSibling||Ae.nextSibling:Ae.nextSibling||Ae.previousSibling),C.remove(Ae,!0),Ve}else return null},Re=be=>{let Ae,Ve,Be=X1(C,be,h,be.collapsed);if(v.split){if(Be=LE(Be),Ae=PI(e,Be,!0),Ve=PI(e,Be),Ae!==Ve){if(Ae=vL(Ae,!0),Ve=vL(Ve,!1),gL(C,Ae,Ve)){const it=oe.from(Ae.firstChild).getOr(Ae);L(bL(C,it,!0,"span",{id:"_start","data-mce-type":"bookmark"})),xe(!0);return}if(gL(C,Ve,Ae)){const it=oe.from(Ve.lastChild).getOr(Ve);L(bL(C,it,!1,"span",{id:"_end","data-mce-type":"bookmark"})),xe(!1);return}Ae=Db(C,Ae,"span",{id:"_start","data-mce-type":"bookmark"}),Ve=Db(C,Ve,"span",{id:"_end","data-mce-type":"bookmark"});const Ye=C.createRng();Ye.setStartAfter(Ae),Ye.setEndBefore(Ve),vb(C,Ye,it=>{mt(it,St=>{!Qu(St)&&!Qu(St.parentNode)&&L(St)})}),L(Ae),L(Ve),Ae=xe(!0),Ve=xe()}else Ae=Ve=L(Ae);Be.startContainer=Ae.parentNode?Ae.parentNode:Ae,Be.startOffset=C.nodeIndex(Ae),Be.endContainer=Ve.parentNode?Ve.parentNode:Ve,Be.endOffset=C.nodeIndex(Ve)+1}vb(C,Be,Ye=>{mt(Ye,se)})};if(r){if(ry(r)){const be=C.createRng();be.setStartBefore(r),be.setEndAfter(r),Re(be)}else Re(r);XT(e,n,r,o);return}!A.isCollapsed()||!Ea(v)||Z1(e).length?(Cg(e,()=>kT(e,Re),be=>Ea(v)&&Tp(e,n,o,be)),e.nodeChanged()):OI(e,n,o,l),kV(e,n,o),XT(e,n,r,o)},CL=we.each,BV=(e,n,o,r)=>{const l=h=>{if(nn(h)&&nn(h.parentNode)&&em(h)){const v=K1(e,h.parentNode);e.getStyle(h,"color")&&v?e.setStyle(h,"text-decoration",v):e.getStyle(h,"text-decoration")===v&&e.setStyle(h,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(we.walk(r,l,"childNodes"),l(r))},$I=(e,n,o,r)=>{if(n.styles&&n.styles.backgroundColor){const l=mL(e,"fontSize");MI(r,h=>l(h)&&em(h),pL(e,"backgroundColor",Sg(n.styles.backgroundColor,o)))}},SL=(e,n,o,r)=>{if(Ea(n)&&(n.inline==="sub"||n.inline==="sup")){const l=mL(e,"fontSize");MI(r,v=>l(v)&&em(v),pL(e,"fontSize",""));const h=Lt(e.select(n.inline==="sup"?"sub":"sup",r),em);e.remove(h,!0)}},qY=(e,n,o,r)=>{CL(n,l=>{Ea(l)&&CL(e.dom.select(l.inline,r),h=>{SA(h)&&BC(e,l,o,h,l.exact?h:null)}),RV(e.dom,l,r)})},FC=(e,n,o,r,l)=>{const h=l.parentNode;sh(e,h,o,r)&&BC(e,n,r,l)||n.merge_with_parents&&h&&e.dom.getParent(h,v=>sh(e,v,o,r)?(BC(e,n,r,l),!0):!1)},HC=we.each,VC=(e,n,o,r)=>{if(Z_(e)&&Ea(n)&&o.parentNode){const l=lf(e.schema),h=EI(Ie.fromDom(o),v=>Ws(v.dom));return Qa(l,r)&&zs(Ie.fromDom(o.parentNode),!1)&&!h}else return!1},jE=(e,n,o,r)=>{if(HC(o.styles,(l,h)=>{e.setStyle(n,h,Sg(l,r))}),o.styles){const l=e.getAttrib(n,"style");l&&e.setAttrib(n,"data-mce-style",l)}},BI=(e,n,o,r)=>{const l=e.formatter.get(n),h=l[0],v=!r&&e.selection.isCollapsed(),C=e.dom,A=e.selection,L=(Re,be=h)=>{_e(be.onformat)&&be.onformat(Re,be,o,r),jE(C,Re,be,o),HC(be.attributes,(Ae,Ve)=>{C.setAttrib(Re,Ve,Sg(Ae,o))}),HC(be.classes,Ae=>{const Ve=Sg(Ae,o);C.hasClass(Re,Ve)||C.addClass(Re,Ve)})},X=(Re,be)=>{let Ae=!1;return HC(Re,Ve=>tu(Ve)?C.getContentEditable(be)==="false"&&!Ve.ceFalseOverride||ke(Ve.collapsed)&&Ve.collapsed!==v?!0:C.is(be,Ve.selector)&&!Ws(be)?(L(be,Ve),Ae=!0,!1):!0:!1),Ae},Z=Re=>{if(K(Re)){const be=C.create(Re);return L(be),be}else return null},se=(Re,be,Ae)=>{const Ve=[];let Be=!0;const Ye=h.inline||h.block,it=Z(Ye),St=ht=>yf(h)&&sh(e,ht,n,o),on=(ht,ft,bn)=>{const Ln=Rx(h)&&PT(e.schema,ht)&&pb(e,ft,Ye);return bn&&Ln},jt=(ht,ft,bn,Ln)=>{const Gn=ht.nodeName.toLowerCase(),wo=pb(e,Ye,Gn)&&pb(e,ft,Ye),Qo=!Ae&&Ut(ht)&&Cv(ht.data),Ds=Ws(ht),ar=!Ea(h)||!Re.isBlock(ht);return(bn||Ln)&&wo&&!Qo&&!Ds&&ar};vb(Re,be,ht=>{let ft;const bn=Ln=>{let Gn=!1,wo=Be,Qo=!1;const Ds=Ln.parentNode,ar=Ds.nodeName.toLowerCase(),Ri=Re.getContentEditable(Ln);ke(Ri)&&(wo=Be,Be=Ri==="true",Gn=!0,Qo=Ox(e,Ln));const kc=Be&&!Gn;if(hr(Ln)&&!VC(e,h,Ln,ar)){ft=null,kr(h)&&Re.remove(Ln);return}if(St(Ln)){ft=null;return}if(on(Ln,ar,kc)){const Ka=Re.rename(Ln,Ye);L(Ka),Ve.push(Ka),ft=null;return}if(tu(h)){let Ka=X(l,Ln);if(!Ka&&ke(Ds)&&CE(h)&&(Ka=X(l,Ds)),!Ea(h)||Ka){ft=null;return}}ke(it)&&jt(Ln,ar,kc,Qo)?(ft||(ft=Re.clone(it,!1),Ds.insertBefore(ft,Ln),Ve.push(ft)),Qo&&Gn&&(Be=wo),ft.appendChild(Ln)):(ft=null,mt(vr(Ln.childNodes),bn),Gn&&(Be=wo),ft=null)};mt(ht,bn)}),h.links===!0&&mt(Ve,ht=>{const ft=bn=>{bn.nodeName==="A"&&L(bn,h),mt(vr(bn.childNodes),ft)};ft(ht)}),mt(Ve,ht=>{const ft=Gn=>{let wo=0;return mt(Gn.childNodes,Qo=>{!pR(Qo)&&!Qu(Qo)&&wo++}),wo},bn=Gn=>vs(Gn.childNodes,mp).filter(Qo=>Re.getContentEditable(Qo)!=="false"&&_A(Re,Qo,h)).map(Qo=>{const Ds=Re.clone(Qo,!1);return L(Ds),Re.replace(Ds,Gn,!0),Re.remove(Qo,!0),Ds}).getOr(Gn),Ln=ft(ht);if((Ve.length>1||!Re.isBlock(ht))&&Ln===0){Re.remove(ht,!0);return}(Ea(h)||kr(h)&&h.wrapper)&&(!h.exact&&Ln===1&&(ht=bn(ht)),qY(e,l,o,ht),FC(e,h,n,o,ht),$I(Re,h,o,ht),BV(Re,h,o,ht),SL(Re,h,o,ht),hL(e,h,o,ht))})},xe=ry(r)?r:A.getNode();if(C.getContentEditable(xe)==="false"&&!Ox(e,xe)){r=xe,X(l,r),KT(e,n,r,o);return}if(h){if(r)if(ry(r)){if(!X(l,r)){const Re=C.createRng();Re.setStartBefore(r),Re.setEndAfter(r),se(C,X1(C,Re,l),!0)}}else se(C,r,!0);else!v||!Ea(h)||Z1(e).length?(A.setRng(NC(A.getRng())),Cg(e,()=>{kT(e,(Re,be)=>{const Ae=be?Re:X1(C,Re,l);se(C,Ae,!1)})},It),e.nodeChanged()):wA(e,n,o),cL(e.formatter,n).each(Re=>{mt(dL(e.selection),be=>jE(C,be,Re,o))});II(n,e)}KT(e,n,r,o)},FV=e=>qn(e,"vars"),HV=(e,n)=>{e.set({}),n.on("NodeChange",o=>{UV(n,o.element,e.get())}),n.on("FormatApply FormatRemove",o=>{const r=oe.from(o.node).map(l=>ry(l)?l:l.startContainer).bind(l=>nn(l)?oe.some(l):oe.from(l.parentElement)).getOrThunk(()=>VV(n));UV(n,r,e.get())})},VV=e=>e.selection.getStart(),xL=(e,n,o,r,l)=>Pc(n,C=>{const A=e.formatter.matchNode(C,o,l??{},r);return!ut(A)},C=>wI(e,C,o)?!0:r?!1:ke(e.formatter.matchNode(C,o,l,!0))),AL=(e,n)=>{const o=n??VV(e);return Lt(EE(e.dom,o),r=>nn(r)&&!ol(r))},UV=(e,n,o)=>{const r=AL(e,n);an(o,(l,h)=>{const v=C=>{const A=xL(e,r,h,C.similar,FV(C)?C.vars:void 0),L=A.isSome();if(C.state.get()!==L){C.state.set(L);const X=A.getOr(n);FV(C)?C.callback(L,{node:X,format:h,parents:r}):mt(C.callbacks,Z=>Z(L,{node:X,format:h,parents:r}))}};mt([l.withSimilar,l.withoutSimilar],v),mt(l.withVars,v)})},zV=(e,n,o,r,l,h)=>{const v=n.get();mt(o.split(","),C=>{const A=Xs(v,C).getOrThunk(()=>{const X={withSimilar:{state:Vi(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Vi(!1),similar:!1,callbacks:[]},withVars:[]};return v[C]=X,X}),L=()=>{const X=AL(e);return xL(e,X,C,l,h).isSome()};if(ut(h)){const X=l?A.withSimilar:A.withoutSimilar;X.callbacks.push(r),X.callbacks.length===1&&X.state.set(L())}else A.withVars.push({state:Vi(L()),similar:l,vars:h,callback:r})}),n.set(v)},OL=(e,n,o)=>{const r=e.get();mt(n.split(","),l=>Xs(r,l).each(h=>{r[l]={withSimilar:{...h.withSimilar,callbacks:Lt(h.withSimilar.callbacks,v=>v!==o)},withoutSimilar:{...h.withoutSimilar,callbacks:Lt(h.withoutSimilar.callbacks,v=>v!==o)},withVars:Lt(h.withVars,v=>v.callback!==o)}})),e.set(r)},WV=(e,n,o,r,l,h)=>(zV(e,n,o,r,l,h),{unbind:()=>OL(n,o,r)}),RL=(e,n,o,r)=>{const l=e.formatter.get(n);l&&(Tp(e,n,o,r)&&(!("toggle"in l[0])||l[0].toggle)?TL(e,n,o,r):BI(e,n,o,r))},IL=we.explode,UC=()=>{const e={};return{addFilter:(l,h)=>{mt(IL(l),v=>{qn(e,v)||(e[v]={name:v,callbacks:[]}),e[v].callbacks.push(h)})},getFilters:()=>qd(e),removeFilter:(l,h)=>{mt(IL(l),v=>{if(qn(e,v))if(ke(h)){const C=e[v],A=Lt(C.callbacks,L=>L!==h);A.length>0?C.callbacks=A:delete e[v]}else delete e[v]})}}},DL=(e,n)=>{mt(n,o=>{e.attr(o,null)})},Za=(e,n,o)=>{e.addNodeFilter("font",r=>{mt(r,l=>{const h=n.parse(l.attr("style")),v=l.attr("color"),C=l.attr("face"),A=l.attr("size");v&&(h.color=v),C&&(h["font-family"]=C),A&&cd(A).each(L=>{h["font-size"]=o[L-1]}),l.name="span",l.attr("style",n.serialize(h)),DL(l,["color","face","size"])})})},jY=(e,n,o)=>{e.addNodeFilter("strike",r=>{const l=n.type!=="html4";mt(r,h=>{if(l)h.name="s";else{const v=o.parse(h.attr("style"));v["text-decoration"]="line-through",h.name="span",h.attr("style",o.serialize(v))}})})},ZY=(e,n,o)=>{var r;const l=sg();n.convert_fonts_to_spans&&Za(e,l,we.explode((r=n.font_size_legacy_values)!==null&&r!==void 0?r:"")),jY(e,o,l)},YY=(e,n,o)=>{n.inline_styles&&ZY(e,n,o)},KY=e=>fetch(e).then(n=>n.ok?n.blob():Promise.reject()).catch(()=>Promise.reject(`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`)),im=e=>{const n=/([a-z0-9+\/=\s]+)/i.exec(e);return n?n[1]:""},ZE=e=>{const[n,...o]=e.split(","),r=o.join(","),l=/data:([^/]+\/[^;]+)(;.+)?/.exec(n);if(l){const h=l[2]===";base64",v=h?im(r):decodeURIComponent(r);return oe.some({type:l[1],data:v,base64Encoded:h})}else return oe.none()},Nb=(e,n,o=!0)=>{let r=n;if(o)try{r=atob(n)}catch{return oe.none()}const l=new Uint8Array(r.length);for(let h=0;h<l.length;h++)l[h]=r.charCodeAt(h);return oe.some(new Blob([l],{type:e}))},Oy=e=>new Promise((n,o)=>{ZE(e).bind(({type:r,data:l,base64Encoded:h})=>Nb(r,l,h)).fold(()=>o("Invalid data URI"),n)}),GV=e=>_i(e,"blob:")?KY(e):_i(e,"data:")?Oy(e):Promise.reject("Unknown URI format"),NL=e=>new Promise((n,o)=>{const r=new FileReader;r.onloadend=()=>{n(r.result)},r.onerror=()=>{var l;o((l=r.error)===null||l===void 0?void 0:l.message)},r.readAsDataURL(e)});let YE=0;const KE=e=>(e||"blobid")+YE++,Ry=(e,n,o)=>ZE(e).bind(({data:r,type:l,base64Encoded:h})=>{if(n&&!h)return oe.none();{const v=h?r:btoa(r);return o(v,l)}}),ML=(e,n,o)=>{const r=e.create(KE(),n,o);return e.add(r),r},AA=(e,n,o=!1)=>Ry(n,o,(r,l)=>oe.from(e.getByData(r,l)).orThunk(()=>Nb(l,r).map(h=>ML(e,h,r)))),kL=(e,n)=>{const o=()=>Promise.reject("Invalid data URI");if(_i(n,"blob:")){const r=e.getByUri(n);return ke(r)?Promise.resolve(r):GV(n).then(l=>NL(l).then(h=>Ry(h,!1,v=>oe.some(ML(e,l,v))).getOrThunk(o)))}else return _i(n,"data:")?AA(e,n).fold(o,r=>Promise.resolve(r)):Promise.reject("Unknown image data format")},PL=e=>ke(e.attr("data-mce-bogus")),qV=e=>e.attr("src")===Do.transparentSrc||ke(e.attr("data-mce-placeholder")),jV=(e,n)=>{const{blob_cache:o}=n;if(o){const r=l=>{const h=l.attr("src");qV(l)||PL(l)||yt(h)||AA(o,h,!0).each(v=>{l.attr("src",v.blobUri())})};e.addAttributeFilter("src",l=>mt(l,r))}},LL=(e,n)=>{const o=e.schema;n.remove_trailing_brs&&e.addNodeFilter("br",(l,h,v)=>{const C=we.extend({},o.getBlockElements()),A=o.getNonEmptyElements(),L=o.getWhitespaceElements();C.body=1;const X=Z=>Z.name in C&&Fm(o,Z);for(let Z=0,se=l.length;Z<se;Z++){let xe=l[Z],Re=xe.parent;if(Re&&C[Re.name]&&xe===Re.lastChild){let be=xe.prev;for(;be;){const Ae=be.name;if(Ae!=="span"||be.attr("data-mce-type")!=="bookmark"){Ae==="br"&&(xe=null);break}be=be.prev}if(xe&&(xe.remove(),WE(o,A,L,Re))){const Ae=o.getElementRule(Re.name);Ae&&(Ae.removeEmpty?Re.remove():Ae.paddEmpty&&DC(v,X,Re))}}else{let be=xe;for(;Re&&Re.firstChild===be&&Re.lastChild===be&&(be=Re,!C[Re.name]);)Re=Re.parent;if(be===Re){const Ae=new Ju("#text",3);Ae.value=ys,xe.replace(Ae)}}}}),e.addAttributeFilter("href",l=>{let h=l.length;const v=A=>A.split(" ").filter(X=>X.length>0).concat(["noopener"]).sort().join(" "),C=A=>{const L=A?we.trim(A):"";return/\b(noopener)\b/g.test(L)?L:v(L)};if(!n.allow_unsafe_link_target)for(;h--;){const A=l[h];A.name==="a"&&A.attr("target")==="_blank"&&A.attr("rel",C(A.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",l=>{let h=l.length,v,C,A,L;for(;h--;)if(L=l[h],L.name==="a"&&L.firstChild&&!L.attr("href"))for(A=L.parent,v=L.lastChild;v&&A;)C=v.prev,A.insert(v,L),v=C}),n.fix_list_elements&&e.addNodeFilter("ul,ol",l=>{let h=l.length,v,C;for(;h--;)if(v=l[h],C=v.parent,C&&(C.name==="ul"||C.name==="ol"))if(v.prev&&v.prev.name==="li")v.prev.append(v);else{const A=new Ju("li",1);A.attr("style","list-style-type: none"),v.wrap(A)}});const r=o.getValidClasses();n.validate&&r&&e.addAttributeFilter("class",l=>{var h;let v=l.length;for(;v--;){const C=l[v],A=(h=C.attr("class"))!==null&&h!==void 0?h:"",L=we.explode(A," ");let X="";for(let Z=0;Z<L.length;Z++){const se=L[Z];let xe=!1,Re=r["*"];Re&&Re[se]&&(xe=!0),Re=r[C.name],!xe&&Re&&Re[se]&&(xe=!0),xe&&(X&&(X+=" "),X+=se)}X.length||(X=null),C.attr("class",X)}}),jV(e,n)};function Iy(e){return Iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Iy(e)}function FI(e,n){return FI=Object.setPrototypeOf||function(r,l){return r.__proto__=l,r},FI(e,n)}function ZV(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function OA(e,n,o){return ZV()?OA=Reflect.construct:OA=function(l,h,v){var C=[null];C.push.apply(C,h);var A=Function.bind.apply(l,C),L=new A;return v&&FI(L,v.prototype),L},OA.apply(null,arguments)}function Cp(e){return $L(e)||YV(e)||zC(e)||KV()}function $L(e){if(Array.isArray(e))return RA(e)}function YV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zC(e,n){if(e){if(typeof e=="string")return RA(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);if(o==="Object"&&e.constructor&&(o=e.constructor.name),o==="Map"||o==="Set")return Array.from(e);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return RA(e,n)}}function RA(e,n){(n==null||n>e.length)&&(n=e.length);for(var o=0,r=new Array(n);o<n;o++)r[o]=e[o];return r}function KV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var BL=Object.hasOwnProperty,FL=Object.setPrototypeOf,HL=Object.isFrozen,XV=Object.getPrototypeOf,QV=Object.getOwnPropertyDescriptor,ed=Object.freeze,Sp=Object.seal,VL=Object.create,HI=typeof Reflect<"u"&&Reflect,WC=HI.apply,IA=HI.construct;WC||(WC=function(n,o,r){return n.apply(o,r)}),ed||(ed=function(n){return n}),Sp||(Sp=function(n){return n}),IA||(IA=function(n,o){return OA(n,Cp(o))});var JV=nu(Array.prototype.forEach),e8=nu(Array.prototype.pop),GC=nu(Array.prototype.push),XE=nu(String.prototype.toLowerCase),qC=nu(String.prototype.match),av=nu(String.prototype.replace),UL=nu(String.prototype.indexOf),DA=nu(String.prototype.trim),kd=nu(RegExp.prototype.test),VI=UI(TypeError);function nu(e){return function(n){for(var o=arguments.length,r=new Array(o>1?o-1:0),l=1;l<o;l++)r[l-1]=arguments[l];return WC(e,n,r)}}function UI(e){return function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return IA(e,o)}}function tr(e,n){FL&&FL(e,null);for(var o=n.length;o--;){var r=n[o];if(typeof r=="string"){var l=XE(r);l!==r&&(HL(n)||(n[o]=l),r=l)}e[r]=!0}return e}function xp(e){var n=VL(null),o;for(o in e)WC(BL,e,[o])&&(n[o]=e[o]);return n}function jC(e,n){for(;e!==null;){var o=QV(e,n);if(o){if(o.get)return nu(o.get);if(typeof o.value=="function")return nu(o.value)}e=XV(e)}function r(l){return console.warn("fallback value for",l),null}return r}var NA=ed(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),MA=ed(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),kA=ed(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),t8=ed(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),zI=ed(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),n8=ed(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),PA=ed(["#text"]),zL=ed(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),LA=ed(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),WL=ed(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),$A=ed(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),o8=Sp(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Dy=Sp(/<%[\w\W]*|[\w\W]*%>/gm),GL=Sp(/^data-[\-\w.\u00B7-\uFFFF]/),s8=Sp(/^aria-[\-\w]+$/),qL=Sp(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),r8=Sp(/^(?:\w+script|data):/i),jL=Sp(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ZC=Sp(/^html$/i),WI=function(){return typeof window>"u"?null:window},i8=function(n,o){if(Iy(n)!=="object"||typeof n.createPolicy!="function")return null;var r=null,l="data-tt-policy-suffix";o.currentScript&&o.currentScript.hasAttribute(l)&&(r=o.currentScript.getAttribute(l));var h="dompurify"+(r?"#"+r:"");try{return n.createPolicy(h,{createHTML:function(C){return C}})}catch{return console.warn("TrustedTypes policy "+h+" could not be created."),null}};function GI(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:WI(),n=function(vt){return GI(vt)};if(n.version="2.3.8",n.removed=[],!e||!e.document||e.document.nodeType!==9)return n.isSupported=!1,n;var o=e.document,r=e.document,l=e.DocumentFragment,h=e.HTMLTemplateElement,v=e.Node,C=e.Element,A=e.NodeFilter,L=e.NamedNodeMap,X=L===void 0?e.NamedNodeMap||e.MozNamedAttrMap:L,Z=e.HTMLFormElement,se=e.DOMParser,xe=e.trustedTypes,Re=C.prototype,be=jC(Re,"cloneNode"),Ae=jC(Re,"nextSibling"),Ve=jC(Re,"childNodes"),Be=jC(Re,"parentNode");if(typeof h=="function"){var Ye=r.createElement("template");Ye.content&&Ye.content.ownerDocument&&(r=Ye.content.ownerDocument)}var it=i8(xe,o),St=it?it.createHTML(""):"",on=r,jt=on.implementation,ht=on.createNodeIterator,ft=on.createDocumentFragment,bn=on.getElementsByTagName,Ln=o.importNode,Gn={};try{Gn=xp(r).documentMode?r.documentMode:{}}catch{}var wo={};n.isSupported=typeof Be=="function"&&jt&&typeof jt.createHTMLDocument<"u"&&Gn!==9;var Qo=o8,Ds=Dy,ar=GL,Ri=s8,kc=r8,Ka=jL,Gt=qL,Rn=null,hs=tr({},[].concat(Cp(NA),Cp(MA),Cp(kA),Cp(zI),Cp(PA))),un=null,Vn=tr({},[].concat(Cp(zL),Cp(LA),Cp(WL),Cp($A))),zn=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),hn=null,Wo=null,Go=!0,pc=!0,Vr=!1,po=!1,ps=!1,Ks=!1,cr=!1,mi=!1,Zi=!1,qr=!1,wa=!0,ch=!0,ul=!1,Ip={},Fd=null,Qy=tr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Jy=null,Dp=tr({},["audio","video","img","source","image","track"]),gm=null,Ba=tr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),lh="http://www.w3.org/1998/Math/MathML",Np="http://www.w3.org/2000/svg",ou="http://www.w3.org/1999/xhtml",uh=ou,Gg=!1,Ml,mv=["application/xhtml+xml","text/html"],Mp="text/html",Hd,qg=null,qS=r.createElement("form"),EO=function(vt){return vt instanceof RegExp||vt instanceof Function},jS=function(vt){qg&&qg===vt||((!vt||Iy(vt)!=="object")&&(vt={}),vt=xp(vt),Rn="ALLOWED_TAGS"in vt?tr({},vt.ALLOWED_TAGS):hs,un="ALLOWED_ATTR"in vt?tr({},vt.ALLOWED_ATTR):Vn,gm="ADD_URI_SAFE_ATTR"in vt?tr(xp(Ba),vt.ADD_URI_SAFE_ATTR):Ba,Jy="ADD_DATA_URI_TAGS"in vt?tr(xp(Dp),vt.ADD_DATA_URI_TAGS):Dp,Fd="FORBID_CONTENTS"in vt?tr({},vt.FORBID_CONTENTS):Qy,hn="FORBID_TAGS"in vt?tr({},vt.FORBID_TAGS):{},Wo="FORBID_ATTR"in vt?tr({},vt.FORBID_ATTR):{},Ip="USE_PROFILES"in vt?vt.USE_PROFILES:!1,Go=vt.ALLOW_ARIA_ATTR!==!1,pc=vt.ALLOW_DATA_ATTR!==!1,Vr=vt.ALLOW_UNKNOWN_PROTOCOLS||!1,po=vt.SAFE_FOR_TEMPLATES||!1,ps=vt.WHOLE_DOCUMENT||!1,mi=vt.RETURN_DOM||!1,Zi=vt.RETURN_DOM_FRAGMENT||!1,qr=vt.RETURN_TRUSTED_TYPE||!1,cr=vt.FORCE_BODY||!1,wa=vt.SANITIZE_DOM!==!1,ch=vt.KEEP_CONTENT!==!1,ul=vt.IN_PLACE||!1,Gt=vt.ALLOWED_URI_REGEXP||Gt,uh=vt.NAMESPACE||ou,vt.CUSTOM_ELEMENT_HANDLING&&EO(vt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(zn.tagNameCheck=vt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),vt.CUSTOM_ELEMENT_HANDLING&&EO(vt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(zn.attributeNameCheck=vt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),vt.CUSTOM_ELEMENT_HANDLING&&typeof vt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(zn.allowCustomizedBuiltInElements=vt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ml=mv.indexOf(vt.PARSER_MEDIA_TYPE)===-1?Ml=Mp:Ml=vt.PARSER_MEDIA_TYPE,Hd=Ml==="application/xhtml+xml"?function(On){return On}:XE,po&&(pc=!1),Zi&&(mi=!0),Ip&&(Rn=tr({},Cp(PA)),un=[],Ip.html===!0&&(tr(Rn,NA),tr(un,zL)),Ip.svg===!0&&(tr(Rn,MA),tr(un,LA),tr(un,$A)),Ip.svgFilters===!0&&(tr(Rn,kA),tr(un,LA),tr(un,$A)),Ip.mathMl===!0&&(tr(Rn,zI),tr(un,WL),tr(un,$A))),vt.ADD_TAGS&&(Rn===hs&&(Rn=xp(Rn)),tr(Rn,vt.ADD_TAGS)),vt.ADD_ATTR&&(un===Vn&&(un=xp(un)),tr(un,vt.ADD_ATTR)),vt.ADD_URI_SAFE_ATTR&&tr(gm,vt.ADD_URI_SAFE_ATTR),vt.FORBID_CONTENTS&&(Fd===Qy&&(Fd=xp(Fd)),tr(Fd,vt.FORBID_CONTENTS)),ch&&(Rn["#text"]=!0),ps&&tr(Rn,["html","head","body"]),Rn.table&&(tr(Rn,["tbody"]),delete hn.tbody),ed&&ed(vt),qg=vt)},PM=tr({},["mi","mo","mn","ms","mtext"]),ZS=tr({},["foreignobject","desc","title","annotation-xml"]),LM=tr({},["title","style","font","a","script"]),vm=tr({},MA);tr(vm,kA),tr(vm,t8);var e_=tr({},zI);tr(e_,n8);var at=function(vt){var On=Be(vt);(!On||!On.tagName)&&(On={namespaceURI:ou,tagName:"template"});var io=XE(vt.tagName),Yi=XE(On.tagName);return vt.namespaceURI===Np?On.namespaceURI===ou?io==="svg":On.namespaceURI===lh?io==="svg"&&(Yi==="annotation-xml"||PM[Yi]):!!vm[io]:vt.namespaceURI===lh?On.namespaceURI===ou?io==="math":On.namespaceURI===Np?io==="math"&&ZS[Yi]:!!e_[io]:vt.namespaceURI===ou?On.namespaceURI===Np&&!ZS[Yi]||On.namespaceURI===lh&&!PM[Yi]?!1:!e_[io]&&(LM[io]||!vm[io]):!1},ct=function(vt){GC(n.removed,{element:vt});try{vt.parentNode.removeChild(vt)}catch{try{vt.outerHTML=St}catch{vt.remove()}}},Zt=function(vt,On){try{GC(n.removed,{attribute:On.getAttributeNode(vt),from:On})}catch{GC(n.removed,{attribute:null,from:On})}if(On.removeAttribute(vt),vt==="is"&&!un[vt])if(mi||Zi)try{ct(On)}catch{}else try{On.setAttribute(vt,"")}catch{}},zt=function(vt){var On,io;if(cr)vt="<remove></remove>"+vt;else{var Yi=qC(vt,/^[\r\n\t ]+/);io=Yi&&Yi[0]}Ml==="application/xhtml+xml"&&(vt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+vt+"</body></html>");var Rf=it?it.createHTML(vt):vt;if(uh===ou)try{On=new se().parseFromString(Rf,Ml)}catch{}if(!On||!On.documentElement){On=jt.createDocument(uh,"template",null);try{On.documentElement.innerHTML=Gg?"":Rf}catch{}}var od=On.body||On.documentElement;return vt&&io&&od.insertBefore(r.createTextNode(io),od.childNodes[0]||null),uh===ou?bn.call(On,ps?"html":"body")[0]:ps?On.documentElement:od},Hn=function(vt){return ht.call(vt.ownerDocument||vt,vt,A.SHOW_ELEMENT|A.SHOW_COMMENT|A.SHOW_TEXT,null,!1)},qo=function(vt){return vt instanceof Z&&(typeof vt.nodeName!="string"||typeof vt.textContent!="string"||typeof vt.removeChild!="function"||!(vt.attributes instanceof X)||typeof vt.removeAttribute!="function"||typeof vt.setAttribute!="function"||typeof vt.namespaceURI!="string"||typeof vt.insertBefore!="function")},gr=function(vt){return Iy(v)==="object"?vt instanceof v:vt&&Iy(vt)==="object"&&typeof vt.nodeType=="number"&&typeof vt.nodeName=="string"},Pr=function(vt,On,io){wo[vt]&&JV(wo[vt],function(Yi){Yi.call(n,On,io,qg)})},jg=function(vt){var On;if(Pr("beforeSanitizeElements",vt,null),qo(vt)||kd(/[\u0080-\uFFFF]/,vt.nodeName))return ct(vt),!0;var io=Hd(vt.nodeName);if(Pr("uponSanitizeElement",vt,{tagName:io,allowedTags:Rn}),vt.hasChildNodes()&&!gr(vt.firstElementChild)&&(!gr(vt.content)||!gr(vt.content.firstElementChild))&&kd(/<[/\w]/g,vt.innerHTML)&&kd(/<[/\w]/g,vt.textContent)||io==="select"&&kd(/<template/i,vt.innerHTML))return ct(vt),!0;if(!Rn[io]||hn[io]){if(!hn[io]&&I5(io)&&(zn.tagNameCheck instanceof RegExp&&kd(zn.tagNameCheck,io)||zn.tagNameCheck instanceof Function&&zn.tagNameCheck(io)))return!1;if(ch&&!Fd[io]){var Yi=Be(vt)||vt.parentNode,Rf=Ve(vt)||vt.childNodes;if(Rf&&Yi)for(var od=Rf.length,ti=od-1;ti>=0;--ti)Yi.insertBefore(be(Rf[ti],!0),Ae(vt))}return ct(vt),!0}return vt instanceof C&&!at(vt)||(io==="noscript"||io==="noembed")&&kd(/<\/no(script|embed)/i,vt.innerHTML)?(ct(vt),!0):(po&&vt.nodeType===3&&(On=vt.textContent,On=av(On,Qo," "),On=av(On,Ds," "),vt.textContent!==On&&(GC(n.removed,{element:vt.cloneNode()}),vt.textContent=On)),Pr("afterSanitizeElements",vt,null),!1)},Vd=function(vt,On,io){if(wa&&(On==="id"||On==="name")&&(io in r||io in qS))return!1;if(!(pc&&!Wo[On]&&kd(ar,On))){if(!(Go&&kd(Ri,On))){if(!un[On]||Wo[On]){if(!(I5(vt)&&(zn.tagNameCheck instanceof RegExp&&kd(zn.tagNameCheck,vt)||zn.tagNameCheck instanceof Function&&zn.tagNameCheck(vt))&&(zn.attributeNameCheck instanceof RegExp&&kd(zn.attributeNameCheck,On)||zn.attributeNameCheck instanceof Function&&zn.attributeNameCheck(On))||On==="is"&&zn.allowCustomizedBuiltInElements&&(zn.tagNameCheck instanceof RegExp&&kd(zn.tagNameCheck,io)||zn.tagNameCheck instanceof Function&&zn.tagNameCheck(io))))return!1}else if(!gm[On]){if(!kd(Gt,av(io,Ka,""))){if(!((On==="src"||On==="xlink:href"||On==="href")&&vt!=="script"&&UL(io,"data:")===0&&Jy[vt])){if(!(Vr&&!kd(kc,av(io,Ka,"")))){if(io)return!1}}}}}}return!0},I5=function(vt){return vt.indexOf("-")>0},D5=function(vt){var On,io,Yi,Rf;Pr("beforeSanitizeAttributes",vt,null);var od=vt.attributes;if(od){var ti={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:un};for(Rf=od.length;Rf--;){On=od[Rf];var dh=On,xu=dh.name,$M=dh.namespaceURI;io=xu==="value"?On.value:DA(On.value),Yi=Hd(xu);var wO=io;if(ti.attrName=Yi,ti.attrValue=io,ti.keepAttr=!0,ti.forceKeepAttr=void 0,Pr("uponSanitizeAttribute",vt,ti),io=ti.attrValue,!ti.forceKeepAttr){if(!ti.keepAttr){Zt(xu,vt);continue}if(kd(/\/>/i,io)){Zt(xu,vt);continue}po&&(io=av(io,Qo," "),io=av(io,Ds," "));var BM=Hd(vt.nodeName);if(!Vd(BM,Yi,io)){Zt(xu,vt);continue}if(io!==wO)try{$M?vt.setAttributeNS($M,xu,io):vt.setAttribute(xu,io)}catch{Zt(xu,vt)}}}Pr("afterSanitizeAttributes",vt,null)}},Nj=function xo(vt){var On,io=Hn(vt);for(Pr("beforeSanitizeShadowDOM",vt,null);On=io.nextNode();)Pr("uponSanitizeShadowNode",On,null),!jg(On)&&(On.content instanceof l&&xo(On.content),D5(On));Pr("afterSanitizeShadowDOM",vt,null)};return n.sanitize=function(xo,vt){var On,io,Yi,Rf,od;if(Gg=!xo,Gg&&(xo="<!-->"),typeof xo!="string"&&!gr(xo)){if(typeof xo.toString!="function")throw VI("toString is not a function");if(xo=xo.toString(),typeof xo!="string")throw VI("dirty is not a string, aborting")}if(!n.isSupported){if(Iy(e.toStaticHTML)==="object"||typeof e.toStaticHTML=="function"){if(typeof xo=="string")return e.toStaticHTML(xo);if(gr(xo))return e.toStaticHTML(xo.outerHTML)}return xo}if(Ks||jS(vt),n.removed=[],typeof xo=="string"&&(ul=!1),ul){if(xo.nodeName){var ti=Hd(xo.nodeName);if(!Rn[ti]||hn[ti])throw VI("root node is forbidden and cannot be sanitized in-place")}}else if(xo instanceof v)On=zt("<!---->"),io=On.ownerDocument.importNode(xo,!0),io.nodeType===1&&io.nodeName==="BODY"||io.nodeName==="HTML"?On=io:On.appendChild(io);else{if(!mi&&!po&&!ps&&xo.indexOf("<")===-1)return it&&qr?it.createHTML(xo):xo;if(On=zt(xo),!On)return mi?null:qr?St:""}On&&cr&&ct(On.firstChild);for(var dh=Hn(ul?xo:On);Yi=dh.nextNode();)Yi.nodeType===3&&Yi===Rf||jg(Yi)||(Yi.content instanceof l&&Nj(Yi.content),D5(Yi),Rf=Yi);if(Rf=null,ul)return xo;if(mi){if(Zi)for(od=ft.call(On.ownerDocument);On.firstChild;)od.appendChild(On.firstChild);else od=On;return un.shadowroot&&(od=Ln.call(o,od,!0)),od}var xu=ps?On.outerHTML:On.innerHTML;return ps&&Rn["!doctype"]&&On.ownerDocument&&On.ownerDocument.doctype&&On.ownerDocument.doctype.name&&kd(ZC,On.ownerDocument.doctype.name)&&(xu="<!DOCTYPE "+On.ownerDocument.doctype.name+`>
`+xu),po&&(xu=av(xu,Qo," "),xu=av(xu,Ds," ")),it&&qr?it.createHTML(xu):xu},n.setConfig=function(xo){jS(xo),Ks=!0},n.clearConfig=function(){qg=null,Ks=!1},n.isValidAttribute=function(xo,vt,On){qg||jS({});var io=Hd(xo),Yi=Hd(vt);return Vd(io,Yi,On)},n.addHook=function(xo,vt){typeof vt=="function"&&(wo[xo]=wo[xo]||[],GC(wo[xo],vt))},n.removeHook=function(xo){if(wo[xo])return e8(wo[xo])},n.removeHooks=function(xo){wo[xo]&&(wo[xo]=[])},n.removeAllHooks=function(){wo={}},n}var a8=GI();const BA=we.each,qI=we.trim,jI=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],ZL={ftp:21,http:80,https:443,mailto:25},YL=["img","video"],c8=(e,n)=>ke(e)?!e:ke(n)?!kn(YL,n):!0,Dg=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},FA=(e,n,o)=>{const r=Dg(n).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(r)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(r)?c8(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)};class Ap{constructor(n,o={}){this.path="",this.directory="",n=qI(n),this.settings=o;const r=o.base_uri,l=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){l.source=n;return}const h=n.indexOf("//")===0;if(n.indexOf("/")===0&&!h&&(n=(r&&r.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){const C=r?r.path:new Ap(document.location.href).directory;if((r==null?void 0:r.protocol)==="")n="//mce_host"+l.toAbsPath(C,n);else{const A=/([^#?]*)([#?]?.*)/.exec(n);A&&(n=(r&&r.protocol||"http")+"://mce_host"+l.toAbsPath(C,A[1])+A[2])}}n=n.replace(/@@/g,"(mce_at)");const v=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);v&&BA(jI,(C,A)=>{let L=v[A];L&&(L=L.replace(/\(mce_at\)/g,"@@")),l[C]=L}),r&&(l.protocol||(l.protocol=r.protocol),l.userInfo||(l.userInfo=r.userInfo),!l.port&&l.host==="mce_host"&&(l.port=r.port),(!l.host||l.host==="mce_host")&&(l.host=r.host),l.source=""),h&&(l.protocol="")}static parseDataUri(n){let o;const r=decodeURIComponent(n).split(","),l=/data:([^;]+)/.exec(r[0]);return l&&(o=l[1]),{type:o,data:r[1]}}static isDomSafe(n,o,r={}){if(r.allow_script_urls)return!0;{const l=cf.decode(n).replace(/[\s\u0000-\u001F]+/g,"");return!FA(r,l,o)}}static getDocumentBaseUrl(n){var o;let r;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?r=(o=n.href)!==null&&o!==void 0?o:"":r=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r}setPath(n){const o=/^(.*?)\/?(\w+)?$/.exec(n);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(n){if(n==="./")return n;const o=new Ap(n,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const r=this.getURI(),l=o.getURI();if(r===l||r.charAt(r.length-1)==="/"&&r.substr(0,r.length-1)===l)return r;let h=this.toRelPath(this.path,o.path);return o.query&&(h+="?"+o.query),o.anchor&&(h+="#"+o.anchor),h}toAbsolute(n,o){const r=new Ap(n,{base_uri:this});return r.getURI(o&&this.isSameOrigin(r))}isSameOrigin(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;const o=this.protocol?ZL[this.protocol]:null;if(o&&(this.port||o)==(n.port||o))return!0}return!1}toRelPath(n,o){let r=0,l="",h,v;const C=n.substring(0,n.lastIndexOf("/")).split("/"),A=o.split("/");if(C.length>=A.length){for(h=0,v=C.length;h<v;h++)if(h>=A.length||C[h]!==A[h]){r=h+1;break}}if(C.length<A.length){for(h=0,v=A.length;h<v;h++)if(h>=C.length||C[h]!==A[h]){r=h+1;break}}if(r===1)return o;for(h=0,v=C.length-(r-1);h<v;h++)l+="../";for(h=r-1,v=A.length;h<v;h++)h!==r-1?l+="/"+A[h]:l+=A[h];return l}toAbsPath(n,o){let r=0;const l=/\/$/.test(o)?"/":"",h=n.split("/"),v=o.split("/"),C=[];BA(h,Z=>{Z&&C.push(Z)});const A=[];for(let Z=v.length-1;Z>=0;Z--)if(!(v[Z].length===0||v[Z]===".")){if(v[Z]===".."){r++;continue}if(r>0){r--;continue}A.push(v[Z])}const L=C.length-r;let X;return L<=0?X=Os(A).join("/"):X=C.slice(0,L).join("/")+"/"+Os(A).join("/"),X.indexOf("/")!==0&&(X="/"+X),l&&X.lastIndexOf("/")!==X.length-1&&(X+=l),X}getURI(n=!1){let o;return(!this.source||n)&&(o="",n||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const l8=we.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),HA="data-mce-type";let ZI=0;const QE=(e,n,o,r)=>{var l,h,v,C;const A=n.validate,L=o.getSpecialElements();e.nodeType===eo&&!n.allow_conditional_comments&&/^\[if/i.test((l=e.nodeValue)!==null&&l!==void 0?l:"")&&(e.nodeValue=" "+e.nodeValue);const X=(h=r==null?void 0:r.tagName)!==null&&h!==void 0?h:e.nodeName.toLowerCase();if(e.nodeType!==_r||X==="body")return;const Z=Ie.fromDom(e),se=Ji(Z,HA),xe=Pi(Z,"data-mce-bogus");if(!se&&K(xe)){xe==="all"?wr(Z):Ua(Z);return}const Re=o.getElementRule(X);if(A&&!Re){qn(L,X)?wr(Z):Ua(Z);return}else ke(r)&&(r.allowedTags[X]=!0);if(A&&Re&&!se){if(mt((v=Re.attributesForced)!==null&&v!==void 0?v:[],be=>{ho(Z,be.name,be.value==="{$uid}"?`mce_${ZI++}`:be.value)}),mt((C=Re.attributesDefault)!==null&&C!==void 0?C:[],be=>{Ji(Z,be.name)||ho(Z,be.name,be.value==="{$uid}"?`mce_${ZI++}`:be.value)}),Re.attributesRequired&&!ko(Re.attributesRequired,be=>Ji(Z,be))){Ua(Z);return}if(Re.removeEmptyAttrs&&Ha(Z)){Ua(Z);return}Re.outputName&&Re.outputName!==X&&Yw(Z,Re.outputName)}},KL=(e,n,o,r,l)=>!(r in l8&&FA(e,l,o))&&(!e.validate||n.isValid(o,r)||_i(r,"data-")||_i(r,"aria-")),XL=(e,n)=>e.hasAttribute(HA)&&(n==="id"||n==="class"||n==="style"),QL=(e,n)=>e in n.getBoolAttrs(),u8=(e,n,o)=>{const{attributes:r}=e;for(let l=r.length-1;l>=0;l--){const h=r[l],v=h.name,C=h.value;!KL(n,o,e.tagName.toLowerCase(),v,C)&&!XL(e,v)?e.removeAttribute(v):QL(v,o)&&e.setAttribute(v,v)}},d8=(e,n)=>{const o=a8();return o.addHook("uponSanitizeElement",(r,l)=>{QE(r,e,n,l)}),o.addHook("uponSanitizeAttribute",(r,l)=>{const h=r.tagName.toLowerCase(),{attrName:v,attrValue:C}=l;l.keepAttr=KL(e,n,h,v,C),l.keepAttr?(l.allowedAttributes[v]=!0,QL(v,n)&&(l.attrValue=v),e.allow_svg_data_urls&&_i(C,"data:image/svg+xml")&&(l.forceKeepAttr=!0)):XL(r,v)&&(l.forceKeepAttr=!0)}),o},JL=(e,n)=>{const r={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return r.PARSER_MEDIA_TYPE=n,e.allow_script_urls?r.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(r.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),r},f8=(e,n)=>{if(e.sanitize){const o=d8(e,n);return(r,l)=>{o.sanitize(r,JL(e,l)),o.removed=[]}}else return(o,r)=>{const l=document.createNodeIterator(o,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let h;for(;h=l.nextNode();)QE(h,e,n),nn(h)&&u8(h,e,n)}},e4=we.makeMap,t4=we.extend,YI=(e,n,o)=>{const r=e.name,l=r in o&&r!=="title"&&r!=="textarea",h=n.childNodes;for(let v=0,C=h.length;v<C;v++){const A=h[v],L=new Ju(A.nodeName.toLowerCase(),A.nodeType);if(nn(A)){const X=A.attributes;for(let Z=0,se=X.length;Z<se;Z++){const xe=X[Z];L.attr(xe.name,xe.value)}}else Ut(A)?(L.value=A.data,l&&(L.raw=!0)):(Wa(A)||n0(A)||Nm(A))&&(L.value=A.data);YI(L,A,o),e.append(L)}},KI=(e,n,o)=>{const r=[];for(let l=e,h=l;l;h=l,l=l.walk()){const v=l;mt(n,C=>C(v)),yt(v.parent)&&v!==e?l=h:r.push(v)}for(let l=r.length-1;l>=0;l--){const h=r[l];mt(o,v=>v(h))}},n4=(e,n,o,r)=>{const l=o.validate,h=n.getNonEmptyElements(),v=n.getWhitespaceElements(),C=t4(e4("script,style,head,html,body,title,meta,param"),n.getBlockElements()),A=lf(n),L=/[ \t\r\n]+/g,X=/^[ \t\r\n]+/,Z=/[ \t\r\n]+$/,se=Be=>{let Ye=Be.parent;for(;ke(Ye);){if(Ye.name in v)return!0;Ye=Ye.parent}return!1},xe=Be=>{let Ye=Be;for(;ke(Ye);){if(Ye.name in A)return WE(n,h,v,Ye);Ye=Ye.parent}return!1},Re=Be=>Be.name in C&&!Fm(n,Be),be=(Be,Ye)=>{const it=Ye?Be.prev:Be.next;return ke(it)||yt(Be.parent)?!1:Re(Be.parent)&&(Be.parent!==e||r.isRootContent===!0)};return[Be=>{var Ye;if(Be.type===3&&!se(Be)){let it=(Ye=Be.value)!==null&&Ye!==void 0?Ye:"";it=it.replace(L," "),(iV(Be.prev,Re)||be(Be,!0))&&(it=it.replace(X,"")),it.length===0?Be.remove():Be.value=it}},Be=>{var Ye;if(Be.type===1){const it=n.getElementRule(Be.name);if(l&&it){const St=WE(n,h,v,Be);it.paddInEmptyBlock&&St&&xe(Be)?DC(r,Re,Be):it.removeEmpty&&St?Re(Be)?Be.remove():Be.unwrap():it.paddEmpty&&(St||hI(Be))&&DC(r,Re,Be)}}else if(Be.type===3&&!se(Be)){let it=(Ye=Be.value)!==null&&Ye!==void 0?Ye:"";(Be.next&&Re(Be.next)||be(Be,!1))&&(it=it.replace(Z,"")),it.length===0?Be.remove():Be.value=it}}]},o4=(e,n)=>{var o;const r=(o=n.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return r===!1?"":r===!0?"p":r},Mb=(e={},n=Yl())=>{const o=UC(),r=UC(),l={validate:!0,root_name:"body",sanitize:!0,...e},h=new DOMParser,v=f8(l,n),C=(Ye,it,St="html")=>{const on=St==="xhtml"?"application/xhtml+xml":"text/html",jt=qn(n.getSpecialElements(),it.toLowerCase()),ht=jt?`<${it}>${Ye}</${it}>`:Ye,ft=St==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${ht}</body></html>`:`<body>${ht}</body>`,bn=h.parseFromString(ft,on).body;return v(bn,on),jt?bn.firstChild:bn},A=o.addFilter,L=o.getFilters,X=o.removeFilter,Z=r.addFilter,se=r.getFilters,xe=r.removeFilter,Re=(Ye,it)=>{HP(n,Ye)&&it.push(Ye)},be=(Ye,it)=>{const St=K(it.attr(HA)),on=it.type===1&&!qn(Ye,it.name)&&!Bm(n,it);return it.type===3||on&&!St},Ae=(Ye,it)=>{const St=t4(e4("script,style,head,html,body,title,meta,param"),n.getBlockElements()),on=/^[ \t\r\n]+/,jt=/[ \t\r\n]+$/;let ht=Ye.firstChild,ft=null;const bn=Ln=>{var Gn,wo;Ln&&(ht=Ln.firstChild,ht&&ht.type===3&&(ht.value=(Gn=ht.value)===null||Gn===void 0?void 0:Gn.replace(on,"")),ht=Ln.lastChild,ht&&ht.type===3&&(ht.value=(wo=ht.value)===null||wo===void 0?void 0:wo.replace(jt,"")))};if(n.isValidChild(Ye.name,it.toLowerCase())){for(;ht;){const Ln=ht.next;be(St,ht)?(ft||(ft=new Ju(it,1),ft.attr(l.forced_root_block_attrs),Ye.insert(ft,ht)),ft.append(ht)):(bn(ft),ft=null),ht=Ln}bn(ft)}},Be={schema:n,addAttributeFilter:Z,getAttributeFilters:se,removeAttributeFilter:xe,addNodeFilter:A,getNodeFilters:L,removeNodeFilter:X,parse:(Ye,it={})=>{var St;const on=l.validate,jt=(St=it.context)!==null&&St!==void 0?St:l.root_name,ht=C(Ye,jt,it.format);Uf(n,ht);const ft=new Ju(jt,11);YI(ft,ht,n.getSpecialElements()),ht.innerHTML="";const[bn,Ln]=n4(ft,n,l,it),Gn=[],wo=on?Ri=>Re(Ri,Gn):Ot,Qo={nodes:{},attributes:{}},Ds=Ri=>UE(L(),se(),Ri,Qo);if(KI(ft,[bn,Ds],[Ln,wo]),Gn.reverse(),on&&Gn.length>0)if(it.context){const{pass:Ri,fail:kc}=vi(Gn,Ka=>Ka.parent===ft);mI(kc,n,ft,Ds),it.invalid=Ri.length>0}else mI(Gn,n,ft,Ds);const ar=o4(l,it);return ar&&(ft.name==="body"||it.isRootContent)&&Ae(ft,ar),it.invalid||fI(Qo,it),ft}};return LL(Be,l),YY(Be,l,n),Be},s4=e=>kC(e)?Sb({validate:!1}).serialize(e):e,XI=(e,n,o)=>{const r=s4(e),l=n(r);if(l.isDefaultPrevented())return l;if(kC(e))if(l.content!==r){const h=Mb({validate:!1,forced_root_block:!1,sanitize:o}).parse(l.content,{context:e.name});return{...l,content:h}}else return{...l,content:e};else return l},QI=(e,n)=>{if(n.no_events)return Is.value(n);{const o=eC(e,n);return o.isDefaultPrevented()?Is.error(tC(e,{content:"",...o}).content):Is.value(o)}},JI=(e,n,o)=>o.no_events?n:XI(n,l=>tC(e,{...o,content:l}),lb(e)).content,eD=(e,n)=>{if(n.no_events)return Is.value(n);{const o=XI(n.content,r=>QT(e,{...n,content:r}),lb(e));return o.isDefaultPrevented()?(JT(e,o),Is.error(void 0)):Is.value(o)}},YC=(e,n,o)=>{o.no_events||JT(e,{...o,content:n})},tD=(e,n,o)=>({element:e,width:n,rows:o}),KC=(e,n)=>({element:e,cells:n}),h8=(e,n)=>({x:e,y:n}),r4=(e,n)=>oc(e,n).bind(cd).getOr(1),m8=(e,n,o,r,l)=>{const h=r4(l,"rowspan"),v=r4(l,"colspan"),C=e.rows;for(let A=o;A<o+h;A++){C[A]||(C[A]=KC(g0(r),[]));for(let L=n;L<n+v;L++){const X=C[A].cells;X[L]=A===o&&L===n?l:Zm(l)}}},i4=(e,n,o)=>{const r=e.rows;return!!(r[o]?r[o].cells:[])[n]},a4=(e,n,o)=>{for(;i4(e,n,o);)n++;return n},c4=e=>Ns(e,(n,o)=>o.cells.length>n?o.cells.length:n,0),l4=(e,n)=>{const o=e.rows;for(let r=0;r<o.length;r++){const l=o[r].cells;for(let h=0;h<l.length;h++)if(ns(l[h],n))return oe.some(h8(h,r))}return oe.none()},u4=(e,n,o,r,l)=>{const h=[],v=e.rows;for(let C=o;C<=l;C++){const A=v[C].cells,L=n<r?A.slice(n,r+1):A.slice(r,n+1);h.push(KC(v[C].element,L))}return h},p8=(e,n,o)=>{const r=n.x,l=n.y,h=o.x,v=o.y,C=l<v?u4(e,r,l,h,v):u4(e,r,v,h,l);return tD(e.element,c4(C),C)},d4=(e,n)=>{const o=Zm(e.element),r=Ie.fromTag("tbody");return gd(r,n),Er(o,r),o},XY=e=>Yt(e.rows,n=>{const o=Yt(n.cells,l=>{const h=g0(l);return fr(h,"colspan"),fr(h,"rowspan"),h}),r=Zm(n.element);return gd(r,o),r}),g8=e=>{const n=tD(Zm(e),0,[]);return mt(Qr(e,"tr"),(o,r)=>{mt(Qr(o,"td,th"),(l,h)=>{m8(n,a4(n,h,r),r,o,l)})}),tD(n.element,c4(n.rows),n.rows)},v8=e=>d4(e,XY(e)),b8=(e,n,o)=>l4(e,n).bind(r=>l4(e,o).map(l=>p8(e,r,l))),y8=e=>vs(e,n=>Vs(n)==="ul"||Vs(n)==="ol"),_8=(e,n)=>vs(e,o=>Vs(o)==="li"&&sy(o,n)).fold(tt([]),o=>y8(e).map(r=>{const l=Ie.fromTag(Vs(r)),h=ks(tl(r),(v,C)=>_i(C,"list-style"));return ha(l,h),[Ie.fromTag("li"),l]}).getOr([])),E8=(e,n)=>{const o=Ns(n,(r,l)=>(Er(l,r),l),e);return n.length>0?uC([o]):o},w8=e=>ci(e)?Vo(e).filter(Gr).fold(tt([]),n=>[e,n]):Gr(e)?[e]:[],f4=(e,n)=>{const o=Ie.fromDom(n.commonAncestorContainer),r=ov(o,e),l=Lt(r,tf),h=_8(r,n),v=l.concat(h.length?h:w8(o));return Yt(v,Zm)},h4=()=>uC([]),T8=(e,n)=>E8(Ie.fromDom(n.cloneContents()),f4(e,n)),C8=(e,n)=>Da(n,"table",je(ns,e)),S8=(e,n)=>C8(e,n[0]).bind(o=>{const r=n[0],l=n[n.length-1],h=g8(o);return b8(h,r,l).map(v=>uC([v8(v)]))}).getOrThunk(h4),x8=(e,n)=>n.length>0&&n[0].collapsed?h4():T8(e,n[0]),QY=(e,n)=>{const o=oy(n,e);return o.length>0?S8(e,o):x8(e,n)},nD=(e,n)=>n>=0&&n<e.length&&ny(e.charAt(n)),m4=e=>yd(e.innerText),A8=e=>e.map(n=>n.nodeName).getOr("div").toLowerCase(),JY=e=>oe.from(e.selection.getRng()).map(n=>{var o;const r=oe.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),l=e.getBody(),h=A8(r),v=Ie.fromDom(n.cloneContents());Pk(v),Lk(v);const C=e.dom.add(l,h,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},v.dom),A=m4(C),L=yd((o=C.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(C),nD(L,0)||nD(L,L.length-1)){const X=r.getOr(l),Z=m4(X),se=Z.indexOf(A);if(se===-1)return A;{const xe=nD(Z,se-1),Re=nD(Z,se+A.length);return(xe?" ":"")+A+(Re?" ":"")}}else return A}).getOr(""),O8=(e,n)=>{const o=e.selection.getRng(),r=e.dom.create("body"),l=e.selection.getSel(),h=HR(e,Uo(l)),v=n.contextual?QY(Ie.fromDom(e.getBody()),h).dom:o.cloneContents();return v&&r.appendChild(v),e.selection.serializer.serialize(r,n)},xi=(e,n)=>{if(n.format==="text")return JY(e);{const o=O8(e,n);return n.format==="tree"?o:e.selection.isCollapsed()?"":o}},oD=(e,n)=>({...e,format:n,get:!0,selection:!0,getInner:!0}),eK=(e,n,o={})=>{const r=oD(o,n);return QI(e,r).fold(qt,l=>{const h=xi(e,l);return JI(e,h,l)})},sD=0,p4=1,Ny=2,tK=(e,n)=>{const o=e.length+n.length+2,r=new Array(o),l=new Array(o),h=(X,Z,se)=>({start:X,end:Z,diag:se}),v=(X,Z,se,xe,Re)=>{const be=A(X,Z,se,xe);if(be===null||be.start===Z&&be.diag===Z-xe||be.end===X&&be.diag===X-se){let Ae=X,Ve=se;for(;Ae<Z||Ve<xe;)Ae<Z&&Ve<xe&&e[Ae]===n[Ve]?(Re.push([sD,e[Ae]]),++Ae,++Ve):Z-X>xe-se?(Re.push([Ny,e[Ae]]),++Ae):(Re.push([p4,n[Ve]]),++Ve)}else{v(X,be.start,se,be.start-be.diag,Re);for(let Ae=be.start;Ae<be.end;++Ae)Re.push([sD,e[Ae]]);v(be.end,Z,be.end-be.diag,xe,Re)}},C=(X,Z,se,xe)=>{let Re=X;for(;Re-Z<xe&&Re<se&&e[Re]===n[Re-Z];)++Re;return h(X,Re,Z)},A=(X,Z,se,xe)=>{const Re=Z-X,be=xe-se;if(Re===0||be===0)return null;const Ae=Re-be,Ve=be+Re,Be=(Ve%2===0?Ve:Ve+1)/2;r[1+Be]=X,l[1+Be]=Z+1;let Ye,it,St,on,jt;for(Ye=0;Ye<=Be;++Ye){for(it=-Ye;it<=Ye;it+=2){for(St=it+Be,it===-Ye||it!==Ye&&r[St-1]<r[St+1]?r[St]=r[St+1]:r[St]=r[St-1]+1,on=r[St],jt=on-X+se-it;on<Z&&jt<xe&&e[on]===n[jt];)r[St]=++on,++jt;if(Ae%2!==0&&Ae-Ye<=it&&it<=Ae+Ye&&l[St-Ae]<=r[St])return C(l[St-Ae],it+X-se,Z,xe)}for(it=Ae-Ye;it<=Ae+Ye;it+=2){for(St=it+Be-Ae,it===Ae-Ye||it!==Ae+Ye&&l[St+1]<=l[St-1]?l[St]=l[St+1]-1:l[St]=l[St-1],on=l[St]-1,jt=on-X+se-it;on>=X&&jt>=se&&e[on]===n[jt];)l[St]=on--,jt--;if(Ae%2===0&&-Ye<=it&&it<=Ye&&l[St]<=r[St+Ae])return C(l[St],it+X-se,Z,xe)}}return null},L=[];return v(0,e.length,0,n.length,L),L},R8=e=>nn(e)?e.outerHTML:Ut(e)?cf.encodeRaw(e.data,!1):Wa(e)?"<!--"+e.data+"-->":"",cl=e=>{let n;const o=document.createElement("div"),r=document.createDocumentFragment();for(e&&(o.innerHTML=e);n=o.firstChild;)r.appendChild(n);return r},g4=(e,n,o)=>{const r=cl(n);if(e.hasChildNodes()&&o<e.childNodes.length){const l=e.childNodes[o];e.insertBefore(r,l)}else e.appendChild(r)},v4=(e,n)=>{if(e.hasChildNodes()&&n<e.childNodes.length){const o=e.childNodes[n];e.removeChild(o)}},b4=(e,n)=>{let o=0;mt(e,r=>{r[0]===sD?o++:r[0]===p4?(g4(n,r[1],o),o++):r[0]===Ny&&v4(n,o)})},I8=e=>Lt(Yt(vr(e.childNodes),R8),n=>n.length>0),D8=(e,n)=>{const o=Yt(vr(n.childNodes),R8);return b4(tK(o,e),n),n},VA=hl(()=>document.implementation.createHTMLDocument("undo")),N8=e=>e.indexOf("</iframe>")!==-1,rD=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),M8=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),XC=e=>{const n=I8(e.getBody()),o=Ca(n,l=>{const h=kk(e.serializer,l);return h.length>0?[h]:[]}),r=o.join("");return N8(r)?rD(o):M8(r)},UA=(e,n,o)=>{const r=o?n.beforeBookmark:n.bookmark;n.type==="fragmented"?D8(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:ke(r)&&wT(r)?!r.isFakeCaret:!0}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},QC=e=>e.type==="fragmented"?e.fragments.join(""):e.content,iD=e=>{const n=Ie.fromTag("body",VA());return Rm(n,QC(e)),mt(Qr(n,"*[data-mce-bogus]"),Ua),Pf(n)},aD=(e,n)=>QC(e)===QC(n),k8=(e,n)=>iD(e)===iD(n),cD=(e,n)=>!e||!n?!1:aD(e,n)?!0:k8(e,n),lD=e=>e.get()===0,td=(e,n,o)=>{lD(o)&&(e.typing=n)},y4=(e,n)=>{e.typing&&(td(e,!1,n),e.add())},P8=e=>{e.typing&&(e.typing=!1,e.add())},L8=(e,n,o)=>{lD(n)&&o.set(ba(e.selection))},$8=(e,n,o,r,l,h,v)=>{const C=XC(e),A=we.extend(h||{},C);if(!lD(r)||e.removed)return null;const L=n.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:A,lastLevel:L,originalEvent:v}).isDefaultPrevented()||L&&cD(L,A))return null;n.data[o.get()]&&l.get().each(se=>{n.data[o.get()].beforeBookmark=se});const X=sT(e);if(X&&n.data.length>X){for(let se=0;se<n.data.length-1;se++)n.data[se]=n.data[se+1];n.data.length--,o.set(n.data.length)}A.bookmark=ba(e.selection),o.get()<n.data.length-1&&(n.data.length=o.get()+1),n.data.push(A),o.set(n.data.length-1);const Z={level:A,lastLevel:L,originalEvent:v};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",Z),e.dispatch("change",Z)):e.dispatch("AddUndo",Z),A},B8=(e,n,o)=>{n.data=[],o.set(0),n.typing=!1,e.dispatch("ClearUndos")},_4=(e,n,o,r,l)=>{if(n.transact(r)){const h=n.data[o.get()].bookmark,v=n.data[o.get()-1];UA(e,v,!0),n.transact(l)&&(n.data[o.get()-1].beforeBookmark=h)}},F8=(e,n,o)=>{let r;return n.get()<o.length-1&&(n.set(n.get()+1),r=o[n.get()],UA(e,r,!1),e.setDirty(!0),e.dispatch("Redo",{level:r})),r},H8=(e,n,o,r)=>{let l;return n.typing&&(n.add(),n.typing=!1,td(n,!1,o)),r.get()>0&&(r.set(r.get()-1),l=n.data[r.get()],UA(e,l,!0),e.setDirty(!0),e.dispatch("Undo",{level:l})),l},V8=e=>{e.clear(),e.add()},zA=(e,n,o)=>o.get()>0||n.typing&&n.data[0]&&!cD(XC(e),n.data[0]),U8=(e,n)=>n.get()<e.data.length-1&&!e.typing,z8=(e,n,o)=>(y4(e,n),e.beforeChange(),e.ignore(o),e.add()),E4=(e,n)=>{try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},uD=(e,n)=>{const o=e.dom,r=ke(n)?n:e.getBody();mt(o.select("table,a",r),l=>{switch(l.nodeName){case"TABLE":const h=aT(e),v=o.getAttrib(l,"border");(!v||v==="0")&&e.hasVisual?o.addClass(l,h):o.removeClass(l,h);break;case"A":if(!o.getAttrib(l,"href")){const C=o.getAttrib(l,"name")||l.id,A=L0(e);C&&e.hasVisual?o.addClass(l,A):o.removeClass(l,A)}break}}),e.dispatch("VisualAid",{element:n,hasVisual:e.hasVisual})},w4=e=>({init:{bindEvents:Ot},undoManager:{beforeChange:(n,o)=>L8(e,n,o),add:(n,o,r,l,h,v)=>$8(e,n,o,r,l,h,v),undo:(n,o,r)=>H8(e,n,o,r),redo:(n,o)=>F8(e,n,o),clear:(n,o)=>B8(e,n,o),reset:n=>V8(n),hasUndo:(n,o)=>zA(e,n,o),hasRedo:(n,o)=>U8(n,o),transact:(n,o,r)=>z8(n,o,r),ignore:(n,o)=>E4(n,o),extra:(n,o,r,l)=>_4(e,n,o,r,l)},formatter:{match:(n,o,r,l)=>Tp(e,n,o,r,l),matchAll:(n,o)=>TV(e,n,o),matchNode:(n,o,r,l)=>sh(e,n,o,r,l),canApply:n=>ia(e,n),closest:n=>CI(e,n),apply:(n,o,r)=>BI(e,n,o,r),remove:(n,o,r,l)=>TL(e,n,o,r,l),toggle:(n,o,r)=>RL(e,n,o,r),formatChanged:(n,o,r,l,h)=>WV(e,n,o,r,l,h)},editor:{getContent:n=>O6(e,n),setContent:(n,o)=>bA(e,n,o),insertContent:(n,o)=>gA(e,n,o),addVisual:n=>uD(e,n)},selection:{getContent:(n,o)=>eK(e,n,o)},autocompleter:{addDecoration:n=>v6(e,n),removeDecoration:()=>y6(e,Ie.fromDom(e.getBody()))},raw:{getModel:()=>oe.none()}}),W8=e=>{const n=L=>De(L)?L:{},{init:o,undoManager:r,formatter:l,editor:h,selection:v,autocompleter:C,raw:A}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:(L,X,Z)=>r.transact(Z),ignore:(L,X)=>r.ignore(X),extra:(L,X,Z,se)=>r.extra(Z,se)},formatter:{match:(L,X,Z,se)=>l.match(L,n(X),se),matchAll:l.matchAll,matchNode:l.matchNode,canApply:L=>l.canApply(L),closest:L=>l.closest(L),apply:(L,X,Z)=>l.apply(L,n(X)),remove:(L,X,Z,se)=>l.remove(L,n(X)),toggle:(L,X,Z)=>l.toggle(L,n(X)),formatChanged:(L,X,Z,se,xe)=>l.formatChanged(X,Z,se,xe)},editor:{getContent:L=>h.getContent(L),setContent:(L,X)=>({content:h.setContent(L,X),html:""}),insertContent:(L,X)=>(h.insertContent(L),""),addVisual:h.addVisual},selection:{getContent:(L,X)=>v.getContent(X)},autocompleter:{addDecoration:C.addDecoration,removeDecoration:C.removeDecoration},raw:{getModel:()=>oe.some(A.getRawModel())}}},nK=()=>{const e=tt(null),n=tt("");return{init:{bindEvents:Ot},undoManager:{beforeChange:Ot,add:e,undo:e,redo:e,clear:Ot,reset:Ot,hasUndo:et,hasRedo:et,transact:e,ignore:Ot,extra:Ot},formatter:{match:et,matchAll:tt([]),matchNode:tt(void 0),canApply:et,closest:n,apply:Ot,remove:Ot,toggle:Ot,formatChanged:tt({unbind:Ot})},editor:{getContent:n,setContent:tt({content:"",html:""}),insertContent:tt(""),addVisual:Ot},selection:{getContent:n},autocompleter:{addDecoration:Ot,removeDecoration:Ot},raw:{getModel:tt(oe.none())}}},Ng=e=>qn(e.plugins,"rtc"),G8=e=>Xs(e.plugins,"rtc").bind(n=>oe.from(n.setup)),q8=e=>{const n=e;return G8(e).fold(()=>(n.rtcInstance=w4(e),oe.none()),o=>(n.rtcInstance=nK(),oe.some(()=>o().then(r=>(n.rtcInstance=W8(r),r.rtc.isRemote)))))},dD=e=>e.rtcInstance?e.rtcInstance:w4(e),Ai=e=>{const n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},WA=(e,n,o)=>{Ai(e).undoManager.beforeChange(n,o)},JC=(e,n,o,r,l,h,v)=>Ai(e).undoManager.add(n,o,r,l,h,v),T4=(e,n,o,r)=>Ai(e).undoManager.undo(n,o,r),C4=(e,n,o)=>Ai(e).undoManager.redo(n,o),j8=(e,n,o)=>{Ai(e).undoManager.clear(n,o)},S4=(e,n)=>{Ai(e).undoManager.reset(n)},Z8=(e,n,o)=>Ai(e).undoManager.hasUndo(n,o),Y8=(e,n,o)=>Ai(e).undoManager.hasRedo(n,o),K8=(e,n,o,r)=>Ai(e).undoManager.transact(n,o,r),X8=(e,n,o)=>{Ai(e).undoManager.ignore(n,o)},x4=(e,n,o,r,l)=>{Ai(e).undoManager.extra(n,o,r,l)},Q8=(e,n,o,r,l)=>Ai(e).formatter.match(n,o,r,l),J8=(e,n,o)=>Ai(e).formatter.matchAll(n,o),eS=(e,n,o,r,l)=>Ai(e).formatter.matchNode(n,o,r,l),A4=(e,n)=>Ai(e).formatter.canApply(n),O4=(e,n)=>Ai(e).formatter.closest(n),e7=(e,n,o,r)=>{Ai(e).formatter.apply(n,o,r)},t7=(e,n,o,r,l)=>{Ai(e).formatter.remove(n,o,r,l)},n7=(e,n,o,r)=>{Ai(e).formatter.toggle(n,o,r)},R4=(e,n,o,r,l,h)=>Ai(e).formatter.formatChanged(n,o,r,l,h),o7=(e,n)=>dD(e).editor.getContent(n),s7=(e,n,o)=>dD(e).editor.setContent(n,o),r7=(e,n,o)=>dD(e).editor.insertContent(n,o),i7=(e,n,o)=>Ai(e).selection.getContent(n,o),oK=(e,n)=>Ai(e).editor.addVisual(n),am=e=>Ai(e).init.bindEvents(),fD=(e,n)=>Ai(e).autocompleter.addDecoration(n),a7=e=>Ai(e).autocompleter.removeDecoration(),c7=(e,n={})=>{const o=n.format?n.format:"html";return i7(e,o,n)},I4=e=>e.dom.length===0?(wr(e),oe.none()):oe.some(e),l7=(e,n)=>e.filter(o=>Eu.isBookmarkNode(o.dom)).bind(n?Ia:Tc),Ts=(e,n,o,r)=>{const l=e.dom,h=n.dom,v=r?l.length:h.length;r?(tI(l,h,!1,!r),o.setStart(h,v)):(tI(h,l,!1,!r),o.setEnd(h,v))},sK=(e,n)=>{Vo(e).each(o=>{const r=e.dom;n&&BE(o,Ke(r,0))?nA(r,0):!n&&EC(o,Ke(r,r.length))&&eI(r,r.length)})},D4=(e,n,o,r)=>{e.bind(l=>((r?eI:nA)(l.dom,r?l.dom.length:0),n.filter(dr).map(v=>Ts(l,v,o,r)))).orThunk(()=>l7(n,r).or(n).filter(dr).map(h=>sK(h,r)))},u7=(e,n)=>{const o=oe.from(n.firstChild).map(Ie.fromDom),r=oe.from(n.lastChild).map(Ie.fromDom);e.deleteContents(),e.insertNode(n);const l=o.bind(Tc).filter(dr).bind(I4),h=r.bind(Ia).filter(dr).bind(I4);D4(l,o,e,!0),D4(h,r,e,!1),e.collapse(!1)},hi=(e,n)=>({format:"html",...e,set:!0,selection:!0,content:n}),d7=(e,n)=>{if(n.format!=="raw"){const o=e.selection.getRng(),r=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),l=r?{context:r.nodeName.toLowerCase()}:{},h=e.parser.parse(n.content,{forced_root_block:!1,...l,...n});return Sb({validate:!1},e.schema).serialize(h)}else return n.content},tS=(e,n,o={})=>{const r=hi(o,n);eD(e,r).each(l=>{const h=d7(e,l),v=e.selection.getRng();u7(v,v.createContextualFragment(h)),e.selection.setRng(v),wn(e,v),YC(e,h,l)})},N4=(e,n,o)=>{if(qn(e,n)){const r=Lt(e[n],l=>l!==o);r.length===0?delete e[n]:e[n]=r}};var f7=(e,n)=>{let o,r;const l=(C,A)=>vs(A,L=>e.is(L,C)),h=C=>e.getParents(C,void 0,e.getRoot()),v=()=>{o={},r={},n.on("NodeChange",C=>{const A=C.element,L=h(A),X={};an(o,(Z,se)=>{l(se,L).each(xe=>{r[se]||(mt(Z,Re=>{Re(!0,{node:xe,selector:se,parents:L})}),r[se]=Z),X[se]=Z})}),an(r,(Z,se)=>{X[se]||(delete r[se],mt(Z,xe=>{xe(!1,{node:A,selector:se,parents:L})}))})})};return{selectorChangedWithUnbind:(C,A)=>(o||v(),o[C]||(o[C]=[]),o[C].push(A),l(C,h(n.selection.getStart())).each(()=>{r[C]=o[C]}),{unbind:()=>{N4(o,C,A),N4(r,C,A)}})}};const M4=e=>!!(e&&e.ownerDocument)&&Je(Ie.fromDom(e.ownerDocument),Ie.fromDom(e)),k4=e=>e?M4(e.startContainer)&&M4(e.endContainer):!1,cv=(e,n,o,r)=>{let l,h;const{selectorChangedWithUnbind:v}=f7(e,r),C=(Gt,Rn)=>{const hs=e.createRng();ke(Gt)&&ke(Rn)?(hs.setStart(Gt,Rn),hs.setEnd(Gt,Rn),it(hs),Ve(!1)):(bE(e,hs,r.getBody(),!0),it(hs))},A=Gt=>c7(r,Gt),L=(Gt,Rn)=>tS(r,Gt,Rn),X=Gt=>xk(r.getBody(),Ye(),Gt),Z=Gt=>Ak(r.getBody(),Ye(),Gt),se=(Gt,Rn)=>kc.getBookmark(Gt,Rn),xe=Gt=>kc.moveToBookmark(Gt),Re=(Gt,Rn)=>(d6(e,Gt,Rn).each(it),Gt),be=()=>{const Gt=Ye(),Rn=Be();return!Gt||Gt.item?!1:Gt.compareEndPoints?Gt.compareEndPoints("StartToEnd",Gt)===0:!Rn||Gt.collapsed},Ae=()=>{const Gt=Ye(),Rn=r.getBody().querySelectorAll('[data-mce-selected="1"]');return Rn.length>0?nr(Rn,hs=>e.isEditable(hs.parentElement)):Gt.startContainer===Gt.endContainer?e.isEditable(Gt.startContainer):e.isEditable(Gt.startContainer)&&e.isEditable(Gt.endContainer)},Ve=Gt=>{const Rn=Ye();Rn.collapse(!!Gt),it(Rn)},Be=()=>n.getSelection?n.getSelection():n.document.selection,Ye=()=>{let Gt;const Rn=(un,Vn,zn)=>{try{return Vn.compareBoundaryPoints(un,zn)}catch{return-1}},hs=n.document;if(ke(r.bookmark)&&!Cb(r)){const un=Rg(r);if(un.isSome())return un.map(Vn=>HR(r,[Vn])[0]).getOr(hs.createRange())}try{const un=Be();un&&!Pn(un.anchorNode)&&(un.rangeCount>0?Gt=un.getRangeAt(0):Gt=hs.createRange(),Gt=HR(r,[Gt])[0])}catch{}if(Gt||(Gt=hs.createRange()),bd(Gt.startContainer)&&Gt.collapsed){const un=e.getRoot();Gt.setStart(un,0),Gt.setEnd(un,0)}return l&&h&&(Rn(Gt.START_TO_START,Gt,l)===0&&Rn(Gt.END_TO_END,Gt,l)===0?Gt=h:(l=null,h=null)),Gt},it=(Gt,Rn)=>{if(!k4(Gt))return;const hs=Be();if(Gt=r.dispatch("SetSelectionRange",{range:Gt,forward:Rn}).range,hs){h=Gt;try{hs.removeAllRanges(),hs.addRange(Gt)}catch{}Rn===!1&&hs.extend&&(hs.collapse(Gt.endContainer,Gt.endOffset),hs.extend(Gt.startContainer,Gt.startOffset)),l=hs.rangeCount>0?hs.getRangeAt(0):null}if(!Gt.collapsed&&Gt.startContainer===Gt.endContainer&&(hs!=null&&hs.setBaseAndExtent)&&Gt.endOffset-Gt.startOffset<2&&Gt.startContainer.hasChildNodes()){const Vn=Gt.startContainer.childNodes[Gt.startOffset];Vn&&Vn.nodeName==="IMG"&&(hs.setBaseAndExtent(Gt.startContainer,Gt.startOffset,Gt.endContainer,Gt.endOffset),(hs.anchorNode!==Gt.startContainer||hs.focusNode!==Gt.endContainer)&&hs.setBaseAndExtent(Vn,0,Vn,1))}r.dispatch("AfterSetSelectionRange",{range:Gt,forward:Rn})},St=Gt=>(L(e.getOuterHTML(Gt)),Gt),on=()=>l6(r.getBody(),Ye()),jt=(Gt,Rn)=>u6(e,Ye(),Gt,Rn),ht=()=>{const Gt=Be(),Rn=Gt==null?void 0:Gt.anchorNode,hs=Gt==null?void 0:Gt.focusNode;if(!Gt||!Rn||!hs||Pn(Rn)||Pn(hs))return!0;const un=e.createRng(),Vn=e.createRng();try{un.setStart(Rn,Gt.anchorOffset),un.collapse(!0),Vn.setStart(hs,Gt.focusOffset),Vn.collapse(!0)}catch{return!0}return un.compareBoundaryPoints(un.START_TO_START,Vn)<=0},Ri={dom:e,win:n,serializer:o,editor:r,expand:(Gt={type:"word"})=>it(_b(e).expand(Ye(),Gt)),collapse:Ve,setCursorLocation:C,getContent:A,setContent:L,getBookmark:se,moveToBookmark:xe,select:Re,isCollapsed:be,isEditable:Ae,isForward:ht,setNode:St,getNode:on,getSel:Be,setRng:it,getRng:Ye,getStart:X,getEnd:Z,getSelectedBlocks:jt,normalize:()=>{const Gt=Ye(),Rn=Be();if(!mb(Rn)&&MT(r)){const hs=yp(e,Gt);return hs.each(un=>{it(un,ht())}),hs.getOr(Gt)}return Gt},selectorChanged:(Gt,Rn)=>(v(Gt,Rn),Ri),selectorChangedWithUnbind:v,getScrollContainer:()=>{let Gt,Rn=e.getRoot();for(;Rn&&Rn.nodeName!=="BODY";){if(Rn.scrollHeight>Rn.clientHeight){Gt=Rn;break}Rn=Rn.parentNode}return Gt},scrollIntoView:(Gt,Rn)=>{ke(Gt)?Et(r,Gt,Rn):wn(r,Ye(),Rn)},placeCaretAt:(Gt,Rn)=>it(dC(Gt,Rn,r.getDoc())),getBoundingClientRect:()=>{const Gt=Ye();return Gt.collapsed?Ke.fromRangeStart(Gt).getClientRects()[0]:Gt.getBoundingClientRect()},destroy:()=>{n=l=h=null,Ka.destroy()}},kc=Eu(Ri),Ka=$x(Ri,r);return Ri.bookmarkManager=kc,Ri.controlSelection=Ka,Ri},Pd=(e,n,o)=>{e.addAttributeFilter("data-mce-tabindex",(r,l)=>{let h=r.length;for(;h--;){const v=r[h];v.attr("tabindex",v.attr("data-mce-tabindex")),v.attr(l,null)}}),e.addAttributeFilter("src,href,style",(r,l)=>{const h="data-mce-"+l,v=n.url_converter,C=n.url_converter_scope;let A=r.length;for(;A--;){const L=r[A];let X=L.attr(h);X!==void 0?(L.attr(l,X.length>0?X:null),L.attr(h,null)):(X=L.attr(l),l==="style"?X=o.serializeStyle(o.parseStyle(X),L.name):v&&(X=v.call(C,X,l,L.name)),L.attr(l,X.length>0?X:null))}}),e.addAttributeFilter("class",r=>{let l=r.length;for(;l--;){const h=r[l];let v=h.attr("class");v&&(v=v.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),h.attr("class",v.length>0?v:null))}}),e.addAttributeFilter("data-mce-type",(r,l,h)=>{let v=r.length;for(;v--;){const C=r[v];C.attr("data-mce-type")==="bookmark"&&!h.cleanup&&(oe.from(C.firstChild).exists(L=>{var X;return!Cv((X=L.value)!==null&&X!==void 0?X:"")})?C.unwrap():C.remove())}}),e.addNodeFilter("noscript",r=>{var l;let h=r.length;for(;h--;){const v=r[h].firstChild;v&&(v.value=cf.decode((l=v.value)!==null&&l!==void 0?l:""))}}),e.addNodeFilter("script,style",(r,l)=>{var h;const v=A=>A.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let C=r.length;for(;C--;){const A=r[C],L=A.firstChild,X=(h=L==null?void 0:L.value)!==null&&h!==void 0?h:"";if(l==="script"){const Z=A.attr("type");Z&&A.attr("type",Z==="mce-no/type"?null:Z.replace(/^mce\-/,"")),n.element_format==="xhtml"&&L&&X.length>0&&(L.value=`// <![CDATA[
`+v(X)+`
// ]]>`)}else n.element_format==="xhtml"&&L&&X.length>0&&(L.value=`<!--
`+v(X)+`
-->`)}}),e.addNodeFilter("#comment",r=>{let l=r.length;for(;l--;){const h=r[l],v=h.value;n.preserve_cdata&&(v==null?void 0:v.indexOf("[CDATA["))===0?(h.name="#cdata",h.type=4,h.value=o.decode(v.replace(/^\[CDATA\[|\]\]$/g,""))):(v==null?void 0:v.indexOf("mce:protected "))===0&&(h.name="#text",h.type=3,h.raw=!0,h.value=unescape(v).substr(14))}}),e.addNodeFilter("xml:namespace,input",(r,l)=>{let h=r.length;for(;h--;){const v=r[h];v.type===7?v.remove():v.type===1&&l==="input"&&!v.attr("type")&&v.attr("type","text")}}),e.addAttributeFilter("data-mce-type",r=>{mt(r,l=>{l.attr("data-mce-type")==="format-caret"&&(l.isEmpty(e.schema.getNonEmptyElements())?l.remove():l.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(r,l)=>{let h=r.length;for(;h--;)r[h].attr(l,null)})},nS=e=>{const n=r=>(r==null?void 0:r.name)==="br",o=e.lastChild;if(n(o)){const r=o.prev;n(r)&&(o.remove(),r.remove())}},My=(e,n,o)=>{let r;const l=e.dom;let h=n.cloneNode(!0);const v=document.implementation;if(v.createHTMLDocument){const C=v.createHTMLDocument("");we.each(h.nodeName==="BODY"?h.childNodes:[h],A=>{C.body.appendChild(C.importNode(A,!0))}),h.nodeName!=="BODY"?h=C.body.firstChild:h=C.body,r=l.doc,l.doc=C}return zT(e,{...o,node:h}),r&&(l.doc=r),h},Mg=(e,n)=>ke(e)&&e.hasEventListeners("PreProcess")&&!n.no_events,oS=(e,n,o)=>Mg(e,o)?My(e,n,o):n,hD=(e,n,o)=>{we.inArray(n,o)===-1&&(e.addAttributeFilter(o,(r,l)=>{let h=r.length;for(;h--;)r[h].attr(l,null)}),n.push(o))},mD=(e,n,o)=>!n.no_events&&e?WT(e,{...n,content:o}).content:o,P4=(e,n,o)=>{const r=yd(o.getInner?n.innerHTML:e.getOuterHTML(n));return o.selection||li(Ie.fromDom(n))?r:we.trim(r)},L4=(e,n,o)=>{const r=o.selection?{forced_root_block:!1,...o}:o,l=e.parse(n,r);return nS(l),l},h7=(e,n,o)=>Sb(e,n).serialize(o),m7=(e,n,o,r,l)=>{const h=h7(n,o,r);return mD(e,l,h)},$4=(e,n)=>{const o=["data-mce-selected"],r=n&&n.dom?n.dom:sr.DOM,l=n&&n.schema?n.schema:Yl(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0;const h=Mb(e,l);Pd(h,e,r);const v=(C,A={})=>{const L={format:"html",...A},X=oS(n,C,L),Z=P4(r,X,L),se=L4(h,Z,L);return L.format==="tree"?se:m7(n,e,l,se,L)};return{schema:l,addNodeFilter:h.addNodeFilter,addAttributeFilter:h.addAttributeFilter,serialize:v,addRules:l.addValidElements,setRules:l.setValidElements,addTempAttr:je(hD,h,o),getTempAttrs:tt(o),getNodeFilters:h.getNodeFilters,getAttributeFilters:h.getAttributeFilters,removeNodeFilter:h.removeNodeFilter,removeAttributeFilter:h.removeAttributeFilter}},pD=(e,n)=>{const o=$4(e,n);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},B4="html",F4=(e,n)=>({...e,format:n,get:!0,getInner:!0}),gD=(e,n={})=>{const o=n.format?n.format:B4,r=F4(n,o);return QI(e,r).fold(qt,l=>{const h=o7(e,l);return JI(e,h,l)})},rK="html",p7=(e,n)=>({format:rK,...e,set:!0,content:n}),H4=(e,n,o={})=>{const r=p7(o,n);return eD(e,r).map(l=>{const h=s7(e,l.content,l);return YC(e,h.html,l),h.content}).getOr(n)},g7="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),v7="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),kg="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),b7=[{name:"template",replacedWith:"Advanced Template"}],y7=(e,n)=>{const o=Lt(n,r=>qn(e,r));return Ms(o)},_7=e=>{const n=y7(e,g7),o=e.forced_root_block;return(o===!1||o==="")&&n.push("forced_root_block (false only)"),Ms(n)},sS=e=>y7(e,v7),V4=(e,n)=>{const o=we.makeMap(e.plugins," "),l=Lt(n,h=>qn(o,h));return Ms(l)},U4=e=>V4(e,kg),z4=e=>V4(e,b7.map(n=>n.name)),W4=(e,n)=>{const o=_7(e),r=U4(n),l=r.length>0,h=o.length>0,v=n.theme==="mobile";if(l||h||v){const C=`
- `,A=v?`

Themes:${C}mobile`:"",L=l?`

Plugins:${C}${r.join(C)}`:"",X=h?`

Options:${C}${o.join(C)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+A+L+X)}},E7=e=>vs(b7,n=>n.name===e).fold(()=>e,n=>`${e}, replaced by ${n.replacedWith}`),w7=(e,n)=>{const o=sS(e),r=z4(n),l=r.length>0,h=o.length>0;if(l||h){const v=`
- `,C=l?`

Plugins:${v}${r.map(E7).join(v)}`:"",A=h?`

Options:${v}${o.join(v)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+C+A)}},kb=(e,n)=>{W4(e,n),w7(e,n)},GA=sr.DOM,T7=e=>{GA.setStyle(e.id,"display",e.orgDisplay)},qA=e=>oe.from(e).each(n=>n.destroy()),C7=e=>{const n=e;n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null;const o=e.selection;if(o){const r=o.dom;n.selection=o.win=o.dom=r.doc=null}},S7=e=>{const n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,delete n._mceOldSubmit),GA.unbind(n,"submit reset",e.formEventDelegate))},x7=e=>{if(!e.removed){const{_selectionOverrides:n,editorUpload:o}=e,r=e.getBody(),l=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&ke(l==null?void 0:l.nextSibling)&&GA.remove(l.nextSibling),GT(e),e.editorManager.remove(e),!e.inline&&r&&T7(e),bR(e),GA.remove(e.getContainer()),qA(n),qA(o),e.destroy()}},A7=(e,n)=>{const{selection:o,dom:r}=e;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),qA(o),qA(r)),S7(e),C7(e),e.destroyed=!0}},jA=(()=>{const e={};return{add:(l,h)=>{e[l]=h},get:l=>e[l]?e[l]:{icons:{}},has:l=>qn(e,l)}})(),JE=xs.ModelManager,G4=(e,n)=>n.dom[e],O7=(e,n)=>parseInt($u(n,e),10),rS=je(G4,"clientWidth"),R7=je(G4,"clientHeight"),vD=je(O7,"margin-top"),I7=je(O7,"margin-left"),D7=e=>e.dom.getBoundingClientRect(),N7=(e,n,o)=>{const r=rS(e),l=R7(e);return n>=0&&o>=0&&n<=r&&o<=l},M7=(e,n,o,r)=>{const l=D7(n),h=e?l.left+n.dom.clientLeft+I7(n):0,v=e?l.top+n.dom.clientTop+vD(n):0,C=o-h,A=r-v;return{x:C,y:A}},ky=(e,n,o)=>{const r=Ie.fromDom(e.getBody()),l=e.inline?r:Un(r),h=M7(e.inline,l,n,o);return N7(l,h.x,h.y)},Py=e=>oe.from(e).map(Ie.fromDom),ZA=e=>{const n=e.inline?e.getBody():e.getContentAreaContainer();return Py(n).map(Qs).getOr(!1)};var YA=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const Pb=e=>{const n=[],o=()=>{const se=e.theme;return se&&se.getNotificationManagerImpl?se.getNotificationManagerImpl():YA()},r=()=>oe.from(n[0]),l=(se,xe)=>se.type===xe.type&&se.text===xe.text&&!se.progressBar&&!se.timeout&&!xe.progressBar&&!xe.timeout,h=()=>{mt(n,se=>{se.reposition()})},v=se=>{n.push(se)},C=se=>{Rr(n,xe=>xe===se).each(xe=>{n.splice(xe,1)})},A=(se,xe=!0)=>e.removed||!ZA(e)?{}:(xe&&e.dispatch("BeforeOpenNotification",{notification:se}),vs(n,Re=>l(o().getArgs(Re),se)).getOrThunk(()=>{e.editorManager.setActive(e);const Re=o().open(se,()=>{C(Re),h(),r().fold(()=>e.focus(),be=>Qn(Ie.fromDom(be.getEl())))});return v(Re),h(),e.dispatch("OpenNotification",{notification:{...Re}}),Re})),L=()=>{r().each(se=>{o().close(se),C(se),h()})},X=tt(n);return(se=>{se.on("SkinLoaded",()=>{const xe=j_(se);xe&&A({text:xe,type:"warning",timeout:0},!1),h()}),se.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(h)}),se.on("remove",()=>{mt(n.slice(),xe=>{o().close(xe)})})})(e),{open:A,close:L,getNotifications:X}},cm=xs.PluginManager,Pg=xs.ThemeManager;var KA=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const bD=e=>{let n=[];const o=()=>{const be=e.theme;return be&&be.getWindowManagerImpl?be.getWindowManagerImpl():KA()},r=(be,Ae)=>(...Ve)=>Ae?Ae.apply(be,Ve):void 0,l=be=>{e.dispatch("OpenWindow",{dialog:be})},h=be=>{e.dispatch("CloseWindow",{dialog:be})},v=be=>{n.push(be),l(be)},C=be=>{h(be),n=Lt(n,Ae=>Ae!==be),n.length===0&&e.focus()},A=()=>oe.from(n[n.length-1]),L=be=>{e.editorManager.setActive(e),Cu(e),e.ui.show();const Ae=be();return v(Ae),Ae},X=(be,Ae)=>L(()=>o().open(be,Ae,C)),Z=be=>L(()=>o().openUrl(be,C)),se=(be,Ae,Ve)=>{const Be=o();Be.alert(be,r(Ve||Be,Ae))},xe=(be,Ae,Ve)=>{const Be=o();Be.confirm(be,r(Ve||Be,Ae))},Re=()=>{A().each(be=>{o().close(be),C(be)})};return e.on("remove",()=>{mt(n,be=>{o().close(be)})}),{open:X,openUrl:Z,alert:se,confirm:xe,close:Re}},XA=(e,n)=>{e.notificationManager.open({type:"error",text:n})},ew=(e,n)=>{e._skinLoaded?XA(e,n):e.on("SkinLoaded",()=>{XA(e,n)})},q4=(e,n)=>{ew(e,Td.translate(["Failed to upload image: {0}",n]))},tw=(e,n,o)=>{YT(e,n,{message:o}),console.error(o)},Lg=(e,n,o)=>o?`Failed to load ${e}: ${o} from url ${n}`:`Failed to load ${e} url: ${n}`,j4=(e,n,o)=>{tw(e,"PluginLoadError",Lg("plugin",n,o))},Z4=(e,n,o)=>{tw(e,"IconsLoadError",Lg("icons",n,o))},Y4=(e,n,o)=>{tw(e,"LanguageLoadError",Lg("language",n,o))},QA=(e,n,o)=>{tw(e,"ThemeLoadError",Lg("theme",n,o))},K4=(e,n,o)=>{tw(e,"ModelLoadError",Lg("model",n,o))},X4=(e,n,o)=>{const r=Td.translate(["Failed to initialize plugin: {0}",n]);YT(e,"PluginLoadError",{message:r}),iS(r,o),ew(e,r)},iS=(e,...n)=>{const o=window.console;o&&(o.error?o.error(e,...n):o.log(e,...n))},Q4=e=>/^[a-z0-9\-]+$/i.test(e),lv=e=>rh(e,sb(e)),Lb=e=>rh(e,gg(e)),rh=(e,n)=>{const o=e.editorManager.baseURL+"/skins/content",l=`content${e.editorManager.suffix}.css`;return Yt(n,h=>Q4(h)&&!e.inline?`${o}/${h}/${l}`:e.documentBaseURI.toAbsolute(h))},k7=e=>{e.contentCSS=e.contentCSS.concat(lv(e),Lb(e))},P7=e=>e?vr(e.getElementsByTagName("img")):[],L7=(e,n)=>{const o={};return{findAll:(l,h=It)=>{const v=Lt(P7(l),A=>{const L=A.src;return A.hasAttribute("data-mce-bogus")||A.hasAttribute("data-mce-placeholder")||!L||L===Do.transparentSrc?!1:_i(L,"blob:")?!e.isUploaded(L)&&h(A):_i(L,"data:")?h(A):!1}),C=Yt(v,A=>{const L=A.src;if(qn(o,L))return o[L].then(X=>K(X)?X:{image:A,blobInfo:X.blobInfo});{const X=kL(n,L).then(Z=>(delete o[L],{image:A,blobInfo:Z})).catch(Z=>(delete o[L],Z));return o[L]=X,X}});return Promise.all(C)}}},J4=()=>{let o={};const r=(se,xe)=>({status:se,resultUri:xe}),l=se=>se in o;return{hasBlobUri:l,getResultUri:se=>{const xe=o[se];return xe?xe.resultUri:null},isPending:se=>l(se)?o[se].status===1:!1,isUploaded:se=>l(se)?o[se].status===2:!1,markPending:se=>{o[se]=r(1,null)},markUploaded:(se,xe)=>{o[se]=r(2,xe)},removeFailed:se=>{delete o[se]},destroy:()=>{o={}}}};let $7=0;const B7=()=>{const e=()=>Math.round(Math.random()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},F7=e=>e+$7+++B7(),H7=()=>{let e=[];const n=Z=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[Z.toLowerCase()]||"dat",o=(Z,se,xe,Re,be)=>{if(K(Z))return r({id:Z,name:Re,filename:be,blob:se,base64:xe});if(De(Z))return r(Z);throw new Error("Unknown input type")},r=Z=>{if(!Z.blob||!Z.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const se=Z.id||F7("blobid"),xe=Z.name||se,Re=Z.blob;return{id:tt(se),name:tt(xe),filename:tt(Z.filename||xe+"."+n(Re.type)),blob:tt(Re),base64:tt(Z.base64),blobUri:tt(Z.blobUri||URL.createObjectURL(Re)),uri:tt(Z.uri)}},l=Z=>{v(Z.id())||e.push(Z)},h=Z=>vs(e,Z).getOrUndefined(),v=Z=>h(se=>se.id()===Z);return{create:o,add:l,get:v,getByUri:Z=>h(se=>se.blobUri()===Z),getByData:(Z,se)=>h(xe=>xe.base64()===Z&&xe.blob().type===se),findFirst:h,removeByUri:Z=>{e=Lt(e,se=>se.blobUri()===Z?(URL.revokeObjectURL(se.blobUri()),!1):!0)},destroy:()=>{mt(e,Z=>{URL.revokeObjectURL(Z.blobUri())}),e=[]}}},V7=(e,n)=>{const o={},r=(be,Ae)=>be?be.replace(/\/$/,"")+"/"+Ae.replace(/^\//,""):Ae,l=(be,Ae)=>new Promise((Ve,Be)=>{const Ye=new XMLHttpRequest;Ye.open("POST",n.url),Ye.withCredentials=n.credentials,Ye.upload.onprogress=St=>{Ae(St.loaded/St.total*100)},Ye.onerror=()=>{Be("Image upload failed due to a XHR Transport error. Code: "+Ye.status)},Ye.onload=()=>{if(Ye.status<200||Ye.status>=300){Be("HTTP Error: "+Ye.status);return}const St=JSON.parse(Ye.responseText);if(!St||!K(St.location)){Be("Invalid JSON: "+Ye.responseText);return}Ve(r(n.basePath,St.location))};const it=new FormData;it.append("file",be.blob(),be.filename()),Ye.send(it)}),h=_e(n.handler)?n.handler:l,v=()=>new Promise(be=>{be([])}),C=(be,Ae)=>({url:Ae,blobInfo:be,status:!0}),A=(be,Ae)=>({url:"",blobInfo:be,status:!1,error:Ae}),L=(be,Ae)=>{we.each(o[be],Ve=>{Ve(Ae)}),delete o[be]},X=(be,Ae,Ve)=>(e.markPending(be.blobUri()),new Promise(Be=>{let Ye,it;try{const St=()=>{Ye&&(Ye.close(),it=Ot)},on=ht=>{St(),e.markUploaded(be.blobUri(),ht),L(be.blobUri(),C(be,ht)),Be(C(be,ht))},jt=ht=>{St(),e.removeFailed(be.blobUri()),L(be.blobUri(),A(be,ht)),Be(A(be,ht))};it=ht=>{ht<0||ht>100||oe.from(Ye).orThunk(()=>oe.from(Ve).map(ao)).each(ft=>{Ye=ft,ft.progressBar.value(ht)})},Ae(be,it).then(on,ht=>{jt(K(ht)?{message:ht}:ht)})}catch(St){Be(A(be,St))}})),Z=be=>be===l,se=be=>{const Ae=be.blobUri();return new Promise(Ve=>{o[Ae]=o[Ae]||[],o[Ae].push(Ve)})},xe=(be,Ae)=>(be=we.grep(be,Ve=>!e.isUploaded(Ve.blobUri())),Promise.all(we.map(be,Ve=>e.isPending(Ve.blobUri())?se(Ve):X(Ve,h,Ae))));return{upload:(be,Ae)=>!n.url&&Z(h)?v():xe(be,Ae)}},e$=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),t$=(e,n)=>V7(n,{url:jh(e),basePath:U_(e),credentials:ob(e),handler:eh(e)}),U7=e=>{const n=J4(),o=t$(e,n);return{upload:(r,l=!0)=>o.upload(r,l?e$(e):void 0)}},yD=e=>{const n=H7();let o,r;const l=J4(),h=[],v=Ye=>it=>e.selection?Ye(it):[],C=Ye=>Ye+(Ye.indexOf("?")===-1?"?":"&")+new Date().getTime(),A=(Ye,it,St)=>{let on=0;do on=Ye.indexOf(it,on),on!==-1&&(Ye=Ye.substring(0,on)+St+Ye.substr(on+it.length),on+=St.length-it.length+1);while(on!==-1);return Ye},L=(Ye,it,St)=>{const on=`src="${St}"${St===Do.transparentSrc?' data-mce-placeholder="1"':""}`;return Ye=A(Ye,`src="${it}"`,on),Ye=A(Ye,'data-mce-src="'+it+'"','data-mce-src="'+St+'"'),Ye},X=(Ye,it)=>{mt(e.undoManager.data,St=>{St.type==="fragmented"?St.fragments=Yt(St.fragments,on=>L(on,Ye,it)):St.content=L(St.content,Ye,it)})},Z=(Ye,it)=>{const St=e.convertURL(it,"src");X(Ye.src,it),zr(Ie.fromDom(Ye),{src:Ic(e)?C(it):it,"data-mce-src":St})},se=()=>(o||(o=t$(e,l)),Ae().then(v(Ye=>{const it=Yt(Ye,St=>St.blobInfo);return o.upload(it,e$(e)).then(v(St=>{const on=[];let jt=!1;const ht=Yt(St,(ft,bn)=>{const{blobInfo:Ln,image:Gn}=Ye[bn];let wo=!1;return ft.status&&tT(e)?(ft.url&&!oi(Gn.src,ft.url)&&(jt=!0),n.removeByUri(Gn.src),Ng(e)||Z(Gn,ft.url)):ft.error&&(ft.error.remove&&(X(Gn.src,Do.transparentSrc),on.push(Gn),wo=!0),q4(e,ft.error.message)),{element:Gn,status:ft.status,uploadUri:ft.url,blobInfo:Ln,removed:wo}});return on.length>0&&!Ng(e)?e.undoManager.transact(()=>{mt(on,ft=>{e.dom.remove(ft),n.removeByUri(ft.src)})}):jt&&e.undoManager.dispatchChange(),ht}))}))),xe=()=>al(e)?se():Promise.resolve([]),Re=Ye=>nr(h,it=>it(Ye)),be=Ye=>{h.push(Ye)},Ae=()=>(r||(r=L7(l,n)),r.findAll(e.getBody(),Re).then(v(Ye=>{const it=Lt(Ye,St=>K(St)?(ew(e,St),!1):!0);return Ng(e)||mt(it,St=>{X(St.image.src,St.blobInfo.blobUri()),St.image.src=St.blobInfo.blobUri(),St.image.removeAttribute("data-mce-src")}),it}))),Ve=()=>{n.destroy(),l.destroy(),r=o=null},Be=Ye=>Ye.replace(/src="(blob:[^"]+)"/g,(it,St)=>{const on=l.getResultUri(St);if(on)return'src="'+on+'"';let jt=n.getByUri(St);return jt||(jt=Ns(e.editorManager.get(),(ht,ft)=>ht||ft.editorUpload&&ft.editorUpload.blobCache.getByUri(St),void 0)),jt?'src="data:'+jt.blob().type+";base64,"+jt.base64()+'"':it});return e.on("SetContent",()=>{al(e)?xe():Ae()}),e.on("RawSaveContent",Ye=>{Ye.content=Be(Ye.content)}),e.on("GetContent",Ye=>{Ye.source_view||Ye.format==="raw"||Ye.format==="tree"||(Ye.content=Be(Ye.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",Ye=>{mt(Ye,it=>{const St=it.attr("src");if(!St||n.getByUri(St))return;const on=l.getResultUri(St);on&&it.attr("src",on)})})}),{blobCache:n,addFilter:be,uploadImages:se,uploadImagesAuto:xe,scanForImages:Ae,destroy:Ve}},_D=e=>{const n=e.dom,o=e.schema.type,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:l=>{n.setStyle(l,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:l=>{n.setStyle(l,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const l={inline:"span",styles:{textDecoration:"line-through"},exact:!0},h={inline:"strike",remove:"all",preserve_attributes:["class","style"]},v={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[v,l,h]:[l,v,h]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(l,h,v)=>nn(l)&&l.hasAttribute("href"),onformat:(l,h,v)=>{we.each(v,(C,A)=>{n.setAttrib(l,A,C)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":l=>{var h;return(h=l==null?void 0:l.customValue)!==null&&h!==void 0?h:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return we.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),l=>{r[l]={block:l,remove:"all"}}),r},ED={remove_similar:!0,inherit:!1},nw={selector:"td,th",...ED},z7={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...nw},tablecellverticalalign:{styles:{"vertical-align":"%value"},...nw},tablecellbordercolor:{styles:{borderColor:"%value"},...nw},tablecellclass:{classes:["%value"],...nw},tableclass:{selector:"table",classes:["%value"],...ED},tablecellborderstyle:{styles:{borderStyle:"%value"},...nw},tablecellborderwidth:{styles:{borderWidth:"%value"},...nw}},n$=tt(z7),o$=e=>{const n={},o=v=>ke(v)?n[v]:n,r=v=>qn(n,v),l=(v,C)=>{v&&(K(v)?(H(C)||(C=[C]),mt(C,A=>{ut(A.deep)&&(A.deep=!tu(A)),ut(A.split)&&(A.split=!tu(A)||Ea(A)),ut(A.remove)&&tu(A)&&!Ea(A)&&(A.remove="none"),tu(A)&&Ea(A)&&(A.mixed=!0,A.block_expand=!0),K(A.classes)&&(A.classes=A.classes.split(/\s+/))}),n[v]=C):an(v,(A,L)=>{l(L,A)}))},h=v=>(v&&n[v]&&delete n[v],n);return l(_D(e)),l(n$()),l(Dc(e)),{get:o,has:r,register:l,unregister:h}},ow=we.each,Sf=sr.DOM,JA=e=>ke(e)&&De(e),e2=(e,n)=>{const o=n&&n.schema||Yl({}),r=(A,L)=>{L.classes.length>0&&Sf.addClass(A,L.classes.join(" ")),Sf.setAttribs(A,L.attrs)},l=A=>{const L=K(A)?{name:A,classes:[],attrs:{}}:A,X=Sf.create(L.name);return r(X,L),X},h=(A,L)=>{const X=o.getElementRule(A.nodeName.toLowerCase()),Z=X==null?void 0:X.parentsRequired;return Z&&Z.length?L&&kn(Z,L)?L:Z[0]:!1},v=(A,L,X)=>{let Z;const se=L[0],xe=JA(se)?se.name:void 0,Re=h(A,xe);if(Re)xe===Re?(Z=se,L=L.slice(1)):Z=Re;else if(se)Z=se,L=L.slice(1);else if(!X)return A;const be=Z?l(Z):Sf.create("div");be.appendChild(A),X&&we.each(X,Ve=>{const Be=l(Ve);be.insertBefore(Be,A)});const Ae=JA(Z)?Z.siblings:void 0;return v(be,L,Ae)},C=Sf.create("div");if(e.length>0){const A=e[0],L=l(A),X=JA(A)?A.siblings:void 0;C.appendChild(v(L,e.slice(1),X))}return C},W7=e=>{e=we.trim(e);let n="div";const o={name:n,classes:[],attrs:{},selector:e};return e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(r,l,h,v,C)=>{switch(l){case"#":o.attrs.id=h;break;case".":o.classes.push(h);break;case":":we.inArray("checked disabled enabled read-only required".split(" "),h)!==-1&&(o.attrs[h]=h);break}if(v==="["){const A=C.match(/([\w\-]+)(?:\=\"([^\"]+))?/);A&&(o.attrs[A[1]]=A[2])}return""})),o.name=n||"div",o},G7=e=>K(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),we.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),n=>{const o=we.map(n.split(/(?:~\+|~|\+)/),W7),r=o.pop();return o.length&&(r.siblings=o),r}).reverse()):[],$g=(e,n)=>{let o="",r=L1(e);if(r==="")return"";const l=se=>K(se)?se.replace(/%(\w+)/g,""):"",h=(se,xe)=>Sf.getStyle(xe??e.getBody(),se,!0);if(K(n)){const se=e.formatter.get(n);if(!se)return"";n=se[0]}if("preview"in n){const se=n.preview;if(se===!1)return"";r=se||r}let v=n.block||n.inline||"span",C;const A=G7(n.selector);A.length>0?(A[0].name||(A[0].name=v),v=n.selector,C=e2(A,e)):C=e2([v],e);const L=Sf.select(v,C)[0]||C.firstChild;ow(n.styles,(se,xe)=>{const Re=l(se);Re&&Sf.setStyle(L,xe,Re)}),ow(n.attributes,(se,xe)=>{const Re=l(se);Re&&Sf.setAttrib(L,xe,Re)}),ow(n.classes,se=>{const xe=l(se);Sf.hasClass(L,xe)||Sf.addClass(L,xe)}),e.dispatch("PreviewFormats"),Sf.setStyles(C,{position:"absolute",left:-65535}),e.getBody().appendChild(C);const X=h("fontSize"),Z=/px$/.test(X)?parseInt(X,10):0;return ow(r.split(" "),se=>{let xe=h(se,L);if(!(se==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(xe)&&(xe=h(se),hb(xe).toLowerCase()==="#ffffff"))&&!(se==="color"&&hb(xe).toLowerCase()==="#000000")){if(se==="font-size"&&/em|%$/.test(xe)){if(Z===0)return;xe=parseFloat(xe)/(/%$/.test(xe)?100:1)*Z+"px"}se==="border"&&xe&&(o+="padding:0 2px;"),o+=se+":"+xe+";"}}),e.dispatch("AfterPreviewFormats"),Sf.remove(C),o},lm=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},aS=e=>{const n=o$(e),o=Vi({});return lm(e),xV(e),Ng(e)||HV(o,e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:(r,l,h)=>{e7(e,r,l,h)},remove:(r,l,h,v)=>{t7(e,r,l,h,v)},toggle:(r,l,h)=>{n7(e,r,l,h)},match:(r,l,h,v)=>Q8(e,r,l,h,v),closest:r=>O4(e,r),matchAll:(r,l)=>J8(e,r,l),matchNode:(r,l,h,v)=>eS(e,r,l,h,v),canApply:r=>A4(e,r),formatChanged:(r,l,h,v)=>R4(e,o,r,l,h,v),getCssText:je($g,e)}},wD=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},t2=(e,n,o)=>{const r=Vi(!1),l=A=>{td(n,!1,o),n.add({},A)};e.on("init",()=>{n.add()}),e.on("BeforeExecCommand",A=>{const L=A.command;wD(L)||(y4(n,o),n.beforeChange())}),e.on("ExecCommand",A=>{const L=A.command;wD(L)||l(A)}),e.on("ObjectResizeStart cut",()=>{n.beforeChange()}),e.on("SaveContent ObjectResized blur",l),e.on("dragend",l),e.on("keyup",A=>{const L=A.keyCode;A.isDefaultPrevented()||((L>=33&&L<=36||L>=37&&L<=40||L===45||A.ctrlKey)&&(l(),e.nodeChanged()),(L===46||L===8)&&e.nodeChanged(),r.get()&&n.typing&&!cD(XC(e),n.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),r.set(!1),e.nodeChanged()))}),e.on("keydown",A=>{const L=A.keyCode;if(A.isDefaultPrevented())return;if(L>=33&&L<=36||L>=37&&L<=40||L===45){n.typing&&l(A);return}const X=A.ctrlKey&&!A.altKey||A.metaKey;(L<16||L>20)&&L!==224&&L!==91&&!n.typing&&!X&&(n.beforeChange(),td(n,!0,o),n.add({},A),r.set(!0))}),e.on("mousedown",A=>{n.typing&&l(A)});const h=A=>A.inputType==="insertReplacementText",v=A=>A.inputType==="insertText"&&A.data===null,C=A=>A.inputType==="insertFromPaste"||A.inputType==="insertFromDrop";e.on("input",A=>{A.inputType&&(h(A)||v(A)||C(A))&&l(A)}),e.on("AddUndo Undo Redo ClearUndos",A=>{A.isDefaultPrevented()||e.nodeChanged()})},s$=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},TD=e=>{const n=oa(),o=Vi(0),r=Vi(0),l={data:[],typing:!1,beforeChange:()=>{WA(e,o,n)},add:(h,v)=>JC(e,l,r,o,n,h,v),dispatchChange:()=>{e.setDirty(!0);const h=XC(e);h.bookmark=ba(e.selection),e.dispatch("change",{level:h,lastLevel:fl(l.data,r.get()).getOrUndefined()})},undo:()=>T4(e,l,o,r),redo:()=>C4(e,r,l.data),clear:()=>{j8(e,l,r)},reset:()=>{S4(e,l)},hasUndo:()=>Z8(e,l,r),hasRedo:()=>Y8(e,l,r),transact:h=>K8(e,l,o,h),ignore:h=>{X8(e,o,h)},extra:(h,v)=>{x4(e,l,r,h,v)}};return Ng(e)||t2(e,l,o),s$(e),l},r$=[9,27,Cn.HOME,Cn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Cn.DOWN,Cn.UP,Cn.LEFT,Cn.RIGHT].concat(Do.browser.isFirefox()?[224]:[]),CD="data-mce-placeholder",SD=e=>e.type==="keydown"||e.type==="keyup",xD=e=>{const n=e.keyCode;return n===Cn.BACKSPACE||n===Cn.DELETE},n2=e=>{if(SD(e)){const n=e.keyCode;return!xD(e)&&(Cn.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||kn(r$,n))}else return!1},AD=e=>SD(e)&&!(xD(e)||e.type==="keyup"&&e.keyCode===229),q7=(e,n,o)=>{if(zs(Ie.fromDom(n),!1)){const r=n.firstElementChild;return r?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:o===r.nodeName.toLowerCase():!0}else return!1},j7=e=>{var n;const o=e.dom,r=yu(e),l=(n=D0(e))!==null&&n!==void 0?n:"",h=(v,C)=>{if(n2(v))return;const A=e.getBody(),L=AD(v)?!1:q7(o,A,r);(o.getAttrib(A,CD)!==""!==L||C)&&(o.setAttrib(A,CD,L?l:null),o.setAttrib(A,"aria-placeholder",L?l:null),nm(e,L),e.on(L?"keydown":"keyup",h),e.off(L?"keyup":"keydown",h))};Cs(l)&&e.on("init",v=>{h(v,!0),e.on("change SetContent ExecCommand",h),e.on("paste",C=>Md.setEditorTimeout(e,()=>h(C)))})},Z7=(e,n)=>({block:e,position:n}),Y7=(e,n)=>({from:e,to:n}),o2=(e,n)=>{const o=Ie.fromDom(e),r=Ie.fromDom(n.container());return oA(o,r).map(l=>Z7(l,n))},K7=e=>!ns(e.from.block,e.to.block),i$=(e,n)=>es(n,l=>Hr(l)||ts(l.dom),l=>ns(l,e)).filter(is).getOr(e),OD=(e,n)=>{const o=Ie.fromDom(e);return ns(i$(o,n.from.block),i$(o,n.to.block))},X7=e=>Po(e.from.block.dom)===!1&&Po(e.to.block.dom)===!1,Q7=e=>{const n=o=>We(o)||pu(o.dom);return n(e.from.block)&&n(e.to.block)},J7=(e,n,o)=>hr(o.position.getNode())&&!zs(o.block)?fs(!1,o.block.dom).bind(r=>r.isEqual(o.position)?No(n,e,r).bind(l=>o2(e,l)):oe.some(o)).getOr(o):o,eU=(e,n,o)=>{const r=o2(e,Ke.fromRangeStart(o)),l=r.bind(h=>No(n,e,h.position).bind(v=>o2(e,v).map(C=>J7(e,n,C))));return _t(r,l,Y7).filter(h=>K7(h)&&OD(e,h)&&X7(h)&&Q7(h))},tU=(e,n,o)=>o.collapsed?eU(e,n,o):oe.none(),nU=e=>{const n=ze(e);return Rr(n,Ft).fold(tt(n),o=>n.slice(0,o))},a$=e=>{const n=nU(e);return mt(n,wr),n},cS=(e,n)=>{const o=ov(n,e);return vs(o.reverse(),r=>zs(r)).each(wr)},RD=e=>Lt(Se(e),n=>!zs(n)).length===0,oU=(e,n,o,r)=>{if(zs(o))return Yp(o),ei(o.dom);RD(r)&&zs(n)&&us(r,Ie.fromTag("br"));const l=di(o.dom,Ke.before(r.dom));return mt(a$(n),h=>{us(r,h)}),cS(e,n),l},sU=(e,n,o)=>{if(zs(o)){if(zs(n)){const h=Lr((v=>{const C=(A,L)=>lt(A).fold(()=>L,X=>dn(X)?C(X,L.concat(Zm(X))):L);return C(v,[])})(o),(v,C)=>(Om(v,C),C),Wn());Js(n),Er(n,h)}return wr(o),ei(n.dom)}const r=Zr(o.dom);return mt(a$(n),l=>{Er(o,l)}),cS(e,n),r},rU=(e,n)=>{const o=ov(n,e);return oe.from(o[o.length-1])},iU=(e,n)=>Je(n,e)?rU(n,e):oe.none(),ID=(e,n)=>{fs(e,n.dom).bind(o=>oe.from(o.getNode())).map(Ie.fromDom).filter(Ko).each(wr)},c$=(e,n,o)=>(ID(!0,n),ID(!1,o),iU(n,o).fold(je(sU,e,n,o),je(oU,e,n,o))),l$=(e,n,o,r)=>n?c$(e,r,o):c$(e,o,r),lS=(e,n)=>{const o=Ie.fromDom(e.getBody());return tU(o.dom,n,e.selection.getRng()).map(l=>()=>{l$(o,n,l.from.block,l.to.block).each(h=>{e.selection.setRng(h.toRange())})})},aU=(e,n)=>{const o=n.getRng();return _t(oA(e,Ie.fromDom(o.startContainer)),oA(e,Ie.fromDom(o.endContainer)),(r,l)=>ns(r,l)?oe.none():oe.some(()=>{o.deleteContents(),l$(e,!0,r,l).each(h=>{n.setRng(h.toRange())})})).getOr(oe.none())},u$=(e,n)=>{const o=Ie.fromDom(n),r=je(ns,e);return Ps(o,Hr,r).isSome()},cU=(e,n)=>u$(e,n.startContainer)||u$(e,n.endContainer),lU=(e,n)=>{const o=di(e.dom,Ke.fromRangeStart(n)).isNone(),r=ui(e.dom,Ke.fromRangeEnd(n)).isNone();return!cU(e,n)&&o&&r},uU=e=>oe.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),dU=e=>{const n=Ie.fromDom(e.getBody()),o=e.selection.getRng();return lU(n,o)?uU(e):aU(n,e.selection)},DD=(e,n)=>e.selection.isCollapsed()?oe.none():dU(e),um=(e,n,o,r,l)=>oe.from(n._selectionOverrides.showCaret(e,o,r,l)),s2=e=>{const n=e.ownerDocument.createRange();return n.selectNode(e),n},uS=(e,n)=>e.dispatch("BeforeObjectSelected",{target:n}).isDefaultPrevented()?oe.none():oe.some(s2(n)),fU=(e,n,o)=>{const r=up(1,e.getBody(),n),l=Ke.fromRangeStart(r),h=l.getNode();if(V1(h))return um(1,e,h,!l.isAtEnd(),!1);const v=l.getNode(!0);if(V1(v))return um(1,e,v,!1,!1);const C=Ig(e.dom.getRoot(),l.getNode());return V1(C)?um(1,e,C,!1,o):oe.none()},sw=(e,n,o)=>n.collapsed?fU(e,n,o).getOr(n):n,hU=e=>gy(e)||yC(e),mU=e=>xb(e)||mo(e),pU=(e,n)=>{Ut(n)&&n.data.length===0&&e.remove(n)},d$=(e,n,o,r,l,h)=>{um(r,e,h.getNode(!l),l,!0).each(v=>{if(n.collapsed){const C=n.cloneRange();l?C.setEnd(v.startContainer,v.startOffset):C.setStart(v.endContainer,v.endOffset),C.deleteContents()}else n.deleteContents();e.selection.setRng(v)}),pU(e.dom,o)},gU=(e,n)=>{const o=e.selection.getRng();if(!Ut(o.commonAncestorContainer))return oe.none();const r=n?_a.Forwards:_a.Backwards,l=Ze(e.getBody()),h=je(X0,n?l.next:l.prev),v=n?hU:mU,C=_g(r,e.getBody(),o),A=h(C),L=A&&zo(n,A);if(!L||!Eg(C,L))return oe.none();if(v(L))return oe.some(()=>d$(e,o,C.getNode(),r,n,L));const X=h(L);return X&&v(X)&&Eg(L,X)?oe.some(()=>d$(e,o,C.getNode(),r,n,X)):oe.none()},ND=(e,n)=>gU(e,n),MD=(e,n)=>{const o=e.getBody();return n?ei(o).filter(gy):Zr(o).filter(xb)},kD=e=>{const n=e.selection.getRng();return!n.collapsed&&(MD(e,!0).exists(o=>o.isEqual(Ke.fromRangeStart(n)))||MD(e,!1).exists(o=>o.isEqual(Ke.fromRangeEnd(n))))},vU=e=>ke(e)&&(Hr(Ie.fromDom(e))||ci(Ie.fromDom(e))),xf=Xu.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),bU=(e,n)=>{const o=n.getNode(!e),r=e?"after":"before";return nn(o)&&o.getAttribute("data-mce-caret")===r},aK=(e,n,o,r)=>{const l=h=>dn(Ie.fromDom(h))&&!eu(o,r,e);return yx(!n,o).fold(()=>yx(n,r).fold(et,l),l)},ih=(e,n,o,r)=>{const l=r.getNode(!n);return oA(Ie.fromDom(e),Ie.fromDom(o.getNode())).map(h=>zs(h)?xf.remove(h.dom):xf.moveToElement(l)).orThunk(()=>oe.some(xf.moveToElement(l)))},r2=(e,n,o)=>No(n,e,o).bind(r=>vU(r.getNode())||aK(e,n,o,r)?oe.none():n&&Po(r.getNode())||!n&&Po(r.getNode(!0))?ih(e,n,o,r):n&&xb(o)||!n&&gy(o)?oe.some(xf.moveToPosition(r)):oe.none()),f$=(e,n)=>yt(n)?oe.none():e&&Po(n.nextSibling)?oe.some(xf.moveToElement(n.nextSibling)):!e&&Po(n.previousSibling)?oe.some(xf.moveToElement(n.previousSibling)):oe.none(),h$=(e,n,o)=>o.fold(r=>oe.some(xf.remove(r)),r=>oe.some(xf.moveToElement(r)),r=>eu(n,r,e)?oe.none():oe.some(xf.moveToPosition(r))),yU=(e,n,o)=>bU(n,o)?f$(n,o.getNode(!n)).orThunk(()=>r2(e,n,o)):r2(e,n,o).bind(r=>h$(e,o,r)),m$=(e,n,o)=>{const r=up(n?1:-1,e,o),l=Ke.fromRangeStart(r),h=Ie.fromDom(e);return!n&&xb(l)?oe.some(xf.remove(l.getNode(!0))):n&&gy(l)?oe.some(xf.remove(l.getNode())):!n&&gy(l)&&qk(h,l)?zY(h,l).map(v=>xf.remove(v.getNode())):n&&xb(l)&&YR(h,l)?B6(h,l).map(v=>xf.remove(v.getNode())):yU(e,n,l)},_U=(e,n)=>o=>(e._selectionOverrides.hideFakeCaret(),by(e,n,Ie.fromDom(o)),!0),p$=(e,n)=>o=>{const r=n?Ke.before(o):Ke.after(o);return e.selection.setRng(r.toRange()),!0},EU=e=>n=>(e.selection.setRng(n.toRange()),!0),g$=(e,n)=>oe.from(Ig(e.getBody(),n)),wU=(e,n)=>{const o=e.selection.getNode();return g$(e,o).filter(Po).fold(()=>m$(e.getBody(),n,e.selection.getRng()).map(r=>()=>r.fold(_U(e,n),p$(e,n),EU(e))),()=>oe.some(Ot))},rw=e=>{mt(Qr(e,".mce-offscreen-selection"),wr)},v$=(e,n)=>{const o=e.selection.getNode();return Po(o)&&!Jr(o)?g$(e,o.parentNode).filter(Po).fold(()=>oe.some(()=>{rw(Ie.fromDom(e.getBody())),by(e,n,Ie.fromDom(e.selection.getNode())),TC(e)}),()=>oe.some(Ot)):kD(e)?oe.some(()=>{pP(e,e.selection.getRng(),Ie.fromDom(e.getBody()))}):oe.none()},PD=e=>{const n=e.dom,o=e.selection,r=Ig(e.getBody(),o.getNode());if(ts(r)&&n.isBlock(r)&&n.isEmpty(r)){const l=n.create("br",{"data-mce-bogus":"1"});n.setHTML(r,""),r.appendChild(l),o.setRng(Ke.before(l).toRange())}return!0},i2=(e,n)=>e.selection.isCollapsed()?wU(e,n):v$(e,n),LD=(e,n)=>{const o=Ke.fromRangeStart(e.selection.getRng());return No(n,e.getBody(),o).filter(r=>n?M6(r):lo(r)).bind(r=>fb(n?0:-1,r)).map(r=>()=>e.selection.select(r))},$D=(e,n)=>e.selection.isCollapsed()?LD(e,n):oe.none(),iw=Ut,b$=e=>iw(e)&&e.data[0]===Ma,TU=e=>iw(e)&&e.data[e.data.length-1]===Ma,CU=e=>{var n;return((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(Ma)},cK=e=>{var n;if(iw(e.previousSibling))return TU(e.previousSibling)||e.previousSibling.appendData(Ma),e.previousSibling;if(iw(e))return b$(e)||e.insertData(0,Ma),e;{const o=CU(e);return(n=e.parentNode)===null||n===void 0||n.insertBefore(o,e),o}},dm=e=>{var n,o;if(iw(e.nextSibling))return b$(e.nextSibling)||e.nextSibling.insertData(0,Ma),e.nextSibling;if(iw(e))return TU(e)||e.appendData(Ma),e;{const r=CU(e);return e.nextSibling?(n=e.parentNode)===null||n===void 0||n.insertBefore(r,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(r),r}},a2=(e,n)=>e?cK(n):dm(n),SU=je(a2,!0),y$=je(a2,!1),c2=(e,n)=>Ut(e.container())?a2(n,e.container()):a2(n,e.getNode()),xU=(e,n)=>{const o=n.get();return o&&e.container()===o&&Sc(o)},_$=(e,n)=>n.fold(o=>{rp(e.get());const r=SU(o);return e.set(r),oe.some(Ke(r,r.length-1))},o=>ei(o).map(r=>{if(xU(r,e)){const l=e.get();return Ke(l,1)}else{rp(e.get());const l=c2(r,!0);return e.set(l),Ke(l,1)}}),o=>Zr(o).map(r=>{if(xU(r,e)){const l=e.get();return Ke(l,l.length-1)}else{rp(e.get());const l=c2(r,!1);return e.set(l),Ke(l,l.length-1)}}),o=>{rp(e.get());const r=y$(o);return e.set(r),oe.some(Ke(r,1))}),AU=(e,n)=>{for(let o=0;o<e.length;o++){const r=e[o].apply(null,n);if(r.isSome())return r}return oe.none()},Oi=Xu.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),E$=(e,n)=>{const o=Gi(n,e);return o||e},OU=(e,n,o)=>{const r=Tf(o),l=E$(n,r.container());return Ep(e,l,r).fold(()=>ui(l,r).bind(je(Ep,e,l)).map(h=>Oi.before(h)),oe.none)},RU=(e,n)=>bf(e,n)===null,w$=(e,n,o)=>Ep(e,n,o).filter(je(RU,n)),IU=(e,n,o)=>{const r=dP(o);return w$(e,n,r).bind(l=>di(l,r).isNone()?oe.some(Oi.start(l)):oe.none())},DU=(e,n,o)=>{const r=Tf(o);return w$(e,n,r).bind(l=>ui(l,r).isNone()?oe.some(Oi.end(l)):oe.none())},Ly=(e,n,o)=>{const r=dP(o),l=E$(n,r.container());return Ep(e,l,r).fold(()=>di(l,r).bind(je(Ep,e,l)).map(h=>Oi.after(h)),oe.none)},T$=e=>!nV(BD(e)),Bg=(e,n,o)=>AU([OU,IU,DU,Ly],[e,n,o]).filter(T$),BD=e=>e.fold(qt,qt,qt,qt),l2=e=>e.fold(tt("before"),tt("start"),tt("end"),tt("after")),aw=e=>e.fold(Oi.before,Oi.before,Oi.after,Oi.after),u2=e=>e.fold(Oi.start,Oi.start,Oi.end,Oi.end),C$=(e,n)=>l2(e)===l2(n)&&BD(e)===BD(n),S$=(e,n,o,r,l,h)=>_t(Ep(n,o,r),Ep(n,o,l),(v,C)=>v!==C&&WY(o,v,C)?Oi.after(e?v:C):h).getOr(h),NU=(e,n)=>e.fold(It,o=>!C$(o,n)),dS=(e,n,o,r,l)=>{const h=zo(e,l);return No(e,o,h).map(je(zo,e)).fold(()=>r.map(aw),A=>Bg(n,o,A).map(je(S$,e,n,o,h,A)).filter(je(NU,r))).filter(T$)},MU=(e,n)=>e?n.fold(P(oe.some,Oi.start),oe.none,P(oe.some,Oi.after),oe.none):n.fold(oe.none,P(oe.some,Oi.before),oe.none,P(oe.some,Oi.end)),kU=(e,n,o,r)=>{const l=zo(e,r),h=Bg(n,o,l);return Bg(n,o,l).bind(je(MU,e)).orThunk(()=>dS(e,n,o,h,r))},PU=e=>_e(e.selection.getSel().modify),x$=(e,n,o)=>{const r=e?1:-1;return n.setRng(Ke(o.container(),o.offset()+r).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},LU=(e,n)=>{const o=n.selection.getRng(),r=e?Ke.fromRangeEnd(o):Ke.fromRangeStart(o);return PU(n)?e&&_d(r)?x$(!0,n.selection,r):!e&&u1(r)?x$(!1,n.selection,r):!1:!1};var Fg;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Fg||(Fg={}));const d2=(e,n)=>e===_a.Backwards?Os(n):n,A$=(e,n,o)=>e===_a.Forwards?n.next(o):n.prev(o),$U=(e,n,o,r)=>hr(r.getNode(n===_a.Forwards))?Fg.Br:eu(o,r)===!1?Fg.Block:Fg.Wrap,$b=(e,n,o,r)=>{const l=Ze(o);let h=r;const v=[];for(;h;){const C=A$(n,l,h);if(!C)break;if(hr(C.getNode(!1)))return n===_a.Forwards?{positions:d2(n,v).concat([C]),breakType:Fg.Br,breakAt:oe.some(C)}:{positions:d2(n,v),breakType:Fg.Br,breakAt:oe.some(C)};if(!C.isVisible()){h=C;continue}if(e(h,C)){const A=$U(o,n,h,C);return{positions:d2(n,v),breakType:A,breakAt:oe.some(C)}}v.push(C),h=C}return{positions:d2(n,v),breakType:Fg.Eol,breakAt:oe.none()}},FD=(e,n,o,r)=>n(o,r).breakAt.map(l=>{const h=n(o,l).positions;return e===_a.Backwards?h.concat(l):[l].concat(h)}).getOr([]),fS=(e,n)=>Ns(e,(o,r)=>o.fold(()=>oe.some(r),l=>_t(Ii(l.getClientRects()),Ii(r.getClientRects()),(h,v)=>{const C=Math.abs(n-h.left);return Math.abs(n-v.left)<=C?r:l}).or(o)),oe.none()),hS=(e,n)=>Ii(n.getClientRects()).bind(o=>fS(e,o.left)),$y=je($b,Ke.isAbove,-1),fm=je($b,Ke.isBelow,1),HD=je(FD,-1,$y),Af=je(FD,1,fm),By=(e,n)=>$y(e,n).breakAt.isNone(),VD=(e,n)=>fm(e,n).breakAt.isNone(),BU=e=>ei(e).map(n=>[n].concat(fm(e,n).positions)).getOr([]),O$=e=>Zr(e).map(n=>$y(e,n).positions.concat(n)).getOr([]),FU=(e,n)=>hS(HD(e,n),n),HU=(e,n)=>hS(Af(e,n),n),VU=Po,R$=(e,n)=>Math.abs(e.left-n),I$=(e,n)=>Math.abs(e.right-n),D$=e=>Qa(e,"node"),N$=(e,n)=>Sa(e,(o,r)=>{const l=Math.min(R$(o,n),I$(o,n)),h=Math.min(R$(r,n),I$(r,n));return h===l&&D$(r)&&VU(r.node)||h<l?r:o}),UU=e=>{const n=o=>Yt(o,r=>{const l=Wh(r);return l.node=e,l});if(nn(e))return n(e.getClientRects());if(Ut(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),n(o.getClientRects())}else return[]},Fy=e=>Ca(e,UU);var Hy;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(Hy||(Hy={}));const M$=(e,n,o,r)=>{let l=r;for(;l=gf(l,e,na,n);)if(o(l))return},UD=(e,n,o,r,l,h)=>{let v=0;const C=[],A=Z=>{let se=Fy([Z]);e===-1&&(se=se.reverse());for(let xe=0;xe<se.length;xe++){const Re=se[xe];if(!o(Re,L)){if(C.length>0&&n(Re,bc(C))&&v++,Re.line=v,l(Re))return!0;C.push(Re)}}return!1},L=bc(h.getClientRects());if(!L)return C;const X=h.getNode();return X&&(A(X),M$(e,r,A,X)),C},zD=(e,n)=>n.line>e,zU=(e,n)=>n.line===e,WU=je(UD,Hy.Up,rl,Ym),GU=je(UD,Hy.Down,Ym,rl),k$=e=>bc(e.getClientRects()),qU=(e,n,o,r)=>{const l=Ze(n);let h,v,C,A;const L=[];let X=0;e===1?(h=l.next,v=Ym,C=rl,A=Ke.after(r)):(h=l.prev,v=rl,C=Ym,A=Ke.before(r));const Z=k$(A);do{if(!A.isVisible())continue;const se=k$(A);if(C(se,Z))continue;L.length>0&&v(se,bc(L))&&X++;const xe=Wh(se);if(xe.position=A,xe.line=X,o(xe))return L;L.push(xe)}while(A=h(A));return L},P$=e=>n=>zD(e,n),WD=e=>n=>zU(e,n),Hg=(e,n)=>{e.selection.setRng(n),wn(e,e.selection.getRng())},GD=(e,n,o)=>oe.some(sw(e,n,o)),L$=(e,n,o,r,l,h)=>{const v=n===_a.Forwards,C=Ze(e.getBody()),A=je(X0,v?C.next:C.prev),L=v?r:l;if(!o.collapsed){const Re=Al(o);if(h(Re))return um(n,e,Re,n===_a.Backwards,!1);if(kD(e)){const be=o.cloneRange();return be.collapse(n===_a.Backwards),oe.from(be)}}const X=_g(n,e.getBody(),o);if(L(X))return uS(e,X.getNode(!v));let Z=A(X);const se=Ov(o);if(Z)Z=zo(v,Z);else return se?oe.some(o):oe.none();if(L(Z))return um(n,e,Z.getNode(!v),v,!1);const xe=A(Z);return xe&&L(xe)&&Eg(Z,xe)?um(n,e,xe.getNode(!v),v,!1):se?GD(e,Z.toRange(),!1):oe.none()},Ld=(e,n,o,r,l,h)=>{const v=_g(n,e.getBody(),o),C=bc(v.getClientRects()),A=n===Hy.Down,L=e.getBody();if(!C)return oe.none();if(kD(e)){const Ae=A?Ke.fromRangeEnd(o):Ke.fromRangeStart(o);return(A?HU:FU)(L,Ae).orThunk(()=>oe.from(Ae)).map(Be=>Be.toRange())}const Z=(A?GU:WU)(L,P$(1),v),se=Lt(Z,WD(1)),xe=C.left,Re=N$(se,xe);if(Re&&h(Re.node)){const Ae=Math.abs(xe-Re.left),Ve=Math.abs(xe-Re.right);return um(n,e,Re.node,Ae<Ve,!1)}let be;if(r(v)?be=v.getNode():l(v)?be=v.getNode(!0):be=Al(o),be){const Ae=qU(n,L,P$(1),be);let Ve=N$(Lt(Ae,WD(1)),xe);if(Ve||(Ve=bc(Lt(Ae,WD(0))),Ve))return GD(e,Ve.position.toRange(),!1)}return se.length===0?qD(e,A).filter(A?l:r).map(Ae=>sw(e,Ae.toRange(),!1)):oe.none()},qD=(e,n)=>{const o=e.selection.getRng(),r=n?Ke.fromRangeEnd(o):Ke.fromRangeStart(o),l=Y0(r.container(),e.getBody());if(n){const h=fm(l,r);return Zc(h.positions)}else{const h=$y(l,r);return Ii(h.positions)}},f2=(e,n,o)=>qD(e,n).filter(o).exists(r=>(e.selection.setRng(r.toRange()),!0)),mS=(e,n)=>{const o=e.dom.createRng();o.setStart(n.container(),n.offset()),o.setEnd(n.container(),n.offset()),e.selection.setRng(o)},h2=(e,n)=>{e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},$$=(e,n,o)=>_$(n,o).map(r=>(mS(e,r),o)),jU=(e,n,o)=>{const r=Ke.fromRangeStart(e);if(e.collapsed)return r;{const l=Ke.fromRangeEnd(e);return o?di(n,l).getOr(l):ui(n,r).getOr(r)}},ZU=(e,n,o)=>{const r=e.getBody(),l=jU(e.selection.getRng(),r,o),h=je(_y,e);return kU(o,h,r,l).bind(C=>$$(e,n,C))},YU=(e,n,o)=>{const r=Yt(Qr(Ie.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),v=>v.dom),l=Lt(r,e),h=Lt(o,e);mt(rd(l,h),je(h2,!1)),mt(rd(h,l),je(h2,!0))},KU=(e,n)=>{const o=n.get();if(e.selection.isCollapsed()&&!e.composing&&o){const r=Ke.fromRangeStart(e.selection.getRng());Ke.isTextPosition(r)&&!qc(r)&&(mS(e,rE(o,r)),n.set(null))}},B$=(e,n,o,r)=>{if(n.selection.isCollapsed()){const l=Lt(r,e);mt(l,h=>{const v=Ke.fromRangeStart(n.selection.getRng());Bg(e,n.getBody(),v).bind(C=>$$(n,o,C))})}},F$=(e,n,o)=>vg(e)?ZU(e,n,o).isSome():!1,H$=(e,n,o)=>vg(n)?LU(e,n):!1,pS=e=>{const n=Vi(null),o=je(_y,e);return e.on("NodeChange",r=>{vg(e)&&(YU(o,e.dom,r.parents),KU(e,n),B$(o,e,n,r.parents))}),n},uv=je(H$,!0),Vy=je(H$,!1),Uy=(e,n,o)=>{if(vg(e)){const r=qD(e,n).getOrThunk(()=>{const l=e.selection.getRng();return n?Ke.fromRangeEnd(l):Ke.fromRangeStart(l)});return Bg(je(_y,e),e.getBody(),r).exists(l=>{const h=aw(l);return _$(o,h).exists(v=>(mS(e,v),!0))})}else return!1},jD=(e,n)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(n.container(),n.offset()),o},ZD=e=>_t(ei(e),Zr(e),(n,o)=>{const r=zo(!0,n),l=zo(!1,o);return ui(e,r).forall(h=>h.isEqual(l))}).getOr(!0),YD=(e,n)=>o=>_$(n,o).map(r=>()=>mS(e,r)),V$=(e,n,o,r)=>{const l=e.getBody(),h=je(_y,e);e.undoManager.ignore(()=>{e.selection.setRng(jD(o,r)),wC(e),Bg(h,l,Ke.fromRangeStart(e.selection.getRng())).map(u2).bind(YD(e,n)).each(Fo)}),e.nodeChanged()},U$=(e,n)=>{const o=Gi(n,e);return o||e},z$=(e,n,o,r)=>{const l=U$(e.getBody(),r.container()),h=je(_y,e),v=Bg(h,l,r);return v.bind(A=>o?A.fold(tt(oe.some(u2(A))),oe.none,tt(oe.some(aw(A))),oe.none):A.fold(oe.none,tt(oe.some(aw(A))),oe.none,tt(oe.some(u2(A))))).map(YD(e,n)).getOrThunk(()=>{const A=Ro(o,l,r),L=A.bind(X=>Bg(h,l,X));return _t(v,L,()=>Ep(h,l,r).bind(X=>ZD(X)?oe.some(()=>{by(e,o,Ie.fromDom(X))}):oe.none())).getOrThunk(()=>L.bind(()=>A.map(X=>()=>{o?V$(e,n,r,X):V$(e,n,X,r)})))})},KD=(e,n,o)=>{if(e.selection.isCollapsed()&&vg(e)){const r=Ke.fromRangeStart(e.selection.getRng());return z$(e,n,o,r)}return oe.none()},XU=e=>Xt(e)>1,W$=(e,n)=>{const o=Ie.fromDom(e.getBody()),r=Ie.fromDom(e.selection.getStart()),l=ov(r,o);return Rr(l,n).fold(tt(l),h=>l.slice(0,h))},QU=e=>W$(e,n=>Ft(n)||XU(n)),JU=e=>W$(e,Ft),G$=(e,n)=>{const o=je($C,e);return Ca(n,r=>o(r)?[r.dom]:[])},XD=e=>{const n=JU(e);return G$(e,n)},q$=(e,n,o,r)=>{const l=G$(n,r);if(l.length===0)by(n,e,o);else{const h=rL(o.dom,l);n.selection.setRng(h.toRange())}},lK=(e,n)=>{const o=QU(e);return Zc(o).bind(r=>{const l=Ke.fromRangeStart(e.selection.getRng());return mP(n,l,r.dom)&&!RI(r)?oe.some(()=>q$(n,e,r,o)):oe.none()})},uK=(e,n)=>{const o=n.parentElement;return hr(n)&&!Ee(o)&&e.dom.isEmpty(o)},dK=e=>RI(Ie.fromDom(e)),j$=(e,n)=>{const o=e.selection.getStart(),r=uK(e,o)||dK(o)?rL(o,n):rm(e,n);e.selection.setRng(r.toRange())},fK=(e,n)=>{const o=rd(n,XD(e));o.length>0&&j$(e,o)},ez=e=>Ut(e.startContainer),tz=e=>e.startOffset===0&&ez(e),nz=(e,n)=>{const o=n.startContainer.parentElement;return!Ee(o)&&$C(e,Ie.fromDom(o))},hK=e=>{const n=e.startContainer.parentNode,o=e.endContainer.parentNode;return!Ee(n)&&!Ee(o)&&n.isEqualNode(o)},oz=e=>{const n=e.endContainer;return e.endOffset===(Ut(n)?n.length:n.childNodes.length)},$d=e=>hK(e)&&oz(e),Z$=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),gS=e=>$d(e)||Z$(e),sz=e=>{const n=e.selection.getRng();return tz(n)&&nz(e,n)&&gS(n)},Y$=e=>{if(sz(e)){const n=XD(e);return oe.some(()=>{wC(e),fK(e,n)})}else return oe.none()},m2=(e,n)=>e.selection.isCollapsed()?lK(e,n):Y$(e),QD=e=>eL(e,n=>Ws(n.dom),Ft),rz=e=>QD(Ie.fromDom(e.selection.getStart())),iz=e=>{const n=e.selection.getRng();return n.collapsed&&(ez(n)||e.dom.isEmpty(n.startContainer))&&!rz(e)},cw=e=>(iz(e)&&j$(e,[]),!0),JD=(e,n,o)=>ke(o)?oe.some(()=>{e._selectionOverrides.hideFakeCaret(),by(e,n,Ie.fromDom(o))}):oe.none(),az=(e,n)=>{const o=n?yC:mo,r=n?_a.Forwards:_a.Backwards,l=_g(r,e.getBody(),e.selection.getRng());return o(l)?JD(e,n,l.getNode(!n)):oe.from(zo(n,l)).filter(h=>o(h)&&Eg(l,h)).bind(h=>JD(e,n,h.getNode(!n)))},eN=(e,n)=>{const o=e.selection.getNode();return or(o)?JD(e,n,o):oe.none()},tN=(e,n)=>e.selection.isCollapsed()?az(e,n):eN(e,n),mK=e=>es(e,n=>ts(n.dom)||Po(n.dom)).exists(n=>ts(n.dom)),nN=e=>cd(e??"").getOr(0),K$=(e,n)=>{const o=e||In(n)?"margin":"padding",r=$u(n,"direction")==="rtl"?"-right":"-left";return o+r},oN=(e,n,o,r,l,h)=>{const v=K$(o,Ie.fromDom(h)),C=nN(e.getStyle(h,v));if(n==="outdent"){const A=Math.max(0,C-r);e.setStyle(h,v,A?A+l:"")}else{const A=C+r+l;e.setStyle(h,v,A)}},X$=(e,n)=>nr(n,o=>{const r=K$(tp(e),o),l=Na(o,r).map(nN).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&l>0}),cz=e=>{const n=J$(e);return!e.mode.isReadOnly()&&(n.length>1||X$(e,n))},Q$=e=>Gr(e)||ci(e),lz=e=>Vo(e).exists(Q$),J$=e=>Lt(Bu(e.selection.getSelectedBlocks()),n=>!Q$(n)&&!lz(n)&&mK(n)),p2=(e,n)=>{var o,r;const{dom:l}=e,h=Mr(e),v=(r=(o=/[a-z%]+$/i.exec(h))===null||o===void 0?void 0:o[0])!==null&&r!==void 0?r:"px",C=nN(h),A=tp(e);mt(J$(e),L=>{oN(l,n,A,C,v,L.dom)})},g2=e=>p2(e,"indent"),sN=e=>p2(e,"outdent"),rN=e=>{if(e.selection.isCollapsed()&&cz(e)){const n=e.dom,o=e.selection.getRng(),r=Ke.fromRangeStart(o),l=n.getParent(o.startContainer,n.isBlock);if(l!==null&&vy(Ie.fromDom(l),r))return oe.some(()=>sN(e))}return oe.none()},e3=(e,n,o)=>$r([rN,i2,ND,(r,l)=>KD(r,n,l),lS,IC,$D,tN,DD,m2],r=>r(e,o)).filter(r=>e.selection.isEditable()),uz=(e,n)=>{e3(e,n,!1).fold(()=>{wC(e),TC(e)},Fo)},iN=(e,n)=>{e3(e,n,!0).fold(()=>fP(e),Fo)},dz=(e,n)=>{e.addCommand("delete",()=>{uz(e,n)}),e.addCommand("forwardDelete",()=>{iN(e,n)})},t3=5,fz=400,n3=e=>e.touches===void 0||e.touches.length!==1?oe.none():oe.some(e.touches[0]),hm=(e,n)=>{const o=Math.abs(e.clientX-n.x),r=Math.abs(e.clientY-n.y);return o>t3||r>t3},o3=e=>{const n=oa(),o=Vi(!1),r=zc(l=>{e.dispatch("longpress",{...l,type:"longpress"}),o.set(!0)},fz);e.on("touchstart",l=>{n3(l).each(h=>{r.cancel();const v={x:h.clientX,y:h.clientY,target:l.target};r.throttle(l),o.set(!1),n.set(v)})},!0),e.on("touchmove",l=>{r.cancel(),n3(l).each(h=>{n.on(v=>{hm(h,v)&&(n.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",l=>{r.cancel(),l.type!=="touchcancel"&&n.get().filter(h=>h.target.isEqualNode(l.target)).each(()=>{o.get()?l.preventDefault():e.dispatch("tap",{...l,type:"tap"})})},!0)},v2=(e,n)=>qn(e,n.nodeName),pK=(e,n)=>Ut(n)?!0:nn(n)?!v2(e.getBlockElements(),n)&&!Qu(n)&&!zf(e,n):!1,gK=(e,n,o)=>ko(Uk(Ie.fromDom(o),Ie.fromDom(n)),r=>v2(e,r.dom)),vK=(e,n)=>{if(Ut(n)){if(n.data.length===0)return!0;if(/^\s+$/.test(n.data)&&(!n.nextSibling||v2(e,n.nextSibling)))return!0}return!1},hz=e=>e.dom.create(yu(e),pg(e)),mz=e=>{const n=e.dom,o=e.selection,r=e.schema,l=r.getBlockElements(),h=o.getStart(),v=e.getBody();let C,A,L=!1;const X=yu(e);if(!h||!nn(h))return;const Z=v.nodeName.toLowerCase();if(!r.isValidChild(Z,X.toLowerCase())||gK(l,v,h))return;const se=o.getRng(),{startContainer:xe,startOffset:Re,endContainer:be,endOffset:Ae}=se,Ve=Cb(e);let Be=v.firstChild;for(;Be;)if(nn(Be)&&sf(r,Be),pK(r,Be)){if(vK(l,Be)){A=Be,Be=Be.nextSibling,n.remove(A);continue}C||(C=hz(e),v.insertBefore(C,Be),L=!0),A=Be,Be=Be.nextSibling,C.appendChild(A)}else C=null,Be=Be.nextSibling;L&&Ve&&(se.setStart(xe,Re),se.setEnd(be,Ae),o.setRng(se),e.nodeChanged())},vS=(e,n,o)=>{const r=Ie.fromDom(hz(e)),l=Wn();Er(r,l),o(n,r);const h=document.createRange();return h.setStartBefore(l.dom),h.setEndBefore(l.dom),h},pz=e=>{e.on("NodeChange",je(mz,e))},b2=e=>n=>(" "+n.attr("class")+" ").indexOf(e)!==-1,s3=(e,n,o)=>function(r){const l=arguments,h=l[l.length-2],v=h>0?n.charAt(h-1):"";if(v==='"')return r;if(v===">"){const C=n.lastIndexOf("<",h);if(C!==-1&&n.substring(C,h).indexOf('contenteditable="false"')!==-1)return r}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(l[0])+'">'+e.dom.encode(typeof l[1]=="string"?l[1]:l[0])+"</span>"},r3=(e,n,o)=>{let r=n.length,l=o.content;if(o.format!=="raw"){for(;r--;)l=l.replace(n[r],s3(e,l,H0(e)));o.content=l}},i3=e=>{const n="contenteditable",o=" "+we.trim(hT(e))+" ",r=" "+we.trim(H0(e))+" ",l=b2(o),h=b2(r),v=mT(e);v.length>0&&e.on("BeforeSetContent",C=>{r3(e,v,C)}),e.parser.addAttributeFilter("class",C=>{let A=C.length;for(;A--;){const L=C[A];l(L)?L.attr(n,"true"):h(L)&&L.attr(n,"false")}}),e.serializer.addAttributeFilter(n,C=>{let A=C.length;for(;A--;){const L=C[A];!l(L)&&!h(L)||(v.length>0&&L.attr("data-mce-content")?(L.name="#text",L.type=3,L.raw=!0,L.value=L.attr("data-mce-content")):L.attr(n,null))}})},gz=e=>Yd(Ie.fromDom(e.getBody()),"*[data-mce-caret]").map(n=>n.dom).getOrNull(),a3=(e,n)=>{n.hasAttribute("data-mce-caret")&&(Av(n),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(n))},vz=(e,n)=>{const o=gz(e);if(o){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),a3(e,o);return}Sv(o)&&(a3(e,o),e.undoManager.add())}},bz=e=>{e.on("keyup compositionstart",je(vz,e))},bS=Po,yz=(e,n,o)=>L$(n,e,o,gy,xb,bS),_z=(e,n,o)=>Ld(n,e,o,h=>gy(h)||jR(h),h=>xb(h)||k6(h),bS),Ez=e=>{const n=e.dom.create(yu(e));return n.innerHTML='<br data-mce-bogus="1">',n},y2=(e,n,o)=>{const r=Ze(e.getBody()),l=je(X0,n===1?r.next:r.prev);if(o.collapsed){const h=e.dom.getParent(o.startContainer,"PRE");if(!h)return;if(!l(Ke.fromRangeStart(o))){const C=Ie.fromDom(Ez(e));n===1?nl(Ie.fromDom(h),C):us(Ie.fromDom(h),C),e.selection.select(C.dom,!0),e.selection.collapse()}}},wz=(e,n)=>{const o=n?_a.Forwards:_a.Backwards,r=e.selection.getRng();return yz(o,e,r).orThunk(()=>(y2(e,o,r),oe.none()))},Tz=(e,n)=>{const o=n?1:-1,r=e.selection.getRng();return _z(o,e,r).orThunk(()=>(y2(e,o,r),oe.none()))},aN=(e,n)=>wz(e,n).exists(o=>(Hg(e,o),!0)),c3=(e,n)=>Tz(e,n).exists(o=>(Hg(e,o),!0)),l3=(e,n)=>f2(e,n,n?xb:gy),_2=(e,n)=>MD(e,!n).map(o=>{const r=o.toRange(),l=e.selection.getRng();return n?r.setStart(l.startContainer,l.startOffset):r.setEnd(l.endContainer,l.endOffset),r}).exists(o=>(Hg(e,o),!0)),Cz=e=>kn(["figcaption"],Vs(e)),Sz=(e,n)=>{const o=je(ns,n);return es(Ie.fromDom(e.container()),Ft,o).filter(Cz)},xz=(e,n,o)=>n?VD(e.dom,o):By(e.dom,o),cN=(e,n)=>{const o=Ie.fromDom(e.getBody()),r=Ke.fromRangeStart(e.selection.getRng());return Sz(r,o).exists(()=>{if(xz(o,n,r)){const h=vS(e,o,n?Er:Ul);return e.selection.setRng(h),!0}else return!1})},u3=(e,n)=>e.selection.isCollapsed()?cN(e,n):!1,lN={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},Az=e=>Yt(e,n=>({...lN,...n})),Oz=e=>Yt(e,n=>({...lN,...n})),d3=(e,n)=>n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey,Rz=(e,n)=>Ca(Az(e),o=>d3(o,n)?[o]:[]),Iz=(e,n)=>Ca(Oz(e),o=>d3(o,n)?[o]:[]),Co=(e,...n)=>()=>e.apply(null,n),ji=(e,n)=>vs(Rz(e,n),o=>o.action()),f3=(e,n)=>$r(Iz(e,n),o=>o.action()),h3=(e,n)=>{const o=n?_a.Forwards:_a.Backwards,r=e.selection.getRng();return L$(e,o,r,yC,mo,or).exists(l=>(Hg(e,l),!0))},m3=(e,n)=>{const o=n?1:-1,r=e.selection.getRng();return Ld(e,o,r,yC,mo,or).exists(l=>(Hg(e,l),!0))},uN=(e,n)=>f2(e,n,n?mo:yC),E2=Xu.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),mm={...E2,none:e=>E2.none(e)},dN=(e,n)=>fN(e,n,It),fN=(e,n,o)=>Ca(ze(e),r=>da(r,n)?o(r)?[r]:[]:fN(r,n,o)),hN=(e,n,o=et)=>{if(o(n))return oe.none();if(kn(e,Vs(n)))return oe.some(n);const r=l=>da(l,"table")||o(l);return Da(n,e.join(","),r)},mN=(e,n)=>hN(["td","th"],e,n),pN=e=>dN(e,"th,td"),gN=(e,n)=>Vl(e,"table",n),lw=(e,n,o,r,l=It)=>{const h=r===1;if(!h&&o<=0)return mm.first(e[0]);if(h&&o>=e.length-1)return mm.last(e[e.length-1]);{const v=o+r,C=e[v];return l(C)?mm.middle(n,C):lw(e,n,v,r,l)}},yS=(e,n)=>gN(e,n).bind(o=>{const r=pN(o);return Rr(r,h=>ns(e,h)).map(h=>({index:h,all:r}))}),_S=(e,n,o)=>yS(e,o).fold(()=>mm.none(e),l=>lw(l.all,e,l.index,1,n)),ES=(e,n,o)=>yS(e,o).fold(()=>mm.none(),l=>lw(l.all,e,l.index,-1,n)),Vg=(e,n)=>({left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}),wS=(e,n)=>Ca(n,o=>{const r=Vg(Wh(o.getBoundingClientRect()),-1);return[{x:r.left,y:e(r),cell:o},{x:r.right,y:e(r),cell:o}]}),p3=(e,n,o)=>Ns(e,(r,l)=>r.fold(()=>oe.some(l),h=>{const v=Math.sqrt(Math.abs(h.x-n)+Math.abs(h.y-o)),C=Math.sqrt(Math.abs(l.x-n)+Math.abs(l.y-o));return oe.some(C<v?l:h)}),oe.none()),vN=(e,n,o,r,l)=>{const h=Qr(Ie.fromDom(o),"td,th,caption").map(C=>C.dom),v=Lt(wS(e,h),C=>n(C,l));return p3(v,r,l).map(C=>C.cell)},Nz=e=>e.bottom,g3=e=>e.top,Mz=(e,n)=>e.y<n,kz=(e,n)=>e.y>n,v3=je(vN,Nz,Mz),Pz=je(vN,g3,kz),Lz=(e,n)=>Ii(n.getClientRects()).bind(o=>v3(e,o.left,o.top)).bind(o=>hS(O$(o),n)),$z=(e,n)=>Zc(n.getClientRects()).bind(o=>Pz(e,o.left,o.top)).bind(o=>hS(BU(o),n)),Bz=(e,n,o)=>o.breakAt.exists(r=>e(n,r).breakAt.isSome()),Fz=e=>e.breakType===Fg.Wrap&&e.positions.length===0,Hz=e=>e.breakType===Fg.Br&&e.positions.length===1,b3=(e,n,o)=>{const r=e(n,o);return Fz(r)||!hr(o.getNode())&&Hz(r)?!Bz(e,n,r):r.breakAt.isNone()},Vz=je(b3,$y),Uz=je(b3,fm),zz=(e,n,o)=>{const r=Ke.fromRangeStart(n);return fs(!e,o).exists(l=>l.isEqual(r))},Wz=(e,n,o,r)=>{const l=e.selection.getRng(),h=n?1:-1;return db()&&zz(n,l,o)?(um(h,e,o,!n,!1).each(v=>{Hg(e,v)}),!0):!1},Gz=(e,n,o)=>Lz(n,o).orThunk(()=>Ii(o.getClientRects()).bind(r=>fS(HD(e,Ke.before(n)),r.left))).getOr(Ke.before(n)),qz=(e,n,o)=>$z(n,o).orThunk(()=>Ii(o.getClientRects()).bind(r=>fS(Af(e,Ke.after(n)),r.left))).getOr(Ke.after(n)),bN=(e,n)=>{const o=n.getNode(e);return Dr(o)?oe.some(o):oe.none()},y3=(e,n,o)=>{n.undoManager.transact(()=>{const r=e?nl:us,l=vS(n,Ie.fromDom(o),r);Hg(n,l)})},yN=(e,n,o)=>{const r=bN(!!n,o),l=n===!1;r.fold(()=>Hg(e,o.toRange()),h=>fs(l,e.getBody()).filter(v=>v.isEqual(o)).fold(()=>Hg(e,o.toRange()),v=>y3(n,e,h)))},jz=(e,n,o,r)=>{const l=e.selection.getRng(),h=Ke.fromRangeStart(l),v=e.getBody();if(!n&&Vz(r,h)){const C=Gz(v,o,h);return yN(e,n,C),!0}else if(n&&Uz(r,h)){const C=qz(v,o,h);return yN(e,n,C),!0}else return!1},_3=(e,n,o)=>oe.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(r=>oe.from(e.dom.getParent(r,"table")).map(l=>o(e,n,l,r))).getOr(!1),E3=(e,n)=>_3(e,n,Wz),w3=(e,n)=>_3(e,n,jz),T3=e=>{const n=bb.exact(e,0,e,0);return MR(n)},C3=(e,n,o)=>o.fold(oe.none,oe.none,(r,l)=>m6(l).map(h=>T3(h)),r=>(e.execCommand("mceTableInsertRowAfter"),_N(e,n,r))),_N=(e,n,o)=>C3(e,n,_S(o,Kd)),Zz=(e,n,o)=>C3(e,n,ES(o,Kd)),EN=(e,n)=>{const o=["table","li","dl"],r=Ie.fromDom(e.getBody()),l=C=>{const A=Vs(C);return ns(C,r)||kn(o,A)},h=e.selection.getRng(),v=Ie.fromDom(n?h.endContainer:h.startContainer);return mN(v,l).map(C=>(gN(C,l).each(X=>{e.model.table.clearSelectedCells(X.dom)}),e.selection.collapse(!n),(n?_N:Zz)(e,l,C).each(X=>{e.selection.setRng(X)}),!0)).getOr(!1)},S3=(e,n,o)=>{const r=Do.os.isMacOS()||Do.os.isiOS();ji([{keyCode:Cn.RIGHT,action:Co(aN,e,!0)},{keyCode:Cn.LEFT,action:Co(aN,e,!1)},{keyCode:Cn.UP,action:Co(c3,e,!1)},{keyCode:Cn.DOWN,action:Co(c3,e,!0)},...r?[{keyCode:Cn.UP,action:Co(_2,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Cn.DOWN,action:Co(_2,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Cn.RIGHT,action:Co(E3,e,!0)},{keyCode:Cn.LEFT,action:Co(E3,e,!1)},{keyCode:Cn.UP,action:Co(w3,e,!1)},{keyCode:Cn.DOWN,action:Co(w3,e,!0)},{keyCode:Cn.RIGHT,action:Co(h3,e,!0)},{keyCode:Cn.LEFT,action:Co(h3,e,!1)},{keyCode:Cn.UP,action:Co(m3,e,!1)},{keyCode:Cn.DOWN,action:Co(m3,e,!0)},{keyCode:Cn.RIGHT,action:Co(F$,e,n,!0)},{keyCode:Cn.LEFT,action:Co(F$,e,n,!1)},{keyCode:Cn.RIGHT,ctrlKey:!r,altKey:r,action:Co(uv,e,n)},{keyCode:Cn.LEFT,ctrlKey:!r,altKey:r,action:Co(Vy,e,n)},{keyCode:Cn.UP,action:Co(u3,e,!1)},{keyCode:Cn.DOWN,action:Co(u3,e,!0)}],o).each(l=>{o.preventDefault()})},Yz=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||S3(e,n,o)})},Op=(e,n)=>({container:e,offset:n}),w2=sr.DOM,TS=e=>n=>e===n?-1:0,Kz=e=>n=>e.isBlock(n)||kn(["BR","IMG","HR","INPUT"],n.nodeName)||e.getContentEditable(n)==="false",wN=(e,n,o)=>{if(Ut(e)&&n>=0)return oe.some(Op(e,n));{const r=Cr(w2);return oe.from(r.backwards(e,n,TS(e),o)).map(l=>Op(l.container,l.container.data.length))}},x3=(e,n,o)=>{if(Ut(e)&&n>=e.length)return oe.some(Op(e,n));{const r=Cr(w2);return oe.from(r.forwards(e,n,TS(e),o)).map(l=>Op(l.container,0))}},TN=(e,n,o)=>{if(!Ut(e))return oe.none();const r=e.data;if(n>=0&&n<=r.length)return oe.some(Op(e,n));{const l=Cr(w2);return oe.from(l.backwards(e,n,TS(e),o)).bind(h=>{const v=h.container.data;return TN(h.container,n+v.length,o)})}},A3=(e,n,o)=>{if(!Ut(e))return oe.none();const r=e.data;if(n<=r.length)return oe.some(Op(e,n));{const l=Cr(w2);return oe.from(l.forwards(e,n,TS(e),o)).bind(h=>A3(h.container,n-r.length,o))}},T2=(e,n,o,r,l)=>{const h=Cr(e,Kz(e));return oe.from(h.backwards(n,o,r,l))},Xz=e=>e.collapsed&&Ut(e.startContainer),O3=e=>yd(e.toString().replace(/\u00A0/g," ")),R3=e=>e!==""&&`  \f
\r	\v`.indexOf(e)!==-1,C2=(e,n)=>e.substring(n.length),I3=(e,n,o)=>{let r;const l=o.charAt(0);for(r=n-1;r>=0;r--){const h=e.charAt(r);if(R3(h))return oe.none();if(l===h&&oi(e,o,r,n))break}return oe.some(r)},Qz=(e,n,o,r=0)=>{if(!Xz(n))return oe.none();const l={text:"",offset:0},h=(C,A,L)=>(l.text=L+l.text,l.offset+=A,I3(l.text,l.offset,o).getOr(A)),v=e.getParent(n.startContainer,e.isBlock)||e.getRoot();return T2(e,n.startContainer,n.startOffset,h,v).bind(C=>{const A=n.cloneRange();if(A.setStart(C.container,C.offset),A.setEnd(n.endContainer,n.endOffset),A.collapsed)return oe.none();const L=O3(A);return L.lastIndexOf(o)!==0||C2(L,o).length<r?oe.none():oe.some({text:C2(L,o),range:A,trigger:o})})},D3=(e,n,o,r=0)=>b6(Ie.fromDom(n.startContainer)).fold(()=>Qz(e,n,o,r),l=>{const h=e.createRng();h.selectNode(l.dom);const v=O3(h);return oe.some({range:h,text:C2(v,o),trigger:o})}),Jz=e=>e.nodeType===Bl,eW=e=>e.nodeType===_r,N3=e=>{if(Jz(e))return Op(e,e.data.length);{const n=e.childNodes;return n.length>0?N3(n[n.length-1]):Op(e,n.length)}},M3=(e,n)=>{const o=e.childNodes;return o.length>0&&n<o.length?M3(o[n],0):o.length>0&&eW(e)&&o.length===n?N3(o[o.length-1]):Op(e,n)},tW=(e,n)=>{var o;const r=(o=e.getParent(n.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return T2(e,n.container,n.offset,(l,h)=>h===0?-1:h,r).filter(l=>{const h=l.container.data.charAt(l.offset-1);return!R3(h)}).isSome()},nW=e=>n=>{const o=M3(n.startContainer,n.startOffset);return!tW(e,o)},bK=(e,n,o)=>$r(o.triggers,r=>D3(e,n,r)),oW=(e,n)=>{const o=n(),r=e.selection.getRng();return bK(e.dom,r,o).bind(l=>CS(e,n,l))},CS=(e,n,o,r={})=>{var l;const h=n(),C=(l=e.selection.getRng().startContainer.nodeValue)!==null&&l!==void 0?l:"",A=Lt(h.lookupByTrigger(o.trigger),X=>o.text.length>=X.minChars&&X.matches.getOrThunk(()=>nW(e.dom))(o.range,C,o.text));if(A.length===0)return oe.none();const L=Promise.all(Yt(A,X=>X.fetch(o.text,X.maxResults,r).then(se=>({matchText:o.text,items:se,columns:X.columns,onAction:X.onAction,highlightOn:X.highlightOn}))));return oe.some({lookupData:L,context:o})};var pm;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(pm||(pm={}));const S2=(e,n,o)=>e.stype===pm.Error?n(e.serror):o(e.svalue),sW=e=>{const n=[],o=[];return mt(e,r=>{S2(r,l=>o.push(l),l=>n.push(l))}),{values:n,errors:o}},k3=(e,n)=>e.stype===pm.Error?{stype:pm.Error,serror:n(e.serror)}:e,P3=(e,n)=>e.stype===pm.Value?{stype:pm.Value,svalue:n(e.svalue)}:e,rW=(e,n)=>e.stype===pm.Value?n(e.svalue):e,iW=(e,n)=>e.stype===pm.Error?n(e.serror):e,L3=e=>({stype:pm.Value,svalue:e}),CN=e=>({stype:pm.Error,serror:e}),ll={fromResult:e=>e.fold(CN,L3),toResult:e=>S2(e,Is.error,Is.value),svalue:L3,partition:sW,serror:CN,bind:rW,bindError:iW,map:P3,mapError:k3,fold:S2},SN=e=>De(e)&&bi(e).length>100?" removed due to size":JSON.stringify(e,null,2),aW=e=>{const n=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:tt("... (only showing first ten failures)")}]):e;return Yt(n,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},SS=(e,n)=>ll.serror([{path:e,getErrorInfo:n}]),cW=(e,n,o)=>SS(e,()=>'Could not find valid *required* value for "'+n+'" in '+SN(o)),lW=(e,n)=>SS(e,()=>'Choice schema did not contain choice key: "'+n+'"'),uW=(e,n,o)=>SS(e,()=>'The chosen schema: "'+o+'" did not exist in branches: '+SN(n)),dW=(e,n)=>SS(e,tt(n)),fW=(e,n,o,r)=>Xs(o,r).fold(()=>uW(e,o,r),h=>h.extract(e.concat(["branch: "+r]),n)),mc=(e,n)=>({extract:(l,h)=>Xs(h,e).fold(()=>lW(l,e),C=>fW(l,h,n,C)),toString:()=>"chooseOn("+e+"). Possible values: "+bi(n)}),Ug=(e,n)=>n,hW=(e,n)=>Ge(e)&&Ge(n)?x2(e,n):n,mW=e=>(...n)=>{if(n.length===0)throw new Error("Can't merge zero objects");const o={};for(let r=0;r<n.length;r++){const l=n[r];for(const h in l)qn(l,h)&&(o[h]=e(o[h],l[h]))}return o},x2=mW(hW),pW=mW(Ug),B3=()=>({tag:"required",process:{}}),gW=e=>({tag:"defaultedThunk",process:e}),xN=e=>gW(tt(e)),uw=()=>({tag:"option",process:{}}),_K=(e,n)=>e.length>0?ll.svalue(x2(n,pW.apply(void 0,e))):ll.svalue(n),F3=e=>P(ll.serror,jc)(e),vW={consolidateObj:(e,n)=>{const o=ll.partition(e);return o.errors.length>0?F3(o.errors):_K(o.values,n)},consolidateArr:e=>{const n=ll.partition(e);return n.errors.length>0?F3(n.errors):ll.svalue(n.values)}},bW=(e,n,o,r)=>({tag:"field",key:e,newKey:n,presence:o,prop:r}),H3=(e,n)=>({tag:"custom",newKey:e,instantiator:n}),V3=(e,n,o)=>{switch(e.tag){case"field":return n(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},xS=e=>{const n=(r,l)=>ll.bindError(e(l),h=>dW(r,h)),o=tt("val");return{extract:n,toString:o}},U3=xS(ll.svalue),yW=(e,n,o,r)=>Xs(n,o).fold(()=>cW(e,o,n),r),z3=(e,n,o,r)=>{const l=Xs(e,n).getOrThunk(()=>o(e));return r(l)},_W=(e,n,o)=>o(Xs(e,n)),W3=(e,n,o,r)=>{const l=Xs(e,n).map(h=>h===!0?o(e):h);return r(l)},G3=(e,n,o,r,l)=>{const h=C=>l.extract(n.concat([r]),C),v=C=>C.fold(()=>ll.svalue(oe.none()),A=>{const L=l.extract(n.concat([r]),A);return ll.map(L,oe.some)});switch(e.tag){case"required":return yW(n,o,r,h);case"defaultedThunk":return z3(o,r,e.process,h);case"option":return _W(o,r,v);case"defaultedOptionThunk":return W3(o,r,e.process,v);case"mergeWithThunk":return z3(o,r,tt({}),C=>{const A=x2(e.process(o),C);return h(A)})}},AN=(e,n,o)=>{const r={},l=[];for(const h of o)V3(h,(v,C,A,L)=>{const X=G3(A,e,n,v,L);ll.fold(X,Z=>{l.push(...Z)},Z=>{r[C]=Z})},(v,C)=>{r[v]=C(n)});return l.length>0?ll.serror(l):ll.svalue(r)},AS=e=>({extract:(r,l)=>AN(r,l,e),toString:()=>`obj{
`+Yt(e,l=>V3(l,(h,v,C,A)=>h+" -> "+A.toString(),(h,v)=>"state("+h+")")).join(`
`)+"}"}),A2=e=>({extract:(r,l)=>{const h=Yt(l,(v,C)=>e.extract(r.concat(["["+C+"]"]),v));return vW.consolidateArr(h)},toString:()=>"array("+e.toString()+")"}),EW=e=>xS(n=>e(n).fold(ll.serror,ll.svalue)),wW=(e,n,o)=>{const r=n.extract([e],o);return ll.mapError(r,l=>({input:o,errors:l}))},TW=(e,n,o)=>ll.toResult(wW(e,n,o)),CW=e=>`Errors: 
`+aW(e.errors).join(`
`)+`

Input object: `+SN(e.input),O2=(e,n)=>mc(e,Ho(n,AS)),q3=tt(U3),R2=(e,n)=>xS(o=>{const r=typeof o;return e(o)?ll.svalue(o):ll.serror(`Expected type: ${n} but got: ${r}`)}),j3=R2(mn,"number"),I2=R2(K,"string"),ON=R2(qe,"boolean"),RN=R2(_e,"function"),OS=bW,Z3=H3,SW=e=>EW(n=>kn(e,n)?Is.value(n):Is.error(`Unsupported value: "${n}", choose one of "${e.join(", ")}".`)),Y3=(e,n)=>OS(e,e,B3(),n),IN=e=>Y3(e,I2),D2=e=>Y3(e,RN),K3=(e,n)=>OS(e,e,B3(),A2(n)),N2=(e,n)=>OS(e,e,uw(),n),M2=e=>N2(e,I2),xW=e=>N2(e,RN),AW=(e,n)=>OS(e,e,xN(n),q3()),dv=(e,n,o)=>OS(e,e,xN(n),o),DN=(e,n)=>dv(e,n,j3),X3=(e,n)=>dv(e,n,I2),Q3=(e,n,o)=>dv(e,n,SW(o)),NN=(e,n)=>dv(e,n,ON),J3=(e,n)=>dv(e,n,RN),wK=(e,n,o)=>dv(e,n,A2(o)),TK=IN("type"),OW=D2("fetch"),eB=D2("onAction"),RW=J3("onSetup",()=>Ot),IW=M2("text"),CK=M2("icon"),DW=M2("tooltip"),$a=M2("label"),MN=NN("active",!1),Wg=NN("enabled",!0),kN=NN("primary",!1),tB=e=>AW("columns",e),RS=e=>X3("type",e),PN=AS([TK,IN("trigger"),DN("minChars",1),tB(1),DN("maxResults",10),xW("matches"),OW,eB,wK("highlightOn",[],I2)]),LN=e=>TW("Autocompleter",PN,{trigger:e.ch,...e}),k2=[Wg,DW,CK,IW,RW],$N=[MN].concat(k2),NW=[J3("predicate",et),Q3("scope","node",["node","editor"]),Q3("position","selection",["node","selection","line"])],MW=k2.concat([RS("contextformbutton"),kN,eB,Z3("original",qt)]),kW=$N.concat([RS("contextformbutton"),kN,eB,Z3("original",qt)]),PW=k2.concat([RS("contextformbutton")]),LW=$N.concat([RS("contextformtogglebutton")]),nB=O2("type",{contextformbutton:MW,contextformtogglebutton:kW});AS([RS("contextform"),J3("initValue",tt("")),$a,K3("commands",nB),N2("launch",O2("type",{contextformbutton:PW,contextformtogglebutton:LW}))].concat(NW));const $W=e=>{const n=e.ui.registry.getAll().popups,o=Ho(n,v=>LN(v).fold(C=>{throw new Error(CW(C))},qt)),r=Yc(id(o,v=>v.trigger)),l=qd(o);return{dataset:o,triggers:r,lookupByTrigger:v=>Lt(l,C=>C.trigger===v)}},BW=(e,n)=>{const o=zc(n.load,50);e.on("keypress compositionend",r=>{r.which!==27&&o.throttle()}),e.on("keydown",r=>{const l=r.which;l===8?o.throttle():l===27&&n.cancelIfNecessary()}),e.on("remove",o.cancel)},FW=e=>{const n=oa(),o=Vi(!1),r=n.isSet,l=()=>{r()&&(a7(e),wR(e),o.set(!1),n.clear())},h=L=>{r()||(fD(e,L.range),n.set({trigger:L.trigger,matchLength:L.text.length}))},v=hl(()=>$W(e)),C=L=>n.get().map(X=>D3(e.dom,e.selection.getRng(),X.trigger).bind(Z=>CS(e,v,Z,L))).getOrThunk(()=>oW(e,v)),A=L=>{C(L).fold(l,X=>{h(X.context),X.lookupData.then(Z=>{n.get().map(se=>{const xe=X.context;se.trigger===xe.trigger&&(xe.text.length-se.matchLength>=10?l():(n.set({...se,matchLength:xe.text.length}),o.get()?Lx(e,{lookupData:Z}):(o.set(!0),ER(e,{lookupData:Z}))))})})})};e.addCommand("mceAutocompleterReload",(L,X)=>{const Z=De(X)?X.fetchOptions:{};A(Z)}),e.addCommand("mceAutocompleterClose",l),BW(e,{cancelIfNecessary:l,load:A})},oB=e=>(n,o,r={})=>{const l=n.getBody(),h={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:l,currentTarget:l,eventPhase:Event.AT_TARGET,originalTarget:l,explicitOriginalTarget:l,isTrusted:!1,srcElement:l,cancelable:!1,preventDefault:Ot,inputType:o},v=Wm(new InputEvent(e));return n.dispatch(e,{...v,...h,...r})},BN=oB("input"),P2=oB("beforeinput"),sB=(e,n,o)=>{const r=o.keyCode===Cn.BACKSPACE?"deleteContentBackward":"deleteContentForward";f3([{keyCode:Cn.BACKSPACE,action:Co(rN,e)},{keyCode:Cn.BACKSPACE,action:Co(i2,e,!1)},{keyCode:Cn.DELETE,action:Co(i2,e,!0)},{keyCode:Cn.BACKSPACE,action:Co(ND,e,!1)},{keyCode:Cn.DELETE,action:Co(ND,e,!0)},{keyCode:Cn.BACKSPACE,action:Co(KD,e,n,!1)},{keyCode:Cn.DELETE,action:Co(KD,e,n,!0)},{keyCode:Cn.BACKSPACE,action:Co(IC,e,!1)},{keyCode:Cn.DELETE,action:Co(IC,e,!0)},{keyCode:Cn.BACKSPACE,action:Co($D,e,!1)},{keyCode:Cn.DELETE,action:Co($D,e,!0)},{keyCode:Cn.BACKSPACE,action:Co(tN,e,!1)},{keyCode:Cn.DELETE,action:Co(tN,e,!0)},{keyCode:Cn.BACKSPACE,action:Co(DD,e,!1)},{keyCode:Cn.DELETE,action:Co(DD,e,!0)},{keyCode:Cn.BACKSPACE,action:Co(lS,e,!1)},{keyCode:Cn.DELETE,action:Co(lS,e,!0)},{keyCode:Cn.BACKSPACE,action:Co(m2,e,!1)},{keyCode:Cn.DELETE,action:Co(m2,e,!0)}],o).filter(l=>e.selection.isEditable()).each(l=>{o.preventDefault(),P2(e,r).isDefaultPrevented()||(l(),BN(e,r))})},HW=(e,n,o)=>{const r=Hs(),l=r.os,h=r.browser,v=l.isMacOS()?[{keyCode:Cn.BACKSPACE,altKey:!0,action:Co(cw,e)},{keyCode:Cn.DELETE,altKey:!0,action:Co(cw,e)}]:[{keyCode:Cn.BACKSPACE,ctrlKey:!0,action:Co(cw,e)},{keyCode:Cn.DELETE,ctrlKey:!0,action:Co(cw,e)}];l.isMacOS()&&o&&v.push({keyCode:h.isFirefox()?224:91,action:Co(cw,e)}),ji([{keyCode:Cn.BACKSPACE,action:Co(PD,e)},{keyCode:Cn.DELETE,action:Co(PD,e)},...v],n)},VW=(e,n)=>{let o=!1;e.on("keydown",r=>{o=r.keyCode===Cn.BACKSPACE,r.isDefaultPrevented()||sB(e,n,r)}),e.on("keyup",r=>{r.isDefaultPrevented()||HW(e,r,o),o=!1})},SK=e=>{for(;e;){if(nn(e)||Ut(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},zy=(e,n)=>{const o=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!n)return;if(/^(LI|DT|DD)$/.test(n.nodeName)){const h=SK(n.firstChild);h&&/^(UL|OL|DL)$/.test(h.nodeName)&&n.insertBefore(o.doc.createTextNode(ys),n.firstChild)}const l=o.createRng();if(n.normalize(),n.hasChildNodes()){const h=new ai(n,n);let v=n,C;for(;C=h.current();){if(Ut(C)){l.setStart(C,0),l.setEnd(C,0);break}if(r[C.nodeName.toLowerCase()]){l.setStartBefore(C),l.setEndBefore(C);break}v=C,C=h.next()}C||(l.setStart(v,0),l.setEnd(v,0))}else hr(n)?n.nextSibling&&o.isBlock(n.nextSibling)?(l.setStartBefore(n),l.setEndBefore(n)):(l.setStartAfter(n),l.setEndAfter(n)):(l.setStart(n,0),l.setEnd(n,0));e.selection.setRng(l),wn(e,l)},L2=(e,n)=>{const o=e.getRoot();let r,l=n;for(;l!==o&&l&&e.getContentEditable(l)!=="false";)e.getContentEditable(l)==="true"&&(r=l),l=l.parentNode;return l!==o?r:o},FN=e=>oe.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),UW=e=>FN(e).fold(tt(""),n=>n.nodeName.toUpperCase()),rB=e=>FN(e).filter(n=>ci(Ie.fromDom(n))).isSome(),zW=(e,n)=>e.firstChild&&e.firstChild.nodeName===n,iB=e=>{var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},aB=(e,n)=>{const o=e==null?void 0:e.parentNode;return ke(o)&&o.nodeName===n},cB=e=>ke(e)&&/^(OL|UL|LI)$/.test(e.nodeName),xK=e=>ke(e)&&/^(LI|DT|DD)$/.test(e.nodeName),Nl=e=>cB(e)&&cB(e.parentNode),$2=e=>{const n=e.parentNode;return xK(n)?n:e},B2=(e,n,o)=>{let r=e[o?"firstChild":"lastChild"];for(;r&&!nn(r);)r=r[o?"nextSibling":"previousSibling"];return r===n},WW=(e,n,o,r,l)=>{const h=e.dom,v=e.selection.getRng(),C=o.parentNode;if(o===e.getBody()||!C)return;Nl(o)&&(l="LI");let A=n(l);if(B2(o,r,!0)&&B2(o,r,!1))if(aB(o,"LI")){const L=$2(o);h.insertAfter(A,L),iB(o)?h.remove(L):h.remove(o)}else h.replace(A,o);else if(B2(o,r,!0))aB(o,"LI")?(h.insertAfter(A,$2(o)),A.appendChild(h.doc.createTextNode(" ")),A.appendChild(o)):C.insertBefore(A,o),h.remove(r);else if(B2(o,r,!1))h.insertAfter(A,$2(o)),h.remove(r);else{o=$2(o);const L=v.cloneRange();L.setStartAfter(r),L.setEndAfter(o);const X=L.extractContents();l==="LI"&&zW(X,"LI")?(A=X.firstChild,h.insertAfter(X,o)):(h.insertAfter(X,o),h.insertAfter(A,o)),h.remove(r)}zy(e,A)},GW=e=>{mt(Hu(Ie.fromDom(e),dr),n=>{const o=n.dom;o.nodeValue=yd(o.data)})},qW=(e,n)=>{const o=e.dom.getParent(n,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},jW=(e,n)=>n&&n.nodeName==="A"&&e.isEmpty(n),HN=e=>{e.innerHTML='<br data-mce-bogus="1">'},dw=(e,n)=>e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n,VN=(e,n)=>ke(n)&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.isEditable(n.parentNode)&&e.getContentEditable(n)!=="false",ZW=(e,n,o)=>{var r;const l=[];if(!o)return;let h=o;for(;h=h.firstChild;){if(e.isBlock(h))return;nn(h)&&!n[h.nodeName.toLowerCase()]&&l.push(h)}let v=l.length;for(;v--;)h=l[v],(!h.hasChildNodes()||h.firstChild===h.lastChild&&((r=h.firstChild)===null||r===void 0?void 0:r.nodeValue)===""||jW(e,h))&&e.remove(h)},IS=(e,n,o)=>Ut(n)?e?o===1&&n.data.charAt(o-1)===Ma?0:o:o===n.data.length-1&&n.data.charAt(o)===Ma?n.data.length:o:o,UN=e=>{const n=e.cloneRange();return n.setStart(e.startContainer,IS(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,IS(!1,e.endContainer,e.endOffset)),n},YW=e=>{let n=e;do Ut(n)&&(n.data=n.data.replace(/^[\r\n]+/,"")),n=n.firstChild;while(n)},AK=(e,n,o)=>{const r=e.dom;oe.from(o.style).map(r.parseStyle).each(A=>{const X={...tl(Ie.fromDom(n)),...A};r.setStyles(n,X)});const l=oe.from(o.class).map(A=>A.split(/\s+/)),h=oe.from(n.className).map(A=>Lt(A.split(/\s+/),L=>L!==""));_t(l,h,(A,L)=>{const X=Lt(L,se=>!kn(A,se)),Z=[...A,...X];r.setAttrib(n,"class",Z.join(" "))});const v=["style","class"],C=ks(o,(A,L)=>!kn(v,L));r.setAttribs(n,C)},F2=(e,n)=>{if(yu(e).toLowerCase()===n.tagName.toLowerCase()){const r=pg(e);AK(e,n,r)}},KW=(e,n,o,r,l)=>{var h,v;const C=e.dom,A=(h=L2(C,r))!==null&&h!==void 0?h:C.getRoot();let L=C.getParent(r,C.isBlock);if(!L||!VN(C,L)){if(L=L||A,!L.hasChildNodes()){const xe=C.create(n);return F2(e,xe),L.appendChild(xe),o.setStart(xe,0),o.setEnd(xe,0),xe}let X=r;for(;X&&X.parentNode!==L;)X=X.parentNode;let Z;for(;X&&!C.isBlock(X);)Z=X,X=X.previousSibling;const se=(v=Z==null?void 0:Z.parentElement)===null||v===void 0?void 0:v.nodeName;if(Z&&se&&e.schema.isValidChild(se,n.toLowerCase())){const xe=Z.parentNode,Re=C.create(n);for(F2(e,Re),xe.insertBefore(Re,Z),X=Z;X&&!C.isBlock(X);){const be=X.nextSibling;Re.appendChild(X),X=be}o.setStart(r,l),o.setEnd(r,l)}}return r},XW=(e,n)=>{n.normalize();const o=n.lastChild;(!o||nn(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(n,"br")},OK=(e,n)=>{const o=Xl(e);return yt(n)?!1:K(o)?kn(we.explode(o),n.nodeName.toLowerCase()):o},lB={insert:(e,n)=>{let o,r,l,h,v=!1;const C=e.dom,A=e.schema,L=A.getNonEmptyElements(),X=e.selection.getRng(),Z=yu(e),se=on=>{let jt=o;const ht=A.getTextInlineElements();let ft;on||l==="TABLE"||l==="HR"?ft=C.create(on||Z):ft=Be.cloneNode(!1);let bn=ft;if(Ad(e)===!1)C.setAttrib(ft,"style",null),C.setAttrib(ft,"class",null);else do if(ht[jt.nodeName]){if(Ws(jt)||Qu(jt))continue;const Ln=jt.cloneNode(!1);C.setAttrib(Ln,"id",""),ft.hasChildNodes()?(Ln.appendChild(ft.firstChild),ft.appendChild(Ln)):(bn=Ln,ft.appendChild(Ln))}while((jt=jt.parentNode)&&jt!==Ve);return F2(e,ft),HN(bn),ft},xe=on=>{const jt=IS(on,o,r);if(Ut(o)&&(on?jt>0:jt<o.data.length))return!1;if(o.parentNode===Be&&v&&!on||on&&nn(o)&&o===Be.firstChild)return!0;if(dw(o,"TABLE")||dw(o,"HR"))return v&&!on||!v&&on;const ht=new ai(o,Be);Ut(o)&&(on&&jt===0?ht.prev():!on&&jt===o.data.length&&ht.next());let ft;for(;ft=ht.current();){if(nn(ft)){if(!ft.getAttribute("data-mce-bogus")){const bn=ft.nodeName.toLowerCase();if(L[bn]&&bn!=="br")return!1}}else if(Ut(ft)&&!Hc(ft.data))return!1;on?ht.prev():ht.next()}return!0},Re=()=>{let on;return/^(H[1-6]|PRE|FIGURE)$/.test(l)&&Ye!=="HGROUP"?on=se(Z):on=se(),OK(e,h)&&VN(C,h)&&C.isEmpty(Be)?on=C.split(h,Be):C.insertAfter(on,Be),zy(e,on),on};yp(C,X).each(on=>{X.setStart(on.startContainer,on.startOffset),X.setEnd(on.endContainer,on.endOffset)}),o=X.startContainer,r=X.startOffset;const be=!!(n&&n.shiftKey),Ae=!!(n&&n.ctrlKey);nn(o)&&o.hasChildNodes()&&(v=r>o.childNodes.length-1,o=o.childNodes[Math.min(r,o.childNodes.length-1)]||o,v&&Ut(o)?r=o.data.length:r=0);const Ve=L2(C,o);if(!Ve||qW(e,o))return;be||(o=KW(e,Z,X,o,r));let Be=C.getParent(o,C.isBlock)||C.getRoot();h=ke(Be==null?void 0:Be.parentNode)?C.getParent(Be.parentNode,C.isBlock):null,l=Be?Be.nodeName.toUpperCase():"";const Ye=h?h.nodeName.toUpperCase():"";if(Ye==="LI"&&!Ae){const on=h;Be=on,h=on.parentNode,l=Ye}if(/^(LI|DT|DD)$/.test(l)&&nn(h)&&C.isEmpty(Be)){WW(e,se,h,Be,Z);return}if(Be===e.getBody()||!VN(C,Be))return;const it=Be.parentNode;let St;if(Uu(Be))St=Av(Be),C.isEmpty(Be)&&HN(Be),F2(e,St),zy(e,St);else if(xe(!1))St=Re();else if(xe(!0)&&it)St=it.insertBefore(se(),Be),zy(e,dw(Be,"HR")?St:Be);else{const on=UN(X).cloneRange();on.setEndAfter(Be);const jt=on.extractContents();GW(jt),YW(jt),St=jt.firstChild,C.insertAfter(jt,Be),ZW(C,L,St),XW(C,Be),C.isEmpty(Be)&&HN(Be),St.normalize(),C.isEmpty(St)?(C.remove(St),Re()):(F2(e,St),zy(e,St))}C.setAttrib(St,"id",""),e.dispatch("NewBlock",{newBlock:St})},fakeEventName:"insertParagraph"},QW=(e,n,o)=>{const r=new ai(n,o);let l;const h=e.getNonEmptyElements();for(;l=r.next();)if(h[l.nodeName.toLowerCase()]||Ut(l)&&l.length>0)return!0;return!1},fv=(e,n,o)=>{const r=e.dom.createRng();o?(r.setStartBefore(n),r.setEndBefore(n)):(r.setStartAfter(n),r.setEndAfter(n)),e.selection.setRng(r),wn(e,r)},JW=(e,n)=>{const o=e.selection,r=e.dom,l=o.getRng();let h,v=!1;yp(r,l).each(xe=>{l.setStart(xe.startContainer,xe.startOffset),l.setEnd(xe.endContainer,xe.endOffset)});let C=l.startOffset,A=l.startContainer;if(nn(A)&&A.hasChildNodes()){const xe=C>A.childNodes.length-1;A=A.childNodes[Math.min(C,A.childNodes.length-1)]||A,xe&&Ut(A)?C=A.data.length:C=0}let L=r.getParent(A,r.isBlock);const X=L&&L.parentNode?r.getParent(L.parentNode,r.isBlock):null,Z=X?X.nodeName.toUpperCase():"",se=!!(n&&n.ctrlKey);Z==="LI"&&!se&&(L=X),Ut(A)&&C>=A.data.length&&(QW(e.schema,A,L||r.getRoot())||(h=r.create("br"),l.insertNode(h),l.setStartAfter(h),l.setEndAfter(h),v=!0)),h=r.create("br"),er(r,l,h),fv(e,h,v),e.undoManager.add()},uB=(e,n)=>{const o=Ie.fromTag("br");us(Ie.fromDom(n),o),e.undoManager.add()},e9=(e,n)=>{n9(e.getBody(),n)||nl(Ie.fromDom(n),Ie.fromTag("br"));const o=Ie.fromTag("br");nl(Ie.fromDom(n),o),fv(e,o.dom,!1),e.undoManager.add()},t9=e=>hr(e.getNode()),n9=(e,n)=>t9(Ke.after(n))?!0:ui(e,Ke.after(n)).map(o=>hr(o.getNode())).getOr(!1),dB=e=>e&&e.nodeName==="A"&&"href"in e,o9=e=>e.fold(et,dB,dB,et),s9=e=>{const n=je(_y,e),o=Ke.fromRangeStart(e.selection.getRng());return Bg(n,e.getBody(),o).filter(o9)},r9=(e,n)=>{n.fold(Ot,je(uB,e),je(e9,e),Ot)},DS={insert:(e,n)=>{const o=s9(e);o.isSome()?o.each(je(r9,e)):JW(e,n)},fakeEventName:"insertLineBreak"},hB=(e,n)=>FN(e).filter(o=>n.length>0&&da(Ie.fromDom(o),n)).isSome(),a9=e=>hB(e,M1(e)),c9=e=>hB(e,k1(e)),ah=Xu.generate([{br:[]},{block:[]},{none:[]}]),l9=(e,n)=>c9(e),zN=e=>(n,o)=>rB(n)===e,mB=(e,n)=>(o,r)=>UW(o)===e.toUpperCase()===n,pB=e=>{const n=L2(e.dom,e.selection.getStart());return yt(n)},fw=e=>mB("pre",e),u9=()=>mB("summary",!0),H2=e=>(n,o)=>bu(n)===e,WN=(e,n)=>a9(e),V2=(e,n)=>n,d9=e=>{const n=yu(e),o=L2(e.dom,e.selection.getStart());return ke(o)&&e.schema.isValidChild(o.nodeName,n)},Bd=(e,n)=>(o,r)=>Ns(e,(h,v)=>h&&v(o,r),!0)?oe.some(n):oe.none(),f9=(e,n)=>AU([Bd([l9],ah.none()),Bd([fw(!0),pB],ah.none()),Bd([u9()],ah.br()),Bd([fw(!0),H2(!1),V2],ah.br()),Bd([fw(!0),H2(!1)],ah.block()),Bd([fw(!0),H2(!0),V2],ah.block()),Bd([fw(!0),H2(!0)],ah.br()),Bd([zN(!0),V2],ah.br()),Bd([zN(!0)],ah.block()),Bd([WN],ah.br()),Bd([V2],ah.br()),Bd([d9],ah.block())],[e,!!(n&&n.shiftKey)]).getOr(ah.none()),hw=(e,n,o)=>{n.selection.isCollapsed()||sI(n),!(ke(o)&&P2(n,e.fakeEventName).isDefaultPrevented())&&(e.insert(n,o),ke(o)&&BN(n,e.fakeEventName))},U2=(e,n)=>{const o=()=>hw(DS,e,n),r=()=>hw(lB,e,n),l=f9(e,n);switch(il(e)){case"linebreak":l.fold(o,o,Ot);break;case"block":l.fold(r,r,Ot);break;case"invert":l.fold(r,o,Ot);break;default:l.fold(o,r,Ot);break}},gB=(e,n)=>{n.isDefaultPrevented()||(n.preventDefault(),P8(e.undoManager),e.undoManager.transact(()=>{U2(e,n)}))},h9=e=>{e.on("keydown",n=>{n.keyCode===Cn.ENTER&&gB(e,n)})},IK=(e,n,o)=>{const r=Do.os.isMacOS()||Do.os.isiOS();ji([{keyCode:Cn.END,action:Co(l3,e,!0)},{keyCode:Cn.HOME,action:Co(l3,e,!1)},...r?[]:[{keyCode:Cn.HOME,action:Co(_2,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Cn.END,action:Co(_2,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Cn.END,action:Co(uN,e,!0)},{keyCode:Cn.HOME,action:Co(uN,e,!1)},{keyCode:Cn.END,action:Co(Uy,e,!0,n)},{keyCode:Cn.HOME,action:Co(Uy,e,!1,n)}],o).each(l=>{o.preventDefault()})},Fb=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||IK(e,n,o)})},m9=e=>{e.on("input",n=>{n.isComposing||G6(e)})},p9=Hs(),g9=(e,n,o)=>{ji([{keyCode:Cn.PAGE_UP,action:Co(Uy,e,!1,n)},{keyCode:Cn.PAGE_DOWN,action:Co(Uy,e,!0,n)}],o)},NS=e=>e.stopImmediatePropagation(),GN=e=>e.keyCode===Cn.PAGE_UP||e.keyCode===Cn.PAGE_DOWN,qN=(e,n,o)=>{o&&!e.get()?n.on("NodeChange",NS,!0):!o&&e.get()&&n.off("NodeChange",NS),e.set(o)},v9=(e,n)=>{if(p9.os.isMacOS())return;const o=Vi(!1);e.on("keydown",r=>{GN(r)&&qN(o,e,!0)}),e.on("keyup",r=>{r.isDefaultPrevented()||g9(e,n,r),GN(r)&&o.get()&&(qN(o,e,!1),e.nodeChanged())})},jN=(e,n)=>{const o=n.container(),r=n.offset();return Ut(o)?(o.insertData(r,e),oe.some(Ke(o,r+e.length))):q1(n).map(l=>{const h=Ie.fromText(e);return n.isAtEnd()?nl(l,h):us(l,h),Ke(h.dom,e.length)})},b9=je(jN,ys),y9=je(jN," "),_9=e=>n=>n.fold(o=>di(e.dom,Ke.before(o)),o=>ei(o),o=>Zr(o),o=>ui(e.dom,Ke.after(o))),vB=(e,n)=>o=>H6(e,o)?b9(n):y9(n),ZN=e=>n=>(e.selection.setRng(n.toRange()),e.nodeChanged(),!0),E9=e=>{const n=Ke.fromRangeStart(e.selection.getRng()),o=Ie.fromDom(e.getBody());if(e.selection.isCollapsed()){const r=je(_y,e),l=Ke.fromRangeStart(e.selection.getRng());return Bg(r,e.getBody(),l).bind(_9(o)).map(h=>()=>vB(o,n)(h).each(ZN(e)))}else return oe.none()},YN=(e,n)=>{f3([{keyCode:Cn.SPACEBAR,action:Co(E9,e)}],n).each(o=>{n.preventDefault(),P2(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),BN(e,"insertText",{data:" "}))})},bB=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||YN(e,n)})},z2=e=>oE(e)?[{keyCode:Cn.TAB,action:Co(EN,e,!0)},{keyCode:Cn.TAB,shiftKey:!0,action:Co(EN,e,!1)}]:[],yB=(e,n)=>{ji([...z2(e)],n).each(o=>{n.preventDefault()})},_B=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||yB(e,n)})},w9=e=>{if(e.addShortcut("Meta+P","","mcePrint"),FW(e),Ng(e))return Vi(null);{const n=pS(e);return bz(e),Yz(e,n),VW(e,n),h9(e),bB(e),m9(e),_B(e),Fb(e,n),v9(e,n),n}};class T9{constructor(n){this.lastPath=[],this.editor=n;let o;const r=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",l=>{const h=n.selection.getRng(),v={startContainer:h.startContainer,startOffset:h.startOffset,endContainer:h.endContainer,endOffset:h.endOffset};(l.type==="nodechange"||!fC(v,o))&&n.dispatch("SelectionChange"),o=v}),n.on("contextmenu",()=>{n.dispatch("SelectionChange")}),n.on("SelectionChange",()=>{const l=n.selection.getStart(!0);l&&MT(n)&&!r.isSameElementPath(l)&&n.dom.isChildOf(l,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",l=>{!l.isDefaultPrevented()&&MT(n)&&(n.selection.getNode().nodeName==="IMG"?Md.setEditorTimeout(n,()=>{n.nodeChanged()}):n.nodeChanged())})}nodeChanged(n={}){const o=this.editor.selection;let r;if(this.editor.initialized&&o&&!rT(this.editor)&&!this.editor.mode.isReadOnly()){const l=this.editor.getBody();r=o.getStart(!0)||l,(r.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(r,l))&&(r=l);const h=[];this.editor.dom.getParent(r,v=>v===l?!0:(h.push(v),!1)),this.editor.dispatch("NodeChange",{...n,element:r,parents:h})}}isSameElementPath(n){let o;const r=this.editor,l=Os(r.dom.getParents(n,It,r.getBody()));if(l.length===this.lastPath.length){for(o=l.length;o>=0&&l[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=l,!0}return this.lastPath=l,!1}}const MS="x-tinymce/html",kS=tt(MS),KN="<!-- "+MS+" -->",C9=e=>KN+e,EB=e=>e.replace(KN,""),wB=e=>e.indexOf(KN)!==-1,S9=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),x9=(e,n)=>{let o="<"+e;const r=id(n,(l,h)=>h+'="'+cf.encodeAllRaw(l)+'"');return r.length&&(o+=" "+r.join(" ")),o+">"},A9=(e,n,o)=>{const r=e.split(/\n\n/),l=x9(n,o),h="</"+n+">",v=Yt(r,A=>A.split(/\n/).join("<br />")),C=A=>l+A+h;return v.length===1?v[0]:Yt(v,C).join("")},TB="%MCEPASTEBIN%",CB=(e,n)=>{const{dom:o,selection:r}=e,l=e.getBody();n.set(r.getRng());const h=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},TB);Do.browser.isFirefox()&&o.setStyle(h,"left",o.getStyle(l,"direction",!0)==="rtl"?65535:-65535),o.bind(h,"beforedeactivate focusin focusout",v=>{v.stopPropagation()}),h.focus(),r.select(h,!0)},O9=(e,n)=>{const o=e.dom;if(W2(e)){let r;const l=n.get();for(;r=W2(e);)o.remove(r),o.unbind(r);l&&e.selection.setRng(l)}n.set(null)},W2=e=>e.dom.get("mcepastebin"),R9=e=>ke(e)&&e.id==="mcepastebin",I9=e=>{const n=e.dom,o=(v,C)=>{v.appendChild(C),n.remove(C,!0)},[r,...l]=Lt(e.getBody().childNodes,R9);mt(l,v=>{o(r,v)});const h=n.select("div[id=mcepastebin]",r);for(let v=h.length-1;v>=0;v--){const C=n.create("div");r.insertBefore(C,h[v]),o(C,h[v])}return r?r.innerHTML:""},SB=e=>e===TB,D9=e=>{const n=Vi(null);return{create:()=>CB(e,n),remove:()=>O9(e,n),getEl:()=>W2(e),getHtml:()=>I9(e),getLastRng:n.get}},xB=(e,n)=>(we.each(n,o=>{me(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),mw=e=>{const n=Yl(),o=Mb({},n);let r="";const l=n.getVoidElements(),h=we.makeMap("script noscript style textarea video audio iframe object"," "),v=n.getBlockElements(),C=A=>{const L=A.name,X=A;if(L==="br"){r+=`
`;return}if(L!=="wbr"){if(l[L]&&(r+=" "),h[L]){r+=" ";return}if(A.type===3&&(r+=A.value),!(A.name in n.getVoidElements())){let Z=A.firstChild;if(Z)do C(Z);while(Z=Z.next)}v[L]&&X.next&&(r+=`
`,L==="p"&&(r+=`
`))}};return e=xB(e,[/<!\[[^\]]+\]>/g]),C(o.parse(e)),r},AB=e=>(e=xB(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,r,l)=>!r&&!l?" ":ys],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),N9=e=>{let n=0;return()=>e+n++},OB=e=>{const n=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return we.hasOwn(o,n)?"image/"+o[n]:"image/"+n},M9=(e,n)=>{const o=Mb({sanitize:lb(e)},e.schema);o.addNodeFilter("meta",l=>{we.each(l,h=>{h.remove()})});const r=o.parse(n,{forced_root_block:!1,isRootContent:!0});return Sb({validate:!0},e.schema).serialize(r)},RB=(e,n)=>({content:e,cancelled:n}),k9=(e,n,o)=>{const r=e.dom.create("div",{style:"display:none"},n),l=TR(e,r,o);return RB(l.node.innerHTML,l.isDefaultPrevented())},IB=(e,n,o)=>{const r=nC(e,n,o),l=M9(e,r.content);return e.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?k9(e,l,o):RB(l,r.isDefaultPrevented())},P9=(e,n,o)=>IB(e,n,o),XN=(e,n)=>(e.insertContent(n,{merge:B0(e),paste:!0}),!0),DB=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),G2=(e,n)=>DB(n)&&ko(V0(e),o=>lu(n.toLowerCase(),`.${o.toLowerCase()}`)),L9=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.insertContent('<img src="'+n+'">')}),!0),$9=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.execCommand("mceInsertLink",!1,n)}),!0),B9=(e,n,o)=>!e.selection.isCollapsed()&&DB(n)?$9(e,n,o):!1,F9=(e,n,o)=>G2(e,n)?L9(e,n,o):!1,H9=(e,n)=>{we.each([B9,F9,XN],o=>!o(e,n,XN))},V9=(e,n,o)=>{o||!Rd(e)?XN(e,n):H9(e,n)},U9=N9("mceclip"),NB=(e,n,o,r)=>{const l=P9(e,n,o);l.cancelled||V9(e,l.content,r)},q2=(e,n,o)=>{const r=o||wB(n);NB(e,EB(n),r,!1)},QN=(e,n)=>{const o=e.dom.encode(n).replace(/\r\n/g,`
`),r=Lh(o,F0(e)),l=A9(r,yu(e),pg(e));NB(e,l,!1,!0)},MB=e=>{const n={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const r=e.types[o];try{n[r]=e.getData(r)}catch{n[r]=""}}return n},Hb=(e,n)=>n in e&&e[n].length>0,kB=e=>Hb(e,"text/html")||Hb(e,"text/plain"),Ar=(e,n)=>{const o=n.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return ke(o)?e.dom.encode(o[1]):void 0},z9=(e,n,o,r)=>{const l=U9(),h=Ic(e)&&ke(o.name),v=h?Ar(e,o.name):l,C=h?o.name:void 0,A=n.create(l,o,r,v,C);return n.add(A),A},PB=(e,n)=>{ZE(n.uri).each(({data:o,type:r,base64Encoded:l})=>{const h=l?o:btoa(o),v=n.file,C=e.editorUpload.blobCache,A=C.getByData(h,r),L=A??z9(e,C,v,h);q2(e,`<img src="${L.blobUri()}">`,!1)})},W9=e=>e.type==="paste",JN=e=>Promise.all(Yt(e,n=>NL(n).then(o=>({file:n,uri:o})))),LB=e=>{const n=V0(e);return o=>_i(o.type,"image/")&&ko(n,r=>OB(r)===o.type)},$B=(e,n)=>{const o=n.items?Ca(vr(n.items),l=>l.kind==="file"?[l.getAsFile()]:[]):[],r=n.files?vr(n.files):[];return Lt(o.length>0?o:r,LB(e))},BB=(e,n,o)=>{const r=W9(n)?n.clipboardData:n.dataTransfer;if(sp(e)&&r){const l=$B(e,r);if(l.length>0)return n.preventDefault(),JN(l).then(h=>{o&&e.selection.setRng(o),mt(h,v=>{PB(e,v)})}),!0}return!1},FB=e=>{var n,o;return Do.os.isAndroid()&&((o=(n=e.clipboardData)===null||n===void 0?void 0:n.items)===null||o===void 0?void 0:o.length)===0},G9=e=>Cn.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,eM=(e,n,o,r)=>{let l=AB(o);const h=Hb(n,kS())||wB(o),v=!h&&S9(l),C=DB(l);(SB(l)||!l.length||v&&!C)&&(r=!0),(r||C)&&(Hb(n,"text/plain")&&v?l=n["text/plain"]:l=mw(l)),!SB(l)&&(r?QN(e,l):q2(e,l,h))},HB=(e,n,o)=>{let r;const l=()=>n.getLastRng()||e.selection.getRng();e.on("keydown",h=>{G9(h)&&!h.isDefaultPrevented()&&(r=h.shiftKey&&h.keyCode===86)}),e.on("paste",h=>{if(h.isDefaultPrevented()||FB(h))return;const v=o.get()==="text"||r;r=!1;const C=MB(h.clipboardData);!kB(C)&&BB(e,h,l())||(Hb(C,"text/html")?(h.preventDefault(),eM(e,C,C["text/html"],v)):Hb(C,"text/plain")&&Hb(C,"text/uri-list")?(h.preventDefault(),eM(e,C,C["text/plain"],v)):(n.create(),Md.setEditorTimeout(e,()=>{const A=n.getHtml();n.remove(),eM(e,C,A,v)},0)))})},q9=e=>{const n=l=>_i(l,"webkit-fake-url"),o=l=>_i(l,"data:"),r=l=>{var h;return((h=l.data)===null||h===void 0?void 0:h.paste)===!0};e.parser.addNodeFilter("img",(l,h,v)=>{if(!sp(e)&&r(v))for(const C of l){const A=C.attr("src");K(A)&&!C.attr("data-mce-object")&&A!==Do.transparentSrc&&(n(A)||!J_(e)&&o(A))&&C.remove()}})},j9=(e,n,o)=>{HB(e,n,o),q9(e)},j2=(e,n)=>{n.get()==="text"?(n.set("html"),xg(e,!1)):(n.set("text"),xg(e,!0)),e.focus()},PS=(e,n)=>{e.addCommand("mceTogglePlainTextPaste",()=>{j2(e,n)}),e.addCommand("mceInsertClipboardContent",(o,r)=>{r.html&&q2(e,r.html,r.internal),r.text&&QN(e,r.text)})},VB=(e,n,o)=>{if(e)try{return e.clearData(),e.setData("text/html",n),e.setData("text/plain",o),e.setData(kS(),n),!0}catch{return!1}else return!1},Of=(e,n,o,r)=>{VB(e.clipboardData,n.html,n.text)?(e.preventDefault(),r()):o(n.html,r)},UB=e=>(n,o)=>{const{dom:r,selection:l}=e,h=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),v=r.create("div",{contenteditable:"true"},n);r.setStyles(h,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),h.appendChild(v),r.add(e.getBody(),h);const C=l.getRng();v.focus();const A=r.createRng();A.selectNodeContents(v),l.setRng(A),Md.setEditorTimeout(e,()=>{l.setRng(C),r.remove(h),o()},0)},Wy=e=>({html:C9(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),LS=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),zB=e=>!e.selection.isCollapsed()||LS(e),Z9=e=>n=>{!n.isDefaultPrevented()&&zB(e)&&Of(n,Wy(e),UB(e),()=>{if(Do.browser.isChromium()||Do.browser.isFirefox()){const o=e.selection.getRng();Md.setEditorTimeout(e,()=>{e.selection.setRng(o),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},pw=e=>n=>{!n.isDefaultPrevented()&&zB(e)&&Of(n,Wy(e),UB(e),Ot)},Y9=e=>{e.on("cut",Z9(e)),e.on("copy",pw(e))},Z2=(e,n)=>{var o,r;return _b.getCaretRangeFromPoint((o=n.clientX)!==null&&o!==void 0?o:0,(r=n.clientY)!==null&&r!==void 0?r:0,e.getDoc())},tM=e=>{const n=e["text/plain"];return n?n.indexOf("file://")===0:!1},nM=(e,n)=>{e.focus(),n&&e.selection.setRng(n)},K9=e=>ko(e.files,n=>/^image\//.test(n.type)),X9=(e,n,o,r)=>{const l=e.getParent(o,h=>zf(n,h));if(l&&qn(r,"text/html")){const h=new DOMParser().parseFromString(r["text/html"],"text/html").body;return!Ee(h.querySelector(l.nodeName.toLowerCase()))}else return!1},WB=(e,n)=>{ab(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),sp(e)||e.on("drop",o=>{const r=o.dataTransfer;r&&K9(r)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const r=Z2(e,o);if(yt(r))return;const l=MB(o.dataTransfer),h=Hb(l,kS());if((!kB(l)||tM(l))&&BB(e,o,r))return;const v=l[kS()],C=v||l["text/html"]||l["text/plain"],A=X9(e.dom,e.schema,r.startContainer,l);n.get()&&!A||C&&(o.preventDefault(),Md.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{v&&e.execCommand("Delete"),nM(e,r);const L=AB(C);l["text/html"]?q2(e,L,h):QN(e,L)})}))}),e.on("dragstart",o=>{n.set(!0)}),e.on("dragover dragend",o=>{sp(e)&&!n.get()&&(o.preventDefault(),nM(e,Z2(e,o))),o.type==="dragend"&&n.set(!1)})},GB=e=>{const n=l=>h=>{l(e,h)},o=cb(e);_e(o)&&e.on("PastePreProcess",n(o));const r=Q_(e);_e(r)&&e.on("PastePostProcess",n(r))},Q9=(e,n)=>{e.on("PastePreProcess",o=>{o.content=n(e,o.content,o.internal)})},J9=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,qB=e=>we.trim(e).replace(J9,hb).toLowerCase(),jB=(e,n,o)=>{const r=pf(e);if(o||r==="all"||!B1(e))return n;const l=r?r.split(/[, ]/):[];if(l&&r!=="none"){const h=e.dom,v=e.selection.getNode();n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(C,A,L,X)=>{const Z=h.parseStyle(h.decode(L)),se={};for(let Re=0;Re<l.length;Re++){const be=Z[l[Re]];let Ae=be,Ve=h.getStyle(v,l[Re],!0);/color/.test(l[Re])&&(Ae=qB(Ae),Ve=qB(Ve)),Ve!==Ae&&(se[l[Re]]=be)}const xe=h.serializeStyle(se,"span");return xe?A+' style="'+xe+'"'+X:A+X})}else n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return n=n.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(h,v,C,A)=>v+' style="'+C+'"'+A),n},eG=e=>{(Do.browser.isChromium()||Do.browser.isSafari())&&Q9(e,jB)},ZB=e=>{const n=Vi(!1),o=Vi(Yh(e)?"text":"html"),r=D9(e);eG(e),PS(e,o),GB(e),e.on("PreInit",()=>{Y9(e),WB(e,n),j9(e,r,o)})},tG=e=>{e.on("click",n=>{e.dom.getParent(n.target,"details")&&n.preventDefault()})},nG=e=>{e.parser.addNodeFilter("details",n=>{mt(n,o=>{o.attr("data-mce-open",o.attr("open")),o.attr("open","open")})}),e.serializer.addNodeFilter("details",n=>{mt(n,o=>{const r=o.attr("data-mce-open");o.attr("open",K(r)?r:null),o.attr("data-mce-open",null)})})},YB=e=>{tG(e),nG(e)},oG=hr,KB=Ut,sG=e=>Po(e.dom),XB=e=>ts(e.dom),QB=e=>n=>ns(Ie.fromDom(e),n),rG=(e,n)=>es(Ie.fromDom(e),o=>XB(o)||Ft(o),QB(n)).getOr(Ie.fromDom(n)).dom,JB=(e,n)=>es(Ie.fromDom(e),sG,QB(n)),eF=(e,n,o)=>{const r=new ai(e,n),l=o?r.next.bind(r):r.prev.bind(r);let h=e;for(let v=o?e:l();v&&!oG(v);v=l())Tl(v)&&(h=v);return h},iG=(e,n)=>{const r=Ke.fromRangeStart(e).getNode(),l=rG(r,n),h=eF(r,l,!1),v=eF(r,l,!0),C=document.createRange();return JB(h,l).fold(()=>{KB(h)?C.setStart(h,0):C.setStartBefore(h)},A=>C.setStartBefore(A.dom)),JB(v,l).fold(()=>{KB(v)?C.setEnd(v,v.data.length):C.setEndAfter(v)},A=>C.setEndAfter(A.dom)),C},aG=e=>{const n=iG(e.selection.getRng(),e.getBody());e.selection.setRng(NC(n))},cG=e=>{e.on("mousedown",n=>{n.detail>=3&&(n.preventDefault(),aG(e))})};var Gy;(function(e){e.Before="before",e.After="after"})(Gy||(Gy={}));const lG=(e,n)=>Math.abs(e.left-n),uG=(e,n)=>Math.abs(e.right-n),dG=(e,n)=>e>=n.top&&e<=n.bottom,fG=(e,n)=>e.top<n.bottom&&e.bottom>n.top,hG=(e,n)=>{const o=b0(e,n)/Math.min(e.height,n.height);return fG(e,n)&&o>.5},tF=(e,n)=>{const o=Lt(e,r=>dG(n,r));return v0(o).fold(()=>[[],e],r=>{const{pass:l,fail:h}=vi(e,v=>hG(v,r));return[l,h]})},mG=(e,n)=>({node:e.node,position:lG(e,n)<uG(e,n)?Gy.Before:Gy.After}),pG=(e,n,o)=>n>e.left&&n<e.right?0:Math.min(Math.abs(e.left-n),Math.abs(e.right-n)),oM=(e,n,o)=>{const r=X=>Tl(X.node)?oe.some(X):nn(X.node)?oM(vr(X.node.childNodes),n,o):oe.none(),l=(X,Z)=>{if(X.length>=2){const se=r(X[0]).getOr(X[0]),xe=r(X[1]).getOr(X[1]);if(Math.abs(Z(se,n,o)-Z(xe,n,o))<2){if(Ut(se.node))return oe.some(se);if(Ut(xe.node))return oe.some(xe)}}return oe.none()},h=(X,Z)=>{const se=Ms(X,(xe,Re)=>Z(xe,n,o)-Z(Re,n,o));return l(se,Z).orThunk(()=>$r(se,r))},[v,C]=tF(Fy(e),o),{pass:A,fail:L}=vi(C,X=>X.top<o);return h(v,pG).orThunk(()=>h(L,I_)).orThunk(()=>h(A,I_))},gG=(e,n,o,r)=>{const l=(h,v)=>{const C=L=>nn(L)&&L.classList.contains("mce-drag-container"),A=Lt(h.dom.childNodes,vo(C));return v.fold(()=>oM(A,o,r),L=>{const X=Lt(A,Z=>Z!==L.dom);return oM(X,o,r)}).orThunk(()=>(ns(h,e)?oe.none():Xr(h)).bind(X=>l(X,oe.some(h))))};return l(n,oe.none())},vG=(e,n,o)=>{const r=Ie.fromDom(e),l=At(r),v=Ie.fromPoint(l,n,o).filter(C=>Je(r,C)).getOr(r);return gG(r,v,n,o)},nF=(e,n,o)=>vG(e,n,o).filter(r=>th(r.node)).map(r=>mG(r,n)),oF=e=>{var n,o;const r=e.getBoundingClientRect(),l=e.ownerDocument,h=l.documentElement,v=l.defaultView;return{top:r.top+((n=v==null?void 0:v.scrollY)!==null&&n!==void 0?n:0)-h.clientTop,left:r.left+((o=v==null?void 0:v.scrollX)!==null&&o!==void 0?o:0)-h.clientLeft}},Y2=e=>e.inline?oF(e.getBody()):{left:0,top:0},sF=e=>{const n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},bG=e=>{const n=e.getBody(),o=e.getDoc().documentElement,r={left:n.scrollLeft,top:n.scrollTop},l={left:n.scrollLeft||o.scrollLeft,top:n.scrollTop||o.scrollTop};return e.inline?r:l},rF=(e,n)=>{if(n.target.ownerDocument!==e.getDoc()){const o=oF(e.getContentAreaContainer()),r=bG(e);return{left:n.pageX-o.left+r.left,top:n.pageY-o.top+r.top}}return{left:n.pageX,top:n.pageY}},iF=(e,n,o)=>({pageX:o.left-e.left+n.left,pageY:o.top-e.top+n.top}),sM=(e,n)=>iF(Y2(e),sF(e),rF(e,n)),yG=(e,n,o)=>({...n,dataTransfer:null,type:e,...o}),aF=(e,n)=>{const o=Bo("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,srcElement:null,target:null,timeStamp:0,type:e,composedPath:o,initEvent:o,preventDefault:Ot,stopImmediatePropagation:Ot,stopPropagation:Ot,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:o,initMouseEvent:o,getModifierState:o,dataTransfer:null,...n}},cF=e=>({target:e,srcElement:e}),lF=e=>n=>aF(e,cF(n)),rM=e=>(n,o)=>yG(e,n,cF(o)),uF=rM("dragstart"),_G=rM("drop"),EG=lF("dragend"),dF=rM("dragend"),Vb=32,wG=100,K2=8,$S=16,fF=Po,TG=Kw(fF,ts),CG=(e,n,o)=>fF(o)&&o!==n&&e.isEditable(o.parentElement),SG=(e,n,o)=>yt(n)||n===o||e.dom.isChildOf(n,o)?!1:e.dom.isEditable(n),xG=e=>{const n=e.cloneNode(!0);return n.removeAttribute("data-mce-selected"),n},X2=(e,n,o,r)=>{const l=e.dom,h=n.cloneNode(!0);l.setStyles(h,{width:o,height:r}),l.setAttrib(h,"data-mce-selected",null);const v=l.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return l.setStyles(v,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:r}),l.setStyles(h,{margin:0,boxSizing:"border-box"}),v.appendChild(h),v},hF=(e,n)=>{e.parentNode!==n&&n.appendChild(e)},BS=(e,n)=>o=>()=>{const r=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:r+n,behavior:"smooth"})},mF=BS("left",-Vb),pF=BS("left",Vb),gF=BS("top",-Vb),AG=BS("top",Vb),OG=(e,n,o,r,l,h,v,C,A,L,X,Z)=>{let se=0,xe=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+o>l&&(se=n.pageX+o-l),n.pageY+r>h&&(xe=n.pageY+r-h),e.style.width=o-se+"px",e.style.height=r-xe+"px";const Re=A.clientHeight,be=A.clientWidth,Ae=v+A.getBoundingClientRect().top,Ve=C+A.getBoundingClientRect().left;X.on(Be=>{Be.intervalId.clear(),Be.dragging&&Z&&(v+K2>=Re?Be.intervalId.set(AG(L)):v-K2<=0?Be.intervalId.set(gF(L)):C+K2>=be?Be.intervalId.set(pF(L)):C-K2<=0?Be.intervalId.set(mF(L)):Ae+$S>=window.innerHeight?Be.intervalId.set(AG(window)):Ae-$S<=0?Be.intervalId.set(gF(window)):Ve+$S>=window.innerWidth?Be.intervalId.set(pF(window)):Ve-$S<=0&&Be.intervalId.set(mF(window)))})},Q2=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},iM=(e,n)=>{const o=e.getParent(n.parentNode,e.isBlock);Q2(n),o&&o!==e.getRoot()&&e.isEmpty(o)&&Yp(Ie.fromDom(o))},J2=e=>e.button===0,RG=(e,n)=>({pageX:n.pageX-e.relX,pageY:n.pageY+5}),IG=(e,n)=>o=>{if(J2(o)){const r=vs(n.dom.getParents(o.target),TG).getOr(null);if(ke(r)&&CG(n.dom,n.getBody(),r)){const l=n.dom.getPos(r),h=n.getBody(),v=n.getDoc().documentElement;e.set({element:r,dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(n.inline?h.scrollWidth:v.offsetWidth)-2,maxY:(n.inline?h.scrollHeight:v.offsetHeight)-2,relX:o.pageX-l.x,relY:o.pageY-l.y,width:r.offsetWidth,height:r.offsetHeight,ghost:X2(n,r,r.offsetWidth,r.offsetHeight),intervalId:Ls(wG)})}}},vF=(e,n,o)=>{e._selectionOverrides.hideFakeCaret(),nF(e.getBody(),n,o).fold(()=>e.selection.placeCaretAt(n,o),r=>{const l=e._selectionOverrides.showCaret(1,r.node,r.position===Gy.Before,!1);l?e.selection.setRng(l):e.selection.placeCaretAt(n,o)})},DG=(e,n)=>{const o=gu((l,h)=>vF(n,l,h),0);n.on("remove",o.cancel);const r=e;return l=>e.on(h=>{const v=Math.max(Math.abs(l.screenX-h.screenX),Math.abs(l.screenY-h.screenY));if(!h.dragging&&v>10){if(n.dispatch("dragstart",uF(l,h.element)).isDefaultPrevented())return;h.dragging=!0,n.focus()}if(h.dragging){const C=l.currentTarget===n.getDoc().documentElement,A=RG(h,sM(n,l));hF(h.ghost,n.getBody()),OG(h.ghost,A,h.width,h.height,h.maxX,h.maxY,l.clientY,l.clientX,n.getContentAreaContainer(),n.getWin(),r,C),o.throttle(l.clientX,l.clientY)}})},aM=e=>{const n=e.getSel();if(ke(n)){const r=n.getRangeAt(0).startContainer;return Ut(r)?r.parentNode:r}else return null},bF=(e,n)=>o=>{e.on(r=>{var l;if(r.intervalId.clear(),r.dragging){if(SG(n,aM(n.selection),r.element)){const h=xG(r.element),v=(l=n.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&l!==void 0?l:n.getBody();n.dispatch("drop",_G(o,v)).isDefaultPrevented()||n.undoManager.transact(()=>{iM(n.dom,r.element),n.insertContent(n.dom.getOuterHTML(h)),n._selectionOverrides.hideFakeCaret()})}n.dispatch("dragend",dF(o,n.getBody()))}}),cM(e)},yF=(e,n,o)=>{e.on(r=>{if(r.intervalId.clear(),r.dragging){const l=o.fold(()=>EG(r.element),h=>dF(h,r.element));n.dispatch("dragend",l)}}),cM(e)},NG=(e,n)=>o=>yF(e,n,oe.some(o)),cM=e=>{e.on(n=>{n.intervalId.clear(),Q2(n.ghost)}),e.clear()},MG=e=>{const n=oa(),o=sr.DOM,r=document,l=IG(n,e),h=DG(n,e),v=bF(n,e),C=NG(n,e);e.on("mousedown",l),e.on("mousemove",h),e.on("mouseup",v),o.bind(r,"mousemove",h),o.bind(r,"mouseup",C),e.on("remove",()=>{o.unbind(r,"mousemove",h),o.unbind(r,"mouseup",C)}),e.on("keydown",A=>{A.keyCode===Cn.ESC&&yF(n,e,oe.none())})},DK=e=>{const n=l=>{if(!l.isDefaultPrevented()){const h=l.dataTransfer;h&&(kn(h.types,"Files")||h.files.length>0)&&(l.preventDefault(),l.type==="drop"&&ew(e,"Dropped file type is not supported"))}},o=l=>{py(e,l.target)&&n(l)},r=()=>{const l=sr.DOM,h=e.dom,v=document,C=e.inline?e.getBody():e.getDoc(),A=["drop","dragover"];mt(A,L=>{l.bind(v,L,o),h.bind(C,L,n)}),e.on("remove",()=>{mt(A,L=>{l.unbind(v,L,o),h.unbind(C,L,n)})})};e.on("init",()=>{Md.setEditorTimeout(e,r,0)})},kG=e=>{MG(e),K_(e)&&DK(e)},PG=e=>{const n=gu(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const r=sw(e,o,!1);e.selection.setRng(r)}}},0);e.on("focus",()=>{n.throttle()}),e.on("blur",()=>{n.cancel()})},LG=e=>{e.on("init",()=>{e.on("focusin",n=>{const o=n.target;if(or(o)){const r=Ig(e.getBody(),o),l=Po(r)?r:o;e.selection.getNode()!==l&&uS(e,l).each(h=>e.selection.setRng(h))}})})},gw=Po,_F=(e,n)=>Ig(e.getBody(),n),EF=e=>{const n=e.selection,o=e.dom,r=e.getBody(),l=j0(e,r,o.isBlock,()=>Cb(e)),h="sel-"+o.uniqueId(),v="data-mce-selected";let C;const A=jt=>ke(jt)&&o.hasClass(jt,"mce-offscreen-selection"),L=jt=>jt!==r&&(gw(jt)||or(jt))&&o.isChildOf(jt,r)&&o.isEditable(jt.parentNode),X=jt=>{jt&&n.setRng(jt)},Z=(jt,ht,ft,bn=!0)=>e.dispatch("ShowCaret",{target:ht,direction:jt,before:ft}).isDefaultPrevented()?null:(bn&&n.scrollIntoView(ht,jt===-1),l.show(ft,ht)),se=jt=>{jt.hasAttribute("data-mce-caret")&&(Av(jt),n.scrollIntoView(jt))},xe=()=>{e.on("click",ht=>{o.isEditable(ht.target)||(ht.preventDefault(),e.focus())}),e.on("blur NewBlock",it),e.on("ResizeWindow FullscreenStateChanged",l.reposition),e.on("tap",ht=>{const ft=ht.target,bn=_F(e,ft);gw(bn)?(ht.preventDefault(),uS(e,bn).each(Ye)):L(ft)&&uS(e,ft).each(Ye)},!0),e.on("mousedown",ht=>{const ft=ht.target;if(ft!==r&&ft.nodeName!=="HTML"&&!o.isChildOf(ft,r)||!ky(e,ht.clientX,ht.clientY))return;it(),on();const bn=_F(e,ft);gw(bn)?(ht.preventDefault(),uS(e,bn).each(Ye)):nF(r,ht.clientX,ht.clientY).each(Ln=>{ht.preventDefault();const Gn=Z(1,Ln.node,Ln.position===Gy.Before,!1);X(Gn),nn(bn)?bn.focus():e.getBody().focus()})}),e.on("keypress",ht=>{Cn.modifierPressed(ht)||gw(n.getNode())&&ht.preventDefault()}),e.on("GetSelectionRange",ht=>{let ft=ht.range;if(C){if(!C.parentNode){C=null;return}ft=ft.cloneRange(),ft.selectNode(C),ht.range=ft}}),e.on("SetSelectionRange",ht=>{ht.range=Ae(ht.range);const ft=Ye(ht.range,ht.forward);ft&&(ht.range=ft)});const jt=ht=>nn(ht)&&ht.id==="mcepastebin";e.on("AfterSetSelectionRange",ht=>{const ft=ht.range,bn=ft.startContainer.parentElement;!be(ft)&&!jt(bn)&&on(),A(bn)||it()}),kG(e),PG(e),LG(e)},Re=jt=>wl(jt)||Pm(jt)||Kp(jt),be=jt=>Re(jt.startContainer)||Re(jt.endContainer),Ae=jt=>{const ht=e.schema.getVoidElements(),ft=o.createRng(),bn=jt.startContainer,Ln=jt.startOffset,Gn=jt.endContainer,wo=jt.endOffset;return qn(ht,bn.nodeName.toLowerCase())?Ln===0?ft.setStartBefore(bn):ft.setStartAfter(bn):ft.setStart(bn,Ln),qn(ht,Gn.nodeName.toLowerCase())?wo===0?ft.setEndBefore(Gn):ft.setEndAfter(Gn):ft.setEnd(Gn,wo),ft},Ve=(jt,ht)=>{const ft=Ie.fromDom(e.getBody()),bn=e.getDoc(),Ln=Yd(ft,"#"+h).getOrThunk(()=>{const Qo=Ie.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',bn);return ho(Qo,"id",h),Er(ft,Qo),Qo}),Gn=o.createRng();Js(Ln),gd(Ln,[Ie.fromText(ys,bn),Ie.fromDom(ht),Ie.fromText(ys,bn)]),Gn.setStart(Ln.dom.firstChild,1),Gn.setEnd(Ln.dom.lastChild,0),ha(Ln,{top:o.getPos(jt,e.getBody()).y+"px"}),Qn(Ln);const wo=n.getSel();return wo&&(wo.removeAllRanges(),wo.addRange(Gn)),Gn},Be=jt=>{const ht=jt.cloneNode(!0),ft=e.dispatch("ObjectSelected",{target:jt,targetClone:ht});if(ft.isDefaultPrevented())return null;const bn=Ve(jt,ft.targetClone),Ln=Ie.fromDom(jt);return mt(Qr(Ie.fromDom(e.getBody()),`*[${v}]`),Gn=>{ns(Ln,Gn)||fr(Gn,v)}),o.getAttrib(jt,v)||jt.setAttribute(v,"1"),C=jt,on(),bn},Ye=(jt,ht)=>{if(!jt)return null;if(jt.collapsed){if(!be(jt)){const Gn=ht?1:-1,wo=_g(Gn,r,jt),Qo=wo.getNode(!ht);if(ke(Qo)){if(th(Qo))return Z(Gn,Qo,ht?!wo.isAtEnd():!1,!1);if(Sc(Qo)&&Po(Qo.nextSibling)){const ar=o.createRng();return ar.setStart(Qo,0),ar.setEnd(Qo,0),ar}}const Ds=wo.getNode(ht);if(ke(Ds)){if(th(Ds))return Z(Gn,Ds,ht?!1:!wo.isAtEnd(),!1);if(Sc(Ds)&&Po(Ds.previousSibling)){const ar=o.createRng();return ar.setStart(Ds,1),ar.setEnd(Ds,1),ar}}}return null}let ft=jt.startContainer,bn=jt.startOffset;const Ln=jt.endOffset;if(Ut(ft)&&bn===0&&gw(ft.parentNode)&&(ft=ft.parentNode,bn=o.nodeIndex(ft),ft=ft.parentNode),!nn(ft))return null;if(Ln===bn+1&&ft===jt.endContainer){const Gn=ft.childNodes[bn];if(L(Gn))return Be(Gn)}return null},it=()=>{C&&C.removeAttribute(v),Yd(Ie.fromDom(e.getBody()),"#"+h).each(wr),C=null},St=()=>{l.destroy(),C=null},on=()=>{l.hide()};return Ng(e)||xe(),{showCaret:Z,showBlockCaretContainer:se,hideFakeCaret:on,destroy:St}},$G=(e,n)=>{let o=n;for(let r=e.previousSibling;Ut(r);r=r.previousSibling)o+=r.data.length;return o},wF=(e,n,o,r,l)=>{if(Ut(o)&&(r<0||r>o.data.length))return[];const h=l&&Ut(o)?[$G(o,r)]:[r];let v=o;for(;v!==n&&v.parentNode;)h.push(e.nodeIndex(v,l)),v=v.parentNode;return v===n?h.reverse():[]},lM=(e,n,o,r,l,h,v=!1)=>{const C=wF(e,n,o,r,v),A=wF(e,n,l,h,v);return{start:C,end:A}},TF=(e,n)=>{const o=n.slice(),r=o.pop();return mn(r)?Ns(o,(h,v)=>h.bind(C=>oe.from(C.childNodes[v])),oe.some(e)).bind(h=>Ut(h)&&(r<0||r>h.data.length)?oe.none():oe.some({node:h,offset:r})):oe.none()},CF=(e,n)=>TF(e,n.start).bind(({node:o,offset:r})=>TF(e,n.end).map(({node:l,offset:h})=>{const v=document.createRange();return v.setStart(o,r),v.setEnd(l,h),v})),SF=(e,n,o,r=!1)=>lM(e,n,o.startContainer,o.startOffset,o.endContainer,o.endOffset,r),FS=(e,n,o)=>{if(n&&e.isEmpty(n)&&!o(n)){const r=n.parentNode;e.remove(n),FS(e,r,o)}},eO=(e,n,o,r=!0)=>{const l=n.startContainer.parentNode,h=n.endContainer.parentNode;n.deleteContents(),r&&!o(n.startContainer)&&(Ut(n.startContainer)&&n.startContainer.data.length===0&&e.remove(n.startContainer),Ut(n.endContainer)&&n.endContainer.data.length===0&&e.remove(n.endContainer),FS(e,l,o),l!==h&&FS(e,h,o))},tO=(e,n)=>oe.from(e.dom.getParent(n.startContainer,e.dom.isBlock)),xF=(e,n,o)=>{const r=e.dynamicPatternsLookup({text:o,block:n});return{...e,blockPatterns:zi(r).concat(e.blockPatterns),inlinePatterns:I1(r).concat(e.inlinePatterns)}},nO=(e,n,o,r)=>{const l=e.createRng();return l.setStart(n,0),l.setEnd(o,r),l.toString()},BG=e=>/^\s[^\s]/.test(e),AF=(e,n,o)=>{x3(n,0,n).each(l=>{const h=l.container;A3(h,o.start.length,n).each(A=>{const L=e.createRng();L.setStart(h,0),L.setEnd(A.container,A.offset),eO(e,L,X=>X===n)});const v=Ie.fromDom(h),C=Wr(v);BG(C)&&Ga(v,C.slice(1))})},FG=(e,n)=>{const o=e.dom,r=n.pattern,l=CF(o.getRoot(),n.range).getOrDie("Unable to resolve path range"),h=(v,C)=>{const A=C.get(v);return H(A)&&Ii(A).exists(L=>qn(L,"block"))};return tO(e,l).each(v=>{r.type==="block-format"?h(r.format,e.formatter)&&e.undoManager.transact(()=>{AF(e.dom,v,r),e.formatter.apply(r.format)}):r.type==="block-command"&&e.undoManager.transact(()=>{AF(e.dom,v,r),e.execCommand(r.cmd,!1,r.value)})}),!0},OF=e=>Ms(e,(n,o)=>o.start.length-n.start.length),oO=(e,n)=>{const o=OF(e),r=n.replace(ys," ");return vs(o,l=>n.indexOf(l.start)===0||r.indexOf(l.start)===0)},RF=(e,n,o,r)=>{var l;const h=e.dom,v=yu(e);if(!h.is(n,v))return[];const C=(l=n.textContent)!==null&&l!==void 0?l:"";return oO(o.blockPatterns,C).map(A=>we.trim(C).length===A.start.length?[]:[{pattern:A,range:lM(h,h.getRoot(),n,0,n,0,r)}]).getOr([])},IF=(e,n)=>{if(n.length===0)return;const o=e.selection.getBookmark();mt(n,r=>FG(e,r)),e.selection.moveToBookmark(o)},DF=(e,n)=>e.create("span",{"data-mce-type":"bookmark",id:n}),sO=(e,n)=>{const o=e.createRng();return o.setStartAfter(n.start),o.setEndBefore(n.end),o},uM=(e,n,o)=>{const r=CF(e.getRoot(),o).getOrDie("Unable to resolve path range"),l=r.startContainer,h=r.endContainer,v=r.endOffset===0?h:h.splitText(r.endOffset),C=r.startOffset===0?l:l.splitText(r.startOffset),A=C.parentNode,L=v.parentNode;return{prefix:n,end:L.insertBefore(DF(e,n+"-end"),v),start:A.insertBefore(DF(e,n+"-start"),C)}},NF=(e,n,o)=>{FS(e,e.get(n.prefix+"-end"),o),FS(e,e.get(n.prefix+"-start"),o)},dM=e=>e.start.length===0,HG=e=>(n,o)=>{const l=n.data.substring(0,o),h=l.lastIndexOf(e.charAt(e.length-1)),v=l.lastIndexOf(e);return v!==-1?v+e.length:h!==-1?h+1:-1},rO=(e,n,o,r)=>{const l=n.start;return T2(e,r.container,r.offset,HG(l),o).bind(v=>{var C,A;const L=(A=(C=o.textContent)===null||C===void 0?void 0:C.indexOf(l))!==null&&A!==void 0?A:-1;if(L!==-1&&v.offset>=L+l.length){const Z=e.createRng();return Z.setStart(v.container,v.offset-l.length),Z.setEnd(v.container,v.offset),oe.some(Z)}else{const Z=v.offset-l.length;return TN(v.container,Z,o).map(se=>{const xe=e.createRng();return xe.setStart(se.container,se.offset),xe.setEnd(v.container,v.offset),xe}).filter(se=>se.toString()===l).orThunk(()=>rO(e,n,o,Op(v.container,0)))}})},VG=(e,n,o,r,l,h=!1)=>{if(n.start.length===0&&!h){const v=e.createRng();return v.setStart(o,r),v.setEnd(o,r),oe.some(v)}return wN(o,r,l).bind(v=>rO(e,n,l,v).bind(A=>{var L;if(h){if(A.endContainer===v.container&&A.endOffset===v.offset)return oe.none();if(v.offset===0&&((L=A.endContainer.textContent)===null||L===void 0?void 0:L.length)===A.endOffset)return oe.none()}return oe.some(A)}))},UG=(e,n,o,r)=>{const l=e.dom,h=l.getRoot(),v=o.pattern,C=o.position.container,A=o.position.offset;return TN(C,A-o.pattern.end.length,n).bind(L=>{const X=lM(l,h,L.container,L.offset,C,A,r);if(dM(v))return oe.some({matches:[{pattern:v,startRng:X,endRng:X}],position:L});{const Z=iO(e,o.remainingPatterns,L.container,L.offset,n,r),se=Z.getOr({matches:[],position:L}),xe=se.position;return VG(l,v,xe.container,xe.offset,n,Z.isNone()).map(be=>{const Ae=SF(l,h,be,r);return{matches:se.matches.concat([{pattern:v,startRng:Ae,endRng:X}]),position:Op(be.startContainer,be.startOffset)}})}})},iO=(e,n,o,r,l,h)=>{const v=e.dom;return wN(o,r,v.getRoot()).bind(C=>{const A=nO(v,l,o,r);for(let L=0;L<n.length;L++){const X=n[L];if(!lu(A,X.end))continue;const Z=n.slice();Z.splice(L,1);const se=UG(e,l,{pattern:X,remainingPatterns:Z,position:C},h);if(se.isNone()&&r>0)return iO(e,n,o,r-1,l,h);if(se.isSome())return se}return oe.none()})},MF=(e,n,o)=>{e.selection.setRng(o),n.type==="inline-format"?mt(n.format,r=>{e.formatter.apply(r)}):e.execCommand(n.cmd,!1,n.value)},zG=(e,n,o,r)=>{const l=sO(e.dom,o);eO(e.dom,l,r),MF(e,n,l)},WG=(e,n,o,r,l)=>{const h=e.dom,v=sO(h,r),C=sO(h,o);eO(h,C,l),eO(h,v,l);const A={prefix:o.prefix,start:o.end,end:r.start},L=sO(h,A);MF(e,n,L)},kF=(e,n)=>{const o=m0("mce_textpattern"),r=Lr(n,(l,h)=>{const v=uM(e,o+`_end${l.length}`,h.endRng);return l.concat([{...h,endMarker:v}])},[]);return Lr(r,(l,h)=>{const v=r.length-l.length-1,C=dM(h.pattern)?h.endMarker:uM(e,o+`_start${v}`,h.startRng);return l.concat([{...h,startMarker:C}])},[])},PF=e=>Ms(e,(n,o)=>o.end.length-n.end.length),fM=(e,n)=>{const o=nr(e,r=>ko(n,l=>r.pattern.start===l.pattern.start&&r.pattern.end===l.pattern.end));return e.length===n.length?o?e:n:e.length>n.length?e:n},aO=(e,n,o,r,l,h)=>{const v=iO(e,l.inlinePatterns,o,r,n,h).fold(()=>[],A=>A.matches),C=iO(e,PF(l.inlinePatterns),o,r,n,h).fold(()=>[],A=>A.matches);return fM(v,C)},LF=(e,n)=>{if(n.length===0)return;const o=e.dom,r=e.selection.getBookmark(),l=kF(o,n);mt(l,h=>{const v=o.getParent(h.startMarker.start,o.isBlock),C=A=>A===v;dM(h.pattern)?zG(e,h.pattern,h.endMarker,C):WG(e,h.pattern,h.startMarker,h.endMarker,C),NF(o,h.endMarker,C),NF(o,h.startMarker,C)}),e.selection.moveToBookmark(r)},hM=(e,n)=>{const o=e.selection.getRng();return tO(e,o).map(r=>{var l;const h=Math.max(0,o.startOffset),v=xF(n,r,(l=r.textContent)!==null&&l!==void 0?l:""),C=aO(e,r,o.startContainer,h,v,!0),A=RF(e,r,v,!0);return A.length>0||C.length>0?(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{e.insertContent(jr),LF(e,C),IF(e,A);const L=e.selection.getRng(),X=wN(L.startContainer,L.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),X.each(Z=>{const se=Z.container;se.data.charAt(Z.offset-1)===jr&&(se.deleteData(Z.offset-1,1),FS(e.dom,se.parentNode,xe=>xe===e.dom.getRoot()))})}),!0):!1}).getOr(!1)},GG=(e,n)=>{const o=e.selection.getRng();tO(e,o).map(r=>{const l=Math.max(0,o.startOffset-1),h=nO(e.dom,r,o.startContainer,l),v=xF(n,r,h),C=aO(e,r,o.startContainer,l,v,!1);C.length>0&&e.undoManager.transact(()=>{LF(e,C)})})},$F=(e,n,o)=>{for(let r=0;r<e.length;r++)if(o(e[r],n))return!0;return!1},BF=(e,n)=>$F(e,n,(o,r)=>o===r.keyCode&&!Cn.modifierPressed(r)),qG=(e,n)=>$F(e,n,(o,r)=>o.charCodeAt(0)===r.charCode),jG=e=>{const n=[",",".",";",":","!","?"],o=[32],r=()=>xd(dT(e),fT(e)),l=()=>pT(e);e.on("keydown",v=>{if(v.keyCode===13&&!Cn.modifierPressed(v)&&e.selection.isCollapsed()){const C=r();(C.inlinePatterns.length>0||C.blockPatterns.length>0||l())&&hM(e,C)&&v.preventDefault()}},!0);const h=()=>{if(e.selection.isCollapsed()){const v=r();(v.inlinePatterns.length>0||l())&&GG(e,v)}};e.on("keyup",v=>{BF(o,v)&&h()}),e.on("keypress",v=>{qG(n,v)&&Md.setEditorTimeout(e,h)})},ZG=e=>{jG(e)},YG=e=>{const n=we.each,o=Cn.BACKSPACE,r=Cn.DELETE,l=e.dom,h=e.selection,v=e.parser,C=Do.browser,A=C.isFirefox(),L=C.isChromium()||C.isSafari(),X=Do.deviceType.isiPhone()||Do.deviceType.isiPad(),Z=Do.os.isMacOS()||Do.os.isiOS(),se=(un,Vn)=>{try{e.getDoc().execCommand(un,!1,String(Vn))}catch{}},xe=un=>un.isDefaultPrevented(),Re=()=>{const un=zn=>{const hn=l.create("body"),Wo=zn.cloneContents();return hn.appendChild(Wo),h.serializer.serialize(hn,{format:"html"})},Vn=zn=>{const hn=un(zn),Wo=l.createRng();Wo.selectNode(e.getBody());const Go=un(Wo);return hn===Go};e.on("keydown",zn=>{const hn=zn.keyCode;if(!xe(zn)&&(hn===r||hn===o)&&e.selection.isEditable()){const Wo=e.selection.isCollapsed(),Go=e.getBody();if(Wo&&!l.isEmpty(Go)||!Wo&&!Vn(e.selection.getRng()))return;zn.preventDefault(),e.setContent(""),Go.firstChild&&l.isBlock(Go.firstChild)?e.selection.setCursorLocation(Go.firstChild,0):e.selection.setCursorLocation(Go,0),e.nodeChanged()}})},be=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},Ae=()=>{e.inline||l.bind(e.getDoc(),"mousedown mouseup",un=>{let Vn;if(un.target===e.getDoc().documentElement)if(Vn=h.getRng(),e.getBody().focus(),un.type==="mousedown"){if(wl(Vn.startContainer))return;h.placeCaretAt(un.clientX,un.clientY)}else h.setRng(Vn)})},Ve=()=>{e.on("keydown",un=>{if(!xe(un)&&un.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(h.isCollapsed()&&h.getRng().startOffset===0){const Vn=h.getNode(),zn=Vn.previousSibling;if(Vn.nodeName==="HR"){l.remove(Vn),un.preventDefault();return}zn&&zn.nodeName&&zn.nodeName.toLowerCase()==="hr"&&(l.remove(zn),un.preventDefault())}}})},Be=()=>{Range.prototype.getClientRects||e.on("mousedown",un=>{if(!xe(un)&&un.target.nodeName==="HTML"){const Vn=e.getBody();Vn.blur(),Md.setEditorTimeout(e,()=>{Vn.focus()})}})},Ye=()=>{const un=L0(e);e.on("click",Vn=>{const zn=Vn.target;/^(IMG|HR)$/.test(zn.nodeName)&&l.isEditable(zn.parentNode)&&(Vn.preventDefault(),e.selection.select(zn),e.nodeChanged()),zn.nodeName==="A"&&l.hasClass(zn,un)&&zn.childNodes.length===0&&l.isEditable(zn.parentNode)&&(Vn.preventDefault(),h.select(zn))})},it=()=>{const un=()=>{const zn=l.getAttribs(h.getStart().cloneNode(!1));return()=>{const hn=h.getStart();hn!==e.getBody()&&(l.setAttrib(hn,"style",null),n(zn,Wo=>{hn.setAttributeNode(Wo.cloneNode(!0))}))}},Vn=()=>!h.isCollapsed()&&l.getParent(h.getStart(),l.isBlock)!==l.getParent(h.getEnd(),l.isBlock);e.on("keypress",zn=>{let hn;return!xe(zn)&&(zn.keyCode===8||zn.keyCode===46)&&Vn()?(hn=un(),e.getDoc().execCommand("delete",!1),hn(),zn.preventDefault(),!1):!0}),l.bind(e.getDoc(),"cut",zn=>{if(!xe(zn)&&Vn()){const hn=un();Md.setEditorTimeout(e,()=>{hn()})}})},St=()=>{e.on("keydown",un=>{if(!xe(un)&&un.keyCode===o&&h.isCollapsed()&&h.getRng().startOffset===0){const Vn=h.getNode().previousSibling;if(Vn&&Vn.nodeName&&Vn.nodeName.toLowerCase()==="table")return un.preventDefault(),!1}return!0})},on=()=>{e.on("keydown",un=>{if(xe(un)||un.keyCode!==Cn.BACKSPACE)return;let Vn=h.getRng();const zn=Vn.startContainer,hn=Vn.startOffset,Wo=l.getRoot();let Go=zn;if(!(!Vn.collapsed||hn!==0)){for(;Go.parentNode&&Go.parentNode.firstChild===Go&&Go.parentNode!==Wo;)Go=Go.parentNode;Go.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,Go),Vn=l.createRng(),Vn.setStart(zn,0),Vn.setEnd(zn,0),h.setRng(Vn))}})},jt=()=>{const un=()=>{se("StyleWithCSS",!1),se("enableInlineTableEditing",!1),G_(e)||se("enableObjectResizing",!1)};np(e)||e.on("BeforeExecCommand mousedown",un)},ht=()=>{const un=()=>{n(l.select("a:not([data-mce-block])"),Vn=>{var zn;let hn=Vn.parentNode;const Wo=l.getRoot();if((hn==null?void 0:hn.lastChild)===Vn){for(;hn&&!l.isBlock(hn);){if(((zn=hn.parentNode)===null||zn===void 0?void 0:zn.lastChild)!==hn||hn===Wo)return;hn=hn.parentNode}l.add(hn,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",Vn=>{(Vn.type==="setcontent"||Vn.command==="mceInsertLink")&&un()})},ft=()=>{e.on("init",()=>{se("DefaultParagraphSeparator",yu(e))})},bn=un=>{const Vn=un.getBody(),zn=un.selection.getRng();return zn.startContainer===zn.endContainer&&zn.startContainer===Vn&&zn.startOffset===0&&zn.endOffset===Vn.childNodes.length},Ln=()=>{e.on("keyup focusin mouseup",un=>{!Cn.modifierPressed(un)&&!bn(e)&&h.normalize()},!0)},Gn=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},wo=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},Qo=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",un=>{let Vn;un.target.nodeName==="HTML"&&(Vn=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Vn),e.selection.normalize(),e.nodeChanged())}))},Ds=()=>{Z&&e.on("keydown",un=>{Cn.metaKeyPressed(un)&&!un.shiftKey&&(un.keyCode===37||un.keyCode===39)&&(un.preventDefault(),e.selection.getSel().modify("move",un.keyCode===37?"backward":"forward","lineboundary"))})},ar=()=>{e.on("click",un=>{let Vn=un.target;do if(Vn.tagName==="A"){un.preventDefault();return}while(Vn=Vn.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Ri=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",un=>{un.preventDefault()})})},kc=()=>{v.addNodeFilter("br",un=>{let Vn=un.length;for(;Vn--;)un[Vn].attr("class")==="Apple-interchange-newline"&&un[Vn].remove()})},Ka=Ot,Gt=()=>{if(!A||e.removed)return!1;const un=e.selection.getSel();return!un||!un.rangeCount||un.rangeCount===0},Rn=()=>{L&&(Ae(),Ye(),Ri(),be(),X&&(wo(),Qo(),ar())),A&&(Be(),jt(),Gn(),Ds())},hs=()=>{on(),Re(),Do.windowsPhone||Ln(),L&&(Ae(),Ye(),ft(),Ri(),St(),kc(),X?(wo(),Qo(),ar()):be()),A&&(Ve(),Be(),it(),jt(),ht(),Gn(),Ds(),St())};return Ng(e)?Rn():hs(),{refreshContentEditable:Ka,isHidden:Gt}},mM=sr.DOM,KG=(e,n)=>{const o=Ie.fromDom(e.getBody()),r=Zo(so(o)),l=Ie.fromTag("style");ho(l,"type","text/css"),Er(l,Ie.fromText(n)),Er(r,l),e.on("remove",()=>{wr(l)})},XG=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,cO=e=>ks(e,n=>ut(n)===!1),FF=e=>{const n=e.options.get,o=e.editorUpload.blobCache;return cO({allow_conditional_comments:n("allow_conditional_comments"),allow_html_data_urls:n("allow_html_data_urls"),allow_svg_data_urls:n("allow_svg_data_urls"),allow_html_in_named_anchor:n("allow_html_in_named_anchor"),allow_script_urls:n("allow_script_urls"),allow_unsafe_link_target:n("allow_unsafe_link_target"),convert_fonts_to_spans:n("convert_fonts_to_spans"),fix_list_elements:n("fix_list_elements"),font_size_legacy_values:n("font_size_legacy_values"),forced_root_block:n("forced_root_block"),forced_root_block_attrs:n("forced_root_block_attrs"),preserve_cdata:n("preserve_cdata"),remove_trailing_brs:n("remove_trailing_brs"),inline_styles:n("inline_styles"),root_name:XG(e),sanitize:n("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},lO=e=>{const n=e.options.get;return cO({custom_elements:n("custom_elements"),extended_valid_elements:n("extended_valid_elements"),invalid_elements:n("invalid_elements"),invalid_styles:n("invalid_styles"),schema:n("schema"),valid_children:n("valid_children"),valid_classes:n("valid_classes"),valid_elements:n("valid_elements"),valid_styles:n("valid_styles"),verify_html:n("verify_html"),padd_empty_block_inline_children:n("format_empty_lines")})},QG=e=>{const n=e.options.get;return{...FF(e),...lO(e),...cO({url_converter:n("url_converter"),url_converter_scope:n("url_converter_scope"),element_format:n("element_format"),entities:n("entities"),entity_encoding:n("entity_encoding"),indent:n("indent"),indent_after:n("indent_after"),indent_before:n("indent_before")})}},JG=e=>{const n=Mb(FF(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",(o,r)=>{const l=e.dom,h="data-mce-"+r;let v=o.length;for(;v--;){const C=o[v];let A=C.attr(r);if(A&&!C.attr(h)){if(A.indexOf("data:")===0||A.indexOf("blob:")===0)continue;r==="style"?(A=l.serializeStyle(l.parseStyle(A),C.name),A.length||(A=null),C.attr(h,A),C.attr(r,A)):r==="tabindex"?(C.attr(h,A),C.attr(r,null)):C.attr(h,e.convertURL(A,r,C.name))}}}),n.addNodeFilter("script",o=>{let r=o.length;for(;r--;){const l=o[r],h=l.attr("type")||"no/type";h.indexOf("mce-")!==0&&l.attr("type","mce-"+h)}}),eE(e)&&n.addNodeFilter("#cdata",o=>{var r;let l=o.length;for(;l--;){const h=o[l];h.type=8,h.name="#comment",h.value="[CDATA["+e.dom.encode((r=h.value)!==null&&r!==void 0?r:"")+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let r=o.length;const l=e.schema.getNonEmptyElements();for(;r--;){const h=o[r];h.isEmpty(l)&&h.getAll("br").length===0&&h.append(new Ju("br",1))}}),n},eq=e=>{const n=lT(e);n&&Md.setEditorTimeout(e,()=>{let o;n===!0?o=e:o=e.editorManager.get(n),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},tq=e=>{const n=e.dom.getRoot();!e.inline&&(!MT(e)||e.selection.getStart(!0)===n)&&ei(n).each(o=>{const r=o.getNode(),l=Dr(r)?ei(r).getOr(o):o;e.selection.setRng(l.toRange())})},nq=e=>{e.bindPendingEventDelegates(),e.initialized=!0,rr(e),e.focus(!0),tq(e),e.nodeChanged({initial:!0});const n=X_(e);_e(n)&&n.call(e,e),eq(e)},HF=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,uO=(e,n,o)=>{const r=[HF(e).loadAll(n)];return e.inline?r:r.concat([e.ui.styleSheetLoader.loadAll(o)])},VF=e=>{const n=HF(e),o=gg(e),r=e.contentCSS,l=()=>{n.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(o)},h=()=>{e.removed?l():e.on("remove",l)};if(e.contentStyles.length>0){let A="";we.each(e.contentStyles,L=>{A+=L+`\r
`}),e.dom.addStyle(A)}const v=Promise.all(uO(e,r,o)).then(h).catch(h),C=W_(e);return C&&KG(e,C),v},oq=e=>{const n=e.getDoc(),o=e.getBody();jT(e),uT(e)||(n.body.spellcheck=!1,mM.setAttrib(o,"spellcheck","false")),e.quirks=YG(e),ZT(e);const r=nT(e);r!==void 0&&(o.dir=r);const l=Od(e);l&&e.on("BeforeSetContent",h=>{we.each(l,v=>{h.content=h.content.replace(v,C=>"<!--mce:protected "+escape(C)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",h=>{e.composing=h.type==="compositionstart"})},sq=e=>{Ng(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},pM=e=>{e.removed!==!0&&(sq(e),nq(e))},UF=e=>{const n=e.getElement();let o=e.getDoc();e.inline&&(mM.addClass(n,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=n,e.contentAreaContainer=n);const r=e.getBody();r.disabled=!0,e.readonly=np(e),e.readonly||(e.inline&&mM.getStyle(r,"position",!0)==="static"&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,e.editorUpload=yD(e),e.schema=Yl(lO(e)),e.dom=sr(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:_s(e),referrerPolicy:ep(e),onSetAttrib:v=>{e.dispatch("SetAttrib",v)}}),e.parser=JG(e),e.serializer=pD(QG(e),e),e.selection=cv(e.dom,e.getWin(),e.serializer,e),e.annotator=ly(e),e.formatter=aS(e),e.undoManager=TD(e),e._nodeChangeDispatcher=new T9(e),e._selectionOverrides=EF(e),o3(e),YB(e),i3(e),Ng(e)||(cG(e),ZG(e));const l=w9(e);dz(e,l),pz(e),j7(e),ZB(e);const h=q8(e);oq(e),h.fold(()=>{VF(e).then(()=>pM(e))},v=>{e.setProgressState(!0),VF(e).then(()=>{v().then(C=>{e.setProgressState(!1),pM(e),am(e)},C=>{e.notificationManager.open({type:"error",text:String(C)}),pM(e),am(e)})})})},rq=It,iq=(e,n,o)=>i1(e,n,rq,o),gM=sr.DOM,aq=(e,n,o,r)=>{const l=Ie.fromTag("iframe");return r.each(h=>ho(l,"tabindex",h)),zr(l,o),zr(l,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),fd(l,"tox-edit-area__iframe"),l},zF=e=>{let n=F_(e)+"<html><head>";ya(e)!==e.documentBaseUrl&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=eT(e),r=H_(e),l=e.translate($0(e));return V_(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+V_(e)+'" />'),n+=`</head><body id="${o}" class="mce-content-body ${r}" data-id="${e.id}" aria-label="${l}"><br></body></html>`,n},cq=(e,n)=>{const o=e.translate("Rich Text Area"),r=oc(Ie.fromDom(e.getElement()),"tabindex").bind(cd),l=aq(e.id,o,kt(e),r).dom;l.onload=()=>{l.onload=null,e.dispatch("load")},e.contentAreaContainer=n.iframeContainer,e.iframeElement=l,e.iframeHTML=zF(e),gM.add(n.iframeContainer,l)},WF=e=>{const n=e.iframeElement,o=iq(Ie.fromDom(n),"load",()=>{o.unbind(),e.contentDocument=n.contentDocument,UF(e)});if(Do.browser.isFirefox()){const r=e.getDoc();r.open(),r.write(e.iframeHTML),r.close()}else n.srcdoc=e.iframeHTML},lq=(e,n)=>{cq(e,n),n.editorContainer&&(n.editorContainer.style.display=e.orgDisplay,e.hidden=gM.isHidden(n.editorContainer)),e.getElement().style.display="none",gM.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,WF(e)},GF=sr.DOM,qF=(e,n,o)=>{const r=cm.get(o),l=cm.urls[o]||e.documentBaseUrl.replace(/\/$/,"");if(o=we.trim(o),r&&we.inArray(n,o)===-1){if(e.plugins[o])return;try{const h=r(e,l)||{};e.plugins[o]=h,_e(h.init)&&(h.init(e,l),n.push(o))}catch(h){X4(e,o,h)}}},HS=e=>e.replace(/^\-/,""),uq=e=>{const n=[];mt(P0(e),o=>{qF(e,n,HS(o))})},jF=e=>{const n=we.trim(tb(e)),o=e.ui.registry.getAll().icons,r={...jA.get("default").icons,...jA.get(n).icons};an(r,(l,h)=>{qn(o,h)||e.ui.registry.addIcon(h,l)})},dq=e=>{const n=mf(e);if(K(n)){const o=Pg.get(n);e.theme=o(e,Pg.urls[n])||{},_e(e.theme.init)&&e.theme.init(e,Pg.urls[n]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},fq=e=>{const n=_u(e),o=JE.get(n);e.model=o(e,JE.urls[n])},hq=e=>{const n=e.theme.renderUI;return n?n():bM(e)},mq=e=>{const n=e.getElement(),r=mf(e)(e,n);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:n.offsetHeight,r},vM=(e,n)=>({editorContainer:e,iframeContainer:n,api:{}}),pq=e=>{const n=GF.create("div");return GF.insertAfter(n,e),vM(n,n)},bM=e=>{const n=e.getElement();return e.inline?vM(null):pq(n)},gq=e=>{const n=e.getElement();return e.orgDisplay=n.style.display,K(mf(e))?hq(e):_e(mf(e))?mq(e):bM(e)},vq=(e,n)=>{const o={show:oe.from(n.show).getOr(Ot),hide:oe.from(n.hide).getOr(Ot),isEnabled:oe.from(n.isEnabled).getOr(It),setEnabled:r=>{e.mode.isReadOnly()||oe.from(n.setEnabled).each(l=>l(r))}};e.ui={...e.ui,...o}},bq=async e=>{e.dispatch("ScriptsLoaded"),jF(e),dq(e),fq(e),uq(e);const n=await gq(e);vq(e,oe.from(n.api).getOr({})),e.editorContainer=n.editorContainer,k7(e),e.inline?UF(e):lq(e,{editorContainer:n.editorContainer,iframeContainer:n.iframeContainer})},qy=sr.DOM,ZF=e=>e.charAt(0)==="-",yq=(e,n)=>{const o=pr(n),r=z_(n);if(!Td.hasCode(o)&&o!=="en"){const l=Cs(r)?r:`${n.editorManager.baseURL}/langs/${o}.js`;e.add(l).catch(()=>{Y4(n,l,o)})}},_q=(e,n)=>{const o=mf(e);if(K(o)&&!ZF(o)&&!qn(Pg.urls,o)){const r=rb(e),l=r?e.documentBaseURI.toAbsolute(r):`themes/${o}/theme${n}.js`;Pg.load(o,l).catch(()=>{QA(e,l,o)})}},Eq=(e,n)=>{const o=_u(e);if(o!=="plugin"&&!qn(JE.urls,o)){const r=Zs(e),l=K(r)?e.documentBaseURI.toAbsolute(r):`models/${o}/model${n}.js`;JE.load(o,l).catch(()=>{K4(e,l,o)})}},wq=e=>oe.from(nb(e)).filter(Cs).map(n=>({url:n,name:oe.none()})),yM=(e,n,o)=>oe.from(n).filter(r=>Cs(r)&&!jA.has(r)).map(r=>({url:`${e.editorManager.baseURL}/icons/${r}/icons${o}.js`,name:oe.some(r)})),_M=(e,n,o)=>{const r=yM(n,"default",o),l=wq(n).orThunk(()=>yM(n,tb(n),""));mt(rt([r,l]),h=>{e.add(h.url).catch(()=>{Z4(n,h.url,h.name.getOrUndefined())})})},YF=(e,n)=>{const o=(r,l)=>{cm.load(r,l).catch(()=>{j4(e,l,r)})};an(op(e),(r,l)=>{o(l,r),e.options.set("plugins",P0(e).concat(l))}),mt(P0(e),r=>{r=we.trim(r),r&&!cm.urls[r]&&!ZF(r)&&o(r,`plugins/${r}/plugin${n}.js`)})},KF=e=>{const n=mf(e);return!K(n)||ke(Pg.get(n))},Tq=e=>{const n=_u(e);return ke(JE.get(n))},Cq=(e,n)=>{const o=jf.ScriptLoader,r=()=>{!e.removed&&KF(e)&&Tq(e)&&bq(e)};_q(e,n),Eq(e,n),yq(o,e),_M(o,e,n),YF(e,n),o.loadQueue().then(r,r)},Sq=(e,n)=>m1.forElement(e,{contentCssCors:k0(n),referrerPolicy:ep(n)}),XF=e=>{const n=e.id;Td.setCode(pr(e));const o=()=>{qy.unbind(window,"ready",o),e.render()};if(!uf.Event.domLoaded){qy.bind(window,"ready",o);return}if(!e.getElement())return;const r=Ie.fromDom(e.getElement()),l=Ra(r);e.on("remove",()=>{gi(r.dom.attributes,v=>fr(r,v.name)),zr(r,l)}),e.ui.styleSheetLoader=Sq(r,e),M0(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const h=e.getElement().form||qy.getParent(n,"form");h&&(e.formElement=h,Y_(e)&&!Dh(e.getElement())&&(qy.insertAfter(qy.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=v=>{e.dispatch(v.type,v)},qy.bind(h,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),fc(e)&&!h.submit.nodeType&&!h.submit.length&&!h._mceOldSubmit&&(h._mceOldSubmit=h.submit,h.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),h._mceOldSubmit(h)))),e.windowManager=bD(e),e.notificationManager=Pb(e),nE(e)&&e.on("GetContent",v=>{v.save&&(v.content=qy.encode(v.content))}),Ql(e)&&e.on("submit",()=>{e.initialized&&e.save()}),oT(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),Cq(e,e.suffix)},QF=(e,n)=>({sections:tt(e),options:tt(n)}),JF=Hs().deviceType,e5=JF.isPhone(),EM=JF.isTablet(),Ub=e=>{if(yt(e))return[];{const n=H(e)?e:e.split(/[ ,]/),o=Yt(n,uu);return Lt(o,Cs)}},dO=(e,n)=>{const o=au(n,(r,l)=>kn(e,l));return QF(o.t,o.f)},hv=(e,n,o={})=>{const r=e.sections(),l=Xs(r,n).getOr({});return we.extend({},o,l)},vw=(e,n)=>qn(e.sections(),n),bw=(e,n)=>vw(e,n)?e.sections()[n]:{},t5=(e,n)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Xs(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...n?{menubar:!1}:{}}),xq=(e,n)=>{var o;const r=(o=n.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?we.extend({},e.external_plugins,r):r},Aq=(e,n)=>[...Ub(e),...Ub(n)],n5=(e,n,o,r)=>e&&vw(n,"mobile")?r:o,Oq=(e,n,o,r)=>{const l=Ub(o.forced_plugins),h=Ub(r.plugins),v=bw(n,"mobile"),C=v.plugins?Ub(v.plugins):h,A=n5(e,n,h,C),L=Aq(l,A);return we.extend(r,{forced_plugins:l,plugins:L})},wM=(e,n)=>e&&vw(n,"mobile"),fO=(e,n,o,r,l)=>{var h;const v=e?{mobile:t5((h=l.mobile)!==null&&h!==void 0?h:{},n)}:{},C=dO(["mobile"],x2(v,l)),A=we.extend(o,r,C.options(),wM(e,C)?hv(C,"mobile"):{},{external_plugins:xq(r,C.options())});return Oq(e,C,r,A)},zb=(e,n)=>fO(e5||EM,e5,n,e,n),jy=(e,n)=>oK(e,n),o5=e=>{const n=(r,l)=>{e.formatter.toggle(r,l),e.nodeChanged()},o=r=>()=>{mt("left,center,right,justify".split(","),l=>{r!==l&&e.formatter.remove("align"+l)}),r!=="none"&&n("align"+r)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},Rq=e=>{const n=o=>()=>{const r=e.selection,l=r.isCollapsed()?[e.dom.getParent(r.getNode(),e.dom.isBlock)]:r.getSelectedBlocks();return ko(l,h=>ke(e.formatter.matchNode(h,o)))};e.editorCommands.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify")},"state")},Iq=e=>{o5(e),Rq(e)},Dq=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":n=>{const o=e.getDoc();let r;try{o.execCommand(n)}catch{r=!0}if(n==="paste"&&!o.queryCommandEnabled(n)&&(r=!0),r||!o.queryCommandSupported(n)){let l=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Do.os.isMacOS()||Do.os.isiOS())&&(l=l.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:l,type:"error"})}}})},Nq=(e,n,o)=>{const r=Ie.fromDom(e.getRoot());return BE(r,Ke.fromRangeStart(n))?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),EC(r,Ke.fromRangeEnd(n))?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},Mq=e=>{if(typeof e!="string"){const n=we.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},kq=(e,n)=>{const o=e.selection,r=e.dom;return/^ | $/.test(n)?Nq(r,o.getRng(),n):n},VS=(e,n)=>{if(e.selection.isEditable()){const{content:o,details:r}=Mq(n);eD(e,{...r,content:kq(e,o),format:"html",set:!1,selection:!0}).each(l=>{const h=r7(e,l.content,r);YC(e,h,l),e.addVisual()})}},Pq=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const n=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(n)},insertImage:(n,o,r)=>{VS(e,e.dom.createHTML("img",{src:r}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(n,o,r)=>{VS(e,e.dom.encode(r))},insertHTML:(n,o,r)=>{VS(e,r)},mceInsertContent:(n,o,r)=>{VS(e,r)},mceSetContent:(n,o,r)=>{e.setContent(r)},mceReplaceContent:(n,o,r)=>{e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent("")}})},Lq={"font-size":"size","font-family":"face"},$q=Fc("font"),NK=(e,n,o)=>{const r=h=>Na(h,e).orThunk(()=>$q(h)?Xs(Lq,e).bind(v=>oc(h,v)):oe.none()),l=h=>ns(Ie.fromDom(n),h);return yA(Ie.fromDom(o),h=>r(h),l)},Bq=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),TM=(e,n)=>oe.from(sr.DOM.getStyle(n,e,!0)),s5=e=>(n,o)=>oe.from(o).map(Ie.fromDom).filter(is).bind(r=>NK(e,n,r.dom).or(TM(e,r.dom))).getOr(""),Fq=s5("font-size"),r5=P(Bq,s5("font-family")),Hq=e=>ei(e.getBody()).bind(n=>{const o=n.container();return oe.from(Ut(o)?o.parentNode:o)}),i5=e=>oe.from(e.selection.getRng()).bind(n=>{const o=e.getBody();return n.startContainer===o&&n.startOffset===0?oe.none():oe.from(e.selection.getStart(!0))}),Vq=(e,n)=>i5(e).orThunk(je(Hq,e)).map(Ie.fromDom).filter(is).bind(n),US=(e,n)=>Vq(e,Rt(oe.some,n)),a5=(e,n)=>{if(/^[0-9.]+$/.test(n)){const o=parseInt(n,10);if(o>=1&&o<=7){const r=gT(e),l=vT(e);return l.length>0?l[o-1]||n:r[o-1]||n}else return n}else return n},Uq=e=>{const n=e.split(/\s*,\s*/);return Yt(n,o=>o.indexOf(" ")!==-1&&!(_i(o,'"')||_i(o,"'"))?`'${o}'`:o).join(",")},zq=(e,n)=>{const o=a5(e,n);e.formatter.toggle("fontname",{value:Uq(o)}),e.nodeChanged()},Wq=e=>US(e,n=>r5(e.getBody(),n.dom)).getOr(""),c5=(e,n)=>{e.formatter.toggle("fontsize",{value:a5(e,n)}),e.nodeChanged()},CM=e=>US(e,n=>Fq(e.getBody(),n.dom)).getOr(""),l5=e=>US(e,n=>{const o=Ie.fromDom(e.getBody()),r=yA(n,h=>Na(h,"line-height"),je(ns,o)),l=()=>{const h=parseFloat($u(n,"line-height")),v=parseFloat($u(n,"font-size"));return String(h/v)};return r.getOrThunk(l)}).getOr(""),SM=(e,n)=>{e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},Gq=e=>{const n=(o,r)=>{e.formatter.toggle(o,r),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{n(o)},"ForeColor,HiliteColor":(o,r,l)=>{n(o,{value:l})},BackColor:(o,r,l)=>{n("hilitecolor",{value:l})},FontName:(o,r,l)=>{zq(e,l)},FontSize:(o,r,l)=>{c5(e,l)},LineHeight:(o,r,l)=>{SM(e,l)},Lang:(o,r,l)=>{var h;n(o,{value:l.code,customValue:(h=l.customCode)!==null&&h!==void 0?h:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{n("blockquote")},FormatBlock:(o,r,l)=>{n(K(l)?l:"p")},mceToggleFormat:(o,r,l)=>{n(l)}})},MK=e=>{const n=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>n(o),mceBlockQuote:()=>n("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>Wq(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>CM(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>l5(e))},kK=e=>{Gq(e),MK(e)},qq=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},u5=e=>{e.editorCommands.addCommands({Indent:()=>{g2(e)},Outdent:()=>{sN(e)}}),e.editorCommands.addCommands({Outdent:()=>cz(e)},"state")},jq=e=>{const n=(o,r,l)=>{const h=K(l)?{href:l}:l,v=e.dom.getParent(e.selection.getNode(),"a");De(h)&&K(h.href)&&(h.href=h.href.replace(/ /g,"%20"),(!v||!h.href)&&e.formatter.remove("link"),h.href&&e.formatter.apply("link",h,v))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")},mceInsertLink:n,createLink:n})},Zq=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":n=>{e.getDoc().execCommand(n);const o=e.dom.getParent(e.selection.getNode(),"ol,ul");if(o){const r=o.parentNode;if(r&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)){const l=e.selection.getBookmark();e.dom.split(r,o),e.selection.moveToBookmark(l)}}}})},Yq=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":n=>{const o=e.dom.getParent(e.selection.getNode(),"ul,ol");return o&&(n==="insertunorderedlist"&&o.tagName==="UL"||n==="insertorderedlist"&&o.tagName==="OL")}},"state")},PK=e=>{Zq(e),Yq(e)},LK=e=>{e.editorCommands.addCommands({insertParagraph:()=>{hw(lB,e)},mceInsertNewLine:(n,o,r)=>{U2(e,r)},InsertLineBreak:(n,o,r)=>{hw(DS,e)}})},d5=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(n,o,r)=>{let l=0;e.dom.getParent(e.selection.getNode(),h=>nn(h)&&l++===r?(e.selection.select(h),!1):!0,e.getBody())},mceSelectNode:(n,o,r)=>{e.selection.select(r)},selectAll:()=>{const n=e.dom.getParent(e.selection.getStart(),ts);if(n){const o=e.dom.createRng();o.selectNodeContents(n),e.selection.setRng(o)}}})},f5=e=>{e.editorCommands.addCommands({mceRemoveNode:(n,o,r)=>{const l=r??e.selection.getNode();if(l!==e.getBody()){const h=e.selection.getBookmark();e.dom.remove(l,!0),e.selection.moveToBookmark(h)}},mcePrint:()=>{e.getWin().print()},mceFocus:(n,o,r)=>{c6(e,r===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},Kq=e=>{Iq(e),Dq(e),qq(e),d5(e),Pq(e),jq(e),u5(e),LK(e),PK(e),kK(e),f5(e)},Xq=["toggleview"],h5=e=>kn(Xq,e.toLowerCase());class Qq{constructor(n){this.commands={state:{},exec:{},value:{}},this.editor=n}execCommand(n,o=!1,r,l){const h=this.editor,v=n.toLowerCase(),C=l==null?void 0:l.skip_focus;if(h.removed||(v!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(v)&&!C?h.focus():Dl(h)),h.dispatch("BeforeExecCommand",{command:n,ui:o,value:r}).isDefaultPrevented()))return!1;const L=this.commands.exec[v];return _e(L)?(L(v,o,r),h.dispatch("ExecCommand",{command:n,ui:o,value:r}),!0):!1}queryCommandState(n){if(!h5(n)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=n.toLowerCase(),r=this.commands.state[o];return _e(r)?r(o):!1}queryCommandValue(n){if(!h5(n)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=n.toLowerCase(),r=this.commands.value[o];return _e(r)?r(o):""}addCommands(n,o="exec"){const r=this.commands;an(n,(l,h)=>{mt(h.toLowerCase().split(","),v=>{r[o][v]=l})})}addCommand(n,o,r){const l=n.toLowerCase();this.commands.exec[l]=(h,v,C)=>o.call(r??this.editor,v,C)}queryCommandSupported(n){const o=n.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(n,o,r){this.commands.state[n.toLowerCase()]=()=>o.call(r??this.editor)}addQueryValueHandler(n,o,r){this.commands.value[n.toLowerCase()]=()=>o.call(r??this.editor)}}const yw="data-mce-contenteditable",$K=(e,n,o)=>{hu(e,n)&&!o?sc(e,n):o&&fd(e,n)},xM=(e,n,o)=>{try{e.getDoc().execCommand(n,!1,String(o))}catch{}},AM=(e,n)=>{e.dom.contentEditable=n?"true":"false"},Jq=e=>{mt(Qr(e,'*[contenteditable="true"]'),n=>{ho(n,yw,"true"),AM(n,!1)})},Zy=e=>{mt(Qr(e,`*[${yw}="true"]`),n=>{fr(n,yw),AM(n,!0)})},OM=e=>{oe.from(e.selection.getNode()).each(n=>{n.removeAttribute("data-mce-selected")})},hO=e=>{e.selection.setRng(e.selection.getRng())},m5=(e,n)=>{const o=Ie.fromDom(e.getBody());$K(o,"mce-content-readonly",n),n?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),OM(e),e.readonly=!0,AM(o,!1),Jq(o)):(e.readonly=!1,AM(o,!0),Zy(o),xM(e,"StyleWithCSS",!1),xM(e,"enableInlineTableEditing",!1),xM(e,"enableObjectResizing",!1),Tk(e)&&e.focus(),hO(e),e.nodeChanged())},Wb=e=>e.readonly,RM=e=>{e.parser.addAttributeFilter("contenteditable",n=>{Wb(e)&&mt(n,o=>{o.attr(yw,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(yw,n=>{Wb(e)&&mt(n,o=>{o.attr("contenteditable",o.attr(yw))})}),e.serializer.addTempAttr(yw)},ej=e=>{e.serializer?RM(e):e.on("PreInit",()=>{RM(e)})},tj=e=>e.type==="click",nj=["copy"],oj=e=>kn(nj,e.type),Yy=(e,n)=>Vl(n,"a",r=>ns(r,Ie.fromDom(e.getBody()))).bind(r=>oc(r,"href")),sj=(e,n)=>{if(tj(n)&&!Cn.metaKeyPressed(n)){const o=Ie.fromDom(n.target);Yy(e,o).each(r=>{if(n.preventDefault(),/^#/.test(r)){const l=e.dom.select(`${r},[name="${Xc(r,"#")}"]`);l.length&&e.selection.scrollIntoView(l[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else oj(n)&&e.dispatch(n.type,n)},p5=e=>{e.on("ShowCaret",n=>{Wb(e)&&n.preventDefault()}),e.on("ObjectSelected",n=>{Wb(e)&&n.preventDefault()})},rj=we.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class _w{constructor(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||et}static isNative(n){return!!rj[n.toLowerCase()]}fire(n,o){return this.dispatch(n,o)}dispatch(n,o){const r=n.toLowerCase(),l=ag(r,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(l);const h=this.bindings[r];if(h)for(let v=0,C=h.length;v<C;v++){const A=h[v];if(!A.removed){if(A.once&&this.off(r,A.func),l.isImmediatePropagationStopped())return l;if(A.func.call(this.scope,l)===!1)return l.preventDefault(),l}}return l}on(n,o,r,l){if(o===!1&&(o=et),o){const h={func:o,removed:!1};l&&we.extend(h,l);const v=n.toLowerCase().split(" ");let C=v.length;for(;C--;){const A=v[C];let L=this.bindings[A];L||(L=[],this.toggleEvent(A,!0)),r?L=[h,...L]:L=[...L,h],this.bindings[A]=L}}return this}off(n,o){if(n){const r=n.toLowerCase().split(" ");let l=r.length;for(;l--;){const h=r[l];let v=this.bindings[h];if(!h)return an(this.bindings,(C,A)=>{this.toggleEvent(A,!1),delete this.bindings[A]}),this;if(v){if(!o)v.length=0;else{const C=vi(v,A=>A.func===o);v=C.fail,this.bindings[h]=v,mt(C.pass,A=>{A.removed=!0})}v.length||(this.toggleEvent(n,!1),delete this.bindings[h])}}}else an(this.bindings,(r,l)=>{this.toggleEvent(l,!1)}),this.bindings={};return this}once(n,o,r){return this.on(n,o,r,{once:!0})}has(n){n=n.toLowerCase();const o=this.bindings[n];return!(!o||o.length===0)}}const zS=e=>(e._eventDispatcher||(e._eventDispatcher=new _w({scope:e,toggleEvent:(n,o)=>{_w.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,o)}})),e._eventDispatcher),IM={fire(e,n,o){return this.dispatch(e,n,o)},dispatch(e,n,o){const r=this;if(r.removed&&e!=="remove"&&e!=="detach")return ag(e.toLowerCase(),n??{},r);const l=zS(r).dispatch(e,n);if(o!==!1&&r.parent){let h=r.parent();for(;h&&!l.isPropagationStopped();)h.dispatch(e,l,!1),h=h.parent?h.parent():void 0}return l},on(e,n,o){return zS(this).on(e,n,o)},off(e,n){return zS(this).off(e,n)},once(e,n){return zS(this).once(e,n)},hasEventListeners(e){return zS(this).has(e)}},mO=sr.DOM;let Gb;const pO=(e,n)=>{if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(n))return e.getDoc().documentElement;const o=N0(e);return o?(e.eventRoot||(e.eventRoot=mO.select(o)[0]),e.eventRoot):e.getBody()},ij=e=>!e.hidden&&!Wb(e),g5=(e,n,o)=>{ij(e)?e.dispatch(n,o):Wb(e)&&sj(e,o)},v5=(e,n)=>{if(e.delegates||(e.delegates={}),e.delegates[n]||e.removed)return;const o=pO(e,n);if(N0(e)){if(Gb||(Gb={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||Gb&&(an(Gb,(l,h)=>{e.dom.unbind(pO(e,h))}),Gb=null)})),Gb[n])return;const r=l=>{const h=l.target,v=e.editorManager.get();let C=v.length;for(;C--;){const A=v[C].getBody();(A===h||mO.isChildOf(h,A))&&g5(v[C],n,l)}};Gb[n]=r,mO.bind(o,n,r)}else{const r=l=>{g5(e,n,l)};mO.bind(o,n,r),e.delegates[n]=r}},gO={...IM,bindPendingEventDelegates(){const e=this;we.each(e._pendingNativeEvents,n=>{v5(e,n)})},toggleNativeEvent(e,n){const o=this;e==="focus"||e==="blur"||o.removed||(n?o.initialized?v5(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(pO(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,n=e.getBody(),o=e.dom;e.delegates&&(an(e.delegates,(r,l)=>{e.dom.unbind(pO(e,l),l,r)}),delete e.delegates),!e.inline&&n&&o&&(n.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(n),o.unbind(e.getContainer()))}},aj=e=>K(e)?{value:e.split(/[ ,]/),valid:!0}:wt(e,K)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},cj=e=>{const n=(()=>{switch(e){case"array":return H;case"boolean":return qe;case"function":return _e;case"number":return mn;case"object":return De;case"string":return K;case"string[]":return aj;case"object[]":return o=>wt(o,De);case"regexp":return o=>me(o,RegExp);default:return It}})();return o=>WS(o,n,`The value must be a ${e}.`)},Ya=e=>K(e.processor),b5=(e,n)=>{const o=si(n.message)?"":`. ${n.message}`;return e+o},y5=e=>e.valid,WS=(e,n,o="")=>{const r=n(e);return qe(r)?r?{value:e,valid:!0}:{valid:!1,message:o}:r},_5=(e,n,o)=>{if(!ut(n)){const r=WS(n,o);if(y5(r))return r.value;console.error(b5(`Invalid default value passed for the "${e}" option`,r))}},DM=(e,n)=>{const o={},r={},l=(Z,se,xe)=>{const Re=WS(se,xe);return y5(Re)?(r[Z]=Re.value,!0):(console.warn(b5(`Invalid value passed for the ${Z} option`,Re)),!1)},h=(Z,se)=>{const xe=Ya(se)?cj(se.processor):se.processor,Re=_5(Z,se.default,xe);o[Z]={...se,default:Re,processor:xe},Xs(r,Z).orThunk(()=>Xs(n,Z)).each(Ae=>l(Z,Ae,xe))},v=Z=>qn(o,Z);return{register:h,isRegistered:v,get:Z=>Xs(r,Z).orThunk(()=>Xs(o,Z).map(se=>se.default)).getOrUndefined(),set:(Z,se)=>{if(v(Z)){const xe=o[Z];return xe.immutable?(console.error(`"${Z}" is an immutable option and cannot be updated`),!1):l(Z,se,xe.processor)}else return console.warn(`"${Z}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:Z=>{const se=v(Z);return se&&delete r[Z],se},isSet:Z=>qn(r,Z)}},lj=["design","readonly"],E5=(e,n,o,r)=>{const l=o[n.get()],h=o[r];try{h.activate()}catch(v){console.error(`problem while activating editor mode ${r}:`,v);return}l.deactivate(),l.editorReadOnly!==h.editorReadOnly&&m5(e,h.editorReadOnly),n.set(r),qT(e,r)},uj=(e,n,o,r)=>{if(r!==o.get()){if(!qn(n,r))throw new Error(`Editor mode '${r}' is invalid`);e.initialized?E5(e,o,n,r):e.on("init",()=>E5(e,o,n,r))}},dj=(e,n,o)=>{if(kn(lj,n))throw new Error(`Cannot override default mode ${n}`);return{...e,[n]:{...o,deactivate:()=>{try{o.deactivate()}catch(r){console.error(`problem while deactivating editor mode ${n}:`,r)}}}}},fj=e=>{const n=Vi("design"),o=Vi({design:{activate:Ot,deactivate:Ot,editorReadOnly:!1},readonly:{activate:Ot,deactivate:Ot,editorReadOnly:!0}});return ej(e),p5(e),{isReadOnly:()=>Wb(e),set:r=>uj(e,o.get(),n,r),get:()=>n.get(),register:(r,l)=>{o.set(dj(o.get(),r,l))}}},NM=we.each,MM=we.explode,hj={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},Ky=we.makeMap("alt,ctrl,shift,meta,access"),Rp=e=>e in Ky,mj=e=>{const n={},o=Do.os.isMacOS()||Do.os.isiOS();NM(MM(e.toLowerCase(),"+"),h=>{Rp(h)?n[h]=!0:/^[0-9]{2,}$/.test(h)?n.keyCode=parseInt(h,10):(n.charCode=h.charCodeAt(0),n.keyCode=hj[h]||h.toUpperCase().charCodeAt(0))});const r=[n.keyCode];let l;for(l in Ky)n[l]?r.push(l):n[l]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,o?n.ctrl=!0:n.shift=!0),n.meta&&(o?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n};class w5{constructor(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;const o=this;n.on("keyup keypress keydown",r=>{(o.hasModifier(r)||o.isFunctionKey(r))&&!r.isDefaultPrevented()&&(NM(o.shortcuts,l=>{o.matchShortcut(r,l)&&(o.pendingPatterns=l.subpatterns.slice(0),r.type==="keydown"&&o.executeShortcutAction(l))}),o.matchShortcut(r,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&r.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(n,o,r,l){const h=this,v=h.normalizeCommandFunc(r);return NM(MM(we.trim(n)),C=>{const A=h.createShortcut(C,o,v,l);h.shortcuts[A.id]=A}),!0}remove(n){const o=this.createShortcut(n);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(n){const o=this,r=n;return typeof r=="string"?()=>{o.editor.execCommand(r,!1,null)}:we.isArray(r)?()=>{o.editor.execCommand(r[0],r[1],r[2])}:r}createShortcut(n,o,r,l){const h=we.map(MM(n,">"),mj);return h[h.length-1]=we.extend(h[h.length-1],{func:r,scope:l||this.editor}),we.extend(h[0],{desc:this.editor.translate(o),subpatterns:h.slice(1)})}hasModifier(n){return n.altKey||n.ctrlKey||n.metaKey}isFunctionKey(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123}matchShortcut(n,o){return!o||o.ctrl!==n.ctrlKey||o.meta!==n.metaKey||o.alt!==n.altKey||o.shift!==n.shiftKey?!1:n.keyCode===o.keyCode||n.charCode&&n.charCode===o.charCode?(n.preventDefault(),!0):!1}executeShortcutAction(n){return n.func?n.func.call(n.scope):null}}const pj=()=>{const e={},n={},o={},r={},l={},h={},v={},C={},A=(X,Z)=>(se,xe)=>{X[se.toLowerCase()]={...xe,type:Z}},L=(X,Z)=>r[X.toLowerCase()]=Z;return{addButton:A(e,"button"),addGroupToolbarButton:A(e,"grouptoolbarbutton"),addToggleButton:A(e,"togglebutton"),addMenuButton:A(e,"menubutton"),addSplitButton:A(e,"splitbutton"),addMenuItem:A(n,"menuitem"),addNestedMenuItem:A(n,"nestedmenuitem"),addToggleMenuItem:A(n,"togglemenuitem"),addAutocompleter:A(o,"autocompleter"),addContextMenu:A(l,"contextmenu"),addContextToolbar:A(h,"contexttoolbar"),addContextForm:A(h,"contextform"),addSidebar:A(v,"sidebar"),addView:A(C,"views"),addIcon:L,getAll:()=>({buttons:e,menuItems:n,icons:r,popups:o,contextMenus:l,contextToolbars:h,sidebars:v,views:C})}},gj=()=>{const e=pj();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},Xy=sr.DOM,T5=we.extend,vj=we.each;class vO{constructor(n,o,r){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,T5(this,gO);const l=this;this.id=n,this.hidden=!1;const h=zb(r.defaultOptions,o);this.options=DM(l,h),Wi(l);const v=this.options.get;v("deprecation_warnings")&&kb(o,h);const C=v("suffix");C&&(r.suffix=C),this.suffix=r.suffix;const A=v("base_url");A&&r._setBaseUrl(A),this.baseUri=r.baseURI;const L=ep(l);L&&(jf.ScriptLoader._setReferrerPolicy(L),sr.DOM.styleSheetLoader._setReferrerPolicy(L));const X=k0(l);ke(X)&&sr.DOM.styleSheetLoader._setContentCssCors(X),xs.languageLoad=v("language_load"),xs.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new Ap(ya(l),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=M0(l),this.hasVisual=iT(l),this.shortcuts=new w5(this),this.editorCommands=new Qq(this),Kq(this);const Z=v("cache_suffix");Z&&(Do.cacheSuffix=Z.replace(/^[\?\&]+/,"")),this.ui={registry:gj(),styleSheetLoader:void 0,show:Ot,hide:Ot,setEnabled:Ot,isEnabled:It},this.mode=fj(l),r.dispatch("SetupEditor",{editor:this});const se=Zh(l);_e(se)&&se.call(l,l)}render(){XF(this)}focus(n){this.execCommand("mceFocus",!1,n)}hasFocus(){return Cb(this)}translate(n){return Td.translate(n)}getParam(n,o,r){const l=this.options;return l.isRegistered(n)||(ke(r)?l.register(n,{processor:r,default:o}):l.register(n,{processor:It,default:o})),!l.isSet(n)&&!ut(o)?o:l.get(n)}hasPlugin(n,o){return kn(P0(this),n)?o?cm.get(n)!==void 0:!0:!1}nodeChanged(n){this._nodeChangeDispatcher.nodeChanged(n)}addCommand(n,o,r){this.editorCommands.addCommand(n,o,r)}addQueryStateHandler(n,o,r){this.editorCommands.addQueryStateHandler(n,o,r)}addQueryValueHandler(n,o,r){this.editorCommands.addQueryValueHandler(n,o,r)}addShortcut(n,o,r,l){this.shortcuts.add(n,o,r,l)}execCommand(n,o,r,l){return this.editorCommands.execCommand(n,o,r,l)}queryCommandState(n){return this.editorCommands.queryCommandState(n)}queryCommandValue(n){return this.editorCommands.queryCommandValue(n)}queryCommandSupported(n){return this.editorCommands.queryCommandSupported(n)}show(){const n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(Xy.show(n.getContainer()),Xy.hide(n.id)),n.load(),n.dispatch("show"))}hide(){const n=this;n.hidden||(n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(Xy.hide(n.getContainer()),Xy.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(n,o){this.dispatch("ProgressState",{state:n,time:o})}load(n={}){const o=this,r=o.getElement();if(o.removed)return"";if(r){const l={...n,load:!0},h=Dh(r)?r.value:r.innerHTML,v=o.setContent(h,l);return l.no_events||o.dispatch("LoadContent",{...l,element:r}),v}else return""}save(n={}){const o=this;let r=o.getElement();if(!r||!o.initialized||o.removed)return"";const l={...n,save:!0,element:r};let h=o.getContent(l);const v={...l,content:h};if(v.no_events||o.dispatch("SaveContent",v),v.format==="raw"&&o.dispatch("RawSaveContent",v),h=v.content,Dh(r))r.value=h;else{(n.is_removing||!o.inline)&&(r.innerHTML=h);const C=Xy.getParent(o.id,"form");C&&vj(C.elements,A=>A.name===o.id?(A.value=h,!1):!0)}return v.element=l.element=r=null,v.set_dirty!==!1&&o.setDirty(!1),h}setContent(n,o){return H4(this,n,o)}getContent(n){return gD(this,n)}insertContent(n,o){o&&(n=T5({content:n},o)),this.execCommand("mceInsertContent",!1,n)}resetContent(n){n===void 0?H4(this,this.startContent,{format:"raw"}):H4(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(n){const o=!this.isNotDirty;this.isNotDirty=!n,n&&n!==o&&this.dispatch("dirty")}getContainer(){const n=this;return n.container||(n.container=n.editorContainer||Xy.get(n.id+"_parent")),n.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=Xy.get(this.id)),this.targetElm}getWin(){const n=this;if(!n.contentWindow){const o=n.iframeElement;o&&(n.contentWindow=o.contentWindow)}return n.contentWindow}getDoc(){const n=this;if(!n.contentDocument){const o=n.getWin();o&&(n.contentDocument=o.document)}return n.contentDocument}getBody(){var n,o;const r=this.getDoc();return(o=(n=this.bodyElement)!==null&&n!==void 0?n:r==null?void 0:r.body)!==null&&o!==void 0?o:null}convertURL(n,o,r){const l=this,h=l.options.get,v=cT(l);return _e(v)?v.call(l,n,r,!0,o):!h("convert_urls")||r==="link"||De(r)&&r.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0?n:h("relative_urls")?l.documentBaseURI.toRelative(n):(n=l.documentBaseURI.toAbsolute(n,h("remove_script_host")),n)}addVisual(n){jy(this,n)}remove(){x7(this)}destroy(n){A7(this,n)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const Ew=sr.DOM,kM=we.each;let C5=!1,bO,nd=[];const yO=e=>{const n=e.type;kM(qb.get(),o=>{switch(n){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},S5=e=>{if(e!==C5){const n=sr.DOM;e?(n.bind(window,"resize",yO),n.bind(window,"scroll",yO)):(n.unbind(window,"resize",yO),n.unbind(window,"scroll",yO)),C5=e}},x5=e=>{const n=nd;return nd=Lt(nd,o=>e!==o),qb.activeEditor===e&&(qb.activeEditor=nd.length>0?nd[0]:null),qb.focusedEditor===e&&(qb.focusedEditor=null),n.length!==nd.length},BK=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(x5(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},bj=document.compatMode!=="CSS1Compat",qb={...IM,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"4.1",releaseDate:"2023-03-29",i18n:Td,activeEditor:null,focusedEditor:null,setup(){const e=this;let n="",o="",r=Ap.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));const l=window.tinymce||window.tinyMCEPreInit;if(l)n=l.base||l.baseURL,o=l.suffix;else{const h=document.getElementsByTagName("script");for(let v=0;v<h.length;v++){const C=h[v].src||"";if(C==="")continue;const A=C.substring(C.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(C)){A.indexOf(".min")!==-1&&(o=".min"),n=C.substring(0,C.lastIndexOf("/"));break}}if(!n&&document.currentScript){const v=document.currentScript.src;v.indexOf(".min")!==-1&&(o=".min"),n=v.substring(0,v.lastIndexOf("/"))}}e.baseURL=new Ap(r).toAbsolute(n),e.documentBaseURL=r,e.baseURI=new Ap(e.baseURL),e.suffix=o,r6(e)},overrideDefaults(e){const n=e.base_url;n&&this._setBaseUrl(n);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const r=e.plugin_base_urls;r!==void 0&&an(r,(l,h)=>{xs.PluginManager.urls[h]=l})},init(e){const n=this;let o;const r=we.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),l=(X,Z)=>X.inline&&Z.tagName.toLowerCase()in r,h=X=>{let Z=X.id;return Z||(Z=Xs(X,"name").filter(se=>!Ew.get(se)).getOrThunk(Ew.uniqueId),X.setAttribute("id",Z)),Z},v=X=>{const Z=e[X];if(Z)return Z.apply(n,[])},C=X=>Do.browser.isIE()||Do.browser.isEdge()?(iS("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):bj?(iS("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):K(X.selector)?Ew.select(X.selector):ke(X.target)?[X.target]:[];let A=X=>{o=X};const L=()=>{let X=0;const Z=[];let se;const xe=(Re,be,Ae)=>{const Ve=new vO(Re,be,n);Z.push(Ve),Ve.on("init",()=>{++X===se.length&&A(Z)}),Ve.targetElm=Ve.targetElm||Ae,Ve.render()};Ew.unbind(window,"ready",L),v("onpageload"),se=Gd(C(e)),we.each(se,Re=>{BK(n.get(Re.id))}),se=we.grep(se,Re=>!n.get(Re.id)),se.length===0?A([]):kM(se,Re=>{l(e,Re)?iS("Could not initialize inline editor on invalid inline target element",Re):xe(h(Re),e,Re)})};return Ew.bind(window,"ready",L),new Promise(X=>{o?X(o):A=Z=>{X(Z)}})},get(e){return arguments.length===0?nd.slice(0):K(e)?vs(nd,n=>n.id===e).getOr(null):mn(e)&&nd[e]?nd[e]:null},add(e){const n=this,o=n.get(e.id);return o===e||(o===null&&nd.push(e),S5(!0),n.activeEditor=e,n.dispatch("AddEditor",{editor:e}),bO||(bO=r=>{const l=n.dispatch("BeforeUnload");if(l.returnValue)return r.preventDefault(),r.returnValue=l.returnValue,l.returnValue},window.addEventListener("beforeunload",bO))),e},createEditor(e,n){return this.add(new vO(e,n,this))},remove(e){const n=this;let o;if(!e){for(let r=nd.length-1;r>=0;r--)n.remove(nd[r]);return}if(K(e)){kM(Ew.select(e),r=>{o=n.get(r.id),o&&n.remove(o)});return}return o=e,Ee(n.get(o.id))?null:(x5(o)&&n.dispatch("RemoveEditor",{editor:o}),nd.length===0&&window.removeEventListener("beforeunload",bO),o.remove(),S5(nd.length>0),o)},execCommand(e,n,o){var r;const l=this,h=De(o)?(r=o.id)!==null&&r!==void 0?r:o.index:o;switch(e){case"mceAddEditor":{if(!l.get(h)){const v=o.options;new vO(h,v,l).render()}return!0}case"mceRemoveEditor":{const v=l.get(h);return v&&v.remove(),!0}case"mceToggleEditor":{const v=l.get(h);return v?(v.isHidden()?v.show():v.hide(),!0):(l.execCommand("mceAddEditor",!1,o),!0)}}return l.activeEditor?l.activeEditor.execCommand(e,n,o):!1},triggerSave:()=>{kM(nd,e=>{e.save()})},addI18n:(e,n)=>{Td.add(e,n)},translate:e=>Td.translate(e),setActive(e){const n=this.activeEditor;this.activeEditor!==e&&(n&&n.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new Ap(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Ap(this.baseURL)}};qb.setup();const yj=(()=>{const e=oa(),n=h=>({items:h,types:bi(h),getType:v=>Xs(h,v).getOrUndefined()}),o=h=>{e.set(h)},r=()=>e.get().getOrUndefined(),l=e.clear;return{FakeClipboardItem:n,write:o,read:r,clear:l}})(),A5=Math.min,ww=Math.max,_O=Math.round,O5=(e,n,o)=>{let r=n.x,l=n.y;const h=e.w,v=e.h,C=n.w,A=n.h,L=(o||"").split("");return L[0]==="b"&&(l+=A),L[1]==="r"&&(r+=C),L[0]==="c"&&(l+=_O(A/2)),L[1]==="c"&&(r+=_O(C/2)),L[3]==="b"&&(l-=v),L[4]==="r"&&(r-=h),L[3]==="c"&&(l-=_O(v/2)),L[4]==="c"&&(r-=_O(h/2)),Tw(r,l,h,v)},_j=(e,n,o,r)=>{for(let l=0;l<r.length;l++){const h=O5(e,n,r[l]);if(h.x>=o.x&&h.x+h.w<=o.w+o.x&&h.y>=o.y&&h.y+h.h<=o.h+o.y)return r[l]}return null},Ej=(e,n,o)=>Tw(e.x-n,e.y-o,e.w+n*2,e.h+o*2),wj=(e,n)=>{const o=ww(e.x,n.x),r=ww(e.y,n.y),l=A5(e.x+e.w,n.x+n.w),h=A5(e.y+e.h,n.y+n.h);return l-o<0||h-r<0?null:Tw(o,r,l-o,h-r)},Tj=(e,n,o)=>{let r=e.x,l=e.y,h=e.x+e.w,v=e.y+e.h;const C=n.x+n.w,A=n.y+n.h,L=ww(0,n.x-r),X=ww(0,n.y-l),Z=ww(0,h-C),se=ww(0,v-A);return r+=L,l+=X,o&&(h+=L,v+=X,r-=Z,l-=se),h-=Z,v-=se,Tw(r,l,h-r,v-l)},Tw=(e,n,o,r)=>({x:e,y:n,w:o,h:r}),Cj={inflate:Ej,relativePosition:O5,findBestRelativePosition:_j,intersect:wj,clamp:Tj,create:Tw,fromClientRect:e=>Tw(e.left,e.top,e.width,e.height)},Sj=(e,n,o=1e3)=>{let r=!1,l=null;const h=L=>(...X)=>{r||(r=!0,l!==null&&(clearTimeout(l),l=null),L.apply(null,X))},v=h(e),C=h(n);return{start:(...L)=>{!r&&l===null&&(l=setTimeout(()=>C.apply(null,L),o))},resolve:v,reject:C}},Aj=(()=>{const e={},n={};return{load:(h,v)=>{const C=`Script at URL "${v}" failed to load`,A=`Script at URL "${v}" did not call \`tinymce.Resource.add('${h}', data)\` within 1 second`;if(e[h]!==void 0)return e[h];{const L=new Promise((X,Z)=>{const se=Sj(X,Z);n[h]=se.resolve,jf.ScriptLoader.loadScript(v).then(()=>se.start(A),()=>se.reject(C))});return e[h]=L,L}},add:(h,v)=>{n[h]!==void 0&&(n[h](v),delete n[h]),e[h]=Promise.resolve(v)},unload:h=>{delete e[h]}}})(),Oj=()=>(()=>{let e={},n=[];const o={getItem:r=>{const l=e[r];return l||null},setItem:(r,l)=>{n.push(r),e[r]=String(l)},key:r=>n[r],removeItem:r=>{n=n.filter(l=>l===r),delete e[r]},clear:()=>{n=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>n.length,configurable:!1,enumerable:!1}),o})();let GS;try{const e="__storage_test__";GS=window.localStorage,GS.setItem(e,e),GS.removeItem(e)}catch{GS=Oj()}var Rj=GS;const Ij={geom:{Rect:Cj},util:{Delay:Md,Tools:we,VK:Cn,URI:Ap,EventDispatcher:_w,Observable:IM,I18n:Td,LocalStorage:Rj,ImageUploader:U7},dom:{EventUtils:uf,TreeWalker:ai,TextSeeker:Cr,DOMUtils:sr,ScriptLoader:jf,RangeUtils:_b,Serializer:pD,StyleSheetLoader:af,ControlSelection:$x,BookmarkManager:Eu,Selection:cv,Event:uf.Event},html:{Styles:sg,Entities:cf,Node:Ju,Schema:Yl,DomParser:Mb,Writer:Bk,Serializer:Sb},Env:Do,AddOnManager:xs,Annotator:ly,Formatter:aS,UndoManager:TD,EditorCommands:Qq,WindowManager:bD,NotificationManager:Pb,EditorObservable:gO,Shortcuts:w5,Editor:vO,FocusManager:wb,EditorManager:qb,DOM:sr.DOM,ScriptLoader:jf.ScriptLoader,PluginManager:cm,ThemeManager:Pg,ModelManager:JE,IconManager:jA,Resource:Aj,FakeClipboard:yj,trim:we.trim,isArray:we.isArray,is:we.is,toArray:we.toArray,makeMap:we.makeMap,each:we.each,map:we.map,grep:we.grep,inArray:we.inArray,extend:we.extend,walk:we.walk,resolve:we.resolve,explode:we.explode,_addCacheSuffix:we._addCacheSuffix},R5=we.extend(qb,Ij),Dj=e=>{try{a.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(R5),Dj(R5)})()})(Qne);const Jne=CZ;var SZ={},eoe={get exports(){return SZ},set exports(a){SZ=a}},ph="top",Pp="bottom",Lp="right",gh="left",LH="auto",JO=[ph,Pp,Lp,gh],lx="start",zO="end",xJ="clippingParents",eY="viewport",DO="popper",AJ="reference",xZ=JO.reduce(function(a,c){return a.concat([c+"-"+lx,c+"-"+zO])},[]),tY=[].concat(JO,[LH]).reduce(function(a,c){return a.concat([c,c+"-"+lx,c+"-"+zO])},[]),OJ="beforeRead",RJ="read",IJ="afterRead",DJ="beforeMain",NJ="main",MJ="afterMain",kJ="beforeWrite",PJ="write",LJ="afterWrite",$J=[OJ,RJ,IJ,DJ,NJ,MJ,kJ,PJ,LJ];function Jb(a){return a?(a.nodeName||"").toLowerCase():null}function $p(a){if(a==null)return window;if(a.toString()!=="[object Window]"){var c=a.ownerDocument;return c&&c.defaultView||window}return a}function ux(a){var c=$p(a).Element;return a instanceof c||a instanceof Element}function Jg(a){var c=$p(a).HTMLElement;return a instanceof c||a instanceof HTMLElement}function nY(a){if(typeof ShadowRoot>"u")return!1;var c=$p(a).ShadowRoot;return a instanceof c||a instanceof ShadowRoot}function toe(a){var c=a.state;Object.keys(c.elements).forEach(function(f){var y=c.styles[f]||{},S=c.attributes[f]||{},D=c.elements[f];!Jg(D)||!Jb(D)||(Object.assign(D.style,y),Object.keys(S).forEach(function(I){var B=S[I];B===!1?D.removeAttribute(I):D.setAttribute(I,B===!0?"":B)}))})}function noe(a){var c=a.state,f={popper:{position:c.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(c.elements.popper.style,f.popper),c.styles=f,c.elements.arrow&&Object.assign(c.elements.arrow.style,f.arrow),function(){Object.keys(c.elements).forEach(function(y){var S=c.elements[y],D=c.attributes[y]||{},I=Object.keys(c.styles.hasOwnProperty(y)?c.styles[y]:f[y]),B=I.reduce(function(U,j){return U[j]="",U},{});!Jg(S)||!Jb(S)||(Object.assign(S.style,B),Object.keys(D).forEach(function(U){S.removeAttribute(U)}))})}}const oY={name:"applyStyles",enabled:!0,phase:"write",fn:toe,effect:noe,requires:["computeStyles"]};function Xb(a){return a.split("-")[0]}var rx=Math.max,bH=Math.min,WO=Math.round;function AZ(){var a=navigator.userAgentData;return a!=null&&a.brands&&Array.isArray(a.brands)?a.brands.map(function(c){return c.brand+"/"+c.version}).join(" "):navigator.userAgent}function BJ(){return!/^((?!chrome|android).)*safari/i.test(AZ())}function GO(a,c,f){c===void 0&&(c=!1),f===void 0&&(f=!1);var y=a.getBoundingClientRect(),S=1,D=1;c&&Jg(a)&&(S=a.offsetWidth>0&&WO(y.width)/a.offsetWidth||1,D=a.offsetHeight>0&&WO(y.height)/a.offsetHeight||1);var I=ux(a)?$p(a):window,B=I.visualViewport,U=!BJ()&&f,j=(y.left+(U&&B?B.offsetLeft:0))/S,Y=(y.top+(U&&B?B.offsetTop:0))/D,ne=y.width/S,ve=y.height/D;return{width:ne,height:ve,top:Y,right:j+ne,bottom:Y+ve,left:j,x:j,y:Y}}function sY(a){var c=GO(a),f=a.offsetWidth,y=a.offsetHeight;return Math.abs(c.width-f)<=1&&(f=c.width),Math.abs(c.height-y)<=1&&(y=c.height),{x:a.offsetLeft,y:a.offsetTop,width:f,height:y}}function FJ(a,c){var f=c.getRootNode&&c.getRootNode();if(a.contains(c))return!0;if(f&&nY(f)){var y=c;do{if(y&&a.isSameNode(y))return!0;y=y.parentNode||y.host}while(y)}return!1}function a_(a){return $p(a).getComputedStyle(a)}function ooe(a){return["table","td","th"].indexOf(Jb(a))>=0}function $w(a){return((ux(a)?a.ownerDocument:a.document)||window.document).documentElement}function $H(a){return Jb(a)==="html"?a:a.assignedSlot||a.parentNode||(nY(a)?a.host:null)||$w(a)}function RX(a){return!Jg(a)||a_(a).position==="fixed"?null:a.offsetParent}function soe(a){var c=/firefox/i.test(AZ()),f=/Trident/i.test(AZ());if(f&&Jg(a)){var y=a_(a);if(y.position==="fixed")return null}var S=$H(a);for(nY(S)&&(S=S.host);Jg(S)&&["html","body"].indexOf(Jb(S))<0;){var D=a_(S);if(D.transform!=="none"||D.perspective!=="none"||D.contain==="paint"||["transform","perspective"].indexOf(D.willChange)!==-1||c&&D.willChange==="filter"||c&&D.filter&&D.filter!=="none")return S;S=S.parentNode}return null}function sk(a){for(var c=$p(a),f=RX(a);f&&ooe(f)&&a_(f).position==="static";)f=RX(f);return f&&(Jb(f)==="html"||Jb(f)==="body"&&a_(f).position==="static")?c:f||soe(a)||c}function rY(a){return["top","bottom"].indexOf(a)>=0?"x":"y"}function YM(a,c,f){return rx(a,bH(c,f))}function roe(a,c,f){var y=YM(a,c,f);return y>f?f:y}function HJ(){return{top:0,right:0,bottom:0,left:0}}function VJ(a){return Object.assign({},HJ(),a)}function UJ(a,c){return c.reduce(function(f,y){return f[y]=a,f},{})}var ioe=function(c,f){return c=typeof c=="function"?c(Object.assign({},f.rects,{placement:f.placement})):c,VJ(typeof c!="number"?c:UJ(c,JO))};function aoe(a){var c,f=a.state,y=a.name,S=a.options,D=f.elements.arrow,I=f.modifiersData.popperOffsets,B=Xb(f.placement),U=rY(B),j=[gh,Lp].indexOf(B)>=0,Y=j?"height":"width";if(!(!D||!I)){var ne=ioe(S.padding,f),ve=sY(D),ie=U==="y"?ph:gh,fe=U==="y"?Pp:Lp,ue=f.rects.reference[Y]+f.rects.reference[U]-I[U]-f.rects.popper[Y],ce=I[U]-f.rects.reference[U],re=sk(D),me=re?U==="y"?re.clientHeight||0:re.clientWidth||0:0,K=ue/2-ce/2,De=ne[ie],Ge=me-ve[Y]-ne[fe],H=me/2-ve[Y]/2+K,Ee=YM(De,H,Ge),qe=U;f.modifiersData[y]=(c={},c[qe]=Ee,c.centerOffset=Ee-H,c)}}function coe(a){var c=a.state,f=a.options,y=f.element,S=y===void 0?"[data-popper-arrow]":y;S!=null&&(typeof S=="string"&&(S=c.elements.popper.querySelector(S),!S)||FJ(c.elements.popper,S)&&(c.elements.arrow=S))}const zJ={name:"arrow",enabled:!0,phase:"main",fn:aoe,effect:coe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function qO(a){return a.split("-")[1]}var loe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function uoe(a,c){var f=a.x,y=a.y,S=c.devicePixelRatio||1;return{x:WO(f*S)/S||0,y:WO(y*S)/S||0}}function IX(a){var c,f=a.popper,y=a.popperRect,S=a.placement,D=a.variation,I=a.offsets,B=a.position,U=a.gpuAcceleration,j=a.adaptive,Y=a.roundOffsets,ne=a.isFixed,ve=I.x,ie=ve===void 0?0:ve,fe=I.y,ue=fe===void 0?0:fe,ce=typeof Y=="function"?Y({x:ie,y:ue}):{x:ie,y:ue};ie=ce.x,ue=ce.y;var re=I.hasOwnProperty("x"),me=I.hasOwnProperty("y"),K=gh,De=ph,Ge=window;if(j){var H=sk(f),Ee="clientHeight",qe="clientWidth";if(H===$p(f)&&(H=$w(f),a_(H).position!=="static"&&B==="absolute"&&(Ee="scrollHeight",qe="scrollWidth")),H=H,S===ph||(S===gh||S===Lp)&&D===zO){De=Pp;var ut=ne&&H===Ge&&Ge.visualViewport?Ge.visualViewport.height:H[Ee];ue-=ut-y.height,ue*=U?1:-1}if(S===gh||(S===ph||S===Pp)&&D===zO){K=Lp;var yt=ne&&H===Ge&&Ge.visualViewport?Ge.visualViewport.width:H[qe];ie-=yt-y.width,ie*=U?1:-1}}var ke=Object.assign({position:B},j&&loe),_e=Y===!0?uoe({x:ie,y:ue},$p(f)):{x:ie,y:ue};if(ie=_e.x,ue=_e.y,U){var mn;return Object.assign({},ke,(mn={},mn[De]=me?"0":"",mn[K]=re?"0":"",mn.transform=(Ge.devicePixelRatio||1)<=1?"translate("+ie+"px, "+ue+"px)":"translate3d("+ie+"px, "+ue+"px, 0)",mn))}return Object.assign({},ke,(c={},c[De]=me?ue+"px":"",c[K]=re?ie+"px":"",c.transform="",c))}function doe(a){var c=a.state,f=a.options,y=f.gpuAcceleration,S=y===void 0?!0:y,D=f.adaptive,I=D===void 0?!0:D,B=f.roundOffsets,U=B===void 0?!0:B,j={placement:Xb(c.placement),variation:qO(c.placement),popper:c.elements.popper,popperRect:c.rects.popper,gpuAcceleration:S,isFixed:c.options.strategy==="fixed"};c.modifiersData.popperOffsets!=null&&(c.styles.popper=Object.assign({},c.styles.popper,IX(Object.assign({},j,{offsets:c.modifiersData.popperOffsets,position:c.options.strategy,adaptive:I,roundOffsets:U})))),c.modifiersData.arrow!=null&&(c.styles.arrow=Object.assign({},c.styles.arrow,IX(Object.assign({},j,{offsets:c.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:U})))),c.attributes.popper=Object.assign({},c.attributes.popper,{"data-popper-placement":c.placement})}const iY={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:doe,data:{}};var V5={passive:!0};function foe(a){var c=a.state,f=a.instance,y=a.options,S=y.scroll,D=S===void 0?!0:S,I=y.resize,B=I===void 0?!0:I,U=$p(c.elements.popper),j=[].concat(c.scrollParents.reference,c.scrollParents.popper);return D&&j.forEach(function(Y){Y.addEventListener("scroll",f.update,V5)}),B&&U.addEventListener("resize",f.update,V5),function(){D&&j.forEach(function(Y){Y.removeEventListener("scroll",f.update,V5)}),B&&U.removeEventListener("resize",f.update,V5)}}const aY={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:foe,data:{}};var hoe={left:"right",right:"left",bottom:"top",top:"bottom"};function oH(a){return a.replace(/left|right|bottom|top/g,function(c){return hoe[c]})}var moe={start:"end",end:"start"};function DX(a){return a.replace(/start|end/g,function(c){return moe[c]})}function cY(a){var c=$p(a),f=c.pageXOffset,y=c.pageYOffset;return{scrollLeft:f,scrollTop:y}}function lY(a){return GO($w(a)).left+cY(a).scrollLeft}function poe(a,c){var f=$p(a),y=$w(a),S=f.visualViewport,D=y.clientWidth,I=y.clientHeight,B=0,U=0;if(S){D=S.width,I=S.height;var j=BJ();(j||!j&&c==="fixed")&&(B=S.offsetLeft,U=S.offsetTop)}return{width:D,height:I,x:B+lY(a),y:U}}function goe(a){var c,f=$w(a),y=cY(a),S=(c=a.ownerDocument)==null?void 0:c.body,D=rx(f.scrollWidth,f.clientWidth,S?S.scrollWidth:0,S?S.clientWidth:0),I=rx(f.scrollHeight,f.clientHeight,S?S.scrollHeight:0,S?S.clientHeight:0),B=-y.scrollLeft+lY(a),U=-y.scrollTop;return a_(S||f).direction==="rtl"&&(B+=rx(f.clientWidth,S?S.clientWidth:0)-D),{width:D,height:I,x:B,y:U}}function uY(a){var c=a_(a),f=c.overflow,y=c.overflowX,S=c.overflowY;return/auto|scroll|overlay|hidden/.test(f+S+y)}function WJ(a){return["html","body","#document"].indexOf(Jb(a))>=0?a.ownerDocument.body:Jg(a)&&uY(a)?a:WJ($H(a))}function KM(a,c){var f;c===void 0&&(c=[]);var y=WJ(a),S=y===((f=a.ownerDocument)==null?void 0:f.body),D=$p(y),I=S?[D].concat(D.visualViewport||[],uY(y)?y:[]):y,B=c.concat(I);return S?B:B.concat(KM($H(I)))}function OZ(a){return Object.assign({},a,{left:a.x,top:a.y,right:a.x+a.width,bottom:a.y+a.height})}function voe(a,c){var f=GO(a,!1,c==="fixed");return f.top=f.top+a.clientTop,f.left=f.left+a.clientLeft,f.bottom=f.top+a.clientHeight,f.right=f.left+a.clientWidth,f.width=a.clientWidth,f.height=a.clientHeight,f.x=f.left,f.y=f.top,f}function NX(a,c,f){return c===eY?OZ(poe(a,f)):ux(c)?voe(c,f):OZ(goe($w(a)))}function boe(a){var c=KM($H(a)),f=["absolute","fixed"].indexOf(a_(a).position)>=0,y=f&&Jg(a)?sk(a):a;return ux(y)?c.filter(function(S){return ux(S)&&FJ(S,y)&&Jb(S)!=="body"}):[]}function yoe(a,c,f,y){var S=c==="clippingParents"?boe(a):[].concat(c),D=[].concat(S,[f]),I=D[0],B=D.reduce(function(U,j){var Y=NX(a,j,y);return U.top=rx(Y.top,U.top),U.right=bH(Y.right,U.right),U.bottom=bH(Y.bottom,U.bottom),U.left=rx(Y.left,U.left),U},NX(a,I,y));return B.width=B.right-B.left,B.height=B.bottom-B.top,B.x=B.left,B.y=B.top,B}function GJ(a){var c=a.reference,f=a.element,y=a.placement,S=y?Xb(y):null,D=y?qO(y):null,I=c.x+c.width/2-f.width/2,B=c.y+c.height/2-f.height/2,U;switch(S){case ph:U={x:I,y:c.y-f.height};break;case Pp:U={x:I,y:c.y+c.height};break;case Lp:U={x:c.x+c.width,y:B};break;case gh:U={x:c.x-f.width,y:B};break;default:U={x:c.x,y:c.y}}var j=S?rY(S):null;if(j!=null){var Y=j==="y"?"height":"width";switch(D){case lx:U[j]=U[j]-(c[Y]/2-f[Y]/2);break;case zO:U[j]=U[j]+(c[Y]/2-f[Y]/2);break}}return U}function jO(a,c){c===void 0&&(c={});var f=c,y=f.placement,S=y===void 0?a.placement:y,D=f.strategy,I=D===void 0?a.strategy:D,B=f.boundary,U=B===void 0?xJ:B,j=f.rootBoundary,Y=j===void 0?eY:j,ne=f.elementContext,ve=ne===void 0?DO:ne,ie=f.altBoundary,fe=ie===void 0?!1:ie,ue=f.padding,ce=ue===void 0?0:ue,re=VJ(typeof ce!="number"?ce:UJ(ce,JO)),me=ve===DO?AJ:DO,K=a.rects.popper,De=a.elements[fe?me:ve],Ge=yoe(ux(De)?De:De.contextElement||$w(a.elements.popper),U,Y,I),H=GO(a.elements.reference),Ee=GJ({reference:H,element:K,strategy:"absolute",placement:S}),qe=OZ(Object.assign({},K,Ee)),ut=ve===DO?qe:H,yt={top:Ge.top-ut.top+re.top,bottom:ut.bottom-Ge.bottom+re.bottom,left:Ge.left-ut.left+re.left,right:ut.right-Ge.right+re.right},ke=a.modifiersData.offset;if(ve===DO&&ke){var _e=ke[S];Object.keys(yt).forEach(function(mn){var wt=[Lp,Pp].indexOf(mn)>=0?1:-1,Ot=[ph,Pp].indexOf(mn)>=0?"y":"x";yt[mn]+=_e[Ot]*wt})}return yt}function _oe(a,c){c===void 0&&(c={});var f=c,y=f.placement,S=f.boundary,D=f.rootBoundary,I=f.padding,B=f.flipVariations,U=f.allowedAutoPlacements,j=U===void 0?tY:U,Y=qO(y),ne=Y?B?xZ:xZ.filter(function(fe){return qO(fe)===Y}):JO,ve=ne.filter(function(fe){return j.indexOf(fe)>=0});ve.length===0&&(ve=ne);var ie=ve.reduce(function(fe,ue){return fe[ue]=jO(a,{placement:ue,boundary:S,rootBoundary:D,padding:I})[Xb(ue)],fe},{});return Object.keys(ie).sort(function(fe,ue){return ie[fe]-ie[ue]})}function Eoe(a){if(Xb(a)===LH)return[];var c=oH(a);return[DX(a),c,DX(c)]}function woe(a){var c=a.state,f=a.options,y=a.name;if(!c.modifiersData[y]._skip){for(var S=f.mainAxis,D=S===void 0?!0:S,I=f.altAxis,B=I===void 0?!0:I,U=f.fallbackPlacements,j=f.padding,Y=f.boundary,ne=f.rootBoundary,ve=f.altBoundary,ie=f.flipVariations,fe=ie===void 0?!0:ie,ue=f.allowedAutoPlacements,ce=c.options.placement,re=Xb(ce),me=re===ce,K=U||(me||!fe?[oH(ce)]:Eoe(ce)),De=[ce].concat(K).reduce(function(ao,Fo){return ao.concat(Xb(Fo)===LH?_oe(c,{placement:Fo,boundary:Y,rootBoundary:ne,padding:j,flipVariations:fe,allowedAutoPlacements:ue}):Fo)},[]),Ge=c.rects.reference,H=c.rects.popper,Ee=new Map,qe=!0,ut=De[0],yt=0;yt<De.length;yt++){var ke=De[yt],_e=Xb(ke),mn=qO(ke)===lx,wt=[ph,Pp].indexOf(_e)>=0,Ot=wt?"width":"height",P=jO(c,{placement:ke,boundary:Y,rootBoundary:ne,altBoundary:ve,padding:j}),Rt=wt?mn?Lp:gh:mn?Pp:ph;Ge[Ot]>H[Ot]&&(Rt=oH(Rt));var tt=oH(Rt),qt=[];if(D&&qt.push(P[_e]<=0),B&&qt.push(P[Rt]<=0,P[tt]<=0),qt.every(function(ao){return ao})){ut=ke,qe=!1;break}Ee.set(ke,qt)}if(qe)for(var Vt=fe?3:1,je=function(Fo){var et=De.find(function(It){var oe=Ee.get(It);if(oe)return oe.slice(0,Fo).every(function(cs){return cs})});if(et)return ut=et,"break"},vo=Vt;vo>0;vo--){var Bo=je(vo);if(Bo==="break")break}c.placement!==ut&&(c.modifiersData[y]._skip=!0,c.placement=ut,c.reset=!0)}}const qJ={name:"flip",enabled:!0,phase:"main",fn:woe,requiresIfExists:["offset"],data:{_skip:!1}};function MX(a,c,f){return f===void 0&&(f={x:0,y:0}),{top:a.top-c.height-f.y,right:a.right-c.width+f.x,bottom:a.bottom-c.height+f.y,left:a.left-c.width-f.x}}function kX(a){return[ph,Lp,Pp,gh].some(function(c){return a[c]>=0})}function Toe(a){var c=a.state,f=a.name,y=c.rects.reference,S=c.rects.popper,D=c.modifiersData.preventOverflow,I=jO(c,{elementContext:"reference"}),B=jO(c,{altBoundary:!0}),U=MX(I,y),j=MX(B,S,D),Y=kX(U),ne=kX(j);c.modifiersData[f]={referenceClippingOffsets:U,popperEscapeOffsets:j,isReferenceHidden:Y,hasPopperEscaped:ne},c.attributes.popper=Object.assign({},c.attributes.popper,{"data-popper-reference-hidden":Y,"data-popper-escaped":ne})}const jJ={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Toe};function Coe(a,c,f){var y=Xb(a),S=[gh,ph].indexOf(y)>=0?-1:1,D=typeof f=="function"?f(Object.assign({},c,{placement:a})):f,I=D[0],B=D[1];return I=I||0,B=(B||0)*S,[gh,Lp].indexOf(y)>=0?{x:B,y:I}:{x:I,y:B}}function Soe(a){var c=a.state,f=a.options,y=a.name,S=f.offset,D=S===void 0?[0,0]:S,I=tY.reduce(function(Y,ne){return Y[ne]=Coe(ne,c.rects,D),Y},{}),B=I[c.placement],U=B.x,j=B.y;c.modifiersData.popperOffsets!=null&&(c.modifiersData.popperOffsets.x+=U,c.modifiersData.popperOffsets.y+=j),c.modifiersData[y]=I}const ZJ={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Soe};function xoe(a){var c=a.state,f=a.name;c.modifiersData[f]=GJ({reference:c.rects.reference,element:c.rects.popper,strategy:"absolute",placement:c.placement})}const dY={name:"popperOffsets",enabled:!0,phase:"read",fn:xoe,data:{}};function Aoe(a){return a==="x"?"y":"x"}function Ooe(a){var c=a.state,f=a.options,y=a.name,S=f.mainAxis,D=S===void 0?!0:S,I=f.altAxis,B=I===void 0?!1:I,U=f.boundary,j=f.rootBoundary,Y=f.altBoundary,ne=f.padding,ve=f.tether,ie=ve===void 0?!0:ve,fe=f.tetherOffset,ue=fe===void 0?0:fe,ce=jO(c,{boundary:U,rootBoundary:j,padding:ne,altBoundary:Y}),re=Xb(c.placement),me=qO(c.placement),K=!me,De=rY(re),Ge=Aoe(De),H=c.modifiersData.popperOffsets,Ee=c.rects.reference,qe=c.rects.popper,ut=typeof ue=="function"?ue(Object.assign({},c.rects,{placement:c.placement})):ue,yt=typeof ut=="number"?{mainAxis:ut,altAxis:ut}:Object.assign({mainAxis:0,altAxis:0},ut),ke=c.modifiersData.offset?c.modifiersData.offset[c.placement]:null,_e={x:0,y:0};if(H){if(D){var mn,wt=De==="y"?ph:gh,Ot=De==="y"?Pp:Lp,P=De==="y"?"height":"width",Rt=H[De],tt=Rt+ce[wt],qt=Rt-ce[Ot],Vt=ie?-qe[P]/2:0,je=me===lx?Ee[P]:qe[P],vo=me===lx?-qe[P]:-Ee[P],Bo=c.elements.arrow,ao=ie&&Bo?sY(Bo):{width:0,height:0},Fo=c.modifiersData["arrow#persistent"]?c.modifiersData["arrow#persistent"].padding:HJ(),et=Fo[wt],It=Fo[Ot],oe=YM(0,Ee[P],ao[P]),cs=K?Ee[P]/2-Vt-oe-et-yt.mainAxis:je-oe-et-yt.mainAxis,uo=K?-Ee[P]/2+Vt+oe+It+yt.mainAxis:vo+oe+It+yt.mainAxis,Bt=c.elements.arrow&&sk(c.elements.arrow),gs=Bt?De==="y"?Bt.clientTop||0:Bt.clientLeft||0:0,Xa=(mn=ke==null?void 0:ke[De])!=null?mn:0,kn=Rt+cs-Xa-gs,ko=Rt+uo-Xa,Yt=YM(ie?bH(tt,kn):tt,Rt,ie?rx(qt,ko):qt);H[De]=Yt,_e[De]=Yt-Rt}if(B){var mt,gi=De==="x"?ph:gh,vi=De==="x"?Pp:Lp,Lt=H[Ge],Lr=Ge==="y"?"height":"width",Ns=Lt+ce[gi],Pc=Lt-ce[vi],vs=[ph,gh].indexOf(re)!==-1,Rr=(mt=ke==null?void 0:ke[Ge])!=null?mt:0,jc=vs?Ns:Lt-Ee[Lr]-qe[Lr]-Rr+yt.altAxis,Ca=vs?Lt+Ee[Lr]+qe[Lr]-Rr-yt.altAxis:Pc,nr=ie&&vs?roe(jc,Lt,Ca):YM(ie?jc:Ns,Lt,ie?Ca:Pc);H[Ge]=nr,_e[Ge]=nr-Lt}c.modifiersData[y]=_e}}const YJ={name:"preventOverflow",enabled:!0,phase:"main",fn:Ooe,requiresIfExists:["offset"]};function Roe(a){return{scrollLeft:a.scrollLeft,scrollTop:a.scrollTop}}function Ioe(a){return a===$p(a)||!Jg(a)?cY(a):Roe(a)}function Doe(a){var c=a.getBoundingClientRect(),f=WO(c.width)/a.offsetWidth||1,y=WO(c.height)/a.offsetHeight||1;return f!==1||y!==1}function Noe(a,c,f){f===void 0&&(f=!1);var y=Jg(c),S=Jg(c)&&Doe(c),D=$w(c),I=GO(a,S,f),B={scrollLeft:0,scrollTop:0},U={x:0,y:0};return(y||!y&&!f)&&((Jb(c)!=="body"||uY(D))&&(B=Ioe(c)),Jg(c)?(U=GO(c,!0),U.x+=c.clientLeft,U.y+=c.clientTop):D&&(U.x=lY(D))),{x:I.left+B.scrollLeft-U.x,y:I.top+B.scrollTop-U.y,width:I.width,height:I.height}}function Moe(a){var c=new Map,f=new Set,y=[];a.forEach(function(D){c.set(D.name,D)});function S(D){f.add(D.name);var I=[].concat(D.requires||[],D.requiresIfExists||[]);I.forEach(function(B){if(!f.has(B)){var U=c.get(B);U&&S(U)}}),y.push(D)}return a.forEach(function(D){f.has(D.name)||S(D)}),y}function koe(a){var c=Moe(a);return $J.reduce(function(f,y){return f.concat(c.filter(function(S){return S.phase===y}))},[])}function Poe(a){var c;return function(){return c||(c=new Promise(function(f){Promise.resolve().then(function(){c=void 0,f(a())})})),c}}function Loe(a){var c=a.reduce(function(f,y){var S=f[y.name];return f[y.name]=S?Object.assign({},S,y,{options:Object.assign({},S.options,y.options),data:Object.assign({},S.data,y.data)}):y,f},{});return Object.keys(c).map(function(f){return c[f]})}var PX={placement:"bottom",modifiers:[],strategy:"absolute"};function LX(){for(var a=arguments.length,c=new Array(a),f=0;f<a;f++)c[f]=arguments[f];return!c.some(function(y){return!(y&&typeof y.getBoundingClientRect=="function")})}function BH(a){a===void 0&&(a={});var c=a,f=c.defaultModifiers,y=f===void 0?[]:f,S=c.defaultOptions,D=S===void 0?PX:S;return function(B,U,j){j===void 0&&(j=D);var Y={placement:"bottom",orderedModifiers:[],options:Object.assign({},PX,D),modifiersData:{},elements:{reference:B,popper:U},attributes:{},styles:{}},ne=[],ve=!1,ie={state:Y,setOptions:function(re){var me=typeof re=="function"?re(Y.options):re;ue(),Y.options=Object.assign({},D,Y.options,me),Y.scrollParents={reference:ux(B)?KM(B):B.contextElement?KM(B.contextElement):[],popper:KM(U)};var K=koe(Loe([].concat(y,Y.options.modifiers)));return Y.orderedModifiers=K.filter(function(De){return De.enabled}),fe(),ie.update()},forceUpdate:function(){if(!ve){var re=Y.elements,me=re.reference,K=re.popper;if(LX(me,K)){Y.rects={reference:Noe(me,sk(K),Y.options.strategy==="fixed"),popper:sY(K)},Y.reset=!1,Y.placement=Y.options.placement,Y.orderedModifiers.forEach(function(yt){return Y.modifiersData[yt.name]=Object.assign({},yt.data)});for(var De=0;De<Y.orderedModifiers.length;De++){if(Y.reset===!0){Y.reset=!1,De=-1;continue}var Ge=Y.orderedModifiers[De],H=Ge.fn,Ee=Ge.options,qe=Ee===void 0?{}:Ee,ut=Ge.name;typeof H=="function"&&(Y=H({state:Y,options:qe,name:ut,instance:ie})||Y)}}}},update:Poe(function(){return new Promise(function(ce){ie.forceUpdate(),ce(Y)})}),destroy:function(){ue(),ve=!0}};if(!LX(B,U))return ie;ie.setOptions(j).then(function(ce){!ve&&j.onFirstUpdate&&j.onFirstUpdate(ce)});function fe(){Y.orderedModifiers.forEach(function(ce){var re=ce.name,me=ce.options,K=me===void 0?{}:me,De=ce.effect;if(typeof De=="function"){var Ge=De({state:Y,name:re,instance:ie,options:K}),H=function(){};ne.push(Ge||H)}})}function ue(){ne.forEach(function(ce){return ce()}),ne=[]}return ie}}var $oe=BH(),Boe=[aY,dY,iY,oY],Foe=BH({defaultModifiers:Boe}),Hoe=[aY,dY,iY,oY,ZJ,qJ,YJ,zJ,jJ],fY=BH({defaultModifiers:Hoe});const hY=Object.freeze(Object.defineProperty({__proto__:null,afterMain:MJ,afterRead:IJ,afterWrite:LJ,applyStyles:oY,arrow:zJ,auto:LH,basePlacements:JO,beforeMain:DJ,beforeRead:OJ,beforeWrite:kJ,bottom:Pp,clippingParents:xJ,computeStyles:iY,createPopper:fY,createPopperBase:$oe,createPopperLite:Foe,detectOverflow:jO,end:zO,eventListeners:aY,flip:qJ,hide:jJ,left:gh,main:NJ,modifierPhases:$J,offset:ZJ,placements:tY,popper:DO,popperGenerator:BH,popperOffsets:dY,preventOverflow:YJ,read:RJ,reference:AJ,right:Lp,start:lx,top:ph,variationPlacements:xZ,viewport:eY,write:PJ},Symbol.toStringTag,{value:"Module"})),Voe=jne(hY);/*!
  * Bootstrap v5.3.0-alpha3 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(a,c){(function(f,y){a.exports=y(Voe)})(Iw,function(f){function y($e){const $=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if($e){for(const de in $e)if(de!=="default"){const He=Object.getOwnPropertyDescriptor($e,de);Object.defineProperty($,de,He.get?He:{enumerable:!0,get:()=>$e[de]})}}return $.default=$e,Object.freeze($)}const S=y(f),D=new Map,I={set($e,$,de){D.has($e)||D.set($e,new Map);const He=D.get($e);if(!He.has($)&&He.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(He.keys())[0]}.`);return}He.set($,de)},get($e,$){return D.has($e)&&D.get($e).get($)||null},remove($e,$){if(!D.has($e))return;const de=D.get($e);de.delete($),de.size===0&&D.delete($e)}},B=1e6,U=1e3,j="transitionend",Y=$e=>($e&&window.CSS&&window.CSS.escape&&($e=$e.replace(/#([^\s"#']+)/g,($,de)=>`#${CSS.escape(de)}`)),$e),ne=$e=>$e==null?`${$e}`:Object.prototype.toString.call($e).match(/\s([a-z]+)/i)[1].toLowerCase(),ve=$e=>{do $e+=Math.floor(Math.random()*B);while(document.getElementById($e));return $e},ie=$e=>{if(!$e)return 0;let{transitionDuration:$,transitionDelay:de}=window.getComputedStyle($e);const He=Number.parseFloat($),Ft=Number.parseFloat(de);return!He&&!Ft?0:($=$.split(",")[0],de=de.split(",")[0],(Number.parseFloat($)+Number.parseFloat(de))*U)},fe=$e=>{$e.dispatchEvent(new Event(j))},ue=$e=>!$e||typeof $e!="object"?!1:(typeof $e.jquery<"u"&&($e=$e[0]),typeof $e.nodeType<"u"),ce=$e=>ue($e)?$e.jquery?$e[0]:$e:typeof $e=="string"&&$e.length>0?document.querySelector(Y($e)):null,re=$e=>{if(!ue($e)||$e.getClientRects().length===0)return!1;const $=getComputedStyle($e).getPropertyValue("visibility")==="visible",de=$e.closest("details:not([open])");if(!de)return $;if(de!==$e){const He=$e.closest("summary");if(He&&He.parentNode!==de||He===null)return!1}return $},me=$e=>!$e||$e.nodeType!==Node.ELEMENT_NODE||$e.classList.contains("disabled")?!0:typeof $e.disabled<"u"?$e.disabled:$e.hasAttribute("disabled")&&$e.getAttribute("disabled")!=="false",K=$e=>{if(!document.documentElement.attachShadow)return null;if(typeof $e.getRootNode=="function"){const $=$e.getRootNode();return $ instanceof ShadowRoot?$:null}return $e instanceof ShadowRoot?$e:$e.parentNode?K($e.parentNode):null},De=()=>{},Ge=$e=>{$e.offsetHeight},H=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Ee=[],qe=$e=>{document.readyState==="loading"?(Ee.length||document.addEventListener("DOMContentLoaded",()=>{for(const $ of Ee)$()}),Ee.push($e)):$e()},ut=()=>document.documentElement.dir==="rtl",yt=$e=>{qe(()=>{const $=H();if($){const de=$e.NAME,He=$.fn[de];$.fn[de]=$e.jQueryInterface,$.fn[de].Constructor=$e,$.fn[de].noConflict=()=>($.fn[de]=He,$e.jQueryInterface)}})},ke=($e,$=[],de=$e)=>typeof $e=="function"?$e(...$):de,_e=($e,$,de=!0)=>{if(!de){ke($e);return}const He=5,Ft=ie($)+He;let In=!1;const dn=({target:Ko})=>{Ko===$&&(In=!0,$.removeEventListener(j,dn),ke($e))};$.addEventListener(j,dn),setTimeout(()=>{In||fe($)},Ft)},mn=($e,$,de,He)=>{const Ft=$e.length;let In=$e.indexOf($);return In===-1?!de&&He?$e[Ft-1]:$e[0]:(In+=de?1:-1,He&&(In=(In+Ft)%Ft),$e[Math.max(0,Math.min(In,Ft-1))])},wt=/[^.]*(?=\..*)\.|.*/,Ot=/\..*/,P=/::\d+$/,Rt={};let tt=1;const qt={mouseenter:"mouseover",mouseleave:"mouseout"},Vt=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function je($e,$){return $&&`${$}::${tt++}`||$e.uidEvent||tt++}function vo($e){const $=je($e);return $e.uidEvent=$,Rt[$]=Rt[$]||{},Rt[$]}function Bo($e,$){return function de(He){return gs(He,{delegateTarget:$e}),de.oneOff&&Bt.off($e,He.type,$),$.apply($e,[He])}}function ao($e,$,de){return function He(Ft){const In=$e.querySelectorAll($);for(let{target:dn}=Ft;dn&&dn!==this;dn=dn.parentNode)for(const Ko of In)if(Ko===dn)return gs(Ft,{delegateTarget:dn}),He.oneOff&&Bt.off($e,Ft.type,$,de),de.apply(dn,[Ft])}}function Fo($e,$,de=null){return Object.values($e).find(He=>He.callable===$&&He.delegationSelector===de)}function et($e,$,de){const He=typeof $=="string",Ft=He?de:$||de;let In=uo($e);return Vt.has(In)||(In=$e),[He,Ft,In]}function It($e,$,de,He,Ft){if(typeof $!="string"||!$e)return;let[In,dn,Ko]=et($,de,He);$ in qt&&(dn=(Ti=>function(tf){if(!tf.relatedTarget||tf.relatedTarget!==tf.delegateTarget&&!tf.delegateTarget.contains(tf.relatedTarget))return Ti.call(this,tf)})(dn));const We=vo($e),Gr=We[Ko]||(We[Ko]={}),ci=Fo(Gr,dn,In?de:null);if(ci){ci.oneOff=ci.oneOff&&Ft;return}const ta=je(dn,$.replace(wt,"")),Hr=In?ao($e,de,dn):Bo($e,dn);Hr.delegationSelector=In?de:null,Hr.callable=dn,Hr.oneOff=Ft,Hr.uidEvent=ta,Gr[ta]=Hr,$e.addEventListener(Ko,Hr,In)}function oe($e,$,de,He,Ft){const In=Fo($[de],He,Ft);In&&($e.removeEventListener(de,In,!!Ft),delete $[de][In.uidEvent])}function cs($e,$,de,He){const Ft=$[de]||{};for(const[In,dn]of Object.entries(Ft))In.includes(He)&&oe($e,$,de,dn.callable,dn.delegationSelector)}function uo($e){return $e=$e.replace(Ot,""),qt[$e]||$e}const Bt={on($e,$,de,He){It($e,$,de,He,!1)},one($e,$,de,He){It($e,$,de,He,!0)},off($e,$,de,He){if(typeof $!="string"||!$e)return;const[Ft,In,dn]=et($,de,He),Ko=dn!==$,We=vo($e),Gr=We[dn]||{},ci=$.startsWith(".");if(typeof In<"u"){if(!Object.keys(Gr).length)return;oe($e,We,dn,In,Ft?de:null);return}if(ci)for(const ta of Object.keys(We))cs($e,We,ta,$.slice(1));for(const[ta,Hr]of Object.entries(Gr)){const li=ta.replace(P,"");(!Ko||$.includes(li))&&oe($e,We,dn,Hr.callable,Hr.delegationSelector)}},trigger($e,$,de){if(typeof $!="string"||!$e)return null;const He=H(),Ft=uo($),In=$!==Ft;let dn=null,Ko=!0,We=!0,Gr=!1;In&&He&&(dn=He.Event($,de),He($e).trigger(dn),Ko=!dn.isPropagationStopped(),We=!dn.isImmediatePropagationStopped(),Gr=dn.isDefaultPrevented());const ci=gs(new Event($,{bubbles:Ko,cancelable:!0}),de);return Gr&&ci.preventDefault(),We&&$e.dispatchEvent(ci),ci.defaultPrevented&&dn&&dn.preventDefault(),ci}};function gs($e,$={}){for(const[de,He]of Object.entries($))try{$e[de]=He}catch{Object.defineProperty($e,de,{configurable:!0,get(){return He}})}return $e}function Xa($e){if($e==="true")return!0;if($e==="false")return!1;if($e===Number($e).toString())return Number($e);if($e===""||$e==="null")return null;if(typeof $e!="string")return $e;try{return JSON.parse(decodeURIComponent($e))}catch{return $e}}function kn($e){return $e.replace(/[A-Z]/g,$=>`-${$.toLowerCase()}`)}const ko={setDataAttribute($e,$,de){$e.setAttribute(`data-bs-${kn($)}`,de)},removeDataAttribute($e,$){$e.removeAttribute(`data-bs-${kn($)}`)},getDataAttributes($e){if(!$e)return{};const $={},de=Object.keys($e.dataset).filter(He=>He.startsWith("bs")&&!He.startsWith("bsConfig"));for(const He of de){let Ft=He.replace(/^bs/,"");Ft=Ft.charAt(0).toLowerCase()+Ft.slice(1,Ft.length),$[Ft]=Xa($e.dataset[He])}return $},getDataAttribute($e,$){return Xa($e.getAttribute(`data-bs-${kn($)}`))}};class Yt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig($){return $=this._mergeConfigObj($),$=this._configAfterMerge($),this._typeCheckConfig($),$}_configAfterMerge($){return $}_mergeConfigObj($,de){const He=ue(de)?ko.getDataAttribute(de,"config"):{};return{...this.constructor.Default,...typeof He=="object"?He:{},...ue(de)?ko.getDataAttributes(de):{},...typeof $=="object"?$:{}}}_typeCheckConfig($,de=this.constructor.DefaultType){for(const[He,Ft]of Object.entries(de)){const In=$[He],dn=ue(In)?"element":ne(In);if(!new RegExp(Ft).test(dn))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${He}" provided type "${dn}" but expected type "${Ft}".`)}}}const mt="5.3.0-alpha2";class gi extends Yt{constructor($,de){super(),$=ce($),$&&(this._element=$,this._config=this._getConfig(de),I.set(this._element,this.constructor.DATA_KEY,this))}dispose(){I.remove(this._element,this.constructor.DATA_KEY),Bt.off(this._element,this.constructor.EVENT_KEY);for(const $ of Object.getOwnPropertyNames(this))this[$]=null}_queueCallback($,de,He=!0){_e($,de,He)}_getConfig($){return $=this._mergeConfigObj($,this._element),$=this._configAfterMerge($),this._typeCheckConfig($),$}static getInstance($){return I.get(ce($),this.DATA_KEY)}static getOrCreateInstance($,de={}){return this.getInstance($)||new this($,typeof de=="object"?de:null)}static get VERSION(){return mt}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName($){return`${$}${this.EVENT_KEY}`}}const vi=$e=>{let $=$e.getAttribute("data-bs-target");if(!$||$==="#"){let de=$e.getAttribute("href");if(!de||!de.includes("#")&&!de.startsWith("."))return null;de.includes("#")&&!de.startsWith("#")&&(de=`#${de.split("#")[1]}`),$=de&&de!=="#"?de.trim():null}return Y($)},Lt={find($e,$=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call($,$e))},findOne($e,$=document.documentElement){return Element.prototype.querySelector.call($,$e)},children($e,$){return[].concat(...$e.children).filter(de=>de.matches($))},parents($e,$){const de=[];let He=$e.parentNode.closest($);for(;He;)de.push(He),He=He.parentNode.closest($);return de},prev($e,$){let de=$e.previousElementSibling;for(;de;){if(de.matches($))return[de];de=de.previousElementSibling}return[]},next($e,$){let de=$e.nextElementSibling;for(;de;){if(de.matches($))return[de];de=de.nextElementSibling}return[]},focusableChildren($e){const $=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(de=>`${de}:not([tabindex^="-"])`).join(",");return this.find($,$e).filter(de=>!me(de)&&re(de))},getSelectorFromElement($e){const $=vi($e);return $&&Lt.findOne($)?$:null},getElementFromSelector($e){const $=vi($e);return $?Lt.findOne($):null},getMultipleElementsFromSelector($e){const $=vi($e);return $?Lt.find($):[]}},Lr=($e,$="hide")=>{const de=`click.dismiss${$e.EVENT_KEY}`,He=$e.NAME;Bt.on(document,de,`[data-bs-dismiss="${He}"]`,function(Ft){if(["A","AREA"].includes(this.tagName)&&Ft.preventDefault(),me(this))return;const In=Lt.getElementFromSelector(this)||this.closest(`.${He}`);$e.getOrCreateInstance(In)[$]()})},Ns="alert",vs=".bs.alert",Rr=`close${vs}`,jc=`closed${vs}`,Ca="fade",nr="show";class Os extends gi{static get NAME(){return Ns}close(){if(Bt.trigger(this._element,Rr).defaultPrevented)return;this._element.classList.remove(nr);const de=this._element.classList.contains(Ca);this._queueCallback(()=>this._destroyElement(),this._element,de)}_destroyElement(){this._element.remove(),Bt.trigger(this._element,jc),this.dispose()}static jQueryInterface($){return this.each(function(){const de=Os.getOrCreateInstance(this);if(typeof $=="string"){if(de[$]===void 0||$.startsWith("_")||$==="constructor")throw new TypeError(`No method named "${$}"`);de[$](this)}})}}Lr(Os,"close"),yt(Os);const rd="button",Ms=".bs.button",fl=".data-api",Ii="active",Zc='[data-bs-toggle="button"]',vr=`click${Ms}${fl}`;class $r extends gi{static get NAME(){return rd}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Ii))}static jQueryInterface($){return this.each(function(){const de=$r.getOrCreateInstance(this);$==="toggle"&&de[$]()})}}Bt.on(document,vr,Zc,$e=>{$e.preventDefault();const $=$e.target.closest(Zc);$r.getOrCreateInstance($).toggle()}),yt($r);const Gd="swipe",bi=".bs.swipe",yh=`touchstart${bi}`,an=`touchmove${bi}`,Ho=`touchend${bi}`,ca=`pointerdown${bi}`,gc=`pointerup${bi}`,_h="touch",au="pen",ks="pointer-event",id=40,qd={endCallback:null,leftCallback:null,rightCallback:null},Xs={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class qn extends Yt{constructor($,de){super(),this._element=$,!(!$||!qn.isSupported())&&(this._config=this._getConfig(de),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return qd}static get DefaultType(){return Xs}static get NAME(){return Gd}dispose(){Bt.off(this._element,bi)}_start($){if(!this._supportPointerEvents){this._deltaX=$.touches[0].clientX;return}this._eventIsPointerPenTouch($)&&(this._deltaX=$.clientX)}_end($){this._eventIsPointerPenTouch($)&&(this._deltaX=$.clientX-this._deltaX),this._handleSwipe(),ke(this._config.endCallback)}_move($){this._deltaX=$.touches&&$.touches.length>1?0:$.touches[0].clientX-this._deltaX}_handleSwipe(){const $=Math.abs(this._deltaX);if($<=id)return;const de=$/this._deltaX;this._deltaX=0,de&&ke(de>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Bt.on(this._element,ca,$=>this._start($)),Bt.on(this._element,gc,$=>this._end($)),this._element.classList.add(ks)):(Bt.on(this._element,yh,$=>this._start($)),Bt.on(this._element,an,$=>this._move($)),Bt.on(this._element,Ho,$=>this._end($)))}_eventIsPointerPenTouch($){return this._supportPointerEvents&&($.pointerType===au||$.pointerType===_h)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Qa="carousel",Yc=".bs.carousel",Eh=".data-api",Di="ArrowLeft",Ki="ArrowRight",Ur=500,Fa="next",Kc="prev",vc="left",Sa="right",Br=`slide${Yc}`,bc=`slid${Yc}`,hl=`keydown${Yc}`,Bp=`mouseenter${Yc}`,Fp=`mouseleave${Yc}`,Ll=`dragstart${Yc}`,Tm=`load${Yc}${Eh}`,Qe=`click${Yc}${Eh}`,yi="carousel",cu="active",Hp="slide",wh="carousel-item-end",Fs="carousel-item-start",jd="carousel-item-next",Cm="carousel-item-prev",Xi=".active",Xc=".carousel-item",oi=Xi+Xc,_i=".carousel-item img",lu=".carousel-indicators",Ja="[data-bs-slide], [data-bs-slide-to]",uu='[data-bs-ride="carousel"]',$l={[Di]:Sa,[Ki]:vc},ad={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Cs={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class si extends gi{constructor($,de){super($,de),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Lt.findOne(lu,this._element),this._addEventListeners(),this._config.ride===yi&&this.cycle()}static get Default(){return ad}static get DefaultType(){return Cs}static get NAME(){return Qa}next(){this._slide(Fa)}nextWhenVisible(){!document.hidden&&re(this._element)&&this.next()}prev(){this._slide(Kc)}pause(){this._isSliding&&fe(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){Bt.one(this._element,bc,()=>this.cycle());return}this.cycle()}}to($){const de=this._getItems();if($>de.length-1||$<0)return;if(this._isSliding){Bt.one(this._element,bc,()=>this.to($));return}const He=this._getItemIndex(this._getActive());if(He===$)return;const Ft=$>He?Fa:Kc;this._slide(Ft,de[$])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge($){return $.defaultInterval=$.interval,$}_addEventListeners(){this._config.keyboard&&Bt.on(this._element,hl,$=>this._keydown($)),this._config.pause==="hover"&&(Bt.on(this._element,Bp,()=>this.pause()),Bt.on(this._element,Fp,()=>this._maybeEnableCycle())),this._config.touch&&qn.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const He of Lt.find(_i,this._element))Bt.on(He,Ll,Ft=>Ft.preventDefault());const de={leftCallback:()=>this._slide(this._directionToOrder(vc)),rightCallback:()=>this._slide(this._directionToOrder(Sa)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Ur+this._config.interval))}};this._swipeHelper=new qn(this._element,de)}_keydown($){if(/input|textarea/i.test($.target.tagName))return;const de=$l[$.key];de&&($.preventDefault(),this._slide(this._directionToOrder(de)))}_getItemIndex($){return this._getItems().indexOf($)}_setActiveIndicatorElement($){if(!this._indicatorsElement)return;const de=Lt.findOne(Xi,this._indicatorsElement);de.classList.remove(cu),de.removeAttribute("aria-current");const He=Lt.findOne(`[data-bs-slide-to="${$}"]`,this._indicatorsElement);He&&(He.classList.add(cu),He.setAttribute("aria-current","true"))}_updateInterval(){const $=this._activeElement||this._getActive();if(!$)return;const de=Number.parseInt($.getAttribute("data-bs-interval"),10);this._config.interval=de||this._config.defaultInterval}_slide($,de=null){if(this._isSliding)return;const He=this._getActive(),Ft=$===Fa,In=de||mn(this._getItems(),He,Ft,this._config.wrap);if(In===He)return;const dn=this._getItemIndex(In),Ko=li=>Bt.trigger(this._element,li,{relatedTarget:In,direction:this._orderToDirection($),from:this._getItemIndex(He),to:dn});if(Ko(Br).defaultPrevented||!He||!In)return;const Gr=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(dn),this._activeElement=In;const ci=Ft?Fs:wh,ta=Ft?jd:Cm;In.classList.add(ta),Ge(In),He.classList.add(ci),In.classList.add(ci);const Hr=()=>{In.classList.remove(ci,ta),In.classList.add(cu),He.classList.remove(cu,ta,ci),this._isSliding=!1,Ko(bc)};this._queueCallback(Hr,He,this._isAnimated()),Gr&&this.cycle()}_isAnimated(){return this._element.classList.contains(Hp)}_getActive(){return Lt.findOne(oi,this._element)}_getItems(){return Lt.find(Xc,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder($){return ut()?$===vc?Kc:Fa:$===vc?Fa:Kc}_orderToDirection($){return ut()?$===Kc?vc:Sa:$===Kc?Sa:vc}static jQueryInterface($){return this.each(function(){const de=si.getOrCreateInstance(this,$);if(typeof $=="number"){de.to($);return}if(typeof $=="string"){if(de[$]===void 0||$.startsWith("_")||$==="constructor")throw new TypeError(`No method named "${$}"`);de[$]()}})}}Bt.on(document,Qe,Ja,function($e){const $=Lt.getElementFromSelector(this);if(!$||!$.classList.contains(yi))return;$e.preventDefault();const de=si.getOrCreateInstance($),He=this.getAttribute("data-bs-slide-to");if(He){de.to(He),de._maybeEnableCycle();return}if(ko.getDataAttribute(this,"slide")==="next"){de.next(),de._maybeEnableCycle();return}de.prev(),de._maybeEnableCycle()}),Bt.on(window,Tm,()=>{const $e=Lt.find(uu);for(const $ of $e)si.getOrCreateInstance($)}),yt(si);const Qc="collapse",xa=".bs.collapse",yc=".data-api",br=`show${xa}`,ld=`shown${xa}`,du=`hide${xa}`,bs=`hidden${xa}`,ec=`click${xa}${yc}`,ri="show",Fr="collapse",Jc="collapsing",Iu="collapsed",_c=`:scope .${Fr} .${Fr}`,Lc="collapse-horizontal",Df="width",Th="height",Vp=".collapse.show, .collapse.collapsing",tc='[data-bs-toggle="collapse"]',Du={parent:null,toggle:!0},Ch={parent:"(null|element)",toggle:"boolean"};class Nu extends gi{constructor($,de){super($,de),this._isTransitioning=!1,this._triggerArray=[];const He=Lt.find(tc);for(const Ft of He){const In=Lt.getSelectorFromElement(Ft),dn=Lt.find(In).filter(Ko=>Ko===this._element);In!==null&&dn.length&&this._triggerArray.push(Ft)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Du}static get DefaultType(){return Ch}static get NAME(){return Qc}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let $=[];if(this._config.parent&&($=this._getFirstLevelChildren(Vp).filter(Ko=>Ko!==this._element).map(Ko=>Nu.getOrCreateInstance(Ko,{toggle:!1}))),$.length&&$[0]._isTransitioning||Bt.trigger(this._element,br).defaultPrevented)return;for(const Ko of $)Ko.hide();const He=this._getDimension();this._element.classList.remove(Fr),this._element.classList.add(Jc),this._element.style[He]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const Ft=()=>{this._isTransitioning=!1,this._element.classList.remove(Jc),this._element.classList.add(Fr,ri),this._element.style[He]="",Bt.trigger(this._element,ld)},dn=`scroll${He[0].toUpperCase()+He.slice(1)}`;this._queueCallback(Ft,this._element,!0),this._element.style[He]=`${this._element[dn]}px`}hide(){if(this._isTransitioning||!this._isShown()||Bt.trigger(this._element,du).defaultPrevented)return;const de=this._getDimension();this._element.style[de]=`${this._element.getBoundingClientRect()[de]}px`,Ge(this._element),this._element.classList.add(Jc),this._element.classList.remove(Fr,ri);for(const Ft of this._triggerArray){const In=Lt.getElementFromSelector(Ft);In&&!this._isShown(In)&&this._addAriaAndCollapsedClass([Ft],!1)}this._isTransitioning=!0;const He=()=>{this._isTransitioning=!1,this._element.classList.remove(Jc),this._element.classList.add(Fr),Bt.trigger(this._element,bs)};this._element.style[de]="",this._queueCallback(He,this._element,!0)}_isShown($=this._element){return $.classList.contains(ri)}_configAfterMerge($){return $.toggle=!!$.toggle,$.parent=ce($.parent),$}_getDimension(){return this._element.classList.contains(Lc)?Df:Th}_initializeChildren(){if(!this._config.parent)return;const $=this._getFirstLevelChildren(tc);for(const de of $){const He=Lt.getElementFromSelector(de);He&&this._addAriaAndCollapsedClass([de],this._isShown(He))}}_getFirstLevelChildren($){const de=Lt.find(_c,this._config.parent);return Lt.find($,this._config.parent).filter(He=>!de.includes(He))}_addAriaAndCollapsedClass($,de){if($.length)for(const He of $)He.classList.toggle(Iu,!de),He.setAttribute("aria-expanded",de)}static jQueryInterface($){const de={};return typeof $=="string"&&/show|hide/.test($)&&(de.toggle=!1),this.each(function(){const He=Nu.getOrCreateInstance(this,de);if(typeof $=="string"){if(typeof He[$]>"u")throw new TypeError(`No method named "${$}"`);He[$]()}})}}Bt.on(document,ec,tc,function($e){($e.target.tagName==="A"||$e.delegateTarget&&$e.delegateTarget.tagName==="A")&&$e.preventDefault();for(const $ of Lt.getMultipleElementsFromSelector(this))Nu.getOrCreateInstance($,{toggle:!1}).toggle()}),yt(Nu);const Nf="dropdown",Mu=".bs.dropdown",ku=".data-api",Aa="Escape",Ni="Tab",Pu="ArrowUp",Mf="ArrowDown",Up=2,Hs=`hide${Mu}`,yr=`hidden${Mu}`,nc=`show${Mu}`,Qi=`shown${Mu}`,ml=`click${Mu}${ku}`,$c=`keydown${Mu}${ku}`,co=`keyup${Mu}${ku}`,Do="show",Mi="dropup",Kr="dropend",la="dropstart",T="dropup-center",N="dropdown-center",V='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',W=`${V}.${Do}`,J=".dropdown-menu",le=".navbar",ye=".navbar-nav",we=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Pe=ut()?"top-end":"top-start",rt=ut()?"top-start":"top-end",_t=ut()?"bottom-end":"bottom-start",Kt=ut()?"bottom-start":"bottom-end",st=ut()?"left-start":"right-start",Nt=ut()?"right-start":"left-start",Jn="top",Zn="bottom",Tn={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},lr={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Gs extends gi{constructor($,de){super($,de),this._popper=null,this._parent=this._element.parentNode,this._menu=Lt.next(this._element,J)[0]||Lt.prev(this._element,J)[0]||Lt.findOne(J,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Tn}static get DefaultType(){return lr}static get NAME(){return Nf}toggle(){return this._isShown()?this.hide():this.show()}show(){if(me(this._element)||this._isShown())return;const $={relatedTarget:this._element};if(!Bt.trigger(this._element,nc,$).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(ye))for(const He of[].concat(...document.body.children))Bt.on(He,"mouseover",De);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Do),this._element.classList.add(Do),Bt.trigger(this._element,Qi,$)}}hide(){if(me(this._element)||!this._isShown())return;const $={relatedTarget:this._element};this._completeHide($)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide($){if(!Bt.trigger(this._element,Hs,$).defaultPrevented){if("ontouchstart"in document.documentElement)for(const He of[].concat(...document.body.children))Bt.off(He,"mouseover",De);this._popper&&this._popper.destroy(),this._menu.classList.remove(Do),this._element.classList.remove(Do),this._element.setAttribute("aria-expanded","false"),ko.removeDataAttribute(this._menu,"popper"),Bt.trigger(this._element,yr,$)}}_getConfig($){if($=super._getConfig($),typeof $.reference=="object"&&!ue($.reference)&&typeof $.reference.getBoundingClientRect!="function")throw new TypeError(`${Nf.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return $}_createPopper(){if(typeof S>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let $=this._element;this._config.reference==="parent"?$=this._parent:ue(this._config.reference)?$=ce(this._config.reference):typeof this._config.reference=="object"&&($=this._config.reference);const de=this._getPopperConfig();this._popper=S.createPopper($,this._menu,de)}_isShown(){return this._menu.classList.contains(Do)}_getPlacement(){const $=this._parent;if($.classList.contains(Kr))return st;if($.classList.contains(la))return Nt;if($.classList.contains(T))return Jn;if($.classList.contains(N))return Zn;const de=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return $.classList.contains(Mi)?de?rt:Pe:de?Kt:_t}_detectNavbar(){return this._element.closest(le)!==null}_getOffset(){const{offset:$}=this._config;return typeof $=="string"?$.split(",").map(de=>Number.parseInt(de,10)):typeof $=="function"?de=>$(de,this._element):$}_getPopperConfig(){const $={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(ko.setDataAttribute(this._menu,"popper","static"),$.modifiers=[{name:"applyStyles",enabled:!1}]),{...$,...ke(this._config.popperConfig,[$])}}_selectMenuItem({key:$,target:de}){const He=Lt.find(we,this._menu).filter(Ft=>re(Ft));He.length&&mn(He,de,$===Mf,!He.includes(de)).focus()}static jQueryInterface($){return this.each(function(){const de=Gs.getOrCreateInstance(this,$);if(typeof $=="string"){if(typeof de[$]>"u")throw new TypeError(`No method named "${$}"`);de[$]()}})}static clearMenus($){if($.button===Up||$.type==="keyup"&&$.key!==Ni)return;const de=Lt.find(W);for(const He of de){const Ft=Gs.getInstance(He);if(!Ft||Ft._config.autoClose===!1)continue;const In=$.composedPath(),dn=In.includes(Ft._menu);if(In.includes(Ft._element)||Ft._config.autoClose==="inside"&&!dn||Ft._config.autoClose==="outside"&&dn||Ft._menu.contains($.target)&&($.type==="keyup"&&$.key===Ni||/input|select|option|textarea|form/i.test($.target.tagName)))continue;const Ko={relatedTarget:Ft._element};$.type==="click"&&(Ko.clickEvent=$),Ft._completeHide(Ko)}}static dataApiKeydownHandler($){const de=/input|textarea/i.test($.target.tagName),He=$.key===Aa,Ft=[Pu,Mf].includes($.key);if(!Ft&&!He||de&&!He)return;$.preventDefault();const In=this.matches(V)?this:Lt.prev(this,V)[0]||Lt.next(this,V)[0]||Lt.findOne(V,$.delegateTarget.parentNode),dn=Gs.getOrCreateInstance(In);if(Ft){$.stopPropagation(),dn.show(),dn._selectMenuItem($);return}dn._isShown()&&($.stopPropagation(),dn.hide(),In.focus())}}Bt.on(document,$c,V,Gs.dataApiKeydownHandler),Bt.on(document,$c,J,Gs.dataApiKeydownHandler),Bt.on(document,ml,Gs.clearMenus),Bt.on(document,co,Gs.clearMenus),Bt.on(document,ml,V,function($e){$e.preventDefault(),Gs.getOrCreateInstance(this).toggle()}),yt(Gs);const ls="backdrop",Kn="fade",eo="show",ki=`mousedown.bs.${ls}`,Ao={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},_r={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Bl extends Yt{constructor($){super(),this._config=this._getConfig($),this._isAppended=!1,this._element=null}static get Default(){return Ao}static get DefaultType(){return _r}static get NAME(){return ls}show($){if(!this._config.isVisible){ke($);return}this._append();const de=this._getElement();this._config.isAnimated&&Ge(de),de.classList.add(eo),this._emulateAnimation(()=>{ke($)})}hide($){if(!this._config.isVisible){ke($);return}this._getElement().classList.remove(eo),this._emulateAnimation(()=>{this.dispose(),ke($)})}dispose(){this._isAppended&&(Bt.off(this._element,ki),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const $=document.createElement("div");$.className=this._config.className,this._config.isAnimated&&$.classList.add(Kn),this._element=$}return this._element}_configAfterMerge($){return $.rootElement=ce($.rootElement),$}_append(){if(this._isAppended)return;const $=this._getElement();this._config.rootElement.append($),Bt.on($,ki,()=>{ke(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation($){_e($,this._getElement(),this._config.isAnimated)}}const Vs="focustrap",Ir=".bs.focustrap",Bc=`focusin${Ir}`,Ei=`keydown.tab${Ir}`,is="Tab",dr="forward",Oa="backward",kf={autofocus:!0,trapElement:null},Fc={autofocus:"boolean",trapElement:"element"};class Ec extends Yt{constructor($){super(),this._config=this._getConfig($),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return kf}static get DefaultType(){return Fc}static get NAME(){return Vs}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Bt.off(document,Ir),Bt.on(document,Bc,$=>this._handleFocusin($)),Bt.on(document,Ei,$=>this._handleKeydown($)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Bt.off(document,Ir))}_handleFocusin($){const{trapElement:de}=this._config;if($.target===document||$.target===de||de.contains($.target))return;const He=Lt.focusableChildren(de);He.length===0?de.focus():this._lastTabNavDirection===Oa?He[He.length-1].focus():He[0].focus()}_handleKeydown($){$.key===is&&(this._lastTabNavDirection=$.shiftKey?Oa:dr)}}const ho=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",zr=".sticky-top",Pi="padding-right",oc="margin-right";class Ji{constructor(){this._element=document.body}getWidth(){const $=document.documentElement.clientWidth;return Math.abs(window.innerWidth-$)}hide(){const $=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Pi,de=>de+$),this._setElementAttributes(ho,Pi,de=>de+$),this._setElementAttributes(zr,oc,de=>de-$)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Pi),this._resetElementAttributes(ho,Pi),this._resetElementAttributes(zr,oc)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes($,de,He){const Ft=this.getWidth(),In=dn=>{if(dn!==this._element&&window.innerWidth>dn.clientWidth+Ft)return;this._saveInitialAttribute(dn,de);const Ko=window.getComputedStyle(dn).getPropertyValue(de);dn.style.setProperty(de,`${He(Number.parseFloat(Ko))}px`)};this._applyManipulationCallback($,In)}_saveInitialAttribute($,de){const He=$.style.getPropertyValue(de);He&&ko.setDataAttribute($,de,He)}_resetElementAttributes($,de){const He=Ft=>{const In=ko.getDataAttribute(Ft,de);if(In===null){Ft.style.removeProperty(de);return}ko.removeDataAttribute(Ft,de),Ft.style.setProperty(de,In)};this._applyManipulationCallback($,He)}_applyManipulationCallback($,de){if(ue($)){de($);return}for(const He of Lt.find($,this._element))de(He)}}const fr="modal",Ra=".bs.modal",ud=".data-api",Sh="Escape",zp=`hide${Ra}`,Fl=`hidePrevented${Ra}`,fu=`hidden${Ra}`,Zd=`show${Ra}`,wi=`shown${Ra}`,dd=`resize${Ra}`,fd=`click.dismiss${Ra}`,Lu=`mousedown.dismiss${Ra}`,sc=`keydown.dismiss${Ra}`,ua=`click${Ra}${ud}`,hu="modal-open",hd="fade",xh="show",Ah="modal-static",ws=".modal.show",wc=".modal-dialog",Ie=".modal-body",rc='[data-bs-toggle="modal"]',da={backdrop:!0,focus:!0,keyboard:!0},Oh={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class md extends gi{constructor($,de){super($,de),this._dialog=Lt.findOne(wc,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Ji,this._addEventListeners()}static get Default(){return da}static get DefaultType(){return Oh}static get NAME(){return fr}toggle($){return this._isShown?this.hide():this.show($)}show($){this._isShown||this._isTransitioning||Bt.trigger(this._element,Zd,{relatedTarget:$}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(hu),this._adjustDialog(),this._backdrop.show(()=>this._showElement($)))}hide(){!this._isShown||this._isTransitioning||Bt.trigger(this._element,zp).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(xh),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Bt.off(window,Ra),Bt.off(this._dialog,Ra),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Bl({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Ec({trapElement:this._element})}_showElement($){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const de=Lt.findOne(Ie,this._dialog);de&&(de.scrollTop=0),Ge(this._element),this._element.classList.add(xh);const He=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Bt.trigger(this._element,wi,{relatedTarget:$})};this._queueCallback(He,this._dialog,this._isAnimated())}_addEventListeners(){Bt.on(this._element,sc,$=>{if($.key===Sh){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),Bt.on(window,dd,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Bt.on(this._element,Lu,$=>{Bt.one(this._element,fd,de=>{if(!(this._element!==$.target||this._element!==de.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(hu),this._resetAdjustments(),this._scrollBar.reset(),Bt.trigger(this._element,fu)})}_isAnimated(){return this._element.classList.contains(hd)}_triggerBackdropTransition(){if(Bt.trigger(this._element,Fl).defaultPrevented)return;const de=this._element.scrollHeight>document.documentElement.clientHeight,He=this._element.style.overflowY;He==="hidden"||this._element.classList.contains(Ah)||(de||(this._element.style.overflowY="hidden"),this._element.classList.add(Ah),this._queueCallback(()=>{this._element.classList.remove(Ah),this._queueCallback(()=>{this._element.style.overflowY=He},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const $=this._element.scrollHeight>document.documentElement.clientHeight,de=this._scrollBar.getWidth(),He=de>0;if(He&&!$){const Ft=ut()?"paddingLeft":"paddingRight";this._element.style[Ft]=`${de}px`}if(!He&&$){const Ft=ut()?"paddingRight":"paddingLeft";this._element.style[Ft]=`${de}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface($,de){return this.each(function(){const He=md.getOrCreateInstance(this,$);if(typeof $=="string"){if(typeof He[$]>"u")throw new TypeError(`No method named "${$}"`);He[$](de)}})}}Bt.on(document,ua,rc,function($e){const $=Lt.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&$e.preventDefault(),Bt.one($,Zd,Ft=>{Ft.defaultPrevented||Bt.one($,fu,()=>{re(this)&&this.focus()})});const de=Lt.findOne(ws);de&&md.getInstance(de).hide(),md.getOrCreateInstance($).toggle(this)}),Lr(md),yt(md);const o1="offcanvas",Je=".bs.offcanvas",Mt=".data-api",At=`load${Je}${Mt}`,Un="Escape",_o="show",Vo="showing",Xr="hiding",qs="offcanvas-backdrop",pd=".offcanvas.show",Tc=`show${Je}`,Ia=`shown${Je}`,Se=`hide${Je}`,Le=`hidePrevented${Je}`,ze=`hidden${Je}`,Ht=`resize${Je}`,lt=`click${Je}${Mt}`,Ct=`keydown.dismiss${Je}`,Xt='[data-bs-toggle="offcanvas"]',xn={backdrop:!0,keyboard:!0,scroll:!1},Nn={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class to extends gi{constructor($,de){super($,de),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return xn}static get DefaultType(){return Nn}static get NAME(){return o1}toggle($){return this._isShown?this.hide():this.show($)}show($){if(this._isShown||Bt.trigger(this._element,Tc,{relatedTarget:$}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Ji().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Vo);const He=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(_o),this._element.classList.remove(Vo),Bt.trigger(this._element,Ia,{relatedTarget:$})};this._queueCallback(He,this._element,!0)}hide(){if(!this._isShown||Bt.trigger(this._element,Se).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Xr),this._backdrop.hide();const de=()=>{this._element.classList.remove(_o,Xr),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Ji().reset(),Bt.trigger(this._element,ze)};this._queueCallback(de,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const $=()=>{if(this._config.backdrop==="static"){Bt.trigger(this._element,Le);return}this.hide()},de=!!this._config.backdrop;return new Bl({className:qs,isVisible:de,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:de?$:null})}_initializeFocusTrap(){return new Ec({trapElement:this._element})}_addEventListeners(){Bt.on(this._element,Ct,$=>{if($.key===Un){if(this._config.keyboard){this.hide();return}Bt.trigger(this._element,Le)}})}static jQueryInterface($){return this.each(function(){const de=to.getOrCreateInstance(this,$);if(typeof $=="string"){if(de[$]===void 0||$.startsWith("_")||$==="constructor")throw new TypeError(`No method named "${$}"`);de[$](this)}})}}Bt.on(document,lt,Xt,function($e){const $=Lt.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&$e.preventDefault(),me(this))return;Bt.one($,ze,()=>{re(this)&&this.focus()});const de=Lt.findOne(pd);de&&de!==$&&to.getInstance(de).hide(),to.getOrCreateInstance($).toggle(this)}),Bt.on(window,At,()=>{for(const $e of Lt.find(pd))to.getOrCreateInstance($e).show()}),Bt.on(window,Ht,()=>{for(const $e of Lt.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle($e).position!=="fixed"&&to.getOrCreateInstance($e).hide()}),Lr(to),yt(to);const bo=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),so=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Zo=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Rs=($e,$)=>{const de=$e.nodeName.toLowerCase();return $.includes(de)?bo.has(de)?!!(so.test($e.nodeValue)||Zo.test($e.nodeValue)):!0:$.filter(He=>He instanceof RegExp).some(He=>He.test(de))},Li={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function $i($e,$,de){if(!$e.length)return $e;if(de&&typeof de=="function")return de($e);const Ft=new window.DOMParser().parseFromString($e,"text/html"),In=[].concat(...Ft.body.querySelectorAll("*"));for(const dn of In){const Ko=dn.nodeName.toLowerCase();if(!Object.keys($).includes(Ko)){dn.remove();continue}const We=[].concat(...dn.attributes),Gr=[].concat($["*"]||[],$[Ko]||[]);for(const ci of We)Rs(ci,Gr)||dn.removeAttribute(ci.nodeName)}return Ft.body.innerHTML}const Va="TemplateFactory",Qs={allowList:Li,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Hl={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Ps={entry:"(string|element|function|null)",selector:"(string|element)"};class es extends Yt{constructor($){super(),this._config=this._getConfig($)}static get Default(){return Qs}static get DefaultType(){return Hl}static get NAME(){return Va}getContent(){return Object.values(this._config.content).map($=>this._resolvePossibleFunction($)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent($){return this._checkContent($),this._config.content={...this._config.content,...$},this}toHtml(){const $=document.createElement("div");$.innerHTML=this._maybeSanitize(this._config.template);for(const[Ft,In]of Object.entries(this._config.content))this._setContent($,In,Ft);const de=$.children[0],He=this._resolvePossibleFunction(this._config.extraClass);return He&&de.classList.add(...He.split(" ")),de}_typeCheckConfig($){super._typeCheckConfig($),this._checkContent($.content)}_checkContent($){for(const[de,He]of Object.entries($))super._typeCheckConfig({selector:de,entry:He},Ps)}_setContent($,de,He){const Ft=Lt.findOne(He,$);if(Ft){if(de=this._resolvePossibleFunction(de),!de){Ft.remove();return}if(ue(de)){this._putElementInTemplate(ce(de),Ft);return}if(this._config.html){Ft.innerHTML=this._maybeSanitize(de);return}Ft.textContent=de}}_maybeSanitize($){return this._config.sanitize?$i($,this._config.allowList,this._config.sanitizeFn):$}_resolvePossibleFunction($){return ke($,[this])}_putElementInTemplate($,de){if(this._config.html){de.innerHTML="",de.append($);return}de.textContent=$.textContent}}const pl="tooltip",xm=new Set(["sanitize","allowList","sanitizeFn"]),s1="fade",Da="modal",Yd="show",Vl=".tooltip-inner",el=`.${Da}`,Kd="hide.bs.modal",ro="hover",fa="focus",Rh="click",Ev="manual",ii="hide",ha="hidden",$u="show",gl="shown",Na="inserted",tl="click",ea="focusin",Am="focusout",us="mouseenter",nl="mouseleave",Ul={AUTO:"auto",TOP:"top",RIGHT:ut()?"left":"right",BOTTOM:"bottom",LEFT:ut()?"right":"left"},Er={allowList:Li,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Om={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class zl extends gi{constructor($,de){if(typeof S>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super($,de),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Er}static get DefaultType(){return Om}static get NAME(){return pl}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),Bt.off(this._element.closest(el),Kd,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const $=Bt.trigger(this._element,this.constructor.eventName($u)),He=(K(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if($.defaultPrevented||!He)return;this._disposePopper();const Ft=this._getTipElement();this._element.setAttribute("aria-describedby",Ft.getAttribute("id"));const{container:In}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(In.append(Ft),Bt.trigger(this._element,this.constructor.eventName(Na))),this._popper=this._createPopper(Ft),Ft.classList.add(Yd),"ontouchstart"in document.documentElement)for(const Ko of[].concat(...document.body.children))Bt.on(Ko,"mouseover",De);const dn=()=>{Bt.trigger(this._element,this.constructor.eventName(gl)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(dn,this.tip,this._isAnimated())}hide(){if(!this._isShown()||Bt.trigger(this._element,this.constructor.eventName(ii)).defaultPrevented)return;if(this._getTipElement().classList.remove(Yd),"ontouchstart"in document.documentElement)for(const Ft of[].concat(...document.body.children))Bt.off(Ft,"mouseover",De);this._activeTrigger[Rh]=!1,this._activeTrigger[fa]=!1,this._activeTrigger[ro]=!1,this._isHovered=null;const He=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Bt.trigger(this._element,this.constructor.eventName(ha)))};this._queueCallback(He,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement($){const de=this._getTemplateFactory($).toHtml();if(!de)return null;de.classList.remove(s1,Yd),de.classList.add(`bs-${this.constructor.NAME}-auto`);const He=ve(this.constructor.NAME).toString();return de.setAttribute("id",He),this._isAnimated()&&de.classList.add(s1),de}setContent($){this._newContent=$,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory($){return this._templateFactory?this._templateFactory.changeContent($):this._templateFactory=new es({...this._config,content:$,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Vl]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget($){return this.constructor.getOrCreateInstance($.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(s1)}_isShown(){return this.tip&&this.tip.classList.contains(Yd)}_createPopper($){const de=ke(this._config.placement,[this,$,this._element]),He=Ul[de.toUpperCase()];return S.createPopper(this._element,$,this._getPopperConfig(He))}_getOffset(){const{offset:$}=this._config;return typeof $=="string"?$.split(",").map(de=>Number.parseInt(de,10)):typeof $=="function"?de=>$(de,this._element):$}_resolvePossibleFunction($){return ke($,[this._element])}_getPopperConfig($){const de={placement:$,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:He=>{this._getTipElement().setAttribute("data-popper-placement",He.state.placement)}}]};return{...de,...ke(this._config.popperConfig,[de])}}_setListeners(){const $=this._config.trigger.split(" ");for(const de of $)if(de==="click")Bt.on(this._element,this.constructor.eventName(tl),this._config.selector,He=>{this._initializeOnDelegatedTarget(He).toggle()});else if(de!==Ev){const He=de===ro?this.constructor.eventName(us):this.constructor.eventName(ea),Ft=de===ro?this.constructor.eventName(nl):this.constructor.eventName(Am);Bt.on(this._element,He,this._config.selector,In=>{const dn=this._initializeOnDelegatedTarget(In);dn._activeTrigger[In.type==="focusin"?fa:ro]=!0,dn._enter()}),Bt.on(this._element,Ft,this._config.selector,In=>{const dn=this._initializeOnDelegatedTarget(In);dn._activeTrigger[In.type==="focusout"?fa:ro]=dn._element.contains(In.relatedTarget),dn._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Bt.on(this._element.closest(el),Kd,this._hideModalHandler)}_fixTitle(){const $=this._element.getAttribute("title");$&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",$),this._element.setAttribute("data-bs-original-title",$),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout($,de){clearTimeout(this._timeout),this._timeout=setTimeout($,de)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig($){const de=ko.getDataAttributes(this._element);for(const He of Object.keys(de))xm.has(He)&&delete de[He];return $={...de,...typeof $=="object"&&$?$:{}},$=this._mergeConfigObj($),$=this._configAfterMerge($),this._typeCheckConfig($),$}_configAfterMerge($){return $.container=$.container===!1?document.body:ce($.container),typeof $.delay=="number"&&($.delay={show:$.delay,hide:$.delay}),typeof $.title=="number"&&($.title=$.title.toString()),typeof $.content=="number"&&($.content=$.content.toString()),$}_getDelegateConfig(){const $={};for(const[de,He]of Object.entries(this._config))this.constructor.Default[de]!==He&&($[de]=He);return $.selector=!1,$.trigger="manual",$}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface($){return this.each(function(){const de=zl.getOrCreateInstance(this,$);if(typeof $=="string"){if(typeof de[$]>"u")throw new TypeError(`No method named "${$}"`);de[$]()}})}}yt(zl);const gd="popover",Js=".popover-header",wr=".popover-body",Ua={...zl.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},r1={...zl.DefaultType,content:"(null|string|element|function)"};class Bu extends zl{static get Default(){return Ua}static get DefaultType(){return r1}static get NAME(){return gd}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Js]:this._getTitle(),[wr]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface($){return this.each(function(){const de=Bu.getOrCreateInstance(this,$);if(typeof $=="string"){if(typeof de[$]>"u")throw new TypeError(`No method named "${$}"`);de[$]()}})}}yt(Bu);const Pf="scrollspy",ge=".bs.scrollspy",Xd=".data-api",Ih=`activate${ge}`,vl=`click${ge}`,Us=`load${ge}${Xd}`,i1="dropdown-item",Qd="active",a1='[data-bs-spy="scroll"]',ma="[href]",wv=".nav, .list-group",Im=".nav-link",c1=`${Im}, .nav-item > ${Im}, .list-group-item`,za=".dropdown",Lf=".dropdown-toggle",t0={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Wp={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class $f extends gi{constructor($,de){super($,de),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return t0}static get DefaultType(){return Wp}static get NAME(){return Pf}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const $ of this._observableSections.values())this._observer.observe($)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge($){return $.target=ce($.target)||document.body,$.rootMargin=$.offset?`${$.offset}px 0px -30%`:$.rootMargin,typeof $.threshold=="string"&&($.threshold=$.threshold.split(",").map(de=>Number.parseFloat(de))),$}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Bt.off(this._config.target,vl),Bt.on(this._config.target,vl,ma,$=>{const de=this._observableSections.get($.target.hash);if(de){$.preventDefault();const He=this._rootElement||window,Ft=de.offsetTop-this._element.offsetTop;if(He.scrollTo){He.scrollTo({top:Ft,behavior:"smooth"});return}He.scrollTop=Ft}}))}_getNewObserver(){const $={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(de=>this._observerCallback(de),$)}_observerCallback($){const de=dn=>this._targetLinks.get(`#${dn.target.id}`),He=dn=>{this._previousScrollData.visibleEntryTop=dn.target.offsetTop,this._process(de(dn))},Ft=(this._rootElement||document.documentElement).scrollTop,In=Ft>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=Ft;for(const dn of $){if(!dn.isIntersecting){this._activeTarget=null,this._clearActiveClass(de(dn));continue}const Ko=dn.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(In&&Ko){if(He(dn),!Ft)return;continue}!In&&!Ko&&He(dn)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const $=Lt.find(ma,this._config.target);for(const de of $){if(!de.hash||me(de))continue;const He=Lt.findOne(de.hash,this._element);re(He)&&(this._targetLinks.set(de.hash,de),this._observableSections.set(de.hash,He))}}_process($){this._activeTarget!==$&&(this._clearActiveClass(this._config.target),this._activeTarget=$,$.classList.add(Qd),this._activateParents($),Bt.trigger(this._element,Ih,{relatedTarget:$}))}_activateParents($){if($.classList.contains(i1)){Lt.findOne(Lf,$.closest(za)).classList.add(Qd);return}for(const de of Lt.parents($,wv))for(const He of Lt.prev(de,c1))He.classList.add(Qd)}_clearActiveClass($){$.classList.remove(Qd);const de=Lt.find(`${ma}.${Qd}`,$);for(const He of de)He.classList.remove(Qd)}static jQueryInterface($){return this.each(function(){const de=$f.getOrCreateInstance(this,$);if(typeof $=="string"){if(de[$]===void 0||$.startsWith("_")||$==="constructor")throw new TypeError(`No method named "${$}"`);de[$]()}})}}Bt.on(window,Us,()=>{for(const $e of Lt.find(a1))$f.getOrCreateInstance($e)}),yt($f);const Tv="tab",Qr=".bs.tab",Gp=`hide${Qr}`,ai=`hidden${Qr}`,pa=`show${Qr}`,Pn=`shown${Qr}`,nn=`click${Qr}`,Dm=`keydown${Qr}`,bl=`load${Qr}`,yl="ArrowLeft",qp="ArrowRight",_l="ArrowUp",ol="ArrowDown",Vu="active",Dr="fade",vd="show",Dh="dropdown",Ut=".dropdown-toggle",n0=".dropdown-menu",Nm=":not(.dropdown-toggle)",Wa='.list-group, .nav, [role="tablist"]',bd=".nav-item, .list-group-item",Jd=`.nav-link${Nm}, .list-group-item${Nm}, [role="tab"]${Nm}`,hr='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',jp=`${Jd}, ${hr}`,ts=`.${Vu}[data-bs-toggle="tab"], .${Vu}[data-bs-toggle="pill"], .${Vu}[data-bs-toggle="list"]`;class Po extends gi{constructor($){super($),this._parent=this._element.closest(Wa),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Bt.on(this._element,Dm,de=>this._keydown(de)))}static get NAME(){return Tv}show(){const $=this._element;if(this._elemIsActive($))return;const de=this._getActiveElem(),He=de?Bt.trigger(de,Gp,{relatedTarget:$}):null;Bt.trigger($,pa,{relatedTarget:de}).defaultPrevented||He&&He.defaultPrevented||(this._deactivate(de,$),this._activate($,de))}_activate($,de){if(!$)return;$.classList.add(Vu),this._activate(Lt.getElementFromSelector($));const He=()=>{if($.getAttribute("role")!=="tab"){$.classList.add(vd);return}$.removeAttribute("tabindex"),$.setAttribute("aria-selected",!0),this._toggleDropDown($,!0),Bt.trigger($,Pn,{relatedTarget:de})};this._queueCallback(He,$,$.classList.contains(Dr))}_deactivate($,de){if(!$)return;$.classList.remove(Vu),$.blur(),this._deactivate(Lt.getElementFromSelector($));const He=()=>{if($.getAttribute("role")!=="tab"){$.classList.remove(vd);return}$.setAttribute("aria-selected",!1),$.setAttribute("tabindex","-1"),this._toggleDropDown($,!1),Bt.trigger($,ai,{relatedTarget:de})};this._queueCallback(He,$,$.classList.contains(Dr))}_keydown($){if(![yl,qp,_l,ol].includes($.key))return;$.stopPropagation(),$.preventDefault();const de=[qp,ol].includes($.key),He=mn(this._getChildren().filter(Ft=>!me(Ft)),$.target,de,!0);He&&(He.focus({preventScroll:!0}),Po.getOrCreateInstance(He).show())}_getChildren(){return Lt.find(jp,this._parent)}_getActiveElem(){return this._getChildren().find($=>this._elemIsActive($))||null}_setInitialAttributes($,de){this._setAttributeIfNotExists($,"role","tablist");for(const He of de)this._setInitialAttributesOnChild(He)}_setInitialAttributesOnChild($){$=this._getInnerElement($);const de=this._elemIsActive($),He=this._getOuterElement($);$.setAttribute("aria-selected",de),He!==$&&this._setAttributeIfNotExists(He,"role","presentation"),de||$.setAttribute("tabindex","-1"),this._setAttributeIfNotExists($,"role","tab"),this._setInitialAttributesOnTargetPanel($)}_setInitialAttributesOnTargetPanel($){const de=Lt.getElementFromSelector($);de&&(this._setAttributeIfNotExists(de,"role","tabpanel"),$.id&&this._setAttributeIfNotExists(de,"aria-labelledby",`${$.id}`))}_toggleDropDown($,de){const He=this._getOuterElement($);if(!He.classList.contains(Dh))return;const Ft=(In,dn)=>{const Ko=Lt.findOne(In,He);Ko&&Ko.classList.toggle(dn,de)};Ft(Ut,Vu),Ft(n0,vd),He.setAttribute("aria-expanded",de)}_setAttributeIfNotExists($,de,He){$.hasAttribute(de)||$.setAttribute(de,He)}_elemIsActive($){return $.classList.contains(Vu)}_getInnerElement($){return $.matches(jp)?$:Lt.findOne(jp,$)}_getOuterElement($){return $.closest(bd)||$}static jQueryInterface($){return this.each(function(){const de=Po.getOrCreateInstance(this);if(typeof $=="string"){if(de[$]===void 0||$.startsWith("_")||$==="constructor")throw new TypeError(`No method named "${$}"`);de[$]()}})}}Bt.on(document,nn,hr,function($e){["A","AREA"].includes(this.tagName)&&$e.preventDefault(),!me(this)&&Po.getOrCreateInstance(this).show()}),Bt.on(window,bl,()=>{for(const $e of Lt.find(ts))Po.getOrCreateInstance($e)}),yt(Po);const Jr="toast",or=".bs.toast",ef=`mouseover${or}`,jr=`mouseout${or}`,ys=`focusin${or}`,Wl=`focusout${or}`,xt=`hide${or}`,El=`hidden${or}`,Bf=`show${or}`,Wr=`shown${or}`,Gl="fade",Ga="hide",ic="show",Mm="showing",ac={animation:"boolean",autohide:"boolean",delay:"number"},Zp={animation:!0,autohide:!0,delay:5e3};class Bi extends gi{constructor($,de){super($,de),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Zp}static get DefaultType(){return ac}static get NAME(){return Jr}show(){if(Bt.trigger(this._element,Bf).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Gl);const de=()=>{this._element.classList.remove(Mm),Bt.trigger(this._element,Wr),this._maybeScheduleHide()};this._element.classList.remove(Ga),Ge(this._element),this._element.classList.add(ic,Mm),this._queueCallback(de,this._element,this._config.animation)}hide(){if(!this.isShown()||Bt.trigger(this._element,xt).defaultPrevented)return;const de=()=>{this._element.classList.add(Ga),this._element.classList.remove(Mm,ic),Bt.trigger(this._element,El)};this._element.classList.add(Mm),this._queueCallback(de,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ic),super.dispose()}isShown(){return this._element.classList.contains(ic)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction($,de){switch($.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=de;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=de;break}}if(de){this._clearTimeout();return}const He=$.relatedTarget;this._element===He||this._element.contains(He)||this._maybeScheduleHide()}_setListeners(){Bt.on(this._element,ef,$=>this._onInteraction($,!0)),Bt.on(this._element,jr,$=>this._onInteraction($,!1)),Bt.on(this._element,ys,$=>this._onInteraction($,!0)),Bt.on(this._element,Wl,$=>this._onInteraction($,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface($){return this.each(function(){const de=Bi.getOrCreateInstance(this,$);if(typeof $=="string"){if(typeof de[$]>"u")throw new TypeError(`No method named "${$}"`);de[$](this)}})}}return Lr(Bi),yt(Bi),{Alert:Os,Button:$r,Carousel:si,Collapse:Nu,Dropdown:Gs,Modal:md,Offcanvas:to,Popover:Bu,ScrollSpy:$f,Tab:Po,Toast:Bi,Tooltip:zl}})})(eoe);const Uoe=SZ;tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const a=Object.getPrototypeOf,c=(t,s,i)=>{var u;return i(t,s.prototype)?!0:((u=t.constructor)===null||u===void 0?void 0:u.name)===s.name},f=t=>{const s=typeof t;return t===null?"null":s==="object"&&Array.isArray(t)?"array":s==="object"&&c(t,String,(i,u)=>u.isPrototypeOf(i))?"string":s},y=t=>s=>f(s)===t,S=t=>s=>typeof s===t,D=t=>s=>t===s,I=(t,s)=>U(t)&&c(t,s,(i,u)=>a(i)===u),B=y("string"),U=y("object"),j=t=>I(t,Object),Y=y("array"),ne=D(null),ve=S("boolean"),ie=D(void 0),fe=t=>t==null,ue=t=>!fe(t),ce=S("function"),re=S("number"),me=(t,s)=>{if(Y(t)){for(let i=0,u=t.length;i<u;++i)if(!s(t[i]))return!1;return!0}return!1},K=()=>{},De=t=>()=>t(),Ge=(t,s)=>(...i)=>t(s.apply(null,i)),H=(t,s)=>i=>t(s(i)),Ee=t=>()=>t,qe=t=>t,ut=(t,s)=>t===s;function yt(t,...s){return(...i)=>{const u=s.concat(i);return t.apply(null,u)}}const ke=t=>s=>!t(s),_e=t=>()=>{throw new Error(t)},mn=t=>t(),wt=Ee(!1),Ot=Ee(!0);class P{constructor(s,i){this.tag=s,this.value=i}static some(s){return new P(!0,s)}static none(){return P.singletonNone}fold(s,i){return this.tag?i(this.value):s()}isSome(){return this.tag}isNone(){return!this.tag}map(s){return this.tag?P.some(s(this.value)):P.none()}bind(s){return this.tag?s(this.value):P.none()}exists(s){return this.tag&&s(this.value)}forall(s){return!this.tag||s(this.value)}filter(s){return!this.tag||s(this.value)?this:P.none()}getOr(s){return this.tag?this.value:s}or(s){return this.tag?this:s}getOrThunk(s){return this.tag?this.value:s()}orThunk(s){return this.tag?this:s()}getOrDie(s){if(this.tag)return this.value;throw new Error(s??"Called getOrDie on None")}static from(s){return ue(s)?P.some(s):P.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(s){this.tag&&s(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}P.singletonNone=new P(!1);const Rt=Array.prototype.slice,tt=Array.prototype.indexOf,qt=Array.prototype.push,Vt=(t,s)=>tt.call(t,s),je=(t,s)=>{const i=Vt(t,s);return i===-1?P.none():P.some(i)},vo=(t,s)=>Vt(t,s)>-1,Bo=(t,s)=>{for(let i=0,u=t.length;i<u;i++){const m=t[i];if(s(m,i))return!0}return!1},ao=(t,s)=>{const i=[];for(let u=0;u<t;u++)i.push(s(u));return i},Fo=(t,s)=>{const i=[];for(let u=0;u<t.length;u+=s){const m=Rt.call(t,u,u+s);i.push(m)}return i},et=(t,s)=>{const i=t.length,u=new Array(i);for(let m=0;m<i;m++){const b=t[m];u[m]=s(b,m)}return u},It=(t,s)=>{for(let i=0,u=t.length;i<u;i++){const m=t[i];s(m,i)}},oe=(t,s)=>{for(let i=t.length-1;i>=0;i--){const u=t[i];s(u,i)}},cs=(t,s)=>{const i=[],u=[];for(let m=0,b=t.length;m<b;m++){const w=t[m];(s(w,m)?i:u).push(w)}return{pass:i,fail:u}},uo=(t,s)=>{const i=[];for(let u=0,m=t.length;u<m;u++){const b=t[u];s(b,u)&&i.push(b)}return i},Bt=(t,s,i)=>(oe(t,(u,m)=>{i=s(i,u,m)}),i),gs=(t,s,i)=>(It(t,(u,m)=>{i=s(i,u,m)}),i),Xa=(t,s,i)=>{for(let u=0,m=t.length;u<m;u++){const b=t[u];if(s(b,u))return P.some(b);if(i(b,u))break}return P.none()},kn=(t,s)=>Xa(t,s,wt),ko=(t,s)=>{for(let i=0,u=t.length;i<u;i++){const m=t[i];if(s(m,i))return P.some(i)}return P.none()},Yt=t=>{const s=[];for(let i=0,u=t.length;i<u;++i){if(!Y(t[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+t);qt.apply(s,t[i])}return s},mt=(t,s)=>Yt(et(t,s)),gi=(t,s)=>{for(let i=0,u=t.length;i<u;++i){const m=t[i];if(s(m,i)!==!0)return!1}return!0},vi=t=>{const s=Rt.call(t,0);return s.reverse(),s},Lt=(t,s)=>uo(t,i=>!vo(s,i)),Lr=(t,s)=>{const i={};for(let u=0,m=t.length;u<m;u++){const b=t[u];i[String(b)]=s(b,u)}return i},Ns=t=>[t],Pc=(t,s)=>{const i=Rt.call(t,0);return i.sort(s),i},vs=(t,s)=>s>=0&&s<t.length?P.some(t[s]):P.none(),Rr=t=>vs(t,0),jc=t=>vs(t,t.length-1),Ca=ce(Array.from)?Array.from:t=>Rt.call(t),nr=(t,s)=>{for(let i=0;i<t.length;i++){const u=s(t[i],i);if(u.isSome())return u}return P.none()},Os=Object.keys,rd=Object.hasOwnProperty,Yr=(t,s)=>{const i=Os(t);for(let u=0,m=i.length;u<m;u++){const b=i[u],w=t[b];s(w,b)}},Ms=(t,s)=>fl(t,(i,u)=>({k:u,v:s(i,u)})),fl=(t,s)=>{const i={};return Yr(t,(u,m)=>{const b=s(u,m);i[b.k]=b.v}),i},Ii=t=>(s,i)=>{t[i]=s},Zc=(t,s,i,u)=>{Yr(t,(m,b)=>{(s(m,b)?i:u)(m,b)})},vr=(t,s)=>{const i={},u={};return Zc(t,s,Ii(i),Ii(u)),{t:i,f:u}},$r=(t,s)=>{const i={};return Zc(t,s,Ii(i),K),i},Gd=(t,s)=>{const i=[];return Yr(t,(u,m)=>{i.push(s(u,m))}),i},bi=(t,s)=>{const i=Os(t);for(let u=0,m=i.length;u<m;u++){const b=i[u],w=t[b];if(s(w,b,t))return P.some(w)}return P.none()},yh=t=>Gd(t,qe),an=(t,s)=>Ho(t,s)?P.from(t[s]):P.none(),Ho=(t,s)=>rd.call(t,s),ca=(t,s)=>Ho(t,s)&&t[s]!==void 0&&t[s]!==null,gc=(t,s,i=ut)=>t.exists(u=>i(u,s)),_h=(t,s,i=ut)=>id(t,s,i).getOr(t.isNone()&&s.isNone()),au=t=>{const s=[],i=u=>{s.push(u)};for(let u=0;u<t.length;u++)t[u].each(i);return s},ks=t=>{const s=[];for(let i=0;i<t.length;i++){const u=t[i];if(u.isSome())s.push(u.getOrDie());else return P.none()}return P.some(s)},id=(t,s,i)=>t.isSome()&&s.isSome()?P.some(i(t.getOrDie(),s.getOrDie())):P.none(),qd=(t,s,i,u)=>t.isSome()&&s.isSome()&&i.isSome()?P.some(u(t.getOrDie(),s.getOrDie(),i.getOrDie())):P.none(),Xs=(t,s)=>t!=null?P.some(s(t)):P.none(),qn=(t,s)=>t?P.some(s):P.none(),Qa=(t,s)=>t+s,Ru=(t,s)=>t.substring(s),Yc=(t,s,i)=>s===""||t.length>=s.length&&t.substr(i,i+s.length)===s,Eh=(t,s)=>Ur(t,s)?Ru(t,s.length):t,Di=(t,s)=>Fa(t,s)?t:Qa(t,s),Ki=(t,s,i=0,u)=>{const m=t.indexOf(s,i);return m!==-1?ie(u)?!0:m+s.length<=u:!1},Ur=(t,s)=>Yc(t,s,0),Fa=(t,s)=>Yc(t,s,t.length-s.length),vc=(t=>s=>s.replace(t,""))(/^\s+|\s+$/g),Sa=t=>t.length>0,Br=t=>!Sa(t),bc=t=>t.style!==void 0&&ce(t.style.getPropertyValue),hl=(t,s)=>{const u=(s||document).createElement("div");if(u.innerHTML=t,!u.hasChildNodes()||u.childNodes.length>1){const m="HTML does not have a single root node";throw console.error(m,t),new Error(m)}return Ll(u.childNodes[0])},Bp=(t,s)=>{const u=(s||document).createElement(t);return Ll(u)},Fp=(t,s)=>{const u=(s||document).createTextNode(t);return Ll(u)},Ll=t=>{if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},Qe={fromHtml:hl,fromTag:Bp,fromText:Fp,fromDom:Ll,fromPoint:(t,s,i)=>P.from(t.dom.elementFromPoint(s,i)).map(Ll)},yi=typeof window<"u"?window:Function("return this;")(),cu=(t,s)=>{let i=s??yi;for(let u=0;u<t.length&&i!==void 0&&i!==null;++u)i=i[t[u]];return i},Hp=(t,s)=>{const i=t.split(".");return cu(i,s)},wh=(t,s)=>Hp(t,s),Fs=(t,s)=>{const i=wh(t,s);if(i==null)throw new Error(t+" not available on this browser");return i},jd=Object.getPrototypeOf,Cm=t=>Fs("HTMLElement",t),Xi=t=>{const s=Hp("ownerDocument.defaultView",t);return U(t)&&(Cm(s).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(jd(t).constructor.name))},Xc=9,oi=11,_i=1,lu=3,Ja=t=>t.dom.nodeName.toLowerCase(),uu=t=>t.dom.nodeType,$l=t=>s=>uu(s)===t,ad=t=>Cs(t)&&Xi(t.dom),Cs=$l(_i),si=$l(lu),Qc=$l(Xc),cd=$l(oi),xa=t=>s=>Cs(s)&&Ja(s)===t,yc=(t,s)=>{const i=t.dom;if(i.nodeType!==_i)return!1;{const u=i;if(u.matches!==void 0)return u.matches(s);if(u.msMatchesSelector!==void 0)return u.msMatchesSelector(s);if(u.webkitMatchesSelector!==void 0)return u.webkitMatchesSelector(s);if(u.mozMatchesSelector!==void 0)return u.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")}},br=t=>t.nodeType!==_i&&t.nodeType!==Xc&&t.nodeType!==oi||t.childElementCount===0,ld=(t,s)=>{const i=s===void 0?document:s.dom;return br(i)?[]:et(i.querySelectorAll(t),Qe.fromDom)},du=(t,s)=>{const i=s===void 0?document:s.dom;return br(i)?P.none():P.from(i.querySelector(t)).map(Qe.fromDom)},bs=(t,s)=>t.dom===s.dom,ec=(t,s)=>{const i=t.dom,u=s.dom;return i===u?!1:i.contains(u)},ri=t=>Qe.fromDom(t.dom.ownerDocument),Fr=t=>Qc(t)?t:ri(t),Jc=t=>Qe.fromDom(Fr(t).dom.documentElement),Iu=t=>Qe.fromDom(Fr(t).dom.defaultView),_c=t=>P.from(t.dom.parentNode).map(Qe.fromDom),Lc=t=>P.from(t.dom.parentElement).map(Qe.fromDom),Df=(t,s)=>{const i=ce(s)?s:wt;let u=t.dom;const m=[];for(;u.parentNode!==null&&u.parentNode!==void 0;){const b=u.parentNode,w=Qe.fromDom(b);if(m.push(w),i(w)===!0)break;u=b}return m},Th=t=>P.from(t.dom.offsetParent).map(Qe.fromDom),Vp=t=>P.from(t.dom.nextSibling).map(Qe.fromDom),tc=t=>et(t.dom.childNodes,Qe.fromDom),Du=(t,s)=>{const i=t.dom.childNodes;return P.from(i[s]).map(Qe.fromDom)},Ch=t=>Du(t,0),Nu=(t,s)=>({element:t,offset:s}),Nf=(t,s)=>{const i=tc(t);return i.length>0&&s<i.length?Nu(i[s],0):Nu(t,s)},Sm=t=>cd(t)&&ue(t.dom.host),Mu=ce(Element.prototype.attachShadow)&&ce(Node.prototype.getRootNode),ku=Ee(Mu),Aa=Mu?t=>Qe.fromDom(t.dom.getRootNode()):Fr,Ni=t=>Sm(t)?t:Qe.fromDom(Fr(t).dom.body),Pu=t=>Mf(t).isSome(),Mf=t=>{const s=Aa(t);return Sm(s)?P.some(s):P.none()},Up=t=>Qe.fromDom(t.dom.host),Hs=t=>{if(ku()&&ue(t.target)){const s=Qe.fromDom(t.target);if(Cs(s)&&yr(s)&&t.composed&&t.composedPath){const i=t.composedPath();if(i)return Rr(i)}}return P.from(t.target)},yr=t=>ue(t.dom.shadowRoot),nc=t=>{const s=si(t)?t.dom.parentNode:t.dom;if(s==null||s.ownerDocument===null)return!1;const i=s.ownerDocument;return Mf(Qe.fromDom(s)).fold(()=>i.body.contains(s),H(nc,Up))},Qi=()=>ml(Qe.fromDom(document)),ml=t=>{const s=t.dom.body;if(s==null)throw new Error("Body is not available yet");return Qe.fromDom(s)},$c=(t,s,i)=>{if(B(i)||ve(i)||re(i))t.setAttribute(s,i+"");else throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",i,":: Element ",t),new Error("Attribute value was not simple")},co=(t,s,i)=>{$c(t.dom,s,i)},Do=(t,s)=>{const i=t.dom;Yr(s,(u,m)=>{$c(i,m,u)})},Mi=(t,s)=>{const i=t.dom.getAttribute(s);return i===null?void 0:i},Kr=(t,s)=>P.from(Mi(t,s)),la=(t,s)=>{const i=t.dom;return i&&i.hasAttribute?i.hasAttribute(s):!1},T=(t,s)=>{t.dom.removeAttribute(s)},N=t=>gs(t.dom.attributes,(s,i)=>(s[i.name]=i.value,s),{}),V=(t,s,i)=>{if(!B(i))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",i,":: Element ",t),new Error("CSS value must be a string: "+i);bc(t)&&t.style.setProperty(s,i)},W=(t,s)=>{bc(t)&&t.style.removeProperty(s)},J=(t,s,i)=>{const u=t.dom;V(u,s,i)},le=(t,s)=>{const i=t.dom;Yr(s,(u,m)=>{V(i,m,u)})},ye=(t,s)=>{const i=t.dom;Yr(s,(u,m)=>{u.fold(()=>{W(i,m)},b=>{V(i,m,b)})})},we=(t,s)=>{const i=t.dom,m=window.getComputedStyle(i).getPropertyValue(s);return m===""&&!nc(t)?Pe(i,s):m},Pe=(t,s)=>bc(t)?t.style.getPropertyValue(s):"",rt=(t,s)=>{const i=t.dom,u=Pe(i,s);return P.from(u).filter(m=>m.length>0)},_t=t=>{const s={},i=t.dom;if(bc(i))for(let u=0;u<i.style.length;u++){const m=i.style.item(u);s[m]=i.style[m]}return s},Kt=(t,s,i)=>{const u=Qe.fromTag(t);return J(u,s,i),rt(u,s).isSome()},st=(t,s)=>{const i=t.dom;W(i,s),gc(Kr(t,"style").map(vc),"")&&T(t,"style")},Nt=t=>t.dom.offsetWidth,Jn=(t,s)=>{const i=(O,M)=>{if(!re(M)&&!M.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+M);const F=O.dom;bc(F)&&(F.style[t]=M+"px")},u=O=>{const M=s(O);if(M<=0||M===null){const F=we(O,t);return parseFloat(F)||0}return M},m=u,b=(O,M)=>gs(M,(F,G)=>{const Q=we(O,G),te=Q===void 0?0:parseInt(Q,10);return isNaN(te)?F:F+te},0);return{set:i,get:u,getOuter:m,aggregate:b,max:(O,M,F)=>{const G=b(O,F);return M>G?M-G:0}}},Zn=Jn("height",t=>{const s=t.dom;return nc(t)?s.getBoundingClientRect().height:s.offsetHeight}),Tn=t=>Zn.get(t),lr=t=>Zn.getOuter(t),Gs=(t,s)=>{const i=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],u=Zn.max(t,s,i);J(t,"max-height",u+"px")},ls=(t,s)=>({left:t,top:s,translate:(u,m)=>ls(t+u,s+m)}),Kn=ls,eo=t=>{const s=t.getBoundingClientRect();return Kn(s.left,s.top)},ki=(t,s)=>t!==void 0?t:s!==void 0?s:0,Ao=t=>{const s=t.dom.ownerDocument,i=s.body,u=s.defaultView,m=s.documentElement;if(i===t.dom)return Kn(i.offsetLeft,i.offsetTop);const b=ki(u==null?void 0:u.pageYOffset,m.scrollTop),w=ki(u==null?void 0:u.pageXOffset,m.scrollLeft),O=ki(m.clientTop,i.clientTop),M=ki(m.clientLeft,i.clientLeft);return _r(t).translate(w-M,b-O)},_r=t=>{const s=t.dom,u=s.ownerDocument.body;return u===s?Kn(u.offsetLeft,u.offsetTop):nc(t)?eo(s):Kn(0,0)},Bl=Jn("width",t=>t.dom.offsetWidth),Vs=(t,s)=>Bl.set(t,s),ur=t=>Bl.get(t),Ir=t=>Bl.getOuter(t),Bc=(t,s)=>{const i=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],u=Bl.max(t,s,i);J(t,"max-width",u+"px")},Ei=t=>{let s=!1,i;return(...u)=>(s||(s=!0,i=t.apply(null,u)),i)},is=(t,s,i,u)=>{const m=t.isiOS()&&/ipad/i.test(i)===!0,b=t.isiOS()&&!m,w=t.isiOS()||t.isAndroid(),O=w||u("(pointer:coarse)"),M=m||!b&&w&&u("(min-device-width:768px)"),F=b||w&&!M,G=s.isSafari()&&t.isiOS()&&/safari/i.test(i)===!1,Q=!F&&!M&&!G;return{isiPad:Ee(m),isiPhone:Ee(b),isTablet:Ee(M),isPhone:Ee(F),isTouch:Ee(O),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:Ee(G),isDesktop:Ee(Q)}},dr=(t,s)=>{for(let i=0;i<t.length;i++){const u=t[i];if(u.test(s))return u}},Oa=(t,s)=>{const i=dr(t,s);if(!i)return{major:0,minor:0};const u=m=>Number(s.replace(i,"$"+m));return Ec(u(1),u(2))},kf=(t,s)=>{const i=String(s).toLowerCase();return t.length===0?Fc():Oa(t,i)},Fc=()=>Ec(0,0),Ec=(t,s)=>({major:t,minor:s}),ho={nu:Ec,detect:kf,unknown:Fc},zr=(t,s)=>nr(s.brands,i=>{const u=i.brand.toLowerCase();return kn(t,m=>{var b;return u===((b=m.brand)===null||b===void 0?void 0:b.toLowerCase())}).map(m=>({current:m.name,version:ho.nu(parseInt(i.version,10),0)}))}),Pi=(t,s)=>{const i=String(s).toLowerCase();return kn(t,u=>u.search(i))},oc=(t,s)=>Pi(t,s).map(i=>{const u=ho.detect(i.versionRegexes,s);return{current:i.name,version:u}}),Ji=(t,s)=>Pi(t,s).map(i=>{const u=ho.detect(i.versionRegexes,s);return{current:i.name,version:u}}),fr=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ha=t=>s=>Ki(s,t),Ra=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:t=>Ki(t,"edge/")&&Ki(t,"chrome")&&Ki(t,"safari")&&Ki(t,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,fr],search:t=>Ki(t,"chrome")&&!Ki(t,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:t=>Ki(t,"msie")||Ki(t,"trident")},{name:"Opera",versionRegexes:[fr,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ha("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ha("firefox")},{name:"Safari",versionRegexes:[fr,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:t=>(Ki(t,"safari")||Ki(t,"mobile/"))&&Ki(t,"applewebkit")}],ud=[{name:"Windows",search:Ha("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:t=>Ki(t,"iphone")||Ki(t,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ha("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Ha("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ha("linux"),versionRegexes:[]},{name:"Solaris",search:Ha("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ha("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ha("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Sh={browsers:Ee(Ra),oses:Ee(ud)},zp="Edge",Fl="Chromium",fu="IE",Zd="Opera",wi="Firefox",dd="Safari",fd=()=>Lu({current:void 0,version:ho.unknown()}),Lu=t=>{const s=t.current,i=t.version,u=m=>()=>s===m;return{current:s,version:i,isEdge:u(zp),isChromium:u(Fl),isIE:u(fu),isOpera:u(Zd),isFirefox:u(wi),isSafari:u(dd)}},sc={unknown:fd,nu:Lu,edge:Ee(zp),chromium:Ee(Fl),ie:Ee(fu),opera:Ee(Zd),firefox:Ee(wi),safari:Ee(dd)},ua="Windows",hu="iOS",hd="Android",xh="Linux",Ah="macOS",ws="Solaris",wc="FreeBSD",Ie="ChromeOS",rc=()=>da({current:void 0,version:ho.unknown()}),da=t=>{const s=t.current,i=t.version,u=m=>()=>s===m;return{current:s,version:i,isWindows:u(ua),isiOS:u(hu),isAndroid:u(hd),isMacOS:u(Ah),isLinux:u(xh),isSolaris:u(ws),isFreeBSD:u(wc),isChromeOS:u(Ie)}},Oh={unknown:rc,nu:da,windows:Ee(ua),ios:Ee(hu),android:Ee(hd),linux:Ee(xh),macos:Ee(Ah),solaris:Ee(ws),freebsd:Ee(wc),chromeos:Ee(Ie)},o1={detect:(t,s,i)=>{const u=Sh.browsers(),m=Sh.oses(),b=s.bind(M=>zr(u,M)).orThunk(()=>oc(u,t)).fold(sc.unknown,sc.nu),w=Ji(m,t).fold(Oh.unknown,Oh.nu),O=is(w,b,t,i);return{browser:b,os:w,deviceType:O}}},ns=t=>window.matchMedia(t).matches;let Je=Ei(()=>o1.detect(navigator.userAgent,P.from(navigator.userAgentData),ns));const Mt=()=>Je(),At=(t,s,i,u,m,b,w)=>({target:t,x:s,y:i,stop:u,prevent:m,kill:b,raw:w}),Un=t=>{const s=Qe.fromDom(Hs(t).getOr(t.target)),i=()=>t.stopPropagation(),u=()=>t.preventDefault(),m=Ge(u,i);return At(s,t.clientX,t.clientY,i,u,m,t)},_o=(t,s)=>i=>{t(i)&&s(Un(i))},Vo=(t,s,i,u,m)=>{const b=_o(i,u);return t.dom.addEventListener(s,b,m),{unbind:yt(pd,t,s,b,m)}},Xr=(t,s,i,u)=>Vo(t,s,i,u,!1),qs=(t,s,i,u)=>Vo(t,s,i,u,!0),pd=(t,s,i,u)=>{t.dom.removeEventListener(s,i,u)},Tc=(t,s)=>{_c(t).each(u=>{u.dom.insertBefore(s.dom,t.dom)})},Ia=(t,s)=>{Vp(t).fold(()=>{_c(t).each(m=>{Le(m,s)})},u=>{Tc(u,s)})},Se=(t,s)=>{Ch(t).fold(()=>{Le(t,s)},u=>{t.dom.insertBefore(s.dom,u.dom)})},Le=(t,s)=>{t.dom.appendChild(s.dom)},ze=(t,s,i)=>{Du(t,i).fold(()=>{Le(t,s)},u=>{Tc(u,s)})},Ht=(t,s)=>{It(s,i=>{Le(t,i)})},lt=t=>{t.dom.textContent="",It(tc(t),s=>{Ct(s)})},Ct=t=>{const s=t.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},Xt=t=>{const s=t!==void 0?t.dom:document,i=s.body.scrollLeft||s.documentElement.scrollLeft,u=s.body.scrollTop||s.documentElement.scrollTop;return Kn(i,u)},xn=(t,s,i)=>{const m=(i!==void 0?i.dom:document).defaultView;m&&m.scrollTo(t,s)},Nn=t=>{const s=t===void 0?window:t;return Mt().browser.isFirefox()?P.none():P.from(s.visualViewport)},to=(t,s,i,u)=>({x:t,y:s,width:i,height:u,right:t+i,bottom:s+u}),bo=t=>{const s=t===void 0?window:t,i=s.document,u=Xt(Qe.fromDom(i));return Nn(s).fold(()=>{const m=s.document.documentElement,b=m.clientWidth,w=m.clientHeight;return to(u.left,u.top,b,w)},m=>to(Math.max(m.pageLeft,u.left),Math.max(m.pageTop,u.top),m.width,m.height))},so=()=>Qe.fromDom(document),Zo=(t,s)=>t.view(s).fold(Ee([]),u=>{const m=t.owner(u),b=Zo(t,m);return[u].concat(b)}),Rs=(t,s)=>{const i=s.owner(t),u=Zo(s,i);return P.some(u)};var $i=Object.freeze({__proto__:null,view:t=>{var s;return(t.dom===document?P.none():P.from((s=t.dom.defaultView)===null||s===void 0?void 0:s.frameElement)).map(Qe.fromDom)},owner:t=>ri(t)});const Va=t=>{const s=so(),i=Xt(s);return Rs(t,$i).fold(yt(Ao,t),m=>{const b=_r(t),w=Bt(m,(O,M)=>{const F=_r(M);return{left:O.left+F.left,top:O.top+F.top}},{left:0,top:0});return Kn(w.left+b.left+i.left,w.top+b.top+i.top)})},Qs=(t,s,i)=>({point:t,width:s,height:i}),Hl=(t,s,i,u)=>({x:t,y:s,width:i,height:u}),Ps=(t,s,i,u)=>({x:t,y:s,width:i,height:u,right:t+i,bottom:s+u}),es=t=>{const s=Ao(t),i=Ir(t),u=lr(t);return Ps(s.left,s.top,i,u)},pl=t=>{const s=Va(t),i=Ir(t),u=lr(t);return Ps(s.left,s.top,i,u)},xm=(t,s)=>{const i=Math.max(t.x,s.x),u=Math.max(t.y,s.y),m=Math.min(t.right,s.right),b=Math.min(t.bottom,s.bottom),w=m-i,O=b-u;return Ps(i,u,w,O)},s1=(t,s)=>gs(s,(i,u)=>xm(i,u),t),Da=()=>bo(window);var Yd=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Vl=t=>{const s=b=>b(t),i=Ee(t),u=()=>m,m={tag:!0,inner:t,fold:(b,w)=>w(t),isValue:Ot,isError:wt,map:b=>ro.value(b(t)),mapError:u,bind:s,exists:s,forall:s,getOr:i,or:u,getOrThunk:i,orThunk:u,getOrDie:i,each:b=>{b(t)},toOptional:()=>P.some(t)};return m},el=t=>{const s=()=>i,i={tag:!1,inner:t,fold:(u,m)=>u(t),isValue:wt,isError:Ot,map:s,mapError:u=>ro.error(u(t)),bind:s,exists:wt,forall:Ot,getOr:qe,or:qe,getOrThunk:mn,orThunk:mn,getOrDie:_e(String(t)),each:K,toOptional:P.none};return i},ro={value:Vl,error:el,fromOption:(t,s)=>t.fold(()=>el(s),Vl)};var fa;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(fa||(fa={}));const Rh=(t,s,i)=>t.stype===fa.Error?s(t.serror):i(t.svalue),Ev=t=>{const s=[],i=[];return It(t,u=>{Rh(u,m=>i.push(m),m=>s.push(m))}),{values:s,errors:i}},ii=(t,s)=>t.stype===fa.Error?{stype:fa.Error,serror:s(t.serror)}:t,ha=(t,s)=>t.stype===fa.Value?{stype:fa.Value,svalue:s(t.svalue)}:t,$u=(t,s)=>t.stype===fa.Value?s(t.svalue):t,gl=(t,s)=>t.stype===fa.Error?s(t.serror):t,Na=t=>({stype:fa.Value,svalue:t}),tl=t=>({stype:fa.Error,serror:t}),us={fromResult:t=>t.fold(tl,Na),toResult:t=>Rh(t,ro.error,ro.value),svalue:Na,partition:Ev,serror:tl,bind:$u,bindError:gl,map:ha,mapError:ii,fold:Rh},nl=(t,s,i,u)=>({tag:"field",key:t,newKey:s,presence:i,prop:u}),Ul=(t,s)=>({tag:"custom",newKey:t,instantiator:s}),Er=(t,s,i)=>{switch(t.tag){case"field":return s(t.key,t.newKey,t.presence,t.prop);case"custom":return i(t.newKey,t.instantiator)}},Om=(t,s)=>s,zl=(t,s)=>j(t)&&j(s)?Js(t,s):s,gd=t=>(...s)=>{if(s.length===0)throw new Error("Can't merge zero objects");const i={};for(let u=0;u<s.length;u++){const m=s[u];for(const b in m)Ho(m,b)&&(i[b]=t(i[b],m[b]))}return i},Js=gd(zl),wr=gd(Om),Ua=()=>({tag:"required",process:{}}),r1=t=>({tag:"defaultedThunk",process:t}),Bu=t=>r1(Ee(t)),Pf=()=>({tag:"option",process:{}}),Rm=t=>({tag:"mergeWithThunk",process:t}),ge=t=>Rm(Ee(t)),Xd=(t,s)=>t.length>0?us.svalue(Js(s,wr.apply(void 0,t))):us.svalue(s),Ih=t=>Ge(us.serror,Yt)(t),i1={consolidateObj:(t,s)=>{const i=us.partition(t);return i.errors.length>0?Ih(i.errors):Xd(i.values,s)},consolidateArr:t=>{const s=us.partition(t);return s.errors.length>0?Ih(s.errors):us.svalue(s.values)}},Qd=t=>U(t)&&Os(t).length>100?" removed due to size":JSON.stringify(t,null,2),a1=t=>{const s=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:Ee("... (only showing first ten failures)")}]):t;return et(s,i=>"Failed path: ("+i.path.join(" > ")+`)
`+i.getErrorInfo())},ma=(t,s)=>us.serror([{path:t,getErrorInfo:s}]),wv=(t,s,i)=>ma(t,()=>'Could not find valid *required* value for "'+s+'" in '+Qd(i)),Im=(t,s)=>ma(t,()=>'Choice schema did not contain choice key: "'+s+'"'),e0=(t,s,i)=>ma(t,()=>'The chosen schema: "'+i+'" did not exist in branches: '+Qd(s)),Fu=(t,s)=>ma(t,()=>"There are unsupported fields: ["+s.join(", ")+"] specified"),c1=(t,s)=>ma(t,Ee(s)),za=t=>{const s=(u,m)=>us.bindError(t(m),b=>c1(u,b)),i=Ee("val");return{extract:s,toString:i}},Lf=za(us.svalue),t0=(t,s,i,u)=>an(s,i).fold(()=>wv(t,i,s),u),Wp=(t,s,i,u)=>{const m=an(t,s).getOrThunk(()=>i(t));return u(m)},$f=(t,s,i)=>i(an(t,s)),Tv=(t,s,i,u)=>{const m=an(t,s).map(b=>b===!0?i(t):b);return u(m)},Hu=(t,s,i,u,m)=>{const b=O=>m.extract(s.concat([u]),O),w=O=>O.fold(()=>us.svalue(P.none()),M=>{const F=m.extract(s.concat([u]),M);return us.map(F,P.some)});switch(t.tag){case"required":return t0(s,i,u,b);case"defaultedThunk":return Wp(i,u,t.process,b);case"option":return $f(i,u,w);case"defaultedOptionThunk":return Tv(i,u,t.process,w);case"mergeWithThunk":return Wp(i,u,Ee({}),O=>{const M=Js(t.process(i),O);return b(M)})}},Qr=(t,s,i)=>{const u={},m=[];for(const b of i)Er(b,(w,O,M,F)=>{const G=Hu(M,t,s,w,F);us.fold(G,Q=>{m.push(...Q)},Q=>{u[O]=Q})},(w,O)=>{u[w]=O(s)});return m.length>0?us.serror(m):us.svalue(u)},Gp=t=>({extract:(u,m)=>t().extract(u,m),toString:()=>t().toString()}),ai=t=>Os($r(t,ue)),pa=t=>{const s=Pn(t),i=Bt(t,(m,b)=>Er(b,w=>Js(m,{[w]:!0}),Ee(m)),{});return{extract:(m,b)=>{const w=ve(b)?[]:ai(b),O=uo(w,M=>!ca(i,M));return O.length===0?s.extract(m,b):Fu(m,O)},toString:s.toString}},Pn=t=>({extract:(u,m)=>Qr(u,m,t),toString:()=>`obj{
`+et(t,m=>Er(m,(b,w,O,M)=>b+" -> "+M.toString(),(b,w)=>"state("+b+")")).join(`
`)+"}"}),nn=t=>({extract:(u,m)=>{const b=et(m,(w,O)=>t.extract(u.concat(["["+O+"]"]),w));return i1.consolidateArr(b)},toString:()=>"array("+t.toString()+")"}),Dm=(t,s)=>{const i=s!==void 0?s:qe;return{extract:(b,w)=>{const O=[];for(const M of t){const F=M.extract(b,w);if(F.stype===fa.Value)return{stype:fa.Value,svalue:i(F.svalue)};O.push(F)}return i1.consolidateArr(O)},toString:()=>"oneOf("+et(t,b=>b.toString()).join(", ")+")"}},bl=(t,s)=>{const i=(b,w)=>nn(za(t)).extract(b,w);return{extract:(b,w)=>{const O=Os(w),M=i(b,O);return us.bind(M,F=>{const G=et(F,Q=>nl(Q,Q,Ua(),s));return Pn(G).extract(b,w)})},toString:()=>"setOf("+s.toString()+")"}},yl=(t,s)=>{const i=Ei(s);return{extract:(b,w)=>i().extract(b,w),toString:()=>i().toString()}},qp=Ge(nn,Pn),_l=Ee(Lf),ol=(t,s)=>za(i=>{const u=typeof i;return t(i)?us.svalue(i):us.serror(`Expected type: ${s} but got: ${u}`)}),Vu=ol(re,"number"),Dr=ol(B,"string"),vd=ol(ve,"boolean"),Dh=ol(ce,"function"),Ut=t=>{if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(s=>Ut(t[s]));default:return!1}},n0=za(t=>Ut(t)?us.svalue(t):us.serror("Expected value to be acceptable for sending via postMessage")),Nm=(t,s,i,u)=>an(i,u).fold(()=>e0(t,i,u),b=>b.extract(t.concat(["branch: "+u]),s)),Wa=(t,s)=>({extract:(m,b)=>an(b,t).fold(()=>Im(m,t),O=>Nm(m,b,s,O)),toString:()=>"chooseOn("+t+"). Possible values: "+Os(s)}),bd=()=>nn(Lf),Jd=t=>za(s=>t(s).fold(us.serror,us.svalue)),hr=(t,s)=>bl(i=>us.fromResult(t(i)),s),jp=(t,s,i)=>{const u=s.extract([t],i);return us.mapError(u,m=>({input:i,errors:m}))},ts=(t,s,i)=>us.toResult(jp(t,s,i)),Po=t=>t.fold(s=>{throw new Error(Cc(s))},qe),Jr=(t,s,i)=>Po(ts(t,s,i)),Cc=t=>`Errors: 
`+a1(t.errors).join(`
`)+`

Input object: `+Qd(t.input),or=(t,s)=>Wa(t,Ms(s,Pn)),ef=(t,s)=>yl(t,s),jr=nl,ys=Ul,Wl=t=>Jd(s=>vo(t,s)?ro.value(s):ro.error(`Unsupported value: "${s}", choose one of "${t.join(", ")}".`)),xt=t=>jr(t,t,Ua(),_l()),El=(t,s)=>jr(t,t,Ua(),s),Bf=t=>El(t,Vu),Wr=t=>El(t,Dr),Gl=(t,s)=>jr(t,t,Ua(),Wl(s)),Ga=t=>El(t,vd),ic=t=>El(t,Dh),Mm=(t,s)=>jr(t,t,Pf(),za(i=>us.serror("The field: "+t+" is forbidden. "+s))),ac=(t,s)=>jr(t,t,Ua(),Pn(s)),Zp=(t,s)=>jr(t,t,Ua(),qp(s)),Bi=(t,s)=>jr(t,t,Ua(),nn(s)),Yo=t=>jr(t,t,Pf(),_l()),$e=(t,s)=>jr(t,t,Pf(),s),$=t=>$e(t,Vu),de=t=>$e(t,Dr),He=(t,s)=>$e(t,Wl(s)),Ft=t=>$e(t,Dh),In=(t,s)=>$e(t,nn(s)),dn=(t,s)=>$e(t,Pn(s)),Ko=(t,s)=>$e(t,pa(s)),We=(t,s)=>jr(t,t,Bu(s),_l()),Gr=(t,s,i)=>jr(t,t,Bu(s),i),ci=(t,s)=>Gr(t,s,Vu),ta=(t,s)=>Gr(t,s,Dr),Hr=(t,s,i)=>Gr(t,s,Wl(i)),li=(t,s)=>Gr(t,s,vd),Ti=(t,s)=>Gr(t,s,Dh),tf=(t,s)=>Gr(t,s,n0),l1=(t,s,i)=>Gr(t,s,nn(i)),Nh=(t,s,i)=>Gr(t,s,Pn(i)),Wn=t=>{let s=t;return{get:()=>s,set:m=>{s=m}}},mu={generate:t=>{if(!Y(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");const s=[],i={};return It(t,(u,m)=>{const b=Os(u);if(b.length!==1)throw new Error("one and only one name per case");const w=b[0],O=u[w];if(i[w]!==void 0)throw new Error("duplicate key detected:"+w);if(w==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Y(O))throw new Error("case arguments must be an array");s.push(w),i[w]=(...M)=>{const F=M.length;if(F!==O.length)throw new Error("Wrong number of arguments to case "+w+". Expected "+O.length+" ("+O+"), got "+F);return{fold:(...Q)=>{if(Q.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+Q.length);return Q[m].apply(null,M)},match:Q=>{const te=Os(Q);if(s.length!==te.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+te.join(","));if(!gi(s,Te=>vo(te,Te)))throw new Error("Not all branches were specified when using match. Specified: "+te.join(", ")+`
Required: `+s.join(", "));return Q[w].apply(null,M)},log:Q=>{console.log(Q,{constructors:s,constructor:w,params:M})}}}}),i}};mu.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Ma=t=>{const s=[],i=[];return It(t,u=>{u.fold(m=>{s.push(m)},m=>{i.push(m)})}),{errors:s,values:i}},Cv=(t,s)=>{const i={};return Yr(t,(u,m)=>{vo(s,m)||(i[m]=u)}),i},yd=(t,s)=>({[t]:s}),f_=t=>{const s={};return It(t,i=>{s[i.key]=i.value}),s},km=(t,s)=>Cv(t,s),Uu=(t,s)=>yd(t,s),Sc=t=>f_(t),wl=(t,s)=>t.length===0?ro.value(s):ro.value(Js(s,wr.apply(void 0,t))),Sv=t=>ro.error(Yt(t)),h_=(t,s)=>{const i=Ma(t);return i.errors.length>0?Sv(i.errors):wl(i.values,s)},_d=t=>ce(t)?t:wt,u1=(t,s,i)=>{let u=t.dom;const m=_d(i);for(;u.parentNode;){u=u.parentNode;const b=Qe.fromDom(u),w=s(b);if(w.isSome())return w;if(m(b))break}return P.none()},xv=(t,s,i)=>{const u=s(t),m=_d(i);return u.orThunk(()=>m(t)?P.none():u1(t,s,m))},Pm=(t,s)=>bs(t.element,s.event.target),Kp={can:Ot,abort:wt,run:K},Ff=t=>{if(!ca(t,"can")&&!ca(t,"abort")&&!ca(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return{...Kp,...t}},Av=(t,s)=>(...i)=>gs(t,(u,m)=>u&&s(m).apply(void 0,i),!0),Ov=(t,s)=>(...i)=>gs(t,(u,m)=>u||s(m).apply(void 0,i),!1),Ss=t=>ce(t)?{can:Ot,abort:wt,run:t}:t,o0=t=>{const s=Av(t,m=>m.can),i=Ov(t,m=>m.abort);return{can:s,abort:i,run:(...m)=>{It(t,b=>{b.run.apply(void 0,m)})}}},ga=Ee,ql=ga("touchstart"),Lm=ga("touchmove"),Mh=ga("touchend"),m_=ga("touchcancel"),Fi=ga("mousedown"),Tl=ga("mousemove"),kh=ga("mouseout"),Ph=ga("mouseup"),nf=ga("mouseover"),Hf=ga("focusin"),Cl=ga("focusout"),na=ga("keydown"),Rv=ga("keyup"),Hc=ga("input"),jl=ga("change"),Sl=ga("click"),Xp=ga("transitioncancel"),Lh=ga("transitionend"),Iv=ga("transitionstart"),s0=ga("selectstart"),mr=t=>Ee("alloy."+t),Dv={tap:mr("tap")},Vc=mr("focus"),Nv=mr("blur.post"),Mv=mr("paste.post"),Vf=mr("receive"),zs=mr("execute"),of=mr("focus.item"),d1=Dv.tap,kv=mr("longpress"),$m=mr("sandbox.close"),f1=mr("typeahead.cancel"),Qp=mr("system.init"),p_=mr("system.touchmove"),sl=mr("system.touchend"),zu=mr("system.scroll"),Uf=mr("system.resize"),sf=mr("system.attached"),Wu=mr("system.detached"),pu=mr("system.dismissRequested"),Jp=mr("system.repositionRequested"),h1=mr("focusmanager.shifted"),zf=mr("slotcontainer.visibility"),r0=mr("system.external.element.scroll"),Bm=mr("change.tab"),Fm=mr("dismiss.tab"),g_=mr("highlight"),eg=mr("dehighlight"),ss=(t,s)=>{tg(t,t.element,s,{})},Mn=(t,s,i)=>{tg(t,t.element,s,i)},rf=t=>{ss(t,zs())},af=(t,s,i)=>{tg(t,s,i,{})},tg=(t,s,i,u)=>{const m={target:s,...u};t.getSystem().triggerEvent(i,s,m)},m1=(t,s,i,u)=>{const m={...u,target:s};t.getSystem().triggerEvent(i,s,m)},i0=(t,s,i,u)=>{t.getSystem().triggerEvent(i,s,u.event)},js=t=>Sc(t),p1=(t,s)=>({key:t,value:Ff({abort:s})}),Pv=(t,s)=>({key:t,value:Ff({can:s})}),Lv=t=>({key:t,value:Ff({run:(s,i)=>{i.event.prevent()}})}),Dt=(t,s)=>({key:t,value:Ff({run:s})}),$v=(t,s,i)=>({key:t,value:Ff({run:(u,m)=>{s.apply(void 0,[u,m].concat(i))}})}),Ed=t=>s=>Dt(t,s),$h=t=>s=>({key:t,value:Ff({run:(i,u)=>{Pm(i,u)&&s(i,u)}})}),g1=(t,s)=>Dt(t,(i,u)=>{i.getSystem().getByUid(s).each(m=>{i0(m,m.element,t,u)})}),Wf=(t,s,i)=>{const u=s.partUids[i];return g1(t,u)},ng=(t,s)=>Dt(t,(i,u)=>{const m=u.event,b=i.getSystem().getByDom(m.target).getOrThunk(()=>xv(m.target,O=>i.getSystem().getByDom(O).toOptional(),wt).getOr(i));s(i,b,u)}),Hm=t=>Dt(t,(s,i)=>{i.cut()}),a0=t=>Dt(t,(s,i)=>{i.stop()}),qa=(t,s)=>$h(t)(s),Tr=$h(sf()),xc=$h(Wu()),Vm=$h(Qp()),Zl=Ed(zs()),Um=(t,s)=>{const u=(s||document).createElement("div");return u.innerHTML=t,tc(Qe.fromDom(u))},Oo=t=>t.dom.innerHTML,wd=(t,s)=>{const u=ri(t).dom,m=Qe.fromDom(u.createDocumentFragment()),b=Um(s,u);Ht(m,b),lt(t),Le(t,m)},v1=t=>{const s=Qe.fromTag("div"),i=Qe.fromDom(t.dom.cloneNode(!0));return Le(s,i),Oo(s)},Bh=(t,s)=>Qe.fromDom(t.dom.cloneNode(s)),Gf=t=>Bh(t,!1),cf=t=>{if(Sm(t))return"#shadow-root";{const s=Gf(t);return v1(s)}},Gu=t=>cf(t),cc=(t,s,i)=>bs(s,t.element)&&!bs(s,i),Hw=js([Pv(Vc(),(t,s)=>{const i=s.event,u=i.originator,m=i.target;return cc(t,u,m)?(console.warn(Vc()+` did not get interpreted by the desired target. 
Originator: `+Gu(u)+`
Target: `+Gu(m)+`
Check the `+Vc()+" event handlers"),!1):!0})]);var og=Object.freeze({__proto__:null,events:Hw});let Hi=0;const _n=t=>{const i=new Date().getTime(),u=Math.floor(Math.random()*1e9);return Hi++,t+"_"+u+Hi+String(i)},Bv=Ee("alloy-id-"),v_=Ee("data-alloy-id"),lc=Bv(),c0=v_(),lf=(t,s)=>{const i=_n(lc+t);return Uc(s,i),i},Uc=(t,s)=>{Object.defineProperty(t.dom,c0,{value:s,writable:!0})},qu=t=>{const s=Cs(t)?t.dom[c0]:null;return P.from(s)},Yl=t=>_n(t),sg=qe,zm=t=>{const s=m=>`The component must be in a context to execute: ${m}`+(t?`
`+Gu(t().element)+" is not in context.":""),i=m=>()=>{throw new Error(s(m))},u=m=>()=>{console.warn(s(m))};return{debugInfo:Ee("fake"),triggerEvent:u("triggerEvent"),triggerFocus:u("triggerFocus"),triggerEscape:u("triggerEscape"),broadcast:u("broadcast"),broadcastOn:u("broadcastOn"),broadcastEvent:u("broadcastEvent"),build:i("build"),buildOrPatch:i("buildOrPatch"),addToWorld:i("addToWorld"),removeFromWorld:i("removeFromWorld"),addToGui:i("addToGui"),removeFromGui:i("removeFromGui"),getByUid:i("getByUid"),getByDom:i("getByDom"),isConnected:wt}},Vw=zm(),rg=(t,s,i)=>{const u=i.toString(),m=u.indexOf(")")+1,b=u.indexOf("("),w=u.substring(b+1,m-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:ig(w.slice(0,1).concat(w.slice(3)))}),t},ig=t=>et(t,s=>Fa(s,"/*")?s.substring(0,s.length-2):s),Wm=(t,s)=>{const i=t.toString(),u=i.indexOf(")")+1,m=i.indexOf("("),b=i.substring(m+1,u-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:ig(b)}),t},ag=(t,s)=>{const i=s.toString(),u=i.indexOf(")")+1,m=i.indexOf("("),b=i.substring(m+1,u-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:ig(b.slice(1))}),t},Gm=_n("alloy-premade"),b_=t=>(Object.defineProperty(t.element.dom,Gm,{value:t.uid,writable:!0}),Uu(Gm,t)),Fv=t=>Ho(t.dom,Gm),Fh=t=>an(t,Gm),b1=t=>ag((s,...i)=>t(s.getApis(),s,...i),t),xl={init:()=>Ac({readState:Ee("No State required")})},Ac=t=>t,uf=(t,s)=>{const i=et(s,m=>dn(m.name(),[xt("config"),We("state",xl)])),u=ts("component.behaviours",Pn(i),t.behaviours).fold(m=>{throw new Error(Cc(m)+`
Complete spec:
`+JSON.stringify(t,null,2))},qe);return{list:s,data:Ms(u,m=>{const b=m.map(w=>({config:w.config,state:w.state.init(w.config)}));return Ee(b)})}},Hh=t=>t.list,Hv=t=>t.data,cg=(t,s)=>{const i={};return Yr(t,(u,m)=>{Yr(u,(b,w)=>{const O=an(i,w).getOr([]);i[w]=O.concat([s(m,b)])})}),i},ju=t=>({classes:ie(t.classes)?[]:t.classes,attributes:ie(t.attributes)?{}:t.attributes,styles:ie(t.styles)?{}:t.styles}),qm=(t,s)=>({...t,attributes:{...t.attributes,...s.attributes},styles:{...t.styles,...s.styles},classes:t.classes.concat(s.classes)}),jm=(t,s,i,u)=>{const m={...s};It(i,G=>{m[G.name()]=G.exhibit(t,u)});const b=cg(m,(G,Q)=>({name:G,modification:Q})),w=G=>Bt(G,(Q,te)=>({...te.modification,...Q}),{}),O=Bt(b.classes,(G,Q)=>Q.modification.concat(G),[]),M=w(b.attributes),F=w(b.styles);return ju({classes:O,attributes:M,styles:F})},uc=(t,s,i,u)=>{try{const m=Pc(i,(b,w)=>{const O=b[s],M=w[s],F=u.indexOf(O),G=u.indexOf(M);if(F===-1)throw new Error("The ordering for "+t+" does not have an entry for "+O+`.
Order specified: `+JSON.stringify(u,null,2));if(G===-1)throw new Error("The ordering for "+t+" does not have an entry for "+M+`.
Order specified: `+JSON.stringify(u,null,2));return F<G?-1:G<F?1:0});return ro.value(m)}catch(m){return ro.error([m])}},qf=(t,s)=>({handler:t,purpose:s}),Uw=(t,s)=>({cHandler:t,purpose:s}),l0=(t,s)=>Uw(yt.apply(void 0,[t.handler].concat(s)),t.purpose),u0=t=>t.cHandler,sr=(t,s)=>({name:t,handler:s}),zw=(t,s)=>{const i={};return It(t,u=>{i[u.name()]=u.handlers(s)}),i},y_=(t,s,i)=>{const u={...i,...zw(s,t)};return cg(u,sr)},Ww=(t,s,i,u)=>{const m=y_(t,i,u);return Vi(m,s)},Vv=t=>{const s=Ss(t);return(i,u,...m)=>{const b=[i,u].concat(m);s.abort.apply(void 0,b)?u.stop():s.can.apply(void 0,b)&&s.run.apply(void 0,b)}},lg=(t,s)=>ro.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(et(s,i=>i.name),null,2)]),jf=(t,s,i)=>{const u=s[i];return u?uc("Event: "+i,"name",t,u).map(m=>{const b=et(m,w=>w.handler);return o0(b)}):lg(i,t)},Vi=(t,s)=>{const i=Gd(t,(u,m)=>(u.length===1?ro.value(u[0].handler):jf(u,s,m)).map(w=>{const O=Vv(w),M=u.length>1?uo(s[m],F=>Bo(u,G=>G.name===F)).join(" > "):u[0].name;return Uu(m,qf(O,M))}));return h_(i,{})},Zf="alloy.base.behaviour",d0=Pn([jr("dom","dom",Ua(),Pn([xt("tag"),We("styles",{}),We("classes",[]),We("attributes",{}),Yo("value"),Yo("innerHtml")])),xt("components"),xt("uid"),We("events",{}),We("apis",{}),jr("eventOrder","eventOrder",ge({[zs()]:["disabling",Zf,"toggling","typeaheadevents"],[Vc()]:[Zf,"focusing","keying"],[Qp()]:[Zf,"disabling","toggling","representing"],[Hc()]:[Zf,"representing","streaming","invalidating"],[Wu()]:[Zf,"representing","item-events","tooltipping"],[Fi()]:["focusing",Zf,"item-type-events"],[ql()]:["focusing",Zf,"item-type-events"],[nf()]:["item-type-events","tooltipping"],[Vf()]:["receiving","reflecting","tooltipping"]}),_l()),Yo("domModification")]),Ci=t=>ts("custom.definition",d0,t),Uv=t=>({...t.dom,uid:t.uid,domChildren:et(t.components,s=>s.element)}),y1=t=>t.domModification.fold(()=>ju({}),ju),gx=t=>t.events,__=(t,s)=>{const i=Mi(t,s);return i===void 0||i===""?[]:i.split(" ")},Vh=(t,s,i)=>{const m=__(t,s).concat([i]);return co(t,s,m.join(" ")),!0},Yf=(t,s,i)=>{const u=uo(__(t,s),m=>m!==i);return u.length>0?co(t,s,u.join(" ")):T(t,s),!1},zv=t=>t.dom.classList!==void 0,E_=t=>__(t,"class"),vx=(t,s)=>Vh(t,"class",s),Td=(t,s)=>Yf(t,"class",s),xs=(t,s)=>{zv(t)?t.dom.classList.add(s):vx(t,s)},w_=t=>{(zv(t)?t.dom.classList:E_(t)).length===0&&T(t,"class")},Ls=(t,s)=>{zv(t)?t.dom.classList.remove(s):Td(t,s),w_(t)},oa=(t,s)=>zv(t)&&t.dom.classList.contains(s),gu=(t,s)=>{It(s,i=>{xs(t,i)})},zc=(t,s)=>{It(s,i=>{Ls(t,i)})},Uh=(t,s)=>gi(s,i=>oa(t,i)),ug=t=>{const s=t.dom.classList,i=new Array(s.length);for(let u=0;u<s.length;u++){const m=s.item(u);m!==null&&(i[u]=m)}return i},Kf=t=>zv(t)?ug(t):E_(t),Kl=t=>t.dom.value,Zu=(t,s)=>{if(s===void 0)throw new Error("Value.set was undefined");t.dom.value=s},zh=(t,s,i)=>Du(t,s).map(m=>{if(i.exists(w=>!bs(w,m))){const w=i.map(Ja).getOr("span"),O=Qe.fromTag(w);return Tc(m,O),O}else return m}),_1=(t,s,i)=>{i.fold(()=>Le(t,s),u=>{bs(u,s)||(Tc(u,s),Ct(u))})},f0=(t,s,i)=>{const u=et(s,i),m=tc(t);return It(m.slice(u.length),Ct),u},T_=(t,s,i,u)=>{const m=Du(t,s),b=u(i,m),w=zh(t,s,m);return _1(t,b.element,w),b},C_=(t,s,i)=>f0(t,s,(u,m)=>T_(t,m,u,i)),dg=(t,s)=>f0(t,s,(i,u)=>{const m=Du(t,u);return _1(t,i,m),i}),h0=(t,s)=>{const i=Os(t),u=Os(s),m=Lt(u,i),b=vr(t,(w,O)=>!Ho(s,O)||w!==s[O]).t;return{toRemove:m,toSet:b}},Gw=(t,s)=>{const{class:i,style:u,...m}=N(s),{toSet:b,toRemove:w}=h0(t.attributes,m),O=()=>{It(w,dt=>T(s,dt)),Do(s,b)},M=_t(s),{toSet:F,toRemove:G}=h0(t.styles,M),Q=()=>{It(G,dt=>st(s,dt)),le(s,F)},te=Kf(s),ae=Lt(te,t.classes),Te=Lt(t.classes,te),Me=()=>{gu(s,Te),zc(s,ae)},ot=dt=>{wd(s,dt)},Ue=()=>{const dt=t.domChildren;dg(s,dt)},nt=()=>{const dt=s,gt=t.value.getOrUndefined();gt!==Kl(dt)&&Zu(dt,gt??"")};return O(),Me(),Q(),t.innerHtml.fold(Ue,ot),nt(),s},qw=t=>{const s=Qe.fromTag(t.tag);Do(s,t.attributes),gu(s,t.classes),le(s,t.styles),t.innerHtml.each(u=>wd(s,u));const i=t.domChildren;return Ht(s,i),t.value.each(u=>{Zu(s,u)}),s},S_=(t,s)=>{try{const i=Gw(t,s);return P.some(i)}catch{return P.none()}},x_=t=>t.innerHtml.isSome()&&t.domChildren.length>0,m0=(t,s)=>{const i=m=>Ja(m)===t.tag&&!x_(t)&&!Fv(m),u=s.filter(i).bind(m=>S_(t,m)).getOrThunk(()=>qw(t));return Uc(u,t.uid),u},A_=t=>{const s=an(t,"behaviours").getOr({});return mt(Os(s),i=>{const u=s[i];return ue(u)?[u.me]:[]})},jw=(t,s)=>uf(t,s),p0=t=>{const s=A_(t);return jw(t,s)},Zm=(t,s,i)=>{const u=Uv(t),m=y1(t),b={"alloy.base.modification":m},w=s.length>0?jm(i,b,s,u):m;return qm(u,w)},g0=(t,s,i)=>{const u={"alloy.base.behaviour":gx(t)};return Ww(i,t.eventOrder,s,u).getOrDie()},Zw=(t,s)=>{const i=()=>dt,u=Wn(Vw),m=Po(Ci(t)),b=p0(t),w=Hh(b),O=Hv(b),M=Zm(m,w,O),F=m0(M,s),G=g0(m,w,O),Q=Wn(m.components),te=gt=>{u.set(gt)},ae=()=>{u.set(zm(i))},Te=()=>{const gt=tc(F),Qt=mt(gt,Pt=>u.get().getByDom(Pt).fold(()=>[],Ns));Q.set(Qt)},Me=gt=>{const Qt=O;return(ce(Qt[gt.name()])?Qt[gt.name()]:()=>{throw new Error("Could not find "+gt.name()+" in "+JSON.stringify(t,null,2))})()},ot=gt=>ce(O[gt.name()]),Ue=()=>m.apis,nt=gt=>O[gt]().map(Qt=>Qt.state.readState()).getOr("not enabled"),dt={uid:t.uid,getSystem:u.get,config:Me,hasConfigured:ot,spec:t,readState:nt,getApis:Ue,connect:te,disconnect:ae,element:F,syncComponents:Te,components:Q.get,events:G};return dt},Yw=(t,s)=>{const i=an(t,"components").getOr([]);return s.fold(()=>et(i,dc),u=>et(i,(m,b)=>Wv(m,Du(u,b))))},O_=(t,s)=>{const{events:i,...u}=sg(t),m=Yw(u,s),b={...u,events:{...og,...i},components:m};return ro.value(Zw(b,s))},Cr=t=>{const s=Qe.fromText(t);return df({element:s})},df=t=>{const s=Jr("external.component",pa([xt("element"),Yo("uid")]),t),i=Wn(zm()),u=O=>{i.set(O)},m=()=>{i.set(zm(()=>w))},b=s.uid.getOrThunk(()=>Yl("external"));Uc(s.element,b);const w={uid:b,getSystem:i.get,config:P.none,hasConfigured:wt,connect:u,disconnect:m,getApis:()=>({}),element:s.element,spec:t,readState:Ee("No state"),syncComponents:K,components:Ee([]),events:{}};return b_(w)},Wh=Yl,R_=t=>Ho(t,"uid"),Wv=(t,s)=>Fh(t).getOrThunk(()=>{const i=R_(t)?t:{uid:Wh(""),...t};return O_(i,s).getOrDie()}),dc=t=>Wv(t,P.none()),rl=b_;var Ym=(t,s,i,u,m)=>t(i,u)?P.some(i):ce(m)&&m(i)?P.none():s(i,u,m);const Gv=(t,s,i)=>{let u=t.dom;const m=ce(i)?i:wt;for(;u.parentNode;){u=u.parentNode;const b=Qe.fromDom(u);if(s(b))return P.some(b);if(m(b))break}return P.none()},v0=(t,s,i)=>Ym((m,b)=>b(m),Gv,t,s,i),I_=(t,s)=>{const i=m=>s(Qe.fromDom(m));return kn(t.dom.childNodes,i).map(Qe.fromDom)},b0=(t,s)=>{const i=u=>{for(let m=0;m<u.childNodes.length;m++){const b=Qe.fromDom(u.childNodes[m]);if(s(b))return P.some(b);const w=i(u.childNodes[m]);if(w.isSome())return w}return P.none()};return i(t.dom)},D_=(t,s,i)=>v0(t,s,i).isSome(),Al=(t,s,i)=>Gv(t,u=>yc(u,s),i),Xf=(t,s)=>I_(t,i=>yc(i,s)),Nr=(t,s)=>du(s,t),ff=(t,s,i)=>Ym((m,b)=>yc(m,b),Al,t,s,i),Cd="aria-controls",Kw=t=>v0(t,i=>{if(!Cs(i))return!1;const u=Mi(i,"id");return u!==void 0&&u.indexOf(Cd)>-1}).bind(i=>{const u=Mi(i,"id"),m=Aa(i);return Nr(m,`[${Cd}="${u}"]`)}),N_=()=>{const t=_n(Cd);return{id:t,link:u=>{co(u,Cd,t)},unlink:u=>{T(u,Cd)}}},y0=(t,s)=>Kw(s).exists(i=>Km(t,i)),Km=(t,s)=>D_(s,i=>bs(i,t.element),wt)||y0(t,s),_0="unknown";var fg;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(fg||(fg={}));const Xm=Wn({}),Xw=(t,s)=>{const i=[],u=new Date().getTime();return{logEventCut:(m,b,w)=>{i.push({outcome:"cut",target:b,purpose:w})},logEventStopped:(m,b,w)=>{i.push({outcome:"stopped",target:b,purpose:w})},logNoParent:(m,b,w)=>{i.push({outcome:"no-parent",target:b,purpose:w})},logEventNoHandlers:(m,b)=>{i.push({outcome:"no-handlers-left",target:b})},logEventResponse:(m,b,w)=>{i.push({outcome:"response",purpose:w,target:b})},write:()=>{const m=new Date().getTime();vo(["mousemove","mouseover","mouseout",Qp()],t)||console.log(t,{event:t,time:m-u,target:s.dom,sequence:et(i,b=>vo(["cut","stopped","response"],b.outcome)?"{"+b.purpose+"} "+b.outcome+" at ("+Gu(b.target)+")":b.outcome)})}}},E1=(t,s,i)=>{switch(an(Xm.get(),t).orThunk(()=>{const m=Os(Xm.get());return nr(m,b=>t.indexOf(b)>-1?P.some(Xm.get()[b]):P.none())}).getOr(fg.NORMAL)){case fg.NORMAL:return i(jv());case fg.LOGGING:{const m=Xw(t,s),b=i(m);return m.write(),b}case fg.STOP:return!0}},w1=["alloy/data/Fields","alloy/debugging/Debugging"],E0=()=>{const t=new Error;if(t.stack!==void 0){const s=t.stack.split(`
`);return kn(s,i=>i.indexOf("alloy")>0&&!Bo(w1,u=>i.indexOf(u)>-1)).getOr(_0)}else return _0},qv={logEventCut:K,logEventStopped:K,logNoParent:K,logEventNoHandlers:K,logEventResponse:K,write:K},hg=(t,s,i)=>E1(t,s,i),jv=Ee(qv),Gh=Ee([xt("menu"),xt("selectedMenu")]),mg=Ee([xt("item"),xt("selectedItem")]);Ee(Pn(mg().concat(Gh())));const M_=Ee(Pn(mg())),k_=ac("initSize",[xt("numColumns"),xt("numRows")]),T1=()=>El("markers",M_()),Sd=()=>ac("markers",[xt("backgroundMenu")].concat(Gh()).concat(mg())),vu=t=>ac("markers",et(t,xt)),C1=(t,s,i)=>(E0(),jr(s,s,i,Jd(u=>ro.value((...m)=>u.apply(void 0,m))))),Ke=t=>C1("onHandler",t,Bu(K)),Sr=t=>C1("onKeyboardHandler",t,Bu(P.none)),Qm=t=>C1("onHandler",t,Ua()),w0=t=>C1("onKeyboardHandler",t,Ua()),er=(t,s)=>ys(t,Ee(s)),Yu=t=>ys(t,qe),S1=Ee(k_),sa=(t,s,i,u,m,b,w,O=!1)=>({x:t,y:s,bubble:i,direction:u,placement:m,restriction:b,label:`${w}-${m}`,alwaysFit:O}),Ku=mu.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),T0=(t,s,i,u,m,b,w,O,M)=>t.fold(s,i,u,m,b,w,O,M),P_=(t,s,i,u)=>t.fold(s,s,u,u,s,u,i,i),Zv=(t,s,i,u)=>t.fold(s,u,s,u,i,i,s,u),Jm=Ku.southeast,qh=Ku.southwest,Yv=Ku.northeast,x1=Ku.northwest,Oc=Ku.south,A1=Ku.north,C0=Ku.east,O1=Ku.west,Qf=(t,s,i,u)=>{const m=t+s;return m>u?i:m<i?u:m},Rc=(t,s,i)=>Math.min(Math.max(t,s),i),Qw=(t,s)=>{switch(s){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},va=(t,s)=>Lr(["left","right","top","bottom"],i=>an(s,i).map(u=>Qw(t,u))),Kv=(t,s,i)=>{const u=(M,F)=>s[M].map(G=>{const Q=M==="top"||M==="bottom",te=Q?i.top:i.left,Te=(M==="left"||M==="top"?Math.max:Math.min)(G,F)+te;return Q?Rc(Te,t.y,t.bottom):Rc(Te,t.x,t.right)}).getOr(F),m=u("left",t.x),b=u("top",t.y),w=u("right",t.right),O=u("bottom",t.bottom);return Ps(m,b,w-m,O-b)},hf="layout",R1=t=>t.x,L_=(t,s)=>t.x+t.width/2-s.width/2,S0=(t,s)=>t.x+t.width-s.width,x0=(t,s)=>t.y-s.height,A0=t=>t.y+t.height,O0=(t,s)=>t.y+t.height/2-s.height/2,$_=t=>t.x+t.width,Jw=(t,s)=>t.x-s.width,ba=(t,s,i)=>sa(R1(t),A0(t),i.southeast(),Jm(),"southeast",va(t,{left:1,top:3}),hf),Ui=(t,s,i)=>sa(S0(t,s),A0(t),i.southwest(),qh(),"southwest",va(t,{right:0,top:3}),hf),Wc=(t,s,i)=>sa(R1(t),x0(t,s),i.northeast(),Yv(),"northeast",va(t,{left:1,bottom:2}),hf),Ol=(t,s,i)=>sa(S0(t,s),x0(t,s),i.northwest(),x1(),"northwest",va(t,{right:0,bottom:2}),hf),Is=(t,s,i)=>sa(L_(t,s),x0(t,s),i.north(),A1(),"north",va(t,{bottom:2}),hf),ka=(t,s,i)=>sa(L_(t,s),A0(t),i.south(),Oc(),"south",va(t,{top:3}),hf),Xu=(t,s,i)=>sa($_(t),O0(t,s),i.east(),C0(),"east",va(t,{left:0}),hf),Jf=(t,s,i)=>sa(Jw(t,s),O0(t,s),i.west(),O1(),"west",va(t,{right:1}),hf),ds=()=>[ba,Ui,Wc,Ol,ka,Is,Xu,Jf],Xv=()=>[Ui,ba,Ol,Wc,ka,Is,Xu,Jf],Gc=()=>[Wc,Ol,ba,Ui,Is,ka],zi=()=>[Ol,Wc,Ui,ba,Is,ka],I1=()=>[ba,Ui,Wc,Ol,ka,Is],xd=()=>[Ui,ba,Ol,Wc,ka,Is],R0=(t,s)=>s.universal?t:uo(t,i=>vo(s.channels,i));var Qv=Object.freeze({__proto__:null,events:t=>js([Dt(Vf(),(s,i)=>{const u=t.channels,m=Os(u),b=i,w=R0(m,b);It(w,O=>{const M=u[O],F=M.schema,G=Jr("channel["+O+`] data
Receiver: `+Gu(s.element),F,b.data);M.onReceive(s,G)})})])}),I0=[El("channels",hr(ro.value,pa([Qm("onReceive"),We("schema",_l())])))];const Jv=(t,s,i)=>Zl(u=>{i(u,t,s)}),D1=(t,s,i)=>Vm((u,m)=>{i(u,t,s)}),B_=(t,s,i,u,m,b)=>{const w=pa(t),O=dn(s,[Ko("config",t)]);return Wi(w,O,s,i,u,m,b)},yn=(t,s,i,u,m,b)=>{const w=t,O=dn(s,[$e("config",t)]);return Wi(w,O,s,i,u,m,b)},eb=(t,s,i)=>rg((m,...b)=>{const w=[m].concat(b);return m.config({name:Ee(t)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+i)},O=>{const M=Array.prototype.slice.call(w,1);return s.apply(void 0,[m,O.config,O.state].concat(M))})},i,s),N1=t=>({key:t,value:void 0}),Wi=(t,s,i,u,m,b,w)=>{const O=Q=>ca(Q,i)?Q[i]():P.none(),M=Ms(m,(Q,te)=>eb(i,Q,te)),G={...Ms(b,(Q,te)=>Wm(Q,te)),...M,revoke:yt(N1,i),config:Q=>{const te=Jr(i+"-config",t,Q);return{key:i,value:{config:te,me:G,configAsRaw:Ei(()=>Jr(i+"-config",t,Q)),initialConfig:Q,state:w}}},schema:Ee(s),exhibit:(Q,te)=>id(O(Q),an(u,"exhibit"),(ae,Te)=>Te(te,ae.config,ae.state)).getOrThunk(()=>ju({})),name:Ee(i),handlers:Q=>O(Q).map(te=>an(u,"events").getOr(()=>({}))(te.config,te.state)).getOr({})};return G},kt=t=>Sc(t),F_=pa([xt("fields"),xt("name"),We("active",{}),We("apis",{}),We("state",xl),We("extra",{})]),ya=t=>{const s=Jr("Creating behaviour: "+t.name,F_,t);return B_(s.fields,s.name,s.active,s.apis,s.extra,s.state)},eT=pa([xt("branchKey"),xt("branches"),xt("name"),We("active",{}),We("apis",{}),We("state",xl),We("extra",{})]),H_=t=>{const s=Jr("Creating behaviour: "+t.name,eT,t);return yn(or(s.branchKey,s.branches),s.name,s.active,s.apis,s.extra,s.state)},V_=Ee(void 0),bu=ya({fields:I0,name:"receiving",active:Qv});var pg=Object.freeze({__proto__:null,exhibit:(t,s)=>ju({classes:[],styles:s.useFixed()?{}:{position:"relative"}})});const il=t=>t.dom.focus(),M1=t=>t.dom.blur(),k1=t=>{const s=Aa(t).dom;return t.dom===s.activeElement},Ad=(t=so())=>P.from(t.dom.activeElement).map(Qe.fromDom),Xl=t=>Ad(Aa(t)).filter(s=>t.dom.contains(s.dom)),al=(t,s)=>{const i=Aa(s),u=Ad(i).bind(b=>{const w=O=>bs(b,O);return w(s)?P.some(s):b0(s,w)}),m=t(s);return u.each(b=>{Ad(i).filter(w=>bs(w,b)).fold(()=>{il(b)},K)}),m},Ic=(t,s,i,u,m)=>{const b=w=>w+"px";return{position:t,left:s.map(b),top:i.map(b),right:u.map(b),bottom:m.map(b)}},tT=t=>({...t,position:P.some(t.position)}),tb=(t,s)=>{ye(t,tT(s))},nb=mu.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),jh=(t,s,i,u,m,b)=>{const w=s.rect,O=w.x-i,M=w.y-u,F=w.width,G=w.height,Q=m-(O+F),te=b-(M+G),ae=P.some(O),Te=P.some(M),Me=P.some(Q),ot=P.some(te),Ue=P.none();return T0(s.direction,()=>Ic(t,ae,Te,Ue,Ue),()=>Ic(t,Ue,Te,Me,Ue),()=>Ic(t,ae,Ue,Ue,ot),()=>Ic(t,Ue,Ue,Me,ot),()=>Ic(t,ae,Te,Ue,Ue),()=>Ic(t,ae,Ue,Ue,ot),()=>Ic(t,ae,Te,Ue,Ue),()=>Ic(t,Ue,Te,Me,Ue))},U_=(t,s)=>t.fold(()=>{const i=s.rect;return Ic("absolute",P.some(i.x),P.some(i.y),P.none(),P.none())},(i,u,m,b)=>jh("absolute",s,i,u,m,b),(i,u,m,b)=>jh("fixed",s,i,u,m,b)),ob=(t,s)=>{const i=yt(Va,s),u=t.fold(i,i,()=>{const w=Xt();return Va(s).translate(-w.left,-w.top)}),m=Ir(s),b=lr(s);return Ps(u.left,u.top,m,b)},eh=(t,s)=>s.fold(()=>t.fold(Da,Da,Ps),i=>t.fold(Ee(i),Ee(i),()=>{const u=_s(t,i.x,i.y);return Ps(u.left,u.top,i.width,i.height)})),_s=(t,s,i)=>{const u=Kn(s,i),m=()=>{const b=Xt();return u.translate(-b.left,-b.top)};return t.fold(Ee(u),Ee(u),m)},ep=(t,s,i,u)=>t.fold(s,i,u);nb.none;const pr=nb.relative,z_=nb.fixed,tp=(t,s)=>({anchorBox:t,origin:s}),Mr=(t,s)=>tp(t,s),sb="data-alloy-placement",W_=(t,s)=>{co(t,sb,s)},gg=t=>Kr(t,sb),nT=t=>T(t,sb),P1=mu.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),G_=(t,s)=>{const{x:i,y:u,right:m,bottom:b}=s,{x:w,y:O,right:M,bottom:F,width:G,height:Q}=t,te=w>=i&&w<=m,ae=O>=u&&O<=b,Te=te&&ae,Me=M<=m&&M>=i,ot=F<=b&&F>=u,Ue=Me&&ot,nt=Math.min(G,w>=i?m-w:M-i),dt=Math.min(Q,O>=u?b-O:F-u);return{originInBounds:Te,sizeInBounds:Ue,visibleW:nt,visibleH:dt}},q_=(t,s)=>{const{x:i,y:u,right:m,bottom:b}=s,{x:w,y:O,width:M,height:F}=t,G=Math.max(i,m-M),Q=Math.max(u,b-F),te=Rc(w,i,G),ae=Rc(O,u,Q),Te=Math.min(te+M,m)-te,Me=Math.min(ae+F,b)-ae;return Ps(te,ae,Te,Me)},D0=(t,s,i)=>{const u=Ee(s.bottom-i.y),m=Ee(i.bottom-s.y),b=P_(t,m,m,u),w=Ee(s.right-i.x),O=Ee(i.right-s.x);return{maxWidth:Zv(t,O,O,w),maxHeight:b}},N0=(t,s,i,u)=>{const m=t.bubble,b=m.offset,w=Kv(u,t.restriction,b),O=t.x+b.left,M=t.y+b.top,F=Ps(O,M,s,i),{originInBounds:G,sizeInBounds:Q,visibleW:te,visibleH:ae}=G_(F,w),Te=G&&Q,Me=Te?F:q_(F,w),ot=Me.width>0&&Me.height>0,{maxWidth:Ue,maxHeight:nt}=D0(t.direction,Me,u),dt={rect:Me,maxHeight:nt,maxWidth:Ue,direction:t.direction,placement:t.placement,classes:{on:m.classesOn,off:m.classesOff},layout:t.label,testY:M};return Te||t.alwaysFit?P1.fit(dt):P1.nofit(dt,te,ae,ot)},j_=(t,s,i,u,m,b)=>{const w=u.width,O=u.height,M=(G,Q,te,ae,Te)=>{const Me=G(i,u,m,t,b),ot=N0(Me,w,O,b);return ot.fold(Ee(ot),(Ue,nt,dt,gt)=>(Te===gt?dt>ae||nt>te:!Te&&gt)?ot:P1.nofit(Q,te,ae,Te))};return gs(s,(G,Q)=>{const te=yt(M,Q);return G.fold(Ee(G),te)},P1.nofit({rect:i,maxHeight:u.height,maxWidth:u.width,direction:Jm(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:i.y},-1,-1,!1)).fold(qe,qe)},mf=t=>{const s=Wn(P.none()),i=()=>s.get().each(t);return{clear:()=>{i(),s.set(P.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:O=>{i(),s.set(P.some(O))}}},rb=()=>mf(t=>t.destroy()),_u=()=>mf(t=>t.unbind()),Zs=()=>{const t=mf(K);return{...t,on:i=>t.get().each(i)}},vg=Ot,Dc=(t,s,i)=>Xr(t,s,vg,i),L1=(t,s,i)=>qs(t,s,vg,i),Z_=Un,ib=["top","bottom","right","left"],$1="data-alloy-transition-timer",M0=(t,s)=>Uh(t,s.classes),Y_=(t,s,i)=>i.exists(u=>{const m=t.mode;return m==="all"?!0:u[m]!==s[m]}),fc=(t,s)=>{const i=u=>parseFloat(u).toFixed(3);return bi(s,(u,m)=>{const b=t[m].map(i),w=u.map(i);return!_h(b,w)}).isSome()},Ql=t=>{const s=b=>{const O=we(t,b).split(/\s*,\s*/);return uo(O,Sa)},i=b=>{if(B(b)&&/^[\d.]+/.test(b)){const w=parseFloat(b);return Fa(b,"ms")?w:w*1e3}else return 0},u=s("transition-delay"),m=s("transition-duration");return gs(m,(b,w,O)=>{const M=i(u[O])+i(w);return Math.max(b,M)},0)},oT=(t,s)=>{const i=_u(),u=_u();let m;const b=F=>{var G;const Q=(G=F.raw.pseudoElement)!==null&&G!==void 0?G:"";return bs(F.target,t)&&Br(Q)&&vo(ib,F.raw.propertyName)},w=F=>{if(fe(F)||b(F)){i.clear(),u.clear();const G=F==null?void 0:F.raw.type;(fe(G)||G===Lh())&&(clearTimeout(m),T(t,$1),zc(t,s.classes))}},O=Dc(t,Iv(),F=>{b(F)&&(O.unbind(),i.set(Dc(t,Lh(),w)),u.set(Dc(t,Xp(),w)))}),M=Ql(t);requestAnimationFrame(()=>{m=setTimeout(w,M+17),co(t,$1,m)})},sT=(t,s)=>{gu(t,s.classes),Kr(t,$1).each(i=>{clearTimeout(parseInt(i,10)),T(t,$1)}),oT(t,s)},rT=(t,s,i,u,m,b)=>{const w=Y_(u,m,b);if(w||M0(t,u)){J(t,"position",i.position);const O=ob(s,t),M=U_(s,{...m,rect:O}),F=Lr(ib,G=>M[G]);fc(i,F)&&(ye(t,F),w&&sT(t,u),Nt(t))}else zc(t,u.classes)},np=t=>({width:Ir(t),height:lr(t)}),k0=(t,s,i,u)=>{st(s,"max-height"),st(s,"max-width");const m=np(s);return j_(s,u.preference,t,m,i,u.bounds)},P0=(t,s)=>{const i=s.classes;zc(t,i.off),gu(t,i.on)},op=(t,s,i)=>{const u=i.maxHeightFunction;u(t,s.maxHeight)},K_=(t,s,i)=>{const u=i.maxWidthFunction;u(t,s.maxWidth)},iT=(t,s,i)=>{const u=U_(i.origin,s);i.transition.each(m=>{rT(t,i.origin,u,m,s,i.lastPlacement)}),tb(t,u)},aT=(t,s)=>{W_(t,s.placement)},L0=(t,s)=>{Gs(t,Math.floor(s))},$0=Ee((t,s)=>{L0(t,s),le(t,{"overflow-x":"hidden","overflow-y":"auto"})}),Zh=Ee((t,s)=>{L0(t,s)}),X_=(t,s,i)=>t[s]===void 0?i:t[s],cT=(t,s,i,u,m,b,w,O)=>{const M=X_(w,"maxHeightFunction",$0()),F=X_(w,"maxWidthFunction",K),G=t.anchorBox,Q=t.origin,te={bounds:eh(Q,b),origin:Q,preference:u,maxHeightFunction:M,maxWidthFunction:F,lastPlacement:m,transition:O};return lT(G,s,i,te)},lT=(t,s,i,u)=>{const m=k0(t,s,i,u);return iT(s,m,u),aT(s,m),P0(s,m),op(s,m,u),K_(s,m,u),{layout:m.layout,placement:m.placement}},uT=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Od=(t,s,i,u=1)=>{const m=t*u,b=s*u,w=M=>an(i,M).getOr([]),O=(M,F,G)=>{const Q=Lt(uT,G);return{offset:Kn(M,F),classesOn:mt(G,w),classesOff:mt(Q,w)}};return{southeast:()=>O(-t,s,["top","alignLeft"]),southwest:()=>O(t,s,["top","alignRight"]),south:()=>O(-t/2,s,["top","alignCentre"]),northeast:()=>O(-t,-s,["bottom","alignLeft"]),northwest:()=>O(t,-s,["bottom","alignRight"]),north:()=>O(-t/2,-s,["bottom","alignCentre"]),east:()=>O(t,-s/2,["valignCentre","left"]),west:()=>O(-t,-s/2,["valignCentre","right"]),insetNortheast:()=>O(m,b,["top","alignLeft","inset"]),insetNorthwest:()=>O(-m,b,["top","alignRight","inset"]),insetNorth:()=>O(-m/2,b,["top","alignCentre","inset"]),insetSoutheast:()=>O(m,-b,["bottom","alignLeft","inset"]),insetSouthwest:()=>O(-m,-b,["bottom","alignRight","inset"]),insetSouth:()=>O(-m/2,-b,["bottom","alignCentre","inset"]),insetEast:()=>O(-m,-b/2,["valignCentre","right","inset"]),insetWest:()=>O(m,-b/2,["valignCentre","left","inset"])}},ab=()=>Od(0,0,{}),sp=qe,cb=(t,s)=>i=>Q_(i)==="rtl"?s:t,Q_=t=>we(t,"direction")==="rtl"?"rtl":"ltr";var pf;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(pf||(pf={}));const B1="data-alloy-vertical-dir",B0=t=>D_(t,s=>Cs(s)&&Mi(s,"data-alloy-vertical-dir")===pf.BottomToTop),Rd=()=>dn("layouts",[xt("onLtr"),xt("onRtl"),Yo("onBottomLtr"),Yo("onBottomRtl")]),Yh=(t,s,i,u,m,b,w)=>{const O=w.map(B0).getOr(!1),M=s.layouts.map(ae=>ae.onLtr(t)),F=s.layouts.map(ae=>ae.onRtl(t)),G=O?s.layouts.bind(ae=>ae.onBottomLtr.map(Te=>Te(t))).or(M).getOr(m):M.getOr(i),Q=O?s.layouts.bind(ae=>ae.onBottomRtl.map(Te=>Te(t))).or(F).getOr(b):F.getOr(u);return cb(G,Q)(t)},F0=(t,s,i)=>{const u=s.hotspot,m=ob(i,u.element),b=Yh(t.element,s,I1(),xd(),Gc(),zi(),P.some(s.hotspot.element));return P.some(sp({anchorBox:m,bubble:s.bubble.getOr(ab()),overrides:s.overrides,layouts:b}))};var J_=[xt("hotspot"),Yo("bubble"),We("overrides",{}),Rd(),er("placement",F0)];const dT=(t,s,i)=>{const u=_s(i,s.x,s.y),m=Ps(u.left,u.top,s.width,s.height),b=Yh(t.element,s,ds(),Xv(),ds(),Xv(),P.none());return P.some(sp({anchorBox:m,bubble:s.bubble,overrides:s.overrides,layouts:b}))};var fT=[xt("x"),xt("y"),We("height",0),We("width",0),We("bubble",ab()),We("overrides",{}),Rd(),er("placement",dT)];const H0=mu.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),hT=t=>t.fold(qe,(s,i,u)=>s.translate(-i,-u)),mT=t=>t.fold(qe,qe),eE=t=>gs(t,(s,i)=>s.translate(i.left,i.top),Kn(0,0)),tE=t=>{const s=et(t,hT);return eE(s)},lb=t=>{const s=et(t,mT);return eE(s)},pT=H0.screen,gT=H0.absolute,vT=(t,s,i)=>{const u=Iu(i.root).dom,m=b=>{const w=ri(b),O=ri(t.element);return bs(w,O)};return P.from(u.frameElement).map(Qe.fromDom).filter(m).map(Ao)},nE=(t,s,i)=>{const u=ri(t.element),m=Xt(u),b=vT(t,s,i).getOr(m);return gT(b,m.left,m.top)},V0=(t,s,i,u)=>{const m=pT(Kn(t,s));return P.some(Qs(m,i,u))},oE=(t,s,i,u,m)=>t.map(b=>{const w=[s,b.point],O=ep(u,()=>lb(w),()=>lb(w),()=>tE(w)),M=Hl(O.left,O.top,b.width,b.height),F=i.showAbove?Gc():I1(),G=i.showAbove?zi():xd(),Q=Yh(m,i,F,G,F,G,P.none());return sp({anchorBox:M,bubble:i.bubble.getOr(ab()),overrides:i.overrides,layouts:Q})}),bT=(t,s,i)=>{const u=nE(t,i,s);return s.node.filter(nc).bind(m=>{const b=m.dom.getBoundingClientRect(),w=V0(b.left,b.top,b.width,b.height),O=s.node.getOr(t.element);return oE(w,u,s,i,O)})};var sE=[xt("node"),xt("root"),Yo("bubble"),Rd(),We("overrides",{}),We("showAbove",!1),er("placement",bT)];const F1="\uFEFF",U0=" ",bg={create:(t,s,i,u)=>({start:t,soffset:s,finish:i,foffset:u})},ub=mu.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),H1=(t,s,i,u)=>t.fold(s,i,u),W0=t=>t.fold(qe,qe,qe),G0=ub.before,rE=ub.on,rp=ub.after,iE={before:G0,on:rE,after:rp,cata:H1,getStart:W0},ip=mu.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),yT=t=>ip.exact(t.start,t.soffset,t.finish,t.foffset),q0=t=>t.match({domRange:s=>Qe.fromDom(s.startContainer),relative:(s,i)=>iE.getStart(s),exact:(s,i,u,m)=>s}),aE=ip.domRange,Jl=ip.relative,j0=ip.exact,db=t=>{const s=q0(t);return Iu(s)},V1=bg.create,th={domRange:aE,relative:Jl,exact:j0,exactFromRange:yT,getWin:db,range:V1},_T=(t,s)=>{s.fold(i=>{t.setStartBefore(i.dom)},(i,u)=>{t.setStart(i.dom,u)},i=>{t.setStartAfter(i.dom)})},U1=(t,s)=>{s.fold(i=>{t.setEndBefore(i.dom)},(i,u)=>{t.setEnd(i.dom,u)},i=>{t.setEndAfter(i.dom)})},cE=(t,s,i)=>{const u=t.document.createRange();return _T(u,s),U1(u,i),u},Pa=(t,s,i,u,m)=>{const b=t.document.createRange();return b.setStart(s.dom,i),b.setEnd(u.dom,m),b},lE=t=>({left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}),ap=t=>{const s=t.getClientRects(),i=s.length>0?s[0]:t.getBoundingClientRect();return i.width>0||i.height>0?P.some(i).map(lE):P.none()},ET=t=>{const s=t.getBoundingClientRect();return s.width>0||s.height>0?P.some(s).map(lE):P.none()},z1=mu.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Z0=(t,s,i)=>s(Qe.fromDom(i.startContainer),i.startOffset,Qe.fromDom(i.endContainer),i.endOffset),yg=(t,s)=>s.match({domRange:i=>({ltr:Ee(i),rtl:P.none}),relative:(i,u)=>({ltr:Ei(()=>cE(t,i,u)),rtl:Ei(()=>P.some(cE(t,u,i)))}),exact:(i,u,m,b)=>({ltr:Ei(()=>Pa(t,i,u,m,b)),rtl:Ei(()=>P.some(Pa(t,m,b,i,u)))})}),cp=(t,s)=>{const i=s.ltr();return i.collapsed?s.rtl().filter(m=>m.collapsed===!1).map(m=>z1.rtl(Qe.fromDom(m.endContainer),m.endOffset,Qe.fromDom(m.startContainer),m.startOffset)).getOrThunk(()=>Z0(t,z1.ltr,i)):Z0(t,z1.ltr,i)},W1=(t,s)=>{const i=yg(t,s);return cp(t,i)},gf=(t,s)=>W1(t,s).match({ltr:(u,m,b,w)=>{const O=t.document.createRange();return O.setStart(u.dom,m),O.setEnd(b.dom,w),O},rtl:(u,m,b,w)=>{const O=t.document.createRange();return O.setStart(b.dom,w),O.setEnd(u.dom,m),O}});z1.ltr,z1.rtl;const Y0=(t,s,i)=>uo(Df(t,i),s),Gi=(t,s)=>ld(s,t),eu=(t,s,i,u)=>{const b=ri(t).dom.createRange();return b.setStart(t.dom,s),b.setEnd(i.dom,u),b},fb=(t,s,i,u)=>{const m=eu(t,s,i,u),b=bs(t,i)&&s===u;return m.collapsed&&!b},uE=t=>P.from(t.getSelection()),dE=t=>{if(t.rangeCount>0){const s=t.getRangeAt(0),i=t.getRangeAt(t.rangeCount-1);return P.some(bg.create(Qe.fromDom(s.startContainer),s.startOffset,Qe.fromDom(i.endContainer),i.endOffset))}else return P.none()},K0=t=>{if(t.anchorNode===null||t.focusNode===null)return dE(t);{const s=Qe.fromDom(t.anchorNode),i=Qe.fromDom(t.focusNode);return fb(s,t.anchorOffset,i,t.focusOffset)?P.some(bg.create(s,t.anchorOffset,i,t.focusOffset)):dE(t)}},lp=t=>uE(t).filter(s=>s.rangeCount>0).bind(K0),G1=(t,s)=>{const i=gf(t,s);return ap(i)},up=(t,s)=>{const i=gf(t,s);return ET(i)},_g=((t,s)=>{const i=b=>{if(!t(b))throw new Error("Can only get "+s+" value of a "+s+" node");return u(b).getOr("")},u=b=>t(b)?P.from(b.dom.nodeValue):P.none();return{get:i,getOption:u,set:(b,w)=>{if(!t(b))throw new Error("Can only set raw "+s+" value of a "+s+" node");b.dom.nodeValue=w}}})(si,"text"),q1=t=>_g.get(t),dp=(t,s)=>({element:t,offset:s}),X0=(t,s)=>{const i=tc(t);if(i.length===0)return dp(t,s);if(s<i.length)return dp(i[s],0);{const u=i[i.length-1],m=si(u)?q1(u).length:tc(u).length;return dp(u,m)}},Eg=(t,s)=>si(t)?dp(t,s):X0(t,s),_a=(t,s)=>s.getSelection.getOrThunk(()=>()=>lp(t))().map(u=>{const m=Eg(u.start,u.soffset),b=Eg(u.finish,u.foffset);return th.range(m.element,m.offset,b.element,b.offset)}),Q0=(t,s,i)=>{const u=Iu(s.root).dom,m=nE(t,i,s),b=_a(u,s).bind(M=>up(u,th.exactFromRange(M)).orThunk(()=>{const G=Qe.fromText(F1);Tc(M.start,G);const Q=G1(u,th.exact(G,0,G,1));return Ct(G),Q}).bind(G=>V0(G.left,G.top,G.width,G.height))),O=_a(u,s).bind(M=>Cs(M.start)?P.some(M.start):Lc(M.start)).getOr(t.element);return oE(b,m,s,i,O)};var Id=[Yo("getSelection"),xt("root"),Yo("bubble"),Rd(),We("overrides",{}),We("showAbove",!1),er("placement",Q0)];const vf="link-layout",Kh=t=>t.x+t.width,fp=(t,s)=>t.x-s.width,p=(t,s)=>t.y-s.height+t.height,_=t=>t.y,R=(t,s,i)=>sa(Kh(t),_(t),i.southeast(),Jm(),"southeast",va(t,{left:0,top:2}),vf),q=(t,s,i)=>sa(fp(t,s),_(t),i.southwest(),qh(),"southwest",va(t,{right:1,top:2}),vf),he=(t,s,i)=>sa(Kh(t),p(t,s),i.northeast(),Yv(),"northeast",va(t,{left:0,bottom:3}),vf),Oe=(t,s,i)=>sa(fp(t,s),p(t,s),i.northwest(),x1(),"northwest",va(t,{right:1,bottom:3}),vf),Fe=()=>[R,q,he,Oe],Ze=()=>[q,R,Oe,he],pt=(t,s,i)=>{const u=ob(i,s.item.element),m=Yh(t.element,s,Fe(),Ze(),Fe(),Ze(),P.none());return P.some(sp({anchorBox:u,bubble:ab(),overrides:s.overrides,layouts:m}))};var en=[xt("item"),Rd(),We("overrides",{}),er("placement",pt)],Jt=or("type",{selection:Id,node:sE,hotspot:J_,submenu:en,makeshift:fT});const pn=[Bi("classes",Dr),Hr("mode","all",["all","layout","placement"])],$n=[We("useFixed",wt),Yo("getBounds")],fo=[El("anchor",Jt),dn("transition",pn)],Lo=()=>{const t=document.documentElement;return z_(0,0,t.clientWidth,t.clientHeight)},No=t=>{const s=Ao(t.element),i=t.element.dom.getBoundingClientRect();return pr(s.left,s.top,i.width,i.height)},Ro=(t,s,i,u,m,b)=>{const w=Mr(s.anchorBox,t);return cT(w,u.element,s.bubble,s.layouts,m,i,s.overrides,b)},$s=(t,s,i,u,m)=>{const b=P.none();fs(t,s,i,u,m,b)},fs=(t,s,i,u,m,b)=>{const w=Jr("placement.info",Pn(fo),m),O=w.anchor,M=u.element,F=i.get(u.uid);al(()=>{J(M,"position","fixed");const G=rt(M,"visibility");J(M,"visibility","hidden");const Q=s.useFixed()?Lo():No(t);O.placement(t,O,Q).each(te=>{const ae=b.orThunk(()=>s.getBounds.map(mn)),Te=Ro(Q,te,ae,u,F,w.transition);i.set(u.uid,Te)}),G.fold(()=>{st(M,"visibility")},te=>{J(M,"visibility",te)}),rt(M,"left").isNone()&&rt(M,"top").isNone()&&rt(M,"right").isNone()&&rt(M,"bottom").isNone()&&gc(rt(M,"position"),"fixed")&&st(M,"position")},M)};var ei=Object.freeze({__proto__:null,position:$s,positionWithinBounds:fs,getMode:(t,s,i)=>s.useFixed()?"fixed":"absolute",reset:(t,s,i,u)=>{const m=u.element;It(["position","left","right","top","bottom"],b=>st(m,b)),nT(m),i.clear(u.uid)}}),Nc=Object.freeze({__proto__:null,init:()=>{let t={};return Ac({readState:()=>t,clear:m=>{ue(m)?delete t[m]:t={}},set:(m,b)=>{t[m]=b},get:m=>an(t,m)})}});const Ws=ya({fields:$n,name:"positioning",active:pg,apis:ei,state:Nc}),bf=t=>t.getSystem().isConnected(),J0=t=>{ss(t,Wu());const s=t.components();It(s,J0)},j1=t=>{const s=t.components();It(s,j1),ss(t,sf())},fE=(t,s)=>{t.getSystem().addToWorld(s),nc(t.element)&&j1(s)},hE=t=>{J0(t),t.getSystem().removeFromWorld(t)},wT=(t,s)=>{Le(t.element,s.element)},mE=t=>{It(t.components(),s=>Ct(s.element)),lt(t.element),t.syncComponents()},_x=(t,s,i)=>{const u=t.components();mE(t);const m=i(s),b=Lt(u,m);It(b,w=>{J0(w),t.getSystem().removeFromWorld(w)}),It(m,w=>{bf(w)?wT(t,w):(t.getSystem().addToWorld(w),wT(t,w),nc(t.element)&&j1(w))}),t.syncComponents()},cR=(t,s,i)=>{const u=t.components(),m=mt(s,O=>Fh(O).toArray());It(u,O=>{vo(m,O)||hE(O)});const b=i(s),w=Lt(u,b);It(w,O=>{bf(O)&&hE(O)}),It(b,O=>{bf(O)||fE(t,O)}),t.syncComponents()},Xh=(t,s)=>{ey(t,s,Le)},ey=(t,s,i)=>{t.getSystem().addToWorld(s),i(t.element,s.element),nc(t.element)&&j1(s),t.syncComponents()},TT=t=>{J0(t),Ct(t.element),t.getSystem().removeFromWorld(t)},Qh=t=>{const s=_c(t.element).bind(i=>t.getSystem().getByDom(i).toOptional());TT(t),s.each(i=>{i.syncComponents()})},CT=t=>{const s=t.components();It(s,TT),lt(t.element),t.syncComponents()},ty=(t,s)=>{ST(t,s,Le)},wg=(t,s)=>{ST(t,s,Ia)},ST=(t,s,i)=>{i(t,s.element);const u=tc(s.element);It(u,m=>{s.getByDom(m).each(j1)})},Ex=t=>{const s=tc(t.element);It(s,i=>{t.getByDom(i).each(J0)}),Ct(t.element)},xT=(t,s,i,u)=>{i.get().each(w=>{CT(t)});const m=s.getAttachPoint(t);Xh(m,t);const b=t.getSystem().build(u);return Xh(t,b),i.set(b),b},Tg=(t,s,i,u)=>{const m=xT(t,s,i,u);return s.onOpen(t,m),m},lR=(t,s,i,u)=>i.get().map(()=>xT(t,s,i,u)),Jh=(t,s,i,u,m)=>{Tx(t,s),Tg(t,s,i,u),m(),gE(t,s)},Qu=(t,s,i)=>{i.get().each(u=>{CT(t),Qh(t),s.onClose(t,u),i.clear()})},wx=(t,s,i)=>i.isOpen(),pE=(t,s,i,u)=>wx(t,s,i)&&i.get().exists(m=>s.isPartOf(t,m,u)),ny=(t,s,i)=>i.get(),AT=(t,s,i,u)=>{rt(t.element,s).fold(()=>{T(t.element,i)},m=>{co(t.element,i,m)}),J(t.element,s,u)},uR=(t,s,i)=>{Kr(t.element,i).fold(()=>st(t.element,s),u=>J(t.element,s,u))},Tx=(t,s,i)=>{const u=s.getAttachPoint(t);J(t.element,"position",Ws.getMode(u)),AT(t,"visibility",s.cloakVisibilityAttr,"hidden")},OT=t=>Bo(["top","left","right","bottom"],s=>rt(t,s).isSome()),gE=(t,s,i)=>{OT(t.element)||st(t.element,"position"),uR(t,"visibility",s.cloakVisibilityAttr)};var dR=Object.freeze({__proto__:null,cloak:Tx,decloak:gE,open:Tg,openWhileCloaked:Jh,close:Qu,isOpen:wx,isPartOf:pE,getState:ny,setContent:lR}),vE=Object.freeze({__proto__:null,events:(t,s)=>js([Dt($m(),(i,u)=>{Qu(i,t,s)})])}),Cx=[Ke("onOpen"),Ke("onClose"),xt("isPartOf"),xt("getAttachPoint"),We("cloakVisibilityAttr","data-precloak-visibility")],hb=Object.freeze({__proto__:null,init:()=>{const t=Zs(),s=Ee("not-implemented");return Ac({readState:s,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})}});const Uo=ya({fields:Cx,name:"sandboxing",active:vE,apis:dR,state:hb}),hp=Ee("dismiss.popups"),mb=Ee("reposition.popups"),RT=Ee("mouse.released"),hR=pa([We("isExtraPart",wt),dn("fireEventInstead",[We("event",pu())])]),oy=t=>{const s=Jr("Dismissal",hR,t);return{[hp()]:{schema:pa([xt("target")]),onReceive:(i,u)=>{Uo.isOpen(i)&&(Uo.isPartOf(i,u.target)||s.isExtraPart(i,u.target)||s.fireEventInstead.fold(()=>Uo.close(i),b=>ss(i,b.event)))}}}},Z1=pa([dn("fireEventInstead",[We("event",Jp())]),ic("doReposition")]),Y1=t=>{const s=Jr("Reposition",Z1,t);return{[mb()]:{onReceive:i=>{Uo.isOpen(i)&&s.fireEventInstead.fold(()=>s.doReposition(i),u=>ss(i,u.event))}}}},IT=(t,s,i)=>{s.store.manager.onLoad(t,s,i)},DT=(t,s,i)=>{s.store.manager.onUnload(t,s,i)};var bE=Object.freeze({__proto__:null,onLoad:IT,onUnload:DT,setValue:(t,s,i,u)=>{s.store.manager.setValue(t,s,i,u)},getValue:(t,s,i)=>s.store.manager.getValue(t,s,i),getState:(t,s,i)=>i}),kT=Object.freeze({__proto__:null,events:(t,s)=>{const i=t.resetOnDom?[Tr((u,m)=>{IT(u,t,s)}),xc((u,m)=>{DT(u,t,s)})]:[D1(t,s,IT)];return js(i)}});const yE=()=>{const t=Wn(null),s=()=>({mode:"memory",value:t.get()}),i=()=>t.get()===null,u=()=>{t.set(null)};return Ac({set:t.set,get:t.get,isNotSet:i,clear:u,readState:s})},ry=()=>Ac({readState:K}),mp=()=>{const t=Wn({}),s=Wn({});return Ac({readState:()=>({mode:"dataset",dataByValue:t.get(),dataByText:s.get()}),lookup:w=>an(t.get(),w).orThunk(()=>an(s.get(),w)),update:w=>{const O=t.get(),M=s.get(),F={},G={};It(w,Q=>{F[Q.value]=Q,an(Q,"meta").each(te=>{an(te,"text").each(ae=>{G[ae]=Q})})}),t.set({...O,...F}),s.set({...M,...G})},clear:()=>{t.set({}),s.set({})}})};var em=Object.freeze({__proto__:null,memory:yE,dataset:mp,manual:ry,init:t=>t.store.manager.state(t)});const Cg=(t,s,i,u)=>{const m=s.store;i.update([u]),m.setValue(t,u),s.onSetValue(t,u)},mR=(t,s,i)=>{const u=s.store,m=u.getDataKey(t);return i.lookup(m).getOrThunk(()=>u.getFallbackEntry(m))},Ax=(t,s,i)=>{s.store.initialValue.each(m=>{Cg(t,s,i,m)})},PT=(t,s,i)=>{i.clear()};var pb=[Yo("initialValue"),xt("getFallbackEntry"),xt("getDataKey"),xt("setValue"),er("manager",{setValue:Cg,getValue:mR,onLoad:Ax,onUnload:PT,state:mp})];const gb=(t,s,i)=>s.store.getValue(t),pR=(t,s,i,u)=>{s.store.setValue(t,u),s.onSetValue(t,u)},gR=(t,s,i)=>{s.store.initialValue.each(u=>{s.store.setValue(t,u)})};var Ox=[xt("getValue"),We("setValue",K),Yo("initialValue"),er("manager",{setValue:pR,getValue:gb,onLoad:gR,onUnload:K,state:xl.init})];const Sg=(t,s,i,u)=>{i.set(u),s.onSetValue(t,u)},LT=(t,s,i)=>i.get(),$T=(t,s,i)=>{s.store.initialValue.each(u=>{i.isNotSet()&&i.set(u)})},_E=(t,s,i)=>{i.clear()};var K1=[Yo("initialValue"),er("manager",{setValue:Sg,getValue:LT,onLoad:$T,onUnload:_E,state:yE})],EE=[Gr("store",{mode:"memory"},or("mode",{memory:K1,manual:Ox,dataset:pb})),Ke("onSetValue"),We("resetOnDom",!1)];const fn=ya({fields:EE,name:"representing",active:kT,apis:bE,extra:{setValueFrom:(t,s)=>{const i=fn.getValue(s);fn.setValue(t,i)}},state:em}),ja=(t,s)=>Nh(t,{},et(s,i=>Mm(i.name(),"Cannot configure "+i.name()+" for "+t)).concat([ys("dump",qe)])),wE=t=>t.dump,kr=(t,s)=>({...kt(s),...t.dump}),yf={field:ja,augment:kr,get:wE},Rx="placeholder",tu=mu.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Ea=t=>Ho(t,"uiType"),TE=(t,s,i,u)=>t.exists(m=>m!==i.owner)?tu.single(!0,Ee(i)):an(u,i.name).fold(()=>{throw new Error("Unknown placeholder component: "+i.name+`
Known: [`+Os(u)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(i,null,2))},m=>m.replace()),CE=(t,s,i,u)=>Ea(i)&&i.uiType===Rx?TE(t,s,i,u):tu.single(!1,Ee(i)),pp=(t,s,i,u)=>CE(t,s,i,u).fold((b,w)=>{const O=Ea(i)?w(s,i.config,i.validated):w(s),M=an(O,"components").getOr([]),F=mt(M,G=>pp(t,s,G,u));return[{...O,components:F}]},(b,w)=>{if(Ea(i)){const O=w(s,i.config,i.validated);return i.validated.preprocess.getOr(qe)(O)}else return w(s)}),Ix=(t,s,i,u)=>mt(i,m=>pp(t,s,m,u)),BT=(t,s)=>{let i=!1;const u=()=>i,m=()=>{if(i)throw new Error("Trying to use the same placeholder more than once: "+t);return i=!0,s},b=()=>s.fold((w,O)=>w,(w,O)=>w);return{name:Ee(t),required:b,used:u,replace:m}},Dx=(t,s,i,u)=>{const m=Ms(u,(w,O)=>BT(O,w)),b=Ix(t,s,i,m);return Yr(m,w=>{if(w.used()===!1&&w.required())throw new Error("Placeholder: "+w.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(s.components,null,2))}),b},FT=tu.single,HT=tu.multiple,VT=Ee(Rx),iy=mu.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),SE=We("factory",{sketch:qe}),ay=We("schema",[]),cy=xt("name"),xE=jr("pname","pname",r1(t=>"<alloy."+_n(t.name)+">"),_l()),Nx=ys("schema",()=>[Yo("preprocess")]),gp=We("defaults",Ee({})),tm=We("overrides",Ee({})),X1=Pn([SE,ay,cy,xE,gp,tm]),vb=Pn([SE,ay,cy,gp,tm]),UT=Pn([SE,ay,cy,xE,gp,tm]),vR=Pn([SE,Nx,cy,xt("unit"),xE,gp,tm]),Mx=t=>t.fold(P.some,P.none,P.some,P.some),AE=t=>{const s=i=>i.name;return t.fold(s,s,s,s)},kx=t=>t.fold(qe,qe,qe,qe),OE=(t,s)=>i=>{const u=Jr("Converting part type",s,i);return t(u)},La=OE(iy.required,X1),_f=OE(iy.external,vb),Dd=OE(iy.optional,UT),ly=OE(iy.group,vR),Eu=Ee("entirety");var Px=Object.freeze({__proto__:null,required:La,external:_f,optional:Dd,group:ly,asNamedPart:Mx,name:AE,asCommon:kx,original:Eu});const zT=(t,s,i,u)=>Js(s.defaults(t,i,u),i,{uid:t.partUids[s.name]},s.overrides(t,i,u)),WT=(t,s,i)=>{const u={},m={};return It(i,b=>{b.fold(w=>{u[w.pname]=FT(!0,(O,M,F)=>w.factory.sketch(zT(O,w,M,F)))},w=>{const O=s.parts[w.name];m[w.name]=Ee(w.factory.sketch(zT(s,w,O[Eu()]),O))},w=>{u[w.pname]=FT(!1,(O,M,F)=>w.factory.sketch(zT(O,w,M,F)))},w=>{u[w.pname]=HT(!0,(O,M,F)=>{const G=O[w.name];return et(G,Q=>w.factory.sketch(Js(w.defaults(O,Q,F),Q,w.overrides(O,Q))))})})}),{internals:Ee(u),externals:Ee(m)}},GT=(t,s)=>{const i={};return It(s,u=>{Mx(u).each(m=>{const b=bR(t,m.pname);i[m.name]=w=>{const O=Jr("Part: "+m.name+" in "+t,Pn(m.schema),w);return{...b,config:w,validated:O}}})}),i},bR=(t,s)=>({uiType:VT(),owner:t,name:s}),qT=(t,s,i)=>({uiType:VT(),owner:t,name:s,config:i,validated:{}}),yR=t=>mt(t,s=>s.fold(P.none,P.some,P.none,P.none).map(i=>ac(i.name,i.schema.concat([Yu(Eu())]))).toArray()),_R=t=>et(t,AE),jT=(t,s,i)=>WT(t,s,i),ZT=(t,s,i)=>Dx(P.some(t),s,s.components,i),rr=(t,s,i)=>{const u=s.partUids[i];return t.getSystem().getByUid(u).toOptional()},nm=(t,s,i)=>rr(t,s,i).getOrDie("Could not find part: "+i),YT=(t,s,i)=>{const u={},m=s.partUids,b=t.getSystem();return It(i,w=>{u[w]=Ee(b.getByUid(m[w]))}),u},KT=(t,s)=>{const i=t.getSystem();return Ms(s.partUids,(u,m)=>Ee(i.getByUid(u)))},XT=t=>Os(t.partUids),QT=(t,s,i)=>{const u={},m=s.partUids,b=t.getSystem();return It(i,w=>{u[w]=Ee(b.getByUid(m[w]).getOrDie())}),u},JT=(t,s)=>{const i=_R(s);return Sc(et(i,u=>({key:u,value:t+"-"+u})))},eC=t=>jr("partUids","partUids",Rm(s=>JT(s.uid,t)),_l());var tC=Object.freeze({__proto__:null,generate:GT,generateOne:qT,schemas:yR,names:_R,substitutes:jT,components:ZT,defaultUids:JT,defaultUidsSchema:eC,getAllParts:KT,getAllPartNames:XT,getPart:rr,getPartOrDie:nm,getParts:YT,getPartsOrDie:QT});const ER=(t,s)=>(t.length>0?[ac("parts",t)]:[]).concat([xt("uid"),We("dom",{}),We("components",[]),Yu("originalSpec"),We("debug.sketcher",{})]).concat(s),Lx=(t,s,i,u,m)=>{const b=ER(u,m);return Jr(t+" [SpecSchema]",pa(b.concat(s)),i)},wR=(t,s,i,u)=>{const m=xg(u),b=Lx(t,s,m,[],[]);return i(b,m)},nC=(t,s,i,u,m)=>{const b=xg(m),w=yR(i),O=eC(i),M=Lx(t,s,b,w,[O]),F=jT(t,M,i),G=ZT(t,M,F.internals());return u(M,G,b,F.externals())},TR=t=>Ho(t,"uid"),xg=t=>TR(t)?t:{...t,uid:Yl("uid")},Cn=t=>t.uid!==void 0,vp=pa([xt("name"),xt("factory"),xt("configFields"),We("apis",{}),We("extraApis",{})]),CR=pa([xt("name"),xt("factory"),xt("configFields"),xt("partFields"),We("apis",{}),We("extraApis",{})]),qi=t=>{const s=Jr("Sketcher for "+t.name,vp,t),i=b=>wR(s.name,s.configFields,s.factory,b),u=Ms(s.apis,b1),m=Ms(s.extraApis,(b,w)=>Wm(b,w));return{name:s.name,configFields:s.configFields,sketch:i,...u,...m}},Si=t=>{const s=Jr("Sketcher for "+t.name,CR,t),i=w=>nC(s.name,s.configFields,s.partFields,s.factory,w),u=GT(s.name,s.partFields),m=Ms(s.apis,b1),b=Ms(s.extraApis,(w,O)=>Wm(w,O));return{name:s.name,partFields:s.partFields,configFields:s.configFields,sketch:i,parts:u,...m,...b}},Ag=t=>xa("input")(t)&&Mi(t,"type")!=="radio"||xa("textarea")(t);var $x=Object.freeze({__proto__:null,getCurrent:(t,s,i)=>s.find(t)});const SR=[xt("find")],Xo=ya({fields:SR,name:"composing",apis:$x}),Bx=["input","button","textarea","select"],IE=(t,s,i)=>{(s.disabled()?sC:rC)(t,s)},Q1=(t,s)=>s.useNative===!0&&vo(Bx,Ja(t.element)),Fx=t=>la(t.element,"disabled"),xR=t=>{co(t.element,"disabled","disabled")},oC=t=>{T(t.element,"disabled")},AR=t=>Mi(t.element,"aria-disabled")==="true",hk=t=>{co(t.element,"aria-disabled","true")},Hx=t=>{co(t.element,"aria-disabled","false")},sC=(t,s,i)=>{s.disableClass.each(m=>{xs(t.element,m)}),(Q1(t,s)?xR:hk)(t),s.onDisabled(t)},rC=(t,s,i)=>{s.disableClass.each(m=>{Ls(t.element,m)}),(Q1(t,s)?oC:Hx)(t),s.onEnabled(t)},Vx=(t,s)=>Q1(t,s)?Fx(t):AR(t);var DE=Object.freeze({__proto__:null,enable:rC,disable:sC,isDisabled:Vx,onLoad:IE,set:(t,s,i,u)=>{(u?sC:rC)(t,s)}}),RR=Object.freeze({__proto__:null,exhibit:(t,s)=>ju({classes:s.disabled()?s.disableClass.toArray():[]}),events:(t,s)=>js([p1(zs(),(i,u)=>Vx(i,t)),D1(t,s,IE)])}),pk=[Ti("disabled",wt),We("useNative",!0),Yo("disableClass"),Ke("onDisabled"),Ke("onEnabled")];const no=ya({fields:pk,name:"disabling",active:RR,apis:DE}),bp=(t,s,i,u)=>{const m=Gi(t.element,"."+s.highlightClass);It(m,b=>{Bo(u,O=>bs(O.element,b))||(Ls(b,s.highlightClass),t.getSystem().getByDom(b).each(O=>{s.onDehighlight(t,O),ss(O,eg())}))})},iC=(t,s,i)=>bp(t,s,i,[]),IR=(t,s,i,u)=>{aC(t,s,i,u)&&(Ls(u.element,s.highlightClass),s.onDehighlight(t,u),ss(u,eg()))},uy=(t,s,i,u)=>{bp(t,s,i,[u]),aC(t,s,i,u)||(xs(u.element,s.highlightClass),s.onHighlight(t,u),ss(u,g_()))},gk=(t,s,i)=>{cC(t,s).each(u=>{uy(t,s,i,u)})},NE=(t,s,i)=>{ME(t,s).each(u=>{uy(t,s,i,u)})},DR=(t,s,i,u)=>{yb(t,s,i,u).fold(m=>{throw m},m=>{uy(t,s,i,m)})},NR=(t,s,i,u)=>{const m=kE(t,s);kn(m,u).each(w=>{uy(t,s,i,w)})},aC=(t,s,i,u)=>oa(u.element,s.highlightClass),bb=(t,s,i)=>Nr(t.element,"."+s.highlightClass).bind(u=>t.getSystem().getByDom(u).toOptional()),yb=(t,s,i,u)=>{const m=Gi(t.element,"."+s.itemClass);return P.from(m[u]).fold(()=>ro.error(new Error("No element found with index "+u)),t.getSystem().getByDom)},cC=(t,s,i)=>Nr(t.element,"."+s.itemClass).bind(u=>t.getSystem().getByDom(u).toOptional()),ME=(t,s,i)=>{const u=Gi(t.element,"."+s.itemClass);return(u.length>0?P.some(u[u.length-1]):P.none()).bind(b=>t.getSystem().getByDom(b).toOptional())},lC=(t,s,i,u)=>{const m=Gi(t.element,"."+s.itemClass);return ko(m,w=>oa(w,s.highlightClass)).bind(w=>{const O=Qf(w,u,0,m.length-1);return t.getSystem().getByDom(m[O]).toOptional()})},uC=(t,s,i)=>lC(t,s,i,-1),MR=(t,s,i)=>lC(t,s,i,1),kE=(t,s,i)=>{const u=Gi(t.element,"."+s.itemClass);return au(et(u,m=>t.getSystem().getByDom(m).toOptional()))};var dC=Object.freeze({__proto__:null,dehighlightAll:iC,dehighlight:IR,highlight:uy,highlightFirst:gk,highlightLast:NE,highlightAt:DR,highlightBy:NR,isHighlighted:aC,getHighlighted:bb,getFirst:cC,getLast:ME,getPrevious:uC,getNext:MR,getCandidates:kE}),fC=[xt("highlightClass"),xt("itemClass"),Ke("onHighlight"),Ke("onDehighlight")];const ms=ya({fields:fC,name:"highlighting",apis:dC}),Ux=[8],om=[9],nh=[13],dy=[27],wu=[32],PE=[37],J1=[38],fy=[39],yp=[40],hC=(t,s,i)=>{const u=vi(t.slice(0,s)),m=vi(t.slice(s+1));return kn(u.concat(m),i)},LE=(t,s,i)=>{const u=vi(t.slice(0,s));return kn(u,i)},_b=(t,s,i)=>{const u=t.slice(0,s),m=t.slice(s+1);return kn(m.concat(u),i)},o6=(t,s,i)=>{const u=t.slice(s+1);return kn(u,i)},rs=t=>s=>{const i=s.raw;return vo(t,i.which)},Ef=t=>s=>gi(t,i=>i(s)),ev=t=>t.raw.shiftKey===!0,zx=t=>t.raw.ctrlKey===!0,hy=ke(ev),as=(t,s)=>({matches:t,classification:s}),Wx=(t,s)=>kn(t,u=>u.matches(s)).map(u=>u.classification),Gx=(t,s,i)=>{s.exists(m=>i.exists(b=>bs(b,m)))||Mn(t,h1(),{prevFocus:s,newFocus:i})},mC=()=>{const t=i=>Xl(i.element);return{get:t,set:(i,u)=>{const m=t(i);i.getSystem().triggerFocus(u,i.element);const b=t(i);Gx(i,m,b)}}},pC=()=>{const t=i=>ms.getHighlighted(i).map(u=>u.element);return{get:t,set:(i,u)=>{const m=t(i);i.getSystem().getByDom(u).fold(K,w=>{ms.highlight(i,w)});const b=t(i);Gx(i,m,b)}}};var Eb;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(Eb||(Eb={}));const tv=(t,s,i,u,m)=>{const b=()=>t.concat([We("focusManager",mC()),Gr("focusInside","onFocus",Jd(F=>vo(["onFocus","onEnterOrSpace","onApi"],F)?ro.value(F):ro.error("Invalid value for focusInside"))),er("handler",M),er("state",s),er("sendFocusIn",m)]),w=(F,G,Q,te,ae)=>{const Te=Q(F,G,te,ae);return Wx(Te,G.event).bind(Me=>Me(F,G,te,ae))},M={schema:b,processKey:w,toEvents:(F,G)=>{const Q=F.focusInside!==Eb.OnFocusMode?P.none():m(F).map(Te=>Dt(Vc(),(Me,ot)=>{Te(Me,F,G),ot.stop()})),te=(Te,Me)=>{const ot=rs(wu.concat(nh))(Me.event);F.focusInside===Eb.OnEnterOrSpaceMode&&ot&&Pm(Te,Me)&&m(F).each(Ue=>{Ue(Te,F,G),Me.stop()})},ae=[Dt(na(),(Te,Me)=>{w(Te,Me,i,F,G).fold(()=>{te(Te,Me)},ot=>{Me.stop()})}),Dt(Rv(),(Te,Me)=>{w(Te,Me,u,F,G).each(ot=>{Me.stop()})})];return js(Q.toArray().concat(ae))}};return M},qx=t=>{const s=[Yo("onEscape"),Yo("onEnter"),We("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),We("firstTabstop",0),We("useTabstopAt",Ot),Yo("visibilitySelector")].concat([t]),i=(Me,ot)=>{const Ue=Me.visibilitySelector.bind(nt=>ff(ot,nt)).getOr(ot);return Tn(Ue)>0},u=(Me,ot)=>{const Ue=Gi(Me.element,ot.selector),nt=uo(Ue,dt=>i(ot,dt));return P.from(nt[ot.firstTabstop])},m=(Me,ot)=>ot.focusManager.get(Me).bind(Ue=>ff(Ue,ot.selector)),b=(Me,ot)=>i(Me,ot)&&Me.useTabstopAt(ot),w=(Me,ot,Ue)=>{u(Me,ot).each(nt=>{ot.focusManager.set(Me,nt)})},O=(Me,ot,Ue,nt,dt)=>dt(ot,Ue,gt=>b(nt,gt)).fold(()=>nt.cyclic?P.some(!0):P.none(),gt=>(nt.focusManager.set(Me,gt),P.some(!0))),M=(Me,ot,Ue,nt)=>{const dt=Gi(Me.element,Ue.selector);return m(Me,Ue).bind(gt=>ko(dt,yt(bs,gt)).bind(Pt=>O(Me,dt,Pt,Ue,nt)))},F=(Me,ot,Ue)=>{const nt=Ue.cyclic?hC:LE;return M(Me,ot,Ue,nt)},G=(Me,ot,Ue)=>{const nt=Ue.cyclic?_b:o6;return M(Me,ot,Ue,nt)},Q=(Me,ot,Ue)=>Ue.onEnter.bind(nt=>nt(Me,ot)),te=(Me,ot,Ue)=>Ue.onEscape.bind(nt=>nt(Me,ot)),ae=Ee([as(Ef([ev,rs(om)]),F),as(rs(om),G),as(Ef([hy,rs(nh)]),Q)]),Te=Ee([as(rs(dy),te)]);return tv(s,xl.init,ae,Te,()=>P.some(w))};var d=qx(ys("cyclic",wt)),g=qx(ys("cyclic",Ot));const E=(t,s,i)=>(af(t,i,zs()),P.some(!0)),x=(t,s,i)=>Ag(i)&&rs(wu)(s.event)?P.none():E(t,s,i),k=(t,s)=>P.some(!0),z=[We("execute",x),We("useSpace",!1),We("useEnter",!0),We("useControlEnter",!1),We("useDown",!1)],ee=(t,s,i)=>i.execute(t,s,t.element),pe=(t,s,i,u)=>{const m=i.useSpace&&!Ag(t.element)?wu:[],b=i.useEnter?nh:[],w=i.useDown?yp:[],O=m.concat(b).concat(w);return[as(rs(O),ee)].concat(i.useControlEnter?[as(Ef([zx,rs(nh)]),ee)]:[])},Ce=(t,s,i,u)=>i.useSpace&&!Ag(t.element)?[as(rs(wu),k)]:[];var Ne=tv(z,xl.init,pe,Ce,()=>P.none());const Xe=()=>{const t=Zs();return Ac({readState:()=>t.get().map(m=>({numRows:String(m.numRows),numColumns:String(m.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(m,b)=>{t.set({numRows:m,numColumns:b})},getNumRows:()=>t.get().map(m=>m.numRows),getNumColumns:()=>t.get().map(m=>m.numColumns)})};var cn=Object.freeze({__proto__:null,flatgrid:Xe,init:t=>t.state(t)});const tn=t=>(s,i,u,m)=>{const b=t(s.element);return wn(b,s,i,u,m)},Tt=(t,s)=>{const i=cb(t,s);return tn(i)},rn=(t,s)=>{const i=cb(s,t);return tn(i)},Et=t=>(s,i,u,m)=>wn(t,s,i,u,m),wn=(t,s,i,u,m)=>u.focusManager.get(s).bind(w=>t(s.element,w,u,m)).map(w=>(u.focusManager.set(s,w),!0)),Qn=Et,yo=Et,ir=Et,hc=t=>t.offsetWidth<=0&&t.offsetHeight<=0,fi=t=>!hc(t.dom),Tu=(t,s)=>ko(t,s).map(i=>({index:i,candidates:t})),Og=(t,s,i)=>{const u=w=>bs(w,s),m=Gi(t,i),b=uo(m,fi);return Tu(b,u)},my=(t,s)=>ko(t,i=>bs(s,i)),gC=(t,s,i,u)=>{const m=Math.floor(s/i),b=s%i;return u(m,b).bind(w=>{const O=w.row*i+w.column;return O>=0&&O<t.length?P.some(t[O]):P.none()})},$E=(t,s,i,u,m)=>gC(t,s,u,(b,w)=>{const M=b===i-1?t.length-b*u:u,F=Qf(w,m,0,M-1);return P.some({row:b,column:F})}),Ys=(t,s,i,u,m)=>gC(t,s,u,(b,w)=>{const O=Qf(b,m,0,i-1),F=O===i-1?t.length-O*u:u,G=Rc(w,0,F-1);return P.some({row:O,column:G})}),Rl=(t,s,i,u)=>$E(t,s,i,u,1),Il=(t,s,i,u)=>$E(t,s,i,u,-1),wf=(t,s,i,u)=>Ys(t,s,i,u,-1),Cu=(t,s,i,u)=>Ys(t,s,i,u,1),Rg=[xt("selector"),We("execute",x),Sr("onEscape"),We("captureTab",!1),S1()],Dl=(t,s,i)=>{Nr(t.element,s.selector).each(u=>{s.focusManager.set(t,u)})},jx=(t,s)=>s.focusManager.get(t).bind(i=>ff(i,s.selector)),wb=(t,s,i,u)=>jx(t,i).bind(m=>i.execute(t,s,m)),Nd=t=>(s,i,u,m)=>Og(s,i,u.selector).bind(b=>t(b.candidates,b.index,m.getNumRows().getOr(u.initSize.numRows),m.getNumColumns().getOr(u.initSize.numColumns))),Mc=(t,s,i)=>i.captureTab?P.some(!0):P.none(),Md=(t,s,i)=>i.onEscape(t,s),Zx=Nd(Il),Yx=Nd(Rl),kR=Nd(wf),PR=Nd(Cu),vC=Ee([as(rs(PE),Tt(Zx,Yx)),as(rs(fy),rn(Zx,Yx)),as(rs(J1),Qn(kR)),as(rs(yp),yo(PR)),as(Ef([ev,rs(om)]),Mc),as(Ef([hy,rs(om)]),Mc),as(rs(wu.concat(nh)),wb)]),Tb=Ee([as(rs(dy),Md),as(rs(wu),k)]);var nv=tv(Rg,Xe,vC,Tb,()=>P.some(Dl));const vk=(t,s,i,u,m)=>{const b=O=>Ja(O)==="button"&&Mi(O,"disabled")==="disabled",w=(O,M,F)=>m(O,M,u,0,F.length-1,F[M],G=>b(F[G])?w(O,G,F):P.from(F[G]));return Og(t,i,s).bind(O=>{const M=O.index,F=O.candidates;return w(M,M,F)})},Kx=(t,s,i,u)=>vk(t,s,i,u,(m,b,w,O,M,F,G)=>{const Q=Rc(b+w,O,M);return Q===m?P.from(F):G(Q)}),py=(t,s,i,u)=>vk(t,s,i,u,(m,b,w,O,M,F,G)=>{const Q=Qf(b,w,O,M);return Q===m?P.none():G(Q)}),LR=[xt("selector"),We("getInitial",P.none),We("execute",x),Sr("onEscape"),We("executeOnMove",!1),We("allowVertical",!0),We("allowHorizontal",!0),We("cycles",!0)],s6=(t,s)=>s.focusManager.get(t).bind(i=>ff(i,s.selector)),$R=(t,s,i)=>s6(t,i).bind(u=>i.execute(t,s,u)),r6=(t,s,i)=>{s.getInitial(t).orThunk(()=>Nr(t.element,s.selector)).each(u=>{s.focusManager.set(t,u)})},bk=(t,s,i)=>(i.cycles?py:Kx)(t,i.selector,s,-1),yk=(t,s,i)=>(i.cycles?py:Kx)(t,i.selector,s,1),_k=t=>(s,i,u,m)=>t(s,i,u,m).bind(()=>u.executeOnMove?$R(s,i,u):P.some(!0)),Ek=(t,s,i)=>i.onEscape(t,s),BR=(t,s,i,u)=>{const m=[...i.allowHorizontal?PE:[]].concat(i.allowVertical?J1:[]),b=[...i.allowHorizontal?fy:[]].concat(i.allowVertical?yp:[]);return[as(rs(m),_k(Tt(bk,yk))),as(rs(b),_k(rn(bk,yk))),as(rs(nh),$R),as(rs(wu),$R)]},i6=Ee([as(rs(wu),k),as(rs(dy),Ek)]);var a6=tv(LR,xl.init,BR,i6,()=>P.some(r6));const Xx=(t,s,i)=>P.from(t[s]).bind(u=>P.from(u[i]).map(m=>({rowIndex:s,columnIndex:i,cell:m}))),wk=(t,s,i,u)=>{const b=t[s].length,w=Qf(i,u,0,b-1);return Xx(t,s,w)},Cb=(t,s,i,u)=>{const m=Qf(i,u,0,t.length-1),b=t[m].length,w=Rc(s,0,b-1);return Xx(t,m,w)},Tk=(t,s,i,u)=>{const b=t[s].length,w=Rc(i+u,0,b-1);return Xx(t,s,w)},Ck=(t,s,i,u)=>{const m=Rc(i+u,0,t.length-1),b=t[m].length,w=Rc(s,0,b-1);return Xx(t,m,w)},FR=(t,s,i)=>wk(t,s,i,1),c6=(t,s,i)=>wk(t,s,i,-1),Sk=(t,s,i)=>Cb(t,i,s,-1),xk=(t,s,i)=>Cb(t,i,s,1),Ak=(t,s,i)=>Tk(t,s,i,-1),Ok=(t,s,i)=>Tk(t,s,i,1),l6=(t,s,i)=>Ck(t,i,s,-1),u6=(t,s,i)=>Ck(t,i,s,1),d6=[ac("selectors",[xt("row"),xt("cell")]),We("cycles",!0),We("previousSelector",P.none),We("execute",x)],HR=(t,s,i)=>{s.previousSelector(t).orThunk(()=>{const m=s.selectors;return Nr(t.element,m.cell)}).each(m=>{s.focusManager.set(t,m)})},f6=(t,s,i)=>Xl(t.element).bind(u=>i.execute(t,s,u)),h6=(t,s)=>et(t,i=>Gi(i,s.selectors.cell)),Qx=(t,s)=>(i,u,m)=>{const b=m.cycles?t:s;return ff(u,m.selectors.row).bind(w=>{const O=Gi(w,m.selectors.cell);return my(O,u).bind(M=>{const F=Gi(i,m.selectors.row);return my(F,w).bind(G=>{const Q=h6(F,m);return b(Q,G,M).map(te=>te.cell)})})})},Rk=Qx(c6,Ak),VR=Qx(FR,Ok),m6=Qx(Sk,l6),p6=Qx(xk,u6),g6=Ee([as(rs(PE),Tt(Rk,VR)),as(rs(fy),rn(Rk,VR)),as(rs(J1),Qn(m6)),as(rs(yp),yo(p6)),as(rs(wu.concat(nh)),f6)]),Ik=Ee([as(rs(wu),k)]);var v6=tv(d6,xl.init,g6,Ik,()=>P.some(HR));const b6=[xt("selector"),We("execute",x),We("moveOnTab",!1)],UR=(t,s,i)=>i.focusManager.get(t).bind(u=>i.execute(t,s,u)),y6=(t,s,i)=>{Nr(t.element,s.selector).each(u=>{s.focusManager.set(t,u)})},Dk=(t,s,i)=>py(t,i.selector,s,-1),bC=(t,s,i)=>py(t,i.selector,s,1),_6=(t,s,i,u)=>i.moveOnTab?ir(Dk)(t,s,i,u):P.none(),Nk=(t,s,i,u)=>i.moveOnTab?ir(bC)(t,s,i,u):P.none(),Ju=Ee([as(rs(J1),ir(Dk)),as(rs(yp),ir(bC)),as(Ef([ev,rs(om)]),_6),as(Ef([hy,rs(om)]),Nk),as(rs(nh),UR),as(rs(wu),UR)]),E6=Ee([as(rs(wu),k)]);var Mk=tv(b6,xl.init,Ju,E6,()=>P.some(y6));const w6=[Sr("onSpace"),Sr("onEnter"),Sr("onShiftEnter"),Sr("onLeft"),Sr("onRight"),Sr("onTab"),Sr("onShiftTab"),Sr("onUp"),Sr("onDown"),Sr("onEscape"),We("stopSpaceKeyup",!1),Yo("focusIn")],T6=(t,s,i)=>[as(rs(wu),i.onSpace),as(Ef([hy,rs(nh)]),i.onEnter),as(Ef([ev,rs(nh)]),i.onShiftEnter),as(Ef([ev,rs(om)]),i.onShiftTab),as(Ef([hy,rs(om)]),i.onTab),as(rs(J1),i.onUp),as(rs(yp),i.onDown),as(rs(PE),i.onLeft),as(rs(fy),i.onRight),as(rs(wu),i.onSpace)],kk=(t,s,i)=>[...i.stopSpaceKeyup?[as(rs(wu),k)]:[],as(rs(dy),i.onEscape)];var C6=tv(w6,xl.init,T6,kk,t=>t.focusIn);const Pk=d.schema(),Lk=g.schema(),S6=a6.schema(),x6=nv.schema(),A6=v6.schema(),O6=Ne.schema(),$k=Mk.schema(),Bk=C6.schema();var Sb=Object.freeze({__proto__:null,acyclic:Pk,cyclic:Lk,flow:S6,flatgrid:x6,matrix:A6,execution:O6,menu:$k,special:Bk});const Fk=t=>ca(t,"setGridSize"),Bn=H_({branchKey:"mode",branches:Sb,name:"keying",active:{events:(t,s)=>t.handler.toEvents(t,s)},apis:{focusIn:(t,s,i)=>{s.sendFocusIn(s).fold(()=>{t.getSystem().triggerFocus(t.element,t.element)},u=>{u(t,s,i)})},setGridSize:(t,s,i,u,m)=>{Fk(i)?i.setGridSize(u,m):console.error("Layout does not support setGridSize")}},state:cn}),Jx=(t,s)=>{al(()=>{_x(t,s,()=>et(s,t.getSystem().build))},t.element)},Hk=(t,s)=>{al(()=>{cR(t,s,()=>C_(t.element,s,t.getSystem().buildOrPatch))},t.element)},R6=(t,s,i,u)=>{hE(s);const m=T_(t.element,i,u,t.getSystem().buildOrPatch);fE(t,m),t.syncComponents()},zR=(t,s,i)=>{const u=t.getSystem().build(i);ey(t,u,s)},I6=(t,s,i,u)=>{Qh(s),zR(t,(m,b)=>ze(m,b,i),u)},Vk=(t,s,i,u)=>(s.reuseDom?Hk:Jx)(t,u),WR=(t,s,i,u)=>{zR(t,Le,u)},GR=(t,s,i,u)=>{zR(t,Se,u)},D6=(t,s,i,u)=>{const m=_p(t);kn(m,w=>bs(u.element,w.element)).each(Qh)},_p=(t,s)=>t.components(),qR=(t,s,i,u,m)=>{const b=_p(t);return P.from(b[u]).map(w=>(m.fold(()=>Qh(w),O=>{(s.reuseDom?R6:I6)(t,w,u,O)}),w))};var M6=Object.freeze({__proto__:null,append:WR,prepend:GR,remove:D6,replaceAt:qR,replaceBy:(t,s,i,u,m)=>{const b=_p(t);return ko(b,u).bind(w=>qR(t,s,i,w,m))},set:Vk,contents:_p});const lo=ya({fields:[li("reuseDom",!0)],name:"replacing",apis:M6}),yC=(t,s)=>{const i=js(s);return ya({fields:[xt("enabled")],name:t,active:{events:Ee(i)}})},mo=(t,s)=>{const i=yC(t,s);return{key:t,value:{config:{},me:i,configAsRaw:Ee({}),initialConfig:{},state:xl}}},jR=(t,s)=>{s.ignore||(il(t.element),s.onFocus(t))};var xb=Object.freeze({__proto__:null,focus:jR,blur:(t,s)=>{s.ignore||M1(t.element)},isFocused:t=>k1(t.element)}),Uk=Object.freeze({__proto__:null,exhibit:(t,s)=>{const i=s.ignore?{}:{attributes:{tabindex:"-1"}};return ju(i)},events:t=>js([Dt(Vc(),(s,i)=>{jR(s,t),i.stop()})].concat(t.stopMousedown?[Dt(Fi(),(s,i)=>{i.event.prevent()})]:[]))}),ov=[Ke("onFocus"),We("stopMousedown",!1),We("ignore",!1)];const jn=ya({fields:ov,name:"focusing",active:Uk,apis:xb}),zk=t=>({init:()=>{const i=Wn(t);return{get:()=>i.get(),set:O=>i.set(O),clear:()=>i.set(t),readState:()=>i.get()}}}),Wk=(t,s,i)=>{const u=s.aria;u.update(t,u,i.get())},Gk=(t,s,i)=>{s.toggleClass.each(u=>{i.get()?xs(t.element,u):Ls(t.element,u)})},vy=(t,s,i,u)=>{const m=i.get();i.set(u),Gk(t,s,i),Wk(t,s,i),m!==u&&s.onToggled(t,u)},ZR=(t,s,i)=>{vy(t,s,i,!i.get())},P6=(t,s,i)=>{vy(t,s,i,!0)},L6=(t,s,i)=>{vy(t,s,i,!1)},$6=(t,s,i)=>i.get(),_C=(t,s,i)=>{vy(t,s,i,s.selected)};var YR=Object.freeze({__proto__:null,onLoad:_C,toggle:ZR,isOn:$6,on:P6,off:L6,set:vy}),B6=Object.freeze({__proto__:null,exhibit:()=>ju({}),events:(t,s)=>{const i=Jv(t,s,ZR),u=D1(t,s,_C);return js(Yt([t.toggleOnExecute?[i]:[],[u]]))}});const jk=(t,s,i)=>{co(t.element,"aria-pressed",i),s.syncWithExpanded&&KR(t,s,i)},Zk=(t,s,i)=>{co(t.element,"aria-selected",i)},Yk=(t,s,i)=>{co(t.element,"aria-checked",i)},KR=(t,s,i)=>{co(t.element,"aria-expanded",i)};var F6=[We("selected",!1),Yo("toggleClass"),We("toggleOnExecute",!0),Ke("onToggled"),Gr("aria",{mode:"none"},or("mode",{pressed:[We("syncWithExpanded",!1),er("update",jk)],checked:[er("update",Yk)],expanded:[er("update",KR)],selected:[er("update",Zk)],none:[er("update",K)]}))];const So=ya({fields:F6,name:"toggling",active:B6,apis:YR,state:zk(!1)}),Kk=()=>{const t=(s,i)=>{i.stop(),rf(s)};return[Dt(Sl(),t),Dt(d1(),t),Hm(ql()),Hm(Fi())]},eA=t=>{const s=i=>Zl((u,m)=>{i(u),m.stop()});return js(Yt([t.map(s).toArray(),Kk()]))},Xk="alloy.item-hover",Qk="alloy.item-focus",XR="alloy.item-toggled",Jk=t=>{(Xl(t.element).isNone()||jn.isFocused(t))&&(jn.isFocused(t)||jn.focus(t),Mn(t,Xk,{item:t}))},eP=t=>{Mn(t,Qk,{item:t})},H6=(t,s)=>{Mn(t,XR,{item:t,state:s})},BE=Ee(Xk),V6=Ee(Qk),EC=Ee(XR),QR=t=>t.toggling.map(s=>s.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),tP=t=>({aria:{mode:"checked"},...$r(t,(s,i)=>i!=="exclusive"),onToggled:(s,i)=>{ce(t.onToggled)&&t.onToggled(s,i),H6(s,i)}}),nP=t=>({dom:t.dom,domModification:{...t.domModification,attributes:{role:QR(t),...t.domModification.attributes,"aria-haspopup":t.hasSubmenu,...t.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:yf.augment(t.itemBehaviours,[t.toggling.fold(So.revoke,s=>So.config(tP(s))),jn.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:s=>{eP(s)}}),Bn.config({mode:"execution"}),fn.config({store:{mode:"memory",initialValue:t.data}}),mo("item-type-events",[...Kk(),Dt(nf(),Jk),Dt(of(),jn.focus)])]),components:t.components,eventOrder:t.eventOrder}),U6=[xt("data"),xt("components"),xt("dom"),We("hasSubmenu",!1),Yo("toggling"),yf.field("itemBehaviours",[So,jn,Bn,fn]),We("ignoreFocus",!1),We("domModification",{}),er("builder",nP),We("eventOrder",{})],z6=t=>({dom:t.dom,components:t.components,events:js([a0(of())])}),oP=[xt("dom"),xt("components"),er("builder",z6)],JR=Ee("item-widget"),tA=Ee([La({name:"widget",overrides:t=>({behaviours:kt([fn.config({store:{mode:"manual",getValue:s=>t.data,setValue:K}})])})})]),W6=t=>{const s=jT(JR(),t,tA()),i=ZT(JR(),t,s.internals()),u=b=>rr(b,t,"widget").map(w=>(Bn.focusIn(w),w)),m=(b,w)=>Ag(w.event.target)?P.none():(()=>(t.autofocus&&w.setSource(b.element),P.none()))();return{dom:t.dom,components:i,domModification:t.domModification,events:js([Zl((b,w)=>{u(b).each(O=>{w.stop()})}),Dt(nf(),Jk),Dt(of(),(b,w)=>{t.autofocus?u(b):jn.focus(b)})]),behaviours:yf.augment(t.widgetBehaviours,[fn.config({store:{mode:"memory",initialValue:t.data}}),jn.config({ignore:t.ignoreFocus,onFocus:b=>{eP(b)}}),Bn.config({mode:"special",focusIn:t.autofocus?b=>{u(b)}:V_(),onLeft:m,onRight:m,onEscape:(b,w)=>!jn.isFocused(b)&&!t.autofocus?(jn.focus(b),P.some(!0)):(t.autofocus&&w.setSource(b.element),P.none())})])}},G6=[xt("uid"),xt("data"),xt("components"),xt("dom"),We("autofocus",!1),We("ignoreFocus",!1),yf.field("widgetBehaviours",[fn,jn,Bn]),We("domModification",{}),eC(tA()),er("builder",W6)],sP=or("type",{widget:G6,item:U6,separator:oP}),nA=(t,s)=>({mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:s.initSize.numColumns,numRows:s.initSize.numRows},focusManager:t.focusManager}),eI=(t,s)=>({mode:"matrix",selectors:{row:s.rowSelector,cell:"."+t.markers.item},previousSelector:s.previousSelector,focusManager:t.focusManager}),tI=(t,s)=>({mode:"menu",selector:"."+t.markers.item,moveOnTab:s.moveOnTab,focusManager:t.focusManager}),q6=Ee([ly({factory:{sketch:t=>{const s=Jr("menu.spec item",sP,t);return s.builder(s)}},name:"items",unit:"item",defaults:(t,s)=>Ho(s,"uid")?s:{...s,uid:Yl("item")},overrides:(t,s)=>({type:s.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}})})]),j6=Ee([xt("value"),xt("items"),xt("dom"),xt("components"),We("eventOrder",{}),ja("menuBehaviours",[ms,fn,Xo,Bn]),Gr("movement",{mode:"menu",moveOnTab:!0},or("mode",{grid:[S1(),er("config",nA)],matrix:[er("config",eI),xt("rowSelector"),We("previousSelector",P.none)],menu:[We("moveOnTab",!0),er("config",tI)]})),T1(),We("fakeFocus",!1),We("focusManager",mC()),Ke("onHighlight"),Ke("onDehighlight")]),rP=Ee("alloy.menu-focus"),Z6=(t,s)=>{const i=Gi(t.element,'[role="menuitemradio"][aria-checked="true"]');It(i,u=>{bs(u,s.element)||t.getSystem().getByDom(u).each(m=>{So.off(m)})})},iP=(t,s,i,u)=>({uid:t.uid,dom:t.dom,markers:t.markers,behaviours:kr(t.menuBehaviours,[ms.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight,onDehighlight:t.onDehighlight}),fn.config({store:{mode:"memory",initialValue:t.value}}),Xo.config({find:P.some}),Bn.config(t.movement.config(t,t.movement))]),events:js([Dt(V6(),(m,b)=>{const w=b.event;m.getSystem().getByDom(w.target).each(O=>{ms.highlight(m,O),b.stop(),Mn(m,rP(),{menu:m,item:O})})}),Dt(BE(),(m,b)=>{const w=b.event.item;ms.highlight(m,w)}),Dt(EC(),(m,b)=>{const{item:w,state:O}=b.event;O&&Mi(w.element,"role")==="menuitemradio"&&Z6(m,w)})]),components:s,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}),Ab=Si({name:"Menu",configFields:j6(),partFields:q6(),factory:iP}),Y6=t=>fl(t,(s,i)=>({k:s,v:i})),aP=(t,s,i,u)=>an(i,u).bind(m=>an(t,m).bind(b=>{const w=aP(t,s,i,b);return P.some([b].concat(w))})).getOr([]),K6=(t,s)=>{const i={};Yr(t,(w,O)=>{It(w,M=>{i[M]=O})});const u=s,m=Y6(s),b=Ms(m,(w,O)=>[O].concat(aP(i,u,m,O)));return Ms(i,w=>an(b,w).getOr([w]))},X6=()=>{const t=Wn({}),s=Wn({}),i=Wn({}),u=Zs(),m=Wn({}),b=()=>{t.set({}),s.set({}),i.set({}),u.clear()},w=()=>u.get().isNone(),O=(Qt,Pt)=>{s.set({...s.get(),[Qt]:{type:"prepared",menu:Pt}})},M=(Qt,Pt,ln,An)=>{u.set(Qt),t.set(ln),s.set(Pt),m.set(An);const $o=K6(An,ln);i.set($o)},F=Qt=>bi(t.get(),(Pt,ln)=>Pt===Qt),G=(Qt,Pt,ln)=>Me(Qt).bind(An=>F(Qt).bind($o=>Pt($o).map(Fn=>({triggeredMenu:An,triggeringItem:Fn,triggeringPath:ln})))),Q=(Qt,Pt)=>{const ln=uo(Ue(Qt).toArray(),An=>Me(An).isSome());return an(i.get(),Qt).bind(An=>{const $o=vi(ln.concat(An)),Fn=mt($o,(Mo,oo)=>G(Mo,Pt,$o.slice(0,oo+1)).fold(()=>gc(u.get(),Mo)?[]:[P.none()],Io=>[P.some(Io)]));return ks(Fn)})},te=Qt=>an(t.get(),Qt).map(Pt=>{const ln=an(i.get(),Qt).getOr([]);return[Pt].concat(ln)}),ae=Qt=>an(i.get(),Qt).bind(Pt=>Pt.length>1?P.some(Pt.slice(1)):P.none()),Te=Qt=>an(i.get(),Qt),Me=Qt=>ot(Qt).bind(cP),ot=Qt=>an(s.get(),Qt),Ue=Qt=>an(t.get(),Qt);return{setMenuBuilt:O,setContents:M,expand:te,refresh:Te,collapse:ae,lookupMenu:ot,lookupItem:Ue,otherMenus:Qt=>{const Pt=m.get();return Lt(Os(Pt),Qt)},getPrimary:()=>u.get().bind(Me),getMenus:()=>s.get(),clear:b,isClear:w,getTriggeringPath:Q}},cP=t=>t.type==="prepared"?P.some(t.menu):P.none(),lP={init:X6,extractPreparedMenu:cP},nI=_n("tiered-menu-item-highlight"),uP=_n("tiered-menu-item-dehighlight");var Su;(function(t){t[t.HighlightMenuAndItem=0]="HighlightMenuAndItem",t[t.HighlightJustMenu=1]="HighlightJustMenu",t[t.HighlightNone=2]="HighlightNone"})(Su||(Su={}));const Q6=(t,s)=>{const i=Zs(),u=(Wt,Sn,gn)=>Ms(gn,(Yn,Eo)=>{const Jo=()=>Ab.sketch({...Yn,value:Eo,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:(aa,Es)=>{Mn(aa,nI,{menuComp:aa,itemComp:Es})},onDehighlight:(aa,Es)=>{Mn(aa,uP,{menuComp:aa,itemComp:Es})},focusManager:t.fakeFocus?pC():mC()});return Eo===Sn?{type:"prepared",menu:Wt.getSystem().build(Jo())}:{type:"notbuilt",nbMenu:Jo}}),m=lP.init(),b=Wt=>{const Sn=u(Wt,t.data.primary,t.data.menus),gn=M();return m.setContents(t.data.primary,Sn,t.data.expansions,gn),m.getPrimary()},w=Wt=>fn.getValue(Wt).value,O=(Wt,Sn,gn)=>nr(Sn,Yn=>{if(!Yn.getSystem().isConnected())return P.none();const Eo=ms.getCandidates(Yn);return kn(Eo,Jo=>w(Jo)===gn)}),M=Wt=>Ms(t.data.menus,(Sn,gn)=>mt(Sn.items,Yn=>Yn.type==="separator"?[]:[Yn.data.value])),F=ms.highlight,G=(Wt,Sn)=>{F(Wt,Sn),ms.getHighlighted(Sn).orThunk(()=>ms.getFirst(Sn)).each(gn=>{t.fakeFocus?ms.highlight(Sn,gn):af(Wt,gn.element,of())})},Q=(Wt,Sn)=>au(et(Sn,gn=>Wt.lookupMenu(gn).bind(Yn=>Yn.type==="prepared"?P.some(Yn.menu):P.none()))),te=(Wt,Sn,gn)=>{const Yn=Q(Sn,Sn.otherMenus(gn));It(Yn,Eo=>{zc(Eo.element,[t.markers.backgroundMenu]),t.stayInDom||lo.remove(Wt,Eo)})},ae=Wt=>i.get().getOrThunk(()=>{const Sn={},gn=Gi(Wt.element,`.${t.markers.item}`),Yn=uo(gn,Eo=>Mi(Eo,"aria-haspopup")==="true");return It(Yn,Eo=>{Wt.getSystem().getByDom(Eo).each(Jo=>{const aa=w(Jo);Sn[aa]=Jo})}),i.set(Sn),Sn}),Te=(Wt,Sn)=>{const gn=ae(Wt);Yr(gn,(Yn,Eo)=>{const Jo=vo(Sn,Eo);co(Yn.element,"aria-expanded",Jo)})},Me=(Wt,Sn,gn)=>P.from(gn[0]).bind(Yn=>Sn.lookupMenu(Yn).bind(Eo=>{if(Eo.type==="notbuilt")return P.none();{const Jo=Eo.menu,aa=Q(Sn,gn.slice(1));return It(aa,Es=>{xs(Es.element,t.markers.backgroundMenu)}),nc(Jo.element)||lo.append(Wt,rl(Jo)),zc(Jo.element,[t.markers.backgroundMenu]),G(Wt,Jo),te(Wt,Sn,gn),P.some(Jo)}}));let ot;(function(Wt){Wt[Wt.HighlightSubmenu=0]="HighlightSubmenu",Wt[Wt.HighlightParent=1]="HighlightParent"})(ot||(ot={}));const Ue=(Wt,Sn,gn)=>{if(gn.type==="notbuilt"){const Yn=Wt.getSystem().build(gn.nbMenu());return m.setMenuBuilt(Sn,Yn),Yn}else return gn.menu},nt=(Wt,Sn,gn=ot.HighlightSubmenu)=>{if(Sn.hasConfigured(no)&&no.isDisabled(Sn))return P.some(Sn);{const Yn=w(Sn);return m.expand(Yn).bind(Eo=>(Te(Wt,Eo),P.from(Eo[0]).bind(Jo=>m.lookupMenu(Jo).bind(aa=>{const Es=Ue(Wt,Jo,aa);return nc(Es.element)||lo.append(Wt,rl(Es)),t.onOpenSubmenu(Wt,Sn,Es,vi(Eo)),gn===ot.HighlightSubmenu?(ms.highlightFirst(Es),Me(Wt,m,Eo)):(ms.dehighlightAll(Es),P.some(Sn))}))))}},dt=(Wt,Sn)=>{const gn=w(Sn);return m.collapse(gn).bind(Yn=>(Te(Wt,Yn),Me(Wt,m,Yn).map(Eo=>(t.onCollapseMenu(Wt,Sn,Eo),Eo))))},gt=(Wt,Sn)=>{const gn=w(Sn);return m.refresh(gn).bind(Yn=>(Te(Wt,Yn),Me(Wt,m,Yn)))},Qt=(Wt,Sn)=>Ag(Sn.element)?P.none():nt(Wt,Sn,ot.HighlightSubmenu),Pt=(Wt,Sn)=>Ag(Sn.element)?P.none():dt(Wt,Sn),ln=(Wt,Sn)=>dt(Wt,Sn).orThunk(()=>t.onEscape(Wt,Sn).map(()=>Wt)),An=Wt=>(Sn,gn)=>ff(gn.getSource(),`.${t.markers.item}`).bind(Yn=>Sn.getSystem().getByDom(Yn).toOptional().bind(Eo=>Wt(Sn,Eo).map(Ot))),$o=js([Dt(rP(),(Wt,Sn)=>{const gn=Sn.event.item;m.lookupItem(w(gn)).each(()=>{const Yn=Sn.event.menu;ms.highlight(Wt,Yn);const Eo=w(Sn.event.item);m.refresh(Eo).each(Jo=>te(Wt,m,Jo))})}),Zl((Wt,Sn)=>{const gn=Sn.event.target;Wt.getSystem().getByDom(gn).each(Yn=>{w(Yn).indexOf("collapse-item")===0&&dt(Wt,Yn),nt(Wt,Yn,ot.HighlightSubmenu).fold(()=>{t.onExecute(Wt,Yn)},K)})}),Tr((Wt,Sn)=>{b(Wt).each(gn=>{lo.append(Wt,rl(gn)),t.onOpenMenu(Wt,gn),t.highlightOnOpen===Su.HighlightMenuAndItem?G(Wt,gn):t.highlightOnOpen===Su.HighlightJustMenu&&F(Wt,gn)})}),Dt(nI,(Wt,Sn)=>{t.onHighlightItem(Wt,Sn.event.menuComp,Sn.event.itemComp)}),Dt(uP,(Wt,Sn)=>{t.onDehighlightItem(Wt,Sn.event.menuComp,Sn.event.itemComp)}),...t.navigateOnHover?[Dt(BE(),(Wt,Sn)=>{const gn=Sn.event.item;gt(Wt,gn),nt(Wt,gn,ot.HighlightParent),t.onHover(Wt,gn)})]:[]]),Fn=Wt=>ms.getHighlighted(Wt).bind(ms.getHighlighted),Mo=Wt=>{Fn(Wt).each(Sn=>{dt(Wt,Sn)})},oo=Wt=>{m.getPrimary().each(Sn=>{G(Wt,Sn)})},Io=Wt=>P.from(Wt.components()[0]).filter(Sn=>Mi(Sn.element,"role")==="menu"),As={collapseMenu:Mo,highlightPrimary:oo,repositionMenus:Wt=>{m.getPrimary().bind(gn=>Fn(Wt).bind(Yn=>{const Eo=w(Yn),Jo=yh(m.getMenus()),aa=au(et(Jo,lP.extractPreparedMenu));return m.getTriggeringPath(Eo,Es=>O(Wt,aa,Es))}).map(Yn=>({primary:gn,triggeringPath:Yn}))).fold(()=>{Io(Wt).each(gn=>{t.onRepositionMenu(Wt,gn,[])})},({primary:gn,triggeringPath:Yn})=>{t.onRepositionMenu(Wt,gn,Yn)})}};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:kr(t.tmenuBehaviours,[Bn.config({mode:"special",onRight:An(Qt),onLeft:An(Pt),onEscape:An(ln),focusIn:(Wt,Sn)=>{m.getPrimary().each(gn=>{af(Wt,gn.element,of())})}}),ms.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),Xo.config({find:Wt=>ms.getHighlighted(Wt)}),lo.config({})]),eventOrder:t.eventOrder,apis:As,events:$o}},J6=Ee("collapse-item"),eV=(t,s,i)=>({primary:t,menus:s,expansions:i}),by=(t,s)=>({primary:t,menus:Uu(t,s),expansions:{}}),tV=t=>({value:_n(J6()),meta:{text:t}}),yy=qi({name:"TieredMenu",configFields:[w0("onExecute"),w0("onEscape"),Qm("onOpenMenu"),Qm("onOpenSubmenu"),Ke("onRepositionMenu"),Ke("onCollapseMenu"),We("highlightOnOpen",Su.HighlightMenuAndItem),ac("data",[xt("primary"),xt("menus"),xt("expansions")]),We("fakeFocus",!1),Ke("onHighlightItem"),Ke("onDehighlightItem"),Ke("onHover"),Sd(),xt("dom"),We("navigateOnHover",!0),We("stayInDom",!1),ja("tmenuBehaviours",[Bn,ms,Xo,lo]),We("eventOrder",{})],apis:{collapseMenu:(t,s)=>{t.collapseMenu(s)},highlightPrimary:(t,s)=>{t.highlightPrimary(s)},repositionMenus:(t,s)=>{t.repositionMenus(s)}},factory:Q6,extraApis:{tieredData:eV,singleData:by,collapseItem:tV}}),_y=(t,s,i,u,m)=>{const b=()=>t.lazySink(s),w=u.type==="horizontal"?{layouts:{onLtr:()=>I1(),onRtl:()=>xd()}}:{},O=F=>F.length===2,M=F=>O(F)?w:{};return yy.sketch({dom:{tag:"div"},data:u.data,markers:u.menu.markers,highlightOnOpen:u.menu.highlightOnOpen,fakeFocus:u.menu.fakeFocus,onEscape:()=>(Uo.close(s),t.onEscape.map(F=>F(s)),P.some(!0)),onExecute:()=>P.some(!0),onOpenMenu:(F,G)=>{Ws.positionWithinBounds(b().getOrDie(),G,i,m())},onOpenSubmenu:(F,G,Q,te)=>{const ae=b().getOrDie();Ws.position(ae,Q,{anchor:{type:"submenu",item:G,...M(te)}})},onRepositionMenu:(F,G,Q)=>{const te=b().getOrDie();Ws.positionWithinBounds(te,G,i,m()),It(Q,ae=>{const Te=M(ae.triggeringPath);Ws.position(te,ae.triggeredMenu,{anchor:{type:"submenu",item:ae.triggeringItem,...Te}})})}})},nV=(t,s)=>{const i=(te,ae)=>t.getRelated(te).exists(Me=>Km(Me,ae)),u=(te,ae)=>{Uo.setContent(te,ae)},m=(te,ae,Te)=>{const Me=P.none;b(te,ae,Te,Me)},b=(te,ae,Te,Me)=>{const ot=t.lazySink(te).getOrDie();Uo.openWhileCloaked(te,ae,()=>Ws.positionWithinBounds(ot,te,Te,Me())),fn.setValue(te,P.some({mode:"position",config:Te,getBounds:Me}))},w=(te,ae,Te)=>{O(te,ae,Te,P.none)},O=(te,ae,Te,Me)=>{const ot=_y(t,te,ae,Te,Me);Uo.open(te,ot),fn.setValue(te,P.some({mode:"menu",menu:ot}))},M=te=>{Uo.isOpen(te)&&(fn.setValue(te,P.none()),Uo.close(te))},F=te=>Uo.getState(te),G=te=>{Uo.isOpen(te)&&fn.getValue(te).each(ae=>{switch(ae.mode){case"menu":Uo.getState(te).each(yy.repositionMenus);break;case"position":const Te=t.lazySink(te).getOrDie();Ws.positionWithinBounds(Te,te,ae.config,ae.getBounds());break}})},Q={setContent:u,showAt:m,showWithinBounds:b,showMenuAt:w,showMenuWithinBounds:O,hide:M,getContent:F,reposition:G,isOpen:Uo.isOpen};return{uid:t.uid,dom:t.dom,behaviours:kr(t.inlineBehaviours,[Uo.config({isPartOf:(te,ae,Te)=>Km(ae,Te)||i(te,Te),getAttachPoint:te=>t.lazySink(te).getOrDie(),onOpen:te=>{t.onShow(te)},onClose:te=>{t.onHide(te)}}),fn.config({store:{mode:"memory",initialValue:P.none()}}),bu.config({channels:{...oy({isExtraPart:s.isExtraPart,...t.fireDismissalEventInstead.map(te=>({fireEventInstead:{event:te.event}})).getOr({})}),...Y1({...t.fireRepositionEventInstead.map(te=>({fireEventInstead:{event:te.event}})).getOr({}),doReposition:G})}})]),eventOrder:t.eventOrder,apis:Q}},ra=qi({name:"InlineView",configFields:[xt("lazySink"),Ke("onShow"),Ke("onHide"),Ft("onEscape"),ja("inlineBehaviours",[Uo,fn,bu]),dn("fireDismissalEventInstead",[We("event",pu())]),dn("fireRepositionEventInstead",[We("event",Jp())]),We("getRelated",P.none),We("isExtraPart",wt),We("eventOrder",P.none)],factory:nV,apis:{showAt:(t,s,i,u)=>{t.showAt(s,i,u)},showWithinBounds:(t,s,i,u,m)=>{t.showWithinBounds(s,i,u,m)},showMenuAt:(t,s,i,u)=>{t.showMenuAt(s,i,u)},showMenuWithinBounds:(t,s,i,u,m)=>{t.showMenuWithinBounds(s,i,u,m)},hide:(t,s)=>{t.hide(s)},isOpen:(t,s)=>t.isOpen(s),getContent:(t,s)=>t.getContent(s),setContent:(t,s,i)=>{t.setContent(s,i)},reposition:(t,s)=>{t.reposition(s)}}});var Ep=tinymce.util.Tools.resolve("tinymce.util.Delay");const qc=qi({name:"Button",factory:t=>{const s=eA(t.action),i=t.dom.tag,u=b=>an(t.dom,"attributes").bind(w=>an(w,b)),m=()=>{if(i==="button"){const b=u("type").getOr("button"),w=u("role").map(O=>({role:O})).getOr({});return{type:b,...w}}else return{role:t.role.getOr(u("role").getOr("button"))}};return{uid:t.uid,dom:t.dom,components:t.components,events:s,behaviours:yf.augment(t.buttonBehaviours,[jn.config({}),Bn.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:m()},eventOrder:t.eventOrder}},configFields:[We("uid",void 0),xt("dom"),We("components",[]),yf.field("buttonBehaviours",[jn,Bn]),Yo("action"),Yo("role"),We("eventOrder",{})]}),zo=t=>{const s=Cn(t)&&ca(t,"uid")?t.uid:Yl("memento");return{get:b=>b.getSystem().getByUid(s).getOrDie(),getOpt:b=>b.getSystem().getByUid(s).toOptional(),asSpec:()=>({...t,uid:s})}};var Tf=tinymce.util.Tools.resolve("tinymce.util.I18n");const dP={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},oI="temporary-placeholder",sI=t=>()=>an(t,oI).getOr("!not found!"),wC=(t,s)=>{const i=t.toLowerCase();if(Tf.isRtl()){const u=Di(i,"-rtl");return Ho(s,u)?u:i}else return i},fP=(t,s)=>an(s,wC(t,s)),hP=(t,s)=>{const i=s();return fP(t,i).getOrThunk(sI(i))},oV=(t,s,i)=>{const u=s();return fP(t,u).or(i).getOrThunk(sI(u))},oA=t=>Tf.isRtl()?Ho(dP,t):!1,TC=()=>mo("add-focusable",[Tr(t=>{Xf(t.element,"svg").each(s=>co(s,"focusable","false"))})]),mP=(t,s,i,u)=>{var m,b;const w=oA(s)?["tox-icon--flip"]:[],O=an(i,wC(s,i)).or(u).getOrThunk(sI(i));return{dom:{tag:t.tag,attributes:(m=t.attributes)!==null&&m!==void 0?m:{},classes:t.classes.concat(w),innerHtml:O},behaviours:kt([...(b=t.behaviours)!==null&&b!==void 0?b:[],TC()])}},oh=(t,s,i,u=P.none())=>mP(s,t,i(),u),pP=(t,s,i)=>{const u=i(),m=kn(t,b=>Ho(u,wC(b,u)));return mP(s,m.getOr(oI),u,P.none())},sV={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},rI=qi({name:"Notification",factory:t=>{const s=zo({dom:{tag:"p",innerHtml:t.translationProvider(t.text)},behaviours:kt([lo.config({})])}),i=ae=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${ae}%`}}}),u=ae=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${ae}%`}}),m=zo({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[i(0)]},u(0)],behaviours:kt([lo.config({})])}),O={updateProgress:(ae,Te)=>{ae.getSystem().isConnected()&&m.getOpt(ae).each(Me=>{lo.set(Me,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[i(Te)]},u(Te)])})},updateText:(ae,Te)=>{if(ae.getSystem().isConnected()){const Me=s.get(ae);lo.set(Me,[Cr(Te)])}}},M=Yt([t.icon.toArray(),t.level.toArray(),t.level.bind(ae=>P.from(sV[ae])).toArray()]),F=zo(qc.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[oh("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":t.translationProvider("Close")}},t.iconProvider)],action:ae=>{t.onAction(ae)}})),G=pP(M,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),Q={dom:{tag:"div",classes:["tox-notification__body"]},components:[s.asSpec()],behaviours:kt([lo.config({})])},te=[G,Q];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map(ae=>["tox-notification","tox-notification--in",`tox-notification--${ae}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:kt([jn.config({}),mo("notification-events",[Dt(Hf(),ae=>{F.getOpt(ae).each(jn.focus)})])]),components:te.concat(t.progress?[m.asSpec()]:[]).concat(t.closeButton?[F.asSpec()]:[]),apis:O}},configFields:[Yo("level"),xt("progress"),Yo("icon"),xt("onAction"),xt("text"),xt("iconProvider"),xt("translationProvider"),li("closeButton",!0)],apis:{updateProgress:(t,s,i)=>{t.updateProgress(s,i)},updateText:(t,s,i)=>{t.updateText(s,i)}}});var iI=(t,s,i)=>{const u=s.backstage.shared,m=()=>{const M=es(Qe.fromDom(t.getContentAreaContainer())),F=Da(),G=Rc(F.x,M.x,M.right),Q=Rc(F.y,M.y,M.bottom),te=Math.max(M.right,F.right),ae=Math.max(M.bottom,F.bottom);return P.some(Ps(G,Q,te-G,ae-Q))};return{open:(M,F)=>{const G=()=>{F(),ra.hide(te)},Q=dc(rI.sketch({text:M.text,level:vo(["success","error","warning","warn","info"],M.type)?M.type:void 0,progress:M.progressBar===!0,icon:M.icon,closeButton:M.closeButton,onAction:G,iconProvider:u.providers.icons,translationProvider:u.providers.translate})),te=dc(ra.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:u.getSink,fireDismissalEventInstead:{},...u.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));i.add(te),re(M.timeout)&&M.timeout>0&&Ep.setEditorTimeout(t,()=>{G()},M.timeout);const Te={close:G,reposition:()=>{const Me=rl(Q),ot={maxHeightFunction:Zh()},Ue=t.notificationManager.getNotifications();if(Ue[0]===Te){const nt={...u.anchors.banner(),overrides:ot};ra.showWithinBounds(te,Me,{anchor:nt},m)}else je(Ue,Te).each(nt=>{const dt=Ue[nt-1].getEl(),gt={type:"node",root:Qi(),node:P.some(Qe.fromDom(dt)),overrides:ot,layouts:{onRtl:()=>[ka],onLtr:()=>[ka]}};ra.showWithinBounds(te,Me,{anchor:gt},m)})},text:Me=>{rI.updateText(Q,Me)},settings:M,getEl:()=>Q.element.dom,progressBar:{value:Me=>{rI.updateProgress(Q,Me)}}};return Te},close:M=>{M.close()},getArgs:M=>M.settings}},CC=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),SC=tinymce.util.Tools.resolve("tinymce.EditorManager"),sv=tinymce.util.Tools.resolve("tinymce.Env"),Cf;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(Cf||(Cf={}));var FE;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(FE||(FE={}));const xr=t=>s=>s.options.get(t),xC=t=>s=>P.from(t(s)),vP=t=>{const s=sv.deviceType.isPhone(),i=sv.deviceType.isTablet()||s,u=t.options.register,m=w=>B(w)||w===!1,b=w=>B(w)||re(w);u("skin",{processor:w=>B(w)||w===!1,default:"oxide"}),u("skin_url",{processor:"string"}),u("height",{processor:b,default:Math.max(t.getElement().offsetHeight,400)}),u("width",{processor:b,default:CC.DOM.getStyle(t.getElement(),"width")}),u("min_height",{processor:"number",default:100}),u("min_width",{processor:"number"}),u("max_height",{processor:"number"}),u("max_width",{processor:"number"}),u("style_formats",{processor:"object[]"}),u("style_formats_merge",{processor:"boolean",default:!1}),u("style_formats_autohide",{processor:"boolean",default:!1}),u("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),u("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),u("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),u("font_size_input_default_unit",{processor:"string",default:"pt"}),u("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),u("content_langs",{processor:"object[]"}),u("removed_menuitems",{processor:"string",default:""}),u("menubar",{processor:w=>B(w)||ve(w),default:!s}),u("menu",{processor:"object",default:{}}),u("toolbar",{processor:w=>ve(w)||B(w)||Y(w)?{value:w,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),ao(9,w=>{u("toolbar"+(w+1),{processor:"string"})}),u("toolbar_mode",{processor:"string",default:i?"scrolling":"floating"}),u("toolbar_groups",{processor:"object",default:{}}),u("toolbar_location",{processor:"string",default:FE.auto}),u("toolbar_persist",{processor:"boolean",default:!1}),u("toolbar_sticky",{processor:"boolean",default:t.inline}),u("toolbar_sticky_offset",{processor:"number",default:0}),u("fixed_toolbar_container",{processor:"string",default:""}),u("fixed_toolbar_container_target",{processor:"object"}),u("ui_mode",{processor:"string",default:"combined"}),u("file_picker_callback",{processor:"function"}),u("file_picker_validator_handler",{processor:"function"}),u("file_picker_types",{processor:"string"}),u("typeahead_urls",{processor:"boolean",default:!0}),u("anchor_top",{processor:m,default:"#top"}),u("anchor_bottom",{processor:m,default:"#bottom"}),u("draggable_modal",{processor:"boolean",default:!1}),u("statusbar",{processor:"boolean",default:!0}),u("elementpath",{processor:"boolean",default:!0}),u("branding",{processor:"boolean",default:!0}),u("promotion",{processor:"boolean",default:!0}),u("resize",{processor:w=>w==="both"||ve(w),default:!sv.deviceType.isTouch()}),u("sidebar_show",{processor:"string"})},bP=xr("readonly"),AC=xr("height"),sA=xr("width"),rA=xC(xr("min_width")),OC=xC(xr("min_height")),iA=xC(xr("max_width")),aA=xC(xr("max_height")),yP=xC(xr("style_formats")),_P=xr("style_formats_merge"),EP=xr("style_formats_autohide"),aI=xr("content_langs"),wP=xr("removed_menuitems"),HE=xr("toolbar_mode"),cA=xr("toolbar_groups"),lA=xr("toolbar_location"),TP=xr("fixed_toolbar_container"),rV=xr("fixed_toolbar_container_target"),uA=xr("toolbar_persist"),CP=xr("toolbar_sticky_offset"),SP=xr("menubar"),dA=xr("toolbar"),xP=xr("file_picker_callback"),AP=xr("file_picker_validator_handler"),cI=xr("font_size_input_default_unit"),fA=xr("file_picker_types"),OP=xr("typeahead_urls"),RC=xr("anchor_top"),RP=xr("anchor_bottom"),IP=xr("draggable_modal"),DP=xr("statusbar"),NP=xr("elementpath"),MP=xr("branding"),kP=xr("resize"),lI=xr("paste_as_text"),PP=xr("sidebar_show"),LP=xr("promotion"),IC=t=>t.options.get("skin")===!1,Ig=t=>t.options.get("menubar")!==!1,$P=t=>{const s=t.options.get("skin_url");if(IC(t))return s;if(s)return t.documentBaseURI.toAbsolute(s);{const i=t.options.get("skin");return SC.baseURL+"/skins/ui/"+i}},BP=t=>t.options.get("line_height_formats").split(" "),VE=t=>{const s=dA(t),i=B(s),u=Y(s)&&s.length>0;return!UE(t)&&(u||i||s===!0)},uI=t=>{const s=ao(9,u=>t.options.get("toolbar"+(u+1))),i=uo(s,B);return qn(i.length>0,i)},UE=t=>uI(t).fold(()=>{const s=dA(t);return me(s,B)&&s.length>0},Ot),dI=t=>lA(t)===FE.bottom,fI=t=>{var s;if(!t.inline)return P.none();const i=(s=TP(t))!==null&&s!==void 0?s:"";if(i.length>0)return Nr(Qi(),i);const u=rV(t);return ue(u)?P.some(Qe.fromDom(u)):P.none()},Ey=t=>t.inline&&fI(t).isSome(),DC=t=>fI(t).getOrThunk(()=>Ni(Aa(Qe.fromDom(t.getElement())))),hI=t=>t.inline&&!Ig(t)&&!VE(t)&&!UE(t),zE=t=>(t.options.get("toolbar_sticky")||t.inline)&&!Ey(t)&&!hI(t),Ob=t=>!Ey(t)&&t.options.get("ui_mode")==="split",WE=t=>{const s=t.options.get("menu");return Ms(s,i=>({...i,items:i.items}))};var iV=Object.freeze({__proto__:null,get ToolbarMode(){return Cf},get ToolbarLocation(){return FE},register:vP,getSkinUrl:$P,isReadOnly:bP,isSkinDisabled:IC,getHeightOption:AC,getWidthOption:sA,getMinWidthOption:rA,getMinHeightOption:OC,getMaxWidthOption:iA,getMaxHeightOption:aA,getUserStyleFormats:yP,shouldMergeStyleFormats:_P,shouldAutoHideStyleFormats:EP,getLineHeightFormats:BP,getContentLanguages:aI,getRemovedMenuItems:wP,isMenubarEnabled:Ig,isMultipleToolbars:UE,isToolbarEnabled:VE,isToolbarPersist:uA,getMultipleToolbarsOption:uI,getUiContainer:DC,useFixedContainer:Ey,isSplitUiMode:Ob,getToolbarMode:HE,isDraggableModal:IP,isDistractionFree:hI,isStickyToolbar:zE,getStickyToolbarOffset:CP,getToolbarLocation:lA,isToolbarLocationBottom:dI,getToolbarGroups:cA,getMenus:WE,getMenubar:SP,getToolbar:dA,getFilePickerCallback:xP,getFilePickerTypes:fA,useTypeaheadUrls:OP,getAnchorTop:RC,getAnchorBottom:RP,getFilePickerValidatorHandler:AP,getFontSizeInputDefaultUnit:cI,useStatusBar:DP,useElementPath:NP,promotionEnabled:LP,useBranding:MP,getResize:kP,getPasteAsText:lI,getSidebarShow:PP});const FP="[data-mce-autocompleter]",hA=t=>ff(t,FP),mI=t=>Nr(t,FP),HP={setup:(t,s)=>{const i=(m,b)=>{Mn(m,na(),{raw:b})},u=()=>t.getMenu().bind(ms.getHighlighted);s.on("keydown",m=>{const b=m.which;t.isActive()&&(t.isMenuOpen()?b===13?(u().each(rf),m.preventDefault()):b===40?(u().fold(()=>{t.getMenu().each(ms.highlightFirst)},w=>{i(w,m)}),m.preventDefault(),m.stopImmediatePropagation()):(b===37||b===38||b===39)&&u().each(w=>{i(w,m),m.preventDefault(),m.stopImmediatePropagation()}):(b===13||b===38||b===40)&&t.cancelIfNecessary())}),s.on("NodeChange",m=>{t.isActive()&&!t.isProcessingAction()&&hA(Qe.fromDom(m.element)).isNone()&&t.cancelIfNecessary()})}};var pI;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(pI||(pI={}));var wp=pI;const NC="tox-menu-nav__js",mA="tox-collection__item",gI="tox-swatch",aV={normal:NC,color:gI},VP="tox-collection__item--enabled",cV="tox-collection__group-heading",UP="tox-collection__item-icon",vI="tox-collection__item-label",lV="tox-collection__item-accessory",zP="tox-collection__item-caret",uV="tox-collection__item-checkmark",MC="tox-collection__item--active",WP="tox-collection__item-container",bI="tox-collection__item-container--column",GP="tox-collection__item-container--row",dV="tox-collection__item-container--align-right",fV="tox-collection__item-container--align-left",qP="tox-collection__item-container--valign-top",hV="tox-collection__item-container--valign-middle",mV="tox-collection__item-container--valign-bottom",jP=t=>an(aV,t).getOr(NC),pV=t=>t==="color"?"tox-swatches":"tox-menu",yI=t=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:pV(t),tieredMenu:"tox-tiered-menu"}),wy=t=>{const s=yI(t);return{backgroundMenu:s.backgroundMenu,selectedMenu:s.selectedMenu,menu:s.menu,selectedItem:s.selectedItem,item:jP(t)}},_I=(t,s,i)=>{const u=yI(i);return{tag:"div",classes:Yt([[u.menu,`tox-menu-${s}-column`],t?[u.hasIcons]:[]])}},gV=[Ab.parts.items({})],pA=(t,s,i)=>{const u=yI(i);return{dom:{tag:"div",classes:Yt([[u.tieredMenu]])},markers:wy(i)}},ZP=Ee([Yo("data"),We("inputAttributes",{}),We("inputStyles",{}),We("tag","input"),We("inputClasses",[]),Ke("onSetValue"),We("styles",{}),We("eventOrder",{}),ja("inputBehaviours",[fn,jn]),We("selectOnFocus",!0)]),YP=t=>kt([jn.config({onFocus:t.selectOnFocus?s=>{const i=s.element,u=Kl(i);i.dom.setSelectionRange(0,u.length)}:K})]),vV=t=>({...YP(t),...kr(t.inputBehaviours,[fn.config({store:{mode:"manual",...t.data.map(s=>({initialValue:s})).getOr({}),getValue:s=>Kl(s.element),setValue:(s,i)=>{Kl(s.element)!==i&&Zu(s.element,i)}},onSetValue:t.onSetValue})])}),KP=t=>({tag:t.tag,attributes:{type:"text",...t.inputAttributes},styles:t.inputStyles,classes:t.inputClasses}),bV=(t,s)=>({uid:t.uid,dom:KP(t),components:[],behaviours:vV(t),eventOrder:t.eventOrder}),Ty=qi({name:"Input",configFields:ZP(),factory:bV}),XP=_n("refetch-trigger-event"),QP=_n("redirect-menu-item-interaction"),JP="tox-menu__searcher",gA=t=>Nr(t.element,`.${JP}`).bind(s=>t.getSystem().getByDom(s).toOptional()),kC=gA,yV=(t,s)=>{fn.setValue(t,s.fetchPattern),t.element.dom.selectionStart=s.selectionStart,t.element.dom.selectionEnd=s.selectionEnd},vA=t=>{const s=fn.getValue(t),i=t.element.dom.selectionStart,u=t.element.dom.selectionEnd;return{fetchPattern:s,selectionStart:i,selectionEnd:u}},_V=(t,s)=>{Kr(s.element,"id").each(i=>co(t.element,"aria-activedescendant",i))},EV=t=>{const s=(m,b)=>(b.cut(),P.none()),i=(m,b)=>{const w={interactionEvent:b.event,eventType:b.event.raw.type};return Mn(m,QP,w),P.some(!0)},u="searcher-events";return{dom:{tag:"div",classes:[mA]},components:[Ty.sketch({inputClasses:[JP,"tox-textfield"],inputAttributes:{...t.placeholder.map(m=>({placeholder:t.i18n(m)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:kt([mo(u,[Dt(Hc(),m=>{ss(m,XP)}),Dt(na(),(m,b)=>{b.event.raw.key==="Escape"&&b.stop()})]),Bn.config({mode:"special",onLeft:s,onRight:s,onSpace:s,onEnter:i,onEscape:i,onUp:i,onDown:i})]),eventOrder:{keydown:[u,Bn.name()]}})]}},bA="tox-collection--results__js",eL=t=>{var s;return t.dom?{...t,dom:{...t.dom,attributes:{...(s=t.dom.attributes)!==null&&s!==void 0?s:{},id:_n("aria-item-search-result-id"),"aria-selected":"false"}}}:t},EI=(t,s)=>i=>{const u=Fo(i,s);return et(u,m=>({dom:t,components:m}))},tL=t=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Ab.parts.items({preprocess:t!=="auto"?EI({tag:"div",classes:["tox-swatches__row"]},t):qe})]}]}),wV=t=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Ab.parts.items({preprocess:EI({tag:"div",classes:["tox-collection__group"]},t)})]}),yA=(t,s)=>{const i=[];let u=[];return It(t,(m,b)=>{s(m,b)?(u.length>0&&i.push(u),u=[],(Ho(m.dom,"innerHtml")||m.components&&m.components.length>0)&&u.push(m)):u.push(m)}),u.length>0&&i.push(u),et(i,m=>({dom:{tag:"div",classes:["tox-collection__group"]},components:m}))},PC=(t,s,i)=>Ab.parts.items({preprocess:u=>{const m=et(u,i);return t!=="auto"&&t>1?EI({tag:"div",classes:["tox-collection__group"]},t)(m):yA(m,(b,w)=>s[w].type==="separator")}}),wI=(t,s,i=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[PC(t,s,qe)]}),TI=(t,s,i=!0)=>{const u=_n("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",bA].concat(t===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:u}},components:[PC(t,s,eL)]}},_A=(t,s,i)=>{const u=_n("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[EV({i18n:Tf.translate,placeholder:i.placeholder}),{dom:{tag:"div",classes:[...t===1?["tox-collection--list"]:["tox-collection--grid"],bA],attributes:{id:u}},components:[PC(t,s,eL)]}]}},nL=(t,s=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Ab.parts.items({preprocess:i=>yA(i,(u,m)=>t[m].type==="separator")})]}),sh=t=>Bo(t,s=>"icon"in s&&s.icon!==void 0),Tp=t=>(console.error(Cc(t)),console.log(t),P.none()),TV=(t,s,i,u,m)=>{const b=nL(i);return{value:t,dom:b.dom,components:b.components,items:i}},CI=(t,s,i,u,m)=>{const b=()=>m.menuType!=="searchable"?wI(u,i):m.searchMode.searchMode==="search-with-field"?_A(u,i,m.searchMode):TI(u,i);if(m.menuType==="color"){const w=tL(u);return{value:t,dom:w.dom,components:w.components,items:i}}else if(m.menuType==="normal"&&u==="auto"){const w=wI(u,i);return{value:t,dom:w.dom,components:w.components,items:i}}else if(m.menuType==="normal"||m.menuType==="searchable"){const w=b();return{value:t,dom:w.dom,components:w.components,items:i}}else if(m.menuType==="listpreview"&&u!=="auto"){const w=wV(u);return{value:t,dom:w.dom,components:w.components,items:i}}else return{value:t,dom:_I(s,u,m.menuType),components:gV,items:i}},ia=Wr("type"),SI=Wr("name"),Rb=Wr("label"),rv=Wr("text"),oL=Wr("title"),EA=Wr("icon"),GE=Wr("value"),xI=ic("fetch"),CV=ic("getSubmenuItems"),Ib=ic("onAction"),AI=ic("onItemAction"),Cy=Ti("onSetup",()=>K),sL=de("name"),iv=de("text"),sm=de("icon"),wA=de("tooltip"),OI=de("label"),SV=de("shortcut"),xV=Ft("select"),LC=li("active",!1),rL=li("borderless",!1),rm=li("enabled",!0),$C=li("primary",!1),RI=t=>We("columns",t),Sy=We("meta",{}),TA=Ti("onAction",K),xy=t=>ta("type",t),II=t=>jr("name","name",r1(()=>_n(`${t}-name`)),Dr),iL=t=>jr("value","value",r1(()=>_n(`${t}-value`)),_l()),aL=Pn([ia,iv]),AV=t=>ts("separatormenuitem",aL,t),cL=Pn([xy("autocompleteitem"),LC,rm,Sy,GE,iv,sm]),lL=t=>ts("Autocompleter.Separator",aL,t),uL=t=>ts("Autocompleter.Item",cL,t),qE=[rm,wA,sm,iv,Cy],OV=Pn([ia,Ib].concat(qE)),dL=t=>ts("toolbarbutton",OV,t),CA=[LC].concat(qE),DI=Pn(CA.concat([ia,Ib])),SA=t=>ts("ToggleButton",DI,t),NI=[Ti("predicate",wt),Hr("scope","node",["node","editor"]),Hr("position","selection",["node","selection","line"])],fL=qE.concat([xy("contextformbutton"),$C,Ib,ys("original",qe)]),hL=CA.concat([xy("contextformbutton"),$C,Ib,ys("original",qe)]),RV=qE.concat([xy("contextformbutton")]),MI=CA.concat([xy("contextformtogglebutton")]),IV=or("type",{contextformbutton:fL,contextformtogglebutton:hL}),mL=Pn([xy("contextform"),Ti("initValue",Ee("")),OI,Bi("commands",IV),$e("launch",or("type",{contextformbutton:RV,contextformtogglebutton:MI}))].concat(NI)),pL=t=>ts("ContextForm",mL,t),Ay=Pn([xy("contexttoolbar"),Wr("items")].concat(NI)),DV=t=>ts("ContextToolbar",Ay,t),kI=[ia,Wr("src"),de("alt"),l1("classes",[],Dr)],xA=Pn(kI),NV=[ia,rv,sL,l1("classes",["tox-collection__item-label"],Dr)],gL=Pn(NV),PI=Gp(()=>Wa("type",{cardimage:xA,cardtext:gL,cardcontainer:vL})),vL=Pn([ia,ta("direction","horizontal"),ta("align","left"),ta("valign","middle"),Bi("items",PI)]),Db=[rm,iv,SV,iL("menuitem"),Sy],bL=Pn([ia,OI,Bi("items",PI),Cy,TA].concat(Db)),MV=t=>ts("cardmenuitem",bL,t),yL=Pn([ia,LC,sm].concat(Db)),_L=t=>ts("choicemenuitem",yL,t),LI=[ia,Wr("fancytype"),TA],EL=[We("initData",{})].concat(LI),kV=[Ft("select"),Nh("initData",{},[li("allowCustomColors",!0),ta("storageKey","default"),In("colors",_l())])].concat(LI),wL=or("fancytype",{inserttable:EL,colorswatch:kV}),BC=t=>ts("fancymenuitem",wL,t),PV=Pn([ia,Cy,TA,sm].concat(Db)),LV=t=>ts("menuitem",PV,t),$V=Pn([ia,CV,Cy,sm].concat(Db)),TL=t=>ts("nestedmenuitem",$V,t),CL=Pn([ia,sm,LC,Cy,Ib].concat(Db)),BV=t=>ts("togglemenuitem",CL,t),$I=(t,s,i)=>{const u=Gi(t.element,"."+i);if(u.length>0){const m=ko(u,b=>{const w=b.dom.getBoundingClientRect().top,O=u[0].dom.getBoundingClientRect().top;return Math.abs(w-O)>s}).getOr(u.length);return P.some({numColumns:m,numRows:Math.ceil(u.length/m)})}else return P.none()},SL=(t,s)=>kt([mo(t,s)]),FC={namedEvents:SL,unnamedEvents:t=>SL(_n("unnamed-events"),t)},HC=_n("tooltip.exclusive"),VC=_n("tooltip.show"),jE=_n("tooltip.hide"),BI=(t,s,i)=>{t.getSystem().broadcastOn([HC],{})};var HV=Object.freeze({__proto__:null,hideAllExclusive:BI,setComponents:(t,s,i,u)=>{i.getTooltip().each(m=>{m.getSystem().isConnected()&&lo.set(m,u)})}}),xL=Object.freeze({__proto__:null,events:(t,s)=>{const i=m=>{s.getTooltip().each(b=>{Qh(b),t.onHide(m,b),s.clearTooltip()}),s.clearTimer()},u=m=>{if(!s.isShowing()){BI(m);const b=t.lazySink(m).getOrDie(),w=m.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:js(t.mode==="normal"?[Dt(nf(),O=>{ss(m,VC)}),Dt(kh(),O=>{ss(m,jE)})]:[]),behaviours:kt([lo.config({})])});s.setTooltip(w),Xh(b,w),t.onShow(m,w),Ws.position(b,w,{anchor:t.anchor(m)})}};return js(Yt([[Dt(VC,m=>{s.resetTimer(()=>{u(m)},t.delay)}),Dt(jE,m=>{s.resetTimer(()=>{i(m)},t.delay)}),Dt(Vf(),(m,b)=>{const w=b;w.universal||vo(w.channels,HC)&&i(m)}),xc(m=>{i(m)})],t.mode==="normal"?[Dt(Hf(),m=>{ss(m,VC)}),Dt(Nv(),m=>{ss(m,jE)}),Dt(nf(),m=>{ss(m,VC)}),Dt(kh(),m=>{ss(m,jE)})]:[Dt(g_(),(m,b)=>{ss(m,VC)}),Dt(eg(),m=>{ss(m,jE)})]]))}}),AL=[xt("lazySink"),xt("tooltipDom"),We("exclusive",!0),We("tooltipComponents",[]),We("delay",300),Hr("mode","normal",["normal","follow-highlight"]),We("anchor",t=>({type:"hotspot",hotspot:t,layouts:{onLtr:Ee([ka,Is,ba,Wc,Ui,Ol]),onRtl:Ee([ka,Is,ba,Wc,Ui,Ol])}})),Ke("onHide"),Ke("onShow")],zV=Object.freeze({__proto__:null,init:()=>{const t=Zs(),s=Zs(),i=()=>{t.on(clearTimeout)},u=(b,w)=>{i(),t.set(setTimeout(b,w))},m=Ee("not-implemented");return Ac({getTooltip:s.get,isShowing:s.isSet,setTooltip:s.set,clearTooltip:s.clear,clearTimer:i,resetTimer:u,readState:m})}});const OL=ya({fields:AL,name:"tooltipping",active:xL,state:zV,apis:HV}),WV=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),RL="silver.readonly",IL=Pn([Ga("readonly")]),UC=(t,s)=>{const u=t.mainUi.outerContainer.element,m=[t.mainUi.mothership,...t.uiMotherships];s&&It(m,b=>{b.broadcastOn([hp()],{target:u})}),It(m,b=>{b.broadcastOn([RL],{readonly:s})})},DL=(t,s)=>{t.on("init",()=>{t.mode.isReadOnly()&&UC(s,!0)}),t.on("SwitchMode",()=>UC(s,t.mode.isReadOnly())),bP(t)&&t.mode.set("readonly")},Za=()=>bu.config({channels:{[RL]:{schema:IL,onReceive:(t,s)=>{no.set(t,s.readonly)}}}}),im={item:t=>no.config({disabled:t,disableClass:"tox-collection__item--state-disabled"}),button:t=>no.config({disabled:t}),splitButton:t=>no.config({disabled:t,disableClass:"tox-tbtn--disabled"}),toolbarButton:t=>no.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},ZE=(t,s)=>{const i=t.getApi(s);return u=>{u(i)}},Nb=(t,s)=>Tr(i=>{ZE(t,i)(m=>{const b=t.onSetup(m);ce(b)&&s.set(b)})}),Oy=(t,s)=>xc(i=>ZE(t,i)(s.get())),GV=(t,s)=>Zl((i,u)=>{ZE(t,i)(t.onAction),!t.triggersSubmenu&&s===wp.CLOSE_ON_EXECUTE&&(i.getSystem().isConnected()&&ss(i,$m()),u.stop())}),NL={[zs()]:["disabling","alloy.base.behaviour","toggling","item-events"]},YE=au,KE=(t,s,i,u)=>{const m=Wn(K);return{type:"item",dom:s.dom,components:YE(s.optComponents),data:t.data,eventOrder:NL,hasSubmenu:t.triggersSubmenu,itemBehaviours:kt([mo("item-events",[GV(t,i),Nb(t,m),Oy(t,m)]),im.item(()=>!t.enabled||u.isDisabled()),Za(),lo.config({})].concat(t.itemBehaviours))}},Ry=t=>({value:t.value,meta:{text:t.text.getOr(""),...t.meta}}),ML=t=>{const s=sv.os.isMacOS()||sv.os.isiOS(),m=s?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},b=t.split("+"),w=et(b,O=>{const M=O.toLowerCase().trim();return Ho(m,M)?m[M]:O});return s?w.join(""):w.join("+")},AA=(t,s,i=[UP])=>oh(t,{tag:"div",classes:i},s),kL=t=>({dom:{tag:"div",classes:[vI]},components:[Cr(Tf.translate(t))]}),PL=(t,s)=>({dom:{tag:"div",classes:s,innerHtml:t}}),qV=(t,s)=>({dom:{tag:"div",classes:[vI]},components:[{dom:{tag:t.tag,styles:t.styles},components:[Cr(Tf.translate(s))]}]}),jV=t=>({dom:{tag:"div",classes:[lV]},components:[Cr(ML(t))]}),LL=t=>AA("checkmark",t,[uV]),Iy=t=>AA("chevron-right",t,[zP]),FI=t=>AA("chevron-down",t,[zP]),ZV=(t,s)=>{const i=t.direction==="vertical"?bI:GP,u=t.align==="left"?fV:dV;return{dom:{tag:"div",classes:[WP,i,u,(()=>{switch(t.valign){case"top":return qP;case"middle":return hV;case"bottom":return mV}})()]},components:s}},OA=(t,s,i)=>({dom:{tag:"img",classes:s,attributes:{src:t,alt:i.getOr("")}}}),Cp=(t,s,i)=>{const u="custom",m="remove",b=t.ariaLabel,w=t.value,O=t.iconContent.map(F=>oV(F,s.icons,i));return{dom:(()=>{const F=gI,G=O.getOr(""),te={tag:"div",attributes:b.map(ae=>({title:s.translate(ae)})).getOr({}),classes:[F]};return w===u?{...te,tag:"button",classes:[...te.classes,"tox-swatches__picker-btn"],innerHtml:G}:w===m?{...te,classes:[...te.classes,"tox-swatch--remove"],innerHtml:G}:ue(w)?{...te,attributes:{...te.attributes,"data-mce-color":w},styles:{"background-color":w},innerHtml:G}:te})(),optComponents:[]}},$L=t=>{const s=t.map(i=>({attributes:{title:Tf.translate(i)}})).getOr({});return{tag:"div",classes:[NC,mA],...s}},YV=(t,s,i,u)=>{const m={tag:"div",classes:[UP]},b=te=>oh(te,m,s.icons,u),w=()=>P.some({dom:m}),O=i?t.iconContent.map(b).orThunk(w):P.none(),M=t.checkMark,F=P.from(t.meta).fold(()=>kL,te=>Ho(te,"style")?yt(qV,te.style):kL),G=t.htmlContent.fold(()=>t.textContent.map(F),te=>P.some(PL(te,[vI])));return{dom:$L(t.ariaLabel),optComponents:[O,G,t.shortcutContent.map(jV),M,t.caret]}},zC=(t,s,i,u=P.none())=>t.presets==="color"?Cp(t,s,u):YV(t,s,i,u),RA=(t,s)=>an(t,"tooltipWorker").map(i=>[OL.config({lazySink:s.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:u=>({type:"submenu",item:u,overrides:{maxHeightFunction:Zh}}),mode:"follow-highlight",onShow:(u,m)=>{i(b=>{OL.setComponents(u,[df({element:Qe.fromDom(b)})])})}})]).getOr([]),KV=t=>CC.DOM.encode(t),BL=(t,s)=>{const i=Tf.translate(t),u=KV(i);if(s.length>0){const m=new RegExp(WV(s),"gi");return u.replace(m,b=>`<span class="tox-autocompleter-highlight">${b}</span>`)}else return u},FL=(t,s,i,u,m,b,w,O=!0)=>{const M=zC({presets:u,textContent:P.none(),htmlContent:i?t.text.map(F=>BL(F,s)):P.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:P.none(),checkMark:P.none(),caret:P.none(),value:t.value},w.providers,O,t.icon);return KE({data:Ry(t),enabled:t.enabled,getApi:Ee({}),onAction:F=>m(t.value,t.meta),onSetup:Ee(K),triggersSubmenu:!1,itemBehaviours:RA(t.meta,w)},M,b,w.providers)},HL=(t,s)=>et(t,i=>{switch(i.type){case"cardcontainer":return ZV(i,HL(i.items,s));case"cardimage":return OA(i.src,i.classes,i.alt);case"cardtext":const m=i.name.exists(b=>vo(s.cardText.highlightOn,b))?P.from(s.cardText.matchText).getOr(""):"";return PL(BL(i.text,m),i.classes)}}),XV=(t,s,i,u)=>{const m=w=>({isEnabled:()=>!no.isDisabled(w),setEnabled:O=>{no.set(w,!O),It(Gi(w.element,"*"),M=>{w.getSystem().getByDom(M).each(F=>{F.hasConfigured(no)&&no.set(F,!O)})})}}),b={dom:$L(t.label),optComponents:[P.some({dom:{tag:"div",classes:[WP,GP]},components:HL(t.items,u)})]};return KE({data:Ry({text:P.none(),...t}),enabled:t.enabled,getApi:m,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:P.from(u.itemBehaviours).getOr([])},b,s,i.providers)},QV=(t,s,i,u,m,b,w,O=!0)=>{const M=G=>({setActive:Q=>{So.set(G,Q)},isActive:()=>So.isOn(G),isEnabled:()=>!no.isDisabled(G),setEnabled:Q=>no.set(G,!Q)}),F=zC({presets:i,textContent:s?t.text:P.none(),htmlContent:P.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:s?t.shortcut:P.none(),checkMark:s?P.some(LL(w.icons)):P.none(),caret:P.none(),value:t.value},w,O);return Js(KE({data:Ry(t),enabled:t.enabled,getApi:M,onAction:G=>u(t.value),onSetup:G=>(G.setActive(m),K),triggersSubmenu:!1,itemBehaviours:[]},F,b,w),{toggling:{toggleClass:VP,toggleOnExecute:!1,selected:t.active,exclusive:!0}})},ed=GT(JR(),tA()),Sp=t=>({value:IA(t)}),VL=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,HI=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,WC=t=>VL.test(t)||HI.test(t),IA=t=>Eh(t,"#").toUpperCase(),JV=t=>WC(t)?P.some({value:IA(t)}):P.none(),e8=t=>({value:t.value.replace(VL,(i,u,m,b)=>u+u+m+m+b+b)}),GC=t=>{const s=e8(t),i=HI.exec(s.value);return i===null?["FFFFFF","FF","FF","FF"]:i},XE=t=>{const s=t.toString(16);return(s.length===1?"0"+s:s).toUpperCase()},qC=t=>{const s=XE(t.red)+XE(t.green)+XE(t.blue);return Sp(s)},av=Math.min,UL=Math.max,DA=Math.round,kd=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,VI=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,nu=(t,s,i,u)=>({red:t,green:s,blue:i,alpha:u}),UI=t=>{const s=parseInt(t,10);return s.toString()===t&&s>=0&&s<=255},tr=t=>{let s,i,u;const m=(t.hue||0)%360;let b=t.saturation/100,w=t.value/100;if(b=UL(0,av(b,1)),w=UL(0,av(w,1)),b===0)return s=i=u=DA(255*w),nu(s,i,u,1);const O=m/60,M=w*b,F=M*(1-Math.abs(O%2-1)),G=w-M;switch(Math.floor(O)){case 0:s=M,i=F,u=0;break;case 1:s=F,i=M,u=0;break;case 2:s=0,i=M,u=F;break;case 3:s=0,i=F,u=M;break;case 4:s=F,i=0,u=M;break;case 5:s=M,i=0,u=F;break;default:s=i=u=0}return s=DA(255*(s+G)),i=DA(255*(i+G)),u=DA(255*(u+G)),nu(s,i,u,1)},xp=t=>{const s=GC(t),i=parseInt(s[1],16),u=parseInt(s[2],16),m=parseInt(s[3],16);return nu(i,u,m,1)},jC=(t,s,i,u)=>{const m=parseInt(t,10),b=parseInt(s,10),w=parseInt(i,10),O=parseFloat(u);return nu(m,b,w,O)},NA=t=>{if(t==="transparent")return P.some(nu(0,0,0,0));const s=kd.exec(t);if(s!==null)return P.some(jC(s[1],s[2],s[3],"1"));const i=VI.exec(t);return i!==null?P.some(jC(i[1],i[2],i[3],i[4])):P.none()},MA=t=>`rgba(${t.red},${t.green},${t.blue},${t.alpha})`,kA=nu(255,0,0,1),t8=t=>{t.dispatch("SkinLoaded")},zI=(t,s)=>{t.dispatch("SkinLoadError",s)},n8=t=>{t.dispatch("ResizeEditor")},PA=(t,s)=>{t.dispatch("ResizeContent",s)},zL=(t,s)=>{t.dispatch("ScrollContent",s)},LA=(t,s)=>{t.dispatch("TextColorChange",s)},WL=(t,s)=>{t.dispatch("AfterProgressState",{state:s})},$A=(t,s)=>t.dispatch("ResolveName",{name:s.nodeName.toLowerCase(),target:s}),o8=(t,s)=>{t.dispatch("ToggleToolbarDrawer",{state:s})};var Dy=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const GL={},s8=(t,s=10)=>{const i=Dy.getItem(t),u=B(i)?JSON.parse(i):[],b=(F=>s-F.length<0?F.slice(0,s):F)(u),w=F=>{je(b,F).each(O),b.unshift(F),b.length>s&&b.pop(),Dy.setItem(t,JSON.stringify(b))},O=F=>{b.splice(F,1)};return{add:w,state:()=>b.slice(0)}},qL=t=>an(GL,t).getOrThunk(()=>{const s=`tinymce-custom-colors-${t}`,i=Dy.getItem(s);if(fe(i)){const m=Dy.getItem("tinymce-custom-colors");Dy.setItem(s,ue(m)?m:"[]")}const u=s8(s,10);return GL[t]=u,u}),r8=t=>et(qL(t).state(),s=>({type:"choiceitem",text:s,icon:"checkmark",value:s})),jL=(t,s)=>{qL(t).add(s)},ZC=(t,s,i)=>({hue:t,saturation:s,value:i}),WI=t=>{let s=0,i=0,u=0;const m=t.red/255,b=t.green/255,w=t.blue/255,O=Math.min(m,Math.min(b,w)),M=Math.max(m,Math.max(b,w));if(O===M)return u=O,ZC(0,0,u*100);const F=m===O?b-w:w===O?m-b:w-m;return s=m===O?3:w===O?1:5,s=60*(s-F/(M-O)),i=(M-O)/M,u=M,ZC(Math.round(s),Math.round(i*100),Math.round(u*100))},i8=t=>WI(xp(t)),GI=t=>qC(tr(t)),a8=t=>JV(t).orThunk(()=>NA(t).map(qC)).getOrThunk(()=>{const s=document.createElement("canvas");s.height=1,s.width=1;const i=s.getContext("2d");i.clearRect(0,0,s.width,s.height),i.fillStyle="#FFFFFF",i.fillStyle=t,i.fillRect(0,0,1,1);const u=i.getImageData(0,0,1,1).data,m=u[0],b=u[1],w=u[2],O=u[3];return qC(nu(m,b,w,O))}),BA="forecolor",qI="hilitecolor",jI=5,ZL=t=>Math.max(jI,Math.ceil(Math.sqrt(t))),YL=(t,s)=>{const i=ZL(s),u=Dg("color_cols")(t);return jI===i?u:i},c8=t=>{const s=[];for(let i=0;i<t.length;i+=2)s.push({text:t[i+1],value:"#"+a8(t[i]).value,icon:"checkmark",type:"choiceitem"});return s},Dg=t=>s=>s.options.get(t),FA="#000000",Ap=t=>{const s=t.options.register,i=u=>me(u,B)?{value:c8(u),valid:!0}:{valid:!1,message:"Must be an array of strings."};s("color_map",{processor:i,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),s("color_map_background",{processor:i}),s("color_map_foreground",{processor:i}),s("color_cols",{processor:"number",default:ZL(QE(t,"default").length)}),s("color_cols_foreground",{processor:"number",default:YL(t,QE(t,BA).length)}),s("color_cols_background",{processor:"number",default:YL(t,QE(t,qI).length)}),s("custom_colors",{processor:"boolean",default:!0}),s("color_default_foreground",{processor:"string",default:FA}),s("color_default_background",{processor:"string",default:FA})},l8=(t,s)=>s===BA?Dg("color_cols_foreground")(t):s===qI?Dg("color_cols_background")(t):Dg("color_cols")(t),HA=(t,s)=>{const i=l8(t,s);return i>0?i:jI},ZI=Dg("custom_colors"),QE=(t,s)=>s===BA&&t.options.isSet("color_map_foreground")?Dg("color_map_foreground")(t):s===qI&&t.options.isSet("color_map_background")?Dg("color_map_background")(t):Dg("color_map")(t),KL=Dg("color_default_foreground"),XL=Dg("color_default_background"),QL="rgba(0, 0, 0, 0)",u8=t=>NA(t).exists(s=>s.alpha!==0),d8=t=>xv(t,s=>{if(Cs(s)){const i=we(s,"background-color");return qn(u8(i),i)}else return P.none()}).getOr(QL),JL=(t,s)=>{const i=Qe.fromDom(t.selection.getStart()),u=s==="hilitecolor"?d8(i):we(i,"color");return NA(u).map(m=>"#"+qC(m).value)},f8=(t,s,i)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.apply(s,{value:i}),t.nodeChanged()})},e4=(t,s)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.remove(s,{value:null},void 0,!0),t.nodeChanged()})},t4=t=>{t.addCommand("mceApplyTextcolor",(s,i)=>{f8(t,s,i)}),t.addCommand("mceRemoveTextcolor",s=>{e4(t,s)})},YI=t=>{const s="choiceitem",i={type:s,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return t?[i,{type:s,text:"Custom color",icon:"color-picker",value:"custom"}]:[i]},KI=(t,s,i,u)=>{i==="custom"?JI(t)(b=>{b.each(w=>{jL(s,w),t.execCommand("mceApplyTextcolor",s,w),u(w)})},JL(t,s).getOr(FA)):i==="remove"?(u(""),t.execCommand("mceRemoveTextcolor",s)):(u(i),t.execCommand("mceApplyTextcolor",s,i))},n4=(t,s,i)=>t.concat(r8(s).concat(YI(i))),o4=(t,s,i)=>u=>{u(n4(t,s,i))},Mb=(t,s,i)=>{const u=s==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(u,i)},s4=(t,s)=>i=>{const u=JL(t,s);return gc(u,i.toUpperCase())},XI=(t,s,i,u,m)=>{t.ui.registry.addSplitButton(s,{tooltip:u,presets:"color",icon:s==="forecolor"?"text-color":"highlight-bg-color",select:s4(t,i),columns:HA(t,i),fetch:o4(QE(t,i),i,ZI(t)),onAction:b=>{KI(t,i,m.get(),K)},onItemAction:(b,w)=>{KI(t,i,w,O=>{m.set(O),LA(t,{name:s,color:O})})},onSetup:b=>{Mb(b,s,m.get());const w=O=>{O.name===s&&Mb(b,O.name,O.color)};return t.on("TextColorChange",w),()=>{t.off("TextColorChange",w)}}})},QI=(t,s,i,u,m)=>{t.ui.registry.addNestedMenuItem(s,{text:u,icon:s==="forecolor"?"text-color":"highlight-bg-color",onSetup:b=>(Mb(b,s,m.get()),K),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:s4(t,i),initData:{storageKey:i},onAction:b=>{KI(t,i,b.value,w=>{m.set(w),LA(t,{name:s,color:w})})}}]})},JI=t=>(s,i)=>{let u=!1;const m=O=>{const F=O.getData().colorpicker;u?(s(P.from(F)),O.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",F]))},b=(O,M)=>{M.name==="hex-valid"&&(u=M.value)},w={colorpicker:i};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:w,onAction:b,onSubmit:m,onClose:K,onCancel:()=>{s(P.none())}})},eD=t=>{t4(t);const s=KL(t),i=XL(t),u=Wn(s),m=Wn(i);XI(t,"forecolor","forecolor","Text color",u),XI(t,"backcolor","hilitecolor","Background color",m),QI(t,"forecolor","forecolor","Text color",u),QI(t,"backcolor","hilitecolor","Background color",m)},YC=(t,s,i,u,m,b,w,O)=>{const M=sh(s),G=tD(s,i,u,m!=="color"?"normal":"color",b,w,O);return CI(t,M,G,u,{menuType:m})},tD=(t,s,i,u,m,b,w)=>au(et(t,O=>O.type==="choiceitem"?_L(O).fold(Tp,M=>P.some(QV(M,i===1,u,s,b(M.value),m,w,sh(t)))):P.none())),KC=(t,s)=>{const i=wy(s);return t===1?{mode:"menu",moveOnTab:!0}:t==="auto"?{mode:"grid",selector:"."+i.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(s==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:m=>s==="color"?Nr(m.element,"[aria-checked=true]"):P.none()}},h8=(t,s)=>t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:s==="color"?".tox-swatches__row":".tox-collection__group",cell:s==="color"?`.${gI}`:`.${mA}`}},r4=(t,s)=>{const i=m8(t,s),u=s.colorinput.getColorCols(t.initData.storageKey),m="color",w={...YC(_n("menu-value"),i,O=>{t.onAction({value:O})},u,m,wp.CLOSE_ON_EXECUTE,t.select.getOr(wt),s.shared.providers),markers:wy(m),movement:KC(u,m)};return{type:"widget",data:{value:_n("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[ed.widget(Ab.sketch(w))]}},m8=(t,s)=>{const i=t.initData.allowCustomColors&&s.colorinput.hasCustomColors();return t.initData.colors.fold(()=>n4(s.colorinput.getColors(t.initData.storageKey),t.initData.storageKey,i),u=>u.concat(YI(i)))},i4=_n("cell-over"),a4=_n("cell-execute"),c4=(t,s,i)=>{const u=w=>Mn(w,i4,{row:t,col:s}),m=w=>Mn(w,a4,{row:t,col:s}),b=(w,O)=>{O.stop(),m(w)};return dc({dom:{tag:"div",attributes:{role:"button",["aria-labelledby"]:i}},behaviours:kt([mo("insert-table-picker-cell",[Dt(nf(),jn.focus),Dt(zs(),m),Dt(Sl(),b),Dt(d1(),b)]),So.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),jn.config({onFocus:u})])})},l4=(t,s,i)=>{const u=[];for(let m=0;m<s;m++){const b=[];for(let w=0;w<i;w++)b.push(c4(m,w,t));u.push(b)}return u},u4=(t,s,i,u,m)=>{for(let b=0;b<u;b++)for(let w=0;w<m;w++)So.set(t[b][w],b<=s&&w<=i)},p8=t=>mt(t,s=>et(s,rl)),d4=(t,s)=>Cr(`${s}x${t}`),g8={inserttable:t=>{const u=_n("size-label"),m=l4(u,10,10),b=d4(0,0),w=zo({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:u}},components:[b],behaviours:kt([lo.config({})])});return{type:"widget",data:{value:_n("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[ed.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:p8(m).concat(w.asSpec()),behaviours:kt([mo("insert-table-picker",[Tr(O=>{lo.set(w.get(O),[b])}),ng(i4,(O,M,F)=>{const{row:G,col:Q}=F.event;u4(m,G,Q,10,10),lo.set(w.get(O),[d4(G+1,Q+1)])}),ng(a4,(O,M,F)=>{const{row:G,col:Q}=F.event;t.onAction({numRows:G+1,numColumns:Q+1}),ss(O,$m())})]),Bn.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:r4},v8=(t,s)=>an(g8,t.fancytype).map(i=>i(t,s)),b8=(t,s,i,u=!0,m=!1)=>{const b=m?FI(i.icons):Iy(i.icons),w=M=>({isEnabled:()=>!no.isDisabled(M),setEnabled:F=>no.set(M,!F),setIconFill:(F,G)=>{Nr(M.element,`svg path[id="${F}"], rect[id="${F}"]`).each(Q=>{co(Q,"fill",G)})}}),O=zC({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:P.none(),ariaLabel:t.text,caret:P.some(b),checkMark:P.none(),shortcutContent:t.shortcut},i,u);return KE({data:Ry(t),getApi:w,enabled:t.enabled,onAction:K,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},O,s,i)},y8=(t,s,i,u=!0)=>{const m=w=>({isEnabled:()=>!no.isDisabled(w),setEnabled:O=>no.set(w,!O)}),b=zC({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:P.none(),ariaLabel:t.text,caret:P.none(),checkMark:P.none(),shortcutContent:t.shortcut},i,u);return KE({data:Ry(t),getApi:m,enabled:t.enabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},b,s,i)},_8=t=>({type:"separator",dom:{tag:"div",classes:[mA,cV]},components:t.text.map(Cr).toArray()}),E8=(t,s,i,u=!0)=>{const m=w=>({setActive:O=>{So.set(w,O)},isActive:()=>So.isOn(w),isEnabled:()=>!no.isDisabled(w),setEnabled:O=>no.set(w,!O)}),b=zC({iconContent:t.icon,textContent:t.text,htmlContent:P.none(),ariaLabel:t.text,checkMark:P.some(LL(i.icons)),caret:P.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},i,u);return Js(KE({data:Ry(t),enabled:t.enabled,getApi:m,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},b,s,i),{toggling:{toggleClass:VP,toggleOnExecute:!1,selected:t.active}})},w8=FL,f4=_8,h4=y8,T8=b8,C8=E8,S8=v8,x8=XV;var m4=Object.freeze({__proto__:null,getCoupled:(t,s,i,u)=>i.getOrCreate(t,s,u),getExistingCoupled:(t,s,i,u)=>i.getExisting(t,s,u)}),A8=[El("others",hr(ro.value,_l()))],O8=Object.freeze({__proto__:null,init:()=>{const t={},s=(b,w)=>{if(Os(b.others).length===0)throw new Error("Cannot find any known coupled components");return an(t,w)},i=(b,w,O)=>s(w,O).getOrThunk(()=>{const F=an(w.others,O).getOrDie("No information found for coupled component: "+O)(b),G=b.getSystem().build(F);return t[O]=G,G}),u=(b,w,O)=>s(w,O).orThunk(()=>(an(w.others,O).getOrDie("No information found for coupled component: "+O),P.none())),m=Ee({});return Ac({readState:m,getExisting:u,getOrCreate:i})}});const xi=ya({fields:A8,name:"coupling",apis:m4,state:O8}),oD=t=>{let s=P.none(),i=[];const u=F=>oD(G=>{m(Q=>{G(F(Q))})}),m=F=>{w()?M(F):i.push(F)},b=F=>{w()||(s=P.some(F),O(i),i=[])},w=()=>s.isSome(),O=F=>{It(F,M)},M=F=>{s.each(G=>{setTimeout(()=>{F(G)},0)})};return t(b),{get:m,map:u,isReady:w}},sD={nu:oD,pure:t=>oD(s=>{s(t)})},p4=t=>{setTimeout(()=>{throw t},0)},Ny=t=>{const s=M=>{t().then(M,p4)};return{map:M=>Ny(()=>t().then(M)),bind:M=>Ny(()=>t().then(F=>M(F).toPromise())),anonBind:M=>Ny(()=>t().then(()=>M.toPromise())),toLazy:()=>sD.nu(s),toCached:()=>{let M=null;return Ny(()=>(M===null&&(M=t()),M))},toPromise:t,get:s}},cl={nu:t=>Ny(()=>new Promise(t)),pure:t=>Ny(()=>Promise.resolve(t))},g4=Ee("sink"),v4=Ee(Dd({name:g4(),overrides:Ee({dom:{tag:"div"},behaviours:kt([Ws.config({useFixed:Ot})]),events:js([Hm(na()),Hm(Fi()),Hm(Sl())])})})),b4=(t,s)=>{const i=t.getHotspot(s).getOr(s),u="hotspot",m=t.getAnchorOverrides();return t.layouts.fold(()=>({type:u,hotspot:i,overrides:m}),b=>({type:u,hotspot:i,overrides:m,layouts:b}))},I8=(t,s,i)=>{const u=t.fetch;return u(i).map(s)},D8=(t,s,i,u,m,b,w)=>{const O=I8(t,s,u),M=XC(u,t);return O.map(F=>F.bind(G=>P.from(yy.sketch({...b.menu(),uid:Yl(""),data:G,highlightOnOpen:w,onOpenMenu:(Q,te)=>{const ae=M().getOrDie();Ws.position(ae,te,{anchor:i}),Uo.decloak(m)},onOpenSubmenu:(Q,te,ae)=>{const Te=M().getOrDie();Ws.position(Te,ae,{anchor:{type:"submenu",item:te}}),Uo.decloak(m)},onRepositionMenu:(Q,te,ae)=>{const Te=M().getOrDie();Ws.position(Te,te,{anchor:i}),It(ae,Me=>{Ws.position(Te,Me.triggeredMenu,{anchor:{type:"submenu",item:Me.triggeringItem}})})},onEscape:()=>(jn.focus(u),Uo.close(m),P.some(!0))}))))},VA=(t,s,i,u,m,b,w)=>{const O=b4(t,i);return D8(t,s,O,i,u,m,w).map(F=>(F.fold(()=>{Uo.isOpen(u)&&Uo.close(u)},G=>{Uo.cloak(u),Uo.open(u,G),b(u)}),u))},N8=(t,s,i,u,m,b,w)=>(Uo.close(u),cl.pure(u)),rD=(t,s,i,u,m,b)=>{const w=xi.getCoupled(i,"sandbox");return(Uo.isOpen(w)?N8:VA)(t,s,i,w,u,m,b)},M8=(t,s,i)=>{const u=Xo.getCurrent(s).getOr(s),m=ur(t.element);i?J(u.element,"min-width",m+"px"):Vs(u.element,m)},XC=(t,s)=>t.getSystem().getByUid(s.uid+"-"+g4()).map(i=>()=>ro.value(i)).getOrThunk(()=>s.lazySink.fold(()=>()=>ro.error(new Error("No internal sink is specified, nor could an external sink be found")),i=>()=>i(t))),UA=t=>{Uo.getState(t).each(s=>{yy.repositionMenus(s)})},QC=(t,s,i)=>{const u=N_(),m=(O,M)=>{const F=b4(t,s);u.link(s.element),t.matchWidth&&M8(F.hotspot,M,t.useMinWidth),t.onOpen(F,O,M),i!==void 0&&i.onOpen!==void 0&&i.onOpen(O,M)},b=(O,M)=>{u.unlink(s.element),i!==void 0&&i.onClose!==void 0&&i.onClose(O,M)},w=XC(s,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:u.id,role:"listbox"}},behaviours:yf.augment(t.sandboxBehaviours,[fn.config({store:{mode:"memory",initialValue:s}}),Uo.config({onOpen:m,onClose:b,isPartOf:(O,M,F)=>Km(M,F)||Km(s,F),getAttachPoint:()=>w().getOrDie()}),Xo.config({find:O=>Uo.getState(O).bind(M=>Xo.getCurrent(M))}),bu.config({channels:{...oy({isExtraPart:wt}),...Y1({doReposition:UA})}})])}},iD=t=>{const s=xi.getCoupled(t,"sandbox");UA(s)},aD=()=>[We("sandboxClasses",[]),yf.field("sandboxBehaviours",[Xo,bu,Uo,fn])],k8=Ee([xt("dom"),xt("fetch"),Ke("onOpen"),Sr("onExecute"),We("getHotspot",P.some),We("getAnchorOverrides",Ee({})),Rd(),ja("dropdownBehaviours",[So,xi,Bn,jn]),xt("toggleClass"),We("eventOrder",{}),Yo("lazySink"),We("matchWidth",!1),We("useMinWidth",!1),Yo("role")].concat(aD())),cD=Ee([_f({schema:[Sd(),We("fakeFocus",!1)],name:"menu",defaults:t=>({onExecute:t.onExecute})}),v4()]),lD=(t,s,i,u)=>{const m=G=>an(t.dom,"attributes").bind(Q=>an(Q,G)),b=G=>{Uo.getState(G).each(Q=>{yy.highlightPrimary(Q)})},w=(G,Q,te)=>rD(t,qe,G,u,Q,te),O=G=>{w(G,b,Su.HighlightMenuAndItem).get(K)},M={expand:G=>{So.isOn(G)||w(G,K,Su.HighlightNone).get(K)},open:G=>{So.isOn(G)||w(G,K,Su.HighlightMenuAndItem).get(K)},refetch:G=>xi.getExistingCoupled(G,"sandbox").fold(()=>w(G,K,Su.HighlightMenuAndItem).map(K),te=>VA(t,qe,G,te,u,K,Su.HighlightMenuAndItem).map(K)),isOpen:So.isOn,close:G=>{So.isOn(G)&&w(G,K,Su.HighlightMenuAndItem).get(K)},repositionMenus:G=>{So.isOn(G)&&iD(G)}},F=(G,Q)=>(rf(G),P.some(!0));return{uid:t.uid,dom:t.dom,components:s,behaviours:kr(t.dropdownBehaviours,[So.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),xi.config({others:{sandbox:G=>QC(t,G,{onOpen:()=>So.on(G),onClose:()=>So.off(G)})}}),Bn.config({mode:"special",onSpace:F,onEnter:F,onDown:(G,Q)=>{if(td.isOpen(G)){const te=xi.getCoupled(G,"sandbox");b(te)}else td.open(G);return P.some(!0)},onEscape:(G,Q)=>td.isOpen(G)?(td.close(G),P.some(!0)):P.none()}),jn.config({})]),events:eA(P.some(O)),eventOrder:{...t.eventOrder,[zs()]:["disabling","toggling","alloy.base.behaviour"]},apis:M,domModification:{attributes:{"aria-haspopup":"true",...t.role.fold(()=>({}),G=>({role:G})),...t.dom.tag==="button"?{type:m("type").getOr("button")}:{}}}}},td=Si({name:"Dropdown",configFields:k8(),partFields:cD(),factory:lD,apis:{open:(t,s)=>t.open(s),refetch:(t,s)=>t.refetch(s),expand:(t,s)=>t.expand(s),close:(t,s)=>t.close(s),isOpen:(t,s)=>t.isOpen(s),repositionMenus:(t,s)=>t.repositionMenus(s)}}),y4=t=>{switch(t.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:t}}},P8=t=>{const s=fn.getValue(t),i=gA(t).map(vA);td.refetch(s).get(()=>{const u=xi.getCoupled(s,"sandbox");i.each(m=>gA(u).each(b=>yV(b,m)))})},L8=(t,s)=>{$8(t).each(i=>{m1(t,i.element,s.event.eventType,s.event.interactionEvent)})},$8=t=>Uo.getState(t).bind(ms.getHighlighted).bind(ms.getHighlighted),B8=t=>oa(t.element,bA)?P.some(t.element):Nr(t.element,"."+bA),_4=(t,s,i)=>{kC(t).each(u=>{_V(u,i),B8(s).each(b=>{Kr(b,"id").each(w=>co(u.element,"aria-controls",w))})}),co(i.element,"aria-selected","true")},F8=(t,s,i)=>{co(i.element,"aria-selected","false")},H8=t=>{kC(t).each(s=>jn.focus(s))},V8=t=>xi.getExistingCoupled(t,"sandbox").bind(gA).map(vA).map(i=>i.fetchPattern).getOr("");var zA;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(zA||(zA={}));const U8=(t,s,i,u,m)=>{const b=i.shared.providers,w=O=>m?{...O,shortcut:P.none(),icon:O.text.isSome()?P.none():O.icon}:O;switch(t.type){case"menuitem":return LV(t).fold(Tp,O=>P.some(h4(w(O),s,b,u)));case"nestedmenuitem":return TL(t).fold(Tp,O=>P.some(T8(w(O),s,b,u,m)));case"togglemenuitem":return BV(t).fold(Tp,O=>P.some(C8(w(O),s,b,u)));case"separator":return AV(t).fold(Tp,O=>P.some(f4(O)));case"fancymenuitem":return BC(t).fold(Tp,O=>S8(O,i));default:return console.error("Unknown item in general menu",t),P.none()}},z8=(t,s,i,u,m,b,w)=>{const O=u===1,M=!O||sh(t);return au(et(t,F=>{switch(F.type){case"separator":return lL(F).fold(Tp,G=>P.some(f4(G)));case"cardmenuitem":return MV(F).fold(Tp,G=>P.some(x8({...G,onAction:Q=>{G.onAction(Q),i(G.value,G.meta)}},m,b,{itemBehaviours:RA(G.meta,b),cardText:{matchText:s,highlightOn:w}})));case"autocompleteitem":default:return uL(F).fold(Tp,G=>P.some(w8(G,s,O,"normal",i,m,b,M)))}}))},E4=(t,s,i,u,m,b)=>{const w=sh(s),O=au(et(s,G=>{const Q=ae=>m?!Ho(ae,"text"):w,te=ae=>U8(ae,i,u,Q(ae),m);return G.type==="nestedmenuitem"&&G.getSubmenuItems().length<=0?te({...G,enabled:!1}):te(G)})),M=y4(b);return(m?TV:CI)(t,w,O,1,M)},uD=t=>yy.singleData(t.value,t),w4=(t,s,i,u)=>{const m=KC(s,u),b=wy(u);return{data:uD({...t,movement:m,menuBehaviours:FC.unnamedEvents(s!=="auto"?[]:[Tr((w,O)=>{$I(w,4,b.item).each(({numColumns:M,numRows:F})=>{Bn.setGridSize(w,F,M)})})])}),menu:{markers:wy(u),fakeFocus:i===zA.ContentFocus}}},W8=(t,s)=>hA(Qe.fromDom(s.startContainer)).map(i=>{const u=t.createRng();return u.selectNode(i.dom),u}),Ng={register:(t,s)=>{const i=Wn(!1),u=Wn(!1),m=dc(ra.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:kt([mo("dismissAutocompleter",[Dt(pu(),()=>F())])]),lazySink:s.getSink})),b=()=>ra.isOpen(m),w=u.get,O=()=>{b()&&ra.hide(m)},M=()=>ra.getContent(m).bind(Te=>vs(Te.components(),0)),F=()=>t.execCommand("mceAutocompleterClose"),G=Te=>{const Me=nr(Te,ot=>P.from(ot.columns)).getOr(1);return mt(Te,ot=>{const Ue=ot.items;return z8(Ue,ot.matchText,(nt,dt)=>{const gt=t.selection.getRng();W8(t.dom,gt).each(Qt=>{const Pt={hide:()=>F(),reload:ln=>{O(),t.execCommand("mceAutocompleterReload",!1,{fetchOptions:ln})}};i.set(!0),ot.onAction(Pt,Qt,nt,dt),i.set(!1)})},Me,wp.BUBBLE_TO_SANDBOX,s,ot.highlightOn)})},Q=(Te,Me)=>{mI(Qe.fromDom(t.getBody())).each(ot=>{const Ue=nr(Te,nt=>P.from(nt.columns)).getOr(1);ra.showMenuAt(m,{anchor:{type:"node",root:Qe.fromDom(t.getBody()),node:P.from(ot)}},w4(CI("autocompleter-value",!0,Me,Ue,{menuType:"normal"}),Ue,zA.ContentFocus,"normal"))}),M().each(ms.highlightFirst)},te=Te=>{const Me=G(Te);Me.length>0?Q(Te,Me):O()};t.on("AutocompleterStart",({lookupData:Te})=>{u.set(!0),i.set(!1),te(Te)}),t.on("AutocompleterUpdate",({lookupData:Te})=>te(Te)),t.on("AutocompleterEnd",()=>{O(),u.set(!1),i.set(!1)});const ae={cancelIfNecessary:F,isMenuOpen:b,isActive:w,isProcessingAction:i.get,getMenu:M};HP.setup(ae,t)}},G8=["visible","hidden"],q8=t=>{if(ad(t)){const s=we(t,"overflow");return vc(s).length>0&&!vo(G8,s)}else return!1},dD=t=>{const s=Y0(t,q8);return Rr(s).map(i=>({element:i,others:s.slice(1)}))},Ai=(t,s)=>Ob(t)?dD(s):P.none(),WA=t=>{const s=[...et(t.others,es),Da()];return s1(es(t.element),s)},JC=(t,s,i)=>ff(t,s,i).isSome(),T4=(t,s)=>{let i=null;return{cancel:()=>{i!==null&&(clearTimeout(i),i=null)},schedule:(...b)=>{i=setTimeout(()=>{t.apply(null,b),i=null},s)}}},C4=5,j8=400,S4=t=>{const s=t.raw;return s.touches===void 0||s.touches.length!==1?P.none():P.some(s.touches[0])},Z8=(t,s)=>{const i=Math.abs(t.clientX-s.x),u=Math.abs(t.clientY-s.y);return i>C4||u>C4},Y8=t=>{const s=Zs(),i=Wn(!1),u=T4(F=>{t.triggerEvent(kv(),F),i.set(!0)},j8),m=F=>(S4(F).each(G=>{u.cancel();const Q={x:G.clientX,y:G.clientY,target:F.target};u.schedule(F),i.set(!1),s.set(Q)}),P.none()),b=F=>(u.cancel(),S4(F).each(G=>{s.on(Q=>{Z8(G,Q)&&s.clear()})}),P.none()),w=F=>{u.cancel();const G=Q=>bs(Q.target,F.target);return s.get().filter(G).map(Q=>i.get()?(F.prevent(),!1):t.triggerEvent(d1(),F))},O=Sc([{key:ql(),value:m},{key:Lm(),value:b},{key:Mh(),value:w}]);return{fireIfReady:(F,G)=>an(O,G).bind(Q=>Q(F))}},K8=t=>t.raw.which===Ux[0]&&!vo(["input","textarea"],Ja(t.target))&&!JC(t.target,'[contenteditable="true"]'),X8=(t,s)=>{const i={stopBackspace:!0,...s},u=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],m=Y8(i),b=et(u.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),ae=>Dc(t,ae,Te=>{m.fireIfReady(Te,ae).each(ot=>{ot&&Te.kill()}),i.triggerEvent(ae,Te)&&Te.kill()})),w=Zs(),O=Dc(t,"paste",ae=>{m.fireIfReady(ae,"paste").each(Me=>{Me&&ae.kill()}),i.triggerEvent("paste",ae)&&ae.kill(),w.set(setTimeout(()=>{i.triggerEvent(Mv(),ae)},0))}),M=Dc(t,"keydown",ae=>{i.triggerEvent("keydown",ae)?ae.kill():i.stopBackspace&&K8(ae)&&ae.prevent()}),F=Dc(t,"focusin",ae=>{i.triggerEvent("focusin",ae)&&ae.kill()}),G=Zs(),Q=Dc(t,"focusout",ae=>{i.triggerEvent("focusout",ae)&&ae.kill(),G.set(setTimeout(()=>{i.triggerEvent(Nv(),ae)},0))});return{unbind:()=>{It(b,ae=>{ae.unbind()}),M.unbind(),F.unbind(),Q.unbind(),O.unbind(),w.on(clearTimeout),G.on(clearTimeout)}}},x4=(t,s)=>{const i=an(t,"target").getOr(s);return Wn(i)},Q8=(t,s)=>{const i=Wn(!1),u=Wn(!1);return{stop:()=>{i.set(!0)},cut:()=>{u.set(!0)},isStopped:i.get,isCut:u.get,event:t,setSource:s.set,getSource:s.get}},J8=t=>{const s=Wn(!1);return{stop:()=>{s.set(!0)},cut:K,isStopped:s.get,isCut:wt,event:t,setSource:_e("Cannot set source of a broadcasted event"),getSource:_e("Cannot get source of a broadcasted event")}},eS=mu.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),A4=(t,s,i,u,m,b)=>{const w=t(s,u),O=Q8(i,m);return w.fold(()=>(b.logEventNoHandlers(s,u),eS.complete()),M=>{const F=M.descHandler;return u0(F)(O),O.isStopped()?(b.logEventStopped(s,M.element,F.purpose),eS.stopped()):O.isCut()?(b.logEventCut(s,M.element,F.purpose),eS.complete()):_c(M.element).fold(()=>(b.logNoParent(s,M.element,F.purpose),eS.complete()),Q=>(b.logEventResponse(s,M.element,F.purpose),eS.resume(Q)))})},O4=(t,s,i,u,m,b)=>A4(t,s,i,u,m,b).fold(Ot,w=>O4(t,s,i,w,m,b),wt),e7=(t,s,i,u,m)=>{const b=x4(i,u);return A4(t,s,i,u,b,m)},t7=(t,s,i)=>{const u=J8(s);return It(t,m=>{const b=m.descHandler;u0(b)(u)}),u.isStopped()},n7=(t,s,i,u)=>R4(t,s,i,i.target,u),R4=(t,s,i,u,m)=>{const b=x4(i,u);return O4(t,s,i,u,b,m)},o7=(t,s)=>({element:t,descHandler:s}),s7=(t,s)=>({id:t,descHandler:s}),r7=()=>{const t={},s=(w,O,M)=>{Yr(M,(F,G)=>{const Q=t[G]!==void 0?t[G]:{};Q[O]=l0(F,w),t[G]=Q})},i=(w,O)=>qu(O).bind(M=>an(w,M)).map(M=>o7(O,M));return{registerId:s,unregisterId:w=>{Yr(t,(O,M)=>{Ho(O,w)&&delete O[w]})},filterByType:w=>an(t,w).map(O=>Gd(O,(M,F)=>s7(F,M))).getOr([]),find:(w,O,M)=>an(t,O).bind(F=>xv(M,G=>i(F,G),w))}},i7=()=>{const t=r7(),s={},i=F=>{const G=F.element;return qu(G).getOrThunk(()=>lf("uid-",F.element))},u=(F,G)=>{const Q=s[G];if(Q===F)b(F);else throw new Error('The tagId "'+G+'" is already used by: '+Gu(Q.element)+`
Cannot use it for: `+Gu(F.element)+`
The conflicting element is`+(nc(Q.element)?" ":" not ")+"already in the DOM")},m=F=>{const G=i(F);ca(s,G)&&u(F,G);const Q=[F];t.registerId(Q,G,F.events),s[G]=F},b=F=>{qu(F.element).each(G=>{delete s[G],t.unregisterId(G)})};return{find:(F,G,Q)=>t.find(F,G,Q),filter:F=>t.filterByType(F),register:m,unregister:b,getById:F=>an(s,F)}},am=qi({name:"Container",factory:t=>{const{attributes:s,...i}=t.dom;return{uid:t.uid,dom:{tag:"div",attributes:{role:"presentation",...s},...i},components:t.components,behaviours:wE(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},configFields:[We("components",[]),ja("containerBehaviours",[]),We("events",{}),We("domModification",{}),We("eventOrder",{})]}),fD=t=>{const s=Ue=>_c(t.element).fold(Ot,nt=>bs(Ue,nt)),i=i7(),u=(Ue,nt)=>i.find(s,Ue,nt),m=X8(t.element,{triggerEvent:(Ue,nt)=>hg(Ue,nt.target,dt=>n7(u,Ue,nt,dt))}),b={debugInfo:Ee("real"),triggerEvent:(Ue,nt,dt)=>{hg(Ue,nt,gt=>R4(u,Ue,dt,nt,gt))},triggerFocus:(Ue,nt)=>{qu(Ue).fold(()=>{il(Ue)},dt=>{hg(Vc(),Ue,gt=>(e7(u,Vc(),{originator:nt,kill:K,prevent:K,target:Ue},Ue,gt),!1))})},triggerEscape:(Ue,nt)=>{b.triggerEvent("keydown",Ue.element,nt.event)},getByUid:Ue=>Me(Ue),getByDom:Ue=>ot(Ue),build:dc,buildOrPatch:Wv,addToGui:Ue=>{M(Ue)},removeFromGui:Ue=>{F(Ue)},addToWorld:Ue=>{w(Ue)},removeFromWorld:Ue=>{O(Ue)},broadcast:Ue=>{te(Ue)},broadcastOn:(Ue,nt)=>{ae(Ue,nt)},broadcastEvent:(Ue,nt)=>{Te(Ue,nt)},isConnected:Ot},w=Ue=>{Ue.connect(b),si(Ue.element)||(i.register(Ue),It(Ue.components(),w),b.triggerEvent(Qp(),Ue.element,{target:Ue.element}))},O=Ue=>{si(Ue.element)||(It(Ue.components(),O),i.unregister(Ue)),Ue.disconnect()},M=Ue=>{Xh(t,Ue)},F=Ue=>{Qh(Ue)},G=()=>{m.unbind(),Ct(t.element)},Q=Ue=>{const nt=i.filter(Vf());It(nt,dt=>{const gt=dt.descHandler;u0(gt)(Ue)})},te=Ue=>{Q({universal:!0,data:Ue})},ae=(Ue,nt)=>{Q({universal:!1,channels:Ue,data:nt})},Te=(Ue,nt)=>{const dt=i.filter(Ue);return t7(dt,nt)},Me=Ue=>i.getById(Ue).fold(()=>ro.error(new Error('Could not find component with uid: "'+Ue+'" in system.')),ro.value),ot=Ue=>{const nt=qu(Ue).getOr("not found");return Me(nt)};return w(t),{root:t,element:t.element,destroy:G,add:M,remove:F,getByUid:Me,getByDom:ot,addToWorld:w,removeFromWorld:O,broadcast:te,broadcastOn:ae,broadcastEvent:Te}},a7=(t,s)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:et(t.items,s.interpreter)}),c7=Ee([We("prefix","form-field"),ja("fieldBehaviours",[Xo,fn])]),I4=Ee([Dd({schema:[xt("dom")],name:"label"}),Dd({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[xt("text")],name:"aria-descriptor"}),La({factory:{sketch:t=>{const s=km(t,["factory"]);return t.factory.sketch(s)}},schema:[xt("factory")],name:"field"})]),l7=(t,s,i,u)=>{const m=kr(t.fieldBehaviours,[Xo.config({find:O=>rr(O,t,"field")}),fn.config({store:{mode:"manual",getValue:O=>Xo.getCurrent(O).bind(fn.getValue),setValue:(O,M)=>{Xo.getCurrent(O).each(F=>{fn.setValue(F,M)})}}})]),b=js([Tr((O,M)=>{const F=YT(O,t,["label","field","aria-descriptor"]);F.field().each(G=>{const Q=_n(t.prefix);F.label().each(te=>{co(te.element,"for",Q),co(G.element,"id",Q)}),F["aria-descriptor"]().each(te=>{const ae=_n(t.prefix);co(te.element,"id",ae),co(G.element,"aria-describedby",ae)})})})]),w={getField:O=>rr(O,t,"field"),getLabel:O=>rr(O,t,"label")};return{uid:t.uid,dom:t.dom,components:s,behaviours:m,events:b,apis:w}},Ts=Si({name:"FormField",configFields:c7(),partFields:I4(),factory:l7,apis:{getField:(t,s)=>t.getField(s),getLabel:(t,s)=>t.getLabel(s)}});var D4=Object.freeze({__proto__:null,exhibit:(t,s)=>ju({attributes:Sc([{key:s.tabAttr,value:"true"}])})}),u7=[We("tabAttr","data-alloy-tabstop")];const hi=ya({fields:u7,name:"tabstopping",active:D4});var d7=tinymce.util.Tools.resolve("tinymce.html.Entities");const tS=(t,s,i,u)=>{const m=f7(t,s,i,u);return Ts.sketch(m)},N4=(t,s)=>tS(t,s,[],[]),f7=(t,s,i,u)=>({dom:k4(i),components:t.toArray().concat([s]),fieldBehaviours:kt(u)}),M4=()=>k4([]),k4=t=>({tag:"div",classes:["tox-form__group"].concat(t)}),cv=(t,s)=>Ts.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Cr(s.translate(t))]}),Pd=_n("form-component-change"),nS=_n("form-close"),My=_n("form-cancel"),Mg=_n("form-action"),oS=_n("form-submit"),hD=_n("form-block"),mD=_n("form-unblock"),P4=_n("form-tabchange"),L4=_n("form-resize"),h7=(t,s,i)=>{const u=t.label.map(Q=>cv(Q,s)),m=Q=>(te,ae)=>{ff(ae.event.target,"[data-collection-item-value]").each(Te=>{Q(te,ae,Te,Mi(Te,"data-collection-item-value"))})},b=(Q,te)=>{const ae=et(te,ot=>{const Ue=Tf.translate(ot.text),nt=t.columns===1?`<div class="tox-collection__item-label">${Ue}</div>`:"",dt=`<div class="tox-collection__item-icon">${ot.icon}</div>`,gt={_:" "," - ":" ","-":" "},Qt=Ue.replace(/\_| \- |\-/g,ln=>gt[ln]);return`<div class="tox-collection__item${s.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${d7.encodeAllRaw(ot.value)}" title="${Qt}" aria-label="${Qt}">${dt}${nt}</div>`}),Te=t.columns!=="auto"&&t.columns>1?Fo(ae,t.columns):[ae],Me=et(Te,ot=>`<div class="tox-collection__group">${ot.join("")}</div>`);wd(Q.element,Me.join(""))},w=m((Q,te,ae,Te)=>{te.stop(),s.isDisabled()||Mn(Q,Mg,{name:t.name,value:Te})}),O=[Dt(nf(),m((Q,te,ae)=>{il(ae)})),Dt(Sl(),w),Dt(d1(),w),Dt(Hf(),m((Q,te,ae)=>{Nr(Q.element,"."+MC).each(Te=>{Ls(Te,MC)}),xs(ae,MC)})),Dt(Cl(),m(Q=>{Nr(Q.element,"."+MC).each(te=>{Ls(te,MC)})})),Zl(m((Q,te,ae,Te)=>{Mn(Q,Mg,{name:t.name,value:Te})}))],M=(Q,te)=>et(Gi(Q.element,".tox-collection__item"),te),F=Ts.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:qe},behaviours:kt([no.config({disabled:s.isDisabled,onDisabled:Q=>{M(Q,te=>{xs(te,"tox-collection__item--state-disabled"),co(te,"aria-disabled",!0)})},onEnabled:Q=>{M(Q,te=>{Ls(te,"tox-collection__item--state-disabled"),T(te,"aria-disabled")})}}),Za(),lo.config({}),fn.config({store:{mode:"memory",initialValue:i.getOr([])},onSetValue:(Q,te)=>{b(Q,te),t.columns==="auto"&&$I(Q,5,"tox-collection__item").each(({numRows:ae,numColumns:Te})=>{Bn.setGridSize(Q,ae,Te)}),ss(Q,L4)}}),hi.config({}),Bn.config(h8(t.columns,"normal")),mo("collection-events",O)]),eventOrder:{[zs()]:["disabling","alloy.base.behaviour","collection-events"]}});return tS(u,F,["tox-form__group--collection"],[])},m7=["input","textarea"],$4=t=>{const s=Ja(t);return vo(m7,s)},pD=(t,s)=>{const i=s.getRoot(t).getOr(t.element);Ls(i,s.invalidClass),s.notify.each(u=>{$4(t.element)&&co(t.element,"aria-invalid",!1),u.getContainer(t).each(m=>{wd(m,u.validHtml)}),u.onValid(t)})},B4=(t,s,i,u)=>{const m=s.getRoot(t).getOr(t.element);xs(m,s.invalidClass),s.notify.each(b=>{$4(t.element)&&co(t.element,"aria-invalid",!0),b.getContainer(t).each(w=>{wd(w,u)}),b.onInvalid(t,u)})},F4=(t,s,i)=>s.validator.fold(()=>cl.pure(ro.value(!0)),u=>u.validate(t)),gD=(t,s,i)=>(s.notify.each(u=>{u.onValidate(t)}),F4(t,s).map(u=>t.getSystem().isConnected()?u.fold(m=>(B4(t,s,i,m),ro.error(m)),m=>(pD(t,s),ro.value(m))):ro.error("No longer in system")));var p7=Object.freeze({__proto__:null,markValid:pD,markInvalid:B4,query:F4,run:gD,isInvalid:(t,s)=>{const i=s.getRoot(t).getOr(t.element);return oa(i,s.invalidClass)}}),g7=Object.freeze({__proto__:null,events:(t,s)=>t.validator.map(i=>js([Dt(i.onEvent,u=>{gD(u,t,s).get(qe)})].concat(i.validateOnLoad?[Tr(u=>{gD(u,t,s).get(K)})]:[]))).getOr({})}),v7=[xt("invalidClass"),We("getRoot",P.none),dn("notify",[We("aria","alert"),We("getContainer",P.none),We("validHtml",""),Ke("onValid"),Ke("onInvalid"),Ke("onValidate")]),dn("validator",[xt("validate"),We("onEvent","input"),We("validateOnLoad",!0)])];const kg=ya({fields:v7,name:"invalidating",active:g7,apis:p7,extra:{validation:t=>s=>{const i=fn.getValue(s);return cl.pure(t(i))}}});var _7=Object.freeze({__proto__:null,events:()=>js([p1(s0(),Ot)]),exhibit:()=>ju({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const sS=ya({fields:[],name:"unselecting",active:_7}),V4=(t,s)=>td.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:kt([im.button(s.providers.isDisabled),Za(),sS.config({}),hi.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:s.getSink,fetch:i=>cl.nu(u=>t.fetch(u)).map(u=>P.from(uD(Js(YC(_n("menu-value"),u,m=>{t.onItemAction(i,m)},t.columns,t.presets,wp.CLOSE_ON_EXECUTE,wt,s.providers),{movement:KC(t.columns,t.presets)})))),parts:{menu:pA(!1,1,t.presets)}}),U4=_n("color-input-change"),z4=_n("color-swatch-change"),W4=_n("color-picker-cancel"),E7=(t,s,i,u)=>{const m=Ts.parts.field({factory:Ty,inputClasses:["tox-textfield"],data:u,onSetValue:F=>kg.run(F).get(K),inputBehaviours:kt([no.config({disabled:s.providers.isDisabled}),Za(),hi.config({}),kg.config({invalidClass:"tox-textbox-field-invalid",getRoot:F=>Lc(F.element),notify:{onValid:F=>{const G=fn.getValue(F);Mn(F,U4,{color:G})}},validator:{validateOnLoad:!1,validate:F=>{const G=fn.getValue(F);if(G.length===0)return cl.pure(ro.value(!0));{const Q=Qe.fromTag("span");J(Q,"background-color",G);const te=rt(Q,"background-color").fold(()=>ro.error("blah"),ae=>ro.value(G));return cl.pure(te)}}}})]),selectOnFocus:!1}),b=t.label.map(F=>cv(F,s.providers)),w=(F,G)=>{Mn(F,z4,{value:G})},O=(F,G)=>{M.getOpt(F).each(Q=>{G==="custom"?i.colorPicker(te=>{te.fold(()=>ss(Q,W4),ae=>{w(Q,ae),jL(t.storageKey,ae)})},"#ffffff"):G==="remove"?w(Q,""):w(Q,G)})},M=zo(V4({dom:{tag:"span",attributes:{"aria-label":s.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Ui,ba,ka],onLtr:()=>[ba,Ui,ka]},components:[],fetch:o4(i.getColors(t.storageKey),t.storageKey,i.hasCustomColors()),columns:i.getColorCols(t.storageKey),presets:"color",onItemAction:O},s));return Ts.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:b.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[m,M.asSpec()]}]),fieldBehaviours:kt([mo("form-field-events",[Dt(U4,(F,G)=>{M.getOpt(F).each(Q=>{J(Q.element,"background-color",G.event.color)}),Mn(F,Pd,{name:t.name})}),Dt(z4,(F,G)=>{Ts.getField(F).each(Q=>{fn.setValue(Q,G.event.value),Xo.getCurrent(F).each(jn.focus)})}),Dt(W4,(F,G)=>{Ts.getField(F).each(Q=>{Xo.getCurrent(F).each(jn.focus)})})])])})},w7=Dd({schema:[xt("dom")],name:"label"}),kb=t=>Dd({name:""+t+"-edge",overrides:s=>s.model.manager.edgeActions[t].fold(()=>({}),u=>({events:js([$v(ql(),(m,b,w)=>u(m,w),[s]),$v(Fi(),(m,b,w)=>u(m,w),[s]),$v(Tl(),(m,b,w)=>{w.mouseIsDown.get()&&u(m,w)},[s])])}))}),GA=kb("top-left"),T7=kb("top"),qA=kb("top-right"),C7=kb("right"),S7=kb("bottom-right"),x7=kb("bottom"),A7=kb("bottom-left"),iK=kb("left"),jA=La({name:"thumb",defaults:Ee({dom:{styles:{position:"absolute"}}}),overrides:t=>({events:js([Wf(ql(),t,"spectrum"),Wf(Lm(),t,"spectrum"),Wf(Mh(),t,"spectrum"),Wf(Fi(),t,"spectrum"),Wf(Tl(),t,"spectrum"),Wf(Ph(),t,"spectrum")])})}),JE=La({schema:[ys("mouseIsDown",()=>Wn(!1))],name:"spectrum",overrides:t=>{const i=t.model.manager,u=(m,b)=>i.getValueFromEvent(b).map(w=>i.setValueFrom(m,t,w));return{behaviours:kt([Bn.config({mode:"special",onLeft:m=>i.onLeft(m,t),onRight:m=>i.onRight(m,t),onUp:m=>i.onUp(m,t),onDown:m=>i.onDown(m,t)}),jn.config({})]),events:js([Dt(ql(),u),Dt(Lm(),u),Dt(Fi(),u),Dt(Tl(),(m,b)=>{t.mouseIsDown.get()&&u(m,b)})])}}});var G4=[w7,iK,C7,T7,x7,GA,qA,A7,S7,jA,JE];const rS=Ee("slider.change.value"),R7=t=>t.type.indexOf("touch")!==-1,vD=t=>{const s=t.event.raw;if(R7(s)){const i=s;return i.touches!==void 0&&i.touches.length===1?P.some(i.touches[0]).map(u=>Kn(u.clientX,u.clientY)):P.none()}else{const i=s;return i.clientX!==void 0?P.some(i).map(u=>Kn(u.clientX,u.clientY)):P.none()}},I7="top",D7="right",N7="bottom",M7="left",ky=t=>t.model.minX,Py=t=>t.model.minY,ZA=t=>t.model.minX-1,YA=t=>t.model.minY-1,Pb=t=>t.model.maxX,cm=t=>t.model.maxY,Pg=t=>t.model.maxX+1,KA=t=>t.model.maxY+1,bD=(t,s,i)=>s(t)-i(t),XA=t=>bD(t,Pb,ky),ew=t=>bD(t,cm,Py),q4=t=>XA(t)/2,tw=t=>ew(t)/2,Lg=t=>t.stepSize,j4=t=>t.snapToGrid,Z4=t=>t.snapStart,Y4=t=>t.rounded,QA=(t,s)=>t[s+"-edge"]!==void 0,K4=t=>QA(t,M7),X4=t=>QA(t,D7),iS=t=>QA(t,I7),Q4=t=>QA(t,N7),lv=t=>t.model.value.get(),Lb=(t,s)=>({x:t,y:s}),rh=(t,s)=>{Mn(t,rS(),{value:s})},k7=(t,s)=>{rh(t,Lb(ZA(s),YA(s)))},P7=(t,s)=>{rh(t,YA(s))},L7=(t,s)=>{rh(t,Lb(q4(s),YA(s)))},J4=(t,s)=>{rh(t,Lb(Pg(s),YA(s)))},$7=(t,s)=>{rh(t,Pg(s))},B7=(t,s)=>{rh(t,Lb(Pg(s),tw(s)))},F7=(t,s)=>{rh(t,Lb(Pg(s),KA(s)))},H7=(t,s)=>{rh(t,KA(s))},V7=(t,s)=>{rh(t,Lb(q4(s),KA(s)))},e$=(t,s)=>{rh(t,Lb(ZA(s),KA(s)))},t$=(t,s)=>{rh(t,ZA(s))},U7=(t,s)=>{rh(t,Lb(ZA(s),tw(s)))},yD=(t,s,i,u)=>t<s?t:t>i?i:t===s?s-1:Math.max(s,t-u),_D=(t,s,i,u)=>t>i?t:t<s?s:t===i?i+1:Math.min(i,t+u),ED=(t,s,i)=>Math.max(s,Math.min(i,t)),nw=(t,s,i,u,m)=>m.fold(()=>{const b=t-s,w=Math.round(b/u)*u;return ED(s+w,s-1,i+1)},b=>{const w=(t-b)%u,O=Math.round(w/u),M=Math.floor((t-b)/u),F=Math.floor((i-b)/u),G=Math.min(F,M+O),Q=b+G*u;return Math.max(b,Q)}),z7=(t,s,i)=>Math.min(i,Math.max(t,s))-s,n$=t=>{const{min:s,max:i,range:u,value:m,step:b,snap:w,snapStart:O,rounded:M,hasMinEdge:F,hasMaxEdge:G,minBound:Q,maxBound:te,screenRange:ae}=t,Te=F?s-1:s,Me=G?i+1:i;if(m<Q)return Te;if(m>te)return Me;{const ot=z7(m,Q,te),Ue=ED(ot/ae*u+s,Te,Me);return w&&Ue>=s&&Ue<=i?nw(Ue,s,i,b,O):M?Math.round(Ue):Ue}},o$=t=>{const{min:s,max:i,range:u,value:m,hasMinEdge:b,hasMaxEdge:w,maxBound:O,maxOffset:M,centerMinEdge:F,centerMaxEdge:G}=t;return m<s?b?0:F:m>i?w?O:G:(m-s)/u*M},ow="top",Sf="right",JA="bottom",e2="left",W7="width",G7="height",$g=t=>t.element.dom.getBoundingClientRect(),lm=(t,s)=>t[s],aS=t=>{const s=$g(t);return lm(s,e2)},wD=t=>{const s=$g(t);return lm(s,Sf)},t2=t=>{const s=$g(t);return lm(s,ow)},s$=t=>{const s=$g(t);return lm(s,JA)},TD=t=>{const s=$g(t);return lm(s,W7)},r$=t=>{const s=$g(t);return lm(s,G7)},CD=(t,s,i)=>(t+s)/2-i,SD=(t,s)=>{const i=$g(t),u=$g(s),m=lm(i,e2),b=lm(i,Sf),w=lm(u,e2);return CD(m,b,w)},xD=(t,s)=>{const i=$g(t),u=$g(s),m=lm(i,ow),b=lm(i,JA),w=lm(u,ow);return CD(m,b,w)},n2=(t,s)=>{Mn(t,rS(),{value:s})},AD=(t,s,i)=>{const u={min:ky(s),max:Pb(s),range:XA(s),value:i,step:Lg(s),snap:j4(s),snapStart:Z4(s),rounded:Y4(s),hasMinEdge:K4(s),hasMaxEdge:X4(s),minBound:aS(t),maxBound:wD(t),screenRange:TD(t)};return n$(u)},q7=(t,s,i)=>{const u=AD(t,s,i);return n2(t,u),u},j7=(t,s)=>{const i=ky(s);n2(t,i)},Z7=(t,s)=>{const i=Pb(s);n2(t,i)},Y7=(t,s,i)=>{const m=(t>0?_D:yD)(lv(i),ky(i),Pb(i),Lg(i));return n2(s,m),P.some(m)},o2=t=>(s,i)=>Y7(t,s,i).map(Ot),K7=t=>vD(t).map(i=>i.left),i$=(t,s,i,u,m)=>{const w=TD(t),O=u.bind(G=>P.some(SD(G,t))).getOr(0),M=m.bind(G=>P.some(SD(G,t))).getOr(w),F={min:ky(s),max:Pb(s),range:XA(s),value:i,hasMinEdge:K4(s),hasMaxEdge:X4(s),minBound:aS(t),minOffset:0,maxBound:wD(t),maxOffset:w,centerMinEdge:O,centerMaxEdge:M};return o$(F)},OD=(t,s,i,u,m,b)=>{const w=i$(s,b,i,u,m);return aS(s)-aS(t)+w},X7=(t,s,i,u)=>{const m=lv(i),b=OD(t,u.getSpectrum(t),m,u.getLeftEdge(t),u.getRightEdge(t),i),w=ur(s.element)/2;J(s.element,"left",b-w+"px")},Q7=o2(-1),J7=o2(1),eU=P.none,tU=P.none,nU={"top-left":P.none(),top:P.none(),"top-right":P.none(),right:P.some($7),"bottom-right":P.none(),bottom:P.none(),"bottom-left":P.none(),left:P.some(t$)};var a$=Object.freeze({__proto__:null,setValueFrom:q7,setToMin:j7,setToMax:Z7,findValueOfOffset:AD,getValueFromEvent:K7,findPositionOfValue:OD,setPositionFromValue:X7,onLeft:Q7,onRight:J7,onUp:eU,onDown:tU,edgeActions:nU});const cS=(t,s)=>{Mn(t,rS(),{value:s})},RD=(t,s,i)=>{const u={min:Py(s),max:cm(s),range:ew(s),value:i,step:Lg(s),snap:j4(s),snapStart:Z4(s),rounded:Y4(s),hasMinEdge:iS(s),hasMaxEdge:Q4(s),minBound:t2(t),maxBound:s$(t),screenRange:r$(t)};return n$(u)},oU=(t,s,i)=>{const u=RD(t,s,i);return cS(t,u),u},sU=(t,s)=>{const i=Py(s);cS(t,i)},rU=(t,s)=>{const i=cm(s);cS(t,i)},iU=(t,s,i)=>{const m=(t>0?_D:yD)(lv(i),Py(i),cm(i),Lg(i));return cS(s,m),P.some(m)},ID=t=>(s,i)=>iU(t,s,i).map(Ot),c$=t=>vD(t).map(i=>i.top),l$=(t,s,i,u,m)=>{const w=r$(t),O=u.bind(G=>P.some(xD(G,t))).getOr(0),M=m.bind(G=>P.some(xD(G,t))).getOr(w),F={min:Py(s),max:cm(s),range:ew(s),value:i,hasMinEdge:iS(s),hasMaxEdge:Q4(s),minBound:t2(t),minOffset:0,maxBound:s$(t),maxOffset:w,centerMinEdge:O,centerMaxEdge:M};return o$(F)},lS=(t,s,i,u,m,b)=>{const w=l$(s,b,i,u,m);return t2(s)-t2(t)+w},aU=(t,s,i,u)=>{const m=lv(i),b=lS(t,u.getSpectrum(t),m,u.getTopEdge(t),u.getBottomEdge(t),i),w=Tn(s.element)/2;J(s.element,"top",b-w+"px")},u$=P.none,cU=P.none,lU=ID(-1),uU=ID(1),dU={"top-left":P.none(),top:P.some(P7),"top-right":P.none(),right:P.none(),"bottom-right":P.none(),bottom:P.some(H7),"bottom-left":P.none(),left:P.none()};var DD=Object.freeze({__proto__:null,setValueFrom:oU,setToMin:sU,setToMax:rU,findValueOfOffset:RD,getValueFromEvent:c$,findPositionOfValue:lS,setPositionFromValue:aU,onLeft:u$,onRight:cU,onUp:lU,onDown:uU,edgeActions:dU});const um=(t,s)=>{Mn(t,rS(),{value:s})},s2=(t,s)=>({x:t,y:s}),uS=(t,s,i)=>{const u=AD(t,s,i.left),m=RD(t,s,i.top),b=s2(u,m);return um(t,b),b},fU=(t,s,i,u)=>{const m=t>0?_D:yD,b=s?lv(u).x:m(lv(u).x,ky(u),Pb(u),Lg(u)),w=s?m(lv(u).y,Py(u),cm(u),Lg(u)):lv(u).y;return um(i,s2(b,w)),P.some(b)},sw=(t,s)=>(i,u)=>fU(t,s,i,u).map(Ot),hU=(t,s)=>{const i=ky(s),u=Py(s);um(t,s2(i,u))},mU=(t,s)=>{const i=Pb(s),u=cm(s);um(t,s2(i,u))},pU=t=>vD(t),d$=(t,s,i,u)=>{const m=lv(i),b=OD(t,u.getSpectrum(t),m.x,u.getLeftEdge(t),u.getRightEdge(t),i),w=lS(t,u.getSpectrum(t),m.y,u.getTopEdge(t),u.getBottomEdge(t),i),O=ur(s.element)/2,M=Tn(s.element)/2;J(s.element,"left",b-O+"px"),J(s.element,"top",w-M+"px")},gU=sw(-1,!1),ND=sw(1,!1),MD=sw(-1,!0),kD=sw(1,!0),vU={"top-left":P.some(k7),top:P.some(L7),"top-right":P.some(J4),right:P.some(B7),"bottom-right":P.some(F7),bottom:P.some(V7),"bottom-left":P.some(e$),left:P.some(U7)};var xf=Object.freeze({__proto__:null,setValueFrom:uS,setToMin:hU,setToMax:mU,getValueFromEvent:pU,setPositionFromValue:d$,onLeft:gU,onRight:ND,onUp:MD,onDown:kD,edgeActions:vU});const bU=[We("stepSize",1),We("onChange",K),We("onChoose",K),We("onInit",K),We("onDragStart",K),We("onDragEnd",K),We("snapToGrid",!1),We("rounded",!0),Yo("snapStart"),El("model",or("mode",{x:[We("minX",0),We("maxX",100),ys("value",t=>Wn(t.mode.minX)),xt("getInitialValue"),er("manager",a$)],y:[We("minY",0),We("maxY",100),ys("value",t=>Wn(t.mode.minY)),xt("getInitialValue"),er("manager",DD)],xy:[We("minX",0),We("maxX",100),We("minY",0),We("maxY",100),ys("value",t=>Wn({x:t.mode.minX,y:t.mode.minY})),xt("getInitialValue"),er("manager",xf)]})),ja("sliderBehaviours",[Bn,fn]),ys("mouseIsDown",()=>Wn(!1))],ih=Si({name:"Slider",configFields:bU,partFields:G4,factory:(t,s,i,u)=>{const m=gt=>nm(gt,t,"thumb"),b=gt=>nm(gt,t,"spectrum"),w=gt=>rr(gt,t,"left-edge"),O=gt=>rr(gt,t,"right-edge"),M=gt=>rr(gt,t,"top-edge"),F=gt=>rr(gt,t,"bottom-edge"),G=t.model,Q=G.manager,te=(gt,Qt)=>{Q.setPositionFromValue(gt,Qt,t,{getLeftEdge:w,getRightEdge:O,getTopEdge:M,getBottomEdge:F,getSpectrum:b})},ae=(gt,Qt)=>{G.value.set(Qt);const Pt=m(gt);te(gt,Pt)},Te=(gt,Qt)=>{ae(gt,Qt);const Pt=m(gt);return t.onChange(gt,Pt,Qt),P.some(!0)},Me=gt=>{Q.setToMin(gt,t)},ot=gt=>{Q.setToMax(gt,t)},Ue=gt=>{const Qt=()=>{rr(gt,t,"thumb").each(ln=>{const An=G.value.get();t.onChoose(gt,ln,An)})},Pt=t.mouseIsDown.get();t.mouseIsDown.set(!1),Pt&&Qt()},nt=(gt,Qt)=>{Qt.stop(),t.mouseIsDown.set(!0),t.onDragStart(gt,m(gt))},dt=(gt,Qt)=>{Qt.stop(),t.onDragEnd(gt,m(gt)),Ue(gt)};return{uid:t.uid,dom:t.dom,components:s,behaviours:kr(t.sliderBehaviours,[Bn.config({mode:"special",focusIn:gt=>rr(gt,t,"spectrum").map(Bn.focusIn).map(Ot)}),fn.config({store:{mode:"manual",getValue:gt=>G.value.get(),setValue:ae}}),bu.config({channels:{[RT()]:{onReceive:Ue}}})]),events:js([Dt(rS(),(gt,Qt)=>{Te(gt,Qt.event.value)}),Tr((gt,Qt)=>{const Pt=G.getInitialValue();G.value.set(Pt);const ln=m(gt);te(gt,ln);const An=b(gt);t.onInit(gt,ln,An,G.value.get())}),Dt(ql(),nt),Dt(Mh(),dt),Dt(Fi(),nt),Dt(Ph(),dt)]),apis:{resetToMin:Me,resetToMax:ot,setValue:ae,refresh:te},domModification:{styles:{position:"relative"}}}},apis:{setValue:(t,s,i)=>{t.setValue(s,i)},resetToMin:(t,s)=>{t.resetToMin(s)},resetToMax:(t,s)=>{t.resetToMax(s)},refresh:(t,s)=>{t.refresh(s)}}}),r2=_n("rgb-hex-update"),f$=_n("slider-update"),h$=_n("palette-update"),yU=(t,s)=>{const i=ih.parts.spectrum({dom:{tag:"div",classes:[s("hue-slider-spectrum")],attributes:{role:"presentation"}}}),u=ih.parts.thumb({dom:{tag:"div",classes:[s("hue-slider-thumb")],attributes:{role:"presentation"}}});return ih.sketch({dom:{tag:"div",classes:[s("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:Ee(0)},components:[i,u],sliderBehaviours:kt([jn.config({})]),onChange:(m,b,w)=>{Mn(m,f$,{value:w})}})},m$="form",_U=[ja("formBehaviours",[fn])],p$=t=>"<alloy.field."+t+">",EU=t=>{const s=(()=>{const b=[];return{field:(O,M)=>(b.push(O),qT(m$,p$(O),M)),record:Ee(b)}})(),i=t(s),u=s.record(),m=et(u,b=>La({name:b,pname:p$(b)}));return nC(m$,_U,m,wU,i)},g$=(t,s)=>t.fold(()=>ro.error(s),ro.value),wU=(t,s)=>({uid:t.uid,dom:t.dom,components:s,behaviours:kr(t.formBehaviours,[fn.config({store:{mode:"manual",getValue:i=>{const u=KT(i,t);return Ms(u,(m,b)=>m().bind(w=>{const O=Xo.getCurrent(w);return g$(O,new Error(`Cannot find a current component to extract the value from for form part '${b}': `+Gu(w.element)))}).map(fn.getValue))},setValue:(i,u)=>{Yr(u,(m,b)=>{rr(i,t,b).each(w=>{Xo.getCurrent(w).each(O=>{fn.setValue(O,m)})})})}}})]),apis:{getField:(i,u)=>rr(i,t,u).bind(Xo.getCurrent)}}),rw={getField:b1((t,s,i)=>t.getField(s,i)),sketch:EU},v$=_n("valid-input"),PD=_n("invalid-input"),i2=_n("validating-input"),LD="colorcustom.rgb.",$D=(t,s,i,u)=>{const m=(te,ae)=>kg.config({invalidClass:s("invalid"),notify:{onValidate:Te=>{Mn(Te,i2,{type:te})},onValid:Te=>{Mn(Te,v$,{type:te,value:fn.getValue(Te)})},onInvalid:Te=>{Mn(Te,PD,{type:te,value:fn.getValue(Te)})}},validator:{validate:Te=>{const Me=fn.getValue(Te),ot=ae(Me)?ro.value(!0):ro.error(t("aria.input.invalid"));return cl.pure(ot)},validateOnLoad:!1}}),b=(te,ae,Te,Me,ot)=>{const Ue=t(LD+"range"),nt=Ts.parts.label({dom:{tag:"label",attributes:{"aria-label":Me}},components:[Cr(Te)]}),dt=Ts.parts.field({data:ot,factory:Ty,inputAttributes:{type:"text",...ae==="hex"?{"aria-live":"polite"}:{}},inputClasses:[s("textfield")],inputBehaviours:kt([m(ae,te),hi.config({})]),onSetValue:ln=>{kg.isInvalid(ln)&&kg.run(ln).get(K)}}),gt=[nt,dt],Qt=ae!=="hex"?[Ts.parts["aria-descriptor"]({text:Ue})]:[],Pt=gt.concat(Qt);return{dom:{tag:"div",attributes:{role:"presentation"}},components:Pt}},w=(te,ae)=>{const Te=qC(ae);return rw.getField(te,"hex").each(Me=>{jn.isFocused(Me)||fn.setValue(te,{hex:Te.value})}),Te},O=(te,ae)=>{const Te=ae.red,Me=ae.green,ot=ae.blue;fn.setValue(te,{red:Te,green:Me,blue:ot})},M=zo({dom:{tag:"div",classes:[s("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),F=(te,ae)=>{M.getOpt(te).each(Te=>{J(Te.element,"background-color","#"+ae.value)})};return qi({factory:()=>{const te={red:Wn(P.some(255)),green:Wn(P.some(255)),blue:Wn(P.some(255)),hex:Wn(P.some("ffffff"))},ae=(oo,Io)=>{const Xn=xp(Io);O(oo,Xn),Ue(Xn)},Te=oo=>te[oo].get(),Me=(oo,Io)=>{te[oo].set(Io)},ot=()=>Te("red").bind(oo=>Te("green").bind(Io=>Te("blue").map(Xn=>nu(oo,Io,Xn,1)))),Ue=oo=>{const Io=oo.red,Xn=oo.green,As=oo.blue;Me("red",P.some(Io)),Me("green",P.some(Xn)),Me("blue",P.some(As))},nt=(oo,Io)=>{const Xn=Io.event;Xn.type!=="hex"?Me(Xn.type,P.none()):u(oo)},dt=(oo,Io)=>{i(oo);const Xn=Sp(Io);Me("hex",P.some(Xn.value));const As=xp(Xn);O(oo,As),Ue(As),Mn(oo,r2,{hex:Xn}),F(oo,Xn)},gt=(oo,Io,Xn)=>{const As=parseInt(Xn,10);Me(Io,P.some(As)),ot().each(Wt=>{const Sn=w(oo,Wt);Mn(oo,r2,{hex:Sn}),F(oo,Sn)})},Qt=oo=>oo.type==="hex",Pt=(oo,Io)=>{const Xn=Io.event;Qt(Xn)?dt(oo,Xn.value):gt(oo,Xn.type,Xn.value)},ln=oo=>({label:t(LD+oo+".label"),description:t(LD+oo+".description")}),An=ln("red"),$o=ln("green"),Fn=ln("blue"),Mo=ln("hex");return Js(rw.sketch(oo=>({dom:{tag:"form",classes:[s("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[oo.field("red",Ts.sketch(b(UI,"red",An.label,An.description,255))),oo.field("green",Ts.sketch(b(UI,"green",$o.label,$o.description,255))),oo.field("blue",Ts.sketch(b(UI,"blue",Fn.label,Fn.description,255))),oo.field("hex",Ts.sketch(b(WC,"hex",Mo.label,Mo.description,"ffffff"))),M.asSpec()],formBehaviours:kt([kg.config({invalidClass:s("form-invalid")}),mo("rgb-form-events",[Dt(v$,Pt),Dt(PD,nt),Dt(i2,nt)])])})),{apis:{updateHex:(oo,Io)=>{fn.setValue(oo,{hex:Io.value}),ae(oo,Io),F(oo,Io)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(te,ae,Te)=>{te.updateHex(ae,Te)}},extraApis:{}})},iw=(t,s)=>{const i=ih.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[s("sv-palette-spectrum")]}}),u=ih.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette-thumb")],innerHtml:`<div class=${s("sv-palette-inner-thumb")} role="presentation"></div>`}}),m=(F,G)=>{const{width:Q,height:te}=F,ae=F.getContext("2d");if(ae===null)return;ae.fillStyle=G,ae.fillRect(0,0,Q,te);const Te=ae.createLinearGradient(0,0,Q,0);Te.addColorStop(0,"rgba(255,255,255,1)"),Te.addColorStop(1,"rgba(255,255,255,0)"),ae.fillStyle=Te,ae.fillRect(0,0,Q,te);const Me=ae.createLinearGradient(0,0,0,te);Me.addColorStop(0,"rgba(0,0,0,0)"),Me.addColorStop(1,"rgba(0,0,0,1)"),ae.fillStyle=Me,ae.fillRect(0,0,Q,te)},b=(F,G)=>{const Q=F.components()[0].element.dom,te=ZC(G,100,100),ae=tr(te);m(Q,MA(ae))},w=(F,G)=>{const Q=WI(xp(G));ih.setValue(F,{x:Q.saturation,y:100-Q.value})};return qi({factory:F=>{const G=Ee({x:0,y:0}),Q=(Te,Me,ot)=>{Mn(Te,h$,{value:ot})},te=(Te,Me,ot,Ue)=>{m(ot.element.dom,MA(kA))},ae=kt([Xo.config({find:P.some}),jn.config({})]);return ih.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette")]},model:{mode:"xy",getInitialValue:G},rounded:!1,components:[i,u],onChange:Q,onInit:te,sliderBehaviours:ae})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(F,G,Q)=>{b(G,Q)},setThumb:(F,G,Q)=>{w(G,Q)}},extraApis:{}})},b$=(t,s)=>{const i=m=>{const b=$D(t,s,m.onValidHex,m.onInvalidHex),w=iw(t,s),O=Pt=>(100-Pt)/100*360,M=Pt=>100-Pt/360*100,F={paletteRgba:Wn(kA),paletteHue:Wn(0)},G=zo(yU(t,s)),Q=zo(w.sketch({})),te=zo(b.sketch({})),ae=(Pt,ln,An)=>{Q.getOpt(Pt).each($o=>{w.setHue($o,An)})},Te=(Pt,ln)=>{te.getOpt(Pt).each(An=>{b.updateHex(An,ln)})},Me=(Pt,ln,An)=>{G.getOpt(Pt).each($o=>{ih.setValue($o,M(An))})},ot=(Pt,ln)=>{Q.getOpt(Pt).each(An=>{w.setThumb(An,ln)})},Ue=(Pt,ln)=>{const An=xp(Pt);F.paletteRgba.set(An),F.paletteHue.set(ln)},nt=(Pt,ln,An,$o)=>{Ue(ln,An),It($o,Fn=>{Fn(Pt,ln,An)})},dt=()=>{const Pt=[Te];return(ln,An)=>{const $o=An.event.value,Fn=F.paletteHue.get(),Mo=ZC(Fn,$o.x,100-$o.y),oo=GI(Mo);nt(ln,oo,Fn,Pt)}},gt=()=>{const Pt=[ae,Te];return(ln,An)=>{const $o=O(An.event.value),Fn=F.paletteRgba.get(),Mo=WI(Fn),oo=ZC($o,Mo.saturation,Mo.value),Io=GI(oo);nt(ln,Io,$o,Pt)}},Qt=()=>{const Pt=[ae,Me,ot];return(ln,An)=>{const $o=An.event.hex,Fn=i8($o);nt(ln,$o,Fn.hue,Pt)}};return{uid:m.uid,dom:m.dom,components:[Q.asSpec(),G.asSpec(),te.asSpec()],behaviours:kt([mo("colour-picker-events",[Dt(r2,Qt()),Dt(h$,dt()),Dt(f$,gt())]),Xo.config({find:Pt=>te.getOpt(Pt)}),Bn.config({mode:"acyclic"})])}};return qi({name:"ColourPicker",configFields:[xt("dom"),We("onValidHex",K),We("onInvalidHex",K)],factory:i})},dm={self:()=>Xo.config({find:P.some}),memento:t=>Xo.config({find:t.getOpt}),childAt:t=>Xo.config({find:s=>Du(s.element,t).bind(i=>s.getSystem().getByDom(i).toOptional())})},a2=Pn([We("preprocess",qe),We("postprocess",qe)]),SU=(t,s)=>{const i=Jr("RepresentingConfigs.memento processors",a2,s);return fn.config({store:{mode:"manual",getValue:u=>{const m=t.get(u),b=fn.getValue(m);return i.postprocess(b)},setValue:(u,m)=>{const b=i.preprocess(m),w=t.get(u);fn.setValue(w,b)}}})},y$=(t,s,i)=>fn.config({store:{mode:"manual",...t.map(u=>({initialValue:u})).getOr({}),getValue:s,setValue:i}}),c2=(t,s,i)=>y$(t,u=>s(u.element),(u,m)=>i(u.element,m)),Oi={memento:SU,withElement:c2,withComp:y$,domValue:t=>c2(t,Kl,Zu),domHtml:t=>c2(t,Oo,wd),memory:t=>fn.config({store:{mode:"memory",initialValue:t}})},E$={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},OU=t=>s=>t.translate(E$[s]),RU=(t,s,i)=>{const u=M=>"tox-"+M,m=b$(OU(s),u),b=M=>{Mn(M,Mg,{name:"hex-valid",value:!0})},w=M=>{Mn(M,Mg,{name:"hex-valid",value:!1})},O=zo(m.sketch({dom:{tag:"div",classes:[u("color-picker-container")],attributes:{role:"presentation"}},onValidHex:b,onInvalidHex:w}));return{dom:{tag:"div"},components:[O.asSpec()],behaviours:kt([Oi.withComp(i,M=>{const F=O.get(M);return Xo.getCurrent(F).bind(te=>fn.getValue(te).hex).map(te=>"#"+Eh(te,"#")).getOr("")},(M,F)=>{const G=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,Q=P.from(G.exec(F)).bind(Te=>vs(Te,1)),te=O.get(M);Xo.getCurrent(te).fold(()=>{console.log("Can not find form")},Te=>{fn.setValue(Te,{hex:Q.getOr("")}),rw.getField(Te,"hex").each(Me=>{ss(Me,Hc())})})}),dm.self()])}};var w$=tinymce.util.Tools.resolve("tinymce.Resource");const IU=t=>Ho(t,"init"),DU=t=>{const s=Zs(),i=zo({dom:{tag:t.tag}}),u=Zs();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:kt([mo("custom-editor-events",[Tr(m=>{i.getOpt(m).each(b=>{(IU(t)?t.init(b.element.dom):w$.load(t.scriptId,t.scriptUrl).then(w=>w(b.element.dom,t.settings))).then(w=>{u.on(O=>{w.setValue(O)}),u.clear(),s.set(w)})})})]),Oi.withComp(P.none(),()=>s.get().fold(()=>u.get().getOr(""),m=>m.getValue()),(m,b)=>{s.get().fold(()=>u.set(b),w=>w.setValue(b))}),dm.self()]),components:[i.asSpec()]}};var Ly=tinymce.util.Tools.resolve("tinymce.util.Tools");const T$=(t,s)=>{const i=Ly.explode(s.getOption("images_file_types")),u=m=>Bo(i,b=>Fa(m.name.toLowerCase(),`.${b.toLowerCase()}`));return uo(Ca(t),u)},Bg=(t,s,i)=>{const u=(te,ae)=>{ae.stop()},m=te=>(ae,Te)=>{It(te,Me=>{Me(ae,Te)})},b=(te,ae)=>{var Te;if(!no.isDisabled(te)){const Me=ae.event.raw;O(te,(Te=Me.dataTransfer)===null||Te===void 0?void 0:Te.files)}},w=(te,ae)=>{const Te=ae.event.raw.target;O(te,Te.files)},O=(te,ae)=>{ae&&(fn.setValue(te,T$(ae,s)),Mn(te,Pd,{name:t.name}))},M=zo({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:kt([mo("input-file-events",[Hm(Sl()),Hm(d1())])])}),F=te=>({uid:te.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:kt([Oi.memory(i.getOr([])),dm.self(),no.config({}),So.config({toggleClass:"dragenter",toggleOnExecute:!1}),mo("dropzone-events",[Dt("dragenter",m([u,So.toggle])),Dt("dragleave",m([u,So.toggle])),Dt("dragover",u),Dt("drop",m([u,b])),Dt(jl(),w)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Cr(s.translate("Drop an image here"))]},qc.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Cr(s.translate("Browse for an image")),M.asSpec()],action:ae=>{M.get(ae).element.dom.click()},buttonBehaviours:kt([hi.config({}),im.button(s.isDisabled),Za()])})]}]}),G=t.label.map(te=>cv(te,s)),Q=Ts.parts.field({factory:{sketch:F}});return tS(G,Q,["tox-form__group--stretched"],[])},BD=(t,s)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${t.columns}col`]},components:et(t.items,s.interpreter)}),l2=_n("alloy-fake-before-tabstop"),aw=_n("alloy-fake-after-tabstop"),u2=t=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:kt([jn.config({ignore:!0}),hi.config({})])}),C$=t=>({dom:{tag:"div",classes:["tox-navobj"]},components:[u2([l2]),t,u2([aw])],behaviours:kt([dm.childAt(1)])}),S$=(t,s)=>{Mn(t,na(),{raw:{which:9,shiftKey:s}})},NU=(t,s)=>{const i=s.element;oa(i,l2)?S$(t,!0):oa(i,aw)&&S$(t,!1)},dS=t=>JC(t,["."+l2,"."+aw].join(","),wt),MU=t=>{const s=Wn(t.getOr(""));return{getValue:i=>s.get(),setValue:(i,u)=>{s.get()!==u&&co(i.element,"srcdoc",u),s.set(u)}}},kU=(t,s,i)=>{const u=t.sandboxed,m=t.transparent,b="tox-dialog__iframe",w={...t.label.map(Q=>({title:Q})).getOr({}),...i.map(Q=>({srcdoc:Q})).getOr({}),...u?{sandbox:"allow-scripts allow-same-origin"}:{}},O=MU(i),M=t.label.map(Q=>cv(Q,s)),F=Q=>C$({uid:Q.uid,dom:{tag:"iframe",attributes:w,classes:m?[b]:[b,`${b}--opaque`]},behaviours:kt([hi.config({}),jn.config({}),Oi.withComp(i,O.getValue,O.setValue)])}),G=Ts.parts.field({factory:{sketch:F}});return tS(M,G,["tox-form__group--stretched"],[])},PU=t=>new Promise((s,i)=>{const u=()=>{b(),s(t)},m=[Dc(t,"load",u),Dc(t,"error",()=>{b(),i("Unable to load data from image: "+t.dom.src)})],b=()=>It(m,w=>w.unbind());t.dom.complete&&u()}),x$=(t,s,i,u,m)=>{const b=i*m,w=u*m,O=Math.max(0,t/2-b/2),M=Math.max(0,s/2-w/2);return{left:O.toString()+"px",top:M.toString()+"px",width:b.toString()+"px",height:w.toString()+"px"}},LU=(t,s,i)=>{const u=ur(t),m=Tn(t);return Math.min(u/s,m/i,1)},Fg=(t,s)=>{const i=Wn(s.getOr({url:""})),u=zo({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:s.map(M=>({src:M.url})).getOr({})}}),m=zo({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[u.asSpec()]}),b=(M,F)=>{const G={url:F.url};F.zoom.each(te=>G.zoom=te),F.cachedWidth.each(te=>G.cachedWidth=te),F.cachedHeight.each(te=>G.cachedHeight=te),i.set(G);const Q=()=>{const{cachedWidth:te,cachedHeight:ae,zoom:Te}=G;if(!ie(te)&&!ie(ae)){if(ie(Te)){const ot=LU(M.element,te,ae);G.zoom=ot}const Me=x$(ur(M.element),Tn(M.element),te,ae,G.zoom);m.getOpt(M).each(ot=>{le(ot.element,Me)})}};u.getOpt(M).each(te=>{const ae=te.element;F.url!==Mi(ae,"src")&&(co(ae,"src",F.url),Ls(M.element,"tox-imagepreview__loaded")),Q(),PU(ae).then(Te=>{M.getSystem().isConnected()&&(xs(M.element,"tox-imagepreview__loaded"),G.cachedWidth=Te.dom.naturalWidth,G.cachedHeight=Te.dom.naturalHeight,Q())})})},w={};t.height.each(M=>w.height=M);const O=s.map(M=>({url:M.url,zoom:P.from(M.zoom),cachedWidth:P.from(M.cachedWidth),cachedHeight:P.from(M.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:w,attributes:{role:"presentation"}},components:[m.asSpec()],behaviours:kt([dm.self(),Oi.withComp(O,()=>i.get(),b)])}},d2=(t,s)=>{const i={dom:{tag:"label",classes:["tox-label"]},components:[Cr(s.providers.translate(t.label))]},u=et(t.items,s.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[i,...u],behaviours:kt([dm.self(),lo.config({}),Oi.domHtml(P.none()),Bn.config({mode:"acyclic"})])}},A$=_n("toolbar.button.execute"),$U=t=>Zl((s,i)=>{ZE(t,s)(u=>{Mn(s,A$,{buttonApi:u}),t.onAction(u)})}),$b=_n("common-button-display-events"),FD={[zs()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],[sf()]:["toolbar-button-events",$b],[Fi()]:["focusing","alloy.base.behaviour",$b]},fS=t=>J(t.element,"width",we(t.element,"width")),hS=(t,s,i)=>oh(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:i},s),$y=(t,s)=>hS(t,s,[]),fm=(t,s)=>hS(t,s,[lo.config({})]),HD=(t,s,i)=>({dom:{tag:"span",classes:[`${s}__select-label`]},components:[Cr(i.translate(t))],behaviours:kt([lo.config({})])}),Af=_n("update-menu-text"),By=_n("update-menu-icon"),VD=(t,s,i)=>{const u=Wn(K),m=t.text.map(te=>zo(HD(te,s,i.providers))),b=t.icon.map(te=>zo(fm(te,i.providers.icons))),w=(te,ae)=>{const Te=fn.getValue(te);return jn.focus(Te),Mn(Te,"keydown",{raw:ae.event.raw}),td.close(Te),P.some(!0)},O=t.role.fold(()=>({}),te=>({role:te})),M=t.tooltip.fold(()=>({}),te=>{const ae=i.providers.translate(te);return{title:ae,"aria-label":ae}}),F=oh("chevron-down",{tag:"div",classes:[`${s}__select-chevron`]},i.providers.icons),G=_n("common-button-display-events");return zo(td.sketch({...t.uid?{uid:t.uid}:{},...O,dom:{tag:"button",classes:[s,`${s}--select`].concat(et(t.classes,te=>`${s}--${te}`)),attributes:{...M}},components:YE([b.map(te=>te.asSpec()),m.map(te=>te.asSpec()),P.some(F)]),matchWidth:!0,useMinWidth:!0,onOpen:(te,ae,Te)=>{t.searchable&&H8(Te)},dropdownBehaviours:kt([...t.dropdownBehaviours,im.button(()=>t.disabled||i.providers.isDisabled()),Za(),sS.config({}),lo.config({}),mo("dropdown-events",[Nb(t,u),Oy(t,u)]),mo(G,[Tr((te,ae)=>fS(te))]),mo("menubutton-update-display-text",[Dt(Af,(te,ae)=>{m.bind(Te=>Te.getOpt(te)).each(Te=>{lo.set(Te,[Cr(i.providers.translate(ae.event.text))])})}),Dt(By,(te,ae)=>{b.bind(Te=>Te.getOpt(te)).each(Te=>{lo.set(Te,[fm(ae.event.icon,i.providers.icons)])})})])]),eventOrder:Js(FD,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[sf()]:["toolbar-button-events","dropdown-events",G]}),sandboxBehaviours:kt([Bn.config({mode:"special",onLeft:w,onRight:w}),mo("dropdown-sandbox-events",[Dt(XP,(te,ae)=>{P8(te),ae.stop()}),Dt(QP,(te,ae)=>{L8(te,ae),ae.stop()})])]),lazySink:i.getSink,toggleClass:`${s}--active`,parts:{menu:{...pA(!1,t.columns,t.presets),fakeFocus:t.searchable,onHighlightItem:_4,onCollapseMenu:(te,ae,Te)=>{ms.getHighlighted(Te).each(Me=>{_4(te,Te,Me)})},onDehighlightItem:F8}},fetch:te=>cl.nu(yt(t.fetch,te))})).asSpec()},BU=t=>B(t),O$=t=>t.type==="separator",FU=t=>Ho(t,"getSubmenuItems"),HU={type:"separator"},VU=(t,s)=>{const i=gs(t,(u,m)=>BU(m)?m===""?u:m==="|"?u.length>0&&!O$(u[u.length-1])?u.concat([HU]):u:Ho(s,m.toLowerCase())?u.concat([s[m.toLowerCase()]]):u:u.concat([m]),[]);return i.length>0&&O$(i[i.length-1])&&i.pop(),i},R$=(t,s)=>{const i=t.getSubmenuItems(),u=D$(i,s),m=Js(u.menus,{[t.value]:u.items}),b=Js(u.expansions,{[t.value]:t.value});return{item:t,menus:m,expansions:b}},I$=t=>{const s=an(t,"value").getOrThunk(()=>_n("generated-menu-item"));return Js({value:s},t)},D$=(t,s)=>{const i=VU(B(t)?t.split(" "):t,s);return Bt(i,(u,m)=>{if(FU(m)){const b=I$(m),w=R$(b,s);return{menus:Js(u.menus,w.menus),items:[w.item,...u.items],expansions:Js(u.expansions,w.expansions)}}else return{...u,items:[m,...u.items]}},{menus:{},expansions:{},items:[]})},N$=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-field",placeholder:s.placeholder})),UU=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-results"})),Fy=(t,s,i,u)=>{const m=_n("primary-menu"),b=D$(t,i.shared.providers.menuItems());if(b.items.length===0)return P.none();const w=N$(u),O=E4(m,b.items,s,i,u.isHorizontalMenu,w),M=UU(u),F=Ms(b.menus,(Q,te)=>E4(te,Q,s,i,!1,M)),G=Js(F,Uu(m,O));return P.from(yy.tieredData(m,G,b.expansions))},Hy=t=>!Ho(t,"items"),M$="data-value",UD=(t,s,i,u)=>et(i,m=>Hy(m)?{type:"togglemenuitem",text:m.text,value:m.value,active:m.value===u,onAction:()=>{fn.setValue(t,m.value),Mn(t,Pd,{name:s}),jn.focus(t)}}:{type:"nestedmenuitem",text:m.text,getSubmenuItems:()=>UD(t,s,m.items,u)}),zD=(t,s)=>nr(t,i=>Hy(i)?qn(i.value===s,i):zD(i.items,s)),zU=(t,s,i)=>{const u=s.shared.providers,m=i.bind(M=>zD(t.items,M)).orThunk(()=>Rr(t.items).filter(Hy)),b=t.label.map(M=>cv(M,u)),w=Ts.parts.field({dom:{},factory:{sketch:M=>VD({uid:M.uid,text:m.map(F=>F.text),icon:P.none(),tooltip:t.label,role:P.none(),fetch:(F,G)=>{const Q=UD(F,t.name,t.items,fn.getValue(F));G(Fy(Q,wp.CLOSE_ON_EXECUTE,s,{isHorizontalMenu:!1,search:P.none()}))},onSetup:Ee(K),getApi:Ee({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[hi.config({}),Oi.withComp(m.map(F=>F.value),F=>Mi(F.element,M$),(F,G)=>{zD(t.items,G).each(Q=>{co(F.element,M$,Q.value),Mn(F,Af,{text:Q.text})})})]},"tox-listbox",s.shared)}}),O={dom:{tag:"div",classes:["tox-listboxfield"]},components:[w]};return Ts.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Yt([b.toArray(),[O]]),fieldBehaviours:kt([no.config({disabled:Ee(!t.enabled),onDisabled:M=>{Ts.getField(M).each(no.disable)},onEnabled:M=>{Ts.getField(M).each(no.enable)}})])})},WU=(t,s)=>({dom:{tag:"div",classes:t.classes},components:et(t.items,s.shared.interpreter)}),GU=(t,s)=>{const i=et(t.options,m=>({dom:{tag:"option",value:m.value,innerHtml:m.text}})),u=t.data.map(m=>Uu("initialValue",m)).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:i,behaviours:kr(t.selectBehaviours,[jn.config({}),fn.config({store:{mode:"manual",getValue:m=>Kl(m.element),setValue:(m,b)=>{kn(t.options,O=>O.value===b).isSome()&&Zu(m.element,b)},...u}})])}},k$=qi({name:"HtmlSelect",configFields:[xt("options"),ja("selectBehaviours",[jn,fn]),We("selectClasses",[]),We("selectAttributes",{}),Yo("data")],factory:GU}),qU=(t,s,i)=>{const u=et(t.items,M=>({text:s.translate(M.text),value:M.value})),m=t.label.map(M=>cv(M,s)),b=Ts.parts.field({dom:{},...i.map(M=>({data:M})).getOr({}),selectAttributes:{size:t.size},options:u,factory:k$,selectBehaviours:kt([no.config({disabled:()=>!t.enabled||s.isDisabled()}),hi.config({}),mo("selectbox-change",[Dt(jl(),(M,F)=>{Mn(M,Pd,{name:t.name})})])])}),w=t.size>1?P.none():P.some(oh("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},s.icons)),O={dom:{tag:"div",classes:["tox-selectfield"]},components:Yt([[b],w.toArray()])};return Ts.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Yt([m.toArray(),[O]]),fieldBehaviours:kt([no.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:M=>{Ts.getField(M).each(no.disable)},onEnabled:M=>{Ts.getField(M).each(no.enable)}}),Za()])})},P$=Ee([We("field1Name","field1"),We("field2Name","field2"),Qm("onLockedChange"),vu(["lockClass"]),We("locked",!1),yf.field("coupledFieldBehaviours",[Xo,fn])]),WD=(t,s,i)=>rr(t,s,i).bind(Xo.getCurrent),Hg=(t,s)=>La({factory:Ts,name:t,overrides:i=>({fieldBehaviours:kt([mo("coupled-input-behaviour",[Dt(Hc(),u=>{WD(u,i,s).each(m=>{rr(u,i,"lock").each(b=>{So.isOn(b)&&i.onLockedChange(u,m,b)})})})])])})}),GD=Ee([Hg("field1","field2"),Hg("field2","field1"),La({factory:qc,schema:[xt("dom")],name:"lock",overrides:t=>({buttonBehaviours:kt([So.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])})})]),L$=(t,s,i,u)=>({uid:t.uid,dom:t.dom,components:s,behaviours:yf.augment(t.coupledFieldBehaviours,[Xo.config({find:P.some}),fn.config({store:{mode:"manual",getValue:m=>{const b=QT(m,t,["field1","field2"]);return{[t.field1Name]:fn.getValue(b.field1()),[t.field2Name]:fn.getValue(b.field2())}},setValue:(m,b)=>{const w=QT(m,t,["field1","field2"]);ca(b,t.field1Name)&&fn.setValue(w.field1(),b[t.field1Name]),ca(b,t.field2Name)&&fn.setValue(w.field2(),b[t.field2Name])}}})]),apis:{getField1:m=>rr(m,t,"field1"),getField2:m=>rr(m,t,"field2"),getLock:m=>rr(m,t,"lock")}}),Ld=Si({name:"FormCoupledInputs",configFields:P$(),partFields:GD(),factory:L$,apis:{getField1:(t,s)=>t.getField1(s),getField2:(t,s)=>t.getField2(s),getLock:(t,s)=>t.getLock(s)}}),qD=t=>{const s={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},i=m=>m in s?s[m]:1;let u=t.value.toFixed(i(t.unit));return u.indexOf(".")!==-1&&(u=u.replace(/\.?0*$/,"")),u+t.unit},f2=t=>{const i=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(t);if(i!==null){const u=parseFloat(i[1]),m=i[2];return ro.value({value:u,unit:m})}else return ro.error(t)},mS=(t,s)=>{const i={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},u=m=>Ho(i,m);return t.unit===s?P.some(t.value):u(t.unit)&&u(s)?i[t.unit]===i[s]?P.some(t.value):P.some(t.value/i[t.unit]*i[s]):P.none()},h2=t=>P.none(),$$=(t,s)=>i=>mS(i,s).map(u=>({value:u*t,unit:s})),jU=(t,s)=>{const i=f2(t).toOptional(),u=f2(s).toOptional();return id(i,u,(m,b)=>mS(m,b.unit).map(w=>b.value/w).map(w=>$$(w,b.unit)).getOr(h2)).getOr(h2)},ZU=(t,s)=>{let i=h2;const u=_n("ratio-event"),m=Q=>oh(Q,{tag:"span",classes:["tox-icon","tox-lock-icon__"+Q]},s.icons),b=Ld.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:s.translate(t.label.getOr("Constrain proportions"))}},components:[m("lock"),m("unlock")],buttonBehaviours:kt([no.config({disabled:()=>!t.enabled||s.isDisabled()}),Za(),hi.config({})])}),w=Q=>({dom:{tag:"div",classes:["tox-form__group"]},components:Q}),O=Q=>Ts.parts.field({factory:Ty,inputClasses:["tox-textfield"],inputBehaviours:kt([no.config({disabled:()=>!t.enabled||s.isDisabled()}),Za(),hi.config({}),mo("size-input-events",[Dt(Hf(),(te,ae)=>{Mn(te,u,{isField1:Q})}),Dt(jl(),(te,ae)=>{Mn(te,Pd,{name:t.name})})])]),selectOnFocus:!1}),M=Q=>({dom:{tag:"label",classes:["tox-label"]},components:[Cr(s.translate(Q))]}),F=Ld.parts.field1(w([Ts.parts.label(M("Width")),O(!0)])),G=Ld.parts.field2(w([Ts.parts.label(M("Height")),O(!1)]));return Ld.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[F,G,w([M(U0),b])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(Q,te,ae)=>{f2(fn.getValue(Q)).each(Te=>{i(Te).each(Me=>{fn.setValue(te,qD(Me))})})},coupledFieldBehaviours:kt([no.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:Q=>{Ld.getField1(Q).bind(Ts.getField).each(no.disable),Ld.getField2(Q).bind(Ts.getField).each(no.disable),Ld.getLock(Q).each(no.disable)},onEnabled:Q=>{Ld.getField1(Q).bind(Ts.getField).each(no.enable),Ld.getField2(Q).bind(Ts.getField).each(no.enable),Ld.getLock(Q).each(no.enable)}}),Za(),mo("size-input-events2",[Dt(u,(Q,te)=>{const ae=te.event.isField1,Te=ae?Ld.getField1(Q):Ld.getField2(Q),Me=ae?Ld.getField2(Q):Ld.getField1(Q),ot=Te.map(fn.getValue).getOr(""),Ue=Me.map(fn.getValue).getOr("");i=jU(ot,Ue)})])])})},YU=(t,s,i)=>{const u=ih.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Cr(s.translate(t.label))]}),m=ih.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),b=ih.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return ih.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:t.min,maxX:t.max,getInitialValue:Ee(i.getOrThunk(()=>(Math.abs(t.max)-Math.abs(t.min))/2))},components:[u,m,b],sliderBehaviours:kt([dm.self(),jn.config({})]),onChoose:(w,O,M)=>{Mn(w,Pd,{name:t.name,value:M})}})},KU=(t,s)=>{const i=O=>({dom:{tag:"th",innerHtml:s.translate(O)}}),u=O=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:et(O,i)}]}),m=O=>({dom:{tag:"td",innerHtml:s.translate(O)}}),b=O=>({dom:{tag:"tr"},components:et(O,m)}),w=O=>({dom:{tag:"tbody"},components:et(O,b)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[u(t.header),w(t.cells)],behaviours:kt([hi.config({}),jn.config({})])}},B$=(t,s)=>{const i=t.label.map(ae=>cv(ae,s)),u=[no.config({disabled:()=>t.disabled||s.isDisabled()}),Za(),Bn.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:ae=>(ss(ae,oS),P.some(!0))}),mo("textfield-change",[Dt(Hc(),(ae,Te)=>{Mn(ae,Pd,{name:t.name})}),Dt(Mv(),(ae,Te)=>{Mn(ae,Pd,{name:t.name})})]),hi.config({})],m=t.validation.map(ae=>kg.config({getRoot:Te=>Lc(Te.element),invalidClass:"tox-invalid",validator:{validate:Te=>{const Me=fn.getValue(Te),ot=ae.validator(Me);return cl.pure(ot===!0?ro.value(Me):ro.error(ot))},validateOnLoad:ae.validateOnLoad}})).toArray(),b=t.placeholder.fold(Ee({}),ae=>({placeholder:s.translate(ae)})),w=t.inputMode.fold(Ee({}),ae=>({inputmode:ae})),O={...b,...w},M=Ts.parts.field({tag:t.multiline===!0?"textarea":"input",...t.data.map(ae=>({data:ae})).getOr({}),inputAttributes:O,inputClasses:[t.classname],inputBehaviours:kt(Yt([u,m])),selectOnFocus:!1,factory:Ty}),F=t.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[M]}:M,Q=(t.flex?["tox-form__group--stretched"]:[]).concat(t.maximized?["tox-form-group--maximize"]:[]),te=[no.config({disabled:()=>t.disabled||s.isDisabled(),onDisabled:ae=>{Ts.getField(ae).each(no.disable)},onEnabled:ae=>{Ts.getField(ae).each(no.enable)}}),Za()];return tS(i,F,Q,te)},F$=(t,s,i)=>B$({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:!t.enabled,classname:"tox-textfield",validation:P.none(),maximized:t.maximized,data:i},s),H$=(t,s,i)=>B$({name:t.name,multiline:!0,label:t.label,inputMode:P.none(),placeholder:t.placeholder,flex:!0,disabled:!t.enabled,classname:"tox-textarea",validation:P.none(),maximized:t.maximized,data:i},s),pS=(t,s)=>s.getAnimationRoot.fold(()=>t.element,i=>i(t)),uv=t=>t.dimension.property,Vy=(t,s)=>t.dimension.getDimension(s),Uy=(t,s)=>{const i=pS(t,s);zc(i,[s.shrinkingClass,s.growingClass])},jD=(t,s)=>{Ls(t.element,s.openClass),xs(t.element,s.closedClass),J(t.element,uv(s),"0px"),Nt(t.element)},ZD=(t,s)=>{Ls(t.element,s.closedClass),xs(t.element,s.openClass),st(t.element,uv(s))},YD=(t,s,i,u)=>{i.setCollapsed(),J(t.element,uv(s),Vy(s,t.element)),Uy(t,s),jD(t,s),s.onStartShrink(t),s.onShrunk(t)},V$=(t,s,i,u)=>{const m=u.getOrThunk(()=>Vy(s,t.element));i.setCollapsed(),J(t.element,uv(s),m),Nt(t.element);const b=pS(t,s);Ls(b,s.growingClass),xs(b,s.shrinkingClass),jD(t,s),s.onStartShrink(t)},U$=(t,s,i)=>{const u=Vy(s,t.element);(u==="0px"?YD:V$)(t,s,i,P.some(u))},z$=(t,s,i)=>{const u=pS(t,s),m=oa(u,s.shrinkingClass),b=Vy(s,t.element);ZD(t,s);const w=Vy(s,t.element);(m?()=>{J(t.element,uv(s),b),Nt(t.element)}:()=>{jD(t,s)})(),Ls(u,s.shrinkingClass),xs(u,s.growingClass),ZD(t,s),J(t.element,uv(s),w),i.setExpanded(),s.onStartGrow(t)},KD=(t,s,i)=>{if(i.isExpanded()){st(t.element,uv(s));const u=Vy(s,t.element);J(t.element,uv(s),u)}},XU=(t,s,i)=>{i.isExpanded()||z$(t,s,i)},W$=(t,s,i)=>{i.isExpanded()&&U$(t,s,i)},QU=(t,s,i)=>{i.isExpanded()&&YD(t,s,i)},JU=(t,s,i)=>i.isExpanded(),G$=(t,s,i)=>i.isCollapsed(),XD=(t,s,i)=>{const u=pS(t,s);return oa(u,s.growingClass)===!0},q$=(t,s,i)=>{const u=pS(t,s);return oa(u,s.shrinkingClass)===!0};var j$=Object.freeze({__proto__:null,refresh:KD,grow:XU,shrink:W$,immediateShrink:QU,hasGrown:JU,hasShrunk:G$,isGrowing:XD,isShrinking:q$,isTransitioning:(t,s,i)=>XD(t,s)||q$(t,s),toggleGrow:(t,s,i)=>{(i.isExpanded()?U$:z$)(t,s,i)},disableTransitions:Uy,immediateGrow:(t,s,i)=>{i.isExpanded()||(ZD(t,s),J(t.element,uv(s),Vy(s,t.element)),Uy(t,s),i.setExpanded(),s.onStartGrow(t),s.onGrown(t))}}),tz=Object.freeze({__proto__:null,exhibit:(t,s,i)=>{const u=s.expanded;return ju(u?{classes:[s.openClass],styles:{}}:{classes:[s.closedClass],styles:Uu(s.dimension.property,"0px")})},events:(t,s)=>js([qa(Lh(),(i,u)=>{u.event.raw.propertyName===t.dimension.property&&(Uy(i,t),s.isExpanded()&&st(i.element,t.dimension.property),(s.isExpanded()?t.onGrown:t.onShrunk)(i))})])}),nz=[xt("closedClass"),xt("openClass"),xt("shrinkingClass"),xt("growingClass"),Yo("getAnimationRoot"),Ke("onShrunk"),Ke("onStartShrink"),Ke("onGrown"),Ke("onStartGrow"),We("expanded",!1),El("dimension",or("property",{width:[er("property","width"),er("getDimension",t=>ur(t)+"px")],height:[er("property","height"),er("getDimension",t=>Tn(t)+"px")]}))],oz=Object.freeze({__proto__:null,init:t=>{const s=Wn(t.expanded),i=()=>"expanded: "+s.get();return Ac({isExpanded:()=>s.get()===!0,isCollapsed:()=>s.get()===!1,setCollapsed:yt(s.set,!1),setExpanded:yt(s.set,!0),readState:i})}});const $d=ya({fields:nz,name:"sliding",active:tz,apis:j$,state:oz}),Z$=t=>({isEnabled:()=>!no.isDisabled(t),setEnabled:s=>no.set(t,!s),setActive:s=>{const i=t.element;s?(xs(i,"tox-tbtn--enabled"),co(i,"aria-pressed",!0)):(Ls(i,"tox-tbtn--enabled"),T(i,"aria-pressed"))},isActive:()=>oa(t.element,"tox-tbtn--enabled"),setText:s=>{Mn(t,Af,{text:s})},setIcon:s=>Mn(t,By,{icon:s})}),gS=(t,s,i,u,m=!0)=>VD({text:t.text,icon:t.icon,tooltip:t.tooltip,searchable:t.search.isSome(),role:u,fetch:(b,w)=>{const O={pattern:t.search.isSome()?V8(b):""};t.fetch(M=>{w(Fy(M,wp.CLOSE_ON_EXECUTE,i,{isHorizontalMenu:!1,search:t.search}))},O,Z$(b))},onSetup:t.onSetup,getApi:Z$,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...m?[hi.config({})]:[]]},s,i.shared),sz=(t,s,i)=>{const u=b=>w=>{const O=!w.isActive();w.setActive(O),b.storage.set(O),i.shared.getSink().each(M=>{s().getOpt(M).each(F=>{il(F.element),Mn(F,Mg,{name:b.name,value:b.storage.get()})})})},m=b=>w=>{w.setActive(b.storage.get())};return b=>{b(et(t,w=>{const O=w.text.fold(()=>({}),M=>({text:M}));return{type:w.type,active:!1,...O,onAction:u(w),onSetup:m(w)}}))}},Y$=t=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{title:t,"aria-label":t}},components:[Cr(t)]}),m2=_n("leaf-label-event-id"),QD=({leaf:t,onLeafAction:s,visible:i,treeId:u,backstage:m})=>{const b=t.menu.map(O=>gS(O,"tox-mbtn",m,P.none(),i)),w=[Y$(t.title)];return b.each(O=>w.push(O)),qc.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(i?["tox-tree--leaf__label--visible"]:[])},components:w,role:"treeitem",action:O=>{s(t.id),O.getSystem().broadcastOn([`update-active-item-${u}`],{value:t.id})},eventOrder:{[na()]:[m2,"keying"]},buttonBehaviours:kt([...i?[hi.config({})]:[],So.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),bu.config({channels:{[`update-active-item-${u}`]:{onReceive:(O,M)=>{(M.value===t.id?So.on:So.off)(O)}}}}),mo(m2,[Dt(na(),(O,M)=>{const F=M.event.raw.code==="ArrowLeft",G=M.event.raw.code==="ArrowRight";F?(Al(O.element,".tox-tree--directory").each(Q=>{O.getSystem().getByDom(Q).each(te=>{Xf(Q,".tox-tree--directory__label").each(ae=>{te.getSystem().getByDom(ae).each(jn.focus)})})}),M.stop()):G&&M.stop()})])])})},rz=(t,s,i)=>oh(t,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:i},s),iz=(t,s)=>rz(t,s,[]),cw=_n("directory-label-event-id"),JD=({directory:t,visible:s,noChildren:i,backstage:u})=>{const m=t.menu.map(O=>gS(O,"tox-mbtn",u,P.none())),b=[{dom:{tag:"div",classes:["tox-chevron"]},components:[iz("chevron-right",u.shared.providers.icons)]},Y$(t.title)];m.each(O=>{b.push(O)});const w=O=>{Al(O.element,".tox-tree--directory").each(M=>{O.getSystem().getByDom(M).each(F=>So.toggle(F))})};return qc.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(s?["tox-tree--directory__label--visible"]:[])},components:b,action:w,eventOrder:{[na()]:[cw,"keying"]},buttonBehaviours:kt([...s?[hi.config({})]:[],mo(cw,[Dt(na(),(O,M)=>{const F=M.event.raw.code==="ArrowRight",G=M.event.raw.code==="ArrowLeft";F&&i&&M.stop(),(F||G)&&Al(O.element,".tox-tree--directory").each(Q=>{O.getSystem().getByDom(Q).each(te=>{!So.isOn(te)&&F||So.isOn(te)&&G?(w(O),M.stop()):G&&!So.isOn(te)&&(Al(te.element,".tox-tree--directory").each(ae=>{Xf(ae,".tox-tree--directory__label").each(Te=>{te.getSystem().getByDom(Te).each(jn.focus)})}),M.stop())})})})])])})},az=({children:t,onLeafAction:s,visible:i,treeId:u,backstage:m})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:t.map(b=>b.type==="leaf"?QD({leaf:b,onLeafAction:s,visible:i,treeId:u,backstage:m}):eN({directory:b,onLeafAction:s,labelTabstopping:i,treeId:u,backstage:m})),behaviours:kt([$d.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking"}),lo.config({})])}),eN=({directory:t,onLeafAction:s,labelTabstopping:i,treeId:u,backstage:m})=>{const{children:b}=t,w=O=>b.map(M=>M.type==="leaf"?QD({leaf:M,onLeafAction:s,visible:O,treeId:u,backstage:m}):eN({directory:M,onLeafAction:s,labelTabstopping:O,treeId:u,backstage:m}));return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[JD({directory:t,visible:i,noChildren:t.children.length===0,backstage:m}),az({children:b,onLeafAction:s,visible:!1,treeId:u,backstage:m})],behaviours:kt([So.config({...t.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(O,M)=>{const F=O.components()[1],G=w(M);M?$d.grow(F):$d.shrink(F),lo.set(F,G)}})])}},tN=(t,s)=>{const i=t.onLeafAction.getOr(K),u=_n("tree-id"),m=t.items.map(b=>b.type==="leaf"?QD({leaf:b,onLeafAction:i,visible:!0,treeId:u,backstage:s}):eN({directory:b,onLeafAction:i,labelTabstopping:!0,treeId:u,backstage:s}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:m,behaviours:kt([Bn.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1})])}};var nN=Object.freeze({__proto__:null,events:(t,s)=>{const u=t.stream.streams.setup(t,s);return js([Dt(t.event,u),xc(()=>s.cancel())].concat(t.cancelEvent.map(m=>[Dt(m,()=>s.cancel())]).getOr([])))}});const K$=(t,s)=>{let i=null;return{cancel:()=>{ne(i)||(clearTimeout(i),i=null)},throttle:(...b)=>{ne(i)&&(i=setTimeout(()=>{i=null,t.apply(null,b)},s))}}},oN=(t,s)=>{let i=null;const u=()=>{ne(i)||(clearTimeout(i),i=null)};return{cancel:u,throttle:(...b)=>{u(),i=setTimeout(()=>{i=null,t.apply(null,b)},s)}}},X$=t=>{const s=Wn(null);return Ac({readState:()=>({timer:s.get()!==null?"set":"unset"}),setTimer:b=>{s.set(b)},cancel:()=>{const b=s.get();b!==null&&b.cancel()}})};var Q$=Object.freeze({__proto__:null,throttle:X$,init:t=>t.stream.streams.state(t)});const lz=(t,s)=>{const i=t.stream,u=oN(t.onStream,i.delay);return s.setTimer(u),(m,b)=>{u.throttle(m,b),i.stopEvent&&b.stop()}};var J$=[El("stream",or("mode",{throttle:[xt("delay"),We("stopEvent",!0),er("streams",{setup:lz,state:X$})]})),We("event","input"),Yo("cancelEvent"),Qm("onStream")];const p2=ya({fields:J$,name:"streaming",active:nN,state:Q$}),g2=(t,s,i)=>{const u=fn.getValue(i);fn.setValue(s,u),rN(s)},sN=(t,s)=>{const i=t.element,u=Kl(i),m=i.dom;Mi(i,"type")!=="number"&&s(m,u)},rN=t=>{sN(t,(s,i)=>s.setSelectionRange(i.length,i.length))},e3=(t,s)=>{sN(t,(i,u)=>i.setSelectionRange(s,u.length))},uz=(t,s,i)=>{if(t.selectsOver){const u=fn.getValue(s),m=t.getDisplayText(u),b=fn.getValue(i);return t.getDisplayText(b).indexOf(m)===0?P.some(()=>{g2(t,s,i),e3(s,m.length)}):P.none()}else return P.none()},iN=Ee("alloy.typeahead.itemexecute"),dz=(t,s,i,u)=>{const m=(Q,te,ae)=>{t.previewing.set(!1);const Te=xi.getCoupled(Q,"sandbox");if(Uo.isOpen(Te))Xo.getCurrent(Te).each(Me=>{ms.getHighlighted(Me).fold(()=>{ae(Me)},()=>{i0(Te,Me.element,"keydown",te)})});else{const Me=ot=>{Xo.getCurrent(ot).each(ae)};VA(t,w(Q),Q,Te,u,Me,Su.HighlightMenuAndItem).get(K)}},b=YP(t),w=Q=>te=>te.map(ae=>{const Te=yh(ae.menus),Me=mt(Te,Ue=>uo(Ue.items,nt=>nt.type==="item"));return fn.getState(Q).update(et(Me,Ue=>Ue.data)),ae}),O=Q=>Xo.getCurrent(Q),M="typeaheadevents",F=[jn.config({}),fn.config({onSetValue:t.onSetValue,store:{mode:"dataset",getDataKey:Q=>Kl(Q.element),getFallbackEntry:Q=>({value:Q,meta:{}}),setValue:(Q,te)=>{Zu(Q.element,t.model.getDisplayText(te))},...t.initialData.map(Q=>Uu("initialValue",Q)).getOr({})}}),p2.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:(Q,te)=>{const ae=xi.getCoupled(Q,"sandbox");if(jn.isFocused(Q)&&Kl(Q.element).length>=t.minChars){const Me=O(ae).bind(Ue=>ms.getHighlighted(Ue).map(fn.getValue));t.previewing.set(!0);const ot=Ue=>{O(ae).each(nt=>{Me.fold(()=>{t.model.selectsOver&&ms.highlightFirst(nt)},dt=>{ms.highlightBy(nt,gt=>fn.getValue(gt).value===dt.value),ms.getHighlighted(nt).orThunk(()=>(ms.highlightFirst(nt),P.none()))})})};VA(t,w(Q),Q,ae,u,ot,Su.HighlightJustMenu).get(K)}},cancelEvent:f1()}),Bn.config({mode:"special",onDown:(Q,te)=>(m(Q,te,ms.highlightFirst),P.some(!0)),onEscape:Q=>{const te=xi.getCoupled(Q,"sandbox");return Uo.isOpen(te)?(Uo.close(te),P.some(!0)):P.none()},onUp:(Q,te)=>(m(Q,te,ms.highlightLast),P.some(!0)),onEnter:Q=>{const te=xi.getCoupled(Q,"sandbox"),ae=Uo.isOpen(te);if(ae&&!t.previewing.get())return O(te).bind(Te=>ms.getHighlighted(Te)).map(Te=>(Mn(Q,iN(),{item:Te}),!0));{const Te=fn.getValue(Q);return ss(Q,f1()),t.onExecute(te,Q,Te),ae&&Uo.close(te),P.some(!0)}}}),So.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),xi.config({others:{sandbox:Q=>QC(t,Q,{onOpen:()=>So.on(Q),onClose:()=>So.off(Q)})}}),mo(M,[Tr(Q=>{t.lazyTypeaheadComp.set(P.some(Q))}),xc(Q=>{t.lazyTypeaheadComp.set(P.none())}),Zl(Q=>{const te=K;rD(t,w(Q),Q,u,te,Su.HighlightMenuAndItem).get(K)}),Dt(iN(),(Q,te)=>{const ae=xi.getCoupled(Q,"sandbox");g2(t.model,Q,te.event.item),ss(Q,f1()),t.onItemExecute(Q,ae,te.event.item,fn.getValue(Q)),Uo.close(ae),rN(Q)})].concat(t.dismissOnBlur?[Dt(Nv(),Q=>{const te=xi.getCoupled(Q,"sandbox");Xl(te.element).isNone()&&Uo.close(te)})]:[]))],G={[Wu()]:[fn.name(),p2.name(),M],...t.eventOrder};return{uid:t.uid,dom:KP(Js(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...b,...kr(t.typeaheadBehaviours,F)},eventOrder:G}},t3=Ee([Yo("lazySink"),xt("fetch"),We("minChars",5),We("responseTime",1e3),Ke("onOpen"),We("getHotspot",P.some),We("getAnchorOverrides",Ee({})),We("layouts",P.none()),We("eventOrder",{}),Nh("model",{},[We("getDisplayText",t=>t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value),We("selectsOver",!0),We("populateFromBrowse",!0)]),Ke("onSetValue"),Sr("onExecute"),Ke("onItemExecute"),We("inputClasses",[]),We("inputAttributes",{}),We("inputStyles",{}),We("matchWidth",!0),We("useMinWidth",!1),We("dismissOnBlur",!0),vu(["openClass"]),Yo("initialData"),ja("typeaheadBehaviours",[jn,fn,p2,Bn,So,xi]),ys("lazyTypeaheadComp",()=>Wn(P.none)),ys("previewing",()=>Wn(!0))].concat(ZP()).concat(aD())),fz=Ee([_f({schema:[Sd()],name:"menu",overrides:t=>({fakeFocus:!0,onHighlightItem:(s,i,u)=>{t.previewing.get()?t.lazyTypeaheadComp.get().each(m=>{uz(t.model,m,u).fold(()=>{t.model.selectsOver?(ms.dehighlight(i,u),t.previewing.set(!0)):t.previewing.set(!1)},b=>{b(),t.previewing.set(!1)})}):t.lazyTypeaheadComp.get().each(m=>{t.model.populateFromBrowse&&g2(t.model,m,u)})},onExecute:(s,i)=>t.lazyTypeaheadComp.get().map(u=>(Mn(u,iN(),{item:i}),!0)),onHover:(s,i)=>{t.previewing.set(!1),t.lazyTypeaheadComp.get().each(u=>{t.model.populateFromBrowse&&g2(t.model,u,i)})}})})]),n3=Si({name:"Typeahead",configFields:t3(),partFields:fz(),factory:dz}),hm=t=>({...t,toCached:()=>hm(t.toCached()),bindFuture:M=>hm(t.bind(F=>F.fold(G=>cl.pure(ro.error(G)),G=>M(G)))),bindResult:M=>hm(t.map(F=>F.bind(M))),mapResult:M=>hm(t.map(F=>F.map(M))),mapError:M=>hm(t.map(F=>F.mapError(M))),foldResult:(M,F)=>t.map(G=>G.fold(M,F)),withTimeout:(M,F)=>hm(cl.nu(G=>{let Q=!1;const te=setTimeout(()=>{Q=!0,G(ro.error(F()))},M);t.get(ae=>{Q||(clearTimeout(te),G(ae))})}))}),o3=t=>hm(cl.nu(t)),v2=t=>hm(cl.pure(ro.value(t))),mz={nu:o3,wrap:hm,pure:v2,value:v2,error:t=>hm(cl.pure(ro.error(t))),fromResult:t=>hm(cl.pure(t)),fromFuture:t=>hm(t.map(ro.value)),fromPromise:t=>o3(s=>{t.then(i=>{s(ro.value(i))},i=>{s(ro.error(i))})})},vS=(t,s,i=[],u,m,b)=>{const w=s.fold(()=>({}),F=>({action:F})),O={buttonBehaviours:kt([im.button(()=>!t.enabled||b.isDisabled()),Za(),hi.config({}),mo("button press",[Lv("click"),Lv("mousedown")])].concat(i)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...w},M=Js(O,{dom:u});return Js(M,{components:m})},pz=(t,s,i,u=[])=>{const m=t.tooltip.map(M=>({"aria-label":i.translate(M),title:i.translate(M)})).getOr({}),b={tag:"button",classes:["tox-tbtn"],attributes:m},w=t.icon.map(M=>$y(M,i.icons)),O=YE([w]);return vS(t,s,u,b,O,i)},b2=t=>{switch(t){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},s3=(t,s,i,u=[],m=[])=>{const b=i.translate(t.text),w=t.icon.map(te=>$y(te,i.icons)),O=[w.getOrThunk(()=>Cr(b))],M=t.buttonType.getOr(!t.primary&&!t.borderless?"secondary":"primary"),Q={tag:"button",classes:[...b2(M),...w.isSome()?["tox-button--icon"]:[],...t.borderless?["tox-button--naked"]:[],...m],attributes:{title:b}};return vS(t,s,u,Q,O,i)},r3=(t,s,i,u=[],m=[])=>{const b=s3(t,P.some(s),i,u,m);return qc.sketch(b)},i3=(t,s)=>i=>{s==="custom"?Mn(i,Mg,{name:t,value:{}}):s==="submit"?ss(i,oS):s==="cancel"?ss(i,My):console.error("Unknown button type: ",s)},gz=(t,s)=>s==="menu",a3=(t,s)=>s==="custom"||s==="cancel"||s==="submit",vz=(t,s)=>s==="togglebutton",bz=(t,s)=>{var i,u,m;const b=P.from(t.icon).map(nt=>fm(nt,s.icons)).map(zo),w=nt=>{Mn(nt,Mg,{name:t.name,value:{setIcon:dt=>{b.map(gt=>gt.getOpt(nt).each(Qt=>{lo.set(Qt,[fm(dt,s.icons)])}))}}})},O={...t,name:(i=t.name)!==null&&i!==void 0?i:"",primary:t.buttonType==="primary",buttonType:P.from(t.buttonType),tooltip:P.from(t.tooltip),icon:P.from(t.name),enabled:(u=t.enabled)!==null&&u!==void 0?u:!1,borderless:!1},M=O.tooltip.map(nt=>({"aria-label":s.translate(nt),title:s.translate(nt)})).getOr({}),F=b2((m=t.buttonType)!==null&&m!==void 0?m:"secondary"),G=!!t.icon&&!!t.text,Q={tag:"button",classes:[...F.concat(["tox-button--icon"]),...t.active?["tox-button--enabled"]:[],...G?["tox-button--icon-and-text"]:[]],attributes:M},te=[],ae=s.translate(t.text),Te=Cr(ae),ot=[...YE([b.map(nt=>nt.asSpec())]),...G?[Te]:[]],Ue=vS(O,P.some(w),te,Q,ot,s);return qc.sketch(Ue)},bS=(t,s,i)=>{if(gz(t,s)){const u=()=>w,m=t,b={...t,type:"menubutton",search:P.none(),onSetup:O=>(O.setEnabled(t.enabled),K),fetch:sz(m.items,u,i)},w=zo(gS(b,"tox-tbtn",i,P.none()));return w.asSpec()}else if(a3(t,s)){const u=i3(t.name,s),m={...t,borderless:!1};return r3(m,u,i.shared.providers,[])}else if(vz(t,s)){const u={...t,tooltip:t.tooltip,text:t.text.getOrUndefined(),buttonType:t.buttonType.getOrUndefined()};return bz(u,i.shared.providers)}else throw console.error("Unknown footer button type: ",s),new Error("Unknown footer button type")},yz=(t,s)=>{const i=i3(t.name,"custom");return N4(P.none(),Ts.parts.field({factory:qc,...s3(t,P.some(i),s,[Oi.memory(""),dm.self()])}))},_z={type:"separator"},Ez=t=>({type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:K}),y2=(t,s)=>({type:"menuitem",value:s,text:t,meta:{attach:void 0},onAction:K}),wz=t=>et(t,Ez),Tz=(t,s)=>uo(s,i=>i.type===t),aN=(t,s)=>wz(Tz(t,s)),c3=t=>aN("header",t.targets),l3=t=>aN("anchor",t.targets),_2=t=>P.from(t.anchorTop).map(s=>y2("<top>",s)).toArray(),Cz=t=>P.from(t.anchorBottom).map(s=>y2("<bottom>",s)).toArray(),Sz=t=>et(t,s=>y2(s,s)),xz=t=>gs(t,(s,i)=>s.length===0||i.length===0?s.concat(i):s.concat(_z,i),[]),cN=(t,s)=>{const i=t.toLowerCase();return uo(s,u=>{var m;const b=u.meta!==void 0&&u.meta.text!==void 0?u.meta.text:u.text,w=(m=u.value)!==null&&m!==void 0?m:"";return Ki(b.toLowerCase(),i)||Ki(w.toLowerCase(),i)})},u3=(t,s,i)=>{const u=fn.getValue(s),m=u.meta.text!==void 0?u.meta.text:u.value;return i.getLinkInformation().fold(()=>[],w=>{const O=cN(m,Sz(i.getHistory(t)));return t==="file"?xz([O,cN(m,c3(w)),cN(m,Yt([_2(w),l3(w),Cz(w)]))]):O})},lN=_n("aria-invalid"),Az=(t,s,i,u)=>{const m=s.shared.providers,b=nt=>{const dt=fn.getValue(nt);i.addToHistory(dt.value,t.filetype)},w={...u.map(nt=>({initialData:nt})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":lN,type:"url"},minChars:0,responseTime:0,fetch:nt=>{const dt=u3(t.filetype,nt,i),gt=Fy(dt,wp.BUBBLE_TO_SANDBOX,s,{isHorizontalMenu:!1,search:P.none()});return cl.pure(gt)},getHotspot:nt=>Te.getOpt(nt),onSetValue:(nt,dt)=>{nt.hasConfigured(kg)&&kg.run(nt).get(K)},typeaheadBehaviours:kt([...i.getValidationHandler().map(nt=>kg.config({getRoot:dt=>Lc(dt.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(dt,gt)=>{G.getOpt(dt).each(Qt=>{co(Qt.element,"title",m.translate(gt))})}},validator:{validate:dt=>{const gt=fn.getValue(dt);return mz.nu(Qt=>{nt({type:t.filetype,url:gt.value},Pt=>{if(Pt.status==="invalid"){const ln=ro.error(Pt.message);Qt(ln)}else{const ln=ro.value(Pt.message);Qt(ln)}})})},validateOnLoad:!1}})).toArray(),no.config({disabled:()=>!t.enabled||m.isDisabled()}),hi.config({}),mo("urlinput-events",[Dt(Hc(),nt=>{const dt=Kl(nt.element),gt=dt.trim();gt!==dt&&Zu(nt.element,gt),t.filetype==="file"&&Mn(nt,Pd,{name:t.name})}),Dt(jl(),nt=>{Mn(nt,Pd,{name:t.name}),b(nt)}),Dt(Mv(),nt=>{Mn(nt,Pd,{name:t.name}),b(nt)})])]),eventOrder:{[Hc()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:nt=>nt.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:s.shared.getSink,parts:{menu:pA(!1,1,"normal")},onExecute:(nt,dt,gt)=>{Mn(dt,oS,{})},onItemExecute:(nt,dt,gt,Qt)=>{b(nt),Mn(nt,Pd,{name:t.name})}},O=Ts.parts.field({...w,factory:n3}),M=t.label.map(nt=>cv(nt,m)),G=zo(((nt,dt,gt=nt,Qt=nt)=>oh(gt,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+nt],attributes:{title:m.translate(Qt),"aria-live":"polite",...dt.fold(()=>({}),Pt=>({id:Pt}))}},m.icons))("invalid",P.some(lN),"warning")),Q=zo({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[G.asSpec()]}),te=i.getUrlPicker(t.filetype),ae=_n("browser.url.event"),Te=zo({dom:{tag:"div",classes:["tox-control-wrap"]},components:[O,Q.asSpec()],behaviours:kt([no.config({disabled:()=>!t.enabled||m.isDisabled()})])}),Me=zo(r3({name:t.name,icon:P.some("browse"),text:t.label.getOr(""),enabled:t.enabled,primary:!1,buttonType:P.none(),borderless:!0},nt=>ss(nt,ae),m,[],["tox-browse-url"])),ot=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Yt([[Te.asSpec()],te.map(()=>Me.asSpec()).toArray()])}),Ue=nt=>{Xo.getCurrent(nt).each(dt=>{const gt=fn.getValue(dt),Qt={fieldname:t.name,...gt};te.each(Pt=>{Pt(Qt).get(ln=>{fn.setValue(dt,ln),Mn(nt,Pd,{name:t.name})})})})};return Ts.sketch({dom:M4(),components:M.toArray().concat([ot()]),fieldBehaviours:kt([no.config({disabled:()=>!t.enabled||m.isDisabled(),onDisabled:nt=>{Ts.getField(nt).each(no.disable),Me.getOpt(nt).each(no.disable)},onEnabled:nt=>{Ts.getField(nt).each(no.enable),Me.getOpt(nt).each(no.enable)}}),Za(),mo("url-input-events",[Dt(ae,Ue)])])})},Oz=(t,s)=>am.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${t.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[qc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:hP(t.icon,s.icons),attributes:{title:s.translate(t.iconTooltip)}},action:i=>{Mn(i,Mg,{name:"alert-banner",value:t.url})},buttonBehaviours:kt([TC()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:s.translate(t.text)}}]}),d3=(t,s)=>{t.dom.checked=s},Rz=t=>t.dom.checked,Iz=(t,s,i)=>{const u=M=>(M.element.dom.click(),P.some(!0)),m=Ts.parts.field({factory:{sketch:qe},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:kt([dm.self(),no.config({disabled:()=>!t.enabled||s.isDisabled()}),hi.config({}),jn.config({}),Oi.withElement(i,Rz,d3),Bn.config({mode:"special",onEnter:u,onSpace:u,stopSpaceKeyup:!0}),mo("checkbox-events",[Dt(jl(),(M,F)=>{Mn(M,Pd,{name:t.name})})])])}),b=Ts.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Cr(s.translate(t.label))],behaviours:kt([sS.config({})])}),w=M=>oh(M==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+M]},s.icons),O=zo({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[w("checked"),w("unchecked")]});return Ts.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[m,O.asSpec(),b],fieldBehaviours:kt([no.config({disabled:()=>!t.enabled||s.isDisabled(),disableClass:"tox-checkbox--disabled",onDisabled:M=>{Ts.getField(M).each(no.disable)},onEnabled:M=>{Ts.getField(M).each(no.enable)}}),Za()])})},Co=t=>t.presets==="presentation"?am.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):am.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:kt([hi.config({}),jn.config({})])}),ji=t=>(s,i,u,m)=>an(i,"name").fold(()=>t(i,m,P.none()),b=>s.field(b,t(i,m,an(u,b)))),f3=t=>(s,i,u,m)=>{const b=Js(i,{source:"dynamic"});return ji(t)(s,b,u,m)},h3={bar:ji((t,s)=>a7(t,s.shared)),collection:ji((t,s,i)=>h7(t,s.shared.providers,i)),alertbanner:ji((t,s)=>Oz(t,s.shared.providers)),input:ji((t,s,i)=>F$(t,s.shared.providers,i)),textarea:ji((t,s,i)=>H$(t,s.shared.providers,i)),label:ji((t,s)=>d2(t,s.shared)),iframe:f3((t,s,i)=>kU(t,s.shared.providers,i)),button:ji((t,s)=>yz(t,s.shared.providers)),checkbox:ji((t,s,i)=>Iz(t,s.shared.providers,i)),colorinput:ji((t,s,i)=>E7(t,s.shared,s.colorinput,i)),colorpicker:ji((t,s,i)=>RU(t,s.shared.providers,i)),dropzone:ji((t,s,i)=>Bg(t,s.shared.providers,i)),grid:ji((t,s)=>BD(t,s.shared)),listbox:ji((t,s,i)=>zU(t,s,i)),selectbox:ji((t,s,i)=>qU(t,s.shared.providers,i)),sizeinput:ji((t,s)=>ZU(t,s.shared.providers)),slider:ji((t,s,i)=>YU(t,s.shared.providers,i)),urlinput:ji((t,s,i)=>Az(t,s,s.urlinput,i)),customeditor:ji(DU),htmlpanel:ji(Co),imagepreview:ji((t,s,i)=>Fg(t,i)),table:ji((t,s)=>KU(t,s.shared.providers)),tree:ji((t,s)=>tN(t,s)),panel:ji((t,s)=>WU(t,s))},m3={field:(t,s)=>s,record:Ee([])},uN=(t,s,i,u)=>{const m=Js(u,{shared:{interpreter:b=>E2(t,b,i,m)}});return E2(t,s,i,m)},E2=(t,s,i,u)=>an(h3,s.type).fold(()=>(console.error(`Unknown factory type "${s.type}", defaulting to container: `,s),s),m=>m(t,s,i,u)),Dz=(t,s,i)=>E2(m3,t,s,i),mm="layout-inset",dN=t=>t.x,fN=(t,s)=>t.x+t.width/2-s.width/2,hN=(t,s)=>t.x+t.width-s.width,mN=t=>t.y,pN=(t,s)=>t.y+t.height-s.height,gN=(t,s)=>t.y+t.height/2-s.height/2,lw=(t,s,i)=>sa(hN(t,s),pN(t,s),i.insetSouthwest(),x1(),"southwest",va(t,{right:0,bottom:3}),mm),yS=(t,s,i)=>sa(dN(t),pN(t,s),i.insetSoutheast(),Yv(),"southeast",va(t,{left:1,bottom:3}),mm),_S=(t,s,i)=>sa(hN(t,s),mN(t),i.insetNorthwest(),qh(),"northwest",va(t,{right:0,top:2}),mm),ES=(t,s,i)=>sa(dN(t),mN(t),i.insetNortheast(),Jm(),"northeast",va(t,{left:1,top:2}),mm),Vg=(t,s,i)=>sa(fN(t,s),mN(t),i.insetNorth(),Oc(),"north",va(t,{top:2}),mm),wS=(t,s,i)=>sa(fN(t,s),pN(t,s),i.insetSouth(),A1(),"south",va(t,{bottom:3}),mm),p3=(t,s,i)=>sa(hN(t,s),gN(t,s),i.insetEast(),O1(),"east",va(t,{right:0}),mm),vN=(t,s,i)=>sa(dN(t),gN(t,s),i.insetWest(),C0(),"west",va(t,{left:1}),mm),Nz=t=>{switch(t){case"north":return Vg;case"northeast":return ES;case"northwest":return _S;case"south":return wS;case"southeast":return yS;case"southwest":return lw;case"east":return p3;case"west":return vN}},g3=(t,s,i,u,m)=>gg(u).map(Nz).getOr(Vg)(t,s,i,u,m),Mz=t=>{switch(t){case"north":return wS;case"northeast":return yS;case"northwest":return lw;case"south":return Vg;case"southeast":return ES;case"southwest":return _S;case"east":return vN;case"west":return p3}},kz=(t,s,i,u,m)=>gg(u).map(Mz).getOr(Vg)(t,s,i,u,m),v3={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},Pz=(t,s,i)=>{const m={maxHeightFunction:Zh()},b=()=>({type:"node",root:Ni(Aa(t())),node:P.from(t()),bubble:Od(12,12,v3),layouts:{onRtl:()=>[ES],onLtr:()=>[_S]},overrides:m}),w=()=>({type:"hotspot",hotspot:s(),bubble:Od(-12,12,v3),layouts:{onRtl:()=>[ba,Ui,ka],onLtr:()=>[Ui,ba,ka]},overrides:m});return()=>i()?b():w()},Lz=(t,s,i)=>{const u=()=>({type:"node",root:Ni(Aa(t())),node:P.from(t()),layouts:{onRtl:()=>[Vg],onLtr:()=>[Vg]}}),m=()=>({type:"hotspot",hotspot:s(),layouts:{onRtl:()=>[ka],onLtr:()=>[ka]}});return()=>i()?u():m()},$z=(t,s)=>()=>({type:"selection",root:s(),getSelection:()=>{const i=t.selection.getRng();return P.some(th.range(Qe.fromDom(i.startContainer),i.startOffset,Qe.fromDom(i.endContainer),i.endOffset))}}),Bz=t=>s=>({type:"node",root:t(),node:s}),Fz=(t,s,i)=>{const u=Ey(t),m=()=>Qe.fromDom(t.getBody()),b=()=>Qe.fromDom(t.getContentAreaContainer()),w=()=>u||!i();return{inlineDialog:Pz(b,s,w),banner:Lz(b,s,w),cursor:$z(t,m),node:Bz(m)}},Hz=t=>(s,i)=>{JI(t)(s,i)},b3=t=>()=>ZI(t),Vz=t=>s=>QE(t,s),Uz=t=>s=>HA(t,s),zz=t=>({colorPicker:Hz(t),hasCustomColors:b3(t),getColors:Vz(t),getColorCols:Uz(t)}),Wz=t=>()=>IP(t),Gz=t=>({isDraggableModal:Wz(t)}),qz=t=>{const s=Wn(dI(t)?"bottom":"top");return{isPositionedAtTop:()=>s.get()==="top",getDockingMode:s.get,setDockingMode:s.set}},bN=t=>ca(t,"items"),y3=t=>ca(t,"format"),yN=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],jz=t=>Ho(t,"items"),_3=t=>Ho(t,"block"),E3=t=>Ho(t,"inline"),w3=t=>Ho(t,"selector"),T3=t=>gs(t,(s,i)=>{if(jz(i)){const u=T3(i.items);return{customFormats:s.customFormats.concat(u.customFormats),formats:s.formats.concat([{title:i.title,items:u.formats}])}}else if(E3(i)||_3(i)||w3(i)){const m=`custom-${B(i.name)?i.name:i.title.toLowerCase()}`;return{customFormats:s.customFormats.concat([{name:m,format:i}]),formats:s.formats.concat([{title:i.title,format:m,icon:i.icon}])}}else return{...s,formats:s.formats.concat(i)}},{customFormats:[],formats:[]}),C3=(t,s)=>{const i=T3(s),u=m=>{It(m,b=>{t.formatter.has(b.name)||t.formatter.register(b.name,b.format)})};return t.formatter?u(i.customFormats):t.on("init",()=>{u(i.customFormats)}),i.formats},_N=t=>yP(t).map(s=>{const i=C3(t,s);return _P(t)?yN.concat(i):i}).getOr(yN),Zz=t=>{const s=Os(t);return s.length===1&&vo(s,"title")},EN=(t,s,i)=>({...t,type:"formatter",isSelected:s(t.format),getStylePreview:i(t.format)}),S3=(t,s,i,u)=>{const m=M=>EN(M,i,u),b=M=>{const F=O(M.items);return{...M,type:"submenu",getStyleItems:Ee(F)}},w=M=>{const F=B(M.name)?M.name:_n(M.title),G=`custom-${F}`,Q={...M,type:"formatter",format:G,isSelected:i(G),getStylePreview:u(G)};return t.formatter.register(F,Q),Q},O=M=>et(M,F=>bN(F)?b(F):y3(F)?m(F):Zz(F)?{...F,type:"separator"}:w(F));return O(s)},Yz=t=>{const s=O=>()=>t.formatter.match(O),i=O=>()=>{const M=t.formatter.get(O);return M!==void 0?P.some({tag:M.length>0&&(M[0].inline||M[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(O))}):P.none()},u=Wn([]),m=Wn([]),b=Wn(!1);return t.on("PreInit",O=>{const M=_N(t),F=S3(t,M,s,i);u.set(F)}),t.on("addStyleModifications",O=>{const M=S3(t,O.items,s,i);m.set(M),b.set(O.replace)}),{getData:()=>{const O=b.get()?[]:u.get(),M=m.get();return O.concat(M)}}},Op=t=>ue(t)&&t.nodeType===1,w2=Ly.trim,TS=t=>s=>!!(Op(s)&&(s.contentEditable===t||s.getAttribute("data-mce-contenteditable")===t)),Kz=TS("true"),wN=TS("false"),x3=(t,s,i,u,m)=>({type:t,title:s,url:i,level:u,attach:m}),TN=t=>{let s=t;for(;s=s.parentNode;){const i=s.contentEditable;if(i&&i!=="inherit")return Kz(s)}return!1},A3=(t,s)=>et(Gi(Qe.fromDom(s),t),i=>i.dom),T2=t=>t.innerText||t.textContent,Xz=t=>t.id?t.id:_n("h"),O3=t=>t&&t.nodeName==="A"&&(t.id||t.name)!==void 0,R3=t=>O3(t)&&I3(t),C2=t=>t&&/^(H[1-6])$/.test(t.nodeName),I3=t=>TN(t)&&!wN(t),Qz=t=>C2(t)&&I3(t),D3=t=>C2(t)?parseInt(t.nodeName.substr(1),10):0,Jz=t=>{var s;const i=Xz(t),u=()=>{t.id=i};return x3("header",(s=T2(t))!==null&&s!==void 0?s:"","#"+i,D3(t),u)},eW=t=>{const s=t.id||t.name,i=T2(t);return x3("anchor",i||"#"+s,"#"+s,0,K)},N3=t=>et(uo(t,Qz),Jz),M3=t=>et(uo(t,R3),eW),tW=t=>A3("h1,h2,h3,h4,h5,h6,a:not([href])",t),nW=t=>w2(t.title).length>0,oW={find:t=>{const s=tW(t);return uo(N3(s).concat(M3(s)),nW)}},CS="tinymce-url-history",pm=5,S2=t=>B(t)&&/^https?/.test(t),sW=t=>Y(t)&&t.length<=pm&&gi(t,S2),k3=t=>U(t)&&bi(t,s=>!sW(s)).isNone(),P3=()=>{const t=Dy.getItem(CS);if(t===null)return{};let s;try{s=JSON.parse(t)}catch(i){if(i instanceof SyntaxError)return console.log("Local storage "+CS+" was not valid JSON",i),{};throw i}return k3(s)?s:(console.log("Local storage "+CS+" was not valid format",s),{})},rW=t=>{if(!k3(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));Dy.setItem(CS,JSON.stringify(t))},iW=t=>{const s=P3();return an(s,t).getOr([])},L3=(t,s)=>{if(!S2(t))return;const i=P3(),u=an(i,s).getOr([]),m=uo(u,b=>b!==t);i[s]=[t].concat(m).slice(0,pm),rW(i)},CN=t=>!!t,yK=t=>Ms(Ly.makeMap(t,/[, ]/),CN),$3=t=>P.from(xP(t)),ll=t=>{const s=P.from(fA(t)).filter(CN).map(yK);return $3(t).fold(wt,i=>s.fold(Ot,u=>Os(u).length>0?u:!1))},SN=(t,s)=>{const i=ll(t);return ve(i)?i?$3(t):P.none():i[s]?$3(t):P.none()},aW=(t,s)=>SN(t,s).map(i=>u=>cl.nu(m=>{const b=(O,M)=>{if(!B(O))throw new Error("Expected value to be string");if(M!==void 0&&!U(M))throw new Error("Expected meta to be a object");m({value:O,meta:M})},w={filetype:s,fieldname:u.fieldname,...P.from(u.meta).getOr({})};i.call(t,b,u.value,w)})),SS=t=>P.from(t).filter(B).getOrUndefined(),cW=t=>OP(t)?P.some({targets:oW.find(t.getBody()),anchorTop:SS(RC(t)),anchorBottom:SS(RP(t))}):P.none(),lW=t=>P.from(AP(t)),uW=t=>({getHistory:iW,addToHistory:L3,getLinkInformation:()=>cW(t),getValidationHandler:()=>lW(t),getUrlPicker:s=>aW(t,s)}),dW=(t,s,i)=>{const u=Wn(!1),m=qz(s),b={icons:()=>s.ui.registry.getAll().icons,menuItems:()=>s.ui.registry.getAll().menuItems,translate:Tf.translate,isDisabled:()=>s.mode.isReadOnly()||!s.ui.isEnabled(),getOption:s.options.get},w=uW(s),O=Yz(s),M=zz(s),F=Gz(s),G=()=>u.get(),Q=Me=>u.set(Me),te={shared:{providers:b,anchors:Fz(s,i,m.isPositionedAtTop),header:m},urlinput:w,styles:O,colorinput:M,dialog:F,isContextMenuOpen:G,setContextMenuState:Q},ae={...te,shared:{...te.shared,interpreter:Me=>Dz(Me,{},ae),getSink:t.popup}},Te={...te,shared:{...te.shared,interpreter:Me=>Dz(Me,{},Te),getSink:t.dialog}};return{popup:ae,dialog:Te}},fW=(t,s,i)=>{const u=(Pt,ln)=>{It([s,...i],An=>{An.broadcastEvent(Pt,ln)})},m=(Pt,ln)=>{It([s,...i],An=>{An.broadcastOn([Pt],ln)})},b=Pt=>m(hp(),{target:Pt.target}),w=so(),O=Dc(w,"touchstart",b),M=Dc(w,"touchmove",Pt=>u(p_(),Pt)),F=Dc(w,"touchend",Pt=>u(sl(),Pt)),G=Dc(w,"mousedown",b),Q=Dc(w,"mouseup",Pt=>{Pt.raw.button===0&&m(RT(),{target:Pt.target})}),te=Pt=>m(hp(),{target:Qe.fromDom(Pt.target)}),ae=Pt=>{Pt.button===0&&m(RT(),{target:Qe.fromDom(Pt.target)})},Te=()=>{It(t.editorManager.get(),Pt=>{t!==Pt&&Pt.dispatch("DismissPopups",{relatedTarget:t})})},Me=Pt=>u(zu(),Z_(Pt)),ot=Pt=>{m(mb(),{}),u(Uf(),Z_(Pt))},Ue=Aa(Qe.fromDom(t.getElement())),nt=L1(Ue,"scroll",Pt=>{requestAnimationFrame(()=>{const ln=t.getContainer();if(ln!=null){const $o=Ai(t,s.element).map(Fn=>[Fn.element,...Fn.others]).getOr([]);Bo($o,Fn=>bs(Fn,Pt.target))&&(t.dispatch("ElementScroll",{target:Pt.target.dom}),u(r0(),Pt))}})}),dt=()=>m(mb(),{}),gt=Pt=>{Pt.state&&m(hp(),{target:Qe.fromDom(t.getContainer())})},Qt=Pt=>{m(hp(),{target:Qe.fromDom(Pt.relatedTarget.getContainer())})};t.on("PostRender",()=>{t.on("click",te),t.on("tap",te),t.on("mouseup",ae),t.on("mousedown",Te),t.on("ScrollWindow",Me),t.on("ResizeWindow",ot),t.on("ResizeEditor",dt),t.on("AfterProgressState",gt),t.on("DismissPopups",Qt)}),t.on("remove",()=>{t.off("click",te),t.off("tap",te),t.off("mouseup",ae),t.off("mousedown",Te),t.off("ScrollWindow",Me),t.off("ResizeWindow",ot),t.off("ResizeEditor",dt),t.off("AfterProgressState",gt),t.off("DismissPopups",Qt),G.unbind(),O.unbind(),M.unbind(),F.unbind(),Q.unbind(),nt.unbind()}),t.on("detach",()=>{It([s,...i],Ex),It([s,...i],Pt=>Pt.destroy())})},mc=tC,Ug=Px,hW=Ee([We("shell",!1),xt("makeItem"),We("setupItem",K),yf.field("listBehaviours",[lo])]),x2=Dd({name:"items",overrides:()=>({behaviours:kt([lo.config({})])})}),pW=Ee([x2]),B3=Ee("CustomList"),gW=(t,s,i,u)=>{const m=(O,M)=>{w(O).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},F=>{const G=lo.contents(F),Q=M.length,te=Q-G.length,ae=te>0?ao(te,()=>t.makeItem()):[],Te=G.slice(Q);It(Te,ot=>lo.remove(F,ot)),It(ae,ot=>lo.append(F,ot));const Me=lo.contents(F);It(Me,(ot,Ue)=>{t.setupItem(O,ot,M[Ue],Ue)})})},b=t.shell?{behaviours:[lo.config({})],components:[]}:{behaviours:[],components:s},w=O=>t.shell?P.some(O):rr(O,t,"items");return{uid:t.uid,dom:t.dom,components:b.components,behaviours:kr(t.listBehaviours,b.behaviours),apis:{setItems:m}}},xN=Si({name:B3(),configFields:hW(),partFields:pW(),factory:gW,apis:{setItems:(t,s,i)=>{t.setItems(s,i)}}}),uw=Ee([xt("dom"),We("shell",!0),ja("toolbarBehaviours",[lo])]),F3=Ee([Dd({name:"groups",overrides:()=>({behaviours:kt([lo.config({})])})})]),EK=(t,s,i,u)=>{const m=(O,M)=>{b(O).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},F=>{lo.set(F,M)})},b=O=>t.shell?P.some(O):rr(O,t,"groups"),w=t.shell?{behaviours:[lo.config({})],components:[]}:{behaviours:[],components:s};return{uid:t.uid,dom:t.dom,components:w.components,behaviours:kr(t.toolbarBehaviours,w.behaviours),apis:{setGroups:m},domModification:{attributes:{role:"group"}}}},zg=Si({name:"Toolbar",configFields:uw(),partFields:F3(),factory:EK,apis:{setGroups:(t,s,i)=>{t.setGroups(s,i)}}}),vW=K,bW=wt,H3=Ee([]);var V3=Object.freeze({__proto__:null,setup:vW,isDocked:bW,getBehaviours:H3});const xS=t=>(gc(rt(t,"position"),"fixed")?P.none():Th(t)).orThunk(()=>{const u=Qe.fromTag("span");return _c(t).bind(m=>{Le(m,u);const b=Th(u);return Ct(u),b})}),U3=t=>xS(t).map(Ao).getOrThunk(()=>Kn(0,0)),yW=(t,s)=>{const i=t.element;xs(i,s.transitionClass),Ls(i,s.fadeOutClass),xs(i,s.fadeInClass),s.onShow(t)},z3=(t,s)=>{const i=t.element;xs(i,s.transitionClass),Ls(i,s.fadeInClass),xs(i,s.fadeOutClass),s.onHide(t)},_W=(t,s)=>t.y<s.bottom&&t.bottom>s.y,W3=(t,s)=>t.y>=s.y,G3=(t,s)=>t.bottom<=s.bottom,AN=(t,s,i)=>({location:"top",leftX:s,topY:i.bounds.y-t.y}),AS=(t,s,i)=>({location:"bottom",leftX:s,bottomY:t.bottom-i.bounds.bottom}),A2=t=>t.box.x-t.win.x,EW=(t,s,i)=>{const u=s.win,m=s.box,b=A2(s);return nr(t,w=>{switch(w){case"bottom":return G3(m,i.bounds)?P.none():P.some(AS(u,b,i));case"top":return W3(m,i.bounds)?P.none():P.some(AN(u,b,i));default:return P.none()}}).getOr({location:"no-dock"})},wW=(t,s,i)=>gi(t,u=>{switch(u){case"bottom":return G3(s,i.bounds);case"top":return W3(s,i.bounds)}}),TW=(t,s)=>{const i=s.optScrollEnv.fold(Ee(t.bounds.y),u=>u.scrollElmTop+(t.bounds.y-u.currentScrollTop));return Kn(t.bounds.x,i)},CW=(t,s)=>{const i=s.optScrollEnv.fold(Ee(t.y),u=>t.y+u.currentScrollTop-u.scrollElmTop);return Kn(t.x,i)},O2=(t,s,i)=>i.getInitialPos().map(u=>{const m=TW(u,s);return{box:Ps(m.left,m.top,ur(t),Tn(t)),location:u.location}}),q3=(t,s,i,u,m)=>{const b=CW(s,i),w=Ps(b.left,b.top,s.width,s.height);u.setInitialPos({style:_t(t),position:we(t,"position")||"static",bounds:w,location:m.location})},R2=(t,s,i,u,m)=>{u.getInitialPos().fold(()=>q3(t,s,i,u,m),()=>K)},j3=(t,s,i)=>i.getInitialPos().bind(u=>{var m;switch(i.clearInitialPos(),u.position){case"static":return P.some({morph:"static"});case"absolute":const b=xS(t).getOr(Qi()),w=es(b),O=(m=b.dom.scrollTop)!==null&&m!==void 0?m:0;return P.some({morph:"absolute",positionCss:Ic("absolute",an(u.style,"left").map(M=>s.x-w.x),an(u.style,"top").map(M=>s.y-w.y+O),an(u.style,"right").map(M=>w.right-s.right),an(u.style,"bottom").map(M=>w.bottom-s.bottom))});default:return P.none()}}),I2=(t,s,i)=>O2(t,s,i).filter(({box:u})=>wW(i.getModes(),u,s)).bind(({box:u})=>j3(t,u,i)),ON=t=>{switch(t.location){case"top":return P.some({morph:"fixed",positionCss:Ic("fixed",P.some(t.leftX),P.some(t.topY),P.none(),P.none())});case"bottom":return P.some({morph:"fixed",positionCss:Ic("fixed",P.some(t.leftX),P.none(),P.none(),P.some(t.bottomY))});default:return P.none()}},RN=(t,s,i)=>{const u=es(t),m=Da(),b=EW(i.getModes(),{win:m,box:u},s);return b.location==="top"||b.location==="bottom"?(q3(t,u,s,i,b),ON(b)):P.none()},OS=(t,s,i)=>I2(t,s,i).orThunk(()=>s.optScrollEnv.bind(u=>O2(t,s,i)).bind(({box:u,location:m})=>{const b=Da(),w=A2({win:b,box:u}),O=m==="top"?AN(b,w,s):AS(b,w,s);return ON(O)})),Z3=(t,s,i)=>{const u=t.element;return gc(rt(u,"position"),"fixed")?OS(u,s,i):RN(u,s,i)},SW=(t,s,i)=>{const u=t.element;return O2(u,s,i).bind(({box:m})=>j3(u,m,i))},Y3=(t,s,i,u)=>{const m=es(t),b=Da(),w=A2({win:b,box:m}),O=u(b,w,s);return O.location==="bottom"||O.location==="top"?(R2(t,m,s,i,O),ON(O)):P.none()},IN=(t,s,i)=>{i.setDocked(!1),It(["left","right","top","bottom","position"],u=>st(t.element,u)),s.onUndocked(t)},D2=(t,s,i,u)=>{const m=u.position==="fixed";i.setDocked(m),tb(t.element,u),(m?s.onDocked:s.onUndocked)(t)},K3=(t,s,i,u,m=!1)=>{s.contextual.each(b=>{b.lazyContext(t).each(w=>{const O=_W(w,u.bounds);O!==i.isVisible()&&(i.setVisible(O),m&&!O?(gu(t.element,[b.fadeOutClass]),b.onHide(t)):(O?yW:z3)(t,b))})})},N2=(t,s,i,u,m)=>{K3(t,s,i,u,!0),D2(t,s,i,m.positionCss)},M2=(t,s,i,u,m)=>{switch(m.morph){case"static":return IN(t,s,i);case"absolute":return D2(t,s,i,m.positionCss);case"fixed":return N2(t,s,i,u,m)}},xW=(t,s,i)=>{const u=s.lazyViewport(t);K3(t,s,i,u),Z3(t,u,i).each(m=>{M2(t,s,i,u,m)})},AW=(t,s,i)=>{const u=t.element;i.setDocked(!1);const m=s.lazyViewport(t);SW(t,m,i).each(b=>{switch(b.morph){case"static":{IN(t,s,i);break}case"absolute":{D2(t,s,i,b.positionCss);break}}}),i.setVisible(!0),s.contextual.each(b=>{zc(u,[b.fadeInClass,b.fadeOutClass,b.transitionClass]),b.onShow(t)}),dv(t,s,i)},dv=(t,s,i)=>{t.getSystem().isConnected()&&xW(t,s,i)},DN=(t,s,i)=>{i.isDocked()&&AW(t,s,i)},X3=t=>(s,i,u)=>{const m=i.lazyViewport(s);Y3(s.element,m,u,t).each(w=>{N2(s,i,u,m,w)})},Q3=X3(AN),NN=X3(AS);var OW=Object.freeze({__proto__:null,refresh:dv,reset:DN,isDocked:(t,s,i)=>i.isDocked(),getModes:(t,s,i)=>i.getModes(),setModes:(t,s,i,u)=>i.setModes(u),forceDockToTop:Q3,forceDockToBottom:NN}),RW=Object.freeze({__proto__:null,events:(t,s)=>js([qa(Lh(),(i,u)=>{t.contextual.each(m=>{oa(i.element,m.transitionClass)&&(zc(i.element,[m.transitionClass,m.fadeInClass]),(s.isVisible()?m.onShown:m.onHidden)(i)),u.stop()})}),Dt(zu(),(i,u)=>{dv(i,t,s)}),Dt(r0(),(i,u)=>{dv(i,t,s)}),Dt(Uf(),(i,u)=>{DN(i,t,s)})])}),IW=[dn("contextual",[Wr("fadeInClass"),Wr("fadeOutClass"),Wr("transitionClass"),ic("lazyContext"),Ke("onShow"),Ke("onShown"),Ke("onHide"),Ke("onHidden")]),Ti("lazyViewport",()=>({bounds:Da(),optScrollEnv:P.none()})),l1("modes",["top","bottom"],Dr),Ke("onDocked"),Ke("onUndocked")],DW=Object.freeze({__proto__:null,init:t=>{const s=Wn(!1),i=Wn(!0),u=Zs(),m=Wn(t.modes),b=()=>`docked:  ${s.get()}, visible: ${i.get()}, modes: ${m.get().join(",")}`;return Ac({isDocked:s.get,setDocked:s.set,getInitialPos:u.get,setInitialPos:u.set,clearInitialPos:u.clear,isVisible:i.get,setVisible:i.set,getModes:m.get,setModes:m.set,readState:b})}});const $a=ya({fields:IW,name:"docking",active:RW,apis:OW,state:DW}),MN=Ee(_n("toolbar-height-change")),Wg={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},kN="tox-tinymce--toolbar-sticky-on",tB="tox-tinymce--toolbar-sticky-off",RS=(t,s)=>{const i=ri(s),m=Iu(s).dom.innerHeight,b=Xt(i),w=Qe.fromDom(t.elm),O=pl(w),M=Tn(w),F=O.y,G=F+M,Q=Ao(s),te=Tn(s),ae=Q.top,Te=ae+te,Me=Math.abs(ae-b.top)<2,ot=Math.abs(Te-(b.top+m))<2;if(Me&&F<Te)xn(b.left,F-te,i);else if(ot&&G>ae){const Ue=F-m+M+te;xn(b.left,Ue,i)}},PN=(t,s)=>vo($a.getModes(t),s),LN=t=>{const s=u=>lr(u)+(parseInt(we(u,"margin-top"),10)||0)+(parseInt(we(u,"margin-bottom"),10)||0),i=t.element;Lc(i).each(u=>{const m="padding-"+$a.getModes(t)[0];if($a.isDocked(t)){const b=ur(u);J(i,"width",b+"px"),J(u,m,s(i)+"px")}else st(i,"width"),st(u,m)})},k2=(t,s)=>{s?(Ls(t,Wg.fadeOutClass),gu(t,[Wg.transitionClass,Wg.fadeInClass])):(Ls(t,Wg.fadeInClass),gu(t,[Wg.fadeOutClass,Wg.transitionClass]))},$N=(t,s)=>{const i=Qe.fromDom(t.getContainer());s?(xs(i,kN),Ls(i,tB)):(xs(i,tB),Ls(i,kN))},NW=(t,s)=>{const i=ri(s);Ad(i).filter(u=>!bs(s,u)).filter(u=>bs(u,Qe.fromDom(i.dom.body))||ec(t,u)).each(()=>il(s))},MW=(t,s)=>Xl(t).orThunk(()=>s().toOptional().bind(i=>Xl(i.element))),kW=(t,s,i)=>{t.inline||(s.header.isPositionedAtTop()||t.on("ResizeEditor",()=>{i().each($a.reset)}),t.on("ResizeWindow ResizeEditor",()=>{i().each(LN)}),t.on("SkinLoaded",()=>{i().each(u=>{$a.isDocked(u)?$a.reset(u):$a.refresh(u)})}),t.on("FullscreenStateChanged",()=>{i().each($a.reset)})),t.on("AfterScrollIntoView",u=>{i().each(m=>{$a.refresh(m);const b=m.element;fi(b)&&RS(u,b)})}),t.on("PostRender",()=>{$N(t,!1)})},PW=t=>t().map($a.isDocked).getOr(!1),LW=()=>[bu.config({channels:{[MN()]:{onReceive:LN}}})],nB=(t,s)=>{const i=Zs(),u=s.getSink,m=O=>{u().each(M=>O(M.element))},b=O=>{t.inline||LN(O),$N(t,$a.isDocked(O)),O.getSystem().broadcastOn([mb()],{}),u().each(M=>M.getSystem().broadcastOn([mb()],{}))},w=t.inline?[]:LW();return[jn.config({}),$a.config({contextual:{lazyContext:O=>{const M=lr(O.element),F=t.inline?t.getContentAreaContainer():t.getContainer();return P.from(F).map(G=>{const Q=es(Qe.fromDom(G));return Ai(t,O.element).fold(()=>{const ae=Q.height-M,Te=Q.y+(PN(O,"top")?0:M);return Ps(Q.x,Te,Q.width,ae)},ae=>{const Te=xm(Q,WA(ae));return Ps(Te.x,Te.y,Te.width,Te.height-M)})})},onShow:()=>{m(O=>k2(O,!0))},onShown:O=>{m(M=>zc(M,[Wg.transitionClass,Wg.fadeInClass])),i.get().each(M=>{NW(O.element,M),i.clear()})},onHide:O=>{MW(O.element,u).fold(i.clear,i.set),m(M=>k2(M,!1))},onHidden:()=>{m(O=>zc(O,[Wg.transitionClass]))},...Wg},lazyViewport:O=>Ai(t,O.element).fold(()=>{const F=Da(),G=CP(t),Q=F.y+(PN(O,"top")?G:0),te=F.height-(PN(O,"bottom")?G:0);return{bounds:Ps(F.x,Q,F.width,te),optScrollEnv:P.none()}},F=>({bounds:WA(F),optScrollEnv:P.some({currentScrollTop:F.element.dom.scrollTop,scrollElmTop:Ao(F.element).top})})),modes:[s.header.getDockingMode()],onDocked:b,onUndocked:b}),...w]};var $W=Object.freeze({__proto__:null,setup:kW,isDocked:PW,getBehaviours:nB});const BW=t=>{const s=t.editor,i=t.sticky?nB:H3;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:kt(i(s,t.sharedBackstage))}},FW=Pn([ia,El("items",Dm([qp([SI,Bi("items",Dr)]),Dr]))].concat(qE)),oB=t=>ts("GroupToolbarButton",FW,t),BN=[de("text"),de("tooltip"),de("icon"),Gr("search",!1,Dm([vd,Pn([de("placeholder")])],t=>ve(t)?t?P.some({placeholder:P.none()}):P.none():P.some(t))),ic("fetch"),Ti("onSetup",()=>K)],P2=Pn([ia,...BN]),sB=t=>ts("menubutton",P2,t),HW=Pn([ia,wA,sm,iv,xV,xI,Cy,Hr("presets","normal",["normal","color","listpreview"]),RI(1),Ib,AI]),VW=t=>ts("SplitButton",HW,t);var zy=qi({factory:(t,s)=>{const i=(m,b)=>{const w=et(b,O=>{const M={type:"menubutton",text:O.text,fetch:G=>{G(O.getItems())}},F=sB(M).mapError(G=>Cc(G)).getOrDie();return gS(F,"tox-mbtn",s.backstage,P.some("menuitem"))});lo.set(m,w)},u={focus:Bn.focusIn,setMenus:i};return{uid:t.uid,dom:t.dom,components:[],behaviours:kt([lo.config({}),mo("menubar-events",[Tr(m=>{t.onSetup(m)}),Dt(nf(),(m,b)=>{Nr(m.element,".tox-mbtn--active").each(w=>{ff(b.event.target,".tox-mbtn").each(O=>{bs(w,O)||m.getSystem().getByDom(w).each(M=>{m.getSystem().getByDom(O).each(F=>{td.expand(F),td.close(M),jn.focus(F)})})})})}),Dt(h1(),(m,b)=>{b.event.prevFocus.bind(w=>m.getSystem().getByDom(w).toOptional()).each(w=>{b.event.newFocus.bind(O=>m.getSystem().getByDom(O).toOptional()).each(O=>{td.isOpen(w)&&(td.expand(O),td.close(w))})})})]),Bn.config({mode:"flow",selector:".tox-mbtn",onEscape:m=>(t.onEscape(m),P.some(!0))}),hi.config({})]),apis:u,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[xt("dom"),xt("uid"),xt("onEscape"),xt("backstage"),We("onSetup",K)],apis:{focus:(t,s)=>{t.focus(s)},setMenus:(t,s,i)=>{t.setMenus(s,i)}}});const L2="⚡️Upgrade",FN="https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_source=TinyMCE&utm_medium=SPAP&utm_campaign=SPAP&utm_id=editorreferral",UW=t=>({uid:t.uid,dom:t.dom,components:[{dom:{tag:"a",attributes:{href:FN,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:L2}}]}),rB="container",zW=[ja("slotBehaviours",[])],iB=t=>"<alloy.field."+t+">",aB=t=>{const s=(()=>{const b=[];return{slot:(O,M)=>(b.push(O),qT(rB,iB(O),M)),record:Ee(b)}})(),i=t(s),u=s.record(),m=et(u,b=>La({name:b,pname:iB(b)}));return nC(rB,zW,m,cB,i)},cB=(t,s)=>{const i=Me=>XT(t),u=(Me,ot)=>rr(Me,t,ot),m=(Me,ot)=>(Ue,nt)=>rr(Ue,t,nt).map(dt=>Me(dt,nt)).getOr(ot),b=Me=>(ot,Ue)=>{It(Ue,nt=>Me(ot,nt))},w=(Me,ot)=>Mi(Me.element,"aria-hidden")!=="true",O=(Me,ot)=>{if(!w(Me)){const Ue=Me.element;st(Ue,"display"),T(Ue,"aria-hidden"),Mn(Me,zf(),{name:ot,visible:!0})}},M=(Me,ot)=>{if(w(Me)){const Ue=Me.element;J(Ue,"display","none"),co(Ue,"aria-hidden","true"),Mn(Me,zf(),{name:ot,visible:!1})}},F=m(w,!1),G=m(M),Q=b(G),te=Me=>Q(Me,i()),ae=m(O),Te={getSlotNames:i,getSlot:u,isShowing:F,hideSlot:G,hideAllSlots:te,showSlot:ae};return{uid:t.uid,dom:t.dom,components:s,behaviours:wE(t.slotBehaviours),apis:Te}},Nl={...Ms({getSlotNames:(t,s)=>t.getSlotNames(s),getSlot:(t,s,i)=>t.getSlot(s,i),isShowing:(t,s,i)=>t.isShowing(s,i),hideSlot:(t,s,i)=>t.hideSlot(s,i),hideAllSlots:(t,s)=>t.hideAllSlots(s),showSlot:(t,s,i)=>t.showSlot(s,i)},t=>b1(t)),sketch:aB},$2=Pn([sm,wA,Ti("onShow",K),Ti("onHide",K),Cy]),B2=t=>ts("sidebar",$2,t),WW=t=>{const{sidebars:s}=t.ui.registry.getAll();It(Os(s),i=>{const u=s[i],m=()=>gc(P.from(t.queryCommandValue("ToggleSidebar")),i);t.ui.registry.addToggleButton(i,{icon:u.icon,tooltip:u.tooltip,onAction:b=>{t.execCommand("ToggleSidebar",!1,i),b.setActive(m())},onSetup:b=>{b.setActive(m());const w=()=>b.setActive(m());return t.on("ToggleSidebar",w),()=>{t.off("ToggleSidebar",w)}}})})},GW=t=>({element:()=>t.element.dom}),qW=(t,s)=>{const i=et(Os(s),u=>{const m=s[u],b=Po(B2(m));return{name:u,getApi:GW,onSetup:b.onSetup,onShow:b.onShow,onHide:b.onHide}});return et(i,u=>{const m=Wn(K);return t.slot(u.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:FC.unnamedEvents([Nb(u,m),Oy(u,m),Dt(zf(),(b,w)=>{const O=w.event;kn(i,F=>F.name===O.name).each(F=>{(O.visible?F.onShow:F.onHide)(F.getApi(b))})})])})})},jW=t=>Nl.sketch(s=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:qW(s,t),slotBehaviours:FC.unnamedEvents([Tr(i=>Nl.hideAllSlots(i))])})),HN=(t,s,i)=>{Xo.getCurrent(t).each(m=>{lo.set(m,[jW(s)]);const b=i==null?void 0:i.toLowerCase();B(b)&&Ho(s,b)&&Xo.getCurrent(m).each(w=>{Nl.showSlot(w,b),$d.immediateGrow(m),st(m.element,"width"),dw(t.element,"region")})})},dw=(t,s)=>{co(t,"role",s)},VN=(t,s)=>{Xo.getCurrent(t).each(u=>{Xo.getCurrent(u).each(b=>{$d.hasGrown(u)?Nl.isShowing(b,s)?($d.shrink(u),dw(t.element,"presentation")):(Nl.hideAllSlots(b),Nl.showSlot(b,s),dw(t.element,"region")):(Nl.hideAllSlots(b),Nl.showSlot(b,s),$d.grow(u),dw(t.element,"region"))})})},ZW=t=>Xo.getCurrent(t).bind(i=>$d.isGrowing(i)||$d.hasGrown(i)?Xo.getCurrent(i).bind(b=>kn(Nl.getSlotNames(b),w=>Nl.isShowing(b,w))):P.none()),IS=_n("FixSizeEvent"),UN=_n("AutoSizeEvent"),YW=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:kt([hi.config({}),jn.config({}),$d.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:s=>{Xo.getCurrent(s).each(Nl.hideAllSlots),ss(s,UN)},onGrown:s=>{ss(s,UN)},onStartGrow:s=>{Mn(s,IS,{width:rt(s.element,"width").getOr("")})},onStartShrink:s=>{Mn(s,IS,{width:ur(s.element)+"px"})}}),lo.config({}),Xo.config({find:s=>{const i=lo.contents(s);return Rr(i)}})])}],behaviours:kt([dm.childAt(0),mo("sidebar-sliding-events",[Dt(IS,(s,i)=>{J(s.element,"width",i.event.width)}),Dt(UN,(s,i)=>{st(s.element,"width")})])])});var KW=Object.freeze({__proto__:null,block:(t,s,i,u)=>{co(t.element,"aria-busy",!0);const m=s.getRoot(t).getOr(t),b=kt([Bn.config({mode:"special",onTab:()=>P.some(!0),onShiftTab:()=>P.some(!0)}),jn.config({})]),w=u(m,b),O=m.getSystem().build(w);lo.append(m,rl(O)),O.hasConfigured(Bn)&&s.focus&&Bn.focusIn(O),i.isBlocked()||s.onBlock(t),i.blockWith(()=>lo.remove(m,O))},unblock:(t,s,i)=>{T(t.element,"aria-busy"),i.isBlocked()&&s.onUnblock(t),i.clear()}}),XW=[Ti("getRoot",P.none),li("focus",!0),Ke("onBlock"),Ke("onUnblock")],RK=Object.freeze({__proto__:null,init:()=>{const t=rb(),s=i=>{t.set({destroy:i})};return Ac({readState:t.isSet,blockWith:s,clear:t.clear,isBlocked:t.isSet})}});const Bb=ya({fields:XW,name:"blocking",apis:KW,state:RK}),lB=t=>{const s=t.dom.attributes!==void 0?t.dom.attributes:[];return gs(s,(i,u)=>u.name==="class"?i:{...i,[u.name]:u.value},{})},QW=t=>Array.prototype.slice.call(t.dom.classList,0),fv=t=>{const s=Qe.fromHtml(t),i=tc(s),u=lB(s),m=QW(s),b=i.length===0?{}:{innerHtml:Oo(s)};return{tag:Ja(s),classes:m,attributes:u,...b}},JW=t=>(s,i)=>({dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:fv('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),uB=t=>Xo.getCurrent(t).each(s=>il(s.element)),e9=(t,s)=>{const i="tabindex",u=`data-mce-${i}`;P.from(t.iframeElement).map(Qe.fromDom).each(m=>{s?(Kr(m,i).each(b=>co(m,u,b)),co(m,i,-1)):(T(m,i),Kr(m,u).each(b=>{co(m,i,b),T(m,u)}))})},t9=(t,s,i,u)=>{const m=s.element;if(e9(t,i),i)Bb.block(s,JW(u)),st(m,"display"),T(m,"aria-hidden"),t.hasFocus()&&uB(s);else{const b=Xo.getCurrent(s).exists(w=>k1(w.element));Bb.unblock(s),J(m,"display","none"),co(m,"aria-hidden","true"),b&&t.focus()}},n9=t=>({uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:kt([lo.config({}),Bb.config({focus:!1}),Xo.config({find:s=>Rr(s.components())})]),components:[]}),dB=t=>t.type==="focusin",o9=t=>dB(t)?(t.composed?Rr(t.composedPath()):P.from(t.target)).map(Qe.fromDom).filter(Cs).exists(i=>oa(i,"mce-pastebin")):!1,s9=(t,s,i)=>{const u=Wn(!1),m=Zs(),b=O=>{u.get()&&!o9(O)&&(O.preventDefault(),uB(s()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",()=>{t.dom.bind(t.getWin(),"focusin",b),t.on("BeforeExecCommand",O=>{O.command.toLowerCase()==="mcefocus"&&O.value!==!0&&b(O)})});const w=O=>{O!==u.get()&&(u.set(O),t9(t,s(),O,i.providers),WL(t,O))};t.on("ProgressState",O=>{if(m.on(clearTimeout),re(O.time)){const M=Ep.setEditorTimeout(t,()=>w(O.state),O.time);m.set(M)}else w(O.state),m.clear()})},r9=(t,s)=>gs(t,(m,b)=>s(b,m.len).fold(Ee(m),O=>({len:O.finish,list:m.list.concat([O])})),{len:0,list:[]}).list,fB=(t,s,i)=>({within:t,extra:s,withinWidth:i}),i9=(t,s,i)=>{const u=r9(t,(O,M)=>{const F=i(O);return P.some({element:O,start:M,finish:M+F,width:F})}),m=uo(u,O=>O.finish<=s),b=Bt(m,(O,M)=>O+M.width,0),w=u.slice(m.length);return{within:m,extra:w,withinWidth:b}},DS=t=>et(t,s=>s.element),hB=(t,s,i)=>{const u=DS(t.concat(s));return fB(u,[],i)},a9=(t,s,i,u)=>{const m=DS(t).concat([i]);return fB(m,DS(s),u)},c9=(t,s,i)=>fB(DS(t),[],i),ah=(t,s,i)=>{const u=i9(s,t,i);return u.extra.length===0?P.some(u):P.none()},l9=(t,s,i,u)=>{const m=ah(t,s,i).getOrThunk(()=>i9(s,t-i(u),i)),b=m.within,w=m.extra,O=m.withinWidth;return w.length===1&&w[0].width<=i(u)?hB(b,w,O):w.length>=1?a9(b,w,u,O):c9(b,w,O)},zN=(t,s)=>{const i=et(s,u=>rl(u));zg.setGroups(t,i)},mB=t=>nr(t,s=>Xl(s.element).bind(i=>s.getSystem().getByDom(i).toOptional())),pB=(t,s,i)=>{const u=s.builtGroups.get();if(u.length===0)return;const m=nm(t,s,"primary"),b=xi.getCoupled(t,"overflowGroup");J(m.element,"visibility","hidden");const w=u.concat([b]),O=mB(w);i([]),zN(m,w);const M=ur(m.element),F=l9(M,s.builtGroups.get(),G=>ur(G.element),b);F.extra.length===0?(lo.remove(m,b),i([])):(zN(m,F.within),i(F.extra)),st(m.element,"visibility"),Nt(m.element),O.each(jn.focus)},fw=Ee([ja("splitToolbarBehaviours",[xi]),ys("builtGroups",()=>Wn([]))]),u9=Ee([vu(["overflowToggledClass"]),Ft("getOverflowBounds"),xt("lazySink"),ys("overflowGroups",()=>Wn([])),Ke("onOpened"),Ke("onClosed")].concat(fw())),H2=Ee([La({factory:zg,schema:uw(),name:"primary"}),_f({schema:uw(),name:"overflow"}),_f({name:"overflow-button"}),_f({name:"overflow-group"})]),WN=Ee((t,s)=>{Bc(t,Math.floor(s))}),V2=Ee([vu(["toggledClass"]),xt("lazySink"),ic("fetch"),Ft("getBounds"),dn("fireDismissalEventInstead",[We("event",pu())]),Rd(),Ke("onToggled")]),d9=Ee([_f({name:"button",overrides:t=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:kt([So.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:t.onToggled})])})}),_f({factory:zg,schema:uw(),name:"toolbar",overrides:t=>({toolbarBehaviours:kt([Bn.config({mode:"cyclic",onEscape:s=>(rr(s,t,"button").each(jn.focus),P.none())})])})})]),Bd=Zs(),f9=(t,s)=>{Bd.set(!0),hw(t,s),Bd.clear()},hw=(t,s)=>{const i=xi.getCoupled(t,"toolbarSandbox");Uo.isOpen(i)?Uo.close(i):Uo.open(i,s.toolbar())},U2=(t,s,i,u)=>{const m=i.getBounds.map(w=>w()),b=i.lazySink(t).getOrDie();Ws.positionWithinBounds(b,s,{anchor:{type:"hotspot",hotspot:t,layouts:u,overrides:{maxWidthFunction:WN()}}},m)},gB=(t,s,i,u,m)=>{zg.setGroups(s,m),U2(t,s,i,u),So.on(t)},h9=(t,s,i)=>{const u=N_(),m=(w,O)=>{const M=Bd.get().getOr(!1);i.fetch().get(F=>{gB(t,O,i,s.layouts,F),u.link(t.element),M||Bn.focusIn(O)})},b=()=>{So.off(t),Bd.get().getOr(!1)||jn.focus(t),u.unlink(t.element)};return{dom:{tag:"div",attributes:{id:u.id}},behaviours:kt([Bn.config({mode:"special",onEscape:w=>(Uo.close(w),P.some(!0))}),Uo.config({onOpen:m,onClose:b,isPartOf:(w,O,M)=>Km(O,M)||Km(t,M),getAttachPoint:()=>i.lazySink(t).getOrDie()}),bu.config({channels:{...oy({isExtraPart:wt,...i.fireDismissalEventInstead.map(w=>({fireEventInstead:{event:w.event}})).getOr({})}),...Y1({doReposition:()=>{Uo.getState(xi.getCoupled(t,"toolbarSandbox")).each(w=>{U2(t,w,i,s.layouts)})}})}})])}},Fb=Si({name:"FloatingToolbarButton",factory:(t,s,i,u)=>({...qc.sketch({...u.button(),action:m=>{hw(m,u)},buttonBehaviours:yf.augment({dump:u.button().buttonBehaviours},[xi.config({others:{toolbarSandbox:m=>h9(m,i,t)}})])}),apis:{setGroups:(m,b)=>{Uo.getState(xi.getCoupled(m,"toolbarSandbox")).each(w=>{gB(m,w,t,i.layouts,b)})},reposition:m=>{Uo.getState(xi.getCoupled(m,"toolbarSandbox")).each(b=>{U2(m,b,t,i.layouts)})},toggle:m=>{hw(m,u)},toggleWithoutFocusing:m=>{f9(m,u)},getToolbar:m=>Uo.getState(xi.getCoupled(m,"toolbarSandbox")),isOpen:m=>Uo.isOpen(xi.getCoupled(m,"toolbarSandbox"))}}),configFields:V2(),partFields:d9(),apis:{setGroups:(t,s,i)=>{t.setGroups(s,i)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggleWithoutFocusing(s)},getToolbar:(t,s)=>t.getToolbar(s),isOpen:(t,s)=>t.isOpen(s)}}),m9=Ee([xt("items"),vu(["itemSelector"]),ja("tgroupBehaviours",[Bn])]),p9=Ee([ly({name:"items",unit:"item"})]),g9=(t,s,i,u)=>({uid:t.uid,dom:t.dom,components:s,behaviours:kr(t.tgroupBehaviours,[Bn.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),NS=Si({name:"ToolbarGroup",configFields:m9(),partFields:p9(),factory:g9}),GN=t=>et(t,s=>rl(s)),qN=(t,s,i)=>{pB(t,i,u=>{i.overflowGroups.set(u),s.getOpt(t).each(m=>{Fb.setGroups(m,GN(u))})})},v9=(t,s,i,u)=>{const m=zo(Fb.sketch({fetch:()=>cl.nu(b=>{b(GN(t.overflowGroups.get()))}),layouts:{onLtr:()=>[Ui,ba],onRtl:()=>[ba,Ui],onBottomLtr:()=>[Ol,Wc],onBottomRtl:()=>[Wc,Ol]},getBounds:i.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:u["overflow-button"](),toolbar:u.overflow()},onToggled:(b,w)=>t[w?"onOpened":"onClosed"](b)}));return{uid:t.uid,dom:t.dom,components:s,behaviours:kr(t.splitToolbarBehaviours,[xi.config({others:{overflowGroup:()=>NS.sketch({...u["overflow-group"](),items:[m.asSpec()]})}})]),apis:{setGroups:(b,w)=>{t.builtGroups.set(et(w,b.getSystem().build)),qN(b,m,t)},refresh:b=>qN(b,m,t),toggle:b=>{m.getOpt(b).each(w=>{Fb.toggle(w)})},toggleWithoutFocusing:b=>{m.getOpt(b).each(Fb.toggleWithoutFocusing)},isOpen:b=>m.getOpt(b).map(Fb.isOpen).getOr(!1),reposition:b=>{m.getOpt(b).each(w=>{Fb.reposition(w)})},getOverflow:b=>m.getOpt(b).bind(Fb.getToolbar)},domModification:{attributes:{role:"group"}}}},jN=Si({name:"SplitFloatingToolbar",configFields:u9(),partFields:H2(),factory:v9,apis:{setGroups:(t,s,i)=>{t.setGroups(s,i)},refresh:(t,s)=>{t.refresh(s)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s),getOverflow:(t,s)=>t.getOverflow(s)}}),b9=Ee([vu(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Ke("onOpened"),Ke("onClosed")].concat(fw())),y9=Ee([La({factory:zg,schema:uw(),name:"primary"}),La({factory:zg,schema:uw(),name:"overflow",overrides:t=>({toolbarBehaviours:kt([$d.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:s=>{rr(s,t,"overflow-button").each(i=>{So.off(i),jn.focus(i)}),t.onClosed(s)},onGrown:s=>{Bn.focusIn(s),t.onOpened(s)},onStartGrow:s=>{rr(s,t,"overflow-button").each(So.on)}}),Bn.config({mode:"acyclic",onEscape:s=>(rr(s,t,"overflow-button").each(jn.focus),P.some(!0))})])})}),_f({name:"overflow-button",overrides:t=>({buttonBehaviours:kt([So.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])})}),_f({name:"overflow-group"})]),_9=(t,s)=>rr(t,s,"overflow").map($d.hasGrown).getOr(!1),vB=(t,s)=>{rr(t,s,"overflow-button").bind(()=>rr(t,s,"overflow")).each(i=>{ZN(t,s),$d.toggleGrow(i)})},ZN=(t,s)=>{rr(t,s,"overflow").each(i=>{pB(t,s,u=>{const m=et(u,b=>rl(b));zg.setGroups(i,m)}),rr(t,s,"overflow-button").each(u=>{$d.hasGrown(i)&&So.on(u)}),$d.refresh(i)})},E9=(t,s,i,u)=>{const m="alloy.toolbar.toggle",b=(w,O)=>{const M=et(O,w.getSystem().build);t.builtGroups.set(M)};return{uid:t.uid,dom:t.dom,components:s,behaviours:kr(t.splitToolbarBehaviours,[xi.config({others:{overflowGroup:w=>NS.sketch({...u["overflow-group"](),items:[qc.sketch({...u["overflow-button"](),action:O=>{ss(w,m)}})]})}}),mo("toolbar-toggle-events",[Dt(m,w=>{vB(w,t)})])]),apis:{setGroups:(w,O)=>{b(w,O),ZN(w,t)},refresh:w=>ZN(w,t),toggle:w=>vB(w,t),isOpen:w=>_9(w,t)},domModification:{attributes:{role:"group"}}}},YN=Si({name:"SplitSlidingToolbar",configFields:b9(),partFields:y9(),factory:E9,apis:{setGroups:(t,s,i)=>{t.setGroups(s,i)},refresh:(t,s)=>{t.refresh(s)},toggle:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s)}}),bB=t=>{const s=t.title.fold(()=>({}),i=>({attributes:{title:i}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...s},components:[NS.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:kt([hi.config({}),jn.config({})])}},z2=t=>NS.sketch(bB(t)),yB=(t,s)=>{const i=Tr(u=>{const m=et(t.initGroups,z2);zg.setGroups(u,m)});return kt([im.toolbarButton(t.providers.isDisabled),Za(),Bn.config({mode:s,onEscape:t.onEscape,selector:".tox-toolbar__group"}),mo("toolbar-events",[i])])},_B=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":bB({title:P.none(),items:[]}),"overflow-button":pz({name:"more",icon:P.some("more-drawer"),enabled:!0,tooltip:P.some("More..."),primary:!1,buttonType:P.none(),borderless:!1},P.none(),t.providers)},splitToolbarBehaviours:yB(t,s)}},w9=t=>{const s=_B(t),i=4,u=jN.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return jN.sketch({...s,lazySink:t.getSink,getOverflowBounds:()=>{const m=t.moreDrawerData.lazyHeader().element,b=pl(m),w=Jc(m),O=pl(w),M=Math.max(w.dom.scrollHeight,O.height);return Ps(b.x+i,O.y,b.width-i*2,M)},parts:{...s.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}},components:[u],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:m=>t.onToggled(m,!0),onClosed:m=>t.onToggled(m,!1)})},T9=t=>{const s=YN.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),i=YN.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),u=_B(t);return YN.sketch({...u,components:[s,i],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:m=>{m.getSystem().broadcastOn([MN()],{type:"opened"}),t.onToggled(m,!0)},onClosed:m=>{m.getSystem().broadcastOn([MN()],{type:"closed"}),t.onToggled(m,!1)}})},MS=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return zg.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===Cf.scrolling?["tox-toolbar--scrolling"]:[])},components:[zg.parts.groups({})],toolbarBehaviours:yB(t,s)})},kS=[iv,sm,de("tooltip"),Hr("buttonType","secondary",["primary","secondary"]),li("borderless",!1),ic("onAction")],KN=[...kS,rv,Gl("type",["button"])],C9=[...kS,li("active",!1),Gl("type",["togglebutton"])],EB={button:KN,togglebutton:C9},wB=[Gl("type",["group"]),l1("buttons",[],or("type",EB))],S9=or("type",{...EB,group:wB}),x9=Pn([l1("buttons",[],S9),ic("onShow"),ic("onHide")]),A9=t=>ts("view",x9,t),TB=(t,s)=>{var i,u;const m=t.type==="togglebutton",b=t.icon.map(dt=>fm(dt,s.icons)).map(zo),O=(()=>dt=>{const gt=ln=>{b.map(An=>An.getOpt(dt).each($o=>{lo.set($o,[fm(ln,s.icons)])}))},Qt=ln=>{const An=dt.element;ln?(xs(An,"tox-button--enabled"),co(An,"aria-pressed",!0)):(Ls(An,"tox-button--enabled"),T(An,"aria-pressed"))},Pt=()=>oa(dt.element,"tox-button--enabled");if(m)return t.onAction({setIcon:gt,setActive:Qt,isActive:Pt});if(t.type==="button")return t.onAction({setIcon:gt})})(),M={...t,name:m?t.text.getOr(t.icon.getOr("")):(i=t.text)!==null&&i!==void 0?i:t.icon.getOr(""),primary:t.buttonType==="primary",buttonType:P.from(t.buttonType),tooltip:t.tooltip,icon:t.icon,enabled:!0,borderless:t.borderless},F=b2((u=t.buttonType)!==null&&u!==void 0?u:"secondary"),G=m?t.text.map(s.translate):P.some(s.translate(t.text)),Q=G.map(Cr),te=M.tooltip.or(G).map(dt=>({"aria-label":s.translate(dt),title:s.translate(dt)})).getOr({}),ae=b.map(dt=>dt.asSpec()),Te=YE([ae,Q]),Me=t.icon.isSome()&&Q.isSome(),ot={tag:"button",classes:F.concat(...t.icon.isSome()&&!Me?["tox-button--icon"]:[]).concat(...Me?["tox-button--icon-and-text"]:[]).concat(...t.borderless?["tox-button--naked"]:[]).concat(...t.type==="togglebutton"&&t.active?["tox-button--enabled"]:[]),attributes:te},Ue=[],nt=vS(M,P.some(O),Ue,ot,Te,s);return qc.sketch(nt)},CB=(t,s)=>TB(t,s),O9=(t,s)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:et(t.buttons,i=>CB(i,s))}),W2=Mt().deviceType,R9=W2.isPhone(),I9=W2.isTablet(),SB=t=>{let s=!1;const i=et(t.buttons,u=>u.type==="group"?(s=!0,O9(u,t.providers)):CB(u,t.providers));return{uid:t.uid,dom:{tag:"div",classes:[s?"tox-view__toolbar":"tox-view__header",...R9||I9?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:kt([jn.config({}),Bn.config({mode:"flow",selector:"button, .tox-button",focusInside:Eb.OnEnterOrSpaceMode})]),components:s?i:[am.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),am.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:i})]}},D9=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-view__pane"]}}),xB=(t,s,i,u)=>{const m={getPane:b=>mc.getPart(b,t,"pane"),getOnShow:b=>t.viewConfig.onShow,getOnHide:b=>t.viewConfig.onHide};return{uid:t.uid,dom:t.dom,components:s,apis:m}};var mw=Si({name:"silver.View",configFields:[xt("viewConfig")],partFields:[Dd({factory:{sketch:SB},schema:[xt("buttons"),xt("providers")],name:"header"}),Dd({factory:{sketch:D9},schema:[],name:"pane"})],factory:xB,apis:{getPane:(t,s)=>t.getPane(s),getOnShow:(t,s)=>t.getOnShow(s),getOnHide:(t,s)=>t.getOnHide(s)}});const AB=(t,s,i)=>Gd(s,(u,m)=>{const b=Po(A9(u));return t.slot(m,mw.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:b,components:[...b.buttons.length>0?[mw.parts.header({buttons:b.buttons,providers:i})]:[],mw.parts.pane({})]}))}),N9=(t,s)=>Nl.sketch(i=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:AB(i,t,s),slotBehaviours:FC.unnamedEvents([Tr(u=>Nl.hideAllSlots(u))])})),OB=t=>kn(Nl.getSlotNames(t),s=>Nl.isShowing(t,s)),M9=t=>{const s=t.element;J(s,"display","none"),co(s,"aria-hidden","true")},RB=t=>{const s=t.element;st(s,"display"),T(s,"aria-hidden")},k9=t=>({getContainer:Ee(t)}),IB=(t,s,i)=>{Nl.getSlot(t,s).each(u=>{mw.getPane(u).each(m=>{i(u)(k9(m.element.dom))})})},P9=(t,s)=>IB(t,s,mw.getOnShow),XN=(t,s)=>IB(t,s,mw.getOnHide);var G2=qi({factory:(t,s)=>{const b={setViews:(w,O)=>{lo.set(w,[N9(O,s.backstage.shared.providers)])},whichView:w=>Xo.getCurrent(w).bind(OB),toggleView:(w,O,M,F)=>Xo.getCurrent(w).exists(G=>{const Q=OB(G),te=Q.exists(Te=>F===Te),ae=Nl.getSlot(G,F).isSome();return ae&&(Nl.hideAllSlots(G),te?(M9(w),O()):(M(),RB(w),Nl.showSlot(G,F),P9(G,F)),Q.each(Te=>XN(G,Te))),ae})};return{uid:t.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:kt([lo.config({}),Xo.config({find:w=>{const O=lo.contents(w);return Rr(O)}})]),apis:b}},name:"silver.ViewWrapper",configFields:[xt("backstage")],apis:{setViews:(t,s,i)=>t.setViews(s,i),toggleView:(t,s,i,u,m)=>t.toggleView(s,i,u,m),whichView:(t,s)=>t.whichView(s)}});const L9=(t,s,i)=>{let u=!1;const m={getSocket:b=>mc.getPart(b,t,"socket"),setSidebar:(b,w,O)=>{mc.getPart(b,t,"sidebar").each(M=>HN(M,w,O))},toggleSidebar:(b,w)=>{mc.getPart(b,t,"sidebar").each(O=>VN(O,w))},whichSidebar:b=>mc.getPart(b,t,"sidebar").bind(ZW).getOrNull(),getHeader:b=>mc.getPart(b,t,"header"),getToolbar:b=>mc.getPart(b,t,"toolbar"),setToolbar:(b,w)=>{mc.getPart(b,t,"toolbar").each(O=>{const M=et(w,z2);O.getApis().setGroups(O,M)})},setToolbars:(b,w)=>{mc.getPart(b,t,"multiple-toolbar").each(O=>{const M=et(w,F=>et(F,z2));xN.setItems(O,M)})},refreshToolbar:b=>{mc.getPart(b,t,"toolbar").each(O=>O.getApis().refresh(O))},toggleToolbarDrawer:b=>{mc.getPart(b,t,"toolbar").each(w=>{Xs(w.getApis().toggle,O=>O(w))})},toggleToolbarDrawerWithoutFocusing:b=>{mc.getPart(b,t,"toolbar").each(w=>{Xs(w.getApis().toggleWithoutFocusing,O=>O(w))})},isToolbarDrawerToggled:b=>mc.getPart(b,t,"toolbar").bind(w=>P.from(w.getApis().isOpen).map(O=>O(w))).getOr(!1),getThrobber:b=>mc.getPart(b,t,"throbber"),focusToolbar:b=>{mc.getPart(b,t,"toolbar").orThunk(()=>mc.getPart(b,t,"multiple-toolbar")).each(O=>{Bn.focusIn(O)})},setMenubar:(b,w)=>{mc.getPart(b,t,"menubar").each(O=>{zy.setMenus(O,w)})},focusMenubar:b=>{mc.getPart(b,t,"menubar").each(w=>{zy.focus(w)})},setViews:(b,w)=>{mc.getPart(b,t,"viewWrapper").each(O=>{G2.setViews(O,w)})},toggleView:(b,w)=>mc.getPart(b,t,"viewWrapper").exists(O=>G2.toggleView(O,()=>m.showMainView(b),()=>m.hideMainView(b),w)),whichView:b=>mc.getPart(b,t,"viewWrapper").bind(G2.whichView).getOrNull(),hideMainView:b=>{u=m.isToolbarDrawerToggled(b),u&&m.toggleToolbarDrawer(b),mc.getPart(b,t,"editorContainer").each(w=>{const O=w.element;J(O,"display","none"),co(O,"aria-hidden","true")})},showMainView:b=>{u&&m.toggleToolbarDrawer(b),mc.getPart(b,t,"editorContainer").each(w=>{const O=w.element;st(O,"display"),T(O,"aria-hidden")}),m.refreshToolbar(b)}};return{uid:t.uid,dom:t.dom,components:s,apis:m,behaviours:t.behaviours}},$9=Ug.optional({factory:zy,name:"menubar",schema:[xt("backstage")]}),B9=t=>t.type===Cf.sliding?T9:t.type===Cf.floating?w9:MS,F9=Ug.optional({factory:{sketch:t=>xN.sketch({uid:t.uid,dom:t.dom,listBehaviours:kt([Bn.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>MS({type:t.type,uid:_n("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:()=>(t.onEscape(),P.some(!0))}),setupItem:(s,i,u,m)=>{zg.setGroups(i,u)},shell:!0})},name:"multiple-toolbar",schema:[xt("dom"),xt("onEscape")]}),H9=Ug.optional({factory:{sketch:t=>{const s=B9(t),i={type:t.type,uid:t.uid,onEscape:()=>(t.onEscape(),P.some(!0)),onToggled:(u,m)=>t.onToolbarToggled(m),cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return s(i)}},name:"toolbar",schema:[xt("dom"),xt("onEscape"),xt("getSink")]}),V9=Ug.optional({factory:{sketch:BW},name:"header",schema:[xt("dom")]}),U9=Ug.optional({factory:{sketch:UW},name:"promotion",schema:[xt("dom")]}),NB=Ug.optional({name:"socket",schema:[xt("dom")]}),q2=Ug.optional({factory:{sketch:YW},name:"sidebar",schema:[xt("dom")]}),QN=Ug.optional({factory:{sketch:n9},name:"throbber",schema:[xt("dom")]}),MB=Ug.optional({factory:G2,name:"viewWrapper",schema:[xt("backstage")]}),Hb=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:t.components}),kB=Ug.optional({factory:{sketch:Hb},name:"editorContainer",schema:[]});var Ar=Si({name:"OuterContainer",factory:L9,configFields:[xt("dom"),xt("behaviours")],partFields:[V9,$9,H9,F9,NB,q2,U9,QN,MB,kB],apis:{getSocket:(t,s)=>t.getSocket(s),setSidebar:(t,s,i,u)=>{t.setSidebar(s,i,u)},toggleSidebar:(t,s,i)=>{t.toggleSidebar(s,i)},whichSidebar:(t,s)=>t.whichSidebar(s),getHeader:(t,s)=>t.getHeader(s),getToolbar:(t,s)=>t.getToolbar(s),setToolbar:(t,s,i)=>{t.setToolbar(s,i)},setToolbars:(t,s,i)=>{t.setToolbars(s,i)},refreshToolbar:(t,s)=>t.refreshToolbar(s),toggleToolbarDrawer:(t,s)=>{t.toggleToolbarDrawer(s)},toggleToolbarDrawerWithoutFocusing:(t,s)=>{t.toggleToolbarDrawerWithoutFocusing(s)},isToolbarDrawerToggled:(t,s)=>t.isToolbarDrawerToggled(s),getThrobber:(t,s)=>t.getThrobber(s),setMenubar:(t,s,i)=>{t.setMenubar(s,i)},focusMenubar:(t,s)=>{t.focusMenubar(s)},focusToolbar:(t,s)=>{t.focusToolbar(s)},setViews:(t,s,i)=>{t.setViews(s,i)},toggleView:(t,s,i)=>t.toggleView(s,i),whichView:(t,s)=>t.whichView(s)}});const z9="file edit view insert format tools table help",PB={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template inserttemplate codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},W9=(t,s,i)=>{const u=wP(i).split(/[ ,]/);return{text:t.title,getItems:()=>mt(t.items,m=>{const b=m.toLowerCase();return b.trim().length===0?[]:Bo(u,w=>w===b)?[]:b==="separator"||b==="|"?[{type:"separator"}]:s.menuItems[b]?[s.menuItems[b]]:[]})}},JN=t=>t.split(" "),LB=(t,s)=>{const i={...PB,...s.menus},u=Os(s.menus).length>0,m=s.menubar===void 0||s.menubar===!0?JN(z9):JN(s.menubar===!1?"":s.menubar),b=uo(m,O=>{const M=Ho(PB,O);return u?M||an(s.menus,O).exists(F=>Ho(F,"items")):M}),w=et(b,O=>{const M=i[O];return W9({title:M.title,items:JN(M.items)},s,t)});return uo(w,O=>{const M=F=>B(F)||F.type!=="separator";return O.getItems().length>0&&Bo(O.getItems(),M)})},$B=t=>{const s=()=>{t._skinLoaded=!0,t8(t)};return()=>{t.initialized?s():t.on("init",s)}},BB=(t,s)=>()=>zI(t,{message:s}),FB=(t,s,i)=>(t.on("remove",()=>i.unload(s)),i.load(s)),G9=(t,s)=>{const i=s+"/skin.min.css";return FB(t,i,t.ui.styleSheetLoader)},eM=(t,s)=>{if(Pu(Qe.fromDom(t.getElement()))){const u=s+"/skin.shadowdom.min.css";return FB(t,u,CC.DOM.styleSheetLoader)}else return Promise.resolve()},HB=(t,s)=>{const i=$P(s);return i&&s.contentCSS.push(i+(t?"/content.inline":"/content")+".min.css"),!IC(s)&&B(i)?Promise.all([G9(s,i),eM(s,i)]).then($B(s),BB(s,"Skin could not be loaded")):Promise.resolve($B(s)())},q9=yt(HB,!1),j9=yt(HB,!0),j2=(t,s)=>i=>{const u=_u(),m=()=>{i.setActive(t.formatter.match(s));const b=t.formatter.formatChanged(s,i.setActive);u.set(b)};return t.initialized?m():t.once("init",m),()=>{t.off("init",m),u.clear()}},PS=(t,s,i)=>u=>{const m=()=>i(u),b=()=>{i(u),t.on(s,m)};return t.initialized?b():t.once("init",b),()=>{t.off("init",b),t.off(s,m)}},VB=t=>s=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("mceToggleFormat",!1,s.format)})},Of=(t,s)=>()=>t.execCommand(s),UB=(t,s,i)=>{const u=(O,M,F,G)=>{const Q=s.shared.providers.translate(O.title);if(O.type==="separator")return P.some({type:"separator",text:Q});if(O.type==="submenu"){const te=mt(O.getStyleItems(),ae=>m(ae,M,G));return M===0&&te.length<=0?P.none():P.some({type:"nestedmenuitem",text:Q,enabled:te.length>0,getSubmenuItems:()=>mt(O.getStyleItems(),ae=>m(ae,M,G))})}else return P.some({type:"togglemenuitem",text:Q,icon:O.icon,active:O.isSelected(G),enabled:!F,onAction:i.onAction(O),...O.getStylePreview().fold(()=>({}),te=>({meta:{style:te}}))})},m=(O,M,F)=>{const G=O.type==="formatter"&&i.isInvalid(O);return M===0?G?[]:u(O,M,!1,F).toArray():u(O,M,G,F).toArray()},b=O=>{const M=i.getCurrentValue(),F=i.shouldHide?0:1;return mt(O,G=>m(G,F,M))};return{validateItems:b,getFetch:(O,M)=>(F,G)=>{const Q=M(),te=b(Q),ae=Fy(te,wp.CLOSE_ON_EXECUTE,O,{isHorizontalMenu:!1,search:P.none()});G(ae)}}},Wy=(t,s,i)=>{const u=i.dataset,m=u.type==="basic"?()=>et(u.data,b=>EN(b,i.isSelectedFor,i.getPreviewFor)):u.getData;return{items:UB(t,s,i),getStyleItems:m}},LS=(t,s,i)=>{const{items:u,getStyleItems:m}=Wy(t,s,i),b=O=>({getComponent:Ee(O)}),w=PS(t,"NodeChange",O=>{const M=O.getComponent();i.updateText(M)});return VD({text:i.icon.isSome()?P.none():i.text,icon:i.icon,tooltip:P.from(i.tooltip),role:P.none(),fetch:u.getFetch(s,m),onSetup:w,getApi:b,columns:1,presets:"normal",classes:i.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",s.shared)},zB=t=>et(t,s=>{let i=s,u=s;const m=s.split("=");return m.length>1&&(i=m[0],u=m[1]),{title:i,format:u}}),Z9=t=>({type:"basic",data:t});var pw;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(pw||(pw={}));const Y9=(t,s)=>s===pw.SemiColon?t.replace(/;$/,"").split(";"):t.split(" "),Z2=(t,s,i)=>{const u=t.options.get(s);return{type:"basic",data:zB(Y9(u,i))}},tM=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],nM=t=>{const s=()=>kn(tM,O=>t.formatter.match(O.format)),i=O=>()=>t.formatter.match(O),u=O=>P.none,m=O=>{const F=s().fold(Ee("left"),G=>G.title.toLowerCase());Mn(O,By,{icon:`align-${F}`})},b=Z9(tM),w=O=>()=>kn(tM,M=>M.format===O.format).each(M=>t.execCommand(M.command));return{tooltip:"Align",text:P.none(),icon:P.some("align-left"),isSelectedFor:i,getCurrentValue:P.none,getPreviewFor:u,onAction:w,updateText:m,dataset:b,shouldHide:!1,isInvalid:O=>!t.formatter.canApply(O.format)}},K9=(t,s)=>LS(t,s,nM(t)),X9=(t,s)=>{const i=Wy(t,s,nM(t));t.ui.registry.addNestedMenuItem("align",{text:s.shared.providers.translate("Align"),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},WB=(t,s)=>{const i=s(),u=et(i,m=>m.format);return P.from(t.formatter.closest(u)).bind(m=>kn(i,b=>b.format===m)).orThunk(()=>qn(t.formatter.match("p"),{title:"Paragraph",format:"p"}))},GB=t=>{const s="Paragraph",i=w=>()=>t.formatter.match(w),u=w=>()=>{const O=t.formatter.get(w);return O?P.some({tag:O.length>0&&(O[0].inline||O[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(w))}):P.none()},m=w=>{const M=WB(t,()=>b.data).fold(Ee(s),F=>F.title);Mn(w,Af,{text:M})},b=Z2(t,"block_formats",pw.SemiColon);return{tooltip:"Blocks",text:P.some(s),icon:P.none(),isSelectedFor:i,getCurrentValue:P.none,getPreviewFor:u,onAction:VB(t),updateText:m,dataset:b,shouldHide:!1,isInvalid:w=>!t.formatter.canApply(w.format)}},Q9=(t,s)=>LS(t,s,GB(t)),J9=(t,s)=>{const i=Wy(t,s,GB(t));t.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},qB=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],jB=t=>{const s=t.split(/\s*,\s*/);return et(s,i=>i.replace(/^['"]+|['"]+$/g,""))},eG=t=>{const s=()=>{const i=jB(t.toLowerCase());return gi(qB,u=>i.indexOf(u.toLowerCase())>-1)};return t.indexOf("-apple-system")===0&&s()},ZB=t=>{const s="System Font",i=()=>{const F=Te=>Te?jB(Te)[0]:"",G=t.queryCommandValue("FontName"),Q=M.data,te=G?G.toLowerCase():"";return{matchOpt:kn(Q,Te=>{const Me=Te.format;return Me.toLowerCase()===te||F(Me).toLowerCase()===F(te).toLowerCase()}).orThunk(()=>qn(eG(te),{title:s,format:te})),font:G}},u=F=>G=>G.exists(Q=>Q.format===F),m=()=>{const{matchOpt:F}=i();return F},b=F=>()=>P.some({tag:"div",styles:F.indexOf("dings")===-1?{"font-family":F}:{}}),w=F=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontName",!1,F.format)})},O=F=>{const{matchOpt:G,font:Q}=i(),te=G.fold(Ee(Q),ae=>ae.title);Mn(F,Af,{text:te})},M=Z2(t,"font_family_formats",pw.SemiColon);return{tooltip:"Fonts",text:P.some(s),icon:P.none(),isSelectedFor:u,getCurrentValue:m,getPreviewFor:b,onAction:w,updateText:O,dataset:M,shouldHide:!1,isInvalid:wt}},tG=(t,s)=>LS(t,s,ZB(t)),nG=(t,s)=>{const i=Wy(t,s,ZB(t));t.ui.registry.addNestedMenuItem("fontfamily",{text:s.shared.providers.translate("Fonts"),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},YB={tab:Ee(9),escape:Ee(27),enter:Ee(13),backspace:Ee(8),delete:Ee(46),left:Ee(37),up:Ee(38),right:Ee(39),down:Ee(40),space:Ee(32),home:Ee(36),end:Ee(35),pageUp:Ee(33),pageDown:Ee(34)},oG={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},KB=(()=>{const t="[0-9]+",i="[eE]"+("[+-]?"+t),u="\\.",m=O=>`(?:${O})?`,w=`[+-]?(?:${["Infinity",t+u+m(t)+m(i),u+t+m(i),t+m(i)].join("|")})`;return new RegExp(`^(${w})(.*)$`)})(),sG=(t,s)=>Bo(s,i=>Bo(oG[i],u=>t===u)),XB=(t,s)=>P.from(KB.exec(t)).bind(u=>{const m=Number(u[1]),b=u[2];return sG(b,s)?P.some({value:m,unit:b}):P.none()}),QB=(t,s)=>XB(t,s).map(({value:i,unit:u})=>i+u),rG=(t,s,i)=>{let u=P.none();const m=dt=>dt.map(gt=>fn.getValue(gt)).getOr(""),b=PS(t,"NodeChange",dt=>{const gt=dt.getComponent();u=P.some(gt),i.updateInputValue(gt)}),w=dt=>({getComponent:Ee(dt)}),O=Wn(K),M=_n("custom-number-input-events"),F=dt=>dt>=0,G=(dt,gt,Qt)=>{const Pt=m(u),ln=XB(Pt,["unsupportedLength","empty"]),An=ln.map(Wt=>Wt.value).getOr(0),$o=cI(t),Fn=ln.map(Wt=>Wt.unit).filter(Wt=>Wt!=="").getOr($o),Mo=dt(An,i.getConfigFromUnit(Fn).step),oo=`${F(Mo)?Mo:An}${Fn}`,Io=`${An}${Fn}`.length-`${oo}`.length,Xn=u.map(Wt=>Wt.element.dom.selectionStart-Io),As=u.map(Wt=>Wt.element.dom.selectionEnd-Io);i.onAction(oo,Qt),u.each(Wt=>{fn.setValue(Wt,oo),gt&&(Xn.each(Sn=>Wt.element.dom.selectionStart=Sn),As.each(Sn=>Wt.element.dom.selectionEnd=Sn))})},Q=(dt,gt)=>G((Qt,Pt)=>Qt-Pt,dt,gt),te=(dt,gt)=>G((Qt,Pt)=>Qt+Pt,dt,gt),ae=dt=>Lc(dt.element).fold(P.none,gt=>(il(gt),P.some(!0))),Te=dt=>k1(dt.element)?(Ch(dt.element).each(gt=>il(gt)),P.some(!0)):P.none(),Me=(dt,gt,Qt,Pt)=>{const ln=s.shared.providers.translate(Qt),An=_n("altExecuting"),$o=()=>dt(!0);return qc.sketch({dom:{tag:"button",attributes:{title:ln,"aria-label":ln},classes:Pt.concat(gt)},components:[$y(gt,s.shared.providers.icons)],buttonBehaviours:kt([mo(An,[Dt(na(),(Fn,Mo)=>{(Mo.event.raw.keyCode===YB.space()||Mo.event.raw.keyCode===YB.enter())&&dt(!1)}),Dt(Sl(),$o),Dt(Mh(),$o)])]),eventOrder:{[na()]:[An,"keying"],[Sl()]:[An,"alloy.base.behaviour"],[Mh()]:[An,"alloy.base.behaviour"]}})},ot=zo(Me(dt=>Q(!1,dt),"minus","Decrease font size",["highlight-on-focus"])),Ue=zo(Me(dt=>te(!1,dt),"plus","Increase font size",["highlight-on-focus"])),nt=zo({dom:{tag:"div",classes:["tox-input-wrapper","highlight-on-focus"]},components:[Ty.sketch({inputBehaviours:kt([mo(M,[Nb({onSetup:b,getApi:w},O),Oy({getApi:w},O)]),mo("input-update-display-text",[Dt(Af,(dt,gt)=>{fn.setValue(dt,gt.event.text)}),Dt(Cl(),dt=>{i.onAction(fn.getValue(dt))}),Dt(jl(),dt=>{i.onAction(fn.getValue(dt))})]),Bn.config({mode:"special",onEnter:dt=>(G(qe,!0,!0),P.some(!0)),onEscape:ae,onUp:dt=>(te(!0,!1),P.some(!0)),onDown:dt=>(Q(!0,!1),P.some(!0)),onLeft:(dt,gt)=>(gt.cut(),P.none()),onRight:(dt,gt)=>(gt.cut(),P.none())})])})],behaviours:kt([jn.config({}),Bn.config({mode:"special",onEnter:Te,onSpace:Te,onEscape:ae}),mo("input-wrapper-events",[Dt(nf(),dt=>{It([ot,Ue],gt=>{const Qt=Qe.fromDom(gt.get(dt).element.dom);k1(Qt)&&M1(Qt)})})])])});return{dom:{tag:"div",classes:["tox-number-input"]},components:[ot.asSpec(),nt.asSpec(),Ue.asSpec()],behaviours:kt([jn.config({}),Bn.config({mode:"flow",focusInside:Eb.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:dt=>k1(dt.element)?P.none():(il(dt.element),P.some(!0))})])}},JB={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},eF={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},iG=(t,s)=>{const i=Math.pow(10,s);return Math.round(t*i)/i},aG=(t,s)=>/[0-9.]+px$/.test(t)?iG(parseInt(t,10)*72/96,s||0)+"pt":an(eF,t).getOr(t),cG=t=>an(JB,t).getOr(""),Gy=t=>{const s=()=>{let M=P.none();const F=O.data,G=t.queryCommandValue("FontSize");if(G)for(let Q=3;M.isNone()&&Q>=0;Q--){const te=aG(G,Q),ae=cG(te);M=kn(F,Te=>Te.format===G||Te.format===te||Te.format===ae)}return{matchOpt:M,size:G}},i=M=>F=>F.exists(G=>G.format===M),u=()=>{const{matchOpt:M}=s();return M},m=Ee(P.none),b=M=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontSize",!1,M.format)})},w=M=>{const{matchOpt:F,size:G}=s(),Q=F.fold(Ee(G),te=>te.title);Mn(M,Af,{text:Q})},O=Z2(t,"font_size_formats",pw.Space);return{tooltip:"Font sizes",text:P.some("12pt"),icon:P.none(),isSelectedFor:i,getPreviewFor:m,getCurrentValue:u,onAction:b,updateText:w,dataset:O,shouldHide:!1,isInvalid:wt}},lG=(t,s)=>LS(t,s,Gy(t)),uG=t=>{var s;const i={step:1};return(s={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[t])!==null&&s!==void 0?s:i},dG=t=>({updateInputValue:i=>Mn(i,Af,{text:t.queryCommandValue("FontSize")}),getConfigFromUnit:uG,onAction:(i,u)=>t.execCommand("FontSize",!1,i,{skip_focus:!u})}),fG=(t,s)=>rG(t,s,dG(t)),hG=(t,s)=>{const i=Wy(t,s,Gy(t));t.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},tF=(t,s)=>{const i="Paragraph",u=w=>()=>t.formatter.match(w),m=w=>()=>{const O=t.formatter.get(w);return O!==void 0?P.some({tag:O.length>0&&(O[0].inline||O[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(w))}):P.none()},b=w=>{const O=Q=>bN(Q)?mt(Q.items,O):y3(Q)?[{title:Q.title,format:Q.format}]:[],M=mt(_N(t),O),G=WB(t,Ee(M)).fold(Ee(i),Q=>Q.title);Mn(w,Af,{text:G})};return{tooltip:"Formats",text:P.some(i),icon:P.none(),isSelectedFor:u,getCurrentValue:P.none,getPreviewFor:m,onAction:VB(t),updateText:b,shouldHide:EP(t),isInvalid:w=>!t.formatter.canApply(w.format),dataset:s}},mG=(t,s)=>{const i={type:"advanced",...s.styles};return LS(t,s,tF(t,i))},pG=(t,s)=>{const i={type:"advanced",...s.styles},u=Wy(t,s,tF(t,i));t.ui.registry.addNestedMenuItem("styles",{text:"Formats",getSubmenuItems:()=>u.items.validateItems(u.getStyleItems())})},oM=Ee([xt("toggleClass"),xt("fetch"),Qm("onExecute"),We("getHotspot",P.some),We("getAnchorOverrides",Ee({})),Rd(),Qm("onItemExecute"),Yo("lazySink"),xt("dom"),Ke("onOpen"),ja("splitDropdownBehaviours",[xi,Bn,jn]),We("matchWidth",!1),We("useMinWidth",!1),We("eventOrder",{}),Yo("role")].concat(aD())),gG=La({factory:qc,schema:[xt("dom")],name:"arrow",defaults:()=>({buttonBehaviours:kt([jn.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(rf)},buttonBehaviours:kt([So.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])})}),vG=La({factory:qc,schema:[xt("dom")],name:"button",defaults:()=>({buttonBehaviours:kt([jn.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(i=>{t.onExecute(i,s)})}})}),nF=Ee([gG,vG,Dd({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[xt("text")],name:"aria-descriptor"}),_f({schema:[Sd()],name:"menu",defaults:t=>({onExecute:(s,i)=>{s.getSystem().getByUid(t.uid).each(u=>{t.onItemExecute(u,s,i)})}})}),v4()]),oF=(t,s,i,u)=>{const m=G=>{Xo.getCurrent(G).each(Q=>{ms.highlightFirst(Q),Bn.focusIn(Q)})},b=G=>{rD(t,qe,G,u,m,Su.HighlightMenuAndItem).get(K)},w=G=>(b(G),P.some(!0)),O=G=>{const Q=nm(G,t,"button");return rf(Q),P.some(!0)},M={...js([Tr((G,Q)=>{rr(G,t,"aria-descriptor").each(ae=>{const Te=_n("aria");co(ae.element,"id",Te),co(G.element,"aria-describedby",Te)})})]),...eA(P.some(b))},F={repositionMenus:G=>{So.isOn(G)&&iD(G)}};return{uid:t.uid,dom:t.dom,components:s,apis:F,eventOrder:{...t.eventOrder,[zs()]:["disabling","toggling","alloy.base.behaviour"]},events:M,behaviours:kr(t.splitDropdownBehaviours,[xi.config({others:{sandbox:G=>{const Q=nm(G,t,"arrow");return QC(t,G,{onOpen:()=>{So.on(Q),So.on(G)},onClose:()=>{So.off(Q),So.off(G)}})}}}),Bn.config({mode:"special",onSpace:O,onEnter:O,onDown:w}),jn.config({}),So.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},Y2=Si({name:"SplitDropdown",configFields:oM(),partFields:nF(),factory:oF,apis:{repositionMenus:(t,s)=>t.repositionMenus(s)}}),sF=t=>({isEnabled:()=>!no.isDisabled(t),setEnabled:s=>no.set(t,!s),setText:s=>Mn(t,Af,{text:s}),setIcon:s=>Mn(t,By,{icon:s})}),bG=t=>({setActive:s=>{So.set(t,s)},isActive:()=>So.isOn(t),isEnabled:()=>!no.isDisabled(t),setEnabled:s=>no.set(t,!s),setText:s=>Mn(t,Af,{text:s}),setIcon:s=>Mn(t,By,{icon:s})}),rF=(t,s)=>t.map(i=>({"aria-label":s.translate(i),title:s.translate(i)})).getOr({}),iF=_n("focus-button"),sM=(t,s,i,u,m)=>{const b=s.map(O=>zo(HD(O,"tox-tbtn",m))),w=t.map(O=>zo(fm(O,m.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(s.isSome()?["tox-tbtn--select"]:[]),attributes:rF(i,m)},components:YE([w.map(O=>O.asSpec()),b.map(O=>O.asSpec())]),eventOrder:{[Fi()]:["focusing","alloy.base.behaviour",$b],[sf()]:[$b,"toolbar-group-button-events"]},buttonBehaviours:kt([im.toolbarButton(m.isDisabled),Za(),mo($b,[Tr((O,M)=>fS(O)),Dt(Af,(O,M)=>{b.bind(F=>F.getOpt(O)).each(F=>{lo.set(F,[Cr(m.translate(M.event.text))])})}),Dt(By,(O,M)=>{w.bind(F=>F.getOpt(O)).each(F=>{lo.set(F,[fm(M.event.icon,m.icons)])})}),Dt(Fi(),(O,M)=>{M.event.prevent(),ss(O,iF)})])].concat(u.getOr([])))}},yG=(t,s,i,u)=>{const m=s.shared,b=Wn(K),w={toolbarButtonBehaviours:[],getApi:sF,onSetup:t.onSetup},O=[mo("toolbar-group-button-events",[Nb(w,b),Oy(w,b)])];return Fb.sketch({lazySink:m.getSink,fetch:()=>cl.nu(M=>{M(et(i(t.items),z2))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:sM(t.icon,t.text,t.tooltip,P.some(O),m.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:u}}}})},aF=(t,s,i)=>{var u;const m=Wn(K),b=sM(t.icon,t.text,t.tooltip,P.none(),i);return qc.sketch({dom:b.dom,components:b.components,eventOrder:FD,buttonBehaviours:{...kt([mo("toolbar-button-events",[$U({onAction:t.onAction,getApi:s.getApi}),Nb(s,m),Oy(s,m)]),im.toolbarButton(()=>!t.enabled||i.isDisabled()),Za()].concat(s.toolbarButtonBehaviours)),[$b]:(u=b.buttonBehaviours)===null||u===void 0?void 0:u[$b]}})},cF=(t,s)=>lF(t,s,[]),lF=(t,s,i)=>aF(t,{toolbarButtonBehaviours:i.length>0?[mo("toolbarButtonWith",i)]:[],getApi:sF,onSetup:t.onSetup},s),rM=(t,s)=>uF(t,s,[]),uF=(t,s,i)=>aF(t,{toolbarButtonBehaviours:[lo.config({}),So.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(i.length>0?[mo("toolbarToggleButtonWith",i)]:[]),getApi:bG,onSetup:t.onSetup},s),_G=(t,s,i)=>u=>cl.nu(m=>s.fetch(m)).map(m=>P.from(uD(Js(YC(_n("menu-value"),m,b=>{s.onItemAction(t(u),b)},s.columns,s.presets,wp.CLOSE_ON_EXECUTE,s.select.getOr(wt),i),{movement:KC(s.columns,s.presets),menuBehaviours:FC.unnamedEvents(s.columns!=="auto"?[]:[Tr((b,w)=>{$I(b,4,jP(s.presets)).each(({numRows:O,numColumns:M})=>{Bn.setGridSize(b,O,M)})})])})))),EG=(t,s)=>{const i=b=>({isEnabled:()=>!no.isDisabled(b),setEnabled:w=>no.set(b,!w),setIconFill:(w,O)=>{Nr(b.element,`svg path[id="${w}"], rect[id="${w}"]`).each(M=>{co(M,"fill",O)})},setActive:w=>{co(b.element,"aria-pressed",w),Nr(b.element,"span").each(O=>{b.getSystem().getByDom(O).each(M=>So.set(M,w))})},isActive:()=>Nr(b.element,"span").exists(w=>b.getSystem().getByDom(w).exists(So.isOn)),setText:w=>Nr(b.element,"span").each(O=>b.getSystem().getByDom(O).each(M=>Mn(M,Af,{text:w}))),setIcon:w=>Nr(b.element,"span").each(O=>b.getSystem().getByDom(O).each(M=>Mn(M,By,{icon:w})))}),u=Wn(K),m={getApi:i,onSetup:t.onSetup};return Y2.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...rF(t.tooltip,s.providers)}},onExecute:b=>{const w=i(b);w.isEnabled()&&t.onAction(w)},onItemExecute:(b,w,O)=>{},splitDropdownBehaviours:kt([im.splitButton(s.providers.isDisabled),Za(),mo("split-dropdown-events",[Tr((b,w)=>fS(b)),Dt(iF,jn.focus),Nb(m,u),Oy(m,u)]),sS.config({})]),eventOrder:{[sf()]:["alloy.base.behaviour","split-dropdown-events"]},toggleClass:"tox-tbtn--enabled",lazySink:s.getSink,fetch:_G(i,t,s.providers),parts:{menu:pA(!1,t.columns,t.presets)},components:[Y2.parts.button(sM(t.icon,t.text,P.none(),P.some([So.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),s.providers)),Y2.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:hP("chevron-down",s.providers.icons)},buttonBehaviours:kt([im.splitButton(s.providers.isDisabled),Za(),TC()])}),Y2.parts["aria-descriptor"]({text:s.providers.translate("To open the popup, press Shift+Enter")})]})},dF=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],Vb=(t,s)=>(i,u,m)=>{const b=t(i).mapError(w=>Cc(w)).getOrDie();return s(b,u,m)},wG={button:Vb(dL,(t,s)=>cF(t,s.shared.providers)),togglebutton:Vb(SA,(t,s)=>rM(t,s.shared.providers)),menubutton:Vb(sB,(t,s)=>gS(t,"tox-tbtn",s,P.none())),splitbutton:Vb(VW,(t,s)=>EG(t,s.shared)),grouptoolbarbutton:Vb(oB,(t,s,i)=>{const u=i.ui.registry.getAll().buttons,m=w=>X2(i,{buttons:u,toolbar:w,allowToolbarGroups:!1},s,P.none()),b={[B1]:s.shared.header.isPositionedAtTop()?pf.TopToBottom:pf.BottomToTop};switch(HE(i)){case Cf.floating:return yG(t,s,m,b);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})},K2=(t,s,i)=>an(wG,t.type).fold(()=>(console.error("skipping button defined by",t),P.none()),u=>P.some(u(t,s,i))),$S={styles:mG,fontsize:lG,fontsizeinput:fG,fontfamily:tG,blocks:Q9,align:K9},fF=t=>{const s=et(dF,i=>{const u=uo(i.items,m=>Ho(t,m)||Ho($S,m));return{name:i.name,items:u}});return uo(s,i=>i.items.length>0)},TG=t=>{const s=t.split("|");return et(s,i=>({items:i.trim().split(" ")}))},CG=t=>me(t,s=>Ho(s,"name")&&Ho(s,"items")),SG=t=>{const s=t.toolbar,i=t.buttons;return s===!1?[]:s===void 0||s===!0?fF(i):B(s)?TG(s):CG(s)?s:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},xG=(t,s,i,u,m,b)=>an(s,i.toLowerCase()).orThunk(()=>b.bind(w=>nr(w,O=>an(s,O+i.toLowerCase())))).fold(()=>an($S,i.toLowerCase()).map(w=>w(t,m)),w=>w.type==="grouptoolbarbutton"&&!u?(console.warn(`Ignoring the '${i}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),P.none()):K2(w,m,t)),X2=(t,s,i,u)=>{const m=SG(s),b=et(m,w=>{const O=mt(w.items,M=>M.trim().length===0?[]:xG(t,s.buttons,M,s.allowToolbarGroups,i,u).toArray());return{title:P.from(t.translate(w.name)),items:O}});return uo(b,w=>w.items.length>0)},hF=(t,s,i,u)=>{const m=s.mainUi.outerContainer,b=i.toolbar,w=i.buttons;if(me(b,B)){const O=b.map(M=>{const F={toolbar:M,buttons:w,allowToolbarGroups:i.allowToolbarGroups};return X2(t,F,u,P.none())});Ar.setToolbars(m,O)}else Ar.setToolbar(m,X2(t,i,u,P.none()))},BS=Mt(),mF=BS.os.isiOS()&&BS.os.version.major<=12,pF=(t,s)=>{const{uiMotherships:i}=s,u=t.dom;let m=t.getWin();const b=t.getDoc().documentElement,w=Wn(Kn(m.innerWidth,m.innerHeight)),O=Wn(Kn(b.offsetWidth,b.offsetHeight)),M=()=>{const te=w.get();(te.left!==m.innerWidth||te.top!==m.innerHeight)&&(w.set(Kn(m.innerWidth,m.innerHeight)),PA(t))},F=()=>{const te=t.getDoc().documentElement,ae=O.get();(ae.left!==te.offsetWidth||ae.top!==te.offsetHeight)&&(O.set(Kn(te.offsetWidth,te.offsetHeight)),PA(t))},G=te=>{zL(t,te)};u.bind(m,"resize",M),u.bind(m,"scroll",G);const Q=L1(Qe.fromDom(t.getBody()),"load",F);t.on("hide",()=>{It(i,te=>{J(te.element,"display","none")})}),t.on("show",()=>{It(i,te=>{st(te.element,"display")})}),t.on("NodeChange",F),t.on("remove",()=>{Q.unbind(),u.unbind(m,"resize",M),u.unbind(m,"scroll",G),m=null})},gF=(t,s,i)=>{Ob(t)&&wg(i.mainUi.mothership.element,i.popupUi.mothership),ty(s,i.dialogUi.mothership)};var OG=Object.freeze({__proto__:null,render:async(t,s,i,u,m)=>{const{mainUi:b,uiMotherships:w}=s,O=Wn(0),M=b.outerContainer;await q9(t);const F=Qe.fromDom(m.targetNode),G=Ni(Aa(F));wg(F,b.mothership),gF(t,G,s),t.on("PostRender",()=>{Ar.setSidebar(M,i.sidebar,PP(t)),hF(t,s,i,u),O.set(t.getWin().innerWidth),Ar.setMenubar(M,LB(t,i)),Ar.setViews(M,i.views),pF(t,s)});const Q=Ar.getSocket(M).getOrDie("Could not find expected socket element");if(mF){le(Q.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const Me=K$(()=>{t.dispatch("ScrollContent")},20),ot=Dc(Q.element,"scroll",Me.throttle);t.on("remove",ot.unbind)}DL(t,s),t.addCommand("ToggleSidebar",(Me,ot)=>{Ar.toggleSidebar(M,ot),t.dispatch("ToggleSidebar")}),t.addQueryValueHandler("ToggleSidebar",()=>{var Me;return(Me=Ar.whichSidebar(M))!==null&&Me!==void 0?Me:""}),t.addCommand("ToggleView",(Me,ot)=>{if(Ar.toggleView(M,ot)){const Ue=M.element;b.mothership.broadcastOn([hp()],{target:Ue}),It(w,nt=>{nt.broadcastOn([hp()],{target:Ue})}),ne(Ar.whichView(M))&&(t.focus(),t.nodeChanged())}}),t.addQueryValueHandler("ToggleView",()=>{var Me;return(Me=Ar.whichView(M))!==null&&Me!==void 0?Me:""});const te=HE(t),ae=()=>{Ar.refreshToolbar(s.mainUi.outerContainer)};(te===Cf.sliding||te===Cf.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",()=>{const Me=t.getWin().innerWidth;Me!==O.get()&&(ae(),O.set(Me))});const Te={setEnabled:Me=>{UC(s,!Me)},isEnabled:()=>!no.isDisabled(M)};return{iframeContainer:Q.element.dom,editorContainer:M.element.dom,api:Te}}});const Q2=t=>/^[0-9\.]+(|px)$/i.test(""+t)?P.some(parseInt(""+t,10)):P.none(),iM=t=>re(t)?t+"px":t,J2=(t,s,i)=>{const u=s.filter(b=>t<b),m=i.filter(b=>t>b);return u.or(m).getOr(t)},RG=t=>{const s=AC(t),i=OC(t),u=aA(t);return Q2(s).map(m=>J2(m,i,u))},IG=t=>RG(t).getOr(AC(t)),vF=t=>{const s=sA(t),i=rA(t),u=iA(t);return Q2(s).map(m=>J2(m,i,u))},DG=t=>vF(t).getOr(sA(t)),{ToolbarLocation:aM,ToolbarMode:bF}=iV,yF=40,NG=(t,s,i,u,m)=>{const{mainUi:b,uiMotherships:w}=i,O=CC.DOM,M=Ey(t),F=zE(t),G=iA(t).or(vF(t)),Q=u.shared.header,te=Q.isPositionedAtTop,ae=HE(t),Te=ae===bF.sliding||ae===bF.floating,Me=Wn(!1),ot=()=>Me.get()&&!t.removed,Ue=Xn=>Te?Xn.fold(Ee(0),As=>As.components().length>1?Tn(As.components()[1].element):0):0,nt=Xn=>{switch(lA(t)){case aM.auto:const As=Ar.getToolbar(b.outerContainer),Wt=Ue(As),Sn=Tn(Xn.element)-Wt,gn=es(s);if(gn.y>Sn)return"top";{const Eo=Jc(s),Jo=Math.max(Eo.dom.scrollHeight,Tn(Eo));return gn.bottom<Jo-Sn||Da().bottom<gn.bottom-Sn?"bottom":"top"}case aM.bottom:return"bottom";case aM.top:default:return"top"}},dt=Xn=>{m.on(As=>{$a.setModes(As,[Xn]),Q.setDockingMode(Xn);const Wt=te()?pf.TopToBottom:pf.BottomToTop;co(As.element,B1,Wt)})},gt=()=>{m.on(Xn=>{const As=G.getOrThunk(()=>{const Wt=Q2(we(Qi(),"margin-left")).getOr(0);return ur(Qi())-Ao(s).left+Wt});J(Xn.element,"max-width",As+"px")})},Qt=Xn=>{m.on(As=>{const Wt=Ar.getToolbar(b.outerContainer),Sn=Ue(Wt),gn=es(s),{top:Yn,left:Eo}=Pt(t,b.outerContainer.element).fold(()=>({top:te()?Math.max(gn.y-Tn(As.element)+Sn,0):gn.bottom,left:gn.x}),Es=>{var su;const pi=es(Es),hh=(su=Es.dom.scrollTop)!==null&&su!==void 0?su:0,bm=bs(Es,Qi()),gv=bm?Math.max(gn.y-Tn(As.element)+Sn,0):gn.y-pi.y+hh-Tn(As.element)+Sn;return{top:te()?gv:gn.bottom,left:bm?gn.x:gn.x-pi.x}}),Jo={position:"absolute",left:Math.round(Eo)+"px",top:Math.round(Yn)+"px"},aa=Xn.map(Es=>{const su=Xt(),pi=150,hh=window.innerWidth-(Eo-su.left);return{width:Math.max(Math.min(Es,hh),pi)+"px"}}).getOr({});le(b.outerContainer.element,{...Jo,...aa})})},Pt=(Xn,As)=>Ob(Xn)?xS(As):P.none(),ln=()=>{It(w,Xn=>{Xn.broadcastOn([mb()],{})})},An=()=>{if(M)return P.none();if(Ao(b.outerContainer.element).left+Ir(b.outerContainer.element)>=window.innerWidth-yF||rt(b.outerContainer.element,"width").isSome()){J(b.outerContainer.element,"position","absolute"),J(b.outerContainer.element,"left","0px"),st(b.outerContainer.element,"width");const As=Ir(b.outerContainer.element);return P.some(As)}else return P.none()},$o=Xn=>{if(!ot())return;M||gt();const As=M?P.none():An();Te&&Ar.refreshToolbar(b.outerContainer),M||Qt(As),F&&m.on(Xn),ln()},Fn=()=>M||!F||!ot()?!1:m.get().exists(Xn=>{const As=Q.getDockingMode(),Wt=nt(Xn);return Wt!==As?(dt(Wt),!0):!1});return{isVisible:ot,isPositionedAtTop:te,show:()=>{Me.set(!0),J(b.outerContainer.element,"display","flex"),O.addClass(t.getBody(),"mce-edit-focus"),It(w,Xn=>{st(Xn.element,"display")}),Fn(),Ob(t)?$o(Xn=>$a.isDocked(Xn)?$a.reset(Xn):$a.refresh(Xn)):$o($a.refresh)},hide:()=>{Me.set(!1),J(b.outerContainer.element,"display","none"),O.removeClass(t.getBody(),"mce-edit-focus"),It(w,Xn=>{J(Xn.element,"display","none")})},update:$o,updateMode:()=>{Fn()&&$o($a.reset)},repositionPopups:ln}},cM=(t,s)=>{const i=es(t);return{pos:s?i.y:i.bottom,bounds:i}},MG=(t,s,i,u)=>{const m=Wn(cM(s,i.isPositionedAtTop())),b=F=>{const{pos:G,bounds:Q}=cM(s,i.isPositionedAtTop()),{pos:te,bounds:ae}=m.get(),Te=Q.height!==ae.height||Q.width!==ae.width;m.set({pos:G,bounds:Q}),Te&&PA(t,F),i.isVisible()&&(te!==G?i.update($a.reset):Te&&(i.updateMode(),i.repositionPopups()))};u||(t.on("activate",i.show),t.on("deactivate",i.hide)),t.on("SkinLoaded ResizeWindow",()=>i.update($a.reset)),t.on("NodeChange keydown",F=>{requestAnimationFrame(()=>b(F))});let w=0;const O=oN(()=>i.update($a.refresh),33);t.on("ScrollWindow",()=>{const F=Xt().left;F!==w&&(w=F,O.throttle()),i.updateMode()}),Ob(t)&&t.on("ElementScroll",F=>{i.update($a.refresh)});const M=_u();M.set(L1(Qe.fromDom(t.getBody()),"load",F=>b(F.raw))),t.on("remove",()=>{M.clear()})};var kG=Object.freeze({__proto__:null,render:async(t,s,i,u,m)=>{const{mainUi:b}=s,w=Zs(),O=Qe.fromDom(m.targetNode),M=NG(t,O,s,u,w),F=uA(t);await j9(t);const G=()=>{if(w.isSet()){M.show();return}w.set(Ar.getHeader(b.outerContainer).getOrDie());const te=DC(t);Ob(t)?(wg(O,b.mothership),wg(O,s.popupUi.mothership)):ty(te,b.mothership),ty(te,s.dialogUi.mothership),hF(t,s,i,u),Ar.setMenubar(b.outerContainer,LB(t,i)),M.show(),MG(t,O,M,F),t.nodeChanged()};t.on("show",G),t.on("hide",M.hide),F||(t.on("focus",G),t.on("blur",M.hide)),t.on("init",()=>{(t.hasFocus()||F)&&G()}),DL(t,s);const Q={show:G,hide:M.hide,setEnabled:te=>{UC(s,!te)},isEnabled:()=>!no.isDisabled(b.outerContainer)};return{editorContainer:b.outerContainer.element.dom,api:Q}}});const PG=()=>{const t=Zs(),s=Zs(),i=Zs();return{dialogUi:t,popupUi:s,mainUi:i,getUiMotherships:()=>{const b=t.get().map(O=>O.mothership),w=s.get().map(O=>O.mothership);return b.fold(()=>w.toArray(),O=>w.fold(()=>[O],M=>bs(O.element,M.element)?[O]:[O,M]))},lazyGetInOuterOrDie:(b,w)=>()=>i.get().bind(O=>w(O.outerContainer)).getOrDie(`Could not find ${b} element in OuterContainer`)}},LG="contexttoolbar-show",gw="contexttoolbar-hide",_F=t=>({hide:()=>ss(t,$m()),getValue:()=>fn.getValue(t)}),EF=(t,s)=>Dt(A$,(i,u)=>{const m=t.get(i),b=_F(m);s.onAction(b,u.event.buttonApi)}),$G=(t,s,i)=>{const{primary:u,...m}=s.original,b=Po(dL({...m,type:"button",onAction:K}));return lF(b,i,[EF(t,s)])},wF=(t,s,i)=>{const{primary:u,...m}=s.original,b=Po(SA({...m,type:"togglebutton",onAction:K}));return uF(b,i,[EF(t,s)])},lM=t=>t.type==="contextformtogglebutton",TF=(t,s,i)=>lM(s)?wF(t,s,i):$G(t,s,i),CF=(t,s,i)=>{const u=et(s,w=>zo(TF(t,w,i)));return{asSpecs:()=>et(u,w=>w.asSpec()),findPrimary:w=>nr(s,(O,M)=>O.primary?P.from(u[M]).bind(F=>F.getOpt(w)).filter(ke(no.isDisabled)):P.none())}},SF=(t,s)=>{const i=t.label.fold(()=>({}),b=>({"aria-label":b})),u=zo(Ty.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:i,selectOnFocus:!0,inputBehaviours:kt([Bn.config({mode:"special",onEnter:b=>m.findPrimary(b).map(w=>(rf(w),!0)),onLeft:(b,w)=>(w.cut(),P.none()),onRight:(b,w)=>(w.cut(),P.none())})])})),m=CF(u,t.commands,s);return[{title:P.none(),items:[u.asSpec()]},{title:P.none(),items:m.asSpecs()}]},eO={renderContextForm:(t,s,i)=>MS({type:t,uid:_n("context-toolbar"),initGroups:SF(s,i),onEscape:P.none,cyclicKeying:!0,providers:i}),buildInitGroups:SF},tO=(t,s,i)=>s.bottom-t.y>=i&&t.bottom-s.y>=i,xF=t=>{const s=t.getBoundingClientRect();if(s.height<=0&&s.width<=0){const i=Nf(Qe.fromDom(t.startContainer),t.startOffset).element;return(si(i)?_c(i):P.some(i)).filter(Cs).map(m=>m.dom.getBoundingClientRect()).getOr(s)}else return s},nO=t=>{const s=t.selection.getRng(),i=xF(s);if(t.inline){const u=Xt();return Ps(u.left+i.left,u.top+i.top,i.width,i.height)}else{const u=pl(Qe.fromDom(t.getBody()));return Ps(u.x+i.left,u.y+i.top,i.width,i.height)}},BG=(t,s)=>s.filter(i=>nc(i)&&ad(i)).map(pl).getOrThunk(()=>nO(t)),AF=(t,s,i)=>{const u=Math.max(t.x+i,s.x),m=Math.min(t.right-i,s.right);return{x:u,width:m-u}},FG=(t,s,i,u,m,b)=>{const w=Qe.fromDom(t.getContainer()),O=Nr(w,".tox-editor-header").getOr(w),M=es(O),F=M.y>=s.bottom,G=u&&!F;if(t.inline&&G)return{y:Math.max(M.bottom+b,i.y),bottom:i.bottom};if(t.inline&&!G)return{y:i.y,bottom:Math.min(M.y-b,i.bottom)};const Q=m==="line"?es(w):s;return G?{y:Math.max(M.bottom+b,i.y),bottom:Math.min(Q.bottom-b,i.bottom)}:{y:Math.max(Q.y+b,i.y),bottom:Math.min(M.y-b,i.bottom)}},OF=(t,s,i,u=0)=>{const m=bo(window),b=es(Qe.fromDom(t.getContentAreaContainer())),w=Ig(t)||VE(t)||UE(t),{x:O,width:M}=AF(b,m,u);if(t.inline&&!w)return Ps(O,m.y,M,m.height);{const F=s.header.isPositionedAtTop(),{y:G,bottom:Q}=FG(t,b,m,F,i,u);return Ps(O,G,M,Q-G)}},oO=12,RF={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},IF={maxHeightFunction:Zh(),maxWidthFunction:WN()},DF=(t,s)=>{const i=t.selection.getRng(),u=Nf(Qe.fromDom(i.startContainer),i.startOffset);return i.startContainer===i.endContainer&&i.startOffset===i.endOffset-1&&bs(u.element,s)},sO=(t,s,i)=>{const u=rt(t,"position");J(t,"position",s);const m=i(t);return u.each(b=>J(t,"position",b)),m},uM=t=>t==="node",NF=(t,s,i,u,m)=>{const b=nO(t),w=u.lastElement().exists(O=>bs(i,O));if(DF(t,i))return w?g3:Vg;if(w)return sO(s,u.getMode(),()=>tO(b,es(s),-20)&&!u.isReposition()?kz:g3);{const O=u.getMode()==="fixed"?m.y+Xt().top:m.y,M=Tn(s)+oO;return O+M<=b.y?Vg:wS}},dM=(t,s,i,u)=>{const m=M=>(F,G,Q,te,ae)=>{const Te=NF(t,te,M,i,ae),Me={...F,y:ae.y,height:ae.height};return{...Te(Me,G,Q,te,ae),alwaysFit:!0}},b=M=>uM(u)?[m(M)]:[];return s?{onLtr:M=>[ka,ba,Ui,Wc,Ol,Is].concat(b(M)),onRtl:M=>[ka,Ui,ba,Ol,Wc,Is].concat(b(M))}:{onLtr:M=>[Is,ka,Wc,ba,Ol,Ui].concat(b(M)),onRtl:M=>[Is,ka,Ol,Ui,Wc,ba].concat(b(M))}},HG=(t,s,i,u)=>s==="line"?{bubble:Od(oO,0,RF),layouts:{onLtr:()=>[Xu],onRtl:()=>[Jf]},overrides:IF}:{bubble:Od(0,oO,RF,1/oO),layouts:dM(t,i,u,s),overrides:IF},rO=(t,s)=>{const i=uo(s,b=>b.predicate(t.dom)),{pass:u,fail:m}=cs(i,b=>b.type==="contexttoolbar");return{contextToolbars:u,contextForms:m}},VG=t=>{if(t.length<=1)return t;{const s=b=>Bo(t,w=>w.position===b),i=b=>uo(t,w=>w.position===b),u=s("selection"),m=s("node");if(u||m)if(m&&u){const b=i("node"),w=et(i("selection"),O=>({...O,position:"node"}));return b.concat(w)}else return i(u?"selection":"node");else return i("line")}},UG=t=>{if(t.length<=1)return t;{const s=u=>kn(t,m=>m.position===u);return s("selection").orThunk(()=>s("node")).orThunk(()=>s("line")).map(u=>u.position).fold(()=>[],u=>uo(t,m=>m.position===u))}},iO=(t,s,i)=>{const u=rO(t,s);if(u.contextForms.length>0)return P.some({elem:t,toolbars:[u.contextForms[0]]});{const m=rO(t,i);if(m.contextForms.length>0)return P.some({elem:t,toolbars:[m.contextForms[0]]});if(u.contextToolbars.length>0||m.contextToolbars.length>0){const b=VG(u.contextToolbars.concat(m.contextToolbars));return P.some({elem:t,toolbars:b})}else return P.none()}},MF=(t,s,i)=>t(s)?P.none():u1(s,u=>{if(Cs(u)){const{contextToolbars:m,contextForms:b}=rO(u,i.inNodeScope),w=b.length>0?b:UG(m);return w.length>0?P.some({elem:u,toolbars:w}):P.none()}else return P.none()},t),zG=(t,s)=>{const i=Qe.fromDom(s.getBody()),u=w=>bs(w,i),m=w=>!u(w)&&!ec(i,w),b=Qe.fromDom(s.selection.getNode());return m(b)?P.none():iO(b,t.inNodeScope,t.inEditorScope).orThunk(()=>MF(u,b,t))},WG=(t,s)=>{const i={},u=[],m=[],b={},w={},O=(G,Q)=>{const te=Po(pL(Q));i[G]=te,te.launch.map(ae=>{b["form:"+G]={...Q.launch,type:ae.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{s(te)}}}),te.scope==="editor"?m.push(te):u.push(te),w[G]=te},M=(G,Q)=>{DV(Q).each(te=>{Q.scope==="editor"?m.push(te):u.push(te),w[G]=te})},F=Os(t);return It(F,G=>{const Q=t[G];Q.type==="contextform"?O(G,Q):Q.type==="contexttoolbar"&&M(G,Q)}),{forms:i,inNodeScope:u,inEditorScope:m,lookupTable:w,formNavigators:b}},kF=_n("forward-slide"),PF=_n("backward-slide"),fM=_n("change-slide-event"),aO="tox-pop--resizing",LF=t=>{const s=Wn([]);return ra.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:i=>{s.set([]),ra.getContent(i).each(u=>{st(u.element,"visibility")}),Ls(i.element,aO),st(i.element,"width")},inlineBehaviours:kt([mo("context-toolbar-events",[qa(Lh(),(i,u)=>{u.event.raw.propertyName==="width"&&(Ls(i.element,aO),st(i.element,"width"))}),Dt(fM,(i,u)=>{const m=i.element;st(m,"width");const b=ur(m);ra.setContent(i,u.event.contents),xs(m,aO);const w=ur(m);J(m,"width",b+"px"),ra.getContent(i).each(O=>{u.event.focus.bind(M=>(il(M),Xl(m))).orThunk(()=>(Bn.focusIn(O),Ad(Aa(m))))}),setTimeout(()=>{J(i.element,"width",w+"px")},0)}),Dt(kF,(i,u)=>{ra.getContent(i).each(m=>{s.set(s.get().concat([{bar:m,focus:Ad(Aa(i.element))}]))}),Mn(i,fM,{contents:u.event.forwardContents,focus:P.none()})}),Dt(PF,(i,u)=>{jc(s.get()).each(m=>{s.set(s.get().slice(0,s.get().length-1)),Mn(i,fM,{contents:rl(m.bar),focus:m.focus})})})]),Bn.config({mode:"special",onEscape:i=>jc(s.get()).fold(()=>t.onEscape(),u=>(ss(i,PF),P.some(!0)))})]),lazySink:()=>ro.value(t.sink)})},hM="tox-pop--transition",GG=(t,s,i,u)=>{const m=u.backstage,b=m.shared,w=Mt().deviceType.isTouch,O=Zs(),M=Zs(),F=Zs(),G=dc(LF({sink:i,onEscape:()=>(t.focus(),P.some(!0))})),Q=()=>{const Fn=F.get().getOr("node"),Mo=uM(Fn)?1:0;return OF(t,b,Fn,Mo)},te=()=>!t.removed&&!(w()&&m.isContextMenuOpen()),ae=Fn=>gc(id(Fn,O.get(),bs),!0),Te=()=>{if(te()){const Fn=Q(),Mo=gc(F.get(),"node")?BG(t,O.get()):nO(t);return Fn.height<=0||!tO(Mo,Fn,.01)}else return!0},Me=()=>{O.clear(),M.clear(),F.clear(),ra.hide(G)},ot=()=>{if(ra.isOpen(G)){const Fn=G.element;st(Fn,"display"),Te()?J(Fn,"display","none"):(M.set(0),ra.reposition(G))}},Ue=Fn=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Fn],behaviours:kt([Bn.config({mode:"acyclic"}),mo("pop-dialog-wrap-events",[Tr(Mo=>{t.shortcuts.add("ctrl+F9","focus statusbar",()=>Bn.focusIn(Mo))}),xc(Mo=>{t.shortcuts.remove("ctrl+F9")})])])}),nt=Ei(()=>WG(s,Fn=>{const Mo=Qt([Fn]);Mn(G,kF,{forwardContents:Ue(Mo)})})),dt=(Fn,Mo)=>X2(t,{buttons:Fn,toolbar:Mo.items,allowToolbarGroups:!1},u.backstage,P.some(["form:"])),gt=(Fn,Mo)=>eO.buildInitGroups(Fn,Mo),Qt=Fn=>{const{buttons:Mo}=t.ui.registry.getAll(),oo=nt(),Io={...Mo,...oo.formNavigators},Xn=HE(t)===Cf.scrolling?Cf.scrolling:Cf.default,As=Yt(et(Fn,Wt=>Wt.type==="contexttoolbar"?dt(Io,Wt):gt(Wt,b.providers)));return MS({type:Xn,uid:_n("context-toolbar"),initGroups:As,onEscape:P.none,cyclicKeying:!0,providers:b.providers})},Pt=(Fn,Mo)=>{const oo=Fn==="node"?b.anchors.node(Mo):b.anchors.cursor(),Io=HG(t,Fn,w(),{lastElement:O.get,isReposition:()=>gc(M.get(),0),getMode:()=>Ws.getMode(i)});return Js(oo,Io)},ln=(Fn,Mo)=>{if($o.cancel(),!te())return;const oo=Qt(Fn),Io=Fn[0].position,Xn=Pt(Io,Mo);F.set(Io),M.set(1);const As=G.element;st(As,"display"),ae(Mo)||(Ls(As,hM),Ws.reset(i,G)),ra.showWithinBounds(G,Ue(oo),{anchor:Xn,transition:{classes:[hM],mode:"placement"}},()=>P.some(Q())),Mo.fold(O.clear,O.set),Te()&&J(As,"display","none")};let An=!1;const $o=oN(()=>{if(!(!t.hasFocus()||t.removed||An))if(oa(G.element,hM))$o.throttle();else{const Fn=nt();zG(Fn,t).fold(Me,Mo=>{ln(Mo.toolbars,P.some(Mo.elem))})}},17);t.on("init",()=>{t.on("remove",Me),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",ot),t.on("click keyup focus SetContent",$o.throttle),t.on(gw,Me),t.on(LG,Fn=>{const Mo=nt();an(Mo.lookupTable,Fn.toolbarKey).each(oo=>{ln([oo],qn(Fn.target!==t,Fn.target)),ra.getContent(G).each(Bn.focusIn)})}),t.on("focusout",Fn=>{Ep.setEditorTimeout(t,()=>{Xl(i.element).isNone()&&Xl(G.element).isNone()&&Me()},0)}),t.on("SwitchMode",()=>{t.mode.isReadOnly()&&Me()}),t.on("AfterProgressState",Fn=>{Fn.state?Me():t.hasFocus()&&$o.throttle()}),t.on("dragstart",()=>{An=!0}),t.on("dragend drop",()=>{An=!1}),t.on("NodeChange",Fn=>{Xl(G.element).fold($o.throttle,K)})})},$F=t=>{It([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],i=>{t.ui.registry.addToggleButton(i.name,{tooltip:i.text,icon:i.icon,onAction:Of(t,i.cmd),onSetup:j2(t,i.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:Of(t,"JustifyNone")})},BF=(t,s)=>{const i=()=>{const u=s.getOptions(t),m=s.getCurrent(t).map(s.hash),b=Zs();return et(u,w=>({type:"togglemenuitem",text:s.display(w),onSetup:O=>{const M=G=>{G&&(b.on(Q=>Q.setActive(!1)),b.set(O)),O.setActive(G)};M(gc(m,s.hash(w)));const F=s.watcher(t,w,M);return()=>{b.clear(),F()}},onAction:()=>s.setCurrent(t,w)}))};t.ui.registry.addMenuButton(s.name,{tooltip:s.text,icon:s.icon,fetch:u=>u(i()),onSetup:s.onToolbarSetup}),t.ui.registry.addNestedMenuItem(s.name,{type:"nestedmenuitem",text:s.text,getSubmenuItems:i,onSetup:s.onMenuSetup})},qG={name:"lineheight",text:"Line height",icon:"line-height",getOptions:BP,hash:t=>QB(t,["fixed","relative","empty"]).getOr(t),display:qe,watcher:(t,s,i)=>t.formatter.formatChanged("lineheight",i,!1,{value:s}).unbind,getCurrent:t=>P.from(t.queryCommandValue("LineHeight")),setCurrent:(t,s)=>t.execCommand("LineHeight",!1,s)},jG=t=>P.from(aI(t)).map(i=>({name:"language",text:"Language",icon:"language",getOptions:Ee(i),hash:u=>ie(u.customCode)?u.code:`${u.code}/${u.customCode}`,display:u=>u.title,watcher:(u,m,b)=>{var w;return u.formatter.formatChanged("lang",b,!1,{value:m.code,customValue:(w=m.customCode)!==null&&w!==void 0?w:null}).unbind},getCurrent:u=>{const m=Qe.fromDom(u.selection.getNode());return xv(m,b=>P.some(b).filter(Cs).bind(w=>Kr(w,"lang").map(M=>{const F=Kr(w,"data-mce-lang").getOrUndefined();return{code:M,customCode:F,title:""}})))},setCurrent:(u,m)=>u.execCommand("Lang",!1,m),onToolbarSetup:u=>{const m=_u();return u.setActive(t.formatter.match("lang",{},void 0,!0)),m.set(t.formatter.formatChanged("lang",u.setActive,!0)),m.clear}})),ZG=t=>{BF(t,qG),jG(t).each(s=>BF(t,s))},YG=(t,s)=>{X9(t,s),nG(t,s),pG(t,s),J9(t,s),hG(t,s)},mM=t=>PS(t,"NodeChange",s=>{s.setEnabled(t.queryCommandState("outdent"))}),KG=t=>{t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:mM(t),onAction:Of(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:Of(t,"indent")})},XG=t=>{KG(t)},cO=(t,s)=>i=>{i.setActive(s.get());const u=m=>{s.set(m.state),i.setActive(m.state)};return t.on("PastePlainTextToggle",u),()=>t.off("PastePlainTextToggle",u)},FF=t=>{const s=Wn(lI(t)),i=()=>t.execCommand("mceTogglePlainTextPaste");t.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:i,onSetup:cO(t,s)}),t.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:i,onSetup:cO(t,s)})},lO=(t,s)=>()=>{t.execCommand("mceToggleFormat",!1,s)},QG=t=>{Ly.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(s,i)=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:j2(t,s.name),onAction:lO(t,s.name)})});for(let s=1;s<=6;s++){const i="h"+s;t.ui.registry.addToggleButton(i,{text:i.toUpperCase(),tooltip:"Heading "+s,onSetup:j2(t,i),onAction:lO(t,i)})}},JG=t=>{Ly.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"print",text:"Print",action:"mcePrint",icon:"print"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onAction:Of(t,s.action)})})},eq=t=>{Ly.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],s=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onAction:Of(t,s.action),onSetup:j2(t,s.name)})})},tq=t=>{QG(t),JG(t),eq(t)},nq=t=>{Ly.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onAction:Of(t,s.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:lO(t,"code")})},HF=t=>{tq(t),nq(t)},uO=(t,s)=>PS(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",i=>{i.setEnabled(!t.mode.isReadOnly()&&t.undoManager[s]())}),VF=t=>{t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:uO(t,"hasUndo"),onAction:Of(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:uO(t,"hasRedo"),onAction:Of(t,"redo")})},oq=t=>{t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:uO(t,"hasUndo"),onAction:Of(t,"undo")}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:uO(t,"hasRedo"),onAction:Of(t,"redo")})},sq=t=>{VF(t),oq(t)},pM=t=>PS(t,"VisualAid",s=>{s.setActive(t.hasVisual)}),UF=t=>{t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:pM(t),onAction:Of(t,"mceToggleVisualAid")})},rq=t=>{t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:Of(t,"mceToggleVisualAid")})},iq=t=>{rq(t),UF(t)},gM=(t,s)=>{$F(t),HF(t),YG(t,s),sq(t),eD(t),iq(t),XG(t),ZG(t),FF(t)},aq=t=>B(t)?t.split(/[ ,]/):t,zF=t=>s=>s.options.get(t),cq=t=>{const s=t.options.register;s("contextmenu_avoid_overlap",{processor:"string",default:""}),s("contextmenu_never_use_native",{processor:"boolean",default:!1}),s("contextmenu",{processor:i=>i===!1?{value:[],valid:!0}:B(i)||me(i,B)?{value:aq(i),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},WF=zF("contextmenu_never_use_native"),lq=zF("contextmenu_avoid_overlap"),GF=t=>qF(t).length===0,qF=t=>{const s=t.ui.registry.getAll().contextMenus,i=t.options.get("contextmenu");return t.options.isSet("contextmenu")?i:uo(i,u=>Ho(s,u))},HS=(t,s)=>({type:"makeshift",x:t,y:s}),uq=(t,s,i)=>HS(t.x+s,t.y+i),jF=t=>t.type==="longpress"||t.type.indexOf("touch")===0,dq=t=>{if(jF(t)){const s=t.touches[0];return HS(s.pageX,s.pageY)}else return HS(t.pageX,t.pageY)},fq=t=>{if(jF(t)){const s=t.touches[0];return HS(s.clientX,s.clientY)}else return HS(t.clientX,t.clientY)},hq=(t,s)=>{const i=CC.DOM.getPos(t);return uq(s,i.x,i.y)},mq=(t,s)=>s.type==="contextmenu"||s.type==="longpress"?t.inline?dq(s):hq(t.getContentAreaContainer(),fq(s)):vM(t),vM=t=>({type:"selection",root:Qe.fromDom(t.selection.getNode())}),pq=t=>({type:"node",node:P.some(Qe.fromDom(t.selection.getNode())),root:Qe.fromDom(t.getBody())}),bM=(t,s,i)=>{switch(i){case"node":return pq(t);case"point":return mq(t,s);case"selection":return vM(t)}},gq=(t,s,i,u,m,b)=>{const w=i(),O=bM(t,s,b);Fy(w,wp.CLOSE_ON_EXECUTE,u,{isHorizontalMenu:!1,search:P.none()}).map(M=>{s.preventDefault(),ra.showMenuAt(m,{anchor:O},{menu:{markers:wy("normal")},data:M})})},vq={onLtr:()=>[ka,ba,Ui,Wc,Ol,Is,Vg,wS,ES,yS,_S,lw],onRtl:()=>[ka,Ui,ba,Ol,Wc,Is,Vg,wS,_S,lw,ES,yS]},bq=12,qy={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},ZF=(t,s)=>{const i=t.selection;if(i.isCollapsed()||s.touches.length<1)return!1;{const u=s.touches[0],m=i.getRng();return G1(t.getWin(),th.domRange(m)).exists(w=>w.left<=u.clientX&&w.right>=u.clientX&&w.top<=u.clientY&&w.bottom>=u.clientY)}},yq=t=>{const s=t.selection.getRng(),i=()=>{Ep.setEditorTimeout(t,()=>{t.selection.setRng(s)},10),b()};t.once("touchend",i);const u=w=>{w.preventDefault(),w.stopImmediatePropagation()};t.on("mousedown",u,!0);const m=()=>b();t.once("longpresscancel",m);const b=()=>{t.off("touchend",i),t.off("longpresscancel",m),t.off("mousedown",u)}},_q=(t,s,i)=>{const u=bM(t,s,i);return{bubble:Od(0,i==="point"?bq:0,qy),layouts:vq,overrides:{maxWidthFunction:WN(),maxHeightFunction:Zh()},...u}},Eq=(t,s,i,u,m,b,w)=>{const O=_q(t,s,b);Fy(i,wp.CLOSE_ON_EXECUTE,u,{isHorizontalMenu:!0,search:P.none()}).map(M=>{s.preventDefault();const F=w?Su.HighlightMenuAndItem:Su.HighlightNone;ra.showMenuWithinBounds(m,{anchor:O},{menu:{markers:wy("normal"),highlightOnOpen:F},data:M,type:"horizontal"},()=>P.some(OF(t,u.shared,b==="node"?"node":"selection"))),t.dispatch(gw)})},wq=(t,s,i,u,m,b)=>{const w=Mt(),O=w.os.isiOS(),M=w.os.isMacOS(),F=w.os.isAndroid(),G=w.deviceType.isTouch(),Q=()=>!(F||O||M&&G),te=()=>{const ae=i();Eq(t,s,ae,u,m,b,Q())};if((M||O)&&b!=="node"){const ae=()=>{yq(t),te()};ZF(t,s)?ae():(t.once("selectionchange",ae),t.once("touchend",()=>t.off("selectionchange",ae)))}else te()},yM=t=>B(t)?t==="|":t.type==="separator",_M={type:"separator"},YF=t=>{const s=i=>({text:i.text,icon:i.icon,enabled:i.enabled,shortcut:i.shortcut});if(B(t))return t;switch(t.type){case"separator":return _M;case"submenu":return{type:"nestedmenuitem",...s(t),getSubmenuItems:()=>{const u=t.getSubmenuItems();return B(u)?u:et(u,YF)}};default:const i=t;return{type:"menuitem",...s(i),onAction:De(i.onAction)}}},KF=(t,s)=>{if(s.length===0)return t;const u=jc(t).filter(m=>!yM(m)).fold(()=>[],m=>[_M]);return t.concat(u).concat(s).concat([_M])},Tq=(t,s,i)=>{const u=gs(s,(m,b)=>an(t,b.toLowerCase()).map(w=>{const O=w.update(i);if(B(O))return KF(m,O.split(" "));if(O.length>0){const M=et(O,YF);return KF(m,M)}else return m}).getOrThunk(()=>m.concat([b])),[]);return u.length>0&&yM(u[u.length-1])&&u.pop(),u},Cq=(t,s)=>s.ctrlKey&&!WF(t),Sq=t=>t.type==="longpress"||Ho(t,"touches"),XF=(t,s)=>!Sq(s)&&(s.button!==2||s.target===t.getBody()&&s.pointerType===""),QF=(t,s)=>XF(t,s)?t.selection.getStart(!0):s.target,JF=(t,s)=>{const i=lq(t),u=XF(t,s)?"selection":"point";if(Sa(i)){const m=QF(t,s);return JC(Qe.fromDom(m),i)?"node":u}else return u},e5=(t,s,i)=>{const m=Mt().deviceType.isTouch,b=dc(ra.sketch({dom:{tag:"div"},lazySink:s,onEscape:()=>t.focus(),onShow:()=>i.setContextMenuState(!0),onHide:()=>i.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:kt([mo("dismissContextMenu",[Dt(pu(),(M,F)=>{Uo.close(M),t.focus()})])])})),w=()=>ra.hide(b),O=M=>{if(WF(t)&&M.preventDefault(),Cq(t,M)||GF(t))return;const F=JF(t,M),G=()=>{const te=QF(t,M),ae=t.ui.registry.getAll(),Te=qF(t);return Tq(ae.contextMenus,Te,te)};(m()?wq:gq)(t,M,G,i,b,F)};t.on("init",()=>{const M="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(m()?"":" ResizeWindow");t.on(M,w),t.on("longpress contextmenu",O)})},EM=mu.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),Ub=t=>s=>s.translate(-t.left,-t.top),dO=t=>s=>s.translate(t.left,t.top),hv=t=>(s,i)=>gs(t,(u,m)=>m(u),Kn(s,i)),vw=(t,s,i)=>t.fold(hv([dO(i),Ub(s)]),hv([Ub(s)]),hv([])),bw=(t,s,i)=>t.fold(hv([dO(i)]),hv([]),hv([dO(s)])),t5=(t,s,i)=>t.fold(hv([]),hv([Ub(i)]),hv([dO(s),Ub(i)])),xq=(t,s,i,u,m,b)=>{const w=bw(t,m,b),O=bw(s,m,b);return Math.abs(w.left-O.left)<=i&&Math.abs(w.top-O.top)<=u},Aq=(t,s,i,u,m,b)=>{const w=bw(t,m,b),O=bw(s,m,b),M=Math.abs(w.left-O.left),F=Math.abs(w.top-O.top);return Kn(M,F)},n5=(t,s,i)=>{const u=t.fold((m,b)=>({position:P.some("absolute"),left:P.some(m+"px"),top:P.some(b+"px")}),(m,b)=>({position:P.some("absolute"),left:P.some(m-i.left+"px"),top:P.some(b-i.top+"px")}),(m,b)=>({position:P.some("fixed"),left:P.some(m+"px"),top:P.some(b+"px")}));return{right:P.none(),bottom:P.none(),...u}},Oq=(t,s,i)=>t.fold((u,m)=>fO(u+s,m+i),(u,m)=>zb(u+s,m+i),(u,m)=>jy(u+s,m+i)),wM=(t,s,i,u)=>{const m=(b,w)=>(O,M)=>{const F=b(s,i,u);return w(O.getOr(F.left),M.getOr(F.top))};return t.fold(m(t5,fO),m(bw,zb),m(vw,jy))},fO=EM.offset,zb=EM.absolute,jy=EM.fixed,o5=(t,s)=>{const i=Mi(t,s);return ie(i)?NaN:parseInt(i,10)},Rq=(t,s)=>{const i=t.element,u=o5(i,s.leftAttr),m=o5(i,s.topAttr);return isNaN(u)||isNaN(m)?P.none():P.some(Kn(u,m))},Iq=(t,s,i)=>{const u=t.element;co(u,s.leftAttr,i.left+"px"),co(u,s.topAttr,i.top+"px")},Dq=(t,s)=>{const i=t.element;T(i,s.leftAttr),T(i,s.topAttr)},Nq=(t,s,i,u)=>Rq(t,s).fold(()=>i,m=>jy(m.left+u.left,m.top+u.top)),Mq=(t,s,i,u,m,b)=>{const w=Nq(t,s,i,u),O=s.mustSnap?Pq(t,s,w,m,b):Lq(t,s,w,m,b),M=vw(w,m,b);return Iq(t,s,M),O.fold(()=>({coord:jy(M.left,M.top),extra:P.none()}),F=>({coord:F.output,extra:F.extra}))},kq=(t,s)=>{Dq(t,s)},VS=(t,s,i,u)=>nr(t,m=>{const b=m.sensor;return xq(s,b,m.range.left,m.range.top,i,u)?P.some({output:wM(m.output,s,i,u),extra:m.extra}):P.none()}),Pq=(t,s,i,u,m)=>{const b=s.getSnapPoints(t);return VS(b,i,u,m).orThunk(()=>gs(b,(M,F)=>{const G=F.sensor,Q=Aq(i,G,F.range.left,F.range.top,u,m);return M.deltas.fold(()=>({deltas:P.some(Q),snap:P.some(F)}),te=>{const ae=(Q.left+Q.top)/2,Te=(te.left+te.top)/2;return ae<=Te?{deltas:P.some(Q),snap:P.some(F)}:M})},{deltas:P.none(),snap:P.none()}).snap.map(M=>({output:wM(M.output,i,u,m),extra:M.extra})))},Lq=(t,s,i,u,m)=>{const b=s.getSnapPoints(t);return VS(b,i,u,m)},$q=(t,s,i)=>({coord:wM(t.output,t.output,s,i),extra:t.extra});var Bq=Object.freeze({__proto__:null,snapTo:(t,s,i,u)=>{const m=s.getTarget(t.element);if(s.repositionTarget){const b=ri(t.element),w=Xt(b),O=U3(m),M=$q(u,w,O),F=n5(M.coord,w,O);ye(m,F)}}});const TM="data-initial-z-index",s5=t=>{_c(t.element).filter(Cs).each(s=>{Kr(s,TM).fold(()=>st(s,"z-index"),i=>J(s,"z-index",i)),T(s,TM)})},Fq=t=>{_c(t.element).filter(Cs).each(s=>{rt(s,"z-index").each(i=>{co(s,TM,i)}),J(s,"z-index",we(t.element,"z-index"))})},r5=(t,s)=>{t.getSystem().addToGui(s),Fq(s)},Hq=t=>{s5(t),t.getSystem().removeFromGui(t)},i5=(t,s,i)=>t.getSystem().build(am.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[s]},events:i}));var Vq=dn("snaps",[xt("getSnapPoints"),Ke("onSensor"),xt("leftAttr"),xt("topAttr"),We("lazyViewport",Da),We("mustSnap",!1)]);const US=[We("useFixed",wt),xt("blockerClass"),We("getTarget",qe),We("onDrag",K),We("repositionTarget",!0),We("onDrop",K),Ti("getBounds",Da),Vq],a5=t=>qd(rt(t,"left"),rt(t,"top"),rt(t,"position"),(s,i,u)=>(u==="fixed"?jy:fO)(parseInt(s,10),parseInt(i,10))).getOrThunk(()=>{const s=Ao(t);return zb(s.left,s.top)}),Uq=(t,s,i,u,m)=>{const b=m.bounds,w=bw(s,i,u),O=Rc(w.left,b.x,b.x+b.width-m.width),M=Rc(w.top,b.y,b.y+b.height-m.height),F=zb(O,M);return s.fold(()=>{const G=t5(F,i,u);return fO(G.left,G.top)},Ee(F),()=>{const G=vw(F,i,u);return jy(G.left,G.top)})},zq=(t,s,i,u,m,b,w)=>{const O=s.fold(()=>{const M=Oq(i,b.left,b.top),F=vw(M,u,m);return jy(F.left,F.top)},M=>{const F=Mq(t,M,i,b,u,m);return F.extra.each(G=>{M.onSensor(t,G)}),F.coord});return Uq(t,O,u,m,w)},Wq=(t,s,i,u)=>{const m=s.getTarget(t.element);if(s.repositionTarget){const b=ri(t.element),w=Xt(b),O=U3(m),M=a5(m),F=zq(t,s.snaps,M,w,O,u,i),G=n5(F,w,O);ye(m,G)}s.onDrag(t,m,u)},c5=(t,s)=>({bounds:t.getBounds(),height:lr(s.element),width:Ir(s.element)}),CM=(t,s,i,u,m)=>{const b=i.update(u,m),w=i.getStartData().getOrThunk(()=>c5(s,t));b.each(O=>{Wq(t,s,w,O)})},l5=(t,s,i,u)=>{s.each(Hq),i.snaps.each(b=>{kq(t,b)});const m=i.getTarget(t.element);u.reset(),i.onDrop(t,m)},SM=t=>(s,i)=>{const u=m=>{i.setStartData(c5(s,m))};return js([Dt(zu(),m=>{i.getStartData().each(()=>u(m))}),...t(s,i,u)])},Gq=t=>js([Dt(Fi(),t.forceDrop),Dt(Ph(),t.drop),Dt(Tl(),(s,i)=>{t.move(i.event)}),Dt(kh(),t.delayDrop)]);var qq=Object.freeze({__proto__:null,getData:t=>P.from(Kn(t.x,t.y)),getDelta:(t,s)=>Kn(s.left-t.left,s.top-t.top)});const u5=(t,s,i)=>[Dt(Fi(),(u,m)=>{if(m.event.raw.button!==0)return;m.stop();const w=()=>l5(u,P.some(F),t,s),O=T4(w,200),M={drop:w,delayDrop:O.schedule,forceDrop:w,move:Q=>{O.cancel(),CM(u,t,s,qq,Q)}},F=i5(u,t.blockerClass,Gq(M));(()=>{i(u),r5(u,F)})()})],jq=[...US,er("dragger",{handlers:SM(u5)})],Zq=t=>js([Dt(ql(),t.forceDrop),Dt(Mh(),t.drop),Dt(m_(),t.drop),Dt(Lm(),(s,i)=>{t.move(i.event)})]),Yq=t=>{const s=t[0];return P.some(Kn(s.clientX,s.clientY))};var d5=Object.freeze({__proto__:null,getData:t=>{const i=t.raw.touches;return i.length===1?Yq(i):P.none()},getDelta:(t,s)=>Kn(s.left-t.left,s.top-t.top)});const f5=(t,s,i)=>{const u=Zs(),m=b=>{l5(b,u.get(),t,s),u.clear()};return[Dt(ql(),(b,w)=>{w.stop();const O=()=>m(b),M={drop:O,delayDrop:K,forceDrop:O,move:Q=>{CM(b,t,s,d5,Q)}},F=i5(b,t.blockerClass,Zq(M));u.set(F),(()=>{i(b),r5(b,F)})()}),Dt(Lm(),(b,w)=>{w.stop(),CM(b,t,s,d5,w.event)}),Dt(Mh(),(b,w)=>{w.stop(),m(b)}),Dt(m_(),m)]},Kq=[...US,er("dragger",{handlers:SM(f5)})],Xq=(t,s,i)=>[...u5(t,s,i),...f5(t,s,i)],h5=[...US,er("dragger",{handlers:SM(Xq)})];var xM=Object.freeze({__proto__:null,mouse:jq,touch:Kq,mouseOrTouch:h5}),Jq=Object.freeze({__proto__:null,init:()=>{let t=P.none(),s=P.none();const i=()=>{t=P.none(),s=P.none()},u=(M,F)=>{const G=t.map(Q=>M.getDelta(Q,F));return t=P.some(F),G},m=(M,F)=>M.getData(F).bind(G=>u(M,G)),b=M=>{s=P.some(M)},w=()=>s,O=Ee({});return Ac({readState:O,reset:i,update:m,getStartData:w,setStartData:b})}});const Zy=H_({branchKey:"mode",branches:xM,name:"dragging",active:{events:(t,s)=>t.dragger.handlers(t,s)},extra:{snap:t=>({sensor:t.sensor,range:t.range,output:t.output,extra:P.from(t.extra)})},state:Jq,apis:Bq}),OM=40,hO=OM/2,m5=(t,s,i,u,m,b)=>t.fold(()=>Zy.snap({sensor:zb(i-hO,u-hO),range:Kn(m,b),output:zb(P.some(i),P.some(u)),extra:{td:s}}),w=>{const O=i-hO,M=u-hO,F=OM,G=OM,Q=w.element.dom.getBoundingClientRect();return Zy.snap({sensor:zb(O,M),range:Kn(F,G),output:zb(P.some(i-Q.width/2),P.some(u-Q.height/2)),extra:{td:s}})}),Wb=(t,s,i)=>{const u=(m,b)=>m.exists(w=>bs(w,b));return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(m,b)=>{const w=b.td;u(s.get(),w)||(s.set(w),i(w))},mustSnap:!0}},RM=t=>zo(qc.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:kt([Zy.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),sS.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),ej=(t,s)=>{const i=Wn([]),u=Wn([]),m=Wn(!1),b=Zs(),w=Zs(),O=ln=>{const An=pl(ln);return m5(ae.getOpt(s),ln,An.x,An.y,An.width,An.height)},M=()=>et(i.get(),ln=>O(ln)),F=ln=>{const An=pl(ln);return m5(Te.getOpt(s),ln,An.right,An.bottom,An.width,An.height)},G=()=>et(u.get(),ln=>F(ln)),Q=Wb(M,b,ln=>{w.get().each(An=>{t.dispatch("TableSelectorChange",{start:ln,finish:An})})}),te=Wb(G,w,ln=>{b.get().each(An=>{t.dispatch("TableSelectorChange",{start:An,finish:ln})})}),ae=RM(Q),Te=RM(te),Me=dc(ae.asSpec()),ot=dc(Te.asSpec()),Ue=(ln,An,$o,Fn)=>{const Mo=An.dom.getBoundingClientRect();st(ln.element,"display");const oo=Iu(Qe.fromDom(t.getBody())).dom.innerHeight,Io=$o(Mo),Xn=Fn(Mo,oo);(Io||Xn)&&J(ln.element,"display","none")},nt=(ln,An,$o,Fn)=>{const Mo=$o(An);Zy.snapTo(ln,Mo),Ue(ln,An,Xn=>Xn[Fn]<0,(Xn,As)=>Xn[Fn]>As)},dt=ln=>nt(Me,ln,O,"top"),gt=()=>b.get().each(dt),Qt=ln=>nt(ot,ln,F,"bottom"),Pt=()=>w.get().each(Qt);Mt().deviceType.isTouch()&&(t.on("TableSelectionChange",ln=>{m.get()||(Xh(s,Me),Xh(s,ot),m.set(!0)),b.set(ln.start),w.set(ln.finish),ln.otherCells.each(An=>{i.set(An.upOrLeftCells),u.set(An.downOrRightCells),dt(ln.start),Qt(ln.finish)})}),t.on("ResizeEditor ResizeWindow ScrollContent",()=>{gt(),Pt()}),t.on("TableSelectionClear",()=>{m.get()&&(Qh(Me),Qh(ot),m.set(!1)),b.clear(),w.clear()}))};var tj=`<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>
</svg>
`;const nj=t=>t.nodeName==="BR"||!!t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark",oj=(t,s,i)=>{var u;const m=(u=s.delimiter)!==null&&u!==void 0?u:"›",b=(F,G,Q)=>qc.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":Q,"aria-level":Q+1}},components:[Cr(F)],action:te=>{t.focus(),t.selection.select(G),t.nodeChanged()},buttonBehaviours:kt([im.button(i.isDisabled),Za()])}),w=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Cr(` ${m} `)]}),O=F=>gs(F,(G,Q,te)=>{const ae=b(Q.name,Q.element,te);return te===0?G.concat([ae]):G.concat([w(),ae])},[]),M=F=>{const G=[];let Q=F.length;for(;Q-- >0;){const te=F[Q];if(te.nodeType===1&&!nj(te)){const ae=$A(t,te);if(ae.isDefaultPrevented()||G.push({name:ae.name,element:te}),ae.isPropagationStopped())break}}return G};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:kt([Bn.config({mode:"flow",selector:"div[role=button]"}),no.config({disabled:i.isDisabled}),Za(),hi.config({}),lo.config({}),mo("elementPathEvents",[Tr((F,G)=>{t.shortcuts.add("alt+F11","focus statusbar elementpath",()=>Bn.focusIn(F)),t.on("NodeChange",Q=>{const te=M(Q.parents),ae=te.length>0?O(te):[];lo.set(F,ae)})})])]),components:[]}};var Yy;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(Yy||(Yy={}));const sj=(t,s,i,u,m)=>{const b={height:J2(u+s.top,OC(t),aA(t))};return i===Yy.Both&&(b.width=J2(m+s.left,rA(t),iA(t))),b},p5=(t,s,i)=>{const u=Qe.fromDom(t.getContainer()),m=sj(t,s,i,Tn(u),ur(u));Yr(m,(b,w)=>{re(b)&&J(u,w,iM(b))}),n8(t)},rj=t=>{const s=kP(t);return s===!1?Yy.None:s==="both"?Yy.Both:Yy.Vertical},_w=(t,s,i,u)=>{const b=Kn(i*20,u*20);return p5(t,b,s),P.some(!0)},zS=(t,s)=>{const i=rj(t);return i===Yy.None?P.none():P.some(oh("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:s.translate("Resize")},behaviours:[Zy.config({mode:"mouse",repositionTarget:!1,onDrag:(u,m,b)=>p5(t,b,i),blockerClass:"tox-blocker"}),Bn.config({mode:"special",onLeft:()=>_w(t,i,-1,0),onRight:()=>_w(t,i,1,0),onUp:()=>_w(t,i,0,-1),onDown:()=>_w(t,i,0,1)}),hi.config({}),jn.config({})]},s.icons))},IM=(t,s)=>{const i=(u,m,b)=>lo.set(u,[Cr(s.translate(["{0} "+b,m[b]]))]);return qc.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:kt([im.button(s.isDisabled),Za(),hi.config({}),lo.config({}),fn.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),mo("wordcount-events",[Zl(u=>{const m=fn.getValue(u),b=m.mode==="words"?"characters":"words";fn.setValue(u,{mode:b,count:m.count}),i(u,m.count,b)}),Tr(u=>{t.on("wordCountUpdate",m=>{const{mode:b}=fn.getValue(u);fn.setValue(u,{mode:b,count:m.wordCount}),i(u,m.wordCount,b)})})])]),eventOrder:{[zs()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},mO=(t,s)=>{const i=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6",rel:"noopener",target:"_blank","aria-label":Tf.translate(["Powered by {0}","Tiny"])},innerHtml:tj.trim()},behaviours:kt([jn.config({})])}]}),u=()=>{const b=[];return NP(t)&&b.push(oj(t,{},s)),t.hasPlugin("wordcount")&&b.push(IM(t,s)),MP(t)&&b.push(i()),b.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:b}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const b=u(),w=zS(t,s);return b.concat(w.toArray())})()}},Gb=(t,s)=>s.get().getOrDie(`UI for ${t} has not been rendered`),pO=(t,s)=>{const i=t.inline,u=i?kG:OG,m=zE(t)?$W:V3,b=PG(),w=Zs(),O=Zs(),M=Zs(),te=Mt().deviceType.isTouch()?["tox-platform-touch"]:[],ae=dI(t),Te=HE(t),Me=zo({dom:{tag:"div",classes:["tox-anchorbar"]}}),ot=()=>b.mainUi.get().map(gn=>gn.outerContainer).bind(Ar.getHeader),Ue=()=>ro.fromOption(b.dialogUi.get().map(gn=>gn.sink),"UI has not been rendered"),nt=()=>ro.fromOption(b.popupUi.get().map(gn=>gn.sink),"(popup) UI has not been rendered"),dt=b.lazyGetInOuterOrDie("anchor bar",Me.getOpt),gt=b.lazyGetInOuterOrDie("toolbar",Ar.getToolbar),Qt=b.lazyGetInOuterOrDie("throbber",Ar.getThrobber),Pt=dW({popup:nt,dialog:Ue},t,dt),ln=()=>{const gn={attributes:{[B1]:ae?pf.BottomToTop:pf.TopToBottom}},Yn=Ar.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:Pt.popup,onEscape:()=>{t.focus()}}),Eo=Ar.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:Pt.popup.shared.getSink,providers:Pt.popup.shared.providers,onEscape:()=>{t.focus()},onToolbarToggled:TO=>{o8(t,TO)},type:Te,lazyToolbar:gt,lazyHeader:()=>ot().getOrDie("Could not find header element"),...gn}),Jo=Ar.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:Pt.popup.shared.providers,onEscape:()=>{t.focus()},type:Te}),aa=UE(t),Es=VE(t),su=Ig(t),pi=LP(t),hh=An(),bm=aa||Es||su,gv=()=>aa?[Jo]:Es?[Eo]:[],KS=pi?[hh,Yn]:[Yn];return Ar.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(bm?[]:["tox-editor-header--empty"]),...gn},components:Yt([su?KS:[],gv(),Ey(t)?[]:[Me.asSpec()]]),sticky:zE(t),editor:t,sharedBackstage:Pt.popup.shared})},An=()=>Ar.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),$o=()=>{const gn=Ar.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Yn=Ar.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[gn,Yn]}},Fn=()=>{const gn=DC(t),Yn=bs(Qi(),gn)&&we(gn,"display")==="grid",Eo={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(te),attributes:{...Tf.isRtl()?{dir:"rtl"}:{}}},behaviours:kt([Ws.config({useFixed:()=>m.isDocked(ot)})])},Jo={dom:{styles:{width:document.body.clientWidth+"px"}},events:js([Dt(Uf(),su=>{J(su.element,"width",document.body.clientWidth+"px")})])},aa=dc(Js(Eo,Yn?Jo:{})),Es=fD(aa);return O.set(Es),{sink:aa,mothership:Es}},Mo=()=>{const gn={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(te),attributes:{...Tf.isRtl()?{dir:"rtl"}:{}}},behaviours:kt([Ws.config({useFixed:()=>m.isDocked(ot),getBounds:()=>s.getPopupSinkBounds()})])},Yn=dc(gn),Eo=fD(Yn);return M.set(Eo),{sink:Yn,mothership:Eo}},oo=()=>{const gn=ln(),Yn=$o(),Eo=Ar.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:Pt.popup}),Jo=Ar.parts.viewWrapper({backstage:Pt.popup}),aa=DP(t)&&!i?P.some(mO(t,Pt.popup.shared.providers)):P.none(),Es=Yt([ae?[]:[gn],i?[]:[Yn],ae?[gn]:[]]),su=Ar.parts.editorContainer({components:Yt([Es,i?[]:aa.toArray()])}),pi=hI(t),hh={role:"application",...Tf.isRtl()?{dir:"rtl"}:{},...pi?{"aria-hidden":"true"}:{}},bm=dc(Ar.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(i?["tox-tinymce-inline"]:[]).concat(ae?["tox-tinymce--toolbar-bottom"]:[]).concat(te),styles:{visibility:"hidden",...pi?{opacity:"0",border:"0"}:{}},attributes:hh},components:[su,...i?[]:[Jo],Eo],behaviours:kt([Za(),no.config({disableClass:"tox-tinymce--disabled"}),Bn.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),gv=fD(bm);return w.set(gv),{mothership:gv,outerContainer:bm}},Io=gn=>{const Yn=iM(IG(t)),Eo=iM(DG(t));return t.inline||(Kt("div","width",Eo)&&J(gn.element,"width",Eo),Kt("div","height",Yn)?J(gn.element,"height",Yn):J(gn.element,"height","400px")),Yn},Xn=gn=>{t.addShortcut("alt+F9","focus menubar",()=>{Ar.focusMenubar(gn)}),t.addShortcut("alt+F10","focus toolbar",()=>{Ar.focusToolbar(gn)}),t.addCommand("ToggleToolbarDrawer",(Yn,Eo)=>{Eo!=null&&Eo.skipFocus?Ar.toggleToolbarDrawerWithoutFocusing(gn):Ar.toggleToolbarDrawer(gn)}),t.addQueryStateHandler("ToggleToolbarDrawer",()=>Ar.isToolbarDrawerToggled(gn))},As=gn=>{const{mainUi:Yn,popupUi:Eo,uiMotherships:Jo}=gn;Ms(cA(t),(t_,HM)=>{t.ui.registry.addGroupToolbarButton(HM,t_)});const{buttons:aa,menuItems:Es,contextToolbars:su,sidebars:pi,views:hh}=t.ui.registry.getAll(),bm=uI(t),gv={menuItems:Es,menus:WE(t),menubar:SP(t),toolbar:bm.getOrThunk(()=>dA(t)),allowToolbarGroups:Te===Cf.floating,buttons:aa,sidebar:pi,views:hh};Xn(Yn.outerContainer),fW(t,Yn.mothership,Jo),m.setup(t,Pt.popup.shared,ot),gM(t,Pt.popup),e5(t,Pt.popup.shared.getSink,Pt.popup),WW(t),s9(t,Qt,Pt.popup.shared),GG(t,su,Eo.sink,{backstage:Pt.popup}),ej(t,Eo.sink);const KS=t.getElement(),TO=Io(Yn.outerContainer),Sw={targetNode:KS,height:TO};return u.render(t,gn,gv,Pt.popup,Sw)},Wt=gn=>(M.set(gn.mothership),gn),Sn=()=>{const gn=oo(),Yn=Fn(),Eo=Ob(t)?Mo():Wt(Yn);b.dialogUi.set(Yn),b.popupUi.set(Eo),b.mainUi.set(gn);const Jo={popupUi:Eo,dialogUi:Yn,mainUi:gn,uiMotherships:b.getUiMotherships()};return As(Jo)};return{popups:{backstage:Pt.popup,getMothership:()=>Gb("popups",M)},dialogs:{backstage:Pt.dialog,getMothership:()=>Gb("dialogs",O)},renderUI:Sn}},ij=(t,s)=>{const i=P.from(Mi(t,"id")).fold(()=>{const u=_n("dialog-describe");return co(s,"id",u),u},qe);co(t,"aria-describedby",i)},g5=(t,s)=>{const i=Kr(t,"id").fold(()=>{const u=_n("dialog-label");return co(s,"id",u),u},qe);co(t,"aria-labelledby",i)},v5=Ee([xt("lazySink"),Yo("dragBlockClass"),Ti("getBounds",Da),We("useTabstopAt",Ot),We("firstTabstop",0),We("eventOrder",{}),ja("modalBehaviours",[Bn]),Sr("onExecute"),w0("onEscape")]),gO={sketch:qe},aj=Ee([Dd({name:"draghandle",overrides:(t,s)=>({behaviours:kt([Zy.config({mode:"mouse",getTarget:i=>Al(i,'[role="dialog"]').getOr(i),blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(s,null,2)).message),getBounds:t.getDragBounds})])})}),La({schema:[xt("dom")],name:"title"}),La({factory:gO,schema:[xt("dom")],name:"close"}),La({factory:gO,schema:[xt("dom")],name:"body"}),Dd({factory:gO,schema:[xt("dom")],name:"footer"}),_f({factory:{sketch:(t,s)=>({...t,dom:s.dom,components:s.components})},schema:[We("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),We("components",[])],name:"blocker"})]),cj=(t,s,i,u)=>{const m=Zs(),b=ae=>{m.set(ae);const Te=t.lazySink(ae).getOrDie(),Me=u.blocker(),ot=Te.getSystem().build({...Me,components:Me.components.concat([rl(ae)]),behaviours:kt([jn.config({}),mo("dialog-blocker-events",[qa(Hf(),()=>{Bn.focusIn(ae)})])])});Xh(Te,ot),Bn.focusIn(ae)},w=ae=>{m.clear(),_c(ae.element).each(Te=>{ae.getSystem().getByDom(Te).each(Me=>{Qh(Me)})})},O=ae=>nm(ae,t,"body"),M=ae=>nm(ae,t,"footer"),F=(ae,Te)=>{Bb.block(ae,Te)},G=ae=>{Bb.unblock(ae)},Q=_n("modal-events"),te={...t.eventOrder,[sf()]:[Q].concat(t.eventOrder["alloy.system.attached"]||[])};return{uid:t.uid,dom:t.dom,components:s,apis:{show:b,hide:w,getBody:O,getFooter:M,setIdle:G,setBusy:F},eventOrder:te,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:kr(t.modalBehaviours,[lo.config({}),Bn.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt,firstTabstop:t.firstTabstop}),Bb.config({getRoot:m.get}),mo(Q,[Tr(ae=>{g5(ae.element,nm(ae,t,"title").element),ij(ae.element,nm(ae,t,"body").element)})])])}},Ya=Si({name:"ModalDialog",configFields:v5(),partFields:aj(),factory:cj,apis:{show:(t,s)=>{t.show(s)},hide:(t,s)=>{t.hide(s)},getBody:(t,s)=>t.getBody(s),getFooter:(t,s)=>t.getFooter(s),setBusy:(t,s,i)=>{t.setBusy(s,i)},setIdle:(t,s)=>{t.setIdle(s)}}}),b5=Pn([ia,SI].concat(Db)),y5=vd,WS=[II("button"),sm,Hr("align","end",["start","end"]),$C,rm,He("buttonType",["primary","secondary"])],_5=[...WS,rv],DM=[Gl("type",["submit","cancel","custom"]),..._5],lj=[Gl("type",["menu"]),iv,wA,sm,Bi("items",b5),...WS],E5=[...WS,Gl("type",["togglebutton"]),Wr("tooltip"),EA,iv,li("active",!1)],uj=or("type",{submit:DM,cancel:DM,custom:DM,menu:lj,togglebutton:E5}),dj=[ia,rv,Gl("level",["info","warn","error","success"]),EA,We("url","")],fj=Pn(dj),NM=t=>[ia,t],MM=[ia,rv,rm,II("button"),sm,rL,He("buttonType",["primary","secondary","toolbar"]),$C],hj=Pn(MM),Ky=[ia,SI],Rp=Ky.concat([OI]),mj=Ky.concat([Rb,rm]),w5=Pn(mj),pj=vd,gj=Rp.concat([RI("auto")]),Xy=Pn(gj),T5=qp([GE,rv,EA]),vj=Rp.concat([ta("storageKey","default")]),vO=Pn(vj),Ew=Dr,C5=Pn(Rp),bO=Dr,nd=Ky.concat([ta("tag","textarea"),Wr("scriptId"),Wr("scriptUrl"),tf("settings",void 0)]),yO=Ky.concat([ta("tag","textarea"),ic("init")]),S5=Jd(t=>ts("customeditor.old",pa(yO),t).orThunk(()=>ts("customeditor.new",pa(nd),t))),x5=Dr,bj=Pn(Rp),qb=bd(),FK=t=>[ia,Bf("columns"),t],yj=[ia,Wr("html"),Hr("presets","presentation",["presentation","document"])],A5=Pn(yj),ww=Rp.concat([li("sandboxed",!0),li("transparent",!0)]),_O=Pn(ww),O5=Dr,_j=Pn(Ky.concat([de("height")])),Ej=Pn([Wr("url"),$("zoom"),$("cachedWidth"),$("cachedHeight")]),wj=Rp.concat([de("inputMode"),de("placeholder"),li("maximized",!1),rm]),Tj=Pn(wj),Tw=Dr,HK=t=>[ia,Rb,t],Cj=[rv,GE],Sj=[rv,Bi("items",ef("items",()=>xj))],xj=Dm([Pn(Cj),Pn(Sj)]),Aj=Rp.concat([Bi("items",xj),rm]),Oj=Pn(Aj),GS=Dr,Rj=Rp.concat([Zp("items",[rv,GE]),ci("size",1),rm]),Ij=Pn(Rj),R5=Dr,Dj=Rp.concat([li("constrain",!0),rm]),VK=Pn(Dj),e=Pn([Wr("width"),Wr("height")]),n=Ky.concat([Rb,ci("min",0),ci("max",0)]),o=Pn(n),r=Vu,l=[ia,Bi("header",Dr),Bi("cells",nn(Dr))],h=Pn(l),v=Rp.concat([de("placeholder"),li("maximized",!1),rm]),C=Pn(v),A=Dr,L=[Gl("type",["directory","leaf"]),oL,Wr("id"),$e("menu",P2)],Z=Pn(L),se=L.concat([Bi("children",ef("children",()=>Wa("type",{directory:xe,leaf:Z})))]),xe=Pn(se),Re=Wa("type",{directory:xe,leaf:Z}),be=[ia,Bi("items",Re),Ft("onLeafAction")],Ae=Pn(be),Ve=Rp.concat([Hr("filetype","file",["image","media","file"]),rm]),Be=Pn(Ve),Ye=Pn([GE,Sy]),it=t=>jr("items","items",Ua(),nn(Jd(s=>ts(`Checking item of ${t}`,St,s).fold(i=>ro.error(Cc(i)),i=>ro.value(i))))),St=Gp(()=>Wa("type",{alertbanner:fj,bar:Pn(NM(it("bar"))),button:hj,checkbox:w5,colorinput:vO,colorpicker:C5,dropzone:bj,grid:Pn(FK(it("grid"))),iframe:_O,input:Tj,listbox:Oj,selectbox:Ij,sizeinput:VK,slider:o,textarea:C,urlinput:Be,customeditor:S5,htmlpanel:A5,imagepreview:_j,collection:Xy,label:Pn(HK(it("label"))),table:h,tree:Ae,panel:jt})),on=[ia,We("classes",[]),Bi("items",St)],jt=Pn(on),ht=[II("tab"),oL,Bi("items",St)],ft=[ia,Zp("tabs",ht)],bn=Pn(ft),Ln=_5,Gn=uj,wo=Pn([Wr("title"),El("body",Wa("type",{panel:jt,tabpanel:bn})),ta("size","normal"),Bi("buttons",Gn),We("initialData",{}),Ti("onAction",K),Ti("onChange",K),Ti("onSubmit",K),Ti("onClose",K),Ti("onCancel",K),Ti("onTabChange",K)]),Qo=t=>ts("dialog",wo,t),Ds=Pn([Gl("type",["cancel","custom"]),...Ln]),ar=Pn([Wr("title"),Wr("url"),$("height"),$("width"),In("buttons",Ds),Ti("onAction",K),Ti("onCancel",K),Ti("onClose",K),Ti("onMessage",K)]),Ri=t=>ts("dialog",ar,t),kc=t=>U(t)?[t].concat(mt(yh(t),kc)):Y(t)?mt(t,kc):[],Ka=t=>B(t.type)&&B(t.name),Gt={checkbox:pj,colorinput:Ew,colorpicker:bO,dropzone:qb,input:Tw,iframe:O5,imagepreview:Ej,selectbox:R5,sizeinput:e,slider:r,listbox:GS,size:e,textarea:A,urlinput:Ye,customeditor:x5,collection:T5,togglemenuitem:y5},Rn=t=>P.from(Gt[t.type]),hs=t=>uo(kc(t),Ka),un=t=>{const s=hs(t),i=mt(s,u=>Rn(u).fold(()=>[],m=>[El(u.name,m)]));return Pn(i)},Vn=t=>{var s;const i=Po(Qo(t)),u=un(t),m=(s=t.initialData)!==null&&s!==void 0?s:{};return{internalDialog:i,dataValidator:u,initialData:m}},zn={open:(t,s)=>{const i=Vn(s);return t(i.internalDialog,i.initialData,i.dataValidator)},openUrl:(t,s)=>{const i=Po(Ri(s));return t(i)},redial:t=>Vn(t)};var Wo=Object.freeze({__proto__:null,events:(t,s)=>{const i=(u,m)=>{t.updateState.each(b=>{const w=b(u,m);s.set(w)}),t.renderComponents.each(b=>{const w=b(m,s.get());(t.reuseDom?Hk:Jx)(u,w)})};return js([Dt(Vf(),(u,m)=>{const b=m;if(!b.universal){const w=t.channel;vo(b.channels,w)&&i(u,b.data)}}),Tr((u,m)=>{t.initialData.each(b=>{i(u,b)})})])}}),pc=Object.freeze({__proto__:null,getState:(t,s,i)=>i}),Vr=[xt("channel"),Yo("renderComponents"),Yo("updateState"),Yo("initialData"),li("reuseDom",!0)],ps=Object.freeze({__proto__:null,init:()=>{const t=Wn(P.none()),s=()=>t.set(P.none());return{readState:()=>t.get().getOr("none"),get:t.get,set:t.set,clear:s}}});const Ks=ya({fields:Vr,name:"reflecting",active:Wo,apis:pc,state:ps}),cr=t=>{const s=[],i={};return Yr(t,(u,m)=>{u.fold(()=>{s.push(m)},b=>{i[m]=b})}),s.length>0?ro.error(s):ro.value(i)},mi=(t,s,i)=>{const u=zo(rw.sketch(m=>({dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:et(t.items,b=>uN(m,b,s,i))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[u.asSpec()]}],behaviours:kt([Bn.config({mode:"acyclic",useTabstopAt:ke(dS)}),dm.memento(u),Oi.memento(u,{postprocess:m=>cr(m).fold(b=>(console.error(b),{}),qe)})])}},Zi=(t,s)=>({uid:t.uid,dom:t.dom,components:t.components,events:eA(t.action),behaviours:kr(t.tabButtonBehaviours,[jn.config({}),Bn.config({mode:"execution",useSpace:!0,useEnter:!0}),fn.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}),qr=qi({name:"TabButton",configFields:[We("uid",void 0),xt("value"),jr("dom","dom",Rm(()=>({attributes:{role:"tab",id:_n("aria"),"aria-selected":"false"}})),_l()),Yo("action"),We("domModification",{}),ja("tabButtonBehaviours",[jn,Bn,fn]),xt("view")],factory:Zi}),wa=Ee([xt("tabs"),xt("dom"),We("clickToDismiss",!1),ja("tabbarBehaviours",[ms,Bn]),vu(["tabClass","selectedClass"])]),ch=ly({factory:qr,name:"tabs",unit:"tab",overrides:t=>{const s=(u,m)=>{ms.dehighlight(u,m),Mn(u,Fm(),{tabbar:u,button:m})},i=(u,m)=>{ms.highlight(u,m),Mn(u,Bm(),{tabbar:u,button:m})};return{action:u=>{const m=u.getSystem().getByUid(t.uid).getOrDie(),b=ms.isHighlighted(m,u);(()=>b&&t.clickToDismiss?s:b?K:i)()(m,u)},domModification:{classes:[t.markers.tabClass]}}}}),ul=Ee([ch]),Ip=(t,s,i,u)=>({uid:t.uid,dom:t.dom,components:s,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:kr(t.tabbarBehaviours,[ms.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:(m,b)=>{co(b.element,"aria-selected","true")},onDehighlight:(m,b)=>{co(b.element,"aria-selected","false")}}),Bn.config({mode:"flow",getInitial:m=>ms.getHighlighted(m).map(b=>b.element),selector:"."+t.markers.tabClass,executeOnMove:!0})])}),Fd=Si({name:"Tabbar",configFields:wa(),partFields:ul(),factory:Ip}),Qy=(t,s)=>({uid:t.uid,dom:t.dom,behaviours:kr(t.tabviewBehaviours,[lo.config({})]),domModification:{attributes:{role:"tabpanel"}}}),Jy=qi({name:"Tabview",configFields:[ja("tabviewBehaviours",[lo])],factory:Qy}),Dp=Ee([We("selectFirst",!0),Ke("onChangeTab"),Ke("onDismissTab"),We("tabs",[]),ja("tabSectionBehaviours",[])]),gm=La({factory:Fd,schema:[xt("dom"),ac("markers",[xt("tabClass"),xt("selectedClass")])],name:"tabbar",defaults:t=>({tabs:t.tabs})}),Ba=La({factory:Jy,name:"tabview"}),lh=Ee([gm,Ba]),Np=(t,s,i,u)=>{const m=w=>{const O=fn.getValue(w);rr(w,t,"tabview").each(M=>{kn(t.tabs,G=>G.value===O).each(G=>{const Q=G.view();Kr(w.element,"id").each(te=>{co(M.element,"aria-labelledby",te)}),lo.set(M,Q),t.onChangeTab(M,w,Q)})})},b=(w,O)=>{rr(w,t,"tabbar").each(M=>{O(M).each(rf)})};return{uid:t.uid,dom:t.dom,components:s,behaviours:wE(t.tabSectionBehaviours),events:js(Yt([t.selectFirst?[Tr((w,O)=>{b(w,ms.getFirst)})]:[],[Dt(Bm(),(w,O)=>{const M=O.event.button;m(M)}),Dt(Fm(),(w,O)=>{const M=O.event.button;t.onDismissTab(w,M)})]])),apis:{getViewItems:w=>rr(w,t,"tabview").map(O=>lo.contents(O)).getOr([]),showTab:(w,O)=>{b(w,F=>{const G=ms.getCandidates(F);return kn(G,te=>fn.getValue(te)===O).filter(te=>!ms.isHighlighted(F,te))})}}}},ou=Si({name:"TabSection",configFields:Dp(),partFields:lh(),factory:Np,apis:{getViewItems:(t,s)=>t.getViewItems(s),showTab:(t,s,i)=>{t.showTab(s,i)}}}),uh=(t,s,i)=>et(t,(u,m)=>{lo.set(i,t[m].view());const b=s.dom.getBoundingClientRect();return lo.set(i,[]),b.height}),Gg=t=>Rr(Pc(t,(s,i)=>s>i?-1:s<i?1:0)),Ml=(t,s,i)=>{const u=Jc(t).dom,m=Al(t,".tox-dialog-wrap").getOr(t),b=we(m,"position")==="fixed";let w;b?w=Math.max(u.clientHeight,window.innerHeight):w=Math.max(u.offsetHeight,u.scrollHeight);const O=Tn(s),F=s.dom.offsetLeft>=i.dom.offsetLeft+ur(i)?Math.max(Tn(i),O):O,G=parseInt(we(t,"margin-top"),10)||0,Q=parseInt(we(t,"margin-bottom"),10)||0,ae=Tn(t)+G+Q-F;return w-ae},mv=(t,s)=>{Rr(t).each(i=>ou.showTab(s,i.value))},Mp=(t,s)=>{J(t,"height",s+"px"),J(t,"flex-basis",s+"px")},Hd=(t,s,i)=>{Al(t,'[role="dialog"]').each(u=>{Nr(u,'[role="tablist"]').each(m=>{i.get().map(b=>(J(s,"height","0"),J(s,"flex-basis","0"),Math.min(b,Ml(u,s,m)))).each(b=>{Mp(s,b)})})})},qg=t=>Nr(t,'[role="tabpanel"]'),qS=t=>{const s=Zs();return{extraEvents:[Tr(m=>{const b=m.element;qg(b).each(w=>{J(w,"visibility","hidden"),m.getSystem().getByDom(w).toOptional().each(O=>{const M=uh(t,w,O);Gg(M).fold(s.clear,s.set)}),Hd(b,w,s),st(w,"visibility"),mv(t,m),requestAnimationFrame(()=>{Hd(b,w,s)})})}),Dt(Uf(),m=>{const b=m.element;qg(b).each(w=>{Hd(b,w,s)})}),Dt(L4,(m,b)=>{const w=m.element;qg(w).each(O=>{const M=Ad(Aa(O));J(O,"visibility","hidden");const F=rt(O,"height").map(te=>parseInt(te,10));st(O,"height"),st(O,"flex-basis");const G=O.dom.getBoundingClientRect().height;F.forall(te=>G>te)?(s.set(G),Hd(w,O,s)):F.each(te=>{Mp(O,te)}),st(O,"visibility"),M.each(il)})})],selectFirst:!1}},EO="send-data-to-section",jS="send-data-to-view",PM=(t,s,i)=>{const u=Wn({}),m=F=>{const G=fn.getValue(F),Q=cr(G).getOr({}),te=u.get(),ae=Js(te,Q);u.set(ae)},b=F=>{const G=u.get();fn.setValue(F,G)},w=Wn(null),O=et(t.tabs,F=>({value:F.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Cr(i.shared.providers.translate(F.title))],view:()=>[rw.sketch(G=>({dom:{tag:"div",classes:["tox-form"]},components:et(F.items,Q=>uN(G,Q,s,i)),formBehaviours:kt([Bn.config({mode:"acyclic",useTabstopAt:ke(dS)}),mo("TabView.form.events",[Tr(b),xc(m)]),bu.config({channels:Sc([{key:EO,value:{onReceive:m}},{key:jS,value:{onReceive:b}}])})])}))]})),M=qS(O);return ou.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(F,G,Q)=>{const te=fn.getValue(G);Mn(F,P4,{name:te,oldName:w.get()}),w.set(te)},tabs:O,components:[ou.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[Fd.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:kt([hi.config({})])}),ou.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:M.selectFirst,tabSectionBehaviours:kt([mo("tabpanel",M.extraEvents),Bn.config({mode:"acyclic"}),Xo.config({find:F=>Rr(ou.getViewItems(F))}),Oi.withComp(P.none(),F=>(F.getSystem().broadcastOn([EO],{}),u.get()),(F,G)=>{u.set(G),F.getSystem().broadcastOn([jS],{})})])})},ZS=_n("update-dialog"),LM=_n("update-title"),vm=_n("update-body"),e_=_n("update-footer"),at=_n("body-send-message"),ct=(t,s,i,u,m)=>{const b=M=>{const F=M.body;switch(F.type){case"tabpanel":return[PM(F,M.initialData,u)];default:return[mi(F,M.initialData,u)]}},w=(M,F)=>P.some({isTabPanel:()=>F.body.type==="tabpanel"}),O={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...i.map(M=>({id:M})).getOr({}),...m?O:{}}},components:[],behaviours:kt([dm.childAt(0),Ks.config({channel:`${vm}-${s}`,updateState:w,renderComponents:b,initialData:t})])}},Zt=(t,s,i,u,m)=>ct(t,s,P.some(i),u,m),zt=(t,s,i)=>{const u=ct(t,s,P.none(),i,!1);return Ya.parts.body(u)},Hn=t=>{const s={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[C$({dom:{tag:"iframe",attributes:{src:t.url}},behaviours:kt([hi.config({}),jn.config({})])})]}],behaviours:kt([Bn.config({mode:"acyclic",useTabstopAt:ke(dS)})])};return Ya.parts.body(s)};function qo(t){return qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},qo(t)}function gr(t,s){return gr=Object.setPrototypeOf||function(u,m){return u.__proto__=m,u},gr(t,s)}function Pr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function jg(t,s,i){return Pr()?jg=Reflect.construct:jg=function(m,b,w){var O=[null];O.push.apply(O,b);var M=Function.bind.apply(m,O),F=new M;return w&&gr(F,w.prototype),F},jg.apply(null,arguments)}function Vd(t){return I5(t)||D5(t)||Nj(t)||vt()}function I5(t){if(Array.isArray(t))return xo(t)}function D5(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nj(t,s){if(t){if(typeof t=="string")return xo(t,s);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return xo(t,s)}}function xo(t,s){(s==null||s>t.length)&&(s=t.length);for(var i=0,u=new Array(s);i<s;i++)u[i]=t[i];return u}function vt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var On=Object.hasOwnProperty,io=Object.setPrototypeOf,Yi=Object.isFrozen,Rf=Object.getPrototypeOf,od=Object.getOwnPropertyDescriptor,ti=Object.freeze,dh=Object.seal,xu=Object.create,$M=typeof Reflect<"u"&&Reflect,wO=$M.apply,BM=$M.construct;wO||(wO=function(s,i,u){return s.apply(i,u)}),ti||(ti=function(s){return s}),dh||(dh=function(s){return s}),BM||(BM=function(s,i){return jg(s,Vd(i))});var UK=pv(Array.prototype.forEach),Yte=pv(Array.prototype.pop),FM=pv(Array.prototype.push),N5=pv(String.prototype.toLowerCase),Kte=pv(String.prototype.match),Cw=pv(String.prototype.replace),Xte=pv(String.prototype.indexOf),Qte=pv(String.prototype.trim),fh=pv(RegExp.prototype.test),Mj=Jte(TypeError);function pv(t){return function(s){for(var i=arguments.length,u=new Array(i>1?i-1:0),m=1;m<i;m++)u[m-1]=arguments[m];return wO(t,s,u)}}function Jte(t){return function(){for(var s=arguments.length,i=new Array(s),u=0;u<s;u++)i[u]=arguments[u];return BM(t,i)}}function Or(t,s){io&&io(t,null);for(var i=s.length;i--;){var u=s[i];if(typeof u=="string"){var m=N5(u);m!==u&&(Yi(s)||(s[i]=m),u=m)}t[u]=!0}return t}function YS(t){var s=xu(null),i;for(i in t)wO(On,t,[i])&&(s[i]=t[i]);return s}function M5(t,s){for(;t!==null;){var i=od(t,s);if(i){if(i.get)return pv(i.get);if(typeof i.value=="function")return pv(i.value)}t=Rf(t)}function u(m){return console.warn("fallback value for",m),null}return u}var zK=ti(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),kj=ti(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Pj=ti(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ene=ti(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Lj=ti(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),tne=ti(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),WK=ti(["#text"]),GK=ti(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),$j=ti(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),qK=ti(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),k5=ti(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),nne=dh(/\{\{[\w\W]*|[\w\W]*\}\}/gm),one=dh(/<%[\w\W]*|[\w\W]*%>/gm),sne=dh(/^data-[\-\w.\u00B7-\uFFFF]/),rne=dh(/^aria-[\-\w]+$/),ine=dh(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ane=dh(/^(?:\w+script|data):/i),cne=dh(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),lne=dh(/^html$/i),une=function(){return typeof window>"u"?null:window},dne=function(s,i){if(qo(s)!=="object"||typeof s.createPolicy!="function")return null;var u=null,m="data-tt-policy-suffix";i.currentScript&&i.currentScript.hasAttribute(m)&&(u=i.currentScript.getAttribute(m));var b="dompurify"+(u?"#"+u:"");try{return s.createPolicy(b,{createHTML:function(O){return O}})}catch{return console.warn("TrustedTypes policy "+b+" could not be created."),null}};function jK(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:une(),s=function(bt){return jK(bt)};if(s.version="2.3.8",s.removed=[],!t||!t.document||t.document.nodeType!==9)return s.isSupported=!1,s;var i=t.document,u=t.document,m=t.DocumentFragment,b=t.HTMLTemplateElement,w=t.Node,O=t.Element,M=t.NodeFilter,F=t.NamedNodeMap,G=F===void 0?t.NamedNodeMap||t.MozNamedAttrMap:F,Q=t.HTMLFormElement,te=t.DOMParser,ae=t.trustedTypes,Te=O.prototype,Me=M5(Te,"cloneNode"),ot=M5(Te,"nextSibling"),Ue=M5(Te,"childNodes"),nt=M5(Te,"parentNode");if(typeof b=="function"){var dt=u.createElement("template");dt.content&&dt.content.ownerDocument&&(u=dt.content.ownerDocument)}var gt=dne(ae,i),Qt=gt?gt.createHTML(""):"",Pt=u,ln=Pt.implementation,An=Pt.createNodeIterator,$o=Pt.createDocumentFragment,Fn=Pt.getElementsByTagName,Mo=i.importNode,oo={};try{oo=YS(u).documentMode?u.documentMode:{}}catch{}var Io={};s.isSupported=typeof nt=="function"&&ln&&typeof ln.createHTMLDocument<"u"&&oo!==9;var Xn=nne,As=one,Wt=sne,Sn=rne,gn=ane,Yn=cne,Eo=ine,Jo=null,aa=Or({},[].concat(Vd(zK),Vd(kj),Vd(Pj),Vd(Lj),Vd(WK))),Es=null,su=Or({},[].concat(Vd(GK),Vd($j),Vd(qK),Vd(k5))),pi=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),hh=null,bm=null,gv=!0,KS=!0,TO=!1,Sw=!1,t_=!1,HM=!1,Uj=!1,CO=!1,P5=!1,L5=!1,mX=!0,zj=!0,VM=!1,SO={},xO=null,pX=Or({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),gX=null,vX=Or({},["audio","video","img","source","image","track"]),Wj=null,bX=Or({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Gj="http://www.w3.org/1998/Math/MathML",qj="http://www.w3.org/2000/svg",xw="http://www.w3.org/1999/xhtml",$5=xw,jj=!1,AO,Bne=["application/xhtml+xml","text/html"],Fne="text/html",XS,OO=null,Hne=u.createElement("form"),yX=function(bt){return bt instanceof RegExp||bt instanceof Function},Zj=function(bt){OO&&OO===bt||((!bt||qo(bt)!=="object")&&(bt={}),bt=YS(bt),Jo="ALLOWED_TAGS"in bt?Or({},bt.ALLOWED_TAGS):aa,Es="ALLOWED_ATTR"in bt?Or({},bt.ALLOWED_ATTR):su,Wj="ADD_URI_SAFE_ATTR"in bt?Or(YS(bX),bt.ADD_URI_SAFE_ATTR):bX,gX="ADD_DATA_URI_TAGS"in bt?Or(YS(vX),bt.ADD_DATA_URI_TAGS):vX,xO="FORBID_CONTENTS"in bt?Or({},bt.FORBID_CONTENTS):pX,hh="FORBID_TAGS"in bt?Or({},bt.FORBID_TAGS):{},bm="FORBID_ATTR"in bt?Or({},bt.FORBID_ATTR):{},SO="USE_PROFILES"in bt?bt.USE_PROFILES:!1,gv=bt.ALLOW_ARIA_ATTR!==!1,KS=bt.ALLOW_DATA_ATTR!==!1,TO=bt.ALLOW_UNKNOWN_PROTOCOLS||!1,Sw=bt.SAFE_FOR_TEMPLATES||!1,t_=bt.WHOLE_DOCUMENT||!1,CO=bt.RETURN_DOM||!1,P5=bt.RETURN_DOM_FRAGMENT||!1,L5=bt.RETURN_TRUSTED_TYPE||!1,Uj=bt.FORCE_BODY||!1,mX=bt.SANITIZE_DOM!==!1,zj=bt.KEEP_CONTENT!==!1,VM=bt.IN_PLACE||!1,Eo=bt.ALLOWED_URI_REGEXP||Eo,$5=bt.NAMESPACE||xw,bt.CUSTOM_ELEMENT_HANDLING&&yX(bt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(pi.tagNameCheck=bt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),bt.CUSTOM_ELEMENT_HANDLING&&yX(bt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(pi.attributeNameCheck=bt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),bt.CUSTOM_ELEMENT_HANDLING&&typeof bt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(pi.allowCustomizedBuiltInElements=bt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),AO=Bne.indexOf(bt.PARSER_MEDIA_TYPE)===-1?AO=Fne:AO=bt.PARSER_MEDIA_TYPE,XS=AO==="application/xhtml+xml"?function(Dn){return Dn}:N5,Sw&&(KS=!1),P5&&(CO=!0),SO&&(Jo=Or({},Vd(WK)),Es=[],SO.html===!0&&(Or(Jo,zK),Or(Es,GK)),SO.svg===!0&&(Or(Jo,kj),Or(Es,$j),Or(Es,k5)),SO.svgFilters===!0&&(Or(Jo,Pj),Or(Es,$j),Or(Es,k5)),SO.mathMl===!0&&(Or(Jo,Lj),Or(Es,qK),Or(Es,k5))),bt.ADD_TAGS&&(Jo===aa&&(Jo=YS(Jo)),Or(Jo,bt.ADD_TAGS)),bt.ADD_ATTR&&(Es===su&&(Es=YS(Es)),Or(Es,bt.ADD_ATTR)),bt.ADD_URI_SAFE_ATTR&&Or(Wj,bt.ADD_URI_SAFE_ATTR),bt.FORBID_CONTENTS&&(xO===pX&&(xO=YS(xO)),Or(xO,bt.FORBID_CONTENTS)),zj&&(Jo["#text"]=!0),t_&&Or(Jo,["html","head","body"]),Jo.table&&(Or(Jo,["tbody"]),delete hh.tbody),ti&&ti(bt),OO=bt)},_X=Or({},["mi","mo","mn","ms","mtext"]),EX=Or({},["foreignobject","desc","title","annotation-xml"]),Vne=Or({},["title","style","font","a","script"]),B5=Or({},kj);Or(B5,Pj),Or(B5,ene);var Yj=Or({},Lj);Or(Yj,tne);var Une=function(bt){var Dn=nt(bt);(!Dn||!Dn.tagName)&&(Dn={namespaceURI:xw,tagName:"template"});var go=N5(bt.tagName),Ta=N5(Dn.tagName);return bt.namespaceURI===qj?Dn.namespaceURI===xw?go==="svg":Dn.namespaceURI===Gj?go==="svg"&&(Ta==="annotation-xml"||_X[Ta]):!!B5[go]:bt.namespaceURI===Gj?Dn.namespaceURI===xw?go==="math":Dn.namespaceURI===qj?go==="math"&&EX[Ta]:!!Yj[go]:bt.namespaceURI===xw?Dn.namespaceURI===qj&&!EX[Ta]||Dn.namespaceURI===Gj&&!_X[Ta]?!1:!Yj[go]&&(Vne[go]||!B5[go]):!1},n_=function(bt){FM(s.removed,{element:bt});try{bt.parentNode.removeChild(bt)}catch{try{bt.outerHTML=Qt}catch{bt.remove()}}},F5=function(bt,Dn){try{FM(s.removed,{attribute:Dn.getAttributeNode(bt),from:Dn})}catch{FM(s.removed,{attribute:null,from:Dn})}if(Dn.removeAttribute(bt),bt==="is"&&!Es[bt])if(CO||P5)try{n_(Dn)}catch{}else try{Dn.setAttribute(bt,"")}catch{}},wX=function(bt){var Dn,go;if(Uj)bt="<remove></remove>"+bt;else{var Ta=Kte(bt,/^[\r\n\t ]+/);go=Ta&&Ta[0]}AO==="application/xhtml+xml"&&(bt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+bt+"</body></html>");var ym=gt?gt.createHTML(bt):bt;if($5===xw)try{Dn=new te().parseFromString(ym,AO)}catch{}if(!Dn||!Dn.documentElement){Dn=ln.createDocument($5,"template",null);try{Dn.documentElement.innerHTML=jj?"":ym}catch{}}var If=Dn.body||Dn.documentElement;return bt&&go&&If.insertBefore(u.createTextNode(go),If.childNodes[0]||null),$5===xw?Fn.call(Dn,t_?"html":"body")[0]:t_?Dn.documentElement:If},TX=function(bt){return An.call(bt.ownerDocument||bt,bt,M.SHOW_ELEMENT|M.SHOW_COMMENT|M.SHOW_TEXT,null,!1)},zne=function(bt){return bt instanceof Q&&(typeof bt.nodeName!="string"||typeof bt.textContent!="string"||typeof bt.removeChild!="function"||!(bt.attributes instanceof G)||typeof bt.removeAttribute!="function"||typeof bt.setAttribute!="function"||typeof bt.namespaceURI!="string"||typeof bt.insertBefore!="function")},UM=function(bt){return qo(w)==="object"?bt instanceof w:bt&&qo(bt)==="object"&&typeof bt.nodeType=="number"&&typeof bt.nodeName=="string"},o_=function(bt,Dn,go){Io[bt]&&UK(Io[bt],function(Ta){Ta.call(s,Dn,go,OO)})},CX=function(bt){var Dn;if(o_("beforeSanitizeElements",bt,null),zne(bt)||fh(/[\u0080-\uFFFF]/,bt.nodeName))return n_(bt),!0;var go=XS(bt.nodeName);if(o_("uponSanitizeElement",bt,{tagName:go,allowedTags:Jo}),bt.hasChildNodes()&&!UM(bt.firstElementChild)&&(!UM(bt.content)||!UM(bt.content.firstElementChild))&&fh(/<[/\w]/g,bt.innerHTML)&&fh(/<[/\w]/g,bt.textContent)||go==="select"&&fh(/<template/i,bt.innerHTML))return n_(bt),!0;if(!Jo[go]||hh[go]){if(!hh[go]&&xX(go)&&(pi.tagNameCheck instanceof RegExp&&fh(pi.tagNameCheck,go)||pi.tagNameCheck instanceof Function&&pi.tagNameCheck(go)))return!1;if(zj&&!xO[go]){var Ta=nt(bt)||bt.parentNode,ym=Ue(bt)||bt.childNodes;if(ym&&Ta)for(var If=ym.length,Ud=If-1;Ud>=0;--Ud)Ta.insertBefore(Me(ym[Ud],!0),ot(bt))}return n_(bt),!0}return bt instanceof O&&!Une(bt)||(go==="noscript"||go==="noembed")&&fh(/<\/no(script|embed)/i,bt.innerHTML)?(n_(bt),!0):(Sw&&bt.nodeType===3&&(Dn=bt.textContent,Dn=Cw(Dn,Xn," "),Dn=Cw(Dn,As," "),bt.textContent!==Dn&&(FM(s.removed,{element:bt.cloneNode()}),bt.textContent=Dn)),o_("afterSanitizeElements",bt,null),!1)},SX=function(bt,Dn,go){if(mX&&(Dn==="id"||Dn==="name")&&(go in u||go in Hne))return!1;if(!(KS&&!bm[Dn]&&fh(Wt,Dn))){if(!(gv&&fh(Sn,Dn))){if(!Es[Dn]||bm[Dn]){if(!(xX(bt)&&(pi.tagNameCheck instanceof RegExp&&fh(pi.tagNameCheck,bt)||pi.tagNameCheck instanceof Function&&pi.tagNameCheck(bt))&&(pi.attributeNameCheck instanceof RegExp&&fh(pi.attributeNameCheck,Dn)||pi.attributeNameCheck instanceof Function&&pi.attributeNameCheck(Dn))||Dn==="is"&&pi.allowCustomizedBuiltInElements&&(pi.tagNameCheck instanceof RegExp&&fh(pi.tagNameCheck,go)||pi.tagNameCheck instanceof Function&&pi.tagNameCheck(go))))return!1}else if(!Wj[Dn]){if(!fh(Eo,Cw(go,Yn,""))){if(!((Dn==="src"||Dn==="xlink:href"||Dn==="href")&&bt!=="script"&&Xte(go,"data:")===0&&gX[bt])){if(!(TO&&!fh(gn,Cw(go,Yn,"")))){if(go)return!1}}}}}}return!0},xX=function(bt){return bt.indexOf("-")>0},AX=function(bt){var Dn,go,Ta,ym;o_("beforeSanitizeAttributes",bt,null);var If=bt.attributes;if(If){var Ud={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Es};for(ym=If.length;ym--;){Dn=If[ym];var H5=Dn,zd=H5.name,OX=H5.namespaceURI;go=zd==="value"?Dn.value:Qte(Dn.value),Ta=XS(zd);var Gne=go;if(Ud.attrName=Ta,Ud.attrValue=go,Ud.keepAttr=!0,Ud.forceKeepAttr=void 0,o_("uponSanitizeAttribute",bt,Ud),go=Ud.attrValue,!Ud.forceKeepAttr){if(!Ud.keepAttr){F5(zd,bt);continue}if(fh(/\/>/i,go)){F5(zd,bt);continue}Sw&&(go=Cw(go,Xn," "),go=Cw(go,As," "));var qne=XS(bt.nodeName);if(!SX(qne,Ta,go)){F5(zd,bt);continue}if(go!==Gne)try{OX?bt.setAttributeNS(OX,zd,go):bt.setAttribute(zd,go)}catch{F5(zd,bt)}}}o_("afterSanitizeAttributes",bt,null)}},Wne=function jo(bt){var Dn,go=TX(bt);for(o_("beforeSanitizeShadowDOM",bt,null);Dn=go.nextNode();)o_("uponSanitizeShadowNode",Dn,null),!CX(Dn)&&(Dn.content instanceof m&&jo(Dn.content),AX(Dn));o_("afterSanitizeShadowDOM",bt,null)};return s.sanitize=function(jo,bt){var Dn,go,Ta,ym,If;if(jj=!jo,jj&&(jo="<!-->"),typeof jo!="string"&&!UM(jo)){if(typeof jo.toString!="function")throw Mj("toString is not a function");if(jo=jo.toString(),typeof jo!="string")throw Mj("dirty is not a string, aborting")}if(!s.isSupported){if(qo(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof jo=="string")return t.toStaticHTML(jo);if(UM(jo))return t.toStaticHTML(jo.outerHTML)}return jo}if(HM||Zj(bt),s.removed=[],typeof jo=="string"&&(VM=!1),VM){if(jo.nodeName){var Ud=XS(jo.nodeName);if(!Jo[Ud]||hh[Ud])throw Mj("root node is forbidden and cannot be sanitized in-place")}}else if(jo instanceof w)Dn=wX("<!---->"),go=Dn.ownerDocument.importNode(jo,!0),go.nodeType===1&&go.nodeName==="BODY"||go.nodeName==="HTML"?Dn=go:Dn.appendChild(go);else{if(!CO&&!Sw&&!t_&&jo.indexOf("<")===-1)return gt&&L5?gt.createHTML(jo):jo;if(Dn=wX(jo),!Dn)return CO?null:L5?Qt:""}Dn&&Uj&&n_(Dn.firstChild);for(var H5=TX(VM?jo:Dn);Ta=H5.nextNode();)Ta.nodeType===3&&Ta===ym||CX(Ta)||(Ta.content instanceof m&&Wne(Ta.content),AX(Ta),ym=Ta);if(ym=null,VM)return jo;if(CO){if(P5)for(If=$o.call(Dn.ownerDocument);Dn.firstChild;)If.appendChild(Dn.firstChild);else If=Dn;return Es.shadowroot&&(If=Mo.call(i,If,!0)),If}var zd=t_?Dn.outerHTML:Dn.innerHTML;return t_&&Jo["!doctype"]&&Dn.ownerDocument&&Dn.ownerDocument.doctype&&Dn.ownerDocument.doctype.name&&fh(lne,Dn.ownerDocument.doctype.name)&&(zd="<!DOCTYPE "+Dn.ownerDocument.doctype.name+`>
`+zd),Sw&&(zd=Cw(zd,Xn," "),zd=Cw(zd,As," ")),gt&&L5?gt.createHTML(zd):zd},s.setConfig=function(jo){Zj(jo),HM=!0},s.clearConfig=function(){OO=null,HM=!1},s.isValidAttribute=function(jo,bt,Dn){OO||Zj({});var go=XS(jo),Ta=XS(bt);return SX(go,Ta,Dn)},s.addHook=function(jo,bt){typeof bt=="function"&&(Io[jo]=Io[jo]||[],FM(Io[jo],bt))},s.removeHook=function(jo){if(Io[jo])return Yte(Io[jo])},s.removeHooks=function(jo){Io[jo]&&(Io[jo]=[])},s.removeAllHooks=function(){Io={}},s}var fne=jK();const hne=t=>fne().sanitize(t),mne=sv.deviceType.isTouch(),ZK=(t,s)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,s]}),YK=(t,s)=>Ya.parts.close(qc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close")}},action:t,buttonBehaviours:kt([hi.config({})])})),KK=()=>Ya.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),XK=(t,s)=>Ya.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:fv(`<p>${hne(s.translate(t))}</p>`)}]}]}),QK=t=>Ya.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t}),JK=(t,s)=>[am.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),am.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:s})],Bj=t=>{const s="tox-dialog",i=s+"-wrap",u=i+"__backdrop",m=s+"__disable-scroll";return Ya.sketch({lazySink:t.lazySink,onEscape:b=>(t.onEscape(b),P.some(!0)),useTabstopAt:b=>!dS(b),firstTabstop:t.firstTabstop,dom:{tag:"div",classes:[s].concat(t.extraClasses),styles:{position:"relative",...t.extraStyles}},components:[t.header,t.body,...t.footer.toArray()],parts:{blocker:{dom:fv(`<div class="${i}"></div>`),components:[{dom:{tag:"div",classes:mne?[u,u+"--opaque"]:[u]}}]}},dragBlockClass:i,modalBehaviours:kt([jn.config({}),mo("dialog-events",t.dialogEvents.concat([qa(Hf(),(b,w)=>{Bn.focusIn(b)})])),mo("scroll-lock",[Tr(()=>{xs(Qi(),m)}),xc(()=>{Ls(Qi(),m)})]),...t.extraBehaviours]),eventOrder:{[zs()]:["dialog-events"],[sf()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Wu()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...t.eventOrder}})},eX=t=>qc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},buttonBehaviours:kt([hi.config({})]),components:[oh("close",{tag:"div",classes:["tox-icon"]},t.icons)],action:s=>{ss(s,My)}}),tX=(t,s,i,u)=>{const m=b=>[Cr(u.translate(b.title))];return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...i.map(b=>({id:b})).getOr({})}},components:[],behaviours:kt([Ks.config({channel:`${LM}-${s}`,initialData:t,renderComponents:m})])}},nX=()=>({dom:fv('<div class="tox-dialog__draghandle"></div>')}),pne=(t,s,i,u)=>am.sketch({dom:fv('<div class="tox-dialog__header"></div>'),components:[tX(t,s,P.some(i),u),nX(),eX(u)],containerBehaviours:kt([Zy.config({mode:"mouse",blockerClass:"blocker",getTarget:m=>ff(m,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}),gne=(t,s,i)=>{const u=Ya.parts.title(tX(t,s,P.none(),i)),m=Ya.parts.draghandle(nX()),b=Ya.parts.close(eX(i)),w=[u].concat(t.draggable?[m]:[]).concat([b]);return am.sketch({dom:fv('<div class="tox-dialog__header"></div>'),components:w})},oX=(t,s,i)=>gne({title:i.shared.providers.translate(t),draggable:i.dialog.isDraggableModal()},s,i.shared.providers),sX=(t,s,i)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":i.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:s,components:[{dom:fv('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),rX=(t,s,i)=>({onClose:()=>i.closeWindow(),onBlock:u=>{Ya.setBusy(t(),(m,b)=>sX(u.message,b,s))},onUnblock:()=>{Ya.setIdle(t())}}),iX=(t,s,i,u)=>{const m=(b,w)=>P.some(w);return dc(Bj({...t,firstTabstop:1,lazySink:u.shared.getSink,extraBehaviours:[Ks.config({channel:`${ZS}-${t.id}`,updateState:m,initialData:s}),Oi.memory({}),...t.extraBehaviours],onEscape:b=>{ss(b,My)},dialogEvents:i,eventOrder:{[Vf()]:[Ks.name(),bu.name()],[sf()]:["scroll-lock",Ks.name(),"messages","dialog-events","alloy.base.behaviour"],[Wu()]:["alloy.base.behaviour","dialog-events","messages",Ks.name(),"scroll-lock"]}}))},Fj=(t,s={})=>{const i=u=>{const m=et(u.items,b=>{const w=an(s,b.name).getOr(Wn(!1));return{...b,storage:w}});return{...u,items:m}};return et(t,u=>u.type==="menu"?i(u):u)},aX=t=>gs(t,(s,i)=>i.type==="menu"?gs(i.items,(m,b)=>(m[b.name]=b.storage,m),s):s,{}),cX=(t,s)=>[ng(Hf(),NU),t(nS,(i,u,m,b)=>{Ad(Aa(b.element)).fold(K,M1),s.onClose(),u.onClose()}),t(My,(i,u,m,b)=>{u.onCancel(i),ss(b,nS)}),Dt(mD,(i,u)=>s.onUnblock()),Dt(hD,(i,u)=>s.onBlock(u.event))],Hj={initUrlDialog:(t,s)=>{const i=(m,b)=>Dt(m,(w,O)=>{u(w,(M,F)=>{b(t(),M,O.event,w)})}),u=(m,b)=>{Ks.getState(m).get().each(w=>{b(w,m)})};return[...cX(i,s),i(Mg,(m,b,w)=>{b.onAction(m,{name:w.name})})]},initDialog:(t,s,i)=>{const u=(b,w)=>Dt(b,(O,M)=>{m(O,(F,G)=>{w(t(),F,M.event,O)})}),m=(b,w)=>{Ks.getState(b).get().each(O=>{w(O.internalDialog,b)})};return[...cX(u,s),u(oS,(b,w)=>w.onSubmit(b)),u(Pd,(b,w,O)=>{w.onChange(b,{name:O.name})}),u(Mg,(b,w,O,M)=>{const F=()=>Bn.focusIn(M),G=ae=>la(ae,"disabled")||Kr(ae,"aria-disabled").exists(Te=>Te==="true"),Q=Aa(M.element),te=Ad(Q);w.onAction(b,{name:O.name,value:O.value}),Ad(Q).fold(F,ae=>{G(ae)||te.exists(Te=>ec(ae,Te)&&G(Te))?F():i().toOptional().filter(Te=>!ec(Te.element,ae)).each(F)})}),u(P4,(b,w,O)=>{w.onTabChange(b,{newTabName:O.name,oldTabName:O.oldName})}),xc(b=>{const w=t();fn.setValue(b,w.getData())})]}},vne=(t,s)=>bS(t,t.type,s),bne=(t,s,i)=>kn(s,u=>u.name===i).bind(u=>u.memento.getOpt(t)),yne=(t,s)=>{const i=s.map(O=>O.footerButtons).getOr([]),u=cs(i,O=>O.align==="start"),m=(O,M)=>am.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${O}`]},components:et(M,F=>F.memento.asSpec())}),b=m("start",u.pass),w=m("end",u.fail);return[b,w]},lX=(t,s,i)=>{const u=(m,b)=>{const w=et(b.buttons,M=>{const F=zo(vne(M,i));return{name:M.name,align:M.align,memento:F}}),O=M=>bne(m,w,M);return P.some({lookupByName:O,footerButtons:w})};return{dom:fv('<div class="tox-dialog__footer"></div>'),components:[],behaviours:kt([Ks.config({channel:`${e_}-${s}`,initialData:t,updateState:u,renderComponents:yne})])}},_ne=(t,s,i)=>lX(t,s,i),uX=(t,s,i)=>Ya.parts.footer(lX(t,s,i)),dX=(t,s)=>{if(t.getRoot().getSystem().isConnected()){const u=Xo.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return rw.getField(u,s).orThunk(()=>{const m=t.getFooter();return Ks.getState(m).get().bind(w=>w.lookupByName(s))})}else return P.none()},Ene=(t,s)=>{const i=t.getRoot();return Ks.getState(i).get().map(u=>Po(ts("data",u.dataValidator,s))).getOr(s)},fX=(t,s,i)=>{const u=Te=>{const Me=t.getRoot();Me.getSystem().isConnected()&&Te(Me)},ae={getData:()=>{const Te=t.getRoot(),Me=Te.getSystem().isConnected()?t.getFormWrapper():Te,ot=fn.getValue(Me),Ue=Ms(i,nt=>nt.get());return{...ot,...Ue}},setData:Te=>{u(Me=>{const ot=ae.getData(),Ue=Js(ot,Te),nt=Ene(t,Ue),dt=t.getFormWrapper();fn.setValue(dt,nt),Yr(i,(gt,Qt)=>{Ho(Ue,Qt)&&gt.set(Ue[Qt])})})},setEnabled:(Te,Me)=>{dX(t,Te).each(Me?no.enable:no.disable)},focus:Te=>{dX(t,Te).each(jn.focus)},block:Te=>{if(!B(Te))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");u(Me=>{Mn(Me,hD,{message:Te})})},unblock:()=>{u(Te=>{ss(Te,mD)})},showTab:Te=>{u(Me=>{const ot=t.getBody();Ks.getState(ot).get().exists(nt=>nt.isTabPanel())&&Xo.getCurrent(ot).each(nt=>{ou.showTab(nt,Te)})})},redial:Te=>{u(Me=>{const ot=t.getId(),Ue=s(Te),nt=Fj(Ue.internalDialog.buttons,i);Me.getSystem().broadcastOn([`${ZS}-${ot}`],Ue),Me.getSystem().broadcastOn([`${LM}-${ot}`],Ue.internalDialog),Me.getSystem().broadcastOn([`${vm}-${ot}`],Ue.internalDialog),Me.getSystem().broadcastOn([`${e_}-${ot}`],{...Ue.internalDialog,buttons:nt}),ae.setData(Ue.initialData)})},close:()=>{u(Te=>{ss(Te,nS)})},toggleFullscreen:t.toggleFullscreen};return ae},wne=t=>{switch(t){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},Tne=(t,s,i)=>{const u=_n("dialog"),m=t.internalDialog,b=oX(m.title,u,i),w=zt({body:m.body,initialData:m.initialData},u,i),O=Fj(m.buttons),M=aX(O),F=uX({buttons:O},u,i),G=Hj.initDialog(()=>Me,rX(()=>ae,i.shared.providers,s),i.shared.getSink),Q=wne(m.size),te={id:u,header:b,body:w,footer:P.some(F),extraClasses:Q,extraBehaviours:[],extraStyles:{}},ae=iX(te,t,G,i),Te=(()=>{const ot=()=>{const nt=Ya.getBody(ae);return Xo.getCurrent(nt).getOr(nt)},Ue=()=>{const nt="tox-dialog--fullscreen",dt=Qe.fromDom(ae.element.dom);oa(dt,nt)?(Ls(dt,nt),gu(dt,Q)):(zc(dt,Q),xs(dt,nt))};return{getId:Ee(u),getRoot:Ee(ae),getBody:()=>Ya.getBody(ae),getFooter:()=>Ya.getFooter(ae),getFormWrapper:ot,toggleFullscreen:Ue}})(),Me=fX(Te,s.redial,M);return{dialog:ae,instanceApi:Me}},Cne=(t,s,i,u)=>{const m=_n("dialog"),b=_n("dialog-label"),w=_n("dialog-content"),O=t.internalDialog,M=(dt,gt)=>P.some(gt),F=zo(pne({title:O.title,draggable:!0},m,b,i.shared.providers)),G=zo(Zt({body:O.body,initialData:O.initialData},m,w,i,u)),Q=Fj(O.buttons),te=aX(Q),ae=zo(_ne({buttons:Q},m,i)),Te=Hj.initDialog(()=>nt,{onBlock:dt=>{Bb.block(ot,(gt,Qt)=>sX(dt.message,Qt,i.shared.providers))},onUnblock:()=>{Bb.unblock(ot)},onClose:()=>s.closeWindow()},i.shared.getSink),Me="tox-dialog-inline",ot=dc({dom:{tag:"div",classes:["tox-dialog",Me],attributes:{role:"dialog",["aria-labelledby"]:b,["aria-describedby"]:w}},eventOrder:{[Vf()]:[Ks.name(),bu.name()],[zs()]:["execute-on-form"],[sf()]:["reflecting","execute-on-form"]},behaviours:kt([Bn.config({mode:"cyclic",onEscape:dt=>(ss(dt,nS),P.some(!0)),useTabstopAt:dt=>!dS(dt)&&(Ja(dt)!=="button"||Mi(dt,"disabled")!=="disabled"),firstTabstop:1}),Ks.config({channel:`${ZS}-${m}`,updateState:M,initialData:t}),jn.config({}),mo("execute-on-form",Te.concat([qa(Hf(),(dt,gt)=>{Bn.focusIn(dt)})])),Bb.config({getRoot:()=>P.some(ot)}),lo.config({}),Oi.memory({})]),components:[F.asSpec(),G.asSpec(),ae.asSpec()]}),Ue=()=>{const dt="tox-dialog--fullscreen",gt=Qe.fromDom(ot.element.dom);Uh(gt,[dt])?(zc(gt,[dt]),gu(gt,[Me])):(zc(gt,[Me]),gu(gt,[dt]))},nt=fX({getId:Ee(m),getRoot:Ee(ot),getFooter:()=>ae.get(ot),getBody:()=>G.get(ot),getFormWrapper:()=>{const dt=G.get(ot);return Xo.getCurrent(dt).getOr(dt)},toggleFullscreen:Ue},s.redial,te);return{dialog:ot,instanceApi:nt}};var Vj=tinymce.util.Tools.resolve("tinymce.util.URI");const Sne=t=>{const s=w=>{t.getSystem().isConnected()&&w(t)};return{block:w=>{if(!B(w))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(O=>{Mn(O,hD,{message:w})})},unblock:()=>{s(w=>{ss(w,mD)})},close:()=>{s(w=>{ss(w,nS)})},sendMessage:w=>{s(O=>{O.getSystem().broadcastOn([at],w)})}}},xne=["insertContent","setContent","execCommand","close","block","unblock"],hX=t=>U(t)&&xne.indexOf(t.mceAction)!==-1,Ane=t=>!hX(t)&&U(t)&&Ho(t,"mceAction"),One=(t,s,i)=>{switch(i.mceAction){case"insertContent":t.insertContent(i.content);break;case"setContent":t.setContent(i.content);break;case"execCommand":const u=ve(i.ui)?i.ui:!1;t.execCommand(i.cmd,u,i.value);break;case"close":s.close();break;case"block":s.block(i.message);break;case"unblock":s.unblock();break}},Rne=(t,s,i,u)=>{const m=_n("dialog"),b=oX(t.title,m,u),w=Hn(t),O=t.buttons.bind(nt=>nt.length===0?P.none():P.some(uX({buttons:nt},m,u))),M=Hj.initUrlDialog(()=>Ue,rX(()=>ot,u.shared.providers,s)),F={...t.height.fold(()=>({}),nt=>({height:nt+"px","max-height":nt+"px"})),...t.width.fold(()=>({}),nt=>({width:nt+"px","max-width":nt+"px"}))},G=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],Q=new Vj(t.url,{base_uri:new Vj(window.location.href)}),te=`${Q.protocol}://${Q.host}${Q.port?":"+Q.port:""}`,ae=_u(),Te=[mo("messages",[Tr(()=>{const nt=Dc(Qe.fromDom(window),"message",dt=>{if(Q.isSameOrigin(new Vj(dt.raw.origin))){const gt=dt.raw.data;hX(gt)?One(i,Ue,gt):Ane(gt)&&t.onMessage(Ue,gt)}});ae.set(nt)}),xc(ae.clear)]),bu.config({channels:{[at]:{onReceive:(nt,dt)=>{Nr(nt.element,"iframe").each(gt=>{const Qt=gt.dom.contentWindow;ue(Qt)&&Qt.postMessage(dt,te)})}}}})],ot=iX({id:m,header:b,body:w,footer:O,extraClasses:G,extraBehaviours:Te,extraStyles:F},t,M,u),Ue=Sne(ot);return{dialog:ot,instanceApi:Ue}},Ine=t=>{const s=t.shared;return{open:(u,m)=>{const b=()=>{Ya.hide(F),m()},w=zo(bS({name:"close-alert",text:"OK",primary:!0,buttonType:P.some("primary"),align:"end",enabled:!0,icon:P.none()},"cancel",t)),O=KK(),M=YK(b,s.providers),F=dc(Bj({lazySink:()=>s.getSink(),header:ZK(O,M),body:XK(u,s.providers),footer:P.some(QK(JK([],[w.asSpec()]))),onEscape:b,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Dt(My,b)],eventOrder:{}}));Ya.show(F);const G=w.get(F);jn.focus(G)}}},Dne=t=>{const s=t.shared;return{open:(u,m)=>{const b=te=>{Ya.hide(G),m(te)},w=zo(bS({name:"yes",text:"Yes",primary:!0,buttonType:P.some("primary"),align:"end",enabled:!0,icon:P.none()},"submit",t)),O=bS({name:"no",text:"No",primary:!1,buttonType:P.some("secondary"),align:"end",enabled:!0,icon:P.none()},"cancel",t),M=KK(),F=YK(()=>b(!1),s.providers),G=dc(Bj({lazySink:()=>s.getSink(),header:ZK(M,F),body:XK(u,s.providers),footer:P.some(QK(JK([],[O,w.asSpec()]))),onEscape:()=>b(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Dt(My,()=>b(!1)),Dt(oS,()=>b(!0))],eventOrder:{}}));Ya.show(G);const Q=w.get(G);jn.focus(Q)}}},Nne=(t,s)=>Po(ts("data",s,t)),Mne=t=>JC(t,".tox-alert-dialog")||JC(t,".tox-confirm-dialog"),kne=(t,s,i)=>s&&i?[]:[$a.config({contextual:{lazyContext:()=>P.some(es(Qe.fromDom(t.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:u=>Ai(t,u.element).map(b=>({bounds:WA(b),optScrollEnv:P.some({currentScrollTop:b.element.dom.scrollTop,scrollElmTop:Ao(b.element).top})})).getOrThunk(()=>({bounds:Da(),optScrollEnv:P.none()}))})],Pne=t=>{const s=t.editor,i=zE(s),u=Ine(t.backstages.dialog),m=Dne(t.backstages.dialog),b=(ae,Te,Me)=>Te!==void 0&&Te.inline==="toolbar"?F(ae,t.backstages.popup.shared.anchors.inlineDialog(),Me,Te.ariaAttrs):Te!==void 0&&Te.inline==="cursor"?F(ae,t.backstages.popup.shared.anchors.cursor(),Me,Te.ariaAttrs):M(ae,Me),w=(ae,Te)=>O(ae,Te),O=(ae,Te)=>{const Me=ot=>{const Ue=Rne(ot,{closeWindow:()=>{Ya.hide(Ue.dialog),Te(Ue.instanceApi)}},s,t.backstages.dialog);return Ya.show(Ue.dialog),Ue.instanceApi};return zn.openUrl(Me,ae)},M=(ae,Te)=>{const Me=(ot,Ue,nt)=>{const dt=Ue,Qt=Tne({dataValidator:nt,initialData:dt,internalDialog:ot},{redial:zn.redial,closeWindow:()=>{Ya.hide(Qt.dialog),Te(Qt.instanceApi)}},t.backstages.dialog);return Ya.show(Qt.dialog),Qt.instanceApi.setData(dt),Qt.instanceApi};return zn.open(Me,ae)},F=(ae,Te,Me,ot=!1)=>{const Ue=(nt,dt,gt)=>{const Qt=Nne(dt,gt),Pt=Zs(),ln=t.backstages.popup.shared.header.isPositionedAtTop(),An={dataValidator:gt,initialData:Qt,internalDialog:nt},$o=()=>Pt.on(Io=>{ra.reposition(Io),$a.refresh(Io)}),Fn=Cne(An,{redial:zn.redial,closeWindow:()=>{Pt.on(ra.hide),s.off("ResizeEditor",$o),Pt.clear(),Me(Fn.instanceApi)}},t.backstages.popup,ot),Mo=dc(ra.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{},...ln?{}:{fireRepositionEventInstead:{}},inlineBehaviours:kt([mo("window-manager-inline-events",[Dt(pu(),(Io,Xn)=>{ss(Fn.dialog,My)})]),...kne(s,i,ln)]),isExtraPart:(Io,Xn)=>Mne(Xn)}));Pt.set(Mo);const oo=()=>{const Io=s.inline?Qi():Qe.fromDom(s.getContainer()),Xn=es(Io);return P.some(Xn)};return ra.showWithinBounds(Mo,rl(Fn.dialog),{anchor:Te},oo),(!i||!ln)&&($a.refresh(Mo),s.on("ResizeEditor",$o)),Fn.instanceApi.setData(Qt),Bn.focusIn(Fn.dialog),Fn.instanceApi};return zn.open(Ue,ae)};return{open:b,openUrl:w,alert:(ae,Te)=>{u.open(ae,Te)},close:ae=>{ae.close()},confirm:(ae,Te)=>{m.open(ae,Te)}}},Lne=t=>{vP(t),Ap(t),cq(t)};var $ne=()=>{Yd.add("silver",t=>{Lne(t);let s=()=>Da();const{dialogs:i,popups:u,renderUI:m}=pO(t,{getPopupSinkBounds:()=>s()}),b=async()=>{const M=await m();return Ai(t,u.getMothership().element).each(G=>{s=()=>WA(G)}),M};Ng.register(t,u.backstage.shared);const w=Pne({editor:t,backstages:{popup:u.backstage,dialog:i.backstage}}),O=()=>iI(t,{backstage:u.backstage},u.getMothership());return{renderUI:b,getWindowManagerImpl:Ee(w),getNotificationManagerImpl:O}})};$ne()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.ModelManager");const c=(d,g,E)=>{var x;return E(d,g.prototype)?!0:((x=d.constructor)===null||x===void 0?void 0:x.name)===g.name},f=d=>{const g=typeof d;return d===null?"null":g==="object"&&Array.isArray(d)?"array":g==="object"&&c(d,String,(E,x)=>x.isPrototypeOf(E))?"string":g},y=d=>g=>f(g)===d,S=d=>g=>typeof g===d,D=d=>g=>d===g,I=y("string"),B=y("object"),U=y("array"),j=D(null),Y=S("boolean"),ne=D(void 0),ve=d=>d==null,ie=d=>!ve(d),fe=S("function"),ue=S("number"),ce=()=>{},re=(d,g)=>(...E)=>d(g.apply(null,E)),me=(d,g)=>E=>d(g(E)),K=d=>()=>d,De=d=>d,Ge=(d,g)=>d===g;function H(d,...g){return(...E)=>{const x=g.concat(E);return d.apply(null,x)}}const Ee=d=>g=>!d(g),qe=d=>()=>{throw new Error(d)},ut=d=>d(),yt=K(!1),ke=K(!0);class _e{constructor(g,E){this.tag=g,this.value=E}static some(g){return new _e(!0,g)}static none(){return _e.singletonNone}fold(g,E){return this.tag?E(this.value):g()}isSome(){return this.tag}isNone(){return!this.tag}map(g){return this.tag?_e.some(g(this.value)):_e.none()}bind(g){return this.tag?g(this.value):_e.none()}exists(g){return this.tag&&g(this.value)}forall(g){return!this.tag||g(this.value)}filter(g){return!this.tag||g(this.value)?this:_e.none()}getOr(g){return this.tag?this.value:g}or(g){return this.tag?this:g}getOrThunk(g){return this.tag?this.value:g()}orThunk(g){return this.tag?this:g()}getOrDie(g){if(this.tag)return this.value;throw new Error(g??"Called getOrDie on None")}static from(g){return ie(g)?_e.some(g):_e.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(g){this.tag&&g(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}_e.singletonNone=new _e(!1);const mn=Array.prototype.slice,wt=Array.prototype.indexOf,Ot=Array.prototype.push,P=(d,g)=>wt.call(d,g),Rt=(d,g)=>P(d,g)>-1,tt=(d,g)=>{for(let E=0,x=d.length;E<x;E++){const k=d[E];if(g(k,E))return!0}return!1},qt=(d,g)=>{const E=[];for(let x=0;x<d;x++)E.push(g(x));return E},Vt=(d,g)=>{const E=d.length,x=new Array(E);for(let k=0;k<E;k++){const z=d[k];x[k]=g(z,k)}return x},je=(d,g)=>{for(let E=0,x=d.length;E<x;E++){const k=d[E];g(k,E)}},vo=(d,g)=>{for(let E=d.length-1;E>=0;E--){const x=d[E];g(x,E)}},Bo=(d,g)=>{const E=[],x=[];for(let k=0,z=d.length;k<z;k++){const ee=d[k];(g(ee,k)?E:x).push(ee)}return{pass:E,fail:x}},ao=(d,g)=>{const E=[];for(let x=0,k=d.length;x<k;x++){const z=d[x];g(z,x)&&E.push(z)}return E},Fo=(d,g,E)=>(vo(d,(x,k)=>{E=g(E,x,k)}),E),et=(d,g,E)=>(je(d,(x,k)=>{E=g(E,x,k)}),E),It=(d,g,E)=>{for(let x=0,k=d.length;x<k;x++){const z=d[x];if(g(z,x))return _e.some(z);if(E(z,x))break}return _e.none()},oe=(d,g)=>It(d,g,yt),cs=(d,g)=>{for(let E=0,x=d.length;E<x;E++){const k=d[E];if(g(k,E))return _e.some(E)}return _e.none()},uo=d=>{const g=[];for(let E=0,x=d.length;E<x;++E){if(!U(d[E]))throw new Error("Arr.flatten item "+E+" was not an array, input: "+d);Ot.apply(g,d[E])}return g},Bt=(d,g)=>uo(Vt(d,g)),gs=(d,g)=>{for(let E=0,x=d.length;E<x;++E){const k=d[E];if(g(k,E)!==!0)return!1}return!0},Xa=d=>{const g=mn.call(d,0);return g.reverse(),g},kn=(d,g)=>{const E={};for(let x=0,k=d.length;x<k;x++){const z=d[x];E[String(z)]=g(z,x)}return E},ko=(d,g)=>{const E=mn.call(d,0);return E.sort(g),E},Yt=(d,g)=>g>=0&&g<d.length?_e.some(d[g]):_e.none(),mt=d=>Yt(d,0),gi=d=>Yt(d,d.length-1),vi=(d,g)=>{for(let E=0;E<d.length;E++){const x=g(d[E],E);if(x.isSome())return x}return _e.none()},Lt=Object.keys,Lr=Object.hasOwnProperty,Ns=(d,g)=>{const E=Lt(d);for(let x=0,k=E.length;x<k;x++){const z=E[x],ee=d[z];g(ee,z)}},Pc=(d,g)=>vs(d,(E,x)=>({k:x,v:g(E,x)})),vs=(d,g)=>{const E={};return Ns(d,(x,k)=>{const z=g(x,k);E[z.k]=z.v}),E},Rr=d=>(g,E)=>{d[E]=g},jc=(d,g,E,x)=>{Ns(d,(k,z)=>{(g(k,z)?E:x)(k,z)})},Ca=(d,g)=>{const E={};return jc(d,g,Rr(E),ce),E},nr=(d,g)=>{const E=[];return Ns(d,(x,k)=>{E.push(g(x,k))}),E},Os=d=>nr(d,De),rd=(d,g)=>Yr(d,g)?_e.from(d[g]):_e.none(),Yr=(d,g)=>Lr.call(d,g),Ms=(d,g)=>Yr(d,g)&&d[g]!==void 0&&d[g]!==null,fl=d=>{for(const g in d)if(Lr.call(d,g))return!1;return!0},Ii=typeof window<"u"?window:Function("return this;")(),Zc=(d,g)=>{let E=g??Ii;for(let x=0;x<d.length&&E!==void 0&&E!==null;++x)E=E[d[x]];return E},vr=(d,g)=>{const E=d.split(".");return Zc(E,g)},$r=(d,g)=>vr(d,g),Gd=(d,g)=>{const E=$r(d,g);if(E==null)throw new Error(d+" not available on this browser");return E},bi=Object.getPrototypeOf,yh=d=>Gd("HTMLElement",d),an=d=>{const g=vr("ownerDocument.defaultView",d);return B(d)&&(yh(g).prototype.isPrototypeOf(d)||/^HTML\w*Element$/.test(bi(d).constructor.name))},Ho=8,ca=9,gc=11,_h=1,au=3,ks=d=>d.dom.nodeName.toLowerCase(),id=d=>d.dom.nodeType,qd=d=>g=>id(g)===d,Xs=d=>id(d)===Ho||ks(d)==="#comment",qn=d=>Qa(d)&&an(d.dom),Qa=qd(_h),Ru=qd(au),Yc=qd(ca),Eh=qd(gc),Di=d=>g=>Qa(g)&&ks(g)===d,Ki=(d,g,E)=>{if(I(E)||Y(E)||ue(E))d.setAttribute(g,E+"");else throw console.error("Invalid call to Attribute.set. Key ",g,":: Value ",E,":: Element ",d),new Error("Attribute value was not simple")},Ur=(d,g,E)=>{Ki(d.dom,g,E)},Fa=(d,g)=>{const E=d.dom;Ns(g,(x,k)=>{Ki(E,k,x)})},Kc=(d,g)=>{Ns(g,(E,x)=>{E.fold(()=>{Br(d,x)},k=>{Ki(d.dom,x,k)})})},vc=(d,g)=>{const E=d.dom.getAttribute(g);return E===null?void 0:E},Sa=(d,g)=>_e.from(vc(d,g)),Br=(d,g)=>{d.dom.removeAttribute(g)},bc=d=>et(d.dom.attributes,(g,E)=>(g[E.name]=E.value,g),{}),hl=(d,g)=>{const x=(g||document).createElement("div");if(x.innerHTML=d,!x.hasChildNodes()||x.childNodes.length>1){const k="HTML does not have a single root node";throw console.error(k,d),new Error(k)}return Ll(x.childNodes[0])},Bp=(d,g)=>{const x=(g||document).createElement(d);return Ll(x)},Fp=(d,g)=>{const x=(g||document).createTextNode(d);return Ll(x)},Ll=d=>{if(d==null)throw new Error("Node cannot be null or undefined");return{dom:d}},Qe={fromHtml:hl,fromTag:Bp,fromText:Fp,fromDom:Ll,fromPoint:(d,g,E)=>_e.from(d.dom.elementFromPoint(g,E)).map(Ll)},yi=(d,g)=>{const E=d.dom;if(E.nodeType!==_h)return!1;{const x=E;if(x.matches!==void 0)return x.matches(g);if(x.msMatchesSelector!==void 0)return x.msMatchesSelector(g);if(x.webkitMatchesSelector!==void 0)return x.webkitMatchesSelector(g);if(x.mozMatchesSelector!==void 0)return x.mozMatchesSelector(g);throw new Error("Browser lacks native selectors")}},cu=d=>d.nodeType!==_h&&d.nodeType!==ca&&d.nodeType!==gc||d.childElementCount===0,Hp=(d,g)=>{const E=g===void 0?document:g.dom;return cu(E)?[]:Vt(E.querySelectorAll(d),Qe.fromDom)},wh=(d,g)=>{const E=g===void 0?document:g.dom;return cu(E)?_e.none():_e.from(E.querySelector(d)).map(Qe.fromDom)},Fs=(d,g)=>d.dom===g.dom,jd=(d,g)=>{const E=d.dom,x=g.dom;return E===x?!1:E.contains(x)},Cm=yi,Xi=d=>Qe.fromDom(d.dom.ownerDocument),Xc=d=>Yc(d)?d:Xi(d),oi=d=>Qe.fromDom(Xc(d).dom.documentElement),_i=d=>Qe.fromDom(Xc(d).dom.defaultView),lu=d=>_e.from(d.dom.parentNode).map(Qe.fromDom),Ja=d=>_e.from(d.dom.parentElement).map(Qe.fromDom),uu=(d,g)=>{const E=fe(g)?g:yt;let x=d.dom;const k=[];for(;x.parentNode!==null&&x.parentNode!==void 0;){const z=x.parentNode,ee=Qe.fromDom(z);if(k.push(ee),E(ee)===!0)break;x=z}return k},$l=d=>_e.from(d.dom.previousSibling).map(Qe.fromDom),ad=d=>_e.from(d.dom.nextSibling).map(Qe.fromDom),Cs=d=>Vt(d.dom.childNodes,Qe.fromDom),si=(d,g)=>{const E=d.dom.childNodes;return _e.from(E[g]).map(Qe.fromDom)},Qc=d=>si(d,0),cd=(d,g)=>{lu(d).each(x=>{x.dom.insertBefore(g.dom,d.dom)})},xa=(d,g)=>{ad(d).fold(()=>{lu(d).each(k=>{br(k,g)})},x=>{cd(x,g)})},yc=(d,g)=>{Qc(d).fold(()=>{br(d,g)},x=>{d.dom.insertBefore(g.dom,x.dom)})},br=(d,g)=>{d.dom.appendChild(g.dom)},ld=(d,g,E)=>{si(d,E).fold(()=>{br(d,g)},x=>{cd(x,g)})},du=(d,g)=>{cd(d,g),br(g,d)},bs=(d,g)=>{je(g,(E,x)=>{const k=x===0?d:g[x-1];xa(k,E)})},ec=(d,g)=>{je(g,E=>{br(d,E)})},ri=d=>{d.dom.textContent="",je(Cs(d),g=>{Fr(g)})},Fr=d=>{const g=d.dom;g.parentNode!==null&&g.parentNode.removeChild(g)},Jc=d=>{const g=Cs(d);g.length>0&&bs(d,g),Fr(d)},Iu=(d,g)=>Qe.fromDom(d.dom.cloneNode(g)),_c=d=>Iu(d,!1),Lc=d=>Iu(d,!0),Df=(d,g)=>{const E=Qe.fromTag(g),x=bc(d);return Fa(E,x),E},Th=(d,g)=>{const E=Df(d,g),x=Cs(Lc(d));return ec(E,x),E},Vp=(d,g)=>{const E=Df(d,g);xa(d,E);const x=Cs(d);return ec(E,x),Fr(d),E},tc=["tfoot","thead","tbody","colgroup"],Du=d=>Rt(tc,d),Ch=(d,g)=>({rows:d,columns:g}),Nu=(d,g)=>({row:d,column:g}),Nf=(d,g,E)=>({element:d,rowspan:g,colspan:E}),Sm=(d,g,E,x)=>({element:d,rowspan:g,colspan:E,isNew:x}),Mu=(d,g,E,x,k,z)=>({element:d,rowspan:g,colspan:E,row:x,column:k,isLocked:z}),ku=(d,g,E)=>({element:d,cells:g,section:E}),Aa=(d,g,E,x)=>({element:d,cells:g,section:E,isNew:x}),Ni=(d,g,E)=>({element:d,isNew:g,isLocked:E}),Pu=(d,g,E,x)=>({element:d,cells:g,section:E,isNew:x}),Mf=(d,g,E,x)=>({startRow:d,startCol:g,finishRow:E,finishCol:x}),Up=(d,g,E)=>({element:d,colspan:g,column:E}),Hs=(d,g)=>({element:d,columns:g}),yr=d=>Eh(d)&&ie(d.dom.host),nc=fe(Element.prototype.attachShadow)&&fe(Node.prototype.getRootNode),Qi=K(nc),ml=nc?d=>Qe.fromDom(d.dom.getRootNode()):Xc,$c=d=>{const g=ml(d);return yr(g)?_e.some(g):_e.none()},co=d=>Qe.fromDom(d.dom.host),Do=d=>{if(Qi()&&ie(d.target)){const g=Qe.fromDom(d.target);if(Qa(g)&&Mi(g)&&d.composed&&d.composedPath){const E=d.composedPath();if(E)return mt(E)}}return _e.from(d.target)},Mi=d=>ie(d.dom.shadowRoot),Kr=d=>{const g=Ru(d)?d.dom.parentNode:d.dom;if(g==null||g.ownerDocument===null)return!1;const E=g.ownerDocument;return $c(Qe.fromDom(g)).fold(()=>E.body.contains(g),me(Kr,co))},la=()=>T(Qe.fromDom(document)),T=d=>{const g=d.dom.body;if(g==null)throw new Error("Body is not available yet");return Qe.fromDom(g)},N=(d,g,E)=>ao(uu(d,E),g),V=(d,g)=>ao(Cs(d),g),W=(d,g)=>{let E=[];return je(Cs(d),x=>{g(x)&&(E=E.concat([x])),E=E.concat(W(x,g))}),E},J=(d,g,E)=>N(d,x=>yi(x,g),E),le=(d,g)=>V(d,E=>yi(E,g)),ye=(d,g)=>Hp(g,d);var we=(d,g,E,x,k)=>d(E,x)?_e.some(E):fe(k)&&k(E)?_e.none():g(E,x,k);const Pe=(d,g,E)=>{let x=d.dom;const k=fe(E)?E:yt;for(;x.parentNode;){x=x.parentNode;const z=Qe.fromDom(x);if(g(z))return _e.some(z);if(k(z))break}return _e.none()},rt=(d,g,E)=>we((k,z)=>z(k),Pe,d,g,E),_t=(d,g)=>{const E=k=>g(Qe.fromDom(k));return oe(d.dom.childNodes,E).map(Qe.fromDom)},Kt=(d,g)=>{const E=x=>{for(let k=0;k<x.childNodes.length;k++){const z=Qe.fromDom(x.childNodes[k]);if(g(z))return _e.some(z);const ee=E(x.childNodes[k]);if(ee.isSome())return ee}return _e.none()};return E(d.dom)},st=(d,g,E)=>Pe(d,x=>yi(x,g),E),Nt=(d,g)=>_t(d,E=>yi(E,g)),Jn=(d,g)=>wh(g,d),Zn=(d,g,E)=>we((k,z)=>yi(k,z),st,d,g,E),Tn=(d,g,E=Ge)=>d.exists(x=>E(x,g)),lr=d=>{const g=[],E=x=>{g.push(x)};for(let x=0;x<d.length;x++)d[x].each(E);return g},Gs=(d,g)=>d!=null?g(d):_e.none(),ls=(d,g)=>d?_e.some(g):_e.none(),Kn=(d,g,E)=>g===""||d.length>=g.length&&d.substr(E,E+g.length)===g,eo=(d,g,E=0,x)=>{const k=d.indexOf(g,E);return k!==-1?ne(x)?!0:k+g.length<=x:!1},ki=(d,g)=>Kn(d,g,0),Ao=(d,g)=>Kn(d,g,d.length-g.length),Bl=(d=>g=>g.replace(d,""))(/^\s+|\s+$/g),Vs=d=>d.length>0,ur=d=>{const g=parseFloat(d);return isNaN(g)?_e.none():_e.some(g)},Ir=d=>d.style!==void 0&&fe(d.style.getPropertyValue),Bc=(d,g,E)=>{if(!I(E))throw console.error("Invalid call to CSS.set. Property ",g,":: Value ",E,":: Element ",d),new Error("CSS value must be a string: "+E);Ir(d)&&d.style.setProperty(g,E)},Ei=(d,g)=>{Ir(d)&&d.style.removeProperty(g)},is=(d,g,E)=>{const x=d.dom;Bc(x,g,E)},dr=(d,g)=>{const E=d.dom;Ns(g,(x,k)=>{Bc(E,k,x)})},Oa=(d,g)=>{const E=d.dom,k=window.getComputedStyle(E).getPropertyValue(g);return k===""&&!Kr(d)?kf(E,g):k},kf=(d,g)=>Ir(d)?d.style.getPropertyValue(g):"",Fc=(d,g)=>{const E=d.dom,x=kf(E,g);return _e.from(x).filter(k=>k.length>0)},Ec=(d,g)=>{const E=d.dom;Ei(E,g),Tn(Sa(d,"style").map(Bl),"")&&Br(d,"style")},ho=(d,g)=>{const E=d.dom,x=g.dom;Ir(E)&&Ir(x)&&(x.style.cssText=E.style.cssText)},zr=(d,g,E=0)=>Sa(d,g).map(x=>parseInt(x,10)).getOr(E),Pi=(d,g)=>zr(d,g,1),oc=d=>Di("col")(d)?zr(d,"span",1)>1:Pi(d,"colspan")>1,Ji=d=>Pi(d,"rowspan")>1,fr=(d,g)=>parseInt(Oa(d,g),10),Ha=K(10),Ra=K(10),ud=(d,g)=>Sh(d,g,ke),Sh=(d,g,E)=>Bt(Cs(d),x=>yi(x,g)?E(x)?[x]:[]:Sh(x,g,E)),zp=(d,g,E=yt)=>{if(E(g))return _e.none();if(Rt(d,ks(g)))return _e.some(g);const x=k=>yi(k,"table")||E(k);return st(g,d.join(","),x)},Fl=(d,g)=>zp(["td","th"],d,g),fu=d=>ud(d,"th,td"),Zd=d=>yi(d,"colgroup")?le(d,"col"):Bt(fd(d),g=>le(g,"col")),wi=(d,g)=>Zn(d,"table",g),dd=d=>ud(d,"tr"),fd=d=>wi(d).fold(K([]),g=>le(g,"colgroup")),Lu=(d,g)=>Vt(d,E=>{if(ks(E)==="colgroup"){const x=Vt(Zd(E),k=>{const z=zr(k,"span",1);return Nf(k,1,z)});return ku(E,x,"colgroup")}else{const x=Vt(fu(E),k=>{const z=zr(k,"rowspan",1),ee=zr(k,"colspan",1);return Nf(k,z,ee)});return ku(E,x,g(E))}}),sc=d=>lu(d).map(g=>{const E=ks(g);return Du(E)?E:"tbody"}).getOr("tbody"),ua=d=>{const g=dd(d),x=[...fd(d),...g];return Lu(x,sc)},hu=(d,g)=>Lu(d,()=>g),hd=d=>{let g=!1,E;return(...x)=>(g||(g=!0,E=d.apply(null,x)),E)},xh=(d,g,E,x)=>{const k=d.isiOS()&&/ipad/i.test(E)===!0,z=d.isiOS()&&!k,ee=d.isiOS()||d.isAndroid(),pe=ee||x("(pointer:coarse)"),Ce=k||!z&&ee&&x("(min-device-width:768px)"),Ne=z||ee&&!Ce,Xe=g.isSafari()&&d.isiOS()&&/safari/i.test(E)===!1,$t=!Ne&&!Ce&&!Xe;return{isiPad:K(k),isiPhone:K(z),isTablet:K(Ce),isPhone:K(Ne),isTouch:K(pe),isAndroid:d.isAndroid,isiOS:d.isiOS,isWebView:K(Xe),isDesktop:K($t)}},Ah=(d,g)=>{for(let E=0;E<d.length;E++){const x=d[E];if(x.test(g))return x}},ws=(d,g)=>{const E=Ah(d,g);if(!E)return{major:0,minor:0};const x=k=>Number(g.replace(E,"$"+k));return rc(x(1),x(2))},wc=(d,g)=>{const E=String(g).toLowerCase();return d.length===0?Ie():ws(d,E)},Ie=()=>rc(0,0),rc=(d,g)=>({major:d,minor:g}),da={nu:rc,detect:wc,unknown:Ie},Oh=(d,g)=>vi(g.brands,E=>{const x=E.brand.toLowerCase();return oe(d,k=>{var z;return x===((z=k.brand)===null||z===void 0?void 0:z.toLowerCase())}).map(k=>({current:k.name,version:da.nu(parseInt(E.version,10),0)}))}),md=(d,g)=>{const E=String(g).toLowerCase();return oe(d,x=>x.search(E))},o1=(d,g)=>md(d,g).map(E=>{const x=da.detect(E.versionRegexes,g);return{current:E.name,version:x}}),ns=(d,g)=>md(d,g).map(E=>{const x=da.detect(E.versionRegexes,g);return{current:E.name,version:x}}),Je=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Mt=d=>g=>eo(g,d),At=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:d=>eo(d,"edge/")&&eo(d,"chrome")&&eo(d,"safari")&&eo(d,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Je],search:d=>eo(d,"chrome")&&!eo(d,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:d=>eo(d,"msie")||eo(d,"trident")},{name:"Opera",versionRegexes:[Je,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Mt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Mt("firefox")},{name:"Safari",versionRegexes:[Je,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:d=>(eo(d,"safari")||eo(d,"mobile/"))&&eo(d,"applewebkit")}],Un=[{name:"Windows",search:Mt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:d=>eo(d,"iphone")||eo(d,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Mt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Mt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Mt("linux"),versionRegexes:[]},{name:"Solaris",search:Mt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Mt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Mt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],_o={browsers:K(At),oses:K(Un)},Vo="Edge",Xr="Chromium",qs="IE",pd="Opera",Tc="Firefox",Ia="Safari",Se=()=>Le({current:void 0,version:da.unknown()}),Le=d=>{const g=d.current,E=d.version,x=k=>()=>g===k;return{current:g,version:E,isEdge:x(Vo),isChromium:x(Xr),isIE:x(qs),isOpera:x(pd),isFirefox:x(Tc),isSafari:x(Ia)}},ze={unknown:Se,nu:Le,edge:K(Vo),chromium:K(Xr),ie:K(qs),opera:K(pd),firefox:K(Tc),safari:K(Ia)},Ht="Windows",lt="iOS",Ct="Android",Xt="Linux",xn="macOS",Nn="Solaris",to="FreeBSD",bo="ChromeOS",so=()=>Zo({current:void 0,version:da.unknown()}),Zo=d=>{const g=d.current,E=d.version,x=k=>()=>g===k;return{current:g,version:E,isWindows:x(Ht),isiOS:x(lt),isAndroid:x(Ct),isMacOS:x(xn),isLinux:x(Xt),isSolaris:x(Nn),isFreeBSD:x(to),isChromeOS:x(bo)}},Rs={unknown:so,nu:Zo,windows:K(Ht),ios:K(lt),android:K(Ct),linux:K(Xt),macos:K(xn),solaris:K(Nn),freebsd:K(to),chromeos:K(bo)},Li={detect:(d,g,E)=>{const x=_o.browsers(),k=_o.oses(),z=g.bind(Ce=>Oh(x,Ce)).orThunk(()=>o1(x,d)).fold(ze.unknown,ze.nu),ee=ns(k,d).fold(Rs.unknown,Rs.nu),pe=xh(ee,z,d,E);return{browser:z,os:ee,deviceType:pe}}},$i=d=>window.matchMedia(d).matches;let Va=hd(()=>Li.detect(navigator.userAgent,_e.from(navigator.userAgentData),$i));const Qs=()=>Va(),Hl=(d,g)=>{const E=(pe,Ce)=>{if(!ue(Ce)&&!Ce.match(/^[0-9]+$/))throw new Error(d+".set accepts only positive integer values. Value was "+Ce);const Ne=pe.dom;Ir(Ne)&&(Ne.style[d]=Ce+"px")},x=pe=>{const Ce=g(pe);if(Ce<=0||Ce===null){const Ne=Oa(pe,d);return parseFloat(Ne)||0}return Ce},k=x,z=(pe,Ce)=>et(Ce,(Ne,Xe)=>{const $t=Oa(pe,Xe),cn=$t===void 0?0:parseInt($t,10);return isNaN(cn)?Ne:Ne+cn},0);return{set:E,get:x,getOuter:k,aggregate:z,max:(pe,Ce,Ne)=>{const Xe=z(pe,Ne);return Ce>Xe?Ce-Xe:0}}},Ps=(d,g)=>ur(d).getOr(g),es=(d,g,E)=>Ps(Oa(d,g),E),pl=(d,g,E,x)=>{const k=es(d,`padding-${E}`,0),z=es(d,`padding-${x}`,0),ee=es(d,`border-${E}-width`,0),pe=es(d,`border-${x}-width`,0);return g-k-z-ee-pe},xm=(d,g)=>{const E=d.dom,x=E.getBoundingClientRect().width||E.offsetWidth;return g==="border-box"?x:pl(d,x,"left","right")},s1=d=>es(d,"height",d.dom.offsetHeight),Da=d=>es(d,"width",d.dom.offsetWidth),Yd=d=>xm(d,"content-box"),Vl=Hl("width",d=>d.dom.offsetWidth),el=d=>Vl.get(d),Kd=d=>Vl.getOuter(d),ro=Yd,fa=Da,Rh=(d,g,E)=>{const x=d.cells,k=x.slice(0,g),z=x.slice(g),ee=k.concat(E).concat(z);return ha(d,ee)},Ev=(d,g,E)=>Rh(d,g,[E]),ii=(d,g,E)=>{const x=d.cells;x[g]=E},ha=(d,g)=>Pu(d.element,g,d.section,d.isNew),$u=(d,g)=>{const E=d.cells,x=Vt(E,g);return Pu(d.element,x,d.section,d.isNew)},gl=(d,g)=>d.cells[g],Na=(d,g)=>gl(d,g).element,tl=d=>d.cells.length,ea=d=>{const g=Bo(d,E=>E.section==="colgroup");return{rows:g.fail,cols:g.pass}},Am=(d,g,E)=>{const x=Vt(d.cells,E);return Pu(g(d.element),x,d.section,!0)},us="data-snooker-locked-cols",nl=d=>Sa(d,us).bind(g=>_e.from(g.match(/\d+/g))).map(g=>kn(g,ke)),Ul=d=>{const g=et(ea(d).rows,(x,k)=>(je(k.cells,(z,ee)=>{z.isLocked&&(x[ee]=!0)}),x),{}),E=nr(g,(x,k)=>parseInt(k,10));return ko(E)},Er=(d,g)=>d+","+g,Om=(d,g,E)=>_e.from(d.access[Er(g,E)]),zl=(d,g,E)=>{const x=gd(d,k=>E(g,k.element));return x.length>0?_e.some(x[0]):_e.none()},gd=(d,g)=>{const E=Bt(d.all,x=>x.cells);return ao(E,g)},Js=d=>{const g={};let E=0;return je(d.cells,x=>{const k=x.colspan;qt(k,z=>{const ee=E+z;g[ee]=Up(x.element,k,ee)}),E+=k}),g},wr=d=>{const g={},E=[],k=mt(d).map(tn=>tn.element).bind(wi).bind(nl).getOr({});let z=0,ee=0,pe=0;const{pass:Ce,fail:Ne}=Bo(d,tn=>tn.section==="colgroup");je(Ne,tn=>{const Tt=[];je(tn.cells,rn=>{let Et=0;for(;g[Er(pe,Et)]!==void 0;)Et++;const wn=Ms(k,Et.toString()),Qn=Mu(rn.element,rn.rowspan,rn.colspan,pe,Et,wn);for(let yo=0;yo<rn.colspan;yo++)for(let ir=0;ir<rn.rowspan;ir++){const hc=pe+ir,fi=Et+yo,Tu=Er(hc,fi);g[Tu]=Qn,ee=Math.max(ee,fi+1)}Tt.push(Qn)}),z++,E.push(ku(tn.element,Tt,tn.section)),pe++});const{columns:Xe,colgroups:$t}=gi(Ce).map(tn=>{const Tt=Js(tn);return{colgroups:[Hs(tn.element,Os(Tt))],columns:Tt}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:Ch(z,ee),access:g,all:E,columns:Xe,colgroups:$t}},ge={fromTable:d=>{const g=ua(d);return wr(g)},generate:wr,getAt:Om,findItem:zl,filterItems:gd,justCells:d=>Bt(d.all,g=>g.cells),justColumns:d=>Os(d.columns),hasColumns:d=>Lt(d.columns).length>0,getColumnAt:(d,g)=>_e.from(d.columns[g])},Xd=(d,g=ke)=>{const E=d.grid,x=qt(E.columns,De),k=qt(E.rows,De);return Vt(x,z=>Ih(()=>Bt(k,Ne=>ge.getAt(d,Ne,z).filter(Xe=>Xe.column===z).toArray()),Ne=>Ne.colspan===1&&g(Ne.element),()=>ge.getAt(d,0,z)))},Ih=(d,g,E)=>{const x=d();return oe(x,g).orThunk(()=>_e.from(x[0]).orThunk(E)).map(ee=>ee.element)},vl=d=>{const g=d.grid,E=qt(g.rows,De),x=qt(g.columns,De);return Vt(E,k=>Ih(()=>Bt(x,Ce=>ge.getAt(d,k,Ce).filter(Ne=>Ne.row===k).fold(K([]),Ne=>[Ne])),Ce=>Ce.rowspan===1,()=>ge.getAt(d,k,0)))},Us=(d,g)=>{if(g<0||g>=d.length-1)return _e.none();const E=d[g].fold(()=>{const k=Xa(d.slice(0,g));return vi(k,(z,ee)=>z.map(pe=>({value:pe,delta:ee+1})))},k=>_e.some({value:k,delta:0})),x=d[g+1].fold(()=>{const k=d.slice(g+1);return vi(k,(z,ee)=>z.map(pe=>({value:pe,delta:ee+1})))},k=>_e.some({value:k,delta:1}));return E.bind(k=>x.map(z=>{const ee=z.delta+k.delta;return Math.abs(z.value-k.value)/ee}))},i1=(d,g)=>E=>Qd(E)==="rtl"?g:d,Qd=d=>Oa(d,"direction")==="rtl"?"rtl":"ltr",a1=Hl("height",d=>{const g=d.dom;return Kr(d)?g.getBoundingClientRect().height:g.offsetHeight}),ma=d=>a1.get(d),wv=d=>a1.getOuter(d),Im=s1,e0=(d,g)=>({left:d,top:g,translate:(x,k)=>e0(d+x,g+k)}),Fu=e0,c1=d=>{const g=d.getBoundingClientRect();return Fu(g.left,g.top)},za=(d,g)=>d!==void 0?d:g!==void 0?g:0,Lf=d=>{const g=d.dom.ownerDocument,E=g.body,x=g.defaultView,k=g.documentElement;if(E===d.dom)return Fu(E.offsetLeft,E.offsetTop);const z=za(x==null?void 0:x.pageYOffset,k.scrollTop),ee=za(x==null?void 0:x.pageXOffset,k.scrollLeft),pe=za(k.clientTop,E.clientTop),Ce=za(k.clientLeft,E.clientLeft);return t0(d).translate(ee-Ce,z-pe)},t0=d=>{const g=d.dom,x=g.ownerDocument.body;return x===g?Fu(x.offsetLeft,x.offsetTop):Kr(d)?c1(g):Fu(0,0)},Wp=(d,g)=>({row:d,y:g}),$f=(d,g)=>({col:d,x:g}),Tv=d=>Lf(d).left+Kd(d),Hu=d=>Lf(d).left,Qr=(d,g)=>$f(d,Hu(g)),Gp=(d,g)=>$f(d,Tv(g)),ai=d=>Lf(d).top,pa=(d,g)=>Wp(d,ai(g)),Pn=(d,g)=>Wp(d,ai(g)+wv(g)),nn=(d,g,E)=>{if(E.length===0)return[];const x=Vt(E.slice(1),(z,ee)=>z.map(pe=>d(ee,pe))),k=E[E.length-1].map(z=>g(E.length-1,z));return x.concat([k])},Dm=d=>-d,bl={delta:De,positions:d=>nn(pa,Pn,d),edge:ai},_l=i1({delta:De,edge:Hu,positions:d=>nn(Qr,Gp,d)},{delta:Dm,edge:Tv,positions:d=>nn(Gp,Qr,d)}),ol={delta:(d,g)=>_l(g).delta(d,g),positions:(d,g)=>_l(g).positions(d,g),edge:d=>_l(d).edge(d)},Vu={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Dr=(()=>{const d="[0-9]+",E="[eE]"+("[+-]?"+d),x="\\.",k=pe=>`(?:${pe})?`,ee=`[+-]?(?:${["Infinity",d+x+k(d)+k(E),x+d+k(E),d+k(E)].join("|")})`;return new RegExp(`^(${ee})(.*)$`)})(),vd=(d,g)=>tt(g,E=>tt(Vu[E],x=>d===x)),Dh=(d,g)=>_e.from(Dr.exec(d)).bind(x=>{const k=Number(x[1]),z=x[2];return vd(z,g)?_e.some({value:k,unit:z}):_e.none()}),Ut=/(\d+(\.\d+)?)%/,n0=/(\d+(\.\d+)?)px|em/,Nm=Di("col"),Wa=(d,g,E)=>{const x=Ja(d).getOrThunk(()=>T(Xi(d)));return g(d)/E(x)*100},bd=(d,g)=>{is(d,"width",g+"px")},Jd=(d,g)=>{is(d,"width",g+"%")},hr=(d,g)=>{is(d,"height",g+"px")},jp=d=>Im(d)+"px",ts=(d,g,E,x)=>{const k=wi(d).map(z=>{const ee=E(z);return Math.floor(g/100*ee)}).getOr(g);return x(d,k),k},Po=(d,g,E,x)=>{const k=parseFloat(d);return Ao(d,"%")&&ks(g)!=="table"?ts(g,k,E,x):k},Jr=d=>{const g=jp(d);return g?Po(g,d,ma,hr):ma(d)},Cc=(d,g,E)=>{const x=E(d),k=Pi(d,g);return x/k},or=(d,g)=>Fc(d,g).orThunk(()=>Sa(d,g).map(E=>E+"px")),ef=d=>or(d,"width"),jr=d=>or(d,"height"),ys=d=>Wa(d,el,ro),Wl=d=>Nm(d)?el(d):fa(d),xt=d=>Cc(d,"rowspan",Jr),El=d=>ef(d).bind(E=>Dh(E,["fixed","relative","empty"])),Bf=(d,g,E)=>{is(d,"width",g+E)},Wr=d=>el(d)+"px",Gl=d=>Wa(d,el,ro)+"%",Ga=d=>ef(d).exists(g=>Ut.test(g)),ic=d=>ef(d).exists(g=>n0.test(g)),Mm=d=>ef(d).isNone(),ac=K(Ut),Zp=Di("col"),Bi=d=>ef(d).getOrThunk(()=>Wl(d)+"px"),Yo=d=>jr(d).getOrThunk(()=>xt(d)+"px"),$e=d=>Vt(ge.justColumns(d),g=>_e.from(g.element)),$=d=>{const g=Qs().browser,E=g.isChromium()||g.isFirefox();return Zp(d)?E:!0},de=(d,g,E,x,k,z)=>d.filter(x).fold(()=>z(Us(E,g)),ee=>k(ee)),He=(d,g,E,x)=>{const k=Xd(d),z=ge.hasColumns(d)?$e(d):k,ee=[_e.some(ol.edge(g))].concat(Vt(ol.positions(k,g),Ce=>Ce.map(Ne=>Ne.x))),pe=Ee(oc);return Vt(z,(Ce,Ne)=>de(Ce,Ne,ee,pe,Xe=>{if($(Xe))return E(Xe);{const $t=Gs(k[Ne],De);return de($t,Ne,ee,pe,cn=>x(_e.some(el(cn))),x)}},x))},Ft=d=>d.map(g=>g+"px").getOr(""),In=(d,g)=>He(d,g,Bi,Ft),dn=(d,g,E)=>He(d,g,ys,x=>x.fold(()=>E.minCellWidth(),k=>k/E.pixelWidth()*100)),Ko=(d,g,E)=>He(d,g,Wl,x=>x.getOrThunk(E.minCellWidth)),We=(d,g,E,x,k)=>{const z=vl(d),ee=[_e.some(E.edge(g))].concat(Vt(E.positions(z,g),pe=>pe.map(Ce=>Ce.y)));return Vt(z,(pe,Ce)=>de(pe,Ce,ee,Ee(Ji),x,k))},Gr=(d,g,E)=>We(d,g,E,xt,x=>x.getOrThunk(Ra)),ci=(d,g,E)=>We(d,g,E,Yo,Ft),ta=(d,g)=>()=>Kr(d)?g(d):parseFloat(Fc(d,"width").getOr("0")),Hr=d=>{const g=ta(d,el),E=K(0);return{width:g,pixelWidth:g,getWidths:(k,z)=>Ko(k,d,z),getCellDelta:E,singleColumnWidth:K([0]),minCellWidth:E,setElementWidth:ce,adjustTableWidth:ce,isRelative:!0,label:"none"}},li=d=>{const g=ta(d,Ce=>parseFloat(Gl(Ce))),E=ta(d,el);return{width:g,pixelWidth:E,getWidths:(Ce,Ne)=>dn(Ce,d,Ne),getCellDelta:Ce=>Ce/E()*100,singleColumnWidth:(Ce,Ne)=>[100-Ce],minCellWidth:()=>Ha()/E()*100,setElementWidth:Jd,adjustTableWidth:Ce=>{const Ne=g(),Xe=Ce/100*Ne,$t=Ne+Xe;Jd(d,$t)},isRelative:!0,label:"percent"}},Ti=d=>{const g=ta(d,el);return{width:g,pixelWidth:g,getWidths:(ee,pe)=>Ko(ee,d,pe),getCellDelta:De,singleColumnWidth:(ee,pe)=>[Math.max(Ha(),ee+pe)-ee],minCellWidth:Ha,setElementWidth:bd,adjustTableWidth:ee=>{const pe=g()+ee;bd(d,pe)},isRelative:!1,label:"pixel"}},tf=(d,g)=>ac().exec(g)!==null?li(d):Ti(d),Nh={getTableSize:d=>ef(d).fold(()=>Hr(d),E=>tf(d,E)),pixelSize:Ti,percentageSize:li,noneSize:Hr},Wn=(d,g,E,x,k,z)=>({minRow:d,minCol:g,maxRow:E,maxCol:x,allCells:k,selectedCells:z}),Yp=(d,g)=>{const E=d.grid.columns;let k=d.grid.rows,z=E,ee=0,pe=0;const Ce=[],Ne=[];return Ns(d.access,Xe=>{if(Ce.push(Xe),g(Xe)){Ne.push(Xe);const $t=Xe.row,cn=$t+Xe.rowspan-1,tn=Xe.column,Tt=tn+Xe.colspan-1;$t<k?k=$t:cn>ee&&(ee=cn),tn<z?z=tn:Tt>pe&&(pe=Tt)}}),Wn(k,z,ee,pe,Ce,Ne)},mu=(d,g,E)=>{const x=d[E].element,k=Qe.fromTag("td");br(k,Qe.fromTag("br")),(g?br:yc)(x,k)},Ma=(d,g,E,x)=>{const k=ao(d,pe=>pe.section!=="colgroup"),z=g.grid.columns,ee=g.grid.rows;for(let pe=0;pe<ee;pe++){let Ce=!1;for(let Ne=0;Ne<z;Ne++)pe<E.minRow||pe>E.maxRow||Ne<E.minCol||Ne>E.maxCol||(ge.getAt(g,pe,Ne).filter(x).isNone()?mu(k,Ce,pe):Ce=!0)}},Cv=(d,g,E,x)=>{Ns(E.columns,ee=>{(ee.column<g.minCol||ee.column>g.maxCol)&&Fr(ee.element)});const k=ao(ud(d,"tr"),ee=>ee.dom.childElementCount===0);je(k,Fr),(g.minCol===g.maxCol||g.minRow===g.maxRow)&&je(ud(d,"th,td"),ee=>{Br(ee,"rowspan"),Br(ee,"colspan")}),Br(d,us),Br(d,"data-snooker-col-series"),Nh.getTableSize(d).adjustTableWidth(x)},yd=(d,g,E,x)=>{if(x.minCol===0&&g.grid.columns===x.maxCol+1)return 0;const k=Ko(g,d,E),z=et(k,(Ne,Xe)=>Ne+Xe,0),Ce=et(k.slice(x.minCol,x.maxCol+1),(Ne,Xe)=>Ne+Xe,0)/z*E.pixelWidth()-E.pixelWidth();return E.getCellDelta(Ce)},f_=(d,g)=>{const E=cn=>yi(cn.element,g),x=Lc(d),k=ua(x),z=Nh.getTableSize(d),ee=ge.generate(k),pe=Yp(ee,E),Ce="th:not("+g+"),td:not("+g+")",Ne=Sh(x,"th,td",cn=>yi(cn,Ce));je(Ne,Fr),Ma(k,ee,pe,E);const Xe=ge.fromTable(d),$t=yd(d,Xe,z,pe);return Cv(x,pe,ee,$t),x},km=" ",Sc=((d,g)=>{const E=z=>{if(!d(z))throw new Error("Can only get "+g+" value of a "+g+" node");return x(z).getOr("")},x=z=>d(z)?_e.from(z.dom.nodeValue):_e.none();return{get:E,getOption:x,set:(z,ee)=>{if(!d(z))throw new Error("Can only set raw "+g+" value of a "+g+" node");z.dom.nodeValue=ee}}})(Ru,"text"),wl=d=>Sc.get(d),Sv=d=>Sc.getOption(d),h_=(d,g)=>Sc.set(d,g),_d=d=>ks(d)==="img"?1:Sv(d).fold(()=>Cs(d).length,g=>g.length),u1=d=>Sv(d).filter(g=>g.trim().length!==0||g.indexOf(km)>-1).isSome(),xv=d=>qn(d)&&vc(d,"contenteditable")==="false",Pm=["img","br"],Kp=d=>u1(d)||Rt(Pm,ks(d))||xv(d),Ff=d=>Kt(d,Kp),Av=d=>Ov(d,Kp),Ov=(d,g)=>{const E=x=>{const k=Cs(x);for(let z=k.length-1;z>=0;z--){const ee=k[z];if(g(ee))return _e.some(ee);const pe=E(ee);if(pe.isSome())return pe}return _e.none()};return E(d)},Ss={scope:["row","col"]},o0=d=>()=>{const g=Qe.fromTag("td",d.dom);return br(g,Qe.fromTag("br",d.dom)),g},ga=d=>()=>Qe.fromTag("col",d.dom),ql=d=>()=>Qe.fromTag("colgroup",d.dom),Lm=d=>()=>Qe.fromTag("tr",d.dom),Mh=(d,g,E)=>{const x=Th(d,g);return Ns(E,(k,z)=>{k===null?Br(x,z):Ur(x,z,k)}),x},m_=d=>d,Fi=(d,g,E)=>Ff(d).map(k=>{const z=E.join(","),ee=J(k,z,pe=>Fs(pe,d));return Fo(ee,(pe,Ce)=>{const Ne=_c(Ce);return br(pe,Ne),Ne},g)}).getOr(g),Tl=(d,g)=>{Ns(Ss,(E,x)=>Sa(d,x).filter(k=>Rt(E,k)).each(k=>Ur(g,x,k)))},kh=(d,g,E)=>{const x=(ee,pe)=>{ho(ee.element,pe),Ec(pe,"height"),ee.colspan!==1&&Ec(pe,"width")},k=ee=>{const pe=Qe.fromTag(ks(ee.element),g.dom),Ce=E.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),Ne=Ce.length>0?Fi(ee.element,pe,Ce):pe;return br(Ne,Qe.fromTag("br")),x(ee,pe),Tl(ee.element,pe),d(ee.element,pe),pe};return{col:ee=>{const pe=Qe.fromTag(ks(ee.element),g.dom);return x(ee,pe),d(ee.element,pe),pe},colgroup:ql(g),row:Lm(g),cell:k,replace:Mh,colGap:ga(g),gap:o0(g)}},Ph=d=>({col:ga(d),colgroup:ql(d),row:Lm(d),cell:o0(d),replace:m_,colGap:ga(d),gap:o0(d)}),nf=(d,g)=>{const x=(g||document).createElement("div");return x.innerHTML=d,Cs(Qe.fromDom(x))},Hf=d=>Vt(d,Qe.fromDom),Cl=d=>Zn(d,"[contenteditable]"),na=(d,g=!1)=>Kr(d)?d.dom.isContentEditable:Cl(d).fold(K(g),E=>Rv(E)==="true"),Rv=d=>d.dom.contentEditable,Hc=d=>Qe.fromDom(d.getBody()),jl=d=>g=>Fs(g,Hc(d)),Sl=d=>{Br(d,"data-mce-style");const g=E=>Br(E,"data-mce-style");je(fu(d),g),je(Zd(d),g),je(dd(d),g)},Xp=d=>Qe.fromDom(d.selection.getStart()),Lh=d=>d.getBoundingClientRect().width,Iv=d=>d.getBoundingClientRect().height,s0=(d,g)=>{const E=d.dom.getStyle(g,"width")||d.dom.getAttrib(g,"width");return _e.from(E).filter(Vs)},mr=d=>/^(\d+(\.\d+)?)%$/.test(d),Dv=d=>/^(\d+(\.\d+)?)px$/.test(d),Vc=d=>rt(d,Di("table")).exists(na),Nv=(d,g)=>{const E=g.column,x=g.column+g.colspan-1,k=g.row,z=g.row+g.rowspan-1;return E<=d.finishCol&&x>=d.startCol&&k<=d.finishRow&&z>=d.startRow},Mv=(d,g)=>g.column>=d.startCol&&g.column+g.colspan-1<=d.finishCol&&g.row>=d.startRow&&g.row+g.rowspan-1<=d.finishRow,Vf=(d,g)=>{let E=!0;const x=H(Mv,g);for(let k=g.startRow;k<=g.finishRow;k++)for(let z=g.startCol;z<=g.finishCol;z++)E=E&&ge.getAt(d,k,z).exists(x);return E?_e.some(g):_e.none()},zs=(d,g)=>Mf(Math.min(d.row,g.row),Math.min(d.column,g.column),Math.max(d.row+d.rowspan-1,g.row+g.rowspan-1),Math.max(d.column+d.colspan-1,g.column+g.colspan-1)),of=(d,g,E)=>{const x=ge.findItem(d,g,Fs),k=ge.findItem(d,E,Fs);return x.bind(z=>k.map(ee=>zs(z,ee)))},d1=(d,g,E)=>of(d,g,E).bind(x=>Vf(d,x)),kv=(d,g,E,x)=>ge.findItem(d,g,Fs).bind(k=>{const z=E>0?k.row+k.rowspan-1:k.row,ee=x>0?k.column+k.colspan-1:k.column;return ge.getAt(d,z+E,ee+x).map(Ce=>Ce.element)}),$m=(d,g,E)=>of(d,g,E).map(x=>{const k=ge.filterItems(d,H(Nv,x));return Vt(k,z=>z.element)}),f1=(d,g)=>{const E=(x,k)=>jd(k,x);return ge.findItem(d,g,E).map(x=>x.element)},Qp=(d,g,E)=>wi(d).bind(x=>{const k=Uf(x);return kv(k,d,g,E)}),p_=(d,g,E)=>{const x=Uf(d);return $m(x,g,E)},sl=(d,g,E,x,k)=>{const z=Uf(d),ee=Fs(d,E)?_e.some(g):f1(z,g),pe=Fs(d,k)?_e.some(x):f1(z,x);return ee.bind(Ce=>pe.bind(Ne=>$m(z,Ce,Ne)))},zu=(d,g,E)=>{const x=Uf(d);return d1(x,g,E)},Uf=ge.fromTable;var sf=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Wu=()=>{const d=Ne=>Qe.fromDom(Ne.dom.cloneNode(!1)),g=Ne=>Xc(Ne).dom,E=Ne=>Qa(Ne)?ks(Ne)==="body"?!0:Rt(sf,ks(Ne)):!1,x=Ne=>Qa(Ne)?Rt(["br","img","hr","input"],ks(Ne)):!1,k=Ne=>Qa(Ne)&&vc(Ne,"contenteditable")==="false",z=(Ne,Xe)=>Ne.dom.compareDocumentPosition(Xe.dom),ee=(Ne,Xe)=>{const $t=bc(Ne);Fa(Xe,$t)},pe=Ne=>{const Xe=ks(Ne);return Rt(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Xe)},Ce=Ne=>Qa(Ne)?Sa(Ne,"lang"):_e.none();return{up:K({selector:st,closest:Zn,predicate:Pe,all:uu}),down:K({selector:ye,predicate:W}),styles:K({get:Oa,getRaw:Fc,set:is,remove:Ec}),attrs:K({get:vc,set:Ur,remove:Br,copyTo:ee}),insert:K({before:cd,after:xa,afterAll:bs,append:br,appendAll:ec,prepend:yc,wrap:du}),remove:K({unwrap:Jc,remove:Fr}),create:K({nu:Qe.fromTag,clone:d,text:Qe.fromText}),query:K({comparePosition:z,prevSibling:$l,nextSibling:ad}),property:K({children:Cs,name:ks,parent:lu,document:g,isText:Ru,isComment:Xs,isElement:Qa,isSpecial:pe,getLanguage:Ce,getText:wl,setText:h_,isBoundary:E,isEmptyTag:x,isNonEditable:k}),eq:Fs,is:Cm}};const pu=(d,g,E,x)=>{const k=E[0],z=E.slice(1);return x(d,g,k,z)},Jp=(d,g,E)=>E.length>0?pu(d,g,E,h1):_e.none(),h1=(d,g,E,x)=>{const k=g(d,E);return Fo(x,(z,ee)=>{const pe=g(d,ee);return zf(d,z,pe)},k)},zf=(d,g,E)=>g.bind(x=>E.filter(H(d.eq,x))),r0=(d,g)=>H(d.eq,g),Bm=(d,g,E,x=yt)=>{const k=[g].concat(d.up().all(g)),z=[E].concat(d.up().all(E)),ee=Xe=>cs(Xe,x).fold(()=>Xe,cn=>Xe.slice(0,cn+1)),pe=ee(k),Ce=ee(z),Ne=oe(pe,Xe=>tt(Ce,r0(d,Xe)));return{firstpath:pe,secondpath:Ce,shared:Ne}},Fm=Jp,g_=Bm,eg=Wu(),ss=(d,g)=>Fm(eg,(E,x)=>d(x),g),Mn=(d,g,E)=>g_(eg,d,g,E),rf=d=>st(d,"table"),af=(d,g,E)=>{const x=k=>z=>E!==void 0&&E(z)||Fs(z,k);return Fs(d,g)?_e.some({boxes:_e.some([d]),start:d,finish:g}):rf(d).bind(k=>rf(g).bind(z=>{if(Fs(k,z))return _e.some({boxes:p_(k,d,g),start:d,finish:g});if(jd(k,z)){const ee=J(g,"td,th",x(k)),pe=ee.length>0?ee[ee.length-1]:g;return _e.some({boxes:sl(k,d,k,g,z),start:d,finish:pe})}else if(jd(z,k)){const ee=J(d,"td,th",x(z)),pe=ee.length>0?ee[ee.length-1]:d;return _e.some({boxes:sl(z,d,k,g,z),start:d,finish:pe})}else return Mn(d,g).shared.bind(ee=>Zn(ee,"table",E).bind(pe=>{const Ce=J(g,"td,th",x(pe)),Ne=Ce.length>0?Ce[Ce.length-1]:g,Xe=J(d,"td,th",x(pe)),$t=Xe.length>0?Xe[Xe.length-1]:d;return _e.some({boxes:sl(pe,d,k,g,z),start:$t,finish:Ne})}))}))},tg=(d,g)=>{const E=ye(d,g);return E.length>0?_e.some(E):_e.none()},m1=(d,g)=>oe(d,E=>yi(E,g)),i0=(d,g,E)=>Jn(d,g).bind(x=>Jn(d,E).bind(k=>ss(rf,[x,k]).map(z=>({first:x,last:k,table:z})))),js=(d,g)=>st(d,"table").bind(E=>Jn(E,g).bind(x=>af(x,d).bind(k=>k.boxes.map(z=>({boxes:z,start:k.start,finish:k.finish}))))),p1=(d,g,E,x,k)=>m1(d,k).bind(z=>Qp(z,g,E).bind(ee=>js(ee,x))),Pv=(d,g)=>tg(d,g),Lv=(d,g,E)=>i0(d,g,E).bind(x=>{const k=Ce=>Fs(d,Ce),z="thead,tfoot,tbody,table",ee=st(x.first,z,k),pe=st(x.last,z,k);return ee.bind(Ce=>pe.bind(Ne=>Fs(Ce,Ne)?zu(x.table,x.first,x.last):_e.none()))}),Dt=De,$v=d=>{const g=(x,k)=>Sa(x,k).exists(z=>parseInt(z,10)>1),E=x=>g(x,"rowspan")||g(x,"colspan");return d.length>0&&gs(d,E)?_e.some(d):_e.none()},Ed=(d,g,E)=>g.length<=1?_e.none():Lv(d,E.firstSelectedSelector,E.lastSelectedSelector).map(x=>({bounds:x,cells:g})),$h="data-mce-selected",g1="td["+$h+"],th["+$h+"]",Wf="["+$h+"]",ng="data-mce-first-selected",Hm="td["+ng+"],th["+ng+"]",a0="data-mce-last-selected",qa="td["+a0+"],th["+a0+"]",Tr=Wf,xc={selected:$h,selectedSelector:g1,firstSelected:ng,firstSelectedSelector:Hm,lastSelected:a0,lastSelectedSelector:qa},Vm=(d,g,E)=>({element:E,mergable:Ed(g,d,xc),unmergable:$v(d),selection:Dt(d)}),Zl=(d,g,E)=>({element:d,clipboard:g,generators:E}),Um=(d,g,E,x)=>({selection:Dt(d),clipboard:E,generators:x}),Oo=d=>wi(d).bind(g=>Pv(g,xc.firstSelectedSelector)).fold(K(d),g=>g[0]),wd=d=>(g,E)=>{const x=ks(g),k=x==="col"||x==="colgroup"?Oo(g):g;return Zn(k,d,E)},v1=wd("th,td,caption"),Bh=wd("th,td"),Gf=d=>Hf(d.model.table.getSelectedCells()),cf=d=>ao(Gf(d),g=>yi(g,xc.selectedSelector)),Gu=d=>wi(d[0]).map(g=>{const E=f_(g,Tr);return Sl(E),[E]}),cc=(d,g)=>Vt(g,E=>d.selection.serializer.serialize(E.dom,{})).join(""),Hw=d=>Vt(d,g=>g.dom.innerText).join(""),og=(d,g)=>{d.on("BeforeGetContent",E=>{const x=k=>{E.preventDefault(),Gu(k).each(z=>{E.content=E.format==="text"?Hw(z):cc(d,z)})};if(E.selection===!0){const k=cf(d);k.length>=1&&x(k)}}),d.on("BeforeSetContent",E=>{if(E.selection===!0&&E.paste===!0){const x=Gf(d);mt(x).each(k=>{wi(k).each(z=>{const ee=ao(nf(E.content),Ce=>ks(Ce)!=="meta"),pe=Di("table");if(ee.length===1&&pe(ee[0])){E.preventDefault();const Ce=Qe.fromDom(d.getDoc()),Ne=Ph(Ce),Xe=Zl(k,ee[0],Ne);g.pasteCells(z,Xe).each(()=>{d.focus()})}})})}})},Hi=(d,g)=>({element:d,offset:g}),_n=(d,g,E)=>d.property().isText(g)&&d.property().getText(g).trim().length===0||d.property().isComment(g)?E(g).bind(x=>_n(d,x,E).orThunk(()=>_e.some(x))):_e.none(),Bv=(d,g)=>d.property().isText(g)?d.property().getText(g).length:d.property().children(g).length,v_=(d,g)=>{const E=_n(d,g,d.query().prevSibling).getOr(g);if(d.property().isText(E))return Hi(E,Bv(d,E));const x=d.property().children(E);return x.length>0?v_(d,x[x.length-1]):Hi(E,Bv(d,E))},lc=v_,c0=Wu(),lf=d=>lc(c0,d),Uc=(d,g)=>{oc(d)||El(d).each(x=>{const k=x.value/2;Bf(d,k,x.unit),Bf(g,k,x.unit)})},qu=d=>Vt(d,K(0)),Yl=(d,g,E,x,k)=>k(d.slice(0,g)).concat(x).concat(k(d.slice(E))),sg=d=>(g,E,x,k)=>{if(d(x)){const z=Math.max(k,g[E]-Math.abs(x)),ee=Math.abs(z-g[E]);return x>=0?ee:-ee}else return x},zm=sg(d=>d<0),Vw=sg(ke),rg=()=>{const d=(pe,Ce,Ne,Xe,$t)=>{const cn=zm(pe,Ce,Xe,$t);return Yl(pe,Ce,Ne+1,[cn,0],qu)},g=(pe,Ce,Ne,Xe)=>{const $t=(100+Ne)/100,cn=Math.max(Xe,(pe[Ce]+Ne)/$t);return Vt(pe,(tn,Tt)=>(Tt===Ce?cn:tn/$t)-tn)},E=(pe,Ce,Ne,Xe,$t,cn)=>cn?g(pe,Ce,Xe,$t):d(pe,Ce,Ne,Xe,$t);return{resizeTable:(pe,Ce)=>pe(Ce),clampTableDelta:zm,calcLeftEdgeDeltas:E,calcMiddleDeltas:(pe,Ce,Ne,Xe,$t,cn,tn)=>E(pe,Ne,Xe,$t,cn,tn),calcRightEdgeDeltas:(pe,Ce,Ne,Xe,$t,cn)=>{if(cn)return g(pe,Ne,Xe,$t);{const tn=zm(pe,Ne,Xe,$t);return qu(pe.slice(0,Ne)).concat([tn])}},calcRedestributedWidths:(pe,Ce,Ne,Xe)=>{if(Xe){const cn=(Ce+Ne)/Ce,tn=Vt(pe,Tt=>Tt/cn);return{delta:cn*100-100,newSizes:tn}}else return{delta:Ne,newSizes:pe}}}},ig=()=>{const d=(ee,pe,Ce,Ne,Xe)=>{const $t=Ne>=0?Ce:pe,cn=Vw(ee,$t,Ne,Xe);return Yl(ee,pe,Ce+1,[cn,-cn],qu)};return{resizeTable:(ee,pe,Ce)=>{Ce&&ee(pe)},clampTableDelta:(ee,pe,Ce,Ne,Xe)=>{if(Xe){if(Ce>=0)return Ce;{const $t=et(ee,(cn,tn)=>cn+tn-Ne,0);return Math.max(-$t,Ce)}}else return zm(ee,pe,Ce,Ne)},calcLeftEdgeDeltas:d,calcMiddleDeltas:(ee,pe,Ce,Ne,Xe,$t)=>d(ee,Ce,Ne,Xe,$t),calcRightEdgeDeltas:(ee,pe,Ce,Ne,Xe,$t)=>{if($t)return qu(ee);{const cn=Ne/ee.length;return Vt(ee,K(cn))}},calcRedestributedWidths:(ee,pe,Ce,Ne)=>({delta:0,newSizes:ee})}},Wm=d=>ge.fromTable(d).grid,ag=Di("th"),Gm=d=>gs(d,g=>ag(g.element)),b_=(d,g)=>d&&g?"sectionCells":d?"section":"cells",Fv=d=>{const g=d.section==="thead",E=Tn(Fh(d.cells),"th");return d.section==="tfoot"?{type:"footer"}:g||E?{type:"header",subType:b_(g,E)}:{type:"body"}},Fh=d=>{const g=ao(d,E=>ag(E.element));return g.length===0?_e.some("td"):g.length===d.length?_e.some("th"):_e.none()},b1=d=>{const g=Vt(d,k=>Fv(k).type),E=Rt(g,"header"),x=Rt(g,"footer");if(!E&&!x)return _e.some("body");{const k=Rt(g,"body");return E&&!k&&!x?_e.some("header"):!E&&!k&&x?_e.some("footer"):_e.none()}},xl=d=>vi(d.all,g=>{const E=Fv(g);return E.type==="header"?_e.from(E.subType):_e.none()}),Ac=(d,g,E)=>Ni(E(d.element,g),!0,d.isLocked),uf=(d,g)=>d.section!==g?Pu(d.element,d.cells,g,d.isNew):d,Hh=()=>({transformRow:uf,transformCell:(d,g,E)=>{const x=E(d.element,g),k=ks(x)!=="td"?Vp(x,"td"):x;return Ni(k,d.isNew,d.isLocked)}}),Hv=()=>({transformRow:uf,transformCell:Ac}),cg=()=>({transformRow:(d,g)=>uf(d,g==="thead"?"tbody":g),transformCell:Ac}),jm={getTableSectionType:(d,g)=>{const E=ge.fromTable(d);switch(xl(E).getOr(g)){case"section":return Hh();case"sectionCells":return Hv();case"cells":return cg()}},section:Hh,sectionCells:Hv,cells:cg,fallback:()=>({transformRow:De,transformCell:Ac})},uc=(d,g,E,x)=>{E===x?Br(d,g):Ur(d,g,E)},qf=(d,g,E)=>{gi(le(d,g)).fold(()=>yc(d,E),x=>xa(x,E))},Uw=(d,g)=>{const E=Nt(d,g).getOrThunk(()=>{const x=Qe.fromTag(g,Xi(d).dom);return g==="thead"?qf(d,"caption,colgroup",x):g==="colgroup"?qf(d,"caption",x):br(d,x),x});return ri(E),E},l0=(d,g)=>{const E=[],x=[],k=tn=>Vt(tn,Tt=>{Tt.isNew&&E.push(Tt.element);const rn=Tt.element;return ri(rn),je(Tt.cells,Et=>{Et.isNew&&x.push(Et.element),uc(Et.element,"colspan",Et.colspan,1),uc(Et.element,"rowspan",Et.rowspan,1),br(rn,Et.element)}),rn}),z=tn=>Bt(tn,Tt=>Vt(Tt.cells,rn=>(uc(rn.element,"span",rn.colspan,1),rn.element))),ee=(tn,Tt)=>{const rn=Uw(d,Tt),wn=(Tt==="colgroup"?z:k)(tn);ec(rn,wn)},pe=tn=>{Nt(d,tn).each(Fr)},Ce=(tn,Tt)=>{tn.length>0?ee(tn,Tt):pe(Tt)},Ne=[],Xe=[],$t=[],cn=[];return je(g,tn=>{switch(tn.section){case"thead":Ne.push(tn);break;case"tbody":Xe.push(tn);break;case"tfoot":$t.push(tn);break;case"colgroup":cn.push(tn);break}}),Ce(cn,"colgroup"),Ce(Ne,"thead"),Ce(Xe,"tbody"),Ce($t,"tfoot"),{newRows:E,newCells:x}},u0=d=>Vt(d,g=>{const E=_c(g.element);return je(g.cells,x=>{const k=Lc(x.element);uc(k,"colspan",x.colspan,1),uc(k,"rowspan",x.rowspan,1),br(E,k)}),E}),sr=(d,g)=>Vt(d,E=>gl(E,g)),zw=(d,g)=>d[g],y_=(d,g)=>{if(d.length===0)return 0;const E=d[0];return cs(d,k=>!g(E.element,k.element)).getOr(d.length)},Ww=(d,g,E,x)=>{const k=zw(d,g),z=k.section==="colgroup",ee=y_(k.cells.slice(E),x),pe=z?1:y_(sr(d.slice(g),E),x);return{colspan:ee,rowspan:pe}},Vv=(d,g)=>{const E=Vt(d,k=>Vt(k.cells,yt)),x=(k,z,ee,pe)=>{for(let Ce=k;Ce<k+ee;Ce++)for(let Ne=z;Ne<z+pe;Ne++)E[Ce][Ne]=!0};return Vt(d,(k,z)=>{const ee=Bt(k.cells,(pe,Ce)=>{if(E[z][Ce]===!1){const Ne=Ww(d,z,Ce,g);return x(z,Ce,Ne.rowspan,Ne.colspan),[Sm(pe.element,Ne.rowspan,Ne.colspan,pe.isNew)]}else return[]});return Aa(k.element,ee,k.section,k.isNew)})},lg=(d,g,E)=>{const x=[];je(d.colgroups,k=>{const z=[];for(let ee=0;ee<d.grid.columns;ee++){const pe=ge.getColumnAt(d,ee).map(Ce=>Ni(Ce.element,E,!1)).getOrThunk(()=>Ni(g.colGap(),!0,!1));z.push(pe)}x.push(Pu(k.element,z,"colgroup",E))});for(let k=0;k<d.grid.rows;k++){const z=[];for(let Ce=0;Ce<d.grid.columns;Ce++){const Ne=ge.getAt(d,k,Ce).map(Xe=>Ni(Xe.element,E,Xe.isLocked)).getOrThunk(()=>Ni(g.gap(),!0,!1));z.push(Ne)}const ee=d.all[k],pe=Pu(ee.element,z,ee.section,E);x.push(pe)}return x},jf=(d,g)=>lg(d,g,!1),Vi=d=>Vv(d,Fs),Zf=(d,g)=>vi(d.all,E=>oe(E.cells,x=>Fs(g,x.element))),d0=(d,g,E)=>{const x=Vt(g.selection,z=>Fl(z).bind(ee=>Zf(d,ee)).filter(E)),k=lr(x);return ls(k.length>0,k)},Ci=(d,g,E,x,k)=>(z,ee,pe,Ce)=>{const Ne=ge.fromTable(z),Xe=_e.from(Ce==null?void 0:Ce.section).getOrThunk(jm.fallback);return g(Ne,ee).map(cn=>{const tn=jf(Ne,pe),Tt=d(tn,cn,Fs,k(pe),Xe),rn=Ul(Tt.grid),Et=Vi(Tt.grid);return{info:cn,grid:Et,cursor:Tt.cursor,lockedColumns:rn}}).bind(cn=>{const tn=l0(z,cn.grid),Tt=_e.from(Ce==null?void 0:Ce.sizing).getOrThunk(()=>Nh.getTableSize(z)),rn=_e.from(Ce==null?void 0:Ce.resize).getOrThunk(ig);return E(z,cn.grid,cn.info,{sizing:Tt,resize:rn,section:Xe}),x(z),Br(z,us),cn.lockedColumns.length>0&&Ur(z,us,cn.lockedColumns.join(",")),_e.some({cursor:cn.cursor,newRows:tn.newRows,newCells:tn.newCells})})},Uv=(d,g)=>Fl(g.element).bind(E=>Zf(d,E).map(x=>({...x,generators:g.generators,clipboard:g.clipboard}))),y1=(d,g)=>d0(d,g,ke).map(E=>({cells:E,generators:g.generators,clipboard:g.clipboard})),gx=(d,g)=>g.mergable,__=(d,g)=>g.unmergable,Vh=(d,g)=>d0(d,g,ke),Yf=(d,g)=>d0(d,g,E=>!E.isLocked),zv=(d,g)=>Zf(d,g).exists(E=>!E.isLocked),E_=(d,g)=>gs(g,E=>zv(d,E)),vx=(d,g)=>gx(d,g).filter(E=>E_(d,E.cells)),Td=(d,g)=>__(d,g).filter(E=>E_(d,E)),xs=(d,g,E,x)=>{const k=ea(d).rows;if(k.length===0)return d;for(let z=g.startRow;z<=g.finishRow;z++)for(let ee=g.startCol;ee<=g.finishCol;ee++){const pe=k[z],Ce=gl(pe,ee).isLocked;ii(pe,ee,Ni(x(),!1,Ce))}return d},w_=(d,g,E,x)=>{const k=ea(d).rows;let z=!0;for(let ee=0;ee<k.length;ee++)for(let pe=0;pe<tl(k[0]);pe++){const Ce=k[ee],Ne=gl(Ce,pe),Xe=Ne.element,$t=E(Xe,g);$t&&!z?ii(Ce,pe,Ni(x(),!0,Ne.isLocked)):$t&&(z=!1)}return d},Ls=(d,g)=>et(d,(E,x)=>tt(E,k=>g(k.element,x.element))?E:E.concat([x]),[]),oa=(d,g,E,x)=>(g>0&&g<d[0].cells.length&&je(d,k=>{const z=k.cells[g-1];let ee=0;const pe=x();for(;k.cells.length>g+ee&&E(z.element,k.cells[g+ee].element);)ii(k,g+ee,Ni(pe,!0,k.cells[g+ee].isLocked)),ee++}),d),gu=(d,g,E,x)=>{const k=ea(d).rows;if(g>0&&g<k.length){const z=k[g-1].cells,ee=Ls(z,E);je(ee,pe=>{let Ce=_e.none();for(let Ne=g;Ne<k.length;Ne++)for(let Xe=0;Xe<tl(k[0]);Xe++){const $t=k[Ne],cn=gl($t,Xe);E(cn.element,pe.element)&&(Ce.isNone()&&(Ce=_e.some(x())),Ce.each(Tt=>{ii($t,Xe,Ni(Tt,!0,cn.isLocked))}))}})}return d},zc=d=>{const g=z=>z(d),E=K(d),x=()=>k,k={tag:!0,inner:d,fold:(z,ee)=>ee(d),isValue:ke,isError:yt,map:z=>Kf.value(z(d)),mapError:x,bind:g,exists:g,forall:g,getOr:E,or:x,getOrThunk:E,orThunk:x,getOrDie:E,each:z=>{z(d)},toOptional:()=>_e.some(d)};return k},Uh=d=>{const g=()=>E,E={tag:!1,inner:d,fold:(x,k)=>x(d),isValue:yt,isError:ke,map:g,mapError:x=>Kf.error(x(d)),bind:g,exists:yt,forall:ke,getOr:De,or:De,getOrThunk:ut,orThunk:ut,getOrDie:qe(String(d)),each:ce,toOptional:_e.none};return E},Kf={value:zc,error:Uh,fromOption:(d,g)=>d.fold(()=>Uh(g),zc)},Kl=(d,g,E)=>{if(d.row>=g.length||d.column>tl(g[0]))return Kf.error("invalid start address out of table bounds, row: "+d.row+", column: "+d.column);const x=g.slice(d.row),k=x[0].cells.slice(d.column),z=tl(E[0]),ee=E.length;return Kf.value({rowDelta:x.length-ee,colDelta:k.length-z})},Zu=(d,g)=>{const E=tl(d[0]),x=tl(g[0]);return{rowDelta:0,colDelta:E-x}},zh=(d,g)=>{const E=d.length,x=g.length;return{rowDelta:E-x,colDelta:0}},_1=(d,g,E,x)=>{const k=g.section==="colgroup"?E.col:E.cell;return qt(d,z=>Ni(k(),!0,x(z)))},f0=(d,g,E,x)=>{const k=d[d.length-1];return d.concat(qt(g,()=>{const z=k.section==="colgroup"?E.colgroup:E.row,ee=Am(k,z,De),pe=_1(ee.cells.length,ee,E,Ce=>Yr(x,Ce.toString()));return ha(ee,pe)}))},T_=(d,g,E,x)=>Vt(d,k=>{const z=_1(g,k,E,yt);return Rh(k,x,z)}),C_=(d,g,E)=>Vt(d,x=>et(E,(k,z)=>{const ee=_1(1,x,g,ke)[0];return Ev(k,z,ee)},x)),dg=(d,g,E)=>{const x=g.colDelta<0?T_:De,k=g.rowDelta<0?f0:De,z=Ul(d),ee=tl(d[0]),pe=tt(z,Xe=>Xe===ee-1),Ce=x(d,Math.abs(g.colDelta),E,pe?ee-1:ee),Ne=Ul(Ce);return k(Ce,Math.abs(g.rowDelta),E,kn(Ne,ke))},h0=(d,g,E,x)=>{const k=gl(d[g],E),z=H(x,k.element),ee=d[g];return d.length>1&&tl(ee)>1&&(E>0&&z(Na(ee,E-1))||E<ee.cells.length-1&&z(Na(ee,E+1))||g>0&&z(Na(d[g-1],E))||g<d.length-1&&z(Na(d[g+1],E)))},Gw=(d,g,E,x,k,z)=>{const ee=d.row,pe=d.column,Ce=E.length,Ne=tl(E[0]),Xe=ee+Ce,$t=pe+Ne+z.length,cn=kn(z,ke);for(let tn=ee;tn<Xe;tn++){let Tt=0;for(let rn=pe;rn<$t;rn++){if(cn[rn]){Tt++;continue}h0(g,tn,rn,k)&&w_(g,Na(g[tn],rn),k,x.cell);const Et=rn-pe-Tt,wn=gl(E[tn-ee],Et),Qn=wn.element,yo=x.replace(Qn);ii(g[tn],rn,Ni(yo,!0,wn.isLocked))}}return g},qw=(d,g,E)=>{const x=tl(g[0]),k=ea(g).cols.length+d.row,z=qt(x-d.column,pe=>pe+d.column),ee=oe(z,pe=>gs(E,Ce=>Ce!==pe)).getOr(x-1);return{row:k,column:ee}},S_=(d,g,E)=>ao(E,x=>x>=d.column&&x<=tl(g[0])+d.column),x_=(d,g,E,x,k)=>{const z=Ul(g),ee=qw(d,g,z),pe=ea(E).rows,Ce=S_(ee,pe,z);return Kl(ee,g,pe).map(Xe=>{const $t={...Xe,colDelta:Xe.colDelta-Ce.length},cn=dg(g,$t,x),tn=Ul(cn),Tt=S_(ee,pe,tn);return Gw(ee,cn,pe,x,k,Tt)})},m0=(d,g,E,x,k)=>{oa(g,d,k,x.cell);const z=zh(E,g),ee=dg(E,z,x),pe=zh(g,ee),Ce=dg(g,pe,x);return Vt(Ce,(Ne,Xe)=>Rh(Ne,d,ee[Xe].cells))},A_=(d,g,E,x,k)=>{gu(g,d,k,x.cell);const z=Ul(g),ee=Zu(g,E),pe={...ee,colDelta:ee.colDelta-z.length},Ce=dg(g,pe,x),{cols:Ne,rows:Xe}=ea(Ce),$t=Ul(Ce),cn=Zu(E,g),tn={...cn,colDelta:cn.colDelta+$t.length},Tt=C_(E,x,$t),rn=dg(Tt,tn,x);return[...Ne,...Xe.slice(0,d),...rn,...Xe.slice(d,Xe.length)]},jw=(d,g,E,x)=>Am(d,k=>x(k,E),g),p0=(d,g,E,x,k)=>{const{rows:z,cols:ee}=ea(d),pe=z.slice(0,g),Ce=z.slice(g),Ne=jw(z[E],(Xe,$t)=>g>0&&g<z.length&&x(Na(z[g-1],$t),Na(z[g],$t))?gl(z[g],$t):Ni(k(Xe.element,x),!0,Xe.isLocked),x,k);return[...ee,...pe,Ne,...Ce]},Zm=(d,g,E,x,k,z,ee)=>{if(E==="colgroup"||!x){const pe=gl(d,k);return Ni(ee(pe.element,z),!0,!1)}else return gl(d,g)},g0=(d,g,E,x,k)=>Vt(d,z=>{const ee=g>0&&g<tl(z)&&x(Na(z,g-1),Na(z,g)),pe=Zm(z,g,z.section,ee,E,x,k);return Ev(z,g,pe)}),Zw=(d,g)=>Bt(d,E=>{const x=E.cells,k=Fo(g,(z,ee)=>ee>=0&&ee<z.length?z.slice(0,ee).concat(z.slice(ee+1)):z,x);return k.length>0?[Pu(E.element,k,E.section,E.isNew)]:[]}),Yw=(d,g,E)=>{const{rows:x,cols:k}=ea(d);return[...k,...x.slice(0,g),...x.slice(E+1)]},O_=(d,g,E,x)=>Na(d[g],E)!==void 0&&g>0&&x(Na(d[g-1],E),Na(d[g],E)),Cr=(d,g,E)=>g>0&&E(Na(d,g-1),Na(d,g)),df=(d,g,E,x)=>O_(d,g,E,x)||Cr(d[g],E,x),Wh=(d,g)=>gs(g,De)&&Gm(d.cells)?ke:(x,k,z)=>!(ks(x.element)==="th"&&g[z]),R_=(d,g)=>gs(g,De)&&Gm(d)?ke:(x,k,z)=>!(ks(x.element)==="th"&&g[k]),Wv=(d,g,E,x)=>{const k=ee=>ee==="row"?Ji(g):oc(g),z=ee=>k(ee)?`${ee}group`:ee;return d?ag(g)?z(E):null:x&&ag(g)?z(E==="row"?"col":"row"):null},dc=(d,g)=>(E,x,k)=>_e.some(Wv(d,E.element,"col",g[k])),rl=(d,g)=>(E,x)=>_e.some(Wv(d,E.element,"row",g[x])),Ym=(d,g,E)=>Ni(E(d.element,g),!0,d.isLocked),Gv=(d,g,E,x,k,z,ee)=>{const pe=Ce=>tt(g,Ne=>E(Ce.element,Ne.element));return Vt(d,(Ce,Ne)=>$u(Ce,(Xe,$t)=>{if(pe(Xe)){const cn=ee(Xe,Ne,$t)?k(Xe,E,x):Xe;return z(cn,Ne,$t).each(tn=>{Kc(cn.element,{scope:_e.from(tn)})}),cn}else return Xe}))},v0=(d,g,E)=>Bt(d,(x,k)=>df(d,k,g,E)?[]:[gl(x,g)]),I_=(d,g,E)=>{const x=d[g];return Bt(x.cells,(k,z)=>df(d,g,z,E)?[]:[k])},b0=(d,g,E,x,k)=>{const z=ea(d).rows,ee=Bt(g,Xe=>v0(z,Xe,x)),pe=Vt(z,Xe=>Gm(Xe.cells)),Ce=R_(ee,pe),Ne=rl(E,pe);return Gv(d,ee,x,k,Ym,Ne,Ce)},D_=(d,g,E,x,k,z,ee)=>{const{cols:pe,rows:Ce}=ea(d),Ne=Ce[g[0]],Xe=Bt(g,Et=>I_(Ce,Et,k)),$t=Vt(Ne.cells,(Et,wn)=>Gm(v0(Ce,wn,k))),cn=[...Ce];je(g,Et=>{cn[Et]=ee.transformRow(Ce[Et],E)});const tn=[...pe,...cn],Tt=Wh(Ne,$t),rn=dc(x,$t);return Gv(tn,Xe,k,z,ee.transformCell,rn,Tt)},Al=(d,g,E,x)=>{const k=ea(d).rows,z=Vt(g,ee=>gl(k[ee.row],ee.column));return Gv(d,z,E,x,Ym,_e.none,ke)},Nr={generate:d=>{if(!U(d))throw new Error("cases must be an array");if(d.length===0)throw new Error("there must be at least one case");const g=[],E={};return je(d,(x,k)=>{const z=Lt(x);if(z.length!==1)throw new Error("one and only one name per case");const ee=z[0],pe=x[ee];if(E[ee]!==void 0)throw new Error("duplicate key detected:"+ee);if(ee==="cata")throw new Error("cannot have a case named cata (sorry)");if(!U(pe))throw new Error("case arguments must be an array");g.push(ee),E[ee]=(...Ce)=>{const Ne=Ce.length;if(Ne!==pe.length)throw new Error("Wrong number of arguments to case "+ee+". Expected "+pe.length+" ("+pe+"), got "+Ne);return{fold:(...$t)=>{if($t.length!==d.length)throw new Error("Wrong number of arguments to fold. Expected "+d.length+", got "+$t.length);return $t[k].apply(null,Ce)},match:$t=>{const cn=Lt($t);if(g.length!==cn.length)throw new Error("Wrong number of arguments to match. Expected: "+g.join(",")+`
Actual: `+cn.join(","));if(!gs(g,Tt=>Rt(cn,Tt)))throw new Error("Not all branches were specified when using match. Specified: "+cn.join(", ")+`
Required: `+g.join(", "));return $t[ee].apply(null,Ce)},log:$t=>{console.log($t,{constructors:g,constructor:ee,params:Ce})}}}}),E}},Cd={...Nr.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},Kw=(d,g)=>d.length===0?Cd.none():d.length===1?Cd.only(0):g===0?Cd.left(0,1):g===d.length-1?Cd.right(g-1,g):g>0&&g<d.length-1?Cd.middle(g-1,g,g+1):Cd.none(),N_=(d,g,E,x,k)=>{const z=d.slice(0),ee=Kw(d,g),pe=K(Vt(z,K(0))),Ce=cn=>x.singleColumnWidth(z[cn],E),Ne=(cn,tn)=>k.calcLeftEdgeDeltas(z,cn,tn,E,x.minCellWidth(),x.isRelative),Xe=(cn,tn,Tt)=>k.calcMiddleDeltas(z,cn,tn,Tt,E,x.minCellWidth(),x.isRelative),$t=(cn,tn)=>k.calcRightEdgeDeltas(z,cn,tn,E,x.minCellWidth(),x.isRelative);return ee.fold(pe,Ce,Ne,Xe,$t)},y0=(d,g,E)=>{let x=0;for(let k=d;k<g;k++)x+=E[k]!==void 0?E[k]:0;return x},Km=(d,g)=>{const E=ge.justCells(d);return Vt(E,x=>{const k=y0(x.column,x.column+x.colspan,g);return{element:x.element,width:k,colspan:x.colspan}})},_0=(d,g)=>{const E=ge.justColumns(d);return Vt(E,(x,k)=>({element:x.element,width:g[k],colspan:x.colspan}))},fg=(d,g)=>{const E=ge.justCells(d);return Vt(E,x=>{const k=y0(x.row,x.row+x.rowspan,g);return{element:x.element,height:k,rowspan:x.rowspan}})},Xm=(d,g)=>Vt(d.all,(E,x)=>({element:E.element,height:g[x]})),Xw=d=>Fo(d,(g,E)=>g+E,0),E1=(d,g)=>ge.hasColumns(d)?_0(d,g):Km(d,g),w1=(d,g,E)=>{const x=E1(d,g);je(x,k=>{E.setElementWidth(k.element,k.width)})},E0=(d,g,E,x,k)=>{const z=ge.fromTable(d),ee=k.getCellDelta(g),pe=k.getWidths(z,k),Ce=E===z.grid.columns-1,Ne=x.clampTableDelta(pe,E,ee,k.minCellWidth(),Ce),Xe=N_(pe,E,Ne,k,x),$t=Vt(Xe,(cn,tn)=>cn+pe[tn]);w1(z,$t,k),x.resizeTable(k.adjustTableWidth,Ne,Ce)},qv=(d,g,E,x)=>{const k=ge.fromTable(d),z=Gr(k,d,x),ee=Vt(z,(Xe,$t)=>E===$t?Math.max(g+Xe,Ra()):Xe),pe=fg(k,ee),Ce=Xm(k,ee);je(Ce,Xe=>{hr(Xe.element,Xe.height)}),je(pe,Xe=>{hr(Xe.element,Xe.height)});const Ne=Xw(ee);hr(d,Ne)},hg=(d,g,E,x,k)=>{const z=ge.generate(g),ee=x.getWidths(z,x),pe=x.pixelWidth(),{newSizes:Ce,delta:Ne}=k.calcRedestributedWidths(ee,pe,E.pixelDelta,x.isRelative);w1(z,Ce,x),x.adjustTableWidth(Ne)},jv=(d,g,E,x)=>{const k=ge.generate(g),z=x.getWidths(k,x);w1(k,z,x)},Gh=d=>et(d,(E,x)=>tt(E,z=>z.column===x.column)?E:E.concat([x]),[]).sort((E,x)=>E.column-x.column),mg=Di("col"),M_=Di("colgroup"),k_=d=>ks(d)==="tr"||M_(d),T1=d=>{const g=zr(d,"colspan",1),E=zr(d,"rowspan",1);return{element:d,colspan:g,rowspan:E}},Sd=(d,g=T1)=>{const E=pe=>mg(pe.element)?d.col(pe):d.cell(pe),x=pe=>M_(pe.element)?d.colgroup(pe):d.row(pe),k=pe=>{if(k_(pe))return x({element:pe});{const Ce=pe,Ne=E(g(Ce));return z=_e.some({item:Ce,replacement:Ne}),Ne}};let z=_e.none();return{getOrInit:(pe,Ce)=>z.fold(()=>k(pe),Ne=>Ce(pe,Ne.item)?Ne.replacement:k(pe))}},vu=d=>g=>{const E=[],x=(ee,pe)=>oe(E,Ce=>pe(Ce.item,ee)),k=ee=>{const pe=d==="td"?{scope:null}:{},Ce=g.replace(ee,d,pe);return E.push({item:ee,sub:Ce}),Ce};return{replaceOrInit:(ee,pe)=>{if(k_(ee)||mg(ee))return ee;{const Ce=ee;return x(Ce,pe).fold(()=>k(Ce),Ne=>pe(ee,Ne.item)?Ne.sub:k(Ce))}}}},C1=d=>Sa(d,"scope").map(g=>g.substr(0,3)),Sr={modification:Sd,transform:vu,merging:d=>({unmerge:x=>{const k=C1(x);return k.each(z=>Ur(x,"scope",z)),()=>{const z=d.cell({element:x,colspan:1,rowspan:1});return Ec(z,"width"),Ec(x,"width"),k.each(ee=>Ur(z,"scope",ee)),z}},merge:x=>{const k=()=>{const z=lr(Vt(x,C1));if(z.length===0)return _e.none();{const ee=z[0],pe=["row","col"];return tt(z,Ne=>Ne!==ee&&Rt(pe,Ne))?_e.none():_e.from(ee)}};return Ec(x[0],"width"),k().fold(()=>Br(x[0],"scope"),z=>Ur(x[0],"scope",z+"group")),K(x[0])}})},Qm=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],w0=(d,g)=>{const E=d.property().name(g);return Rt(["ol","ul"],E)},er=(d,g)=>{const E=d.property().name(g);return Rt(Qm,E)},Yu=(d,g)=>Rt(["br","img","hr","input"],d.property().name(g)),S1=Wu(),sa=d=>er(S1,d),Ku=d=>w0(S1,d),T0=d=>Yu(S1,d),P_=d=>{const g=Di("br"),E=Ce=>gs(Ce,Ne=>g(Ne)||Ru(Ne)&&wl(Ne).trim().length===0),x=Ce=>ks(Ce)==="li"||Pe(Ce,Ku).isSome(),k=Ce=>ad(Ce).map(Ne=>sa(Ne)?!0:T0(Ne)?ks(Ne)!=="img":!1).getOr(!1),z=Ce=>Av(Ce).bind(Ne=>{const Xe=k(Ne);return lu(Ne).map($t=>Xe===!0||x($t)||g(Ne)||sa($t)&&!Fs(Ce,$t)?[]:[Qe.fromTag("br")])}).getOr([]),pe=(()=>{const Ce=Bt(d,Ne=>{const Xe=Cs(Ne);return E(Xe)?[]:Xe.concat(z(Ne))});return Ce.length===0?[Qe.fromTag("br")]:Ce})();ri(d[0]),ec(d[0],pe)},Zv=d=>na(d,!0),Jm=d=>{fu(d).length===0&&Fr(d)},qh=(d,g)=>({grid:d,cursor:g}),Yv=d=>vi(d,g=>vi(g.cells,E=>{const x=E.element;return ls(Zv(x),x)})),x1=(d,g,E)=>{var x,k;const z=ea(d).rows;return _e.from((k=(x=z[g])===null||x===void 0?void 0:x.cells[E])===null||k===void 0?void 0:k.element).filter(Zv).orThunk(()=>Yv(z))},Oc=(d,g,E)=>{const x=x1(d,g,E);return qh(d,x)},A1=d=>et(d,(E,x)=>tt(E,z=>z.row===x.row)?E:E.concat([x]),[]).sort((E,x)=>E.row-x.row),C0=(d,g,E,x)=>{const k=g[0].row,z=A1(g),ee=Fo(z,(pe,Ce)=>({grid:p0(pe.grid,k,Ce.row+pe.delta,E,x.getOrInit),delta:pe.delta+1}),{grid:d,delta:0}).grid;return Oc(ee,k,g[0].column)},O1=(d,g,E,x)=>{const k=A1(g),z=k[k.length-1],ee=z.row+z.rowspan,pe=Fo(k,(Ce,Ne)=>p0(Ce,ee,Ne.row,E,x.getOrInit),d);return Oc(pe,ee,g[0].column)},Qf=(d,g,E,x)=>{const k=g.details,z=Gh(k),ee=z[0].column,pe=Fo(z,(Ce,Ne)=>({grid:g0(Ce.grid,ee,Ne.column+Ce.delta,E,x.getOrInit),delta:Ce.delta+1}),{grid:d,delta:0}).grid;return Oc(pe,k[0].row,ee)},Rc=(d,g,E,x)=>{const k=g.details,z=k[k.length-1],ee=z.column+z.colspan,pe=Gh(k),Ce=Fo(pe,(Ne,Xe)=>g0(Ne,ee,Xe.column,E,x.getOrInit),d);return Oc(Ce,k[0].row,ee)},Qw=(d,g,E,x)=>{const k=Gh(g),z=Vt(k,pe=>pe.column),ee=b0(d,z,!0,E,x.replaceOrInit);return Oc(ee,g[0].row,g[0].column)},va=(d,g,E,x)=>{const k=Al(d,g,E,x.replaceOrInit);return Oc(k,g[0].row,g[0].column)},Kv=(d,g,E,x)=>{const k=Gh(g),z=Vt(k,pe=>pe.column),ee=b0(d,z,!1,E,x.replaceOrInit);return Oc(ee,g[0].row,g[0].column)},hf=(d,g,E,x)=>{const k=Al(d,g,E,x.replaceOrInit);return Oc(k,g[0].row,g[0].column)},R1=(d,g)=>(E,x,k,z,ee)=>{const pe=A1(x),Ce=Vt(pe,Xe=>Xe.row),Ne=D_(E,Ce,d,g,k,z.replaceOrInit,ee);return Oc(Ne,x[0].row,x[0].column)},L_=R1("thead",!0),S0=R1("tbody",!1),x0=R1("tfoot",!1),A0=(d,g,E,x)=>{const k=Gh(g.details),z=Zw(d,Vt(k,pe=>pe.column)),ee=z.length>0?z[0].cells.length-1:0;return Oc(z,k[0].row,Math.min(k[0].column,ee))},O0=(d,g,E,x)=>{const k=A1(g),z=Yw(d,k[0].row,k[k.length-1].row),ee=z.length>0?z.length-1:0;return Oc(z,Math.min(g[0].row,ee),g[0].column)},$_=(d,g,E,x)=>{const k=g.cells;P_(k);const z=xs(d,g.bounds,E,x.merge(k));return qh(z,_e.from(k[0]))},Jw=(d,g,E,x)=>{const z=Fo(g,(ee,pe)=>w_(ee,pe,E,x.unmerge(pe)),d);return qh(z,_e.from(g[0]))},ba=(d,g,E,x)=>{const z=((Ce,Ne)=>{const Xe=ge.fromTable(Ce);return lg(Xe,Ne,!0)})(g.clipboard,g.generators),ee=Nu(g.row,g.column);return x_(ee,d,z,g.generators,E).fold(()=>qh(d,_e.some(g.element)),Ce=>Oc(Ce,g.row,g.column))},Ui=(d,g,E)=>{const x=hu(d,E.section),k=ge.generate(x);return lg(k,g,!0)},Wc=(d,g,E,x)=>{const k=ea(d).rows,z=g.cells[0].column,ee=k[g.cells[0].row],pe=Ui(g.clipboard,g.generators,ee),Ce=m0(z,d,pe,g.generators,E);return Oc(Ce,g.cells[0].row,g.cells[0].column)},Ol=(d,g,E,x)=>{const k=ea(d).rows,z=g.cells[g.cells.length-1].column+g.cells[g.cells.length-1].colspan,ee=k[g.cells[0].row],pe=Ui(g.clipboard,g.generators,ee),Ce=m0(z,d,pe,g.generators,E);return Oc(Ce,g.cells[0].row,g.cells[0].column)},Is=(d,g,E,x)=>{const k=ea(d).rows,z=g.cells[0].row,ee=k[z],pe=Ui(g.clipboard,g.generators,ee),Ce=A_(z,d,pe,g.generators,E);return Oc(Ce,g.cells[0].row,g.cells[0].column)},ka=(d,g,E,x)=>{const k=ea(d).rows,z=g.cells[g.cells.length-1].row+g.cells[g.cells.length-1].rowspan,ee=k[g.cells[0].row],pe=Ui(g.clipboard,g.generators,ee),Ce=A_(z,d,pe,g.generators,E);return Oc(Ce,g.cells[0].row,g.cells[0].column)},Xu=(d,g)=>{const E=ge.fromTable(d);return Vh(E,g).bind(k=>{const z=k[k.length-1],ee=k[0].column,pe=z.column+z.colspan,Ce=uo(Vt(E.all,Ne=>ao(Ne.cells,Xe=>Xe.column>=ee&&Xe.column<pe)));return Fh(Ce)}).getOr("")},Jf=(d,g)=>{const E=ge.fromTable(d);return Vh(E,g).bind(Fh).getOr("")},ds=(d,g)=>{const E=ge.fromTable(d);return Vh(E,g).bind(k=>{const z=k[k.length-1],ee=k[0].row,pe=z.row+z.rowspan,Ce=E.all.slice(ee,pe);return b1(Ce)}).getOr("")},Xv=(d,g,E,x)=>jv(d,g,E,x.sizing),Gc=(d,g,E,x)=>hg(d,g,E,x.sizing,x.resize),zi=(d,g)=>tt(g,E=>E.column===0&&E.isLocked),I1=(d,g)=>tt(g,E=>E.column+E.colspan>=d.grid.columns&&E.isLocked),xd=(d,g)=>{const E=Xd(d),x=Gh(g);return et(x,(k,z)=>{const pe=E[z.column].map(Kd).getOr(0);return k+pe},0)},R0=d=>(g,E)=>Vh(g,E).filter(x=>!(d?zi:I1)(g,x)).map(x=>({details:x,pixelDelta:xd(g,x)})),bx=(d,g)=>Yf(d,g).map(E=>({details:E,pixelDelta:-xd(d,E)})),Qv=d=>(g,E)=>y1(g,E).filter(x=>!(d?zi:I1)(g,x.cells)),I0=Sr.transform("th"),Jv=Sr.transform("td"),D1=Ci(C0,Vh,ce,ce,Sr.modification),B_=Ci(O1,Vh,ce,ce,Sr.modification),yn=Ci(Qf,R0(!0),Gc,ce,Sr.modification),eb=Ci(Rc,R0(!1),Gc,ce,Sr.modification),N1=Ci(A0,bx,Gc,Jm,Sr.modification),Wi=Ci(O0,Vh,ce,Jm,Sr.modification),kt=Ci(Qw,Yf,ce,ce,I0),F_=Ci(Kv,Yf,ce,ce,Jv),ya=Ci(L_,Yf,ce,ce,I0),eT=Ci(S0,Yf,ce,ce,Jv),H_=Ci(x0,Yf,ce,ce,Jv),V_=Ci(va,Yf,ce,ce,I0),bu=Ci(hf,Yf,ce,ce,Jv),yu=Ci($_,vx,Xv,ce,Sr.merging),pg=Ci(Jw,Td,Xv,ce,Sr.merging),il=Ci(ba,Uv,Xv,ce,Sr.modification),M1=Ci(Wc,Qv(!0),ce,ce,Sr.modification),k1=Ci(Ol,Qv(!1),ce,ce,Sr.modification),Ad=Ci(Is,y1,ce,ce,Sr.modification),Xl=Ci(ka,y1,ce,ce,Sr.modification),al=Xu,Ic=Jf,tT=ds,tb=(d,g)=>d.dispatch("NewRow",{node:g}),nb=(d,g)=>d.dispatch("NewCell",{node:g}),jh=(d,g,E)=>{d.dispatch("TableModified",{...E,table:g})},U_=(d,g,E,x,k)=>{d.dispatch("TableSelectionChange",{cells:g,start:E,finish:x,otherCells:k})},ob=d=>{d.dispatch("TableSelectionClear")},eh=(d,g,E,x,k)=>{d.dispatch("ObjectResizeStart",{target:g,width:E,height:x,origin:k})},_s=(d,g,E,x,k)=>{d.dispatch("ObjectResized",{target:g,width:E,height:x,origin:k})},ep={structure:!1,style:!0},pr={structure:!0,style:!1},z_={structure:!0,style:!0},tp=d=>g=>g.options.get(d),Mr="100%",sb=d=>{var g;const E=d.dom,x=(g=E.getParent(d.selection.getStart(),E.isBlock))!==null&&g!==void 0?g:d.getBody();return ro(Qe.fromDom(x))+"px"},W_=(d,g)=>Zs(d)||!Dc(d)?g:_u(d)?{...g,width:sb(d)}:{...g,width:Mr},gg=(d,g)=>Zs(d)||Dc(d)?g:_u(d)?{...g,width:sb(d)}:{...g,width:Mr},nT=d=>{const g=d.options.register;g("table_clone_elements",{processor:"string[]"}),g("table_use_colgroups",{processor:"boolean",default:!0}),g("table_header_type",{processor:E=>{const x=Rt(["section","cells","sectionCells","auto"],E);return x?{value:E,valid:x}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),g("table_sizing_mode",{processor:"string",default:"auto"}),g("table_default_attributes",{processor:"object",default:{border:"1"}}),g("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),g("table_column_resizing",{processor:E=>{const x=Rt(["preservetable","resizetable"],E);return x?{value:E,valid:x}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),g("table_resize_bars",{processor:"boolean",default:!0}),g("table_style_by_css",{processor:"boolean",default:!0})},P1=d=>_e.from(d.options.get("table_clone_elements")),G_=d=>{const g=d.options.get("object_resizing");return Rt(g.split(","),"table")},q_=tp("table_header_type"),D0=tp("table_column_resizing"),N0=d=>D0(d)==="preservetable",j_=d=>D0(d)==="resizetable",mf=tp("table_sizing_mode"),rb=d=>mf(d)==="relative",_u=d=>mf(d)==="fixed",Zs=d=>mf(d)==="responsive",vg=tp("table_resize_bars"),Dc=tp("table_style_by_css"),L1=d=>{const g=d.options,E=g.get("table_default_attributes");return g.isSet("table_default_attributes")?E:gg(d,E)},Z_=d=>{const g=d.options,E=g.get("table_default_styles");return g.isSet("table_default_styles")?E:W_(d,E)},ib=tp("table_use_colgroups"),$1=(d,g)=>rb(d)?Nh.percentageSize(g):_u(d)?Nh.pixelSize(g):Nh.getTableSize(g),M0=(d,g,E)=>{const x=Dl=>ks(Hc(Dl))==="table",k=Dl=>!x(d)||Wm(Dl).rows>1,z=Dl=>!x(d)||Wm(Dl).columns>1,ee=P1(d),pe=j_(d)?ce:Uc,Ce=Dl=>{switch(q_(d)){case"section":return jm.section();case"sectionCells":return jm.sectionCells();case"cells":return jm.cells();default:return jm.getTableSectionType(Dl,"section")}},Ne=(Dl,jx)=>jx.cursor.fold(()=>{const wb=fu(Dl);return mt(wb).filter(Kr).map(Nd=>{E.clearSelectedCells(Dl.dom);const Mc=d.dom.createRng();return Mc.selectNode(Nd.dom),d.selection.setRng(Mc),Ur(Nd,"data-mce-selected","1"),Mc})},wb=>{const Nd=lf(wb),Mc=d.dom.createRng();return Mc.setStart(Nd.element.dom,Nd.offset),Mc.setEnd(Nd.element.dom,Nd.offset),d.selection.setRng(Mc),E.clearSelectedCells(Dl.dom),_e.some(Mc)}),Xe=(Dl,jx,wb,Nd)=>(Mc,Md,Zx=!1)=>{Sl(Mc);const Yx=Qe.fromDom(d.getDoc()),kR=kh(wb,Yx,ee),PR={sizing:$1(d,Mc),resize:j_(d)?rg():ig(),section:Ce(Mc)};return jx(Mc)?Dl(Mc,Md,kR,PR).bind(vC=>{g.refresh(Mc.dom),je(vC.newRows,nv=>{tb(d,nv.dom)}),je(vC.newCells,nv=>{nb(d,nv.dom)});const Tb=Ne(Mc,vC);return Kr(Mc)&&(Sl(Mc),Zx||jh(d,Mc.dom,Nd)),Tb.map(nv=>({rng:nv,effect:Nd}))}):_e.none()},$t=Xe(Wi,k,ce,pr),cn=Xe(N1,z,ce,pr),tn=Xe(D1,ke,ce,pr),Tt=Xe(B_,ke,ce,pr),rn=Xe(yn,ke,pe,pr),Et=Xe(eb,ke,pe,pr),wn=Xe(yu,ke,ce,pr),Qn=Xe(pg,ke,ce,pr),yo=Xe(M1,ke,ce,pr),ir=Xe(k1,ke,ce,pr),hc=Xe(Ad,ke,ce,pr),fi=Xe(Xl,ke,ce,pr),Tu=Xe(il,ke,ce,z_),Og=Xe(V_,ke,ce,pr),my=Xe(bu,ke,ce,pr),gC=Xe(kt,ke,ce,pr),$E=Xe(F_,ke,ce,pr),Ys=Xe(ya,ke,ce,pr),Rl=Xe(eT,ke,ce,pr),Il=Xe(H_,ke,ce,pr);return{deleteRow:$t,deleteColumn:cn,insertRowsBefore:tn,insertRowsAfter:Tt,insertColumnsBefore:rn,insertColumnsAfter:Et,mergeCells:wn,unmergeCells:Qn,pasteColsBefore:yo,pasteColsAfter:ir,pasteRowsBefore:hc,pasteRowsAfter:fi,pasteCells:Tu,makeCellsHeader:Og,unmakeCellsHeader:my,makeColumnsHeader:gC,unmakeColumnsHeader:$E,makeRowsHeader:Ys,makeRowsBody:Rl,makeRowsFooter:Il,getTableRowType:tT,getTableCellType:Ic,getTableColType:al}},Y_=(d,g,E)=>{const x=zr(d,g,1);E===1||x<=1?Br(d,g):Ur(d,g,Math.min(E,x))},fc=(d,g)=>E=>{const x=E.column+E.colspan-1,k=E.column;return x>=d&&k<g},Ql=(d,g,E)=>{if(ge.hasColumns(d)){const x=ao(ge.justColumns(d),fc(g,E)),k=Vt(x,ee=>{const pe=Lc(ee.element);return Y_(pe,"span",E-g),pe}),z=Qe.fromTag("colgroup");return ec(z,k),[z]}else return[]},oT=(d,g,E)=>Vt(d.all,x=>{const k=ao(x.cells,fc(g,E)),z=Vt(k,pe=>{const Ce=Lc(pe.element);return Y_(Ce,"colspan",E-g),Ce}),ee=Qe.fromTag("tr");return ec(ee,z),ee}),sT=(d,g)=>{const E=ge.fromTable(d);return Yf(E,g).map(k=>{const z=k[k.length-1],ee=k[0].column,pe=z.column+z.colspan,Ce=Ql(E,ee,pe),Ne=oT(E,ee,pe);return[...Ce,...Ne]})},rT=(d,g,E)=>{const x=ge.fromTable(d);return Vh(x,g).bind(z=>{const ee=lg(x,E,!1),Ce=ea(ee).rows.slice(z[0].row,z[z.length-1].row+z[z.length-1].rowspan),Ne=Bt(Ce,$t=>{const cn=ao($t.cells,tn=>!tn.isLocked);return cn.length>0?[{...$t,cells:cn}]:[]}),Xe=Vi(Ne);return ls(Xe.length>0,Xe)}).map(z=>u0(z))},np=Nr.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),k0=(d,g,E)=>{const x=E.substring(0,E.length-d.length),k=parseFloat(x);return x===k.toString()?g(k):np.invalid(E)},op={...np,from:d=>Ao(d,"%")?k0("%",np.percent,d):Ao(d,"px")?k0("px",np.pixels,d):np.invalid(d)},K_=(d,g)=>Vt(d,E=>op.from(E).fold(()=>E,k=>k/g*100+"%",k=>k+"%")),iT=(d,g,E)=>{const x=E/g;return Vt(d,k=>op.from(k).fold(()=>k,ee=>ee*x+"px",ee=>ee/100*E+"px"))},aT=(d,g)=>{const E=d.fold(()=>K(""),x=>{const k=x/g;return K(k+"px")},()=>{const x=100/g;return K(x+"%")});return qt(g,E)},L0=(d,g,E)=>d.fold(()=>g,x=>iT(g,E,x),x=>K_(g,E)),$0=(d,g,E)=>{const x=op.from(E),k=gs(d,z=>z==="0px")?aT(x,d.length):L0(x,d,g);return lT(k)},Zh=(d,g)=>d.length===0?g:Fo(d,(E,x)=>op.from(x).fold(K(0),De,De)+E,0),X_=(d,g)=>{const E=Math.floor(d);return{value:E+g,remainder:d-E}},cT=(d,g)=>op.from(d).fold(K(d),E=>E+g+"px",E=>E+g+"%"),lT=d=>{if(d.length===0)return d;const g=Fo(d,(x,k)=>{const z=op.from(k).fold(()=>({value:k,remainder:0}),ee=>X_(ee,"px"),ee=>({value:ee+"%",remainder:0}));return{output:[z.value].concat(x.output),remainder:x.remainder+z.remainder}},{output:[],remainder:0}),E=g.output;return E.slice(0,E.length-1).concat([cT(E[E.length-1],Math.round(g.remainder))])},uT=op.from,Od=(d,g,E)=>{je(g,x=>{const k=d.slice(x.column,x.colspan+x.column),z=Zh(k,Ha());is(x.element,"width",z+E)})},ab=(d,g,E)=>{je(g,(x,k)=>{const z=Zh([d[k]],Ha());is(x.element,"width",z+E)})},sp=(d,g,E,x)=>{je(E,k=>{const z=d.slice(k.row,k.rowspan+k.row),ee=Zh(z,Ra());is(k.element,"height",ee+x)}),je(g,(k,z)=>{is(k.element,"height",d[z])})},cb=d=>uT(d).fold(K("px"),K("px"),K("%")),Q_=(d,g,E)=>{const x=ge.fromTable(d),k=x.all,z=ge.justCells(x),ee=ge.justColumns(x);g.each(pe=>{const Ce=cb(pe),Ne=el(d),Xe=In(x,d),$t=$0(Xe,Ne,pe);ge.hasColumns(x)?ab($t,ee,Ce):Od($t,z,Ce),is(d,"width",pe)}),E.each(pe=>{const Ce=cb(pe),Ne=ma(d),Xe=ci(x,d,bl),$t=$0(Xe,Ne,pe);sp($t,k,z,Ce),is(d,"height",pe)})},pf=Ga,B1=ic,B0=Mm,Rd=d=>{Br(d,"width")},Yh=d=>{const g=Gl(d);Q_(d,_e.some(g),_e.none()),Rd(d)},F0=d=>{const g=Wr(d);Q_(d,_e.some(g),_e.none()),Rd(d)},J_=d=>{Ec(d,"width");const g=Zd(d),E=g.length>0?g:fu(d);je(E,x=>{Ec(x,"width"),Rd(x)}),Rd(d)},dT={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},fT=()=>Qe.fromTag("th"),H0=()=>Qe.fromTag("td"),hT=()=>Qe.fromTag("col"),mT=(d,g,E,x)=>{const k=Qe.fromTag("tr");for(let z=0;z<d;z++){const ee=x<g||z<E?fT():H0();z<E&&Ur(ee,"scope","row"),x<g&&Ur(ee,"scope","col"),br(ee,Qe.fromTag("br")),br(k,ee)}return k},eE=d=>{const g=Qe.fromTag("colgroup");return qt(d,()=>br(g,hT())),g},tE=(d,g,E,x)=>qt(d,k=>mT(g,E,x,k)),lb=(d,g,E,x,k,z=dT)=>{const ee=Qe.fromTag("table"),pe=k!=="cells";dr(ee,z.styles),Fa(ee,z.attributes),z.colGroups&&br(ee,eE(g));const Ce=Math.min(d,E);if(pe&&E>0){const tn=Qe.fromTag("thead");br(ee,tn);const rn=tE(E,g,k==="sectionCells"?Ce:0,x);ec(tn,rn)}const Ne=Qe.fromTag("tbody");br(ee,Ne);const Xe=pe?d-Ce:d,cn=tE(Xe,g,pe?0:E,x);return ec(Ne,cn),ee},pT=d=>d.dom.innerHTML,gT=d=>{const g=Qe.fromTag("div"),E=Qe.fromDom(d.dom.cloneNode(!0));return br(g,E),pT(g)},vT=(d,g)=>{d.selection.select(g.dom,!0),d.selection.collapse(!0)},nE=(d,g)=>{Jn(g,"td,th").each(H(vT,d))},V0=(d,g)=>{je(ye(g,"tr"),E=>{tb(d,E.dom),je(ye(E,"th,td"),x=>{nb(d,x.dom)})})},oE=d=>I(d)&&d.indexOf("%")!==-1,bT=(d,g,E,x,k)=>{const z=Z_(d),ee={styles:z,attributes:L1(d),colGroups:ib(d)};return d.undoManager.ignore(()=>{const pe=lb(E,g,k,x,q_(d),ee);Ur(pe,"data-mce-id","__mce");const Ce=gT(pe);d.insertContent(Ce),d.addVisual()}),Jn(Hc(d),'table[data-mce-id="__mce"]').map(pe=>(_u(d)?F0(pe):Zs(d)?J_(pe):(rb(d)||oE(z.width))&&Yh(pe),Sl(pe),Br(pe,"data-mce-id"),V0(d,pe),nE(d,pe),pe.dom)).getOrNull()},sE=(d,g,E,x={})=>{const k=z=>ue(z)&&z>0;if(k(g)&&k(E)){const z=x.headerRows||0,ee=x.headerColumns||0;return bT(d,E,g,ee,z)}else return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var F1=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const U0="x-tinymce/dom-table-",z0=U0+"rows",bg=U0+"columns",ub=d=>{const g=F1.FakeClipboardItem(d);F1.write([g])},H1=d=>{var g;const E=(g=F1.read())!==null&&g!==void 0?g:[];return vi(E,x=>_e.from(x.getType(d)))},W0=d=>{H1(d).isSome()&&F1.clear()},G0=d=>{d.fold(rp,g=>ub({[z0]:g}))},rE=()=>H1(z0),rp=()=>W0(z0),iE=d=>{d.fold(yT,g=>ub({[bg]:g}))},ip=()=>H1(bg),yT=()=>W0(bg),q0=d=>v1(Xp(d),jl(d)).filter(Vc),aE=d=>Bh(Xp(d),jl(d)).filter(Vc),Jl=(d,g)=>{const E=jl(d),x=()=>q0(d).each(Et=>{wi(Et,E).filter(Ee(E)).each(wn=>{const Qn=Qe.fromText("");if(xa(wn,Qn),Fr(wn),d.dom.isEmpty(d.getBody()))d.setContent(""),d.selection.setCursorLocation();else{const yo=d.dom.createRng();yo.setStart(Qn.dom,0),yo.setEnd(Qn.dom,0),d.selection.setRng(yo),d.nodeChanged()}})}),k=Et=>q0(d).each(wn=>{Zs(d)||_u(d)||rb(d)||wi(wn,E).each(yo=>{Et==="relative"&&!pf(yo)?Yh(yo):Et==="fixed"&&!B1(yo)?F0(yo):Et==="responsive"&&!B0(yo)&&J_(yo),Sl(yo),jh(d,yo.dom,pr)})}),z=Et=>wi(Et,E),ee=Et=>aE(d).bind(wn=>z(wn).map(Qn=>Et(Qn,wn))),pe=(Et,wn)=>{ee(Qn=>{d.formatter.toggle("tableclass",{value:wn},Qn.dom),jh(d,Qn.dom,ep)})},Ce=(Et,wn)=>{ee(Qn=>{const yo=Gf(d),hc=gs(yo,fi=>d.formatter.match("tablecellclass",{value:wn},fi.dom))?d.formatter.remove:d.formatter.apply;je(yo,fi=>hc("tablecellclass",{value:wn},fi.dom)),jh(d,Qn.dom,ep)})},Ne=()=>{q0(d).each(Et=>{wi(Et,E).each(wn=>{Nt(wn,"caption").fold(()=>{const Qn=Qe.fromTag("caption");br(Qn,Qe.fromText("Caption")),ld(wn,Qn,0),d.selection.setCursorLocation(Qn.dom,0)},Qn=>{Di("caption")(Et)&&wh("td",wn).each(yo=>d.selection.setCursorLocation(yo.dom,0)),Fr(Qn)}),jh(d,wn.dom,pr)})})},Xe=Et=>{d.focus()},$t=(Et,wn=!1)=>ee((Qn,yo)=>{const ir=Vm(Gf(d),Qn,yo);Et(Qn,ir,wn).each(Xe)}),cn=()=>ee((Et,wn)=>{const Qn=Vm(Gf(d),Et,wn),yo=kh(ce,Qe.fromDom(d.getDoc()),_e.none());return rT(Et,Qn,yo)}),tn=()=>ee((Et,wn)=>{const Qn=Vm(Gf(d),Et,wn);return sT(Et,Qn)}),Tt=(Et,wn)=>wn().each(Qn=>{const yo=Vt(Qn,ir=>Lc(ir));ee((ir,hc)=>{const fi=Ph(Qe.fromDom(d.getDoc())),Tu=Um(Gf(d),hc,yo,fi);Et(ir,Tu).each(Xe)})}),rn=Et=>(wn,Qn)=>rd(Qn,"type").each(yo=>{$t(Et(yo),Qn.no_events)});Ns({mceTableSplitCells:()=>$t(g.unmergeCells),mceTableMergeCells:()=>$t(g.mergeCells),mceTableInsertRowBefore:()=>$t(g.insertRowsBefore),mceTableInsertRowAfter:()=>$t(g.insertRowsAfter),mceTableInsertColBefore:()=>$t(g.insertColumnsBefore),mceTableInsertColAfter:()=>$t(g.insertColumnsAfter),mceTableDeleteCol:()=>$t(g.deleteColumn),mceTableDeleteRow:()=>$t(g.deleteRow),mceTableCutCol:()=>tn().each(Et=>{iE(Et),$t(g.deleteColumn)}),mceTableCutRow:()=>cn().each(Et=>{G0(Et),$t(g.deleteRow)}),mceTableCopyCol:()=>tn().each(Et=>iE(Et)),mceTableCopyRow:()=>cn().each(Et=>G0(Et)),mceTablePasteColBefore:()=>Tt(g.pasteColsBefore,ip),mceTablePasteColAfter:()=>Tt(g.pasteColsAfter,ip),mceTablePasteRowBefore:()=>Tt(g.pasteRowsBefore,rE),mceTablePasteRowAfter:()=>Tt(g.pasteRowsAfter,rE),mceTableDelete:x,mceTableCellToggleClass:Ce,mceTableToggleClass:pe,mceTableToggleCaption:Ne,mceTableSizingMode:(Et,wn)=>k(wn),mceTableCellType:rn(Et=>Et==="th"?g.makeCellsHeader:g.unmakeCellsHeader),mceTableColType:rn(Et=>Et==="th"?g.makeColumnsHeader:g.unmakeColumnsHeader),mceTableRowType:rn(Et=>{switch(Et){case"header":return g.makeRowsHeader;case"footer":return g.makeRowsFooter;default:return g.makeRowsBody}})},(Et,wn)=>d.addCommand(wn,Et)),d.addCommand("mceInsertTable",(Et,wn)=>{sE(d,wn.rows,wn.columns,wn.options)}),d.addCommand("mceTableApplyCellStyle",(Et,wn)=>{const Qn=hc=>"tablecell"+hc.toLowerCase().replace("-","");if(!B(wn))return;const yo=ao(Gf(d),Vc);if(yo.length===0)return;const ir=Ca(wn,(hc,fi)=>d.formatter.has(Qn(fi))&&I(hc));fl(ir)||(Ns(ir,(hc,fi)=>{const Tu=Qn(fi);je(yo,Og=>{hc===""?d.formatter.remove(Tu,{value:null},Og.dom,!0):d.formatter.apply(Tu,{value:hc},Og.dom)})}),z(yo[0]).each(hc=>jh(d,hc.dom,ep)))})},j0=(d,g)=>{const E=jl(d),x=k=>Bh(Xp(d)).bind(z=>wi(z,E).map(ee=>{const pe=Vm(Gf(d),ee,z);return k(ee,pe)})).getOr("");Ns({mceTableRowType:()=>x(g.getTableRowType),mceTableCellType:()=>x(g.getTableCellType),mceTableColType:()=>x(g.getTableColType)},(k,z)=>d.addQueryValueHandler(z,k))},db=Nr.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),V1=(d,g,E,x)=>d.fold(g,E,x),th=d=>d.fold(De,De,De),_T=db.before,U1=db.on,cE=db.after,Pa={before:_T,on:U1,after:cE,cata:V1,getStart:th},ap={create:(d,g)=>({selection:d,kill:g})},ET=(d,g)=>{const E=d.document.createRange();return E.selectNode(g.dom),E},z1=(d,g)=>{const E=d.document.createRange();return Z0(E,g),E},Z0=(d,g)=>d.selectNodeContents(g.dom),yg=(d,g)=>{g.fold(E=>{d.setStartBefore(E.dom)},(E,x)=>{d.setStart(E.dom,x)},E=>{d.setStartAfter(E.dom)})},cp=(d,g)=>{g.fold(E=>{d.setEndBefore(E.dom)},(E,x)=>{d.setEnd(E.dom,x)},E=>{d.setEndAfter(E.dom)})},W1=(d,g,E)=>{const x=d.document.createRange();return yg(x,g),cp(x,E),x},gf=(d,g,E,x,k)=>{const z=d.document.createRange();return z.setStart(g.dom,E),z.setEnd(x.dom,k),z},Y0=d=>({left:d.left,top:d.top,right:d.right,bottom:d.bottom,width:d.width,height:d.height}),Gi=d=>{const g=d.getClientRects(),E=g.length>0?g[0]:d.getBoundingClientRect();return E.width>0||E.height>0?_e.some(E).map(Y0):_e.none()},eu=Nr.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),fb=(d,g,E)=>g(Qe.fromDom(E.startContainer),E.startOffset,Qe.fromDom(E.endContainer),E.endOffset),uE=(d,g)=>g.match({domRange:E=>({ltr:K(E),rtl:_e.none}),relative:(E,x)=>({ltr:hd(()=>W1(d,E,x)),rtl:hd(()=>_e.some(W1(d,x,E)))}),exact:(E,x,k,z)=>({ltr:hd(()=>gf(d,E,x,k,z)),rtl:hd(()=>_e.some(gf(d,k,z,E,x)))})}),dE=(d,g)=>{const E=g.ltr();return E.collapsed?g.rtl().filter(k=>k.collapsed===!1).map(k=>eu.rtl(Qe.fromDom(k.endContainer),k.endOffset,Qe.fromDom(k.startContainer),k.startOffset)).getOrThunk(()=>fb(d,eu.ltr,E)):fb(d,eu.ltr,E)},K0=(d,g)=>{const E=uE(d,g);return dE(d,E)},lp=(d,g)=>K0(d,g).match({ltr:(x,k,z,ee)=>{const pe=d.document.createRange();return pe.setStart(x.dom,k),pe.setEnd(z.dom,ee),pe},rtl:(x,k,z,ee)=>{const pe=d.document.createRange();return pe.setStart(z.dom,ee),pe.setEnd(x.dom,k),pe}});eu.ltr,eu.rtl;const up={create:(d,g,E,x)=>({start:d,soffset:g,finish:E,foffset:x})},_g={create:(d,g,E,x)=>({start:Pa.on(d,g),finish:Pa.on(E,x)})},q1=(d,g)=>{const E=lp(d,g);return up.create(Qe.fromDom(E.startContainer),E.startOffset,Qe.fromDom(E.endContainer),E.endOffset)},dp=_g.create,X0=(d,g,E,x,k,z,ee)=>Fs(E,k)&&x===z?_e.none():Zn(E,"td,th",g).bind(pe=>Zn(k,"td,th",g).bind(Ce=>Eg(d,g,pe,Ce,ee))),Eg=(d,g,E,x,k)=>Fs(E,x)?_e.none():af(E,x,g).bind(z=>{const ee=z.boxes.getOr([]);return ee.length>1?(k(d,ee,z.start,z.finish),_e.some(ap.create(_e.some(dp(E,0,E,_d(E))),!0))):_e.none()}),_a=(d,g,E,x,k)=>{const z=ee=>(k.clearBeforeUpdate(E),k.selectRange(E,ee.boxes,ee.start,ee.finish),ee.boxes);return p1(x,d,g,k.firstSelectedSelector,k.lastSelectedSelector).map(z)},Q0=(d,g)=>({item:d,mode:g}),Id=(d,g,E,x=vf)=>d.property().parent(g).map(k=>Q0(k,x)),vf=(d,g,E,x=Kh)=>E.sibling(d,g).map(k=>Q0(k,x)),Kh=(d,g,E,x=Kh)=>{const k=d.property().children(g);return E.first(k).map(ee=>Q0(ee,x))},fp=[{current:Id,next:vf,fallback:_e.none()},{current:vf,next:Kh,fallback:_e.some(Id)},{current:Kh,next:Kh,fallback:_e.some(vf)}],p=(d,g,E,x,k=fp)=>oe(k,ee=>ee.current===E).bind(ee=>ee.current(d,g,x,ee.next).orThunk(()=>ee.fallback.bind(pe=>p(d,g,pe,x)))),q={left:()=>({sibling:(E,x)=>E.query().prevSibling(x),first:E=>E.length>0?_e.some(E[E.length-1]):_e.none()}),right:()=>({sibling:(E,x)=>E.query().nextSibling(x),first:E=>E.length>0?_e.some(E[0]):_e.none()})},he=(d,g,E,x,k,z)=>p(d,g,x,k).bind(pe=>z(pe.item)?_e.none():E(pe.item)?_e.some(pe.item):he(d,pe.item,E,pe.mode,k,z)),Oe=(d,g,E,x)=>he(d,g,E,vf,q.left(),x),Fe=(d,g,E,x)=>he(d,g,E,vf,q.right(),x),Ze=d=>g=>d.property().children(g).length===0,pt=(d,g,E)=>Jt(d,g,Ze(d),E),en=(d,g,E)=>pn(d,g,Ze(d),E),Jt=Oe,pn=Fe,$n=Wu(),fo=(d,g)=>pt($n,d,g),Lo=(d,g)=>en($n,d,g),No=(d,g,E)=>Jt($n,d,g,E),Ro=(d,g,E)=>pn($n,d,g,E),$s=(d,g,E)=>Pe(d,g,E).isSome(),fs=Nr.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),ui=(d,g,E)=>{const x=d.getRect(g),k=d.getRect(E);return k.right>x.left&&k.left<x.right},di=d=>Zn(d,"tr"),Nc={...fs,verify:(d,g,E,x,k,z,ee)=>Zn(x,"td,th",ee).bind(pe=>Zn(g,"td,th",ee).map(Ce=>Fs(pe,Ce)?Fs(x,pe)&&_d(pe)===k?z(Ce):fs.none("in same cell"):ss(di,[pe,Ce]).fold(()=>ui(d,Ce,pe)?fs.success():z(Ce),Ne=>z(Ce)))).getOr(fs.none("default")),cata:(d,g,E,x,k)=>d.fold(g,E,x,k)},Ws=(d,g,E,x)=>({parent:d,children:g,element:E,index:x}),bf=d=>lu(d).bind(g=>{const E=Cs(g);return J0(E,d).map(x=>Ws(g,E,d,x))}),J0=(d,g)=>cs(d,H(Fs,g)),j1=Di("br"),fE=(d,g,E)=>g(d,E).bind(x=>Ru(x)&&wl(x).trim().length===0?fE(x,g,E):_e.some(x)),hE=(d,g,E)=>E.traverse(g).orThunk(()=>fE(g,E.gather,d)).map(E.relative),wT=(d,g)=>si(d,g).filter(j1).orThunk(()=>si(d,g-1).filter(j1)),mE=(d,g,E,x)=>wT(g,E).bind(k=>x.traverse(k).fold(()=>fE(k,x.gather,d).map(x.relative),z=>bf(z).map(ee=>Pa.on(ee.parent,ee.index)))),_x=(d,g,E,x)=>(j1(g)?hE(d,g,x):mE(d,g,E,x)).map(z=>({start:z,finish:z})),cR=d=>Nc.cata(d,g=>_e.none(),()=>_e.none(),g=>_e.some(Hi(g,0)),g=>_e.some(Hi(g,_d(g)))),Xh=(d,g)=>({left:d.left,top:d.top+g,right:d.right,bottom:d.bottom+g}),ey=(d,g)=>({left:d.left,top:d.top-g,right:d.right,bottom:d.bottom-g}),TT=(d,g,E)=>({left:d.left+g,top:d.top+E,right:d.right+g,bottom:d.bottom+E}),Qh=d=>d.top,CT=d=>d.bottom,ty=(d,g,E)=>E>=0&&E<_d(g)?d.getRangedRect(g,E,g,E+1):E>0?d.getRangedRect(g,E-1,g,E):_e.none(),wg=d=>({left:d.left,top:d.top,right:d.right,bottom:d.bottom}),ST=(d,g)=>_e.some(d.getRect(g)),Ex=(d,g,E)=>Qa(g)?ST(d,g).map(wg):Ru(g)?ty(d,g,E).map(wg):_e.none(),xT=(d,g)=>Qa(g)?ST(d,g).map(wg):Ru(g)?d.getRangedRect(g,0,g,_d(g)).map(wg):_e.none(),Tg=5,lR=100,Jh=Nr.generate([{none:[]},{retry:["caret"]}]),Qu=(d,g)=>d.left<g.left||Math.abs(g.right-d.left)<1||d.left>g.right,wx=(d,g,E)=>rt(g,sa).fold(yt,x=>xT(d,x).exists(k=>Qu(E,k))),pE=(d,g,E,x,k)=>{const z=Xh(k,Tg);return Math.abs(E.bottom-x.bottom)<1||E.top>k.bottom?Jh.retry(z):E.top===k.bottom?Jh.retry(Xh(k,1)):wx(d,g,k)?Jh.retry(TT(z,Tg,0)):Jh.none()},AT={point:Qh,adjuster:(d,g,E,x,k)=>{const z=ey(k,Tg);return Math.abs(E.top-x.top)<1||E.bottom<k.top?Jh.retry(z):E.bottom===k.top?Jh.retry(ey(k,1)):wx(d,g,k)?Jh.retry(TT(z,Tg,0)):Jh.none()},move:ey,gather:fo},uR={point:CT,adjuster:pE,move:Xh,gather:Lo},Tx=(d,g,E)=>d.elementFromPoint(g,E).filter(x=>ks(x)==="table").isSome(),OT=(d,g,E,x,k)=>gE(d,g,E,g.move(x,Tg),k),gE=(d,g,E,x,k)=>k===0?_e.some(x):Tx(d,x.left,g.point(x))?OT(d,g,E,x,k-1):d.situsFromPoint(x.left,g.point(x)).bind(z=>z.start.fold(_e.none,ee=>xT(d,ee).bind(pe=>g.adjuster(d,ee,pe,E,x).fold(_e.none,Ce=>gE(d,g,E,Ce,k-1))).orThunk(()=>_e.some(x)),_e.none)),dR=(d,g,E)=>d.point(g)>E.getInnerHeight()?_e.some(d.point(g)-E.getInnerHeight()):d.point(g)<0?_e.some(-d.point(g)):_e.none(),fR=(d,g,E)=>{const x=d.move(E,Tg),k=gE(g,d,E,x,lR).getOr(x);return dR(d,k,g).fold(()=>g.situsFromPoint(k.left,d.point(k)),z=>(g.scrollBy(0,z),g.situsFromPoint(k.left,d.point(k)-z)))},vE={tryUp:H(fR,AT),tryDown:H(fR,uR),getJumpSize:K(Tg)},Cx=20,fk=(d,g,E)=>d.getSelection().bind(x=>_x(g,x.finish,x.foffset,E).fold(()=>_e.some(Hi(x.finish,x.foffset)),k=>{const z=d.fromSitus(k),ee=Nc.verify(d,x.finish,x.foffset,z.finish,z.foffset,E.failure,g);return cR(ee)})),hb=(d,g,E,x,k,z)=>z===0?_e.none():mb(d,g,E,x,k).bind(ee=>{const pe=d.fromSitus(ee),Ce=Nc.verify(d,E,x,pe.finish,pe.foffset,k.failure,g);return Nc.cata(Ce,()=>_e.none(),()=>_e.some(ee),Ne=>Fs(E,Ne)&&x===0?Uo(d,E,x,ey,k):hb(d,g,Ne,0,k,z-1),Ne=>Fs(E,Ne)&&x===_d(Ne)?Uo(d,E,x,Xh,k):hb(d,g,Ne,_d(Ne),k,z-1))}),Uo=(d,g,E,x,k)=>Ex(d,g,E).bind(z=>hp(d,k,x(z,vE.getJumpSize()))),hp=(d,g,E)=>{const x=Qs().browser;return x.isChromium()||x.isSafari()||x.isFirefox()?g.retry(d,E):_e.none()},mb=(d,g,E,x,k)=>Ex(d,E,x).bind(z=>hp(d,k,z)),RT=(d,g,E)=>fk(d,g,E).bind(x=>hb(d,g,x.element,x.offset,E,Cx).map(d.fromSitus)),hR=(d,g)=>$s(d,E=>lu(E).exists(x=>Fs(x,g))),oy=(d,g,E,x,k)=>Zn(x,"td,th",g).bind(z=>Zn(z,"table",g).bind(ee=>hR(k,ee)?RT(d,g,E).bind(pe=>Zn(pe.finish,"td,th",g).map(Ce=>({start:z,finish:Ce,range:pe}))):_e.none())),Z1=(d,g,E,x,k,z)=>z(x,g).orThunk(()=>oy(d,g,E,x,k).map(ee=>{const pe=ee.range;return ap.create(_e.some(dp(pe.start,pe.soffset,pe.finish,pe.foffset)),!0)})),Y1=(d,g)=>Zn(d,"tr",g).bind(E=>Zn(E,"table",g).bind(x=>{const k=ye(x,"tr");return Fs(E,k[0])?No(x,z=>Av(z).isSome(),g).map(z=>{const ee=_d(z);return ap.create(_e.some(dp(z,ee,z,ee)),!0)}):_e.none()})),IT=(d,g)=>Zn(d,"tr",g).bind(E=>Zn(E,"table",g).bind(x=>{const k=ye(x,"tr");return Fs(E,k[k.length-1])?Ro(x,z=>Ff(z).isSome(),g).map(z=>ap.create(_e.some(dp(z,0,z,0)),!0)):_e.none()})),DT=(d,g,E,x,k,z,ee)=>oy(d,E,x,k,z).bind(pe=>Eg(g,E,pe.start,pe.finish,ee)),NT=d=>{let g=d;return{get:()=>g,set:k=>{g=k}}},Sx=d=>{const g=NT(_e.none()),E=()=>g.get().each(d);return{clear:()=>{E(),g.set(_e.none())},isSet:()=>g.get().isSome(),get:()=>g.get(),set:pe=>{E(),g.set(_e.some(pe))}}},sy=()=>{const d=Sx(ce);return{...d,on:E=>d.get().each(E)}},bE=(d,g)=>Zn(d,"td,th",g),MT=d=>Ja(d).exists(na),kT=(d,g,E,x)=>{const k=sy(),z=k.clear,ee=Xe=>{k.on($t=>{x.clearBeforeUpdate(g),bE(Xe.target,E).each(cn=>{af($t,cn,E).each(tn=>{const Tt=tn.boxes.getOr([]);if(Tt.length===1){const rn=Tt[0],Et=Rv(rn)==="false",wn=Tn(Cl(Xe.target),rn,Fs);Et&&wn&&(x.selectRange(g,Tt,rn,rn),d.selectContents(rn))}else Tt.length>1&&(x.selectRange(g,Tt,tn.start,tn.finish),d.selectContents(cn))})})})};return{clearstate:z,mousedown:Xe=>{x.clear(g),bE(Xe.target,E).filter(MT).each(k.set)},mouseover:Xe=>{ee(Xe)},mouseup:Xe=>{ee(Xe),z()}}},yE={traverse:ad,gather:Lo,relative:Pa.before,retry:vE.tryDown,failure:Nc.failedDown},ry={traverse:$l,gather:fo,relative:Pa.before,retry:vE.tryUp,failure:Nc.failedUp},mp=d=>g=>g===d,xx=mp(38),em=mp(40),Cg=d=>d>=37&&d<=40,mR={isBackward:mp(37),isForward:mp(39)},Ax={isBackward:mp(39),isForward:mp(37)},PT=d=>{const g=d!==void 0?d.dom:document,E=g.body.scrollLeft||g.documentElement.scrollLeft,x=g.body.scrollTop||g.documentElement.scrollTop;return Fu(E,x)},pb=(d,g,E)=>{const k=(E!==void 0?E.dom:document).defaultView;k&&k.scrollBy(d,g)},gb=Nr.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),pR=d=>gb.exact(d.start,d.soffset,d.finish,d.foffset),gR=d=>d.match({domRange:g=>Qe.fromDom(g.startContainer),relative:(g,E)=>Pa.getStart(g),exact:(g,E,x,k)=>g}),Ox=gb.domRange,Sg=gb.relative,LT=gb.exact,$T=d=>{const g=gR(d);return _i(g)},_E=up.create,K1={domRange:Ox,relative:Sg,exact:LT,exactFromRange:pR,getWin:$T,range:_E},EE=(d,g,E)=>{var x,k;return _e.from((k=(x=d.dom).caretPositionFromPoint)===null||k===void 0?void 0:k.call(x,g,E)).bind(z=>{if(z.offsetNode===null)return _e.none();const ee=d.dom.createRange();return ee.setStart(z.offsetNode,z.offset),ee.collapse(),_e.some(ee)})},fn=(d,g,E)=>{var x,k;return _e.from((k=(x=d.dom).caretRangeFromPoint)===null||k===void 0?void 0:k.call(x,g,E))},ja=(()=>document.caretPositionFromPoint?EE:document.caretRangeFromPoint?fn:_e.none)(),wE=(d,g,E)=>{const x=Qe.fromDom(d.document);return ja(x,g,E).map(k=>up.create(Qe.fromDom(k.startContainer),k.startOffset,Qe.fromDom(k.endContainer),k.endOffset))},kr=(d,g)=>{const E=ks(d);return E==="input"?Pa.after(d):Rt(["br","img"],E)?g===0?Pa.before(d):Pa.after(d):Pa.on(d,g)},yf=(d,g)=>{const E=d.fold(Pa.before,kr,Pa.after),x=g.fold(Pa.before,kr,Pa.after);return K1.relative(E,x)},Rx=(d,g,E,x)=>{const k=kr(d,g),z=kr(E,x);return K1.relative(k,z)},tu=(d,g,E,x)=>{const z=Xi(d).dom.createRange();return z.setStart(d.dom,g),z.setEnd(E.dom,x),z},Ea=(d,g,E,x)=>{const k=tu(d,g,E,x),z=Fs(d,E)&&g===x;return k.collapsed&&!z},TE=d=>_e.from(d.getSelection()),CE=(d,g)=>{TE(d).each(E=>{E.removeAllRanges(),E.addRange(g)})},pp=(d,g,E,x,k)=>{const z=gf(d,g,E,x,k);CE(d,z)},Ix=(d,g,E,x,k,z)=>{g.collapse(E.dom,x),g.extend(k.dom,z)},BT=(d,g)=>K0(d,g).match({ltr:(E,x,k,z)=>{pp(d,E,x,k,z)},rtl:(E,x,k,z)=>{TE(d).each(ee=>{if(ee.setBaseAndExtent)ee.setBaseAndExtent(E.dom,x,k.dom,z);else if(ee.extend)try{Ix(d,ee,E,x,k,z)}catch{pp(d,k,z,E,x)}else pp(d,k,z,E,x)})}}),Dx=(d,g,E,x,k)=>{const z=Rx(g,E,x,k);BT(d,z)},FT=(d,g,E)=>{const x=yf(g,E);BT(d,x)},HT=d=>{if(d.rangeCount>0){const g=d.getRangeAt(0),E=d.getRangeAt(d.rangeCount-1);return _e.some(up.create(Qe.fromDom(g.startContainer),g.startOffset,Qe.fromDom(E.endContainer),E.endOffset))}else return _e.none()},VT=d=>{if(d.anchorNode===null||d.focusNode===null)return HT(d);{const g=Qe.fromDom(d.anchorNode),E=Qe.fromDom(d.focusNode);return Ea(g,d.anchorOffset,E,d.focusOffset)?_e.some(up.create(g,d.anchorOffset,E,d.focusOffset)):HT(d)}},iy=(d,g,E=!0)=>{const k=(E?z1:ET)(d,g);CE(d,k)},SE=d=>TE(d).filter(g=>g.rangeCount>0).bind(VT),ay=d=>SE(d).map(g=>K1.exact(g.start,g.soffset,g.finish,g.foffset)),cy=(d,g)=>{const E=lp(d,g);return Gi(E)},xE=(d,g,E)=>wE(d,g,E),Nx=d=>{TE(d).each(g=>g.removeAllRanges())},gp=d=>({elementFromPoint:(Et,wn)=>Qe.fromPoint(Qe.fromDom(d.document),Et,wn),getRect:Et=>Et.dom.getBoundingClientRect(),getRangedRect:(Et,wn,Qn,yo)=>{const ir=K1.exact(Et,wn,Qn,yo);return cy(d,ir)},getSelection:()=>ay(d).map(Et=>q1(d,Et)),fromSitus:Et=>{const wn=K1.relative(Et.start,Et.finish);return q1(d,wn)},situsFromPoint:(Et,wn)=>xE(d,Et,wn).map(Qn=>_g.create(Qn.start,Qn.soffset,Qn.finish,Qn.foffset)),clearSelection:()=>{Nx(d)},collapseSelection:(Et=!1)=>{ay(d).each(wn=>wn.fold(Qn=>Qn.collapse(Et),(Qn,yo)=>{const ir=Et?Qn:yo;FT(d,ir,ir)},(Qn,yo,ir,hc)=>{const fi=Et?Qn:ir,Tu=Et?yo:hc;Dx(d,fi,Tu,fi,Tu)}))},setSelection:Et=>{Dx(d,Et.start,Et.soffset,Et.finish,Et.foffset)},setRelativeSelection:(Et,wn)=>{FT(d,Et,wn)},selectNode:Et=>{iy(d,Et,!1)},selectContents:Et=>{iy(d,Et)},getInnerHeight:()=>d.innerHeight,getScrollY:()=>PT(Qe.fromDom(d.document)).top,scrollBy:(Et,wn)=>{pb(Et,wn,Qe.fromDom(d.document))}}),tm=(d,g)=>({rows:d,cols:g}),X1=(d,g,E,x)=>{const k=gp(d),z=kT(k,g,E,x);return{clearstate:z.clearstate,mousedown:z.mousedown,mouseover:z.mouseover,mouseup:z.mouseup}},vb=d=>rt(d,qn).exists(na),UT=(d,g)=>vb(d)||vb(g),vR=(d,g,E,x)=>{const k=gp(d),z=()=>(x.clear(g),_e.none());return{keydown:(Ce,Ne,Xe,$t,cn,tn)=>{const Tt=Ce.raw,rn=Tt.which,Et=Tt.shiftKey===!0;return tg(g,x.selectedSelector).fold(()=>(Cg(rn)&&!Et&&x.clearBeforeUpdate(g),Cg(rn)&&Et&&!UT(Ne,$t)?_e.none:em(rn)&&Et?H(DT,k,g,E,yE,$t,Ne,x.selectRange):xx(rn)&&Et?H(DT,k,g,E,ry,$t,Ne,x.selectRange):em(rn)?H(Z1,k,E,yE,$t,Ne,IT):xx(rn)?H(Z1,k,E,ry,$t,Ne,Y1):_e.none),Qn=>{const yo=ir=>()=>vi(ir,fi=>_a(fi.rows,fi.cols,g,Qn,x)).fold(()=>i0(g,x.firstSelectedSelector,x.lastSelectedSelector).map(fi=>{const Tu=em(rn)||tn.isForward(rn)?Pa.after:Pa.before;return k.setRelativeSelection(Pa.on(fi.first,0),Tu(fi.table)),x.clear(g),ap.create(_e.none(),!0)}),fi=>_e.some(ap.create(_e.none(),!0)));return Cg(rn)&&Et&&!UT(Ne,$t)?_e.none:em(rn)&&Et?yo([tm(1,0)]):xx(rn)&&Et?yo([tm(-1,0)]):tn.isBackward(rn)&&Et?yo([tm(0,-1),tm(-1,0)]):tn.isForward(rn)&&Et?yo([tm(0,1),tm(1,0)]):Cg(rn)&&!Et?z:_e.none})()},keyup:(Ce,Ne,Xe,$t,cn)=>tg(g,x.selectedSelector).fold(()=>{const tn=Ce.raw,Tt=tn.which;return tn.shiftKey===!0&&Cg(Tt)&&UT(Ne,$t)?X0(g,E,Ne,Xe,$t,cn,x.selectRange):_e.none()},_e.none)}},Mx=(d,g,E,x)=>{const k=gp(d);return(z,ee)=>{x.clearBeforeUpdate(g),af(z,ee,E).each(pe=>{const Ce=pe.boxes.getOr([]);x.selectRange(g,Ce,pe.start,pe.finish),k.selectContents(ee),k.collapseSelection()})}},AE=(d,g)=>{const E=vc(d,g);return E===void 0||E===""?[]:E.split(" ")},kx=(d,g,E)=>{const k=AE(d,g).concat([E]);return Ur(d,g,k.join(" ")),!0},OE=(d,g,E)=>{const x=ao(AE(d,g),k=>k!==E);return x.length>0?Ur(d,g,x.join(" ")):Br(d,g),!1},La=d=>d.dom.classList!==void 0,_f=d=>AE(d,"class"),Dd=(d,g)=>kx(d,"class",g),ly=(d,g)=>OE(d,"class",g),Eu=(d,g)=>{La(d)?d.dom.classList.add(g):Dd(d,g)},Px=d=>{(La(d)?d.dom.classList:_f(d)).length===0&&Br(d,"class")},zT=(d,g)=>{La(d)?d.dom.classList.remove(g):ly(d,g),Px(d)},WT=(d,g)=>La(d)&&d.dom.classList.contains(g),GT=(d,g)=>{je(g,E=>{zT(d,E)})},bR=d=>g=>{Eu(g,d)},qT=d=>g=>{GT(g,d)},jT={byClass:d=>{const g=bR(d.selected),E=qT([d.selected,d.lastSelected,d.firstSelected]),x=z=>{const ee=ye(z,d.selectedSelector);je(ee,E)};return{clearBeforeUpdate:x,clear:x,selectRange:(z,ee,pe,Ce)=>{x(z),je(ee,g),Eu(pe,d.firstSelected),Eu(Ce,d.lastSelected)},selectedSelector:d.selectedSelector,firstSelectedSelector:d.firstSelectedSelector,lastSelectedSelector:d.lastSelectedSelector}},byAttr:(d,g,E)=>{const x=Ce=>{Br(Ce,d.selected),Br(Ce,d.firstSelected),Br(Ce,d.lastSelected)},k=Ce=>{Ur(Ce,d.selected,"1")},z=Ce=>{ee(Ce),E()},ee=Ce=>{const Ne=ye(Ce,`${d.selectedSelector},${d.firstSelectedSelector},${d.lastSelectedSelector}`);je(Ne,x)};return{clearBeforeUpdate:ee,clear:z,selectRange:(Ce,Ne,Xe,$t)=>{z(Ce),je(Ne,k),Ur(Xe,d.firstSelected,"1"),Ur($t,d.lastSelected,"1"),g(Ne,Xe,$t)},selectedSelector:d.selectedSelector,firstSelectedSelector:d.firstSelectedSelector,lastSelectedSelector:d.lastSelectedSelector}}},ZT=(d,g,E,x)=>{switch(d.tag){case"none":return g();case"single":return x(d.element);case"multiple":return E(d.elements)}},rr=()=>({tag:"none"}),nm=d=>({tag:"multiple",elements:d}),YT=d=>({tag:"single",element:d}),KT=(d,g,E)=>({get:()=>Pv(d(),E).fold(()=>g().fold(rr,YT),nm)}),XT=(d,g)=>{const E=d.slice(0,g[g.length-1].row+1),x=Vi(E);return Bt(x,k=>{const z=k.cells.slice(0,g[g.length-1].column+1);return Vt(z,ee=>ee.element)})},QT=(d,g)=>{const E=d.slice(g[0].row+g[0].rowspan-1,d.length),x=Vi(E);return Bt(x,k=>{const z=k.cells.slice(g[0].column+g[0].colspan-1,k.cells.length);return Vt(z,ee=>ee.element)})},JT=(d,g,E)=>{const x=ge.fromTable(d);return Vh(x,g).map(z=>{const ee=lg(x,E,!1),{rows:pe}=ea(ee),Ce=XT(pe,z),Ne=QT(pe,z);return{upOrLeftCells:Ce,downOrRightCells:Ne}})},eC=(d,g,E,x,k,z,ee)=>({target:d,x:g,y:E,stop:x,prevent:k,kill:z,raw:ee}),tC=d=>{const g=Qe.fromDom(Do(d).getOr(d.target)),E=()=>d.stopPropagation(),x=()=>d.preventDefault(),k=re(x,E);return eC(g,d.clientX,d.clientY,E,x,k,d)},ER=(d,g)=>E=>{d(E)&&g(tC(E))},Lx=(d,g,E,x,k)=>{const z=ER(E,x);return d.dom.addEventListener(g,z,k),{unbind:H(nC,d,g,z,k)}},wR=(d,g,E,x)=>Lx(d,g,E,x,!1),nC=(d,g,E,x)=>{d.dom.removeEventListener(g,E,x)},TR=ke,xg=(d,g,E)=>wR(d,g,TR,E),Cn=tC,vp=d=>!WT(Qe.fromDom(d.target),"ephox-snooker-resizer-bar"),CR=(d,g)=>{const E=KT(()=>Qe.fromDom(d.getBody()),()=>Bh(Xp(d),jl(d)),xc.selectedSelector),x=(Ce,Ne,Xe)=>{wi(Ne).each(cn=>{const tn=P1(d),Tt=kh(ce,Qe.fromDom(d.getDoc()),tn),rn=Gf(d),Et=JT(cn,{selection:rn},Tt);U_(d,Ce,Ne,Xe,Et)})},k=()=>ob(d),z=jT.byAttr(xc,x,k);return d.on("init",Ce=>{const Ne=d.getWin(),Xe=Hc(d),$t=jl(d),cn=()=>{const Ys=d.selection,Rl=Qe.fromDom(Ys.getStart()),Il=Qe.fromDom(Ys.getEnd());ss(wi,[Rl,Il]).fold(()=>z.clear(Xe),ce)},tn=X1(Ne,Xe,$t,z),Tt=vR(Ne,Xe,$t,z),rn=Mx(Ne,Xe,$t,z),Et=Ys=>Ys.raw.shiftKey===!0;d.on("TableSelectorChange",Ys=>rn(Ys.start,Ys.finish));const wn=(Ys,Rl)=>{Et(Ys)&&(Rl.kill&&Ys.kill(),Rl.selection.each(Il=>{const wf=K1.relative(Il.start,Il.finish),Cu=lp(Ne,wf);d.selection.setRng(Cu)}))},Qn=Ys=>{const Rl=Cn(Ys);if(Rl.raw.shiftKey&&Cg(Rl.raw.which)){const Il=d.selection.getRng(),wf=Qe.fromDom(Il.startContainer),Cu=Qe.fromDom(Il.endContainer);Tt.keyup(Rl,wf,Il.startOffset,Cu,Il.endOffset).each(Rg=>{wn(Rl,Rg)})}},yo=Ys=>{const Rl=Cn(Ys);g.hide();const Il=d.selection.getRng(),wf=Qe.fromDom(Il.startContainer),Cu=Qe.fromDom(Il.endContainer),Rg=i1(mR,Ax)(Qe.fromDom(d.selection.getStart()));Tt.keydown(Rl,wf,Il.startOffset,Cu,Il.endOffset,Rg).each(Dl=>{wn(Rl,Dl)}),g.show()},ir=Ys=>Ys.button===0,hc=Ys=>Ys.buttons===void 0?!0:(Ys.buttons&1)!==0,fi=Ys=>{tn.clearstate()},Tu=Ys=>{ir(Ys)&&vp(Ys)&&tn.mousedown(Cn(Ys))},Og=Ys=>{hc(Ys)&&vp(Ys)&&tn.mouseover(Cn(Ys))},my=Ys=>{ir(Ys)&&vp(Ys)&&tn.mouseup(Cn(Ys))},$E=(()=>{const Ys=NT(Qe.fromDom(Xe)),Rl=NT(0);return{touchEnd:wf=>{const Cu=Qe.fromDom(wf.target);if(Di("td")(Cu)||Di("th")(Cu)){const Rg=Ys.get(),Dl=Rl.get();Fs(Rg,Cu)&&wf.timeStamp-Dl<300&&(wf.preventDefault(),rn(Cu,Cu))}Ys.set(Cu),Rl.set(wf.timeStamp)}}})();d.on("dragstart",fi),d.on("mousedown",Tu),d.on("mouseover",Og),d.on("mouseup",my),d.on("touchend",$E.touchEnd),d.on("keyup",Qn),d.on("keydown",yo),d.on("NodeChange",cn)}),d.on("PreInit",()=>{d.serializer.addTempAttr(xc.firstSelected),d.serializer.addTempAttr(xc.lastSelected)}),{getSelectedCells:()=>ZT(E.get(),K([]),Ce=>Vt(Ce,Ne=>Ne.dom),Ce=>[Ce.dom]),clearSelectedCells:Ce=>z.clear(Qe.fromDom(Ce))}},qi=d=>{let g=[];return{bind:z=>{if(z===void 0)throw new Error("Event bind error: undefined handler");g.push(z)},unbind:z=>{g=ao(g,ee=>ee!==z)},trigger:(...z)=>{const ee={};je(d,(pe,Ce)=>{ee[pe]=z[Ce]}),je(g,pe=>{pe(ee)})}}},Si=d=>{const g=Pc(d,x=>({bind:x.bind,unbind:x.unbind})),E=Pc(d,x=>x.trigger);return{registry:g,trigger:E}},Ag=(d,g)=>{let E=null;const x=()=>{j(E)||(clearTimeout(E),E=null)};return{cancel:x,throttle:(...z)=>{x(),E=setTimeout(()=>{E=null,d.apply(null,z)},g)}}},RE=d=>d.slice(0).sort(),$x=(d,g)=>{throw new Error("All required keys ("+RE(d).join(", ")+") were not specified. Specified keys were: "+RE(g).join(", ")+".")},SR=d=>{throw new Error("Unsupported keys for object: "+RE(d).join(", "))},Xo=(d,g)=>{if(!U(g))throw new Error("The "+d+" fields must be an array. Was: "+g+".");je(g,E=>{if(!I(E))throw new Error("The value "+E+" in the "+d+" fields was not a string.")})},Bx=(d,g)=>{throw new Error("All values need to be of type: "+g+". Keys ("+RE(d).join(", ")+") were not.")},IE=d=>{const g=RE(d);oe(g,(x,k)=>k<g.length-1&&x===g[k+1]).each(x=>{throw new Error("The field: "+x+" occurs more than once in the combined fields: ["+g.join(", ")+"].")})},Q1=(d,g)=>Fx(d,g,{validate:fe,label:"function"}),Fx=(d,g,E)=>{if(g.length===0)throw new Error("You must specify at least one required field.");return Xo("required",g),IE(g),x=>{const k=Lt(x);gs(g,pe=>Rt(k,pe))||$x(g,k),d(g,k);const ee=ao(g,pe=>!E.validate(x[pe],pe));return ee.length>0&&Bx(ee,E.label),x}},xR=(d,g)=>{const E=ao(g,x=>!Rt(d,x));E.length>0&&SR(E)},oC=d=>Q1(xR,d),AR=oC(["compare","extract","mutate","sink"]),hk=oC(["element","start","stop","destroy"]),Hx=oC(["forceDrop","drop","move","delayDrop"]),sC=()=>{let d=_e.none();const g=()=>{d=_e.none()},E=(z,ee)=>{const pe=d.map(Ce=>z.compare(Ce,ee));return d=_e.some(ee),pe},x=(z,ee)=>{ee.extract(z).each(Ce=>{E(ee,Ce).each(Xe=>{k.trigger.move(Xe)})})},k=Si({move:qi(["info"])});return{onEvent:x,reset:g,events:k.registry}},rC=()=>{const d=Si({move:qi(["info"])});return{onEvent:ce,reset:ce,events:d.registry}},Vx=()=>{const d=rC(),g=sC();let E=d;return{on:()=>{E.reset(),E=g},off:()=>{E.reset(),E=d},isOn:()=>E===g,onEvent:(pe,Ce)=>{E.onEvent(pe,Ce)},events:g.events}},mk=(d,g,E)=>{let x=!1;const k=Si({start:qi([]),stop:qi([])}),z=Vx(),ee=()=>{Tt.stop(),z.isOn()&&(z.off(),k.trigger.stop())},pe=Ag(ee,200),Ce=Et=>{Tt.start(Et),z.on(),k.trigger.start()},Ne=Et=>{pe.cancel(),z.onEvent(Et,g)};z.events.move.bind(Et=>{g.mutate(d,Et.info)});const Xe=()=>{x=!0},$t=()=>{x=!1},cn=()=>x,tn=Et=>(...wn)=>{x&&Et.apply(null,wn)},Tt=g.sink(Hx({forceDrop:ee,drop:tn(ee),move:tn(Ne),delayDrop:tn(pe.throttle)}),E),rn=()=>{Tt.destroy()};return{element:Tt.element,go:Ce,on:Xe,off:$t,isActive:cn,destroy:rn,events:k.registry}},DE=d=>{const g=d.replace(/\./g,"-");return{resolve:x=>g+"-"+x}},OR=DE("ephox-dragster").resolve,RR=d=>{const g={layerClass:OR("blocker"),...d},E=Qe.fromTag("div");return Ur(E,"role","presentation"),dr(E,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Eu(E,OR("blocker")),Eu(E,g.layerClass),{element:K(E),destroy:()=>{Fr(E)}}};var IR=AR({compare:(d,g)=>Fu(g.left-d.left,g.top-d.top),extract:d=>_e.some(Fu(d.x,d.y)),sink:(d,g)=>{const E=RR(g),x=xg(E.element(),"mousedown",d.forceDrop),k=xg(E.element(),"mouseup",d.drop),z=xg(E.element(),"mousemove",d.move),ee=xg(E.element(),"mouseout",d.delayDrop),pe=()=>{E.destroy(),k.unbind(),z.unbind(),ee.unbind(),x.unbind()},Ce=Xe=>{br(Xe,E.element())},Ne=()=>{Fr(E.element())};return hk({element:E.element,start:Ce,stop:Ne,destroy:pe})},mutate:(d,g)=>{d.mutate(g.left,g.top)}});const uy=(d,g={})=>{var E;const x=(E=g.mode)!==null&&E!==void 0?E:IR;return mk(d,x,g)},NE=DE("ephox-snooker").resolve,DR=()=>{const d=Si({drag:qi(["xDelta","yDelta"])});return{mutate:(E,x)=>{d.trigger.drag(E,x)},events:d.registry}},NR=()=>{const d=Si({drag:qi(["xDelta","yDelta","target"])});let g=_e.none();const E=DR();return E.events.drag.bind(z=>{g.each(ee=>{d.trigger.drag(z.xDelta,z.yDelta,ee)})}),{assign:z=>{g=_e.some(z)},get:()=>g,mutate:E.mutate,events:d.registry}},aC=(d,g,E,x,k)=>{const z=Qe.fromTag("div");return dr(z,{position:"absolute",left:g-x/2+"px",top:E+"px",height:k+"px",width:x+"px"}),Fa(z,{"data-column":d,role:"presentation"}),z},bb=(d,g,E,x,k)=>{const z=Qe.fromTag("div");return dr(z,{position:"absolute",left:g+"px",top:E-k/2+"px",height:k+"px",width:x+"px"}),Fa(z,{"data-row":d,role:"presentation"}),z},yb=NE("resizer-bar"),cC=NE("resizer-rows"),ME=NE("resizer-cols"),lC=7,uC=(d,g)=>Bt(d.all,(E,x)=>g(E.element)?[x]:[]),MR=(d,g)=>{const E=[];return qt(d.grid.columns,x=>{ge.getColumnAt(d,x).map(z=>z.element).forall(g)&&E.push(x)}),ao(E,x=>{const k=ge.filterItems(d,z=>z.column===x);return gs(k,z=>g(z.element))})},kE=d=>{const g=ye(d.parent(),"."+yb);je(g,Fr)},dC=(d,g,E)=>{const x=d.origin();je(g,k=>{k.each(z=>{const ee=E(x,z);Eu(ee,yb),br(d.parent(),ee)})})},fC=(d,g,E,x)=>{dC(d,g,(k,z)=>{const ee=aC(z.col,z.x-k.left,E.top-k.top,lC,x);return Eu(ee,ME),ee})},ms=(d,g,E,x)=>{dC(d,g,(k,z)=>{const ee=bb(z.row,E.left-k.left,z.y-k.top,x,lC);return Eu(ee,cC),ee})},Ux=(d,g,E,x,k)=>{const z=Lf(E),ee=g.isResizable,pe=x.length>0?bl.positions(x,E):[],Ce=pe.length>0?uC(d,ee):[],Ne=ao(pe,(tn,Tt)=>tt(Ce,rn=>Tt===rn));ms(g,Ne,z,Kd(E));const Xe=k.length>0?ol.positions(k,E):[],$t=Xe.length>0?MR(d,ee):[],cn=ao(Xe,(tn,Tt)=>tt($t,rn=>Tt===rn));fC(g,cn,z,wv(E))},om=(d,g)=>{if(kE(d),d.isResizable(g)){const E=ge.fromTable(g),x=vl(E),k=Xd(E);Ux(E,d,g,x,k)}},nh=(d,g)=>{const E=ye(d.parent(),"."+yb);je(E,g)},dy=d=>{nh(d,g=>{is(g,"display","none")})},wu=d=>{nh(d,g=>{is(g,"display","block")})},PE=d=>WT(d,cC),J1=d=>WT(d,ME),fy=NE("resizer-bar-dragging"),yp=d=>{const g=NR(),E=uy(g,{});let x=_e.none();const k=(Tt,rn)=>_e.from(vc(Tt,rn));g.events.drag.bind(Tt=>{k(Tt.target,"data-row").each(rn=>{const Et=fr(Tt.target,"top");is(Tt.target,"top",Et+Tt.yDelta+"px")}),k(Tt.target,"data-column").each(rn=>{const Et=fr(Tt.target,"left");is(Tt.target,"left",Et+Tt.xDelta+"px")})});const z=(Tt,rn)=>{const Et=fr(Tt,rn),wn=zr(Tt,"data-initial-"+rn,0);return Et-wn};E.events.stop.bind(()=>{g.get().each(Tt=>{x.each(rn=>{k(Tt,"data-row").each(Et=>{const wn=z(Tt,"top");Br(Tt,"data-initial-top"),tn.trigger.adjustHeight(rn,wn,parseInt(Et,10))}),k(Tt,"data-column").each(Et=>{const wn=z(Tt,"left");Br(Tt,"data-initial-left"),tn.trigger.adjustWidth(rn,wn,parseInt(Et,10))}),om(d,rn)})})});const ee=(Tt,rn)=>{tn.trigger.startAdjust(),g.assign(Tt),Ur(Tt,"data-initial-"+rn,fr(Tt,rn)),Eu(Tt,fy),is(Tt,"opacity","0.2"),E.go(d.parent())},pe=xg(d.parent(),"mousedown",Tt=>{PE(Tt.target)&&ee(Tt.target,"top"),J1(Tt.target)&&ee(Tt.target,"left")}),Ce=Tt=>Fs(Tt,d.view()),Ne=Tt=>Zn(Tt,"table",Ce).filter(na),Xe=xg(d.view(),"mouseover",Tt=>{Ne(Tt.target).fold(()=>{Kr(Tt.target)&&kE(d)},rn=>{E.isActive()&&(x=_e.some(rn),om(d,rn))})}),$t=()=>{pe.unbind(),Xe.unbind(),E.destroy(),kE(d)},cn=Tt=>{om(d,Tt)},tn=Si({adjustHeight:qi(["table","delta","row"]),adjustWidth:qi(["table","delta","column"]),startAdjust:qi([])});return{destroy:$t,refresh:cn,on:E.on,off:E.off,hideBars:H(dy,d),showBars:H(wu,d),events:tn.registry}},LE={create:(d,g,E)=>{const x=bl,k=ol,z=yp(d),ee=Si({beforeResize:qi(["table","type"]),afterResize:qi(["table","type"]),startDrag:qi([])});return z.events.adjustHeight.bind(pe=>{const Ce=pe.table;ee.trigger.beforeResize(Ce,"row");const Ne=x.delta(pe.delta,Ce);qv(Ce,Ne,pe.row,x),ee.trigger.afterResize(Ce,"row")}),z.events.startAdjust.bind(pe=>{ee.trigger.startDrag()}),z.events.adjustWidth.bind(pe=>{const Ce=pe.table;ee.trigger.beforeResize(Ce,"col");const Ne=k.delta(pe.delta,Ce),Xe=E(Ce);E0(Ce,Ne,pe.column,g,Xe),ee.trigger.afterResize(Ce,"col")}),{on:z.on,off:z.off,refreshBars:z.refresh,hideBars:z.hideBars,showBars:z.showBars,destroy:z.destroy,events:ee.registry}}},Ef={only:(d,g)=>{const E=Yc(d)?oi(d):d;return{parent:K(E),view:K(d),origin:K(Fu(0,0)),isResizable:g}},detached:(d,g,E)=>{const x=()=>Lf(g);return{parent:K(g),view:K(d),origin:x,isResizable:E}},body:(d,g,E)=>({parent:K(g),view:K(d),origin:K(Fu(0,0)),isResizable:E})},ev=()=>{const d=Qe.fromTag("div");return dr(d,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),br(la(),d),d},zx=(d,g)=>d.inline?Ef.body(Qe.fromDom(d.getBody()),ev(),g):Ef.only(Qe.fromDom(d.getDoc()),g),hy=(d,g)=>{d.inline&&Fr(g.parent())},as=d=>ie(d)&&d.nodeName==="TABLE",Wx="bar-",Gx=d=>vc(d,"data-mce-resize")!=="false",mC=d=>{const g=ge.fromTable(d);ge.hasColumns(g)||je(fu(d),E=>{const x=Oa(E,"width");is(E,"width",x),Br(E,"width")})},pC=d=>{const g=sy(),E=sy(),x=sy();let k,z;const ee=Tt=>$1(d,Tt),pe=()=>N0(d)?ig():rg(),Ce=Tt=>Wm(Tt).columns,Ne=(Tt,rn,Et)=>{const wn=Ao(rn,"e");if(z===""&&Yh(Tt),Et!==k&&z!==""){is(Tt,"width",z);const Qn=pe(),yo=ee(Tt),ir=N0(d)||wn?Ce(Tt)-1:0;E0(Tt,Et-k,ir,Qn,yo)}else if(mr(z)){const Qn=parseFloat(z.replace("%","")),yo=Et*Qn/k;is(Tt,"width",yo+"%")}Dv(z)&&mC(Tt)},Xe=()=>{E.on(Tt=>{Tt.destroy()}),x.on(Tt=>{hy(d,Tt)})};return d.on("init",()=>{const Tt=zx(d,Gx);if(x.set(Tt),G_(d)&&vg(d)){const rn=pe(),Et=LE.create(Tt,rn,ee);Et.on(),Et.events.startDrag.bind(wn=>{g.set(d.selection.getRng())}),Et.events.beforeResize.bind(wn=>{const Qn=wn.table.dom;eh(d,Qn,Lh(Qn),Iv(Qn),Wx+wn.type)}),Et.events.afterResize.bind(wn=>{const Qn=wn.table,yo=Qn.dom;Sl(Qn),g.on(ir=>{d.selection.setRng(ir),d.focus()}),_s(d,yo,Lh(yo),Iv(yo),Wx+wn.type),d.undoManager.add()}),E.set(Et)}}),d.on("ObjectResizeStart",Tt=>{const rn=Tt.target;if(as(rn)){const Et=Qe.fromDom(rn);je(d.dom.select(".mce-clonedresizable"),wn=>{d.dom.addClass(wn,"mce-"+D0(d)+"-columns")}),!B1(Et)&&_u(d)?F0(Et):!pf(Et)&&rb(d)&&Yh(Et),B0(Et)&&ki(Tt.origin,Wx)&&Yh(Et),k=Tt.width,z=Zs(d)?"":s0(d,rn).getOr("")}}),d.on("ObjectResized",Tt=>{const rn=Tt.target;if(as(rn)){const Et=Qe.fromDom(rn),wn=Tt.origin;ki(wn,"corner-")&&Ne(Et,wn,Tt.width),Sl(Et),jh(d,Et.dom,ep)}}),d.on("SwitchMode",()=>{E.on(Tt=>{d.mode.isReadOnly()?Tt.hideBars():Tt.showBars()})}),d.on("dragstart dragend",Tt=>{E.on(rn=>{Tt.type==="dragstart"?(rn.hideBars(),rn.off()):(rn.on(),rn.showBars())})}),d.on("remove",()=>{Xe()}),{refresh:Tt=>{E.on(rn=>rn.refreshBars(Qe.fromDom(Tt)))},hide:()=>{E.on(Tt=>Tt.hideBars())},show:()=>{E.on(Tt=>Tt.showBars())}}},Eb=d=>{nT(d);const g=pC(d),E=CR(d,g),x=M0(d,g,E);return Jl(d,x),j0(d,x),og(d,x),{getSelectedCells:E.getSelectedCells,clearSelectedCells:E.clearSelectedCells}},tv=d=>({table:Eb(d)});var qx=()=>{a.add("dom",tv)};qx()})();/*!
 * FilePond 4.30.4
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const zoe=a=>a instanceof HTMLElement,Woe=(a,c=[],f=[])=>{const y={...a},S=[],D=[],I=()=>({...y}),B=()=>{const fe=[...S];return S.length=0,fe},U=()=>{const fe=[...D];D.length=0,fe.forEach(({type:ue,data:ce})=>{j(ue,ce)})},j=(fe,ue,ce)=>{if(ce&&!document.hidden){D.push({type:fe,data:ue});return}ie[fe]&&ie[fe](ue),S.push({type:fe,data:ue})},Y=(fe,...ue)=>ve[fe]?ve[fe](...ue):null,ne={getState:I,processActionQueue:B,processDispatchQueue:U,dispatch:j,query:Y};let ve={};c.forEach(fe=>{ve={...fe(y),...ve}});let ie={};return f.forEach(fe=>{ie={...fe(j,Y,y),...ie}}),ne},Goe=(a,c,f)=>{if(typeof f=="function"){a[c]=f;return}Object.defineProperty(a,c,{...f})},dl=(a,c)=>{for(const f in a)a.hasOwnProperty(f)&&c(f,a[f])},Nw=a=>{const c={};return dl(a,f=>{Goe(c,f,a[f])}),c},ru=(a,c,f=null)=>{if(f===null)return a.getAttribute(c)||a.hasAttribute(c);a.setAttribute(c,f)},qoe="http://www.w3.org/2000/svg",joe=["svg","path"],$X=a=>joe.includes(a),yH=(a,c,f={})=>{typeof c=="object"&&(f=c,c=null);const y=$X(a)?document.createElementNS(qoe,a):document.createElement(a);return c&&($X(a)?ru(y,"class",c):y.className=c),dl(f,(S,D)=>{ru(y,S,D)}),y},Zoe=a=>(c,f)=>{typeof f<"u"&&a.children[f]?a.insertBefore(c,a.children[f]):a.appendChild(c)},Yoe=(a,c)=>(f,y)=>(typeof y<"u"?c.splice(y,0,f):c.push(f),f),Koe=(a,c)=>f=>(c.splice(c.indexOf(f),1),f.element.parentNode&&a.removeChild(f.element),f),Xoe=(()=>typeof window<"u"&&typeof window.document<"u")(),KJ=()=>Xoe,Qoe=KJ()?yH("svg"):{},Joe="children"in Qoe?a=>a.children.length:a=>a.childNodes.length,XJ=(a,c,f,y)=>{const S=f[0]||a.left,D=f[1]||a.top,I=S+a.width,B=D+a.height*(y[1]||1),U={element:{...a},inner:{left:a.left,top:a.top,right:a.right,bottom:a.bottom},outer:{left:S,top:D,right:I,bottom:B}};return c.filter(j=>!j.isRectIgnored()).map(j=>j.rect).forEach(j=>{BX(U.inner,{...j.inner}),BX(U.outer,{...j.outer})}),FX(U.inner),U.outer.bottom+=U.element.marginBottom,U.outer.right+=U.element.marginRight,FX(U.outer),U},BX=(a,c)=>{c.top+=a.top,c.right+=a.left,c.bottom+=a.top,c.left+=a.left,c.bottom>a.bottom&&(a.bottom=c.bottom),c.right>a.right&&(a.right=c.right)},FX=a=>{a.width=a.right-a.left,a.height=a.bottom-a.top},ex=a=>typeof a=="number",ese=(a,c,f,y=.001)=>Math.abs(a-c)<y&&Math.abs(f)<y,tse=({stiffness:a=.5,damping:c=.75,mass:f=10}={})=>{let y=null,S=null,D=0,I=!1;const j=Nw({interpolate:(Y,ne)=>{if(I)return;if(!(ex(y)&&ex(S))){I=!0,D=0;return}const ve=-(S-y)*a;D+=ve/f,S+=D,D*=c,ese(S,y,D)||ne?(S=y,D=0,I=!0,j.onupdate(S),j.oncomplete(S)):j.onupdate(S)},target:{set:Y=>{if(ex(Y)&&!ex(S)&&(S=Y),y===null&&(y=Y,S=Y),y=Y,S===y||typeof y>"u"){I=!0,D=0,j.onupdate(S),j.oncomplete(S);return}I=!1},get:()=>y},resting:{get:()=>I},onupdate:Y=>{},oncomplete:Y=>{}});return j},nse=a=>a<.5?2*a*a:-1+(4-2*a)*a,ose=({duration:a=500,easing:c=nse,delay:f=0}={})=>{let y=null,S,D,I=!0,B=!1,U=null;const Y=Nw({interpolate:(ne,ve)=>{I||U===null||(y===null&&(y=ne),!(ne-y<f)&&(S=ne-y-f,S>=a||ve?(S=1,D=B?0:1,Y.onupdate(D*U),Y.oncomplete(D*U),I=!0):(D=S/a,Y.onupdate((S>=0?c(B?1-D:D):0)*U))))},target:{get:()=>B?0:U,set:ne=>{if(U===null){U=ne,Y.onupdate(ne),Y.oncomplete(ne);return}ne<U?(U=1,B=!0):(B=!1,U=ne),I=!1,y=null}},resting:{get:()=>I},onupdate:ne=>{},oncomplete:ne=>{}});return Y},HX={spring:tse,tween:ose},sse=(a,c,f)=>{const y=a[c]&&typeof a[c][f]=="object"?a[c][f]:a[c]||a,S=typeof y=="string"?y:y.type,D=typeof y=="object"?{...y}:{};return HX[S]?HX[S](D):null},mY=(a,c,f,y=!1)=>{c=Array.isArray(c)?c:[c],c.forEach(S=>{a.forEach(D=>{let I=D,B=()=>f[D],U=j=>f[D]=j;typeof D=="object"&&(I=D.key,B=D.getter||B,U=D.setter||U),!(S[I]&&!y)&&(S[I]={get:B,set:U})})})},rse=({mixinConfig:a,viewProps:c,viewInternalAPI:f,viewExternalAPI:y})=>{const S={...c},D=[];return dl(a,(I,B)=>{const U=sse(B);if(!U)return;U.onupdate=Y=>{c[I]=Y},U.target=S[I],mY([{key:I,setter:Y=>{U.target!==Y&&(U.target=Y)},getter:()=>c[I]}],[f,y],c,!0),D.push(U)}),{write:I=>{let B=document.hidden,U=!0;return D.forEach(j=>{j.resting||(U=!1),j.interpolate(I,B)}),U},destroy:()=>{}}},ise=a=>(c,f)=>{a.addEventListener(c,f)},ase=a=>(c,f)=>{a.removeEventListener(c,f)},cse=({mixinConfig:a,viewProps:c,viewInternalAPI:f,viewExternalAPI:y,viewState:S,view:D})=>{const I=[],B=ise(D.element),U=ase(D.element);return y.on=(j,Y)=>{I.push({type:j,fn:Y}),B(j,Y)},y.off=(j,Y)=>{I.splice(I.findIndex(ne=>ne.type===j&&ne.fn===Y),1),U(j,Y)},{write:()=>!0,destroy:()=>{I.forEach(j=>{U(j.type,j.fn)})}}},lse=({mixinConfig:a,viewProps:c,viewExternalAPI:f})=>{mY(a,f,c)},mh=a=>a!=null,use={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},dse=({mixinConfig:a,viewProps:c,viewInternalAPI:f,viewExternalAPI:y,view:S})=>{const D={...c},I={};mY(a,[f,y],c);const B=()=>[c.translateX||0,c.translateY||0],U=()=>[c.scaleX||0,c.scaleY||0],j=()=>S.rect?XJ(S.rect,S.childViews,B(),U()):null;return f.rect={get:j},y.rect={get:j},a.forEach(Y=>{c[Y]=typeof D[Y]>"u"?use[Y]:D[Y]}),{write:()=>{if(fse(I,c))return hse(S.element,c),Object.assign(I,{...c}),!0},destroy:()=>{}}},fse=(a,c)=>{if(Object.keys(a).length!==Object.keys(c).length)return!0;for(const f in c)if(c[f]!==a[f])return!0;return!1},hse=(a,{opacity:c,perspective:f,translateX:y,translateY:S,scaleX:D,scaleY:I,rotateX:B,rotateY:U,rotateZ:j,originX:Y,originY:ne,width:ve,height:ie})=>{let fe="",ue="";(mh(Y)||mh(ne))&&(ue+=`transform-origin: ${Y||0}px ${ne||0}px;`),mh(f)&&(fe+=`perspective(${f}px) `),(mh(y)||mh(S))&&(fe+=`translate3d(${y||0}px, ${S||0}px, 0) `),(mh(D)||mh(I))&&(fe+=`scale3d(${mh(D)?D:1}, ${mh(I)?I:1}, 1) `),mh(j)&&(fe+=`rotateZ(${j}rad) `),mh(B)&&(fe+=`rotateX(${B}rad) `),mh(U)&&(fe+=`rotateY(${U}rad) `),fe.length&&(ue+=`transform:${fe};`),mh(c)&&(ue+=`opacity:${c};`,c===0&&(ue+="visibility:hidden;"),c<1&&(ue+="pointer-events:none;")),mh(ie)&&(ue+=`height:${ie}px;`),mh(ve)&&(ue+=`width:${ve}px;`);const ce=a.elementCurrentStyle||"";(ue.length!==ce.length||ue!==ce)&&(a.style.cssText=ue,a.elementCurrentStyle=ue)},mse={styles:dse,listeners:cse,animations:rse,apis:lse},VX=(a={},c={},f={})=>(c.layoutCalculated||(a.paddingTop=parseInt(f.paddingTop,10)||0,a.marginTop=parseInt(f.marginTop,10)||0,a.marginRight=parseInt(f.marginRight,10)||0,a.marginBottom=parseInt(f.marginBottom,10)||0,a.marginLeft=parseInt(f.marginLeft,10)||0,c.layoutCalculated=!0),a.left=c.offsetLeft||0,a.top=c.offsetTop||0,a.width=c.offsetWidth||0,a.height=c.offsetHeight||0,a.right=a.left+a.width,a.bottom=a.top+a.height,a.scrollTop=c.scrollTop,a.hidden=c.offsetParent===null,a),iu=({tag:a="div",name:c=null,attributes:f={},read:y=()=>{},write:S=()=>{},create:D=()=>{},destroy:I=()=>{},filterFrameActionsForChild:B=(ie,fe)=>fe,didCreateView:U=()=>{},didWriteView:j=()=>{},ignoreRect:Y=!1,ignoreRectUpdate:ne=!1,mixins:ve=[]}={})=>(ie,fe={})=>{const ue=yH(a,`filepond--${c}`,f),ce=window.getComputedStyle(ue,null),re=VX();let me=null,K=!1;const De=[],Ge=[],H={},Ee={},qe=[S],ut=[y],yt=[I],ke=()=>ue,_e=()=>De.concat(),mn=()=>H,wt=et=>(It,oe)=>It(et,oe),Ot=()=>me||(me=XJ(re,De,[0,0],[1,1]),me),P=()=>ce,Rt=()=>{me=null,De.forEach(oe=>oe._read()),!(ne&&re.width&&re.height)&&VX(re,ue,ce);const It={root:ao,props:fe,rect:re};ut.forEach(oe=>oe(It))},tt=(et,It,oe)=>{let cs=It.length===0;return qe.forEach(uo=>{uo({props:fe,root:ao,actions:It,timestamp:et,shouldOptimize:oe})===!1&&(cs=!1)}),Ge.forEach(uo=>{uo.write(et)===!1&&(cs=!1)}),De.filter(uo=>!!uo.element.parentNode).forEach(uo=>{uo._write(et,B(uo,It),oe)||(cs=!1)}),De.forEach((uo,Bt)=>{uo.element.parentNode||(ao.appendChild(uo.element,Bt),uo._read(),uo._write(et,B(uo,It),oe),cs=!1)}),K=cs,j({props:fe,root:ao,actions:It,timestamp:et}),cs},qt=()=>{Ge.forEach(et=>et.destroy()),yt.forEach(et=>{et({root:ao,props:fe})}),De.forEach(et=>et._destroy())},Vt={element:{get:ke},style:{get:P},childViews:{get:_e}},je={...Vt,rect:{get:Ot},ref:{get:mn},is:et=>c===et,appendChild:Zoe(ue),createChildView:wt(ie),linkView:et=>(De.push(et),et),unlinkView:et=>{De.splice(De.indexOf(et),1)},appendChildView:Yoe(ue,De),removeChildView:Koe(ue,De),registerWriter:et=>qe.push(et),registerReader:et=>ut.push(et),registerDestroyer:et=>yt.push(et),invalidateLayout:()=>ue.layoutCalculated=!1,dispatch:ie.dispatch,query:ie.query},vo={element:{get:ke},childViews:{get:_e},rect:{get:Ot},resting:{get:()=>K},isRectIgnored:()=>Y,_read:Rt,_write:tt,_destroy:qt},Bo={...Vt,rect:{get:()=>re}};Object.keys(ve).sort((et,It)=>et==="styles"?1:It==="styles"?-1:0).forEach(et=>{const It=mse[et]({mixinConfig:ve[et],viewProps:fe,viewState:Ee,viewInternalAPI:je,viewExternalAPI:vo,view:Nw(Bo)});It&&Ge.push(It)});const ao=Nw(je);D({root:ao,props:fe});const Fo=Joe(ue);return De.forEach((et,It)=>{ao.appendChild(et.element,Fo+It)}),U(ao),Nw(vo)},pse=(a,c,f=60)=>{const y="__framePainter";if(window[y]){window[y].readers.push(a),window[y].writers.push(c);return}window[y]={readers:[a],writers:[c]};const S=window[y],D=1e3/f;let I=null,B=null,U=null,j=null;const Y=()=>{document.hidden?(U=()=>window.setTimeout(()=>ne(performance.now()),D),j=()=>window.clearTimeout(B)):(U=()=>window.requestAnimationFrame(ne),j=()=>window.cancelAnimationFrame(B))};document.addEventListener("visibilitychange",()=>{j&&j(),Y(),ne(performance.now())});const ne=ve=>{B=U(ne),I||(I=ve);const ie=ve-I;ie<=D||(I=ve-ie%D,S.readers.forEach(fe=>fe()),S.writers.forEach(fe=>fe(ve)))};return Y(),ne(performance.now()),{pause:()=>{j(B)}}},bh=(a,c)=>({root:f,props:y,actions:S=[],timestamp:D,shouldOptimize:I})=>{S.filter(B=>a[B.type]).forEach(B=>a[B.type]({root:f,props:y,action:B.data,timestamp:D,shouldOptimize:I})),c&&c({root:f,props:y,actions:S,timestamp:D,shouldOptimize:I})},UX=(a,c)=>c.parentNode.insertBefore(a,c),zX=(a,c)=>c.parentNode.insertBefore(a,c.nextSibling),FH=a=>Array.isArray(a),c_=a=>a==null,gse=a=>a.trim(),HH=a=>""+a,vse=(a,c=",")=>c_(a)?[]:FH(a)?a:HH(a).split(c).map(gse).filter(f=>f.length),QJ=a=>typeof a=="boolean",JJ=a=>QJ(a)?a:a==="true",vh=a=>typeof a=="string",eee=a=>ex(a)?a:vh(a)?HH(a).replace(/[a-z]+/gi,""):0,sH=a=>parseInt(eee(a),10),WX=a=>parseFloat(eee(a)),eR=a=>ex(a)&&isFinite(a)&&Math.floor(a)===a,GX=(a,c=1e3)=>{if(eR(a))return a;let f=HH(a).trim();return/MB$/i.test(f)?(f=f.replace(/MB$i/,"").trim(),sH(f)*c*c):/KB/i.test(f)?(f=f.replace(/KB$i/,"").trim(),sH(f)*c):sH(f)},tx=a=>typeof a=="function",bse=a=>{let c=self,f=a.split("."),y=null;for(;y=f.shift();)if(c=c[y],!c)return null;return c},qX={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},yse=a=>{const c={};return c.url=vh(a)?a:a.url||"",c.timeout=a.timeout?parseInt(a.timeout,10):0,c.headers=a.headers?a.headers:{},dl(qX,f=>{c[f]=_se(f,a[f],qX[f],c.timeout,c.headers)}),c.process=a.process||vh(a)||a.url?c.process:null,c.remove=a.remove||null,delete c.headers,c},_se=(a,c,f,y,S)=>{if(c===null)return null;if(typeof c=="function")return c;const D={url:f==="GET"||f==="PATCH"?`?${a}=`:"",method:f,headers:S,withCredentials:!1,timeout:y,onload:null,ondata:null,onerror:null};if(vh(c))return D.url=c,D;if(Object.assign(D,c),vh(D.headers)){const I=D.headers.split(/:(.+)/);D.headers={header:I[0],value:I[1]}}return D.withCredentials=JJ(D.withCredentials),D},Ese=a=>yse(a),wse=a=>a===null,sd=a=>typeof a=="object"&&a!==null,Tse=a=>sd(a)&&vh(a.url)&&sd(a.process)&&sd(a.revert)&&sd(a.restore)&&sd(a.fetch),RZ=a=>FH(a)?"array":wse(a)?"null":eR(a)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(a)?"bytes":Tse(a)?"api":typeof a,Cse=a=>a.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",'),Sse={array:vse,boolean:JJ,int:a=>RZ(a)==="bytes"?GX(a):sH(a),number:WX,float:WX,bytes:GX,string:a=>tx(a)?a:HH(a),function:a=>bse(a),serverapi:Ese,object:a=>{try{return JSON.parse(Cse(a))}catch{return null}}},xse=(a,c)=>Sse[c](a),tee=(a,c,f)=>{if(a===c)return a;let y=RZ(a);if(y!==f){const S=xse(a,f);if(y=RZ(S),S===null)throw`Trying to assign value with incorrect type to "${option}", allowed type: "${f}"`;a=S}return a},Ase=(a,c)=>{let f=a;return{enumerable:!0,get:()=>f,set:y=>{f=tee(y,a,c)}}},Ose=a=>{const c={};return dl(a,f=>{const y=a[f];c[f]=Ase(y[0],y[1])}),Nw(c)},Rse=a=>({items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:Ose(a)}),VH=(a,c="-")=>a.split(/(?=[A-Z])/).map(f=>f.toLowerCase()).join(c),Ise=(a,c)=>{const f={};return dl(c,y=>{f[y]={get:()=>a.getState().options[y],set:S=>{a.dispatch(`SET_${VH(y,"_").toUpperCase()}`,{value:S})}}}),f},Dse=a=>(c,f,y)=>{const S={};return dl(a,D=>{const I=VH(D,"_").toUpperCase();S[`SET_${I}`]=B=>{try{y.options[D]=B.value}catch{}c(`DID_SET_${I}`,{value:y.options[D]})}}),S},Nse=a=>c=>{const f={};return dl(a,y=>{f[`GET_${VH(y,"_").toUpperCase()}`]=S=>c.options[y]}),f},Qg={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},pY=()=>Math.random().toString(36).substring(2,11),gY=(a,c)=>a.splice(c,1),Mse=(a,c)=>{c?a():document.hidden?Promise.resolve(1).then(a):setTimeout(a,0)},UH=()=>{const a=[],c=(y,S)=>{gY(a,a.findIndex(D=>D.event===y&&(D.cb===S||!S)))},f=(y,S,D)=>{a.filter(I=>I.event===y).map(I=>I.cb).forEach(I=>Mse(()=>I(...S),D))};return{fireSync:(y,...S)=>{f(y,S,!0)},fire:(y,...S)=>{f(y,S,!1)},on:(y,S)=>{a.push({event:y,cb:S})},onOnce:(y,S)=>{a.push({event:y,cb:(...D)=>{c(y,S),S(...D)}})},off:c}},nee=(a,c,f)=>{Object.getOwnPropertyNames(a).filter(y=>!f.includes(y)).forEach(y=>Object.defineProperty(c,y,Object.getOwnPropertyDescriptor(a,y)))},kse=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],_m=a=>{const c={};return nee(a,c,kse),c},Pse=a=>{a.forEach((c,f)=>{c.released&&gY(a,f)})},Bs={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},Au={INPUT:1,LIMBO:2,LOCAL:3},oee=a=>/[^0-9]+/.exec(a),see=()=>oee(1.1.toLocaleString())[0],Lse=()=>{const a=see(),c=1e3.toLocaleString(),f=1e3.toString();return c!==f?oee(c)[0]:a==="."?",":"."},vn={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},vY=[],vv=(a,c,f)=>new Promise((y,S)=>{const D=vY.filter(B=>B.key===a).map(B=>B.cb);if(D.length===0){y(c);return}const I=D.shift();D.reduce((B,U)=>B.then(j=>U(j,f)),I(c,f)).then(B=>y(B)).catch(B=>S(B))}),dx=(a,c,f)=>vY.filter(y=>y.key===a).map(y=>y.cb(c,f)),$se=(a,c)=>vY.push({key:a,cb:c}),Bse=a=>Object.assign(kO,a),_H=()=>({...kO}),Fse=a=>{dl(a,(c,f)=>{kO[c]&&(kO[c][0]=tee(f,kO[c][0],kO[c][1]))})},kO={id:[null,vn.STRING],name:["filepond",vn.STRING],disabled:[!1,vn.BOOLEAN],className:[null,vn.STRING],required:[!1,vn.BOOLEAN],captureMethod:[null,vn.STRING],allowSyncAcceptAttribute:[!0,vn.BOOLEAN],allowDrop:[!0,vn.BOOLEAN],allowBrowse:[!0,vn.BOOLEAN],allowPaste:[!0,vn.BOOLEAN],allowMultiple:[!1,vn.BOOLEAN],allowReplace:[!0,vn.BOOLEAN],allowRevert:[!0,vn.BOOLEAN],allowRemove:[!0,vn.BOOLEAN],allowProcess:[!0,vn.BOOLEAN],allowReorder:[!1,vn.BOOLEAN],allowDirectoriesOnly:[!1,vn.BOOLEAN],storeAsFile:[!1,vn.BOOLEAN],forceRevert:[!1,vn.BOOLEAN],maxFiles:[null,vn.INT],checkValidity:[!1,vn.BOOLEAN],itemInsertLocationFreedom:[!0,vn.BOOLEAN],itemInsertLocation:["before",vn.STRING],itemInsertInterval:[75,vn.INT],dropOnPage:[!1,vn.BOOLEAN],dropOnElement:[!0,vn.BOOLEAN],dropValidation:[!1,vn.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],vn.ARRAY],instantUpload:[!0,vn.BOOLEAN],maxParallelUploads:[2,vn.INT],allowMinimumUploadDuration:[!0,vn.BOOLEAN],chunkUploads:[!1,vn.BOOLEAN],chunkForce:[!1,vn.BOOLEAN],chunkSize:[5e6,vn.INT],chunkRetryDelays:[[500,1e3,3e3],vn.ARRAY],server:[null,vn.SERVER_API],fileSizeBase:[1e3,vn.INT],labelFileSizeBytes:["bytes",vn.STRING],labelFileSizeKilobytes:["KB",vn.STRING],labelFileSizeMegabytes:["MB",vn.STRING],labelFileSizeGigabytes:["GB",vn.STRING],labelDecimalSeparator:[see(),vn.STRING],labelThousandsSeparator:[Lse(),vn.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',vn.STRING],labelInvalidField:["Field contains invalid files",vn.STRING],labelFileWaitingForSize:["Waiting for size",vn.STRING],labelFileSizeNotAvailable:["Size not available",vn.STRING],labelFileCountSingular:["file in list",vn.STRING],labelFileCountPlural:["files in list",vn.STRING],labelFileLoading:["Loading",vn.STRING],labelFileAdded:["Added",vn.STRING],labelFileLoadError:["Error during load",vn.STRING],labelFileRemoved:["Removed",vn.STRING],labelFileRemoveError:["Error during remove",vn.STRING],labelFileProcessing:["Uploading",vn.STRING],labelFileProcessingComplete:["Upload complete",vn.STRING],labelFileProcessingAborted:["Upload cancelled",vn.STRING],labelFileProcessingError:["Error during upload",vn.STRING],labelFileProcessingRevertError:["Error during revert",vn.STRING],labelTapToCancel:["tap to cancel",vn.STRING],labelTapToRetry:["tap to retry",vn.STRING],labelTapToUndo:["tap to undo",vn.STRING],labelButtonRemoveItem:["Remove",vn.STRING],labelButtonAbortItemLoad:["Abort",vn.STRING],labelButtonRetryItemLoad:["Retry",vn.STRING],labelButtonAbortItemProcessing:["Cancel",vn.STRING],labelButtonUndoItemProcessing:["Undo",vn.STRING],labelButtonRetryItemProcessing:["Retry",vn.STRING],labelButtonProcessItem:["Upload",vn.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',vn.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',vn.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',vn.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',vn.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',vn.STRING],oninit:[null,vn.FUNCTION],onwarning:[null,vn.FUNCTION],onerror:[null,vn.FUNCTION],onactivatefile:[null,vn.FUNCTION],oninitfile:[null,vn.FUNCTION],onaddfilestart:[null,vn.FUNCTION],onaddfileprogress:[null,vn.FUNCTION],onaddfile:[null,vn.FUNCTION],onprocessfilestart:[null,vn.FUNCTION],onprocessfileprogress:[null,vn.FUNCTION],onprocessfileabort:[null,vn.FUNCTION],onprocessfilerevert:[null,vn.FUNCTION],onprocessfile:[null,vn.FUNCTION],onprocessfiles:[null,vn.FUNCTION],onremovefile:[null,vn.FUNCTION],onpreparefile:[null,vn.FUNCTION],onupdatefiles:[null,vn.FUNCTION],onreorderfiles:[null,vn.FUNCTION],beforeDropFile:[null,vn.FUNCTION],beforeAddFile:[null,vn.FUNCTION],beforeRemoveFile:[null,vn.FUNCTION],beforePrepareFile:[null,vn.FUNCTION],stylePanelLayout:[null,vn.STRING],stylePanelAspectRatio:[null,vn.STRING],styleItemPanelAspectRatio:[null,vn.STRING],styleButtonRemoveItemPosition:["left",vn.STRING],styleButtonProcessItemPosition:["right",vn.STRING],styleLoadIndicatorPosition:["right",vn.STRING],styleProgressIndicatorPosition:["right",vn.STRING],styleButtonRemoveItemAlign:[!1,vn.BOOLEAN],files:[[],vn.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],vn.ARRAY]},nx=(a,c)=>c_(c)?a[0]||null:eR(c)?a[c]||null:(typeof c=="object"&&(c=c.id),a.find(f=>f.id===c)||null),ree=a=>{if(c_(a))return a;if(/:/.test(a)){const c=a.split(":");return c[1]/c[0]}return parseFloat(a)},bv=a=>a.filter(c=>!c.archived),iee={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4};let U5=null;const Hse=()=>{if(U5===null)try{const a=new DataTransfer;a.items.add(new File(["hello world"],"This_Works.txt"));const c=document.createElement("input");c.setAttribute("type","file"),c.files=a.files,U5=c.files.length===1}catch{U5=!1}return U5},Vse=[Bs.LOAD_ERROR,Bs.PROCESSING_ERROR,Bs.PROCESSING_REVERT_ERROR],Use=[Bs.LOADING,Bs.PROCESSING,Bs.PROCESSING_QUEUED,Bs.INIT],zse=[Bs.PROCESSING_COMPLETE],Wse=a=>Vse.includes(a.status),Gse=a=>Use.includes(a.status),qse=a=>zse.includes(a.status),jX=a=>sd(a.options.server)&&(sd(a.options.server.process)||tx(a.options.server.process)),jse=a=>({GET_STATUS:()=>{const c=bv(a.items),{EMPTY:f,ERROR:y,BUSY:S,IDLE:D,READY:I}=iee;return c.length===0?f:c.some(Wse)?y:c.some(Gse)?S:c.some(qse)?I:D},GET_ITEM:c=>nx(a.items,c),GET_ACTIVE_ITEM:c=>nx(bv(a.items),c),GET_ACTIVE_ITEMS:()=>bv(a.items),GET_ITEMS:()=>a.items,GET_ITEM_NAME:c=>{const f=nx(a.items,c);return f?f.filename:null},GET_ITEM_SIZE:c=>{const f=nx(a.items,c);return f?f.fileSize:null},GET_STYLES:()=>Object.keys(a.options).filter(c=>/^style/.test(c)).map(c=>({name:c,value:a.options[c]})),GET_PANEL_ASPECT_RATIO:()=>/circle/.test(a.options.stylePanelLayout)?1:ree(a.options.stylePanelAspectRatio),GET_ITEM_PANEL_ASPECT_RATIO:()=>a.options.styleItemPanelAspectRatio,GET_ITEMS_BY_STATUS:c=>bv(a.items).filter(f=>f.status===c),GET_TOTAL_ITEMS:()=>bv(a.items).length,SHOULD_UPDATE_FILE_INPUT:()=>a.options.storeAsFile&&Hse()&&!jX(a),IS_ASYNC:()=>jX(a),GET_FILE_SIZE_LABELS:c=>({labelBytes:c("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:c("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:c("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:c("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0})}),Zse=a=>{const c=bv(a.items).length;if(!a.options.allowMultiple)return c===0;const f=a.options.maxFiles;return f===null||c<f},aee=(a,c,f)=>Math.max(Math.min(f,a),c),Yse=(a,c,f)=>a.splice(c,0,f),Kse=(a,c,f)=>c_(c)?null:typeof f>"u"?(a.push(c),c):(f=aee(f,0,a.length),Yse(a,f,c),c),IZ=a=>/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(a),rk=a=>a.split("/").pop().split("?").shift(),zH=a=>a.split(".").pop(),Xse=a=>{if(typeof a!="string")return"";const c=a.split("/").pop();return/svg/.test(c)?"svg":/zip|compressed/.test(c)?"zip":/plain/.test(c)?"txt":/msword/.test(c)?"doc":/[a-z]+/.test(c)?c==="jpeg"?"jpg":c:""},zM=(a,c="")=>(c+a).slice(-c.length),cee=(a=new Date)=>`${a.getFullYear()}-${zM(a.getMonth()+1,"00")}-${zM(a.getDate(),"00")}_${zM(a.getHours(),"00")}-${zM(a.getMinutes(),"00")}-${zM(a.getSeconds(),"00")}`,ZO=(a,c,f=null,y=null)=>{const S=typeof f=="string"?a.slice(0,a.size,f):a.slice(0,a.size,a.type);return S.lastModifiedDate=new Date,a._relativePath&&(S._relativePath=a._relativePath),vh(c)||(c=cee()),c&&y===null&&zH(c)?S.name=c:(y=y||Xse(S.type),S.name=c+(y?"."+y:"")),S},Qse=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,lee=(a,c)=>{const f=Qse();if(f){const y=new f;return y.append(a),y.getBlob(c)}return new Blob([a],{type:c})},Jse=(a,c)=>{const f=new ArrayBuffer(a.length),y=new Uint8Array(f);for(let S=0;S<a.length;S++)y[S]=a.charCodeAt(S);return lee(f,c)},uee=a=>(/^data:(.+);/.exec(a)||[])[1]||null,ere=a=>a.split(",")[1].replace(/\s/g,""),tre=a=>atob(ere(a)),nre=a=>{const c=uee(a),f=tre(a);return Jse(f,c)},ore=(a,c,f)=>ZO(nre(a),c,null,f),sre=a=>{if(!/^content-disposition:/i.test(a))return null;const c=a.split(/filename=|filename\*=.+''/).splice(1).map(f=>f.trim().replace(/^["']|[;"']{0,2}$/g,"")).filter(f=>f.length);return c.length?decodeURI(c[c.length-1]):null},rre=a=>{if(/content-length:/i.test(a)){const c=a.match(/[0-9]+/)[0];return c?parseInt(c,10):null}return null},ire=a=>/x-content-transfer-id:/i.test(a)&&(a.split(":")[1]||"").trim()||null,bY=a=>{const c={source:null,name:null,size:null},f=a.split(`
`);for(let y of f){const S=sre(y);if(S){c.name=S;continue}const D=rre(y);if(D){c.size=D;continue}const I=ire(y);if(I){c.source=I;continue}}return c},are=a=>{const c={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},f=()=>c.progress,y=()=>{c.request&&c.request.abort&&c.request.abort()},S=()=>{const B=c.source;I.fire("init",B),B instanceof File?I.fire("load",B):B instanceof Blob?I.fire("load",ZO(B,B.name)):IZ(B)?I.fire("load",ore(B)):D(B)},D=B=>{if(!a){I.fire("error",{type:"error",body:"Can't load URL",code:400});return}c.timestamp=Date.now(),c.request=a(B,U=>{c.duration=Date.now()-c.timestamp,c.complete=!0,U instanceof Blob&&(U=ZO(U,U.name||rk(B))),I.fire("load",U instanceof Blob?U:U?U.body:null)},U=>{I.fire("error",typeof U=="string"?{type:"error",code:0,body:U}:U)},(U,j,Y)=>{if(Y&&(c.size=Y),c.duration=Date.now()-c.timestamp,!U){c.progress=null;return}c.progress=j/Y,I.fire("progress",c.progress)},()=>{I.fire("abort")},U=>{const j=bY(typeof U=="string"?U:U.headers);I.fire("meta",{size:c.size||j.size,filename:j.name,source:j.source})})},I={...UH(),setSource:B=>c.source=B,getProgress:f,abort:y,load:S};return I},ZX=a=>/GET|HEAD/.test(a),ix=(a,c,f)=>{const y={onheaders:()=>{},onprogress:()=>{},onload:()=>{},ontimeout:()=>{},onerror:()=>{},onabort:()=>{},abort:()=>{S=!0,I.abort()}};let S=!1,D=!1;f={method:"POST",headers:{},withCredentials:!1,...f},c=encodeURI(c),ZX(f.method)&&a&&(c=`${c}${encodeURIComponent(typeof a=="string"?a:JSON.stringify(a))}`);const I=new XMLHttpRequest,B=ZX(f.method)?I:I.upload;return B.onprogress=U=>{S||y.onprogress(U.lengthComputable,U.loaded,U.total)},I.onreadystatechange=()=>{I.readyState<2||I.readyState===4&&I.status===0||D||(D=!0,y.onheaders(I))},I.onload=()=>{I.status>=200&&I.status<300?y.onload(I):y.onerror(I)},I.onerror=()=>y.onerror(I),I.onabort=()=>{S=!0,y.onabort()},I.ontimeout=()=>y.ontimeout(I),I.open(f.method,c,!0),eR(f.timeout)&&(I.timeout=f.timeout),Object.keys(f.headers).forEach(U=>{const j=unescape(encodeURIComponent(f.headers[U]));I.setRequestHeader(U,j)}),f.responseType&&(I.responseType=f.responseType),f.withCredentials&&(I.withCredentials=!0),I.send(a),y},kl=(a,c,f,y)=>({type:a,code:c,body:f,headers:y}),ax=a=>c=>{a(kl("error",0,"Timeout",c.getAllResponseHeaders()))},YX=a=>/\?/.test(a),XM=(...a)=>{let c="";return a.forEach(f=>{c+=YX(c)&&YX(f)?f.replace(/\?/,"&"):f}),c},Kj=(a="",c)=>{if(typeof c=="function")return c;if(!c||!vh(c.url))return null;const f=c.onload||(S=>S),y=c.onerror||(S=>null);return(S,D,I,B,U,j)=>{const Y=ix(S,XM(a,c.url),{...c,responseType:"blob"});return Y.onload=ne=>{const ve=ne.getAllResponseHeaders(),ie=bY(ve).name||rk(S);D(kl("load",ne.status,c.method==="HEAD"?null:ZO(f(ne.response),ie),ve))},Y.onerror=ne=>{I(kl("error",ne.status,y(ne.response)||ne.statusText,ne.getAllResponseHeaders()))},Y.onheaders=ne=>{j(kl("headers",ne.status,null,ne.getAllResponseHeaders()))},Y.ontimeout=ax(I),Y.onprogress=B,Y.onabort=U,Y}},Zg={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},cre=(a,c,f,y,S,D,I,B,U,j,Y)=>{const ne=[],{chunkTransferId:ve,chunkServer:ie,chunkSize:fe,chunkRetryDelays:ue}=Y,ce={serverId:ve,aborted:!1},re=c.ondata||(wt=>wt),me=c.onload||((wt,Ot)=>Ot==="HEAD"?wt.getResponseHeader("Upload-Offset"):wt.response),K=c.onerror||(wt=>null),De=wt=>{const Ot=new FormData;sd(S)&&Ot.append(f,JSON.stringify(S));const P=typeof c.headers=="function"?c.headers(y,S):{...c.headers,"Upload-Length":y.size},Rt={...c,headers:P},tt=ix(re(Ot),XM(a,c.url),Rt);tt.onload=qt=>wt(me(qt,Rt.method)),tt.onerror=qt=>I(kl("error",qt.status,K(qt.response)||qt.statusText,qt.getAllResponseHeaders())),tt.ontimeout=ax(I)},Ge=wt=>{const Ot=XM(a,ie.url,ce.serverId),Rt={headers:typeof c.headers=="function"?c.headers(ce.serverId):{...c.headers},method:"HEAD"},tt=ix(null,Ot,Rt);tt.onload=qt=>wt(me(qt,Rt.method)),tt.onerror=qt=>I(kl("error",qt.status,K(qt.response)||qt.statusText,qt.getAllResponseHeaders())),tt.ontimeout=ax(I)},H=Math.floor(y.size/fe);for(let wt=0;wt<=H;wt++){const Ot=wt*fe,P=y.slice(Ot,Ot+fe,"application/offset+octet-stream");ne[wt]={index:wt,size:P.size,offset:Ot,data:P,file:y,progress:0,retries:[...ue],status:Zg.QUEUED,error:null,request:null,timeout:null}}const Ee=()=>D(ce.serverId),qe=wt=>wt.status===Zg.QUEUED||wt.status===Zg.ERROR,ut=wt=>{if(ce.aborted)return;if(wt=wt||ne.find(qe),!wt){ne.every(Vt=>Vt.status===Zg.COMPLETE)&&Ee();return}wt.status=Zg.PROCESSING,wt.progress=null;const Ot=ie.ondata||(Vt=>Vt),P=ie.onerror||(Vt=>null),Rt=XM(a,ie.url,ce.serverId),tt=typeof ie.headers=="function"?ie.headers(wt):{...ie.headers,"Content-Type":"application/offset+octet-stream","Upload-Offset":wt.offset,"Upload-Length":y.size,"Upload-Name":y.name},qt=wt.request=ix(Ot(wt.data),Rt,{...ie,headers:tt});qt.onload=()=>{wt.status=Zg.COMPLETE,wt.request=null,_e()},qt.onprogress=(Vt,je,vo)=>{wt.progress=Vt?je:null,ke()},qt.onerror=Vt=>{wt.status=Zg.ERROR,wt.request=null,wt.error=P(Vt.response)||Vt.statusText,yt(wt)||I(kl("error",Vt.status,P(Vt.response)||Vt.statusText,Vt.getAllResponseHeaders()))},qt.ontimeout=Vt=>{wt.status=Zg.ERROR,wt.request=null,yt(wt)||ax(I)(Vt)},qt.onabort=()=>{wt.status=Zg.QUEUED,wt.request=null,U()}},yt=wt=>wt.retries.length===0?!1:(wt.status=Zg.WAITING,clearTimeout(wt.timeout),wt.timeout=setTimeout(()=>{ut(wt)},wt.retries.shift()),!0),ke=()=>{const wt=ne.reduce((P,Rt)=>P===null||Rt.progress===null?null:P+Rt.progress,0);if(wt===null)return B(!1,0,0);const Ot=ne.reduce((P,Rt)=>P+Rt.size,0);B(!0,wt,Ot)},_e=()=>{ne.filter(Ot=>Ot.status===Zg.PROCESSING).length>=1||ut()},mn=()=>{ne.forEach(wt=>{clearTimeout(wt.timeout),wt.request&&wt.request.abort()})};return ce.serverId?Ge(wt=>{ce.aborted||(ne.filter(Ot=>Ot.offset<wt).forEach(Ot=>{Ot.status=Zg.COMPLETE,Ot.progress=Ot.size}),_e())}):De(wt=>{ce.aborted||(j(wt),ce.serverId=wt,_e())}),{abort:()=>{ce.aborted=!0,mn()}}},lre=(a,c,f,y)=>(S,D,I,B,U,j,Y)=>{if(!S)return;const ne=y.chunkUploads,ve=ne&&S.size>y.chunkSize,ie=ne&&(ve||y.chunkForce);if(S instanceof Blob&&ie)return cre(a,c,f,S,D,I,B,U,j,Y,y);const fe=c.ondata||(Ge=>Ge),ue=c.onload||(Ge=>Ge),ce=c.onerror||(Ge=>null),re=typeof c.headers=="function"?c.headers(S,D)||{}:{...c.headers},me={...c,headers:re};var K=new FormData;sd(D)&&K.append(f,JSON.stringify(D)),(S instanceof Blob?[{name:null,file:S}]:S).forEach(Ge=>{K.append(f,Ge.file,Ge.name===null?Ge.file.name:`${Ge.name}${Ge.file.name}`)});const De=ix(fe(K),XM(a,c.url),me);return De.onload=Ge=>{I(kl("load",Ge.status,ue(Ge.response),Ge.getAllResponseHeaders()))},De.onerror=Ge=>{B(kl("error",Ge.status,ce(Ge.response)||Ge.statusText,Ge.getAllResponseHeaders()))},De.ontimeout=ax(B),De.onprogress=U,De.onabort=j,De},ure=(a="",c,f,y)=>typeof c=="function"?(...S)=>c(f,...S,y):!c||!vh(c.url)?null:lre(a,c,f,y),WM=(a="",c)=>{if(typeof c=="function")return c;if(!c||!vh(c.url))return(S,D)=>D();const f=c.onload||(S=>S),y=c.onerror||(S=>null);return(S,D,I)=>{const B=ix(S,a+c.url,c);return B.onload=U=>{D(kl("load",U.status,f(U.response),U.getAllResponseHeaders()))},B.onerror=U=>{I(kl("error",U.status,y(U.response)||U.statusText,U.getAllResponseHeaders()))},B.ontimeout=ax(I),B}},dee=(a=0,c=1)=>a+Math.random()*(c-a),dre=(a,c=1e3,f=0,y=25,S=250)=>{let D=null;const I=Date.now(),B=()=>{let U=Date.now()-I,j=dee(y,S);U+j>c&&(j=U+j-c);let Y=U/c;if(Y>=1||document.hidden){a(1);return}a(Y),D=setTimeout(B,j)};return c>0&&B(),{clear:()=>{clearTimeout(D)}}},fre=(a,c)=>{const f={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},{allowMinimumUploadDuration:y}=c,S=(Y,ne)=>{const ve=()=>{f.duration===0||f.progress===null||j.fire("progress",j.getProgress())},ie=()=>{f.complete=!0,j.fire("load-perceived",f.response.body)};j.fire("start"),f.timestamp=Date.now(),f.perceivedPerformanceUpdater=dre(fe=>{f.perceivedProgress=fe,f.perceivedDuration=Date.now()-f.timestamp,ve(),f.response&&f.perceivedProgress===1&&!f.complete&&ie()},y?dee(750,1500):0),f.request=a(Y,ne,fe=>{f.response=sd(fe)?fe:{type:"load",code:200,body:`${fe}`,headers:{}},f.duration=Date.now()-f.timestamp,f.progress=1,j.fire("load",f.response.body),(!y||y&&f.perceivedProgress===1)&&ie()},fe=>{f.perceivedPerformanceUpdater.clear(),j.fire("error",sd(fe)?fe:{type:"error",code:0,body:`${fe}`})},(fe,ue,ce)=>{f.duration=Date.now()-f.timestamp,f.progress=fe?ue/ce:null,ve()},()=>{f.perceivedPerformanceUpdater.clear(),j.fire("abort",f.response?f.response.body:null)},fe=>{j.fire("transfer",fe)})},D=()=>{f.request&&(f.perceivedPerformanceUpdater.clear(),f.request.abort&&f.request.abort(),f.complete=!0)},I=()=>{D(),f.complete=!1,f.perceivedProgress=0,f.progress=0,f.timestamp=null,f.perceivedDuration=0,f.duration=0,f.request=null,f.response=null},B=y?()=>f.progress?Math.min(f.progress,f.perceivedProgress):null:()=>f.progress||null,U=y?()=>Math.min(f.duration,f.perceivedDuration):()=>f.duration,j={...UH(),process:S,abort:D,getProgress:B,getDuration:U,reset:I};return j},fee=a=>a.substring(0,a.lastIndexOf("."))||a,hre=a=>{let c=[a.name,a.size,a.type];return a instanceof Blob||IZ(a)?c[0]=a.name||cee():IZ(a)?(c[1]=a.length,c[2]=uee(a)):vh(a)&&(c[0]=rk(a),c[1]=0,c[2]="application/octet-stream"),{name:c[0],size:c[1],type:c[2]}},YO=a=>!!(a instanceof File||a instanceof Blob&&a.name),hee=a=>{if(!sd(a))return a;const c=FH(a)?[]:{};for(const f in a){if(!a.hasOwnProperty(f))continue;const y=a[f];c[f]=y&&sd(y)?hee(y):y}return c},mre=(a=null,c=null,f=null)=>{const y=pY(),S={archived:!1,frozen:!1,released:!1,source:null,file:f,serverFileReference:c,transferId:null,processingAborted:!1,status:c?Bs.PROCESSING_COMPLETE:Bs.INIT,activeLoader:null,activeProcessor:null};let D=null;const I={},B=qe=>S.status=qe,U=(qe,...ut)=>{S.released||S.frozen||H.fire(qe,...ut)},j=()=>zH(S.file.name),Y=()=>S.file.type,ne=()=>S.file.size,ve=()=>S.file,ie=(qe,ut,yt)=>{if(S.source=qe,H.fireSync("init"),S.file){H.fireSync("load-skip");return}S.file=hre(qe),ut.on("init",()=>{U("load-init")}),ut.on("meta",ke=>{S.file.size=ke.size,S.file.filename=ke.filename,ke.source&&(a=Au.LIMBO,S.serverFileReference=ke.source,S.status=Bs.PROCESSING_COMPLETE),U("load-meta")}),ut.on("progress",ke=>{B(Bs.LOADING),U("load-progress",ke)}),ut.on("error",ke=>{B(Bs.LOAD_ERROR),U("load-request-error",ke)}),ut.on("abort",()=>{B(Bs.INIT),U("load-abort")}),ut.on("load",ke=>{S.activeLoader=null;const _e=wt=>{S.file=YO(wt)?wt:S.file,a===Au.LIMBO&&S.serverFileReference?B(Bs.PROCESSING_COMPLETE):B(Bs.IDLE),U("load")},mn=wt=>{S.file=ke,U("load-meta"),B(Bs.LOAD_ERROR),U("load-file-error",wt)};if(S.serverFileReference){_e(ke);return}yt(ke,_e,mn)}),ut.setSource(qe),S.activeLoader=ut,ut.load()},fe=()=>{S.activeLoader&&S.activeLoader.load()},ue=()=>{if(S.activeLoader){S.activeLoader.abort();return}B(Bs.INIT),U("load-abort")},ce=(qe,ut)=>{if(S.processingAborted){S.processingAborted=!1;return}if(B(Bs.PROCESSING),D=null,!(S.file instanceof Blob)){H.on("load",()=>{ce(qe,ut)});return}qe.on("load",_e=>{S.transferId=null,S.serverFileReference=_e}),qe.on("transfer",_e=>{S.transferId=_e}),qe.on("load-perceived",_e=>{S.activeProcessor=null,S.transferId=null,S.serverFileReference=_e,B(Bs.PROCESSING_COMPLETE),U("process-complete",_e)}),qe.on("start",()=>{U("process-start")}),qe.on("error",_e=>{S.activeProcessor=null,B(Bs.PROCESSING_ERROR),U("process-error",_e)}),qe.on("abort",_e=>{S.activeProcessor=null,S.serverFileReference=_e,B(Bs.IDLE),U("process-abort"),D&&D()}),qe.on("progress",_e=>{U("process-progress",_e)});const yt=_e=>{S.archived||qe.process(_e,{...I})},ke=console.error;ut(S.file,yt,ke),S.activeProcessor=qe},re=()=>{S.processingAborted=!1,B(Bs.PROCESSING_QUEUED)},me=()=>new Promise(qe=>{if(!S.activeProcessor){S.processingAborted=!0,B(Bs.IDLE),U("process-abort"),qe();return}D=()=>{qe()},S.activeProcessor.abort()}),K=(qe,ut)=>new Promise((yt,ke)=>{const _e=S.serverFileReference!==null?S.serverFileReference:S.transferId;if(_e===null){yt();return}qe(_e,()=>{S.serverFileReference=null,S.transferId=null,yt()},mn=>{if(!ut){yt();return}B(Bs.PROCESSING_REVERT_ERROR),U("process-revert-error"),ke(mn)}),B(Bs.IDLE),U("process-revert")}),De=(qe,ut,yt)=>{const ke=qe.split("."),_e=ke[0],mn=ke.pop();let wt=I;ke.forEach(Ot=>wt=wt[Ot]),JSON.stringify(wt[mn])!==JSON.stringify(ut)&&(wt[mn]=ut,U("metadata-update",{key:_e,value:I[_e],silent:yt}))},H={id:{get:()=>y},origin:{get:()=>a,set:qe=>a=qe},serverId:{get:()=>S.serverFileReference},transferId:{get:()=>S.transferId},status:{get:()=>S.status},filename:{get:()=>S.file.name},filenameWithoutExtension:{get:()=>fee(S.file.name)},fileExtension:{get:j},fileType:{get:Y},fileSize:{get:ne},file:{get:ve},relativePath:{get:()=>S.file._relativePath},source:{get:()=>S.source},getMetadata:qe=>hee(qe?I[qe]:I),setMetadata:(qe,ut,yt)=>{if(sd(qe)){const ke=qe;return Object.keys(ke).forEach(_e=>{De(_e,ke[_e],ut)}),qe}return De(qe,ut,yt),ut},extend:(qe,ut)=>Ee[qe]=ut,abortLoad:ue,retryLoad:fe,requestProcessing:re,abortProcessing:me,load:ie,process:ce,revert:K,...UH(),freeze:()=>S.frozen=!0,release:()=>S.released=!0,released:{get:()=>S.released},archive:()=>S.archived=!0,archived:{get:()=>S.archived}},Ee=Nw(H);return Ee},pre=(a,c)=>c_(c)?0:vh(c)?a.findIndex(f=>f.id===c):-1,KX=(a,c)=>{const f=pre(a,c);if(!(f<0))return a[f]||null},XX=(a,c,f,y,S,D)=>{const I=ix(null,a,{method:"GET",responseType:"blob"});return I.onload=B=>{const U=B.getAllResponseHeaders(),j=bY(U).name||rk(a);c(kl("load",B.status,ZO(B.response,j),U))},I.onerror=B=>{f(kl("error",B.status,B.statusText,B.getAllResponseHeaders()))},I.onheaders=B=>{D(kl("headers",B.status,null,B.getAllResponseHeaders()))},I.ontimeout=ax(f),I.onprogress=y,I.onabort=S,I},QX=a=>(a.indexOf("//")===0&&(a=location.protocol+a),a.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]),gre=a=>(a.indexOf(":")>-1||a.indexOf("//")>-1)&&QX(location.href)!==QX(a),z5=a=>(...c)=>tx(a)?a(...c):a,vre=a=>!YO(a.file),Xj=(a,c)=>{clearTimeout(c.listUpdateTimeout),c.listUpdateTimeout=setTimeout(()=>{a("DID_UPDATE_ITEMS",{items:bv(c.items)})},0)},JX=(a,...c)=>new Promise(f=>{if(!a)return f(!0);const y=a(...c);if(y==null)return f(!0);if(typeof y=="boolean")return f(y);typeof y.then=="function"&&y.then(f)}),Qj=(a,c)=>{a.items.sort((f,y)=>c(_m(f),_m(y)))},Yg=(a,c)=>({query:f,success:y=()=>{},failure:S=()=>{},...D}={})=>{const I=nx(a.items,f);if(!I){S({error:kl("error",0,"Item not found"),file:null});return}c(I,y,S,D||{})},bre=(a,c,f)=>({ABORT_ALL:()=>{bv(f.items).forEach(y=>{y.freeze(),y.abortLoad(),y.abortProcessing()})},DID_SET_FILES:({value:y=[]})=>{const S=y.map(I=>({source:I.source?I.source:I,options:I.options}));let D=bv(f.items);D.forEach(I=>{S.find(B=>B.source===I.source||B.source===I.file)||a("REMOVE_ITEM",{query:I,remove:!1})}),D=bv(f.items),S.forEach((I,B)=>{D.find(U=>U.source===I.source||U.file===I.source)||a("ADD_ITEM",{...I,interactionMethod:Qg.NONE,index:B})})},DID_UPDATE_ITEM_METADATA:({id:y,action:S,change:D})=>{D.silent||(clearTimeout(f.itemUpdateTimeout),f.itemUpdateTimeout=setTimeout(()=>{const I=KX(f.items,y);if(!c("IS_ASYNC")){vv("SHOULD_PREPARE_OUTPUT",!1,{item:I,query:c,action:S,change:D}).then(Y=>{const ne=c("GET_BEFORE_PREPARE_FILE");ne&&(Y=ne(I,Y)),Y&&a("REQUEST_PREPARE_OUTPUT",{query:y,item:I,success:ve=>{a("DID_PREPARE_OUTPUT",{id:y,file:ve})}},!0)});return}I.origin===Au.LOCAL&&a("DID_LOAD_ITEM",{id:I.id,error:null,serverFileReference:I.source});const B=()=>{setTimeout(()=>{a("REQUEST_ITEM_PROCESSING",{query:y})},32)},U=Y=>{I.revert(WM(f.options.server.url,f.options.server.revert),c("GET_FORCE_REVERT")).then(Y?B:()=>{}).catch(()=>{})},j=Y=>{I.abortProcessing().then(Y?B:()=>{})};if(I.status===Bs.PROCESSING_COMPLETE)return U(f.options.instantUpload);if(I.status===Bs.PROCESSING)return j(f.options.instantUpload);f.options.instantUpload&&B()},0))},MOVE_ITEM:({query:y,index:S})=>{const D=nx(f.items,y);if(!D)return;const I=f.items.indexOf(D);S=aee(S,0,f.items.length-1),I!==S&&f.items.splice(S,0,f.items.splice(I,1)[0])},SORT:({compare:y})=>{Qj(f,y),a("DID_SORT_ITEMS",{items:c("GET_ACTIVE_ITEMS")})},ADD_ITEMS:({items:y,index:S,interactionMethod:D,success:I=()=>{},failure:B=()=>{}})=>{let U=S;if(S===-1||typeof S>"u"){const ie=c("GET_ITEM_INSERT_LOCATION"),fe=c("GET_TOTAL_ITEMS");U=ie==="before"?0:fe}const j=c("GET_IGNORED_FILES"),Y=ie=>YO(ie)?!j.includes(ie.name.toLowerCase()):!c_(ie),ve=y.filter(Y).map(ie=>new Promise((fe,ue)=>{a("ADD_ITEM",{interactionMethod:D,source:ie.source||ie,success:fe,failure:ue,index:U++,options:ie.options||{}})}));Promise.all(ve).then(I).catch(B)},ADD_ITEM:({source:y,index:S=-1,interactionMethod:D,success:I=()=>{},failure:B=()=>{},options:U={}})=>{if(c_(y)){B({error:kl("error",0,"No source"),file:null});return}if(YO(y)&&f.options.ignoredFiles.includes(y.name.toLowerCase()))return;if(!Zse(f)){if(f.options.allowMultiple||!f.options.allowMultiple&&!f.options.allowReplace){const me=kl("warning",0,"Max files");a("DID_THROW_MAX_FILES",{source:y,error:me}),B({error:me,file:null});return}const re=bv(f.items)[0];if(re.status===Bs.PROCESSING_COMPLETE||re.status===Bs.PROCESSING_REVERT_ERROR){const me=c("GET_FORCE_REVERT");if(re.revert(WM(f.options.server.url,f.options.server.revert),me).then(()=>{me&&a("ADD_ITEM",{source:y,index:S,interactionMethod:D,success:I,failure:B,options:U})}).catch(()=>{}),me)return}a("REMOVE_ITEM",{query:re.id})}const j=U.type==="local"?Au.LOCAL:U.type==="limbo"?Au.LIMBO:Au.INPUT,Y=mre(j,j===Au.INPUT?null:y,U.file);Object.keys(U.metadata||{}).forEach(re=>{Y.setMetadata(re,U.metadata[re])}),dx("DID_CREATE_ITEM",Y,{query:c,dispatch:a});const ne=c("GET_ITEM_INSERT_LOCATION");f.options.itemInsertLocationFreedom||(S=ne==="before"?-1:f.items.length),Kse(f.items,Y,S),tx(ne)&&y&&Qj(f,ne);const ve=Y.id;Y.on("init",()=>{a("DID_INIT_ITEM",{id:ve})}),Y.on("load-init",()=>{a("DID_START_ITEM_LOAD",{id:ve})}),Y.on("load-meta",()=>{a("DID_UPDATE_ITEM_META",{id:ve})}),Y.on("load-progress",re=>{a("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:ve,progress:re})}),Y.on("load-request-error",re=>{const me=z5(f.options.labelFileLoadError)(re);if(re.code>=400&&re.code<500){a("DID_THROW_ITEM_INVALID",{id:ve,error:re,status:{main:me,sub:`${re.code} (${re.body})`}}),B({error:re,file:_m(Y)});return}a("DID_THROW_ITEM_LOAD_ERROR",{id:ve,error:re,status:{main:me,sub:f.options.labelTapToRetry}})}),Y.on("load-file-error",re=>{a("DID_THROW_ITEM_INVALID",{id:ve,error:re.status,status:re.status}),B({error:re.status,file:_m(Y)})}),Y.on("load-abort",()=>{a("REMOVE_ITEM",{query:ve})}),Y.on("load-skip",()=>{a("COMPLETE_LOAD_ITEM",{query:ve,item:Y,data:{source:y,success:I}})}),Y.on("load",()=>{const re=me=>{if(!me){a("REMOVE_ITEM",{query:ve});return}Y.on("metadata-update",K=>{a("DID_UPDATE_ITEM_METADATA",{id:ve,change:K})}),vv("SHOULD_PREPARE_OUTPUT",!1,{item:Y,query:c}).then(K=>{const De=c("GET_BEFORE_PREPARE_FILE");De&&(K=De(Y,K));const Ge=()=>{a("COMPLETE_LOAD_ITEM",{query:ve,item:Y,data:{source:y,success:I}}),Xj(a,f)};if(K){a("REQUEST_PREPARE_OUTPUT",{query:ve,item:Y,success:H=>{a("DID_PREPARE_OUTPUT",{id:ve,file:H}),Ge()}},!0);return}Ge()})};vv("DID_LOAD_ITEM",Y,{query:c,dispatch:a}).then(()=>{JX(c("GET_BEFORE_ADD_FILE"),_m(Y)).then(re)}).catch(me=>{if(!me||!me.error||!me.status)return re(!1);a("DID_THROW_ITEM_INVALID",{id:ve,error:me.error,status:me.status})})}),Y.on("process-start",()=>{a("DID_START_ITEM_PROCESSING",{id:ve})}),Y.on("process-progress",re=>{a("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:ve,progress:re})}),Y.on("process-error",re=>{a("DID_THROW_ITEM_PROCESSING_ERROR",{id:ve,error:re,status:{main:z5(f.options.labelFileProcessingError)(re),sub:f.options.labelTapToRetry}})}),Y.on("process-revert-error",re=>{a("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:ve,error:re,status:{main:z5(f.options.labelFileProcessingRevertError)(re),sub:f.options.labelTapToRetry}})}),Y.on("process-complete",re=>{a("DID_COMPLETE_ITEM_PROCESSING",{id:ve,error:null,serverFileReference:re}),a("DID_DEFINE_VALUE",{id:ve,value:re})}),Y.on("process-abort",()=>{a("DID_ABORT_ITEM_PROCESSING",{id:ve})}),Y.on("process-revert",()=>{a("DID_REVERT_ITEM_PROCESSING",{id:ve}),a("DID_DEFINE_VALUE",{id:ve,value:null})}),a("DID_ADD_ITEM",{id:ve,index:S,interactionMethod:D}),Xj(a,f);const{url:ie,load:fe,restore:ue,fetch:ce}=f.options.server||{};Y.load(y,are(j===Au.INPUT?vh(y)&&gre(y)&&ce?Kj(ie,ce):XX:j===Au.LIMBO?Kj(ie,ue):Kj(ie,fe)),(re,me,K)=>{vv("LOAD_FILE",re,{query:c}).then(me).catch(K)})},REQUEST_PREPARE_OUTPUT:({item:y,success:S,failure:D=()=>{}})=>{const I={error:kl("error",0,"Item not found"),file:null};if(y.archived)return D(I);vv("PREPARE_OUTPUT",y.file,{query:c,item:y}).then(B=>{vv("COMPLETE_PREPARE_OUTPUT",B,{query:c,item:y}).then(U=>{if(y.archived)return D(I);S(U)})})},COMPLETE_LOAD_ITEM:({item:y,data:S})=>{const{success:D,source:I}=S,B=c("GET_ITEM_INSERT_LOCATION");if(tx(B)&&I&&Qj(f,B),a("DID_LOAD_ITEM",{id:y.id,error:null,serverFileReference:y.origin===Au.INPUT?null:I}),D(_m(y)),y.origin===Au.LOCAL){a("DID_LOAD_LOCAL_ITEM",{id:y.id});return}if(y.origin===Au.LIMBO){a("DID_COMPLETE_ITEM_PROCESSING",{id:y.id,error:null,serverFileReference:I}),a("DID_DEFINE_VALUE",{id:y.id,value:y.serverId||I});return}c("IS_ASYNC")&&f.options.instantUpload&&a("REQUEST_ITEM_PROCESSING",{query:y.id})},RETRY_ITEM_LOAD:Yg(f,y=>{y.retryLoad()}),REQUEST_ITEM_PREPARE:Yg(f,(y,S,D)=>{a("REQUEST_PREPARE_OUTPUT",{query:y.id,item:y,success:I=>{a("DID_PREPARE_OUTPUT",{id:y.id,file:I}),S({file:y,output:I})},failure:D},!0)}),REQUEST_ITEM_PROCESSING:Yg(f,(y,S,D)=>{if(!(y.status===Bs.IDLE||y.status===Bs.PROCESSING_ERROR)){const B=()=>a("REQUEST_ITEM_PROCESSING",{query:y,success:S,failure:D}),U=()=>document.hidden?B():setTimeout(B,32);y.status===Bs.PROCESSING_COMPLETE||y.status===Bs.PROCESSING_REVERT_ERROR?y.revert(WM(f.options.server.url,f.options.server.revert),c("GET_FORCE_REVERT")).then(U).catch(()=>{}):y.status===Bs.PROCESSING&&y.abortProcessing().then(U);return}y.status!==Bs.PROCESSING_QUEUED&&(y.requestProcessing(),a("DID_REQUEST_ITEM_PROCESSING",{id:y.id}),a("PROCESS_ITEM",{query:y,success:S,failure:D},!0))}),PROCESS_ITEM:Yg(f,(y,S,D)=>{const I=c("GET_MAX_PARALLEL_UPLOADS");if(c("GET_ITEMS_BY_STATUS",Bs.PROCESSING).length===I){f.processingQueue.push({id:y.id,success:S,failure:D});return}if(y.status===Bs.PROCESSING)return;const U=()=>{const Y=f.processingQueue.shift();if(!Y)return;const{id:ne,success:ve,failure:ie}=Y,fe=nx(f.items,ne);if(!fe||fe.archived){U();return}a("PROCESS_ITEM",{query:ne,success:ve,failure:ie},!0)};y.onOnce("process-complete",()=>{S(_m(y)),U();const Y=f.options.server;if(f.options.instantUpload&&y.origin===Au.LOCAL&&tx(Y.remove)){const ie=()=>{};y.origin=Au.LIMBO,f.options.server.remove(y.source,ie,ie)}c("GET_ITEMS_BY_STATUS",Bs.PROCESSING_COMPLETE).length===f.items.length&&a("DID_COMPLETE_ITEM_PROCESSING_ALL")}),y.onOnce("process-error",Y=>{D({error:Y,file:_m(y)}),U()});const j=f.options;y.process(fre(ure(j.server.url,j.server.process,j.name,{chunkTransferId:y.transferId,chunkServer:j.server.patch,chunkUploads:j.chunkUploads,chunkForce:j.chunkForce,chunkSize:j.chunkSize,chunkRetryDelays:j.chunkRetryDelays}),{allowMinimumUploadDuration:c("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),(Y,ne,ve)=>{vv("PREPARE_OUTPUT",Y,{query:c,item:y}).then(ie=>{a("DID_PREPARE_OUTPUT",{id:y.id,file:ie}),ne(ie)}).catch(ve)})}),RETRY_ITEM_PROCESSING:Yg(f,y=>{a("REQUEST_ITEM_PROCESSING",{query:y})}),REQUEST_REMOVE_ITEM:Yg(f,y=>{JX(c("GET_BEFORE_REMOVE_FILE"),_m(y)).then(S=>{S&&a("REMOVE_ITEM",{query:y})})}),RELEASE_ITEM:Yg(f,y=>{y.release()}),REMOVE_ITEM:Yg(f,(y,S,D,I)=>{const B=()=>{const j=y.id;KX(f.items,j).archive(),a("DID_REMOVE_ITEM",{error:null,id:j,item:y}),Xj(a,f),S(_m(y))},U=f.options.server;y.origin===Au.LOCAL&&U&&tx(U.remove)&&I.remove!==!1?(a("DID_START_ITEM_REMOVE",{id:y.id}),U.remove(y.source,()=>B(),j=>{a("DID_THROW_ITEM_REMOVE_ERROR",{id:y.id,error:kl("error",0,j,null),status:{main:z5(f.options.labelFileRemoveError)(j),sub:f.options.labelTapToRetry}})})):((I.revert&&y.origin!==Au.LOCAL&&y.serverId!==null||f.options.chunkUploads&&y.file.size>f.options.chunkSize||f.options.chunkUploads&&f.options.chunkForce)&&y.revert(WM(f.options.server.url,f.options.server.revert),c("GET_FORCE_REVERT")),B())}),ABORT_ITEM_LOAD:Yg(f,y=>{y.abortLoad()}),ABORT_ITEM_PROCESSING:Yg(f,y=>{if(y.serverId){a("REVERT_ITEM_PROCESSING",{id:y.id});return}y.abortProcessing().then(()=>{f.options.instantUpload&&a("REMOVE_ITEM",{query:y.id})})}),REQUEST_REVERT_ITEM_PROCESSING:Yg(f,y=>{if(!f.options.instantUpload){a("REVERT_ITEM_PROCESSING",{query:y});return}const S=B=>{B&&a("REVERT_ITEM_PROCESSING",{query:y})},D=c("GET_BEFORE_REMOVE_FILE");if(!D)return S(!0);const I=D(_m(y));if(I==null)return S(!0);if(typeof I=="boolean")return S(I);typeof I.then=="function"&&I.then(S)}),REVERT_ITEM_PROCESSING:Yg(f,y=>{y.revert(WM(f.options.server.url,f.options.server.revert),c("GET_FORCE_REVERT")).then(()=>{(f.options.instantUpload||vre(y))&&a("REMOVE_ITEM",{query:y.id})}).catch(()=>{})}),SET_OPTIONS:({options:y})=>{const S=Object.keys(y),D=yre.filter(B=>S.includes(B));[...D,...Object.keys(y).filter(B=>!D.includes(B))].forEach(B=>{a(`SET_${VH(B,"_").toUpperCase()}`,{value:y[B]})})}}),yre=["server"],yY=a=>a,l_=a=>document.createElement(a),Pl=(a,c)=>{let f=a.childNodes[0];f?c!==f.nodeValue&&(f.nodeValue=c):(f=document.createTextNode(c),a.appendChild(f))},eQ=(a,c,f,y)=>{const S=(y%360-90)*Math.PI/180;return{x:a+f*Math.cos(S),y:c+f*Math.sin(S)}},_re=(a,c,f,y,S,D)=>{const I=eQ(a,c,f,S),B=eQ(a,c,f,y);return["M",I.x,I.y,"A",f,f,0,D,0,B.x,B.y].join(" ")},Ere=(a,c,f,y,S)=>{let D=1;return S>y&&S-y<=.5&&(D=0),y>S&&y-S>=.5&&(D=0),_re(a,c,f,Math.min(.9999,y)*360,Math.min(.9999,S)*360,D)},wre=({root:a,props:c})=>{c.spin=!1,c.progress=0,c.opacity=0;const f=yH("svg");a.ref.path=yH("path",{"stroke-width":2,"stroke-linecap":"round"}),f.appendChild(a.ref.path),a.ref.svg=f,a.appendChild(f)},Tre=({root:a,props:c})=>{if(c.opacity===0)return;c.align&&(a.element.dataset.align=c.align);const f=parseInt(ru(a.ref.path,"stroke-width"),10),y=a.rect.element.width*.5;let S=0,D=0;c.spin?(S=0,D=.5):(S=0,D=c.progress);const I=Ere(y,y,y-f,S,D);ru(a.ref.path,"d",I),ru(a.ref.path,"stroke-opacity",c.spin||c.progress>0?1:0)},tQ=iu({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:wre,write:Tre,mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),Cre=({root:a,props:c})=>{a.element.innerHTML=(c.icon||"")+`<span>${c.label}</span>`,c.isDisabled=!1},Sre=({root:a,props:c})=>{const{isDisabled:f}=c,y=a.query("GET_DISABLED")||c.opacity===0;y&&!f?(c.isDisabled=!0,ru(a.element,"disabled","disabled")):!y&&f&&(c.isDisabled=!1,a.element.removeAttribute("disabled"))},mee=iu({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:Cre,write:Sre}),pee=(a,c=".",f=1e3,y={})=>{const{labelBytes:S="bytes",labelKilobytes:D="KB",labelMegabytes:I="MB",labelGigabytes:B="GB"}=y;a=Math.round(Math.abs(a));const U=f,j=f*f,Y=f*f*f;return a<U?`${a} ${S}`:a<j?`${Math.floor(a/U)} ${D}`:a<Y?`${nQ(a/j,1,c)} ${I}`:`${nQ(a/Y,2,c)} ${B}`},nQ=(a,c,f)=>a.toFixed(c).split(".").filter(y=>y!=="0").join(f),xre=({root:a,props:c})=>{const f=l_("span");f.className="filepond--file-info-main",ru(f,"aria-hidden","true"),a.appendChild(f),a.ref.fileName=f;const y=l_("span");y.className="filepond--file-info-sub",a.appendChild(y),a.ref.fileSize=y,Pl(y,a.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),Pl(f,yY(a.query("GET_ITEM_NAME",c.id)))},DZ=({root:a,props:c})=>{Pl(a.ref.fileSize,pee(a.query("GET_ITEM_SIZE",c.id),".",a.query("GET_FILE_SIZE_BASE"),a.query("GET_FILE_SIZE_LABELS",a.query))),Pl(a.ref.fileName,yY(a.query("GET_ITEM_NAME",c.id)))},oQ=({root:a,props:c})=>{if(eR(a.query("GET_ITEM_SIZE",c.id))){DZ({root:a,props:c});return}Pl(a.ref.fileSize,a.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},Are=iu({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:bh({DID_LOAD_ITEM:DZ,DID_UPDATE_ITEM_META:DZ,DID_THROW_ITEM_LOAD_ERROR:oQ,DID_THROW_ITEM_INVALID:oQ}),didCreateView:a=>{dx("CREATE_VIEW",{...a,view:a})},create:xre,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),gee=a=>Math.round(a*100),Ore=({root:a})=>{const c=l_("span");c.className="filepond--file-status-main",a.appendChild(c),a.ref.main=c;const f=l_("span");f.className="filepond--file-status-sub",a.appendChild(f),a.ref.sub=f,vee({root:a,action:{progress:null}})},vee=({root:a,action:c})=>{const f=c.progress===null?a.query("GET_LABEL_FILE_LOADING"):`${a.query("GET_LABEL_FILE_LOADING")} ${gee(c.progress)}%`;Pl(a.ref.main,f),Pl(a.ref.sub,a.query("GET_LABEL_TAP_TO_CANCEL"))},Rre=({root:a,action:c})=>{const f=c.progress===null?a.query("GET_LABEL_FILE_PROCESSING"):`${a.query("GET_LABEL_FILE_PROCESSING")} ${gee(c.progress)}%`;Pl(a.ref.main,f),Pl(a.ref.sub,a.query("GET_LABEL_TAP_TO_CANCEL"))},Ire=({root:a})=>{Pl(a.ref.main,a.query("GET_LABEL_FILE_PROCESSING")),Pl(a.ref.sub,a.query("GET_LABEL_TAP_TO_CANCEL"))},Dre=({root:a})=>{Pl(a.ref.main,a.query("GET_LABEL_FILE_PROCESSING_ABORTED")),Pl(a.ref.sub,a.query("GET_LABEL_TAP_TO_RETRY"))},Nre=({root:a})=>{Pl(a.ref.main,a.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),Pl(a.ref.sub,a.query("GET_LABEL_TAP_TO_UNDO"))},sQ=({root:a})=>{Pl(a.ref.main,""),Pl(a.ref.sub,"")},GM=({root:a,action:c})=>{Pl(a.ref.main,c.status.main),Pl(a.ref.sub,c.status.sub)},Mre=iu({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:bh({DID_LOAD_ITEM:sQ,DID_REVERT_ITEM_PROCESSING:sQ,DID_REQUEST_ITEM_PROCESSING:Ire,DID_ABORT_ITEM_PROCESSING:Dre,DID_COMPLETE_ITEM_PROCESSING:Nre,DID_UPDATE_ITEM_PROCESS_PROGRESS:Rre,DID_UPDATE_ITEM_LOAD_PROGRESS:vee,DID_THROW_ITEM_LOAD_ERROR:GM,DID_THROW_ITEM_INVALID:GM,DID_THROW_ITEM_PROCESSING_ERROR:GM,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:GM,DID_THROW_ITEM_REMOVE_ERROR:GM}),didCreateView:a=>{dx("CREATE_VIEW",{...a,view:a})},create:Ore,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),NZ={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},MZ=[];dl(NZ,a=>{MZ.push(a)});const kp=a=>{if(kZ(a)==="right")return 0;const c=a.ref.buttonRemoveItem.rect.element;return c.hidden?null:c.width+c.left},kre=a=>a.ref.buttonAbortItemLoad.rect.element.width,W5=a=>Math.floor(a.ref.buttonRemoveItem.rect.element.height/4),Pre=a=>Math.floor(a.ref.buttonRemoveItem.rect.element.left/2),Lre=a=>a.query("GET_STYLE_LOAD_INDICATOR_POSITION"),$re=a=>a.query("GET_STYLE_PROGRESS_INDICATOR_POSITION"),kZ=a=>a.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION"),Bre={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:Lre},processProgressIndicator:{opacity:0,align:$re},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},rQ={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:kp},status:{translateX:kp}},Jj={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},PO={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:kp},status:{translateX:kp,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:kp},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:kZ},info:{translateX:kp},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:kZ},buttonRemoveItem:{opacity:1},info:{translateX:kp},status:{opacity:1,translateX:kp}},DID_LOAD_ITEM:rQ,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:kp},status:{translateX:kp}},DID_START_ITEM_PROCESSING:Jj,DID_REQUEST_ITEM_PROCESSING:Jj,DID_UPDATE_ITEM_PROCESS_PROGRESS:Jj,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:kp}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:kp},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:rQ},Fre=iu({create:({root:a})=>{a.element.innerHTML=a.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),Hre=({root:a,props:c})=>{const f=Object.keys(NZ).reduce((fe,ue)=>(fe[ue]={...NZ[ue]},fe),{}),{id:y}=c,S=a.query("GET_ALLOW_REVERT"),D=a.query("GET_ALLOW_REMOVE"),I=a.query("GET_ALLOW_PROCESS"),B=a.query("GET_INSTANT_UPLOAD"),U=a.query("IS_ASYNC"),j=a.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");let Y;U?I&&!S?Y=fe=>!/RevertItemProcessing/.test(fe):!I&&S?Y=fe=>!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(fe):!I&&!S&&(Y=fe=>!/Process/.test(fe)):Y=fe=>!/Process/.test(fe);const ne=Y?MZ.filter(Y):MZ.concat();if(B&&S&&(f.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",f.RevertItemProcessing.icon="GET_ICON_REMOVE"),U&&!S){const fe=PO.DID_COMPLETE_ITEM_PROCESSING;fe.info.translateX=Pre,fe.info.translateY=W5,fe.status.translateY=W5,fe.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(U&&!I&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(fe=>{PO[fe].status.translateY=W5}),PO.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=kre),j&&S){f.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";const fe=PO.DID_COMPLETE_ITEM_PROCESSING;fe.info.translateX=kp,fe.status.translateY=W5,fe.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}D||(f.RemoveItem.disabled=!0),dl(f,(fe,ue)=>{const ce=a.createChildView(mee,{label:a.query(ue.label),icon:a.query(ue.icon),opacity:0});ne.includes(fe)&&a.appendChildView(ce),ue.disabled&&(ce.element.setAttribute("disabled","disabled"),ce.element.setAttribute("hidden","hidden")),ce.element.dataset.align=a.query(`GET_STYLE_${ue.align}`),ce.element.classList.add(ue.className),ce.on("click",re=>{re.stopPropagation(),!ue.disabled&&a.dispatch(ue.action,{query:y})}),a.ref[`button${fe}`]=ce}),a.ref.processingCompleteIndicator=a.appendChildView(a.createChildView(Fre)),a.ref.processingCompleteIndicator.element.dataset.align=a.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),a.ref.info=a.appendChildView(a.createChildView(Are,{id:y})),a.ref.status=a.appendChildView(a.createChildView(Mre,{id:y}));const ve=a.appendChildView(a.createChildView(tQ,{opacity:0,align:a.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));ve.element.classList.add("filepond--load-indicator"),a.ref.loadProgressIndicator=ve;const ie=a.appendChildView(a.createChildView(tQ,{opacity:0,align:a.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));ie.element.classList.add("filepond--process-indicator"),a.ref.processProgressIndicator=ie,a.ref.activeStyles=[]},Vre=({root:a,actions:c,props:f})=>{Ure({root:a,actions:c,props:f});let y=c.concat().filter(S=>/^DID_/.test(S.type)).reverse().find(S=>PO[S.type]);if(y){a.ref.activeStyles=[];const S=PO[y.type];dl(Bre,(D,I)=>{const B=a.ref[D];dl(I,(U,j)=>{const Y=S[D]&&typeof S[D][U]<"u"?S[D][U]:j;a.ref.activeStyles.push({control:B,key:U,value:Y})})})}a.ref.activeStyles.forEach(({control:S,key:D,value:I})=>{S[D]=typeof I=="function"?I(a):I})},Ure=bh({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:({root:a,action:c})=>{a.ref.buttonAbortItemProcessing.label=c.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:({root:a,action:c})=>{a.ref.buttonAbortItemLoad.label=c.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:({root:a,action:c})=>{a.ref.buttonAbortItemRemoval.label=c.value},DID_REQUEST_ITEM_PROCESSING:({root:a})=>{a.ref.processProgressIndicator.spin=!0,a.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:({root:a})=>{a.ref.loadProgressIndicator.spin=!0,a.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:({root:a})=>{a.ref.processProgressIndicator.spin=!0,a.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:({root:a,action:c})=>{a.ref.loadProgressIndicator.spin=!1,a.ref.loadProgressIndicator.progress=c.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:({root:a,action:c})=>{a.ref.processProgressIndicator.spin=!1,a.ref.processProgressIndicator.progress=c.progress}}),zre=iu({create:Hre,write:Vre,didCreateView:a=>{dx("CREATE_VIEW",{...a,view:a})},name:"file"}),Wre=({root:a,props:c})=>{a.ref.fileName=l_("legend"),a.appendChild(a.ref.fileName),a.ref.file=a.appendChildView(a.createChildView(zre,{id:c.id})),a.ref.data=!1},Gre=({root:a,props:c})=>{Pl(a.ref.fileName,yY(a.query("GET_ITEM_NAME",c.id)))},qre=iu({create:Wre,ignoreRect:!0,write:bh({DID_LOAD_ITEM:Gre}),didCreateView:a=>{dx("CREATE_VIEW",{...a,view:a})},tag:"fieldset",name:"file-wrapper"}),iQ={type:"spring",damping:.6,mass:7},jre=({root:a,props:c})=>{[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:iQ},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:iQ},styles:["translateY"]}}].forEach(f=>{Zre(a,f,c.name)}),a.element.classList.add(`filepond--${c.name}`),a.ref.scalable=null},Zre=(a,c,f)=>{const y=iu({name:`panel-${c.name} filepond--${f}`,mixins:c.mixins,ignoreRectUpdate:!0}),S=a.createChildView(y,c.props);a.ref[c.name]=a.appendChildView(S)},Yre=({root:a,props:c})=>{if((a.ref.scalable===null||c.scalable!==a.ref.scalable)&&(a.ref.scalable=QJ(c.scalable)?c.scalable:!0,a.element.dataset.scalable=a.ref.scalable),!c.height)return;const f=a.ref.top.rect.element,y=a.ref.bottom.rect.element,S=Math.max(f.height+y.height,c.height);a.ref.center.translateY=f.height,a.ref.center.scaleY=(S-f.height-y.height)/100,a.ref.bottom.translateY=S-y.height},bee=iu({name:"panel",read:({root:a,props:c})=>c.heightCurrent=a.ref.bottom.translateY,write:Yre,create:jre,ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),Kre=a=>{const c=a.map(y=>y.id);let f;return{setIndex:y=>{f=y},getIndex:()=>f,getItemIndex:y=>c.indexOf(y.id)}},aQ={type:"spring",stiffness:.75,damping:.45,mass:10},cQ="spring",lQ={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},Xre=({root:a,props:c})=>{if(a.ref.handleClick=y=>a.dispatch("DID_ACTIVATE_ITEM",{id:c.id}),a.element.id=`filepond--item-${c.id}`,a.element.addEventListener("click",a.ref.handleClick),a.ref.container=a.appendChildView(a.createChildView(qre,{id:c.id})),a.ref.panel=a.appendChildView(a.createChildView(bee,{name:"item-panel"})),a.ref.panel.height=null,c.markedForRemoval=!1,!a.query("GET_ALLOW_REORDER"))return;a.element.dataset.dragState="idle";const f=y=>{if(!y.isPrimary)return;let S=!1;const D={x:y.pageX,y:y.pageY};c.dragOrigin={x:a.translateX,y:a.translateY},c.dragCenter={x:y.offsetX,y:y.offsetY};const I=Kre(a.query("GET_ACTIVE_ITEMS"));a.dispatch("DID_GRAB_ITEM",{id:c.id,dragState:I});const B=j=>{if(!j.isPrimary)return;j.stopPropagation(),j.preventDefault(),c.dragOffset={x:j.pageX-D.x,y:j.pageY-D.y},c.dragOffset.x*c.dragOffset.x+c.dragOffset.y*c.dragOffset.y>16&&!S&&(S=!0,a.element.removeEventListener("click",a.ref.handleClick)),a.dispatch("DID_DRAG_ITEM",{id:c.id,dragState:I})},U=j=>{j.isPrimary&&(document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",U),c.dragOffset={x:j.pageX-D.x,y:j.pageY-D.y},a.dispatch("DID_DROP_ITEM",{id:c.id,dragState:I}),S&&setTimeout(()=>a.element.addEventListener("click",a.ref.handleClick),0))};document.addEventListener("pointermove",B),document.addEventListener("pointerup",U)};a.element.addEventListener("pointerdown",f)},Qre=bh({DID_UPDATE_PANEL_HEIGHT:({root:a,action:c})=>{a.height=c.height}}),Jre=bh({DID_GRAB_ITEM:({root:a,props:c})=>{c.dragOrigin={x:a.translateX,y:a.translateY}},DID_DRAG_ITEM:({root:a})=>{a.element.dataset.dragState="drag"},DID_DROP_ITEM:({root:a,props:c})=>{c.dragOffset=null,c.dragOrigin=null,a.element.dataset.dragState="drop"}},({root:a,actions:c,props:f,shouldOptimize:y})=>{a.element.dataset.dragState==="drop"&&a.scaleX<=1&&(a.element.dataset.dragState="idle");let S=c.concat().filter(I=>/^DID_/.test(I.type)).reverse().find(I=>lQ[I.type]);S&&S.type!==f.currentState&&(f.currentState=S.type,a.element.dataset.filepondItemState=lQ[f.currentState]||"");const D=a.query("GET_ITEM_PANEL_ASPECT_RATIO")||a.query("GET_PANEL_ASPECT_RATIO");D?y||(a.height=a.rect.element.width*D):(Qre({root:a,actions:c,props:f}),!a.height&&a.ref.container.rect.element.height>0&&(a.height=a.ref.container.rect.element.height)),y&&(a.ref.panel.height=null),a.ref.panel.height=a.height}),eie=iu({create:Xre,write:Jre,destroy:({root:a,props:c})=>{a.element.removeEventListener("click",a.ref.handleClick),a.dispatch("RELEASE_ITEM",{query:c.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:cQ,scaleY:cQ,translateX:aQ,translateY:aQ,opacity:{type:"tween",duration:150}}}});var _Y=(a,c)=>Math.max(1,Math.floor((a+1)/c));const EY=(a,c,f)=>{if(!f)return;const y=a.rect.element.width,S=c.length;let D=null;if(S===0||f.top<c[0].rect.element.top)return-1;const B=c[0].rect.element,U=B.marginLeft+B.marginRight,j=B.width+U,Y=_Y(y,j);if(Y===1){for(let ie=0;ie<S;ie++){const fe=c[ie],ue=fe.rect.outer.top+fe.rect.element.height*.5;if(f.top<ue)return ie}return S}const ne=B.marginTop+B.marginBottom,ve=B.height+ne;for(let ie=0;ie<S;ie++){const fe=ie%Y,ue=Math.floor(ie/Y),ce=fe*j,re=ue*ve,me=re-B.marginTop,K=ce+j,De=re+ve+B.marginBottom;if(f.top<De&&f.top>me){if(f.left<K)return ie;ie!==S-1?D=ie:D=null}}return D!==null?D:S},G5={height:0,width:0,get getHeight(){return this.height},set setHeight(a){(this.height===0||a===0)&&(this.height=a)},get getWidth(){return this.width},set setWidth(a){(this.width===0||a===0)&&(this.width=a)},setDimensions:function(a,c){(this.height===0||a===0)&&(this.height=a),(this.width===0||c===0)&&(this.width=c)}},tie=({root:a})=>{ru(a.element,"role","list"),a.ref.lastItemSpanwDate=Date.now()},nie=({root:a,action:c})=>{const{id:f,index:y,interactionMethod:S}=c;a.ref.addIndex=y;const D=Date.now();let I=D,B=1;if(S!==Qg.NONE){B=0;const U=a.query("GET_ITEM_INSERT_INTERVAL"),j=D-a.ref.lastItemSpanwDate;I=j<U?D+(U-j):D}a.ref.lastItemSpanwDate=I,a.appendChildView(a.createChildView(eie,{spawnDate:I,id:f,opacity:B,interactionMethod:S}),y)},uQ=(a,c,f,y=0,S=1)=>{a.dragOffset?(a.translateX=null,a.translateY=null,a.translateX=a.dragOrigin.x+a.dragOffset.x,a.translateY=a.dragOrigin.y+a.dragOffset.y,a.scaleX=1.025,a.scaleY=1.025):(a.translateX=c,a.translateY=f,Date.now()>a.spawnDate&&(a.opacity===0&&oie(a,c,f,y,S),a.scaleX=1,a.scaleY=1,a.opacity=1))},oie=(a,c,f,y,S)=>{a.interactionMethod===Qg.NONE?(a.translateX=null,a.translateX=c,a.translateY=null,a.translateY=f):a.interactionMethod===Qg.DROP?(a.translateX=null,a.translateX=c-y*20,a.translateY=null,a.translateY=f-S*10,a.scaleX=.8,a.scaleY=.8):a.interactionMethod===Qg.BROWSE?(a.translateY=null,a.translateY=f-30):a.interactionMethod===Qg.API&&(a.translateX=null,a.translateX=c-30,a.translateY=null)},sie=({root:a,action:c})=>{const{id:f}=c,y=a.childViews.find(S=>S.id===f);y&&(y.scaleX=.9,y.scaleY=.9,y.opacity=0,y.markedForRemoval=!0)},eZ=a=>a.rect.element.height+a.rect.element.marginBottom*.5+a.rect.element.marginTop*.5,rie=a=>a.rect.element.width+a.rect.element.marginLeft*.5+a.rect.element.marginRight*.5,iie=({root:a,action:c})=>{const{id:f,dragState:y}=c,S=a.query("GET_ITEM",{id:f}),D=a.childViews.find(ce=>ce.id===f),I=a.childViews.length,B=y.getItemIndex(S);if(!D)return;const U={x:D.dragOrigin.x+D.dragOffset.x+D.dragCenter.x,y:D.dragOrigin.y+D.dragOffset.y+D.dragCenter.y},j=eZ(D),Y=rie(D);let ne=Math.floor(a.rect.outer.width/Y);ne>I&&(ne=I);const ve=Math.floor(I/ne+1);G5.setHeight=j*ve,G5.setWidth=Y*ne;var ie={y:Math.floor(U.y/j),x:Math.floor(U.x/Y),getGridIndex:function(){return U.y>G5.getHeight||U.y<0||U.x>G5.getWidth||U.x<0?B:this.y*ne+this.x},getColIndex:function(){const re=a.query("GET_ACTIVE_ITEMS"),me=a.childViews.filter(ke=>ke.rect.element.height),K=re.map(ke=>me.find(_e=>_e.id===ke.id)),De=K.findIndex(ke=>ke===D),Ge=eZ(D),H=K.length;let Ee=H,qe=0,ut=0,yt=0;for(let ke=0;ke<H;ke++)if(qe=eZ(K[ke]),yt=ut,ut=yt+qe,U.y<ut){if(De>ke){if(U.y<yt+Ge){Ee=ke;break}continue}Ee=ke;break}return Ee}};const fe=ne>1?ie.getGridIndex():ie.getColIndex();a.dispatch("MOVE_ITEM",{query:D,index:fe});const ue=y.getIndex();if(ue===void 0||ue!==fe){if(y.setIndex(fe),ue===void 0)return;a.dispatch("DID_REORDER_ITEMS",{items:a.query("GET_ACTIVE_ITEMS"),origin:B,target:fe})}},aie=bh({DID_ADD_ITEM:nie,DID_REMOVE_ITEM:sie,DID_DRAG_ITEM:iie}),cie=({root:a,props:c,actions:f,shouldOptimize:y})=>{aie({root:a,props:c,actions:f});const{dragCoordinates:S}=c,D=a.rect.element.width,I=a.childViews.filter(K=>K.rect.element.height),B=a.query("GET_ACTIVE_ITEMS").map(K=>I.find(De=>De.id===K.id)).filter(K=>K),U=S?EY(a,B,S):null,j=a.ref.addIndex||null;a.ref.addIndex=null;let Y=0,ne=0,ve=0;if(B.length===0)return;const ie=B[0].rect.element,fe=ie.marginTop+ie.marginBottom,ue=ie.marginLeft+ie.marginRight,ce=ie.width+ue,re=ie.height+fe,me=_Y(D,ce);if(me===1){let K=0,De=0;B.forEach((Ge,H)=>{if(U){let ut=H-U;ut===-2?De=-fe*.25:ut===-1?De=-fe*.75:ut===0?De=fe*.75:ut===1?De=fe*.25:De=0}y&&(Ge.translateX=null,Ge.translateY=null),Ge.markedForRemoval||uQ(Ge,0,K+De);let qe=(Ge.rect.element.height+fe)*(Ge.markedForRemoval?Ge.opacity:1);K+=qe})}else{let K=0,De=0;B.forEach((Ge,H)=>{H===U&&(Y=1),H===j&&(ve+=1),Ge.markedForRemoval&&Ge.opacity<.5&&(ne-=1);const Ee=H+ve+Y+ne,qe=Ee%me,ut=Math.floor(Ee/me),yt=qe*ce,ke=ut*re,_e=Math.sign(yt-K),mn=Math.sign(ke-De);K=yt,De=ke,!Ge.markedForRemoval&&(y&&(Ge.translateX=null,Ge.translateY=null),uQ(Ge,yt,ke,_e,mn))})}},lie=(a,c)=>c.filter(f=>f.data&&f.data.id?a.id===f.data.id:!0),uie=iu({create:tie,write:cie,tag:"ul",name:"list",didWriteView:({root:a})=>{a.childViews.filter(c=>c.markedForRemoval&&c.opacity===0&&c.resting).forEach(c=>{c._destroy(),a.removeChildView(c)})},filterFrameActionsForChild:lie,mixins:{apis:["dragCoordinates"]}}),die=({root:a,props:c})=>{a.ref.list=a.appendChildView(a.createChildView(uie)),c.dragCoordinates=null,c.overflowing=!1},fie=({root:a,props:c,action:f})=>{a.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(c.dragCoordinates={left:f.position.scopeLeft-a.ref.list.rect.element.left,top:f.position.scopeTop-(a.rect.outer.top+a.rect.element.marginTop+a.rect.element.scrollTop)})},hie=({props:a})=>{a.dragCoordinates=null},mie=bh({DID_DRAG:fie,DID_END_DRAG:hie}),pie=({root:a,props:c,actions:f})=>{if(mie({root:a,props:c,actions:f}),a.ref.list.dragCoordinates=c.dragCoordinates,c.overflowing&&!c.overflow&&(c.overflowing=!1,a.element.dataset.state="",a.height=null),c.overflow){const y=Math.round(c.overflow);y!==a.height&&(c.overflowing=!0,a.element.dataset.state="overflow",a.height=y)}},gie=iu({create:die,write:pie,name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),yv=(a,c,f,y="")=>{f?ru(a,c,y):a.removeAttribute(c)},vie=a=>{if(!(!a||a.value==="")){try{a.value=""}catch{}if(a.value){const c=l_("form"),f=a.parentNode,y=a.nextSibling;c.appendChild(a),c.reset(),y?f.insertBefore(a,y):f.appendChild(a)}}},bie=({root:a,props:c})=>{a.element.id=`filepond--browser-${c.id}`,ru(a.element,"name",a.query("GET_NAME")),ru(a.element,"aria-controls",`filepond--assistant-${c.id}`),ru(a.element,"aria-labelledby",`filepond--drop-label-${c.id}`),yee({root:a,action:{value:a.query("GET_ACCEPTED_FILE_TYPES")}}),_ee({root:a,action:{value:a.query("GET_ALLOW_MULTIPLE")}}),Eee({root:a,action:{value:a.query("GET_ALLOW_DIRECTORIES_ONLY")}}),PZ({root:a}),wee({root:a,action:{value:a.query("GET_REQUIRED")}}),Tee({root:a,action:{value:a.query("GET_CAPTURE_METHOD")}}),a.ref.handleChange=f=>{if(!a.element.value)return;const y=Array.from(a.element.files).map(S=>(S._relativePath=S.webkitRelativePath,S));setTimeout(()=>{c.onload(y),vie(a.element)},250)},a.element.addEventListener("change",a.ref.handleChange)},yee=({root:a,action:c})=>{a.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&yv(a.element,"accept",!!c.value,c.value?c.value.join(","):"")},_ee=({root:a,action:c})=>{yv(a.element,"multiple",c.value)},Eee=({root:a,action:c})=>{yv(a.element,"webkitdirectory",c.value)},PZ=({root:a})=>{const c=a.query("GET_DISABLED"),f=a.query("GET_ALLOW_BROWSE"),y=c||!f;yv(a.element,"disabled",y)},wee=({root:a,action:c})=>{c.value?a.query("GET_TOTAL_ITEMS")===0&&yv(a.element,"required",!0):yv(a.element,"required",!1)},Tee=({root:a,action:c})=>{yv(a.element,"capture",!!c.value,c.value===!0?"":c.value)},dQ=({root:a})=>{const{element:c}=a;a.query("GET_TOTAL_ITEMS")>0?(yv(c,"required",!1),yv(c,"name",!1)):(yv(c,"name",!0,a.query("GET_NAME")),a.query("GET_CHECK_VALIDITY")&&c.setCustomValidity(""),a.query("GET_REQUIRED")&&yv(c,"required",!0))},yie=({root:a})=>{a.query("GET_CHECK_VALIDITY")&&a.element.setCustomValidity(a.query("GET_LABEL_INVALID_FIELD"))},_ie=iu({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:bie,destroy:({root:a})=>{a.element.removeEventListener("change",a.ref.handleChange)},write:bh({DID_LOAD_ITEM:dQ,DID_REMOVE_ITEM:dQ,DID_THROW_ITEM_INVALID:yie,DID_SET_DISABLED:PZ,DID_SET_ALLOW_BROWSE:PZ,DID_SET_ALLOW_DIRECTORIES_ONLY:Eee,DID_SET_ALLOW_MULTIPLE:_ee,DID_SET_ACCEPTED_FILE_TYPES:yee,DID_SET_CAPTURE_METHOD:Tee,DID_SET_REQUIRED:wee})}),fQ={ENTER:13,SPACE:32},Eie=({root:a,props:c})=>{const f=l_("label");ru(f,"for",`filepond--browser-${c.id}`),ru(f,"id",`filepond--drop-label-${c.id}`),ru(f,"aria-hidden","true"),a.ref.handleKeyDown=y=>{(y.keyCode===fQ.ENTER||y.keyCode===fQ.SPACE)&&(y.preventDefault(),a.ref.label.click())},a.ref.handleClick=y=>{y.target===f||f.contains(y.target)||a.ref.label.click()},f.addEventListener("keydown",a.ref.handleKeyDown),a.element.addEventListener("click",a.ref.handleClick),Cee(f,c.caption),a.appendChild(f),a.ref.label=f},Cee=(a,c)=>{a.innerHTML=c;const f=a.querySelector(".filepond--label-action");return f&&ru(f,"tabindex","0"),c},wie=iu({name:"drop-label",ignoreRect:!0,create:Eie,destroy:({root:a})=>{a.ref.label.addEventListener("keydown",a.ref.handleKeyDown),a.element.removeEventListener("click",a.ref.handleClick)},write:bh({DID_SET_LABEL_IDLE:({root:a,action:c})=>{Cee(a.ref.label,c.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),Tie=iu({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),Cie=({root:a})=>{const c=a.rect.element.width*.5,f=a.rect.element.height*.5;a.ref.blob=a.appendChildView(a.createChildView(Tie,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:c,translateY:f}))},Sie=({root:a,action:c})=>{if(!a.ref.blob){Cie({root:a});return}a.ref.blob.translateX=c.position.scopeLeft,a.ref.blob.translateY=c.position.scopeTop,a.ref.blob.scaleX=1,a.ref.blob.scaleY=1,a.ref.blob.opacity=1},xie=({root:a})=>{a.ref.blob&&(a.ref.blob.opacity=0)},Aie=({root:a})=>{a.ref.blob&&(a.ref.blob.scaleX=2.5,a.ref.blob.scaleY=2.5,a.ref.blob.opacity=0)},Oie=({root:a,props:c,actions:f})=>{Rie({root:a,props:c,actions:f});const{blob:y}=a.ref;f.length===0&&y&&y.opacity===0&&(a.removeChildView(y),a.ref.blob=null)},Rie=bh({DID_DRAG:Sie,DID_DROP:Aie,DID_END_DRAG:xie}),Iie=iu({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:Oie}),See=(a,c)=>{try{const f=new DataTransfer;c.forEach(y=>{y instanceof File?f.items.add(y):f.items.add(new File([y],y.name,{type:y.type}))}),a.files=f.files}catch{return!1}return!0},Die=({root:a})=>a.ref.fields={},WH=(a,c)=>a.ref.fields[c],wY=a=>{a.query("GET_ACTIVE_ITEMS").forEach(c=>{a.ref.fields[c.id]&&a.element.appendChild(a.ref.fields[c.id])})},hQ=({root:a})=>wY(a),Nie=({root:a,action:c})=>{const S=!(a.query("GET_ITEM",c.id).origin===Au.LOCAL)&&a.query("SHOULD_UPDATE_FILE_INPUT"),D=l_("input");D.type=S?"file":"hidden",D.name=a.query("GET_NAME"),D.disabled=a.query("GET_DISABLED"),a.ref.fields[c.id]=D,wY(a)},Mie=({root:a,action:c})=>{const f=WH(a,c.id);if(!f||(c.serverFileReference!==null&&(f.value=c.serverFileReference),!a.query("SHOULD_UPDATE_FILE_INPUT")))return;const y=a.query("GET_ITEM",c.id);See(f,[y.file])},kie=({root:a,action:c})=>{a.query("SHOULD_UPDATE_FILE_INPUT")&&setTimeout(()=>{const f=WH(a,c.id);f&&See(f,[c.file])},0)},Pie=({root:a})=>{a.element.disabled=a.query("GET_DISABLED")},Lie=({root:a,action:c})=>{const f=WH(a,c.id);f&&(f.parentNode&&f.parentNode.removeChild(f),delete a.ref.fields[c.id])},$ie=({root:a,action:c})=>{const f=WH(a,c.id);f&&(c.value===null?f.removeAttribute("value"):f.value=c.value,wY(a))},Bie=bh({DID_SET_DISABLED:Pie,DID_ADD_ITEM:Nie,DID_LOAD_ITEM:Mie,DID_REMOVE_ITEM:Lie,DID_DEFINE_VALUE:$ie,DID_PREPARE_OUTPUT:kie,DID_REORDER_ITEMS:hQ,DID_SORT_ITEMS:hQ}),Fie=iu({tag:"fieldset",name:"data",create:Die,write:Bie,ignoreRect:!0}),Hie=a=>"getRootNode"in a?a.getRootNode():document,Vie=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],Uie=["css","csv","html","txt"],zie={zip:"zip|compressed",epub:"application/epub+zip"},xee=(a="")=>(a=a.toLowerCase(),Vie.includes(a)?"image/"+(a==="jpg"?"jpeg":a==="svg"?"svg+xml":a):Uie.includes(a)?"text/"+a:zie[a]||""),TY=a=>new Promise((c,f)=>{const y=Xie(a);if(y.length&&!Wie(a))return c(y);Gie(a).then(c)}),Wie=a=>a.files?a.files.length>0:!1,Gie=a=>new Promise((c,f)=>{const y=(a.items?Array.from(a.items):[]).filter(S=>qie(S)).map(S=>jie(S));if(!y.length){c(a.files?Array.from(a.files):[]);return}Promise.all(y).then(S=>{const D=[];S.forEach(I=>{D.push.apply(D,I)}),c(D.filter(I=>I).map(I=>(I._relativePath||(I._relativePath=I.webkitRelativePath),I)))}).catch(console.error)}),qie=a=>{if(Aee(a)){const c=CY(a);if(c)return c.isFile||c.isDirectory}return a.kind==="file"},jie=a=>new Promise((c,f)=>{if(Kie(a)){Zie(CY(a)).then(c).catch(f);return}c([a.getAsFile()])}),Zie=a=>new Promise((c,f)=>{const y=[];let S=0,D=0;const I=()=>{D===0&&S===0&&c(y)},B=U=>{S++;const j=U.createReader(),Y=()=>{j.readEntries(ne=>{if(ne.length===0){S--,I();return}ne.forEach(ve=>{ve.isDirectory?B(ve):(D++,ve.file(ie=>{const fe=Yie(ie);ve.fullPath&&(fe._relativePath=ve.fullPath),y.push(fe),D--,I()}))}),Y()},f)};Y()};B(a)}),Yie=a=>{if(a.type.length)return a;const c=a.lastModifiedDate,f=a.name,y=xee(zH(a.name));return y.length&&(a=a.slice(0,a.size,y),a.name=f,a.lastModifiedDate=c),a},Kie=a=>Aee(a)&&(CY(a)||{}).isDirectory,Aee=a=>"webkitGetAsEntry"in a,CY=a=>a.webkitGetAsEntry(),Xie=a=>{let c=[];try{if(c=Jie(a),c.length)return c;c=Qie(a)}catch{}return c},Qie=a=>{let c=a.getData("url");return typeof c=="string"&&c.length?[c]:[]},Jie=a=>{let c=a.getData("text/html");if(typeof c=="string"&&c.length){const f=c.match(/src\s*=\s*"(.+?)"/);if(f)return[f[1]]}return[]},EH=[],cx=a=>({pageLeft:a.pageX,pageTop:a.pageY,scopeLeft:a.offsetX||a.layerX,scopeTop:a.offsetY||a.layerY}),eae=(a,c,f)=>{const y=tae(c),S={element:a,filterElement:f,state:null,ondrop:()=>{},onenter:()=>{},ondrag:()=>{},onexit:()=>{},onload:()=>{},allowdrop:()=>{}};return S.destroy=y.addListener(S),S},tae=a=>{const c=EH.find(y=>y.element===a);if(c)return c;const f=nae(a);return EH.push(f),f},nae=a=>{const c=[],f={dragenter:sae,dragover:rae,dragleave:aae,drop:iae},y={};dl(f,(D,I)=>{y[D]=I(a,c),a.addEventListener(D,y[D],!1)});const S={element:a,addListener:D=>(c.push(D),()=>{c.splice(c.indexOf(D),1),c.length===0&&(EH.splice(EH.indexOf(S),1),dl(f,I=>{a.removeEventListener(I,y[I],!1)}))})};return S},oae=(a,c)=>("elementFromPoint"in a||(a=document),a.elementFromPoint(c.x,c.y)),SY=(a,c)=>{const f=Hie(c),y=oae(f,{x:a.pageX-window.pageXOffset,y:a.pageY-window.pageYOffset});return y===c||c.contains(y)};let Oee=null;const q5=(a,c)=>{try{a.dropEffect=c}catch{}},sae=(a,c)=>f=>{f.preventDefault(),Oee=f.target,c.forEach(y=>{const{element:S,onenter:D}=y;SY(f,S)&&(y.state="enter",D(cx(f)))})},rae=(a,c)=>f=>{f.preventDefault();const y=f.dataTransfer;TY(y).then(S=>{let D=!1;c.some(I=>{const{filterElement:B,element:U,onenter:j,onexit:Y,ondrag:ne,allowdrop:ve}=I;q5(y,"copy");const ie=ve(S);if(!ie){q5(y,"none");return}if(SY(f,U)){if(D=!0,I.state===null){I.state="enter",j(cx(f));return}if(I.state="over",B&&!ie){q5(y,"none");return}ne(cx(f))}else B&&!D&&q5(y,"none"),I.state&&(I.state=null,Y(cx(f)))})})},iae=(a,c)=>f=>{f.preventDefault();const y=f.dataTransfer;TY(y).then(S=>{c.forEach(D=>{const{filterElement:I,element:B,ondrop:U,onexit:j,allowdrop:Y}=D;if(D.state=null,!(I&&!SY(f,B))){if(!Y(S))return j(cx(f));U(cx(f),S)}})})},aae=(a,c)=>f=>{Oee===f.target&&c.forEach(y=>{const{onexit:S}=y;y.state=null,S(cx(f))})},cae=(a,c,f)=>{a.classList.add("filepond--hopper");const{catchesDropsOnPage:y,requiresDropOnElement:S,filterItems:D=Y=>Y}=f,I=eae(a,y?document.documentElement:a,S);let B="",U="";I.allowdrop=Y=>c(D(Y)),I.ondrop=(Y,ne)=>{const ve=D(ne);if(!c(ve)){j.ondragend(Y);return}U="drag-drop",j.onload(ve,Y)},I.ondrag=Y=>{j.ondrag(Y)},I.onenter=Y=>{U="drag-over",j.ondragstart(Y)},I.onexit=Y=>{U="drag-exit",j.ondragend(Y)};const j={updateHopperState:()=>{B!==U&&(a.dataset.hopperState=U,B=U)},onload:()=>{},ondragstart:()=>{},ondrag:()=>{},ondragend:()=>{},destroy:()=>{I.destroy()}};return j};let LZ=!1;const FO=[],Ree=a=>{const c=document.activeElement;if(c&&/textarea|input/i.test(c.nodeName)){let f=!1,y=c;for(;y!==document.body;){if(y.classList.contains("filepond--root")){f=!0;break}y=y.parentNode}if(!f)return}TY(a.clipboardData).then(f=>{f.length&&FO.forEach(y=>y(f))})},lae=a=>{FO.includes(a)||(FO.push(a),!LZ&&(LZ=!0,document.addEventListener("paste",Ree)))},uae=a=>{gY(FO,FO.indexOf(a)),FO.length===0&&(document.removeEventListener("paste",Ree),LZ=!1)},dae=()=>{const a=f=>{c.onload(f)},c={destroy:()=>{uae(a)},onload:()=>{}};return lae(a),c},fae=({root:a,props:c})=>{a.element.id=`filepond--assistant-${c.id}`,ru(a.element,"role","status"),ru(a.element,"aria-live","polite"),ru(a.element,"aria-relevant","additions")};let mQ=null,pQ=null;const tZ=[],GH=(a,c)=>{a.element.textContent=c},hae=a=>{a.element.textContent=""},Iee=(a,c,f)=>{const y=a.query("GET_TOTAL_ITEMS");GH(a,`${f} ${c}, ${y} ${y===1?a.query("GET_LABEL_FILE_COUNT_SINGULAR"):a.query("GET_LABEL_FILE_COUNT_PLURAL")}`),clearTimeout(pQ),pQ=setTimeout(()=>{hae(a)},1500)},Dee=a=>a.element.parentNode.contains(document.activeElement),mae=({root:a,action:c})=>{if(!Dee(a))return;a.element.textContent="";const f=a.query("GET_ITEM",c.id);tZ.push(f.filename),clearTimeout(mQ),mQ=setTimeout(()=>{Iee(a,tZ.join(", "),a.query("GET_LABEL_FILE_ADDED")),tZ.length=0},750)},pae=({root:a,action:c})=>{if(!Dee(a))return;const f=c.item;Iee(a,f.filename,a.query("GET_LABEL_FILE_REMOVED"))},gae=({root:a,action:c})=>{const y=a.query("GET_ITEM",c.id).filename,S=a.query("GET_LABEL_FILE_PROCESSING_COMPLETE");GH(a,`${y} ${S}`)},gQ=({root:a,action:c})=>{const y=a.query("GET_ITEM",c.id).filename,S=a.query("GET_LABEL_FILE_PROCESSING_ABORTED");GH(a,`${y} ${S}`)},j5=({root:a,action:c})=>{const y=a.query("GET_ITEM",c.id).filename;GH(a,`${c.status.main} ${y} ${c.status.sub}`)},vae=iu({create:fae,ignoreRect:!0,ignoreRectUpdate:!0,write:bh({DID_LOAD_ITEM:mae,DID_REMOVE_ITEM:pae,DID_COMPLETE_ITEM_PROCESSING:gae,DID_ABORT_ITEM_PROCESSING:gQ,DID_REVERT_ITEM_PROCESSING:gQ,DID_THROW_ITEM_REMOVE_ERROR:j5,DID_THROW_ITEM_LOAD_ERROR:j5,DID_THROW_ITEM_INVALID:j5,DID_THROW_ITEM_PROCESSING_ERROR:j5}),tag:"span",name:"assistant"}),Nee=(a,c="-")=>a.replace(new RegExp(`${c}.`,"g"),f=>f.charAt(1).toUpperCase()),Mee=(a,c=16,f=!0)=>{let y=Date.now(),S=null;return(...D)=>{clearTimeout(S);const I=Date.now()-y,B=()=>{y=Date.now(),a(...D)};I<c?f||(S=setTimeout(B,c-I)):B()}},bae=1e6,wH=a=>a.preventDefault(),yae=({root:a,props:c})=>{const f=a.query("GET_ID");f&&(a.element.id=f);const y=a.query("GET_CLASS_NAME");y&&y.split(" ").filter(U=>U.length).forEach(U=>{a.element.classList.add(U)}),a.ref.label=a.appendChildView(a.createChildView(wie,{...c,translateY:null,caption:a.query("GET_LABEL_IDLE")})),a.ref.list=a.appendChildView(a.createChildView(gie,{translateY:null})),a.ref.panel=a.appendChildView(a.createChildView(bee,{name:"panel-root"})),a.ref.assistant=a.appendChildView(a.createChildView(vae,{...c})),a.ref.data=a.appendChildView(a.createChildView(Fie,{...c})),a.ref.measure=l_("div"),a.ref.measure.style.height="100%",a.element.appendChild(a.ref.measure),a.ref.bounds=null,a.query("GET_STYLES").filter(U=>!c_(U.value)).map(({name:U,value:j})=>{a.element.dataset[U]=j}),a.ref.widthPrevious=null,a.ref.widthUpdated=Mee(()=>{a.ref.updateHistory=[],a.dispatch("DID_RESIZE_ROOT")},250),a.ref.previousAspectRatio=null,a.ref.updateHistory=[];const S=window.matchMedia("(pointer: fine) and (hover: hover)").matches,D="PointerEvent"in window;a.query("GET_ALLOW_REORDER")&&D&&!S&&(a.element.addEventListener("touchmove",wH,{passive:!1}),a.element.addEventListener("gesturestart",wH));const I=a.query("GET_CREDITS");if(I.length===2){const U=document.createElement("a");U.className="filepond--credits",U.setAttribute("aria-hidden","true"),U.href=I[0],U.tabindex=-1,U.target="_blank",U.rel="noopener noreferrer",U.textContent=I[1],a.element.appendChild(U),a.ref.credits=U}},_ae=({root:a,props:c,actions:f})=>{if(Sae({root:a,props:c,actions:f}),f.filter(H=>/^DID_SET_STYLE_/.test(H.type)).filter(H=>!c_(H.data.value)).map(({type:H,data:Ee})=>{const qe=Nee(H.substring(8).toLowerCase(),"_");a.element.dataset[qe]=Ee.value,a.invalidateLayout()}),a.rect.element.hidden)return;a.rect.element.width!==a.ref.widthPrevious&&(a.ref.widthPrevious=a.rect.element.width,a.ref.widthUpdated());let y=a.ref.bounds;y||(y=a.ref.bounds=Tae(a),a.element.removeChild(a.ref.measure),a.ref.measure=null);const{hopper:S,label:D,list:I,panel:B}=a.ref;S&&S.updateHopperState();const U=a.query("GET_PANEL_ASPECT_RATIO"),j=a.query("GET_ALLOW_MULTIPLE"),Y=a.query("GET_TOTAL_ITEMS"),ne=j?a.query("GET_MAX_FILES")||bae:1,ve=Y===ne,ie=f.find(H=>H.type==="DID_ADD_ITEM");if(ve&&ie){const H=ie.data.interactionMethod;D.opacity=0,j?D.translateY=-40:H===Qg.API?D.translateX=40:H===Qg.BROWSE?D.translateY=40:D.translateY=30}else ve||(D.opacity=1,D.translateX=0,D.translateY=0);const fe=Eae(a),ue=wae(a),ce=D.rect.element.height,re=!j||ve?0:ce,me=ve?I.rect.element.marginTop:0,K=Y===0?0:I.rect.element.marginBottom,De=re+me+ue.visual+K,Ge=re+me+ue.bounds+K;if(I.translateY=Math.max(0,re-I.rect.element.marginTop)-fe.top,U){const H=a.rect.element.width,Ee=H*U;U!==a.ref.previousAspectRatio&&(a.ref.previousAspectRatio=U,a.ref.updateHistory=[]);const qe=a.ref.updateHistory;qe.push(H);const ut=2;if(qe.length>ut*2){const ke=qe.length,_e=ke-10;let mn=0;for(let wt=ke;wt>=_e;wt--)if(qe[wt]===qe[wt-2]&&mn++,mn>=ut)return}B.scalable=!1,B.height=Ee;const yt=Ee-re-(K-fe.bottom)-(ve?me:0);ue.visual>yt?I.overflow=yt:I.overflow=null,a.height=Ee}else if(y.fixedHeight){B.scalable=!1;const H=y.fixedHeight-re-(K-fe.bottom)-(ve?me:0);ue.visual>H?I.overflow=H:I.overflow=null}else if(y.cappedHeight){const H=De>=y.cappedHeight,Ee=Math.min(y.cappedHeight,De);B.scalable=!0,B.height=H?Ee:Ee-fe.top-fe.bottom;const qe=Ee-re-(K-fe.bottom)-(ve?me:0);De>y.cappedHeight&&ue.visual>qe?I.overflow=qe:I.overflow=null,a.height=Math.min(y.cappedHeight,Ge-fe.top-fe.bottom)}else{const H=Y>0?fe.top+fe.bottom:0;B.scalable=!0,B.height=Math.max(ce,De-H),a.height=Math.max(ce,Ge-H)}a.ref.credits&&B.heightCurrent&&(a.ref.credits.style.transform=`translateY(${B.heightCurrent}px)`)},Eae=a=>{const c=a.ref.list.childViews[0].childViews[0];return c?{top:c.rect.element.marginTop,bottom:c.rect.element.marginBottom}:{top:0,bottom:0}},wae=a=>{let c=0,f=0;const y=a.ref.list,S=y.childViews[0],D=S.childViews.filter(me=>me.rect.element.height),I=a.query("GET_ACTIVE_ITEMS").map(me=>D.find(K=>K.id===me.id)).filter(me=>me);if(I.length===0)return{visual:c,bounds:f};const B=S.rect.element.width,U=EY(S,I,y.dragCoordinates),j=I[0].rect.element,Y=j.marginTop+j.marginBottom,ne=j.marginLeft+j.marginRight,ve=j.width+ne,ie=j.height+Y,fe=typeof U<"u"&&U>=0?1:0,ue=I.find(me=>me.markedForRemoval&&me.opacity<.45)?-1:0,ce=I.length+fe+ue,re=_Y(B,ve);return re===1?I.forEach(me=>{const K=me.rect.element.height+Y;f+=K,c+=K*me.opacity}):(f=Math.ceil(ce/re)*ie,c=f),{visual:c,bounds:f}},Tae=a=>{const c=a.ref.measureHeight||null;return{cappedHeight:parseInt(a.style.maxHeight,10)||null,fixedHeight:c===0?null:c}},xY=(a,c)=>{const f=a.query("GET_ALLOW_REPLACE"),y=a.query("GET_ALLOW_MULTIPLE"),S=a.query("GET_TOTAL_ITEMS");let D=a.query("GET_MAX_FILES");const I=c.length;return!y&&I>1?(a.dispatch("DID_THROW_MAX_FILES",{source:c,error:kl("warning",0,"Max files")}),!0):(D=y?D:1,!y&&f?!1:eR(D)&&S+I>D?(a.dispatch("DID_THROW_MAX_FILES",{source:c,error:kl("warning",0,"Max files")}),!0):!1)},Cae=(a,c,f)=>{const y=a.childViews[0];return EY(y,c,{left:f.scopeLeft-y.rect.element.left,top:f.scopeTop-(a.rect.outer.top+a.rect.element.marginTop+a.rect.element.scrollTop)})},vQ=a=>{const c=a.query("GET_ALLOW_DROP"),f=a.query("GET_DISABLED"),y=c&&!f;if(y&&!a.ref.hopper){const S=cae(a.element,D=>{const I=a.query("GET_BEFORE_DROP_FILE")||(()=>!0);return a.query("GET_DROP_VALIDATION")?D.every(U=>dx("ALLOW_HOPPER_ITEM",U,{query:a.query}).every(j=>j===!0)&&I(U)):!0},{filterItems:D=>{const I=a.query("GET_IGNORED_FILES");return D.filter(B=>YO(B)?!I.includes(B.name.toLowerCase()):!0)},catchesDropsOnPage:a.query("GET_DROP_ON_PAGE"),requiresDropOnElement:a.query("GET_DROP_ON_ELEMENT")});S.onload=(D,I)=>{const U=a.ref.list.childViews[0].childViews.filter(Y=>Y.rect.element.height),j=a.query("GET_ACTIVE_ITEMS").map(Y=>U.find(ne=>ne.id===Y.id)).filter(Y=>Y);vv("ADD_ITEMS",D,{dispatch:a.dispatch}).then(Y=>{if(xY(a,Y))return!1;a.dispatch("ADD_ITEMS",{items:Y,index:Cae(a.ref.list,j,I),interactionMethod:Qg.DROP})}),a.dispatch("DID_DROP",{position:I}),a.dispatch("DID_END_DRAG",{position:I})},S.ondragstart=D=>{a.dispatch("DID_START_DRAG",{position:D})},S.ondrag=Mee(D=>{a.dispatch("DID_DRAG",{position:D})}),S.ondragend=D=>{a.dispatch("DID_END_DRAG",{position:D})},a.ref.hopper=S,a.ref.drip=a.appendChildView(a.createChildView(Iie))}else!y&&a.ref.hopper&&(a.ref.hopper.destroy(),a.ref.hopper=null,a.removeChildView(a.ref.drip))},bQ=(a,c)=>{const f=a.query("GET_ALLOW_BROWSE"),y=a.query("GET_DISABLED"),S=f&&!y;S&&!a.ref.browser?a.ref.browser=a.appendChildView(a.createChildView(_ie,{...c,onload:D=>{vv("ADD_ITEMS",D,{dispatch:a.dispatch}).then(I=>{if(xY(a,I))return!1;a.dispatch("ADD_ITEMS",{items:I,index:-1,interactionMethod:Qg.BROWSE})})}}),0):!S&&a.ref.browser&&(a.removeChildView(a.ref.browser),a.ref.browser=null)},yQ=a=>{const c=a.query("GET_ALLOW_PASTE"),f=a.query("GET_DISABLED"),y=c&&!f;y&&!a.ref.paster?(a.ref.paster=dae(),a.ref.paster.onload=S=>{vv("ADD_ITEMS",S,{dispatch:a.dispatch}).then(D=>{if(xY(a,D))return!1;a.dispatch("ADD_ITEMS",{items:D,index:-1,interactionMethod:Qg.PASTE})})}):!y&&a.ref.paster&&(a.ref.paster.destroy(),a.ref.paster=null)},Sae=bh({DID_SET_ALLOW_BROWSE:({root:a,props:c})=>{bQ(a,c)},DID_SET_ALLOW_DROP:({root:a})=>{vQ(a)},DID_SET_ALLOW_PASTE:({root:a})=>{yQ(a)},DID_SET_DISABLED:({root:a,props:c})=>{vQ(a),yQ(a),bQ(a,c),a.query("GET_DISABLED")?a.element.dataset.disabled="disabled":a.element.removeAttribute("data-disabled")}}),xae=iu({name:"root",read:({root:a})=>{a.ref.measure&&(a.ref.measureHeight=a.ref.measure.offsetHeight)},create:yae,write:_ae,destroy:({root:a})=>{a.ref.paster&&a.ref.paster.destroy(),a.ref.hopper&&a.ref.hopper.destroy(),a.element.removeEventListener("touchmove",wH),a.element.removeEventListener("gesturestart",wH)},mixins:{styles:["height"]}}),Aae=(a={})=>{let c=null;const f=_H(),y=Woe(Rse(f),[jse,Nse(f)],[bre,Dse(f)]);y.dispatch("SET_OPTIONS",{options:a});const S=()=>{document.hidden||y.dispatch("KICK")};document.addEventListener("visibilitychange",S);let D=null,I=!1,B=!1,U=null,j=null;const Y=()=>{I||(I=!0),clearTimeout(D),D=setTimeout(()=>{I=!1,U=null,j=null,B&&(B=!1,y.dispatch("DID_STOP_RESIZE"))},500)};window.addEventListener("resize",Y);const ne=xae(y,{id:pY()});let ve=!1,ie=!1;const fe={_read:()=>{I&&(j=window.innerWidth,U||(U=j),!B&&j!==U&&(y.dispatch("DID_START_RESIZE"),B=!0)),ie&&ve&&(ve=ne.element.offsetParent===null),!ve&&(ne._read(),ie=ne.rect.element.hidden)},_write:P=>{const Rt=y.processActionQueue().filter(tt=>!/^SET_/.test(tt.type));ve&&!Rt.length||(me(Rt),ve=ne._write(P,Rt,B),Pse(y.query("GET_ITEMS")),ve&&y.processDispatchQueue())}},ue=P=>Rt=>{const tt={type:P};if(!Rt)return tt;if(Rt.hasOwnProperty("error")&&(tt.error=Rt.error?{...Rt.error}:null),Rt.status&&(tt.status={...Rt.status}),Rt.file&&(tt.output=Rt.file),Rt.source)tt.file=Rt.source;else if(Rt.item||Rt.id){const qt=Rt.item?Rt.item:y.query("GET_ITEM",Rt.id);tt.file=qt?_m(qt):null}return Rt.items&&(tt.items=Rt.items.map(_m)),/progress/.test(P)&&(tt.progress=Rt.progress),Rt.hasOwnProperty("origin")&&Rt.hasOwnProperty("target")&&(tt.origin=Rt.origin,tt.target=Rt.target),tt},ce={DID_DESTROY:ue("destroy"),DID_INIT:ue("init"),DID_THROW_MAX_FILES:ue("warning"),DID_INIT_ITEM:ue("initfile"),DID_START_ITEM_LOAD:ue("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:ue("addfileprogress"),DID_LOAD_ITEM:ue("addfile"),DID_THROW_ITEM_INVALID:[ue("error"),ue("addfile")],DID_THROW_ITEM_LOAD_ERROR:[ue("error"),ue("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[ue("error"),ue("removefile")],DID_PREPARE_OUTPUT:ue("preparefile"),DID_START_ITEM_PROCESSING:ue("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:ue("processfileprogress"),DID_ABORT_ITEM_PROCESSING:ue("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:ue("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:ue("processfiles"),DID_REVERT_ITEM_PROCESSING:ue("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[ue("error"),ue("processfile")],DID_REMOVE_ITEM:ue("removefile"),DID_UPDATE_ITEMS:ue("updatefiles"),DID_ACTIVATE_ITEM:ue("activatefile"),DID_REORDER_ITEMS:ue("reorderfiles")},re=P=>{const Rt={pond:Ot,...P};delete Rt.type,ne.element.dispatchEvent(new CustomEvent(`FilePond:${P.type}`,{detail:Rt,bubbles:!0,cancelable:!0,composed:!0}));const tt=[];P.hasOwnProperty("error")&&tt.push(P.error),P.hasOwnProperty("file")&&tt.push(P.file);const qt=["type","error","file"];Object.keys(P).filter(je=>!qt.includes(je)).forEach(je=>tt.push(P[je])),Ot.fire(P.type,...tt);const Vt=y.query(`GET_ON${P.type.toUpperCase()}`);Vt&&Vt(...tt)},me=P=>{P.length&&P.filter(Rt=>ce[Rt.type]).forEach(Rt=>{const tt=ce[Rt.type];(Array.isArray(tt)?tt:[tt]).forEach(qt=>{Rt.type==="DID_INIT_ITEM"?re(qt(Rt.data)):setTimeout(()=>{re(qt(Rt.data))},0)})})},K=P=>y.dispatch("SET_OPTIONS",{options:P}),De=P=>y.query("GET_ACTIVE_ITEM",P),Ge=P=>new Promise((Rt,tt)=>{y.dispatch("REQUEST_ITEM_PREPARE",{query:P,success:qt=>{Rt(qt)},failure:qt=>{tt(qt)}})}),H=(P,Rt={})=>new Promise((tt,qt)=>{ut([{source:P,options:Rt}],{index:Rt.index}).then(Vt=>tt(Vt&&Vt[0])).catch(qt)}),Ee=P=>P.file&&P.id,qe=(P,Rt)=>(typeof P=="object"&&!Ee(P)&&!Rt&&(Rt=P,P=void 0),y.dispatch("REMOVE_ITEM",{...Rt,query:P}),y.query("GET_ACTIVE_ITEM",P)===null),ut=(...P)=>new Promise((Rt,tt)=>{const qt=[],Vt={};if(FH(P[0]))qt.push.apply(qt,P[0]),Object.assign(Vt,P[1]||{});else{const je=P[P.length-1];typeof je=="object"&&!(je instanceof Blob)&&Object.assign(Vt,P.pop()),qt.push(...P)}y.dispatch("ADD_ITEMS",{items:qt,index:Vt.index,interactionMethod:Qg.API,success:Rt,failure:tt})}),yt=()=>y.query("GET_ACTIVE_ITEMS"),ke=P=>new Promise((Rt,tt)=>{y.dispatch("REQUEST_ITEM_PROCESSING",{query:P,success:qt=>{Rt(qt)},failure:qt=>{tt(qt)}})}),_e=(...P)=>{const Rt=Array.isArray(P[0])?P[0]:P,tt=Rt.length?Rt:yt();return Promise.all(tt.map(Ge))},mn=(...P)=>{const Rt=Array.isArray(P[0])?P[0]:P;if(!Rt.length){const tt=yt().filter(qt=>!(qt.status===Bs.IDLE&&qt.origin===Au.LOCAL)&&qt.status!==Bs.PROCESSING&&qt.status!==Bs.PROCESSING_COMPLETE&&qt.status!==Bs.PROCESSING_REVERT_ERROR);return Promise.all(tt.map(ke))}return Promise.all(Rt.map(ke))},wt=(...P)=>{const Rt=Array.isArray(P[0])?P[0]:P;let tt;typeof Rt[Rt.length-1]=="object"?tt=Rt.pop():Array.isArray(P[0])&&(tt=P[1]);const qt=yt();return Rt.length?Rt.map(je=>ex(je)?qt[je]?qt[je].id:null:je).filter(je=>je).map(je=>qe(je,tt)):Promise.all(qt.map(je=>qe(je,tt)))},Ot={...UH(),...fe,...Ise(y,f),setOptions:K,addFile:H,addFiles:ut,getFile:De,processFile:ke,prepareFile:Ge,removeFile:qe,moveFile:(P,Rt)=>y.dispatch("MOVE_ITEM",{query:P,index:Rt}),getFiles:yt,processFiles:mn,removeFiles:wt,prepareFiles:_e,sort:P=>y.dispatch("SORT",{compare:P}),browse:()=>{var P=ne.element.querySelector("input[type=file]");P&&P.click()},destroy:()=>{Ot.fire("destroy",ne.element),y.dispatch("ABORT_ALL"),ne._destroy(),window.removeEventListener("resize",Y),document.removeEventListener("visibilitychange",S),y.dispatch("DID_DESTROY")},insertBefore:P=>UX(ne.element,P),insertAfter:P=>zX(ne.element,P),appendTo:P=>P.appendChild(ne.element),replaceElement:P=>{UX(ne.element,P),P.parentNode.removeChild(P),c=P},restoreElement:()=>{c&&(zX(c,ne.element),ne.element.parentNode.removeChild(ne.element),c=null)},isAttachedTo:P=>ne.element===P||c===P,element:{get:()=>ne.element},status:{get:()=>y.query("GET_STATUS")}};return y.dispatch("DID_INIT"),Nw(Ot)},kee=(a={})=>{const c={};return dl(_H(),(y,S)=>{c[y]=S[0]}),Aae({...c,...a})},Oae=a=>a.charAt(0).toLowerCase()+a.slice(1),Rae=a=>Nee(a.replace(/^data-/,"")),Pee=(a,c)=>{dl(c,(f,y)=>{dl(a,(S,D)=>{const I=new RegExp(f);if(!I.test(S)||(delete a[S],y===!1))return;if(vh(y)){a[y]=D;return}const U=y.group;sd(y)&&!a[U]&&(a[U]={}),a[U][Oae(S.replace(I,""))]=D}),y.mapping&&Pee(a[y.group],y.mapping)})},Iae=(a,c={})=>{const f=[];dl(a.attributes,S=>{f.push(a.attributes[S])});const y=f.filter(S=>S.name).reduce((S,D)=>{const I=ru(a,D.name);return S[Rae(D.name)]=I===D.name?!0:I,S},{});return Pee(y,c),y},Dae=(a,c={})=>{const f={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};dx("SET_ATTRIBUTE_TO_OPTION_MAP",f);const y={...c},S=Iae(a.nodeName==="FIELDSET"?a.querySelector("input[type=file]"):a,f);Object.keys(S).forEach(I=>{sd(S[I])?(sd(y[I])||(y[I]={}),Object.assign(y[I],S[I])):y[I]=S[I]}),y.files=(c.files||[]).concat(Array.from(a.querySelectorAll("input:not([type=file])")).map(I=>({source:I.value,options:{type:I.dataset.type}})));const D=kee(y);return a.files&&Array.from(a.files).forEach(I=>{D.addFile(I)}),D.replaceElement(a),D},Nae=(...a)=>zoe(a[0])?Dae(...a):kee(...a),Mae=["fire","_read","_write"],_Q=a=>{const c={};return nee(a,c,Mae),c},kae=(a,c)=>a.replace(/(?:{([a-zA-Z]+)})/g,(f,y)=>c[y]),Pae=a=>{const c=new Blob(["(",a.toString(),")()"],{type:"application/javascript"}),f=URL.createObjectURL(c),y=new Worker(f);return{transfer:(S,D)=>{},post:(S,D,I)=>{const B=pY();y.onmessage=U=>{U.data.id===B&&D(U.data.message)},y.postMessage({id:B,message:S},I)},terminate:()=>{y.terminate(),URL.revokeObjectURL(f)}}},Lae=a=>new Promise((c,f)=>{const y=new Image;y.onload=()=>{c(y)},y.onerror=S=>{f(S)},y.src=a}),Lee=(a,c)=>{const f=a.slice(0,a.size,a.type);return f.lastModifiedDate=a.lastModifiedDate,f.name=c,f},$ae=a=>Lee(a,a.name),EQ=[],Bae=a=>{if(EQ.includes(a))return;EQ.push(a);const c=a({addFilter:$se,utils:{Type:vn,forin:dl,isString:vh,isFile:YO,toNaturalFileSize:pee,replaceInString:kae,getExtensionFromFilename:zH,getFilenameWithoutExtension:fee,guesstimateMimeType:xee,getFileFromBlob:ZO,getFilenameFromURL:rk,createRoute:bh,createWorker:Pae,createView:iu,createItemAPI:_m,loadImage:Lae,copyFile:$ae,renameFile:Lee,createBlob:lee,applyFilterChain:vv,text:Pl,getNumericAspectRatioFromString:ree},views:{fileActionButton:mee}});Bse(c.options)},Fae=()=>Object.prototype.toString.call(window.operamini)==="[object OperaMini]",Hae=()=>"Promise"in window,Vae=()=>"slice"in Blob.prototype,Uae=()=>"URL"in window&&"createObjectURL"in window.URL,zae=()=>"visibilityState"in document,Wae=()=>"performance"in window,Gae=()=>"supports"in(window.CSS||{}),qae=()=>/MSIE|Trident/.test(window.navigator.userAgent),$Z=(()=>{const a=KJ()&&!Fae()&&zae()&&Hae()&&Vae()&&Uae()&&Wae()&&(Gae()||qae());return()=>a})(),Aw={apps:[]},jae="filepond",fx=()=>{};let $ee={},Bee={},Fee={},BZ={},rH=fx,iH=fx,FZ=fx,HZ=fx,TH=fx,VZ=fx,UZ=fx;if($Z()){pse(()=>{Aw.apps.forEach(f=>f._read())},f=>{Aw.apps.forEach(y=>y._write(f))});const a=()=>{document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:$Z,create:rH,destroy:iH,parse:FZ,find:HZ,registerPlugin:TH,setOptions:UZ}})),document.removeEventListener("DOMContentLoaded",a)};document.readyState!=="loading"?setTimeout(()=>a(),0):document.addEventListener("DOMContentLoaded",a);const c=()=>dl(_H(),(f,y)=>{BZ[f]=y[1]});$ee={...iee},Fee={...Au},Bee={...Bs},BZ={},c(),rH=(...f)=>{const y=Nae(...f);return y.on("destroy",iH),Aw.apps.push(y),_Q(y)},iH=f=>{const y=Aw.apps.findIndex(S=>S.isAttachedTo(f));return y>=0?(Aw.apps.splice(y,1)[0].restoreElement(),!0):!1},FZ=f=>Array.from(f.querySelectorAll(`.${jae}`)).filter(D=>!Aw.apps.find(I=>I.isAttachedTo(D))).map(D=>rH(D)),HZ=f=>{const y=Aw.apps.find(S=>S.isAttachedTo(f));return y?_Q(y):null},TH=(...f)=>{f.forEach(Bae),c()},VZ=()=>{const f={};return dl(_H(),(y,S)=>{f[y]=S[0]}),f},UZ=f=>(sd(f)&&(Aw.apps.forEach(y=>{y.setOptions(f)}),Fse(f)),VZ())}const Zae=Object.freeze(Object.defineProperty({__proto__:null,get FileOrigin(){return Fee},get FileStatus(){return Bee},get OptionTypes(){return BZ},get Status(){return $ee},get create(){return rH},get destroy(){return iH},get find(){return HZ},get getOptions(){return VZ},get parse(){return FZ},get registerPlugin(){return TH},get setOptions(){return UZ},supported:$Z},Symbol.toStringTag,{value:"Module"}));/*!
 * FilePondPluginFileValidateType 1.2.8
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const Yae=({addFilter:a,utils:c})=>{const{Type:f,isString:y,replaceInString:S,guesstimateMimeType:D,getExtensionFromFilename:I,getFilenameFromURL:B}=c,U=(ie,fe)=>{const ue=(/^[^/]+/.exec(ie)||[]).pop(),ce=fe.slice(0,-2);return ue===ce},j=(ie,fe)=>ie.some(ue=>/\*$/.test(ue)?U(fe,ue):ue===fe),Y=ie=>{let fe="";if(y(ie)){const ue=B(ie),ce=I(ue);ce&&(fe=D(ce))}else fe=ie.type;return fe},ne=(ie,fe,ue)=>{if(fe.length===0)return!0;const ce=Y(ie);return ue?new Promise((re,me)=>{ue(ie,ce).then(K=>{j(fe,K)?re():me()}).catch(me)}):j(fe,ce)},ve=ie=>fe=>ie[fe]===null?!1:ie[fe]||fe;return a("SET_ATTRIBUTE_TO_OPTION_MAP",ie=>Object.assign(ie,{accept:"acceptedFileTypes"})),a("ALLOW_HOPPER_ITEM",(ie,{query:fe})=>fe("GET_ALLOW_FILE_TYPE_VALIDATION")?ne(ie,fe("GET_ACCEPTED_FILE_TYPES")):!0),a("LOAD_FILE",(ie,{query:fe})=>new Promise((ue,ce)=>{if(!fe("GET_ALLOW_FILE_TYPE_VALIDATION")){ue(ie);return}const re=fe("GET_ACCEPTED_FILE_TYPES"),me=fe("GET_FILE_VALIDATE_TYPE_DETECT_TYPE"),K=ne(ie,re,me),De=()=>{const Ge=re.map(ve(fe("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"))).filter(Ee=>Ee!==!1),H=Ge.filter(function(Ee,qe){return Ge.indexOf(Ee)===qe});ce({status:{main:fe("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:S(fe("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:H.join(", "),allButLastType:H.slice(0,-1).join(", "),lastType:H[Ge.length-1]})}})};if(typeof K=="boolean")return K?ue(ie):De();K.then(()=>{ue(ie)}).catch(De)})),{options:{allowFileTypeValidation:[!0,f.BOOLEAN],acceptedFileTypes:[[],f.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",f.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",f.STRING],fileValidateTypeLabelExpectedTypesMap:[{},f.OBJECT],fileValidateTypeDetectType:[null,f.FUNCTION]}}},Kae=typeof window<"u"&&typeof window.document<"u";Kae&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Yae}));/*!
 * FilePondPluginImagePreview 4.6.11
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const Xae=a=>/^image/.test(a.type),wQ=(a,c)=>ek(a.x*c,a.y*c),TQ=(a,c)=>ek(a.x+c.x,a.y+c.y),Qae=a=>{const c=Math.sqrt(a.x*a.x+a.y*a.y);return c===0?{x:0,y:0}:ek(a.x/c,a.y/c)},Z5=(a,c,f)=>{const y=Math.cos(c),S=Math.sin(c),D=ek(a.x-f.x,a.y-f.y);return ek(f.x+y*D.x-S*D.y,f.y+S*D.x+y*D.y)},ek=(a=0,c=0)=>({x:a,y:c}),Em=(a,c,f=1,y)=>{if(typeof a=="string")return parseFloat(a)*f;if(typeof a=="number")return a*(y?c[y]:Math.min(c.width,c.height))},Jae=(a,c,f)=>{const y=a.borderStyle||a.lineStyle||"solid",S=a.backgroundColor||a.fontColor||"transparent",D=a.borderColor||a.lineColor||"transparent",I=Em(a.borderWidth||a.lineWidth,c,f),B=a.lineCap||"round",U=a.lineJoin||"round",j=typeof y=="string"?"":y.map(ne=>Em(ne,c,f)).join(","),Y=a.opacity||1;return{"stroke-linecap":B,"stroke-linejoin":U,"stroke-width":I||0,"stroke-dasharray":j,stroke:D,fill:S,opacity:Y}},Kg=a=>a!=null,ece=(a,c,f=1)=>{let y=Em(a.x,c,f,"width")||Em(a.left,c,f,"width"),S=Em(a.y,c,f,"height")||Em(a.top,c,f,"height"),D=Em(a.width,c,f,"width"),I=Em(a.height,c,f,"height"),B=Em(a.right,c,f,"width"),U=Em(a.bottom,c,f,"height");return Kg(S)||(Kg(I)&&Kg(U)?S=c.height-I-U:S=U),Kg(y)||(Kg(D)&&Kg(B)?y=c.width-D-B:y=B),Kg(D)||(Kg(y)&&Kg(B)?D=c.width-y-B:D=0),Kg(I)||(Kg(S)&&Kg(U)?I=c.height-S-U:I=0),{x:y||0,y:S||0,width:D||0,height:I||0}},tce=a=>a.map((c,f)=>`${f===0?"M":"L"} ${c.x} ${c.y}`).join(" "),Zb=(a,c)=>Object.keys(c).forEach(f=>a.setAttribute(f,c[f])),nce="http://www.w3.org/2000/svg",LO=(a,c)=>{const f=document.createElementNS(nce,a);return c&&Zb(f,c),f},oce=a=>Zb(a,{...a.rect,...a.styles}),sce=a=>{const c=a.rect.x+a.rect.width*.5,f=a.rect.y+a.rect.height*.5,y=a.rect.width*.5,S=a.rect.height*.5;return Zb(a,{cx:c,cy:f,rx:y,ry:S,...a.styles})},rce={contain:"xMidYMid meet",cover:"xMidYMid slice"},ice=(a,c)=>{Zb(a,{...a.rect,...a.styles,preserveAspectRatio:rce[c.fit]||"none"})},ace={left:"start",center:"middle",right:"end"},cce=(a,c,f,y)=>{const S=Em(c.fontSize,f,y),D=c.fontFamily||"sans-serif",I=c.fontWeight||"normal",B=ace[c.textAlign]||"start";Zb(a,{...a.rect,...a.styles,"stroke-width":0,"font-weight":I,"font-size":S,"font-family":D,"text-anchor":B}),a.text!==c.text&&(a.text=c.text,a.textContent=c.text.length?c.text:" ")},lce=(a,c,f,y)=>{Zb(a,{...a.rect,...a.styles,fill:"none"});const S=a.childNodes[0],D=a.childNodes[1],I=a.childNodes[2],B=a.rect,U={x:a.rect.x+a.rect.width,y:a.rect.y+a.rect.height};if(Zb(S,{x1:B.x,y1:B.y,x2:U.x,y2:U.y}),!c.lineDecoration)return;D.style.display="none",I.style.display="none";const j=Qae({x:U.x-B.x,y:U.y-B.y}),Y=Em(.05,f,y);if(c.lineDecoration.indexOf("arrow-begin")!==-1){const ne=wQ(j,Y),ve=TQ(B,ne),ie=Z5(B,2,ve),fe=Z5(B,-2,ve);Zb(D,{style:"display:block;",d:`M${ie.x},${ie.y} L${B.x},${B.y} L${fe.x},${fe.y}`})}if(c.lineDecoration.indexOf("arrow-end")!==-1){const ne=wQ(j,-Y),ve=TQ(U,ne),ie=Z5(U,2,ve),fe=Z5(U,-2,ve);Zb(I,{style:"display:block;",d:`M${ie.x},${ie.y} L${U.x},${U.y} L${fe.x},${fe.y}`})}},uce=(a,c,f,y)=>{Zb(a,{...a.styles,fill:"none",d:tce(c.points.map(S=>({x:Em(S.x,f,y,"width"),y:Em(S.y,f,y,"height")})))})},Y5=a=>c=>LO(a,{id:c.id}),dce=a=>{const c=LO("image",{id:a.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return c.onload=()=>{c.setAttribute("opacity",a.opacity||1)},c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a.src),c},fce=a=>{const c=LO("g",{id:a.id,"stroke-linecap":"round","stroke-linejoin":"round"}),f=LO("line");c.appendChild(f);const y=LO("path");c.appendChild(y);const S=LO("path");return c.appendChild(S),c},hce={image:dce,rect:Y5("rect"),ellipse:Y5("ellipse"),text:Y5("text"),path:Y5("path"),line:fce},mce={rect:oce,ellipse:sce,image:ice,text:cce,path:uce,line:lce},pce=(a,c)=>hce[a](c),gce=(a,c,f,y,S)=>{c!=="path"&&(a.rect=ece(f,y,S)),a.styles=Jae(f,y,S),mce[c](a,f,y,S)},vce=["x","y","left","top","right","bottom","width","height"],bce=a=>typeof a=="string"&&/%/.test(a)?parseFloat(a)/100:a,yce=a=>{const[c,f]=a,y=f.points?{}:vce.reduce((S,D)=>(S[D]=bce(f[D]),S),{});return[c,{zIndex:0,...f,...y}]},_ce=(a,c)=>a[1].zIndex>c[1].zIndex?1:a[1].zIndex<c[1].zIndex?-1:0,Ece=a=>a.utils.createView({name:"image-preview-markup",tag:"svg",ignoreRect:!0,mixins:{apis:["width","height","crop","markup","resize","dirty"]},write:({root:c,props:f})=>{if(!f.dirty)return;const{crop:y,resize:S,markup:D}=f,I=f.width,B=f.height;let U=y.width,j=y.height;if(S){const{size:ie}=S;let fe=ie&&ie.width,ue=ie&&ie.height;const ce=S.mode,re=S.upscale;fe&&!ue&&(ue=fe),ue&&!fe&&(fe=ue);const me=U<fe&&j<ue;if(!me||me&&re){let K=fe/U,De=ue/j;if(ce==="force")U=fe,j=ue;else{let Ge;ce==="cover"?Ge=Math.max(K,De):ce==="contain"&&(Ge=Math.min(K,De)),U=U*Ge,j=j*Ge}}}const Y={width:I,height:B};c.element.setAttribute("width",Y.width),c.element.setAttribute("height",Y.height);const ne=Math.min(I/U,B/j);c.element.innerHTML="";const ve=c.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");D.filter(ve).map(yce).sort(_ce).forEach(ie=>{const[fe,ue]=ie,ce=pce(fe,ue);gce(ce,fe,ue,Y,ne),c.element.appendChild(ce)})}}),QM=(a,c)=>({x:a,y:c}),wce=(a,c)=>a.x*c.x+a.y*c.y,CQ=(a,c)=>QM(a.x-c.x,a.y-c.y),Tce=(a,c)=>wce(CQ(a,c),CQ(a,c)),SQ=(a,c)=>Math.sqrt(Tce(a,c)),xQ=(a,c)=>{const f=a,y=1.5707963267948966,S=c,D=1.5707963267948966-c,I=Math.sin(y),B=Math.sin(S),U=Math.sin(D),j=Math.cos(D),Y=f/I,ne=Y*B,ve=Y*U;return QM(j*ne,j*ve)},Cce=(a,c)=>{const f=a.width,y=a.height,S=xQ(f,c),D=xQ(y,c),I=QM(a.x+Math.abs(S.x),a.y-Math.abs(S.y)),B=QM(a.x+a.width+Math.abs(D.y),a.y+Math.abs(D.x)),U=QM(a.x-Math.abs(D.y),a.y+a.height-Math.abs(D.x));return{width:SQ(I,B),height:SQ(I,U)}},Sce=(a,c,f=1)=>{const y=a.height/a.width;let S=1,D=c,I=1,B=y;B>D&&(B=D,I=B/y);const U=Math.max(S/I,D/B),j=a.width/(f*U*I),Y=j*c;return{width:j,height:Y}},Hee=(a,c,f,y)=>{const S=y.x>.5?1-y.x:y.x,D=y.y>.5?1-y.y:y.y,I=S*2*a.width,B=D*2*a.height,U=Cce(c,f);return Math.max(U.width/I,U.height/B)},Vee=(a,c)=>{let f=a.width,y=f*c;y>a.height&&(y=a.height,f=y/c);const S=(a.width-f)*.5,D=(a.height-y)*.5;return{x:S,y:D,width:f,height:y}},xce=(a,c={})=>{let{zoom:f,rotation:y,center:S,aspectRatio:D}=c;D||(D=a.height/a.width);const I=Sce(a,D,f),B={x:I.width*.5,y:I.height*.5},U={x:0,y:0,width:I.width,height:I.height,center:B},j=typeof c.scaleToFit>"u"||c.scaleToFit,Y=Hee(a,Vee(U,D),y,j?S:{x:.5,y:.5}),ne=f*Y;return{widthFloat:I.width/ne,heightFloat:I.height/ne,width:Math.round(I.width/ne),height:Math.round(I.height/ne)}},jb={type:"spring",stiffness:.5,damping:.45,mass:10},Ace=a=>a.utils.createView({name:"image-bitmap",ignoreRect:!0,mixins:{styles:["scaleX","scaleY"]},create:({root:c,props:f})=>{c.appendChild(f.image)}}),Oce=a=>a.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:!0,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:jb,originY:jb,scaleX:jb,scaleY:jb,translateX:jb,translateY:jb,rotateZ:jb}},create:({root:c,props:f})=>{f.width=f.image.width,f.height=f.image.height,c.ref.bitmap=c.appendChildView(c.createChildView(Ace(a),{image:f.image}))},write:({root:c,props:f})=>{const{flip:y}=f.crop,{bitmap:S}=c.ref;S.scaleX=y.horizontal?-1:1,S.scaleY=y.vertical?-1:1}}),Rce=a=>a.utils.createView({name:"image-clip",tag:"div",ignoreRect:!0,mixins:{apis:["crop","markup","resize","width","height","dirty","background"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},didWriteView:function({root:c,props:f}){f.background&&(c.element.style.backgroundColor=f.background)},create:({root:c,props:f})=>{c.ref.image=c.appendChildView(c.createChildView(Oce(a),Object.assign({},f))),c.ref.createMarkup=()=>{c.ref.markup||(c.ref.markup=c.appendChildView(c.createChildView(Ece(a),Object.assign({},f))))},c.ref.destroyMarkup=()=>{c.ref.markup&&(c.removeChildView(c.ref.markup),c.ref.markup=null)};const y=c.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");y!==null&&(y==="grid"?c.element.dataset.transparencyIndicator=y:c.element.dataset.transparencyIndicator="color")},write:({root:c,props:f,shouldOptimize:y})=>{const{crop:S,markup:D,resize:I,dirty:B,width:U,height:j}=f;c.ref.image.crop=S;const Y={x:0,y:0,width:U,height:j,center:{x:U*.5,y:j*.5}},ne={width:c.ref.image.width,height:c.ref.image.height},ve={x:S.center.x*ne.width,y:S.center.y*ne.height},ie={x:Y.center.x-ne.width*S.center.x,y:Y.center.y-ne.height*S.center.y},fe=Math.PI*2+S.rotation%(Math.PI*2),ue=S.aspectRatio||ne.height/ne.width,ce=typeof S.scaleToFit>"u"||S.scaleToFit,re=Hee(ne,Vee(Y,ue),fe,ce?S.center:{x:.5,y:.5}),me=S.zoom*re;D&&D.length?(c.ref.createMarkup(),c.ref.markup.width=U,c.ref.markup.height=j,c.ref.markup.resize=I,c.ref.markup.dirty=B,c.ref.markup.markup=D,c.ref.markup.crop=xce(ne,S)):c.ref.markup&&c.ref.destroyMarkup();const K=c.ref.image;if(y){K.originX=null,K.originY=null,K.translateX=null,K.translateY=null,K.rotateZ=null,K.scaleX=null,K.scaleY=null;return}K.originX=ve.x,K.originY=ve.y,K.translateX=ie.x,K.translateY=ie.y,K.rotateZ=fe,K.scaleX=me,K.scaleY=me}}),Ice=a=>a.utils.createView({name:"image-preview",tag:"div",ignoreRect:!0,mixins:{apis:["image","crop","markup","resize","dirty","background"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:jb,scaleY:jb,translateY:jb,opacity:{type:"tween",duration:400}}},create:({root:c,props:f})=>{c.ref.clip=c.appendChildView(c.createChildView(Rce(a),{id:f.id,image:f.image,crop:f.crop,markup:f.markup,resize:f.resize,dirty:f.dirty,background:f.background}))},write:({root:c,props:f,shouldOptimize:y})=>{const{clip:S}=c.ref,{image:D,crop:I,markup:B,resize:U,dirty:j}=f;if(S.crop=I,S.markup=B,S.resize=U,S.dirty=j,S.opacity=y?0:1,y||c.rect.element.hidden)return;const Y=D.height/D.width;let ne=I.aspectRatio||Y;const ve=c.rect.inner.width,ie=c.rect.inner.height;let fe=c.query("GET_IMAGE_PREVIEW_HEIGHT");const ue=c.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),ce=c.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),re=c.query("GET_PANEL_ASPECT_RATIO"),me=c.query("GET_ALLOW_MULTIPLE");re&&!me&&(fe=ve*re,ne=re);let K=fe!==null?fe:Math.max(ue,Math.min(ve*ne,ce)),De=K/ne;De>ve&&(De=ve,K=De*ne),K>ie&&(K=ie,De=ie/ne),S.width=De,S.height=K}});let Dce=`<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">
    <defs>
        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">
            <stop offset='50%' stop-color='#000000'/>
            <stop offset='56%' stop-color='#0a0a0a'/>
            <stop offset='63%' stop-color='#262626'/>
            <stop offset='69%' stop-color='#4f4f4f'/>
            <stop offset='75%' stop-color='#808080'/>
            <stop offset='81%' stop-color='#b1b1b1'/>
            <stop offset='88%' stop-color='#dadada'/>
            <stop offset='94%' stop-color='#f6f6f6'/>
            <stop offset='100%' stop-color='#ffffff'/>
        </radialGradient>
        <mask id="mask-__UID__">
            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>
        </mask>
    </defs>
    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>
</svg>`,AQ=0;const Nce=a=>a.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:!0,create:({root:c,props:f})=>{let y=Dce;if(document.querySelector("base")){const S=new URL(window.location.href.replace(window.location.hash,"")).href;y=y.replace(/url\(\#/g,"url("+S+"#")}AQ++,c.element.classList.add(`filepond--image-preview-overlay-${f.status}`),c.element.innerHTML=y.replace(/__UID__/g,AQ)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}}),Mce=function(){self.onmessage=a=>{createImageBitmap(a.data.message.file).then(c=>{self.postMessage({id:a.data.id,message:c},[c])})}},kce=function(){self.onmessage=a=>{const c=a.data.message.imageData,f=a.data.message.colorMatrix,y=c.data,S=y.length,D=f[0],I=f[1],B=f[2],U=f[3],j=f[4],Y=f[5],ne=f[6],ve=f[7],ie=f[8],fe=f[9],ue=f[10],ce=f[11],re=f[12],me=f[13],K=f[14],De=f[15],Ge=f[16],H=f[17],Ee=f[18],qe=f[19];let ut=0,yt=0,ke=0,_e=0,mn=0;for(;ut<S;ut+=4)yt=y[ut]/255,ke=y[ut+1]/255,_e=y[ut+2]/255,mn=y[ut+3]/255,y[ut]=Math.max(0,Math.min((yt*D+ke*I+_e*B+mn*U+j)*255,255)),y[ut+1]=Math.max(0,Math.min((yt*Y+ke*ne+_e*ve+mn*ie+fe)*255,255)),y[ut+2]=Math.max(0,Math.min((yt*ue+ke*ce+_e*re+mn*me+K)*255,255)),y[ut+3]=Math.max(0,Math.min((yt*De+ke*Ge+_e*H+mn*Ee+qe)*255,255));self.postMessage({id:a.data.id,message:c},[c.data.buffer])}},Pce=(a,c)=>{let f=new Image;f.onload=()=>{const y=f.naturalWidth,S=f.naturalHeight;f=null,c(y,S)},f.src=a},Lce={1:()=>[1,0,0,1,0,0],2:a=>[-1,0,0,1,a,0],3:(a,c)=>[-1,0,0,-1,a,c],4:(a,c)=>[1,0,0,-1,0,c],5:()=>[0,1,1,0,0,0],6:(a,c)=>[0,1,-1,0,c,0],7:(a,c)=>[0,-1,-1,0,c,a],8:a=>[0,-1,1,0,0,a]},$ce=(a,c,f,y)=>{y!==-1&&a.transform.apply(a,Lce[y](c,f))},Bce=(a,c,f,y)=>{c=Math.round(c),f=Math.round(f);const S=document.createElement("canvas");S.width=c,S.height=f;const D=S.getContext("2d");return y>=5&&y<=8&&([c,f]=[f,c]),$ce(D,c,f,y),D.drawImage(a,0,0,c,f),S},Uee=a=>/^image/.test(a.type)&&!/svg/.test(a.type),Fce=10,Hce=10,Vce=a=>{const c=Math.min(Fce/a.width,Hce/a.height),f=document.createElement("canvas"),y=f.getContext("2d"),S=f.width=Math.ceil(a.width*c),D=f.height=Math.ceil(a.height*c);y.drawImage(a,0,0,S,D);let I=null;try{I=y.getImageData(0,0,S,D).data}catch{return null}const B=I.length;let U=0,j=0,Y=0,ne=0;for(;ne<B;ne+=4)U+=I[ne]*I[ne],j+=I[ne+1]*I[ne+1],Y+=I[ne+2]*I[ne+2];return U=nZ(U,B),j=nZ(j,B),Y=nZ(Y,B),{r:U,g:j,b:Y}},nZ=(a,c)=>Math.floor(Math.sqrt(a/(c/4))),Uce=(a,c)=>(c=c||document.createElement("canvas"),c.width=a.width,c.height=a.height,c.getContext("2d").drawImage(a,0,0),c),zce=a=>{let c;try{c=new ImageData(a.width,a.height)}catch{c=document.createElement("canvas").getContext("2d").createImageData(a.width,a.height)}return c.data.set(new Uint8ClampedArray(a.data)),c},Wce=a=>new Promise((c,f)=>{const y=new Image;y.crossOrigin="Anonymous",y.onload=()=>{c(y)},y.onerror=S=>{f(S)},y.src=a}),Gce=a=>{const c=Nce(a),f=Ice(a),{createWorker:y}=a.utils,S=(me,K,De)=>new Promise(Ge=>{me.ref.imageData||(me.ref.imageData=De.getContext("2d").getImageData(0,0,De.width,De.height));const H=zce(me.ref.imageData);if(!K||K.length!==20)return De.getContext("2d").putImageData(H,0,0),Ge();const Ee=y(kce);Ee.post({imageData:H,colorMatrix:K},qe=>{De.getContext("2d").putImageData(qe,0,0),Ee.terminate(),Ge()},[H.data.buffer])}),D=(me,K)=>{me.removeChildView(K),K.image.width=1,K.image.height=1,K._destroy()},I=({root:me})=>{const K=me.ref.images.shift();return K.opacity=0,K.translateY=-15,me.ref.imageViewBin.push(K),K},B=({root:me,props:K,image:De})=>{const Ge=K.id,H=me.query("GET_ITEM",{id:Ge});if(!H)return;const Ee=H.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},qe=me.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR");let ut,yt,ke=!1;me.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(ut=H.getMetadata("markup")||[],yt=H.getMetadata("resize"),ke=!0);const _e=me.appendChildView(me.createChildView(f,{id:Ge,image:De,crop:Ee,resize:yt,markup:ut,dirty:ke,background:qe,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),me.childViews.length);me.ref.images.push(_e),_e.opacity=1,_e.scaleX=1,_e.scaleY=1,_e.translateY=0,setTimeout(()=>{me.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:Ge})},250)},U=({root:me,props:K})=>{const De=me.query("GET_ITEM",{id:K.id});if(!De)return;const Ge=me.ref.images[me.ref.images.length-1];Ge.crop=De.getMetadata("crop"),Ge.background=me.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),me.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(Ge.dirty=!0,Ge.resize=De.getMetadata("resize"),Ge.markup=De.getMetadata("markup"))},j=({root:me,props:K,action:De})=>{if(!/crop|filter|markup|resize/.test(De.change.key)||!me.ref.images.length)return;const Ge=me.query("GET_ITEM",{id:K.id});if(Ge){if(/filter/.test(De.change.key)){const H=me.ref.images[me.ref.images.length-1];S(me,De.change.value,H.image);return}if(/crop|markup|resize/.test(De.change.key)){const H=Ge.getMetadata("crop"),Ee=me.ref.images[me.ref.images.length-1];if(H&&H.aspectRatio&&Ee.crop&&Ee.crop.aspectRatio&&Math.abs(H.aspectRatio-Ee.crop.aspectRatio)>1e-5){const qe=I({root:me});B({root:me,props:K,image:Uce(qe.image)})}else U({root:me,props:K})}}},Y=me=>{const De=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./);return(De?parseInt(De[1]):null)<=58?!1:"createImageBitmap"in window&&Uee(me)},ne=({root:me,props:K})=>{const{id:De}=K,Ge=me.query("GET_ITEM",De);if(!Ge)return;const H=URL.createObjectURL(Ge.file);Pce(H,(Ee,qe)=>{me.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:De,width:Ee,height:qe})})},ve=({root:me,props:K})=>{const{id:De}=K,Ge=me.query("GET_ITEM",De);if(!Ge)return;const H=URL.createObjectURL(Ge.file),Ee=()=>{Wce(H).then(qe)},qe=ut=>{URL.revokeObjectURL(H);const ke=(Ge.getMetadata("exif")||{}).orientation||-1;let{width:_e,height:mn}=ut;if(!_e||!mn)return;ke>=5&&ke<=8&&([_e,mn]=[mn,_e]);const wt=Math.max(1,window.devicePixelRatio*.75),P=me.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR")*wt,Rt=mn/_e,tt=me.rect.element.width,qt=me.rect.element.height;let Vt=tt,je=Vt*Rt;Rt>1?(Vt=Math.min(_e,tt*P),je=Vt*Rt):(je=Math.min(mn,qt*P),Vt=je/Rt);const vo=Bce(ut,Vt,je,ke),Bo=()=>{const Fo=me.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?Vce(data):null;Ge.setMetadata("color",Fo,!0),"close"in ut&&ut.close(),me.ref.overlayShadow.opacity=1,B({root:me,props:K,image:vo})},ao=Ge.getMetadata("filter");ao?S(me,ao,vo).then(Bo):Bo()};if(Y(Ge.file)){const ut=y(Mce);ut.post({file:Ge.file},yt=>{if(ut.terminate(),!yt){Ee();return}qe(yt)})}else Ee()},ie=({root:me})=>{const K=me.ref.images[me.ref.images.length-1];K.translateY=0,K.scaleX=1,K.scaleY=1,K.opacity=1},fe=({root:me})=>{me.ref.overlayShadow.opacity=1,me.ref.overlayError.opacity=0,me.ref.overlaySuccess.opacity=0},ue=({root:me})=>{me.ref.overlayShadow.opacity=.25,me.ref.overlayError.opacity=1},ce=({root:me})=>{me.ref.overlayShadow.opacity=.25,me.ref.overlaySuccess.opacity=1},re=({root:me})=>{me.ref.images=[],me.ref.imageData=null,me.ref.imageViewBin=[],me.ref.overlayShadow=me.appendChildView(me.createChildView(c,{opacity:0,status:"idle"})),me.ref.overlaySuccess=me.appendChildView(me.createChildView(c,{opacity:0,status:"success"})),me.ref.overlayError=me.appendChildView(me.createChildView(c,{opacity:0,status:"failure"}))};return a.utils.createView({name:"image-preview-wrapper",create:re,styles:["height"],apis:["height"],destroy:({root:me})=>{me.ref.images.forEach(K=>{K.image.width=1,K.image.height=1})},didWriteView:({root:me})=>{me.ref.images.forEach(K=>{K.dirty=!1})},write:a.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:ie,DID_IMAGE_PREVIEW_CONTAINER_CREATE:ne,DID_FINISH_CALCULATE_PREVIEWSIZE:ve,DID_UPDATE_ITEM_METADATA:j,DID_THROW_ITEM_LOAD_ERROR:ue,DID_THROW_ITEM_PROCESSING_ERROR:ue,DID_THROW_ITEM_INVALID:ue,DID_COMPLETE_ITEM_PROCESSING:ce,DID_START_ITEM_PROCESSING:fe,DID_REVERT_ITEM_PROCESSING:fe},({root:me})=>{const K=me.ref.imageViewBin.filter(De=>De.opacity===0);me.ref.imageViewBin=me.ref.imageViewBin.filter(De=>De.opacity>0),K.forEach(De=>D(me,De)),K.length=0})})},zee=a=>{const{addFilter:c,utils:f}=a,{Type:y,createRoute:S,isFile:D}=f,I=Gce(a);return c("CREATE_VIEW",B=>{const{is:U,view:j,query:Y}=B;if(!U("file")||!Y("GET_ALLOW_IMAGE_PREVIEW"))return;const ne=({root:ce,props:re})=>{const{id:me}=re,K=Y("GET_ITEM",me);if(!K||!D(K.file)||K.archived)return;const De=K.file;if(!Xae(De)||!Y("GET_IMAGE_PREVIEW_FILTER_ITEM")(K))return;const Ge="createImageBitmap"in(window||{}),H=Y("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!Ge&&H&&De.size>H)return;ce.ref.imagePreview=j.appendChildView(j.createChildView(I,{id:me}));const Ee=ce.query("GET_IMAGE_PREVIEW_HEIGHT");Ee&&ce.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:K.id,height:Ee});const qe=!Ge&&De.size>Y("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");ce.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:me},qe)},ve=(ce,re)=>{if(!ce.ref.imagePreview)return;let{id:me}=re;const K=ce.query("GET_ITEM",{id:me});if(!K)return;const De=ce.query("GET_PANEL_ASPECT_RATIO"),Ge=ce.query("GET_ITEM_PANEL_ASPECT_RATIO"),H=ce.query("GET_IMAGE_PREVIEW_HEIGHT");if(De||Ge||H)return;let{imageWidth:Ee,imageHeight:qe}=ce.ref;if(!Ee||!qe)return;const ut=ce.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),yt=ce.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),_e=(K.getMetadata("exif")||{}).orientation||-1;if(_e>=5&&_e<=8&&([Ee,qe]=[qe,Ee]),!Uee(K.file)||ce.query("GET_IMAGE_PREVIEW_UPSCALE")){const tt=2048/Ee;Ee*=tt,qe*=tt}const mn=qe/Ee,wt=(K.getMetadata("crop")||{}).aspectRatio||mn;let Ot=Math.max(ut,Math.min(qe,yt));const P=ce.rect.element.width,Rt=Math.min(P*wt,Ot);ce.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:K.id,height:Rt})},ie=({root:ce})=>{ce.ref.shouldRescale=!0},fe=({root:ce,action:re})=>{re.change.key==="crop"&&(ce.ref.shouldRescale=!0)},ue=({root:ce,action:re})=>{ce.ref.imageWidth=re.width,ce.ref.imageHeight=re.height,ce.ref.shouldRescale=!0,ce.ref.shouldDrawPreview=!0,ce.dispatch("KICK")};j.registerWriter(S({DID_RESIZE_ROOT:ie,DID_STOP_RESIZE:ie,DID_LOAD_ITEM:ne,DID_IMAGE_PREVIEW_CALCULATE_SIZE:ue,DID_UPDATE_ITEM_METADATA:fe},({root:ce,props:re})=>{ce.ref.imagePreview&&(ce.rect.element.hidden||(ce.ref.shouldRescale&&(ve(ce,re),ce.ref.shouldRescale=!1),ce.ref.shouldDrawPreview&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{ce.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:re.id})})}),ce.ref.shouldDrawPreview=!1)))}))}),{options:{allowImagePreview:[!0,y.BOOLEAN],imagePreviewFilterItem:[()=>!0,y.FUNCTION],imagePreviewHeight:[null,y.INT],imagePreviewMinHeight:[44,y.INT],imagePreviewMaxHeight:[256,y.INT],imagePreviewMaxFileSize:[null,y.INT],imagePreviewZoomFactor:[2,y.INT],imagePreviewUpscale:[!1,y.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,y.INT],imagePreviewTransparencyIndicator:[null,y.STRING],imagePreviewCalculateAverageImageColor:[!1,y.BOOLEAN],imagePreviewMarkupShow:[!0,y.BOOLEAN],imagePreviewMarkupFilter:[()=>!0,y.FUNCTION]}}},qce=typeof window<"u"&&typeof window.document<"u";qce&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:zee}));/*!
 * FilePondPluginImageExifOrientation 1.0.11
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const jce=a=>/^image\/jpeg/.test(a.type),QS={JPEG:65496,APP1:65505,EXIF:1165519206,TIFF:18761,Orientation:274,Unknown:65280},JS=(a,c,f=!1)=>a.getUint16(c,f),OQ=(a,c,f=!1)=>a.getUint32(c,f),Zce=a=>new Promise((c,f)=>{const y=new FileReader;y.onload=function(S){const D=new DataView(S.target.result);if(JS(D,0)!==QS.JPEG){c(-1);return}const I=D.byteLength;let B=2;for(;B<I;){const U=JS(D,B);if(B+=2,U===QS.APP1){if(OQ(D,B+=2)!==QS.EXIF)break;const j=JS(D,B+=6)===QS.TIFF;B+=OQ(D,B+4,j);const Y=JS(D,B,j);B+=2;for(let ne=0;ne<Y;ne++)if(JS(D,B+ne*12,j)===QS.Orientation){c(JS(D,B+ne*12+8,j));return}}else{if((U&QS.Unknown)!==QS.Unknown)break;B+=JS(D,B)}}c(-1)},y.readAsArrayBuffer(a.slice(0,64*1024))}),Yce=(()=>typeof window<"u"&&typeof window.document<"u")(),Kce=()=>Yce,Xce="data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4QA6RXhpZgAATU0AKgAAAAgAAwESAAMAAAABAAYAAAEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAD/2wBDAP//////////////////////////////////////////////////////////////////////////////////////wAALCAABAAIBASIA/8QAJgABAAAAAAAAAAAAAAAAAAAAAxABAAAAAAAAAAAAAAAAAAAAAP/aAAgBAQAAPwBH/9k=";let Wee;const aH=Kce()?new Image:{};aH.onload=()=>Wee=aH.naturalWidth>aH.naturalHeight;aH.src=Xce;const Qce=()=>Wee,Gee=({addFilter:a,utils:c})=>{const{Type:f,isFile:y}=c;return a("DID_LOAD_ITEM",(S,{query:D})=>new Promise((I,B)=>{const U=S.file;if(!y(U)||!jce(U)||!D("GET_ALLOW_IMAGE_EXIF_ORIENTATION")||!Qce())return I(S);Zce(U).then(j=>{S.setMetadata("exif",{orientation:j}),I(S)})})),{options:{allowImageExifOrientation:[!0,f.BOOLEAN]}}},Jce=typeof window<"u"&&typeof window.document<"u";Jce&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Gee}));/*!
 * FilePondPluginImageCrop 2.0.6
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const RQ=a=>/^image/.test(a.type),ele=({addFilter:a,utils:c})=>{const{Type:f,isFile:y,getNumericAspectRatioFromString:S}=c,D=(j,Y)=>!(!RQ(j.file)||!Y("GET_ALLOW_IMAGE_CROP")),I=j=>typeof j=="object",B=j=>typeof j=="number",U=(j,Y)=>j.setMetadata("crop",Object.assign({},j.getMetadata("crop"),Y));return a("DID_CREATE_ITEM",(j,{query:Y})=>{j.extend("setImageCrop",ne=>{if(!(!D(j,Y)||!I(center)))return j.setMetadata("crop",ne),ne}),j.extend("setImageCropCenter",ne=>{if(!(!D(j,Y)||!I(ne)))return U(j,{center:ne})}),j.extend("setImageCropZoom",ne=>{if(!(!D(j,Y)||!B(ne)))return U(j,{zoom:Math.max(1,ne)})}),j.extend("setImageCropRotation",ne=>{if(!(!D(j,Y)||!B(ne)))return U(j,{rotation:ne})}),j.extend("setImageCropFlip",ne=>{if(!(!D(j,Y)||!I(ne)))return U(j,{flip:ne})}),j.extend("setImageCropAspectRatio",ne=>{if(!D(j,Y)||typeof ne>"u")return;const ve=j.getMetadata("crop"),ie=S(ne),fe={center:{x:.5,y:.5},flip:ve?Object.assign({},ve.flip):{horizontal:!1,vertical:!1},rotation:0,zoom:1,aspectRatio:ie};return j.setMetadata("crop",fe),fe})}),a("DID_LOAD_ITEM",(j,{query:Y})=>new Promise((ne,ve)=>{const ie=j.file;if(!y(ie)||!RQ(ie)||!Y("GET_ALLOW_IMAGE_CROP")||j.getMetadata("crop"))return ne(j);const ue=Y("GET_IMAGE_CROP_ASPECT_RATIO");j.setMetadata("crop",{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},rotation:0,zoom:1,aspectRatio:ue?S(ue):null}),ne(j)})),{options:{allowImageCrop:[!0,f.BOOLEAN],imageCropAspectRatio:[null,f.STRING]}}},tle=typeof window<"u"&&typeof window.document<"u";tle&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:ele}));/*!
 * FilePondPluginImageResize 2.0.10
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const nle=a=>/^image/.test(a.type),ole=(a,c)=>{let f=new Image;f.onload=()=>{const y=f.naturalWidth,S=f.naturalHeight;f=null,c({width:y,height:S})},f.onerror=()=>c(null),f.src=a},qee=({addFilter:a,utils:c})=>{const{Type:f}=c;return a("DID_LOAD_ITEM",(y,{query:S})=>new Promise((D,I)=>{const B=y.file;if(!nle(B)||!S("GET_ALLOW_IMAGE_RESIZE"))return D(y);const U=S("GET_IMAGE_RESIZE_MODE"),j=S("GET_IMAGE_RESIZE_TARGET_WIDTH"),Y=S("GET_IMAGE_RESIZE_TARGET_HEIGHT"),ne=S("GET_IMAGE_RESIZE_UPSCALE");if(j===null&&Y===null)return D(y);const ve=j===null?Y:j,ie=Y===null?ve:Y,fe=URL.createObjectURL(B);ole(fe,ue=>{if(URL.revokeObjectURL(fe),!ue)return D(y);let{width:ce,height:re}=ue;const me=(y.getMetadata("exif")||{}).orientation||-1;if(me>=5&&me<=8&&([ce,re]=[re,ce]),ce===ve&&re===ie)return D(y);if(!ne){if(U==="cover"){if(ce<=ve||re<=ie)return D(y)}else if(ce<=ve&&re<=ve)return D(y)}y.setMetadata("resize",{mode:U,upscale:ne,size:{width:ve,height:ie}}),D(y)})})),{options:{allowImageResize:[!0,f.BOOLEAN],imageResizeMode:["cover",f.STRING],imageResizeUpscale:[!0,f.BOOLEAN],imageResizeTargetWidth:[null,f.INT],imageResizeTargetHeight:[null,f.INT]}}},sle=typeof window<"u"&&typeof window.document<"u";sle&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:qee}));/*!
 * FilePondPluginImageTransform 3.8.7
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const rle=a=>/^image/.test(a.type),ile=a=>a.substr(0,a.lastIndexOf("."))||a,ale={jpeg:"jpg","svg+xml":"svg"},cle=(a,c)=>{const f=ile(a),y=c.split("/")[1],S=ale[y]||y;return`${f}.${S}`},lle=a=>/jpeg|png|svg\+xml/.test(a)?a:"image/jpeg",ule=a=>/^image/.test(a.type),dle={1:()=>[1,0,0,1,0,0],2:a=>[-1,0,0,1,a,0],3:(a,c)=>[-1,0,0,-1,a,c],4:(a,c)=>[1,0,0,-1,0,c],5:()=>[0,1,1,0,0,0],6:(a,c)=>[0,1,-1,0,c,0],7:(a,c)=>[0,-1,-1,0,c,a],8:a=>[0,-1,1,0,0,a]},fle=(a,c,f)=>(f===-1&&(f=1),dle[f](a,c)),JM=(a,c)=>({x:a,y:c}),hle=(a,c)=>a.x*c.x+a.y*c.y,IQ=(a,c)=>JM(a.x-c.x,a.y-c.y),mle=(a,c)=>hle(IQ(a,c),IQ(a,c)),DQ=(a,c)=>Math.sqrt(mle(a,c)),NQ=(a,c)=>{const f=a,y=1.5707963267948966,S=c,D=1.5707963267948966-c,I=Math.sin(y),B=Math.sin(S),U=Math.sin(D),j=Math.cos(D),Y=f/I,ne=Y*B,ve=Y*U;return JM(j*ne,j*ve)},ple=(a,c)=>{const f=a.width,y=a.height,S=NQ(f,c),D=NQ(y,c),I=JM(a.x+Math.abs(S.x),a.y-Math.abs(S.y)),B=JM(a.x+a.width+Math.abs(D.y),a.y+Math.abs(D.x)),U=JM(a.x-Math.abs(D.y),a.y+a.height-Math.abs(D.x));return{width:DQ(I,B),height:DQ(I,U)}},jee=(a,c,f=0,y={x:.5,y:.5})=>{const S=y.x>.5?1-y.x:y.x,D=y.y>.5?1-y.y:y.y,I=S*2*a.width,B=D*2*a.height,U=ple(c,f);return Math.max(U.width/I,U.height/B)},Zee=(a,c)=>{let f=a.width,y=f*c;y>a.height&&(y=a.height,f=y/c);const S=(a.width-f)*.5,D=(a.height-y)*.5;return{x:S,y:D,width:f,height:y}},MQ=(a,c,f=1)=>{const y=a.height/a.width;let S=1,D=c,I=1,B=y;B>D&&(B=D,I=B/y);const U=Math.max(S/I,D/B),j=a.width/(f*U*I),Y=j*c;return{width:j,height:Y}},Yee=a=>{a.width=1,a.height=1,a.getContext("2d").clearRect(0,0,1,1)},kQ=a=>a&&(a.horizontal||a.vertical),gle=(a,c,f)=>{if(c<=1&&!kQ(f))return a.width=a.naturalWidth,a.height=a.naturalHeight,a;const y=document.createElement("canvas"),S=a.naturalWidth,D=a.naturalHeight,I=c>=5&&c<=8;I?(y.width=D,y.height=S):(y.width=S,y.height=D);const B=y.getContext("2d");if(c&&B.transform.apply(B,fle(S,D,c)),kQ(f)){const U=[1,0,0,1,0,0];(!I&&f.horizontal||I&f.vertical)&&(U[0]=-1,U[4]=S),(!I&&f.vertical||I&&f.horizontal)&&(U[3]=-1,U[5]=D),B.transform(...U)}return B.drawImage(a,0,0,S,D),y},vle=(a,c,f={},y={})=>{const{canvasMemoryLimit:S,background:D=null}=y,I=f.zoom||1,B=gle(a,c,f.flip),U={width:B.width,height:B.height},j=f.aspectRatio||U.height/U.width;let Y=MQ(U,j,I);if(S){const K=Y.width*Y.height;if(K>S){const De=Math.sqrt(S)/Math.sqrt(K);U.width=Math.floor(U.width*De),U.height=Math.floor(U.height*De),Y=MQ(U,j,I)}}const ne=document.createElement("canvas"),ve={x:Y.width*.5,y:Y.height*.5},ie={x:0,y:0,width:Y.width,height:Y.height,center:ve},fe=typeof f.scaleToFit>"u"||f.scaleToFit,ue=I*jee(U,Zee(ie,j),f.rotation,fe?f.center:{x:.5,y:.5});ne.width=Math.round(Y.width/ue),ne.height=Math.round(Y.height/ue),ve.x/=ue,ve.y/=ue;const ce={x:ve.x-U.width*(f.center?f.center.x:.5),y:ve.y-U.height*(f.center?f.center.y:.5)},re=ne.getContext("2d");D&&(re.fillStyle=D,re.fillRect(0,0,ne.width,ne.height)),re.translate(ve.x,ve.y),re.rotate(f.rotation||0),re.drawImage(B,ce.x-ve.x,ce.y-ve.y,U.width,U.height);const me=re.getImageData(0,0,ne.width,ne.height);return Yee(ne),me},ble=(()=>typeof window<"u"&&typeof window.document<"u")();ble&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(a,c,f){var y=this.toDataURL(c,f).split(",")[1];setTimeout(function(){for(var S=atob(y),D=S.length,I=new Uint8Array(D),B=0;B<D;B++)I[B]=S.charCodeAt(B);a(new Blob([I],{type:c||"image/png"}))})}}));const yle=(a,c,f=null)=>new Promise(y=>{const S=f?f(a):a;Promise.resolve(S).then(D=>{D.toBlob(y,c.type,c.quality)})}),CH=(a,c)=>tk(a.x*c,a.y*c),SH=(a,c)=>tk(a.x+c.x,a.y+c.y),Kee=a=>{const c=Math.sqrt(a.x*a.x+a.y*a.y);return c===0?{x:0,y:0}:tk(a.x/c,a.y/c)},Dw=(a,c,f)=>{const y=Math.cos(c),S=Math.sin(c),D=tk(a.x-f.x,a.y-f.y);return tk(f.x+y*D.x-S*D.y,f.y+S*D.x+y*D.y)},tk=(a=0,c=0)=>({x:a,y:c}),Wd=(a,c,f=1,y)=>{if(typeof a=="string")return parseFloat(a)*f;if(typeof a=="number")return a*(y?c[y]:Math.min(c.width,c.height))},hx=(a,c,f)=>{const y=a.borderStyle||a.lineStyle||"solid",S=a.backgroundColor||a.fontColor||"transparent",D=a.borderColor||a.lineColor||"transparent",I=Wd(a.borderWidth||a.lineWidth,c,f),B=a.lineCap||"round",U=a.lineJoin||"round",j=typeof y=="string"?"":y.map(ne=>Wd(ne,c,f)).join(","),Y=a.opacity||1;return{"stroke-linecap":B,"stroke-linejoin":U,"stroke-width":I||0,"stroke-dasharray":j,stroke:D,fill:S,opacity:Y}},Xg=a=>a!=null,tR=(a,c,f=1)=>{let y=Wd(a.x,c,f,"width")||Wd(a.left,c,f,"width"),S=Wd(a.y,c,f,"height")||Wd(a.top,c,f,"height"),D=Wd(a.width,c,f,"width"),I=Wd(a.height,c,f,"height"),B=Wd(a.right,c,f,"width"),U=Wd(a.bottom,c,f,"height");return Xg(S)||(Xg(I)&&Xg(U)?S=c.height-I-U:S=U),Xg(y)||(Xg(D)&&Xg(B)?y=c.width-D-B:y=B),Xg(D)||(Xg(y)&&Xg(B)?D=c.width-y-B:D=0),Xg(I)||(Xg(S)&&Xg(U)?I=c.height-S-U:I=0),{x:y||0,y:S||0,width:D||0,height:I||0}},_le=a=>a.map((c,f)=>`${f===0?"M":"L"} ${c.x} ${c.y}`).join(" "),Yb=(a,c)=>Object.keys(c).forEach(f=>a.setAttribute(f,c[f])),Ele="http://www.w3.org/2000/svg",$O=(a,c)=>{const f=document.createElementNS(Ele,a);return c&&Yb(f,c),f},wle=a=>Yb(a,{...a.rect,...a.styles}),Tle=a=>{const c=a.rect.x+a.rect.width*.5,f=a.rect.y+a.rect.height*.5,y=a.rect.width*.5,S=a.rect.height*.5;return Yb(a,{cx:c,cy:f,rx:y,ry:S,...a.styles})},Cle={contain:"xMidYMid meet",cover:"xMidYMid slice"},Sle=(a,c)=>{Yb(a,{...a.rect,...a.styles,preserveAspectRatio:Cle[c.fit]||"none"})},xle={left:"start",center:"middle",right:"end"},Ale=(a,c,f,y)=>{const S=Wd(c.fontSize,f,y),D=c.fontFamily||"sans-serif",I=c.fontWeight||"normal",B=xle[c.textAlign]||"start";Yb(a,{...a.rect,...a.styles,"stroke-width":0,"font-weight":I,"font-size":S,"font-family":D,"text-anchor":B}),a.text!==c.text&&(a.text=c.text,a.textContent=c.text.length?c.text:" ")},Ole=(a,c,f,y)=>{Yb(a,{...a.rect,...a.styles,fill:"none"});const S=a.childNodes[0],D=a.childNodes[1],I=a.childNodes[2],B=a.rect,U={x:a.rect.x+a.rect.width,y:a.rect.y+a.rect.height};if(Yb(S,{x1:B.x,y1:B.y,x2:U.x,y2:U.y}),!c.lineDecoration)return;D.style.display="none",I.style.display="none";const j=Kee({x:U.x-B.x,y:U.y-B.y}),Y=Wd(.05,f,y);if(c.lineDecoration.indexOf("arrow-begin")!==-1){const ne=CH(j,Y),ve=SH(B,ne),ie=Dw(B,2,ve),fe=Dw(B,-2,ve);Yb(D,{style:"display:block;",d:`M${ie.x},${ie.y} L${B.x},${B.y} L${fe.x},${fe.y}`})}if(c.lineDecoration.indexOf("arrow-end")!==-1){const ne=CH(j,-Y),ve=SH(U,ne),ie=Dw(U,2,ve),fe=Dw(U,-2,ve);Yb(I,{style:"display:block;",d:`M${ie.x},${ie.y} L${U.x},${U.y} L${fe.x},${fe.y}`})}},Rle=(a,c,f,y)=>{Yb(a,{...a.styles,fill:"none",d:_le(c.points.map(S=>({x:Wd(S.x,f,y,"width"),y:Wd(S.y,f,y,"height")})))})},K5=a=>c=>$O(a,{id:c.id}),Ile=a=>{const c=$O("image",{id:a.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return c.onload=()=>{c.setAttribute("opacity",a.opacity||1)},c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a.src),c},Dle=a=>{const c=$O("g",{id:a.id,"stroke-linecap":"round","stroke-linejoin":"round"}),f=$O("line");c.appendChild(f);const y=$O("path");c.appendChild(y);const S=$O("path");return c.appendChild(S),c},Nle={image:Ile,rect:K5("rect"),ellipse:K5("ellipse"),text:K5("text"),path:K5("path"),line:Dle},Mle={rect:wle,ellipse:Tle,image:Sle,text:Ale,path:Rle,line:Ole},kle=(a,c)=>Nle[a](c),Ple=(a,c,f,y,S)=>{c!=="path"&&(a.rect=tR(f,y,S)),a.styles=hx(f,y,S),Mle[c](a,f,y,S)},Xee=(a,c)=>a[1].zIndex>c[1].zIndex?1:a[1].zIndex<c[1].zIndex?-1:0,Lle=(a,c={},f,y)=>new Promise(S=>{const{background:D=null}=y,I=new FileReader;I.onloadend=()=>{const B=I.result,U=document.createElement("div");U.style.cssText="position:absolute;pointer-events:none;width:0;height:0;visibility:hidden;",U.innerHTML=B;const j=U.querySelector("svg");document.body.appendChild(U);const Y=j.getBBox();U.parentNode.removeChild(U);const ne=U.querySelector("title"),ve=j.getAttribute("viewBox")||"",ie=j.getAttribute("width")||"",fe=j.getAttribute("height")||"";let ue=parseFloat(ie)||null,ce=parseFloat(fe)||null;const re=(ie.match(/[a-z]+/)||[])[0]||"",me=(fe.match(/[a-z]+/)||[])[0]||"",K=ve.split(" ").map(parseFloat),De=K.length?{x:K[0],y:K[1],width:K[2],height:K[3]}:Y;let Ge=ue??De.width,H=ce??De.height;j.style.overflow="visible",j.setAttribute("width",Ge),j.setAttribute("height",H);let Ee="";if(f&&f.length){const ao={width:Ge,height:H};Ee=f.sort(Xee).reduce((Fo,et)=>{const It=kle(et[0],et[1]);return Ple(It,et[0],et[1],ao),It.removeAttribute("id"),It.getAttribute("opacity")===1&&It.removeAttribute("opacity"),Fo+`
`+It.outerHTML+`
`},""),Ee=`

<g>${Ee.replace(/&nbsp;/g," ")}</g>

`}const qe=c.aspectRatio||H/Ge,ut=Ge,yt=ut*qe,ke=typeof c.scaleToFit>"u"||c.scaleToFit,_e=c.center?c.center.x:.5,mn=c.center?c.center.y:.5,wt=jee({width:Ge,height:H},Zee({width:ut,height:yt},qe),c.rotation,ke?{x:_e,y:mn}:{x:.5,y:.5}),Ot=c.zoom*wt,P=c.rotation*(180/Math.PI),Rt={x:ut*.5,y:yt*.5},tt={x:Rt.x-Ge*_e,y:Rt.y-H*mn},qt=[`rotate(${P} ${Rt.x} ${Rt.y})`,`translate(${Rt.x} ${Rt.y})`,`scale(${Ot})`,`translate(${-Rt.x} ${-Rt.y})`,`translate(${tt.x} ${tt.y})`],Vt=c.flip&&c.flip.horizontal,je=c.flip&&c.flip.vertical,vo=[`scale(${Vt?-1:1} ${je?-1:1})`,`translate(${Vt?-Ge:0} ${je?-H:0})`],Bo=`<?xml version="1.0" encoding="UTF-8"?>
<svg width="${ut}${re}" height="${yt}${me}" 
viewBox="0 0 ${ut} ${yt}" ${D?'style="background:'+D+'" ':""}
preserveAspectRatio="xMinYMin"
xmlns:xlink="http://www.w3.org/1999/xlink"
xmlns="http://www.w3.org/2000/svg">
<!-- Generated by PQINA - https://pqina.nl/ -->
<title>${ne?ne.textContent:""}</title>
<g transform="${qt.join(" ")}">
<g transform="${vo.join(" ")}">
${j.outerHTML}${Ee}
</g>
</g>
</svg>`;S(Bo)},I.readAsText(a)}),$le=a=>{let c;try{c=new ImageData(a.width,a.height)}catch{c=document.createElement("canvas").getContext("2d").createImageData(a.width,a.height)}return c.data.set(a.data),c},Ble=()=>{const a={resize:Y,filter:j},c=(ne,ve)=>(ne.forEach(ie=>{ve=a[ie.type](ve,ie.data)}),ve),f=(ne,ve)=>{let ie=ne.transforms,fe=null;if(ie.forEach(ue=>{ue.type==="filter"&&(fe=ue)}),fe){let ue=null;ie.forEach(ce=>{ce.type==="resize"&&(ue=ce)}),ue&&(ue.data.matrix=fe.data,ie=ie.filter(ce=>ce.type!=="filter"))}ve(c(ie,ne.imageData))};self.onmessage=ne=>{f(ne.data.message,ve=>{self.postMessage({id:ne.data.id,message:ve},[ve.data.buffer])})};const y=1,S=1,D=1;function I(ne,ve,ie){const fe=ve[ne]/255,ue=ve[ne+1]/255,ce=ve[ne+2]/255,re=ve[ne+3]/255,me=fe*ie[0]+ue*ie[1]+ce*ie[2]+re*ie[3]+ie[4],K=fe*ie[5]+ue*ie[6]+ce*ie[7]+re*ie[8]+ie[9],De=fe*ie[10]+ue*ie[11]+ce*ie[12]+re*ie[13]+ie[14],Ge=fe*ie[15]+ue*ie[16]+ce*ie[17]+re*ie[18]+ie[19],H=Math.max(0,me*Ge)+y*(1-Ge),Ee=Math.max(0,K*Ge)+S*(1-Ge),qe=Math.max(0,De*Ge)+D*(1-Ge);ve[ne]=Math.max(0,Math.min(1,H))*255,ve[ne+1]=Math.max(0,Math.min(1,Ee))*255,ve[ne+2]=Math.max(0,Math.min(1,qe))*255}const B=self.JSON.stringify([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]);function U(ne){return self.JSON.stringify(ne||[])===B}function j(ne,ve){if(!ve||U(ve))return ne;const ie=ne.data,fe=ie.length,ue=ve[0],ce=ve[1],re=ve[2],me=ve[3],K=ve[4],De=ve[5],Ge=ve[6],H=ve[7],Ee=ve[8],qe=ve[9],ut=ve[10],yt=ve[11],ke=ve[12],_e=ve[13],mn=ve[14],wt=ve[15],Ot=ve[16],P=ve[17],Rt=ve[18],tt=ve[19];let qt=0,Vt=0,je=0,vo=0,Bo=0,ao=0,Fo=0,et=0,It=0,oe=0,cs=0,uo=0;for(;qt<fe;qt+=4)Vt=ie[qt]/255,je=ie[qt+1]/255,vo=ie[qt+2]/255,Bo=ie[qt+3]/255,ao=Vt*ue+je*ce+vo*re+Bo*me+K,Fo=Vt*De+je*Ge+vo*H+Bo*Ee+qe,et=Vt*ut+je*yt+vo*ke+Bo*_e+mn,It=Vt*wt+je*Ot+vo*P+Bo*Rt+tt,oe=Math.max(0,ao*It)+y*(1-It),cs=Math.max(0,Fo*It)+S*(1-It),uo=Math.max(0,et*It)+D*(1-It),ie[qt]=Math.max(0,Math.min(1,oe))*255,ie[qt+1]=Math.max(0,Math.min(1,cs))*255,ie[qt+2]=Math.max(0,Math.min(1,uo))*255;return ne}function Y(ne,ve){let{mode:ie="contain",upscale:fe=!1,width:ue,height:ce,matrix:re}=ve;if(re=!re||U(re)?null:re,!ue&&!ce)return j(ne,re);if(ue===null?ue=ce:ce===null&&(ce=ue),ie!=="force"){let _e=ue/ne.width,mn=ce/ne.height,wt=1;if(ie==="cover"?wt=Math.max(_e,mn):ie==="contain"&&(wt=Math.min(_e,mn)),wt>1&&fe===!1)return j(ne,re);ue=ne.width*wt,ce=ne.height*wt}const me=ne.width,K=ne.height,De=Math.round(ue),Ge=Math.round(ce),H=ne.data,Ee=new Uint8ClampedArray(De*Ge*4),qe=me/De,ut=K/Ge,yt=Math.ceil(qe*.5),ke=Math.ceil(ut*.5);for(let _e=0;_e<Ge;_e++)for(let mn=0;mn<De;mn++){let wt=(mn+_e*De)*4,Ot=0,P=0,Rt=0,tt=0,qt=0,Vt=0,je=0,vo=(_e+.5)*ut;for(let Bo=Math.floor(_e*ut);Bo<(_e+1)*ut;Bo++){let ao=Math.abs(vo-(Bo+.5))/ke,Fo=(mn+.5)*qe,et=ao*ao;for(let It=Math.floor(mn*qe);It<(mn+1)*qe;It++){let oe=Math.abs(Fo-(It+.5))/yt,cs=Math.sqrt(et+oe*oe);if(cs>=-1&&cs<=1&&(Ot=2*cs*cs*cs-3*cs*cs+1,Ot>0)){oe=4*(It+Bo*me);let uo=H[oe+3];je+=Ot*uo,Rt+=Ot,uo<255&&(Ot=Ot*uo/250),tt+=Ot*H[oe],qt+=Ot*H[oe+1],Vt+=Ot*H[oe+2],P+=Ot}}}Ee[wt]=tt/P,Ee[wt+1]=qt/P,Ee[wt+2]=Vt/P,Ee[wt+3]=je/Rt,re&&I(wt,Ee,re)}return{data:Ee,width:De,height:Ge}}},Fle=(a,c)=>{if(a.getUint32(c+4,!1)!==1165519206)return;c+=4;const f=a.getUint16(c+=6,!1)===18761;c+=a.getUint32(c+4,f);const y=a.getUint16(c,f);c+=2;for(let S=0;S<y;S++)if(a.getUint16(c+S*12,f)===274)return a.setUint16(c+S*12+8,1,f),!0;return!1},Hle=a=>{const c=new DataView(a);if(c.getUint16(0)!==65496)return null;let f=2,y,S,D=!1;for(;f<c.byteLength&&(y=c.getUint16(f,!1),S=c.getUint16(f+2,!1)+2,!(!(y>=65504&&y<=65519||y===65534)||(D||(D=Fle(c,f)),f+S>c.byteLength)));)f+=S;return a.slice(0,f)},Vle=a=>new Promise(c=>{const f=new FileReader;f.onload=()=>c(Hle(f.result)||null),f.readAsArrayBuffer(a.slice(0,256*1024))}),Ule=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,zle=(a,c)=>{const f=Ule();if(f){const y=new f;return y.append(a),y.getBlob(c)}return new Blob([a],{type:c})},Wle=()=>Math.random().toString(36).substr(2,9),Gle=a=>{const c=new Blob(["(",a.toString(),")()"],{type:"application/javascript"}),f=URL.createObjectURL(c),y=new Worker(f),S=[];return{transfer:()=>{},post:(D,I,B)=>{const U=Wle();S[U]=I,y.onmessage=j=>{const Y=S[j.data.id];Y&&(Y(j.data.message),delete S[j.data.id])},y.postMessage({id:U,message:D},B)},terminate:()=>{y.terminate(),URL.revokeObjectURL(f)}}},qle=a=>new Promise((c,f)=>{const y=new Image;y.onload=()=>{c(y)},y.onerror=S=>{f(S)},y.src=a}),jle=a=>a.reduce((c,f)=>c.then(y=>f().then(Array.prototype.concat.bind(y))),Promise.resolve([])),Zle=(a,c)=>new Promise(f=>{const y={width:a.width,height:a.height},S=a.getContext("2d"),D=c.sort(Xee).map(I=>()=>new Promise(B=>{tue[I[0]](S,y,I[1],B)&&B()}));jle(D).then(()=>f(a))}),nR=(a,c)=>{a.beginPath(),a.lineCap=c["stroke-linecap"],a.lineJoin=c["stroke-linejoin"],a.lineWidth=c["stroke-width"],c["stroke-dasharray"].length&&a.setLineDash(c["stroke-dasharray"].split(",")),a.fillStyle=c.fill,a.strokeStyle=c.stroke,a.globalAlpha=c.opacity||1},oR=a=>{a.fill(),a.stroke(),a.globalAlpha=1},Yle=(a,c,f)=>{const y=tR(f,c),S=hx(f,c);return nR(a,S),a.rect(y.x,y.y,y.width,y.height),oR(a),!0},Kle=(a,c,f)=>{const y=tR(f,c),S=hx(f,c);nR(a,S);const D=y.x,I=y.y,B=y.width,U=y.height,j=.5522848,Y=B/2*j,ne=U/2*j,ve=D+B,ie=I+U,fe=D+B/2,ue=I+U/2;return a.moveTo(D,ue),a.bezierCurveTo(D,ue-ne,fe-Y,I,fe,I),a.bezierCurveTo(fe+Y,I,ve,ue-ne,ve,ue),a.bezierCurveTo(ve,ue+ne,fe+Y,ie,fe,ie),a.bezierCurveTo(fe-Y,ie,D,ue+ne,D,ue),oR(a),!0},Xle=(a,c,f,y)=>{const S=tR(f,c),D=hx(f,c);nR(a,D);const I=new Image;new URL(f.src,window.location.href).origin!==window.location.origin&&(I.crossOrigin=""),I.onload=()=>{if(f.fit==="cover"){const U=S.width/S.height,j=U>1?I.width:I.height*U,Y=U>1?I.width/U:I.height,ne=I.width*.5-j*.5,ve=I.height*.5-Y*.5;a.drawImage(I,ne,ve,j,Y,S.x,S.y,S.width,S.height)}else if(f.fit==="contain"){const U=Math.min(S.width/I.width,S.height/I.height),j=U*I.width,Y=U*I.height,ne=S.x+S.width*.5-j*.5,ve=S.y+S.height*.5-Y*.5;a.drawImage(I,0,0,I.width,I.height,ne,ve,j,Y)}else a.drawImage(I,0,0,I.width,I.height,S.x,S.y,S.width,S.height);oR(a),y()},I.src=f.src},Qle=(a,c,f)=>{const y=tR(f,c),S=hx(f,c);nR(a,S);const D=Wd(f.fontSize,c),I=f.fontFamily||"sans-serif",B=f.fontWeight||"normal",U=f.textAlign||"left";return a.font=`${B} ${D}px ${I}`,a.textAlign=U,a.fillText(f.text,y.x,y.y),oR(a),!0},Jle=(a,c,f)=>{const y=hx(f,c);nR(a,y),a.beginPath();const S=f.points.map(I=>({x:Wd(I.x,c,1,"width"),y:Wd(I.y,c,1,"height")}));a.moveTo(S[0].x,S[0].y);const D=S.length;for(let I=1;I<D;I++)a.lineTo(S[I].x,S[I].y);return oR(a),!0},eue=(a,c,f)=>{const y=tR(f,c),S=hx(f,c);nR(a,S),a.beginPath();const D={x:y.x,y:y.y},I={x:y.x+y.width,y:y.y+y.height};a.moveTo(D.x,D.y),a.lineTo(I.x,I.y);const B=Kee({x:I.x-D.x,y:I.y-D.y}),U=.04*Math.min(c.width,c.height);if(f.lineDecoration.indexOf("arrow-begin")!==-1){const j=CH(B,U),Y=SH(D,j),ne=Dw(D,2,Y),ve=Dw(D,-2,Y);a.moveTo(ne.x,ne.y),a.lineTo(D.x,D.y),a.lineTo(ve.x,ve.y)}if(f.lineDecoration.indexOf("arrow-end")!==-1){const j=CH(B,-U),Y=SH(I,j),ne=Dw(I,2,Y),ve=Dw(I,-2,Y);a.moveTo(ne.x,ne.y),a.lineTo(I.x,I.y),a.lineTo(ve.x,ve.y)}return oR(a),!0},tue={rect:Yle,ellipse:Kle,image:Xle,text:Qle,line:eue,path:Jle},nue=a=>{const c=document.createElement("canvas");return c.width=a.width,c.height=a.height,c.getContext("2d").putImageData(a,0,0),c},oue=(a,c,f={})=>new Promise((y,S)=>{if(!a||!ule(a))return S({status:"not an image file",file:a});const{stripImageHead:D,beforeCreateBlob:I,afterCreateBlob:B,canvasMemoryLimit:U}=f,{crop:j,size:Y,filter:ne,markup:ve,output:ie}=c,fe=c.image&&c.image.orientation?Math.max(1,Math.min(8,c.image.orientation)):null,ue=ie&&ie.quality,ce=ue===null?null:ue/100,re=ie&&ie.type||null,me=ie&&ie.background||null,K=[];Y&&(typeof Y.width=="number"||typeof Y.height=="number")&&K.push({type:"resize",data:Y}),ne&&ne.length===20&&K.push({type:"filter",data:ne});const De=Ee=>{const qe=B?B(Ee):Ee;Promise.resolve(qe).then(y)},Ge=(Ee,qe)=>{const ut=nue(Ee),yt=ve.length?Zle(ut,ve):ut;Promise.resolve(yt).then(ke=>{yle(ke,qe,I).then(_e=>{if(Yee(ke),D)return De(_e);Vle(a).then(mn=>{mn!==null&&(_e=new Blob([mn,_e.slice(20)],{type:_e.type})),De(_e)})}).catch(S)})};if(/svg/.test(a.type)&&re===null)return Lle(a,j,ve,{background:me}).then(Ee=>{y(zle(Ee,"image/svg+xml"))});const H=URL.createObjectURL(a);qle(H).then(Ee=>{URL.revokeObjectURL(H);const qe=vle(Ee,fe,j,{canvasMemoryLimit:U,background:me}),ut={quality:ce,type:re||a.type};if(!K.length)return Ge(qe,ut);const yt=Gle(Ble);yt.post({transforms:K,imageData:qe},ke=>{Ge($le(ke),ut),yt.terminate()},[qe.data.buffer])}).catch(S)}),sue=["x","y","left","top","right","bottom","width","height"],rue=a=>typeof a=="string"&&/%/.test(a)?parseFloat(a)/100:a,iue=a=>{const[c,f]=a,y=f.points?{}:sue.reduce((S,D)=>(S[D]=rue(f[D]),S),{});return[c,{zIndex:0,...f,...y}]},aue=a=>new Promise((c,f)=>{const y=new Image;y.src=URL.createObjectURL(a);const S=()=>{const I=y.naturalWidth,B=y.naturalHeight;I&&B&&(URL.revokeObjectURL(y.src),clearInterval(D),c({width:I,height:B}))};y.onerror=I=>{URL.revokeObjectURL(y.src),clearInterval(D),f(I)};const D=setInterval(S,1);S()});typeof window<"u"&&typeof window.document<"u"&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(a,c,f){const y=this;setTimeout(()=>{const S=y.toDataURL(c,f).split(",")[1],D=atob(S);let I=D.length;const B=new Uint8Array(I);for(;I--;)B[I]=D.charCodeAt(I);a(new Blob([B],{type:c||"image/png"}))})}}));const AY=typeof window<"u"&&typeof window.document<"u",cue=AY&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,lue=({addFilter:a,utils:c})=>{const{Type:f,forin:y,getFileFromBlob:S,isFile:D}=c,I=["crop","resize","filter","markup","output"],B=Y=>(ne,ve,ie)=>ne(ve,Y?Y(ie):ie),U=Y=>Y.aspectRatio===null&&Y.rotation===0&&Y.zoom===1&&Y.center&&Y.center.x===.5&&Y.center.y===.5&&Y.flip&&Y.flip.horizontal===!1&&Y.flip.vertical===!1;a("SHOULD_PREPARE_OUTPUT",(Y,{query:ne})=>new Promise(ve=>{ve(!ne("IS_ASYNC"))}));const j=(Y,ne,ve)=>new Promise(ie=>{if(!Y("GET_ALLOW_IMAGE_TRANSFORM")||ve.archived||!D(ne)||!rle(ne))return ie(!1);aue(ne).then(()=>{const fe=Y("GET_IMAGE_TRANSFORM_IMAGE_FILTER");if(fe){const ue=fe(ne);if(ue==null)return handleRevert(!0);if(typeof ue=="boolean")return ie(ue);if(typeof ue.then=="function")return ue.then(ie)}ie(!0)}).catch(fe=>{ie(!1)})});return a("DID_CREATE_ITEM",(Y,{query:ne,dispatch:ve})=>{ne("GET_ALLOW_IMAGE_TRANSFORM")&&Y.extend("requestPrepare",()=>new Promise((ie,fe)=>{ve("REQUEST_PREPARE_OUTPUT",{query:Y.id,item:Y,success:ie,failure:fe},!0)}))}),a("PREPARE_OUTPUT",(Y,{query:ne,item:ve})=>new Promise(ie=>{j(ne,Y,ve).then(fe=>{if(!fe)return ie(Y);const ue=[];ne("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_ORIGINAL")&&ue.push(()=>new Promise(qe=>{qe({name:ne("GET_IMAGE_TRANSFORM_VARIANTS_ORIGINAL_NAME"),file:Y})})),ne("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_DEFAULT")&&ue.push((qe,ut,yt)=>new Promise(ke=>{qe(ut,yt).then(_e=>ke({name:ne("GET_IMAGE_TRANSFORM_VARIANTS_DEFAULT_NAME"),file:_e}))}));const ce=ne("GET_IMAGE_TRANSFORM_VARIANTS")||{};y(ce,(qe,ut)=>{const yt=B(ut);ue.push((ke,_e,mn)=>new Promise(wt=>{yt(ke,_e,mn).then(Ot=>wt({name:qe,file:Ot}))}))});const re=ne("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY"),me=ne("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY_MODE"),K=re===null?null:re/100,De=ne("GET_IMAGE_TRANSFORM_OUTPUT_MIME_TYPE"),Ge=ne("GET_IMAGE_TRANSFORM_CLIENT_TRANSFORMS")||I;ve.setMetadata("output",{type:De,quality:K,client:Ge},!0);const H=(qe,ut)=>new Promise((yt,ke)=>{const _e={...ut};Object.keys(_e).filter(je=>je!=="exif").forEach(je=>{Ge.indexOf(je)===-1&&delete _e[je]});const{resize:mn,exif:wt,output:Ot,crop:P,filter:Rt,markup:tt}=_e,qt={image:{orientation:wt?wt.orientation:null},output:Ot&&(Ot.type||typeof Ot.quality=="number"||Ot.background)?{type:Ot.type,quality:typeof Ot.quality=="number"?Ot.quality*100:null,background:Ot.background||ne("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR")||null}:void 0,size:mn&&(mn.size.width||mn.size.height)?{mode:mn.mode,upscale:mn.upscale,...mn.size}:void 0,crop:P&&!U(P)?{...P}:void 0,markup:tt&&tt.length?tt.map(iue):[],filter:Rt};if(qt.output){const je=Ot.type?Ot.type!==qe.type:!1,vo=/\/jpe?g$/.test(qe.type),Bo=Ot.quality!==null?vo&&me==="always":!1;if(!!!(qt.size||qt.crop||qt.filter||je||Bo))return yt(qe)}const Vt={beforeCreateBlob:ne("GET_IMAGE_TRANSFORM_BEFORE_CREATE_BLOB"),afterCreateBlob:ne("GET_IMAGE_TRANSFORM_AFTER_CREATE_BLOB"),canvasMemoryLimit:ne("GET_IMAGE_TRANSFORM_CANVAS_MEMORY_LIMIT"),stripImageHead:ne("GET_IMAGE_TRANSFORM_OUTPUT_STRIP_IMAGE_HEAD")};oue(qe,qt,Vt).then(je=>{const vo=S(je,cle(qe.name,lle(je.type)));yt(vo)}).catch(ke)}),Ee=ue.map(qe=>qe(H,Y,ve.getMetadata()));Promise.all(Ee).then(qe=>{ie(qe.length===1&&qe[0].name===null?qe[0].file:qe)})})})),{options:{allowImageTransform:[!0,f.BOOLEAN],imageTransformImageFilter:[null,f.FUNCTION],imageTransformOutputMimeType:[null,f.STRING],imageTransformOutputQuality:[null,f.INT],imageTransformOutputStripImageHead:[!0,f.BOOLEAN],imageTransformClientTransforms:[null,f.ARRAY],imageTransformOutputQualityMode:["always",f.STRING],imageTransformVariants:[null,f.OBJECT],imageTransformVariantsIncludeDefault:[!0,f.BOOLEAN],imageTransformVariantsDefaultName:[null,f.STRING],imageTransformVariantsIncludeOriginal:[!1,f.BOOLEAN],imageTransformVariantsOriginalName:["original_",f.STRING],imageTransformBeforeCreateBlob:[null,f.FUNCTION],imageTransformAfterCreateBlob:[null,f.FUNCTION],imageTransformCanvasMemoryLimit:[AY&&cue?4096*4096:null,f.INT],imageTransformCanvasBackgroundColor:[null,f.STRING]}}};AY&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:lue}));/*!
 * FilePondPluginImageEdit 1.6.3
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const oZ=a=>/^image/.test(a.type),uue=a=>{const{addFilter:c,utils:f,views:y}=a,{Type:S,createRoute:D,createItemAPI:I=Y=>Y}=f,{fileActionButton:B}=y;c("SHOULD_REMOVE_ON_REVERT",(Y,{item:ne,query:ve})=>new Promise(ie=>{const{file:fe}=ne,ue=ve("GET_ALLOW_IMAGE_EDIT")&&ve("GET_IMAGE_EDIT_ALLOW_EDIT")&&oZ(fe);ie(!ue)})),c("DID_LOAD_ITEM",(Y,{query:ne,dispatch:ve})=>new Promise((ie,fe)=>{if(Y.origin>1){ie(Y);return}const{file:ue}=Y;if(!ne("GET_ALLOW_IMAGE_EDIT")||!ne("GET_IMAGE_EDIT_INSTANT_EDIT")){ie(Y);return}if(!oZ(ue)){ie(Y);return}const ce=(me,K,De)=>Ge=>{U.shift(),Ge?K(me):De(me),ve("KICK"),re()},re=()=>{if(!U.length)return;const{item:me,resolve:K,reject:De}=U[0];ve("EDIT_ITEM",{id:me.id,handleEditorResponse:ce(me,K,De)})};j({item:Y,resolve:ie,reject:fe}),U.length===1&&re()})),c("DID_CREATE_ITEM",(Y,{query:ne,dispatch:ve})=>{Y.extend("edit",()=>{ve("EDIT_ITEM",{id:Y.id})})});const U=[],j=Y=>(U.push(Y),Y);return c("CREATE_VIEW",Y=>{const{is:ne,view:ve,query:ie}=Y;if(!ie("GET_ALLOW_IMAGE_EDIT"))return;const fe=ie("GET_ALLOW_IMAGE_PREVIEW");if(!(ne("file-info")&&!fe||ne("file")&&fe))return;const ce=ie("GET_IMAGE_EDIT_EDITOR");if(!ce)return;ce.filepondCallbackBridge||(ce.outputData=!0,ce.outputFile=!1,ce.filepondCallbackBridge={onconfirm:ce.onconfirm||(()=>{}),oncancel:ce.oncancel||(()=>{})});const re=({root:De,props:Ge,action:H})=>{const{id:Ee}=Ge,{handleEditorResponse:qe}=H;ce.cropAspectRatio=De.query("GET_IMAGE_CROP_ASPECT_RATIO")||ce.cropAspectRatio,ce.outputCanvasBackgroundColor=De.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR")||ce.outputCanvasBackgroundColor;const ut=De.query("GET_ITEM",Ee);if(!ut)return;const yt=ut.file,ke=ut.getMetadata("crop"),_e={center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},mn=ut.getMetadata("resize"),wt=ut.getMetadata("filter")||null,Ot=ut.getMetadata("filters")||null,P=ut.getMetadata("colors")||null,Rt=ut.getMetadata("markup")||null,tt={crop:ke||_e,size:mn?{upscale:mn.upscale,mode:mn.mode,width:mn.size.width,height:mn.size.height}:null,filter:Ot?Ot.id||Ot.matrix:De.query("GET_ALLOW_IMAGE_FILTER")&&De.query("GET_IMAGE_FILTER_COLOR_MATRIX")&&!P?wt:null,color:P,markup:Rt};ce.onconfirm=({data:qt})=>{const{crop:Vt,size:je,filter:vo,color:Bo,colorMatrix:ao,markup:Fo}=qt,et={};if(Vt&&(et.crop=Vt),je){const It=(ut.getMetadata("resize")||{}).size,oe={width:je.width,height:je.height};!(oe.width&&oe.height)&&It&&(oe.width=It.width,oe.height=It.height),(oe.width||oe.height)&&(et.resize={upscale:je.upscale,mode:je.mode,size:oe})}Fo&&(et.markup=Fo),et.colors=Bo,et.filters=vo,et.filter=ao,ut.setMetadata(et),ce.filepondCallbackBridge.onconfirm(qt,I(ut)),qe&&(ce.onclose=()=>{qe(!0),ce.onclose=null})},ce.oncancel=()=>{ce.filepondCallbackBridge.oncancel(I(ut)),qe&&(ce.onclose=()=>{qe(!1),ce.onclose=null})},ce.open(yt,tt)},me=({root:De,props:Ge})=>{if(!ie("GET_IMAGE_EDIT_ALLOW_EDIT"))return;const{id:H}=Ge,Ee=ie("GET_ITEM",H);if(!Ee)return;const qe=Ee.file;if(oZ(qe))if(De.ref.handleEdit=ut=>{ut.stopPropagation(),De.dispatch("EDIT_ITEM",{id:H})},fe){const ut=ve.createChildView(B,{label:"edit",icon:ie("GET_IMAGE_EDIT_ICON_EDIT"),opacity:0});ut.element.classList.add("filepond--action-edit-item"),ut.element.dataset.align=ie("GET_STYLE_IMAGE_EDIT_BUTTON_EDIT_ITEM_POSITION"),ut.on("click",De.ref.handleEdit),De.ref.buttonEditItem=ve.appendChildView(ut)}else{const ut=ve.element.querySelector(".filepond--file-info-main"),yt=document.createElement("button");yt.className="filepond--action-edit-item-alt",yt.innerHTML=ie("GET_IMAGE_EDIT_ICON_EDIT")+"<span>edit</span>",yt.addEventListener("click",De.ref.handleEdit),ut.appendChild(yt),De.ref.editButton=yt}};ve.registerDestroyer(({root:De})=>{De.ref.buttonEditItem&&De.ref.buttonEditItem.off("click",De.ref.handleEdit),De.ref.editButton&&De.ref.editButton.removeEventListener("click",De.ref.handleEdit)});const K={EDIT_ITEM:re,DID_LOAD_ITEM:me};if(fe){const De=({root:Ge})=>{Ge.ref.buttonEditItem&&(Ge.ref.buttonEditItem.opacity=1)};K.DID_IMAGE_PREVIEW_SHOW=De}ve.registerWriter(D(K))}),{options:{allowImageEdit:[!0,S.BOOLEAN],styleImageEditButtonEditItemPosition:["bottom center",S.STRING],imageEditInstantEdit:[!1,S.BOOLEAN],imageEditAllowEdit:[!0,S.BOOLEAN],imageEditIconEdit:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false"><path d="M8.5 17h1.586l7-7L15.5 8.414l-7 7V17zm-1.707-2.707l8-8a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-8 8A1 1 0 0 1 10.5 19h-3a1 1 0 0 1-1-1v-3a1 1 0 0 1 .293-.707z" fill="currentColor" fill-rule="nonzero"/></svg>',S.STRING],imageEditEditor:[null,S.OBJECT]}}},due=typeof window<"u"&&typeof window.document<"u";due&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:uue}));/*!
 * FilePondPluginFileEncode 2.1.10
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const fue=function(){self.onmessage=c=>{a(c.data.message,f=>{self.postMessage({id:c.data.id,message:f})})};const a=(c,f)=>{const{file:y}=c,S=new FileReader;S.onloadend=()=>{f(S.result.replace("data:","").replace(/^.+,/,""))},S.readAsDataURL(y)}},Qee=({addFilter:a,utils:c})=>{const{Type:f,createWorker:y,createRoute:S,isFile:D}=c,I=({name:U,file:j})=>new Promise(Y=>{const ne=y(fue);ne.post({file:j},ve=>{Y({name:U,data:ve}),ne.terminate()})}),B=[];return a("DID_CREATE_ITEM",(U,{query:j})=>{j("GET_ALLOW_FILE_ENCODE")&&(U.extend("getFileEncodeBase64String",()=>B[U.id]&&B[U.id].data),U.extend("getFileEncodeDataURL",()=>`data:${U.fileType};base64,${B[U.id].data}`))}),a("SHOULD_PREPARE_OUTPUT",(U,{query:j})=>new Promise(Y=>{Y(j("GET_ALLOW_FILE_ENCODE"))})),a("COMPLETE_PREPARE_OUTPUT",(U,{item:j,query:Y})=>new Promise(ne=>{if(!Y("GET_ALLOW_FILE_ENCODE")||!D(U)&&!Array.isArray(U))return ne(U);B[j.id]={metadata:j.getMetadata(),data:null},Promise.all((U instanceof Blob?[{name:null,file:U}]:U).map(I)).then(ve=>{B[j.id].data=U instanceof Blob?ve[0].data:ve,ne(U)})})),a("CREATE_VIEW",U=>{const{is:j,view:Y,query:ne}=U;!j("file-wrapper")||!ne("GET_ALLOW_FILE_ENCODE")||Y.registerWriter(S({DID_PREPARE_OUTPUT:({root:ve,action:ie})=>{if(ne("IS_ASYNC"))return;const fe=ne("GET_ITEM",ie.id);if(!fe)return;const ue=B[fe.id],ce=ue.metadata,re=ue.data,me=JSON.stringify({id:fe.id,name:fe.file.name,type:fe.file.type,size:fe.file.size,metadata:ce,data:re});ve.ref.data?ve.ref.data.value=me:ve.dispatch("DID_DEFINE_VALUE",{id:fe.id,value:me})},DID_REMOVE_ITEM:({action:ve})=>{const ie=ne("GET_ITEM",ve.id);ie&&delete B[ie.id]}}))}),{options:{allowFileEncode:[!0,f.BOOLEAN]}}},hue=typeof window<"u"&&typeof window.document<"u";hue&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Qee}));/*!
 * FilePondPluginFilePoster 2.5.1
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const PQ={type:"spring",stiffness:.5,damping:.45,mass:10},mue=a=>a.utils.createView({name:"file-poster",tag:"div",ignoreRect:!0,create:({root:c})=>{c.ref.image=document.createElement("img"),c.element.appendChild(c.ref.image)},write:a.utils.createRoute({DID_FILE_POSTER_LOAD:({root:c,props:f})=>{const{id:y}=f,S=c.query("GET_ITEM",{id:f.id});if(!S)return;const D=S.getMetadata("poster");c.ref.image.src=D,c.dispatch("DID_FILE_POSTER_DRAW",{id:y})}}),mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:PQ,scaleY:PQ,opacity:{type:"tween",duration:750}}}}),pue=(a,c)=>{c.width=a.width,c.height=a.height,c.getContext("2d").drawImage(a,0,0)},gue=a=>a.utils.createView({name:"file-poster-overlay",tag:"canvas",ignoreRect:!0,create:({root:c,props:f})=>{pue(f.template,c.element)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}}),vue=(a,c)=>{let f=new Image;f.onload=()=>{const y=f.naturalWidth,S=f.naturalHeight;f=null,c(y,S)},f.src=a},bue=a=>-.5*(Math.cos(Math.PI*a)-1),yue=(a,c,f=1,y=bue,S=10,D=0)=>{const I=1-D,B=c.join(",");for(let U=0;U<=S;U++){const j=U/S,Y=D+I*j;a.addColorStop(Y,`rgba(${B}, ${y(j)*f})`)}},_ue=10,Eue=10,wue=a=>{const c=Math.min(_ue/a.width,Eue/a.height),f=document.createElement("canvas"),y=f.getContext("2d"),S=f.width=Math.ceil(a.width*c),D=f.height=Math.ceil(a.height*c);y.drawImage(a,0,0,S,D);let I=null;try{I=y.getImageData(0,0,S,D).data}catch{return null}const B=I.length;let U=0,j=0,Y=0,ne=0;for(;ne<B;ne+=4)U+=I[ne]*I[ne],j+=I[ne+1]*I[ne+1],Y+=I[ne+2]*I[ne+2];return U=sZ(U,B),j=sZ(j,B),Y=sZ(Y,B),{r:U,g:j,b:Y}},sZ=(a,c)=>Math.floor(Math.sqrt(a/(c/4))),HO=(a,c,f,y,S)=>{a.width=c,a.height=f;const D=a.getContext("2d"),I=c*.5,B=D.createRadialGradient(I,f+110,f-100,I,f+110,f+100);yue(B,y,S,void 0,8,.4),D.save(),D.translate(-c*.5,0),D.scale(2,1),D.fillStyle=B,D.fillRect(0,0,c,f),D.restore()},qH=typeof navigator<"u",VO=500,UO=200,zZ=qH&&document.createElement("canvas"),WZ=qH&&document.createElement("canvas"),GZ=qH&&document.createElement("canvas");let cH=[40,40,40],lH=[196,78,71],uH=[54,151,99];qH&&(HO(zZ,VO,UO,cH,.85),HO(WZ,VO,UO,lH,1),HO(GZ,VO,UO,uH,1));const Tue=(a,c)=>new Promise((f,y)=>{const S=new Image;typeof crossOrigin=="string"&&(S.crossOrigin=c),S.onload=()=>{f(S)},S.onerror=D=>{y(D)},S.src=a}),Cue=a=>{const c=gue(a),f=({root:j,props:Y})=>{const{id:ne}=Y,ve=j.query("GET_ITEM",ne);if(!ve)return;const ie=ve.getMetadata("poster"),fe=ue=>{const ce=j.query("GET_FILE_POSTER_CALCULATE_AVERAGE_IMAGE_COLOR")?wue(ue):null;ve.setMetadata("color",ce,!0),j.dispatch("DID_FILE_POSTER_LOAD",{id:ne,data:ue})};vue(ie,(ue,ce)=>{j.dispatch("DID_FILE_POSTER_CALCULATE_SIZE",{id:ne,width:ue,height:ce}),Tue(ie,j.query("GET_FILE_POSTER_CROSS_ORIGIN_ATTRIBUTE_VALUE")).then(fe)})},y=({root:j})=>{j.ref.overlayShadow.opacity=1},S=({root:j})=>{const{image:Y}=j.ref;Y.scaleX=1,Y.scaleY=1,Y.opacity=1},D=({root:j})=>{j.ref.overlayShadow.opacity=1,j.ref.overlayError.opacity=0,j.ref.overlaySuccess.opacity=0},I=({root:j})=>{j.ref.overlayShadow.opacity=.25,j.ref.overlayError.opacity=1},B=({root:j})=>{j.ref.overlayShadow.opacity=.25,j.ref.overlaySuccess.opacity=1},U=({root:j,props:Y})=>{const ne=j.query("GET_FILE_POSTER_ITEM_OVERLAY_SHADOW_COLOR"),ve=j.query("GET_FILE_POSTER_ITEM_OVERLAY_ERROR_COLOR"),ie=j.query("GET_FILE_POSTER_ITEM_OVERLAY_SUCCESS_COLOR");ne&&ne!==cH&&(cH=ne,HO(zZ,VO,UO,cH,.85)),ve&&ve!==lH&&(lH=ve,HO(WZ,VO,UO,lH,1)),ie&&ie!==uH&&(uH=ie,HO(GZ,VO,UO,uH,1));const fe=mue(a);j.ref.image=j.appendChildView(j.createChildView(fe,{id:Y.id,scaleX:1.25,scaleY:1.25,opacity:0})),j.ref.overlayShadow=j.appendChildView(j.createChildView(c,{template:zZ,opacity:0})),j.ref.overlaySuccess=j.appendChildView(j.createChildView(c,{template:GZ,opacity:0})),j.ref.overlayError=j.appendChildView(j.createChildView(c,{template:WZ,opacity:0}))};return a.utils.createView({name:"file-poster-wrapper",create:U,write:a.utils.createRoute({DID_FILE_POSTER_LOAD:y,DID_FILE_POSTER_DRAW:S,DID_FILE_POSTER_CONTAINER_CREATE:f,DID_THROW_ITEM_LOAD_ERROR:I,DID_THROW_ITEM_PROCESSING_ERROR:I,DID_THROW_ITEM_INVALID:I,DID_COMPLETE_ITEM_PROCESSING:B,DID_START_ITEM_PROCESSING:D,DID_REVERT_ITEM_PROCESSING:D})})},Jee=a=>{const{addFilter:c,utils:f}=a,{Type:y,createRoute:S}=f,D=Cue(a);return c("CREATE_VIEW",I=>{const{is:B,view:U,query:j}=I;if(!B("file")||!j("GET_ALLOW_FILE_POSTER"))return;const Y=({root:ue,props:ce})=>{ve(ue,ce)},ne=({root:ue,props:ce,action:re})=>{/poster/.test(re.change.key)&&ve(ue,ce)},ve=(ue,ce)=>{const{id:re}=ce,me=j("GET_ITEM",re);!me||!me.getMetadata("poster")||me.archived||ue.ref.previousPoster!==me.getMetadata("poster")&&(ue.ref.previousPoster=me.getMetadata("poster"),j("GET_FILE_POSTER_FILTER_ITEM")(me)&&(ue.ref.filePoster&&U.removeChildView(ue.ref.filePoster),ue.ref.filePoster=U.appendChildView(U.createChildView(D,{id:re})),ue.dispatch("DID_FILE_POSTER_CONTAINER_CREATE",{id:re})))},ie=({root:ue,action:ce})=>{ue.ref.filePoster&&(ue.ref.imageWidth=ce.width,ue.ref.imageHeight=ce.height,ue.ref.shouldUpdatePanelHeight=!0,ue.dispatch("KICK"))},fe=({root:ue})=>{let ce=ue.query("GET_FILE_POSTER_HEIGHT");if(ce)return ce;const re=ue.query("GET_FILE_POSTER_MIN_HEIGHT"),me=ue.query("GET_FILE_POSTER_MAX_HEIGHT");if(re&&ue.ref.imageHeight<re)return re;let K=ue.rect.element.width*(ue.ref.imageHeight/ue.ref.imageWidth);return re&&K<re?re:me&&K>me?me:K};U.registerWriter(S({DID_LOAD_ITEM:Y,DID_FILE_POSTER_CALCULATE_SIZE:ie,DID_UPDATE_ITEM_METADATA:ne},({root:ue,props:ce})=>{ue.ref.filePoster&&(ue.rect.element.hidden||ue.ref.shouldUpdatePanelHeight&&(ue.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:ce.id,height:fe({root:ue})}),ue.ref.shouldUpdatePanelHeight=!1))}))}),{options:{allowFilePoster:[!0,y.BOOLEAN],filePosterHeight:[null,y.INT],filePosterMinHeight:[null,y.INT],filePosterMaxHeight:[null,y.INT],filePosterFilterItem:[()=>!0,y.FUNCTION],filePosterCalculateAverageImageColor:[!1,y.BOOLEAN],filePosterCrossOriginAttributeValue:["Anonymous",y.STRING],filePosterItemOverlayShadowColor:[null,y.ARRAY],filePosterItemOverlayErrorColor:[null,y.ARRAY],filePosterItemOverlaySuccessColor:[null,y.ARRAY]}}},Sue=typeof window<"u"&&typeof window.document<"u";Sue&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Jee}));var LQ={},xue={get exports(){return LQ},set exports(a){LQ=a}},xH={},Aue={get exports(){return xH},set exports(a){xH=a}},AH={},Oue={get exports(){return AH},set exports(a){AH=a}},$Q;function ete(){return $Q||($Q=1,function(a){(function(c,f){a.exports?a.exports=f():c.EvEmitter=f()})(typeof window<"u"?window:Iw,function(){function c(){}var f=c.prototype;return f.on=function(y,S){if(!(!y||!S)){var D=this._events=this._events||{},I=D[y]=D[y]||[];return I.indexOf(S)==-1&&I.push(S),this}},f.once=function(y,S){if(!(!y||!S)){this.on(y,S);var D=this._onceEvents=this._onceEvents||{},I=D[y]=D[y]||{};return I[S]=!0,this}},f.off=function(y,S){var D=this._events&&this._events[y];if(!(!D||!D.length)){var I=D.indexOf(S);return I!=-1&&D.splice(I,1),this}},f.emitEvent=function(y,S){var D=this._events&&this._events[y];if(!(!D||!D.length)){D=D.slice(0),S=S||[];for(var I=this._onceEvents&&this._onceEvents[y],B=0;B<D.length;B++){var U=D[B],j=I&&I[U];j&&(this.off(y,U),delete I[U]),U.apply(this,S)}return this}},f.allOff=function(){delete this._events,delete this._onceEvents},c})}(Oue)),AH}var OH={},Rue={get exports(){return OH},set exports(a){OH=a}};/*!
 * getSize v2.0.3
 * measure size of elements
 * MIT license
 */var BQ;function OY(){return BQ||(BQ=1,function(a){(function(c,f){a.exports?a.exports=f():c.getSize=f()})(window,function(){function f(ie){var fe=parseFloat(ie),ue=ie.indexOf("%")==-1&&!isNaN(fe);return ue&&fe}function y(){}var S=typeof console>"u"?y:function(ie){console.error(ie)},D=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],I=D.length;function B(){for(var ie={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},fe=0;fe<I;fe++){var ue=D[fe];ie[ue]=0}return ie}function U(ie){var fe=getComputedStyle(ie);return fe||S("Style returned "+fe+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),fe}var j=!1,Y;function ne(){if(!j){j=!0;var ie=document.createElement("div");ie.style.width="200px",ie.style.padding="1px 2px 3px 4px",ie.style.borderStyle="solid",ie.style.borderWidth="1px 2px 3px 4px",ie.style.boxSizing="border-box";var fe=document.body||document.documentElement;fe.appendChild(ie);var ue=U(ie);Y=Math.round(f(ue.width))==200,ve.isBoxSizeOuter=Y,fe.removeChild(ie)}}function ve(ie){if(ne(),typeof ie=="string"&&(ie=document.querySelector(ie)),!(!ie||typeof ie!="object"||!ie.nodeType)){var fe=U(ie);if(fe.display=="none")return B();var ue={};ue.width=ie.offsetWidth,ue.height=ie.offsetHeight;for(var ce=ue.isBorderBox=fe.boxSizing=="border-box",re=0;re<I;re++){var me=D[re],K=fe[me],De=parseFloat(K);ue[me]=isNaN(De)?0:De}var Ge=ue.paddingLeft+ue.paddingRight,H=ue.paddingTop+ue.paddingBottom,Ee=ue.marginLeft+ue.marginRight,qe=ue.marginTop+ue.marginBottom,ut=ue.borderLeftWidth+ue.borderRightWidth,yt=ue.borderTopWidth+ue.borderBottomWidth,ke=ce&&Y,_e=f(fe.width);_e!==!1&&(ue.width=_e+(ke?0:Ge+ut));var mn=f(fe.height);return mn!==!1&&(ue.height=mn+(ke?0:H+yt)),ue.innerWidth=ue.width-(Ge+ut),ue.innerHeight=ue.height-(H+yt),ue.outerWidth=ue.width+Ee,ue.outerHeight=ue.height+qe,ue}}return ve})}(Rue)),OH}var RH={},Iue={get exports(){return RH},set exports(a){RH=a}},IH={},Due={get exports(){return IH},set exports(a){IH=a}},FQ;function Nue(){return FQ||(FQ=1,function(a){(function(c,f){a.exports?a.exports=f():c.matchesSelector=f()})(window,function(){var f=function(){var y=window.Element.prototype;if(y.matches)return"matches";if(y.matchesSelector)return"matchesSelector";for(var S=["webkit","moz","ms","o"],D=0;D<S.length;D++){var I=S[D],B=I+"MatchesSelector";if(y[B])return B}}();return function(S,D){return S[f](D)}})}(Due)),IH}var HQ;function Mue(){return HQ||(HQ=1,function(a){(function(c,f){a.exports?a.exports=f(c,Nue()):c.fizzyUIUtils=f(c,c.matchesSelector)})(window,function(f,y){var S={};S.extend=function(B,U){for(var j in U)B[j]=U[j];return B},S.modulo=function(B,U){return(B%U+U)%U};var D=Array.prototype.slice;S.makeArray=function(B){if(Array.isArray(B))return B;if(B==null)return[];var U=typeof B=="object"&&typeof B.length=="number";return U?D.call(B):[B]},S.removeFrom=function(B,U){var j=B.indexOf(U);j!=-1&&B.splice(j,1)},S.getParent=function(B,U){for(;B.parentNode&&B!=document.body;)if(B=B.parentNode,y(B,U))return B},S.getQueryElement=function(B){return typeof B=="string"?document.querySelector(B):B},S.handleEvent=function(B){var U="on"+B.type;this[U]&&this[U](B)},S.filterFindElements=function(B,U){B=S.makeArray(B);var j=[];return B.forEach(function(Y){if(Y instanceof HTMLElement){if(!U){j.push(Y);return}y(Y,U)&&j.push(Y);for(var ne=Y.querySelectorAll(U),ve=0;ve<ne.length;ve++)j.push(ne[ve])}}),j},S.debounceMethod=function(B,U,j){j=j||100;var Y=B.prototype[U],ne=U+"Timeout";B.prototype[U]=function(){var ve=this[ne];clearTimeout(ve);var ie=arguments,fe=this;this[ne]=setTimeout(function(){Y.apply(fe,ie),delete fe[ne]},j)}},S.docReady=function(B){var U=document.readyState;U=="complete"||U=="interactive"?setTimeout(B):document.addEventListener("DOMContentLoaded",B)},S.toDashed=function(B){return B.replace(/(.)([A-Z])/g,function(U,j,Y){return j+"-"+Y}).toLowerCase()};var I=f.console;return S.htmlInit=function(B,U){S.docReady(function(){var j=S.toDashed(U),Y="data-"+j,ne=document.querySelectorAll("["+Y+"]"),ve=document.querySelectorAll(".js-"+j),ie=S.makeArray(ne).concat(S.makeArray(ve)),fe=Y+"-options",ue=f.jQuery;ie.forEach(function(ce){var re=ce.getAttribute(Y)||ce.getAttribute(fe),me;try{me=re&&JSON.parse(re)}catch(De){I&&I.error("Error parsing "+Y+" on "+ce.className+": "+De);return}var K=new B(ce,me);ue&&ue.data(ce,U,K)})})},S})}(Iue)),RH}var DH={},kue={get exports(){return DH},set exports(a){DH=a}},VQ;function Pue(){return VQ||(VQ=1,function(a){(function(c,f){a.exports?a.exports=f(ete(),OY()):(c.Outlayer={},c.Outlayer.Item=f(c.EvEmitter,c.getSize))})(window,function(f,y){function S(ce){for(var re in ce)return!1;return re=null,!0}var D=document.documentElement.style,I=typeof D.transition=="string"?"transition":"WebkitTransition",B=typeof D.transform=="string"?"transform":"WebkitTransform",U={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[I],j={transform:B,transition:I,transitionDuration:I+"Duration",transitionProperty:I+"Property",transitionDelay:I+"Delay"};function Y(ce,re){ce&&(this.element=ce,this.layout=re,this.position={x:0,y:0},this._create())}var ne=Y.prototype=Object.create(f.prototype);ne.constructor=Y,ne._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},ne.handleEvent=function(ce){var re="on"+ce.type;this[re]&&this[re](ce)},ne.getSize=function(){this.size=y(this.element)},ne.css=function(ce){var re=this.element.style;for(var me in ce){var K=j[me]||me;re[K]=ce[me]}},ne.getPosition=function(){var ce=getComputedStyle(this.element),re=this.layout._getOption("originLeft"),me=this.layout._getOption("originTop"),K=ce[re?"left":"right"],De=ce[me?"top":"bottom"],Ge=parseFloat(K),H=parseFloat(De),Ee=this.layout.size;K.indexOf("%")!=-1&&(Ge=Ge/100*Ee.width),De.indexOf("%")!=-1&&(H=H/100*Ee.height),Ge=isNaN(Ge)?0:Ge,H=isNaN(H)?0:H,Ge-=re?Ee.paddingLeft:Ee.paddingRight,H-=me?Ee.paddingTop:Ee.paddingBottom,this.position.x=Ge,this.position.y=H},ne.layoutPosition=function(){var ce=this.layout.size,re={},me=this.layout._getOption("originLeft"),K=this.layout._getOption("originTop"),De=me?"paddingLeft":"paddingRight",Ge=me?"left":"right",H=me?"right":"left",Ee=this.position.x+ce[De];re[Ge]=this.getXValue(Ee),re[H]="";var qe=K?"paddingTop":"paddingBottom",ut=K?"top":"bottom",yt=K?"bottom":"top",ke=this.position.y+ce[qe];re[ut]=this.getYValue(ke),re[yt]="",this.css(re),this.emitEvent("layout",[this])},ne.getXValue=function(ce){var re=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!re?ce/this.layout.size.width*100+"%":ce+"px"},ne.getYValue=function(ce){var re=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&re?ce/this.layout.size.height*100+"%":ce+"px"},ne._transitionTo=function(ce,re){this.getPosition();var me=this.position.x,K=this.position.y,De=ce==this.position.x&&re==this.position.y;if(this.setPosition(ce,re),De&&!this.isTransitioning){this.layoutPosition();return}var Ge=ce-me,H=re-K,Ee={};Ee.transform=this.getTranslate(Ge,H),this.transition({to:Ee,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},ne.getTranslate=function(ce,re){var me=this.layout._getOption("originLeft"),K=this.layout._getOption("originTop");return ce=me?ce:-ce,re=K?re:-re,"translate3d("+ce+"px, "+re+"px, 0)"},ne.goTo=function(ce,re){this.setPosition(ce,re),this.layoutPosition()},ne.moveTo=ne._transitionTo,ne.setPosition=function(ce,re){this.position.x=parseFloat(ce),this.position.y=parseFloat(re)},ne._nonTransition=function(ce){this.css(ce.to),ce.isCleaning&&this._removeStyles(ce.to);for(var re in ce.onTransitionEnd)ce.onTransitionEnd[re].call(this)},ne.transition=function(ce){if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(ce);return}var re=this._transn;for(var me in ce.onTransitionEnd)re.onEnd[me]=ce.onTransitionEnd[me];for(me in ce.to)re.ingProperties[me]=!0,ce.isCleaning&&(re.clean[me]=!0);ce.from&&(this.css(ce.from),this.element.offsetHeight),this.enableTransition(ce.to),this.css(ce.to),this.isTransitioning=!0};function ve(ce){return ce.replace(/([A-Z])/g,function(re){return"-"+re.toLowerCase()})}var ie="opacity,"+ve(B);ne.enableTransition=function(){if(!this.isTransitioning){var ce=this.layout.options.transitionDuration;ce=typeof ce=="number"?ce+"ms":ce,this.css({transitionProperty:ie,transitionDuration:ce,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(U,this,!1)}},ne.onwebkitTransitionEnd=function(ce){this.ontransitionend(ce)},ne.onotransitionend=function(ce){this.ontransitionend(ce)};var fe={"-webkit-transform":"transform"};ne.ontransitionend=function(ce){if(ce.target===this.element){var re=this._transn,me=fe[ce.propertyName]||ce.propertyName;if(delete re.ingProperties[me],S(re.ingProperties)&&this.disableTransition(),me in re.clean&&(this.element.style[ce.propertyName]="",delete re.clean[me]),me in re.onEnd){var K=re.onEnd[me];K.call(this),delete re.onEnd[me]}this.emitEvent("transitionEnd",[this])}},ne.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(U,this,!1),this.isTransitioning=!1},ne._removeStyles=function(ce){var re={};for(var me in ce)re[me]="";this.css(re)};var ue={transitionProperty:"",transitionDuration:"",transitionDelay:""};return ne.removeTransitionStyles=function(){this.css(ue)},ne.stagger=function(ce){ce=isNaN(ce)?0:ce,this.staggerDelay=ce+"ms"},ne.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},ne.remove=function(){if(!I||!parseFloat(this.layout.options.transitionDuration)){this.removeElem();return}this.once("transitionEnd",function(){this.removeElem()}),this.hide()},ne.reveal=function(){delete this.isHidden,this.css({display:""});var ce=this.layout.options,re={},me=this.getHideRevealTransitionEndProperty("visibleStyle");re[me]=this.onRevealTransitionEnd,this.transition({from:ce.hiddenStyle,to:ce.visibleStyle,isCleaning:!0,onTransitionEnd:re})},ne.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},ne.getHideRevealTransitionEndProperty=function(ce){var re=this.layout.options[ce];if(re.opacity)return"opacity";for(var me in re)return me},ne.hide=function(){this.isHidden=!0,this.css({display:""});var ce=this.layout.options,re={},me=this.getHideRevealTransitionEndProperty("hiddenStyle");re[me]=this.onHideTransitionEnd,this.transition({from:ce.visibleStyle,to:ce.hiddenStyle,isCleaning:!0,onTransitionEnd:re})},ne.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},ne.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},Y})}(kue)),DH}/*!
 * Outlayer v2.1.1
 * the brains and guts of a layout library
 * MIT license
 */var UQ;function Lue(){return UQ||(UQ=1,function(a){(function(c,f){a.exports?a.exports=f(c,ete(),OY(),Mue(),Pue()):c.Outlayer=f(c,c.EvEmitter,c.getSize,c.fizzyUIUtils,c.Outlayer.Item)})(window,function(f,y,S,D,I){var B=f.console,U=f.jQuery,j=function(){},Y=0,ne={};function ve(re,me){var K=D.getQueryElement(re);if(!K){B&&B.error("Bad element for "+this.constructor.namespace+": "+(K||re));return}this.element=K,U&&(this.$element=U(this.element)),this.options=D.extend({},this.constructor.defaults),this.option(me);var De=++Y;this.element.outlayerGUID=De,ne[De]=this,this._create();var Ge=this._getOption("initLayout");Ge&&this.layout()}ve.namespace="outlayer",ve.Item=I,ve.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var ie=ve.prototype;D.extend(ie,y.prototype),ie.option=function(re){D.extend(this.options,re)},ie._getOption=function(re){var me=this.constructor.compatOptions[re];return me&&this.options[me]!==void 0?this.options[me]:this.options[re]},ve.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},ie._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),D.extend(this.element.style,this.options.containerStyle);var re=this._getOption("resize");re&&this.bindResize()},ie.reloadItems=function(){this.items=this._itemize(this.element.children)},ie._itemize=function(re){for(var me=this._filterFindItemElements(re),K=this.constructor.Item,De=[],Ge=0;Ge<me.length;Ge++){var H=me[Ge],Ee=new K(H,this);De.push(Ee)}return De},ie._filterFindItemElements=function(re){return D.filterFindElements(re,this.options.itemSelector)},ie.getItemElements=function(){return this.items.map(function(re){return re.element})},ie.layout=function(){this._resetLayout(),this._manageStamps();var re=this._getOption("layoutInstant"),me=re!==void 0?re:!this._isLayoutInited;this.layoutItems(this.items,me),this._isLayoutInited=!0},ie._init=ie.layout,ie._resetLayout=function(){this.getSize()},ie.getSize=function(){this.size=S(this.element)},ie._getMeasurement=function(re,me){var K=this.options[re],De;K?(typeof K=="string"?De=this.element.querySelector(K):K instanceof HTMLElement&&(De=K),this[re]=De?S(De)[me]:K):this[re]=0},ie.layoutItems=function(re,me){re=this._getItemsForLayout(re),this._layoutItems(re,me),this._postLayout()},ie._getItemsForLayout=function(re){return re.filter(function(me){return!me.isIgnored})},ie._layoutItems=function(re,me){if(this._emitCompleteOnItems("layout",re),!(!re||!re.length)){var K=[];re.forEach(function(De){var Ge=this._getItemLayoutPosition(De);Ge.item=De,Ge.isInstant=me||De.isLayoutInstant,K.push(Ge)},this),this._processLayoutQueue(K)}},ie._getItemLayoutPosition=function(){return{x:0,y:0}},ie._processLayoutQueue=function(re){this.updateStagger(),re.forEach(function(me,K){this._positionItem(me.item,me.x,me.y,me.isInstant,K)},this)},ie.updateStagger=function(){var re=this.options.stagger;if(re==null){this.stagger=0;return}return this.stagger=ce(re),this.stagger},ie._positionItem=function(re,me,K,De,Ge){De?re.goTo(me,K):(re.stagger(Ge*this.stagger),re.moveTo(me,K))},ie._postLayout=function(){this.resizeContainer()},ie.resizeContainer=function(){var re=this._getOption("resizeContainer");if(re){var me=this._getContainerSize();me&&(this._setContainerMeasure(me.width,!0),this._setContainerMeasure(me.height,!1))}},ie._getContainerSize=j,ie._setContainerMeasure=function(re,me){if(re!==void 0){var K=this.size;K.isBorderBox&&(re+=me?K.paddingLeft+K.paddingRight+K.borderLeftWidth+K.borderRightWidth:K.paddingBottom+K.paddingTop+K.borderTopWidth+K.borderBottomWidth),re=Math.max(re,0),this.element.style[me?"width":"height"]=re+"px"}},ie._emitCompleteOnItems=function(re,me){var K=this;function De(){K.dispatchEvent(re+"Complete",null,[me])}var Ge=me.length;if(!me||!Ge){De();return}var H=0;function Ee(){H++,H==Ge&&De()}me.forEach(function(qe){qe.once(re,Ee)})},ie.dispatchEvent=function(re,me,K){var De=me?[me].concat(K):K;if(this.emitEvent(re,De),U)if(this.$element=this.$element||U(this.element),me){var Ge=U.Event(me);Ge.type=re,this.$element.trigger(Ge,K)}else this.$element.trigger(re,K)},ie.ignore=function(re){var me=this.getItem(re);me&&(me.isIgnored=!0)},ie.unignore=function(re){var me=this.getItem(re);me&&delete me.isIgnored},ie.stamp=function(re){re=this._find(re),re&&(this.stamps=this.stamps.concat(re),re.forEach(this.ignore,this))},ie.unstamp=function(re){re=this._find(re),re&&re.forEach(function(me){D.removeFrom(this.stamps,me),this.unignore(me)},this)},ie._find=function(re){if(re)return typeof re=="string"&&(re=this.element.querySelectorAll(re)),re=D.makeArray(re),re},ie._manageStamps=function(){!this.stamps||!this.stamps.length||(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},ie._getBoundingRect=function(){var re=this.element.getBoundingClientRect(),me=this.size;this._boundingRect={left:re.left+me.paddingLeft+me.borderLeftWidth,top:re.top+me.paddingTop+me.borderTopWidth,right:re.right-(me.paddingRight+me.borderRightWidth),bottom:re.bottom-(me.paddingBottom+me.borderBottomWidth)}},ie._manageStamp=j,ie._getElementOffset=function(re){var me=re.getBoundingClientRect(),K=this._boundingRect,De=S(re),Ge={left:me.left-K.left-De.marginLeft,top:me.top-K.top-De.marginTop,right:K.right-me.right-De.marginRight,bottom:K.bottom-me.bottom-De.marginBottom};return Ge},ie.handleEvent=D.handleEvent,ie.bindResize=function(){f.addEventListener("resize",this),this.isResizeBound=!0},ie.unbindResize=function(){f.removeEventListener("resize",this),this.isResizeBound=!1},ie.onresize=function(){this.resize()},D.debounceMethod(ve,"onresize",100),ie.resize=function(){!this.isResizeBound||!this.needsResizeLayout()||this.layout()},ie.needsResizeLayout=function(){var re=S(this.element),me=this.size&&re;return me&&re.innerWidth!==this.size.innerWidth},ie.addItems=function(re){var me=this._itemize(re);return me.length&&(this.items=this.items.concat(me)),me},ie.appended=function(re){var me=this.addItems(re);me.length&&(this.layoutItems(me,!0),this.reveal(me))},ie.prepended=function(re){var me=this._itemize(re);if(me.length){var K=this.items.slice(0);this.items=me.concat(K),this._resetLayout(),this._manageStamps(),this.layoutItems(me,!0),this.reveal(me),this.layoutItems(K)}},ie.reveal=function(re){if(this._emitCompleteOnItems("reveal",re),!(!re||!re.length)){var me=this.updateStagger();re.forEach(function(K,De){K.stagger(De*me),K.reveal()})}},ie.hide=function(re){if(this._emitCompleteOnItems("hide",re),!(!re||!re.length)){var me=this.updateStagger();re.forEach(function(K,De){K.stagger(De*me),K.hide()})}},ie.revealItemElements=function(re){var me=this.getItems(re);this.reveal(me)},ie.hideItemElements=function(re){var me=this.getItems(re);this.hide(me)},ie.getItem=function(re){for(var me=0;me<this.items.length;me++){var K=this.items[me];if(K.element==re)return K}},ie.getItems=function(re){re=D.makeArray(re);var me=[];return re.forEach(function(K){var De=this.getItem(K);De&&me.push(De)},this),me},ie.remove=function(re){var me=this.getItems(re);this._emitCompleteOnItems("remove",me),!(!me||!me.length)&&me.forEach(function(K){K.remove(),D.removeFrom(this.items,K)},this)},ie.destroy=function(){var re=this.element.style;re.height="",re.position="",re.width="",this.items.forEach(function(K){K.destroy()}),this.unbindResize();var me=this.element.outlayerGUID;delete ne[me],delete this.element.outlayerGUID,U&&U.removeData(this.element,this.constructor.namespace)},ve.data=function(re){re=D.getQueryElement(re);var me=re&&re.outlayerGUID;return me&&ne[me]},ve.create=function(re,me){var K=fe(ve);return K.defaults=D.extend({},ve.defaults),D.extend(K.defaults,me),K.compatOptions=D.extend({},ve.compatOptions),K.namespace=re,K.data=ve.data,K.Item=fe(I),D.htmlInit(K,re),U&&U.bridget&&U.bridget(re,K),K};function fe(re){function me(){re.apply(this,arguments)}return me.prototype=Object.create(re.prototype),me.prototype.constructor=me,me}var ue={ms:1,s:1e3};function ce(re){if(typeof re=="number")return re;var me=re.match(/(^\d*\.?\d*)(\w*)/),K=me&&me[1],De=me&&me[2];if(!K.length)return 0;K=parseFloat(K);var Ge=ue[De]||1;return K*Ge}return ve.Item=I,ve})}(Aue)),xH}/*!
 * Masonry v4.2.2
 * Cascading grid layout library
 * https://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */(function(a){(function(c,f){a.exports?a.exports=f(Lue(),OY()):c.Masonry=f(c.Outlayer,c.getSize)})(window,function(f,y){var S=f.create("masonry");S.compatOptions.fitWidth="isFitWidth";var D=S.prototype;return D._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var I=0;I<this.cols;I++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},D.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var I=this.items[0],B=I&&I.element;this.columnWidth=B&&y(B).outerWidth||this.containerWidth}var U=this.columnWidth+=this.gutter,j=this.containerWidth+this.gutter,Y=j/U,ne=U-j%U,ve=ne&&ne<1?"round":"floor";Y=Math[ve](Y),this.cols=Math.max(Y,1)},D.getContainerWidth=function(){var I=this._getOption("fitWidth"),B=I?this.element.parentNode:this.element,U=y(B);this.containerWidth=U&&U.innerWidth},D._getItemLayoutPosition=function(I){I.getSize();var B=I.size.outerWidth%this.columnWidth,U=B&&B<1?"round":"ceil",j=Math[U](I.size.outerWidth/this.columnWidth);j=Math.min(j,this.cols);for(var Y=this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition",ne=this[Y](j,I),ve={x:this.columnWidth*ne.col,y:ne.y},ie=ne.y+I.size.outerHeight,fe=j+ne.col,ue=ne.col;ue<fe;ue++)this.colYs[ue]=ie;return ve},D._getTopColPosition=function(I){var B=this._getTopColGroup(I),U=Math.min.apply(Math,B);return{col:B.indexOf(U),y:U}},D._getTopColGroup=function(I){if(I<2)return this.colYs;for(var B=[],U=this.cols+1-I,j=0;j<U;j++)B[j]=this._getColGroupY(j,I);return B},D._getColGroupY=function(I,B){if(B<2)return this.colYs[I];var U=this.colYs.slice(I,I+B);return Math.max.apply(Math,U)},D._getHorizontalColPosition=function(I,B){var U=this.horizontalColIndex%this.cols,j=I>1&&U+I>this.cols;U=j?0:U;var Y=B.size.outerWidth&&B.size.outerHeight;return this.horizontalColIndex=Y?U+I:this.horizontalColIndex,{col:U,y:this._getColGroupY(U,I)}},D._manageStamp=function(I){var B=y(I),U=this._getElementOffset(I),j=this._getOption("originLeft"),Y=j?U.left:U.right,ne=Y+B.outerWidth,ve=Math.floor(Y/this.columnWidth);ve=Math.max(0,ve);var ie=Math.floor(ne/this.columnWidth);ie-=ne%this.columnWidth?0:1,ie=Math.min(this.cols-1,ie);for(var fe=this._getOption("originTop"),ue=(fe?U.top:U.bottom)+B.outerHeight,ce=ve;ce<=ie;ce++)this.colYs[ce]=Math.max(ue,this.colYs[ce])},D._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var I={height:this.maxY};return this._getOption("fitWidth")&&(I.width=this._getContainerFitWidth()),I},D._getContainerFitWidth=function(){for(var I=0,B=this.cols;--B&&this.colYs[B]===0;)I++;return(this.cols-I)*this.columnWidth-this.gutter},D.needsResizeLayout=function(){var I=this.containerWidth;return this.getContainerWidth(),I!=this.containerWidth},S})})(xue);function tte(a,c){return function(){return a.apply(c,arguments)}}const{toString:nte}=Object.prototype,{getPrototypeOf:RY}=Object,IY=(a=>c=>{const f=nte.call(c);return a[f]||(a[f]=f.slice(8,-1).toLowerCase())})(Object.create(null)),u_=a=>(a=a.toLowerCase(),c=>IY(c)===a),jH=a=>c=>typeof c===a,{isArray:sR}=Array,nk=jH("undefined");function $ue(a){return a!==null&&!nk(a)&&a.constructor!==null&&!nk(a.constructor)&&Mw(a.constructor.isBuffer)&&a.constructor.isBuffer(a)}const ote=u_("ArrayBuffer");function Bue(a){let c;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?c=ArrayBuffer.isView(a):c=a&&a.buffer&&ote(a.buffer),c}const Fue=jH("string"),Mw=jH("function"),ste=jH("number"),DY=a=>a!==null&&typeof a=="object",Hue=a=>a===!0||a===!1,dH=a=>{if(IY(a)!=="object")return!1;const c=RY(a);return(c===null||c===Object.prototype||Object.getPrototypeOf(c)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},Vue=u_("Date"),Uue=u_("File"),zue=u_("Blob"),Wue=u_("FileList"),Gue=a=>DY(a)&&Mw(a.pipe),que=a=>{const c="[object FormData]";return a&&(typeof FormData=="function"&&a instanceof FormData||nte.call(a)===c||Mw(a.toString)&&a.toString()===c)},jue=u_("URLSearchParams"),Zue=a=>a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ik(a,c,{allOwnKeys:f=!1}={}){if(a===null||typeof a>"u")return;let y,S;if(typeof a!="object"&&(a=[a]),sR(a))for(y=0,S=a.length;y<S;y++)c.call(null,a[y],y,a);else{const D=f?Object.getOwnPropertyNames(a):Object.keys(a),I=D.length;let B;for(y=0;y<I;y++)B=D[y],c.call(null,a[B],B,a)}}function rte(a,c){c=c.toLowerCase();const f=Object.keys(a);let y=f.length,S;for(;y-- >0;)if(S=f[y],c===S.toLowerCase())return S;return null}const ite=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),ate=a=>!nk(a)&&a!==ite;function qZ(){const{caseless:a}=ate(this)&&this||{},c={},f=(y,S)=>{const D=a&&rte(c,S)||S;dH(c[D])&&dH(y)?c[D]=qZ(c[D],y):dH(y)?c[D]=qZ({},y):sR(y)?c[D]=y.slice():c[D]=y};for(let y=0,S=arguments.length;y<S;y++)arguments[y]&&ik(arguments[y],f);return c}const Yue=(a,c,f,{allOwnKeys:y}={})=>(ik(c,(S,D)=>{f&&Mw(S)?a[D]=tte(S,f):a[D]=S},{allOwnKeys:y}),a),Kue=a=>(a.charCodeAt(0)===65279&&(a=a.slice(1)),a),Xue=(a,c,f,y)=>{a.prototype=Object.create(c.prototype,y),a.prototype.constructor=a,Object.defineProperty(a,"super",{value:c.prototype}),f&&Object.assign(a.prototype,f)},Que=(a,c,f,y)=>{let S,D,I;const B={};if(c=c||{},a==null)return c;do{for(S=Object.getOwnPropertyNames(a),D=S.length;D-- >0;)I=S[D],(!y||y(I,a,c))&&!B[I]&&(c[I]=a[I],B[I]=!0);a=f!==!1&&RY(a)}while(a&&(!f||f(a,c))&&a!==Object.prototype);return c},Jue=(a,c,f)=>{a=String(a),(f===void 0||f>a.length)&&(f=a.length),f-=c.length;const y=a.indexOf(c,f);return y!==-1&&y===f},ede=a=>{if(!a)return null;if(sR(a))return a;let c=a.length;if(!ste(c))return null;const f=new Array(c);for(;c-- >0;)f[c]=a[c];return f},tde=(a=>c=>a&&c instanceof a)(typeof Uint8Array<"u"&&RY(Uint8Array)),nde=(a,c)=>{const y=(a&&a[Symbol.iterator]).call(a);let S;for(;(S=y.next())&&!S.done;){const D=S.value;c.call(a,D[0],D[1])}},ode=(a,c)=>{let f;const y=[];for(;(f=a.exec(c))!==null;)y.push(f);return y},sde=u_("HTMLFormElement"),rde=a=>a.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(f,y,S){return y.toUpperCase()+S}),zQ=(({hasOwnProperty:a})=>(c,f)=>a.call(c,f))(Object.prototype),ide=u_("RegExp"),cte=(a,c)=>{const f=Object.getOwnPropertyDescriptors(a),y={};ik(f,(S,D)=>{c(S,D,a)!==!1&&(y[D]=S)}),Object.defineProperties(a,y)},ade=a=>{cte(a,(c,f)=>{if(Mw(a)&&["arguments","caller","callee"].indexOf(f)!==-1)return!1;const y=a[f];if(Mw(y)){if(c.enumerable=!1,"writable"in c){c.writable=!1;return}c.set||(c.set=()=>{throw Error("Can not rewrite read-only method '"+f+"'")})}})},cde=(a,c)=>{const f={},y=S=>{S.forEach(D=>{f[D]=!0})};return sR(a)?y(a):y(String(a).split(c)),f},lde=()=>{},ude=(a,c)=>(a=+a,Number.isFinite(a)?a:c),rZ="abcdefghijklmnopqrstuvwxyz",WQ="0123456789",lte={DIGIT:WQ,ALPHA:rZ,ALPHA_DIGIT:rZ+rZ.toUpperCase()+WQ},dde=(a=16,c=lte.ALPHA_DIGIT)=>{let f="";const{length:y}=c;for(;a--;)f+=c[Math.random()*y|0];return f};function fde(a){return!!(a&&Mw(a.append)&&a[Symbol.toStringTag]==="FormData"&&a[Symbol.iterator])}const hde=a=>{const c=new Array(10),f=(y,S)=>{if(DY(y)){if(c.indexOf(y)>=0)return;if(!("toJSON"in y)){c[S]=y;const D=sR(y)?[]:{};return ik(y,(I,B)=>{const U=f(I,S+1);!nk(U)&&(D[B]=U)}),c[S]=void 0,D}}return y};return f(a,0)},sn={isArray:sR,isArrayBuffer:ote,isBuffer:$ue,isFormData:que,isArrayBufferView:Bue,isString:Fue,isNumber:ste,isBoolean:Hue,isObject:DY,isPlainObject:dH,isUndefined:nk,isDate:Vue,isFile:Uue,isBlob:zue,isRegExp:ide,isFunction:Mw,isStream:Gue,isURLSearchParams:jue,isTypedArray:tde,isFileList:Wue,forEach:ik,merge:qZ,extend:Yue,trim:Zue,stripBOM:Kue,inherits:Xue,toFlatObject:Que,kindOf:IY,kindOfTest:u_,endsWith:Jue,toArray:ede,forEachEntry:nde,matchAll:ode,isHTMLForm:sde,hasOwnProperty:zQ,hasOwnProp:zQ,reduceDescriptors:cte,freezeMethods:ade,toObjectSet:cde,toCamelCase:rde,noop:lde,toFiniteNumber:ude,findKey:rte,global:ite,isContextDefined:ate,ALPHABET:lte,generateString:dde,isSpecCompliantForm:fde,toJSONObject:hde};function ni(a,c,f,y,S){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=a,this.name="AxiosError",c&&(this.code=c),f&&(this.config=f),y&&(this.request=y),S&&(this.response=S)}sn.inherits(ni,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:sn.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const ute=ni.prototype,dte={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(a=>{dte[a]={value:a}});Object.defineProperties(ni,dte);Object.defineProperty(ute,"isAxiosError",{value:!0});ni.from=(a,c,f,y,S,D)=>{const I=Object.create(ute);return sn.toFlatObject(a,I,function(U){return U!==Error.prototype},B=>B!=="isAxiosError"),ni.call(I,a.message,c,f,y,S),I.cause=a,I.name=a.name,D&&Object.assign(I,D),I};const mde=null;function jZ(a){return sn.isPlainObject(a)||sn.isArray(a)}function fte(a){return sn.endsWith(a,"[]")?a.slice(0,-2):a}function GQ(a,c,f){return a?a.concat(c).map(function(S,D){return S=fte(S),!f&&D?"["+S+"]":S}).join(f?".":""):c}function pde(a){return sn.isArray(a)&&!a.some(jZ)}const gde=sn.toFlatObject(sn,{},null,function(c){return/^is[A-Z]/.test(c)});function ZH(a,c,f){if(!sn.isObject(a))throw new TypeError("target must be an object");c=c||new FormData,f=sn.toFlatObject(f,{metaTokens:!0,dots:!1,indexes:!1},!1,function(ue,ce){return!sn.isUndefined(ce[ue])});const y=f.metaTokens,S=f.visitor||Y,D=f.dots,I=f.indexes,U=(f.Blob||typeof Blob<"u"&&Blob)&&sn.isSpecCompliantForm(c);if(!sn.isFunction(S))throw new TypeError("visitor must be a function");function j(fe){if(fe===null)return"";if(sn.isDate(fe))return fe.toISOString();if(!U&&sn.isBlob(fe))throw new ni("Blob is not supported. Use a Buffer instead.");return sn.isArrayBuffer(fe)||sn.isTypedArray(fe)?U&&typeof Blob=="function"?new Blob([fe]):Buffer.from(fe):fe}function Y(fe,ue,ce){let re=fe;if(fe&&!ce&&typeof fe=="object"){if(sn.endsWith(ue,"{}"))ue=y?ue:ue.slice(0,-2),fe=JSON.stringify(fe);else if(sn.isArray(fe)&&pde(fe)||(sn.isFileList(fe)||sn.endsWith(ue,"[]"))&&(re=sn.toArray(fe)))return ue=fte(ue),re.forEach(function(K,De){!(sn.isUndefined(K)||K===null)&&c.append(I===!0?GQ([ue],De,D):I===null?ue:ue+"[]",j(K))}),!1}return jZ(fe)?!0:(c.append(GQ(ce,ue,D),j(fe)),!1)}const ne=[],ve=Object.assign(gde,{defaultVisitor:Y,convertValue:j,isVisitable:jZ});function ie(fe,ue){if(!sn.isUndefined(fe)){if(ne.indexOf(fe)!==-1)throw Error("Circular reference detected in "+ue.join("."));ne.push(fe),sn.forEach(fe,function(re,me){(!(sn.isUndefined(re)||re===null)&&S.call(c,re,sn.isString(me)?me.trim():me,ue,ve))===!0&&ie(re,ue?ue.concat(me):[me])}),ne.pop()}}if(!sn.isObject(a))throw new TypeError("data must be an object");return ie(a),c}function qQ(a){const c={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(a).replace(/[!'()~]|%20|%00/g,function(y){return c[y]})}function NY(a,c){this._pairs=[],a&&ZH(a,this,c)}const hte=NY.prototype;hte.append=function(c,f){this._pairs.push([c,f])};hte.toString=function(c){const f=c?function(y){return c.call(this,y,qQ)}:qQ;return this._pairs.map(function(S){return f(S[0])+"="+f(S[1])},"").join("&")};function vde(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function mte(a,c,f){if(!c)return a;const y=f&&f.encode||vde,S=f&&f.serialize;let D;if(S?D=S(c,f):D=sn.isURLSearchParams(c)?c.toString():new NY(c,f).toString(y),D){const I=a.indexOf("#");I!==-1&&(a=a.slice(0,I)),a+=(a.indexOf("?")===-1?"?":"&")+D}return a}class bde{constructor(){this.handlers=[]}use(c,f,y){return this.handlers.push({fulfilled:c,rejected:f,synchronous:y?y.synchronous:!1,runWhen:y?y.runWhen:null}),this.handlers.length-1}eject(c){this.handlers[c]&&(this.handlers[c]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(c){sn.forEach(this.handlers,function(y){y!==null&&c(y)})}}const jQ=bde,pte={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},yde=typeof URLSearchParams<"u"?URLSearchParams:NY,_de=typeof FormData<"u"?FormData:null,Ede=typeof Blob<"u"?Blob:null,wde=(()=>{let a;return typeof navigator<"u"&&((a=navigator.product)==="ReactNative"||a==="NativeScript"||a==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Tde=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Kb={isBrowser:!0,classes:{URLSearchParams:yde,FormData:_de,Blob:Ede},isStandardBrowserEnv:wde,isStandardBrowserWebWorkerEnv:Tde,protocols:["http","https","file","blob","url","data"]};function Cde(a,c){return ZH(a,new Kb.classes.URLSearchParams,Object.assign({visitor:function(f,y,S,D){return Kb.isNode&&sn.isBuffer(f)?(this.append(y,f.toString("base64")),!1):D.defaultVisitor.apply(this,arguments)}},c))}function Sde(a){return sn.matchAll(/\w+|\[(\w*)]/g,a).map(c=>c[0]==="[]"?"":c[1]||c[0])}function xde(a){const c={},f=Object.keys(a);let y;const S=f.length;let D;for(y=0;y<S;y++)D=f[y],c[D]=a[D];return c}function gte(a){function c(f,y,S,D){let I=f[D++];const B=Number.isFinite(+I),U=D>=f.length;return I=!I&&sn.isArray(S)?S.length:I,U?(sn.hasOwnProp(S,I)?S[I]=[S[I],y]:S[I]=y,!B):((!S[I]||!sn.isObject(S[I]))&&(S[I]=[]),c(f,y,S[I],D)&&sn.isArray(S[I])&&(S[I]=xde(S[I])),!B)}if(sn.isFormData(a)&&sn.isFunction(a.entries)){const f={};return sn.forEachEntry(a,(y,S)=>{c(Sde(y),S,f,0)}),f}return null}const Ade={"Content-Type":void 0};function Ode(a,c,f){if(sn.isString(a))try{return(c||JSON.parse)(a),sn.trim(a)}catch(y){if(y.name!=="SyntaxError")throw y}return(f||JSON.stringify)(a)}const YH={transitional:pte,adapter:["xhr","http"],transformRequest:[function(c,f){const y=f.getContentType()||"",S=y.indexOf("application/json")>-1,D=sn.isObject(c);if(D&&sn.isHTMLForm(c)&&(c=new FormData(c)),sn.isFormData(c))return S&&S?JSON.stringify(gte(c)):c;if(sn.isArrayBuffer(c)||sn.isBuffer(c)||sn.isStream(c)||sn.isFile(c)||sn.isBlob(c))return c;if(sn.isArrayBufferView(c))return c.buffer;if(sn.isURLSearchParams(c))return f.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),c.toString();let B;if(D){if(y.indexOf("application/x-www-form-urlencoded")>-1)return Cde(c,this.formSerializer).toString();if((B=sn.isFileList(c))||y.indexOf("multipart/form-data")>-1){const U=this.env&&this.env.FormData;return ZH(B?{"files[]":c}:c,U&&new U,this.formSerializer)}}return D||S?(f.setContentType("application/json",!1),Ode(c)):c}],transformResponse:[function(c){const f=this.transitional||YH.transitional,y=f&&f.forcedJSONParsing,S=this.responseType==="json";if(c&&sn.isString(c)&&(y&&!this.responseType||S)){const I=!(f&&f.silentJSONParsing)&&S;try{return JSON.parse(c)}catch(B){if(I)throw B.name==="SyntaxError"?ni.from(B,ni.ERR_BAD_RESPONSE,this,null,this.response):B}}return c}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Kb.classes.FormData,Blob:Kb.classes.Blob},validateStatus:function(c){return c>=200&&c<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};sn.forEach(["delete","get","head"],function(c){YH.headers[c]={}});sn.forEach(["post","put","patch"],function(c){YH.headers[c]=sn.merge(Ade)});const MY=YH,Rde=sn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ide=a=>{const c={};let f,y,S;return a&&a.split(`
`).forEach(function(I){S=I.indexOf(":"),f=I.substring(0,S).trim().toLowerCase(),y=I.substring(S+1).trim(),!(!f||c[f]&&Rde[f])&&(f==="set-cookie"?c[f]?c[f].push(y):c[f]=[y]:c[f]=c[f]?c[f]+", "+y:y)}),c},ZQ=Symbol("internals");function qM(a){return a&&String(a).trim().toLowerCase()}function fH(a){return a===!1||a==null?a:sn.isArray(a)?a.map(fH):String(a)}function Dde(a){const c=Object.create(null),f=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let y;for(;y=f.exec(a);)c[y[1]]=y[2];return c}const Nde=a=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(a.trim());function iZ(a,c,f,y,S){if(sn.isFunction(y))return y.call(this,c,f);if(S&&(c=f),!!sn.isString(c)){if(sn.isString(y))return c.indexOf(y)!==-1;if(sn.isRegExp(y))return y.test(c)}}function Mde(a){return a.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(c,f,y)=>f.toUpperCase()+y)}function kde(a,c){const f=sn.toCamelCase(" "+c);["get","set","has"].forEach(y=>{Object.defineProperty(a,y+f,{value:function(S,D,I){return this[y].call(this,c,S,D,I)},configurable:!0})})}class KH{constructor(c){c&&this.set(c)}set(c,f,y){const S=this;function D(B,U,j){const Y=qM(U);if(!Y)throw new Error("header name must be a non-empty string");const ne=sn.findKey(S,Y);(!ne||S[ne]===void 0||j===!0||j===void 0&&S[ne]!==!1)&&(S[ne||U]=fH(B))}const I=(B,U)=>sn.forEach(B,(j,Y)=>D(j,Y,U));return sn.isPlainObject(c)||c instanceof this.constructor?I(c,f):sn.isString(c)&&(c=c.trim())&&!Nde(c)?I(Ide(c),f):c!=null&&D(f,c,y),this}get(c,f){if(c=qM(c),c){const y=sn.findKey(this,c);if(y){const S=this[y];if(!f)return S;if(f===!0)return Dde(S);if(sn.isFunction(f))return f.call(this,S,y);if(sn.isRegExp(f))return f.exec(S);throw new TypeError("parser must be boolean|regexp|function")}}}has(c,f){if(c=qM(c),c){const y=sn.findKey(this,c);return!!(y&&this[y]!==void 0&&(!f||iZ(this,this[y],y,f)))}return!1}delete(c,f){const y=this;let S=!1;function D(I){if(I=qM(I),I){const B=sn.findKey(y,I);B&&(!f||iZ(y,y[B],B,f))&&(delete y[B],S=!0)}}return sn.isArray(c)?c.forEach(D):D(c),S}clear(c){const f=Object.keys(this);let y=f.length,S=!1;for(;y--;){const D=f[y];(!c||iZ(this,this[D],D,c,!0))&&(delete this[D],S=!0)}return S}normalize(c){const f=this,y={};return sn.forEach(this,(S,D)=>{const I=sn.findKey(y,D);if(I){f[I]=fH(S),delete f[D];return}const B=c?Mde(D):String(D).trim();B!==D&&delete f[D],f[B]=fH(S),y[B]=!0}),this}concat(...c){return this.constructor.concat(this,...c)}toJSON(c){const f=Object.create(null);return sn.forEach(this,(y,S)=>{y!=null&&y!==!1&&(f[S]=c&&sn.isArray(y)?y.join(", "):y)}),f}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([c,f])=>c+": "+f).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(c){return c instanceof this?c:new this(c)}static concat(c,...f){const y=new this(c);return f.forEach(S=>y.set(S)),y}static accessor(c){const y=(this[ZQ]=this[ZQ]={accessors:{}}).accessors,S=this.prototype;function D(I){const B=qM(I);y[B]||(kde(S,I),y[B]=!0)}return sn.isArray(c)?c.forEach(D):D(c),this}}KH.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);sn.freezeMethods(KH.prototype);sn.freezeMethods(KH);const s_=KH;function aZ(a,c){const f=this||MY,y=c||f,S=s_.from(y.headers);let D=y.data;return sn.forEach(a,function(B){D=B.call(f,D,S.normalize(),c?c.status:void 0)}),S.normalize(),D}function vte(a){return!!(a&&a.__CANCEL__)}function ak(a,c,f){ni.call(this,a??"canceled",ni.ERR_CANCELED,c,f),this.name="CanceledError"}sn.inherits(ak,ni,{__CANCEL__:!0});function Pde(a,c,f){const y=f.config.validateStatus;!f.status||!y||y(f.status)?a(f):c(new ni("Request failed with status code "+f.status,[ni.ERR_BAD_REQUEST,ni.ERR_BAD_RESPONSE][Math.floor(f.status/100)-4],f.config,f.request,f))}const Lde=Kb.isStandardBrowserEnv?function(){return{write:function(f,y,S,D,I,B){const U=[];U.push(f+"="+encodeURIComponent(y)),sn.isNumber(S)&&U.push("expires="+new Date(S).toGMTString()),sn.isString(D)&&U.push("path="+D),sn.isString(I)&&U.push("domain="+I),B===!0&&U.push("secure"),document.cookie=U.join("; ")},read:function(f){const y=document.cookie.match(new RegExp("(^|;\\s*)("+f+")=([^;]*)"));return y?decodeURIComponent(y[3]):null},remove:function(f){this.write(f,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function $de(a){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a)}function Bde(a,c){return c?a.replace(/\/+$/,"")+"/"+c.replace(/^\/+/,""):a}function bte(a,c){return a&&!$de(c)?Bde(a,c):c}const Fde=Kb.isStandardBrowserEnv?function(){const c=/(msie|trident)/i.test(navigator.userAgent),f=document.createElement("a");let y;function S(D){let I=D;return c&&(f.setAttribute("href",I),I=f.href),f.setAttribute("href",I),{href:f.href,protocol:f.protocol?f.protocol.replace(/:$/,""):"",host:f.host,search:f.search?f.search.replace(/^\?/,""):"",hash:f.hash?f.hash.replace(/^#/,""):"",hostname:f.hostname,port:f.port,pathname:f.pathname.charAt(0)==="/"?f.pathname:"/"+f.pathname}}return y=S(window.location.href),function(I){const B=sn.isString(I)?S(I):I;return B.protocol===y.protocol&&B.host===y.host}}():function(){return function(){return!0}}();function Hde(a){const c=/^([-+\w]{1,25})(:?\/\/|:)/.exec(a);return c&&c[1]||""}function Vde(a,c){a=a||10;const f=new Array(a),y=new Array(a);let S=0,D=0,I;return c=c!==void 0?c:1e3,function(U){const j=Date.now(),Y=y[D];I||(I=j),f[S]=U,y[S]=j;let ne=D,ve=0;for(;ne!==S;)ve+=f[ne++],ne=ne%a;if(S=(S+1)%a,S===D&&(D=(D+1)%a),j-I<c)return;const ie=Y&&j-Y;return ie?Math.round(ve*1e3/ie):void 0}}function YQ(a,c){let f=0;const y=Vde(50,250);return S=>{const D=S.loaded,I=S.lengthComputable?S.total:void 0,B=D-f,U=y(B),j=D<=I;f=D;const Y={loaded:D,total:I,progress:I?D/I:void 0,bytes:B,rate:U||void 0,estimated:U&&I&&j?(I-D)/U:void 0,event:S};Y[c?"download":"upload"]=!0,a(Y)}}const Ude=typeof XMLHttpRequest<"u",zde=Ude&&function(a){return new Promise(function(f,y){let S=a.data;const D=s_.from(a.headers).normalize(),I=a.responseType;let B;function U(){a.cancelToken&&a.cancelToken.unsubscribe(B),a.signal&&a.signal.removeEventListener("abort",B)}sn.isFormData(S)&&(Kb.isStandardBrowserEnv||Kb.isStandardBrowserWebWorkerEnv)&&D.setContentType(!1);let j=new XMLHttpRequest;if(a.auth){const ie=a.auth.username||"",fe=a.auth.password?unescape(encodeURIComponent(a.auth.password)):"";D.set("Authorization","Basic "+btoa(ie+":"+fe))}const Y=bte(a.baseURL,a.url);j.open(a.method.toUpperCase(),mte(Y,a.params,a.paramsSerializer),!0),j.timeout=a.timeout;function ne(){if(!j)return;const ie=s_.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),ue={data:!I||I==="text"||I==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:ie,config:a,request:j};Pde(function(re){f(re),U()},function(re){y(re),U()},ue),j=null}if("onloadend"in j?j.onloadend=ne:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(ne)},j.onabort=function(){j&&(y(new ni("Request aborted",ni.ECONNABORTED,a,j)),j=null)},j.onerror=function(){y(new ni("Network Error",ni.ERR_NETWORK,a,j)),j=null},j.ontimeout=function(){let fe=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const ue=a.transitional||pte;a.timeoutErrorMessage&&(fe=a.timeoutErrorMessage),y(new ni(fe,ue.clarifyTimeoutError?ni.ETIMEDOUT:ni.ECONNABORTED,a,j)),j=null},Kb.isStandardBrowserEnv){const ie=(a.withCredentials||Fde(Y))&&a.xsrfCookieName&&Lde.read(a.xsrfCookieName);ie&&D.set(a.xsrfHeaderName,ie)}S===void 0&&D.setContentType(null),"setRequestHeader"in j&&sn.forEach(D.toJSON(),function(fe,ue){j.setRequestHeader(ue,fe)}),sn.isUndefined(a.withCredentials)||(j.withCredentials=!!a.withCredentials),I&&I!=="json"&&(j.responseType=a.responseType),typeof a.onDownloadProgress=="function"&&j.addEventListener("progress",YQ(a.onDownloadProgress,!0)),typeof a.onUploadProgress=="function"&&j.upload&&j.upload.addEventListener("progress",YQ(a.onUploadProgress)),(a.cancelToken||a.signal)&&(B=ie=>{j&&(y(!ie||ie.type?new ak(null,a,j):ie),j.abort(),j=null)},a.cancelToken&&a.cancelToken.subscribe(B),a.signal&&(a.signal.aborted?B():a.signal.addEventListener("abort",B)));const ve=Hde(Y);if(ve&&Kb.protocols.indexOf(ve)===-1){y(new ni("Unsupported protocol "+ve+":",ni.ERR_BAD_REQUEST,a));return}j.send(S||null)})},hH={http:mde,xhr:zde};sn.forEach(hH,(a,c)=>{if(a){try{Object.defineProperty(a,"name",{value:c})}catch{}Object.defineProperty(a,"adapterName",{value:c})}});const Wde={getAdapter:a=>{a=sn.isArray(a)?a:[a];const{length:c}=a;let f,y;for(let S=0;S<c&&(f=a[S],!(y=sn.isString(f)?hH[f.toLowerCase()]:f));S++);if(!y)throw y===!1?new ni(`Adapter ${f} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(sn.hasOwnProp(hH,f)?`Adapter '${f}' is not available in the build`:`Unknown adapter '${f}'`);if(!sn.isFunction(y))throw new TypeError("adapter is not a function");return y},adapters:hH};function cZ(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new ak(null,a)}function KQ(a){return cZ(a),a.headers=s_.from(a.headers),a.data=aZ.call(a,a.transformRequest),["post","put","patch"].indexOf(a.method)!==-1&&a.headers.setContentType("application/x-www-form-urlencoded",!1),Wde.getAdapter(a.adapter||MY.adapter)(a).then(function(y){return cZ(a),y.data=aZ.call(a,a.transformResponse,y),y.headers=s_.from(y.headers),y},function(y){return vte(y)||(cZ(a),y&&y.response&&(y.response.data=aZ.call(a,a.transformResponse,y.response),y.response.headers=s_.from(y.response.headers))),Promise.reject(y)})}const XQ=a=>a instanceof s_?a.toJSON():a;function KO(a,c){c=c||{};const f={};function y(j,Y,ne){return sn.isPlainObject(j)&&sn.isPlainObject(Y)?sn.merge.call({caseless:ne},j,Y):sn.isPlainObject(Y)?sn.merge({},Y):sn.isArray(Y)?Y.slice():Y}function S(j,Y,ne){if(sn.isUndefined(Y)){if(!sn.isUndefined(j))return y(void 0,j,ne)}else return y(j,Y,ne)}function D(j,Y){if(!sn.isUndefined(Y))return y(void 0,Y)}function I(j,Y){if(sn.isUndefined(Y)){if(!sn.isUndefined(j))return y(void 0,j)}else return y(void 0,Y)}function B(j,Y,ne){if(ne in c)return y(j,Y);if(ne in a)return y(void 0,j)}const U={url:D,method:D,data:D,baseURL:I,transformRequest:I,transformResponse:I,paramsSerializer:I,timeout:I,timeoutMessage:I,withCredentials:I,adapter:I,responseType:I,xsrfCookieName:I,xsrfHeaderName:I,onUploadProgress:I,onDownloadProgress:I,decompress:I,maxContentLength:I,maxBodyLength:I,beforeRedirect:I,transport:I,httpAgent:I,httpsAgent:I,cancelToken:I,socketPath:I,responseEncoding:I,validateStatus:B,headers:(j,Y)=>S(XQ(j),XQ(Y),!0)};return sn.forEach(Object.keys(a).concat(Object.keys(c)),function(Y){const ne=U[Y]||S,ve=ne(a[Y],c[Y],Y);sn.isUndefined(ve)&&ne!==B||(f[Y]=ve)}),f}const yte="1.3.5",kY={};["object","boolean","number","function","string","symbol"].forEach((a,c)=>{kY[a]=function(y){return typeof y===a||"a"+(c<1?"n ":" ")+a}});const QQ={};kY.transitional=function(c,f,y){function S(D,I){return"[Axios v"+yte+"] Transitional option '"+D+"'"+I+(y?". "+y:"")}return(D,I,B)=>{if(c===!1)throw new ni(S(I," has been removed"+(f?" in "+f:"")),ni.ERR_DEPRECATED);return f&&!QQ[I]&&(QQ[I]=!0,console.warn(S(I," has been deprecated since v"+f+" and will be removed in the near future"))),c?c(D,I,B):!0}};function Gde(a,c,f){if(typeof a!="object")throw new ni("options must be an object",ni.ERR_BAD_OPTION_VALUE);const y=Object.keys(a);let S=y.length;for(;S-- >0;){const D=y[S],I=c[D];if(I){const B=a[D],U=B===void 0||I(B,D,a);if(U!==!0)throw new ni("option "+D+" must be "+U,ni.ERR_BAD_OPTION_VALUE);continue}if(f!==!0)throw new ni("Unknown option "+D,ni.ERR_BAD_OPTION)}}const ZZ={assertOptions:Gde,validators:kY},Ow=ZZ.validators;class NH{constructor(c){this.defaults=c,this.interceptors={request:new jQ,response:new jQ}}request(c,f){typeof c=="string"?(f=f||{},f.url=c):f=c||{},f=KO(this.defaults,f);const{transitional:y,paramsSerializer:S,headers:D}=f;y!==void 0&&ZZ.assertOptions(y,{silentJSONParsing:Ow.transitional(Ow.boolean),forcedJSONParsing:Ow.transitional(Ow.boolean),clarifyTimeoutError:Ow.transitional(Ow.boolean)},!1),S!=null&&(sn.isFunction(S)?f.paramsSerializer={serialize:S}:ZZ.assertOptions(S,{encode:Ow.function,serialize:Ow.function},!0)),f.method=(f.method||this.defaults.method||"get").toLowerCase();let I;I=D&&sn.merge(D.common,D[f.method]),I&&sn.forEach(["delete","get","head","post","put","patch","common"],fe=>{delete D[fe]}),f.headers=s_.concat(I,D);const B=[];let U=!0;this.interceptors.request.forEach(function(ue){typeof ue.runWhen=="function"&&ue.runWhen(f)===!1||(U=U&&ue.synchronous,B.unshift(ue.fulfilled,ue.rejected))});const j=[];this.interceptors.response.forEach(function(ue){j.push(ue.fulfilled,ue.rejected)});let Y,ne=0,ve;if(!U){const fe=[KQ.bind(this),void 0];for(fe.unshift.apply(fe,B),fe.push.apply(fe,j),ve=fe.length,Y=Promise.resolve(f);ne<ve;)Y=Y.then(fe[ne++],fe[ne++]);return Y}ve=B.length;let ie=f;for(ne=0;ne<ve;){const fe=B[ne++],ue=B[ne++];try{ie=fe(ie)}catch(ce){ue.call(this,ce);break}}try{Y=KQ.call(this,ie)}catch(fe){return Promise.reject(fe)}for(ne=0,ve=j.length;ne<ve;)Y=Y.then(j[ne++],j[ne++]);return Y}getUri(c){c=KO(this.defaults,c);const f=bte(c.baseURL,c.url);return mte(f,c.params,c.paramsSerializer)}}sn.forEach(["delete","get","head","options"],function(c){NH.prototype[c]=function(f,y){return this.request(KO(y||{},{method:c,url:f,data:(y||{}).data}))}});sn.forEach(["post","put","patch"],function(c){function f(y){return function(D,I,B){return this.request(KO(B||{},{method:c,headers:y?{"Content-Type":"multipart/form-data"}:{},url:D,data:I}))}}NH.prototype[c]=f(),NH.prototype[c+"Form"]=f(!0)});const mH=NH;class PY{constructor(c){if(typeof c!="function")throw new TypeError("executor must be a function.");let f;this.promise=new Promise(function(D){f=D});const y=this;this.promise.then(S=>{if(!y._listeners)return;let D=y._listeners.length;for(;D-- >0;)y._listeners[D](S);y._listeners=null}),this.promise.then=S=>{let D;const I=new Promise(B=>{y.subscribe(B),D=B}).then(S);return I.cancel=function(){y.unsubscribe(D)},I},c(function(D,I,B){y.reason||(y.reason=new ak(D,I,B),f(y.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(c){if(this.reason){c(this.reason);return}this._listeners?this._listeners.push(c):this._listeners=[c]}unsubscribe(c){if(!this._listeners)return;const f=this._listeners.indexOf(c);f!==-1&&this._listeners.splice(f,1)}static source(){let c;return{token:new PY(function(S){c=S}),cancel:c}}}const qde=PY;function jde(a){return function(f){return a.apply(null,f)}}function Zde(a){return sn.isObject(a)&&a.isAxiosError===!0}const YZ={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(YZ).forEach(([a,c])=>{YZ[c]=a});const Yde=YZ;function _te(a){const c=new mH(a),f=tte(mH.prototype.request,c);return sn.extend(f,mH.prototype,c,{allOwnKeys:!0}),sn.extend(f,c,null,{allOwnKeys:!0}),f.create=function(S){return _te(KO(a,S))},f}const Ou=_te(MY);Ou.Axios=mH;Ou.CanceledError=ak;Ou.CancelToken=qde;Ou.isCancel=vte;Ou.VERSION=yte;Ou.toFormData=ZH;Ou.AxiosError=ni;Ou.Cancel=Ou.CanceledError;Ou.all=function(c){return Promise.all(c)};Ou.spread=jde;Ou.isAxiosError=Zde;Ou.mergeConfig=KO;Ou.AxiosHeaders=s_;Ou.formToJSON=a=>gte(sn.isHTMLForm(a)?new FormData(a):a);Ou.HttpStatusCode=Yde;Ou.default=Ou;const Kde=Ou;window._=Yne;window.axios=Kde;window.$=window.jQuery=Xne;window.tinymce=Jne;window.FilePond=Zae;window.bootstrap=Uoe;TH(Qee,qee,Gee,Jee,zee);window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";/*!
  * Bootstrap v5.3.0-alpha3 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Rw=new Map,lZ={set(a,c,f){Rw.has(a)||Rw.set(a,new Map);const y=Rw.get(a);if(!y.has(c)&&y.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(y.keys())[0]}.`);return}y.set(c,f)},get(a,c){return Rw.has(a)&&Rw.get(a).get(c)||null},remove(a,c){if(!Rw.has(a))return;const f=Rw.get(a);f.delete(c),f.size===0&&Rw.delete(a)}},Xde=1e6,Qde=1e3,KZ="transitionend",Ete=a=>(a&&window.CSS&&window.CSS.escape&&(a=a.replace(/#([^\s"#']+)/g,(c,f)=>`#${CSS.escape(f)}`)),a),Jde=a=>a==null?`${a}`:Object.prototype.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase(),efe=a=>{do a+=Math.floor(Math.random()*Xde);while(document.getElementById(a));return a},tfe=a=>{if(!a)return 0;let{transitionDuration:c,transitionDelay:f}=window.getComputedStyle(a);const y=Number.parseFloat(c),S=Number.parseFloat(f);return!y&&!S?0:(c=c.split(",")[0],f=f.split(",")[0],(Number.parseFloat(c)+Number.parseFloat(f))*Qde)},wte=a=>{a.dispatchEvent(new Event(KZ))},r_=a=>!a||typeof a!="object"?!1:(typeof a.jquery<"u"&&(a=a[0]),typeof a.nodeType<"u"),kw=a=>r_(a)?a.jquery?a[0]:a:typeof a=="string"&&a.length>0?document.querySelector(Ete(a)):null,rR=a=>{if(!r_(a)||a.getClientRects().length===0)return!1;const c=getComputedStyle(a).getPropertyValue("visibility")==="visible",f=a.closest("details:not([open])");if(!f)return c;if(f!==a){const y=a.closest("summary");if(y&&y.parentNode!==f||y===null)return!1}return c},Pw=a=>!a||a.nodeType!==Node.ELEMENT_NODE||a.classList.contains("disabled")?!0:typeof a.disabled<"u"?a.disabled:a.hasAttribute("disabled")&&a.getAttribute("disabled")!=="false",Tte=a=>{if(!document.documentElement.attachShadow)return null;if(typeof a.getRootNode=="function"){const c=a.getRootNode();return c instanceof ShadowRoot?c:null}return a instanceof ShadowRoot?a:a.parentNode?Tte(a.parentNode):null},MH=()=>{},ck=a=>{a.offsetHeight},Cte=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,uZ=[],nfe=a=>{document.readyState==="loading"?(uZ.length||document.addEventListener("DOMContentLoaded",()=>{for(const c of uZ)c()}),uZ.push(a)):a()},e1=()=>document.documentElement.dir==="rtl",n1=a=>{nfe(()=>{const c=Cte();if(c){const f=a.NAME,y=c.fn[f];c.fn[f]=a.jQueryInterface,c.fn[f].Constructor=a,c.fn[f].noConflict=()=>(c.fn[f]=y,a.jQueryInterface)}})},wm=(a,c=[],f=a)=>typeof a=="function"?a(...c):f,Ste=(a,c,f=!0)=>{if(!f){wm(a);return}const y=5,S=tfe(c)+y;let D=!1;const I=({target:B})=>{B===c&&(D=!0,c.removeEventListener(KZ,I),wm(a))};c.addEventListener(KZ,I),setTimeout(()=>{D||wte(c)},S)},LY=(a,c,f,y)=>{const S=a.length;let D=a.indexOf(c);return D===-1?!f&&y?a[S-1]:a[0]:(D+=f?1:-1,y&&(D=(D+S)%S),a[Math.max(0,Math.min(D,S-1))])},ofe=/[^.]*(?=\..*)\.|.*/,sfe=/\..*/,rfe=/::\d+$/,dZ={};let JQ=1;const xte={mouseenter:"mouseover",mouseleave:"mouseout"},ife=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Ate(a,c){return c&&`${c}::${JQ++}`||a.uidEvent||JQ++}function Ote(a){const c=Ate(a);return a.uidEvent=c,dZ[c]=dZ[c]||{},dZ[c]}function afe(a,c){return function f(y){return $Y(y,{delegateTarget:a}),f.oneOff&&En.off(a,y.type,c),c.apply(a,[y])}}function cfe(a,c,f){return function y(S){const D=a.querySelectorAll(c);for(let{target:I}=S;I&&I!==this;I=I.parentNode)for(const B of D)if(B===I)return $Y(S,{delegateTarget:I}),y.oneOff&&En.off(a,S.type,c,f),f.apply(I,[S])}}function Rte(a,c,f=null){return Object.values(a).find(y=>y.callable===c&&y.delegationSelector===f)}function Ite(a,c,f){const y=typeof c=="string",S=y?f:c||f;let D=Dte(a);return ife.has(D)||(D=a),[y,S,D]}function eJ(a,c,f,y,S){if(typeof c!="string"||!a)return;let[D,I,B]=Ite(c,f,y);c in xte&&(I=(fe=>function(ue){if(!ue.relatedTarget||ue.relatedTarget!==ue.delegateTarget&&!ue.delegateTarget.contains(ue.relatedTarget))return fe.call(this,ue)})(I));const U=Ote(a),j=U[B]||(U[B]={}),Y=Rte(j,I,D?f:null);if(Y){Y.oneOff=Y.oneOff&&S;return}const ne=Ate(I,c.replace(ofe,"")),ve=D?cfe(a,f,I):afe(a,I);ve.delegationSelector=D?f:null,ve.callable=I,ve.oneOff=S,ve.uidEvent=ne,j[ne]=ve,a.addEventListener(B,ve,D)}function XZ(a,c,f,y,S){const D=Rte(c[f],y,S);D&&(a.removeEventListener(f,D,!!S),delete c[f][D.uidEvent])}function lfe(a,c,f,y){const S=c[f]||{};for(const[D,I]of Object.entries(S))D.includes(y)&&XZ(a,c,f,I.callable,I.delegationSelector)}function Dte(a){return a=a.replace(sfe,""),xte[a]||a}const En={on(a,c,f,y){eJ(a,c,f,y,!1)},one(a,c,f,y){eJ(a,c,f,y,!0)},off(a,c,f,y){if(typeof c!="string"||!a)return;const[S,D,I]=Ite(c,f,y),B=I!==c,U=Ote(a),j=U[I]||{},Y=c.startsWith(".");if(typeof D<"u"){if(!Object.keys(j).length)return;XZ(a,U,I,D,S?f:null);return}if(Y)for(const ne of Object.keys(U))lfe(a,U,ne,c.slice(1));for(const[ne,ve]of Object.entries(j)){const ie=ne.replace(rfe,"");(!B||c.includes(ie))&&XZ(a,U,I,ve.callable,ve.delegationSelector)}},trigger(a,c,f){if(typeof c!="string"||!a)return null;const y=Cte(),S=Dte(c),D=c!==S;let I=null,B=!0,U=!0,j=!1;D&&y&&(I=y.Event(c,f),y(a).trigger(I),B=!I.isPropagationStopped(),U=!I.isImmediatePropagationStopped(),j=I.isDefaultPrevented());const Y=$Y(new Event(c,{bubbles:B,cancelable:!0}),f);return j&&Y.preventDefault(),U&&a.dispatchEvent(Y),Y.defaultPrevented&&I&&I.preventDefault(),Y}};function $Y(a,c={}){for(const[f,y]of Object.entries(c))try{a[f]=y}catch{Object.defineProperty(a,f,{configurable:!0,get(){return y}})}return a}function tJ(a){if(a==="true")return!0;if(a==="false")return!1;if(a===Number(a).toString())return Number(a);if(a===""||a==="null")return null;if(typeof a!="string")return a;try{return JSON.parse(decodeURIComponent(a))}catch{return a}}function fZ(a){return a.replace(/[A-Z]/g,c=>`-${c.toLowerCase()}`)}const i_={setDataAttribute(a,c,f){a.setAttribute(`data-bs-${fZ(c)}`,f)},removeDataAttribute(a,c){a.removeAttribute(`data-bs-${fZ(c)}`)},getDataAttributes(a){if(!a)return{};const c={},f=Object.keys(a.dataset).filter(y=>y.startsWith("bs")&&!y.startsWith("bsConfig"));for(const y of f){let S=y.replace(/^bs/,"");S=S.charAt(0).toLowerCase()+S.slice(1,S.length),c[S]=tJ(a.dataset[y])}return c},getDataAttribute(a,c){return tJ(a.getAttribute(`data-bs-${fZ(c)}`))}};class lk{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(c){return c=this._mergeConfigObj(c),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}_configAfterMerge(c){return c}_mergeConfigObj(c,f){const y=r_(f)?i_.getDataAttribute(f,"config"):{};return{...this.constructor.Default,...typeof y=="object"?y:{},...r_(f)?i_.getDataAttributes(f):{},...typeof c=="object"?c:{}}}_typeCheckConfig(c,f=this.constructor.DefaultType){for(const[y,S]of Object.entries(f)){const D=c[y],I=r_(D)?"element":Jde(D);if(!new RegExp(S).test(I))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${y}" provided type "${I}" but expected type "${S}".`)}}}const ufe="5.3.0-alpha2";class _v extends lk{constructor(c,f){super(),c=kw(c),c&&(this._element=c,this._config=this._getConfig(f),lZ.set(this._element,this.constructor.DATA_KEY,this))}dispose(){lZ.remove(this._element,this.constructor.DATA_KEY),En.off(this._element,this.constructor.EVENT_KEY);for(const c of Object.getOwnPropertyNames(this))this[c]=null}_queueCallback(c,f,y=!0){Ste(c,f,y)}_getConfig(c){return c=this._mergeConfigObj(c,this._element),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}static getInstance(c){return lZ.get(kw(c),this.DATA_KEY)}static getOrCreateInstance(c,f={}){return this.getInstance(c)||new this(c,typeof f=="object"?f:null)}static get VERSION(){return ufe}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(c){return`${c}${this.EVENT_KEY}`}}const hZ=a=>{let c=a.getAttribute("data-bs-target");if(!c||c==="#"){let f=a.getAttribute("href");if(!f||!f.includes("#")&&!f.startsWith("."))return null;f.includes("#")&&!f.startsWith("#")&&(f=`#${f.split("#")[1]}`),c=f&&f!=="#"?f.trim():null}return Ete(c)},os={find(a,c=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(c,a))},findOne(a,c=document.documentElement){return Element.prototype.querySelector.call(c,a)},children(a,c){return[].concat(...a.children).filter(f=>f.matches(c))},parents(a,c){const f=[];let y=a.parentNode.closest(c);for(;y;)f.push(y),y=y.parentNode.closest(c);return f},prev(a,c){let f=a.previousElementSibling;for(;f;){if(f.matches(c))return[f];f=f.previousElementSibling}return[]},next(a,c){let f=a.nextElementSibling;for(;f;){if(f.matches(c))return[f];f=f.nextElementSibling}return[]},focusableChildren(a){const c=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(f=>`${f}:not([tabindex^="-"])`).join(",");return this.find(c,a).filter(f=>!Pw(f)&&rR(f))},getSelectorFromElement(a){const c=hZ(a);return c&&os.findOne(c)?c:null},getElementFromSelector(a){const c=hZ(a);return c?os.findOne(c):null},getMultipleElementsFromSelector(a){const c=hZ(a);return c?os.find(c):[]}},XH=(a,c="hide")=>{const f=`click.dismiss${a.EVENT_KEY}`,y=a.NAME;En.on(document,f,`[data-bs-dismiss="${y}"]`,function(S){if(["A","AREA"].includes(this.tagName)&&S.preventDefault(),Pw(this))return;const D=os.getElementFromSelector(this)||this.closest(`.${y}`);a.getOrCreateInstance(D)[c]()})},dfe="alert",ffe="bs.alert",Nte=`.${ffe}`,hfe=`close${Nte}`,mfe=`closed${Nte}`,pfe="fade",gfe="show";class QH extends _v{static get NAME(){return dfe}close(){if(En.trigger(this._element,hfe).defaultPrevented)return;this._element.classList.remove(gfe);const f=this._element.classList.contains(pfe);this._queueCallback(()=>this._destroyElement(),this._element,f)}_destroyElement(){this._element.remove(),En.trigger(this._element,mfe),this.dispose()}static jQueryInterface(c){return this.each(function(){const f=QH.getOrCreateInstance(this);if(typeof c=="string"){if(f[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);f[c](this)}})}}XH(QH,"close");n1(QH);const vfe="button",bfe="bs.button",yfe=`.${bfe}`,_fe=".data-api",Efe="active",nJ='[data-bs-toggle="button"]',wfe=`click${yfe}${_fe}`;class JH extends _v{static get NAME(){return vfe}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Efe))}static jQueryInterface(c){return this.each(function(){const f=JH.getOrCreateInstance(this);c==="toggle"&&f[c]()})}}En.on(document,wfe,nJ,a=>{a.preventDefault();const c=a.target.closest(nJ);JH.getOrCreateInstance(c).toggle()});n1(JH);const Tfe="swipe",iR=".bs.swipe",Cfe=`touchstart${iR}`,Sfe=`touchmove${iR}`,xfe=`touchend${iR}`,Afe=`pointerdown${iR}`,Ofe=`pointerup${iR}`,Rfe="touch",Ife="pen",Dfe="pointer-event",Nfe=40,Mfe={endCallback:null,leftCallback:null,rightCallback:null},kfe={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class kH extends lk{constructor(c,f){super(),this._element=c,!(!c||!kH.isSupported())&&(this._config=this._getConfig(f),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Mfe}static get DefaultType(){return kfe}static get NAME(){return Tfe}dispose(){En.off(this._element,iR)}_start(c){if(!this._supportPointerEvents){this._deltaX=c.touches[0].clientX;return}this._eventIsPointerPenTouch(c)&&(this._deltaX=c.clientX)}_end(c){this._eventIsPointerPenTouch(c)&&(this._deltaX=c.clientX-this._deltaX),this._handleSwipe(),wm(this._config.endCallback)}_move(c){this._deltaX=c.touches&&c.touches.length>1?0:c.touches[0].clientX-this._deltaX}_handleSwipe(){const c=Math.abs(this._deltaX);if(c<=Nfe)return;const f=c/this._deltaX;this._deltaX=0,f&&wm(f>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(En.on(this._element,Afe,c=>this._start(c)),En.on(this._element,Ofe,c=>this._end(c)),this._element.classList.add(Dfe)):(En.on(this._element,Cfe,c=>this._start(c)),En.on(this._element,Sfe,c=>this._move(c)),En.on(this._element,xfe,c=>this._end(c)))}_eventIsPointerPenTouch(c){return this._supportPointerEvents&&(c.pointerType===Ife||c.pointerType===Rfe)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Pfe="carousel",Lfe="bs.carousel",Bw=`.${Lfe}`,Mte=".data-api",$fe="ArrowLeft",Bfe="ArrowRight",Ffe=500,jM="next",RO="prev",NO="left",pH="right",Hfe=`slide${Bw}`,mZ=`slid${Bw}`,Vfe=`keydown${Bw}`,Ufe=`mouseenter${Bw}`,zfe=`mouseleave${Bw}`,Wfe=`dragstart${Bw}`,Gfe=`load${Bw}${Mte}`,qfe=`click${Bw}${Mte}`,kte="carousel",X5="active",jfe="slide",Zfe="carousel-item-end",Yfe="carousel-item-start",Kfe="carousel-item-next",Xfe="carousel-item-prev",Pte=".active",Lte=".carousel-item",Qfe=Pte+Lte,Jfe=".carousel-item img",ehe=".carousel-indicators",the="[data-bs-slide], [data-bs-slide-to]",nhe='[data-bs-ride="carousel"]',ohe={[$fe]:pH,[Bfe]:NO},she={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},rhe={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class uk extends _v{constructor(c,f){super(c,f),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=os.findOne(ehe,this._element),this._addEventListeners(),this._config.ride===kte&&this.cycle()}static get Default(){return she}static get DefaultType(){return rhe}static get NAME(){return Pfe}next(){this._slide(jM)}nextWhenVisible(){!document.hidden&&rR(this._element)&&this.next()}prev(){this._slide(RO)}pause(){this._isSliding&&wte(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){En.one(this._element,mZ,()=>this.cycle());return}this.cycle()}}to(c){const f=this._getItems();if(c>f.length-1||c<0)return;if(this._isSliding){En.one(this._element,mZ,()=>this.to(c));return}const y=this._getItemIndex(this._getActive());if(y===c)return;const S=c>y?jM:RO;this._slide(S,f[c])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(c){return c.defaultInterval=c.interval,c}_addEventListeners(){this._config.keyboard&&En.on(this._element,Vfe,c=>this._keydown(c)),this._config.pause==="hover"&&(En.on(this._element,Ufe,()=>this.pause()),En.on(this._element,zfe,()=>this._maybeEnableCycle())),this._config.touch&&kH.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const y of os.find(Jfe,this._element))En.on(y,Wfe,S=>S.preventDefault());const f={leftCallback:()=>this._slide(this._directionToOrder(NO)),rightCallback:()=>this._slide(this._directionToOrder(pH)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Ffe+this._config.interval))}};this._swipeHelper=new kH(this._element,f)}_keydown(c){if(/input|textarea/i.test(c.target.tagName))return;const f=ohe[c.key];f&&(c.preventDefault(),this._slide(this._directionToOrder(f)))}_getItemIndex(c){return this._getItems().indexOf(c)}_setActiveIndicatorElement(c){if(!this._indicatorsElement)return;const f=os.findOne(Pte,this._indicatorsElement);f.classList.remove(X5),f.removeAttribute("aria-current");const y=os.findOne(`[data-bs-slide-to="${c}"]`,this._indicatorsElement);y&&(y.classList.add(X5),y.setAttribute("aria-current","true"))}_updateInterval(){const c=this._activeElement||this._getActive();if(!c)return;const f=Number.parseInt(c.getAttribute("data-bs-interval"),10);this._config.interval=f||this._config.defaultInterval}_slide(c,f=null){if(this._isSliding)return;const y=this._getActive(),S=c===jM,D=f||LY(this._getItems(),y,S,this._config.wrap);if(D===y)return;const I=this._getItemIndex(D),B=ie=>En.trigger(this._element,ie,{relatedTarget:D,direction:this._orderToDirection(c),from:this._getItemIndex(y),to:I});if(B(Hfe).defaultPrevented||!y||!D)return;const j=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(I),this._activeElement=D;const Y=S?Yfe:Zfe,ne=S?Kfe:Xfe;D.classList.add(ne),ck(D),y.classList.add(Y),D.classList.add(Y);const ve=()=>{D.classList.remove(Y,ne),D.classList.add(X5),y.classList.remove(X5,ne,Y),this._isSliding=!1,B(mZ)};this._queueCallback(ve,y,this._isAnimated()),j&&this.cycle()}_isAnimated(){return this._element.classList.contains(jfe)}_getActive(){return os.findOne(Qfe,this._element)}_getItems(){return os.find(Lte,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(c){return e1()?c===NO?RO:jM:c===NO?jM:RO}_orderToDirection(c){return e1()?c===RO?NO:pH:c===RO?pH:NO}static jQueryInterface(c){return this.each(function(){const f=uk.getOrCreateInstance(this,c);if(typeof c=="number"){f.to(c);return}if(typeof c=="string"){if(f[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);f[c]()}})}}En.on(document,qfe,the,function(a){const c=os.getElementFromSelector(this);if(!c||!c.classList.contains(kte))return;a.preventDefault();const f=uk.getOrCreateInstance(c),y=this.getAttribute("data-bs-slide-to");if(y){f.to(y),f._maybeEnableCycle();return}if(i_.getDataAttribute(this,"slide")==="next"){f.next(),f._maybeEnableCycle();return}f.prev(),f._maybeEnableCycle()});En.on(window,Gfe,()=>{const a=os.find(nhe);for(const c of a)uk.getOrCreateInstance(c)});n1(uk);const ihe="collapse",ahe="bs.collapse",dk=`.${ahe}`,che=".data-api",lhe=`show${dk}`,uhe=`shown${dk}`,dhe=`hide${dk}`,fhe=`hidden${dk}`,hhe=`click${dk}${che}`,pZ="show",BO="collapse",Q5="collapsing",mhe="collapsed",phe=`:scope .${BO} .${BO}`,ghe="collapse-horizontal",vhe="width",bhe="height",yhe=".collapse.show, .collapse.collapsing",QZ='[data-bs-toggle="collapse"]',_he={parent:null,toggle:!0},Ehe={parent:"(null|element)",toggle:"boolean"};class ok extends _v{constructor(c,f){super(c,f),this._isTransitioning=!1,this._triggerArray=[];const y=os.find(QZ);for(const S of y){const D=os.getSelectorFromElement(S),I=os.find(D).filter(B=>B===this._element);D!==null&&I.length&&this._triggerArray.push(S)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return _he}static get DefaultType(){return Ehe}static get NAME(){return ihe}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let c=[];if(this._config.parent&&(c=this._getFirstLevelChildren(yhe).filter(B=>B!==this._element).map(B=>ok.getOrCreateInstance(B,{toggle:!1}))),c.length&&c[0]._isTransitioning||En.trigger(this._element,lhe).defaultPrevented)return;for(const B of c)B.hide();const y=this._getDimension();this._element.classList.remove(BO),this._element.classList.add(Q5),this._element.style[y]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const S=()=>{this._isTransitioning=!1,this._element.classList.remove(Q5),this._element.classList.add(BO,pZ),this._element.style[y]="",En.trigger(this._element,uhe)},I=`scroll${y[0].toUpperCase()+y.slice(1)}`;this._queueCallback(S,this._element,!0),this._element.style[y]=`${this._element[I]}px`}hide(){if(this._isTransitioning||!this._isShown()||En.trigger(this._element,dhe).defaultPrevented)return;const f=this._getDimension();this._element.style[f]=`${this._element.getBoundingClientRect()[f]}px`,ck(this._element),this._element.classList.add(Q5),this._element.classList.remove(BO,pZ);for(const S of this._triggerArray){const D=os.getElementFromSelector(S);D&&!this._isShown(D)&&this._addAriaAndCollapsedClass([S],!1)}this._isTransitioning=!0;const y=()=>{this._isTransitioning=!1,this._element.classList.remove(Q5),this._element.classList.add(BO),En.trigger(this._element,fhe)};this._element.style[f]="",this._queueCallback(y,this._element,!0)}_isShown(c=this._element){return c.classList.contains(pZ)}_configAfterMerge(c){return c.toggle=!!c.toggle,c.parent=kw(c.parent),c}_getDimension(){return this._element.classList.contains(ghe)?vhe:bhe}_initializeChildren(){if(!this._config.parent)return;const c=this._getFirstLevelChildren(QZ);for(const f of c){const y=os.getElementFromSelector(f);y&&this._addAriaAndCollapsedClass([f],this._isShown(y))}}_getFirstLevelChildren(c){const f=os.find(phe,this._config.parent);return os.find(c,this._config.parent).filter(y=>!f.includes(y))}_addAriaAndCollapsedClass(c,f){if(c.length)for(const y of c)y.classList.toggle(mhe,!f),y.setAttribute("aria-expanded",f)}static jQueryInterface(c){const f={};return typeof c=="string"&&/show|hide/.test(c)&&(f.toggle=!1),this.each(function(){const y=ok.getOrCreateInstance(this,f);if(typeof c=="string"){if(typeof y[c]>"u")throw new TypeError(`No method named "${c}"`);y[c]()}})}}En.on(document,hhe,QZ,function(a){(a.target.tagName==="A"||a.delegateTarget&&a.delegateTarget.tagName==="A")&&a.preventDefault();for(const c of os.getMultipleElementsFromSelector(this))ok.getOrCreateInstance(c,{toggle:!1}).toggle()});n1(ok);const oJ="dropdown",whe="bs.dropdown",mx=`.${whe}`,BY=".data-api",The="Escape",sJ="Tab",Che="ArrowUp",rJ="ArrowDown",She=2,xhe=`hide${mx}`,Ahe=`hidden${mx}`,Ohe=`show${mx}`,Rhe=`shown${mx}`,$te=`click${mx}${BY}`,Bte=`keydown${mx}${BY}`,Ihe=`keyup${mx}${BY}`,MO="show",Dhe="dropup",Nhe="dropend",Mhe="dropstart",khe="dropup-center",Phe="dropdown-center",ox='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Lhe=`${ox}.${MO}`,gH=".dropdown-menu",$he=".navbar",Bhe=".navbar-nav",Fhe=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Hhe=e1()?"top-end":"top-start",Vhe=e1()?"top-start":"top-end",Uhe=e1()?"bottom-end":"bottom-start",zhe=e1()?"bottom-start":"bottom-end",Whe=e1()?"left-start":"right-start",Ghe=e1()?"right-start":"left-start",qhe="top",jhe="bottom",Zhe={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Yhe={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Qb extends _v{constructor(c,f){super(c,f),this._popper=null,this._parent=this._element.parentNode,this._menu=os.next(this._element,gH)[0]||os.prev(this._element,gH)[0]||os.findOne(gH,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Zhe}static get DefaultType(){return Yhe}static get NAME(){return oJ}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Pw(this._element)||this._isShown())return;const c={relatedTarget:this._element};if(!En.trigger(this._element,Ohe,c).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(Bhe))for(const y of[].concat(...document.body.children))En.on(y,"mouseover",MH);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(MO),this._element.classList.add(MO),En.trigger(this._element,Rhe,c)}}hide(){if(Pw(this._element)||!this._isShown())return;const c={relatedTarget:this._element};this._completeHide(c)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(c){if(!En.trigger(this._element,xhe,c).defaultPrevented){if("ontouchstart"in document.documentElement)for(const y of[].concat(...document.body.children))En.off(y,"mouseover",MH);this._popper&&this._popper.destroy(),this._menu.classList.remove(MO),this._element.classList.remove(MO),this._element.setAttribute("aria-expanded","false"),i_.removeDataAttribute(this._menu,"popper"),En.trigger(this._element,Ahe,c)}}_getConfig(c){if(c=super._getConfig(c),typeof c.reference=="object"&&!r_(c.reference)&&typeof c.reference.getBoundingClientRect!="function")throw new TypeError(`${oJ.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return c}_createPopper(){if(typeof hY>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let c=this._element;this._config.reference==="parent"?c=this._parent:r_(this._config.reference)?c=kw(this._config.reference):typeof this._config.reference=="object"&&(c=this._config.reference);const f=this._getPopperConfig();this._popper=fY(c,this._menu,f)}_isShown(){return this._menu.classList.contains(MO)}_getPlacement(){const c=this._parent;if(c.classList.contains(Nhe))return Whe;if(c.classList.contains(Mhe))return Ghe;if(c.classList.contains(khe))return qhe;if(c.classList.contains(Phe))return jhe;const f=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return c.classList.contains(Dhe)?f?Vhe:Hhe:f?zhe:Uhe}_detectNavbar(){return this._element.closest($he)!==null}_getOffset(){const{offset:c}=this._config;return typeof c=="string"?c.split(",").map(f=>Number.parseInt(f,10)):typeof c=="function"?f=>c(f,this._element):c}_getPopperConfig(){const c={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(i_.setDataAttribute(this._menu,"popper","static"),c.modifiers=[{name:"applyStyles",enabled:!1}]),{...c,...wm(this._config.popperConfig,[c])}}_selectMenuItem({key:c,target:f}){const y=os.find(Fhe,this._menu).filter(S=>rR(S));y.length&&LY(y,f,c===rJ,!y.includes(f)).focus()}static jQueryInterface(c){return this.each(function(){const f=Qb.getOrCreateInstance(this,c);if(typeof c=="string"){if(typeof f[c]>"u")throw new TypeError(`No method named "${c}"`);f[c]()}})}static clearMenus(c){if(c.button===She||c.type==="keyup"&&c.key!==sJ)return;const f=os.find(Lhe);for(const y of f){const S=Qb.getInstance(y);if(!S||S._config.autoClose===!1)continue;const D=c.composedPath(),I=D.includes(S._menu);if(D.includes(S._element)||S._config.autoClose==="inside"&&!I||S._config.autoClose==="outside"&&I||S._menu.contains(c.target)&&(c.type==="keyup"&&c.key===sJ||/input|select|option|textarea|form/i.test(c.target.tagName)))continue;const B={relatedTarget:S._element};c.type==="click"&&(B.clickEvent=c),S._completeHide(B)}}static dataApiKeydownHandler(c){const f=/input|textarea/i.test(c.target.tagName),y=c.key===The,S=[Che,rJ].includes(c.key);if(!S&&!y||f&&!y)return;c.preventDefault();const D=this.matches(ox)?this:os.prev(this,ox)[0]||os.next(this,ox)[0]||os.findOne(ox,c.delegateTarget.parentNode),I=Qb.getOrCreateInstance(D);if(S){c.stopPropagation(),I.show(),I._selectMenuItem(c);return}I._isShown()&&(c.stopPropagation(),I.hide(),D.focus())}}En.on(document,Bte,ox,Qb.dataApiKeydownHandler);En.on(document,Bte,gH,Qb.dataApiKeydownHandler);En.on(document,$te,Qb.clearMenus);En.on(document,Ihe,Qb.clearMenus);En.on(document,$te,ox,function(a){a.preventDefault(),Qb.getOrCreateInstance(this).toggle()});n1(Qb);const Fte="backdrop",Khe="fade",iJ="show",aJ=`mousedown.bs.${Fte}`,Xhe={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Qhe={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Hte extends lk{constructor(c){super(),this._config=this._getConfig(c),this._isAppended=!1,this._element=null}static get Default(){return Xhe}static get DefaultType(){return Qhe}static get NAME(){return Fte}show(c){if(!this._config.isVisible){wm(c);return}this._append();const f=this._getElement();this._config.isAnimated&&ck(f),f.classList.add(iJ),this._emulateAnimation(()=>{wm(c)})}hide(c){if(!this._config.isVisible){wm(c);return}this._getElement().classList.remove(iJ),this._emulateAnimation(()=>{this.dispose(),wm(c)})}dispose(){this._isAppended&&(En.off(this._element,aJ),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const c=document.createElement("div");c.className=this._config.className,this._config.isAnimated&&c.classList.add(Khe),this._element=c}return this._element}_configAfterMerge(c){return c.rootElement=kw(c.rootElement),c}_append(){if(this._isAppended)return;const c=this._getElement();this._config.rootElement.append(c),En.on(c,aJ,()=>{wm(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(c){Ste(c,this._getElement(),this._config.isAnimated)}}const Jhe="focustrap",eme="bs.focustrap",PH=`.${eme}`,tme=`focusin${PH}`,nme=`keydown.tab${PH}`,ome="Tab",sme="forward",cJ="backward",rme={autofocus:!0,trapElement:null},ime={autofocus:"boolean",trapElement:"element"};class Vte extends lk{constructor(c){super(),this._config=this._getConfig(c),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return rme}static get DefaultType(){return ime}static get NAME(){return Jhe}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),En.off(document,PH),En.on(document,tme,c=>this._handleFocusin(c)),En.on(document,nme,c=>this._handleKeydown(c)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,En.off(document,PH))}_handleFocusin(c){const{trapElement:f}=this._config;if(c.target===document||c.target===f||f.contains(c.target))return;const y=os.focusableChildren(f);y.length===0?f.focus():this._lastTabNavDirection===cJ?y[y.length-1].focus():y[0].focus()}_handleKeydown(c){c.key===ome&&(this._lastTabNavDirection=c.shiftKey?cJ:sme)}}const lJ=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",uJ=".sticky-top",J5="padding-right",dJ="margin-right";class JZ{constructor(){this._element=document.body}getWidth(){const c=document.documentElement.clientWidth;return Math.abs(window.innerWidth-c)}hide(){const c=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,J5,f=>f+c),this._setElementAttributes(lJ,J5,f=>f+c),this._setElementAttributes(uJ,dJ,f=>f-c)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,J5),this._resetElementAttributes(lJ,J5),this._resetElementAttributes(uJ,dJ)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(c,f,y){const S=this.getWidth(),D=I=>{if(I!==this._element&&window.innerWidth>I.clientWidth+S)return;this._saveInitialAttribute(I,f);const B=window.getComputedStyle(I).getPropertyValue(f);I.style.setProperty(f,`${y(Number.parseFloat(B))}px`)};this._applyManipulationCallback(c,D)}_saveInitialAttribute(c,f){const y=c.style.getPropertyValue(f);y&&i_.setDataAttribute(c,f,y)}_resetElementAttributes(c,f){const y=S=>{const D=i_.getDataAttribute(S,f);if(D===null){S.style.removeProperty(f);return}i_.removeDataAttribute(S,f),S.style.setProperty(f,D)};this._applyManipulationCallback(c,y)}_applyManipulationCallback(c,f){if(r_(c)){f(c);return}for(const y of os.find(c,this._element))f(y)}}const ame="modal",cme="bs.modal",t1=`.${cme}`,lme=".data-api",ume="Escape",dme=`hide${t1}`,fme=`hidePrevented${t1}`,Ute=`hidden${t1}`,zte=`show${t1}`,hme=`shown${t1}`,mme=`resize${t1}`,pme=`click.dismiss${t1}`,gme=`mousedown.dismiss${t1}`,vme=`keydown.dismiss${t1}`,bme=`click${t1}${lme}`,fJ="modal-open",yme="fade",hJ="show",gZ="modal-static",_me=".modal.show",Eme=".modal-dialog",wme=".modal-body",Tme='[data-bs-toggle="modal"]',Cme={backdrop:!0,focus:!0,keyboard:!0},Sme={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class XO extends _v{constructor(c,f){super(c,f),this._dialog=os.findOne(Eme,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new JZ,this._addEventListeners()}static get Default(){return Cme}static get DefaultType(){return Sme}static get NAME(){return ame}toggle(c){return this._isShown?this.hide():this.show(c)}show(c){this._isShown||this._isTransitioning||En.trigger(this._element,zte,{relatedTarget:c}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(fJ),this._adjustDialog(),this._backdrop.show(()=>this._showElement(c)))}hide(){!this._isShown||this._isTransitioning||En.trigger(this._element,dme).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(hJ),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){En.off(window,t1),En.off(this._dialog,t1),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Hte({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Vte({trapElement:this._element})}_showElement(c){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const f=os.findOne(wme,this._dialog);f&&(f.scrollTop=0),ck(this._element),this._element.classList.add(hJ);const y=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,En.trigger(this._element,hme,{relatedTarget:c})};this._queueCallback(y,this._dialog,this._isAnimated())}_addEventListeners(){En.on(this._element,vme,c=>{if(c.key===ume){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),En.on(window,mme,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),En.on(this._element,gme,c=>{En.one(this._element,pme,f=>{if(!(this._element!==c.target||this._element!==f.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(fJ),this._resetAdjustments(),this._scrollBar.reset(),En.trigger(this._element,Ute)})}_isAnimated(){return this._element.classList.contains(yme)}_triggerBackdropTransition(){if(En.trigger(this._element,fme).defaultPrevented)return;const f=this._element.scrollHeight>document.documentElement.clientHeight,y=this._element.style.overflowY;y==="hidden"||this._element.classList.contains(gZ)||(f||(this._element.style.overflowY="hidden"),this._element.classList.add(gZ),this._queueCallback(()=>{this._element.classList.remove(gZ),this._queueCallback(()=>{this._element.style.overflowY=y},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const c=this._element.scrollHeight>document.documentElement.clientHeight,f=this._scrollBar.getWidth(),y=f>0;if(y&&!c){const S=e1()?"paddingLeft":"paddingRight";this._element.style[S]=`${f}px`}if(!y&&c){const S=e1()?"paddingRight":"paddingLeft";this._element.style[S]=`${f}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(c,f){return this.each(function(){const y=XO.getOrCreateInstance(this,c);if(typeof c=="string"){if(typeof y[c]>"u")throw new TypeError(`No method named "${c}"`);y[c](f)}})}}En.on(document,bme,Tme,function(a){const c=os.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&a.preventDefault(),En.one(c,zte,S=>{S.defaultPrevented||En.one(c,Ute,()=>{rR(this)&&this.focus()})});const f=os.findOne(_me);f&&XO.getInstance(f).hide(),XO.getOrCreateInstance(c).toggle(this)});XH(XO);n1(XO);const xme="offcanvas",Ame="bs.offcanvas",d_=`.${Ame}`,Wte=".data-api",Ome=`load${d_}${Wte}`,Rme="Escape",mJ="show",pJ="showing",gJ="hiding",Ime="offcanvas-backdrop",Gte=".offcanvas.show",Dme=`show${d_}`,Nme=`shown${d_}`,Mme=`hide${d_}`,vJ=`hidePrevented${d_}`,qte=`hidden${d_}`,kme=`resize${d_}`,Pme=`click${d_}${Wte}`,Lme=`keydown.dismiss${d_}`,$me='[data-bs-toggle="offcanvas"]',Bme={backdrop:!0,keyboard:!0,scroll:!1},Fme={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Lw extends _v{constructor(c,f){super(c,f),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Bme}static get DefaultType(){return Fme}static get NAME(){return xme}toggle(c){return this._isShown?this.hide():this.show(c)}show(c){if(this._isShown||En.trigger(this._element,Dme,{relatedTarget:c}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new JZ().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(pJ);const y=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(mJ),this._element.classList.remove(pJ),En.trigger(this._element,Nme,{relatedTarget:c})};this._queueCallback(y,this._element,!0)}hide(){if(!this._isShown||En.trigger(this._element,Mme).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(gJ),this._backdrop.hide();const f=()=>{this._element.classList.remove(mJ,gJ),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new JZ().reset(),En.trigger(this._element,qte)};this._queueCallback(f,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const c=()=>{if(this._config.backdrop==="static"){En.trigger(this._element,vJ);return}this.hide()},f=!!this._config.backdrop;return new Hte({className:Ime,isVisible:f,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:f?c:null})}_initializeFocusTrap(){return new Vte({trapElement:this._element})}_addEventListeners(){En.on(this._element,Lme,c=>{if(c.key===Rme){if(this._config.keyboard){this.hide();return}En.trigger(this._element,vJ)}})}static jQueryInterface(c){return this.each(function(){const f=Lw.getOrCreateInstance(this,c);if(typeof c=="string"){if(f[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);f[c](this)}})}}En.on(document,Pme,$me,function(a){const c=os.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&a.preventDefault(),Pw(this))return;En.one(c,qte,()=>{rR(this)&&this.focus()});const f=os.findOne(Gte);f&&f!==c&&Lw.getInstance(f).hide(),Lw.getOrCreateInstance(c).toggle(this)});En.on(window,Ome,()=>{for(const a of os.find(Gte))Lw.getOrCreateInstance(a).show()});En.on(window,kme,()=>{for(const a of os.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(a).position!=="fixed"&&Lw.getOrCreateInstance(a).hide()});XH(Lw);n1(Lw);const Hme=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Vme=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Ume=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,zme=(a,c)=>{const f=a.nodeName.toLowerCase();return c.includes(f)?Hme.has(f)?!!(Vme.test(a.nodeValue)||Ume.test(a.nodeValue)):!0:c.filter(y=>y instanceof RegExp).some(y=>y.test(f))},Wme=/^aria-[\w-]*$/i,jte={"*":["class","dir","id","lang","role",Wme],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function Gme(a,c,f){if(!a.length)return a;if(f&&typeof f=="function")return f(a);const S=new window.DOMParser().parseFromString(a,"text/html"),D=[].concat(...S.body.querySelectorAll("*"));for(const I of D){const B=I.nodeName.toLowerCase();if(!Object.keys(c).includes(B)){I.remove();continue}const U=[].concat(...I.attributes),j=[].concat(c["*"]||[],c[B]||[]);for(const Y of U)zme(Y,j)||I.removeAttribute(Y.nodeName)}return S.body.innerHTML}const qme="TemplateFactory",jme={allowList:jte,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Zme={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Yme={entry:"(string|element|function|null)",selector:"(string|element)"};class Kme extends lk{constructor(c){super(),this._config=this._getConfig(c)}static get Default(){return jme}static get DefaultType(){return Zme}static get NAME(){return qme}getContent(){return Object.values(this._config.content).map(c=>this._resolvePossibleFunction(c)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(c){return this._checkContent(c),this._config.content={...this._config.content,...c},this}toHtml(){const c=document.createElement("div");c.innerHTML=this._maybeSanitize(this._config.template);for(const[S,D]of Object.entries(this._config.content))this._setContent(c,D,S);const f=c.children[0],y=this._resolvePossibleFunction(this._config.extraClass);return y&&f.classList.add(...y.split(" ")),f}_typeCheckConfig(c){super._typeCheckConfig(c),this._checkContent(c.content)}_checkContent(c){for(const[f,y]of Object.entries(c))super._typeCheckConfig({selector:f,entry:y},Yme)}_setContent(c,f,y){const S=os.findOne(y,c);if(S){if(f=this._resolvePossibleFunction(f),!f){S.remove();return}if(r_(f)){this._putElementInTemplate(kw(f),S);return}if(this._config.html){S.innerHTML=this._maybeSanitize(f);return}S.textContent=f}}_maybeSanitize(c){return this._config.sanitize?Gme(c,this._config.allowList,this._config.sanitizeFn):c}_resolvePossibleFunction(c){return wm(c,[this])}_putElementInTemplate(c,f){if(this._config.html){f.innerHTML="",f.append(c);return}f.textContent=c.textContent}}const Xme="tooltip",Qme=new Set(["sanitize","allowList","sanitizeFn"]),vZ="fade",Jme="modal",eH="show",epe=".tooltip-inner",bJ=`.${Jme}`,yJ="hide.bs.modal",ZM="hover",bZ="focus",tpe="click",npe="manual",ope="hide",spe="hidden",rpe="show",ipe="shown",ape="inserted",cpe="click",lpe="focusin",upe="focusout",dpe="mouseenter",fpe="mouseleave",hpe={AUTO:"auto",TOP:"top",RIGHT:e1()?"left":"right",BOTTOM:"bottom",LEFT:e1()?"right":"left"},mpe={allowList:jte,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},ppe={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class aR extends _v{constructor(c,f){if(typeof hY>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(c,f),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return mpe}static get DefaultType(){return ppe}static get NAME(){return Xme}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),En.off(this._element.closest(bJ),yJ,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const c=En.trigger(this._element,this.constructor.eventName(rpe)),y=(Tte(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(c.defaultPrevented||!y)return;this._disposePopper();const S=this._getTipElement();this._element.setAttribute("aria-describedby",S.getAttribute("id"));const{container:D}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(D.append(S),En.trigger(this._element,this.constructor.eventName(ape))),this._popper=this._createPopper(S),S.classList.add(eH),"ontouchstart"in document.documentElement)for(const B of[].concat(...document.body.children))En.on(B,"mouseover",MH);const I=()=>{En.trigger(this._element,this.constructor.eventName(ipe)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(I,this.tip,this._isAnimated())}hide(){if(!this._isShown()||En.trigger(this._element,this.constructor.eventName(ope)).defaultPrevented)return;if(this._getTipElement().classList.remove(eH),"ontouchstart"in document.documentElement)for(const S of[].concat(...document.body.children))En.off(S,"mouseover",MH);this._activeTrigger[tpe]=!1,this._activeTrigger[bZ]=!1,this._activeTrigger[ZM]=!1,this._isHovered=null;const y=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),En.trigger(this._element,this.constructor.eventName(spe)))};this._queueCallback(y,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(c){const f=this._getTemplateFactory(c).toHtml();if(!f)return null;f.classList.remove(vZ,eH),f.classList.add(`bs-${this.constructor.NAME}-auto`);const y=efe(this.constructor.NAME).toString();return f.setAttribute("id",y),this._isAnimated()&&f.classList.add(vZ),f}setContent(c){this._newContent=c,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(c){return this._templateFactory?this._templateFactory.changeContent(c):this._templateFactory=new Kme({...this._config,content:c,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[epe]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(c){return this.constructor.getOrCreateInstance(c.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(vZ)}_isShown(){return this.tip&&this.tip.classList.contains(eH)}_createPopper(c){const f=wm(this._config.placement,[this,c,this._element]),y=hpe[f.toUpperCase()];return fY(this._element,c,this._getPopperConfig(y))}_getOffset(){const{offset:c}=this._config;return typeof c=="string"?c.split(",").map(f=>Number.parseInt(f,10)):typeof c=="function"?f=>c(f,this._element):c}_resolvePossibleFunction(c){return wm(c,[this._element])}_getPopperConfig(c){const f={placement:c,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:y=>{this._getTipElement().setAttribute("data-popper-placement",y.state.placement)}}]};return{...f,...wm(this._config.popperConfig,[f])}}_setListeners(){const c=this._config.trigger.split(" ");for(const f of c)if(f==="click")En.on(this._element,this.constructor.eventName(cpe),this._config.selector,y=>{this._initializeOnDelegatedTarget(y).toggle()});else if(f!==npe){const y=f===ZM?this.constructor.eventName(dpe):this.constructor.eventName(lpe),S=f===ZM?this.constructor.eventName(fpe):this.constructor.eventName(upe);En.on(this._element,y,this._config.selector,D=>{const I=this._initializeOnDelegatedTarget(D);I._activeTrigger[D.type==="focusin"?bZ:ZM]=!0,I._enter()}),En.on(this._element,S,this._config.selector,D=>{const I=this._initializeOnDelegatedTarget(D);I._activeTrigger[D.type==="focusout"?bZ:ZM]=I._element.contains(D.relatedTarget),I._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},En.on(this._element.closest(bJ),yJ,this._hideModalHandler)}_fixTitle(){const c=this._element.getAttribute("title");c&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",c),this._element.setAttribute("data-bs-original-title",c),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(c,f){clearTimeout(this._timeout),this._timeout=setTimeout(c,f)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(c){const f=i_.getDataAttributes(this._element);for(const y of Object.keys(f))Qme.has(y)&&delete f[y];return c={...f,...typeof c=="object"&&c?c:{}},c=this._mergeConfigObj(c),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}_configAfterMerge(c){return c.container=c.container===!1?document.body:kw(c.container),typeof c.delay=="number"&&(c.delay={show:c.delay,hide:c.delay}),typeof c.title=="number"&&(c.title=c.title.toString()),typeof c.content=="number"&&(c.content=c.content.toString()),c}_getDelegateConfig(){const c={};for(const[f,y]of Object.entries(this._config))this.constructor.Default[f]!==y&&(c[f]=y);return c.selector=!1,c.trigger="manual",c}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(c){return this.each(function(){const f=aR.getOrCreateInstance(this,c);if(typeof c=="string"){if(typeof f[c]>"u")throw new TypeError(`No method named "${c}"`);f[c]()}})}}n1(aR);const gpe="popover",vpe=".popover-header",bpe=".popover-body",ype={...aR.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},_pe={...aR.DefaultType,content:"(null|string|element|function)"};class FY extends aR{static get Default(){return ype}static get DefaultType(){return _pe}static get NAME(){return gpe}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[vpe]:this._getTitle(),[bpe]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(c){return this.each(function(){const f=FY.getOrCreateInstance(this,c);if(typeof c=="string"){if(typeof f[c]>"u")throw new TypeError(`No method named "${c}"`);f[c]()}})}}n1(FY);const Epe="scrollspy",wpe="bs.scrollspy",HY=`.${wpe}`,Tpe=".data-api",Cpe=`activate${HY}`,_J=`click${HY}`,Spe=`load${HY}${Tpe}`,xpe="dropdown-item",IO="active",Ape='[data-bs-spy="scroll"]',yZ="[href]",Ope=".nav, .list-group",EJ=".nav-link",Rpe=".nav-item",Ipe=".list-group-item",Dpe=`${EJ}, ${Rpe} > ${EJ}, ${Ipe}`,Npe=".dropdown",Mpe=".dropdown-toggle",kpe={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Ppe={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class e6 extends _v{constructor(c,f){super(c,f),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return kpe}static get DefaultType(){return Ppe}static get NAME(){return Epe}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const c of this._observableSections.values())this._observer.observe(c)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(c){return c.target=kw(c.target)||document.body,c.rootMargin=c.offset?`${c.offset}px 0px -30%`:c.rootMargin,typeof c.threshold=="string"&&(c.threshold=c.threshold.split(",").map(f=>Number.parseFloat(f))),c}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(En.off(this._config.target,_J),En.on(this._config.target,_J,yZ,c=>{const f=this._observableSections.get(c.target.hash);if(f){c.preventDefault();const y=this._rootElement||window,S=f.offsetTop-this._element.offsetTop;if(y.scrollTo){y.scrollTo({top:S,behavior:"smooth"});return}y.scrollTop=S}}))}_getNewObserver(){const c={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(f=>this._observerCallback(f),c)}_observerCallback(c){const f=I=>this._targetLinks.get(`#${I.target.id}`),y=I=>{this._previousScrollData.visibleEntryTop=I.target.offsetTop,this._process(f(I))},S=(this._rootElement||document.documentElement).scrollTop,D=S>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=S;for(const I of c){if(!I.isIntersecting){this._activeTarget=null,this._clearActiveClass(f(I));continue}const B=I.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(D&&B){if(y(I),!S)return;continue}!D&&!B&&y(I)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const c=os.find(yZ,this._config.target);for(const f of c){if(!f.hash||Pw(f))continue;const y=os.findOne(f.hash,this._element);rR(y)&&(this._targetLinks.set(f.hash,f),this._observableSections.set(f.hash,y))}}_process(c){this._activeTarget!==c&&(this._clearActiveClass(this._config.target),this._activeTarget=c,c.classList.add(IO),this._activateParents(c),En.trigger(this._element,Cpe,{relatedTarget:c}))}_activateParents(c){if(c.classList.contains(xpe)){os.findOne(Mpe,c.closest(Npe)).classList.add(IO);return}for(const f of os.parents(c,Ope))for(const y of os.prev(f,Dpe))y.classList.add(IO)}_clearActiveClass(c){c.classList.remove(IO);const f=os.find(`${yZ}.${IO}`,c);for(const y of f)y.classList.remove(IO)}static jQueryInterface(c){return this.each(function(){const f=e6.getOrCreateInstance(this,c);if(typeof c=="string"){if(f[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);f[c]()}})}}En.on(window,Spe,()=>{for(const a of os.find(Ape))e6.getOrCreateInstance(a)});n1(e6);const Lpe="tab",$pe="bs.tab",px=`.${$pe}`,Bpe=`hide${px}`,Fpe=`hidden${px}`,Hpe=`show${px}`,Vpe=`shown${px}`,Upe=`click${px}`,zpe=`keydown${px}`,Wpe=`load${px}`,Gpe="ArrowLeft",wJ="ArrowRight",qpe="ArrowUp",TJ="ArrowDown",sx="active",CJ="fade",_Z="show",jpe="dropdown",Zpe=".dropdown-toggle",Ype=".dropdown-menu",EZ=":not(.dropdown-toggle)",Kpe='.list-group, .nav, [role="tablist"]',Xpe=".nav-item, .list-group-item",Qpe=`.nav-link${EZ}, .list-group-item${EZ}, [role="tab"]${EZ}`,Zte='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',wZ=`${Qpe}, ${Zte}`,Jpe=`.${sx}[data-bs-toggle="tab"], .${sx}[data-bs-toggle="pill"], .${sx}[data-bs-toggle="list"]`;class QO extends _v{constructor(c){super(c),this._parent=this._element.closest(Kpe),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),En.on(this._element,zpe,f=>this._keydown(f)))}static get NAME(){return Lpe}show(){const c=this._element;if(this._elemIsActive(c))return;const f=this._getActiveElem(),y=f?En.trigger(f,Bpe,{relatedTarget:c}):null;En.trigger(c,Hpe,{relatedTarget:f}).defaultPrevented||y&&y.defaultPrevented||(this._deactivate(f,c),this._activate(c,f))}_activate(c,f){if(!c)return;c.classList.add(sx),this._activate(os.getElementFromSelector(c));const y=()=>{if(c.getAttribute("role")!=="tab"){c.classList.add(_Z);return}c.removeAttribute("tabindex"),c.setAttribute("aria-selected",!0),this._toggleDropDown(c,!0),En.trigger(c,Vpe,{relatedTarget:f})};this._queueCallback(y,c,c.classList.contains(CJ))}_deactivate(c,f){if(!c)return;c.classList.remove(sx),c.blur(),this._deactivate(os.getElementFromSelector(c));const y=()=>{if(c.getAttribute("role")!=="tab"){c.classList.remove(_Z);return}c.setAttribute("aria-selected",!1),c.setAttribute("tabindex","-1"),this._toggleDropDown(c,!1),En.trigger(c,Fpe,{relatedTarget:f})};this._queueCallback(y,c,c.classList.contains(CJ))}_keydown(c){if(![Gpe,wJ,qpe,TJ].includes(c.key))return;c.stopPropagation(),c.preventDefault();const f=[wJ,TJ].includes(c.key),y=LY(this._getChildren().filter(S=>!Pw(S)),c.target,f,!0);y&&(y.focus({preventScroll:!0}),QO.getOrCreateInstance(y).show())}_getChildren(){return os.find(wZ,this._parent)}_getActiveElem(){return this._getChildren().find(c=>this._elemIsActive(c))||null}_setInitialAttributes(c,f){this._setAttributeIfNotExists(c,"role","tablist");for(const y of f)this._setInitialAttributesOnChild(y)}_setInitialAttributesOnChild(c){c=this._getInnerElement(c);const f=this._elemIsActive(c),y=this._getOuterElement(c);c.setAttribute("aria-selected",f),y!==c&&this._setAttributeIfNotExists(y,"role","presentation"),f||c.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(c,"role","tab"),this._setInitialAttributesOnTargetPanel(c)}_setInitialAttributesOnTargetPanel(c){const f=os.getElementFromSelector(c);f&&(this._setAttributeIfNotExists(f,"role","tabpanel"),c.id&&this._setAttributeIfNotExists(f,"aria-labelledby",`${c.id}`))}_toggleDropDown(c,f){const y=this._getOuterElement(c);if(!y.classList.contains(jpe))return;const S=(D,I)=>{const B=os.findOne(D,y);B&&B.classList.toggle(I,f)};S(Zpe,sx),S(Ype,_Z),y.setAttribute("aria-expanded",f)}_setAttributeIfNotExists(c,f,y){c.hasAttribute(f)||c.setAttribute(f,y)}_elemIsActive(c){return c.classList.contains(sx)}_getInnerElement(c){return c.matches(wZ)?c:os.findOne(wZ,c)}_getOuterElement(c){return c.closest(Xpe)||c}static jQueryInterface(c){return this.each(function(){const f=QO.getOrCreateInstance(this);if(typeof c=="string"){if(f[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);f[c]()}})}}En.on(document,Upe,Zte,function(a){["A","AREA"].includes(this.tagName)&&a.preventDefault(),!Pw(this)&&QO.getOrCreateInstance(this).show()});En.on(window,Wpe,()=>{for(const a of os.find(Jpe))QO.getOrCreateInstance(a)});n1(QO);const ege="toast",tge="bs.toast",Fw=`.${tge}`,nge=`mouseover${Fw}`,oge=`mouseout${Fw}`,sge=`focusin${Fw}`,rge=`focusout${Fw}`,ige=`hide${Fw}`,age=`hidden${Fw}`,cge=`show${Fw}`,lge=`shown${Fw}`,uge="fade",SJ="hide",tH="show",nH="showing",dge={animation:"boolean",autohide:"boolean",delay:"number"},fge={animation:!0,autohide:!0,delay:5e3};class t6 extends _v{constructor(c,f){super(c,f),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return fge}static get DefaultType(){return dge}static get NAME(){return ege}show(){if(En.trigger(this._element,cge).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(uge);const f=()=>{this._element.classList.remove(nH),En.trigger(this._element,lge),this._maybeScheduleHide()};this._element.classList.remove(SJ),ck(this._element),this._element.classList.add(tH,nH),this._queueCallback(f,this._element,this._config.animation)}hide(){if(!this.isShown()||En.trigger(this._element,ige).defaultPrevented)return;const f=()=>{this._element.classList.add(SJ),this._element.classList.remove(nH,tH),En.trigger(this._element,age)};this._element.classList.add(nH),this._queueCallback(f,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(tH),super.dispose()}isShown(){return this._element.classList.contains(tH)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(c,f){switch(c.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=f;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=f;break}}if(f){this._clearTimeout();return}const y=c.relatedTarget;this._element===y||this._element.contains(y)||this._maybeScheduleHide()}_setListeners(){En.on(this._element,nge,c=>this._onInteraction(c,!0)),En.on(this._element,oge,c=>this._onInteraction(c,!1)),En.on(this._element,sge,c=>this._onInteraction(c,!0)),En.on(this._element,rge,c=>this._onInteraction(c,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(c){return this.each(function(){const f=t6.getOrCreateInstance(this,c);if(typeof c=="string"){if(typeof f[c]>"u")throw new TypeError(`No method named "${c}"`);f[c](this)}})}}XH(t6);n1(t6);
