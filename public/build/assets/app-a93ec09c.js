var IO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vH={},Dne={get exports(){return vH},set exports(a){vH=a}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(a,c){(function(){var h,E="4.17.21",x=200,k="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",D="Expected a function",V="Invalid `variable` option passed into `_.template`",G="__lodash_hash_undefined__",Y=500,K="__lodash_placeholder__",re=1,be=2,ge=4,le=1,de=2,Ee=1,De=2,ke=4,ne=8,Le=16,ct=32,$=64,ye=128,Ge=256,mt=512,xt=30,Pe="...",he=800,dn=16,bt=1,Ct=2,P=3,Tt=1/0,Xe=9007199254740991,Vt=17976931348623157e292,Nt=0/0,Ve=4294967295,uo=Ve-1,Lo=Ve>>>1,Jn=[["ary",ye],["bind",Ee],["bindKey",De],["curry",ne],["curryRight",Le],["flip",mt],["partial",ct],["partialRight",$],["rearg",Ge]],Fo="[object Arguments]",je="[object Array]",At="[object AsyncFunction]",ee="[object Boolean]",os="[object Date]",so="[object DOMException]",Ts="[object Error]",ys="[object Function]",bc="[object GeneratorFunction]",Dn="[object Map]",as="[object Number]",qt="[object Null]",lt="[object Object]",Sl="[object Promise]",Ui="[object Proxy]",En="[object RegExp]",Wr="[object Set]",Os="[object String]",yc="[object Symbol]",gs="[object Undefined]",Tr="[object WeakMap]",nl="[object WeakSet]",ga="[object ArrayBuffer]",tr="[object DataView]",js="[object Float32Array]",qd="[object Float64Array]",Nr="[object Int8Array]",Rs="[object Int16Array]",xl="[object Int32Array]",Oi="[object Uint8Array]",Al="[object Uint8ClampedArray]",pr="[object Uint16Array]",ei="[object Uint32Array]",Hf=/\b__p \+= '';/g,La=/\b(__p \+=) '' \+/g,ng=/(__e\(.*?\)|\b__t\)) \+\n'';/g,nn=/&(?:amp|lt|gt|quot|#39);/g,Bo=/[&<>"']/g,na=RegExp(nn.source),Ec=RegExp(Bo.source),og=/<%-([\s\S]+?)%>/g,Au=/<%([\s\S]+?)%>/g,Is=/<%=([\s\S]+?)%>/g,jd=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Vf=/^\w*$/,Ys=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zn=/[\\^$.*+?()[\]{}|]/g,nc=RegExp(zn.source),Ou=/^\s+/,Vh=/\s/,Sp=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ri=/\{\n\/\* \[wrapped with (.+)\] \*/,zi=/,? & /,Rr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ol=/[()=,{}\[\]\/\s]/,Yd=/\\(\\)?/g,Ru=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,_c=/\w*$/,xr=/^[-+]0x[0-9a-f]+$/i,sl=/^0b[01]+$/i,Ol=/^\[object .+?Constructor\]$/,q1=/^0o[0-7]+$/i,j1=/^(?:0|[1-9]\d*)$/,Jl=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xp=/($^)/,Ze=/['\n\r\u2028\u2029\\]/g,Ii="\\ud800-\\udfff",Uf="\\u0300-\\u036f",Y1="\\ufe20-\\ufe2f",sg="\\u20d0-\\u20ff",Ls=Uf+Y1+sg,zf="\\u2700-\\u27bf",Ap="a-z\\xdf-\\xf6\\xf8-\\xff",oa="\\xac\\xb1\\xd7\\xf7",Rl="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ti="\\u2000-\\u206f",vi=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Iu="A-Z\\xc0-\\xd6\\xd8-\\xde",oc="\\ufe0e\\ufe0f",Du=oa+Rl+ti+vi,eu="['’]",Kd="["+Ii+"]",Es="["+Du+"]",pa="["+Ls+"]",rl="\\d+",dd="["+zf+"]",Lc="["+Ap+"]",wc="[^"+Ii+Du+rl+zf+Ap+Iu+"]",vr="\\ud83c[\\udffb-\\udfff]",Xd="(?:"+pa+"|"+vr+")",Mu="[^"+Ii+"]",us="(?:\\ud83c[\\udde6-\\uddff]){2}",sc="[\\ud800-\\udbff][\\udc00-\\udfff]",Di="["+Iu+"]",bi="\\u200d",ku="(?:"+Lc+"|"+wc+")",fd="(?:"+Di+"|"+wc+")",Cc="(?:"+eu+"(?:d|ll|m|re|s|t|ve))?",Bc="(?:"+eu+"(?:D|LL|M|RE|S|T|VE))?",Uh=Xd+"?",rg="["+oc+"]?",K1="(?:"+bi+"(?:"+[Mu,us,sc].join("|")+")"+rg+Uh+")*",$c="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",hd="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ig=rg+Uh+K1,Op="(?:"+[dd,us,sc].join("|")+")"+ig,ag="(?:"+[Mu+pa+"?",pa,us,sc,Kd].join("|")+")",cg=RegExp(eu,"g"),X1=RegExp(pa,"g"),Wf=RegExp(vr+"(?="+vr+")|"+ag+ig,"g"),va=RegExp([Di+"?"+Lc+"+"+Cc+"(?="+[Es,Di,"$"].join("|")+")",fd+"+"+Bc+"(?="+[Es,Di+ku,"$"].join("|")+")",Di+"?"+ku+"+"+Cc,Di+"+"+Bc,hd,$c,rl,Op].join("|"),"g"),Wi=RegExp("["+bi+Ii+Ls+oc+"]"),md=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,lg=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Q1=-1,Bs={};Bs[js]=Bs[qd]=Bs[Nr]=Bs[Rs]=Bs[xl]=Bs[Oi]=Bs[Al]=Bs[pr]=Bs[ei]=!0,Bs[Fo]=Bs[je]=Bs[ga]=Bs[ee]=Bs[tr]=Bs[os]=Bs[Ts]=Bs[ys]=Bs[Dn]=Bs[as]=Bs[lt]=Bs[En]=Bs[Wr]=Bs[Os]=Bs[Tr]=!1;var br={};br[Fo]=br[je]=br[ga]=br[tr]=br[ee]=br[os]=br[js]=br[qd]=br[Nr]=br[Rs]=br[xl]=br[Dn]=br[as]=br[lt]=br[En]=br[Wr]=br[Os]=br[yc]=br[Oi]=br[Al]=br[pr]=br[ei]=!0,br[Ts]=br[ys]=br[Tr]=!1;var rc={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Gi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},tu={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},il={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},eo=parseFloat,jo=parseInt,Mi=typeof IO=="object"&&IO&&IO.Object===Object&&IO,Gr=typeof self=="object"&&self&&self.Object===Object&&self,sa=Mi||Gr||Function("return this")(),C=c&&!c.nodeType&&c,I=C&&!0&&a&&!a.nodeType&&a,F=I&&I.exports===C,U=F&&Mi.process,Q=function(){try{var Qe=I&&I.require&&I.require("util").types;return Qe||U&&U.binding&&U.binding("util")}catch{}}(),se=Q&&Q.isArrayBuffer,fe=Q&&Q.isDate,me=Q&&Q.isMap,Re=Q&&Q.isRegExp,tt=Q&&Q.isSet,pt=Q&&Q.isTypedArray;function Ut(Qe,It,wt){switch(wt.length){case 0:return Qe.call(It);case 1:return Qe.call(It,wt[0]);case 2:return Qe.call(It,wt[0],wt[1]);case 3:return Qe.call(It,wt[0],wt[1],wt[2])}return Qe.apply(It,wt)}function Je(Qe,It,wt,Ln){for(var go=-1,Ho=Qe==null?0:Qe.length;++go<Ho;){var oi=Qe[go];It(Ln,oi,wt(oi),Qe)}return Ln}function Ot(Qe,It){for(var wt=-1,Ln=Qe==null?0:Qe.length;++wt<Ln&&It(Qe[wt],wt,Qe)!==!1;);return Qe}function Zn(Qe,It){for(var wt=Qe==null?0:Qe.length;wt--&&It(Qe[wt],wt,Qe)!==!1;);return Qe}function Hn(Qe,It){for(var wt=-1,Ln=Qe==null?0:Qe.length;++wt<Ln;)if(!It(Qe[wt],wt,Qe))return!1;return!0}function vn(Qe,It){for(var wt=-1,Ln=Qe==null?0:Qe.length,go=0,Ho=[];++wt<Ln;){var oi=Qe[wt];It(oi,wt,Qe)&&(Ho[go++]=oi)}return Ho}function lr(Qe,It){var wt=Qe==null?0:Qe.length;return!!wt&&Fc(Qe,It,0)>-1}function ni(Qe,It,wt){for(var Ln=-1,go=Qe==null?0:Qe.length;++Ln<go;)if(wt(It,Qe[Ln]))return!0;return!1}function cs(Qe,It){for(var wt=-1,Ln=Qe==null?0:Qe.length,go=Array(Ln);++wt<Ln;)go[wt]=It(Qe[wt],wt,Qe);return go}function Wn(Qe,It){for(var wt=-1,Ln=It.length,go=Qe.length;++wt<Ln;)Qe[go+wt]=It[wt];return Qe}function jn(Qe,It,wt,Ln){var go=-1,Ho=Qe==null?0:Qe.length;for(Ln&&Ho&&(wt=Qe[++go]);++go<Ho;)wt=It(wt,Qe[go],go,Qe);return wt}function Zi(Qe,It,wt,Ln){var go=Qe==null?0:Qe.length;for(Ln&&go&&(wt=Qe[--go]);go--;)wt=It(wt,Qe[go],go,Qe);return wt}function To(Qe,It){for(var wt=-1,Ln=Qe==null?0:Qe.length;++wt<Ln;)if(It(Qe[wt],wt,Qe))return!0;return!1}var yr=Ba("length");function Nu(Qe){return Qe.split("")}function $s(Qe){return Qe.match(Rr)||[]}function nr(Qe,It,wt){var Ln;return wt(Qe,function(go,Ho,oi){if(It(go,Ho,oi))return Ln=Ho,!1}),Ln}function Pr(Qe,It,wt,Ln){for(var go=Qe.length,Ho=wt+(Ln?1:-1);Ln?Ho--:++Ho<go;)if(It(Qe[Ho],Ho,Qe))return Ho;return-1}function Fc(Qe,It,wt){return It===It?Rp(Qe,It,wt):Pr(Qe,Jo,wt)}function yi(Qe,It,wt,Ln){for(var go=wt-1,Ho=Qe.length;++go<Ho;)if(Ln(Qe[go],It))return go;return-1}function Jo(Qe){return Qe!==Qe}function ur(Qe,It){var wt=Qe==null?0:Qe.length;return wt?io(Qe,It)/wt:Nt}function Ba(Qe){return function(It){return It==null?h:It[Qe]}}function zh(Qe){return function(It){return Qe==null?h:Qe[It]}}function Hc(Qe,It,wt,Ln,go){return go(Qe,function(Ho,oi,Us){wt=Ln?(Ln=!1,Ho):It(wt,Ho,oi,Us)}),wt}function Vc(Qe,It){var wt=Qe.length;for(Qe.sort(It);wt--;)Qe[wt]=Qe[wt].value;return Qe}function io(Qe,It){for(var wt,Ln=-1,go=Qe.length;++Ln<go;){var Ho=It(Qe[Ln]);Ho!==h&&(wt=wt===h?Ho:wt+Ho)}return wt}function Lr(Qe,It){for(var wt=-1,Ln=Array(Qe);++wt<Qe;)Ln[wt]=It(wt);return Ln}function ba(Qe,It){return cs(It,function(wt){return[wt,Qe[wt]]})}function Tc(Qe){return Qe&&Qe.slice(0,xe(Qe)+1).replace(Ou,"")}function ya(Qe){return function(It){return Qe(It)}}function dr(Qe,It){return cs(It,function(wt){return Qe[wt]})}function Ea(Qe,It){return Qe.has(It)}function Gf(Qe,It){for(var wt=-1,Ln=Qe.length;++wt<Ln&&Fc(It,Qe[wt],0)>-1;);return wt}function Qd(Qe,It){for(var wt=Qe.length;wt--&&Fc(It,Qe[wt],0)>-1;);return wt}function ug(Qe,It){for(var wt=Qe.length,Ln=0;wt--;)Qe[wt]===It&&++Ln;return Ln}var J1=zh(rc),nu=zh(Gi);function gd(Qe){return"\\"+il[Qe]}function Wh(Qe,It){return Qe==null?h:Qe[It]}function Ei(Qe){return Wi.test(Qe)}function Jd(Qe){return md.test(Qe)}function ef(Qe){for(var It,wt=[];!(It=Qe.next()).done;)wt.push(It.value);return wt}function pd(Qe){var It=-1,wt=Array(Qe.size);return Qe.forEach(function(Ln,go){wt[++It]=[go,Ln]}),wt}function ic(Qe,It){return function(wt){return Qe(It(wt))}}function ra(Qe,It){for(var wt=-1,Ln=Qe.length,go=0,Ho=[];++wt<Ln;){var oi=Qe[wt];(oi===It||oi===K)&&(Qe[wt]=K,Ho[go++]=wt)}return Ho}function vd(Qe){var It=-1,wt=Array(Qe.size);return Qe.forEach(function(Ln){wt[++It]=Ln}),wt}function tf(Qe){var It=-1,wt=Array(Qe.size);return Qe.forEach(function(Ln){wt[++It]=[Ln,Ln]}),wt}function Rp(Qe,It,wt){for(var Ln=wt-1,go=Qe.length;++Ln<go;)if(Qe[Ln]===It)return Ln;return-1}function ev(Qe,It,wt){for(var Ln=wt+1;Ln--;)if(Qe[Ln]===It)return Ln;return Ln}function ps(Qe){return Ei(Qe)?ia(Qe):yr(Qe)}function Sc(Qe){return Ei(Qe)?dg(Qe):Nu(Qe)}function xe(Qe){for(var It=Qe.length;It--&&Vh.test(Qe.charAt(It)););return It}var ac=zh(tu);function ia(Qe){for(var It=Wf.lastIndex=0;Wf.test(Qe);)++It;return It}function dg(Qe){return Qe.match(Wf)||[]}function Lb(Qe){return Qe.match(va)||[]}var Bb=function Qe(It){It=It==null?sa:zo.defaults(sa.Object(),It,zo.pick(sa,lg));var wt=It.Array,Ln=It.Date,go=It.Error,Ho=It.Function,oi=It.Math,Us=It.Object,Zf=It.RegExp,xc=It.String,_a=It.TypeError,_e=wt.prototype,Me=Ho.prototype,Fe=Us.prototype,kt=It["__core-js_shared__"],st=Me.toString,Et=Fe.hasOwnProperty,zt=0,_n=function(){var g=/[^.]+$/.exec(kt&&kt.keys&&kt.keys.IE_PROTO||"");return g?"Symbol(src)_1."+g:""}(),Sn=Fe.toString,fo=st.call(Us),ao=sa._,Xn=Zf("^"+st.call(Et).replace(zn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vo=F?It.Buffer:h,Ss=It.Symbol,po=It.Uint8Array,qi=Vo?Vo.allocUnsafe:h,ki=ic(Us.getPrototypeOf,Us),$a=Us.create,Ks=Fe.propertyIsEnumerable,ou=_e.splice,Ds=Ss?Ss.isConcatSpreadable:h,Wo=Ss?Ss.iterator:h,Il=Ss?Ss.toStringTag:h,Ip=function(){try{var g=nh(Us,"defineProperty");return g({},"",{}),g}catch{}}(),Lw=It.clearTimeout!==sa.clearTimeout&&It.clearTimeout,wa=Ln&&Ln.now!==sa.Date.now&&Ln.now,Dp=It.setTimeout!==sa.setTimeout&&It.setTimeout,su=oi.ceil,Dl=oi.floor,Gh=Us.getOwnPropertySymbols,co=Vo?Vo.isBuffer:h,Fa=It.isFinite,fg=_e.join,nE=ic(Us.keys,Us),si=oi.max,aa=oi.min,bd=Ln.now,Ml=It.parseInt,Ca=oi.random,al=_e.reverse,ji=nh(It,"DataView"),Mp=nh(It,"Map"),ss=nh(It,"Promise"),cl=nh(It,"Set"),ru=nh(It,"WeakMap"),Er=nh(Us,"create"),kp=ru&&new ru,hg={},nf=hf(ji),Xs=hf(Mp),_r=hf(ss),Ha=hf(cl),$b=hf(ru),Zh=Ss?Ss.prototype:h,qh=Zh?Zh.valueOf:h,mg=Zh?Zh.toString:h;function ce(g){if(Rt(g)&&!Ko(g)&&!(g instanceof Fs)){if(g instanceof iu)return g;if(Et.call(g,"__wrapped__"))return Jb(g)}return new iu(g)}var qf=function(){function g(){}return function(y){if(!di(y))return{};if($a)return $a(y);g.prototype=y;var R=new g;return g.prototype=h,R}}();function gg(){}function iu(g,y){this.__wrapped__=g,this.__actions__=[],this.__chain__=!!y,this.__index__=0,this.__values__=h}ce.templateSettings={escape:og,evaluate:Au,interpolate:Is,variable:"",imports:{_:ce}},ce.prototype=gg.prototype,ce.prototype.constructor=ce,iu.prototype=qf(gg.prototype),iu.prototype.constructor=iu;function Fs(g){this.__wrapped__=g,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ve,this.__views__=[]}function Fb(){var g=new Fs(this.__wrapped__);return g.__actions__=Oc(this.__actions__),g.__dir__=this.__dir__,g.__filtered__=this.__filtered__,g.__iteratees__=Oc(this.__iteratees__),g.__takeCount__=this.__takeCount__,g.__views__=Oc(this.__views__),g}function Hb(){if(this.__filtered__){var g=new Fs(this);g.__dir__=-1,g.__filtered__=!0}else g=this.clone(),g.__dir__*=-1;return g}function Vb(){var g=this.__wrapped__.value(),y=this.__dir__,R=Ko(g),W=y<0,ie=R?g.length:0,Te=Fw(0,ie,this.__views__),Ne=Te.start,He=Te.end,ut=He-Ne,Zt=W?He:Ne-1,Gt=this.__iteratees__,rn=Gt.length,On=0,Qn=aa(ut,this.__takeCount__);if(!R||!W&&ie==ut&&Qn==ut)return Gc(g,this.__actions__);var So=[];e:for(;ut--&&On<Qn;){Zt+=y;for(var wo=-1,Eo=g[Zt];++wo<rn;){var ws=Gt[wo],Xo=ws.iteratee,$r=ws.type,Fr=Xo(Eo);if($r==Ct)Eo=Fr;else if(!Fr){if($r==bt)continue e;break e}}So[On++]=Eo}return So}Fs.prototype=qf(gg.prototype),Fs.prototype.constructor=Fs;function Va(g){var y=-1,R=g==null?0:g.length;for(this.clear();++y<R;){var W=g[y];this.set(W[0],W[1])}}function oE(){this.__data__=Er?Er(null):{},this.size=0}function tv(g){var y=this.has(g)&&delete this.__data__[g];return this.size-=y?1:0,y}function sE(g){var y=this.__data__;if(Er){var R=y[g];return R===G?h:R}return Et.call(y,g)?y[g]:h}function Pu(g){var y=this.__data__;return Er?y[g]!==h:Et.call(y,g)}function Ub(g,y){var R=this.__data__;return this.size+=this.has(g)?0:1,R[g]=Er&&y===h?G:y,this}Va.prototype.clear=oE,Va.prototype.delete=tv,Va.prototype.get=sE,Va.prototype.has=Pu,Va.prototype.set=Ub;function Ua(g){var y=-1,R=g==null?0:g.length;for(this.clear();++y<R;){var W=g[y];this.set(W[0],W[1])}}function jh(){this.__data__=[],this.size=0}function Bw(g){var y=this.__data__,R=of(y,g);if(R<0)return!1;var W=y.length-1;return R==W?y.pop():ou.call(y,R,1),--this.size,!0}function nv(g){var y=this.__data__,R=of(y,g);return R<0?h:y[R][1]}function zb(g){return of(this.__data__,g)>-1}function rE(g,y){var R=this.__data__,W=of(R,g);return W<0?(++this.size,R.push([g,y])):R[W][1]=y,this}Ua.prototype.clear=jh,Ua.prototype.delete=Bw,Ua.prototype.get=nv,Ua.prototype.has=zb,Ua.prototype.set=rE;function Lu(g){var y=-1,R=g==null?0:g.length;for(this.clear();++y<R;){var W=g[y];this.set(W[0],W[1])}}function Ta(){this.size=0,this.__data__={hash:new Va,map:new(Mp||Ua),string:new Va}}function ov(g){var y=Uu(this,g).delete(g);return this.size-=y?1:0,y}function ri(g){return Uu(this,g).get(g)}function ca(g){return Uu(this,g).has(g)}function An(g,y){var R=Uu(this,g),W=R.size;return R.set(g,y),this.size+=R.size==W?0:1,this}Lu.prototype.clear=Ta,Lu.prototype.delete=ov,Lu.prototype.get=ri,Lu.prototype.has=ca,Lu.prototype.set=An;function Xt(g){var y=-1,R=g==null?0:g.length;for(this.__data__=new Lu;++y<R;)this.add(g[y])}function Np(g){return this.__data__.set(g,G),this}function kl(g){return this.__data__.has(g)}Xt.prototype.add=Xt.prototype.push=Np,Xt.prototype.has=kl;function Nl(g){var y=this.__data__=new Ua(g);this.size=y.size}function Wb(){this.__data__=new Ua,this.size=0}function Pl(g){var y=this.__data__,R=y.delete(g);return this.size=y.size,R}function Ll(g){return this.__data__.get(g)}function sv(g){return this.__data__.has(g)}function Ar(g,y){var R=this.__data__;if(R instanceof Ua){var W=R.__data__;if(!Mp||W.length<x-1)return W.push([g,y]),this.size=++R.size,this;R=this.__data__=new Lu(W)}return R.set(g,y),this.size=R.size,this}Nl.prototype.clear=Wb,Nl.prototype.delete=Pl,Nl.prototype.get=Ll,Nl.prototype.has=sv,Nl.prototype.set=Ar;function Yh(g,y){var R=Ko(g),W=!R&&Ef(g),ie=!R&&!W&&Zu(g),Te=!R&&!W&&!ie&&Xa(g),Ne=R||W||ie||Te,He=Ne?Lr(g.length,xc):[],ut=He.length;for(var Zt in g)(y||Et.call(g,Zt))&&!(Ne&&(Zt=="length"||ie&&(Zt=="offset"||Zt=="parent")||Te&&(Zt=="buffer"||Zt=="byteLength"||Zt=="byteOffset")||Sd(Zt,ut)))&&He.push(Zt);return He}function pg(g){var y=g.length;return y?g[rf(0,y-1)]:h}function Pt(g,y){return um(Oc(g),Zr(y,0,g.length))}function $w(g){return um(Oc(g))}function Gb(g,y,R){(R!==h&&!vs(g[y],R)||R===h&&!(y in g))&&Go(g,y,R)}function za(g,y,R){var W=g[y];(!(Et.call(g,y)&&vs(W,R))||R===h&&!(y in g))&&Go(g,y,R)}function of(g,y){for(var R=g.length;R--;)if(vs(g[R][0],y))return R;return-1}function jf(g,y,R,W){return au(g,function(ie,Te,Ne){y(W,ie,R(ie),Ne)}),W}function wr(g,y){return g&&du(y,Ma(y),g)}function iE(g,y){return g&&du(y,pl(y),g)}function Go(g,y,R){y=="__proto__"&&Ip?Ip(g,y,{configurable:!0,enumerable:!0,value:R,writable:!0}):g[y]=R}function es(g,y){for(var R=-1,W=y.length,ie=wt(W),Te=g==null;++R<W;)ie[R]=Te?h:c1(g,y[R]);return ie}function Zr(g,y,R){return g===g&&(R!==h&&(g=g<=R?g:R),y!==h&&(g=g>=y?g:y)),g}function cc(g,y,R,W,ie,Te){var Ne,He=y&re,ut=y&be,Zt=y&ge;if(R&&(Ne=ie?R(g,W,ie,Te):R(g)),Ne!==h)return Ne;if(!di(g))return g;var Gt=Ko(g);if(Gt){if(Ne=fn(g),!He)return Oc(g,Ne)}else{var rn=Oa(g),On=rn==ys||rn==bc;if(Zu(g))return gv(g,He);if(rn==lt||rn==Fo||On&&!ie){if(Ne=ut||On?{}:Ev(g),!He)return ut?_d(g,iE(Ne,g)):lf(g,wr(Ne,g))}else{if(!br[rn])return ie?g:{};Ne=mE(g,rn,He)}}Te||(Te=new Nl);var Qn=Te.get(g);if(Qn)return Qn;Te.set(g,Ne),qu(g)?g.forEach(function(Eo){Ne.add(cc(Eo,y,R,Eo,g,Te))}):LE(g)&&g.forEach(function(Eo,ws){Ne.set(ws,cc(Eo,y,R,ws,g,Te))});var So=Zt?ut?qa:or:ut?pl:Ma,wo=Gt?h:So(g);return Ot(wo||g,function(Eo,ws){wo&&(ws=Eo,Eo=g[ws]),za(Ne,ws,cc(Eo,y,R,ws,g,Te))}),Ne}function qr(g){var y=Ma(g);return function(R){return Yf(R,g,y)}}function Yf(g,y,R){var W=R.length;if(g==null)return!W;for(g=Us(g);W--;){var ie=R[W],Te=y[ie],Ne=g[ie];if(Ne===h&&!(ie in g)||!Te(Ne))return!1}return!0}function Br(g,y,R){if(typeof g!="function")throw new _a(D);return sh(function(){g.apply(h,R)},y)}function ds(g,y,R,W){var ie=-1,Te=lr,Ne=!0,He=g.length,ut=[],Zt=y.length;if(!He)return ut;R&&(y=cs(y,ya(R))),W?(Te=ni,Ne=!1):y.length>=x&&(Te=Ea,Ne=!1,y=new Xt(y));e:for(;++ie<He;){var Gt=g[ie],rn=R==null?Gt:R(Gt);if(Gt=W||Gt!==0?Gt:0,Ne&&rn===rn){for(var On=Zt;On--;)if(y[On]===rn)continue e;ut.push(Gt)}else Te(y,rn,W)||ut.push(Gt)}return ut}var au=_g(uc),_t=_g(rv,!0);function Bl(g,y){var R=!0;return au(g,function(W,ie,Te){return R=!!y(W,ie,Te),R}),R}function Kh(g,y,R){for(var W=-1,ie=g.length;++W<ie;){var Te=g[W],Ne=y(Te);if(Ne!=null&&(He===h?Ne===Ne&&!Dc(Ne):R(Ne,He)))var He=Ne,ut=Te}return ut}function Ir(g,y,R,W){var ie=g.length;for(R=rs(R),R<0&&(R=-R>ie?0:ie+R),W=W===h||W>ie?ie:rs(W),W<0&&(W+=ie),W=R>W?0:bm(W);R<W;)g[R++]=y;return g}function cu(g,y){var R=[];return au(g,function(W,ie,Te){y(W,ie,Te)&&R.push(W)}),R}function lc(g,y,R,W,ie){var Te=-1,Ne=g.length;for(R||(R=Qb),ie||(ie=[]);++Te<Ne;){var He=g[Te];y>0&&R(He)?y>1?lc(He,y-1,R,W,ie):Wn(ie,He):W||(ie[ie.length]=He)}return ie}var ll=Fp(),aE=Fp(!0);function uc(g,y){return g&&ll(g,y,Ma)}function rv(g,y){return g&&aE(g,y,Ma)}function Wa(g,y){return vn(y,function(R){return un(g[R])})}function $o(g,y){y=Qs(y,g);for(var R=0,W=y.length;g!=null&&R<W;)g=g[Ia(y[R++])];return R&&R==W?g:h}function Bu(g,y,R){var W=y(g);return Ko(g)?W:Wn(W,R(g))}function Sa(g){return g==null?g===h?gs:qt:Il&&Il in Us(g)?ff(g):_v(g)}function la(g,y){return g>y}function $u(g,y){return g!=null&&Et.call(g,y)}function xa(g,y){return g!=null&&y in Us(g)}function cE(g,y,R){return g>=aa(y,R)&&g<si(y,R)}function Aa(g,y,R){for(var W=R?ni:lr,ie=g[0].length,Te=g.length,Ne=Te,He=wt(Te),ut=1/0,Zt=[];Ne--;){var Gt=g[Ne];Ne&&y&&(Gt=cs(Gt,ya(y))),ut=aa(Gt.length,ut),He[Ne]=!R&&(y||ie>=120&&Gt.length>=120)?new Xt(Ne&&Gt):h}Gt=g[0];var rn=-1,On=He[0];e:for(;++rn<ie&&Zt.length<ut;){var Qn=Gt[rn],So=y?y(Qn):Qn;if(Qn=R||Qn!==0?Qn:0,!(On?Ea(On,So):W(Zt,So,R))){for(Ne=Te;--Ne;){var wo=He[Ne];if(!(wo?Ea(wo,So):W(g[Ne],So,R)))continue e}On&&On.push(So),Zt.push(Qn)}}return Zt}function sf(g,y,R,W){return uc(g,function(ie,Te,Ne){y(W,R(ie),Te,Ne)}),W}function qe(g,y,R){y=Qs(y,g),g=Wp(g,y);var W=g==null?g:g[Ia(_s(y))];return W==null?h:Ut(W,g,R)}function Ac(g){return Rt(g)&&Sa(g)==Fo}function Xh(g){return Rt(g)&&Sa(g)==ga}function lu(g){return Rt(g)&&Sa(g)==os}function Ga(g,y,R,W,ie){return g===y?!0:g==null||y==null||!Rt(g)&&!Rt(y)?g!==g&&y!==y:Yi(g,y,R,W,Ga,ie)}function Yi(g,y,R,W,ie,Te){var Ne=Ko(g),He=Ko(y),ut=Ne?je:Oa(g),Zt=He?je:Oa(y);ut=ut==Fo?lt:ut,Zt=Zt==Fo?lt:Zt;var Gt=ut==lt,rn=Zt==lt,On=ut==Zt;if(On&&Zu(g)){if(!Zu(y))return!1;Ne=!0,Gt=!1}if(On&&!Gt)return Te||(Te=new Nl),Ne||Xa(g)?Tg(g,y,R,W,ie,Te):sm(g,y,ut,R,W,ie,Te);if(!(R&le)){var Qn=Gt&&Et.call(g,"__wrapped__"),So=rn&&Et.call(y,"__wrapped__");if(Qn||So){var wo=Qn?g.value():g,Eo=So?y.value():y;return Te||(Te=new Nl),ie(wo,Eo,R,W,Te)}}return On?(Te||(Te=new Nl),Xb(g,y,R,W,ie,Te)):!1}function _i(g){return Rt(g)&&Oa(g)==Dn}function Zb(g,y,R,W){var ie=R.length,Te=ie,Ne=!W;if(g==null)return!Te;for(g=Us(g);ie--;){var He=R[ie];if(Ne&&He[2]?He[1]!==g[He[0]]:!(He[0]in g))return!1}for(;++ie<Te;){He=R[ie];var ut=He[0],Zt=g[ut],Gt=He[1];if(Ne&&He[2]){if(Zt===h&&!(ut in g))return!1}else{var rn=new Nl;if(W)var On=W(Zt,Gt,ut,g,y,rn);if(!(On===h?Ga(Gt,Zt,le|de,W,rn):On))return!1}}return!0}function Pp(g){if(!di(g)||am(g))return!1;var y=un(g)?Xn:Ol;return y.test(hf(g))}function Kf(g){return Rt(g)&&Sa(g)==En}function Pn(g){return Rt(g)&&Oa(g)==Wr}function vg(g){return Rt(g)&&s1(g.length)&&!!Bs[Sa(g)]}function $l(g){return typeof g=="function"?g:g==null?vl:typeof g=="object"?Ko(g)?uu(g[0],g[1]):Qh(g):$0(g)}function Ki(g){if(!Ag(g))return nE(g);var y=[];for(var R in Us(g))Et.call(g,R)&&R!="constructor"&&y.push(R);return y}function iv(g){if(!di(g))return gE(g);var y=Ag(g),R=[];for(var W in g)W=="constructor"&&(y||!Et.call(g,W))||R.push(W);return R}function Fu(g,y){return g<y}function lE(g,y){var R=-1,W=pc(g)?wt(g.length):[];return au(g,function(ie,Te,Ne){W[++R]=y(ie,Te,Ne)}),W}function Qh(g){var y=zp(g);return y.length==1&&y[0][2]?cm(y[0][0],y[0][1]):function(R){return R===g||Zb(R,g,y)}}function uu(g,y){return mu(g)&&Og(y)?cm(Ia(g),y):function(R){var W=c1(R,g);return W===h&&W===y?Uv(R,g):Ga(y,W,le|de)}}function Za(g,y,R,W,ie){g!==y&&ll(y,function(Te,Ne){if(ie||(ie=new Nl),di(Te))Uc(g,y,Ne,R,Za,W,ie);else{var He=W?W(ja(g,Ne),Te,Ne+"",g,y,ie):h;He===h&&(He=Te),Gb(g,Ne,He)}},pl)}function Uc(g,y,R,W,ie,Te,Ne){var He=ja(g,R),ut=ja(y,R),Zt=Ne.get(ut);if(Zt){Gb(g,R,Zt);return}var Gt=Te?Te(He,ut,R+"",g,y,Ne):h,rn=Gt===h;if(rn){var On=Ko(ut),Qn=!On&&Zu(ut),So=!On&&!Qn&&Xa(ut);Gt=ut,On||Qn||So?Ko(He)?Gt=He:ui(He)?Gt=Oc(He):Qn?(rn=!1,Gt=gv(ut,!0)):So?(rn=!1,Gt=pv(ut,!0)):Gt=[]:Ic(ut)||Ef(ut)?(Gt=He,Ef(He)?Gt=HE(He):(!di(He)||un(He))&&(Gt=Ev(ut))):rn=!1}rn&&(Ne.set(ut,Gt),ie(Gt,ut,W,Te,Ne),Ne.delete(ut)),Gb(g,R,Gt)}function av(g,y){var R=g.length;if(R)return y+=y<0?R:0,Sd(y,R)?g[y]:h}function uE(g,y,R){y.length?y=cs(y,function(Te){return Ko(Te)?function(Ne){return $o(Ne,Te.length===1?Te[0]:Te)}:Te}):y=[vl];var W=-1;y=cs(y,ya(yo()));var ie=lE(g,function(Te,Ne,He){var ut=cs(y,function(Zt){return Zt(Te)});return{criteria:ut,index:++W,value:Te}});return Vc(ie,function(Te,Ne){return $p(Te,Ne,R)})}function Hu(g,y){return Lp(g,y,function(R,W){return Uv(g,W)})}function Lp(g,y,R){for(var W=-1,ie=y.length,Te={};++W<ie;){var Ne=y[W],He=$o(g,Ne);R(He,Ne)&&ul(Te,Qs(Ne,g),He)}return Te}function cv(g){return function(y){return $o(y,g)}}function Jh(g,y,R,W){var ie=W?yi:Fc,Te=-1,Ne=y.length,He=g;for(g===y&&(y=Oc(y)),R&&(He=cs(g,ya(R)));++Te<Ne;)for(var ut=0,Zt=y[Te],Gt=R?R(Zt):Zt;(ut=ie(He,Gt,ut,W))>-1;)He!==g&&ou.call(He,ut,1),ou.call(g,ut,1);return g}function bg(g,y){for(var R=g?y.length:0,W=R-1;R--;){var ie=y[R];if(R==W||ie!==Te){var Te=ie;Sd(ie)?ou.call(g,ie,1):dv(g,ie)}}return g}function rf(g,y){return g+Dl(Ca()*(y-g+1))}function lv(g,y,R,W){for(var ie=-1,Te=si(su((y-g)/(R||1)),0),Ne=wt(Te);Te--;)Ne[W?Te:++ie]=g,g+=R;return Ne}function uv(g,y){var R="";if(!g||y<1||y>Xe)return R;do y%2&&(R+=g),y=Dl(y/2),y&&(g+=g);while(y);return R}function fs(g,y){return wv(oh(g,y,vl),g+"")}function qb(g){return pg(ju(g))}function Ni(g,y){var R=ju(g);return um(R,Zr(y,0,R.length))}function ul(g,y,R,W){if(!di(g))return g;y=Qs(y,g);for(var ie=-1,Te=y.length,Ne=Te-1,He=g;He!=null&&++ie<Te;){var ut=Ia(y[ie]),Zt=R;if(ut==="__proto__"||ut==="constructor"||ut==="prototype")return g;if(ie!=Ne){var Gt=He[ut];Zt=W?W(Gt,ut,He):h,Zt===h&&(Zt=di(Gt)?Gt:Sd(y[ie+1])?[]:{})}za(He,ut,Zt),He=He[ut]}return g}var em=kp?function(g,y){return kp.set(g,y),g}:vl,Xf=Ip?function(g,y){return Ip(g,"toString",{configurable:!0,enumerable:!1,value:Tm(y),writable:!0})}:vl;function dE(g){return um(ju(g))}function ii(g,y,R){var W=-1,ie=g.length;y<0&&(y=-y>ie?0:ie+y),R=R>ie?ie:R,R<0&&(R+=ie),ie=y>R?0:R-y>>>0,y>>>=0;for(var Te=wt(ie);++W<ie;)Te[W]=g[W+y];return Te}function zc(g,y){var R;return au(g,function(W,ie,Te){return R=y(W,ie,Te),!R}),!!R}function Qf(g,y,R){var W=0,ie=g==null?W:g.length;if(typeof y=="number"&&y===y&&ie<=Lo){for(;W<ie;){var Te=W+ie>>>1,Ne=g[Te];Ne!==null&&!Dc(Ne)&&(R?Ne<=y:Ne<y)?W=Te+1:ie=Te}return ie}return Jf(g,y,vl,R)}function Jf(g,y,R,W){var ie=0,Te=g==null?0:g.length;if(Te===0)return 0;y=R(y);for(var Ne=y!==y,He=y===null,ut=Dc(y),Zt=y===h;ie<Te;){var Gt=Dl((ie+Te)/2),rn=R(g[Gt]),On=rn!==h,Qn=rn===null,So=rn===rn,wo=Dc(rn);if(Ne)var Eo=W||So;else Zt?Eo=So&&(W||On):He?Eo=So&&On&&(W||!Qn):ut?Eo=So&&On&&!Qn&&(W||!wo):Qn||wo?Eo=!1:Eo=W?rn<=y:rn<y;Eo?ie=Gt+1:Te=Gt}return aa(Te,uo)}function yd(g,y){for(var R=-1,W=g.length,ie=0,Te=[];++R<W;){var Ne=g[R],He=y?y(Ne):Ne;if(!R||!vs(He,ut)){var ut=He;Te[ie++]=Ne===0?0:Ne}}return Te}function af(g){return typeof g=="number"?g:Dc(g)?Nt:+g}function Wc(g){if(typeof g=="string")return g;if(Ko(g))return cs(g,Wc)+"";if(Dc(g))return mg?mg.call(g):"";var y=g+"";return y=="0"&&1/g==-Tt?"-0":y}function wi(g,y,R){var W=-1,ie=lr,Te=g.length,Ne=!0,He=[],ut=He;if(R)Ne=!1,ie=ni;else if(Te>=x){var Zt=y?null:St(g);if(Zt)return vd(Zt);Ne=!1,ie=Ea,ut=new Xt}else ut=y?[]:He;e:for(;++W<Te;){var Gt=g[W],rn=y?y(Gt):Gt;if(Gt=R||Gt!==0?Gt:0,Ne&&rn===rn){for(var On=ut.length;On--;)if(ut[On]===rn)continue e;y&&ut.push(rn),He.push(Gt)}else ie(ut,rn,R)||(ut!==He&&ut.push(rn),He.push(Gt))}return He}function dv(g,y){return y=Qs(y,g),g=Wp(g,y),g==null||delete g[Ia(_s(y))]}function dc(g,y,R,W){return ul(g,y,R($o(g,y)),W)}function dl(g,y,R,W){for(var ie=g.length,Te=W?ie:-1;(W?Te--:++Te<ie)&&y(g[Te],Te,g););return R?ii(g,W?0:Te,W?Te+1:ie):ii(g,W?Te+1:0,W?ie:Te)}function Gc(g,y){var R=g;return R instanceof Fs&&(R=R.value()),jn(y,function(W,ie){return ie.func.apply(ie.thisArg,Wn([W],ie.args))},R)}function yg(g,y,R){var W=g.length;if(W<2)return W?wi(g[0]):[];for(var ie=-1,Te=wt(W);++ie<W;)for(var Ne=g[ie],He=-1;++He<W;)He!=ie&&(Te[ie]=ds(Te[ie]||Ne,g[He],y,R));return wi(lc(Te,1),y,R)}function eh(g,y,R){for(var W=-1,ie=g.length,Te=y.length,Ne={};++W<ie;){var He=W<Te?y[W]:h;R(Ne,g[W],He)}return Ne}function fv(g){return ui(g)?g:[]}function jb(g){return typeof g=="function"?g:vl}function Qs(g,y){return Ko(g)?g:mu(g,y)?[g]:dm(hr(g))}var hv=fs;function fc(g,y,R){var W=g.length;return R=R===h?W:R,!y&&R>=W?g:ii(g,y,R)}var mv=Lw||function(g){return sa.clearTimeout(g)};function gv(g,y){if(y)return g.slice();var R=g.length,W=qi?qi(R):new g.constructor(R);return g.copy(W),W}function cf(g){var y=new g.constructor(g.byteLength);return new po(y).set(new po(g)),y}function xs(g,y){var R=y?cf(g.buffer):g.buffer;return new g.constructor(R,g.byteOffset,g.byteLength)}function Ed(g){var y=new g.constructor(g.source,_c.exec(g));return y.lastIndex=g.lastIndex,y}function Bp(g){return qh?Us(qh.call(g)):{}}function pv(g,y){var R=y?cf(g.buffer):g.buffer;return new g.constructor(R,g.byteOffset,g.length)}function tm(g,y){if(g!==y){var R=g!==h,W=g===null,ie=g===g,Te=Dc(g),Ne=y!==h,He=y===null,ut=y===y,Zt=Dc(y);if(!He&&!Zt&&!Te&&g>y||Te&&Ne&&ut&&!He&&!Zt||W&&Ne&&ut||!R&&ut||!ie)return 1;if(!W&&!Te&&!Zt&&g<y||Zt&&R&&ie&&!W&&!Te||He&&R&&ie||!Ne&&ie||!ut)return-1}return 0}function $p(g,y,R){for(var W=-1,ie=g.criteria,Te=y.criteria,Ne=ie.length,He=R.length;++W<Ne;){var ut=tm(ie[W],Te[W]);if(ut){if(W>=He)return ut;var Zt=R[W];return ut*(Zt=="desc"?-1:1)}}return g.index-y.index}function Eg(g,y,R,W){for(var ie=-1,Te=g.length,Ne=R.length,He=-1,ut=y.length,Zt=si(Te-Ne,0),Gt=wt(ut+Zt),rn=!W;++He<ut;)Gt[He]=y[He];for(;++ie<Ne;)(rn||ie<Te)&&(Gt[R[ie]]=g[ie]);for(;Zt--;)Gt[He++]=g[ie++];return Gt}function fE(g,y,R,W){for(var ie=-1,Te=g.length,Ne=-1,He=R.length,ut=-1,Zt=y.length,Gt=si(Te-He,0),rn=wt(Gt+Zt),On=!W;++ie<Gt;)rn[ie]=g[ie];for(var Qn=ie;++ut<Zt;)rn[Qn+ut]=y[ut];for(;++Ne<He;)(On||ie<Te)&&(rn[Qn+R[Ne]]=g[ie++]);return rn}function Oc(g,y){var R=-1,W=g.length;for(y||(y=wt(W));++R<W;)y[R]=g[R];return y}function du(g,y,R,W){var ie=!R;R||(R={});for(var Te=-1,Ne=y.length;++Te<Ne;){var He=y[Te],ut=W?W(R[He],g[He],He,R,g):h;ut===h&&(ut=g[He]),ie?Go(R,He,ut):za(R,He,ut)}return R}function lf(g,y){return du(g,Td(g),y)}function _d(g,y){return du(g,hu(g),y)}function fu(g,y){return function(R,W){var ie=Ko(R)?Je:jf,Te=y?y():{};return ie(R,g,yo(W,2),Te)}}function Fl(g){return fs(function(y,R){var W=-1,ie=R.length,Te=ie>1?R[ie-1]:h,Ne=ie>2?R[2]:h;for(Te=g.length>3&&typeof Te=="function"?(ie--,Te):h,Ne&&hc(R[0],R[1],Ne)&&(Te=ie<3?h:Te,ie=1),y=Us(y);++W<ie;){var He=R[W];He&&g(y,He,W,Te)}return y})}function _g(g,y){return function(R,W){if(R==null)return R;if(!pc(R))return g(R,W);for(var ie=R.length,Te=y?ie:-1,Ne=Us(R);(y?Te--:++Te<ie)&&W(Ne[Te],Te,Ne)!==!1;);return R}}function Fp(g){return function(y,R,W){for(var ie=-1,Te=Us(y),Ne=W(y),He=Ne.length;He--;){var ut=Ne[g?He:++ie];if(R(Te[ut],ut,Te)===!1)break}return y}}function uf(g,y,R){var W=y&Ee,ie=om(g);function Te(){var Ne=this&&this!==sa&&this instanceof Te?ie:g;return Ne.apply(W?R:this,arguments)}return Te}function Yb(g){return function(y){y=hr(y);var R=Ei(y)?Sc(y):h,W=R?R[0]:y.charAt(0),ie=R?fc(R,1).join(""):y.slice(1);return W[g]()+ie}}function nm(g){return function(y){return jn(N0(O0(y).replace(cg,"")),g,"")}}function om(g){return function(){var y=arguments;switch(y.length){case 0:return new g;case 1:return new g(y[0]);case 2:return new g(y[0],y[1]);case 3:return new g(y[0],y[1],y[2]);case 4:return new g(y[0],y[1],y[2],y[3]);case 5:return new g(y[0],y[1],y[2],y[3],y[4]);case 6:return new g(y[0],y[1],y[2],y[3],y[4],y[5]);case 7:return new g(y[0],y[1],y[2],y[3],y[4],y[5],y[6])}var R=qf(g.prototype),W=g.apply(R,y);return di(W)?W:R}}function hE(g,y,R){var W=om(g);function ie(){for(var Te=arguments.length,Ne=wt(Te),He=Te,ut=im(ie);He--;)Ne[He]=arguments[He];var Zt=Te<3&&Ne[0]!==ut&&Ne[Te-1]!==ut?[]:ra(Ne,ut);if(Te-=Zt.length,Te<R)return vv(g,y,Tn,ie.placeholder,h,Ne,Zt,h,h,R-Te);var Gt=this&&this!==sa&&this instanceof ie?W:g;return Ut(Gt,this,Ne)}return ie}function wg(g){return function(y,R,W){var ie=Us(y);if(!pc(y)){var Te=yo(R,3);y=Ma(y),R=function(He){return Te(ie[He],He,ie)}}var Ne=g(y,R,W);return Ne>-1?ie[Te?y[Ne]:Ne]:h}}function Zo(g){return ua(function(y){var R=y.length,W=R,ie=iu.prototype.thru;for(g&&y.reverse();W--;){var Te=y[W];if(typeof Te!="function")throw new _a(D);if(ie&&!Ne&&fl(Te)=="wrapper")var Ne=new iu([],!0)}for(W=Ne?W:R;++W<R;){Te=y[W];var He=fl(Te),ut=He=="wrapper"?rm(Te):h;ut&&xg(ut[0])&&ut[1]==(ye|ne|ct|Ge)&&!ut[4].length&&ut[9]==1?Ne=Ne[fl(ut[0])].apply(Ne,ut[3]):Ne=Te.length==1&&xg(Te)?Ne[He]():Ne.thru(Te)}return function(){var Zt=arguments,Gt=Zt[0];if(Ne&&Zt.length==1&&Ko(Gt))return Ne.plant(Gt).value();for(var rn=0,On=R?y[rn].apply(this,Zt):Gt;++rn<R;)On=y[rn].call(this,On);return On}})}function Tn(g,y,R,W,ie,Te,Ne,He,ut,Zt){var Gt=y&ye,rn=y&Ee,On=y&De,Qn=y&(ne|Le),So=y&mt,wo=On?h:om(g);function Eo(){for(var ws=arguments.length,Xo=wt(ws),$r=ws;$r--;)Xo[$r]=arguments[$r];if(Qn)var Fr=im(Eo),Dr=ug(Xo,Fr);if(W&&(Xo=Eg(Xo,W,ie,Qn)),Te&&(Xo=fE(Xo,Te,Ne,Qn)),ws-=Dr,Qn&&ws<Zt){var Or=ra(Xo,Fr);return vv(g,y,Tn,Eo.placeholder,R,Xo,Or,He,ut,Zt-ws)}var Ja=rn?R:this,As=On?Ja[g]:g;return ws=Xo.length,He?Xo=Zc(Xo,He):So&&ws>1&&Xo.reverse(),Gt&&ut<ws&&(Xo.length=ut),this&&this!==sa&&this instanceof Eo&&(As=wo||om(As)),As.apply(Ja,Xo)}return Eo}function wd(g,y){return function(R,W){return sf(R,g,y(W),{})}}function Cd(g,y){return function(R,W){var ie;if(R===h&&W===h)return y;if(R!==h&&(ie=R),W!==h){if(ie===h)return W;typeof R=="string"||typeof W=="string"?(R=Wc(R),W=Wc(W)):(R=af(R),W=af(W)),ie=g(R,W)}return ie}}function Cg(g){return ua(function(y){return y=cs(y,ya(yo())),fs(function(R){var W=this;return g(y,function(ie){return Ut(ie,W,R)})})})}function Hp(g,y){y=y===h?" ":Wc(y);var R=y.length;if(R<2)return R?uv(y,g):y;var W=uv(y,su(g/ps(y)));return Ei(y)?fc(Sc(W),0,g).join(""):W.slice(0,g)}function Kb(g,y,R,W){var ie=y&Ee,Te=om(g);function Ne(){for(var He=-1,ut=arguments.length,Zt=-1,Gt=W.length,rn=wt(Gt+ut),On=this&&this!==sa&&this instanceof Ne?Te:g;++Zt<Gt;)rn[Zt]=W[Zt];for(;ut--;)rn[Zt++]=arguments[++He];return Ut(On,ie?R:this,rn)}return Ne}function Ms(g){return function(y,R,W){return W&&typeof W!="number"&&hc(y,R,W)&&(R=W=h),y=_f(y),R===h?(R=y,y=0):R=_f(R),W=W===h?y<R?1:-1:_f(W),lv(y,R,W,g)}}function Vp(g){return function(y,R){return typeof y=="string"&&typeof R=="string"||(y=Js(y),R=Js(R)),g(y,R)}}function vv(g,y,R,W,ie,Te,Ne,He,ut,Zt){var Gt=y&ne,rn=Gt?Ne:h,On=Gt?h:Ne,Qn=Gt?Te:h,So=Gt?h:Te;y|=Gt?ct:$,y&=~(Gt?$:ct),y&ke||(y&=~(Ee|De));var wo=[g,y,ie,Qn,rn,So,On,He,ut,Zt],Eo=R.apply(h,wo);return xg(g)&&xd(Eo,wo),Eo.placeholder=W,Ig(Eo,g,y)}function bv(g){var y=oi[g];return function(R,W){if(R=Js(R),W=W==null?0:aa(rs(W),292),W&&Fa(R)){var ie=(hr(R)+"e").split("e"),Te=y(ie[0]+"e"+(+ie[1]+W));return ie=(hr(Te)+"e").split("e"),+(ie[0]+"e"+(+ie[1]-W))}return y(R)}}var St=cl&&1/vd(new cl([,-0]))[1]==Tt?function(g){return new cl(g)}:Qi;function yv(g){return function(y){var R=Oa(y);return R==Dn?pd(y):R==Wr?tf(y):ba(y,g(y))}}function Vu(g,y,R,W,ie,Te,Ne,He){var ut=y&De;if(!ut&&typeof g!="function")throw new _a(D);var Zt=W?W.length:0;if(Zt||(y&=~(ct|$),W=ie=h),Ne=Ne===h?Ne:si(rs(Ne),0),He=He===h?He:rs(He),Zt-=ie?ie.length:0,y&$){var Gt=W,rn=ie;W=ie=h}var On=ut?h:rm(g),Qn=[g,y,R,W,ie,Gt,rn,Te,Ne,He];if(On&&lm(Qn,On),g=Qn[0],y=Qn[1],R=Qn[2],W=Qn[3],ie=Qn[4],He=Qn[9]=Qn[9]===h?ut?0:g.length:si(Qn[9]-Zt,0),!He&&y&(ne|Le)&&(y&=~(ne|Le)),!y||y==Ee)var So=uf(g,y,R);else y==ne||y==Le?So=hE(g,y,He):(y==ct||y==(Ee|ct))&&!ie.length?So=Kb(g,y,R,W):So=Tn.apply(h,Qn);var wo=On?em:xd;return Ig(wo(So,Qn),g,y)}function th(g,y,R,W){return g===h||vs(g,Fe[R])&&!Et.call(W,R)?y:g}function Up(g,y,R,W,ie,Te){return di(g)&&di(y)&&(Te.set(y,g),Za(g,y,h,Up,Te),Te.delete(y)),g}function df(g){return Ic(g)?h:g}function Tg(g,y,R,W,ie,Te){var Ne=R&le,He=g.length,ut=y.length;if(He!=ut&&!(Ne&&ut>He))return!1;var Zt=Te.get(g),Gt=Te.get(y);if(Zt&&Gt)return Zt==y&&Gt==g;var rn=-1,On=!0,Qn=R&de?new Xt:h;for(Te.set(g,y),Te.set(y,g);++rn<He;){var So=g[rn],wo=y[rn];if(W)var Eo=Ne?W(wo,So,rn,y,g,Te):W(So,wo,rn,g,y,Te);if(Eo!==h){if(Eo)continue;On=!1;break}if(Qn){if(!To(y,function(ws,Xo){if(!Ea(Qn,Xo)&&(So===ws||ie(So,ws,R,W,Te)))return Qn.push(Xo)})){On=!1;break}}else if(!(So===wo||ie(So,wo,R,W,Te))){On=!1;break}}return Te.delete(g),Te.delete(y),On}function sm(g,y,R,W,ie,Te,Ne){switch(R){case tr:if(g.byteLength!=y.byteLength||g.byteOffset!=y.byteOffset)return!1;g=g.buffer,y=y.buffer;case ga:return!(g.byteLength!=y.byteLength||!Te(new po(g),new po(y)));case ee:case os:case as:return vs(+g,+y);case Ts:return g.name==y.name&&g.message==y.message;case En:case Os:return g==y+"";case Dn:var He=pd;case Wr:var ut=W&le;if(He||(He=vd),g.size!=y.size&&!ut)return!1;var Zt=Ne.get(g);if(Zt)return Zt==y;W|=de,Ne.set(g,y);var Gt=Tg(He(g),He(y),W,ie,Te,Ne);return Ne.delete(g),Gt;case yc:if(qh)return qh.call(g)==qh.call(y)}return!1}function Xb(g,y,R,W,ie,Te){var Ne=R&le,He=or(g),ut=He.length,Zt=or(y),Gt=Zt.length;if(ut!=Gt&&!Ne)return!1;for(var rn=ut;rn--;){var On=He[rn];if(!(Ne?On in y:Et.call(y,On)))return!1}var Qn=Te.get(g),So=Te.get(y);if(Qn&&So)return Qn==y&&So==g;var wo=!0;Te.set(g,y),Te.set(y,g);for(var Eo=Ne;++rn<ut;){On=He[rn];var ws=g[On],Xo=y[On];if(W)var $r=Ne?W(Xo,ws,On,y,g,Te):W(ws,Xo,On,g,y,Te);if(!($r===h?ws===Xo||ie(ws,Xo,R,W,Te):$r)){wo=!1;break}Eo||(Eo=On=="constructor")}if(wo&&!Eo){var Fr=g.constructor,Dr=y.constructor;Fr!=Dr&&"constructor"in g&&"constructor"in y&&!(typeof Fr=="function"&&Fr instanceof Fr&&typeof Dr=="function"&&Dr instanceof Dr)&&(wo=!1)}return Te.delete(g),Te.delete(y),wo}function ua(g){return wv(oh(g,h,Gp),g+"")}function or(g){return Bu(g,Ma,Td)}function qa(g){return Bu(g,pl,hu)}var rm=kp?function(g){return kp.get(g)}:Qi;function fl(g){for(var y=g.name+"",R=hg[y],W=Et.call(hg,y)?R.length:0;W--;){var ie=R[W],Te=ie.func;if(Te==null||Te==g)return ie.name}return y}function im(g){var y=Et.call(ce,"placeholder")?ce:g;return y.placeholder}function yo(){var g=ce.iteratee||B0;return g=g===B0?$l:g,arguments.length?g(arguments[0],arguments[1]):g}function Uu(g,y){var R=g.__data__;return hl(y)?R[typeof y=="string"?"string":"hash"]:R.map}function zp(g){for(var y=Ma(g),R=y.length;R--;){var W=y[R],ie=g[W];y[R]=[W,ie,Og(ie)]}return y}function nh(g,y){var R=Wh(g,y);return Pp(R)?R:h}function ff(g){var y=Et.call(g,Il),R=g[Il];try{g[Il]=h;var W=!0}catch{}var ie=Sn.call(g);return W&&(y?g[Il]=R:delete g[Il]),ie}var Td=Gh?function(g){return g==null?[]:(g=Us(g),vn(Gh(g),function(y){return Ks.call(g,y)}))}:Md,hu=Gh?function(g){for(var y=[];g;)Wn(y,Td(g)),g=ki(g);return y}:Md,Oa=Sa;(ji&&Oa(new ji(new ArrayBuffer(1)))!=tr||Mp&&Oa(new Mp)!=Dn||ss&&Oa(ss.resolve())!=Sl||cl&&Oa(new cl)!=Wr||ru&&Oa(new ru)!=Tr)&&(Oa=function(g){var y=Sa(g),R=y==lt?g.constructor:h,W=R?hf(R):"";if(W)switch(W){case nf:return tr;case Xs:return Dn;case _r:return Sl;case Ha:return Wr;case $b:return Tr}return y});function Fw(g,y,R){for(var W=-1,ie=R.length;++W<ie;){var Te=R[W],Ne=Te.size;switch(Te.type){case"drop":g+=Ne;break;case"dropRight":y-=Ne;break;case"take":y=aa(y,g+Ne);break;case"takeRight":g=si(g,y-Ne);break}}return{start:g,end:y}}function Sg(g){var y=g.match(Ri);return y?y[1].split(zi):[]}function ai(g,y,R){y=Qs(y,g);for(var W=-1,ie=y.length,Te=!1;++W<ie;){var Ne=Ia(y[W]);if(!(Te=g!=null&&R(g,Ne)))break;g=g[Ne]}return Te||++W!=ie?Te:(ie=g==null?0:g.length,!!ie&&s1(ie)&&Sd(Ne,ie)&&(Ko(g)||Ef(g)))}function fn(g){var y=g.length,R=new g.constructor(y);return y&&typeof g[0]=="string"&&Et.call(g,"index")&&(R.index=g.index,R.input=g.input),R}function Ev(g){return typeof g.constructor=="function"&&!Ag(g)?qf(ki(g)):{}}function mE(g,y,R){var W=g.constructor;switch(y){case ga:return cf(g);case ee:case os:return new W(+g);case tr:return xs(g,R);case js:case qd:case Nr:case Rs:case xl:case Oi:case Al:case pr:case ei:return pv(g,R);case Dn:return new W;case as:case Os:return new W(g);case En:return Ed(g);case Wr:return new W;case yc:return Bp(g)}}function Ra(g,y){var R=y.length;if(!R)return g;var W=R-1;return y[W]=(R>1?"& ":"")+y[W],y=y.join(R>2?", ":" "),g.replace(Sp,`{
/* [wrapped with `+y+`] */
`)}function Qb(g){return Ko(g)||Ef(g)||!!(Ds&&g&&g[Ds])}function Sd(g,y){var R=typeof g;return y=y??Xe,!!y&&(R=="number"||R!="symbol"&&j1.test(g))&&g>-1&&g%1==0&&g<y}function hc(g,y,R){if(!di(R))return!1;var W=typeof y;return(W=="number"?pc(R)&&Sd(y,R.length):W=="string"&&y in R)?vs(R[y],g):!1}function mu(g,y){if(Ko(g))return!1;var R=typeof g;return R=="number"||R=="symbol"||R=="boolean"||g==null||Dc(g)?!0:Vf.test(g)||!jd.test(g)||y!=null&&g in Us(y)}function hl(g){var y=typeof g;return y=="string"||y=="number"||y=="symbol"||y=="boolean"?g!=="__proto__":g===null}function xg(g){var y=fl(g),R=ce[y];if(typeof R!="function"||!(y in Fs.prototype))return!1;if(g===R)return!0;var W=rm(R);return!!W&&g===W[0]}function am(g){return!!_n&&_n in g}var Hw=kt?un:F0;function Ag(g){var y=g&&g.constructor,R=typeof y=="function"&&y.prototype||Fe;return g===R}function Og(g){return g===g&&!di(g)}function cm(g,y){return function(R){return R==null?!1:R[g]===y&&(y!==h||g in Us(R))}}function Rg(g){var y=yf(g,function(W){return R.size===Y&&R.clear(),W}),R=y.cache;return y}function lm(g,y){var R=g[1],W=y[1],ie=R|W,Te=ie<(Ee|De|ye),Ne=W==ye&&R==ne||W==ye&&R==Ge&&g[7].length<=y[8]||W==(ye|Ge)&&y[7].length<=y[8]&&R==ne;if(!(Te||Ne))return g;W&Ee&&(g[2]=y[2],ie|=R&Ee?0:ke);var He=y[3];if(He){var ut=g[3];g[3]=ut?Eg(ut,He,y[4]):He,g[4]=ut?ra(g[3],K):y[4]}return He=y[5],He&&(ut=g[5],g[5]=ut?fE(ut,He,y[6]):He,g[6]=ut?ra(g[5],K):y[6]),He=y[7],He&&(g[7]=He),W&ye&&(g[8]=g[8]==null?y[8]:aa(g[8],y[8])),g[9]==null&&(g[9]=y[9]),g[0]=y[0],g[1]=ie,g}function gE(g){var y=[];if(g!=null)for(var R in Us(g))y.push(R);return y}function _v(g){return Sn.call(g)}function oh(g,y,R){return y=si(y===h?g.length-1:y,0),function(){for(var W=arguments,ie=-1,Te=si(W.length-y,0),Ne=wt(Te);++ie<Te;)Ne[ie]=W[y+ie];ie=-1;for(var He=wt(y+1);++ie<y;)He[ie]=W[ie];return He[y]=R(Ne),Ut(g,this,He)}}function Wp(g,y){return y.length<2?g:$o(g,ii(y,0,-1))}function Zc(g,y){for(var R=g.length,W=aa(y.length,R),ie=Oc(g);W--;){var Te=y[W];g[W]=Sd(Te,R)?ie[Te]:h}return g}function ja(g,y){if(!(y==="constructor"&&typeof g[y]=="function")&&y!="__proto__")return g[y]}var xd=gu(em),sh=Dp||function(g,y){return sa.setTimeout(g,y)},wv=gu(Xf);function Ig(g,y,R){var W=y+"";return wv(g,Ra(W,Vw(Sg(W),R)))}function gu(g){var y=0,R=0;return function(){var W=bd(),ie=dn-(W-R);if(R=W,ie>0){if(++y>=he)return arguments[0]}else y=0;return g.apply(h,arguments)}}function um(g,y){var R=-1,W=g.length,ie=W-1;for(y=y===h?W:y;++R<y;){var Te=rf(R,ie),Ne=g[Te];g[Te]=g[R],g[R]=Ne}return g.length=y,g}var dm=Rg(function(g){var y=[];return g.charCodeAt(0)===46&&y.push(""),g.replace(Ys,function(R,W,ie,Te){y.push(ie?Te.replace(Yd,"$1"):W||R)}),y});function Ia(g){if(typeof g=="string"||Dc(g))return g;var y=g+"";return y=="0"&&1/g==-Tt?"-0":y}function hf(g){if(g!=null){try{return st.call(g)}catch{}try{return g+""}catch{}}return""}function Vw(g,y){return Ot(Jn,function(R){var W="_."+R[0];y&R[1]&&!lr(g,W)&&g.push(W)}),g.sort()}function Jb(g){if(g instanceof Fs)return g.clone();var y=new iu(g.__wrapped__,g.__chain__);return y.__actions__=Oc(g.__actions__),y.__index__=g.__index__,y.__values__=g.__values__,y}function e0(g,y,R){(R?hc(g,y,R):y===h)?y=1:y=si(rs(y),0);var W=g==null?0:g.length;if(!W||y<1)return[];for(var ie=0,Te=0,Ne=wt(su(W/y));ie<W;)Ne[Te++]=ii(g,ie,ie+=y);return Ne}function zs(g){for(var y=-1,R=g==null?0:g.length,W=0,ie=[];++y<R;){var Te=g[y];Te&&(ie[W++]=Te)}return ie}function Uw(){var g=arguments.length;if(!g)return[];for(var y=wt(g-1),R=arguments[0],W=g;W--;)y[W-1]=arguments[W];return Wn(Ko(R)?Oc(R):[R],lc(y,1))}var pE=fs(function(g,y){return ui(g)?ds(g,lc(y,1,ui,!0)):[]}),zw=fs(function(g,y){var R=_s(y);return ui(R)&&(R=h),ui(g)?ds(g,lc(y,1,ui,!0),yo(R,2)):[]}),Cv=fs(function(g,y){var R=_s(y);return ui(R)&&(R=h),ui(g)?ds(g,lc(y,1,ui,!0),h,R):[]});function Dg(g,y,R){var W=g==null?0:g.length;return W?(y=R||y===h?1:rs(y),ii(g,y<0?0:y,W)):[]}function mf(g,y,R){var W=g==null?0:g.length;return W?(y=R||y===h?1:rs(y),y=W-y,ii(g,0,y<0?0:y)):[]}function ci(g,y){return g&&g.length?dl(g,yo(y,3),!0,!0):[]}function gf(g,y){return g&&g.length?dl(g,yo(y,3),!0):[]}function t0(g,y,R,W){var ie=g==null?0:g.length;return ie?(R&&typeof R!="number"&&hc(g,y,R)&&(R=0,W=ie),Ir(g,y,R,W)):[]}function jr(g,y,R){var W=g==null?0:g.length;if(!W)return-1;var ie=R==null?0:rs(R);return ie<0&&(ie=si(W+ie,0)),Pr(g,yo(y,3),ie)}function Tv(g,y,R){var W=g==null?0:g.length;if(!W)return-1;var ie=W-1;return R!==h&&(ie=rs(R),ie=R<0?si(W+ie,0):aa(ie,W-1)),Pr(g,yo(y,3),ie,!0)}function Gp(g){var y=g==null?0:g.length;return y?lc(g,1):[]}function g2(g){var y=g==null?0:g.length;return y?lc(g,Tt):[]}function vE(g,y){var R=g==null?0:g.length;return R?(y=y===h?1:rs(y),lc(g,y)):[]}function rh(g){for(var y=-1,R=g==null?0:g.length,W={};++y<R;){var ie=g[y];W[ie[0]]=ie[1]}return W}function pf(g){return g&&g.length?g[0]:h}function Sv(g,y,R){var W=g==null?0:g.length;if(!W)return-1;var ie=R==null?0:rs(R);return ie<0&&(ie=si(W+ie,0)),Fc(g,y,ie)}function bE(g){var y=g==null?0:g.length;return y?ii(g,0,-1):[]}var p2=fs(function(g){var y=cs(g,fv);return y.length&&y[0]===g[0]?Aa(y):[]}),zu=fs(function(g){var y=_s(g),R=cs(g,fv);return y===_s(R)?y=h:R.pop(),R.length&&R[0]===g[0]?Aa(R,yo(y,2)):[]}),hs=fs(function(g){var y=_s(g),R=cs(g,fv);return y=typeof y=="function"?y:h,y&&R.pop(),R.length&&R[0]===g[0]?Aa(R,h,y):[]});function yE(g,y){return g==null?"":fg.call(g,y)}function _s(g){var y=g==null?0:g.length;return y?g[y-1]:h}function Ci(g,y,R){var W=g==null?0:g.length;if(!W)return-1;var ie=W;return R!==h&&(ie=rs(R),ie=ie<0?si(W+ie,0):aa(ie,W-1)),y===y?ev(g,y,ie):Pr(g,Jo,ie,!0)}function Hl(g,y){return g&&g.length?av(g,rs(y)):h}var mc=fs(ih);function ih(g,y){return g&&g.length&&y&&y.length?Jh(g,y):g}function Mg(g,y,R){return g&&g.length&&y&&y.length?Jh(g,y,yo(R,2)):g}function vf(g,y,R){return g&&g.length&&y&&y.length?Jh(g,y,h,R):g}var ml=ua(function(g,y){var R=g==null?0:g.length,W=es(g,y);return bg(g,cs(y,function(ie){return Sd(ie,R)?+ie:ie}).sort(tm)),W});function pu(g,y){var R=[];if(!(g&&g.length))return R;var W=-1,ie=[],Te=g.length;for(y=yo(y,3);++W<Te;){var Ne=g[W];y(Ne,W,g)&&(R.push(Ne),ie.push(W))}return bg(g,ie),R}function ah(g){return g==null?g:al.call(g)}function Zp(g,y,R){var W=g==null?0:g.length;return W?(R&&typeof R!="number"&&hc(g,y,R)?(y=0,R=W):(y=y==null?0:rs(y),R=R===h?W:rs(R)),ii(g,y,R)):[]}function n0(g,y){return Qf(g,y)}function EE(g,y,R){return Jf(g,y,yo(R,2))}function _E(g,y){var R=g==null?0:g.length;if(R){var W=Qf(g,y);if(W<R&&vs(g[W],y))return W}return-1}function kg(g,y){return Qf(g,y,!0)}function o0(g,y,R){return Jf(g,y,yo(R,2),!0)}function Ww(g,y){var R=g==null?0:g.length;if(R){var W=Qf(g,y,!0)-1;if(vs(g[W],y))return W}return-1}function Gw(g){return g&&g.length?yd(g):[]}function wE(g,y){return g&&g.length?yd(g,yo(y,2)):[]}function CE(g){var y=g==null?0:g.length;return y?ii(g,1,y):[]}function s0(g,y,R){return g&&g.length?(y=R||y===h?1:rs(y),ii(g,0,y<0?0:y)):[]}function TE(g,y,R){var W=g==null?0:g.length;return W?(y=R||y===h?1:rs(y),y=W-y,ii(g,y<0?0:y,W)):[]}function Zw(g,y){return g&&g.length?dl(g,yo(y,3),!1,!0):[]}function r0(g,y){return g&&g.length?dl(g,yo(y,3)):[]}var fm=fs(function(g){return wi(lc(g,1,ui,!0))}),i0=fs(function(g){var y=_s(g);return ui(y)&&(y=h),wi(lc(g,1,ui,!0),yo(y,2))}),qw=fs(function(g){var y=_s(g);return y=typeof y=="function"?y:h,wi(lc(g,1,ui,!0),h,y)});function jw(g){return g&&g.length?wi(g):[]}function SE(g,y){return g&&g.length?wi(g,yo(y,2)):[]}function sr(g,y){return y=typeof y=="function"?y:h,g&&g.length?wi(g,h,y):[]}function Ad(g){if(!(g&&g.length))return[];var y=0;return g=vn(g,function(R){if(ui(R))return y=si(R.length,y),!0}),Lr(y,function(R){return cs(g,Ba(R))})}function ch(g,y){if(!(g&&g.length))return[];var R=Ad(g);return y==null?R:cs(R,function(W){return Ut(y,h,W)})}var xE=fs(function(g,y){return ui(g)?ds(g,y):[]}),xv=fs(function(g){return yg(vn(g,ui))}),Da=fs(function(g){var y=_s(g);return ui(y)&&(y=h),yg(vn(g,ui),yo(y,2))}),Rc=fs(function(g){var y=_s(g);return y=typeof y=="function"?y:h,yg(vn(g,ui),h,y)}),hm=fs(Ad);function Av(g,y){return eh(g||[],y||[],za)}function a0(g,y){return eh(g||[],y||[],ul)}var AE=fs(function(g){var y=g.length,R=y>1?g[y-1]:h;return R=typeof R=="function"?(g.pop(),R):h,ch(g,R)});function c0(g){var y=ce(g);return y.__chain__=!0,y}function OE(g,y){return y(g),g}function qc(g,y){return y(g)}var bf=ua(function(g){var y=g.length,R=y?g[0]:0,W=this.__wrapped__,ie=function(Te){return es(Te,g)};return y>1||this.__actions__.length||!(W instanceof Fs)||!Sd(R)?this.thru(ie):(W=W.slice(R,+R+(y?1:0)),W.__actions__.push({func:qc,args:[ie],thisArg:h}),new iu(W,this.__chain__).thru(function(Te){return y&&!Te.length&&Te.push(h),Te}))});function fr(){return c0(this)}function Od(){return new iu(this.value(),this.__chain__)}function Wu(){this.__values__===h&&(this.__values__=Fv(this.value()));var g=this.__index__>=this.__values__.length,y=g?h:this.__values__[this.__index__++];return{done:g,value:y}}function Yw(){return this}function RE(g){for(var y,R=this;R instanceof gg;){var W=Jb(R);W.__index__=0,W.__values__=h,y?ie.__wrapped__=W:y=W;var ie=W;R=R.__wrapped__}return ie.__wrapped__=g,y}function l0(){var g=this.__wrapped__;if(g instanceof Fs){var y=g;return this.__actions__.length&&(y=new Fs(this)),y=y.reverse(),y.__actions__.push({func:qc,args:[ah],thisArg:h}),new iu(y,this.__chain__)}return this.thru(ah)}function mm(){return Gc(this.__wrapped__,this.__actions__)}var u0=fu(function(g,y,R){Et.call(g,R)?++g[R]:Go(g,R,1)});function Ng(g,y,R){var W=Ko(g)?Hn:Bl;return R&&hc(g,y,R)&&(y=h),W(g,yo(y,3))}function gm(g,y){var R=Ko(g)?vn:cu;return R(g,yo(y,3))}var Kw=wg(jr),qp=wg(Tv);function jp(g,y){return lc(Yp(g,y),1)}function d0(g,y){return lc(Yp(g,y),Tt)}function Ov(g,y,R){return R=R===h?1:rs(R),lc(Yp(g,y),R)}function Pg(g,y){var R=Ko(g)?Ot:au;return R(g,yo(y,3))}function Rv(g,y){var R=Ko(g)?Zn:_t;return R(g,yo(y,3))}var lh=fu(function(g,y,R){Et.call(g,R)?g[R].push(y):Go(g,R,[y])});function Lg(g,y,R,W){g=pc(g)?g:ju(g),R=R&&!W?rs(R):0;var ie=g.length;return R<0&&(R=si(ie+R,0)),gl(g)?R<=ie&&g.indexOf(y,R)>-1:!!ie&&Fc(g,y,R)>-1}var IE=fs(function(g,y,R){var W=-1,ie=typeof y=="function",Te=pc(g)?wt(g.length):[];return au(g,function(Ne){Te[++W]=ie?Ut(y,Ne,R):qe(Ne,y,R)}),Te}),DE=fu(function(g,y,R){Go(g,R,y)});function Yp(g,y){var R=Ko(g)?cs:lE;return R(g,yo(y,3))}function Gu(g,y,R,W){return g==null?[]:(Ko(y)||(y=y==null?[]:[y]),R=W?h:R,Ko(R)||(R=R==null?[]:[R]),uE(g,y,R))}var Vl=fu(function(g,y,R){g[R?0:1].push(y)},function(){return[[],[]]});function Kp(g,y,R){var W=Ko(g)?jn:Hc,ie=arguments.length<3;return W(g,yo(y,4),R,ie,au)}function ze(g,y,R){var W=Ko(g)?Zi:Hc,ie=arguments.length<3;return W(g,yo(y,4),R,ie,_t)}function rr(g,y){var R=Ko(g)?vn:cu;return R(g,Ka(yo(y,3)))}function pm(g){var y=Ko(g)?pg:qb;return y(g)}function f0(g,y,R){(R?hc(g,y,R):y===h)?y=1:y=rs(y);var W=Ko(g)?Pt:Ni;return W(g,y)}function Hs(g){var y=Ko(g)?$w:dE;return y(g)}function vu(g){if(g==null)return 0;if(pc(g))return gl(g)?ps(g):g.length;var y=Oa(g);return y==Dn||y==Wr?g.size:Ki(g).length}function Xp(g,y,R){var W=Ko(g)?To:zc;return R&&hc(g,y,R)&&(y=h),W(g,yo(y,3))}var Ti=fs(function(g,y){if(g==null)return[];var R=y.length;return R>1&&hc(g,y[0],y[1])?y=[]:R>2&&hc(y[0],y[1],y[2])&&(y=[y[0]]),uE(g,lc(y,1),[])}),bu=wa||function(){return sa.Date.now()};function h0(g,y){if(typeof y!="function")throw new _a(D);return g=rs(g),function(){if(--g<1)return y.apply(this,arguments)}}function ME(g,y,R){return y=R?h:y,y=g&&y==null?g.length:y,Vu(g,ye,h,h,h,h,y)}function Iv(g,y){var R;if(typeof y!="function")throw new _a(D);return g=rs(g),function(){return--g>0&&(R=y.apply(this,arguments)),g<=1&&(y=h),R}}var vm=fs(function(g,y,R){var W=Ee;if(R.length){var ie=ra(R,im(vm));W|=ct}return Vu(g,W,y,R,ie)}),uh=fs(function(g,y,R){var W=Ee|De;if(R.length){var ie=ra(R,im(uh));W|=ct}return Vu(y,W,g,R,ie)});function Dv(g,y,R){y=R?h:y;var W=Vu(g,ne,h,h,h,h,h,y);return W.placeholder=Dv.placeholder,W}function Qp(g,y,R){y=R?h:y;var W=Vu(g,Le,h,h,h,h,h,y);return W.placeholder=Qp.placeholder,W}function Ya(g,y,R){var W,ie,Te,Ne,He,ut,Zt=0,Gt=!1,rn=!1,On=!0;if(typeof g!="function")throw new _a(D);y=Js(y)||0,di(R)&&(Gt=!!R.leading,rn="maxWait"in R,Te=rn?si(Js(R.maxWait)||0,y):Te,On="trailing"in R?!!R.trailing:On);function Qn(Or){var Ja=W,As=ie;return W=ie=h,Zt=Or,Ne=g.apply(As,Ja),Ne}function So(Or){return Zt=Or,He=sh(ws,y),Gt?Qn(Or):Ne}function wo(Or){var Ja=Or-ut,As=Or-Zt,Nd=y-Ja;return rn?aa(Nd,Te-As):Nd}function Eo(Or){var Ja=Or-ut,As=Or-Zt;return ut===h||Ja>=y||Ja<0||rn&&As>=Te}function ws(){var Or=bu();if(Eo(Or))return Xo(Or);He=sh(ws,wo(Or))}function Xo(Or){return He=h,On&&W?Qn(Or):(W=ie=h,Ne)}function $r(){He!==h&&mv(He),Zt=0,W=ut=ie=He=h}function Fr(){return He===h?Ne:Xo(bu())}function Dr(){var Or=bu(),Ja=Eo(Or);if(W=arguments,ie=this,ut=Or,Ja){if(He===h)return So(ut);if(rn)return mv(He),He=sh(ws,y),Qn(ut)}return He===h&&(He=sh(ws,y)),Ne}return Dr.cancel=$r,Dr.flush=Fr,Dr}var Jp=fs(function(g,y){return Br(g,1,y)}),m0=fs(function(g,y,R){return Br(g,Js(y)||0,R)});function e1(g){return Vu(g,mt)}function yf(g,y){if(typeof g!="function"||y!=null&&typeof y!="function")throw new _a(D);var R=function(){var W=arguments,ie=y?y.apply(this,W):W[0],Te=R.cache;if(Te.has(ie))return Te.get(ie);var Ne=g.apply(this,W);return R.cache=Te.set(ie,Ne)||Te,Ne};return R.cache=new(yf.Cache||Lu),R}yf.Cache=Lu;function Ka(g){if(typeof g!="function")throw new _a(D);return function(){var y=arguments;switch(y.length){case 0:return!g.call(this);case 1:return!g.call(this,y[0]);case 2:return!g.call(this,y[0],y[1]);case 3:return!g.call(this,y[0],y[1],y[2])}return!g.apply(this,y)}}function Xw(g){return Iv(2,g)}var Pi=hv(function(g,y){y=y.length==1&&Ko(y[0])?cs(y[0],ya(yo())):cs(lc(y,1),ya(yo()));var R=y.length;return fs(function(W){for(var ie=-1,Te=aa(W.length,R);++ie<Te;)W[ie]=y[ie].call(this,W[ie]);return Ut(g,this,W)})}),Mv=fs(function(g,y){var R=ra(y,im(Mv));return Vu(g,ct,h,y,R)}),Rd=fs(function(g,y){var R=ra(y,im(Rd));return Vu(g,$,h,y,R)}),t1=ua(function(g,y){return Vu(g,Ge,h,h,h,y)});function kE(g,y){if(typeof g!="function")throw new _a(D);return y=y===h?y:rs(y),fs(g,y)}function g0(g,y){if(typeof g!="function")throw new _a(D);return y=y==null?0:si(rs(y),0),fs(function(R){var W=R[y],ie=fc(R,0,y);return W&&Wn(ie,W),Ut(g,this,ie)})}function p0(g,y,R){var W=!0,ie=!0;if(typeof g!="function")throw new _a(D);return di(R)&&(W="leading"in R?!!R.leading:W,ie="trailing"in R?!!R.trailing:ie),Ya(g,y,{leading:W,maxWait:y,trailing:ie})}function v0(g){return ME(g,1)}function b0(g,y){return Mv(jb(y),g)}function NE(){if(!arguments.length)return[];var g=arguments[0];return Ko(g)?g:[g]}function Qw(g){return cc(g,ge)}function Li(g,y){return y=typeof y=="function"?y:h,cc(g,ge,y)}function li(g){return cc(g,re|ge)}function gc(g,y){return y=typeof y=="function"?y:h,cc(g,re|ge,y)}function jc(g,y){return y==null||Yf(g,y,Ma(y))}function vs(g,y){return g===y||g!==g&&y!==y}var Xi=Vp(la),yu=Vp(function(g,y){return g>=y}),Ef=Ac(function(){return arguments}())?Ac:function(g){return Rt(g)&&Et.call(g,"callee")&&!Ks.call(g,"callee")},Ko=wt.isArray,kv=se?ya(se):Xh;function pc(g){return g!=null&&s1(g.length)&&!un(g)}function ui(g){return Rt(g)&&pc(g)}function n1(g){return g===!0||g===!1||Rt(g)&&Sa(g)==ee}var Zu=co||F0,y0=fe?ya(fe):lu;function v2(g){return Rt(g)&&g.nodeType===1&&!Ic(g)}function Nv(g){if(g==null)return!0;if(pc(g)&&(Ko(g)||typeof g=="string"||typeof g.splice=="function"||Zu(g)||Xa(g)||Ef(g)))return!g.length;var y=Oa(g);if(y==Dn||y==Wr)return!g.size;if(Ag(g))return!Ki(g).length;for(var R in g)if(Et.call(g,R))return!1;return!0}function E0(g,y){return Ga(g,y)}function Pv(g,y,R){R=typeof R=="function"?R:h;var W=R?R(g,y):h;return W===h?Ga(g,y,h,R):!!W}function o1(g){if(!Rt(g))return!1;var y=Sa(g);return y==Ts||y==so||typeof g.message=="string"&&typeof g.name=="string"&&!Ic(g)}function PE(g){return typeof g=="number"&&Fa(g)}function un(g){if(!di(g))return!1;var y=Sa(g);return y==ys||y==bc||y==At||y==Ui}function Lv(g){return typeof g=="number"&&g==rs(g)}function s1(g){return typeof g=="number"&&g>-1&&g%1==0&&g<=Xe}function di(g){var y=typeof g;return g!=null&&(y=="object"||y=="function")}function Rt(g){return g!=null&&typeof g=="object"}var LE=me?ya(me):_i;function Bi(g,y){return g===y||Zb(g,y,zp(y))}function Jw(g,y,R){return R=typeof R=="function"?R:h,Zb(g,y,zp(y),R)}function BE(g){return Bg(g)&&g!=+g}function $E(g){if(Hw(g))throw new go(k);return Pp(g)}function Ul(g){return g===null}function zl(g){return g==null}function Bg(g){return typeof g=="number"||Rt(g)&&Sa(g)==as}function Ic(g){if(!Rt(g)||Sa(g)!=lt)return!1;var y=ki(g);if(y===null)return!0;var R=Et.call(y,"constructor")&&y.constructor;return typeof R=="function"&&R instanceof R&&st.call(R)==fo}var r1=Re?ya(Re):Kf;function i1(g){return Lv(g)&&g>=-Xe&&g<=Xe}var qu=tt?ya(tt):Pn;function gl(g){return typeof g=="string"||!Ko(g)&&Rt(g)&&Sa(g)==Os}function Dc(g){return typeof g=="symbol"||Rt(g)&&Sa(g)==yc}var Xa=pt?ya(pt):vg;function eC(g){return g===h}function Bv(g){return Rt(g)&&Oa(g)==Tr}function $v(g){return Rt(g)&&Sa(g)==nl}var dh=Vp(Fu),FE=Vp(function(g,y){return g<=y});function Fv(g){if(!g)return[];if(pc(g))return gl(g)?Sc(g):Oc(g);if(Wo&&g[Wo])return ef(g[Wo]());var y=Oa(g),R=y==Dn?pd:y==Wr?vd:ju;return R(g)}function _f(g){if(!g)return g===0?g:0;if(g=Js(g),g===Tt||g===-Tt){var y=g<0?-1:1;return y*Vt}return g===g?g:0}function rs(g){var y=_f(g),R=y%1;return y===y?R?y-R:y:0}function bm(g){return g?Zr(rs(g),0,Ve):0}function Js(g){if(typeof g=="number")return g;if(Dc(g))return Nt;if(di(g)){var y=typeof g.valueOf=="function"?g.valueOf():g;g=di(y)?y+"":y}if(typeof g!="string")return g===0?g:+g;g=Tc(g);var R=sl.test(g);return R||q1.test(g)?jo(g.slice(2),R?2:8):xr.test(g)?Nt:+g}function HE(g){return du(g,pl(g))}function ym(g){return g?Zr(rs(g),-Xe,Xe):g===0?g:0}function hr(g){return g==null?"":Wc(g)}var Hv=Fl(function(g,y){if(Ag(y)||pc(y)){du(y,Ma(y),g);return}for(var R in y)Et.call(y,R)&&za(g,R,y[R])}),VE=Fl(function(g,y){du(y,pl(y),g)}),$g=Fl(function(g,y,R,W){du(y,pl(y),g,W)}),tC=Fl(function(g,y,R,W){du(y,Ma(y),g,W)}),a1=ua(es);function UE(g,y){var R=qf(g);return y==null?R:wr(R,y)}var zE=fs(function(g,y){g=Us(g);var R=-1,W=y.length,ie=W>2?y[2]:h;for(ie&&hc(y[0],y[1],ie)&&(W=1);++R<W;)for(var Te=y[R],Ne=pl(Te),He=-1,ut=Ne.length;++He<ut;){var Zt=Ne[He],Gt=g[Zt];(Gt===h||vs(Gt,Fe[Zt])&&!Et.call(g,Zt))&&(g[Zt]=Te[Zt])}return g}),_0=fs(function(g){return g.push(h,Up),Ut(Em,h,g)});function w0(g,y){return nr(g,yo(y,3),uc)}function WE(g,y){return nr(g,yo(y,3),rv)}function Id(g,y){return g==null?g:ll(g,yo(y,3),pl)}function Vv(g,y){return g==null?g:aE(g,yo(y,3),pl)}function Wl(g,y){return g&&uc(g,yo(y,3))}function ks(g,y){return g&&rv(g,yo(y,3))}function Fg(g){return g==null?[]:Wa(g,Ma(g))}function Qa(g){return g==null?[]:Wa(g,pl(g))}function c1(g,y,R){var W=g==null?h:$o(g,y);return W===h?R:W}function GE(g,y){return g!=null&&ai(g,y,$u)}function Uv(g,y){return g!=null&&ai(g,y,xa)}var l1=wd(function(g,y,R){y!=null&&typeof y.toString!="function"&&(y=Sn.call(y)),g[y]=R},Tm(vl)),C0=wd(function(g,y,R){y!=null&&typeof y.toString!="function"&&(y=Sn.call(y)),Et.call(g,y)?g[y].push(R):g[y]=[R]},yo),ZE=fs(qe);function Ma(g){return pc(g)?Yh(g):Ki(g)}function pl(g){return pc(g)?Yh(g,!0):iv(g)}function nC(g,y){var R={};return y=yo(y,3),uc(g,function(W,ie,Te){Go(R,y(W,ie,Te),W)}),R}function oC(g,y){var R={};return y=yo(y,3),uc(g,function(W,ie,Te){Go(R,ie,y(W,ie,Te))}),R}var sC=Fl(function(g,y,R){Za(g,y,R)}),Em=Fl(function(g,y,R,W){Za(g,y,R,W)}),T0=ua(function(g,y){var R={};if(g==null)return R;var W=!1;y=cs(y,function(Te){return Te=Qs(Te,g),W||(W=Te.length>1),Te}),du(g,qa(g),R),W&&(R=cc(R,re|be|ge,df));for(var ie=y.length;ie--;)dv(R,y[ie]);return R});function S0(g,y){return qE(g,Ka(yo(y)))}var _m=ua(function(g,y){return g==null?{}:Hu(g,y)});function qE(g,y){if(g==null)return{};var R=cs(qa(g),function(W){return[W]});return y=yo(y),Lp(g,R,function(W,ie){return y(W,ie[0])})}function rC(g,y,R){y=Qs(y,g);var W=-1,ie=y.length;for(ie||(ie=1,g=h);++W<ie;){var Te=g==null?h:g[Ia(y[W])];Te===h&&(W=ie,Te=R),g=un(Te)?Te.call(g):Te}return g}function iC(g,y,R){return g==null?g:ul(g,y,R)}function x0(g,y,R,W){return W=typeof W=="function"?W:h,g==null?g:ul(g,y,R,W)}var A0=yv(Ma),fh=yv(pl);function jE(g,y,R){var W=Ko(g),ie=W||Zu(g)||Xa(g);if(y=yo(y,4),R==null){var Te=g&&g.constructor;ie?R=W?new Te:[]:di(g)?R=un(Te)?qf(ki(g)):{}:R={}}return(ie?Ot:uc)(g,function(Ne,He,ut){return y(R,Ne,He,ut)}),R}function aC(g,y){return g==null?!0:dv(g,y)}function cC(g,y,R){return g==null?g:dc(g,y,jb(R))}function lC(g,y,R,W){return W=typeof W=="function"?W:h,g==null?g:dc(g,y,jb(R),W)}function ju(g){return g==null?[]:dr(g,Ma(g))}function zv(g){return g==null?[]:dr(g,pl(g))}function wm(g,y,R){return R===h&&(R=y,y=h),R!==h&&(R=Js(R),R=R===R?R:0),y!==h&&(y=Js(y),y=y===y?y:0),Zr(Js(g),y,R)}function Wv(g,y,R){return y=_f(y),R===h?(R=y,y=0):R=_f(R),g=Js(g),cE(g,y,R)}function YE(g,y,R){if(R&&typeof R!="boolean"&&hc(g,y,R)&&(y=R=h),R===h&&(typeof y=="boolean"?(R=y,y=h):typeof g=="boolean"&&(R=g,g=h)),g===h&&y===h?(g=0,y=1):(g=_f(g),y===h?(y=g,g=0):y=_f(y)),g>y){var W=g;g=y,y=W}if(R||g%1||y%1){var ie=Ca();return aa(g+ie*(y-g+eo("1e-"+((ie+"").length-1))),y)}return rf(g,y)}var Dd=nm(function(g,y,R){return y=y.toLowerCase(),g+(R?u1(y):y)});function u1(g){return f1(hr(g).toLowerCase())}function O0(g){return g=hr(g),g&&g.replace(Jl,J1).replace(X1,"")}function Yu(g,y,R){g=hr(g),y=Wc(y);var W=g.length;R=R===h?W:Zr(rs(R),0,W);var ie=R;return R-=y.length,R>=0&&g.slice(R,ie)==y}function hh(g){return g=hr(g),g&&Ec.test(g)?g.replace(Bo,nu):g}function R0(g){return g=hr(g),g&&nc.test(g)?g.replace(zn,"\\$&"):g}var KE=nm(function(g,y,R){return g+(R?"-":"")+y.toLowerCase()}),uC=nm(function(g,y,R){return g+(R?" ":"")+y.toLowerCase()}),dC=Yb("toLowerCase");function I0(g,y,R){g=hr(g),y=rs(y);var W=y?ps(g):0;if(!y||W>=y)return g;var ie=(y-W)/2;return Hp(Dl(ie),R)+g+Hp(su(ie),R)}function fC(g,y,R){g=hr(g),y=rs(y);var W=y?ps(g):0;return y&&W<y?g+Hp(y-W,R):g}function hC(g,y,R){g=hr(g),y=rs(y);var W=y?ps(g):0;return y&&W<y?Hp(y-W,R)+g:g}function XE(g,y,R){return R||y==null?y=0:y&&(y=+y),Ml(hr(g).replace(Ou,""),y||0)}function QE(g,y,R){return(R?hc(g,y,R):y===h)?y=1:y=rs(y),uv(hr(g),y)}function Gv(){var g=arguments,y=hr(g[0]);return g.length<3?y:y.replace(g[1],g[2])}var mC=nm(function(g,y,R){return g+(R?"_":"")+y.toLowerCase()});function gC(g,y,R){return R&&typeof R!="number"&&hc(g,y,R)&&(y=R=h),R=R===h?Ve:R>>>0,R?(g=hr(g),g&&(typeof y=="string"||y!=null&&!r1(y))&&(y=Wc(y),!y&&Ei(g))?fc(Sc(g),0,R):g.split(y,R)):[]}var pC=nm(function(g,y,R){return g+(R?" ":"")+f1(y)});function JE(g,y,R){return g=hr(g),R=R==null?0:Zr(rs(R),0,g.length),y=Wc(y),g.slice(R,R+y.length)==y}function D0(g,y,R){var W=ce.templateSettings;R&&hc(g,y,R)&&(y=h),g=hr(g),y=$g({},y,W,th);var ie=$g({},y.imports,W.imports,th),Te=Ma(ie),Ne=dr(ie,Te),He,ut,Zt=0,Gt=y.interpolate||xp,rn="__p += '",On=Zf((y.escape||xp).source+"|"+Gt.source+"|"+(Gt===Is?Ru:xp).source+"|"+(y.evaluate||xp).source+"|$","g"),Qn="//# sourceURL="+(Et.call(y,"sourceURL")?(y.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Q1+"]")+`
`;g.replace(On,function(Eo,ws,Xo,$r,Fr,Dr){return Xo||(Xo=$r),rn+=g.slice(Zt,Dr).replace(Ze,gd),ws&&(He=!0,rn+=`' +
__e(`+ws+`) +
'`),Fr&&(ut=!0,rn+=`';
`+Fr+`;
__p += '`),Xo&&(rn+=`' +
((__t = (`+Xo+`)) == null ? '' : __t) +
'`),Zt=Dr+Eo.length,Eo}),rn+=`';
`;var So=Et.call(y,"variable")&&y.variable;if(!So)rn=`with (obj) {
`+rn+`
}
`;else if(ol.test(So))throw new go(V);rn=(ut?rn.replace(Hf,""):rn).replace(La,"$1").replace(ng,"$1;"),rn="function("+(So||"obj")+`) {
`+(So?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(He?", __e = _.escape":"")+(ut?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+rn+`return __p
}`;var wo=P0(function(){return Ho(Te,Qn+"return "+rn).apply(h,Ne)});if(wo.source=rn,o1(wo))throw wo;return wo}function e_(g){return hr(g).toLowerCase()}function vC(g){return hr(g).toUpperCase()}function t_(g,y,R){if(g=hr(g),g&&(R||y===h))return Tc(g);if(!g||!(y=Wc(y)))return g;var W=Sc(g),ie=Sc(y),Te=Gf(W,ie),Ne=Qd(W,ie)+1;return fc(W,Te,Ne).join("")}function d1(g,y,R){if(g=hr(g),g&&(R||y===h))return g.slice(0,xe(g)+1);if(!g||!(y=Wc(y)))return g;var W=Sc(g),ie=Qd(W,Sc(y))+1;return fc(W,0,ie).join("")}function M0(g,y,R){if(g=hr(g),g&&(R||y===h))return g.replace(Ou,"");if(!g||!(y=Wc(y)))return g;var W=Sc(g),ie=Gf(W,Sc(y));return fc(W,ie).join("")}function k0(g,y){var R=xt,W=Pe;if(di(y)){var ie="separator"in y?y.separator:ie;R="length"in y?rs(y.length):R,W="omission"in y?Wc(y.omission):W}g=hr(g);var Te=g.length;if(Ei(g)){var Ne=Sc(g);Te=Ne.length}if(R>=Te)return g;var He=R-ps(W);if(He<1)return W;var ut=Ne?fc(Ne,0,He).join(""):g.slice(0,He);if(ie===h)return ut+W;if(Ne&&(He+=ut.length-He),r1(ie)){if(g.slice(He).search(ie)){var Zt,Gt=ut;for(ie.global||(ie=Zf(ie.source,hr(_c.exec(ie))+"g")),ie.lastIndex=0;Zt=ie.exec(Gt);)var rn=Zt.index;ut=ut.slice(0,rn===h?He:rn)}}else if(g.indexOf(Wc(ie),He)!=He){var On=ut.lastIndexOf(ie);On>-1&&(ut=ut.slice(0,On))}return ut+W}function Hg(g){return g=hr(g),g&&na.test(g)?g.replace(nn,ac):g}var Zv=nm(function(g,y,R){return g+(R?" ":"")+y.toUpperCase()}),f1=Yb("toUpperCase");function N0(g,y,R){return g=hr(g),y=R?h:y,y===h?Jd(g)?Lb(g):$s(g):g.match(y)||[]}var P0=fs(function(g,y){try{return Ut(g,h,y)}catch(R){return o1(R)?R:new go(R)}}),n_=ua(function(g,y){return Ot(y,function(R){R=Ia(R),Go(g,R,vm(g[R],g))}),g});function Cm(g){var y=g==null?0:g.length,R=yo();return g=y?cs(g,function(W){if(typeof W[1]!="function")throw new _a(D);return[R(W[0]),W[1]]}):[],fs(function(W){for(var ie=-1;++ie<y;){var Te=g[ie];if(Ut(Te[0],this,W))return Ut(Te[1],this,W)}})}function o_(g){return qr(cc(g,re))}function Tm(g){return function(){return g}}function bC(g,y){return g==null||g!==g?y:g}var L0=Zo(),s_=Zo(!0);function vl(g){return g}function B0(g){return $l(typeof g=="function"?g:cc(g,re))}function qv(g){return Qh(cc(g,re))}function h1(g,y){return uu(g,cc(y,re))}var wf=fs(function(g,y){return function(R){return qe(R,g,y)}}),yC=fs(function(g,y){return function(R){return qe(g,R,y)}});function m1(g,y,R){var W=Ma(y),ie=Wa(y,W);R==null&&!(di(y)&&(ie.length||!W.length))&&(R=y,y=g,g=this,ie=Wa(y,Ma(y)));var Te=!(di(R)&&"chain"in R)||!!R.chain,Ne=un(g);return Ot(ie,function(He){var ut=y[He];g[He]=ut,Ne&&(g.prototype[He]=function(){var Zt=this.__chain__;if(Te||Zt){var Gt=g(this.__wrapped__),rn=Gt.__actions__=Oc(this.__actions__);return rn.push({func:ut,args:arguments,thisArg:g}),Gt.__chain__=Zt,Gt}return ut.apply(g,Wn([this.value()],arguments))})}),g}function r_(){return sa._===this&&(sa._=ao),this}function Qi(){}function i_(g){return g=rs(g),fs(function(y){return av(y,g)})}var Sm=Cg(cs),EC=Cg(Hn),g1=Cg(To);function $0(g){return mu(g)?Ba(Ia(g)):cv(g)}function Vg(g){return function(y){return g==null?h:$o(g,y)}}var xm=Ms(),p1=Ms(!0);function Md(){return[]}function F0(){return!1}function fi(){return{}}function bl(){return""}function jv(){return!0}function a_(g,y){if(g=rs(g),g<1||g>Xe)return[];var R=Ve,W=aa(g,Ve);y=yo(y),g-=Ve;for(var ie=Lr(W,y);++R<g;)y(R);return ie}function c_(g){return Ko(g)?cs(g,Ia):Dc(g)?[g]:Oc(dm(hr(g)))}function H0(g){var y=++zt;return hr(g)+y}var Am=Cd(function(g,y){return g+y},0),v1=bv("ceil"),Om=Cd(function(g,y){return g/y},1),b2=bv("floor");function Ug(g){return g&&g.length?Kh(g,vl,la):h}function b1(g,y){return g&&g.length?Kh(g,yo(y,2),la):h}function Rm(g){return ur(g,vl)}function V0(g,y){return ur(g,yo(y,2))}function zg(g){return g&&g.length?Kh(g,vl,Fu):h}function $i(g,y){return g&&g.length?Kh(g,yo(y,2),Fu):h}var U0=Cd(function(g,y){return g*y},1),Ku=bv("round"),kd=Cd(function(g,y){return g-y},0);function mh(g){return g&&g.length?io(g,vl):0}function Im(g,y){return g&&g.length?io(g,yo(y,2)):0}return ce.after=h0,ce.ary=ME,ce.assign=Hv,ce.assignIn=VE,ce.assignInWith=$g,ce.assignWith=tC,ce.at=a1,ce.before=Iv,ce.bind=vm,ce.bindAll=n_,ce.bindKey=uh,ce.castArray=NE,ce.chain=c0,ce.chunk=e0,ce.compact=zs,ce.concat=Uw,ce.cond=Cm,ce.conforms=o_,ce.constant=Tm,ce.countBy=u0,ce.create=UE,ce.curry=Dv,ce.curryRight=Qp,ce.debounce=Ya,ce.defaults=zE,ce.defaultsDeep=_0,ce.defer=Jp,ce.delay=m0,ce.difference=pE,ce.differenceBy=zw,ce.differenceWith=Cv,ce.drop=Dg,ce.dropRight=mf,ce.dropRightWhile=ci,ce.dropWhile=gf,ce.fill=t0,ce.filter=gm,ce.flatMap=jp,ce.flatMapDeep=d0,ce.flatMapDepth=Ov,ce.flatten=Gp,ce.flattenDeep=g2,ce.flattenDepth=vE,ce.flip=e1,ce.flow=L0,ce.flowRight=s_,ce.fromPairs=rh,ce.functions=Fg,ce.functionsIn=Qa,ce.groupBy=lh,ce.initial=bE,ce.intersection=p2,ce.intersectionBy=zu,ce.intersectionWith=hs,ce.invert=l1,ce.invertBy=C0,ce.invokeMap=IE,ce.iteratee=B0,ce.keyBy=DE,ce.keys=Ma,ce.keysIn=pl,ce.map=Yp,ce.mapKeys=nC,ce.mapValues=oC,ce.matches=qv,ce.matchesProperty=h1,ce.memoize=yf,ce.merge=sC,ce.mergeWith=Em,ce.method=wf,ce.methodOf=yC,ce.mixin=m1,ce.negate=Ka,ce.nthArg=i_,ce.omit=T0,ce.omitBy=S0,ce.once=Xw,ce.orderBy=Gu,ce.over=Sm,ce.overArgs=Pi,ce.overEvery=EC,ce.overSome=g1,ce.partial=Mv,ce.partialRight=Rd,ce.partition=Vl,ce.pick=_m,ce.pickBy=qE,ce.property=$0,ce.propertyOf=Vg,ce.pull=mc,ce.pullAll=ih,ce.pullAllBy=Mg,ce.pullAllWith=vf,ce.pullAt=ml,ce.range=xm,ce.rangeRight=p1,ce.rearg=t1,ce.reject=rr,ce.remove=pu,ce.rest=kE,ce.reverse=ah,ce.sampleSize=f0,ce.set=iC,ce.setWith=x0,ce.shuffle=Hs,ce.slice=Zp,ce.sortBy=Ti,ce.sortedUniq=Gw,ce.sortedUniqBy=wE,ce.split=gC,ce.spread=g0,ce.tail=CE,ce.take=s0,ce.takeRight=TE,ce.takeRightWhile=Zw,ce.takeWhile=r0,ce.tap=OE,ce.throttle=p0,ce.thru=qc,ce.toArray=Fv,ce.toPairs=A0,ce.toPairsIn=fh,ce.toPath=c_,ce.toPlainObject=HE,ce.transform=jE,ce.unary=v0,ce.union=fm,ce.unionBy=i0,ce.unionWith=qw,ce.uniq=jw,ce.uniqBy=SE,ce.uniqWith=sr,ce.unset=aC,ce.unzip=Ad,ce.unzipWith=ch,ce.update=cC,ce.updateWith=lC,ce.values=ju,ce.valuesIn=zv,ce.without=xE,ce.words=N0,ce.wrap=b0,ce.xor=xv,ce.xorBy=Da,ce.xorWith=Rc,ce.zip=hm,ce.zipObject=Av,ce.zipObjectDeep=a0,ce.zipWith=AE,ce.entries=A0,ce.entriesIn=fh,ce.extend=VE,ce.extendWith=$g,m1(ce,ce),ce.add=Am,ce.attempt=P0,ce.camelCase=Dd,ce.capitalize=u1,ce.ceil=v1,ce.clamp=wm,ce.clone=Qw,ce.cloneDeep=li,ce.cloneDeepWith=gc,ce.cloneWith=Li,ce.conformsTo=jc,ce.deburr=O0,ce.defaultTo=bC,ce.divide=Om,ce.endsWith=Yu,ce.eq=vs,ce.escape=hh,ce.escapeRegExp=R0,ce.every=Ng,ce.find=Kw,ce.findIndex=jr,ce.findKey=w0,ce.findLast=qp,ce.findLastIndex=Tv,ce.findLastKey=WE,ce.floor=b2,ce.forEach=Pg,ce.forEachRight=Rv,ce.forIn=Id,ce.forInRight=Vv,ce.forOwn=Wl,ce.forOwnRight=ks,ce.get=c1,ce.gt=Xi,ce.gte=yu,ce.has=GE,ce.hasIn=Uv,ce.head=pf,ce.identity=vl,ce.includes=Lg,ce.indexOf=Sv,ce.inRange=Wv,ce.invoke=ZE,ce.isArguments=Ef,ce.isArray=Ko,ce.isArrayBuffer=kv,ce.isArrayLike=pc,ce.isArrayLikeObject=ui,ce.isBoolean=n1,ce.isBuffer=Zu,ce.isDate=y0,ce.isElement=v2,ce.isEmpty=Nv,ce.isEqual=E0,ce.isEqualWith=Pv,ce.isError=o1,ce.isFinite=PE,ce.isFunction=un,ce.isInteger=Lv,ce.isLength=s1,ce.isMap=LE,ce.isMatch=Bi,ce.isMatchWith=Jw,ce.isNaN=BE,ce.isNative=$E,ce.isNil=zl,ce.isNull=Ul,ce.isNumber=Bg,ce.isObject=di,ce.isObjectLike=Rt,ce.isPlainObject=Ic,ce.isRegExp=r1,ce.isSafeInteger=i1,ce.isSet=qu,ce.isString=gl,ce.isSymbol=Dc,ce.isTypedArray=Xa,ce.isUndefined=eC,ce.isWeakMap=Bv,ce.isWeakSet=$v,ce.join=yE,ce.kebabCase=KE,ce.last=_s,ce.lastIndexOf=Ci,ce.lowerCase=uC,ce.lowerFirst=dC,ce.lt=dh,ce.lte=FE,ce.max=Ug,ce.maxBy=b1,ce.mean=Rm,ce.meanBy=V0,ce.min=zg,ce.minBy=$i,ce.stubArray=Md,ce.stubFalse=F0,ce.stubObject=fi,ce.stubString=bl,ce.stubTrue=jv,ce.multiply=U0,ce.nth=Hl,ce.noConflict=r_,ce.noop=Qi,ce.now=bu,ce.pad=I0,ce.padEnd=fC,ce.padStart=hC,ce.parseInt=XE,ce.random=YE,ce.reduce=Kp,ce.reduceRight=ze,ce.repeat=QE,ce.replace=Gv,ce.result=rC,ce.round=Ku,ce.runInContext=Qe,ce.sample=pm,ce.size=vu,ce.snakeCase=mC,ce.some=Xp,ce.sortedIndex=n0,ce.sortedIndexBy=EE,ce.sortedIndexOf=_E,ce.sortedLastIndex=kg,ce.sortedLastIndexBy=o0,ce.sortedLastIndexOf=Ww,ce.startCase=pC,ce.startsWith=JE,ce.subtract=kd,ce.sum=mh,ce.sumBy=Im,ce.template=D0,ce.times=a_,ce.toFinite=_f,ce.toInteger=rs,ce.toLength=bm,ce.toLower=e_,ce.toNumber=Js,ce.toSafeInteger=ym,ce.toString=hr,ce.toUpper=vC,ce.trim=t_,ce.trimEnd=d1,ce.trimStart=M0,ce.truncate=k0,ce.unescape=Hg,ce.uniqueId=H0,ce.upperCase=Zv,ce.upperFirst=f1,ce.each=Pg,ce.eachRight=Rv,ce.first=pf,m1(ce,function(){var g={};return uc(ce,function(y,R){Et.call(ce.prototype,R)||(g[R]=y)}),g}(),{chain:!1}),ce.VERSION=E,Ot(["bind","bindKey","curry","curryRight","partial","partialRight"],function(g){ce[g].placeholder=ce}),Ot(["drop","take"],function(g,y){Fs.prototype[g]=function(R){R=R===h?1:si(rs(R),0);var W=this.__filtered__&&!y?new Fs(this):this.clone();return W.__filtered__?W.__takeCount__=aa(R,W.__takeCount__):W.__views__.push({size:aa(R,Ve),type:g+(W.__dir__<0?"Right":"")}),W},Fs.prototype[g+"Right"]=function(R){return this.reverse()[g](R).reverse()}}),Ot(["filter","map","takeWhile"],function(g,y){var R=y+1,W=R==bt||R==P;Fs.prototype[g]=function(ie){var Te=this.clone();return Te.__iteratees__.push({iteratee:yo(ie,3),type:R}),Te.__filtered__=Te.__filtered__||W,Te}}),Ot(["head","last"],function(g,y){var R="take"+(y?"Right":"");Fs.prototype[g]=function(){return this[R](1).value()[0]}}),Ot(["initial","tail"],function(g,y){var R="drop"+(y?"":"Right");Fs.prototype[g]=function(){return this.__filtered__?new Fs(this):this[R](1)}}),Fs.prototype.compact=function(){return this.filter(vl)},Fs.prototype.find=function(g){return this.filter(g).head()},Fs.prototype.findLast=function(g){return this.reverse().find(g)},Fs.prototype.invokeMap=fs(function(g,y){return typeof g=="function"?new Fs(this):this.map(function(R){return qe(R,g,y)})}),Fs.prototype.reject=function(g){return this.filter(Ka(yo(g)))},Fs.prototype.slice=function(g,y){g=rs(g);var R=this;return R.__filtered__&&(g>0||y<0)?new Fs(R):(g<0?R=R.takeRight(-g):g&&(R=R.drop(g)),y!==h&&(y=rs(y),R=y<0?R.dropRight(-y):R.take(y-g)),R)},Fs.prototype.takeRightWhile=function(g){return this.reverse().takeWhile(g).reverse()},Fs.prototype.toArray=function(){return this.take(Ve)},uc(Fs.prototype,function(g,y){var R=/^(?:filter|find|map|reject)|While$/.test(y),W=/^(?:head|last)$/.test(y),ie=ce[W?"take"+(y=="last"?"Right":""):y],Te=W||/^find/.test(y);ie&&(ce.prototype[y]=function(){var Ne=this.__wrapped__,He=W?[1]:arguments,ut=Ne instanceof Fs,Zt=He[0],Gt=ut||Ko(Ne),rn=function(ws){var Xo=ie.apply(ce,Wn([ws],He));return W&&On?Xo[0]:Xo};Gt&&R&&typeof Zt=="function"&&Zt.length!=1&&(ut=Gt=!1);var On=this.__chain__,Qn=!!this.__actions__.length,So=Te&&!On,wo=ut&&!Qn;if(!Te&&Gt){Ne=wo?Ne:new Fs(this);var Eo=g.apply(Ne,He);return Eo.__actions__.push({func:qc,args:[rn],thisArg:h}),new iu(Eo,On)}return So&&wo?g.apply(this,He):(Eo=this.thru(rn),So?W?Eo.value()[0]:Eo.value():Eo)})}),Ot(["pop","push","shift","sort","splice","unshift"],function(g){var y=_e[g],R=/^(?:push|sort|unshift)$/.test(g)?"tap":"thru",W=/^(?:pop|shift)$/.test(g);ce.prototype[g]=function(){var ie=arguments;if(W&&!this.__chain__){var Te=this.value();return y.apply(Ko(Te)?Te:[],ie)}return this[R](function(Ne){return y.apply(Ko(Ne)?Ne:[],ie)})}}),uc(Fs.prototype,function(g,y){var R=ce[y];if(R){var W=R.name+"";Et.call(hg,W)||(hg[W]=[]),hg[W].push({name:y,func:R})}}),hg[Tn(h,De).name]=[{name:"wrapper",func:h}],Fs.prototype.clone=Fb,Fs.prototype.reverse=Hb,Fs.prototype.value=Vb,ce.prototype.at=bf,ce.prototype.chain=fr,ce.prototype.commit=Od,ce.prototype.next=Wu,ce.prototype.plant=RE,ce.prototype.reverse=l0,ce.prototype.toJSON=ce.prototype.valueOf=ce.prototype.value=mm,ce.prototype.first=ce.prototype.head,Wo&&(ce.prototype[Wo]=Yw),ce},zo=Bb();I?((I.exports=zo)._=zo,C._=zo):sa._=zo}).call(IO)})(Dne,vH);const Mne=vH;var vj={},kne={get exports(){return vj},set exports(a){vj=a}};/*!
 * jQuery JavaScript Library v3.6.4
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-03-08T15:28Z
 */(function(a){(function(c,h){a.exports=c.document?h(c,!0):function(E){if(!E.document)throw new Error("jQuery requires a window with a document");return h(E)}})(typeof window<"u"?window:IO,function(c,h){var E=[],x=Object.getPrototypeOf,k=E.slice,D=E.flat?function(C){return E.flat.call(C)}:function(C){return E.concat.apply([],C)},V=E.push,G=E.indexOf,Y={},K=Y.toString,re=Y.hasOwnProperty,be=re.toString,ge=be.call(Object),le={},de=function(I){return typeof I=="function"&&typeof I.nodeType!="number"&&typeof I.item!="function"},Ee=function(I){return I!=null&&I===I.window},De=c.document,ke={type:!0,src:!0,nonce:!0,noModule:!0};function ne(C,I,F){F=F||De;var U,Q,se=F.createElement("script");if(se.text=C,I)for(U in ke)Q=I[U]||I.getAttribute&&I.getAttribute(U),Q&&se.setAttribute(U,Q);F.head.appendChild(se).parentNode.removeChild(se)}function Le(C){return C==null?C+"":typeof C=="object"||typeof C=="function"?Y[K.call(C)]||"object":typeof C}var ct="3.6.4",$=function(C,I){return new $.fn.init(C,I)};$.fn=$.prototype={jquery:ct,constructor:$,length:0,toArray:function(){return k.call(this)},get:function(C){return C==null?k.call(this):C<0?this[C+this.length]:this[C]},pushStack:function(C){var I=$.merge(this.constructor(),C);return I.prevObject=this,I},each:function(C){return $.each(this,C)},map:function(C){return this.pushStack($.map(this,function(I,F){return C.call(I,F,I)}))},slice:function(){return this.pushStack(k.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack($.grep(this,function(C,I){return(I+1)%2}))},odd:function(){return this.pushStack($.grep(this,function(C,I){return I%2}))},eq:function(C){var I=this.length,F=+C+(C<0?I:0);return this.pushStack(F>=0&&F<I?[this[F]]:[])},end:function(){return this.prevObject||this.constructor()},push:V,sort:E.sort,splice:E.splice},$.extend=$.fn.extend=function(){var C,I,F,U,Q,se,fe=arguments[0]||{},me=1,Re=arguments.length,tt=!1;for(typeof fe=="boolean"&&(tt=fe,fe=arguments[me]||{},me++),typeof fe!="object"&&!de(fe)&&(fe={}),me===Re&&(fe=this,me--);me<Re;me++)if((C=arguments[me])!=null)for(I in C)U=C[I],!(I==="__proto__"||fe===U)&&(tt&&U&&($.isPlainObject(U)||(Q=Array.isArray(U)))?(F=fe[I],Q&&!Array.isArray(F)?se=[]:!Q&&!$.isPlainObject(F)?se={}:se=F,Q=!1,fe[I]=$.extend(tt,se,U)):U!==void 0&&(fe[I]=U));return fe},$.extend({expando:"jQuery"+(ct+Math.random()).replace(/\D/g,""),isReady:!0,error:function(C){throw new Error(C)},noop:function(){},isPlainObject:function(C){var I,F;return!C||K.call(C)!=="[object Object]"?!1:(I=x(C),I?(F=re.call(I,"constructor")&&I.constructor,typeof F=="function"&&be.call(F)===ge):!0)},isEmptyObject:function(C){var I;for(I in C)return!1;return!0},globalEval:function(C,I,F){ne(C,{nonce:I&&I.nonce},F)},each:function(C,I){var F,U=0;if(ye(C))for(F=C.length;U<F&&I.call(C[U],U,C[U])!==!1;U++);else for(U in C)if(I.call(C[U],U,C[U])===!1)break;return C},makeArray:function(C,I){var F=I||[];return C!=null&&(ye(Object(C))?$.merge(F,typeof C=="string"?[C]:C):V.call(F,C)),F},inArray:function(C,I,F){return I==null?-1:G.call(I,C,F)},merge:function(C,I){for(var F=+I.length,U=0,Q=C.length;U<F;U++)C[Q++]=I[U];return C.length=Q,C},grep:function(C,I,F){for(var U,Q=[],se=0,fe=C.length,me=!F;se<fe;se++)U=!I(C[se],se),U!==me&&Q.push(C[se]);return Q},map:function(C,I,F){var U,Q,se=0,fe=[];if(ye(C))for(U=C.length;se<U;se++)Q=I(C[se],se,F),Q!=null&&fe.push(Q);else for(se in C)Q=I(C[se],se,F),Q!=null&&fe.push(Q);return D(fe)},guid:1,support:le}),typeof Symbol=="function"&&($.fn[Symbol.iterator]=E[Symbol.iterator]),$.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(C,I){Y["[object "+I+"]"]=I.toLowerCase()});function ye(C){var I=!!C&&"length"in C&&C.length,F=Le(C);return de(C)||Ee(C)?!1:F==="array"||I===0||typeof I=="number"&&I>0&&I-1 in C}var Ge=function(C){var I,F,U,Q,se,fe,me,Re,tt,pt,Ut,Je,Ot,Zn,Hn,vn,lr,ni,cs,Wn="sizzle"+1*new Date,jn=C.document,Zi=0,To=0,yr=Sc(),Nu=Sc(),$s=Sc(),nr=Sc(),Pr=function(_e,Me){return _e===Me&&(Ut=!0),0},Fc={}.hasOwnProperty,yi=[],Jo=yi.pop,ur=yi.push,Ba=yi.push,zh=yi.slice,Hc=function(_e,Me){for(var Fe=0,kt=_e.length;Fe<kt;Fe++)if(_e[Fe]===Me)return Fe;return-1},Vc="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",io="[\\x20\\t\\r\\n\\f]",Lr="(?:\\\\[\\da-fA-F]{1,6}"+io+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",ba="\\["+io+"*("+Lr+")(?:"+io+"*([*^$|!~]?=)"+io+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Lr+"))|)"+io+"*\\]",Tc=":("+Lr+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+ba+")*)|.*)\\)|)",ya=new RegExp(io+"+","g"),dr=new RegExp("^"+io+"+|((?:^|[^\\\\])(?:\\\\.)*)"+io+"+$","g"),Ea=new RegExp("^"+io+"*,"+io+"*"),Gf=new RegExp("^"+io+"*([>+~]|"+io+")"+io+"*"),Qd=new RegExp(io+"|>"),ug=new RegExp(Tc),J1=new RegExp("^"+Lr+"$"),nu={ID:new RegExp("^#("+Lr+")"),CLASS:new RegExp("^\\.("+Lr+")"),TAG:new RegExp("^("+Lr+"|[*])"),ATTR:new RegExp("^"+ba),PSEUDO:new RegExp("^"+Tc),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+io+"*(even|odd|(([+-]|)(\\d*)n|)"+io+"*(?:([+-]|)"+io+"*(\\d+)|))"+io+"*\\)|)","i"),bool:new RegExp("^(?:"+Vc+")$","i"),needsContext:new RegExp("^"+io+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+io+"*((?:-\\d)?\\d*)"+io+"*\\)|)(?=[^-]|$)","i")},gd=/HTML$/i,Wh=/^(?:input|select|textarea|button)$/i,Ei=/^h\d$/i,Jd=/^[^{]+\{\s*\[native \w/,ef=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,pd=/[+~]/,ic=new RegExp("\\\\[\\da-fA-F]{1,6}"+io+"?|\\\\([^\\r\\n\\f])","g"),ra=function(_e,Me){var Fe="0x"+_e.slice(1)-65536;return Me||(Fe<0?String.fromCharCode(Fe+65536):String.fromCharCode(Fe>>10|55296,Fe&1023|56320))},vd=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,tf=function(_e,Me){return Me?_e==="\0"?"�":_e.slice(0,-1)+"\\"+_e.charCodeAt(_e.length-1).toString(16)+" ":"\\"+_e},Rp=function(){Je()},ev=go(function(_e){return _e.disabled===!0&&_e.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{Ba.apply(yi=zh.call(jn.childNodes),jn.childNodes),yi[jn.childNodes.length].nodeType}catch{Ba={apply:yi.length?function(Me,Fe){ur.apply(Me,zh.call(Fe))}:function(Me,Fe){for(var kt=Me.length,st=0;Me[kt++]=Fe[st++];);Me.length=kt-1}}}function ps(_e,Me,Fe,kt){var st,Et,zt,_n,Sn,fo,ao,Xn=Me&&Me.ownerDocument,Vo=Me?Me.nodeType:9;if(Fe=Fe||[],typeof _e!="string"||!_e||Vo!==1&&Vo!==9&&Vo!==11)return Fe;if(!kt&&(Je(Me),Me=Me||Ot,Hn)){if(Vo!==11&&(Sn=ef.exec(_e)))if(st=Sn[1]){if(Vo===9)if(zt=Me.getElementById(st)){if(zt.id===st)return Fe.push(zt),Fe}else return Fe;else if(Xn&&(zt=Xn.getElementById(st))&&cs(Me,zt)&&zt.id===st)return Fe.push(zt),Fe}else{if(Sn[2])return Ba.apply(Fe,Me.getElementsByTagName(_e)),Fe;if((st=Sn[3])&&F.getElementsByClassName&&Me.getElementsByClassName)return Ba.apply(Fe,Me.getElementsByClassName(st)),Fe}if(F.qsa&&!nr[_e+" "]&&(!vn||!vn.test(_e))&&(Vo!==1||Me.nodeName.toLowerCase()!=="object")){if(ao=_e,Xn=Me,Vo===1&&(Qd.test(_e)||Gf.test(_e))){for(Xn=pd.test(_e)&&It(Me.parentNode)||Me,(Xn!==Me||!F.scope)&&((_n=Me.getAttribute("id"))?_n=_n.replace(vd,tf):Me.setAttribute("id",_n=Wn)),fo=fe(_e),Et=fo.length;Et--;)fo[Et]=(_n?"#"+_n:":scope")+" "+Ln(fo[Et]);ao=fo.join(",")}try{return Ba.apply(Fe,Xn.querySelectorAll(ao)),Fe}catch{nr(_e,!0)}finally{_n===Wn&&Me.removeAttribute("id")}}}return Re(_e.replace(dr,"$1"),Me,Fe,kt)}function Sc(){var _e=[];function Me(Fe,kt){return _e.push(Fe+" ")>U.cacheLength&&delete Me[_e.shift()],Me[Fe+" "]=kt}return Me}function xe(_e){return _e[Wn]=!0,_e}function ac(_e){var Me=Ot.createElement("fieldset");try{return!!_e(Me)}catch{return!1}finally{Me.parentNode&&Me.parentNode.removeChild(Me),Me=null}}function ia(_e,Me){for(var Fe=_e.split("|"),kt=Fe.length;kt--;)U.attrHandle[Fe[kt]]=Me}function dg(_e,Me){var Fe=Me&&_e,kt=Fe&&_e.nodeType===1&&Me.nodeType===1&&_e.sourceIndex-Me.sourceIndex;if(kt)return kt;if(Fe){for(;Fe=Fe.nextSibling;)if(Fe===Me)return-1}return _e?1:-1}function Lb(_e){return function(Me){var Fe=Me.nodeName.toLowerCase();return Fe==="input"&&Me.type===_e}}function Bb(_e){return function(Me){var Fe=Me.nodeName.toLowerCase();return(Fe==="input"||Fe==="button")&&Me.type===_e}}function zo(_e){return function(Me){return"form"in Me?Me.parentNode&&Me.disabled===!1?"label"in Me?"label"in Me.parentNode?Me.parentNode.disabled===_e:Me.disabled===_e:Me.isDisabled===_e||Me.isDisabled!==!_e&&ev(Me)===_e:Me.disabled===_e:"label"in Me?Me.disabled===_e:!1}}function Qe(_e){return xe(function(Me){return Me=+Me,xe(function(Fe,kt){for(var st,Et=_e([],Fe.length,Me),zt=Et.length;zt--;)Fe[st=Et[zt]]&&(Fe[st]=!(kt[st]=Fe[st]))})})}function It(_e){return _e&&typeof _e.getElementsByTagName<"u"&&_e}F=ps.support={},se=ps.isXML=function(_e){var Me=_e&&_e.namespaceURI,Fe=_e&&(_e.ownerDocument||_e).documentElement;return!gd.test(Me||Fe&&Fe.nodeName||"HTML")},Je=ps.setDocument=function(_e){var Me,Fe,kt=_e?_e.ownerDocument||_e:jn;return kt==Ot||kt.nodeType!==9||!kt.documentElement||(Ot=kt,Zn=Ot.documentElement,Hn=!se(Ot),jn!=Ot&&(Fe=Ot.defaultView)&&Fe.top!==Fe&&(Fe.addEventListener?Fe.addEventListener("unload",Rp,!1):Fe.attachEvent&&Fe.attachEvent("onunload",Rp)),F.scope=ac(function(st){return Zn.appendChild(st).appendChild(Ot.createElement("div")),typeof st.querySelectorAll<"u"&&!st.querySelectorAll(":scope fieldset div").length}),F.cssHas=ac(function(){try{return Ot.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),F.attributes=ac(function(st){return st.className="i",!st.getAttribute("className")}),F.getElementsByTagName=ac(function(st){return st.appendChild(Ot.createComment("")),!st.getElementsByTagName("*").length}),F.getElementsByClassName=Jd.test(Ot.getElementsByClassName),F.getById=ac(function(st){return Zn.appendChild(st).id=Wn,!Ot.getElementsByName||!Ot.getElementsByName(Wn).length}),F.getById?(U.filter.ID=function(st){var Et=st.replace(ic,ra);return function(zt){return zt.getAttribute("id")===Et}},U.find.ID=function(st,Et){if(typeof Et.getElementById<"u"&&Hn){var zt=Et.getElementById(st);return zt?[zt]:[]}}):(U.filter.ID=function(st){var Et=st.replace(ic,ra);return function(zt){var _n=typeof zt.getAttributeNode<"u"&&zt.getAttributeNode("id");return _n&&_n.value===Et}},U.find.ID=function(st,Et){if(typeof Et.getElementById<"u"&&Hn){var zt,_n,Sn,fo=Et.getElementById(st);if(fo){if(zt=fo.getAttributeNode("id"),zt&&zt.value===st)return[fo];for(Sn=Et.getElementsByName(st),_n=0;fo=Sn[_n++];)if(zt=fo.getAttributeNode("id"),zt&&zt.value===st)return[fo]}return[]}}),U.find.TAG=F.getElementsByTagName?function(st,Et){if(typeof Et.getElementsByTagName<"u")return Et.getElementsByTagName(st);if(F.qsa)return Et.querySelectorAll(st)}:function(st,Et){var zt,_n=[],Sn=0,fo=Et.getElementsByTagName(st);if(st==="*"){for(;zt=fo[Sn++];)zt.nodeType===1&&_n.push(zt);return _n}return fo},U.find.CLASS=F.getElementsByClassName&&function(st,Et){if(typeof Et.getElementsByClassName<"u"&&Hn)return Et.getElementsByClassName(st)},lr=[],vn=[],(F.qsa=Jd.test(Ot.querySelectorAll))&&(ac(function(st){var Et;Zn.appendChild(st).innerHTML="<a id='"+Wn+"'></a><select id='"+Wn+"-\r\\' msallowcapture=''><option selected=''></option></select>",st.querySelectorAll("[msallowcapture^='']").length&&vn.push("[*^$]="+io+`*(?:''|"")`),st.querySelectorAll("[selected]").length||vn.push("\\["+io+"*(?:value|"+Vc+")"),st.querySelectorAll("[id~="+Wn+"-]").length||vn.push("~="),Et=Ot.createElement("input"),Et.setAttribute("name",""),st.appendChild(Et),st.querySelectorAll("[name='']").length||vn.push("\\["+io+"*name"+io+"*="+io+`*(?:''|"")`),st.querySelectorAll(":checked").length||vn.push(":checked"),st.querySelectorAll("a#"+Wn+"+*").length||vn.push(".#.+[+~]"),st.querySelectorAll("\\\f"),vn.push("[\\r\\n\\f]")}),ac(function(st){st.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var Et=Ot.createElement("input");Et.setAttribute("type","hidden"),st.appendChild(Et).setAttribute("name","D"),st.querySelectorAll("[name=d]").length&&vn.push("name"+io+"*[*^$|!~]?="),st.querySelectorAll(":enabled").length!==2&&vn.push(":enabled",":disabled"),Zn.appendChild(st).disabled=!0,st.querySelectorAll(":disabled").length!==2&&vn.push(":enabled",":disabled"),st.querySelectorAll("*,:x"),vn.push(",.*:")})),(F.matchesSelector=Jd.test(ni=Zn.matches||Zn.webkitMatchesSelector||Zn.mozMatchesSelector||Zn.oMatchesSelector||Zn.msMatchesSelector))&&ac(function(st){F.disconnectedMatch=ni.call(st,"*"),ni.call(st,"[s!='']:x"),lr.push("!=",Tc)}),F.cssHas||vn.push(":has"),vn=vn.length&&new RegExp(vn.join("|")),lr=lr.length&&new RegExp(lr.join("|")),Me=Jd.test(Zn.compareDocumentPosition),cs=Me||Jd.test(Zn.contains)?function(st,Et){var zt=st.nodeType===9&&st.documentElement||st,_n=Et&&Et.parentNode;return st===_n||!!(_n&&_n.nodeType===1&&(zt.contains?zt.contains(_n):st.compareDocumentPosition&&st.compareDocumentPosition(_n)&16))}:function(st,Et){if(Et){for(;Et=Et.parentNode;)if(Et===st)return!0}return!1},Pr=Me?function(st,Et){if(st===Et)return Ut=!0,0;var zt=!st.compareDocumentPosition-!Et.compareDocumentPosition;return zt||(zt=(st.ownerDocument||st)==(Et.ownerDocument||Et)?st.compareDocumentPosition(Et):1,zt&1||!F.sortDetached&&Et.compareDocumentPosition(st)===zt?st==Ot||st.ownerDocument==jn&&cs(jn,st)?-1:Et==Ot||Et.ownerDocument==jn&&cs(jn,Et)?1:pt?Hc(pt,st)-Hc(pt,Et):0:zt&4?-1:1)}:function(st,Et){if(st===Et)return Ut=!0,0;var zt,_n=0,Sn=st.parentNode,fo=Et.parentNode,ao=[st],Xn=[Et];if(!Sn||!fo)return st==Ot?-1:Et==Ot?1:Sn?-1:fo?1:pt?Hc(pt,st)-Hc(pt,Et):0;if(Sn===fo)return dg(st,Et);for(zt=st;zt=zt.parentNode;)ao.unshift(zt);for(zt=Et;zt=zt.parentNode;)Xn.unshift(zt);for(;ao[_n]===Xn[_n];)_n++;return _n?dg(ao[_n],Xn[_n]):ao[_n]==jn?-1:Xn[_n]==jn?1:0}),Ot},ps.matches=function(_e,Me){return ps(_e,null,null,Me)},ps.matchesSelector=function(_e,Me){if(Je(_e),F.matchesSelector&&Hn&&!nr[Me+" "]&&(!lr||!lr.test(Me))&&(!vn||!vn.test(Me)))try{var Fe=ni.call(_e,Me);if(Fe||F.disconnectedMatch||_e.document&&_e.document.nodeType!==11)return Fe}catch{nr(Me,!0)}return ps(Me,Ot,null,[_e]).length>0},ps.contains=function(_e,Me){return(_e.ownerDocument||_e)!=Ot&&Je(_e),cs(_e,Me)},ps.attr=function(_e,Me){(_e.ownerDocument||_e)!=Ot&&Je(_e);var Fe=U.attrHandle[Me.toLowerCase()],kt=Fe&&Fc.call(U.attrHandle,Me.toLowerCase())?Fe(_e,Me,!Hn):void 0;return kt!==void 0?kt:F.attributes||!Hn?_e.getAttribute(Me):(kt=_e.getAttributeNode(Me))&&kt.specified?kt.value:null},ps.escape=function(_e){return(_e+"").replace(vd,tf)},ps.error=function(_e){throw new Error("Syntax error, unrecognized expression: "+_e)},ps.uniqueSort=function(_e){var Me,Fe=[],kt=0,st=0;if(Ut=!F.detectDuplicates,pt=!F.sortStable&&_e.slice(0),_e.sort(Pr),Ut){for(;Me=_e[st++];)Me===_e[st]&&(kt=Fe.push(st));for(;kt--;)_e.splice(Fe[kt],1)}return pt=null,_e},Q=ps.getText=function(_e){var Me,Fe="",kt=0,st=_e.nodeType;if(st){if(st===1||st===9||st===11){if(typeof _e.textContent=="string")return _e.textContent;for(_e=_e.firstChild;_e;_e=_e.nextSibling)Fe+=Q(_e)}else if(st===3||st===4)return _e.nodeValue}else for(;Me=_e[kt++];)Fe+=Q(Me);return Fe},U=ps.selectors={cacheLength:50,createPseudo:xe,match:nu,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(_e){return _e[1]=_e[1].replace(ic,ra),_e[3]=(_e[3]||_e[4]||_e[5]||"").replace(ic,ra),_e[2]==="~="&&(_e[3]=" "+_e[3]+" "),_e.slice(0,4)},CHILD:function(_e){return _e[1]=_e[1].toLowerCase(),_e[1].slice(0,3)==="nth"?(_e[3]||ps.error(_e[0]),_e[4]=+(_e[4]?_e[5]+(_e[6]||1):2*(_e[3]==="even"||_e[3]==="odd")),_e[5]=+(_e[7]+_e[8]||_e[3]==="odd")):_e[3]&&ps.error(_e[0]),_e},PSEUDO:function(_e){var Me,Fe=!_e[6]&&_e[2];return nu.CHILD.test(_e[0])?null:(_e[3]?_e[2]=_e[4]||_e[5]||"":Fe&&ug.test(Fe)&&(Me=fe(Fe,!0))&&(Me=Fe.indexOf(")",Fe.length-Me)-Fe.length)&&(_e[0]=_e[0].slice(0,Me),_e[2]=Fe.slice(0,Me)),_e.slice(0,3))}},filter:{TAG:function(_e){var Me=_e.replace(ic,ra).toLowerCase();return _e==="*"?function(){return!0}:function(Fe){return Fe.nodeName&&Fe.nodeName.toLowerCase()===Me}},CLASS:function(_e){var Me=yr[_e+" "];return Me||(Me=new RegExp("(^|"+io+")"+_e+"("+io+"|$)"))&&yr(_e,function(Fe){return Me.test(typeof Fe.className=="string"&&Fe.className||typeof Fe.getAttribute<"u"&&Fe.getAttribute("class")||"")})},ATTR:function(_e,Me,Fe){return function(kt){var st=ps.attr(kt,_e);return st==null?Me==="!=":Me?(st+="",Me==="="?st===Fe:Me==="!="?st!==Fe:Me==="^="?Fe&&st.indexOf(Fe)===0:Me==="*="?Fe&&st.indexOf(Fe)>-1:Me==="$="?Fe&&st.slice(-Fe.length)===Fe:Me==="~="?(" "+st.replace(ya," ")+" ").indexOf(Fe)>-1:Me==="|="?st===Fe||st.slice(0,Fe.length+1)===Fe+"-":!1):!0}},CHILD:function(_e,Me,Fe,kt,st){var Et=_e.slice(0,3)!=="nth",zt=_e.slice(-4)!=="last",_n=Me==="of-type";return kt===1&&st===0?function(Sn){return!!Sn.parentNode}:function(Sn,fo,ao){var Xn,Vo,Ss,po,qi,ki,$a=Et!==zt?"nextSibling":"previousSibling",Ks=Sn.parentNode,ou=_n&&Sn.nodeName.toLowerCase(),Ds=!ao&&!_n,Wo=!1;if(Ks){if(Et){for(;$a;){for(po=Sn;po=po[$a];)if(_n?po.nodeName.toLowerCase()===ou:po.nodeType===1)return!1;ki=$a=_e==="only"&&!ki&&"nextSibling"}return!0}if(ki=[zt?Ks.firstChild:Ks.lastChild],zt&&Ds){for(po=Ks,Ss=po[Wn]||(po[Wn]={}),Vo=Ss[po.uniqueID]||(Ss[po.uniqueID]={}),Xn=Vo[_e]||[],qi=Xn[0]===Zi&&Xn[1],Wo=qi&&Xn[2],po=qi&&Ks.childNodes[qi];po=++qi&&po&&po[$a]||(Wo=qi=0)||ki.pop();)if(po.nodeType===1&&++Wo&&po===Sn){Vo[_e]=[Zi,qi,Wo];break}}else if(Ds&&(po=Sn,Ss=po[Wn]||(po[Wn]={}),Vo=Ss[po.uniqueID]||(Ss[po.uniqueID]={}),Xn=Vo[_e]||[],qi=Xn[0]===Zi&&Xn[1],Wo=qi),Wo===!1)for(;(po=++qi&&po&&po[$a]||(Wo=qi=0)||ki.pop())&&!((_n?po.nodeName.toLowerCase()===ou:po.nodeType===1)&&++Wo&&(Ds&&(Ss=po[Wn]||(po[Wn]={}),Vo=Ss[po.uniqueID]||(Ss[po.uniqueID]={}),Vo[_e]=[Zi,Wo]),po===Sn)););return Wo-=st,Wo===kt||Wo%kt===0&&Wo/kt>=0}}},PSEUDO:function(_e,Me){var Fe,kt=U.pseudos[_e]||U.setFilters[_e.toLowerCase()]||ps.error("unsupported pseudo: "+_e);return kt[Wn]?kt(Me):kt.length>1?(Fe=[_e,_e,"",Me],U.setFilters.hasOwnProperty(_e.toLowerCase())?xe(function(st,Et){for(var zt,_n=kt(st,Me),Sn=_n.length;Sn--;)zt=Hc(st,_n[Sn]),st[zt]=!(Et[zt]=_n[Sn])}):function(st){return kt(st,0,Fe)}):kt}},pseudos:{not:xe(function(_e){var Me=[],Fe=[],kt=me(_e.replace(dr,"$1"));return kt[Wn]?xe(function(st,Et,zt,_n){for(var Sn,fo=kt(st,null,_n,[]),ao=st.length;ao--;)(Sn=fo[ao])&&(st[ao]=!(Et[ao]=Sn))}):function(st,Et,zt){return Me[0]=st,kt(Me,null,zt,Fe),Me[0]=null,!Fe.pop()}}),has:xe(function(_e){return function(Me){return ps(_e,Me).length>0}}),contains:xe(function(_e){return _e=_e.replace(ic,ra),function(Me){return(Me.textContent||Q(Me)).indexOf(_e)>-1}}),lang:xe(function(_e){return J1.test(_e||"")||ps.error("unsupported lang: "+_e),_e=_e.replace(ic,ra).toLowerCase(),function(Me){var Fe;do if(Fe=Hn?Me.lang:Me.getAttribute("xml:lang")||Me.getAttribute("lang"))return Fe=Fe.toLowerCase(),Fe===_e||Fe.indexOf(_e+"-")===0;while((Me=Me.parentNode)&&Me.nodeType===1);return!1}}),target:function(_e){var Me=C.location&&C.location.hash;return Me&&Me.slice(1)===_e.id},root:function(_e){return _e===Zn},focus:function(_e){return _e===Ot.activeElement&&(!Ot.hasFocus||Ot.hasFocus())&&!!(_e.type||_e.href||~_e.tabIndex)},enabled:zo(!1),disabled:zo(!0),checked:function(_e){var Me=_e.nodeName.toLowerCase();return Me==="input"&&!!_e.checked||Me==="option"&&!!_e.selected},selected:function(_e){return _e.parentNode&&_e.parentNode.selectedIndex,_e.selected===!0},empty:function(_e){for(_e=_e.firstChild;_e;_e=_e.nextSibling)if(_e.nodeType<6)return!1;return!0},parent:function(_e){return!U.pseudos.empty(_e)},header:function(_e){return Ei.test(_e.nodeName)},input:function(_e){return Wh.test(_e.nodeName)},button:function(_e){var Me=_e.nodeName.toLowerCase();return Me==="input"&&_e.type==="button"||Me==="button"},text:function(_e){var Me;return _e.nodeName.toLowerCase()==="input"&&_e.type==="text"&&((Me=_e.getAttribute("type"))==null||Me.toLowerCase()==="text")},first:Qe(function(){return[0]}),last:Qe(function(_e,Me){return[Me-1]}),eq:Qe(function(_e,Me,Fe){return[Fe<0?Fe+Me:Fe]}),even:Qe(function(_e,Me){for(var Fe=0;Fe<Me;Fe+=2)_e.push(Fe);return _e}),odd:Qe(function(_e,Me){for(var Fe=1;Fe<Me;Fe+=2)_e.push(Fe);return _e}),lt:Qe(function(_e,Me,Fe){for(var kt=Fe<0?Fe+Me:Fe>Me?Me:Fe;--kt>=0;)_e.push(kt);return _e}),gt:Qe(function(_e,Me,Fe){for(var kt=Fe<0?Fe+Me:Fe;++kt<Me;)_e.push(kt);return _e})}},U.pseudos.nth=U.pseudos.eq;for(I in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})U.pseudos[I]=Lb(I);for(I in{submit:!0,reset:!0})U.pseudos[I]=Bb(I);function wt(){}wt.prototype=U.filters=U.pseudos,U.setFilters=new wt,fe=ps.tokenize=function(_e,Me){var Fe,kt,st,Et,zt,_n,Sn,fo=Nu[_e+" "];if(fo)return Me?0:fo.slice(0);for(zt=_e,_n=[],Sn=U.preFilter;zt;){(!Fe||(kt=Ea.exec(zt)))&&(kt&&(zt=zt.slice(kt[0].length)||zt),_n.push(st=[])),Fe=!1,(kt=Gf.exec(zt))&&(Fe=kt.shift(),st.push({value:Fe,type:kt[0].replace(dr," ")}),zt=zt.slice(Fe.length));for(Et in U.filter)(kt=nu[Et].exec(zt))&&(!Sn[Et]||(kt=Sn[Et](kt)))&&(Fe=kt.shift(),st.push({value:Fe,type:Et,matches:kt}),zt=zt.slice(Fe.length));if(!Fe)break}return Me?zt.length:zt?ps.error(_e):Nu(_e,_n).slice(0)};function Ln(_e){for(var Me=0,Fe=_e.length,kt="";Me<Fe;Me++)kt+=_e[Me].value;return kt}function go(_e,Me,Fe){var kt=Me.dir,st=Me.next,Et=st||kt,zt=Fe&&Et==="parentNode",_n=To++;return Me.first?function(Sn,fo,ao){for(;Sn=Sn[kt];)if(Sn.nodeType===1||zt)return _e(Sn,fo,ao);return!1}:function(Sn,fo,ao){var Xn,Vo,Ss,po=[Zi,_n];if(ao){for(;Sn=Sn[kt];)if((Sn.nodeType===1||zt)&&_e(Sn,fo,ao))return!0}else for(;Sn=Sn[kt];)if(Sn.nodeType===1||zt)if(Ss=Sn[Wn]||(Sn[Wn]={}),Vo=Ss[Sn.uniqueID]||(Ss[Sn.uniqueID]={}),st&&st===Sn.nodeName.toLowerCase())Sn=Sn[kt]||Sn;else{if((Xn=Vo[Et])&&Xn[0]===Zi&&Xn[1]===_n)return po[2]=Xn[2];if(Vo[Et]=po,po[2]=_e(Sn,fo,ao))return!0}return!1}}function Ho(_e){return _e.length>1?function(Me,Fe,kt){for(var st=_e.length;st--;)if(!_e[st](Me,Fe,kt))return!1;return!0}:_e[0]}function oi(_e,Me,Fe){for(var kt=0,st=Me.length;kt<st;kt++)ps(_e,Me[kt],Fe);return Fe}function Us(_e,Me,Fe,kt,st){for(var Et,zt=[],_n=0,Sn=_e.length,fo=Me!=null;_n<Sn;_n++)(Et=_e[_n])&&(!Fe||Fe(Et,kt,st))&&(zt.push(Et),fo&&Me.push(_n));return zt}function Zf(_e,Me,Fe,kt,st,Et){return kt&&!kt[Wn]&&(kt=Zf(kt)),st&&!st[Wn]&&(st=Zf(st,Et)),xe(function(zt,_n,Sn,fo){var ao,Xn,Vo,Ss=[],po=[],qi=_n.length,ki=zt||oi(Me||"*",Sn.nodeType?[Sn]:Sn,[]),$a=_e&&(zt||!Me)?Us(ki,Ss,_e,Sn,fo):ki,Ks=Fe?st||(zt?_e:qi||kt)?[]:_n:$a;if(Fe&&Fe($a,Ks,Sn,fo),kt)for(ao=Us(Ks,po),kt(ao,[],Sn,fo),Xn=ao.length;Xn--;)(Vo=ao[Xn])&&(Ks[po[Xn]]=!($a[po[Xn]]=Vo));if(zt){if(st||_e){if(st){for(ao=[],Xn=Ks.length;Xn--;)(Vo=Ks[Xn])&&ao.push($a[Xn]=Vo);st(null,Ks=[],ao,fo)}for(Xn=Ks.length;Xn--;)(Vo=Ks[Xn])&&(ao=st?Hc(zt,Vo):Ss[Xn])>-1&&(zt[ao]=!(_n[ao]=Vo))}}else Ks=Us(Ks===_n?Ks.splice(qi,Ks.length):Ks),st?st(null,_n,Ks,fo):Ba.apply(_n,Ks)})}function xc(_e){for(var Me,Fe,kt,st=_e.length,Et=U.relative[_e[0].type],zt=Et||U.relative[" "],_n=Et?1:0,Sn=go(function(Xn){return Xn===Me},zt,!0),fo=go(function(Xn){return Hc(Me,Xn)>-1},zt,!0),ao=[function(Xn,Vo,Ss){var po=!Et&&(Ss||Vo!==tt)||((Me=Vo).nodeType?Sn(Xn,Vo,Ss):fo(Xn,Vo,Ss));return Me=null,po}];_n<st;_n++)if(Fe=U.relative[_e[_n].type])ao=[go(Ho(ao),Fe)];else{if(Fe=U.filter[_e[_n].type].apply(null,_e[_n].matches),Fe[Wn]){for(kt=++_n;kt<st&&!U.relative[_e[kt].type];kt++);return Zf(_n>1&&Ho(ao),_n>1&&Ln(_e.slice(0,_n-1).concat({value:_e[_n-2].type===" "?"*":""})).replace(dr,"$1"),Fe,_n<kt&&xc(_e.slice(_n,kt)),kt<st&&xc(_e=_e.slice(kt)),kt<st&&Ln(_e))}ao.push(Fe)}return Ho(ao)}function _a(_e,Me){var Fe=Me.length>0,kt=_e.length>0,st=function(Et,zt,_n,Sn,fo){var ao,Xn,Vo,Ss=0,po="0",qi=Et&&[],ki=[],$a=tt,Ks=Et||kt&&U.find.TAG("*",fo),ou=Zi+=$a==null?1:Math.random()||.1,Ds=Ks.length;for(fo&&(tt=zt==Ot||zt||fo);po!==Ds&&(ao=Ks[po])!=null;po++){if(kt&&ao){for(Xn=0,!zt&&ao.ownerDocument!=Ot&&(Je(ao),_n=!Hn);Vo=_e[Xn++];)if(Vo(ao,zt||Ot,_n)){Sn.push(ao);break}fo&&(Zi=ou)}Fe&&((ao=!Vo&&ao)&&Ss--,Et&&qi.push(ao))}if(Ss+=po,Fe&&po!==Ss){for(Xn=0;Vo=Me[Xn++];)Vo(qi,ki,zt,_n);if(Et){if(Ss>0)for(;po--;)qi[po]||ki[po]||(ki[po]=Jo.call(Sn));ki=Us(ki)}Ba.apply(Sn,ki),fo&&!Et&&ki.length>0&&Ss+Me.length>1&&ps.uniqueSort(Sn)}return fo&&(Zi=ou,tt=$a),qi};return Fe?xe(st):st}return me=ps.compile=function(_e,Me){var Fe,kt=[],st=[],Et=$s[_e+" "];if(!Et){for(Me||(Me=fe(_e)),Fe=Me.length;Fe--;)Et=xc(Me[Fe]),Et[Wn]?kt.push(Et):st.push(Et);Et=$s(_e,_a(st,kt)),Et.selector=_e}return Et},Re=ps.select=function(_e,Me,Fe,kt){var st,Et,zt,_n,Sn,fo=typeof _e=="function"&&_e,ao=!kt&&fe(_e=fo.selector||_e);if(Fe=Fe||[],ao.length===1){if(Et=ao[0]=ao[0].slice(0),Et.length>2&&(zt=Et[0]).type==="ID"&&Me.nodeType===9&&Hn&&U.relative[Et[1].type]){if(Me=(U.find.ID(zt.matches[0].replace(ic,ra),Me)||[])[0],Me)fo&&(Me=Me.parentNode);else return Fe;_e=_e.slice(Et.shift().value.length)}for(st=nu.needsContext.test(_e)?0:Et.length;st--&&(zt=Et[st],!U.relative[_n=zt.type]);)if((Sn=U.find[_n])&&(kt=Sn(zt.matches[0].replace(ic,ra),pd.test(Et[0].type)&&It(Me.parentNode)||Me))){if(Et.splice(st,1),_e=kt.length&&Ln(Et),!_e)return Ba.apply(Fe,kt),Fe;break}}return(fo||me(_e,ao))(kt,Me,!Hn,Fe,!Me||pd.test(_e)&&It(Me.parentNode)||Me),Fe},F.sortStable=Wn.split("").sort(Pr).join("")===Wn,F.detectDuplicates=!!Ut,Je(),F.sortDetached=ac(function(_e){return _e.compareDocumentPosition(Ot.createElement("fieldset"))&1}),ac(function(_e){return _e.innerHTML="<a href='#'></a>",_e.firstChild.getAttribute("href")==="#"})||ia("type|href|height|width",function(_e,Me,Fe){if(!Fe)return _e.getAttribute(Me,Me.toLowerCase()==="type"?1:2)}),(!F.attributes||!ac(function(_e){return _e.innerHTML="<input/>",_e.firstChild.setAttribute("value",""),_e.firstChild.getAttribute("value")===""}))&&ia("value",function(_e,Me,Fe){if(!Fe&&_e.nodeName.toLowerCase()==="input")return _e.defaultValue}),ac(function(_e){return _e.getAttribute("disabled")==null})||ia(Vc,function(_e,Me,Fe){var kt;if(!Fe)return _e[Me]===!0?Me.toLowerCase():(kt=_e.getAttributeNode(Me))&&kt.specified?kt.value:null}),ps}(c);$.find=Ge,$.expr=Ge.selectors,$.expr[":"]=$.expr.pseudos,$.uniqueSort=$.unique=Ge.uniqueSort,$.text=Ge.getText,$.isXMLDoc=Ge.isXML,$.contains=Ge.contains,$.escapeSelector=Ge.escape;var mt=function(C,I,F){for(var U=[],Q=F!==void 0;(C=C[I])&&C.nodeType!==9;)if(C.nodeType===1){if(Q&&$(C).is(F))break;U.push(C)}return U},xt=function(C,I){for(var F=[];C;C=C.nextSibling)C.nodeType===1&&C!==I&&F.push(C);return F},Pe=$.expr.match.needsContext;function he(C,I){return C.nodeName&&C.nodeName.toLowerCase()===I.toLowerCase()}var dn=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function bt(C,I,F){return de(I)?$.grep(C,function(U,Q){return!!I.call(U,Q,U)!==F}):I.nodeType?$.grep(C,function(U){return U===I!==F}):typeof I!="string"?$.grep(C,function(U){return G.call(I,U)>-1!==F}):$.filter(I,C,F)}$.filter=function(C,I,F){var U=I[0];return F&&(C=":not("+C+")"),I.length===1&&U.nodeType===1?$.find.matchesSelector(U,C)?[U]:[]:$.find.matches(C,$.grep(I,function(Q){return Q.nodeType===1}))},$.fn.extend({find:function(C){var I,F,U=this.length,Q=this;if(typeof C!="string")return this.pushStack($(C).filter(function(){for(I=0;I<U;I++)if($.contains(Q[I],this))return!0}));for(F=this.pushStack([]),I=0;I<U;I++)$.find(C,Q[I],F);return U>1?$.uniqueSort(F):F},filter:function(C){return this.pushStack(bt(this,C||[],!1))},not:function(C){return this.pushStack(bt(this,C||[],!0))},is:function(C){return!!bt(this,typeof C=="string"&&Pe.test(C)?$(C):C||[],!1).length}});var Ct,P=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Tt=$.fn.init=function(C,I,F){var U,Q;if(!C)return this;if(F=F||Ct,typeof C=="string")if(C[0]==="<"&&C[C.length-1]===">"&&C.length>=3?U=[null,C,null]:U=P.exec(C),U&&(U[1]||!I))if(U[1]){if(I=I instanceof $?I[0]:I,$.merge(this,$.parseHTML(U[1],I&&I.nodeType?I.ownerDocument||I:De,!0)),dn.test(U[1])&&$.isPlainObject(I))for(U in I)de(this[U])?this[U](I[U]):this.attr(U,I[U]);return this}else return Q=De.getElementById(U[2]),Q&&(this[0]=Q,this.length=1),this;else return!I||I.jquery?(I||F).find(C):this.constructor(I).find(C);else{if(C.nodeType)return this[0]=C,this.length=1,this;if(de(C))return F.ready!==void 0?F.ready(C):C($)}return $.makeArray(C,this)};Tt.prototype=$.fn,Ct=$(De);var Xe=/^(?:parents|prev(?:Until|All))/,Vt={children:!0,contents:!0,next:!0,prev:!0};$.fn.extend({has:function(C){var I=$(C,this),F=I.length;return this.filter(function(){for(var U=0;U<F;U++)if($.contains(this,I[U]))return!0})},closest:function(C,I){var F,U=0,Q=this.length,se=[],fe=typeof C!="string"&&$(C);if(!Pe.test(C)){for(;U<Q;U++)for(F=this[U];F&&F!==I;F=F.parentNode)if(F.nodeType<11&&(fe?fe.index(F)>-1:F.nodeType===1&&$.find.matchesSelector(F,C))){se.push(F);break}}return this.pushStack(se.length>1?$.uniqueSort(se):se)},index:function(C){return C?typeof C=="string"?G.call($(C),this[0]):G.call(this,C.jquery?C[0]:C):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(C,I){return this.pushStack($.uniqueSort($.merge(this.get(),$(C,I))))},addBack:function(C){return this.add(C==null?this.prevObject:this.prevObject.filter(C))}});function Nt(C,I){for(;(C=C[I])&&C.nodeType!==1;);return C}$.each({parent:function(C){var I=C.parentNode;return I&&I.nodeType!==11?I:null},parents:function(C){return mt(C,"parentNode")},parentsUntil:function(C,I,F){return mt(C,"parentNode",F)},next:function(C){return Nt(C,"nextSibling")},prev:function(C){return Nt(C,"previousSibling")},nextAll:function(C){return mt(C,"nextSibling")},prevAll:function(C){return mt(C,"previousSibling")},nextUntil:function(C,I,F){return mt(C,"nextSibling",F)},prevUntil:function(C,I,F){return mt(C,"previousSibling",F)},siblings:function(C){return xt((C.parentNode||{}).firstChild,C)},children:function(C){return xt(C.firstChild)},contents:function(C){return C.contentDocument!=null&&x(C.contentDocument)?C.contentDocument:(he(C,"template")&&(C=C.content||C),$.merge([],C.childNodes))}},function(C,I){$.fn[C]=function(F,U){var Q=$.map(this,I,F);return C.slice(-5)!=="Until"&&(U=F),U&&typeof U=="string"&&(Q=$.filter(U,Q)),this.length>1&&(Vt[C]||$.uniqueSort(Q),Xe.test(C)&&Q.reverse()),this.pushStack(Q)}});var Ve=/[^\x20\t\r\n\f]+/g;function uo(C){var I={};return $.each(C.match(Ve)||[],function(F,U){I[U]=!0}),I}$.Callbacks=function(C){C=typeof C=="string"?uo(C):$.extend({},C);var I,F,U,Q,se=[],fe=[],me=-1,Re=function(){for(Q=Q||C.once,U=I=!0;fe.length;me=-1)for(F=fe.shift();++me<se.length;)se[me].apply(F[0],F[1])===!1&&C.stopOnFalse&&(me=se.length,F=!1);C.memory||(F=!1),I=!1,Q&&(F?se=[]:se="")},tt={add:function(){return se&&(F&&!I&&(me=se.length-1,fe.push(F)),function pt(Ut){$.each(Ut,function(Je,Ot){de(Ot)?(!C.unique||!tt.has(Ot))&&se.push(Ot):Ot&&Ot.length&&Le(Ot)!=="string"&&pt(Ot)})}(arguments),F&&!I&&Re()),this},remove:function(){return $.each(arguments,function(pt,Ut){for(var Je;(Je=$.inArray(Ut,se,Je))>-1;)se.splice(Je,1),Je<=me&&me--}),this},has:function(pt){return pt?$.inArray(pt,se)>-1:se.length>0},empty:function(){return se&&(se=[]),this},disable:function(){return Q=fe=[],se=F="",this},disabled:function(){return!se},lock:function(){return Q=fe=[],!F&&!I&&(se=F=""),this},locked:function(){return!!Q},fireWith:function(pt,Ut){return Q||(Ut=Ut||[],Ut=[pt,Ut.slice?Ut.slice():Ut],fe.push(Ut),I||Re()),this},fire:function(){return tt.fireWith(this,arguments),this},fired:function(){return!!U}};return tt};function Lo(C){return C}function Jn(C){throw C}function Fo(C,I,F,U){var Q;try{C&&de(Q=C.promise)?Q.call(C).done(I).fail(F):C&&de(Q=C.then)?Q.call(C,I,F):I.apply(void 0,[C].slice(U))}catch(se){F.apply(void 0,[se])}}$.extend({Deferred:function(C){var I=[["notify","progress",$.Callbacks("memory"),$.Callbacks("memory"),2],["resolve","done",$.Callbacks("once memory"),$.Callbacks("once memory"),0,"resolved"],["reject","fail",$.Callbacks("once memory"),$.Callbacks("once memory"),1,"rejected"]],F="pending",U={state:function(){return F},always:function(){return Q.done(arguments).fail(arguments),this},catch:function(se){return U.then(null,se)},pipe:function(){var se=arguments;return $.Deferred(function(fe){$.each(I,function(me,Re){var tt=de(se[Re[4]])&&se[Re[4]];Q[Re[1]](function(){var pt=tt&&tt.apply(this,arguments);pt&&de(pt.promise)?pt.promise().progress(fe.notify).done(fe.resolve).fail(fe.reject):fe[Re[0]+"With"](this,tt?[pt]:arguments)})}),se=null}).promise()},then:function(se,fe,me){var Re=0;function tt(pt,Ut,Je,Ot){return function(){var Zn=this,Hn=arguments,vn=function(){var ni,cs;if(!(pt<Re)){if(ni=Je.apply(Zn,Hn),ni===Ut.promise())throw new TypeError("Thenable self-resolution");cs=ni&&(typeof ni=="object"||typeof ni=="function")&&ni.then,de(cs)?Ot?cs.call(ni,tt(Re,Ut,Lo,Ot),tt(Re,Ut,Jn,Ot)):(Re++,cs.call(ni,tt(Re,Ut,Lo,Ot),tt(Re,Ut,Jn,Ot),tt(Re,Ut,Lo,Ut.notifyWith))):(Je!==Lo&&(Zn=void 0,Hn=[ni]),(Ot||Ut.resolveWith)(Zn,Hn))}},lr=Ot?vn:function(){try{vn()}catch(ni){$.Deferred.exceptionHook&&$.Deferred.exceptionHook(ni,lr.stackTrace),pt+1>=Re&&(Je!==Jn&&(Zn=void 0,Hn=[ni]),Ut.rejectWith(Zn,Hn))}};pt?lr():($.Deferred.getStackHook&&(lr.stackTrace=$.Deferred.getStackHook()),c.setTimeout(lr))}}return $.Deferred(function(pt){I[0][3].add(tt(0,pt,de(me)?me:Lo,pt.notifyWith)),I[1][3].add(tt(0,pt,de(se)?se:Lo)),I[2][3].add(tt(0,pt,de(fe)?fe:Jn))}).promise()},promise:function(se){return se!=null?$.extend(se,U):U}},Q={};return $.each(I,function(se,fe){var me=fe[2],Re=fe[5];U[fe[1]]=me.add,Re&&me.add(function(){F=Re},I[3-se][2].disable,I[3-se][3].disable,I[0][2].lock,I[0][3].lock),me.add(fe[3].fire),Q[fe[0]]=function(){return Q[fe[0]+"With"](this===Q?void 0:this,arguments),this},Q[fe[0]+"With"]=me.fireWith}),U.promise(Q),C&&C.call(Q,Q),Q},when:function(C){var I=arguments.length,F=I,U=Array(F),Q=k.call(arguments),se=$.Deferred(),fe=function(me){return function(Re){U[me]=this,Q[me]=arguments.length>1?k.call(arguments):Re,--I||se.resolveWith(U,Q)}};if(I<=1&&(Fo(C,se.done(fe(F)).resolve,se.reject,!I),se.state()==="pending"||de(Q[F]&&Q[F].then)))return se.then();for(;F--;)Fo(Q[F],fe(F),se.reject);return se.promise()}});var je=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;$.Deferred.exceptionHook=function(C,I){c.console&&c.console.warn&&C&&je.test(C.name)&&c.console.warn("jQuery.Deferred exception: "+C.message,C.stack,I)},$.readyException=function(C){c.setTimeout(function(){throw C})};var At=$.Deferred();$.fn.ready=function(C){return At.then(C).catch(function(I){$.readyException(I)}),this},$.extend({isReady:!1,readyWait:1,ready:function(C){(C===!0?--$.readyWait:$.isReady)||($.isReady=!0,!(C!==!0&&--$.readyWait>0)&&At.resolveWith(De,[$]))}}),$.ready.then=At.then;function ee(){De.removeEventListener("DOMContentLoaded",ee),c.removeEventListener("load",ee),$.ready()}De.readyState==="complete"||De.readyState!=="loading"&&!De.documentElement.doScroll?c.setTimeout($.ready):(De.addEventListener("DOMContentLoaded",ee),c.addEventListener("load",ee));var os=function(C,I,F,U,Q,se,fe){var me=0,Re=C.length,tt=F==null;if(Le(F)==="object"){Q=!0;for(me in F)os(C,I,me,F[me],!0,se,fe)}else if(U!==void 0&&(Q=!0,de(U)||(fe=!0),tt&&(fe?(I.call(C,U),I=null):(tt=I,I=function(pt,Ut,Je){return tt.call($(pt),Je)})),I))for(;me<Re;me++)I(C[me],F,fe?U:U.call(C[me],me,I(C[me],F)));return Q?C:tt?I.call(C):Re?I(C[0],F):se},so=/^-ms-/,Ts=/-([a-z])/g;function ys(C,I){return I.toUpperCase()}function bc(C){return C.replace(so,"ms-").replace(Ts,ys)}var Dn=function(C){return C.nodeType===1||C.nodeType===9||!+C.nodeType};function as(){this.expando=$.expando+as.uid++}as.uid=1,as.prototype={cache:function(C){var I=C[this.expando];return I||(I={},Dn(C)&&(C.nodeType?C[this.expando]=I:Object.defineProperty(C,this.expando,{value:I,configurable:!0}))),I},set:function(C,I,F){var U,Q=this.cache(C);if(typeof I=="string")Q[bc(I)]=F;else for(U in I)Q[bc(U)]=I[U];return Q},get:function(C,I){return I===void 0?this.cache(C):C[this.expando]&&C[this.expando][bc(I)]},access:function(C,I,F){return I===void 0||I&&typeof I=="string"&&F===void 0?this.get(C,I):(this.set(C,I,F),F!==void 0?F:I)},remove:function(C,I){var F,U=C[this.expando];if(U!==void 0){if(I!==void 0)for(Array.isArray(I)?I=I.map(bc):(I=bc(I),I=I in U?[I]:I.match(Ve)||[]),F=I.length;F--;)delete U[I[F]];(I===void 0||$.isEmptyObject(U))&&(C.nodeType?C[this.expando]=void 0:delete C[this.expando])}},hasData:function(C){var I=C[this.expando];return I!==void 0&&!$.isEmptyObject(I)}};var qt=new as,lt=new as,Sl=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ui=/[A-Z]/g;function En(C){return C==="true"?!0:C==="false"?!1:C==="null"?null:C===+C+""?+C:Sl.test(C)?JSON.parse(C):C}function Wr(C,I,F){var U;if(F===void 0&&C.nodeType===1)if(U="data-"+I.replace(Ui,"-$&").toLowerCase(),F=C.getAttribute(U),typeof F=="string"){try{F=En(F)}catch{}lt.set(C,I,F)}else F=void 0;return F}$.extend({hasData:function(C){return lt.hasData(C)||qt.hasData(C)},data:function(C,I,F){return lt.access(C,I,F)},removeData:function(C,I){lt.remove(C,I)},_data:function(C,I,F){return qt.access(C,I,F)},_removeData:function(C,I){qt.remove(C,I)}}),$.fn.extend({data:function(C,I){var F,U,Q,se=this[0],fe=se&&se.attributes;if(C===void 0){if(this.length&&(Q=lt.get(se),se.nodeType===1&&!qt.get(se,"hasDataAttrs"))){for(F=fe.length;F--;)fe[F]&&(U=fe[F].name,U.indexOf("data-")===0&&(U=bc(U.slice(5)),Wr(se,U,Q[U])));qt.set(se,"hasDataAttrs",!0)}return Q}return typeof C=="object"?this.each(function(){lt.set(this,C)}):os(this,function(me){var Re;if(se&&me===void 0)return Re=lt.get(se,C),Re!==void 0||(Re=Wr(se,C),Re!==void 0)?Re:void 0;this.each(function(){lt.set(this,C,me)})},null,I,arguments.length>1,null,!0)},removeData:function(C){return this.each(function(){lt.remove(this,C)})}}),$.extend({queue:function(C,I,F){var U;if(C)return I=(I||"fx")+"queue",U=qt.get(C,I),F&&(!U||Array.isArray(F)?U=qt.access(C,I,$.makeArray(F)):U.push(F)),U||[]},dequeue:function(C,I){I=I||"fx";var F=$.queue(C,I),U=F.length,Q=F.shift(),se=$._queueHooks(C,I),fe=function(){$.dequeue(C,I)};Q==="inprogress"&&(Q=F.shift(),U--),Q&&(I==="fx"&&F.unshift("inprogress"),delete se.stop,Q.call(C,fe,se)),!U&&se&&se.empty.fire()},_queueHooks:function(C,I){var F=I+"queueHooks";return qt.get(C,F)||qt.access(C,F,{empty:$.Callbacks("once memory").add(function(){qt.remove(C,[I+"queue",F])})})}}),$.fn.extend({queue:function(C,I){var F=2;return typeof C!="string"&&(I=C,C="fx",F--),arguments.length<F?$.queue(this[0],C):I===void 0?this:this.each(function(){var U=$.queue(this,C,I);$._queueHooks(this,C),C==="fx"&&U[0]!=="inprogress"&&$.dequeue(this,C)})},dequeue:function(C){return this.each(function(){$.dequeue(this,C)})},clearQueue:function(C){return this.queue(C||"fx",[])},promise:function(C,I){var F,U=1,Q=$.Deferred(),se=this,fe=this.length,me=function(){--U||Q.resolveWith(se,[se])};for(typeof C!="string"&&(I=C,C=void 0),C=C||"fx";fe--;)F=qt.get(se[fe],C+"queueHooks"),F&&F.empty&&(U++,F.empty.add(me));return me(),Q.promise(I)}});var Os=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,yc=new RegExp("^(?:([+-])=|)("+Os+")([a-z%]*)$","i"),gs=["Top","Right","Bottom","Left"],Tr=De.documentElement,nl=function(C){return $.contains(C.ownerDocument,C)},ga={composed:!0};Tr.getRootNode&&(nl=function(C){return $.contains(C.ownerDocument,C)||C.getRootNode(ga)===C.ownerDocument});var tr=function(C,I){return C=I||C,C.style.display==="none"||C.style.display===""&&nl(C)&&$.css(C,"display")==="none"};function js(C,I,F,U){var Q,se,fe=20,me=U?function(){return U.cur()}:function(){return $.css(C,I,"")},Re=me(),tt=F&&F[3]||($.cssNumber[I]?"":"px"),pt=C.nodeType&&($.cssNumber[I]||tt!=="px"&&+Re)&&yc.exec($.css(C,I));if(pt&&pt[3]!==tt){for(Re=Re/2,tt=tt||pt[3],pt=+Re||1;fe--;)$.style(C,I,pt+tt),(1-se)*(1-(se=me()/Re||.5))<=0&&(fe=0),pt=pt/se;pt=pt*2,$.style(C,I,pt+tt),F=F||[]}return F&&(pt=+pt||+Re||0,Q=F[1]?pt+(F[1]+1)*F[2]:+F[2],U&&(U.unit=tt,U.start=pt,U.end=Q)),Q}var qd={};function Nr(C){var I,F=C.ownerDocument,U=C.nodeName,Q=qd[U];return Q||(I=F.body.appendChild(F.createElement(U)),Q=$.css(I,"display"),I.parentNode.removeChild(I),Q==="none"&&(Q="block"),qd[U]=Q,Q)}function Rs(C,I){for(var F,U,Q=[],se=0,fe=C.length;se<fe;se++)U=C[se],U.style&&(F=U.style.display,I?(F==="none"&&(Q[se]=qt.get(U,"display")||null,Q[se]||(U.style.display="")),U.style.display===""&&tr(U)&&(Q[se]=Nr(U))):F!=="none"&&(Q[se]="none",qt.set(U,"display",F)));for(se=0;se<fe;se++)Q[se]!=null&&(C[se].style.display=Q[se]);return C}$.fn.extend({show:function(){return Rs(this,!0)},hide:function(){return Rs(this)},toggle:function(C){return typeof C=="boolean"?C?this.show():this.hide():this.each(function(){tr(this)?$(this).show():$(this).hide()})}});var xl=/^(?:checkbox|radio)$/i,Oi=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Al=/^$|^module$|\/(?:java|ecma)script/i;(function(){var C=De.createDocumentFragment(),I=C.appendChild(De.createElement("div")),F=De.createElement("input");F.setAttribute("type","radio"),F.setAttribute("checked","checked"),F.setAttribute("name","t"),I.appendChild(F),le.checkClone=I.cloneNode(!0).cloneNode(!0).lastChild.checked,I.innerHTML="<textarea>x</textarea>",le.noCloneChecked=!!I.cloneNode(!0).lastChild.defaultValue,I.innerHTML="<option></option>",le.option=!!I.lastChild})();var pr={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};pr.tbody=pr.tfoot=pr.colgroup=pr.caption=pr.thead,pr.th=pr.td,le.option||(pr.optgroup=pr.option=[1,"<select multiple='multiple'>","</select>"]);function ei(C,I){var F;return typeof C.getElementsByTagName<"u"?F=C.getElementsByTagName(I||"*"):typeof C.querySelectorAll<"u"?F=C.querySelectorAll(I||"*"):F=[],I===void 0||I&&he(C,I)?$.merge([C],F):F}function Hf(C,I){for(var F=0,U=C.length;F<U;F++)qt.set(C[F],"globalEval",!I||qt.get(I[F],"globalEval"))}var La=/<|&#?\w+;/;function ng(C,I,F,U,Q){for(var se,fe,me,Re,tt,pt,Ut=I.createDocumentFragment(),Je=[],Ot=0,Zn=C.length;Ot<Zn;Ot++)if(se=C[Ot],se||se===0)if(Le(se)==="object")$.merge(Je,se.nodeType?[se]:se);else if(!La.test(se))Je.push(I.createTextNode(se));else{for(fe=fe||Ut.appendChild(I.createElement("div")),me=(Oi.exec(se)||["",""])[1].toLowerCase(),Re=pr[me]||pr._default,fe.innerHTML=Re[1]+$.htmlPrefilter(se)+Re[2],pt=Re[0];pt--;)fe=fe.lastChild;$.merge(Je,fe.childNodes),fe=Ut.firstChild,fe.textContent=""}for(Ut.textContent="",Ot=0;se=Je[Ot++];){if(U&&$.inArray(se,U)>-1){Q&&Q.push(se);continue}if(tt=nl(se),fe=ei(Ut.appendChild(se),"script"),tt&&Hf(fe),F)for(pt=0;se=fe[pt++];)Al.test(se.type||"")&&F.push(se)}return Ut}var nn=/^([^.]*)(?:\.(.+)|)/;function Bo(){return!0}function na(){return!1}function Ec(C,I){return C===og()==(I==="focus")}function og(){try{return De.activeElement}catch{}}function Au(C,I,F,U,Q,se){var fe,me;if(typeof I=="object"){typeof F!="string"&&(U=U||F,F=void 0);for(me in I)Au(C,me,F,U,I[me],se);return C}if(U==null&&Q==null?(Q=F,U=F=void 0):Q==null&&(typeof F=="string"?(Q=U,U=void 0):(Q=U,U=F,F=void 0)),Q===!1)Q=na;else if(!Q)return C;return se===1&&(fe=Q,Q=function(Re){return $().off(Re),fe.apply(this,arguments)},Q.guid=fe.guid||(fe.guid=$.guid++)),C.each(function(){$.event.add(this,I,Q,U,F)})}$.event={global:{},add:function(C,I,F,U,Q){var se,fe,me,Re,tt,pt,Ut,Je,Ot,Zn,Hn,vn=qt.get(C);if(Dn(C))for(F.handler&&(se=F,F=se.handler,Q=se.selector),Q&&$.find.matchesSelector(Tr,Q),F.guid||(F.guid=$.guid++),(Re=vn.events)||(Re=vn.events=Object.create(null)),(fe=vn.handle)||(fe=vn.handle=function(lr){return typeof $<"u"&&$.event.triggered!==lr.type?$.event.dispatch.apply(C,arguments):void 0}),I=(I||"").match(Ve)||[""],tt=I.length;tt--;)me=nn.exec(I[tt])||[],Ot=Hn=me[1],Zn=(me[2]||"").split(".").sort(),Ot&&(Ut=$.event.special[Ot]||{},Ot=(Q?Ut.delegateType:Ut.bindType)||Ot,Ut=$.event.special[Ot]||{},pt=$.extend({type:Ot,origType:Hn,data:U,handler:F,guid:F.guid,selector:Q,needsContext:Q&&$.expr.match.needsContext.test(Q),namespace:Zn.join(".")},se),(Je=Re[Ot])||(Je=Re[Ot]=[],Je.delegateCount=0,(!Ut.setup||Ut.setup.call(C,U,Zn,fe)===!1)&&C.addEventListener&&C.addEventListener(Ot,fe)),Ut.add&&(Ut.add.call(C,pt),pt.handler.guid||(pt.handler.guid=F.guid)),Q?Je.splice(Je.delegateCount++,0,pt):Je.push(pt),$.event.global[Ot]=!0)},remove:function(C,I,F,U,Q){var se,fe,me,Re,tt,pt,Ut,Je,Ot,Zn,Hn,vn=qt.hasData(C)&&qt.get(C);if(!(!vn||!(Re=vn.events))){for(I=(I||"").match(Ve)||[""],tt=I.length;tt--;){if(me=nn.exec(I[tt])||[],Ot=Hn=me[1],Zn=(me[2]||"").split(".").sort(),!Ot){for(Ot in Re)$.event.remove(C,Ot+I[tt],F,U,!0);continue}for(Ut=$.event.special[Ot]||{},Ot=(U?Ut.delegateType:Ut.bindType)||Ot,Je=Re[Ot]||[],me=me[2]&&new RegExp("(^|\\.)"+Zn.join("\\.(?:.*\\.|)")+"(\\.|$)"),fe=se=Je.length;se--;)pt=Je[se],(Q||Hn===pt.origType)&&(!F||F.guid===pt.guid)&&(!me||me.test(pt.namespace))&&(!U||U===pt.selector||U==="**"&&pt.selector)&&(Je.splice(se,1),pt.selector&&Je.delegateCount--,Ut.remove&&Ut.remove.call(C,pt));fe&&!Je.length&&((!Ut.teardown||Ut.teardown.call(C,Zn,vn.handle)===!1)&&$.removeEvent(C,Ot,vn.handle),delete Re[Ot])}$.isEmptyObject(Re)&&qt.remove(C,"handle events")}},dispatch:function(C){var I,F,U,Q,se,fe,me=new Array(arguments.length),Re=$.event.fix(C),tt=(qt.get(this,"events")||Object.create(null))[Re.type]||[],pt=$.event.special[Re.type]||{};for(me[0]=Re,I=1;I<arguments.length;I++)me[I]=arguments[I];if(Re.delegateTarget=this,!(pt.preDispatch&&pt.preDispatch.call(this,Re)===!1)){for(fe=$.event.handlers.call(this,Re,tt),I=0;(Q=fe[I++])&&!Re.isPropagationStopped();)for(Re.currentTarget=Q.elem,F=0;(se=Q.handlers[F++])&&!Re.isImmediatePropagationStopped();)(!Re.rnamespace||se.namespace===!1||Re.rnamespace.test(se.namespace))&&(Re.handleObj=se,Re.data=se.data,U=(($.event.special[se.origType]||{}).handle||se.handler).apply(Q.elem,me),U!==void 0&&(Re.result=U)===!1&&(Re.preventDefault(),Re.stopPropagation()));return pt.postDispatch&&pt.postDispatch.call(this,Re),Re.result}},handlers:function(C,I){var F,U,Q,se,fe,me=[],Re=I.delegateCount,tt=C.target;if(Re&&tt.nodeType&&!(C.type==="click"&&C.button>=1)){for(;tt!==this;tt=tt.parentNode||this)if(tt.nodeType===1&&!(C.type==="click"&&tt.disabled===!0)){for(se=[],fe={},F=0;F<Re;F++)U=I[F],Q=U.selector+" ",fe[Q]===void 0&&(fe[Q]=U.needsContext?$(Q,this).index(tt)>-1:$.find(Q,this,null,[tt]).length),fe[Q]&&se.push(U);se.length&&me.push({elem:tt,handlers:se})}}return tt=this,Re<I.length&&me.push({elem:tt,handlers:I.slice(Re)}),me},addProp:function(C,I){Object.defineProperty($.Event.prototype,C,{enumerable:!0,configurable:!0,get:de(I)?function(){if(this.originalEvent)return I(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[C]},set:function(F){Object.defineProperty(this,C,{enumerable:!0,configurable:!0,writable:!0,value:F})}})},fix:function(C){return C[$.expando]?C:new $.Event(C)},special:{load:{noBubble:!0},click:{setup:function(C){var I=this||C;return xl.test(I.type)&&I.click&&he(I,"input")&&Is(I,"click",Bo),!1},trigger:function(C){var I=this||C;return xl.test(I.type)&&I.click&&he(I,"input")&&Is(I,"click"),!0},_default:function(C){var I=C.target;return xl.test(I.type)&&I.click&&he(I,"input")&&qt.get(I,"click")||he(I,"a")}},beforeunload:{postDispatch:function(C){C.result!==void 0&&C.originalEvent&&(C.originalEvent.returnValue=C.result)}}}};function Is(C,I,F){if(!F){qt.get(C,I)===void 0&&$.event.add(C,I,Bo);return}qt.set(C,I,!1),$.event.add(C,I,{namespace:!1,handler:function(U){var Q,se,fe=qt.get(this,I);if(U.isTrigger&1&&this[I]){if(fe.length)($.event.special[I]||{}).delegateType&&U.stopPropagation();else if(fe=k.call(arguments),qt.set(this,I,fe),Q=F(this,I),this[I](),se=qt.get(this,I),fe!==se||Q?qt.set(this,I,!1):se={},fe!==se)return U.stopImmediatePropagation(),U.preventDefault(),se&&se.value}else fe.length&&(qt.set(this,I,{value:$.event.trigger($.extend(fe[0],$.Event.prototype),fe.slice(1),this)}),U.stopImmediatePropagation())}})}$.removeEvent=function(C,I,F){C.removeEventListener&&C.removeEventListener(I,F)},$.Event=function(C,I){if(!(this instanceof $.Event))return new $.Event(C,I);C&&C.type?(this.originalEvent=C,this.type=C.type,this.isDefaultPrevented=C.defaultPrevented||C.defaultPrevented===void 0&&C.returnValue===!1?Bo:na,this.target=C.target&&C.target.nodeType===3?C.target.parentNode:C.target,this.currentTarget=C.currentTarget,this.relatedTarget=C.relatedTarget):this.type=C,I&&$.extend(this,I),this.timeStamp=C&&C.timeStamp||Date.now(),this[$.expando]=!0},$.Event.prototype={constructor:$.Event,isDefaultPrevented:na,isPropagationStopped:na,isImmediatePropagationStopped:na,isSimulated:!1,preventDefault:function(){var C=this.originalEvent;this.isDefaultPrevented=Bo,C&&!this.isSimulated&&C.preventDefault()},stopPropagation:function(){var C=this.originalEvent;this.isPropagationStopped=Bo,C&&!this.isSimulated&&C.stopPropagation()},stopImmediatePropagation:function(){var C=this.originalEvent;this.isImmediatePropagationStopped=Bo,C&&!this.isSimulated&&C.stopImmediatePropagation(),this.stopPropagation()}},$.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},$.event.addProp),$.each({focus:"focusin",blur:"focusout"},function(C,I){$.event.special[C]={setup:function(){return Is(this,C,Ec),!1},trigger:function(){return Is(this,C),!0},_default:function(F){return qt.get(F.target,C)},delegateType:I}}),$.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(C,I){$.event.special[C]={delegateType:I,bindType:I,handle:function(F){var U,Q=this,se=F.relatedTarget,fe=F.handleObj;return(!se||se!==Q&&!$.contains(Q,se))&&(F.type=fe.origType,U=fe.handler.apply(this,arguments),F.type=I),U}}}),$.fn.extend({on:function(C,I,F,U){return Au(this,C,I,F,U)},one:function(C,I,F,U){return Au(this,C,I,F,U,1)},off:function(C,I,F){var U,Q;if(C&&C.preventDefault&&C.handleObj)return U=C.handleObj,$(C.delegateTarget).off(U.namespace?U.origType+"."+U.namespace:U.origType,U.selector,U.handler),this;if(typeof C=="object"){for(Q in C)this.off(Q,I,C[Q]);return this}return(I===!1||typeof I=="function")&&(F=I,I=void 0),F===!1&&(F=na),this.each(function(){$.event.remove(this,C,F,I)})}});var jd=/<script|<style|<link/i,Vf=/checked\s*(?:[^=]|=\s*.checked.)/i,Ys=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function zn(C,I){return he(C,"table")&&he(I.nodeType!==11?I:I.firstChild,"tr")&&$(C).children("tbody")[0]||C}function nc(C){return C.type=(C.getAttribute("type")!==null)+"/"+C.type,C}function Ou(C){return(C.type||"").slice(0,5)==="true/"?C.type=C.type.slice(5):C.removeAttribute("type"),C}function Vh(C,I){var F,U,Q,se,fe,me,Re;if(I.nodeType===1){if(qt.hasData(C)&&(se=qt.get(C),Re=se.events,Re)){qt.remove(I,"handle events");for(Q in Re)for(F=0,U=Re[Q].length;F<U;F++)$.event.add(I,Q,Re[Q][F])}lt.hasData(C)&&(fe=lt.access(C),me=$.extend({},fe),lt.set(I,me))}}function Sp(C,I){var F=I.nodeName.toLowerCase();F==="input"&&xl.test(C.type)?I.checked=C.checked:(F==="input"||F==="textarea")&&(I.defaultValue=C.defaultValue)}function Ri(C,I,F,U){I=D(I);var Q,se,fe,me,Re,tt,pt=0,Ut=C.length,Je=Ut-1,Ot=I[0],Zn=de(Ot);if(Zn||Ut>1&&typeof Ot=="string"&&!le.checkClone&&Vf.test(Ot))return C.each(function(Hn){var vn=C.eq(Hn);Zn&&(I[0]=Ot.call(this,Hn,vn.html())),Ri(vn,I,F,U)});if(Ut&&(Q=ng(I,C[0].ownerDocument,!1,C,U),se=Q.firstChild,Q.childNodes.length===1&&(Q=se),se||U)){for(fe=$.map(ei(Q,"script"),nc),me=fe.length;pt<Ut;pt++)Re=Q,pt!==Je&&(Re=$.clone(Re,!0,!0),me&&$.merge(fe,ei(Re,"script"))),F.call(C[pt],Re,pt);if(me)for(tt=fe[fe.length-1].ownerDocument,$.map(fe,Ou),pt=0;pt<me;pt++)Re=fe[pt],Al.test(Re.type||"")&&!qt.access(Re,"globalEval")&&$.contains(tt,Re)&&(Re.src&&(Re.type||"").toLowerCase()!=="module"?$._evalUrl&&!Re.noModule&&$._evalUrl(Re.src,{nonce:Re.nonce||Re.getAttribute("nonce")},tt):ne(Re.textContent.replace(Ys,""),Re,tt))}return C}function zi(C,I,F){for(var U,Q=I?$.filter(I,C):C,se=0;(U=Q[se])!=null;se++)!F&&U.nodeType===1&&$.cleanData(ei(U)),U.parentNode&&(F&&nl(U)&&Hf(ei(U,"script")),U.parentNode.removeChild(U));return C}$.extend({htmlPrefilter:function(C){return C},clone:function(C,I,F){var U,Q,se,fe,me=C.cloneNode(!0),Re=nl(C);if(!le.noCloneChecked&&(C.nodeType===1||C.nodeType===11)&&!$.isXMLDoc(C))for(fe=ei(me),se=ei(C),U=0,Q=se.length;U<Q;U++)Sp(se[U],fe[U]);if(I)if(F)for(se=se||ei(C),fe=fe||ei(me),U=0,Q=se.length;U<Q;U++)Vh(se[U],fe[U]);else Vh(C,me);return fe=ei(me,"script"),fe.length>0&&Hf(fe,!Re&&ei(C,"script")),me},cleanData:function(C){for(var I,F,U,Q=$.event.special,se=0;(F=C[se])!==void 0;se++)if(Dn(F)){if(I=F[qt.expando]){if(I.events)for(U in I.events)Q[U]?$.event.remove(F,U):$.removeEvent(F,U,I.handle);F[qt.expando]=void 0}F[lt.expando]&&(F[lt.expando]=void 0)}}}),$.fn.extend({detach:function(C){return zi(this,C,!0)},remove:function(C){return zi(this,C)},text:function(C){return os(this,function(I){return I===void 0?$.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=I)})},null,C,arguments.length)},append:function(){return Ri(this,arguments,function(C){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var I=zn(this,C);I.appendChild(C)}})},prepend:function(){return Ri(this,arguments,function(C){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var I=zn(this,C);I.insertBefore(C,I.firstChild)}})},before:function(){return Ri(this,arguments,function(C){this.parentNode&&this.parentNode.insertBefore(C,this)})},after:function(){return Ri(this,arguments,function(C){this.parentNode&&this.parentNode.insertBefore(C,this.nextSibling)})},empty:function(){for(var C,I=0;(C=this[I])!=null;I++)C.nodeType===1&&($.cleanData(ei(C,!1)),C.textContent="");return this},clone:function(C,I){return C=C??!1,I=I??C,this.map(function(){return $.clone(this,C,I)})},html:function(C){return os(this,function(I){var F=this[0]||{},U=0,Q=this.length;if(I===void 0&&F.nodeType===1)return F.innerHTML;if(typeof I=="string"&&!jd.test(I)&&!pr[(Oi.exec(I)||["",""])[1].toLowerCase()]){I=$.htmlPrefilter(I);try{for(;U<Q;U++)F=this[U]||{},F.nodeType===1&&($.cleanData(ei(F,!1)),F.innerHTML=I);F=0}catch{}}F&&this.empty().append(I)},null,C,arguments.length)},replaceWith:function(){var C=[];return Ri(this,arguments,function(I){var F=this.parentNode;$.inArray(this,C)<0&&($.cleanData(ei(this)),F&&F.replaceChild(I,this))},C)}}),$.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(C,I){$.fn[C]=function(F){for(var U,Q=[],se=$(F),fe=se.length-1,me=0;me<=fe;me++)U=me===fe?this:this.clone(!0),$(se[me])[I](U),V.apply(Q,U.get());return this.pushStack(Q)}});var Rr=new RegExp("^("+Os+")(?!px)[a-z%]+$","i"),ol=/^--/,Yd=function(C){var I=C.ownerDocument.defaultView;return(!I||!I.opener)&&(I=c),I.getComputedStyle(C)},Ru=function(C,I,F){var U,Q,se={};for(Q in I)se[Q]=C.style[Q],C.style[Q]=I[Q];U=F.call(C);for(Q in I)C.style[Q]=se[Q];return U},_c=new RegExp(gs.join("|"),"i"),xr="[\\x20\\t\\r\\n\\f]",sl=new RegExp("^"+xr+"+|((?:^|[^\\\\])(?:\\\\.)*)"+xr+"+$","g");(function(){function C(){if(tt){Re.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",tt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Tr.appendChild(Re).appendChild(tt);var pt=c.getComputedStyle(tt);F=pt.top!=="1%",me=I(pt.marginLeft)===12,tt.style.right="60%",se=I(pt.right)===36,U=I(pt.width)===36,tt.style.position="absolute",Q=I(tt.offsetWidth/3)===12,Tr.removeChild(Re),tt=null}}function I(pt){return Math.round(parseFloat(pt))}var F,U,Q,se,fe,me,Re=De.createElement("div"),tt=De.createElement("div");tt.style&&(tt.style.backgroundClip="content-box",tt.cloneNode(!0).style.backgroundClip="",le.clearCloneStyle=tt.style.backgroundClip==="content-box",$.extend(le,{boxSizingReliable:function(){return C(),U},pixelBoxStyles:function(){return C(),se},pixelPosition:function(){return C(),F},reliableMarginLeft:function(){return C(),me},scrollboxSize:function(){return C(),Q},reliableTrDimensions:function(){var pt,Ut,Je,Ot;return fe==null&&(pt=De.createElement("table"),Ut=De.createElement("tr"),Je=De.createElement("div"),pt.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Ut.style.cssText="border:1px solid",Ut.style.height="1px",Je.style.height="9px",Je.style.display="block",Tr.appendChild(pt).appendChild(Ut).appendChild(Je),Ot=c.getComputedStyle(Ut),fe=parseInt(Ot.height,10)+parseInt(Ot.borderTopWidth,10)+parseInt(Ot.borderBottomWidth,10)===Ut.offsetHeight,Tr.removeChild(pt)),fe}}))})();function Ol(C,I,F){var U,Q,se,fe,me=ol.test(I),Re=C.style;return F=F||Yd(C),F&&(fe=F.getPropertyValue(I)||F[I],me&&fe&&(fe=fe.replace(sl,"$1")||void 0),fe===""&&!nl(C)&&(fe=$.style(C,I)),!le.pixelBoxStyles()&&Rr.test(fe)&&_c.test(I)&&(U=Re.width,Q=Re.minWidth,se=Re.maxWidth,Re.minWidth=Re.maxWidth=Re.width=fe,fe=F.width,Re.width=U,Re.minWidth=Q,Re.maxWidth=se)),fe!==void 0?fe+"":fe}function q1(C,I){return{get:function(){if(C()){delete this.get;return}return(this.get=I).apply(this,arguments)}}}var j1=["Webkit","Moz","ms"],Jl=De.createElement("div").style,xp={};function Ze(C){for(var I=C[0].toUpperCase()+C.slice(1),F=j1.length;F--;)if(C=j1[F]+I,C in Jl)return C}function Ii(C){var I=$.cssProps[C]||xp[C];return I||(C in Jl?C:xp[C]=Ze(C)||C)}var Uf=/^(none|table(?!-c[ea]).+)/,Y1={position:"absolute",visibility:"hidden",display:"block"},sg={letterSpacing:"0",fontWeight:"400"};function Ls(C,I,F){var U=yc.exec(I);return U?Math.max(0,U[2]-(F||0))+(U[3]||"px"):I}function zf(C,I,F,U,Q,se){var fe=I==="width"?1:0,me=0,Re=0;if(F===(U?"border":"content"))return 0;for(;fe<4;fe+=2)F==="margin"&&(Re+=$.css(C,F+gs[fe],!0,Q)),U?(F==="content"&&(Re-=$.css(C,"padding"+gs[fe],!0,Q)),F!=="margin"&&(Re-=$.css(C,"border"+gs[fe]+"Width",!0,Q))):(Re+=$.css(C,"padding"+gs[fe],!0,Q),F!=="padding"?Re+=$.css(C,"border"+gs[fe]+"Width",!0,Q):me+=$.css(C,"border"+gs[fe]+"Width",!0,Q));return!U&&se>=0&&(Re+=Math.max(0,Math.ceil(C["offset"+I[0].toUpperCase()+I.slice(1)]-se-Re-me-.5))||0),Re}function Ap(C,I,F){var U=Yd(C),Q=!le.boxSizingReliable()||F,se=Q&&$.css(C,"boxSizing",!1,U)==="border-box",fe=se,me=Ol(C,I,U),Re="offset"+I[0].toUpperCase()+I.slice(1);if(Rr.test(me)){if(!F)return me;me="auto"}return(!le.boxSizingReliable()&&se||!le.reliableTrDimensions()&&he(C,"tr")||me==="auto"||!parseFloat(me)&&$.css(C,"display",!1,U)==="inline")&&C.getClientRects().length&&(se=$.css(C,"boxSizing",!1,U)==="border-box",fe=Re in C,fe&&(me=C[Re])),me=parseFloat(me)||0,me+zf(C,I,F||(se?"border":"content"),fe,U,me)+"px"}$.extend({cssHooks:{opacity:{get:function(C,I){if(I){var F=Ol(C,"opacity");return F===""?"1":F}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(C,I,F,U){if(!(!C||C.nodeType===3||C.nodeType===8||!C.style)){var Q,se,fe,me=bc(I),Re=ol.test(I),tt=C.style;if(Re||(I=Ii(me)),fe=$.cssHooks[I]||$.cssHooks[me],F!==void 0){if(se=typeof F,se==="string"&&(Q=yc.exec(F))&&Q[1]&&(F=js(C,I,Q),se="number"),F==null||F!==F)return;se==="number"&&!Re&&(F+=Q&&Q[3]||($.cssNumber[me]?"":"px")),!le.clearCloneStyle&&F===""&&I.indexOf("background")===0&&(tt[I]="inherit"),(!fe||!("set"in fe)||(F=fe.set(C,F,U))!==void 0)&&(Re?tt.setProperty(I,F):tt[I]=F)}else return fe&&"get"in fe&&(Q=fe.get(C,!1,U))!==void 0?Q:tt[I]}},css:function(C,I,F,U){var Q,se,fe,me=bc(I),Re=ol.test(I);return Re||(I=Ii(me)),fe=$.cssHooks[I]||$.cssHooks[me],fe&&"get"in fe&&(Q=fe.get(C,!0,F)),Q===void 0&&(Q=Ol(C,I,U)),Q==="normal"&&I in sg&&(Q=sg[I]),F===""||F?(se=parseFloat(Q),F===!0||isFinite(se)?se||0:Q):Q}}),$.each(["height","width"],function(C,I){$.cssHooks[I]={get:function(F,U,Q){if(U)return Uf.test($.css(F,"display"))&&(!F.getClientRects().length||!F.getBoundingClientRect().width)?Ru(F,Y1,function(){return Ap(F,I,Q)}):Ap(F,I,Q)},set:function(F,U,Q){var se,fe=Yd(F),me=!le.scrollboxSize()&&fe.position==="absolute",Re=me||Q,tt=Re&&$.css(F,"boxSizing",!1,fe)==="border-box",pt=Q?zf(F,I,Q,tt,fe):0;return tt&&me&&(pt-=Math.ceil(F["offset"+I[0].toUpperCase()+I.slice(1)]-parseFloat(fe[I])-zf(F,I,"border",!1,fe)-.5)),pt&&(se=yc.exec(U))&&(se[3]||"px")!=="px"&&(F.style[I]=U,U=$.css(F,I)),Ls(F,U,pt)}}}),$.cssHooks.marginLeft=q1(le.reliableMarginLeft,function(C,I){if(I)return(parseFloat(Ol(C,"marginLeft"))||C.getBoundingClientRect().left-Ru(C,{marginLeft:0},function(){return C.getBoundingClientRect().left}))+"px"}),$.each({margin:"",padding:"",border:"Width"},function(C,I){$.cssHooks[C+I]={expand:function(F){for(var U=0,Q={},se=typeof F=="string"?F.split(" "):[F];U<4;U++)Q[C+gs[U]+I]=se[U]||se[U-2]||se[0];return Q}},C!=="margin"&&($.cssHooks[C+I].set=Ls)}),$.fn.extend({css:function(C,I){return os(this,function(F,U,Q){var se,fe,me={},Re=0;if(Array.isArray(U)){for(se=Yd(F),fe=U.length;Re<fe;Re++)me[U[Re]]=$.css(F,U[Re],!1,se);return me}return Q!==void 0?$.style(F,U,Q):$.css(F,U)},C,I,arguments.length>1)}});function oa(C,I,F,U,Q){return new oa.prototype.init(C,I,F,U,Q)}$.Tween=oa,oa.prototype={constructor:oa,init:function(C,I,F,U,Q,se){this.elem=C,this.prop=F,this.easing=Q||$.easing._default,this.options=I,this.start=this.now=this.cur(),this.end=U,this.unit=se||($.cssNumber[F]?"":"px")},cur:function(){var C=oa.propHooks[this.prop];return C&&C.get?C.get(this):oa.propHooks._default.get(this)},run:function(C){var I,F=oa.propHooks[this.prop];return this.options.duration?this.pos=I=$.easing[this.easing](C,this.options.duration*C,0,1,this.options.duration):this.pos=I=C,this.now=(this.end-this.start)*I+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),F&&F.set?F.set(this):oa.propHooks._default.set(this),this}},oa.prototype.init.prototype=oa.prototype,oa.propHooks={_default:{get:function(C){var I;return C.elem.nodeType!==1||C.elem[C.prop]!=null&&C.elem.style[C.prop]==null?C.elem[C.prop]:(I=$.css(C.elem,C.prop,""),!I||I==="auto"?0:I)},set:function(C){$.fx.step[C.prop]?$.fx.step[C.prop](C):C.elem.nodeType===1&&($.cssHooks[C.prop]||C.elem.style[Ii(C.prop)]!=null)?$.style(C.elem,C.prop,C.now+C.unit):C.elem[C.prop]=C.now}}},oa.propHooks.scrollTop=oa.propHooks.scrollLeft={set:function(C){C.elem.nodeType&&C.elem.parentNode&&(C.elem[C.prop]=C.now)}},$.easing={linear:function(C){return C},swing:function(C){return .5-Math.cos(C*Math.PI)/2},_default:"swing"},$.fx=oa.prototype.init,$.fx.step={};var Rl,ti,vi=/^(?:toggle|show|hide)$/,Iu=/queueHooks$/;function oc(){ti&&(De.hidden===!1&&c.requestAnimationFrame?c.requestAnimationFrame(oc):c.setTimeout(oc,$.fx.interval),$.fx.tick())}function Du(){return c.setTimeout(function(){Rl=void 0}),Rl=Date.now()}function eu(C,I){var F,U=0,Q={height:C};for(I=I?1:0;U<4;U+=2-I)F=gs[U],Q["margin"+F]=Q["padding"+F]=C;return I&&(Q.opacity=Q.width=C),Q}function Kd(C,I,F){for(var U,Q=(rl.tweeners[I]||[]).concat(rl.tweeners["*"]),se=0,fe=Q.length;se<fe;se++)if(U=Q[se].call(F,I,C))return U}function Es(C,I,F){var U,Q,se,fe,me,Re,tt,pt,Ut="width"in I||"height"in I,Je=this,Ot={},Zn=C.style,Hn=C.nodeType&&tr(C),vn=qt.get(C,"fxshow");F.queue||(fe=$._queueHooks(C,"fx"),fe.unqueued==null&&(fe.unqueued=0,me=fe.empty.fire,fe.empty.fire=function(){fe.unqueued||me()}),fe.unqueued++,Je.always(function(){Je.always(function(){fe.unqueued--,$.queue(C,"fx").length||fe.empty.fire()})}));for(U in I)if(Q=I[U],vi.test(Q)){if(delete I[U],se=se||Q==="toggle",Q===(Hn?"hide":"show"))if(Q==="show"&&vn&&vn[U]!==void 0)Hn=!0;else continue;Ot[U]=vn&&vn[U]||$.style(C,U)}if(Re=!$.isEmptyObject(I),!(!Re&&$.isEmptyObject(Ot))){Ut&&C.nodeType===1&&(F.overflow=[Zn.overflow,Zn.overflowX,Zn.overflowY],tt=vn&&vn.display,tt==null&&(tt=qt.get(C,"display")),pt=$.css(C,"display"),pt==="none"&&(tt?pt=tt:(Rs([C],!0),tt=C.style.display||tt,pt=$.css(C,"display"),Rs([C]))),(pt==="inline"||pt==="inline-block"&&tt!=null)&&$.css(C,"float")==="none"&&(Re||(Je.done(function(){Zn.display=tt}),tt==null&&(pt=Zn.display,tt=pt==="none"?"":pt)),Zn.display="inline-block")),F.overflow&&(Zn.overflow="hidden",Je.always(function(){Zn.overflow=F.overflow[0],Zn.overflowX=F.overflow[1],Zn.overflowY=F.overflow[2]})),Re=!1;for(U in Ot)Re||(vn?"hidden"in vn&&(Hn=vn.hidden):vn=qt.access(C,"fxshow",{display:tt}),se&&(vn.hidden=!Hn),Hn&&Rs([C],!0),Je.done(function(){Hn||Rs([C]),qt.remove(C,"fxshow");for(U in Ot)$.style(C,U,Ot[U])})),Re=Kd(Hn?vn[U]:0,U,Je),U in vn||(vn[U]=Re.start,Hn&&(Re.end=Re.start,Re.start=0))}}function pa(C,I){var F,U,Q,se,fe;for(F in C)if(U=bc(F),Q=I[U],se=C[F],Array.isArray(se)&&(Q=se[1],se=C[F]=se[0]),F!==U&&(C[U]=se,delete C[F]),fe=$.cssHooks[U],fe&&"expand"in fe){se=fe.expand(se),delete C[U];for(F in se)F in C||(C[F]=se[F],I[F]=Q)}else I[U]=Q}function rl(C,I,F){var U,Q,se=0,fe=rl.prefilters.length,me=$.Deferred().always(function(){delete Re.elem}),Re=function(){if(Q)return!1;for(var Ut=Rl||Du(),Je=Math.max(0,tt.startTime+tt.duration-Ut),Ot=Je/tt.duration||0,Zn=1-Ot,Hn=0,vn=tt.tweens.length;Hn<vn;Hn++)tt.tweens[Hn].run(Zn);return me.notifyWith(C,[tt,Zn,Je]),Zn<1&&vn?Je:(vn||me.notifyWith(C,[tt,1,0]),me.resolveWith(C,[tt]),!1)},tt=me.promise({elem:C,props:$.extend({},I),opts:$.extend(!0,{specialEasing:{},easing:$.easing._default},F),originalProperties:I,originalOptions:F,startTime:Rl||Du(),duration:F.duration,tweens:[],createTween:function(Ut,Je){var Ot=$.Tween(C,tt.opts,Ut,Je,tt.opts.specialEasing[Ut]||tt.opts.easing);return tt.tweens.push(Ot),Ot},stop:function(Ut){var Je=0,Ot=Ut?tt.tweens.length:0;if(Q)return this;for(Q=!0;Je<Ot;Je++)tt.tweens[Je].run(1);return Ut?(me.notifyWith(C,[tt,1,0]),me.resolveWith(C,[tt,Ut])):me.rejectWith(C,[tt,Ut]),this}}),pt=tt.props;for(pa(pt,tt.opts.specialEasing);se<fe;se++)if(U=rl.prefilters[se].call(tt,C,pt,tt.opts),U)return de(U.stop)&&($._queueHooks(tt.elem,tt.opts.queue).stop=U.stop.bind(U)),U;return $.map(pt,Kd,tt),de(tt.opts.start)&&tt.opts.start.call(C,tt),tt.progress(tt.opts.progress).done(tt.opts.done,tt.opts.complete).fail(tt.opts.fail).always(tt.opts.always),$.fx.timer($.extend(Re,{elem:C,anim:tt,queue:tt.opts.queue})),tt}$.Animation=$.extend(rl,{tweeners:{"*":[function(C,I){var F=this.createTween(C,I);return js(F.elem,C,yc.exec(I),F),F}]},tweener:function(C,I){de(C)?(I=C,C=["*"]):C=C.match(Ve);for(var F,U=0,Q=C.length;U<Q;U++)F=C[U],rl.tweeners[F]=rl.tweeners[F]||[],rl.tweeners[F].unshift(I)},prefilters:[Es],prefilter:function(C,I){I?rl.prefilters.unshift(C):rl.prefilters.push(C)}}),$.speed=function(C,I,F){var U=C&&typeof C=="object"?$.extend({},C):{complete:F||!F&&I||de(C)&&C,duration:C,easing:F&&I||I&&!de(I)&&I};return $.fx.off?U.duration=0:typeof U.duration!="number"&&(U.duration in $.fx.speeds?U.duration=$.fx.speeds[U.duration]:U.duration=$.fx.speeds._default),(U.queue==null||U.queue===!0)&&(U.queue="fx"),U.old=U.complete,U.complete=function(){de(U.old)&&U.old.call(this),U.queue&&$.dequeue(this,U.queue)},U},$.fn.extend({fadeTo:function(C,I,F,U){return this.filter(tr).css("opacity",0).show().end().animate({opacity:I},C,F,U)},animate:function(C,I,F,U){var Q=$.isEmptyObject(C),se=$.speed(I,F,U),fe=function(){var me=rl(this,$.extend({},C),se);(Q||qt.get(this,"finish"))&&me.stop(!0)};return fe.finish=fe,Q||se.queue===!1?this.each(fe):this.queue(se.queue,fe)},stop:function(C,I,F){var U=function(Q){var se=Q.stop;delete Q.stop,se(F)};return typeof C!="string"&&(F=I,I=C,C=void 0),I&&this.queue(C||"fx",[]),this.each(function(){var Q=!0,se=C!=null&&C+"queueHooks",fe=$.timers,me=qt.get(this);if(se)me[se]&&me[se].stop&&U(me[se]);else for(se in me)me[se]&&me[se].stop&&Iu.test(se)&&U(me[se]);for(se=fe.length;se--;)fe[se].elem===this&&(C==null||fe[se].queue===C)&&(fe[se].anim.stop(F),Q=!1,fe.splice(se,1));(Q||!F)&&$.dequeue(this,C)})},finish:function(C){return C!==!1&&(C=C||"fx"),this.each(function(){var I,F=qt.get(this),U=F[C+"queue"],Q=F[C+"queueHooks"],se=$.timers,fe=U?U.length:0;for(F.finish=!0,$.queue(this,C,[]),Q&&Q.stop&&Q.stop.call(this,!0),I=se.length;I--;)se[I].elem===this&&se[I].queue===C&&(se[I].anim.stop(!0),se.splice(I,1));for(I=0;I<fe;I++)U[I]&&U[I].finish&&U[I].finish.call(this);delete F.finish})}}),$.each(["toggle","show","hide"],function(C,I){var F=$.fn[I];$.fn[I]=function(U,Q,se){return U==null||typeof U=="boolean"?F.apply(this,arguments):this.animate(eu(I,!0),U,Q,se)}}),$.each({slideDown:eu("show"),slideUp:eu("hide"),slideToggle:eu("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(C,I){$.fn[C]=function(F,U,Q){return this.animate(I,F,U,Q)}}),$.timers=[],$.fx.tick=function(){var C,I=0,F=$.timers;for(Rl=Date.now();I<F.length;I++)C=F[I],!C()&&F[I]===C&&F.splice(I--,1);F.length||$.fx.stop(),Rl=void 0},$.fx.timer=function(C){$.timers.push(C),$.fx.start()},$.fx.interval=13,$.fx.start=function(){ti||(ti=!0,oc())},$.fx.stop=function(){ti=null},$.fx.speeds={slow:600,fast:200,_default:400},$.fn.delay=function(C,I){return C=$.fx&&$.fx.speeds[C]||C,I=I||"fx",this.queue(I,function(F,U){var Q=c.setTimeout(F,C);U.stop=function(){c.clearTimeout(Q)}})},function(){var C=De.createElement("input"),I=De.createElement("select"),F=I.appendChild(De.createElement("option"));C.type="checkbox",le.checkOn=C.value!=="",le.optSelected=F.selected,C=De.createElement("input"),C.value="t",C.type="radio",le.radioValue=C.value==="t"}();var dd,Lc=$.expr.attrHandle;$.fn.extend({attr:function(C,I){return os(this,$.attr,C,I,arguments.length>1)},removeAttr:function(C){return this.each(function(){$.removeAttr(this,C)})}}),$.extend({attr:function(C,I,F){var U,Q,se=C.nodeType;if(!(se===3||se===8||se===2)){if(typeof C.getAttribute>"u")return $.prop(C,I,F);if((se!==1||!$.isXMLDoc(C))&&(Q=$.attrHooks[I.toLowerCase()]||($.expr.match.bool.test(I)?dd:void 0)),F!==void 0){if(F===null){$.removeAttr(C,I);return}return Q&&"set"in Q&&(U=Q.set(C,F,I))!==void 0?U:(C.setAttribute(I,F+""),F)}return Q&&"get"in Q&&(U=Q.get(C,I))!==null?U:(U=$.find.attr(C,I),U??void 0)}},attrHooks:{type:{set:function(C,I){if(!le.radioValue&&I==="radio"&&he(C,"input")){var F=C.value;return C.setAttribute("type",I),F&&(C.value=F),I}}}},removeAttr:function(C,I){var F,U=0,Q=I&&I.match(Ve);if(Q&&C.nodeType===1)for(;F=Q[U++];)C.removeAttribute(F)}}),dd={set:function(C,I,F){return I===!1?$.removeAttr(C,F):C.setAttribute(F,F),F}},$.each($.expr.match.bool.source.match(/\w+/g),function(C,I){var F=Lc[I]||$.find.attr;Lc[I]=function(U,Q,se){var fe,me,Re=Q.toLowerCase();return se||(me=Lc[Re],Lc[Re]=fe,fe=F(U,Q,se)!=null?Re:null,Lc[Re]=me),fe}});var wc=/^(?:input|select|textarea|button)$/i,vr=/^(?:a|area)$/i;$.fn.extend({prop:function(C,I){return os(this,$.prop,C,I,arguments.length>1)},removeProp:function(C){return this.each(function(){delete this[$.propFix[C]||C]})}}),$.extend({prop:function(C,I,F){var U,Q,se=C.nodeType;if(!(se===3||se===8||se===2))return(se!==1||!$.isXMLDoc(C))&&(I=$.propFix[I]||I,Q=$.propHooks[I]),F!==void 0?Q&&"set"in Q&&(U=Q.set(C,F,I))!==void 0?U:C[I]=F:Q&&"get"in Q&&(U=Q.get(C,I))!==null?U:C[I]},propHooks:{tabIndex:{get:function(C){var I=$.find.attr(C,"tabindex");return I?parseInt(I,10):wc.test(C.nodeName)||vr.test(C.nodeName)&&C.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),le.optSelected||($.propHooks.selected={get:function(C){var I=C.parentNode;return I&&I.parentNode&&I.parentNode.selectedIndex,null},set:function(C){var I=C.parentNode;I&&(I.selectedIndex,I.parentNode&&I.parentNode.selectedIndex)}}),$.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){$.propFix[this.toLowerCase()]=this});function Xd(C){var I=C.match(Ve)||[];return I.join(" ")}function Mu(C){return C.getAttribute&&C.getAttribute("class")||""}function us(C){return Array.isArray(C)?C:typeof C=="string"?C.match(Ve)||[]:[]}$.fn.extend({addClass:function(C){var I,F,U,Q,se,fe;return de(C)?this.each(function(me){$(this).addClass(C.call(this,me,Mu(this)))}):(I=us(C),I.length?this.each(function(){if(U=Mu(this),F=this.nodeType===1&&" "+Xd(U)+" ",F){for(se=0;se<I.length;se++)Q=I[se],F.indexOf(" "+Q+" ")<0&&(F+=Q+" ");fe=Xd(F),U!==fe&&this.setAttribute("class",fe)}}):this)},removeClass:function(C){var I,F,U,Q,se,fe;return de(C)?this.each(function(me){$(this).removeClass(C.call(this,me,Mu(this)))}):arguments.length?(I=us(C),I.length?this.each(function(){if(U=Mu(this),F=this.nodeType===1&&" "+Xd(U)+" ",F){for(se=0;se<I.length;se++)for(Q=I[se];F.indexOf(" "+Q+" ")>-1;)F=F.replace(" "+Q+" "," ");fe=Xd(F),U!==fe&&this.setAttribute("class",fe)}}):this):this.attr("class","")},toggleClass:function(C,I){var F,U,Q,se,fe=typeof C,me=fe==="string"||Array.isArray(C);return de(C)?this.each(function(Re){$(this).toggleClass(C.call(this,Re,Mu(this),I),I)}):typeof I=="boolean"&&me?I?this.addClass(C):this.removeClass(C):(F=us(C),this.each(function(){if(me)for(se=$(this),Q=0;Q<F.length;Q++)U=F[Q],se.hasClass(U)?se.removeClass(U):se.addClass(U);else(C===void 0||fe==="boolean")&&(U=Mu(this),U&&qt.set(this,"__className__",U),this.setAttribute&&this.setAttribute("class",U||C===!1?"":qt.get(this,"__className__")||""))}))},hasClass:function(C){var I,F,U=0;for(I=" "+C+" ";F=this[U++];)if(F.nodeType===1&&(" "+Xd(Mu(F))+" ").indexOf(I)>-1)return!0;return!1}});var sc=/\r/g;$.fn.extend({val:function(C){var I,F,U,Q=this[0];return arguments.length?(U=de(C),this.each(function(se){var fe;this.nodeType===1&&(U?fe=C.call(this,se,$(this).val()):fe=C,fe==null?fe="":typeof fe=="number"?fe+="":Array.isArray(fe)&&(fe=$.map(fe,function(me){return me==null?"":me+""})),I=$.valHooks[this.type]||$.valHooks[this.nodeName.toLowerCase()],(!I||!("set"in I)||I.set(this,fe,"value")===void 0)&&(this.value=fe))})):Q?(I=$.valHooks[Q.type]||$.valHooks[Q.nodeName.toLowerCase()],I&&"get"in I&&(F=I.get(Q,"value"))!==void 0?F:(F=Q.value,typeof F=="string"?F.replace(sc,""):F??"")):void 0}}),$.extend({valHooks:{option:{get:function(C){var I=$.find.attr(C,"value");return I??Xd($.text(C))}},select:{get:function(C){var I,F,U,Q=C.options,se=C.selectedIndex,fe=C.type==="select-one",me=fe?null:[],Re=fe?se+1:Q.length;for(se<0?U=Re:U=fe?se:0;U<Re;U++)if(F=Q[U],(F.selected||U===se)&&!F.disabled&&(!F.parentNode.disabled||!he(F.parentNode,"optgroup"))){if(I=$(F).val(),fe)return I;me.push(I)}return me},set:function(C,I){for(var F,U,Q=C.options,se=$.makeArray(I),fe=Q.length;fe--;)U=Q[fe],(U.selected=$.inArray($.valHooks.option.get(U),se)>-1)&&(F=!0);return F||(C.selectedIndex=-1),se}}}}),$.each(["radio","checkbox"],function(){$.valHooks[this]={set:function(C,I){if(Array.isArray(I))return C.checked=$.inArray($(C).val(),I)>-1}},le.checkOn||($.valHooks[this].get=function(C){return C.getAttribute("value")===null?"on":C.value})}),le.focusin="onfocusin"in c;var Di=/^(?:focusinfocus|focusoutblur)$/,bi=function(C){C.stopPropagation()};$.extend($.event,{trigger:function(C,I,F,U){var Q,se,fe,me,Re,tt,pt,Ut,Je=[F||De],Ot=re.call(C,"type")?C.type:C,Zn=re.call(C,"namespace")?C.namespace.split("."):[];if(se=Ut=fe=F=F||De,!(F.nodeType===3||F.nodeType===8)&&!Di.test(Ot+$.event.triggered)&&(Ot.indexOf(".")>-1&&(Zn=Ot.split("."),Ot=Zn.shift(),Zn.sort()),Re=Ot.indexOf(":")<0&&"on"+Ot,C=C[$.expando]?C:new $.Event(Ot,typeof C=="object"&&C),C.isTrigger=U?2:3,C.namespace=Zn.join("."),C.rnamespace=C.namespace?new RegExp("(^|\\.)"+Zn.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,C.result=void 0,C.target||(C.target=F),I=I==null?[C]:$.makeArray(I,[C]),pt=$.event.special[Ot]||{},!(!U&&pt.trigger&&pt.trigger.apply(F,I)===!1))){if(!U&&!pt.noBubble&&!Ee(F)){for(me=pt.delegateType||Ot,Di.test(me+Ot)||(se=se.parentNode);se;se=se.parentNode)Je.push(se),fe=se;fe===(F.ownerDocument||De)&&Je.push(fe.defaultView||fe.parentWindow||c)}for(Q=0;(se=Je[Q++])&&!C.isPropagationStopped();)Ut=se,C.type=Q>1?me:pt.bindType||Ot,tt=(qt.get(se,"events")||Object.create(null))[C.type]&&qt.get(se,"handle"),tt&&tt.apply(se,I),tt=Re&&se[Re],tt&&tt.apply&&Dn(se)&&(C.result=tt.apply(se,I),C.result===!1&&C.preventDefault());return C.type=Ot,!U&&!C.isDefaultPrevented()&&(!pt._default||pt._default.apply(Je.pop(),I)===!1)&&Dn(F)&&Re&&de(F[Ot])&&!Ee(F)&&(fe=F[Re],fe&&(F[Re]=null),$.event.triggered=Ot,C.isPropagationStopped()&&Ut.addEventListener(Ot,bi),F[Ot](),C.isPropagationStopped()&&Ut.removeEventListener(Ot,bi),$.event.triggered=void 0,fe&&(F[Re]=fe)),C.result}},simulate:function(C,I,F){var U=$.extend(new $.Event,F,{type:C,isSimulated:!0});$.event.trigger(U,null,I)}}),$.fn.extend({trigger:function(C,I){return this.each(function(){$.event.trigger(C,I,this)})},triggerHandler:function(C,I){var F=this[0];if(F)return $.event.trigger(C,I,F,!0)}}),le.focusin||$.each({focus:"focusin",blur:"focusout"},function(C,I){var F=function(U){$.event.simulate(I,U.target,$.event.fix(U))};$.event.special[I]={setup:function(){var U=this.ownerDocument||this.document||this,Q=qt.access(U,I);Q||U.addEventListener(C,F,!0),qt.access(U,I,(Q||0)+1)},teardown:function(){var U=this.ownerDocument||this.document||this,Q=qt.access(U,I)-1;Q?qt.access(U,I,Q):(U.removeEventListener(C,F,!0),qt.remove(U,I))}}});var ku=c.location,fd={guid:Date.now()},Cc=/\?/;$.parseXML=function(C){var I,F;if(!C||typeof C!="string")return null;try{I=new c.DOMParser().parseFromString(C,"text/xml")}catch{}return F=I&&I.getElementsByTagName("parsererror")[0],(!I||F)&&$.error("Invalid XML: "+(F?$.map(F.childNodes,function(U){return U.textContent}).join(`
`):C)),I};var Bc=/\[\]$/,Uh=/\r?\n/g,rg=/^(?:submit|button|image|reset|file)$/i,K1=/^(?:input|select|textarea|keygen)/i;function $c(C,I,F,U){var Q;if(Array.isArray(I))$.each(I,function(se,fe){F||Bc.test(C)?U(C,fe):$c(C+"["+(typeof fe=="object"&&fe!=null?se:"")+"]",fe,F,U)});else if(!F&&Le(I)==="object")for(Q in I)$c(C+"["+Q+"]",I[Q],F,U);else U(C,I)}$.param=function(C,I){var F,U=[],Q=function(se,fe){var me=de(fe)?fe():fe;U[U.length]=encodeURIComponent(se)+"="+encodeURIComponent(me??"")};if(C==null)return"";if(Array.isArray(C)||C.jquery&&!$.isPlainObject(C))$.each(C,function(){Q(this.name,this.value)});else for(F in C)$c(F,C[F],I,Q);return U.join("&")},$.fn.extend({serialize:function(){return $.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var C=$.prop(this,"elements");return C?$.makeArray(C):this}).filter(function(){var C=this.type;return this.name&&!$(this).is(":disabled")&&K1.test(this.nodeName)&&!rg.test(C)&&(this.checked||!xl.test(C))}).map(function(C,I){var F=$(this).val();return F==null?null:Array.isArray(F)?$.map(F,function(U){return{name:I.name,value:U.replace(Uh,`\r
`)}}):{name:I.name,value:F.replace(Uh,`\r
`)}}).get()}});var hd=/%20/g,ig=/#.*$/,Op=/([?&])_=[^&]*/,ag=/^(.*?):[ \t]*([^\r\n]*)$/mg,cg=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,X1=/^(?:GET|HEAD)$/,Wf=/^\/\//,va={},Wi={},md="*/".concat("*"),lg=De.createElement("a");lg.href=ku.href;function Q1(C){return function(I,F){typeof I!="string"&&(F=I,I="*");var U,Q=0,se=I.toLowerCase().match(Ve)||[];if(de(F))for(;U=se[Q++];)U[0]==="+"?(U=U.slice(1)||"*",(C[U]=C[U]||[]).unshift(F)):(C[U]=C[U]||[]).push(F)}}function Bs(C,I,F,U){var Q={},se=C===Wi;function fe(me){var Re;return Q[me]=!0,$.each(C[me]||[],function(tt,pt){var Ut=pt(I,F,U);if(typeof Ut=="string"&&!se&&!Q[Ut])return I.dataTypes.unshift(Ut),fe(Ut),!1;if(se)return!(Re=Ut)}),Re}return fe(I.dataTypes[0])||!Q["*"]&&fe("*")}function br(C,I){var F,U,Q=$.ajaxSettings.flatOptions||{};for(F in I)I[F]!==void 0&&((Q[F]?C:U||(U={}))[F]=I[F]);return U&&$.extend(!0,C,U),C}function rc(C,I,F){for(var U,Q,se,fe,me=C.contents,Re=C.dataTypes;Re[0]==="*";)Re.shift(),U===void 0&&(U=C.mimeType||I.getResponseHeader("Content-Type"));if(U){for(Q in me)if(me[Q]&&me[Q].test(U)){Re.unshift(Q);break}}if(Re[0]in F)se=Re[0];else{for(Q in F){if(!Re[0]||C.converters[Q+" "+Re[0]]){se=Q;break}fe||(fe=Q)}se=se||fe}if(se)return se!==Re[0]&&Re.unshift(se),F[se]}function Gi(C,I,F,U){var Q,se,fe,me,Re,tt={},pt=C.dataTypes.slice();if(pt[1])for(fe in C.converters)tt[fe.toLowerCase()]=C.converters[fe];for(se=pt.shift();se;)if(C.responseFields[se]&&(F[C.responseFields[se]]=I),!Re&&U&&C.dataFilter&&(I=C.dataFilter(I,C.dataType)),Re=se,se=pt.shift(),se){if(se==="*")se=Re;else if(Re!=="*"&&Re!==se){if(fe=tt[Re+" "+se]||tt["* "+se],!fe){for(Q in tt)if(me=Q.split(" "),me[1]===se&&(fe=tt[Re+" "+me[0]]||tt["* "+me[0]],fe)){fe===!0?fe=tt[Q]:tt[Q]!==!0&&(se=me[0],pt.unshift(me[1]));break}}if(fe!==!0)if(fe&&C.throws)I=fe(I);else try{I=fe(I)}catch(Ut){return{state:"parsererror",error:fe?Ut:"No conversion from "+Re+" to "+se}}}}return{state:"success",data:I}}$.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ku.href,type:"GET",isLocal:cg.test(ku.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":md,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":$.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(C,I){return I?br(br(C,$.ajaxSettings),I):br($.ajaxSettings,C)},ajaxPrefilter:Q1(va),ajaxTransport:Q1(Wi),ajax:function(C,I){typeof C=="object"&&(I=C,C=void 0),I=I||{};var F,U,Q,se,fe,me,Re,tt,pt,Ut,Je=$.ajaxSetup({},I),Ot=Je.context||Je,Zn=Je.context&&(Ot.nodeType||Ot.jquery)?$(Ot):$.event,Hn=$.Deferred(),vn=$.Callbacks("once memory"),lr=Je.statusCode||{},ni={},cs={},Wn="canceled",jn={readyState:0,getResponseHeader:function(To){var yr;if(Re){if(!se)for(se={};yr=ag.exec(Q);)se[yr[1].toLowerCase()+" "]=(se[yr[1].toLowerCase()+" "]||[]).concat(yr[2]);yr=se[To.toLowerCase()+" "]}return yr==null?null:yr.join(", ")},getAllResponseHeaders:function(){return Re?Q:null},setRequestHeader:function(To,yr){return Re==null&&(To=cs[To.toLowerCase()]=cs[To.toLowerCase()]||To,ni[To]=yr),this},overrideMimeType:function(To){return Re==null&&(Je.mimeType=To),this},statusCode:function(To){var yr;if(To)if(Re)jn.always(To[jn.status]);else for(yr in To)lr[yr]=[lr[yr],To[yr]];return this},abort:function(To){var yr=To||Wn;return F&&F.abort(yr),Zi(0,yr),this}};if(Hn.promise(jn),Je.url=((C||Je.url||ku.href)+"").replace(Wf,ku.protocol+"//"),Je.type=I.method||I.type||Je.method||Je.type,Je.dataTypes=(Je.dataType||"*").toLowerCase().match(Ve)||[""],Je.crossDomain==null){me=De.createElement("a");try{me.href=Je.url,me.href=me.href,Je.crossDomain=lg.protocol+"//"+lg.host!=me.protocol+"//"+me.host}catch{Je.crossDomain=!0}}if(Je.data&&Je.processData&&typeof Je.data!="string"&&(Je.data=$.param(Je.data,Je.traditional)),Bs(va,Je,I,jn),Re)return jn;tt=$.event&&Je.global,tt&&$.active++===0&&$.event.trigger("ajaxStart"),Je.type=Je.type.toUpperCase(),Je.hasContent=!X1.test(Je.type),U=Je.url.replace(ig,""),Je.hasContent?Je.data&&Je.processData&&(Je.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Je.data=Je.data.replace(hd,"+")):(Ut=Je.url.slice(U.length),Je.data&&(Je.processData||typeof Je.data=="string")&&(U+=(Cc.test(U)?"&":"?")+Je.data,delete Je.data),Je.cache===!1&&(U=U.replace(Op,"$1"),Ut=(Cc.test(U)?"&":"?")+"_="+fd.guid+++Ut),Je.url=U+Ut),Je.ifModified&&($.lastModified[U]&&jn.setRequestHeader("If-Modified-Since",$.lastModified[U]),$.etag[U]&&jn.setRequestHeader("If-None-Match",$.etag[U])),(Je.data&&Je.hasContent&&Je.contentType!==!1||I.contentType)&&jn.setRequestHeader("Content-Type",Je.contentType),jn.setRequestHeader("Accept",Je.dataTypes[0]&&Je.accepts[Je.dataTypes[0]]?Je.accepts[Je.dataTypes[0]]+(Je.dataTypes[0]!=="*"?", "+md+"; q=0.01":""):Je.accepts["*"]);for(pt in Je.headers)jn.setRequestHeader(pt,Je.headers[pt]);if(Je.beforeSend&&(Je.beforeSend.call(Ot,jn,Je)===!1||Re))return jn.abort();if(Wn="abort",vn.add(Je.complete),jn.done(Je.success),jn.fail(Je.error),F=Bs(Wi,Je,I,jn),!F)Zi(-1,"No Transport");else{if(jn.readyState=1,tt&&Zn.trigger("ajaxSend",[jn,Je]),Re)return jn;Je.async&&Je.timeout>0&&(fe=c.setTimeout(function(){jn.abort("timeout")},Je.timeout));try{Re=!1,F.send(ni,Zi)}catch(To){if(Re)throw To;Zi(-1,To)}}function Zi(To,yr,Nu,$s){var nr,Pr,Fc,yi,Jo,ur=yr;Re||(Re=!0,fe&&c.clearTimeout(fe),F=void 0,Q=$s||"",jn.readyState=To>0?4:0,nr=To>=200&&To<300||To===304,Nu&&(yi=rc(Je,jn,Nu)),!nr&&$.inArray("script",Je.dataTypes)>-1&&$.inArray("json",Je.dataTypes)<0&&(Je.converters["text script"]=function(){}),yi=Gi(Je,yi,jn,nr),nr?(Je.ifModified&&(Jo=jn.getResponseHeader("Last-Modified"),Jo&&($.lastModified[U]=Jo),Jo=jn.getResponseHeader("etag"),Jo&&($.etag[U]=Jo)),To===204||Je.type==="HEAD"?ur="nocontent":To===304?ur="notmodified":(ur=yi.state,Pr=yi.data,Fc=yi.error,nr=!Fc)):(Fc=ur,(To||!ur)&&(ur="error",To<0&&(To=0))),jn.status=To,jn.statusText=(yr||ur)+"",nr?Hn.resolveWith(Ot,[Pr,ur,jn]):Hn.rejectWith(Ot,[jn,ur,Fc]),jn.statusCode(lr),lr=void 0,tt&&Zn.trigger(nr?"ajaxSuccess":"ajaxError",[jn,Je,nr?Pr:Fc]),vn.fireWith(Ot,[jn,ur]),tt&&(Zn.trigger("ajaxComplete",[jn,Je]),--$.active||$.event.trigger("ajaxStop")))}return jn},getJSON:function(C,I,F){return $.get(C,I,F,"json")},getScript:function(C,I){return $.get(C,void 0,I,"script")}}),$.each(["get","post"],function(C,I){$[I]=function(F,U,Q,se){return de(U)&&(se=se||Q,Q=U,U=void 0),$.ajax($.extend({url:F,type:I,dataType:se,data:U,success:Q},$.isPlainObject(F)&&F))}}),$.ajaxPrefilter(function(C){var I;for(I in C.headers)I.toLowerCase()==="content-type"&&(C.contentType=C.headers[I]||"")}),$._evalUrl=function(C,I,F){return $.ajax({url:C,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(U){$.globalEval(U,I,F)}})},$.fn.extend({wrapAll:function(C){var I;return this[0]&&(de(C)&&(C=C.call(this[0])),I=$(C,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&I.insertBefore(this[0]),I.map(function(){for(var F=this;F.firstElementChild;)F=F.firstElementChild;return F}).append(this)),this},wrapInner:function(C){return de(C)?this.each(function(I){$(this).wrapInner(C.call(this,I))}):this.each(function(){var I=$(this),F=I.contents();F.length?F.wrapAll(C):I.append(C)})},wrap:function(C){var I=de(C);return this.each(function(F){$(this).wrapAll(I?C.call(this,F):C)})},unwrap:function(C){return this.parent(C).not("body").each(function(){$(this).replaceWith(this.childNodes)}),this}}),$.expr.pseudos.hidden=function(C){return!$.expr.pseudos.visible(C)},$.expr.pseudos.visible=function(C){return!!(C.offsetWidth||C.offsetHeight||C.getClientRects().length)},$.ajaxSettings.xhr=function(){try{return new c.XMLHttpRequest}catch{}};var tu={0:200,1223:204},il=$.ajaxSettings.xhr();le.cors=!!il&&"withCredentials"in il,le.ajax=il=!!il,$.ajaxTransport(function(C){var I,F;if(le.cors||il&&!C.crossDomain)return{send:function(U,Q){var se,fe=C.xhr();if(fe.open(C.type,C.url,C.async,C.username,C.password),C.xhrFields)for(se in C.xhrFields)fe[se]=C.xhrFields[se];C.mimeType&&fe.overrideMimeType&&fe.overrideMimeType(C.mimeType),!C.crossDomain&&!U["X-Requested-With"]&&(U["X-Requested-With"]="XMLHttpRequest");for(se in U)fe.setRequestHeader(se,U[se]);I=function(me){return function(){I&&(I=F=fe.onload=fe.onerror=fe.onabort=fe.ontimeout=fe.onreadystatechange=null,me==="abort"?fe.abort():me==="error"?typeof fe.status!="number"?Q(0,"error"):Q(fe.status,fe.statusText):Q(tu[fe.status]||fe.status,fe.statusText,(fe.responseType||"text")!=="text"||typeof fe.responseText!="string"?{binary:fe.response}:{text:fe.responseText},fe.getAllResponseHeaders()))}},fe.onload=I(),F=fe.onerror=fe.ontimeout=I("error"),fe.onabort!==void 0?fe.onabort=F:fe.onreadystatechange=function(){fe.readyState===4&&c.setTimeout(function(){I&&F()})},I=I("abort");try{fe.send(C.hasContent&&C.data||null)}catch(me){if(I)throw me}},abort:function(){I&&I()}}}),$.ajaxPrefilter(function(C){C.crossDomain&&(C.contents.script=!1)}),$.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(C){return $.globalEval(C),C}}}),$.ajaxPrefilter("script",function(C){C.cache===void 0&&(C.cache=!1),C.crossDomain&&(C.type="GET")}),$.ajaxTransport("script",function(C){if(C.crossDomain||C.scriptAttrs){var I,F;return{send:function(U,Q){I=$("<script>").attr(C.scriptAttrs||{}).prop({charset:C.scriptCharset,src:C.url}).on("load error",F=function(se){I.remove(),F=null,se&&Q(se.type==="error"?404:200,se.type)}),De.head.appendChild(I[0])},abort:function(){F&&F()}}}});var eo=[],jo=/(=)\?(?=&|$)|\?\?/;$.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var C=eo.pop()||$.expando+"_"+fd.guid++;return this[C]=!0,C}}),$.ajaxPrefilter("json jsonp",function(C,I,F){var U,Q,se,fe=C.jsonp!==!1&&(jo.test(C.url)?"url":typeof C.data=="string"&&(C.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&jo.test(C.data)&&"data");if(fe||C.dataTypes[0]==="jsonp")return U=C.jsonpCallback=de(C.jsonpCallback)?C.jsonpCallback():C.jsonpCallback,fe?C[fe]=C[fe].replace(jo,"$1"+U):C.jsonp!==!1&&(C.url+=(Cc.test(C.url)?"&":"?")+C.jsonp+"="+U),C.converters["script json"]=function(){return se||$.error(U+" was not called"),se[0]},C.dataTypes[0]="json",Q=c[U],c[U]=function(){se=arguments},F.always(function(){Q===void 0?$(c).removeProp(U):c[U]=Q,C[U]&&(C.jsonpCallback=I.jsonpCallback,eo.push(U)),se&&de(Q)&&Q(se[0]),se=Q=void 0}),"script"}),le.createHTMLDocument=function(){var C=De.implementation.createHTMLDocument("").body;return C.innerHTML="<form></form><form></form>",C.childNodes.length===2}(),$.parseHTML=function(C,I,F){if(typeof C!="string")return[];typeof I=="boolean"&&(F=I,I=!1);var U,Q,se;return I||(le.createHTMLDocument?(I=De.implementation.createHTMLDocument(""),U=I.createElement("base"),U.href=De.location.href,I.head.appendChild(U)):I=De),Q=dn.exec(C),se=!F&&[],Q?[I.createElement(Q[1])]:(Q=ng([C],I,se),se&&se.length&&$(se).remove(),$.merge([],Q.childNodes))},$.fn.load=function(C,I,F){var U,Q,se,fe=this,me=C.indexOf(" ");return me>-1&&(U=Xd(C.slice(me)),C=C.slice(0,me)),de(I)?(F=I,I=void 0):I&&typeof I=="object"&&(Q="POST"),fe.length>0&&$.ajax({url:C,type:Q||"GET",dataType:"html",data:I}).done(function(Re){se=arguments,fe.html(U?$("<div>").append($.parseHTML(Re)).find(U):Re)}).always(F&&function(Re,tt){fe.each(function(){F.apply(this,se||[Re.responseText,tt,Re])})}),this},$.expr.pseudos.animated=function(C){return $.grep($.timers,function(I){return C===I.elem}).length},$.offset={setOffset:function(C,I,F){var U,Q,se,fe,me,Re,tt,pt=$.css(C,"position"),Ut=$(C),Je={};pt==="static"&&(C.style.position="relative"),me=Ut.offset(),se=$.css(C,"top"),Re=$.css(C,"left"),tt=(pt==="absolute"||pt==="fixed")&&(se+Re).indexOf("auto")>-1,tt?(U=Ut.position(),fe=U.top,Q=U.left):(fe=parseFloat(se)||0,Q=parseFloat(Re)||0),de(I)&&(I=I.call(C,F,$.extend({},me))),I.top!=null&&(Je.top=I.top-me.top+fe),I.left!=null&&(Je.left=I.left-me.left+Q),"using"in I?I.using.call(C,Je):Ut.css(Je)}},$.fn.extend({offset:function(C){if(arguments.length)return C===void 0?this:this.each(function(Q){$.offset.setOffset(this,C,Q)});var I,F,U=this[0];if(U)return U.getClientRects().length?(I=U.getBoundingClientRect(),F=U.ownerDocument.defaultView,{top:I.top+F.pageYOffset,left:I.left+F.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var C,I,F,U=this[0],Q={top:0,left:0};if($.css(U,"position")==="fixed")I=U.getBoundingClientRect();else{for(I=this.offset(),F=U.ownerDocument,C=U.offsetParent||F.documentElement;C&&(C===F.body||C===F.documentElement)&&$.css(C,"position")==="static";)C=C.parentNode;C&&C!==U&&C.nodeType===1&&(Q=$(C).offset(),Q.top+=$.css(C,"borderTopWidth",!0),Q.left+=$.css(C,"borderLeftWidth",!0))}return{top:I.top-Q.top-$.css(U,"marginTop",!0),left:I.left-Q.left-$.css(U,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var C=this.offsetParent;C&&$.css(C,"position")==="static";)C=C.offsetParent;return C||Tr})}}),$.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(C,I){var F=I==="pageYOffset";$.fn[C]=function(U){return os(this,function(Q,se,fe){var me;if(Ee(Q)?me=Q:Q.nodeType===9&&(me=Q.defaultView),fe===void 0)return me?me[I]:Q[se];me?me.scrollTo(F?me.pageXOffset:fe,F?fe:me.pageYOffset):Q[se]=fe},C,U,arguments.length)}}),$.each(["top","left"],function(C,I){$.cssHooks[I]=q1(le.pixelPosition,function(F,U){if(U)return U=Ol(F,I),Rr.test(U)?$(F).position()[I]+"px":U})}),$.each({Height:"height",Width:"width"},function(C,I){$.each({padding:"inner"+C,content:I,"":"outer"+C},function(F,U){$.fn[U]=function(Q,se){var fe=arguments.length&&(F||typeof Q!="boolean"),me=F||(Q===!0||se===!0?"margin":"border");return os(this,function(Re,tt,pt){var Ut;return Ee(Re)?U.indexOf("outer")===0?Re["inner"+C]:Re.document.documentElement["client"+C]:Re.nodeType===9?(Ut=Re.documentElement,Math.max(Re.body["scroll"+C],Ut["scroll"+C],Re.body["offset"+C],Ut["offset"+C],Ut["client"+C])):pt===void 0?$.css(Re,tt,me):$.style(Re,tt,pt,me)},I,fe?Q:void 0,fe)}})}),$.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(C,I){$.fn[I]=function(F){return this.on(I,F)}}),$.fn.extend({bind:function(C,I,F){return this.on(C,null,I,F)},unbind:function(C,I){return this.off(C,null,I)},delegate:function(C,I,F,U){return this.on(I,C,F,U)},undelegate:function(C,I,F){return arguments.length===1?this.off(C,"**"):this.off(I,C||"**",F)},hover:function(C,I){return this.mouseenter(C).mouseleave(I||C)}}),$.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(C,I){$.fn[I]=function(F,U){return arguments.length>0?this.on(I,null,F,U):this.trigger(I)}});var Mi=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;$.proxy=function(C,I){var F,U,Q;if(typeof I=="string"&&(F=C[I],I=C,C=F),!!de(C))return U=k.call(arguments,2),Q=function(){return C.apply(I||this,U.concat(k.call(arguments)))},Q.guid=C.guid=C.guid||$.guid++,Q},$.holdReady=function(C){C?$.readyWait++:$.ready(!0)},$.isArray=Array.isArray,$.parseJSON=JSON.parse,$.nodeName=he,$.isFunction=de,$.isWindow=Ee,$.camelCase=bc,$.type=Le,$.now=Date.now,$.isNumeric=function(C){var I=$.type(C);return(I==="number"||I==="string")&&!isNaN(C-parseFloat(C))},$.trim=function(C){return C==null?"":(C+"").replace(Mi,"$1")};var Gr=c.jQuery,sa=c.$;return $.noConflict=function(C){return c.$===$&&(c.$=sa),C&&c.jQuery===$&&(c.jQuery=Gr),$},typeof h>"u"&&(c.jQuery=c.$=$),$})})(kne);const Nne=vj;var bj={},Pne={get exports(){return bj},set exports(a){bj=a}};(function(a){(function(){var c=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},h=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},E=function(e,n){var o=Array.prototype.slice.call(e);return o.sort(n)},x=function(e,n){return k(function(o,r){return e.eq(n(o),n(r))})},k=function(e){return{eq:e}},D=k(function(e,n){return e===n}),V=D,G=function(e){return k(function(n,o){if(n.length!==o.length)return!1;for(var r=n.length,l=0;l<r;l++)if(!e.eq(n[l],o[l]))return!1;return!0})},Y=function(e,n){return x(G(e),function(o){return E(o,n)})},K=function(e){return k(function(n,o){var r=Object.keys(n),l=Object.keys(o);if(!Y(V).eq(r,l))return!1;for(var f=r.length,v=0;v<f;v++){var T=r[v];if(!e.eq(n[T],o[T]))return!1}return!0})},re=k(function(e,n){if(e===n)return!0;var o=c(e),r=c(n);return o!==r?!1:h(o)?e===n:o==="array"?G(re).eq(e,n):o==="object"?K(re).eq(e,n):!1});const be=Object.getPrototypeOf,ge=(e,n,o)=>{var r;return o(e,n.prototype)?!0:((r=e.constructor)===null||r===void 0?void 0:r.name)===n.name},le=e=>{const n=typeof e;return e===null?"null":n==="object"&&Array.isArray(e)?"array":n==="object"&&ge(e,String,(o,r)=>r.isPrototypeOf(o))?"string":n},de=e=>n=>le(n)===e,Ee=e=>n=>typeof n===e,De=e=>n=>e===n,ke=(e,n)=>Le(e)&&ge(e,n,(o,r)=>be(o)===r),ne=de("string"),Le=de("object"),ct=e=>ke(e,Object),$=de("array"),ye=De(null),Ge=Ee("boolean"),mt=De(void 0),xt=e=>e==null,Pe=e=>!xt(e),he=Ee("function"),dn=Ee("number"),bt=(e,n)=>{if($(e)){for(let o=0,r=e.length;o<r;++o)if(!n(e[o]))return!1;return!0}return!1},Ct=()=>{},P=(e,n)=>(...o)=>e(n.apply(null,o)),Tt=(e,n)=>o=>e(n(o)),Xe=e=>()=>e,Vt=e=>e,Nt=(e,n)=>e===n;function Ve(e,...n){return(...o)=>{const r=n.concat(o);return e.apply(null,r)}}const uo=e=>n=>!e(n),Lo=e=>()=>{throw new Error(e)},Jn=e=>e(),Fo=e=>{e()},je=Xe(!1),At=Xe(!0);class ee{constructor(n,o){this.tag=n,this.value=o}static some(n){return new ee(!0,n)}static none(){return ee.singletonNone}fold(n,o){return this.tag?o(this.value):n()}isSome(){return this.tag}isNone(){return!this.tag}map(n){return this.tag?ee.some(n(this.value)):ee.none()}bind(n){return this.tag?n(this.value):ee.none()}exists(n){return this.tag&&n(this.value)}forall(n){return!this.tag||n(this.value)}filter(n){return!this.tag||n(this.value)?this:ee.none()}getOr(n){return this.tag?this.value:n}or(n){return this.tag?this:n}getOrThunk(n){return this.tag?this.value:n()}orThunk(n){return this.tag?this:n()}getOrDie(n){if(this.tag)return this.value;throw new Error(n??"Called getOrDie on None")}static from(n){return Pe(n)?ee.some(n):ee.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(n){this.tag&&n(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ee.singletonNone=new ee(!1);const os=Array.prototype.slice,so=Array.prototype.indexOf,Ts=Array.prototype.push,ys=(e,n)=>so.call(e,n),bc=(e,n)=>{const o=ys(e,n);return o===-1?ee.none():ee.some(o)},Dn=(e,n)=>ys(e,n)>-1,as=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const l=e[o];if(n(l,o))return!0}return!1},qt=(e,n)=>{const o=e.length,r=new Array(o);for(let l=0;l<o;l++){const f=e[l];r[l]=n(f,l)}return r},lt=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const l=e[o];n(l,o)}},Sl=(e,n)=>{for(let o=e.length-1;o>=0;o--){const r=e[o];n(r,o)}},Ui=(e,n)=>{const o=[],r=[];for(let l=0,f=e.length;l<f;l++){const v=e[l];(n(v,l)?o:r).push(v)}return{pass:o,fail:r}},En=(e,n)=>{const o=[];for(let r=0,l=e.length;r<l;r++){const f=e[r];n(f,r)&&o.push(f)}return o},Wr=(e,n,o)=>(Sl(e,(r,l)=>{o=n(o,r,l)}),o),Os=(e,n,o)=>(lt(e,(r,l)=>{o=n(o,r,l)}),o),yc=(e,n,o)=>{for(let r=0,l=e.length;r<l;r++){const f=e[r];if(n(f,r))return ee.some(f);if(o(f,r))break}return ee.none()},gs=(e,n)=>yc(e,n,je),Tr=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const l=e[o];if(n(l,o))return ee.some(o)}return ee.none()},nl=e=>{const n=[];for(let o=0,r=e.length;o<r;++o){if(!$(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);Ts.apply(n,e[o])}return n},ga=(e,n)=>nl(qt(e,n)),tr=(e,n)=>{for(let o=0,r=e.length;o<r;++o){const l=e[o];if(n(l,o)!==!0)return!1}return!0},js=e=>{const n=os.call(e,0);return n.reverse(),n},qd=(e,n)=>En(e,o=>!Dn(n,o)),Nr=(e,n)=>{const o={};for(let r=0,l=e.length;r<l;r++){const f=e[r];o[String(f)]=n(f,r)}return o},Rs=(e,n)=>{const o=os.call(e,0);return o.sort(n),o},xl=(e,n)=>n>=0&&n<e.length?ee.some(e[n]):ee.none(),Oi=e=>xl(e,0),Al=e=>xl(e,e.length-1),pr=he(Array.from)?Array.from:e=>os.call(e),ei=(e,n)=>{for(let o=0;o<e.length;o++){const r=n(e[o],o);if(r.isSome())return r}return ee.none()},Hf=(e,n)=>{const o=[],r=he(n)?l=>as(o,f=>n(f,l)):l=>Dn(o,l);for(let l=0,f=e.length;l<f;l++){const v=e[l];r(v)||o.push(v)}return o},La=Object.keys,ng=Object.hasOwnProperty,nn=(e,n)=>{const o=La(e);for(let r=0,l=o.length;r<l;r++){const f=o[r],v=e[f];n(v,f)}},Bo=(e,n)=>na(e,(o,r)=>({k:r,v:n(o,r)})),na=(e,n)=>{const o={};return nn(e,(r,l)=>{const f=n(r,l);o[f.k]=f.v}),o},Ec=e=>(n,o)=>{e[o]=n},og=(e,n,o,r)=>{nn(e,(l,f)=>{(n(l,f)?o:r)(l,f)})},Au=(e,n)=>{const o={},r={};return og(e,n,Ec(o),Ec(r)),{t:o,f:r}},Is=(e,n)=>{const o={};return og(e,n,Ec(o),Ct),o},jd=(e,n)=>{const o=[];return nn(e,(r,l)=>{o.push(n(r,l))}),o},Vf=e=>jd(e,Vt),Ys=(e,n)=>zn(e,n)?ee.from(e[n]):ee.none(),zn=(e,n)=>ng.call(e,n),nc=(e,n)=>zn(e,n)&&e[n]!==void 0&&e[n]!==null,Ou=(e,n,o=re)=>K(o).eq(e,n),Vh=e=>{const n={};return lt(e,o=>{n[o]={}}),La(n)},Sp=e=>e.length!==void 0,Ri=Array.isArray,zi=e=>{if(Ri(e))return e;{const n=[];for(let o=0,r=e.length;o<r;o++)n[o]=e[o];return n}},Rr=(e,n,o)=>{if(!e)return!1;if(o=o||e,Sp(e)){for(let r=0,l=e.length;r<l;r++)if(n.call(o,e[r],r,e)===!1)return!1}else for(const r in e)if(zn(e,r)&&n.call(o,e[r],r,e)===!1)return!1;return!0},ol=(e,n)=>{const o=[];return Rr(e,(r,l)=>{o.push(n(r,l,e))}),o},Yd=(e,n)=>{const o=[];return Rr(e,(r,l)=>{(!n||n(r,l,e))&&o.push(r)}),o},Ru=(e,n)=>{if(e){for(let o=0,r=e.length;o<r;o++)if(e[o]===n)return o}return-1},_c=(e,n,o,r)=>{let l=mt(o)?e[0]:o;for(let f=0;f<e.length;f++)l=n.call(r,l,e[f],f);return l},xr=(e,n,o)=>{for(let r=0,l=e.length;r<l;r++)if(n.call(o,e[r],r,e))return r;return-1},sl=e=>e[e.length-1],Ol=e=>{let n=!1,o;return(...r)=>(n||(n=!0,o=e.apply(null,r)),o)},q1=(e,n,o,r)=>{const l=e.isiOS()&&/ipad/i.test(o)===!0,f=e.isiOS()&&!l,v=e.isiOS()||e.isAndroid(),T=v||r("(pointer:coarse)"),A=l||!f&&v&&r("(min-device-width:768px)"),L=f||v&&!A,q=n.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,Z=!L&&!A&&!q;return{isiPad:Xe(l),isiPhone:Xe(f),isTablet:Xe(A),isPhone:Xe(L),isTouch:Xe(T),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:Xe(q),isDesktop:Xe(Z)}},j1=(e,n)=>{for(let o=0;o<e.length;o++){const r=e[o];if(r.test(n))return r}},Jl=(e,n)=>{const o=j1(e,n);if(!o)return{major:0,minor:0};const r=l=>Number(n.replace(o,"$"+l));return Ii(r(1),r(2))},xp=(e,n)=>{const o=String(n).toLowerCase();return e.length===0?Ze():Jl(e,o)},Ze=()=>Ii(0,0),Ii=(e,n)=>({major:e,minor:n}),Uf={nu:Ii,detect:xp,unknown:Ze},Y1=(e,n)=>ei(n.brands,o=>{const r=o.brand.toLowerCase();return gs(e,l=>{var f;return r===((f=l.brand)===null||f===void 0?void 0:f.toLowerCase())}).map(l=>({current:l.name,version:Uf.nu(parseInt(o.version,10),0)}))}),sg=(e,n)=>{const o=String(n).toLowerCase();return gs(e,r=>r.search(o))},Ls=(e,n)=>sg(e,n).map(o=>{const r=Uf.detect(o.versionRegexes,n);return{current:o.name,version:r}}),zf=(e,n)=>sg(e,n).map(o=>{const r=Uf.detect(o.versionRegexes,n);return{current:o.name,version:r}}),Ap=(e,n)=>e.substring(n),oa=(e,n,o)=>n===""||e.length>=n.length&&e.substr(o,o+n.length)===n,Rl=(e,n)=>vi(e,n)?Ap(e,n.length):e,ti=(e,n,o=0,r)=>{const l=e.indexOf(n,o);return l!==-1?mt(r)?!0:l+n.length<=r:!1},vi=(e,n)=>oa(e,n,0),Iu=(e,n)=>oa(e,n,e.length-n.length),oc=e=>n=>n.replace(e,""),Du=oc(/^\s+|\s+$/g),eu=oc(/^\s+/g),Kd=oc(/\s+$/g),Es=e=>e.length>0,pa=e=>!Es(e),rl=(e,n)=>n<=0?"":new Array(n+1).join(e),dd=(e,n=10)=>{const o=parseInt(e,n);return isNaN(o)?ee.none():ee.some(o)},Lc=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,wc=e=>n=>ti(n,e),vr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>ti(e,"edge/")&&ti(e,"chrome")&&ti(e,"safari")&&ti(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Lc],search:e=>ti(e,"chrome")&&!ti(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>ti(e,"msie")||ti(e,"trident")},{name:"Opera",versionRegexes:[Lc,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:wc("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:wc("firefox")},{name:"Safari",versionRegexes:[Lc,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(ti(e,"safari")||ti(e,"mobile/"))&&ti(e,"applewebkit")}],Xd=[{name:"Windows",search:wc("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>ti(e,"iphone")||ti(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:wc("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:wc("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:wc("linux"),versionRegexes:[]},{name:"Solaris",search:wc("sunos"),versionRegexes:[]},{name:"FreeBSD",search:wc("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:wc("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Mu={browsers:Xe(vr),oses:Xe(Xd)},us="Edge",sc="Chromium",Di="IE",bi="Opera",ku="Firefox",fd="Safari",Cc=()=>Bc({current:void 0,version:Uf.unknown()}),Bc=e=>{const n=e.current,o=e.version,r=l=>()=>n===l;return{current:n,version:o,isEdge:r(us),isChromium:r(sc),isIE:r(Di),isOpera:r(bi),isFirefox:r(ku),isSafari:r(fd)}},Uh={unknown:Cc,nu:Bc,edge:Xe(us),chromium:Xe(sc),ie:Xe(Di),opera:Xe(bi),firefox:Xe(ku),safari:Xe(fd)},rg="Windows",K1="iOS",$c="Android",hd="Linux",ig="macOS",Op="Solaris",ag="FreeBSD",cg="ChromeOS",X1=()=>Wf({current:void 0,version:Uf.unknown()}),Wf=e=>{const n=e.current,o=e.version,r=l=>()=>n===l;return{current:n,version:o,isWindows:r(rg),isiOS:r(K1),isAndroid:r($c),isMacOS:r(ig),isLinux:r(hd),isSolaris:r(Op),isFreeBSD:r(ag),isChromeOS:r(cg)}},va={unknown:X1,nu:Wf,windows:Xe(rg),ios:Xe(K1),android:Xe($c),linux:Xe(hd),macos:Xe(ig),solaris:Xe(Op),freebsd:Xe(ag),chromeos:Xe(cg)},md={detect:(e,n,o)=>{const r=Mu.browsers(),l=Mu.oses(),f=n.bind(A=>Y1(r,A)).orThunk(()=>Ls(r,e)).fold(Uh.unknown,Uh.nu),v=zf(l,e).fold(va.unknown,va.nu),T=q1(v,f,e,o);return{browser:f,os:v,deviceType:T}}},lg=e=>window.matchMedia(e).matches;let Q1=Ol(()=>md.detect(navigator.userAgent,ee.from(navigator.userAgentData),lg));const Bs=()=>Q1(),br=navigator.userAgent,rc=Bs(),Gi=rc.browser,tu=rc.os,il=rc.deviceType,eo=br.indexOf("Windows Phone")!==-1,jo={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Gi.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Gi.isIE(),windowsPhone:eo,browser:{current:Gi.current,version:Gi.version,isChromium:Gi.isChromium,isEdge:Gi.isEdge,isFirefox:Gi.isFirefox,isIE:Gi.isIE,isOpera:Gi.isOpera,isSafari:Gi.isSafari},os:{current:tu.current,version:tu.version,isAndroid:tu.isAndroid,isChromeOS:tu.isChromeOS,isFreeBSD:tu.isFreeBSD,isiOS:tu.isiOS,isLinux:tu.isLinux,isMacOS:tu.isMacOS,isSolaris:tu.isSolaris,isWindows:tu.isWindows},deviceType:{isDesktop:il.isDesktop,isiPad:il.isiPad,isiPhone:il.isiPhone,isPhone:il.isPhone,isTablet:il.isTablet,isTouch:il.isTouch,isWebView:il.isWebView}},Mi=/^\s*|\s*$/g,Gr=e=>xt(e)?"":(""+e).replace(Mi,""),sa=(e,n)=>n?n==="array"&&Ri(e)?!0:typeof e===n:e!==void 0,C=(e,n,o={})=>{const r=ne(e)?e.split(n||","):e||[];let l=r.length;for(;l--;)o[r[l]]={};return o},I=zn,F=(e,...n)=>{for(let o=0;o<n.length;o++){const r=n[o];for(const l in r)if(zn(r,l)){const f=r[l];f!==void 0&&(e[l]=f)}}return e},U=function(e,n,o,r){r=r||this,e&&(o&&(e=e[o]),Rr(e,(l,f)=>n.call(r,l,f,o)===!1?!1:(U(l,n,o,r),!0)))},me={trim:Gr,isArray:Ri,is:sa,toArray:zi,makeMap:C,each:Rr,map:ol,grep:Yd,inArray:Ru,hasOwn:I,extend:F,walk:U,resolve:(e,n=window)=>{const o=e.split(".");for(let r=0,l=o.length;r<l&&(n=n[o[r]],!!n);r++);return n},explode:(e,n)=>$(e)?e:e===""?[]:ol(e.split(n||","),Gr),_addCacheSuffix:e=>{const n=jo.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e}},Re=(e,n,o=Nt)=>e.exists(r=>o(r,n)),tt=e=>{const n=[],o=r=>{n.push(r)};for(let r=0;r<e.length;r++)e[r].each(o);return n},pt=(e,n,o)=>e.isSome()&&n.isSome()?ee.some(o(e.getOrDie(),n.getOrDie())):ee.none(),Ut=(e,n,o,r)=>e.isSome()&&n.isSome()&&o.isSome()?ee.some(r(e.getOrDie(),n.getOrDie(),o.getOrDie())):ee.none(),Je=(e,n)=>e?ee.some(n):ee.none(),Ot=typeof window<"u"?window:Function("return this;")(),Zn=(e,n)=>{let o=n??Ot;for(let r=0;r<e.length&&o!==void 0&&o!==null;++r)o=o[e[r]];return o},Hn=(e,n)=>{const o=e.split(".");return Zn(o,n)},vn=(e,n)=>Hn(e,n),lr=(e,n)=>{const o=vn(e,n);if(o==null)throw new Error(e+" not available on this browser");return o},ni=Object.getPrototypeOf,cs=e=>lr("HTMLElement",e),Wn=e=>{const n=Hn("ownerDocument.defaultView",e);return Le(e)&&(cs(n).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(ni(e).constructor.name))},jn=8,Zi=9,To=11,yr=1,Nu=3,$s=e=>e.dom.nodeName.toLowerCase(),nr=e=>e.dom.nodeType,Pr=e=>n=>nr(n)===e,Fc=e=>nr(e)===jn||$s(e)==="#comment",yi=e=>Jo(e)&&Wn(e.dom),Jo=Pr(yr),ur=Pr(Nu),Ba=Pr(Zi),zh=Pr(To),Hc=e=>n=>Jo(n)&&$s(n)===e,Vc=(e,n,o)=>{if(ne(o)||Ge(o)||dn(o))e.setAttribute(n,o+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},io=(e,n,o)=>{Vc(e.dom,n,o)},Lr=(e,n)=>{const o=e.dom;nn(n,(r,l)=>{Vc(o,l,r)})},ba=(e,n)=>{const o=e.dom.getAttribute(n);return o===null?void 0:o},Tc=(e,n)=>ee.from(ba(e,n)),ya=(e,n)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(n):!1},dr=(e,n)=>{e.dom.removeAttribute(n)},Ea=e=>{const n=e.dom.attributes;return n==null||n.length===0},Gf=e=>Os(e.dom.attributes,(n,o)=>(n[o.name]=o.value,n),{}),Qd=(e,n)=>{const o=ba(e,n);return o===void 0||o===""?[]:o.split(" ")},ug=(e,n,o)=>{const l=Qd(e,n).concat([o]);return io(e,n,l.join(" ")),!0},J1=(e,n,o)=>{const r=En(Qd(e,n),l=>l!==o);return r.length>0?io(e,n,r.join(" ")):dr(e,n),!1},nu=e=>e.dom.classList!==void 0,gd=e=>Qd(e,"class"),Wh=(e,n)=>ug(e,"class",n),Ei=(e,n)=>J1(e,"class",n),Jd=(e,n)=>Dn(gd(e),n)?Ei(e,n):Wh(e,n),ef=(e,n)=>{nu(e)?e.dom.classList.add(n):Wh(e,n)},pd=e=>{(nu(e)?e.dom.classList:gd(e)).length===0&&dr(e,"class")},ic=(e,n)=>{nu(e)?e.dom.classList.remove(n):Ei(e,n),pd(e)},ra=(e,n)=>{const o=nu(e)?e.dom.classList.toggle(n):Jd(e,n);return pd(e),o},vd=(e,n)=>nu(e)&&e.dom.classList.contains(n),tf=(e,n)=>{const r=(n||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){const l="HTML does not have a single root node";throw console.error(l,e),new Error(l)}return ps(r.childNodes[0])},Rp=(e,n)=>{const r=(n||document).createElement(e);return ps(r)},ev=(e,n)=>{const r=(n||document).createTextNode(e);return ps(r)},ps=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},xe={fromHtml:tf,fromTag:Rp,fromText:ev,fromDom:ps,fromPoint:(e,n,o)=>ee.from(e.dom.elementFromPoint(n,o)).map(ps)},ac=(e,n)=>{const o=[],r=f=>(o.push(f),n(f));let l=n(e);do l=l.bind(r);while(l.isSome());return o},ia=(e,n)=>{const o=e.dom;if(o.nodeType!==yr)return!1;{const r=o;if(r.matches!==void 0)return r.matches(n);if(r.msMatchesSelector!==void 0)return r.msMatchesSelector(n);if(r.webkitMatchesSelector!==void 0)return r.webkitMatchesSelector(n);if(r.mozMatchesSelector!==void 0)return r.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")}},dg=e=>e.nodeType!==yr&&e.nodeType!==Zi&&e.nodeType!==To||e.childElementCount===0,Lb=(e,n)=>{const o=n===void 0?document:n.dom;return dg(o)?[]:qt(o.querySelectorAll(e),xe.fromDom)},Bb=(e,n)=>{const o=n===void 0?document:n.dom;return dg(o)?ee.none():ee.from(o.querySelector(e)).map(xe.fromDom)},zo=(e,n)=>e.dom===n.dom,Qe=(e,n)=>{const o=e.dom,r=n.dom;return o===r?!1:o.contains(r)},It=e=>xe.fromDom(e.dom.ownerDocument),wt=e=>Ba(e)?e:It(e),Ln=e=>xe.fromDom(wt(e).dom.documentElement),go=e=>xe.fromDom(wt(e).dom.defaultView),Ho=e=>ee.from(e.dom.parentNode).map(xe.fromDom),oi=e=>ee.from(e.dom.parentElement).map(xe.fromDom),Us=(e,n)=>{const o=he(n)?n:je;let r=e.dom;const l=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){const f=r.parentNode,v=xe.fromDom(f);if(l.push(v),o(v)===!0)break;r=f}return l},Zf=e=>{const n=o=>En(o,r=>!zo(e,r));return Ho(e).map(Fe).map(n).getOr([])},xc=e=>ee.from(e.dom.previousSibling).map(xe.fromDom),_a=e=>ee.from(e.dom.nextSibling).map(xe.fromDom),_e=e=>js(ac(e,xc)),Me=e=>ac(e,_a),Fe=e=>qt(e.dom.childNodes,xe.fromDom),kt=(e,n)=>{const o=e.dom.childNodes;return ee.from(o[n]).map(xe.fromDom)},st=e=>kt(e,0),Et=e=>kt(e,e.dom.childNodes.length-1),zt=e=>e.dom.childNodes.length,_n=e=>{const n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return xe.fromDom(n)},Sn=e=>zh(e)&&Pe(e.dom.host),fo=he(Element.prototype.attachShadow)&&he(Node.prototype.getRootNode),ao=Xe(fo),Xn=fo?e=>xe.fromDom(e.dom.getRootNode()):wt,Vo=e=>Sn(e)?e:_n(wt(e)),Ss=e=>Sn(e)?e:xe.fromDom(wt(e).dom.body),po=e=>{const n=Xn(e);return Sn(n)?ee.some(n):ee.none()},qi=e=>xe.fromDom(e.dom.host),ki=e=>{if(ao()&&Pe(e.target)){const n=xe.fromDom(e.target);if(Jo(n)&&$a(n)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return Oi(o)}}return ee.from(e.target)},$a=e=>Pe(e.dom.shadowRoot),Ks=e=>{const n=ur(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;const o=n.ownerDocument;return po(xe.fromDom(n)).fold(()=>o.body.contains(n),Tt(Ks,qi))};var ou=(e,n,o,r,l)=>e(o,r)?ee.some(o):he(l)&&l(o)?ee.none():n(o,r,l);const Ds=(e,n,o)=>{let r=e.dom;const l=he(o)?o:je;for(;r.parentNode;){r=r.parentNode;const f=xe.fromDom(r);if(n(f))return ee.some(f);if(l(f))break}return ee.none()},Wo=(e,n,o)=>ou((l,f)=>f(l),Ds,e,n,o),Il=(e,n)=>{const o=e.dom;return o.parentNode?Ip(xe.fromDom(o.parentNode),r=>!zo(e,r)&&n(r)):ee.none()},Ip=(e,n)=>{const o=l=>n(xe.fromDom(l));return gs(e.dom.childNodes,o).map(xe.fromDom)},Lw=(e,n)=>{const o=r=>{for(let l=0;l<r.childNodes.length;l++){const f=xe.fromDom(r.childNodes[l]);if(n(f))return ee.some(f);const v=o(r.childNodes[l]);if(v.isSome())return v}return ee.none()};return o(e.dom)},wa=(e,n,o)=>Ds(e,r=>ia(r,n),o),Dp=(e,n)=>Bb(n,e),su=(e,n,o)=>ou((l,f)=>ia(l,f),wa,e,n,o),Dl=e=>su(e,"[contenteditable]"),Gh=(e,n=!1)=>Ks(e)?e.dom.isContentEditable:Dl(e).fold(Xe(n),o=>co(o)==="true"),co=e=>e.dom.contentEditable,Fa=e=>e.style!==void 0&&he(e.style.getPropertyValue),fg=(e,n,o)=>{if(!ne(o))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);Fa(e)&&e.style.setProperty(n,o)},nE=(e,n)=>{Fa(e)&&e.style.removeProperty(n)},si=(e,n,o)=>{const r=e.dom;fg(r,n,o)},aa=(e,n)=>{const o=e.dom;nn(n,(r,l)=>{fg(o,l,r)})},bd=(e,n)=>{const o=e.dom,l=window.getComputedStyle(o).getPropertyValue(n);return l===""&&!Ks(e)?Ml(o,n):l},Ml=(e,n)=>Fa(e)?e.style.getPropertyValue(n):"",Ca=(e,n)=>{const o=e.dom,r=Ml(o,n);return ee.from(r).filter(l=>l.length>0)},al=e=>{const n={},o=e.dom;if(Fa(o))for(let r=0;r<o.style.length;r++){const l=o.style.item(r);n[l]=o.style[l]}return n},ji=(e,n)=>{const o=e.dom;nE(o,n),Re(Tc(e,"style").map(Du),"")&&dr(e,"style")},Mp=e=>e.dom.offsetWidth,ss=(e,n)=>{Ho(e).each(r=>{r.dom.insertBefore(n.dom,e.dom)})},cl=(e,n)=>{_a(e).fold(()=>{Ho(e).each(l=>{Er(l,n)})},r=>{ss(r,n)})},ru=(e,n)=>{st(e).fold(()=>{Er(e,n)},r=>{e.dom.insertBefore(n.dom,r.dom)})},Er=(e,n)=>{e.dom.appendChild(n.dom)},kp=(e,n)=>{ss(e,n),Er(n,e)},hg=(e,n)=>{lt(n,(o,r)=>{const l=r===0?e:n[r-1];cl(l,o)})},nf=(e,n)=>{lt(n,o=>{Er(e,o)})},Xs=e=>{e.dom.textContent="",lt(Fe(e),n=>{_r(n)})},_r=e=>{const n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},Ha=e=>{const n=Fe(e);n.length>0&&hg(e,n),_r(e)},$b=(e,n)=>{const r=(n||document).createElement("div");return r.innerHTML=e,Fe(xe.fromDom(r))},Zh=e=>qt(e,xe.fromDom),qh=e=>e.dom.innerHTML,mg=(e,n)=>{const r=It(e).dom,l=xe.fromDom(r.createDocumentFragment()),f=$b(n,r);nf(l,f),Xs(e),Er(e,l)},ce=e=>{const n=xe.fromTag("div"),o=xe.fromDom(e.dom.cloneNode(!0));return Er(n,o),qh(n)},qf=(e,n,o,r,l,f,v)=>({target:e,x:n,y:o,stop:r,prevent:l,kill:f,raw:v}),gg=e=>{const n=xe.fromDom(ki(e).getOr(e.target)),o=()=>e.stopPropagation(),r=()=>e.preventDefault(),l=P(r,o);return qf(n,e.clientX,e.clientY,o,r,l,e)},iu=(e,n)=>o=>{e(o)&&n(gg(o))},Fs=(e,n,o,r,l)=>{const f=iu(o,r);return e.dom.addEventListener(n,f,l),{unbind:Ve(Hb,e,n,f,l)}},Fb=(e,n,o,r)=>Fs(e,n,o,r,!1),Hb=(e,n,o,r)=>{e.dom.removeEventListener(n,o,r)},Vb=(e,n)=>({left:e,top:n,translate:(r,l)=>Vb(e+r,n+l)}),Va=Vb,oE=e=>{const n=e.getBoundingClientRect();return Va(n.left,n.top)},tv=(e,n)=>e!==void 0?e:n!==void 0?n:0,sE=e=>{const n=e.dom.ownerDocument,o=n.body,r=n.defaultView,l=n.documentElement;if(o===e.dom)return Va(o.offsetLeft,o.offsetTop);const f=tv(r==null?void 0:r.pageYOffset,l.scrollTop),v=tv(r==null?void 0:r.pageXOffset,l.scrollLeft),T=tv(l.clientTop,o.clientTop),A=tv(l.clientLeft,o.clientLeft);return Pu(e).translate(v-A,f-T)},Pu=e=>{const n=e.dom,r=n.ownerDocument.body;return r===n?Va(r.offsetLeft,r.offsetTop):Ks(e)?oE(n):Va(0,0)},Ub=e=>{const n=e!==void 0?e.dom:document,o=n.body.scrollLeft||n.documentElement.scrollLeft,r=n.body.scrollTop||n.documentElement.scrollTop;return Va(o,r)},Ua=(e,n,o)=>{const l=(o!==void 0?o.dom:document).defaultView;l&&l.scrollTo(e,n)},jh=(e,n)=>{Bs().browser.isSafari()&&he(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},Bw=e=>{const n=e===void 0?window:e;return Bs().browser.isFirefox()?ee.none():ee.from(n.visualViewport)},nv=(e,n,o,r)=>({x:e,y:n,width:o,height:r,right:e+o,bottom:n+r}),zb=e=>{const n=e===void 0?window:e,o=n.document,r=Ub(xe.fromDom(o));return Bw(n).fold(()=>{const l=n.document.documentElement,f=l.clientWidth,v=l.clientHeight;return nv(r.left,r.top,f,v)},l=>nv(Math.max(l.pageLeft,r.left),Math.max(l.pageTop,r.top),l.width,l.height))},rE=(e,n)=>En(Fe(e),n),Lu=(e,n)=>{let o=[];return lt(Fe(e),r=>{n(r)&&(o=o.concat([r])),o=o.concat(Lu(r,n))}),o},Ta=(e,n)=>Lb(n,e),ov=(e,n,o)=>wa(e,n,o).isSome();class ri{constructor(n,o){this.node=n,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node}prev(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node}prev2(n){return this.node=this.findPreviousNode(this.node,n),this.node}findSibling(n,o,r,l){if(n){if(!l&&n[o])return n[o];if(n!==this.rootNode){let f=n[r];if(f)return f;for(let v=n.parentNode;v&&v!==this.rootNode;v=v.parentNode)if(f=v[r],f)return f}}}findPreviousNode(n,o){if(n){const r=n.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!o){for(let f=r.lastChild;f;f=f.lastChild)if(!f.lastChild)return f}return r}const l=n.parentNode;if(l&&l!==this.rootNode)return l}}}const ca=e=>n=>!!n&&n.nodeType===e,An=e=>!!e&&!Object.getPrototypeOf(e),Xt=ca(1),Np=e=>{const n=e.toLowerCase();return o=>Pe(o)&&o.nodeName.toLowerCase()===n},kl=e=>{const n=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const r=o.nodeName.toLowerCase();return Dn(n,r)}return!1}},Nl=(e,n)=>{const o=n.toLowerCase().split(" ");return r=>{if(Xt(r)){const l=r.ownerDocument.defaultView;if(l)for(let f=0;f<o.length;f++){const v=l.getComputedStyle(r,null);if((v?v.getPropertyValue(e):null)===o[f])return!0}}return!1}},Wb=e=>n=>Xt(n)&&n.hasAttribute(e),Pl=(e,n)=>o=>Xt(o)&&o.getAttribute(e)===n,Ll=e=>Xt(e)&&e.hasAttribute("data-mce-bogus"),sv=e=>Xt(e)&&e.getAttribute("data-mce-bogus")==="all",Ar=e=>Xt(e)&&e.tagName==="TABLE",Yh=e=>n=>!!(Xt(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e)),pg=kl(["textarea","input"]),Pt=ca(3),$w=ca(4),Gb=ca(7),za=ca(8),of=ca(9),jf=ca(11),wr=Np("br"),iE=Np("img"),Go=Yh("true"),es=Yh("false"),Zr=kl(["td","th"]),cc=kl(["td","th","caption"]),qr=kl(["video","audio","object","embed"]),Yf=Np("li"),Br="\uFEFF",ds=" ",au=e=>e===Br,_t=e=>e.replace(/\uFEFF/g,""),Kh=((e,n)=>{const o=f=>{if(!e(f))throw new Error("Can only get "+n+" value of a "+n+" node");return r(f).getOr("")},r=f=>e(f)?ee.from(f.dom.nodeValue):ee.none();return{get:o,getOption:r,set:(f,v)=>{if(!e(f))throw new Error("Can only set raw "+n+" value of a "+n+" node");f.dom.nodeValue=v}}})(ur,"text"),Ir=e=>Kh.get(e),cu=e=>Kh.getOption(e),lc=(e,n)=>Kh.set(e,n),ll=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],aE=["td","th"],uc=["thead","tbody","tfoot"],rv=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Wa=["h1","h2","h3","h4","h5","h6"],$o=["li","dd","dt"],Bu=["ul","ol","dl"],Sa=["pre","script","textarea","style"],la=["pre"].concat(Wa),$u=e=>{let n;return o=>(n=n||Nr(e,At),zn(n,$s(o)))},xa=$u(ll),cE=e=>$s(e)==="table",Aa=e=>Jo(e)&&!xa(e),sf=e=>Jo(e)&&$s(e)==="br",qe=$u(rv),Ac=$u(Bu),Xh=$u($o),lu=$u(uc),Ga=$u(aE),Yi=$u(Sa),_i=$u(la),Zb=e=>_i(e)||Aa(e),Pp=e=>{const n=[];let o=e.dom;for(;o;)n.push(xe.fromDom(o)),o=o.lastChild;return n},Kf=e=>{const n=Ta(e,"br"),o=En(Pp(e).slice(-1),sf);n.length===o.length&&lt(o,_r)},Pn=()=>{const e=xe.fromTag("br");return io(e,"data-mce-bogus","1"),e},vg=e=>{Xs(e),Er(e,Pn())},$l=e=>{Et(e).each(n=>{xc(n).each(o=>{xa(e)&&sf(n)&&xa(o)&&_r(n)})})},Ki=Br,iv=au,Fu=_t,lE=Xt,Qh=Pt,uu=e=>(Qh(e)&&(e=e.parentNode),lE(e)&&e.hasAttribute("data-mce-caret")),Za=e=>Qh(e)&&iv(e.data),Uc=e=>uu(e)||Za(e),av=e=>e.firstChild!==e.lastChild||!wr(e.firstChild),uE=(e,n)=>{var o;const l=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Ki),f=e.parentNode;if(n){const v=e.previousSibling;if(Qh(v)){if(Uc(v))return v;if(bg(v))return v.splitText(v.data.length-1)}f==null||f.insertBefore(l,e)}else{const v=e.nextSibling;if(Qh(v)){if(Uc(v))return v;if(Jh(v))return v.splitText(1),v}e.nextSibling?f==null||f.insertBefore(l,e.nextSibling):f==null||f.appendChild(l)}return l},Hu=e=>{const n=e.container();return Pt(n)?n.data.charAt(e.offset())===Ki||e.isAtStart()&&Za(n.previousSibling):!1},Lp=e=>{const n=e.container();return Pt(n)?n.data.charAt(e.offset()-1)===Ki||e.isAtEnd()&&Za(n.nextSibling):!1},cv=(e,n,o)=>{var r;const f=((r=n.ownerDocument)!==null&&r!==void 0?r:document).createElement(e);f.setAttribute("data-mce-caret",o?"before":"after"),f.setAttribute("data-mce-bogus","all"),f.appendChild(Pn().dom);const v=n.parentNode;return o?v==null||v.insertBefore(f,n):n.nextSibling?v==null||v.insertBefore(f,n.nextSibling):v==null||v.appendChild(f),f},Jh=e=>Qh(e)&&e.data[0]===Ki,bg=e=>Qh(e)&&e.data[e.data.length-1]===Ki,rf=e=>{var n;const o=e.getElementsByTagName("br"),r=o[o.length-1];Ll(r)&&((n=r.parentNode)===null||n===void 0||n.removeChild(r))},lv=e=>e&&e.hasAttribute("data-mce-caret")?(rf(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,uv=e=>uu(e.startContainer),fs=Go,qb=es,Ni=wr,ul=Pt,em=kl(["script","style","textarea"]),Xf=kl(["img","input","textarea","hr","iframe","video","audio","object","embed"]),dE=kl(["table"]),ii=Uc,zc=e=>ii(e)?!1:ul(e)?!em(e.parentNode):Xf(e)||Ni(e)||dE(e)||Jf(e),Qf=e=>Xt(e)&&e.getAttribute("unselectable")==="true",Jf=e=>!Qf(e)&&qb(e),yd=(e,n)=>{for(let o=e.parentNode;o&&o!==n;o=o.parentNode){if(Jf(o))return!1;if(fs(o))return!0}return!0},af=e=>Jf(e)?!Os(pr(e.getElementsByTagName("*")),(n,o)=>n||fs(o),!1):!1,Wc=e=>Xf(e)||af(e),wi=(e,n)=>zc(e)&&yd(e,n),dv=/^[ \t\r\n]*$/,dc=e=>dv.test(e),dl=e=>" \f	\v".indexOf(e)!==-1,Gc=e=>e===`
`||e==="\r",yg=(e,n)=>n<e.length&&n>=0?Gc(e[n]):!1,eh=(e,n=4,o=!0,r=!0)=>{const l=rl(" ",n),f=e.replace(/\t/g,l);return Os(f,(T,A)=>dl(A)||A===ds?T.pcIsSpace||T.str===""&&o||T.str.length===f.length-1&&r||yg(f,T.str.length+1)?{pcIsSpace:!1,str:T.str+ds}:{pcIsSpace:!0,str:T.str+" "}:{pcIsSpace:Gc(A),str:T.str+A},{pcIsSpace:!1,str:""}).str},fv=(e,n)=>{const o=xe.fromDom(n),r=xe.fromDom(e);return ov(r,"pre,code",Ve(zo,o))},jb=(e,n)=>Pt(e)&&dc(e.data)&&!fv(e,n),Qs=e=>Xt(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),hv=(e,n)=>zc(e)&&!jb(e,n)||Qs(e)||fc(e),fc=Wb("data-mce-bookmark"),mv=Wb("data-mce-bogus"),gv=Pl("data-mce-bogus","all"),cf=(e,n)=>{let o=0;if(hv(e,e))return!1;{let r=e.firstChild;if(!r)return!0;const l=new ri(r,e);do{if(n){if(gv(r)){r=l.next(!0);continue}if(mv(r)){r=l.next();continue}}if(wr(r)){o++,r=l.next();continue}if(hv(r,e))return!1;r=l.next()}while(r);return o<=1}},xs=(e,n=!0)=>cf(e.dom,n),Ed="data-mce-block",Bp=e=>En(La(e),n=>!/[A-Z]/.test(n)),pv=e=>Bp(e).join(","),tm=(e,n)=>Pe(n.querySelector(e))?(n.setAttribute(Ed,"true"),n.getAttribute("data-mce-selected")==="inline-boundary"&&n.removeAttribute("data-mce-selected"),!0):(n.removeAttribute(Ed),!1),$p=(e,n)=>{const o=pv(e.getTransparentElements()),r=pv(e.getBlockElements());return En(n.querySelectorAll(o),l=>tm(r,l))},Eg=(e,n)=>{var o;const r=n?"lastChild":"firstChild";for(let l=e[r];l;l=l[r])if(xs(xe.fromDom(l))){(o=l.parentNode)===null||o===void 0||o.removeChild(l);return}},fE=(e,n)=>{const o=document.createRange(),r=e.parentNode;if(r){o.setStartBefore(e),o.setEndBefore(n);const l=o.extractContents();Eg(l,!0),o.setStartAfter(n),o.setEndAfter(e);const f=o.extractContents();Eg(f,!1),xs(xe.fromDom(l))||r.insertBefore(l,e),xs(xe.fromDom(n))||r.insertBefore(n,e),xs(xe.fromDom(f))||r.insertBefore(f,e),r.removeChild(e)}},Oc=(e,n,o)=>{const r=e.getBlockElements(),l=xe.fromDom(n),f=T=>$s(T)in r,v=T=>zo(T,l);lt(Zh(o),T=>{Ds(T,f,v).each(A=>{const L=rE(T,q=>f(q)&&!e.isValidChild($s(A),$s(q)));if(L.length>0){const q=oi(A);lt(L,Z=>{Ds(Z,f,v).each(te=>{fE(te.dom,Z.dom)})}),q.each(Z=>$p(e,Z.dom))}})})},du=(e,n,o)=>{lt([...o,...uf(e,n)?[n]:[]],r=>lt(Ta(xe.fromDom(r),r.nodeName.toLowerCase()),l=>{Yb(e,l.dom)&&Ha(l)}))},lf=(e,n)=>{const o=$p(e,n);Oc(e,n,o),du(e,n,o)},_d=(e,n)=>{if(Fp(e,n)){const o=pv(e.getBlockElements());tm(o,n)}},fu=(e,n,o)=>{const r=f=>zo(f,xe.fromDom(n)),l=Us(xe.fromDom(o),r);xl(l,l.length-2).filter(Jo).fold(()=>lf(e,n),f=>lf(e,f.dom))},Fl=e=>e.hasAttribute(Ed),_g=(e,n)=>zn(e.getTransparentElements(),n),Fp=(e,n)=>Xt(n)&&_g(e,n.nodeName),uf=(e,n)=>Fp(e,n)&&Fl(n),Yb=(e,n)=>Fp(e,n)&&!Fl(n),nm=(e,n)=>n.type===1&&_g(e,n.name)&&ne(n.attr(Ed)),om=(e,n)=>n.type===1&&_g(e,n.name)&&mt(n.attr(Ed)),hE=Bs().browser,wg=e=>gs(e,Jo),Zo=e=>hE.isFirefox()&&$s(e)==="table"?wg(Fe(e)).filter(n=>$s(n)==="caption").bind(n=>wg(Me(n)).map(o=>{const r=o.dom.offsetTop,l=n.dom.offsetTop,f=n.dom.offsetHeight;return r<=l?-f:0})).getOr(0):0,Tn=(e,n)=>e.children&&Dn(e.children,n),wd=(e,n,o)=>{let r=0,l=0;const f=e.ownerDocument;if(o=o||e,n){if(o===e&&n.getBoundingClientRect&&bd(xe.fromDom(e),"position")==="static"){const T=n.getBoundingClientRect();return r=T.left+(f.documentElement.scrollLeft||e.scrollLeft)-f.documentElement.clientLeft,l=T.top+(f.documentElement.scrollTop||e.scrollTop)-f.documentElement.clientTop,{x:r,y:l}}let v=n;for(;v&&v!==o&&v.nodeType&&!Tn(v,o);){const T=v;r+=T.offsetLeft||0,l+=T.offsetTop||0,v=T.offsetParent}for(v=n.parentNode;v&&v!==o&&v.nodeType&&!Tn(v,o);)r-=v.scrollLeft||0,l-=v.scrollTop||0,v=v.parentNode;l+=Zo(xe.fromDom(n))}return{x:r,y:l}},Cd=(e,n={})=>{let o=0;const r={},l=xe.fromDom(e),f=wt(l),v=ue=>{n.referrerPolicy=ue},T=ue=>{n.contentCssCors=ue},A=ue=>{Er(Vo(l),ue)},L=ue=>{const Ce=Vo(l);Dp(Ce,"#"+ue).each(_r)},q=ue=>Ys(r,ue).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),Z=ue=>new Promise((Ce,Be)=>{let Ie;const Ue=me._addCacheSuffix(ue),et=q(Ue);r[Ue]=et,et.count++;const yt=(it,ln)=>{lt(it,Fo),et.status=ln,et.passed=[],et.failed=[],Ie&&(Ie.onload=null,Ie.onerror=null,Ie=null)},Yt=()=>yt(et.passed,2),Ft=()=>yt(et.failed,3);if(Ce&&et.passed.push(Ce),Be&&et.failed.push(Be),et.status===1)return;if(et.status===2){Yt();return}if(et.status===3){Ft();return}et.status=1;const at=xe.fromTag("link",f.dom);Lr(at,{rel:"stylesheet",type:"text/css",id:et.id}),n.contentCssCors&&io(at,"crossOrigin","anonymous"),n.referrerPolicy&&io(at,"referrerpolicy",n.referrerPolicy),Ie=at.dom,Ie.onload=Yt,Ie.onerror=Ft,A(at),io(at,"href",Ue)}),te=ue=>Promise.allSettled(qt(ue,Be=>Z(Be).then(Xe(Be)))).then(Be=>{const Ie=Ui(Be,Ue=>Ue.status==="fulfilled");return Ie.fail.length>0?Promise.reject(qt(Ie.fail,Ue=>Ue.reason)):qt(Ie.pass,Ue=>Ue.value)}),we=ue=>{const Ce=me._addCacheSuffix(ue);Ys(r,Ce).each(Be=>{--Be.count===0&&(delete r[Ce],L(Be.id))})};return{load:Z,loadAll:te,unload:we,unloadAll:ue=>{lt(ue,Ce=>{we(Ce)})},_setReferrerPolicy:v,_setContentCssCors:T}},Hp=(()=>{const e=new WeakMap;return{forElement:(o,r)=>{const f=Xn(o).dom;return ee.from(e.get(f)).getOrThunk(()=>{const v=Cd(f,r);return e.set(f,v),v})}}})(),Kb=e=>e.nodeName.toLowerCase()==="span",Ms=(e,n)=>Pe(e)&&(hv(e,n)||Aa(xe.fromDom(e))),Vp=(e,n)=>{const o=new ri(e,n).prev(!1),r=new ri(e,n).next(!1),l=mt(o)||Ms(o,n),f=mt(r)||Ms(r,n);return l&&f},vv=e=>Kb(e)&&e.getAttribute("data-mce-type")==="bookmark",bv=(e,n)=>Pt(e)&&e.data.length>0&&Vp(e,n),St=e=>Xt(e)?e.childNodes.length>0:!1,yv=e=>jf(e)||of(e),Vu=(e,n,o)=>{var r;const l=o||n;if(Xt(n)&&vv(n))return n;const f=n.childNodes;for(let v=f.length-1;v>=0;v--)Vu(e,f[v],l);if(Xt(n)){const v=n.childNodes;v.length===1&&vv(v[0])&&((r=n.parentNode)===null||r===void 0||r.insertBefore(v[0],n))}return!yv(n)&&!hv(n,l)&&!St(n)&&!bv(n,l)&&e.remove(n),n},th=me.makeMap,Up=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,df=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Tg=/[<>&\"\']/g,sm=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Xb={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},ua={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},or={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},qa=e=>{const n=xe.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},rm=(e,n)=>{const o={};if(e){const r=e.split(",");n=n||10;for(let l=0;l<r.length;l+=2){const f=String.fromCharCode(parseInt(r[l],n));if(!ua[f]){const v="&"+r[l+1]+";";o[f]=v,o[v]=f}}return o}else return},fl=rm("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),im=(e,n)=>e.replace(n?Up:df,o=>ua[o]||o),yo=e=>(""+e).replace(Tg,n=>ua[n]||n),Uu=(e,n)=>e.replace(n?Up:df,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":ua[o]||"&#"+o.charCodeAt(0)+";"),zp=(e,n,o)=>{const r=o||fl;return e.replace(n?Up:df,l=>ua[l]||r[l]||l)},Td={encodeRaw:im,encodeAllRaw:yo,encodeNumeric:Uu,encodeNamed:zp,getEncodeFunc:(e,n)=>{const o=rm(n)||fl,r=(v,T)=>v.replace(T?Up:df,A=>ua[A]!==void 0?ua[A]:o[A]!==void 0?o[A]:A.length>1?"&#"+((A.charCodeAt(0)-55296)*1024+(A.charCodeAt(1)-56320)+65536)+";":"&#"+A.charCodeAt(0)+";"),l=(v,T)=>zp(v,T,o),f=th(e.replace(/\+/g,","));return f.named&&f.numeric?r:f.named?n?l:zp:f.numeric?Uu:im},decode:e=>e.replace(sm,(n,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):Xb[o]||String.fromCharCode(o)):or[n]||fl[n]||qa(n))},hu={},Oa={},Fw={},Sg=me.makeMap,ai=me.each,fn=me.extend,Ev=me.explode,mE=me.inArray,Ra=(e,n)=>(e=me.trim(e),e?e.split(n||" "):[]),Qb=(e,n={})=>{const o=Sg(e," ",Sg(e.toUpperCase()," "));return fn(o,n)},Sd=e=>Qb("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),hc=e=>{const n={};let o,r,l,f;const v=(A,L="",q="")=>{const Z=Ra(q),te=Ra(A);let we=te.length;for(;we--;){const Se=Ra([o,L].join(" "));n[te[we]]={attributes:Nr(Se,()=>({})),attributesOrder:Se,children:Nr(Z,Xe(Fw))}}},T=(A,L)=>{const q=Ra(A),Z=Ra(L);let te=q.length;for(;te--;){const we=n[q[te]];for(let Se=0,ue=Z.length;Se<ue;Se++)we.attributes[Z[Se]]={},we.attributesOrder.push(Z[Se])}};if(hu[e])return hu[e];if(o="id accesskey class dir lang style tabindex title role",r="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",l="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"){const A="a ins del canvas map";o+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",r+=" article aside details dialog figure main header footer hgroup section nav "+A,l+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"}if(e!=="html5-strict"){o+=" xml:lang";const A="acronym applet basefont big font strike tt";l=[l,A].join(" "),ai(Ra(A),q=>{v(q,"",l)});const L="center dir isindex noframes";r=[r,L].join(" "),f=[r,l].join(" "),ai(Ra(L),q=>{v(q,"",f)})}return f=f||[r,l].join(" "),v("html","manifest","head body"),v("head","","base command link meta noscript script style title"),v("title hr noscript br"),v("base","href target"),v("link","href rel media hreflang type sizes hreflang"),v("meta","name http-equiv content charset"),v("style","media type scoped"),v("script","src async defer type charset"),v("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",f),v("address dt dd div caption","",f),v("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",l),v("blockquote","cite",f),v("ol","reversed start type","li"),v("ul","","li"),v("li","value",f),v("dl","","dt dd"),v("a","href target rel media hreflang type",f),v("q","cite",l),v("ins del","cite datetime",f),v("img","src sizes srcset alt usemap ismap width height"),v("iframe","src name width height",f),v("embed","src type width height"),v("object","data type typemustmatch name usemap form width height",[f,"param"].join(" ")),v("param","name value"),v("map","name",[f,"area"].join(" ")),v("area","alt coords shape href target rel media hreflang type"),v("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),v("colgroup","span","col"),v("col","span"),v("tbody thead tfoot","","tr"),v("tr","","td th"),v("td","colspan rowspan headers",f),v("th","colspan rowspan headers scope abbr",f),v("form","accept-charset action autocomplete enctype method name novalidate target",f),v("fieldset","disabled form name",[f,"legend"].join(" ")),v("label","form for",l),v("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),v("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?f:l),v("select","disabled form multiple name required size","option optgroup"),v("optgroup","disabled label","option"),v("option","disabled label selected value"),v("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),v("menu","type label",[f,"li"].join(" ")),v("noscript","",f),e!=="html4"&&(v("wbr"),v("ruby","",[l,"rt rp"].join(" ")),v("figcaption","",f),v("mark rt rp summary bdi","",l),v("canvas","width height",f),v("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[f,"track source"].join(" ")),v("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[f,"track source"].join(" ")),v("picture","","img source"),v("source","src srcset type media sizes"),v("track","kind src srclang label default"),v("datalist","",[l,"option"].join(" ")),v("article section nav aside main header footer","",f),v("hgroup","","h1 h2 h3 h4 h5 h6"),v("figure","",[f,"figcaption"].join(" ")),v("time","datetime",l),v("dialog","open",f),v("command","type label icon disabled checked radiogroup command"),v("output","for form name",l),v("progress","value max",l),v("meter","value min max low high optimum",l),v("details","open",[f,"summary"].join(" ")),v("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(T("script","language xml:space"),T("style","xml:space"),T("object","declare classid code codebase codetype archive standby align border hspace vspace"),T("embed","align name hspace vspace"),T("param","valuetype type"),T("a","charset name rev shape coords"),T("br","clear"),T("applet","codebase archive code object alt name width height align hspace vspace"),T("img","name longdesc align border hspace vspace"),T("iframe","longdesc frameborder marginwidth marginheight scrolling align"),T("font basefont","size color face"),T("input","usemap align"),T("select"),T("textarea"),T("h1 h2 h3 h4 h5 h6 div p legend caption","align"),T("ul","type compact"),T("li","type"),T("ol dl menu dir","compact"),T("pre","width xml:space"),T("hr","align noshade size width"),T("isindex","prompt"),T("table","summary width frame rules cellspacing cellpadding align bgcolor"),T("col","width align char charoff valign"),T("colgroup","width align char charoff valign"),T("thead","align char charoff valign"),T("tr","align char charoff valign bgcolor"),T("th","axis align char charoff valign nowrap bgcolor width height"),T("form","accept"),T("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),T("tfoot","align char charoff valign"),T("tbody","align char charoff valign"),T("area","nohref"),T("body","background bgcolor text link vlink alink")),e!=="html4"&&(T("input button select textarea","autofocus"),T("input textarea","placeholder"),T("a","download"),T("link script img","crossorigin"),T("img","loading"),T("iframe","sandbox seamless allow allowfullscreen loading")),e!=="html4"&&lt([n.video,n.audio],A=>{delete A.children.audio,delete A.children.video}),ai(Ra("a form meter progress dfn"),A=>{n[A]&&delete n[A].children[A]}),delete n.caption.children.table,delete n.script,hu[e]=n,n},mu=(e,n)=>{if(e){const o={};return ne(e)&&(e={"*":e}),ai(e,(r,l)=>{o[l]=o[l.toUpperCase()]=n==="map"?Sg(r,/[, ]/):Ev(r,/[, ]/)}),o}else return},hl=(e={})=>{var n;const o={},r={};let l=[];const f={},v={},T=(no,ns,Ps)=>{const qs=e[no];if(qs)return Sg(qs,/[, ]/,Sg(qs.toUpperCase(),/[, ]/));{let Ur=Oa[no];return Ur||(Ur=Qb(ns,Ps),Oa[no]=Ur),Ur}},A=(n=e.schema)!==null&&n!==void 0?n:"html5",L=hc(A);e.verify_html===!1&&(e.valid_elements="*[*]");const q=mu(e.valid_styles),Z=mu(e.invalid_styles,"map"),te=mu(e.valid_classes,"map"),we=T("whitespace_elements","pre script noscript style textarea video audio iframe object code"),Se=T("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),ue=T("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),Ce=T("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),Be="td th iframe video audio object script code",Ie=T("non_empty_elements",Be+" pre",ue),Ue=T("move_caret_before_on_enter_elements",Be+" table",ue),et=T("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),yt=T("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",et),Yt=T("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),Ft=T("transparent_elements","a ins del canvas map");ai("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),no=>{v[no]=new RegExp("</"+no+"[^>]*>","gi")});const at=no=>new RegExp("^"+no.replace(/([?+*])/g,".$1")+"$"),it=no=>{const ns=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,Ps=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,qs=/[*?+]/;if(no){const Ur=Ra(no,",");let gi,Sr;o["@"]&&(gi=o["@"].attributes,Sr=o["@"].attributesOrder);for(let Hi=0,Rf=Ur.length;Hi<Rf;Hi++){let Nc=ns.exec(Ur[Hi]);if(Nc){const jm=Nc[1],rd=Nc[2],Uy=Nc[3],zy=Nc[5],Ym={},Nh=[],ta={attributes:Ym,attributesOrder:Nh};if(jm==="#"&&(ta.paddEmpty=!0),jm==="-"&&(ta.removeEmpty=!0),Nc[4]==="!"&&(ta.removeEmptyAttrs=!0),gi&&(nn(gi,(If,Km)=>{Ym[Km]=If}),Sr&&Nh.push(...Sr)),zy){const If=Ra(zy,"|");for(let Km=0,_l=If.length;Km<_l;Km++)if(Nc=Ps.exec(If[Km]),Nc){const Df={},hp=Nc[1],Jc=Nc[2].replace(/[\\:]:/g,":"),H1=Nc[3],Xm=Nc[4];if(hp==="!"&&(ta.attributesRequired=ta.attributesRequired||[],ta.attributesRequired.push(Jc),Df.required=!0),hp==="-"){delete Ym[Jc],Nh.splice(mE(Nh,Jc),1);continue}if(H1&&(H1==="="&&(ta.attributesDefault=ta.attributesDefault||[],ta.attributesDefault.push({name:Jc,value:Xm}),Df.defaultValue=Xm),H1==="~"&&(ta.attributesForced=ta.attributesForced||[],ta.attributesForced.push({name:Jc,value:Xm}),Df.forcedValue=Xm),H1==="<"&&(Df.validValues=Sg(Xm,"?"))),qs.test(Jc)){const id=Df;ta.attributePatterns=ta.attributePatterns||[],id.pattern=at(Jc),ta.attributePatterns.push(id)}else Ym[Jc]||Nh.push(Jc),Ym[Jc]=Df}}if(!gi&&rd==="@"&&(gi=Ym,Sr=Nh),Uy&&(ta.outputName=rd,o[Uy]=ta),qs.test(rd)){const If=ta;If.pattern=at(rd),l.push(If)}else o[rd]=ta}}}},ln=no=>{l=[],lt(La(o),ns=>{delete o[ns]}),it(no),ai(L,(ns,Ps)=>{r[Ps]=ns.children})},xn=no=>{const ns=/^(~)?(.+)$/;no&&(delete Oa.text_block_elements,delete Oa.block_elements,ai(Ra(no,","),Ps=>{const qs=ns.exec(Ps);if(qs){const Ur=qs[1]==="~",gi=Ur?"span":"div",Sr=qs[2];if(r[Sr]=r[gi],f[Sr]=gi,Ie[Sr.toUpperCase()]={},Ie[Sr]={},Ur||(yt[Sr.toUpperCase()]={},yt[Sr]={}),!o[Sr]){let Hi=o[gi];Hi=fn({},Hi),delete Hi.removeEmptyAttrs,delete Hi.removeEmpty,o[Sr]=Hi}ai(r,(Hi,Rf)=>{Hi[gi]&&(r[Rf]=Hi=fn({},r[Rf]),Hi[Sr]=Hi[gi])})}}))},Bn=no=>{const ns=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;delete hu[A],no&&ai(Ra(no,","),Ps=>{const qs=ns.exec(Ps);if(qs){const Ur=qs[1];let gi;Ur?gi=r[qs[2]]:gi=r[qs[2]]={"#comment":{}},gi=r[qs[2]],ai(Ra(qs[3],"|"),Sr=>{Ur==="-"?delete gi[Sr]:gi[Sr]={}})}})},ho=no=>{const ns=o[no];if(ns)return ns;let Ps=l.length;for(;Ps--;){const qs=l[Ps];if(qs.pattern.test(no))return qs}};e.valid_elements?ln(e.valid_elements):(ai(L,(no,ns)=>{o[ns]={attributes:no.attributes,attributesOrder:no.attributesOrder},r[ns]=no.children}),ai(Ra("strong/b em/i"),no=>{const ns=Ra(no,"/");o[ns[1]].outputName=ns[0]}),ai(Yt,(no,ns)=>{o[ns]&&(e.padd_empty_block_inline_children&&(o[ns].paddInEmptyBlock=!0),o[ns].removeEmpty=!0)}),ai(Ra("ol ul blockquote a table tbody"),no=>{o[no]&&(o[no].removeEmpty=!0)}),ai(Ra("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),no=>{o[no].paddEmpty=!0}),ai(Ra("span"),no=>{o[no].removeEmptyAttrs=!0})),xn(e.custom_elements),Bn(e.valid_children),it(e.extended_valid_elements),Bn("+ol[ul|ol],+ul[ul|ol]"),ai({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(no,ns)=>{o[ns]&&(o[ns].parentsRequired=Ra(no))}),e.invalid_elements&&ai(Ev(e.invalid_elements),no=>{o[no]&&delete o[no]}),ho("span")||it("span[!data-mce-type|*]");const No=Xe(q),bs=Xe(Z),Zs=Xe(te),Jr=Xe(Ce),tc=Xe(yt),ma=Xe(et),$t=Xe(Yt),wn=Xe(Object.seal(ue)),Qo=Xe(Se),tn=Xe(Ie),kn=Xe(Ue),Nn=Xe(we),sn=Xe(Ft),Ro=Xe(Object.seal(v)),Io=(no,ns)=>{const Ps=r[no.toLowerCase()];return!!(Ps&&Ps[ns.toLowerCase()])},Pa=(no,ns)=>{const Ps=ho(no);if(Ps)if(ns){if(Ps.attributes[ns])return!0;const qs=Ps.attributePatterns;if(qs){let Ur=qs.length;for(;Ur--;)if(qs[Ur].pattern.test(ns))return!0}}else return!0;return!1},Cr=Xe(f);return{type:A,children:r,elements:o,getValidStyles:No,getValidClasses:Zs,getBlockElements:tc,getInvalidStyles:bs,getVoidElements:wn,getTextBlockElements:ma,getTextInlineElements:$t,getBoolAttrs:Jr,getElementRule:ho,getSelfClosingElements:Qo,getNonEmptyElements:tn,getMoveCaretBeforeOnEnterElements:kn,getWhitespaceElements:Nn,getTransparentElements:sn,getSpecialElements:Ro,isValidChild:Io,isValid:Pa,getCustomElements:Cr,addValidElements:it,setValidElements:ln,addCustomElements:xn,addValidChildren:Bn}},xg=(e={},n)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,l=/\s+$/,f={};let v,T;const A=Br;n&&(v=n.getValidStyles(),T=n.getInvalidStyles());const L=(`\\" \\' \\; \\: ; : `+A).split(" ");for(let Z=0;Z<L.length;Z++)f[L[Z]]=A+Z,f[A+Z]=L[Z];const q={parse:Z=>{const te={};let we=!1;const Se=e.url_converter,ue=e.url_converter_scope||q,Ce=(at,it,ln)=>{const xn=te[at+"-top"+it];if(!xn)return;const Bn=te[at+"-right"+it];if(!Bn)return;const ho=te[at+"-bottom"+it];if(!ho)return;const No=te[at+"-left"+it];if(!No)return;const bs=[xn,Bn,ho,No];let Zs=bs.length-1;for(;Zs--&&bs[Zs]===bs[Zs+1];);Zs>-1&&ln||(te[at+it]=Zs===-1?bs[0]:bs.join(" "),delete te[at+"-top"+it],delete te[at+"-right"+it],delete te[at+"-bottom"+it],delete te[at+"-left"+it])},Be=at=>{const it=te[at];if(!it)return;const ln=it.split(" ");let xn=ln.length;for(;xn--;)if(ln[xn]!==ln[0])return!1;return te[at]=ln[0],!0},Ie=(at,it,ln,xn)=>{Be(it)&&Be(ln)&&Be(xn)&&(te[at]=te[it]+" "+te[ln]+" "+te[xn],delete te[it],delete te[ln],delete te[xn])},Ue=at=>(we=!0,f[at]),et=(at,it)=>(we&&(at=at.replace(/\uFEFF[0-9]/g,ln=>f[ln])),it||(at=at.replace(/\\([\'\";:])/g,"$1")),at),yt=at=>String.fromCharCode(parseInt(at.slice(1),16)),Yt=at=>at.replace(/\\[0-9a-f]+/gi,yt),Ft=(at,it,ln,xn,Bn,ho)=>{if(Bn=Bn||ho,Bn)return Bn=et(Bn),"'"+Bn.replace(/\'/g,"\\'")+"'";if(it=et(it||ln||xn||""),!e.allow_script_urls){const No=it.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(No)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(No))return""}return Se&&(it=Se.call(ue,it,"style")),"url('"+it.replace(/\'/g,"\\'")+"')"};if(Z){Z=Z.replace(/[\u0000-\u001F]/g,""),Z=Z.replace(/\\[\"\';:\uFEFF]/g,Ue).replace(/\"[^\"]+\"|\'[^\']+\'/g,it=>it.replace(/[;:]/g,Ue));let at;for(;at=r.exec(Z);){r.lastIndex=at.index+at[0].length;let it=at[1].replace(l,"").toLowerCase(),ln=at[2].replace(l,"");if(it&&ln){if(it=Yt(it),ln=Yt(ln),it.indexOf(A)!==-1||it.indexOf('"')!==-1||!e.allow_script_urls&&(it==="behavior"||/expression\s*\(|\/\*|\*\//.test(ln)))continue;it==="font-weight"&&ln==="700"?ln="bold":(it==="color"||it==="background-color")&&(ln=ln.toLowerCase()),ln=ln.replace(o,Ft),te[it]=we?et(ln,!0):ln}}Ce("border","",!0),Ce("border","-width"),Ce("border","-color"),Ce("border","-style"),Ce("padding",""),Ce("margin",""),Ie("border","border-width","border-style","border-color"),te.border==="medium none"&&delete te.border,te["border-image"]==="none"&&delete te["border-image"]}return te},serialize:(Z,te)=>{let we="";const Se=(Ce,Be)=>{const Ie=Be[Ce];if(Ie)for(let Ue=0,et=Ie.length;Ue<et;Ue++){const yt=Ie[Ue],Yt=Z[yt];Yt&&(we+=(we.length>0?" ":"")+yt+": "+Yt+";")}},ue=(Ce,Be)=>{if(!T||!Be)return!0;let Ie=T["*"];return Ie&&Ie[Ce]?!1:(Ie=T[Be],!(Ie&&Ie[Ce]))};return te&&v?(Se("*",v),Se(te,v)):nn(Z,(Ce,Be)=>{Ce&&ue(Be,te)&&(we+=(we.length>0?" ":"")+Be+": "+Ce+";")}),we}};return q},am={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Hw=e=>e instanceof Event||he(e.initEvent),Ag=e=>e.isDefaultPrevented===At||e.isDefaultPrevented===je,Og=e=>xt(e.preventDefault)||Hw(e),cm=(e,n)=>{const o=n??{};for(const r in e)zn(am,r)||(o[r]=e[r]);return Pe(e.composedPath)&&(o.composedPath=()=>e.composedPath()),o},Rg=(e,n,o,r)=>{var l;const f=cm(n,r);return f.type=e,xt(f.target)&&(f.target=(l=f.srcElement)!==null&&l!==void 0?l:o),Og(n)&&(f.preventDefault=()=>{f.defaultPrevented=!0,f.isDefaultPrevented=At,he(n.preventDefault)&&n.preventDefault()},f.stopPropagation=()=>{f.cancelBubble=!0,f.isPropagationStopped=At,he(n.stopPropagation)&&n.stopPropagation()},f.stopImmediatePropagation=()=>{f.isImmediatePropagationStopped=At,f.stopPropagation()},Ag(f)||(f.isDefaultPrevented=f.defaultPrevented===!0?At:je,f.isPropagationStopped=f.cancelBubble===!0?At:je,f.isImmediatePropagationStopped=je)),f},lm="mce-data-",gE=/^(?:mouse|contextmenu)|click/,_v=(e,n,o,r)=>{e.addEventListener(n,o,r||!1)},oh=(e,n,o,r)=>{e.removeEventListener(n,o,r||!1)},Wp=e=>Pe(e)&&gE.test(e.type),Zc=(e,n)=>{const o=Rg(e.type,e,document,n);if(Wp(e)&&mt(e.pageX)&&!mt(e.clientX)){const r=o.target.ownerDocument||document,l=r.documentElement,f=r.body,v=o;v.pageX=e.clientX+(l&&l.scrollLeft||f&&f.scrollLeft||0)-(l&&l.clientLeft||f&&f.clientLeft||0),v.pageY=e.clientY+(l&&l.scrollTop||f&&f.scrollTop||0)-(l&&l.clientTop||f&&f.clientTop||0)}return o},ja=(e,n,o)=>{const r=e.document,l={type:"ready"};if(o.domLoaded){n(l);return}const f=()=>r.readyState==="complete"||r.readyState==="interactive"&&r.body,v=()=>{oh(e,"DOMContentLoaded",v),oh(e,"load",v),o.domLoaded||(o.domLoaded=!0,n(l)),e=null};f()?v():_v(e,"DOMContentLoaded",v),o.domLoaded||_v(e,"load",v)};class xd{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=lm+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(n,o,r,l){const f=this;let v;const T=window,A=te=>{f.executeHandlers(Zc(te||T.event),L)};if(!n||Pt(n)||za(n))return r;let L;n[f.expando]?L=n[f.expando]:(L=f.count++,n[f.expando]=L,f.events[L]={}),l=l||n;const q=o.split(" ");let Z=q.length;for(;Z--;){let te=q[Z],we=A,Se=!1,ue=!1;if(te==="DOMContentLoaded"&&(te="ready"),f.domLoaded&&te==="ready"&&n.readyState==="complete"){r.call(l,Zc({type:te}));continue}!f.hasFocusIn&&(te==="focusin"||te==="focusout")&&(Se=!0,ue=te==="focusin"?"focus":"blur",we=Ce=>{const Be=Zc(Ce||T.event);Be.type=Be.type==="focus"?"focusin":"focusout",f.executeHandlers(Be,L)}),v=f.events[L][te],v?te==="ready"&&f.domLoaded?r(Zc({type:te})):v.push({func:r,scope:l}):(f.events[L][te]=v=[{func:r,scope:l}],v.fakeName=ue,v.capture=Se,v.nativeHandler=we,te==="ready"?ja(n,we,f):_v(n,ue||te,we,Se))}return n=v=null,r}unbind(n,o,r){if(!n||Pt(n)||za(n))return this;const l=n[this.expando];if(l){let f=this.events[l];if(o){const v=o.split(" ");let T=v.length;for(;T--;){const A=v[T],L=f[A];if(L){if(r){let q=L.length;for(;q--;)if(L[q].func===r){const Z=L.nativeHandler,te=L.fakeName,we=L.capture,Se=L.slice(0,q).concat(L.slice(q+1));Se.nativeHandler=Z,Se.fakeName=te,Se.capture=we,f[A]=Se}}(!r||L.length===0)&&(delete f[A],oh(n,L.fakeName||A,L.nativeHandler,L.capture))}}}else nn(f,(v,T)=>{oh(n,v.fakeName||T,v.nativeHandler,v.capture)}),f={};for(const v in f)if(zn(f,v))return this;delete this.events[l];try{delete n[this.expando]}catch{n[this.expando]=null}}return this}fire(n,o,r){return this.dispatch(n,o,r)}dispatch(n,o,r){if(!n||Pt(n)||za(n))return this;const l=Zc({type:o,target:n},r);do{const f=n[this.expando];f&&this.executeHandlers(l,f),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow}while(n&&!l.isPropagationStopped());return this}clean(n){if(!n||Pt(n)||za(n))return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName){this.unbind(n);const o=n.getElementsByTagName("*");let r=o.length;for(;r--;)n=o[r],n[this.expando]&&this.unbind(n)}return this}destroy(){this.events={}}cancel(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1}executeHandlers(n,o){const r=this.events[o],l=r&&r[n.type];if(l)for(let f=0,v=l.length;f<v;f++){const T=l[f];if(T&&T.func.call(T.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}}}xd.Event=new xd;const sh=me.each,wv=me.grep,Ig="data-mce-style",gu=me.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),um=(e,n,o)=>{xt(o)||o===""?dr(e,n):io(e,n,o)},dm=e=>e.replace(/[A-Z]/g,n=>"-"+n.toLowerCase()),Ia=(e,n)=>{let o=0;if(e)for(let r=e.nodeType,l=e.previousSibling;l;l=l.previousSibling){const f=l.nodeType;n&&Pt(l)&&(f===r||!l.data.length)||(o++,r=f)}return o},hf=(e,n)=>{const o=ba(n,"style"),r=e.serialize(e.parse(o),$s(n));um(n,Ig,r)},Vw=(e,n)=>dn(e)?zn(gu,n)?e+"":e+"px":e,Jb=(e,n,o)=>{const r=dm(n);xt(o)||o===""?ji(e,r):si(e,r,Vw(o,r))},e0=(e,n,o)=>{const r=n.keep_values,l={set:(v,T,A)=>{const L=xe.fromDom(v);he(n.url_converter)&&Pe(T)&&(T=n.url_converter.call(n.url_converter_scope||o(),String(T),A,v));const q="data-mce-"+A;um(L,q,T),um(L,A,T)},get:(v,T)=>{const A=xe.fromDom(v);return ba(A,"data-mce-"+T)||ba(A,T)}},f={style:{set:(v,T)=>{const A=xe.fromDom(v);r&&um(A,Ig,T),dr(A,"style"),ne(T)&&aa(A,e.parse(T))},get:v=>{const T=xe.fromDom(v),A=ba(T,Ig)||ba(T,"style");return e.serialize(e.parse(A),$s(T))}}};return r&&(f.href=f.src=l),f},zs=(e,n={})=>{const o={},r=window,l={};let f=0;const v=!0,T=!0,A=Hp.forElement(xe.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),L=[],q=n.schema?n.schema:hl({}),Z=xg({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),te=n.ownEvents?new xd:xd.Event,we=q.getBlockElements(),Se=nt=>ne(nt)?zn(we,nt):Xt(nt)&&(zn(we,nt.nodeName)||uf(q,nt)),ue=nt=>nt&&e&&ne(nt)?e.getElementById(nt):nt,Ce=nt=>{const ot=ue(nt);return Pe(ot)?xe.fromDom(ot):null},Be=(nt,ot,Ht="")=>{let Lt;const Mn=Ce(nt);if(Pe(Mn)&&Jo(Mn)){const Do=Wy[ot];Do&&Do.get?Lt=Do.get(Mn.dom,ot):Lt=ba(Mn,ot)}return Pe(Lt)?Lt:Ht},Ie=nt=>{const ot=ue(nt);return xt(ot)?[]:ot.attributes},Ue=(nt,ot,Ht)=>{wn(nt,Lt=>{if(Xt(Lt)){const Mn=xe.fromDom(Lt),Do=Ht===""?null:Ht,er=ba(Mn,ot),gr=Wy[ot];gr&&gr.set?gr.set(Mn.dom,Do,ot):um(Mn,ot,Do),er!==Do&&n.onSetAttrib&&n.onSetAttrib({attrElm:Mn.dom,attrName:ot,attrValue:Do})}})},et=(nt,ot)=>nt.cloneNode(ot),yt=()=>n.root_element||e.body,Yt=nt=>{const ot=zb(nt);return{x:ot.x,y:ot.y,w:ot.width,h:ot.height}},Ft=(nt,ot)=>wd(e.body,ue(nt),ot),at=(nt,ot,Ht)=>{wn(nt,Lt=>{const Mn=xe.fromDom(Lt);Jb(Mn,ot,Ht),n.update_styles&&hf(Z,Mn)})},it=(nt,ot)=>{wn(nt,Ht=>{const Lt=xe.fromDom(Ht);nn(ot,(Mn,Do)=>{Jb(Lt,Do,Mn)}),n.update_styles&&hf(Z,Lt)})},ln=(nt,ot,Ht)=>{const Lt=ue(nt);if(!(xt(Lt)||!Xt(Lt)))return Ht?bd(xe.fromDom(Lt),dm(ot)):(ot=ot.replace(/-(\D)/g,(Mn,Do)=>Do.toUpperCase()),ot==="float"&&(ot="cssFloat"),Lt.style?Lt.style[ot]:void 0)},xn=nt=>{const ot=ue(nt);if(!ot)return{w:0,h:0};let Ht=ln(ot,"width"),Lt=ln(ot,"height");return(!Ht||Ht.indexOf("px")===-1)&&(Ht="0"),(!Lt||Lt.indexOf("px")===-1)&&(Lt="0"),{w:parseInt(Ht,10)||ot.offsetWidth||ot.clientWidth,h:parseInt(Lt,10)||ot.offsetHeight||ot.clientHeight}},Bn=nt=>{const ot=ue(nt),Ht=Ft(ot),Lt=xn(ot);return{x:Ht.x,y:Ht.y,w:Lt.w,h:Lt.h}},ho=(nt,ot)=>{if(!nt)return!1;const Ht=$(nt)?nt:[nt];return as(Ht,Lt=>ia(xe.fromDom(Lt),ot))},No=(nt,ot,Ht,Lt)=>{const Mn=[];let Do=ue(nt);Lt=Lt===void 0;const er=Ht||(yt().nodeName!=="BODY"?yt().parentNode:null);if(ne(ot))if(ot==="*")ot=Xt;else{const gr=ot;ot=gp=>ho(gp,gr)}for(;Do&&!(Do===er||xt(Do.nodeType)||of(Do)||jf(Do));){if(!ot||ot(Do))if(Lt)Mn.push(Do);else return[Do];Do=Do.parentNode}return Lt?Mn:null},bs=(nt,ot,Ht)=>{const Lt=No(nt,ot,Ht,!1);return Lt&&Lt.length>0?Lt[0]:null},Zs=(nt,ot,Ht)=>{let Lt=ot;if(nt){ne(ot)&&(Lt=Mn=>ho(Mn,ot));for(let Mn=nt[Ht];Mn;Mn=Mn[Ht])if(he(Lt)&&Lt(Mn))return Mn}return null},Jr=(nt,ot)=>Zs(nt,ot,"nextSibling"),tc=(nt,ot)=>Zs(nt,ot,"previousSibling"),ma=nt=>he(nt.querySelectorAll),$t=(nt,ot)=>{var Ht,Lt;const Mn=(Lt=(Ht=ue(ot))!==null&&Ht!==void 0?Ht:n.root_element)!==null&&Lt!==void 0?Lt:e;return ma(Mn)?pr(Mn.querySelectorAll(nt)):[]},wn=function(nt,ot,Ht){const Lt=Ht??this;if($(nt)){const Mn=[];return sh(nt,(Do,er)=>{const gr=ue(Do);gr&&Mn.push(ot.call(Lt,gr,er))}),Mn}else{const Mn=ue(nt);return Mn?ot.call(Lt,Mn):!1}},Qo=(nt,ot)=>{wn(nt,Ht=>{nn(ot,(Lt,Mn)=>{Ue(Ht,Mn,Lt)})})},tn=(nt,ot)=>{wn(nt,Ht=>{const Lt=xe.fromDom(Ht);mg(Lt,ot)})},kn=(nt,ot,Ht,Lt,Mn)=>wn(nt,Do=>{const er=ne(ot)?e.createElement(ot):ot;return Pe(Ht)&&Qo(er,Ht),Lt&&(!ne(Lt)&&Lt.nodeType?er.appendChild(Lt):ne(Lt)&&tn(er,Lt)),Mn?er:Do.appendChild(er)}),Nn=(nt,ot,Ht)=>kn(e.createElement(nt),nt,ot,Ht,!0),sn=Td.decode,Ro=Td.encodeAllRaw,Io=(nt,ot,Ht="")=>{let Lt="<"+nt;for(const Mn in ot)nc(ot,Mn)&&(Lt+=" "+Mn+'="'+Ro(ot[Mn])+'"');return pa(Ht)&&zn(q.getVoidElements(),nt)?Lt+" />":Lt+">"+Ht+"</"+nt+">"},Pa=nt=>{const ot=e.createElement("div"),Ht=e.createDocumentFragment();Ht.appendChild(ot),nt&&(ot.innerHTML=nt);let Lt;for(;Lt=ot.firstChild;)Ht.appendChild(Lt);return Ht.removeChild(ot),Ht},Cr=(nt,ot)=>wn(nt,Ht=>{const Lt=xe.fromDom(Ht);return ot&&lt(Fe(Lt),Mn=>{ur(Mn)&&Mn.dom.length===0?_r(Mn):ss(Lt,Mn)}),_r(Lt),Lt.dom}),no=nt=>wn(nt,ot=>{const Ht=ot.attributes;for(let Lt=Ht.length-1;Lt>=0;Lt--)ot.removeAttributeNode(Ht.item(Lt))}),ns=nt=>Z.parse(nt),Ps=(nt,ot)=>Z.serialize(nt,ot),qs=nt=>{if(Ph!==zs.DOM&&e===document){if(o[nt])return;o[nt]=!0}let ot=e.getElementById("mceDefaultStyles");if(!ot){ot=e.createElement("style"),ot.id="mceDefaultStyles",ot.type="text/css";const Ht=e.head;Ht.firstChild?Ht.insertBefore(ot,Ht.firstChild):Ht.appendChild(ot)}ot.styleSheet?ot.styleSheet.cssText+=nt:ot.appendChild(e.createTextNode(nt))},Ur=nt=>{nt||(nt=""),lt(nt.split(","),ot=>{l[ot]=!0,A.load(ot).catch(Ct)})},gi=(nt,ot,Ht)=>{wn(nt,Lt=>{if(Xt(Lt)){const Mn=xe.fromDom(Lt),Do=ot.split(" ");lt(Do,er=>{Pe(Ht)?(Ht?ef:ic)(Mn,er):ra(Mn,er)})}})},Sr=(nt,ot)=>{gi(nt,ot,!0)},Hi=(nt,ot)=>{gi(nt,ot,!1)},Rf=(nt,ot)=>{const Ht=Ce(nt),Lt=ot.split(" ");return Pe(Ht)&&tr(Lt,Mn=>vd(Ht,Mn))},Nc=nt=>{wn(nt,ot=>ji(xe.fromDom(ot),"display"))},jm=nt=>{wn(nt,ot=>si(xe.fromDom(ot),"display","none"))},rd=nt=>{const ot=Ce(nt);return Pe(ot)&&Re(Ca(ot,"display"),"none")},Uy=nt=>(nt||"mce_")+f++,zy=nt=>{const ot=Ce(nt);return Pe(ot)?Xt(ot.dom)?ot.dom.outerHTML:ce(ot):""},Ym=(nt,ot)=>{wn(nt,Ht=>{Xt(Ht)&&(Ht.outerHTML=ot)})},Nh=(nt,ot)=>{const Ht=ue(ot);return wn(nt,Lt=>{const Mn=Ht==null?void 0:Ht.parentNode,Do=Ht==null?void 0:Ht.nextSibling;return Mn&&(Do?Mn.insertBefore(Lt,Do):Mn.appendChild(Lt)),Lt})},ta=(nt,ot,Ht)=>wn(ot,Lt=>{var Mn;const Do=$(ot)?nt.cloneNode(!0):nt;return Ht&&sh(wv(Lt.childNodes),er=>{Do.appendChild(er)}),(Mn=Lt.parentNode)===null||Mn===void 0||Mn.replaceChild(Do,Lt),Lt}),If=(nt,ot)=>{if(nt.nodeName!==ot.toUpperCase()){const Ht=Nn(ot);return sh(Ie(nt),Lt=>{Ue(Ht,Lt.nodeName,Be(nt,Lt.nodeName))}),ta(Ht,nt,!0),Ht}else return nt},Km=(nt,ot)=>{let Ht=nt;for(;Ht;){let Lt=ot;for(;Lt&&Ht!==Lt;)Lt=Lt.parentNode;if(Ht===Lt)break;Ht=Ht.parentNode}return!Ht&&nt.ownerDocument?nt.ownerDocument.documentElement:Ht},_l=nt=>{if(Xt(nt)){const ot=nt.nodeName.toLowerCase()==="a"&&!Be(nt,"href")&&Be(nt,"id");if(Be(nt,"name")||Be(nt,"data-mce-bookmark")||ot)return!0}return!1},Df=(nt,ot)=>{let Ht=0;if(_l(nt))return!1;const Lt=nt.firstChild;if(Lt){const Mn=new ri(Lt,nt),Do=q?q.getWhitespaceElements():{},er=ot||(q?q.getNonEmptyElements():null);let gr=Lt;do{if(Xt(gr)){const gp=gr.getAttribute("data-mce-bogus");if(gp){gr=Mn.next(gp==="all");continue}const ad=gr.nodeName.toLowerCase();if(er&&er[ad]){if(ad==="br"){Ht++,gr=Mn.next();continue}return!1}if(_l(gr))return!1}if(za(gr)||Pt(gr)&&!dc(gr.data)||Pt(gr)&&gr.parentNode&&Do[gr.parentNode.nodeName]&&dc(gr.data))return!1;gr=Mn.next()}while(gr)}return Ht<=1},hp=()=>e.createRange(),Jc=(nt,ot,Ht)=>{let Lt=hp(),Mn,Do;if(nt&&ot&&nt.parentNode&&ot.parentNode){const er=nt.parentNode;return Lt.setStart(er,Ia(nt)),Lt.setEnd(ot.parentNode,Ia(ot)),Mn=Lt.extractContents(),Lt=hp(),Lt.setStart(ot.parentNode,Ia(ot)+1),Lt.setEnd(er,Ia(nt)+1),Do=Lt.extractContents(),er.insertBefore(Vu(Ph,Mn),nt),Ht?er.insertBefore(Ht,nt):er.insertBefore(ot,nt),er.insertBefore(Vu(Ph,Do),nt),Cr(nt),Ht||ot}else return},H1=(nt,ot,Ht,Lt)=>{if($(nt)){let Mn=nt.length;const Do=[];for(;Mn--;)Do[Mn]=H1(nt[Mn],ot,Ht,Lt);return Do}else return n.collect&&(nt===e||nt===r)&&L.push([nt,ot,Ht,Lt]),te.bind(nt,ot,Ht,Lt||Ph)},Xm=(nt,ot,Ht)=>{if($(nt)){let Lt=nt.length;const Mn=[];for(;Lt--;)Mn[Lt]=Xm(nt[Lt],ot,Ht);return Mn}else{if(L.length>0&&(nt===e||nt===r)){let Lt=L.length;for(;Lt--;){const[Mn,Do,er]=L[Lt];nt===Mn&&(!ot||ot===Do)&&(!Ht||Ht===er)&&te.unbind(Mn,Do,er)}}return te.unbind(nt,ot,Ht)}},id=(nt,ot,Ht)=>te.dispatch(nt,ot,Ht),mp=(nt,ot,Ht)=>te.dispatch(nt,ot,Ht),GS=nt=>{if(nt&&Xt(nt)){const ot=nt.getAttribute("data-mce-contenteditable");return ot&&ot!=="inherit"?ot:nt.contentEditable!=="inherit"?nt.contentEditable:null}else return null},Ph={doc:e,settings:n,win:r,files:l,stdMode:v,boxModel:T,styleSheetLoader:A,boundEvents:L,styles:Z,schema:q,events:te,isBlock:Se,root:null,clone:et,getRoot:yt,getViewPort:Yt,getRect:Bn,getSize:xn,getParent:bs,getParents:No,get:ue,getNext:Jr,getPrev:tc,select:$t,is:ho,add:kn,create:Nn,createHTML:Io,createFragment:Pa,remove:Cr,setStyle:at,getStyle:ln,setStyles:it,removeAllAttribs:no,setAttrib:Ue,setAttribs:Qo,getAttrib:Be,getPos:Ft,parseStyle:ns,serializeStyle:Ps,addStyle:qs,loadCSS:Ur,addClass:Sr,removeClass:Hi,hasClass:Rf,toggleClass:gi,show:Nc,hide:jm,isHidden:rd,uniqueId:Uy,setHTML:tn,getOuterHTML:zy,setOuterHTML:Ym,decode:sn,encode:Ro,insertAfter:Nh,replace:ta,rename:If,findCommonAncestor:Km,run:wn,getAttribs:Ie,isEmpty:Df,createRng:hp,nodeIndex:Ia,split:Jc,bind:H1,unbind:Xm,fire:mp,dispatch:id,getContentEditable:GS,getContentEditableParent:nt=>{const ot=yt();let Ht=null;for(let Lt=nt;Lt&&Lt!==ot&&(Ht=GS(Lt),Ht===null);Lt=Lt.parentNode);return Ht},isEditable:nt=>{if(Pe(nt)){const ot=Xt(nt)?nt:nt.parentElement,Ht=GS(yt())==="true";return Pe(ot)&&Gh(xe.fromDom(ot),Ht)}else return!1},destroy:()=>{if(L.length>0){let nt=L.length;for(;nt--;){const[ot,Ht,Lt]=L[nt];te.unbind(ot,Ht,Lt)}}nn(l,(nt,ot)=>{A.unload(ot),delete l[ot]})},isChildOf:(nt,ot)=>nt===ot||ot.contains(nt),dumpRng:nt=>"startContainer: "+nt.startContainer.nodeName+", startOffset: "+nt.startOffset+", endContainer: "+nt.endContainer.nodeName+", endOffset: "+nt.endOffset},Wy=e0(Z,n,Xe(Ph));return Ph};zs.DOM=zs(document),zs.nodeIndex=Ia;const Uw=zs.DOM,pE=0,zw=1,Cv=2,Dg=3;class mf{constructor(n={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=n}_setReferrerPolicy(n){this.settings.referrerPolicy=n}loadScript(n){return new Promise((o,r)=>{const l=Uw;let f;const v=()=>{l.remove(L),f&&(f.onerror=f.onload=f=null)},T=()=>{v(),o()},A=()=>{v(),r("Failed to load script: "+n)},L=l.uniqueId();f=document.createElement("script"),f.id=L,f.type="text/javascript",f.src=me._addCacheSuffix(n),this.settings.referrerPolicy&&l.setAttrib(f,"referrerpolicy",this.settings.referrerPolicy),f.onload=T,f.onerror=A,(document.getElementsByTagName("head")[0]||document.body).appendChild(f)})}isDone(n){return this.states[n]===Cv}markDone(n){this.states[n]=Cv}add(n){const o=this;return o.queue.push(n),o.states[n]===void 0&&(o.states[n]=pE),new Promise((l,f)=>{o.scriptLoadedCallbacks[n]||(o.scriptLoadedCallbacks[n]=[]),o.scriptLoadedCallbacks[n].push({resolve:l,reject:f})})}load(n){return this.add(n)}remove(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]}loadQueue(){const n=this.queue;return this.queue=[],this.loadScripts(n)}loadScripts(n){const o=this,r=(A,L)=>{Ys(o.scriptLoadedCallbacks,L).each(q=>{lt(q,Z=>Z[A](L))}),delete o.scriptLoadedCallbacks[L]},l=A=>{const L=En(A,q=>q.status==="rejected");return L.length>0?Promise.reject(ga(L,({reason:q})=>$(q)?q:[q])):Promise.resolve()},f=A=>Promise.allSettled(qt(A,L=>o.states[L]===Cv?(r("resolve",L),Promise.resolve()):o.states[L]===Dg?(r("reject",L),Promise.reject(L)):(o.states[L]=zw,o.loadScript(L).then(()=>{o.states[L]=Cv,r("resolve",L);const q=o.queue;return q.length>0?(o.queue=[],f(q).then(l)):Promise.resolve()},()=>(o.states[L]=Dg,r("reject",L),Promise.reject(L)))))),v=A=>(o.loading=!0,f(A).then(L=>{o.loading=!1;const q=o.queueLoadedCallbacks.shift();return ee.from(q).each(Fo),l(L)})),T=Vh(n);return o.loading?new Promise((A,L)=>{o.queueLoadedCallbacks.push(()=>v(T).then(A,L))}):v(T)}}mf.ScriptLoader=new mf;const ci=e=>{let n=e;return{get:()=>n,set:l=>{n=l}}},gf=e=>Le(e)&&zn(e,"raw"),t0=e=>$(e)&&e.length>1,jr={},Tv=ci("en"),Gp=()=>Ys(jr,Tv.get()),zu={getData:()=>Bo(jr,e=>({...e})),setCode:e=>{e&&Tv.set(e)},getCode:()=>Tv.get(),add:(e,n)=>{let o=jr[e];o||(jr[e]=o={}),nn(n,(r,l)=>{o[l.toLowerCase()]=r})},translate:e=>{const n=Gp().getOr({}),o=v=>he(v)?Object.prototype.toString.call(v):r(v)?"":""+v,r=v=>v===""||v===null||v===void 0,l=v=>{const T=o(v);return Ys(n,T.toLowerCase()).map(o).getOr(T)},f=v=>v.replace(/{context:\w+}$/,"");if(r(e))return"";if(gf(e))return o(e.raw);if(t0(e)){const v=e.slice(1),T=l(e[0]).replace(/\{([0-9]+)\}/g,(A,L)=>zn(v,L)?o(v[L]):A);return f(T)}return f(l(e))},isRtl:()=>Gp().bind(e=>Ys(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>zn(jr,e)},hs=()=>{const e=[],n={},o={},r=[],l=(ue,Ce)=>{const Be=En(r,Ie=>Ie.name===ue&&Ie.state===Ce);lt(Be,Ie=>Ie.resolve())},f=ue=>zn(n,ue),v=ue=>zn(o,ue),T=ue=>{if(o[ue])return o[ue].instance},A=(ue,Ce)=>{const Be=zu.getCode(),Ie=","+(Ce||"")+",";!Be||Ce&&Ie.indexOf(","+Be+",")===-1||mf.ScriptLoader.add(n[ue]+"/langs/"+Be+".js")},L=(ue,Ce)=>{hs.languageLoad!==!1&&(f(ue)?A(ue,Ce):Se(ue,"loaded").then(()=>A(ue,Ce)))},q=(ue,Ce)=>(e.push(Ce),o[ue]={instance:Ce},l(ue,"added"),Ce),Z=ue=>{delete n[ue],delete o[ue]},te=(ue,Ce)=>ne(Ce)?ne(ue)?{prefix:"",resource:Ce,suffix:""}:{prefix:ue.prefix,resource:Ce,suffix:ue.suffix}:Ce,we=(ue,Ce)=>{if(n[ue])return Promise.resolve();let Be=ne(Ce)?Ce:Ce.prefix+Ce.resource+Ce.suffix;Be.indexOf("/")!==0&&Be.indexOf("://")===-1&&(Be=hs.baseURL+"/"+Be),n[ue]=Be.substring(0,Be.lastIndexOf("/"));const Ie=()=>(l(ue,"loaded"),Promise.resolve());return o[ue]?Ie():mf.ScriptLoader.add(Be).then(Ie)},Se=(ue,Ce="added")=>Ce==="added"&&v(ue)||Ce==="loaded"&&f(ue)?Promise.resolve():new Promise(Be=>{r.push({name:ue,state:Ce,resolve:Be})});return{items:e,urls:n,lookup:o,get:T,requireLangPack:L,add:q,remove:Z,createUrl:te,load:we,waitFor:Se}};hs.languageLoad=!0,hs.baseURL="",hs.PluginManager=hs(),hs.ThemeManager=hs(),hs.ModelManager=hs();const yE=e=>{const n=ci(ee.none()),o=()=>n.get().each(e);return{clear:()=>{o(),n.set(ee.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:T=>{o(),n.set(ee.some(T))}}},_s=e=>{const n=ci(ee.none()),o=()=>n.get().each(T=>clearInterval(T));return{clear:()=>{o(),n.set(ee.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:T=>{o(),n.set(ee.some(setInterval(T,e)))}}},Ci=()=>{const e=yE(Ct);return{...e,on:o=>e.get().each(o)}},Hl=(e,n)=>{let o=null;return{cancel:()=>{ye(o)||(clearTimeout(o),o=null)},throttle:(...f)=>{ye(o)&&(o=setTimeout(()=>{o=null,e.apply(null,f)},n))}}},mc=(e,n)=>{let o=null;const r=()=>{ye(o)||(clearTimeout(o),o=null)};return{cancel:r,throttle:(...f)=>{r(),o=setTimeout(()=>{o=null,e.apply(null,f)},n)}}},ih=Xe("mce-annotation"),Mg=Xe("data-mce-annotation"),vf=Xe("data-mce-annotation-uid"),ml=Xe("data-mce-annotation-active"),pu=Xe("data-mce-annotation-classes"),ah=Xe("data-mce-annotation-attrs"),Zp=e=>n=>zo(n,e),n0=(e,n)=>{const o=e.selection.getRng(),r=xe.fromDom(o.startContainer),l=xe.fromDom(e.getBody()),f=n.fold(()=>"."+ih(),A=>`[${Mg()}="${A}"]`),v=kt(r,o.startOffset).getOr(r);return su(v,f,Zp(l)).bind(A=>Tc(A,`${vf()}`).bind(L=>Tc(A,`${Mg()}`).map(q=>{const Z=kg(e,L);return{uid:L,name:q,elements:Z}})))},EE=e=>Jo(e)&&vd(e,ih()),_E=(e,n)=>ya(e,"data-mce-bogus")||ov(e,'[data-mce-bogus="all"]',Zp(n)),kg=(e,n)=>{const o=xe.fromDom(e.getBody()),r=Ta(o,`[${vf()}="${n}"]`);return En(r,l=>!_E(l,o))},o0=(e,n)=>{const o=xe.fromDom(e.getBody()),r=Ta(o,`[${Mg()}="${n}"]`),l={};return lt(r,f=>{if(!_E(f,o)){const v=ba(f,vf()),T=Ys(l,v).getOr([]);l[v]=T.concat([f])}}),l},Ww=(e,n)=>{const o=ci({}),r=()=>({listeners:[],previous:Ci()}),l=(Z,te)=>{f(Z,we=>(te(we),we))},f=(Z,te)=>{const we=o.get(),Se=Ys(we,Z).getOrThunk(r),ue=te(Se);we[Z]=ue,o.set(we)},v=(Z,te,we)=>{l(Z,Se=>{lt(Se.listeners,ue=>ue(!0,Z,{uid:te,nodes:qt(we,Ce=>Ce.dom)}))})},T=Z=>{l(Z,te=>{lt(te.listeners,we=>we(!1,Z))})},A=(Z,te)=>{lt(kg(e,Z),we=>{te?io(we,ml(),"true"):dr(we,ml())})},L=mc(()=>{const Z=Rs(n.getNames());lt(Z,te=>{f(te,we=>{const Se=we.previous.get();return n0(e,ee.some(te)).fold(()=>{Se.each(ue=>{T(te),we.previous.clear(),A(ue,!1)})},({uid:ue,name:Ce,elements:Be})=>{Re(Se,ue)||(Se.each(Ie=>A(Ie,!1)),v(Ce,ue,Be),we.previous.set(ue),A(ue,!0))}),{previous:we.previous,listeners:we.listeners}})})},30);return e.on("remove",()=>{L.cancel()}),e.on("NodeChange",()=>{L.throttle()}),{addListener:(Z,te)=>{f(Z,we=>({previous:we.previous,listeners:we.listeners.concat([te])}))}}},Gw=(e,n)=>{const o=Mg(),r=f=>ee.from(f.attr(o)).bind(n.lookup),l=f=>{var v,T;f.attr(vf(),null),f.attr(Mg(),null),f.attr(ml(),null);const A=ee.from(f.attr(ah())).map(te=>te.split(",")).getOr([]),L=ee.from(f.attr(pu())).map(te=>te.split(",")).getOr([]);lt(A,te=>f.attr(te,null));const q=(T=(v=f.attr("class"))===null||v===void 0?void 0:v.split(" "))!==null&&T!==void 0?T:[],Z=qd(q,[ih()].concat(L));f.attr("class",Z.length>0?Z.join(" "):null),f.attr(pu(),null),f.attr(ah(),null)};e.serializer.addTempAttr(ml()),e.serializer.addAttributeFilter(o,f=>{for(const v of f)r(v).each(T=>{T.persistent===!1&&(v.name==="span"?v.unwrap():l(v))})})},wE=()=>{const e={};return{register:(l,f)=>{e[l]={name:l,settings:f}},lookup:l=>Ys(e,l).map(f=>f.settings),getNames:()=>La(e)}};let CE=0;const s0=e=>{const o=new Date().getTime(),r=Math.floor(Math.random()*1e9);return CE++,e+"_"+r+CE+String(o)},TE=(e,n)=>{lt(n,o=>{ef(e,o)})},Zw=(e,n)=>{lt(n,o=>{ic(e,o)})},r0=(e,n)=>xe.fromDom(e.dom.cloneNode(n)),fm=e=>r0(e,!1),i0=e=>r0(e,!0),qw=(e,n)=>{const o=xe.fromTag(n),r=Gf(e);return Lr(o,r),o},jw=(e,n)=>{const o=qw(e,n);cl(e,o);const r=Fe(e);return nf(o,r),_r(e),o},SE=(e,n,o=je)=>{const r=new ri(e,n),l=f=>{let v;do v=r[f]();while(v&&!Pt(v)&&!o(v));return ee.from(v).filter(Pt)};return{current:()=>ee.from(r.current()).filter(Pt),next:()=>l("next"),prev:()=>l("prev"),prev2:()=>l("prev2")}},sr=(e,n)=>{const o=n||(v=>e.isBlock(v)||wr(v)||es(v)),r=(v,T,A,L)=>{if(Pt(v)){const q=L(v,T,v.data);if(q!==-1)return ee.some({container:v,offset:q})}return A().bind(q=>r(q.container,q.offset,A,L))};return{backwards:(v,T,A,L)=>{const q=SE(v,L??e.getRoot(),o);return r(v,T,()=>q.prev().map(Z=>({container:Z,offset:Z.length})),A).getOrNull()},forwards:(v,T,A,L)=>{const q=SE(v,L??e.getRoot(),o);return r(v,T,()=>q.next().map(Z=>({container:Z,offset:0})),A).getOrNull()}}},Ad=Math.round,ch=e=>e?{left:Ad(e.left),top:Ad(e.top),bottom:Ad(e.bottom),right:Ad(e.right),width:Ad(e.width),height:Ad(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},xE=(e,n)=>(e=ch(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),xv=(e,n)=>e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right,Da=(e,n,o)=>e>=0&&e<=Math.min(n.height,o.height)/2,Rc=(e,n)=>{const o=Math.min(n.height/2,e.height/2);return e.bottom-o<n.top?!0:e.top>n.bottom?!1:Da(n.top-e.bottom,e,n)},hm=(e,n)=>e.top>n.bottom?!0:e.bottom<n.top?!1:Da(n.bottom-e.top,e,n),Av=(e,n,o)=>n>=e.left&&n<=e.right&&o>=e.top&&o<=e.bottom,a0=e=>Os(e,(n,o)=>n.fold(()=>ee.some(o),r=>{const l=Math.min(o.left,r.left),f=Math.min(o.top,r.top),v=Math.max(o.right,r.right),T=Math.max(o.bottom,r.bottom);return ee.some({top:f,right:v,bottom:T,left:l,width:v-l,height:T-f})}),ee.none()),AE=(e,n,o)=>{const r=Math.max(Math.min(n,e.left+e.width),e.left),l=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((n-r)*(n-r)+(o-l)*(o-l))},c0=(e,n)=>Math.max(0,Math.min(e.bottom,n.bottom)-Math.max(e.top,n.top)),OE=(e,n,o)=>Math.min(Math.max(e,n),o),qc=e=>{const n=e.startContainer,o=e.startOffset;return n===e.endContainer&&n.hasChildNodes()&&e.endOffset===o+1?n.childNodes[o]:null},bf=(e,n)=>{if(Xt(e)&&e.hasChildNodes()){const o=e.childNodes,r=OE(n,0,o.length-1);return o[r]}else return e},fr=(e,n)=>{if(!(n<0&&Xt(e)&&e.hasChildNodes()))return bf(e,n)},Od=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),Wu=e=>ne(e)&&e.charCodeAt(0)>=768&&Od.test(e),Yw=(...e)=>n=>{for(let o=0;o<e.length;o++)if(e[o](n))return!0;return!1},RE=(...e)=>n=>{for(let o=0;o<e.length;o++)if(!e[o](n))return!1;return!0},l0=Xt,mm=zc,u0=Nl("display","block table"),Ng=Nl("float","left right"),gm=RE(l0,mm,uo(Ng)),Kw=uo(Nl("white-space","pre pre-line pre-wrap")),qp=Pt,jp=wr,d0=zs.nodeIndex,Ov=fr,Pg=e=>e?e.createRange():zs.DOM.createRng(),Rv=e=>ne(e)&&/[\r\n\t ]/.test(e),lh=e=>!!e.setStart&&!!e.setEnd,Lg=e=>{const n=e.startContainer,o=e.startOffset;if(Rv(e.toString())&&Kw(n.parentNode)&&Pt(n)){const r=n.data;if(Rv(r[o-1])||Rv(r[o+1]))return!0}return!1},IE=e=>{const n=e.ownerDocument,o=Pg(n),r=n.createTextNode(ds),l=e.parentNode;l.insertBefore(r,e),o.setStart(r,0),o.setEnd(r,1);const f=ch(o.getBoundingClientRect());return l.removeChild(r),f},DE=e=>{const n=e.startContainer,o=e.endContainer,r=e.startOffset,l=e.endOffset;if(n===o&&Pt(o)&&r===0&&l===1){const f=e.cloneRange();return f.setEndAfter(o),Gu(f)}else return null},Yp=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,Gu=e=>{var n;let o;const r=e.getClientRects();return r.length>0?o=ch(r[0]):o=ch(e.getBoundingClientRect()),!lh(e)&&jp(e)&&Yp(o)?IE(e):Yp(o)&&lh(e)&&(n=DE(e))!==null&&n!==void 0?n:o},Vl=(e,n)=>{const o=xE(e,n);return o.width=1,o.right=o.left+1,o},Kp=e=>{const n=[],o=v=>{v.height!==0&&(n.length>0&&xv(v,n[n.length-1])||n.push(v))},r=(v,T)=>{const A=Pg(v.ownerDocument);if(T<v.data.length){if(Wu(v.data[T]))return;if(Wu(v.data[T-1])&&(A.setStart(v,T),A.setEnd(v,T+1),!Lg(A))){o(Vl(Gu(A),!1));return}}T>0&&(A.setStart(v,T-1),A.setEnd(v,T),Lg(A)||o(Vl(Gu(A),!1))),T<v.data.length&&(A.setStart(v,T),A.setEnd(v,T+1),Lg(A)||o(Vl(Gu(A),!0)))},l=e.container(),f=e.offset();if(qp(l))return r(l,f),n;if(l0(l))if(e.isAtEnd()){const v=Ov(l,f);qp(v)&&r(v,v.data.length),gm(v)&&!jp(v)&&o(Vl(Gu(v),!1))}else{const v=Ov(l,f);if(qp(v)&&r(v,0),gm(v)&&e.isAtEnd())return o(Vl(Gu(v),!1)),n;const T=Ov(e.container(),e.offset()-1);gm(T)&&!jp(T)&&(u0(T)||u0(v)||!gm(v))&&o(Vl(Gu(T),!1)),gm(v)&&o(Vl(Gu(v),!0))}return n},ze=(e,n,o)=>{const r=()=>(qp(e),n===0),l=()=>qp(e)?n>=e.data.length:n>=e.childNodes.length,f=()=>{const q=Pg(e.ownerDocument);return q.setStart(e,n),q.setEnd(e,n),q},v=()=>(o||(o=Kp(ze(e,n))),o),T=()=>v().length>0,A=q=>q&&e===q.container()&&n===q.offset(),L=q=>Ov(e,q?n-1:n);return{container:Xe(e),offset:Xe(n),toRange:f,getClientRects:v,isVisible:T,isAtStart:r,isAtEnd:l,isEqual:A,getNode:L}};ze.fromRangeStart=e=>ze(e.startContainer,e.startOffset),ze.fromRangeEnd=e=>ze(e.endContainer,e.endOffset),ze.after=e=>ze(e.parentNode,d0(e)+1),ze.before=e=>ze(e.parentNode,d0(e)),ze.isAbove=(e,n)=>pt(Oi(n.getClientRects()),Al(e.getClientRects()),Rc).getOr(!1),ze.isBelow=(e,n)=>pt(Al(n.getClientRects()),Oi(e.getClientRects()),hm).getOr(!1),ze.isAtStart=e=>e?e.isAtStart():!1,ze.isAtEnd=e=>e?e.isAtEnd():!1,ze.isTextPosition=e=>e?Pt(e.container()):!1,ze.isElementPosition=e=>!ze.isTextPosition(e);const rr=(e,n)=>{Pt(n)&&n.data.length===0&&e.remove(n)},pm=(e,n,o)=>{n.insertNode(o),rr(e,o.previousSibling),rr(e,o.nextSibling)},f0=(e,n,o)=>{const r=ee.from(o.firstChild),l=ee.from(o.lastChild);n.insertNode(o),r.each(f=>rr(e,f.previousSibling)),l.each(f=>rr(e,f.nextSibling))},Hs=(e,n,o)=>{jf(o)?f0(e,n,o):pm(e,n,o)},vu=Pt,Xp=Ll,Ti=zs.nodeIndex,bu=e=>{const n=e.parentNode;return Xp(n)?bu(n):n},h0=e=>e?_c(e.childNodes,(n,o)=>(Xp(o)&&o.nodeName!=="BR"?n=n.concat(h0(o)):n.push(o),n),[]):[],ME=(e,n)=>{let o=e;for(;(o=o.previousSibling)&&vu(o);)n+=o.data.length;return n},Iv=e=>n=>e===n,vm=e=>{let n,o;n=h0(bu(e)),o=xr(n,Iv(e),e),n=n.slice(0,o+1);const r=_c(n,(l,f,v)=>(vu(f)&&vu(n[v-1])&&l++,l),0);return n=Yd(n,kl([e.nodeName])),o=xr(n,Iv(e),e),o-r},uh=e=>(vu(e)?"text()":e.nodeName.toLowerCase())+"["+vm(e)+"]",Dv=(e,n,o)=>{const r=[];for(let l=n.parentNode;l&&l!==e&&!(o&&o(l));l=l.parentNode)r.push(l);return r},Qp=(e,n)=>{let o=[],r=n.container(),l=n.offset(),f;if(vu(r))f=ME(r,l);else{const T=r.childNodes;l>=T.length?(f="after",l=T.length-1):f="before",r=T[l]}o.push(uh(r));let v=Dv(e,r);return v=Yd(v,uo(Ll)),o=o.concat(ol(v,T=>uh(T))),o.reverse().join("/")+","+f},Ya=(e,n,o)=>{let r=h0(e);return r=Yd(r,(l,f)=>!vu(l)||!vu(r[f-1])),r=Yd(r,kl([n])),r[o]},Jp=(e,n)=>{let o=e,r=0;for(;vu(o);){const l=o.data.length;if(n>=r&&n<=r+l){e=o,n=n-r;break}if(!vu(o.nextSibling)){e=o,n=l;break}r+=l,o=o.nextSibling}return vu(e)&&n>e.data.length&&(n=e.data.length),ze(e,n)},m0=(e,n)=>{if(!n)return null;const o=n.split(","),r=o[0].split("/"),l=o.length>1?o[1]:"before",f=_c(r,(v,T)=>{const A=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(T);return A?(A[1]==="text()"&&(A[1]="#text"),Ya(v,A[1],parseInt(A[2],10))):null},e);if(!f)return null;if(!vu(f)&&f.parentNode){let v;return l==="after"?v=Ti(f)+1:v=Ti(f),ze(f.parentNode,v)}return Jp(f,parseInt(l,10))},e1=es,yf=(e,n,o)=>{let r=e(n.data.slice(0,o)).length;for(let l=n.previousSibling;l&&Pt(l);l=l.previousSibling)r+=e(l.data).length;return r},Ka=(e,n,o,r,l)=>{const f=l?r.startContainer:r.endContainer;let v=l?r.startOffset:r.endOffset;const T=[],A=e.getRoot();if(Pt(f))T.push(o?yf(n,f,v):v);else{let L=0;const q=f.childNodes;v>=q.length&&q.length&&(L=1,v=Math.max(0,q.length-1)),T.push(e.nodeIndex(q[v],o)+L)}for(let L=f;L&&L!==A;L=L.parentNode)T.push(e.nodeIndex(L,o));return T},Xw=(e,n,o,r)=>{const l=n.dom,f=Ka(l,e,o,r,!0),v=n.isForward(),T=uv(r)?{isFakeCaret:!0}:{};if(n.isCollapsed())return{start:f,forward:v,...T};{const A=Ka(l,e,o,r,!1);return{start:f,end:A,forward:v,...T}}},Pi=(e,n,o)=>{let r=0;return me.each(e.select(n),l=>{if(l.getAttribute("data-mce-bogus")!=="all"){if(l===o)return!1;r++;return}}),r},Mv=(e,n)=>{let o=n?e.startContainer:e.endContainer,r=n?e.startOffset:e.endOffset;if(Xt(o)&&o.nodeName==="TR"){const l=o.childNodes;o=l[Math.min(n?r:r-1,l.length-1)],o&&(r=n?0:o.childNodes.length,n?e.setStart(o,r):e.setEnd(o,r))}},Rd=e=>(Mv(e,!0),Mv(e,!1),e),t1=(e,n)=>{if(Xt(e)&&(e=bf(e,n),e1(e)))return e;if(Uc(e)){Pt(e)&&uu(e)&&(e=e.parentNode);let o=e.previousSibling;if(e1(o)||(o=e.nextSibling,e1(o)))return o}},kE=e=>t1(e.startContainer,e.startOffset)||t1(e.endContainer,e.endOffset),g0=(e,n,o)=>{const r=o.getNode(),l=o.getRng();if(r.nodeName==="IMG"||e1(r)){const v=r.nodeName;return{name:v,index:Pi(o.dom,v,r)}}const f=kE(l);if(f){const v=f.tagName;return{name:v,index:Pi(o.dom,v,f)}}return Xw(e,o,n,l)},p0=e=>{const n=e.getRng();return{start:Qp(e.dom.getRoot(),ze.fromRangeStart(n)),end:Qp(e.dom.getRoot(),ze.fromRangeEnd(n)),forward:e.isForward()}},v0=e=>({rng:e.getRng(),forward:e.isForward()}),b0=(e,n,o)=>{const r={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return o?e.create("span",r,"&#xFEFF;"):e.create("span",r)},NE=(e,n)=>{const o=e.dom;let r=e.getRng();const l=o.uniqueId(),f=e.isCollapsed(),v=e.getNode(),T=v.nodeName,A=e.isForward();if(T==="IMG")return{name:T,index:Pi(o,T,v)};const L=Rd(r.cloneRange());if(!f){L.collapse(!1);const Z=b0(o,l+"_end",n);Hs(o,L,Z)}r=Rd(r),r.collapse(!0);const q=b0(o,l+"_start",n);return Hs(o,r,q),e.moveToBookmark({id:l,keep:!0,forward:A}),{id:l,forward:A}},Qw=(e,n,o=!1)=>n===2?g0(Fu,o,e):n===3?p0(e):n?v0(e):NE(e,!1),Li=Ve(g0,Vt,!0),li=e=>{const n=f=>f(e),o=Xe(e),r=()=>l,l={tag:!0,inner:e,fold:(f,v)=>v(e),isValue:At,isError:je,map:f=>vs.value(f(e)),mapError:r,bind:n,exists:n,forall:n,getOr:o,or:r,getOrThunk:o,orThunk:r,getOrDie:o,each:f=>{f(e)},toOptional:()=>ee.some(e)};return l},gc=e=>{const n=()=>o,o={tag:!1,inner:e,fold:(r,l)=>r(e),isValue:je,isError:At,map:n,mapError:r=>vs.error(r(e)),bind:n,exists:je,forall:At,getOr:Vt,or:Vt,getOrThunk:Jn,orThunk:Jn,getOrDie:Lo(String(e)),each:Ct,toOptional:ee.none};return o},vs={value:li,error:gc,fromOption:(e,n)=>e.fold(()=>gc(n),li)},yu={generate:e=>{if(!$(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const n=[],o={};return lt(e,(r,l)=>{const f=La(r);if(f.length!==1)throw new Error("one and only one name per case");const v=f[0],T=r[v];if(o[v]!==void 0)throw new Error("duplicate key detected:"+v);if(v==="cata")throw new Error("cannot have a case named cata (sorry)");if(!$(T))throw new Error("case arguments must be an array");n.push(v),o[v]=(...A)=>{const L=A.length;if(L!==T.length)throw new Error("Wrong number of arguments to case "+v+". Expected "+T.length+" ("+T+"), got "+L);return{fold:(...Z)=>{if(Z.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+Z.length);return Z[l].apply(null,A)},match:Z=>{const te=La(Z);if(n.length!==te.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+te.join(","));if(!tr(n,Se=>Dn(te,Se)))throw new Error("Not all branches were specified when using match. Specified: "+te.join(", ")+`
Required: `+n.join(", "));return Z[v].apply(null,A)},log:Z=>{console.log(Z,{constructors:n,constructor:v,params:A})}}}}),o}};yu.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Ef=e=>{const n=[],o=[];return lt(e,r=>{r.fold(l=>{n.push(l)},l=>{o.push(l)})}),{errors:n,values:o}},Ko=e=>e.type==="inline-command"||e.type==="inline-format",kv=e=>e.type==="block-command"||e.type==="block-format",pc=e=>{const n=r=>vs.error({message:r,pattern:e}),o=(r,l,f)=>{if(e.format!==void 0){let v;if($(e.format)){if(!tr(e.format,ne))return n(r+" pattern has non-string items in the `format` array");v=e.format}else if(ne(e.format))v=[e.format];else return n(r+" pattern has non-string `format` parameter");return vs.value(l(v))}else return e.cmd!==void 0?ne(e.cmd)?vs.value(f(e.cmd,e.value)):n(r+" pattern has non-string `cmd` parameter"):n(r+" pattern is missing both `format` and `cmd` parameters")};if(!Le(e))return n("Raw pattern is not an object");if(!ne(e.start))return n("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!ne(e.end))return n("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return n("Inline pattern has empty `start` and `end` parameters");let r=e.start,l=e.end;return l.length===0&&(l=r,r=""),o("Inline",f=>({type:"inline-format",start:r,end:l,format:f}),(f,v)=>({type:"inline-command",start:r,end:l,cmd:f,value:v}))}else return e.replacement!==void 0?ne(e.replacement)?e.start.length===0?n("Replacement pattern has empty `start` parameter"):vs.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):n("Replacement pattern has non-string `replacement` parameter"):e.start.length===0?n("Block pattern has empty `start` parameter"):o("Block",r=>({type:"block-format",start:e.start,format:r[0]}),(r,l)=>({type:"block-command",start:e.start,cmd:r,value:l}))},ui=e=>En(e,kv),n1=e=>En(e,Ko),Zu=(e,n)=>({inlinePatterns:n1(e),blockPatterns:ui(e),dynamicPatternsLookup:n}),y0=e=>{const n=Ef(qt(e,pc));return lt(n.errors,o=>console.error(o.message,o.pattern)),n.values},v2=e=>n=>{const o=e(n);return y0(o)},Nv=Bs().deviceType,E0=Nv.isTouch(),Pv=zs.DOM,o1=e=>{const n=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return Os(n,(o,r)=>{const l=r.split("="),f=l[0],v=l.length>1?l[1]:f;return o[Du(f)]=Du(v),o},{})},PE=e=>ke(e,RegExp),un=e=>n=>n.options.get(e),Lv=e=>ne(e)||Le(e),s1=(e,n="")=>o=>{const r=ne(o);if(r)if(o.indexOf("=")!==-1){const l=o1(o);return{value:Ys(l,e.id).getOr(n),valid:r}}else return{value:o,valid:r};else return{valid:!1,message:"Must be a string."}},di=e=>{const n=e.options.register;n("id",{processor:"string",default:e.id}),n("selector",{processor:"string"}),n("target",{processor:"object"}),n("suffix",{processor:"string"}),n("cache_suffix",{processor:"string"}),n("base_url",{processor:"string"}),n("referrer_policy",{processor:"string",default:""}),n("language_load",{processor:"boolean",default:!0}),n("inline",{processor:"boolean",default:!1}),n("iframe_attrs",{processor:"object",default:{}}),n("doctype",{processor:"string",default:"<!DOCTYPE html>"}),n("document_base_url",{processor:"string",default:e.documentBaseUrl}),n("body_id",{processor:s1(e,"tinymce"),default:"tinymce"}),n("body_class",{processor:s1(e),default:""}),n("content_security_policy",{processor:"string",default:""}),n("br_in_pre",{processor:"boolean",default:!0}),n("forced_root_block",{processor:o=>{const r=ne(o)&&Es(o);return r?{value:o,valid:r}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),n("forced_root_block_attrs",{processor:"object",default:{}}),n("newline_behavior",{processor:o=>{const r=Dn(["block","linebreak","invert","default"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),n("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),n("no_newline_selector",{processor:"string",default:""}),n("keep_styles",{processor:"boolean",default:!0}),n("end_container_on_empty_block",{processor:o=>Ge(o)?{valid:!0,value:o}:ne(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),n("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),n("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),n("font_size_classes",{processor:"string",default:""}),n("automatic_uploads",{processor:"boolean",default:!0}),n("images_reuse_filename",{processor:"boolean",default:!1}),n("images_replace_blob_uris",{processor:"boolean",default:!0}),n("icons",{processor:"string",default:""}),n("icons_url",{processor:"string",default:""}),n("images_upload_url",{processor:"string",default:""}),n("images_upload_base_path",{processor:"string",default:""}),n("images_upload_credentials",{processor:"boolean",default:!1}),n("images_upload_handler",{processor:"function"}),n("language",{processor:"string",default:"en"}),n("language_url",{processor:"string",default:""}),n("entity_encoding",{processor:"string",default:"named"}),n("indent",{processor:"boolean",default:!0}),n("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_use_margin",{processor:"boolean",default:!1}),n("indentation",{processor:"string",default:"40px"}),n("content_css",{processor:o=>{const r=o===!1||ne(o)||bt(o,ne);return r?ne(o)?{value:qt(o.split(","),Du),valid:r}:$(o)?{value:o,valid:r}:o===!1?{value:[],valid:r}:{value:o,valid:r}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:C0(e)?[]:["default"]}),n("content_style",{processor:"string"}),n("content_css_cors",{processor:"boolean",default:!1}),n("font_css",{processor:o=>{const r=ne(o)||bt(o,ne);return r?{value:$(o)?o:qt(o.split(","),Du),valid:r}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),n("inline_boundaries",{processor:"boolean",default:!0}),n("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),n("object_resizing",{processor:o=>{const r=Ge(o)||ne(o);return r?o===!1||Nv.isiPhone()||Nv.isiPad()?{value:"",valid:r}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:r}:{valid:!1,message:"Must be boolean or a string"}},default:!E0}),n("resize_img_proportional",{processor:"boolean",default:!0}),n("event_root",{processor:"object"}),n("service_message",{processor:"string"}),n("theme",{processor:o=>o===!1||ne(o)||he(o),default:"silver"}),n("theme_url",{processor:"string"}),n("formats",{processor:"object"}),n("format_empty_lines",{processor:"boolean",default:!1}),n("format_noneditable_selector",{processor:"string",default:""}),n("preview_styles",{processor:o=>{const r=o===!1||ne(o);return r?{value:o===!1?"":o,valid:r}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),n("custom_ui_selector",{processor:"string",default:""}),n("hidden_input",{processor:"boolean",default:!0}),n("submit_patch",{processor:"boolean",default:!0}),n("encoding",{processor:"string"}),n("add_form_submit_trigger",{processor:"boolean",default:!0}),n("add_unload_trigger",{processor:"boolean",default:!0}),n("custom_undo_redo_levels",{processor:"number",default:0}),n("disable_nodechange",{processor:"boolean",default:!1}),n("readonly",{processor:"boolean",default:!1}),n("plugins",{processor:"string[]",default:[]}),n("external_plugins",{processor:"object"}),n("forced_plugins",{processor:"string[]"}),n("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),n("model_url",{processor:"string"}),n("block_unsupported_drop",{processor:"boolean",default:!0}),n("visual",{processor:"boolean",default:!0}),n("visual_table_class",{processor:"string",default:"mce-item-table"}),n("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),n("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),n("setup",{processor:"function"}),n("init_instance_callback",{processor:"function"}),n("url_converter",{processor:"function",default:e.convertURL}),n("url_converter_scope",{processor:"object",default:e}),n("urlconverter_callback",{processor:"function"}),n("allow_conditional_comments",{processor:"boolean",default:!1}),n("allow_html_data_urls",{processor:"boolean",default:!1}),n("allow_svg_data_urls",{processor:"boolean"}),n("allow_html_in_named_anchor",{processor:"boolean",default:!1}),n("allow_script_urls",{processor:"boolean",default:!1}),n("allow_unsafe_link_target",{processor:"boolean",default:!1}),n("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),n("fix_list_elements",{processor:"boolean",default:!1}),n("preserve_cdata",{processor:"boolean",default:!1}),n("remove_trailing_brs",{processor:"boolean"}),n("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),n("element_format",{processor:"string",default:"html"}),n("entities",{processor:"string"}),n("schema",{processor:"string",default:"html5"}),n("convert_urls",{processor:"boolean",default:!0}),n("relative_urls",{processor:"boolean",default:!0}),n("remove_script_host",{processor:"boolean",default:!0}),n("custom_elements",{processor:"string"}),n("extended_valid_elements",{processor:"string"}),n("invalid_elements",{processor:"string"}),n("invalid_styles",{processor:Lv}),n("valid_children",{processor:"string"}),n("valid_classes",{processor:Lv}),n("valid_elements",{processor:"string"}),n("valid_styles",{processor:Lv}),n("verify_html",{processor:"boolean",default:!0}),n("auto_focus",{processor:o=>ne(o)||o===!0}),n("browser_spellcheck",{processor:"boolean",default:!1}),n("protect",{processor:"array"}),n("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),n("deprecation_warnings",{processor:"boolean",default:!0}),n("a11y_advanced_options",{processor:"boolean",default:!1}),n("api_key",{processor:"string"}),n("paste_block_drop",{processor:"boolean",default:!1}),n("paste_data_images",{processor:"boolean",default:!0}),n("paste_preprocess",{processor:"function"}),n("paste_postprocess",{processor:"function"}),n("paste_webkit_styles",{processor:"string",default:"none"}),n("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),n("paste_merge_formats",{processor:"boolean",default:!0}),n("smart_paste",{processor:"boolean",default:!0}),n("paste_as_text",{processor:"boolean",default:!1}),n("paste_tab_spaces",{processor:"number",default:4}),n("text_patterns",{processor:o=>bt(o,Le)||o===!1?{value:y0(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),n("text_patterns_lookup",{processor:o=>he(o)?{value:v2(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),n("noneditable_class",{processor:"string",default:"mceNonEditable"}),n("editable_class",{processor:"string",default:"mceEditable"}),n("noneditable_regexp",{processor:o=>bt(o,PE)?{value:o,valid:!0}:PE(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),n("table_tab_navigation",{processor:"boolean",default:!0}),n("highlight_on_focus",{processor:"boolean",default:!1}),n("xss_sanitization",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{n("directionality",{processor:"string",default:zu.isRtl()?"rtl":void 0}),n("placeholder",{processor:"string",default:Pv.getAttrib(e.getElement(),"placeholder")})})},Rt=un("iframe_attrs"),LE=un("doctype"),Bi=un("document_base_url"),Jw=un("body_id"),BE=un("body_class"),$E=un("content_security_policy"),Ul=un("br_in_pre"),zl=un("forced_root_block"),Bg=un("forced_root_block_attrs"),Ic=un("newline_behavior"),r1=un("br_newline_selector"),i1=un("no_newline_selector"),qu=un("keep_styles"),gl=un("end_container_on_empty_block"),Dc=un("automatic_uploads"),Xa=un("images_reuse_filename"),eC=un("images_replace_blob_uris"),Bv=un("icons"),$v=un("icons_url"),dh=un("images_upload_url"),FE=un("images_upload_base_path"),Fv=un("images_upload_credentials"),_f=un("images_upload_handler"),rs=un("content_css_cors"),bm=un("referrer_policy"),Js=un("language"),HE=un("language_url"),ym=un("indent_use_margin"),hr=un("indentation"),Hv=un("content_css"),VE=un("content_style"),$g=un("font_css"),tC=un("directionality"),a1=un("inline_boundaries_selector"),UE=un("object_resizing"),zE=un("resize_img_proportional"),_0=un("placeholder"),w0=un("event_root"),WE=un("service_message"),Id=un("theme"),Vv=un("theme_url"),Wl=un("model"),ks=un("model_url"),Fg=un("inline_boundaries"),Qa=un("formats"),c1=un("preview_styles"),GE=un("format_empty_lines"),Uv=un("format_noneditable_selector"),l1=un("custom_ui_selector"),C0=un("inline"),ZE=un("hidden_input"),Ma=un("submit_patch"),pl=un("add_form_submit_trigger"),nC=un("add_unload_trigger"),oC=un("custom_undo_redo_levels"),sC=un("disable_nodechange"),Em=un("readonly"),T0=un("content_css_cors"),S0=un("plugins"),_m=un("external_plugins"),qE=un("block_unsupported_drop"),rC=un("visual"),iC=un("visual_table_class"),x0=un("visual_anchor_class"),A0=un("iframe_aria_text"),fh=un("setup"),jE=un("init_instance_callback"),aC=un("urlconverter_callback"),cC=un("auto_focus"),lC=un("browser_spellcheck"),ju=un("protect"),zv=un("paste_block_drop"),wm=un("paste_data_images"),Wv=un("paste_preprocess"),YE=un("paste_postprocess"),Dd=un("paste_webkit_styles"),u1=un("paste_remove_styles_if_webkit"),O0=un("paste_merge_formats"),Yu=un("smart_paste"),hh=un("paste_as_text"),R0=un("paste_tab_spaces"),KE=un("allow_html_data_urls"),uC=un("text_patterns"),dC=un("text_patterns_lookup"),I0=un("noneditable_class"),fC=un("editable_class"),hC=un("noneditable_regexp"),XE=un("preserve_cdata"),QE=un("highlight_on_focus"),Gv=un("xss_sanitization"),mC=e=>e.options.isSet("text_patterns_lookup"),gC=e=>me.explode(e.options.get("font_size_style_values")),pC=e=>me.explode(e.options.get("font_size_classes")),JE=e=>e.options.get("encoding")==="xml",D0=e=>me.explode(e.options.get("images_file_types")),e_=un("table_tab_navigation"),vC=Xt,t_=Pt,d1=e=>{const n=e.parentNode;n&&n.removeChild(e)},M0=e=>{const n=Fu(e);return{count:e.length-n.length,text:n}},k0=e=>{let n;for(;(n=e.data.lastIndexOf(Ki))!==-1;)e.deleteData(n,1)},Hg=(e,n)=>(Cm(e),n),Zv=(e,n)=>{const o=M0(e.data.substr(0,n.offset())),r=M0(e.data.substr(n.offset()));return(o.text+r.text).length>0?(k0(e),ze(e,n.offset()-o.count)):n},f1=(e,n)=>{const o=n.container(),r=bc(pr(o.childNodes),e).map(l=>l<n.offset()?ze(o,n.offset()-1):n).getOr(n);return Cm(e),r},N0=(e,n)=>t_(e)&&n.container()===e?Zv(e,n):Hg(e,n),P0=(e,n)=>n.container()===e.parentNode?f1(e,n):Hg(e,n),n_=(e,n)=>ze.isTextPosition(n)?N0(e,n):P0(e,n),Cm=e=>{vC(e)&&Uc(e)&&(av(e)?e.removeAttribute("data-mce-caret"):d1(e)),t_(e)&&(k0(e),e.data.length===0&&d1(e))},o_=es,Tm=qr,bC=Zr,L0="*[contentEditable=false],video,audio,embed,object",s_=(e,n,o)=>{const r=xE(n.getBoundingClientRect(),o);let l,f;if(e.tagName==="BODY"){const T=e.ownerDocument.documentElement;l=e.scrollLeft||T.scrollLeft,f=e.scrollTop||T.scrollTop}else{const T=e.getBoundingClientRect();l=e.scrollLeft-T.left,f=e.scrollTop-T.top}r.left+=l,r.right+=l,r.top+=f,r.bottom+=f,r.width=1;let v=n.offsetWidth-n.clientWidth;return v>0&&(o&&(v*=-1),r.left+=v,r.right+=v),r},vl=e=>{var n,o;const r=Ta(xe.fromDom(e),L0);for(let l=0;l<r.length;l++){const f=r[l].dom;let v=f.previousSibling;if(bg(v)){const T=v.data;T.length===1?(n=v.parentNode)===null||n===void 0||n.removeChild(v):v.deleteData(T.length-1,1)}v=f.nextSibling,Jh(v)&&(v.data.length===1?(o=v.parentNode)===null||o===void 0||o.removeChild(v):v.deleteData(0,1))}},B0=(e,n,o,r)=>{const l=Ci();let f,v;const T=zl(e),A=e.dom,L=(ue,Ce)=>{let Be;if(q(),bC(Ce))return null;if(o(Ce)){const Ie=cv(T,Ce,ue),Ue=s_(n,Ce,ue);A.setStyle(Ie,"top",Ue.top),v=Ie;const et=A.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});A.setStyles(et,{...Ue}),A.add(n,et),l.set({caret:et,element:Ce,before:ue}),ue&&A.addClass(et,"mce-visual-caret-before"),Z(),Be=Ce.ownerDocument.createRange(),Be.setStart(Ie,0),Be.setEnd(Ie,0)}else return v=uE(Ce,ue),Be=Ce.ownerDocument.createRange(),h1(v.nextSibling)?(Be.setStart(v,0),Be.setEnd(v,0)):(Be.setStart(v,1),Be.setEnd(v,1)),Be;return Be},q=()=>{vl(n),v&&(Cm(v),v=null),l.on(ue=>{A.remove(ue.caret),l.clear()}),f&&(clearInterval(f),f=void 0)},Z=()=>{f=setInterval(()=>{l.on(ue=>{r()?A.toggleClass(ue.caret,"mce-visual-caret-hidden"):A.addClass(ue.caret,"mce-visual-caret-hidden")})},500)};return{show:L,hide:q,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{l.on(ue=>{const Ce=s_(n,ue.element,ue.before);A.setStyles(ue.caret,{...Ce})})},destroy:()=>clearInterval(f)}},qv=()=>jo.browser.isFirefox(),h1=e=>o_(e)||Tm(e),wf=e=>(h1(e)||Ar(e)&&qv())&&oi(xe.fromDom(e)).exists(Gh),yC=Go,m1=es,r_=qr,Qi=Nl("display","block table table-cell table-caption list-item"),i_=Uc,Sm=uu,EC=Xt,g1=Pt,$0=zc,Vg=e=>e>0,xm=e=>e<0,p1=(e,n)=>{let o;for(;o=e(n);)if(!Sm(o))return o;return null},Md=(e,n,o,r,l)=>{const f=new ri(e,r),v=m1(e)||Sm(e);let T;if(xm(n)){if(v&&(T=p1(f.prev.bind(f),!0),o(T)))return T;for(;T=p1(f.prev.bind(f),l);)if(o(T))return T}if(Vg(n)){if(v&&(T=p1(f.next.bind(f),!0),o(T)))return T;for(;T=p1(f.next.bind(f),l);)if(o(T))return T}return null},F0=(e,n)=>{const o=l=>yC(l.dom),r=l=>l.dom===n;return Ds(xe.fromDom(e),o,r).map(l=>l.dom).getOr(n)},fi=(e,n)=>{for(;e&&e!==n;){if(Qi(e))return e;e=e.parentNode}return null},bl=(e,n,o)=>fi(e.container(),o)===fi(n.container(),o),jv=(e,n)=>{if(!n)return ee.none();const o=n.container(),r=n.offset();return EC(o)?ee.from(o.childNodes[r+e]):ee.none()},a_=(e,n)=>{var o;const l=((o=n.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(l.setStartBefore(n),l.setEndBefore(n)):(l.setStartAfter(n),l.setEndAfter(n)),l},c_=(e,n,o)=>fi(n,e)===fi(o,e),H0=(e,n,o)=>{const r=e?"previousSibling":"nextSibling";let l=o;for(;l&&l!==n;){let f=l[r];if(f&&i_(f)&&(f=f[r]),m1(f)||r_(f)){if(c_(n,f,l))return f;break}if($0(f))break;l=l.parentNode}return null},Am=Ve(a_,!0),v1=Ve(a_,!1),Om=(e,n,o)=>{let r;const l=Ve(H0,!0,n),f=Ve(H0,!1,n),v=o.startContainer,T=o.startOffset;if(uu(v)){const A=g1(v)?v.parentNode:v,L=A.getAttribute("data-mce-caret");if(L==="before"&&(r=A.nextSibling,wf(r)))return Am(r);if(L==="after"&&(r=A.previousSibling,wf(r)))return v1(r)}if(!o.collapsed)return o;if(Pt(v)){if(i_(v)){if(e===1){if(r=f(v),r)return Am(r);if(r=l(v),r)return v1(r)}if(e===-1){if(r=l(v),r)return v1(r);if(r=f(v),r)return Am(r)}return o}if(bg(v)&&T>=v.data.length-1)return e===1&&(r=f(v),r)?Am(r):o;if(Jh(v)&&T<=1)return e===-1&&(r=l(v),r)?v1(r):o;if(T===v.data.length)return r=f(v),r?Am(r):o;if(T===0)return r=l(v),r?v1(r):o}return o},b2=(e,n)=>jv(e?0:-1,n).filter(m1),Ug=(e,n,o)=>{const r=Om(e,n,o);return e===-1?ze.fromRangeStart(r):ze.fromRangeEnd(r)},b1=e=>ee.from(e.getNode()).map(xe.fromDom),Rm=e=>ee.from(e.getNode(!0)).map(xe.fromDom),V0=(e,n)=>{let o=n;for(;o=e(o);)if(o.isVisible())return o;return o},zg=(e,n)=>{const o=bl(e,n);return!o&&wr(e.getNode())?!0:o};var $i;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})($i||($i={}));const U0=es,Ku=Pt,kd=Xt,mh=wr,Im=zc,g=Wc,y=wi,R=(e,n)=>{const o=[];let r=e;for(;r&&r!==n;)o.push(r),r=r.parentNode;return o},W=(e,n)=>e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null,ie=(e,n)=>{if(Vg(e)){if(Im(n.previousSibling)&&!Ku(n.previousSibling))return ze.before(n);if(Ku(n))return ze(n,0)}if(xm(e)){if(Im(n.nextSibling)&&!Ku(n.nextSibling))return ze.after(n);if(Ku(n))return ze(n,n.data.length)}return xm(e)?mh(n)?ze.before(n):ze.after(n):ze.before(n)},Te=(e,n)=>{const o=n.nextSibling;return o&&Im(o)?Ku(o)?ze(o,0):ze.before(o):Ne($i.Forwards,ze.after(n),e)},Ne=(e,n,o)=>{let r,l,f,v;if(!kd(o)||!n)return null;if(n.isEqual(ze.after(o))&&o.lastChild){if(v=ze.after(o.lastChild),xm(e)&&Im(o.lastChild)&&kd(o.lastChild))return mh(o.lastChild)?ze.before(o.lastChild):v}else v=n;const T=v.container();let A=v.offset();if(Ku(T)){if(xm(e)&&A>0)return ze(T,--A);if(Vg(e)&&A<T.length)return ze(T,++A);r=T}else{if(xm(e)&&A>0&&(l=W(T,A-1),Im(l)))return!g(l)&&(f=Md(l,e,y,l),f)?Ku(f)?ze(f,f.data.length):ze.after(f):Ku(l)?ze(l,l.data.length):ze.before(l);if(Vg(e)&&A<T.childNodes.length&&(l=W(T,A),Im(l)))return mh(l)?Te(o,l):!g(l)&&(f=Md(l,e,y,l),f)?Ku(f)?ze(f,0):ze.before(f):Ku(l)?ze(l,0):ze.after(l);r=l||v.getNode()}if(r&&(Vg(e)&&v.isAtEnd()||xm(e)&&v.isAtStart())&&(r=Md(r,e,At,o,!0),y(r,o)))return ie(e,r);l=r&&Md(r,e,y,o);const L=sl(En(R(T,o),U0));return L&&(!l||!L.contains(l))?(Vg(e)?v=ze.after(L):v=ze.before(L),v):l?ie(e,l):null},He=e=>({next:n=>Ne($i.Forwards,n,e),prev:n=>Ne($i.Backwards,n,e)}),ut=(e,n,o)=>{const r=e?ze.before(o):ze.after(o);return wo(e,n,r)},Zt=e=>wr(e)?ze.before(e):ze.after(e),Gt=e=>ze.isTextPosition(e)?e.offset()===0:zc(e.getNode()),rn=e=>{if(ze.isTextPosition(e)){const n=e.container();return e.offset()===n.data.length}else return zc(e.getNode(!0))},On=(e,n)=>!ze.isTextPosition(e)&&!ze.isTextPosition(n)&&e.getNode()===n.getNode(!0),Qn=e=>!ze.isTextPosition(e)&&wr(e.getNode()),So=(e,n,o)=>e?!On(n,o)&&!Qn(n)&&rn(n)&&Gt(o):!On(o,n)&&Gt(n)&&rn(o),wo=(e,n,o)=>{const r=He(n);return ee.from(e?r.next(o):r.prev(o))},Eo=(e,n,o)=>wo(e,n,o).bind(r=>bl(o,r,n)&&So(e,o,r)?wo(e,n,r):ee.some(r)),ws=(e,n,o,r)=>Eo(e,n,o).bind(l=>r(l)?ws(e,n,l,r):ee.some(l)),Xo=(e,n)=>{const o=e?n.firstChild:n.lastChild;return Pt(o)?ee.some(ze(o,e?0:o.data.length)):o?zc(o)?ee.some(e?ze.before(o):Zt(o)):ut(e,n,o):ee.none()},$r=Ve(wo,!0),Fr=Ve(wo,!1),Dr=Ve(Xo,!0),Or=Ve(Xo,!1),Ja="_mce_caret",As=e=>Xt(e)&&e.id===Ja,Nd=(e,n)=>{let o=n;for(;o&&o!==e;){if(As(o))return o;o=o.parentNode}return null},z0=e=>ne(e.start),y1=e=>zn(e,"rng"),l_=e=>zn(e,"id"),u_=e=>zn(e,"name"),_C=e=>me.isArray(e.start),d_=e=>!u_(e)&&Ge(e.forward)?e.forward:!0,y2=(e,n)=>(Xt(n)&&e.isBlock(n)&&!n.innerHTML&&(n.innerHTML='<br data-mce-bogus="1" />'),n),cR=(e,n)=>{const o=ee.from(m0(e.getRoot(),n.start)),r=ee.from(m0(e.getRoot(),n.end));return pt(o,r,(l,f)=>{const v=e.createRng();return v.setStart(l.container(),l.offset()),v.setEnd(f.container(),f.offset()),{range:v,forward:d_(n)}})},gh=(e,n)=>{var o;const l=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Ki);e.appendChild(l),n.setStart(l,0),n.setEnd(l,0)},W0=e=>!e.hasChildNodes(),wC=(e,n)=>Or(e).fold(je,o=>(n.setStart(o.container(),o.offset()),n.setEnd(o.container(),o.offset()),!0)),ph=(e,n,o)=>W0(n)&&Nd(e,n)?(gh(n,o),!0):!1,CC=(e,n,o,r)=>{const l=o[n?"start":"end"],f=e.getRoot();if(l){let v=f,T=l[0];for(let A=l.length-1;v&&A>=1;A--){const L=v.childNodes;if(ph(f,v,r))return!0;if(l[A]>L.length-1)return ph(f,v,r)?!0:wC(v,r);v=L[l[A]]}Pt(v)&&(T=Math.min(l[0],v.data.length)),Xt(v)&&(T=Math.min(l[0],v.childNodes.length)),n?r.setStart(v,T):r.setEnd(v,T)}return!0},G0=e=>Pt(e)&&e.data.length>0,Wg=(e,n,o)=>{const r=e.get(o.id+"_"+n),l=r==null?void 0:r.parentNode,f=o.keep;if(r&&l){let v,T;if(n==="start"?f?r.hasChildNodes()?(v=r.firstChild,T=1):G0(r.nextSibling)?(v=r.nextSibling,T=0):G0(r.previousSibling)?(v=r.previousSibling,T=r.previousSibling.data.length):(v=l,T=e.nodeIndex(r)+1):(v=l,T=e.nodeIndex(r)):f?r.hasChildNodes()?(v=r.firstChild,T=1):G0(r.previousSibling)?(v=r.previousSibling,T=r.previousSibling.data.length):(v=l,T=e.nodeIndex(r)):(v=l,T=e.nodeIndex(r)),!f){const A=r.previousSibling,L=r.nextSibling;me.each(me.grep(r.childNodes),Z=>{Pt(Z)&&(Z.data=Z.data.replace(/\uFEFF/g,""))});let q;for(;q=e.get(o.id+"_"+n);)e.remove(q,!0);if(Pt(L)&&Pt(A)&&!jo.browser.isOpera()){const Z=A.data.length;A.appendData(L.data),e.remove(L),v=A,T=Z}}return ee.some(ze(v,T))}else return ee.none()},TC=(e,n)=>{const o=e.createRng();return CC(e,!0,n,o)&&CC(e,!1,n,o)?ee.some({range:o,forward:d_(n)}):ee.none()},E2=(e,n)=>{const o=Wg(e,"start",n),r=Wg(e,"end",n);return pt(o,r.or(o),(l,f)=>{const v=e.createRng();return v.setStart(y2(e,l.container()),l.offset()),v.setEnd(y2(e,f.container()),f.offset()),{range:v,forward:d_(n)}})},SC=(e,n)=>ee.from(e.select(n.name)[n.index]).map(o=>{const r=e.createRng();return r.selectNode(o),{range:r,forward:!0}}),Gg=(e,n)=>{const o=e.dom;if(n){if(_C(n))return TC(o,n);if(z0(n))return cR(o,n);if(l_(n))return E2(o,n);if(u_(n))return SC(o,n);if(y1(n))return ee.some({range:n.rng,forward:d_(n)})}return ee.none()},lR=(e,n,o)=>Qw(e,n,o),vh=(e,n)=>{Gg(e,n).each(({range:o,forward:r})=>{e.setRng(o,r)})},Eu=e=>Xt(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",f_=(e=>n=>e===n)(ds),Z0=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,xC=e=>!Z0(e)&&!f_(e)&&!au(e),uR=e=>({value:w2(e)}),w2=e=>Rl(e,"#").toUpperCase(),AC=e=>{const n=e.toString(16);return(n.length===1?"0"+n:n).toUpperCase()},h_=e=>{const n=AC(e.red)+AC(e.green)+AC(e.blue);return uR(n)},dR=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,fR=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,m_=(e,n,o,r)=>({red:e,green:n,blue:o,alpha:r}),C2=(e,n,o,r)=>{const l=parseInt(e,10),f=parseInt(n,10),v=parseInt(o,10),T=parseFloat(r);return m_(l,f,v,T)},fN=e=>{if(e==="transparent")return ee.some(m_(0,0,0,0));const n=dR.exec(e);if(n!==null)return ee.some(C2(n[1],n[2],n[3],"1"));const o=fR.exec(e);return o!==null?ee.some(C2(o[1],o[2],o[3],o[4])):ee.none()},Yv=e=>fN(e).map(h_).map(n=>"#"+n.value).getOr(e),Ao=e=>{const n=[];if(e)for(let o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));return n},Dm=e=>ga(e,n=>{const o=qc(n);return o?[xe.fromDom(o)]:[]}),Kv=e=>Ao(e).length>1,OC=e=>En(Dm(e),Ga),hR=e=>Ta(e,"td[data-mce-selected],th[data-mce-selected]"),q0=(e,n)=>{const o=hR(n);return o.length>0?o:OC(e)},E1=e=>q0(Ao(e.selection.getSel()),xe.fromDom(e.getBody())),_1=(e,n)=>wa(e,"table",n),RC=e=>{const n=e.startContainer,o=e.startOffset;return Pt(n)?o===0?ee.some(xe.fromDom(n)):ee.none():ee.from(n.childNodes[o]).map(xe.fromDom)},IC=e=>{const n=e.endContainer,o=e.endOffset;return Pt(n)?o===n.data.length?ee.some(xe.fromDom(n)):ee.none():ee.from(n.childNodes[o-1]).map(xe.fromDom)},DC=e=>st(e).fold(Xe([e]),n=>[e].concat(DC(n))),T2=e=>Et(e).fold(Xe([e]),n=>$s(n)==="br"?xc(n).map(o=>[e].concat(T2(o))).getOr([]):[e].concat(T2(n))),j0=(e,n)=>pt(RC(n),IC(n),(o,r)=>{const l=gs(DC(e),Ve(zo,o)),f=gs(T2(e),Ve(zo,r));return l.isSome()&&f.isSome()}).getOr(!1),g_=(e,n,o,r)=>{const l=o,f=new ri(o,l),v=Is(e.schema.getMoveCaretBeforeOnEnterElements(),(A,L)=>!Dn(["td","th","table"],L.toLowerCase()));let T=o;do{if(Pt(T)&&me.trim(T.data).length!==0){r?n.setStart(T,0):n.setEnd(T,T.data.length);return}if(v[T.nodeName]){r?n.setStartBefore(T):T.nodeName==="BR"?n.setEndBefore(T):n.setEndAfter(T);return}}while(T=r?f.next():f.prev());l.nodeName==="BODY"&&(r?n.setStart(l,0):n.setEnd(l,l.childNodes.length))},MC=e=>{const n=e.selection.getSel();return Pe(n)&&n.rangeCount>0},kC=(e,n)=>{const o=E1(e);o.length>0?lt(o,r=>{const l=r.dom,f=e.dom.createRng();f.setStartBefore(l),f.setEndAfter(l),n(f,!0)}):n(e.selection.getRng(),!1)},p_=(e,n,o)=>{const r=NE(e,n);o(r),e.moveToBookmark(r)},Y0=e=>dn(e==null?void 0:e.nodeType),Mm=e=>Xt(e)&&!Eu(e)&&!As(e)&&!Ll(e),S2=(e,n)=>{if(Mm(n)&&!/^(TD|TH)$/.test(n.nodeName)){const o=e.getAttrib(n,"data-mce-selected"),r=parseInt(o,10);return!isNaN(r)&&r>0}else return!1},bh=e=>e.isContentEditable===!0,Zg=(e,n,o)=>{const{selection:r,dom:l}=e,f=r.getNode(),v=es(f);p_(r,!0,()=>{n()}),v&&es(f)&&l.isChildOf(f,e.getBody())?e.selection.select(f):o(r.getStart())&&mR(l,r)},mR=(e,n)=>{var o,r;const l=n.getRng(),{startContainer:f,startOffset:v}=l,T=n.getNode();if(!S2(e,T)&&Xt(f)){const A=f.childNodes,L=e.getRoot();let q;if(v<A.length){const Z=A[v];q=new ri(Z,(o=e.getParent(Z,e.isBlock))!==null&&o!==void 0?o:L)}else{const Z=A[A.length-1];q=new ri(Z,(r=e.getParent(Z,e.isBlock))!==null&&r!==void 0?r:L),q.next(!0)}for(let Z=q.current();Z;Z=q.next()){if(e.getContentEditable(Z)==="false")return;if(Pt(Z)&&!Qv(Z)){l.setStart(Z,0),n.setRng(l);return}}}},x2=(e,n,o)=>{if(e){const r=n?"nextSibling":"previousSibling";for(e=o?e:e[r];e;e=e[r])if(Xt(e)||!Qv(e))return e}},NC=(e,n)=>!!e.getTextBlockElements()[n.nodeName.toLowerCase()]||uf(e,n),Xv=(e,n,o)=>e.schema.isValidChild(n,o),Qv=(e,n=!1)=>{if(Pe(e)&&Pt(e)){const o=n?e.data.replace(/ /g," "):e.data;return dc(o)}else return!1},gR=e=>Pe(e)&&Pt(e)&&e.length===0,pR=(e,n)=>{const o="[data-mce-cef-wrappable]",r=Uv(e),l=pa(r)?o:`${o},${r}`;return ia(xe.fromDom(n),l)},A2=(e,n)=>{const o=e.dom;return Mm(n)&&o.getContentEditable(n)==="false"&&pR(e,n)&&o.select('[contenteditable="true"]',n).length===0},qg=(e,n)=>he(e)?e(n):(Pe(n)&&(e=e.replace(/%(\w+)/g,(o,r)=>n[r]||o)),e),PC=(e,n)=>(e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()),LC=(e,n)=>{if(xt(e))return null;{let o=String(e);return(n==="color"||n==="backgroundColor")&&(o=Yv(o)),n==="fontWeight"&&e===700&&(o="bold"),n==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},v_=(e,n,o)=>{const r=e.getStyle(n,o);return LC(r,o)},w1=(e,n)=>{let o;return e.getParent(n,r=>Xt(r)?(o=e.getStyle(r,"text-decoration"),!!o&&o!=="none"):!1),o},b_=(e,n,o)=>e.getParents(n,o,e.getRoot()),on=(e,n,o)=>{const r=e.formatter.get(n);return Pe(r)&&as(r,o)},da=(e,n)=>on(e,n,r=>{const l=f=>he(f)||f.length>1&&f.charAt(0)==="%";return as(["styles","attributes"],f=>Ys(r,f).exists(v=>{const T=$(v)?v:Vf(v);return as(T,l)}))}),y_=(e,n,o)=>{const r=["inline","block","selector","attributes","styles","classes"],l=f=>Is(f,(v,T)=>as(r,A=>A===T));return on(e,n,f=>{const v=l(f);return on(e,o,T=>{const A=l(T);return Ou(v,A)})})},mr=e=>nc(e,"block"),Pd=e=>mr(e)&&e.wrapper===!0,O2=e=>mr(e)&&e.wrapper!==!0,yl=e=>nc(e,"selector"),Fi=e=>nc(e,"inline"),E_=e=>yl(e)&&Fi(e)&&Re(Ys(e,"mixed"),!0),__=e=>yl(e)&&e.expand!==!1&&!Fi(e),km=Eu,R2=b_,BC=Qv,I2=NC,$C=e=>wr(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,FC=(e,n)=>{let o=n;for(;o;){if(Xt(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:n;o=o.parentNode}return n},HC=(e,n,o,r)=>{const l=n.data;if(e){for(let f=o;f>0;f--)if(r(l.charAt(f-1)))return f}else for(let f=o;f<l.length;f++)if(r(l.charAt(f)))return f;return-1},K0=(e,n,o)=>HC(e,n,o,r=>f_(r)||Z0(r)),w_=(e,n,o)=>HC(e,n,o,xC),X0=(e,n,o,r,l,f)=>{let v;const T=e.getParent(o,e.isBlock)||n,A=(q,Z,te)=>{const we=sr(e),Se=l?we.backwards:we.forwards;return ee.from(Se(q,Z,(ue,Ce)=>km(ue.parentNode)?-1:(v=ue,te(l,ue,Ce)),T))};return A(o,r,K0).bind(q=>f?A(q.container,q.offset+(l?-1:0),w_):ee.some(q)).orThunk(()=>v?ee.some({container:v,offset:l?0:v.length}):ee.none())},Q0=(e,n,o,r,l)=>{const f=r[l];Pt(r)&&pa(r.data)&&f&&(r=f);const v=R2(e,r);for(let T=0;T<v.length;T++)for(let A=0;A<n.length;A++){const L=n[A];if(!(Pe(L.collapsed)&&L.collapsed!==o.collapsed)&&yl(L)&&e.is(v[T],L.selector))return v[T]}return r},C_=(e,n,o,r)=>{var l;let f=o;const v=e.getRoot(),T=n[0];if(mr(T)&&(f=T.wrapper?null:e.getParent(o,T.block,v)),!f){const A=(l=e.getParent(o,"LI,TD,TH"))!==null&&l!==void 0?l:v;f=e.getParent(Pt(o)?o.parentNode:o,L=>L!==v&&I2(e.schema,L),A)}if(f&&mr(T)&&T.wrapper&&(f=R2(e,f,"ul,ol").reverse()[0]||f),!f)for(f=o;f&&f[r]&&!e.isBlock(f[r])&&(f=f[r],!PC(f,"br")););return f||o},D2=(e,n,o,r)=>{const l=o.parentNode;return Pe(o[r])?!1:l===n||xt(l)||e.isBlock(l)?!0:D2(e,n,l,r)},Nm=(e,n,o,r,l)=>{let f=o;const v=l?"previousSibling":"nextSibling",T=e.getRoot();if(Pt(o)&&!BC(o)&&(l?r>0:r<o.data.length))return o;for(;f;){if(!n[0].block_expand&&e.isBlock(f))return f;for(let A=f[v];A;A=A[v]){const L=Pt(A)&&!D2(e,T,A,v);if(!km(A)&&!$C(A)&&!BC(A,L))return f}if(f===T||f.parentNode===T){o=f;break}f=f.parentNode}return o},yh=e=>km(e.parentNode)||km(e),C1=(e,n,o,r=!1)=>{let{startContainer:l,startOffset:f,endContainer:v,endOffset:T}=n;const A=o[0];return Xt(l)&&l.hasChildNodes()&&(l=bf(l,f),Pt(l)&&(f=0)),Xt(v)&&v.hasChildNodes()&&(v=bf(v,n.collapsed?T:T-1),Pt(v)&&(T=v.data.length)),l=FC(e,l),v=FC(e,v),yh(l)&&(l=km(l)?l:l.parentNode,n.collapsed?l=l.previousSibling||l:l=l.nextSibling||l,Pt(l)&&(f=n.collapsed?l.length:0)),yh(v)&&(v=km(v)?v:v.parentNode,n.collapsed?v=v.nextSibling||v:v=v.previousSibling||v,Pt(v)&&(T=n.collapsed?0:v.length)),n.collapsed&&(X0(e,e.getRoot(),l,f,!0,r).each(({container:Z,offset:te})=>{l=Z,f=te}),X0(e,e.getRoot(),v,T,!1,r).each(({container:Z,offset:te})=>{v=Z,T=te})),(Fi(A)||A.block_expand)&&((!Fi(A)||!Pt(l)||f===0)&&(l=Nm(e,o,l,f,!0)),(!Fi(A)||!Pt(v)||T===v.data.length)&&(v=Nm(e,o,v,T,!1))),__(A)&&(l=Q0(e,o,n,l,"previousSibling"),v=Q0(e,o,n,v,"nextSibling")),(mr(A)||yl(A))&&(l=C_(e,o,l,"previousSibling"),v=C_(e,o,v,"nextSibling"),mr(A)&&(e.isBlock(l)||(l=Nm(e,o,l,f,!0)),e.isBlock(v)||(v=Nm(e,o,v,T,!1)))),Xt(l)&&l.parentNode&&(f=e.nodeIndex(l),l=l.parentNode),Xt(v)&&v.parentNode&&(T=e.nodeIndex(v)+1,v=v.parentNode),{startContainer:l,startOffset:f,endContainer:v,endOffset:T}},Jv=(e,n,o)=>{var r;const l=n.startOffset,f=bf(n.startContainer,l),v=n.endOffset,T=bf(n.endContainer,v-1),A=Ce=>{const Be=Ce[0];Pt(Be)&&Be===f&&l>=Be.data.length&&Ce.splice(0,1);const Ie=Ce[Ce.length-1];return v===0&&Ce.length>0&&Ie===T&&Pt(Ie)&&Ce.splice(Ce.length-1,1),Ce},L=(Ce,Be,Ie)=>{const Ue=[];for(;Ce&&Ce!==Ie;Ce=Ce[Be])Ue.push(Ce);return Ue},q=(Ce,Be)=>e.getParent(Ce,Ie=>Ie.parentNode===Be,Be),Z=(Ce,Be,Ie)=>{const Ue=Ie?"nextSibling":"previousSibling";for(let et=Ce,yt=et.parentNode;et&&et!==Be;et=yt){yt=et.parentNode;const Yt=L(et===Ce?et:et[Ue],Ue);Yt.length&&(Ie||Yt.reverse(),o(A(Yt)))}};if(f===T)return o(A([f]));const te=(r=e.findCommonAncestor(f,T))!==null&&r!==void 0?r:e.getRoot();if(e.isChildOf(f,T))return Z(f,te,!0);if(e.isChildOf(T,f))return Z(T,te);const we=q(f,te)||f,Se=q(T,te)||T;Z(f,we,!0);const ue=L(we===f?we:we.nextSibling,"nextSibling",Se===T?Se.nextSibling:Se);ue.length&&o(A(ue)),Z(T,Se)},VC=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],vR=e=>ur(e)&&Ir(e)===Ki,M2=(e,n,o,r)=>Ho(n).fold(()=>"skipping",l=>r==="br"||vR(n)?"valid":EE(n)?"existing":As(n.dom)?"caret":as(VC,f=>ia(n,f))?"valid-block":!Xv(e,o,r)||!Xv(e,$s(l),o)?"invalid-child":"valid"),T_=(e,n)=>{const o=C1(e.dom,n,[{inline:"span"}]);n.setStart(o.startContainer,o.startOffset),n.setEnd(o.endContainer,o.endOffset),e.selection.setRng(n)},k2=(e,n,o,r,l,f)=>{const{uid:v=n,...T}=o;ef(e,ih()),io(e,`${vf()}`,v),io(e,`${Mg()}`,r);const{attributes:A={},classes:L=[]}=l(v,T);if(Lr(e,A),TE(e,L),f){L.length>0&&io(e,`${pu()}`,L.join(","));const q=La(A);q.length>0&&io(e,`${ah()}`,q.join(","))}},S_=e=>{ic(e,ih()),dr(e,`${vf()}`),dr(e,`${Mg()}`),dr(e,`${ml()}`);const n=Tc(e,`${ah()}`).map(r=>r.split(",")).getOr([]),o=Tc(e,`${pu()}`).map(r=>r.split(",")).getOr([]);lt(n,r=>dr(e,r)),Zw(e,o),dr(e,`${pu()}`),dr(e,`${ah()}`)},Ji=(e,n,o,r,l)=>{const f=xe.fromTag("span",e);return k2(f,n,o,r,l,!1),f},Ld=(e,n,o,r,l,f)=>{const v=[],T=Ji(e.getDoc(),o,f,r,l),A=Ci(),L=()=>{A.clear()},q=()=>A.get().getOrThunk(()=>{const Se=fm(T);return v.push(Se),A.set(Se),Se}),Z=Se=>{lt(Se,te)},te=Se=>{switch(M2(e,Se,"span",$s(Se))){case"invalid-child":{L();const Ce=Fe(Se);Z(Ce),L();break}case"valid-block":{L(),k2(Se,o,f,r,l,!0);break}case"valid":{const Ce=q();kp(Se,Ce);break}}},we=Se=>{const ue=qt(Se,xe.fromDom);Z(ue)};return Jv(e.dom,n,Se=>{L(),we(Se)}),v},Xu=(e,n,o,r)=>{e.undoManager.transact(()=>{const l=e.selection,f=l.getRng(),v=E1(e).length>0,T=s0("mce-annotation");if(f.collapsed&&!v&&T_(e,f),l.getRng().collapsed&&!v){const A=Ji(e.getDoc(),T,r,n,o.decorate);mg(A,ds),l.getRng().insertNode(A.dom),l.select(A.dom)}else p_(l,!1,()=>{kC(e,A=>{Ld(e,A,T,n,o.decorate,r)})})})},J0=e=>{const n=wE();Gw(e,n);const o=Ww(e,n),r=Hc("span"),l=f=>{lt(f,v=>{r(v)?Ha(v):S_(v)})};return{register:(f,v)=>{n.register(f,v)},annotate:(f,v)=>{n.lookup(f).each(T=>{Xu(e,f,T,v)})},annotationChanged:(f,v)=>{o.addListener(f,v)},remove:f=>{n0(e,ee.some(f)).each(({elements:v})=>{const T=e.selection.getBookmark();l(v),e.selection.moveToBookmark(T)})},removeAll:f=>{const v=e.selection.getBookmark();nn(o0(e,f),(T,A)=>{l(T)}),e.selection.moveToBookmark(v)},getAll:f=>{const v=o0(e,f);return Bo(v,T=>qt(T,A=>A.dom))}}},Gl=e=>({getBookmark:Ve(lR,e),moveToBookmark:Ve(vh,e)});Gl.isBookmarkNode=Eu;const N2=(e,n,o)=>o.collapsed?!1:as(o.getClientRects(),r=>Av(r,e,n)),UC=(e,n)=>e.dispatch("PreProcess",n),zC=(e,n)=>e.dispatch("PostProcess",n),WC=e=>{e.dispatch("remove")},bR=e=>{e.dispatch("detach")},GC=(e,n)=>{e.dispatch("SwitchMode",{mode:n})},yR=(e,n,o,r,l)=>{e.dispatch("ObjectResizeStart",{target:n,width:o,height:r,origin:l})},ER=(e,n,o,r,l)=>{e.dispatch("ObjectResized",{target:n,width:o,height:r,origin:l})},ZC=e=>{e.dispatch("PreInit")},qC=e=>{e.dispatch("PostRender")},Ws=e=>{e.dispatch("Init")},Eh=(e,n)=>{e.dispatch("PlaceholderToggle",{state:n})},jC=(e,n,o)=>{e.dispatch(n,o)},YC=(e,n,o,r)=>{e.dispatch("FormatApply",{format:n,node:o,vars:r})},KC=(e,n,o,r)=>{e.dispatch("FormatRemove",{format:n,node:o,vars:r})},XC=(e,n)=>e.dispatch("BeforeSetContent",n),QC=(e,n)=>e.dispatch("SetContent",n),JC=(e,n)=>e.dispatch("BeforeGetContent",n),eT=(e,n)=>e.dispatch("GetContent",n),_R=(e,n)=>{e.dispatch("AutocompleterStart",n)},P2=(e,n)=>{e.dispatch("AutocompleterUpdate",n)},wR=e=>{e.dispatch("AutocompleterEnd")},tT=(e,n,o)=>e.dispatch("PastePreProcess",{content:n,internal:o}),CR=(e,n,o)=>e.dispatch("PastePostProcess",{node:n,internal:o}),jg=(e,n)=>e.dispatch("PastePlainTextToggle",{state:n}),gn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||gn.metaKeyPressed(e),metaKeyPressed:e=>jo.os.isMacOS()||jo.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Pm="data-mce-selected",TR="table,img,figure.image,hr,video,span.mce-preview-object",hi=Math.abs,Yr=Math.round,Yg={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},x_=e=>e.type==="longpress"||e.type.indexOf("touch")===0,L2=(e,n)=>{const o=n.dom,r=n.getDoc(),l=document,f=n.getBody();let v,T,A,L,q,Z,te,we,Se,ue,Ce,Be,Ie,Ue,et,yt,Yt;const Ft=sn=>Pe(sn)&&(iE(sn)||o.is(sn,"figure.image")),at=sn=>qr(sn)||o.hasClass(sn,"mce-preview-object"),it=(sn,Ro)=>{if(x_(sn)){const Io=sn.touches[0];return Ft(sn.target)&&!N2(Io.clientX,Io.clientY,Ro)}else return Ft(sn.target)&&!N2(sn.clientX,sn.clientY,Ro)},ln=sn=>{const Ro=sn.target;it(sn,n.selection.getRng())&&!sn.isDefaultPrevented()&&n.selection.select(Ro)},xn=sn=>o.hasClass(sn,"mce-preview-object")&&Pe(sn.firstElementChild)?[sn,sn.firstElementChild]:o.is(sn,"figure.image")?[sn.querySelector("img")]:[sn],Bn=sn=>{const Ro=UE(n);return!Ro||sn.getAttribute("data-mce-resize")==="false"||sn===n.getBody()?!1:o.hasClass(sn,"mce-preview-object")&&Pe(sn.firstElementChild)?ia(xe.fromDom(sn.firstElementChild),Ro):ia(xe.fromDom(sn),Ro)},ho=sn=>at(sn)?o.create("img",{src:jo.transparentSrc}):sn.cloneNode(!0),No=(sn,Ro,Io)=>{if(Pe(Io)){const Pa=xn(sn);lt(Pa,Cr=>{Cr.style[Ro]||!n.schema.isValid(Cr.nodeName.toLowerCase(),Ro)?o.setStyle(Cr,Ro,Io):o.setAttrib(Cr,Ro,""+Io)})}},bs=(sn,Ro,Io)=>{No(sn,"width",Ro),No(sn,"height",Io)},Zs=sn=>{let Ro,Io,Pa,Cr,no;Ro=sn.screenX-Z,Io=sn.screenY-te,Ue=Ro*L[2]+ue,et=Io*L[3]+Ce,Ue=Ue<5?5:Ue,et=et<5?5:et,(Ft(v)||at(v))&&zE(n)!==!1?Pa=!gn.modifierPressed(sn):Pa=gn.modifierPressed(sn),Pa&&(hi(Ro)>hi(Io)?(et=Yr(Ue*Be),Ue=Yr(et/Be)):(Ue=Yr(et/Be),et=Yr(Ue*Be))),bs(T,Ue,et),Cr=L.startPos.x+Ro,no=L.startPos.y+Io,Cr=Cr>0?Cr:0,no=no>0?no:0,o.setStyles(A,{left:Cr,top:no,display:"block"}),A.innerHTML=Ue+" &times; "+et,L[2]<0&&T.clientWidth<=Ue&&o.setStyle(T,"left",we+(ue-Ue)),L[3]<0&&T.clientHeight<=et&&o.setStyle(T,"top",Se+(Ce-et)),Ro=f.scrollWidth-yt,Io=f.scrollHeight-Yt,Ro+Io!==0&&o.setStyles(A,{left:Cr-Ro,top:no-Io}),Ie||(yR(n,v,ue,Ce,"corner-"+L.name),Ie=!0)},Jr=()=>{const sn=Ie;Ie=!1,sn&&(No(v,"width",Ue),No(v,"height",et)),o.unbind(r,"mousemove",Zs),o.unbind(r,"mouseup",Jr),l!==r&&(o.unbind(l,"mousemove",Zs),o.unbind(l,"mouseup",Jr)),o.remove(T),o.remove(A),o.remove(q),tc(v),sn&&(ER(n,v,Ue,et,"corner-"+L.name),o.setAttrib(v,"style",o.getAttrib(v,"style"))),n.nodeChanged()},tc=sn=>{tn();const Ro=o.getPos(sn,f),Io=Ro.x,Pa=Ro.y,Cr=sn.getBoundingClientRect(),no=Cr.width||Cr.right-Cr.left,ns=Cr.height||Cr.bottom-Cr.top;v!==sn&&($t(),v=sn,Ue=et=0);const Ps=n.dispatch("ObjectSelected",{target:sn});Bn(sn)&&!Ps.isDefaultPrevented()?nn(Yg,(qs,Ur)=>{const gi=Hi=>{const Rf=xn(v)[0];Z=Hi.screenX,te=Hi.screenY,ue=Rf.clientWidth,Ce=Rf.clientHeight,Be=Ce/ue,L=qs,L.name=Ur,L.startPos={x:no*qs[0]+Io,y:ns*qs[1]+Pa},yt=f.scrollWidth,Yt=f.scrollHeight,q=o.add(f,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(q,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),T=ho(v),o.addClass(T,"mce-clonedresizable"),o.setAttrib(T,"data-mce-bogus","all"),T.contentEditable="false",o.setStyles(T,{left:Io,top:Pa,margin:0}),bs(T,no,ns),T.removeAttribute(Pm),f.appendChild(T),o.bind(r,"mousemove",Zs),o.bind(r,"mouseup",Jr),l!==r&&(o.bind(l,"mousemove",Zs),o.bind(l,"mouseup",Jr)),A=o.add(f,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},ue+" &times; "+Ce)};let Sr=o.get("mceResizeHandle"+Ur);Sr&&o.remove(Sr),Sr=o.add(f,"div",{id:"mceResizeHandle"+Ur,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Ur+"-resize; margin:0; padding:0"}),o.bind(Sr,"mousedown",Hi=>{Hi.stopImmediatePropagation(),Hi.preventDefault(),gi(Hi)}),qs.elm=Sr,o.setStyles(Sr,{left:no*qs[0]+Io-Sr.offsetWidth/2,top:ns*qs[1]+Pa-Sr.offsetHeight/2})}):$t(!1)},ma=Hl(tc,0),$t=(sn=!0)=>{ma.cancel(),tn(),v&&sn&&v.removeAttribute(Pm),nn(Yg,(Ro,Io)=>{const Pa=o.get("mceResizeHandle"+Io);Pa&&(o.unbind(Pa),o.remove(Pa))})},wn=(sn,Ro)=>o.isChildOf(sn,Ro),Qo=sn=>{if(Ie||n.removed||n.composing)return;const Ro=sn.type==="mousedown"?sn.target:e.getNode(),Io=su(xe.fromDom(Ro),TR).map(Cr=>Cr.dom).filter(Cr=>o.isEditable(Cr.parentElement)).getOrUndefined(),Pa=Pe(Io)?o.getAttrib(Io,Pm,"1"):"1";if(lt(o.select(`img[${Pm}],hr[${Pm}]`),Cr=>{Cr.removeAttribute(Pm)}),Pe(Io)&&wn(Io,f)){kn();const Cr=e.getStart(!0);if(wn(Cr,Io)&&wn(e.getEnd(!0),Io)){o.setAttrib(Io,Pm,Pa),ma.throttle(Io);return}}$t()},tn=()=>{nn(Yg,sn=>{sn.elm&&(o.unbind(sn.elm),delete sn.elm)})},kn=()=>{try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return n.on("init",()=>{kn(),n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Qo),n.on("keyup compositionend",sn=>{v&&v.nodeName==="TABLE"&&Qo(sn)}),n.on("hide blur",$t),n.on("contextmenu longpress",ln,!0)}),n.on("remove",tn),{isResizable:Bn,showResizeRect:tc,hideResizeRect:$t,updateResizeRect:Qo,destroy:()=>{ma.cancel(),v=T=q=null}}},SR=(e,n)=>{n.fold(o=>{e.setStartBefore(o.dom)},(o,r)=>{e.setStart(o.dom,r)},o=>{e.setStartAfter(o.dom)})},ko=(e,n)=>{n.fold(o=>{e.setEndBefore(o.dom)},(o,r)=>{e.setEnd(o.dom,r)},o=>{e.setEndAfter(o.dom)})},B2=(e,n,o)=>{const r=e.document.createRange();return SR(r,n),ko(r,o),r},A_=(e,n,o,r,l)=>{const f=e.document.createRange();return f.setStart(n.dom,o),f.setEnd(r.dom,l),f},T1=yu.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),$2=(e,n,o)=>n(xe.fromDom(o.startContainer),o.startOffset,xe.fromDom(o.endContainer),o.endOffset),xR=(e,n)=>n.match({domRange:o=>({ltr:Xe(o),rtl:ee.none}),relative:(o,r)=>({ltr:Ol(()=>B2(e,o,r)),rtl:Ol(()=>ee.some(B2(e,r,o)))}),exact:(o,r,l,f)=>({ltr:Ol(()=>A_(e,o,r,l,f)),rtl:Ol(()=>ee.some(A_(e,l,f,o,r)))})}),nT=(e,n)=>{const o=n.ltr();return o.collapsed?n.rtl().filter(l=>l.collapsed===!1).map(l=>T1.rtl(xe.fromDom(l.endContainer),l.endOffset,xe.fromDom(l.startContainer),l.startOffset)).getOrThunk(()=>$2(e,T1.ltr,o)):$2(e,T1.ltr,o)},AR=(e,n)=>{const o=xR(e,n);return nT(e,o)};T1.ltr,T1.rtl;const F2={create:(e,n,o,r)=>({start:e,soffset:n,finish:o,foffset:r})},oT=(e,n,o)=>{var r,l;return ee.from((l=(r=e.dom).caretPositionFromPoint)===null||l===void 0?void 0:l.call(r,n,o)).bind(f=>{if(f.offsetNode===null)return ee.none();const v=e.dom.createRange();return v.setStart(f.offsetNode,f.offset),v.collapse(),ee.some(v)})},sT=(e,n,o)=>{var r,l;return ee.from((l=(r=e.dom).caretRangeFromPoint)===null||l===void 0?void 0:l.call(r,n,o))},H2=(()=>document.caretPositionFromPoint?oT:document.caretRangeFromPoint?sT:ee.none)(),mN=(e,n,o)=>{const r=xe.fromDom(e.document);return H2(r,n,o).map(l=>F2.create(xe.fromDom(l.startContainer),l.startOffset,xe.fromDom(l.endContainer),l.endOffset))},O_=yu.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),KH=(e,n,o,r)=>e.fold(n,o,r),OR=e=>e.fold(Vt,Vt,Vt),RR=O_.before,gN=O_.on,Gn=O_.after,Lm={before:RR,on:gN,after:Gn,cata:KH,getStart:OR},rT=yu.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),IR=e=>rT.exact(e.start,e.soffset,e.finish,e.foffset),ey=e=>e.match({domRange:n=>xe.fromDom(n.startContainer),relative:(n,o)=>Lm.getStart(n),exact:(n,o,r,l)=>n}),pN=rT.domRange,R_=rT.relative,DR=rT.exact,MR=e=>{const n=ey(e);return go(n)},iT=F2.create,eb={domRange:pN,relative:R_,exact:DR,exactFromRange:IR,getWin:MR,range:iT},tb=(e,n)=>{const o=$s(e);return o==="input"?Lm.after(e):Dn(["br","img"],o)?n===0?Lm.before(e):Lm.after(e):Lm.on(e,n)},aT=(e,n)=>{const o=e.fold(Lm.before,tb,Lm.after),r=n.fold(Lm.before,tb,Lm.after);return eb.relative(o,r)},I_=(e,n,o,r)=>{const l=tb(e,n),f=tb(o,r);return eb.relative(l,f)},cT=e=>e.match({domRange:n=>{const o=xe.fromDom(n.startContainer),r=xe.fromDom(n.endContainer);return I_(o,n.startOffset,r,n.endOffset)},relative:aT,exact:I_}),lT=(e,n)=>{const r=(n||document).createDocumentFragment();return lt(e,l=>{r.appendChild(l.dom)}),xe.fromDom(r)},kR=e=>{const n=eb.getWin(e).dom,o=(l,f,v,T)=>A_(n,l,f,v,T),r=cT(e);return AR(n,r).match({ltr:o,rtl:o})},D_=(e,n,o)=>mN(e,n,o),uT=(e,n,o)=>{const r=go(xe.fromDom(o));return D_(r.dom,e,n).map(l=>{const f=o.createRange();return f.setStart(l.start.dom,l.soffset),f.setEnd(l.finish.dom,l.foffset),f}).getOrUndefined()},dT=(e,n)=>Pe(e)&&Pe(n)&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset,ts=(e,n,o)=>{let r=e;for(;r&&r!==n;){if(o(r))return r;r=r.parentNode}return null},V2=(e,n,o)=>ts(e,n,o)!==null,_h=(e,n,o)=>V2(e,n,r=>r.nodeName===o),Cf=(e,n)=>Uc(e)&&!V2(e,n,As),ty=(e,n,o)=>{const r=n.parentNode;if(r){const l=new ri(n,e.getParent(r,e.isBlock)||e.getRoot());let f;for(;f=l[o?"prev":"next"]();)if(wr(f))return!0}return!1},Zl=(e,n)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===n},M_=(e,n)=>{let o=n;for(;o&&o!==e;){if(es(o))return!0;o=o.parentNode}return!1},S1=(e,n,o,r,l)=>{const f=e.getRoot(),v=e.schema.getNonEmptyElements(),T=l.parentNode;let A,L;if(!T)return ee.none();const q=e.getParent(T,e.isBlock)||f;if(r&&wr(l)&&n&&e.isEmpty(q))return ee.some(ze(T,e.nodeIndex(l)));const Z=new ri(l,q);for(;L=Z[r?"prev":"next"]();){if(e.getContentEditableParent(L)==="false"||Cf(L,f))return ee.none();if(Pt(L)&&L.data.length>0)return _h(L,f,"A")?ee.none():ee.some(ze(L,r?L.data.length:0));if(e.isBlock(L)||v[L.nodeName.toLowerCase()])return ee.none();A=L}return za(A)?ee.none():o&&A?ee.some(ze(A,0)):ee.none()},ny=(e,n,o,r)=>{const l=e.getRoot();let f,v=!1,T=o?r.startContainer:r.endContainer,A=o?r.startOffset:r.endOffset;const L=Xt(T)&&A===T.childNodes.length,q=e.schema.getNonEmptyElements();let Z=o;if(Uc(T))return ee.none();if(Xt(T)&&A>T.childNodes.length-1&&(Z=!1),of(T)&&(T=l,A=0),T===l){if(Z&&(f=T.childNodes[A>0?A-1:0],f&&(Uc(f)||q[f.nodeName]||Ar(f))))return ee.none();if(T.hasChildNodes()){if(A=Math.min(!Z&&A>0?A-1:A,T.childNodes.length-1),T=T.childNodes[A],A=Pt(T)&&L?T.data.length:0,!n&&T===l.lastChild&&Ar(T)||M_(l,T)||Uc(T))return ee.none();if(T.hasChildNodes()&&!Ar(T)){f=T;const te=new ri(T,l);do{if(es(f)||Uc(f)){v=!1;break}if(Pt(f)&&f.data.length>0){A=Z?0:f.data.length,T=f,v=!0;break}if(q[f.nodeName.toLowerCase()]&&!cc(f)){A=e.nodeIndex(f),T=f.parentNode,Z||A++,v=!0;break}}while(f=Z?te.next():te.prev())}}}return n&&(Pt(T)&&A===0&&S1(e,L,n,!0,T).each(te=>{T=te.container(),A=te.offset(),v=!0}),Xt(T)&&(f=T.childNodes[A],f||(f=T.childNodes[A-1]),f&&wr(f)&&!Zl(f,"A")&&!ty(e,f,!1)&&!ty(e,f,!0)&&S1(e,L,n,!0,f).each(te=>{T=te.container(),A=te.offset(),v=!0}))),Z&&!n&&Pt(T)&&A===T.data.length&&S1(e,L,n,!1,T).each(te=>{T=te.container(),A=te.offset(),v=!0}),v&&T?ee.some(ze(T,A)):ee.none()},Bm=(e,n)=>{const o=n.collapsed,r=n.cloneRange(),l=ze.fromRangeStart(n);return ny(e,o,!0,r).each(f=>{(!o||!ze.isAbove(l,f))&&r.setStart(f.container(),f.offset())}),o||ny(e,o,!1,r).each(f=>{r.setEnd(f.container(),f.offset())}),o&&r.collapse(!0),dT(n,r)?ee.none():ee.some(r)},fT=(e,n)=>e.splitText(n),k_=e=>{let n=e.startContainer,o=e.startOffset,r=e.endContainer,l=e.endOffset;if(n===r&&Pt(n)){if(o>0&&o<n.data.length)if(r=fT(n,o),n=r.previousSibling,l>o){l=l-o;const f=fT(r,l).previousSibling;n=r=f,l=f.data.length,o=0}else l=0}else if(Pt(n)&&o>0&&o<n.data.length&&(n=fT(n,o),o=0),Pt(r)&&l>0&&l<r.data.length){const f=fT(r,l).previousSibling;r=f,l=f.data.length}return{startContainer:n,startOffset:o,endContainer:r,endOffset:l}},nb=e=>({walk:(f,v)=>Jv(e,f,v),split:k_,expand:(f,v={type:"word"})=>{if(v.type==="word"){const T=C1(e,f,[{inline:"span"}]),A=e.createRng();return A.setStart(T.startContainer,T.startOffset),A.setEnd(T.endContainer,T.endOffset),A}return f},normalize:f=>Bm(e,f).fold(je,v=>(f.setStart(v.startContainer,v.startOffset),f.setEnd(v.endContainer,v.endOffset),!0))});nb.compareRanges=dT,nb.getCaretRangeFromPoint=uT,nb.getSelectedNode=qc,nb.getNode=bf;const qo=((e,n)=>{const o=(T,A)=>{if(!dn(A)&&!A.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+A);const L=T.dom;Fa(L)&&(L.style[e]=A+"px")},r=T=>{const A=n(T);if(A<=0||A===null){const L=bd(T,e);return parseFloat(L)||0}return A},l=r,f=(T,A)=>Os(A,(L,q)=>{const Z=bd(T,q),te=Z===void 0?0:parseInt(Z,10);return isNaN(te)?L:L+te},0);return{set:o,get:r,getOuter:l,aggregate:f,max:(T,A,L)=>{const q=f(T,L);return A>q?A-q:0}}})("height",e=>{const n=e.dom;return Ks(e)?n.getBoundingClientRect().height:n.offsetHeight}),Bd=e=>qo.get(e),x1=()=>xe.fromDom(document),U2=(e,n)=>e.view(n).fold(Xe([]),r=>{const l=e.owner(r),f=U2(e,l);return[r].concat(f)}),oy=(e,n)=>{const o=n.owner(e);return U2(n,o)};var W2=Object.freeze({__proto__:null,view:e=>{var n;return(e.dom===document?ee.none():ee.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement)).map(xe.fromDom)},owner:e=>wt(e)});const hT=e=>{const n=x1(),o=Ub(n),r=oy(e,W2),l=Pu(e),f=Wr(r,(v,T)=>{const A=Pu(T);return{left:v.left+A.left,top:v.top+A.top}},{left:0,top:0});return Va(f.left+l.left+o.left,f.top+l.top+o.top)},mT=e=>$s(e)==="textarea",ob=(e,n)=>e.dispatch("ScrollIntoView",n).isDefaultPrevented(),A1=(e,n)=>{e.dispatch("AfterScrollIntoView",n)},G2=(e,n)=>{const o=Fe(e);if(o.length===0||mT(e))return{element:e,offset:n};if(n<o.length&&!mT(o[n]))return{element:o[n],offset:0};{const r=o[o.length-1];return mT(r)?{element:e,offset:n}:$s(r)==="img"?{element:r,offset:1}:ur(r)?{element:r,offset:Ir(r).length}:{element:r,offset:Fe(r).length}}},d=(e,n)=>{const o=sE(e),r=Bd(e);return{element:e,bottom:o.top+r,height:r,pos:o,cleanup:n}},p=(e,n)=>{const o=G2(e,n),r=xe.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Ki+"</span>");return ss(o.element,r),d(r,()=>_r(r))},_=e=>d(xe.fromDom(e),Ct),S=(e,n,o,r)=>{ae(e,(l,f)=>H(e,n,o,r),o)},N=(e,n,o,r,l)=>{const f={elm:r.element.dom,alignToTop:l};if(ob(e,f))return;const v=Ub(n).top;o(n,v,r,l),A1(e,f)},H=(e,n,o,r)=>{const l=xe.fromDom(e.getBody()),f=xe.fromDom(e.getDoc());Mp(l);const v=p(xe.fromDom(o.startContainer),o.startOffset);N(e,f,n,v,r),v.cleanup()},X=(e,n,o,r)=>{const l=xe.fromDom(e.getDoc());N(e,l,o,_(n),r)},ae=(e,n,o)=>{const r=o.startContainer,l=o.startOffset,f=o.endContainer,v=o.endOffset;n(xe.fromDom(r),xe.fromDom(f));const T=e.dom.createRng();T.setStart(r,l),T.setEnd(f,v),e.selection.setRng(o)},ve=(e,n,o,r)=>{const l=e.pos;if(o)Ua(l.left,l.top,r);else{const f=l.top-n+e.height;Ua(l.left,f,r)}},Ae=(e,n,o,r,l)=>{const f=o+n,v=r.pos.top,T=r.bottom,A=T-v>=o;v<n?ve(r,o,l!==!1,e):v>f?ve(r,o,A?l!==!1:l===!0,e):T>f&&!A&&ve(r,o,l===!0,e)},We=(e,n,o,r)=>{const l=go(e).dom.innerHeight;Ae(e,n,l,o,r)},Mt=(e,n,o,r)=>{const l=go(e).dom.innerHeight;Ae(e,n,l,o,r);const f=hT(o.element),v=zb(window);f.top<v.y?jh(o.element,r!==!1):f.top>v.bottom&&jh(o.element,r===!0)},Jt=(e,n,o)=>S(e,We,n,o),jt=(e,n,o)=>X(e,n,We,o),vt=(e,n,o)=>S(e,Mt,n,o),Qt=(e,n,o)=>X(e,n,Mt,o),gt=(e,n,o)=>{(e.inline?jt:Qt)(e,n,o)},mn=(e,n,o)=>{(e.inline?Jt:vt)(e,n,o)},Un=e=>e.dom.focus(),ro=e=>{const n=Xn(e).dom;return e.dom===n.activeElement},Gs=(e=x1())=>ee.from(e.dom.activeElement).map(xe.fromDom),ka=e=>Gs(Xn(e)).filter(n=>e.dom.contains(n.dom)),Hr=(e,n)=>{const o=ur(n)?Ir(n).length:Fe(n).length+1;return e>o?o:e<0?0:e},ql=e=>eb.range(e.start,Hr(e.soffset,e.start),e.finish,Hr(e.foffset,e.finish)),Kg=(e,n)=>!An(n.dom)&&(Qe(e,n)||zo(e,n)),sy=e=>n=>Kg(e,n.start)&&Kg(e,n.finish),gT=e=>e.inline||jo.browser.isFirefox(),N_=e=>eb.range(xe.fromDom(e.startContainer),e.startOffset,xe.fromDom(e.endContainer),e.endOffset),Ns=e=>{const n=e.getSelection();return(!n||n.rangeCount===0?ee.none():ee.from(n.getRangeAt(0))).map(N_)},Yc=e=>{const n=go(e);return Ns(n.dom).filter(sy(e))},Kc=(e,n)=>ee.from(n).filter(sy(e)).map(ql),$d=e=>{const n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),ee.some(n)}catch{return ee.none()}},jl=e=>{const n=gT(e)?Yc(xe.fromDom(e.getBody())):ee.none();e.bookmark=n.isSome()?n:e.bookmark},Xg=e=>(e.bookmark?e.bookmark:ee.none()).bind(o=>Kc(xe.fromDom(e.getBody()),o)).bind($d),Xc=e=>{Xg(e).each(n=>e.selection.setRng(n))},sb={isEditorUIElement:e=>{const n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1}},Qu=(e,n)=>(dn(n)||(n=0),setTimeout(e,n)),ec=(e,n)=>(dn(n)||(n=0),setInterval(e,n)),Ju={setEditorTimeout:(e,n,o)=>Qu(()=>{e.removed||n()},o),setEditorInterval:(e,n,o)=>{const r=ec(()=>{e.removed?clearInterval(r):n()},o);return r}},q2=e=>e.type==="nodechange"&&e.selectionChange,j2=(e,n)=>{const o=()=>{n.throttle()};zs.DOM.bind(document,"mouseup",o),e.on("remove",()=>{zs.DOM.unbind(document,"mouseup",o)})},NR=(e,n)=>{e.on("mouseup touchend",o=>{n.throttle()})},PR=(e,n)=>{NR(e,n),e.on("keyup NodeChange AfterSetSelectionRange",o=>{q2(o)||jl(e)})},pT=e=>{const n=Hl(()=>{jl(e)},0);e.on("init",()=>{e.inline&&j2(e,n),PR(e,n)}),e.on("remove",()=>{n.cancel()})};let rb;const O1=zs.DOM,vN=e=>Xt(e)&&sb.isEditorUIElement(e),Y2=e=>{const n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},ry=(e,n)=>{const o=l1(e);return O1.getParent(n,l=>vN(l)||(o?e.dom.is(l,o):!1))!==null},LR=e=>{try{const n=Xn(xe.fromDom(e.getElement()));return Gs(n).fold(()=>document.body,o=>o.dom)}catch{return document.body}},QH=(e,n)=>{const o=n.editor;pT(o);const r=(l,f)=>{if(QE(l)&&l.inline!==!0){const v=xe.fromDom(l.getContainer());f(v,"tox-edit-focus")}};o.on("focusin",()=>{const l=e.focusedEditor;Y2(LR(o))&&r(o,ef),l!==o&&(l&&l.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:l}),o.focus(!0))}),o.on("focusout",()=>{Ju.setEditorTimeout(o,()=>{const l=e.focusedEditor;(!Y2(LR(o))||l!==o)&&r(o,ic),!ry(o,LR(o))&&l===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),rb||(rb=l=>{const f=e.activeEditor;f&&ki(l).each(v=>{const T=v;T.ownerDocument===document&&T!==document.body&&!ry(f,T)&&e.focusedEditor===f&&(f.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},O1.bind(document,"focusin",rb))},BR=(e,n)=>{e.focusedEditor===n.editor&&(e.focusedEditor=null),!e.activeEditor&&rb&&(O1.unbind(document,"focusin",rb),rb=null)},JH=e=>{e.on("AddEditor",Ve(QH,e)),e.on("RemoveEditor",Ve(BR,e))},bN=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="true"),yN=e=>e.collapsed?ee.from(bf(e.startContainer,e.startOffset)).map(xe.fromDom):ee.none(),EN=(e,n)=>yN(n).bind(o=>lu(o)?ee.some(o):Qe(e,o)?ee.none():ee.some(e)),_N=(e,n)=>{EN(xe.fromDom(e.getBody()),n).bind(o=>Dr(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},$R=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},e6=e=>ro(e)||ka(e).isSome(),t6=e=>Pe(e.iframeElement)&&ro(xe.fromDom(e.iframeElement)),K2=e=>{const n=e.getBody();return n&&e6(xe.fromDom(n))},wN=e=>{const n=Xn(xe.fromDom(e.getElement()));return Gs(n).filter(o=>!Y2(o.dom)&&ry(e,o.dom)).isSome()},ib=e=>e.inline?K2(e):t6(e),CN=e=>ib(e)||wN(e),TN=e=>{const n=e.selection,o=e.getBody();let r=n.getRng();e.quirks.refreshContentEditable(),Pe(e.bookmark)&&!ib(e)&&Xg(e).each(f=>{e.selection.setRng(f),r=f});const l=bN(e,n.getNode());if(l&&e.dom.isChildOf(l,o)){$R(l),_N(e,r),FR(e);return}e.inline||(jo.browser.isOpera()||$R(o),e.getWin().focus()),(jo.browser.isFirefox()||e.inline)&&($R(o),_N(e,r)),FR(e)},FR=e=>e.editorManager.setActive(e),n6=(e,n)=>{e.removed||(n?FR(e):TN(e))},SN=(e,n,o,r,l)=>{const f=o?n.startContainer:n.endContainer,v=o?n.startOffset:n.endOffset;return ee.from(f).map(xe.fromDom).map(T=>!r||!n.collapsed?kt(T,l(T,v)).getOr(T):T).bind(T=>Jo(T)?ee.some(T):Ho(T).filter(Jo)).map(T=>T.dom).getOr(e)},xN=(e,n,o=!1)=>SN(e,n,!0,o,(r,l)=>Math.min(zt(r),l)),AN=(e,n,o=!1)=>SN(e,n,!1,o,(r,l)=>l>0?l-1:l),ON=(e,n)=>{const o=e;for(;e&&Pt(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||o},o6=(e,n)=>{if(!n)return e;let o=n.startContainer,r=n.endContainer;const l=n.startOffset,f=n.endOffset;let v=n.commonAncestorContainer;n.collapsed||(o===r&&f-l<2&&o.hasChildNodes()&&(v=o.childNodes[l]),Pt(o)&&Pt(r)&&(o.length===l?o=ON(o.nextSibling,!0):o=o.parentNode,f===0?r=ON(r.previousSibling,!1):r=r.parentNode,o&&o===r&&(v=o)));const T=Pt(v)?v.parentNode:v;return Xt(T)?T:e},s6=(e,n,o,r)=>{const l=[],f=e.getRoot(),v=e.getParent(o||xN(f,n,n.collapsed),e.isBlock),T=e.getParent(r||AN(f,n,n.collapsed),e.isBlock);if(v&&v!==f&&l.push(v),v&&T&&v!==T){let A;const L=new ri(v,f);for(;(A=L.next())&&A!==T;)e.isBlock(A)&&l.push(A)}return T&&v!==T&&T!==f&&l.push(T),l},r6=(e,n,o)=>ee.from(n).bind(r=>ee.from(r.parentNode).map(l=>{const f=e.nodeIndex(r),v=e.createRng();return v.setStart(l,f),v.setEnd(l,f+1),o&&(g_(e,v,r,!0),g_(e,v,r,!1)),v})),HR=(e,n)=>qt(n,o=>{const r=e.dispatch("GetSelectionRange",{range:o});return r.range!==o?r.range:o}),i6=e=>$s(e)==="img"?1:cu(e).fold(()=>Fe(e).length,n=>n.length),a6=e=>cu(e).filter(n=>n.trim().length!==0||n.indexOf(ds)>-1).isSome(),X2=e=>yi(e)&&ba(e,"contenteditable")==="false",RN=["img","br"],VR=e=>a6(e)||Dn(RN,$s(e))||X2(e),c6=e=>Lw(e,VR),l6=e=>u6(e,VR),u6=(e,n)=>{const o=r=>{const l=Fe(r);for(let f=l.length-1;f>=0;f--){const v=l[f];if(n(v))return ee.some(v);const T=o(v);if(T.isSome())return T}return ee.none()};return o(e)},IN="[data-mce-autocompleter]",d6=(e,n)=>{if(UR(xe.fromDom(e.getBody())).isNone()){const o=xe.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());Er(o,xe.fromDom(n.extractContents())),n.insertNode(o.dom),Ho(o).each(r=>r.dom.normalize()),l6(o).map(r=>{e.selection.setCursorLocation(r.dom,i6(r))})}},f6=e=>su(e,IN),UR=e=>Dp(e,IN),h6=(e,n)=>UR(n).each(o=>{const r=e.selection.getBookmark();Ha(o),e.selection.moveToBookmark(r)}),DN={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},vT=(e,n,o)=>{const r=o?"lastChild":"firstChild",l=o?"prev":"next";if(e[r])return e[r];if(e!==n){let f=e[l];if(f)return f;for(let v=e.parent;v&&v!==n;v=v.parent)if(f=v[l],f)return f}},m6=e=>{var n;const o=(n=e.value)!==null&&n!==void 0?n:"";if(!dc(o))return!1;const r=e.parent;return!(r&&(r.name!=="span"||r.attr("style"))&&/^[ ]+$/.test(o))},MN=e=>{const n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n};class _u{constructor(n,o){this.name=n,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}static create(n,o){const r=new _u(n,DN[n]||1);return o&&nn(o,(l,f)=>{r.attr(f,l)}),r}replace(n){const o=this;return n.parent&&n.remove(),o.insert(n,o),o.remove(),o}attr(n,o){const r=this;if(!ne(n))return Pe(n)&&nn(n,(f,v)=>{r.attr(v,f)}),r;const l=r.attributes;if(l){if(o!==void 0){if(o===null){if(n in l.map){delete l.map[n];let f=l.length;for(;f--;)if(l[f].name===n)return l.splice(f,1),r}return r}if(n in l.map){let f=l.length;for(;f--;)if(l[f].name===n){l[f].value=o;break}}else l.push({name:n,value:o});return l.map[n]=o,r}return l.map[n]}}clone(){const n=this,o=new _u(n.name,n.type),r=n.attributes;if(r){const l=[];l.map={};for(let f=0,v=r.length;f<v;f++){const T=r[f];T.name!=="id"&&(l[l.length]={name:T.name,value:T.value},l.map[T.name]=T.value)}o.attributes=l}return o.value=n.value,o}wrap(n){const o=this;return o.parent&&(o.parent.insert(n,o),n.append(o)),o}unwrap(){const n=this;for(let o=n.firstChild;o;){const r=o.next;n.insert(o,n,!0),o=r}n.remove()}remove(){const n=this,o=n.parent,r=n.next,l=n.prev;return o&&(o.firstChild===n?(o.firstChild=r,r&&(r.prev=null)):l&&(l.next=r),o.lastChild===n?(o.lastChild=l,l&&(l.next=null)):r&&(r.prev=l),n.parent=n.next=n.prev=null),n}append(n){const o=this;n.parent&&n.remove();const r=o.lastChild;return r?(r.next=n,n.prev=r,o.lastChild=n):o.lastChild=o.firstChild=n,n.parent=o,n}insert(n,o,r){n.parent&&n.remove();const l=o.parent||this;return r?(o===l.firstChild?l.firstChild=n:o.prev&&(o.prev.next=n),n.prev=o.prev,n.next=o,o.prev=n):(o===l.lastChild?l.lastChild=n:o.next&&(o.next.prev=n),n.next=o.next,n.prev=o,o.next=n),n.parent=l,n}getAll(n){const o=this,r=[];for(let l=o.firstChild;l;l=vT(l,o))l.name===n&&r.push(l);return r}children(){const n=this,o=[];for(let r=n.firstChild;r;r=r.next)o.push(r);return o}empty(){const n=this;if(n.firstChild){const o=[];for(let l=n.firstChild;l;l=vT(l,n))o.push(l);let r=o.length;for(;r--;){const l=o[r];l.parent=l.firstChild=l.lastChild=l.next=l.prev=null}}return n.firstChild=n.lastChild=null,n}isEmpty(n,o={},r){var l;const f=this;let v=f.firstChild;if(MN(f))return!1;if(v)do{if(v.type===1){if(v.attr("data-mce-bogus"))continue;if(n[v.name]||MN(v))return!1}if(v.type===8||v.type===3&&!m6(v)||v.type===3&&v.parent&&o[v.parent.name]&&dc((l=v.value)!==null&&l!==void 0?l:"")||r&&r(v))return!1}while(v=vT(v,f));return!0}walk(n){return vT(this,null,n)}}const g6=(e,n)=>/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(n)),kN=(e,n,o=0)=>{const r=e.toLowerCase();if(r.indexOf("[if ",o)!==-1&&g6(r,o)){const l=r.indexOf("[endif]",o);return r.indexOf(">",l)}else if(n){const l=r.indexOf(">",o);return l!==-1?l:r.length}else{const l=/--!?>/g;l.lastIndex=o;const f=l.exec(e);return f?f.index+f[0].length:r.length}},p6=(e,n,o)=>{const r=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,l=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,f=e.getVoidElements();let v=1,T=o;for(;v!==0;)for(r.lastIndex=T;;){const A=r.exec(n);if(A===null)return T;if(A[1]==="!"){vi(A[2],"--")?T=kN(n,!1,A.index+3):T=kN(n,!0,A.index+1);break}else{l.lastIndex=r.lastIndex;const L=l.exec(n);if(ye(L)||L.index!==r.lastIndex)continue;A[1]==="/"?v-=1:zn(f,A[2])||(v+=1),T=r.lastIndex+L[0].length;break}}return T},v6=(e,n)=>{const o=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return n.replace(o,"")},NN=(e,n)=>{const o=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,r=e.schema;let l=v6(e.getTempAttrs(),n);const f=r.getVoidElements();let v;for(;v=o.exec(l);){const T=o.lastIndex,A=v[0].length;let L;f[v[1]]?L=T:L=p6(r,l,T),l=l.substring(0,T-A)+l.substring(L),o.lastIndex=T-A}return Fu(l)},b6=NN,PN=e=>{const n=Ta(e,"[data-mce-bogus]");lt(n,o=>{ba(o,"data-mce-bogus")==="all"?_r(o):sf(o)?(ss(o,xe.fromText(Br)),_r(o)):Ha(o)})},LN=e=>{const n=Ta(e,"input");lt(n,o=>{dr(o,"name")})},y6=(e,n)=>{const o=zl(e),r=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(r,"")},E6=(e,n)=>{const o=e.getDoc(),r=Xn(xe.fromDom(e.getBody())),l=xe.fromTag("div",o);io(l,"data-mce-bogus","all"),aa(l,{position:"fixed",left:"-9999999px",top:"0"}),mg(l,n.innerHTML),PN(l),LN(l);const f=Ss(r);Er(f,l);const v=Fu(l.dom.innerText);return _r(l),v},_6=(e,n,o)=>{let r;return n.format==="raw"?r=me.trim(b6(e.serializer,o.innerHTML)):n.format==="text"?r=E6(e,o):n.format==="tree"?r=e.serializer.serialize(o,n):r=y6(e,e.serializer.serialize(o,n)),n.format!=="text"&&!Yi(xe.fromDom(o))&&ne(r)?me.trim(r):r},w6=(e,n)=>ee.from(e.getBody()).fold(Xe(n.format==="tree"?new _u("body",11):""),o=>_6(e,n,o)),BN=me.makeMap,$N=e=>{const n=[];e=e||{};const o=e.indent,r=BN(e.indent_before||""),l=BN(e.indent_after||""),f=Td.getEncodeFunc(e.entity_encoding||"raw",e.entities),v=e.element_format!=="xhtml";return{start:(T,A,L)=>{if(o&&r[T]&&n.length>0){const q=n[n.length-1];q.length>0&&q!==`
`&&n.push(`
`)}if(n.push("<",T),A)for(let q=0,Z=A.length;q<Z;q++){const te=A[q];n.push(" ",te.name,'="',f(te.value,!0),'"')}if(!L||v?n[n.length]=">":n[n.length]=" />",L&&o&&l[T]&&n.length>0){const q=n[n.length-1];q.length>0&&q!==`
`&&n.push(`
`)}},end:T=>{let A;n.push("</",T,">"),o&&l[T]&&n.length>0&&(A=n[n.length-1],A.length>0&&A!==`
`&&n.push(`
`))},text:(T,A)=>{T.length>0&&(n[n.length]=A?T:f(T))},cdata:T=>{n.push("<![CDATA[",T,"]]>")},comment:T=>{n.push("<!--",T,"-->")},pi:(T,A)=>{A?n.push("<?",T," ",f(A),"?>"):n.push("<?",T,"?>"),o&&n.push(`
`)},doctype:T=>{n.push("<!DOCTYPE",T,">",o?`
`:"")},reset:()=>{n.length=0},getContent:()=>n.join("").replace(/\n$/,"")}},ab=(e={},n=hl())=>{const o=$N(e);return e.validate="validate"in e?e.validate:!0,{serialize:l=>{const f=e.validate,v={3:A=>{var L;o.text((L=A.value)!==null&&L!==void 0?L:"",A.raw)},8:A=>{var L;o.comment((L=A.value)!==null&&L!==void 0?L:"")},7:A=>{o.pi(A.name,A.value)},10:A=>{var L;o.doctype((L=A.value)!==null&&L!==void 0?L:"")},4:A=>{var L;o.cdata((L=A.value)!==null&&L!==void 0?L:"")},11:A=>{let L=A;if(L=L.firstChild)do T(L);while(L=L.next)}};o.reset();const T=A=>{var L;const q=v[A.type];if(q)q(A);else{const Z=A.name,te=Z in n.getVoidElements();let we=A.attributes;if(f&&we&&we.length>1){const Se=[];Se.map={};const ue=n.getElementRule(A.name);if(ue){for(let Ce=0,Be=ue.attributesOrder.length;Ce<Be;Ce++){const Ie=ue.attributesOrder[Ce];if(Ie in we.map){const Ue=we.map[Ie];Se.map[Ie]=Ue,Se.push({name:Ie,value:Ue})}}for(let Ce=0,Be=we.length;Ce<Be;Ce++){const Ie=we[Ce].name;if(!(Ie in Se.map)){const Ue=we.map[Ie];Se.map[Ie]=Ue,Se.push({name:Ie,value:Ue})}}we=Se}}if(o.start(Z,we,te),!te){let Se=A.firstChild;if(Se){(Z==="pre"||Z==="textarea")&&Se.type===3&&((L=Se.value)===null||L===void 0?void 0:L[0])===`
`&&o.text(`
`,!0);do T(Se);while(Se=Se.next)}o.end(Z)}}};return l.type===1&&!e.inner?T(l):l.type===3?v[3](l):v[11](l),o.getContent()}}},FN=new Set;lt(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],n=>{FN.add(n)});const Rn=["font","text-decoration","text-emphasis"],Q2=(e,n)=>La(e.parseStyle(e.getAttrib(n,"style"))),HN=e=>FN.has(e),C6=(e,n)=>tr(Q2(e,n),o=>!HN(o)),zR=e=>En(e,n=>as(Rn,o=>vi(n,o))),T6=(e,n,o)=>{const r=Q2(e,n),l=Q2(e,o),f=v=>{var T,A;const L=(T=e.getStyle(n,v))!==null&&T!==void 0?T:"",q=(A=e.getStyle(o,v))!==null&&A!==void 0?A:"";return Es(L)&&Es(q)&&L!==q};return as(r,v=>{const T=A=>as(A,L=>L===v);if(!T(l)&&T(Rn)){const A=zR(l);return as(A,f)}else return f(v)})},VN=(e,n,o)=>ee.from(o.container()).filter(Pt).exists(r=>{const l=e?0:-1;return n(r.data.charAt(o.offset()+l))}),WR=Ve(VN,!0,Z0),GR=Ve(VN,!1,Z0),S6=e=>{const n=e.container();return Pt(n)&&(n.data.length===0||iv(n.data)&&Gl.isBookmarkNode(n.parentNode))},$m=(e,n)=>o=>jv(e?0:-1,o).filter(n).isSome(),ZR=e=>iE(e)&&bd(xe.fromDom(e),"display")==="block",x6=e=>es(e)&&!sv(e),A6=$m(!0,ZR),Kn=$m(!1,ZR),bT=$m(!0,qr),to=$m(!1,qr),qR=$m(!0,Ar),O6=$m(!1,Ar),iy=$m(!0,x6),cb=$m(!1,x6),MY=e=>e.slice(0,-1),kY=(e,n,o)=>Qe(n,e)?MY(Us(e,r=>o(r)||zo(r,n))):[],UN=(e,n)=>kY(e,n,je),R1=(e,n)=>[e].concat(UN(e,n)),$n=(e,n,o)=>ws(e,n,o,S6),zN=(e,n)=>gs(R1(xe.fromDom(n.container()),e),xa),WN=(e,n,o)=>$n(e,n.dom,o).forall(r=>zN(n,o).fold(()=>!bl(r,o,n.dom),l=>!bl(r,o,n.dom)&&Qe(l,xe.fromDom(r.container())))),GN=(e,n,o)=>zN(n,o).fold(()=>$n(e,n.dom,o).forall(r=>!bl(r,o,n.dom)),r=>$n(e,r.dom,o).isNone()),ay=Ve(GN,!1),jR=Ve(GN,!0),R6=Ve(WN,!1),I6=Ve(WN,!0),D6=e=>b1(e).exists(sf),yT=(e,n,o)=>{const r=En(R1(xe.fromDom(o.container()),n),xa),l=Oi(r).getOr(n);return wo(e,l.dom,o).filter(D6)},YR=(e,n)=>b1(n).exists(sf)||yT(!0,e,n).isSome(),ZN=(e,n)=>Rm(n).exists(sf)||yT(!1,e,n).isSome(),NY=Ve(yT,!1),M6=Ve(yT,!0),qN=e=>ze.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),jN=(e,n)=>{const o=En(R1(xe.fromDom(n.container()),e),xa);return Oi(o).getOr(e)},YN=(e,n)=>qN(n)?GR(n):GR(n)||Fr(jN(e,n).dom,n).exists(GR),KR=(e,n)=>qN(n)?WR(n):WR(n)||$r(jN(e,n).dom,n).exists(WR),k6=e=>Dn(["pre","pre-wrap"],e),vo=e=>b1(e).bind(n=>Wo(n,Jo)).exists(n=>k6(bd(n,"white-space"))),KN=(e,n)=>Fr(e.dom,n).isNone(),J2=(e,n)=>$r(e.dom,n).isNone(),XN=(e,n)=>KN(e,n)||J2(e,n)||ay(e,n)||jR(e,n)||ZN(e,n)||YR(e,n),QN=e=>Pe(e)&&es(e)&&Qi(e),XR=(e,n)=>o=>QN(new ri(o,e)[n]()),JN=(e,n)=>{const o=$r(e.dom,n).getOr(n),r=XR(e.dom,"next");return n.isAtEnd()&&(r(n.container())||r(o.container()))},eP=(e,n)=>{const o=Fr(e.dom,n).getOr(n),r=XR(e.dom,"prev");return n.isAtStart()&&(r(n.container())||r(o.container()))},N6=(e,n)=>vo(n)?!1:XN(e,n)||YN(e,n)||KR(e,n),P_=(e,n)=>vo(n)?!1:ay(e,n)||R6(e,n)||ZN(e,n)||YN(e,n)||eP(e,n),P6=e=>{const n=e.container(),o=e.offset();return Pt(n)&&o<n.data.length?ze(n,o+1):e},ET=(e,n)=>vo(n)?!1:jR(e,n)||I6(e,n)||YR(e,n)||KR(e,n)||JN(e,n),QR=(e,n)=>P_(e,n)||ET(e,P6(n)),tP=(e,n)=>f_(e.charAt(n)),nP=(e,n)=>Z0(e.charAt(n)),L6=e=>{const n=e.container();return Pt(n)&&ti(n.data,ds)},B6=e=>{const n=e.split("");return qt(n,(o,r)=>f_(o)&&r>0&&r<n.length-1&&xC(n[r-1])&&xC(n[r+1])?" ":o).join("")},oP=(e,n,o)=>{const r=n.data,l=ze(n,0);return!o&&tP(r,0)&&!QR(e,l)?(n.data=" "+r.slice(1),!0):o&&nP(r,0)&&P_(e,l)?(n.data=ds+r.slice(1),!0):!1},JR=e=>{const n=e.data,o=B6(n);return o!==n?(e.data=o,!0):!1},ex=(e,n,o)=>{const r=n.data,l=ze(n,r.length-1);return!o&&tP(r,r.length-1)&&!QR(e,l)?(n.data=r.slice(0,-1)+" ",!0):o&&nP(r,r.length-1)&&ET(e,l)?(n.data=r.slice(0,-1)+ds,!0):!1},$6=(e,n)=>{const o=n.container();if(!Pt(o))return ee.none();if(L6(n)){const r=oP(e,o,!1)||JR(o)||ex(e,o,!1);return Je(r,n)}else if(QR(e,n)){const r=oP(e,o,!0)||ex(e,o,!0);return Je(r,n)}else return ee.none()},F6=e=>{const n=xe.fromDom(e.getBody());e.selection.isCollapsed()&&$6(n,ze.fromRangeStart(e.selection.getRng())).each(o=>{e.selection.setRng(o.toRange())})},sP=(e,n,o)=>{if(o===0)return;const r=xe.fromDom(e),l=Ds(r,xa).getOr(r),f=e.data.slice(n,n+o),v=n+o>=e.data.length&&ET(l,ze(e,e.data.length)),T=n===0&&P_(l,ze(e,0));e.replaceData(n,o,eh(f,4,T,v))},tx=(e,n)=>{const o=e.data.slice(n),r=o.length-eu(o).length;sP(e,n,r)},eI=(e,n)=>{const o=e.data.slice(0,n),r=o.length-Kd(o).length;sP(e,n-r,r)},tI=(e,n,o,r=!0)=>{const l=Kd(e.data).length,f=r?e:n,v=r?n:e;return r?f.appendData(v.data):f.insertData(0,v.data),_r(xe.fromDom(v)),o&&tx(f,l),f},H6=(e,n)=>{const o=e.container(),r=e.offset();return!ze.isTextPosition(e)&&o===n.parentNode&&r>ze.before(n).offset()},V6=(e,n)=>H6(n,e)?ze(n.container(),n.offset()-1):n,rP=e=>Pt(e)?ze(e,0):ze.before(e),U6=e=>Pt(e)?ze(e,e.data.length):ze.after(e),iP=e=>zc(e.previousSibling)?ee.some(U6(e.previousSibling)):e.previousSibling?Or(e.previousSibling):ee.none(),lb=e=>zc(e.nextSibling)?ee.some(rP(e.nextSibling)):e.nextSibling?Dr(e.nextSibling):ee.none(),z6=(e,n)=>ee.from(n.previousSibling?n.previousSibling:n.parentNode).bind(o=>Fr(e,ze.before(o))).orThunk(()=>$r(e,ze.after(n))),aP=(e,n)=>$r(e,ze.after(n)).orThunk(()=>Fr(e,ze.before(n))),W6=(e,n)=>iP(n).orThunk(()=>lb(n)).orThunk(()=>z6(e,n)),G6=(e,n)=>lb(n).orThunk(()=>iP(n)).orThunk(()=>aP(e,n)),cP=(e,n,o)=>e?G6(n,o):W6(n,o),lP=(e,n,o)=>cP(e,n,o).map(Ve(V6,o)),nI=(e,n,o)=>{o.fold(()=>{e.focus()},r=>{e.selection.setRng(r.toRange(),n)})},uP=e=>n=>n.dom===e,Yl=(e,n)=>n&&zn(e.schema.getBlockElements(),$s(n)),Z6=e=>{if(xs(e)){const n=xe.fromHtml('<br data-mce-bogus="1">');return Xs(e),Er(e,n),ee.some(ze.before(n.dom))}else return ee.none()},q6=(e,n,o)=>{const r=xc(e).filter(ur),l=_a(e).filter(ur);return _r(e),Ut(r,l,n,(f,v,T)=>{const A=f.dom,L=v.dom,q=A.data.length;return tI(A,L,o),T.container()===L?ze(A,q):T}).orThunk(()=>(o&&(r.each(f=>eI(f.dom,f.dom.length)),l.each(f=>tx(f.dom,0))),n))},j6=(e,n)=>zn(e.schema.getTextInlineElements(),$s(n)),cy=(e,n,o,r=!0)=>{const l=lP(n,e.getBody(),o.dom),f=Ds(o,Ve(Yl,e),uP(e.getBody())),v=q6(o,l,j6(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):f.bind(Z6).fold(()=>{r&&nI(e,n,v)},T=>{r&&nI(e,n,ee.some(T))})},Y6=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,ly=e=>Y6.test(e),uy=(e,n)=>ia(xe.fromDom(n),a1(e))&&!uf(e.schema,n)&&e.dom.isEditable(n),K6=e=>{var n;return zs.DOM.getStyle(e,"direction",!0)==="rtl"||ly((n=e.textContent)!==null&&n!==void 0?n:"")},Si=(e,n,o)=>En(zs.DOM.getParents(o.container(),"*",n),e),Fm=(e,n,o)=>{const r=Si(e,n,o);return ee.from(r[r.length-1])},PY=(e,n,o)=>{const r=fi(n,e),l=fi(o,e);return Pe(r)&&r===l},vc=e=>Hu(e)||Lp(e),Oo=(e,n)=>{const o=n.container(),r=n.offset();return e?Za(o)?Pt(o.nextSibling)?ze(o.nextSibling,0):ze.after(o):Hu(n)?ze(o,r+1):n:Za(o)?Pt(o.previousSibling)?ze(o.previousSibling,o.previousSibling.data.length):ze.before(o):Lp(n)?ze(o,r-1):n},Fd=Ve(Oo,!0),dP=Ve(Oo,!1),oI=(e,n)=>{const o=r=>r.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(n),e.off("beforeinput input",o)},sI=e=>{e.execCommand("delete")},_T=e=>oI(e,"Delete"),fP=e=>oI(e,"ForwardDelete"),hP=e=>n=>Re(Ho(n),e,zo),X6=e=>qe(e)||Xh(e),nx=(e,n)=>Qe(e,n)?Wo(n,X6,hP(e)):ee.none(),wT=(e,n=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!n})},mP=(e,n,o)=>pt(Dr(o),Or(o),(r,l)=>{const f=Oo(!0,r),v=Oo(!1,l),T=Oo(!1,n);return e?$r(o,T).exists(A=>A.isEqual(v)&&n.isEqual(f)):Fr(o,T).exists(A=>A.isEqual(f)&&n.isEqual(v))}).getOr(!0),Tf=e=>(Fc(e)?xc(e):Et(e)).bind(Tf).orThunk(()=>ee.some(e)),gP=(e,n,o,r=!0)=>{var l;n.deleteContents();const f=Tf(o).getOr(o),v=xe.fromDom((l=e.dom.getParent(f.dom,e.dom.isBlock))!==null&&l!==void 0?l:o.dom);if(v.dom===e.getBody()?wT(e,r):xs(v)&&(vg(v),r&&e.selection.setCursorLocation(v.dom,0)),!zo(o,v)){const T=Re(Ho(v),o)?[]:Zf(v);lt(T.concat(Fe(o)),A=>{!zo(A,v)&&!Qe(A,v)&&xs(A)&&_r(A)})}},Q6=e=>n=>zo(e,n),pP=e=>Ta(e,"td,th"),rI=(e,n)=>{const o=L=>_1(xe.fromDom(L),n),r=o(e.startContainer),l=o(e.endContainer),f=r.isSome(),v=l.isSome(),T=pt(r,l,zo).getOr(!1);return{startTable:r,endTable:l,isStartInTable:f,isEndInTable:v,isSameTable:T,isMultiTable:!T&&f&&v}},iI=(e,n)=>({start:e,end:n}),CT=(e,n,o)=>({rng:e,table:n,cells:o}),TT=yu.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),I1=(e,n)=>su(xe.fromDom(e),"td,th",n),Hd=e=>!zo(e.start,e.end),L_=(e,n)=>_1(e.start,n).bind(o=>_1(e.end,n).bind(r=>Je(zo(o,r),o))),ir=(e,n)=>!Hd(e)&&L_(e,n).exists(o=>{const r=o.dom.rows;return r.length===1&&r[0].cells.length===1}),ST=(e,n)=>{const o=I1(e.startContainer,n),r=I1(e.endContainer,n);return pt(o,r,iI)},vP=e=>n=>_1(n,e).bind(o=>Al(pP(o)).map(r=>iI(n,r))),bP=e=>n=>_1(n,e).bind(o=>Oi(pP(o)).map(r=>iI(r,n))),xT=e=>n=>L_(n,e).map(o=>CT(n,o,pP(o))),ox=(e,n,o,r)=>{if(o.collapsed||!e.forall(Hd))return ee.none();if(n.isSameTable){const l=e.bind(xT(r));return ee.some({start:l,end:l})}else{const l=I1(o.startContainer,r),f=I1(o.endContainer,r),v=l.bind(vP(r)).bind(xT(r)),T=f.bind(bP(r)).bind(xT(r));return ee.some({start:v,end:T})}},sx=(e,n)=>Tr(e,o=>zo(o,n)),AT=e=>pt(sx(e.cells,e.rng.start),sx(e.cells,e.rng.end),(n,o)=>e.cells.slice(n,o+1)),rx=(e,n,o)=>e.exists(r=>ir(r,o)&&j0(r.start,n)),ix=(e,n)=>{const{startTable:o,endTable:r}=n,l=e.cloneRange();return o.each(f=>l.setStartAfter(f.dom)),r.each(f=>l.setEndBefore(f.dom)),l},yP=(e,n,o,r)=>ox(e,n,o,r).bind(({start:l,end:f})=>l.or(f)).bind(l=>{const{isSameTable:f}=n,v=AT(l).getOr([]);if(f&&l.cells.length===v.length)return ee.some(TT.fullTable(l.table));if(v.length>0){if(f)return ee.some(TT.partialTable(v,ee.none()));{const T=ix(o,n);return ee.some(TT.partialTable(v,ee.some({...n,rng:T})))}}else return ee.none()}),EP=(e,n,o,r)=>ox(e,n,o,r).bind(({start:l,end:f})=>{const v=l.bind(AT).getOr([]),T=f.bind(AT).getOr([]);if(v.length>0&&T.length>0){const A=ix(o,n);return ee.some(TT.multiTable(v,T,A))}else return ee.none()}),_P=(e,n)=>{const o=Q6(e),r=ST(n,o),l=rI(n,o);return rx(r,n,o)?r.map(f=>TT.singleCellTable(n,f.start)):l.isMultiTable?EP(r,l,n,o):yP(r,l,n,o)},aI=e=>lt(e,n=>{dr(n,"contenteditable"),vg(n)}),wP=(e,n)=>ee.from(e.dom.getParent(n,e.dom.isBlock)).map(xe.fromDom),B_=(e,n,o)=>{o.each(r=>{n?_r(r):(vg(r),e.selection.setCursorLocation(r.dom,0))})},ax=(e,n,o,r)=>{const l=o.cloneRange();r?(l.setStart(o.startContainer,o.startOffset),l.setEndAfter(n.dom.lastChild)):(l.setStartBefore(n.dom.firstChild),l.setEnd(o.endContainer,o.endOffset)),lx(e,l,n,!1).each(f=>f())},cx=e=>{const n=E1(e),o=xe.fromDom(e.selection.getNode());Zr(o.dom)&&xs(o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),n.length>1&&as(n,r=>zo(r,o))&&io(o,"data-mce-selected","1")},CP=(e,n,o)=>ee.some(()=>{const r=e.selection.getRng(),l=o.bind(({rng:f,isStartInTable:v})=>{const T=wP(e,v?f.endContainer:f.startContainer);f.deleteContents(),B_(e,v,T.filter(xs));const A=v?n[0]:n[n.length-1];return ax(e,A,r,v),xs(A)?ee.none():ee.some(v?n.slice(1):n.slice(0,-1))}).getOr(n);aI(l),cx(e)}),J6=(e,n,o,r)=>ee.some(()=>{const l=e.selection.getRng(),f=n[0],v=o[o.length-1];ax(e,f,l,!0),ax(e,v,l,!1);const T=xs(f)?n:n.slice(1),A=xs(v)?o:o.slice(0,-1);aI(T.concat(A)),r.deleteContents(),cx(e)}),lx=(e,n,o,r=!0)=>ee.some(()=>{gP(e,n,o,r)}),TP=(e,n)=>ee.some(()=>cy(e,!1,n)),SP=(e,n,o)=>_P(n,o).bind(r=>r.fold(Ve(lx,e),Ve(TP,e),Ve(CP,e),Ve(J6,e))),ux=(e,n)=>OT(e,n),xP=(e,n,o,r)=>dx(n,r).fold(()=>SP(e,n,o),l=>ux(e,l)),AP=(e,n,o)=>{const r=xe.fromDom(e.getBody()),l=e.selection.getRng();return o.length!==0?CP(e,o,ee.none()):xP(e,r,l,n)},cI=(e,n)=>gs(R1(n,e),Ga),dx=(e,n)=>gs(R1(n,e),Hc("caption")),OP=(e,n,o,r,l)=>Eo(o,e.getBody(),l).bind(f=>cI(n,xe.fromDom(f.getNode())).bind(v=>zo(v,r)?ee.none():ee.some(Ct))),OT=(e,n)=>ee.some(()=>{vg(n),e.selection.setCursorLocation(n.dom,0)}),RP=(e,n,o,r)=>Dr(e.dom).bind(l=>Or(e.dom).map(f=>n?o.isEqual(l)&&r.isEqual(f):o.isEqual(f)&&r.isEqual(l))).getOr(!0),IP=(e,n)=>OT(e,n),DP=(e,n,o)=>dx(e,xe.fromDom(o.getNode())).fold(()=>ee.some(Ct),r=>Je(!zo(r,n),Ct)),MP=(e,n,o,r,l)=>Eo(o,e.getBody(),l).fold(()=>ee.some(Ct),f=>RP(r,o,l,f)?IP(e,r):DP(n,r,f)),kP=(e,n,o,r)=>{const l=ze.fromRangeStart(e.selection.getRng());return cI(o,r).bind(f=>xs(f)?OT(e,f):OP(e,o,n,f,l))},NP=(e,n,o,r)=>{const l=ze.fromRangeStart(e.selection.getRng());return xs(r)?OT(e,r):MP(e,o,n,r,l)},lI=(e,n)=>e?qR(n):O6(n),PP=(e,n)=>{const o=ze.fromRangeStart(e.selection.getRng());return lI(n,o)||wo(n,e.getBody(),o).exists(r=>lI(n,r))},LP=(e,n,o)=>{const r=xe.fromDom(e.getBody());return dx(r,o).fold(()=>kP(e,n,r,o).orThunk(()=>Je(PP(e,n),Ct)),l=>NP(e,n,r,l))},RT=(e,n)=>{const o=xe.fromDom(e.selection.getStart(!0)),r=E1(e);return e.selection.isCollapsed()&&r.length===0?LP(e,n,o):AP(e,o,r)},Qg=(e,n)=>{let o=n;for(;o&&o!==e;){if(Go(o)||es(o))return o;o=o.parentNode}return null},BP=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],$P=me.each,$_=e=>{const n=e.dom,o=new Set(e.serializer.getTempAttrs()),r=(f,v)=>{if(f.nodeName!==v.nodeName||f.nodeType!==v.nodeType)return!1;const T=L=>{const q={};return $P(n.getAttribs(L),Z=>{const te=Z.nodeName.toLowerCase();te!=="style"&&!l(te)&&(q[te]=n.getAttrib(L,te))}),q},A=(L,q)=>{for(const Z in L)if(zn(L,Z)){const te=q[Z];if(mt(te)||L[Z]!==te)return!1;delete q[Z]}for(const Z in q)if(zn(q,Z))return!1;return!0};return Xt(f)&&Xt(v)&&(!A(T(f),T(v))||!A(n.parseStyle(n.getAttrib(f,"style")),n.parseStyle(n.getAttrib(v,"style"))))?!1:!Eu(f)&&!Eu(v)},l=f=>as(BP,v=>vi(f,v))||o.has(f);return{compare:r,isAttributeInternal:l}},uI=(e,n)=>{let o=e;for(;o=o.walk();)n(o)},F_=(e,n,o,r)=>{const l=o.name;for(let f=0,v=e.length;f<v;f++){const T=e[f];if(T.name===l){const A=r.nodes[l];A?A.nodes.push(o):r.nodes[l]={filter:T,nodes:[o]}}}if(o.attributes)for(let f=0,v=n.length;f<v;f++){const T=n[f],A=T.name;if(A in o.attributes.map){const L=r.attributes[A];L?L.nodes.push(o):r.attributes[A]={filter:T,nodes:[o]}}}},dI=(e,n,o)=>{const r={nodes:{},attributes:{}};return o.firstChild&&uI(o,l=>{F_(e,n,l,r)}),r},fI=(e,n)=>{const o=(r,l)=>{nn(r,f=>{const v=pr(f.nodes);lt(f.filter.callbacks,T=>{for(let A=v.length-1;A>=0;A--){const L=v[A];(!(l?L.attr(f.filter.name)!==void 0:L.name===f.filter.name)||xt(L.parent))&&v.splice(A,1)}v.length>0&&T(v,f.filter.name,n)})})};o(e.nodes,!1),o(e.attributes,!0)},dy=(e,n,o,r={})=>{const l=dI(e,n,o);fI(l,r)},IT=(e,n,o)=>{if(e.insert&&n(o)){const r=new _u("br",1);r.attr("data-mce-bogus","1"),o.empty().append(r)}else o.empty().append(new _u("#text",3)).value=ds},hI=e=>{var n;return H_(e,"#text")&&((n=e==null?void 0:e.firstChild)===null||n===void 0?void 0:n.value)===ds},H_=(e,n)=>{const o=e==null?void 0:e.firstChild;return Pe(o)&&o===e.lastChild&&o.name===n},ub=(e,n)=>{const o=e.getElementRule(n.name);return(o==null?void 0:o.paddEmpty)===!0},V_=(e,n,o,r)=>r.isEmpty(n,o,l=>ub(e,l)),e8=(e,n)=>Pe(e)&&(n(e)||e.name==="br"),FP=e=>{let n;for(let o=e;o;o=o.parent){const r=o.attr("contenteditable");if(r==="false")break;r==="true"&&(n=o)}return ee.from(n)},fx=(e,n,o=e.parent)=>{if(n.getSpecialElements()[e.name])e.empty().remove();else{const r=e.children();for(const l of r)o&&!n.isValidChild(o.name,l.name)&&fx(l,n,o);e.unwrap()}},mI=(e,n,o,r=Ct)=>{const l=n.getTextBlockElements(),f=n.getNonEmptyElements(),v=n.getWhitespaceElements(),T=me.makeMap("tr,td,th,tbody,thead,tfoot,table"),A=new Set,L=q=>q!==o&&!T[q.name];for(let q=0;q<e.length;q++){const Z=e[q];let te,we,Se;if(!Z.parent||A.has(Z))continue;if(l[Z.name]&&Z.parent.name==="li"){let Ce=Z.next;for(;Ce&&l[Ce.name];){Ce.name="li",A.add(Ce),Z.parent.insert(Ce,Z.parent);Ce=Ce.next}Z.unwrap();continue}const ue=[Z];for(te=Z.parent;te&&!n.isValidChild(te.name,Z.name)&&L(te);te=te.parent)ue.push(te);if(te&&ue.length>1)if(n.isValidChild(te.name,Z.name)){ue.reverse(),we=ue[0].clone(),r(we);let Ce=we;for(let Be=0;Be<ue.length-1;Be++){n.isValidChild(Ce.name,ue[Be].name)&&Be>0?(Se=ue[Be].clone(),r(Se),Ce.append(Se)):Se=Ce;for(let Ie=ue[Be].firstChild;Ie&&Ie!==ue[Be+1];){const Ue=Ie.next;Se.append(Ie),Ie=Ue}Ce=Se}V_(n,f,v,we)?te.insert(Z,ue[0],!0):(te.insert(we,ue[0],!0),te.insert(Z,we)),te=ue[0],(V_(n,f,v,te)||H_(te,"br"))&&te.empty().remove()}else fx(Z,n);else if(Z.parent){if(Z.name==="li"){let Ce=Z.prev;if(Ce&&(Ce.name==="ul"||Ce.name==="ol")){Ce.append(Z);continue}if(Ce=Z.next,Ce&&(Ce.name==="ul"||Ce.name==="ol")&&Ce.firstChild){Ce.insert(Z,Ce.firstChild,!0);continue}const Be=new _u("ul",1);r(Be),Z.wrap(Be);continue}if(n.isValidChild(Z.parent.name,"div")&&n.isValidChild("div",Z.name)){const Ce=new _u("div",1);r(Ce),Z.wrap(Ce)}else fx(Z,n)}}},LY=(e,n)=>{let o=e;for(;o;){if(o.name===n)return!0;o=o.parent}return!1},HP=(e,n,o=n.parent)=>o&&e.children[n.name]&&!e.isValidChild(o.name,n.name)?!0:!!(o&&n.name==="a"&&LY(o,"a")),gI=(e,n,o,r)=>{const l=document.createRange();return l.setStart(e,n),l.setEnd(o,r),l},Hm=e=>{const n=ze.fromRangeStart(e),o=ze.fromRangeEnd(e),r=e.commonAncestorContainer;return wo(!1,r,o).map(l=>!bl(n,o,r)&&bl(n,l,r)?gI(n.container(),n.offset(),l.container(),l.offset()):e).getOr(e)},DT=e=>e.collapsed?e:Hm(e),hx=e=>Pe(e.firstChild)&&e.firstChild===e.lastChild,pI=e=>e.name==="br"||e.value===ds,t8=(e,n)=>e.getBlockElements()[n.name]&&hx(n)&&pI(n.firstChild),VP=(e,n)=>{const o=e.getNonEmptyElements();return Pe(n)&&(n.isEmpty(o)||t8(e,n))},n8=(e,n)=>{let o=n.firstChild,r=n.lastChild;return o&&o.name==="meta"&&(o=o.next),r&&r.attr("id")==="mce_marker"&&(r=r.prev),VP(e,r)&&(r=r==null?void 0:r.prev),!o||o!==r?!1:o.name==="ul"||o.name==="ol"},UP=e=>{var n,o;const r=e.firstChild,l=e.lastChild;return r&&r.nodeName==="META"&&((n=r.parentNode)===null||n===void 0||n.removeChild(r)),l&&l.id==="mce_marker"&&((o=l.parentNode)===null||o===void 0||o.removeChild(l)),e},vI=(e,n,o)=>{const r=n.serialize(o),l=e.createFragment(r);return UP(l)},o8=e=>{var n;return En((n=e==null?void 0:e.childNodes)!==null&&n!==void 0?n:[],o=>o.nodeName==="LI")},zP=e=>e.data===ds||wr(e),s8=e=>Pe(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&zP(e.firstChild),MT=e=>!e.firstChild||s8(e),WP=e=>e.length>0&&MT(e[e.length-1])?e.slice(0,-1):e,bI=(e,n)=>{const o=e.getParent(n,e.isBlock);return o&&o.nodeName==="LI"?o:null},GP=(e,n)=>!!bI(e,n),r8=(e,n)=>{const o=n.cloneRange(),r=n.cloneRange();return o.setStartBefore(e),r.setEndAfter(e),[o.cloneContents(),r.cloneContents()]},i8=(e,n)=>{const o=ze.before(e),l=He(n).next(o);return l?l.toRange():null},ZP=(e,n)=>{const o=ze.after(e),l=He(n).prev(o);return l?l.toRange():null},a8=(e,n,o,r)=>{const l=r8(e,r),f=e.parentNode;return f&&(f.insertBefore(l[0],e),me.each(n,v=>{f.insertBefore(v,e)}),f.insertBefore(l[1],e),f.removeChild(e)),ZP(n[n.length-1],o)},c8=(e,n,o)=>{const r=e.parentNode;return r&&me.each(n,l=>{r.insertBefore(l,e)}),i8(e,o)},qP=(e,n,o,r)=>(r.insertAfter(n.reverse(),e),ZP(n[0],o)),l8=(e,n,o,r)=>{const l=vI(n,e,r),f=bI(n,o.startContainer),v=WP(o8(l.firstChild)),T=1,A=2,L=n.getRoot(),q=Z=>{const te=ze.fromRangeStart(o),we=He(n.getRoot()),Se=Z===T?we.prev(te):we.next(te),ue=Se==null?void 0:Se.getNode();return ue?bI(n,ue)!==f:!0};return f?q(T)?c8(f,v,L):q(A)?qP(f,v,L,n):a8(f,v,L,o):null},yI=["pre"],fy=(e,n,o,r)=>{var l;const f=n.firstChild,v=n.lastChild,T=v.attr("data-mce-type")==="bookmark"?v.prev:v,A=f===T,L=Dn(yI,f.name);if(A&&L){const q=f.attr("contenteditable")!=="false",Z=((l=e.getParent(o,e.isBlock))===null||l===void 0?void 0:l.nodeName.toLowerCase())===f.name,te=ee.from(Qg(r,o)).forall(Go);return q&&Z&&te}else return!1},EI=Zr,u8=(e,n,o)=>{if(Pe(o)){const r=e.getParent(n.endContainer,EI);return o===r&&j0(xe.fromDom(o),n)}else return!1},mx=(e,n,o)=>{var r;if(o.getAttribute("data-mce-bogus")==="all")(r=o.parentNode)===null||r===void 0||r.insertBefore(e.dom.createFragment(n),o);else{const l=o.firstChild,f=o.lastChild;!l||l===f&&l.nodeName==="BR"?e.dom.setHTML(o,n):e.selection.setContent(n,{no_events:!0})}},jP=(e,n)=>{ee.from(e.getParent(n,"td,th")).map(xe.fromDom).each($l)},YP=(e,n)=>{const o=e.schema.getTextInlineElements(),r=e.dom;if(n){const l=e.getBody(),f=$_(e);me.each(r.select("*[data-mce-fragment]"),v=>{if(Pe(o[v.nodeName.toLowerCase()])&&C6(r,v)){for(let A=v.parentElement;Pe(A)&&A!==l&&!T6(r,v,A);A=A.parentElement)if(f.compare(A,v)){r.remove(v,!0);break}}})}},d8=e=>{let n=e;for(;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},KP=e=>{me.each(e.getElementsByTagName("*"),n=>{n.removeAttribute("data-mce-fragment")})},f8=e=>!!e.getAttribute("data-mce-fragment"),hy=(e,n)=>Pe(n)&&!e.schema.getVoidElements()[n.nodeName],XP=(e,n)=>{var o,r,l;let f;const v=e.dom,T=e.selection;if(!n)return;T.scrollIntoView(n);const A=Qg(e.getBody(),n);if(A&&v.getContentEditable(A)==="false"){v.remove(n),T.select(A);return}let L=v.createRng();const q=n.previousSibling;if(Pt(q)){L.setStart(q,(r=(o=q.nodeValue)===null||o===void 0?void 0:o.length)!==null&&r!==void 0?r:0);const we=n.nextSibling;Pt(we)&&(q.appendData(we.data),(l=we.parentNode)===null||l===void 0||l.removeChild(we))}else L.setStartBefore(n),L.setEndBefore(n);const Z=we=>{let Se=ze.fromRangeStart(we);return Se=He(e.getBody()).next(Se),Se==null?void 0:Se.toRange()},te=v.getParent(n,v.isBlock);v.remove(n),te&&v.isEmpty(te)&&(Xs(xe.fromDom(te)),L.setStart(te,0),L.setEnd(te,0),!EI(te)&&!f8(te)&&(f=Z(L))?(L=f,v.remove(te)):v.add(te,v.create("br",{"data-mce-bogus":"1"}))),T.setRng(L)},QP=e=>{const n=e.dom,o=DT(e.selection.getRng());e.selection.setRng(o);const r=n.getParent(o.startContainer,EI);u8(n,o,r)?lx(e,o,xe.fromDom(r)):o.startContainer===o.endContainer&&o.endOffset-o.startOffset===1&&Pt(o.startContainer.childNodes[o.startOffset])?o.deleteContents():e.getDoc().execCommand("Delete",!1)},JP=e=>{for(let n=e;n;n=n.walk())if(n.attr("id")==="mce_marker")return ee.some(n);return ee.none()},gx=(e,n,o)=>{var r,l;const f=e.selection,v=e.dom,T=e.parser,A=o.merge,L=ab({validate:!0},e.schema),q='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,q);let Z=f.getRng();const te=Z.startContainer,we=e.getBody();te===we&&f.isCollapsed()&&v.isBlock(we.firstChild)&&hy(e,we.firstChild)&&v.isEmpty(we.firstChild)&&(Z=v.createRng(),Z.setStart(we.firstChild,0),Z.setEnd(we.firstChild,0),f.setRng(Z)),f.isCollapsed()||QP(e);const Se=f.getNode(),ue={context:Se.nodeName.toLowerCase(),data:o.data,insert:!0},Ce=T.parse(n,ue);if(o.paste===!0&&n8(e.schema,Ce)&&GP(v,Se))return Z=l8(L,v,f.getRng(),Ce),Z&&f.setRng(Z),n;o.paste===!0&&fy(v,Ce,Se,e.getBody())&&((r=Ce.firstChild)===null||r===void 0||r.unwrap()),d8(Ce);let Be=Ce.lastChild;if(Be&&Be.attr("id")==="mce_marker"){const Ie=Be;for(Be=Be.prev;Be;Be=Be.walk(!0))if(Be.type===3||!v.isBlock(Be.name)){Be.parent&&e.schema.isValidChild(Be.parent.name,"span")&&Be.parent.insert(Ie,Be,Be.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(Se),!ue.invalid)n=L.serialize(Ce),mx(e,n,Se);else{e.selection.setContent(q);let Ie=f.getNode(),Ue;const et=e.getBody();for(of(Ie)?Ie=Ue=et:Ue=Ie;Ue&&Ue!==et;)Ie=Ue,Ue=Ue.parentNode;n=Ie===et?et.innerHTML:v.getOuterHTML(Ie);const yt=T.parse(n),Yt=JP(yt),Ft=Yt.bind(FP).getOr(yt);Yt.each(xn=>xn.replace(Ce));const at=Ce.children(),it=(l=Ce.parent)!==null&&l!==void 0?l:yt;Ce.unwrap();const ln=En(at,xn=>HP(e.schema,xn,it));mI(ln,e.schema,Ft),dy(T.getNodeFilters(),T.getAttributeFilters(),yt),n=L.serialize(yt),Ie===et?v.setHTML(et,n):v.setOuterHTML(Ie,n)}return YP(e,A),XP(e,v.get("mce_marker")),KP(e.getBody()),jP(v,f.getStart()),fu(e.schema,e.getBody(),f.getStart()),n},kT=e=>e instanceof _u,h8=e=>{ib(e)&&Dr(e.getBody()).each(n=>{const o=n.getNode(),r=Ar(o)?Dr(o).getOr(n):n;e.selection.setRng(r.toRange())})},px=(e,n,o)=>{e.dom.setHTML(e.getBody(),n),o!==!0&&h8(e)},m8=(e,n,o,r)=>{if(o.length===0||/^\s+$/.test(o)){const l='<br data-mce-bogus="1">';n.nodeName==="TABLE"?o="<tr><td>"+l+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(o="<li>"+l+"</li>");const f=zl(e);return e.schema.isValidChild(n.nodeName.toLowerCase(),f.toLowerCase())?(o=l,o=e.dom.createHTML(f,Bg(e),o)):o||(o=l),px(e,o,r.no_selection),{content:o,html:o}}else{r.format!=="raw"&&(o=ab({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const l=Yi(xe.fromDom(n))?o:me.trim(o);return px(e,l,r.no_selection),{content:l,html:l}}},g8=(e,n,o,r)=>{dy(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const l=ab({validate:!1},e.schema).serialize(o),f=Yi(xe.fromDom(n))?l:me.trim(l);return px(e,f,r.no_selection),{content:o,html:f}},vx=(e,n,o)=>ee.from(e.getBody()).map(r=>kT(n)?g8(e,r,n,o):m8(e,r,n,o)).getOr({content:n,html:kT(o.content)?"":o.content}),eL=(e,n,o)=>Ds(e,n,o).isSome(),_I=(e,n)=>Il(e,n).isSome(),tL=e=>he(e)?e:je,p8=(e,n,o)=>{let r=e.dom;const l=tL(o);for(;r.parentNode;){r=r.parentNode;const f=xe.fromDom(r),v=n(f);if(v.isSome())return v;if(l(f))break}return ee.none()},bx=(e,n,o)=>{const r=n(e),l=tL(o);return r.orThunk(()=>l(e)?ee.none():p8(e,n,l))},NT=PC,wI=(e,n,o)=>{const r=e.formatter.get(o);if(r)for(let l=0;l<r.length;l++){const f=r[l];if(yl(f)&&f.inherit===!1&&e.dom.is(n,f.selector))return!0}return!1},CI=(e,n,o,r,l)=>{const f=e.dom.getRoot();if(n===f)return!1;const v=e.dom.getParent(n,T=>wI(e,T,o)?!0:T.parentNode===f||!!Sf(e,T,o,r,!0));return!!Sf(e,v,o,r,l)},yx=(e,n,o)=>Fi(o)&&NT(n,o.inline)||mr(o)&&NT(n,o.block)?!0:yl(o)?Xt(n)&&e.is(n,o.selector):!1,nL=(e,n,o,r,l,f)=>{const v=o[r],T=r==="attributes";if(he(o.onmatch))return o.onmatch(n,o,r);if(v){if(Sp(v)){for(let A=0;A<v.length;A++)if(T?e.getAttrib(n,v[A]):v_(e,n,v[A]))return!0}else for(const A in v)if(zn(v,A)){const L=T?e.getAttrib(n,A):v_(e,n,A),q=qg(v[A],f),Z=xt(L)||pa(L);if(Z&&xt(q))continue;if(l&&Z&&!o.exact||(!l||o.exact)&&!NT(L,LC(q,A)))return!1}}return!0},Sf=(e,n,o,r,l)=>{const f=e.formatter.get(o),v=e.dom;if(f&&Xt(n))for(let T=0;T<f.length;T++){const A=f[T];if(yx(e.dom,n,A)&&nL(v,n,A,"attributes",l,r)&&nL(v,n,A,"styles",l,r)){const L=A.classes;if(L){for(let q=0;q<L.length;q++)if(!e.dom.hasClass(n,qg(L[q],r)))return}return A}}},Vm=(e,n,o,r,l)=>{if(r)return CI(e,r,n,o,l);if(r=e.selection.getNode(),CI(e,r,n,o,l))return!0;const f=e.selection.getStart();return!!(f!==r&&CI(e,f,n,o,l))},v8=(e,n,o)=>{const r=[],l={},f=e.selection.getStart();return e.dom.getParent(f,v=>{for(let T=0;T<n.length;T++){const A=n[T];!l[A]&&Sf(e,v,A,o)&&(l[A]=!0,r.push(A))}},e.dom.getRoot()),r},TI=(e,n)=>{const o=l=>zo(l,xe.fromDom(e.getBody())),r=(l,f)=>Sf(e,l.dom,f)?ee.some(f):ee.none();return ee.from(e.selection.getStart(!0)).bind(l=>bx(xe.fromDom(l),f=>ei(n,v=>r(f,v)),o)).getOrNull()},xi=(e,n)=>{const o=e.formatter.get(n),r=e.dom;if(o){const l=e.selection.getStart(),f=b_(r,l);for(let v=o.length-1;v>=0;v--){const T=o[v];if(!yl(T))return!0;for(let A=f.length-1;A>=0;A--)if(r.is(f[A],T.selector))return!0}}return!1},SI=(e,n,o)=>Os(o,(r,l)=>{const f=da(e,l);return e.formatter.matchNode(n,l,{},f)?r.concat([l]):r},[]),db=Ki,D1=(e,n)=>e.importNode(n,!0),oL=e=>{const n=[];let o=e;for(;o;){if(Pt(o)&&o.data!==db||o.childNodes.length>1)return[];Xt(o)&&n.push(o),o=o.firstChild}return n},Ex=e=>oL(e).length>0,U_=e=>{if(e){const n=new ri(e,e);for(let o=n.current();o;o=n.next())if(Pt(o))return o}return null},xI=e=>{const n=xe.fromTag("span");return Lr(n,{id:Ja,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Er(n,xe.fromText(db)),n},b8=e=>{const n=U_(e);return n&&n.data.charAt(0)===db&&n.deleteData(0,1),n},fb=(e,n,o=!0)=>{const r=e.dom,l=e.selection;if(Ex(n))cy(e,!1,xe.fromDom(n),o);else{const f=l.getRng(),v=r.getParent(n,r.isBlock),T=f.startContainer,A=f.startOffset,L=f.endContainer,q=f.endOffset,Z=b8(n);r.remove(n,!0),T===Z&&A>0&&f.setStart(Z,A-1),L===Z&&q>0&&f.setEnd(Z,q-1),v&&r.isEmpty(v)&&vg(xe.fromDom(v)),l.setRng(f)}},AI=(e,n,o=!0)=>{const r=e.dom,l=e.selection;if(n)fb(e,n,o);else if(n=Nd(e.getBody(),l.getStart()),!n)for(;n=r.get(Ja);)fb(e,n,!1)},my=(e,n,o)=>{var r,l;const f=e.dom,v=f.getParent(o,Ve(NC,e.schema));v&&f.isEmpty(v)?(r=o.parentNode)===null||r===void 0||r.replaceChild(n,o):(Kf(xe.fromDom(o)),f.isEmpty(o)?(l=o.parentNode)===null||l===void 0||l.replaceChild(n,o):f.insertAfter(n,o))},sL=(e,n)=>(e.appendChild(n),n),M1=(e,n)=>{var o;const r=Wr(e,(f,v)=>sL(f,v.cloneNode(!1)),n),l=(o=r.ownerDocument)!==null&&o!==void 0?o:document;return sL(r,l.createTextNode(db))},wh=(e,n,o,r,l,f)=>{const v=e.formatter,T=e.dom,A=En(La(v.get()),Z=>Z!==r&&!ti(Z,"removeformat")),L=SI(e,o,A);if(En(L,Z=>!y_(e,Z,r)).length>0){const Z=o.cloneNode(!1);return T.add(n,Z),v.remove(r,l,Z,f),T.remove(Z),ee.some(Z)}else return ee.none()},_x=(e,n,o)=>{let r;const l=e.selection,f=e.formatter.get(n);if(!f)return;const v=l.getRng();let T=v.startOffset;const L=v.startContainer.nodeValue;r=Nd(e.getBody(),l.getStart());const q=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(L&&T>0&&T<L.length&&q.test(L.charAt(T))&&q.test(L.charAt(T-1))){const Z=l.getBookmark();v.collapse(!0);let te=C1(e.dom,v,f);te=k_(te),e.formatter.apply(n,o,te),l.moveToBookmark(Z)}else{let Z=r?U_(r):null;(!r||(Z==null?void 0:Z.data)!==db)&&(r=D1(e.getDoc(),xI(!0).dom),Z=r.firstChild,v.insertNode(r),T=1),e.formatter.apply(n,o,r),l.setCursorLocation(Z,T)}},OI=(e,n,o,r)=>{const l=e.dom,f=e.selection;let v=!1;const T=e.formatter.get(n);if(!T)return;const A=f.getRng(),L=A.startContainer,q=A.startOffset;let Z=L;Pt(L)&&(q!==L.data.length&&(v=!0),Z=Z.parentNode);const te=[];let we;for(;Z;){if(Sf(e,Z,n,o,r)){we=Z;break}Z.nextSibling&&(v=!0),te.push(Z),Z=Z.parentNode}if(we)if(v){const Se=f.getBookmark();A.collapse(!0);let ue=C1(l,A,T,!0);ue=k_(ue),e.formatter.remove(n,o,ue,r),f.moveToBookmark(Se)}else{const Se=Nd(e.getBody(),we),ue=xI(!1).dom;my(e,ue,Se??we);const Ce=wh(e,ue,we,n,o,r),Be=M1(te.concat(Ce.toArray()),ue);Se&&fb(e,Se,!1),f.setCursorLocation(Be,1),l.isEmpty(we)&&l.remove(we)}},y8=(e,n)=>{const o=e.selection,r=e.getBody();AI(e,null,!1),(n===8||n===46)&&o.isCollapsed()&&o.getStart().innerHTML===db&&AI(e,Nd(r,o.getStart())),(n===37||n===39)&&AI(e,Nd(r,o.getStart()))},E8=e=>{e.on("mouseup keydown",n=>{y8(e,n.keyCode)})},PT=e=>{const n=xI(!1),o=M1(e,n.dom);return{caretContainer:n,caretPosition:ze(o,0)}},rL=(e,n)=>{const{caretContainer:o,caretPosition:r}=PT(n);return ss(xe.fromDom(e),o),_r(xe.fromDom(e)),r},Ch=(e,n)=>{const{caretContainer:o,caretPosition:r}=PT(n);return e.selection.getRng().insertNode(o.dom),r},LT=(e,n)=>{const o=e.schema.getTextInlineElements();return zn(o,$s(n))&&!As(n.dom)&&!Ll(n.dom)},RI=e=>As(e.dom)&&Ex(e.dom),gy={},wx=kl(["pre"]),py=(e,n)=>{gy[e]||(gy[e]=[]),gy[e].push(n)},II=(e,n)=>{zn(gy,e)&&lt(gy[e],o=>{o(n)})};py("pre",e=>{const n=e.selection.getRng(),o=l=>f=>{const v=f.previousSibling;return wx(v)&&Dn(l,v)},r=(l,f)=>{const v=xe.fromDom(f),T=wt(v).dom;_r(v),nf(xe.fromDom(l),[xe.fromTag("br",T),xe.fromTag("br",T),...Fe(v)])};if(!n.collapsed){const l=e.selection.getSelectedBlocks(),f=En(En(l,wx),o(l));lt(f,v=>{r(v.previousSibling,v)})}});const iL=["fontWeight","fontStyle","color","fontSize","fontFamily"],aL=e=>Le(e.styles)&&as(La(e.styles),n=>Dn(iL,n)),_8=e=>gs(e,n=>Fi(n)&&n.inline==="span"&&aL(n)),cL=(e,n)=>{const o=e.get(n);return $(o)?_8(o):ee.none()},lL=(e,n)=>Fr(n,ze.fromRangeStart(e)).isNone(),uL=(e,n)=>$r(n,ze.fromRangeEnd(e)).exists(o=>!wr(o.getNode())||$r(n,o).isSome())===!1,z_=e=>n=>Yf(n)&&e.isEditable(n),w8=e=>{const n=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(n.length===1)return lL(o,n[0])&&uL(o,n[0])?n:[];{const r=Oi(n).filter(v=>lL(o,v)).toArray(),l=Al(n).filter(v=>uL(o,v)).toArray(),f=n.slice(1,-1);return r.concat(f).concat(l)}},dL=e=>En(w8(e),z_(e.dom)),Cx=e=>En(e.getSelectedBlocks(),z_(e.dom)),DI=me.each,Tx=e=>Xt(e)&&!Eu(e)&&!As(e)&&!Ll(e),MI=(e,n)=>{for(let o=e;o;o=o[n]){if(Pt(o)&&Es(o.data))return e;if(Xt(o)&&!Eu(o))return o}return e},fL=(e,n,o)=>{const r=$_(e),l=Xt(n)&&bh(n),f=Xt(o)&&bh(o);if(l&&f){const v=MI(n,"previousSibling"),T=MI(o,"nextSibling");if(r.compare(v,T)){for(let A=v.nextSibling;A&&A!==T;){const L=A;A=A.nextSibling,v.appendChild(L)}return e.dom.remove(T),me.each(me.grep(T.childNodes),A=>{v.appendChild(A)}),v}}return o},hL=(e,n,o,r)=>{var l;if(r&&n.merge_siblings!==!1){const f=(l=fL(e,x2(r),r))!==null&&l!==void 0?l:r;fL(e,f,x2(f,!0))}},C8=(e,n,o)=>{if(n.clear_child_styles){const r=n.links?"*:not(a)":"*";DI(e.select(r,o),l=>{Tx(l)&&bh(l)&&DI(n.styles,(f,v)=>{e.setStyle(l,v,"")})})}},kI=(e,n,o)=>{DI(e.childNodes,r=>{Tx(r)&&(n(r)&&o(r),r.hasChildNodes()&&kI(r,n,o))})},T8=(e,n)=>{n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},mL=(e,n)=>o=>!!(o&&v_(e,o,n)),gL=(e,n,o)=>r=>{e.setStyle(r,n,o),r.getAttribute("style")===""&&r.removeAttribute("style"),T8(e,r)},vy=yu.generate([{keep:[]},{rename:["name"]},{removed:[]}]),S8=/^(src|href|style)$/,NI=me.each,Sx=PC,x8=e=>/^(TR|TH|TD)$/.test(e.nodeName),pL=(e,n,o)=>e.isChildOf(n,o)&&n!==o&&!e.isBlock(o),PI=(e,n,o)=>{let r=n[o?"startContainer":"endContainer"],l=n[o?"startOffset":"endOffset"];if(Xt(r)){const f=r.childNodes.length-1;!o&&l&&l--,r=r.childNodes[l>f?f:l]}return Pt(r)&&o&&l>=r.data.length&&(r=new ri(r,e.getBody()).next()||r),Pt(r)&&!o&&l===0&&(r=new ri(r,e.getBody()).prev()||r),r},vL=(e,n)=>{const o=n?"firstChild":"lastChild",r=e[o];return x8(e)&&r?e.nodeName==="TR"&&r[o]||r:e},hb=(e,n,o,r)=>{var l;const f=e.create(o,r);return(l=n.parentNode)===null||l===void 0||l.insertBefore(f,n),f.appendChild(n),f},bL=(e,n,o,r,l)=>{const f=xe.fromDom(n),v=xe.fromDom(e.create(r,l)),T=o?Me(f):_e(f);return nf(v,T),o?(ss(f,v),ru(v,f)):(cl(f,v),Er(v,f)),v.dom},A8=(e,n)=>n.links&&e.nodeName==="A",yL=(e,n,o)=>{const r=n.parentNode;let l;const f=e.dom,v=zl(e);mr(o)&&r===f.getRoot()&&(!o.list_block||!Sx(n,o.list_block))&&lt(pr(n.childNodes),T=>{Xv(e,v,T.nodeName.toLowerCase())?l?l.appendChild(T):(l=hb(f,T,v),f.setAttribs(l,Bg(e))):l=null}),!(E_(o)&&!Sx(o.inline,n))&&f.remove(n,!0)},EL=(e,n,o)=>dn(e)?{name:n,value:null}:{name:e,value:qg(n,o)},LI=(e,n)=>{e.getAttrib(n,"style")===""&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style"))},_L=(e,n,o,r,l)=>{let f=!1;NI(o.styles,(v,T)=>{const{name:A,value:L}=EL(T,v,r),q=LC(L,A);(o.remove_similar||ye(L)||!Xt(l)||Sx(v_(e,l,A),q))&&e.setStyle(n,A,""),f=!0}),f&&LI(e,n)},O8=(e,n,o)=>{n==="removeformat"?lt(Cx(e.selection),r=>{lt(iL,l=>e.dom.setStyle(r,l,"")),LI(e.dom,r)}):cL(e.formatter,n).each(r=>{lt(Cx(e.selection),l=>_L(e.dom,l,r,o,null))})},wL=(e,n,o,r,l)=>{const f=e.dom,v=$_(e),T=e.schema;if(Fi(n)&&_g(T,n.inline)&&uf(T,r)&&r.parentElement===e.getBody())return yL(e,r,n),vy.removed();if(!n.ceFalseOverride&&r&&f.getContentEditableParent(r)==="false"||r&&!yx(f,r,n)&&!A8(r,n))return vy.keep();const A=r,L=n.preserve_attributes;if(Fi(n)&&n.remove==="all"&&$(L)){const q=En(f.getAttribs(A),Z=>Dn(L,Z.name.toLowerCase()));if(f.removeAllAttribs(A),lt(q,Z=>f.setAttrib(A,Z.name,Z.value)),q.length>0)return vy.rename("span")}if(n.remove!=="all"){_L(f,A,n,o,l),NI(n.attributes,(Z,te)=>{const{name:we,value:Se}=EL(te,Z,o);if(n.remove_similar||ye(Se)||!Xt(l)||Sx(f.getAttrib(l,we),Se)){if(we==="class"){const ue=f.getAttrib(A,we);if(ue){let Ce="";if(lt(ue.split(/\s+/),Be=>{/mce\-\w+/.test(Be)&&(Ce+=(Ce?" ":"")+Be)}),Ce){f.setAttrib(A,we,Ce);return}}}if(S8.test(we)&&A.removeAttribute("data-mce-"+we),we==="style"&&kl(["li"])(A)&&f.getStyle(A,"list-style-type")==="none"){A.removeAttribute(we),f.setStyle(A,"list-style-type","none");return}we==="class"&&A.removeAttribute("className"),A.removeAttribute(we)}}),NI(n.classes,Z=>{Z=qg(Z,o),(!Xt(l)||f.hasClass(l,Z))&&f.removeClass(A,Z)});const q=f.getAttribs(A);for(let Z=0;Z<q.length;Z++){const te=q[Z].nodeName;if(!v.isAttributeInternal(te))return vy.keep()}}return n.remove!=="none"?(yL(e,A,n),vy.removed()):vy.keep()},BT=(e,n,o,r,l)=>wL(e,n,o,r,l).fold(je,f=>(e.dom.rename(r,f),!0),At),R8=(e,n,o,r,l)=>{let f;return n.parentNode&&lt(b_(e.dom,n.parentNode).reverse(),v=>{if(!f&&Xt(v)&&v.id!=="_start"&&v.id!=="_end"){const T=Sf(e,v,o,r,l);T&&T.split!==!1&&(f=v)}}),f},I8=(e,n,o,r)=>wL(e,n,o,r,r).fold(Xe(r),l=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,l)),Xe(null)),D8=(e,n,o,r,l,f,v,T)=>{var A,L;let q,Z;const te=e.dom;if(o){const we=o.parentNode;for(let Se=r.parentNode;Se&&Se!==we;Se=Se.parentNode){let ue=te.clone(Se,!1);for(let Ce=0;Ce<n.length&&(ue=I8(e,n[Ce],T,ue),ue!==null);Ce++);ue&&(q&&ue.appendChild(q),Z||(Z=ue),q=ue)}f&&(!v.mixed||!te.isBlock(o))&&(r=(A=te.split(o,r))!==null&&A!==void 0?A:r),q&&Z&&((L=l.parentNode)===null||L===void 0||L.insertBefore(q,l),Z.appendChild(l),Fi(v)&&hL(e,v,T,q))}return r},CL=(e,n,o,r,l)=>{const f=e.formatter.get(n),v=f[0],T=e.dom,A=e.selection,L=ue=>{const Ce=R8(e,ue,n,o,l);return D8(e,f,Ce,ue,ue,!0,v,o)},q=ue=>Eu(ue)&&Xt(ue)&&(ue.id==="_start"||ue.id==="_end"),Z=ue=>as(f,Ce=>BT(e,Ce,o,ue,ue)),te=ue=>{const Ce=pr(ue.childNodes),Ie=Z(ue)||as(f,yt=>yx(T,ue,yt)),Ue=ue.parentNode;if(!Ie&&Pe(Ue)&&__(v)&&Z(Ue),v.deep&&Ce.length)for(let yt=0;yt<Ce.length;yt++)te(Ce[yt]);lt(["underline","line-through","overline"],yt=>{Xt(ue)&&e.dom.getStyle(ue,"text-decoration")===yt&&ue.parentNode&&w1(T,ue.parentNode)===yt&&BT(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:yt}},void 0,ue)})},we=ue=>{const Ce=T.get(ue?"_start":"_end");if(Ce){let Be=Ce[ue?"firstChild":"lastChild"];return q(Be)&&(Be=Be[ue?"firstChild":"lastChild"]),Pt(Be)&&Be.data.length===0&&(Be=ue?Ce.previousSibling||Ce.nextSibling:Ce.nextSibling||Ce.previousSibling),T.remove(Ce,!0),Be}else return null},Se=ue=>{let Ce,Be,Ie=C1(T,ue,f,ue.collapsed);if(v.split){if(Ie=k_(Ie),Ce=PI(e,Ie,!0),Be=PI(e,Ie),Ce!==Be){if(Ce=vL(Ce,!0),Be=vL(Be,!1),pL(T,Ce,Be)){const et=ee.from(Ce.firstChild).getOr(Ce);L(bL(T,et,!0,"span",{id:"_start","data-mce-type":"bookmark"})),we(!0);return}if(pL(T,Be,Ce)){const et=ee.from(Be.lastChild).getOr(Be);L(bL(T,et,!1,"span",{id:"_end","data-mce-type":"bookmark"})),we(!1);return}Ce=hb(T,Ce,"span",{id:"_start","data-mce-type":"bookmark"}),Be=hb(T,Be,"span",{id:"_end","data-mce-type":"bookmark"});const Ue=T.createRng();Ue.setStartAfter(Ce),Ue.setEndBefore(Be),Jv(T,Ue,et=>{lt(et,yt=>{!Eu(yt)&&!Eu(yt.parentNode)&&L(yt)})}),L(Ce),L(Be),Ce=we(!0),Be=we()}else Ce=Be=L(Ce);Ie.startContainer=Ce.parentNode?Ce.parentNode:Ce,Ie.startOffset=T.nodeIndex(Ce),Ie.endContainer=Be.parentNode?Be.parentNode:Be,Ie.endOffset=T.nodeIndex(Be)+1}Jv(T,Ie,Ue=>{lt(Ue,te)})};if(r){if(Y0(r)){const ue=T.createRng();ue.setStartBefore(r),ue.setEndAfter(r),Se(ue)}else Se(r);KC(e,n,r,o);return}!A.isCollapsed()||!Fi(v)||E1(e).length?(Zg(e,()=>kC(e,Se),ue=>Fi(v)&&Vm(e,n,o,ue)),e.nodeChanged()):OI(e,n,o,l),O8(e,n,o),KC(e,n,r,o)},TL=me.each,M8=(e,n,o,r)=>{const l=f=>{if(Xt(f)&&Xt(f.parentNode)&&bh(f)){const v=w1(e,f.parentNode);e.getStyle(f,"color")&&v?e.setStyle(f,"text-decoration",v):e.getStyle(f,"text-decoration")===v&&e.setStyle(f,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(me.walk(r,l,"childNodes"),l(r))},BI=(e,n,o,r)=>{if(n.styles&&n.styles.backgroundColor){const l=mL(e,"fontSize");kI(r,f=>l(f)&&bh(f),gL(e,"backgroundColor",qg(n.styles.backgroundColor,o)))}},SL=(e,n,o,r)=>{if(Fi(n)&&(n.inline==="sub"||n.inline==="sup")){const l=mL(e,"fontSize");kI(r,v=>l(v)&&bh(v),gL(e,"fontSize",""));const f=En(e.select(n.inline==="sup"?"sub":"sup",r),bh);e.remove(f,!0)}},BY=(e,n,o,r)=>{TL(n,l=>{Fi(l)&&TL(e.dom.select(l.inline,r),f=>{Tx(f)&&BT(e,l,o,f,l.exact?f:null)}),C8(e.dom,l,r)})},$T=(e,n,o,r,l)=>{const f=l.parentNode;Sf(e,f,o,r)&&BT(e,n,r,l)||n.merge_with_parents&&f&&e.dom.getParent(f,v=>Sf(e,v,o,r)?(BT(e,n,r,l),!0):!1)},FT=me.each,HT=(e,n,o,r)=>{if(GE(e)&&Fi(n)&&o.parentNode){const l=Sd(e.schema),f=_I(xe.fromDom(o),v=>As(v.dom));return nc(l,r)&&xs(xe.fromDom(o.parentNode),!1)&&!f}else return!1},W_=(e,n,o,r)=>{if(FT(o.styles,(l,f)=>{e.setStyle(n,f,qg(l,r))}),o.styles){const l=e.getAttrib(n,"style");l&&e.setAttrib(n,"data-mce-style",l)}},$I=(e,n,o,r)=>{const l=e.formatter.get(n),f=l[0],v=!r&&e.selection.isCollapsed(),T=e.dom,A=e.selection,L=(Se,ue=f)=>{he(ue.onformat)&&ue.onformat(Se,ue,o,r),W_(T,Se,ue,o),FT(ue.attributes,(Ce,Be)=>{T.setAttrib(Se,Be,qg(Ce,o))}),FT(ue.classes,Ce=>{const Be=qg(Ce,o);T.hasClass(Se,Be)||T.addClass(Se,Be)})},q=(Se,ue)=>{let Ce=!1;return FT(Se,Be=>yl(Be)?T.getContentEditable(ue)==="false"&&!Be.ceFalseOverride||Pe(Be.collapsed)&&Be.collapsed!==v?!0:T.is(ue,Be.selector)&&!As(ue)?(L(ue,Be),Ce=!0,!1):!0:!1),Ce},Z=Se=>{if(ne(Se)){const ue=T.create(Se);return L(ue),ue}else return null},te=(Se,ue,Ce)=>{const Be=[];let Ie=!0;const Ue=f.inline||f.block,et=Z(Ue),yt=at=>Pd(f)&&Sf(e,at,n,o),Yt=(at,it,ln)=>{const xn=O2(f)&&NC(e.schema,at)&&Xv(e,it,Ue);return ln&&xn},Ft=(at,it,ln,xn)=>{const Bn=at.nodeName.toLowerCase(),ho=Xv(e,Ue,Bn)&&Xv(e,it,Ue),No=!Ce&&Pt(at)&&iv(at.data),bs=As(at),Zs=!Fi(f)||!Se.isBlock(at);return(ln||xn)&&ho&&!No&&!bs&&Zs};Jv(Se,ue,at=>{let it;const ln=xn=>{let Bn=!1,ho=Ie,No=!1;const bs=xn.parentNode,Zs=bs.nodeName.toLowerCase(),Jr=Se.getContentEditable(xn);Pe(Jr)&&(ho=Ie,Ie=Jr==="true",Bn=!0,No=A2(e,xn));const tc=Ie&&!Bn;if(wr(xn)&&!HT(e,f,xn,Zs)){it=null,mr(f)&&Se.remove(xn);return}if(yt(xn)){it=null;return}if(Yt(xn,Zs,tc)){const ma=Se.rename(xn,Ue);L(ma),Be.push(ma),it=null;return}if(yl(f)){let ma=q(l,xn);if(!ma&&Pe(bs)&&__(f)&&(ma=q(l,bs)),!Fi(f)||ma){it=null;return}}Pe(et)&&Ft(xn,Zs,tc,No)?(it||(it=Se.clone(et,!1),bs.insertBefore(it,xn),Be.push(it)),No&&Bn&&(Ie=ho),it.appendChild(xn)):(it=null,lt(pr(xn.childNodes),ln),Bn&&(Ie=ho),it=null)};lt(at,ln)}),f.links===!0&&lt(Be,at=>{const it=ln=>{ln.nodeName==="A"&&L(ln,f),lt(pr(ln.childNodes),it)};it(at)}),lt(Be,at=>{const it=Bn=>{let ho=0;return lt(Bn.childNodes,No=>{!gR(No)&&!Eu(No)&&ho++}),ho},ln=Bn=>gs(Bn.childNodes,Mm).filter(No=>Se.getContentEditable(No)!=="false"&&yx(Se,No,f)).map(No=>{const bs=Se.clone(No,!1);return L(bs),Se.replace(bs,Bn,!0),Se.remove(No,!0),bs}).getOr(Bn),xn=it(at);if((Be.length>1||!Se.isBlock(at))&&xn===0){Se.remove(at,!0);return}(Fi(f)||mr(f)&&f.wrapper)&&(!f.exact&&xn===1&&(at=ln(at)),BY(e,l,o,at),$T(e,f,n,o,at),BI(Se,f,o,at),M8(Se,f,o,at),SL(Se,f,o,at),hL(e,f,o,at))})},we=Y0(r)?r:A.getNode();if(T.getContentEditable(we)==="false"&&!A2(e,we)){r=we,q(l,r),YC(e,n,r,o);return}if(f){if(r)if(Y0(r)){if(!q(l,r)){const Se=T.createRng();Se.setStartBefore(r),Se.setEndAfter(r),te(T,C1(T,Se,l),!0)}}else te(T,r,!0);else!v||!Fi(f)||E1(e).length?(A.setRng(DT(A.getRng())),Zg(e,()=>{kC(e,(Se,ue)=>{const Ce=ue?Se:C1(T,Se,l);te(T,Ce,!1)})},At),e.nodeChanged()):_x(e,n,o),cL(e.formatter,n).each(Se=>{lt(dL(e.selection),ue=>W_(T,ue,Se,o))});II(n,e)}YC(e,n,r,o)},k8=e=>zn(e,"vars"),N8=(e,n)=>{e.set({}),n.on("NodeChange",o=>{L8(n,o.element,e.get())}),n.on("FormatApply FormatRemove",o=>{const r=ee.from(o.node).map(l=>Y0(l)?l:l.startContainer).bind(l=>Xt(l)?ee.some(l):ee.from(l.parentElement)).getOrThunk(()=>P8(n));L8(n,r,e.get())})},P8=e=>e.selection.getStart(),xL=(e,n,o,r,l)=>yc(n,T=>{const A=e.formatter.matchNode(T,o,l??{},r);return!mt(A)},T=>wI(e,T,o)?!0:r?!1:Pe(e.formatter.matchNode(T,o,l,!0))),AL=(e,n)=>{const o=n??P8(e);return En(b_(e.dom,o),r=>Xt(r)&&!Ll(r))},L8=(e,n,o)=>{const r=AL(e,n);nn(o,(l,f)=>{const v=T=>{const A=xL(e,r,f,T.similar,k8(T)?T.vars:void 0),L=A.isSome();if(T.state.get()!==L){T.state.set(L);const q=A.getOr(n);k8(T)?T.callback(L,{node:q,format:f,parents:r}):lt(T.callbacks,Z=>Z(L,{node:q,format:f,parents:r}))}};lt([l.withSimilar,l.withoutSimilar],v),lt(l.withVars,v)})},B8=(e,n,o,r,l,f)=>{const v=n.get();lt(o.split(","),T=>{const A=Ys(v,T).getOrThunk(()=>{const q={withSimilar:{state:ci(!1),similar:!0,callbacks:[]},withoutSimilar:{state:ci(!1),similar:!1,callbacks:[]},withVars:[]};return v[T]=q,q}),L=()=>{const q=AL(e);return xL(e,q,T,l,f).isSome()};if(mt(f)){const q=l?A.withSimilar:A.withoutSimilar;q.callbacks.push(r),q.callbacks.length===1&&q.state.set(L())}else A.withVars.push({state:ci(L()),similar:l,vars:f,callback:r})}),n.set(v)},OL=(e,n,o)=>{const r=e.get();lt(n.split(","),l=>Ys(r,l).each(f=>{r[l]={withSimilar:{...f.withSimilar,callbacks:En(f.withSimilar.callbacks,v=>v!==o)},withoutSimilar:{...f.withoutSimilar,callbacks:En(f.withoutSimilar.callbacks,v=>v!==o)},withVars:En(f.withVars,v=>v.callback!==o)}})),e.set(r)},$8=(e,n,o,r,l,f)=>(B8(e,n,o,r,l,f),{unbind:()=>OL(n,o,r)}),RL=(e,n,o,r)=>{const l=e.formatter.get(n);l&&(Vm(e,n,o,r)&&(!("toggle"in l[0])||l[0].toggle)?CL(e,n,o,r):$I(e,n,o,r))},IL=me.explode,VT=()=>{const e={};return{addFilter:(l,f)=>{lt(IL(l),v=>{zn(e,v)||(e[v]={name:v,callbacks:[]}),e[v].callbacks.push(f)})},getFilters:()=>Vf(e),removeFilter:(l,f)=>{lt(IL(l),v=>{if(zn(e,v))if(Pe(f)){const T=e[v],A=En(T.callbacks,L=>L!==f);A.length>0?T.callbacks=A:delete e[v]}else delete e[v]})}}},DL=(e,n)=>{lt(n,o=>{e.attr(o,null)})},fa=(e,n,o)=>{e.addNodeFilter("font",r=>{lt(r,l=>{const f=n.parse(l.attr("style")),v=l.attr("color"),T=l.attr("face"),A=l.attr("size");v&&(f.color=v),T&&(f["font-family"]=T),A&&dd(A).each(L=>{f["font-size"]=o[L-1]}),l.name="span",l.attr("style",n.serialize(f)),DL(l,["color","face","size"])})})},$Y=(e,n,o)=>{e.addNodeFilter("strike",r=>{const l=n.type!=="html4";lt(r,f=>{if(l)f.name="s";else{const v=o.parse(f.attr("style"));v["text-decoration"]="line-through",f.name="span",f.attr("style",o.serialize(v))}})})},FY=(e,n,o)=>{var r;const l=xg();n.convert_fonts_to_spans&&fa(e,l,me.explode((r=n.font_size_legacy_values)!==null&&r!==void 0?r:"")),$Y(e,o,l)},HY=(e,n,o)=>{n.inline_styles&&FY(e,n,o)},VY=e=>fetch(e).then(n=>n.ok?n.blob():Promise.reject()).catch(()=>Promise.reject(`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`)),Th=e=>{const n=/([a-z0-9+\/=\s]+)/i.exec(e);return n?n[1]:""},G_=e=>{const[n,...o]=e.split(","),r=o.join(","),l=/data:([^/]+\/[^;]+)(;.+)?/.exec(n);if(l){const f=l[2]===";base64",v=f?Th(r):decodeURIComponent(r);return ee.some({type:l[1],data:v,base64Encoded:f})}else return ee.none()},mb=(e,n,o=!0)=>{let r=n;if(o)try{r=atob(n)}catch{return ee.none()}const l=new Uint8Array(r.length);for(let f=0;f<l.length;f++)l[f]=r.charCodeAt(f);return ee.some(new Blob([l],{type:e}))},by=e=>new Promise((n,o)=>{G_(e).bind(({type:r,data:l,base64Encoded:f})=>mb(r,l,f)).fold(()=>o("Invalid data URI"),n)}),F8=e=>vi(e,"blob:")?VY(e):vi(e,"data:")?by(e):Promise.reject("Unknown URI format"),ML=e=>new Promise((n,o)=>{const r=new FileReader;r.onloadend=()=>{n(r.result)},r.onerror=()=>{var l;o((l=r.error)===null||l===void 0?void 0:l.message)},r.readAsDataURL(e)});let Z_=0;const q_=e=>(e||"blobid")+Z_++,yy=(e,n,o)=>G_(e).bind(({data:r,type:l,base64Encoded:f})=>{if(n&&!f)return ee.none();{const v=f?r:btoa(r);return o(v,l)}}),kL=(e,n,o)=>{const r=e.create(q_(),n,o);return e.add(r),r},xx=(e,n,o=!1)=>yy(n,o,(r,l)=>ee.from(e.getByData(r,l)).orThunk(()=>mb(l,r).map(f=>kL(e,f,r)))),NL=(e,n)=>{const o=()=>Promise.reject("Invalid data URI");if(vi(n,"blob:")){const r=e.getByUri(n);return Pe(r)?Promise.resolve(r):F8(n).then(l=>ML(l).then(f=>yy(f,!1,v=>ee.some(kL(e,l,v))).getOrThunk(o)))}else return vi(n,"data:")?xx(e,n).fold(o,r=>Promise.resolve(r)):Promise.reject("Unknown image data format")},PL=e=>Pe(e.attr("data-mce-bogus")),H8=e=>e.attr("src")===jo.transparentSrc||Pe(e.attr("data-mce-placeholder")),V8=(e,n)=>{const{blob_cache:o}=n;if(o){const r=l=>{const f=l.attr("src");H8(l)||PL(l)||xt(f)||xx(o,f,!0).each(v=>{l.attr("src",v.blobUri())})};e.addAttributeFilter("src",l=>lt(l,r))}},LL=(e,n)=>{const o=e.schema;n.remove_trailing_brs&&e.addNodeFilter("br",(l,f,v)=>{const T=me.extend({},o.getBlockElements()),A=o.getNonEmptyElements(),L=o.getWhitespaceElements();T.body=1;const q=Z=>Z.name in T&&om(o,Z);for(let Z=0,te=l.length;Z<te;Z++){let we=l[Z],Se=we.parent;if(Se&&T[Se.name]&&we===Se.lastChild){let ue=we.prev;for(;ue;){const Ce=ue.name;if(Ce!=="span"||ue.attr("data-mce-type")!=="bookmark"){Ce==="br"&&(we=null);break}ue=ue.prev}if(we&&(we.remove(),V_(o,A,L,Se))){const Ce=o.getElementRule(Se.name);Ce&&(Ce.removeEmpty?Se.remove():Ce.paddEmpty&&IT(v,q,Se))}}else{let ue=we;for(;Se&&Se.firstChild===ue&&Se.lastChild===ue&&(ue=Se,!T[Se.name]);)Se=Se.parent;if(ue===Se){const Ce=new _u("#text",3);Ce.value=ds,we.replace(Ce)}}}}),e.addAttributeFilter("href",l=>{let f=l.length;const v=A=>A.split(" ").filter(q=>q.length>0).concat(["noopener"]).sort().join(" "),T=A=>{const L=A?me.trim(A):"";return/\b(noopener)\b/g.test(L)?L:v(L)};if(!n.allow_unsafe_link_target)for(;f--;){const A=l[f];A.name==="a"&&A.attr("target")==="_blank"&&A.attr("rel",T(A.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",l=>{let f=l.length,v,T,A,L;for(;f--;)if(L=l[f],L.name==="a"&&L.firstChild&&!L.attr("href"))for(A=L.parent,v=L.lastChild;v&&A;)T=v.prev,A.insert(v,L),v=T}),n.fix_list_elements&&e.addNodeFilter("ul,ol",l=>{let f=l.length,v,T;for(;f--;)if(v=l[f],T=v.parent,T&&(T.name==="ul"||T.name==="ol"))if(v.prev&&v.prev.name==="li")v.prev.append(v);else{const A=new _u("li",1);A.attr("style","list-style-type: none"),v.wrap(A)}});const r=o.getValidClasses();n.validate&&r&&e.addAttributeFilter("class",l=>{var f;let v=l.length;for(;v--;){const T=l[v],A=(f=T.attr("class"))!==null&&f!==void 0?f:"",L=me.explode(A," ");let q="";for(let Z=0;Z<L.length;Z++){const te=L[Z];let we=!1,Se=r["*"];Se&&Se[te]&&(we=!0),Se=r[T.name],!we&&Se&&Se[te]&&(we=!0),we&&(q&&(q+=" "),q+=te)}q.length||(q=null),T.attr("class",q)}}),V8(e,n)};function Ey(e){return Ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ey(e)}function FI(e,n){return FI=Object.setPrototypeOf||function(r,l){return r.__proto__=l,r},FI(e,n)}function U8(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ax(e,n,o){return U8()?Ax=Reflect.construct:Ax=function(l,f,v){var T=[null];T.push.apply(T,f);var A=Function.bind.apply(l,T),L=new A;return v&&FI(L,v.prototype),L},Ax.apply(null,arguments)}function Um(e){return BL(e)||z8(e)||UT(e)||W8()}function BL(e){if(Array.isArray(e))return Ox(e)}function z8(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function UT(e,n){if(e){if(typeof e=="string")return Ox(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);if(o==="Object"&&e.constructor&&(o=e.constructor.name),o==="Map"||o==="Set")return Array.from(e);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Ox(e,n)}}function Ox(e,n){(n==null||n>e.length)&&(n=e.length);for(var o=0,r=new Array(n);o<n;o++)r[o]=e[o];return r}function W8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var $L=Object.hasOwnProperty,FL=Object.setPrototypeOf,HL=Object.isFrozen,G8=Object.getPrototypeOf,Z8=Object.getOwnPropertyDescriptor,wu=Object.freeze,zm=Object.seal,VL=Object.create,HI=typeof Reflect<"u"&&Reflect,zT=HI.apply,Rx=HI.construct;zT||(zT=function(n,o,r){return n.apply(o,r)}),wu||(wu=function(n){return n}),zm||(zm=function(n){return n}),Rx||(Rx=function(n,o){return Ax(n,Um(o))});var q8=El(Array.prototype.forEach),j8=El(Array.prototype.pop),WT=El(Array.prototype.push),j_=El(String.prototype.toLowerCase),GT=El(String.prototype.match),k1=El(String.prototype.replace),UL=El(String.prototype.indexOf),Ix=El(String.prototype.trim),ed=El(RegExp.prototype.test),VI=UI(TypeError);function El(e){return function(n){for(var o=arguments.length,r=new Array(o>1?o-1:0),l=1;l<o;l++)r[l-1]=arguments[l];return zT(e,n,r)}}function UI(e){return function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return Rx(e,o)}}function Vs(e,n){FL&&FL(e,null);for(var o=n.length;o--;){var r=n[o];if(typeof r=="string"){var l=j_(r);l!==r&&(HL(n)||(n[o]=l),r=l)}e[r]=!0}return e}function Wm(e){var n=VL(null),o;for(o in e)zT($L,e,[o])&&(n[o]=e[o]);return n}function ZT(e,n){for(;e!==null;){var o=Z8(e,n);if(o){if(o.get)return El(o.get);if(typeof o.value=="function")return El(o.value)}e=G8(e)}function r(l){return console.warn("fallback value for",l),null}return r}var Dx=wu(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Mx=wu(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),kx=wu(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Y8=wu(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),zI=wu(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),K8=wu(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Nx=wu(["#text"]),zL=wu(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Px=wu(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),WL=wu(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Lx=wu(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),X8=zm(/\{\{[\w\W]*|[\w\W]*\}\}/gm),_y=zm(/<%[\w\W]*|[\w\W]*%>/gm),GL=zm(/^data-[\-\w.\u00B7-\uFFFF]/),Q8=zm(/^aria-[\-\w]+$/),ZL=zm(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),J8=zm(/^(?:\w+script|data):/i),qL=zm(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),qT=zm(/^html$/i),WI=function(){return typeof window>"u"?null:window},e7=function(n,o){if(Ey(n)!=="object"||typeof n.createPolicy!="function")return null;var r=null,l="data-tt-policy-suffix";o.currentScript&&o.currentScript.hasAttribute(l)&&(r=o.currentScript.getAttribute(l));var f="dompurify"+(r?"#"+r:"");try{return n.createPolicy(f,{createHTML:function(T){return T}})}catch{return console.warn("TrustedTypes policy "+f+" could not be created."),null}};function GI(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:WI(),n=function(ft){return GI(ft)};if(n.version="2.3.8",n.removed=[],!e||!e.document||e.document.nodeType!==9)return n.isSupported=!1,n;var o=e.document,r=e.document,l=e.DocumentFragment,f=e.HTMLTemplateElement,v=e.Node,T=e.Element,A=e.NodeFilter,L=e.NamedNodeMap,q=L===void 0?e.NamedNodeMap||e.MozNamedAttrMap:L,Z=e.HTMLFormElement,te=e.DOMParser,we=e.trustedTypes,Se=T.prototype,ue=ZT(Se,"cloneNode"),Ce=ZT(Se,"nextSibling"),Be=ZT(Se,"childNodes"),Ie=ZT(Se,"parentNode");if(typeof f=="function"){var Ue=r.createElement("template");Ue.content&&Ue.content.ownerDocument&&(r=Ue.content.ownerDocument)}var et=e7(we,o),yt=et?et.createHTML(""):"",Yt=r,Ft=Yt.implementation,at=Yt.createNodeIterator,it=Yt.createDocumentFragment,ln=Yt.getElementsByTagName,xn=o.importNode,Bn={};try{Bn=Wm(r).documentMode?r.documentMode:{}}catch{}var ho={};n.isSupported=typeof Ie=="function"&&Ft&&typeof Ft.createHTMLDocument<"u"&&Bn!==9;var No=X8,bs=_y,Zs=GL,Jr=Q8,tc=J8,ma=qL,$t=ZL,wn=null,Qo=Vs({},[].concat(Um(Dx),Um(Mx),Um(kx),Um(zI),Um(Nx))),tn=null,kn=Vs({},[].concat(Um(zL),Um(Px),Um(WL),Um(Lx))),Nn=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),sn=null,Ro=null,Io=!0,Pa=!0,Cr=!1,no=!1,ns=!1,Ps=!1,qs=!1,Ur=!1,gi=!1,Sr=!1,Hi=!0,Rf=!0,Nc=!1,jm={},rd=null,Uy=Vs({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),zy=null,Ym=Vs({},["audio","video","img","source","image","track"]),Nh=null,ta=Vs({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),If="http://www.w3.org/1998/Math/MathML",Km="http://www.w3.org/2000/svg",_l="http://www.w3.org/1999/xhtml",Df=_l,hp=!1,Jc,H1=["application/xhtml+xml","text/html"],Xm="text/html",id,mp=null,GS=r.createElement("form"),EO=function(ft){return ft instanceof RegExp||ft instanceof Function},ZS=function(ft){mp&&mp===ft||((!ft||Ey(ft)!=="object")&&(ft={}),ft=Wm(ft),wn="ALLOWED_TAGS"in ft?Vs({},ft.ALLOWED_TAGS):Qo,tn="ALLOWED_ATTR"in ft?Vs({},ft.ALLOWED_ATTR):kn,Nh="ADD_URI_SAFE_ATTR"in ft?Vs(Wm(ta),ft.ADD_URI_SAFE_ATTR):ta,zy="ADD_DATA_URI_TAGS"in ft?Vs(Wm(Ym),ft.ADD_DATA_URI_TAGS):Ym,rd="FORBID_CONTENTS"in ft?Vs({},ft.FORBID_CONTENTS):Uy,sn="FORBID_TAGS"in ft?Vs({},ft.FORBID_TAGS):{},Ro="FORBID_ATTR"in ft?Vs({},ft.FORBID_ATTR):{},jm="USE_PROFILES"in ft?ft.USE_PROFILES:!1,Io=ft.ALLOW_ARIA_ATTR!==!1,Pa=ft.ALLOW_DATA_ATTR!==!1,Cr=ft.ALLOW_UNKNOWN_PROTOCOLS||!1,no=ft.SAFE_FOR_TEMPLATES||!1,ns=ft.WHOLE_DOCUMENT||!1,Ur=ft.RETURN_DOM||!1,gi=ft.RETURN_DOM_FRAGMENT||!1,Sr=ft.RETURN_TRUSTED_TYPE||!1,qs=ft.FORCE_BODY||!1,Hi=ft.SANITIZE_DOM!==!1,Rf=ft.KEEP_CONTENT!==!1,Nc=ft.IN_PLACE||!1,$t=ft.ALLOWED_URI_REGEXP||$t,Df=ft.NAMESPACE||_l,ft.CUSTOM_ELEMENT_HANDLING&&EO(ft.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Nn.tagNameCheck=ft.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ft.CUSTOM_ELEMENT_HANDLING&&EO(ft.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Nn.attributeNameCheck=ft.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ft.CUSTOM_ELEMENT_HANDLING&&typeof ft.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Nn.allowCustomizedBuiltInElements=ft.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Jc=H1.indexOf(ft.PARSER_MEDIA_TYPE)===-1?Jc=Xm:Jc=ft.PARSER_MEDIA_TYPE,id=Jc==="application/xhtml+xml"?function(yn){return yn}:j_,no&&(Pa=!1),gi&&(Ur=!0),jm&&(wn=Vs({},Um(Nx)),tn=[],jm.html===!0&&(Vs(wn,Dx),Vs(tn,zL)),jm.svg===!0&&(Vs(wn,Mx),Vs(tn,Px),Vs(tn,Lx)),jm.svgFilters===!0&&(Vs(wn,kx),Vs(tn,Px),Vs(tn,Lx)),jm.mathMl===!0&&(Vs(wn,zI),Vs(tn,WL),Vs(tn,Lx))),ft.ADD_TAGS&&(wn===Qo&&(wn=Wm(wn)),Vs(wn,ft.ADD_TAGS)),ft.ADD_ATTR&&(tn===kn&&(tn=Wm(tn)),Vs(tn,ft.ADD_ATTR)),ft.ADD_URI_SAFE_ATTR&&Vs(Nh,ft.ADD_URI_SAFE_ATTR),ft.FORBID_CONTENTS&&(rd===Uy&&(rd=Wm(rd)),Vs(rd,ft.FORBID_CONTENTS)),Rf&&(wn["#text"]=!0),ns&&Vs(wn,["html","head","body"]),wn.table&&(Vs(wn,["tbody"]),delete sn.tbody),wu&&wu(ft),mp=ft)},Pk=Vs({},["mi","mo","mn","ms","mtext"]),qS=Vs({},["foreignobject","desc","title","annotation-xml"]),Lk=Vs({},["title","style","font","a","script"]),Ph=Vs({},Mx);Vs(Ph,kx),Vs(Ph,Y8);var Wy=Vs({},zI);Vs(Wy,K8);var nt=function(ft){var yn=Ie(ft);(!yn||!yn.tagName)&&(yn={namespaceURI:_l,tagName:"template"});var Yn=j_(ft.tagName),pi=j_(yn.tagName);return ft.namespaceURI===Km?yn.namespaceURI===_l?Yn==="svg":yn.namespaceURI===If?Yn==="svg"&&(pi==="annotation-xml"||Pk[pi]):!!Ph[Yn]:ft.namespaceURI===If?yn.namespaceURI===_l?Yn==="math":yn.namespaceURI===Km?Yn==="math"&&qS[pi]:!!Wy[Yn]:ft.namespaceURI===_l?yn.namespaceURI===Km&&!qS[pi]||yn.namespaceURI===If&&!Pk[pi]?!1:!Wy[Yn]&&(Lk[Yn]||!Ph[Yn]):!1},ot=function(ft){WT(n.removed,{element:ft});try{ft.parentNode.removeChild(ft)}catch{try{ft.outerHTML=yt}catch{ft.remove()}}},Ht=function(ft,yn){try{WT(n.removed,{attribute:yn.getAttributeNode(ft),from:yn})}catch{WT(n.removed,{attribute:null,from:yn})}if(yn.removeAttribute(ft),ft==="is"&&!tn[ft])if(Ur||gi)try{ot(yn)}catch{}else try{yn.setAttribute(ft,"")}catch{}},Lt=function(ft){var yn,Yn;if(qs)ft="<remove></remove>"+ft;else{var pi=GT(ft,/^[\r\n\t ]+/);Yn=pi&&pi[0]}Jc==="application/xhtml+xml"&&(ft='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ft+"</body></html>");var Gd=et?et.createHTML(ft):ft;if(Df===_l)try{yn=new te().parseFromString(Gd,Jc)}catch{}if(!yn||!yn.documentElement){yn=Ft.createDocument(Df,"template",null);try{yn.documentElement.innerHTML=hp?"":Gd}catch{}}var Su=yn.body||yn.documentElement;return ft&&Yn&&Su.insertBefore(r.createTextNode(Yn),Su.childNodes[0]||null),Df===_l?ln.call(yn,ns?"html":"body")[0]:ns?yn.documentElement:Su},Mn=function(ft){return at.call(ft.ownerDocument||ft,ft,A.SHOW_ELEMENT|A.SHOW_COMMENT|A.SHOW_TEXT,null,!1)},Do=function(ft){return ft instanceof Z&&(typeof ft.nodeName!="string"||typeof ft.textContent!="string"||typeof ft.removeChild!="function"||!(ft.attributes instanceof q)||typeof ft.removeAttribute!="function"||typeof ft.setAttribute!="function"||typeof ft.namespaceURI!="string"||typeof ft.insertBefore!="function")},er=function(ft){return Ey(v)==="object"?ft instanceof v:ft&&Ey(ft)==="object"&&typeof ft.nodeType=="number"&&typeof ft.nodeName=="string"},gr=function(ft,yn,Yn){ho[ft]&&q8(ho[ft],function(pi){pi.call(n,yn,Yn,mp)})},gp=function(ft){var yn;if(gr("beforeSanitizeElements",ft,null),Do(ft)||ed(/[\u0080-\uFFFF]/,ft.nodeName))return ot(ft),!0;var Yn=id(ft.nodeName);if(gr("uponSanitizeElement",ft,{tagName:Yn,allowedTags:wn}),ft.hasChildNodes()&&!er(ft.firstElementChild)&&(!er(ft.content)||!er(ft.content.firstElementChild))&&ed(/<[/\w]/g,ft.innerHTML)&&ed(/<[/\w]/g,ft.textContent)||Yn==="select"&&ed(/<template/i,ft.innerHTML))return ot(ft),!0;if(!wn[Yn]||sn[Yn]){if(!sn[Yn]&&I5(Yn)&&(Nn.tagNameCheck instanceof RegExp&&ed(Nn.tagNameCheck,Yn)||Nn.tagNameCheck instanceof Function&&Nn.tagNameCheck(Yn)))return!1;if(Rf&&!rd[Yn]){var pi=Ie(ft)||ft.parentNode,Gd=Be(ft)||ft.childNodes;if(Gd&&pi)for(var Su=Gd.length,Mr=Su-1;Mr>=0;--Mr)pi.insertBefore(ue(Gd[Mr],!0),Ce(ft))}return ot(ft),!0}return ft instanceof T&&!nt(ft)||(Yn==="noscript"||Yn==="noembed")&&ed(/<\/no(script|embed)/i,ft.innerHTML)?(ot(ft),!0):(no&&ft.nodeType===3&&(yn=ft.textContent,yn=k1(yn,No," "),yn=k1(yn,bs," "),ft.textContent!==yn&&(WT(n.removed,{element:ft.cloneNode()}),ft.textContent=yn)),gr("afterSanitizeElements",ft,null),!1)},ad=function(ft,yn,Yn){if(Hi&&(yn==="id"||yn==="name")&&(Yn in r||Yn in GS))return!1;if(!(Pa&&!Ro[yn]&&ed(Zs,yn))){if(!(Io&&ed(Jr,yn))){if(!tn[yn]||Ro[yn]){if(!(I5(ft)&&(Nn.tagNameCheck instanceof RegExp&&ed(Nn.tagNameCheck,ft)||Nn.tagNameCheck instanceof Function&&Nn.tagNameCheck(ft))&&(Nn.attributeNameCheck instanceof RegExp&&ed(Nn.attributeNameCheck,yn)||Nn.attributeNameCheck instanceof Function&&Nn.attributeNameCheck(yn))||yn==="is"&&Nn.allowCustomizedBuiltInElements&&(Nn.tagNameCheck instanceof RegExp&&ed(Nn.tagNameCheck,Yn)||Nn.tagNameCheck instanceof Function&&Nn.tagNameCheck(Yn))))return!1}else if(!Nh[yn]){if(!ed($t,k1(Yn,ma,""))){if(!((yn==="src"||yn==="xlink:href"||yn==="href")&&ft!=="script"&&UL(Yn,"data:")===0&&zy[ft])){if(!(Cr&&!ed(tc,k1(Yn,ma,"")))){if(Yn)return!1}}}}}}return!0},I5=function(ft){return ft.indexOf("-")>0},D5=function(ft){var yn,Yn,pi,Gd;gr("beforeSanitizeAttributes",ft,null);var Su=ft.attributes;if(Su){var Mr={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:tn};for(Gd=Su.length;Gd--;){yn=Su[Gd];var Mf=yn,Kl=Mf.name,Bk=Mf.namespaceURI;Yn=Kl==="value"?yn.value:Ix(yn.value),pi=id(Kl);var _O=Yn;if(Mr.attrName=pi,Mr.attrValue=Yn,Mr.keepAttr=!0,Mr.forceKeepAttr=void 0,gr("uponSanitizeAttribute",ft,Mr),Yn=Mr.attrValue,!Mr.forceKeepAttr){if(!Mr.keepAttr){Ht(Kl,ft);continue}if(ed(/\/>/i,Yn)){Ht(Kl,ft);continue}no&&(Yn=k1(Yn,No," "),Yn=k1(Yn,bs," "));var $k=id(ft.nodeName);if(!ad($k,pi,Yn)){Ht(Kl,ft);continue}if(Yn!==_O)try{Bk?ft.setAttributeNS(Bk,Kl,Yn):ft.setAttribute(Kl,Yn)}catch{Ht(Kl,ft)}}}gr("afterSanitizeAttributes",ft,null)}},xq=function bo(ft){var yn,Yn=Mn(ft);for(gr("beforeSanitizeShadowDOM",ft,null);yn=Yn.nextNode();)gr("uponSanitizeShadowNode",yn,null),!gp(yn)&&(yn.content instanceof l&&bo(yn.content),D5(yn));gr("afterSanitizeShadowDOM",ft,null)};return n.sanitize=function(bo,ft){var yn,Yn,pi,Gd,Su;if(hp=!bo,hp&&(bo="<!-->"),typeof bo!="string"&&!er(bo)){if(typeof bo.toString!="function")throw VI("toString is not a function");if(bo=bo.toString(),typeof bo!="string")throw VI("dirty is not a string, aborting")}if(!n.isSupported){if(Ey(e.toStaticHTML)==="object"||typeof e.toStaticHTML=="function"){if(typeof bo=="string")return e.toStaticHTML(bo);if(er(bo))return e.toStaticHTML(bo.outerHTML)}return bo}if(Ps||ZS(ft),n.removed=[],typeof bo=="string"&&(Nc=!1),Nc){if(bo.nodeName){var Mr=id(bo.nodeName);if(!wn[Mr]||sn[Mr])throw VI("root node is forbidden and cannot be sanitized in-place")}}else if(bo instanceof v)yn=Lt("<!---->"),Yn=yn.ownerDocument.importNode(bo,!0),Yn.nodeType===1&&Yn.nodeName==="BODY"||Yn.nodeName==="HTML"?yn=Yn:yn.appendChild(Yn);else{if(!Ur&&!no&&!ns&&bo.indexOf("<")===-1)return et&&Sr?et.createHTML(bo):bo;if(yn=Lt(bo),!yn)return Ur?null:Sr?yt:""}yn&&qs&&ot(yn.firstChild);for(var Mf=Mn(Nc?bo:yn);pi=Mf.nextNode();)pi.nodeType===3&&pi===Gd||gp(pi)||(pi.content instanceof l&&xq(pi.content),D5(pi),Gd=pi);if(Gd=null,Nc)return bo;if(Ur){if(gi)for(Su=it.call(yn.ownerDocument);yn.firstChild;)Su.appendChild(yn.firstChild);else Su=yn;return tn.shadowroot&&(Su=xn.call(o,Su,!0)),Su}var Kl=ns?yn.outerHTML:yn.innerHTML;return ns&&wn["!doctype"]&&yn.ownerDocument&&yn.ownerDocument.doctype&&yn.ownerDocument.doctype.name&&ed(qT,yn.ownerDocument.doctype.name)&&(Kl="<!DOCTYPE "+yn.ownerDocument.doctype.name+`>
`+Kl),no&&(Kl=k1(Kl,No," "),Kl=k1(Kl,bs," ")),et&&Sr?et.createHTML(Kl):Kl},n.setConfig=function(bo){ZS(bo),Ps=!0},n.clearConfig=function(){mp=null,Ps=!1},n.isValidAttribute=function(bo,ft,yn){mp||ZS({});var Yn=id(bo),pi=id(ft);return ad(Yn,pi,yn)},n.addHook=function(bo,ft){typeof ft=="function"&&(ho[bo]=ho[bo]||[],WT(ho[bo],ft))},n.removeHook=function(bo){if(ho[bo])return j8(ho[bo])},n.removeHooks=function(bo){ho[bo]&&(ho[bo]=[])},n.removeAllHooks=function(){ho={}},n}var t7=GI();const Bx=me.each,ZI=me.trim,qI=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],jL={ftp:21,http:80,https:443,mailto:25},YL=["img","video"],n7=(e,n)=>Pe(e)?!e:Pe(n)?!Dn(YL,n):!0,Jg=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},$x=(e,n,o)=>{const r=Jg(n).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(r)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(r)?n7(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)};class Gm{constructor(n,o={}){this.path="",this.directory="",n=ZI(n),this.settings=o;const r=o.base_uri,l=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){l.source=n;return}const f=n.indexOf("//")===0;if(n.indexOf("/")===0&&!f&&(n=(r&&r.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){const T=r?r.path:new Gm(document.location.href).directory;if((r==null?void 0:r.protocol)==="")n="//mce_host"+l.toAbsPath(T,n);else{const A=/([^#?]*)([#?]?.*)/.exec(n);A&&(n=(r&&r.protocol||"http")+"://mce_host"+l.toAbsPath(T,A[1])+A[2])}}n=n.replace(/@@/g,"(mce_at)");const v=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);v&&Bx(qI,(T,A)=>{let L=v[A];L&&(L=L.replace(/\(mce_at\)/g,"@@")),l[T]=L}),r&&(l.protocol||(l.protocol=r.protocol),l.userInfo||(l.userInfo=r.userInfo),!l.port&&l.host==="mce_host"&&(l.port=r.port),(!l.host||l.host==="mce_host")&&(l.host=r.host),l.source=""),f&&(l.protocol="")}static parseDataUri(n){let o;const r=decodeURIComponent(n).split(","),l=/data:([^;]+)/.exec(r[0]);return l&&(o=l[1]),{type:o,data:r[1]}}static isDomSafe(n,o,r={}){if(r.allow_script_urls)return!0;{const l=Td.decode(n).replace(/[\s\u0000-\u001F]+/g,"");return!$x(r,l,o)}}static getDocumentBaseUrl(n){var o;let r;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?r=(o=n.href)!==null&&o!==void 0?o:"":r=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r}setPath(n){const o=/^(.*?)\/?(\w+)?$/.exec(n);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(n){if(n==="./")return n;const o=new Gm(n,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const r=this.getURI(),l=o.getURI();if(r===l||r.charAt(r.length-1)==="/"&&r.substr(0,r.length-1)===l)return r;let f=this.toRelPath(this.path,o.path);return o.query&&(f+="?"+o.query),o.anchor&&(f+="#"+o.anchor),f}toAbsolute(n,o){const r=new Gm(n,{base_uri:this});return r.getURI(o&&this.isSameOrigin(r))}isSameOrigin(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;const o=this.protocol?jL[this.protocol]:null;if(o&&(this.port||o)==(n.port||o))return!0}return!1}toRelPath(n,o){let r=0,l="",f,v;const T=n.substring(0,n.lastIndexOf("/")).split("/"),A=o.split("/");if(T.length>=A.length){for(f=0,v=T.length;f<v;f++)if(f>=A.length||T[f]!==A[f]){r=f+1;break}}if(T.length<A.length){for(f=0,v=A.length;f<v;f++)if(f>=T.length||T[f]!==A[f]){r=f+1;break}}if(r===1)return o;for(f=0,v=T.length-(r-1);f<v;f++)l+="../";for(f=r-1,v=A.length;f<v;f++)f!==r-1?l+="/"+A[f]:l+=A[f];return l}toAbsPath(n,o){let r=0;const l=/\/$/.test(o)?"/":"",f=n.split("/"),v=o.split("/"),T=[];Bx(f,Z=>{Z&&T.push(Z)});const A=[];for(let Z=v.length-1;Z>=0;Z--)if(!(v[Z].length===0||v[Z]===".")){if(v[Z]===".."){r++;continue}if(r>0){r--;continue}A.push(v[Z])}const L=T.length-r;let q;return L<=0?q=js(A).join("/"):q=T.slice(0,L).join("/")+"/"+js(A).join("/"),q.indexOf("/")!==0&&(q="/"+q),l&&q.lastIndexOf("/")!==q.length-1&&(q+=l),q}getURI(n=!1){let o;return(!this.source||n)&&(o="",n||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const o7=me.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),Fx="data-mce-type";let jI=0;const Y_=(e,n,o,r)=>{var l,f,v,T;const A=n.validate,L=o.getSpecialElements();e.nodeType===jn&&!n.allow_conditional_comments&&/^\[if/i.test((l=e.nodeValue)!==null&&l!==void 0?l:"")&&(e.nodeValue=" "+e.nodeValue);const q=(f=r==null?void 0:r.tagName)!==null&&f!==void 0?f:e.nodeName.toLowerCase();if(e.nodeType!==yr||q==="body")return;const Z=xe.fromDom(e),te=ya(Z,Fx),we=ba(Z,"data-mce-bogus");if(!te&&ne(we)){we==="all"?_r(Z):Ha(Z);return}const Se=o.getElementRule(q);if(A&&!Se){zn(L,q)?_r(Z):Ha(Z);return}else Pe(r)&&(r.allowedTags[q]=!0);if(A&&Se&&!te){if(lt((v=Se.attributesForced)!==null&&v!==void 0?v:[],ue=>{io(Z,ue.name,ue.value==="{$uid}"?`mce_${jI++}`:ue.value)}),lt((T=Se.attributesDefault)!==null&&T!==void 0?T:[],ue=>{ya(Z,ue.name)||io(Z,ue.name,ue.value==="{$uid}"?`mce_${jI++}`:ue.value)}),Se.attributesRequired&&!as(Se.attributesRequired,ue=>ya(Z,ue))){Ha(Z);return}if(Se.removeEmptyAttrs&&Ea(Z)){Ha(Z);return}Se.outputName&&Se.outputName!==q&&jw(Z,Se.outputName)}},KL=(e,n,o,r,l)=>!(r in o7&&$x(e,l,o))&&(!e.validate||n.isValid(o,r)||vi(r,"data-")||vi(r,"aria-")),XL=(e,n)=>e.hasAttribute(Fx)&&(n==="id"||n==="class"||n==="style"),QL=(e,n)=>e in n.getBoolAttrs(),s7=(e,n,o)=>{const{attributes:r}=e;for(let l=r.length-1;l>=0;l--){const f=r[l],v=f.name,T=f.value;!KL(n,o,e.tagName.toLowerCase(),v,T)&&!XL(e,v)?e.removeAttribute(v):QL(v,o)&&e.setAttribute(v,v)}},r7=(e,n)=>{const o=t7();return o.addHook("uponSanitizeElement",(r,l)=>{Y_(r,e,n,l)}),o.addHook("uponSanitizeAttribute",(r,l)=>{const f=r.tagName.toLowerCase(),{attrName:v,attrValue:T}=l;l.keepAttr=KL(e,n,f,v,T),l.keepAttr?(l.allowedAttributes[v]=!0,QL(v,n)&&(l.attrValue=v),e.allow_svg_data_urls&&vi(T,"data:image/svg+xml")&&(l.forceKeepAttr=!0)):XL(r,v)&&(l.forceKeepAttr=!0)}),o},JL=(e,n)=>{const r={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return r.PARSER_MEDIA_TYPE=n,e.allow_script_urls?r.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(r.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),r},i7=(e,n)=>{if(e.sanitize){const o=r7(e,n);return(r,l)=>{o.sanitize(r,JL(e,l)),o.removed=[]}}else return(o,r)=>{const l=document.createNodeIterator(o,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let f;for(;f=l.nextNode();)Y_(f,e,n),Xt(f)&&s7(f,e,n)}},e4=me.makeMap,t4=me.extend,YI=(e,n,o)=>{const r=e.name,l=r in o&&r!=="title"&&r!=="textarea",f=n.childNodes;for(let v=0,T=f.length;v<T;v++){const A=f[v],L=new _u(A.nodeName.toLowerCase(),A.nodeType);if(Xt(A)){const q=A.attributes;for(let Z=0,te=q.length;Z<te;Z++){const we=q[Z];L.attr(we.name,we.value)}}else Pt(A)?(L.value=A.data,l&&(L.raw=!0)):(za(A)||$w(A)||Gb(A))&&(L.value=A.data);YI(L,A,o),e.append(L)}},KI=(e,n,o)=>{const r=[];for(let l=e,f=l;l;f=l,l=l.walk()){const v=l;lt(n,T=>T(v)),xt(v.parent)&&v!==e?l=f:r.push(v)}for(let l=r.length-1;l>=0;l--){const f=r[l];lt(o,v=>v(f))}},n4=(e,n,o,r)=>{const l=o.validate,f=n.getNonEmptyElements(),v=n.getWhitespaceElements(),T=t4(e4("script,style,head,html,body,title,meta,param"),n.getBlockElements()),A=Sd(n),L=/[ \t\r\n]+/g,q=/^[ \t\r\n]+/,Z=/[ \t\r\n]+$/,te=Ie=>{let Ue=Ie.parent;for(;Pe(Ue);){if(Ue.name in v)return!0;Ue=Ue.parent}return!1},we=Ie=>{let Ue=Ie;for(;Pe(Ue);){if(Ue.name in A)return V_(n,f,v,Ue);Ue=Ue.parent}return!1},Se=Ie=>Ie.name in T&&!om(n,Ie),ue=(Ie,Ue)=>{const et=Ue?Ie.prev:Ie.next;return Pe(et)||xt(Ie.parent)?!1:Se(Ie.parent)&&(Ie.parent!==e||r.isRootContent===!0)};return[Ie=>{var Ue;if(Ie.type===3&&!te(Ie)){let et=(Ue=Ie.value)!==null&&Ue!==void 0?Ue:"";et=et.replace(L," "),(e8(Ie.prev,Se)||ue(Ie,!0))&&(et=et.replace(q,"")),et.length===0?Ie.remove():Ie.value=et}},Ie=>{var Ue;if(Ie.type===1){const et=n.getElementRule(Ie.name);if(l&&et){const yt=V_(n,f,v,Ie);et.paddInEmptyBlock&&yt&&we(Ie)?IT(r,Se,Ie):et.removeEmpty&&yt?Se(Ie)?Ie.remove():Ie.unwrap():et.paddEmpty&&(yt||hI(Ie))&&IT(r,Se,Ie)}}else if(Ie.type===3&&!te(Ie)){let et=(Ue=Ie.value)!==null&&Ue!==void 0?Ue:"";(Ie.next&&Se(Ie.next)||ue(Ie,!1))&&(et=et.replace(Z,"")),et.length===0?Ie.remove():Ie.value=et}}]},o4=(e,n)=>{var o;const r=(o=n.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return r===!1?"":r===!0?"p":r},gb=(e={},n=hl())=>{const o=VT(),r=VT(),l={validate:!0,root_name:"body",sanitize:!0,...e},f=new DOMParser,v=i7(l,n),T=(Ue,et,yt="html")=>{const Yt=yt==="xhtml"?"application/xhtml+xml":"text/html",Ft=zn(n.getSpecialElements(),et.toLowerCase()),at=Ft?`<${et}>${Ue}</${et}>`:Ue,it=yt==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${at}</body></html>`:`<body>${at}</body>`,ln=f.parseFromString(it,Yt).body;return v(ln,Yt),Ft?ln.firstChild:ln},A=o.addFilter,L=o.getFilters,q=o.removeFilter,Z=r.addFilter,te=r.getFilters,we=r.removeFilter,Se=(Ue,et)=>{HP(n,Ue)&&et.push(Ue)},ue=(Ue,et)=>{const yt=ne(et.attr(Fx)),Yt=et.type===1&&!zn(Ue,et.name)&&!nm(n,et);return et.type===3||Yt&&!yt},Ce=(Ue,et)=>{const yt=t4(e4("script,style,head,html,body,title,meta,param"),n.getBlockElements()),Yt=/^[ \t\r\n]+/,Ft=/[ \t\r\n]+$/;let at=Ue.firstChild,it=null;const ln=xn=>{var Bn,ho;xn&&(at=xn.firstChild,at&&at.type===3&&(at.value=(Bn=at.value)===null||Bn===void 0?void 0:Bn.replace(Yt,"")),at=xn.lastChild,at&&at.type===3&&(at.value=(ho=at.value)===null||ho===void 0?void 0:ho.replace(Ft,"")))};if(n.isValidChild(Ue.name,et.toLowerCase())){for(;at;){const xn=at.next;ue(yt,at)?(it||(it=new _u(et,1),it.attr(l.forced_root_block_attrs),Ue.insert(it,at)),it.append(at)):(ln(it),it=null),at=xn}ln(it)}},Ie={schema:n,addAttributeFilter:Z,getAttributeFilters:te,removeAttributeFilter:we,addNodeFilter:A,getNodeFilters:L,removeNodeFilter:q,parse:(Ue,et={})=>{var yt;const Yt=l.validate,Ft=(yt=et.context)!==null&&yt!==void 0?yt:l.root_name,at=T(Ue,Ft,et.format);lf(n,at);const it=new _u(Ft,11);YI(it,at,n.getSpecialElements()),at.innerHTML="";const[ln,xn]=n4(it,n,l,et),Bn=[],ho=Yt?Jr=>Se(Jr,Bn):Ct,No={nodes:{},attributes:{}},bs=Jr=>F_(L(),te(),Jr,No);if(KI(it,[ln,bs],[xn,ho]),Bn.reverse(),Yt&&Bn.length>0)if(et.context){const{pass:Jr,fail:tc}=Ui(Bn,ma=>ma.parent===it);mI(tc,n,it,bs),et.invalid=Jr.length>0}else mI(Bn,n,it,bs);const Zs=o4(l,et);return Zs&&(it.name==="body"||et.isRootContent)&&Ce(it,Zs),et.invalid||fI(No,et),it}};return LL(Ie,l),HY(Ie,l,n),Ie},s4=e=>kT(e)?ab({validate:!1}).serialize(e):e,XI=(e,n,o)=>{const r=s4(e),l=n(r);if(l.isDefaultPrevented())return l;if(kT(e))if(l.content!==r){const f=gb({validate:!1,forced_root_block:!1,sanitize:o}).parse(l.content,{context:e.name});return{...l,content:f}}else return{...l,content:e};else return l},QI=(e,n)=>{if(n.no_events)return vs.value(n);{const o=JC(e,n);return o.isDefaultPrevented()?vs.error(eT(e,{content:"",...o}).content):vs.value(o)}},JI=(e,n,o)=>o.no_events?n:XI(n,l=>eT(e,{...o,content:l}),Gv(e)).content,eD=(e,n)=>{if(n.no_events)return vs.value(n);{const o=XI(n.content,r=>XC(e,{...n,content:r}),Gv(e));return o.isDefaultPrevented()?(QC(e,o),vs.error(void 0)):vs.value(o)}},jT=(e,n,o)=>{o.no_events||QC(e,{...o,content:n})},tD=(e,n,o)=>({element:e,width:n,rows:o}),YT=(e,n)=>({element:e,cells:n}),a7=(e,n)=>({x:e,y:n}),r4=(e,n)=>Tc(e,n).bind(dd).getOr(1),c7=(e,n,o,r,l)=>{const f=r4(l,"rowspan"),v=r4(l,"colspan"),T=e.rows;for(let A=o;A<o+f;A++){T[A]||(T[A]=YT(i0(r),[]));for(let L=n;L<n+v;L++){const q=T[A].cells;q[L]=A===o&&L===n?l:fm(l)}}},i4=(e,n,o)=>{const r=e.rows;return!!(r[o]?r[o].cells:[])[n]},a4=(e,n,o)=>{for(;i4(e,n,o);)n++;return n},c4=e=>Os(e,(n,o)=>o.cells.length>n?o.cells.length:n,0),l4=(e,n)=>{const o=e.rows;for(let r=0;r<o.length;r++){const l=o[r].cells;for(let f=0;f<l.length;f++)if(zo(l[f],n))return ee.some(a7(f,r))}return ee.none()},u4=(e,n,o,r,l)=>{const f=[],v=e.rows;for(let T=o;T<=l;T++){const A=v[T].cells,L=n<r?A.slice(n,r+1):A.slice(r,n+1);f.push(YT(v[T].element,L))}return f},l7=(e,n,o)=>{const r=n.x,l=n.y,f=o.x,v=o.y,T=l<v?u4(e,r,l,f,v):u4(e,r,v,f,l);return tD(e.element,c4(T),T)},d4=(e,n)=>{const o=fm(e.element),r=xe.fromTag("tbody");return nf(r,n),Er(o,r),o},UY=e=>qt(e.rows,n=>{const o=qt(n.cells,l=>{const f=i0(l);return dr(f,"colspan"),dr(f,"rowspan"),f}),r=fm(n.element);return nf(r,o),r}),u7=e=>{const n=tD(fm(e),0,[]);return lt(Ta(e,"tr"),(o,r)=>{lt(Ta(o,"td,th"),(l,f)=>{c7(n,a4(n,f,r),r,o,l)})}),tD(n.element,c4(n.rows),n.rows)},d7=e=>d4(e,UY(e)),f7=(e,n,o)=>l4(e,n).bind(r=>l4(e,o).map(l=>l7(e,r,l))),h7=e=>gs(e,n=>$s(n)==="ul"||$s(n)==="ol"),m7=(e,n)=>gs(e,o=>$s(o)==="li"&&j0(o,n)).fold(Xe([]),o=>h7(e).map(r=>{const l=xe.fromTag($s(r)),f=Is(al(r),(v,T)=>vi(T,"list-style"));return aa(l,f),[xe.fromTag("li"),l]}).getOr([])),g7=(e,n)=>{const o=Os(n,(r,l)=>(Er(l,r),l),e);return n.length>0?lT([o]):o},p7=e=>Xh(e)?Ho(e).filter(Ac).fold(Xe([]),n=>[e,n]):Ac(e)?[e]:[],f4=(e,n)=>{const o=xe.fromDom(n.commonAncestorContainer),r=R1(o,e),l=En(r,Zb),f=m7(r,n),v=l.concat(f.length?f:p7(o));return qt(v,fm)},h4=()=>lT([]),v7=(e,n)=>g7(xe.fromDom(n.cloneContents()),f4(e,n)),b7=(e,n)=>wa(n,"table",Ve(zo,e)),y7=(e,n)=>b7(e,n[0]).bind(o=>{const r=n[0],l=n[n.length-1],f=u7(o);return f7(f,r,l).map(v=>lT([d7(v)]))}).getOrThunk(h4),E7=(e,n)=>n.length>0&&n[0].collapsed?h4():v7(e,n[0]),zY=(e,n)=>{const o=q0(n,e);return o.length>0?y7(e,o):E7(e,n)},nD=(e,n)=>n>=0&&n<e.length&&Z0(e.charAt(n)),m4=e=>Fu(e.innerText),_7=e=>e.map(n=>n.nodeName).getOr("div").toLowerCase(),WY=e=>ee.from(e.selection.getRng()).map(n=>{var o;const r=ee.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),l=e.getBody(),f=_7(r),v=xe.fromDom(n.cloneContents());PN(v),LN(v);const T=e.dom.add(l,f,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},v.dom),A=m4(T),L=Fu((o=T.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(T),nD(L,0)||nD(L,L.length-1)){const q=r.getOr(l),Z=m4(q),te=Z.indexOf(A);if(te===-1)return A;{const we=nD(Z,te-1),Se=nD(Z,te+A.length);return(we?" ":"")+A+(Se?" ":"")}}else return A}).getOr(""),w7=(e,n)=>{const o=e.selection.getRng(),r=e.dom.create("body"),l=e.selection.getSel(),f=HR(e,Ao(l)),v=n.contextual?zY(xe.fromDom(e.getBody()),f).dom:o.cloneContents();return v&&r.appendChild(v),e.selection.serializer.serialize(r,n)},Kr=(e,n)=>{if(n.format==="text")return WY(e);{const o=w7(e,n);return n.format==="tree"?o:e.selection.isCollapsed()?"":o}},oD=(e,n)=>({...e,format:n,get:!0,selection:!0,getInner:!0}),GY=(e,n,o={})=>{const r=oD(o,n);return QI(e,r).fold(Vt,l=>{const f=Kr(e,l);return JI(e,f,l)})},sD=0,g4=1,wy=2,ZY=(e,n)=>{const o=e.length+n.length+2,r=new Array(o),l=new Array(o),f=(q,Z,te)=>({start:q,end:Z,diag:te}),v=(q,Z,te,we,Se)=>{const ue=A(q,Z,te,we);if(ue===null||ue.start===Z&&ue.diag===Z-we||ue.end===q&&ue.diag===q-te){let Ce=q,Be=te;for(;Ce<Z||Be<we;)Ce<Z&&Be<we&&e[Ce]===n[Be]?(Se.push([sD,e[Ce]]),++Ce,++Be):Z-q>we-te?(Se.push([wy,e[Ce]]),++Ce):(Se.push([g4,n[Be]]),++Be)}else{v(q,ue.start,te,ue.start-ue.diag,Se);for(let Ce=ue.start;Ce<ue.end;++Ce)Se.push([sD,e[Ce]]);v(ue.end,Z,ue.end-ue.diag,we,Se)}},T=(q,Z,te,we)=>{let Se=q;for(;Se-Z<we&&Se<te&&e[Se]===n[Se-Z];)++Se;return f(q,Se,Z)},A=(q,Z,te,we)=>{const Se=Z-q,ue=we-te;if(Se===0||ue===0)return null;const Ce=Se-ue,Be=ue+Se,Ie=(Be%2===0?Be:Be+1)/2;r[1+Ie]=q,l[1+Ie]=Z+1;let Ue,et,yt,Yt,Ft;for(Ue=0;Ue<=Ie;++Ue){for(et=-Ue;et<=Ue;et+=2){for(yt=et+Ie,et===-Ue||et!==Ue&&r[yt-1]<r[yt+1]?r[yt]=r[yt+1]:r[yt]=r[yt-1]+1,Yt=r[yt],Ft=Yt-q+te-et;Yt<Z&&Ft<we&&e[Yt]===n[Ft];)r[yt]=++Yt,++Ft;if(Ce%2!==0&&Ce-Ue<=et&&et<=Ce+Ue&&l[yt-Ce]<=r[yt])return T(l[yt-Ce],et+q-te,Z,we)}for(et=Ce-Ue;et<=Ce+Ue;et+=2){for(yt=et+Ie-Ce,et===Ce-Ue||et!==Ce+Ue&&l[yt+1]<=l[yt-1]?l[yt]=l[yt+1]-1:l[yt]=l[yt-1],Yt=l[yt]-1,Ft=Yt-q+te-et;Yt>=q&&Ft>=te&&e[Yt]===n[Ft];)l[yt]=Yt--,Ft--;if(Ce%2===0&&-Ue<=et&&et<=Ue&&l[yt]<=r[yt+Ce])return T(l[yt],et+q-te,Z,we)}}return null},L=[];return v(0,e.length,0,n.length,L),L},C7=e=>Xt(e)?e.outerHTML:Pt(e)?Td.encodeRaw(e.data,!1):za(e)?"<!--"+e.data+"-->":"",Mc=e=>{let n;const o=document.createElement("div"),r=document.createDocumentFragment();for(e&&(o.innerHTML=e);n=o.firstChild;)r.appendChild(n);return r},p4=(e,n,o)=>{const r=Mc(n);if(e.hasChildNodes()&&o<e.childNodes.length){const l=e.childNodes[o];e.insertBefore(r,l)}else e.appendChild(r)},v4=(e,n)=>{if(e.hasChildNodes()&&n<e.childNodes.length){const o=e.childNodes[n];e.removeChild(o)}},b4=(e,n)=>{let o=0;lt(e,r=>{r[0]===sD?o++:r[0]===g4?(p4(n,r[1],o),o++):r[0]===wy&&v4(n,o)})},T7=e=>En(qt(pr(e.childNodes),C7),n=>n.length>0),S7=(e,n)=>{const o=qt(pr(n.childNodes),C7);return b4(ZY(o,e),n),n},Hx=Ol(()=>document.implementation.createHTMLDocument("undo")),x7=e=>e.indexOf("</iframe>")!==-1,rD=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),A7=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),KT=e=>{const n=T7(e.getBody()),o=ga(n,l=>{const f=NN(e.serializer,l);return f.length>0?[f]:[]}),r=o.join("");return x7(r)?rD(o):A7(r)},Vx=(e,n,o)=>{const r=o?n.beforeBookmark:n.bookmark;n.type==="fragmented"?S7(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:Pe(r)&&_C(r)?!r.isFakeCaret:!0}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},XT=e=>e.type==="fragmented"?e.fragments.join(""):e.content,iD=e=>{const n=xe.fromTag("body",Hx());return mg(n,XT(e)),lt(Ta(n,"*[data-mce-bogus]"),Ha),qh(n)},aD=(e,n)=>XT(e)===XT(n),O7=(e,n)=>iD(e)===iD(n),cD=(e,n)=>!e||!n?!1:aD(e,n)?!0:O7(e,n),lD=e=>e.get()===0,Cu=(e,n,o)=>{lD(o)&&(e.typing=n)},y4=(e,n)=>{e.typing&&(Cu(e,!1,n),e.add())},R7=e=>{e.typing&&(e.typing=!1,e.add())},I7=(e,n,o)=>{lD(n)&&o.set(Li(e.selection))},D7=(e,n,o,r,l,f,v)=>{const T=KT(e),A=me.extend(f||{},T);if(!lD(r)||e.removed)return null;const L=n.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:A,lastLevel:L,originalEvent:v}).isDefaultPrevented()||L&&cD(L,A))return null;n.data[o.get()]&&l.get().each(te=>{n.data[o.get()].beforeBookmark=te});const q=oC(e);if(q&&n.data.length>q){for(let te=0;te<n.data.length-1;te++)n.data[te]=n.data[te+1];n.data.length--,o.set(n.data.length)}A.bookmark=Li(e.selection),o.get()<n.data.length-1&&(n.data.length=o.get()+1),n.data.push(A),o.set(n.data.length-1);const Z={level:A,lastLevel:L,originalEvent:v};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",Z),e.dispatch("change",Z)):e.dispatch("AddUndo",Z),A},M7=(e,n,o)=>{n.data=[],o.set(0),n.typing=!1,e.dispatch("ClearUndos")},E4=(e,n,o,r,l)=>{if(n.transact(r)){const f=n.data[o.get()].bookmark,v=n.data[o.get()-1];Vx(e,v,!0),n.transact(l)&&(n.data[o.get()-1].beforeBookmark=f)}},k7=(e,n,o)=>{let r;return n.get()<o.length-1&&(n.set(n.get()+1),r=o[n.get()],Vx(e,r,!1),e.setDirty(!0),e.dispatch("Redo",{level:r})),r},N7=(e,n,o,r)=>{let l;return n.typing&&(n.add(),n.typing=!1,Cu(n,!1,o)),r.get()>0&&(r.set(r.get()-1),l=n.data[r.get()],Vx(e,l,!0),e.setDirty(!0),e.dispatch("Undo",{level:l})),l},P7=e=>{e.clear(),e.add()},Ux=(e,n,o)=>o.get()>0||n.typing&&n.data[0]&&!cD(KT(e),n.data[0]),L7=(e,n)=>n.get()<e.data.length-1&&!e.typing,B7=(e,n,o)=>(y4(e,n),e.beforeChange(),e.ignore(o),e.add()),_4=(e,n)=>{try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},uD=(e,n)=>{const o=e.dom,r=Pe(n)?n:e.getBody();lt(o.select("table,a",r),l=>{switch(l.nodeName){case"TABLE":const f=iC(e),v=o.getAttrib(l,"border");(!v||v==="0")&&e.hasVisual?o.addClass(l,f):o.removeClass(l,f);break;case"A":if(!o.getAttrib(l,"href")){const T=o.getAttrib(l,"name")||l.id,A=x0(e);T&&e.hasVisual?o.addClass(l,A):o.removeClass(l,A)}break}}),e.dispatch("VisualAid",{element:n,hasVisual:e.hasVisual})},w4=e=>({init:{bindEvents:Ct},undoManager:{beforeChange:(n,o)=>I7(e,n,o),add:(n,o,r,l,f,v)=>D7(e,n,o,r,l,f,v),undo:(n,o,r)=>N7(e,n,o,r),redo:(n,o)=>k7(e,n,o),clear:(n,o)=>M7(e,n,o),reset:n=>P7(n),hasUndo:(n,o)=>Ux(e,n,o),hasRedo:(n,o)=>L7(n,o),transact:(n,o,r)=>B7(n,o,r),ignore:(n,o)=>_4(n,o),extra:(n,o,r,l)=>E4(e,n,o,r,l)},formatter:{match:(n,o,r,l)=>Vm(e,n,o,r,l),matchAll:(n,o)=>v8(e,n,o),matchNode:(n,o,r,l)=>Sf(e,n,o,r,l),canApply:n=>xi(e,n),closest:n=>TI(e,n),apply:(n,o,r)=>$I(e,n,o,r),remove:(n,o,r,l)=>CL(e,n,o,r,l),toggle:(n,o,r)=>RL(e,n,o,r),formatChanged:(n,o,r,l,f)=>$8(e,n,o,r,l,f)},editor:{getContent:n=>w6(e,n),setContent:(n,o)=>vx(e,n,o),insertContent:(n,o)=>gx(e,n,o),addVisual:n=>uD(e,n)},selection:{getContent:(n,o)=>GY(e,n,o)},autocompleter:{addDecoration:n=>d6(e,n),removeDecoration:()=>h6(e,xe.fromDom(e.getBody()))},raw:{getModel:()=>ee.none()}}),$7=e=>{const n=L=>Le(L)?L:{},{init:o,undoManager:r,formatter:l,editor:f,selection:v,autocompleter:T,raw:A}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:(L,q,Z)=>r.transact(Z),ignore:(L,q)=>r.ignore(q),extra:(L,q,Z,te)=>r.extra(Z,te)},formatter:{match:(L,q,Z,te)=>l.match(L,n(q),te),matchAll:l.matchAll,matchNode:l.matchNode,canApply:L=>l.canApply(L),closest:L=>l.closest(L),apply:(L,q,Z)=>l.apply(L,n(q)),remove:(L,q,Z,te)=>l.remove(L,n(q)),toggle:(L,q,Z)=>l.toggle(L,n(q)),formatChanged:(L,q,Z,te,we)=>l.formatChanged(q,Z,te,we)},editor:{getContent:L=>f.getContent(L),setContent:(L,q)=>({content:f.setContent(L,q),html:""}),insertContent:(L,q)=>(f.insertContent(L),""),addVisual:f.addVisual},selection:{getContent:(L,q)=>v.getContent(q)},autocompleter:{addDecoration:T.addDecoration,removeDecoration:T.removeDecoration},raw:{getModel:()=>ee.some(A.getRawModel())}}},qY=()=>{const e=Xe(null),n=Xe("");return{init:{bindEvents:Ct},undoManager:{beforeChange:Ct,add:e,undo:e,redo:e,clear:Ct,reset:Ct,hasUndo:je,hasRedo:je,transact:e,ignore:Ct,extra:Ct},formatter:{match:je,matchAll:Xe([]),matchNode:Xe(void 0),canApply:je,closest:n,apply:Ct,remove:Ct,toggle:Ct,formatChanged:Xe({unbind:Ct})},editor:{getContent:n,setContent:Xe({content:"",html:""}),insertContent:Xe(""),addVisual:Ct},selection:{getContent:n},autocompleter:{addDecoration:Ct,removeDecoration:Ct},raw:{getModel:Xe(ee.none())}}},ep=e=>zn(e.plugins,"rtc"),F7=e=>Ys(e.plugins,"rtc").bind(n=>ee.from(n.setup)),H7=e=>{const n=e;return F7(e).fold(()=>(n.rtcInstance=w4(e),ee.none()),o=>(n.rtcInstance=qY(),ee.some(()=>o().then(r=>(n.rtcInstance=$7(r),r.rtc.isRemote)))))},dD=e=>e.rtcInstance?e.rtcInstance:w4(e),Xr=e=>{const n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},zx=(e,n,o)=>{Xr(e).undoManager.beforeChange(n,o)},QT=(e,n,o,r,l,f,v)=>Xr(e).undoManager.add(n,o,r,l,f,v),C4=(e,n,o,r)=>Xr(e).undoManager.undo(n,o,r),T4=(e,n,o)=>Xr(e).undoManager.redo(n,o),V7=(e,n,o)=>{Xr(e).undoManager.clear(n,o)},S4=(e,n)=>{Xr(e).undoManager.reset(n)},U7=(e,n,o)=>Xr(e).undoManager.hasUndo(n,o),z7=(e,n,o)=>Xr(e).undoManager.hasRedo(n,o),W7=(e,n,o,r)=>Xr(e).undoManager.transact(n,o,r),G7=(e,n,o)=>{Xr(e).undoManager.ignore(n,o)},x4=(e,n,o,r,l)=>{Xr(e).undoManager.extra(n,o,r,l)},Z7=(e,n,o,r,l)=>Xr(e).formatter.match(n,o,r,l),q7=(e,n,o)=>Xr(e).formatter.matchAll(n,o),JT=(e,n,o,r,l)=>Xr(e).formatter.matchNode(n,o,r,l),A4=(e,n)=>Xr(e).formatter.canApply(n),O4=(e,n)=>Xr(e).formatter.closest(n),j7=(e,n,o,r)=>{Xr(e).formatter.apply(n,o,r)},Y7=(e,n,o,r,l)=>{Xr(e).formatter.remove(n,o,r,l)},K7=(e,n,o,r)=>{Xr(e).formatter.toggle(n,o,r)},R4=(e,n,o,r,l,f)=>Xr(e).formatter.formatChanged(n,o,r,l,f),X7=(e,n)=>dD(e).editor.getContent(n),Q7=(e,n,o)=>dD(e).editor.setContent(n,o),J7=(e,n,o)=>dD(e).editor.insertContent(n,o),eV=(e,n,o)=>Xr(e).selection.getContent(n,o),jY=(e,n)=>Xr(e).editor.addVisual(n),Sh=e=>Xr(e).init.bindEvents(),fD=(e,n)=>Xr(e).autocompleter.addDecoration(n),tV=e=>Xr(e).autocompleter.removeDecoration(),nV=(e,n={})=>{const o=n.format?n.format:"html";return eV(e,o,n)},I4=e=>e.dom.length===0?(_r(e),ee.none()):ee.some(e),oV=(e,n)=>e.filter(o=>Gl.isBookmarkNode(o.dom)).bind(n?_a:xc),ls=(e,n,o,r)=>{const l=e.dom,f=n.dom,v=r?l.length:f.length;r?(tI(l,f,!1,!r),o.setStart(f,v)):(tI(f,l,!1,!r),o.setEnd(f,v))},YY=(e,n)=>{Ho(e).each(o=>{const r=e.dom;n&&P_(o,ze(r,0))?tx(r,0):!n&&ET(o,ze(r,r.length))&&eI(r,r.length)})},D4=(e,n,o,r)=>{e.bind(l=>((r?eI:tx)(l.dom,r?l.dom.length:0),n.filter(ur).map(v=>ls(l,v,o,r)))).orThunk(()=>oV(n,r).or(n).filter(ur).map(f=>YY(f,r)))},sV=(e,n)=>{const o=ee.from(n.firstChild).map(xe.fromDom),r=ee.from(n.lastChild).map(xe.fromDom);e.deleteContents(),e.insertNode(n);const l=o.bind(xc).filter(ur).bind(I4),f=r.bind(_a).filter(ur).bind(I4);D4(l,o,e,!0),D4(f,r,e,!1),e.collapse(!1)},Vr=(e,n)=>({format:"html",...e,set:!0,selection:!0,content:n}),rV=(e,n)=>{if(n.format!=="raw"){const o=e.selection.getRng(),r=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),l=r?{context:r.nodeName.toLowerCase()}:{},f=e.parser.parse(n.content,{forced_root_block:!1,...l,...n});return ab({validate:!1},e.schema).serialize(f)}else return n.content},eS=(e,n,o={})=>{const r=Vr(o,n);eD(e,r).each(l=>{const f=rV(e,l),v=e.selection.getRng();sV(v,v.createContextualFragment(f)),e.selection.setRng(v),mn(e,v),jT(e,f,l)})},M4=(e,n,o)=>{if(zn(e,n)){const r=En(e[n],l=>l!==o);r.length===0?delete e[n]:e[n]=r}};var iV=(e,n)=>{let o,r;const l=(T,A)=>gs(A,L=>e.is(L,T)),f=T=>e.getParents(T,void 0,e.getRoot()),v=()=>{o={},r={},n.on("NodeChange",T=>{const A=T.element,L=f(A),q={};nn(o,(Z,te)=>{l(te,L).each(we=>{r[te]||(lt(Z,Se=>{Se(!0,{node:we,selector:te,parents:L})}),r[te]=Z),q[te]=Z})}),nn(r,(Z,te)=>{q[te]||(delete r[te],lt(Z,we=>{we(!1,{node:A,selector:te,parents:L})}))})})};return{selectorChangedWithUnbind:(T,A)=>(o||v(),o[T]||(o[T]=[]),o[T].push(A),l(T,f(n.selection.getStart())).each(()=>{r[T]=o[T]}),{unbind:()=>{M4(o,T,A),M4(r,T,A)}})}};const k4=e=>!!(e&&e.ownerDocument)&&Qe(xe.fromDom(e.ownerDocument),xe.fromDom(e)),N4=e=>e?k4(e.startContainer)&&k4(e.endContainer):!1,N1=(e,n,o,r)=>{let l,f;const{selectorChangedWithUnbind:v}=iV(e,r),T=($t,wn)=>{const Qo=e.createRng();Pe($t)&&Pe(wn)?(Qo.setStart($t,wn),Qo.setEnd($t,wn),et(Qo),Be(!1)):(g_(e,Qo,r.getBody(),!0),et(Qo))},A=$t=>nV(r,$t),L=($t,wn)=>eS(r,$t,wn),q=$t=>xN(r.getBody(),Ue(),$t),Z=$t=>AN(r.getBody(),Ue(),$t),te=($t,wn)=>tc.getBookmark($t,wn),we=$t=>tc.moveToBookmark($t),Se=($t,wn)=>(r6(e,$t,wn).each(et),$t),ue=()=>{const $t=Ue(),wn=Ie();return!$t||$t.item?!1:$t.compareEndPoints?$t.compareEndPoints("StartToEnd",$t)===0:!wn||$t.collapsed},Ce=()=>{const $t=Ue(),wn=r.getBody().querySelectorAll('[data-mce-selected="1"]');return wn.length>0?tr(wn,Qo=>e.isEditable(Qo.parentElement)):$t.startContainer===$t.endContainer?e.isEditable($t.startContainer):e.isEditable($t.startContainer)&&e.isEditable($t.endContainer)},Be=$t=>{const wn=Ue();wn.collapse(!!$t),et(wn)},Ie=()=>n.getSelection?n.getSelection():n.document.selection,Ue=()=>{let $t;const wn=(tn,kn,Nn)=>{try{return kn.compareBoundaryPoints(tn,Nn)}catch{return-1}},Qo=n.document;if(Pe(r.bookmark)&&!ib(r)){const tn=Xg(r);if(tn.isSome())return tn.map(kn=>HR(r,[kn])[0]).getOr(Qo.createRange())}try{const tn=Ie();tn&&!An(tn.anchorNode)&&(tn.rangeCount>0?$t=tn.getRangeAt(0):$t=Qo.createRange(),$t=HR(r,[$t])[0])}catch{}if($t||($t=Qo.createRange()),of($t.startContainer)&&$t.collapsed){const tn=e.getRoot();$t.setStart(tn,0),$t.setEnd(tn,0)}return l&&f&&(wn($t.START_TO_START,$t,l)===0&&wn($t.END_TO_END,$t,l)===0?$t=f:(l=null,f=null)),$t},et=($t,wn)=>{if(!N4($t))return;const Qo=Ie();if($t=r.dispatch("SetSelectionRange",{range:$t,forward:wn}).range,Qo){f=$t;try{Qo.removeAllRanges(),Qo.addRange($t)}catch{}wn===!1&&Qo.extend&&(Qo.collapse($t.endContainer,$t.endOffset),Qo.extend($t.startContainer,$t.startOffset)),l=Qo.rangeCount>0?Qo.getRangeAt(0):null}if(!$t.collapsed&&$t.startContainer===$t.endContainer&&(Qo!=null&&Qo.setBaseAndExtent)&&$t.endOffset-$t.startOffset<2&&$t.startContainer.hasChildNodes()){const kn=$t.startContainer.childNodes[$t.startOffset];kn&&kn.nodeName==="IMG"&&(Qo.setBaseAndExtent($t.startContainer,$t.startOffset,$t.endContainer,$t.endOffset),(Qo.anchorNode!==$t.startContainer||Qo.focusNode!==$t.endContainer)&&Qo.setBaseAndExtent(kn,0,kn,1))}r.dispatch("AfterSetSelectionRange",{range:$t,forward:wn})},yt=$t=>(L(e.getOuterHTML($t)),$t),Yt=()=>o6(r.getBody(),Ue()),Ft=($t,wn)=>s6(e,Ue(),$t,wn),at=()=>{const $t=Ie(),wn=$t==null?void 0:$t.anchorNode,Qo=$t==null?void 0:$t.focusNode;if(!$t||!wn||!Qo||An(wn)||An(Qo))return!0;const tn=e.createRng(),kn=e.createRng();try{tn.setStart(wn,$t.anchorOffset),tn.collapse(!0),kn.setStart(Qo,$t.focusOffset),kn.collapse(!0)}catch{return!0}return tn.compareBoundaryPoints(tn.START_TO_START,kn)<=0},Jr={dom:e,win:n,serializer:o,editor:r,expand:($t={type:"word"})=>et(nb(e).expand(Ue(),$t)),collapse:Be,setCursorLocation:T,getContent:A,setContent:L,getBookmark:te,moveToBookmark:we,select:Se,isCollapsed:ue,isEditable:Ce,isForward:at,setNode:yt,getNode:Yt,getSel:Ie,setRng:et,getRng:Ue,getStart:q,getEnd:Z,getSelectedBlocks:Ft,normalize:()=>{const $t=Ue(),wn=Ie();if(!Kv(wn)&&MC(r)){const Qo=Bm(e,$t);return Qo.each(tn=>{et(tn,at())}),Qo.getOr($t)}return $t},selectorChanged:($t,wn)=>(v($t,wn),Jr),selectorChangedWithUnbind:v,getScrollContainer:()=>{let $t,wn=e.getRoot();for(;wn&&wn.nodeName!=="BODY";){if(wn.scrollHeight>wn.clientHeight){$t=wn;break}wn=wn.parentNode}return $t},scrollIntoView:($t,wn)=>{Pe($t)?gt(r,$t,wn):mn(r,Ue(),wn)},placeCaretAt:($t,wn)=>et(uT($t,wn,r.getDoc())),getBoundingClientRect:()=>{const $t=Ue();return $t.collapsed?ze.fromRangeStart($t).getClientRects()[0]:$t.getBoundingClientRect()},destroy:()=>{n=l=f=null,ma.destroy()}},tc=Gl(Jr),ma=L2(Jr,r);return Jr.bookmarkManager=tc,Jr.controlSelection=ma,Jr},td=(e,n,o)=>{e.addAttributeFilter("data-mce-tabindex",(r,l)=>{let f=r.length;for(;f--;){const v=r[f];v.attr("tabindex",v.attr("data-mce-tabindex")),v.attr(l,null)}}),e.addAttributeFilter("src,href,style",(r,l)=>{const f="data-mce-"+l,v=n.url_converter,T=n.url_converter_scope;let A=r.length;for(;A--;){const L=r[A];let q=L.attr(f);q!==void 0?(L.attr(l,q.length>0?q:null),L.attr(f,null)):(q=L.attr(l),l==="style"?q=o.serializeStyle(o.parseStyle(q),L.name):v&&(q=v.call(T,q,l,L.name)),L.attr(l,q.length>0?q:null))}}),e.addAttributeFilter("class",r=>{let l=r.length;for(;l--;){const f=r[l];let v=f.attr("class");v&&(v=v.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),f.attr("class",v.length>0?v:null))}}),e.addAttributeFilter("data-mce-type",(r,l,f)=>{let v=r.length;for(;v--;){const T=r[v];T.attr("data-mce-type")==="bookmark"&&!f.cleanup&&(ee.from(T.firstChild).exists(L=>{var q;return!iv((q=L.value)!==null&&q!==void 0?q:"")})?T.unwrap():T.remove())}}),e.addNodeFilter("noscript",r=>{var l;let f=r.length;for(;f--;){const v=r[f].firstChild;v&&(v.value=Td.decode((l=v.value)!==null&&l!==void 0?l:""))}}),e.addNodeFilter("script,style",(r,l)=>{var f;const v=A=>A.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let T=r.length;for(;T--;){const A=r[T],L=A.firstChild,q=(f=L==null?void 0:L.value)!==null&&f!==void 0?f:"";if(l==="script"){const Z=A.attr("type");Z&&A.attr("type",Z==="mce-no/type"?null:Z.replace(/^mce\-/,"")),n.element_format==="xhtml"&&L&&q.length>0&&(L.value=`// <![CDATA[
`+v(q)+`
// ]]>`)}else n.element_format==="xhtml"&&L&&q.length>0&&(L.value=`<!--
`+v(q)+`
-->`)}}),e.addNodeFilter("#comment",r=>{let l=r.length;for(;l--;){const f=r[l],v=f.value;n.preserve_cdata&&(v==null?void 0:v.indexOf("[CDATA["))===0?(f.name="#cdata",f.type=4,f.value=o.decode(v.replace(/^\[CDATA\[|\]\]$/g,""))):(v==null?void 0:v.indexOf("mce:protected "))===0&&(f.name="#text",f.type=3,f.raw=!0,f.value=unescape(v).substr(14))}}),e.addNodeFilter("xml:namespace,input",(r,l)=>{let f=r.length;for(;f--;){const v=r[f];v.type===7?v.remove():v.type===1&&l==="input"&&!v.attr("type")&&v.attr("type","text")}}),e.addAttributeFilter("data-mce-type",r=>{lt(r,l=>{l.attr("data-mce-type")==="format-caret"&&(l.isEmpty(e.schema.getNonEmptyElements())?l.remove():l.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(r,l)=>{let f=r.length;for(;f--;)r[f].attr(l,null)})},tS=e=>{const n=r=>(r==null?void 0:r.name)==="br",o=e.lastChild;if(n(o)){const r=o.prev;n(r)&&(o.remove(),r.remove())}},Cy=(e,n,o)=>{let r;const l=e.dom;let f=n.cloneNode(!0);const v=document.implementation;if(v.createHTMLDocument){const T=v.createHTMLDocument("");me.each(f.nodeName==="BODY"?f.childNodes:[f],A=>{T.body.appendChild(T.importNode(A,!0))}),f.nodeName!=="BODY"?f=T.body.firstChild:f=T.body,r=l.doc,l.doc=T}return UC(e,{...o,node:f}),r&&(l.doc=r),f},tp=(e,n)=>Pe(e)&&e.hasEventListeners("PreProcess")&&!n.no_events,nS=(e,n,o)=>tp(e,o)?Cy(e,n,o):n,hD=(e,n,o)=>{me.inArray(n,o)===-1&&(e.addAttributeFilter(o,(r,l)=>{let f=r.length;for(;f--;)r[f].attr(l,null)}),n.push(o))},mD=(e,n,o)=>!n.no_events&&e?zC(e,{...n,content:o}).content:o,P4=(e,n,o)=>{const r=Fu(o.getInner?n.innerHTML:e.getOuterHTML(n));return o.selection||Yi(xe.fromDom(n))?r:me.trim(r)},L4=(e,n,o)=>{const r=o.selection?{forced_root_block:!1,...o}:o,l=e.parse(n,r);return tS(l),l},aV=(e,n,o)=>ab(e,n).serialize(o),cV=(e,n,o,r,l)=>{const f=aV(n,o,r);return mD(e,l,f)},B4=(e,n)=>{const o=["data-mce-selected"],r=n&&n.dom?n.dom:zs.DOM,l=n&&n.schema?n.schema:hl(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0;const f=gb(e,l);td(f,e,r);const v=(T,A={})=>{const L={format:"html",...A},q=nS(n,T,L),Z=P4(r,q,L),te=L4(f,Z,L);return L.format==="tree"?te:cV(n,e,l,te,L)};return{schema:l,addNodeFilter:f.addNodeFilter,addAttributeFilter:f.addAttributeFilter,serialize:v,addRules:l.addValidElements,setRules:l.setValidElements,addTempAttr:Ve(hD,f,o),getTempAttrs:Xe(o),getNodeFilters:f.getNodeFilters,getAttributeFilters:f.getAttributeFilters,removeNodeFilter:f.removeNodeFilter,removeAttributeFilter:f.removeAttributeFilter}},gD=(e,n)=>{const o=B4(e,n);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},$4="html",F4=(e,n)=>({...e,format:n,get:!0,getInner:!0}),pD=(e,n={})=>{const o=n.format?n.format:$4,r=F4(n,o);return QI(e,r).fold(Vt,l=>{const f=X7(e,l);return JI(e,f,l)})},KY="html",lV=(e,n)=>({format:KY,...e,set:!0,content:n}),H4=(e,n,o={})=>{const r=lV(o,n);return eD(e,r).map(l=>{const f=Q7(e,l.content,l);return jT(e,f.html,l),f.content}).getOr(n)},uV="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),dV="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),np="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),fV=[{name:"template",replacedWith:"Advanced Template"}],hV=(e,n)=>{const o=En(n,r=>zn(e,r));return Rs(o)},mV=e=>{const n=hV(e,uV),o=e.forced_root_block;return(o===!1||o==="")&&n.push("forced_root_block (false only)"),Rs(n)},oS=e=>hV(e,dV),V4=(e,n)=>{const o=me.makeMap(e.plugins," "),l=En(n,f=>zn(o,f));return Rs(l)},U4=e=>V4(e,np),z4=e=>V4(e,fV.map(n=>n.name)),W4=(e,n)=>{const o=mV(e),r=U4(n),l=r.length>0,f=o.length>0,v=n.theme==="mobile";if(l||f||v){const T=`
- `,A=v?`

Themes:${T}mobile`:"",L=l?`

Plugins:${T}${r.join(T)}`:"",q=f?`

Options:${T}${o.join(T)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+A+L+q)}},gV=e=>gs(fV,n=>n.name===e).fold(()=>e,n=>`${e}, replaced by ${n.replacedWith}`),pV=(e,n)=>{const o=oS(e),r=z4(n),l=r.length>0,f=o.length>0;if(l||f){const v=`
- `,T=l?`

Plugins:${v}${r.map(gV).join(v)}`:"",A=f?`

Options:${v}${o.join(v)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+T+A)}},pb=(e,n)=>{W4(e,n),pV(e,n)},Wx=zs.DOM,vV=e=>{Wx.setStyle(e.id,"display",e.orgDisplay)},Gx=e=>ee.from(e).each(n=>n.destroy()),bV=e=>{const n=e;n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null;const o=e.selection;if(o){const r=o.dom;n.selection=o.win=o.dom=r.doc=null}},yV=e=>{const n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,delete n._mceOldSubmit),Wx.unbind(n,"submit reset",e.formEventDelegate))},EV=e=>{if(!e.removed){const{_selectionOverrides:n,editorUpload:o}=e,r=e.getBody(),l=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&Pe(l==null?void 0:l.nextSibling)&&Wx.remove(l.nextSibling),WC(e),e.editorManager.remove(e),!e.inline&&r&&vV(e),bR(e),Wx.remove(e.getContainer()),Gx(n),Gx(o),e.destroy()}},_V=(e,n)=>{const{selection:o,dom:r}=e;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Gx(o),Gx(r)),yV(e),bV(e),e.destroyed=!0}},Zx=(()=>{const e={};return{add:(l,f)=>{e[l]=f},get:l=>e[l]?e[l]:{icons:{}},has:l=>zn(e,l)}})(),K_=hs.ModelManager,G4=(e,n)=>n.dom[e],wV=(e,n)=>parseInt(bd(n,e),10),sS=Ve(G4,"clientWidth"),CV=Ve(G4,"clientHeight"),vD=Ve(wV,"margin-top"),TV=Ve(wV,"margin-left"),SV=e=>e.dom.getBoundingClientRect(),xV=(e,n,o)=>{const r=sS(e),l=CV(e);return n>=0&&o>=0&&n<=r&&o<=l},AV=(e,n,o,r)=>{const l=SV(n),f=e?l.left+n.dom.clientLeft+TV(n):0,v=e?l.top+n.dom.clientTop+vD(n):0,T=o-f,A=r-v;return{x:T,y:A}},Ty=(e,n,o)=>{const r=xe.fromDom(e.getBody()),l=e.inline?r:Ln(r),f=AV(e.inline,l,n,o);return xV(l,f.x,f.y)},Sy=e=>ee.from(e).map(xe.fromDom),qx=e=>{const n=e.inline?e.getBody():e.getContentAreaContainer();return Sy(n).map(Ks).getOr(!1)};var jx=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const vb=e=>{const n=[],o=()=>{const te=e.theme;return te&&te.getNotificationManagerImpl?te.getNotificationManagerImpl():jx()},r=()=>ee.from(n[0]),l=(te,we)=>te.type===we.type&&te.text===we.text&&!te.progressBar&&!te.timeout&&!we.progressBar&&!we.timeout,f=()=>{lt(n,te=>{te.reposition()})},v=te=>{n.push(te)},T=te=>{Tr(n,we=>we===te).each(we=>{n.splice(we,1)})},A=(te,we=!0)=>e.removed||!qx(e)?{}:(we&&e.dispatch("BeforeOpenNotification",{notification:te}),gs(n,Se=>l(o().getArgs(Se),te)).getOrThunk(()=>{e.editorManager.setActive(e);const Se=o().open(te,()=>{T(Se),f(),r().fold(()=>e.focus(),ue=>Un(xe.fromDom(ue.getEl())))});return v(Se),f(),e.dispatch("OpenNotification",{notification:{...Se}}),Se})),L=()=>{r().each(te=>{o().close(te),T(te),f()})},q=Xe(n);return(te=>{te.on("SkinLoaded",()=>{const we=WE(te);we&&A({text:we,type:"warning",timeout:0},!1),f()}),te.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(f)}),te.on("remove",()=>{lt(n.slice(),we=>{o().close(we)})})})(e),{open:A,close:L,getNotifications:q}},xh=hs.PluginManager,op=hs.ThemeManager;var Yx=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const bD=e=>{let n=[];const o=()=>{const ue=e.theme;return ue&&ue.getWindowManagerImpl?ue.getWindowManagerImpl():Yx()},r=(ue,Ce)=>(...Be)=>Ce?Ce.apply(ue,Be):void 0,l=ue=>{e.dispatch("OpenWindow",{dialog:ue})},f=ue=>{e.dispatch("CloseWindow",{dialog:ue})},v=ue=>{n.push(ue),l(ue)},T=ue=>{f(ue),n=En(n,Ce=>Ce!==ue),n.length===0&&e.focus()},A=()=>ee.from(n[n.length-1]),L=ue=>{e.editorManager.setActive(e),jl(e),e.ui.show();const Ce=ue();return v(Ce),Ce},q=(ue,Ce)=>L(()=>o().open(ue,Ce,T)),Z=ue=>L(()=>o().openUrl(ue,T)),te=(ue,Ce,Be)=>{const Ie=o();Ie.alert(ue,r(Be||Ie,Ce))},we=(ue,Ce,Be)=>{const Ie=o();Ie.confirm(ue,r(Be||Ie,Ce))},Se=()=>{A().each(ue=>{o().close(ue),T(ue)})};return e.on("remove",()=>{lt(n,ue=>{o().close(ue)})}),{open:q,openUrl:Z,alert:te,confirm:we,close:Se}},Kx=(e,n)=>{e.notificationManager.open({type:"error",text:n})},X_=(e,n)=>{e._skinLoaded?Kx(e,n):e.on("SkinLoaded",()=>{Kx(e,n)})},Z4=(e,n)=>{X_(e,zu.translate(["Failed to upload image: {0}",n]))},Q_=(e,n,o)=>{jC(e,n,{message:o}),console.error(o)},sp=(e,n,o)=>o?`Failed to load ${e}: ${o} from url ${n}`:`Failed to load ${e} url: ${n}`,q4=(e,n,o)=>{Q_(e,"PluginLoadError",sp("plugin",n,o))},j4=(e,n,o)=>{Q_(e,"IconsLoadError",sp("icons",n,o))},Y4=(e,n,o)=>{Q_(e,"LanguageLoadError",sp("language",n,o))},Xx=(e,n,o)=>{Q_(e,"ThemeLoadError",sp("theme",n,o))},K4=(e,n,o)=>{Q_(e,"ModelLoadError",sp("model",n,o))},X4=(e,n,o)=>{const r=zu.translate(["Failed to initialize plugin: {0}",n]);jC(e,"PluginLoadError",{message:r}),rS(r,o),X_(e,r)},rS=(e,...n)=>{const o=window.console;o&&(o.error?o.error(e,...n):o.log(e,...n))},Q4=e=>/^[a-z0-9\-]+$/i.test(e),P1=e=>xf(e,Hv(e)),bb=e=>xf(e,$g(e)),xf=(e,n)=>{const o=e.editorManager.baseURL+"/skins/content",l=`content${e.editorManager.suffix}.css`;return qt(n,f=>Q4(f)&&!e.inline?`${o}/${f}/${l}`:e.documentBaseURI.toAbsolute(f))},OV=e=>{e.contentCSS=e.contentCSS.concat(P1(e),bb(e))},RV=e=>e?pr(e.getElementsByTagName("img")):[],IV=(e,n)=>{const o={};return{findAll:(l,f=At)=>{const v=En(RV(l),A=>{const L=A.src;return A.hasAttribute("data-mce-bogus")||A.hasAttribute("data-mce-placeholder")||!L||L===jo.transparentSrc?!1:vi(L,"blob:")?!e.isUploaded(L)&&f(A):vi(L,"data:")?f(A):!1}),T=qt(v,A=>{const L=A.src;if(zn(o,L))return o[L].then(q=>ne(q)?q:{image:A,blobInfo:q.blobInfo});{const q=NL(n,L).then(Z=>(delete o[L],{image:A,blobInfo:Z})).catch(Z=>(delete o[L],Z));return o[L]=q,q}});return Promise.all(T)}}},J4=()=>{let o={};const r=(te,we)=>({status:te,resultUri:we}),l=te=>te in o;return{hasBlobUri:l,getResultUri:te=>{const we=o[te];return we?we.resultUri:null},isPending:te=>l(te)?o[te].status===1:!1,isUploaded:te=>l(te)?o[te].status===2:!1,markPending:te=>{o[te]=r(1,null)},markUploaded:(te,we)=>{o[te]=r(2,we)},removeFailed:te=>{delete o[te]},destroy:()=>{o={}}}};let DV=0;const MV=()=>{const e=()=>Math.round(Math.random()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},kV=e=>e+DV+++MV(),NV=()=>{let e=[];const n=Z=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[Z.toLowerCase()]||"dat",o=(Z,te,we,Se,ue)=>{if(ne(Z))return r({id:Z,name:Se,filename:ue,blob:te,base64:we});if(Le(Z))return r(Z);throw new Error("Unknown input type")},r=Z=>{if(!Z.blob||!Z.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const te=Z.id||kV("blobid"),we=Z.name||te,Se=Z.blob;return{id:Xe(te),name:Xe(we),filename:Xe(Z.filename||we+"."+n(Se.type)),blob:Xe(Se),base64:Xe(Z.base64),blobUri:Xe(Z.blobUri||URL.createObjectURL(Se)),uri:Xe(Z.uri)}},l=Z=>{v(Z.id())||e.push(Z)},f=Z=>gs(e,Z).getOrUndefined(),v=Z=>f(te=>te.id()===Z);return{create:o,add:l,get:v,getByUri:Z=>f(te=>te.blobUri()===Z),getByData:(Z,te)=>f(we=>we.base64()===Z&&we.blob().type===te),findFirst:f,removeByUri:Z=>{e=En(e,te=>te.blobUri()===Z?(URL.revokeObjectURL(te.blobUri()),!1):!0)},destroy:()=>{lt(e,Z=>{URL.revokeObjectURL(Z.blobUri())}),e=[]}}},PV=(e,n)=>{const o={},r=(ue,Ce)=>ue?ue.replace(/\/$/,"")+"/"+Ce.replace(/^\//,""):Ce,l=(ue,Ce)=>new Promise((Be,Ie)=>{const Ue=new XMLHttpRequest;Ue.open("POST",n.url),Ue.withCredentials=n.credentials,Ue.upload.onprogress=yt=>{Ce(yt.loaded/yt.total*100)},Ue.onerror=()=>{Ie("Image upload failed due to a XHR Transport error. Code: "+Ue.status)},Ue.onload=()=>{if(Ue.status<200||Ue.status>=300){Ie("HTTP Error: "+Ue.status);return}const yt=JSON.parse(Ue.responseText);if(!yt||!ne(yt.location)){Ie("Invalid JSON: "+Ue.responseText);return}Be(r(n.basePath,yt.location))};const et=new FormData;et.append("file",ue.blob(),ue.filename()),Ue.send(et)}),f=he(n.handler)?n.handler:l,v=()=>new Promise(ue=>{ue([])}),T=(ue,Ce)=>({url:Ce,blobInfo:ue,status:!0}),A=(ue,Ce)=>({url:"",blobInfo:ue,status:!1,error:Ce}),L=(ue,Ce)=>{me.each(o[ue],Be=>{Be(Ce)}),delete o[ue]},q=(ue,Ce,Be)=>(e.markPending(ue.blobUri()),new Promise(Ie=>{let Ue,et;try{const yt=()=>{Ue&&(Ue.close(),et=Ct)},Yt=at=>{yt(),e.markUploaded(ue.blobUri(),at),L(ue.blobUri(),T(ue,at)),Ie(T(ue,at))},Ft=at=>{yt(),e.removeFailed(ue.blobUri()),L(ue.blobUri(),A(ue,at)),Ie(A(ue,at))};et=at=>{at<0||at>100||ee.from(Ue).orThunk(()=>ee.from(Be).map(Jn)).each(it=>{Ue=it,it.progressBar.value(at)})},Ce(ue,et).then(Yt,at=>{Ft(ne(at)?{message:at}:at)})}catch(yt){Ie(A(ue,yt))}})),Z=ue=>ue===l,te=ue=>{const Ce=ue.blobUri();return new Promise(Be=>{o[Ce]=o[Ce]||[],o[Ce].push(Be)})},we=(ue,Ce)=>(ue=me.grep(ue,Be=>!e.isUploaded(Be.blobUri())),Promise.all(me.map(ue,Be=>e.isPending(Be.blobUri())?te(Be):q(Be,f,Ce))));return{upload:(ue,Ce)=>!n.url&&Z(f)?v():we(ue,Ce)}},e3=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),t3=(e,n)=>PV(n,{url:dh(e),basePath:FE(e),credentials:Fv(e),handler:_f(e)}),LV=e=>{const n=J4(),o=t3(e,n);return{upload:(r,l=!0)=>o.upload(r,l?e3(e):void 0)}},yD=e=>{const n=NV();let o,r;const l=J4(),f=[],v=Ue=>et=>e.selection?Ue(et):[],T=Ue=>Ue+(Ue.indexOf("?")===-1?"?":"&")+new Date().getTime(),A=(Ue,et,yt)=>{let Yt=0;do Yt=Ue.indexOf(et,Yt),Yt!==-1&&(Ue=Ue.substring(0,Yt)+yt+Ue.substr(Yt+et.length),Yt+=yt.length-et.length+1);while(Yt!==-1);return Ue},L=(Ue,et,yt)=>{const Yt=`src="${yt}"${yt===jo.transparentSrc?' data-mce-placeholder="1"':""}`;return Ue=A(Ue,`src="${et}"`,Yt),Ue=A(Ue,'data-mce-src="'+et+'"','data-mce-src="'+yt+'"'),Ue},q=(Ue,et)=>{lt(e.undoManager.data,yt=>{yt.type==="fragmented"?yt.fragments=qt(yt.fragments,Yt=>L(Yt,Ue,et)):yt.content=L(yt.content,Ue,et)})},Z=(Ue,et)=>{const yt=e.convertURL(et,"src");q(Ue.src,et),Lr(xe.fromDom(Ue),{src:Xa(e)?T(et):et,"data-mce-src":yt})},te=()=>(o||(o=t3(e,l)),Ce().then(v(Ue=>{const et=qt(Ue,yt=>yt.blobInfo);return o.upload(et,e3(e)).then(v(yt=>{const Yt=[];let Ft=!1;const at=qt(yt,(it,ln)=>{const{blobInfo:xn,image:Bn}=Ue[ln];let ho=!1;return it.status&&eC(e)?(it.url&&!ti(Bn.src,it.url)&&(Ft=!0),n.removeByUri(Bn.src),ep(e)||Z(Bn,it.url)):it.error&&(it.error.remove&&(q(Bn.src,jo.transparentSrc),Yt.push(Bn),ho=!0),Z4(e,it.error.message)),{element:Bn,status:it.status,uploadUri:it.url,blobInfo:xn,removed:ho}});return Yt.length>0&&!ep(e)?e.undoManager.transact(()=>{lt(Yt,it=>{e.dom.remove(it),n.removeByUri(it.src)})}):Ft&&e.undoManager.dispatchChange(),at}))}))),we=()=>Dc(e)?te():Promise.resolve([]),Se=Ue=>tr(f,et=>et(Ue)),ue=Ue=>{f.push(Ue)},Ce=()=>(r||(r=IV(l,n)),r.findAll(e.getBody(),Se).then(v(Ue=>{const et=En(Ue,yt=>ne(yt)?(X_(e,yt),!1):!0);return ep(e)||lt(et,yt=>{q(yt.image.src,yt.blobInfo.blobUri()),yt.image.src=yt.blobInfo.blobUri(),yt.image.removeAttribute("data-mce-src")}),et}))),Be=()=>{n.destroy(),l.destroy(),r=o=null},Ie=Ue=>Ue.replace(/src="(blob:[^"]+)"/g,(et,yt)=>{const Yt=l.getResultUri(yt);if(Yt)return'src="'+Yt+'"';let Ft=n.getByUri(yt);return Ft||(Ft=Os(e.editorManager.get(),(at,it)=>at||it.editorUpload&&it.editorUpload.blobCache.getByUri(yt),void 0)),Ft?'src="data:'+Ft.blob().type+";base64,"+Ft.base64()+'"':et});return e.on("SetContent",()=>{Dc(e)?we():Ce()}),e.on("RawSaveContent",Ue=>{Ue.content=Ie(Ue.content)}),e.on("GetContent",Ue=>{Ue.source_view||Ue.format==="raw"||Ue.format==="tree"||(Ue.content=Ie(Ue.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",Ue=>{lt(Ue,et=>{const yt=et.attr("src");if(!yt||n.getByUri(yt))return;const Yt=l.getResultUri(yt);Yt&&et.attr("src",Yt)})})}),{blobCache:n,addFilter:ue,uploadImages:te,uploadImagesAuto:we,scanForImages:Ce,destroy:Be}},ED=e=>{const n=e.dom,o=e.schema.type,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:l=>{n.setStyle(l,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:l=>{n.setStyle(l,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const l={inline:"span",styles:{textDecoration:"line-through"},exact:!0},f={inline:"strike",remove:"all",preserve_attributes:["class","style"]},v={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[v,l,f]:[l,v,f]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(l,f,v)=>Xt(l)&&l.hasAttribute("href"),onformat:(l,f,v)=>{me.each(v,(T,A)=>{n.setAttrib(l,A,T)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":l=>{var f;return(f=l==null?void 0:l.customValue)!==null&&f!==void 0?f:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return me.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),l=>{r[l]={block:l,remove:"all"}}),r},_D={remove_similar:!0,inherit:!1},J_={selector:"td,th",..._D},BV={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...J_},tablecellverticalalign:{styles:{"vertical-align":"%value"},...J_},tablecellbordercolor:{styles:{borderColor:"%value"},...J_},tablecellclass:{classes:["%value"],...J_},tableclass:{selector:"table",classes:["%value"],..._D},tablecellborderstyle:{styles:{borderStyle:"%value"},...J_},tablecellborderwidth:{styles:{borderWidth:"%value"},...J_}},n3=Xe(BV),o3=e=>{const n={},o=v=>Pe(v)?n[v]:n,r=v=>zn(n,v),l=(v,T)=>{v&&(ne(v)?($(T)||(T=[T]),lt(T,A=>{mt(A.deep)&&(A.deep=!yl(A)),mt(A.split)&&(A.split=!yl(A)||Fi(A)),mt(A.remove)&&yl(A)&&!Fi(A)&&(A.remove="none"),yl(A)&&Fi(A)&&(A.mixed=!0,A.block_expand=!0),ne(A.classes)&&(A.classes=A.classes.split(/\s+/))}),n[v]=T):nn(v,(A,L)=>{l(L,A)}))},f=v=>(v&&n[v]&&delete n[v],n);return l(ED(e)),l(n3()),l(Qa(e)),{get:o,has:r,register:l,unregister:f}},ew=me.each,Vd=zs.DOM,Qx=e=>Pe(e)&&Le(e),Jx=(e,n)=>{const o=n&&n.schema||hl({}),r=(A,L)=>{L.classes.length>0&&Vd.addClass(A,L.classes.join(" ")),Vd.setAttribs(A,L.attrs)},l=A=>{const L=ne(A)?{name:A,classes:[],attrs:{}}:A,q=Vd.create(L.name);return r(q,L),q},f=(A,L)=>{const q=o.getElementRule(A.nodeName.toLowerCase()),Z=q==null?void 0:q.parentsRequired;return Z&&Z.length?L&&Dn(Z,L)?L:Z[0]:!1},v=(A,L,q)=>{let Z;const te=L[0],we=Qx(te)?te.name:void 0,Se=f(A,we);if(Se)we===Se?(Z=te,L=L.slice(1)):Z=Se;else if(te)Z=te,L=L.slice(1);else if(!q)return A;const ue=Z?l(Z):Vd.create("div");ue.appendChild(A),q&&me.each(q,Be=>{const Ie=l(Be);ue.insertBefore(Ie,A)});const Ce=Qx(Z)?Z.siblings:void 0;return v(ue,L,Ce)},T=Vd.create("div");if(e.length>0){const A=e[0],L=l(A),q=Qx(A)?A.siblings:void 0;T.appendChild(v(L,e.slice(1),q))}return T},$V=e=>{e=me.trim(e);let n="div";const o={name:n,classes:[],attrs:{},selector:e};return e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(r,l,f,v,T)=>{switch(l){case"#":o.attrs.id=f;break;case".":o.classes.push(f);break;case":":me.inArray("checked disabled enabled read-only required".split(" "),f)!==-1&&(o.attrs[f]=f);break}if(v==="["){const A=T.match(/([\w\-]+)(?:\=\"([^\"]+))?/);A&&(o.attrs[A[1]]=A[2])}return""})),o.name=n||"div",o},FV=e=>ne(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),me.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),n=>{const o=me.map(n.split(/(?:~\+|~|\+)/),$V),r=o.pop();return o.length&&(r.siblings=o),r}).reverse()):[],rp=(e,n)=>{let o="",r=c1(e);if(r==="")return"";const l=te=>ne(te)?te.replace(/%(\w+)/g,""):"",f=(te,we)=>Vd.getStyle(we??e.getBody(),te,!0);if(ne(n)){const te=e.formatter.get(n);if(!te)return"";n=te[0]}if("preview"in n){const te=n.preview;if(te===!1)return"";r=te||r}let v=n.block||n.inline||"span",T;const A=FV(n.selector);A.length>0?(A[0].name||(A[0].name=v),v=n.selector,T=Jx(A,e)):T=Jx([v],e);const L=Vd.select(v,T)[0]||T.firstChild;ew(n.styles,(te,we)=>{const Se=l(te);Se&&Vd.setStyle(L,we,Se)}),ew(n.attributes,(te,we)=>{const Se=l(te);Se&&Vd.setAttrib(L,we,Se)}),ew(n.classes,te=>{const we=l(te);Vd.hasClass(L,we)||Vd.addClass(L,we)}),e.dispatch("PreviewFormats"),Vd.setStyles(T,{position:"absolute",left:-65535}),e.getBody().appendChild(T);const q=f("fontSize"),Z=/px$/.test(q)?parseInt(q,10):0;return ew(r.split(" "),te=>{let we=f(te,L);if(!(te==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(we)&&(we=f(te),Yv(we).toLowerCase()==="#ffffff"))&&!(te==="color"&&Yv(we).toLowerCase()==="#000000")){if(te==="font-size"&&/em|%$/.test(we)){if(Z===0)return;we=parseFloat(we)/(/%$/.test(we)?100:1)*Z+"px"}te==="border"&&we&&(o+="padding:0 2px;"),o+=te+":"+we+";"}}),e.dispatch("AfterPreviewFormats"),Vd.remove(T),o},Ah=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},iS=e=>{const n=o3(e),o=ci({});return Ah(e),E8(e),ep(e)||N8(o,e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:(r,l,f)=>{j7(e,r,l,f)},remove:(r,l,f,v)=>{Y7(e,r,l,f,v)},toggle:(r,l,f)=>{K7(e,r,l,f)},match:(r,l,f,v)=>Z7(e,r,l,f,v),closest:r=>O4(e,r),matchAll:(r,l)=>q7(e,r,l),matchNode:(r,l,f,v)=>JT(e,r,l,f,v),canApply:r=>A4(e,r),formatChanged:(r,l,f,v)=>R4(e,o,r,l,f,v),getCssText:Ve(rp,e)}},wD=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},eA=(e,n,o)=>{const r=ci(!1),l=A=>{Cu(n,!1,o),n.add({},A)};e.on("init",()=>{n.add()}),e.on("BeforeExecCommand",A=>{const L=A.command;wD(L)||(y4(n,o),n.beforeChange())}),e.on("ExecCommand",A=>{const L=A.command;wD(L)||l(A)}),e.on("ObjectResizeStart cut",()=>{n.beforeChange()}),e.on("SaveContent ObjectResized blur",l),e.on("dragend",l),e.on("keyup",A=>{const L=A.keyCode;A.isDefaultPrevented()||((L>=33&&L<=36||L>=37&&L<=40||L===45||A.ctrlKey)&&(l(),e.nodeChanged()),(L===46||L===8)&&e.nodeChanged(),r.get()&&n.typing&&!cD(KT(e),n.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),r.set(!1),e.nodeChanged()))}),e.on("keydown",A=>{const L=A.keyCode;if(A.isDefaultPrevented())return;if(L>=33&&L<=36||L>=37&&L<=40||L===45){n.typing&&l(A);return}const q=A.ctrlKey&&!A.altKey||A.metaKey;(L<16||L>20)&&L!==224&&L!==91&&!n.typing&&!q&&(n.beforeChange(),Cu(n,!0,o),n.add({},A),r.set(!0))}),e.on("mousedown",A=>{n.typing&&l(A)});const f=A=>A.inputType==="insertReplacementText",v=A=>A.inputType==="insertText"&&A.data===null,T=A=>A.inputType==="insertFromPaste"||A.inputType==="insertFromDrop";e.on("input",A=>{A.inputType&&(f(A)||v(A)||T(A))&&l(A)}),e.on("AddUndo Undo Redo ClearUndos",A=>{A.isDefaultPrevented()||e.nodeChanged()})},s3=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},CD=e=>{const n=Ci(),o=ci(0),r=ci(0),l={data:[],typing:!1,beforeChange:()=>{zx(e,o,n)},add:(f,v)=>QT(e,l,r,o,n,f,v),dispatchChange:()=>{e.setDirty(!0);const f=KT(e);f.bookmark=Li(e.selection),e.dispatch("change",{level:f,lastLevel:xl(l.data,r.get()).getOrUndefined()})},undo:()=>C4(e,l,o,r),redo:()=>T4(e,r,l.data),clear:()=>{V7(e,l,r)},reset:()=>{S4(e,l)},hasUndo:()=>U7(e,l,r),hasRedo:()=>z7(e,l,r),transact:f=>W7(e,l,o,f),ignore:f=>{G7(e,o,f)},extra:(f,v)=>{x4(e,l,r,f,v)}};return ep(e)||eA(e,l,o),s3(e),l},r3=[9,27,gn.HOME,gn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,gn.DOWN,gn.UP,gn.LEFT,gn.RIGHT].concat(jo.browser.isFirefox()?[224]:[]),TD="data-mce-placeholder",SD=e=>e.type==="keydown"||e.type==="keyup",xD=e=>{const n=e.keyCode;return n===gn.BACKSPACE||n===gn.DELETE},tA=e=>{if(SD(e)){const n=e.keyCode;return!xD(e)&&(gn.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||Dn(r3,n))}else return!1},AD=e=>SD(e)&&!(xD(e)||e.type==="keyup"&&e.keyCode===229),HV=(e,n,o)=>{if(xs(xe.fromDom(n),!1)){const r=n.firstElementChild;return r?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:o===r.nodeName.toLowerCase():!0}else return!1},VV=e=>{var n;const o=e.dom,r=zl(e),l=(n=_0(e))!==null&&n!==void 0?n:"",f=(v,T)=>{if(tA(v))return;const A=e.getBody(),L=AD(v)?!1:HV(o,A,r);(o.getAttrib(A,TD)!==""!==L||T)&&(o.setAttrib(A,TD,L?l:null),o.setAttrib(A,"aria-placeholder",L?l:null),Eh(e,L),e.on(L?"keydown":"keyup",f),e.off(L?"keyup":"keydown",f))};Es(l)&&e.on("init",v=>{f(v,!0),e.on("change SetContent ExecCommand",f),e.on("paste",T=>Ju.setEditorTimeout(e,()=>f(T)))})},UV=(e,n)=>({block:e,position:n}),zV=(e,n)=>({from:e,to:n}),nA=(e,n)=>{const o=xe.fromDom(e),r=xe.fromDom(n.container());return nx(o,r).map(l=>UV(l,n))},WV=e=>!zo(e.from.block,e.to.block),i3=(e,n)=>Wo(n,l=>Ga(l)||Go(l.dom),l=>zo(l,e)).filter(Jo).getOr(e),OD=(e,n)=>{const o=xe.fromDom(e);return zo(i3(o,n.from.block),i3(o,n.to.block))},GV=e=>es(e.from.block.dom)===!1&&es(e.to.block.dom)===!1,ZV=e=>{const n=o=>qe(o)||Fl(o.dom);return n(e.from.block)&&n(e.to.block)},qV=(e,n,o)=>wr(o.position.getNode())&&!xs(o.block)?Xo(!1,o.block.dom).bind(r=>r.isEqual(o.position)?wo(n,e,r).bind(l=>nA(e,l)):ee.some(o)).getOr(o):o,jV=(e,n,o)=>{const r=nA(e,ze.fromRangeStart(o)),l=r.bind(f=>wo(n,e,f.position).bind(v=>nA(e,v).map(T=>qV(e,n,T))));return pt(r,l,zV).filter(f=>WV(f)&&OD(e,f)&&GV(f)&&ZV(f))},YV=(e,n,o)=>o.collapsed?jV(e,n,o):ee.none(),KV=e=>{const n=Fe(e);return Tr(n,xa).fold(Xe(n),o=>n.slice(0,o))},a3=e=>{const n=KV(e);return lt(n,_r),n},aS=(e,n)=>{const o=R1(n,e);return gs(o.reverse(),r=>xs(r)).each(_r)},RD=e=>En(_e(e),n=>!xs(n)).length===0,XV=(e,n,o,r)=>{if(xs(o))return vg(o),Dr(o.dom);RD(r)&&xs(n)&&ss(r,xe.fromTag("br"));const l=Fr(o.dom,ze.before(r.dom));return lt(a3(n),f=>{ss(r,f)}),aS(e,n),l},QV=(e,n,o)=>{if(xs(o)){if(xs(n)){const f=Wr((v=>{const T=(A,L)=>st(A).fold(()=>L,q=>Aa(q)?T(q,L.concat(fm(q))):L);return T(v,[])})(o),(v,T)=>(kp(v,T),T),Pn());Xs(n),Er(n,f)}return _r(o),Dr(n.dom)}const r=Or(o.dom);return lt(a3(n),l=>{Er(o,l)}),aS(e,n),r},JV=(e,n)=>{const o=R1(n,e);return ee.from(o[o.length-1])},eU=(e,n)=>Qe(n,e)?JV(n,e):ee.none(),ID=(e,n)=>{Xo(e,n.dom).bind(o=>ee.from(o.getNode())).map(xe.fromDom).filter(sf).each(_r)},c3=(e,n,o)=>(ID(!0,n),ID(!1,o),eU(n,o).fold(Ve(QV,e,n,o),Ve(XV,e,n,o))),l3=(e,n,o,r)=>n?c3(e,r,o):c3(e,o,r),cS=(e,n)=>{const o=xe.fromDom(e.getBody());return YV(o.dom,n,e.selection.getRng()).map(l=>()=>{l3(o,n,l.from.block,l.to.block).each(f=>{e.selection.setRng(f.toRange())})})},tU=(e,n)=>{const o=n.getRng();return pt(nx(e,xe.fromDom(o.startContainer)),nx(e,xe.fromDom(o.endContainer)),(r,l)=>zo(r,l)?ee.none():ee.some(()=>{o.deleteContents(),l3(e,!0,r,l).each(f=>{n.setRng(f.toRange())})})).getOr(ee.none())},u3=(e,n)=>{const o=xe.fromDom(n),r=Ve(zo,e);return Ds(o,Ga,r).isSome()},nU=(e,n)=>u3(e,n.startContainer)||u3(e,n.endContainer),oU=(e,n)=>{const o=Fr(e.dom,ze.fromRangeStart(n)).isNone(),r=$r(e.dom,ze.fromRangeEnd(n)).isNone();return!nU(e,n)&&o&&r},sU=e=>ee.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),rU=e=>{const n=xe.fromDom(e.getBody()),o=e.selection.getRng();return oU(n,o)?sU(e):tU(n,e.selection)},DD=(e,n)=>e.selection.isCollapsed()?ee.none():rU(e),Oh=(e,n,o,r,l)=>ee.from(n._selectionOverrides.showCaret(e,o,r,l)),oA=e=>{const n=e.ownerDocument.createRange();return n.selectNode(e),n},lS=(e,n)=>e.dispatch("BeforeObjectSelected",{target:n}).isDefaultPrevented()?ee.none():ee.some(oA(n)),iU=(e,n,o)=>{const r=Om(1,e.getBody(),n),l=ze.fromRangeStart(r),f=l.getNode();if(h1(f))return Oh(1,e,f,!l.isAtEnd(),!1);const v=l.getNode(!0);if(h1(v))return Oh(1,e,v,!1,!1);const T=Qg(e.dom.getRoot(),l.getNode());return h1(T)?Oh(1,e,T,!1,o):ee.none()},tw=(e,n,o)=>n.collapsed?iU(e,n,o).getOr(n):n,aU=e=>iy(e)||bT(e),cU=e=>cb(e)||to(e),lU=(e,n)=>{Pt(n)&&n.data.length===0&&e.remove(n)},d3=(e,n,o,r,l,f)=>{Oh(r,e,f.getNode(!l),l,!0).each(v=>{if(n.collapsed){const T=n.cloneRange();l?T.setEnd(v.startContainer,v.startOffset):T.setStart(v.endContainer,v.endOffset),T.deleteContents()}else n.deleteContents();e.selection.setRng(v)}),lU(e.dom,o)},uU=(e,n)=>{const o=e.selection.getRng();if(!Pt(o.commonAncestorContainer))return ee.none();const r=n?$i.Forwards:$i.Backwards,l=He(e.getBody()),f=Ve(V0,n?l.next:l.prev),v=n?aU:cU,T=Ug(r,e.getBody(),o),A=f(T),L=A&&Oo(n,A);if(!L||!zg(T,L))return ee.none();if(v(L))return ee.some(()=>d3(e,o,T.getNode(),r,n,L));const q=f(L);return q&&v(q)&&zg(L,q)?ee.some(()=>d3(e,o,T.getNode(),r,n,q)):ee.none()},MD=(e,n)=>uU(e,n),kD=(e,n)=>{const o=e.getBody();return n?Dr(o).filter(iy):Or(o).filter(cb)},ND=e=>{const n=e.selection.getRng();return!n.collapsed&&(kD(e,!0).exists(o=>o.isEqual(ze.fromRangeStart(n)))||kD(e,!1).exists(o=>o.isEqual(ze.fromRangeEnd(n))))},dU=e=>Pe(e)&&(Ga(xe.fromDom(e))||Xh(xe.fromDom(e))),Ud=yu.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),fU=(e,n)=>{const o=n.getNode(!e),r=e?"after":"before";return Xt(o)&&o.getAttribute("data-mce-caret")===r},QY=(e,n,o,r)=>{const l=f=>Aa(xe.fromDom(f))&&!bl(o,r,e);return b2(!n,o).fold(()=>b2(n,r).fold(je,l),l)},Af=(e,n,o,r)=>{const l=r.getNode(!n);return nx(xe.fromDom(e),xe.fromDom(o.getNode())).map(f=>xs(f)?Ud.remove(f.dom):Ud.moveToElement(l)).orThunk(()=>ee.some(Ud.moveToElement(l)))},sA=(e,n,o)=>wo(n,e,o).bind(r=>dU(r.getNode())||QY(e,n,o,r)?ee.none():n&&es(r.getNode())||!n&&es(r.getNode(!0))?Af(e,n,o,r):n&&cb(o)||!n&&iy(o)?ee.some(Ud.moveToPosition(r)):ee.none()),f3=(e,n)=>xt(n)?ee.none():e&&es(n.nextSibling)?ee.some(Ud.moveToElement(n.nextSibling)):!e&&es(n.previousSibling)?ee.some(Ud.moveToElement(n.previousSibling)):ee.none(),h3=(e,n,o)=>o.fold(r=>ee.some(Ud.remove(r)),r=>ee.some(Ud.moveToElement(r)),r=>bl(n,r,e)?ee.none():ee.some(Ud.moveToPosition(r))),hU=(e,n,o)=>fU(n,o)?f3(n,o.getNode(!n)).orThunk(()=>sA(e,n,o)):sA(e,n,o).bind(r=>h3(e,o,r)),m3=(e,n,o)=>{const r=Om(n?1:-1,e,o),l=ze.fromRangeStart(r),f=xe.fromDom(e);return!n&&cb(l)?ee.some(Ud.remove(l.getNode(!0))):n&&iy(l)?ee.some(Ud.remove(l.getNode())):!n&&iy(l)&&ZN(f,l)?NY(f,l).map(v=>Ud.remove(v.getNode())):n&&cb(l)&&YR(f,l)?M6(f,l).map(v=>Ud.remove(v.getNode())):hU(e,n,l)},mU=(e,n)=>o=>(e._selectionOverrides.hideFakeCaret(),cy(e,n,xe.fromDom(o)),!0),g3=(e,n)=>o=>{const r=n?ze.before(o):ze.after(o);return e.selection.setRng(r.toRange()),!0},gU=e=>n=>(e.selection.setRng(n.toRange()),!0),p3=(e,n)=>ee.from(Qg(e.getBody(),n)),pU=(e,n)=>{const o=e.selection.getNode();return p3(e,o).filter(es).fold(()=>m3(e.getBody(),n,e.selection.getRng()).map(r=>()=>r.fold(mU(e,n),g3(e,n),gU(e))),()=>ee.some(Ct))},nw=e=>{lt(Ta(e,".mce-offscreen-selection"),_r)},v3=(e,n)=>{const o=e.selection.getNode();return es(o)&&!Zr(o)?p3(e,o.parentNode).filter(es).fold(()=>ee.some(()=>{nw(xe.fromDom(e.getBody())),cy(e,n,xe.fromDom(e.selection.getNode())),wT(e)}),()=>ee.some(Ct)):ND(e)?ee.some(()=>{gP(e,e.selection.getRng(),xe.fromDom(e.getBody()))}):ee.none()},PD=e=>{const n=e.dom,o=e.selection,r=Qg(e.getBody(),o.getNode());if(Go(r)&&n.isBlock(r)&&n.isEmpty(r)){const l=n.create("br",{"data-mce-bogus":"1"});n.setHTML(r,""),r.appendChild(l),o.setRng(ze.before(l).toRange())}return!0},rA=(e,n)=>e.selection.isCollapsed()?pU(e,n):v3(e,n),LD=(e,n)=>{const o=ze.fromRangeStart(e.selection.getRng());return wo(n,e.getBody(),o).filter(r=>n?A6(r):Kn(r)).bind(r=>jv(n?0:-1,r)).map(r=>()=>e.selection.select(r))},BD=(e,n)=>e.selection.isCollapsed()?LD(e,n):ee.none(),ow=Pt,b3=e=>ow(e)&&e.data[0]===Ki,vU=e=>ow(e)&&e.data[e.data.length-1]===Ki,bU=e=>{var n;return((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(Ki)},JY=e=>{var n;if(ow(e.previousSibling))return vU(e.previousSibling)||e.previousSibling.appendData(Ki),e.previousSibling;if(ow(e))return b3(e)||e.insertData(0,Ki),e;{const o=bU(e);return(n=e.parentNode)===null||n===void 0||n.insertBefore(o,e),o}},Rh=e=>{var n,o;if(ow(e.nextSibling))return b3(e.nextSibling)||e.nextSibling.insertData(0,Ki),e.nextSibling;if(ow(e))return vU(e)||e.appendData(Ki),e;{const r=bU(e);return e.nextSibling?(n=e.parentNode)===null||n===void 0||n.insertBefore(r,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(r),r}},iA=(e,n)=>e?JY(n):Rh(n),yU=Ve(iA,!0),y3=Ve(iA,!1),aA=(e,n)=>Pt(e.container())?iA(n,e.container()):iA(n,e.getNode()),EU=(e,n)=>{const o=n.get();return o&&e.container()===o&&Za(o)},E3=(e,n)=>n.fold(o=>{Cm(e.get());const r=yU(o);return e.set(r),ee.some(ze(r,r.length-1))},o=>Dr(o).map(r=>{if(EU(r,e)){const l=e.get();return ze(l,1)}else{Cm(e.get());const l=aA(r,!0);return e.set(l),ze(l,1)}}),o=>Or(o).map(r=>{if(EU(r,e)){const l=e.get();return ze(l,l.length-1)}else{Cm(e.get());const l=aA(r,!1);return e.set(l),ze(l,l.length-1)}}),o=>{Cm(e.get());const r=y3(o);return e.set(r),ee.some(ze(r,1))}),_U=(e,n)=>{for(let o=0;o<e.length;o++){const r=e[o].apply(null,n);if(r.isSome())return r}return ee.none()},Qr=yu.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),_3=(e,n)=>{const o=fi(n,e);return o||e},wU=(e,n,o)=>{const r=Fd(o),l=_3(n,r.container());return Fm(e,l,r).fold(()=>$r(l,r).bind(Ve(Fm,e,l)).map(f=>Qr.before(f)),ee.none)},CU=(e,n)=>Nd(e,n)===null,w3=(e,n,o)=>Fm(e,n,o).filter(Ve(CU,n)),TU=(e,n,o)=>{const r=dP(o);return w3(e,n,r).bind(l=>Fr(l,r).isNone()?ee.some(Qr.start(l)):ee.none())},SU=(e,n,o)=>{const r=Fd(o);return w3(e,n,r).bind(l=>$r(l,r).isNone()?ee.some(Qr.end(l)):ee.none())},xy=(e,n,o)=>{const r=dP(o),l=_3(n,r.container());return Fm(e,l,r).fold(()=>Fr(l,r).bind(Ve(Fm,e,l)).map(f=>Qr.after(f)),ee.none)},C3=e=>!K6($D(e)),ip=(e,n,o)=>_U([wU,TU,SU,xy],[e,n,o]).filter(C3),$D=e=>e.fold(Vt,Vt,Vt,Vt),cA=e=>e.fold(Xe("before"),Xe("start"),Xe("end"),Xe("after")),sw=e=>e.fold(Qr.before,Qr.before,Qr.after,Qr.after),lA=e=>e.fold(Qr.start,Qr.start,Qr.end,Qr.end),T3=(e,n)=>cA(e)===cA(n)&&$D(e)===$D(n),S3=(e,n,o,r,l,f)=>pt(Fm(n,o,r),Fm(n,o,l),(v,T)=>v!==T&&PY(o,v,T)?Qr.after(e?v:T):f).getOr(f),xU=(e,n)=>e.fold(At,o=>!T3(o,n)),uS=(e,n,o,r,l)=>{const f=Oo(e,l);return wo(e,o,f).map(Ve(Oo,e)).fold(()=>r.map(sw),A=>ip(n,o,A).map(Ve(S3,e,n,o,f,A)).filter(Ve(xU,r))).filter(C3)},AU=(e,n)=>e?n.fold(P(ee.some,Qr.start),ee.none,P(ee.some,Qr.after),ee.none):n.fold(ee.none,P(ee.some,Qr.before),ee.none,P(ee.some,Qr.end)),OU=(e,n,o,r)=>{const l=Oo(e,r),f=ip(n,o,l);return ip(n,o,l).bind(Ve(AU,e)).orThunk(()=>uS(e,n,o,f,r))},RU=e=>he(e.selection.getSel().modify),x3=(e,n,o)=>{const r=e?1:-1;return n.setRng(ze(o.container(),o.offset()+r).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},IU=(e,n)=>{const o=n.selection.getRng(),r=e?ze.fromRangeEnd(o):ze.fromRangeStart(o);return RU(n)?e&&Hu(r)?x3(!0,n.selection,r):!e&&Lp(r)?x3(!1,n.selection,r):!1:!1};var ap;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(ap||(ap={}));const uA=(e,n)=>e===$i.Backwards?js(n):n,A3=(e,n,o)=>e===$i.Forwards?n.next(o):n.prev(o),DU=(e,n,o,r)=>wr(r.getNode(n===$i.Forwards))?ap.Br:bl(o,r)===!1?ap.Block:ap.Wrap,yb=(e,n,o,r)=>{const l=He(o);let f=r;const v=[];for(;f;){const T=A3(n,l,f);if(!T)break;if(wr(T.getNode(!1)))return n===$i.Forwards?{positions:uA(n,v).concat([T]),breakType:ap.Br,breakAt:ee.some(T)}:{positions:uA(n,v),breakType:ap.Br,breakAt:ee.some(T)};if(!T.isVisible()){f=T;continue}if(e(f,T)){const A=DU(o,n,f,T);return{positions:uA(n,v),breakType:A,breakAt:ee.some(T)}}v.push(T),f=T}return{positions:uA(n,v),breakType:ap.Eol,breakAt:ee.none()}},FD=(e,n,o,r)=>n(o,r).breakAt.map(l=>{const f=n(o,l).positions;return e===$i.Backwards?f.concat(l):[l].concat(f)}).getOr([]),dS=(e,n)=>Os(e,(o,r)=>o.fold(()=>ee.some(r),l=>pt(Oi(l.getClientRects()),Oi(r.getClientRects()),(f,v)=>{const T=Math.abs(n-f.left);return Math.abs(n-v.left)<=T?r:l}).or(o)),ee.none()),fS=(e,n)=>Oi(n.getClientRects()).bind(o=>dS(e,o.left)),Ay=Ve(yb,ze.isAbove,-1),Ih=Ve(yb,ze.isBelow,1),HD=Ve(FD,-1,Ay),zd=Ve(FD,1,Ih),Oy=(e,n)=>Ay(e,n).breakAt.isNone(),VD=(e,n)=>Ih(e,n).breakAt.isNone(),MU=e=>Dr(e).map(n=>[n].concat(Ih(e,n).positions)).getOr([]),O3=e=>Or(e).map(n=>Ay(e,n).positions.concat(n)).getOr([]),kU=(e,n)=>fS(HD(e,n),n),NU=(e,n)=>fS(zd(e,n),n),PU=es,R3=(e,n)=>Math.abs(e.left-n),I3=(e,n)=>Math.abs(e.right-n),D3=e=>nc(e,"node"),M3=(e,n)=>_c(e,(o,r)=>{const l=Math.min(R3(o,n),I3(o,n)),f=Math.min(R3(r,n),I3(r,n));return f===l&&D3(r)&&PU(r.node)||f<l?r:o}),LU=e=>{const n=o=>qt(o,r=>{const l=ch(r);return l.node=e,l});if(Xt(e))return n(e.getClientRects());if(Pt(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),n(o.getClientRects())}else return[]},Ry=e=>ga(e,LU);var Iy;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(Iy||(Iy={}));const k3=(e,n,o,r)=>{let l=r;for(;l=Md(l,e,wi,n);)if(o(l))return},UD=(e,n,o,r,l,f)=>{let v=0;const T=[],A=Z=>{let te=Ry([Z]);e===-1&&(te=te.reverse());for(let we=0;we<te.length;we++){const Se=te[we];if(!o(Se,L)){if(T.length>0&&n(Se,sl(T))&&v++,Se.line=v,l(Se))return!0;T.push(Se)}}return!1},L=sl(f.getClientRects());if(!L)return T;const q=f.getNode();return q&&(A(q),k3(e,r,A,q)),T},zD=(e,n)=>n.line>e,BU=(e,n)=>n.line===e,$U=Ve(UD,Iy.Up,Rc,hm),FU=Ve(UD,Iy.Down,hm,Rc),N3=e=>sl(e.getClientRects()),HU=(e,n,o,r)=>{const l=He(n);let f,v,T,A;const L=[];let q=0;e===1?(f=l.next,v=hm,T=Rc,A=ze.after(r)):(f=l.prev,v=Rc,T=hm,A=ze.before(r));const Z=N3(A);do{if(!A.isVisible())continue;const te=N3(A);if(T(te,Z))continue;L.length>0&&v(te,sl(L))&&q++;const we=ch(te);if(we.position=A,we.line=q,o(we))return L;L.push(we)}while(A=f(A));return L},P3=e=>n=>zD(e,n),WD=e=>n=>BU(e,n),cp=(e,n)=>{e.selection.setRng(n),mn(e,e.selection.getRng())},GD=(e,n,o)=>ee.some(tw(e,n,o)),L3=(e,n,o,r,l,f)=>{const v=n===$i.Forwards,T=He(e.getBody()),A=Ve(V0,v?T.next:T.prev),L=v?r:l;if(!o.collapsed){const Se=qc(o);if(f(Se))return Oh(n,e,Se,n===$i.Backwards,!1);if(ND(e)){const ue=o.cloneRange();return ue.collapse(n===$i.Backwards),ee.from(ue)}}const q=Ug(n,e.getBody(),o);if(L(q))return lS(e,q.getNode(!v));let Z=A(q);const te=uv(o);if(Z)Z=Oo(v,Z);else return te?ee.some(o):ee.none();if(L(Z))return Oh(n,e,Z.getNode(!v),v,!1);const we=A(Z);return we&&L(we)&&zg(Z,we)?Oh(n,e,we.getNode(!v),v,!1):te?GD(e,Z.toRange(),!1):ee.none()},nd=(e,n,o,r,l,f)=>{const v=Ug(n,e.getBody(),o),T=sl(v.getClientRects()),A=n===Iy.Down,L=e.getBody();if(!T)return ee.none();if(ND(e)){const Ce=A?ze.fromRangeEnd(o):ze.fromRangeStart(o);return(A?NU:kU)(L,Ce).orThunk(()=>ee.from(Ce)).map(Ie=>Ie.toRange())}const Z=(A?FU:$U)(L,P3(1),v),te=En(Z,WD(1)),we=T.left,Se=M3(te,we);if(Se&&f(Se.node)){const Ce=Math.abs(we-Se.left),Be=Math.abs(we-Se.right);return Oh(n,e,Se.node,Ce<Be,!1)}let ue;if(r(v)?ue=v.getNode():l(v)?ue=v.getNode(!0):ue=qc(o),ue){const Ce=HU(n,L,P3(1),ue);let Be=M3(En(Ce,WD(1)),we);if(Be||(Be=sl(En(Ce,WD(0))),Be))return GD(e,Be.position.toRange(),!1)}return te.length===0?ZD(e,A).filter(A?l:r).map(Ce=>tw(e,Ce.toRange(),!1)):ee.none()},ZD=(e,n)=>{const o=e.selection.getRng(),r=n?ze.fromRangeEnd(o):ze.fromRangeStart(o),l=F0(r.container(),e.getBody());if(n){const f=Ih(l,r);return Al(f.positions)}else{const f=Ay(l,r);return Oi(f.positions)}},dA=(e,n,o)=>ZD(e,n).filter(o).exists(r=>(e.selection.setRng(r.toRange()),!0)),hS=(e,n)=>{const o=e.dom.createRng();o.setStart(n.container(),n.offset()),o.setEnd(n.container(),n.offset()),e.selection.setRng(o)},fA=(e,n)=>{e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},B3=(e,n,o)=>E3(n,o).map(r=>(hS(e,r),o)),VU=(e,n,o)=>{const r=ze.fromRangeStart(e);if(e.collapsed)return r;{const l=ze.fromRangeEnd(e);return o?Fr(n,l).getOr(l):$r(n,r).getOr(r)}},UU=(e,n,o)=>{const r=e.getBody(),l=VU(e.selection.getRng(),r,o),f=Ve(uy,e);return OU(o,f,r,l).bind(T=>B3(e,n,T))},zU=(e,n,o)=>{const r=qt(Ta(xe.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),v=>v.dom),l=En(r,e),f=En(o,e);lt(qd(l,f),Ve(fA,!1)),lt(qd(f,l),Ve(fA,!0))},WU=(e,n)=>{const o=n.get();if(e.selection.isCollapsed()&&!e.composing&&o){const r=ze.fromRangeStart(e.selection.getRng());ze.isTextPosition(r)&&!vc(r)&&(hS(e,n_(o,r)),n.set(null))}},$3=(e,n,o,r)=>{if(n.selection.isCollapsed()){const l=En(r,e);lt(l,f=>{const v=ze.fromRangeStart(n.selection.getRng());ip(e,n.getBody(),v).bind(T=>B3(n,o,T))})}},F3=(e,n,o)=>Fg(e)?UU(e,n,o).isSome():!1,H3=(e,n,o)=>Fg(n)?IU(e,n):!1,mS=e=>{const n=ci(null),o=Ve(uy,e);return e.on("NodeChange",r=>{Fg(e)&&(zU(o,e.dom,r.parents),WU(e,n),$3(o,e,n,r.parents))}),n},L1=Ve(H3,!0),Dy=Ve(H3,!1),My=(e,n,o)=>{if(Fg(e)){const r=ZD(e,n).getOrThunk(()=>{const l=e.selection.getRng();return n?ze.fromRangeEnd(l):ze.fromRangeStart(l)});return ip(Ve(uy,e),e.getBody(),r).exists(l=>{const f=sw(l);return E3(o,f).exists(v=>(hS(e,v),!0))})}else return!1},qD=(e,n)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(n.container(),n.offset()),o},jD=e=>pt(Dr(e),Or(e),(n,o)=>{const r=Oo(!0,n),l=Oo(!1,o);return $r(e,r).forall(f=>f.isEqual(l))}).getOr(!0),YD=(e,n)=>o=>E3(n,o).map(r=>()=>hS(e,r)),V3=(e,n,o,r)=>{const l=e.getBody(),f=Ve(uy,e);e.undoManager.ignore(()=>{e.selection.setRng(qD(o,r)),_T(e),ip(f,l,ze.fromRangeStart(e.selection.getRng())).map(lA).bind(YD(e,n)).each(Fo)}),e.nodeChanged()},U3=(e,n)=>{const o=fi(n,e);return o||e},z3=(e,n,o,r)=>{const l=U3(e.getBody(),r.container()),f=Ve(uy,e),v=ip(f,l,r);return v.bind(A=>o?A.fold(Xe(ee.some(lA(A))),ee.none,Xe(ee.some(sw(A))),ee.none):A.fold(ee.none,Xe(ee.some(sw(A))),ee.none,Xe(ee.some(lA(A))))).map(YD(e,n)).getOrThunk(()=>{const A=Eo(o,l,r),L=A.bind(q=>ip(f,l,q));return pt(v,L,()=>Fm(f,l,r).bind(q=>jD(q)?ee.some(()=>{cy(e,o,xe.fromDom(q))}):ee.none())).getOrThunk(()=>L.bind(()=>A.map(q=>()=>{o?V3(e,n,r,q):V3(e,n,q,r)})))})},KD=(e,n,o)=>{if(e.selection.isCollapsed()&&Fg(e)){const r=ze.fromRangeStart(e.selection.getRng());return z3(e,n,o,r)}return ee.none()},GU=e=>zt(e)>1,W3=(e,n)=>{const o=xe.fromDom(e.getBody()),r=xe.fromDom(e.selection.getStart()),l=R1(r,o);return Tr(l,n).fold(Xe(l),f=>l.slice(0,f))},ZU=e=>W3(e,n=>xa(n)||GU(n)),qU=e=>W3(e,xa),G3=(e,n)=>{const o=Ve(LT,e);return ga(n,r=>o(r)?[r.dom]:[])},XD=e=>{const n=qU(e);return G3(e,n)},Z3=(e,n,o,r)=>{const l=G3(n,r);if(l.length===0)cy(n,e,o);else{const f=rL(o.dom,l);n.selection.setRng(f.toRange())}},eK=(e,n)=>{const o=ZU(e);return Al(o).bind(r=>{const l=ze.fromRangeStart(e.selection.getRng());return mP(n,l,r.dom)&&!RI(r)?ee.some(()=>Z3(n,e,r,o)):ee.none()})},tK=(e,n)=>{const o=n.parentElement;return wr(n)&&!ye(o)&&e.dom.isEmpty(o)},nK=e=>RI(xe.fromDom(e)),q3=(e,n)=>{const o=e.selection.getStart(),r=tK(e,o)||nK(o)?rL(o,n):Ch(e,n);e.selection.setRng(r.toRange())},oK=(e,n)=>{const o=qd(n,XD(e));o.length>0&&q3(e,o)},jU=e=>Pt(e.startContainer),YU=e=>e.startOffset===0&&jU(e),KU=(e,n)=>{const o=n.startContainer.parentElement;return!ye(o)&&LT(e,xe.fromDom(o))},sK=e=>{const n=e.startContainer.parentNode,o=e.endContainer.parentNode;return!ye(n)&&!ye(o)&&n.isEqualNode(o)},XU=e=>{const n=e.endContainer;return e.endOffset===(Pt(n)?n.length:n.childNodes.length)},od=e=>sK(e)&&XU(e),j3=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),gS=e=>od(e)||j3(e),QU=e=>{const n=e.selection.getRng();return YU(n)&&KU(e,n)&&gS(n)},Y3=e=>{if(QU(e)){const n=XD(e);return ee.some(()=>{_T(e),oK(e,n)})}else return ee.none()},hA=(e,n)=>e.selection.isCollapsed()?eK(e,n):Y3(e),QD=e=>eL(e,n=>As(n.dom),xa),JU=e=>QD(xe.fromDom(e.selection.getStart())),ez=e=>{const n=e.selection.getRng();return n.collapsed&&(jU(n)||e.dom.isEmpty(n.startContainer))&&!JU(e)},rw=e=>(ez(e)&&q3(e,[]),!0),JD=(e,n,o)=>Pe(o)?ee.some(()=>{e._selectionOverrides.hideFakeCaret(),cy(e,n,xe.fromDom(o))}):ee.none(),tz=(e,n)=>{const o=n?bT:to,r=n?$i.Forwards:$i.Backwards,l=Ug(r,e.getBody(),e.selection.getRng());return o(l)?JD(e,n,l.getNode(!n)):ee.from(Oo(n,l)).filter(f=>o(f)&&zg(l,f)).bind(f=>JD(e,n,f.getNode(!n)))},eM=(e,n)=>{const o=e.selection.getNode();return qr(o)?JD(e,n,o):ee.none()},tM=(e,n)=>e.selection.isCollapsed()?tz(e,n):eM(e,n),rK=e=>Wo(e,n=>Go(n.dom)||es(n.dom)).exists(n=>Go(n.dom)),nM=e=>dd(e??"").getOr(0),K3=(e,n)=>{const o=e||cE(n)?"margin":"padding",r=bd(n,"direction")==="rtl"?"-right":"-left";return o+r},oM=(e,n,o,r,l,f)=>{const v=K3(o,xe.fromDom(f)),T=nM(e.getStyle(f,v));if(n==="outdent"){const A=Math.max(0,T-r);e.setStyle(f,v,A?A+l:"")}else{const A=T+r+l;e.setStyle(f,v,A)}},X3=(e,n)=>tr(n,o=>{const r=K3(ym(e),o),l=Ca(o,r).map(nM).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&l>0}),nz=e=>{const n=J3(e);return!e.mode.isReadOnly()&&(n.length>1||X3(e,n))},Q3=e=>Ac(e)||Xh(e),oz=e=>Ho(e).exists(Q3),J3=e=>En(Zh(e.selection.getSelectedBlocks()),n=>!Q3(n)&&!oz(n)&&rK(n)),mA=(e,n)=>{var o,r;const{dom:l}=e,f=hr(e),v=(r=(o=/[a-z%]+$/i.exec(f))===null||o===void 0?void 0:o[0])!==null&&r!==void 0?r:"px",T=nM(f),A=ym(e);lt(J3(e),L=>{oM(l,n,A,T,v,L.dom)})},gA=e=>mA(e,"indent"),sM=e=>mA(e,"outdent"),rM=e=>{if(e.selection.isCollapsed()&&nz(e)){const n=e.dom,o=e.selection.getRng(),r=ze.fromRangeStart(o),l=n.getParent(o.startContainer,n.isBlock);if(l!==null&&ay(xe.fromDom(l),r))return ee.some(()=>sM(e))}return ee.none()},eB=(e,n,o)=>ei([rM,rA,MD,(r,l)=>KD(r,n,l),cS,RT,BD,tM,DD,hA],r=>r(e,o)).filter(r=>e.selection.isEditable()),sz=(e,n)=>{eB(e,n,!1).fold(()=>{_T(e),wT(e)},Fo)},iM=(e,n)=>{eB(e,n,!0).fold(()=>fP(e),Fo)},rz=(e,n)=>{e.addCommand("delete",()=>{sz(e,n)}),e.addCommand("forwardDelete",()=>{iM(e,n)})},tB=5,iz=400,nB=e=>e.touches===void 0||e.touches.length!==1?ee.none():ee.some(e.touches[0]),Dh=(e,n)=>{const o=Math.abs(e.clientX-n.x),r=Math.abs(e.clientY-n.y);return o>tB||r>tB},oB=e=>{const n=Ci(),o=ci(!1),r=mc(l=>{e.dispatch("longpress",{...l,type:"longpress"}),o.set(!0)},iz);e.on("touchstart",l=>{nB(l).each(f=>{r.cancel();const v={x:f.clientX,y:f.clientY,target:l.target};r.throttle(l),o.set(!1),n.set(v)})},!0),e.on("touchmove",l=>{r.cancel(),nB(l).each(f=>{n.on(v=>{Dh(f,v)&&(n.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",l=>{r.cancel(),l.type!=="touchcancel"&&n.get().filter(f=>f.target.isEqualNode(l.target)).each(()=>{o.get()?l.preventDefault():e.dispatch("tap",{...l,type:"tap"})})},!0)},pA=(e,n)=>zn(e,n.nodeName),iK=(e,n)=>Pt(n)?!0:Xt(n)?!pA(e.getBlockElements(),n)&&!Eu(n)&&!uf(e,n):!1,aK=(e,n,o)=>as(UN(xe.fromDom(o),xe.fromDom(n)),r=>pA(e,r.dom)),cK=(e,n)=>{if(Pt(n)){if(n.data.length===0)return!0;if(/^\s+$/.test(n.data)&&(!n.nextSibling||pA(e,n.nextSibling)))return!0}return!1},az=e=>e.dom.create(zl(e),Bg(e)),cz=e=>{const n=e.dom,o=e.selection,r=e.schema,l=r.getBlockElements(),f=o.getStart(),v=e.getBody();let T,A,L=!1;const q=zl(e);if(!f||!Xt(f))return;const Z=v.nodeName.toLowerCase();if(!r.isValidChild(Z,q.toLowerCase())||aK(l,v,f))return;const te=o.getRng(),{startContainer:we,startOffset:Se,endContainer:ue,endOffset:Ce}=te,Be=ib(e);let Ie=v.firstChild;for(;Ie;)if(Xt(Ie)&&_d(r,Ie),iK(r,Ie)){if(cK(l,Ie)){A=Ie,Ie=Ie.nextSibling,n.remove(A);continue}T||(T=az(e),v.insertBefore(T,Ie),L=!0),A=Ie,Ie=Ie.nextSibling,T.appendChild(A)}else T=null,Ie=Ie.nextSibling;L&&Be&&(te.setStart(we,Se),te.setEnd(ue,Ce),o.setRng(te),e.nodeChanged())},pS=(e,n,o)=>{const r=xe.fromDom(az(e)),l=Pn();Er(r,l),o(n,r);const f=document.createRange();return f.setStartBefore(l.dom),f.setEndBefore(l.dom),f},lz=e=>{e.on("NodeChange",Ve(cz,e))},vA=e=>n=>(" "+n.attr("class")+" ").indexOf(e)!==-1,sB=(e,n,o)=>function(r){const l=arguments,f=l[l.length-2],v=f>0?n.charAt(f-1):"";if(v==='"')return r;if(v===">"){const T=n.lastIndexOf("<",f);if(T!==-1&&n.substring(T,f).indexOf('contenteditable="false"')!==-1)return r}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(l[0])+'">'+e.dom.encode(typeof l[1]=="string"?l[1]:l[0])+"</span>"},rB=(e,n,o)=>{let r=n.length,l=o.content;if(o.format!=="raw"){for(;r--;)l=l.replace(n[r],sB(e,l,I0(e)));o.content=l}},iB=e=>{const n="contenteditable",o=" "+me.trim(fC(e))+" ",r=" "+me.trim(I0(e))+" ",l=vA(o),f=vA(r),v=hC(e);v.length>0&&e.on("BeforeSetContent",T=>{rB(e,v,T)}),e.parser.addAttributeFilter("class",T=>{let A=T.length;for(;A--;){const L=T[A];l(L)?L.attr(n,"true"):f(L)&&L.attr(n,"false")}}),e.serializer.addAttributeFilter(n,T=>{let A=T.length;for(;A--;){const L=T[A];!l(L)&&!f(L)||(v.length>0&&L.attr("data-mce-content")?(L.name="#text",L.type=3,L.raw=!0,L.value=L.attr("data-mce-content")):L.attr(n,null))}})},uz=e=>Dp(xe.fromDom(e.getBody()),"*[data-mce-caret]").map(n=>n.dom).getOrNull(),aB=(e,n)=>{n.hasAttribute("data-mce-caret")&&(lv(n),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(n))},dz=(e,n)=>{const o=uz(e);if(o){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),aB(e,o);return}av(o)&&(aB(e,o),e.undoManager.add())}},fz=e=>{e.on("keyup compositionstart",Ve(dz,e))},vS=es,hz=(e,n,o)=>L3(n,e,o,iy,cb,vS),mz=(e,n,o)=>nd(n,e,o,f=>iy(f)||qR(f),f=>cb(f)||O6(f),vS),gz=e=>{const n=e.dom.create(zl(e));return n.innerHTML='<br data-mce-bogus="1">',n},bA=(e,n,o)=>{const r=He(e.getBody()),l=Ve(V0,n===1?r.next:r.prev);if(o.collapsed){const f=e.dom.getParent(o.startContainer,"PRE");if(!f)return;if(!l(ze.fromRangeStart(o))){const T=xe.fromDom(gz(e));n===1?cl(xe.fromDom(f),T):ss(xe.fromDom(f),T),e.selection.select(T.dom,!0),e.selection.collapse()}}},pz=(e,n)=>{const o=n?$i.Forwards:$i.Backwards,r=e.selection.getRng();return hz(o,e,r).orThunk(()=>(bA(e,o,r),ee.none()))},vz=(e,n)=>{const o=n?1:-1,r=e.selection.getRng();return mz(o,e,r).orThunk(()=>(bA(e,o,r),ee.none()))},aM=(e,n)=>pz(e,n).exists(o=>(cp(e,o),!0)),cB=(e,n)=>vz(e,n).exists(o=>(cp(e,o),!0)),lB=(e,n)=>dA(e,n,n?cb:iy),yA=(e,n)=>kD(e,!n).map(o=>{const r=o.toRange(),l=e.selection.getRng();return n?r.setStart(l.startContainer,l.startOffset):r.setEnd(l.endContainer,l.endOffset),r}).exists(o=>(cp(e,o),!0)),bz=e=>Dn(["figcaption"],$s(e)),yz=(e,n)=>{const o=Ve(zo,n);return Wo(xe.fromDom(e.container()),xa,o).filter(bz)},Ez=(e,n,o)=>n?VD(e.dom,o):Oy(e.dom,o),cM=(e,n)=>{const o=xe.fromDom(e.getBody()),r=ze.fromRangeStart(e.selection.getRng());return yz(r,o).exists(()=>{if(Ez(o,n,r)){const f=pS(e,o,n?Er:ru);return e.selection.setRng(f),!0}else return!1})},uB=(e,n)=>e.selection.isCollapsed()?cM(e,n):!1,lM={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},_z=e=>qt(e,n=>({...lM,...n})),wz=e=>qt(e,n=>({...lM,...n})),dB=(e,n)=>n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey,Cz=(e,n)=>ga(_z(e),o=>dB(o,n)?[o]:[]),Tz=(e,n)=>ga(wz(e),o=>dB(o,n)?[o]:[]),mo=(e,...n)=>()=>e.apply(null,n),mi=(e,n)=>gs(Cz(e,n),o=>o.action()),fB=(e,n)=>ei(Tz(e,n),o=>o.action()),hB=(e,n)=>{const o=n?$i.Forwards:$i.Backwards,r=e.selection.getRng();return L3(e,o,r,bT,to,qr).exists(l=>(cp(e,l),!0))},mB=(e,n)=>{const o=n?1:-1,r=e.selection.getRng();return nd(e,o,r,bT,to,qr).exists(l=>(cp(e,l),!0))},uM=(e,n)=>dA(e,n,n?to:bT),EA=yu.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Mh={...EA,none:e=>EA.none(e)},dM=(e,n)=>fM(e,n,At),fM=(e,n,o)=>ga(Fe(e),r=>ia(r,n)?o(r)?[r]:[]:fM(r,n,o)),hM=(e,n,o=je)=>{if(o(n))return ee.none();if(Dn(e,$s(n)))return ee.some(n);const r=l=>ia(l,"table")||o(l);return wa(n,e.join(","),r)},mM=(e,n)=>hM(["td","th"],e,n),gM=e=>dM(e,"th,td"),pM=(e,n)=>su(e,"table",n),iw=(e,n,o,r,l=At)=>{const f=r===1;if(!f&&o<=0)return Mh.first(e[0]);if(f&&o>=e.length-1)return Mh.last(e[e.length-1]);{const v=o+r,T=e[v];return l(T)?Mh.middle(n,T):iw(e,n,v,r,l)}},bS=(e,n)=>pM(e,n).bind(o=>{const r=gM(o);return Tr(r,f=>zo(e,f)).map(f=>({index:f,all:r}))}),yS=(e,n,o)=>bS(e,o).fold(()=>Mh.none(e),l=>iw(l.all,e,l.index,1,n)),ES=(e,n,o)=>bS(e,o).fold(()=>Mh.none(),l=>iw(l.all,e,l.index,-1,n)),lp=(e,n)=>({left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}),_S=(e,n)=>ga(n,o=>{const r=lp(ch(o.getBoundingClientRect()),-1);return[{x:r.left,y:e(r),cell:o},{x:r.right,y:e(r),cell:o}]}),gB=(e,n,o)=>Os(e,(r,l)=>r.fold(()=>ee.some(l),f=>{const v=Math.sqrt(Math.abs(f.x-n)+Math.abs(f.y-o)),T=Math.sqrt(Math.abs(l.x-n)+Math.abs(l.y-o));return ee.some(T<v?l:f)}),ee.none()),vM=(e,n,o,r,l)=>{const f=Ta(xe.fromDom(o),"td,th,caption").map(T=>T.dom),v=En(_S(e,f),T=>n(T,l));return gB(v,r,l).map(T=>T.cell)},xz=e=>e.bottom,pB=e=>e.top,Az=(e,n)=>e.y<n,Oz=(e,n)=>e.y>n,vB=Ve(vM,xz,Az),Rz=Ve(vM,pB,Oz),Iz=(e,n)=>Oi(n.getClientRects()).bind(o=>vB(e,o.left,o.top)).bind(o=>fS(O3(o),n)),Dz=(e,n)=>Al(n.getClientRects()).bind(o=>Rz(e,o.left,o.top)).bind(o=>fS(MU(o),n)),Mz=(e,n,o)=>o.breakAt.exists(r=>e(n,r).breakAt.isSome()),kz=e=>e.breakType===ap.Wrap&&e.positions.length===0,Nz=e=>e.breakType===ap.Br&&e.positions.length===1,bB=(e,n,o)=>{const r=e(n,o);return kz(r)||!wr(o.getNode())&&Nz(r)?!Mz(e,n,r):r.breakAt.isNone()},Pz=Ve(bB,Ay),Lz=Ve(bB,Ih),Bz=(e,n,o)=>{const r=ze.fromRangeStart(n);return Xo(!e,o).exists(l=>l.isEqual(r))},$z=(e,n,o,r)=>{const l=e.selection.getRng(),f=n?1:-1;return qv()&&Bz(n,l,o)?(Oh(f,e,o,!n,!1).each(v=>{cp(e,v)}),!0):!1},Fz=(e,n,o)=>Iz(n,o).orThunk(()=>Oi(o.getClientRects()).bind(r=>dS(HD(e,ze.before(n)),r.left))).getOr(ze.before(n)),Hz=(e,n,o)=>Dz(n,o).orThunk(()=>Oi(o.getClientRects()).bind(r=>dS(zd(e,ze.after(n)),r.left))).getOr(ze.after(n)),bM=(e,n)=>{const o=n.getNode(e);return Ar(o)?ee.some(o):ee.none()},yB=(e,n,o)=>{n.undoManager.transact(()=>{const r=e?cl:ss,l=pS(n,xe.fromDom(o),r);cp(n,l)})},yM=(e,n,o)=>{const r=bM(!!n,o),l=n===!1;r.fold(()=>cp(e,o.toRange()),f=>Xo(l,e.getBody()).filter(v=>v.isEqual(o)).fold(()=>cp(e,o.toRange()),v=>yB(n,e,f)))},Vz=(e,n,o,r)=>{const l=e.selection.getRng(),f=ze.fromRangeStart(l),v=e.getBody();if(!n&&Pz(r,f)){const T=Fz(v,o,f);return yM(e,n,T),!0}else if(n&&Lz(r,f)){const T=Hz(v,o,f);return yM(e,n,T),!0}else return!1},EB=(e,n,o)=>ee.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(r=>ee.from(e.dom.getParent(r,"table")).map(l=>o(e,n,l,r))).getOr(!1),_B=(e,n)=>EB(e,n,$z),wB=(e,n)=>EB(e,n,Vz),CB=e=>{const n=eb.exact(e,0,e,0);return kR(n)},TB=(e,n,o)=>o.fold(ee.none,ee.none,(r,l)=>c6(l).map(f=>CB(f)),r=>(e.execCommand("mceTableInsertRowAfter"),EM(e,n,r))),EM=(e,n,o)=>TB(e,n,yS(o,Gh)),Uz=(e,n,o)=>TB(e,n,ES(o,Gh)),_M=(e,n)=>{const o=["table","li","dl"],r=xe.fromDom(e.getBody()),l=T=>{const A=$s(T);return zo(T,r)||Dn(o,A)},f=e.selection.getRng(),v=xe.fromDom(n?f.endContainer:f.startContainer);return mM(v,l).map(T=>(pM(T,l).each(q=>{e.model.table.clearSelectedCells(q.dom)}),e.selection.collapse(!n),(n?EM:Uz)(e,l,T).each(q=>{e.selection.setRng(q)}),!0)).getOr(!1)},SB=(e,n,o)=>{const r=jo.os.isMacOS()||jo.os.isiOS();mi([{keyCode:gn.RIGHT,action:mo(aM,e,!0)},{keyCode:gn.LEFT,action:mo(aM,e,!1)},{keyCode:gn.UP,action:mo(cB,e,!1)},{keyCode:gn.DOWN,action:mo(cB,e,!0)},...r?[{keyCode:gn.UP,action:mo(yA,e,!1),metaKey:!0,shiftKey:!0},{keyCode:gn.DOWN,action:mo(yA,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:gn.RIGHT,action:mo(_B,e,!0)},{keyCode:gn.LEFT,action:mo(_B,e,!1)},{keyCode:gn.UP,action:mo(wB,e,!1)},{keyCode:gn.DOWN,action:mo(wB,e,!0)},{keyCode:gn.RIGHT,action:mo(hB,e,!0)},{keyCode:gn.LEFT,action:mo(hB,e,!1)},{keyCode:gn.UP,action:mo(mB,e,!1)},{keyCode:gn.DOWN,action:mo(mB,e,!0)},{keyCode:gn.RIGHT,action:mo(F3,e,n,!0)},{keyCode:gn.LEFT,action:mo(F3,e,n,!1)},{keyCode:gn.RIGHT,ctrlKey:!r,altKey:r,action:mo(L1,e,n)},{keyCode:gn.LEFT,ctrlKey:!r,altKey:r,action:mo(Dy,e,n)},{keyCode:gn.UP,action:mo(uB,e,!1)},{keyCode:gn.DOWN,action:mo(uB,e,!0)}],o).each(l=>{o.preventDefault()})},zz=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||SB(e,n,o)})},Zm=(e,n)=>({container:e,offset:n}),_A=zs.DOM,wS=e=>n=>e===n?-1:0,Wz=e=>n=>e.isBlock(n)||Dn(["BR","IMG","HR","INPUT"],n.nodeName)||e.getContentEditable(n)==="false",wM=(e,n,o)=>{if(Pt(e)&&n>=0)return ee.some(Zm(e,n));{const r=sr(_A);return ee.from(r.backwards(e,n,wS(e),o)).map(l=>Zm(l.container,l.container.data.length))}},xB=(e,n,o)=>{if(Pt(e)&&n>=e.length)return ee.some(Zm(e,n));{const r=sr(_A);return ee.from(r.forwards(e,n,wS(e),o)).map(l=>Zm(l.container,0))}},CM=(e,n,o)=>{if(!Pt(e))return ee.none();const r=e.data;if(n>=0&&n<=r.length)return ee.some(Zm(e,n));{const l=sr(_A);return ee.from(l.backwards(e,n,wS(e),o)).bind(f=>{const v=f.container.data;return CM(f.container,n+v.length,o)})}},AB=(e,n,o)=>{if(!Pt(e))return ee.none();const r=e.data;if(n<=r.length)return ee.some(Zm(e,n));{const l=sr(_A);return ee.from(l.forwards(e,n,wS(e),o)).bind(f=>AB(f.container,n-r.length,o))}},wA=(e,n,o,r,l)=>{const f=sr(e,Wz(e));return ee.from(f.backwards(n,o,r,l))},Gz=e=>e.collapsed&&Pt(e.startContainer),OB=e=>Fu(e.toString().replace(/\u00A0/g," ")),RB=e=>e!==""&&`  \f
\r	\v`.indexOf(e)!==-1,CA=(e,n)=>e.substring(n.length),IB=(e,n,o)=>{let r;const l=o.charAt(0);for(r=n-1;r>=0;r--){const f=e.charAt(r);if(RB(f))return ee.none();if(l===f&&ti(e,o,r,n))break}return ee.some(r)},Zz=(e,n,o,r=0)=>{if(!Gz(n))return ee.none();const l={text:"",offset:0},f=(T,A,L)=>(l.text=L+l.text,l.offset+=A,IB(l.text,l.offset,o).getOr(A)),v=e.getParent(n.startContainer,e.isBlock)||e.getRoot();return wA(e,n.startContainer,n.startOffset,f,v).bind(T=>{const A=n.cloneRange();if(A.setStart(T.container,T.offset),A.setEnd(n.endContainer,n.endOffset),A.collapsed)return ee.none();const L=OB(A);return L.lastIndexOf(o)!==0||CA(L,o).length<r?ee.none():ee.some({text:CA(L,o),range:A,trigger:o})})},DB=(e,n,o,r=0)=>f6(xe.fromDom(n.startContainer)).fold(()=>Zz(e,n,o,r),l=>{const f=e.createRng();f.selectNode(l.dom);const v=OB(f);return ee.some({range:f,text:CA(v,o),trigger:o})}),qz=e=>e.nodeType===Nu,jz=e=>e.nodeType===yr,MB=e=>{if(qz(e))return Zm(e,e.data.length);{const n=e.childNodes;return n.length>0?MB(n[n.length-1]):Zm(e,n.length)}},kB=(e,n)=>{const o=e.childNodes;return o.length>0&&n<o.length?kB(o[n],0):o.length>0&&jz(e)&&o.length===n?MB(o[o.length-1]):Zm(e,n)},Yz=(e,n)=>{var o;const r=(o=e.getParent(n.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return wA(e,n.container,n.offset,(l,f)=>f===0?-1:f,r).filter(l=>{const f=l.container.data.charAt(l.offset-1);return!RB(f)}).isSome()},Kz=e=>n=>{const o=kB(n.startContainer,n.startOffset);return!Yz(e,o)},lK=(e,n,o)=>ei(o.triggers,r=>DB(e,n,r)),Xz=(e,n)=>{const o=n(),r=e.selection.getRng();return lK(e.dom,r,o).bind(l=>CS(e,n,l))},CS=(e,n,o,r={})=>{var l;const f=n(),T=(l=e.selection.getRng().startContainer.nodeValue)!==null&&l!==void 0?l:"",A=En(f.lookupByTrigger(o.trigger),q=>o.text.length>=q.minChars&&q.matches.getOrThunk(()=>Kz(e.dom))(o.range,T,o.text));if(A.length===0)return ee.none();const L=Promise.all(qt(A,q=>q.fetch(o.text,q.maxResults,r).then(te=>({matchText:o.text,items:te,columns:q.columns,onAction:q.onAction,highlightOn:q.highlightOn}))));return ee.some({lookupData:L,context:o})};var kh;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(kh||(kh={}));const TA=(e,n,o)=>e.stype===kh.Error?n(e.serror):o(e.svalue),Qz=e=>{const n=[],o=[];return lt(e,r=>{TA(r,l=>o.push(l),l=>n.push(l))}),{values:n,errors:o}},NB=(e,n)=>e.stype===kh.Error?{stype:kh.Error,serror:n(e.serror)}:e,PB=(e,n)=>e.stype===kh.Value?{stype:kh.Value,svalue:n(e.svalue)}:e,Jz=(e,n)=>e.stype===kh.Value?n(e.svalue):e,e9=(e,n)=>e.stype===kh.Error?n(e.serror):e,LB=e=>({stype:kh.Value,svalue:e}),TM=e=>({stype:kh.Error,serror:e}),kc={fromResult:e=>e.fold(TM,LB),toResult:e=>TA(e,vs.error,vs.value),svalue:LB,partition:Qz,serror:TM,bind:Jz,bindError:e9,map:PB,mapError:NB,fold:TA},SM=e=>Le(e)&&La(e).length>100?" removed due to size":JSON.stringify(e,null,2),t9=e=>{const n=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:Xe("... (only showing first ten failures)")}]):e;return qt(n,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},TS=(e,n)=>kc.serror([{path:e,getErrorInfo:n}]),n9=(e,n,o)=>TS(e,()=>'Could not find valid *required* value for "'+n+'" in '+SM(o)),o9=(e,n)=>TS(e,()=>'Choice schema did not contain choice key: "'+n+'"'),s9=(e,n,o)=>TS(e,()=>'The chosen schema: "'+o+'" did not exist in branches: '+SM(n)),r9=(e,n)=>TS(e,Xe(n)),i9=(e,n,o,r)=>Ys(o,r).fold(()=>s9(e,o,r),f=>f.extract(e.concat(["branch: "+r]),n)),Na=(e,n)=>({extract:(l,f)=>Ys(f,e).fold(()=>o9(l,e),T=>i9(l,f,n,T)),toString:()=>"chooseOn("+e+"). Possible values: "+La(n)}),up=(e,n)=>n,a9=(e,n)=>ct(e)&&ct(n)?SA(e,n):n,c9=e=>(...n)=>{if(n.length===0)throw new Error("Can't merge zero objects");const o={};for(let r=0;r<n.length;r++){const l=n[r];for(const f in l)zn(l,f)&&(o[f]=e(o[f],l[f]))}return o},SA=c9(a9),l9=c9(up),$B=()=>({tag:"required",process:{}}),u9=e=>({tag:"defaultedThunk",process:e}),xM=e=>u9(Xe(e)),aw=()=>({tag:"option",process:{}}),dK=(e,n)=>e.length>0?kc.svalue(SA(n,l9.apply(void 0,e))):kc.svalue(n),FB=e=>P(kc.serror,nl)(e),d9={consolidateObj:(e,n)=>{const o=kc.partition(e);return o.errors.length>0?FB(o.errors):dK(o.values,n)},consolidateArr:e=>{const n=kc.partition(e);return n.errors.length>0?FB(n.errors):kc.svalue(n.values)}},f9=(e,n,o,r)=>({tag:"field",key:e,newKey:n,presence:o,prop:r}),HB=(e,n)=>({tag:"custom",newKey:e,instantiator:n}),VB=(e,n,o)=>{switch(e.tag){case"field":return n(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},SS=e=>{const n=(r,l)=>kc.bindError(e(l),f=>r9(r,f)),o=Xe("val");return{extract:n,toString:o}},UB=SS(kc.svalue),h9=(e,n,o,r)=>Ys(n,o).fold(()=>n9(e,o,n),r),zB=(e,n,o,r)=>{const l=Ys(e,n).getOrThunk(()=>o(e));return r(l)},m9=(e,n,o)=>o(Ys(e,n)),WB=(e,n,o,r)=>{const l=Ys(e,n).map(f=>f===!0?o(e):f);return r(l)},GB=(e,n,o,r,l)=>{const f=T=>l.extract(n.concat([r]),T),v=T=>T.fold(()=>kc.svalue(ee.none()),A=>{const L=l.extract(n.concat([r]),A);return kc.map(L,ee.some)});switch(e.tag){case"required":return h9(n,o,r,f);case"defaultedThunk":return zB(o,r,e.process,f);case"option":return m9(o,r,v);case"defaultedOptionThunk":return WB(o,r,e.process,v);case"mergeWithThunk":return zB(o,r,Xe({}),T=>{const A=SA(e.process(o),T);return f(A)})}},AM=(e,n,o)=>{const r={},l=[];for(const f of o)VB(f,(v,T,A,L)=>{const q=GB(A,e,n,v,L);kc.fold(q,Z=>{l.push(...Z)},Z=>{r[T]=Z})},(v,T)=>{r[v]=T(n)});return l.length>0?kc.serror(l):kc.svalue(r)},xS=e=>({extract:(r,l)=>AM(r,l,e),toString:()=>`obj{
`+qt(e,l=>VB(l,(f,v,T,A)=>f+" -> "+A.toString(),(f,v)=>"state("+f+")")).join(`
`)+"}"}),xA=e=>({extract:(r,l)=>{const f=qt(l,(v,T)=>e.extract(r.concat(["["+T+"]"]),v));return d9.consolidateArr(f)},toString:()=>"array("+e.toString()+")"}),g9=e=>SS(n=>e(n).fold(kc.serror,kc.svalue)),p9=(e,n,o)=>{const r=n.extract([e],o);return kc.mapError(r,l=>({input:o,errors:l}))},v9=(e,n,o)=>kc.toResult(p9(e,n,o)),b9=e=>`Errors: 
`+t9(e.errors).join(`
`)+`

Input object: `+SM(e.input),AA=(e,n)=>Na(e,Bo(n,xS)),ZB=Xe(UB),OA=(e,n)=>SS(o=>{const r=typeof o;return e(o)?kc.svalue(o):kc.serror(`Expected type: ${n} but got: ${r}`)}),qB=OA(dn,"number"),RA=OA(ne,"string"),OM=OA(Ge,"boolean"),RM=OA(he,"function"),AS=f9,jB=HB,y9=e=>g9(n=>Dn(e,n)?vs.value(n):vs.error(`Unsupported value: "${n}", choose one of "${e.join(", ")}".`)),YB=(e,n)=>AS(e,e,$B(),n),IM=e=>YB(e,RA),IA=e=>YB(e,RM),KB=(e,n)=>AS(e,e,$B(),xA(n)),DA=(e,n)=>AS(e,e,aw(),n),MA=e=>DA(e,RA),E9=e=>DA(e,RM),_9=(e,n)=>AS(e,e,xM(n),ZB()),B1=(e,n,o)=>AS(e,e,xM(n),o),DM=(e,n)=>B1(e,n,qB),XB=(e,n)=>B1(e,n,RA),QB=(e,n,o)=>B1(e,n,y9(o)),MM=(e,n)=>B1(e,n,OM),JB=(e,n)=>B1(e,n,RM),hK=(e,n,o)=>B1(e,n,xA(o)),mK=IM("type"),w9=IA("fetch"),e$=IA("onAction"),C9=JB("onSetup",()=>Ct),T9=MA("text"),gK=MA("icon"),S9=MA("tooltip"),ea=MA("label"),kM=MM("active",!1),fp=MM("enabled",!0),NM=MM("primary",!1),t$=e=>_9("columns",e),OS=e=>XB("type",e),PM=xS([mK,IM("trigger"),DM("minChars",1),t$(1),DM("maxResults",10),E9("matches"),w9,e$,hK("highlightOn",[],RA)]),LM=e=>v9("Autocompleter",PM,{trigger:e.ch,...e}),kA=[fp,S9,gK,T9,C9],BM=[kM].concat(kA),x9=[JB("predicate",je),QB("scope","node",["node","editor"]),QB("position","selection",["node","selection","line"])],A9=kA.concat([OS("contextformbutton"),NM,e$,jB("original",Vt)]),O9=BM.concat([OS("contextformbutton"),NM,e$,jB("original",Vt)]),R9=kA.concat([OS("contextformbutton")]),I9=BM.concat([OS("contextformtogglebutton")]),n$=AA("type",{contextformbutton:A9,contextformtogglebutton:O9});xS([OS("contextform"),JB("initValue",Xe("")),ea,KB("commands",n$),DA("launch",AA("type",{contextformbutton:R9,contextformtogglebutton:I9}))].concat(x9));const D9=e=>{const n=e.ui.registry.getAll().popups,o=Bo(n,v=>LM(v).fold(T=>{throw new Error(b9(T))},Vt)),r=Vh(jd(o,v=>v.trigger)),l=Vf(o);return{dataset:o,triggers:r,lookupByTrigger:v=>En(l,T=>T.trigger===v)}},M9=(e,n)=>{const o=mc(n.load,50);e.on("keypress compositionend",r=>{r.which!==27&&o.throttle()}),e.on("keydown",r=>{const l=r.which;l===8?o.throttle():l===27&&n.cancelIfNecessary()}),e.on("remove",o.cancel)},k9=e=>{const n=Ci(),o=ci(!1),r=n.isSet,l=()=>{r()&&(tV(e),wR(e),o.set(!1),n.clear())},f=L=>{r()||(fD(e,L.range),n.set({trigger:L.trigger,matchLength:L.text.length}))},v=Ol(()=>D9(e)),T=L=>n.get().map(q=>DB(e.dom,e.selection.getRng(),q.trigger).bind(Z=>CS(e,v,Z,L))).getOrThunk(()=>Xz(e,v)),A=L=>{T(L).fold(l,q=>{f(q.context),q.lookupData.then(Z=>{n.get().map(te=>{const we=q.context;te.trigger===we.trigger&&(we.text.length-te.matchLength>=10?l():(n.set({...te,matchLength:we.text.length}),o.get()?P2(e,{lookupData:Z}):(o.set(!0),_R(e,{lookupData:Z}))))})})})};e.addCommand("mceAutocompleterReload",(L,q)=>{const Z=Le(q)?q.fetchOptions:{};A(Z)}),e.addCommand("mceAutocompleterClose",l),M9(e,{cancelIfNecessary:l,load:A})},o$=e=>(n,o,r={})=>{const l=n.getBody(),f={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:l,currentTarget:l,eventPhase:Event.AT_TARGET,originalTarget:l,explicitOriginalTarget:l,isTrusted:!1,srcElement:l,cancelable:!1,preventDefault:Ct,inputType:o},v=cm(new InputEvent(e));return n.dispatch(e,{...v,...f,...r})},$M=o$("input"),NA=o$("beforeinput"),s$=(e,n,o)=>{const r=o.keyCode===gn.BACKSPACE?"deleteContentBackward":"deleteContentForward";fB([{keyCode:gn.BACKSPACE,action:mo(rM,e)},{keyCode:gn.BACKSPACE,action:mo(rA,e,!1)},{keyCode:gn.DELETE,action:mo(rA,e,!0)},{keyCode:gn.BACKSPACE,action:mo(MD,e,!1)},{keyCode:gn.DELETE,action:mo(MD,e,!0)},{keyCode:gn.BACKSPACE,action:mo(KD,e,n,!1)},{keyCode:gn.DELETE,action:mo(KD,e,n,!0)},{keyCode:gn.BACKSPACE,action:mo(RT,e,!1)},{keyCode:gn.DELETE,action:mo(RT,e,!0)},{keyCode:gn.BACKSPACE,action:mo(BD,e,!1)},{keyCode:gn.DELETE,action:mo(BD,e,!0)},{keyCode:gn.BACKSPACE,action:mo(tM,e,!1)},{keyCode:gn.DELETE,action:mo(tM,e,!0)},{keyCode:gn.BACKSPACE,action:mo(DD,e,!1)},{keyCode:gn.DELETE,action:mo(DD,e,!0)},{keyCode:gn.BACKSPACE,action:mo(cS,e,!1)},{keyCode:gn.DELETE,action:mo(cS,e,!0)},{keyCode:gn.BACKSPACE,action:mo(hA,e,!1)},{keyCode:gn.DELETE,action:mo(hA,e,!0)}],o).filter(l=>e.selection.isEditable()).each(l=>{o.preventDefault(),NA(e,r).isDefaultPrevented()||(l(),$M(e,r))})},N9=(e,n,o)=>{const r=Bs(),l=r.os,f=r.browser,v=l.isMacOS()?[{keyCode:gn.BACKSPACE,altKey:!0,action:mo(rw,e)},{keyCode:gn.DELETE,altKey:!0,action:mo(rw,e)}]:[{keyCode:gn.BACKSPACE,ctrlKey:!0,action:mo(rw,e)},{keyCode:gn.DELETE,ctrlKey:!0,action:mo(rw,e)}];l.isMacOS()&&o&&v.push({keyCode:f.isFirefox()?224:91,action:mo(rw,e)}),mi([{keyCode:gn.BACKSPACE,action:mo(PD,e)},{keyCode:gn.DELETE,action:mo(PD,e)},...v],n)},P9=(e,n)=>{let o=!1;e.on("keydown",r=>{o=r.keyCode===gn.BACKSPACE,r.isDefaultPrevented()||s$(e,n,r)}),e.on("keyup",r=>{r.isDefaultPrevented()||N9(e,r,o),o=!1})},pK=e=>{for(;e;){if(Xt(e)||Pt(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},ky=(e,n)=>{const o=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!n)return;if(/^(LI|DT|DD)$/.test(n.nodeName)){const f=pK(n.firstChild);f&&/^(UL|OL|DL)$/.test(f.nodeName)&&n.insertBefore(o.doc.createTextNode(ds),n.firstChild)}const l=o.createRng();if(n.normalize(),n.hasChildNodes()){const f=new ri(n,n);let v=n,T;for(;T=f.current();){if(Pt(T)){l.setStart(T,0),l.setEnd(T,0);break}if(r[T.nodeName.toLowerCase()]){l.setStartBefore(T),l.setEndBefore(T);break}v=T,T=f.next()}T||(l.setStart(v,0),l.setEnd(v,0))}else wr(n)?n.nextSibling&&o.isBlock(n.nextSibling)?(l.setStartBefore(n),l.setEndBefore(n)):(l.setStartAfter(n),l.setEndAfter(n)):(l.setStart(n,0),l.setEnd(n,0));e.selection.setRng(l),mn(e,l)},PA=(e,n)=>{const o=e.getRoot();let r,l=n;for(;l!==o&&l&&e.getContentEditable(l)!=="false";)e.getContentEditable(l)==="true"&&(r=l),l=l.parentNode;return l!==o?r:o},FM=e=>ee.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),L9=e=>FM(e).fold(Xe(""),n=>n.nodeName.toUpperCase()),r$=e=>FM(e).filter(n=>Xh(xe.fromDom(n))).isSome(),B9=(e,n)=>e.firstChild&&e.firstChild.nodeName===n,i$=e=>{var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},a$=(e,n)=>{const o=e==null?void 0:e.parentNode;return Pe(o)&&o.nodeName===n},c$=e=>Pe(e)&&/^(OL|UL|LI)$/.test(e.nodeName),vK=e=>Pe(e)&&/^(LI|DT|DD)$/.test(e.nodeName),Qc=e=>c$(e)&&c$(e.parentNode),LA=e=>{const n=e.parentNode;return vK(n)?n:e},BA=(e,n,o)=>{let r=e[o?"firstChild":"lastChild"];for(;r&&!Xt(r);)r=r[o?"nextSibling":"previousSibling"];return r===n},$9=(e,n,o,r,l)=>{const f=e.dom,v=e.selection.getRng(),T=o.parentNode;if(o===e.getBody()||!T)return;Qc(o)&&(l="LI");let A=n(l);if(BA(o,r,!0)&&BA(o,r,!1))if(a$(o,"LI")){const L=LA(o);f.insertAfter(A,L),i$(o)?f.remove(L):f.remove(o)}else f.replace(A,o);else if(BA(o,r,!0))a$(o,"LI")?(f.insertAfter(A,LA(o)),A.appendChild(f.doc.createTextNode(" ")),A.appendChild(o)):T.insertBefore(A,o),f.remove(r);else if(BA(o,r,!1))f.insertAfter(A,LA(o)),f.remove(r);else{o=LA(o);const L=v.cloneRange();L.setStartAfter(r),L.setEndAfter(o);const q=L.extractContents();l==="LI"&&B9(q,"LI")?(A=q.firstChild,f.insertAfter(q,o)):(f.insertAfter(q,o),f.insertAfter(A,o)),f.remove(r)}ky(e,A)},F9=e=>{lt(Lu(xe.fromDom(e),ur),n=>{const o=n.dom;o.nodeValue=Fu(o.data)})},H9=(e,n)=>{const o=e.dom.getParent(n,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},V9=(e,n)=>n&&n.nodeName==="A"&&e.isEmpty(n),HM=e=>{e.innerHTML='<br data-mce-bogus="1">'},cw=(e,n)=>e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n,VM=(e,n)=>Pe(n)&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.isEditable(n.parentNode)&&e.getContentEditable(n)!=="false",U9=(e,n,o)=>{var r;const l=[];if(!o)return;let f=o;for(;f=f.firstChild;){if(e.isBlock(f))return;Xt(f)&&!n[f.nodeName.toLowerCase()]&&l.push(f)}let v=l.length;for(;v--;)f=l[v],(!f.hasChildNodes()||f.firstChild===f.lastChild&&((r=f.firstChild)===null||r===void 0?void 0:r.nodeValue)===""||V9(e,f))&&e.remove(f)},RS=(e,n,o)=>Pt(n)?e?o===1&&n.data.charAt(o-1)===Ki?0:o:o===n.data.length-1&&n.data.charAt(o)===Ki?n.data.length:o:o,UM=e=>{const n=e.cloneRange();return n.setStart(e.startContainer,RS(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,RS(!1,e.endContainer,e.endOffset)),n},z9=e=>{let n=e;do Pt(n)&&(n.data=n.data.replace(/^[\r\n]+/,"")),n=n.firstChild;while(n)},bK=(e,n,o)=>{const r=e.dom;ee.from(o.style).map(r.parseStyle).each(A=>{const q={...al(xe.fromDom(n)),...A};r.setStyles(n,q)});const l=ee.from(o.class).map(A=>A.split(/\s+/)),f=ee.from(n.className).map(A=>En(A.split(/\s+/),L=>L!==""));pt(l,f,(A,L)=>{const q=En(L,te=>!Dn(A,te)),Z=[...A,...q];r.setAttrib(n,"class",Z.join(" "))});const v=["style","class"],T=Is(o,(A,L)=>!Dn(v,L));r.setAttribs(n,T)},$A=(e,n)=>{if(zl(e).toLowerCase()===n.tagName.toLowerCase()){const r=Bg(e);bK(e,n,r)}},W9=(e,n,o,r,l)=>{var f,v;const T=e.dom,A=(f=PA(T,r))!==null&&f!==void 0?f:T.getRoot();let L=T.getParent(r,T.isBlock);if(!L||!VM(T,L)){if(L=L||A,!L.hasChildNodes()){const we=T.create(n);return $A(e,we),L.appendChild(we),o.setStart(we,0),o.setEnd(we,0),we}let q=r;for(;q&&q.parentNode!==L;)q=q.parentNode;let Z;for(;q&&!T.isBlock(q);)Z=q,q=q.previousSibling;const te=(v=Z==null?void 0:Z.parentElement)===null||v===void 0?void 0:v.nodeName;if(Z&&te&&e.schema.isValidChild(te,n.toLowerCase())){const we=Z.parentNode,Se=T.create(n);for($A(e,Se),we.insertBefore(Se,Z),q=Z;q&&!T.isBlock(q);){const ue=q.nextSibling;Se.appendChild(q),q=ue}o.setStart(r,l),o.setEnd(r,l)}}return r},G9=(e,n)=>{n.normalize();const o=n.lastChild;(!o||Xt(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(n,"br")},yK=(e,n)=>{const o=gl(e);return xt(n)?!1:ne(o)?Dn(me.explode(o),n.nodeName.toLowerCase()):o},l$={insert:(e,n)=>{let o,r,l,f,v=!1;const T=e.dom,A=e.schema,L=A.getNonEmptyElements(),q=e.selection.getRng(),Z=zl(e),te=Yt=>{let Ft=o;const at=A.getTextInlineElements();let it;Yt||l==="TABLE"||l==="HR"?it=T.create(Yt||Z):it=Ie.cloneNode(!1);let ln=it;if(qu(e)===!1)T.setAttrib(it,"style",null),T.setAttrib(it,"class",null);else do if(at[Ft.nodeName]){if(As(Ft)||Eu(Ft))continue;const xn=Ft.cloneNode(!1);T.setAttrib(xn,"id",""),it.hasChildNodes()?(xn.appendChild(it.firstChild),it.appendChild(xn)):(ln=xn,it.appendChild(xn))}while((Ft=Ft.parentNode)&&Ft!==Be);return $A(e,it),HM(ln),it},we=Yt=>{const Ft=RS(Yt,o,r);if(Pt(o)&&(Yt?Ft>0:Ft<o.data.length))return!1;if(o.parentNode===Ie&&v&&!Yt||Yt&&Xt(o)&&o===Ie.firstChild)return!0;if(cw(o,"TABLE")||cw(o,"HR"))return v&&!Yt||!v&&Yt;const at=new ri(o,Ie);Pt(o)&&(Yt&&Ft===0?at.prev():!Yt&&Ft===o.data.length&&at.next());let it;for(;it=at.current();){if(Xt(it)){if(!it.getAttribute("data-mce-bogus")){const ln=it.nodeName.toLowerCase();if(L[ln]&&ln!=="br")return!1}}else if(Pt(it)&&!dc(it.data))return!1;Yt?at.prev():at.next()}return!0},Se=()=>{let Yt;return/^(H[1-6]|PRE|FIGURE)$/.test(l)&&Ue!=="HGROUP"?Yt=te(Z):Yt=te(),yK(e,f)&&VM(T,f)&&T.isEmpty(Ie)?Yt=T.split(f,Ie):T.insertAfter(Yt,Ie),ky(e,Yt),Yt};Bm(T,q).each(Yt=>{q.setStart(Yt.startContainer,Yt.startOffset),q.setEnd(Yt.endContainer,Yt.endOffset)}),o=q.startContainer,r=q.startOffset;const ue=!!(n&&n.shiftKey),Ce=!!(n&&n.ctrlKey);Xt(o)&&o.hasChildNodes()&&(v=r>o.childNodes.length-1,o=o.childNodes[Math.min(r,o.childNodes.length-1)]||o,v&&Pt(o)?r=o.data.length:r=0);const Be=PA(T,o);if(!Be||H9(e,o))return;ue||(o=W9(e,Z,q,o,r));let Ie=T.getParent(o,T.isBlock)||T.getRoot();f=Pe(Ie==null?void 0:Ie.parentNode)?T.getParent(Ie.parentNode,T.isBlock):null,l=Ie?Ie.nodeName.toUpperCase():"";const Ue=f?f.nodeName.toUpperCase():"";if(Ue==="LI"&&!Ce){const Yt=f;Ie=Yt,f=Yt.parentNode,l=Ue}if(/^(LI|DT|DD)$/.test(l)&&Xt(f)&&T.isEmpty(Ie)){$9(e,te,f,Ie,Z);return}if(Ie===e.getBody()||!VM(T,Ie))return;const et=Ie.parentNode;let yt;if(uu(Ie))yt=lv(Ie),T.isEmpty(Ie)&&HM(Ie),$A(e,yt),ky(e,yt);else if(we(!1))yt=Se();else if(we(!0)&&et)yt=et.insertBefore(te(),Ie),ky(e,cw(Ie,"HR")?yt:Ie);else{const Yt=UM(q).cloneRange();Yt.setEndAfter(Ie);const Ft=Yt.extractContents();F9(Ft),z9(Ft),yt=Ft.firstChild,T.insertAfter(Ft,Ie),U9(T,L,yt),G9(T,Ie),T.isEmpty(Ie)&&HM(Ie),yt.normalize(),T.isEmpty(yt)?(T.remove(yt),Se()):($A(e,yt),ky(e,yt))}T.setAttrib(yt,"id",""),e.dispatch("NewBlock",{newBlock:yt})},fakeEventName:"insertParagraph"},Z9=(e,n,o)=>{const r=new ri(n,o);let l;const f=e.getNonEmptyElements();for(;l=r.next();)if(f[l.nodeName.toLowerCase()]||Pt(l)&&l.length>0)return!0;return!1},$1=(e,n,o)=>{const r=e.dom.createRng();o?(r.setStartBefore(n),r.setEndBefore(n)):(r.setStartAfter(n),r.setEndAfter(n)),e.selection.setRng(r),mn(e,r)},q9=(e,n)=>{const o=e.selection,r=e.dom,l=o.getRng();let f,v=!1;Bm(r,l).each(we=>{l.setStart(we.startContainer,we.startOffset),l.setEnd(we.endContainer,we.endOffset)});let T=l.startOffset,A=l.startContainer;if(Xt(A)&&A.hasChildNodes()){const we=T>A.childNodes.length-1;A=A.childNodes[Math.min(T,A.childNodes.length-1)]||A,we&&Pt(A)?T=A.data.length:T=0}let L=r.getParent(A,r.isBlock);const q=L&&L.parentNode?r.getParent(L.parentNode,r.isBlock):null,Z=q?q.nodeName.toUpperCase():"",te=!!(n&&n.ctrlKey);Z==="LI"&&!te&&(L=q),Pt(A)&&T>=A.data.length&&(Z9(e.schema,A,L||r.getRoot())||(f=r.create("br"),l.insertNode(f),l.setStartAfter(f),l.setEndAfter(f),v=!0)),f=r.create("br"),Hs(r,l,f),$1(e,f,v),e.undoManager.add()},u$=(e,n)=>{const o=xe.fromTag("br");ss(xe.fromDom(n),o),e.undoManager.add()},j9=(e,n)=>{K9(e.getBody(),n)||cl(xe.fromDom(n),xe.fromTag("br"));const o=xe.fromTag("br");cl(xe.fromDom(n),o),$1(e,o.dom,!1),e.undoManager.add()},Y9=e=>wr(e.getNode()),K9=(e,n)=>Y9(ze.after(n))?!0:$r(e,ze.after(n)).map(o=>wr(o.getNode())).getOr(!1),d$=e=>e&&e.nodeName==="A"&&"href"in e,X9=e=>e.fold(je,d$,d$,je),Q9=e=>{const n=Ve(uy,e),o=ze.fromRangeStart(e.selection.getRng());return ip(n,e.getBody(),o).filter(X9)},J9=(e,n)=>{n.fold(Ct,Ve(u$,e),Ve(j9,e),Ct)},IS={insert:(e,n)=>{const o=Q9(e);o.isSome()?o.each(Ve(J9,e)):q9(e,n)},fakeEventName:"insertLineBreak"},h$=(e,n)=>FM(e).filter(o=>n.length>0&&ia(xe.fromDom(o),n)).isSome(),tW=e=>h$(e,r1(e)),nW=e=>h$(e,i1(e)),Of=yu.generate([{br:[]},{block:[]},{none:[]}]),oW=(e,n)=>nW(e),zM=e=>(n,o)=>r$(n)===e,m$=(e,n)=>(o,r)=>L9(o)===e.toUpperCase()===n,g$=e=>{const n=PA(e.dom,e.selection.getStart());return xt(n)},lw=e=>m$("pre",e),sW=()=>m$("summary",!0),FA=e=>(n,o)=>Ul(n)===e,WM=(e,n)=>tW(e),HA=(e,n)=>n,rW=e=>{const n=zl(e),o=PA(e.dom,e.selection.getStart());return Pe(o)&&e.schema.isValidChild(o.nodeName,n)},sd=(e,n)=>(o,r)=>Os(e,(f,v)=>f&&v(o,r),!0)?ee.some(n):ee.none(),iW=(e,n)=>_U([sd([oW],Of.none()),sd([lw(!0),g$],Of.none()),sd([sW()],Of.br()),sd([lw(!0),FA(!1),HA],Of.br()),sd([lw(!0),FA(!1)],Of.block()),sd([lw(!0),FA(!0),HA],Of.block()),sd([lw(!0),FA(!0)],Of.br()),sd([zM(!0),HA],Of.br()),sd([zM(!0)],Of.block()),sd([WM],Of.br()),sd([HA],Of.br()),sd([rW],Of.block())],[e,!!(n&&n.shiftKey)]).getOr(Of.none()),uw=(e,n,o)=>{n.selection.isCollapsed()||sI(n),!(Pe(o)&&NA(n,e.fakeEventName).isDefaultPrevented())&&(e.insert(n,o),Pe(o)&&$M(n,e.fakeEventName))},VA=(e,n)=>{const o=()=>uw(IS,e,n),r=()=>uw(l$,e,n),l=iW(e,n);switch(Ic(e)){case"linebreak":l.fold(o,o,Ct);break;case"block":l.fold(r,r,Ct);break;case"invert":l.fold(r,o,Ct);break;default:l.fold(o,r,Ct);break}},p$=(e,n)=>{n.isDefaultPrevented()||(n.preventDefault(),R7(e.undoManager),e.undoManager.transact(()=>{VA(e,n)}))},aW=e=>{e.on("keydown",n=>{n.keyCode===gn.ENTER&&p$(e,n)})},_K=(e,n,o)=>{const r=jo.os.isMacOS()||jo.os.isiOS();mi([{keyCode:gn.END,action:mo(lB,e,!0)},{keyCode:gn.HOME,action:mo(lB,e,!1)},...r?[]:[{keyCode:gn.HOME,action:mo(yA,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:gn.END,action:mo(yA,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:gn.END,action:mo(uM,e,!0)},{keyCode:gn.HOME,action:mo(uM,e,!1)},{keyCode:gn.END,action:mo(My,e,!0,n)},{keyCode:gn.HOME,action:mo(My,e,!1,n)}],o).each(l=>{o.preventDefault()})},_b=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||_K(e,n,o)})},cW=e=>{e.on("input",n=>{n.isComposing||F6(e)})},lW=Bs(),uW=(e,n,o)=>{mi([{keyCode:gn.PAGE_UP,action:mo(My,e,!1,n)},{keyCode:gn.PAGE_DOWN,action:mo(My,e,!0,n)}],o)},DS=e=>e.stopImmediatePropagation(),GM=e=>e.keyCode===gn.PAGE_UP||e.keyCode===gn.PAGE_DOWN,ZM=(e,n,o)=>{o&&!e.get()?n.on("NodeChange",DS,!0):!o&&e.get()&&n.off("NodeChange",DS),e.set(o)},dW=(e,n)=>{if(lW.os.isMacOS())return;const o=ci(!1);e.on("keydown",r=>{GM(r)&&ZM(o,e,!0)}),e.on("keyup",r=>{r.isDefaultPrevented()||uW(e,n,r),GM(r)&&o.get()&&(ZM(o,e,!1),e.nodeChanged())})},qM=(e,n)=>{const o=n.container(),r=n.offset();return Pt(o)?(o.insertData(r,e),ee.some(ze(o,r+e.length))):b1(n).map(l=>{const f=xe.fromText(e);return n.isAtEnd()?cl(l,f):ss(l,f),ze(f.dom,e.length)})},fW=Ve(qM,ds),hW=Ve(qM," "),mW=e=>n=>n.fold(o=>Fr(e.dom,ze.before(o)),o=>Dr(o),o=>Or(o),o=>$r(e.dom,ze.after(o))),v$=(e,n)=>o=>N6(e,o)?fW(n):hW(n),jM=e=>n=>(e.selection.setRng(n.toRange()),e.nodeChanged(),!0),gW=e=>{const n=ze.fromRangeStart(e.selection.getRng()),o=xe.fromDom(e.getBody());if(e.selection.isCollapsed()){const r=Ve(uy,e),l=ze.fromRangeStart(e.selection.getRng());return ip(r,e.getBody(),l).bind(mW(o)).map(f=>()=>v$(o,n)(f).each(jM(e)))}else return ee.none()},YM=(e,n)=>{fB([{keyCode:gn.SPACEBAR,action:mo(gW,e)}],n).each(o=>{n.preventDefault(),NA(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),$M(e,"insertText",{data:" "}))})},b$=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||YM(e,n)})},UA=e=>e_(e)?[{keyCode:gn.TAB,action:mo(_M,e,!0)},{keyCode:gn.TAB,shiftKey:!0,action:mo(_M,e,!1)}]:[],y$=(e,n)=>{mi([...UA(e)],n).each(o=>{n.preventDefault()})},E$=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||y$(e,n)})},pW=e=>{if(e.addShortcut("Meta+P","","mcePrint"),k9(e),ep(e))return ci(null);{const n=mS(e);return fz(e),zz(e,n),P9(e,n),aW(e),b$(e),cW(e),E$(e),_b(e,n),dW(e,n),n}};class vW{constructor(n){this.lastPath=[],this.editor=n;let o;const r=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",l=>{const f=n.selection.getRng(),v={startContainer:f.startContainer,startOffset:f.startOffset,endContainer:f.endContainer,endOffset:f.endOffset};(l.type==="nodechange"||!dT(v,o))&&n.dispatch("SelectionChange"),o=v}),n.on("contextmenu",()=>{n.dispatch("SelectionChange")}),n.on("SelectionChange",()=>{const l=n.selection.getStart(!0);l&&MC(n)&&!r.isSameElementPath(l)&&n.dom.isChildOf(l,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",l=>{!l.isDefaultPrevented()&&MC(n)&&(n.selection.getNode().nodeName==="IMG"?Ju.setEditorTimeout(n,()=>{n.nodeChanged()}):n.nodeChanged())})}nodeChanged(n={}){const o=this.editor.selection;let r;if(this.editor.initialized&&o&&!sC(this.editor)&&!this.editor.mode.isReadOnly()){const l=this.editor.getBody();r=o.getStart(!0)||l,(r.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(r,l))&&(r=l);const f=[];this.editor.dom.getParent(r,v=>v===l?!0:(f.push(v),!1)),this.editor.dispatch("NodeChange",{...n,element:r,parents:f})}}isSameElementPath(n){let o;const r=this.editor,l=js(r.dom.getParents(n,At,r.getBody()));if(l.length===this.lastPath.length){for(o=l.length;o>=0&&l[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=l,!0}return this.lastPath=l,!1}}const MS="x-tinymce/html",kS=Xe(MS),KM="<!-- "+MS+" -->",bW=e=>KM+e,_$=e=>e.replace(KM,""),w$=e=>e.indexOf(KM)!==-1,yW=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),EW=(e,n)=>{let o="<"+e;const r=jd(n,(l,f)=>f+'="'+Td.encodeAllRaw(l)+'"');return r.length&&(o+=" "+r.join(" ")),o+">"},_W=(e,n,o)=>{const r=e.split(/\n\n/),l=EW(n,o),f="</"+n+">",v=qt(r,A=>A.split(/\n/).join("<br />")),T=A=>l+A+f;return v.length===1?v[0]:qt(v,T).join("")},C$="%MCEPASTEBIN%",T$=(e,n)=>{const{dom:o,selection:r}=e,l=e.getBody();n.set(r.getRng());const f=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},C$);jo.browser.isFirefox()&&o.setStyle(f,"left",o.getStyle(l,"direction",!0)==="rtl"?65535:-65535),o.bind(f,"beforedeactivate focusin focusout",v=>{v.stopPropagation()}),f.focus(),r.select(f,!0)},wW=(e,n)=>{const o=e.dom;if(zA(e)){let r;const l=n.get();for(;r=zA(e);)o.remove(r),o.unbind(r);l&&e.selection.setRng(l)}n.set(null)},zA=e=>e.dom.get("mcepastebin"),CW=e=>Pe(e)&&e.id==="mcepastebin",TW=e=>{const n=e.dom,o=(v,T)=>{v.appendChild(T),n.remove(T,!0)},[r,...l]=En(e.getBody().childNodes,CW);lt(l,v=>{o(r,v)});const f=n.select("div[id=mcepastebin]",r);for(let v=f.length-1;v>=0;v--){const T=n.create("div");r.insertBefore(T,f[v]),o(T,f[v])}return r?r.innerHTML:""},S$=e=>e===C$,SW=e=>{const n=ci(null);return{create:()=>T$(e,n),remove:()=>wW(e,n),getEl:()=>zA(e),getHtml:()=>TW(e),getLastRng:n.get}},x$=(e,n)=>(me.each(n,o=>{ke(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),dw=e=>{const n=hl(),o=gb({},n);let r="";const l=n.getVoidElements(),f=me.makeMap("script noscript style textarea video audio iframe object"," "),v=n.getBlockElements(),T=A=>{const L=A.name,q=A;if(L==="br"){r+=`
`;return}if(L!=="wbr"){if(l[L]&&(r+=" "),f[L]){r+=" ";return}if(A.type===3&&(r+=A.value),!(A.name in n.getVoidElements())){let Z=A.firstChild;if(Z)do T(Z);while(Z=Z.next)}v[L]&&q.next&&(r+=`
`,L==="p"&&(r+=`
`))}};return e=x$(e,[/<!\[[^\]]+\]>/g]),T(o.parse(e)),r},A$=e=>(e=x$(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,r,l)=>!r&&!l?" ":ds],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),xW=e=>{let n=0;return()=>e+n++},O$=e=>{const n=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return me.hasOwn(o,n)?"image/"+o[n]:"image/"+n},AW=(e,n)=>{const o=gb({sanitize:Gv(e)},e.schema);o.addNodeFilter("meta",l=>{me.each(l,f=>{f.remove()})});const r=o.parse(n,{forced_root_block:!1,isRootContent:!0});return ab({validate:!0},e.schema).serialize(r)},R$=(e,n)=>({content:e,cancelled:n}),OW=(e,n,o)=>{const r=e.dom.create("div",{style:"display:none"},n),l=CR(e,r,o);return R$(l.node.innerHTML,l.isDefaultPrevented())},I$=(e,n,o)=>{const r=tT(e,n,o),l=AW(e,r.content);return e.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?OW(e,l,o):R$(l,r.isDefaultPrevented())},RW=(e,n,o)=>I$(e,n,o),XM=(e,n)=>(e.insertContent(n,{merge:O0(e),paste:!0}),!0),D$=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),WA=(e,n)=>D$(n)&&as(D0(e),o=>Iu(n.toLowerCase(),`.${o.toLowerCase()}`)),IW=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.insertContent('<img src="'+n+'">')}),!0),DW=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.execCommand("mceInsertLink",!1,n)}),!0),MW=(e,n,o)=>!e.selection.isCollapsed()&&D$(n)?DW(e,n,o):!1,kW=(e,n,o)=>WA(e,n)?IW(e,n,o):!1,NW=(e,n)=>{me.each([MW,kW,XM],o=>!o(e,n,XM))},PW=(e,n,o)=>{o||!Yu(e)?XM(e,n):NW(e,n)},LW=xW("mceclip"),M$=(e,n,o,r)=>{const l=RW(e,n,o);l.cancelled||PW(e,l.content,r)},GA=(e,n,o)=>{const r=o||w$(n);M$(e,_$(n),r,!1)},QM=(e,n)=>{const o=e.dom.encode(n).replace(/\r\n/g,`
`),r=eh(o,R0(e)),l=_W(r,zl(e),Bg(e));M$(e,l,!1,!0)},k$=e=>{const n={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const r=e.types[o];try{n[r]=e.getData(r)}catch{n[r]=""}}return n},wb=(e,n)=>n in e&&e[n].length>0,N$=e=>wb(e,"text/html")||wb(e,"text/plain"),ar=(e,n)=>{const o=n.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Pe(o)?e.dom.encode(o[1]):void 0},BW=(e,n,o,r)=>{const l=LW(),f=Xa(e)&&Pe(o.name),v=f?ar(e,o.name):l,T=f?o.name:void 0,A=n.create(l,o,r,v,T);return n.add(A),A},P$=(e,n)=>{G_(n.uri).each(({data:o,type:r,base64Encoded:l})=>{const f=l?o:btoa(o),v=n.file,T=e.editorUpload.blobCache,A=T.getByData(f,r),L=A??BW(e,T,v,f);GA(e,`<img src="${L.blobUri()}">`,!1)})},$W=e=>e.type==="paste",JM=e=>Promise.all(qt(e,n=>ML(n).then(o=>({file:n,uri:o})))),L$=e=>{const n=D0(e);return o=>vi(o.type,"image/")&&as(n,r=>O$(r)===o.type)},B$=(e,n)=>{const o=n.items?ga(pr(n.items),l=>l.kind==="file"?[l.getAsFile()]:[]):[],r=n.files?pr(n.files):[];return En(o.length>0?o:r,L$(e))},$$=(e,n,o)=>{const r=$W(n)?n.clipboardData:n.dataTransfer;if(wm(e)&&r){const l=B$(e,r);if(l.length>0)return n.preventDefault(),JM(l).then(f=>{o&&e.selection.setRng(o),lt(f,v=>{P$(e,v)})}),!0}return!1},F$=e=>{var n,o;return jo.os.isAndroid()&&((o=(n=e.clipboardData)===null||n===void 0?void 0:n.items)===null||o===void 0?void 0:o.length)===0},FW=e=>gn.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,ek=(e,n,o,r)=>{let l=A$(o);const f=wb(n,kS())||w$(o),v=!f&&yW(l),T=D$(l);(S$(l)||!l.length||v&&!T)&&(r=!0),(r||T)&&(wb(n,"text/plain")&&v?l=n["text/plain"]:l=dw(l)),!S$(l)&&(r?QM(e,l):GA(e,l,f))},H$=(e,n,o)=>{let r;const l=()=>n.getLastRng()||e.selection.getRng();e.on("keydown",f=>{FW(f)&&!f.isDefaultPrevented()&&(r=f.shiftKey&&f.keyCode===86)}),e.on("paste",f=>{if(f.isDefaultPrevented()||F$(f))return;const v=o.get()==="text"||r;r=!1;const T=k$(f.clipboardData);!N$(T)&&$$(e,f,l())||(wb(T,"text/html")?(f.preventDefault(),ek(e,T,T["text/html"],v)):wb(T,"text/plain")&&wb(T,"text/uri-list")?(f.preventDefault(),ek(e,T,T["text/plain"],v)):(n.create(),Ju.setEditorTimeout(e,()=>{const A=n.getHtml();n.remove(),ek(e,T,A,v)},0)))})},HW=e=>{const n=l=>vi(l,"webkit-fake-url"),o=l=>vi(l,"data:"),r=l=>{var f;return((f=l.data)===null||f===void 0?void 0:f.paste)===!0};e.parser.addNodeFilter("img",(l,f,v)=>{if(!wm(e)&&r(v))for(const T of l){const A=T.attr("src");ne(A)&&!T.attr("data-mce-object")&&A!==jo.transparentSrc&&(n(A)||!KE(e)&&o(A))&&T.remove()}})},VW=(e,n,o)=>{H$(e,n,o),HW(e)},ZA=(e,n)=>{n.get()==="text"?(n.set("html"),jg(e,!1)):(n.set("text"),jg(e,!0)),e.focus()},NS=(e,n)=>{e.addCommand("mceTogglePlainTextPaste",()=>{ZA(e,n)}),e.addCommand("mceInsertClipboardContent",(o,r)=>{r.html&&GA(e,r.html,r.internal),r.text&&QM(e,r.text)})},V$=(e,n,o)=>{if(e)try{return e.clearData(),e.setData("text/html",n),e.setData("text/plain",o),e.setData(kS(),n),!0}catch{return!1}else return!1},Wd=(e,n,o,r)=>{V$(e.clipboardData,n.html,n.text)?(e.preventDefault(),r()):o(n.html,r)},U$=e=>(n,o)=>{const{dom:r,selection:l}=e,f=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),v=r.create("div",{contenteditable:"true"},n);r.setStyles(f,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),f.appendChild(v),r.add(e.getBody(),f);const T=l.getRng();v.focus();const A=r.createRng();A.selectNodeContents(v),l.setRng(A),Ju.setEditorTimeout(e,()=>{l.setRng(T),r.remove(f),o()},0)},Ny=e=>({html:bW(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),PS=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),z$=e=>!e.selection.isCollapsed()||PS(e),UW=e=>n=>{!n.isDefaultPrevented()&&z$(e)&&Wd(n,Ny(e),U$(e),()=>{if(jo.browser.isChromium()||jo.browser.isFirefox()){const o=e.selection.getRng();Ju.setEditorTimeout(e,()=>{e.selection.setRng(o),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},fw=e=>n=>{!n.isDefaultPrevented()&&z$(e)&&Wd(n,Ny(e),U$(e),Ct)},zW=e=>{e.on("cut",UW(e)),e.on("copy",fw(e))},qA=(e,n)=>{var o,r;return nb.getCaretRangeFromPoint((o=n.clientX)!==null&&o!==void 0?o:0,(r=n.clientY)!==null&&r!==void 0?r:0,e.getDoc())},tk=e=>{const n=e["text/plain"];return n?n.indexOf("file://")===0:!1},nk=(e,n)=>{e.focus(),n&&e.selection.setRng(n)},WW=e=>as(e.files,n=>/^image\//.test(n.type)),GW=(e,n,o,r)=>{const l=e.getParent(o,f=>uf(n,f));if(l&&zn(r,"text/html")){const f=new DOMParser().parseFromString(r["text/html"],"text/html").body;return!ye(f.querySelector(l.nodeName.toLowerCase()))}else return!1},W$=(e,n)=>{zv(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),wm(e)||e.on("drop",o=>{const r=o.dataTransfer;r&&WW(r)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const r=qA(e,o);if(xt(r))return;const l=k$(o.dataTransfer),f=wb(l,kS());if((!N$(l)||tk(l))&&$$(e,o,r))return;const v=l[kS()],T=v||l["text/html"]||l["text/plain"],A=GW(e.dom,e.schema,r.startContainer,l);n.get()&&!A||T&&(o.preventDefault(),Ju.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{v&&e.execCommand("Delete"),nk(e,r);const L=A$(T);l["text/html"]?GA(e,L,f):QM(e,L)})}))}),e.on("dragstart",o=>{n.set(!0)}),e.on("dragover dragend",o=>{wm(e)&&!n.get()&&(o.preventDefault(),nk(e,qA(e,o))),o.type==="dragend"&&n.set(!1)})},G$=e=>{const n=l=>f=>{l(e,f)},o=Wv(e);he(o)&&e.on("PastePreProcess",n(o));const r=YE(e);he(r)&&e.on("PastePostProcess",n(r))},ZW=(e,n)=>{e.on("PastePreProcess",o=>{o.content=n(e,o.content,o.internal)})},qW=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,Z$=e=>me.trim(e).replace(qW,Yv).toLowerCase(),q$=(e,n,o)=>{const r=Dd(e);if(o||r==="all"||!u1(e))return n;const l=r?r.split(/[, ]/):[];if(l&&r!=="none"){const f=e.dom,v=e.selection.getNode();n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(T,A,L,q)=>{const Z=f.parseStyle(f.decode(L)),te={};for(let Se=0;Se<l.length;Se++){const ue=Z[l[Se]];let Ce=ue,Be=f.getStyle(v,l[Se],!0);/color/.test(l[Se])&&(Ce=Z$(Ce),Be=Z$(Be)),Be!==Ce&&(te[l[Se]]=ue)}const we=f.serializeStyle(te,"span");return we?A+' style="'+we+'"'+q:A+q})}else n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return n=n.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(f,v,T,A)=>v+' style="'+T+'"'+A),n},jW=e=>{(jo.browser.isChromium()||jo.browser.isSafari())&&ZW(e,q$)},j$=e=>{const n=ci(!1),o=ci(hh(e)?"text":"html"),r=SW(e);jW(e),NS(e,o),G$(e),e.on("PreInit",()=>{zW(e),W$(e,n),VW(e,r,o)})},YW=e=>{e.on("click",n=>{e.dom.getParent(n.target,"details")&&n.preventDefault()})},KW=e=>{e.parser.addNodeFilter("details",n=>{lt(n,o=>{o.attr("data-mce-open",o.attr("open")),o.attr("open","open")})}),e.serializer.addNodeFilter("details",n=>{lt(n,o=>{const r=o.attr("data-mce-open");o.attr("open",ne(r)?r:null),o.attr("data-mce-open",null)})})},Y$=e=>{YW(e),KW(e)},XW=wr,K$=Pt,QW=e=>es(e.dom),X$=e=>Go(e.dom),Q$=e=>n=>zo(xe.fromDom(e),n),JW=(e,n)=>Wo(xe.fromDom(e),o=>X$(o)||xa(o),Q$(n)).getOr(xe.fromDom(n)).dom,J$=(e,n)=>Wo(xe.fromDom(e),QW,Q$(n)),eF=(e,n,o)=>{const r=new ri(e,n),l=o?r.next.bind(r):r.prev.bind(r);let f=e;for(let v=o?e:l();v&&!XW(v);v=l())zc(v)&&(f=v);return f},eG=(e,n)=>{const r=ze.fromRangeStart(e).getNode(),l=JW(r,n),f=eF(r,l,!1),v=eF(r,l,!0),T=document.createRange();return J$(f,l).fold(()=>{K$(f)?T.setStart(f,0):T.setStartBefore(f)},A=>T.setStartBefore(A.dom)),J$(v,l).fold(()=>{K$(v)?T.setEnd(v,v.data.length):T.setEndAfter(v)},A=>T.setEndAfter(A.dom)),T},tG=e=>{const n=eG(e.selection.getRng(),e.getBody());e.selection.setRng(DT(n))},nG=e=>{e.on("mousedown",n=>{n.detail>=3&&(n.preventDefault(),tG(e))})};var Py;(function(e){e.Before="before",e.After="after"})(Py||(Py={}));const oG=(e,n)=>Math.abs(e.left-n),sG=(e,n)=>Math.abs(e.right-n),rG=(e,n)=>e>=n.top&&e<=n.bottom,iG=(e,n)=>e.top<n.bottom&&e.bottom>n.top,aG=(e,n)=>{const o=c0(e,n)/Math.min(e.height,n.height);return iG(e,n)&&o>.5},tF=(e,n)=>{const o=En(e,r=>rG(n,r));return a0(o).fold(()=>[[],e],r=>{const{pass:l,fail:f}=Ui(e,v=>aG(v,r));return[l,f]})},cG=(e,n)=>({node:e.node,position:oG(e,n)<sG(e,n)?Py.Before:Py.After}),lG=(e,n,o)=>n>e.left&&n<e.right?0:Math.min(Math.abs(e.left-n),Math.abs(e.right-n)),ok=(e,n,o)=>{const r=q=>zc(q.node)?ee.some(q):Xt(q.node)?ok(pr(q.node.childNodes),n,o):ee.none(),l=(q,Z)=>{if(q.length>=2){const te=r(q[0]).getOr(q[0]),we=r(q[1]).getOr(q[1]);if(Math.abs(Z(te,n,o)-Z(we,n,o))<2){if(Pt(te.node))return ee.some(te);if(Pt(we.node))return ee.some(we)}}return ee.none()},f=(q,Z)=>{const te=Rs(q,(we,Se)=>Z(we,n,o)-Z(Se,n,o));return l(te,Z).orThunk(()=>ei(te,r))},[v,T]=tF(Ry(e),o),{pass:A,fail:L}=Ui(T,q=>q.top<o);return f(v,lG).orThunk(()=>f(L,AE)).orThunk(()=>f(A,AE))},uG=(e,n,o,r)=>{const l=(f,v)=>{const T=L=>Xt(L)&&L.classList.contains("mce-drag-container"),A=En(f.dom.childNodes,uo(T));return v.fold(()=>ok(A,o,r),L=>{const q=En(A,Z=>Z!==L.dom);return ok(q,o,r)}).orThunk(()=>(zo(f,e)?ee.none():oi(f)).bind(q=>l(q,ee.some(f))))};return l(n,ee.none())},dG=(e,n,o)=>{const r=xe.fromDom(e),l=wt(r),v=xe.fromPoint(l,n,o).filter(T=>Qe(r,T)).getOr(r);return uG(r,v,n,o)},nF=(e,n,o)=>dG(e,n,o).filter(r=>wf(r.node)).map(r=>cG(r,n)),oF=e=>{var n,o;const r=e.getBoundingClientRect(),l=e.ownerDocument,f=l.documentElement,v=l.defaultView;return{top:r.top+((n=v==null?void 0:v.scrollY)!==null&&n!==void 0?n:0)-f.clientTop,left:r.left+((o=v==null?void 0:v.scrollX)!==null&&o!==void 0?o:0)-f.clientLeft}},jA=e=>e.inline?oF(e.getBody()):{left:0,top:0},sF=e=>{const n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},fG=e=>{const n=e.getBody(),o=e.getDoc().documentElement,r={left:n.scrollLeft,top:n.scrollTop},l={left:n.scrollLeft||o.scrollLeft,top:n.scrollTop||o.scrollTop};return e.inline?r:l},rF=(e,n)=>{if(n.target.ownerDocument!==e.getDoc()){const o=oF(e.getContentAreaContainer()),r=fG(e);return{left:n.pageX-o.left+r.left,top:n.pageY-o.top+r.top}}return{left:n.pageX,top:n.pageY}},iF=(e,n,o)=>({pageX:o.left-e.left+n.left,pageY:o.top-e.top+n.top}),sk=(e,n)=>iF(jA(e),sF(e),rF(e,n)),hG=(e,n,o)=>({...n,dataTransfer:null,type:e,...o}),aF=(e,n)=>{const o=Lo("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,srcElement:null,target:null,timeStamp:0,type:e,composedPath:o,initEvent:o,preventDefault:Ct,stopImmediatePropagation:Ct,stopPropagation:Ct,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:o,initMouseEvent:o,getModifierState:o,dataTransfer:null,...n}},cF=e=>({target:e,srcElement:e}),lF=e=>n=>aF(e,cF(n)),rk=e=>(n,o)=>hG(e,n,cF(o)),uF=rk("dragstart"),mG=rk("drop"),gG=lF("dragend"),dF=rk("dragend"),Cb=32,pG=100,YA=8,LS=16,fF=es,vG=Yw(fF,Go),bG=(e,n,o)=>fF(o)&&o!==n&&e.isEditable(o.parentElement),yG=(e,n,o)=>xt(n)||n===o||e.dom.isChildOf(n,o)?!1:e.dom.isEditable(n),EG=e=>{const n=e.cloneNode(!0);return n.removeAttribute("data-mce-selected"),n},KA=(e,n,o,r)=>{const l=e.dom,f=n.cloneNode(!0);l.setStyles(f,{width:o,height:r}),l.setAttrib(f,"data-mce-selected",null);const v=l.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return l.setStyles(v,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:r}),l.setStyles(f,{margin:0,boxSizing:"border-box"}),v.appendChild(f),v},hF=(e,n)=>{e.parentNode!==n&&n.appendChild(e)},BS=(e,n)=>o=>()=>{const r=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:r+n,behavior:"smooth"})},mF=BS("left",-Cb),gF=BS("left",Cb),pF=BS("top",-Cb),_G=BS("top",Cb),wG=(e,n,o,r,l,f,v,T,A,L,q,Z)=>{let te=0,we=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+o>l&&(te=n.pageX+o-l),n.pageY+r>f&&(we=n.pageY+r-f),e.style.width=o-te+"px",e.style.height=r-we+"px";const Se=A.clientHeight,ue=A.clientWidth,Ce=v+A.getBoundingClientRect().top,Be=T+A.getBoundingClientRect().left;q.on(Ie=>{Ie.intervalId.clear(),Ie.dragging&&Z&&(v+YA>=Se?Ie.intervalId.set(_G(L)):v-YA<=0?Ie.intervalId.set(pF(L)):T+YA>=ue?Ie.intervalId.set(gF(L)):T-YA<=0?Ie.intervalId.set(mF(L)):Ce+LS>=window.innerHeight?Ie.intervalId.set(_G(window)):Ce-LS<=0?Ie.intervalId.set(pF(window)):Be+LS>=window.innerWidth?Ie.intervalId.set(gF(window)):Be-LS<=0&&Ie.intervalId.set(mF(window)))})},XA=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},ik=(e,n)=>{const o=e.getParent(n.parentNode,e.isBlock);XA(n),o&&o!==e.getRoot()&&e.isEmpty(o)&&vg(xe.fromDom(o))},QA=e=>e.button===0,CG=(e,n)=>({pageX:n.pageX-e.relX,pageY:n.pageY+5}),TG=(e,n)=>o=>{if(QA(o)){const r=gs(n.dom.getParents(o.target),vG).getOr(null);if(Pe(r)&&bG(n.dom,n.getBody(),r)){const l=n.dom.getPos(r),f=n.getBody(),v=n.getDoc().documentElement;e.set({element:r,dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(n.inline?f.scrollWidth:v.offsetWidth)-2,maxY:(n.inline?f.scrollHeight:v.offsetHeight)-2,relX:o.pageX-l.x,relY:o.pageY-l.y,width:r.offsetWidth,height:r.offsetHeight,ghost:KA(n,r,r.offsetWidth,r.offsetHeight),intervalId:_s(pG)})}}},vF=(e,n,o)=>{e._selectionOverrides.hideFakeCaret(),nF(e.getBody(),n,o).fold(()=>e.selection.placeCaretAt(n,o),r=>{const l=e._selectionOverrides.showCaret(1,r.node,r.position===Py.Before,!1);l?e.selection.setRng(l):e.selection.placeCaretAt(n,o)})},SG=(e,n)=>{const o=Hl((l,f)=>vF(n,l,f),0);n.on("remove",o.cancel);const r=e;return l=>e.on(f=>{const v=Math.max(Math.abs(l.screenX-f.screenX),Math.abs(l.screenY-f.screenY));if(!f.dragging&&v>10){if(n.dispatch("dragstart",uF(l,f.element)).isDefaultPrevented())return;f.dragging=!0,n.focus()}if(f.dragging){const T=l.currentTarget===n.getDoc().documentElement,A=CG(f,sk(n,l));hF(f.ghost,n.getBody()),wG(f.ghost,A,f.width,f.height,f.maxX,f.maxY,l.clientY,l.clientX,n.getContentAreaContainer(),n.getWin(),r,T),o.throttle(l.clientX,l.clientY)}})},ak=e=>{const n=e.getSel();if(Pe(n)){const r=n.getRangeAt(0).startContainer;return Pt(r)?r.parentNode:r}else return null},bF=(e,n)=>o=>{e.on(r=>{var l;if(r.intervalId.clear(),r.dragging){if(yG(n,ak(n.selection),r.element)){const f=EG(r.element),v=(l=n.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&l!==void 0?l:n.getBody();n.dispatch("drop",mG(o,v)).isDefaultPrevented()||n.undoManager.transact(()=>{ik(n.dom,r.element),n.insertContent(n.dom.getOuterHTML(f)),n._selectionOverrides.hideFakeCaret()})}n.dispatch("dragend",dF(o,n.getBody()))}}),ck(e)},yF=(e,n,o)=>{e.on(r=>{if(r.intervalId.clear(),r.dragging){const l=o.fold(()=>gG(r.element),f=>dF(f,r.element));n.dispatch("dragend",l)}}),ck(e)},xG=(e,n)=>o=>yF(e,n,ee.some(o)),ck=e=>{e.on(n=>{n.intervalId.clear(),XA(n.ghost)}),e.clear()},AG=e=>{const n=Ci(),o=zs.DOM,r=document,l=TG(n,e),f=SG(n,e),v=bF(n,e),T=xG(n,e);e.on("mousedown",l),e.on("mousemove",f),e.on("mouseup",v),o.bind(r,"mousemove",f),o.bind(r,"mouseup",T),e.on("remove",()=>{o.unbind(r,"mousemove",f),o.unbind(r,"mouseup",T)}),e.on("keydown",A=>{A.keyCode===gn.ESC&&yF(n,e,ee.none())})},wK=e=>{const n=l=>{if(!l.isDefaultPrevented()){const f=l.dataTransfer;f&&(Dn(f.types,"Files")||f.files.length>0)&&(l.preventDefault(),l.type==="drop"&&X_(e,"Dropped file type is not supported"))}},o=l=>{ry(e,l.target)&&n(l)},r=()=>{const l=zs.DOM,f=e.dom,v=document,T=e.inline?e.getBody():e.getDoc(),A=["drop","dragover"];lt(A,L=>{l.bind(v,L,o),f.bind(T,L,n)}),e.on("remove",()=>{lt(A,L=>{l.unbind(v,L,o),f.unbind(T,L,n)})})};e.on("init",()=>{Ju.setEditorTimeout(e,r,0)})},OG=e=>{AG(e),qE(e)&&wK(e)},RG=e=>{const n=Hl(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const r=tw(e,o,!1);e.selection.setRng(r)}}},0);e.on("focus",()=>{n.throttle()}),e.on("blur",()=>{n.cancel()})},IG=e=>{e.on("init",()=>{e.on("focusin",n=>{const o=n.target;if(qr(o)){const r=Qg(e.getBody(),o),l=es(r)?r:o;e.selection.getNode()!==l&&lS(e,l).each(f=>e.selection.setRng(f))}})})},hw=es,EF=(e,n)=>Qg(e.getBody(),n),_F=e=>{const n=e.selection,o=e.dom,r=e.getBody(),l=B0(e,r,o.isBlock,()=>ib(e)),f="sel-"+o.uniqueId(),v="data-mce-selected";let T;const A=Ft=>Pe(Ft)&&o.hasClass(Ft,"mce-offscreen-selection"),L=Ft=>Ft!==r&&(hw(Ft)||qr(Ft))&&o.isChildOf(Ft,r)&&o.isEditable(Ft.parentNode),q=Ft=>{Ft&&n.setRng(Ft)},Z=(Ft,at,it,ln=!0)=>e.dispatch("ShowCaret",{target:at,direction:Ft,before:it}).isDefaultPrevented()?null:(ln&&n.scrollIntoView(at,Ft===-1),l.show(it,at)),te=Ft=>{Ft.hasAttribute("data-mce-caret")&&(lv(Ft),n.scrollIntoView(Ft))},we=()=>{e.on("click",at=>{o.isEditable(at.target)||(at.preventDefault(),e.focus())}),e.on("blur NewBlock",et),e.on("ResizeWindow FullscreenStateChanged",l.reposition),e.on("tap",at=>{const it=at.target,ln=EF(e,it);hw(ln)?(at.preventDefault(),lS(e,ln).each(Ue)):L(it)&&lS(e,it).each(Ue)},!0),e.on("mousedown",at=>{const it=at.target;if(it!==r&&it.nodeName!=="HTML"&&!o.isChildOf(it,r)||!Ty(e,at.clientX,at.clientY))return;et(),Yt();const ln=EF(e,it);hw(ln)?(at.preventDefault(),lS(e,ln).each(Ue)):nF(r,at.clientX,at.clientY).each(xn=>{at.preventDefault();const Bn=Z(1,xn.node,xn.position===Py.Before,!1);q(Bn),Xt(ln)?ln.focus():e.getBody().focus()})}),e.on("keypress",at=>{gn.modifierPressed(at)||hw(n.getNode())&&at.preventDefault()}),e.on("GetSelectionRange",at=>{let it=at.range;if(T){if(!T.parentNode){T=null;return}it=it.cloneRange(),it.selectNode(T),at.range=it}}),e.on("SetSelectionRange",at=>{at.range=Ce(at.range);const it=Ue(at.range,at.forward);it&&(at.range=it)});const Ft=at=>Xt(at)&&at.id==="mcepastebin";e.on("AfterSetSelectionRange",at=>{const it=at.range,ln=it.startContainer.parentElement;!ue(it)&&!Ft(ln)&&Yt(),A(ln)||et()}),OG(e),RG(e),IG(e)},Se=Ft=>Uc(Ft)||Jh(Ft)||bg(Ft),ue=Ft=>Se(Ft.startContainer)||Se(Ft.endContainer),Ce=Ft=>{const at=e.schema.getVoidElements(),it=o.createRng(),ln=Ft.startContainer,xn=Ft.startOffset,Bn=Ft.endContainer,ho=Ft.endOffset;return zn(at,ln.nodeName.toLowerCase())?xn===0?it.setStartBefore(ln):it.setStartAfter(ln):it.setStart(ln,xn),zn(at,Bn.nodeName.toLowerCase())?ho===0?it.setEndBefore(Bn):it.setEndAfter(Bn):it.setEnd(Bn,ho),it},Be=(Ft,at)=>{const it=xe.fromDom(e.getBody()),ln=e.getDoc(),xn=Dp(it,"#"+f).getOrThunk(()=>{const No=xe.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',ln);return io(No,"id",f),Er(it,No),No}),Bn=o.createRng();Xs(xn),nf(xn,[xe.fromText(ds,ln),xe.fromDom(at),xe.fromText(ds,ln)]),Bn.setStart(xn.dom.firstChild,1),Bn.setEnd(xn.dom.lastChild,0),aa(xn,{top:o.getPos(Ft,e.getBody()).y+"px"}),Un(xn);const ho=n.getSel();return ho&&(ho.removeAllRanges(),ho.addRange(Bn)),Bn},Ie=Ft=>{const at=Ft.cloneNode(!0),it=e.dispatch("ObjectSelected",{target:Ft,targetClone:at});if(it.isDefaultPrevented())return null;const ln=Be(Ft,it.targetClone),xn=xe.fromDom(Ft);return lt(Ta(xe.fromDom(e.getBody()),`*[${v}]`),Bn=>{zo(xn,Bn)||dr(Bn,v)}),o.getAttrib(Ft,v)||Ft.setAttribute(v,"1"),T=Ft,Yt(),ln},Ue=(Ft,at)=>{if(!Ft)return null;if(Ft.collapsed){if(!ue(Ft)){const Bn=at?1:-1,ho=Ug(Bn,r,Ft),No=ho.getNode(!at);if(Pe(No)){if(wf(No))return Z(Bn,No,at?!ho.isAtEnd():!1,!1);if(Za(No)&&es(No.nextSibling)){const Zs=o.createRng();return Zs.setStart(No,0),Zs.setEnd(No,0),Zs}}const bs=ho.getNode(at);if(Pe(bs)){if(wf(bs))return Z(Bn,bs,at?!1:!ho.isAtEnd(),!1);if(Za(bs)&&es(bs.previousSibling)){const Zs=o.createRng();return Zs.setStart(bs,1),Zs.setEnd(bs,1),Zs}}}return null}let it=Ft.startContainer,ln=Ft.startOffset;const xn=Ft.endOffset;if(Pt(it)&&ln===0&&hw(it.parentNode)&&(it=it.parentNode,ln=o.nodeIndex(it),it=it.parentNode),!Xt(it))return null;if(xn===ln+1&&it===Ft.endContainer){const Bn=it.childNodes[ln];if(L(Bn))return Ie(Bn)}return null},et=()=>{T&&T.removeAttribute(v),Dp(xe.fromDom(e.getBody()),"#"+f).each(_r),T=null},yt=()=>{l.destroy(),T=null},Yt=()=>{l.hide()};return ep(e)||we(),{showCaret:Z,showBlockCaretContainer:te,hideFakeCaret:Yt,destroy:yt}},DG=(e,n)=>{let o=n;for(let r=e.previousSibling;Pt(r);r=r.previousSibling)o+=r.data.length;return o},wF=(e,n,o,r,l)=>{if(Pt(o)&&(r<0||r>o.data.length))return[];const f=l&&Pt(o)?[DG(o,r)]:[r];let v=o;for(;v!==n&&v.parentNode;)f.push(e.nodeIndex(v,l)),v=v.parentNode;return v===n?f.reverse():[]},lk=(e,n,o,r,l,f,v=!1)=>{const T=wF(e,n,o,r,v),A=wF(e,n,l,f,v);return{start:T,end:A}},CF=(e,n)=>{const o=n.slice(),r=o.pop();return dn(r)?Os(o,(f,v)=>f.bind(T=>ee.from(T.childNodes[v])),ee.some(e)).bind(f=>Pt(f)&&(r<0||r>f.data.length)?ee.none():ee.some({node:f,offset:r})):ee.none()},TF=(e,n)=>CF(e,n.start).bind(({node:o,offset:r})=>CF(e,n.end).map(({node:l,offset:f})=>{const v=document.createRange();return v.setStart(o,r),v.setEnd(l,f),v})),SF=(e,n,o,r=!1)=>lk(e,n,o.startContainer,o.startOffset,o.endContainer,o.endOffset,r),$S=(e,n,o)=>{if(n&&e.isEmpty(n)&&!o(n)){const r=n.parentNode;e.remove(n),$S(e,r,o)}},JA=(e,n,o,r=!0)=>{const l=n.startContainer.parentNode,f=n.endContainer.parentNode;n.deleteContents(),r&&!o(n.startContainer)&&(Pt(n.startContainer)&&n.startContainer.data.length===0&&e.remove(n.startContainer),Pt(n.endContainer)&&n.endContainer.data.length===0&&e.remove(n.endContainer),$S(e,l,o),l!==f&&$S(e,f,o))},eO=(e,n)=>ee.from(e.dom.getParent(n.startContainer,e.dom.isBlock)),xF=(e,n,o)=>{const r=e.dynamicPatternsLookup({text:o,block:n});return{...e,blockPatterns:ui(r).concat(e.blockPatterns),inlinePatterns:n1(r).concat(e.inlinePatterns)}},tO=(e,n,o,r)=>{const l=e.createRng();return l.setStart(n,0),l.setEnd(o,r),l.toString()},MG=e=>/^\s[^\s]/.test(e),AF=(e,n,o)=>{xB(n,0,n).each(l=>{const f=l.container;AB(f,o.start.length,n).each(A=>{const L=e.createRng();L.setStart(f,0),L.setEnd(A.container,A.offset),JA(e,L,q=>q===n)});const v=xe.fromDom(f),T=Ir(v);MG(T)&&lc(v,T.slice(1))})},kG=(e,n)=>{const o=e.dom,r=n.pattern,l=TF(o.getRoot(),n.range).getOrDie("Unable to resolve path range"),f=(v,T)=>{const A=T.get(v);return $(A)&&Oi(A).exists(L=>zn(L,"block"))};return eO(e,l).each(v=>{r.type==="block-format"?f(r.format,e.formatter)&&e.undoManager.transact(()=>{AF(e.dom,v,r),e.formatter.apply(r.format)}):r.type==="block-command"&&e.undoManager.transact(()=>{AF(e.dom,v,r),e.execCommand(r.cmd,!1,r.value)})}),!0},OF=e=>Rs(e,(n,o)=>o.start.length-n.start.length),nO=(e,n)=>{const o=OF(e),r=n.replace(ds," ");return gs(o,l=>n.indexOf(l.start)===0||r.indexOf(l.start)===0)},RF=(e,n,o,r)=>{var l;const f=e.dom,v=zl(e);if(!f.is(n,v))return[];const T=(l=n.textContent)!==null&&l!==void 0?l:"";return nO(o.blockPatterns,T).map(A=>me.trim(T).length===A.start.length?[]:[{pattern:A,range:lk(f,f.getRoot(),n,0,n,0,r)}]).getOr([])},IF=(e,n)=>{if(n.length===0)return;const o=e.selection.getBookmark();lt(n,r=>kG(e,r)),e.selection.moveToBookmark(o)},DF=(e,n)=>e.create("span",{"data-mce-type":"bookmark",id:n}),oO=(e,n)=>{const o=e.createRng();return o.setStartAfter(n.start),o.setEndBefore(n.end),o},uk=(e,n,o)=>{const r=TF(e.getRoot(),o).getOrDie("Unable to resolve path range"),l=r.startContainer,f=r.endContainer,v=r.endOffset===0?f:f.splitText(r.endOffset),T=r.startOffset===0?l:l.splitText(r.startOffset),A=T.parentNode,L=v.parentNode;return{prefix:n,end:L.insertBefore(DF(e,n+"-end"),v),start:A.insertBefore(DF(e,n+"-start"),T)}},MF=(e,n,o)=>{$S(e,e.get(n.prefix+"-end"),o),$S(e,e.get(n.prefix+"-start"),o)},dk=e=>e.start.length===0,NG=e=>(n,o)=>{const l=n.data.substring(0,o),f=l.lastIndexOf(e.charAt(e.length-1)),v=l.lastIndexOf(e);return v!==-1?v+e.length:f!==-1?f+1:-1},sO=(e,n,o,r)=>{const l=n.start;return wA(e,r.container,r.offset,NG(l),o).bind(v=>{var T,A;const L=(A=(T=o.textContent)===null||T===void 0?void 0:T.indexOf(l))!==null&&A!==void 0?A:-1;if(L!==-1&&v.offset>=L+l.length){const Z=e.createRng();return Z.setStart(v.container,v.offset-l.length),Z.setEnd(v.container,v.offset),ee.some(Z)}else{const Z=v.offset-l.length;return CM(v.container,Z,o).map(te=>{const we=e.createRng();return we.setStart(te.container,te.offset),we.setEnd(v.container,v.offset),we}).filter(te=>te.toString()===l).orThunk(()=>sO(e,n,o,Zm(v.container,0)))}})},PG=(e,n,o,r,l,f=!1)=>{if(n.start.length===0&&!f){const v=e.createRng();return v.setStart(o,r),v.setEnd(o,r),ee.some(v)}return wM(o,r,l).bind(v=>sO(e,n,l,v).bind(A=>{var L;if(f){if(A.endContainer===v.container&&A.endOffset===v.offset)return ee.none();if(v.offset===0&&((L=A.endContainer.textContent)===null||L===void 0?void 0:L.length)===A.endOffset)return ee.none()}return ee.some(A)}))},LG=(e,n,o,r)=>{const l=e.dom,f=l.getRoot(),v=o.pattern,T=o.position.container,A=o.position.offset;return CM(T,A-o.pattern.end.length,n).bind(L=>{const q=lk(l,f,L.container,L.offset,T,A,r);if(dk(v))return ee.some({matches:[{pattern:v,startRng:q,endRng:q}],position:L});{const Z=rO(e,o.remainingPatterns,L.container,L.offset,n,r),te=Z.getOr({matches:[],position:L}),we=te.position;return PG(l,v,we.container,we.offset,n,Z.isNone()).map(ue=>{const Ce=SF(l,f,ue,r);return{matches:te.matches.concat([{pattern:v,startRng:Ce,endRng:q}]),position:Zm(ue.startContainer,ue.startOffset)}})}})},rO=(e,n,o,r,l,f)=>{const v=e.dom;return wM(o,r,v.getRoot()).bind(T=>{const A=tO(v,l,o,r);for(let L=0;L<n.length;L++){const q=n[L];if(!Iu(A,q.end))continue;const Z=n.slice();Z.splice(L,1);const te=LG(e,l,{pattern:q,remainingPatterns:Z,position:T},f);if(te.isNone()&&r>0)return rO(e,n,o,r-1,l,f);if(te.isSome())return te}return ee.none()})},kF=(e,n,o)=>{e.selection.setRng(o),n.type==="inline-format"?lt(n.format,r=>{e.formatter.apply(r)}):e.execCommand(n.cmd,!1,n.value)},BG=(e,n,o,r)=>{const l=oO(e.dom,o);JA(e.dom,l,r),kF(e,n,l)},$G=(e,n,o,r,l)=>{const f=e.dom,v=oO(f,r),T=oO(f,o);JA(f,T,l),JA(f,v,l);const A={prefix:o.prefix,start:o.end,end:r.start},L=oO(f,A);kF(e,n,L)},NF=(e,n)=>{const o=s0("mce_textpattern"),r=Wr(n,(l,f)=>{const v=uk(e,o+`_end${l.length}`,f.endRng);return l.concat([{...f,endMarker:v}])},[]);return Wr(r,(l,f)=>{const v=r.length-l.length-1,T=dk(f.pattern)?f.endMarker:uk(e,o+`_start${v}`,f.startRng);return l.concat([{...f,startMarker:T}])},[])},PF=e=>Rs(e,(n,o)=>o.end.length-n.end.length),fk=(e,n)=>{const o=tr(e,r=>as(n,l=>r.pattern.start===l.pattern.start&&r.pattern.end===l.pattern.end));return e.length===n.length?o?e:n:e.length>n.length?e:n},iO=(e,n,o,r,l,f)=>{const v=rO(e,l.inlinePatterns,o,r,n,f).fold(()=>[],A=>A.matches),T=rO(e,PF(l.inlinePatterns),o,r,n,f).fold(()=>[],A=>A.matches);return fk(v,T)},LF=(e,n)=>{if(n.length===0)return;const o=e.dom,r=e.selection.getBookmark(),l=NF(o,n);lt(l,f=>{const v=o.getParent(f.startMarker.start,o.isBlock),T=A=>A===v;dk(f.pattern)?BG(e,f.pattern,f.endMarker,T):$G(e,f.pattern,f.startMarker,f.endMarker,T),MF(o,f.endMarker,T),MF(o,f.startMarker,T)}),e.selection.moveToBookmark(r)},hk=(e,n)=>{const o=e.selection.getRng();return eO(e,o).map(r=>{var l;const f=Math.max(0,o.startOffset),v=xF(n,r,(l=r.textContent)!==null&&l!==void 0?l:""),T=iO(e,r,o.startContainer,f,v,!0),A=RF(e,r,v,!0);return A.length>0||T.length>0?(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{e.insertContent(Br),LF(e,T),IF(e,A);const L=e.selection.getRng(),q=wM(L.startContainer,L.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),q.each(Z=>{const te=Z.container;te.data.charAt(Z.offset-1)===Br&&(te.deleteData(Z.offset-1,1),$S(e.dom,te.parentNode,we=>we===e.dom.getRoot()))})}),!0):!1}).getOr(!1)},FG=(e,n)=>{const o=e.selection.getRng();eO(e,o).map(r=>{const l=Math.max(0,o.startOffset-1),f=tO(e.dom,r,o.startContainer,l),v=xF(n,r,f),T=iO(e,r,o.startContainer,l,v,!1);T.length>0&&e.undoManager.transact(()=>{LF(e,T)})})},BF=(e,n,o)=>{for(let r=0;r<e.length;r++)if(o(e[r],n))return!0;return!1},$F=(e,n)=>BF(e,n,(o,r)=>o===r.keyCode&&!gn.modifierPressed(r)),HG=(e,n)=>BF(e,n,(o,r)=>o.charCodeAt(0)===r.charCode),VG=e=>{const n=[",",".",";",":","!","?"],o=[32],r=()=>Zu(uC(e),dC(e)),l=()=>mC(e);e.on("keydown",v=>{if(v.keyCode===13&&!gn.modifierPressed(v)&&e.selection.isCollapsed()){const T=r();(T.inlinePatterns.length>0||T.blockPatterns.length>0||l())&&hk(e,T)&&v.preventDefault()}},!0);const f=()=>{if(e.selection.isCollapsed()){const v=r();(v.inlinePatterns.length>0||l())&&FG(e,v)}};e.on("keyup",v=>{$F(o,v)&&f()}),e.on("keypress",v=>{HG(n,v)&&Ju.setEditorTimeout(e,f)})},UG=e=>{VG(e)},zG=e=>{const n=me.each,o=gn.BACKSPACE,r=gn.DELETE,l=e.dom,f=e.selection,v=e.parser,T=jo.browser,A=T.isFirefox(),L=T.isChromium()||T.isSafari(),q=jo.deviceType.isiPhone()||jo.deviceType.isiPad(),Z=jo.os.isMacOS()||jo.os.isiOS(),te=(tn,kn)=>{try{e.getDoc().execCommand(tn,!1,String(kn))}catch{}},we=tn=>tn.isDefaultPrevented(),Se=()=>{const tn=Nn=>{const sn=l.create("body"),Ro=Nn.cloneContents();return sn.appendChild(Ro),f.serializer.serialize(sn,{format:"html"})},kn=Nn=>{const sn=tn(Nn),Ro=l.createRng();Ro.selectNode(e.getBody());const Io=tn(Ro);return sn===Io};e.on("keydown",Nn=>{const sn=Nn.keyCode;if(!we(Nn)&&(sn===r||sn===o)&&e.selection.isEditable()){const Ro=e.selection.isCollapsed(),Io=e.getBody();if(Ro&&!l.isEmpty(Io)||!Ro&&!kn(e.selection.getRng()))return;Nn.preventDefault(),e.setContent(""),Io.firstChild&&l.isBlock(Io.firstChild)?e.selection.setCursorLocation(Io.firstChild,0):e.selection.setCursorLocation(Io,0),e.nodeChanged()}})},ue=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},Ce=()=>{e.inline||l.bind(e.getDoc(),"mousedown mouseup",tn=>{let kn;if(tn.target===e.getDoc().documentElement)if(kn=f.getRng(),e.getBody().focus(),tn.type==="mousedown"){if(Uc(kn.startContainer))return;f.placeCaretAt(tn.clientX,tn.clientY)}else f.setRng(kn)})},Be=()=>{e.on("keydown",tn=>{if(!we(tn)&&tn.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(f.isCollapsed()&&f.getRng().startOffset===0){const kn=f.getNode(),Nn=kn.previousSibling;if(kn.nodeName==="HR"){l.remove(kn),tn.preventDefault();return}Nn&&Nn.nodeName&&Nn.nodeName.toLowerCase()==="hr"&&(l.remove(Nn),tn.preventDefault())}}})},Ie=()=>{Range.prototype.getClientRects||e.on("mousedown",tn=>{if(!we(tn)&&tn.target.nodeName==="HTML"){const kn=e.getBody();kn.blur(),Ju.setEditorTimeout(e,()=>{kn.focus()})}})},Ue=()=>{const tn=x0(e);e.on("click",kn=>{const Nn=kn.target;/^(IMG|HR)$/.test(Nn.nodeName)&&l.isEditable(Nn.parentNode)&&(kn.preventDefault(),e.selection.select(Nn),e.nodeChanged()),Nn.nodeName==="A"&&l.hasClass(Nn,tn)&&Nn.childNodes.length===0&&l.isEditable(Nn.parentNode)&&(kn.preventDefault(),f.select(Nn))})},et=()=>{const tn=()=>{const Nn=l.getAttribs(f.getStart().cloneNode(!1));return()=>{const sn=f.getStart();sn!==e.getBody()&&(l.setAttrib(sn,"style",null),n(Nn,Ro=>{sn.setAttributeNode(Ro.cloneNode(!0))}))}},kn=()=>!f.isCollapsed()&&l.getParent(f.getStart(),l.isBlock)!==l.getParent(f.getEnd(),l.isBlock);e.on("keypress",Nn=>{let sn;return!we(Nn)&&(Nn.keyCode===8||Nn.keyCode===46)&&kn()?(sn=tn(),e.getDoc().execCommand("delete",!1),sn(),Nn.preventDefault(),!1):!0}),l.bind(e.getDoc(),"cut",Nn=>{if(!we(Nn)&&kn()){const sn=tn();Ju.setEditorTimeout(e,()=>{sn()})}})},yt=()=>{e.on("keydown",tn=>{if(!we(tn)&&tn.keyCode===o&&f.isCollapsed()&&f.getRng().startOffset===0){const kn=f.getNode().previousSibling;if(kn&&kn.nodeName&&kn.nodeName.toLowerCase()==="table")return tn.preventDefault(),!1}return!0})},Yt=()=>{e.on("keydown",tn=>{if(we(tn)||tn.keyCode!==gn.BACKSPACE)return;let kn=f.getRng();const Nn=kn.startContainer,sn=kn.startOffset,Ro=l.getRoot();let Io=Nn;if(!(!kn.collapsed||sn!==0)){for(;Io.parentNode&&Io.parentNode.firstChild===Io&&Io.parentNode!==Ro;)Io=Io.parentNode;Io.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,Io),kn=l.createRng(),kn.setStart(Nn,0),kn.setEnd(Nn,0),f.setRng(kn))}})},Ft=()=>{const tn=()=>{te("StyleWithCSS",!1),te("enableInlineTableEditing",!1),UE(e)||te("enableObjectResizing",!1)};Em(e)||e.on("BeforeExecCommand mousedown",tn)},at=()=>{const tn=()=>{n(l.select("a:not([data-mce-block])"),kn=>{var Nn;let sn=kn.parentNode;const Ro=l.getRoot();if((sn==null?void 0:sn.lastChild)===kn){for(;sn&&!l.isBlock(sn);){if(((Nn=sn.parentNode)===null||Nn===void 0?void 0:Nn.lastChild)!==sn||sn===Ro)return;sn=sn.parentNode}l.add(sn,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",kn=>{(kn.type==="setcontent"||kn.command==="mceInsertLink")&&tn()})},it=()=>{e.on("init",()=>{te("DefaultParagraphSeparator",zl(e))})},ln=tn=>{const kn=tn.getBody(),Nn=tn.selection.getRng();return Nn.startContainer===Nn.endContainer&&Nn.startContainer===kn&&Nn.startOffset===0&&Nn.endOffset===kn.childNodes.length},xn=()=>{e.on("keyup focusin mouseup",tn=>{!gn.modifierPressed(tn)&&!ln(e)&&f.normalize()},!0)},Bn=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},ho=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},No=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",tn=>{let kn;tn.target.nodeName==="HTML"&&(kn=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(kn),e.selection.normalize(),e.nodeChanged())}))},bs=()=>{Z&&e.on("keydown",tn=>{gn.metaKeyPressed(tn)&&!tn.shiftKey&&(tn.keyCode===37||tn.keyCode===39)&&(tn.preventDefault(),e.selection.getSel().modify("move",tn.keyCode===37?"backward":"forward","lineboundary"))})},Zs=()=>{e.on("click",tn=>{let kn=tn.target;do if(kn.tagName==="A"){tn.preventDefault();return}while(kn=kn.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Jr=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",tn=>{tn.preventDefault()})})},tc=()=>{v.addNodeFilter("br",tn=>{let kn=tn.length;for(;kn--;)tn[kn].attr("class")==="Apple-interchange-newline"&&tn[kn].remove()})},ma=Ct,$t=()=>{if(!A||e.removed)return!1;const tn=e.selection.getSel();return!tn||!tn.rangeCount||tn.rangeCount===0},wn=()=>{L&&(Ce(),Ue(),Jr(),ue(),q&&(ho(),No(),Zs())),A&&(Ie(),Ft(),Bn(),bs())},Qo=()=>{Yt(),Se(),jo.windowsPhone||xn(),L&&(Ce(),Ue(),it(),Jr(),yt(),tc(),q?(ho(),No(),Zs()):ue()),A&&(Be(),Ie(),et(),Ft(),at(),Bn(),bs(),yt())};return ep(e)?wn():Qo(),{refreshContentEditable:ma,isHidden:$t}},mk=zs.DOM,WG=(e,n)=>{const o=xe.fromDom(e.getBody()),r=Vo(Xn(o)),l=xe.fromTag("style");io(l,"type","text/css"),Er(l,xe.fromText(n)),Er(r,l),e.on("remove",()=>{_r(l)})},GG=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,aO=e=>Is(e,n=>mt(n)===!1),FF=e=>{const n=e.options.get,o=e.editorUpload.blobCache;return aO({allow_conditional_comments:n("allow_conditional_comments"),allow_html_data_urls:n("allow_html_data_urls"),allow_svg_data_urls:n("allow_svg_data_urls"),allow_html_in_named_anchor:n("allow_html_in_named_anchor"),allow_script_urls:n("allow_script_urls"),allow_unsafe_link_target:n("allow_unsafe_link_target"),convert_fonts_to_spans:n("convert_fonts_to_spans"),fix_list_elements:n("fix_list_elements"),font_size_legacy_values:n("font_size_legacy_values"),forced_root_block:n("forced_root_block"),forced_root_block_attrs:n("forced_root_block_attrs"),preserve_cdata:n("preserve_cdata"),remove_trailing_brs:n("remove_trailing_brs"),inline_styles:n("inline_styles"),root_name:GG(e),sanitize:n("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},cO=e=>{const n=e.options.get;return aO({custom_elements:n("custom_elements"),extended_valid_elements:n("extended_valid_elements"),invalid_elements:n("invalid_elements"),invalid_styles:n("invalid_styles"),schema:n("schema"),valid_children:n("valid_children"),valid_classes:n("valid_classes"),valid_elements:n("valid_elements"),valid_styles:n("valid_styles"),verify_html:n("verify_html"),padd_empty_block_inline_children:n("format_empty_lines")})},ZG=e=>{const n=e.options.get;return{...FF(e),...cO(e),...aO({url_converter:n("url_converter"),url_converter_scope:n("url_converter_scope"),element_format:n("element_format"),entities:n("entities"),entity_encoding:n("entity_encoding"),indent:n("indent"),indent_after:n("indent_after"),indent_before:n("indent_before")})}},qG=e=>{const n=gb(FF(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",(o,r)=>{const l=e.dom,f="data-mce-"+r;let v=o.length;for(;v--;){const T=o[v];let A=T.attr(r);if(A&&!T.attr(f)){if(A.indexOf("data:")===0||A.indexOf("blob:")===0)continue;r==="style"?(A=l.serializeStyle(l.parseStyle(A),T.name),A.length||(A=null),T.attr(f,A),T.attr(r,A)):r==="tabindex"?(T.attr(f,A),T.attr(r,null)):T.attr(f,e.convertURL(A,r,T.name))}}}),n.addNodeFilter("script",o=>{let r=o.length;for(;r--;){const l=o[r],f=l.attr("type")||"no/type";f.indexOf("mce-")!==0&&l.attr("type","mce-"+f)}}),XE(e)&&n.addNodeFilter("#cdata",o=>{var r;let l=o.length;for(;l--;){const f=o[l];f.type=8,f.name="#comment",f.value="[CDATA["+e.dom.encode((r=f.value)!==null&&r!==void 0?r:"")+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let r=o.length;const l=e.schema.getNonEmptyElements();for(;r--;){const f=o[r];f.isEmpty(l)&&f.getAll("br").length===0&&f.append(new _u("br",1))}}),n},jG=e=>{const n=cC(e);n&&Ju.setEditorTimeout(e,()=>{let o;n===!0?o=e:o=e.editorManager.get(n),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},YG=e=>{const n=e.dom.getRoot();!e.inline&&(!MC(e)||e.selection.getStart(!0)===n)&&Dr(n).each(o=>{const r=o.getNode(),l=Ar(r)?Dr(r).getOr(o):o;e.selection.setRng(l.toRange())})},KG=e=>{e.bindPendingEventDelegates(),e.initialized=!0,Ws(e),e.focus(!0),YG(e),e.nodeChanged({initial:!0});const n=jE(e);he(n)&&n.call(e,e),jG(e)},HF=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,lO=(e,n,o)=>{const r=[HF(e).loadAll(n)];return e.inline?r:r.concat([e.ui.styleSheetLoader.loadAll(o)])},VF=e=>{const n=HF(e),o=$g(e),r=e.contentCSS,l=()=>{n.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(o)},f=()=>{e.removed?l():e.on("remove",l)};if(e.contentStyles.length>0){let A="";me.each(e.contentStyles,L=>{A+=L+`\r
`}),e.dom.addStyle(A)}const v=Promise.all(lO(e,r,o)).then(f).catch(f),T=VE(e);return T&&WG(e,T),v},XG=e=>{const n=e.getDoc(),o=e.getBody();ZC(e),lC(e)||(n.body.spellcheck=!1,mk.setAttrib(o,"spellcheck","false")),e.quirks=zG(e),qC(e);const r=tC(e);r!==void 0&&(o.dir=r);const l=ju(e);l&&e.on("BeforeSetContent",f=>{me.each(l,v=>{f.content=f.content.replace(v,T=>"<!--mce:protected "+escape(T)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",f=>{e.composing=f.type==="compositionstart"})},QG=e=>{ep(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},gk=e=>{e.removed!==!0&&(QG(e),KG(e))},UF=e=>{const n=e.getElement();let o=e.getDoc();e.inline&&(mk.addClass(n,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=n,e.contentAreaContainer=n);const r=e.getBody();r.disabled=!0,e.readonly=Em(e),e.readonly||(e.inline&&mk.getStyle(r,"position",!0)==="static"&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,e.editorUpload=yD(e),e.schema=hl(cO(e)),e.dom=zs(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:rs(e),referrerPolicy:bm(e),onSetAttrib:v=>{e.dispatch("SetAttrib",v)}}),e.parser=qG(e),e.serializer=gD(ZG(e),e),e.selection=N1(e.dom,e.getWin(),e.serializer,e),e.annotator=J0(e),e.formatter=iS(e),e.undoManager=CD(e),e._nodeChangeDispatcher=new vW(e),e._selectionOverrides=_F(e),oB(e),Y$(e),iB(e),ep(e)||(nG(e),UG(e));const l=pW(e);rz(e,l),lz(e),VV(e),j$(e);const f=H7(e);XG(e),f.fold(()=>{VF(e).then(()=>gk(e))},v=>{e.setProgressState(!0),VF(e).then(()=>{v().then(T=>{e.setProgressState(!1),gk(e),Sh(e)},T=>{e.notificationManager.open({type:"error",text:String(T)}),gk(e),Sh(e)})})})},JG=At,eZ=(e,n,o)=>Fb(e,n,JG,o),pk=zs.DOM,tZ=(e,n,o,r)=>{const l=xe.fromTag("iframe");return r.each(f=>io(l,"tabindex",f)),Lr(l,o),Lr(l,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),ef(l,"tox-edit-area__iframe"),l},zF=e=>{let n=LE(e)+"<html><head>";Bi(e)!==e.documentBaseUrl&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=Jw(e),r=BE(e),l=e.translate(A0(e));return $E(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+$E(e)+'" />'),n+=`</head><body id="${o}" class="mce-content-body ${r}" data-id="${e.id}" aria-label="${l}"><br></body></html>`,n},nZ=(e,n)=>{const o=e.translate("Rich Text Area"),r=Tc(xe.fromDom(e.getElement()),"tabindex").bind(dd),l=tZ(e.id,o,Rt(e),r).dom;l.onload=()=>{l.onload=null,e.dispatch("load")},e.contentAreaContainer=n.iframeContainer,e.iframeElement=l,e.iframeHTML=zF(e),pk.add(n.iframeContainer,l)},WF=e=>{const n=e.iframeElement,o=eZ(xe.fromDom(n),"load",()=>{o.unbind(),e.contentDocument=n.contentDocument,UF(e)});if(jo.browser.isFirefox()){const r=e.getDoc();r.open(),r.write(e.iframeHTML),r.close()}else n.srcdoc=e.iframeHTML},oZ=(e,n)=>{nZ(e,n),n.editorContainer&&(n.editorContainer.style.display=e.orgDisplay,e.hidden=pk.isHidden(n.editorContainer)),e.getElement().style.display="none",pk.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,WF(e)},GF=zs.DOM,ZF=(e,n,o)=>{const r=xh.get(o),l=xh.urls[o]||e.documentBaseUrl.replace(/\/$/,"");if(o=me.trim(o),r&&me.inArray(n,o)===-1){if(e.plugins[o])return;try{const f=r(e,l)||{};e.plugins[o]=f,he(f.init)&&(f.init(e,l),n.push(o))}catch(f){X4(e,o,f)}}},FS=e=>e.replace(/^\-/,""),sZ=e=>{const n=[];lt(S0(e),o=>{ZF(e,n,FS(o))})},qF=e=>{const n=me.trim(Bv(e)),o=e.ui.registry.getAll().icons,r={...Zx.get("default").icons,...Zx.get(n).icons};nn(r,(l,f)=>{zn(o,f)||e.ui.registry.addIcon(f,l)})},rZ=e=>{const n=Id(e);if(ne(n)){const o=op.get(n);e.theme=o(e,op.urls[n])||{},he(e.theme.init)&&e.theme.init(e,op.urls[n]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},iZ=e=>{const n=Wl(e),o=K_.get(n);e.model=o(e,K_.urls[n])},aZ=e=>{const n=e.theme.renderUI;return n?n():bk(e)},cZ=e=>{const n=e.getElement(),r=Id(e)(e,n);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:n.offsetHeight,r},vk=(e,n)=>({editorContainer:e,iframeContainer:n,api:{}}),lZ=e=>{const n=GF.create("div");return GF.insertAfter(n,e),vk(n,n)},bk=e=>{const n=e.getElement();return e.inline?vk(null):lZ(n)},uZ=e=>{const n=e.getElement();return e.orgDisplay=n.style.display,ne(Id(e))?aZ(e):he(Id(e))?cZ(e):bk(e)},dZ=(e,n)=>{const o={show:ee.from(n.show).getOr(Ct),hide:ee.from(n.hide).getOr(Ct),isEnabled:ee.from(n.isEnabled).getOr(At),setEnabled:r=>{e.mode.isReadOnly()||ee.from(n.setEnabled).each(l=>l(r))}};e.ui={...e.ui,...o}},fZ=async e=>{e.dispatch("ScriptsLoaded"),qF(e),rZ(e),iZ(e),sZ(e);const n=await uZ(e);dZ(e,ee.from(n.api).getOr({})),e.editorContainer=n.editorContainer,OV(e),e.inline?UF(e):oZ(e,{editorContainer:n.editorContainer,iframeContainer:n.iframeContainer})},Ly=zs.DOM,jF=e=>e.charAt(0)==="-",hZ=(e,n)=>{const o=Js(n),r=HE(n);if(!zu.hasCode(o)&&o!=="en"){const l=Es(r)?r:`${n.editorManager.baseURL}/langs/${o}.js`;e.add(l).catch(()=>{Y4(n,l,o)})}},mZ=(e,n)=>{const o=Id(e);if(ne(o)&&!jF(o)&&!zn(op.urls,o)){const r=Vv(e),l=r?e.documentBaseURI.toAbsolute(r):`themes/${o}/theme${n}.js`;op.load(o,l).catch(()=>{Xx(e,l,o)})}},gZ=(e,n)=>{const o=Wl(e);if(o!=="plugin"&&!zn(K_.urls,o)){const r=ks(e),l=ne(r)?e.documentBaseURI.toAbsolute(r):`models/${o}/model${n}.js`;K_.load(o,l).catch(()=>{K4(e,l,o)})}},pZ=e=>ee.from($v(e)).filter(Es).map(n=>({url:n,name:ee.none()})),yk=(e,n,o)=>ee.from(n).filter(r=>Es(r)&&!Zx.has(r)).map(r=>({url:`${e.editorManager.baseURL}/icons/${r}/icons${o}.js`,name:ee.some(r)})),Ek=(e,n,o)=>{const r=yk(n,"default",o),l=pZ(n).orThunk(()=>yk(n,Bv(n),""));lt(tt([r,l]),f=>{e.add(f.url).catch(()=>{j4(n,f.url,f.name.getOrUndefined())})})},YF=(e,n)=>{const o=(r,l)=>{xh.load(r,l).catch(()=>{q4(e,l,r)})};nn(_m(e),(r,l)=>{o(l,r),e.options.set("plugins",S0(e).concat(l))}),lt(S0(e),r=>{r=me.trim(r),r&&!xh.urls[r]&&!jF(r)&&o(r,`plugins/${r}/plugin${n}.js`)})},KF=e=>{const n=Id(e);return!ne(n)||Pe(op.get(n))},vZ=e=>{const n=Wl(e);return Pe(K_.get(n))},bZ=(e,n)=>{const o=mf.ScriptLoader,r=()=>{!e.removed&&KF(e)&&vZ(e)&&fZ(e)};mZ(e,n),gZ(e,n),hZ(o,e),Ek(o,e,n),YF(e,n),o.loadQueue().then(r,r)},yZ=(e,n)=>Hp.forElement(e,{contentCssCors:T0(n),referrerPolicy:bm(n)}),XF=e=>{const n=e.id;zu.setCode(Js(e));const o=()=>{Ly.unbind(window,"ready",o),e.render()};if(!xd.Event.domLoaded){Ly.bind(window,"ready",o);return}if(!e.getElement())return;const r=xe.fromDom(e.getElement()),l=Gf(r);e.on("remove",()=>{Sl(r.dom.attributes,v=>dr(r,v.name)),Lr(r,l)}),e.ui.styleSheetLoader=yZ(r,e),C0(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const f=e.getElement().form||Ly.getParent(n,"form");f&&(e.formElement=f,ZE(e)&&!pg(e.getElement())&&(Ly.insertAfter(Ly.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=v=>{e.dispatch(v.type,v)},Ly.bind(f,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),Ma(e)&&!f.submit.nodeType&&!f.submit.length&&!f._mceOldSubmit&&(f._mceOldSubmit=f.submit,f.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),f._mceOldSubmit(f)))),e.windowManager=bD(e),e.notificationManager=vb(e),JE(e)&&e.on("GetContent",v=>{v.save&&(v.content=Ly.encode(v.content))}),pl(e)&&e.on("submit",()=>{e.initialized&&e.save()}),nC(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),bZ(e,e.suffix)},QF=(e,n)=>({sections:Xe(e),options:Xe(n)}),JF=Bs().deviceType,e5=JF.isPhone(),_k=JF.isTablet(),Tb=e=>{if(xt(e))return[];{const n=$(e)?e:e.split(/[ ,]/),o=qt(n,Du);return En(o,Es)}},uO=(e,n)=>{const o=Au(n,(r,l)=>Dn(e,l));return QF(o.t,o.f)},F1=(e,n,o={})=>{const r=e.sections(),l=Ys(r,n).getOr({});return me.extend({},o,l)},mw=(e,n)=>zn(e.sections(),n),gw=(e,n)=>mw(e,n)?e.sections()[n]:{},t5=(e,n)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Ys(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...n?{menubar:!1}:{}}),EZ=(e,n)=>{var o;const r=(o=n.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?me.extend({},e.external_plugins,r):r},_Z=(e,n)=>[...Tb(e),...Tb(n)],n5=(e,n,o,r)=>e&&mw(n,"mobile")?r:o,wZ=(e,n,o,r)=>{const l=Tb(o.forced_plugins),f=Tb(r.plugins),v=gw(n,"mobile"),T=v.plugins?Tb(v.plugins):f,A=n5(e,n,f,T),L=_Z(l,A);return me.extend(r,{forced_plugins:l,plugins:L})},wk=(e,n)=>e&&mw(n,"mobile"),dO=(e,n,o,r,l)=>{var f;const v=e?{mobile:t5((f=l.mobile)!==null&&f!==void 0?f:{},n)}:{},T=uO(["mobile"],SA(v,l)),A=me.extend(o,r,T.options(),wk(e,T)?F1(T,"mobile"):{},{external_plugins:EZ(r,T.options())});return wZ(e,T,r,A)},Sb=(e,n)=>dO(e5||_k,e5,n,e,n),By=(e,n)=>jY(e,n),o5=e=>{const n=(r,l)=>{e.formatter.toggle(r,l),e.nodeChanged()},o=r=>()=>{lt("left,center,right,justify".split(","),l=>{r!==l&&e.formatter.remove("align"+l)}),r!=="none"&&n("align"+r)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},CZ=e=>{const n=o=>()=>{const r=e.selection,l=r.isCollapsed()?[e.dom.getParent(r.getNode(),e.dom.isBlock)]:r.getSelectedBlocks();return as(l,f=>Pe(e.formatter.matchNode(f,o)))};e.editorCommands.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify")},"state")},TZ=e=>{o5(e),CZ(e)},SZ=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":n=>{const o=e.getDoc();let r;try{o.execCommand(n)}catch{r=!0}if(n==="paste"&&!o.queryCommandEnabled(n)&&(r=!0),r||!o.queryCommandSupported(n)){let l=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(jo.os.isMacOS()||jo.os.isiOS())&&(l=l.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:l,type:"error"})}}})},xZ=(e,n,o)=>{const r=xe.fromDom(e.getRoot());return P_(r,ze.fromRangeStart(n))?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),ET(r,ze.fromRangeEnd(n))?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},AZ=e=>{if(typeof e!="string"){const n=me.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},OZ=(e,n)=>{const o=e.selection,r=e.dom;return/^ | $/.test(n)?xZ(r,o.getRng(),n):n},HS=(e,n)=>{if(e.selection.isEditable()){const{content:o,details:r}=AZ(n);eD(e,{...r,content:OZ(e,o),format:"html",set:!1,selection:!0}).each(l=>{const f=J7(e,l.content,r);jT(e,f,l),e.addVisual()})}},RZ=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const n=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(n)},insertImage:(n,o,r)=>{HS(e,e.dom.createHTML("img",{src:r}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(n,o,r)=>{HS(e,e.dom.encode(r))},insertHTML:(n,o,r)=>{HS(e,r)},mceInsertContent:(n,o,r)=>{HS(e,r)},mceSetContent:(n,o,r)=>{e.setContent(r)},mceReplaceContent:(n,o,r)=>{e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent("")}})},IZ={"font-size":"size","font-family":"face"},DZ=Hc("font"),CK=(e,n,o)=>{const r=f=>Ca(f,e).orThunk(()=>DZ(f)?Ys(IZ,e).bind(v=>Tc(f,v)):ee.none()),l=f=>zo(xe.fromDom(n),f);return bx(xe.fromDom(o),f=>r(f),l)},MZ=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),Ck=(e,n)=>ee.from(zs.DOM.getStyle(n,e,!0)),s5=e=>(n,o)=>ee.from(o).map(xe.fromDom).filter(Jo).bind(r=>CK(e,n,r.dom).or(Ck(e,r.dom))).getOr(""),kZ=s5("font-size"),r5=P(MZ,s5("font-family")),NZ=e=>Dr(e.getBody()).bind(n=>{const o=n.container();return ee.from(Pt(o)?o.parentNode:o)}),i5=e=>ee.from(e.selection.getRng()).bind(n=>{const o=e.getBody();return n.startContainer===o&&n.startOffset===0?ee.none():ee.from(e.selection.getStart(!0))}),PZ=(e,n)=>i5(e).orThunk(Ve(NZ,e)).map(xe.fromDom).filter(Jo).bind(n),VS=(e,n)=>PZ(e,Tt(ee.some,n)),a5=(e,n)=>{if(/^[0-9.]+$/.test(n)){const o=parseInt(n,10);if(o>=1&&o<=7){const r=gC(e),l=pC(e);return l.length>0?l[o-1]||n:r[o-1]||n}else return n}else return n},LZ=e=>{const n=e.split(/\s*,\s*/);return qt(n,o=>o.indexOf(" ")!==-1&&!(vi(o,'"')||vi(o,"'"))?`'${o}'`:o).join(",")},BZ=(e,n)=>{const o=a5(e,n);e.formatter.toggle("fontname",{value:LZ(o)}),e.nodeChanged()},$Z=e=>VS(e,n=>r5(e.getBody(),n.dom)).getOr(""),c5=(e,n)=>{e.formatter.toggle("fontsize",{value:a5(e,n)}),e.nodeChanged()},Tk=e=>VS(e,n=>kZ(e.getBody(),n.dom)).getOr(""),l5=e=>VS(e,n=>{const o=xe.fromDom(e.getBody()),r=bx(n,f=>Ca(f,"line-height"),Ve(zo,o)),l=()=>{const f=parseFloat(bd(n,"line-height")),v=parseFloat(bd(n,"font-size"));return String(f/v)};return r.getOrThunk(l)}).getOr(""),Sk=(e,n)=>{e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},FZ=e=>{const n=(o,r)=>{e.formatter.toggle(o,r),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{n(o)},"ForeColor,HiliteColor":(o,r,l)=>{n(o,{value:l})},BackColor:(o,r,l)=>{n("hilitecolor",{value:l})},FontName:(o,r,l)=>{BZ(e,l)},FontSize:(o,r,l)=>{c5(e,l)},LineHeight:(o,r,l)=>{Sk(e,l)},Lang:(o,r,l)=>{var f;n(o,{value:l.code,customValue:(f=l.customCode)!==null&&f!==void 0?f:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{n("blockquote")},FormatBlock:(o,r,l)=>{n(ne(l)?l:"p")},mceToggleFormat:(o,r,l)=>{n(l)}})},TK=e=>{const n=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>n(o),mceBlockQuote:()=>n("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>$Z(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>Tk(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>l5(e))},SK=e=>{FZ(e),TK(e)},HZ=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},u5=e=>{e.editorCommands.addCommands({Indent:()=>{gA(e)},Outdent:()=>{sM(e)}}),e.editorCommands.addCommands({Outdent:()=>nz(e)},"state")},VZ=e=>{const n=(o,r,l)=>{const f=ne(l)?{href:l}:l,v=e.dom.getParent(e.selection.getNode(),"a");Le(f)&&ne(f.href)&&(f.href=f.href.replace(/ /g,"%20"),(!v||!f.href)&&e.formatter.remove("link"),f.href&&e.formatter.apply("link",f,v))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")},mceInsertLink:n,createLink:n})},UZ=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":n=>{e.getDoc().execCommand(n);const o=e.dom.getParent(e.selection.getNode(),"ol,ul");if(o){const r=o.parentNode;if(r&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)){const l=e.selection.getBookmark();e.dom.split(r,o),e.selection.moveToBookmark(l)}}}})},zZ=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":n=>{const o=e.dom.getParent(e.selection.getNode(),"ul,ol");return o&&(n==="insertunorderedlist"&&o.tagName==="UL"||n==="insertorderedlist"&&o.tagName==="OL")}},"state")},xK=e=>{UZ(e),zZ(e)},AK=e=>{e.editorCommands.addCommands({insertParagraph:()=>{uw(l$,e)},mceInsertNewLine:(n,o,r)=>{VA(e,r)},InsertLineBreak:(n,o,r)=>{uw(IS,e)}})},d5=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(n,o,r)=>{let l=0;e.dom.getParent(e.selection.getNode(),f=>Xt(f)&&l++===r?(e.selection.select(f),!1):!0,e.getBody())},mceSelectNode:(n,o,r)=>{e.selection.select(r)},selectAll:()=>{const n=e.dom.getParent(e.selection.getStart(),Go);if(n){const o=e.dom.createRng();o.selectNodeContents(n),e.selection.setRng(o)}}})},f5=e=>{e.editorCommands.addCommands({mceRemoveNode:(n,o,r)=>{const l=r??e.selection.getNode();if(l!==e.getBody()){const f=e.selection.getBookmark();e.dom.remove(l,!0),e.selection.moveToBookmark(f)}},mcePrint:()=>{e.getWin().print()},mceFocus:(n,o,r)=>{n6(e,r===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},WZ=e=>{TZ(e),SZ(e),HZ(e),d5(e),RZ(e),VZ(e),u5(e),AK(e),xK(e),SK(e),f5(e)},GZ=["toggleview"],h5=e=>Dn(GZ,e.toLowerCase());class ZZ{constructor(n){this.commands={state:{},exec:{},value:{}},this.editor=n}execCommand(n,o=!1,r,l){const f=this.editor,v=n.toLowerCase(),T=l==null?void 0:l.skip_focus;if(f.removed||(v!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(v)&&!T?f.focus():Xc(f)),f.dispatch("BeforeExecCommand",{command:n,ui:o,value:r}).isDefaultPrevented()))return!1;const L=this.commands.exec[v];return he(L)?(L(v,o,r),f.dispatch("ExecCommand",{command:n,ui:o,value:r}),!0):!1}queryCommandState(n){if(!h5(n)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=n.toLowerCase(),r=this.commands.state[o];return he(r)?r(o):!1}queryCommandValue(n){if(!h5(n)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=n.toLowerCase(),r=this.commands.value[o];return he(r)?r(o):""}addCommands(n,o="exec"){const r=this.commands;nn(n,(l,f)=>{lt(f.toLowerCase().split(","),v=>{r[o][v]=l})})}addCommand(n,o,r){const l=n.toLowerCase();this.commands.exec[l]=(f,v,T)=>o.call(r??this.editor,v,T)}queryCommandSupported(n){const o=n.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(n,o,r){this.commands.state[n.toLowerCase()]=()=>o.call(r??this.editor)}addQueryValueHandler(n,o,r){this.commands.value[n.toLowerCase()]=()=>o.call(r??this.editor)}}const pw="data-mce-contenteditable",OK=(e,n,o)=>{vd(e,n)&&!o?ic(e,n):o&&ef(e,n)},xk=(e,n,o)=>{try{e.getDoc().execCommand(n,!1,String(o))}catch{}},Ak=(e,n)=>{e.dom.contentEditable=n?"true":"false"},qZ=e=>{lt(Ta(e,'*[contenteditable="true"]'),n=>{io(n,pw,"true"),Ak(n,!1)})},$y=e=>{lt(Ta(e,`*[${pw}="true"]`),n=>{dr(n,pw),Ak(n,!0)})},Ok=e=>{ee.from(e.selection.getNode()).each(n=>{n.removeAttribute("data-mce-selected")})},fO=e=>{e.selection.setRng(e.selection.getRng())},m5=(e,n)=>{const o=xe.fromDom(e.getBody());OK(o,"mce-content-readonly",n),n?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),Ok(e),e.readonly=!0,Ak(o,!1),qZ(o)):(e.readonly=!1,Ak(o,!0),$y(o),xk(e,"StyleWithCSS",!1),xk(e,"enableInlineTableEditing",!1),xk(e,"enableObjectResizing",!1),CN(e)&&e.focus(),fO(e),e.nodeChanged())},xb=e=>e.readonly,Rk=e=>{e.parser.addAttributeFilter("contenteditable",n=>{xb(e)&&lt(n,o=>{o.attr(pw,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(pw,n=>{xb(e)&&lt(n,o=>{o.attr("contenteditable",o.attr(pw))})}),e.serializer.addTempAttr(pw)},jZ=e=>{e.serializer?Rk(e):e.on("PreInit",()=>{Rk(e)})},YZ=e=>e.type==="click",KZ=["copy"],XZ=e=>Dn(KZ,e.type),Fy=(e,n)=>su(n,"a",r=>zo(r,xe.fromDom(e.getBody()))).bind(r=>Tc(r,"href")),QZ=(e,n)=>{if(YZ(n)&&!gn.metaKeyPressed(n)){const o=xe.fromDom(n.target);Fy(e,o).each(r=>{if(n.preventDefault(),/^#/.test(r)){const l=e.dom.select(`${r},[name="${Rl(r,"#")}"]`);l.length&&e.selection.scrollIntoView(l[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else XZ(n)&&e.dispatch(n.type,n)},g5=e=>{e.on("ShowCaret",n=>{xb(e)&&n.preventDefault()}),e.on("ObjectSelected",n=>{xb(e)&&n.preventDefault()})},JZ=me.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class vw{constructor(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||je}static isNative(n){return!!JZ[n.toLowerCase()]}fire(n,o){return this.dispatch(n,o)}dispatch(n,o){const r=n.toLowerCase(),l=Rg(r,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(l);const f=this.bindings[r];if(f)for(let v=0,T=f.length;v<T;v++){const A=f[v];if(!A.removed){if(A.once&&this.off(r,A.func),l.isImmediatePropagationStopped())return l;if(A.func.call(this.scope,l)===!1)return l.preventDefault(),l}}return l}on(n,o,r,l){if(o===!1&&(o=je),o){const f={func:o,removed:!1};l&&me.extend(f,l);const v=n.toLowerCase().split(" ");let T=v.length;for(;T--;){const A=v[T];let L=this.bindings[A];L||(L=[],this.toggleEvent(A,!0)),r?L=[f,...L]:L=[...L,f],this.bindings[A]=L}}return this}off(n,o){if(n){const r=n.toLowerCase().split(" ");let l=r.length;for(;l--;){const f=r[l];let v=this.bindings[f];if(!f)return nn(this.bindings,(T,A)=>{this.toggleEvent(A,!1),delete this.bindings[A]}),this;if(v){if(!o)v.length=0;else{const T=Ui(v,A=>A.func===o);v=T.fail,this.bindings[f]=v,lt(T.pass,A=>{A.removed=!0})}v.length||(this.toggleEvent(n,!1),delete this.bindings[f])}}}else nn(this.bindings,(r,l)=>{this.toggleEvent(l,!1)}),this.bindings={};return this}once(n,o,r){return this.on(n,o,r,{once:!0})}has(n){n=n.toLowerCase();const o=this.bindings[n];return!(!o||o.length===0)}}const US=e=>(e._eventDispatcher||(e._eventDispatcher=new vw({scope:e,toggleEvent:(n,o)=>{vw.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,o)}})),e._eventDispatcher),Ik={fire(e,n,o){return this.dispatch(e,n,o)},dispatch(e,n,o){const r=this;if(r.removed&&e!=="remove"&&e!=="detach")return Rg(e.toLowerCase(),n??{},r);const l=US(r).dispatch(e,n);if(o!==!1&&r.parent){let f=r.parent();for(;f&&!l.isPropagationStopped();)f.dispatch(e,l,!1),f=f.parent?f.parent():void 0}return l},on(e,n,o){return US(this).on(e,n,o)},off(e,n){return US(this).off(e,n)},once(e,n){return US(this).once(e,n)},hasEventListeners(e){return US(this).has(e)}},hO=zs.DOM;let Ab;const mO=(e,n)=>{if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(n))return e.getDoc().documentElement;const o=w0(e);return o?(e.eventRoot||(e.eventRoot=hO.select(o)[0]),e.eventRoot):e.getBody()},eq=e=>!e.hidden&&!xb(e),p5=(e,n,o)=>{eq(e)?e.dispatch(n,o):xb(e)&&QZ(e,o)},v5=(e,n)=>{if(e.delegates||(e.delegates={}),e.delegates[n]||e.removed)return;const o=mO(e,n);if(w0(e)){if(Ab||(Ab={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||Ab&&(nn(Ab,(l,f)=>{e.dom.unbind(mO(e,f))}),Ab=null)})),Ab[n])return;const r=l=>{const f=l.target,v=e.editorManager.get();let T=v.length;for(;T--;){const A=v[T].getBody();(A===f||hO.isChildOf(f,A))&&p5(v[T],n,l)}};Ab[n]=r,hO.bind(o,n,r)}else{const r=l=>{p5(e,n,l)};hO.bind(o,n,r),e.delegates[n]=r}},gO={...Ik,bindPendingEventDelegates(){const e=this;me.each(e._pendingNativeEvents,n=>{v5(e,n)})},toggleNativeEvent(e,n){const o=this;e==="focus"||e==="blur"||o.removed||(n?o.initialized?v5(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(mO(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,n=e.getBody(),o=e.dom;e.delegates&&(nn(e.delegates,(r,l)=>{e.dom.unbind(mO(e,l),l,r)}),delete e.delegates),!e.inline&&n&&o&&(n.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(n),o.unbind(e.getContainer()))}},tq=e=>ne(e)?{value:e.split(/[ ,]/),valid:!0}:bt(e,ne)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},nq=e=>{const n=(()=>{switch(e){case"array":return $;case"boolean":return Ge;case"function":return he;case"number":return dn;case"object":return Le;case"string":return ne;case"string[]":return tq;case"object[]":return o=>bt(o,Le);case"regexp":return o=>ke(o,RegExp);default:return At}})();return o=>zS(o,n,`The value must be a ${e}.`)},ha=e=>ne(e.processor),b5=(e,n)=>{const o=pa(n.message)?"":`. ${n.message}`;return e+o},y5=e=>e.valid,zS=(e,n,o="")=>{const r=n(e);return Ge(r)?r?{value:e,valid:!0}:{valid:!1,message:o}:r},E5=(e,n,o)=>{if(!mt(n)){const r=zS(n,o);if(y5(r))return r.value;console.error(b5(`Invalid default value passed for the "${e}" option`,r))}},Dk=(e,n)=>{const o={},r={},l=(Z,te,we)=>{const Se=zS(te,we);return y5(Se)?(r[Z]=Se.value,!0):(console.warn(b5(`Invalid value passed for the ${Z} option`,Se)),!1)},f=(Z,te)=>{const we=ha(te)?nq(te.processor):te.processor,Se=E5(Z,te.default,we);o[Z]={...te,default:Se,processor:we},Ys(r,Z).orThunk(()=>Ys(n,Z)).each(Ce=>l(Z,Ce,we))},v=Z=>zn(o,Z);return{register:f,isRegistered:v,get:Z=>Ys(r,Z).orThunk(()=>Ys(o,Z).map(te=>te.default)).getOrUndefined(),set:(Z,te)=>{if(v(Z)){const we=o[Z];return we.immutable?(console.error(`"${Z}" is an immutable option and cannot be updated`),!1):l(Z,te,we.processor)}else return console.warn(`"${Z}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:Z=>{const te=v(Z);return te&&delete r[Z],te},isSet:Z=>zn(r,Z)}},oq=["design","readonly"],_5=(e,n,o,r)=>{const l=o[n.get()],f=o[r];try{f.activate()}catch(v){console.error(`problem while activating editor mode ${r}:`,v);return}l.deactivate(),l.editorReadOnly!==f.editorReadOnly&&m5(e,f.editorReadOnly),n.set(r),GC(e,r)},sq=(e,n,o,r)=>{if(r!==o.get()){if(!zn(n,r))throw new Error(`Editor mode '${r}' is invalid`);e.initialized?_5(e,o,n,r):e.on("init",()=>_5(e,o,n,r))}},rq=(e,n,o)=>{if(Dn(oq,n))throw new Error(`Cannot override default mode ${n}`);return{...e,[n]:{...o,deactivate:()=>{try{o.deactivate()}catch(r){console.error(`problem while deactivating editor mode ${n}:`,r)}}}}},iq=e=>{const n=ci("design"),o=ci({design:{activate:Ct,deactivate:Ct,editorReadOnly:!1},readonly:{activate:Ct,deactivate:Ct,editorReadOnly:!0}});return jZ(e),g5(e),{isReadOnly:()=>xb(e),set:r=>sq(e,o.get(),n,r),get:()=>n.get(),register:(r,l)=>{o.set(rq(o.get(),r,l))}}},Mk=me.each,kk=me.explode,aq={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},Hy=me.makeMap("alt,ctrl,shift,meta,access"),qm=e=>e in Hy,cq=e=>{const n={},o=jo.os.isMacOS()||jo.os.isiOS();Mk(kk(e.toLowerCase(),"+"),f=>{qm(f)?n[f]=!0:/^[0-9]{2,}$/.test(f)?n.keyCode=parseInt(f,10):(n.charCode=f.charCodeAt(0),n.keyCode=aq[f]||f.toUpperCase().charCodeAt(0))});const r=[n.keyCode];let l;for(l in Hy)n[l]?r.push(l):n[l]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,o?n.ctrl=!0:n.shift=!0),n.meta&&(o?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n};class w5{constructor(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;const o=this;n.on("keyup keypress keydown",r=>{(o.hasModifier(r)||o.isFunctionKey(r))&&!r.isDefaultPrevented()&&(Mk(o.shortcuts,l=>{o.matchShortcut(r,l)&&(o.pendingPatterns=l.subpatterns.slice(0),r.type==="keydown"&&o.executeShortcutAction(l))}),o.matchShortcut(r,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&r.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(n,o,r,l){const f=this,v=f.normalizeCommandFunc(r);return Mk(kk(me.trim(n)),T=>{const A=f.createShortcut(T,o,v,l);f.shortcuts[A.id]=A}),!0}remove(n){const o=this.createShortcut(n);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(n){const o=this,r=n;return typeof r=="string"?()=>{o.editor.execCommand(r,!1,null)}:me.isArray(r)?()=>{o.editor.execCommand(r[0],r[1],r[2])}:r}createShortcut(n,o,r,l){const f=me.map(kk(n,">"),cq);return f[f.length-1]=me.extend(f[f.length-1],{func:r,scope:l||this.editor}),me.extend(f[0],{desc:this.editor.translate(o),subpatterns:f.slice(1)})}hasModifier(n){return n.altKey||n.ctrlKey||n.metaKey}isFunctionKey(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123}matchShortcut(n,o){return!o||o.ctrl!==n.ctrlKey||o.meta!==n.metaKey||o.alt!==n.altKey||o.shift!==n.shiftKey?!1:n.keyCode===o.keyCode||n.charCode&&n.charCode===o.charCode?(n.preventDefault(),!0):!1}executeShortcutAction(n){return n.func?n.func.call(n.scope):null}}const lq=()=>{const e={},n={},o={},r={},l={},f={},v={},T={},A=(q,Z)=>(te,we)=>{q[te.toLowerCase()]={...we,type:Z}},L=(q,Z)=>r[q.toLowerCase()]=Z;return{addButton:A(e,"button"),addGroupToolbarButton:A(e,"grouptoolbarbutton"),addToggleButton:A(e,"togglebutton"),addMenuButton:A(e,"menubutton"),addSplitButton:A(e,"splitbutton"),addMenuItem:A(n,"menuitem"),addNestedMenuItem:A(n,"nestedmenuitem"),addToggleMenuItem:A(n,"togglemenuitem"),addAutocompleter:A(o,"autocompleter"),addContextMenu:A(l,"contextmenu"),addContextToolbar:A(f,"contexttoolbar"),addContextForm:A(f,"contextform"),addSidebar:A(v,"sidebar"),addView:A(T,"views"),addIcon:L,getAll:()=>({buttons:e,menuItems:n,icons:r,popups:o,contextMenus:l,contextToolbars:f,sidebars:v,views:T})}},uq=()=>{const e=lq();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},Vy=zs.DOM,C5=me.extend,dq=me.each;class pO{constructor(n,o,r){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,C5(this,gO);const l=this;this.id=n,this.hidden=!1;const f=Sb(r.defaultOptions,o);this.options=Dk(l,f),di(l);const v=this.options.get;v("deprecation_warnings")&&pb(o,f);const T=v("suffix");T&&(r.suffix=T),this.suffix=r.suffix;const A=v("base_url");A&&r._setBaseUrl(A),this.baseUri=r.baseURI;const L=bm(l);L&&(mf.ScriptLoader._setReferrerPolicy(L),zs.DOM.styleSheetLoader._setReferrerPolicy(L));const q=T0(l);Pe(q)&&zs.DOM.styleSheetLoader._setContentCssCors(q),hs.languageLoad=v("language_load"),hs.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new Gm(Bi(l),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=C0(l),this.hasVisual=rC(l),this.shortcuts=new w5(this),this.editorCommands=new ZZ(this),WZ(this);const Z=v("cache_suffix");Z&&(jo.cacheSuffix=Z.replace(/^[\?\&]+/,"")),this.ui={registry:uq(),styleSheetLoader:void 0,show:Ct,hide:Ct,setEnabled:Ct,isEnabled:At},this.mode=iq(l),r.dispatch("SetupEditor",{editor:this});const te=fh(l);he(te)&&te.call(l,l)}render(){XF(this)}focus(n){this.execCommand("mceFocus",!1,n)}hasFocus(){return ib(this)}translate(n){return zu.translate(n)}getParam(n,o,r){const l=this.options;return l.isRegistered(n)||(Pe(r)?l.register(n,{processor:r,default:o}):l.register(n,{processor:At,default:o})),!l.isSet(n)&&!mt(o)?o:l.get(n)}hasPlugin(n,o){return Dn(S0(this),n)?o?xh.get(n)!==void 0:!0:!1}nodeChanged(n){this._nodeChangeDispatcher.nodeChanged(n)}addCommand(n,o,r){this.editorCommands.addCommand(n,o,r)}addQueryStateHandler(n,o,r){this.editorCommands.addQueryStateHandler(n,o,r)}addQueryValueHandler(n,o,r){this.editorCommands.addQueryValueHandler(n,o,r)}addShortcut(n,o,r,l){this.shortcuts.add(n,o,r,l)}execCommand(n,o,r,l){return this.editorCommands.execCommand(n,o,r,l)}queryCommandState(n){return this.editorCommands.queryCommandState(n)}queryCommandValue(n){return this.editorCommands.queryCommandValue(n)}queryCommandSupported(n){return this.editorCommands.queryCommandSupported(n)}show(){const n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(Vy.show(n.getContainer()),Vy.hide(n.id)),n.load(),n.dispatch("show"))}hide(){const n=this;n.hidden||(n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(Vy.hide(n.getContainer()),Vy.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(n,o){this.dispatch("ProgressState",{state:n,time:o})}load(n={}){const o=this,r=o.getElement();if(o.removed)return"";if(r){const l={...n,load:!0},f=pg(r)?r.value:r.innerHTML,v=o.setContent(f,l);return l.no_events||o.dispatch("LoadContent",{...l,element:r}),v}else return""}save(n={}){const o=this;let r=o.getElement();if(!r||!o.initialized||o.removed)return"";const l={...n,save:!0,element:r};let f=o.getContent(l);const v={...l,content:f};if(v.no_events||o.dispatch("SaveContent",v),v.format==="raw"&&o.dispatch("RawSaveContent",v),f=v.content,pg(r))r.value=f;else{(n.is_removing||!o.inline)&&(r.innerHTML=f);const T=Vy.getParent(o.id,"form");T&&dq(T.elements,A=>A.name===o.id?(A.value=f,!1):!0)}return v.element=l.element=r=null,v.set_dirty!==!1&&o.setDirty(!1),f}setContent(n,o){return H4(this,n,o)}getContent(n){return pD(this,n)}insertContent(n,o){o&&(n=C5({content:n},o)),this.execCommand("mceInsertContent",!1,n)}resetContent(n){n===void 0?H4(this,this.startContent,{format:"raw"}):H4(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(n){const o=!this.isNotDirty;this.isNotDirty=!n,n&&n!==o&&this.dispatch("dirty")}getContainer(){const n=this;return n.container||(n.container=n.editorContainer||Vy.get(n.id+"_parent")),n.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=Vy.get(this.id)),this.targetElm}getWin(){const n=this;if(!n.contentWindow){const o=n.iframeElement;o&&(n.contentWindow=o.contentWindow)}return n.contentWindow}getDoc(){const n=this;if(!n.contentDocument){const o=n.getWin();o&&(n.contentDocument=o.document)}return n.contentDocument}getBody(){var n,o;const r=this.getDoc();return(o=(n=this.bodyElement)!==null&&n!==void 0?n:r==null?void 0:r.body)!==null&&o!==void 0?o:null}convertURL(n,o,r){const l=this,f=l.options.get,v=aC(l);return he(v)?v.call(l,n,r,!0,o):!f("convert_urls")||r==="link"||Le(r)&&r.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0?n:f("relative_urls")?l.documentBaseURI.toRelative(n):(n=l.documentBaseURI.toAbsolute(n,f("remove_script_host")),n)}addVisual(n){By(this,n)}remove(){EV(this)}destroy(n){_V(this,n)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const bw=zs.DOM,Nk=me.each;let T5=!1,vO,Tu=[];const bO=e=>{const n=e.type;Nk(Ob.get(),o=>{switch(n){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},S5=e=>{if(e!==T5){const n=zs.DOM;e?(n.bind(window,"resize",bO),n.bind(window,"scroll",bO)):(n.unbind(window,"resize",bO),n.unbind(window,"scroll",bO)),T5=e}},x5=e=>{const n=Tu;return Tu=En(Tu,o=>e!==o),Ob.activeEditor===e&&(Ob.activeEditor=Tu.length>0?Tu[0]:null),Ob.focusedEditor===e&&(Ob.focusedEditor=null),n.length!==Tu.length},RK=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(x5(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},fq=document.compatMode!=="CSS1Compat",Ob={...Ik,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"4.1",releaseDate:"2023-03-29",i18n:zu,activeEditor:null,focusedEditor:null,setup(){const e=this;let n="",o="",r=Gm.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));const l=window.tinymce||window.tinyMCEPreInit;if(l)n=l.base||l.baseURL,o=l.suffix;else{const f=document.getElementsByTagName("script");for(let v=0;v<f.length;v++){const T=f[v].src||"";if(T==="")continue;const A=T.substring(T.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(T)){A.indexOf(".min")!==-1&&(o=".min"),n=T.substring(0,T.lastIndexOf("/"));break}}if(!n&&document.currentScript){const v=document.currentScript.src;v.indexOf(".min")!==-1&&(o=".min"),n=v.substring(0,v.lastIndexOf("/"))}}e.baseURL=new Gm(r).toAbsolute(n),e.documentBaseURL=r,e.baseURI=new Gm(e.baseURL),e.suffix=o,JH(e)},overrideDefaults(e){const n=e.base_url;n&&this._setBaseUrl(n);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const r=e.plugin_base_urls;r!==void 0&&nn(r,(l,f)=>{hs.PluginManager.urls[f]=l})},init(e){const n=this;let o;const r=me.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),l=(q,Z)=>q.inline&&Z.tagName.toLowerCase()in r,f=q=>{let Z=q.id;return Z||(Z=Ys(q,"name").filter(te=>!bw.get(te)).getOrThunk(bw.uniqueId),q.setAttribute("id",Z)),Z},v=q=>{const Z=e[q];if(Z)return Z.apply(n,[])},T=q=>jo.browser.isIE()||jo.browser.isEdge()?(rS("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):fq?(rS("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):ne(q.selector)?bw.select(q.selector):Pe(q.target)?[q.target]:[];let A=q=>{o=q};const L=()=>{let q=0;const Z=[];let te;const we=(Se,ue,Ce)=>{const Be=new pO(Se,ue,n);Z.push(Be),Be.on("init",()=>{++q===te.length&&A(Z)}),Be.targetElm=Be.targetElm||Ce,Be.render()};bw.unbind(window,"ready",L),v("onpageload"),te=Hf(T(e)),me.each(te,Se=>{RK(n.get(Se.id))}),te=me.grep(te,Se=>!n.get(Se.id)),te.length===0?A([]):Nk(te,Se=>{l(e,Se)?rS("Could not initialize inline editor on invalid inline target element",Se):we(f(Se),e,Se)})};return bw.bind(window,"ready",L),new Promise(q=>{o?q(o):A=Z=>{q(Z)}})},get(e){return arguments.length===0?Tu.slice(0):ne(e)?gs(Tu,n=>n.id===e).getOr(null):dn(e)&&Tu[e]?Tu[e]:null},add(e){const n=this,o=n.get(e.id);return o===e||(o===null&&Tu.push(e),S5(!0),n.activeEditor=e,n.dispatch("AddEditor",{editor:e}),vO||(vO=r=>{const l=n.dispatch("BeforeUnload");if(l.returnValue)return r.preventDefault(),r.returnValue=l.returnValue,l.returnValue},window.addEventListener("beforeunload",vO))),e},createEditor(e,n){return this.add(new pO(e,n,this))},remove(e){const n=this;let o;if(!e){for(let r=Tu.length-1;r>=0;r--)n.remove(Tu[r]);return}if(ne(e)){Nk(bw.select(e),r=>{o=n.get(r.id),o&&n.remove(o)});return}return o=e,ye(n.get(o.id))?null:(x5(o)&&n.dispatch("RemoveEditor",{editor:o}),Tu.length===0&&window.removeEventListener("beforeunload",vO),o.remove(),S5(Tu.length>0),o)},execCommand(e,n,o){var r;const l=this,f=Le(o)?(r=o.id)!==null&&r!==void 0?r:o.index:o;switch(e){case"mceAddEditor":{if(!l.get(f)){const v=o.options;new pO(f,v,l).render()}return!0}case"mceRemoveEditor":{const v=l.get(f);return v&&v.remove(),!0}case"mceToggleEditor":{const v=l.get(f);return v?(v.isHidden()?v.show():v.hide(),!0):(l.execCommand("mceAddEditor",!1,o),!0)}}return l.activeEditor?l.activeEditor.execCommand(e,n,o):!1},triggerSave:()=>{Nk(Tu,e=>{e.save()})},addI18n:(e,n)=>{zu.add(e,n)},translate:e=>zu.translate(e),setActive(e){const n=this.activeEditor;this.activeEditor!==e&&(n&&n.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new Gm(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Gm(this.baseURL)}};Ob.setup();const hq=(()=>{const e=Ci(),n=f=>({items:f,types:La(f),getType:v=>Ys(f,v).getOrUndefined()}),o=f=>{e.set(f)},r=()=>e.get().getOrUndefined(),l=e.clear;return{FakeClipboardItem:n,write:o,read:r,clear:l}})(),A5=Math.min,yw=Math.max,yO=Math.round,O5=(e,n,o)=>{let r=n.x,l=n.y;const f=e.w,v=e.h,T=n.w,A=n.h,L=(o||"").split("");return L[0]==="b"&&(l+=A),L[1]==="r"&&(r+=T),L[0]==="c"&&(l+=yO(A/2)),L[1]==="c"&&(r+=yO(T/2)),L[3]==="b"&&(l-=v),L[4]==="r"&&(r-=f),L[3]==="c"&&(l-=yO(v/2)),L[4]==="c"&&(r-=yO(f/2)),Ew(r,l,f,v)},mq=(e,n,o,r)=>{for(let l=0;l<r.length;l++){const f=O5(e,n,r[l]);if(f.x>=o.x&&f.x+f.w<=o.w+o.x&&f.y>=o.y&&f.y+f.h<=o.h+o.y)return r[l]}return null},gq=(e,n,o)=>Ew(e.x-n,e.y-o,e.w+n*2,e.h+o*2),pq=(e,n)=>{const o=yw(e.x,n.x),r=yw(e.y,n.y),l=A5(e.x+e.w,n.x+n.w),f=A5(e.y+e.h,n.y+n.h);return l-o<0||f-r<0?null:Ew(o,r,l-o,f-r)},vq=(e,n,o)=>{let r=e.x,l=e.y,f=e.x+e.w,v=e.y+e.h;const T=n.x+n.w,A=n.y+n.h,L=yw(0,n.x-r),q=yw(0,n.y-l),Z=yw(0,f-T),te=yw(0,v-A);return r+=L,l+=q,o&&(f+=L,v+=q,r-=Z,l-=te),f-=Z,v-=te,Ew(r,l,f-r,v-l)},Ew=(e,n,o,r)=>({x:e,y:n,w:o,h:r}),bq={inflate:gq,relativePosition:O5,findBestRelativePosition:mq,intersect:pq,clamp:vq,create:Ew,fromClientRect:e=>Ew(e.left,e.top,e.width,e.height)},yq=(e,n,o=1e3)=>{let r=!1,l=null;const f=L=>(...q)=>{r||(r=!0,l!==null&&(clearTimeout(l),l=null),L.apply(null,q))},v=f(e),T=f(n);return{start:(...L)=>{!r&&l===null&&(l=setTimeout(()=>T.apply(null,L),o))},resolve:v,reject:T}},_q=(()=>{const e={},n={};return{load:(f,v)=>{const T=`Script at URL "${v}" failed to load`,A=`Script at URL "${v}" did not call \`tinymce.Resource.add('${f}', data)\` within 1 second`;if(e[f]!==void 0)return e[f];{const L=new Promise((q,Z)=>{const te=yq(q,Z);n[f]=te.resolve,mf.ScriptLoader.loadScript(v).then(()=>te.start(A),()=>te.reject(T))});return e[f]=L,L}},add:(f,v)=>{n[f]!==void 0&&(n[f](v),delete n[f]),e[f]=Promise.resolve(v)},unload:f=>{delete e[f]}}})(),wq=()=>(()=>{let e={},n=[];const o={getItem:r=>{const l=e[r];return l||null},setItem:(r,l)=>{n.push(r),e[r]=String(l)},key:r=>n[r],removeItem:r=>{n=n.filter(l=>l===r),delete e[r]},clear:()=>{n=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>n.length,configurable:!1,enumerable:!1}),o})();let WS;try{const e="__storage_test__";WS=window.localStorage,WS.setItem(e,e),WS.removeItem(e)}catch{WS=wq()}var Cq=WS;const Tq={geom:{Rect:bq},util:{Delay:Ju,Tools:me,VK:gn,URI:Gm,EventDispatcher:vw,Observable:Ik,I18n:zu,LocalStorage:Cq,ImageUploader:LV},dom:{EventUtils:xd,TreeWalker:ri,TextSeeker:sr,DOMUtils:zs,ScriptLoader:mf,RangeUtils:nb,Serializer:gD,StyleSheetLoader:Cd,ControlSelection:L2,BookmarkManager:Gl,Selection:N1,Event:xd.Event},html:{Styles:xg,Entities:Td,Node:_u,Schema:hl,DomParser:gb,Writer:$N,Serializer:ab},Env:jo,AddOnManager:hs,Annotator:J0,Formatter:iS,UndoManager:CD,EditorCommands:ZZ,WindowManager:bD,NotificationManager:vb,EditorObservable:gO,Shortcuts:w5,Editor:pO,FocusManager:sb,EditorManager:Ob,DOM:zs.DOM,ScriptLoader:mf.ScriptLoader,PluginManager:xh,ThemeManager:op,ModelManager:K_,IconManager:Zx,Resource:_q,FakeClipboard:hq,trim:me.trim,isArray:me.isArray,is:me.is,toArray:me.toArray,makeMap:me.makeMap,each:me.each,map:me.map,grep:me.grep,inArray:me.inArray,extend:me.extend,walk:me.walk,resolve:me.resolve,explode:me.explode,_addCacheSuffix:me._addCacheSuffix},R5=me.extend(Ob,Tq),Sq=e=>{try{a.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(R5),Sq(R5)})()})(Pne);const Lne=bj;tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const a=Object.getPrototypeOf,c=(t,s,i)=>{var u;return i(t,s.prototype)?!0:((u=t.constructor)===null||u===void 0?void 0:u.name)===s.name},h=t=>{const s=typeof t;return t===null?"null":s==="object"&&Array.isArray(t)?"array":s==="object"&&c(t,String,(i,u)=>u.isPrototypeOf(i))?"string":s},E=t=>s=>h(s)===t,x=t=>s=>typeof s===t,k=t=>s=>t===s,D=(t,s)=>G(t)&&c(t,s,(i,u)=>a(i)===u),V=E("string"),G=E("object"),Y=t=>D(t,Object),K=E("array"),re=k(null),be=x("boolean"),ge=k(void 0),le=t=>t==null,de=t=>!le(t),Ee=x("function"),De=x("number"),ke=(t,s)=>{if(K(t)){for(let i=0,u=t.length;i<u;++i)if(!s(t[i]))return!1;return!0}return!1},ne=()=>{},Le=t=>()=>t(),ct=(t,s)=>(...i)=>t(s.apply(null,i)),$=(t,s)=>i=>t(s(i)),ye=t=>()=>t,Ge=t=>t,mt=(t,s)=>t===s;function xt(t,...s){return(...i)=>{const u=s.concat(i);return t.apply(null,u)}}const Pe=t=>s=>!t(s),he=t=>()=>{throw new Error(t)},dn=t=>t(),bt=ye(!1),Ct=ye(!0);class P{constructor(s,i){this.tag=s,this.value=i}static some(s){return new P(!0,s)}static none(){return P.singletonNone}fold(s,i){return this.tag?i(this.value):s()}isSome(){return this.tag}isNone(){return!this.tag}map(s){return this.tag?P.some(s(this.value)):P.none()}bind(s){return this.tag?s(this.value):P.none()}exists(s){return this.tag&&s(this.value)}forall(s){return!this.tag||s(this.value)}filter(s){return!this.tag||s(this.value)?this:P.none()}getOr(s){return this.tag?this.value:s}or(s){return this.tag?this:s}getOrThunk(s){return this.tag?this.value:s()}orThunk(s){return this.tag?this:s()}getOrDie(s){if(this.tag)return this.value;throw new Error(s??"Called getOrDie on None")}static from(s){return de(s)?P.some(s):P.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(s){this.tag&&s(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}P.singletonNone=new P(!1);const Tt=Array.prototype.slice,Xe=Array.prototype.indexOf,Vt=Array.prototype.push,Nt=(t,s)=>Xe.call(t,s),Ve=(t,s)=>{const i=Nt(t,s);return i===-1?P.none():P.some(i)},uo=(t,s)=>Nt(t,s)>-1,Lo=(t,s)=>{for(let i=0,u=t.length;i<u;i++){const m=t[i];if(s(m,i))return!0}return!1},Jn=(t,s)=>{const i=[];for(let u=0;u<t;u++)i.push(s(u));return i},Fo=(t,s)=>{const i=[];for(let u=0;u<t.length;u+=s){const m=Tt.call(t,u,u+s);i.push(m)}return i},je=(t,s)=>{const i=t.length,u=new Array(i);for(let m=0;m<i;m++){const b=t[m];u[m]=s(b,m)}return u},At=(t,s)=>{for(let i=0,u=t.length;i<u;i++){const m=t[i];s(m,i)}},ee=(t,s)=>{for(let i=t.length-1;i>=0;i--){const u=t[i];s(u,i)}},os=(t,s)=>{const i=[],u=[];for(let m=0,b=t.length;m<b;m++){const w=t[m];(s(w,m)?i:u).push(w)}return{pass:i,fail:u}},so=(t,s)=>{const i=[];for(let u=0,m=t.length;u<m;u++){const b=t[u];s(b,u)&&i.push(b)}return i},Ts=(t,s,i)=>(ee(t,(u,m)=>{i=s(i,u,m)}),i),ys=(t,s,i)=>(At(t,(u,m)=>{i=s(i,u,m)}),i),bc=(t,s,i)=>{for(let u=0,m=t.length;u<m;u++){const b=t[u];if(s(b,u))return P.some(b);if(i(b,u))break}return P.none()},Dn=(t,s)=>bc(t,s,bt),as=(t,s)=>{for(let i=0,u=t.length;i<u;i++){const m=t[i];if(s(m,i))return P.some(i)}return P.none()},qt=t=>{const s=[];for(let i=0,u=t.length;i<u;++i){if(!K(t[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+t);Vt.apply(s,t[i])}return s},lt=(t,s)=>qt(je(t,s)),Sl=(t,s)=>{for(let i=0,u=t.length;i<u;++i){const m=t[i];if(s(m,i)!==!0)return!1}return!0},Ui=t=>{const s=Tt.call(t,0);return s.reverse(),s},En=(t,s)=>so(t,i=>!uo(s,i)),Wr=(t,s)=>{const i={};for(let u=0,m=t.length;u<m;u++){const b=t[u];i[String(b)]=s(b,u)}return i},Os=t=>[t],yc=(t,s)=>{const i=Tt.call(t,0);return i.sort(s),i},gs=(t,s)=>s>=0&&s<t.length?P.some(t[s]):P.none(),Tr=t=>gs(t,0),nl=t=>gs(t,t.length-1),ga=Ee(Array.from)?Array.from:t=>Tt.call(t),tr=(t,s)=>{for(let i=0;i<t.length;i++){const u=s(t[i],i);if(u.isSome())return u}return P.none()},js=Object.keys,qd=Object.hasOwnProperty,Nr=(t,s)=>{const i=js(t);for(let u=0,m=i.length;u<m;u++){const b=i[u],w=t[b];s(w,b)}},Rs=(t,s)=>xl(t,(i,u)=>({k:u,v:s(i,u)})),xl=(t,s)=>{const i={};return Nr(t,(u,m)=>{const b=s(u,m);i[b.k]=b.v}),i},Oi=t=>(s,i)=>{t[i]=s},Al=(t,s,i,u)=>{Nr(t,(m,b)=>{(s(m,b)?i:u)(m,b)})},pr=(t,s)=>{const i={},u={};return Al(t,s,Oi(i),Oi(u)),{t:i,f:u}},ei=(t,s)=>{const i={};return Al(t,s,Oi(i),ne),i},Hf=(t,s)=>{const i=[];return Nr(t,(u,m)=>{i.push(s(u,m))}),i},La=(t,s)=>{const i=js(t);for(let u=0,m=i.length;u<m;u++){const b=i[u],w=t[b];if(s(w,b,t))return P.some(w)}return P.none()},ng=t=>Hf(t,Ge),nn=(t,s)=>Bo(t,s)?P.from(t[s]):P.none(),Bo=(t,s)=>qd.call(t,s),na=(t,s)=>Bo(t,s)&&t[s]!==void 0&&t[s]!==null,Ec=(t,s,i=mt)=>t.exists(u=>i(u,s)),og=(t,s,i=mt)=>jd(t,s,i).getOr(t.isNone()&&s.isNone()),Au=t=>{const s=[],i=u=>{s.push(u)};for(let u=0;u<t.length;u++)t[u].each(i);return s},Is=t=>{const s=[];for(let i=0;i<t.length;i++){const u=t[i];if(u.isSome())s.push(u.getOrDie());else return P.none()}return P.some(s)},jd=(t,s,i)=>t.isSome()&&s.isSome()?P.some(i(t.getOrDie(),s.getOrDie())):P.none(),Vf=(t,s,i,u)=>t.isSome()&&s.isSome()&&i.isSome()?P.some(u(t.getOrDie(),s.getOrDie(),i.getOrDie())):P.none(),Ys=(t,s)=>t!=null?P.some(s(t)):P.none(),zn=(t,s)=>t?P.some(s):P.none(),nc=(t,s)=>t+s,Ou=(t,s)=>t.substring(s),Vh=(t,s,i)=>s===""||t.length>=s.length&&t.substr(i,i+s.length)===s,Sp=(t,s)=>Rr(t,s)?Ou(t,s.length):t,Ri=(t,s)=>ol(t,s)?t:nc(t,s),zi=(t,s,i=0,u)=>{const m=t.indexOf(s,i);return m!==-1?ge(u)?!0:m+s.length<=u:!1},Rr=(t,s)=>Vh(t,s,0),ol=(t,s)=>Vh(t,s,t.length-s.length),Ru=(t=>s=>s.replace(t,""))(/^\s+|\s+$/g),_c=t=>t.length>0,xr=t=>!_c(t),sl=t=>t.style!==void 0&&Ee(t.style.getPropertyValue),Ol=(t,s)=>{const u=(s||document).createElement("div");if(u.innerHTML=t,!u.hasChildNodes()||u.childNodes.length>1){const m="HTML does not have a single root node";throw console.error(m,t),new Error(m)}return Jl(u.childNodes[0])},q1=(t,s)=>{const u=(s||document).createElement(t);return Jl(u)},j1=(t,s)=>{const u=(s||document).createTextNode(t);return Jl(u)},Jl=t=>{if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},Ze={fromHtml:Ol,fromTag:q1,fromText:j1,fromDom:Jl,fromPoint:(t,s,i)=>P.from(t.dom.elementFromPoint(s,i)).map(Jl)},Ii=typeof window<"u"?window:Function("return this;")(),Uf=(t,s)=>{let i=s??Ii;for(let u=0;u<t.length&&i!==void 0&&i!==null;++u)i=i[t[u]];return i},Y1=(t,s)=>{const i=t.split(".");return Uf(i,s)},sg=(t,s)=>Y1(t,s),Ls=(t,s)=>{const i=sg(t,s);if(i==null)throw new Error(t+" not available on this browser");return i},zf=Object.getPrototypeOf,Ap=t=>Ls("HTMLElement",t),oa=t=>{const s=Y1("ownerDocument.defaultView",t);return G(t)&&(Ap(s).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(zf(t).constructor.name))},Rl=9,ti=11,vi=1,Iu=3,oc=t=>t.dom.nodeName.toLowerCase(),Du=t=>t.dom.nodeType,eu=t=>s=>Du(s)===t,Kd=t=>Es(t)&&oa(t.dom),Es=eu(vi),pa=eu(Iu),rl=eu(Rl),dd=eu(ti),Lc=t=>s=>Es(s)&&oc(s)===t,wc=(t,s)=>{const i=t.dom;if(i.nodeType!==vi)return!1;{const u=i;if(u.matches!==void 0)return u.matches(s);if(u.msMatchesSelector!==void 0)return u.msMatchesSelector(s);if(u.webkitMatchesSelector!==void 0)return u.webkitMatchesSelector(s);if(u.mozMatchesSelector!==void 0)return u.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")}},vr=t=>t.nodeType!==vi&&t.nodeType!==Rl&&t.nodeType!==ti||t.childElementCount===0,Xd=(t,s)=>{const i=s===void 0?document:s.dom;return vr(i)?[]:je(i.querySelectorAll(t),Ze.fromDom)},Mu=(t,s)=>{const i=s===void 0?document:s.dom;return vr(i)?P.none():P.from(i.querySelector(t)).map(Ze.fromDom)},us=(t,s)=>t.dom===s.dom,sc=(t,s)=>{const i=t.dom,u=s.dom;return i===u?!1:i.contains(u)},Di=t=>Ze.fromDom(t.dom.ownerDocument),bi=t=>rl(t)?t:Di(t),ku=t=>Ze.fromDom(bi(t).dom.documentElement),fd=t=>Ze.fromDom(bi(t).dom.defaultView),Cc=t=>P.from(t.dom.parentNode).map(Ze.fromDom),Bc=t=>P.from(t.dom.parentElement).map(Ze.fromDom),Uh=(t,s)=>{const i=Ee(s)?s:bt;let u=t.dom;const m=[];for(;u.parentNode!==null&&u.parentNode!==void 0;){const b=u.parentNode,w=Ze.fromDom(b);if(m.push(w),i(w)===!0)break;u=b}return m},rg=t=>P.from(t.dom.offsetParent).map(Ze.fromDom),K1=t=>P.from(t.dom.nextSibling).map(Ze.fromDom),$c=t=>je(t.dom.childNodes,Ze.fromDom),hd=(t,s)=>{const i=t.dom.childNodes;return P.from(i[s]).map(Ze.fromDom)},ig=t=>hd(t,0),Op=(t,s)=>({element:t,offset:s}),ag=(t,s)=>{const i=$c(t);return i.length>0&&s<i.length?Op(i[s],0):Op(t,s)},cg=t=>dd(t)&&de(t.dom.host),X1=Ee(Element.prototype.attachShadow)&&Ee(Node.prototype.getRootNode),Wf=ye(X1),va=X1?t=>Ze.fromDom(t.dom.getRootNode()):bi,Wi=t=>cg(t)?t:Ze.fromDom(bi(t).dom.body),md=t=>lg(t).isSome(),lg=t=>{const s=va(t);return cg(s)?P.some(s):P.none()},Q1=t=>Ze.fromDom(t.dom.host),Bs=t=>{if(Wf()&&de(t.target)){const s=Ze.fromDom(t.target);if(Es(s)&&br(s)&&t.composed&&t.composedPath){const i=t.composedPath();if(i)return Tr(i)}}return P.from(t.target)},br=t=>de(t.dom.shadowRoot),rc=t=>{const s=pa(t)?t.dom.parentNode:t.dom;if(s==null||s.ownerDocument===null)return!1;const i=s.ownerDocument;return lg(Ze.fromDom(s)).fold(()=>i.body.contains(s),$(rc,Q1))},Gi=()=>tu(Ze.fromDom(document)),tu=t=>{const s=t.dom.body;if(s==null)throw new Error("Body is not available yet");return Ze.fromDom(s)},il=(t,s,i)=>{if(V(i)||be(i)||De(i))t.setAttribute(s,i+"");else throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",i,":: Element ",t),new Error("Attribute value was not simple")},eo=(t,s,i)=>{il(t.dom,s,i)},jo=(t,s)=>{const i=t.dom;Nr(s,(u,m)=>{il(i,m,u)})},Mi=(t,s)=>{const i=t.dom.getAttribute(s);return i===null?void 0:i},Gr=(t,s)=>P.from(Mi(t,s)),sa=(t,s)=>{const i=t.dom;return i&&i.hasAttribute?i.hasAttribute(s):!1},C=(t,s)=>{t.dom.removeAttribute(s)},I=t=>ys(t.dom.attributes,(s,i)=>(s[i.name]=i.value,s),{}),F=(t,s,i)=>{if(!V(i))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",i,":: Element ",t),new Error("CSS value must be a string: "+i);sl(t)&&t.style.setProperty(s,i)},U=(t,s)=>{sl(t)&&t.style.removeProperty(s)},Q=(t,s,i)=>{const u=t.dom;F(u,s,i)},se=(t,s)=>{const i=t.dom;Nr(s,(u,m)=>{F(i,m,u)})},fe=(t,s)=>{const i=t.dom;Nr(s,(u,m)=>{u.fold(()=>{U(i,m)},b=>{F(i,m,b)})})},me=(t,s)=>{const i=t.dom,m=window.getComputedStyle(i).getPropertyValue(s);return m===""&&!rc(t)?Re(i,s):m},Re=(t,s)=>sl(t)?t.style.getPropertyValue(s):"",tt=(t,s)=>{const i=t.dom,u=Re(i,s);return P.from(u).filter(m=>m.length>0)},pt=t=>{const s={},i=t.dom;if(sl(i))for(let u=0;u<i.style.length;u++){const m=i.style.item(u);s[m]=i.style[m]}return s},Ut=(t,s,i)=>{const u=Ze.fromTag(t);return Q(u,s,i),tt(u,s).isSome()},Je=(t,s)=>{const i=t.dom;U(i,s),Ec(Gr(t,"style").map(Ru),"")&&C(t,"style")},Ot=t=>t.dom.offsetWidth,Zn=(t,s)=>{const i=(O,M)=>{if(!De(M)&&!M.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+M);const B=O.dom;sl(B)&&(B.style[t]=M+"px")},u=O=>{const M=s(O);if(M<=0||M===null){const B=me(O,t);return parseFloat(B)||0}return M},m=u,b=(O,M)=>ys(M,(B,z)=>{const j=me(O,z),J=j===void 0?0:parseInt(j,10);return isNaN(J)?B:B+J},0);return{set:i,get:u,getOuter:m,aggregate:b,max:(O,M,B)=>{const z=b(O,B);return M>z?M-z:0}}},Hn=Zn("height",t=>{const s=t.dom;return rc(t)?s.getBoundingClientRect().height:s.offsetHeight}),vn=t=>Hn.get(t),lr=t=>Hn.getOuter(t),ni=(t,s)=>{const i=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],u=Hn.max(t,s,i);Q(t,"max-height",u+"px")},cs=(t,s)=>({left:t,top:s,translate:(u,m)=>cs(t+u,s+m)}),Wn=cs,jn=t=>{const s=t.getBoundingClientRect();return Wn(s.left,s.top)},Zi=(t,s)=>t!==void 0?t:s!==void 0?s:0,To=t=>{const s=t.dom.ownerDocument,i=s.body,u=s.defaultView,m=s.documentElement;if(i===t.dom)return Wn(i.offsetLeft,i.offsetTop);const b=Zi(u==null?void 0:u.pageYOffset,m.scrollTop),w=Zi(u==null?void 0:u.pageXOffset,m.scrollLeft),O=Zi(m.clientTop,i.clientTop),M=Zi(m.clientLeft,i.clientLeft);return yr(t).translate(w-M,b-O)},yr=t=>{const s=t.dom,u=s.ownerDocument.body;return u===s?Wn(u.offsetLeft,u.offsetTop):rc(t)?jn(s):Wn(0,0)},Nu=Zn("width",t=>t.dom.offsetWidth),$s=(t,s)=>Nu.set(t,s),nr=t=>Nu.get(t),Pr=t=>Nu.getOuter(t),Fc=(t,s)=>{const i=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],u=Nu.max(t,s,i);Q(t,"max-width",u+"px")},yi=t=>{let s=!1,i;return(...u)=>(s||(s=!0,i=t.apply(null,u)),i)},Jo=(t,s,i,u)=>{const m=t.isiOS()&&/ipad/i.test(i)===!0,b=t.isiOS()&&!m,w=t.isiOS()||t.isAndroid(),O=w||u("(pointer:coarse)"),M=m||!b&&w&&u("(min-device-width:768px)"),B=b||w&&!M,z=s.isSafari()&&t.isiOS()&&/safari/i.test(i)===!1,j=!B&&!M&&!z;return{isiPad:ye(m),isiPhone:ye(b),isTablet:ye(M),isPhone:ye(B),isTouch:ye(O),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:ye(z),isDesktop:ye(j)}},ur=(t,s)=>{for(let i=0;i<t.length;i++){const u=t[i];if(u.test(s))return u}},Ba=(t,s)=>{const i=ur(t,s);if(!i)return{major:0,minor:0};const u=m=>Number(s.replace(i,"$"+m));return Vc(u(1),u(2))},zh=(t,s)=>{const i=String(s).toLowerCase();return t.length===0?Hc():Ba(t,i)},Hc=()=>Vc(0,0),Vc=(t,s)=>({major:t,minor:s}),io={nu:Vc,detect:zh,unknown:Hc},Lr=(t,s)=>tr(s.brands,i=>{const u=i.brand.toLowerCase();return Dn(t,m=>{var b;return u===((b=m.brand)===null||b===void 0?void 0:b.toLowerCase())}).map(m=>({current:m.name,version:io.nu(parseInt(i.version,10),0)}))}),ba=(t,s)=>{const i=String(s).toLowerCase();return Dn(t,u=>u.search(i))},Tc=(t,s)=>ba(t,s).map(i=>{const u=io.detect(i.versionRegexes,s);return{current:i.name,version:u}}),ya=(t,s)=>ba(t,s).map(i=>{const u=io.detect(i.versionRegexes,s);return{current:i.name,version:u}}),dr=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ea=t=>s=>zi(s,t),Gf=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:t=>zi(t,"edge/")&&zi(t,"chrome")&&zi(t,"safari")&&zi(t,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,dr],search:t=>zi(t,"chrome")&&!zi(t,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:t=>zi(t,"msie")||zi(t,"trident")},{name:"Opera",versionRegexes:[dr,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ea("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ea("firefox")},{name:"Safari",versionRegexes:[dr,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:t=>(zi(t,"safari")||zi(t,"mobile/"))&&zi(t,"applewebkit")}],Qd=[{name:"Windows",search:Ea("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:t=>zi(t,"iphone")||zi(t,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ea("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Ea("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ea("linux"),versionRegexes:[]},{name:"Solaris",search:Ea("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ea("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ea("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ug={browsers:ye(Gf),oses:ye(Qd)},J1="Edge",nu="Chromium",gd="IE",Wh="Opera",Ei="Firefox",Jd="Safari",ef=()=>pd({current:void 0,version:io.unknown()}),pd=t=>{const s=t.current,i=t.version,u=m=>()=>s===m;return{current:s,version:i,isEdge:u(J1),isChromium:u(nu),isIE:u(gd),isOpera:u(Wh),isFirefox:u(Ei),isSafari:u(Jd)}},ic={unknown:ef,nu:pd,edge:ye(J1),chromium:ye(nu),ie:ye(gd),opera:ye(Wh),firefox:ye(Ei),safari:ye(Jd)},ra="Windows",vd="iOS",tf="Android",Rp="Linux",ev="macOS",ps="Solaris",Sc="FreeBSD",xe="ChromeOS",ac=()=>ia({current:void 0,version:io.unknown()}),ia=t=>{const s=t.current,i=t.version,u=m=>()=>s===m;return{current:s,version:i,isWindows:u(ra),isiOS:u(vd),isAndroid:u(tf),isMacOS:u(ev),isLinux:u(Rp),isSolaris:u(ps),isFreeBSD:u(Sc),isChromeOS:u(xe)}},dg={unknown:ac,nu:ia,windows:ye(ra),ios:ye(vd),android:ye(tf),linux:ye(Rp),macos:ye(ev),solaris:ye(ps),freebsd:ye(Sc),chromeos:ye(xe)},Bb={detect:(t,s,i)=>{const u=ug.browsers(),m=ug.oses(),b=s.bind(M=>Lr(u,M)).orThunk(()=>Tc(u,t)).fold(ic.unknown,ic.nu),w=ya(m,t).fold(dg.unknown,dg.nu),O=Jo(w,b,t,i);return{browser:b,os:w,deviceType:O}}},zo=t=>window.matchMedia(t).matches;let Qe=yi(()=>Bb.detect(navigator.userAgent,P.from(navigator.userAgentData),zo));const It=()=>Qe(),wt=(t,s,i,u,m,b,w)=>({target:t,x:s,y:i,stop:u,prevent:m,kill:b,raw:w}),Ln=t=>{const s=Ze.fromDom(Bs(t).getOr(t.target)),i=()=>t.stopPropagation(),u=()=>t.preventDefault(),m=ct(u,i);return wt(s,t.clientX,t.clientY,i,u,m,t)},go=(t,s)=>i=>{t(i)&&s(Ln(i))},Ho=(t,s,i,u,m)=>{const b=go(i,u);return t.dom.addEventListener(s,b,m),{unbind:xt(Zf,t,s,b,m)}},oi=(t,s,i,u)=>Ho(t,s,i,u,!1),Us=(t,s,i,u)=>Ho(t,s,i,u,!0),Zf=(t,s,i,u)=>{t.dom.removeEventListener(s,i,u)},xc=(t,s)=>{Cc(t).each(u=>{u.dom.insertBefore(s.dom,t.dom)})},_a=(t,s)=>{K1(t).fold(()=>{Cc(t).each(m=>{Me(m,s)})},u=>{xc(u,s)})},_e=(t,s)=>{ig(t).fold(()=>{Me(t,s)},u=>{t.dom.insertBefore(s.dom,u.dom)})},Me=(t,s)=>{t.dom.appendChild(s.dom)},Fe=(t,s,i)=>{hd(t,i).fold(()=>{Me(t,s)},u=>{xc(u,s)})},kt=(t,s)=>{At(s,i=>{Me(t,i)})},st=t=>{t.dom.textContent="",At($c(t),s=>{Et(s)})},Et=t=>{const s=t.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},zt=t=>{const s=t!==void 0?t.dom:document,i=s.body.scrollLeft||s.documentElement.scrollLeft,u=s.body.scrollTop||s.documentElement.scrollTop;return Wn(i,u)},_n=(t,s,i)=>{const m=(i!==void 0?i.dom:document).defaultView;m&&m.scrollTo(t,s)},Sn=t=>{const s=t===void 0?window:t;return It().browser.isFirefox()?P.none():P.from(s.visualViewport)},fo=(t,s,i,u)=>({x:t,y:s,width:i,height:u,right:t+i,bottom:s+u}),ao=t=>{const s=t===void 0?window:t,i=s.document,u=zt(Ze.fromDom(i));return Sn(s).fold(()=>{const m=s.document.documentElement,b=m.clientWidth,w=m.clientHeight;return fo(u.left,u.top,b,w)},m=>fo(Math.max(m.pageLeft,u.left),Math.max(m.pageTop,u.top),m.width,m.height))},Xn=()=>Ze.fromDom(document),Vo=(t,s)=>t.view(s).fold(ye([]),u=>{const m=t.owner(u),b=Vo(t,m);return[u].concat(b)}),Ss=(t,s)=>{const i=s.owner(t),u=Vo(s,i);return P.some(u)};var ki=Object.freeze({__proto__:null,view:t=>{var s;return(t.dom===document?P.none():P.from((s=t.dom.defaultView)===null||s===void 0?void 0:s.frameElement)).map(Ze.fromDom)},owner:t=>Di(t)});const $a=t=>{const s=Xn(),i=zt(s);return Ss(t,ki).fold(xt(To,t),m=>{const b=yr(t),w=Ts(m,(O,M)=>{const B=yr(M);return{left:O.left+B.left,top:O.top+B.top}},{left:0,top:0});return Wn(w.left+b.left+i.left,w.top+b.top+i.top)})},Ks=(t,s,i)=>({point:t,width:s,height:i}),ou=(t,s,i,u)=>({x:t,y:s,width:i,height:u}),Ds=(t,s,i,u)=>({x:t,y:s,width:i,height:u,right:t+i,bottom:s+u}),Wo=t=>{const s=To(t),i=Pr(t),u=lr(t);return Ds(s.left,s.top,i,u)},Il=t=>{const s=$a(t),i=Pr(t),u=lr(t);return Ds(s.left,s.top,i,u)},Ip=(t,s)=>{const i=Math.max(t.x,s.x),u=Math.max(t.y,s.y),m=Math.min(t.right,s.right),b=Math.min(t.bottom,s.bottom),w=m-i,O=b-u;return Ds(i,u,w,O)},Lw=(t,s)=>ys(s,(i,u)=>Ip(i,u),t),wa=()=>ao(window);var Dp=tinymce.util.Tools.resolve("tinymce.ThemeManager");const su=t=>{const s=b=>b(t),i=ye(t),u=()=>m,m={tag:!0,inner:t,fold:(b,w)=>w(t),isValue:Ct,isError:bt,map:b=>co.value(b(t)),mapError:u,bind:s,exists:s,forall:s,getOr:i,or:u,getOrThunk:i,orThunk:u,getOrDie:i,each:b=>{b(t)},toOptional:()=>P.some(t)};return m},Dl=t=>{const s=()=>i,i={tag:!1,inner:t,fold:(u,m)=>u(t),isValue:bt,isError:Ct,map:s,mapError:u=>co.error(u(t)),bind:s,exists:bt,forall:Ct,getOr:Ge,or:Ge,getOrThunk:dn,orThunk:dn,getOrDie:he(String(t)),each:ne,toOptional:P.none};return i},co={value:su,error:Dl,fromOption:(t,s)=>t.fold(()=>Dl(s),su)};var Fa;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(Fa||(Fa={}));const fg=(t,s,i)=>t.stype===Fa.Error?s(t.serror):i(t.svalue),nE=t=>{const s=[],i=[];return At(t,u=>{fg(u,m=>i.push(m),m=>s.push(m))}),{values:s,errors:i}},si=(t,s)=>t.stype===Fa.Error?{stype:Fa.Error,serror:s(t.serror)}:t,aa=(t,s)=>t.stype===Fa.Value?{stype:Fa.Value,svalue:s(t.svalue)}:t,bd=(t,s)=>t.stype===Fa.Value?s(t.svalue):t,Ml=(t,s)=>t.stype===Fa.Error?s(t.serror):t,Ca=t=>({stype:Fa.Value,svalue:t}),al=t=>({stype:Fa.Error,serror:t}),ss={fromResult:t=>t.fold(al,Ca),toResult:t=>fg(t,co.error,co.value),svalue:Ca,partition:nE,serror:al,bind:bd,bindError:Ml,map:aa,mapError:si,fold:fg},cl=(t,s,i,u)=>({tag:"field",key:t,newKey:s,presence:i,prop:u}),ru=(t,s)=>({tag:"custom",newKey:t,instantiator:s}),Er=(t,s,i)=>{switch(t.tag){case"field":return s(t.key,t.newKey,t.presence,t.prop);case"custom":return i(t.newKey,t.instantiator)}},kp=(t,s)=>s,hg=(t,s)=>Y(t)&&Y(s)?Xs(t,s):s,nf=t=>(...s)=>{if(s.length===0)throw new Error("Can't merge zero objects");const i={};for(let u=0;u<s.length;u++){const m=s[u];for(const b in m)Bo(m,b)&&(i[b]=t(i[b],m[b]))}return i},Xs=nf(hg),_r=nf(kp),Ha=()=>({tag:"required",process:{}}),$b=t=>({tag:"defaultedThunk",process:t}),Zh=t=>$b(ye(t)),qh=()=>({tag:"option",process:{}}),mg=t=>({tag:"mergeWithThunk",process:t}),ce=t=>mg(ye(t)),qf=(t,s)=>t.length>0?ss.svalue(Xs(s,_r.apply(void 0,t))):ss.svalue(s),gg=t=>ct(ss.serror,qt)(t),Fb={consolidateObj:(t,s)=>{const i=ss.partition(t);return i.errors.length>0?gg(i.errors):qf(i.values,s)},consolidateArr:t=>{const s=ss.partition(t);return s.errors.length>0?gg(s.errors):ss.svalue(s.values)}},Hb=t=>G(t)&&js(t).length>100?" removed due to size":JSON.stringify(t,null,2),Vb=t=>{const s=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:ye("... (only showing first ten failures)")}]):t;return je(s,i=>"Failed path: ("+i.path.join(" > ")+`)
`+i.getErrorInfo())},Va=(t,s)=>ss.serror([{path:t,getErrorInfo:s}]),oE=(t,s,i)=>Va(t,()=>'Could not find valid *required* value for "'+s+'" in '+Hb(i)),tv=(t,s)=>Va(t,()=>'Choice schema did not contain choice key: "'+s+'"'),sE=(t,s,i)=>Va(t,()=>'The chosen schema: "'+i+'" did not exist in branches: '+Hb(s)),Pu=(t,s)=>Va(t,()=>"There are unsupported fields: ["+s.join(", ")+"] specified"),Ub=(t,s)=>Va(t,ye(s)),Ua=t=>{const s=(u,m)=>ss.bindError(t(m),b=>Ub(u,b)),i=ye("val");return{extract:s,toString:i}},jh=Ua(ss.svalue),Bw=(t,s,i,u)=>nn(s,i).fold(()=>oE(t,i,s),u),nv=(t,s,i,u)=>{const m=nn(t,s).getOrThunk(()=>i(t));return u(m)},zb=(t,s,i)=>i(nn(t,s)),rE=(t,s,i,u)=>{const m=nn(t,s).map(b=>b===!0?i(t):b);return u(m)},Lu=(t,s,i,u,m)=>{const b=O=>m.extract(s.concat([u]),O),w=O=>O.fold(()=>ss.svalue(P.none()),M=>{const B=m.extract(s.concat([u]),M);return ss.map(B,P.some)});switch(t.tag){case"required":return Bw(s,i,u,b);case"defaultedThunk":return nv(i,u,t.process,b);case"option":return zb(i,u,w);case"defaultedOptionThunk":return rE(i,u,t.process,w);case"mergeWithThunk":return nv(i,u,ye({}),O=>{const M=Xs(t.process(i),O);return b(M)})}},Ta=(t,s,i)=>{const u={},m=[];for(const b of i)Er(b,(w,O,M,B)=>{const z=Lu(M,t,s,w,B);ss.fold(z,j=>{m.push(...j)},j=>{u[O]=j})},(w,O)=>{u[w]=O(s)});return m.length>0?ss.serror(m):ss.svalue(u)},ov=t=>({extract:(u,m)=>t().extract(u,m),toString:()=>t().toString()}),ri=t=>js(ei(t,de)),ca=t=>{const s=An(t),i=Ts(t,(m,b)=>Er(b,w=>Xs(m,{[w]:!0}),ye(m)),{});return{extract:(m,b)=>{const w=be(b)?[]:ri(b),O=so(w,M=>!na(i,M));return O.length===0?s.extract(m,b):Pu(m,O)},toString:s.toString}},An=t=>({extract:(u,m)=>Ta(u,m,t),toString:()=>`obj{
`+je(t,m=>Er(m,(b,w,O,M)=>b+" -> "+M.toString(),(b,w)=>"state("+b+")")).join(`
`)+"}"}),Xt=t=>({extract:(u,m)=>{const b=je(m,(w,O)=>t.extract(u.concat(["["+O+"]"]),w));return Fb.consolidateArr(b)},toString:()=>"array("+t.toString()+")"}),Np=(t,s)=>{const i=s!==void 0?s:Ge;return{extract:(b,w)=>{const O=[];for(const M of t){const B=M.extract(b,w);if(B.stype===Fa.Value)return{stype:Fa.Value,svalue:i(B.svalue)};O.push(B)}return Fb.consolidateArr(O)},toString:()=>"oneOf("+je(t,b=>b.toString()).join(", ")+")"}},kl=(t,s)=>{const i=(b,w)=>Xt(Ua(t)).extract(b,w);return{extract:(b,w)=>{const O=js(w),M=i(b,O);return ss.bind(M,B=>{const z=je(B,j=>cl(j,j,Ha(),s));return An(z).extract(b,w)})},toString:()=>"setOf("+s.toString()+")"}},Nl=(t,s)=>{const i=yi(s);return{extract:(b,w)=>i().extract(b,w),toString:()=>i().toString()}},Wb=ct(Xt,An),Pl=ye(jh),Ll=(t,s)=>Ua(i=>{const u=typeof i;return t(i)?ss.svalue(i):ss.serror(`Expected type: ${s} but got: ${u}`)}),sv=Ll(De,"number"),Ar=Ll(V,"string"),Yh=Ll(be,"boolean"),pg=Ll(Ee,"function"),Pt=t=>{if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(s=>Pt(t[s]));default:return!1}},$w=Ua(t=>Pt(t)?ss.svalue(t):ss.serror("Expected value to be acceptable for sending via postMessage")),Gb=(t,s,i,u)=>nn(i,u).fold(()=>sE(t,i,u),b=>b.extract(t.concat(["branch: "+u]),s)),za=(t,s)=>({extract:(m,b)=>nn(b,t).fold(()=>tv(m,t),O=>Gb(m,b,s,O)),toString:()=>"chooseOn("+t+"). Possible values: "+js(s)}),of=()=>Xt(jh),jf=t=>Ua(s=>t(s).fold(ss.serror,ss.svalue)),wr=(t,s)=>kl(i=>ss.fromResult(t(i)),s),iE=(t,s,i)=>{const u=s.extract([t],i);return ss.mapError(u,m=>({input:i,errors:m}))},Go=(t,s,i)=>ss.toResult(iE(t,s,i)),es=t=>t.fold(s=>{throw new Error(cc(s))},Ge),Zr=(t,s,i)=>es(Go(t,s,i)),cc=t=>`Errors: 
`+Vb(t.errors).join(`
`)+`

Input object: `+Hb(t.input),qr=(t,s)=>za(t,Rs(s,An)),Yf=(t,s)=>Nl(t,s),Br=cl,ds=ru,au=t=>jf(s=>uo(t,s)?co.value(s):co.error(`Unsupported value: "${s}", choose one of "${t.join(", ")}".`)),_t=t=>Br(t,t,Ha(),Pl()),Bl=(t,s)=>Br(t,t,Ha(),s),Kh=t=>Bl(t,sv),Ir=t=>Bl(t,Ar),cu=(t,s)=>Br(t,t,Ha(),au(s)),lc=t=>Bl(t,Yh),ll=t=>Bl(t,pg),aE=(t,s)=>Br(t,t,qh(),Ua(i=>ss.serror("The field: "+t+" is forbidden. "+s))),uc=(t,s)=>Br(t,t,Ha(),An(s)),rv=(t,s)=>Br(t,t,Ha(),Wb(s)),Wa=(t,s)=>Br(t,t,Ha(),Xt(s)),$o=t=>Br(t,t,qh(),Pl()),Bu=(t,s)=>Br(t,t,qh(),s),Sa=t=>Bu(t,sv),la=t=>Bu(t,Ar),$u=(t,s)=>Bu(t,au(s)),xa=t=>Bu(t,pg),cE=(t,s)=>Bu(t,Xt(s)),Aa=(t,s)=>Bu(t,An(s)),sf=(t,s)=>Bu(t,ca(s)),qe=(t,s)=>Br(t,t,Zh(s),Pl()),Ac=(t,s,i)=>Br(t,t,Zh(s),i),Xh=(t,s)=>Ac(t,s,sv),lu=(t,s)=>Ac(t,s,Ar),Ga=(t,s,i)=>Ac(t,s,au(i)),Yi=(t,s)=>Ac(t,s,Yh),_i=(t,s)=>Ac(t,s,pg),Zb=(t,s)=>Ac(t,s,$w),Pp=(t,s,i)=>Ac(t,s,Xt(i)),Kf=(t,s,i)=>Ac(t,s,An(i)),Pn=t=>{let s=t;return{get:()=>s,set:m=>{s=m}}},$l={generate:t=>{if(!K(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");const s=[],i={};return At(t,(u,m)=>{const b=js(u);if(b.length!==1)throw new Error("one and only one name per case");const w=b[0],O=u[w];if(i[w]!==void 0)throw new Error("duplicate key detected:"+w);if(w==="cata")throw new Error("cannot have a case named cata (sorry)");if(!K(O))throw new Error("case arguments must be an array");s.push(w),i[w]=(...M)=>{const B=M.length;if(B!==O.length)throw new Error("Wrong number of arguments to case "+w+". Expected "+O.length+" ("+O+"), got "+B);return{fold:(...j)=>{if(j.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+j.length);return j[m].apply(null,M)},match:j=>{const J=js(j);if(s.length!==J.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+J.join(","));if(!Sl(s,pe=>uo(J,pe)))throw new Error("Not all branches were specified when using match. Specified: "+J.join(", ")+`
Required: `+s.join(", "));return j[w].apply(null,M)},log:j=>{console.log(j,{constructors:s,constructor:w,params:M})}}}}),i}};$l.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Ki=t=>{const s=[],i=[];return At(t,u=>{u.fold(m=>{s.push(m)},m=>{i.push(m)})}),{errors:s,values:i}},iv=(t,s)=>{const i={};return Nr(t,(u,m)=>{uo(s,m)||(i[m]=u)}),i},Fu=(t,s)=>({[t]:s}),lE=t=>{const s={};return At(t,i=>{s[i.key]=i.value}),s},Qh=(t,s)=>iv(t,s),uu=(t,s)=>Fu(t,s),Za=t=>lE(t),Uc=(t,s)=>t.length===0?co.value(s):co.value(Xs(s,_r.apply(void 0,t))),av=t=>co.error(qt(t)),uE=(t,s)=>{const i=Ki(t);return i.errors.length>0?av(i.errors):Uc(i.values,s)},Hu=t=>Ee(t)?t:bt,Lp=(t,s,i)=>{let u=t.dom;const m=Hu(i);for(;u.parentNode;){u=u.parentNode;const b=Ze.fromDom(u),w=s(b);if(w.isSome())return w;if(m(b))break}return P.none()},cv=(t,s,i)=>{const u=s(t),m=Hu(i);return u.orThunk(()=>m(t)?P.none():Lp(t,s,m))},Jh=(t,s)=>us(t.element,s.event.target),bg={can:Ct,abort:bt,run:ne},rf=t=>{if(!na(t,"can")&&!na(t,"abort")&&!na(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return{...bg,...t}},lv=(t,s)=>(...i)=>ys(t,(u,m)=>u&&s(m).apply(void 0,i),!0),uv=(t,s)=>(...i)=>ys(t,(u,m)=>u||s(m).apply(void 0,i),!1),fs=t=>Ee(t)?{can:Ct,abort:bt,run:t}:t,qb=t=>{const s=lv(t,m=>m.can),i=uv(t,m=>m.abort);return{can:s,abort:i,run:(...m)=>{At(t,b=>{b.run.apply(void 0,m)})}}},Ni=ye,ul=Ni("touchstart"),em=Ni("touchmove"),Xf=Ni("touchend"),dE=Ni("touchcancel"),ii=Ni("mousedown"),zc=Ni("mousemove"),Qf=Ni("mouseout"),Jf=Ni("mouseup"),yd=Ni("mouseover"),af=Ni("focusin"),Wc=Ni("focusout"),wi=Ni("keydown"),dv=Ni("keyup"),dc=Ni("input"),dl=Ni("change"),Gc=Ni("click"),yg=Ni("transitioncancel"),eh=Ni("transitionend"),fv=Ni("transitionstart"),jb=Ni("selectstart"),Qs=t=>ye("alloy."+t),hv={tap:Qs("tap")},fc=Qs("focus"),mv=Qs("blur.post"),gv=Qs("paste.post"),cf=Qs("receive"),xs=Qs("execute"),Ed=Qs("focus.item"),Bp=hv.tap,pv=Qs("longpress"),tm=Qs("sandbox.close"),$p=Qs("typeahead.cancel"),Eg=Qs("system.init"),fE=Qs("system.touchmove"),Oc=Qs("system.touchend"),du=Qs("system.scroll"),lf=Qs("system.resize"),_d=Qs("system.attached"),fu=Qs("system.detached"),Fl=Qs("system.dismissRequested"),_g=Qs("system.repositionRequested"),Fp=Qs("focusmanager.shifted"),uf=Qs("slotcontainer.visibility"),Yb=Qs("system.external.element.scroll"),nm=Qs("change.tab"),om=Qs("dismiss.tab"),hE=Qs("highlight"),wg=Qs("dehighlight"),Zo=(t,s)=>{Cg(t,t.element,s,{})},Tn=(t,s,i)=>{Cg(t,t.element,s,i)},wd=t=>{Zo(t,xs())},Cd=(t,s,i)=>{Cg(t,s,i,{})},Cg=(t,s,i,u)=>{const m={target:s,...u};t.getSystem().triggerEvent(i,s,m)},Hp=(t,s,i,u)=>{const m={...u,target:s};t.getSystem().triggerEvent(i,s,m)},Kb=(t,s,i,u)=>{t.getSystem().triggerEvent(i,s,u.event)},Ms=t=>Za(t),Vp=(t,s)=>({key:t,value:rf({abort:s})}),vv=(t,s)=>({key:t,value:rf({can:s})}),bv=t=>({key:t,value:rf({run:(s,i)=>{i.event.prevent()}})}),St=(t,s)=>({key:t,value:rf({run:s})}),yv=(t,s,i)=>({key:t,value:rf({run:(u,m)=>{s.apply(void 0,[u,m].concat(i))}})}),Vu=t=>s=>St(t,s),th=t=>s=>({key:t,value:rf({run:(i,u)=>{Jh(i,u)&&s(i,u)}})}),Up=(t,s)=>St(t,(i,u)=>{i.getSystem().getByUid(s).each(m=>{Kb(m,m.element,t,u)})}),df=(t,s,i)=>{const u=s.partUids[i];return Up(t,u)},Tg=(t,s)=>St(t,(i,u)=>{const m=u.event,b=i.getSystem().getByDom(m.target).getOrThunk(()=>cv(m.target,O=>i.getSystem().getByDom(O).toOptional(),bt).getOr(i));s(i,b,u)}),sm=t=>St(t,(s,i)=>{i.cut()}),Xb=t=>St(t,(s,i)=>{i.stop()}),ua=(t,s)=>th(t)(s),or=th(_d()),qa=th(fu()),rm=th(Eg()),fl=Vu(xs()),im=(t,s)=>{const u=(s||document).createElement("div");return u.innerHTML=t,$c(Ze.fromDom(u))},yo=t=>t.dom.innerHTML,Uu=(t,s)=>{const u=Di(t).dom,m=Ze.fromDom(u.createDocumentFragment()),b=im(s,u);kt(m,b),st(t),Me(t,m)},zp=t=>{const s=Ze.fromTag("div"),i=Ze.fromDom(t.dom.cloneNode(!0));return Me(s,i),yo(s)},nh=(t,s)=>Ze.fromDom(t.dom.cloneNode(s)),ff=t=>nh(t,!1),Td=t=>{if(cg(t))return"#shadow-root";{const s=ff(t);return zp(s)}},hu=t=>Td(t),Oa=(t,s,i)=>us(s,t.element)&&!us(s,i),Fw=Ms([vv(fc(),(t,s)=>{const i=s.event,u=i.originator,m=i.target;return Oa(t,u,m)?(console.warn(fc()+` did not get interpreted by the desired target. 
Originator: `+hu(u)+`
Target: `+hu(m)+`
Check the `+fc()+" event handlers"),!1):!0})]);var Sg=Object.freeze({__proto__:null,events:Fw});let ai=0;const fn=t=>{const i=new Date().getTime(),u=Math.floor(Math.random()*1e9);return ai++,t+"_"+u+ai+String(i)},Ev=ye("alloy-id-"),mE=ye("data-alloy-id"),Ra=Ev(),Qb=mE(),Sd=(t,s)=>{const i=fn(Ra+t);return hc(s,i),i},hc=(t,s)=>{Object.defineProperty(t.dom,Qb,{value:s,writable:!0})},mu=t=>{const s=Es(t)?t.dom[Qb]:null;return P.from(s)},hl=t=>fn(t),xg=Ge,am=t=>{const s=m=>`The component must be in a context to execute: ${m}`+(t?`
`+hu(t().element)+" is not in context.":""),i=m=>()=>{throw new Error(s(m))},u=m=>()=>{console.warn(s(m))};return{debugInfo:ye("fake"),triggerEvent:u("triggerEvent"),triggerFocus:u("triggerFocus"),triggerEscape:u("triggerEscape"),broadcast:u("broadcast"),broadcastOn:u("broadcastOn"),broadcastEvent:u("broadcastEvent"),build:i("build"),buildOrPatch:i("buildOrPatch"),addToWorld:i("addToWorld"),removeFromWorld:i("removeFromWorld"),addToGui:i("addToGui"),removeFromGui:i("removeFromGui"),getByUid:i("getByUid"),getByDom:i("getByDom"),isConnected:bt}},Hw=am(),Ag=(t,s,i)=>{const u=i.toString(),m=u.indexOf(")")+1,b=u.indexOf("("),w=u.substring(b+1,m-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:Og(w.slice(0,1).concat(w.slice(3)))}),t},Og=t=>je(t,s=>ol(s,"/*")?s.substring(0,s.length-2):s),cm=(t,s)=>{const i=t.toString(),u=i.indexOf(")")+1,m=i.indexOf("("),b=i.substring(m+1,u-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:Og(b)}),t},Rg=(t,s)=>{const i=s.toString(),u=i.indexOf(")")+1,m=i.indexOf("("),b=i.substring(m+1,u-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:Og(b.slice(1))}),t},lm=fn("alloy-premade"),gE=t=>(Object.defineProperty(t.element.dom,lm,{value:t.uid,writable:!0}),uu(lm,t)),_v=t=>Bo(t.dom,lm),oh=t=>nn(t,lm),Wp=t=>Rg((s,...i)=>t(s.getApis(),s,...i),t),Zc={init:()=>ja({readState:ye("No State required")})},ja=t=>t,xd=(t,s)=>{const i=je(s,m=>Aa(m.name(),[_t("config"),qe("state",Zc)])),u=Go("component.behaviours",An(i),t.behaviours).fold(m=>{throw new Error(cc(m)+`
Complete spec:
`+JSON.stringify(t,null,2))},Ge);return{list:s,data:Rs(u,m=>{const b=m.map(w=>({config:w.config,state:w.state.init(w.config)}));return ye(b)})}},sh=t=>t.list,wv=t=>t.data,Ig=(t,s)=>{const i={};return Nr(t,(u,m)=>{Nr(u,(b,w)=>{const O=nn(i,w).getOr([]);i[w]=O.concat([s(m,b)])})}),i},gu=t=>({classes:ge(t.classes)?[]:t.classes,attributes:ge(t.attributes)?{}:t.attributes,styles:ge(t.styles)?{}:t.styles}),um=(t,s)=>({...t,attributes:{...t.attributes,...s.attributes},styles:{...t.styles,...s.styles},classes:t.classes.concat(s.classes)}),dm=(t,s,i,u)=>{const m={...s};At(i,z=>{m[z.name()]=z.exhibit(t,u)});const b=Ig(m,(z,j)=>({name:z,modification:j})),w=z=>Ts(z,(j,J)=>({...J.modification,...j}),{}),O=Ts(b.classes,(z,j)=>j.modification.concat(z),[]),M=w(b.attributes),B=w(b.styles);return gu({classes:O,attributes:M,styles:B})},Ia=(t,s,i,u)=>{try{const m=yc(i,(b,w)=>{const O=b[s],M=w[s],B=u.indexOf(O),z=u.indexOf(M);if(B===-1)throw new Error("The ordering for "+t+" does not have an entry for "+O+`.
Order specified: `+JSON.stringify(u,null,2));if(z===-1)throw new Error("The ordering for "+t+" does not have an entry for "+M+`.
Order specified: `+JSON.stringify(u,null,2));return B<z?-1:z<B?1:0});return co.value(m)}catch(m){return co.error([m])}},hf=(t,s)=>({handler:t,purpose:s}),Vw=(t,s)=>({cHandler:t,purpose:s}),Jb=(t,s)=>Vw(xt.apply(void 0,[t.handler].concat(s)),t.purpose),e0=t=>t.cHandler,zs=(t,s)=>({name:t,handler:s}),Uw=(t,s)=>{const i={};return At(t,u=>{i[u.name()]=u.handlers(s)}),i},pE=(t,s,i)=>{const u={...i,...Uw(s,t)};return Ig(u,zs)},zw=(t,s,i,u)=>{const m=pE(t,i,u);return ci(m,s)},Cv=t=>{const s=fs(t);return(i,u,...m)=>{const b=[i,u].concat(m);s.abort.apply(void 0,b)?u.stop():s.can.apply(void 0,b)&&s.run.apply(void 0,b)}},Dg=(t,s)=>co.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(je(s,i=>i.name),null,2)]),mf=(t,s,i)=>{const u=s[i];return u?Ia("Event: "+i,"name",t,u).map(m=>{const b=je(m,w=>w.handler);return qb(b)}):Dg(i,t)},ci=(t,s)=>{const i=Hf(t,(u,m)=>(u.length===1?co.value(u[0].handler):mf(u,s,m)).map(w=>{const O=Cv(w),M=u.length>1?so(s[m],B=>Lo(u,z=>z.name===B)).join(" > "):u[0].name;return uu(m,hf(O,M))}));return uE(i,{})},gf="alloy.base.behaviour",t0=An([Br("dom","dom",Ha(),An([_t("tag"),qe("styles",{}),qe("classes",[]),qe("attributes",{}),$o("value"),$o("innerHtml")])),_t("components"),_t("uid"),qe("events",{}),qe("apis",{}),Br("eventOrder","eventOrder",ce({[xs()]:["disabling",gf,"toggling","typeaheadevents"],[fc()]:[gf,"focusing","keying"],[Eg()]:[gf,"disabling","toggling","representing"],[dc()]:[gf,"representing","streaming","invalidating"],[fu()]:[gf,"representing","item-events","tooltipping"],[ii()]:["focusing",gf,"item-type-events"],[ul()]:["focusing",gf,"item-type-events"],[yd()]:["item-type-events","tooltipping"],[cf()]:["receiving","reflecting","tooltipping"]}),Pl()),$o("domModification")]),jr=t=>Go("custom.definition",t0,t),Tv=t=>({...t.dom,uid:t.uid,domChildren:je(t.components,s=>s.element)}),Gp=t=>t.domModification.fold(()=>gu({}),gu),g2=t=>t.events,vE=(t,s)=>{const i=Mi(t,s);return i===void 0||i===""?[]:i.split(" ")},rh=(t,s,i)=>{const m=vE(t,s).concat([i]);return eo(t,s,m.join(" ")),!0},pf=(t,s,i)=>{const u=so(vE(t,s),m=>m!==i);return u.length>0?eo(t,s,u.join(" ")):C(t,s),!1},Sv=t=>t.dom.classList!==void 0,bE=t=>vE(t,"class"),p2=(t,s)=>rh(t,"class",s),zu=(t,s)=>pf(t,"class",s),hs=(t,s)=>{Sv(t)?t.dom.classList.add(s):p2(t,s)},yE=t=>{(Sv(t)?t.dom.classList:bE(t)).length===0&&C(t,"class")},_s=(t,s)=>{Sv(t)?t.dom.classList.remove(s):zu(t,s),yE(t)},Ci=(t,s)=>Sv(t)&&t.dom.classList.contains(s),Hl=(t,s)=>{At(s,i=>{hs(t,i)})},mc=(t,s)=>{At(s,i=>{_s(t,i)})},ih=(t,s)=>Sl(s,i=>Ci(t,i)),Mg=t=>{const s=t.dom.classList,i=new Array(s.length);for(let u=0;u<s.length;u++){const m=s.item(u);m!==null&&(i[u]=m)}return i},vf=t=>Sv(t)?Mg(t):bE(t),ml=t=>t.dom.value,pu=(t,s)=>{if(s===void 0)throw new Error("Value.set was undefined");t.dom.value=s},ah=(t,s,i)=>hd(t,s).map(m=>{if(i.exists(w=>!us(w,m))){const w=i.map(oc).getOr("span"),O=Ze.fromTag(w);return xc(m,O),O}else return m}),Zp=(t,s,i)=>{i.fold(()=>Me(t,s),u=>{us(u,s)||(xc(u,s),Et(u))})},n0=(t,s,i)=>{const u=je(s,i),m=$c(t);return At(m.slice(u.length),Et),u},EE=(t,s,i,u)=>{const m=hd(t,s),b=u(i,m),w=ah(t,s,m);return Zp(t,b.element,w),b},_E=(t,s,i)=>n0(t,s,(u,m)=>EE(t,m,u,i)),kg=(t,s)=>n0(t,s,(i,u)=>{const m=hd(t,u);return Zp(t,i,m),i}),o0=(t,s)=>{const i=js(t),u=js(s),m=En(u,i),b=pr(t,(w,O)=>!Bo(s,O)||w!==s[O]).t;return{toRemove:m,toSet:b}},Ww=(t,s)=>{const{class:i,style:u,...m}=I(s),{toSet:b,toRemove:w}=o0(t.attributes,m),O=()=>{At(w,rt=>C(s,rt)),jo(s,b)},M=pt(s),{toSet:B,toRemove:z}=o0(t.styles,M),j=()=>{At(z,rt=>Je(s,rt)),se(s,B)},J=vf(s),oe=En(J,t.classes),pe=En(t.classes,J),Oe=()=>{Hl(s,pe),mc(s,oe)},Ke=rt=>{Uu(s,rt)},$e=()=>{const rt=t.domChildren;kg(s,rt)},Ye=()=>{const rt=s,dt=t.value.getOrUndefined();dt!==ml(rt)&&pu(rt,dt??"")};return O(),Oe(),j(),t.innerHtml.fold($e,Ke),Ye(),s},Gw=t=>{const s=Ze.fromTag(t.tag);jo(s,t.attributes),Hl(s,t.classes),se(s,t.styles),t.innerHtml.each(u=>Uu(s,u));const i=t.domChildren;return kt(s,i),t.value.each(u=>{pu(s,u)}),s},wE=(t,s)=>{try{const i=Ww(t,s);return P.some(i)}catch{return P.none()}},CE=t=>t.innerHtml.isSome()&&t.domChildren.length>0,s0=(t,s)=>{const i=m=>oc(m)===t.tag&&!CE(t)&&!_v(m),u=s.filter(i).bind(m=>wE(t,m)).getOrThunk(()=>Gw(t));return hc(u,t.uid),u},TE=t=>{const s=nn(t,"behaviours").getOr({});return lt(js(s),i=>{const u=s[i];return de(u)?[u.me]:[]})},Zw=(t,s)=>xd(t,s),r0=t=>{const s=TE(t);return Zw(t,s)},fm=(t,s,i)=>{const u=Tv(t),m=Gp(t),b={"alloy.base.modification":m},w=s.length>0?dm(i,b,s,u):m;return um(u,w)},i0=(t,s,i)=>{const u={"alloy.base.behaviour":g2(t)};return zw(i,t.eventOrder,s,u).getOrDie()},qw=(t,s)=>{const i=()=>rt,u=Pn(Hw),m=es(jr(t)),b=r0(t),w=sh(b),O=wv(b),M=fm(m,w,O),B=s0(M,s),z=i0(m,w,O),j=Pn(m.components),J=dt=>{u.set(dt)},oe=()=>{u.set(am(i))},pe=()=>{const dt=$c(B),Wt=lt(dt,Dt=>u.get().getByDom(Dt).fold(()=>[],Os));j.set(Wt)},Oe=dt=>{const Wt=O;return(Ee(Wt[dt.name()])?Wt[dt.name()]:()=>{throw new Error("Could not find "+dt.name()+" in "+JSON.stringify(t,null,2))})()},Ke=dt=>Ee(O[dt.name()]),$e=()=>m.apis,Ye=dt=>O[dt]().map(Wt=>Wt.state.readState()).getOr("not enabled"),rt={uid:t.uid,getSystem:u.get,config:Oe,hasConfigured:Ke,spec:t,readState:Ye,getApis:$e,connect:J,disconnect:oe,element:B,syncComponents:pe,components:j.get,events:z};return rt},jw=(t,s)=>{const i=nn(t,"components").getOr([]);return s.fold(()=>je(i,Da),u=>je(i,(m,b)=>xv(m,hd(u,b))))},SE=(t,s)=>{const{events:i,...u}=xg(t),m=jw(u,s),b={...u,events:{...Sg,...i},components:m};return co.value(qw(b,s))},sr=t=>{const s=Ze.fromText(t);return Ad({element:s})},Ad=t=>{const s=Zr("external.component",ca([_t("element"),$o("uid")]),t),i=Pn(am()),u=O=>{i.set(O)},m=()=>{i.set(am(()=>w))},b=s.uid.getOrThunk(()=>hl("external"));hc(s.element,b);const w={uid:b,getSystem:i.get,config:P.none,hasConfigured:bt,connect:u,disconnect:m,getApis:()=>({}),element:s.element,spec:t,readState:ye("No state"),syncComponents:ne,components:ye([]),events:{}};return gE(w)},ch=hl,xE=t=>Bo(t,"uid"),xv=(t,s)=>oh(t).getOrThunk(()=>{const i=xE(t)?t:{uid:ch(""),...t};return SE(i,s).getOrDie()}),Da=t=>xv(t,P.none()),Rc=gE;var hm=(t,s,i,u,m)=>t(i,u)?P.some(i):Ee(m)&&m(i)?P.none():s(i,u,m);const Av=(t,s,i)=>{let u=t.dom;const m=Ee(i)?i:bt;for(;u.parentNode;){u=u.parentNode;const b=Ze.fromDom(u);if(s(b))return P.some(b);if(m(b))break}return P.none()},a0=(t,s,i)=>hm((m,b)=>b(m),Av,t,s,i),AE=(t,s)=>{const i=m=>s(Ze.fromDom(m));return Dn(t.dom.childNodes,i).map(Ze.fromDom)},c0=(t,s)=>{const i=u=>{for(let m=0;m<u.childNodes.length;m++){const b=Ze.fromDom(u.childNodes[m]);if(s(b))return P.some(b);const w=i(u.childNodes[m]);if(w.isSome())return w}return P.none()};return i(t.dom)},OE=(t,s,i)=>a0(t,s,i).isSome(),qc=(t,s,i)=>Av(t,u=>wc(u,s),i),bf=(t,s)=>AE(t,i=>wc(i,s)),fr=(t,s)=>Mu(s,t),Od=(t,s,i)=>hm((m,b)=>wc(m,b),qc,t,s,i),Wu="aria-controls",Yw=t=>a0(t,i=>{if(!Es(i))return!1;const u=Mi(i,"id");return u!==void 0&&u.indexOf(Wu)>-1}).bind(i=>{const u=Mi(i,"id"),m=va(i);return fr(m,`[${Wu}="${u}"]`)}),RE=()=>{const t=fn(Wu);return{id:t,link:u=>{eo(u,Wu,t)},unlink:u=>{C(u,Wu)}}},l0=(t,s)=>Yw(s).exists(i=>mm(t,i)),mm=(t,s)=>OE(s,i=>us(i,t.element),bt)||l0(t,s),u0="unknown";var Ng;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(Ng||(Ng={}));const gm=Pn({}),Kw=(t,s)=>{const i=[],u=new Date().getTime();return{logEventCut:(m,b,w)=>{i.push({outcome:"cut",target:b,purpose:w})},logEventStopped:(m,b,w)=>{i.push({outcome:"stopped",target:b,purpose:w})},logNoParent:(m,b,w)=>{i.push({outcome:"no-parent",target:b,purpose:w})},logEventNoHandlers:(m,b)=>{i.push({outcome:"no-handlers-left",target:b})},logEventResponse:(m,b,w)=>{i.push({outcome:"response",purpose:w,target:b})},write:()=>{const m=new Date().getTime();uo(["mousemove","mouseover","mouseout",Eg()],t)||console.log(t,{event:t,time:m-u,target:s.dom,sequence:je(i,b=>uo(["cut","stopped","response"],b.outcome)?"{"+b.purpose+"} "+b.outcome+" at ("+hu(b.target)+")":b.outcome)})}}},qp=(t,s,i)=>{switch(nn(gm.get(),t).orThunk(()=>{const m=js(gm.get());return tr(m,b=>t.indexOf(b)>-1?P.some(gm.get()[b]):P.none())}).getOr(Ng.NORMAL)){case Ng.NORMAL:return i(Rv());case Ng.LOGGING:{const m=Kw(t,s),b=i(m);return m.write(),b}case Ng.STOP:return!0}},jp=["alloy/data/Fields","alloy/debugging/Debugging"],d0=()=>{const t=new Error;if(t.stack!==void 0){const s=t.stack.split(`
`);return Dn(s,i=>i.indexOf("alloy")>0&&!Lo(jp,u=>i.indexOf(u)>-1)).getOr(u0)}else return u0},Ov={logEventCut:ne,logEventStopped:ne,logNoParent:ne,logEventNoHandlers:ne,logEventResponse:ne,write:ne},Pg=(t,s,i)=>qp(t,s,i),Rv=ye(Ov),lh=ye([_t("menu"),_t("selectedMenu")]),Lg=ye([_t("item"),_t("selectedItem")]);ye(An(Lg().concat(lh())));const IE=ye(An(Lg())),DE=uc("initSize",[_t("numColumns"),_t("numRows")]),Yp=()=>Bl("markers",IE()),Gu=()=>uc("markers",[_t("backgroundMenu")].concat(lh()).concat(Lg())),Vl=t=>uc("markers",je(t,_t)),Kp=(t,s,i)=>(d0(),Br(s,s,i,jf(u=>co.value((...m)=>u.apply(void 0,m))))),ze=t=>Kp("onHandler",t,Zh(ne)),rr=t=>Kp("onKeyboardHandler",t,Zh(P.none)),pm=t=>Kp("onHandler",t,Ha()),f0=t=>Kp("onKeyboardHandler",t,Ha()),Hs=(t,s)=>ds(t,ye(s)),vu=t=>ds(t,Ge),Xp=ye(DE),Ti=(t,s,i,u,m,b,w,O=!1)=>({x:t,y:s,bubble:i,direction:u,placement:m,restriction:b,label:`${w}-${m}`,alwaysFit:O}),bu=$l.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),h0=(t,s,i,u,m,b,w,O,M)=>t.fold(s,i,u,m,b,w,O,M),ME=(t,s,i,u)=>t.fold(s,s,u,u,s,u,i,i),Iv=(t,s,i,u)=>t.fold(s,u,s,u,i,i,s,u),vm=bu.southeast,uh=bu.southwest,Dv=bu.northeast,Qp=bu.northwest,Ya=bu.south,Jp=bu.north,m0=bu.east,e1=bu.west,yf=(t,s,i,u)=>{const m=t+s;return m>u?i:m<i?u:m},Ka=(t,s,i)=>Math.min(Math.max(t,s),i),Xw=(t,s)=>{switch(s){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},Pi=(t,s)=>Wr(["left","right","top","bottom"],i=>nn(s,i).map(u=>Xw(t,u))),Mv=(t,s,i)=>{const u=(M,B)=>s[M].map(z=>{const j=M==="top"||M==="bottom",J=j?i.top:i.left,pe=(M==="left"||M==="top"?Math.max:Math.min)(z,B)+J;return j?Ka(pe,t.y,t.bottom):Ka(pe,t.x,t.right)}).getOr(B),m=u("left",t.x),b=u("top",t.y),w=u("right",t.right),O=u("bottom",t.bottom);return Ds(m,b,w-m,O-b)},Rd="layout",t1=t=>t.x,kE=(t,s)=>t.x+t.width/2-s.width/2,g0=(t,s)=>t.x+t.width-s.width,p0=(t,s)=>t.y-s.height,v0=t=>t.y+t.height,b0=(t,s)=>t.y+t.height/2-s.height/2,NE=t=>t.x+t.width,Qw=(t,s)=>t.x-s.width,Li=(t,s,i)=>Ti(t1(t),v0(t),i.southeast(),vm(),"southeast",Pi(t,{left:1,top:3}),Rd),li=(t,s,i)=>Ti(g0(t,s),v0(t),i.southwest(),uh(),"southwest",Pi(t,{right:0,top:3}),Rd),gc=(t,s,i)=>Ti(t1(t),p0(t,s),i.northeast(),Dv(),"northeast",Pi(t,{left:1,bottom:2}),Rd),jc=(t,s,i)=>Ti(g0(t,s),p0(t,s),i.northwest(),Qp(),"northwest",Pi(t,{right:0,bottom:2}),Rd),vs=(t,s,i)=>Ti(kE(t,s),p0(t,s),i.north(),Jp(),"north",Pi(t,{bottom:2}),Rd),Xi=(t,s,i)=>Ti(kE(t,s),v0(t),i.south(),Ya(),"south",Pi(t,{top:3}),Rd),yu=(t,s,i)=>Ti(NE(t),b0(t,s),i.east(),m0(),"east",Pi(t,{left:0}),Rd),Ef=(t,s,i)=>Ti(Qw(t,s),b0(t,s),i.west(),e1(),"west",Pi(t,{right:1}),Rd),Ko=()=>[Li,li,gc,jc,Xi,vs,yu,Ef],kv=()=>[li,Li,jc,gc,Xi,vs,yu,Ef],pc=()=>[gc,jc,Li,li,vs,Xi],ui=()=>[jc,gc,li,Li,vs,Xi],n1=()=>[Li,li,gc,jc,Xi,vs],Zu=()=>[li,Li,jc,gc,Xi,vs],y0=(t,s)=>s.universal?t:so(t,i=>uo(s.channels,i));var Nv=Object.freeze({__proto__:null,events:t=>Ms([St(cf(),(s,i)=>{const u=t.channels,m=js(u),b=i,w=y0(m,b);At(w,O=>{const M=u[O],B=M.schema,z=Zr("channel["+O+`] data
Receiver: `+hu(s.element),B,b.data);M.onReceive(s,z)})})])}),E0=[Bl("channels",wr(co.value,ca([pm("onReceive"),qe("schema",Pl())])))];const Pv=(t,s,i)=>fl(u=>{i(u,t,s)}),o1=(t,s,i)=>rm((u,m)=>{i(u,t,s)}),PE=(t,s,i,u,m,b)=>{const w=ca(t),O=Aa(s,[sf("config",t)]);return di(w,O,s,i,u,m,b)},un=(t,s,i,u,m,b)=>{const w=t,O=Aa(s,[Bu("config",t)]);return di(w,O,s,i,u,m,b)},Lv=(t,s,i)=>Ag((m,...b)=>{const w=[m].concat(b);return m.config({name:ye(t)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+i)},O=>{const M=Array.prototype.slice.call(w,1);return s.apply(void 0,[m,O.config,O.state].concat(M))})},i,s),s1=t=>({key:t,value:void 0}),di=(t,s,i,u,m,b,w)=>{const O=j=>na(j,i)?j[i]():P.none(),M=Rs(m,(j,J)=>Lv(i,j,J)),z={...Rs(b,(j,J)=>cm(j,J)),...M,revoke:xt(s1,i),config:j=>{const J=Zr(i+"-config",t,j);return{key:i,value:{config:J,me:z,configAsRaw:yi(()=>Zr(i+"-config",t,j)),initialConfig:j,state:w}}},schema:ye(s),exhibit:(j,J)=>jd(O(j),nn(u,"exhibit"),(oe,pe)=>pe(J,oe.config,oe.state)).getOrThunk(()=>gu({})),name:ye(i),handlers:j=>O(j).map(J=>nn(u,"events").getOr(()=>({}))(J.config,J.state)).getOr({})};return z},Rt=t=>Za(t),LE=ca([_t("fields"),_t("name"),qe("active",{}),qe("apis",{}),qe("state",Zc),qe("extra",{})]),Bi=t=>{const s=Zr("Creating behaviour: "+t.name,LE,t);return PE(s.fields,s.name,s.active,s.apis,s.extra,s.state)},Jw=ca([_t("branchKey"),_t("branches"),_t("name"),qe("active",{}),qe("apis",{}),qe("state",Zc),qe("extra",{})]),BE=t=>{const s=Zr("Creating behaviour: "+t.name,Jw,t);return un(qr(s.branchKey,s.branches),s.name,s.active,s.apis,s.extra,s.state)},$E=ye(void 0),Ul=Bi({fields:E0,name:"receiving",active:Nv});var Bg=Object.freeze({__proto__:null,exhibit:(t,s)=>gu({classes:[],styles:s.useFixed()?{}:{position:"relative"}})});const Ic=t=>t.dom.focus(),r1=t=>t.dom.blur(),i1=t=>{const s=va(t).dom;return t.dom===s.activeElement},qu=(t=Xn())=>P.from(t.dom.activeElement).map(Ze.fromDom),gl=t=>qu(va(t)).filter(s=>t.dom.contains(s.dom)),Dc=(t,s)=>{const i=va(s),u=qu(i).bind(b=>{const w=O=>us(b,O);return w(s)?P.some(s):c0(s,w)}),m=t(s);return u.each(b=>{qu(i).filter(w=>us(w,b)).fold(()=>{Ic(b)},ne)}),m},Xa=(t,s,i,u,m)=>{const b=w=>w+"px";return{position:t,left:s.map(b),top:i.map(b),right:u.map(b),bottom:m.map(b)}},eC=t=>({...t,position:P.some(t.position)}),Bv=(t,s)=>{fe(t,eC(s))},$v=$l.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),dh=(t,s,i,u,m,b)=>{const w=s.rect,O=w.x-i,M=w.y-u,B=w.width,z=w.height,j=m-(O+B),J=b-(M+z),oe=P.some(O),pe=P.some(M),Oe=P.some(j),Ke=P.some(J),$e=P.none();return h0(s.direction,()=>Xa(t,oe,pe,$e,$e),()=>Xa(t,$e,pe,Oe,$e),()=>Xa(t,oe,$e,$e,Ke),()=>Xa(t,$e,$e,Oe,Ke),()=>Xa(t,oe,pe,$e,$e),()=>Xa(t,oe,$e,$e,Ke),()=>Xa(t,oe,pe,$e,$e),()=>Xa(t,$e,pe,Oe,$e))},FE=(t,s)=>t.fold(()=>{const i=s.rect;return Xa("absolute",P.some(i.x),P.some(i.y),P.none(),P.none())},(i,u,m,b)=>dh("absolute",s,i,u,m,b),(i,u,m,b)=>dh("fixed",s,i,u,m,b)),Fv=(t,s)=>{const i=xt($a,s),u=t.fold(i,i,()=>{const w=zt();return $a(s).translate(-w.left,-w.top)}),m=Pr(s),b=lr(s);return Ds(u.left,u.top,m,b)},_f=(t,s)=>s.fold(()=>t.fold(wa,wa,Ds),i=>t.fold(ye(i),ye(i),()=>{const u=rs(t,i.x,i.y);return Ds(u.left,u.top,i.width,i.height)})),rs=(t,s,i)=>{const u=Wn(s,i),m=()=>{const b=zt();return u.translate(-b.left,-b.top)};return t.fold(ye(u),ye(u),m)},bm=(t,s,i,u)=>t.fold(s,i,u);$v.none;const Js=$v.relative,HE=$v.fixed,ym=(t,s)=>({anchorBox:t,origin:s}),hr=(t,s)=>ym(t,s),Hv="data-alloy-placement",VE=(t,s)=>{eo(t,Hv,s)},$g=t=>Gr(t,Hv),tC=t=>C(t,Hv),a1=$l.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),UE=(t,s)=>{const{x:i,y:u,right:m,bottom:b}=s,{x:w,y:O,right:M,bottom:B,width:z,height:j}=t,J=w>=i&&w<=m,oe=O>=u&&O<=b,pe=J&&oe,Oe=M<=m&&M>=i,Ke=B<=b&&B>=u,$e=Oe&&Ke,Ye=Math.min(z,w>=i?m-w:M-i),rt=Math.min(j,O>=u?b-O:B-u);return{originInBounds:pe,sizeInBounds:$e,visibleW:Ye,visibleH:rt}},zE=(t,s)=>{const{x:i,y:u,right:m,bottom:b}=s,{x:w,y:O,width:M,height:B}=t,z=Math.max(i,m-M),j=Math.max(u,b-B),J=Ka(w,i,z),oe=Ka(O,u,j),pe=Math.min(J+M,m)-J,Oe=Math.min(oe+B,b)-oe;return Ds(J,oe,pe,Oe)},_0=(t,s,i)=>{const u=ye(s.bottom-i.y),m=ye(i.bottom-s.y),b=ME(t,m,m,u),w=ye(s.right-i.x),O=ye(i.right-s.x);return{maxWidth:Iv(t,O,O,w),maxHeight:b}},w0=(t,s,i,u)=>{const m=t.bubble,b=m.offset,w=Mv(u,t.restriction,b),O=t.x+b.left,M=t.y+b.top,B=Ds(O,M,s,i),{originInBounds:z,sizeInBounds:j,visibleW:J,visibleH:oe}=UE(B,w),pe=z&&j,Oe=pe?B:zE(B,w),Ke=Oe.width>0&&Oe.height>0,{maxWidth:$e,maxHeight:Ye}=_0(t.direction,Oe,u),rt={rect:Oe,maxHeight:Ye,maxWidth:$e,direction:t.direction,placement:t.placement,classes:{on:m.classesOn,off:m.classesOff},layout:t.label,testY:M};return pe||t.alwaysFit?a1.fit(rt):a1.nofit(rt,J,oe,Ke)},WE=(t,s,i,u,m,b)=>{const w=u.width,O=u.height,M=(z,j,J,oe,pe)=>{const Oe=z(i,u,m,t,b),Ke=w0(Oe,w,O,b);return Ke.fold(ye(Ke),($e,Ye,rt,dt)=>(pe===dt?rt>oe||Ye>J:!pe&&dt)?Ke:a1.nofit(j,J,oe,pe))};return ys(s,(z,j)=>{const J=xt(M,j);return z.fold(ye(z),J)},a1.nofit({rect:i,maxHeight:u.height,maxWidth:u.width,direction:vm(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:i.y},-1,-1,!1)).fold(Ge,Ge)},Id=t=>{const s=Pn(P.none()),i=()=>s.get().each(t);return{clear:()=>{i(),s.set(P.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:O=>{i(),s.set(P.some(O))}}},Vv=()=>Id(t=>t.destroy()),Wl=()=>Id(t=>t.unbind()),ks=()=>{const t=Id(ne);return{...t,on:i=>t.get().each(i)}},Fg=Ct,Qa=(t,s,i)=>oi(t,s,Fg,i),c1=(t,s,i)=>Us(t,s,Fg,i),GE=Ln,Uv=["top","bottom","right","left"],l1="data-alloy-transition-timer",C0=(t,s)=>ih(t,s.classes),ZE=(t,s,i)=>i.exists(u=>{const m=t.mode;return m==="all"?!0:u[m]!==s[m]}),Ma=(t,s)=>{const i=u=>parseFloat(u).toFixed(3);return La(s,(u,m)=>{const b=t[m].map(i),w=u.map(i);return!og(b,w)}).isSome()},pl=t=>{const s=b=>{const O=me(t,b).split(/\s*,\s*/);return so(O,_c)},i=b=>{if(V(b)&&/^[\d.]+/.test(b)){const w=parseFloat(b);return ol(b,"ms")?w:w*1e3}else return 0},u=s("transition-delay"),m=s("transition-duration");return ys(m,(b,w,O)=>{const M=i(u[O])+i(w);return Math.max(b,M)},0)},nC=(t,s)=>{const i=Wl(),u=Wl();let m;const b=B=>{var z;const j=(z=B.raw.pseudoElement)!==null&&z!==void 0?z:"";return us(B.target,t)&&xr(j)&&uo(Uv,B.raw.propertyName)},w=B=>{if(le(B)||b(B)){i.clear(),u.clear();const z=B==null?void 0:B.raw.type;(le(z)||z===eh())&&(clearTimeout(m),C(t,l1),mc(t,s.classes))}},O=Qa(t,fv(),B=>{b(B)&&(O.unbind(),i.set(Qa(t,eh(),w)),u.set(Qa(t,yg(),w)))}),M=pl(t);requestAnimationFrame(()=>{m=setTimeout(w,M+17),eo(t,l1,m)})},oC=(t,s)=>{Hl(t,s.classes),Gr(t,l1).each(i=>{clearTimeout(parseInt(i,10)),C(t,l1)}),nC(t,s)},sC=(t,s,i,u,m,b)=>{const w=ZE(u,m,b);if(w||C0(t,u)){Q(t,"position",i.position);const O=Fv(s,t),M=FE(s,{...m,rect:O}),B=Wr(Uv,z=>M[z]);Ma(i,B)&&(fe(t,B),w&&oC(t,u),Ot(t))}else mc(t,u.classes)},Em=t=>({width:Pr(t),height:lr(t)}),T0=(t,s,i,u)=>{Je(s,"max-height"),Je(s,"max-width");const m=Em(s);return WE(s,u.preference,t,m,i,u.bounds)},S0=(t,s)=>{const i=s.classes;mc(t,i.off),Hl(t,i.on)},_m=(t,s,i)=>{const u=i.maxHeightFunction;u(t,s.maxHeight)},qE=(t,s,i)=>{const u=i.maxWidthFunction;u(t,s.maxWidth)},rC=(t,s,i)=>{const u=FE(i.origin,s);i.transition.each(m=>{sC(t,i.origin,u,m,s,i.lastPlacement)}),Bv(t,u)},iC=(t,s)=>{VE(t,s.placement)},x0=(t,s)=>{ni(t,Math.floor(s))},A0=ye((t,s)=>{x0(t,s),se(t,{"overflow-x":"hidden","overflow-y":"auto"})}),fh=ye((t,s)=>{x0(t,s)}),jE=(t,s,i)=>t[s]===void 0?i:t[s],aC=(t,s,i,u,m,b,w,O)=>{const M=jE(w,"maxHeightFunction",A0()),B=jE(w,"maxWidthFunction",ne),z=t.anchorBox,j=t.origin,J={bounds:_f(j,b),origin:j,preference:u,maxHeightFunction:M,maxWidthFunction:B,lastPlacement:m,transition:O};return cC(z,s,i,J)},cC=(t,s,i,u)=>{const m=T0(t,s,i,u);return rC(s,m,u),iC(s,m),S0(s,m),_m(s,m,u),qE(s,m,u),{layout:m.layout,placement:m.placement}},lC=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],ju=(t,s,i,u=1)=>{const m=t*u,b=s*u,w=M=>nn(i,M).getOr([]),O=(M,B,z)=>{const j=En(lC,z);return{offset:Wn(M,B),classesOn:lt(z,w),classesOff:lt(j,w)}};return{southeast:()=>O(-t,s,["top","alignLeft"]),southwest:()=>O(t,s,["top","alignRight"]),south:()=>O(-t/2,s,["top","alignCentre"]),northeast:()=>O(-t,-s,["bottom","alignLeft"]),northwest:()=>O(t,-s,["bottom","alignRight"]),north:()=>O(-t/2,-s,["bottom","alignCentre"]),east:()=>O(t,-s/2,["valignCentre","left"]),west:()=>O(-t,-s/2,["valignCentre","right"]),insetNortheast:()=>O(m,b,["top","alignLeft","inset"]),insetNorthwest:()=>O(-m,b,["top","alignRight","inset"]),insetNorth:()=>O(-m/2,b,["top","alignCentre","inset"]),insetSoutheast:()=>O(m,-b,["bottom","alignLeft","inset"]),insetSouthwest:()=>O(-m,-b,["bottom","alignRight","inset"]),insetSouth:()=>O(-m/2,-b,["bottom","alignCentre","inset"]),insetEast:()=>O(-m,-b/2,["valignCentre","right","inset"]),insetWest:()=>O(m,-b/2,["valignCentre","left","inset"])}},zv=()=>ju(0,0,{}),wm=Ge,Wv=(t,s)=>i=>YE(i)==="rtl"?s:t,YE=t=>me(t,"direction")==="rtl"?"rtl":"ltr";var Dd;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(Dd||(Dd={}));const u1="data-alloy-vertical-dir",O0=t=>OE(t,s=>Es(s)&&Mi(s,"data-alloy-vertical-dir")===Dd.BottomToTop),Yu=()=>Aa("layouts",[_t("onLtr"),_t("onRtl"),$o("onBottomLtr"),$o("onBottomRtl")]),hh=(t,s,i,u,m,b,w)=>{const O=w.map(O0).getOr(!1),M=s.layouts.map(oe=>oe.onLtr(t)),B=s.layouts.map(oe=>oe.onRtl(t)),z=O?s.layouts.bind(oe=>oe.onBottomLtr.map(pe=>pe(t))).or(M).getOr(m):M.getOr(i),j=O?s.layouts.bind(oe=>oe.onBottomRtl.map(pe=>pe(t))).or(B).getOr(b):B.getOr(u);return Wv(z,j)(t)},R0=(t,s,i)=>{const u=s.hotspot,m=Fv(i,u.element),b=hh(t.element,s,n1(),Zu(),pc(),ui(),P.some(s.hotspot.element));return P.some(wm({anchorBox:m,bubble:s.bubble.getOr(zv()),overrides:s.overrides,layouts:b}))};var KE=[_t("hotspot"),$o("bubble"),qe("overrides",{}),Yu(),Hs("placement",R0)];const uC=(t,s,i)=>{const u=rs(i,s.x,s.y),m=Ds(u.left,u.top,s.width,s.height),b=hh(t.element,s,Ko(),kv(),Ko(),kv(),P.none());return P.some(wm({anchorBox:m,bubble:s.bubble,overrides:s.overrides,layouts:b}))};var dC=[_t("x"),_t("y"),qe("height",0),qe("width",0),qe("bubble",zv()),qe("overrides",{}),Yu(),Hs("placement",uC)];const I0=$l.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),fC=t=>t.fold(Ge,(s,i,u)=>s.translate(-i,-u)),hC=t=>t.fold(Ge,Ge),XE=t=>ys(t,(s,i)=>s.translate(i.left,i.top),Wn(0,0)),QE=t=>{const s=je(t,fC);return XE(s)},Gv=t=>{const s=je(t,hC);return XE(s)},mC=I0.screen,gC=I0.absolute,pC=(t,s,i)=>{const u=fd(i.root).dom,m=b=>{const w=Di(b),O=Di(t.element);return us(w,O)};return P.from(u.frameElement).map(Ze.fromDom).filter(m).map(To)},JE=(t,s,i)=>{const u=Di(t.element),m=zt(u),b=pC(t,s,i).getOr(m);return gC(b,m.left,m.top)},D0=(t,s,i,u)=>{const m=mC(Wn(t,s));return P.some(Ks(m,i,u))},e_=(t,s,i,u,m)=>t.map(b=>{const w=[s,b.point],O=bm(u,()=>Gv(w),()=>Gv(w),()=>QE(w)),M=ou(O.left,O.top,b.width,b.height),B=i.showAbove?pc():n1(),z=i.showAbove?ui():Zu(),j=hh(m,i,B,z,B,z,P.none());return wm({anchorBox:M,bubble:i.bubble.getOr(zv()),overrides:i.overrides,layouts:j})}),vC=(t,s,i)=>{const u=JE(t,i,s);return s.node.filter(rc).bind(m=>{const b=m.dom.getBoundingClientRect(),w=D0(b.left,b.top,b.width,b.height),O=s.node.getOr(t.element);return e_(w,u,s,i,O)})};var t_=[_t("node"),_t("root"),$o("bubble"),Yu(),qe("overrides",{}),qe("showAbove",!1),Hs("placement",vC)];const d1="\uFEFF",M0=" ",Hg={create:(t,s,i,u)=>({start:t,soffset:s,finish:i,foffset:u})},Zv=$l.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),f1=(t,s,i,u)=>t.fold(s,i,u),N0=t=>t.fold(Ge,Ge,Ge),P0=Zv.before,n_=Zv.on,Cm=Zv.after,o_={before:P0,on:n_,after:Cm,cata:f1,getStart:N0},Tm=$l.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),bC=t=>Tm.exact(t.start,t.soffset,t.finish,t.foffset),L0=t=>t.match({domRange:s=>Ze.fromDom(s.startContainer),relative:(s,i)=>o_.getStart(s),exact:(s,i,u,m)=>s}),s_=Tm.domRange,vl=Tm.relative,B0=Tm.exact,qv=t=>{const s=L0(t);return fd(s)},h1=Hg.create,wf={domRange:s_,relative:vl,exact:B0,exactFromRange:bC,getWin:qv,range:h1},yC=(t,s)=>{s.fold(i=>{t.setStartBefore(i.dom)},(i,u)=>{t.setStart(i.dom,u)},i=>{t.setStartAfter(i.dom)})},m1=(t,s)=>{s.fold(i=>{t.setEndBefore(i.dom)},(i,u)=>{t.setEnd(i.dom,u)},i=>{t.setEndAfter(i.dom)})},r_=(t,s,i)=>{const u=t.document.createRange();return yC(u,s),m1(u,i),u},Qi=(t,s,i,u,m)=>{const b=t.document.createRange();return b.setStart(s.dom,i),b.setEnd(u.dom,m),b},i_=t=>({left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}),Sm=t=>{const s=t.getClientRects(),i=s.length>0?s[0]:t.getBoundingClientRect();return i.width>0||i.height>0?P.some(i).map(i_):P.none()},EC=t=>{const s=t.getBoundingClientRect();return s.width>0||s.height>0?P.some(s).map(i_):P.none()},g1=$l.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),$0=(t,s,i)=>s(Ze.fromDom(i.startContainer),i.startOffset,Ze.fromDom(i.endContainer),i.endOffset),Vg=(t,s)=>s.match({domRange:i=>({ltr:ye(i),rtl:P.none}),relative:(i,u)=>({ltr:yi(()=>r_(t,i,u)),rtl:yi(()=>P.some(r_(t,u,i)))}),exact:(i,u,m,b)=>({ltr:yi(()=>Qi(t,i,u,m,b)),rtl:yi(()=>P.some(Qi(t,m,b,i,u)))})}),xm=(t,s)=>{const i=s.ltr();return i.collapsed?s.rtl().filter(m=>m.collapsed===!1).map(m=>g1.rtl(Ze.fromDom(m.endContainer),m.endOffset,Ze.fromDom(m.startContainer),m.startOffset)).getOrThunk(()=>$0(t,g1.ltr,i)):$0(t,g1.ltr,i)},p1=(t,s)=>{const i=Vg(t,s);return xm(t,i)},Md=(t,s)=>p1(t,s).match({ltr:(u,m,b,w)=>{const O=t.document.createRange();return O.setStart(u.dom,m),O.setEnd(b.dom,w),O},rtl:(u,m,b,w)=>{const O=t.document.createRange();return O.setStart(b.dom,w),O.setEnd(u.dom,m),O}});g1.ltr,g1.rtl;const F0=(t,s,i)=>so(Uh(t,i),s),fi=(t,s)=>Xd(s,t),bl=(t,s,i,u)=>{const b=Di(t).dom.createRange();return b.setStart(t.dom,s),b.setEnd(i.dom,u),b},jv=(t,s,i,u)=>{const m=bl(t,s,i,u),b=us(t,i)&&s===u;return m.collapsed&&!b},a_=t=>P.from(t.getSelection()),c_=t=>{if(t.rangeCount>0){const s=t.getRangeAt(0),i=t.getRangeAt(t.rangeCount-1);return P.some(Hg.create(Ze.fromDom(s.startContainer),s.startOffset,Ze.fromDom(i.endContainer),i.endOffset))}else return P.none()},H0=t=>{if(t.anchorNode===null||t.focusNode===null)return c_(t);{const s=Ze.fromDom(t.anchorNode),i=Ze.fromDom(t.focusNode);return jv(s,t.anchorOffset,i,t.focusOffset)?P.some(Hg.create(s,t.anchorOffset,i,t.focusOffset)):c_(t)}},Am=t=>a_(t).filter(s=>s.rangeCount>0).bind(H0),v1=(t,s)=>{const i=Md(t,s);return Sm(i)},Om=(t,s)=>{const i=Md(t,s);return EC(i)},Ug=((t,s)=>{const i=b=>{if(!t(b))throw new Error("Can only get "+s+" value of a "+s+" node");return u(b).getOr("")},u=b=>t(b)?P.from(b.dom.nodeValue):P.none();return{get:i,getOption:u,set:(b,w)=>{if(!t(b))throw new Error("Can only set raw "+s+" value of a "+s+" node");b.dom.nodeValue=w}}})(pa,"text"),b1=t=>Ug.get(t),Rm=(t,s)=>({element:t,offset:s}),V0=(t,s)=>{const i=$c(t);if(i.length===0)return Rm(t,s);if(s<i.length)return Rm(i[s],0);{const u=i[i.length-1],m=pa(u)?b1(u).length:$c(u).length;return Rm(u,m)}},zg=(t,s)=>pa(t)?Rm(t,s):V0(t,s),$i=(t,s)=>s.getSelection.getOrThunk(()=>()=>Am(t))().map(u=>{const m=zg(u.start,u.soffset),b=zg(u.finish,u.foffset);return wf.range(m.element,m.offset,b.element,b.offset)}),U0=(t,s,i)=>{const u=fd(s.root).dom,m=JE(t,i,s),b=$i(u,s).bind(M=>Om(u,wf.exactFromRange(M)).orThunk(()=>{const z=Ze.fromText(d1);xc(M.start,z);const j=v1(u,wf.exact(z,0,z,1));return Et(z),j}).bind(z=>D0(z.left,z.top,z.width,z.height))),O=$i(u,s).bind(M=>Es(M.start)?P.some(M.start):Bc(M.start)).getOr(t.element);return e_(b,m,s,i,O)};var Ku=[$o("getSelection"),_t("root"),$o("bubble"),Yu(),qe("overrides",{}),qe("showAbove",!1),Hs("placement",U0)];const kd="link-layout",mh=t=>t.x+t.width,Im=(t,s)=>t.x-s.width,g=(t,s)=>t.y-s.height+t.height,y=t=>t.y,R=(t,s,i)=>Ti(mh(t),y(t),i.southeast(),vm(),"southeast",Pi(t,{left:0,top:2}),kd),W=(t,s,i)=>Ti(Im(t,s),y(t),i.southwest(),uh(),"southwest",Pi(t,{right:1,top:2}),kd),ie=(t,s,i)=>Ti(mh(t),g(t,s),i.northeast(),Dv(),"northeast",Pi(t,{left:0,bottom:3}),kd),Te=(t,s,i)=>Ti(Im(t,s),g(t,s),i.northwest(),Qp(),"northwest",Pi(t,{right:1,bottom:3}),kd),Ne=()=>[R,W,ie,Te],He=()=>[W,R,Te,ie],ut=(t,s,i)=>{const u=Fv(i,s.item.element),m=hh(t.element,s,Ne(),He(),Ne(),He(),P.none());return P.some(wm({anchorBox:u,bubble:zv(),overrides:s.overrides,layouts:m}))};var Zt=[_t("item"),Yu(),qe("overrides",{}),Hs("placement",ut)],Gt=qr("type",{selection:Ku,node:t_,hotspot:KE,submenu:Zt,makeshift:dC});const rn=[Wa("classes",Ar),Ga("mode","all",["all","layout","placement"])],On=[qe("useFixed",bt),$o("getBounds")],Qn=[Bl("anchor",Gt),Aa("transition",rn)],So=()=>{const t=document.documentElement;return HE(0,0,t.clientWidth,t.clientHeight)},wo=t=>{const s=To(t.element),i=t.element.dom.getBoundingClientRect();return Js(s.left,s.top,i.width,i.height)},Eo=(t,s,i,u,m,b)=>{const w=hr(s.anchorBox,t);return aC(w,u.element,s.bubble,s.layouts,m,i,s.overrides,b)},ws=(t,s,i,u,m)=>{const b=P.none();Xo(t,s,i,u,m,b)},Xo=(t,s,i,u,m,b)=>{const w=Zr("placement.info",An(Qn),m),O=w.anchor,M=u.element,B=i.get(u.uid);Dc(()=>{Q(M,"position","fixed");const z=tt(M,"visibility");Q(M,"visibility","hidden");const j=s.useFixed()?So():wo(t);O.placement(t,O,j).each(J=>{const oe=b.orThunk(()=>s.getBounds.map(dn)),pe=Eo(j,J,oe,u,B,w.transition);i.set(u.uid,pe)}),z.fold(()=>{Je(M,"visibility")},J=>{Q(M,"visibility",J)}),tt(M,"left").isNone()&&tt(M,"top").isNone()&&tt(M,"right").isNone()&&tt(M,"bottom").isNone()&&Ec(tt(M,"position"),"fixed")&&Je(M,"position")},M)};var Dr=Object.freeze({__proto__:null,position:ws,positionWithinBounds:Xo,getMode:(t,s,i)=>s.useFixed()?"fixed":"absolute",reset:(t,s,i,u)=>{const m=u.element;At(["position","left","right","top","bottom"],b=>Je(m,b)),tC(m),i.clear(u.uid)}}),Ja=Object.freeze({__proto__:null,init:()=>{let t={};return ja({readState:()=>t,clear:m=>{de(m)?delete t[m]:t={}},set:(m,b)=>{t[m]=b},get:m=>nn(t,m)})}});const As=Bi({fields:On,name:"positioning",active:Bg,apis:Dr,state:Ja}),Nd=t=>t.getSystem().isConnected(),z0=t=>{Zo(t,fu());const s=t.components();At(s,z0)},y1=t=>{const s=t.components();At(s,y1),Zo(t,_d())},l_=(t,s)=>{t.getSystem().addToWorld(s),rc(t.element)&&y1(s)},u_=t=>{z0(t),t.getSystem().removeFromWorld(t)},_C=(t,s)=>{Me(t.element,s.element)},d_=t=>{At(t.components(),s=>Et(s.element)),st(t.element),t.syncComponents()},y2=(t,s,i)=>{const u=t.components();d_(t);const m=i(s),b=En(u,m);At(b,w=>{z0(w),t.getSystem().removeFromWorld(w)}),At(m,w=>{Nd(w)?_C(t,w):(t.getSystem().addToWorld(w),_C(t,w),rc(t.element)&&y1(w))}),t.syncComponents()},cR=(t,s,i)=>{const u=t.components(),m=lt(s,O=>oh(O).toArray());At(u,O=>{uo(m,O)||u_(O)});const b=i(s),w=En(u,b);At(w,O=>{Nd(O)&&u_(O)}),At(b,O=>{Nd(O)||l_(t,O)}),t.syncComponents()},gh=(t,s)=>{W0(t,s,Me)},W0=(t,s,i)=>{t.getSystem().addToWorld(s),i(t.element,s.element),rc(t.element)&&y1(s),t.syncComponents()},wC=t=>{z0(t),Et(t.element),t.getSystem().removeFromWorld(t)},ph=t=>{const s=Cc(t.element).bind(i=>t.getSystem().getByDom(i).toOptional());wC(t),s.each(i=>{i.syncComponents()})},CC=t=>{const s=t.components();At(s,wC),st(t.element),t.syncComponents()},G0=(t,s)=>{TC(t,s,Me)},Wg=(t,s)=>{TC(t,s,_a)},TC=(t,s,i)=>{i(t,s.element);const u=$c(s.element);At(u,m=>{s.getByDom(m).each(y1)})},E2=t=>{const s=$c(t.element);At(s,i=>{t.getByDom(i).each(z0)}),Et(t.element)},SC=(t,s,i,u)=>{i.get().each(w=>{CC(t)});const m=s.getAttachPoint(t);gh(m,t);const b=t.getSystem().build(u);return gh(t,b),i.set(b),b},Gg=(t,s,i,u)=>{const m=SC(t,s,i,u);return s.onOpen(t,m),m},lR=(t,s,i,u)=>i.get().map(()=>SC(t,s,i,u)),vh=(t,s,i,u,m)=>{w2(t,s),Gg(t,s,i,u),m(),h_(t,s)},Eu=(t,s,i)=>{i.get().each(u=>{CC(t),ph(t),s.onClose(t,u),i.clear()})},_2=(t,s,i)=>i.isOpen(),f_=(t,s,i,u)=>_2(t,s,i)&&i.get().exists(m=>s.isPartOf(t,m,u)),Z0=(t,s,i)=>i.get(),xC=(t,s,i,u)=>{tt(t.element,s).fold(()=>{C(t.element,i)},m=>{eo(t.element,i,m)}),Q(t.element,s,u)},uR=(t,s,i)=>{Gr(t.element,i).fold(()=>Je(t.element,s),u=>Q(t.element,s,u))},w2=(t,s,i)=>{const u=s.getAttachPoint(t);Q(t.element,"position",As.getMode(u)),xC(t,"visibility",s.cloakVisibilityAttr,"hidden")},AC=t=>Lo(["top","left","right","bottom"],s=>tt(t,s).isSome()),h_=(t,s,i)=>{AC(t.element)||Je(t.element,"position"),uR(t,"visibility",s.cloakVisibilityAttr)};var dR=Object.freeze({__proto__:null,cloak:w2,decloak:h_,open:Gg,openWhileCloaked:vh,close:Eu,isOpen:_2,isPartOf:f_,getState:Z0,setContent:lR}),m_=Object.freeze({__proto__:null,events:(t,s)=>Ms([St(tm(),(i,u)=>{Eu(i,t,s)})])}),C2=[ze("onOpen"),ze("onClose"),_t("isPartOf"),_t("getAttachPoint"),qe("cloakVisibilityAttr","data-precloak-visibility")],Yv=Object.freeze({__proto__:null,init:()=>{const t=ks(),s=ye("not-implemented");return ja({readState:s,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})}});const Ao=Bi({fields:C2,name:"sandboxing",active:m_,apis:dR,state:Yv}),Dm=ye("dismiss.popups"),Kv=ye("reposition.popups"),OC=ye("mouse.released"),hR=ca([qe("isExtraPart",bt),Aa("fireEventInstead",[qe("event",Fl())])]),q0=t=>{const s=Zr("Dismissal",hR,t);return{[Dm()]:{schema:ca([_t("target")]),onReceive:(i,u)=>{Ao.isOpen(i)&&(Ao.isPartOf(i,u.target)||s.isExtraPart(i,u.target)||s.fireEventInstead.fold(()=>Ao.close(i),b=>Zo(i,b.event)))}}}},E1=ca([Aa("fireEventInstead",[qe("event",_g())]),ll("doReposition")]),_1=t=>{const s=Zr("Reposition",E1,t);return{[Kv()]:{onReceive:i=>{Ao.isOpen(i)&&s.fireEventInstead.fold(()=>s.doReposition(i),u=>Zo(i,u.event))}}}},RC=(t,s,i)=>{s.store.manager.onLoad(t,s,i)},IC=(t,s,i)=>{s.store.manager.onUnload(t,s,i)};var g_=Object.freeze({__proto__:null,onLoad:RC,onUnload:IC,setValue:(t,s,i,u)=>{s.store.manager.setValue(t,s,i,u)},getValue:(t,s,i)=>s.store.manager.getValue(t,s,i),getState:(t,s,i)=>i}),kC=Object.freeze({__proto__:null,events:(t,s)=>{const i=t.resetOnDom?[or((u,m)=>{RC(u,t,s)}),qa((u,m)=>{IC(u,t,s)})]:[o1(t,s,RC)];return Ms(i)}});const p_=()=>{const t=Pn(null),s=()=>({mode:"memory",value:t.get()}),i=()=>t.get()===null,u=()=>{t.set(null)};return ja({set:t.set,get:t.get,isNotSet:i,clear:u,readState:s})},Y0=()=>ja({readState:ne}),Mm=()=>{const t=Pn({}),s=Pn({});return ja({readState:()=>({mode:"dataset",dataByValue:t.get(),dataByText:s.get()}),lookup:w=>nn(t.get(),w).orThunk(()=>nn(s.get(),w)),update:w=>{const O=t.get(),M=s.get(),B={},z={};At(w,j=>{B[j.value]=j,nn(j,"meta").each(J=>{nn(J,"text").each(oe=>{z[oe]=j})})}),t.set({...O,...B}),s.set({...M,...z})},clear:()=>{t.set({}),s.set({})}})};var bh=Object.freeze({__proto__:null,memory:p_,dataset:Mm,manual:Y0,init:t=>t.store.manager.state(t)});const Zg=(t,s,i,u)=>{const m=s.store;i.update([u]),m.setValue(t,u),s.onSetValue(t,u)},mR=(t,s,i)=>{const u=s.store,m=u.getDataKey(t);return i.lookup(m).getOrThunk(()=>u.getFallbackEntry(m))},x2=(t,s,i)=>{s.store.initialValue.each(m=>{Zg(t,s,i,m)})},NC=(t,s,i)=>{i.clear()};var Xv=[$o("initialValue"),_t("getFallbackEntry"),_t("getDataKey"),_t("setValue"),Hs("manager",{setValue:Zg,getValue:mR,onLoad:x2,onUnload:NC,state:Mm})];const Qv=(t,s,i)=>s.store.getValue(t),gR=(t,s,i,u)=>{s.store.setValue(t,u),s.onSetValue(t,u)},pR=(t,s,i)=>{s.store.initialValue.each(u=>{s.store.setValue(t,u)})};var A2=[_t("getValue"),qe("setValue",ne),$o("initialValue"),Hs("manager",{setValue:gR,getValue:Qv,onLoad:pR,onUnload:ne,state:Zc.init})];const qg=(t,s,i,u)=>{i.set(u),s.onSetValue(t,u)},PC=(t,s,i)=>i.get(),LC=(t,s,i)=>{s.store.initialValue.each(u=>{i.isNotSet()&&i.set(u)})},v_=(t,s,i)=>{i.clear()};var w1=[$o("initialValue"),Hs("manager",{setValue:qg,getValue:PC,onLoad:LC,onUnload:v_,state:p_})],b_=[Ac("store",{mode:"memory"},qr("mode",{memory:w1,manual:A2,dataset:Xv})),ze("onSetValue"),qe("resetOnDom",!1)];const on=Bi({fields:b_,name:"representing",active:kC,apis:g_,extra:{setValueFrom:(t,s)=>{const i=on.getValue(s);on.setValue(t,i)}},state:bh}),da=(t,s)=>Kf(t,{},je(s,i=>aE(i.name(),"Cannot configure "+i.name()+" for "+t)).concat([ds("dump",Ge)])),y_=t=>t.dump,mr=(t,s)=>({...Rt(s),...t.dump}),Pd={field:da,augment:mr,get:y_},O2="placeholder",yl=$l.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Fi=t=>Bo(t,"uiType"),E_=(t,s,i,u)=>t.exists(m=>m!==i.owner)?yl.single(!0,ye(i)):nn(u,i.name).fold(()=>{throw new Error("Unknown placeholder component: "+i.name+`
Known: [`+js(u)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(i,null,2))},m=>m.replace()),__=(t,s,i,u)=>Fi(i)&&i.uiType===O2?E_(t,s,i,u):yl.single(!1,ye(i)),km=(t,s,i,u)=>__(t,s,i,u).fold((b,w)=>{const O=Fi(i)?w(s,i.config,i.validated):w(s),M=nn(O,"components").getOr([]),B=lt(M,z=>km(t,s,z,u));return[{...O,components:B}]},(b,w)=>{if(Fi(i)){const O=w(s,i.config,i.validated);return i.validated.preprocess.getOr(Ge)(O)}else return w(s)}),R2=(t,s,i,u)=>lt(i,m=>km(t,s,m,u)),BC=(t,s)=>{let i=!1;const u=()=>i,m=()=>{if(i)throw new Error("Trying to use the same placeholder more than once: "+t);return i=!0,s},b=()=>s.fold((w,O)=>w,(w,O)=>w);return{name:ye(t),required:b,used:u,replace:m}},I2=(t,s,i,u)=>{const m=Rs(u,(w,O)=>BC(O,w)),b=R2(t,s,i,m);return Nr(m,w=>{if(w.used()===!1&&w.required())throw new Error("Placeholder: "+w.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(s.components,null,2))}),b},$C=yl.single,FC=yl.multiple,HC=ye(O2),K0=$l.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),w_=qe("factory",{sketch:Ge}),X0=qe("schema",[]),Q0=_t("name"),C_=Br("pname","pname",$b(t=>"<alloy."+fn(t.name)+">"),Pl()),D2=ds("schema",()=>[$o("preprocess")]),Nm=qe("defaults",ye({})),yh=qe("overrides",ye({})),C1=An([w_,X0,Q0,C_,Nm,yh]),Jv=An([w_,X0,Q0,Nm,yh]),VC=An([w_,X0,Q0,C_,Nm,yh]),vR=An([w_,D2,Q0,_t("unit"),C_,Nm,yh]),M2=t=>t.fold(P.some,P.none,P.some,P.some),T_=t=>{const s=i=>i.name;return t.fold(s,s,s,s)},k2=t=>t.fold(Ge,Ge,Ge,Ge),S_=(t,s)=>i=>{const u=Zr("Converting part type",s,i);return t(u)},Ji=S_(K0.required,C1),Ld=S_(K0.external,Jv),Xu=S_(K0.optional,VC),J0=S_(K0.group,vR),Gl=ye("entirety");var N2=Object.freeze({__proto__:null,required:Ji,external:Ld,optional:Xu,group:J0,asNamedPart:M2,name:T_,asCommon:k2,original:Gl});const UC=(t,s,i,u)=>Xs(s.defaults(t,i,u),i,{uid:t.partUids[s.name]},s.overrides(t,i,u)),zC=(t,s,i)=>{const u={},m={};return At(i,b=>{b.fold(w=>{u[w.pname]=$C(!0,(O,M,B)=>w.factory.sketch(UC(O,w,M,B)))},w=>{const O=s.parts[w.name];m[w.name]=ye(w.factory.sketch(UC(s,w,O[Gl()]),O))},w=>{u[w.pname]=$C(!1,(O,M,B)=>w.factory.sketch(UC(O,w,M,B)))},w=>{u[w.pname]=FC(!0,(O,M,B)=>{const z=O[w.name];return je(z,j=>w.factory.sketch(Xs(w.defaults(O,j,B),j,w.overrides(O,j))))})})}),{internals:ye(u),externals:ye(m)}},WC=(t,s)=>{const i={};return At(s,u=>{M2(u).each(m=>{const b=bR(t,m.pname);i[m.name]=w=>{const O=Zr("Part: "+m.name+" in "+t,An(m.schema),w);return{...b,config:w,validated:O}}})}),i},bR=(t,s)=>({uiType:HC(),owner:t,name:s}),GC=(t,s,i)=>({uiType:HC(),owner:t,name:s,config:i,validated:{}}),yR=t=>lt(t,s=>s.fold(P.none,P.some,P.none,P.none).map(i=>uc(i.name,i.schema.concat([vu(Gl())]))).toArray()),ER=t=>je(t,T_),ZC=(t,s,i)=>zC(t,s,i),qC=(t,s,i)=>I2(P.some(t),s,s.components,i),Ws=(t,s,i)=>{const u=s.partUids[i];return t.getSystem().getByUid(u).toOptional()},Eh=(t,s,i)=>Ws(t,s,i).getOrDie("Could not find part: "+i),jC=(t,s,i)=>{const u={},m=s.partUids,b=t.getSystem();return At(i,w=>{u[w]=ye(b.getByUid(m[w]))}),u},YC=(t,s)=>{const i=t.getSystem();return Rs(s.partUids,(u,m)=>ye(i.getByUid(u)))},KC=t=>js(t.partUids),XC=(t,s,i)=>{const u={},m=s.partUids,b=t.getSystem();return At(i,w=>{u[w]=ye(b.getByUid(m[w]).getOrDie())}),u},QC=(t,s)=>{const i=ER(s);return Za(je(i,u=>({key:u,value:t+"-"+u})))},JC=t=>Br("partUids","partUids",mg(s=>QC(s.uid,t)),Pl());var eT=Object.freeze({__proto__:null,generate:WC,generateOne:GC,schemas:yR,names:ER,substitutes:ZC,components:qC,defaultUids:QC,defaultUidsSchema:JC,getAllParts:YC,getAllPartNames:KC,getPart:Ws,getPartOrDie:Eh,getParts:jC,getPartsOrDie:XC});const _R=(t,s)=>(t.length>0?[uc("parts",t)]:[]).concat([_t("uid"),qe("dom",{}),qe("components",[]),vu("originalSpec"),qe("debug.sketcher",{})]).concat(s),P2=(t,s,i,u,m)=>{const b=_R(u,m);return Zr(t+" [SpecSchema]",ca(b.concat(s)),i)},wR=(t,s,i,u)=>{const m=jg(u),b=P2(t,s,m,[],[]);return i(b,m)},tT=(t,s,i,u,m)=>{const b=jg(m),w=yR(i),O=JC(i),M=P2(t,s,b,w,[O]),B=ZC(t,M,i),z=qC(t,M,B.internals());return u(M,z,b,B.externals())},CR=t=>Bo(t,"uid"),jg=t=>CR(t)?t:{...t,uid:hl("uid")},gn=t=>t.uid!==void 0,Pm=ca([_t("name"),_t("factory"),_t("configFields"),qe("apis",{}),qe("extraApis",{})]),TR=ca([_t("name"),_t("factory"),_t("configFields"),_t("partFields"),qe("apis",{}),qe("extraApis",{})]),hi=t=>{const s=Zr("Sketcher for "+t.name,Pm,t),i=b=>wR(s.name,s.configFields,s.factory,b),u=Rs(s.apis,Wp),m=Rs(s.extraApis,(b,w)=>cm(b,w));return{name:s.name,configFields:s.configFields,sketch:i,...u,...m}},Yr=t=>{const s=Zr("Sketcher for "+t.name,TR,t),i=w=>tT(s.name,s.configFields,s.partFields,s.factory,w),u=WC(s.name,s.partFields),m=Rs(s.apis,Wp),b=Rs(s.extraApis,(w,O)=>cm(w,O));return{name:s.name,partFields:s.partFields,configFields:s.configFields,sketch:i,parts:u,...m,...b}},Yg=t=>Lc("input")(t)&&Mi(t,"type")!=="radio"||Lc("textarea")(t);var L2=Object.freeze({__proto__:null,getCurrent:(t,s,i)=>s.find(t)});const SR=[_t("find")],ko=Bi({fields:SR,name:"composing",apis:L2}),B2=["input","button","textarea","select"],A_=(t,s,i)=>{(s.disabled()?oT:sT)(t,s)},T1=(t,s)=>s.useNative===!0&&uo(B2,oc(t.element)),$2=t=>sa(t.element,"disabled"),xR=t=>{eo(t.element,"disabled","disabled")},nT=t=>{C(t.element,"disabled")},AR=t=>Mi(t.element,"aria-disabled")==="true",hN=t=>{eo(t.element,"aria-disabled","true")},F2=t=>{eo(t.element,"aria-disabled","false")},oT=(t,s,i)=>{s.disableClass.each(m=>{hs(t.element,m)}),(T1(t,s)?xR:hN)(t),s.onDisabled(t)},sT=(t,s,i)=>{s.disableClass.each(m=>{_s(t.element,m)}),(T1(t,s)?nT:F2)(t),s.onEnabled(t)},H2=(t,s)=>T1(t,s)?$2(t):AR(t);var O_=Object.freeze({__proto__:null,enable:sT,disable:oT,isDisabled:H2,onLoad:A_,set:(t,s,i,u)=>{(u?oT:sT)(t,s)}}),RR=Object.freeze({__proto__:null,exhibit:(t,s)=>gu({classes:s.disabled()?s.disableClass.toArray():[]}),events:(t,s)=>Ms([Vp(xs(),(i,u)=>H2(i,t)),o1(t,s,A_)])}),gN=[_i("disabled",bt),qe("useNative",!0),$o("disableClass"),ze("onDisabled"),ze("onEnabled")];const Gn=Bi({fields:gN,name:"disabling",active:RR,apis:O_}),Lm=(t,s,i,u)=>{const m=fi(t.element,"."+s.highlightClass);At(m,b=>{Lo(u,O=>us(O.element,b))||(_s(b,s.highlightClass),t.getSystem().getByDom(b).each(O=>{s.onDehighlight(t,O),Zo(O,wg())}))})},rT=(t,s,i)=>Lm(t,s,i,[]),IR=(t,s,i,u)=>{iT(t,s,i,u)&&(_s(u.element,s.highlightClass),s.onDehighlight(t,u),Zo(u,wg()))},ey=(t,s,i,u)=>{Lm(t,s,i,[u]),iT(t,s,i,u)||(hs(u.element,s.highlightClass),s.onHighlight(t,u),Zo(u,hE()))},pN=(t,s,i)=>{aT(t,s).each(u=>{ey(t,s,i,u)})},R_=(t,s,i)=>{I_(t,s).each(u=>{ey(t,s,i,u)})},DR=(t,s,i,u)=>{tb(t,s,i,u).fold(m=>{throw m},m=>{ey(t,s,i,m)})},MR=(t,s,i,u)=>{const m=D_(t,s);Dn(m,u).each(w=>{ey(t,s,i,w)})},iT=(t,s,i,u)=>Ci(u.element,s.highlightClass),eb=(t,s,i)=>fr(t.element,"."+s.highlightClass).bind(u=>t.getSystem().getByDom(u).toOptional()),tb=(t,s,i,u)=>{const m=fi(t.element,"."+s.itemClass);return P.from(m[u]).fold(()=>co.error(new Error("No element found with index "+u)),t.getSystem().getByDom)},aT=(t,s,i)=>fr(t.element,"."+s.itemClass).bind(u=>t.getSystem().getByDom(u).toOptional()),I_=(t,s,i)=>{const u=fi(t.element,"."+s.itemClass);return(u.length>0?P.some(u[u.length-1]):P.none()).bind(b=>t.getSystem().getByDom(b).toOptional())},cT=(t,s,i,u)=>{const m=fi(t.element,"."+s.itemClass);return as(m,w=>Ci(w,s.highlightClass)).bind(w=>{const O=yf(w,u,0,m.length-1);return t.getSystem().getByDom(m[O]).toOptional()})},lT=(t,s,i)=>cT(t,s,i,-1),kR=(t,s,i)=>cT(t,s,i,1),D_=(t,s,i)=>{const u=fi(t.element,"."+s.itemClass);return Au(je(u,m=>t.getSystem().getByDom(m).toOptional()))};var uT=Object.freeze({__proto__:null,dehighlightAll:rT,dehighlight:IR,highlight:ey,highlightFirst:pN,highlightLast:R_,highlightAt:DR,highlightBy:MR,isHighlighted:iT,getHighlighted:eb,getFirst:aT,getLast:I_,getPrevious:lT,getNext:kR,getCandidates:D_}),dT=[_t("highlightClass"),_t("itemClass"),ze("onHighlight"),ze("onDehighlight")];const ts=Bi({fields:dT,name:"highlighting",apis:uT}),V2=[8],_h=[9],Cf=[13],ty=[27],Zl=[32],M_=[37],S1=[38],ny=[39],Bm=[40],fT=(t,s,i)=>{const u=Ui(t.slice(0,s)),m=Ui(t.slice(s+1));return Dn(u.concat(m),i)},k_=(t,s,i)=>{const u=Ui(t.slice(0,s));return Dn(u,i)},nb=(t,s,i)=>{const u=t.slice(0,s),m=t.slice(s+1);return Dn(m.concat(u),i)},XH=(t,s,i)=>{const u=t.slice(s+1);return Dn(u,i)},qo=t=>s=>{const i=s.raw;return uo(t,i.which)},Bd=t=>s=>Sl(t,i=>i(s)),x1=t=>t.raw.shiftKey===!0,U2=t=>t.raw.ctrlKey===!0,oy=Pe(x1),Yo=(t,s)=>({matches:t,classification:s}),z2=(t,s)=>Dn(t,u=>u.matches(s)).map(u=>u.classification),W2=(t,s,i)=>{s.exists(m=>i.exists(b=>us(b,m)))||Tn(t,Fp(),{prevFocus:s,newFocus:i})},hT=()=>{const t=i=>gl(i.element);return{get:t,set:(i,u)=>{const m=t(i);i.getSystem().triggerFocus(u,i.element);const b=t(i);W2(i,m,b)}}},mT=()=>{const t=i=>ts.getHighlighted(i).map(u=>u.element);return{get:t,set:(i,u)=>{const m=t(i);i.getSystem().getByDom(u).fold(ne,w=>{ts.highlight(i,w)});const b=t(i);W2(i,m,b)}}};var ob;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(ob||(ob={}));const A1=(t,s,i,u,m)=>{const b=()=>t.concat([qe("focusManager",hT()),Ac("focusInside","onFocus",jf(B=>uo(["onFocus","onEnterOrSpace","onApi"],B)?co.value(B):co.error("Invalid value for focusInside"))),Hs("handler",M),Hs("state",s),Hs("sendFocusIn",m)]),w=(B,z,j,J,oe)=>{const pe=j(B,z,J,oe);return z2(pe,z.event).bind(Oe=>Oe(B,z,J,oe))},M={schema:b,processKey:w,toEvents:(B,z)=>{const j=B.focusInside!==ob.OnFocusMode?P.none():m(B).map(pe=>St(fc(),(Oe,Ke)=>{pe(Oe,B,z),Ke.stop()})),J=(pe,Oe)=>{const Ke=qo(Zl.concat(Cf))(Oe.event);B.focusInside===ob.OnEnterOrSpaceMode&&Ke&&Jh(pe,Oe)&&m(B).each($e=>{$e(pe,B,z),Oe.stop()})},oe=[St(wi(),(pe,Oe)=>{w(pe,Oe,i,B,z).fold(()=>{J(pe,Oe)},Ke=>{Oe.stop()})}),St(dv(),(pe,Oe)=>{w(pe,Oe,u,B,z).each(Ke=>{Oe.stop()})})];return Ms(j.toArray().concat(oe))}};return M},G2=t=>{const s=[$o("onEscape"),$o("onEnter"),qe("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),qe("firstTabstop",0),qe("useTabstopAt",Ct),$o("visibilitySelector")].concat([t]),i=(Oe,Ke)=>{const $e=Oe.visibilitySelector.bind(Ye=>Od(Ke,Ye)).getOr(Ke);return vn($e)>0},u=(Oe,Ke)=>{const $e=fi(Oe.element,Ke.selector),Ye=so($e,rt=>i(Ke,rt));return P.from(Ye[Ke.firstTabstop])},m=(Oe,Ke)=>Ke.focusManager.get(Oe).bind($e=>Od($e,Ke.selector)),b=(Oe,Ke)=>i(Oe,Ke)&&Oe.useTabstopAt(Ke),w=(Oe,Ke,$e)=>{u(Oe,Ke).each(Ye=>{Ke.focusManager.set(Oe,Ye)})},O=(Oe,Ke,$e,Ye,rt)=>rt(Ke,$e,dt=>b(Ye,dt)).fold(()=>Ye.cyclic?P.some(!0):P.none(),dt=>(Ye.focusManager.set(Oe,dt),P.some(!0))),M=(Oe,Ke,$e,Ye)=>{const rt=fi(Oe.element,$e.selector);return m(Oe,$e).bind(dt=>as(rt,xt(us,dt)).bind(Dt=>O(Oe,rt,Dt,$e,Ye)))},B=(Oe,Ke,$e)=>{const Ye=$e.cyclic?fT:k_;return M(Oe,Ke,$e,Ye)},z=(Oe,Ke,$e)=>{const Ye=$e.cyclic?nb:XH;return M(Oe,Ke,$e,Ye)},j=(Oe,Ke,$e)=>$e.onEnter.bind(Ye=>Ye(Oe,Ke)),J=(Oe,Ke,$e)=>$e.onEscape.bind(Ye=>Ye(Oe,Ke)),oe=ye([Yo(Bd([x1,qo(_h)]),B),Yo(qo(_h),z),Yo(Bd([oy,qo(Cf)]),j)]),pe=ye([Yo(qo(ty),J)]);return A1(s,Zc.init,oe,pe,()=>P.some(w))};var d=G2(ds("cyclic",bt)),p=G2(ds("cyclic",Ct));const _=(t,s,i)=>(Cd(t,i,xs()),P.some(!0)),S=(t,s,i)=>Yg(i)&&qo(Zl)(s.event)?P.none():_(t,s,i),N=(t,s)=>P.some(!0),H=[qe("execute",S),qe("useSpace",!1),qe("useEnter",!0),qe("useControlEnter",!1),qe("useDown",!1)],X=(t,s,i)=>i.execute(t,s,t.element),ae=(t,s,i,u)=>{const m=i.useSpace&&!Yg(t.element)?Zl:[],b=i.useEnter?Cf:[],w=i.useDown?Bm:[],O=m.concat(b).concat(w);return[Yo(qo(O),X)].concat(i.useControlEnter?[Yo(Bd([U2,qo(Cf)]),X)]:[])},ve=(t,s,i,u)=>i.useSpace&&!Yg(t.element)?[Yo(qo(Zl),N)]:[];var Ae=A1(H,Zc.init,ae,ve,()=>P.none());const We=()=>{const t=ks();return ja({readState:()=>t.get().map(m=>({numRows:String(m.numRows),numColumns:String(m.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(m,b)=>{t.set({numRows:m,numColumns:b})},getNumRows:()=>t.get().map(m=>m.numRows),getNumColumns:()=>t.get().map(m=>m.numColumns)})};var Jt=Object.freeze({__proto__:null,flatgrid:We,init:t=>t.state(t)});const jt=t=>(s,i,u,m)=>{const b=t(s.element);return mn(b,s,i,u,m)},vt=(t,s)=>{const i=Wv(t,s);return jt(i)},Qt=(t,s)=>{const i=Wv(s,t);return jt(i)},gt=t=>(s,i,u,m)=>mn(t,s,i,u,m),mn=(t,s,i,u,m)=>u.focusManager.get(s).bind(w=>t(s.element,w,u,m)).map(w=>(u.focusManager.set(s,w),!0)),Un=gt,ro=gt,Gs=gt,ka=t=>t.offsetWidth<=0&&t.offsetHeight<=0,Hr=t=>!ka(t.dom),ql=(t,s)=>as(t,s).map(i=>({index:i,candidates:t})),Kg=(t,s,i)=>{const u=w=>us(w,s),m=fi(t,i),b=so(m,Hr);return ql(b,u)},sy=(t,s)=>as(t,i=>us(s,i)),gT=(t,s,i,u)=>{const m=Math.floor(s/i),b=s%i;return u(m,b).bind(w=>{const O=w.row*i+w.column;return O>=0&&O<t.length?P.some(t[O]):P.none()})},N_=(t,s,i,u,m)=>gT(t,s,u,(b,w)=>{const M=b===i-1?t.length-b*u:u,B=yf(w,m,0,M-1);return P.some({row:b,column:B})}),Ns=(t,s,i,u,m)=>gT(t,s,u,(b,w)=>{const O=yf(b,m,0,i-1),B=O===i-1?t.length-O*u:u,z=Ka(w,0,B-1);return P.some({row:O,column:z})}),Yc=(t,s,i,u)=>N_(t,s,i,u,1),Kc=(t,s,i,u)=>N_(t,s,i,u,-1),$d=(t,s,i,u)=>Ns(t,s,i,u,-1),jl=(t,s,i,u)=>Ns(t,s,i,u,1),Xg=[_t("selector"),qe("execute",S),rr("onEscape"),qe("captureTab",!1),Xp()],Xc=(t,s,i)=>{fr(t.element,s.selector).each(u=>{s.focusManager.set(t,u)})},Z2=(t,s)=>s.focusManager.get(t).bind(i=>Od(i,s.selector)),sb=(t,s,i,u)=>Z2(t,i).bind(m=>i.execute(t,s,m)),Qu=t=>(s,i,u,m)=>Kg(s,i,u.selector).bind(b=>t(b.candidates,b.index,m.getNumRows().getOr(u.initSize.numRows),m.getNumColumns().getOr(u.initSize.numColumns))),ec=(t,s,i)=>i.captureTab?P.some(!0):P.none(),Ju=(t,s,i)=>i.onEscape(t,s),q2=Qu(Kc),j2=Qu(Yc),NR=Qu($d),PR=Qu(jl),pT=ye([Yo(qo(M_),vt(q2,j2)),Yo(qo(ny),Qt(q2,j2)),Yo(qo(S1),Un(NR)),Yo(qo(Bm),ro(PR)),Yo(Bd([x1,qo(_h)]),ec),Yo(Bd([oy,qo(_h)]),ec),Yo(qo(Zl.concat(Cf)),sb)]),rb=ye([Yo(qo(ty),Ju),Yo(qo(Zl),N)]);var O1=A1(Xg,We,pT,rb,()=>P.some(Xc));const vN=(t,s,i,u,m)=>{const b=O=>oc(O)==="button"&&Mi(O,"disabled")==="disabled",w=(O,M,B)=>m(O,M,u,0,B.length-1,B[M],z=>b(B[z])?w(O,z,B):P.from(B[z]));return Kg(t,i,s).bind(O=>{const M=O.index,B=O.candidates;return w(M,M,B)})},Y2=(t,s,i,u)=>vN(t,s,i,u,(m,b,w,O,M,B,z)=>{const j=Ka(b+w,O,M);return j===m?P.from(B):z(j)}),ry=(t,s,i,u)=>vN(t,s,i,u,(m,b,w,O,M,B,z)=>{const j=yf(b,w,O,M);return j===m?P.none():z(j)}),LR=[_t("selector"),qe("getInitial",P.none),qe("execute",S),rr("onEscape"),qe("executeOnMove",!1),qe("allowVertical",!0),qe("allowHorizontal",!0),qe("cycles",!0)],QH=(t,s)=>s.focusManager.get(t).bind(i=>Od(i,s.selector)),BR=(t,s,i)=>QH(t,i).bind(u=>i.execute(t,s,u)),JH=(t,s,i)=>{s.getInitial(t).orThunk(()=>fr(t.element,s.selector)).each(u=>{s.focusManager.set(t,u)})},bN=(t,s,i)=>(i.cycles?ry:Y2)(t,i.selector,s,-1),yN=(t,s,i)=>(i.cycles?ry:Y2)(t,i.selector,s,1),EN=t=>(s,i,u,m)=>t(s,i,u,m).bind(()=>u.executeOnMove?BR(s,i,u):P.some(!0)),_N=(t,s,i)=>i.onEscape(t,s),$R=(t,s,i,u)=>{const m=[...i.allowHorizontal?M_:[]].concat(i.allowVertical?S1:[]),b=[...i.allowHorizontal?ny:[]].concat(i.allowVertical?Bm:[]);return[Yo(qo(m),EN(vt(bN,yN))),Yo(qo(b),EN(Qt(bN,yN))),Yo(qo(Cf),BR),Yo(qo(Zl),BR)]},e6=ye([Yo(qo(Zl),N),Yo(qo(ty),_N)]);var t6=A1(LR,Zc.init,$R,e6,()=>P.some(JH));const K2=(t,s,i)=>P.from(t[s]).bind(u=>P.from(u[i]).map(m=>({rowIndex:s,columnIndex:i,cell:m}))),wN=(t,s,i,u)=>{const b=t[s].length,w=yf(i,u,0,b-1);return K2(t,s,w)},ib=(t,s,i,u)=>{const m=yf(i,u,0,t.length-1),b=t[m].length,w=Ka(s,0,b-1);return K2(t,m,w)},CN=(t,s,i,u)=>{const b=t[s].length,w=Ka(i+u,0,b-1);return K2(t,s,w)},TN=(t,s,i,u)=>{const m=Ka(i+u,0,t.length-1),b=t[m].length,w=Ka(s,0,b-1);return K2(t,m,w)},FR=(t,s,i)=>wN(t,s,i,1),n6=(t,s,i)=>wN(t,s,i,-1),SN=(t,s,i)=>ib(t,i,s,-1),xN=(t,s,i)=>ib(t,i,s,1),AN=(t,s,i)=>CN(t,s,i,-1),ON=(t,s,i)=>CN(t,s,i,1),o6=(t,s,i)=>TN(t,i,s,-1),s6=(t,s,i)=>TN(t,i,s,1),r6=[uc("selectors",[_t("row"),_t("cell")]),qe("cycles",!0),qe("previousSelector",P.none),qe("execute",S)],HR=(t,s,i)=>{s.previousSelector(t).orThunk(()=>{const m=s.selectors;return fr(t.element,m.cell)}).each(m=>{s.focusManager.set(t,m)})},i6=(t,s,i)=>gl(t.element).bind(u=>i.execute(t,s,u)),a6=(t,s)=>je(t,i=>fi(i,s.selectors.cell)),X2=(t,s)=>(i,u,m)=>{const b=m.cycles?t:s;return Od(u,m.selectors.row).bind(w=>{const O=fi(w,m.selectors.cell);return sy(O,u).bind(M=>{const B=fi(i,m.selectors.row);return sy(B,w).bind(z=>{const j=a6(B,m);return b(j,z,M).map(J=>J.cell)})})})},RN=X2(n6,AN),VR=X2(FR,ON),c6=X2(SN,o6),l6=X2(xN,s6),u6=ye([Yo(qo(M_),vt(RN,VR)),Yo(qo(ny),Qt(RN,VR)),Yo(qo(S1),Un(c6)),Yo(qo(Bm),ro(l6)),Yo(qo(Zl.concat(Cf)),i6)]),IN=ye([Yo(qo(Zl),N)]);var d6=A1(r6,Zc.init,u6,IN,()=>P.some(HR));const f6=[_t("selector"),qe("execute",S),qe("moveOnTab",!1)],UR=(t,s,i)=>i.focusManager.get(t).bind(u=>i.execute(t,s,u)),h6=(t,s,i)=>{fr(t.element,s.selector).each(u=>{s.focusManager.set(t,u)})},DN=(t,s,i)=>ry(t,i.selector,s,-1),vT=(t,s,i)=>ry(t,i.selector,s,1),m6=(t,s,i,u)=>i.moveOnTab?Gs(DN)(t,s,i,u):P.none(),MN=(t,s,i,u)=>i.moveOnTab?Gs(vT)(t,s,i,u):P.none(),_u=ye([Yo(qo(S1),Gs(DN)),Yo(qo(Bm),Gs(vT)),Yo(Bd([x1,qo(_h)]),m6),Yo(Bd([oy,qo(_h)]),MN),Yo(qo(Cf),UR),Yo(qo(Zl),UR)]),g6=ye([Yo(qo(Zl),N)]);var kN=A1(f6,Zc.init,_u,g6,()=>P.some(h6));const p6=[rr("onSpace"),rr("onEnter"),rr("onShiftEnter"),rr("onLeft"),rr("onRight"),rr("onTab"),rr("onShiftTab"),rr("onUp"),rr("onDown"),rr("onEscape"),qe("stopSpaceKeyup",!1),$o("focusIn")],v6=(t,s,i)=>[Yo(qo(Zl),i.onSpace),Yo(Bd([oy,qo(Cf)]),i.onEnter),Yo(Bd([x1,qo(Cf)]),i.onShiftEnter),Yo(Bd([x1,qo(_h)]),i.onShiftTab),Yo(Bd([oy,qo(_h)]),i.onTab),Yo(qo(S1),i.onUp),Yo(qo(Bm),i.onDown),Yo(qo(M_),i.onLeft),Yo(qo(ny),i.onRight),Yo(qo(Zl),i.onSpace)],NN=(t,s,i)=>[...i.stopSpaceKeyup?[Yo(qo(Zl),N)]:[],Yo(qo(ty),i.onEscape)];var b6=A1(p6,Zc.init,v6,NN,t=>t.focusIn);const PN=d.schema(),LN=p.schema(),y6=t6.schema(),E6=O1.schema(),_6=d6.schema(),w6=Ae.schema(),BN=kN.schema(),$N=b6.schema();var ab=Object.freeze({__proto__:null,acyclic:PN,cyclic:LN,flow:y6,flatgrid:E6,matrix:_6,execution:w6,menu:BN,special:$N});const FN=t=>na(t,"setGridSize"),Rn=BE({branchKey:"mode",branches:ab,name:"keying",active:{events:(t,s)=>t.handler.toEvents(t,s)},apis:{focusIn:(t,s,i)=>{s.sendFocusIn(s).fold(()=>{t.getSystem().triggerFocus(t.element,t.element)},u=>{u(t,s,i)})},setGridSize:(t,s,i,u,m)=>{FN(i)?i.setGridSize(u,m):console.error("Layout does not support setGridSize")}},state:Jt}),Q2=(t,s)=>{Dc(()=>{y2(t,s,()=>je(s,t.getSystem().build))},t.element)},HN=(t,s)=>{Dc(()=>{cR(t,s,()=>_E(t.element,s,t.getSystem().buildOrPatch))},t.element)},C6=(t,s,i,u)=>{u_(s);const m=EE(t.element,i,u,t.getSystem().buildOrPatch);l_(t,m),t.syncComponents()},zR=(t,s,i)=>{const u=t.getSystem().build(i);W0(t,u,s)},T6=(t,s,i,u)=>{ph(s),zR(t,(m,b)=>Fe(m,b,i),u)},VN=(t,s,i,u)=>(s.reuseDom?HN:Q2)(t,u),WR=(t,s,i,u)=>{zR(t,Me,u)},GR=(t,s,i,u)=>{zR(t,_e,u)},S6=(t,s,i,u)=>{const m=$m(t);Dn(m,w=>us(u.element,w.element)).each(ph)},$m=(t,s)=>t.components(),ZR=(t,s,i,u,m)=>{const b=$m(t);return P.from(b[u]).map(w=>(m.fold(()=>ph(w),O=>{(s.reuseDom?C6:T6)(t,w,u,O)}),w))};var A6=Object.freeze({__proto__:null,append:WR,prepend:GR,remove:S6,replaceAt:ZR,replaceBy:(t,s,i,u,m)=>{const b=$m(t);return as(b,u).bind(w=>ZR(t,s,i,w,m))},set:VN,contents:$m});const Kn=Bi({fields:[Yi("reuseDom",!0)],name:"replacing",apis:A6}),bT=(t,s)=>{const i=Ms(s);return Bi({fields:[_t("enabled")],name:t,active:{events:ye(i)}})},to=(t,s)=>{const i=bT(t,s);return{key:t,value:{config:{},me:i,configAsRaw:ye({}),initialConfig:{},state:Zc}}},qR=(t,s)=>{s.ignore||(Ic(t.element),s.onFocus(t))};var cb=Object.freeze({__proto__:null,focus:qR,blur:(t,s)=>{s.ignore||r1(t.element)},isFocused:t=>i1(t.element)}),UN=Object.freeze({__proto__:null,exhibit:(t,s)=>{const i=s.ignore?{}:{attributes:{tabindex:"-1"}};return gu(i)},events:t=>Ms([St(fc(),(s,i)=>{qR(s,t),i.stop()})].concat(t.stopMousedown?[St(ii(),(s,i)=>{i.event.prevent()})]:[]))}),R1=[ze("onFocus"),qe("stopMousedown",!1),qe("ignore",!1)];const $n=Bi({fields:R1,name:"focusing",active:UN,apis:cb}),zN=t=>({init:()=>{const i=Pn(t);return{get:()=>i.get(),set:O=>i.set(O),clear:()=>i.set(t),readState:()=>i.get()}}}),WN=(t,s,i)=>{const u=s.aria;u.update(t,u,i.get())},GN=(t,s,i)=>{s.toggleClass.each(u=>{i.get()?hs(t.element,u):_s(t.element,u)})},ay=(t,s,i,u)=>{const m=i.get();i.set(u),GN(t,s,i),WN(t,s,i),m!==u&&s.onToggled(t,u)},jR=(t,s,i)=>{ay(t,s,i,!i.get())},R6=(t,s,i)=>{ay(t,s,i,!0)},I6=(t,s,i)=>{ay(t,s,i,!1)},D6=(t,s,i)=>i.get(),yT=(t,s,i)=>{ay(t,s,i,s.selected)};var YR=Object.freeze({__proto__:null,onLoad:yT,toggle:jR,isOn:D6,on:R6,off:I6,set:ay}),M6=Object.freeze({__proto__:null,exhibit:()=>gu({}),events:(t,s)=>{const i=Pv(t,s,jR),u=o1(t,s,yT);return Ms(qt([t.toggleOnExecute?[i]:[],[u]]))}});const qN=(t,s,i)=>{eo(t.element,"aria-pressed",i),s.syncWithExpanded&&KR(t,s,i)},jN=(t,s,i)=>{eo(t.element,"aria-selected",i)},YN=(t,s,i)=>{eo(t.element,"aria-checked",i)},KR=(t,s,i)=>{eo(t.element,"aria-expanded",i)};var k6=[qe("selected",!1),$o("toggleClass"),qe("toggleOnExecute",!0),ze("onToggled"),Ac("aria",{mode:"none"},qr("mode",{pressed:[qe("syncWithExpanded",!1),Hs("update",qN)],checked:[Hs("update",YN)],expanded:[Hs("update",KR)],selected:[Hs("update",jN)],none:[Hs("update",ne)]}))];const vo=Bi({fields:k6,name:"toggling",active:M6,apis:YR,state:zN(!1)}),KN=()=>{const t=(s,i)=>{i.stop(),wd(s)};return[St(Gc(),t),St(Bp(),t),sm(ul()),sm(ii())]},J2=t=>{const s=i=>fl((u,m)=>{i(u),m.stop()});return Ms(qt([t.map(s).toArray(),KN()]))},XN="alloy.item-hover",QN="alloy.item-focus",XR="alloy.item-toggled",JN=t=>{(gl(t.element).isNone()||$n.isFocused(t))&&($n.isFocused(t)||$n.focus(t),Tn(t,XN,{item:t}))},eP=t=>{Tn(t,QN,{item:t})},N6=(t,s)=>{Tn(t,XR,{item:t,state:s})},P_=ye(XN),P6=ye(QN),ET=ye(XR),QR=t=>t.toggling.map(s=>s.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),tP=t=>({aria:{mode:"checked"},...ei(t,(s,i)=>i!=="exclusive"),onToggled:(s,i)=>{Ee(t.onToggled)&&t.onToggled(s,i),N6(s,i)}}),nP=t=>({dom:t.dom,domModification:{...t.domModification,attributes:{role:QR(t),...t.domModification.attributes,"aria-haspopup":t.hasSubmenu,...t.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:Pd.augment(t.itemBehaviours,[t.toggling.fold(vo.revoke,s=>vo.config(tP(s))),$n.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:s=>{eP(s)}}),Rn.config({mode:"execution"}),on.config({store:{mode:"memory",initialValue:t.data}}),to("item-type-events",[...KN(),St(yd(),JN),St(Ed(),$n.focus)])]),components:t.components,eventOrder:t.eventOrder}),L6=[_t("data"),_t("components"),_t("dom"),qe("hasSubmenu",!1),$o("toggling"),Pd.field("itemBehaviours",[vo,$n,Rn,on]),qe("ignoreFocus",!1),qe("domModification",{}),Hs("builder",nP),qe("eventOrder",{})],B6=t=>({dom:t.dom,components:t.components,events:Ms([Xb(Ed())])}),oP=[_t("dom"),_t("components"),Hs("builder",B6)],JR=ye("item-widget"),ex=ye([Ji({name:"widget",overrides:t=>({behaviours:Rt([on.config({store:{mode:"manual",getValue:s=>t.data,setValue:ne}})])})})]),$6=t=>{const s=ZC(JR(),t,ex()),i=qC(JR(),t,s.internals()),u=b=>Ws(b,t,"widget").map(w=>(Rn.focusIn(w),w)),m=(b,w)=>Yg(w.event.target)?P.none():(()=>(t.autofocus&&w.setSource(b.element),P.none()))();return{dom:t.dom,components:i,domModification:t.domModification,events:Ms([fl((b,w)=>{u(b).each(O=>{w.stop()})}),St(yd(),JN),St(Ed(),(b,w)=>{t.autofocus?u(b):$n.focus(b)})]),behaviours:Pd.augment(t.widgetBehaviours,[on.config({store:{mode:"memory",initialValue:t.data}}),$n.config({ignore:t.ignoreFocus,onFocus:b=>{eP(b)}}),Rn.config({mode:"special",focusIn:t.autofocus?b=>{u(b)}:$E(),onLeft:m,onRight:m,onEscape:(b,w)=>!$n.isFocused(b)&&!t.autofocus?($n.focus(b),P.some(!0)):(t.autofocus&&w.setSource(b.element),P.none())})])}},F6=[_t("uid"),_t("data"),_t("components"),_t("dom"),qe("autofocus",!1),qe("ignoreFocus",!1),Pd.field("widgetBehaviours",[on,$n,Rn]),qe("domModification",{}),JC(ex()),Hs("builder",$6)],sP=qr("type",{widget:F6,item:L6,separator:oP}),tx=(t,s)=>({mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:s.initSize.numColumns,numRows:s.initSize.numRows},focusManager:t.focusManager}),eI=(t,s)=>({mode:"matrix",selectors:{row:s.rowSelector,cell:"."+t.markers.item},previousSelector:s.previousSelector,focusManager:t.focusManager}),tI=(t,s)=>({mode:"menu",selector:"."+t.markers.item,moveOnTab:s.moveOnTab,focusManager:t.focusManager}),H6=ye([J0({factory:{sketch:t=>{const s=Zr("menu.spec item",sP,t);return s.builder(s)}},name:"items",unit:"item",defaults:(t,s)=>Bo(s,"uid")?s:{...s,uid:hl("item")},overrides:(t,s)=>({type:s.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}})})]),V6=ye([_t("value"),_t("items"),_t("dom"),_t("components"),qe("eventOrder",{}),da("menuBehaviours",[ts,on,ko,Rn]),Ac("movement",{mode:"menu",moveOnTab:!0},qr("mode",{grid:[Xp(),Hs("config",tx)],matrix:[Hs("config",eI),_t("rowSelector"),qe("previousSelector",P.none)],menu:[qe("moveOnTab",!0),Hs("config",tI)]})),Yp(),qe("fakeFocus",!1),qe("focusManager",hT()),ze("onHighlight"),ze("onDehighlight")]),rP=ye("alloy.menu-focus"),U6=(t,s)=>{const i=fi(t.element,'[role="menuitemradio"][aria-checked="true"]');At(i,u=>{us(u,s.element)||t.getSystem().getByDom(u).each(m=>{vo.off(m)})})},iP=(t,s,i,u)=>({uid:t.uid,dom:t.dom,markers:t.markers,behaviours:mr(t.menuBehaviours,[ts.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight,onDehighlight:t.onDehighlight}),on.config({store:{mode:"memory",initialValue:t.value}}),ko.config({find:P.some}),Rn.config(t.movement.config(t,t.movement))]),events:Ms([St(P6(),(m,b)=>{const w=b.event;m.getSystem().getByDom(w.target).each(O=>{ts.highlight(m,O),b.stop(),Tn(m,rP(),{menu:m,item:O})})}),St(P_(),(m,b)=>{const w=b.event.item;ts.highlight(m,w)}),St(ET(),(m,b)=>{const{item:w,state:O}=b.event;O&&Mi(w.element,"role")==="menuitemradio"&&U6(m,w)})]),components:s,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}),lb=Yr({name:"Menu",configFields:V6(),partFields:H6(),factory:iP}),z6=t=>xl(t,(s,i)=>({k:s,v:i})),aP=(t,s,i,u)=>nn(i,u).bind(m=>nn(t,m).bind(b=>{const w=aP(t,s,i,b);return P.some([b].concat(w))})).getOr([]),W6=(t,s)=>{const i={};Nr(t,(w,O)=>{At(w,M=>{i[M]=O})});const u=s,m=z6(s),b=Rs(m,(w,O)=>[O].concat(aP(i,u,m,O)));return Rs(i,w=>nn(b,w).getOr([w]))},G6=()=>{const t=Pn({}),s=Pn({}),i=Pn({}),u=ks(),m=Pn({}),b=()=>{t.set({}),s.set({}),i.set({}),u.clear()},w=()=>u.get().isNone(),O=(Wt,Dt)=>{s.set({...s.get(),[Wt]:{type:"prepared",menu:Dt}})},M=(Wt,Dt,en,bn)=>{u.set(Wt),t.set(en),s.set(Dt),m.set(bn);const xo=W6(bn,en);i.set(xo)},B=Wt=>La(t.get(),(Dt,en)=>Dt===Wt),z=(Wt,Dt,en)=>Oe(Wt).bind(bn=>B(Wt).bind(xo=>Dt(xo).map(In=>({triggeredMenu:bn,triggeringItem:In,triggeringPath:en})))),j=(Wt,Dt)=>{const en=so($e(Wt).toArray(),bn=>Oe(bn).isSome());return nn(i.get(),Wt).bind(bn=>{const xo=Ui(en.concat(bn)),In=lt(xo,(Co,qn)=>z(Co,Dt,xo.slice(0,qn+1)).fold(()=>Ec(u.get(),Co)?[]:[P.none()],_o=>[P.some(_o)]));return Is(In)})},J=Wt=>nn(t.get(),Wt).map(Dt=>{const en=nn(i.get(),Wt).getOr([]);return[Dt].concat(en)}),oe=Wt=>nn(i.get(),Wt).bind(Dt=>Dt.length>1?P.some(Dt.slice(1)):P.none()),pe=Wt=>nn(i.get(),Wt),Oe=Wt=>Ke(Wt).bind(cP),Ke=Wt=>nn(s.get(),Wt),$e=Wt=>nn(t.get(),Wt);return{setMenuBuilt:O,setContents:M,expand:J,refresh:pe,collapse:oe,lookupMenu:Ke,lookupItem:$e,otherMenus:Wt=>{const Dt=m.get();return En(js(Dt),Wt)},getPrimary:()=>u.get().bind(Oe),getMenus:()=>s.get(),clear:b,isClear:w,getTriggeringPath:j}},cP=t=>t.type==="prepared"?P.some(t.menu):P.none(),lP={init:G6,extractPreparedMenu:cP},nI=fn("tiered-menu-item-highlight"),uP=fn("tiered-menu-item-dehighlight");var Yl;(function(t){t[t.HighlightMenuAndItem=0]="HighlightMenuAndItem",t[t.HighlightJustMenu=1]="HighlightJustMenu",t[t.HighlightNone=2]="HighlightNone"})(Yl||(Yl={}));const Z6=(t,s)=>{const i=ks(),u=(Bt,pn,an)=>Rs(an,(Fn,lo)=>{const Po=()=>lb.sketch({...Fn,value:lo,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:(Ai,is)=>{Tn(Ai,nI,{menuComp:Ai,itemComp:is})},onDehighlight:(Ai,is)=>{Tn(Ai,uP,{menuComp:Ai,itemComp:is})},focusManager:t.fakeFocus?mT():hT()});return lo===pn?{type:"prepared",menu:Bt.getSystem().build(Po())}:{type:"notbuilt",nbMenu:Po}}),m=lP.init(),b=Bt=>{const pn=u(Bt,t.data.primary,t.data.menus),an=M();return m.setContents(t.data.primary,pn,t.data.expansions,an),m.getPrimary()},w=Bt=>on.getValue(Bt).value,O=(Bt,pn,an)=>tr(pn,Fn=>{if(!Fn.getSystem().isConnected())return P.none();const lo=ts.getCandidates(Fn);return Dn(lo,Po=>w(Po)===an)}),M=Bt=>Rs(t.data.menus,(pn,an)=>lt(pn.items,Fn=>Fn.type==="separator"?[]:[Fn.data.value])),B=ts.highlight,z=(Bt,pn)=>{B(Bt,pn),ts.getHighlighted(pn).orThunk(()=>ts.getFirst(pn)).each(an=>{t.fakeFocus?ts.highlight(pn,an):Cd(Bt,an.element,Ed())})},j=(Bt,pn)=>Au(je(pn,an=>Bt.lookupMenu(an).bind(Fn=>Fn.type==="prepared"?P.some(Fn.menu):P.none()))),J=(Bt,pn,an)=>{const Fn=j(pn,pn.otherMenus(an));At(Fn,lo=>{mc(lo.element,[t.markers.backgroundMenu]),t.stayInDom||Kn.remove(Bt,lo)})},oe=Bt=>i.get().getOrThunk(()=>{const pn={},an=fi(Bt.element,`.${t.markers.item}`),Fn=so(an,lo=>Mi(lo,"aria-haspopup")==="true");return At(Fn,lo=>{Bt.getSystem().getByDom(lo).each(Po=>{const Ai=w(Po);pn[Ai]=Po})}),i.set(pn),pn}),pe=(Bt,pn)=>{const an=oe(Bt);Nr(an,(Fn,lo)=>{const Po=uo(pn,lo);eo(Fn.element,"aria-expanded",Po)})},Oe=(Bt,pn,an)=>P.from(an[0]).bind(Fn=>pn.lookupMenu(Fn).bind(lo=>{if(lo.type==="notbuilt")return P.none();{const Po=lo.menu,Ai=j(pn,an.slice(1));return At(Ai,is=>{hs(is.element,t.markers.backgroundMenu)}),rc(Po.element)||Kn.append(Bt,Rc(Po)),mc(Po.element,[t.markers.backgroundMenu]),z(Bt,Po),J(Bt,pn,an),P.some(Po)}}));let Ke;(function(Bt){Bt[Bt.HighlightSubmenu=0]="HighlightSubmenu",Bt[Bt.HighlightParent=1]="HighlightParent"})(Ke||(Ke={}));const $e=(Bt,pn,an)=>{if(an.type==="notbuilt"){const Fn=Bt.getSystem().build(an.nbMenu());return m.setMenuBuilt(pn,Fn),Fn}else return an.menu},Ye=(Bt,pn,an=Ke.HighlightSubmenu)=>{if(pn.hasConfigured(Gn)&&Gn.isDisabled(pn))return P.some(pn);{const Fn=w(pn);return m.expand(Fn).bind(lo=>(pe(Bt,lo),P.from(lo[0]).bind(Po=>m.lookupMenu(Po).bind(Ai=>{const is=$e(Bt,Po,Ai);return rc(is.element)||Kn.append(Bt,Rc(is)),t.onOpenSubmenu(Bt,pn,is,Ui(lo)),an===Ke.HighlightSubmenu?(ts.highlightFirst(is),Oe(Bt,m,lo)):(ts.dehighlightAll(is),P.some(pn))}))))}},rt=(Bt,pn)=>{const an=w(pn);return m.collapse(an).bind(Fn=>(pe(Bt,Fn),Oe(Bt,m,Fn).map(lo=>(t.onCollapseMenu(Bt,pn,lo),lo))))},dt=(Bt,pn)=>{const an=w(pn);return m.refresh(an).bind(Fn=>(pe(Bt,Fn),Oe(Bt,m,Fn)))},Wt=(Bt,pn)=>Yg(pn.element)?P.none():Ye(Bt,pn,Ke.HighlightSubmenu),Dt=(Bt,pn)=>Yg(pn.element)?P.none():rt(Bt,pn),en=(Bt,pn)=>rt(Bt,pn).orThunk(()=>t.onEscape(Bt,pn).map(()=>Bt)),bn=Bt=>(pn,an)=>Od(an.getSource(),`.${t.markers.item}`).bind(Fn=>pn.getSystem().getByDom(Fn).toOptional().bind(lo=>Bt(pn,lo).map(Ct))),xo=Ms([St(rP(),(Bt,pn)=>{const an=pn.event.item;m.lookupItem(w(an)).each(()=>{const Fn=pn.event.menu;ts.highlight(Bt,Fn);const lo=w(pn.event.item);m.refresh(lo).each(Po=>J(Bt,m,Po))})}),fl((Bt,pn)=>{const an=pn.event.target;Bt.getSystem().getByDom(an).each(Fn=>{w(Fn).indexOf("collapse-item")===0&&rt(Bt,Fn),Ye(Bt,Fn,Ke.HighlightSubmenu).fold(()=>{t.onExecute(Bt,Fn)},ne)})}),or((Bt,pn)=>{b(Bt).each(an=>{Kn.append(Bt,Rc(an)),t.onOpenMenu(Bt,an),t.highlightOnOpen===Yl.HighlightMenuAndItem?z(Bt,an):t.highlightOnOpen===Yl.HighlightJustMenu&&B(Bt,an)})}),St(nI,(Bt,pn)=>{t.onHighlightItem(Bt,pn.event.menuComp,pn.event.itemComp)}),St(uP,(Bt,pn)=>{t.onDehighlightItem(Bt,pn.event.menuComp,pn.event.itemComp)}),...t.navigateOnHover?[St(P_(),(Bt,pn)=>{const an=pn.event.item;dt(Bt,an),Ye(Bt,an,Ke.HighlightParent),t.onHover(Bt,an)})]:[]]),In=Bt=>ts.getHighlighted(Bt).bind(ts.getHighlighted),Co=Bt=>{In(Bt).each(pn=>{rt(Bt,pn)})},qn=Bt=>{m.getPrimary().each(pn=>{z(Bt,pn)})},_o=Bt=>P.from(Bt.components()[0]).filter(pn=>Mi(pn.element,"role")==="menu"),ms={collapseMenu:Co,highlightPrimary:qn,repositionMenus:Bt=>{m.getPrimary().bind(an=>In(Bt).bind(Fn=>{const lo=w(Fn),Po=ng(m.getMenus()),Ai=Au(je(Po,lP.extractPreparedMenu));return m.getTriggeringPath(lo,is=>O(Bt,Ai,is))}).map(Fn=>({primary:an,triggeringPath:Fn}))).fold(()=>{_o(Bt).each(an=>{t.onRepositionMenu(Bt,an,[])})},({primary:an,triggeringPath:Fn})=>{t.onRepositionMenu(Bt,an,Fn)})}};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:mr(t.tmenuBehaviours,[Rn.config({mode:"special",onRight:bn(Wt),onLeft:bn(Dt),onEscape:bn(en),focusIn:(Bt,pn)=>{m.getPrimary().each(an=>{Cd(Bt,an.element,Ed())})}}),ts.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),ko.config({find:Bt=>ts.getHighlighted(Bt)}),Kn.config({})]),eventOrder:t.eventOrder,apis:ms,events:xo}},q6=ye("collapse-item"),j6=(t,s,i)=>({primary:t,menus:s,expansions:i}),cy=(t,s)=>({primary:t,menus:uu(t,s),expansions:{}}),Y6=t=>({value:fn(q6()),meta:{text:t}}),ly=hi({name:"TieredMenu",configFields:[f0("onExecute"),f0("onEscape"),pm("onOpenMenu"),pm("onOpenSubmenu"),ze("onRepositionMenu"),ze("onCollapseMenu"),qe("highlightOnOpen",Yl.HighlightMenuAndItem),uc("data",[_t("primary"),_t("menus"),_t("expansions")]),qe("fakeFocus",!1),ze("onHighlightItem"),ze("onDehighlightItem"),ze("onHover"),Gu(),_t("dom"),qe("navigateOnHover",!0),qe("stayInDom",!1),da("tmenuBehaviours",[Rn,ts,ko,Kn]),qe("eventOrder",{})],apis:{collapseMenu:(t,s)=>{t.collapseMenu(s)},highlightPrimary:(t,s)=>{t.highlightPrimary(s)},repositionMenus:(t,s)=>{t.repositionMenus(s)}},factory:Z6,extraApis:{tieredData:j6,singleData:cy,collapseItem:Y6}}),uy=(t,s,i,u,m)=>{const b=()=>t.lazySink(s),w=u.type==="horizontal"?{layouts:{onLtr:()=>n1(),onRtl:()=>Zu()}}:{},O=B=>B.length===2,M=B=>O(B)?w:{};return ly.sketch({dom:{tag:"div"},data:u.data,markers:u.menu.markers,highlightOnOpen:u.menu.highlightOnOpen,fakeFocus:u.menu.fakeFocus,onEscape:()=>(Ao.close(s),t.onEscape.map(B=>B(s)),P.some(!0)),onExecute:()=>P.some(!0),onOpenMenu:(B,z)=>{As.positionWithinBounds(b().getOrDie(),z,i,m())},onOpenSubmenu:(B,z,j,J)=>{const oe=b().getOrDie();As.position(oe,j,{anchor:{type:"submenu",item:z,...M(J)}})},onRepositionMenu:(B,z,j)=>{const J=b().getOrDie();As.positionWithinBounds(J,z,i,m()),At(j,oe=>{const pe=M(oe.triggeringPath);As.position(J,oe.triggeredMenu,{anchor:{type:"submenu",item:oe.triggeringItem,...pe}})})}})},K6=(t,s)=>{const i=(J,oe)=>t.getRelated(J).exists(Oe=>mm(Oe,oe)),u=(J,oe)=>{Ao.setContent(J,oe)},m=(J,oe,pe)=>{const Oe=P.none;b(J,oe,pe,Oe)},b=(J,oe,pe,Oe)=>{const Ke=t.lazySink(J).getOrDie();Ao.openWhileCloaked(J,oe,()=>As.positionWithinBounds(Ke,J,pe,Oe())),on.setValue(J,P.some({mode:"position",config:pe,getBounds:Oe}))},w=(J,oe,pe)=>{O(J,oe,pe,P.none)},O=(J,oe,pe,Oe)=>{const Ke=uy(t,J,oe,pe,Oe);Ao.open(J,Ke),on.setValue(J,P.some({mode:"menu",menu:Ke}))},M=J=>{Ao.isOpen(J)&&(on.setValue(J,P.none()),Ao.close(J))},B=J=>Ao.getState(J),z=J=>{Ao.isOpen(J)&&on.getValue(J).each(oe=>{switch(oe.mode){case"menu":Ao.getState(J).each(ly.repositionMenus);break;case"position":const pe=t.lazySink(J).getOrDie();As.positionWithinBounds(pe,J,oe.config,oe.getBounds());break}})},j={setContent:u,showAt:m,showWithinBounds:b,showMenuAt:w,showMenuWithinBounds:O,hide:M,getContent:B,reposition:z,isOpen:Ao.isOpen};return{uid:t.uid,dom:t.dom,behaviours:mr(t.inlineBehaviours,[Ao.config({isPartOf:(J,oe,pe)=>mm(oe,pe)||i(J,pe),getAttachPoint:J=>t.lazySink(J).getOrDie(),onOpen:J=>{t.onShow(J)},onClose:J=>{t.onHide(J)}}),on.config({store:{mode:"memory",initialValue:P.none()}}),Ul.config({channels:{...q0({isExtraPart:s.isExtraPart,...t.fireDismissalEventInstead.map(J=>({fireEventInstead:{event:J.event}})).getOr({})}),..._1({...t.fireRepositionEventInstead.map(J=>({fireEventInstead:{event:J.event}})).getOr({}),doReposition:z})}})]),eventOrder:t.eventOrder,apis:j}},Si=hi({name:"InlineView",configFields:[_t("lazySink"),ze("onShow"),ze("onHide"),xa("onEscape"),da("inlineBehaviours",[Ao,on,Ul]),Aa("fireDismissalEventInstead",[qe("event",Fl())]),Aa("fireRepositionEventInstead",[qe("event",_g())]),qe("getRelated",P.none),qe("isExtraPart",bt),qe("eventOrder",P.none)],factory:K6,apis:{showAt:(t,s,i,u)=>{t.showAt(s,i,u)},showWithinBounds:(t,s,i,u,m)=>{t.showWithinBounds(s,i,u,m)},showMenuAt:(t,s,i,u)=>{t.showMenuAt(s,i,u)},showMenuWithinBounds:(t,s,i,u,m)=>{t.showMenuWithinBounds(s,i,u,m)},hide:(t,s)=>{t.hide(s)},isOpen:(t,s)=>t.isOpen(s),getContent:(t,s)=>t.getContent(s),setContent:(t,s,i)=>{t.setContent(s,i)},reposition:(t,s)=>{t.reposition(s)}}});var Fm=tinymce.util.Tools.resolve("tinymce.util.Delay");const vc=hi({name:"Button",factory:t=>{const s=J2(t.action),i=t.dom.tag,u=b=>nn(t.dom,"attributes").bind(w=>nn(w,b)),m=()=>{if(i==="button"){const b=u("type").getOr("button"),w=u("role").map(O=>({role:O})).getOr({});return{type:b,...w}}else return{role:t.role.getOr(u("role").getOr("button"))}};return{uid:t.uid,dom:t.dom,components:t.components,events:s,behaviours:Pd.augment(t.buttonBehaviours,[$n.config({}),Rn.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:m()},eventOrder:t.eventOrder}},configFields:[qe("uid",void 0),_t("dom"),qe("components",[]),Pd.field("buttonBehaviours",[$n,Rn]),$o("action"),$o("role"),qe("eventOrder",{})]}),Oo=t=>{const s=gn(t)&&na(t,"uid")?t.uid:hl("memento");return{get:b=>b.getSystem().getByUid(s).getOrDie(),getOpt:b=>b.getSystem().getByUid(s).toOptional(),asSpec:()=>({...t,uid:s})}};var Fd=tinymce.util.Tools.resolve("tinymce.util.I18n");const dP={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},oI="temporary-placeholder",sI=t=>()=>nn(t,oI).getOr("!not found!"),_T=(t,s)=>{const i=t.toLowerCase();if(Fd.isRtl()){const u=Ri(i,"-rtl");return Bo(s,u)?u:i}else return i},fP=(t,s)=>nn(s,_T(t,s)),hP=(t,s)=>{const i=s();return fP(t,i).getOrThunk(sI(i))},X6=(t,s,i)=>{const u=s();return fP(t,u).or(i).getOrThunk(sI(u))},nx=t=>Fd.isRtl()?Bo(dP,t):!1,wT=()=>to("add-focusable",[or(t=>{bf(t.element,"svg").each(s=>eo(s,"focusable","false"))})]),mP=(t,s,i,u)=>{var m,b;const w=nx(s)?["tox-icon--flip"]:[],O=nn(i,_T(s,i)).or(u).getOrThunk(sI(i));return{dom:{tag:t.tag,attributes:(m=t.attributes)!==null&&m!==void 0?m:{},classes:t.classes.concat(w),innerHtml:O},behaviours:Rt([...(b=t.behaviours)!==null&&b!==void 0?b:[],wT()])}},Tf=(t,s,i,u=P.none())=>mP(s,t,i(),u),gP=(t,s,i)=>{const u=i(),m=Dn(t,b=>Bo(u,_T(b,u)));return mP(s,m.getOr(oI),u,P.none())},Q6={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},rI=hi({name:"Notification",factory:t=>{const s=Oo({dom:{tag:"p",innerHtml:t.translationProvider(t.text)},behaviours:Rt([Kn.config({})])}),i=oe=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${oe}%`}}}),u=oe=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${oe}%`}}),m=Oo({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[i(0)]},u(0)],behaviours:Rt([Kn.config({})])}),O={updateProgress:(oe,pe)=>{oe.getSystem().isConnected()&&m.getOpt(oe).each(Oe=>{Kn.set(Oe,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[i(pe)]},u(pe)])})},updateText:(oe,pe)=>{if(oe.getSystem().isConnected()){const Oe=s.get(oe);Kn.set(Oe,[sr(pe)])}}},M=qt([t.icon.toArray(),t.level.toArray(),t.level.bind(oe=>P.from(Q6[oe])).toArray()]),B=Oo(vc.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[Tf("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":t.translationProvider("Close")}},t.iconProvider)],action:oe=>{t.onAction(oe)}})),z=gP(M,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),j={dom:{tag:"div",classes:["tox-notification__body"]},components:[s.asSpec()],behaviours:Rt([Kn.config({})])},J=[z,j];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map(oe=>["tox-notification","tox-notification--in",`tox-notification--${oe}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:Rt([$n.config({}),to("notification-events",[St(af(),oe=>{B.getOpt(oe).each($n.focus)})])]),components:J.concat(t.progress?[m.asSpec()]:[]).concat(t.closeButton?[B.asSpec()]:[]),apis:O}},configFields:[$o("level"),_t("progress"),$o("icon"),_t("onAction"),_t("text"),_t("iconProvider"),_t("translationProvider"),Yi("closeButton",!0)],apis:{updateProgress:(t,s,i)=>{t.updateProgress(s,i)},updateText:(t,s,i)=>{t.updateText(s,i)}}});var iI=(t,s,i)=>{const u=s.backstage.shared,m=()=>{const M=Wo(Ze.fromDom(t.getContentAreaContainer())),B=wa(),z=Ka(B.x,M.x,M.right),j=Ka(B.y,M.y,M.bottom),J=Math.max(M.right,B.right),oe=Math.max(M.bottom,B.bottom);return P.some(Ds(z,j,J-z,oe-j))};return{open:(M,B)=>{const z=()=>{B(),Si.hide(J)},j=Da(rI.sketch({text:M.text,level:uo(["success","error","warning","warn","info"],M.type)?M.type:void 0,progress:M.progressBar===!0,icon:M.icon,closeButton:M.closeButton,onAction:z,iconProvider:u.providers.icons,translationProvider:u.providers.translate})),J=Da(Si.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:u.getSink,fireDismissalEventInstead:{},...u.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));i.add(J),De(M.timeout)&&M.timeout>0&&Fm.setEditorTimeout(t,()=>{z()},M.timeout);const pe={close:z,reposition:()=>{const Oe=Rc(j),Ke={maxHeightFunction:fh()},$e=t.notificationManager.getNotifications();if($e[0]===pe){const Ye={...u.anchors.banner(),overrides:Ke};Si.showWithinBounds(J,Oe,{anchor:Ye},m)}else Ve($e,pe).each(Ye=>{const rt=$e[Ye-1].getEl(),dt={type:"node",root:Gi(),node:P.some(Ze.fromDom(rt)),overrides:Ke,layouts:{onRtl:()=>[Xi],onLtr:()=>[Xi]}};Si.showWithinBounds(J,Oe,{anchor:dt},m)})},text:Oe=>{rI.updateText(j,Oe)},settings:M,getEl:()=>j.element.dom,progressBar:{value:Oe=>{rI.updateProgress(j,Oe)}}};return pe},close:M=>{M.close()},getArgs:M=>M.settings}},CT=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),TT=tinymce.util.Tools.resolve("tinymce.EditorManager"),I1=tinymce.util.Tools.resolve("tinymce.Env"),Hd;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(Hd||(Hd={}));var L_;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(L_||(L_={}));const ir=t=>s=>s.options.get(t),ST=t=>s=>P.from(t(s)),vP=t=>{const s=I1.deviceType.isPhone(),i=I1.deviceType.isTablet()||s,u=t.options.register,m=w=>V(w)||w===!1,b=w=>V(w)||De(w);u("skin",{processor:w=>V(w)||w===!1,default:"oxide"}),u("skin_url",{processor:"string"}),u("height",{processor:b,default:Math.max(t.getElement().offsetHeight,400)}),u("width",{processor:b,default:CT.DOM.getStyle(t.getElement(),"width")}),u("min_height",{processor:"number",default:100}),u("min_width",{processor:"number"}),u("max_height",{processor:"number"}),u("max_width",{processor:"number"}),u("style_formats",{processor:"object[]"}),u("style_formats_merge",{processor:"boolean",default:!1}),u("style_formats_autohide",{processor:"boolean",default:!1}),u("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),u("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),u("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),u("font_size_input_default_unit",{processor:"string",default:"pt"}),u("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),u("content_langs",{processor:"object[]"}),u("removed_menuitems",{processor:"string",default:""}),u("menubar",{processor:w=>V(w)||be(w),default:!s}),u("menu",{processor:"object",default:{}}),u("toolbar",{processor:w=>be(w)||V(w)||K(w)?{value:w,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),Jn(9,w=>{u("toolbar"+(w+1),{processor:"string"})}),u("toolbar_mode",{processor:"string",default:i?"scrolling":"floating"}),u("toolbar_groups",{processor:"object",default:{}}),u("toolbar_location",{processor:"string",default:L_.auto}),u("toolbar_persist",{processor:"boolean",default:!1}),u("toolbar_sticky",{processor:"boolean",default:t.inline}),u("toolbar_sticky_offset",{processor:"number",default:0}),u("fixed_toolbar_container",{processor:"string",default:""}),u("fixed_toolbar_container_target",{processor:"object"}),u("ui_mode",{processor:"string",default:"combined"}),u("file_picker_callback",{processor:"function"}),u("file_picker_validator_handler",{processor:"function"}),u("file_picker_types",{processor:"string"}),u("typeahead_urls",{processor:"boolean",default:!0}),u("anchor_top",{processor:m,default:"#top"}),u("anchor_bottom",{processor:m,default:"#bottom"}),u("draggable_modal",{processor:"boolean",default:!1}),u("statusbar",{processor:"boolean",default:!0}),u("elementpath",{processor:"boolean",default:!0}),u("branding",{processor:"boolean",default:!0}),u("promotion",{processor:"boolean",default:!0}),u("resize",{processor:w=>w==="both"||be(w),default:!I1.deviceType.isTouch()}),u("sidebar_show",{processor:"string"})},bP=ir("readonly"),xT=ir("height"),ox=ir("width"),sx=ST(ir("min_width")),AT=ST(ir("min_height")),rx=ST(ir("max_width")),ix=ST(ir("max_height")),yP=ST(ir("style_formats")),EP=ir("style_formats_merge"),_P=ir("style_formats_autohide"),aI=ir("content_langs"),wP=ir("removed_menuitems"),B_=ir("toolbar_mode"),ax=ir("toolbar_groups"),cx=ir("toolbar_location"),CP=ir("fixed_toolbar_container"),J6=ir("fixed_toolbar_container_target"),lx=ir("toolbar_persist"),TP=ir("toolbar_sticky_offset"),SP=ir("menubar"),ux=ir("toolbar"),xP=ir("file_picker_callback"),AP=ir("file_picker_validator_handler"),cI=ir("font_size_input_default_unit"),dx=ir("file_picker_types"),OP=ir("typeahead_urls"),OT=ir("anchor_top"),RP=ir("anchor_bottom"),IP=ir("draggable_modal"),DP=ir("statusbar"),MP=ir("elementpath"),kP=ir("branding"),NP=ir("resize"),lI=ir("paste_as_text"),PP=ir("sidebar_show"),LP=ir("promotion"),RT=t=>t.options.get("skin")===!1,Qg=t=>t.options.get("menubar")!==!1,BP=t=>{const s=t.options.get("skin_url");if(RT(t))return s;if(s)return t.documentBaseURI.toAbsolute(s);{const i=t.options.get("skin");return TT.baseURL+"/skins/ui/"+i}},$P=t=>t.options.get("line_height_formats").split(" "),$_=t=>{const s=ux(t),i=V(s),u=K(s)&&s.length>0;return!F_(t)&&(u||i||s===!0)},uI=t=>{const s=Jn(9,u=>t.options.get("toolbar"+(u+1))),i=so(s,V);return zn(i.length>0,i)},F_=t=>uI(t).fold(()=>{const s=ux(t);return ke(s,V)&&s.length>0},Ct),dI=t=>cx(t)===L_.bottom,fI=t=>{var s;if(!t.inline)return P.none();const i=(s=CP(t))!==null&&s!==void 0?s:"";if(i.length>0)return fr(Gi(),i);const u=J6(t);return de(u)?P.some(Ze.fromDom(u)):P.none()},dy=t=>t.inline&&fI(t).isSome(),IT=t=>fI(t).getOrThunk(()=>Wi(va(Ze.fromDom(t.getElement())))),hI=t=>t.inline&&!Qg(t)&&!$_(t)&&!F_(t),H_=t=>(t.options.get("toolbar_sticky")||t.inline)&&!dy(t)&&!hI(t),ub=t=>!dy(t)&&t.options.get("ui_mode")==="split",V_=t=>{const s=t.options.get("menu");return Rs(s,i=>({...i,items:i.items}))};var e8=Object.freeze({__proto__:null,get ToolbarMode(){return Hd},get ToolbarLocation(){return L_},register:vP,getSkinUrl:BP,isReadOnly:bP,isSkinDisabled:RT,getHeightOption:xT,getWidthOption:ox,getMinWidthOption:sx,getMinHeightOption:AT,getMaxWidthOption:rx,getMaxHeightOption:ix,getUserStyleFormats:yP,shouldMergeStyleFormats:EP,shouldAutoHideStyleFormats:_P,getLineHeightFormats:$P,getContentLanguages:aI,getRemovedMenuItems:wP,isMenubarEnabled:Qg,isMultipleToolbars:F_,isToolbarEnabled:$_,isToolbarPersist:lx,getMultipleToolbarsOption:uI,getUiContainer:IT,useFixedContainer:dy,isSplitUiMode:ub,getToolbarMode:B_,isDraggableModal:IP,isDistractionFree:hI,isStickyToolbar:H_,getStickyToolbarOffset:TP,getToolbarLocation:cx,isToolbarLocationBottom:dI,getToolbarGroups:ax,getMenus:V_,getMenubar:SP,getToolbar:ux,getFilePickerCallback:xP,getFilePickerTypes:dx,useTypeaheadUrls:OP,getAnchorTop:OT,getAnchorBottom:RP,getFilePickerValidatorHandler:AP,getFontSizeInputDefaultUnit:cI,useStatusBar:DP,useElementPath:MP,promotionEnabled:LP,useBranding:kP,getResize:NP,getPasteAsText:lI,getSidebarShow:PP});const FP="[data-mce-autocompleter]",fx=t=>Od(t,FP),mI=t=>fr(t,FP),HP={setup:(t,s)=>{const i=(m,b)=>{Tn(m,wi(),{raw:b})},u=()=>t.getMenu().bind(ts.getHighlighted);s.on("keydown",m=>{const b=m.which;t.isActive()&&(t.isMenuOpen()?b===13?(u().each(wd),m.preventDefault()):b===40?(u().fold(()=>{t.getMenu().each(ts.highlightFirst)},w=>{i(w,m)}),m.preventDefault(),m.stopImmediatePropagation()):(b===37||b===38||b===39)&&u().each(w=>{i(w,m),m.preventDefault(),m.stopImmediatePropagation()}):(b===13||b===38||b===40)&&t.cancelIfNecessary())}),s.on("NodeChange",m=>{t.isActive()&&!t.isProcessingAction()&&fx(Ze.fromDom(m.element)).isNone()&&t.cancelIfNecessary()})}};var gI;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(gI||(gI={}));var Hm=gI;const DT="tox-menu-nav__js",hx="tox-collection__item",pI="tox-swatch",t8={normal:DT,color:pI},VP="tox-collection__item--enabled",n8="tox-collection__group-heading",UP="tox-collection__item-icon",vI="tox-collection__item-label",o8="tox-collection__item-accessory",zP="tox-collection__item-caret",s8="tox-collection__item-checkmark",MT="tox-collection__item--active",WP="tox-collection__item-container",bI="tox-collection__item-container--column",GP="tox-collection__item-container--row",r8="tox-collection__item-container--align-right",i8="tox-collection__item-container--align-left",ZP="tox-collection__item-container--valign-top",a8="tox-collection__item-container--valign-middle",c8="tox-collection__item-container--valign-bottom",qP=t=>nn(t8,t).getOr(DT),l8=t=>t==="color"?"tox-swatches":"tox-menu",yI=t=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:l8(t),tieredMenu:"tox-tiered-menu"}),fy=t=>{const s=yI(t);return{backgroundMenu:s.backgroundMenu,selectedMenu:s.selectedMenu,menu:s.menu,selectedItem:s.selectedItem,item:qP(t)}},EI=(t,s,i)=>{const u=yI(i);return{tag:"div",classes:qt([[u.menu,`tox-menu-${s}-column`],t?[u.hasIcons]:[]])}},u8=[lb.parts.items({})],mx=(t,s,i)=>{const u=yI(i);return{dom:{tag:"div",classes:qt([[u.tieredMenu]])},markers:fy(i)}},jP=ye([$o("data"),qe("inputAttributes",{}),qe("inputStyles",{}),qe("tag","input"),qe("inputClasses",[]),ze("onSetValue"),qe("styles",{}),qe("eventOrder",{}),da("inputBehaviours",[on,$n]),qe("selectOnFocus",!0)]),YP=t=>Rt([$n.config({onFocus:t.selectOnFocus?s=>{const i=s.element,u=ml(i);i.dom.setSelectionRange(0,u.length)}:ne})]),d8=t=>({...YP(t),...mr(t.inputBehaviours,[on.config({store:{mode:"manual",...t.data.map(s=>({initialValue:s})).getOr({}),getValue:s=>ml(s.element),setValue:(s,i)=>{ml(s.element)!==i&&pu(s.element,i)}},onSetValue:t.onSetValue})])}),KP=t=>({tag:t.tag,attributes:{type:"text",...t.inputAttributes},styles:t.inputStyles,classes:t.inputClasses}),f8=(t,s)=>({uid:t.uid,dom:KP(t),components:[],behaviours:d8(t),eventOrder:t.eventOrder}),hy=hi({name:"Input",configFields:jP(),factory:f8}),XP=fn("refetch-trigger-event"),QP=fn("redirect-menu-item-interaction"),JP="tox-menu__searcher",gx=t=>fr(t.element,`.${JP}`).bind(s=>t.getSystem().getByDom(s).toOptional()),kT=gx,h8=(t,s)=>{on.setValue(t,s.fetchPattern),t.element.dom.selectionStart=s.selectionStart,t.element.dom.selectionEnd=s.selectionEnd},px=t=>{const s=on.getValue(t),i=t.element.dom.selectionStart,u=t.element.dom.selectionEnd;return{fetchPattern:s,selectionStart:i,selectionEnd:u}},m8=(t,s)=>{Gr(s.element,"id").each(i=>eo(t.element,"aria-activedescendant",i))},g8=t=>{const s=(m,b)=>(b.cut(),P.none()),i=(m,b)=>{const w={interactionEvent:b.event,eventType:b.event.raw.type};return Tn(m,QP,w),P.some(!0)},u="searcher-events";return{dom:{tag:"div",classes:[hx]},components:[hy.sketch({inputClasses:[JP,"tox-textfield"],inputAttributes:{...t.placeholder.map(m=>({placeholder:t.i18n(m)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:Rt([to(u,[St(dc(),m=>{Zo(m,XP)}),St(wi(),(m,b)=>{b.event.raw.key==="Escape"&&b.stop()})]),Rn.config({mode:"special",onLeft:s,onRight:s,onSpace:s,onEnter:i,onEscape:i,onUp:i,onDown:i})]),eventOrder:{keydown:[u,Rn.name()]}})]}},vx="tox-collection--results__js",eL=t=>{var s;return t.dom?{...t,dom:{...t.dom,attributes:{...(s=t.dom.attributes)!==null&&s!==void 0?s:{},id:fn("aria-item-search-result-id"),"aria-selected":"false"}}}:t},_I=(t,s)=>i=>{const u=Fo(i,s);return je(u,m=>({dom:t,components:m}))},tL=t=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[lb.parts.items({preprocess:t!=="auto"?_I({tag:"div",classes:["tox-swatches__row"]},t):Ge})]}]}),p8=t=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[lb.parts.items({preprocess:_I({tag:"div",classes:["tox-collection__group"]},t)})]}),bx=(t,s)=>{const i=[];let u=[];return At(t,(m,b)=>{s(m,b)?(u.length>0&&i.push(u),u=[],(Bo(m.dom,"innerHtml")||m.components&&m.components.length>0)&&u.push(m)):u.push(m)}),u.length>0&&i.push(u),je(i,m=>({dom:{tag:"div",classes:["tox-collection__group"]},components:m}))},NT=(t,s,i)=>lb.parts.items({preprocess:u=>{const m=je(u,i);return t!=="auto"&&t>1?_I({tag:"div",classes:["tox-collection__group"]},t)(m):bx(m,(b,w)=>s[w].type==="separator")}}),wI=(t,s,i=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[NT(t,s,Ge)]}),CI=(t,s,i=!0)=>{const u=fn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",vx].concat(t===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:u}},components:[NT(t,s,eL)]}},yx=(t,s,i)=>{const u=fn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[g8({i18n:Fd.translate,placeholder:i.placeholder}),{dom:{tag:"div",classes:[...t===1?["tox-collection--list"]:["tox-collection--grid"],vx],attributes:{id:u}},components:[NT(t,s,eL)]}]}},nL=(t,s=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[lb.parts.items({preprocess:i=>bx(i,(u,m)=>t[m].type==="separator")})]}),Sf=t=>Lo(t,s=>"icon"in s&&s.icon!==void 0),Vm=t=>(console.error(cc(t)),console.log(t),P.none()),v8=(t,s,i,u,m)=>{const b=nL(i);return{value:t,dom:b.dom,components:b.components,items:i}},TI=(t,s,i,u,m)=>{const b=()=>m.menuType!=="searchable"?wI(u,i):m.searchMode.searchMode==="search-with-field"?yx(u,i,m.searchMode):CI(u,i);if(m.menuType==="color"){const w=tL(u);return{value:t,dom:w.dom,components:w.components,items:i}}else if(m.menuType==="normal"&&u==="auto"){const w=wI(u,i);return{value:t,dom:w.dom,components:w.components,items:i}}else if(m.menuType==="normal"||m.menuType==="searchable"){const w=b();return{value:t,dom:w.dom,components:w.components,items:i}}else if(m.menuType==="listpreview"&&u!=="auto"){const w=p8(u);return{value:t,dom:w.dom,components:w.components,items:i}}else return{value:t,dom:EI(s,u,m.menuType),components:u8,items:i}},xi=Ir("type"),SI=Ir("name"),db=Ir("label"),D1=Ir("text"),oL=Ir("title"),Ex=Ir("icon"),U_=Ir("value"),xI=ll("fetch"),b8=ll("getSubmenuItems"),fb=ll("onAction"),AI=ll("onItemAction"),my=_i("onSetup",()=>ne),sL=la("name"),M1=la("text"),wh=la("icon"),_x=la("tooltip"),OI=la("label"),y8=la("shortcut"),E8=xa("select"),PT=Yi("active",!1),rL=Yi("borderless",!1),Ch=Yi("enabled",!0),LT=Yi("primary",!1),RI=t=>qe("columns",t),gy=qe("meta",{}),wx=_i("onAction",ne),py=t=>lu("type",t),II=t=>Br("name","name",$b(()=>fn(`${t}-name`)),Ar),iL=t=>Br("value","value",$b(()=>fn(`${t}-value`)),Pl()),aL=An([xi,M1]),_8=t=>Go("separatormenuitem",aL,t),cL=An([py("autocompleteitem"),PT,Ch,gy,U_,M1,wh]),lL=t=>Go("Autocompleter.Separator",aL,t),uL=t=>Go("Autocompleter.Item",cL,t),z_=[Ch,_x,wh,M1,my],w8=An([xi,fb].concat(z_)),dL=t=>Go("toolbarbutton",w8,t),Cx=[PT].concat(z_),DI=An(Cx.concat([xi,fb])),Tx=t=>Go("ToggleButton",DI,t),MI=[_i("predicate",bt),Ga("scope","node",["node","editor"]),Ga("position","selection",["node","selection","line"])],fL=z_.concat([py("contextformbutton"),LT,fb,ds("original",Ge)]),hL=Cx.concat([py("contextformbutton"),LT,fb,ds("original",Ge)]),C8=z_.concat([py("contextformbutton")]),kI=Cx.concat([py("contextformtogglebutton")]),T8=qr("type",{contextformbutton:fL,contextformtogglebutton:hL}),mL=An([py("contextform"),_i("initValue",ye("")),OI,Wa("commands",T8),Bu("launch",qr("type",{contextformbutton:C8,contextformtogglebutton:kI}))].concat(MI)),gL=t=>Go("ContextForm",mL,t),vy=An([py("contexttoolbar"),Ir("items")].concat(MI)),S8=t=>Go("ContextToolbar",vy,t),NI=[xi,Ir("src"),la("alt"),Pp("classes",[],Ar)],Sx=An(NI),x8=[xi,D1,sL,Pp("classes",["tox-collection__item-label"],Ar)],pL=An(x8),PI=ov(()=>za("type",{cardimage:Sx,cardtext:pL,cardcontainer:vL})),vL=An([xi,lu("direction","horizontal"),lu("align","left"),lu("valign","middle"),Wa("items",PI)]),hb=[Ch,M1,y8,iL("menuitem"),gy],bL=An([xi,OI,Wa("items",PI),my,wx].concat(hb)),A8=t=>Go("cardmenuitem",bL,t),yL=An([xi,PT,wh].concat(hb)),EL=t=>Go("choicemenuitem",yL,t),LI=[xi,Ir("fancytype"),wx],_L=[qe("initData",{})].concat(LI),O8=[xa("select"),Kf("initData",{},[Yi("allowCustomColors",!0),lu("storageKey","default"),cE("colors",Pl())])].concat(LI),wL=qr("fancytype",{inserttable:_L,colorswatch:O8}),BT=t=>Go("fancymenuitem",wL,t),R8=An([xi,my,wx,wh].concat(hb)),I8=t=>Go("menuitem",R8,t),D8=An([xi,b8,my,wh].concat(hb)),CL=t=>Go("nestedmenuitem",D8,t),TL=An([xi,wh,PT,my,fb].concat(hb)),M8=t=>Go("togglemenuitem",TL,t),BI=(t,s,i)=>{const u=fi(t.element,"."+i);if(u.length>0){const m=as(u,b=>{const w=b.dom.getBoundingClientRect().top,O=u[0].dom.getBoundingClientRect().top;return Math.abs(w-O)>s}).getOr(u.length);return P.some({numColumns:m,numRows:Math.ceil(u.length/m)})}else return P.none()},SL=(t,s)=>Rt([to(t,s)]),$T={namedEvents:SL,unnamedEvents:t=>SL(fn("unnamed-events"),t)},FT=fn("tooltip.exclusive"),HT=fn("tooltip.show"),W_=fn("tooltip.hide"),$I=(t,s,i)=>{t.getSystem().broadcastOn([FT],{})};var N8=Object.freeze({__proto__:null,hideAllExclusive:$I,setComponents:(t,s,i,u)=>{i.getTooltip().each(m=>{m.getSystem().isConnected()&&Kn.set(m,u)})}}),xL=Object.freeze({__proto__:null,events:(t,s)=>{const i=m=>{s.getTooltip().each(b=>{ph(b),t.onHide(m,b),s.clearTooltip()}),s.clearTimer()},u=m=>{if(!s.isShowing()){$I(m);const b=t.lazySink(m).getOrDie(),w=m.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:Ms(t.mode==="normal"?[St(yd(),O=>{Zo(m,HT)}),St(Qf(),O=>{Zo(m,W_)})]:[]),behaviours:Rt([Kn.config({})])});s.setTooltip(w),gh(b,w),t.onShow(m,w),As.position(b,w,{anchor:t.anchor(m)})}};return Ms(qt([[St(HT,m=>{s.resetTimer(()=>{u(m)},t.delay)}),St(W_,m=>{s.resetTimer(()=>{i(m)},t.delay)}),St(cf(),(m,b)=>{const w=b;w.universal||uo(w.channels,FT)&&i(m)}),qa(m=>{i(m)})],t.mode==="normal"?[St(af(),m=>{Zo(m,HT)}),St(mv(),m=>{Zo(m,W_)}),St(yd(),m=>{Zo(m,HT)}),St(Qf(),m=>{Zo(m,W_)})]:[St(hE(),(m,b)=>{Zo(m,HT)}),St(wg(),m=>{Zo(m,W_)})]]))}}),AL=[_t("lazySink"),_t("tooltipDom"),qe("exclusive",!0),qe("tooltipComponents",[]),qe("delay",300),Ga("mode","normal",["normal","follow-highlight"]),qe("anchor",t=>({type:"hotspot",hotspot:t,layouts:{onLtr:ye([Xi,vs,Li,gc,li,jc]),onRtl:ye([Xi,vs,Li,gc,li,jc])}})),ze("onHide"),ze("onShow")],B8=Object.freeze({__proto__:null,init:()=>{const t=ks(),s=ks(),i=()=>{t.on(clearTimeout)},u=(b,w)=>{i(),t.set(setTimeout(b,w))},m=ye("not-implemented");return ja({getTooltip:s.get,isShowing:s.isSet,setTooltip:s.set,clearTooltip:s.clear,clearTimer:i,resetTimer:u,readState:m})}});const OL=Bi({fields:AL,name:"tooltipping",active:xL,state:B8,apis:N8}),$8=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),RL="silver.readonly",IL=An([lc("readonly")]),VT=(t,s)=>{const u=t.mainUi.outerContainer.element,m=[t.mainUi.mothership,...t.uiMotherships];s&&At(m,b=>{b.broadcastOn([Dm()],{target:u})}),At(m,b=>{b.broadcastOn([RL],{readonly:s})})},DL=(t,s)=>{t.on("init",()=>{t.mode.isReadOnly()&&VT(s,!0)}),t.on("SwitchMode",()=>VT(s,t.mode.isReadOnly())),bP(t)&&t.mode.set("readonly")},fa=()=>Ul.config({channels:{[RL]:{schema:IL,onReceive:(t,s)=>{Gn.set(t,s.readonly)}}}}),Th={item:t=>Gn.config({disabled:t,disableClass:"tox-collection__item--state-disabled"}),button:t=>Gn.config({disabled:t}),splitButton:t=>Gn.config({disabled:t,disableClass:"tox-tbtn--disabled"}),toolbarButton:t=>Gn.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},G_=(t,s)=>{const i=t.getApi(s);return u=>{u(i)}},mb=(t,s)=>or(i=>{G_(t,i)(m=>{const b=t.onSetup(m);Ee(b)&&s.set(b)})}),by=(t,s)=>qa(i=>G_(t,i)(s.get())),F8=(t,s)=>fl((i,u)=>{G_(t,i)(t.onAction),!t.triggersSubmenu&&s===Hm.CLOSE_ON_EXECUTE&&(i.getSystem().isConnected()&&Zo(i,tm()),u.stop())}),ML={[xs()]:["disabling","alloy.base.behaviour","toggling","item-events"]},Z_=Au,q_=(t,s,i,u)=>{const m=Pn(ne);return{type:"item",dom:s.dom,components:Z_(s.optComponents),data:t.data,eventOrder:ML,hasSubmenu:t.triggersSubmenu,itemBehaviours:Rt([to("item-events",[F8(t,i),mb(t,m),by(t,m)]),Th.item(()=>!t.enabled||u.isDisabled()),fa(),Kn.config({})].concat(t.itemBehaviours))}},yy=t=>({value:t.value,meta:{text:t.text.getOr(""),...t.meta}}),kL=t=>{const s=I1.os.isMacOS()||I1.os.isiOS(),m=s?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},b=t.split("+"),w=je(b,O=>{const M=O.toLowerCase().trim();return Bo(m,M)?m[M]:O});return s?w.join(""):w.join("+")},xx=(t,s,i=[UP])=>Tf(t,{tag:"div",classes:i},s),NL=t=>({dom:{tag:"div",classes:[vI]},components:[sr(Fd.translate(t))]}),PL=(t,s)=>({dom:{tag:"div",classes:s,innerHtml:t}}),H8=(t,s)=>({dom:{tag:"div",classes:[vI]},components:[{dom:{tag:t.tag,styles:t.styles},components:[sr(Fd.translate(s))]}]}),V8=t=>({dom:{tag:"div",classes:[o8]},components:[sr(kL(t))]}),LL=t=>xx("checkmark",t,[s8]),Ey=t=>xx("chevron-right",t,[zP]),FI=t=>xx("chevron-down",t,[zP]),U8=(t,s)=>{const i=t.direction==="vertical"?bI:GP,u=t.align==="left"?i8:r8;return{dom:{tag:"div",classes:[WP,i,u,(()=>{switch(t.valign){case"top":return ZP;case"middle":return a8;case"bottom":return c8}})()]},components:s}},Ax=(t,s,i)=>({dom:{tag:"img",classes:s,attributes:{src:t,alt:i.getOr("")}}}),Um=(t,s,i)=>{const u="custom",m="remove",b=t.ariaLabel,w=t.value,O=t.iconContent.map(B=>X6(B,s.icons,i));return{dom:(()=>{const B=pI,z=O.getOr(""),J={tag:"div",attributes:b.map(oe=>({title:s.translate(oe)})).getOr({}),classes:[B]};return w===u?{...J,tag:"button",classes:[...J.classes,"tox-swatches__picker-btn"],innerHtml:z}:w===m?{...J,classes:[...J.classes,"tox-swatch--remove"],innerHtml:z}:de(w)?{...J,attributes:{...J.attributes,"data-mce-color":w},styles:{"background-color":w},innerHtml:z}:J})(),optComponents:[]}},BL=t=>{const s=t.map(i=>({attributes:{title:Fd.translate(i)}})).getOr({});return{tag:"div",classes:[DT,hx],...s}},z8=(t,s,i,u)=>{const m={tag:"div",classes:[UP]},b=J=>Tf(J,m,s.icons,u),w=()=>P.some({dom:m}),O=i?t.iconContent.map(b).orThunk(w):P.none(),M=t.checkMark,B=P.from(t.meta).fold(()=>NL,J=>Bo(J,"style")?xt(H8,J.style):NL),z=t.htmlContent.fold(()=>t.textContent.map(B),J=>P.some(PL(J,[vI])));return{dom:BL(t.ariaLabel),optComponents:[O,z,t.shortcutContent.map(V8),M,t.caret]}},UT=(t,s,i,u=P.none())=>t.presets==="color"?Um(t,s,u):z8(t,s,i,u),Ox=(t,s)=>nn(t,"tooltipWorker").map(i=>[OL.config({lazySink:s.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:u=>({type:"submenu",item:u,overrides:{maxHeightFunction:fh}}),mode:"follow-highlight",onShow:(u,m)=>{i(b=>{OL.setComponents(u,[Ad({element:Ze.fromDom(b)})])})}})]).getOr([]),W8=t=>CT.DOM.encode(t),$L=(t,s)=>{const i=Fd.translate(t),u=W8(i);if(s.length>0){const m=new RegExp($8(s),"gi");return u.replace(m,b=>`<span class="tox-autocompleter-highlight">${b}</span>`)}else return u},FL=(t,s,i,u,m,b,w,O=!0)=>{const M=UT({presets:u,textContent:P.none(),htmlContent:i?t.text.map(B=>$L(B,s)):P.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:P.none(),checkMark:P.none(),caret:P.none(),value:t.value},w.providers,O,t.icon);return q_({data:yy(t),enabled:t.enabled,getApi:ye({}),onAction:B=>m(t.value,t.meta),onSetup:ye(ne),triggersSubmenu:!1,itemBehaviours:Ox(t.meta,w)},M,b,w.providers)},HL=(t,s)=>je(t,i=>{switch(i.type){case"cardcontainer":return U8(i,HL(i.items,s));case"cardimage":return Ax(i.src,i.classes,i.alt);case"cardtext":const m=i.name.exists(b=>uo(s.cardText.highlightOn,b))?P.from(s.cardText.matchText).getOr(""):"";return PL($L(i.text,m),i.classes)}}),G8=(t,s,i,u)=>{const m=w=>({isEnabled:()=>!Gn.isDisabled(w),setEnabled:O=>{Gn.set(w,!O),At(fi(w.element,"*"),M=>{w.getSystem().getByDom(M).each(B=>{B.hasConfigured(Gn)&&Gn.set(B,!O)})})}}),b={dom:BL(t.label),optComponents:[P.some({dom:{tag:"div",classes:[WP,GP]},components:HL(t.items,u)})]};return q_({data:yy({text:P.none(),...t}),enabled:t.enabled,getApi:m,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:P.from(u.itemBehaviours).getOr([])},b,s,i.providers)},Z8=(t,s,i,u,m,b,w,O=!0)=>{const M=z=>({setActive:j=>{vo.set(z,j)},isActive:()=>vo.isOn(z),isEnabled:()=>!Gn.isDisabled(z),setEnabled:j=>Gn.set(z,!j)}),B=UT({presets:i,textContent:s?t.text:P.none(),htmlContent:P.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:s?t.shortcut:P.none(),checkMark:s?P.some(LL(w.icons)):P.none(),caret:P.none(),value:t.value},w,O);return Xs(q_({data:yy(t),enabled:t.enabled,getApi:M,onAction:z=>u(t.value),onSetup:z=>(z.setActive(m),ne),triggersSubmenu:!1,itemBehaviours:[]},B,b,w),{toggling:{toggleClass:VP,toggleOnExecute:!1,selected:t.active,exclusive:!0}})},wu=WC(JR(),ex()),zm=t=>({value:Rx(t)}),VL=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,HI=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,zT=t=>VL.test(t)||HI.test(t),Rx=t=>Sp(t,"#").toUpperCase(),q8=t=>zT(t)?P.some({value:Rx(t)}):P.none(),j8=t=>({value:t.value.replace(VL,(i,u,m,b)=>u+u+m+m+b+b)}),WT=t=>{const s=j8(t),i=HI.exec(s.value);return i===null?["FFFFFF","FF","FF","FF"]:i},j_=t=>{const s=t.toString(16);return(s.length===1?"0"+s:s).toUpperCase()},GT=t=>{const s=j_(t.red)+j_(t.green)+j_(t.blue);return zm(s)},k1=Math.min,UL=Math.max,Ix=Math.round,ed=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,VI=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,El=(t,s,i,u)=>({red:t,green:s,blue:i,alpha:u}),UI=t=>{const s=parseInt(t,10);return s.toString()===t&&s>=0&&s<=255},Vs=t=>{let s,i,u;const m=(t.hue||0)%360;let b=t.saturation/100,w=t.value/100;if(b=UL(0,k1(b,1)),w=UL(0,k1(w,1)),b===0)return s=i=u=Ix(255*w),El(s,i,u,1);const O=m/60,M=w*b,B=M*(1-Math.abs(O%2-1)),z=w-M;switch(Math.floor(O)){case 0:s=M,i=B,u=0;break;case 1:s=B,i=M,u=0;break;case 2:s=0,i=M,u=B;break;case 3:s=0,i=B,u=M;break;case 4:s=B,i=0,u=M;break;case 5:s=M,i=0,u=B;break;default:s=i=u=0}return s=Ix(255*(s+z)),i=Ix(255*(i+z)),u=Ix(255*(u+z)),El(s,i,u,1)},Wm=t=>{const s=WT(t),i=parseInt(s[1],16),u=parseInt(s[2],16),m=parseInt(s[3],16);return El(i,u,m,1)},ZT=(t,s,i,u)=>{const m=parseInt(t,10),b=parseInt(s,10),w=parseInt(i,10),O=parseFloat(u);return El(m,b,w,O)},Dx=t=>{if(t==="transparent")return P.some(El(0,0,0,0));const s=ed.exec(t);if(s!==null)return P.some(ZT(s[1],s[2],s[3],"1"));const i=VI.exec(t);return i!==null?P.some(ZT(i[1],i[2],i[3],i[4])):P.none()},Mx=t=>`rgba(${t.red},${t.green},${t.blue},${t.alpha})`,kx=El(255,0,0,1),Y8=t=>{t.dispatch("SkinLoaded")},zI=(t,s)=>{t.dispatch("SkinLoadError",s)},K8=t=>{t.dispatch("ResizeEditor")},Nx=(t,s)=>{t.dispatch("ResizeContent",s)},zL=(t,s)=>{t.dispatch("ScrollContent",s)},Px=(t,s)=>{t.dispatch("TextColorChange",s)},WL=(t,s)=>{t.dispatch("AfterProgressState",{state:s})},Lx=(t,s)=>t.dispatch("ResolveName",{name:s.nodeName.toLowerCase(),target:s}),X8=(t,s)=>{t.dispatch("ToggleToolbarDrawer",{state:s})};var _y=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const GL={},Q8=(t,s=10)=>{const i=_y.getItem(t),u=V(i)?JSON.parse(i):[],b=(B=>s-B.length<0?B.slice(0,s):B)(u),w=B=>{Ve(b,B).each(O),b.unshift(B),b.length>s&&b.pop(),_y.setItem(t,JSON.stringify(b))},O=B=>{b.splice(B,1)};return{add:w,state:()=>b.slice(0)}},ZL=t=>nn(GL,t).getOrThunk(()=>{const s=`tinymce-custom-colors-${t}`,i=_y.getItem(s);if(le(i)){const m=_y.getItem("tinymce-custom-colors");_y.setItem(s,de(m)?m:"[]")}const u=Q8(s,10);return GL[t]=u,u}),J8=t=>je(ZL(t).state(),s=>({type:"choiceitem",text:s,icon:"checkmark",value:s})),qL=(t,s)=>{ZL(t).add(s)},qT=(t,s,i)=>({hue:t,saturation:s,value:i}),WI=t=>{let s=0,i=0,u=0;const m=t.red/255,b=t.green/255,w=t.blue/255,O=Math.min(m,Math.min(b,w)),M=Math.max(m,Math.max(b,w));if(O===M)return u=O,qT(0,0,u*100);const B=m===O?b-w:w===O?m-b:w-m;return s=m===O?3:w===O?1:5,s=60*(s-B/(M-O)),i=(M-O)/M,u=M,qT(Math.round(s),Math.round(i*100),Math.round(u*100))},e7=t=>WI(Wm(t)),GI=t=>GT(Vs(t)),t7=t=>q8(t).orThunk(()=>Dx(t).map(GT)).getOrThunk(()=>{const s=document.createElement("canvas");s.height=1,s.width=1;const i=s.getContext("2d");i.clearRect(0,0,s.width,s.height),i.fillStyle="#FFFFFF",i.fillStyle=t,i.fillRect(0,0,1,1);const u=i.getImageData(0,0,1,1).data,m=u[0],b=u[1],w=u[2],O=u[3];return GT(El(m,b,w,O))}),Bx="forecolor",ZI="hilitecolor",qI=5,jL=t=>Math.max(qI,Math.ceil(Math.sqrt(t))),YL=(t,s)=>{const i=jL(s),u=Jg("color_cols")(t);return qI===i?u:i},n7=t=>{const s=[];for(let i=0;i<t.length;i+=2)s.push({text:t[i+1],value:"#"+t7(t[i]).value,icon:"checkmark",type:"choiceitem"});return s},Jg=t=>s=>s.options.get(t),$x="#000000",Gm=t=>{const s=t.options.register,i=u=>ke(u,V)?{value:n7(u),valid:!0}:{valid:!1,message:"Must be an array of strings."};s("color_map",{processor:i,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),s("color_map_background",{processor:i}),s("color_map_foreground",{processor:i}),s("color_cols",{processor:"number",default:jL(Y_(t,"default").length)}),s("color_cols_foreground",{processor:"number",default:YL(t,Y_(t,Bx).length)}),s("color_cols_background",{processor:"number",default:YL(t,Y_(t,ZI).length)}),s("custom_colors",{processor:"boolean",default:!0}),s("color_default_foreground",{processor:"string",default:$x}),s("color_default_background",{processor:"string",default:$x})},o7=(t,s)=>s===Bx?Jg("color_cols_foreground")(t):s===ZI?Jg("color_cols_background")(t):Jg("color_cols")(t),Fx=(t,s)=>{const i=o7(t,s);return i>0?i:qI},jI=Jg("custom_colors"),Y_=(t,s)=>s===Bx&&t.options.isSet("color_map_foreground")?Jg("color_map_foreground")(t):s===ZI&&t.options.isSet("color_map_background")?Jg("color_map_background")(t):Jg("color_map")(t),KL=Jg("color_default_foreground"),XL=Jg("color_default_background"),QL="rgba(0, 0, 0, 0)",s7=t=>Dx(t).exists(s=>s.alpha!==0),r7=t=>cv(t,s=>{if(Es(s)){const i=me(s,"background-color");return zn(s7(i),i)}else return P.none()}).getOr(QL),JL=(t,s)=>{const i=Ze.fromDom(t.selection.getStart()),u=s==="hilitecolor"?r7(i):me(i,"color");return Dx(u).map(m=>"#"+GT(m).value)},i7=(t,s,i)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.apply(s,{value:i}),t.nodeChanged()})},e4=(t,s)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.remove(s,{value:null},void 0,!0),t.nodeChanged()})},t4=t=>{t.addCommand("mceApplyTextcolor",(s,i)=>{i7(t,s,i)}),t.addCommand("mceRemoveTextcolor",s=>{e4(t,s)})},YI=t=>{const s="choiceitem",i={type:s,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return t?[i,{type:s,text:"Custom color",icon:"color-picker",value:"custom"}]:[i]},KI=(t,s,i,u)=>{i==="custom"?JI(t)(b=>{b.each(w=>{qL(s,w),t.execCommand("mceApplyTextcolor",s,w),u(w)})},JL(t,s).getOr($x)):i==="remove"?(u(""),t.execCommand("mceRemoveTextcolor",s)):(u(i),t.execCommand("mceApplyTextcolor",s,i))},n4=(t,s,i)=>t.concat(J8(s).concat(YI(i))),o4=(t,s,i)=>u=>{u(n4(t,s,i))},gb=(t,s,i)=>{const u=s==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(u,i)},s4=(t,s)=>i=>{const u=JL(t,s);return Ec(u,i.toUpperCase())},XI=(t,s,i,u,m)=>{t.ui.registry.addSplitButton(s,{tooltip:u,presets:"color",icon:s==="forecolor"?"text-color":"highlight-bg-color",select:s4(t,i),columns:Fx(t,i),fetch:o4(Y_(t,i),i,jI(t)),onAction:b=>{KI(t,i,m.get(),ne)},onItemAction:(b,w)=>{KI(t,i,w,O=>{m.set(O),Px(t,{name:s,color:O})})},onSetup:b=>{gb(b,s,m.get());const w=O=>{O.name===s&&gb(b,O.name,O.color)};return t.on("TextColorChange",w),()=>{t.off("TextColorChange",w)}}})},QI=(t,s,i,u,m)=>{t.ui.registry.addNestedMenuItem(s,{text:u,icon:s==="forecolor"?"text-color":"highlight-bg-color",onSetup:b=>(gb(b,s,m.get()),ne),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:s4(t,i),initData:{storageKey:i},onAction:b=>{KI(t,i,b.value,w=>{m.set(w),Px(t,{name:s,color:w})})}}]})},JI=t=>(s,i)=>{let u=!1;const m=O=>{const B=O.getData().colorpicker;u?(s(P.from(B)),O.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",B]))},b=(O,M)=>{M.name==="hex-valid"&&(u=M.value)},w={colorpicker:i};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:w,onAction:b,onSubmit:m,onClose:ne,onCancel:()=>{s(P.none())}})},eD=t=>{t4(t);const s=KL(t),i=XL(t),u=Pn(s),m=Pn(i);XI(t,"forecolor","forecolor","Text color",u),XI(t,"backcolor","hilitecolor","Background color",m),QI(t,"forecolor","forecolor","Text color",u),QI(t,"backcolor","hilitecolor","Background color",m)},jT=(t,s,i,u,m,b,w,O)=>{const M=Sf(s),z=tD(s,i,u,m!=="color"?"normal":"color",b,w,O);return TI(t,M,z,u,{menuType:m})},tD=(t,s,i,u,m,b,w)=>Au(je(t,O=>O.type==="choiceitem"?EL(O).fold(Vm,M=>P.some(Z8(M,i===1,u,s,b(M.value),m,w,Sf(t)))):P.none())),YT=(t,s)=>{const i=fy(s);return t===1?{mode:"menu",moveOnTab:!0}:t==="auto"?{mode:"grid",selector:"."+i.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(s==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:m=>s==="color"?fr(m.element,"[aria-checked=true]"):P.none()}},a7=(t,s)=>t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:s==="color"?".tox-swatches__row":".tox-collection__group",cell:s==="color"?`.${pI}`:`.${hx}`}},r4=(t,s)=>{const i=c7(t,s),u=s.colorinput.getColorCols(t.initData.storageKey),m="color",w={...jT(fn("menu-value"),i,O=>{t.onAction({value:O})},u,m,Hm.CLOSE_ON_EXECUTE,t.select.getOr(bt),s.shared.providers),markers:fy(m),movement:YT(u,m)};return{type:"widget",data:{value:fn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[wu.widget(lb.sketch(w))]}},c7=(t,s)=>{const i=t.initData.allowCustomColors&&s.colorinput.hasCustomColors();return t.initData.colors.fold(()=>n4(s.colorinput.getColors(t.initData.storageKey),t.initData.storageKey,i),u=>u.concat(YI(i)))},i4=fn("cell-over"),a4=fn("cell-execute"),c4=(t,s,i)=>{const u=w=>Tn(w,i4,{row:t,col:s}),m=w=>Tn(w,a4,{row:t,col:s}),b=(w,O)=>{O.stop(),m(w)};return Da({dom:{tag:"div",attributes:{role:"button",["aria-labelledby"]:i}},behaviours:Rt([to("insert-table-picker-cell",[St(yd(),$n.focus),St(xs(),m),St(Gc(),b),St(Bp(),b)]),vo.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),$n.config({onFocus:u})])})},l4=(t,s,i)=>{const u=[];for(let m=0;m<s;m++){const b=[];for(let w=0;w<i;w++)b.push(c4(m,w,t));u.push(b)}return u},u4=(t,s,i,u,m)=>{for(let b=0;b<u;b++)for(let w=0;w<m;w++)vo.set(t[b][w],b<=s&&w<=i)},l7=t=>lt(t,s=>je(s,Rc)),d4=(t,s)=>sr(`${s}x${t}`),u7={inserttable:t=>{const u=fn("size-label"),m=l4(u,10,10),b=d4(0,0),w=Oo({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:u}},components:[b],behaviours:Rt([Kn.config({})])});return{type:"widget",data:{value:fn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[wu.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:l7(m).concat(w.asSpec()),behaviours:Rt([to("insert-table-picker",[or(O=>{Kn.set(w.get(O),[b])}),Tg(i4,(O,M,B)=>{const{row:z,col:j}=B.event;u4(m,z,j,10,10),Kn.set(w.get(O),[d4(z+1,j+1)])}),Tg(a4,(O,M,B)=>{const{row:z,col:j}=B.event;t.onAction({numRows:z+1,numColumns:j+1}),Zo(O,tm())})]),Rn.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:r4},d7=(t,s)=>nn(u7,t.fancytype).map(i=>i(t,s)),f7=(t,s,i,u=!0,m=!1)=>{const b=m?FI(i.icons):Ey(i.icons),w=M=>({isEnabled:()=>!Gn.isDisabled(M),setEnabled:B=>Gn.set(M,!B),setIconFill:(B,z)=>{fr(M.element,`svg path[id="${B}"], rect[id="${B}"]`).each(j=>{eo(j,"fill",z)})}}),O=UT({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:P.none(),ariaLabel:t.text,caret:P.some(b),checkMark:P.none(),shortcutContent:t.shortcut},i,u);return q_({data:yy(t),getApi:w,enabled:t.enabled,onAction:ne,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},O,s,i)},h7=(t,s,i,u=!0)=>{const m=w=>({isEnabled:()=>!Gn.isDisabled(w),setEnabled:O=>Gn.set(w,!O)}),b=UT({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:P.none(),ariaLabel:t.text,caret:P.none(),checkMark:P.none(),shortcutContent:t.shortcut},i,u);return q_({data:yy(t),getApi:m,enabled:t.enabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},b,s,i)},m7=t=>({type:"separator",dom:{tag:"div",classes:[hx,n8]},components:t.text.map(sr).toArray()}),g7=(t,s,i,u=!0)=>{const m=w=>({setActive:O=>{vo.set(w,O)},isActive:()=>vo.isOn(w),isEnabled:()=>!Gn.isDisabled(w),setEnabled:O=>Gn.set(w,!O)}),b=UT({iconContent:t.icon,textContent:t.text,htmlContent:P.none(),ariaLabel:t.text,checkMark:P.some(LL(i.icons)),caret:P.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},i,u);return Xs(q_({data:yy(t),enabled:t.enabled,getApi:m,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},b,s,i),{toggling:{toggleClass:VP,toggleOnExecute:!1,selected:t.active}})},p7=FL,f4=m7,h4=h7,v7=f7,b7=g7,y7=d7,E7=G8;var m4=Object.freeze({__proto__:null,getCoupled:(t,s,i,u)=>i.getOrCreate(t,s,u),getExistingCoupled:(t,s,i,u)=>i.getExisting(t,s,u)}),_7=[Bl("others",wr(co.value,Pl()))],w7=Object.freeze({__proto__:null,init:()=>{const t={},s=(b,w)=>{if(js(b.others).length===0)throw new Error("Cannot find any known coupled components");return nn(t,w)},i=(b,w,O)=>s(w,O).getOrThunk(()=>{const B=nn(w.others,O).getOrDie("No information found for coupled component: "+O)(b),z=b.getSystem().build(B);return t[O]=z,z}),u=(b,w,O)=>s(w,O).orThunk(()=>(nn(w.others,O).getOrDie("No information found for coupled component: "+O),P.none())),m=ye({});return ja({readState:m,getExisting:u,getOrCreate:i})}});const Kr=Bi({fields:_7,name:"coupling",apis:m4,state:w7}),oD=t=>{let s=P.none(),i=[];const u=B=>oD(z=>{m(j=>{z(B(j))})}),m=B=>{w()?M(B):i.push(B)},b=B=>{w()||(s=P.some(B),O(i),i=[])},w=()=>s.isSome(),O=B=>{At(B,M)},M=B=>{s.each(z=>{setTimeout(()=>{B(z)},0)})};return t(b),{get:m,map:u,isReady:w}},sD={nu:oD,pure:t=>oD(s=>{s(t)})},g4=t=>{setTimeout(()=>{throw t},0)},wy=t=>{const s=M=>{t().then(M,g4)};return{map:M=>wy(()=>t().then(M)),bind:M=>wy(()=>t().then(B=>M(B).toPromise())),anonBind:M=>wy(()=>t().then(()=>M.toPromise())),toLazy:()=>sD.nu(s),toCached:()=>{let M=null;return wy(()=>(M===null&&(M=t()),M))},toPromise:t,get:s}},Mc={nu:t=>wy(()=>new Promise(t)),pure:t=>wy(()=>Promise.resolve(t))},p4=ye("sink"),v4=ye(Xu({name:p4(),overrides:ye({dom:{tag:"div"},behaviours:Rt([As.config({useFixed:Ct})]),events:Ms([sm(wi()),sm(ii()),sm(Gc())])})})),b4=(t,s)=>{const i=t.getHotspot(s).getOr(s),u="hotspot",m=t.getAnchorOverrides();return t.layouts.fold(()=>({type:u,hotspot:i,overrides:m}),b=>({type:u,hotspot:i,overrides:m,layouts:b}))},T7=(t,s,i)=>{const u=t.fetch;return u(i).map(s)},S7=(t,s,i,u,m,b,w)=>{const O=T7(t,s,u),M=KT(u,t);return O.map(B=>B.bind(z=>P.from(ly.sketch({...b.menu(),uid:hl(""),data:z,highlightOnOpen:w,onOpenMenu:(j,J)=>{const oe=M().getOrDie();As.position(oe,J,{anchor:i}),Ao.decloak(m)},onOpenSubmenu:(j,J,oe)=>{const pe=M().getOrDie();As.position(pe,oe,{anchor:{type:"submenu",item:J}}),Ao.decloak(m)},onRepositionMenu:(j,J,oe)=>{const pe=M().getOrDie();As.position(pe,J,{anchor:i}),At(oe,Oe=>{As.position(pe,Oe.triggeredMenu,{anchor:{type:"submenu",item:Oe.triggeringItem}})})},onEscape:()=>($n.focus(u),Ao.close(m),P.some(!0))}))))},Hx=(t,s,i,u,m,b,w)=>{const O=b4(t,i);return S7(t,s,O,i,u,m,w).map(B=>(B.fold(()=>{Ao.isOpen(u)&&Ao.close(u)},z=>{Ao.cloak(u),Ao.open(u,z),b(u)}),u))},x7=(t,s,i,u,m,b,w)=>(Ao.close(u),Mc.pure(u)),rD=(t,s,i,u,m,b)=>{const w=Kr.getCoupled(i,"sandbox");return(Ao.isOpen(w)?x7:Hx)(t,s,i,w,u,m,b)},A7=(t,s,i)=>{const u=ko.getCurrent(s).getOr(s),m=nr(t.element);i?Q(u.element,"min-width",m+"px"):$s(u.element,m)},KT=(t,s)=>t.getSystem().getByUid(s.uid+"-"+p4()).map(i=>()=>co.value(i)).getOrThunk(()=>s.lazySink.fold(()=>()=>co.error(new Error("No internal sink is specified, nor could an external sink be found")),i=>()=>i(t))),Vx=t=>{Ao.getState(t).each(s=>{ly.repositionMenus(s)})},XT=(t,s,i)=>{const u=RE(),m=(O,M)=>{const B=b4(t,s);u.link(s.element),t.matchWidth&&A7(B.hotspot,M,t.useMinWidth),t.onOpen(B,O,M),i!==void 0&&i.onOpen!==void 0&&i.onOpen(O,M)},b=(O,M)=>{u.unlink(s.element),i!==void 0&&i.onClose!==void 0&&i.onClose(O,M)},w=KT(s,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:u.id,role:"listbox"}},behaviours:Pd.augment(t.sandboxBehaviours,[on.config({store:{mode:"memory",initialValue:s}}),Ao.config({onOpen:m,onClose:b,isPartOf:(O,M,B)=>mm(M,B)||mm(s,B),getAttachPoint:()=>w().getOrDie()}),ko.config({find:O=>Ao.getState(O).bind(M=>ko.getCurrent(M))}),Ul.config({channels:{...q0({isExtraPart:bt}),..._1({doReposition:Vx})}})])}},iD=t=>{const s=Kr.getCoupled(t,"sandbox");Vx(s)},aD=()=>[qe("sandboxClasses",[]),Pd.field("sandboxBehaviours",[ko,Ul,Ao,on])],O7=ye([_t("dom"),_t("fetch"),ze("onOpen"),rr("onExecute"),qe("getHotspot",P.some),qe("getAnchorOverrides",ye({})),Yu(),da("dropdownBehaviours",[vo,Kr,Rn,$n]),_t("toggleClass"),qe("eventOrder",{}),$o("lazySink"),qe("matchWidth",!1),qe("useMinWidth",!1),$o("role")].concat(aD())),cD=ye([Ld({schema:[Gu(),qe("fakeFocus",!1)],name:"menu",defaults:t=>({onExecute:t.onExecute})}),v4()]),lD=(t,s,i,u)=>{const m=z=>nn(t.dom,"attributes").bind(j=>nn(j,z)),b=z=>{Ao.getState(z).each(j=>{ly.highlightPrimary(j)})},w=(z,j,J)=>rD(t,Ge,z,u,j,J),O=z=>{w(z,b,Yl.HighlightMenuAndItem).get(ne)},M={expand:z=>{vo.isOn(z)||w(z,ne,Yl.HighlightNone).get(ne)},open:z=>{vo.isOn(z)||w(z,ne,Yl.HighlightMenuAndItem).get(ne)},refetch:z=>Kr.getExistingCoupled(z,"sandbox").fold(()=>w(z,ne,Yl.HighlightMenuAndItem).map(ne),J=>Hx(t,Ge,z,J,u,ne,Yl.HighlightMenuAndItem).map(ne)),isOpen:vo.isOn,close:z=>{vo.isOn(z)&&w(z,ne,Yl.HighlightMenuAndItem).get(ne)},repositionMenus:z=>{vo.isOn(z)&&iD(z)}},B=(z,j)=>(wd(z),P.some(!0));return{uid:t.uid,dom:t.dom,components:s,behaviours:mr(t.dropdownBehaviours,[vo.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),Kr.config({others:{sandbox:z=>XT(t,z,{onOpen:()=>vo.on(z),onClose:()=>vo.off(z)})}}),Rn.config({mode:"special",onSpace:B,onEnter:B,onDown:(z,j)=>{if(Cu.isOpen(z)){const J=Kr.getCoupled(z,"sandbox");b(J)}else Cu.open(z);return P.some(!0)},onEscape:(z,j)=>Cu.isOpen(z)?(Cu.close(z),P.some(!0)):P.none()}),$n.config({})]),events:J2(P.some(O)),eventOrder:{...t.eventOrder,[xs()]:["disabling","toggling","alloy.base.behaviour"]},apis:M,domModification:{attributes:{"aria-haspopup":"true",...t.role.fold(()=>({}),z=>({role:z})),...t.dom.tag==="button"?{type:m("type").getOr("button")}:{}}}}},Cu=Yr({name:"Dropdown",configFields:O7(),partFields:cD(),factory:lD,apis:{open:(t,s)=>t.open(s),refetch:(t,s)=>t.refetch(s),expand:(t,s)=>t.expand(s),close:(t,s)=>t.close(s),isOpen:(t,s)=>t.isOpen(s),repositionMenus:(t,s)=>t.repositionMenus(s)}}),y4=t=>{switch(t.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:t}}},R7=t=>{const s=on.getValue(t),i=gx(t).map(px);Cu.refetch(s).get(()=>{const u=Kr.getCoupled(s,"sandbox");i.each(m=>gx(u).each(b=>h8(b,m)))})},I7=(t,s)=>{D7(t).each(i=>{Hp(t,i.element,s.event.eventType,s.event.interactionEvent)})},D7=t=>Ao.getState(t).bind(ts.getHighlighted).bind(ts.getHighlighted),M7=t=>Ci(t.element,vx)?P.some(t.element):fr(t.element,"."+vx),E4=(t,s,i)=>{kT(t).each(u=>{m8(u,i),M7(s).each(b=>{Gr(b,"id").each(w=>eo(u.element,"aria-controls",w))})}),eo(i.element,"aria-selected","true")},k7=(t,s,i)=>{eo(i.element,"aria-selected","false")},N7=t=>{kT(t).each(s=>$n.focus(s))},P7=t=>Kr.getExistingCoupled(t,"sandbox").bind(gx).map(px).map(i=>i.fetchPattern).getOr("");var Ux;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(Ux||(Ux={}));const L7=(t,s,i,u,m)=>{const b=i.shared.providers,w=O=>m?{...O,shortcut:P.none(),icon:O.text.isSome()?P.none():O.icon}:O;switch(t.type){case"menuitem":return I8(t).fold(Vm,O=>P.some(h4(w(O),s,b,u)));case"nestedmenuitem":return CL(t).fold(Vm,O=>P.some(v7(w(O),s,b,u,m)));case"togglemenuitem":return M8(t).fold(Vm,O=>P.some(b7(w(O),s,b,u)));case"separator":return _8(t).fold(Vm,O=>P.some(f4(O)));case"fancymenuitem":return BT(t).fold(Vm,O=>y7(O,i));default:return console.error("Unknown item in general menu",t),P.none()}},B7=(t,s,i,u,m,b,w)=>{const O=u===1,M=!O||Sf(t);return Au(je(t,B=>{switch(B.type){case"separator":return lL(B).fold(Vm,z=>P.some(f4(z)));case"cardmenuitem":return A8(B).fold(Vm,z=>P.some(E7({...z,onAction:j=>{z.onAction(j),i(z.value,z.meta)}},m,b,{itemBehaviours:Ox(z.meta,b),cardText:{matchText:s,highlightOn:w}})));case"autocompleteitem":default:return uL(B).fold(Vm,z=>P.some(p7(z,s,O,"normal",i,m,b,M)))}}))},_4=(t,s,i,u,m,b)=>{const w=Sf(s),O=Au(je(s,z=>{const j=oe=>m?!Bo(oe,"text"):w,J=oe=>L7(oe,i,u,j(oe),m);return z.type==="nestedmenuitem"&&z.getSubmenuItems().length<=0?J({...z,enabled:!1}):J(z)})),M=y4(b);return(m?v8:TI)(t,w,O,1,M)},uD=t=>ly.singleData(t.value,t),w4=(t,s,i,u)=>{const m=YT(s,u),b=fy(u);return{data:uD({...t,movement:m,menuBehaviours:$T.unnamedEvents(s!=="auto"?[]:[or((w,O)=>{BI(w,4,b.item).each(({numColumns:M,numRows:B})=>{Rn.setGridSize(w,B,M)})})])}),menu:{markers:fy(u),fakeFocus:i===Ux.ContentFocus}}},$7=(t,s)=>fx(Ze.fromDom(s.startContainer)).map(i=>{const u=t.createRng();return u.selectNode(i.dom),u}),ep={register:(t,s)=>{const i=Pn(!1),u=Pn(!1),m=Da(Si.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Rt([to("dismissAutocompleter",[St(Fl(),()=>B())])]),lazySink:s.getSink})),b=()=>Si.isOpen(m),w=u.get,O=()=>{b()&&Si.hide(m)},M=()=>Si.getContent(m).bind(pe=>gs(pe.components(),0)),B=()=>t.execCommand("mceAutocompleterClose"),z=pe=>{const Oe=tr(pe,Ke=>P.from(Ke.columns)).getOr(1);return lt(pe,Ke=>{const $e=Ke.items;return B7($e,Ke.matchText,(Ye,rt)=>{const dt=t.selection.getRng();$7(t.dom,dt).each(Wt=>{const Dt={hide:()=>B(),reload:en=>{O(),t.execCommand("mceAutocompleterReload",!1,{fetchOptions:en})}};i.set(!0),Ke.onAction(Dt,Wt,Ye,rt),i.set(!1)})},Oe,Hm.BUBBLE_TO_SANDBOX,s,Ke.highlightOn)})},j=(pe,Oe)=>{mI(Ze.fromDom(t.getBody())).each(Ke=>{const $e=tr(pe,Ye=>P.from(Ye.columns)).getOr(1);Si.showMenuAt(m,{anchor:{type:"node",root:Ze.fromDom(t.getBody()),node:P.from(Ke)}},w4(TI("autocompleter-value",!0,Oe,$e,{menuType:"normal"}),$e,Ux.ContentFocus,"normal"))}),M().each(ts.highlightFirst)},J=pe=>{const Oe=z(pe);Oe.length>0?j(pe,Oe):O()};t.on("AutocompleterStart",({lookupData:pe})=>{u.set(!0),i.set(!1),J(pe)}),t.on("AutocompleterUpdate",({lookupData:pe})=>J(pe)),t.on("AutocompleterEnd",()=>{O(),u.set(!1),i.set(!1)});const oe={cancelIfNecessary:B,isMenuOpen:b,isActive:w,isProcessingAction:i.get,getMenu:M};HP.setup(oe,t)}},F7=["visible","hidden"],H7=t=>{if(Kd(t)){const s=me(t,"overflow");return Ru(s).length>0&&!uo(F7,s)}else return!1},dD=t=>{const s=F0(t,H7);return Tr(s).map(i=>({element:i,others:s.slice(1)}))},Xr=(t,s)=>ub(t)?dD(s):P.none(),zx=t=>{const s=[...je(t.others,Wo),wa()];return Lw(Wo(t.element),s)},QT=(t,s,i)=>Od(t,s,i).isSome(),C4=(t,s)=>{let i=null;return{cancel:()=>{i!==null&&(clearTimeout(i),i=null)},schedule:(...b)=>{i=setTimeout(()=>{t.apply(null,b),i=null},s)}}},T4=5,V7=400,S4=t=>{const s=t.raw;return s.touches===void 0||s.touches.length!==1?P.none():P.some(s.touches[0])},U7=(t,s)=>{const i=Math.abs(t.clientX-s.x),u=Math.abs(t.clientY-s.y);return i>T4||u>T4},z7=t=>{const s=ks(),i=Pn(!1),u=C4(B=>{t.triggerEvent(pv(),B),i.set(!0)},V7),m=B=>(S4(B).each(z=>{u.cancel();const j={x:z.clientX,y:z.clientY,target:B.target};u.schedule(B),i.set(!1),s.set(j)}),P.none()),b=B=>(u.cancel(),S4(B).each(z=>{s.on(j=>{U7(z,j)&&s.clear()})}),P.none()),w=B=>{u.cancel();const z=j=>us(j.target,B.target);return s.get().filter(z).map(j=>i.get()?(B.prevent(),!1):t.triggerEvent(Bp(),B))},O=Za([{key:ul(),value:m},{key:em(),value:b},{key:Xf(),value:w}]);return{fireIfReady:(B,z)=>nn(O,z).bind(j=>j(B))}},W7=t=>t.raw.which===V2[0]&&!uo(["input","textarea"],oc(t.target))&&!QT(t.target,'[contenteditable="true"]'),G7=(t,s)=>{const i={stopBackspace:!0,...s},u=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],m=z7(i),b=je(u.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),oe=>Qa(t,oe,pe=>{m.fireIfReady(pe,oe).each(Ke=>{Ke&&pe.kill()}),i.triggerEvent(oe,pe)&&pe.kill()})),w=ks(),O=Qa(t,"paste",oe=>{m.fireIfReady(oe,"paste").each(Oe=>{Oe&&oe.kill()}),i.triggerEvent("paste",oe)&&oe.kill(),w.set(setTimeout(()=>{i.triggerEvent(gv(),oe)},0))}),M=Qa(t,"keydown",oe=>{i.triggerEvent("keydown",oe)?oe.kill():i.stopBackspace&&W7(oe)&&oe.prevent()}),B=Qa(t,"focusin",oe=>{i.triggerEvent("focusin",oe)&&oe.kill()}),z=ks(),j=Qa(t,"focusout",oe=>{i.triggerEvent("focusout",oe)&&oe.kill(),z.set(setTimeout(()=>{i.triggerEvent(mv(),oe)},0))});return{unbind:()=>{At(b,oe=>{oe.unbind()}),M.unbind(),B.unbind(),j.unbind(),O.unbind(),w.on(clearTimeout),z.on(clearTimeout)}}},x4=(t,s)=>{const i=nn(t,"target").getOr(s);return Pn(i)},Z7=(t,s)=>{const i=Pn(!1),u=Pn(!1);return{stop:()=>{i.set(!0)},cut:()=>{u.set(!0)},isStopped:i.get,isCut:u.get,event:t,setSource:s.set,getSource:s.get}},q7=t=>{const s=Pn(!1);return{stop:()=>{s.set(!0)},cut:ne,isStopped:s.get,isCut:bt,event:t,setSource:he("Cannot set source of a broadcasted event"),getSource:he("Cannot get source of a broadcasted event")}},JT=$l.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),A4=(t,s,i,u,m,b)=>{const w=t(s,u),O=Z7(i,m);return w.fold(()=>(b.logEventNoHandlers(s,u),JT.complete()),M=>{const B=M.descHandler;return e0(B)(O),O.isStopped()?(b.logEventStopped(s,M.element,B.purpose),JT.stopped()):O.isCut()?(b.logEventCut(s,M.element,B.purpose),JT.complete()):Cc(M.element).fold(()=>(b.logNoParent(s,M.element,B.purpose),JT.complete()),j=>(b.logEventResponse(s,M.element,B.purpose),JT.resume(j)))})},O4=(t,s,i,u,m,b)=>A4(t,s,i,u,m,b).fold(Ct,w=>O4(t,s,i,w,m,b),bt),j7=(t,s,i,u,m)=>{const b=x4(i,u);return A4(t,s,i,u,b,m)},Y7=(t,s,i)=>{const u=q7(s);return At(t,m=>{const b=m.descHandler;e0(b)(u)}),u.isStopped()},K7=(t,s,i,u)=>R4(t,s,i,i.target,u),R4=(t,s,i,u,m)=>{const b=x4(i,u);return O4(t,s,i,u,b,m)},X7=(t,s)=>({element:t,descHandler:s}),Q7=(t,s)=>({id:t,descHandler:s}),J7=()=>{const t={},s=(w,O,M)=>{Nr(M,(B,z)=>{const j=t[z]!==void 0?t[z]:{};j[O]=Jb(B,w),t[z]=j})},i=(w,O)=>mu(O).bind(M=>nn(w,M)).map(M=>X7(O,M));return{registerId:s,unregisterId:w=>{Nr(t,(O,M)=>{Bo(O,w)&&delete O[w]})},filterByType:w=>nn(t,w).map(O=>Hf(O,(M,B)=>Q7(B,M))).getOr([]),find:(w,O,M)=>nn(t,O).bind(B=>cv(M,z=>i(B,z),w))}},eV=()=>{const t=J7(),s={},i=B=>{const z=B.element;return mu(z).getOrThunk(()=>Sd("uid-",B.element))},u=(B,z)=>{const j=s[z];if(j===B)b(B);else throw new Error('The tagId "'+z+'" is already used by: '+hu(j.element)+`
Cannot use it for: `+hu(B.element)+`
The conflicting element is`+(rc(j.element)?" ":" not ")+"already in the DOM")},m=B=>{const z=i(B);na(s,z)&&u(B,z);const j=[B];t.registerId(j,z,B.events),s[z]=B},b=B=>{mu(B.element).each(z=>{delete s[z],t.unregisterId(z)})};return{find:(B,z,j)=>t.find(B,z,j),filter:B=>t.filterByType(B),register:m,unregister:b,getById:B=>nn(s,B)}},Sh=hi({name:"Container",factory:t=>{const{attributes:s,...i}=t.dom;return{uid:t.uid,dom:{tag:"div",attributes:{role:"presentation",...s},...i},components:t.components,behaviours:y_(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},configFields:[qe("components",[]),da("containerBehaviours",[]),qe("events",{}),qe("domModification",{}),qe("eventOrder",{})]}),fD=t=>{const s=$e=>Cc(t.element).fold(Ct,Ye=>us($e,Ye)),i=eV(),u=($e,Ye)=>i.find(s,$e,Ye),m=G7(t.element,{triggerEvent:($e,Ye)=>Pg($e,Ye.target,rt=>K7(u,$e,Ye,rt))}),b={debugInfo:ye("real"),triggerEvent:($e,Ye,rt)=>{Pg($e,Ye,dt=>R4(u,$e,rt,Ye,dt))},triggerFocus:($e,Ye)=>{mu($e).fold(()=>{Ic($e)},rt=>{Pg(fc(),$e,dt=>(j7(u,fc(),{originator:Ye,kill:ne,prevent:ne,target:$e},$e,dt),!1))})},triggerEscape:($e,Ye)=>{b.triggerEvent("keydown",$e.element,Ye.event)},getByUid:$e=>Oe($e),getByDom:$e=>Ke($e),build:Da,buildOrPatch:xv,addToGui:$e=>{M($e)},removeFromGui:$e=>{B($e)},addToWorld:$e=>{w($e)},removeFromWorld:$e=>{O($e)},broadcast:$e=>{J($e)},broadcastOn:($e,Ye)=>{oe($e,Ye)},broadcastEvent:($e,Ye)=>{pe($e,Ye)},isConnected:Ct},w=$e=>{$e.connect(b),pa($e.element)||(i.register($e),At($e.components(),w),b.triggerEvent(Eg(),$e.element,{target:$e.element}))},O=$e=>{pa($e.element)||(At($e.components(),O),i.unregister($e)),$e.disconnect()},M=$e=>{gh(t,$e)},B=$e=>{ph($e)},z=()=>{m.unbind(),Et(t.element)},j=$e=>{const Ye=i.filter(cf());At(Ye,rt=>{const dt=rt.descHandler;e0(dt)($e)})},J=$e=>{j({universal:!0,data:$e})},oe=($e,Ye)=>{j({universal:!1,channels:$e,data:Ye})},pe=($e,Ye)=>{const rt=i.filter($e);return Y7(rt,Ye)},Oe=$e=>i.getById($e).fold(()=>co.error(new Error('Could not find component with uid: "'+$e+'" in system.')),co.value),Ke=$e=>{const Ye=mu($e).getOr("not found");return Oe(Ye)};return w(t),{root:t,element:t.element,destroy:z,add:M,remove:B,getByUid:Oe,getByDom:Ke,addToWorld:w,removeFromWorld:O,broadcast:J,broadcastOn:oe,broadcastEvent:pe}},tV=(t,s)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:je(t.items,s.interpreter)}),nV=ye([qe("prefix","form-field"),da("fieldBehaviours",[ko,on])]),I4=ye([Xu({schema:[_t("dom")],name:"label"}),Xu({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[_t("text")],name:"aria-descriptor"}),Ji({factory:{sketch:t=>{const s=Qh(t,["factory"]);return t.factory.sketch(s)}},schema:[_t("factory")],name:"field"})]),oV=(t,s,i,u)=>{const m=mr(t.fieldBehaviours,[ko.config({find:O=>Ws(O,t,"field")}),on.config({store:{mode:"manual",getValue:O=>ko.getCurrent(O).bind(on.getValue),setValue:(O,M)=>{ko.getCurrent(O).each(B=>{on.setValue(B,M)})}}})]),b=Ms([or((O,M)=>{const B=jC(O,t,["label","field","aria-descriptor"]);B.field().each(z=>{const j=fn(t.prefix);B.label().each(J=>{eo(J.element,"for",j),eo(z.element,"id",j)}),B["aria-descriptor"]().each(J=>{const oe=fn(t.prefix);eo(J.element,"id",oe),eo(z.element,"aria-describedby",oe)})})})]),w={getField:O=>Ws(O,t,"field"),getLabel:O=>Ws(O,t,"label")};return{uid:t.uid,dom:t.dom,components:s,behaviours:m,events:b,apis:w}},ls=Yr({name:"FormField",configFields:nV(),partFields:I4(),factory:oV,apis:{getField:(t,s)=>t.getField(s),getLabel:(t,s)=>t.getLabel(s)}});var D4=Object.freeze({__proto__:null,exhibit:(t,s)=>gu({attributes:Za([{key:s.tabAttr,value:"true"}])})}),sV=[qe("tabAttr","data-alloy-tabstop")];const Vr=Bi({fields:sV,name:"tabstopping",active:D4});var rV=tinymce.util.Tools.resolve("tinymce.html.Entities");const eS=(t,s,i,u)=>{const m=iV(t,s,i,u);return ls.sketch(m)},M4=(t,s)=>eS(t,s,[],[]),iV=(t,s,i,u)=>({dom:N4(i),components:t.toArray().concat([s]),fieldBehaviours:Rt(u)}),k4=()=>N4([]),N4=t=>({tag:"div",classes:["tox-form__group"].concat(t)}),N1=(t,s)=>ls.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[sr(s.translate(t))]}),td=fn("form-component-change"),tS=fn("form-close"),Cy=fn("form-cancel"),tp=fn("form-action"),nS=fn("form-submit"),hD=fn("form-block"),mD=fn("form-unblock"),P4=fn("form-tabchange"),L4=fn("form-resize"),aV=(t,s,i)=>{const u=t.label.map(j=>N1(j,s)),m=j=>(J,oe)=>{Od(oe.event.target,"[data-collection-item-value]").each(pe=>{j(J,oe,pe,Mi(pe,"data-collection-item-value"))})},b=(j,J)=>{const oe=je(J,Ke=>{const $e=Fd.translate(Ke.text),Ye=t.columns===1?`<div class="tox-collection__item-label">${$e}</div>`:"",rt=`<div class="tox-collection__item-icon">${Ke.icon}</div>`,dt={_:" "," - ":" ","-":" "},Wt=$e.replace(/\_| \- |\-/g,en=>dt[en]);return`<div class="tox-collection__item${s.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${rV.encodeAllRaw(Ke.value)}" title="${Wt}" aria-label="${Wt}">${rt}${Ye}</div>`}),pe=t.columns!=="auto"&&t.columns>1?Fo(oe,t.columns):[oe],Oe=je(pe,Ke=>`<div class="tox-collection__group">${Ke.join("")}</div>`);Uu(j.element,Oe.join(""))},w=m((j,J,oe,pe)=>{J.stop(),s.isDisabled()||Tn(j,tp,{name:t.name,value:pe})}),O=[St(yd(),m((j,J,oe)=>{Ic(oe)})),St(Gc(),w),St(Bp(),w),St(af(),m((j,J,oe)=>{fr(j.element,"."+MT).each(pe=>{_s(pe,MT)}),hs(oe,MT)})),St(Wc(),m(j=>{fr(j.element,"."+MT).each(J=>{_s(J,MT)})})),fl(m((j,J,oe,pe)=>{Tn(j,tp,{name:t.name,value:pe})}))],M=(j,J)=>je(fi(j.element,".tox-collection__item"),J),B=ls.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Ge},behaviours:Rt([Gn.config({disabled:s.isDisabled,onDisabled:j=>{M(j,J=>{hs(J,"tox-collection__item--state-disabled"),eo(J,"aria-disabled",!0)})},onEnabled:j=>{M(j,J=>{_s(J,"tox-collection__item--state-disabled"),C(J,"aria-disabled")})}}),fa(),Kn.config({}),on.config({store:{mode:"memory",initialValue:i.getOr([])},onSetValue:(j,J)=>{b(j,J),t.columns==="auto"&&BI(j,5,"tox-collection__item").each(({numRows:oe,numColumns:pe})=>{Rn.setGridSize(j,oe,pe)}),Zo(j,L4)}}),Vr.config({}),Rn.config(a7(t.columns,"normal")),to("collection-events",O)]),eventOrder:{[xs()]:["disabling","alloy.base.behaviour","collection-events"]}});return eS(u,B,["tox-form__group--collection"],[])},cV=["input","textarea"],B4=t=>{const s=oc(t);return uo(cV,s)},gD=(t,s)=>{const i=s.getRoot(t).getOr(t.element);_s(i,s.invalidClass),s.notify.each(u=>{B4(t.element)&&eo(t.element,"aria-invalid",!1),u.getContainer(t).each(m=>{Uu(m,u.validHtml)}),u.onValid(t)})},$4=(t,s,i,u)=>{const m=s.getRoot(t).getOr(t.element);hs(m,s.invalidClass),s.notify.each(b=>{B4(t.element)&&eo(t.element,"aria-invalid",!0),b.getContainer(t).each(w=>{Uu(w,u)}),b.onInvalid(t,u)})},F4=(t,s,i)=>s.validator.fold(()=>Mc.pure(co.value(!0)),u=>u.validate(t)),pD=(t,s,i)=>(s.notify.each(u=>{u.onValidate(t)}),F4(t,s).map(u=>t.getSystem().isConnected()?u.fold(m=>($4(t,s,i,m),co.error(m)),m=>(gD(t,s),co.value(m))):co.error("No longer in system")));var lV=Object.freeze({__proto__:null,markValid:gD,markInvalid:$4,query:F4,run:pD,isInvalid:(t,s)=>{const i=s.getRoot(t).getOr(t.element);return Ci(i,s.invalidClass)}}),uV=Object.freeze({__proto__:null,events:(t,s)=>t.validator.map(i=>Ms([St(i.onEvent,u=>{pD(u,t,s).get(Ge)})].concat(i.validateOnLoad?[or(u=>{pD(u,t,s).get(ne)})]:[]))).getOr({})}),dV=[_t("invalidClass"),qe("getRoot",P.none),Aa("notify",[qe("aria","alert"),qe("getContainer",P.none),qe("validHtml",""),ze("onValid"),ze("onInvalid"),ze("onValidate")]),Aa("validator",[_t("validate"),qe("onEvent","input"),qe("validateOnLoad",!0)])];const np=Bi({fields:dV,name:"invalidating",active:uV,apis:lV,extra:{validation:t=>s=>{const i=on.getValue(s);return Mc.pure(t(i))}}});var mV=Object.freeze({__proto__:null,events:()=>Ms([Vp(jb(),Ct)]),exhibit:()=>gu({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const oS=Bi({fields:[],name:"unselecting",active:mV}),V4=(t,s)=>Cu.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:Rt([Th.button(s.providers.isDisabled),fa(),oS.config({}),Vr.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:s.getSink,fetch:i=>Mc.nu(u=>t.fetch(u)).map(u=>P.from(uD(Xs(jT(fn("menu-value"),u,m=>{t.onItemAction(i,m)},t.columns,t.presets,Hm.CLOSE_ON_EXECUTE,bt,s.providers),{movement:YT(t.columns,t.presets)})))),parts:{menu:mx(!1,1,t.presets)}}),U4=fn("color-input-change"),z4=fn("color-swatch-change"),W4=fn("color-picker-cancel"),gV=(t,s,i,u)=>{const m=ls.parts.field({factory:hy,inputClasses:["tox-textfield"],data:u,onSetValue:B=>np.run(B).get(ne),inputBehaviours:Rt([Gn.config({disabled:s.providers.isDisabled}),fa(),Vr.config({}),np.config({invalidClass:"tox-textbox-field-invalid",getRoot:B=>Bc(B.element),notify:{onValid:B=>{const z=on.getValue(B);Tn(B,U4,{color:z})}},validator:{validateOnLoad:!1,validate:B=>{const z=on.getValue(B);if(z.length===0)return Mc.pure(co.value(!0));{const j=Ze.fromTag("span");Q(j,"background-color",z);const J=tt(j,"background-color").fold(()=>co.error("blah"),oe=>co.value(z));return Mc.pure(J)}}}})]),selectOnFocus:!1}),b=t.label.map(B=>N1(B,s.providers)),w=(B,z)=>{Tn(B,z4,{value:z})},O=(B,z)=>{M.getOpt(B).each(j=>{z==="custom"?i.colorPicker(J=>{J.fold(()=>Zo(j,W4),oe=>{w(j,oe),qL(t.storageKey,oe)})},"#ffffff"):z==="remove"?w(j,""):w(j,z)})},M=Oo(V4({dom:{tag:"span",attributes:{"aria-label":s.providers.translate("Color swatch")}},layouts:{onRtl:()=>[li,Li,Xi],onLtr:()=>[Li,li,Xi]},components:[],fetch:o4(i.getColors(t.storageKey),t.storageKey,i.hasCustomColors()),columns:i.getColorCols(t.storageKey),presets:"color",onItemAction:O},s));return ls.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:b.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[m,M.asSpec()]}]),fieldBehaviours:Rt([to("form-field-events",[St(U4,(B,z)=>{M.getOpt(B).each(j=>{Q(j.element,"background-color",z.event.color)}),Tn(B,td,{name:t.name})}),St(z4,(B,z)=>{ls.getField(B).each(j=>{on.setValue(j,z.event.value),ko.getCurrent(B).each($n.focus)})}),St(W4,(B,z)=>{ls.getField(B).each(j=>{ko.getCurrent(B).each($n.focus)})})])])})},pV=Xu({schema:[_t("dom")],name:"label"}),pb=t=>Xu({name:""+t+"-edge",overrides:s=>s.model.manager.edgeActions[t].fold(()=>({}),u=>({events:Ms([yv(ul(),(m,b,w)=>u(m,w),[s]),yv(ii(),(m,b,w)=>u(m,w),[s]),yv(zc(),(m,b,w)=>{w.mouseIsDown.get()&&u(m,w)},[s])])}))}),Wx=pb("top-left"),vV=pb("top"),Gx=pb("top-right"),bV=pb("right"),yV=pb("bottom-right"),EV=pb("bottom"),_V=pb("bottom-left"),XY=pb("left"),Zx=Ji({name:"thumb",defaults:ye({dom:{styles:{position:"absolute"}}}),overrides:t=>({events:Ms([df(ul(),t,"spectrum"),df(em(),t,"spectrum"),df(Xf(),t,"spectrum"),df(ii(),t,"spectrum"),df(zc(),t,"spectrum"),df(Jf(),t,"spectrum")])})}),K_=Ji({schema:[ds("mouseIsDown",()=>Pn(!1))],name:"spectrum",overrides:t=>{const i=t.model.manager,u=(m,b)=>i.getValueFromEvent(b).map(w=>i.setValueFrom(m,t,w));return{behaviours:Rt([Rn.config({mode:"special",onLeft:m=>i.onLeft(m,t),onRight:m=>i.onRight(m,t),onUp:m=>i.onUp(m,t),onDown:m=>i.onDown(m,t)}),$n.config({})]),events:Ms([St(ul(),u),St(em(),u),St(ii(),u),St(zc(),(m,b)=>{t.mouseIsDown.get()&&u(m,b)})])}}});var G4=[pV,XY,bV,vV,EV,Wx,Gx,_V,yV,Zx,K_];const sS=ye("slider.change.value"),CV=t=>t.type.indexOf("touch")!==-1,vD=t=>{const s=t.event.raw;if(CV(s)){const i=s;return i.touches!==void 0&&i.touches.length===1?P.some(i.touches[0]).map(u=>Wn(u.clientX,u.clientY)):P.none()}else{const i=s;return i.clientX!==void 0?P.some(i).map(u=>Wn(u.clientX,u.clientY)):P.none()}},TV="top",SV="right",xV="bottom",AV="left",Ty=t=>t.model.minX,Sy=t=>t.model.minY,qx=t=>t.model.minX-1,jx=t=>t.model.minY-1,vb=t=>t.model.maxX,xh=t=>t.model.maxY,op=t=>t.model.maxX+1,Yx=t=>t.model.maxY+1,bD=(t,s,i)=>s(t)-i(t),Kx=t=>bD(t,vb,Ty),X_=t=>bD(t,xh,Sy),Z4=t=>Kx(t)/2,Q_=t=>X_(t)/2,sp=t=>t.stepSize,q4=t=>t.snapToGrid,j4=t=>t.snapStart,Y4=t=>t.rounded,Xx=(t,s)=>t[s+"-edge"]!==void 0,K4=t=>Xx(t,AV),X4=t=>Xx(t,SV),rS=t=>Xx(t,TV),Q4=t=>Xx(t,xV),P1=t=>t.model.value.get(),bb=(t,s)=>({x:t,y:s}),xf=(t,s)=>{Tn(t,sS(),{value:s})},OV=(t,s)=>{xf(t,bb(qx(s),jx(s)))},RV=(t,s)=>{xf(t,jx(s))},IV=(t,s)=>{xf(t,bb(Z4(s),jx(s)))},J4=(t,s)=>{xf(t,bb(op(s),jx(s)))},DV=(t,s)=>{xf(t,op(s))},MV=(t,s)=>{xf(t,bb(op(s),Q_(s)))},kV=(t,s)=>{xf(t,bb(op(s),Yx(s)))},NV=(t,s)=>{xf(t,Yx(s))},PV=(t,s)=>{xf(t,bb(Z4(s),Yx(s)))},e3=(t,s)=>{xf(t,bb(qx(s),Yx(s)))},t3=(t,s)=>{xf(t,qx(s))},LV=(t,s)=>{xf(t,bb(qx(s),Q_(s)))},yD=(t,s,i,u)=>t<s?t:t>i?i:t===s?s-1:Math.max(s,t-u),ED=(t,s,i,u)=>t>i?t:t<s?s:t===i?i+1:Math.min(i,t+u),_D=(t,s,i)=>Math.max(s,Math.min(i,t)),J_=(t,s,i,u,m)=>m.fold(()=>{const b=t-s,w=Math.round(b/u)*u;return _D(s+w,s-1,i+1)},b=>{const w=(t-b)%u,O=Math.round(w/u),M=Math.floor((t-b)/u),B=Math.floor((i-b)/u),z=Math.min(B,M+O),j=b+z*u;return Math.max(b,j)}),BV=(t,s,i)=>Math.min(i,Math.max(t,s))-s,n3=t=>{const{min:s,max:i,range:u,value:m,step:b,snap:w,snapStart:O,rounded:M,hasMinEdge:B,hasMaxEdge:z,minBound:j,maxBound:J,screenRange:oe}=t,pe=B?s-1:s,Oe=z?i+1:i;if(m<j)return pe;if(m>J)return Oe;{const Ke=BV(m,j,J),$e=_D(Ke/oe*u+s,pe,Oe);return w&&$e>=s&&$e<=i?J_($e,s,i,b,O):M?Math.round($e):$e}},o3=t=>{const{min:s,max:i,range:u,value:m,hasMinEdge:b,hasMaxEdge:w,maxBound:O,maxOffset:M,centerMinEdge:B,centerMaxEdge:z}=t;return m<s?b?0:B:m>i?w?O:z:(m-s)/u*M},ew="top",Vd="right",Qx="bottom",Jx="left",$V="width",FV="height",rp=t=>t.element.dom.getBoundingClientRect(),Ah=(t,s)=>t[s],iS=t=>{const s=rp(t);return Ah(s,Jx)},wD=t=>{const s=rp(t);return Ah(s,Vd)},eA=t=>{const s=rp(t);return Ah(s,ew)},s3=t=>{const s=rp(t);return Ah(s,Qx)},CD=t=>{const s=rp(t);return Ah(s,$V)},r3=t=>{const s=rp(t);return Ah(s,FV)},TD=(t,s,i)=>(t+s)/2-i,SD=(t,s)=>{const i=rp(t),u=rp(s),m=Ah(i,Jx),b=Ah(i,Vd),w=Ah(u,Jx);return TD(m,b,w)},xD=(t,s)=>{const i=rp(t),u=rp(s),m=Ah(i,ew),b=Ah(i,Qx),w=Ah(u,ew);return TD(m,b,w)},tA=(t,s)=>{Tn(t,sS(),{value:s})},AD=(t,s,i)=>{const u={min:Ty(s),max:vb(s),range:Kx(s),value:i,step:sp(s),snap:q4(s),snapStart:j4(s),rounded:Y4(s),hasMinEdge:K4(s),hasMaxEdge:X4(s),minBound:iS(t),maxBound:wD(t),screenRange:CD(t)};return n3(u)},HV=(t,s,i)=>{const u=AD(t,s,i);return tA(t,u),u},VV=(t,s)=>{const i=Ty(s);tA(t,i)},UV=(t,s)=>{const i=vb(s);tA(t,i)},zV=(t,s,i)=>{const m=(t>0?ED:yD)(P1(i),Ty(i),vb(i),sp(i));return tA(s,m),P.some(m)},nA=t=>(s,i)=>zV(t,s,i).map(Ct),WV=t=>vD(t).map(i=>i.left),i3=(t,s,i,u,m)=>{const w=CD(t),O=u.bind(z=>P.some(SD(z,t))).getOr(0),M=m.bind(z=>P.some(SD(z,t))).getOr(w),B={min:Ty(s),max:vb(s),range:Kx(s),value:i,hasMinEdge:K4(s),hasMaxEdge:X4(s),minBound:iS(t),minOffset:0,maxBound:wD(t),maxOffset:w,centerMinEdge:O,centerMaxEdge:M};return o3(B)},OD=(t,s,i,u,m,b)=>{const w=i3(s,b,i,u,m);return iS(s)-iS(t)+w},GV=(t,s,i,u)=>{const m=P1(i),b=OD(t,u.getSpectrum(t),m,u.getLeftEdge(t),u.getRightEdge(t),i),w=nr(s.element)/2;Q(s.element,"left",b-w+"px")},ZV=nA(-1),qV=nA(1),jV=P.none,YV=P.none,KV={"top-left":P.none(),top:P.none(),"top-right":P.none(),right:P.some(DV),"bottom-right":P.none(),bottom:P.none(),"bottom-left":P.none(),left:P.some(t3)};var a3=Object.freeze({__proto__:null,setValueFrom:HV,setToMin:VV,setToMax:UV,findValueOfOffset:AD,getValueFromEvent:WV,findPositionOfValue:OD,setPositionFromValue:GV,onLeft:ZV,onRight:qV,onUp:jV,onDown:YV,edgeActions:KV});const aS=(t,s)=>{Tn(t,sS(),{value:s})},RD=(t,s,i)=>{const u={min:Sy(s),max:xh(s),range:X_(s),value:i,step:sp(s),snap:q4(s),snapStart:j4(s),rounded:Y4(s),hasMinEdge:rS(s),hasMaxEdge:Q4(s),minBound:eA(t),maxBound:s3(t),screenRange:r3(t)};return n3(u)},XV=(t,s,i)=>{const u=RD(t,s,i);return aS(t,u),u},QV=(t,s)=>{const i=Sy(s);aS(t,i)},JV=(t,s)=>{const i=xh(s);aS(t,i)},eU=(t,s,i)=>{const m=(t>0?ED:yD)(P1(i),Sy(i),xh(i),sp(i));return aS(s,m),P.some(m)},ID=t=>(s,i)=>eU(t,s,i).map(Ct),c3=t=>vD(t).map(i=>i.top),l3=(t,s,i,u,m)=>{const w=r3(t),O=u.bind(z=>P.some(xD(z,t))).getOr(0),M=m.bind(z=>P.some(xD(z,t))).getOr(w),B={min:Sy(s),max:xh(s),range:X_(s),value:i,hasMinEdge:rS(s),hasMaxEdge:Q4(s),minBound:eA(t),minOffset:0,maxBound:s3(t),maxOffset:w,centerMinEdge:O,centerMaxEdge:M};return o3(B)},cS=(t,s,i,u,m,b)=>{const w=l3(s,b,i,u,m);return eA(s)-eA(t)+w},tU=(t,s,i,u)=>{const m=P1(i),b=cS(t,u.getSpectrum(t),m,u.getTopEdge(t),u.getBottomEdge(t),i),w=vn(s.element)/2;Q(s.element,"top",b-w+"px")},u3=P.none,nU=P.none,oU=ID(-1),sU=ID(1),rU={"top-left":P.none(),top:P.some(RV),"top-right":P.none(),right:P.none(),"bottom-right":P.none(),bottom:P.some(NV),"bottom-left":P.none(),left:P.none()};var DD=Object.freeze({__proto__:null,setValueFrom:XV,setToMin:QV,setToMax:JV,findValueOfOffset:RD,getValueFromEvent:c3,findPositionOfValue:cS,setPositionFromValue:tU,onLeft:u3,onRight:nU,onUp:oU,onDown:sU,edgeActions:rU});const Oh=(t,s)=>{Tn(t,sS(),{value:s})},oA=(t,s)=>({x:t,y:s}),lS=(t,s,i)=>{const u=AD(t,s,i.left),m=RD(t,s,i.top),b=oA(u,m);return Oh(t,b),b},iU=(t,s,i,u)=>{const m=t>0?ED:yD,b=s?P1(u).x:m(P1(u).x,Ty(u),vb(u),sp(u)),w=s?m(P1(u).y,Sy(u),xh(u),sp(u)):P1(u).y;return Oh(i,oA(b,w)),P.some(b)},tw=(t,s)=>(i,u)=>iU(t,s,i,u).map(Ct),aU=(t,s)=>{const i=Ty(s),u=Sy(s);Oh(t,oA(i,u))},cU=(t,s)=>{const i=vb(s),u=xh(s);Oh(t,oA(i,u))},lU=t=>vD(t),d3=(t,s,i,u)=>{const m=P1(i),b=OD(t,u.getSpectrum(t),m.x,u.getLeftEdge(t),u.getRightEdge(t),i),w=cS(t,u.getSpectrum(t),m.y,u.getTopEdge(t),u.getBottomEdge(t),i),O=nr(s.element)/2,M=vn(s.element)/2;Q(s.element,"left",b-O+"px"),Q(s.element,"top",w-M+"px")},uU=tw(-1,!1),MD=tw(1,!1),kD=tw(-1,!0),ND=tw(1,!0),dU={"top-left":P.some(OV),top:P.some(IV),"top-right":P.some(J4),right:P.some(MV),"bottom-right":P.some(kV),bottom:P.some(PV),"bottom-left":P.some(e3),left:P.some(LV)};var Ud=Object.freeze({__proto__:null,setValueFrom:lS,setToMin:aU,setToMax:cU,getValueFromEvent:lU,setPositionFromValue:d3,onLeft:uU,onRight:MD,onUp:kD,onDown:ND,edgeActions:dU});const fU=[qe("stepSize",1),qe("onChange",ne),qe("onChoose",ne),qe("onInit",ne),qe("onDragStart",ne),qe("onDragEnd",ne),qe("snapToGrid",!1),qe("rounded",!0),$o("snapStart"),Bl("model",qr("mode",{x:[qe("minX",0),qe("maxX",100),ds("value",t=>Pn(t.mode.minX)),_t("getInitialValue"),Hs("manager",a3)],y:[qe("minY",0),qe("maxY",100),ds("value",t=>Pn(t.mode.minY)),_t("getInitialValue"),Hs("manager",DD)],xy:[qe("minX",0),qe("maxX",100),qe("minY",0),qe("maxY",100),ds("value",t=>Pn({x:t.mode.minX,y:t.mode.minY})),_t("getInitialValue"),Hs("manager",Ud)]})),da("sliderBehaviours",[Rn,on]),ds("mouseIsDown",()=>Pn(!1))],Af=Yr({name:"Slider",configFields:fU,partFields:G4,factory:(t,s,i,u)=>{const m=dt=>Eh(dt,t,"thumb"),b=dt=>Eh(dt,t,"spectrum"),w=dt=>Ws(dt,t,"left-edge"),O=dt=>Ws(dt,t,"right-edge"),M=dt=>Ws(dt,t,"top-edge"),B=dt=>Ws(dt,t,"bottom-edge"),z=t.model,j=z.manager,J=(dt,Wt)=>{j.setPositionFromValue(dt,Wt,t,{getLeftEdge:w,getRightEdge:O,getTopEdge:M,getBottomEdge:B,getSpectrum:b})},oe=(dt,Wt)=>{z.value.set(Wt);const Dt=m(dt);J(dt,Dt)},pe=(dt,Wt)=>{oe(dt,Wt);const Dt=m(dt);return t.onChange(dt,Dt,Wt),P.some(!0)},Oe=dt=>{j.setToMin(dt,t)},Ke=dt=>{j.setToMax(dt,t)},$e=dt=>{const Wt=()=>{Ws(dt,t,"thumb").each(en=>{const bn=z.value.get();t.onChoose(dt,en,bn)})},Dt=t.mouseIsDown.get();t.mouseIsDown.set(!1),Dt&&Wt()},Ye=(dt,Wt)=>{Wt.stop(),t.mouseIsDown.set(!0),t.onDragStart(dt,m(dt))},rt=(dt,Wt)=>{Wt.stop(),t.onDragEnd(dt,m(dt)),$e(dt)};return{uid:t.uid,dom:t.dom,components:s,behaviours:mr(t.sliderBehaviours,[Rn.config({mode:"special",focusIn:dt=>Ws(dt,t,"spectrum").map(Rn.focusIn).map(Ct)}),on.config({store:{mode:"manual",getValue:dt=>z.value.get(),setValue:oe}}),Ul.config({channels:{[OC()]:{onReceive:$e}}})]),events:Ms([St(sS(),(dt,Wt)=>{pe(dt,Wt.event.value)}),or((dt,Wt)=>{const Dt=z.getInitialValue();z.value.set(Dt);const en=m(dt);J(dt,en);const bn=b(dt);t.onInit(dt,en,bn,z.value.get())}),St(ul(),Ye),St(Xf(),rt),St(ii(),Ye),St(Jf(),rt)]),apis:{resetToMin:Oe,resetToMax:Ke,setValue:oe,refresh:J},domModification:{styles:{position:"relative"}}}},apis:{setValue:(t,s,i)=>{t.setValue(s,i)},resetToMin:(t,s)=>{t.resetToMin(s)},resetToMax:(t,s)=>{t.resetToMax(s)},refresh:(t,s)=>{t.refresh(s)}}}),sA=fn("rgb-hex-update"),f3=fn("slider-update"),h3=fn("palette-update"),hU=(t,s)=>{const i=Af.parts.spectrum({dom:{tag:"div",classes:[s("hue-slider-spectrum")],attributes:{role:"presentation"}}}),u=Af.parts.thumb({dom:{tag:"div",classes:[s("hue-slider-thumb")],attributes:{role:"presentation"}}});return Af.sketch({dom:{tag:"div",classes:[s("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:ye(0)},components:[i,u],sliderBehaviours:Rt([$n.config({})]),onChange:(m,b,w)=>{Tn(m,f3,{value:w})}})},m3="form",mU=[da("formBehaviours",[on])],g3=t=>"<alloy.field."+t+">",gU=t=>{const s=(()=>{const b=[];return{field:(O,M)=>(b.push(O),GC(m3,g3(O),M)),record:ye(b)}})(),i=t(s),u=s.record(),m=je(u,b=>Ji({name:b,pname:g3(b)}));return tT(m3,mU,m,pU,i)},p3=(t,s)=>t.fold(()=>co.error(s),co.value),pU=(t,s)=>({uid:t.uid,dom:t.dom,components:s,behaviours:mr(t.formBehaviours,[on.config({store:{mode:"manual",getValue:i=>{const u=YC(i,t);return Rs(u,(m,b)=>m().bind(w=>{const O=ko.getCurrent(w);return p3(O,new Error(`Cannot find a current component to extract the value from for form part '${b}': `+hu(w.element)))}).map(on.getValue))},setValue:(i,u)=>{Nr(u,(m,b)=>{Ws(i,t,b).each(w=>{ko.getCurrent(w).each(O=>{on.setValue(O,m)})})})}}})]),apis:{getField:(i,u)=>Ws(i,t,u).bind(ko.getCurrent)}}),nw={getField:Wp((t,s,i)=>t.getField(s,i)),sketch:gU},v3=fn("valid-input"),PD=fn("invalid-input"),rA=fn("validating-input"),LD="colorcustom.rgb.",BD=(t,s,i,u)=>{const m=(J,oe)=>np.config({invalidClass:s("invalid"),notify:{onValidate:pe=>{Tn(pe,rA,{type:J})},onValid:pe=>{Tn(pe,v3,{type:J,value:on.getValue(pe)})},onInvalid:pe=>{Tn(pe,PD,{type:J,value:on.getValue(pe)})}},validator:{validate:pe=>{const Oe=on.getValue(pe),Ke=oe(Oe)?co.value(!0):co.error(t("aria.input.invalid"));return Mc.pure(Ke)},validateOnLoad:!1}}),b=(J,oe,pe,Oe,Ke)=>{const $e=t(LD+"range"),Ye=ls.parts.label({dom:{tag:"label",attributes:{"aria-label":Oe}},components:[sr(pe)]}),rt=ls.parts.field({data:Ke,factory:hy,inputAttributes:{type:"text",...oe==="hex"?{"aria-live":"polite"}:{}},inputClasses:[s("textfield")],inputBehaviours:Rt([m(oe,J),Vr.config({})]),onSetValue:en=>{np.isInvalid(en)&&np.run(en).get(ne)}}),dt=[Ye,rt],Wt=oe!=="hex"?[ls.parts["aria-descriptor"]({text:$e})]:[],Dt=dt.concat(Wt);return{dom:{tag:"div",attributes:{role:"presentation"}},components:Dt}},w=(J,oe)=>{const pe=GT(oe);return nw.getField(J,"hex").each(Oe=>{$n.isFocused(Oe)||on.setValue(J,{hex:pe.value})}),pe},O=(J,oe)=>{const pe=oe.red,Oe=oe.green,Ke=oe.blue;on.setValue(J,{red:pe,green:Oe,blue:Ke})},M=Oo({dom:{tag:"div",classes:[s("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),B=(J,oe)=>{M.getOpt(J).each(pe=>{Q(pe.element,"background-color","#"+oe.value)})};return hi({factory:()=>{const J={red:Pn(P.some(255)),green:Pn(P.some(255)),blue:Pn(P.some(255)),hex:Pn(P.some("ffffff"))},oe=(qn,_o)=>{const Vn=Wm(_o);O(qn,Vn),$e(Vn)},pe=qn=>J[qn].get(),Oe=(qn,_o)=>{J[qn].set(_o)},Ke=()=>pe("red").bind(qn=>pe("green").bind(_o=>pe("blue").map(Vn=>El(qn,_o,Vn,1)))),$e=qn=>{const _o=qn.red,Vn=qn.green,ms=qn.blue;Oe("red",P.some(_o)),Oe("green",P.some(Vn)),Oe("blue",P.some(ms))},Ye=(qn,_o)=>{const Vn=_o.event;Vn.type!=="hex"?Oe(Vn.type,P.none()):u(qn)},rt=(qn,_o)=>{i(qn);const Vn=zm(_o);Oe("hex",P.some(Vn.value));const ms=Wm(Vn);O(qn,ms),$e(ms),Tn(qn,sA,{hex:Vn}),B(qn,Vn)},dt=(qn,_o,Vn)=>{const ms=parseInt(Vn,10);Oe(_o,P.some(ms)),Ke().each(Bt=>{const pn=w(qn,Bt);Tn(qn,sA,{hex:pn}),B(qn,pn)})},Wt=qn=>qn.type==="hex",Dt=(qn,_o)=>{const Vn=_o.event;Wt(Vn)?rt(qn,Vn.value):dt(qn,Vn.type,Vn.value)},en=qn=>({label:t(LD+qn+".label"),description:t(LD+qn+".description")}),bn=en("red"),xo=en("green"),In=en("blue"),Co=en("hex");return Xs(nw.sketch(qn=>({dom:{tag:"form",classes:[s("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[qn.field("red",ls.sketch(b(UI,"red",bn.label,bn.description,255))),qn.field("green",ls.sketch(b(UI,"green",xo.label,xo.description,255))),qn.field("blue",ls.sketch(b(UI,"blue",In.label,In.description,255))),qn.field("hex",ls.sketch(b(zT,"hex",Co.label,Co.description,"ffffff"))),M.asSpec()],formBehaviours:Rt([np.config({invalidClass:s("form-invalid")}),to("rgb-form-events",[St(v3,Dt),St(PD,Ye),St(rA,Ye)])])})),{apis:{updateHex:(qn,_o)=>{on.setValue(qn,{hex:_o.value}),oe(qn,_o),B(qn,_o)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(J,oe,pe)=>{J.updateHex(oe,pe)}},extraApis:{}})},ow=(t,s)=>{const i=Af.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[s("sv-palette-spectrum")]}}),u=Af.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette-thumb")],innerHtml:`<div class=${s("sv-palette-inner-thumb")} role="presentation"></div>`}}),m=(B,z)=>{const{width:j,height:J}=B,oe=B.getContext("2d");if(oe===null)return;oe.fillStyle=z,oe.fillRect(0,0,j,J);const pe=oe.createLinearGradient(0,0,j,0);pe.addColorStop(0,"rgba(255,255,255,1)"),pe.addColorStop(1,"rgba(255,255,255,0)"),oe.fillStyle=pe,oe.fillRect(0,0,j,J);const Oe=oe.createLinearGradient(0,0,0,J);Oe.addColorStop(0,"rgba(0,0,0,0)"),Oe.addColorStop(1,"rgba(0,0,0,1)"),oe.fillStyle=Oe,oe.fillRect(0,0,j,J)},b=(B,z)=>{const j=B.components()[0].element.dom,J=qT(z,100,100),oe=Vs(J);m(j,Mx(oe))},w=(B,z)=>{const j=WI(Wm(z));Af.setValue(B,{x:j.saturation,y:100-j.value})};return hi({factory:B=>{const z=ye({x:0,y:0}),j=(pe,Oe,Ke)=>{Tn(pe,h3,{value:Ke})},J=(pe,Oe,Ke,$e)=>{m(Ke.element.dom,Mx(kx))},oe=Rt([ko.config({find:P.some}),$n.config({})]);return Af.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette")]},model:{mode:"xy",getInitialValue:z},rounded:!1,components:[i,u],onChange:j,onInit:J,sliderBehaviours:oe})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(B,z,j)=>{b(z,j)},setThumb:(B,z,j)=>{w(z,j)}},extraApis:{}})},b3=(t,s)=>{const i=m=>{const b=BD(t,s,m.onValidHex,m.onInvalidHex),w=ow(t,s),O=Dt=>(100-Dt)/100*360,M=Dt=>100-Dt/360*100,B={paletteRgba:Pn(kx),paletteHue:Pn(0)},z=Oo(hU(t,s)),j=Oo(w.sketch({})),J=Oo(b.sketch({})),oe=(Dt,en,bn)=>{j.getOpt(Dt).each(xo=>{w.setHue(xo,bn)})},pe=(Dt,en)=>{J.getOpt(Dt).each(bn=>{b.updateHex(bn,en)})},Oe=(Dt,en,bn)=>{z.getOpt(Dt).each(xo=>{Af.setValue(xo,M(bn))})},Ke=(Dt,en)=>{j.getOpt(Dt).each(bn=>{w.setThumb(bn,en)})},$e=(Dt,en)=>{const bn=Wm(Dt);B.paletteRgba.set(bn),B.paletteHue.set(en)},Ye=(Dt,en,bn,xo)=>{$e(en,bn),At(xo,In=>{In(Dt,en,bn)})},rt=()=>{const Dt=[pe];return(en,bn)=>{const xo=bn.event.value,In=B.paletteHue.get(),Co=qT(In,xo.x,100-xo.y),qn=GI(Co);Ye(en,qn,In,Dt)}},dt=()=>{const Dt=[oe,pe];return(en,bn)=>{const xo=O(bn.event.value),In=B.paletteRgba.get(),Co=WI(In),qn=qT(xo,Co.saturation,Co.value),_o=GI(qn);Ye(en,_o,xo,Dt)}},Wt=()=>{const Dt=[oe,Oe,Ke];return(en,bn)=>{const xo=bn.event.hex,In=e7(xo);Ye(en,xo,In.hue,Dt)}};return{uid:m.uid,dom:m.dom,components:[j.asSpec(),z.asSpec(),J.asSpec()],behaviours:Rt([to("colour-picker-events",[St(sA,Wt()),St(h3,rt()),St(f3,dt())]),ko.config({find:Dt=>J.getOpt(Dt)}),Rn.config({mode:"acyclic"})])}};return hi({name:"ColourPicker",configFields:[_t("dom"),qe("onValidHex",ne),qe("onInvalidHex",ne)],factory:i})},Rh={self:()=>ko.config({find:P.some}),memento:t=>ko.config({find:t.getOpt}),childAt:t=>ko.config({find:s=>hd(s.element,t).bind(i=>s.getSystem().getByDom(i).toOptional())})},iA=An([qe("preprocess",Ge),qe("postprocess",Ge)]),yU=(t,s)=>{const i=Zr("RepresentingConfigs.memento processors",iA,s);return on.config({store:{mode:"manual",getValue:u=>{const m=t.get(u),b=on.getValue(m);return i.postprocess(b)},setValue:(u,m)=>{const b=i.preprocess(m),w=t.get(u);on.setValue(w,b)}}})},y3=(t,s,i)=>on.config({store:{mode:"manual",...t.map(u=>({initialValue:u})).getOr({}),getValue:s,setValue:i}}),aA=(t,s,i)=>y3(t,u=>s(u.element),(u,m)=>i(u.element,m)),Qr={memento:yU,withElement:aA,withComp:y3,domValue:t=>aA(t,ml,pu),domHtml:t=>aA(t,yo,Uu),memory:t=>on.config({store:{mode:"memory",initialValue:t}})},_3={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},wU=t=>s=>t.translate(_3[s]),CU=(t,s,i)=>{const u=M=>"tox-"+M,m=b3(wU(s),u),b=M=>{Tn(M,tp,{name:"hex-valid",value:!0})},w=M=>{Tn(M,tp,{name:"hex-valid",value:!1})},O=Oo(m.sketch({dom:{tag:"div",classes:[u("color-picker-container")],attributes:{role:"presentation"}},onValidHex:b,onInvalidHex:w}));return{dom:{tag:"div"},components:[O.asSpec()],behaviours:Rt([Qr.withComp(i,M=>{const B=O.get(M);return ko.getCurrent(B).bind(J=>on.getValue(J).hex).map(J=>"#"+Sp(J,"#")).getOr("")},(M,B)=>{const z=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,j=P.from(z.exec(B)).bind(pe=>gs(pe,1)),J=O.get(M);ko.getCurrent(J).fold(()=>{console.log("Can not find form")},pe=>{on.setValue(pe,{hex:j.getOr("")}),nw.getField(pe,"hex").each(Oe=>{Zo(Oe,dc())})})}),Rh.self()])}};var w3=tinymce.util.Tools.resolve("tinymce.Resource");const TU=t=>Bo(t,"init"),SU=t=>{const s=ks(),i=Oo({dom:{tag:t.tag}}),u=ks();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Rt([to("custom-editor-events",[or(m=>{i.getOpt(m).each(b=>{(TU(t)?t.init(b.element.dom):w3.load(t.scriptId,t.scriptUrl).then(w=>w(b.element.dom,t.settings))).then(w=>{u.on(O=>{w.setValue(O)}),u.clear(),s.set(w)})})})]),Qr.withComp(P.none(),()=>s.get().fold(()=>u.get().getOr(""),m=>m.getValue()),(m,b)=>{s.get().fold(()=>u.set(b),w=>w.setValue(b))}),Rh.self()]),components:[i.asSpec()]}};var xy=tinymce.util.Tools.resolve("tinymce.util.Tools");const C3=(t,s)=>{const i=xy.explode(s.getOption("images_file_types")),u=m=>Lo(i,b=>ol(m.name.toLowerCase(),`.${b.toLowerCase()}`));return so(ga(t),u)},ip=(t,s,i)=>{const u=(J,oe)=>{oe.stop()},m=J=>(oe,pe)=>{At(J,Oe=>{Oe(oe,pe)})},b=(J,oe)=>{var pe;if(!Gn.isDisabled(J)){const Oe=oe.event.raw;O(J,(pe=Oe.dataTransfer)===null||pe===void 0?void 0:pe.files)}},w=(J,oe)=>{const pe=oe.event.raw.target;O(J,pe.files)},O=(J,oe)=>{oe&&(on.setValue(J,C3(oe,s)),Tn(J,td,{name:t.name}))},M=Oo({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Rt([to("input-file-events",[sm(Gc()),sm(Bp())])])}),B=J=>({uid:J.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Rt([Qr.memory(i.getOr([])),Rh.self(),Gn.config({}),vo.config({toggleClass:"dragenter",toggleOnExecute:!1}),to("dropzone-events",[St("dragenter",m([u,vo.toggle])),St("dragleave",m([u,vo.toggle])),St("dragover",u),St("drop",m([u,b])),St(dl(),w)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[sr(s.translate("Drop an image here"))]},vc.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[sr(s.translate("Browse for an image")),M.asSpec()],action:oe=>{M.get(oe).element.dom.click()},buttonBehaviours:Rt([Vr.config({}),Th.button(s.isDisabled),fa()])})]}]}),z=t.label.map(J=>N1(J,s)),j=ls.parts.field({factory:{sketch:B}});return eS(z,j,["tox-form__group--stretched"],[])},$D=(t,s)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${t.columns}col`]},components:je(t.items,s.interpreter)}),cA=fn("alloy-fake-before-tabstop"),sw=fn("alloy-fake-after-tabstop"),lA=t=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:Rt([$n.config({ignore:!0}),Vr.config({})])}),T3=t=>({dom:{tag:"div",classes:["tox-navobj"]},components:[lA([cA]),t,lA([sw])],behaviours:Rt([Rh.childAt(1)])}),S3=(t,s)=>{Tn(t,wi(),{raw:{which:9,shiftKey:s}})},xU=(t,s)=>{const i=s.element;Ci(i,cA)?S3(t,!0):Ci(i,sw)&&S3(t,!1)},uS=t=>QT(t,["."+cA,"."+sw].join(","),bt),AU=t=>{const s=Pn(t.getOr(""));return{getValue:i=>s.get(),setValue:(i,u)=>{s.get()!==u&&eo(i.element,"srcdoc",u),s.set(u)}}},OU=(t,s,i)=>{const u=t.sandboxed,m=t.transparent,b="tox-dialog__iframe",w={...t.label.map(j=>({title:j})).getOr({}),...i.map(j=>({srcdoc:j})).getOr({}),...u?{sandbox:"allow-scripts allow-same-origin"}:{}},O=AU(i),M=t.label.map(j=>N1(j,s)),B=j=>T3({uid:j.uid,dom:{tag:"iframe",attributes:w,classes:m?[b]:[b,`${b}--opaque`]},behaviours:Rt([Vr.config({}),$n.config({}),Qr.withComp(i,O.getValue,O.setValue)])}),z=ls.parts.field({factory:{sketch:B}});return eS(M,z,["tox-form__group--stretched"],[])},RU=t=>new Promise((s,i)=>{const u=()=>{b(),s(t)},m=[Qa(t,"load",u),Qa(t,"error",()=>{b(),i("Unable to load data from image: "+t.dom.src)})],b=()=>At(m,w=>w.unbind());t.dom.complete&&u()}),x3=(t,s,i,u,m)=>{const b=i*m,w=u*m,O=Math.max(0,t/2-b/2),M=Math.max(0,s/2-w/2);return{left:O.toString()+"px",top:M.toString()+"px",width:b.toString()+"px",height:w.toString()+"px"}},IU=(t,s,i)=>{const u=nr(t),m=vn(t);return Math.min(u/s,m/i,1)},ap=(t,s)=>{const i=Pn(s.getOr({url:""})),u=Oo({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:s.map(M=>({src:M.url})).getOr({})}}),m=Oo({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[u.asSpec()]}),b=(M,B)=>{const z={url:B.url};B.zoom.each(J=>z.zoom=J),B.cachedWidth.each(J=>z.cachedWidth=J),B.cachedHeight.each(J=>z.cachedHeight=J),i.set(z);const j=()=>{const{cachedWidth:J,cachedHeight:oe,zoom:pe}=z;if(!ge(J)&&!ge(oe)){if(ge(pe)){const Ke=IU(M.element,J,oe);z.zoom=Ke}const Oe=x3(nr(M.element),vn(M.element),J,oe,z.zoom);m.getOpt(M).each(Ke=>{se(Ke.element,Oe)})}};u.getOpt(M).each(J=>{const oe=J.element;B.url!==Mi(oe,"src")&&(eo(oe,"src",B.url),_s(M.element,"tox-imagepreview__loaded")),j(),RU(oe).then(pe=>{M.getSystem().isConnected()&&(hs(M.element,"tox-imagepreview__loaded"),z.cachedWidth=pe.dom.naturalWidth,z.cachedHeight=pe.dom.naturalHeight,j())})})},w={};t.height.each(M=>w.height=M);const O=s.map(M=>({url:M.url,zoom:P.from(M.zoom),cachedWidth:P.from(M.cachedWidth),cachedHeight:P.from(M.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:w,attributes:{role:"presentation"}},components:[m.asSpec()],behaviours:Rt([Rh.self(),Qr.withComp(O,()=>i.get(),b)])}},uA=(t,s)=>{const i={dom:{tag:"label",classes:["tox-label"]},components:[sr(s.providers.translate(t.label))]},u=je(t.items,s.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[i,...u],behaviours:Rt([Rh.self(),Kn.config({}),Qr.domHtml(P.none()),Rn.config({mode:"acyclic"})])}},A3=fn("toolbar.button.execute"),DU=t=>fl((s,i)=>{G_(t,s)(u=>{Tn(s,A3,{buttonApi:u}),t.onAction(u)})}),yb=fn("common-button-display-events"),FD={[xs()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],[_d()]:["toolbar-button-events",yb],[ii()]:["focusing","alloy.base.behaviour",yb]},dS=t=>Q(t.element,"width",me(t.element,"width")),fS=(t,s,i)=>Tf(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:i},s),Ay=(t,s)=>fS(t,s,[]),Ih=(t,s)=>fS(t,s,[Kn.config({})]),HD=(t,s,i)=>({dom:{tag:"span",classes:[`${s}__select-label`]},components:[sr(i.translate(t))],behaviours:Rt([Kn.config({})])}),zd=fn("update-menu-text"),Oy=fn("update-menu-icon"),VD=(t,s,i)=>{const u=Pn(ne),m=t.text.map(J=>Oo(HD(J,s,i.providers))),b=t.icon.map(J=>Oo(Ih(J,i.providers.icons))),w=(J,oe)=>{const pe=on.getValue(J);return $n.focus(pe),Tn(pe,"keydown",{raw:oe.event.raw}),Cu.close(pe),P.some(!0)},O=t.role.fold(()=>({}),J=>({role:J})),M=t.tooltip.fold(()=>({}),J=>{const oe=i.providers.translate(J);return{title:oe,"aria-label":oe}}),B=Tf("chevron-down",{tag:"div",classes:[`${s}__select-chevron`]},i.providers.icons),z=fn("common-button-display-events");return Oo(Cu.sketch({...t.uid?{uid:t.uid}:{},...O,dom:{tag:"button",classes:[s,`${s}--select`].concat(je(t.classes,J=>`${s}--${J}`)),attributes:{...M}},components:Z_([b.map(J=>J.asSpec()),m.map(J=>J.asSpec()),P.some(B)]),matchWidth:!0,useMinWidth:!0,onOpen:(J,oe,pe)=>{t.searchable&&N7(pe)},dropdownBehaviours:Rt([...t.dropdownBehaviours,Th.button(()=>t.disabled||i.providers.isDisabled()),fa(),oS.config({}),Kn.config({}),to("dropdown-events",[mb(t,u),by(t,u)]),to(z,[or((J,oe)=>dS(J))]),to("menubutton-update-display-text",[St(zd,(J,oe)=>{m.bind(pe=>pe.getOpt(J)).each(pe=>{Kn.set(pe,[sr(i.providers.translate(oe.event.text))])})}),St(Oy,(J,oe)=>{b.bind(pe=>pe.getOpt(J)).each(pe=>{Kn.set(pe,[Ih(oe.event.icon,i.providers.icons)])})})])]),eventOrder:Xs(FD,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[_d()]:["toolbar-button-events","dropdown-events",z]}),sandboxBehaviours:Rt([Rn.config({mode:"special",onLeft:w,onRight:w}),to("dropdown-sandbox-events",[St(XP,(J,oe)=>{R7(J),oe.stop()}),St(QP,(J,oe)=>{I7(J,oe),oe.stop()})])]),lazySink:i.getSink,toggleClass:`${s}--active`,parts:{menu:{...mx(!1,t.columns,t.presets),fakeFocus:t.searchable,onHighlightItem:E4,onCollapseMenu:(J,oe,pe)=>{ts.getHighlighted(pe).each(Oe=>{E4(J,pe,Oe)})},onDehighlightItem:k7}},fetch:J=>Mc.nu(xt(t.fetch,J))})).asSpec()},MU=t=>V(t),O3=t=>t.type==="separator",kU=t=>Bo(t,"getSubmenuItems"),NU={type:"separator"},PU=(t,s)=>{const i=ys(t,(u,m)=>MU(m)?m===""?u:m==="|"?u.length>0&&!O3(u[u.length-1])?u.concat([NU]):u:Bo(s,m.toLowerCase())?u.concat([s[m.toLowerCase()]]):u:u.concat([m]),[]);return i.length>0&&O3(i[i.length-1])&&i.pop(),i},R3=(t,s)=>{const i=t.getSubmenuItems(),u=D3(i,s),m=Xs(u.menus,{[t.value]:u.items}),b=Xs(u.expansions,{[t.value]:t.value});return{item:t,menus:m,expansions:b}},I3=t=>{const s=nn(t,"value").getOrThunk(()=>fn("generated-menu-item"));return Xs({value:s},t)},D3=(t,s)=>{const i=PU(V(t)?t.split(" "):t,s);return Ts(i,(u,m)=>{if(kU(m)){const b=I3(m),w=R3(b,s);return{menus:Xs(u.menus,w.menus),items:[w.item,...u.items],expansions:Xs(u.expansions,w.expansions)}}else return{...u,items:[m,...u.items]}},{menus:{},expansions:{},items:[]})},M3=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-field",placeholder:s.placeholder})),LU=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-results"})),Ry=(t,s,i,u)=>{const m=fn("primary-menu"),b=D3(t,i.shared.providers.menuItems());if(b.items.length===0)return P.none();const w=M3(u),O=_4(m,b.items,s,i,u.isHorizontalMenu,w),M=LU(u),B=Rs(b.menus,(j,J)=>_4(J,j,s,i,!1,M)),z=Xs(B,uu(m,O));return P.from(ly.tieredData(m,z,b.expansions))},Iy=t=>!Bo(t,"items"),k3="data-value",UD=(t,s,i,u)=>je(i,m=>Iy(m)?{type:"togglemenuitem",text:m.text,value:m.value,active:m.value===u,onAction:()=>{on.setValue(t,m.value),Tn(t,td,{name:s}),$n.focus(t)}}:{type:"nestedmenuitem",text:m.text,getSubmenuItems:()=>UD(t,s,m.items,u)}),zD=(t,s)=>tr(t,i=>Iy(i)?zn(i.value===s,i):zD(i.items,s)),BU=(t,s,i)=>{const u=s.shared.providers,m=i.bind(M=>zD(t.items,M)).orThunk(()=>Tr(t.items).filter(Iy)),b=t.label.map(M=>N1(M,u)),w=ls.parts.field({dom:{},factory:{sketch:M=>VD({uid:M.uid,text:m.map(B=>B.text),icon:P.none(),tooltip:t.label,role:P.none(),fetch:(B,z)=>{const j=UD(B,t.name,t.items,on.getValue(B));z(Ry(j,Hm.CLOSE_ON_EXECUTE,s,{isHorizontalMenu:!1,search:P.none()}))},onSetup:ye(ne),getApi:ye({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Vr.config({}),Qr.withComp(m.map(B=>B.value),B=>Mi(B.element,k3),(B,z)=>{zD(t.items,z).each(j=>{eo(B.element,k3,j.value),Tn(B,zd,{text:j.text})})})]},"tox-listbox",s.shared)}}),O={dom:{tag:"div",classes:["tox-listboxfield"]},components:[w]};return ls.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:qt([b.toArray(),[O]]),fieldBehaviours:Rt([Gn.config({disabled:ye(!t.enabled),onDisabled:M=>{ls.getField(M).each(Gn.disable)},onEnabled:M=>{ls.getField(M).each(Gn.enable)}})])})},$U=(t,s)=>({dom:{tag:"div",classes:t.classes},components:je(t.items,s.shared.interpreter)}),FU=(t,s)=>{const i=je(t.options,m=>({dom:{tag:"option",value:m.value,innerHtml:m.text}})),u=t.data.map(m=>uu("initialValue",m)).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:i,behaviours:mr(t.selectBehaviours,[$n.config({}),on.config({store:{mode:"manual",getValue:m=>ml(m.element),setValue:(m,b)=>{Dn(t.options,O=>O.value===b).isSome()&&pu(m.element,b)},...u}})])}},N3=hi({name:"HtmlSelect",configFields:[_t("options"),da("selectBehaviours",[$n,on]),qe("selectClasses",[]),qe("selectAttributes",{}),$o("data")],factory:FU}),HU=(t,s,i)=>{const u=je(t.items,M=>({text:s.translate(M.text),value:M.value})),m=t.label.map(M=>N1(M,s)),b=ls.parts.field({dom:{},...i.map(M=>({data:M})).getOr({}),selectAttributes:{size:t.size},options:u,factory:N3,selectBehaviours:Rt([Gn.config({disabled:()=>!t.enabled||s.isDisabled()}),Vr.config({}),to("selectbox-change",[St(dl(),(M,B)=>{Tn(M,td,{name:t.name})})])])}),w=t.size>1?P.none():P.some(Tf("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},s.icons)),O={dom:{tag:"div",classes:["tox-selectfield"]},components:qt([[b],w.toArray()])};return ls.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:qt([m.toArray(),[O]]),fieldBehaviours:Rt([Gn.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:M=>{ls.getField(M).each(Gn.disable)},onEnabled:M=>{ls.getField(M).each(Gn.enable)}}),fa()])})},P3=ye([qe("field1Name","field1"),qe("field2Name","field2"),pm("onLockedChange"),Vl(["lockClass"]),qe("locked",!1),Pd.field("coupledFieldBehaviours",[ko,on])]),WD=(t,s,i)=>Ws(t,s,i).bind(ko.getCurrent),cp=(t,s)=>Ji({factory:ls,name:t,overrides:i=>({fieldBehaviours:Rt([to("coupled-input-behaviour",[St(dc(),u=>{WD(u,i,s).each(m=>{Ws(u,i,"lock").each(b=>{vo.isOn(b)&&i.onLockedChange(u,m,b)})})})])])})}),GD=ye([cp("field1","field2"),cp("field2","field1"),Ji({factory:vc,schema:[_t("dom")],name:"lock",overrides:t=>({buttonBehaviours:Rt([vo.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])})})]),L3=(t,s,i,u)=>({uid:t.uid,dom:t.dom,components:s,behaviours:Pd.augment(t.coupledFieldBehaviours,[ko.config({find:P.some}),on.config({store:{mode:"manual",getValue:m=>{const b=XC(m,t,["field1","field2"]);return{[t.field1Name]:on.getValue(b.field1()),[t.field2Name]:on.getValue(b.field2())}},setValue:(m,b)=>{const w=XC(m,t,["field1","field2"]);na(b,t.field1Name)&&on.setValue(w.field1(),b[t.field1Name]),na(b,t.field2Name)&&on.setValue(w.field2(),b[t.field2Name])}}})]),apis:{getField1:m=>Ws(m,t,"field1"),getField2:m=>Ws(m,t,"field2"),getLock:m=>Ws(m,t,"lock")}}),nd=Yr({name:"FormCoupledInputs",configFields:P3(),partFields:GD(),factory:L3,apis:{getField1:(t,s)=>t.getField1(s),getField2:(t,s)=>t.getField2(s),getLock:(t,s)=>t.getLock(s)}}),ZD=t=>{const s={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},i=m=>m in s?s[m]:1;let u=t.value.toFixed(i(t.unit));return u.indexOf(".")!==-1&&(u=u.replace(/\.?0*$/,"")),u+t.unit},dA=t=>{const i=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(t);if(i!==null){const u=parseFloat(i[1]),m=i[2];return co.value({value:u,unit:m})}else return co.error(t)},hS=(t,s)=>{const i={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},u=m=>Bo(i,m);return t.unit===s?P.some(t.value):u(t.unit)&&u(s)?i[t.unit]===i[s]?P.some(t.value):P.some(t.value/i[t.unit]*i[s]):P.none()},fA=t=>P.none(),B3=(t,s)=>i=>hS(i,s).map(u=>({value:u*t,unit:s})),VU=(t,s)=>{const i=dA(t).toOptional(),u=dA(s).toOptional();return jd(i,u,(m,b)=>hS(m,b.unit).map(w=>b.value/w).map(w=>B3(w,b.unit)).getOr(fA)).getOr(fA)},UU=(t,s)=>{let i=fA;const u=fn("ratio-event"),m=j=>Tf(j,{tag:"span",classes:["tox-icon","tox-lock-icon__"+j]},s.icons),b=nd.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:s.translate(t.label.getOr("Constrain proportions"))}},components:[m("lock"),m("unlock")],buttonBehaviours:Rt([Gn.config({disabled:()=>!t.enabled||s.isDisabled()}),fa(),Vr.config({})])}),w=j=>({dom:{tag:"div",classes:["tox-form__group"]},components:j}),O=j=>ls.parts.field({factory:hy,inputClasses:["tox-textfield"],inputBehaviours:Rt([Gn.config({disabled:()=>!t.enabled||s.isDisabled()}),fa(),Vr.config({}),to("size-input-events",[St(af(),(J,oe)=>{Tn(J,u,{isField1:j})}),St(dl(),(J,oe)=>{Tn(J,td,{name:t.name})})])]),selectOnFocus:!1}),M=j=>({dom:{tag:"label",classes:["tox-label"]},components:[sr(s.translate(j))]}),B=nd.parts.field1(w([ls.parts.label(M("Width")),O(!0)])),z=nd.parts.field2(w([ls.parts.label(M("Height")),O(!1)]));return nd.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[B,z,w([M(M0),b])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(j,J,oe)=>{dA(on.getValue(j)).each(pe=>{i(pe).each(Oe=>{on.setValue(J,ZD(Oe))})})},coupledFieldBehaviours:Rt([Gn.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:j=>{nd.getField1(j).bind(ls.getField).each(Gn.disable),nd.getField2(j).bind(ls.getField).each(Gn.disable),nd.getLock(j).each(Gn.disable)},onEnabled:j=>{nd.getField1(j).bind(ls.getField).each(Gn.enable),nd.getField2(j).bind(ls.getField).each(Gn.enable),nd.getLock(j).each(Gn.enable)}}),fa(),to("size-input-events2",[St(u,(j,J)=>{const oe=J.event.isField1,pe=oe?nd.getField1(j):nd.getField2(j),Oe=oe?nd.getField2(j):nd.getField1(j),Ke=pe.map(on.getValue).getOr(""),$e=Oe.map(on.getValue).getOr("");i=VU(Ke,$e)})])])})},zU=(t,s,i)=>{const u=Af.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[sr(s.translate(t.label))]}),m=Af.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),b=Af.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Af.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:t.min,maxX:t.max,getInitialValue:ye(i.getOrThunk(()=>(Math.abs(t.max)-Math.abs(t.min))/2))},components:[u,m,b],sliderBehaviours:Rt([Rh.self(),$n.config({})]),onChoose:(w,O,M)=>{Tn(w,td,{name:t.name,value:M})}})},WU=(t,s)=>{const i=O=>({dom:{tag:"th",innerHtml:s.translate(O)}}),u=O=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:je(O,i)}]}),m=O=>({dom:{tag:"td",innerHtml:s.translate(O)}}),b=O=>({dom:{tag:"tr"},components:je(O,m)}),w=O=>({dom:{tag:"tbody"},components:je(O,b)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[u(t.header),w(t.cells)],behaviours:Rt([Vr.config({}),$n.config({})])}},$3=(t,s)=>{const i=t.label.map(oe=>N1(oe,s)),u=[Gn.config({disabled:()=>t.disabled||s.isDisabled()}),fa(),Rn.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:oe=>(Zo(oe,nS),P.some(!0))}),to("textfield-change",[St(dc(),(oe,pe)=>{Tn(oe,td,{name:t.name})}),St(gv(),(oe,pe)=>{Tn(oe,td,{name:t.name})})]),Vr.config({})],m=t.validation.map(oe=>np.config({getRoot:pe=>Bc(pe.element),invalidClass:"tox-invalid",validator:{validate:pe=>{const Oe=on.getValue(pe),Ke=oe.validator(Oe);return Mc.pure(Ke===!0?co.value(Oe):co.error(Ke))},validateOnLoad:oe.validateOnLoad}})).toArray(),b=t.placeholder.fold(ye({}),oe=>({placeholder:s.translate(oe)})),w=t.inputMode.fold(ye({}),oe=>({inputmode:oe})),O={...b,...w},M=ls.parts.field({tag:t.multiline===!0?"textarea":"input",...t.data.map(oe=>({data:oe})).getOr({}),inputAttributes:O,inputClasses:[t.classname],inputBehaviours:Rt(qt([u,m])),selectOnFocus:!1,factory:hy}),B=t.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[M]}:M,j=(t.flex?["tox-form__group--stretched"]:[]).concat(t.maximized?["tox-form-group--maximize"]:[]),J=[Gn.config({disabled:()=>t.disabled||s.isDisabled(),onDisabled:oe=>{ls.getField(oe).each(Gn.disable)},onEnabled:oe=>{ls.getField(oe).each(Gn.enable)}}),fa()];return eS(i,B,j,J)},F3=(t,s,i)=>$3({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:!t.enabled,classname:"tox-textfield",validation:P.none(),maximized:t.maximized,data:i},s),H3=(t,s,i)=>$3({name:t.name,multiline:!0,label:t.label,inputMode:P.none(),placeholder:t.placeholder,flex:!0,disabled:!t.enabled,classname:"tox-textarea",validation:P.none(),maximized:t.maximized,data:i},s),mS=(t,s)=>s.getAnimationRoot.fold(()=>t.element,i=>i(t)),L1=t=>t.dimension.property,Dy=(t,s)=>t.dimension.getDimension(s),My=(t,s)=>{const i=mS(t,s);mc(i,[s.shrinkingClass,s.growingClass])},qD=(t,s)=>{_s(t.element,s.openClass),hs(t.element,s.closedClass),Q(t.element,L1(s),"0px"),Ot(t.element)},jD=(t,s)=>{_s(t.element,s.closedClass),hs(t.element,s.openClass),Je(t.element,L1(s))},YD=(t,s,i,u)=>{i.setCollapsed(),Q(t.element,L1(s),Dy(s,t.element)),My(t,s),qD(t,s),s.onStartShrink(t),s.onShrunk(t)},V3=(t,s,i,u)=>{const m=u.getOrThunk(()=>Dy(s,t.element));i.setCollapsed(),Q(t.element,L1(s),m),Ot(t.element);const b=mS(t,s);_s(b,s.growingClass),hs(b,s.shrinkingClass),qD(t,s),s.onStartShrink(t)},U3=(t,s,i)=>{const u=Dy(s,t.element);(u==="0px"?YD:V3)(t,s,i,P.some(u))},z3=(t,s,i)=>{const u=mS(t,s),m=Ci(u,s.shrinkingClass),b=Dy(s,t.element);jD(t,s);const w=Dy(s,t.element);(m?()=>{Q(t.element,L1(s),b),Ot(t.element)}:()=>{qD(t,s)})(),_s(u,s.shrinkingClass),hs(u,s.growingClass),jD(t,s),Q(t.element,L1(s),w),i.setExpanded(),s.onStartGrow(t)},KD=(t,s,i)=>{if(i.isExpanded()){Je(t.element,L1(s));const u=Dy(s,t.element);Q(t.element,L1(s),u)}},GU=(t,s,i)=>{i.isExpanded()||z3(t,s,i)},W3=(t,s,i)=>{i.isExpanded()&&U3(t,s,i)},ZU=(t,s,i)=>{i.isExpanded()&&YD(t,s,i)},qU=(t,s,i)=>i.isExpanded(),G3=(t,s,i)=>i.isCollapsed(),XD=(t,s,i)=>{const u=mS(t,s);return Ci(u,s.growingClass)===!0},Z3=(t,s,i)=>{const u=mS(t,s);return Ci(u,s.shrinkingClass)===!0};var q3=Object.freeze({__proto__:null,refresh:KD,grow:GU,shrink:W3,immediateShrink:ZU,hasGrown:qU,hasShrunk:G3,isGrowing:XD,isShrinking:Z3,isTransitioning:(t,s,i)=>XD(t,s)||Z3(t,s),toggleGrow:(t,s,i)=>{(i.isExpanded()?U3:z3)(t,s,i)},disableTransitions:My,immediateGrow:(t,s,i)=>{i.isExpanded()||(jD(t,s),Q(t.element,L1(s),Dy(s,t.element)),My(t,s),i.setExpanded(),s.onStartGrow(t),s.onGrown(t))}}),YU=Object.freeze({__proto__:null,exhibit:(t,s,i)=>{const u=s.expanded;return gu(u?{classes:[s.openClass],styles:{}}:{classes:[s.closedClass],styles:uu(s.dimension.property,"0px")})},events:(t,s)=>Ms([ua(eh(),(i,u)=>{u.event.raw.propertyName===t.dimension.property&&(My(i,t),s.isExpanded()&&Je(i.element,t.dimension.property),(s.isExpanded()?t.onGrown:t.onShrunk)(i))})])}),KU=[_t("closedClass"),_t("openClass"),_t("shrinkingClass"),_t("growingClass"),$o("getAnimationRoot"),ze("onShrunk"),ze("onStartShrink"),ze("onGrown"),ze("onStartGrow"),qe("expanded",!1),Bl("dimension",qr("property",{width:[Hs("property","width"),Hs("getDimension",t=>nr(t)+"px")],height:[Hs("property","height"),Hs("getDimension",t=>vn(t)+"px")]}))],XU=Object.freeze({__proto__:null,init:t=>{const s=Pn(t.expanded),i=()=>"expanded: "+s.get();return ja({isExpanded:()=>s.get()===!0,isCollapsed:()=>s.get()===!1,setCollapsed:xt(s.set,!1),setExpanded:xt(s.set,!0),readState:i})}});const od=Bi({fields:KU,name:"sliding",active:YU,apis:q3,state:XU}),j3=t=>({isEnabled:()=>!Gn.isDisabled(t),setEnabled:s=>Gn.set(t,!s),setActive:s=>{const i=t.element;s?(hs(i,"tox-tbtn--enabled"),eo(i,"aria-pressed",!0)):(_s(i,"tox-tbtn--enabled"),C(i,"aria-pressed"))},isActive:()=>Ci(t.element,"tox-tbtn--enabled"),setText:s=>{Tn(t,zd,{text:s})},setIcon:s=>Tn(t,Oy,{icon:s})}),gS=(t,s,i,u,m=!0)=>VD({text:t.text,icon:t.icon,tooltip:t.tooltip,searchable:t.search.isSome(),role:u,fetch:(b,w)=>{const O={pattern:t.search.isSome()?P7(b):""};t.fetch(M=>{w(Ry(M,Hm.CLOSE_ON_EXECUTE,i,{isHorizontalMenu:!1,search:t.search}))},O,j3(b))},onSetup:t.onSetup,getApi:j3,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...m?[Vr.config({})]:[]]},s,i.shared),QU=(t,s,i)=>{const u=b=>w=>{const O=!w.isActive();w.setActive(O),b.storage.set(O),i.shared.getSink().each(M=>{s().getOpt(M).each(B=>{Ic(B.element),Tn(B,tp,{name:b.name,value:b.storage.get()})})})},m=b=>w=>{w.setActive(b.storage.get())};return b=>{b(je(t,w=>{const O=w.text.fold(()=>({}),M=>({text:M}));return{type:w.type,active:!1,...O,onAction:u(w),onSetup:m(w)}}))}},Y3=t=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{title:t,"aria-label":t}},components:[sr(t)]}),hA=fn("leaf-label-event-id"),QD=({leaf:t,onLeafAction:s,visible:i,treeId:u,backstage:m})=>{const b=t.menu.map(O=>gS(O,"tox-mbtn",m,P.none(),i)),w=[Y3(t.title)];return b.each(O=>w.push(O)),vc.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(i?["tox-tree--leaf__label--visible"]:[])},components:w,role:"treeitem",action:O=>{s(t.id),O.getSystem().broadcastOn([`update-active-item-${u}`],{value:t.id})},eventOrder:{[wi()]:[hA,"keying"]},buttonBehaviours:Rt([...i?[Vr.config({})]:[],vo.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),Ul.config({channels:{[`update-active-item-${u}`]:{onReceive:(O,M)=>{(M.value===t.id?vo.on:vo.off)(O)}}}}),to(hA,[St(wi(),(O,M)=>{const B=M.event.raw.code==="ArrowLeft",z=M.event.raw.code==="ArrowRight";B?(qc(O.element,".tox-tree--directory").each(j=>{O.getSystem().getByDom(j).each(J=>{bf(j,".tox-tree--directory__label").each(oe=>{J.getSystem().getByDom(oe).each($n.focus)})})}),M.stop()):z&&M.stop()})])])})},JU=(t,s,i)=>Tf(t,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:i},s),ez=(t,s)=>JU(t,s,[]),rw=fn("directory-label-event-id"),JD=({directory:t,visible:s,noChildren:i,backstage:u})=>{const m=t.menu.map(O=>gS(O,"tox-mbtn",u,P.none())),b=[{dom:{tag:"div",classes:["tox-chevron"]},components:[ez("chevron-right",u.shared.providers.icons)]},Y3(t.title)];m.each(O=>{b.push(O)});const w=O=>{qc(O.element,".tox-tree--directory").each(M=>{O.getSystem().getByDom(M).each(B=>vo.toggle(B))})};return vc.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(s?["tox-tree--directory__label--visible"]:[])},components:b,action:w,eventOrder:{[wi()]:[rw,"keying"]},buttonBehaviours:Rt([...s?[Vr.config({})]:[],to(rw,[St(wi(),(O,M)=>{const B=M.event.raw.code==="ArrowRight",z=M.event.raw.code==="ArrowLeft";B&&i&&M.stop(),(B||z)&&qc(O.element,".tox-tree--directory").each(j=>{O.getSystem().getByDom(j).each(J=>{!vo.isOn(J)&&B||vo.isOn(J)&&z?(w(O),M.stop()):z&&!vo.isOn(J)&&(qc(J.element,".tox-tree--directory").each(oe=>{bf(oe,".tox-tree--directory__label").each(pe=>{J.getSystem().getByDom(pe).each($n.focus)})}),M.stop())})})})])])})},tz=({children:t,onLeafAction:s,visible:i,treeId:u,backstage:m})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:t.map(b=>b.type==="leaf"?QD({leaf:b,onLeafAction:s,visible:i,treeId:u,backstage:m}):eM({directory:b,onLeafAction:s,labelTabstopping:i,treeId:u,backstage:m})),behaviours:Rt([od.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking"}),Kn.config({})])}),eM=({directory:t,onLeafAction:s,labelTabstopping:i,treeId:u,backstage:m})=>{const{children:b}=t,w=O=>b.map(M=>M.type==="leaf"?QD({leaf:M,onLeafAction:s,visible:O,treeId:u,backstage:m}):eM({directory:M,onLeafAction:s,labelTabstopping:O,treeId:u,backstage:m}));return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[JD({directory:t,visible:i,noChildren:t.children.length===0,backstage:m}),tz({children:b,onLeafAction:s,visible:!1,treeId:u,backstage:m})],behaviours:Rt([vo.config({...t.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(O,M)=>{const B=O.components()[1],z=w(M);M?od.grow(B):od.shrink(B),Kn.set(B,z)}})])}},tM=(t,s)=>{const i=t.onLeafAction.getOr(ne),u=fn("tree-id"),m=t.items.map(b=>b.type==="leaf"?QD({leaf:b,onLeafAction:i,visible:!0,treeId:u,backstage:s}):eM({directory:b,onLeafAction:i,labelTabstopping:!0,treeId:u,backstage:s}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:m,behaviours:Rt([Rn.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1})])}};var nM=Object.freeze({__proto__:null,events:(t,s)=>{const u=t.stream.streams.setup(t,s);return Ms([St(t.event,u),qa(()=>s.cancel())].concat(t.cancelEvent.map(m=>[St(m,()=>s.cancel())]).getOr([])))}});const K3=(t,s)=>{let i=null;return{cancel:()=>{re(i)||(clearTimeout(i),i=null)},throttle:(...b)=>{re(i)&&(i=setTimeout(()=>{i=null,t.apply(null,b)},s))}}},oM=(t,s)=>{let i=null;const u=()=>{re(i)||(clearTimeout(i),i=null)};return{cancel:u,throttle:(...b)=>{u(),i=setTimeout(()=>{i=null,t.apply(null,b)},s)}}},X3=t=>{const s=Pn(null);return ja({readState:()=>({timer:s.get()!==null?"set":"unset"}),setTimer:b=>{s.set(b)},cancel:()=>{const b=s.get();b!==null&&b.cancel()}})};var Q3=Object.freeze({__proto__:null,throttle:X3,init:t=>t.stream.streams.state(t)});const oz=(t,s)=>{const i=t.stream,u=oM(t.onStream,i.delay);return s.setTimer(u),(m,b)=>{u.throttle(m,b),i.stopEvent&&b.stop()}};var J3=[Bl("stream",qr("mode",{throttle:[_t("delay"),qe("stopEvent",!0),Hs("streams",{setup:oz,state:X3})]})),qe("event","input"),$o("cancelEvent"),pm("onStream")];const mA=Bi({fields:J3,name:"streaming",active:nM,state:Q3}),gA=(t,s,i)=>{const u=on.getValue(i);on.setValue(s,u),rM(s)},sM=(t,s)=>{const i=t.element,u=ml(i),m=i.dom;Mi(i,"type")!=="number"&&s(m,u)},rM=t=>{sM(t,(s,i)=>s.setSelectionRange(i.length,i.length))},eB=(t,s)=>{sM(t,(i,u)=>i.setSelectionRange(s,u.length))},sz=(t,s,i)=>{if(t.selectsOver){const u=on.getValue(s),m=t.getDisplayText(u),b=on.getValue(i);return t.getDisplayText(b).indexOf(m)===0?P.some(()=>{gA(t,s,i),eB(s,m.length)}):P.none()}else return P.none()},iM=ye("alloy.typeahead.itemexecute"),rz=(t,s,i,u)=>{const m=(j,J,oe)=>{t.previewing.set(!1);const pe=Kr.getCoupled(j,"sandbox");if(Ao.isOpen(pe))ko.getCurrent(pe).each(Oe=>{ts.getHighlighted(Oe).fold(()=>{oe(Oe)},()=>{Kb(pe,Oe.element,"keydown",J)})});else{const Oe=Ke=>{ko.getCurrent(Ke).each(oe)};Hx(t,w(j),j,pe,u,Oe,Yl.HighlightMenuAndItem).get(ne)}},b=YP(t),w=j=>J=>J.map(oe=>{const pe=ng(oe.menus),Oe=lt(pe,$e=>so($e.items,Ye=>Ye.type==="item"));return on.getState(j).update(je(Oe,$e=>$e.data)),oe}),O=j=>ko.getCurrent(j),M="typeaheadevents",B=[$n.config({}),on.config({onSetValue:t.onSetValue,store:{mode:"dataset",getDataKey:j=>ml(j.element),getFallbackEntry:j=>({value:j,meta:{}}),setValue:(j,J)=>{pu(j.element,t.model.getDisplayText(J))},...t.initialData.map(j=>uu("initialValue",j)).getOr({})}}),mA.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:(j,J)=>{const oe=Kr.getCoupled(j,"sandbox");if($n.isFocused(j)&&ml(j.element).length>=t.minChars){const Oe=O(oe).bind($e=>ts.getHighlighted($e).map(on.getValue));t.previewing.set(!0);const Ke=$e=>{O(oe).each(Ye=>{Oe.fold(()=>{t.model.selectsOver&&ts.highlightFirst(Ye)},rt=>{ts.highlightBy(Ye,dt=>on.getValue(dt).value===rt.value),ts.getHighlighted(Ye).orThunk(()=>(ts.highlightFirst(Ye),P.none()))})})};Hx(t,w(j),j,oe,u,Ke,Yl.HighlightJustMenu).get(ne)}},cancelEvent:$p()}),Rn.config({mode:"special",onDown:(j,J)=>(m(j,J,ts.highlightFirst),P.some(!0)),onEscape:j=>{const J=Kr.getCoupled(j,"sandbox");return Ao.isOpen(J)?(Ao.close(J),P.some(!0)):P.none()},onUp:(j,J)=>(m(j,J,ts.highlightLast),P.some(!0)),onEnter:j=>{const J=Kr.getCoupled(j,"sandbox"),oe=Ao.isOpen(J);if(oe&&!t.previewing.get())return O(J).bind(pe=>ts.getHighlighted(pe)).map(pe=>(Tn(j,iM(),{item:pe}),!0));{const pe=on.getValue(j);return Zo(j,$p()),t.onExecute(J,j,pe),oe&&Ao.close(J),P.some(!0)}}}),vo.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),Kr.config({others:{sandbox:j=>XT(t,j,{onOpen:()=>vo.on(j),onClose:()=>vo.off(j)})}}),to(M,[or(j=>{t.lazyTypeaheadComp.set(P.some(j))}),qa(j=>{t.lazyTypeaheadComp.set(P.none())}),fl(j=>{const J=ne;rD(t,w(j),j,u,J,Yl.HighlightMenuAndItem).get(ne)}),St(iM(),(j,J)=>{const oe=Kr.getCoupled(j,"sandbox");gA(t.model,j,J.event.item),Zo(j,$p()),t.onItemExecute(j,oe,J.event.item,on.getValue(j)),Ao.close(oe),rM(j)})].concat(t.dismissOnBlur?[St(mv(),j=>{const J=Kr.getCoupled(j,"sandbox");gl(J.element).isNone()&&Ao.close(J)})]:[]))],z={[fu()]:[on.name(),mA.name(),M],...t.eventOrder};return{uid:t.uid,dom:KP(Xs(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...b,...mr(t.typeaheadBehaviours,B)},eventOrder:z}},tB=ye([$o("lazySink"),_t("fetch"),qe("minChars",5),qe("responseTime",1e3),ze("onOpen"),qe("getHotspot",P.some),qe("getAnchorOverrides",ye({})),qe("layouts",P.none()),qe("eventOrder",{}),Kf("model",{},[qe("getDisplayText",t=>t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value),qe("selectsOver",!0),qe("populateFromBrowse",!0)]),ze("onSetValue"),rr("onExecute"),ze("onItemExecute"),qe("inputClasses",[]),qe("inputAttributes",{}),qe("inputStyles",{}),qe("matchWidth",!0),qe("useMinWidth",!1),qe("dismissOnBlur",!0),Vl(["openClass"]),$o("initialData"),da("typeaheadBehaviours",[$n,on,mA,Rn,vo,Kr]),ds("lazyTypeaheadComp",()=>Pn(P.none)),ds("previewing",()=>Pn(!0))].concat(jP()).concat(aD())),iz=ye([Ld({schema:[Gu()],name:"menu",overrides:t=>({fakeFocus:!0,onHighlightItem:(s,i,u)=>{t.previewing.get()?t.lazyTypeaheadComp.get().each(m=>{sz(t.model,m,u).fold(()=>{t.model.selectsOver?(ts.dehighlight(i,u),t.previewing.set(!0)):t.previewing.set(!1)},b=>{b(),t.previewing.set(!1)})}):t.lazyTypeaheadComp.get().each(m=>{t.model.populateFromBrowse&&gA(t.model,m,u)})},onExecute:(s,i)=>t.lazyTypeaheadComp.get().map(u=>(Tn(u,iM(),{item:i}),!0)),onHover:(s,i)=>{t.previewing.set(!1),t.lazyTypeaheadComp.get().each(u=>{t.model.populateFromBrowse&&gA(t.model,u,i)})}})})]),nB=Yr({name:"Typeahead",configFields:tB(),partFields:iz(),factory:rz}),Dh=t=>({...t,toCached:()=>Dh(t.toCached()),bindFuture:M=>Dh(t.bind(B=>B.fold(z=>Mc.pure(co.error(z)),z=>M(z)))),bindResult:M=>Dh(t.map(B=>B.bind(M))),mapResult:M=>Dh(t.map(B=>B.map(M))),mapError:M=>Dh(t.map(B=>B.mapError(M))),foldResult:(M,B)=>t.map(z=>z.fold(M,B)),withTimeout:(M,B)=>Dh(Mc.nu(z=>{let j=!1;const J=setTimeout(()=>{j=!0,z(co.error(B()))},M);t.get(oe=>{j||(clearTimeout(J),z(oe))})}))}),oB=t=>Dh(Mc.nu(t)),pA=t=>Dh(Mc.pure(co.value(t))),cz={nu:oB,wrap:Dh,pure:pA,value:pA,error:t=>Dh(Mc.pure(co.error(t))),fromResult:t=>Dh(Mc.pure(t)),fromFuture:t=>Dh(t.map(co.value)),fromPromise:t=>oB(s=>{t.then(i=>{s(co.value(i))},i=>{s(co.error(i))})})},pS=(t,s,i=[],u,m,b)=>{const w=s.fold(()=>({}),B=>({action:B})),O={buttonBehaviours:Rt([Th.button(()=>!t.enabled||b.isDisabled()),fa(),Vr.config({}),to("button press",[bv("click"),bv("mousedown")])].concat(i)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...w},M=Xs(O,{dom:u});return Xs(M,{components:m})},lz=(t,s,i,u=[])=>{const m=t.tooltip.map(M=>({"aria-label":i.translate(M),title:i.translate(M)})).getOr({}),b={tag:"button",classes:["tox-tbtn"],attributes:m},w=t.icon.map(M=>Ay(M,i.icons)),O=Z_([w]);return pS(t,s,u,b,O,i)},vA=t=>{switch(t){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},sB=(t,s,i,u=[],m=[])=>{const b=i.translate(t.text),w=t.icon.map(J=>Ay(J,i.icons)),O=[w.getOrThunk(()=>sr(b))],M=t.buttonType.getOr(!t.primary&&!t.borderless?"secondary":"primary"),j={tag:"button",classes:[...vA(M),...w.isSome()?["tox-button--icon"]:[],...t.borderless?["tox-button--naked"]:[],...m],attributes:{title:b}};return pS(t,s,u,j,O,i)},rB=(t,s,i,u=[],m=[])=>{const b=sB(t,P.some(s),i,u,m);return vc.sketch(b)},iB=(t,s)=>i=>{s==="custom"?Tn(i,tp,{name:t,value:{}}):s==="submit"?Zo(i,nS):s==="cancel"?Zo(i,Cy):console.error("Unknown button type: ",s)},uz=(t,s)=>s==="menu",aB=(t,s)=>s==="custom"||s==="cancel"||s==="submit",dz=(t,s)=>s==="togglebutton",fz=(t,s)=>{var i,u,m;const b=P.from(t.icon).map(Ye=>Ih(Ye,s.icons)).map(Oo),w=Ye=>{Tn(Ye,tp,{name:t.name,value:{setIcon:rt=>{b.map(dt=>dt.getOpt(Ye).each(Wt=>{Kn.set(Wt,[Ih(rt,s.icons)])}))}}})},O={...t,name:(i=t.name)!==null&&i!==void 0?i:"",primary:t.buttonType==="primary",buttonType:P.from(t.buttonType),tooltip:P.from(t.tooltip),icon:P.from(t.name),enabled:(u=t.enabled)!==null&&u!==void 0?u:!1,borderless:!1},M=O.tooltip.map(Ye=>({"aria-label":s.translate(Ye),title:s.translate(Ye)})).getOr({}),B=vA((m=t.buttonType)!==null&&m!==void 0?m:"secondary"),z=!!t.icon&&!!t.text,j={tag:"button",classes:[...B.concat(["tox-button--icon"]),...t.active?["tox-button--enabled"]:[],...z?["tox-button--icon-and-text"]:[]],attributes:M},J=[],oe=s.translate(t.text),pe=sr(oe),Ke=[...Z_([b.map(Ye=>Ye.asSpec())]),...z?[pe]:[]],$e=pS(O,P.some(w),J,j,Ke,s);return vc.sketch($e)},vS=(t,s,i)=>{if(uz(t,s)){const u=()=>w,m=t,b={...t,type:"menubutton",search:P.none(),onSetup:O=>(O.setEnabled(t.enabled),ne),fetch:QU(m.items,u,i)},w=Oo(gS(b,"tox-tbtn",i,P.none()));return w.asSpec()}else if(aB(t,s)){const u=iB(t.name,s),m={...t,borderless:!1};return rB(m,u,i.shared.providers,[])}else if(dz(t,s)){const u={...t,tooltip:t.tooltip,text:t.text.getOrUndefined(),buttonType:t.buttonType.getOrUndefined()};return fz(u,i.shared.providers)}else throw console.error("Unknown footer button type: ",s),new Error("Unknown footer button type")},hz=(t,s)=>{const i=iB(t.name,"custom");return M4(P.none(),ls.parts.field({factory:vc,...sB(t,P.some(i),s,[Qr.memory(""),Rh.self()])}))},mz={type:"separator"},gz=t=>({type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:ne}),bA=(t,s)=>({type:"menuitem",value:s,text:t,meta:{attach:void 0},onAction:ne}),pz=t=>je(t,gz),vz=(t,s)=>so(s,i=>i.type===t),aM=(t,s)=>pz(vz(t,s)),cB=t=>aM("header",t.targets),lB=t=>aM("anchor",t.targets),yA=t=>P.from(t.anchorTop).map(s=>bA("<top>",s)).toArray(),bz=t=>P.from(t.anchorBottom).map(s=>bA("<bottom>",s)).toArray(),yz=t=>je(t,s=>bA(s,s)),Ez=t=>ys(t,(s,i)=>s.length===0||i.length===0?s.concat(i):s.concat(mz,i),[]),cM=(t,s)=>{const i=t.toLowerCase();return so(s,u=>{var m;const b=u.meta!==void 0&&u.meta.text!==void 0?u.meta.text:u.text,w=(m=u.value)!==null&&m!==void 0?m:"";return zi(b.toLowerCase(),i)||zi(w.toLowerCase(),i)})},uB=(t,s,i)=>{const u=on.getValue(s),m=u.meta.text!==void 0?u.meta.text:u.value;return i.getLinkInformation().fold(()=>[],w=>{const O=cM(m,yz(i.getHistory(t)));return t==="file"?Ez([O,cM(m,cB(w)),cM(m,qt([yA(w),lB(w),bz(w)]))]):O})},lM=fn("aria-invalid"),_z=(t,s,i,u)=>{const m=s.shared.providers,b=Ye=>{const rt=on.getValue(Ye);i.addToHistory(rt.value,t.filetype)},w={...u.map(Ye=>({initialData:Ye})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":lM,type:"url"},minChars:0,responseTime:0,fetch:Ye=>{const rt=uB(t.filetype,Ye,i),dt=Ry(rt,Hm.BUBBLE_TO_SANDBOX,s,{isHorizontalMenu:!1,search:P.none()});return Mc.pure(dt)},getHotspot:Ye=>pe.getOpt(Ye),onSetValue:(Ye,rt)=>{Ye.hasConfigured(np)&&np.run(Ye).get(ne)},typeaheadBehaviours:Rt([...i.getValidationHandler().map(Ye=>np.config({getRoot:rt=>Bc(rt.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(rt,dt)=>{z.getOpt(rt).each(Wt=>{eo(Wt.element,"title",m.translate(dt))})}},validator:{validate:rt=>{const dt=on.getValue(rt);return cz.nu(Wt=>{Ye({type:t.filetype,url:dt.value},Dt=>{if(Dt.status==="invalid"){const en=co.error(Dt.message);Wt(en)}else{const en=co.value(Dt.message);Wt(en)}})})},validateOnLoad:!1}})).toArray(),Gn.config({disabled:()=>!t.enabled||m.isDisabled()}),Vr.config({}),to("urlinput-events",[St(dc(),Ye=>{const rt=ml(Ye.element),dt=rt.trim();dt!==rt&&pu(Ye.element,dt),t.filetype==="file"&&Tn(Ye,td,{name:t.name})}),St(dl(),Ye=>{Tn(Ye,td,{name:t.name}),b(Ye)}),St(gv(),Ye=>{Tn(Ye,td,{name:t.name}),b(Ye)})])]),eventOrder:{[dc()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:Ye=>Ye.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:s.shared.getSink,parts:{menu:mx(!1,1,"normal")},onExecute:(Ye,rt,dt)=>{Tn(rt,nS,{})},onItemExecute:(Ye,rt,dt,Wt)=>{b(Ye),Tn(Ye,td,{name:t.name})}},O=ls.parts.field({...w,factory:nB}),M=t.label.map(Ye=>N1(Ye,m)),z=Oo(((Ye,rt,dt=Ye,Wt=Ye)=>Tf(dt,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+Ye],attributes:{title:m.translate(Wt),"aria-live":"polite",...rt.fold(()=>({}),Dt=>({id:Dt}))}},m.icons))("invalid",P.some(lM),"warning")),j=Oo({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[z.asSpec()]}),J=i.getUrlPicker(t.filetype),oe=fn("browser.url.event"),pe=Oo({dom:{tag:"div",classes:["tox-control-wrap"]},components:[O,j.asSpec()],behaviours:Rt([Gn.config({disabled:()=>!t.enabled||m.isDisabled()})])}),Oe=Oo(rB({name:t.name,icon:P.some("browse"),text:t.label.getOr(""),enabled:t.enabled,primary:!1,buttonType:P.none(),borderless:!0},Ye=>Zo(Ye,oe),m,[],["tox-browse-url"])),Ke=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:qt([[pe.asSpec()],J.map(()=>Oe.asSpec()).toArray()])}),$e=Ye=>{ko.getCurrent(Ye).each(rt=>{const dt=on.getValue(rt),Wt={fieldname:t.name,...dt};J.each(Dt=>{Dt(Wt).get(en=>{on.setValue(rt,en),Tn(Ye,td,{name:t.name})})})})};return ls.sketch({dom:k4(),components:M.toArray().concat([Ke()]),fieldBehaviours:Rt([Gn.config({disabled:()=>!t.enabled||m.isDisabled(),onDisabled:Ye=>{ls.getField(Ye).each(Gn.disable),Oe.getOpt(Ye).each(Gn.disable)},onEnabled:Ye=>{ls.getField(Ye).each(Gn.enable),Oe.getOpt(Ye).each(Gn.enable)}}),fa(),to("url-input-events",[St(oe,$e)])])})},wz=(t,s)=>Sh.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${t.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[vc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:hP(t.icon,s.icons),attributes:{title:s.translate(t.iconTooltip)}},action:i=>{Tn(i,tp,{name:"alert-banner",value:t.url})},buttonBehaviours:Rt([wT()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:s.translate(t.text)}}]}),dB=(t,s)=>{t.dom.checked=s},Cz=t=>t.dom.checked,Tz=(t,s,i)=>{const u=M=>(M.element.dom.click(),P.some(!0)),m=ls.parts.field({factory:{sketch:Ge},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Rt([Rh.self(),Gn.config({disabled:()=>!t.enabled||s.isDisabled()}),Vr.config({}),$n.config({}),Qr.withElement(i,Cz,dB),Rn.config({mode:"special",onEnter:u,onSpace:u,stopSpaceKeyup:!0}),to("checkbox-events",[St(dl(),(M,B)=>{Tn(M,td,{name:t.name})})])])}),b=ls.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[sr(s.translate(t.label))],behaviours:Rt([oS.config({})])}),w=M=>Tf(M==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+M]},s.icons),O=Oo({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[w("checked"),w("unchecked")]});return ls.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[m,O.asSpec(),b],fieldBehaviours:Rt([Gn.config({disabled:()=>!t.enabled||s.isDisabled(),disableClass:"tox-checkbox--disabled",onDisabled:M=>{ls.getField(M).each(Gn.disable)},onEnabled:M=>{ls.getField(M).each(Gn.enable)}}),fa()])})},mo=t=>t.presets==="presentation"?Sh.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):Sh.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:Rt([Vr.config({}),$n.config({})])}),mi=t=>(s,i,u,m)=>nn(i,"name").fold(()=>t(i,m,P.none()),b=>s.field(b,t(i,m,nn(u,b)))),fB=t=>(s,i,u,m)=>{const b=Xs(i,{source:"dynamic"});return mi(t)(s,b,u,m)},hB={bar:mi((t,s)=>tV(t,s.shared)),collection:mi((t,s,i)=>aV(t,s.shared.providers,i)),alertbanner:mi((t,s)=>wz(t,s.shared.providers)),input:mi((t,s,i)=>F3(t,s.shared.providers,i)),textarea:mi((t,s,i)=>H3(t,s.shared.providers,i)),label:mi((t,s)=>uA(t,s.shared)),iframe:fB((t,s,i)=>OU(t,s.shared.providers,i)),button:mi((t,s)=>hz(t,s.shared.providers)),checkbox:mi((t,s,i)=>Tz(t,s.shared.providers,i)),colorinput:mi((t,s,i)=>gV(t,s.shared,s.colorinput,i)),colorpicker:mi((t,s,i)=>CU(t,s.shared.providers,i)),dropzone:mi((t,s,i)=>ip(t,s.shared.providers,i)),grid:mi((t,s)=>$D(t,s.shared)),listbox:mi((t,s,i)=>BU(t,s,i)),selectbox:mi((t,s,i)=>HU(t,s.shared.providers,i)),sizeinput:mi((t,s)=>UU(t,s.shared.providers)),slider:mi((t,s,i)=>zU(t,s.shared.providers,i)),urlinput:mi((t,s,i)=>_z(t,s,s.urlinput,i)),customeditor:mi(SU),htmlpanel:mi(mo),imagepreview:mi((t,s,i)=>ap(t,i)),table:mi((t,s)=>WU(t,s.shared.providers)),tree:mi((t,s)=>tM(t,s)),panel:mi((t,s)=>$U(t,s))},mB={field:(t,s)=>s,record:ye([])},uM=(t,s,i,u)=>{const m=Xs(u,{shared:{interpreter:b=>EA(t,b,i,m)}});return EA(t,s,i,m)},EA=(t,s,i,u)=>nn(hB,s.type).fold(()=>(console.error(`Unknown factory type "${s.type}", defaulting to container: `,s),s),m=>m(t,s,i,u)),Sz=(t,s,i)=>EA(mB,t,s,i),Mh="layout-inset",dM=t=>t.x,fM=(t,s)=>t.x+t.width/2-s.width/2,hM=(t,s)=>t.x+t.width-s.width,mM=t=>t.y,gM=(t,s)=>t.y+t.height-s.height,pM=(t,s)=>t.y+t.height/2-s.height/2,iw=(t,s,i)=>Ti(hM(t,s),gM(t,s),i.insetSouthwest(),Qp(),"southwest",Pi(t,{right:0,bottom:3}),Mh),bS=(t,s,i)=>Ti(dM(t),gM(t,s),i.insetSoutheast(),Dv(),"southeast",Pi(t,{left:1,bottom:3}),Mh),yS=(t,s,i)=>Ti(hM(t,s),mM(t),i.insetNorthwest(),uh(),"northwest",Pi(t,{right:0,top:2}),Mh),ES=(t,s,i)=>Ti(dM(t),mM(t),i.insetNortheast(),vm(),"northeast",Pi(t,{left:1,top:2}),Mh),lp=(t,s,i)=>Ti(fM(t,s),mM(t),i.insetNorth(),Ya(),"north",Pi(t,{top:2}),Mh),_S=(t,s,i)=>Ti(fM(t,s),gM(t,s),i.insetSouth(),Jp(),"south",Pi(t,{bottom:3}),Mh),gB=(t,s,i)=>Ti(hM(t,s),pM(t,s),i.insetEast(),e1(),"east",Pi(t,{right:0}),Mh),vM=(t,s,i)=>Ti(dM(t),pM(t,s),i.insetWest(),m0(),"west",Pi(t,{left:1}),Mh),xz=t=>{switch(t){case"north":return lp;case"northeast":return ES;case"northwest":return yS;case"south":return _S;case"southeast":return bS;case"southwest":return iw;case"east":return gB;case"west":return vM}},pB=(t,s,i,u,m)=>$g(u).map(xz).getOr(lp)(t,s,i,u,m),Az=t=>{switch(t){case"north":return _S;case"northeast":return bS;case"northwest":return iw;case"south":return lp;case"southeast":return ES;case"southwest":return yS;case"east":return vM;case"west":return gB}},Oz=(t,s,i,u,m)=>$g(u).map(Az).getOr(lp)(t,s,i,u,m),vB={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},Rz=(t,s,i)=>{const m={maxHeightFunction:fh()},b=()=>({type:"node",root:Wi(va(t())),node:P.from(t()),bubble:ju(12,12,vB),layouts:{onRtl:()=>[ES],onLtr:()=>[yS]},overrides:m}),w=()=>({type:"hotspot",hotspot:s(),bubble:ju(-12,12,vB),layouts:{onRtl:()=>[Li,li,Xi],onLtr:()=>[li,Li,Xi]},overrides:m});return()=>i()?b():w()},Iz=(t,s,i)=>{const u=()=>({type:"node",root:Wi(va(t())),node:P.from(t()),layouts:{onRtl:()=>[lp],onLtr:()=>[lp]}}),m=()=>({type:"hotspot",hotspot:s(),layouts:{onRtl:()=>[Xi],onLtr:()=>[Xi]}});return()=>i()?u():m()},Dz=(t,s)=>()=>({type:"selection",root:s(),getSelection:()=>{const i=t.selection.getRng();return P.some(wf.range(Ze.fromDom(i.startContainer),i.startOffset,Ze.fromDom(i.endContainer),i.endOffset))}}),Mz=t=>s=>({type:"node",root:t(),node:s}),kz=(t,s,i)=>{const u=dy(t),m=()=>Ze.fromDom(t.getBody()),b=()=>Ze.fromDom(t.getContentAreaContainer()),w=()=>u||!i();return{inlineDialog:Rz(b,s,w),banner:Iz(b,s,w),cursor:Dz(t,m),node:Mz(m)}},Nz=t=>(s,i)=>{JI(t)(s,i)},bB=t=>()=>jI(t),Pz=t=>s=>Y_(t,s),Lz=t=>s=>Fx(t,s),Bz=t=>({colorPicker:Nz(t),hasCustomColors:bB(t),getColors:Pz(t),getColorCols:Lz(t)}),$z=t=>()=>IP(t),Fz=t=>({isDraggableModal:$z(t)}),Hz=t=>{const s=Pn(dI(t)?"bottom":"top");return{isPositionedAtTop:()=>s.get()==="top",getDockingMode:s.get,setDockingMode:s.set}},bM=t=>na(t,"items"),yB=t=>na(t,"format"),yM=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],Vz=t=>Bo(t,"items"),EB=t=>Bo(t,"block"),_B=t=>Bo(t,"inline"),wB=t=>Bo(t,"selector"),CB=t=>ys(t,(s,i)=>{if(Vz(i)){const u=CB(i.items);return{customFormats:s.customFormats.concat(u.customFormats),formats:s.formats.concat([{title:i.title,items:u.formats}])}}else if(_B(i)||EB(i)||wB(i)){const m=`custom-${V(i.name)?i.name:i.title.toLowerCase()}`;return{customFormats:s.customFormats.concat([{name:m,format:i}]),formats:s.formats.concat([{title:i.title,format:m,icon:i.icon}])}}else return{...s,formats:s.formats.concat(i)}},{customFormats:[],formats:[]}),TB=(t,s)=>{const i=CB(s),u=m=>{At(m,b=>{t.formatter.has(b.name)||t.formatter.register(b.name,b.format)})};return t.formatter?u(i.customFormats):t.on("init",()=>{u(i.customFormats)}),i.formats},EM=t=>yP(t).map(s=>{const i=TB(t,s);return EP(t)?yM.concat(i):i}).getOr(yM),Uz=t=>{const s=js(t);return s.length===1&&uo(s,"title")},_M=(t,s,i)=>({...t,type:"formatter",isSelected:s(t.format),getStylePreview:i(t.format)}),SB=(t,s,i,u)=>{const m=M=>_M(M,i,u),b=M=>{const B=O(M.items);return{...M,type:"submenu",getStyleItems:ye(B)}},w=M=>{const B=V(M.name)?M.name:fn(M.title),z=`custom-${B}`,j={...M,type:"formatter",format:z,isSelected:i(z),getStylePreview:u(z)};return t.formatter.register(B,j),j},O=M=>je(M,B=>bM(B)?b(B):yB(B)?m(B):Uz(B)?{...B,type:"separator"}:w(B));return O(s)},zz=t=>{const s=O=>()=>t.formatter.match(O),i=O=>()=>{const M=t.formatter.get(O);return M!==void 0?P.some({tag:M.length>0&&(M[0].inline||M[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(O))}):P.none()},u=Pn([]),m=Pn([]),b=Pn(!1);return t.on("PreInit",O=>{const M=EM(t),B=SB(t,M,s,i);u.set(B)}),t.on("addStyleModifications",O=>{const M=SB(t,O.items,s,i);m.set(M),b.set(O.replace)}),{getData:()=>{const O=b.get()?[]:u.get(),M=m.get();return O.concat(M)}}},Zm=t=>de(t)&&t.nodeType===1,_A=xy.trim,wS=t=>s=>!!(Zm(s)&&(s.contentEditable===t||s.getAttribute("data-mce-contenteditable")===t)),Wz=wS("true"),wM=wS("false"),xB=(t,s,i,u,m)=>({type:t,title:s,url:i,level:u,attach:m}),CM=t=>{let s=t;for(;s=s.parentNode;){const i=s.contentEditable;if(i&&i!=="inherit")return Wz(s)}return!1},AB=(t,s)=>je(fi(Ze.fromDom(s),t),i=>i.dom),wA=t=>t.innerText||t.textContent,Gz=t=>t.id?t.id:fn("h"),OB=t=>t&&t.nodeName==="A"&&(t.id||t.name)!==void 0,RB=t=>OB(t)&&IB(t),CA=t=>t&&/^(H[1-6])$/.test(t.nodeName),IB=t=>CM(t)&&!wM(t),Zz=t=>CA(t)&&IB(t),DB=t=>CA(t)?parseInt(t.nodeName.substr(1),10):0,qz=t=>{var s;const i=Gz(t),u=()=>{t.id=i};return xB("header",(s=wA(t))!==null&&s!==void 0?s:"","#"+i,DB(t),u)},jz=t=>{const s=t.id||t.name,i=wA(t);return xB("anchor",i||"#"+s,"#"+s,0,ne)},MB=t=>je(so(t,Zz),qz),kB=t=>je(so(t,RB),jz),Yz=t=>AB("h1,h2,h3,h4,h5,h6,a:not([href])",t),Kz=t=>_A(t.title).length>0,Xz={find:t=>{const s=Yz(t);return so(MB(s).concat(kB(s)),Kz)}},CS="tinymce-url-history",kh=5,TA=t=>V(t)&&/^https?/.test(t),Qz=t=>K(t)&&t.length<=kh&&Sl(t,TA),NB=t=>G(t)&&La(t,s=>!Qz(s)).isNone(),PB=()=>{const t=_y.getItem(CS);if(t===null)return{};let s;try{s=JSON.parse(t)}catch(i){if(i instanceof SyntaxError)return console.log("Local storage "+CS+" was not valid JSON",i),{};throw i}return NB(s)?s:(console.log("Local storage "+CS+" was not valid format",s),{})},Jz=t=>{if(!NB(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));_y.setItem(CS,JSON.stringify(t))},e9=t=>{const s=PB();return nn(s,t).getOr([])},LB=(t,s)=>{if(!TA(t))return;const i=PB(),u=nn(i,s).getOr([]),m=so(u,b=>b!==t);i[s]=[t].concat(m).slice(0,kh),Jz(i)},TM=t=>!!t,uK=t=>Rs(xy.makeMap(t,/[, ]/),TM),BB=t=>P.from(xP(t)),kc=t=>{const s=P.from(dx(t)).filter(TM).map(uK);return BB(t).fold(bt,i=>s.fold(Ct,u=>js(u).length>0?u:!1))},SM=(t,s)=>{const i=kc(t);return be(i)?i?BB(t):P.none():i[s]?BB(t):P.none()},t9=(t,s)=>SM(t,s).map(i=>u=>Mc.nu(m=>{const b=(O,M)=>{if(!V(O))throw new Error("Expected value to be string");if(M!==void 0&&!G(M))throw new Error("Expected meta to be a object");m({value:O,meta:M})},w={filetype:s,fieldname:u.fieldname,...P.from(u.meta).getOr({})};i.call(t,b,u.value,w)})),TS=t=>P.from(t).filter(V).getOrUndefined(),n9=t=>OP(t)?P.some({targets:Xz.find(t.getBody()),anchorTop:TS(OT(t)),anchorBottom:TS(RP(t))}):P.none(),o9=t=>P.from(AP(t)),s9=t=>({getHistory:e9,addToHistory:LB,getLinkInformation:()=>n9(t),getValidationHandler:()=>o9(t),getUrlPicker:s=>t9(t,s)}),r9=(t,s,i)=>{const u=Pn(!1),m=Hz(s),b={icons:()=>s.ui.registry.getAll().icons,menuItems:()=>s.ui.registry.getAll().menuItems,translate:Fd.translate,isDisabled:()=>s.mode.isReadOnly()||!s.ui.isEnabled(),getOption:s.options.get},w=s9(s),O=zz(s),M=Bz(s),B=Fz(s),z=()=>u.get(),j=Oe=>u.set(Oe),J={shared:{providers:b,anchors:kz(s,i,m.isPositionedAtTop),header:m},urlinput:w,styles:O,colorinput:M,dialog:B,isContextMenuOpen:z,setContextMenuState:j},oe={...J,shared:{...J.shared,interpreter:Oe=>Sz(Oe,{},oe),getSink:t.popup}},pe={...J,shared:{...J.shared,interpreter:Oe=>Sz(Oe,{},pe),getSink:t.dialog}};return{popup:oe,dialog:pe}},i9=(t,s,i)=>{const u=(Dt,en)=>{At([s,...i],bn=>{bn.broadcastEvent(Dt,en)})},m=(Dt,en)=>{At([s,...i],bn=>{bn.broadcastOn([Dt],en)})},b=Dt=>m(Dm(),{target:Dt.target}),w=Xn(),O=Qa(w,"touchstart",b),M=Qa(w,"touchmove",Dt=>u(fE(),Dt)),B=Qa(w,"touchend",Dt=>u(Oc(),Dt)),z=Qa(w,"mousedown",b),j=Qa(w,"mouseup",Dt=>{Dt.raw.button===0&&m(OC(),{target:Dt.target})}),J=Dt=>m(Dm(),{target:Ze.fromDom(Dt.target)}),oe=Dt=>{Dt.button===0&&m(OC(),{target:Ze.fromDom(Dt.target)})},pe=()=>{At(t.editorManager.get(),Dt=>{t!==Dt&&Dt.dispatch("DismissPopups",{relatedTarget:t})})},Oe=Dt=>u(du(),GE(Dt)),Ke=Dt=>{m(Kv(),{}),u(lf(),GE(Dt))},$e=va(Ze.fromDom(t.getElement())),Ye=c1($e,"scroll",Dt=>{requestAnimationFrame(()=>{const en=t.getContainer();if(en!=null){const xo=Xr(t,s.element).map(In=>[In.element,...In.others]).getOr([]);Lo(xo,In=>us(In,Dt.target))&&(t.dispatch("ElementScroll",{target:Dt.target.dom}),u(Yb(),Dt))}})}),rt=()=>m(Kv(),{}),dt=Dt=>{Dt.state&&m(Dm(),{target:Ze.fromDom(t.getContainer())})},Wt=Dt=>{m(Dm(),{target:Ze.fromDom(Dt.relatedTarget.getContainer())})};t.on("PostRender",()=>{t.on("click",J),t.on("tap",J),t.on("mouseup",oe),t.on("mousedown",pe),t.on("ScrollWindow",Oe),t.on("ResizeWindow",Ke),t.on("ResizeEditor",rt),t.on("AfterProgressState",dt),t.on("DismissPopups",Wt)}),t.on("remove",()=>{t.off("click",J),t.off("tap",J),t.off("mouseup",oe),t.off("mousedown",pe),t.off("ScrollWindow",Oe),t.off("ResizeWindow",Ke),t.off("ResizeEditor",rt),t.off("AfterProgressState",dt),t.off("DismissPopups",Wt),z.unbind(),O.unbind(),M.unbind(),B.unbind(),j.unbind(),Ye.unbind()}),t.on("detach",()=>{At([s,...i],E2),At([s,...i],Dt=>Dt.destroy())})},Na=eT,up=N2,a9=ye([qe("shell",!1),_t("makeItem"),qe("setupItem",ne),Pd.field("listBehaviours",[Kn])]),SA=Xu({name:"items",overrides:()=>({behaviours:Rt([Kn.config({})])})}),l9=ye([SA]),$B=ye("CustomList"),u9=(t,s,i,u)=>{const m=(O,M)=>{w(O).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},B=>{const z=Kn.contents(B),j=M.length,J=j-z.length,oe=J>0?Jn(J,()=>t.makeItem()):[],pe=z.slice(j);At(pe,Ke=>Kn.remove(B,Ke)),At(oe,Ke=>Kn.append(B,Ke));const Oe=Kn.contents(B);At(Oe,(Ke,$e)=>{t.setupItem(O,Ke,M[$e],$e)})})},b=t.shell?{behaviours:[Kn.config({})],components:[]}:{behaviours:[],components:s},w=O=>t.shell?P.some(O):Ws(O,t,"items");return{uid:t.uid,dom:t.dom,components:b.components,behaviours:mr(t.listBehaviours,b.behaviours),apis:{setItems:m}}},xM=Yr({name:$B(),configFields:a9(),partFields:l9(),factory:u9,apis:{setItems:(t,s,i)=>{t.setItems(s,i)}}}),aw=ye([_t("dom"),qe("shell",!0),da("toolbarBehaviours",[Kn])]),FB=ye([Xu({name:"groups",overrides:()=>({behaviours:Rt([Kn.config({})])})})]),fK=(t,s,i,u)=>{const m=(O,M)=>{b(O).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},B=>{Kn.set(B,M)})},b=O=>t.shell?P.some(O):Ws(O,t,"groups"),w=t.shell?{behaviours:[Kn.config({})],components:[]}:{behaviours:[],components:s};return{uid:t.uid,dom:t.dom,components:w.components,behaviours:mr(t.toolbarBehaviours,w.behaviours),apis:{setGroups:m},domModification:{attributes:{role:"group"}}}},dp=Yr({name:"Toolbar",configFields:aw(),partFields:FB(),factory:fK,apis:{setGroups:(t,s,i)=>{t.setGroups(s,i)}}}),d9=ne,f9=bt,HB=ye([]);var VB=Object.freeze({__proto__:null,setup:d9,isDocked:f9,getBehaviours:HB});const SS=t=>(Ec(tt(t,"position"),"fixed")?P.none():rg(t)).orThunk(()=>{const u=Ze.fromTag("span");return Cc(t).bind(m=>{Me(m,u);const b=rg(u);return Et(u),b})}),UB=t=>SS(t).map(To).getOrThunk(()=>Wn(0,0)),h9=(t,s)=>{const i=t.element;hs(i,s.transitionClass),_s(i,s.fadeOutClass),hs(i,s.fadeInClass),s.onShow(t)},zB=(t,s)=>{const i=t.element;hs(i,s.transitionClass),_s(i,s.fadeInClass),hs(i,s.fadeOutClass),s.onHide(t)},m9=(t,s)=>t.y<s.bottom&&t.bottom>s.y,WB=(t,s)=>t.y>=s.y,GB=(t,s)=>t.bottom<=s.bottom,AM=(t,s,i)=>({location:"top",leftX:s,topY:i.bounds.y-t.y}),xS=(t,s,i)=>({location:"bottom",leftX:s,bottomY:t.bottom-i.bounds.bottom}),xA=t=>t.box.x-t.win.x,g9=(t,s,i)=>{const u=s.win,m=s.box,b=xA(s);return tr(t,w=>{switch(w){case"bottom":return GB(m,i.bounds)?P.none():P.some(xS(u,b,i));case"top":return WB(m,i.bounds)?P.none():P.some(AM(u,b,i));default:return P.none()}}).getOr({location:"no-dock"})},p9=(t,s,i)=>Sl(t,u=>{switch(u){case"bottom":return GB(s,i.bounds);case"top":return WB(s,i.bounds)}}),v9=(t,s)=>{const i=s.optScrollEnv.fold(ye(t.bounds.y),u=>u.scrollElmTop+(t.bounds.y-u.currentScrollTop));return Wn(t.bounds.x,i)},b9=(t,s)=>{const i=s.optScrollEnv.fold(ye(t.y),u=>t.y+u.currentScrollTop-u.scrollElmTop);return Wn(t.x,i)},AA=(t,s,i)=>i.getInitialPos().map(u=>{const m=v9(u,s);return{box:Ds(m.left,m.top,nr(t),vn(t)),location:u.location}}),ZB=(t,s,i,u,m)=>{const b=b9(s,i),w=Ds(b.left,b.top,s.width,s.height);u.setInitialPos({style:pt(t),position:me(t,"position")||"static",bounds:w,location:m.location})},OA=(t,s,i,u,m)=>{u.getInitialPos().fold(()=>ZB(t,s,i,u,m),()=>ne)},qB=(t,s,i)=>i.getInitialPos().bind(u=>{var m;switch(i.clearInitialPos(),u.position){case"static":return P.some({morph:"static"});case"absolute":const b=SS(t).getOr(Gi()),w=Wo(b),O=(m=b.dom.scrollTop)!==null&&m!==void 0?m:0;return P.some({morph:"absolute",positionCss:Xa("absolute",nn(u.style,"left").map(M=>s.x-w.x),nn(u.style,"top").map(M=>s.y-w.y+O),nn(u.style,"right").map(M=>w.right-s.right),nn(u.style,"bottom").map(M=>w.bottom-s.bottom))});default:return P.none()}}),RA=(t,s,i)=>AA(t,s,i).filter(({box:u})=>p9(i.getModes(),u,s)).bind(({box:u})=>qB(t,u,i)),OM=t=>{switch(t.location){case"top":return P.some({morph:"fixed",positionCss:Xa("fixed",P.some(t.leftX),P.some(t.topY),P.none(),P.none())});case"bottom":return P.some({morph:"fixed",positionCss:Xa("fixed",P.some(t.leftX),P.none(),P.none(),P.some(t.bottomY))});default:return P.none()}},RM=(t,s,i)=>{const u=Wo(t),m=wa(),b=g9(i.getModes(),{win:m,box:u},s);return b.location==="top"||b.location==="bottom"?(ZB(t,u,s,i,b),OM(b)):P.none()},AS=(t,s,i)=>RA(t,s,i).orThunk(()=>s.optScrollEnv.bind(u=>AA(t,s,i)).bind(({box:u,location:m})=>{const b=wa(),w=xA({win:b,box:u}),O=m==="top"?AM(b,w,s):xS(b,w,s);return OM(O)})),jB=(t,s,i)=>{const u=t.element;return Ec(tt(u,"position"),"fixed")?AS(u,s,i):RM(u,s,i)},y9=(t,s,i)=>{const u=t.element;return AA(u,s,i).bind(({box:m})=>qB(u,m,i))},YB=(t,s,i,u)=>{const m=Wo(t),b=wa(),w=xA({win:b,box:m}),O=u(b,w,s);return O.location==="bottom"||O.location==="top"?(OA(t,m,s,i,O),OM(O)):P.none()},IM=(t,s,i)=>{i.setDocked(!1),At(["left","right","top","bottom","position"],u=>Je(t.element,u)),s.onUndocked(t)},IA=(t,s,i,u)=>{const m=u.position==="fixed";i.setDocked(m),Bv(t.element,u),(m?s.onDocked:s.onUndocked)(t)},KB=(t,s,i,u,m=!1)=>{s.contextual.each(b=>{b.lazyContext(t).each(w=>{const O=m9(w,u.bounds);O!==i.isVisible()&&(i.setVisible(O),m&&!O?(Hl(t.element,[b.fadeOutClass]),b.onHide(t)):(O?h9:zB)(t,b))})})},DA=(t,s,i,u,m)=>{KB(t,s,i,u,!0),IA(t,s,i,m.positionCss)},MA=(t,s,i,u,m)=>{switch(m.morph){case"static":return IM(t,s,i);case"absolute":return IA(t,s,i,m.positionCss);case"fixed":return DA(t,s,i,u,m)}},E9=(t,s,i)=>{const u=s.lazyViewport(t);KB(t,s,i,u),jB(t,u,i).each(m=>{MA(t,s,i,u,m)})},_9=(t,s,i)=>{const u=t.element;i.setDocked(!1);const m=s.lazyViewport(t);y9(t,m,i).each(b=>{switch(b.morph){case"static":{IM(t,s,i);break}case"absolute":{IA(t,s,i,b.positionCss);break}}}),i.setVisible(!0),s.contextual.each(b=>{mc(u,[b.fadeInClass,b.fadeOutClass,b.transitionClass]),b.onShow(t)}),B1(t,s,i)},B1=(t,s,i)=>{t.getSystem().isConnected()&&E9(t,s,i)},DM=(t,s,i)=>{i.isDocked()&&_9(t,s,i)},XB=t=>(s,i,u)=>{const m=i.lazyViewport(s);YB(s.element,m,u,t).each(w=>{DA(s,i,u,m,w)})},QB=XB(AM),MM=XB(xS);var w9=Object.freeze({__proto__:null,refresh:B1,reset:DM,isDocked:(t,s,i)=>i.isDocked(),getModes:(t,s,i)=>i.getModes(),setModes:(t,s,i,u)=>i.setModes(u),forceDockToTop:QB,forceDockToBottom:MM}),C9=Object.freeze({__proto__:null,events:(t,s)=>Ms([ua(eh(),(i,u)=>{t.contextual.each(m=>{Ci(i.element,m.transitionClass)&&(mc(i.element,[m.transitionClass,m.fadeInClass]),(s.isVisible()?m.onShown:m.onHidden)(i)),u.stop()})}),St(du(),(i,u)=>{B1(i,t,s)}),St(Yb(),(i,u)=>{B1(i,t,s)}),St(lf(),(i,u)=>{DM(i,t,s)})])}),T9=[Aa("contextual",[Ir("fadeInClass"),Ir("fadeOutClass"),Ir("transitionClass"),ll("lazyContext"),ze("onShow"),ze("onShown"),ze("onHide"),ze("onHidden")]),_i("lazyViewport",()=>({bounds:wa(),optScrollEnv:P.none()})),Pp("modes",["top","bottom"],Ar),ze("onDocked"),ze("onUndocked")],S9=Object.freeze({__proto__:null,init:t=>{const s=Pn(!1),i=Pn(!0),u=ks(),m=Pn(t.modes),b=()=>`docked:  ${s.get()}, visible: ${i.get()}, modes: ${m.get().join(",")}`;return ja({isDocked:s.get,setDocked:s.set,getInitialPos:u.get,setInitialPos:u.set,clearInitialPos:u.clear,isVisible:i.get,setVisible:i.set,getModes:m.get,setModes:m.set,readState:b})}});const ea=Bi({fields:T9,name:"docking",active:C9,apis:w9,state:S9}),kM=ye(fn("toolbar-height-change")),fp={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},NM="tox-tinymce--toolbar-sticky-on",t$="tox-tinymce--toolbar-sticky-off",OS=(t,s)=>{const i=Di(s),m=fd(s).dom.innerHeight,b=zt(i),w=Ze.fromDom(t.elm),O=Il(w),M=vn(w),B=O.y,z=B+M,j=To(s),J=vn(s),oe=j.top,pe=oe+J,Oe=Math.abs(oe-b.top)<2,Ke=Math.abs(pe-(b.top+m))<2;if(Oe&&B<pe)_n(b.left,B-J,i);else if(Ke&&z>oe){const $e=B-m+M+J;_n(b.left,$e,i)}},PM=(t,s)=>uo(ea.getModes(t),s),LM=t=>{const s=u=>lr(u)+(parseInt(me(u,"margin-top"),10)||0)+(parseInt(me(u,"margin-bottom"),10)||0),i=t.element;Bc(i).each(u=>{const m="padding-"+ea.getModes(t)[0];if(ea.isDocked(t)){const b=nr(u);Q(i,"width",b+"px"),Q(u,m,s(i)+"px")}else Je(i,"width"),Je(u,m)})},kA=(t,s)=>{s?(_s(t,fp.fadeOutClass),Hl(t,[fp.transitionClass,fp.fadeInClass])):(_s(t,fp.fadeInClass),Hl(t,[fp.fadeOutClass,fp.transitionClass]))},BM=(t,s)=>{const i=Ze.fromDom(t.getContainer());s?(hs(i,NM),_s(i,t$)):(hs(i,t$),_s(i,NM))},x9=(t,s)=>{const i=Di(s);qu(i).filter(u=>!us(s,u)).filter(u=>us(u,Ze.fromDom(i.dom.body))||sc(t,u)).each(()=>Ic(s))},A9=(t,s)=>gl(t).orThunk(()=>s().toOptional().bind(i=>gl(i.element))),O9=(t,s,i)=>{t.inline||(s.header.isPositionedAtTop()||t.on("ResizeEditor",()=>{i().each(ea.reset)}),t.on("ResizeWindow ResizeEditor",()=>{i().each(LM)}),t.on("SkinLoaded",()=>{i().each(u=>{ea.isDocked(u)?ea.reset(u):ea.refresh(u)})}),t.on("FullscreenStateChanged",()=>{i().each(ea.reset)})),t.on("AfterScrollIntoView",u=>{i().each(m=>{ea.refresh(m);const b=m.element;Hr(b)&&OS(u,b)})}),t.on("PostRender",()=>{BM(t,!1)})},R9=t=>t().map(ea.isDocked).getOr(!1),I9=()=>[Ul.config({channels:{[kM()]:{onReceive:LM}}})],n$=(t,s)=>{const i=ks(),u=s.getSink,m=O=>{u().each(M=>O(M.element))},b=O=>{t.inline||LM(O),BM(t,ea.isDocked(O)),O.getSystem().broadcastOn([Kv()],{}),u().each(M=>M.getSystem().broadcastOn([Kv()],{}))},w=t.inline?[]:I9();return[$n.config({}),ea.config({contextual:{lazyContext:O=>{const M=lr(O.element),B=t.inline?t.getContentAreaContainer():t.getContainer();return P.from(B).map(z=>{const j=Wo(Ze.fromDom(z));return Xr(t,O.element).fold(()=>{const oe=j.height-M,pe=j.y+(PM(O,"top")?0:M);return Ds(j.x,pe,j.width,oe)},oe=>{const pe=Ip(j,zx(oe));return Ds(pe.x,pe.y,pe.width,pe.height-M)})})},onShow:()=>{m(O=>kA(O,!0))},onShown:O=>{m(M=>mc(M,[fp.transitionClass,fp.fadeInClass])),i.get().each(M=>{x9(O.element,M),i.clear()})},onHide:O=>{A9(O.element,u).fold(i.clear,i.set),m(M=>kA(M,!1))},onHidden:()=>{m(O=>mc(O,[fp.transitionClass]))},...fp},lazyViewport:O=>Xr(t,O.element).fold(()=>{const B=wa(),z=TP(t),j=B.y+(PM(O,"top")?z:0),J=B.height-(PM(O,"bottom")?z:0);return{bounds:Ds(B.x,j,B.width,J),optScrollEnv:P.none()}},B=>({bounds:zx(B),optScrollEnv:P.some({currentScrollTop:B.element.dom.scrollTop,scrollElmTop:To(B.element).top})})),modes:[s.header.getDockingMode()],onDocked:b,onUndocked:b}),...w]};var D9=Object.freeze({__proto__:null,setup:O9,isDocked:R9,getBehaviours:n$});const M9=t=>{const s=t.editor,i=t.sticky?n$:HB;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:Rt(i(s,t.sharedBackstage))}},k9=An([xi,Bl("items",Np([Wb([SI,Wa("items",Ar)]),Ar]))].concat(z_)),o$=t=>Go("GroupToolbarButton",k9,t),$M=[la("text"),la("tooltip"),la("icon"),Ac("search",!1,Np([Yh,An([la("placeholder")])],t=>be(t)?t?P.some({placeholder:P.none()}):P.none():P.some(t))),ll("fetch"),_i("onSetup",()=>ne)],NA=An([xi,...$M]),s$=t=>Go("menubutton",NA,t),N9=An([xi,_x,wh,M1,E8,xI,my,Ga("presets","normal",["normal","color","listpreview"]),RI(1),fb,AI]),P9=t=>Go("SplitButton",N9,t);var ky=hi({factory:(t,s)=>{const i=(m,b)=>{const w=je(b,O=>{const M={type:"menubutton",text:O.text,fetch:z=>{z(O.getItems())}},B=s$(M).mapError(z=>cc(z)).getOrDie();return gS(B,"tox-mbtn",s.backstage,P.some("menuitem"))});Kn.set(m,w)},u={focus:Rn.focusIn,setMenus:i};return{uid:t.uid,dom:t.dom,components:[],behaviours:Rt([Kn.config({}),to("menubar-events",[or(m=>{t.onSetup(m)}),St(yd(),(m,b)=>{fr(m.element,".tox-mbtn--active").each(w=>{Od(b.event.target,".tox-mbtn").each(O=>{us(w,O)||m.getSystem().getByDom(w).each(M=>{m.getSystem().getByDom(O).each(B=>{Cu.expand(B),Cu.close(M),$n.focus(B)})})})})}),St(Fp(),(m,b)=>{b.event.prevFocus.bind(w=>m.getSystem().getByDom(w).toOptional()).each(w=>{b.event.newFocus.bind(O=>m.getSystem().getByDom(O).toOptional()).each(O=>{Cu.isOpen(w)&&(Cu.expand(O),Cu.close(w))})})})]),Rn.config({mode:"flow",selector:".tox-mbtn",onEscape:m=>(t.onEscape(m),P.some(!0))}),Vr.config({})]),apis:u,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[_t("dom"),_t("uid"),_t("onEscape"),_t("backstage"),qe("onSetup",ne)],apis:{focus:(t,s)=>{t.focus(s)},setMenus:(t,s,i)=>{t.setMenus(s,i)}}});const PA="⚡️Upgrade",FM="https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_source=TinyMCE&utm_medium=SPAP&utm_campaign=SPAP&utm_id=editorreferral",L9=t=>({uid:t.uid,dom:t.dom,components:[{dom:{tag:"a",attributes:{href:FM,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:PA}}]}),r$="container",B9=[da("slotBehaviours",[])],i$=t=>"<alloy.field."+t+">",a$=t=>{const s=(()=>{const b=[];return{slot:(O,M)=>(b.push(O),GC(r$,i$(O),M)),record:ye(b)}})(),i=t(s),u=s.record(),m=je(u,b=>Ji({name:b,pname:i$(b)}));return tT(r$,B9,m,c$,i)},c$=(t,s)=>{const i=Oe=>KC(t),u=(Oe,Ke)=>Ws(Oe,t,Ke),m=(Oe,Ke)=>($e,Ye)=>Ws($e,t,Ye).map(rt=>Oe(rt,Ye)).getOr(Ke),b=Oe=>(Ke,$e)=>{At($e,Ye=>Oe(Ke,Ye))},w=(Oe,Ke)=>Mi(Oe.element,"aria-hidden")!=="true",O=(Oe,Ke)=>{if(!w(Oe)){const $e=Oe.element;Je($e,"display"),C($e,"aria-hidden"),Tn(Oe,uf(),{name:Ke,visible:!0})}},M=(Oe,Ke)=>{if(w(Oe)){const $e=Oe.element;Q($e,"display","none"),eo($e,"aria-hidden","true"),Tn(Oe,uf(),{name:Ke,visible:!1})}},B=m(w,!1),z=m(M),j=b(z),J=Oe=>j(Oe,i()),oe=m(O),pe={getSlotNames:i,getSlot:u,isShowing:B,hideSlot:z,hideAllSlots:J,showSlot:oe};return{uid:t.uid,dom:t.dom,components:s,behaviours:y_(t.slotBehaviours),apis:pe}},Qc={...Rs({getSlotNames:(t,s)=>t.getSlotNames(s),getSlot:(t,s,i)=>t.getSlot(s,i),isShowing:(t,s,i)=>t.isShowing(s,i),hideSlot:(t,s,i)=>t.hideSlot(s,i),hideAllSlots:(t,s)=>t.hideAllSlots(s),showSlot:(t,s,i)=>t.showSlot(s,i)},t=>Wp(t)),sketch:a$},LA=An([wh,_x,_i("onShow",ne),_i("onHide",ne),my]),BA=t=>Go("sidebar",LA,t),$9=t=>{const{sidebars:s}=t.ui.registry.getAll();At(js(s),i=>{const u=s[i],m=()=>Ec(P.from(t.queryCommandValue("ToggleSidebar")),i);t.ui.registry.addToggleButton(i,{icon:u.icon,tooltip:u.tooltip,onAction:b=>{t.execCommand("ToggleSidebar",!1,i),b.setActive(m())},onSetup:b=>{b.setActive(m());const w=()=>b.setActive(m());return t.on("ToggleSidebar",w),()=>{t.off("ToggleSidebar",w)}}})})},F9=t=>({element:()=>t.element.dom}),H9=(t,s)=>{const i=je(js(s),u=>{const m=s[u],b=es(BA(m));return{name:u,getApi:F9,onSetup:b.onSetup,onShow:b.onShow,onHide:b.onHide}});return je(i,u=>{const m=Pn(ne);return t.slot(u.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:$T.unnamedEvents([mb(u,m),by(u,m),St(uf(),(b,w)=>{const O=w.event;Dn(i,B=>B.name===O.name).each(B=>{(O.visible?B.onShow:B.onHide)(B.getApi(b))})})])})})},V9=t=>Qc.sketch(s=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:H9(s,t),slotBehaviours:$T.unnamedEvents([or(i=>Qc.hideAllSlots(i))])})),HM=(t,s,i)=>{ko.getCurrent(t).each(m=>{Kn.set(m,[V9(s)]);const b=i==null?void 0:i.toLowerCase();V(b)&&Bo(s,b)&&ko.getCurrent(m).each(w=>{Qc.showSlot(w,b),od.immediateGrow(m),Je(m.element,"width"),cw(t.element,"region")})})},cw=(t,s)=>{eo(t,"role",s)},VM=(t,s)=>{ko.getCurrent(t).each(u=>{ko.getCurrent(u).each(b=>{od.hasGrown(u)?Qc.isShowing(b,s)?(od.shrink(u),cw(t.element,"presentation")):(Qc.hideAllSlots(b),Qc.showSlot(b,s),cw(t.element,"region")):(Qc.hideAllSlots(b),Qc.showSlot(b,s),od.grow(u),cw(t.element,"region"))})})},U9=t=>ko.getCurrent(t).bind(i=>od.isGrowing(i)||od.hasGrown(i)?ko.getCurrent(i).bind(b=>Dn(Qc.getSlotNames(b),w=>Qc.isShowing(b,w))):P.none()),RS=fn("FixSizeEvent"),UM=fn("AutoSizeEvent"),z9=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Rt([Vr.config({}),$n.config({}),od.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:s=>{ko.getCurrent(s).each(Qc.hideAllSlots),Zo(s,UM)},onGrown:s=>{Zo(s,UM)},onStartGrow:s=>{Tn(s,RS,{width:tt(s.element,"width").getOr("")})},onStartShrink:s=>{Tn(s,RS,{width:nr(s.element)+"px"})}}),Kn.config({}),ko.config({find:s=>{const i=Kn.contents(s);return Tr(i)}})])}],behaviours:Rt([Rh.childAt(0),to("sidebar-sliding-events",[St(RS,(s,i)=>{Q(s.element,"width",i.event.width)}),St(UM,(s,i)=>{Je(s.element,"width")})])])});var W9=Object.freeze({__proto__:null,block:(t,s,i,u)=>{eo(t.element,"aria-busy",!0);const m=s.getRoot(t).getOr(t),b=Rt([Rn.config({mode:"special",onTab:()=>P.some(!0),onShiftTab:()=>P.some(!0)}),$n.config({})]),w=u(m,b),O=m.getSystem().build(w);Kn.append(m,Rc(O)),O.hasConfigured(Rn)&&s.focus&&Rn.focusIn(O),i.isBlocked()||s.onBlock(t),i.blockWith(()=>Kn.remove(m,O))},unblock:(t,s,i)=>{C(t.element,"aria-busy"),i.isBlocked()&&s.onUnblock(t),i.clear()}}),G9=[_i("getRoot",P.none),Yi("focus",!0),ze("onBlock"),ze("onUnblock")],EK=Object.freeze({__proto__:null,init:()=>{const t=Vv(),s=i=>{t.set({destroy:i})};return ja({readState:t.isSet,blockWith:s,clear:t.clear,isBlocked:t.isSet})}});const Eb=Bi({fields:G9,name:"blocking",apis:W9,state:EK}),l$=t=>{const s=t.dom.attributes!==void 0?t.dom.attributes:[];return ys(s,(i,u)=>u.name==="class"?i:{...i,[u.name]:u.value},{})},Z9=t=>Array.prototype.slice.call(t.dom.classList,0),$1=t=>{const s=Ze.fromHtml(t),i=$c(s),u=l$(s),m=Z9(s),b=i.length===0?{}:{innerHtml:yo(s)};return{tag:oc(s),classes:m,attributes:u,...b}},q9=t=>(s,i)=>({dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:$1('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),u$=t=>ko.getCurrent(t).each(s=>Ic(s.element)),j9=(t,s)=>{const i="tabindex",u=`data-mce-${i}`;P.from(t.iframeElement).map(Ze.fromDom).each(m=>{s?(Gr(m,i).each(b=>eo(m,u,b)),eo(m,i,-1)):(C(m,i),Gr(m,u).each(b=>{eo(m,i,b),C(m,u)}))})},Y9=(t,s,i,u)=>{const m=s.element;if(j9(t,i),i)Eb.block(s,q9(u)),Je(m,"display"),C(m,"aria-hidden"),t.hasFocus()&&u$(s);else{const b=ko.getCurrent(s).exists(w=>i1(w.element));Eb.unblock(s),Q(m,"display","none"),eo(m,"aria-hidden","true"),b&&t.focus()}},K9=t=>({uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Rt([Kn.config({}),Eb.config({focus:!1}),ko.config({find:s=>Tr(s.components())})]),components:[]}),d$=t=>t.type==="focusin",X9=t=>d$(t)?(t.composed?Tr(t.composedPath()):P.from(t.target)).map(Ze.fromDom).filter(Es).exists(i=>Ci(i,"mce-pastebin")):!1,Q9=(t,s,i)=>{const u=Pn(!1),m=ks(),b=O=>{u.get()&&!X9(O)&&(O.preventDefault(),u$(s()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",()=>{t.dom.bind(t.getWin(),"focusin",b),t.on("BeforeExecCommand",O=>{O.command.toLowerCase()==="mcefocus"&&O.value!==!0&&b(O)})});const w=O=>{O!==u.get()&&(u.set(O),Y9(t,s(),O,i.providers),WL(t,O))};t.on("ProgressState",O=>{if(m.on(clearTimeout),De(O.time)){const M=Fm.setEditorTimeout(t,()=>w(O.state),O.time);m.set(M)}else w(O.state),m.clear()})},J9=(t,s)=>ys(t,(m,b)=>s(b,m.len).fold(ye(m),O=>({len:O.finish,list:m.list.concat([O])})),{len:0,list:[]}).list,f$=(t,s,i)=>({within:t,extra:s,withinWidth:i}),eW=(t,s,i)=>{const u=J9(t,(O,M)=>{const B=i(O);return P.some({element:O,start:M,finish:M+B,width:B})}),m=so(u,O=>O.finish<=s),b=Ts(m,(O,M)=>O+M.width,0),w=u.slice(m.length);return{within:m,extra:w,withinWidth:b}},IS=t=>je(t,s=>s.element),h$=(t,s,i)=>{const u=IS(t.concat(s));return f$(u,[],i)},tW=(t,s,i,u)=>{const m=IS(t).concat([i]);return f$(m,IS(s),u)},nW=(t,s,i)=>f$(IS(t),[],i),Of=(t,s,i)=>{const u=eW(s,t,i);return u.extra.length===0?P.some(u):P.none()},oW=(t,s,i,u)=>{const m=Of(t,s,i).getOrThunk(()=>eW(s,t-i(u),i)),b=m.within,w=m.extra,O=m.withinWidth;return w.length===1&&w[0].width<=i(u)?h$(b,w,O):w.length>=1?tW(b,w,u,O):nW(b,w,O)},zM=(t,s)=>{const i=je(s,u=>Rc(u));dp.setGroups(t,i)},m$=t=>tr(t,s=>gl(s.element).bind(i=>s.getSystem().getByDom(i).toOptional())),g$=(t,s,i)=>{const u=s.builtGroups.get();if(u.length===0)return;const m=Eh(t,s,"primary"),b=Kr.getCoupled(t,"overflowGroup");Q(m.element,"visibility","hidden");const w=u.concat([b]),O=m$(w);i([]),zM(m,w);const M=nr(m.element),B=oW(M,s.builtGroups.get(),z=>nr(z.element),b);B.extra.length===0?(Kn.remove(m,b),i([])):(zM(m,B.within),i(B.extra)),Je(m.element,"visibility"),Ot(m.element),O.each($n.focus)},lw=ye([da("splitToolbarBehaviours",[Kr]),ds("builtGroups",()=>Pn([]))]),sW=ye([Vl(["overflowToggledClass"]),xa("getOverflowBounds"),_t("lazySink"),ds("overflowGroups",()=>Pn([])),ze("onOpened"),ze("onClosed")].concat(lw())),FA=ye([Ji({factory:dp,schema:aw(),name:"primary"}),Ld({schema:aw(),name:"overflow"}),Ld({name:"overflow-button"}),Ld({name:"overflow-group"})]),WM=ye((t,s)=>{Fc(t,Math.floor(s))}),HA=ye([Vl(["toggledClass"]),_t("lazySink"),ll("fetch"),xa("getBounds"),Aa("fireDismissalEventInstead",[qe("event",Fl())]),Yu(),ze("onToggled")]),rW=ye([Ld({name:"button",overrides:t=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Rt([vo.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:t.onToggled})])})}),Ld({factory:dp,schema:aw(),name:"toolbar",overrides:t=>({toolbarBehaviours:Rt([Rn.config({mode:"cyclic",onEscape:s=>(Ws(s,t,"button").each($n.focus),P.none())})])})})]),sd=ks(),iW=(t,s)=>{sd.set(!0),uw(t,s),sd.clear()},uw=(t,s)=>{const i=Kr.getCoupled(t,"toolbarSandbox");Ao.isOpen(i)?Ao.close(i):Ao.open(i,s.toolbar())},VA=(t,s,i,u)=>{const m=i.getBounds.map(w=>w()),b=i.lazySink(t).getOrDie();As.positionWithinBounds(b,s,{anchor:{type:"hotspot",hotspot:t,layouts:u,overrides:{maxWidthFunction:WM()}}},m)},p$=(t,s,i,u,m)=>{dp.setGroups(s,m),VA(t,s,i,u),vo.on(t)},aW=(t,s,i)=>{const u=RE(),m=(w,O)=>{const M=sd.get().getOr(!1);i.fetch().get(B=>{p$(t,O,i,s.layouts,B),u.link(t.element),M||Rn.focusIn(O)})},b=()=>{vo.off(t),sd.get().getOr(!1)||$n.focus(t),u.unlink(t.element)};return{dom:{tag:"div",attributes:{id:u.id}},behaviours:Rt([Rn.config({mode:"special",onEscape:w=>(Ao.close(w),P.some(!0))}),Ao.config({onOpen:m,onClose:b,isPartOf:(w,O,M)=>mm(O,M)||mm(t,M),getAttachPoint:()=>i.lazySink(t).getOrDie()}),Ul.config({channels:{...q0({isExtraPart:bt,...i.fireDismissalEventInstead.map(w=>({fireEventInstead:{event:w.event}})).getOr({})}),..._1({doReposition:()=>{Ao.getState(Kr.getCoupled(t,"toolbarSandbox")).each(w=>{VA(t,w,i,s.layouts)})}})}})])}},_b=Yr({name:"FloatingToolbarButton",factory:(t,s,i,u)=>({...vc.sketch({...u.button(),action:m=>{uw(m,u)},buttonBehaviours:Pd.augment({dump:u.button().buttonBehaviours},[Kr.config({others:{toolbarSandbox:m=>aW(m,i,t)}})])}),apis:{setGroups:(m,b)=>{Ao.getState(Kr.getCoupled(m,"toolbarSandbox")).each(w=>{p$(m,w,t,i.layouts,b)})},reposition:m=>{Ao.getState(Kr.getCoupled(m,"toolbarSandbox")).each(b=>{VA(m,b,t,i.layouts)})},toggle:m=>{uw(m,u)},toggleWithoutFocusing:m=>{iW(m,u)},getToolbar:m=>Ao.getState(Kr.getCoupled(m,"toolbarSandbox")),isOpen:m=>Ao.isOpen(Kr.getCoupled(m,"toolbarSandbox"))}}),configFields:HA(),partFields:rW(),apis:{setGroups:(t,s,i)=>{t.setGroups(s,i)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggleWithoutFocusing(s)},getToolbar:(t,s)=>t.getToolbar(s),isOpen:(t,s)=>t.isOpen(s)}}),cW=ye([_t("items"),Vl(["itemSelector"]),da("tgroupBehaviours",[Rn])]),lW=ye([J0({name:"items",unit:"item"})]),uW=(t,s,i,u)=>({uid:t.uid,dom:t.dom,components:s,behaviours:mr(t.tgroupBehaviours,[Rn.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),DS=Yr({name:"ToolbarGroup",configFields:cW(),partFields:lW(),factory:uW}),GM=t=>je(t,s=>Rc(s)),ZM=(t,s,i)=>{g$(t,i,u=>{i.overflowGroups.set(u),s.getOpt(t).each(m=>{_b.setGroups(m,GM(u))})})},dW=(t,s,i,u)=>{const m=Oo(_b.sketch({fetch:()=>Mc.nu(b=>{b(GM(t.overflowGroups.get()))}),layouts:{onLtr:()=>[li,Li],onRtl:()=>[Li,li],onBottomLtr:()=>[jc,gc],onBottomRtl:()=>[gc,jc]},getBounds:i.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:u["overflow-button"](),toolbar:u.overflow()},onToggled:(b,w)=>t[w?"onOpened":"onClosed"](b)}));return{uid:t.uid,dom:t.dom,components:s,behaviours:mr(t.splitToolbarBehaviours,[Kr.config({others:{overflowGroup:()=>DS.sketch({...u["overflow-group"](),items:[m.asSpec()]})}})]),apis:{setGroups:(b,w)=>{t.builtGroups.set(je(w,b.getSystem().build)),ZM(b,m,t)},refresh:b=>ZM(b,m,t),toggle:b=>{m.getOpt(b).each(w=>{_b.toggle(w)})},toggleWithoutFocusing:b=>{m.getOpt(b).each(_b.toggleWithoutFocusing)},isOpen:b=>m.getOpt(b).map(_b.isOpen).getOr(!1),reposition:b=>{m.getOpt(b).each(w=>{_b.reposition(w)})},getOverflow:b=>m.getOpt(b).bind(_b.getToolbar)},domModification:{attributes:{role:"group"}}}},qM=Yr({name:"SplitFloatingToolbar",configFields:sW(),partFields:FA(),factory:dW,apis:{setGroups:(t,s,i)=>{t.setGroups(s,i)},refresh:(t,s)=>{t.refresh(s)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s),getOverflow:(t,s)=>t.getOverflow(s)}}),fW=ye([Vl(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),ze("onOpened"),ze("onClosed")].concat(lw())),hW=ye([Ji({factory:dp,schema:aw(),name:"primary"}),Ji({factory:dp,schema:aw(),name:"overflow",overrides:t=>({toolbarBehaviours:Rt([od.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:s=>{Ws(s,t,"overflow-button").each(i=>{vo.off(i),$n.focus(i)}),t.onClosed(s)},onGrown:s=>{Rn.focusIn(s),t.onOpened(s)},onStartGrow:s=>{Ws(s,t,"overflow-button").each(vo.on)}}),Rn.config({mode:"acyclic",onEscape:s=>(Ws(s,t,"overflow-button").each($n.focus),P.some(!0))})])})}),Ld({name:"overflow-button",overrides:t=>({buttonBehaviours:Rt([vo.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])})}),Ld({name:"overflow-group"})]),mW=(t,s)=>Ws(t,s,"overflow").map(od.hasGrown).getOr(!1),v$=(t,s)=>{Ws(t,s,"overflow-button").bind(()=>Ws(t,s,"overflow")).each(i=>{jM(t,s),od.toggleGrow(i)})},jM=(t,s)=>{Ws(t,s,"overflow").each(i=>{g$(t,s,u=>{const m=je(u,b=>Rc(b));dp.setGroups(i,m)}),Ws(t,s,"overflow-button").each(u=>{od.hasGrown(i)&&vo.on(u)}),od.refresh(i)})},gW=(t,s,i,u)=>{const m="alloy.toolbar.toggle",b=(w,O)=>{const M=je(O,w.getSystem().build);t.builtGroups.set(M)};return{uid:t.uid,dom:t.dom,components:s,behaviours:mr(t.splitToolbarBehaviours,[Kr.config({others:{overflowGroup:w=>DS.sketch({...u["overflow-group"](),items:[vc.sketch({...u["overflow-button"](),action:O=>{Zo(w,m)}})]})}}),to("toolbar-toggle-events",[St(m,w=>{v$(w,t)})])]),apis:{setGroups:(w,O)=>{b(w,O),jM(w,t)},refresh:w=>jM(w,t),toggle:w=>v$(w,t),isOpen:w=>mW(w,t)},domModification:{attributes:{role:"group"}}}},YM=Yr({name:"SplitSlidingToolbar",configFields:fW(),partFields:hW(),factory:gW,apis:{setGroups:(t,s,i)=>{t.setGroups(s,i)},refresh:(t,s)=>{t.refresh(s)},toggle:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s)}}),b$=t=>{const s=t.title.fold(()=>({}),i=>({attributes:{title:i}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...s},components:[DS.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:Rt([Vr.config({}),$n.config({})])}},UA=t=>DS.sketch(b$(t)),y$=(t,s)=>{const i=or(u=>{const m=je(t.initGroups,UA);dp.setGroups(u,m)});return Rt([Th.toolbarButton(t.providers.isDisabled),fa(),Rn.config({mode:s,onEscape:t.onEscape,selector:".tox-toolbar__group"}),to("toolbar-events",[i])])},E$=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":b$({title:P.none(),items:[]}),"overflow-button":lz({name:"more",icon:P.some("more-drawer"),enabled:!0,tooltip:P.some("More..."),primary:!1,buttonType:P.none(),borderless:!1},P.none(),t.providers)},splitToolbarBehaviours:y$(t,s)}},pW=t=>{const s=E$(t),i=4,u=qM.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return qM.sketch({...s,lazySink:t.getSink,getOverflowBounds:()=>{const m=t.moreDrawerData.lazyHeader().element,b=Il(m),w=ku(m),O=Il(w),M=Math.max(w.dom.scrollHeight,O.height);return Ds(b.x+i,O.y,b.width-i*2,M)},parts:{...s.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}},components:[u],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:m=>t.onToggled(m,!0),onClosed:m=>t.onToggled(m,!1)})},vW=t=>{const s=YM.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),i=YM.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),u=E$(t);return YM.sketch({...u,components:[s,i],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:m=>{m.getSystem().broadcastOn([kM()],{type:"opened"}),t.onToggled(m,!0)},onClosed:m=>{m.getSystem().broadcastOn([kM()],{type:"closed"}),t.onToggled(m,!1)}})},MS=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return dp.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===Hd.scrolling?["tox-toolbar--scrolling"]:[])},components:[dp.parts.groups({})],toolbarBehaviours:y$(t,s)})},kS=[M1,wh,la("tooltip"),Ga("buttonType","secondary",["primary","secondary"]),Yi("borderless",!1),ll("onAction")],KM=[...kS,D1,cu("type",["button"])],bW=[...kS,Yi("active",!1),cu("type",["togglebutton"])],_$={button:KM,togglebutton:bW},w$=[cu("type",["group"]),Pp("buttons",[],qr("type",_$))],yW=qr("type",{..._$,group:w$}),EW=An([Pp("buttons",[],yW),ll("onShow"),ll("onHide")]),_W=t=>Go("view",EW,t),C$=(t,s)=>{var i,u;const m=t.type==="togglebutton",b=t.icon.map(rt=>Ih(rt,s.icons)).map(Oo),O=(()=>rt=>{const dt=en=>{b.map(bn=>bn.getOpt(rt).each(xo=>{Kn.set(xo,[Ih(en,s.icons)])}))},Wt=en=>{const bn=rt.element;en?(hs(bn,"tox-button--enabled"),eo(bn,"aria-pressed",!0)):(_s(bn,"tox-button--enabled"),C(bn,"aria-pressed"))},Dt=()=>Ci(rt.element,"tox-button--enabled");if(m)return t.onAction({setIcon:dt,setActive:Wt,isActive:Dt});if(t.type==="button")return t.onAction({setIcon:dt})})(),M={...t,name:m?t.text.getOr(t.icon.getOr("")):(i=t.text)!==null&&i!==void 0?i:t.icon.getOr(""),primary:t.buttonType==="primary",buttonType:P.from(t.buttonType),tooltip:t.tooltip,icon:t.icon,enabled:!0,borderless:t.borderless},B=vA((u=t.buttonType)!==null&&u!==void 0?u:"secondary"),z=m?t.text.map(s.translate):P.some(s.translate(t.text)),j=z.map(sr),J=M.tooltip.or(z).map(rt=>({"aria-label":s.translate(rt),title:s.translate(rt)})).getOr({}),oe=b.map(rt=>rt.asSpec()),pe=Z_([oe,j]),Oe=t.icon.isSome()&&j.isSome(),Ke={tag:"button",classes:B.concat(...t.icon.isSome()&&!Oe?["tox-button--icon"]:[]).concat(...Oe?["tox-button--icon-and-text"]:[]).concat(...t.borderless?["tox-button--naked"]:[]).concat(...t.type==="togglebutton"&&t.active?["tox-button--enabled"]:[]),attributes:J},$e=[],Ye=pS(M,P.some(O),$e,Ke,pe,s);return vc.sketch(Ye)},T$=(t,s)=>C$(t,s),wW=(t,s)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:je(t.buttons,i=>T$(i,s))}),zA=It().deviceType,CW=zA.isPhone(),TW=zA.isTablet(),S$=t=>{let s=!1;const i=je(t.buttons,u=>u.type==="group"?(s=!0,wW(u,t.providers)):T$(u,t.providers));return{uid:t.uid,dom:{tag:"div",classes:[s?"tox-view__toolbar":"tox-view__header",...CW||TW?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:Rt([$n.config({}),Rn.config({mode:"flow",selector:"button, .tox-button",focusInside:ob.OnEnterOrSpaceMode})]),components:s?i:[Sh.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),Sh.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:i})]}},SW=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-view__pane"]}}),x$=(t,s,i,u)=>{const m={getPane:b=>Na.getPart(b,t,"pane"),getOnShow:b=>t.viewConfig.onShow,getOnHide:b=>t.viewConfig.onHide};return{uid:t.uid,dom:t.dom,components:s,apis:m}};var dw=Yr({name:"silver.View",configFields:[_t("viewConfig")],partFields:[Xu({factory:{sketch:S$},schema:[_t("buttons"),_t("providers")],name:"header"}),Xu({factory:{sketch:SW},schema:[],name:"pane"})],factory:x$,apis:{getPane:(t,s)=>t.getPane(s),getOnShow:(t,s)=>t.getOnShow(s),getOnHide:(t,s)=>t.getOnHide(s)}});const A$=(t,s,i)=>Hf(s,(u,m)=>{const b=es(_W(u));return t.slot(m,dw.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:b,components:[...b.buttons.length>0?[dw.parts.header({buttons:b.buttons,providers:i})]:[],dw.parts.pane({})]}))}),xW=(t,s)=>Qc.sketch(i=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:A$(i,t,s),slotBehaviours:$T.unnamedEvents([or(u=>Qc.hideAllSlots(u))])})),O$=t=>Dn(Qc.getSlotNames(t),s=>Qc.isShowing(t,s)),AW=t=>{const s=t.element;Q(s,"display","none"),eo(s,"aria-hidden","true")},R$=t=>{const s=t.element;Je(s,"display"),C(s,"aria-hidden")},OW=t=>({getContainer:ye(t)}),I$=(t,s,i)=>{Qc.getSlot(t,s).each(u=>{dw.getPane(u).each(m=>{i(u)(OW(m.element.dom))})})},RW=(t,s)=>I$(t,s,dw.getOnShow),XM=(t,s)=>I$(t,s,dw.getOnHide);var WA=hi({factory:(t,s)=>{const b={setViews:(w,O)=>{Kn.set(w,[xW(O,s.backstage.shared.providers)])},whichView:w=>ko.getCurrent(w).bind(O$),toggleView:(w,O,M,B)=>ko.getCurrent(w).exists(z=>{const j=O$(z),J=j.exists(pe=>B===pe),oe=Qc.getSlot(z,B).isSome();return oe&&(Qc.hideAllSlots(z),J?(AW(w),O()):(M(),R$(w),Qc.showSlot(z,B),RW(z,B)),j.each(pe=>XM(z,pe))),oe})};return{uid:t.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:Rt([Kn.config({}),ko.config({find:w=>{const O=Kn.contents(w);return Tr(O)}})]),apis:b}},name:"silver.ViewWrapper",configFields:[_t("backstage")],apis:{setViews:(t,s,i)=>t.setViews(s,i),toggleView:(t,s,i,u,m)=>t.toggleView(s,i,u,m),whichView:(t,s)=>t.whichView(s)}});const IW=(t,s,i)=>{let u=!1;const m={getSocket:b=>Na.getPart(b,t,"socket"),setSidebar:(b,w,O)=>{Na.getPart(b,t,"sidebar").each(M=>HM(M,w,O))},toggleSidebar:(b,w)=>{Na.getPart(b,t,"sidebar").each(O=>VM(O,w))},whichSidebar:b=>Na.getPart(b,t,"sidebar").bind(U9).getOrNull(),getHeader:b=>Na.getPart(b,t,"header"),getToolbar:b=>Na.getPart(b,t,"toolbar"),setToolbar:(b,w)=>{Na.getPart(b,t,"toolbar").each(O=>{const M=je(w,UA);O.getApis().setGroups(O,M)})},setToolbars:(b,w)=>{Na.getPart(b,t,"multiple-toolbar").each(O=>{const M=je(w,B=>je(B,UA));xM.setItems(O,M)})},refreshToolbar:b=>{Na.getPart(b,t,"toolbar").each(O=>O.getApis().refresh(O))},toggleToolbarDrawer:b=>{Na.getPart(b,t,"toolbar").each(w=>{Ys(w.getApis().toggle,O=>O(w))})},toggleToolbarDrawerWithoutFocusing:b=>{Na.getPart(b,t,"toolbar").each(w=>{Ys(w.getApis().toggleWithoutFocusing,O=>O(w))})},isToolbarDrawerToggled:b=>Na.getPart(b,t,"toolbar").bind(w=>P.from(w.getApis().isOpen).map(O=>O(w))).getOr(!1),getThrobber:b=>Na.getPart(b,t,"throbber"),focusToolbar:b=>{Na.getPart(b,t,"toolbar").orThunk(()=>Na.getPart(b,t,"multiple-toolbar")).each(O=>{Rn.focusIn(O)})},setMenubar:(b,w)=>{Na.getPart(b,t,"menubar").each(O=>{ky.setMenus(O,w)})},focusMenubar:b=>{Na.getPart(b,t,"menubar").each(w=>{ky.focus(w)})},setViews:(b,w)=>{Na.getPart(b,t,"viewWrapper").each(O=>{WA.setViews(O,w)})},toggleView:(b,w)=>Na.getPart(b,t,"viewWrapper").exists(O=>WA.toggleView(O,()=>m.showMainView(b),()=>m.hideMainView(b),w)),whichView:b=>Na.getPart(b,t,"viewWrapper").bind(WA.whichView).getOrNull(),hideMainView:b=>{u=m.isToolbarDrawerToggled(b),u&&m.toggleToolbarDrawer(b),Na.getPart(b,t,"editorContainer").each(w=>{const O=w.element;Q(O,"display","none"),eo(O,"aria-hidden","true")})},showMainView:b=>{u&&m.toggleToolbarDrawer(b),Na.getPart(b,t,"editorContainer").each(w=>{const O=w.element;Je(O,"display"),C(O,"aria-hidden")}),m.refreshToolbar(b)}};return{uid:t.uid,dom:t.dom,components:s,apis:m,behaviours:t.behaviours}},DW=up.optional({factory:ky,name:"menubar",schema:[_t("backstage")]}),MW=t=>t.type===Hd.sliding?vW:t.type===Hd.floating?pW:MS,kW=up.optional({factory:{sketch:t=>xM.sketch({uid:t.uid,dom:t.dom,listBehaviours:Rt([Rn.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>MS({type:t.type,uid:fn("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:()=>(t.onEscape(),P.some(!0))}),setupItem:(s,i,u,m)=>{dp.setGroups(i,u)},shell:!0})},name:"multiple-toolbar",schema:[_t("dom"),_t("onEscape")]}),NW=up.optional({factory:{sketch:t=>{const s=MW(t),i={type:t.type,uid:t.uid,onEscape:()=>(t.onEscape(),P.some(!0)),onToggled:(u,m)=>t.onToolbarToggled(m),cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return s(i)}},name:"toolbar",schema:[_t("dom"),_t("onEscape"),_t("getSink")]}),PW=up.optional({factory:{sketch:M9},name:"header",schema:[_t("dom")]}),LW=up.optional({factory:{sketch:L9},name:"promotion",schema:[_t("dom")]}),M$=up.optional({name:"socket",schema:[_t("dom")]}),GA=up.optional({factory:{sketch:z9},name:"sidebar",schema:[_t("dom")]}),QM=up.optional({factory:{sketch:K9},name:"throbber",schema:[_t("dom")]}),k$=up.optional({factory:WA,name:"viewWrapper",schema:[_t("backstage")]}),wb=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:t.components}),N$=up.optional({factory:{sketch:wb},name:"editorContainer",schema:[]});var ar=Yr({name:"OuterContainer",factory:IW,configFields:[_t("dom"),_t("behaviours")],partFields:[PW,DW,NW,kW,M$,GA,LW,QM,k$,N$],apis:{getSocket:(t,s)=>t.getSocket(s),setSidebar:(t,s,i,u)=>{t.setSidebar(s,i,u)},toggleSidebar:(t,s,i)=>{t.toggleSidebar(s,i)},whichSidebar:(t,s)=>t.whichSidebar(s),getHeader:(t,s)=>t.getHeader(s),getToolbar:(t,s)=>t.getToolbar(s),setToolbar:(t,s,i)=>{t.setToolbar(s,i)},setToolbars:(t,s,i)=>{t.setToolbars(s,i)},refreshToolbar:(t,s)=>t.refreshToolbar(s),toggleToolbarDrawer:(t,s)=>{t.toggleToolbarDrawer(s)},toggleToolbarDrawerWithoutFocusing:(t,s)=>{t.toggleToolbarDrawerWithoutFocusing(s)},isToolbarDrawerToggled:(t,s)=>t.isToolbarDrawerToggled(s),getThrobber:(t,s)=>t.getThrobber(s),setMenubar:(t,s,i)=>{t.setMenubar(s,i)},focusMenubar:(t,s)=>{t.focusMenubar(s)},focusToolbar:(t,s)=>{t.focusToolbar(s)},setViews:(t,s,i)=>{t.setViews(s,i)},toggleView:(t,s,i)=>t.toggleView(s,i),whichView:(t,s)=>t.whichView(s)}});const BW="file edit view insert format tools table help",P$={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template inserttemplate codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},$W=(t,s,i)=>{const u=wP(i).split(/[ ,]/);return{text:t.title,getItems:()=>lt(t.items,m=>{const b=m.toLowerCase();return b.trim().length===0?[]:Lo(u,w=>w===b)?[]:b==="separator"||b==="|"?[{type:"separator"}]:s.menuItems[b]?[s.menuItems[b]]:[]})}},JM=t=>t.split(" "),L$=(t,s)=>{const i={...P$,...s.menus},u=js(s.menus).length>0,m=s.menubar===void 0||s.menubar===!0?JM(BW):JM(s.menubar===!1?"":s.menubar),b=so(m,O=>{const M=Bo(P$,O);return u?M||nn(s.menus,O).exists(B=>Bo(B,"items")):M}),w=je(b,O=>{const M=i[O];return $W({title:M.title,items:JM(M.items)},s,t)});return so(w,O=>{const M=B=>V(B)||B.type!=="separator";return O.getItems().length>0&&Lo(O.getItems(),M)})},B$=t=>{const s=()=>{t._skinLoaded=!0,Y8(t)};return()=>{t.initialized?s():t.on("init",s)}},$$=(t,s)=>()=>zI(t,{message:s}),F$=(t,s,i)=>(t.on("remove",()=>i.unload(s)),i.load(s)),FW=(t,s)=>{const i=s+"/skin.min.css";return F$(t,i,t.ui.styleSheetLoader)},ek=(t,s)=>{if(md(Ze.fromDom(t.getElement()))){const u=s+"/skin.shadowdom.min.css";return F$(t,u,CT.DOM.styleSheetLoader)}else return Promise.resolve()},H$=(t,s)=>{const i=BP(s);return i&&s.contentCSS.push(i+(t?"/content.inline":"/content")+".min.css"),!RT(s)&&V(i)?Promise.all([FW(s,i),ek(s,i)]).then(B$(s),$$(s,"Skin could not be loaded")):Promise.resolve(B$(s)())},HW=xt(H$,!1),VW=xt(H$,!0),ZA=(t,s)=>i=>{const u=Wl(),m=()=>{i.setActive(t.formatter.match(s));const b=t.formatter.formatChanged(s,i.setActive);u.set(b)};return t.initialized?m():t.once("init",m),()=>{t.off("init",m),u.clear()}},NS=(t,s,i)=>u=>{const m=()=>i(u),b=()=>{i(u),t.on(s,m)};return t.initialized?b():t.once("init",b),()=>{t.off("init",b),t.off(s,m)}},V$=t=>s=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("mceToggleFormat",!1,s.format)})},Wd=(t,s)=>()=>t.execCommand(s),U$=(t,s,i)=>{const u=(O,M,B,z)=>{const j=s.shared.providers.translate(O.title);if(O.type==="separator")return P.some({type:"separator",text:j});if(O.type==="submenu"){const J=lt(O.getStyleItems(),oe=>m(oe,M,z));return M===0&&J.length<=0?P.none():P.some({type:"nestedmenuitem",text:j,enabled:J.length>0,getSubmenuItems:()=>lt(O.getStyleItems(),oe=>m(oe,M,z))})}else return P.some({type:"togglemenuitem",text:j,icon:O.icon,active:O.isSelected(z),enabled:!B,onAction:i.onAction(O),...O.getStylePreview().fold(()=>({}),J=>({meta:{style:J}}))})},m=(O,M,B)=>{const z=O.type==="formatter"&&i.isInvalid(O);return M===0?z?[]:u(O,M,!1,B).toArray():u(O,M,z,B).toArray()},b=O=>{const M=i.getCurrentValue(),B=i.shouldHide?0:1;return lt(O,z=>m(z,B,M))};return{validateItems:b,getFetch:(O,M)=>(B,z)=>{const j=M(),J=b(j),oe=Ry(J,Hm.CLOSE_ON_EXECUTE,O,{isHorizontalMenu:!1,search:P.none()});z(oe)}}},Ny=(t,s,i)=>{const u=i.dataset,m=u.type==="basic"?()=>je(u.data,b=>_M(b,i.isSelectedFor,i.getPreviewFor)):u.getData;return{items:U$(t,s,i),getStyleItems:m}},PS=(t,s,i)=>{const{items:u,getStyleItems:m}=Ny(t,s,i),b=O=>({getComponent:ye(O)}),w=NS(t,"NodeChange",O=>{const M=O.getComponent();i.updateText(M)});return VD({text:i.icon.isSome()?P.none():i.text,icon:i.icon,tooltip:P.from(i.tooltip),role:P.none(),fetch:u.getFetch(s,m),onSetup:w,getApi:b,columns:1,presets:"normal",classes:i.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",s.shared)},z$=t=>je(t,s=>{let i=s,u=s;const m=s.split("=");return m.length>1&&(i=m[0],u=m[1]),{title:i,format:u}}),UW=t=>({type:"basic",data:t});var fw;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(fw||(fw={}));const zW=(t,s)=>s===fw.SemiColon?t.replace(/;$/,"").split(";"):t.split(" "),qA=(t,s,i)=>{const u=t.options.get(s);return{type:"basic",data:z$(zW(u,i))}},tk=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],nk=t=>{const s=()=>Dn(tk,O=>t.formatter.match(O.format)),i=O=>()=>t.formatter.match(O),u=O=>P.none,m=O=>{const B=s().fold(ye("left"),z=>z.title.toLowerCase());Tn(O,Oy,{icon:`align-${B}`})},b=UW(tk),w=O=>()=>Dn(tk,M=>M.format===O.format).each(M=>t.execCommand(M.command));return{tooltip:"Align",text:P.none(),icon:P.some("align-left"),isSelectedFor:i,getCurrentValue:P.none,getPreviewFor:u,onAction:w,updateText:m,dataset:b,shouldHide:!1,isInvalid:O=>!t.formatter.canApply(O.format)}},WW=(t,s)=>PS(t,s,nk(t)),GW=(t,s)=>{const i=Ny(t,s,nk(t));t.ui.registry.addNestedMenuItem("align",{text:s.shared.providers.translate("Align"),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},W$=(t,s)=>{const i=s(),u=je(i,m=>m.format);return P.from(t.formatter.closest(u)).bind(m=>Dn(i,b=>b.format===m)).orThunk(()=>zn(t.formatter.match("p"),{title:"Paragraph",format:"p"}))},G$=t=>{const s="Paragraph",i=w=>()=>t.formatter.match(w),u=w=>()=>{const O=t.formatter.get(w);return O?P.some({tag:O.length>0&&(O[0].inline||O[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(w))}):P.none()},m=w=>{const M=W$(t,()=>b.data).fold(ye(s),B=>B.title);Tn(w,zd,{text:M})},b=qA(t,"block_formats",fw.SemiColon);return{tooltip:"Blocks",text:P.some(s),icon:P.none(),isSelectedFor:i,getCurrentValue:P.none,getPreviewFor:u,onAction:V$(t),updateText:m,dataset:b,shouldHide:!1,isInvalid:w=>!t.formatter.canApply(w.format)}},ZW=(t,s)=>PS(t,s,G$(t)),qW=(t,s)=>{const i=Ny(t,s,G$(t));t.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},Z$=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],q$=t=>{const s=t.split(/\s*,\s*/);return je(s,i=>i.replace(/^['"]+|['"]+$/g,""))},jW=t=>{const s=()=>{const i=q$(t.toLowerCase());return Sl(Z$,u=>i.indexOf(u.toLowerCase())>-1)};return t.indexOf("-apple-system")===0&&s()},j$=t=>{const s="System Font",i=()=>{const B=pe=>pe?q$(pe)[0]:"",z=t.queryCommandValue("FontName"),j=M.data,J=z?z.toLowerCase():"";return{matchOpt:Dn(j,pe=>{const Oe=pe.format;return Oe.toLowerCase()===J||B(Oe).toLowerCase()===B(J).toLowerCase()}).orThunk(()=>zn(jW(J),{title:s,format:J})),font:z}},u=B=>z=>z.exists(j=>j.format===B),m=()=>{const{matchOpt:B}=i();return B},b=B=>()=>P.some({tag:"div",styles:B.indexOf("dings")===-1?{"font-family":B}:{}}),w=B=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontName",!1,B.format)})},O=B=>{const{matchOpt:z,font:j}=i(),J=z.fold(ye(j),oe=>oe.title);Tn(B,zd,{text:J})},M=qA(t,"font_family_formats",fw.SemiColon);return{tooltip:"Fonts",text:P.some(s),icon:P.none(),isSelectedFor:u,getCurrentValue:m,getPreviewFor:b,onAction:w,updateText:O,dataset:M,shouldHide:!1,isInvalid:bt}},YW=(t,s)=>PS(t,s,j$(t)),KW=(t,s)=>{const i=Ny(t,s,j$(t));t.ui.registry.addNestedMenuItem("fontfamily",{text:s.shared.providers.translate("Fonts"),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},Y$={tab:ye(9),escape:ye(27),enter:ye(13),backspace:ye(8),delete:ye(46),left:ye(37),up:ye(38),right:ye(39),down:ye(40),space:ye(32),home:ye(36),end:ye(35),pageUp:ye(33),pageDown:ye(34)},XW={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},K$=(()=>{const t="[0-9]+",i="[eE]"+("[+-]?"+t),u="\\.",m=O=>`(?:${O})?`,w=`[+-]?(?:${["Infinity",t+u+m(t)+m(i),u+t+m(i),t+m(i)].join("|")})`;return new RegExp(`^(${w})(.*)$`)})(),QW=(t,s)=>Lo(s,i=>Lo(XW[i],u=>t===u)),X$=(t,s)=>P.from(K$.exec(t)).bind(u=>{const m=Number(u[1]),b=u[2];return QW(b,s)?P.some({value:m,unit:b}):P.none()}),Q$=(t,s)=>X$(t,s).map(({value:i,unit:u})=>i+u),JW=(t,s,i)=>{let u=P.none();const m=rt=>rt.map(dt=>on.getValue(dt)).getOr(""),b=NS(t,"NodeChange",rt=>{const dt=rt.getComponent();u=P.some(dt),i.updateInputValue(dt)}),w=rt=>({getComponent:ye(rt)}),O=Pn(ne),M=fn("custom-number-input-events"),B=rt=>rt>=0,z=(rt,dt,Wt)=>{const Dt=m(u),en=X$(Dt,["unsupportedLength","empty"]),bn=en.map(Bt=>Bt.value).getOr(0),xo=cI(t),In=en.map(Bt=>Bt.unit).filter(Bt=>Bt!=="").getOr(xo),Co=rt(bn,i.getConfigFromUnit(In).step),qn=`${B(Co)?Co:bn}${In}`,_o=`${bn}${In}`.length-`${qn}`.length,Vn=u.map(Bt=>Bt.element.dom.selectionStart-_o),ms=u.map(Bt=>Bt.element.dom.selectionEnd-_o);i.onAction(qn,Wt),u.each(Bt=>{on.setValue(Bt,qn),dt&&(Vn.each(pn=>Bt.element.dom.selectionStart=pn),ms.each(pn=>Bt.element.dom.selectionEnd=pn))})},j=(rt,dt)=>z((Wt,Dt)=>Wt-Dt,rt,dt),J=(rt,dt)=>z((Wt,Dt)=>Wt+Dt,rt,dt),oe=rt=>Bc(rt.element).fold(P.none,dt=>(Ic(dt),P.some(!0))),pe=rt=>i1(rt.element)?(ig(rt.element).each(dt=>Ic(dt)),P.some(!0)):P.none(),Oe=(rt,dt,Wt,Dt)=>{const en=s.shared.providers.translate(Wt),bn=fn("altExecuting"),xo=()=>rt(!0);return vc.sketch({dom:{tag:"button",attributes:{title:en,"aria-label":en},classes:Dt.concat(dt)},components:[Ay(dt,s.shared.providers.icons)],buttonBehaviours:Rt([to(bn,[St(wi(),(In,Co)=>{(Co.event.raw.keyCode===Y$.space()||Co.event.raw.keyCode===Y$.enter())&&rt(!1)}),St(Gc(),xo),St(Xf(),xo)])]),eventOrder:{[wi()]:[bn,"keying"],[Gc()]:[bn,"alloy.base.behaviour"],[Xf()]:[bn,"alloy.base.behaviour"]}})},Ke=Oo(Oe(rt=>j(!1,rt),"minus","Decrease font size",["highlight-on-focus"])),$e=Oo(Oe(rt=>J(!1,rt),"plus","Increase font size",["highlight-on-focus"])),Ye=Oo({dom:{tag:"div",classes:["tox-input-wrapper","highlight-on-focus"]},components:[hy.sketch({inputBehaviours:Rt([to(M,[mb({onSetup:b,getApi:w},O),by({getApi:w},O)]),to("input-update-display-text",[St(zd,(rt,dt)=>{on.setValue(rt,dt.event.text)}),St(Wc(),rt=>{i.onAction(on.getValue(rt))}),St(dl(),rt=>{i.onAction(on.getValue(rt))})]),Rn.config({mode:"special",onEnter:rt=>(z(Ge,!0,!0),P.some(!0)),onEscape:oe,onUp:rt=>(J(!0,!1),P.some(!0)),onDown:rt=>(j(!0,!1),P.some(!0)),onLeft:(rt,dt)=>(dt.cut(),P.none()),onRight:(rt,dt)=>(dt.cut(),P.none())})])})],behaviours:Rt([$n.config({}),Rn.config({mode:"special",onEnter:pe,onSpace:pe,onEscape:oe}),to("input-wrapper-events",[St(yd(),rt=>{At([Ke,$e],dt=>{const Wt=Ze.fromDom(dt.get(rt).element.dom);i1(Wt)&&r1(Wt)})})])])});return{dom:{tag:"div",classes:["tox-number-input"]},components:[Ke.asSpec(),Ye.asSpec(),$e.asSpec()],behaviours:Rt([$n.config({}),Rn.config({mode:"flow",focusInside:ob.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:rt=>i1(rt.element)?P.none():(Ic(rt.element),P.some(!0))})])}},J$={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},eF={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},eG=(t,s)=>{const i=Math.pow(10,s);return Math.round(t*i)/i},tG=(t,s)=>/[0-9.]+px$/.test(t)?eG(parseInt(t,10)*72/96,s||0)+"pt":nn(eF,t).getOr(t),nG=t=>nn(J$,t).getOr(""),Py=t=>{const s=()=>{let M=P.none();const B=O.data,z=t.queryCommandValue("FontSize");if(z)for(let j=3;M.isNone()&&j>=0;j--){const J=tG(z,j),oe=nG(J);M=Dn(B,pe=>pe.format===z||pe.format===J||pe.format===oe)}return{matchOpt:M,size:z}},i=M=>B=>B.exists(z=>z.format===M),u=()=>{const{matchOpt:M}=s();return M},m=ye(P.none),b=M=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontSize",!1,M.format)})},w=M=>{const{matchOpt:B,size:z}=s(),j=B.fold(ye(z),J=>J.title);Tn(M,zd,{text:j})},O=qA(t,"font_size_formats",fw.Space);return{tooltip:"Font sizes",text:P.some("12pt"),icon:P.none(),isSelectedFor:i,getPreviewFor:m,getCurrentValue:u,onAction:b,updateText:w,dataset:O,shouldHide:!1,isInvalid:bt}},oG=(t,s)=>PS(t,s,Py(t)),sG=t=>{var s;const i={step:1};return(s={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[t])!==null&&s!==void 0?s:i},rG=t=>({updateInputValue:i=>Tn(i,zd,{text:t.queryCommandValue("FontSize")}),getConfigFromUnit:sG,onAction:(i,u)=>t.execCommand("FontSize",!1,i,{skip_focus:!u})}),iG=(t,s)=>JW(t,s,rG(t)),aG=(t,s)=>{const i=Ny(t,s,Py(t));t.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},tF=(t,s)=>{const i="Paragraph",u=w=>()=>t.formatter.match(w),m=w=>()=>{const O=t.formatter.get(w);return O!==void 0?P.some({tag:O.length>0&&(O[0].inline||O[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(w))}):P.none()},b=w=>{const O=j=>bM(j)?lt(j.items,O):yB(j)?[{title:j.title,format:j.format}]:[],M=lt(EM(t),O),z=W$(t,ye(M)).fold(ye(i),j=>j.title);Tn(w,zd,{text:z})};return{tooltip:"Formats",text:P.some(i),icon:P.none(),isSelectedFor:u,getCurrentValue:P.none,getPreviewFor:m,onAction:V$(t),updateText:b,shouldHide:_P(t),isInvalid:w=>!t.formatter.canApply(w.format),dataset:s}},cG=(t,s)=>{const i={type:"advanced",...s.styles};return PS(t,s,tF(t,i))},lG=(t,s)=>{const i={type:"advanced",...s.styles},u=Ny(t,s,tF(t,i));t.ui.registry.addNestedMenuItem("styles",{text:"Formats",getSubmenuItems:()=>u.items.validateItems(u.getStyleItems())})},ok=ye([_t("toggleClass"),_t("fetch"),pm("onExecute"),qe("getHotspot",P.some),qe("getAnchorOverrides",ye({})),Yu(),pm("onItemExecute"),$o("lazySink"),_t("dom"),ze("onOpen"),da("splitDropdownBehaviours",[Kr,Rn,$n]),qe("matchWidth",!1),qe("useMinWidth",!1),qe("eventOrder",{}),$o("role")].concat(aD())),uG=Ji({factory:vc,schema:[_t("dom")],name:"arrow",defaults:()=>({buttonBehaviours:Rt([$n.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(wd)},buttonBehaviours:Rt([vo.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])})}),dG=Ji({factory:vc,schema:[_t("dom")],name:"button",defaults:()=>({buttonBehaviours:Rt([$n.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(i=>{t.onExecute(i,s)})}})}),nF=ye([uG,dG,Xu({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[_t("text")],name:"aria-descriptor"}),Ld({schema:[Gu()],name:"menu",defaults:t=>({onExecute:(s,i)=>{s.getSystem().getByUid(t.uid).each(u=>{t.onItemExecute(u,s,i)})}})}),v4()]),oF=(t,s,i,u)=>{const m=z=>{ko.getCurrent(z).each(j=>{ts.highlightFirst(j),Rn.focusIn(j)})},b=z=>{rD(t,Ge,z,u,m,Yl.HighlightMenuAndItem).get(ne)},w=z=>(b(z),P.some(!0)),O=z=>{const j=Eh(z,t,"button");return wd(j),P.some(!0)},M={...Ms([or((z,j)=>{Ws(z,t,"aria-descriptor").each(oe=>{const pe=fn("aria");eo(oe.element,"id",pe),eo(z.element,"aria-describedby",pe)})})]),...J2(P.some(b))},B={repositionMenus:z=>{vo.isOn(z)&&iD(z)}};return{uid:t.uid,dom:t.dom,components:s,apis:B,eventOrder:{...t.eventOrder,[xs()]:["disabling","toggling","alloy.base.behaviour"]},events:M,behaviours:mr(t.splitDropdownBehaviours,[Kr.config({others:{sandbox:z=>{const j=Eh(z,t,"arrow");return XT(t,z,{onOpen:()=>{vo.on(j),vo.on(z)},onClose:()=>{vo.off(j),vo.off(z)}})}}}),Rn.config({mode:"special",onSpace:O,onEnter:O,onDown:w}),$n.config({}),vo.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},jA=Yr({name:"SplitDropdown",configFields:ok(),partFields:nF(),factory:oF,apis:{repositionMenus:(t,s)=>t.repositionMenus(s)}}),sF=t=>({isEnabled:()=>!Gn.isDisabled(t),setEnabled:s=>Gn.set(t,!s),setText:s=>Tn(t,zd,{text:s}),setIcon:s=>Tn(t,Oy,{icon:s})}),fG=t=>({setActive:s=>{vo.set(t,s)},isActive:()=>vo.isOn(t),isEnabled:()=>!Gn.isDisabled(t),setEnabled:s=>Gn.set(t,!s),setText:s=>Tn(t,zd,{text:s}),setIcon:s=>Tn(t,Oy,{icon:s})}),rF=(t,s)=>t.map(i=>({"aria-label":s.translate(i),title:s.translate(i)})).getOr({}),iF=fn("focus-button"),sk=(t,s,i,u,m)=>{const b=s.map(O=>Oo(HD(O,"tox-tbtn",m))),w=t.map(O=>Oo(Ih(O,m.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(s.isSome()?["tox-tbtn--select"]:[]),attributes:rF(i,m)},components:Z_([w.map(O=>O.asSpec()),b.map(O=>O.asSpec())]),eventOrder:{[ii()]:["focusing","alloy.base.behaviour",yb],[_d()]:[yb,"toolbar-group-button-events"]},buttonBehaviours:Rt([Th.toolbarButton(m.isDisabled),fa(),to(yb,[or((O,M)=>dS(O)),St(zd,(O,M)=>{b.bind(B=>B.getOpt(O)).each(B=>{Kn.set(B,[sr(m.translate(M.event.text))])})}),St(Oy,(O,M)=>{w.bind(B=>B.getOpt(O)).each(B=>{Kn.set(B,[Ih(M.event.icon,m.icons)])})}),St(ii(),(O,M)=>{M.event.prevent(),Zo(O,iF)})])].concat(u.getOr([])))}},hG=(t,s,i,u)=>{const m=s.shared,b=Pn(ne),w={toolbarButtonBehaviours:[],getApi:sF,onSetup:t.onSetup},O=[to("toolbar-group-button-events",[mb(w,b),by(w,b)])];return _b.sketch({lazySink:m.getSink,fetch:()=>Mc.nu(M=>{M(je(i(t.items),UA))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:sk(t.icon,t.text,t.tooltip,P.some(O),m.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:u}}}})},aF=(t,s,i)=>{var u;const m=Pn(ne),b=sk(t.icon,t.text,t.tooltip,P.none(),i);return vc.sketch({dom:b.dom,components:b.components,eventOrder:FD,buttonBehaviours:{...Rt([to("toolbar-button-events",[DU({onAction:t.onAction,getApi:s.getApi}),mb(s,m),by(s,m)]),Th.toolbarButton(()=>!t.enabled||i.isDisabled()),fa()].concat(s.toolbarButtonBehaviours)),[yb]:(u=b.buttonBehaviours)===null||u===void 0?void 0:u[yb]}})},cF=(t,s)=>lF(t,s,[]),lF=(t,s,i)=>aF(t,{toolbarButtonBehaviours:i.length>0?[to("toolbarButtonWith",i)]:[],getApi:sF,onSetup:t.onSetup},s),rk=(t,s)=>uF(t,s,[]),uF=(t,s,i)=>aF(t,{toolbarButtonBehaviours:[Kn.config({}),vo.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(i.length>0?[to("toolbarToggleButtonWith",i)]:[]),getApi:fG,onSetup:t.onSetup},s),mG=(t,s,i)=>u=>Mc.nu(m=>s.fetch(m)).map(m=>P.from(uD(Xs(jT(fn("menu-value"),m,b=>{s.onItemAction(t(u),b)},s.columns,s.presets,Hm.CLOSE_ON_EXECUTE,s.select.getOr(bt),i),{movement:YT(s.columns,s.presets),menuBehaviours:$T.unnamedEvents(s.columns!=="auto"?[]:[or((b,w)=>{BI(b,4,qP(s.presets)).each(({numRows:O,numColumns:M})=>{Rn.setGridSize(b,O,M)})})])})))),gG=(t,s)=>{const i=b=>({isEnabled:()=>!Gn.isDisabled(b),setEnabled:w=>Gn.set(b,!w),setIconFill:(w,O)=>{fr(b.element,`svg path[id="${w}"], rect[id="${w}"]`).each(M=>{eo(M,"fill",O)})},setActive:w=>{eo(b.element,"aria-pressed",w),fr(b.element,"span").each(O=>{b.getSystem().getByDom(O).each(M=>vo.set(M,w))})},isActive:()=>fr(b.element,"span").exists(w=>b.getSystem().getByDom(w).exists(vo.isOn)),setText:w=>fr(b.element,"span").each(O=>b.getSystem().getByDom(O).each(M=>Tn(M,zd,{text:w}))),setIcon:w=>fr(b.element,"span").each(O=>b.getSystem().getByDom(O).each(M=>Tn(M,Oy,{icon:w})))}),u=Pn(ne),m={getApi:i,onSetup:t.onSetup};return jA.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...rF(t.tooltip,s.providers)}},onExecute:b=>{const w=i(b);w.isEnabled()&&t.onAction(w)},onItemExecute:(b,w,O)=>{},splitDropdownBehaviours:Rt([Th.splitButton(s.providers.isDisabled),fa(),to("split-dropdown-events",[or((b,w)=>dS(b)),St(iF,$n.focus),mb(m,u),by(m,u)]),oS.config({})]),eventOrder:{[_d()]:["alloy.base.behaviour","split-dropdown-events"]},toggleClass:"tox-tbtn--enabled",lazySink:s.getSink,fetch:mG(i,t,s.providers),parts:{menu:mx(!1,t.columns,t.presets)},components:[jA.parts.button(sk(t.icon,t.text,P.none(),P.some([vo.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),s.providers)),jA.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:hP("chevron-down",s.providers.icons)},buttonBehaviours:Rt([Th.splitButton(s.providers.isDisabled),fa(),wT()])}),jA.parts["aria-descriptor"]({text:s.providers.translate("To open the popup, press Shift+Enter")})]})},dF=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],Cb=(t,s)=>(i,u,m)=>{const b=t(i).mapError(w=>cc(w)).getOrDie();return s(b,u,m)},pG={button:Cb(dL,(t,s)=>cF(t,s.shared.providers)),togglebutton:Cb(Tx,(t,s)=>rk(t,s.shared.providers)),menubutton:Cb(s$,(t,s)=>gS(t,"tox-tbtn",s,P.none())),splitbutton:Cb(P9,(t,s)=>gG(t,s.shared)),grouptoolbarbutton:Cb(o$,(t,s,i)=>{const u=i.ui.registry.getAll().buttons,m=w=>KA(i,{buttons:u,toolbar:w,allowToolbarGroups:!1},s,P.none()),b={[u1]:s.shared.header.isPositionedAtTop()?Dd.TopToBottom:Dd.BottomToTop};switch(B_(i)){case Hd.floating:return hG(t,s,m,b);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})},YA=(t,s,i)=>nn(pG,t.type).fold(()=>(console.error("skipping button defined by",t),P.none()),u=>P.some(u(t,s,i))),LS={styles:cG,fontsize:oG,fontsizeinput:iG,fontfamily:YW,blocks:ZW,align:WW},fF=t=>{const s=je(dF,i=>{const u=so(i.items,m=>Bo(t,m)||Bo(LS,m));return{name:i.name,items:u}});return so(s,i=>i.items.length>0)},vG=t=>{const s=t.split("|");return je(s,i=>({items:i.trim().split(" ")}))},bG=t=>ke(t,s=>Bo(s,"name")&&Bo(s,"items")),yG=t=>{const s=t.toolbar,i=t.buttons;return s===!1?[]:s===void 0||s===!0?fF(i):V(s)?vG(s):bG(s)?s:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},EG=(t,s,i,u,m,b)=>nn(s,i.toLowerCase()).orThunk(()=>b.bind(w=>tr(w,O=>nn(s,O+i.toLowerCase())))).fold(()=>nn(LS,i.toLowerCase()).map(w=>w(t,m)),w=>w.type==="grouptoolbarbutton"&&!u?(console.warn(`Ignoring the '${i}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),P.none()):YA(w,m,t)),KA=(t,s,i,u)=>{const m=yG(s),b=je(m,w=>{const O=lt(w.items,M=>M.trim().length===0?[]:EG(t,s.buttons,M,s.allowToolbarGroups,i,u).toArray());return{title:P.from(t.translate(w.name)),items:O}});return so(b,w=>w.items.length>0)},hF=(t,s,i,u)=>{const m=s.mainUi.outerContainer,b=i.toolbar,w=i.buttons;if(ke(b,V)){const O=b.map(M=>{const B={toolbar:M,buttons:w,allowToolbarGroups:i.allowToolbarGroups};return KA(t,B,u,P.none())});ar.setToolbars(m,O)}else ar.setToolbar(m,KA(t,i,u,P.none()))},BS=It(),mF=BS.os.isiOS()&&BS.os.version.major<=12,gF=(t,s)=>{const{uiMotherships:i}=s,u=t.dom;let m=t.getWin();const b=t.getDoc().documentElement,w=Pn(Wn(m.innerWidth,m.innerHeight)),O=Pn(Wn(b.offsetWidth,b.offsetHeight)),M=()=>{const J=w.get();(J.left!==m.innerWidth||J.top!==m.innerHeight)&&(w.set(Wn(m.innerWidth,m.innerHeight)),Nx(t))},B=()=>{const J=t.getDoc().documentElement,oe=O.get();(oe.left!==J.offsetWidth||oe.top!==J.offsetHeight)&&(O.set(Wn(J.offsetWidth,J.offsetHeight)),Nx(t))},z=J=>{zL(t,J)};u.bind(m,"resize",M),u.bind(m,"scroll",z);const j=c1(Ze.fromDom(t.getBody()),"load",B);t.on("hide",()=>{At(i,J=>{Q(J.element,"display","none")})}),t.on("show",()=>{At(i,J=>{Je(J.element,"display")})}),t.on("NodeChange",B),t.on("remove",()=>{j.unbind(),u.unbind(m,"resize",M),u.unbind(m,"scroll",z),m=null})},pF=(t,s,i)=>{ub(t)&&Wg(i.mainUi.mothership.element,i.popupUi.mothership),G0(s,i.dialogUi.mothership)};var wG=Object.freeze({__proto__:null,render:async(t,s,i,u,m)=>{const{mainUi:b,uiMotherships:w}=s,O=Pn(0),M=b.outerContainer;await HW(t);const B=Ze.fromDom(m.targetNode),z=Wi(va(B));Wg(B,b.mothership),pF(t,z,s),t.on("PostRender",()=>{ar.setSidebar(M,i.sidebar,PP(t)),hF(t,s,i,u),O.set(t.getWin().innerWidth),ar.setMenubar(M,L$(t,i)),ar.setViews(M,i.views),gF(t,s)});const j=ar.getSocket(M).getOrDie("Could not find expected socket element");if(mF){se(j.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const Oe=K3(()=>{t.dispatch("ScrollContent")},20),Ke=Qa(j.element,"scroll",Oe.throttle);t.on("remove",Ke.unbind)}DL(t,s),t.addCommand("ToggleSidebar",(Oe,Ke)=>{ar.toggleSidebar(M,Ke),t.dispatch("ToggleSidebar")}),t.addQueryValueHandler("ToggleSidebar",()=>{var Oe;return(Oe=ar.whichSidebar(M))!==null&&Oe!==void 0?Oe:""}),t.addCommand("ToggleView",(Oe,Ke)=>{if(ar.toggleView(M,Ke)){const $e=M.element;b.mothership.broadcastOn([Dm()],{target:$e}),At(w,Ye=>{Ye.broadcastOn([Dm()],{target:$e})}),re(ar.whichView(M))&&(t.focus(),t.nodeChanged())}}),t.addQueryValueHandler("ToggleView",()=>{var Oe;return(Oe=ar.whichView(M))!==null&&Oe!==void 0?Oe:""});const J=B_(t),oe=()=>{ar.refreshToolbar(s.mainUi.outerContainer)};(J===Hd.sliding||J===Hd.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",()=>{const Oe=t.getWin().innerWidth;Oe!==O.get()&&(oe(),O.set(Oe))});const pe={setEnabled:Oe=>{VT(s,!Oe)},isEnabled:()=>!Gn.isDisabled(M)};return{iframeContainer:j.element.dom,editorContainer:M.element.dom,api:pe}}});const XA=t=>/^[0-9\.]+(|px)$/i.test(""+t)?P.some(parseInt(""+t,10)):P.none(),ik=t=>De(t)?t+"px":t,QA=(t,s,i)=>{const u=s.filter(b=>t<b),m=i.filter(b=>t>b);return u.or(m).getOr(t)},CG=t=>{const s=xT(t),i=AT(t),u=ix(t);return XA(s).map(m=>QA(m,i,u))},TG=t=>CG(t).getOr(xT(t)),vF=t=>{const s=ox(t),i=sx(t),u=rx(t);return XA(s).map(m=>QA(m,i,u))},SG=t=>vF(t).getOr(ox(t)),{ToolbarLocation:ak,ToolbarMode:bF}=e8,yF=40,xG=(t,s,i,u,m)=>{const{mainUi:b,uiMotherships:w}=i,O=CT.DOM,M=dy(t),B=H_(t),z=rx(t).or(vF(t)),j=u.shared.header,J=j.isPositionedAtTop,oe=B_(t),pe=oe===bF.sliding||oe===bF.floating,Oe=Pn(!1),Ke=()=>Oe.get()&&!t.removed,$e=Vn=>pe?Vn.fold(ye(0),ms=>ms.components().length>1?vn(ms.components()[1].element):0):0,Ye=Vn=>{switch(cx(t)){case ak.auto:const ms=ar.getToolbar(b.outerContainer),Bt=$e(ms),pn=vn(Vn.element)-Bt,an=Wo(s);if(an.y>pn)return"top";{const lo=ku(s),Po=Math.max(lo.dom.scrollHeight,vn(lo));return an.bottom<Po-pn||wa().bottom<an.bottom-pn?"bottom":"top"}case ak.bottom:return"bottom";case ak.top:default:return"top"}},rt=Vn=>{m.on(ms=>{ea.setModes(ms,[Vn]),j.setDockingMode(Vn);const Bt=J()?Dd.TopToBottom:Dd.BottomToTop;eo(ms.element,u1,Bt)})},dt=()=>{m.on(Vn=>{const ms=z.getOrThunk(()=>{const Bt=XA(me(Gi(),"margin-left")).getOr(0);return nr(Gi())-To(s).left+Bt});Q(Vn.element,"max-width",ms+"px")})},Wt=Vn=>{m.on(ms=>{const Bt=ar.getToolbar(b.outerContainer),pn=$e(Bt),an=Wo(s),{top:Fn,left:lo}=Dt(t,b.outerContainer.element).fold(()=>({top:J()?Math.max(an.y-vn(ms.element)+pn,0):an.bottom,left:an.x}),is=>{var wl;const zr=Wo(is),Nf=(wl=is.dom.scrollTop)!==null&&wl!==void 0?wl:0,Lh=us(is,Gi()),U1=Lh?Math.max(an.y-vn(ms.element)+pn,0):an.y-zr.y+Nf-vn(ms.element)+pn;return{top:J()?U1:an.bottom,left:Lh?an.x:an.x-zr.x}}),Po={position:"absolute",left:Math.round(lo)+"px",top:Math.round(Fn)+"px"},Ai=Vn.map(is=>{const wl=zt(),zr=150,Nf=window.innerWidth-(lo-wl.left);return{width:Math.max(Math.min(is,Nf),zr)+"px"}}).getOr({});se(b.outerContainer.element,{...Po,...Ai})})},Dt=(Vn,ms)=>ub(Vn)?SS(ms):P.none(),en=()=>{At(w,Vn=>{Vn.broadcastOn([Kv()],{})})},bn=()=>{if(M)return P.none();if(To(b.outerContainer.element).left+Pr(b.outerContainer.element)>=window.innerWidth-yF||tt(b.outerContainer.element,"width").isSome()){Q(b.outerContainer.element,"position","absolute"),Q(b.outerContainer.element,"left","0px"),Je(b.outerContainer.element,"width");const ms=Pr(b.outerContainer.element);return P.some(ms)}else return P.none()},xo=Vn=>{if(!Ke())return;M||dt();const ms=M?P.none():bn();pe&&ar.refreshToolbar(b.outerContainer),M||Wt(ms),B&&m.on(Vn),en()},In=()=>M||!B||!Ke()?!1:m.get().exists(Vn=>{const ms=j.getDockingMode(),Bt=Ye(Vn);return Bt!==ms?(rt(Bt),!0):!1});return{isVisible:Ke,isPositionedAtTop:J,show:()=>{Oe.set(!0),Q(b.outerContainer.element,"display","flex"),O.addClass(t.getBody(),"mce-edit-focus"),At(w,Vn=>{Je(Vn.element,"display")}),In(),ub(t)?xo(Vn=>ea.isDocked(Vn)?ea.reset(Vn):ea.refresh(Vn)):xo(ea.refresh)},hide:()=>{Oe.set(!1),Q(b.outerContainer.element,"display","none"),O.removeClass(t.getBody(),"mce-edit-focus"),At(w,Vn=>{Q(Vn.element,"display","none")})},update:xo,updateMode:()=>{In()&&xo(ea.reset)},repositionPopups:en}},ck=(t,s)=>{const i=Wo(t);return{pos:s?i.y:i.bottom,bounds:i}},AG=(t,s,i,u)=>{const m=Pn(ck(s,i.isPositionedAtTop())),b=B=>{const{pos:z,bounds:j}=ck(s,i.isPositionedAtTop()),{pos:J,bounds:oe}=m.get(),pe=j.height!==oe.height||j.width!==oe.width;m.set({pos:z,bounds:j}),pe&&Nx(t,B),i.isVisible()&&(J!==z?i.update(ea.reset):pe&&(i.updateMode(),i.repositionPopups()))};u||(t.on("activate",i.show),t.on("deactivate",i.hide)),t.on("SkinLoaded ResizeWindow",()=>i.update(ea.reset)),t.on("NodeChange keydown",B=>{requestAnimationFrame(()=>b(B))});let w=0;const O=oM(()=>i.update(ea.refresh),33);t.on("ScrollWindow",()=>{const B=zt().left;B!==w&&(w=B,O.throttle()),i.updateMode()}),ub(t)&&t.on("ElementScroll",B=>{i.update(ea.refresh)});const M=Wl();M.set(c1(Ze.fromDom(t.getBody()),"load",B=>b(B.raw))),t.on("remove",()=>{M.clear()})};var OG=Object.freeze({__proto__:null,render:async(t,s,i,u,m)=>{const{mainUi:b}=s,w=ks(),O=Ze.fromDom(m.targetNode),M=xG(t,O,s,u,w),B=lx(t);await VW(t);const z=()=>{if(w.isSet()){M.show();return}w.set(ar.getHeader(b.outerContainer).getOrDie());const J=IT(t);ub(t)?(Wg(O,b.mothership),Wg(O,s.popupUi.mothership)):G0(J,b.mothership),G0(J,s.dialogUi.mothership),hF(t,s,i,u),ar.setMenubar(b.outerContainer,L$(t,i)),M.show(),AG(t,O,M,B),t.nodeChanged()};t.on("show",z),t.on("hide",M.hide),B||(t.on("focus",z),t.on("blur",M.hide)),t.on("init",()=>{(t.hasFocus()||B)&&z()}),DL(t,s);const j={show:z,hide:M.hide,setEnabled:J=>{VT(s,!J)},isEnabled:()=>!Gn.isDisabled(b.outerContainer)};return{editorContainer:b.outerContainer.element.dom,api:j}}});const RG=()=>{const t=ks(),s=ks(),i=ks();return{dialogUi:t,popupUi:s,mainUi:i,getUiMotherships:()=>{const b=t.get().map(O=>O.mothership),w=s.get().map(O=>O.mothership);return b.fold(()=>w.toArray(),O=>w.fold(()=>[O],M=>us(O.element,M.element)?[O]:[O,M]))},lazyGetInOuterOrDie:(b,w)=>()=>i.get().bind(O=>w(O.outerContainer)).getOrDie(`Could not find ${b} element in OuterContainer`)}},IG="contexttoolbar-show",hw="contexttoolbar-hide",EF=t=>({hide:()=>Zo(t,tm()),getValue:()=>on.getValue(t)}),_F=(t,s)=>St(A3,(i,u)=>{const m=t.get(i),b=EF(m);s.onAction(b,u.event.buttonApi)}),DG=(t,s,i)=>{const{primary:u,...m}=s.original,b=es(dL({...m,type:"button",onAction:ne}));return lF(b,i,[_F(t,s)])},wF=(t,s,i)=>{const{primary:u,...m}=s.original,b=es(Tx({...m,type:"togglebutton",onAction:ne}));return uF(b,i,[_F(t,s)])},lk=t=>t.type==="contextformtogglebutton",CF=(t,s,i)=>lk(s)?wF(t,s,i):DG(t,s,i),TF=(t,s,i)=>{const u=je(s,w=>Oo(CF(t,w,i)));return{asSpecs:()=>je(u,w=>w.asSpec()),findPrimary:w=>tr(s,(O,M)=>O.primary?P.from(u[M]).bind(B=>B.getOpt(w)).filter(Pe(Gn.isDisabled)):P.none())}},SF=(t,s)=>{const i=t.label.fold(()=>({}),b=>({"aria-label":b})),u=Oo(hy.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:i,selectOnFocus:!0,inputBehaviours:Rt([Rn.config({mode:"special",onEnter:b=>m.findPrimary(b).map(w=>(wd(w),!0)),onLeft:(b,w)=>(w.cut(),P.none()),onRight:(b,w)=>(w.cut(),P.none())})])})),m=TF(u,t.commands,s);return[{title:P.none(),items:[u.asSpec()]},{title:P.none(),items:m.asSpecs()}]},JA={renderContextForm:(t,s,i)=>MS({type:t,uid:fn("context-toolbar"),initGroups:SF(s,i),onEscape:P.none,cyclicKeying:!0,providers:i}),buildInitGroups:SF},eO=(t,s,i)=>s.bottom-t.y>=i&&t.bottom-s.y>=i,xF=t=>{const s=t.getBoundingClientRect();if(s.height<=0&&s.width<=0){const i=ag(Ze.fromDom(t.startContainer),t.startOffset).element;return(pa(i)?Cc(i):P.some(i)).filter(Es).map(m=>m.dom.getBoundingClientRect()).getOr(s)}else return s},tO=t=>{const s=t.selection.getRng(),i=xF(s);if(t.inline){const u=zt();return Ds(u.left+i.left,u.top+i.top,i.width,i.height)}else{const u=Il(Ze.fromDom(t.getBody()));return Ds(u.x+i.left,u.y+i.top,i.width,i.height)}},MG=(t,s)=>s.filter(i=>rc(i)&&Kd(i)).map(Il).getOrThunk(()=>tO(t)),AF=(t,s,i)=>{const u=Math.max(t.x+i,s.x),m=Math.min(t.right-i,s.right);return{x:u,width:m-u}},kG=(t,s,i,u,m,b)=>{const w=Ze.fromDom(t.getContainer()),O=fr(w,".tox-editor-header").getOr(w),M=Wo(O),B=M.y>=s.bottom,z=u&&!B;if(t.inline&&z)return{y:Math.max(M.bottom+b,i.y),bottom:i.bottom};if(t.inline&&!z)return{y:i.y,bottom:Math.min(M.y-b,i.bottom)};const j=m==="line"?Wo(w):s;return z?{y:Math.max(M.bottom+b,i.y),bottom:Math.min(j.bottom-b,i.bottom)}:{y:Math.max(j.y+b,i.y),bottom:Math.min(M.y-b,i.bottom)}},OF=(t,s,i,u=0)=>{const m=ao(window),b=Wo(Ze.fromDom(t.getContentAreaContainer())),w=Qg(t)||$_(t)||F_(t),{x:O,width:M}=AF(b,m,u);if(t.inline&&!w)return Ds(O,m.y,M,m.height);{const B=s.header.isPositionedAtTop(),{y:z,bottom:j}=kG(t,b,m,B,i,u);return Ds(O,z,M,j-z)}},nO=12,RF={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},IF={maxHeightFunction:fh(),maxWidthFunction:WM()},DF=(t,s)=>{const i=t.selection.getRng(),u=ag(Ze.fromDom(i.startContainer),i.startOffset);return i.startContainer===i.endContainer&&i.startOffset===i.endOffset-1&&us(u.element,s)},oO=(t,s,i)=>{const u=tt(t,"position");Q(t,"position",s);const m=i(t);return u.each(b=>Q(t,"position",b)),m},uk=t=>t==="node",MF=(t,s,i,u,m)=>{const b=tO(t),w=u.lastElement().exists(O=>us(i,O));if(DF(t,i))return w?pB:lp;if(w)return oO(s,u.getMode(),()=>eO(b,Wo(s),-20)&&!u.isReposition()?Oz:pB);{const O=u.getMode()==="fixed"?m.y+zt().top:m.y,M=vn(s)+nO;return O+M<=b.y?lp:_S}},dk=(t,s,i,u)=>{const m=M=>(B,z,j,J,oe)=>{const pe=MF(t,J,M,i,oe),Oe={...B,y:oe.y,height:oe.height};return{...pe(Oe,z,j,J,oe),alwaysFit:!0}},b=M=>uk(u)?[m(M)]:[];return s?{onLtr:M=>[Xi,Li,li,gc,jc,vs].concat(b(M)),onRtl:M=>[Xi,li,Li,jc,gc,vs].concat(b(M))}:{onLtr:M=>[vs,Xi,gc,Li,jc,li].concat(b(M)),onRtl:M=>[vs,Xi,jc,li,gc,Li].concat(b(M))}},NG=(t,s,i,u)=>s==="line"?{bubble:ju(nO,0,RF),layouts:{onLtr:()=>[yu],onRtl:()=>[Ef]},overrides:IF}:{bubble:ju(0,nO,RF,1/nO),layouts:dk(t,i,u,s),overrides:IF},sO=(t,s)=>{const i=so(s,b=>b.predicate(t.dom)),{pass:u,fail:m}=os(i,b=>b.type==="contexttoolbar");return{contextToolbars:u,contextForms:m}},PG=t=>{if(t.length<=1)return t;{const s=b=>Lo(t,w=>w.position===b),i=b=>so(t,w=>w.position===b),u=s("selection"),m=s("node");if(u||m)if(m&&u){const b=i("node"),w=je(i("selection"),O=>({...O,position:"node"}));return b.concat(w)}else return i(u?"selection":"node");else return i("line")}},LG=t=>{if(t.length<=1)return t;{const s=u=>Dn(t,m=>m.position===u);return s("selection").orThunk(()=>s("node")).orThunk(()=>s("line")).map(u=>u.position).fold(()=>[],u=>so(t,m=>m.position===u))}},rO=(t,s,i)=>{const u=sO(t,s);if(u.contextForms.length>0)return P.some({elem:t,toolbars:[u.contextForms[0]]});{const m=sO(t,i);if(m.contextForms.length>0)return P.some({elem:t,toolbars:[m.contextForms[0]]});if(u.contextToolbars.length>0||m.contextToolbars.length>0){const b=PG(u.contextToolbars.concat(m.contextToolbars));return P.some({elem:t,toolbars:b})}else return P.none()}},kF=(t,s,i)=>t(s)?P.none():Lp(s,u=>{if(Es(u)){const{contextToolbars:m,contextForms:b}=sO(u,i.inNodeScope),w=b.length>0?b:LG(m);return w.length>0?P.some({elem:u,toolbars:w}):P.none()}else return P.none()},t),BG=(t,s)=>{const i=Ze.fromDom(s.getBody()),u=w=>us(w,i),m=w=>!u(w)&&!sc(i,w),b=Ze.fromDom(s.selection.getNode());return m(b)?P.none():rO(b,t.inNodeScope,t.inEditorScope).orThunk(()=>kF(u,b,t))},$G=(t,s)=>{const i={},u=[],m=[],b={},w={},O=(z,j)=>{const J=es(gL(j));i[z]=J,J.launch.map(oe=>{b["form:"+z]={...j.launch,type:oe.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{s(J)}}}),J.scope==="editor"?m.push(J):u.push(J),w[z]=J},M=(z,j)=>{S8(j).each(J=>{j.scope==="editor"?m.push(J):u.push(J),w[z]=J})},B=js(t);return At(B,z=>{const j=t[z];j.type==="contextform"?O(z,j):j.type==="contexttoolbar"&&M(z,j)}),{forms:i,inNodeScope:u,inEditorScope:m,lookupTable:w,formNavigators:b}},NF=fn("forward-slide"),PF=fn("backward-slide"),fk=fn("change-slide-event"),iO="tox-pop--resizing",LF=t=>{const s=Pn([]);return Si.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:i=>{s.set([]),Si.getContent(i).each(u=>{Je(u.element,"visibility")}),_s(i.element,iO),Je(i.element,"width")},inlineBehaviours:Rt([to("context-toolbar-events",[ua(eh(),(i,u)=>{u.event.raw.propertyName==="width"&&(_s(i.element,iO),Je(i.element,"width"))}),St(fk,(i,u)=>{const m=i.element;Je(m,"width");const b=nr(m);Si.setContent(i,u.event.contents),hs(m,iO);const w=nr(m);Q(m,"width",b+"px"),Si.getContent(i).each(O=>{u.event.focus.bind(M=>(Ic(M),gl(m))).orThunk(()=>(Rn.focusIn(O),qu(va(m))))}),setTimeout(()=>{Q(i.element,"width",w+"px")},0)}),St(NF,(i,u)=>{Si.getContent(i).each(m=>{s.set(s.get().concat([{bar:m,focus:qu(va(i.element))}]))}),Tn(i,fk,{contents:u.event.forwardContents,focus:P.none()})}),St(PF,(i,u)=>{nl(s.get()).each(m=>{s.set(s.get().slice(0,s.get().length-1)),Tn(i,fk,{contents:Rc(m.bar),focus:m.focus})})})]),Rn.config({mode:"special",onEscape:i=>nl(s.get()).fold(()=>t.onEscape(),u=>(Zo(i,PF),P.some(!0)))})]),lazySink:()=>co.value(t.sink)})},hk="tox-pop--transition",FG=(t,s,i,u)=>{const m=u.backstage,b=m.shared,w=It().deviceType.isTouch,O=ks(),M=ks(),B=ks(),z=Da(LF({sink:i,onEscape:()=>(t.focus(),P.some(!0))})),j=()=>{const In=B.get().getOr("node"),Co=uk(In)?1:0;return OF(t,b,In,Co)},J=()=>!t.removed&&!(w()&&m.isContextMenuOpen()),oe=In=>Ec(jd(In,O.get(),us),!0),pe=()=>{if(J()){const In=j(),Co=Ec(B.get(),"node")?MG(t,O.get()):tO(t);return In.height<=0||!eO(Co,In,.01)}else return!0},Oe=()=>{O.clear(),M.clear(),B.clear(),Si.hide(z)},Ke=()=>{if(Si.isOpen(z)){const In=z.element;Je(In,"display"),pe()?Q(In,"display","none"):(M.set(0),Si.reposition(z))}},$e=In=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[In],behaviours:Rt([Rn.config({mode:"acyclic"}),to("pop-dialog-wrap-events",[or(Co=>{t.shortcuts.add("ctrl+F9","focus statusbar",()=>Rn.focusIn(Co))}),qa(Co=>{t.shortcuts.remove("ctrl+F9")})])])}),Ye=yi(()=>$G(s,In=>{const Co=Wt([In]);Tn(z,NF,{forwardContents:$e(Co)})})),rt=(In,Co)=>KA(t,{buttons:In,toolbar:Co.items,allowToolbarGroups:!1},u.backstage,P.some(["form:"])),dt=(In,Co)=>JA.buildInitGroups(In,Co),Wt=In=>{const{buttons:Co}=t.ui.registry.getAll(),qn=Ye(),_o={...Co,...qn.formNavigators},Vn=B_(t)===Hd.scrolling?Hd.scrolling:Hd.default,ms=qt(je(In,Bt=>Bt.type==="contexttoolbar"?rt(_o,Bt):dt(Bt,b.providers)));return MS({type:Vn,uid:fn("context-toolbar"),initGroups:ms,onEscape:P.none,cyclicKeying:!0,providers:b.providers})},Dt=(In,Co)=>{const qn=In==="node"?b.anchors.node(Co):b.anchors.cursor(),_o=NG(t,In,w(),{lastElement:O.get,isReposition:()=>Ec(M.get(),0),getMode:()=>As.getMode(i)});return Xs(qn,_o)},en=(In,Co)=>{if(xo.cancel(),!J())return;const qn=Wt(In),_o=In[0].position,Vn=Dt(_o,Co);B.set(_o),M.set(1);const ms=z.element;Je(ms,"display"),oe(Co)||(_s(ms,hk),As.reset(i,z)),Si.showWithinBounds(z,$e(qn),{anchor:Vn,transition:{classes:[hk],mode:"placement"}},()=>P.some(j())),Co.fold(O.clear,O.set),pe()&&Q(ms,"display","none")};let bn=!1;const xo=oM(()=>{if(!(!t.hasFocus()||t.removed||bn))if(Ci(z.element,hk))xo.throttle();else{const In=Ye();BG(In,t).fold(Oe,Co=>{en(Co.toolbars,P.some(Co.elem))})}},17);t.on("init",()=>{t.on("remove",Oe),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",Ke),t.on("click keyup focus SetContent",xo.throttle),t.on(hw,Oe),t.on(IG,In=>{const Co=Ye();nn(Co.lookupTable,In.toolbarKey).each(qn=>{en([qn],zn(In.target!==t,In.target)),Si.getContent(z).each(Rn.focusIn)})}),t.on("focusout",In=>{Fm.setEditorTimeout(t,()=>{gl(i.element).isNone()&&gl(z.element).isNone()&&Oe()},0)}),t.on("SwitchMode",()=>{t.mode.isReadOnly()&&Oe()}),t.on("AfterProgressState",In=>{In.state?Oe():t.hasFocus()&&xo.throttle()}),t.on("dragstart",()=>{bn=!0}),t.on("dragend drop",()=>{bn=!1}),t.on("NodeChange",In=>{gl(z.element).fold(xo.throttle,ne)})})},BF=t=>{At([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],i=>{t.ui.registry.addToggleButton(i.name,{tooltip:i.text,icon:i.icon,onAction:Wd(t,i.cmd),onSetup:ZA(t,i.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:Wd(t,"JustifyNone")})},$F=(t,s)=>{const i=()=>{const u=s.getOptions(t),m=s.getCurrent(t).map(s.hash),b=ks();return je(u,w=>({type:"togglemenuitem",text:s.display(w),onSetup:O=>{const M=z=>{z&&(b.on(j=>j.setActive(!1)),b.set(O)),O.setActive(z)};M(Ec(m,s.hash(w)));const B=s.watcher(t,w,M);return()=>{b.clear(),B()}},onAction:()=>s.setCurrent(t,w)}))};t.ui.registry.addMenuButton(s.name,{tooltip:s.text,icon:s.icon,fetch:u=>u(i()),onSetup:s.onToolbarSetup}),t.ui.registry.addNestedMenuItem(s.name,{type:"nestedmenuitem",text:s.text,getSubmenuItems:i,onSetup:s.onMenuSetup})},HG={name:"lineheight",text:"Line height",icon:"line-height",getOptions:$P,hash:t=>Q$(t,["fixed","relative","empty"]).getOr(t),display:Ge,watcher:(t,s,i)=>t.formatter.formatChanged("lineheight",i,!1,{value:s}).unbind,getCurrent:t=>P.from(t.queryCommandValue("LineHeight")),setCurrent:(t,s)=>t.execCommand("LineHeight",!1,s)},VG=t=>P.from(aI(t)).map(i=>({name:"language",text:"Language",icon:"language",getOptions:ye(i),hash:u=>ge(u.customCode)?u.code:`${u.code}/${u.customCode}`,display:u=>u.title,watcher:(u,m,b)=>{var w;return u.formatter.formatChanged("lang",b,!1,{value:m.code,customValue:(w=m.customCode)!==null&&w!==void 0?w:null}).unbind},getCurrent:u=>{const m=Ze.fromDom(u.selection.getNode());return cv(m,b=>P.some(b).filter(Es).bind(w=>Gr(w,"lang").map(M=>{const B=Gr(w,"data-mce-lang").getOrUndefined();return{code:M,customCode:B,title:""}})))},setCurrent:(u,m)=>u.execCommand("Lang",!1,m),onToolbarSetup:u=>{const m=Wl();return u.setActive(t.formatter.match("lang",{},void 0,!0)),m.set(t.formatter.formatChanged("lang",u.setActive,!0)),m.clear}})),UG=t=>{$F(t,HG),VG(t).each(s=>$F(t,s))},zG=(t,s)=>{GW(t,s),KW(t,s),lG(t,s),qW(t,s),aG(t,s)},mk=t=>NS(t,"NodeChange",s=>{s.setEnabled(t.queryCommandState("outdent"))}),WG=t=>{t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:mk(t),onAction:Wd(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:Wd(t,"indent")})},GG=t=>{WG(t)},aO=(t,s)=>i=>{i.setActive(s.get());const u=m=>{s.set(m.state),i.setActive(m.state)};return t.on("PastePlainTextToggle",u),()=>t.off("PastePlainTextToggle",u)},FF=t=>{const s=Pn(lI(t)),i=()=>t.execCommand("mceTogglePlainTextPaste");t.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:i,onSetup:aO(t,s)}),t.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:i,onSetup:aO(t,s)})},cO=(t,s)=>()=>{t.execCommand("mceToggleFormat",!1,s)},ZG=t=>{xy.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(s,i)=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:ZA(t,s.name),onAction:cO(t,s.name)})});for(let s=1;s<=6;s++){const i="h"+s;t.ui.registry.addToggleButton(i,{text:i.toUpperCase(),tooltip:"Heading "+s,onSetup:ZA(t,i),onAction:cO(t,i)})}},qG=t=>{xy.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"print",text:"Print",action:"mcePrint",icon:"print"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onAction:Wd(t,s.action)})})},jG=t=>{xy.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],s=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onAction:Wd(t,s.action),onSetup:ZA(t,s.name)})})},YG=t=>{ZG(t),qG(t),jG(t)},KG=t=>{xy.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onAction:Wd(t,s.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:cO(t,"code")})},HF=t=>{YG(t),KG(t)},lO=(t,s)=>NS(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",i=>{i.setEnabled(!t.mode.isReadOnly()&&t.undoManager[s]())}),VF=t=>{t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:lO(t,"hasUndo"),onAction:Wd(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:lO(t,"hasRedo"),onAction:Wd(t,"redo")})},XG=t=>{t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:lO(t,"hasUndo"),onAction:Wd(t,"undo")}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:lO(t,"hasRedo"),onAction:Wd(t,"redo")})},QG=t=>{VF(t),XG(t)},gk=t=>NS(t,"VisualAid",s=>{s.setActive(t.hasVisual)}),UF=t=>{t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:gk(t),onAction:Wd(t,"mceToggleVisualAid")})},JG=t=>{t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:Wd(t,"mceToggleVisualAid")})},eZ=t=>{JG(t),UF(t)},pk=(t,s)=>{BF(t),HF(t),zG(t,s),QG(t),eD(t),eZ(t),GG(t),UG(t),FF(t)},tZ=t=>V(t)?t.split(/[ ,]/):t,zF=t=>s=>s.options.get(t),nZ=t=>{const s=t.options.register;s("contextmenu_avoid_overlap",{processor:"string",default:""}),s("contextmenu_never_use_native",{processor:"boolean",default:!1}),s("contextmenu",{processor:i=>i===!1?{value:[],valid:!0}:V(i)||ke(i,V)?{value:tZ(i),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},WF=zF("contextmenu_never_use_native"),oZ=zF("contextmenu_avoid_overlap"),GF=t=>ZF(t).length===0,ZF=t=>{const s=t.ui.registry.getAll().contextMenus,i=t.options.get("contextmenu");return t.options.isSet("contextmenu")?i:so(i,u=>Bo(s,u))},FS=(t,s)=>({type:"makeshift",x:t,y:s}),sZ=(t,s,i)=>FS(t.x+s,t.y+i),qF=t=>t.type==="longpress"||t.type.indexOf("touch")===0,rZ=t=>{if(qF(t)){const s=t.touches[0];return FS(s.pageX,s.pageY)}else return FS(t.pageX,t.pageY)},iZ=t=>{if(qF(t)){const s=t.touches[0];return FS(s.clientX,s.clientY)}else return FS(t.clientX,t.clientY)},aZ=(t,s)=>{const i=CT.DOM.getPos(t);return sZ(s,i.x,i.y)},cZ=(t,s)=>s.type==="contextmenu"||s.type==="longpress"?t.inline?rZ(s):aZ(t.getContentAreaContainer(),iZ(s)):vk(t),vk=t=>({type:"selection",root:Ze.fromDom(t.selection.getNode())}),lZ=t=>({type:"node",node:P.some(Ze.fromDom(t.selection.getNode())),root:Ze.fromDom(t.getBody())}),bk=(t,s,i)=>{switch(i){case"node":return lZ(t);case"point":return cZ(t,s);case"selection":return vk(t)}},uZ=(t,s,i,u,m,b)=>{const w=i(),O=bk(t,s,b);Ry(w,Hm.CLOSE_ON_EXECUTE,u,{isHorizontalMenu:!1,search:P.none()}).map(M=>{s.preventDefault(),Si.showMenuAt(m,{anchor:O},{menu:{markers:fy("normal")},data:M})})},dZ={onLtr:()=>[Xi,Li,li,gc,jc,vs,lp,_S,ES,bS,yS,iw],onRtl:()=>[Xi,li,Li,jc,gc,vs,lp,_S,yS,iw,ES,bS]},fZ=12,Ly={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},jF=(t,s)=>{const i=t.selection;if(i.isCollapsed()||s.touches.length<1)return!1;{const u=s.touches[0],m=i.getRng();return v1(t.getWin(),wf.domRange(m)).exists(w=>w.left<=u.clientX&&w.right>=u.clientX&&w.top<=u.clientY&&w.bottom>=u.clientY)}},hZ=t=>{const s=t.selection.getRng(),i=()=>{Fm.setEditorTimeout(t,()=>{t.selection.setRng(s)},10),b()};t.once("touchend",i);const u=w=>{w.preventDefault(),w.stopImmediatePropagation()};t.on("mousedown",u,!0);const m=()=>b();t.once("longpresscancel",m);const b=()=>{t.off("touchend",i),t.off("longpresscancel",m),t.off("mousedown",u)}},mZ=(t,s,i)=>{const u=bk(t,s,i);return{bubble:ju(0,i==="point"?fZ:0,Ly),layouts:dZ,overrides:{maxWidthFunction:WM(),maxHeightFunction:fh()},...u}},gZ=(t,s,i,u,m,b,w)=>{const O=mZ(t,s,b);Ry(i,Hm.CLOSE_ON_EXECUTE,u,{isHorizontalMenu:!0,search:P.none()}).map(M=>{s.preventDefault();const B=w?Yl.HighlightMenuAndItem:Yl.HighlightNone;Si.showMenuWithinBounds(m,{anchor:O},{menu:{markers:fy("normal"),highlightOnOpen:B},data:M,type:"horizontal"},()=>P.some(OF(t,u.shared,b==="node"?"node":"selection"))),t.dispatch(hw)})},pZ=(t,s,i,u,m,b)=>{const w=It(),O=w.os.isiOS(),M=w.os.isMacOS(),B=w.os.isAndroid(),z=w.deviceType.isTouch(),j=()=>!(B||O||M&&z),J=()=>{const oe=i();gZ(t,s,oe,u,m,b,j())};if((M||O)&&b!=="node"){const oe=()=>{hZ(t),J()};jF(t,s)?oe():(t.once("selectionchange",oe),t.once("touchend",()=>t.off("selectionchange",oe)))}else J()},yk=t=>V(t)?t==="|":t.type==="separator",Ek={type:"separator"},YF=t=>{const s=i=>({text:i.text,icon:i.icon,enabled:i.enabled,shortcut:i.shortcut});if(V(t))return t;switch(t.type){case"separator":return Ek;case"submenu":return{type:"nestedmenuitem",...s(t),getSubmenuItems:()=>{const u=t.getSubmenuItems();return V(u)?u:je(u,YF)}};default:const i=t;return{type:"menuitem",...s(i),onAction:Le(i.onAction)}}},KF=(t,s)=>{if(s.length===0)return t;const u=nl(t).filter(m=>!yk(m)).fold(()=>[],m=>[Ek]);return t.concat(u).concat(s).concat([Ek])},vZ=(t,s,i)=>{const u=ys(s,(m,b)=>nn(t,b.toLowerCase()).map(w=>{const O=w.update(i);if(V(O))return KF(m,O.split(" "));if(O.length>0){const M=je(O,YF);return KF(m,M)}else return m}).getOrThunk(()=>m.concat([b])),[]);return u.length>0&&yk(u[u.length-1])&&u.pop(),u},bZ=(t,s)=>s.ctrlKey&&!WF(t),yZ=t=>t.type==="longpress"||Bo(t,"touches"),XF=(t,s)=>!yZ(s)&&(s.button!==2||s.target===t.getBody()&&s.pointerType===""),QF=(t,s)=>XF(t,s)?t.selection.getStart(!0):s.target,JF=(t,s)=>{const i=oZ(t),u=XF(t,s)?"selection":"point";if(_c(i)){const m=QF(t,s);return QT(Ze.fromDom(m),i)?"node":u}else return u},e5=(t,s,i)=>{const m=It().deviceType.isTouch,b=Da(Si.sketch({dom:{tag:"div"},lazySink:s,onEscape:()=>t.focus(),onShow:()=>i.setContextMenuState(!0),onHide:()=>i.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:Rt([to("dismissContextMenu",[St(Fl(),(M,B)=>{Ao.close(M),t.focus()})])])})),w=()=>Si.hide(b),O=M=>{if(WF(t)&&M.preventDefault(),bZ(t,M)||GF(t))return;const B=JF(t,M),z=()=>{const J=QF(t,M),oe=t.ui.registry.getAll(),pe=ZF(t);return vZ(oe.contextMenus,pe,J)};(m()?pZ:uZ)(t,M,z,i,b,B)};t.on("init",()=>{const M="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(m()?"":" ResizeWindow");t.on(M,w),t.on("longpress contextmenu",O)})},_k=$l.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),Tb=t=>s=>s.translate(-t.left,-t.top),uO=t=>s=>s.translate(t.left,t.top),F1=t=>(s,i)=>ys(t,(u,m)=>m(u),Wn(s,i)),mw=(t,s,i)=>t.fold(F1([uO(i),Tb(s)]),F1([Tb(s)]),F1([])),gw=(t,s,i)=>t.fold(F1([uO(i)]),F1([]),F1([uO(s)])),t5=(t,s,i)=>t.fold(F1([]),F1([Tb(i)]),F1([uO(s),Tb(i)])),EZ=(t,s,i,u,m,b)=>{const w=gw(t,m,b),O=gw(s,m,b);return Math.abs(w.left-O.left)<=i&&Math.abs(w.top-O.top)<=u},_Z=(t,s,i,u,m,b)=>{const w=gw(t,m,b),O=gw(s,m,b),M=Math.abs(w.left-O.left),B=Math.abs(w.top-O.top);return Wn(M,B)},n5=(t,s,i)=>{const u=t.fold((m,b)=>({position:P.some("absolute"),left:P.some(m+"px"),top:P.some(b+"px")}),(m,b)=>({position:P.some("absolute"),left:P.some(m-i.left+"px"),top:P.some(b-i.top+"px")}),(m,b)=>({position:P.some("fixed"),left:P.some(m+"px"),top:P.some(b+"px")}));return{right:P.none(),bottom:P.none(),...u}},wZ=(t,s,i)=>t.fold((u,m)=>dO(u+s,m+i),(u,m)=>Sb(u+s,m+i),(u,m)=>By(u+s,m+i)),wk=(t,s,i,u)=>{const m=(b,w)=>(O,M)=>{const B=b(s,i,u);return w(O.getOr(B.left),M.getOr(B.top))};return t.fold(m(t5,dO),m(gw,Sb),m(mw,By))},dO=_k.offset,Sb=_k.absolute,By=_k.fixed,o5=(t,s)=>{const i=Mi(t,s);return ge(i)?NaN:parseInt(i,10)},CZ=(t,s)=>{const i=t.element,u=o5(i,s.leftAttr),m=o5(i,s.topAttr);return isNaN(u)||isNaN(m)?P.none():P.some(Wn(u,m))},TZ=(t,s,i)=>{const u=t.element;eo(u,s.leftAttr,i.left+"px"),eo(u,s.topAttr,i.top+"px")},SZ=(t,s)=>{const i=t.element;C(i,s.leftAttr),C(i,s.topAttr)},xZ=(t,s,i,u)=>CZ(t,s).fold(()=>i,m=>By(m.left+u.left,m.top+u.top)),AZ=(t,s,i,u,m,b)=>{const w=xZ(t,s,i,u),O=s.mustSnap?RZ(t,s,w,m,b):IZ(t,s,w,m,b),M=mw(w,m,b);return TZ(t,s,M),O.fold(()=>({coord:By(M.left,M.top),extra:P.none()}),B=>({coord:B.output,extra:B.extra}))},OZ=(t,s)=>{SZ(t,s)},HS=(t,s,i,u)=>tr(t,m=>{const b=m.sensor;return EZ(s,b,m.range.left,m.range.top,i,u)?P.some({output:wk(m.output,s,i,u),extra:m.extra}):P.none()}),RZ=(t,s,i,u,m)=>{const b=s.getSnapPoints(t);return HS(b,i,u,m).orThunk(()=>ys(b,(M,B)=>{const z=B.sensor,j=_Z(i,z,B.range.left,B.range.top,u,m);return M.deltas.fold(()=>({deltas:P.some(j),snap:P.some(B)}),J=>{const oe=(j.left+j.top)/2,pe=(J.left+J.top)/2;return oe<=pe?{deltas:P.some(j),snap:P.some(B)}:M})},{deltas:P.none(),snap:P.none()}).snap.map(M=>({output:wk(M.output,i,u,m),extra:M.extra})))},IZ=(t,s,i,u,m)=>{const b=s.getSnapPoints(t);return HS(b,i,u,m)},DZ=(t,s,i)=>({coord:wk(t.output,t.output,s,i),extra:t.extra});var MZ=Object.freeze({__proto__:null,snapTo:(t,s,i,u)=>{const m=s.getTarget(t.element);if(s.repositionTarget){const b=Di(t.element),w=zt(b),O=UB(m),M=DZ(u,w,O),B=n5(M.coord,w,O);fe(m,B)}}});const Ck="data-initial-z-index",s5=t=>{Cc(t.element).filter(Es).each(s=>{Gr(s,Ck).fold(()=>Je(s,"z-index"),i=>Q(s,"z-index",i)),C(s,Ck)})},kZ=t=>{Cc(t.element).filter(Es).each(s=>{tt(s,"z-index").each(i=>{eo(s,Ck,i)}),Q(s,"z-index",me(t.element,"z-index"))})},r5=(t,s)=>{t.getSystem().addToGui(s),kZ(s)},NZ=t=>{s5(t),t.getSystem().removeFromGui(t)},i5=(t,s,i)=>t.getSystem().build(Sh.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[s]},events:i}));var PZ=Aa("snaps",[_t("getSnapPoints"),ze("onSensor"),_t("leftAttr"),_t("topAttr"),qe("lazyViewport",wa),qe("mustSnap",!1)]);const VS=[qe("useFixed",bt),_t("blockerClass"),qe("getTarget",Ge),qe("onDrag",ne),qe("repositionTarget",!0),qe("onDrop",ne),_i("getBounds",wa),PZ],a5=t=>Vf(tt(t,"left"),tt(t,"top"),tt(t,"position"),(s,i,u)=>(u==="fixed"?By:dO)(parseInt(s,10),parseInt(i,10))).getOrThunk(()=>{const s=To(t);return Sb(s.left,s.top)}),LZ=(t,s,i,u,m)=>{const b=m.bounds,w=gw(s,i,u),O=Ka(w.left,b.x,b.x+b.width-m.width),M=Ka(w.top,b.y,b.y+b.height-m.height),B=Sb(O,M);return s.fold(()=>{const z=t5(B,i,u);return dO(z.left,z.top)},ye(B),()=>{const z=mw(B,i,u);return By(z.left,z.top)})},BZ=(t,s,i,u,m,b,w)=>{const O=s.fold(()=>{const M=wZ(i,b.left,b.top),B=mw(M,u,m);return By(B.left,B.top)},M=>{const B=AZ(t,M,i,b,u,m);return B.extra.each(z=>{M.onSensor(t,z)}),B.coord});return LZ(t,O,u,m,w)},$Z=(t,s,i,u)=>{const m=s.getTarget(t.element);if(s.repositionTarget){const b=Di(t.element),w=zt(b),O=UB(m),M=a5(m),B=BZ(t,s.snaps,M,w,O,u,i),z=n5(B,w,O);fe(m,z)}s.onDrag(t,m,u)},c5=(t,s)=>({bounds:t.getBounds(),height:lr(s.element),width:Pr(s.element)}),Tk=(t,s,i,u,m)=>{const b=i.update(u,m),w=i.getStartData().getOrThunk(()=>c5(s,t));b.each(O=>{$Z(t,s,w,O)})},l5=(t,s,i,u)=>{s.each(NZ),i.snaps.each(b=>{OZ(t,b)});const m=i.getTarget(t.element);u.reset(),i.onDrop(t,m)},Sk=t=>(s,i)=>{const u=m=>{i.setStartData(c5(s,m))};return Ms([St(du(),m=>{i.getStartData().each(()=>u(m))}),...t(s,i,u)])},FZ=t=>Ms([St(ii(),t.forceDrop),St(Jf(),t.drop),St(zc(),(s,i)=>{t.move(i.event)}),St(Qf(),t.delayDrop)]);var HZ=Object.freeze({__proto__:null,getData:t=>P.from(Wn(t.x,t.y)),getDelta:(t,s)=>Wn(s.left-t.left,s.top-t.top)});const u5=(t,s,i)=>[St(ii(),(u,m)=>{if(m.event.raw.button!==0)return;m.stop();const w=()=>l5(u,P.some(B),t,s),O=C4(w,200),M={drop:w,delayDrop:O.schedule,forceDrop:w,move:j=>{O.cancel(),Tk(u,t,s,HZ,j)}},B=i5(u,t.blockerClass,FZ(M));(()=>{i(u),r5(u,B)})()})],VZ=[...VS,Hs("dragger",{handlers:Sk(u5)})],UZ=t=>Ms([St(ul(),t.forceDrop),St(Xf(),t.drop),St(dE(),t.drop),St(em(),(s,i)=>{t.move(i.event)})]),zZ=t=>{const s=t[0];return P.some(Wn(s.clientX,s.clientY))};var d5=Object.freeze({__proto__:null,getData:t=>{const i=t.raw.touches;return i.length===1?zZ(i):P.none()},getDelta:(t,s)=>Wn(s.left-t.left,s.top-t.top)});const f5=(t,s,i)=>{const u=ks(),m=b=>{l5(b,u.get(),t,s),u.clear()};return[St(ul(),(b,w)=>{w.stop();const O=()=>m(b),M={drop:O,delayDrop:ne,forceDrop:O,move:j=>{Tk(b,t,s,d5,j)}},B=i5(b,t.blockerClass,UZ(M));u.set(B),(()=>{i(b),r5(b,B)})()}),St(em(),(b,w)=>{w.stop(),Tk(b,t,s,d5,w.event)}),St(Xf(),(b,w)=>{w.stop(),m(b)}),St(dE(),m)]},WZ=[...VS,Hs("dragger",{handlers:Sk(f5)})],GZ=(t,s,i)=>[...u5(t,s,i),...f5(t,s,i)],h5=[...VS,Hs("dragger",{handlers:Sk(GZ)})];var xk=Object.freeze({__proto__:null,mouse:VZ,touch:WZ,mouseOrTouch:h5}),qZ=Object.freeze({__proto__:null,init:()=>{let t=P.none(),s=P.none();const i=()=>{t=P.none(),s=P.none()},u=(M,B)=>{const z=t.map(j=>M.getDelta(j,B));return t=P.some(B),z},m=(M,B)=>M.getData(B).bind(z=>u(M,z)),b=M=>{s=P.some(M)},w=()=>s,O=ye({});return ja({readState:O,reset:i,update:m,getStartData:w,setStartData:b})}});const $y=BE({branchKey:"mode",branches:xk,name:"dragging",active:{events:(t,s)=>t.dragger.handlers(t,s)},extra:{snap:t=>({sensor:t.sensor,range:t.range,output:t.output,extra:P.from(t.extra)})},state:qZ,apis:MZ}),Ok=40,fO=Ok/2,m5=(t,s,i,u,m,b)=>t.fold(()=>$y.snap({sensor:Sb(i-fO,u-fO),range:Wn(m,b),output:Sb(P.some(i),P.some(u)),extra:{td:s}}),w=>{const O=i-fO,M=u-fO,B=Ok,z=Ok,j=w.element.dom.getBoundingClientRect();return $y.snap({sensor:Sb(O,M),range:Wn(B,z),output:Sb(P.some(i-j.width/2),P.some(u-j.height/2)),extra:{td:s}})}),xb=(t,s,i)=>{const u=(m,b)=>m.exists(w=>us(w,b));return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(m,b)=>{const w=b.td;u(s.get(),w)||(s.set(w),i(w))},mustSnap:!0}},Rk=t=>Oo(vc.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Rt([$y.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),oS.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),jZ=(t,s)=>{const i=Pn([]),u=Pn([]),m=Pn(!1),b=ks(),w=ks(),O=en=>{const bn=Il(en);return m5(oe.getOpt(s),en,bn.x,bn.y,bn.width,bn.height)},M=()=>je(i.get(),en=>O(en)),B=en=>{const bn=Il(en);return m5(pe.getOpt(s),en,bn.right,bn.bottom,bn.width,bn.height)},z=()=>je(u.get(),en=>B(en)),j=xb(M,b,en=>{w.get().each(bn=>{t.dispatch("TableSelectorChange",{start:en,finish:bn})})}),J=xb(z,w,en=>{b.get().each(bn=>{t.dispatch("TableSelectorChange",{start:bn,finish:en})})}),oe=Rk(j),pe=Rk(J),Oe=Da(oe.asSpec()),Ke=Da(pe.asSpec()),$e=(en,bn,xo,In)=>{const Co=bn.dom.getBoundingClientRect();Je(en.element,"display");const qn=fd(Ze.fromDom(t.getBody())).dom.innerHeight,_o=xo(Co),Vn=In(Co,qn);(_o||Vn)&&Q(en.element,"display","none")},Ye=(en,bn,xo,In)=>{const Co=xo(bn);$y.snapTo(en,Co),$e(en,bn,Vn=>Vn[In]<0,(Vn,ms)=>Vn[In]>ms)},rt=en=>Ye(Oe,en,O,"top"),dt=()=>b.get().each(rt),Wt=en=>Ye(Ke,en,B,"bottom"),Dt=()=>w.get().each(Wt);It().deviceType.isTouch()&&(t.on("TableSelectionChange",en=>{m.get()||(gh(s,Oe),gh(s,Ke),m.set(!0)),b.set(en.start),w.set(en.finish),en.otherCells.each(bn=>{i.set(bn.upOrLeftCells),u.set(bn.downOrRightCells),rt(en.start),Wt(en.finish)})}),t.on("ResizeEditor ResizeWindow ScrollContent",()=>{dt(),Dt()}),t.on("TableSelectionClear",()=>{m.get()&&(ph(Oe),ph(Ke),m.set(!1)),b.clear(),w.clear()}))};var YZ=`<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>
</svg>
`;const KZ=t=>t.nodeName==="BR"||!!t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark",XZ=(t,s,i)=>{var u;const m=(u=s.delimiter)!==null&&u!==void 0?u:"›",b=(B,z,j)=>vc.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":j,"aria-level":j+1}},components:[sr(B)],action:J=>{t.focus(),t.selection.select(z),t.nodeChanged()},buttonBehaviours:Rt([Th.button(i.isDisabled),fa()])}),w=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[sr(` ${m} `)]}),O=B=>ys(B,(z,j,J)=>{const oe=b(j.name,j.element,J);return J===0?z.concat([oe]):z.concat([w(),oe])},[]),M=B=>{const z=[];let j=B.length;for(;j-- >0;){const J=B[j];if(J.nodeType===1&&!KZ(J)){const oe=Lx(t,J);if(oe.isDefaultPrevented()||z.push({name:oe.name,element:J}),oe.isPropagationStopped())break}}return z};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Rt([Rn.config({mode:"flow",selector:"div[role=button]"}),Gn.config({disabled:i.isDisabled}),fa(),Vr.config({}),Kn.config({}),to("elementPathEvents",[or((B,z)=>{t.shortcuts.add("alt+F11","focus statusbar elementpath",()=>Rn.focusIn(B)),t.on("NodeChange",j=>{const J=M(j.parents),oe=J.length>0?O(J):[];Kn.set(B,oe)})})])]),components:[]}};var Fy;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(Fy||(Fy={}));const QZ=(t,s,i,u,m)=>{const b={height:QA(u+s.top,AT(t),ix(t))};return i===Fy.Both&&(b.width=QA(m+s.left,sx(t),rx(t))),b},g5=(t,s,i)=>{const u=Ze.fromDom(t.getContainer()),m=QZ(t,s,i,vn(u),nr(u));Nr(m,(b,w)=>{De(b)&&Q(u,w,ik(b))}),K8(t)},JZ=t=>{const s=NP(t);return s===!1?Fy.None:s==="both"?Fy.Both:Fy.Vertical},vw=(t,s,i,u)=>{const b=Wn(i*20,u*20);return g5(t,b,s),P.some(!0)},US=(t,s)=>{const i=JZ(t);return i===Fy.None?P.none():P.some(Tf("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:s.translate("Resize")},behaviours:[$y.config({mode:"mouse",repositionTarget:!1,onDrag:(u,m,b)=>g5(t,b,i),blockerClass:"tox-blocker"}),Rn.config({mode:"special",onLeft:()=>vw(t,i,-1,0),onRight:()=>vw(t,i,1,0),onUp:()=>vw(t,i,0,-1),onDown:()=>vw(t,i,0,1)}),Vr.config({}),$n.config({})]},s.icons))},Ik=(t,s)=>{const i=(u,m,b)=>Kn.set(u,[sr(s.translate(["{0} "+b,m[b]]))]);return vc.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Rt([Th.button(s.isDisabled),fa(),Vr.config({}),Kn.config({}),on.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),to("wordcount-events",[fl(u=>{const m=on.getValue(u),b=m.mode==="words"?"characters":"words";on.setValue(u,{mode:b,count:m.count}),i(u,m.count,b)}),or(u=>{t.on("wordCountUpdate",m=>{const{mode:b}=on.getValue(u);on.setValue(u,{mode:b,count:m.wordCount}),i(u,m.wordCount,b)})})])]),eventOrder:{[xs()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},hO=(t,s)=>{const i=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6",rel:"noopener",target:"_blank","aria-label":Fd.translate(["Powered by {0}","Tiny"])},innerHtml:YZ.trim()},behaviours:Rt([$n.config({})])}]}),u=()=>{const b=[];return MP(t)&&b.push(XZ(t,{},s)),t.hasPlugin("wordcount")&&b.push(Ik(t,s)),kP(t)&&b.push(i()),b.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:b}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const b=u(),w=US(t,s);return b.concat(w.toArray())})()}},Ab=(t,s)=>s.get().getOrDie(`UI for ${t} has not been rendered`),mO=(t,s)=>{const i=t.inline,u=i?OG:wG,m=H_(t)?D9:VB,b=RG(),w=ks(),O=ks(),M=ks(),J=It().deviceType.isTouch()?["tox-platform-touch"]:[],oe=dI(t),pe=B_(t),Oe=Oo({dom:{tag:"div",classes:["tox-anchorbar"]}}),Ke=()=>b.mainUi.get().map(an=>an.outerContainer).bind(ar.getHeader),$e=()=>co.fromOption(b.dialogUi.get().map(an=>an.sink),"UI has not been rendered"),Ye=()=>co.fromOption(b.popupUi.get().map(an=>an.sink),"(popup) UI has not been rendered"),rt=b.lazyGetInOuterOrDie("anchor bar",Oe.getOpt),dt=b.lazyGetInOuterOrDie("toolbar",ar.getToolbar),Wt=b.lazyGetInOuterOrDie("throbber",ar.getThrobber),Dt=r9({popup:Ye,dialog:$e},t,rt),en=()=>{const an={attributes:{[u1]:oe?Dd.BottomToTop:Dd.TopToBottom}},Fn=ar.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:Dt.popup,onEscape:()=>{t.focus()}}),lo=ar.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:Dt.popup.shared.getSink,providers:Dt.popup.shared.providers,onEscape:()=>{t.focus()},onToolbarToggled:wO=>{X8(t,wO)},type:pe,lazyToolbar:dt,lazyHeader:()=>Ke().getOrDie("Could not find header element"),...an}),Po=ar.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:Dt.popup.shared.providers,onEscape:()=>{t.focus()},type:pe}),Ai=F_(t),is=$_(t),wl=Qg(t),zr=LP(t),Nf=bn(),Lh=Ai||is||wl,U1=()=>Ai?[Po]:is?[lo]:[],YS=zr?[Nf,Fn]:[Fn];return ar.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Lh?[]:["tox-editor-header--empty"]),...an},components:qt([wl?YS:[],U1(),dy(t)?[]:[Oe.asSpec()]]),sticky:H_(t),editor:t,sharedBackstage:Dt.popup.shared})},bn=()=>ar.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),xo=()=>{const an=ar.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Fn=ar.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[an,Fn]}},In=()=>{const an=IT(t),Fn=us(Gi(),an)&&me(an,"display")==="grid",lo={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(J),attributes:{...Fd.isRtl()?{dir:"rtl"}:{}}},behaviours:Rt([As.config({useFixed:()=>m.isDocked(Ke)})])},Po={dom:{styles:{width:document.body.clientWidth+"px"}},events:Ms([St(lf(),wl=>{Q(wl.element,"width",document.body.clientWidth+"px")})])},Ai=Da(Xs(lo,Fn?Po:{})),is=fD(Ai);return O.set(is),{sink:Ai,mothership:is}},Co=()=>{const an={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(J),attributes:{...Fd.isRtl()?{dir:"rtl"}:{}}},behaviours:Rt([As.config({useFixed:()=>m.isDocked(Ke),getBounds:()=>s.getPopupSinkBounds()})])},Fn=Da(an),lo=fD(Fn);return M.set(lo),{sink:Fn,mothership:lo}},qn=()=>{const an=en(),Fn=xo(),lo=ar.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:Dt.popup}),Po=ar.parts.viewWrapper({backstage:Dt.popup}),Ai=DP(t)&&!i?P.some(hO(t,Dt.popup.shared.providers)):P.none(),is=qt([oe?[]:[an],i?[]:[Fn],oe?[an]:[]]),wl=ar.parts.editorContainer({components:qt([is,i?[]:Ai.toArray()])}),zr=hI(t),Nf={role:"application",...Fd.isRtl()?{dir:"rtl"}:{},...zr?{"aria-hidden":"true"}:{}},Lh=Da(ar.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(i?["tox-tinymce-inline"]:[]).concat(oe?["tox-tinymce--toolbar-bottom"]:[]).concat(J),styles:{visibility:"hidden",...zr?{opacity:"0",border:"0"}:{}},attributes:Nf},components:[wl,...i?[]:[Po],lo],behaviours:Rt([fa(),Gn.config({disableClass:"tox-tinymce--disabled"}),Rn.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),U1=fD(Lh);return w.set(U1),{mothership:U1,outerContainer:Lh}},_o=an=>{const Fn=ik(TG(t)),lo=ik(SG(t));return t.inline||(Ut("div","width",lo)&&Q(an.element,"width",lo),Ut("div","height",Fn)?Q(an.element,"height",Fn):Q(an.element,"height","400px")),Fn},Vn=an=>{t.addShortcut("alt+F9","focus menubar",()=>{ar.focusMenubar(an)}),t.addShortcut("alt+F10","focus toolbar",()=>{ar.focusToolbar(an)}),t.addCommand("ToggleToolbarDrawer",(Fn,lo)=>{lo!=null&&lo.skipFocus?ar.toggleToolbarDrawerWithoutFocusing(an):ar.toggleToolbarDrawer(an)}),t.addQueryStateHandler("ToggleToolbarDrawer",()=>ar.isToolbarDrawerToggled(an))},ms=an=>{const{mainUi:Fn,popupUi:lo,uiMotherships:Po}=an;Rs(ax(t),(Gy,Hk)=>{t.ui.registry.addGroupToolbarButton(Hk,Gy)});const{buttons:Ai,menuItems:is,contextToolbars:wl,sidebars:zr,views:Nf}=t.ui.registry.getAll(),Lh=uI(t),U1={menuItems:is,menus:V_(t),menubar:SP(t),toolbar:Lh.getOrThunk(()=>ux(t)),allowToolbarGroups:pe===Hd.floating,buttons:Ai,sidebar:zr,views:Nf};Vn(Fn.outerContainer),i9(t,Fn.mothership,Po),m.setup(t,Dt.popup.shared,Ke),pk(t,Dt.popup),e5(t,Dt.popup.shared.getSink,Dt.popup),$9(t),Q9(t,Wt,Dt.popup.shared),FG(t,wl,lo.sink,{backstage:Dt.popup}),jZ(t,lo.sink);const YS=t.getElement(),wO=_o(Fn.outerContainer),ww={targetNode:YS,height:wO};return u.render(t,an,U1,Dt.popup,ww)},Bt=an=>(M.set(an.mothership),an),pn=()=>{const an=qn(),Fn=In(),lo=ub(t)?Co():Bt(Fn);b.dialogUi.set(Fn),b.popupUi.set(lo),b.mainUi.set(an);const Po={popupUi:lo,dialogUi:Fn,mainUi:an,uiMotherships:b.getUiMotherships()};return ms(Po)};return{popups:{backstage:Dt.popup,getMothership:()=>Ab("popups",M)},dialogs:{backstage:Dt.dialog,getMothership:()=>Ab("dialogs",O)},renderUI:pn}},eq=(t,s)=>{const i=P.from(Mi(t,"id")).fold(()=>{const u=fn("dialog-describe");return eo(s,"id",u),u},Ge);eo(t,"aria-describedby",i)},p5=(t,s)=>{const i=Gr(t,"id").fold(()=>{const u=fn("dialog-label");return eo(s,"id",u),u},Ge);eo(t,"aria-labelledby",i)},v5=ye([_t("lazySink"),$o("dragBlockClass"),_i("getBounds",wa),qe("useTabstopAt",Ct),qe("firstTabstop",0),qe("eventOrder",{}),da("modalBehaviours",[Rn]),rr("onExecute"),f0("onEscape")]),gO={sketch:Ge},tq=ye([Xu({name:"draghandle",overrides:(t,s)=>({behaviours:Rt([$y.config({mode:"mouse",getTarget:i=>qc(i,'[role="dialog"]').getOr(i),blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(s,null,2)).message),getBounds:t.getDragBounds})])})}),Ji({schema:[_t("dom")],name:"title"}),Ji({factory:gO,schema:[_t("dom")],name:"close"}),Ji({factory:gO,schema:[_t("dom")],name:"body"}),Xu({factory:gO,schema:[_t("dom")],name:"footer"}),Ld({factory:{sketch:(t,s)=>({...t,dom:s.dom,components:s.components})},schema:[qe("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),qe("components",[])],name:"blocker"})]),nq=(t,s,i,u)=>{const m=ks(),b=oe=>{m.set(oe);const pe=t.lazySink(oe).getOrDie(),Oe=u.blocker(),Ke=pe.getSystem().build({...Oe,components:Oe.components.concat([Rc(oe)]),behaviours:Rt([$n.config({}),to("dialog-blocker-events",[ua(af(),()=>{Rn.focusIn(oe)})])])});gh(pe,Ke),Rn.focusIn(oe)},w=oe=>{m.clear(),Cc(oe.element).each(pe=>{oe.getSystem().getByDom(pe).each(Oe=>{ph(Oe)})})},O=oe=>Eh(oe,t,"body"),M=oe=>Eh(oe,t,"footer"),B=(oe,pe)=>{Eb.block(oe,pe)},z=oe=>{Eb.unblock(oe)},j=fn("modal-events"),J={...t.eventOrder,[_d()]:[j].concat(t.eventOrder["alloy.system.attached"]||[])};return{uid:t.uid,dom:t.dom,components:s,apis:{show:b,hide:w,getBody:O,getFooter:M,setIdle:z,setBusy:B},eventOrder:J,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:mr(t.modalBehaviours,[Kn.config({}),Rn.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt,firstTabstop:t.firstTabstop}),Eb.config({getRoot:m.get}),to(j,[or(oe=>{p5(oe.element,Eh(oe,t,"title").element),eq(oe.element,Eh(oe,t,"body").element)})])])}},ha=Yr({name:"ModalDialog",configFields:v5(),partFields:tq(),factory:nq,apis:{show:(t,s)=>{t.show(s)},hide:(t,s)=>{t.hide(s)},getBody:(t,s)=>t.getBody(s),getFooter:(t,s)=>t.getFooter(s),setBusy:(t,s,i)=>{t.setBusy(s,i)},setIdle:(t,s)=>{t.setIdle(s)}}}),b5=An([xi,SI].concat(hb)),y5=Yh,zS=[II("button"),wh,Ga("align","end",["start","end"]),LT,Ch,$u("buttonType",["primary","secondary"])],E5=[...zS,D1],Dk=[cu("type",["submit","cancel","custom"]),...E5],oq=[cu("type",["menu"]),M1,_x,wh,Wa("items",b5),...zS],_5=[...zS,cu("type",["togglebutton"]),Ir("tooltip"),Ex,M1,Yi("active",!1)],sq=qr("type",{submit:Dk,cancel:Dk,custom:Dk,menu:oq,togglebutton:_5}),rq=[xi,D1,cu("level",["info","warn","error","success"]),Ex,qe("url","")],iq=An(rq),Mk=t=>[xi,t],kk=[xi,D1,Ch,II("button"),wh,rL,$u("buttonType",["primary","secondary","toolbar"]),LT],aq=An(kk),Hy=[xi,SI],qm=Hy.concat([OI]),cq=Hy.concat([db,Ch]),w5=An(cq),lq=Yh,uq=qm.concat([RI("auto")]),Vy=An(uq),C5=Wb([U_,D1,Ex]),dq=qm.concat([lu("storageKey","default")]),pO=An(dq),bw=Ar,T5=An(qm),vO=Ar,Tu=Hy.concat([lu("tag","textarea"),Ir("scriptId"),Ir("scriptUrl"),Zb("settings",void 0)]),bO=Hy.concat([lu("tag","textarea"),ll("init")]),S5=jf(t=>Go("customeditor.old",ca(bO),t).orThunk(()=>Go("customeditor.new",ca(Tu),t))),x5=Ar,fq=An(qm),Ob=of(),IK=t=>[xi,Kh("columns"),t],hq=[xi,Ir("html"),Ga("presets","presentation",["presentation","document"])],A5=An(hq),yw=qm.concat([Yi("sandboxed",!0),Yi("transparent",!0)]),yO=An(yw),O5=Ar,mq=An(Hy.concat([la("height")])),gq=An([Ir("url"),Sa("zoom"),Sa("cachedWidth"),Sa("cachedHeight")]),pq=qm.concat([la("inputMode"),la("placeholder"),Yi("maximized",!1),Ch]),vq=An(pq),Ew=Ar,DK=t=>[xi,db,t],bq=[D1,U_],yq=[D1,Wa("items",Yf("items",()=>Eq))],Eq=Np([An(bq),An(yq)]),_q=qm.concat([Wa("items",Eq),Ch]),wq=An(_q),WS=Ar,Cq=qm.concat([rv("items",[D1,U_]),Xh("size",1),Ch]),Tq=An(Cq),R5=Ar,Sq=qm.concat([Yi("constrain",!0),Ch]),MK=An(Sq),e=An([Ir("width"),Ir("height")]),n=Hy.concat([db,Xh("min",0),Xh("max",0)]),o=An(n),r=sv,l=[xi,Wa("header",Ar),Wa("cells",Xt(Ar))],f=An(l),v=qm.concat([la("placeholder"),Yi("maximized",!1),Ch]),T=An(v),A=Ar,L=[cu("type",["directory","leaf"]),oL,Ir("id"),Bu("menu",NA)],Z=An(L),te=L.concat([Wa("children",Yf("children",()=>za("type",{directory:we,leaf:Z})))]),we=An(te),Se=za("type",{directory:we,leaf:Z}),ue=[xi,Wa("items",Se),xa("onLeafAction")],Ce=An(ue),Be=qm.concat([Ga("filetype","file",["image","media","file"]),Ch]),Ie=An(Be),Ue=An([U_,gy]),et=t=>Br("items","items",Ha(),Xt(jf(s=>Go(`Checking item of ${t}`,yt,s).fold(i=>co.error(cc(i)),i=>co.value(i))))),yt=ov(()=>za("type",{alertbanner:iq,bar:An(Mk(et("bar"))),button:aq,checkbox:w5,colorinput:pO,colorpicker:T5,dropzone:fq,grid:An(IK(et("grid"))),iframe:yO,input:vq,listbox:wq,selectbox:Tq,sizeinput:MK,slider:o,textarea:T,urlinput:Ie,customeditor:S5,htmlpanel:A5,imagepreview:mq,collection:Vy,label:An(DK(et("label"))),table:f,tree:Ce,panel:Ft})),Yt=[xi,qe("classes",[]),Wa("items",yt)],Ft=An(Yt),at=[II("tab"),oL,Wa("items",yt)],it=[xi,rv("tabs",at)],ln=An(it),xn=E5,Bn=sq,ho=An([Ir("title"),Bl("body",za("type",{panel:Ft,tabpanel:ln})),lu("size","normal"),Wa("buttons",Bn),qe("initialData",{}),_i("onAction",ne),_i("onChange",ne),_i("onSubmit",ne),_i("onClose",ne),_i("onCancel",ne),_i("onTabChange",ne)]),No=t=>Go("dialog",ho,t),bs=An([cu("type",["cancel","custom"]),...xn]),Zs=An([Ir("title"),Ir("url"),Sa("height"),Sa("width"),cE("buttons",bs),_i("onAction",ne),_i("onCancel",ne),_i("onClose",ne),_i("onMessage",ne)]),Jr=t=>Go("dialog",Zs,t),tc=t=>G(t)?[t].concat(lt(ng(t),tc)):K(t)?lt(t,tc):[],ma=t=>V(t.type)&&V(t.name),$t={checkbox:lq,colorinput:bw,colorpicker:vO,dropzone:Ob,input:Ew,iframe:O5,imagepreview:gq,selectbox:R5,sizeinput:e,slider:r,listbox:WS,size:e,textarea:A,urlinput:Ue,customeditor:x5,collection:C5,togglemenuitem:y5},wn=t=>P.from($t[t.type]),Qo=t=>so(tc(t),ma),tn=t=>{const s=Qo(t),i=lt(s,u=>wn(u).fold(()=>[],m=>[Bl(u.name,m)]));return An(i)},kn=t=>{var s;const i=es(No(t)),u=tn(t),m=(s=t.initialData)!==null&&s!==void 0?s:{};return{internalDialog:i,dataValidator:u,initialData:m}},Nn={open:(t,s)=>{const i=kn(s);return t(i.internalDialog,i.initialData,i.dataValidator)},openUrl:(t,s)=>{const i=es(Jr(s));return t(i)},redial:t=>kn(t)};var Ro=Object.freeze({__proto__:null,events:(t,s)=>{const i=(u,m)=>{t.updateState.each(b=>{const w=b(u,m);s.set(w)}),t.renderComponents.each(b=>{const w=b(m,s.get());(t.reuseDom?HN:Q2)(u,w)})};return Ms([St(cf(),(u,m)=>{const b=m;if(!b.universal){const w=t.channel;uo(b.channels,w)&&i(u,b.data)}}),or((u,m)=>{t.initialData.each(b=>{i(u,b)})})])}}),Pa=Object.freeze({__proto__:null,getState:(t,s,i)=>i}),Cr=[_t("channel"),$o("renderComponents"),$o("updateState"),$o("initialData"),Yi("reuseDom",!0)],ns=Object.freeze({__proto__:null,init:()=>{const t=Pn(P.none()),s=()=>t.set(P.none());return{readState:()=>t.get().getOr("none"),get:t.get,set:t.set,clear:s}}});const Ps=Bi({fields:Cr,name:"reflecting",active:Ro,apis:Pa,state:ns}),qs=t=>{const s=[],i={};return Nr(t,(u,m)=>{u.fold(()=>{s.push(m)},b=>{i[m]=b})}),s.length>0?co.error(s):co.value(i)},Ur=(t,s,i)=>{const u=Oo(nw.sketch(m=>({dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:je(t.items,b=>uM(m,b,s,i))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[u.asSpec()]}],behaviours:Rt([Rn.config({mode:"acyclic",useTabstopAt:Pe(uS)}),Rh.memento(u),Qr.memento(u,{postprocess:m=>qs(m).fold(b=>(console.error(b),{}),Ge)})])}},gi=(t,s)=>({uid:t.uid,dom:t.dom,components:t.components,events:J2(t.action),behaviours:mr(t.tabButtonBehaviours,[$n.config({}),Rn.config({mode:"execution",useSpace:!0,useEnter:!0}),on.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}),Sr=hi({name:"TabButton",configFields:[qe("uid",void 0),_t("value"),Br("dom","dom",mg(()=>({attributes:{role:"tab",id:fn("aria"),"aria-selected":"false"}})),Pl()),$o("action"),qe("domModification",{}),da("tabButtonBehaviours",[$n,Rn,on]),_t("view")],factory:gi}),Hi=ye([_t("tabs"),_t("dom"),qe("clickToDismiss",!1),da("tabbarBehaviours",[ts,Rn]),Vl(["tabClass","selectedClass"])]),Rf=J0({factory:Sr,name:"tabs",unit:"tab",overrides:t=>{const s=(u,m)=>{ts.dehighlight(u,m),Tn(u,om(),{tabbar:u,button:m})},i=(u,m)=>{ts.highlight(u,m),Tn(u,nm(),{tabbar:u,button:m})};return{action:u=>{const m=u.getSystem().getByUid(t.uid).getOrDie(),b=ts.isHighlighted(m,u);(()=>b&&t.clickToDismiss?s:b?ne:i)()(m,u)},domModification:{classes:[t.markers.tabClass]}}}}),Nc=ye([Rf]),jm=(t,s,i,u)=>({uid:t.uid,dom:t.dom,components:s,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:mr(t.tabbarBehaviours,[ts.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:(m,b)=>{eo(b.element,"aria-selected","true")},onDehighlight:(m,b)=>{eo(b.element,"aria-selected","false")}}),Rn.config({mode:"flow",getInitial:m=>ts.getHighlighted(m).map(b=>b.element),selector:"."+t.markers.tabClass,executeOnMove:!0})])}),rd=Yr({name:"Tabbar",configFields:Hi(),partFields:Nc(),factory:jm}),Uy=(t,s)=>({uid:t.uid,dom:t.dom,behaviours:mr(t.tabviewBehaviours,[Kn.config({})]),domModification:{attributes:{role:"tabpanel"}}}),zy=hi({name:"Tabview",configFields:[da("tabviewBehaviours",[Kn])],factory:Uy}),Ym=ye([qe("selectFirst",!0),ze("onChangeTab"),ze("onDismissTab"),qe("tabs",[]),da("tabSectionBehaviours",[])]),Nh=Ji({factory:rd,schema:[_t("dom"),uc("markers",[_t("tabClass"),_t("selectedClass")])],name:"tabbar",defaults:t=>({tabs:t.tabs})}),ta=Ji({factory:zy,name:"tabview"}),If=ye([Nh,ta]),Km=(t,s,i,u)=>{const m=w=>{const O=on.getValue(w);Ws(w,t,"tabview").each(M=>{Dn(t.tabs,z=>z.value===O).each(z=>{const j=z.view();Gr(w.element,"id").each(J=>{eo(M.element,"aria-labelledby",J)}),Kn.set(M,j),t.onChangeTab(M,w,j)})})},b=(w,O)=>{Ws(w,t,"tabbar").each(M=>{O(M).each(wd)})};return{uid:t.uid,dom:t.dom,components:s,behaviours:y_(t.tabSectionBehaviours),events:Ms(qt([t.selectFirst?[or((w,O)=>{b(w,ts.getFirst)})]:[],[St(nm(),(w,O)=>{const M=O.event.button;m(M)}),St(om(),(w,O)=>{const M=O.event.button;t.onDismissTab(w,M)})]])),apis:{getViewItems:w=>Ws(w,t,"tabview").map(O=>Kn.contents(O)).getOr([]),showTab:(w,O)=>{b(w,B=>{const z=ts.getCandidates(B);return Dn(z,J=>on.getValue(J)===O).filter(J=>!ts.isHighlighted(B,J))})}}}},_l=Yr({name:"TabSection",configFields:Ym(),partFields:If(),factory:Km,apis:{getViewItems:(t,s)=>t.getViewItems(s),showTab:(t,s,i)=>{t.showTab(s,i)}}}),Df=(t,s,i)=>je(t,(u,m)=>{Kn.set(i,t[m].view());const b=s.dom.getBoundingClientRect();return Kn.set(i,[]),b.height}),hp=t=>Tr(yc(t,(s,i)=>s>i?-1:s<i?1:0)),Jc=(t,s,i)=>{const u=ku(t).dom,m=qc(t,".tox-dialog-wrap").getOr(t),b=me(m,"position")==="fixed";let w;b?w=Math.max(u.clientHeight,window.innerHeight):w=Math.max(u.offsetHeight,u.scrollHeight);const O=vn(s),B=s.dom.offsetLeft>=i.dom.offsetLeft+nr(i)?Math.max(vn(i),O):O,z=parseInt(me(t,"margin-top"),10)||0,j=parseInt(me(t,"margin-bottom"),10)||0,oe=vn(t)+z+j-B;return w-oe},H1=(t,s)=>{Tr(t).each(i=>_l.showTab(s,i.value))},Xm=(t,s)=>{Q(t,"height",s+"px"),Q(t,"flex-basis",s+"px")},id=(t,s,i)=>{qc(t,'[role="dialog"]').each(u=>{fr(u,'[role="tablist"]').each(m=>{i.get().map(b=>(Q(s,"height","0"),Q(s,"flex-basis","0"),Math.min(b,Jc(u,s,m)))).each(b=>{Xm(s,b)})})})},mp=t=>fr(t,'[role="tabpanel"]'),GS=t=>{const s=ks();return{extraEvents:[or(m=>{const b=m.element;mp(b).each(w=>{Q(w,"visibility","hidden"),m.getSystem().getByDom(w).toOptional().each(O=>{const M=Df(t,w,O);hp(M).fold(s.clear,s.set)}),id(b,w,s),Je(w,"visibility"),H1(t,m),requestAnimationFrame(()=>{id(b,w,s)})})}),St(lf(),m=>{const b=m.element;mp(b).each(w=>{id(b,w,s)})}),St(L4,(m,b)=>{const w=m.element;mp(w).each(O=>{const M=qu(va(O));Q(O,"visibility","hidden");const B=tt(O,"height").map(J=>parseInt(J,10));Je(O,"height"),Je(O,"flex-basis");const z=O.dom.getBoundingClientRect().height;B.forall(J=>z>J)?(s.set(z),id(w,O,s)):B.each(J=>{Xm(O,J)}),Je(O,"visibility"),M.each(Ic)})})],selectFirst:!1}},EO="send-data-to-section",ZS="send-data-to-view",Pk=(t,s,i)=>{const u=Pn({}),m=B=>{const z=on.getValue(B),j=qs(z).getOr({}),J=u.get(),oe=Xs(J,j);u.set(oe)},b=B=>{const z=u.get();on.setValue(B,z)},w=Pn(null),O=je(t.tabs,B=>({value:B.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[sr(i.shared.providers.translate(B.title))],view:()=>[nw.sketch(z=>({dom:{tag:"div",classes:["tox-form"]},components:je(B.items,j=>uM(z,j,s,i)),formBehaviours:Rt([Rn.config({mode:"acyclic",useTabstopAt:Pe(uS)}),to("TabView.form.events",[or(b),qa(m)]),Ul.config({channels:Za([{key:EO,value:{onReceive:m}},{key:ZS,value:{onReceive:b}}])})])}))]})),M=GS(O);return _l.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(B,z,j)=>{const J=on.getValue(z);Tn(B,P4,{name:J,oldName:w.get()}),w.set(J)},tabs:O,components:[_l.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[rd.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Rt([Vr.config({})])}),_l.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:M.selectFirst,tabSectionBehaviours:Rt([to("tabpanel",M.extraEvents),Rn.config({mode:"acyclic"}),ko.config({find:B=>Tr(_l.getViewItems(B))}),Qr.withComp(P.none(),B=>(B.getSystem().broadcastOn([EO],{}),u.get()),(B,z)=>{u.set(z),B.getSystem().broadcastOn([ZS],{})})])})},qS=fn("update-dialog"),Lk=fn("update-title"),Ph=fn("update-body"),Wy=fn("update-footer"),nt=fn("body-send-message"),ot=(t,s,i,u,m)=>{const b=M=>{const B=M.body;switch(B.type){case"tabpanel":return[Pk(B,M.initialData,u)];default:return[Ur(B,M.initialData,u)]}},w=(M,B)=>P.some({isTabPanel:()=>B.body.type==="tabpanel"}),O={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...i.map(M=>({id:M})).getOr({}),...m?O:{}}},components:[],behaviours:Rt([Rh.childAt(0),Ps.config({channel:`${Ph}-${s}`,updateState:w,renderComponents:b,initialData:t})])}},Ht=(t,s,i,u,m)=>ot(t,s,P.some(i),u,m),Lt=(t,s,i)=>{const u=ot(t,s,P.none(),i,!1);return ha.parts.body(u)},Mn=t=>{const s={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[T3({dom:{tag:"iframe",attributes:{src:t.url}},behaviours:Rt([Vr.config({}),$n.config({})])})]}],behaviours:Rt([Rn.config({mode:"acyclic",useTabstopAt:Pe(uS)})])};return ha.parts.body(s)};function Do(t){return Do=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Do(t)}function er(t,s){return er=Object.setPrototypeOf||function(u,m){return u.__proto__=m,u},er(t,s)}function gr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gp(t,s,i){return gr()?gp=Reflect.construct:gp=function(m,b,w){var O=[null];O.push.apply(O,b);var M=Function.bind.apply(m,O),B=new M;return w&&er(B,w.prototype),B},gp.apply(null,arguments)}function ad(t){return I5(t)||D5(t)||xq(t)||ft()}function I5(t){if(Array.isArray(t))return bo(t)}function D5(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xq(t,s){if(t){if(typeof t=="string")return bo(t,s);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return bo(t,s)}}function bo(t,s){(s==null||s>t.length)&&(s=t.length);for(var i=0,u=new Array(s);i<s;i++)u[i]=t[i];return u}function ft(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var yn=Object.hasOwnProperty,Yn=Object.setPrototypeOf,pi=Object.isFrozen,Gd=Object.getPrototypeOf,Su=Object.getOwnPropertyDescriptor,Mr=Object.freeze,Mf=Object.seal,Kl=Object.create,Bk=typeof Reflect<"u"&&Reflect,_O=Bk.apply,$k=Bk.construct;_O||(_O=function(s,i,u){return s.apply(i,u)}),Mr||(Mr=function(s){return s}),Mf||(Mf=function(s){return s}),$k||($k=function(s,i){return gp(s,ad(i))});var kK=V1(Array.prototype.forEach),kte=V1(Array.prototype.pop),Fk=V1(Array.prototype.push),M5=V1(String.prototype.toLowerCase),Nte=V1(String.prototype.match),_w=V1(String.prototype.replace),Pte=V1(String.prototype.indexOf),Lte=V1(String.prototype.trim),kf=V1(RegExp.prototype.test),Aq=Bte(TypeError);function V1(t){return function(s){for(var i=arguments.length,u=new Array(i>1?i-1:0),m=1;m<i;m++)u[m-1]=arguments[m];return _O(t,s,u)}}function Bte(t){return function(){for(var s=arguments.length,i=new Array(s),u=0;u<s;u++)i[u]=arguments[u];return $k(t,i)}}function cr(t,s){Yn&&Yn(t,null);for(var i=s.length;i--;){var u=s[i];if(typeof u=="string"){var m=M5(u);m!==u&&(pi(s)||(s[i]=m),u=m)}t[u]=!0}return t}function jS(t){var s=Kl(null),i;for(i in t)_O(yn,t,[i])&&(s[i]=t[i]);return s}function k5(t,s){for(;t!==null;){var i=Su(t,s);if(i){if(i.get)return V1(i.get);if(typeof i.value=="function")return V1(i.value)}t=Gd(t)}function u(m){return console.warn("fallback value for",m),null}return u}var NK=Mr(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Oq=Mr(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Rq=Mr(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),$te=Mr(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Iq=Mr(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Fte=Mr(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),PK=Mr(["#text"]),LK=Mr(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Dq=Mr(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),BK=Mr(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),N5=Mr(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Hte=Mf(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Vte=Mf(/<%[\w\W]*|[\w\W]*%>/gm),Ute=Mf(/^data-[\-\w.\u00B7-\uFFFF]/),zte=Mf(/^aria-[\-\w]+$/),Wte=Mf(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Gte=Mf(/^(?:\w+script|data):/i),Zte=Mf(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),qte=Mf(/^html$/i),jte=function(){return typeof window>"u"?null:window},Yte=function(s,i){if(Do(s)!=="object"||typeof s.createPolicy!="function")return null;var u=null,m="data-tt-policy-suffix";i.currentScript&&i.currentScript.hasAttribute(m)&&(u=i.currentScript.getAttribute(m));var b="dompurify"+(u?"#"+u:"");try{return s.createPolicy(b,{createHTML:function(O){return O}})}catch{return console.warn("TrustedTypes policy "+b+" could not be created."),null}};function $K(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:jte(),s=function(ht){return $K(ht)};if(s.version="2.3.8",s.removed=[],!t||!t.document||t.document.nodeType!==9)return s.isSupported=!1,s;var i=t.document,u=t.document,m=t.DocumentFragment,b=t.HTMLTemplateElement,w=t.Node,O=t.Element,M=t.NodeFilter,B=t.NamedNodeMap,z=B===void 0?t.NamedNodeMap||t.MozNamedAttrMap:B,j=t.HTMLFormElement,J=t.DOMParser,oe=t.trustedTypes,pe=O.prototype,Oe=k5(pe,"cloneNode"),Ke=k5(pe,"nextSibling"),$e=k5(pe,"childNodes"),Ye=k5(pe,"parentNode");if(typeof b=="function"){var rt=u.createElement("template");rt.content&&rt.content.ownerDocument&&(u=rt.content.ownerDocument)}var dt=Yte(oe,i),Wt=dt?dt.createHTML(""):"",Dt=u,en=Dt.implementation,bn=Dt.createNodeIterator,xo=Dt.createDocumentFragment,In=Dt.getElementsByTagName,Co=i.importNode,qn={};try{qn=jS(u).documentMode?u.documentMode:{}}catch{}var _o={};s.isSupported=typeof Ye=="function"&&en&&typeof en.createHTMLDocument<"u"&&qn!==9;var Vn=Hte,ms=Vte,Bt=Ute,pn=zte,an=Gte,Fn=Zte,lo=Wte,Po=null,Ai=cr({},[].concat(ad(NK),ad(Oq),ad(Rq),ad(Iq),ad(PK))),is=null,wl=cr({},[].concat(ad(LK),ad(Dq),ad(BK),ad(N5))),zr=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Nf=null,Lh=null,U1=!0,YS=!0,wO=!1,ww=!1,Gy=!1,Hk=!1,Lq=!1,CO=!1,P5=!1,L5=!1,rX=!0,Bq=!0,Vk=!1,TO={},SO=null,iX=cr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),aX=null,cX=cr({},["audio","video","img","source","image","track"]),$q=null,lX=cr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Fq="http://www.w3.org/1998/Math/MathML",Hq="http://www.w3.org/2000/svg",Cw="http://www.w3.org/1999/xhtml",B5=Cw,Vq=!1,xO,wne=["application/xhtml+xml","text/html"],Cne="text/html",KS,AO=null,Tne=u.createElement("form"),uX=function(ht){return ht instanceof RegExp||ht instanceof Function},Uq=function(ht){AO&&AO===ht||((!ht||Do(ht)!=="object")&&(ht={}),ht=jS(ht),Po="ALLOWED_TAGS"in ht?cr({},ht.ALLOWED_TAGS):Ai,is="ALLOWED_ATTR"in ht?cr({},ht.ALLOWED_ATTR):wl,$q="ADD_URI_SAFE_ATTR"in ht?cr(jS(lX),ht.ADD_URI_SAFE_ATTR):lX,aX="ADD_DATA_URI_TAGS"in ht?cr(jS(cX),ht.ADD_DATA_URI_TAGS):cX,SO="FORBID_CONTENTS"in ht?cr({},ht.FORBID_CONTENTS):iX,Nf="FORBID_TAGS"in ht?cr({},ht.FORBID_TAGS):{},Lh="FORBID_ATTR"in ht?cr({},ht.FORBID_ATTR):{},TO="USE_PROFILES"in ht?ht.USE_PROFILES:!1,U1=ht.ALLOW_ARIA_ATTR!==!1,YS=ht.ALLOW_DATA_ATTR!==!1,wO=ht.ALLOW_UNKNOWN_PROTOCOLS||!1,ww=ht.SAFE_FOR_TEMPLATES||!1,Gy=ht.WHOLE_DOCUMENT||!1,CO=ht.RETURN_DOM||!1,P5=ht.RETURN_DOM_FRAGMENT||!1,L5=ht.RETURN_TRUSTED_TYPE||!1,Lq=ht.FORCE_BODY||!1,rX=ht.SANITIZE_DOM!==!1,Bq=ht.KEEP_CONTENT!==!1,Vk=ht.IN_PLACE||!1,lo=ht.ALLOWED_URI_REGEXP||lo,B5=ht.NAMESPACE||Cw,ht.CUSTOM_ELEMENT_HANDLING&&uX(ht.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(zr.tagNameCheck=ht.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ht.CUSTOM_ELEMENT_HANDLING&&uX(ht.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(zr.attributeNameCheck=ht.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ht.CUSTOM_ELEMENT_HANDLING&&typeof ht.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(zr.allowCustomizedBuiltInElements=ht.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),xO=wne.indexOf(ht.PARSER_MEDIA_TYPE)===-1?xO=Cne:xO=ht.PARSER_MEDIA_TYPE,KS=xO==="application/xhtml+xml"?function(Cn){return Cn}:M5,ww&&(YS=!1),P5&&(CO=!0),TO&&(Po=cr({},ad(PK)),is=[],TO.html===!0&&(cr(Po,NK),cr(is,LK)),TO.svg===!0&&(cr(Po,Oq),cr(is,Dq),cr(is,N5)),TO.svgFilters===!0&&(cr(Po,Rq),cr(is,Dq),cr(is,N5)),TO.mathMl===!0&&(cr(Po,Iq),cr(is,BK),cr(is,N5))),ht.ADD_TAGS&&(Po===Ai&&(Po=jS(Po)),cr(Po,ht.ADD_TAGS)),ht.ADD_ATTR&&(is===wl&&(is=jS(is)),cr(is,ht.ADD_ATTR)),ht.ADD_URI_SAFE_ATTR&&cr($q,ht.ADD_URI_SAFE_ATTR),ht.FORBID_CONTENTS&&(SO===iX&&(SO=jS(SO)),cr(SO,ht.FORBID_CONTENTS)),Bq&&(Po["#text"]=!0),Gy&&cr(Po,["html","head","body"]),Po.table&&(cr(Po,["tbody"]),delete Nf.tbody),Mr&&Mr(ht),AO=ht)},dX=cr({},["mi","mo","mn","ms","mtext"]),fX=cr({},["foreignobject","desc","title","annotation-xml"]),Sne=cr({},["title","style","font","a","script"]),$5=cr({},Oq);cr($5,Rq),cr($5,$te);var zq=cr({},Iq);cr(zq,Fte);var xne=function(ht){var Cn=Ye(ht);(!Cn||!Cn.tagName)&&(Cn={namespaceURI:Cw,tagName:"template"});var oo=M5(ht.tagName),Vi=M5(Cn.tagName);return ht.namespaceURI===Hq?Cn.namespaceURI===Cw?oo==="svg":Cn.namespaceURI===Fq?oo==="svg"&&(Vi==="annotation-xml"||dX[Vi]):!!$5[oo]:ht.namespaceURI===Fq?Cn.namespaceURI===Cw?oo==="math":Cn.namespaceURI===Hq?oo==="math"&&fX[Vi]:!!zq[oo]:ht.namespaceURI===Cw?Cn.namespaceURI===Hq&&!fX[Vi]||Cn.namespaceURI===Fq&&!dX[Vi]?!1:!zq[oo]&&(Sne[oo]||!$5[oo]):!1},Zy=function(ht){Fk(s.removed,{element:ht});try{ht.parentNode.removeChild(ht)}catch{try{ht.outerHTML=Wt}catch{ht.remove()}}},F5=function(ht,Cn){try{Fk(s.removed,{attribute:Cn.getAttributeNode(ht),from:Cn})}catch{Fk(s.removed,{attribute:null,from:Cn})}if(Cn.removeAttribute(ht),ht==="is"&&!is[ht])if(CO||P5)try{Zy(Cn)}catch{}else try{Cn.setAttribute(ht,"")}catch{}},hX=function(ht){var Cn,oo;if(Lq)ht="<remove></remove>"+ht;else{var Vi=Nte(ht,/^[\r\n\t ]+/);oo=Vi&&Vi[0]}xO==="application/xhtml+xml"&&(ht='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ht+"</body></html>");var Bh=dt?dt.createHTML(ht):ht;if(B5===Cw)try{Cn=new J().parseFromString(Bh,xO)}catch{}if(!Cn||!Cn.documentElement){Cn=en.createDocument(B5,"template",null);try{Cn.documentElement.innerHTML=Vq?"":Bh}catch{}}var Zd=Cn.body||Cn.documentElement;return ht&&oo&&Zd.insertBefore(u.createTextNode(oo),Zd.childNodes[0]||null),B5===Cw?In.call(Cn,Gy?"html":"body")[0]:Gy?Cn.documentElement:Zd},mX=function(ht){return bn.call(ht.ownerDocument||ht,ht,M.SHOW_ELEMENT|M.SHOW_COMMENT|M.SHOW_TEXT,null,!1)},Ane=function(ht){return ht instanceof j&&(typeof ht.nodeName!="string"||typeof ht.textContent!="string"||typeof ht.removeChild!="function"||!(ht.attributes instanceof z)||typeof ht.removeAttribute!="function"||typeof ht.setAttribute!="function"||typeof ht.namespaceURI!="string"||typeof ht.insertBefore!="function")},Uk=function(ht){return Do(w)==="object"?ht instanceof w:ht&&Do(ht)==="object"&&typeof ht.nodeType=="number"&&typeof ht.nodeName=="string"},qy=function(ht,Cn,oo){_o[ht]&&kK(_o[ht],function(Vi){Vi.call(s,Cn,oo,AO)})},gX=function(ht){var Cn;if(qy("beforeSanitizeElements",ht,null),Ane(ht)||kf(/[\u0080-\uFFFF]/,ht.nodeName))return Zy(ht),!0;var oo=KS(ht.nodeName);if(qy("uponSanitizeElement",ht,{tagName:oo,allowedTags:Po}),ht.hasChildNodes()&&!Uk(ht.firstElementChild)&&(!Uk(ht.content)||!Uk(ht.content.firstElementChild))&&kf(/<[/\w]/g,ht.innerHTML)&&kf(/<[/\w]/g,ht.textContent)||oo==="select"&&kf(/<template/i,ht.innerHTML))return Zy(ht),!0;if(!Po[oo]||Nf[oo]){if(!Nf[oo]&&vX(oo)&&(zr.tagNameCheck instanceof RegExp&&kf(zr.tagNameCheck,oo)||zr.tagNameCheck instanceof Function&&zr.tagNameCheck(oo)))return!1;if(Bq&&!SO[oo]){var Vi=Ye(ht)||ht.parentNode,Bh=$e(ht)||ht.childNodes;if(Bh&&Vi)for(var Zd=Bh.length,cd=Zd-1;cd>=0;--cd)Vi.insertBefore(Oe(Bh[cd],!0),Ke(ht))}return Zy(ht),!0}return ht instanceof O&&!xne(ht)||(oo==="noscript"||oo==="noembed")&&kf(/<\/no(script|embed)/i,ht.innerHTML)?(Zy(ht),!0):(ww&&ht.nodeType===3&&(Cn=ht.textContent,Cn=_w(Cn,Vn," "),Cn=_w(Cn,ms," "),ht.textContent!==Cn&&(Fk(s.removed,{element:ht.cloneNode()}),ht.textContent=Cn)),qy("afterSanitizeElements",ht,null),!1)},pX=function(ht,Cn,oo){if(rX&&(Cn==="id"||Cn==="name")&&(oo in u||oo in Tne))return!1;if(!(YS&&!Lh[Cn]&&kf(Bt,Cn))){if(!(U1&&kf(pn,Cn))){if(!is[Cn]||Lh[Cn]){if(!(vX(ht)&&(zr.tagNameCheck instanceof RegExp&&kf(zr.tagNameCheck,ht)||zr.tagNameCheck instanceof Function&&zr.tagNameCheck(ht))&&(zr.attributeNameCheck instanceof RegExp&&kf(zr.attributeNameCheck,Cn)||zr.attributeNameCheck instanceof Function&&zr.attributeNameCheck(Cn))||Cn==="is"&&zr.allowCustomizedBuiltInElements&&(zr.tagNameCheck instanceof RegExp&&kf(zr.tagNameCheck,oo)||zr.tagNameCheck instanceof Function&&zr.tagNameCheck(oo))))return!1}else if(!$q[Cn]){if(!kf(lo,_w(oo,Fn,""))){if(!((Cn==="src"||Cn==="xlink:href"||Cn==="href")&&ht!=="script"&&Pte(oo,"data:")===0&&aX[ht])){if(!(wO&&!kf(an,_w(oo,Fn,"")))){if(oo)return!1}}}}}}return!0},vX=function(ht){return ht.indexOf("-")>0},bX=function(ht){var Cn,oo,Vi,Bh;qy("beforeSanitizeAttributes",ht,null);var Zd=ht.attributes;if(Zd){var cd={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:is};for(Bh=Zd.length;Bh--;){Cn=Zd[Bh];var H5=Cn,ld=H5.name,yX=H5.namespaceURI;oo=ld==="value"?Cn.value:Lte(Cn.value),Vi=KS(ld);var Rne=oo;if(cd.attrName=Vi,cd.attrValue=oo,cd.keepAttr=!0,cd.forceKeepAttr=void 0,qy("uponSanitizeAttribute",ht,cd),oo=cd.attrValue,!cd.forceKeepAttr){if(!cd.keepAttr){F5(ld,ht);continue}if(kf(/\/>/i,oo)){F5(ld,ht);continue}ww&&(oo=_w(oo,Vn," "),oo=_w(oo,ms," "));var Ine=KS(ht.nodeName);if(!pX(Ine,Vi,oo)){F5(ld,ht);continue}if(oo!==Rne)try{yX?ht.setAttributeNS(yX,ld,oo):ht.setAttribute(ld,oo)}catch{F5(ld,ht)}}}qy("afterSanitizeAttributes",ht,null)}},One=function Mo(ht){var Cn,oo=mX(ht);for(qy("beforeSanitizeShadowDOM",ht,null);Cn=oo.nextNode();)qy("uponSanitizeShadowNode",Cn,null),!gX(Cn)&&(Cn.content instanceof m&&Mo(Cn.content),bX(Cn));qy("afterSanitizeShadowDOM",ht,null)};return s.sanitize=function(Mo,ht){var Cn,oo,Vi,Bh,Zd;if(Vq=!Mo,Vq&&(Mo="<!-->"),typeof Mo!="string"&&!Uk(Mo)){if(typeof Mo.toString!="function")throw Aq("toString is not a function");if(Mo=Mo.toString(),typeof Mo!="string")throw Aq("dirty is not a string, aborting")}if(!s.isSupported){if(Do(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof Mo=="string")return t.toStaticHTML(Mo);if(Uk(Mo))return t.toStaticHTML(Mo.outerHTML)}return Mo}if(Hk||Uq(ht),s.removed=[],typeof Mo=="string"&&(Vk=!1),Vk){if(Mo.nodeName){var cd=KS(Mo.nodeName);if(!Po[cd]||Nf[cd])throw Aq("root node is forbidden and cannot be sanitized in-place")}}else if(Mo instanceof w)Cn=hX("<!---->"),oo=Cn.ownerDocument.importNode(Mo,!0),oo.nodeType===1&&oo.nodeName==="BODY"||oo.nodeName==="HTML"?Cn=oo:Cn.appendChild(oo);else{if(!CO&&!ww&&!Gy&&Mo.indexOf("<")===-1)return dt&&L5?dt.createHTML(Mo):Mo;if(Cn=hX(Mo),!Cn)return CO?null:L5?Wt:""}Cn&&Lq&&Zy(Cn.firstChild);for(var H5=mX(Vk?Mo:Cn);Vi=H5.nextNode();)Vi.nodeType===3&&Vi===Bh||gX(Vi)||(Vi.content instanceof m&&One(Vi.content),bX(Vi),Bh=Vi);if(Bh=null,Vk)return Mo;if(CO){if(P5)for(Zd=xo.call(Cn.ownerDocument);Cn.firstChild;)Zd.appendChild(Cn.firstChild);else Zd=Cn;return is.shadowroot&&(Zd=Co.call(i,Zd,!0)),Zd}var ld=Gy?Cn.outerHTML:Cn.innerHTML;return Gy&&Po["!doctype"]&&Cn.ownerDocument&&Cn.ownerDocument.doctype&&Cn.ownerDocument.doctype.name&&kf(qte,Cn.ownerDocument.doctype.name)&&(ld="<!DOCTYPE "+Cn.ownerDocument.doctype.name+`>
`+ld),ww&&(ld=_w(ld,Vn," "),ld=_w(ld,ms," ")),dt&&L5?dt.createHTML(ld):ld},s.setConfig=function(Mo){Uq(Mo),Hk=!0},s.clearConfig=function(){AO=null,Hk=!1},s.isValidAttribute=function(Mo,ht,Cn){AO||Uq({});var oo=KS(Mo),Vi=KS(ht);return pX(oo,Vi,Cn)},s.addHook=function(Mo,ht){typeof ht=="function"&&(_o[Mo]=_o[Mo]||[],Fk(_o[Mo],ht))},s.removeHook=function(Mo){if(_o[Mo])return kte(_o[Mo])},s.removeHooks=function(Mo){_o[Mo]&&(_o[Mo]=[])},s.removeAllHooks=function(){_o={}},s}var Kte=$K();const Xte=t=>Kte().sanitize(t),Qte=I1.deviceType.isTouch(),FK=(t,s)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,s]}),HK=(t,s)=>ha.parts.close(vc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close")}},action:t,buttonBehaviours:Rt([Vr.config({})])})),VK=()=>ha.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),UK=(t,s)=>ha.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:$1(`<p>${Xte(s.translate(t))}</p>`)}]}]}),zK=t=>ha.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t}),WK=(t,s)=>[Sh.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),Sh.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:s})],Mq=t=>{const s="tox-dialog",i=s+"-wrap",u=i+"__backdrop",m=s+"__disable-scroll";return ha.sketch({lazySink:t.lazySink,onEscape:b=>(t.onEscape(b),P.some(!0)),useTabstopAt:b=>!uS(b),firstTabstop:t.firstTabstop,dom:{tag:"div",classes:[s].concat(t.extraClasses),styles:{position:"relative",...t.extraStyles}},components:[t.header,t.body,...t.footer.toArray()],parts:{blocker:{dom:$1(`<div class="${i}"></div>`),components:[{dom:{tag:"div",classes:Qte?[u,u+"--opaque"]:[u]}}]}},dragBlockClass:i,modalBehaviours:Rt([$n.config({}),to("dialog-events",t.dialogEvents.concat([ua(af(),(b,w)=>{Rn.focusIn(b)})])),to("scroll-lock",[or(()=>{hs(Gi(),m)}),qa(()=>{_s(Gi(),m)})]),...t.extraBehaviours]),eventOrder:{[xs()]:["dialog-events"],[_d()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[fu()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...t.eventOrder}})},GK=t=>vc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},buttonBehaviours:Rt([Vr.config({})]),components:[Tf("close",{tag:"div",classes:["tox-icon"]},t.icons)],action:s=>{Zo(s,Cy)}}),ZK=(t,s,i,u)=>{const m=b=>[sr(u.translate(b.title))];return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...i.map(b=>({id:b})).getOr({})}},components:[],behaviours:Rt([Ps.config({channel:`${Lk}-${s}`,initialData:t,renderComponents:m})])}},qK=()=>({dom:$1('<div class="tox-dialog__draghandle"></div>')}),Jte=(t,s,i,u)=>Sh.sketch({dom:$1('<div class="tox-dialog__header"></div>'),components:[ZK(t,s,P.some(i),u),qK(),GK(u)],containerBehaviours:Rt([$y.config({mode:"mouse",blockerClass:"blocker",getTarget:m=>Od(m,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}),ene=(t,s,i)=>{const u=ha.parts.title(ZK(t,s,P.none(),i)),m=ha.parts.draghandle(qK()),b=ha.parts.close(GK(i)),w=[u].concat(t.draggable?[m]:[]).concat([b]);return Sh.sketch({dom:$1('<div class="tox-dialog__header"></div>'),components:w})},jK=(t,s,i)=>ene({title:i.shared.providers.translate(t),draggable:i.dialog.isDraggableModal()},s,i.shared.providers),YK=(t,s,i)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":i.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:s,components:[{dom:$1('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),KK=(t,s,i)=>({onClose:()=>i.closeWindow(),onBlock:u=>{ha.setBusy(t(),(m,b)=>YK(u.message,b,s))},onUnblock:()=>{ha.setIdle(t())}}),XK=(t,s,i,u)=>{const m=(b,w)=>P.some(w);return Da(Mq({...t,firstTabstop:1,lazySink:u.shared.getSink,extraBehaviours:[Ps.config({channel:`${qS}-${t.id}`,updateState:m,initialData:s}),Qr.memory({}),...t.extraBehaviours],onEscape:b=>{Zo(b,Cy)},dialogEvents:i,eventOrder:{[cf()]:[Ps.name(),Ul.name()],[_d()]:["scroll-lock",Ps.name(),"messages","dialog-events","alloy.base.behaviour"],[fu()]:["alloy.base.behaviour","dialog-events","messages",Ps.name(),"scroll-lock"]}}))},kq=(t,s={})=>{const i=u=>{const m=je(u.items,b=>{const w=nn(s,b.name).getOr(Pn(!1));return{...b,storage:w}});return{...u,items:m}};return je(t,u=>u.type==="menu"?i(u):u)},QK=t=>ys(t,(s,i)=>i.type==="menu"?ys(i.items,(m,b)=>(m[b.name]=b.storage,m),s):s,{}),JK=(t,s)=>[Tg(af(),xU),t(tS,(i,u,m,b)=>{qu(va(b.element)).fold(ne,r1),s.onClose(),u.onClose()}),t(Cy,(i,u,m,b)=>{u.onCancel(i),Zo(b,tS)}),St(mD,(i,u)=>s.onUnblock()),St(hD,(i,u)=>s.onBlock(u.event))],Nq={initUrlDialog:(t,s)=>{const i=(m,b)=>St(m,(w,O)=>{u(w,(M,B)=>{b(t(),M,O.event,w)})}),u=(m,b)=>{Ps.getState(m).get().each(w=>{b(w,m)})};return[...JK(i,s),i(tp,(m,b,w)=>{b.onAction(m,{name:w.name})})]},initDialog:(t,s,i)=>{const u=(b,w)=>St(b,(O,M)=>{m(O,(B,z)=>{w(t(),B,M.event,O)})}),m=(b,w)=>{Ps.getState(b).get().each(O=>{w(O.internalDialog,b)})};return[...JK(u,s),u(nS,(b,w)=>w.onSubmit(b)),u(td,(b,w,O)=>{w.onChange(b,{name:O.name})}),u(tp,(b,w,O,M)=>{const B=()=>Rn.focusIn(M),z=oe=>sa(oe,"disabled")||Gr(oe,"aria-disabled").exists(pe=>pe==="true"),j=va(M.element),J=qu(j);w.onAction(b,{name:O.name,value:O.value}),qu(j).fold(B,oe=>{z(oe)||J.exists(pe=>sc(oe,pe)&&z(pe))?B():i().toOptional().filter(pe=>!sc(pe.element,oe)).each(B)})}),u(P4,(b,w,O)=>{w.onTabChange(b,{newTabName:O.name,oldTabName:O.oldName})}),qa(b=>{const w=t();on.setValue(b,w.getData())})]}},tne=(t,s)=>vS(t,t.type,s),nne=(t,s,i)=>Dn(s,u=>u.name===i).bind(u=>u.memento.getOpt(t)),one=(t,s)=>{const i=s.map(O=>O.footerButtons).getOr([]),u=os(i,O=>O.align==="start"),m=(O,M)=>Sh.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${O}`]},components:je(M,B=>B.memento.asSpec())}),b=m("start",u.pass),w=m("end",u.fail);return[b,w]},eX=(t,s,i)=>{const u=(m,b)=>{const w=je(b.buttons,M=>{const B=Oo(tne(M,i));return{name:M.name,align:M.align,memento:B}}),O=M=>nne(m,w,M);return P.some({lookupByName:O,footerButtons:w})};return{dom:$1('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Rt([Ps.config({channel:`${Wy}-${s}`,initialData:t,updateState:u,renderComponents:one})])}},sne=(t,s,i)=>eX(t,s,i),tX=(t,s,i)=>ha.parts.footer(eX(t,s,i)),nX=(t,s)=>{if(t.getRoot().getSystem().isConnected()){const u=ko.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return nw.getField(u,s).orThunk(()=>{const m=t.getFooter();return Ps.getState(m).get().bind(w=>w.lookupByName(s))})}else return P.none()},rne=(t,s)=>{const i=t.getRoot();return Ps.getState(i).get().map(u=>es(Go("data",u.dataValidator,s))).getOr(s)},oX=(t,s,i)=>{const u=pe=>{const Oe=t.getRoot();Oe.getSystem().isConnected()&&pe(Oe)},oe={getData:()=>{const pe=t.getRoot(),Oe=pe.getSystem().isConnected()?t.getFormWrapper():pe,Ke=on.getValue(Oe),$e=Rs(i,Ye=>Ye.get());return{...Ke,...$e}},setData:pe=>{u(Oe=>{const Ke=oe.getData(),$e=Xs(Ke,pe),Ye=rne(t,$e),rt=t.getFormWrapper();on.setValue(rt,Ye),Nr(i,(dt,Wt)=>{Bo($e,Wt)&&dt.set($e[Wt])})})},setEnabled:(pe,Oe)=>{nX(t,pe).each(Oe?Gn.enable:Gn.disable)},focus:pe=>{nX(t,pe).each($n.focus)},block:pe=>{if(!V(pe))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");u(Oe=>{Tn(Oe,hD,{message:pe})})},unblock:()=>{u(pe=>{Zo(pe,mD)})},showTab:pe=>{u(Oe=>{const Ke=t.getBody();Ps.getState(Ke).get().exists(Ye=>Ye.isTabPanel())&&ko.getCurrent(Ke).each(Ye=>{_l.showTab(Ye,pe)})})},redial:pe=>{u(Oe=>{const Ke=t.getId(),$e=s(pe),Ye=kq($e.internalDialog.buttons,i);Oe.getSystem().broadcastOn([`${qS}-${Ke}`],$e),Oe.getSystem().broadcastOn([`${Lk}-${Ke}`],$e.internalDialog),Oe.getSystem().broadcastOn([`${Ph}-${Ke}`],$e.internalDialog),Oe.getSystem().broadcastOn([`${Wy}-${Ke}`],{...$e.internalDialog,buttons:Ye}),oe.setData($e.initialData)})},close:()=>{u(pe=>{Zo(pe,tS)})},toggleFullscreen:t.toggleFullscreen};return oe},ine=t=>{switch(t){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},ane=(t,s,i)=>{const u=fn("dialog"),m=t.internalDialog,b=jK(m.title,u,i),w=Lt({body:m.body,initialData:m.initialData},u,i),O=kq(m.buttons),M=QK(O),B=tX({buttons:O},u,i),z=Nq.initDialog(()=>Oe,KK(()=>oe,i.shared.providers,s),i.shared.getSink),j=ine(m.size),J={id:u,header:b,body:w,footer:P.some(B),extraClasses:j,extraBehaviours:[],extraStyles:{}},oe=XK(J,t,z,i),pe=(()=>{const Ke=()=>{const Ye=ha.getBody(oe);return ko.getCurrent(Ye).getOr(Ye)},$e=()=>{const Ye="tox-dialog--fullscreen",rt=Ze.fromDom(oe.element.dom);Ci(rt,Ye)?(_s(rt,Ye),Hl(rt,j)):(mc(rt,j),hs(rt,Ye))};return{getId:ye(u),getRoot:ye(oe),getBody:()=>ha.getBody(oe),getFooter:()=>ha.getFooter(oe),getFormWrapper:Ke,toggleFullscreen:$e}})(),Oe=oX(pe,s.redial,M);return{dialog:oe,instanceApi:Oe}},cne=(t,s,i,u)=>{const m=fn("dialog"),b=fn("dialog-label"),w=fn("dialog-content"),O=t.internalDialog,M=(rt,dt)=>P.some(dt),B=Oo(Jte({title:O.title,draggable:!0},m,b,i.shared.providers)),z=Oo(Ht({body:O.body,initialData:O.initialData},m,w,i,u)),j=kq(O.buttons),J=QK(j),oe=Oo(sne({buttons:j},m,i)),pe=Nq.initDialog(()=>Ye,{onBlock:rt=>{Eb.block(Ke,(dt,Wt)=>YK(rt.message,Wt,i.shared.providers))},onUnblock:()=>{Eb.unblock(Ke)},onClose:()=>s.closeWindow()},i.shared.getSink),Oe="tox-dialog-inline",Ke=Da({dom:{tag:"div",classes:["tox-dialog",Oe],attributes:{role:"dialog",["aria-labelledby"]:b,["aria-describedby"]:w}},eventOrder:{[cf()]:[Ps.name(),Ul.name()],[xs()]:["execute-on-form"],[_d()]:["reflecting","execute-on-form"]},behaviours:Rt([Rn.config({mode:"cyclic",onEscape:rt=>(Zo(rt,tS),P.some(!0)),useTabstopAt:rt=>!uS(rt)&&(oc(rt)!=="button"||Mi(rt,"disabled")!=="disabled"),firstTabstop:1}),Ps.config({channel:`${qS}-${m}`,updateState:M,initialData:t}),$n.config({}),to("execute-on-form",pe.concat([ua(af(),(rt,dt)=>{Rn.focusIn(rt)})])),Eb.config({getRoot:()=>P.some(Ke)}),Kn.config({}),Qr.memory({})]),components:[B.asSpec(),z.asSpec(),oe.asSpec()]}),$e=()=>{const rt="tox-dialog--fullscreen",dt=Ze.fromDom(Ke.element.dom);ih(dt,[rt])?(mc(dt,[rt]),Hl(dt,[Oe])):(mc(dt,[Oe]),Hl(dt,[rt]))},Ye=oX({getId:ye(m),getRoot:ye(Ke),getFooter:()=>oe.get(Ke),getBody:()=>z.get(Ke),getFormWrapper:()=>{const rt=z.get(Ke);return ko.getCurrent(rt).getOr(rt)},toggleFullscreen:$e},s.redial,J);return{dialog:Ke,instanceApi:Ye}};var Pq=tinymce.util.Tools.resolve("tinymce.util.URI");const lne=t=>{const s=w=>{t.getSystem().isConnected()&&w(t)};return{block:w=>{if(!V(w))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(O=>{Tn(O,hD,{message:w})})},unblock:()=>{s(w=>{Zo(w,mD)})},close:()=>{s(w=>{Zo(w,tS)})},sendMessage:w=>{s(O=>{O.getSystem().broadcastOn([nt],w)})}}},une=["insertContent","setContent","execCommand","close","block","unblock"],sX=t=>G(t)&&une.indexOf(t.mceAction)!==-1,dne=t=>!sX(t)&&G(t)&&Bo(t,"mceAction"),fne=(t,s,i)=>{switch(i.mceAction){case"insertContent":t.insertContent(i.content);break;case"setContent":t.setContent(i.content);break;case"execCommand":const u=be(i.ui)?i.ui:!1;t.execCommand(i.cmd,u,i.value);break;case"close":s.close();break;case"block":s.block(i.message);break;case"unblock":s.unblock();break}},hne=(t,s,i,u)=>{const m=fn("dialog"),b=jK(t.title,m,u),w=Mn(t),O=t.buttons.bind(Ye=>Ye.length===0?P.none():P.some(tX({buttons:Ye},m,u))),M=Nq.initUrlDialog(()=>$e,KK(()=>Ke,u.shared.providers,s)),B={...t.height.fold(()=>({}),Ye=>({height:Ye+"px","max-height":Ye+"px"})),...t.width.fold(()=>({}),Ye=>({width:Ye+"px","max-width":Ye+"px"}))},z=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],j=new Pq(t.url,{base_uri:new Pq(window.location.href)}),J=`${j.protocol}://${j.host}${j.port?":"+j.port:""}`,oe=Wl(),pe=[to("messages",[or(()=>{const Ye=Qa(Ze.fromDom(window),"message",rt=>{if(j.isSameOrigin(new Pq(rt.raw.origin))){const dt=rt.raw.data;sX(dt)?fne(i,$e,dt):dne(dt)&&t.onMessage($e,dt)}});oe.set(Ye)}),qa(oe.clear)]),Ul.config({channels:{[nt]:{onReceive:(Ye,rt)=>{fr(Ye.element,"iframe").each(dt=>{const Wt=dt.dom.contentWindow;de(Wt)&&Wt.postMessage(rt,J)})}}}})],Ke=XK({id:m,header:b,body:w,footer:O,extraClasses:z,extraBehaviours:pe,extraStyles:B},t,M,u),$e=lne(Ke);return{dialog:Ke,instanceApi:$e}},mne=t=>{const s=t.shared;return{open:(u,m)=>{const b=()=>{ha.hide(B),m()},w=Oo(vS({name:"close-alert",text:"OK",primary:!0,buttonType:P.some("primary"),align:"end",enabled:!0,icon:P.none()},"cancel",t)),O=VK(),M=HK(b,s.providers),B=Da(Mq({lazySink:()=>s.getSink(),header:FK(O,M),body:UK(u,s.providers),footer:P.some(zK(WK([],[w.asSpec()]))),onEscape:b,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[St(Cy,b)],eventOrder:{}}));ha.show(B);const z=w.get(B);$n.focus(z)}}},gne=t=>{const s=t.shared;return{open:(u,m)=>{const b=J=>{ha.hide(z),m(J)},w=Oo(vS({name:"yes",text:"Yes",primary:!0,buttonType:P.some("primary"),align:"end",enabled:!0,icon:P.none()},"submit",t)),O=vS({name:"no",text:"No",primary:!1,buttonType:P.some("secondary"),align:"end",enabled:!0,icon:P.none()},"cancel",t),M=VK(),B=HK(()=>b(!1),s.providers),z=Da(Mq({lazySink:()=>s.getSink(),header:FK(M,B),body:UK(u,s.providers),footer:P.some(zK(WK([],[O,w.asSpec()]))),onEscape:()=>b(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[St(Cy,()=>b(!1)),St(nS,()=>b(!0))],eventOrder:{}}));ha.show(z);const j=w.get(z);$n.focus(j)}}},pne=(t,s)=>es(Go("data",s,t)),vne=t=>QT(t,".tox-alert-dialog")||QT(t,".tox-confirm-dialog"),bne=(t,s,i)=>s&&i?[]:[ea.config({contextual:{lazyContext:()=>P.some(Wo(Ze.fromDom(t.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:u=>Xr(t,u.element).map(b=>({bounds:zx(b),optScrollEnv:P.some({currentScrollTop:b.element.dom.scrollTop,scrollElmTop:To(b.element).top})})).getOrThunk(()=>({bounds:wa(),optScrollEnv:P.none()}))})],yne=t=>{const s=t.editor,i=H_(s),u=mne(t.backstages.dialog),m=gne(t.backstages.dialog),b=(oe,pe,Oe)=>pe!==void 0&&pe.inline==="toolbar"?B(oe,t.backstages.popup.shared.anchors.inlineDialog(),Oe,pe.ariaAttrs):pe!==void 0&&pe.inline==="cursor"?B(oe,t.backstages.popup.shared.anchors.cursor(),Oe,pe.ariaAttrs):M(oe,Oe),w=(oe,pe)=>O(oe,pe),O=(oe,pe)=>{const Oe=Ke=>{const $e=hne(Ke,{closeWindow:()=>{ha.hide($e.dialog),pe($e.instanceApi)}},s,t.backstages.dialog);return ha.show($e.dialog),$e.instanceApi};return Nn.openUrl(Oe,oe)},M=(oe,pe)=>{const Oe=(Ke,$e,Ye)=>{const rt=$e,Wt=ane({dataValidator:Ye,initialData:rt,internalDialog:Ke},{redial:Nn.redial,closeWindow:()=>{ha.hide(Wt.dialog),pe(Wt.instanceApi)}},t.backstages.dialog);return ha.show(Wt.dialog),Wt.instanceApi.setData(rt),Wt.instanceApi};return Nn.open(Oe,oe)},B=(oe,pe,Oe,Ke=!1)=>{const $e=(Ye,rt,dt)=>{const Wt=pne(rt,dt),Dt=ks(),en=t.backstages.popup.shared.header.isPositionedAtTop(),bn={dataValidator:dt,initialData:Wt,internalDialog:Ye},xo=()=>Dt.on(_o=>{Si.reposition(_o),ea.refresh(_o)}),In=cne(bn,{redial:Nn.redial,closeWindow:()=>{Dt.on(Si.hide),s.off("ResizeEditor",xo),Dt.clear(),Oe(In.instanceApi)}},t.backstages.popup,Ke),Co=Da(Si.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{},...en?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Rt([to("window-manager-inline-events",[St(Fl(),(_o,Vn)=>{Zo(In.dialog,Cy)})]),...bne(s,i,en)]),isExtraPart:(_o,Vn)=>vne(Vn)}));Dt.set(Co);const qn=()=>{const _o=s.inline?Gi():Ze.fromDom(s.getContainer()),Vn=Wo(_o);return P.some(Vn)};return Si.showWithinBounds(Co,Rc(In.dialog),{anchor:pe},qn),(!i||!en)&&(ea.refresh(Co),s.on("ResizeEditor",xo)),In.instanceApi.setData(Wt),Rn.focusIn(In.dialog),In.instanceApi};return Nn.open($e,oe)};return{open:b,openUrl:w,alert:(oe,pe)=>{u.open(oe,pe)},close:oe=>{oe.close()},confirm:(oe,pe)=>{m.open(oe,pe)}}},Ene=t=>{vP(t),Gm(t),nZ(t)};var _ne=()=>{Dp.add("silver",t=>{Ene(t);let s=()=>wa();const{dialogs:i,popups:u,renderUI:m}=mO(t,{getPopupSinkBounds:()=>s()}),b=async()=>{const M=await m();return Xr(t,u.getMothership().element).each(z=>{s=()=>zx(z)}),M};ep.register(t,u.backstage.shared);const w=yne({editor:t,backstages:{popup:u.backstage,dialog:i.backstage}}),O=()=>iI(t,{backstage:u.backstage},u.getMothership());return{renderUI:b,getWindowManagerImpl:ye(w),getNotificationManagerImpl:O}})};_ne()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.ModelManager");const c=(d,p,_)=>{var S;return _(d,p.prototype)?!0:((S=d.constructor)===null||S===void 0?void 0:S.name)===p.name},h=d=>{const p=typeof d;return d===null?"null":p==="object"&&Array.isArray(d)?"array":p==="object"&&c(d,String,(_,S)=>S.isPrototypeOf(_))?"string":p},E=d=>p=>h(p)===d,x=d=>p=>typeof p===d,k=d=>p=>d===p,D=E("string"),V=E("object"),G=E("array"),Y=k(null),K=x("boolean"),re=k(void 0),be=d=>d==null,ge=d=>!be(d),le=x("function"),de=x("number"),Ee=()=>{},De=(d,p)=>(..._)=>d(p.apply(null,_)),ke=(d,p)=>_=>d(p(_)),ne=d=>()=>d,Le=d=>d,ct=(d,p)=>d===p;function $(d,...p){return(..._)=>{const S=p.concat(_);return d.apply(null,S)}}const ye=d=>p=>!d(p),Ge=d=>()=>{throw new Error(d)},mt=d=>d(),xt=ne(!1),Pe=ne(!0);class he{constructor(p,_){this.tag=p,this.value=_}static some(p){return new he(!0,p)}static none(){return he.singletonNone}fold(p,_){return this.tag?_(this.value):p()}isSome(){return this.tag}isNone(){return!this.tag}map(p){return this.tag?he.some(p(this.value)):he.none()}bind(p){return this.tag?p(this.value):he.none()}exists(p){return this.tag&&p(this.value)}forall(p){return!this.tag||p(this.value)}filter(p){return!this.tag||p(this.value)?this:he.none()}getOr(p){return this.tag?this.value:p}or(p){return this.tag?this:p}getOrThunk(p){return this.tag?this.value:p()}orThunk(p){return this.tag?this:p()}getOrDie(p){if(this.tag)return this.value;throw new Error(p??"Called getOrDie on None")}static from(p){return ge(p)?he.some(p):he.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(p){this.tag&&p(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}he.singletonNone=new he(!1);const dn=Array.prototype.slice,bt=Array.prototype.indexOf,Ct=Array.prototype.push,P=(d,p)=>bt.call(d,p),Tt=(d,p)=>P(d,p)>-1,Xe=(d,p)=>{for(let _=0,S=d.length;_<S;_++){const N=d[_];if(p(N,_))return!0}return!1},Vt=(d,p)=>{const _=[];for(let S=0;S<d;S++)_.push(p(S));return _},Nt=(d,p)=>{const _=d.length,S=new Array(_);for(let N=0;N<_;N++){const H=d[N];S[N]=p(H,N)}return S},Ve=(d,p)=>{for(let _=0,S=d.length;_<S;_++){const N=d[_];p(N,_)}},uo=(d,p)=>{for(let _=d.length-1;_>=0;_--){const S=d[_];p(S,_)}},Lo=(d,p)=>{const _=[],S=[];for(let N=0,H=d.length;N<H;N++){const X=d[N];(p(X,N)?_:S).push(X)}return{pass:_,fail:S}},Jn=(d,p)=>{const _=[];for(let S=0,N=d.length;S<N;S++){const H=d[S];p(H,S)&&_.push(H)}return _},Fo=(d,p,_)=>(uo(d,(S,N)=>{_=p(_,S,N)}),_),je=(d,p,_)=>(Ve(d,(S,N)=>{_=p(_,S,N)}),_),At=(d,p,_)=>{for(let S=0,N=d.length;S<N;S++){const H=d[S];if(p(H,S))return he.some(H);if(_(H,S))break}return he.none()},ee=(d,p)=>At(d,p,xt),os=(d,p)=>{for(let _=0,S=d.length;_<S;_++){const N=d[_];if(p(N,_))return he.some(_)}return he.none()},so=d=>{const p=[];for(let _=0,S=d.length;_<S;++_){if(!G(d[_]))throw new Error("Arr.flatten item "+_+" was not an array, input: "+d);Ct.apply(p,d[_])}return p},Ts=(d,p)=>so(Nt(d,p)),ys=(d,p)=>{for(let _=0,S=d.length;_<S;++_){const N=d[_];if(p(N,_)!==!0)return!1}return!0},bc=d=>{const p=dn.call(d,0);return p.reverse(),p},Dn=(d,p)=>{const _={};for(let S=0,N=d.length;S<N;S++){const H=d[S];_[String(H)]=p(H,S)}return _},as=(d,p)=>{const _=dn.call(d,0);return _.sort(p),_},qt=(d,p)=>p>=0&&p<d.length?he.some(d[p]):he.none(),lt=d=>qt(d,0),Sl=d=>qt(d,d.length-1),Ui=(d,p)=>{for(let _=0;_<d.length;_++){const S=p(d[_],_);if(S.isSome())return S}return he.none()},En=Object.keys,Wr=Object.hasOwnProperty,Os=(d,p)=>{const _=En(d);for(let S=0,N=_.length;S<N;S++){const H=_[S],X=d[H];p(X,H)}},yc=(d,p)=>gs(d,(_,S)=>({k:S,v:p(_,S)})),gs=(d,p)=>{const _={};return Os(d,(S,N)=>{const H=p(S,N);_[H.k]=H.v}),_},Tr=d=>(p,_)=>{d[_]=p},nl=(d,p,_,S)=>{Os(d,(N,H)=>{(p(N,H)?_:S)(N,H)})},ga=(d,p)=>{const _={};return nl(d,p,Tr(_),Ee),_},tr=(d,p)=>{const _=[];return Os(d,(S,N)=>{_.push(p(S,N))}),_},js=d=>tr(d,Le),qd=(d,p)=>Nr(d,p)?he.from(d[p]):he.none(),Nr=(d,p)=>Wr.call(d,p),Rs=(d,p)=>Nr(d,p)&&d[p]!==void 0&&d[p]!==null,xl=d=>{for(const p in d)if(Wr.call(d,p))return!1;return!0},Oi=typeof window<"u"?window:Function("return this;")(),Al=(d,p)=>{let _=p??Oi;for(let S=0;S<d.length&&_!==void 0&&_!==null;++S)_=_[d[S]];return _},pr=(d,p)=>{const _=d.split(".");return Al(_,p)},ei=(d,p)=>pr(d,p),Hf=(d,p)=>{const _=ei(d,p);if(_==null)throw new Error(d+" not available on this browser");return _},La=Object.getPrototypeOf,ng=d=>Hf("HTMLElement",d),nn=d=>{const p=pr("ownerDocument.defaultView",d);return V(d)&&(ng(p).prototype.isPrototypeOf(d)||/^HTML\w*Element$/.test(La(d).constructor.name))},Bo=8,na=9,Ec=11,og=1,Au=3,Is=d=>d.dom.nodeName.toLowerCase(),jd=d=>d.dom.nodeType,Vf=d=>p=>jd(p)===d,Ys=d=>jd(d)===Bo||Is(d)==="#comment",zn=d=>nc(d)&&nn(d.dom),nc=Vf(og),Ou=Vf(Au),Vh=Vf(na),Sp=Vf(Ec),Ri=d=>p=>nc(p)&&Is(p)===d,zi=(d,p,_)=>{if(D(_)||K(_)||de(_))d.setAttribute(p,_+"");else throw console.error("Invalid call to Attribute.set. Key ",p,":: Value ",_,":: Element ",d),new Error("Attribute value was not simple")},Rr=(d,p,_)=>{zi(d.dom,p,_)},ol=(d,p)=>{const _=d.dom;Os(p,(S,N)=>{zi(_,N,S)})},Yd=(d,p)=>{Os(p,(_,S)=>{_.fold(()=>{xr(d,S)},N=>{zi(d.dom,S,N)})})},Ru=(d,p)=>{const _=d.dom.getAttribute(p);return _===null?void 0:_},_c=(d,p)=>he.from(Ru(d,p)),xr=(d,p)=>{d.dom.removeAttribute(p)},sl=d=>je(d.dom.attributes,(p,_)=>(p[_.name]=_.value,p),{}),Ol=(d,p)=>{const S=(p||document).createElement("div");if(S.innerHTML=d,!S.hasChildNodes()||S.childNodes.length>1){const N="HTML does not have a single root node";throw console.error(N,d),new Error(N)}return Jl(S.childNodes[0])},q1=(d,p)=>{const S=(p||document).createElement(d);return Jl(S)},j1=(d,p)=>{const S=(p||document).createTextNode(d);return Jl(S)},Jl=d=>{if(d==null)throw new Error("Node cannot be null or undefined");return{dom:d}},Ze={fromHtml:Ol,fromTag:q1,fromText:j1,fromDom:Jl,fromPoint:(d,p,_)=>he.from(d.dom.elementFromPoint(p,_)).map(Jl)},Ii=(d,p)=>{const _=d.dom;if(_.nodeType!==og)return!1;{const S=_;if(S.matches!==void 0)return S.matches(p);if(S.msMatchesSelector!==void 0)return S.msMatchesSelector(p);if(S.webkitMatchesSelector!==void 0)return S.webkitMatchesSelector(p);if(S.mozMatchesSelector!==void 0)return S.mozMatchesSelector(p);throw new Error("Browser lacks native selectors")}},Uf=d=>d.nodeType!==og&&d.nodeType!==na&&d.nodeType!==Ec||d.childElementCount===0,Y1=(d,p)=>{const _=p===void 0?document:p.dom;return Uf(_)?[]:Nt(_.querySelectorAll(d),Ze.fromDom)},sg=(d,p)=>{const _=p===void 0?document:p.dom;return Uf(_)?he.none():he.from(_.querySelector(d)).map(Ze.fromDom)},Ls=(d,p)=>d.dom===p.dom,zf=(d,p)=>{const _=d.dom,S=p.dom;return _===S?!1:_.contains(S)},Ap=Ii,oa=d=>Ze.fromDom(d.dom.ownerDocument),Rl=d=>Vh(d)?d:oa(d),ti=d=>Ze.fromDom(Rl(d).dom.documentElement),vi=d=>Ze.fromDom(Rl(d).dom.defaultView),Iu=d=>he.from(d.dom.parentNode).map(Ze.fromDom),oc=d=>he.from(d.dom.parentElement).map(Ze.fromDom),Du=(d,p)=>{const _=le(p)?p:xt;let S=d.dom;const N=[];for(;S.parentNode!==null&&S.parentNode!==void 0;){const H=S.parentNode,X=Ze.fromDom(H);if(N.push(X),_(X)===!0)break;S=H}return N},eu=d=>he.from(d.dom.previousSibling).map(Ze.fromDom),Kd=d=>he.from(d.dom.nextSibling).map(Ze.fromDom),Es=d=>Nt(d.dom.childNodes,Ze.fromDom),pa=(d,p)=>{const _=d.dom.childNodes;return he.from(_[p]).map(Ze.fromDom)},rl=d=>pa(d,0),dd=(d,p)=>{Iu(d).each(S=>{S.dom.insertBefore(p.dom,d.dom)})},Lc=(d,p)=>{Kd(d).fold(()=>{Iu(d).each(N=>{vr(N,p)})},S=>{dd(S,p)})},wc=(d,p)=>{rl(d).fold(()=>{vr(d,p)},S=>{d.dom.insertBefore(p.dom,S.dom)})},vr=(d,p)=>{d.dom.appendChild(p.dom)},Xd=(d,p,_)=>{pa(d,_).fold(()=>{vr(d,p)},S=>{dd(S,p)})},Mu=(d,p)=>{dd(d,p),vr(p,d)},us=(d,p)=>{Ve(p,(_,S)=>{const N=S===0?d:p[S-1];Lc(N,_)})},sc=(d,p)=>{Ve(p,_=>{vr(d,_)})},Di=d=>{d.dom.textContent="",Ve(Es(d),p=>{bi(p)})},bi=d=>{const p=d.dom;p.parentNode!==null&&p.parentNode.removeChild(p)},ku=d=>{const p=Es(d);p.length>0&&us(d,p),bi(d)},fd=(d,p)=>Ze.fromDom(d.dom.cloneNode(p)),Cc=d=>fd(d,!1),Bc=d=>fd(d,!0),Uh=(d,p)=>{const _=Ze.fromTag(p),S=sl(d);return ol(_,S),_},rg=(d,p)=>{const _=Uh(d,p),S=Es(Bc(d));return sc(_,S),_},K1=(d,p)=>{const _=Uh(d,p);Lc(d,_);const S=Es(d);return sc(_,S),bi(d),_},$c=["tfoot","thead","tbody","colgroup"],hd=d=>Tt($c,d),ig=(d,p)=>({rows:d,columns:p}),Op=(d,p)=>({row:d,column:p}),ag=(d,p,_)=>({element:d,rowspan:p,colspan:_}),cg=(d,p,_,S)=>({element:d,rowspan:p,colspan:_,isNew:S}),X1=(d,p,_,S,N,H)=>({element:d,rowspan:p,colspan:_,row:S,column:N,isLocked:H}),Wf=(d,p,_)=>({element:d,cells:p,section:_}),va=(d,p,_,S)=>({element:d,cells:p,section:_,isNew:S}),Wi=(d,p,_)=>({element:d,isNew:p,isLocked:_}),md=(d,p,_,S)=>({element:d,cells:p,section:_,isNew:S}),lg=(d,p,_,S)=>({startRow:d,startCol:p,finishRow:_,finishCol:S}),Q1=(d,p,_)=>({element:d,colspan:p,column:_}),Bs=(d,p)=>({element:d,columns:p}),br=d=>Sp(d)&&ge(d.dom.host),rc=le(Element.prototype.attachShadow)&&le(Node.prototype.getRootNode),Gi=ne(rc),tu=rc?d=>Ze.fromDom(d.dom.getRootNode()):Rl,il=d=>{const p=tu(d);return br(p)?he.some(p):he.none()},eo=d=>Ze.fromDom(d.dom.host),jo=d=>{if(Gi()&&ge(d.target)){const p=Ze.fromDom(d.target);if(nc(p)&&Mi(p)&&d.composed&&d.composedPath){const _=d.composedPath();if(_)return lt(_)}}return he.from(d.target)},Mi=d=>ge(d.dom.shadowRoot),Gr=d=>{const p=Ou(d)?d.dom.parentNode:d.dom;if(p==null||p.ownerDocument===null)return!1;const _=p.ownerDocument;return il(Ze.fromDom(p)).fold(()=>_.body.contains(p),ke(Gr,eo))},sa=()=>C(Ze.fromDom(document)),C=d=>{const p=d.dom.body;if(p==null)throw new Error("Body is not available yet");return Ze.fromDom(p)},I=(d,p,_)=>Jn(Du(d,_),p),F=(d,p)=>Jn(Es(d),p),U=(d,p)=>{let _=[];return Ve(Es(d),S=>{p(S)&&(_=_.concat([S])),_=_.concat(U(S,p))}),_},Q=(d,p,_)=>I(d,S=>Ii(S,p),_),se=(d,p)=>F(d,_=>Ii(_,p)),fe=(d,p)=>Y1(p,d);var me=(d,p,_,S,N)=>d(_,S)?he.some(_):le(N)&&N(_)?he.none():p(_,S,N);const Re=(d,p,_)=>{let S=d.dom;const N=le(_)?_:xt;for(;S.parentNode;){S=S.parentNode;const H=Ze.fromDom(S);if(p(H))return he.some(H);if(N(H))break}return he.none()},tt=(d,p,_)=>me((N,H)=>H(N),Re,d,p,_),pt=(d,p)=>{const _=N=>p(Ze.fromDom(N));return ee(d.dom.childNodes,_).map(Ze.fromDom)},Ut=(d,p)=>{const _=S=>{for(let N=0;N<S.childNodes.length;N++){const H=Ze.fromDom(S.childNodes[N]);if(p(H))return he.some(H);const X=_(S.childNodes[N]);if(X.isSome())return X}return he.none()};return _(d.dom)},Je=(d,p,_)=>Re(d,S=>Ii(S,p),_),Ot=(d,p)=>pt(d,_=>Ii(_,p)),Zn=(d,p)=>sg(p,d),Hn=(d,p,_)=>me((N,H)=>Ii(N,H),Je,d,p,_),vn=(d,p,_=ct)=>d.exists(S=>_(S,p)),lr=d=>{const p=[],_=S=>{p.push(S)};for(let S=0;S<d.length;S++)d[S].each(_);return p},ni=(d,p)=>d!=null?p(d):he.none(),cs=(d,p)=>d?he.some(p):he.none(),Wn=(d,p,_)=>p===""||d.length>=p.length&&d.substr(_,_+p.length)===p,jn=(d,p,_=0,S)=>{const N=d.indexOf(p,_);return N!==-1?re(S)?!0:N+p.length<=S:!1},Zi=(d,p)=>Wn(d,p,0),To=(d,p)=>Wn(d,p,d.length-p.length),Nu=(d=>p=>p.replace(d,""))(/^\s+|\s+$/g),$s=d=>d.length>0,nr=d=>{const p=parseFloat(d);return isNaN(p)?he.none():he.some(p)},Pr=d=>d.style!==void 0&&le(d.style.getPropertyValue),Fc=(d,p,_)=>{if(!D(_))throw console.error("Invalid call to CSS.set. Property ",p,":: Value ",_,":: Element ",d),new Error("CSS value must be a string: "+_);Pr(d)&&d.style.setProperty(p,_)},yi=(d,p)=>{Pr(d)&&d.style.removeProperty(p)},Jo=(d,p,_)=>{const S=d.dom;Fc(S,p,_)},ur=(d,p)=>{const _=d.dom;Os(p,(S,N)=>{Fc(_,N,S)})},Ba=(d,p)=>{const _=d.dom,N=window.getComputedStyle(_).getPropertyValue(p);return N===""&&!Gr(d)?zh(_,p):N},zh=(d,p)=>Pr(d)?d.style.getPropertyValue(p):"",Hc=(d,p)=>{const _=d.dom,S=zh(_,p);return he.from(S).filter(N=>N.length>0)},Vc=(d,p)=>{const _=d.dom;yi(_,p),vn(_c(d,"style").map(Nu),"")&&xr(d,"style")},io=(d,p)=>{const _=d.dom,S=p.dom;Pr(_)&&Pr(S)&&(S.style.cssText=_.style.cssText)},Lr=(d,p,_=0)=>_c(d,p).map(S=>parseInt(S,10)).getOr(_),ba=(d,p)=>Lr(d,p,1),Tc=d=>Ri("col")(d)?Lr(d,"span",1)>1:ba(d,"colspan")>1,ya=d=>ba(d,"rowspan")>1,dr=(d,p)=>parseInt(Ba(d,p),10),Ea=ne(10),Gf=ne(10),Qd=(d,p)=>ug(d,p,Pe),ug=(d,p,_)=>Ts(Es(d),S=>Ii(S,p)?_(S)?[S]:[]:ug(S,p,_)),J1=(d,p,_=xt)=>{if(_(p))return he.none();if(Tt(d,Is(p)))return he.some(p);const S=N=>Ii(N,"table")||_(N);return Je(p,d.join(","),S)},nu=(d,p)=>J1(["td","th"],d,p),gd=d=>Qd(d,"th,td"),Wh=d=>Ii(d,"colgroup")?se(d,"col"):Ts(ef(d),p=>se(p,"col")),Ei=(d,p)=>Hn(d,"table",p),Jd=d=>Qd(d,"tr"),ef=d=>Ei(d).fold(ne([]),p=>se(p,"colgroup")),pd=(d,p)=>Nt(d,_=>{if(Is(_)==="colgroup"){const S=Nt(Wh(_),N=>{const H=Lr(N,"span",1);return ag(N,1,H)});return Wf(_,S,"colgroup")}else{const S=Nt(gd(_),N=>{const H=Lr(N,"rowspan",1),X=Lr(N,"colspan",1);return ag(N,H,X)});return Wf(_,S,p(_))}}),ic=d=>Iu(d).map(p=>{const _=Is(p);return hd(_)?_:"tbody"}).getOr("tbody"),ra=d=>{const p=Jd(d),S=[...ef(d),...p];return pd(S,ic)},vd=(d,p)=>pd(d,()=>p),tf=d=>{let p=!1,_;return(...S)=>(p||(p=!0,_=d.apply(null,S)),_)},Rp=(d,p,_,S)=>{const N=d.isiOS()&&/ipad/i.test(_)===!0,H=d.isiOS()&&!N,X=d.isiOS()||d.isAndroid(),ae=X||S("(pointer:coarse)"),ve=N||!H&&X&&S("(min-device-width:768px)"),Ae=H||X&&!ve,We=p.isSafari()&&d.isiOS()&&/safari/i.test(_)===!1,Mt=!Ae&&!ve&&!We;return{isiPad:ne(N),isiPhone:ne(H),isTablet:ne(ve),isPhone:ne(Ae),isTouch:ne(ae),isAndroid:d.isAndroid,isiOS:d.isiOS,isWebView:ne(We),isDesktop:ne(Mt)}},ev=(d,p)=>{for(let _=0;_<d.length;_++){const S=d[_];if(S.test(p))return S}},ps=(d,p)=>{const _=ev(d,p);if(!_)return{major:0,minor:0};const S=N=>Number(p.replace(_,"$"+N));return ac(S(1),S(2))},Sc=(d,p)=>{const _=String(p).toLowerCase();return d.length===0?xe():ps(d,_)},xe=()=>ac(0,0),ac=(d,p)=>({major:d,minor:p}),ia={nu:ac,detect:Sc,unknown:xe},dg=(d,p)=>Ui(p.brands,_=>{const S=_.brand.toLowerCase();return ee(d,N=>{var H;return S===((H=N.brand)===null||H===void 0?void 0:H.toLowerCase())}).map(N=>({current:N.name,version:ia.nu(parseInt(_.version,10),0)}))}),Lb=(d,p)=>{const _=String(p).toLowerCase();return ee(d,S=>S.search(_))},Bb=(d,p)=>Lb(d,p).map(_=>{const S=ia.detect(_.versionRegexes,p);return{current:_.name,version:S}}),zo=(d,p)=>Lb(d,p).map(_=>{const S=ia.detect(_.versionRegexes,p);return{current:_.name,version:S}}),Qe=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,It=d=>p=>jn(p,d),wt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:d=>jn(d,"edge/")&&jn(d,"chrome")&&jn(d,"safari")&&jn(d,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Qe],search:d=>jn(d,"chrome")&&!jn(d,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:d=>jn(d,"msie")||jn(d,"trident")},{name:"Opera",versionRegexes:[Qe,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:It("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:It("firefox")},{name:"Safari",versionRegexes:[Qe,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:d=>(jn(d,"safari")||jn(d,"mobile/"))&&jn(d,"applewebkit")}],Ln=[{name:"Windows",search:It("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:d=>jn(d,"iphone")||jn(d,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:It("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:It("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:It("linux"),versionRegexes:[]},{name:"Solaris",search:It("sunos"),versionRegexes:[]},{name:"FreeBSD",search:It("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:It("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],go={browsers:ne(wt),oses:ne(Ln)},Ho="Edge",oi="Chromium",Us="IE",Zf="Opera",xc="Firefox",_a="Safari",_e=()=>Me({current:void 0,version:ia.unknown()}),Me=d=>{const p=d.current,_=d.version,S=N=>()=>p===N;return{current:p,version:_,isEdge:S(Ho),isChromium:S(oi),isIE:S(Us),isOpera:S(Zf),isFirefox:S(xc),isSafari:S(_a)}},Fe={unknown:_e,nu:Me,edge:ne(Ho),chromium:ne(oi),ie:ne(Us),opera:ne(Zf),firefox:ne(xc),safari:ne(_a)},kt="Windows",st="iOS",Et="Android",zt="Linux",_n="macOS",Sn="Solaris",fo="FreeBSD",ao="ChromeOS",Xn=()=>Vo({current:void 0,version:ia.unknown()}),Vo=d=>{const p=d.current,_=d.version,S=N=>()=>p===N;return{current:p,version:_,isWindows:S(kt),isiOS:S(st),isAndroid:S(Et),isMacOS:S(_n),isLinux:S(zt),isSolaris:S(Sn),isFreeBSD:S(fo),isChromeOS:S(ao)}},Ss={unknown:Xn,nu:Vo,windows:ne(kt),ios:ne(st),android:ne(Et),linux:ne(zt),macos:ne(_n),solaris:ne(Sn),freebsd:ne(fo),chromeos:ne(ao)},qi={detect:(d,p,_)=>{const S=go.browsers(),N=go.oses(),H=p.bind(ve=>dg(S,ve)).orThunk(()=>Bb(S,d)).fold(Fe.unknown,Fe.nu),X=zo(N,d).fold(Ss.unknown,Ss.nu),ae=Rp(X,H,d,_);return{browser:H,os:X,deviceType:ae}}},ki=d=>window.matchMedia(d).matches;let $a=tf(()=>qi.detect(navigator.userAgent,he.from(navigator.userAgentData),ki));const Ks=()=>$a(),ou=(d,p)=>{const _=(ae,ve)=>{if(!de(ve)&&!ve.match(/^[0-9]+$/))throw new Error(d+".set accepts only positive integer values. Value was "+ve);const Ae=ae.dom;Pr(Ae)&&(Ae.style[d]=ve+"px")},S=ae=>{const ve=p(ae);if(ve<=0||ve===null){const Ae=Ba(ae,d);return parseFloat(Ae)||0}return ve},N=S,H=(ae,ve)=>je(ve,(Ae,We)=>{const Mt=Ba(ae,We),Jt=Mt===void 0?0:parseInt(Mt,10);return isNaN(Jt)?Ae:Ae+Jt},0);return{set:_,get:S,getOuter:N,aggregate:H,max:(ae,ve,Ae)=>{const We=H(ae,Ae);return ve>We?ve-We:0}}},Ds=(d,p)=>nr(d).getOr(p),Wo=(d,p,_)=>Ds(Ba(d,p),_),Il=(d,p,_,S)=>{const N=Wo(d,`padding-${_}`,0),H=Wo(d,`padding-${S}`,0),X=Wo(d,`border-${_}-width`,0),ae=Wo(d,`border-${S}-width`,0);return p-N-H-X-ae},Ip=(d,p)=>{const _=d.dom,S=_.getBoundingClientRect().width||_.offsetWidth;return p==="border-box"?S:Il(d,S,"left","right")},Lw=d=>Wo(d,"height",d.dom.offsetHeight),wa=d=>Wo(d,"width",d.dom.offsetWidth),Dp=d=>Ip(d,"content-box"),su=ou("width",d=>d.dom.offsetWidth),Dl=d=>su.get(d),Gh=d=>su.getOuter(d),co=Dp,Fa=wa,fg=(d,p,_)=>{const S=d.cells,N=S.slice(0,p),H=S.slice(p),X=N.concat(_).concat(H);return aa(d,X)},nE=(d,p,_)=>fg(d,p,[_]),si=(d,p,_)=>{const S=d.cells;S[p]=_},aa=(d,p)=>md(d.element,p,d.section,d.isNew),bd=(d,p)=>{const _=d.cells,S=Nt(_,p);return md(d.element,S,d.section,d.isNew)},Ml=(d,p)=>d.cells[p],Ca=(d,p)=>Ml(d,p).element,al=d=>d.cells.length,ji=d=>{const p=Lo(d,_=>_.section==="colgroup");return{rows:p.fail,cols:p.pass}},Mp=(d,p,_)=>{const S=Nt(d.cells,_);return md(p(d.element),S,d.section,!0)},ss="data-snooker-locked-cols",cl=d=>_c(d,ss).bind(p=>he.from(p.match(/\d+/g))).map(p=>Dn(p,Pe)),ru=d=>{const p=je(ji(d).rows,(S,N)=>(Ve(N.cells,(H,X)=>{H.isLocked&&(S[X]=!0)}),S),{}),_=tr(p,(S,N)=>parseInt(N,10));return as(_)},Er=(d,p)=>d+","+p,kp=(d,p,_)=>he.from(d.access[Er(p,_)]),hg=(d,p,_)=>{const S=nf(d,N=>_(p,N.element));return S.length>0?he.some(S[0]):he.none()},nf=(d,p)=>{const _=Ts(d.all,S=>S.cells);return Jn(_,p)},Xs=d=>{const p={};let _=0;return Ve(d.cells,S=>{const N=S.colspan;Vt(N,H=>{const X=_+H;p[X]=Q1(S.element,N,X)}),_+=N}),p},_r=d=>{const p={},_=[],N=lt(d).map(jt=>jt.element).bind(Ei).bind(cl).getOr({});let H=0,X=0,ae=0;const{pass:ve,fail:Ae}=Lo(d,jt=>jt.section==="colgroup");Ve(Ae,jt=>{const vt=[];Ve(jt.cells,Qt=>{let gt=0;for(;p[Er(ae,gt)]!==void 0;)gt++;const mn=Rs(N,gt.toString()),Un=X1(Qt.element,Qt.rowspan,Qt.colspan,ae,gt,mn);for(let ro=0;ro<Qt.colspan;ro++)for(let Gs=0;Gs<Qt.rowspan;Gs++){const ka=ae+Gs,Hr=gt+ro,ql=Er(ka,Hr);p[ql]=Un,X=Math.max(X,Hr+1)}vt.push(Un)}),H++,_.push(Wf(jt.element,vt,jt.section)),ae++});const{columns:We,colgroups:Mt}=Sl(ve).map(jt=>{const vt=Xs(jt);return{colgroups:[Bs(jt.element,js(vt))],columns:vt}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:ig(H,X),access:p,all:_,columns:We,colgroups:Mt}},ce={fromTable:d=>{const p=ra(d);return _r(p)},generate:_r,getAt:kp,findItem:hg,filterItems:nf,justCells:d=>Ts(d.all,p=>p.cells),justColumns:d=>js(d.columns),hasColumns:d=>En(d.columns).length>0,getColumnAt:(d,p)=>he.from(d.columns[p])},qf=(d,p=Pe)=>{const _=d.grid,S=Vt(_.columns,Le),N=Vt(_.rows,Le);return Nt(S,H=>gg(()=>Ts(N,Ae=>ce.getAt(d,Ae,H).filter(We=>We.column===H).toArray()),Ae=>Ae.colspan===1&&p(Ae.element),()=>ce.getAt(d,0,H)))},gg=(d,p,_)=>{const S=d();return ee(S,p).orThunk(()=>he.from(S[0]).orThunk(_)).map(X=>X.element)},iu=d=>{const p=d.grid,_=Vt(p.rows,Le),S=Vt(p.columns,Le);return Nt(_,N=>gg(()=>Ts(S,ve=>ce.getAt(d,N,ve).filter(Ae=>Ae.row===N).fold(ne([]),Ae=>[Ae])),ve=>ve.rowspan===1,()=>ce.getAt(d,N,0)))},Fs=(d,p)=>{if(p<0||p>=d.length-1)return he.none();const _=d[p].fold(()=>{const N=bc(d.slice(0,p));return Ui(N,(H,X)=>H.map(ae=>({value:ae,delta:X+1})))},N=>he.some({value:N,delta:0})),S=d[p+1].fold(()=>{const N=d.slice(p+1);return Ui(N,(H,X)=>H.map(ae=>({value:ae,delta:X+1})))},N=>he.some({value:N,delta:1}));return _.bind(N=>S.map(H=>{const X=H.delta+N.delta;return Math.abs(H.value-N.value)/X}))},Fb=(d,p)=>_=>Hb(_)==="rtl"?p:d,Hb=d=>Ba(d,"direction")==="rtl"?"rtl":"ltr",Vb=ou("height",d=>{const p=d.dom;return Gr(d)?p.getBoundingClientRect().height:p.offsetHeight}),Va=d=>Vb.get(d),oE=d=>Vb.getOuter(d),tv=Lw,sE=(d,p)=>({left:d,top:p,translate:(S,N)=>sE(d+S,p+N)}),Pu=sE,Ub=d=>{const p=d.getBoundingClientRect();return Pu(p.left,p.top)},Ua=(d,p)=>d!==void 0?d:p!==void 0?p:0,jh=d=>{const p=d.dom.ownerDocument,_=p.body,S=p.defaultView,N=p.documentElement;if(_===d.dom)return Pu(_.offsetLeft,_.offsetTop);const H=Ua(S==null?void 0:S.pageYOffset,N.scrollTop),X=Ua(S==null?void 0:S.pageXOffset,N.scrollLeft),ae=Ua(N.clientTop,_.clientTop),ve=Ua(N.clientLeft,_.clientLeft);return Bw(d).translate(X-ve,H-ae)},Bw=d=>{const p=d.dom,S=p.ownerDocument.body;return S===p?Pu(S.offsetLeft,S.offsetTop):Gr(d)?Ub(p):Pu(0,0)},nv=(d,p)=>({row:d,y:p}),zb=(d,p)=>({col:d,x:p}),rE=d=>jh(d).left+Gh(d),Lu=d=>jh(d).left,Ta=(d,p)=>zb(d,Lu(p)),ov=(d,p)=>zb(d,rE(p)),ri=d=>jh(d).top,ca=(d,p)=>nv(d,ri(p)),An=(d,p)=>nv(d,ri(p)+oE(p)),Xt=(d,p,_)=>{if(_.length===0)return[];const S=Nt(_.slice(1),(H,X)=>H.map(ae=>d(X,ae))),N=_[_.length-1].map(H=>p(_.length-1,H));return S.concat([N])},Np=d=>-d,kl={delta:Le,positions:d=>Xt(ca,An,d),edge:ri},Pl=Fb({delta:Le,edge:Lu,positions:d=>Xt(Ta,ov,d)},{delta:Np,edge:rE,positions:d=>Xt(ov,Ta,d)}),Ll={delta:(d,p)=>Pl(p).delta(d,p),positions:(d,p)=>Pl(p).positions(d,p),edge:d=>Pl(d).edge(d)},sv={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Ar=(()=>{const d="[0-9]+",_="[eE]"+("[+-]?"+d),S="\\.",N=ae=>`(?:${ae})?`,X=`[+-]?(?:${["Infinity",d+S+N(d)+N(_),S+d+N(_),d+N(_)].join("|")})`;return new RegExp(`^(${X})(.*)$`)})(),Yh=(d,p)=>Xe(p,_=>Xe(sv[_],S=>d===S)),pg=(d,p)=>he.from(Ar.exec(d)).bind(S=>{const N=Number(S[1]),H=S[2];return Yh(H,p)?he.some({value:N,unit:H}):he.none()}),Pt=/(\d+(\.\d+)?)%/,$w=/(\d+(\.\d+)?)px|em/,Gb=Ri("col"),za=(d,p,_)=>{const S=oc(d).getOrThunk(()=>C(oa(d)));return p(d)/_(S)*100},of=(d,p)=>{Jo(d,"width",p+"px")},jf=(d,p)=>{Jo(d,"width",p+"%")},wr=(d,p)=>{Jo(d,"height",p+"px")},iE=d=>tv(d)+"px",Go=(d,p,_,S)=>{const N=Ei(d).map(H=>{const X=_(H);return Math.floor(p/100*X)}).getOr(p);return S(d,N),N},es=(d,p,_,S)=>{const N=parseFloat(d);return To(d,"%")&&Is(p)!=="table"?Go(p,N,_,S):N},Zr=d=>{const p=iE(d);return p?es(p,d,Va,wr):Va(d)},cc=(d,p,_)=>{const S=_(d),N=ba(d,p);return S/N},qr=(d,p)=>Hc(d,p).orThunk(()=>_c(d,p).map(_=>_+"px")),Yf=d=>qr(d,"width"),Br=d=>qr(d,"height"),ds=d=>za(d,Dl,co),au=d=>Gb(d)?Dl(d):Fa(d),_t=d=>cc(d,"rowspan",Zr),Bl=d=>Yf(d).bind(_=>pg(_,["fixed","relative","empty"])),Kh=(d,p,_)=>{Jo(d,"width",p+_)},Ir=d=>Dl(d)+"px",cu=d=>za(d,Dl,co)+"%",lc=d=>Yf(d).exists(p=>Pt.test(p)),ll=d=>Yf(d).exists(p=>$w.test(p)),aE=d=>Yf(d).isNone(),uc=ne(Pt),rv=Ri("col"),Wa=d=>Yf(d).getOrThunk(()=>au(d)+"px"),$o=d=>Br(d).getOrThunk(()=>_t(d)+"px"),Bu=d=>Nt(ce.justColumns(d),p=>he.from(p.element)),Sa=d=>{const p=Ks().browser,_=p.isChromium()||p.isFirefox();return rv(d)?_:!0},la=(d,p,_,S,N,H)=>d.filter(S).fold(()=>H(Fs(_,p)),X=>N(X)),$u=(d,p,_,S)=>{const N=qf(d),H=ce.hasColumns(d)?Bu(d):N,X=[he.some(Ll.edge(p))].concat(Nt(Ll.positions(N,p),ve=>ve.map(Ae=>Ae.x))),ae=ye(Tc);return Nt(H,(ve,Ae)=>la(ve,Ae,X,ae,We=>{if(Sa(We))return _(We);{const Mt=ni(N[Ae],Le);return la(Mt,Ae,X,ae,Jt=>S(he.some(Dl(Jt))),S)}},S))},xa=d=>d.map(p=>p+"px").getOr(""),cE=(d,p)=>$u(d,p,Wa,xa),Aa=(d,p,_)=>$u(d,p,ds,S=>S.fold(()=>_.minCellWidth(),N=>N/_.pixelWidth()*100)),sf=(d,p,_)=>$u(d,p,au,S=>S.getOrThunk(_.minCellWidth)),qe=(d,p,_,S,N)=>{const H=iu(d),X=[he.some(_.edge(p))].concat(Nt(_.positions(H,p),ae=>ae.map(ve=>ve.y)));return Nt(H,(ae,ve)=>la(ae,ve,X,ye(ya),S,N))},Ac=(d,p,_)=>qe(d,p,_,_t,S=>S.getOrThunk(Gf)),Xh=(d,p,_)=>qe(d,p,_,$o,xa),lu=(d,p)=>()=>Gr(d)?p(d):parseFloat(Hc(d,"width").getOr("0")),Ga=d=>{const p=lu(d,Dl),_=ne(0);return{width:p,pixelWidth:p,getWidths:(N,H)=>sf(N,d,H),getCellDelta:_,singleColumnWidth:ne([0]),minCellWidth:_,setElementWidth:Ee,adjustTableWidth:Ee,isRelative:!0,label:"none"}},Yi=d=>{const p=lu(d,ve=>parseFloat(cu(ve))),_=lu(d,Dl);return{width:p,pixelWidth:_,getWidths:(ve,Ae)=>Aa(ve,d,Ae),getCellDelta:ve=>ve/_()*100,singleColumnWidth:(ve,Ae)=>[100-ve],minCellWidth:()=>Ea()/_()*100,setElementWidth:jf,adjustTableWidth:ve=>{const Ae=p(),We=ve/100*Ae,Mt=Ae+We;jf(d,Mt)},isRelative:!0,label:"percent"}},_i=d=>{const p=lu(d,Dl);return{width:p,pixelWidth:p,getWidths:(X,ae)=>sf(X,d,ae),getCellDelta:Le,singleColumnWidth:(X,ae)=>[Math.max(Ea(),X+ae)-X],minCellWidth:Ea,setElementWidth:of,adjustTableWidth:X=>{const ae=p()+X;of(d,ae)},isRelative:!1,label:"pixel"}},Zb=(d,p)=>uc().exec(p)!==null?Yi(d):_i(d),Kf={getTableSize:d=>Yf(d).fold(()=>Ga(d),_=>Zb(d,_)),pixelSize:_i,percentageSize:Yi,noneSize:Ga},Pn=(d,p,_,S,N,H)=>({minRow:d,minCol:p,maxRow:_,maxCol:S,allCells:N,selectedCells:H}),vg=(d,p)=>{const _=d.grid.columns;let N=d.grid.rows,H=_,X=0,ae=0;const ve=[],Ae=[];return Os(d.access,We=>{if(ve.push(We),p(We)){Ae.push(We);const Mt=We.row,Jt=Mt+We.rowspan-1,jt=We.column,vt=jt+We.colspan-1;Mt<N?N=Mt:Jt>X&&(X=Jt),jt<H?H=jt:vt>ae&&(ae=vt)}}),Pn(N,H,X,ae,ve,Ae)},$l=(d,p,_)=>{const S=d[_].element,N=Ze.fromTag("td");vr(N,Ze.fromTag("br")),(p?vr:wc)(S,N)},Ki=(d,p,_,S)=>{const N=Jn(d,ae=>ae.section!=="colgroup"),H=p.grid.columns,X=p.grid.rows;for(let ae=0;ae<X;ae++){let ve=!1;for(let Ae=0;Ae<H;Ae++)ae<_.minRow||ae>_.maxRow||Ae<_.minCol||Ae>_.maxCol||(ce.getAt(p,ae,Ae).filter(S).isNone()?$l(N,ve,ae):ve=!0)}},iv=(d,p,_,S)=>{Os(_.columns,X=>{(X.column<p.minCol||X.column>p.maxCol)&&bi(X.element)});const N=Jn(Qd(d,"tr"),X=>X.dom.childElementCount===0);Ve(N,bi),(p.minCol===p.maxCol||p.minRow===p.maxRow)&&Ve(Qd(d,"th,td"),X=>{xr(X,"rowspan"),xr(X,"colspan")}),xr(d,ss),xr(d,"data-snooker-col-series"),Kf.getTableSize(d).adjustTableWidth(S)},Fu=(d,p,_,S)=>{if(S.minCol===0&&p.grid.columns===S.maxCol+1)return 0;const N=sf(p,d,_),H=je(N,(Ae,We)=>Ae+We,0),ve=je(N.slice(S.minCol,S.maxCol+1),(Ae,We)=>Ae+We,0)/H*_.pixelWidth()-_.pixelWidth();return _.getCellDelta(ve)},lE=(d,p)=>{const _=Jt=>Ii(Jt.element,p),S=Bc(d),N=ra(S),H=Kf.getTableSize(d),X=ce.generate(N),ae=vg(X,_),ve="th:not("+p+"),td:not("+p+")",Ae=ug(S,"th,td",Jt=>Ii(Jt,ve));Ve(Ae,bi),Ki(N,X,ae,_);const We=ce.fromTable(d),Mt=Fu(d,We,H,ae);return iv(S,ae,X,Mt),S},Qh=" ",Za=((d,p)=>{const _=H=>{if(!d(H))throw new Error("Can only get "+p+" value of a "+p+" node");return S(H).getOr("")},S=H=>d(H)?he.from(H.dom.nodeValue):he.none();return{get:_,getOption:S,set:(H,X)=>{if(!d(H))throw new Error("Can only set raw "+p+" value of a "+p+" node");H.dom.nodeValue=X}}})(Ou,"text"),Uc=d=>Za.get(d),av=d=>Za.getOption(d),uE=(d,p)=>Za.set(d,p),Hu=d=>Is(d)==="img"?1:av(d).fold(()=>Es(d).length,p=>p.length),Lp=d=>av(d).filter(p=>p.trim().length!==0||p.indexOf(Qh)>-1).isSome(),cv=d=>zn(d)&&Ru(d,"contenteditable")==="false",Jh=["img","br"],bg=d=>Lp(d)||Tt(Jh,Is(d))||cv(d),rf=d=>Ut(d,bg),lv=d=>uv(d,bg),uv=(d,p)=>{const _=S=>{const N=Es(S);for(let H=N.length-1;H>=0;H--){const X=N[H];if(p(X))return he.some(X);const ae=_(X);if(ae.isSome())return ae}return he.none()};return _(d)},fs={scope:["row","col"]},qb=d=>()=>{const p=Ze.fromTag("td",d.dom);return vr(p,Ze.fromTag("br",d.dom)),p},Ni=d=>()=>Ze.fromTag("col",d.dom),ul=d=>()=>Ze.fromTag("colgroup",d.dom),em=d=>()=>Ze.fromTag("tr",d.dom),Xf=(d,p,_)=>{const S=rg(d,p);return Os(_,(N,H)=>{N===null?xr(S,H):Rr(S,H,N)}),S},dE=d=>d,ii=(d,p,_)=>rf(d).map(N=>{const H=_.join(","),X=Q(N,H,ae=>Ls(ae,d));return Fo(X,(ae,ve)=>{const Ae=Cc(ve);return vr(ae,Ae),Ae},p)}).getOr(p),zc=(d,p)=>{Os(fs,(_,S)=>_c(d,S).filter(N=>Tt(_,N)).each(N=>Rr(p,S,N)))},Qf=(d,p,_)=>{const S=(X,ae)=>{io(X.element,ae),Vc(ae,"height"),X.colspan!==1&&Vc(ae,"width")},N=X=>{const ae=Ze.fromTag(Is(X.element),p.dom),ve=_.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),Ae=ve.length>0?ii(X.element,ae,ve):ae;return vr(Ae,Ze.fromTag("br")),S(X,ae),zc(X.element,ae),d(X.element,ae),ae};return{col:X=>{const ae=Ze.fromTag(Is(X.element),p.dom);return S(X,ae),d(X.element,ae),ae},colgroup:ul(p),row:em(p),cell:N,replace:Xf,colGap:Ni(p),gap:qb(p)}},Jf=d=>({col:Ni(d),colgroup:ul(d),row:em(d),cell:qb(d),replace:dE,colGap:Ni(d),gap:qb(d)}),yd=(d,p)=>{const S=(p||document).createElement("div");return S.innerHTML=d,Es(Ze.fromDom(S))},af=d=>Nt(d,Ze.fromDom),Wc=d=>Hn(d,"[contenteditable]"),wi=(d,p=!1)=>Gr(d)?d.dom.isContentEditable:Wc(d).fold(ne(p),_=>dv(_)==="true"),dv=d=>d.dom.contentEditable,dc=d=>Ze.fromDom(d.getBody()),dl=d=>p=>Ls(p,dc(d)),Gc=d=>{xr(d,"data-mce-style");const p=_=>xr(_,"data-mce-style");Ve(gd(d),p),Ve(Wh(d),p),Ve(Jd(d),p)},yg=d=>Ze.fromDom(d.selection.getStart()),eh=d=>d.getBoundingClientRect().width,fv=d=>d.getBoundingClientRect().height,jb=(d,p)=>{const _=d.dom.getStyle(p,"width")||d.dom.getAttrib(p,"width");return he.from(_).filter($s)},Qs=d=>/^(\d+(\.\d+)?)%$/.test(d),hv=d=>/^(\d+(\.\d+)?)px$/.test(d),fc=d=>tt(d,Ri("table")).exists(wi),mv=(d,p)=>{const _=p.column,S=p.column+p.colspan-1,N=p.row,H=p.row+p.rowspan-1;return _<=d.finishCol&&S>=d.startCol&&N<=d.finishRow&&H>=d.startRow},gv=(d,p)=>p.column>=d.startCol&&p.column+p.colspan-1<=d.finishCol&&p.row>=d.startRow&&p.row+p.rowspan-1<=d.finishRow,cf=(d,p)=>{let _=!0;const S=$(gv,p);for(let N=p.startRow;N<=p.finishRow;N++)for(let H=p.startCol;H<=p.finishCol;H++)_=_&&ce.getAt(d,N,H).exists(S);return _?he.some(p):he.none()},xs=(d,p)=>lg(Math.min(d.row,p.row),Math.min(d.column,p.column),Math.max(d.row+d.rowspan-1,p.row+p.rowspan-1),Math.max(d.column+d.colspan-1,p.column+p.colspan-1)),Ed=(d,p,_)=>{const S=ce.findItem(d,p,Ls),N=ce.findItem(d,_,Ls);return S.bind(H=>N.map(X=>xs(H,X)))},Bp=(d,p,_)=>Ed(d,p,_).bind(S=>cf(d,S)),pv=(d,p,_,S)=>ce.findItem(d,p,Ls).bind(N=>{const H=_>0?N.row+N.rowspan-1:N.row,X=S>0?N.column+N.colspan-1:N.column;return ce.getAt(d,H+_,X+S).map(ve=>ve.element)}),tm=(d,p,_)=>Ed(d,p,_).map(S=>{const N=ce.filterItems(d,$(mv,S));return Nt(N,H=>H.element)}),$p=(d,p)=>{const _=(S,N)=>zf(N,S);return ce.findItem(d,p,_).map(S=>S.element)},Eg=(d,p,_)=>Ei(d).bind(S=>{const N=lf(S);return pv(N,d,p,_)}),fE=(d,p,_)=>{const S=lf(d);return tm(S,p,_)},Oc=(d,p,_,S,N)=>{const H=lf(d),X=Ls(d,_)?he.some(p):$p(H,p),ae=Ls(d,N)?he.some(S):$p(H,S);return X.bind(ve=>ae.bind(Ae=>tm(H,ve,Ae)))},du=(d,p,_)=>{const S=lf(d);return Bp(S,p,_)},lf=ce.fromTable;var _d=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],fu=()=>{const d=Ae=>Ze.fromDom(Ae.dom.cloneNode(!1)),p=Ae=>Rl(Ae).dom,_=Ae=>nc(Ae)?Is(Ae)==="body"?!0:Tt(_d,Is(Ae)):!1,S=Ae=>nc(Ae)?Tt(["br","img","hr","input"],Is(Ae)):!1,N=Ae=>nc(Ae)&&Ru(Ae,"contenteditable")==="false",H=(Ae,We)=>Ae.dom.compareDocumentPosition(We.dom),X=(Ae,We)=>{const Mt=sl(Ae);ol(We,Mt)},ae=Ae=>{const We=Is(Ae);return Tt(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],We)},ve=Ae=>nc(Ae)?_c(Ae,"lang"):he.none();return{up:ne({selector:Je,closest:Hn,predicate:Re,all:Du}),down:ne({selector:fe,predicate:U}),styles:ne({get:Ba,getRaw:Hc,set:Jo,remove:Vc}),attrs:ne({get:Ru,set:Rr,remove:xr,copyTo:X}),insert:ne({before:dd,after:Lc,afterAll:us,append:vr,appendAll:sc,prepend:wc,wrap:Mu}),remove:ne({unwrap:ku,remove:bi}),create:ne({nu:Ze.fromTag,clone:d,text:Ze.fromText}),query:ne({comparePosition:H,prevSibling:eu,nextSibling:Kd}),property:ne({children:Es,name:Is,parent:Iu,document:p,isText:Ou,isComment:Ys,isElement:nc,isSpecial:ae,getLanguage:ve,getText:Uc,setText:uE,isBoundary:_,isEmptyTag:S,isNonEditable:N}),eq:Ls,is:Ap}};const Fl=(d,p,_,S)=>{const N=_[0],H=_.slice(1);return S(d,p,N,H)},_g=(d,p,_)=>_.length>0?Fl(d,p,_,Fp):he.none(),Fp=(d,p,_,S)=>{const N=p(d,_);return Fo(S,(H,X)=>{const ae=p(d,X);return uf(d,H,ae)},N)},uf=(d,p,_)=>p.bind(S=>_.filter($(d.eq,S))),Yb=(d,p)=>$(d.eq,p),nm=(d,p,_,S=xt)=>{const N=[p].concat(d.up().all(p)),H=[_].concat(d.up().all(_)),X=We=>os(We,S).fold(()=>We,Jt=>We.slice(0,Jt+1)),ae=X(N),ve=X(H),Ae=ee(ae,We=>Xe(ve,Yb(d,We)));return{firstpath:ae,secondpath:ve,shared:Ae}},om=_g,hE=nm,wg=fu(),Zo=(d,p)=>om(wg,(_,S)=>d(S),p),Tn=(d,p,_)=>hE(wg,d,p,_),wd=d=>Je(d,"table"),Cd=(d,p,_)=>{const S=N=>H=>_!==void 0&&_(H)||Ls(H,N);return Ls(d,p)?he.some({boxes:he.some([d]),start:d,finish:p}):wd(d).bind(N=>wd(p).bind(H=>{if(Ls(N,H))return he.some({boxes:fE(N,d,p),start:d,finish:p});if(zf(N,H)){const X=Q(p,"td,th",S(N)),ae=X.length>0?X[X.length-1]:p;return he.some({boxes:Oc(N,d,N,p,H),start:d,finish:ae})}else if(zf(H,N)){const X=Q(d,"td,th",S(H)),ae=X.length>0?X[X.length-1]:d;return he.some({boxes:Oc(H,d,N,p,H),start:d,finish:ae})}else return Tn(d,p).shared.bind(X=>Hn(X,"table",_).bind(ae=>{const ve=Q(p,"td,th",S(ae)),Ae=ve.length>0?ve[ve.length-1]:p,We=Q(d,"td,th",S(ae)),Mt=We.length>0?We[We.length-1]:d;return he.some({boxes:Oc(ae,d,N,p,H),start:Mt,finish:Ae})}))}))},Cg=(d,p)=>{const _=fe(d,p);return _.length>0?he.some(_):he.none()},Hp=(d,p)=>ee(d,_=>Ii(_,p)),Kb=(d,p,_)=>Zn(d,p).bind(S=>Zn(d,_).bind(N=>Zo(wd,[S,N]).map(H=>({first:S,last:N,table:H})))),Ms=(d,p)=>Je(d,"table").bind(_=>Zn(_,p).bind(S=>Cd(S,d).bind(N=>N.boxes.map(H=>({boxes:H,start:N.start,finish:N.finish}))))),Vp=(d,p,_,S,N)=>Hp(d,N).bind(H=>Eg(H,p,_).bind(X=>Ms(X,S))),vv=(d,p)=>Cg(d,p),bv=(d,p,_)=>Kb(d,p,_).bind(S=>{const N=ve=>Ls(d,ve),H="thead,tfoot,tbody,table",X=Je(S.first,H,N),ae=Je(S.last,H,N);return X.bind(ve=>ae.bind(Ae=>Ls(ve,Ae)?du(S.table,S.first,S.last):he.none()))}),St=Le,yv=d=>{const p=(S,N)=>_c(S,N).exists(H=>parseInt(H,10)>1),_=S=>p(S,"rowspan")||p(S,"colspan");return d.length>0&&ys(d,_)?he.some(d):he.none()},Vu=(d,p,_)=>p.length<=1?he.none():bv(d,_.firstSelectedSelector,_.lastSelectedSelector).map(S=>({bounds:S,cells:p})),th="data-mce-selected",Up="td["+th+"],th["+th+"]",df="["+th+"]",Tg="data-mce-first-selected",sm="td["+Tg+"],th["+Tg+"]",Xb="data-mce-last-selected",ua="td["+Xb+"],th["+Xb+"]",or=df,qa={selected:th,selectedSelector:Up,firstSelected:Tg,firstSelectedSelector:sm,lastSelected:Xb,lastSelectedSelector:ua},rm=(d,p,_)=>({element:_,mergable:Vu(p,d,qa),unmergable:yv(d),selection:St(d)}),fl=(d,p,_)=>({element:d,clipboard:p,generators:_}),im=(d,p,_,S)=>({selection:St(d),clipboard:_,generators:S}),yo=d=>Ei(d).bind(p=>vv(p,qa.firstSelectedSelector)).fold(ne(d),p=>p[0]),Uu=d=>(p,_)=>{const S=Is(p),N=S==="col"||S==="colgroup"?yo(p):p;return Hn(N,d,_)},zp=Uu("th,td,caption"),nh=Uu("th,td"),ff=d=>af(d.model.table.getSelectedCells()),Td=d=>Jn(ff(d),p=>Ii(p,qa.selectedSelector)),hu=d=>Ei(d[0]).map(p=>{const _=lE(p,or);return Gc(_),[_]}),Oa=(d,p)=>Nt(p,_=>d.selection.serializer.serialize(_.dom,{})).join(""),Fw=d=>Nt(d,p=>p.dom.innerText).join(""),Sg=(d,p)=>{d.on("BeforeGetContent",_=>{const S=N=>{_.preventDefault(),hu(N).each(H=>{_.content=_.format==="text"?Fw(H):Oa(d,H)})};if(_.selection===!0){const N=Td(d);N.length>=1&&S(N)}}),d.on("BeforeSetContent",_=>{if(_.selection===!0&&_.paste===!0){const S=ff(d);lt(S).each(N=>{Ei(N).each(H=>{const X=Jn(yd(_.content),ve=>Is(ve)!=="meta"),ae=Ri("table");if(X.length===1&&ae(X[0])){_.preventDefault();const ve=Ze.fromDom(d.getDoc()),Ae=Jf(ve),We=fl(N,X[0],Ae);p.pasteCells(H,We).each(()=>{d.focus()})}})})}})},ai=(d,p)=>({element:d,offset:p}),fn=(d,p,_)=>d.property().isText(p)&&d.property().getText(p).trim().length===0||d.property().isComment(p)?_(p).bind(S=>fn(d,S,_).orThunk(()=>he.some(S))):he.none(),Ev=(d,p)=>d.property().isText(p)?d.property().getText(p).length:d.property().children(p).length,mE=(d,p)=>{const _=fn(d,p,d.query().prevSibling).getOr(p);if(d.property().isText(_))return ai(_,Ev(d,_));const S=d.property().children(_);return S.length>0?mE(d,S[S.length-1]):ai(_,Ev(d,_))},Ra=mE,Qb=fu(),Sd=d=>Ra(Qb,d),hc=(d,p)=>{Tc(d)||Bl(d).each(S=>{const N=S.value/2;Kh(d,N,S.unit),Kh(p,N,S.unit)})},mu=d=>Nt(d,ne(0)),hl=(d,p,_,S,N)=>N(d.slice(0,p)).concat(S).concat(N(d.slice(_))),xg=d=>(p,_,S,N)=>{if(d(S)){const H=Math.max(N,p[_]-Math.abs(S)),X=Math.abs(H-p[_]);return S>=0?X:-X}else return S},am=xg(d=>d<0),Hw=xg(Pe),Ag=()=>{const d=(ae,ve,Ae,We,Mt)=>{const Jt=am(ae,ve,We,Mt);return hl(ae,ve,Ae+1,[Jt,0],mu)},p=(ae,ve,Ae,We)=>{const Mt=(100+Ae)/100,Jt=Math.max(We,(ae[ve]+Ae)/Mt);return Nt(ae,(jt,vt)=>(vt===ve?Jt:jt/Mt)-jt)},_=(ae,ve,Ae,We,Mt,Jt)=>Jt?p(ae,ve,We,Mt):d(ae,ve,Ae,We,Mt);return{resizeTable:(ae,ve)=>ae(ve),clampTableDelta:am,calcLeftEdgeDeltas:_,calcMiddleDeltas:(ae,ve,Ae,We,Mt,Jt,jt)=>_(ae,Ae,We,Mt,Jt,jt),calcRightEdgeDeltas:(ae,ve,Ae,We,Mt,Jt)=>{if(Jt)return p(ae,Ae,We,Mt);{const jt=am(ae,Ae,We,Mt);return mu(ae.slice(0,Ae)).concat([jt])}},calcRedestributedWidths:(ae,ve,Ae,We)=>{if(We){const Jt=(ve+Ae)/ve,jt=Nt(ae,vt=>vt/Jt);return{delta:Jt*100-100,newSizes:jt}}else return{delta:Ae,newSizes:ae}}}},Og=()=>{const d=(X,ae,ve,Ae,We)=>{const Mt=Ae>=0?ve:ae,Jt=Hw(X,Mt,Ae,We);return hl(X,ae,ve+1,[Jt,-Jt],mu)};return{resizeTable:(X,ae,ve)=>{ve&&X(ae)},clampTableDelta:(X,ae,ve,Ae,We)=>{if(We){if(ve>=0)return ve;{const Mt=je(X,(Jt,jt)=>Jt+jt-Ae,0);return Math.max(-Mt,ve)}}else return am(X,ae,ve,Ae)},calcLeftEdgeDeltas:d,calcMiddleDeltas:(X,ae,ve,Ae,We,Mt)=>d(X,ve,Ae,We,Mt),calcRightEdgeDeltas:(X,ae,ve,Ae,We,Mt)=>{if(Mt)return mu(X);{const Jt=Ae/X.length;return Nt(X,ne(Jt))}},calcRedestributedWidths:(X,ae,ve,Ae)=>({delta:0,newSizes:X})}},cm=d=>ce.fromTable(d).grid,Rg=Ri("th"),lm=d=>ys(d,p=>Rg(p.element)),gE=(d,p)=>d&&p?"sectionCells":d?"section":"cells",_v=d=>{const p=d.section==="thead",_=vn(oh(d.cells),"th");return d.section==="tfoot"?{type:"footer"}:p||_?{type:"header",subType:gE(p,_)}:{type:"body"}},oh=d=>{const p=Jn(d,_=>Rg(_.element));return p.length===0?he.some("td"):p.length===d.length?he.some("th"):he.none()},Wp=d=>{const p=Nt(d,N=>_v(N).type),_=Tt(p,"header"),S=Tt(p,"footer");if(!_&&!S)return he.some("body");{const N=Tt(p,"body");return _&&!N&&!S?he.some("header"):!_&&!N&&S?he.some("footer"):he.none()}},Zc=d=>Ui(d.all,p=>{const _=_v(p);return _.type==="header"?he.from(_.subType):he.none()}),ja=(d,p,_)=>Wi(_(d.element,p),!0,d.isLocked),xd=(d,p)=>d.section!==p?md(d.element,d.cells,p,d.isNew):d,sh=()=>({transformRow:xd,transformCell:(d,p,_)=>{const S=_(d.element,p),N=Is(S)!=="td"?K1(S,"td"):S;return Wi(N,d.isNew,d.isLocked)}}),wv=()=>({transformRow:xd,transformCell:ja}),Ig=()=>({transformRow:(d,p)=>xd(d,p==="thead"?"tbody":p),transformCell:ja}),dm={getTableSectionType:(d,p)=>{const _=ce.fromTable(d);switch(Zc(_).getOr(p)){case"section":return sh();case"sectionCells":return wv();case"cells":return Ig()}},section:sh,sectionCells:wv,cells:Ig,fallback:()=>({transformRow:Le,transformCell:ja})},Ia=(d,p,_,S)=>{_===S?xr(d,p):Rr(d,p,_)},hf=(d,p,_)=>{Sl(se(d,p)).fold(()=>wc(d,_),S=>Lc(S,_))},Vw=(d,p)=>{const _=Ot(d,p).getOrThunk(()=>{const S=Ze.fromTag(p,oa(d).dom);return p==="thead"?hf(d,"caption,colgroup",S):p==="colgroup"?hf(d,"caption",S):vr(d,S),S});return Di(_),_},Jb=(d,p)=>{const _=[],S=[],N=jt=>Nt(jt,vt=>{vt.isNew&&_.push(vt.element);const Qt=vt.element;return Di(Qt),Ve(vt.cells,gt=>{gt.isNew&&S.push(gt.element),Ia(gt.element,"colspan",gt.colspan,1),Ia(gt.element,"rowspan",gt.rowspan,1),vr(Qt,gt.element)}),Qt}),H=jt=>Ts(jt,vt=>Nt(vt.cells,Qt=>(Ia(Qt.element,"span",Qt.colspan,1),Qt.element))),X=(jt,vt)=>{const Qt=Vw(d,vt),mn=(vt==="colgroup"?H:N)(jt);sc(Qt,mn)},ae=jt=>{Ot(d,jt).each(bi)},ve=(jt,vt)=>{jt.length>0?X(jt,vt):ae(vt)},Ae=[],We=[],Mt=[],Jt=[];return Ve(p,jt=>{switch(jt.section){case"thead":Ae.push(jt);break;case"tbody":We.push(jt);break;case"tfoot":Mt.push(jt);break;case"colgroup":Jt.push(jt);break}}),ve(Jt,"colgroup"),ve(Ae,"thead"),ve(We,"tbody"),ve(Mt,"tfoot"),{newRows:_,newCells:S}},e0=d=>Nt(d,p=>{const _=Cc(p.element);return Ve(p.cells,S=>{const N=Bc(S.element);Ia(N,"colspan",S.colspan,1),Ia(N,"rowspan",S.rowspan,1),vr(_,N)}),_}),zs=(d,p)=>Nt(d,_=>Ml(_,p)),Uw=(d,p)=>d[p],pE=(d,p)=>{if(d.length===0)return 0;const _=d[0];return os(d,N=>!p(_.element,N.element)).getOr(d.length)},zw=(d,p,_,S)=>{const N=Uw(d,p),H=N.section==="colgroup",X=pE(N.cells.slice(_),S),ae=H?1:pE(zs(d.slice(p),_),S);return{colspan:X,rowspan:ae}},Cv=(d,p)=>{const _=Nt(d,N=>Nt(N.cells,xt)),S=(N,H,X,ae)=>{for(let ve=N;ve<N+X;ve++)for(let Ae=H;Ae<H+ae;Ae++)_[ve][Ae]=!0};return Nt(d,(N,H)=>{const X=Ts(N.cells,(ae,ve)=>{if(_[H][ve]===!1){const Ae=zw(d,H,ve,p);return S(H,ve,Ae.rowspan,Ae.colspan),[cg(ae.element,Ae.rowspan,Ae.colspan,ae.isNew)]}else return[]});return va(N.element,X,N.section,N.isNew)})},Dg=(d,p,_)=>{const S=[];Ve(d.colgroups,N=>{const H=[];for(let X=0;X<d.grid.columns;X++){const ae=ce.getColumnAt(d,X).map(ve=>Wi(ve.element,_,!1)).getOrThunk(()=>Wi(p.colGap(),!0,!1));H.push(ae)}S.push(md(N.element,H,"colgroup",_))});for(let N=0;N<d.grid.rows;N++){const H=[];for(let ve=0;ve<d.grid.columns;ve++){const Ae=ce.getAt(d,N,ve).map(We=>Wi(We.element,_,We.isLocked)).getOrThunk(()=>Wi(p.gap(),!0,!1));H.push(Ae)}const X=d.all[N],ae=md(X.element,H,X.section,_);S.push(ae)}return S},mf=(d,p)=>Dg(d,p,!1),ci=d=>Cv(d,Ls),gf=(d,p)=>Ui(d.all,_=>ee(_.cells,S=>Ls(p,S.element))),t0=(d,p,_)=>{const S=Nt(p.selection,H=>nu(H).bind(X=>gf(d,X)).filter(_)),N=lr(S);return cs(N.length>0,N)},jr=(d,p,_,S,N)=>(H,X,ae,ve)=>{const Ae=ce.fromTable(H),We=he.from(ve==null?void 0:ve.section).getOrThunk(dm.fallback);return p(Ae,X).map(Jt=>{const jt=mf(Ae,ae),vt=d(jt,Jt,Ls,N(ae),We),Qt=ru(vt.grid),gt=ci(vt.grid);return{info:Jt,grid:gt,cursor:vt.cursor,lockedColumns:Qt}}).bind(Jt=>{const jt=Jb(H,Jt.grid),vt=he.from(ve==null?void 0:ve.sizing).getOrThunk(()=>Kf.getTableSize(H)),Qt=he.from(ve==null?void 0:ve.resize).getOrThunk(Og);return _(H,Jt.grid,Jt.info,{sizing:vt,resize:Qt,section:We}),S(H),xr(H,ss),Jt.lockedColumns.length>0&&Rr(H,ss,Jt.lockedColumns.join(",")),he.some({cursor:Jt.cursor,newRows:jt.newRows,newCells:jt.newCells})})},Tv=(d,p)=>nu(p.element).bind(_=>gf(d,_).map(S=>({...S,generators:p.generators,clipboard:p.clipboard}))),Gp=(d,p)=>t0(d,p,Pe).map(_=>({cells:_,generators:p.generators,clipboard:p.clipboard})),g2=(d,p)=>p.mergable,vE=(d,p)=>p.unmergable,rh=(d,p)=>t0(d,p,Pe),pf=(d,p)=>t0(d,p,_=>!_.isLocked),Sv=(d,p)=>gf(d,p).exists(_=>!_.isLocked),bE=(d,p)=>ys(p,_=>Sv(d,_)),p2=(d,p)=>g2(d,p).filter(_=>bE(d,_.cells)),zu=(d,p)=>vE(d,p).filter(_=>bE(d,_)),hs=(d,p,_,S)=>{const N=ji(d).rows;if(N.length===0)return d;for(let H=p.startRow;H<=p.finishRow;H++)for(let X=p.startCol;X<=p.finishCol;X++){const ae=N[H],ve=Ml(ae,X).isLocked;si(ae,X,Wi(S(),!1,ve))}return d},yE=(d,p,_,S)=>{const N=ji(d).rows;let H=!0;for(let X=0;X<N.length;X++)for(let ae=0;ae<al(N[0]);ae++){const ve=N[X],Ae=Ml(ve,ae),We=Ae.element,Mt=_(We,p);Mt&&!H?si(ve,ae,Wi(S(),!0,Ae.isLocked)):Mt&&(H=!1)}return d},_s=(d,p)=>je(d,(_,S)=>Xe(_,N=>p(N.element,S.element))?_:_.concat([S]),[]),Ci=(d,p,_,S)=>(p>0&&p<d[0].cells.length&&Ve(d,N=>{const H=N.cells[p-1];let X=0;const ae=S();for(;N.cells.length>p+X&&_(H.element,N.cells[p+X].element);)si(N,p+X,Wi(ae,!0,N.cells[p+X].isLocked)),X++}),d),Hl=(d,p,_,S)=>{const N=ji(d).rows;if(p>0&&p<N.length){const H=N[p-1].cells,X=_s(H,_);Ve(X,ae=>{let ve=he.none();for(let Ae=p;Ae<N.length;Ae++)for(let We=0;We<al(N[0]);We++){const Mt=N[Ae],Jt=Ml(Mt,We);_(Jt.element,ae.element)&&(ve.isNone()&&(ve=he.some(S())),ve.each(vt=>{si(Mt,We,Wi(vt,!0,Jt.isLocked))}))}})}return d},mc=d=>{const p=H=>H(d),_=ne(d),S=()=>N,N={tag:!0,inner:d,fold:(H,X)=>X(d),isValue:Pe,isError:xt,map:H=>vf.value(H(d)),mapError:S,bind:p,exists:p,forall:p,getOr:_,or:S,getOrThunk:_,orThunk:S,getOrDie:_,each:H=>{H(d)},toOptional:()=>he.some(d)};return N},ih=d=>{const p=()=>_,_={tag:!1,inner:d,fold:(S,N)=>S(d),isValue:xt,isError:Pe,map:p,mapError:S=>vf.error(S(d)),bind:p,exists:xt,forall:Pe,getOr:Le,or:Le,getOrThunk:mt,orThunk:mt,getOrDie:Ge(String(d)),each:Ee,toOptional:he.none};return _},vf={value:mc,error:ih,fromOption:(d,p)=>d.fold(()=>ih(p),mc)},ml=(d,p,_)=>{if(d.row>=p.length||d.column>al(p[0]))return vf.error("invalid start address out of table bounds, row: "+d.row+", column: "+d.column);const S=p.slice(d.row),N=S[0].cells.slice(d.column),H=al(_[0]),X=_.length;return vf.value({rowDelta:S.length-X,colDelta:N.length-H})},pu=(d,p)=>{const _=al(d[0]),S=al(p[0]);return{rowDelta:0,colDelta:_-S}},ah=(d,p)=>{const _=d.length,S=p.length;return{rowDelta:_-S,colDelta:0}},Zp=(d,p,_,S)=>{const N=p.section==="colgroup"?_.col:_.cell;return Vt(d,H=>Wi(N(),!0,S(H)))},n0=(d,p,_,S)=>{const N=d[d.length-1];return d.concat(Vt(p,()=>{const H=N.section==="colgroup"?_.colgroup:_.row,X=Mp(N,H,Le),ae=Zp(X.cells.length,X,_,ve=>Nr(S,ve.toString()));return aa(X,ae)}))},EE=(d,p,_,S)=>Nt(d,N=>{const H=Zp(p,N,_,xt);return fg(N,S,H)}),_E=(d,p,_)=>Nt(d,S=>je(_,(N,H)=>{const X=Zp(1,S,p,Pe)[0];return nE(N,H,X)},S)),kg=(d,p,_)=>{const S=p.colDelta<0?EE:Le,N=p.rowDelta<0?n0:Le,H=ru(d),X=al(d[0]),ae=Xe(H,We=>We===X-1),ve=S(d,Math.abs(p.colDelta),_,ae?X-1:X),Ae=ru(ve);return N(ve,Math.abs(p.rowDelta),_,Dn(Ae,Pe))},o0=(d,p,_,S)=>{const N=Ml(d[p],_),H=$(S,N.element),X=d[p];return d.length>1&&al(X)>1&&(_>0&&H(Ca(X,_-1))||_<X.cells.length-1&&H(Ca(X,_+1))||p>0&&H(Ca(d[p-1],_))||p<d.length-1&&H(Ca(d[p+1],_)))},Ww=(d,p,_,S,N,H)=>{const X=d.row,ae=d.column,ve=_.length,Ae=al(_[0]),We=X+ve,Mt=ae+Ae+H.length,Jt=Dn(H,Pe);for(let jt=X;jt<We;jt++){let vt=0;for(let Qt=ae;Qt<Mt;Qt++){if(Jt[Qt]){vt++;continue}o0(p,jt,Qt,N)&&yE(p,Ca(p[jt],Qt),N,S.cell);const gt=Qt-ae-vt,mn=Ml(_[jt-X],gt),Un=mn.element,ro=S.replace(Un);si(p[jt],Qt,Wi(ro,!0,mn.isLocked))}}return p},Gw=(d,p,_)=>{const S=al(p[0]),N=ji(p).cols.length+d.row,H=Vt(S-d.column,ae=>ae+d.column),X=ee(H,ae=>ys(_,ve=>ve!==ae)).getOr(S-1);return{row:N,column:X}},wE=(d,p,_)=>Jn(_,S=>S>=d.column&&S<=al(p[0])+d.column),CE=(d,p,_,S,N)=>{const H=ru(p),X=Gw(d,p,H),ae=ji(_).rows,ve=wE(X,ae,H);return ml(X,p,ae).map(We=>{const Mt={...We,colDelta:We.colDelta-ve.length},Jt=kg(p,Mt,S),jt=ru(Jt),vt=wE(X,ae,jt);return Ww(X,Jt,ae,S,N,vt)})},s0=(d,p,_,S,N)=>{Ci(p,d,N,S.cell);const H=ah(_,p),X=kg(_,H,S),ae=ah(p,X),ve=kg(p,ae,S);return Nt(ve,(Ae,We)=>fg(Ae,d,X[We].cells))},TE=(d,p,_,S,N)=>{Hl(p,d,N,S.cell);const H=ru(p),X=pu(p,_),ae={...X,colDelta:X.colDelta-H.length},ve=kg(p,ae,S),{cols:Ae,rows:We}=ji(ve),Mt=ru(ve),Jt=pu(_,p),jt={...Jt,colDelta:Jt.colDelta+Mt.length},vt=_E(_,S,Mt),Qt=kg(vt,jt,S);return[...Ae,...We.slice(0,d),...Qt,...We.slice(d,We.length)]},Zw=(d,p,_,S)=>Mp(d,N=>S(N,_),p),r0=(d,p,_,S,N)=>{const{rows:H,cols:X}=ji(d),ae=H.slice(0,p),ve=H.slice(p),Ae=Zw(H[_],(We,Mt)=>p>0&&p<H.length&&S(Ca(H[p-1],Mt),Ca(H[p],Mt))?Ml(H[p],Mt):Wi(N(We.element,S),!0,We.isLocked),S,N);return[...X,...ae,Ae,...ve]},fm=(d,p,_,S,N,H,X)=>{if(_==="colgroup"||!S){const ae=Ml(d,N);return Wi(X(ae.element,H),!0,!1)}else return Ml(d,p)},i0=(d,p,_,S,N)=>Nt(d,H=>{const X=p>0&&p<al(H)&&S(Ca(H,p-1),Ca(H,p)),ae=fm(H,p,H.section,X,_,S,N);return nE(H,p,ae)}),qw=(d,p)=>Ts(d,_=>{const S=_.cells,N=Fo(p,(H,X)=>X>=0&&X<H.length?H.slice(0,X).concat(H.slice(X+1)):H,S);return N.length>0?[md(_.element,N,_.section,_.isNew)]:[]}),jw=(d,p,_)=>{const{rows:S,cols:N}=ji(d);return[...N,...S.slice(0,p),...S.slice(_+1)]},SE=(d,p,_,S)=>Ca(d[p],_)!==void 0&&p>0&&S(Ca(d[p-1],_),Ca(d[p],_)),sr=(d,p,_)=>p>0&&_(Ca(d,p-1),Ca(d,p)),Ad=(d,p,_,S)=>SE(d,p,_,S)||sr(d[p],_,S),ch=(d,p)=>ys(p,Le)&&lm(d.cells)?Pe:(S,N,H)=>!(Is(S.element)==="th"&&p[H]),xE=(d,p)=>ys(p,Le)&&lm(d)?Pe:(S,N,H)=>!(Is(S.element)==="th"&&p[N]),xv=(d,p,_,S)=>{const N=X=>X==="row"?ya(p):Tc(p),H=X=>N(X)?`${X}group`:X;return d?Rg(p)?H(_):null:S&&Rg(p)?H(_==="row"?"col":"row"):null},Da=(d,p)=>(_,S,N)=>he.some(xv(d,_.element,"col",p[N])),Rc=(d,p)=>(_,S)=>he.some(xv(d,_.element,"row",p[S])),hm=(d,p,_)=>Wi(_(d.element,p),!0,d.isLocked),Av=(d,p,_,S,N,H,X)=>{const ae=ve=>Xe(p,Ae=>_(ve.element,Ae.element));return Nt(d,(ve,Ae)=>bd(ve,(We,Mt)=>{if(ae(We)){const Jt=X(We,Ae,Mt)?N(We,_,S):We;return H(Jt,Ae,Mt).each(jt=>{Yd(Jt.element,{scope:he.from(jt)})}),Jt}else return We}))},a0=(d,p,_)=>Ts(d,(S,N)=>Ad(d,N,p,_)?[]:[Ml(S,p)]),AE=(d,p,_)=>{const S=d[p];return Ts(S.cells,(N,H)=>Ad(d,p,H,_)?[]:[N])},c0=(d,p,_,S,N)=>{const H=ji(d).rows,X=Ts(p,We=>a0(H,We,S)),ae=Nt(H,We=>lm(We.cells)),ve=xE(X,ae),Ae=Rc(_,ae);return Av(d,X,S,N,hm,Ae,ve)},OE=(d,p,_,S,N,H,X)=>{const{cols:ae,rows:ve}=ji(d),Ae=ve[p[0]],We=Ts(p,gt=>AE(ve,gt,N)),Mt=Nt(Ae.cells,(gt,mn)=>lm(a0(ve,mn,N))),Jt=[...ve];Ve(p,gt=>{Jt[gt]=X.transformRow(ve[gt],_)});const jt=[...ae,...Jt],vt=ch(Ae,Mt),Qt=Da(S,Mt);return Av(jt,We,N,H,X.transformCell,Qt,vt)},qc=(d,p,_,S)=>{const N=ji(d).rows,H=Nt(p,X=>Ml(N[X.row],X.column));return Av(d,H,_,S,hm,he.none,Pe)},fr={generate:d=>{if(!G(d))throw new Error("cases must be an array");if(d.length===0)throw new Error("there must be at least one case");const p=[],_={};return Ve(d,(S,N)=>{const H=En(S);if(H.length!==1)throw new Error("one and only one name per case");const X=H[0],ae=S[X];if(_[X]!==void 0)throw new Error("duplicate key detected:"+X);if(X==="cata")throw new Error("cannot have a case named cata (sorry)");if(!G(ae))throw new Error("case arguments must be an array");p.push(X),_[X]=(...ve)=>{const Ae=ve.length;if(Ae!==ae.length)throw new Error("Wrong number of arguments to case "+X+". Expected "+ae.length+" ("+ae+"), got "+Ae);return{fold:(...Mt)=>{if(Mt.length!==d.length)throw new Error("Wrong number of arguments to fold. Expected "+d.length+", got "+Mt.length);return Mt[N].apply(null,ve)},match:Mt=>{const Jt=En(Mt);if(p.length!==Jt.length)throw new Error("Wrong number of arguments to match. Expected: "+p.join(",")+`
Actual: `+Jt.join(","));if(!ys(p,vt=>Tt(Jt,vt)))throw new Error("Not all branches were specified when using match. Specified: "+Jt.join(", ")+`
Required: `+p.join(", "));return Mt[X].apply(null,ve)},log:Mt=>{console.log(Mt,{constructors:p,constructor:X,params:ve})}}}}),_}},Wu={...fr.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},Yw=(d,p)=>d.length===0?Wu.none():d.length===1?Wu.only(0):p===0?Wu.left(0,1):p===d.length-1?Wu.right(p-1,p):p>0&&p<d.length-1?Wu.middle(p-1,p,p+1):Wu.none(),RE=(d,p,_,S,N)=>{const H=d.slice(0),X=Yw(d,p),ae=ne(Nt(H,ne(0))),ve=Jt=>S.singleColumnWidth(H[Jt],_),Ae=(Jt,jt)=>N.calcLeftEdgeDeltas(H,Jt,jt,_,S.minCellWidth(),S.isRelative),We=(Jt,jt,vt)=>N.calcMiddleDeltas(H,Jt,jt,vt,_,S.minCellWidth(),S.isRelative),Mt=(Jt,jt)=>N.calcRightEdgeDeltas(H,Jt,jt,_,S.minCellWidth(),S.isRelative);return X.fold(ae,ve,Ae,We,Mt)},l0=(d,p,_)=>{let S=0;for(let N=d;N<p;N++)S+=_[N]!==void 0?_[N]:0;return S},mm=(d,p)=>{const _=ce.justCells(d);return Nt(_,S=>{const N=l0(S.column,S.column+S.colspan,p);return{element:S.element,width:N,colspan:S.colspan}})},u0=(d,p)=>{const _=ce.justColumns(d);return Nt(_,(S,N)=>({element:S.element,width:p[N],colspan:S.colspan}))},Ng=(d,p)=>{const _=ce.justCells(d);return Nt(_,S=>{const N=l0(S.row,S.row+S.rowspan,p);return{element:S.element,height:N,rowspan:S.rowspan}})},gm=(d,p)=>Nt(d.all,(_,S)=>({element:_.element,height:p[S]})),Kw=d=>Fo(d,(p,_)=>p+_,0),qp=(d,p)=>ce.hasColumns(d)?u0(d,p):mm(d,p),jp=(d,p,_)=>{const S=qp(d,p);Ve(S,N=>{_.setElementWidth(N.element,N.width)})},d0=(d,p,_,S,N)=>{const H=ce.fromTable(d),X=N.getCellDelta(p),ae=N.getWidths(H,N),ve=_===H.grid.columns-1,Ae=S.clampTableDelta(ae,_,X,N.minCellWidth(),ve),We=RE(ae,_,Ae,N,S),Mt=Nt(We,(Jt,jt)=>Jt+ae[jt]);jp(H,Mt,N),S.resizeTable(N.adjustTableWidth,Ae,ve)},Ov=(d,p,_,S)=>{const N=ce.fromTable(d),H=Ac(N,d,S),X=Nt(H,(We,Mt)=>_===Mt?Math.max(p+We,Gf()):We),ae=Ng(N,X),ve=gm(N,X);Ve(ve,We=>{wr(We.element,We.height)}),Ve(ae,We=>{wr(We.element,We.height)});const Ae=Kw(X);wr(d,Ae)},Pg=(d,p,_,S,N)=>{const H=ce.generate(p),X=S.getWidths(H,S),ae=S.pixelWidth(),{newSizes:ve,delta:Ae}=N.calcRedestributedWidths(X,ae,_.pixelDelta,S.isRelative);jp(H,ve,S),S.adjustTableWidth(Ae)},Rv=(d,p,_,S)=>{const N=ce.generate(p),H=S.getWidths(N,S);jp(N,H,S)},lh=d=>je(d,(_,S)=>Xe(_,H=>H.column===S.column)?_:_.concat([S]),[]).sort((_,S)=>_.column-S.column),Lg=Ri("col"),IE=Ri("colgroup"),DE=d=>Is(d)==="tr"||IE(d),Yp=d=>{const p=Lr(d,"colspan",1),_=Lr(d,"rowspan",1);return{element:d,colspan:p,rowspan:_}},Gu=(d,p=Yp)=>{const _=ae=>Lg(ae.element)?d.col(ae):d.cell(ae),S=ae=>IE(ae.element)?d.colgroup(ae):d.row(ae),N=ae=>{if(DE(ae))return S({element:ae});{const ve=ae,Ae=_(p(ve));return H=he.some({item:ve,replacement:Ae}),Ae}};let H=he.none();return{getOrInit:(ae,ve)=>H.fold(()=>N(ae),Ae=>ve(ae,Ae.item)?Ae.replacement:N(ae))}},Vl=d=>p=>{const _=[],S=(X,ae)=>ee(_,ve=>ae(ve.item,X)),N=X=>{const ae=d==="td"?{scope:null}:{},ve=p.replace(X,d,ae);return _.push({item:X,sub:ve}),ve};return{replaceOrInit:(X,ae)=>{if(DE(X)||Lg(X))return X;{const ve=X;return S(ve,ae).fold(()=>N(ve),Ae=>ae(X,Ae.item)?Ae.sub:N(ve))}}}},Kp=d=>_c(d,"scope").map(p=>p.substr(0,3)),rr={modification:Gu,transform:Vl,merging:d=>({unmerge:S=>{const N=Kp(S);return N.each(H=>Rr(S,"scope",H)),()=>{const H=d.cell({element:S,colspan:1,rowspan:1});return Vc(H,"width"),Vc(S,"width"),N.each(X=>Rr(H,"scope",X)),H}},merge:S=>{const N=()=>{const H=lr(Nt(S,Kp));if(H.length===0)return he.none();{const X=H[0],ae=["row","col"];return Xe(H,Ae=>Ae!==X&&Tt(ae,Ae))?he.none():he.from(X)}};return Vc(S[0],"width"),N().fold(()=>xr(S[0],"scope"),H=>Rr(S[0],"scope",H+"group")),ne(S[0])}})},pm=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],f0=(d,p)=>{const _=d.property().name(p);return Tt(["ol","ul"],_)},Hs=(d,p)=>{const _=d.property().name(p);return Tt(pm,_)},vu=(d,p)=>Tt(["br","img","hr","input"],d.property().name(p)),Xp=fu(),Ti=d=>Hs(Xp,d),bu=d=>f0(Xp,d),h0=d=>vu(Xp,d),ME=d=>{const p=Ri("br"),_=ve=>ys(ve,Ae=>p(Ae)||Ou(Ae)&&Uc(Ae).trim().length===0),S=ve=>Is(ve)==="li"||Re(ve,bu).isSome(),N=ve=>Kd(ve).map(Ae=>Ti(Ae)?!0:h0(Ae)?Is(Ae)!=="img":!1).getOr(!1),H=ve=>lv(ve).bind(Ae=>{const We=N(Ae);return Iu(Ae).map(Mt=>We===!0||S(Mt)||p(Ae)||Ti(Mt)&&!Ls(ve,Mt)?[]:[Ze.fromTag("br")])}).getOr([]),ae=(()=>{const ve=Ts(d,Ae=>{const We=Es(Ae);return _(We)?[]:We.concat(H(Ae))});return ve.length===0?[Ze.fromTag("br")]:ve})();Di(d[0]),sc(d[0],ae)},Iv=d=>wi(d,!0),vm=d=>{gd(d).length===0&&bi(d)},uh=(d,p)=>({grid:d,cursor:p}),Dv=d=>Ui(d,p=>Ui(p.cells,_=>{const S=_.element;return cs(Iv(S),S)})),Qp=(d,p,_)=>{var S,N;const H=ji(d).rows;return he.from((N=(S=H[p])===null||S===void 0?void 0:S.cells[_])===null||N===void 0?void 0:N.element).filter(Iv).orThunk(()=>Dv(H))},Ya=(d,p,_)=>{const S=Qp(d,p,_);return uh(d,S)},Jp=d=>je(d,(_,S)=>Xe(_,H=>H.row===S.row)?_:_.concat([S]),[]).sort((_,S)=>_.row-S.row),m0=(d,p,_,S)=>{const N=p[0].row,H=Jp(p),X=Fo(H,(ae,ve)=>({grid:r0(ae.grid,N,ve.row+ae.delta,_,S.getOrInit),delta:ae.delta+1}),{grid:d,delta:0}).grid;return Ya(X,N,p[0].column)},e1=(d,p,_,S)=>{const N=Jp(p),H=N[N.length-1],X=H.row+H.rowspan,ae=Fo(N,(ve,Ae)=>r0(ve,X,Ae.row,_,S.getOrInit),d);return Ya(ae,X,p[0].column)},yf=(d,p,_,S)=>{const N=p.details,H=lh(N),X=H[0].column,ae=Fo(H,(ve,Ae)=>({grid:i0(ve.grid,X,Ae.column+ve.delta,_,S.getOrInit),delta:ve.delta+1}),{grid:d,delta:0}).grid;return Ya(ae,N[0].row,X)},Ka=(d,p,_,S)=>{const N=p.details,H=N[N.length-1],X=H.column+H.colspan,ae=lh(N),ve=Fo(ae,(Ae,We)=>i0(Ae,X,We.column,_,S.getOrInit),d);return Ya(ve,N[0].row,X)},Xw=(d,p,_,S)=>{const N=lh(p),H=Nt(N,ae=>ae.column),X=c0(d,H,!0,_,S.replaceOrInit);return Ya(X,p[0].row,p[0].column)},Pi=(d,p,_,S)=>{const N=qc(d,p,_,S.replaceOrInit);return Ya(N,p[0].row,p[0].column)},Mv=(d,p,_,S)=>{const N=lh(p),H=Nt(N,ae=>ae.column),X=c0(d,H,!1,_,S.replaceOrInit);return Ya(X,p[0].row,p[0].column)},Rd=(d,p,_,S)=>{const N=qc(d,p,_,S.replaceOrInit);return Ya(N,p[0].row,p[0].column)},t1=(d,p)=>(_,S,N,H,X)=>{const ae=Jp(S),ve=Nt(ae,We=>We.row),Ae=OE(_,ve,d,p,N,H.replaceOrInit,X);return Ya(Ae,S[0].row,S[0].column)},kE=t1("thead",!0),g0=t1("tbody",!1),p0=t1("tfoot",!1),v0=(d,p,_,S)=>{const N=lh(p.details),H=qw(d,Nt(N,ae=>ae.column)),X=H.length>0?H[0].cells.length-1:0;return Ya(H,N[0].row,Math.min(N[0].column,X))},b0=(d,p,_,S)=>{const N=Jp(p),H=jw(d,N[0].row,N[N.length-1].row),X=H.length>0?H.length-1:0;return Ya(H,Math.min(p[0].row,X),p[0].column)},NE=(d,p,_,S)=>{const N=p.cells;ME(N);const H=hs(d,p.bounds,_,S.merge(N));return uh(H,he.from(N[0]))},Qw=(d,p,_,S)=>{const H=Fo(p,(X,ae)=>yE(X,ae,_,S.unmerge(ae)),d);return uh(H,he.from(p[0]))},Li=(d,p,_,S)=>{const H=((ve,Ae)=>{const We=ce.fromTable(ve);return Dg(We,Ae,!0)})(p.clipboard,p.generators),X=Op(p.row,p.column);return CE(X,d,H,p.generators,_).fold(()=>uh(d,he.some(p.element)),ve=>Ya(ve,p.row,p.column))},li=(d,p,_)=>{const S=vd(d,_.section),N=ce.generate(S);return Dg(N,p,!0)},gc=(d,p,_,S)=>{const N=ji(d).rows,H=p.cells[0].column,X=N[p.cells[0].row],ae=li(p.clipboard,p.generators,X),ve=s0(H,d,ae,p.generators,_);return Ya(ve,p.cells[0].row,p.cells[0].column)},jc=(d,p,_,S)=>{const N=ji(d).rows,H=p.cells[p.cells.length-1].column+p.cells[p.cells.length-1].colspan,X=N[p.cells[0].row],ae=li(p.clipboard,p.generators,X),ve=s0(H,d,ae,p.generators,_);return Ya(ve,p.cells[0].row,p.cells[0].column)},vs=(d,p,_,S)=>{const N=ji(d).rows,H=p.cells[0].row,X=N[H],ae=li(p.clipboard,p.generators,X),ve=TE(H,d,ae,p.generators,_);return Ya(ve,p.cells[0].row,p.cells[0].column)},Xi=(d,p,_,S)=>{const N=ji(d).rows,H=p.cells[p.cells.length-1].row+p.cells[p.cells.length-1].rowspan,X=N[p.cells[0].row],ae=li(p.clipboard,p.generators,X),ve=TE(H,d,ae,p.generators,_);return Ya(ve,p.cells[0].row,p.cells[0].column)},yu=(d,p)=>{const _=ce.fromTable(d);return rh(_,p).bind(N=>{const H=N[N.length-1],X=N[0].column,ae=H.column+H.colspan,ve=so(Nt(_.all,Ae=>Jn(Ae.cells,We=>We.column>=X&&We.column<ae)));return oh(ve)}).getOr("")},Ef=(d,p)=>{const _=ce.fromTable(d);return rh(_,p).bind(oh).getOr("")},Ko=(d,p)=>{const _=ce.fromTable(d);return rh(_,p).bind(N=>{const H=N[N.length-1],X=N[0].row,ae=H.row+H.rowspan,ve=_.all.slice(X,ae);return Wp(ve)}).getOr("")},kv=(d,p,_,S)=>Rv(d,p,_,S.sizing),pc=(d,p,_,S)=>Pg(d,p,_,S.sizing,S.resize),ui=(d,p)=>Xe(p,_=>_.column===0&&_.isLocked),n1=(d,p)=>Xe(p,_=>_.column+_.colspan>=d.grid.columns&&_.isLocked),Zu=(d,p)=>{const _=qf(d),S=lh(p);return je(S,(N,H)=>{const ae=_[H.column].map(Gh).getOr(0);return N+ae},0)},y0=d=>(p,_)=>rh(p,_).filter(S=>!(d?ui:n1)(p,S)).map(S=>({details:S,pixelDelta:Zu(p,S)})),v2=(d,p)=>pf(d,p).map(_=>({details:_,pixelDelta:-Zu(d,_)})),Nv=d=>(p,_)=>Gp(p,_).filter(S=>!(d?ui:n1)(p,S.cells)),E0=rr.transform("th"),Pv=rr.transform("td"),o1=jr(m0,rh,Ee,Ee,rr.modification),PE=jr(e1,rh,Ee,Ee,rr.modification),un=jr(yf,y0(!0),pc,Ee,rr.modification),Lv=jr(Ka,y0(!1),pc,Ee,rr.modification),s1=jr(v0,v2,pc,vm,rr.modification),di=jr(b0,rh,Ee,vm,rr.modification),Rt=jr(Xw,pf,Ee,Ee,E0),LE=jr(Mv,pf,Ee,Ee,Pv),Bi=jr(kE,pf,Ee,Ee,E0),Jw=jr(g0,pf,Ee,Ee,Pv),BE=jr(p0,pf,Ee,Ee,Pv),$E=jr(Pi,pf,Ee,Ee,E0),Ul=jr(Rd,pf,Ee,Ee,Pv),zl=jr(NE,p2,kv,Ee,rr.merging),Bg=jr(Qw,zu,kv,Ee,rr.merging),Ic=jr(Li,Tv,kv,Ee,rr.modification),r1=jr(gc,Nv(!0),Ee,Ee,rr.modification),i1=jr(jc,Nv(!1),Ee,Ee,rr.modification),qu=jr(vs,Gp,Ee,Ee,rr.modification),gl=jr(Xi,Gp,Ee,Ee,rr.modification),Dc=yu,Xa=Ef,eC=Ko,Bv=(d,p)=>d.dispatch("NewRow",{node:p}),$v=(d,p)=>d.dispatch("NewCell",{node:p}),dh=(d,p,_)=>{d.dispatch("TableModified",{..._,table:p})},FE=(d,p,_,S,N)=>{d.dispatch("TableSelectionChange",{cells:p,start:_,finish:S,otherCells:N})},Fv=d=>{d.dispatch("TableSelectionClear")},_f=(d,p,_,S,N)=>{d.dispatch("ObjectResizeStart",{target:p,width:_,height:S,origin:N})},rs=(d,p,_,S,N)=>{d.dispatch("ObjectResized",{target:p,width:_,height:S,origin:N})},bm={structure:!1,style:!0},Js={structure:!0,style:!1},HE={structure:!0,style:!0},ym=d=>p=>p.options.get(d),hr="100%",Hv=d=>{var p;const _=d.dom,S=(p=_.getParent(d.selection.getStart(),_.isBlock))!==null&&p!==void 0?p:d.getBody();return co(Ze.fromDom(S))+"px"},VE=(d,p)=>ks(d)||!Qa(d)?p:Wl(d)?{...p,width:Hv(d)}:{...p,width:hr},$g=(d,p)=>ks(d)||Qa(d)?p:Wl(d)?{...p,width:Hv(d)}:{...p,width:hr},tC=d=>{const p=d.options.register;p("table_clone_elements",{processor:"string[]"}),p("table_use_colgroups",{processor:"boolean",default:!0}),p("table_header_type",{processor:_=>{const S=Tt(["section","cells","sectionCells","auto"],_);return S?{value:_,valid:S}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),p("table_sizing_mode",{processor:"string",default:"auto"}),p("table_default_attributes",{processor:"object",default:{border:"1"}}),p("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),p("table_column_resizing",{processor:_=>{const S=Tt(["preservetable","resizetable"],_);return S?{value:_,valid:S}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),p("table_resize_bars",{processor:"boolean",default:!0}),p("table_style_by_css",{processor:"boolean",default:!0})},a1=d=>he.from(d.options.get("table_clone_elements")),UE=d=>{const p=d.options.get("object_resizing");return Tt(p.split(","),"table")},zE=ym("table_header_type"),_0=ym("table_column_resizing"),w0=d=>_0(d)==="preservetable",WE=d=>_0(d)==="resizetable",Id=ym("table_sizing_mode"),Vv=d=>Id(d)==="relative",Wl=d=>Id(d)==="fixed",ks=d=>Id(d)==="responsive",Fg=ym("table_resize_bars"),Qa=ym("table_style_by_css"),c1=d=>{const p=d.options,_=p.get("table_default_attributes");return p.isSet("table_default_attributes")?_:$g(d,_)},GE=d=>{const p=d.options,_=p.get("table_default_styles");return p.isSet("table_default_styles")?_:VE(d,_)},Uv=ym("table_use_colgroups"),l1=(d,p)=>Vv(d)?Kf.percentageSize(p):Wl(d)?Kf.pixelSize(p):Kf.getTableSize(p),C0=(d,p,_)=>{const S=Xc=>Is(dc(Xc))==="table",N=Xc=>!S(d)||cm(Xc).rows>1,H=Xc=>!S(d)||cm(Xc).columns>1,X=a1(d),ae=WE(d)?Ee:hc,ve=Xc=>{switch(zE(d)){case"section":return dm.section();case"sectionCells":return dm.sectionCells();case"cells":return dm.cells();default:return dm.getTableSectionType(Xc,"section")}},Ae=(Xc,Z2)=>Z2.cursor.fold(()=>{const sb=gd(Xc);return lt(sb).filter(Gr).map(Qu=>{_.clearSelectedCells(Xc.dom);const ec=d.dom.createRng();return ec.selectNode(Qu.dom),d.selection.setRng(ec),Rr(Qu,"data-mce-selected","1"),ec})},sb=>{const Qu=Sd(sb),ec=d.dom.createRng();return ec.setStart(Qu.element.dom,Qu.offset),ec.setEnd(Qu.element.dom,Qu.offset),d.selection.setRng(ec),_.clearSelectedCells(Xc.dom),he.some(ec)}),We=(Xc,Z2,sb,Qu)=>(ec,Ju,q2=!1)=>{Gc(ec);const j2=Ze.fromDom(d.getDoc()),NR=Qf(sb,j2,X),PR={sizing:l1(d,ec),resize:WE(d)?Ag():Og(),section:ve(ec)};return Z2(ec)?Xc(ec,Ju,NR,PR).bind(pT=>{p.refresh(ec.dom),Ve(pT.newRows,O1=>{Bv(d,O1.dom)}),Ve(pT.newCells,O1=>{$v(d,O1.dom)});const rb=Ae(ec,pT);return Gr(ec)&&(Gc(ec),q2||dh(d,ec.dom,Qu)),rb.map(O1=>({rng:O1,effect:Qu}))}):he.none()},Mt=We(di,N,Ee,Js),Jt=We(s1,H,Ee,Js),jt=We(o1,Pe,Ee,Js),vt=We(PE,Pe,Ee,Js),Qt=We(un,Pe,ae,Js),gt=We(Lv,Pe,ae,Js),mn=We(zl,Pe,Ee,Js),Un=We(Bg,Pe,Ee,Js),ro=We(r1,Pe,Ee,Js),Gs=We(i1,Pe,Ee,Js),ka=We(qu,Pe,Ee,Js),Hr=We(gl,Pe,Ee,Js),ql=We(Ic,Pe,Ee,HE),Kg=We($E,Pe,Ee,Js),sy=We(Ul,Pe,Ee,Js),gT=We(Rt,Pe,Ee,Js),N_=We(LE,Pe,Ee,Js),Ns=We(Bi,Pe,Ee,Js),Yc=We(Jw,Pe,Ee,Js),Kc=We(BE,Pe,Ee,Js);return{deleteRow:Mt,deleteColumn:Jt,insertRowsBefore:jt,insertRowsAfter:vt,insertColumnsBefore:Qt,insertColumnsAfter:gt,mergeCells:mn,unmergeCells:Un,pasteColsBefore:ro,pasteColsAfter:Gs,pasteRowsBefore:ka,pasteRowsAfter:Hr,pasteCells:ql,makeCellsHeader:Kg,unmakeCellsHeader:sy,makeColumnsHeader:gT,unmakeColumnsHeader:N_,makeRowsHeader:Ns,makeRowsBody:Yc,makeRowsFooter:Kc,getTableRowType:eC,getTableCellType:Xa,getTableColType:Dc}},ZE=(d,p,_)=>{const S=Lr(d,p,1);_===1||S<=1?xr(d,p):Rr(d,p,Math.min(_,S))},Ma=(d,p)=>_=>{const S=_.column+_.colspan-1,N=_.column;return S>=d&&N<p},pl=(d,p,_)=>{if(ce.hasColumns(d)){const S=Jn(ce.justColumns(d),Ma(p,_)),N=Nt(S,X=>{const ae=Bc(X.element);return ZE(ae,"span",_-p),ae}),H=Ze.fromTag("colgroup");return sc(H,N),[H]}else return[]},nC=(d,p,_)=>Nt(d.all,S=>{const N=Jn(S.cells,Ma(p,_)),H=Nt(N,ae=>{const ve=Bc(ae.element);return ZE(ve,"colspan",_-p),ve}),X=Ze.fromTag("tr");return sc(X,H),X}),oC=(d,p)=>{const _=ce.fromTable(d);return pf(_,p).map(N=>{const H=N[N.length-1],X=N[0].column,ae=H.column+H.colspan,ve=pl(_,X,ae),Ae=nC(_,X,ae);return[...ve,...Ae]})},sC=(d,p,_)=>{const S=ce.fromTable(d);return rh(S,p).bind(H=>{const X=Dg(S,_,!1),ve=ji(X).rows.slice(H[0].row,H[H.length-1].row+H[H.length-1].rowspan),Ae=Ts(ve,Mt=>{const Jt=Jn(Mt.cells,jt=>!jt.isLocked);return Jt.length>0?[{...Mt,cells:Jt}]:[]}),We=ci(Ae);return cs(We.length>0,We)}).map(H=>e0(H))},Em=fr.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),T0=(d,p,_)=>{const S=_.substring(0,_.length-d.length),N=parseFloat(S);return S===N.toString()?p(N):Em.invalid(_)},_m={...Em,from:d=>To(d,"%")?T0("%",Em.percent,d):To(d,"px")?T0("px",Em.pixels,d):Em.invalid(d)},qE=(d,p)=>Nt(d,_=>_m.from(_).fold(()=>_,N=>N/p*100+"%",N=>N+"%")),rC=(d,p,_)=>{const S=_/p;return Nt(d,N=>_m.from(N).fold(()=>N,X=>X*S+"px",X=>X/100*_+"px"))},iC=(d,p)=>{const _=d.fold(()=>ne(""),S=>{const N=S/p;return ne(N+"px")},()=>{const S=100/p;return ne(S+"%")});return Vt(p,_)},x0=(d,p,_)=>d.fold(()=>p,S=>rC(p,_,S),S=>qE(p,_)),A0=(d,p,_)=>{const S=_m.from(_),N=ys(d,H=>H==="0px")?iC(S,d.length):x0(S,d,p);return cC(N)},fh=(d,p)=>d.length===0?p:Fo(d,(_,S)=>_m.from(S).fold(ne(0),Le,Le)+_,0),jE=(d,p)=>{const _=Math.floor(d);return{value:_+p,remainder:d-_}},aC=(d,p)=>_m.from(d).fold(ne(d),_=>_+p+"px",_=>_+p+"%"),cC=d=>{if(d.length===0)return d;const p=Fo(d,(S,N)=>{const H=_m.from(N).fold(()=>({value:N,remainder:0}),X=>jE(X,"px"),X=>({value:X+"%",remainder:0}));return{output:[H.value].concat(S.output),remainder:S.remainder+H.remainder}},{output:[],remainder:0}),_=p.output;return _.slice(0,_.length-1).concat([aC(_[_.length-1],Math.round(p.remainder))])},lC=_m.from,ju=(d,p,_)=>{Ve(p,S=>{const N=d.slice(S.column,S.colspan+S.column),H=fh(N,Ea());Jo(S.element,"width",H+_)})},zv=(d,p,_)=>{Ve(p,(S,N)=>{const H=fh([d[N]],Ea());Jo(S.element,"width",H+_)})},wm=(d,p,_,S)=>{Ve(_,N=>{const H=d.slice(N.row,N.rowspan+N.row),X=fh(H,Gf());Jo(N.element,"height",X+S)}),Ve(p,(N,H)=>{Jo(N.element,"height",d[H])})},Wv=d=>lC(d).fold(ne("px"),ne("px"),ne("%")),YE=(d,p,_)=>{const S=ce.fromTable(d),N=S.all,H=ce.justCells(S),X=ce.justColumns(S);p.each(ae=>{const ve=Wv(ae),Ae=Dl(d),We=cE(S,d),Mt=A0(We,Ae,ae);ce.hasColumns(S)?zv(Mt,X,ve):ju(Mt,H,ve),Jo(d,"width",ae)}),_.each(ae=>{const ve=Wv(ae),Ae=Va(d),We=Xh(S,d,kl),Mt=A0(We,Ae,ae);wm(Mt,N,H,ve),Jo(d,"height",ae)})},Dd=lc,u1=ll,O0=aE,Yu=d=>{xr(d,"width")},hh=d=>{const p=cu(d);YE(d,he.some(p),he.none()),Yu(d)},R0=d=>{const p=Ir(d);YE(d,he.some(p),he.none()),Yu(d)},KE=d=>{Vc(d,"width");const p=Wh(d),_=p.length>0?p:gd(d);Ve(_,S=>{Vc(S,"width"),Yu(S)}),Yu(d)},uC={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},dC=()=>Ze.fromTag("th"),I0=()=>Ze.fromTag("td"),fC=()=>Ze.fromTag("col"),hC=(d,p,_,S)=>{const N=Ze.fromTag("tr");for(let H=0;H<d;H++){const X=S<p||H<_?dC():I0();H<_&&Rr(X,"scope","row"),S<p&&Rr(X,"scope","col"),vr(X,Ze.fromTag("br")),vr(N,X)}return N},XE=d=>{const p=Ze.fromTag("colgroup");return Vt(d,()=>vr(p,fC())),p},QE=(d,p,_,S)=>Vt(d,N=>hC(p,_,S,N)),Gv=(d,p,_,S,N,H=uC)=>{const X=Ze.fromTag("table"),ae=N!=="cells";ur(X,H.styles),ol(X,H.attributes),H.colGroups&&vr(X,XE(p));const ve=Math.min(d,_);if(ae&&_>0){const jt=Ze.fromTag("thead");vr(X,jt);const Qt=QE(_,p,N==="sectionCells"?ve:0,S);sc(jt,Qt)}const Ae=Ze.fromTag("tbody");vr(X,Ae);const We=ae?d-ve:d,Jt=QE(We,p,ae?0:_,S);return sc(Ae,Jt),X},mC=d=>d.dom.innerHTML,gC=d=>{const p=Ze.fromTag("div"),_=Ze.fromDom(d.dom.cloneNode(!0));return vr(p,_),mC(p)},pC=(d,p)=>{d.selection.select(p.dom,!0),d.selection.collapse(!0)},JE=(d,p)=>{Zn(p,"td,th").each($(pC,d))},D0=(d,p)=>{Ve(fe(p,"tr"),_=>{Bv(d,_.dom),Ve(fe(_,"th,td"),S=>{$v(d,S.dom)})})},e_=d=>D(d)&&d.indexOf("%")!==-1,vC=(d,p,_,S,N)=>{const H=GE(d),X={styles:H,attributes:c1(d),colGroups:Uv(d)};return d.undoManager.ignore(()=>{const ae=Gv(_,p,N,S,zE(d),X);Rr(ae,"data-mce-id","__mce");const ve=gC(ae);d.insertContent(ve),d.addVisual()}),Zn(dc(d),'table[data-mce-id="__mce"]').map(ae=>(Wl(d)?R0(ae):ks(d)?KE(ae):(Vv(d)||e_(H.width))&&hh(ae),Gc(ae),xr(ae,"data-mce-id"),D0(d,ae),JE(d,ae),ae.dom)).getOrNull()},t_=(d,p,_,S={})=>{const N=H=>de(H)&&H>0;if(N(p)&&N(_)){const H=S.headerRows||0,X=S.headerColumns||0;return vC(d,_,p,X,H)}else return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var d1=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const M0="x-tinymce/dom-table-",k0=M0+"rows",Hg=M0+"columns",Zv=d=>{const p=d1.FakeClipboardItem(d);d1.write([p])},f1=d=>{var p;const _=(p=d1.read())!==null&&p!==void 0?p:[];return Ui(_,S=>he.from(S.getType(d)))},N0=d=>{f1(d).isSome()&&d1.clear()},P0=d=>{d.fold(Cm,p=>Zv({[k0]:p}))},n_=()=>f1(k0),Cm=()=>N0(k0),o_=d=>{d.fold(bC,p=>Zv({[Hg]:p}))},Tm=()=>f1(Hg),bC=()=>N0(Hg),L0=d=>zp(yg(d),dl(d)).filter(fc),s_=d=>nh(yg(d),dl(d)).filter(fc),vl=(d,p)=>{const _=dl(d),S=()=>L0(d).each(gt=>{Ei(gt,_).filter(ye(_)).each(mn=>{const Un=Ze.fromText("");if(Lc(mn,Un),bi(mn),d.dom.isEmpty(d.getBody()))d.setContent(""),d.selection.setCursorLocation();else{const ro=d.dom.createRng();ro.setStart(Un.dom,0),ro.setEnd(Un.dom,0),d.selection.setRng(ro),d.nodeChanged()}})}),N=gt=>L0(d).each(mn=>{ks(d)||Wl(d)||Vv(d)||Ei(mn,_).each(ro=>{gt==="relative"&&!Dd(ro)?hh(ro):gt==="fixed"&&!u1(ro)?R0(ro):gt==="responsive"&&!O0(ro)&&KE(ro),Gc(ro),dh(d,ro.dom,Js)})}),H=gt=>Ei(gt,_),X=gt=>s_(d).bind(mn=>H(mn).map(Un=>gt(Un,mn))),ae=(gt,mn)=>{X(Un=>{d.formatter.toggle("tableclass",{value:mn},Un.dom),dh(d,Un.dom,bm)})},ve=(gt,mn)=>{X(Un=>{const ro=ff(d),ka=ys(ro,Hr=>d.formatter.match("tablecellclass",{value:mn},Hr.dom))?d.formatter.remove:d.formatter.apply;Ve(ro,Hr=>ka("tablecellclass",{value:mn},Hr.dom)),dh(d,Un.dom,bm)})},Ae=()=>{L0(d).each(gt=>{Ei(gt,_).each(mn=>{Ot(mn,"caption").fold(()=>{const Un=Ze.fromTag("caption");vr(Un,Ze.fromText("Caption")),Xd(mn,Un,0),d.selection.setCursorLocation(Un.dom,0)},Un=>{Ri("caption")(gt)&&sg("td",mn).each(ro=>d.selection.setCursorLocation(ro.dom,0)),bi(Un)}),dh(d,mn.dom,Js)})})},We=gt=>{d.focus()},Mt=(gt,mn=!1)=>X((Un,ro)=>{const Gs=rm(ff(d),Un,ro);gt(Un,Gs,mn).each(We)}),Jt=()=>X((gt,mn)=>{const Un=rm(ff(d),gt,mn),ro=Qf(Ee,Ze.fromDom(d.getDoc()),he.none());return sC(gt,Un,ro)}),jt=()=>X((gt,mn)=>{const Un=rm(ff(d),gt,mn);return oC(gt,Un)}),vt=(gt,mn)=>mn().each(Un=>{const ro=Nt(Un,Gs=>Bc(Gs));X((Gs,ka)=>{const Hr=Jf(Ze.fromDom(d.getDoc())),ql=im(ff(d),ka,ro,Hr);gt(Gs,ql).each(We)})}),Qt=gt=>(mn,Un)=>qd(Un,"type").each(ro=>{Mt(gt(ro),Un.no_events)});Os({mceTableSplitCells:()=>Mt(p.unmergeCells),mceTableMergeCells:()=>Mt(p.mergeCells),mceTableInsertRowBefore:()=>Mt(p.insertRowsBefore),mceTableInsertRowAfter:()=>Mt(p.insertRowsAfter),mceTableInsertColBefore:()=>Mt(p.insertColumnsBefore),mceTableInsertColAfter:()=>Mt(p.insertColumnsAfter),mceTableDeleteCol:()=>Mt(p.deleteColumn),mceTableDeleteRow:()=>Mt(p.deleteRow),mceTableCutCol:()=>jt().each(gt=>{o_(gt),Mt(p.deleteColumn)}),mceTableCutRow:()=>Jt().each(gt=>{P0(gt),Mt(p.deleteRow)}),mceTableCopyCol:()=>jt().each(gt=>o_(gt)),mceTableCopyRow:()=>Jt().each(gt=>P0(gt)),mceTablePasteColBefore:()=>vt(p.pasteColsBefore,Tm),mceTablePasteColAfter:()=>vt(p.pasteColsAfter,Tm),mceTablePasteRowBefore:()=>vt(p.pasteRowsBefore,n_),mceTablePasteRowAfter:()=>vt(p.pasteRowsAfter,n_),mceTableDelete:S,mceTableCellToggleClass:ve,mceTableToggleClass:ae,mceTableToggleCaption:Ae,mceTableSizingMode:(gt,mn)=>N(mn),mceTableCellType:Qt(gt=>gt==="th"?p.makeCellsHeader:p.unmakeCellsHeader),mceTableColType:Qt(gt=>gt==="th"?p.makeColumnsHeader:p.unmakeColumnsHeader),mceTableRowType:Qt(gt=>{switch(gt){case"header":return p.makeRowsHeader;case"footer":return p.makeRowsFooter;default:return p.makeRowsBody}})},(gt,mn)=>d.addCommand(mn,gt)),d.addCommand("mceInsertTable",(gt,mn)=>{t_(d,mn.rows,mn.columns,mn.options)}),d.addCommand("mceTableApplyCellStyle",(gt,mn)=>{const Un=ka=>"tablecell"+ka.toLowerCase().replace("-","");if(!V(mn))return;const ro=Jn(ff(d),fc);if(ro.length===0)return;const Gs=ga(mn,(ka,Hr)=>d.formatter.has(Un(Hr))&&D(ka));xl(Gs)||(Os(Gs,(ka,Hr)=>{const ql=Un(Hr);Ve(ro,Kg=>{ka===""?d.formatter.remove(ql,{value:null},Kg.dom,!0):d.formatter.apply(ql,{value:ka},Kg.dom)})}),H(ro[0]).each(ka=>dh(d,ka.dom,bm)))})},B0=(d,p)=>{const _=dl(d),S=N=>nh(yg(d)).bind(H=>Ei(H,_).map(X=>{const ae=rm(ff(d),X,H);return N(X,ae)})).getOr("");Os({mceTableRowType:()=>S(p.getTableRowType),mceTableCellType:()=>S(p.getTableCellType),mceTableColType:()=>S(p.getTableColType)},(N,H)=>d.addQueryValueHandler(H,N))},qv=fr.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),h1=(d,p,_,S)=>d.fold(p,_,S),wf=d=>d.fold(Le,Le,Le),yC=qv.before,m1=qv.on,r_=qv.after,Qi={before:yC,on:m1,after:r_,cata:h1,getStart:wf},Sm={create:(d,p)=>({selection:d,kill:p})},EC=(d,p)=>{const _=d.document.createRange();return _.selectNode(p.dom),_},g1=(d,p)=>{const _=d.document.createRange();return $0(_,p),_},$0=(d,p)=>d.selectNodeContents(p.dom),Vg=(d,p)=>{p.fold(_=>{d.setStartBefore(_.dom)},(_,S)=>{d.setStart(_.dom,S)},_=>{d.setStartAfter(_.dom)})},xm=(d,p)=>{p.fold(_=>{d.setEndBefore(_.dom)},(_,S)=>{d.setEnd(_.dom,S)},_=>{d.setEndAfter(_.dom)})},p1=(d,p,_)=>{const S=d.document.createRange();return Vg(S,p),xm(S,_),S},Md=(d,p,_,S,N)=>{const H=d.document.createRange();return H.setStart(p.dom,_),H.setEnd(S.dom,N),H},F0=d=>({left:d.left,top:d.top,right:d.right,bottom:d.bottom,width:d.width,height:d.height}),fi=d=>{const p=d.getClientRects(),_=p.length>0?p[0]:d.getBoundingClientRect();return _.width>0||_.height>0?he.some(_).map(F0):he.none()},bl=fr.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),jv=(d,p,_)=>p(Ze.fromDom(_.startContainer),_.startOffset,Ze.fromDom(_.endContainer),_.endOffset),a_=(d,p)=>p.match({domRange:_=>({ltr:ne(_),rtl:he.none}),relative:(_,S)=>({ltr:tf(()=>p1(d,_,S)),rtl:tf(()=>he.some(p1(d,S,_)))}),exact:(_,S,N,H)=>({ltr:tf(()=>Md(d,_,S,N,H)),rtl:tf(()=>he.some(Md(d,N,H,_,S)))})}),c_=(d,p)=>{const _=p.ltr();return _.collapsed?p.rtl().filter(N=>N.collapsed===!1).map(N=>bl.rtl(Ze.fromDom(N.endContainer),N.endOffset,Ze.fromDom(N.startContainer),N.startOffset)).getOrThunk(()=>jv(d,bl.ltr,_)):jv(d,bl.ltr,_)},H0=(d,p)=>{const _=a_(d,p);return c_(d,_)},Am=(d,p)=>H0(d,p).match({ltr:(S,N,H,X)=>{const ae=d.document.createRange();return ae.setStart(S.dom,N),ae.setEnd(H.dom,X),ae},rtl:(S,N,H,X)=>{const ae=d.document.createRange();return ae.setStart(H.dom,X),ae.setEnd(S.dom,N),ae}});bl.ltr,bl.rtl;const Om={create:(d,p,_,S)=>({start:d,soffset:p,finish:_,foffset:S})},Ug={create:(d,p,_,S)=>({start:Qi.on(d,p),finish:Qi.on(_,S)})},b1=(d,p)=>{const _=Am(d,p);return Om.create(Ze.fromDom(_.startContainer),_.startOffset,Ze.fromDom(_.endContainer),_.endOffset)},Rm=Ug.create,V0=(d,p,_,S,N,H,X)=>Ls(_,N)&&S===H?he.none():Hn(_,"td,th",p).bind(ae=>Hn(N,"td,th",p).bind(ve=>zg(d,p,ae,ve,X))),zg=(d,p,_,S,N)=>Ls(_,S)?he.none():Cd(_,S,p).bind(H=>{const X=H.boxes.getOr([]);return X.length>1?(N(d,X,H.start,H.finish),he.some(Sm.create(he.some(Rm(_,0,_,Hu(_))),!0))):he.none()}),$i=(d,p,_,S,N)=>{const H=X=>(N.clearBeforeUpdate(_),N.selectRange(_,X.boxes,X.start,X.finish),X.boxes);return Vp(S,d,p,N.firstSelectedSelector,N.lastSelectedSelector).map(H)},U0=(d,p)=>({item:d,mode:p}),Ku=(d,p,_,S=kd)=>d.property().parent(p).map(N=>U0(N,S)),kd=(d,p,_,S=mh)=>_.sibling(d,p).map(N=>U0(N,S)),mh=(d,p,_,S=mh)=>{const N=d.property().children(p);return _.first(N).map(X=>U0(X,S))},Im=[{current:Ku,next:kd,fallback:he.none()},{current:kd,next:mh,fallback:he.some(Ku)},{current:mh,next:mh,fallback:he.some(kd)}],g=(d,p,_,S,N=Im)=>ee(N,X=>X.current===_).bind(X=>X.current(d,p,S,X.next).orThunk(()=>X.fallback.bind(ae=>g(d,p,ae,S)))),W={left:()=>({sibling:(_,S)=>_.query().prevSibling(S),first:_=>_.length>0?he.some(_[_.length-1]):he.none()}),right:()=>({sibling:(_,S)=>_.query().nextSibling(S),first:_=>_.length>0?he.some(_[0]):he.none()})},ie=(d,p,_,S,N,H)=>g(d,p,S,N).bind(ae=>H(ae.item)?he.none():_(ae.item)?he.some(ae.item):ie(d,ae.item,_,ae.mode,N,H)),Te=(d,p,_,S)=>ie(d,p,_,kd,W.left(),S),Ne=(d,p,_,S)=>ie(d,p,_,kd,W.right(),S),He=d=>p=>d.property().children(p).length===0,ut=(d,p,_)=>Gt(d,p,He(d),_),Zt=(d,p,_)=>rn(d,p,He(d),_),Gt=Te,rn=Ne,On=fu(),Qn=(d,p)=>ut(On,d,p),So=(d,p)=>Zt(On,d,p),wo=(d,p,_)=>Gt(On,d,p,_),Eo=(d,p,_)=>rn(On,d,p,_),ws=(d,p,_)=>Re(d,p,_).isSome(),Xo=fr.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),$r=(d,p,_)=>{const S=d.getRect(p),N=d.getRect(_);return N.right>S.left&&N.left<S.right},Fr=d=>Hn(d,"tr"),Ja={...Xo,verify:(d,p,_,S,N,H,X)=>Hn(S,"td,th",X).bind(ae=>Hn(p,"td,th",X).map(ve=>Ls(ae,ve)?Ls(S,ae)&&Hu(ae)===N?H(ve):Xo.none("in same cell"):Zo(Fr,[ae,ve]).fold(()=>$r(d,ve,ae)?Xo.success():H(ve),Ae=>H(ve)))).getOr(Xo.none("default")),cata:(d,p,_,S,N)=>d.fold(p,_,S,N)},As=(d,p,_,S)=>({parent:d,children:p,element:_,index:S}),Nd=d=>Iu(d).bind(p=>{const _=Es(p);return z0(_,d).map(S=>As(p,_,d,S))}),z0=(d,p)=>os(d,$(Ls,p)),y1=Ri("br"),l_=(d,p,_)=>p(d,_).bind(S=>Ou(S)&&Uc(S).trim().length===0?l_(S,p,_):he.some(S)),u_=(d,p,_)=>_.traverse(p).orThunk(()=>l_(p,_.gather,d)).map(_.relative),_C=(d,p)=>pa(d,p).filter(y1).orThunk(()=>pa(d,p-1).filter(y1)),d_=(d,p,_,S)=>_C(p,_).bind(N=>S.traverse(N).fold(()=>l_(N,S.gather,d).map(S.relative),H=>Nd(H).map(X=>Qi.on(X.parent,X.index)))),y2=(d,p,_,S)=>(y1(p)?u_(d,p,S):d_(d,p,_,S)).map(H=>({start:H,finish:H})),cR=d=>Ja.cata(d,p=>he.none(),()=>he.none(),p=>he.some(ai(p,0)),p=>he.some(ai(p,Hu(p)))),gh=(d,p)=>({left:d.left,top:d.top+p,right:d.right,bottom:d.bottom+p}),W0=(d,p)=>({left:d.left,top:d.top-p,right:d.right,bottom:d.bottom-p}),wC=(d,p,_)=>({left:d.left+p,top:d.top+_,right:d.right+p,bottom:d.bottom+_}),ph=d=>d.top,CC=d=>d.bottom,G0=(d,p,_)=>_>=0&&_<Hu(p)?d.getRangedRect(p,_,p,_+1):_>0?d.getRangedRect(p,_-1,p,_):he.none(),Wg=d=>({left:d.left,top:d.top,right:d.right,bottom:d.bottom}),TC=(d,p)=>he.some(d.getRect(p)),E2=(d,p,_)=>nc(p)?TC(d,p).map(Wg):Ou(p)?G0(d,p,_).map(Wg):he.none(),SC=(d,p)=>nc(p)?TC(d,p).map(Wg):Ou(p)?d.getRangedRect(p,0,p,Hu(p)).map(Wg):he.none(),Gg=5,lR=100,vh=fr.generate([{none:[]},{retry:["caret"]}]),Eu=(d,p)=>d.left<p.left||Math.abs(p.right-d.left)<1||d.left>p.right,_2=(d,p,_)=>tt(p,Ti).fold(xt,S=>SC(d,S).exists(N=>Eu(_,N))),f_=(d,p,_,S,N)=>{const H=gh(N,Gg);return Math.abs(_.bottom-S.bottom)<1||_.top>N.bottom?vh.retry(H):_.top===N.bottom?vh.retry(gh(N,1)):_2(d,p,N)?vh.retry(wC(H,Gg,0)):vh.none()},xC={point:ph,adjuster:(d,p,_,S,N)=>{const H=W0(N,Gg);return Math.abs(_.top-S.top)<1||_.bottom<N.top?vh.retry(H):_.bottom===N.top?vh.retry(W0(N,1)):_2(d,p,N)?vh.retry(wC(H,Gg,0)):vh.none()},move:W0,gather:Qn},uR={point:CC,adjuster:f_,move:gh,gather:So},w2=(d,p,_)=>d.elementFromPoint(p,_).filter(S=>Is(S)==="table").isSome(),AC=(d,p,_,S,N)=>h_(d,p,_,p.move(S,Gg),N),h_=(d,p,_,S,N)=>N===0?he.some(S):w2(d,S.left,p.point(S))?AC(d,p,_,S,N-1):d.situsFromPoint(S.left,p.point(S)).bind(H=>H.start.fold(he.none,X=>SC(d,X).bind(ae=>p.adjuster(d,X,ae,_,S).fold(he.none,ve=>h_(d,p,_,ve,N-1))).orThunk(()=>he.some(S)),he.none)),dR=(d,p,_)=>d.point(p)>_.getInnerHeight()?he.some(d.point(p)-_.getInnerHeight()):d.point(p)<0?he.some(-d.point(p)):he.none(),fR=(d,p,_)=>{const S=d.move(_,Gg),N=h_(p,d,_,S,lR).getOr(S);return dR(d,N,p).fold(()=>p.situsFromPoint(N.left,d.point(N)),H=>(p.scrollBy(0,H),p.situsFromPoint(N.left,d.point(N)-H)))},m_={tryUp:$(fR,xC),tryDown:$(fR,uR),getJumpSize:ne(Gg)},C2=20,fN=(d,p,_)=>d.getSelection().bind(S=>y2(p,S.finish,S.foffset,_).fold(()=>he.some(ai(S.finish,S.foffset)),N=>{const H=d.fromSitus(N),X=Ja.verify(d,S.finish,S.foffset,H.finish,H.foffset,_.failure,p);return cR(X)})),Yv=(d,p,_,S,N,H)=>H===0?he.none():Kv(d,p,_,S,N).bind(X=>{const ae=d.fromSitus(X),ve=Ja.verify(d,_,S,ae.finish,ae.foffset,N.failure,p);return Ja.cata(ve,()=>he.none(),()=>he.some(X),Ae=>Ls(_,Ae)&&S===0?Ao(d,_,S,W0,N):Yv(d,p,Ae,0,N,H-1),Ae=>Ls(_,Ae)&&S===Hu(Ae)?Ao(d,_,S,gh,N):Yv(d,p,Ae,Hu(Ae),N,H-1))}),Ao=(d,p,_,S,N)=>E2(d,p,_).bind(H=>Dm(d,N,S(H,m_.getJumpSize()))),Dm=(d,p,_)=>{const S=Ks().browser;return S.isChromium()||S.isSafari()||S.isFirefox()?p.retry(d,_):he.none()},Kv=(d,p,_,S,N)=>E2(d,_,S).bind(H=>Dm(d,N,H)),OC=(d,p,_)=>fN(d,p,_).bind(S=>Yv(d,p,S.element,S.offset,_,C2).map(d.fromSitus)),hR=(d,p)=>ws(d,_=>Iu(_).exists(S=>Ls(S,p))),q0=(d,p,_,S,N)=>Hn(S,"td,th",p).bind(H=>Hn(H,"table",p).bind(X=>hR(N,X)?OC(d,p,_).bind(ae=>Hn(ae.finish,"td,th",p).map(ve=>({start:H,finish:ve,range:ae}))):he.none())),E1=(d,p,_,S,N,H)=>H(S,p).orThunk(()=>q0(d,p,_,S,N).map(X=>{const ae=X.range;return Sm.create(he.some(Rm(ae.start,ae.soffset,ae.finish,ae.foffset)),!0)})),_1=(d,p)=>Hn(d,"tr",p).bind(_=>Hn(_,"table",p).bind(S=>{const N=fe(S,"tr");return Ls(_,N[0])?wo(S,H=>lv(H).isSome(),p).map(H=>{const X=Hu(H);return Sm.create(he.some(Rm(H,X,H,X)),!0)}):he.none()})),RC=(d,p)=>Hn(d,"tr",p).bind(_=>Hn(_,"table",p).bind(S=>{const N=fe(S,"tr");return Ls(_,N[N.length-1])?Eo(S,H=>rf(H).isSome(),p).map(H=>Sm.create(he.some(Rm(H,0,H,0)),!0)):he.none()})),IC=(d,p,_,S,N,H,X)=>q0(d,_,S,N,H).bind(ae=>zg(p,_,ae.start,ae.finish,X)),DC=d=>{let p=d;return{get:()=>p,set:N=>{p=N}}},T2=d=>{const p=DC(he.none()),_=()=>p.get().each(d);return{clear:()=>{_(),p.set(he.none())},isSet:()=>p.get().isSome(),get:()=>p.get(),set:ae=>{_(),p.set(he.some(ae))}}},j0=()=>{const d=T2(Ee);return{...d,on:_=>d.get().each(_)}},g_=(d,p)=>Hn(d,"td,th",p),MC=d=>oc(d).exists(wi),kC=(d,p,_,S)=>{const N=j0(),H=N.clear,X=We=>{N.on(Mt=>{S.clearBeforeUpdate(p),g_(We.target,_).each(Jt=>{Cd(Mt,Jt,_).each(jt=>{const vt=jt.boxes.getOr([]);if(vt.length===1){const Qt=vt[0],gt=dv(Qt)==="false",mn=vn(Wc(We.target),Qt,Ls);gt&&mn&&(S.selectRange(p,vt,Qt,Qt),d.selectContents(Qt))}else vt.length>1&&(S.selectRange(p,vt,jt.start,jt.finish),d.selectContents(Jt))})})})};return{clearstate:H,mousedown:We=>{S.clear(p),g_(We.target,_).filter(MC).each(N.set)},mouseover:We=>{X(We)},mouseup:We=>{X(We),H()}}},p_={traverse:Kd,gather:So,relative:Qi.before,retry:m_.tryDown,failure:Ja.failedDown},Y0={traverse:eu,gather:Qn,relative:Qi.before,retry:m_.tryUp,failure:Ja.failedUp},Mm=d=>p=>p===d,S2=Mm(38),bh=Mm(40),Zg=d=>d>=37&&d<=40,mR={isBackward:Mm(37),isForward:Mm(39)},x2={isBackward:Mm(39),isForward:Mm(37)},NC=d=>{const p=d!==void 0?d.dom:document,_=p.body.scrollLeft||p.documentElement.scrollLeft,S=p.body.scrollTop||p.documentElement.scrollTop;return Pu(_,S)},Xv=(d,p,_)=>{const N=(_!==void 0?_.dom:document).defaultView;N&&N.scrollBy(d,p)},Qv=fr.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),gR=d=>Qv.exact(d.start,d.soffset,d.finish,d.foffset),pR=d=>d.match({domRange:p=>Ze.fromDom(p.startContainer),relative:(p,_)=>Qi.getStart(p),exact:(p,_,S,N)=>p}),A2=Qv.domRange,qg=Qv.relative,PC=Qv.exact,LC=d=>{const p=pR(d);return vi(p)},v_=Om.create,w1={domRange:A2,relative:qg,exact:PC,exactFromRange:gR,getWin:LC,range:v_},b_=(d,p,_)=>{var S,N;return he.from((N=(S=d.dom).caretPositionFromPoint)===null||N===void 0?void 0:N.call(S,p,_)).bind(H=>{if(H.offsetNode===null)return he.none();const X=d.dom.createRange();return X.setStart(H.offsetNode,H.offset),X.collapse(),he.some(X)})},on=(d,p,_)=>{var S,N;return he.from((N=(S=d.dom).caretRangeFromPoint)===null||N===void 0?void 0:N.call(S,p,_))},da=(()=>document.caretPositionFromPoint?b_:document.caretRangeFromPoint?on:he.none)(),y_=(d,p,_)=>{const S=Ze.fromDom(d.document);return da(S,p,_).map(N=>Om.create(Ze.fromDom(N.startContainer),N.startOffset,Ze.fromDom(N.endContainer),N.endOffset))},mr=(d,p)=>{const _=Is(d);return _==="input"?Qi.after(d):Tt(["br","img"],_)?p===0?Qi.before(d):Qi.after(d):Qi.on(d,p)},Pd=(d,p)=>{const _=d.fold(Qi.before,mr,Qi.after),S=p.fold(Qi.before,mr,Qi.after);return w1.relative(_,S)},O2=(d,p,_,S)=>{const N=mr(d,p),H=mr(_,S);return w1.relative(N,H)},yl=(d,p,_,S)=>{const H=oa(d).dom.createRange();return H.setStart(d.dom,p),H.setEnd(_.dom,S),H},Fi=(d,p,_,S)=>{const N=yl(d,p,_,S),H=Ls(d,_)&&p===S;return N.collapsed&&!H},E_=d=>he.from(d.getSelection()),__=(d,p)=>{E_(d).each(_=>{_.removeAllRanges(),_.addRange(p)})},km=(d,p,_,S,N)=>{const H=Md(d,p,_,S,N);__(d,H)},R2=(d,p,_,S,N,H)=>{p.collapse(_.dom,S),p.extend(N.dom,H)},BC=(d,p)=>H0(d,p).match({ltr:(_,S,N,H)=>{km(d,_,S,N,H)},rtl:(_,S,N,H)=>{E_(d).each(X=>{if(X.setBaseAndExtent)X.setBaseAndExtent(_.dom,S,N.dom,H);else if(X.extend)try{R2(d,X,_,S,N,H)}catch{km(d,N,H,_,S)}else km(d,N,H,_,S)})}}),I2=(d,p,_,S,N)=>{const H=O2(p,_,S,N);BC(d,H)},$C=(d,p,_)=>{const S=Pd(p,_);BC(d,S)},FC=d=>{if(d.rangeCount>0){const p=d.getRangeAt(0),_=d.getRangeAt(d.rangeCount-1);return he.some(Om.create(Ze.fromDom(p.startContainer),p.startOffset,Ze.fromDom(_.endContainer),_.endOffset))}else return he.none()},HC=d=>{if(d.anchorNode===null||d.focusNode===null)return FC(d);{const p=Ze.fromDom(d.anchorNode),_=Ze.fromDom(d.focusNode);return Fi(p,d.anchorOffset,_,d.focusOffset)?he.some(Om.create(p,d.anchorOffset,_,d.focusOffset)):FC(d)}},K0=(d,p,_=!0)=>{const N=(_?g1:EC)(d,p);__(d,N)},w_=d=>E_(d).filter(p=>p.rangeCount>0).bind(HC),X0=d=>w_(d).map(p=>w1.exact(p.start,p.soffset,p.finish,p.foffset)),Q0=(d,p)=>{const _=Am(d,p);return fi(_)},C_=(d,p,_)=>y_(d,p,_),D2=d=>{E_(d).each(p=>p.removeAllRanges())},Nm=d=>({elementFromPoint:(gt,mn)=>Ze.fromPoint(Ze.fromDom(d.document),gt,mn),getRect:gt=>gt.dom.getBoundingClientRect(),getRangedRect:(gt,mn,Un,ro)=>{const Gs=w1.exact(gt,mn,Un,ro);return Q0(d,Gs)},getSelection:()=>X0(d).map(gt=>b1(d,gt)),fromSitus:gt=>{const mn=w1.relative(gt.start,gt.finish);return b1(d,mn)},situsFromPoint:(gt,mn)=>C_(d,gt,mn).map(Un=>Ug.create(Un.start,Un.soffset,Un.finish,Un.foffset)),clearSelection:()=>{D2(d)},collapseSelection:(gt=!1)=>{X0(d).each(mn=>mn.fold(Un=>Un.collapse(gt),(Un,ro)=>{const Gs=gt?Un:ro;$C(d,Gs,Gs)},(Un,ro,Gs,ka)=>{const Hr=gt?Un:Gs,ql=gt?ro:ka;I2(d,Hr,ql,Hr,ql)}))},setSelection:gt=>{I2(d,gt.start,gt.soffset,gt.finish,gt.foffset)},setRelativeSelection:(gt,mn)=>{$C(d,gt,mn)},selectNode:gt=>{K0(d,gt,!1)},selectContents:gt=>{K0(d,gt)},getInnerHeight:()=>d.innerHeight,getScrollY:()=>NC(Ze.fromDom(d.document)).top,scrollBy:(gt,mn)=>{Xv(gt,mn,Ze.fromDom(d.document))}}),yh=(d,p)=>({rows:d,cols:p}),C1=(d,p,_,S)=>{const N=Nm(d),H=kC(N,p,_,S);return{clearstate:H.clearstate,mousedown:H.mousedown,mouseover:H.mouseover,mouseup:H.mouseup}},Jv=d=>tt(d,zn).exists(wi),VC=(d,p)=>Jv(d)||Jv(p),vR=(d,p,_,S)=>{const N=Nm(d),H=()=>(S.clear(p),he.none());return{keydown:(ve,Ae,We,Mt,Jt,jt)=>{const vt=ve.raw,Qt=vt.which,gt=vt.shiftKey===!0;return Cg(p,S.selectedSelector).fold(()=>(Zg(Qt)&&!gt&&S.clearBeforeUpdate(p),Zg(Qt)&&gt&&!VC(Ae,Mt)?he.none:bh(Qt)&&gt?$(IC,N,p,_,p_,Mt,Ae,S.selectRange):S2(Qt)&&gt?$(IC,N,p,_,Y0,Mt,Ae,S.selectRange):bh(Qt)?$(E1,N,_,p_,Mt,Ae,RC):S2(Qt)?$(E1,N,_,Y0,Mt,Ae,_1):he.none),Un=>{const ro=Gs=>()=>Ui(Gs,Hr=>$i(Hr.rows,Hr.cols,p,Un,S)).fold(()=>Kb(p,S.firstSelectedSelector,S.lastSelectedSelector).map(Hr=>{const ql=bh(Qt)||jt.isForward(Qt)?Qi.after:Qi.before;return N.setRelativeSelection(Qi.on(Hr.first,0),ql(Hr.table)),S.clear(p),Sm.create(he.none(),!0)}),Hr=>he.some(Sm.create(he.none(),!0)));return Zg(Qt)&&gt&&!VC(Ae,Mt)?he.none:bh(Qt)&&gt?ro([yh(1,0)]):S2(Qt)&&gt?ro([yh(-1,0)]):jt.isBackward(Qt)&&gt?ro([yh(0,-1),yh(-1,0)]):jt.isForward(Qt)&&gt?ro([yh(0,1),yh(1,0)]):Zg(Qt)&&!gt?H:he.none})()},keyup:(ve,Ae,We,Mt,Jt)=>Cg(p,S.selectedSelector).fold(()=>{const jt=ve.raw,vt=jt.which;return jt.shiftKey===!0&&Zg(vt)&&VC(Ae,Mt)?V0(p,_,Ae,We,Mt,Jt,S.selectRange):he.none()},he.none)}},M2=(d,p,_,S)=>{const N=Nm(d);return(H,X)=>{S.clearBeforeUpdate(p),Cd(H,X,_).each(ae=>{const ve=ae.boxes.getOr([]);S.selectRange(p,ve,ae.start,ae.finish),N.selectContents(X),N.collapseSelection()})}},T_=(d,p)=>{const _=Ru(d,p);return _===void 0||_===""?[]:_.split(" ")},k2=(d,p,_)=>{const N=T_(d,p).concat([_]);return Rr(d,p,N.join(" ")),!0},S_=(d,p,_)=>{const S=Jn(T_(d,p),N=>N!==_);return S.length>0?Rr(d,p,S.join(" ")):xr(d,p),!1},Ji=d=>d.dom.classList!==void 0,Ld=d=>T_(d,"class"),Xu=(d,p)=>k2(d,"class",p),J0=(d,p)=>S_(d,"class",p),Gl=(d,p)=>{Ji(d)?d.dom.classList.add(p):Xu(d,p)},N2=d=>{(Ji(d)?d.dom.classList:Ld(d)).length===0&&xr(d,"class")},UC=(d,p)=>{Ji(d)?d.dom.classList.remove(p):J0(d,p),N2(d)},zC=(d,p)=>Ji(d)&&d.dom.classList.contains(p),WC=(d,p)=>{Ve(p,_=>{UC(d,_)})},bR=d=>p=>{Gl(p,d)},GC=d=>p=>{WC(p,d)},ZC={byClass:d=>{const p=bR(d.selected),_=GC([d.selected,d.lastSelected,d.firstSelected]),S=H=>{const X=fe(H,d.selectedSelector);Ve(X,_)};return{clearBeforeUpdate:S,clear:S,selectRange:(H,X,ae,ve)=>{S(H),Ve(X,p),Gl(ae,d.firstSelected),Gl(ve,d.lastSelected)},selectedSelector:d.selectedSelector,firstSelectedSelector:d.firstSelectedSelector,lastSelectedSelector:d.lastSelectedSelector}},byAttr:(d,p,_)=>{const S=ve=>{xr(ve,d.selected),xr(ve,d.firstSelected),xr(ve,d.lastSelected)},N=ve=>{Rr(ve,d.selected,"1")},H=ve=>{X(ve),_()},X=ve=>{const Ae=fe(ve,`${d.selectedSelector},${d.firstSelectedSelector},${d.lastSelectedSelector}`);Ve(Ae,S)};return{clearBeforeUpdate:X,clear:H,selectRange:(ve,Ae,We,Mt)=>{H(ve),Ve(Ae,N),Rr(We,d.firstSelected,"1"),Rr(Mt,d.lastSelected,"1"),p(Ae,We,Mt)},selectedSelector:d.selectedSelector,firstSelectedSelector:d.firstSelectedSelector,lastSelectedSelector:d.lastSelectedSelector}}},qC=(d,p,_,S)=>{switch(d.tag){case"none":return p();case"single":return S(d.element);case"multiple":return _(d.elements)}},Ws=()=>({tag:"none"}),Eh=d=>({tag:"multiple",elements:d}),jC=d=>({tag:"single",element:d}),YC=(d,p,_)=>({get:()=>vv(d(),_).fold(()=>p().fold(Ws,jC),Eh)}),KC=(d,p)=>{const _=d.slice(0,p[p.length-1].row+1),S=ci(_);return Ts(S,N=>{const H=N.cells.slice(0,p[p.length-1].column+1);return Nt(H,X=>X.element)})},XC=(d,p)=>{const _=d.slice(p[0].row+p[0].rowspan-1,d.length),S=ci(_);return Ts(S,N=>{const H=N.cells.slice(p[0].column+p[0].colspan-1,N.cells.length);return Nt(H,X=>X.element)})},QC=(d,p,_)=>{const S=ce.fromTable(d);return rh(S,p).map(H=>{const X=Dg(S,_,!1),{rows:ae}=ji(X),ve=KC(ae,H),Ae=XC(ae,H);return{upOrLeftCells:ve,downOrRightCells:Ae}})},JC=(d,p,_,S,N,H,X)=>({target:d,x:p,y:_,stop:S,prevent:N,kill:H,raw:X}),eT=d=>{const p=Ze.fromDom(jo(d).getOr(d.target)),_=()=>d.stopPropagation(),S=()=>d.preventDefault(),N=De(S,_);return JC(p,d.clientX,d.clientY,_,S,N,d)},_R=(d,p)=>_=>{d(_)&&p(eT(_))},P2=(d,p,_,S,N)=>{const H=_R(_,S);return d.dom.addEventListener(p,H,N),{unbind:$(tT,d,p,H,N)}},wR=(d,p,_,S)=>P2(d,p,_,S,!1),tT=(d,p,_,S)=>{d.dom.removeEventListener(p,_,S)},CR=Pe,jg=(d,p,_)=>wR(d,p,CR,_),gn=eT,Pm=d=>!zC(Ze.fromDom(d.target),"ephox-snooker-resizer-bar"),TR=(d,p)=>{const _=YC(()=>Ze.fromDom(d.getBody()),()=>nh(yg(d),dl(d)),qa.selectedSelector),S=(ve,Ae,We)=>{Ei(Ae).each(Jt=>{const jt=a1(d),vt=Qf(Ee,Ze.fromDom(d.getDoc()),jt),Qt=ff(d),gt=QC(Jt,{selection:Qt},vt);FE(d,ve,Ae,We,gt)})},N=()=>Fv(d),H=ZC.byAttr(qa,S,N);return d.on("init",ve=>{const Ae=d.getWin(),We=dc(d),Mt=dl(d),Jt=()=>{const Ns=d.selection,Yc=Ze.fromDom(Ns.getStart()),Kc=Ze.fromDom(Ns.getEnd());Zo(Ei,[Yc,Kc]).fold(()=>H.clear(We),Ee)},jt=C1(Ae,We,Mt,H),vt=vR(Ae,We,Mt,H),Qt=M2(Ae,We,Mt,H),gt=Ns=>Ns.raw.shiftKey===!0;d.on("TableSelectorChange",Ns=>Qt(Ns.start,Ns.finish));const mn=(Ns,Yc)=>{gt(Ns)&&(Yc.kill&&Ns.kill(),Yc.selection.each(Kc=>{const $d=w1.relative(Kc.start,Kc.finish),jl=Am(Ae,$d);d.selection.setRng(jl)}))},Un=Ns=>{const Yc=gn(Ns);if(Yc.raw.shiftKey&&Zg(Yc.raw.which)){const Kc=d.selection.getRng(),$d=Ze.fromDom(Kc.startContainer),jl=Ze.fromDom(Kc.endContainer);vt.keyup(Yc,$d,Kc.startOffset,jl,Kc.endOffset).each(Xg=>{mn(Yc,Xg)})}},ro=Ns=>{const Yc=gn(Ns);p.hide();const Kc=d.selection.getRng(),$d=Ze.fromDom(Kc.startContainer),jl=Ze.fromDom(Kc.endContainer),Xg=Fb(mR,x2)(Ze.fromDom(d.selection.getStart()));vt.keydown(Yc,$d,Kc.startOffset,jl,Kc.endOffset,Xg).each(Xc=>{mn(Yc,Xc)}),p.show()},Gs=Ns=>Ns.button===0,ka=Ns=>Ns.buttons===void 0?!0:(Ns.buttons&1)!==0,Hr=Ns=>{jt.clearstate()},ql=Ns=>{Gs(Ns)&&Pm(Ns)&&jt.mousedown(gn(Ns))},Kg=Ns=>{ka(Ns)&&Pm(Ns)&&jt.mouseover(gn(Ns))},sy=Ns=>{Gs(Ns)&&Pm(Ns)&&jt.mouseup(gn(Ns))},N_=(()=>{const Ns=DC(Ze.fromDom(We)),Yc=DC(0);return{touchEnd:$d=>{const jl=Ze.fromDom($d.target);if(Ri("td")(jl)||Ri("th")(jl)){const Xg=Ns.get(),Xc=Yc.get();Ls(Xg,jl)&&$d.timeStamp-Xc<300&&($d.preventDefault(),Qt(jl,jl))}Ns.set(jl),Yc.set($d.timeStamp)}}})();d.on("dragstart",Hr),d.on("mousedown",ql),d.on("mouseover",Kg),d.on("mouseup",sy),d.on("touchend",N_.touchEnd),d.on("keyup",Un),d.on("keydown",ro),d.on("NodeChange",Jt)}),d.on("PreInit",()=>{d.serializer.addTempAttr(qa.firstSelected),d.serializer.addTempAttr(qa.lastSelected)}),{getSelectedCells:()=>qC(_.get(),ne([]),ve=>Nt(ve,Ae=>Ae.dom),ve=>[ve.dom]),clearSelectedCells:ve=>H.clear(Ze.fromDom(ve))}},hi=d=>{let p=[];return{bind:H=>{if(H===void 0)throw new Error("Event bind error: undefined handler");p.push(H)},unbind:H=>{p=Jn(p,X=>X!==H)},trigger:(...H)=>{const X={};Ve(d,(ae,ve)=>{X[ae]=H[ve]}),Ve(p,ae=>{ae(X)})}}},Yr=d=>{const p=yc(d,S=>({bind:S.bind,unbind:S.unbind})),_=yc(d,S=>S.trigger);return{registry:p,trigger:_}},Yg=(d,p)=>{let _=null;const S=()=>{Y(_)||(clearTimeout(_),_=null)};return{cancel:S,throttle:(...H)=>{S(),_=setTimeout(()=>{_=null,d.apply(null,H)},p)}}},x_=d=>d.slice(0).sort(),L2=(d,p)=>{throw new Error("All required keys ("+x_(d).join(", ")+") were not specified. Specified keys were: "+x_(p).join(", ")+".")},SR=d=>{throw new Error("Unsupported keys for object: "+x_(d).join(", "))},ko=(d,p)=>{if(!G(p))throw new Error("The "+d+" fields must be an array. Was: "+p+".");Ve(p,_=>{if(!D(_))throw new Error("The value "+_+" in the "+d+" fields was not a string.")})},B2=(d,p)=>{throw new Error("All values need to be of type: "+p+". Keys ("+x_(d).join(", ")+") were not.")},A_=d=>{const p=x_(d);ee(p,(S,N)=>N<p.length-1&&S===p[N+1]).each(S=>{throw new Error("The field: "+S+" occurs more than once in the combined fields: ["+p.join(", ")+"].")})},T1=(d,p)=>$2(d,p,{validate:le,label:"function"}),$2=(d,p,_)=>{if(p.length===0)throw new Error("You must specify at least one required field.");return ko("required",p),A_(p),S=>{const N=En(S);ys(p,ae=>Tt(N,ae))||L2(p,N),d(p,N);const X=Jn(p,ae=>!_.validate(S[ae],ae));return X.length>0&&B2(X,_.label),S}},xR=(d,p)=>{const _=Jn(p,S=>!Tt(d,S));_.length>0&&SR(_)},nT=d=>T1(xR,d),AR=nT(["compare","extract","mutate","sink"]),hN=nT(["element","start","stop","destroy"]),F2=nT(["forceDrop","drop","move","delayDrop"]),oT=()=>{let d=he.none();const p=()=>{d=he.none()},_=(H,X)=>{const ae=d.map(ve=>H.compare(ve,X));return d=he.some(X),ae},S=(H,X)=>{X.extract(H).each(ve=>{_(X,ve).each(We=>{N.trigger.move(We)})})},N=Yr({move:hi(["info"])});return{onEvent:S,reset:p,events:N.registry}},sT=()=>{const d=Yr({move:hi(["info"])});return{onEvent:Ee,reset:Ee,events:d.registry}},H2=()=>{const d=sT(),p=oT();let _=d;return{on:()=>{_.reset(),_=p},off:()=>{_.reset(),_=d},isOn:()=>_===p,onEvent:(ae,ve)=>{_.onEvent(ae,ve)},events:p.events}},mN=(d,p,_)=>{let S=!1;const N=Yr({start:hi([]),stop:hi([])}),H=H2(),X=()=>{vt.stop(),H.isOn()&&(H.off(),N.trigger.stop())},ae=Yg(X,200),ve=gt=>{vt.start(gt),H.on(),N.trigger.start()},Ae=gt=>{ae.cancel(),H.onEvent(gt,p)};H.events.move.bind(gt=>{p.mutate(d,gt.info)});const We=()=>{S=!0},Mt=()=>{S=!1},Jt=()=>S,jt=gt=>(...mn)=>{S&&gt.apply(null,mn)},vt=p.sink(F2({forceDrop:X,drop:jt(X),move:jt(Ae),delayDrop:jt(ae.throttle)}),_),Qt=()=>{vt.destroy()};return{element:vt.element,go:ve,on:We,off:Mt,isActive:Jt,destroy:Qt,events:N.registry}},O_=d=>{const p=d.replace(/\./g,"-");return{resolve:S=>p+"-"+S}},OR=O_("ephox-dragster").resolve,RR=d=>{const p={layerClass:OR("blocker"),...d},_=Ze.fromTag("div");return Rr(_,"role","presentation"),ur(_,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Gl(_,OR("blocker")),Gl(_,p.layerClass),{element:ne(_),destroy:()=>{bi(_)}}};var IR=AR({compare:(d,p)=>Pu(p.left-d.left,p.top-d.top),extract:d=>he.some(Pu(d.x,d.y)),sink:(d,p)=>{const _=RR(p),S=jg(_.element(),"mousedown",d.forceDrop),N=jg(_.element(),"mouseup",d.drop),H=jg(_.element(),"mousemove",d.move),X=jg(_.element(),"mouseout",d.delayDrop),ae=()=>{_.destroy(),N.unbind(),H.unbind(),X.unbind(),S.unbind()},ve=We=>{vr(We,_.element())},Ae=()=>{bi(_.element())};return hN({element:_.element,start:ve,stop:Ae,destroy:ae})},mutate:(d,p)=>{d.mutate(p.left,p.top)}});const ey=(d,p={})=>{var _;const S=(_=p.mode)!==null&&_!==void 0?_:IR;return mN(d,S,p)},R_=O_("ephox-snooker").resolve,DR=()=>{const d=Yr({drag:hi(["xDelta","yDelta"])});return{mutate:(_,S)=>{d.trigger.drag(_,S)},events:d.registry}},MR=()=>{const d=Yr({drag:hi(["xDelta","yDelta","target"])});let p=he.none();const _=DR();return _.events.drag.bind(H=>{p.each(X=>{d.trigger.drag(H.xDelta,H.yDelta,X)})}),{assign:H=>{p=he.some(H)},get:()=>p,mutate:_.mutate,events:d.registry}},iT=(d,p,_,S,N)=>{const H=Ze.fromTag("div");return ur(H,{position:"absolute",left:p-S/2+"px",top:_+"px",height:N+"px",width:S+"px"}),ol(H,{"data-column":d,role:"presentation"}),H},eb=(d,p,_,S,N)=>{const H=Ze.fromTag("div");return ur(H,{position:"absolute",left:p+"px",top:_-N/2+"px",height:N+"px",width:S+"px"}),ol(H,{"data-row":d,role:"presentation"}),H},tb=R_("resizer-bar"),aT=R_("resizer-rows"),I_=R_("resizer-cols"),cT=7,lT=(d,p)=>Ts(d.all,(_,S)=>p(_.element)?[S]:[]),kR=(d,p)=>{const _=[];return Vt(d.grid.columns,S=>{ce.getColumnAt(d,S).map(H=>H.element).forall(p)&&_.push(S)}),Jn(_,S=>{const N=ce.filterItems(d,H=>H.column===S);return ys(N,H=>p(H.element))})},D_=d=>{const p=fe(d.parent(),"."+tb);Ve(p,bi)},uT=(d,p,_)=>{const S=d.origin();Ve(p,N=>{N.each(H=>{const X=_(S,H);Gl(X,tb),vr(d.parent(),X)})})},dT=(d,p,_,S)=>{uT(d,p,(N,H)=>{const X=iT(H.col,H.x-N.left,_.top-N.top,cT,S);return Gl(X,I_),X})},ts=(d,p,_,S)=>{uT(d,p,(N,H)=>{const X=eb(H.row,_.left-N.left,H.y-N.top,S,cT);return Gl(X,aT),X})},V2=(d,p,_,S,N)=>{const H=jh(_),X=p.isResizable,ae=S.length>0?kl.positions(S,_):[],ve=ae.length>0?lT(d,X):[],Ae=Jn(ae,(jt,vt)=>Xe(ve,Qt=>vt===Qt));ts(p,Ae,H,Gh(_));const We=N.length>0?Ll.positions(N,_):[],Mt=We.length>0?kR(d,X):[],Jt=Jn(We,(jt,vt)=>Xe(Mt,Qt=>vt===Qt));dT(p,Jt,H,oE(_))},_h=(d,p)=>{if(D_(d),d.isResizable(p)){const _=ce.fromTable(p),S=iu(_),N=qf(_);V2(_,d,p,S,N)}},Cf=(d,p)=>{const _=fe(d.parent(),"."+tb);Ve(_,p)},ty=d=>{Cf(d,p=>{Jo(p,"display","none")})},Zl=d=>{Cf(d,p=>{Jo(p,"display","block")})},M_=d=>zC(d,aT),S1=d=>zC(d,I_),ny=R_("resizer-bar-dragging"),Bm=d=>{const p=MR(),_=ey(p,{});let S=he.none();const N=(vt,Qt)=>he.from(Ru(vt,Qt));p.events.drag.bind(vt=>{N(vt.target,"data-row").each(Qt=>{const gt=dr(vt.target,"top");Jo(vt.target,"top",gt+vt.yDelta+"px")}),N(vt.target,"data-column").each(Qt=>{const gt=dr(vt.target,"left");Jo(vt.target,"left",gt+vt.xDelta+"px")})});const H=(vt,Qt)=>{const gt=dr(vt,Qt),mn=Lr(vt,"data-initial-"+Qt,0);return gt-mn};_.events.stop.bind(()=>{p.get().each(vt=>{S.each(Qt=>{N(vt,"data-row").each(gt=>{const mn=H(vt,"top");xr(vt,"data-initial-top"),jt.trigger.adjustHeight(Qt,mn,parseInt(gt,10))}),N(vt,"data-column").each(gt=>{const mn=H(vt,"left");xr(vt,"data-initial-left"),jt.trigger.adjustWidth(Qt,mn,parseInt(gt,10))}),_h(d,Qt)})})});const X=(vt,Qt)=>{jt.trigger.startAdjust(),p.assign(vt),Rr(vt,"data-initial-"+Qt,dr(vt,Qt)),Gl(vt,ny),Jo(vt,"opacity","0.2"),_.go(d.parent())},ae=jg(d.parent(),"mousedown",vt=>{M_(vt.target)&&X(vt.target,"top"),S1(vt.target)&&X(vt.target,"left")}),ve=vt=>Ls(vt,d.view()),Ae=vt=>Hn(vt,"table",ve).filter(wi),We=jg(d.view(),"mouseover",vt=>{Ae(vt.target).fold(()=>{Gr(vt.target)&&D_(d)},Qt=>{_.isActive()&&(S=he.some(Qt),_h(d,Qt))})}),Mt=()=>{ae.unbind(),We.unbind(),_.destroy(),D_(d)},Jt=vt=>{_h(d,vt)},jt=Yr({adjustHeight:hi(["table","delta","row"]),adjustWidth:hi(["table","delta","column"]),startAdjust:hi([])});return{destroy:Mt,refresh:Jt,on:_.on,off:_.off,hideBars:$(ty,d),showBars:$(Zl,d),events:jt.registry}},k_={create:(d,p,_)=>{const S=kl,N=Ll,H=Bm(d),X=Yr({beforeResize:hi(["table","type"]),afterResize:hi(["table","type"]),startDrag:hi([])});return H.events.adjustHeight.bind(ae=>{const ve=ae.table;X.trigger.beforeResize(ve,"row");const Ae=S.delta(ae.delta,ve);Ov(ve,Ae,ae.row,S),X.trigger.afterResize(ve,"row")}),H.events.startAdjust.bind(ae=>{X.trigger.startDrag()}),H.events.adjustWidth.bind(ae=>{const ve=ae.table;X.trigger.beforeResize(ve,"col");const Ae=N.delta(ae.delta,ve),We=_(ve);d0(ve,Ae,ae.column,p,We),X.trigger.afterResize(ve,"col")}),{on:H.on,off:H.off,refreshBars:H.refresh,hideBars:H.hideBars,showBars:H.showBars,destroy:H.destroy,events:X.registry}}},Bd={only:(d,p)=>{const _=Vh(d)?ti(d):d;return{parent:ne(_),view:ne(d),origin:ne(Pu(0,0)),isResizable:p}},detached:(d,p,_)=>{const S=()=>jh(p);return{parent:ne(p),view:ne(d),origin:S,isResizable:_}},body:(d,p,_)=>({parent:ne(p),view:ne(d),origin:ne(Pu(0,0)),isResizable:_})},x1=()=>{const d=Ze.fromTag("div");return ur(d,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),vr(sa(),d),d},U2=(d,p)=>d.inline?Bd.body(Ze.fromDom(d.getBody()),x1(),p):Bd.only(Ze.fromDom(d.getDoc()),p),oy=(d,p)=>{d.inline&&bi(p.parent())},Yo=d=>ge(d)&&d.nodeName==="TABLE",z2="bar-",W2=d=>Ru(d,"data-mce-resize")!=="false",hT=d=>{const p=ce.fromTable(d);ce.hasColumns(p)||Ve(gd(d),_=>{const S=Ba(_,"width");Jo(_,"width",S),xr(_,"width")})},mT=d=>{const p=j0(),_=j0(),S=j0();let N,H;const X=vt=>l1(d,vt),ae=()=>w0(d)?Og():Ag(),ve=vt=>cm(vt).columns,Ae=(vt,Qt,gt)=>{const mn=To(Qt,"e");if(H===""&&hh(vt),gt!==N&&H!==""){Jo(vt,"width",H);const Un=ae(),ro=X(vt),Gs=w0(d)||mn?ve(vt)-1:0;d0(vt,gt-N,Gs,Un,ro)}else if(Qs(H)){const Un=parseFloat(H.replace("%","")),ro=gt*Un/N;Jo(vt,"width",ro+"%")}hv(H)&&hT(vt)},We=()=>{_.on(vt=>{vt.destroy()}),S.on(vt=>{oy(d,vt)})};return d.on("init",()=>{const vt=U2(d,W2);if(S.set(vt),UE(d)&&Fg(d)){const Qt=ae(),gt=k_.create(vt,Qt,X);gt.on(),gt.events.startDrag.bind(mn=>{p.set(d.selection.getRng())}),gt.events.beforeResize.bind(mn=>{const Un=mn.table.dom;_f(d,Un,eh(Un),fv(Un),z2+mn.type)}),gt.events.afterResize.bind(mn=>{const Un=mn.table,ro=Un.dom;Gc(Un),p.on(Gs=>{d.selection.setRng(Gs),d.focus()}),rs(d,ro,eh(ro),fv(ro),z2+mn.type),d.undoManager.add()}),_.set(gt)}}),d.on("ObjectResizeStart",vt=>{const Qt=vt.target;if(Yo(Qt)){const gt=Ze.fromDom(Qt);Ve(d.dom.select(".mce-clonedresizable"),mn=>{d.dom.addClass(mn,"mce-"+_0(d)+"-columns")}),!u1(gt)&&Wl(d)?R0(gt):!Dd(gt)&&Vv(d)&&hh(gt),O0(gt)&&Zi(vt.origin,z2)&&hh(gt),N=vt.width,H=ks(d)?"":jb(d,Qt).getOr("")}}),d.on("ObjectResized",vt=>{const Qt=vt.target;if(Yo(Qt)){const gt=Ze.fromDom(Qt),mn=vt.origin;Zi(mn,"corner-")&&Ae(gt,mn,vt.width),Gc(gt),dh(d,gt.dom,bm)}}),d.on("SwitchMode",()=>{_.on(vt=>{d.mode.isReadOnly()?vt.hideBars():vt.showBars()})}),d.on("dragstart dragend",vt=>{_.on(Qt=>{vt.type==="dragstart"?(Qt.hideBars(),Qt.off()):(Qt.on(),Qt.showBars())})}),d.on("remove",()=>{We()}),{refresh:vt=>{_.on(Qt=>Qt.refreshBars(Ze.fromDom(vt)))},hide:()=>{_.on(vt=>vt.hideBars())},show:()=>{_.on(vt=>vt.showBars())}}},ob=d=>{tC(d);const p=mT(d),_=TR(d,p),S=C0(d,p,_);return vl(d,S),B0(d,S),Sg(d,S),{getSelectedCells:_.getSelectedCells,clearSelectedCells:_.clearSelectedCells}},A1=d=>({table:ob(d)});var G2=()=>{a.add("dom",A1)};G2()})();/*!
 * FilePond 4.30.4
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const Bne=a=>a instanceof HTMLElement,$ne=(a,c=[],h=[])=>{const E={...a},x=[],k=[],D=()=>({...E}),V=()=>{const le=[...x];return x.length=0,le},G=()=>{const le=[...k];k.length=0,le.forEach(({type:de,data:Ee})=>{Y(de,Ee)})},Y=(le,de,Ee)=>{if(Ee&&!document.hidden){k.push({type:le,data:de});return}ge[le]&&ge[le](de),x.push({type:le,data:de})},K=(le,...de)=>be[le]?be[le](...de):null,re={getState:D,processActionQueue:V,processDispatchQueue:G,dispatch:Y,query:K};let be={};c.forEach(le=>{be={...le(E),...be}});let ge={};return h.forEach(le=>{ge={...le(Y,K,E),...ge}}),re},Fne=(a,c,h)=>{if(typeof h=="function"){a[c]=h;return}Object.defineProperty(a,c,{...h})},Pc=(a,c)=>{for(const h in a)a.hasOwnProperty(h)&&c(h,a[h])},Ow=a=>{const c={};return Pc(a,h=>{Fne(c,h,a[h])}),c},Cl=(a,c,h=null)=>{if(h===null)return a.getAttribute(c)||a.hasAttribute(c);a.setAttribute(c,h)},Hne="http://www.w3.org/2000/svg",Vne=["svg","path"],EX=a=>Vne.includes(a),bH=(a,c,h={})=>{typeof c=="object"&&(h=c,c=null);const E=EX(a)?document.createElementNS(Hne,a):document.createElement(a);return c&&(EX(a)?Cl(E,"class",c):E.className=c),Pc(h,(x,k)=>{Cl(E,x,k)}),E},Une=a=>(c,h)=>{typeof h<"u"&&a.children[h]?a.insertBefore(c,a.children[h]):a.appendChild(c)},zne=(a,c)=>(h,E)=>(typeof E<"u"?c.splice(E,0,h):c.push(h),h),Wne=(a,c)=>h=>(c.splice(c.indexOf(h),1),h.element.parentNode&&a.removeChild(h.element),h),Gne=(()=>typeof window<"u"&&typeof window.document<"u")(),uJ=()=>Gne,Zne=uJ()?bH("svg"):{},qne="children"in Zne?a=>a.children.length:a=>a.childNodes.length,dJ=(a,c,h,E)=>{const x=h[0]||a.left,k=h[1]||a.top,D=x+a.width,V=k+a.height*(E[1]||1),G={element:{...a},inner:{left:a.left,top:a.top,right:a.right,bottom:a.bottom},outer:{left:x,top:k,right:D,bottom:V}};return c.filter(Y=>!Y.isRectIgnored()).map(Y=>Y.rect).forEach(Y=>{_X(G.inner,{...Y.inner}),_X(G.outer,{...Y.outer})}),wX(G.inner),G.outer.bottom+=G.element.marginBottom,G.outer.right+=G.element.marginRight,wX(G.outer),G},_X=(a,c)=>{c.top+=a.top,c.right+=a.left,c.bottom+=a.top,c.left+=a.left,c.bottom>a.bottom&&(a.bottom=c.bottom),c.right>a.right&&(a.right=c.right)},wX=a=>{a.width=a.right-a.left,a.height=a.bottom-a.top},JS=a=>typeof a=="number",jne=(a,c,h,E=.001)=>Math.abs(a-c)<E&&Math.abs(h)<E,Yne=({stiffness:a=.5,damping:c=.75,mass:h=10}={})=>{let E=null,x=null,k=0,D=!1;const Y=Ow({interpolate:(K,re)=>{if(D)return;if(!(JS(E)&&JS(x))){D=!0,k=0;return}const be=-(x-E)*a;k+=be/h,x+=k,k*=c,jne(x,E,k)||re?(x=E,k=0,D=!0,Y.onupdate(x),Y.oncomplete(x)):Y.onupdate(x)},target:{set:K=>{if(JS(K)&&!JS(x)&&(x=K),E===null&&(E=K,x=K),E=K,x===E||typeof E>"u"){D=!0,k=0,Y.onupdate(x),Y.oncomplete(x);return}D=!1},get:()=>E},resting:{get:()=>D},onupdate:K=>{},oncomplete:K=>{}});return Y},Kne=a=>a<.5?2*a*a:-1+(4-2*a)*a,Xne=({duration:a=500,easing:c=Kne,delay:h=0}={})=>{let E=null,x,k,D=!0,V=!1,G=null;const K=Ow({interpolate:(re,be)=>{D||G===null||(E===null&&(E=re),!(re-E<h)&&(x=re-E-h,x>=a||be?(x=1,k=V?0:1,K.onupdate(k*G),K.oncomplete(k*G),D=!0):(k=x/a,K.onupdate((x>=0?c(V?1-k:k):0)*G))))},target:{get:()=>V?0:G,set:re=>{if(G===null){G=re,K.onupdate(re),K.oncomplete(re);return}re<G?(G=1,V=!0):(V=!1,G=re),D=!1,E=null}},resting:{get:()=>D},onupdate:re=>{},oncomplete:re=>{}});return K},CX={spring:Yne,tween:Xne},Qne=(a,c,h)=>{const E=a[c]&&typeof a[c][h]=="object"?a[c][h]:a[c]||a,x=typeof E=="string"?E:E.type,k=typeof E=="object"?{...E}:{};return CX[x]?CX[x](k):null},qj=(a,c,h,E=!1)=>{c=Array.isArray(c)?c:[c],c.forEach(x=>{a.forEach(k=>{let D=k,V=()=>h[k],G=Y=>h[k]=Y;typeof k=="object"&&(D=k.key,V=k.getter||V,G=k.setter||G),!(x[D]&&!E)&&(x[D]={get:V,set:G})})})},Jne=({mixinConfig:a,viewProps:c,viewInternalAPI:h,viewExternalAPI:E})=>{const x={...c},k=[];return Pc(a,(D,V)=>{const G=Qne(V);if(!G)return;G.onupdate=K=>{c[D]=K},G.target=x[D],qj([{key:D,setter:K=>{G.target!==K&&(G.target=K)},getter:()=>c[D]}],[h,E],c,!0),k.push(G)}),{write:D=>{let V=document.hidden,G=!0;return k.forEach(Y=>{Y.resting||(G=!1),Y.interpolate(D,V)}),G},destroy:()=>{}}},eoe=a=>(c,h)=>{a.addEventListener(c,h)},toe=a=>(c,h)=>{a.removeEventListener(c,h)},noe=({mixinConfig:a,viewProps:c,viewInternalAPI:h,viewExternalAPI:E,viewState:x,view:k})=>{const D=[],V=eoe(k.element),G=toe(k.element);return E.on=(Y,K)=>{D.push({type:Y,fn:K}),V(Y,K)},E.off=(Y,K)=>{D.splice(D.findIndex(re=>re.type===Y&&re.fn===K),1),G(Y,K)},{write:()=>!0,destroy:()=>{D.forEach(Y=>{G(Y.type,Y.fn)})}}},ooe=({mixinConfig:a,viewProps:c,viewExternalAPI:h})=>{qj(a,h,c)},Pf=a=>a!=null,soe={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},roe=({mixinConfig:a,viewProps:c,viewInternalAPI:h,viewExternalAPI:E,view:x})=>{const k={...c},D={};qj(a,[h,E],c);const V=()=>[c.translateX||0,c.translateY||0],G=()=>[c.scaleX||0,c.scaleY||0],Y=()=>x.rect?dJ(x.rect,x.childViews,V(),G()):null;return h.rect={get:Y},E.rect={get:Y},a.forEach(K=>{c[K]=typeof k[K]>"u"?soe[K]:k[K]}),{write:()=>{if(ioe(D,c))return aoe(x.element,c),Object.assign(D,{...c}),!0},destroy:()=>{}}},ioe=(a,c)=>{if(Object.keys(a).length!==Object.keys(c).length)return!0;for(const h in c)if(c[h]!==a[h])return!0;return!1},aoe=(a,{opacity:c,perspective:h,translateX:E,translateY:x,scaleX:k,scaleY:D,rotateX:V,rotateY:G,rotateZ:Y,originX:K,originY:re,width:be,height:ge})=>{let le="",de="";(Pf(K)||Pf(re))&&(de+=`transform-origin: ${K||0}px ${re||0}px;`),Pf(h)&&(le+=`perspective(${h}px) `),(Pf(E)||Pf(x))&&(le+=`translate3d(${E||0}px, ${x||0}px, 0) `),(Pf(k)||Pf(D))&&(le+=`scale3d(${Pf(k)?k:1}, ${Pf(D)?D:1}, 1) `),Pf(Y)&&(le+=`rotateZ(${Y}rad) `),Pf(V)&&(le+=`rotateX(${V}rad) `),Pf(G)&&(le+=`rotateY(${G}rad) `),le.length&&(de+=`transform:${le};`),Pf(c)&&(de+=`opacity:${c};`,c===0&&(de+="visibility:hidden;"),c<1&&(de+="pointer-events:none;")),Pf(ge)&&(de+=`height:${ge}px;`),Pf(be)&&(de+=`width:${be}px;`);const Ee=a.elementCurrentStyle||"";(de.length!==Ee.length||de!==Ee)&&(a.style.cssText=de,a.elementCurrentStyle=de)},coe={styles:roe,listeners:noe,animations:Jne,apis:ooe},TX=(a={},c={},h={})=>(c.layoutCalculated||(a.paddingTop=parseInt(h.paddingTop,10)||0,a.marginTop=parseInt(h.marginTop,10)||0,a.marginRight=parseInt(h.marginRight,10)||0,a.marginBottom=parseInt(h.marginBottom,10)||0,a.marginLeft=parseInt(h.marginLeft,10)||0,c.layoutCalculated=!0),a.left=c.offsetLeft||0,a.top=c.offsetTop||0,a.width=c.offsetWidth||0,a.height=c.offsetHeight||0,a.right=a.left+a.width,a.bottom=a.top+a.height,a.scrollTop=c.scrollTop,a.hidden=c.offsetParent===null,a),Tl=({tag:a="div",name:c=null,attributes:h={},read:E=()=>{},write:x=()=>{},create:k=()=>{},destroy:D=()=>{},filterFrameActionsForChild:V=(ge,le)=>le,didCreateView:G=()=>{},didWriteView:Y=()=>{},ignoreRect:K=!1,ignoreRectUpdate:re=!1,mixins:be=[]}={})=>(ge,le={})=>{const de=bH(a,`filepond--${c}`,h),Ee=window.getComputedStyle(de,null),De=TX();let ke=null,ne=!1;const Le=[],ct=[],$={},ye={},Ge=[x],mt=[E],xt=[D],Pe=()=>de,he=()=>Le.concat(),dn=()=>$,bt=je=>(At,ee)=>At(je,ee),Ct=()=>ke||(ke=dJ(De,Le,[0,0],[1,1]),ke),P=()=>Ee,Tt=()=>{ke=null,Le.forEach(ee=>ee._read()),!(re&&De.width&&De.height)&&TX(De,de,Ee);const At={root:Jn,props:le,rect:De};mt.forEach(ee=>ee(At))},Xe=(je,At,ee)=>{let os=At.length===0;return Ge.forEach(so=>{so({props:le,root:Jn,actions:At,timestamp:je,shouldOptimize:ee})===!1&&(os=!1)}),ct.forEach(so=>{so.write(je)===!1&&(os=!1)}),Le.filter(so=>!!so.element.parentNode).forEach(so=>{so._write(je,V(so,At),ee)||(os=!1)}),Le.forEach((so,Ts)=>{so.element.parentNode||(Jn.appendChild(so.element,Ts),so._read(),so._write(je,V(so,At),ee),os=!1)}),ne=os,Y({props:le,root:Jn,actions:At,timestamp:je}),os},Vt=()=>{ct.forEach(je=>je.destroy()),xt.forEach(je=>{je({root:Jn,props:le})}),Le.forEach(je=>je._destroy())},Nt={element:{get:Pe},style:{get:P},childViews:{get:he}},Ve={...Nt,rect:{get:Ct},ref:{get:dn},is:je=>c===je,appendChild:Une(de),createChildView:bt(ge),linkView:je=>(Le.push(je),je),unlinkView:je=>{Le.splice(Le.indexOf(je),1)},appendChildView:zne(de,Le),removeChildView:Wne(de,Le),registerWriter:je=>Ge.push(je),registerReader:je=>mt.push(je),registerDestroyer:je=>xt.push(je),invalidateLayout:()=>de.layoutCalculated=!1,dispatch:ge.dispatch,query:ge.query},uo={element:{get:Pe},childViews:{get:he},rect:{get:Ct},resting:{get:()=>ne},isRectIgnored:()=>K,_read:Tt,_write:Xe,_destroy:Vt},Lo={...Nt,rect:{get:()=>De}};Object.keys(be).sort((je,At)=>je==="styles"?1:At==="styles"?-1:0).forEach(je=>{const At=coe[je]({mixinConfig:be[je],viewProps:le,viewState:ye,viewInternalAPI:Ve,viewExternalAPI:uo,view:Ow(Lo)});At&&ct.push(At)});const Jn=Ow(Ve);k({root:Jn,props:le});const Fo=qne(de);return Le.forEach((je,At)=>{Jn.appendChild(je.element,Fo+At)}),G(Jn),Ow(uo)},loe=(a,c,h=60)=>{const E="__framePainter";if(window[E]){window[E].readers.push(a),window[E].writers.push(c);return}window[E]={readers:[a],writers:[c]};const x=window[E],k=1e3/h;let D=null,V=null,G=null,Y=null;const K=()=>{document.hidden?(G=()=>window.setTimeout(()=>re(performance.now()),k),Y=()=>window.clearTimeout(V)):(G=()=>window.requestAnimationFrame(re),Y=()=>window.cancelAnimationFrame(V))};document.addEventListener("visibilitychange",()=>{Y&&Y(),K(),re(performance.now())});const re=be=>{V=G(re),D||(D=be);const ge=be-D;ge<=k||(D=be-ge%k,x.readers.forEach(le=>le()),x.writers.forEach(le=>le(be)))};return K(),re(performance.now()),{pause:()=>{Y(V)}}},Ff=(a,c)=>({root:h,props:E,actions:x=[],timestamp:k,shouldOptimize:D})=>{x.filter(V=>a[V.type]).forEach(V=>a[V.type]({root:h,props:E,action:V.data,timestamp:k,shouldOptimize:D})),c&&c({root:h,props:E,actions:x,timestamp:k,shouldOptimize:D})},SX=(a,c)=>c.parentNode.insertBefore(a,c),xX=(a,c)=>c.parentNode.insertBefore(a,c.nextSibling),IH=a=>Array.isArray(a),Xy=a=>a==null,uoe=a=>a.trim(),DH=a=>""+a,doe=(a,c=",")=>Xy(a)?[]:IH(a)?a:DH(a).split(c).map(uoe).filter(h=>h.length),fJ=a=>typeof a=="boolean",hJ=a=>fJ(a)?a:a==="true",$f=a=>typeof a=="string",mJ=a=>JS(a)?a:$f(a)?DH(a).replace(/[a-z]+/gi,""):0,oH=a=>parseInt(mJ(a),10),AX=a=>parseFloat(mJ(a)),JO=a=>JS(a)&&isFinite(a)&&Math.floor(a)===a,OX=(a,c=1e3)=>{if(JO(a))return a;let h=DH(a).trim();return/MB$/i.test(h)?(h=h.replace(/MB$i/,"").trim(),oH(h)*c*c):/KB/i.test(h)?(h=h.replace(/KB$i/,"").trim(),oH(h)*c):oH(h)},e2=a=>typeof a=="function",foe=a=>{let c=self,h=a.split("."),E=null;for(;E=h.shift();)if(c=c[E],!c)return null;return c},RX={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},hoe=a=>{const c={};return c.url=$f(a)?a:a.url||"",c.timeout=a.timeout?parseInt(a.timeout,10):0,c.headers=a.headers?a.headers:{},Pc(RX,h=>{c[h]=moe(h,a[h],RX[h],c.timeout,c.headers)}),c.process=a.process||$f(a)||a.url?c.process:null,c.remove=a.remove||null,delete c.headers,c},moe=(a,c,h,E,x)=>{if(c===null)return null;if(typeof c=="function")return c;const k={url:h==="GET"||h==="PATCH"?`?${a}=`:"",method:h,headers:x,withCredentials:!1,timeout:E,onload:null,ondata:null,onerror:null};if($f(c))return k.url=c,k;if(Object.assign(k,c),$f(k.headers)){const D=k.headers.split(/:(.+)/);k.headers={header:D[0],value:D[1]}}return k.withCredentials=hJ(k.withCredentials),k},goe=a=>hoe(a),poe=a=>a===null,xu=a=>typeof a=="object"&&a!==null,voe=a=>xu(a)&&$f(a.url)&&xu(a.process)&&xu(a.revert)&&xu(a.restore)&&xu(a.fetch),yj=a=>IH(a)?"array":poe(a)?"null":JO(a)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(a)?"bytes":voe(a)?"api":typeof a,boe=a=>a.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",'),yoe={array:doe,boolean:hJ,int:a=>yj(a)==="bytes"?OX(a):oH(a),number:AX,float:AX,bytes:OX,string:a=>e2(a)?a:DH(a),function:a=>foe(a),serverapi:goe,object:a=>{try{return JSON.parse(boe(a))}catch{return null}}},Eoe=(a,c)=>yoe[c](a),gJ=(a,c,h)=>{if(a===c)return a;let E=yj(a);if(E!==h){const x=Eoe(a,h);if(E=yj(x),x===null)throw`Trying to assign value with incorrect type to "${option}", allowed type: "${h}"`;a=x}return a},_oe=(a,c)=>{let h=a;return{enumerable:!0,get:()=>h,set:E=>{h=gJ(E,a,c)}}},woe=a=>{const c={};return Pc(a,h=>{const E=a[h];c[h]=_oe(E[0],E[1])}),Ow(c)},Coe=a=>({items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:woe(a)}),MH=(a,c="-")=>a.split(/(?=[A-Z])/).map(h=>h.toLowerCase()).join(c),Toe=(a,c)=>{const h={};return Pc(c,E=>{h[E]={get:()=>a.getState().options[E],set:x=>{a.dispatch(`SET_${MH(E,"_").toUpperCase()}`,{value:x})}}}),h},Soe=a=>(c,h,E)=>{const x={};return Pc(a,k=>{const D=MH(k,"_").toUpperCase();x[`SET_${D}`]=V=>{try{E.options[k]=V.value}catch{}c(`DID_SET_${D}`,{value:E.options[k]})}}),x},xoe=a=>c=>{const h={};return Pc(a,E=>{h[`GET_${MH(E,"_").toUpperCase()}`]=x=>c.options[E]}),h},Ep={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},jj=()=>Math.random().toString(36).substring(2,11),Yj=(a,c)=>a.splice(c,1),Aoe=(a,c)=>{c?a():document.hidden?Promise.resolve(1).then(a):setTimeout(a,0)},kH=()=>{const a=[],c=(E,x)=>{Yj(a,a.findIndex(k=>k.event===E&&(k.cb===x||!x)))},h=(E,x,k)=>{a.filter(D=>D.event===E).map(D=>D.cb).forEach(D=>Aoe(()=>D(...x),k))};return{fireSync:(E,...x)=>{h(E,x,!0)},fire:(E,...x)=>{h(E,x,!1)},on:(E,x)=>{a.push({event:E,cb:x})},onOnce:(E,x)=>{a.push({event:E,cb:(...k)=>{c(E,x),x(...k)}})},off:c}},pJ=(a,c,h)=>{Object.getOwnPropertyNames(a).filter(E=>!h.includes(E)).forEach(E=>Object.defineProperty(c,E,Object.getOwnPropertyDescriptor(a,E)))},Ooe=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],$h=a=>{const c={};return pJ(a,c,Ooe),c},Roe=a=>{a.forEach((c,h)=>{c.released&&Yj(a,h)})},Cs={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},Xl={INPUT:1,LIMBO:2,LOCAL:3},vJ=a=>/[^0-9]+/.exec(a),bJ=()=>vJ(1.1.toLocaleString())[0],Ioe=()=>{const a=bJ(),c=1e3.toLocaleString(),h=1e3.toString();return c!==h?vJ(c)[0]:a==="."?",":"."},cn={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},Kj=[],z1=(a,c,h)=>new Promise((E,x)=>{const k=Kj.filter(V=>V.key===a).map(V=>V.cb);if(k.length===0){E(c);return}const D=k.shift();k.reduce((V,G)=>V.then(Y=>G(Y,h)),D(c,h)).then(V=>E(V)).catch(V=>x(V))}),u2=(a,c,h)=>Kj.filter(E=>E.key===a).map(E=>E.cb(c,h)),Doe=(a,c)=>Kj.push({key:a,cb:c}),Moe=a=>Object.assign(NO,a),yH=()=>({...NO}),koe=a=>{Pc(a,(c,h)=>{NO[c]&&(NO[c][0]=gJ(h,NO[c][0],NO[c][1]))})},NO={id:[null,cn.STRING],name:["filepond",cn.STRING],disabled:[!1,cn.BOOLEAN],className:[null,cn.STRING],required:[!1,cn.BOOLEAN],captureMethod:[null,cn.STRING],allowSyncAcceptAttribute:[!0,cn.BOOLEAN],allowDrop:[!0,cn.BOOLEAN],allowBrowse:[!0,cn.BOOLEAN],allowPaste:[!0,cn.BOOLEAN],allowMultiple:[!1,cn.BOOLEAN],allowReplace:[!0,cn.BOOLEAN],allowRevert:[!0,cn.BOOLEAN],allowRemove:[!0,cn.BOOLEAN],allowProcess:[!0,cn.BOOLEAN],allowReorder:[!1,cn.BOOLEAN],allowDirectoriesOnly:[!1,cn.BOOLEAN],storeAsFile:[!1,cn.BOOLEAN],forceRevert:[!1,cn.BOOLEAN],maxFiles:[null,cn.INT],checkValidity:[!1,cn.BOOLEAN],itemInsertLocationFreedom:[!0,cn.BOOLEAN],itemInsertLocation:["before",cn.STRING],itemInsertInterval:[75,cn.INT],dropOnPage:[!1,cn.BOOLEAN],dropOnElement:[!0,cn.BOOLEAN],dropValidation:[!1,cn.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],cn.ARRAY],instantUpload:[!0,cn.BOOLEAN],maxParallelUploads:[2,cn.INT],allowMinimumUploadDuration:[!0,cn.BOOLEAN],chunkUploads:[!1,cn.BOOLEAN],chunkForce:[!1,cn.BOOLEAN],chunkSize:[5e6,cn.INT],chunkRetryDelays:[[500,1e3,3e3],cn.ARRAY],server:[null,cn.SERVER_API],fileSizeBase:[1e3,cn.INT],labelFileSizeBytes:["bytes",cn.STRING],labelFileSizeKilobytes:["KB",cn.STRING],labelFileSizeMegabytes:["MB",cn.STRING],labelFileSizeGigabytes:["GB",cn.STRING],labelDecimalSeparator:[bJ(),cn.STRING],labelThousandsSeparator:[Ioe(),cn.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',cn.STRING],labelInvalidField:["Field contains invalid files",cn.STRING],labelFileWaitingForSize:["Waiting for size",cn.STRING],labelFileSizeNotAvailable:["Size not available",cn.STRING],labelFileCountSingular:["file in list",cn.STRING],labelFileCountPlural:["files in list",cn.STRING],labelFileLoading:["Loading",cn.STRING],labelFileAdded:["Added",cn.STRING],labelFileLoadError:["Error during load",cn.STRING],labelFileRemoved:["Removed",cn.STRING],labelFileRemoveError:["Error during remove",cn.STRING],labelFileProcessing:["Uploading",cn.STRING],labelFileProcessingComplete:["Upload complete",cn.STRING],labelFileProcessingAborted:["Upload cancelled",cn.STRING],labelFileProcessingError:["Error during upload",cn.STRING],labelFileProcessingRevertError:["Error during revert",cn.STRING],labelTapToCancel:["tap to cancel",cn.STRING],labelTapToRetry:["tap to retry",cn.STRING],labelTapToUndo:["tap to undo",cn.STRING],labelButtonRemoveItem:["Remove",cn.STRING],labelButtonAbortItemLoad:["Abort",cn.STRING],labelButtonRetryItemLoad:["Retry",cn.STRING],labelButtonAbortItemProcessing:["Cancel",cn.STRING],labelButtonUndoItemProcessing:["Undo",cn.STRING],labelButtonRetryItemProcessing:["Retry",cn.STRING],labelButtonProcessItem:["Upload",cn.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',cn.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',cn.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',cn.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',cn.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',cn.STRING],oninit:[null,cn.FUNCTION],onwarning:[null,cn.FUNCTION],onerror:[null,cn.FUNCTION],onactivatefile:[null,cn.FUNCTION],oninitfile:[null,cn.FUNCTION],onaddfilestart:[null,cn.FUNCTION],onaddfileprogress:[null,cn.FUNCTION],onaddfile:[null,cn.FUNCTION],onprocessfilestart:[null,cn.FUNCTION],onprocessfileprogress:[null,cn.FUNCTION],onprocessfileabort:[null,cn.FUNCTION],onprocessfilerevert:[null,cn.FUNCTION],onprocessfile:[null,cn.FUNCTION],onprocessfiles:[null,cn.FUNCTION],onremovefile:[null,cn.FUNCTION],onpreparefile:[null,cn.FUNCTION],onupdatefiles:[null,cn.FUNCTION],onreorderfiles:[null,cn.FUNCTION],beforeDropFile:[null,cn.FUNCTION],beforeAddFile:[null,cn.FUNCTION],beforeRemoveFile:[null,cn.FUNCTION],beforePrepareFile:[null,cn.FUNCTION],stylePanelLayout:[null,cn.STRING],stylePanelAspectRatio:[null,cn.STRING],styleItemPanelAspectRatio:[null,cn.STRING],styleButtonRemoveItemPosition:["left",cn.STRING],styleButtonProcessItemPosition:["right",cn.STRING],styleLoadIndicatorPosition:["right",cn.STRING],styleProgressIndicatorPosition:["right",cn.STRING],styleButtonRemoveItemAlign:[!1,cn.BOOLEAN],files:[[],cn.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],cn.ARRAY]},t2=(a,c)=>Xy(c)?a[0]||null:JO(c)?a[c]||null:(typeof c=="object"&&(c=c.id),a.find(h=>h.id===c)||null),yJ=a=>{if(Xy(a))return a;if(/:/.test(a)){const c=a.split(":");return c[1]/c[0]}return parseFloat(a)},W1=a=>a.filter(c=>!c.archived),EJ={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4};let V5=null;const Noe=()=>{if(V5===null)try{const a=new DataTransfer;a.items.add(new File(["hello world"],"This_Works.txt"));const c=document.createElement("input");c.setAttribute("type","file"),c.files=a.files,V5=c.files.length===1}catch{V5=!1}return V5},Poe=[Cs.LOAD_ERROR,Cs.PROCESSING_ERROR,Cs.PROCESSING_REVERT_ERROR],Loe=[Cs.LOADING,Cs.PROCESSING,Cs.PROCESSING_QUEUED,Cs.INIT],Boe=[Cs.PROCESSING_COMPLETE],$oe=a=>Poe.includes(a.status),Foe=a=>Loe.includes(a.status),Hoe=a=>Boe.includes(a.status),IX=a=>xu(a.options.server)&&(xu(a.options.server.process)||e2(a.options.server.process)),Voe=a=>({GET_STATUS:()=>{const c=W1(a.items),{EMPTY:h,ERROR:E,BUSY:x,IDLE:k,READY:D}=EJ;return c.length===0?h:c.some($oe)?E:c.some(Foe)?x:c.some(Hoe)?D:k},GET_ITEM:c=>t2(a.items,c),GET_ACTIVE_ITEM:c=>t2(W1(a.items),c),GET_ACTIVE_ITEMS:()=>W1(a.items),GET_ITEMS:()=>a.items,GET_ITEM_NAME:c=>{const h=t2(a.items,c);return h?h.filename:null},GET_ITEM_SIZE:c=>{const h=t2(a.items,c);return h?h.fileSize:null},GET_STYLES:()=>Object.keys(a.options).filter(c=>/^style/.test(c)).map(c=>({name:c,value:a.options[c]})),GET_PANEL_ASPECT_RATIO:()=>/circle/.test(a.options.stylePanelLayout)?1:yJ(a.options.stylePanelAspectRatio),GET_ITEM_PANEL_ASPECT_RATIO:()=>a.options.styleItemPanelAspectRatio,GET_ITEMS_BY_STATUS:c=>W1(a.items).filter(h=>h.status===c),GET_TOTAL_ITEMS:()=>W1(a.items).length,SHOULD_UPDATE_FILE_INPUT:()=>a.options.storeAsFile&&Noe()&&!IX(a),IS_ASYNC:()=>IX(a),GET_FILE_SIZE_LABELS:c=>({labelBytes:c("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:c("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:c("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:c("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0})}),Uoe=a=>{const c=W1(a.items).length;if(!a.options.allowMultiple)return c===0;const h=a.options.maxFiles;return h===null||c<h},_J=(a,c,h)=>Math.max(Math.min(h,a),c),zoe=(a,c,h)=>a.splice(c,0,h),Woe=(a,c,h)=>Xy(c)?null:typeof h>"u"?(a.push(c),c):(h=_J(h,0,a.length),zoe(a,h,c),c),Ej=a=>/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(a),sN=a=>a.split("/").pop().split("?").shift(),NH=a=>a.split(".").pop(),Goe=a=>{if(typeof a!="string")return"";const c=a.split("/").pop();return/svg/.test(c)?"svg":/zip|compressed/.test(c)?"zip":/plain/.test(c)?"txt":/msword/.test(c)?"doc":/[a-z]+/.test(c)?c==="jpeg"?"jpg":c:""},zk=(a,c="")=>(c+a).slice(-c.length),wJ=(a=new Date)=>`${a.getFullYear()}-${zk(a.getMonth()+1,"00")}-${zk(a.getDate(),"00")}_${zk(a.getHours(),"00")}-${zk(a.getMinutes(),"00")}-${zk(a.getSeconds(),"00")}`,zO=(a,c,h=null,E=null)=>{const x=typeof h=="string"?a.slice(0,a.size,h):a.slice(0,a.size,a.type);return x.lastModifiedDate=new Date,a._relativePath&&(x._relativePath=a._relativePath),$f(c)||(c=wJ()),c&&E===null&&NH(c)?x.name=c:(E=E||Goe(x.type),x.name=c+(E?"."+E:"")),x},Zoe=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,CJ=(a,c)=>{const h=Zoe();if(h){const E=new h;return E.append(a),E.getBlob(c)}return new Blob([a],{type:c})},qoe=(a,c)=>{const h=new ArrayBuffer(a.length),E=new Uint8Array(h);for(let x=0;x<a.length;x++)E[x]=a.charCodeAt(x);return CJ(h,c)},TJ=a=>(/^data:(.+);/.exec(a)||[])[1]||null,joe=a=>a.split(",")[1].replace(/\s/g,""),Yoe=a=>atob(joe(a)),Koe=a=>{const c=TJ(a),h=Yoe(a);return qoe(h,c)},Xoe=(a,c,h)=>zO(Koe(a),c,null,h),Qoe=a=>{if(!/^content-disposition:/i.test(a))return null;const c=a.split(/filename=|filename\*=.+''/).splice(1).map(h=>h.trim().replace(/^["']|[;"']{0,2}$/g,"")).filter(h=>h.length);return c.length?decodeURI(c[c.length-1]):null},Joe=a=>{if(/content-length:/i.test(a)){const c=a.match(/[0-9]+/)[0];return c?parseInt(c,10):null}return null},ese=a=>/x-content-transfer-id:/i.test(a)&&(a.split(":")[1]||"").trim()||null,Xj=a=>{const c={source:null,name:null,size:null},h=a.split(`
`);for(let E of h){const x=Qoe(E);if(x){c.name=x;continue}const k=Joe(E);if(k){c.size=k;continue}const D=ese(E);if(D){c.source=D;continue}}return c},tse=a=>{const c={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},h=()=>c.progress,E=()=>{c.request&&c.request.abort&&c.request.abort()},x=()=>{const V=c.source;D.fire("init",V),V instanceof File?D.fire("load",V):V instanceof Blob?D.fire("load",zO(V,V.name)):Ej(V)?D.fire("load",Xoe(V)):k(V)},k=V=>{if(!a){D.fire("error",{type:"error",body:"Can't load URL",code:400});return}c.timestamp=Date.now(),c.request=a(V,G=>{c.duration=Date.now()-c.timestamp,c.complete=!0,G instanceof Blob&&(G=zO(G,G.name||sN(V))),D.fire("load",G instanceof Blob?G:G?G.body:null)},G=>{D.fire("error",typeof G=="string"?{type:"error",code:0,body:G}:G)},(G,Y,K)=>{if(K&&(c.size=K),c.duration=Date.now()-c.timestamp,!G){c.progress=null;return}c.progress=Y/K,D.fire("progress",c.progress)},()=>{D.fire("abort")},G=>{const Y=Xj(typeof G=="string"?G:G.headers);D.fire("meta",{size:c.size||Y.size,filename:Y.name,source:Y.source})})},D={...kH(),setSource:V=>c.source=V,getProgress:h,abort:E,load:x};return D},DX=a=>/GET|HEAD/.test(a),s2=(a,c,h)=>{const E={onheaders:()=>{},onprogress:()=>{},onload:()=>{},ontimeout:()=>{},onerror:()=>{},onabort:()=>{},abort:()=>{x=!0,D.abort()}};let x=!1,k=!1;h={method:"POST",headers:{},withCredentials:!1,...h},c=encodeURI(c),DX(h.method)&&a&&(c=`${c}${encodeURIComponent(typeof a=="string"?a:JSON.stringify(a))}`);const D=new XMLHttpRequest,V=DX(h.method)?D:D.upload;return V.onprogress=G=>{x||E.onprogress(G.lengthComputable,G.loaded,G.total)},D.onreadystatechange=()=>{D.readyState<2||D.readyState===4&&D.status===0||k||(k=!0,E.onheaders(D))},D.onload=()=>{D.status>=200&&D.status<300?E.onload(D):E.onerror(D)},D.onerror=()=>E.onerror(D),D.onabort=()=>{x=!0,E.onabort()},D.ontimeout=()=>E.ontimeout(D),D.open(h.method,c,!0),JO(h.timeout)&&(D.timeout=h.timeout),Object.keys(h.headers).forEach(G=>{const Y=unescape(encodeURIComponent(h.headers[G]));D.setRequestHeader(G,Y)}),h.responseType&&(D.responseType=h.responseType),h.withCredentials&&(D.withCredentials=!0),D.send(a),E},el=(a,c,h,E)=>({type:a,code:c,body:h,headers:E}),r2=a=>c=>{a(el("error",0,"Timeout",c.getAllResponseHeaders()))},MX=a=>/\?/.test(a),Yk=(...a)=>{let c="";return a.forEach(h=>{c+=MX(c)&&MX(h)?h.replace(/\?/,"&"):h}),c},Wq=(a="",c)=>{if(typeof c=="function")return c;if(!c||!$f(c.url))return null;const h=c.onload||(x=>x),E=c.onerror||(x=>null);return(x,k,D,V,G,Y)=>{const K=s2(x,Yk(a,c.url),{...c,responseType:"blob"});return K.onload=re=>{const be=re.getAllResponseHeaders(),ge=Xj(be).name||sN(x);k(el("load",re.status,c.method==="HEAD"?null:zO(h(re.response),ge),be))},K.onerror=re=>{D(el("error",re.status,E(re.response)||re.statusText,re.getAllResponseHeaders()))},K.onheaders=re=>{Y(el("headers",re.status,null,re.getAllResponseHeaders()))},K.ontimeout=r2(D),K.onprogress=V,K.onabort=G,K}},pp={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},nse=(a,c,h,E,x,k,D,V,G,Y,K)=>{const re=[],{chunkTransferId:be,chunkServer:ge,chunkSize:le,chunkRetryDelays:de}=K,Ee={serverId:be,aborted:!1},De=c.ondata||(bt=>bt),ke=c.onload||((bt,Ct)=>Ct==="HEAD"?bt.getResponseHeader("Upload-Offset"):bt.response),ne=c.onerror||(bt=>null),Le=bt=>{const Ct=new FormData;xu(x)&&Ct.append(h,JSON.stringify(x));const P=typeof c.headers=="function"?c.headers(E,x):{...c.headers,"Upload-Length":E.size},Tt={...c,headers:P},Xe=s2(De(Ct),Yk(a,c.url),Tt);Xe.onload=Vt=>bt(ke(Vt,Tt.method)),Xe.onerror=Vt=>D(el("error",Vt.status,ne(Vt.response)||Vt.statusText,Vt.getAllResponseHeaders())),Xe.ontimeout=r2(D)},ct=bt=>{const Ct=Yk(a,ge.url,Ee.serverId),Tt={headers:typeof c.headers=="function"?c.headers(Ee.serverId):{...c.headers},method:"HEAD"},Xe=s2(null,Ct,Tt);Xe.onload=Vt=>bt(ke(Vt,Tt.method)),Xe.onerror=Vt=>D(el("error",Vt.status,ne(Vt.response)||Vt.statusText,Vt.getAllResponseHeaders())),Xe.ontimeout=r2(D)},$=Math.floor(E.size/le);for(let bt=0;bt<=$;bt++){const Ct=bt*le,P=E.slice(Ct,Ct+le,"application/offset+octet-stream");re[bt]={index:bt,size:P.size,offset:Ct,data:P,file:E,progress:0,retries:[...de],status:pp.QUEUED,error:null,request:null,timeout:null}}const ye=()=>k(Ee.serverId),Ge=bt=>bt.status===pp.QUEUED||bt.status===pp.ERROR,mt=bt=>{if(Ee.aborted)return;if(bt=bt||re.find(Ge),!bt){re.every(Nt=>Nt.status===pp.COMPLETE)&&ye();return}bt.status=pp.PROCESSING,bt.progress=null;const Ct=ge.ondata||(Nt=>Nt),P=ge.onerror||(Nt=>null),Tt=Yk(a,ge.url,Ee.serverId),Xe=typeof ge.headers=="function"?ge.headers(bt):{...ge.headers,"Content-Type":"application/offset+octet-stream","Upload-Offset":bt.offset,"Upload-Length":E.size,"Upload-Name":E.name},Vt=bt.request=s2(Ct(bt.data),Tt,{...ge,headers:Xe});Vt.onload=()=>{bt.status=pp.COMPLETE,bt.request=null,he()},Vt.onprogress=(Nt,Ve,uo)=>{bt.progress=Nt?Ve:null,Pe()},Vt.onerror=Nt=>{bt.status=pp.ERROR,bt.request=null,bt.error=P(Nt.response)||Nt.statusText,xt(bt)||D(el("error",Nt.status,P(Nt.response)||Nt.statusText,Nt.getAllResponseHeaders()))},Vt.ontimeout=Nt=>{bt.status=pp.ERROR,bt.request=null,xt(bt)||r2(D)(Nt)},Vt.onabort=()=>{bt.status=pp.QUEUED,bt.request=null,G()}},xt=bt=>bt.retries.length===0?!1:(bt.status=pp.WAITING,clearTimeout(bt.timeout),bt.timeout=setTimeout(()=>{mt(bt)},bt.retries.shift()),!0),Pe=()=>{const bt=re.reduce((P,Tt)=>P===null||Tt.progress===null?null:P+Tt.progress,0);if(bt===null)return V(!1,0,0);const Ct=re.reduce((P,Tt)=>P+Tt.size,0);V(!0,bt,Ct)},he=()=>{re.filter(Ct=>Ct.status===pp.PROCESSING).length>=1||mt()},dn=()=>{re.forEach(bt=>{clearTimeout(bt.timeout),bt.request&&bt.request.abort()})};return Ee.serverId?ct(bt=>{Ee.aborted||(re.filter(Ct=>Ct.offset<bt).forEach(Ct=>{Ct.status=pp.COMPLETE,Ct.progress=Ct.size}),he())}):Le(bt=>{Ee.aborted||(Y(bt),Ee.serverId=bt,he())}),{abort:()=>{Ee.aborted=!0,dn()}}},ose=(a,c,h,E)=>(x,k,D,V,G,Y,K)=>{if(!x)return;const re=E.chunkUploads,be=re&&x.size>E.chunkSize,ge=re&&(be||E.chunkForce);if(x instanceof Blob&&ge)return nse(a,c,h,x,k,D,V,G,Y,K,E);const le=c.ondata||(ct=>ct),de=c.onload||(ct=>ct),Ee=c.onerror||(ct=>null),De=typeof c.headers=="function"?c.headers(x,k)||{}:{...c.headers},ke={...c,headers:De};var ne=new FormData;xu(k)&&ne.append(h,JSON.stringify(k)),(x instanceof Blob?[{name:null,file:x}]:x).forEach(ct=>{ne.append(h,ct.file,ct.name===null?ct.file.name:`${ct.name}${ct.file.name}`)});const Le=s2(le(ne),Yk(a,c.url),ke);return Le.onload=ct=>{D(el("load",ct.status,de(ct.response),ct.getAllResponseHeaders()))},Le.onerror=ct=>{V(el("error",ct.status,Ee(ct.response)||ct.statusText,ct.getAllResponseHeaders()))},Le.ontimeout=r2(V),Le.onprogress=G,Le.onabort=Y,Le},sse=(a="",c,h,E)=>typeof c=="function"?(...x)=>c(h,...x,E):!c||!$f(c.url)?null:ose(a,c,h,E),Wk=(a="",c)=>{if(typeof c=="function")return c;if(!c||!$f(c.url))return(x,k)=>k();const h=c.onload||(x=>x),E=c.onerror||(x=>null);return(x,k,D)=>{const V=s2(x,a+c.url,c);return V.onload=G=>{k(el("load",G.status,h(G.response),G.getAllResponseHeaders()))},V.onerror=G=>{D(el("error",G.status,E(G.response)||G.statusText,G.getAllResponseHeaders()))},V.ontimeout=r2(D),V}},SJ=(a=0,c=1)=>a+Math.random()*(c-a),rse=(a,c=1e3,h=0,E=25,x=250)=>{let k=null;const D=Date.now(),V=()=>{let G=Date.now()-D,Y=SJ(E,x);G+Y>c&&(Y=G+Y-c);let K=G/c;if(K>=1||document.hidden){a(1);return}a(K),k=setTimeout(V,Y)};return c>0&&V(),{clear:()=>{clearTimeout(k)}}},ise=(a,c)=>{const h={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},{allowMinimumUploadDuration:E}=c,x=(K,re)=>{const be=()=>{h.duration===0||h.progress===null||Y.fire("progress",Y.getProgress())},ge=()=>{h.complete=!0,Y.fire("load-perceived",h.response.body)};Y.fire("start"),h.timestamp=Date.now(),h.perceivedPerformanceUpdater=rse(le=>{h.perceivedProgress=le,h.perceivedDuration=Date.now()-h.timestamp,be(),h.response&&h.perceivedProgress===1&&!h.complete&&ge()},E?SJ(750,1500):0),h.request=a(K,re,le=>{h.response=xu(le)?le:{type:"load",code:200,body:`${le}`,headers:{}},h.duration=Date.now()-h.timestamp,h.progress=1,Y.fire("load",h.response.body),(!E||E&&h.perceivedProgress===1)&&ge()},le=>{h.perceivedPerformanceUpdater.clear(),Y.fire("error",xu(le)?le:{type:"error",code:0,body:`${le}`})},(le,de,Ee)=>{h.duration=Date.now()-h.timestamp,h.progress=le?de/Ee:null,be()},()=>{h.perceivedPerformanceUpdater.clear(),Y.fire("abort",h.response?h.response.body:null)},le=>{Y.fire("transfer",le)})},k=()=>{h.request&&(h.perceivedPerformanceUpdater.clear(),h.request.abort&&h.request.abort(),h.complete=!0)},D=()=>{k(),h.complete=!1,h.perceivedProgress=0,h.progress=0,h.timestamp=null,h.perceivedDuration=0,h.duration=0,h.request=null,h.response=null},V=E?()=>h.progress?Math.min(h.progress,h.perceivedProgress):null:()=>h.progress||null,G=E?()=>Math.min(h.duration,h.perceivedDuration):()=>h.duration,Y={...kH(),process:x,abort:k,getProgress:V,getDuration:G,reset:D};return Y},xJ=a=>a.substring(0,a.lastIndexOf("."))||a,ase=a=>{let c=[a.name,a.size,a.type];return a instanceof Blob||Ej(a)?c[0]=a.name||wJ():Ej(a)?(c[1]=a.length,c[2]=TJ(a)):$f(a)&&(c[0]=sN(a),c[1]=0,c[2]="application/octet-stream"),{name:c[0],size:c[1],type:c[2]}},WO=a=>!!(a instanceof File||a instanceof Blob&&a.name),AJ=a=>{if(!xu(a))return a;const c=IH(a)?[]:{};for(const h in a){if(!a.hasOwnProperty(h))continue;const E=a[h];c[h]=E&&xu(E)?AJ(E):E}return c},cse=(a=null,c=null,h=null)=>{const E=jj(),x={archived:!1,frozen:!1,released:!1,source:null,file:h,serverFileReference:c,transferId:null,processingAborted:!1,status:c?Cs.PROCESSING_COMPLETE:Cs.INIT,activeLoader:null,activeProcessor:null};let k=null;const D={},V=Ge=>x.status=Ge,G=(Ge,...mt)=>{x.released||x.frozen||$.fire(Ge,...mt)},Y=()=>NH(x.file.name),K=()=>x.file.type,re=()=>x.file.size,be=()=>x.file,ge=(Ge,mt,xt)=>{if(x.source=Ge,$.fireSync("init"),x.file){$.fireSync("load-skip");return}x.file=ase(Ge),mt.on("init",()=>{G("load-init")}),mt.on("meta",Pe=>{x.file.size=Pe.size,x.file.filename=Pe.filename,Pe.source&&(a=Xl.LIMBO,x.serverFileReference=Pe.source,x.status=Cs.PROCESSING_COMPLETE),G("load-meta")}),mt.on("progress",Pe=>{V(Cs.LOADING),G("load-progress",Pe)}),mt.on("error",Pe=>{V(Cs.LOAD_ERROR),G("load-request-error",Pe)}),mt.on("abort",()=>{V(Cs.INIT),G("load-abort")}),mt.on("load",Pe=>{x.activeLoader=null;const he=bt=>{x.file=WO(bt)?bt:x.file,a===Xl.LIMBO&&x.serverFileReference?V(Cs.PROCESSING_COMPLETE):V(Cs.IDLE),G("load")},dn=bt=>{x.file=Pe,G("load-meta"),V(Cs.LOAD_ERROR),G("load-file-error",bt)};if(x.serverFileReference){he(Pe);return}xt(Pe,he,dn)}),mt.setSource(Ge),x.activeLoader=mt,mt.load()},le=()=>{x.activeLoader&&x.activeLoader.load()},de=()=>{if(x.activeLoader){x.activeLoader.abort();return}V(Cs.INIT),G("load-abort")},Ee=(Ge,mt)=>{if(x.processingAborted){x.processingAborted=!1;return}if(V(Cs.PROCESSING),k=null,!(x.file instanceof Blob)){$.on("load",()=>{Ee(Ge,mt)});return}Ge.on("load",he=>{x.transferId=null,x.serverFileReference=he}),Ge.on("transfer",he=>{x.transferId=he}),Ge.on("load-perceived",he=>{x.activeProcessor=null,x.transferId=null,x.serverFileReference=he,V(Cs.PROCESSING_COMPLETE),G("process-complete",he)}),Ge.on("start",()=>{G("process-start")}),Ge.on("error",he=>{x.activeProcessor=null,V(Cs.PROCESSING_ERROR),G("process-error",he)}),Ge.on("abort",he=>{x.activeProcessor=null,x.serverFileReference=he,V(Cs.IDLE),G("process-abort"),k&&k()}),Ge.on("progress",he=>{G("process-progress",he)});const xt=he=>{x.archived||Ge.process(he,{...D})},Pe=console.error;mt(x.file,xt,Pe),x.activeProcessor=Ge},De=()=>{x.processingAborted=!1,V(Cs.PROCESSING_QUEUED)},ke=()=>new Promise(Ge=>{if(!x.activeProcessor){x.processingAborted=!0,V(Cs.IDLE),G("process-abort"),Ge();return}k=()=>{Ge()},x.activeProcessor.abort()}),ne=(Ge,mt)=>new Promise((xt,Pe)=>{const he=x.serverFileReference!==null?x.serverFileReference:x.transferId;if(he===null){xt();return}Ge(he,()=>{x.serverFileReference=null,x.transferId=null,xt()},dn=>{if(!mt){xt();return}V(Cs.PROCESSING_REVERT_ERROR),G("process-revert-error"),Pe(dn)}),V(Cs.IDLE),G("process-revert")}),Le=(Ge,mt,xt)=>{const Pe=Ge.split("."),he=Pe[0],dn=Pe.pop();let bt=D;Pe.forEach(Ct=>bt=bt[Ct]),JSON.stringify(bt[dn])!==JSON.stringify(mt)&&(bt[dn]=mt,G("metadata-update",{key:he,value:D[he],silent:xt}))},$={id:{get:()=>E},origin:{get:()=>a,set:Ge=>a=Ge},serverId:{get:()=>x.serverFileReference},transferId:{get:()=>x.transferId},status:{get:()=>x.status},filename:{get:()=>x.file.name},filenameWithoutExtension:{get:()=>xJ(x.file.name)},fileExtension:{get:Y},fileType:{get:K},fileSize:{get:re},file:{get:be},relativePath:{get:()=>x.file._relativePath},source:{get:()=>x.source},getMetadata:Ge=>AJ(Ge?D[Ge]:D),setMetadata:(Ge,mt,xt)=>{if(xu(Ge)){const Pe=Ge;return Object.keys(Pe).forEach(he=>{Le(he,Pe[he],mt)}),Ge}return Le(Ge,mt,xt),mt},extend:(Ge,mt)=>ye[Ge]=mt,abortLoad:de,retryLoad:le,requestProcessing:De,abortProcessing:ke,load:ge,process:Ee,revert:ne,...kH(),freeze:()=>x.frozen=!0,release:()=>x.released=!0,released:{get:()=>x.released},archive:()=>x.archived=!0,archived:{get:()=>x.archived}},ye=Ow($);return ye},lse=(a,c)=>Xy(c)?0:$f(c)?a.findIndex(h=>h.id===c):-1,kX=(a,c)=>{const h=lse(a,c);if(!(h<0))return a[h]||null},NX=(a,c,h,E,x,k)=>{const D=s2(null,a,{method:"GET",responseType:"blob"});return D.onload=V=>{const G=V.getAllResponseHeaders(),Y=Xj(G).name||sN(a);c(el("load",V.status,zO(V.response,Y),G))},D.onerror=V=>{h(el("error",V.status,V.statusText,V.getAllResponseHeaders()))},D.onheaders=V=>{k(el("headers",V.status,null,V.getAllResponseHeaders()))},D.ontimeout=r2(h),D.onprogress=E,D.onabort=x,D},PX=a=>(a.indexOf("//")===0&&(a=location.protocol+a),a.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]),use=a=>(a.indexOf(":")>-1||a.indexOf("//")>-1)&&PX(location.href)!==PX(a),U5=a=>(...c)=>e2(a)?a(...c):a,dse=a=>!WO(a.file),Gq=(a,c)=>{clearTimeout(c.listUpdateTimeout),c.listUpdateTimeout=setTimeout(()=>{a("DID_UPDATE_ITEMS",{items:W1(c.items)})},0)},LX=(a,...c)=>new Promise(h=>{if(!a)return h(!0);const E=a(...c);if(E==null)return h(!0);if(typeof E=="boolean")return h(E);typeof E.then=="function"&&E.then(h)}),Zq=(a,c)=>{a.items.sort((h,E)=>c($h(h),$h(E)))},vp=(a,c)=>({query:h,success:E=()=>{},failure:x=()=>{},...k}={})=>{const D=t2(a.items,h);if(!D){x({error:el("error",0,"Item not found"),file:null});return}c(D,E,x,k||{})},fse=(a,c,h)=>({ABORT_ALL:()=>{W1(h.items).forEach(E=>{E.freeze(),E.abortLoad(),E.abortProcessing()})},DID_SET_FILES:({value:E=[]})=>{const x=E.map(D=>({source:D.source?D.source:D,options:D.options}));let k=W1(h.items);k.forEach(D=>{x.find(V=>V.source===D.source||V.source===D.file)||a("REMOVE_ITEM",{query:D,remove:!1})}),k=W1(h.items),x.forEach((D,V)=>{k.find(G=>G.source===D.source||G.file===D.source)||a("ADD_ITEM",{...D,interactionMethod:Ep.NONE,index:V})})},DID_UPDATE_ITEM_METADATA:({id:E,action:x,change:k})=>{k.silent||(clearTimeout(h.itemUpdateTimeout),h.itemUpdateTimeout=setTimeout(()=>{const D=kX(h.items,E);if(!c("IS_ASYNC")){z1("SHOULD_PREPARE_OUTPUT",!1,{item:D,query:c,action:x,change:k}).then(K=>{const re=c("GET_BEFORE_PREPARE_FILE");re&&(K=re(D,K)),K&&a("REQUEST_PREPARE_OUTPUT",{query:E,item:D,success:be=>{a("DID_PREPARE_OUTPUT",{id:E,file:be})}},!0)});return}D.origin===Xl.LOCAL&&a("DID_LOAD_ITEM",{id:D.id,error:null,serverFileReference:D.source});const V=()=>{setTimeout(()=>{a("REQUEST_ITEM_PROCESSING",{query:E})},32)},G=K=>{D.revert(Wk(h.options.server.url,h.options.server.revert),c("GET_FORCE_REVERT")).then(K?V:()=>{}).catch(()=>{})},Y=K=>{D.abortProcessing().then(K?V:()=>{})};if(D.status===Cs.PROCESSING_COMPLETE)return G(h.options.instantUpload);if(D.status===Cs.PROCESSING)return Y(h.options.instantUpload);h.options.instantUpload&&V()},0))},MOVE_ITEM:({query:E,index:x})=>{const k=t2(h.items,E);if(!k)return;const D=h.items.indexOf(k);x=_J(x,0,h.items.length-1),D!==x&&h.items.splice(x,0,h.items.splice(D,1)[0])},SORT:({compare:E})=>{Zq(h,E),a("DID_SORT_ITEMS",{items:c("GET_ACTIVE_ITEMS")})},ADD_ITEMS:({items:E,index:x,interactionMethod:k,success:D=()=>{},failure:V=()=>{}})=>{let G=x;if(x===-1||typeof x>"u"){const ge=c("GET_ITEM_INSERT_LOCATION"),le=c("GET_TOTAL_ITEMS");G=ge==="before"?0:le}const Y=c("GET_IGNORED_FILES"),K=ge=>WO(ge)?!Y.includes(ge.name.toLowerCase()):!Xy(ge),be=E.filter(K).map(ge=>new Promise((le,de)=>{a("ADD_ITEM",{interactionMethod:k,source:ge.source||ge,success:le,failure:de,index:G++,options:ge.options||{}})}));Promise.all(be).then(D).catch(V)},ADD_ITEM:({source:E,index:x=-1,interactionMethod:k,success:D=()=>{},failure:V=()=>{},options:G={}})=>{if(Xy(E)){V({error:el("error",0,"No source"),file:null});return}if(WO(E)&&h.options.ignoredFiles.includes(E.name.toLowerCase()))return;if(!Uoe(h)){if(h.options.allowMultiple||!h.options.allowMultiple&&!h.options.allowReplace){const ke=el("warning",0,"Max files");a("DID_THROW_MAX_FILES",{source:E,error:ke}),V({error:ke,file:null});return}const De=W1(h.items)[0];if(De.status===Cs.PROCESSING_COMPLETE||De.status===Cs.PROCESSING_REVERT_ERROR){const ke=c("GET_FORCE_REVERT");if(De.revert(Wk(h.options.server.url,h.options.server.revert),ke).then(()=>{ke&&a("ADD_ITEM",{source:E,index:x,interactionMethod:k,success:D,failure:V,options:G})}).catch(()=>{}),ke)return}a("REMOVE_ITEM",{query:De.id})}const Y=G.type==="local"?Xl.LOCAL:G.type==="limbo"?Xl.LIMBO:Xl.INPUT,K=cse(Y,Y===Xl.INPUT?null:E,G.file);Object.keys(G.metadata||{}).forEach(De=>{K.setMetadata(De,G.metadata[De])}),u2("DID_CREATE_ITEM",K,{query:c,dispatch:a});const re=c("GET_ITEM_INSERT_LOCATION");h.options.itemInsertLocationFreedom||(x=re==="before"?-1:h.items.length),Woe(h.items,K,x),e2(re)&&E&&Zq(h,re);const be=K.id;K.on("init",()=>{a("DID_INIT_ITEM",{id:be})}),K.on("load-init",()=>{a("DID_START_ITEM_LOAD",{id:be})}),K.on("load-meta",()=>{a("DID_UPDATE_ITEM_META",{id:be})}),K.on("load-progress",De=>{a("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:be,progress:De})}),K.on("load-request-error",De=>{const ke=U5(h.options.labelFileLoadError)(De);if(De.code>=400&&De.code<500){a("DID_THROW_ITEM_INVALID",{id:be,error:De,status:{main:ke,sub:`${De.code} (${De.body})`}}),V({error:De,file:$h(K)});return}a("DID_THROW_ITEM_LOAD_ERROR",{id:be,error:De,status:{main:ke,sub:h.options.labelTapToRetry}})}),K.on("load-file-error",De=>{a("DID_THROW_ITEM_INVALID",{id:be,error:De.status,status:De.status}),V({error:De.status,file:$h(K)})}),K.on("load-abort",()=>{a("REMOVE_ITEM",{query:be})}),K.on("load-skip",()=>{a("COMPLETE_LOAD_ITEM",{query:be,item:K,data:{source:E,success:D}})}),K.on("load",()=>{const De=ke=>{if(!ke){a("REMOVE_ITEM",{query:be});return}K.on("metadata-update",ne=>{a("DID_UPDATE_ITEM_METADATA",{id:be,change:ne})}),z1("SHOULD_PREPARE_OUTPUT",!1,{item:K,query:c}).then(ne=>{const Le=c("GET_BEFORE_PREPARE_FILE");Le&&(ne=Le(K,ne));const ct=()=>{a("COMPLETE_LOAD_ITEM",{query:be,item:K,data:{source:E,success:D}}),Gq(a,h)};if(ne){a("REQUEST_PREPARE_OUTPUT",{query:be,item:K,success:$=>{a("DID_PREPARE_OUTPUT",{id:be,file:$}),ct()}},!0);return}ct()})};z1("DID_LOAD_ITEM",K,{query:c,dispatch:a}).then(()=>{LX(c("GET_BEFORE_ADD_FILE"),$h(K)).then(De)}).catch(ke=>{if(!ke||!ke.error||!ke.status)return De(!1);a("DID_THROW_ITEM_INVALID",{id:be,error:ke.error,status:ke.status})})}),K.on("process-start",()=>{a("DID_START_ITEM_PROCESSING",{id:be})}),K.on("process-progress",De=>{a("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:be,progress:De})}),K.on("process-error",De=>{a("DID_THROW_ITEM_PROCESSING_ERROR",{id:be,error:De,status:{main:U5(h.options.labelFileProcessingError)(De),sub:h.options.labelTapToRetry}})}),K.on("process-revert-error",De=>{a("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:be,error:De,status:{main:U5(h.options.labelFileProcessingRevertError)(De),sub:h.options.labelTapToRetry}})}),K.on("process-complete",De=>{a("DID_COMPLETE_ITEM_PROCESSING",{id:be,error:null,serverFileReference:De}),a("DID_DEFINE_VALUE",{id:be,value:De})}),K.on("process-abort",()=>{a("DID_ABORT_ITEM_PROCESSING",{id:be})}),K.on("process-revert",()=>{a("DID_REVERT_ITEM_PROCESSING",{id:be}),a("DID_DEFINE_VALUE",{id:be,value:null})}),a("DID_ADD_ITEM",{id:be,index:x,interactionMethod:k}),Gq(a,h);const{url:ge,load:le,restore:de,fetch:Ee}=h.options.server||{};K.load(E,tse(Y===Xl.INPUT?$f(E)&&use(E)&&Ee?Wq(ge,Ee):NX:Y===Xl.LIMBO?Wq(ge,de):Wq(ge,le)),(De,ke,ne)=>{z1("LOAD_FILE",De,{query:c}).then(ke).catch(ne)})},REQUEST_PREPARE_OUTPUT:({item:E,success:x,failure:k=()=>{}})=>{const D={error:el("error",0,"Item not found"),file:null};if(E.archived)return k(D);z1("PREPARE_OUTPUT",E.file,{query:c,item:E}).then(V=>{z1("COMPLETE_PREPARE_OUTPUT",V,{query:c,item:E}).then(G=>{if(E.archived)return k(D);x(G)})})},COMPLETE_LOAD_ITEM:({item:E,data:x})=>{const{success:k,source:D}=x,V=c("GET_ITEM_INSERT_LOCATION");if(e2(V)&&D&&Zq(h,V),a("DID_LOAD_ITEM",{id:E.id,error:null,serverFileReference:E.origin===Xl.INPUT?null:D}),k($h(E)),E.origin===Xl.LOCAL){a("DID_LOAD_LOCAL_ITEM",{id:E.id});return}if(E.origin===Xl.LIMBO){a("DID_COMPLETE_ITEM_PROCESSING",{id:E.id,error:null,serverFileReference:D}),a("DID_DEFINE_VALUE",{id:E.id,value:E.serverId||D});return}c("IS_ASYNC")&&h.options.instantUpload&&a("REQUEST_ITEM_PROCESSING",{query:E.id})},RETRY_ITEM_LOAD:vp(h,E=>{E.retryLoad()}),REQUEST_ITEM_PREPARE:vp(h,(E,x,k)=>{a("REQUEST_PREPARE_OUTPUT",{query:E.id,item:E,success:D=>{a("DID_PREPARE_OUTPUT",{id:E.id,file:D}),x({file:E,output:D})},failure:k},!0)}),REQUEST_ITEM_PROCESSING:vp(h,(E,x,k)=>{if(!(E.status===Cs.IDLE||E.status===Cs.PROCESSING_ERROR)){const V=()=>a("REQUEST_ITEM_PROCESSING",{query:E,success:x,failure:k}),G=()=>document.hidden?V():setTimeout(V,32);E.status===Cs.PROCESSING_COMPLETE||E.status===Cs.PROCESSING_REVERT_ERROR?E.revert(Wk(h.options.server.url,h.options.server.revert),c("GET_FORCE_REVERT")).then(G).catch(()=>{}):E.status===Cs.PROCESSING&&E.abortProcessing().then(G);return}E.status!==Cs.PROCESSING_QUEUED&&(E.requestProcessing(),a("DID_REQUEST_ITEM_PROCESSING",{id:E.id}),a("PROCESS_ITEM",{query:E,success:x,failure:k},!0))}),PROCESS_ITEM:vp(h,(E,x,k)=>{const D=c("GET_MAX_PARALLEL_UPLOADS");if(c("GET_ITEMS_BY_STATUS",Cs.PROCESSING).length===D){h.processingQueue.push({id:E.id,success:x,failure:k});return}if(E.status===Cs.PROCESSING)return;const G=()=>{const K=h.processingQueue.shift();if(!K)return;const{id:re,success:be,failure:ge}=K,le=t2(h.items,re);if(!le||le.archived){G();return}a("PROCESS_ITEM",{query:re,success:be,failure:ge},!0)};E.onOnce("process-complete",()=>{x($h(E)),G();const K=h.options.server;if(h.options.instantUpload&&E.origin===Xl.LOCAL&&e2(K.remove)){const ge=()=>{};E.origin=Xl.LIMBO,h.options.server.remove(E.source,ge,ge)}c("GET_ITEMS_BY_STATUS",Cs.PROCESSING_COMPLETE).length===h.items.length&&a("DID_COMPLETE_ITEM_PROCESSING_ALL")}),E.onOnce("process-error",K=>{k({error:K,file:$h(E)}),G()});const Y=h.options;E.process(ise(sse(Y.server.url,Y.server.process,Y.name,{chunkTransferId:E.transferId,chunkServer:Y.server.patch,chunkUploads:Y.chunkUploads,chunkForce:Y.chunkForce,chunkSize:Y.chunkSize,chunkRetryDelays:Y.chunkRetryDelays}),{allowMinimumUploadDuration:c("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),(K,re,be)=>{z1("PREPARE_OUTPUT",K,{query:c,item:E}).then(ge=>{a("DID_PREPARE_OUTPUT",{id:E.id,file:ge}),re(ge)}).catch(be)})}),RETRY_ITEM_PROCESSING:vp(h,E=>{a("REQUEST_ITEM_PROCESSING",{query:E})}),REQUEST_REMOVE_ITEM:vp(h,E=>{LX(c("GET_BEFORE_REMOVE_FILE"),$h(E)).then(x=>{x&&a("REMOVE_ITEM",{query:E})})}),RELEASE_ITEM:vp(h,E=>{E.release()}),REMOVE_ITEM:vp(h,(E,x,k,D)=>{const V=()=>{const Y=E.id;kX(h.items,Y).archive(),a("DID_REMOVE_ITEM",{error:null,id:Y,item:E}),Gq(a,h),x($h(E))},G=h.options.server;E.origin===Xl.LOCAL&&G&&e2(G.remove)&&D.remove!==!1?(a("DID_START_ITEM_REMOVE",{id:E.id}),G.remove(E.source,()=>V(),Y=>{a("DID_THROW_ITEM_REMOVE_ERROR",{id:E.id,error:el("error",0,Y,null),status:{main:U5(h.options.labelFileRemoveError)(Y),sub:h.options.labelTapToRetry}})})):((D.revert&&E.origin!==Xl.LOCAL&&E.serverId!==null||h.options.chunkUploads&&E.file.size>h.options.chunkSize||h.options.chunkUploads&&h.options.chunkForce)&&E.revert(Wk(h.options.server.url,h.options.server.revert),c("GET_FORCE_REVERT")),V())}),ABORT_ITEM_LOAD:vp(h,E=>{E.abortLoad()}),ABORT_ITEM_PROCESSING:vp(h,E=>{if(E.serverId){a("REVERT_ITEM_PROCESSING",{id:E.id});return}E.abortProcessing().then(()=>{h.options.instantUpload&&a("REMOVE_ITEM",{query:E.id})})}),REQUEST_REVERT_ITEM_PROCESSING:vp(h,E=>{if(!h.options.instantUpload){a("REVERT_ITEM_PROCESSING",{query:E});return}const x=V=>{V&&a("REVERT_ITEM_PROCESSING",{query:E})},k=c("GET_BEFORE_REMOVE_FILE");if(!k)return x(!0);const D=k($h(E));if(D==null)return x(!0);if(typeof D=="boolean")return x(D);typeof D.then=="function"&&D.then(x)}),REVERT_ITEM_PROCESSING:vp(h,E=>{E.revert(Wk(h.options.server.url,h.options.server.revert),c("GET_FORCE_REVERT")).then(()=>{(h.options.instantUpload||dse(E))&&a("REMOVE_ITEM",{query:E.id})}).catch(()=>{})}),SET_OPTIONS:({options:E})=>{const x=Object.keys(E),k=hse.filter(V=>x.includes(V));[...k,...Object.keys(E).filter(V=>!k.includes(V))].forEach(V=>{a(`SET_${MH(V,"_").toUpperCase()}`,{value:E[V]})})}}),hse=["server"],Qj=a=>a,Qy=a=>document.createElement(a),tl=(a,c)=>{let h=a.childNodes[0];h?c!==h.nodeValue&&(h.nodeValue=c):(h=document.createTextNode(c),a.appendChild(h))},BX=(a,c,h,E)=>{const x=(E%360-90)*Math.PI/180;return{x:a+h*Math.cos(x),y:c+h*Math.sin(x)}},mse=(a,c,h,E,x,k)=>{const D=BX(a,c,h,x),V=BX(a,c,h,E);return["M",D.x,D.y,"A",h,h,0,k,0,V.x,V.y].join(" ")},gse=(a,c,h,E,x)=>{let k=1;return x>E&&x-E<=.5&&(k=0),E>x&&E-x>=.5&&(k=0),mse(a,c,h,Math.min(.9999,E)*360,Math.min(.9999,x)*360,k)},pse=({root:a,props:c})=>{c.spin=!1,c.progress=0,c.opacity=0;const h=bH("svg");a.ref.path=bH("path",{"stroke-width":2,"stroke-linecap":"round"}),h.appendChild(a.ref.path),a.ref.svg=h,a.appendChild(h)},vse=({root:a,props:c})=>{if(c.opacity===0)return;c.align&&(a.element.dataset.align=c.align);const h=parseInt(Cl(a.ref.path,"stroke-width"),10),E=a.rect.element.width*.5;let x=0,k=0;c.spin?(x=0,k=.5):(x=0,k=c.progress);const D=gse(E,E,E-h,x,k);Cl(a.ref.path,"d",D),Cl(a.ref.path,"stroke-opacity",c.spin||c.progress>0?1:0)},$X=Tl({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:pse,write:vse,mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),bse=({root:a,props:c})=>{a.element.innerHTML=(c.icon||"")+`<span>${c.label}</span>`,c.isDisabled=!1},yse=({root:a,props:c})=>{const{isDisabled:h}=c,E=a.query("GET_DISABLED")||c.opacity===0;E&&!h?(c.isDisabled=!0,Cl(a.element,"disabled","disabled")):!E&&h&&(c.isDisabled=!1,a.element.removeAttribute("disabled"))},OJ=Tl({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:bse,write:yse}),RJ=(a,c=".",h=1e3,E={})=>{const{labelBytes:x="bytes",labelKilobytes:k="KB",labelMegabytes:D="MB",labelGigabytes:V="GB"}=E;a=Math.round(Math.abs(a));const G=h,Y=h*h,K=h*h*h;return a<G?`${a} ${x}`:a<Y?`${Math.floor(a/G)} ${k}`:a<K?`${FX(a/Y,1,c)} ${D}`:`${FX(a/K,2,c)} ${V}`},FX=(a,c,h)=>a.toFixed(c).split(".").filter(E=>E!=="0").join(h),Ese=({root:a,props:c})=>{const h=Qy("span");h.className="filepond--file-info-main",Cl(h,"aria-hidden","true"),a.appendChild(h),a.ref.fileName=h;const E=Qy("span");E.className="filepond--file-info-sub",a.appendChild(E),a.ref.fileSize=E,tl(E,a.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),tl(h,Qj(a.query("GET_ITEM_NAME",c.id)))},_j=({root:a,props:c})=>{tl(a.ref.fileSize,RJ(a.query("GET_ITEM_SIZE",c.id),".",a.query("GET_FILE_SIZE_BASE"),a.query("GET_FILE_SIZE_LABELS",a.query))),tl(a.ref.fileName,Qj(a.query("GET_ITEM_NAME",c.id)))},HX=({root:a,props:c})=>{if(JO(a.query("GET_ITEM_SIZE",c.id))){_j({root:a,props:c});return}tl(a.ref.fileSize,a.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},_se=Tl({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:Ff({DID_LOAD_ITEM:_j,DID_UPDATE_ITEM_META:_j,DID_THROW_ITEM_LOAD_ERROR:HX,DID_THROW_ITEM_INVALID:HX}),didCreateView:a=>{u2("CREATE_VIEW",{...a,view:a})},create:Ese,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),IJ=a=>Math.round(a*100),wse=({root:a})=>{const c=Qy("span");c.className="filepond--file-status-main",a.appendChild(c),a.ref.main=c;const h=Qy("span");h.className="filepond--file-status-sub",a.appendChild(h),a.ref.sub=h,DJ({root:a,action:{progress:null}})},DJ=({root:a,action:c})=>{const h=c.progress===null?a.query("GET_LABEL_FILE_LOADING"):`${a.query("GET_LABEL_FILE_LOADING")} ${IJ(c.progress)}%`;tl(a.ref.main,h),tl(a.ref.sub,a.query("GET_LABEL_TAP_TO_CANCEL"))},Cse=({root:a,action:c})=>{const h=c.progress===null?a.query("GET_LABEL_FILE_PROCESSING"):`${a.query("GET_LABEL_FILE_PROCESSING")} ${IJ(c.progress)}%`;tl(a.ref.main,h),tl(a.ref.sub,a.query("GET_LABEL_TAP_TO_CANCEL"))},Tse=({root:a})=>{tl(a.ref.main,a.query("GET_LABEL_FILE_PROCESSING")),tl(a.ref.sub,a.query("GET_LABEL_TAP_TO_CANCEL"))},Sse=({root:a})=>{tl(a.ref.main,a.query("GET_LABEL_FILE_PROCESSING_ABORTED")),tl(a.ref.sub,a.query("GET_LABEL_TAP_TO_RETRY"))},xse=({root:a})=>{tl(a.ref.main,a.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),tl(a.ref.sub,a.query("GET_LABEL_TAP_TO_UNDO"))},VX=({root:a})=>{tl(a.ref.main,""),tl(a.ref.sub,"")},Gk=({root:a,action:c})=>{tl(a.ref.main,c.status.main),tl(a.ref.sub,c.status.sub)},Ase=Tl({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:Ff({DID_LOAD_ITEM:VX,DID_REVERT_ITEM_PROCESSING:VX,DID_REQUEST_ITEM_PROCESSING:Tse,DID_ABORT_ITEM_PROCESSING:Sse,DID_COMPLETE_ITEM_PROCESSING:xse,DID_UPDATE_ITEM_PROCESS_PROGRESS:Cse,DID_UPDATE_ITEM_LOAD_PROGRESS:DJ,DID_THROW_ITEM_LOAD_ERROR:Gk,DID_THROW_ITEM_INVALID:Gk,DID_THROW_ITEM_PROCESSING_ERROR:Gk,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:Gk,DID_THROW_ITEM_REMOVE_ERROR:Gk}),didCreateView:a=>{u2("CREATE_VIEW",{...a,view:a})},create:wse,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),wj={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},Cj=[];Pc(wj,a=>{Cj.push(a)});const Qm=a=>{if(Tj(a)==="right")return 0;const c=a.ref.buttonRemoveItem.rect.element;return c.hidden?null:c.width+c.left},Ose=a=>a.ref.buttonAbortItemLoad.rect.element.width,z5=a=>Math.floor(a.ref.buttonRemoveItem.rect.element.height/4),Rse=a=>Math.floor(a.ref.buttonRemoveItem.rect.element.left/2),Ise=a=>a.query("GET_STYLE_LOAD_INDICATOR_POSITION"),Dse=a=>a.query("GET_STYLE_PROGRESS_INDICATOR_POSITION"),Tj=a=>a.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION"),Mse={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:Ise},processProgressIndicator:{opacity:0,align:Dse},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},UX={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Qm},status:{translateX:Qm}},qq={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},PO={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:Qm},status:{translateX:Qm,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:Qm},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:Tj},info:{translateX:Qm},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:Tj},buttonRemoveItem:{opacity:1},info:{translateX:Qm},status:{opacity:1,translateX:Qm}},DID_LOAD_ITEM:UX,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:Qm},status:{translateX:Qm}},DID_START_ITEM_PROCESSING:qq,DID_REQUEST_ITEM_PROCESSING:qq,DID_UPDATE_ITEM_PROCESS_PROGRESS:qq,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:Qm}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Qm},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:UX},kse=Tl({create:({root:a})=>{a.element.innerHTML=a.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),Nse=({root:a,props:c})=>{const h=Object.keys(wj).reduce((le,de)=>(le[de]={...wj[de]},le),{}),{id:E}=c,x=a.query("GET_ALLOW_REVERT"),k=a.query("GET_ALLOW_REMOVE"),D=a.query("GET_ALLOW_PROCESS"),V=a.query("GET_INSTANT_UPLOAD"),G=a.query("IS_ASYNC"),Y=a.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");let K;G?D&&!x?K=le=>!/RevertItemProcessing/.test(le):!D&&x?K=le=>!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(le):!D&&!x&&(K=le=>!/Process/.test(le)):K=le=>!/Process/.test(le);const re=K?Cj.filter(K):Cj.concat();if(V&&x&&(h.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",h.RevertItemProcessing.icon="GET_ICON_REMOVE"),G&&!x){const le=PO.DID_COMPLETE_ITEM_PROCESSING;le.info.translateX=Rse,le.info.translateY=z5,le.status.translateY=z5,le.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(G&&!D&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(le=>{PO[le].status.translateY=z5}),PO.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=Ose),Y&&x){h.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";const le=PO.DID_COMPLETE_ITEM_PROCESSING;le.info.translateX=Qm,le.status.translateY=z5,le.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}k||(h.RemoveItem.disabled=!0),Pc(h,(le,de)=>{const Ee=a.createChildView(OJ,{label:a.query(de.label),icon:a.query(de.icon),opacity:0});re.includes(le)&&a.appendChildView(Ee),de.disabled&&(Ee.element.setAttribute("disabled","disabled"),Ee.element.setAttribute("hidden","hidden")),Ee.element.dataset.align=a.query(`GET_STYLE_${de.align}`),Ee.element.classList.add(de.className),Ee.on("click",De=>{De.stopPropagation(),!de.disabled&&a.dispatch(de.action,{query:E})}),a.ref[`button${le}`]=Ee}),a.ref.processingCompleteIndicator=a.appendChildView(a.createChildView(kse)),a.ref.processingCompleteIndicator.element.dataset.align=a.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),a.ref.info=a.appendChildView(a.createChildView(_se,{id:E})),a.ref.status=a.appendChildView(a.createChildView(Ase,{id:E}));const be=a.appendChildView(a.createChildView($X,{opacity:0,align:a.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));be.element.classList.add("filepond--load-indicator"),a.ref.loadProgressIndicator=be;const ge=a.appendChildView(a.createChildView($X,{opacity:0,align:a.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));ge.element.classList.add("filepond--process-indicator"),a.ref.processProgressIndicator=ge,a.ref.activeStyles=[]},Pse=({root:a,actions:c,props:h})=>{Lse({root:a,actions:c,props:h});let E=c.concat().filter(x=>/^DID_/.test(x.type)).reverse().find(x=>PO[x.type]);if(E){a.ref.activeStyles=[];const x=PO[E.type];Pc(Mse,(k,D)=>{const V=a.ref[k];Pc(D,(G,Y)=>{const K=x[k]&&typeof x[k][G]<"u"?x[k][G]:Y;a.ref.activeStyles.push({control:V,key:G,value:K})})})}a.ref.activeStyles.forEach(({control:x,key:k,value:D})=>{x[k]=typeof D=="function"?D(a):D})},Lse=Ff({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:({root:a,action:c})=>{a.ref.buttonAbortItemProcessing.label=c.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:({root:a,action:c})=>{a.ref.buttonAbortItemLoad.label=c.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:({root:a,action:c})=>{a.ref.buttonAbortItemRemoval.label=c.value},DID_REQUEST_ITEM_PROCESSING:({root:a})=>{a.ref.processProgressIndicator.spin=!0,a.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:({root:a})=>{a.ref.loadProgressIndicator.spin=!0,a.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:({root:a})=>{a.ref.processProgressIndicator.spin=!0,a.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:({root:a,action:c})=>{a.ref.loadProgressIndicator.spin=!1,a.ref.loadProgressIndicator.progress=c.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:({root:a,action:c})=>{a.ref.processProgressIndicator.spin=!1,a.ref.processProgressIndicator.progress=c.progress}}),Bse=Tl({create:Nse,write:Pse,didCreateView:a=>{u2("CREATE_VIEW",{...a,view:a})},name:"file"}),$se=({root:a,props:c})=>{a.ref.fileName=Qy("legend"),a.appendChild(a.ref.fileName),a.ref.file=a.appendChildView(a.createChildView(Bse,{id:c.id})),a.ref.data=!1},Fse=({root:a,props:c})=>{tl(a.ref.fileName,Qj(a.query("GET_ITEM_NAME",c.id)))},Hse=Tl({create:$se,ignoreRect:!0,write:Ff({DID_LOAD_ITEM:Fse}),didCreateView:a=>{u2("CREATE_VIEW",{...a,view:a})},tag:"fieldset",name:"file-wrapper"}),zX={type:"spring",damping:.6,mass:7},Vse=({root:a,props:c})=>{[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:zX},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:zX},styles:["translateY"]}}].forEach(h=>{Use(a,h,c.name)}),a.element.classList.add(`filepond--${c.name}`),a.ref.scalable=null},Use=(a,c,h)=>{const E=Tl({name:`panel-${c.name} filepond--${h}`,mixins:c.mixins,ignoreRectUpdate:!0}),x=a.createChildView(E,c.props);a.ref[c.name]=a.appendChildView(x)},zse=({root:a,props:c})=>{if((a.ref.scalable===null||c.scalable!==a.ref.scalable)&&(a.ref.scalable=fJ(c.scalable)?c.scalable:!0,a.element.dataset.scalable=a.ref.scalable),!c.height)return;const h=a.ref.top.rect.element,E=a.ref.bottom.rect.element,x=Math.max(h.height+E.height,c.height);a.ref.center.translateY=h.height,a.ref.center.scaleY=(x-h.height-E.height)/100,a.ref.bottom.translateY=x-E.height},MJ=Tl({name:"panel",read:({root:a,props:c})=>c.heightCurrent=a.ref.bottom.translateY,write:zse,create:Vse,ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),Wse=a=>{const c=a.map(E=>E.id);let h;return{setIndex:E=>{h=E},getIndex:()=>h,getItemIndex:E=>c.indexOf(E.id)}},WX={type:"spring",stiffness:.75,damping:.45,mass:10},GX="spring",ZX={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},Gse=({root:a,props:c})=>{if(a.ref.handleClick=E=>a.dispatch("DID_ACTIVATE_ITEM",{id:c.id}),a.element.id=`filepond--item-${c.id}`,a.element.addEventListener("click",a.ref.handleClick),a.ref.container=a.appendChildView(a.createChildView(Hse,{id:c.id})),a.ref.panel=a.appendChildView(a.createChildView(MJ,{name:"item-panel"})),a.ref.panel.height=null,c.markedForRemoval=!1,!a.query("GET_ALLOW_REORDER"))return;a.element.dataset.dragState="idle";const h=E=>{if(!E.isPrimary)return;let x=!1;const k={x:E.pageX,y:E.pageY};c.dragOrigin={x:a.translateX,y:a.translateY},c.dragCenter={x:E.offsetX,y:E.offsetY};const D=Wse(a.query("GET_ACTIVE_ITEMS"));a.dispatch("DID_GRAB_ITEM",{id:c.id,dragState:D});const V=Y=>{if(!Y.isPrimary)return;Y.stopPropagation(),Y.preventDefault(),c.dragOffset={x:Y.pageX-k.x,y:Y.pageY-k.y},c.dragOffset.x*c.dragOffset.x+c.dragOffset.y*c.dragOffset.y>16&&!x&&(x=!0,a.element.removeEventListener("click",a.ref.handleClick)),a.dispatch("DID_DRAG_ITEM",{id:c.id,dragState:D})},G=Y=>{Y.isPrimary&&(document.removeEventListener("pointermove",V),document.removeEventListener("pointerup",G),c.dragOffset={x:Y.pageX-k.x,y:Y.pageY-k.y},a.dispatch("DID_DROP_ITEM",{id:c.id,dragState:D}),x&&setTimeout(()=>a.element.addEventListener("click",a.ref.handleClick),0))};document.addEventListener("pointermove",V),document.addEventListener("pointerup",G)};a.element.addEventListener("pointerdown",h)},Zse=Ff({DID_UPDATE_PANEL_HEIGHT:({root:a,action:c})=>{a.height=c.height}}),qse=Ff({DID_GRAB_ITEM:({root:a,props:c})=>{c.dragOrigin={x:a.translateX,y:a.translateY}},DID_DRAG_ITEM:({root:a})=>{a.element.dataset.dragState="drag"},DID_DROP_ITEM:({root:a,props:c})=>{c.dragOffset=null,c.dragOrigin=null,a.element.dataset.dragState="drop"}},({root:a,actions:c,props:h,shouldOptimize:E})=>{a.element.dataset.dragState==="drop"&&a.scaleX<=1&&(a.element.dataset.dragState="idle");let x=c.concat().filter(D=>/^DID_/.test(D.type)).reverse().find(D=>ZX[D.type]);x&&x.type!==h.currentState&&(h.currentState=x.type,a.element.dataset.filepondItemState=ZX[h.currentState]||"");const k=a.query("GET_ITEM_PANEL_ASPECT_RATIO")||a.query("GET_PANEL_ASPECT_RATIO");k?E||(a.height=a.rect.element.width*k):(Zse({root:a,actions:c,props:h}),!a.height&&a.ref.container.rect.element.height>0&&(a.height=a.ref.container.rect.element.height)),E&&(a.ref.panel.height=null),a.ref.panel.height=a.height}),jse=Tl({create:Gse,write:qse,destroy:({root:a,props:c})=>{a.element.removeEventListener("click",a.ref.handleClick),a.dispatch("RELEASE_ITEM",{query:c.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:GX,scaleY:GX,translateX:WX,translateY:WX,opacity:{type:"tween",duration:150}}}});var Jj=(a,c)=>Math.max(1,Math.floor((a+1)/c));const eY=(a,c,h)=>{if(!h)return;const E=a.rect.element.width,x=c.length;let k=null;if(x===0||h.top<c[0].rect.element.top)return-1;const V=c[0].rect.element,G=V.marginLeft+V.marginRight,Y=V.width+G,K=Jj(E,Y);if(K===1){for(let ge=0;ge<x;ge++){const le=c[ge],de=le.rect.outer.top+le.rect.element.height*.5;if(h.top<de)return ge}return x}const re=V.marginTop+V.marginBottom,be=V.height+re;for(let ge=0;ge<x;ge++){const le=ge%K,de=Math.floor(ge/K),Ee=le*Y,De=de*be,ke=De-V.marginTop,ne=Ee+Y,Le=De+be+V.marginBottom;if(h.top<Le&&h.top>ke){if(h.left<ne)return ge;ge!==x-1?k=ge:k=null}}return k!==null?k:x},W5={height:0,width:0,get getHeight(){return this.height},set setHeight(a){(this.height===0||a===0)&&(this.height=a)},get getWidth(){return this.width},set setWidth(a){(this.width===0||a===0)&&(this.width=a)},setDimensions:function(a,c){(this.height===0||a===0)&&(this.height=a),(this.width===0||c===0)&&(this.width=c)}},Yse=({root:a})=>{Cl(a.element,"role","list"),a.ref.lastItemSpanwDate=Date.now()},Kse=({root:a,action:c})=>{const{id:h,index:E,interactionMethod:x}=c;a.ref.addIndex=E;const k=Date.now();let D=k,V=1;if(x!==Ep.NONE){V=0;const G=a.query("GET_ITEM_INSERT_INTERVAL"),Y=k-a.ref.lastItemSpanwDate;D=Y<G?k+(G-Y):k}a.ref.lastItemSpanwDate=D,a.appendChildView(a.createChildView(jse,{spawnDate:D,id:h,opacity:V,interactionMethod:x}),E)},qX=(a,c,h,E=0,x=1)=>{a.dragOffset?(a.translateX=null,a.translateY=null,a.translateX=a.dragOrigin.x+a.dragOffset.x,a.translateY=a.dragOrigin.y+a.dragOffset.y,a.scaleX=1.025,a.scaleY=1.025):(a.translateX=c,a.translateY=h,Date.now()>a.spawnDate&&(a.opacity===0&&Xse(a,c,h,E,x),a.scaleX=1,a.scaleY=1,a.opacity=1))},Xse=(a,c,h,E,x)=>{a.interactionMethod===Ep.NONE?(a.translateX=null,a.translateX=c,a.translateY=null,a.translateY=h):a.interactionMethod===Ep.DROP?(a.translateX=null,a.translateX=c-E*20,a.translateY=null,a.translateY=h-x*10,a.scaleX=.8,a.scaleY=.8):a.interactionMethod===Ep.BROWSE?(a.translateY=null,a.translateY=h-30):a.interactionMethod===Ep.API&&(a.translateX=null,a.translateX=c-30,a.translateY=null)},Qse=({root:a,action:c})=>{const{id:h}=c,E=a.childViews.find(x=>x.id===h);E&&(E.scaleX=.9,E.scaleY=.9,E.opacity=0,E.markedForRemoval=!0)},jq=a=>a.rect.element.height+a.rect.element.marginBottom*.5+a.rect.element.marginTop*.5,Jse=a=>a.rect.element.width+a.rect.element.marginLeft*.5+a.rect.element.marginRight*.5,ere=({root:a,action:c})=>{const{id:h,dragState:E}=c,x=a.query("GET_ITEM",{id:h}),k=a.childViews.find(Ee=>Ee.id===h),D=a.childViews.length,V=E.getItemIndex(x);if(!k)return;const G={x:k.dragOrigin.x+k.dragOffset.x+k.dragCenter.x,y:k.dragOrigin.y+k.dragOffset.y+k.dragCenter.y},Y=jq(k),K=Jse(k);let re=Math.floor(a.rect.outer.width/K);re>D&&(re=D);const be=Math.floor(D/re+1);W5.setHeight=Y*be,W5.setWidth=K*re;var ge={y:Math.floor(G.y/Y),x:Math.floor(G.x/K),getGridIndex:function(){return G.y>W5.getHeight||G.y<0||G.x>W5.getWidth||G.x<0?V:this.y*re+this.x},getColIndex:function(){const De=a.query("GET_ACTIVE_ITEMS"),ke=a.childViews.filter(Pe=>Pe.rect.element.height),ne=De.map(Pe=>ke.find(he=>he.id===Pe.id)),Le=ne.findIndex(Pe=>Pe===k),ct=jq(k),$=ne.length;let ye=$,Ge=0,mt=0,xt=0;for(let Pe=0;Pe<$;Pe++)if(Ge=jq(ne[Pe]),xt=mt,mt=xt+Ge,G.y<mt){if(Le>Pe){if(G.y<xt+ct){ye=Pe;break}continue}ye=Pe;break}return ye}};const le=re>1?ge.getGridIndex():ge.getColIndex();a.dispatch("MOVE_ITEM",{query:k,index:le});const de=E.getIndex();if(de===void 0||de!==le){if(E.setIndex(le),de===void 0)return;a.dispatch("DID_REORDER_ITEMS",{items:a.query("GET_ACTIVE_ITEMS"),origin:V,target:le})}},tre=Ff({DID_ADD_ITEM:Kse,DID_REMOVE_ITEM:Qse,DID_DRAG_ITEM:ere}),nre=({root:a,props:c,actions:h,shouldOptimize:E})=>{tre({root:a,props:c,actions:h});const{dragCoordinates:x}=c,k=a.rect.element.width,D=a.childViews.filter(ne=>ne.rect.element.height),V=a.query("GET_ACTIVE_ITEMS").map(ne=>D.find(Le=>Le.id===ne.id)).filter(ne=>ne),G=x?eY(a,V,x):null,Y=a.ref.addIndex||null;a.ref.addIndex=null;let K=0,re=0,be=0;if(V.length===0)return;const ge=V[0].rect.element,le=ge.marginTop+ge.marginBottom,de=ge.marginLeft+ge.marginRight,Ee=ge.width+de,De=ge.height+le,ke=Jj(k,Ee);if(ke===1){let ne=0,Le=0;V.forEach((ct,$)=>{if(G){let mt=$-G;mt===-2?Le=-le*.25:mt===-1?Le=-le*.75:mt===0?Le=le*.75:mt===1?Le=le*.25:Le=0}E&&(ct.translateX=null,ct.translateY=null),ct.markedForRemoval||qX(ct,0,ne+Le);let Ge=(ct.rect.element.height+le)*(ct.markedForRemoval?ct.opacity:1);ne+=Ge})}else{let ne=0,Le=0;V.forEach((ct,$)=>{$===G&&(K=1),$===Y&&(be+=1),ct.markedForRemoval&&ct.opacity<.5&&(re-=1);const ye=$+be+K+re,Ge=ye%ke,mt=Math.floor(ye/ke),xt=Ge*Ee,Pe=mt*De,he=Math.sign(xt-ne),dn=Math.sign(Pe-Le);ne=xt,Le=Pe,!ct.markedForRemoval&&(E&&(ct.translateX=null,ct.translateY=null),qX(ct,xt,Pe,he,dn))})}},ore=(a,c)=>c.filter(h=>h.data&&h.data.id?a.id===h.data.id:!0),sre=Tl({create:Yse,write:nre,tag:"ul",name:"list",didWriteView:({root:a})=>{a.childViews.filter(c=>c.markedForRemoval&&c.opacity===0&&c.resting).forEach(c=>{c._destroy(),a.removeChildView(c)})},filterFrameActionsForChild:ore,mixins:{apis:["dragCoordinates"]}}),rre=({root:a,props:c})=>{a.ref.list=a.appendChildView(a.createChildView(sre)),c.dragCoordinates=null,c.overflowing=!1},ire=({root:a,props:c,action:h})=>{a.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(c.dragCoordinates={left:h.position.scopeLeft-a.ref.list.rect.element.left,top:h.position.scopeTop-(a.rect.outer.top+a.rect.element.marginTop+a.rect.element.scrollTop)})},are=({props:a})=>{a.dragCoordinates=null},cre=Ff({DID_DRAG:ire,DID_END_DRAG:are}),lre=({root:a,props:c,actions:h})=>{if(cre({root:a,props:c,actions:h}),a.ref.list.dragCoordinates=c.dragCoordinates,c.overflowing&&!c.overflow&&(c.overflowing=!1,a.element.dataset.state="",a.height=null),c.overflow){const E=Math.round(c.overflow);E!==a.height&&(c.overflowing=!0,a.element.dataset.state="overflow",a.height=E)}},ure=Tl({create:rre,write:lre,name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),G1=(a,c,h,E="")=>{h?Cl(a,c,E):a.removeAttribute(c)},dre=a=>{if(!(!a||a.value==="")){try{a.value=""}catch{}if(a.value){const c=Qy("form"),h=a.parentNode,E=a.nextSibling;c.appendChild(a),c.reset(),E?h.insertBefore(a,E):h.appendChild(a)}}},fre=({root:a,props:c})=>{a.element.id=`filepond--browser-${c.id}`,Cl(a.element,"name",a.query("GET_NAME")),Cl(a.element,"aria-controls",`filepond--assistant-${c.id}`),Cl(a.element,"aria-labelledby",`filepond--drop-label-${c.id}`),kJ({root:a,action:{value:a.query("GET_ACCEPTED_FILE_TYPES")}}),NJ({root:a,action:{value:a.query("GET_ALLOW_MULTIPLE")}}),PJ({root:a,action:{value:a.query("GET_ALLOW_DIRECTORIES_ONLY")}}),Sj({root:a}),LJ({root:a,action:{value:a.query("GET_REQUIRED")}}),BJ({root:a,action:{value:a.query("GET_CAPTURE_METHOD")}}),a.ref.handleChange=h=>{if(!a.element.value)return;const E=Array.from(a.element.files).map(x=>(x._relativePath=x.webkitRelativePath,x));setTimeout(()=>{c.onload(E),dre(a.element)},250)},a.element.addEventListener("change",a.ref.handleChange)},kJ=({root:a,action:c})=>{a.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&G1(a.element,"accept",!!c.value,c.value?c.value.join(","):"")},NJ=({root:a,action:c})=>{G1(a.element,"multiple",c.value)},PJ=({root:a,action:c})=>{G1(a.element,"webkitdirectory",c.value)},Sj=({root:a})=>{const c=a.query("GET_DISABLED"),h=a.query("GET_ALLOW_BROWSE"),E=c||!h;G1(a.element,"disabled",E)},LJ=({root:a,action:c})=>{c.value?a.query("GET_TOTAL_ITEMS")===0&&G1(a.element,"required",!0):G1(a.element,"required",!1)},BJ=({root:a,action:c})=>{G1(a.element,"capture",!!c.value,c.value===!0?"":c.value)},jX=({root:a})=>{const{element:c}=a;a.query("GET_TOTAL_ITEMS")>0?(G1(c,"required",!1),G1(c,"name",!1)):(G1(c,"name",!0,a.query("GET_NAME")),a.query("GET_CHECK_VALIDITY")&&c.setCustomValidity(""),a.query("GET_REQUIRED")&&G1(c,"required",!0))},hre=({root:a})=>{a.query("GET_CHECK_VALIDITY")&&a.element.setCustomValidity(a.query("GET_LABEL_INVALID_FIELD"))},mre=Tl({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:fre,destroy:({root:a})=>{a.element.removeEventListener("change",a.ref.handleChange)},write:Ff({DID_LOAD_ITEM:jX,DID_REMOVE_ITEM:jX,DID_THROW_ITEM_INVALID:hre,DID_SET_DISABLED:Sj,DID_SET_ALLOW_BROWSE:Sj,DID_SET_ALLOW_DIRECTORIES_ONLY:PJ,DID_SET_ALLOW_MULTIPLE:NJ,DID_SET_ACCEPTED_FILE_TYPES:kJ,DID_SET_CAPTURE_METHOD:BJ,DID_SET_REQUIRED:LJ})}),YX={ENTER:13,SPACE:32},gre=({root:a,props:c})=>{const h=Qy("label");Cl(h,"for",`filepond--browser-${c.id}`),Cl(h,"id",`filepond--drop-label-${c.id}`),Cl(h,"aria-hidden","true"),a.ref.handleKeyDown=E=>{(E.keyCode===YX.ENTER||E.keyCode===YX.SPACE)&&(E.preventDefault(),a.ref.label.click())},a.ref.handleClick=E=>{E.target===h||h.contains(E.target)||a.ref.label.click()},h.addEventListener("keydown",a.ref.handleKeyDown),a.element.addEventListener("click",a.ref.handleClick),$J(h,c.caption),a.appendChild(h),a.ref.label=h},$J=(a,c)=>{a.innerHTML=c;const h=a.querySelector(".filepond--label-action");return h&&Cl(h,"tabindex","0"),c},pre=Tl({name:"drop-label",ignoreRect:!0,create:gre,destroy:({root:a})=>{a.ref.label.addEventListener("keydown",a.ref.handleKeyDown),a.element.removeEventListener("click",a.ref.handleClick)},write:Ff({DID_SET_LABEL_IDLE:({root:a,action:c})=>{$J(a.ref.label,c.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),vre=Tl({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),bre=({root:a})=>{const c=a.rect.element.width*.5,h=a.rect.element.height*.5;a.ref.blob=a.appendChildView(a.createChildView(vre,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:c,translateY:h}))},yre=({root:a,action:c})=>{if(!a.ref.blob){bre({root:a});return}a.ref.blob.translateX=c.position.scopeLeft,a.ref.blob.translateY=c.position.scopeTop,a.ref.blob.scaleX=1,a.ref.blob.scaleY=1,a.ref.blob.opacity=1},Ere=({root:a})=>{a.ref.blob&&(a.ref.blob.opacity=0)},_re=({root:a})=>{a.ref.blob&&(a.ref.blob.scaleX=2.5,a.ref.blob.scaleY=2.5,a.ref.blob.opacity=0)},wre=({root:a,props:c,actions:h})=>{Cre({root:a,props:c,actions:h});const{blob:E}=a.ref;h.length===0&&E&&E.opacity===0&&(a.removeChildView(E),a.ref.blob=null)},Cre=Ff({DID_DRAG:yre,DID_DROP:_re,DID_END_DRAG:Ere}),Tre=Tl({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:wre}),FJ=(a,c)=>{try{const h=new DataTransfer;c.forEach(E=>{E instanceof File?h.items.add(E):h.items.add(new File([E],E.name,{type:E.type}))}),a.files=h.files}catch{return!1}return!0},Sre=({root:a})=>a.ref.fields={},PH=(a,c)=>a.ref.fields[c],tY=a=>{a.query("GET_ACTIVE_ITEMS").forEach(c=>{a.ref.fields[c.id]&&a.element.appendChild(a.ref.fields[c.id])})},KX=({root:a})=>tY(a),xre=({root:a,action:c})=>{const x=!(a.query("GET_ITEM",c.id).origin===Xl.LOCAL)&&a.query("SHOULD_UPDATE_FILE_INPUT"),k=Qy("input");k.type=x?"file":"hidden",k.name=a.query("GET_NAME"),k.disabled=a.query("GET_DISABLED"),a.ref.fields[c.id]=k,tY(a)},Are=({root:a,action:c})=>{const h=PH(a,c.id);if(!h||(c.serverFileReference!==null&&(h.value=c.serverFileReference),!a.query("SHOULD_UPDATE_FILE_INPUT")))return;const E=a.query("GET_ITEM",c.id);FJ(h,[E.file])},Ore=({root:a,action:c})=>{a.query("SHOULD_UPDATE_FILE_INPUT")&&setTimeout(()=>{const h=PH(a,c.id);h&&FJ(h,[c.file])},0)},Rre=({root:a})=>{a.element.disabled=a.query("GET_DISABLED")},Ire=({root:a,action:c})=>{const h=PH(a,c.id);h&&(h.parentNode&&h.parentNode.removeChild(h),delete a.ref.fields[c.id])},Dre=({root:a,action:c})=>{const h=PH(a,c.id);h&&(c.value===null?h.removeAttribute("value"):h.value=c.value,tY(a))},Mre=Ff({DID_SET_DISABLED:Rre,DID_ADD_ITEM:xre,DID_LOAD_ITEM:Are,DID_REMOVE_ITEM:Ire,DID_DEFINE_VALUE:Dre,DID_PREPARE_OUTPUT:Ore,DID_REORDER_ITEMS:KX,DID_SORT_ITEMS:KX}),kre=Tl({tag:"fieldset",name:"data",create:Sre,write:Mre,ignoreRect:!0}),Nre=a=>"getRootNode"in a?a.getRootNode():document,Pre=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],Lre=["css","csv","html","txt"],Bre={zip:"zip|compressed",epub:"application/epub+zip"},HJ=(a="")=>(a=a.toLowerCase(),Pre.includes(a)?"image/"+(a==="jpg"?"jpeg":a==="svg"?"svg+xml":a):Lre.includes(a)?"text/"+a:Bre[a]||""),nY=a=>new Promise((c,h)=>{const E=Gre(a);if(E.length&&!$re(a))return c(E);Fre(a).then(c)}),$re=a=>a.files?a.files.length>0:!1,Fre=a=>new Promise((c,h)=>{const E=(a.items?Array.from(a.items):[]).filter(x=>Hre(x)).map(x=>Vre(x));if(!E.length){c(a.files?Array.from(a.files):[]);return}Promise.all(E).then(x=>{const k=[];x.forEach(D=>{k.push.apply(k,D)}),c(k.filter(D=>D).map(D=>(D._relativePath||(D._relativePath=D.webkitRelativePath),D)))}).catch(console.error)}),Hre=a=>{if(VJ(a)){const c=oY(a);if(c)return c.isFile||c.isDirectory}return a.kind==="file"},Vre=a=>new Promise((c,h)=>{if(Wre(a)){Ure(oY(a)).then(c).catch(h);return}c([a.getAsFile()])}),Ure=a=>new Promise((c,h)=>{const E=[];let x=0,k=0;const D=()=>{k===0&&x===0&&c(E)},V=G=>{x++;const Y=G.createReader(),K=()=>{Y.readEntries(re=>{if(re.length===0){x--,D();return}re.forEach(be=>{be.isDirectory?V(be):(k++,be.file(ge=>{const le=zre(ge);be.fullPath&&(le._relativePath=be.fullPath),E.push(le),k--,D()}))}),K()},h)};K()};V(a)}),zre=a=>{if(a.type.length)return a;const c=a.lastModifiedDate,h=a.name,E=HJ(NH(a.name));return E.length&&(a=a.slice(0,a.size,E),a.name=h,a.lastModifiedDate=c),a},Wre=a=>VJ(a)&&(oY(a)||{}).isDirectory,VJ=a=>"webkitGetAsEntry"in a,oY=a=>a.webkitGetAsEntry(),Gre=a=>{let c=[];try{if(c=qre(a),c.length)return c;c=Zre(a)}catch{}return c},Zre=a=>{let c=a.getData("url");return typeof c=="string"&&c.length?[c]:[]},qre=a=>{let c=a.getData("text/html");if(typeof c=="string"&&c.length){const h=c.match(/src\s*=\s*"(.+?)"/);if(h)return[h[1]]}return[]},EH=[],i2=a=>({pageLeft:a.pageX,pageTop:a.pageY,scopeLeft:a.offsetX||a.layerX,scopeTop:a.offsetY||a.layerY}),jre=(a,c,h)=>{const E=Yre(c),x={element:a,filterElement:h,state:null,ondrop:()=>{},onenter:()=>{},ondrag:()=>{},onexit:()=>{},onload:()=>{},allowdrop:()=>{}};return x.destroy=E.addListener(x),x},Yre=a=>{const c=EH.find(E=>E.element===a);if(c)return c;const h=Kre(a);return EH.push(h),h},Kre=a=>{const c=[],h={dragenter:Qre,dragover:Jre,dragleave:tie,drop:eie},E={};Pc(h,(k,D)=>{E[k]=D(a,c),a.addEventListener(k,E[k],!1)});const x={element:a,addListener:k=>(c.push(k),()=>{c.splice(c.indexOf(k),1),c.length===0&&(EH.splice(EH.indexOf(x),1),Pc(h,D=>{a.removeEventListener(D,E[D],!1)}))})};return x},Xre=(a,c)=>("elementFromPoint"in a||(a=document),a.elementFromPoint(c.x,c.y)),sY=(a,c)=>{const h=Nre(c),E=Xre(h,{x:a.pageX-window.pageXOffset,y:a.pageY-window.pageYOffset});return E===c||c.contains(E)};let UJ=null;const G5=(a,c)=>{try{a.dropEffect=c}catch{}},Qre=(a,c)=>h=>{h.preventDefault(),UJ=h.target,c.forEach(E=>{const{element:x,onenter:k}=E;sY(h,x)&&(E.state="enter",k(i2(h)))})},Jre=(a,c)=>h=>{h.preventDefault();const E=h.dataTransfer;nY(E).then(x=>{let k=!1;c.some(D=>{const{filterElement:V,element:G,onenter:Y,onexit:K,ondrag:re,allowdrop:be}=D;G5(E,"copy");const ge=be(x);if(!ge){G5(E,"none");return}if(sY(h,G)){if(k=!0,D.state===null){D.state="enter",Y(i2(h));return}if(D.state="over",V&&!ge){G5(E,"none");return}re(i2(h))}else V&&!k&&G5(E,"none"),D.state&&(D.state=null,K(i2(h)))})})},eie=(a,c)=>h=>{h.preventDefault();const E=h.dataTransfer;nY(E).then(x=>{c.forEach(k=>{const{filterElement:D,element:V,ondrop:G,onexit:Y,allowdrop:K}=k;if(k.state=null,!(D&&!sY(h,V))){if(!K(x))return Y(i2(h));G(i2(h),x)}})})},tie=(a,c)=>h=>{UJ===h.target&&c.forEach(E=>{const{onexit:x}=E;E.state=null,x(i2(h))})},nie=(a,c,h)=>{a.classList.add("filepond--hopper");const{catchesDropsOnPage:E,requiresDropOnElement:x,filterItems:k=K=>K}=h,D=jre(a,E?document.documentElement:a,x);let V="",G="";D.allowdrop=K=>c(k(K)),D.ondrop=(K,re)=>{const be=k(re);if(!c(be)){Y.ondragend(K);return}G="drag-drop",Y.onload(be,K)},D.ondrag=K=>{Y.ondrag(K)},D.onenter=K=>{G="drag-over",Y.ondragstart(K)},D.onexit=K=>{G="drag-exit",Y.ondragend(K)};const Y={updateHopperState:()=>{V!==G&&(a.dataset.hopperState=G,V=G)},onload:()=>{},ondragstart:()=>{},ondrag:()=>{},ondragend:()=>{},destroy:()=>{D.destroy()}};return Y};let xj=!1;const FO=[],zJ=a=>{const c=document.activeElement;if(c&&/textarea|input/i.test(c.nodeName)){let h=!1,E=c;for(;E!==document.body;){if(E.classList.contains("filepond--root")){h=!0;break}E=E.parentNode}if(!h)return}nY(a.clipboardData).then(h=>{h.length&&FO.forEach(E=>E(h))})},oie=a=>{FO.includes(a)||(FO.push(a),!xj&&(xj=!0,document.addEventListener("paste",zJ)))},sie=a=>{Yj(FO,FO.indexOf(a)),FO.length===0&&(document.removeEventListener("paste",zJ),xj=!1)},rie=()=>{const a=h=>{c.onload(h)},c={destroy:()=>{sie(a)},onload:()=>{}};return oie(a),c},iie=({root:a,props:c})=>{a.element.id=`filepond--assistant-${c.id}`,Cl(a.element,"role","status"),Cl(a.element,"aria-live","polite"),Cl(a.element,"aria-relevant","additions")};let XX=null,QX=null;const Yq=[],LH=(a,c)=>{a.element.textContent=c},aie=a=>{a.element.textContent=""},WJ=(a,c,h)=>{const E=a.query("GET_TOTAL_ITEMS");LH(a,`${h} ${c}, ${E} ${E===1?a.query("GET_LABEL_FILE_COUNT_SINGULAR"):a.query("GET_LABEL_FILE_COUNT_PLURAL")}`),clearTimeout(QX),QX=setTimeout(()=>{aie(a)},1500)},GJ=a=>a.element.parentNode.contains(document.activeElement),cie=({root:a,action:c})=>{if(!GJ(a))return;a.element.textContent="";const h=a.query("GET_ITEM",c.id);Yq.push(h.filename),clearTimeout(XX),XX=setTimeout(()=>{WJ(a,Yq.join(", "),a.query("GET_LABEL_FILE_ADDED")),Yq.length=0},750)},lie=({root:a,action:c})=>{if(!GJ(a))return;const h=c.item;WJ(a,h.filename,a.query("GET_LABEL_FILE_REMOVED"))},uie=({root:a,action:c})=>{const E=a.query("GET_ITEM",c.id).filename,x=a.query("GET_LABEL_FILE_PROCESSING_COMPLETE");LH(a,`${E} ${x}`)},JX=({root:a,action:c})=>{const E=a.query("GET_ITEM",c.id).filename,x=a.query("GET_LABEL_FILE_PROCESSING_ABORTED");LH(a,`${E} ${x}`)},Z5=({root:a,action:c})=>{const E=a.query("GET_ITEM",c.id).filename;LH(a,`${c.status.main} ${E} ${c.status.sub}`)},die=Tl({create:iie,ignoreRect:!0,ignoreRectUpdate:!0,write:Ff({DID_LOAD_ITEM:cie,DID_REMOVE_ITEM:lie,DID_COMPLETE_ITEM_PROCESSING:uie,DID_ABORT_ITEM_PROCESSING:JX,DID_REVERT_ITEM_PROCESSING:JX,DID_THROW_ITEM_REMOVE_ERROR:Z5,DID_THROW_ITEM_LOAD_ERROR:Z5,DID_THROW_ITEM_INVALID:Z5,DID_THROW_ITEM_PROCESSING_ERROR:Z5}),tag:"span",name:"assistant"}),ZJ=(a,c="-")=>a.replace(new RegExp(`${c}.`,"g"),h=>h.charAt(1).toUpperCase()),qJ=(a,c=16,h=!0)=>{let E=Date.now(),x=null;return(...k)=>{clearTimeout(x);const D=Date.now()-E,V=()=>{E=Date.now(),a(...k)};D<c?h||(x=setTimeout(V,c-D)):V()}},fie=1e6,_H=a=>a.preventDefault(),hie=({root:a,props:c})=>{const h=a.query("GET_ID");h&&(a.element.id=h);const E=a.query("GET_CLASS_NAME");E&&E.split(" ").filter(G=>G.length).forEach(G=>{a.element.classList.add(G)}),a.ref.label=a.appendChildView(a.createChildView(pre,{...c,translateY:null,caption:a.query("GET_LABEL_IDLE")})),a.ref.list=a.appendChildView(a.createChildView(ure,{translateY:null})),a.ref.panel=a.appendChildView(a.createChildView(MJ,{name:"panel-root"})),a.ref.assistant=a.appendChildView(a.createChildView(die,{...c})),a.ref.data=a.appendChildView(a.createChildView(kre,{...c})),a.ref.measure=Qy("div"),a.ref.measure.style.height="100%",a.element.appendChild(a.ref.measure),a.ref.bounds=null,a.query("GET_STYLES").filter(G=>!Xy(G.value)).map(({name:G,value:Y})=>{a.element.dataset[G]=Y}),a.ref.widthPrevious=null,a.ref.widthUpdated=qJ(()=>{a.ref.updateHistory=[],a.dispatch("DID_RESIZE_ROOT")},250),a.ref.previousAspectRatio=null,a.ref.updateHistory=[];const x=window.matchMedia("(pointer: fine) and (hover: hover)").matches,k="PointerEvent"in window;a.query("GET_ALLOW_REORDER")&&k&&!x&&(a.element.addEventListener("touchmove",_H,{passive:!1}),a.element.addEventListener("gesturestart",_H));const D=a.query("GET_CREDITS");if(D.length===2){const G=document.createElement("a");G.className="filepond--credits",G.setAttribute("aria-hidden","true"),G.href=D[0],G.tabindex=-1,G.target="_blank",G.rel="noopener noreferrer",G.textContent=D[1],a.element.appendChild(G),a.ref.credits=G}},mie=({root:a,props:c,actions:h})=>{if(yie({root:a,props:c,actions:h}),h.filter($=>/^DID_SET_STYLE_/.test($.type)).filter($=>!Xy($.data.value)).map(({type:$,data:ye})=>{const Ge=ZJ($.substring(8).toLowerCase(),"_");a.element.dataset[Ge]=ye.value,a.invalidateLayout()}),a.rect.element.hidden)return;a.rect.element.width!==a.ref.widthPrevious&&(a.ref.widthPrevious=a.rect.element.width,a.ref.widthUpdated());let E=a.ref.bounds;E||(E=a.ref.bounds=vie(a),a.element.removeChild(a.ref.measure),a.ref.measure=null);const{hopper:x,label:k,list:D,panel:V}=a.ref;x&&x.updateHopperState();const G=a.query("GET_PANEL_ASPECT_RATIO"),Y=a.query("GET_ALLOW_MULTIPLE"),K=a.query("GET_TOTAL_ITEMS"),re=Y?a.query("GET_MAX_FILES")||fie:1,be=K===re,ge=h.find($=>$.type==="DID_ADD_ITEM");if(be&&ge){const $=ge.data.interactionMethod;k.opacity=0,Y?k.translateY=-40:$===Ep.API?k.translateX=40:$===Ep.BROWSE?k.translateY=40:k.translateY=30}else be||(k.opacity=1,k.translateX=0,k.translateY=0);const le=gie(a),de=pie(a),Ee=k.rect.element.height,De=!Y||be?0:Ee,ke=be?D.rect.element.marginTop:0,ne=K===0?0:D.rect.element.marginBottom,Le=De+ke+de.visual+ne,ct=De+ke+de.bounds+ne;if(D.translateY=Math.max(0,De-D.rect.element.marginTop)-le.top,G){const $=a.rect.element.width,ye=$*G;G!==a.ref.previousAspectRatio&&(a.ref.previousAspectRatio=G,a.ref.updateHistory=[]);const Ge=a.ref.updateHistory;Ge.push($);const mt=2;if(Ge.length>mt*2){const Pe=Ge.length,he=Pe-10;let dn=0;for(let bt=Pe;bt>=he;bt--)if(Ge[bt]===Ge[bt-2]&&dn++,dn>=mt)return}V.scalable=!1,V.height=ye;const xt=ye-De-(ne-le.bottom)-(be?ke:0);de.visual>xt?D.overflow=xt:D.overflow=null,a.height=ye}else if(E.fixedHeight){V.scalable=!1;const $=E.fixedHeight-De-(ne-le.bottom)-(be?ke:0);de.visual>$?D.overflow=$:D.overflow=null}else if(E.cappedHeight){const $=Le>=E.cappedHeight,ye=Math.min(E.cappedHeight,Le);V.scalable=!0,V.height=$?ye:ye-le.top-le.bottom;const Ge=ye-De-(ne-le.bottom)-(be?ke:0);Le>E.cappedHeight&&de.visual>Ge?D.overflow=Ge:D.overflow=null,a.height=Math.min(E.cappedHeight,ct-le.top-le.bottom)}else{const $=K>0?le.top+le.bottom:0;V.scalable=!0,V.height=Math.max(Ee,Le-$),a.height=Math.max(Ee,ct-$)}a.ref.credits&&V.heightCurrent&&(a.ref.credits.style.transform=`translateY(${V.heightCurrent}px)`)},gie=a=>{const c=a.ref.list.childViews[0].childViews[0];return c?{top:c.rect.element.marginTop,bottom:c.rect.element.marginBottom}:{top:0,bottom:0}},pie=a=>{let c=0,h=0;const E=a.ref.list,x=E.childViews[0],k=x.childViews.filter(ke=>ke.rect.element.height),D=a.query("GET_ACTIVE_ITEMS").map(ke=>k.find(ne=>ne.id===ke.id)).filter(ke=>ke);if(D.length===0)return{visual:c,bounds:h};const V=x.rect.element.width,G=eY(x,D,E.dragCoordinates),Y=D[0].rect.element,K=Y.marginTop+Y.marginBottom,re=Y.marginLeft+Y.marginRight,be=Y.width+re,ge=Y.height+K,le=typeof G<"u"&&G>=0?1:0,de=D.find(ke=>ke.markedForRemoval&&ke.opacity<.45)?-1:0,Ee=D.length+le+de,De=Jj(V,be);return De===1?D.forEach(ke=>{const ne=ke.rect.element.height+K;h+=ne,c+=ne*ke.opacity}):(h=Math.ceil(Ee/De)*ge,c=h),{visual:c,bounds:h}},vie=a=>{const c=a.ref.measureHeight||null;return{cappedHeight:parseInt(a.style.maxHeight,10)||null,fixedHeight:c===0?null:c}},rY=(a,c)=>{const h=a.query("GET_ALLOW_REPLACE"),E=a.query("GET_ALLOW_MULTIPLE"),x=a.query("GET_TOTAL_ITEMS");let k=a.query("GET_MAX_FILES");const D=c.length;return!E&&D>1?(a.dispatch("DID_THROW_MAX_FILES",{source:c,error:el("warning",0,"Max files")}),!0):(k=E?k:1,!E&&h?!1:JO(k)&&x+D>k?(a.dispatch("DID_THROW_MAX_FILES",{source:c,error:el("warning",0,"Max files")}),!0):!1)},bie=(a,c,h)=>{const E=a.childViews[0];return eY(E,c,{left:h.scopeLeft-E.rect.element.left,top:h.scopeTop-(a.rect.outer.top+a.rect.element.marginTop+a.rect.element.scrollTop)})},eQ=a=>{const c=a.query("GET_ALLOW_DROP"),h=a.query("GET_DISABLED"),E=c&&!h;if(E&&!a.ref.hopper){const x=nie(a.element,k=>{const D=a.query("GET_BEFORE_DROP_FILE")||(()=>!0);return a.query("GET_DROP_VALIDATION")?k.every(G=>u2("ALLOW_HOPPER_ITEM",G,{query:a.query}).every(Y=>Y===!0)&&D(G)):!0},{filterItems:k=>{const D=a.query("GET_IGNORED_FILES");return k.filter(V=>WO(V)?!D.includes(V.name.toLowerCase()):!0)},catchesDropsOnPage:a.query("GET_DROP_ON_PAGE"),requiresDropOnElement:a.query("GET_DROP_ON_ELEMENT")});x.onload=(k,D)=>{const G=a.ref.list.childViews[0].childViews.filter(K=>K.rect.element.height),Y=a.query("GET_ACTIVE_ITEMS").map(K=>G.find(re=>re.id===K.id)).filter(K=>K);z1("ADD_ITEMS",k,{dispatch:a.dispatch}).then(K=>{if(rY(a,K))return!1;a.dispatch("ADD_ITEMS",{items:K,index:bie(a.ref.list,Y,D),interactionMethod:Ep.DROP})}),a.dispatch("DID_DROP",{position:D}),a.dispatch("DID_END_DRAG",{position:D})},x.ondragstart=k=>{a.dispatch("DID_START_DRAG",{position:k})},x.ondrag=qJ(k=>{a.dispatch("DID_DRAG",{position:k})}),x.ondragend=k=>{a.dispatch("DID_END_DRAG",{position:k})},a.ref.hopper=x,a.ref.drip=a.appendChildView(a.createChildView(Tre))}else!E&&a.ref.hopper&&(a.ref.hopper.destroy(),a.ref.hopper=null,a.removeChildView(a.ref.drip))},tQ=(a,c)=>{const h=a.query("GET_ALLOW_BROWSE"),E=a.query("GET_DISABLED"),x=h&&!E;x&&!a.ref.browser?a.ref.browser=a.appendChildView(a.createChildView(mre,{...c,onload:k=>{z1("ADD_ITEMS",k,{dispatch:a.dispatch}).then(D=>{if(rY(a,D))return!1;a.dispatch("ADD_ITEMS",{items:D,index:-1,interactionMethod:Ep.BROWSE})})}}),0):!x&&a.ref.browser&&(a.removeChildView(a.ref.browser),a.ref.browser=null)},nQ=a=>{const c=a.query("GET_ALLOW_PASTE"),h=a.query("GET_DISABLED"),E=c&&!h;E&&!a.ref.paster?(a.ref.paster=rie(),a.ref.paster.onload=x=>{z1("ADD_ITEMS",x,{dispatch:a.dispatch}).then(k=>{if(rY(a,k))return!1;a.dispatch("ADD_ITEMS",{items:k,index:-1,interactionMethod:Ep.PASTE})})}):!E&&a.ref.paster&&(a.ref.paster.destroy(),a.ref.paster=null)},yie=Ff({DID_SET_ALLOW_BROWSE:({root:a,props:c})=>{tQ(a,c)},DID_SET_ALLOW_DROP:({root:a})=>{eQ(a)},DID_SET_ALLOW_PASTE:({root:a})=>{nQ(a)},DID_SET_DISABLED:({root:a,props:c})=>{eQ(a),nQ(a),tQ(a,c),a.query("GET_DISABLED")?a.element.dataset.disabled="disabled":a.element.removeAttribute("data-disabled")}}),Eie=Tl({name:"root",read:({root:a})=>{a.ref.measure&&(a.ref.measureHeight=a.ref.measure.offsetHeight)},create:hie,write:mie,destroy:({root:a})=>{a.ref.paster&&a.ref.paster.destroy(),a.ref.hopper&&a.ref.hopper.destroy(),a.element.removeEventListener("touchmove",_H),a.element.removeEventListener("gesturestart",_H)},mixins:{styles:["height"]}}),_ie=(a={})=>{let c=null;const h=yH(),E=$ne(Coe(h),[Voe,xoe(h)],[fse,Soe(h)]);E.dispatch("SET_OPTIONS",{options:a});const x=()=>{document.hidden||E.dispatch("KICK")};document.addEventListener("visibilitychange",x);let k=null,D=!1,V=!1,G=null,Y=null;const K=()=>{D||(D=!0),clearTimeout(k),k=setTimeout(()=>{D=!1,G=null,Y=null,V&&(V=!1,E.dispatch("DID_STOP_RESIZE"))},500)};window.addEventListener("resize",K);const re=Eie(E,{id:jj()});let be=!1,ge=!1;const le={_read:()=>{D&&(Y=window.innerWidth,G||(G=Y),!V&&Y!==G&&(E.dispatch("DID_START_RESIZE"),V=!0)),ge&&be&&(be=re.element.offsetParent===null),!be&&(re._read(),ge=re.rect.element.hidden)},_write:P=>{const Tt=E.processActionQueue().filter(Xe=>!/^SET_/.test(Xe.type));be&&!Tt.length||(ke(Tt),be=re._write(P,Tt,V),Roe(E.query("GET_ITEMS")),be&&E.processDispatchQueue())}},de=P=>Tt=>{const Xe={type:P};if(!Tt)return Xe;if(Tt.hasOwnProperty("error")&&(Xe.error=Tt.error?{...Tt.error}:null),Tt.status&&(Xe.status={...Tt.status}),Tt.file&&(Xe.output=Tt.file),Tt.source)Xe.file=Tt.source;else if(Tt.item||Tt.id){const Vt=Tt.item?Tt.item:E.query("GET_ITEM",Tt.id);Xe.file=Vt?$h(Vt):null}return Tt.items&&(Xe.items=Tt.items.map($h)),/progress/.test(P)&&(Xe.progress=Tt.progress),Tt.hasOwnProperty("origin")&&Tt.hasOwnProperty("target")&&(Xe.origin=Tt.origin,Xe.target=Tt.target),Xe},Ee={DID_DESTROY:de("destroy"),DID_INIT:de("init"),DID_THROW_MAX_FILES:de("warning"),DID_INIT_ITEM:de("initfile"),DID_START_ITEM_LOAD:de("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:de("addfileprogress"),DID_LOAD_ITEM:de("addfile"),DID_THROW_ITEM_INVALID:[de("error"),de("addfile")],DID_THROW_ITEM_LOAD_ERROR:[de("error"),de("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[de("error"),de("removefile")],DID_PREPARE_OUTPUT:de("preparefile"),DID_START_ITEM_PROCESSING:de("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:de("processfileprogress"),DID_ABORT_ITEM_PROCESSING:de("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:de("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:de("processfiles"),DID_REVERT_ITEM_PROCESSING:de("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[de("error"),de("processfile")],DID_REMOVE_ITEM:de("removefile"),DID_UPDATE_ITEMS:de("updatefiles"),DID_ACTIVATE_ITEM:de("activatefile"),DID_REORDER_ITEMS:de("reorderfiles")},De=P=>{const Tt={pond:Ct,...P};delete Tt.type,re.element.dispatchEvent(new CustomEvent(`FilePond:${P.type}`,{detail:Tt,bubbles:!0,cancelable:!0,composed:!0}));const Xe=[];P.hasOwnProperty("error")&&Xe.push(P.error),P.hasOwnProperty("file")&&Xe.push(P.file);const Vt=["type","error","file"];Object.keys(P).filter(Ve=>!Vt.includes(Ve)).forEach(Ve=>Xe.push(P[Ve])),Ct.fire(P.type,...Xe);const Nt=E.query(`GET_ON${P.type.toUpperCase()}`);Nt&&Nt(...Xe)},ke=P=>{P.length&&P.filter(Tt=>Ee[Tt.type]).forEach(Tt=>{const Xe=Ee[Tt.type];(Array.isArray(Xe)?Xe:[Xe]).forEach(Vt=>{Tt.type==="DID_INIT_ITEM"?De(Vt(Tt.data)):setTimeout(()=>{De(Vt(Tt.data))},0)})})},ne=P=>E.dispatch("SET_OPTIONS",{options:P}),Le=P=>E.query("GET_ACTIVE_ITEM",P),ct=P=>new Promise((Tt,Xe)=>{E.dispatch("REQUEST_ITEM_PREPARE",{query:P,success:Vt=>{Tt(Vt)},failure:Vt=>{Xe(Vt)}})}),$=(P,Tt={})=>new Promise((Xe,Vt)=>{mt([{source:P,options:Tt}],{index:Tt.index}).then(Nt=>Xe(Nt&&Nt[0])).catch(Vt)}),ye=P=>P.file&&P.id,Ge=(P,Tt)=>(typeof P=="object"&&!ye(P)&&!Tt&&(Tt=P,P=void 0),E.dispatch("REMOVE_ITEM",{...Tt,query:P}),E.query("GET_ACTIVE_ITEM",P)===null),mt=(...P)=>new Promise((Tt,Xe)=>{const Vt=[],Nt={};if(IH(P[0]))Vt.push.apply(Vt,P[0]),Object.assign(Nt,P[1]||{});else{const Ve=P[P.length-1];typeof Ve=="object"&&!(Ve instanceof Blob)&&Object.assign(Nt,P.pop()),Vt.push(...P)}E.dispatch("ADD_ITEMS",{items:Vt,index:Nt.index,interactionMethod:Ep.API,success:Tt,failure:Xe})}),xt=()=>E.query("GET_ACTIVE_ITEMS"),Pe=P=>new Promise((Tt,Xe)=>{E.dispatch("REQUEST_ITEM_PROCESSING",{query:P,success:Vt=>{Tt(Vt)},failure:Vt=>{Xe(Vt)}})}),he=(...P)=>{const Tt=Array.isArray(P[0])?P[0]:P,Xe=Tt.length?Tt:xt();return Promise.all(Xe.map(ct))},dn=(...P)=>{const Tt=Array.isArray(P[0])?P[0]:P;if(!Tt.length){const Xe=xt().filter(Vt=>!(Vt.status===Cs.IDLE&&Vt.origin===Xl.LOCAL)&&Vt.status!==Cs.PROCESSING&&Vt.status!==Cs.PROCESSING_COMPLETE&&Vt.status!==Cs.PROCESSING_REVERT_ERROR);return Promise.all(Xe.map(Pe))}return Promise.all(Tt.map(Pe))},bt=(...P)=>{const Tt=Array.isArray(P[0])?P[0]:P;let Xe;typeof Tt[Tt.length-1]=="object"?Xe=Tt.pop():Array.isArray(P[0])&&(Xe=P[1]);const Vt=xt();return Tt.length?Tt.map(Ve=>JS(Ve)?Vt[Ve]?Vt[Ve].id:null:Ve).filter(Ve=>Ve).map(Ve=>Ge(Ve,Xe)):Promise.all(Vt.map(Ve=>Ge(Ve,Xe)))},Ct={...kH(),...le,...Toe(E,h),setOptions:ne,addFile:$,addFiles:mt,getFile:Le,processFile:Pe,prepareFile:ct,removeFile:Ge,moveFile:(P,Tt)=>E.dispatch("MOVE_ITEM",{query:P,index:Tt}),getFiles:xt,processFiles:dn,removeFiles:bt,prepareFiles:he,sort:P=>E.dispatch("SORT",{compare:P}),browse:()=>{var P=re.element.querySelector("input[type=file]");P&&P.click()},destroy:()=>{Ct.fire("destroy",re.element),E.dispatch("ABORT_ALL"),re._destroy(),window.removeEventListener("resize",K),document.removeEventListener("visibilitychange",x),E.dispatch("DID_DESTROY")},insertBefore:P=>SX(re.element,P),insertAfter:P=>xX(re.element,P),appendTo:P=>P.appendChild(re.element),replaceElement:P=>{SX(re.element,P),P.parentNode.removeChild(P),c=P},restoreElement:()=>{c&&(xX(c,re.element),re.element.parentNode.removeChild(re.element),c=null)},isAttachedTo:P=>re.element===P||c===P,element:{get:()=>re.element},status:{get:()=>E.query("GET_STATUS")}};return E.dispatch("DID_INIT"),Ow(Ct)},jJ=(a={})=>{const c={};return Pc(yH(),(E,x)=>{c[E]=x[0]}),_ie({...c,...a})},wie=a=>a.charAt(0).toLowerCase()+a.slice(1),Cie=a=>ZJ(a.replace(/^data-/,"")),YJ=(a,c)=>{Pc(c,(h,E)=>{Pc(a,(x,k)=>{const D=new RegExp(h);if(!D.test(x)||(delete a[x],E===!1))return;if($f(E)){a[E]=k;return}const G=E.group;xu(E)&&!a[G]&&(a[G]={}),a[G][wie(x.replace(D,""))]=k}),E.mapping&&YJ(a[E.group],E.mapping)})},Tie=(a,c={})=>{const h=[];Pc(a.attributes,x=>{h.push(a.attributes[x])});const E=h.filter(x=>x.name).reduce((x,k)=>{const D=Cl(a,k.name);return x[Cie(k.name)]=D===k.name?!0:D,x},{});return YJ(E,c),E},Sie=(a,c={})=>{const h={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};u2("SET_ATTRIBUTE_TO_OPTION_MAP",h);const E={...c},x=Tie(a.nodeName==="FIELDSET"?a.querySelector("input[type=file]"):a,h);Object.keys(x).forEach(D=>{xu(x[D])?(xu(E[D])||(E[D]={}),Object.assign(E[D],x[D])):E[D]=x[D]}),E.files=(c.files||[]).concat(Array.from(a.querySelectorAll("input:not([type=file])")).map(D=>({source:D.value,options:{type:D.dataset.type}})));const k=jJ(E);return a.files&&Array.from(a.files).forEach(D=>{k.addFile(D)}),k.replaceElement(a),k},xie=(...a)=>Bne(a[0])?Sie(...a):jJ(...a),Aie=["fire","_read","_write"],oQ=a=>{const c={};return pJ(a,c,Aie),c},Oie=(a,c)=>a.replace(/(?:{([a-zA-Z]+)})/g,(h,E)=>c[E]),Rie=a=>{const c=new Blob(["(",a.toString(),")()"],{type:"application/javascript"}),h=URL.createObjectURL(c),E=new Worker(h);return{transfer:(x,k)=>{},post:(x,k,D)=>{const V=jj();E.onmessage=G=>{G.data.id===V&&k(G.data.message)},E.postMessage({id:V,message:x},D)},terminate:()=>{E.terminate(),URL.revokeObjectURL(h)}}},Iie=a=>new Promise((c,h)=>{const E=new Image;E.onload=()=>{c(E)},E.onerror=x=>{h(x)},E.src=a}),KJ=(a,c)=>{const h=a.slice(0,a.size,a.type);return h.lastModifiedDate=a.lastModifiedDate,h.name=c,h},Die=a=>KJ(a,a.name),sQ=[],Mie=a=>{if(sQ.includes(a))return;sQ.push(a);const c=a({addFilter:Doe,utils:{Type:cn,forin:Pc,isString:$f,isFile:WO,toNaturalFileSize:RJ,replaceInString:Oie,getExtensionFromFilename:NH,getFilenameWithoutExtension:xJ,guesstimateMimeType:HJ,getFileFromBlob:zO,getFilenameFromURL:sN,createRoute:Ff,createWorker:Rie,createView:Tl,createItemAPI:$h,loadImage:Iie,copyFile:Die,renameFile:KJ,createBlob:CJ,applyFilterChain:z1,text:tl,getNumericAspectRatioFromString:yJ},views:{fileActionButton:OJ}});Moe(c.options)},kie=()=>Object.prototype.toString.call(window.operamini)==="[object OperaMini]",Nie=()=>"Promise"in window,Pie=()=>"slice"in Blob.prototype,Lie=()=>"URL"in window&&"createObjectURL"in window.URL,Bie=()=>"visibilityState"in document,$ie=()=>"performance"in window,Fie=()=>"supports"in(window.CSS||{}),Hie=()=>/MSIE|Trident/.test(window.navigator.userAgent),Aj=(()=>{const a=uJ()&&!kie()&&Bie()&&Nie()&&Pie()&&Lie()&&$ie()&&(Fie()||Hie());return()=>a})(),Tw={apps:[]},Vie="filepond",d2=()=>{};let XJ={},QJ={},JJ={},Oj={},sH=d2,rH=d2,Rj=d2,Ij=d2,wH=d2,Dj=d2,Mj=d2;if(Aj()){loe(()=>{Tw.apps.forEach(h=>h._read())},h=>{Tw.apps.forEach(E=>E._write(h))});const a=()=>{document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:Aj,create:sH,destroy:rH,parse:Rj,find:Ij,registerPlugin:wH,setOptions:Mj}})),document.removeEventListener("DOMContentLoaded",a)};document.readyState!=="loading"?setTimeout(()=>a(),0):document.addEventListener("DOMContentLoaded",a);const c=()=>Pc(yH(),(h,E)=>{Oj[h]=E[1]});XJ={...EJ},JJ={...Xl},QJ={...Cs},Oj={},c(),sH=(...h)=>{const E=xie(...h);return E.on("destroy",rH),Tw.apps.push(E),oQ(E)},rH=h=>{const E=Tw.apps.findIndex(x=>x.isAttachedTo(h));return E>=0?(Tw.apps.splice(E,1)[0].restoreElement(),!0):!1},Rj=h=>Array.from(h.querySelectorAll(`.${Vie}`)).filter(k=>!Tw.apps.find(D=>D.isAttachedTo(k))).map(k=>sH(k)),Ij=h=>{const E=Tw.apps.find(x=>x.isAttachedTo(h));return E?oQ(E):null},wH=(...h)=>{h.forEach(Mie),c()},Dj=()=>{const h={};return Pc(yH(),(E,x)=>{h[E]=x[0]}),h},Mj=h=>(xu(h)&&(Tw.apps.forEach(E=>{E.setOptions(h)}),koe(h)),Dj())}const Uie=Object.freeze(Object.defineProperty({__proto__:null,get FileOrigin(){return JJ},get FileStatus(){return QJ},get OptionTypes(){return Oj},get Status(){return XJ},get create(){return sH},get destroy(){return rH},get find(){return Ij},get getOptions(){return Dj},get parse(){return Rj},get registerPlugin(){return wH},get setOptions(){return Mj},supported:Aj},Symbol.toStringTag,{value:"Module"}));/*!
 * FilePondPluginFileValidateType 1.2.8
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const zie=({addFilter:a,utils:c})=>{const{Type:h,isString:E,replaceInString:x,guesstimateMimeType:k,getExtensionFromFilename:D,getFilenameFromURL:V}=c,G=(ge,le)=>{const de=(/^[^/]+/.exec(ge)||[]).pop(),Ee=le.slice(0,-2);return de===Ee},Y=(ge,le)=>ge.some(de=>/\*$/.test(de)?G(le,de):de===le),K=ge=>{let le="";if(E(ge)){const de=V(ge),Ee=D(de);Ee&&(le=k(Ee))}else le=ge.type;return le},re=(ge,le,de)=>{if(le.length===0)return!0;const Ee=K(ge);return de?new Promise((De,ke)=>{de(ge,Ee).then(ne=>{Y(le,ne)?De():ke()}).catch(ke)}):Y(le,Ee)},be=ge=>le=>ge[le]===null?!1:ge[le]||le;return a("SET_ATTRIBUTE_TO_OPTION_MAP",ge=>Object.assign(ge,{accept:"acceptedFileTypes"})),a("ALLOW_HOPPER_ITEM",(ge,{query:le})=>le("GET_ALLOW_FILE_TYPE_VALIDATION")?re(ge,le("GET_ACCEPTED_FILE_TYPES")):!0),a("LOAD_FILE",(ge,{query:le})=>new Promise((de,Ee)=>{if(!le("GET_ALLOW_FILE_TYPE_VALIDATION")){de(ge);return}const De=le("GET_ACCEPTED_FILE_TYPES"),ke=le("GET_FILE_VALIDATE_TYPE_DETECT_TYPE"),ne=re(ge,De,ke),Le=()=>{const ct=De.map(be(le("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"))).filter(ye=>ye!==!1),$=ct.filter(function(ye,Ge){return ct.indexOf(ye)===Ge});Ee({status:{main:le("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:x(le("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:$.join(", "),allButLastType:$.slice(0,-1).join(", "),lastType:$[ct.length-1]})}})};if(typeof ne=="boolean")return ne?de(ge):Le();ne.then(()=>{de(ge)}).catch(Le)})),{options:{allowFileTypeValidation:[!0,h.BOOLEAN],acceptedFileTypes:[[],h.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",h.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",h.STRING],fileValidateTypeLabelExpectedTypesMap:[{},h.OBJECT],fileValidateTypeDetectType:[null,h.FUNCTION]}}},Wie=typeof window<"u"&&typeof window.document<"u";Wie&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:zie}));/*!
 * FilePondPluginImagePreview 4.6.11
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const Gie=a=>/^image/.test(a.type),rQ=(a,c)=>eN(a.x*c,a.y*c),iQ=(a,c)=>eN(a.x+c.x,a.y+c.y),Zie=a=>{const c=Math.sqrt(a.x*a.x+a.y*a.y);return c===0?{x:0,y:0}:eN(a.x/c,a.y/c)},q5=(a,c,h)=>{const E=Math.cos(c),x=Math.sin(c),k=eN(a.x-h.x,a.y-h.y);return eN(h.x+E*k.x-x*k.y,h.y+x*k.x+E*k.y)},eN=(a=0,c=0)=>({x:a,y:c}),Fh=(a,c,h=1,E)=>{if(typeof a=="string")return parseFloat(a)*h;if(typeof a=="number")return a*(E?c[E]:Math.min(c.width,c.height))},qie=(a,c,h)=>{const E=a.borderStyle||a.lineStyle||"solid",x=a.backgroundColor||a.fontColor||"transparent",k=a.borderColor||a.lineColor||"transparent",D=Fh(a.borderWidth||a.lineWidth,c,h),V=a.lineCap||"round",G=a.lineJoin||"round",Y=typeof E=="string"?"":E.map(re=>Fh(re,c,h)).join(","),K=a.opacity||1;return{"stroke-linecap":V,"stroke-linejoin":G,"stroke-width":D||0,"stroke-dasharray":Y,stroke:k,fill:x,opacity:K}},bp=a=>a!=null,jie=(a,c,h=1)=>{let E=Fh(a.x,c,h,"width")||Fh(a.left,c,h,"width"),x=Fh(a.y,c,h,"height")||Fh(a.top,c,h,"height"),k=Fh(a.width,c,h,"width"),D=Fh(a.height,c,h,"height"),V=Fh(a.right,c,h,"width"),G=Fh(a.bottom,c,h,"height");return bp(x)||(bp(D)&&bp(G)?x=c.height-D-G:x=G),bp(E)||(bp(k)&&bp(V)?E=c.width-k-V:E=V),bp(k)||(bp(E)&&bp(V)?k=c.width-E-V:k=0),bp(D)||(bp(x)&&bp(G)?D=c.height-x-G:D=0),{x:E||0,y:x||0,width:k||0,height:D||0}},Yie=a=>a.map((c,h)=>`${h===0?"M":"L"} ${c.x} ${c.y}`).join(" "),Ib=(a,c)=>Object.keys(c).forEach(h=>a.setAttribute(h,c[h])),Kie="http://www.w3.org/2000/svg",LO=(a,c)=>{const h=document.createElementNS(Kie,a);return c&&Ib(h,c),h},Xie=a=>Ib(a,{...a.rect,...a.styles}),Qie=a=>{const c=a.rect.x+a.rect.width*.5,h=a.rect.y+a.rect.height*.5,E=a.rect.width*.5,x=a.rect.height*.5;return Ib(a,{cx:c,cy:h,rx:E,ry:x,...a.styles})},Jie={contain:"xMidYMid meet",cover:"xMidYMid slice"},eae=(a,c)=>{Ib(a,{...a.rect,...a.styles,preserveAspectRatio:Jie[c.fit]||"none"})},tae={left:"start",center:"middle",right:"end"},nae=(a,c,h,E)=>{const x=Fh(c.fontSize,h,E),k=c.fontFamily||"sans-serif",D=c.fontWeight||"normal",V=tae[c.textAlign]||"start";Ib(a,{...a.rect,...a.styles,"stroke-width":0,"font-weight":D,"font-size":x,"font-family":k,"text-anchor":V}),a.text!==c.text&&(a.text=c.text,a.textContent=c.text.length?c.text:" ")},oae=(a,c,h,E)=>{Ib(a,{...a.rect,...a.styles,fill:"none"});const x=a.childNodes[0],k=a.childNodes[1],D=a.childNodes[2],V=a.rect,G={x:a.rect.x+a.rect.width,y:a.rect.y+a.rect.height};if(Ib(x,{x1:V.x,y1:V.y,x2:G.x,y2:G.y}),!c.lineDecoration)return;k.style.display="none",D.style.display="none";const Y=Zie({x:G.x-V.x,y:G.y-V.y}),K=Fh(.05,h,E);if(c.lineDecoration.indexOf("arrow-begin")!==-1){const re=rQ(Y,K),be=iQ(V,re),ge=q5(V,2,be),le=q5(V,-2,be);Ib(k,{style:"display:block;",d:`M${ge.x},${ge.y} L${V.x},${V.y} L${le.x},${le.y}`})}if(c.lineDecoration.indexOf("arrow-end")!==-1){const re=rQ(Y,-K),be=iQ(G,re),ge=q5(G,2,be),le=q5(G,-2,be);Ib(D,{style:"display:block;",d:`M${ge.x},${ge.y} L${G.x},${G.y} L${le.x},${le.y}`})}},sae=(a,c,h,E)=>{Ib(a,{...a.styles,fill:"none",d:Yie(c.points.map(x=>({x:Fh(x.x,h,E,"width"),y:Fh(x.y,h,E,"height")})))})},j5=a=>c=>LO(a,{id:c.id}),rae=a=>{const c=LO("image",{id:a.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return c.onload=()=>{c.setAttribute("opacity",a.opacity||1)},c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a.src),c},iae=a=>{const c=LO("g",{id:a.id,"stroke-linecap":"round","stroke-linejoin":"round"}),h=LO("line");c.appendChild(h);const E=LO("path");c.appendChild(E);const x=LO("path");return c.appendChild(x),c},aae={image:rae,rect:j5("rect"),ellipse:j5("ellipse"),text:j5("text"),path:j5("path"),line:iae},cae={rect:Xie,ellipse:Qie,image:eae,text:nae,path:sae,line:oae},lae=(a,c)=>aae[a](c),uae=(a,c,h,E,x)=>{c!=="path"&&(a.rect=jie(h,E,x)),a.styles=qie(h,E,x),cae[c](a,h,E,x)},dae=["x","y","left","top","right","bottom","width","height"],fae=a=>typeof a=="string"&&/%/.test(a)?parseFloat(a)/100:a,hae=a=>{const[c,h]=a,E=h.points?{}:dae.reduce((x,k)=>(x[k]=fae(h[k]),x),{});return[c,{zIndex:0,...h,...E}]},mae=(a,c)=>a[1].zIndex>c[1].zIndex?1:a[1].zIndex<c[1].zIndex?-1:0,gae=a=>a.utils.createView({name:"image-preview-markup",tag:"svg",ignoreRect:!0,mixins:{apis:["width","height","crop","markup","resize","dirty"]},write:({root:c,props:h})=>{if(!h.dirty)return;const{crop:E,resize:x,markup:k}=h,D=h.width,V=h.height;let G=E.width,Y=E.height;if(x){const{size:ge}=x;let le=ge&&ge.width,de=ge&&ge.height;const Ee=x.mode,De=x.upscale;le&&!de&&(de=le),de&&!le&&(le=de);const ke=G<le&&Y<de;if(!ke||ke&&De){let ne=le/G,Le=de/Y;if(Ee==="force")G=le,Y=de;else{let ct;Ee==="cover"?ct=Math.max(ne,Le):Ee==="contain"&&(ct=Math.min(ne,Le)),G=G*ct,Y=Y*ct}}}const K={width:D,height:V};c.element.setAttribute("width",K.width),c.element.setAttribute("height",K.height);const re=Math.min(D/G,V/Y);c.element.innerHTML="";const be=c.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");k.filter(be).map(hae).sort(mae).forEach(ge=>{const[le,de]=ge,Ee=lae(le,de);uae(Ee,le,de,K,re),c.element.appendChild(Ee)})}}),Kk=(a,c)=>({x:a,y:c}),pae=(a,c)=>a.x*c.x+a.y*c.y,aQ=(a,c)=>Kk(a.x-c.x,a.y-c.y),vae=(a,c)=>pae(aQ(a,c),aQ(a,c)),cQ=(a,c)=>Math.sqrt(vae(a,c)),lQ=(a,c)=>{const h=a,E=1.5707963267948966,x=c,k=1.5707963267948966-c,D=Math.sin(E),V=Math.sin(x),G=Math.sin(k),Y=Math.cos(k),K=h/D,re=K*V,be=K*G;return Kk(Y*re,Y*be)},bae=(a,c)=>{const h=a.width,E=a.height,x=lQ(h,c),k=lQ(E,c),D=Kk(a.x+Math.abs(x.x),a.y-Math.abs(x.y)),V=Kk(a.x+a.width+Math.abs(k.y),a.y+Math.abs(k.x)),G=Kk(a.x-Math.abs(k.y),a.y+a.height-Math.abs(k.x));return{width:cQ(D,V),height:cQ(D,G)}},yae=(a,c,h=1)=>{const E=a.height/a.width;let x=1,k=c,D=1,V=E;V>k&&(V=k,D=V/E);const G=Math.max(x/D,k/V),Y=a.width/(h*G*D),K=Y*c;return{width:Y,height:K}},eee=(a,c,h,E)=>{const x=E.x>.5?1-E.x:E.x,k=E.y>.5?1-E.y:E.y,D=x*2*a.width,V=k*2*a.height,G=bae(c,h);return Math.max(G.width/D,G.height/V)},tee=(a,c)=>{let h=a.width,E=h*c;E>a.height&&(E=a.height,h=E/c);const x=(a.width-h)*.5,k=(a.height-E)*.5;return{x,y:k,width:h,height:E}},Eae=(a,c={})=>{let{zoom:h,rotation:E,center:x,aspectRatio:k}=c;k||(k=a.height/a.width);const D=yae(a,k,h),V={x:D.width*.5,y:D.height*.5},G={x:0,y:0,width:D.width,height:D.height,center:V},Y=typeof c.scaleToFit>"u"||c.scaleToFit,K=eee(a,tee(G,k),E,Y?x:{x:.5,y:.5}),re=h*K;return{widthFloat:D.width/re,heightFloat:D.height/re,width:Math.round(D.width/re),height:Math.round(D.height/re)}},Rb={type:"spring",stiffness:.5,damping:.45,mass:10},_ae=a=>a.utils.createView({name:"image-bitmap",ignoreRect:!0,mixins:{styles:["scaleX","scaleY"]},create:({root:c,props:h})=>{c.appendChild(h.image)}}),wae=a=>a.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:!0,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:Rb,originY:Rb,scaleX:Rb,scaleY:Rb,translateX:Rb,translateY:Rb,rotateZ:Rb}},create:({root:c,props:h})=>{h.width=h.image.width,h.height=h.image.height,c.ref.bitmap=c.appendChildView(c.createChildView(_ae(a),{image:h.image}))},write:({root:c,props:h})=>{const{flip:E}=h.crop,{bitmap:x}=c.ref;x.scaleX=E.horizontal?-1:1,x.scaleY=E.vertical?-1:1}}),Cae=a=>a.utils.createView({name:"image-clip",tag:"div",ignoreRect:!0,mixins:{apis:["crop","markup","resize","width","height","dirty","background"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},didWriteView:function({root:c,props:h}){h.background&&(c.element.style.backgroundColor=h.background)},create:({root:c,props:h})=>{c.ref.image=c.appendChildView(c.createChildView(wae(a),Object.assign({},h))),c.ref.createMarkup=()=>{c.ref.markup||(c.ref.markup=c.appendChildView(c.createChildView(gae(a),Object.assign({},h))))},c.ref.destroyMarkup=()=>{c.ref.markup&&(c.removeChildView(c.ref.markup),c.ref.markup=null)};const E=c.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");E!==null&&(E==="grid"?c.element.dataset.transparencyIndicator=E:c.element.dataset.transparencyIndicator="color")},write:({root:c,props:h,shouldOptimize:E})=>{const{crop:x,markup:k,resize:D,dirty:V,width:G,height:Y}=h;c.ref.image.crop=x;const K={x:0,y:0,width:G,height:Y,center:{x:G*.5,y:Y*.5}},re={width:c.ref.image.width,height:c.ref.image.height},be={x:x.center.x*re.width,y:x.center.y*re.height},ge={x:K.center.x-re.width*x.center.x,y:K.center.y-re.height*x.center.y},le=Math.PI*2+x.rotation%(Math.PI*2),de=x.aspectRatio||re.height/re.width,Ee=typeof x.scaleToFit>"u"||x.scaleToFit,De=eee(re,tee(K,de),le,Ee?x.center:{x:.5,y:.5}),ke=x.zoom*De;k&&k.length?(c.ref.createMarkup(),c.ref.markup.width=G,c.ref.markup.height=Y,c.ref.markup.resize=D,c.ref.markup.dirty=V,c.ref.markup.markup=k,c.ref.markup.crop=Eae(re,x)):c.ref.markup&&c.ref.destroyMarkup();const ne=c.ref.image;if(E){ne.originX=null,ne.originY=null,ne.translateX=null,ne.translateY=null,ne.rotateZ=null,ne.scaleX=null,ne.scaleY=null;return}ne.originX=be.x,ne.originY=be.y,ne.translateX=ge.x,ne.translateY=ge.y,ne.rotateZ=le,ne.scaleX=ke,ne.scaleY=ke}}),Tae=a=>a.utils.createView({name:"image-preview",tag:"div",ignoreRect:!0,mixins:{apis:["image","crop","markup","resize","dirty","background"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:Rb,scaleY:Rb,translateY:Rb,opacity:{type:"tween",duration:400}}},create:({root:c,props:h})=>{c.ref.clip=c.appendChildView(c.createChildView(Cae(a),{id:h.id,image:h.image,crop:h.crop,markup:h.markup,resize:h.resize,dirty:h.dirty,background:h.background}))},write:({root:c,props:h,shouldOptimize:E})=>{const{clip:x}=c.ref,{image:k,crop:D,markup:V,resize:G,dirty:Y}=h;if(x.crop=D,x.markup=V,x.resize=G,x.dirty=Y,x.opacity=E?0:1,E||c.rect.element.hidden)return;const K=k.height/k.width;let re=D.aspectRatio||K;const be=c.rect.inner.width,ge=c.rect.inner.height;let le=c.query("GET_IMAGE_PREVIEW_HEIGHT");const de=c.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),Ee=c.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),De=c.query("GET_PANEL_ASPECT_RATIO"),ke=c.query("GET_ALLOW_MULTIPLE");De&&!ke&&(le=be*De,re=De);let ne=le!==null?le:Math.max(de,Math.min(be*re,Ee)),Le=ne/re;Le>be&&(Le=be,ne=Le*re),ne>ge&&(ne=ge,Le=ge/re),x.width=Le,x.height=ne}});let Sae=`<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">
    <defs>
        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">
            <stop offset='50%' stop-color='#000000'/>
            <stop offset='56%' stop-color='#0a0a0a'/>
            <stop offset='63%' stop-color='#262626'/>
            <stop offset='69%' stop-color='#4f4f4f'/>
            <stop offset='75%' stop-color='#808080'/>
            <stop offset='81%' stop-color='#b1b1b1'/>
            <stop offset='88%' stop-color='#dadada'/>
            <stop offset='94%' stop-color='#f6f6f6'/>
            <stop offset='100%' stop-color='#ffffff'/>
        </radialGradient>
        <mask id="mask-__UID__">
            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>
        </mask>
    </defs>
    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>
</svg>`,uQ=0;const xae=a=>a.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:!0,create:({root:c,props:h})=>{let E=Sae;if(document.querySelector("base")){const x=new URL(window.location.href.replace(window.location.hash,"")).href;E=E.replace(/url\(\#/g,"url("+x+"#")}uQ++,c.element.classList.add(`filepond--image-preview-overlay-${h.status}`),c.element.innerHTML=E.replace(/__UID__/g,uQ)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}}),Aae=function(){self.onmessage=a=>{createImageBitmap(a.data.message.file).then(c=>{self.postMessage({id:a.data.id,message:c},[c])})}},Oae=function(){self.onmessage=a=>{const c=a.data.message.imageData,h=a.data.message.colorMatrix,E=c.data,x=E.length,k=h[0],D=h[1],V=h[2],G=h[3],Y=h[4],K=h[5],re=h[6],be=h[7],ge=h[8],le=h[9],de=h[10],Ee=h[11],De=h[12],ke=h[13],ne=h[14],Le=h[15],ct=h[16],$=h[17],ye=h[18],Ge=h[19];let mt=0,xt=0,Pe=0,he=0,dn=0;for(;mt<x;mt+=4)xt=E[mt]/255,Pe=E[mt+1]/255,he=E[mt+2]/255,dn=E[mt+3]/255,E[mt]=Math.max(0,Math.min((xt*k+Pe*D+he*V+dn*G+Y)*255,255)),E[mt+1]=Math.max(0,Math.min((xt*K+Pe*re+he*be+dn*ge+le)*255,255)),E[mt+2]=Math.max(0,Math.min((xt*de+Pe*Ee+he*De+dn*ke+ne)*255,255)),E[mt+3]=Math.max(0,Math.min((xt*Le+Pe*ct+he*$+dn*ye+Ge)*255,255));self.postMessage({id:a.data.id,message:c},[c.data.buffer])}},Rae=(a,c)=>{let h=new Image;h.onload=()=>{const E=h.naturalWidth,x=h.naturalHeight;h=null,c(E,x)},h.src=a},Iae={1:()=>[1,0,0,1,0,0],2:a=>[-1,0,0,1,a,0],3:(a,c)=>[-1,0,0,-1,a,c],4:(a,c)=>[1,0,0,-1,0,c],5:()=>[0,1,1,0,0,0],6:(a,c)=>[0,1,-1,0,c,0],7:(a,c)=>[0,-1,-1,0,c,a],8:a=>[0,-1,1,0,0,a]},Dae=(a,c,h,E)=>{E!==-1&&a.transform.apply(a,Iae[E](c,h))},Mae=(a,c,h,E)=>{c=Math.round(c),h=Math.round(h);const x=document.createElement("canvas");x.width=c,x.height=h;const k=x.getContext("2d");return E>=5&&E<=8&&([c,h]=[h,c]),Dae(k,c,h,E),k.drawImage(a,0,0,c,h),x},nee=a=>/^image/.test(a.type)&&!/svg/.test(a.type),kae=10,Nae=10,Pae=a=>{const c=Math.min(kae/a.width,Nae/a.height),h=document.createElement("canvas"),E=h.getContext("2d"),x=h.width=Math.ceil(a.width*c),k=h.height=Math.ceil(a.height*c);E.drawImage(a,0,0,x,k);let D=null;try{D=E.getImageData(0,0,x,k).data}catch{return null}const V=D.length;let G=0,Y=0,K=0,re=0;for(;re<V;re+=4)G+=D[re]*D[re],Y+=D[re+1]*D[re+1],K+=D[re+2]*D[re+2];return G=Kq(G,V),Y=Kq(Y,V),K=Kq(K,V),{r:G,g:Y,b:K}},Kq=(a,c)=>Math.floor(Math.sqrt(a/(c/4))),Lae=(a,c)=>(c=c||document.createElement("canvas"),c.width=a.width,c.height=a.height,c.getContext("2d").drawImage(a,0,0),c),Bae=a=>{let c;try{c=new ImageData(a.width,a.height)}catch{c=document.createElement("canvas").getContext("2d").createImageData(a.width,a.height)}return c.data.set(new Uint8ClampedArray(a.data)),c},$ae=a=>new Promise((c,h)=>{const E=new Image;E.crossOrigin="Anonymous",E.onload=()=>{c(E)},E.onerror=x=>{h(x)},E.src=a}),Fae=a=>{const c=xae(a),h=Tae(a),{createWorker:E}=a.utils,x=(ke,ne,Le)=>new Promise(ct=>{ke.ref.imageData||(ke.ref.imageData=Le.getContext("2d").getImageData(0,0,Le.width,Le.height));const $=Bae(ke.ref.imageData);if(!ne||ne.length!==20)return Le.getContext("2d").putImageData($,0,0),ct();const ye=E(Oae);ye.post({imageData:$,colorMatrix:ne},Ge=>{Le.getContext("2d").putImageData(Ge,0,0),ye.terminate(),ct()},[$.data.buffer])}),k=(ke,ne)=>{ke.removeChildView(ne),ne.image.width=1,ne.image.height=1,ne._destroy()},D=({root:ke})=>{const ne=ke.ref.images.shift();return ne.opacity=0,ne.translateY=-15,ke.ref.imageViewBin.push(ne),ne},V=({root:ke,props:ne,image:Le})=>{const ct=ne.id,$=ke.query("GET_ITEM",{id:ct});if(!$)return;const ye=$.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},Ge=ke.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR");let mt,xt,Pe=!1;ke.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(mt=$.getMetadata("markup")||[],xt=$.getMetadata("resize"),Pe=!0);const he=ke.appendChildView(ke.createChildView(h,{id:ct,image:Le,crop:ye,resize:xt,markup:mt,dirty:Pe,background:Ge,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),ke.childViews.length);ke.ref.images.push(he),he.opacity=1,he.scaleX=1,he.scaleY=1,he.translateY=0,setTimeout(()=>{ke.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:ct})},250)},G=({root:ke,props:ne})=>{const Le=ke.query("GET_ITEM",{id:ne.id});if(!Le)return;const ct=ke.ref.images[ke.ref.images.length-1];ct.crop=Le.getMetadata("crop"),ct.background=ke.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),ke.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(ct.dirty=!0,ct.resize=Le.getMetadata("resize"),ct.markup=Le.getMetadata("markup"))},Y=({root:ke,props:ne,action:Le})=>{if(!/crop|filter|markup|resize/.test(Le.change.key)||!ke.ref.images.length)return;const ct=ke.query("GET_ITEM",{id:ne.id});if(ct){if(/filter/.test(Le.change.key)){const $=ke.ref.images[ke.ref.images.length-1];x(ke,Le.change.value,$.image);return}if(/crop|markup|resize/.test(Le.change.key)){const $=ct.getMetadata("crop"),ye=ke.ref.images[ke.ref.images.length-1];if($&&$.aspectRatio&&ye.crop&&ye.crop.aspectRatio&&Math.abs($.aspectRatio-ye.crop.aspectRatio)>1e-5){const Ge=D({root:ke});V({root:ke,props:ne,image:Lae(Ge.image)})}else G({root:ke,props:ne})}}},K=ke=>{const Le=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./);return(Le?parseInt(Le[1]):null)<=58?!1:"createImageBitmap"in window&&nee(ke)},re=({root:ke,props:ne})=>{const{id:Le}=ne,ct=ke.query("GET_ITEM",Le);if(!ct)return;const $=URL.createObjectURL(ct.file);Rae($,(ye,Ge)=>{ke.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:Le,width:ye,height:Ge})})},be=({root:ke,props:ne})=>{const{id:Le}=ne,ct=ke.query("GET_ITEM",Le);if(!ct)return;const $=URL.createObjectURL(ct.file),ye=()=>{$ae($).then(Ge)},Ge=mt=>{URL.revokeObjectURL($);const Pe=(ct.getMetadata("exif")||{}).orientation||-1;let{width:he,height:dn}=mt;if(!he||!dn)return;Pe>=5&&Pe<=8&&([he,dn]=[dn,he]);const bt=Math.max(1,window.devicePixelRatio*.75),P=ke.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR")*bt,Tt=dn/he,Xe=ke.rect.element.width,Vt=ke.rect.element.height;let Nt=Xe,Ve=Nt*Tt;Tt>1?(Nt=Math.min(he,Xe*P),Ve=Nt*Tt):(Ve=Math.min(dn,Vt*P),Nt=Ve/Tt);const uo=Mae(mt,Nt,Ve,Pe),Lo=()=>{const Fo=ke.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?Pae(data):null;ct.setMetadata("color",Fo,!0),"close"in mt&&mt.close(),ke.ref.overlayShadow.opacity=1,V({root:ke,props:ne,image:uo})},Jn=ct.getMetadata("filter");Jn?x(ke,Jn,uo).then(Lo):Lo()};if(K(ct.file)){const mt=E(Aae);mt.post({file:ct.file},xt=>{if(mt.terminate(),!xt){ye();return}Ge(xt)})}else ye()},ge=({root:ke})=>{const ne=ke.ref.images[ke.ref.images.length-1];ne.translateY=0,ne.scaleX=1,ne.scaleY=1,ne.opacity=1},le=({root:ke})=>{ke.ref.overlayShadow.opacity=1,ke.ref.overlayError.opacity=0,ke.ref.overlaySuccess.opacity=0},de=({root:ke})=>{ke.ref.overlayShadow.opacity=.25,ke.ref.overlayError.opacity=1},Ee=({root:ke})=>{ke.ref.overlayShadow.opacity=.25,ke.ref.overlaySuccess.opacity=1},De=({root:ke})=>{ke.ref.images=[],ke.ref.imageData=null,ke.ref.imageViewBin=[],ke.ref.overlayShadow=ke.appendChildView(ke.createChildView(c,{opacity:0,status:"idle"})),ke.ref.overlaySuccess=ke.appendChildView(ke.createChildView(c,{opacity:0,status:"success"})),ke.ref.overlayError=ke.appendChildView(ke.createChildView(c,{opacity:0,status:"failure"}))};return a.utils.createView({name:"image-preview-wrapper",create:De,styles:["height"],apis:["height"],destroy:({root:ke})=>{ke.ref.images.forEach(ne=>{ne.image.width=1,ne.image.height=1})},didWriteView:({root:ke})=>{ke.ref.images.forEach(ne=>{ne.dirty=!1})},write:a.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:ge,DID_IMAGE_PREVIEW_CONTAINER_CREATE:re,DID_FINISH_CALCULATE_PREVIEWSIZE:be,DID_UPDATE_ITEM_METADATA:Y,DID_THROW_ITEM_LOAD_ERROR:de,DID_THROW_ITEM_PROCESSING_ERROR:de,DID_THROW_ITEM_INVALID:de,DID_COMPLETE_ITEM_PROCESSING:Ee,DID_START_ITEM_PROCESSING:le,DID_REVERT_ITEM_PROCESSING:le},({root:ke})=>{const ne=ke.ref.imageViewBin.filter(Le=>Le.opacity===0);ke.ref.imageViewBin=ke.ref.imageViewBin.filter(Le=>Le.opacity>0),ne.forEach(Le=>k(ke,Le)),ne.length=0})})},oee=a=>{const{addFilter:c,utils:h}=a,{Type:E,createRoute:x,isFile:k}=h,D=Fae(a);return c("CREATE_VIEW",V=>{const{is:G,view:Y,query:K}=V;if(!G("file")||!K("GET_ALLOW_IMAGE_PREVIEW"))return;const re=({root:Ee,props:De})=>{const{id:ke}=De,ne=K("GET_ITEM",ke);if(!ne||!k(ne.file)||ne.archived)return;const Le=ne.file;if(!Gie(Le)||!K("GET_IMAGE_PREVIEW_FILTER_ITEM")(ne))return;const ct="createImageBitmap"in(window||{}),$=K("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!ct&&$&&Le.size>$)return;Ee.ref.imagePreview=Y.appendChildView(Y.createChildView(D,{id:ke}));const ye=Ee.query("GET_IMAGE_PREVIEW_HEIGHT");ye&&Ee.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:ne.id,height:ye});const Ge=!ct&&Le.size>K("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");Ee.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:ke},Ge)},be=(Ee,De)=>{if(!Ee.ref.imagePreview)return;let{id:ke}=De;const ne=Ee.query("GET_ITEM",{id:ke});if(!ne)return;const Le=Ee.query("GET_PANEL_ASPECT_RATIO"),ct=Ee.query("GET_ITEM_PANEL_ASPECT_RATIO"),$=Ee.query("GET_IMAGE_PREVIEW_HEIGHT");if(Le||ct||$)return;let{imageWidth:ye,imageHeight:Ge}=Ee.ref;if(!ye||!Ge)return;const mt=Ee.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),xt=Ee.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),he=(ne.getMetadata("exif")||{}).orientation||-1;if(he>=5&&he<=8&&([ye,Ge]=[Ge,ye]),!nee(ne.file)||Ee.query("GET_IMAGE_PREVIEW_UPSCALE")){const Xe=2048/ye;ye*=Xe,Ge*=Xe}const dn=Ge/ye,bt=(ne.getMetadata("crop")||{}).aspectRatio||dn;let Ct=Math.max(mt,Math.min(Ge,xt));const P=Ee.rect.element.width,Tt=Math.min(P*bt,Ct);Ee.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:ne.id,height:Tt})},ge=({root:Ee})=>{Ee.ref.shouldRescale=!0},le=({root:Ee,action:De})=>{De.change.key==="crop"&&(Ee.ref.shouldRescale=!0)},de=({root:Ee,action:De})=>{Ee.ref.imageWidth=De.width,Ee.ref.imageHeight=De.height,Ee.ref.shouldRescale=!0,Ee.ref.shouldDrawPreview=!0,Ee.dispatch("KICK")};Y.registerWriter(x({DID_RESIZE_ROOT:ge,DID_STOP_RESIZE:ge,DID_LOAD_ITEM:re,DID_IMAGE_PREVIEW_CALCULATE_SIZE:de,DID_UPDATE_ITEM_METADATA:le},({root:Ee,props:De})=>{Ee.ref.imagePreview&&(Ee.rect.element.hidden||(Ee.ref.shouldRescale&&(be(Ee,De),Ee.ref.shouldRescale=!1),Ee.ref.shouldDrawPreview&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{Ee.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:De.id})})}),Ee.ref.shouldDrawPreview=!1)))}))}),{options:{allowImagePreview:[!0,E.BOOLEAN],imagePreviewFilterItem:[()=>!0,E.FUNCTION],imagePreviewHeight:[null,E.INT],imagePreviewMinHeight:[44,E.INT],imagePreviewMaxHeight:[256,E.INT],imagePreviewMaxFileSize:[null,E.INT],imagePreviewZoomFactor:[2,E.INT],imagePreviewUpscale:[!1,E.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,E.INT],imagePreviewTransparencyIndicator:[null,E.STRING],imagePreviewCalculateAverageImageColor:[!1,E.BOOLEAN],imagePreviewMarkupShow:[!0,E.BOOLEAN],imagePreviewMarkupFilter:[()=>!0,E.FUNCTION]}}},Hae=typeof window<"u"&&typeof window.document<"u";Hae&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:oee}));/*!
 * FilePondPluginImageExifOrientation 1.0.11
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const Vae=a=>/^image\/jpeg/.test(a.type),XS={JPEG:65496,APP1:65505,EXIF:1165519206,TIFF:18761,Orientation:274,Unknown:65280},QS=(a,c,h=!1)=>a.getUint16(c,h),dQ=(a,c,h=!1)=>a.getUint32(c,h),Uae=a=>new Promise((c,h)=>{const E=new FileReader;E.onload=function(x){const k=new DataView(x.target.result);if(QS(k,0)!==XS.JPEG){c(-1);return}const D=k.byteLength;let V=2;for(;V<D;){const G=QS(k,V);if(V+=2,G===XS.APP1){if(dQ(k,V+=2)!==XS.EXIF)break;const Y=QS(k,V+=6)===XS.TIFF;V+=dQ(k,V+4,Y);const K=QS(k,V,Y);V+=2;for(let re=0;re<K;re++)if(QS(k,V+re*12,Y)===XS.Orientation){c(QS(k,V+re*12+8,Y));return}}else{if((G&XS.Unknown)!==XS.Unknown)break;V+=QS(k,V)}}c(-1)},E.readAsArrayBuffer(a.slice(0,64*1024))}),zae=(()=>typeof window<"u"&&typeof window.document<"u")(),Wae=()=>zae,Gae="data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4QA6RXhpZgAATU0AKgAAAAgAAwESAAMAAAABAAYAAAEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAD/2wBDAP//////////////////////////////////////////////////////////////////////////////////////wAALCAABAAIBASIA/8QAJgABAAAAAAAAAAAAAAAAAAAAAxABAAAAAAAAAAAAAAAAAAAAAP/aAAgBAQAAPwBH/9k=";let see;const iH=Wae()?new Image:{};iH.onload=()=>see=iH.naturalWidth>iH.naturalHeight;iH.src=Gae;const Zae=()=>see,ree=({addFilter:a,utils:c})=>{const{Type:h,isFile:E}=c;return a("DID_LOAD_ITEM",(x,{query:k})=>new Promise((D,V)=>{const G=x.file;if(!E(G)||!Vae(G)||!k("GET_ALLOW_IMAGE_EXIF_ORIENTATION")||!Zae())return D(x);Uae(G).then(Y=>{x.setMetadata("exif",{orientation:Y}),D(x)})})),{options:{allowImageExifOrientation:[!0,h.BOOLEAN]}}},qae=typeof window<"u"&&typeof window.document<"u";qae&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:ree}));/*!
 * FilePondPluginImageCrop 2.0.6
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const fQ=a=>/^image/.test(a.type),jae=({addFilter:a,utils:c})=>{const{Type:h,isFile:E,getNumericAspectRatioFromString:x}=c,k=(Y,K)=>!(!fQ(Y.file)||!K("GET_ALLOW_IMAGE_CROP")),D=Y=>typeof Y=="object",V=Y=>typeof Y=="number",G=(Y,K)=>Y.setMetadata("crop",Object.assign({},Y.getMetadata("crop"),K));return a("DID_CREATE_ITEM",(Y,{query:K})=>{Y.extend("setImageCrop",re=>{if(!(!k(Y,K)||!D(center)))return Y.setMetadata("crop",re),re}),Y.extend("setImageCropCenter",re=>{if(!(!k(Y,K)||!D(re)))return G(Y,{center:re})}),Y.extend("setImageCropZoom",re=>{if(!(!k(Y,K)||!V(re)))return G(Y,{zoom:Math.max(1,re)})}),Y.extend("setImageCropRotation",re=>{if(!(!k(Y,K)||!V(re)))return G(Y,{rotation:re})}),Y.extend("setImageCropFlip",re=>{if(!(!k(Y,K)||!D(re)))return G(Y,{flip:re})}),Y.extend("setImageCropAspectRatio",re=>{if(!k(Y,K)||typeof re>"u")return;const be=Y.getMetadata("crop"),ge=x(re),le={center:{x:.5,y:.5},flip:be?Object.assign({},be.flip):{horizontal:!1,vertical:!1},rotation:0,zoom:1,aspectRatio:ge};return Y.setMetadata("crop",le),le})}),a("DID_LOAD_ITEM",(Y,{query:K})=>new Promise((re,be)=>{const ge=Y.file;if(!E(ge)||!fQ(ge)||!K("GET_ALLOW_IMAGE_CROP")||Y.getMetadata("crop"))return re(Y);const de=K("GET_IMAGE_CROP_ASPECT_RATIO");Y.setMetadata("crop",{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},rotation:0,zoom:1,aspectRatio:de?x(de):null}),re(Y)})),{options:{allowImageCrop:[!0,h.BOOLEAN],imageCropAspectRatio:[null,h.STRING]}}},Yae=typeof window<"u"&&typeof window.document<"u";Yae&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:jae}));/*!
 * FilePondPluginImageResize 2.0.10
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const Kae=a=>/^image/.test(a.type),Xae=(a,c)=>{let h=new Image;h.onload=()=>{const E=h.naturalWidth,x=h.naturalHeight;h=null,c({width:E,height:x})},h.onerror=()=>c(null),h.src=a},iee=({addFilter:a,utils:c})=>{const{Type:h}=c;return a("DID_LOAD_ITEM",(E,{query:x})=>new Promise((k,D)=>{const V=E.file;if(!Kae(V)||!x("GET_ALLOW_IMAGE_RESIZE"))return k(E);const G=x("GET_IMAGE_RESIZE_MODE"),Y=x("GET_IMAGE_RESIZE_TARGET_WIDTH"),K=x("GET_IMAGE_RESIZE_TARGET_HEIGHT"),re=x("GET_IMAGE_RESIZE_UPSCALE");if(Y===null&&K===null)return k(E);const be=Y===null?K:Y,ge=K===null?be:K,le=URL.createObjectURL(V);Xae(le,de=>{if(URL.revokeObjectURL(le),!de)return k(E);let{width:Ee,height:De}=de;const ke=(E.getMetadata("exif")||{}).orientation||-1;if(ke>=5&&ke<=8&&([Ee,De]=[De,Ee]),Ee===be&&De===ge)return k(E);if(!re){if(G==="cover"){if(Ee<=be||De<=ge)return k(E)}else if(Ee<=be&&De<=be)return k(E)}E.setMetadata("resize",{mode:G,upscale:re,size:{width:be,height:ge}}),k(E)})})),{options:{allowImageResize:[!0,h.BOOLEAN],imageResizeMode:["cover",h.STRING],imageResizeUpscale:[!0,h.BOOLEAN],imageResizeTargetWidth:[null,h.INT],imageResizeTargetHeight:[null,h.INT]}}},Qae=typeof window<"u"&&typeof window.document<"u";Qae&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:iee}));/*!
 * FilePondPluginImageTransform 3.8.7
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const Jae=a=>/^image/.test(a.type),ece=a=>a.substr(0,a.lastIndexOf("."))||a,tce={jpeg:"jpg","svg+xml":"svg"},nce=(a,c)=>{const h=ece(a),E=c.split("/")[1],x=tce[E]||E;return`${h}.${x}`},oce=a=>/jpeg|png|svg\+xml/.test(a)?a:"image/jpeg",sce=a=>/^image/.test(a.type),rce={1:()=>[1,0,0,1,0,0],2:a=>[-1,0,0,1,a,0],3:(a,c)=>[-1,0,0,-1,a,c],4:(a,c)=>[1,0,0,-1,0,c],5:()=>[0,1,1,0,0,0],6:(a,c)=>[0,1,-1,0,c,0],7:(a,c)=>[0,-1,-1,0,c,a],8:a=>[0,-1,1,0,0,a]},ice=(a,c,h)=>(h===-1&&(h=1),rce[h](a,c)),Xk=(a,c)=>({x:a,y:c}),ace=(a,c)=>a.x*c.x+a.y*c.y,hQ=(a,c)=>Xk(a.x-c.x,a.y-c.y),cce=(a,c)=>ace(hQ(a,c),hQ(a,c)),mQ=(a,c)=>Math.sqrt(cce(a,c)),gQ=(a,c)=>{const h=a,E=1.5707963267948966,x=c,k=1.5707963267948966-c,D=Math.sin(E),V=Math.sin(x),G=Math.sin(k),Y=Math.cos(k),K=h/D,re=K*V,be=K*G;return Xk(Y*re,Y*be)},lce=(a,c)=>{const h=a.width,E=a.height,x=gQ(h,c),k=gQ(E,c),D=Xk(a.x+Math.abs(x.x),a.y-Math.abs(x.y)),V=Xk(a.x+a.width+Math.abs(k.y),a.y+Math.abs(k.x)),G=Xk(a.x-Math.abs(k.y),a.y+a.height-Math.abs(k.x));return{width:mQ(D,V),height:mQ(D,G)}},aee=(a,c,h=0,E={x:.5,y:.5})=>{const x=E.x>.5?1-E.x:E.x,k=E.y>.5?1-E.y:E.y,D=x*2*a.width,V=k*2*a.height,G=lce(c,h);return Math.max(G.width/D,G.height/V)},cee=(a,c)=>{let h=a.width,E=h*c;E>a.height&&(E=a.height,h=E/c);const x=(a.width-h)*.5,k=(a.height-E)*.5;return{x,y:k,width:h,height:E}},pQ=(a,c,h=1)=>{const E=a.height/a.width;let x=1,k=c,D=1,V=E;V>k&&(V=k,D=V/E);const G=Math.max(x/D,k/V),Y=a.width/(h*G*D),K=Y*c;return{width:Y,height:K}},lee=a=>{a.width=1,a.height=1,a.getContext("2d").clearRect(0,0,1,1)},vQ=a=>a&&(a.horizontal||a.vertical),uce=(a,c,h)=>{if(c<=1&&!vQ(h))return a.width=a.naturalWidth,a.height=a.naturalHeight,a;const E=document.createElement("canvas"),x=a.naturalWidth,k=a.naturalHeight,D=c>=5&&c<=8;D?(E.width=k,E.height=x):(E.width=x,E.height=k);const V=E.getContext("2d");if(c&&V.transform.apply(V,ice(x,k,c)),vQ(h)){const G=[1,0,0,1,0,0];(!D&&h.horizontal||D&h.vertical)&&(G[0]=-1,G[4]=x),(!D&&h.vertical||D&&h.horizontal)&&(G[3]=-1,G[5]=k),V.transform(...G)}return V.drawImage(a,0,0,x,k),E},dce=(a,c,h={},E={})=>{const{canvasMemoryLimit:x,background:k=null}=E,D=h.zoom||1,V=uce(a,c,h.flip),G={width:V.width,height:V.height},Y=h.aspectRatio||G.height/G.width;let K=pQ(G,Y,D);if(x){const ne=K.width*K.height;if(ne>x){const Le=Math.sqrt(x)/Math.sqrt(ne);G.width=Math.floor(G.width*Le),G.height=Math.floor(G.height*Le),K=pQ(G,Y,D)}}const re=document.createElement("canvas"),be={x:K.width*.5,y:K.height*.5},ge={x:0,y:0,width:K.width,height:K.height,center:be},le=typeof h.scaleToFit>"u"||h.scaleToFit,de=D*aee(G,cee(ge,Y),h.rotation,le?h.center:{x:.5,y:.5});re.width=Math.round(K.width/de),re.height=Math.round(K.height/de),be.x/=de,be.y/=de;const Ee={x:be.x-G.width*(h.center?h.center.x:.5),y:be.y-G.height*(h.center?h.center.y:.5)},De=re.getContext("2d");k&&(De.fillStyle=k,De.fillRect(0,0,re.width,re.height)),De.translate(be.x,be.y),De.rotate(h.rotation||0),De.drawImage(V,Ee.x-be.x,Ee.y-be.y,G.width,G.height);const ke=De.getImageData(0,0,re.width,re.height);return lee(re),ke},fce=(()=>typeof window<"u"&&typeof window.document<"u")();fce&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(a,c,h){var E=this.toDataURL(c,h).split(",")[1];setTimeout(function(){for(var x=atob(E),k=x.length,D=new Uint8Array(k),V=0;V<k;V++)D[V]=x.charCodeAt(V);a(new Blob([D],{type:c||"image/png"}))})}}));const hce=(a,c,h=null)=>new Promise(E=>{const x=h?h(a):a;Promise.resolve(x).then(k=>{k.toBlob(E,c.type,c.quality)})}),CH=(a,c)=>tN(a.x*c,a.y*c),TH=(a,c)=>tN(a.x+c.x,a.y+c.y),uee=a=>{const c=Math.sqrt(a.x*a.x+a.y*a.y);return c===0?{x:0,y:0}:tN(a.x/c,a.y/c)},Aw=(a,c,h)=>{const E=Math.cos(c),x=Math.sin(c),k=tN(a.x-h.x,a.y-h.y);return tN(h.x+E*k.x-x*k.y,h.y+x*k.x+E*k.y)},tN=(a=0,c=0)=>({x:a,y:c}),ud=(a,c,h=1,E)=>{if(typeof a=="string")return parseFloat(a)*h;if(typeof a=="number")return a*(E?c[E]:Math.min(c.width,c.height))},f2=(a,c,h)=>{const E=a.borderStyle||a.lineStyle||"solid",x=a.backgroundColor||a.fontColor||"transparent",k=a.borderColor||a.lineColor||"transparent",D=ud(a.borderWidth||a.lineWidth,c,h),V=a.lineCap||"round",G=a.lineJoin||"round",Y=typeof E=="string"?"":E.map(re=>ud(re,c,h)).join(","),K=a.opacity||1;return{"stroke-linecap":V,"stroke-linejoin":G,"stroke-width":D||0,"stroke-dasharray":Y,stroke:k,fill:x,opacity:K}},yp=a=>a!=null,eR=(a,c,h=1)=>{let E=ud(a.x,c,h,"width")||ud(a.left,c,h,"width"),x=ud(a.y,c,h,"height")||ud(a.top,c,h,"height"),k=ud(a.width,c,h,"width"),D=ud(a.height,c,h,"height"),V=ud(a.right,c,h,"width"),G=ud(a.bottom,c,h,"height");return yp(x)||(yp(D)&&yp(G)?x=c.height-D-G:x=G),yp(E)||(yp(k)&&yp(V)?E=c.width-k-V:E=V),yp(k)||(yp(E)&&yp(V)?k=c.width-E-V:k=0),yp(D)||(yp(x)&&yp(G)?D=c.height-x-G:D=0),{x:E||0,y:x||0,width:k||0,height:D||0}},mce=a=>a.map((c,h)=>`${h===0?"M":"L"} ${c.x} ${c.y}`).join(" "),Db=(a,c)=>Object.keys(c).forEach(h=>a.setAttribute(h,c[h])),gce="http://www.w3.org/2000/svg",BO=(a,c)=>{const h=document.createElementNS(gce,a);return c&&Db(h,c),h},pce=a=>Db(a,{...a.rect,...a.styles}),vce=a=>{const c=a.rect.x+a.rect.width*.5,h=a.rect.y+a.rect.height*.5,E=a.rect.width*.5,x=a.rect.height*.5;return Db(a,{cx:c,cy:h,rx:E,ry:x,...a.styles})},bce={contain:"xMidYMid meet",cover:"xMidYMid slice"},yce=(a,c)=>{Db(a,{...a.rect,...a.styles,preserveAspectRatio:bce[c.fit]||"none"})},Ece={left:"start",center:"middle",right:"end"},_ce=(a,c,h,E)=>{const x=ud(c.fontSize,h,E),k=c.fontFamily||"sans-serif",D=c.fontWeight||"normal",V=Ece[c.textAlign]||"start";Db(a,{...a.rect,...a.styles,"stroke-width":0,"font-weight":D,"font-size":x,"font-family":k,"text-anchor":V}),a.text!==c.text&&(a.text=c.text,a.textContent=c.text.length?c.text:" ")},wce=(a,c,h,E)=>{Db(a,{...a.rect,...a.styles,fill:"none"});const x=a.childNodes[0],k=a.childNodes[1],D=a.childNodes[2],V=a.rect,G={x:a.rect.x+a.rect.width,y:a.rect.y+a.rect.height};if(Db(x,{x1:V.x,y1:V.y,x2:G.x,y2:G.y}),!c.lineDecoration)return;k.style.display="none",D.style.display="none";const Y=uee({x:G.x-V.x,y:G.y-V.y}),K=ud(.05,h,E);if(c.lineDecoration.indexOf("arrow-begin")!==-1){const re=CH(Y,K),be=TH(V,re),ge=Aw(V,2,be),le=Aw(V,-2,be);Db(k,{style:"display:block;",d:`M${ge.x},${ge.y} L${V.x},${V.y} L${le.x},${le.y}`})}if(c.lineDecoration.indexOf("arrow-end")!==-1){const re=CH(Y,-K),be=TH(G,re),ge=Aw(G,2,be),le=Aw(G,-2,be);Db(D,{style:"display:block;",d:`M${ge.x},${ge.y} L${G.x},${G.y} L${le.x},${le.y}`})}},Cce=(a,c,h,E)=>{Db(a,{...a.styles,fill:"none",d:mce(c.points.map(x=>({x:ud(x.x,h,E,"width"),y:ud(x.y,h,E,"height")})))})},Y5=a=>c=>BO(a,{id:c.id}),Tce=a=>{const c=BO("image",{id:a.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return c.onload=()=>{c.setAttribute("opacity",a.opacity||1)},c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a.src),c},Sce=a=>{const c=BO("g",{id:a.id,"stroke-linecap":"round","stroke-linejoin":"round"}),h=BO("line");c.appendChild(h);const E=BO("path");c.appendChild(E);const x=BO("path");return c.appendChild(x),c},xce={image:Tce,rect:Y5("rect"),ellipse:Y5("ellipse"),text:Y5("text"),path:Y5("path"),line:Sce},Ace={rect:pce,ellipse:vce,image:yce,text:_ce,path:Cce,line:wce},Oce=(a,c)=>xce[a](c),Rce=(a,c,h,E,x)=>{c!=="path"&&(a.rect=eR(h,E,x)),a.styles=f2(h,E,x),Ace[c](a,h,E,x)},dee=(a,c)=>a[1].zIndex>c[1].zIndex?1:a[1].zIndex<c[1].zIndex?-1:0,Ice=(a,c={},h,E)=>new Promise(x=>{const{background:k=null}=E,D=new FileReader;D.onloadend=()=>{const V=D.result,G=document.createElement("div");G.style.cssText="position:absolute;pointer-events:none;width:0;height:0;visibility:hidden;",G.innerHTML=V;const Y=G.querySelector("svg");document.body.appendChild(G);const K=Y.getBBox();G.parentNode.removeChild(G);const re=G.querySelector("title"),be=Y.getAttribute("viewBox")||"",ge=Y.getAttribute("width")||"",le=Y.getAttribute("height")||"";let de=parseFloat(ge)||null,Ee=parseFloat(le)||null;const De=(ge.match(/[a-z]+/)||[])[0]||"",ke=(le.match(/[a-z]+/)||[])[0]||"",ne=be.split(" ").map(parseFloat),Le=ne.length?{x:ne[0],y:ne[1],width:ne[2],height:ne[3]}:K;let ct=de??Le.width,$=Ee??Le.height;Y.style.overflow="visible",Y.setAttribute("width",ct),Y.setAttribute("height",$);let ye="";if(h&&h.length){const Jn={width:ct,height:$};ye=h.sort(dee).reduce((Fo,je)=>{const At=Oce(je[0],je[1]);return Rce(At,je[0],je[1],Jn),At.removeAttribute("id"),At.getAttribute("opacity")===1&&At.removeAttribute("opacity"),Fo+`
`+At.outerHTML+`
`},""),ye=`

<g>${ye.replace(/&nbsp;/g," ")}</g>

`}const Ge=c.aspectRatio||$/ct,mt=ct,xt=mt*Ge,Pe=typeof c.scaleToFit>"u"||c.scaleToFit,he=c.center?c.center.x:.5,dn=c.center?c.center.y:.5,bt=aee({width:ct,height:$},cee({width:mt,height:xt},Ge),c.rotation,Pe?{x:he,y:dn}:{x:.5,y:.5}),Ct=c.zoom*bt,P=c.rotation*(180/Math.PI),Tt={x:mt*.5,y:xt*.5},Xe={x:Tt.x-ct*he,y:Tt.y-$*dn},Vt=[`rotate(${P} ${Tt.x} ${Tt.y})`,`translate(${Tt.x} ${Tt.y})`,`scale(${Ct})`,`translate(${-Tt.x} ${-Tt.y})`,`translate(${Xe.x} ${Xe.y})`],Nt=c.flip&&c.flip.horizontal,Ve=c.flip&&c.flip.vertical,uo=[`scale(${Nt?-1:1} ${Ve?-1:1})`,`translate(${Nt?-ct:0} ${Ve?-$:0})`],Lo=`<?xml version="1.0" encoding="UTF-8"?>
<svg width="${mt}${De}" height="${xt}${ke}" 
viewBox="0 0 ${mt} ${xt}" ${k?'style="background:'+k+'" ':""}
preserveAspectRatio="xMinYMin"
xmlns:xlink="http://www.w3.org/1999/xlink"
xmlns="http://www.w3.org/2000/svg">
<!-- Generated by PQINA - https://pqina.nl/ -->
<title>${re?re.textContent:""}</title>
<g transform="${Vt.join(" ")}">
<g transform="${uo.join(" ")}">
${Y.outerHTML}${ye}
</g>
</g>
</svg>`;x(Lo)},D.readAsText(a)}),Dce=a=>{let c;try{c=new ImageData(a.width,a.height)}catch{c=document.createElement("canvas").getContext("2d").createImageData(a.width,a.height)}return c.data.set(a.data),c},Mce=()=>{const a={resize:K,filter:Y},c=(re,be)=>(re.forEach(ge=>{be=a[ge.type](be,ge.data)}),be),h=(re,be)=>{let ge=re.transforms,le=null;if(ge.forEach(de=>{de.type==="filter"&&(le=de)}),le){let de=null;ge.forEach(Ee=>{Ee.type==="resize"&&(de=Ee)}),de&&(de.data.matrix=le.data,ge=ge.filter(Ee=>Ee.type!=="filter"))}be(c(ge,re.imageData))};self.onmessage=re=>{h(re.data.message,be=>{self.postMessage({id:re.data.id,message:be},[be.data.buffer])})};const E=1,x=1,k=1;function D(re,be,ge){const le=be[re]/255,de=be[re+1]/255,Ee=be[re+2]/255,De=be[re+3]/255,ke=le*ge[0]+de*ge[1]+Ee*ge[2]+De*ge[3]+ge[4],ne=le*ge[5]+de*ge[6]+Ee*ge[7]+De*ge[8]+ge[9],Le=le*ge[10]+de*ge[11]+Ee*ge[12]+De*ge[13]+ge[14],ct=le*ge[15]+de*ge[16]+Ee*ge[17]+De*ge[18]+ge[19],$=Math.max(0,ke*ct)+E*(1-ct),ye=Math.max(0,ne*ct)+x*(1-ct),Ge=Math.max(0,Le*ct)+k*(1-ct);be[re]=Math.max(0,Math.min(1,$))*255,be[re+1]=Math.max(0,Math.min(1,ye))*255,be[re+2]=Math.max(0,Math.min(1,Ge))*255}const V=self.JSON.stringify([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]);function G(re){return self.JSON.stringify(re||[])===V}function Y(re,be){if(!be||G(be))return re;const ge=re.data,le=ge.length,de=be[0],Ee=be[1],De=be[2],ke=be[3],ne=be[4],Le=be[5],ct=be[6],$=be[7],ye=be[8],Ge=be[9],mt=be[10],xt=be[11],Pe=be[12],he=be[13],dn=be[14],bt=be[15],Ct=be[16],P=be[17],Tt=be[18],Xe=be[19];let Vt=0,Nt=0,Ve=0,uo=0,Lo=0,Jn=0,Fo=0,je=0,At=0,ee=0,os=0,so=0;for(;Vt<le;Vt+=4)Nt=ge[Vt]/255,Ve=ge[Vt+1]/255,uo=ge[Vt+2]/255,Lo=ge[Vt+3]/255,Jn=Nt*de+Ve*Ee+uo*De+Lo*ke+ne,Fo=Nt*Le+Ve*ct+uo*$+Lo*ye+Ge,je=Nt*mt+Ve*xt+uo*Pe+Lo*he+dn,At=Nt*bt+Ve*Ct+uo*P+Lo*Tt+Xe,ee=Math.max(0,Jn*At)+E*(1-At),os=Math.max(0,Fo*At)+x*(1-At),so=Math.max(0,je*At)+k*(1-At),ge[Vt]=Math.max(0,Math.min(1,ee))*255,ge[Vt+1]=Math.max(0,Math.min(1,os))*255,ge[Vt+2]=Math.max(0,Math.min(1,so))*255;return re}function K(re,be){let{mode:ge="contain",upscale:le=!1,width:de,height:Ee,matrix:De}=be;if(De=!De||G(De)?null:De,!de&&!Ee)return Y(re,De);if(de===null?de=Ee:Ee===null&&(Ee=de),ge!=="force"){let he=de/re.width,dn=Ee/re.height,bt=1;if(ge==="cover"?bt=Math.max(he,dn):ge==="contain"&&(bt=Math.min(he,dn)),bt>1&&le===!1)return Y(re,De);de=re.width*bt,Ee=re.height*bt}const ke=re.width,ne=re.height,Le=Math.round(de),ct=Math.round(Ee),$=re.data,ye=new Uint8ClampedArray(Le*ct*4),Ge=ke/Le,mt=ne/ct,xt=Math.ceil(Ge*.5),Pe=Math.ceil(mt*.5);for(let he=0;he<ct;he++)for(let dn=0;dn<Le;dn++){let bt=(dn+he*Le)*4,Ct=0,P=0,Tt=0,Xe=0,Vt=0,Nt=0,Ve=0,uo=(he+.5)*mt;for(let Lo=Math.floor(he*mt);Lo<(he+1)*mt;Lo++){let Jn=Math.abs(uo-(Lo+.5))/Pe,Fo=(dn+.5)*Ge,je=Jn*Jn;for(let At=Math.floor(dn*Ge);At<(dn+1)*Ge;At++){let ee=Math.abs(Fo-(At+.5))/xt,os=Math.sqrt(je+ee*ee);if(os>=-1&&os<=1&&(Ct=2*os*os*os-3*os*os+1,Ct>0)){ee=4*(At+Lo*ke);let so=$[ee+3];Ve+=Ct*so,Tt+=Ct,so<255&&(Ct=Ct*so/250),Xe+=Ct*$[ee],Vt+=Ct*$[ee+1],Nt+=Ct*$[ee+2],P+=Ct}}}ye[bt]=Xe/P,ye[bt+1]=Vt/P,ye[bt+2]=Nt/P,ye[bt+3]=Ve/Tt,De&&D(bt,ye,De)}return{data:ye,width:Le,height:ct}}},kce=(a,c)=>{if(a.getUint32(c+4,!1)!==1165519206)return;c+=4;const h=a.getUint16(c+=6,!1)===18761;c+=a.getUint32(c+4,h);const E=a.getUint16(c,h);c+=2;for(let x=0;x<E;x++)if(a.getUint16(c+x*12,h)===274)return a.setUint16(c+x*12+8,1,h),!0;return!1},Nce=a=>{const c=new DataView(a);if(c.getUint16(0)!==65496)return null;let h=2,E,x,k=!1;for(;h<c.byteLength&&(E=c.getUint16(h,!1),x=c.getUint16(h+2,!1)+2,!(!(E>=65504&&E<=65519||E===65534)||(k||(k=kce(c,h)),h+x>c.byteLength)));)h+=x;return a.slice(0,h)},Pce=a=>new Promise(c=>{const h=new FileReader;h.onload=()=>c(Nce(h.result)||null),h.readAsArrayBuffer(a.slice(0,256*1024))}),Lce=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,Bce=(a,c)=>{const h=Lce();if(h){const E=new h;return E.append(a),E.getBlob(c)}return new Blob([a],{type:c})},$ce=()=>Math.random().toString(36).substr(2,9),Fce=a=>{const c=new Blob(["(",a.toString(),")()"],{type:"application/javascript"}),h=URL.createObjectURL(c),E=new Worker(h),x=[];return{transfer:()=>{},post:(k,D,V)=>{const G=$ce();x[G]=D,E.onmessage=Y=>{const K=x[Y.data.id];K&&(K(Y.data.message),delete x[Y.data.id])},E.postMessage({id:G,message:k},V)},terminate:()=>{E.terminate(),URL.revokeObjectURL(h)}}},Hce=a=>new Promise((c,h)=>{const E=new Image;E.onload=()=>{c(E)},E.onerror=x=>{h(x)},E.src=a}),Vce=a=>a.reduce((c,h)=>c.then(E=>h().then(Array.prototype.concat.bind(E))),Promise.resolve([])),Uce=(a,c)=>new Promise(h=>{const E={width:a.width,height:a.height},x=a.getContext("2d"),k=c.sort(dee).map(D=>()=>new Promise(V=>{Yce[D[0]](x,E,D[1],V)&&V()}));Vce(k).then(()=>h(a))}),tR=(a,c)=>{a.beginPath(),a.lineCap=c["stroke-linecap"],a.lineJoin=c["stroke-linejoin"],a.lineWidth=c["stroke-width"],c["stroke-dasharray"].length&&a.setLineDash(c["stroke-dasharray"].split(",")),a.fillStyle=c.fill,a.strokeStyle=c.stroke,a.globalAlpha=c.opacity||1},nR=a=>{a.fill(),a.stroke(),a.globalAlpha=1},zce=(a,c,h)=>{const E=eR(h,c),x=f2(h,c);return tR(a,x),a.rect(E.x,E.y,E.width,E.height),nR(a),!0},Wce=(a,c,h)=>{const E=eR(h,c),x=f2(h,c);tR(a,x);const k=E.x,D=E.y,V=E.width,G=E.height,Y=.5522848,K=V/2*Y,re=G/2*Y,be=k+V,ge=D+G,le=k+V/2,de=D+G/2;return a.moveTo(k,de),a.bezierCurveTo(k,de-re,le-K,D,le,D),a.bezierCurveTo(le+K,D,be,de-re,be,de),a.bezierCurveTo(be,de+re,le+K,ge,le,ge),a.bezierCurveTo(le-K,ge,k,de+re,k,de),nR(a),!0},Gce=(a,c,h,E)=>{const x=eR(h,c),k=f2(h,c);tR(a,k);const D=new Image;new URL(h.src,window.location.href).origin!==window.location.origin&&(D.crossOrigin=""),D.onload=()=>{if(h.fit==="cover"){const G=x.width/x.height,Y=G>1?D.width:D.height*G,K=G>1?D.width/G:D.height,re=D.width*.5-Y*.5,be=D.height*.5-K*.5;a.drawImage(D,re,be,Y,K,x.x,x.y,x.width,x.height)}else if(h.fit==="contain"){const G=Math.min(x.width/D.width,x.height/D.height),Y=G*D.width,K=G*D.height,re=x.x+x.width*.5-Y*.5,be=x.y+x.height*.5-K*.5;a.drawImage(D,0,0,D.width,D.height,re,be,Y,K)}else a.drawImage(D,0,0,D.width,D.height,x.x,x.y,x.width,x.height);nR(a),E()},D.src=h.src},Zce=(a,c,h)=>{const E=eR(h,c),x=f2(h,c);tR(a,x);const k=ud(h.fontSize,c),D=h.fontFamily||"sans-serif",V=h.fontWeight||"normal",G=h.textAlign||"left";return a.font=`${V} ${k}px ${D}`,a.textAlign=G,a.fillText(h.text,E.x,E.y),nR(a),!0},qce=(a,c,h)=>{const E=f2(h,c);tR(a,E),a.beginPath();const x=h.points.map(D=>({x:ud(D.x,c,1,"width"),y:ud(D.y,c,1,"height")}));a.moveTo(x[0].x,x[0].y);const k=x.length;for(let D=1;D<k;D++)a.lineTo(x[D].x,x[D].y);return nR(a),!0},jce=(a,c,h)=>{const E=eR(h,c),x=f2(h,c);tR(a,x),a.beginPath();const k={x:E.x,y:E.y},D={x:E.x+E.width,y:E.y+E.height};a.moveTo(k.x,k.y),a.lineTo(D.x,D.y);const V=uee({x:D.x-k.x,y:D.y-k.y}),G=.04*Math.min(c.width,c.height);if(h.lineDecoration.indexOf("arrow-begin")!==-1){const Y=CH(V,G),K=TH(k,Y),re=Aw(k,2,K),be=Aw(k,-2,K);a.moveTo(re.x,re.y),a.lineTo(k.x,k.y),a.lineTo(be.x,be.y)}if(h.lineDecoration.indexOf("arrow-end")!==-1){const Y=CH(V,-G),K=TH(D,Y),re=Aw(D,2,K),be=Aw(D,-2,K);a.moveTo(re.x,re.y),a.lineTo(D.x,D.y),a.lineTo(be.x,be.y)}return nR(a),!0},Yce={rect:zce,ellipse:Wce,image:Gce,text:Zce,line:jce,path:qce},Kce=a=>{const c=document.createElement("canvas");return c.width=a.width,c.height=a.height,c.getContext("2d").putImageData(a,0,0),c},Xce=(a,c,h={})=>new Promise((E,x)=>{if(!a||!sce(a))return x({status:"not an image file",file:a});const{stripImageHead:k,beforeCreateBlob:D,afterCreateBlob:V,canvasMemoryLimit:G}=h,{crop:Y,size:K,filter:re,markup:be,output:ge}=c,le=c.image&&c.image.orientation?Math.max(1,Math.min(8,c.image.orientation)):null,de=ge&&ge.quality,Ee=de===null?null:de/100,De=ge&&ge.type||null,ke=ge&&ge.background||null,ne=[];K&&(typeof K.width=="number"||typeof K.height=="number")&&ne.push({type:"resize",data:K}),re&&re.length===20&&ne.push({type:"filter",data:re});const Le=ye=>{const Ge=V?V(ye):ye;Promise.resolve(Ge).then(E)},ct=(ye,Ge)=>{const mt=Kce(ye),xt=be.length?Uce(mt,be):mt;Promise.resolve(xt).then(Pe=>{hce(Pe,Ge,D).then(he=>{if(lee(Pe),k)return Le(he);Pce(a).then(dn=>{dn!==null&&(he=new Blob([dn,he.slice(20)],{type:he.type})),Le(he)})}).catch(x)})};if(/svg/.test(a.type)&&De===null)return Ice(a,Y,be,{background:ke}).then(ye=>{E(Bce(ye,"image/svg+xml"))});const $=URL.createObjectURL(a);Hce($).then(ye=>{URL.revokeObjectURL($);const Ge=dce(ye,le,Y,{canvasMemoryLimit:G,background:ke}),mt={quality:Ee,type:De||a.type};if(!ne.length)return ct(Ge,mt);const xt=Fce(Mce);xt.post({transforms:ne,imageData:Ge},Pe=>{ct(Dce(Pe),mt),xt.terminate()},[Ge.data.buffer])}).catch(x)}),Qce=["x","y","left","top","right","bottom","width","height"],Jce=a=>typeof a=="string"&&/%/.test(a)?parseFloat(a)/100:a,ele=a=>{const[c,h]=a,E=h.points?{}:Qce.reduce((x,k)=>(x[k]=Jce(h[k]),x),{});return[c,{zIndex:0,...h,...E}]},tle=a=>new Promise((c,h)=>{const E=new Image;E.src=URL.createObjectURL(a);const x=()=>{const D=E.naturalWidth,V=E.naturalHeight;D&&V&&(URL.revokeObjectURL(E.src),clearInterval(k),c({width:D,height:V}))};E.onerror=D=>{URL.revokeObjectURL(E.src),clearInterval(k),h(D)};const k=setInterval(x,1);x()});typeof window<"u"&&typeof window.document<"u"&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(a,c,h){const E=this;setTimeout(()=>{const x=E.toDataURL(c,h).split(",")[1],k=atob(x);let D=k.length;const V=new Uint8Array(D);for(;D--;)V[D]=k.charCodeAt(D);a(new Blob([V],{type:c||"image/png"}))})}}));const iY=typeof window<"u"&&typeof window.document<"u",nle=iY&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,ole=({addFilter:a,utils:c})=>{const{Type:h,forin:E,getFileFromBlob:x,isFile:k}=c,D=["crop","resize","filter","markup","output"],V=K=>(re,be,ge)=>re(be,K?K(ge):ge),G=K=>K.aspectRatio===null&&K.rotation===0&&K.zoom===1&&K.center&&K.center.x===.5&&K.center.y===.5&&K.flip&&K.flip.horizontal===!1&&K.flip.vertical===!1;a("SHOULD_PREPARE_OUTPUT",(K,{query:re})=>new Promise(be=>{be(!re("IS_ASYNC"))}));const Y=(K,re,be)=>new Promise(ge=>{if(!K("GET_ALLOW_IMAGE_TRANSFORM")||be.archived||!k(re)||!Jae(re))return ge(!1);tle(re).then(()=>{const le=K("GET_IMAGE_TRANSFORM_IMAGE_FILTER");if(le){const de=le(re);if(de==null)return handleRevert(!0);if(typeof de=="boolean")return ge(de);if(typeof de.then=="function")return de.then(ge)}ge(!0)}).catch(le=>{ge(!1)})});return a("DID_CREATE_ITEM",(K,{query:re,dispatch:be})=>{re("GET_ALLOW_IMAGE_TRANSFORM")&&K.extend("requestPrepare",()=>new Promise((ge,le)=>{be("REQUEST_PREPARE_OUTPUT",{query:K.id,item:K,success:ge,failure:le},!0)}))}),a("PREPARE_OUTPUT",(K,{query:re,item:be})=>new Promise(ge=>{Y(re,K,be).then(le=>{if(!le)return ge(K);const de=[];re("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_ORIGINAL")&&de.push(()=>new Promise(Ge=>{Ge({name:re("GET_IMAGE_TRANSFORM_VARIANTS_ORIGINAL_NAME"),file:K})})),re("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_DEFAULT")&&de.push((Ge,mt,xt)=>new Promise(Pe=>{Ge(mt,xt).then(he=>Pe({name:re("GET_IMAGE_TRANSFORM_VARIANTS_DEFAULT_NAME"),file:he}))}));const Ee=re("GET_IMAGE_TRANSFORM_VARIANTS")||{};E(Ee,(Ge,mt)=>{const xt=V(mt);de.push((Pe,he,dn)=>new Promise(bt=>{xt(Pe,he,dn).then(Ct=>bt({name:Ge,file:Ct}))}))});const De=re("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY"),ke=re("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY_MODE"),ne=De===null?null:De/100,Le=re("GET_IMAGE_TRANSFORM_OUTPUT_MIME_TYPE"),ct=re("GET_IMAGE_TRANSFORM_CLIENT_TRANSFORMS")||D;be.setMetadata("output",{type:Le,quality:ne,client:ct},!0);const $=(Ge,mt)=>new Promise((xt,Pe)=>{const he={...mt};Object.keys(he).filter(Ve=>Ve!=="exif").forEach(Ve=>{ct.indexOf(Ve)===-1&&delete he[Ve]});const{resize:dn,exif:bt,output:Ct,crop:P,filter:Tt,markup:Xe}=he,Vt={image:{orientation:bt?bt.orientation:null},output:Ct&&(Ct.type||typeof Ct.quality=="number"||Ct.background)?{type:Ct.type,quality:typeof Ct.quality=="number"?Ct.quality*100:null,background:Ct.background||re("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR")||null}:void 0,size:dn&&(dn.size.width||dn.size.height)?{mode:dn.mode,upscale:dn.upscale,...dn.size}:void 0,crop:P&&!G(P)?{...P}:void 0,markup:Xe&&Xe.length?Xe.map(ele):[],filter:Tt};if(Vt.output){const Ve=Ct.type?Ct.type!==Ge.type:!1,uo=/\/jpe?g$/.test(Ge.type),Lo=Ct.quality!==null?uo&&ke==="always":!1;if(!!!(Vt.size||Vt.crop||Vt.filter||Ve||Lo))return xt(Ge)}const Nt={beforeCreateBlob:re("GET_IMAGE_TRANSFORM_BEFORE_CREATE_BLOB"),afterCreateBlob:re("GET_IMAGE_TRANSFORM_AFTER_CREATE_BLOB"),canvasMemoryLimit:re("GET_IMAGE_TRANSFORM_CANVAS_MEMORY_LIMIT"),stripImageHead:re("GET_IMAGE_TRANSFORM_OUTPUT_STRIP_IMAGE_HEAD")};Xce(Ge,Vt,Nt).then(Ve=>{const uo=x(Ve,nce(Ge.name,oce(Ve.type)));xt(uo)}).catch(Pe)}),ye=de.map(Ge=>Ge($,K,be.getMetadata()));Promise.all(ye).then(Ge=>{ge(Ge.length===1&&Ge[0].name===null?Ge[0].file:Ge)})})})),{options:{allowImageTransform:[!0,h.BOOLEAN],imageTransformImageFilter:[null,h.FUNCTION],imageTransformOutputMimeType:[null,h.STRING],imageTransformOutputQuality:[null,h.INT],imageTransformOutputStripImageHead:[!0,h.BOOLEAN],imageTransformClientTransforms:[null,h.ARRAY],imageTransformOutputQualityMode:["always",h.STRING],imageTransformVariants:[null,h.OBJECT],imageTransformVariantsIncludeDefault:[!0,h.BOOLEAN],imageTransformVariantsDefaultName:[null,h.STRING],imageTransformVariantsIncludeOriginal:[!1,h.BOOLEAN],imageTransformVariantsOriginalName:["original_",h.STRING],imageTransformBeforeCreateBlob:[null,h.FUNCTION],imageTransformAfterCreateBlob:[null,h.FUNCTION],imageTransformCanvasMemoryLimit:[iY&&nle?4096*4096:null,h.INT],imageTransformCanvasBackgroundColor:[null,h.STRING]}}};iY&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:ole}));/*!
 * FilePondPluginImageEdit 1.6.3
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const Xq=a=>/^image/.test(a.type),sle=a=>{const{addFilter:c,utils:h,views:E}=a,{Type:x,createRoute:k,createItemAPI:D=K=>K}=h,{fileActionButton:V}=E;c("SHOULD_REMOVE_ON_REVERT",(K,{item:re,query:be})=>new Promise(ge=>{const{file:le}=re,de=be("GET_ALLOW_IMAGE_EDIT")&&be("GET_IMAGE_EDIT_ALLOW_EDIT")&&Xq(le);ge(!de)})),c("DID_LOAD_ITEM",(K,{query:re,dispatch:be})=>new Promise((ge,le)=>{if(K.origin>1){ge(K);return}const{file:de}=K;if(!re("GET_ALLOW_IMAGE_EDIT")||!re("GET_IMAGE_EDIT_INSTANT_EDIT")){ge(K);return}if(!Xq(de)){ge(K);return}const Ee=(ke,ne,Le)=>ct=>{G.shift(),ct?ne(ke):Le(ke),be("KICK"),De()},De=()=>{if(!G.length)return;const{item:ke,resolve:ne,reject:Le}=G[0];be("EDIT_ITEM",{id:ke.id,handleEditorResponse:Ee(ke,ne,Le)})};Y({item:K,resolve:ge,reject:le}),G.length===1&&De()})),c("DID_CREATE_ITEM",(K,{query:re,dispatch:be})=>{K.extend("edit",()=>{be("EDIT_ITEM",{id:K.id})})});const G=[],Y=K=>(G.push(K),K);return c("CREATE_VIEW",K=>{const{is:re,view:be,query:ge}=K;if(!ge("GET_ALLOW_IMAGE_EDIT"))return;const le=ge("GET_ALLOW_IMAGE_PREVIEW");if(!(re("file-info")&&!le||re("file")&&le))return;const Ee=ge("GET_IMAGE_EDIT_EDITOR");if(!Ee)return;Ee.filepondCallbackBridge||(Ee.outputData=!0,Ee.outputFile=!1,Ee.filepondCallbackBridge={onconfirm:Ee.onconfirm||(()=>{}),oncancel:Ee.oncancel||(()=>{})});const De=({root:Le,props:ct,action:$})=>{const{id:ye}=ct,{handleEditorResponse:Ge}=$;Ee.cropAspectRatio=Le.query("GET_IMAGE_CROP_ASPECT_RATIO")||Ee.cropAspectRatio,Ee.outputCanvasBackgroundColor=Le.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR")||Ee.outputCanvasBackgroundColor;const mt=Le.query("GET_ITEM",ye);if(!mt)return;const xt=mt.file,Pe=mt.getMetadata("crop"),he={center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},dn=mt.getMetadata("resize"),bt=mt.getMetadata("filter")||null,Ct=mt.getMetadata("filters")||null,P=mt.getMetadata("colors")||null,Tt=mt.getMetadata("markup")||null,Xe={crop:Pe||he,size:dn?{upscale:dn.upscale,mode:dn.mode,width:dn.size.width,height:dn.size.height}:null,filter:Ct?Ct.id||Ct.matrix:Le.query("GET_ALLOW_IMAGE_FILTER")&&Le.query("GET_IMAGE_FILTER_COLOR_MATRIX")&&!P?bt:null,color:P,markup:Tt};Ee.onconfirm=({data:Vt})=>{const{crop:Nt,size:Ve,filter:uo,color:Lo,colorMatrix:Jn,markup:Fo}=Vt,je={};if(Nt&&(je.crop=Nt),Ve){const At=(mt.getMetadata("resize")||{}).size,ee={width:Ve.width,height:Ve.height};!(ee.width&&ee.height)&&At&&(ee.width=At.width,ee.height=At.height),(ee.width||ee.height)&&(je.resize={upscale:Ve.upscale,mode:Ve.mode,size:ee})}Fo&&(je.markup=Fo),je.colors=Lo,je.filters=uo,je.filter=Jn,mt.setMetadata(je),Ee.filepondCallbackBridge.onconfirm(Vt,D(mt)),Ge&&(Ee.onclose=()=>{Ge(!0),Ee.onclose=null})},Ee.oncancel=()=>{Ee.filepondCallbackBridge.oncancel(D(mt)),Ge&&(Ee.onclose=()=>{Ge(!1),Ee.onclose=null})},Ee.open(xt,Xe)},ke=({root:Le,props:ct})=>{if(!ge("GET_IMAGE_EDIT_ALLOW_EDIT"))return;const{id:$}=ct,ye=ge("GET_ITEM",$);if(!ye)return;const Ge=ye.file;if(Xq(Ge))if(Le.ref.handleEdit=mt=>{mt.stopPropagation(),Le.dispatch("EDIT_ITEM",{id:$})},le){const mt=be.createChildView(V,{label:"edit",icon:ge("GET_IMAGE_EDIT_ICON_EDIT"),opacity:0});mt.element.classList.add("filepond--action-edit-item"),mt.element.dataset.align=ge("GET_STYLE_IMAGE_EDIT_BUTTON_EDIT_ITEM_POSITION"),mt.on("click",Le.ref.handleEdit),Le.ref.buttonEditItem=be.appendChildView(mt)}else{const mt=be.element.querySelector(".filepond--file-info-main"),xt=document.createElement("button");xt.className="filepond--action-edit-item-alt",xt.innerHTML=ge("GET_IMAGE_EDIT_ICON_EDIT")+"<span>edit</span>",xt.addEventListener("click",Le.ref.handleEdit),mt.appendChild(xt),Le.ref.editButton=xt}};be.registerDestroyer(({root:Le})=>{Le.ref.buttonEditItem&&Le.ref.buttonEditItem.off("click",Le.ref.handleEdit),Le.ref.editButton&&Le.ref.editButton.removeEventListener("click",Le.ref.handleEdit)});const ne={EDIT_ITEM:De,DID_LOAD_ITEM:ke};if(le){const Le=({root:ct})=>{ct.ref.buttonEditItem&&(ct.ref.buttonEditItem.opacity=1)};ne.DID_IMAGE_PREVIEW_SHOW=Le}be.registerWriter(k(ne))}),{options:{allowImageEdit:[!0,x.BOOLEAN],styleImageEditButtonEditItemPosition:["bottom center",x.STRING],imageEditInstantEdit:[!1,x.BOOLEAN],imageEditAllowEdit:[!0,x.BOOLEAN],imageEditIconEdit:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false"><path d="M8.5 17h1.586l7-7L15.5 8.414l-7 7V17zm-1.707-2.707l8-8a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-8 8A1 1 0 0 1 10.5 19h-3a1 1 0 0 1-1-1v-3a1 1 0 0 1 .293-.707z" fill="currentColor" fill-rule="nonzero"/></svg>',x.STRING],imageEditEditor:[null,x.OBJECT]}}},rle=typeof window<"u"&&typeof window.document<"u";rle&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:sle}));/*!
 * FilePondPluginFileEncode 2.1.10
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const ile=function(){self.onmessage=c=>{a(c.data.message,h=>{self.postMessage({id:c.data.id,message:h})})};const a=(c,h)=>{const{file:E}=c,x=new FileReader;x.onloadend=()=>{h(x.result.replace("data:","").replace(/^.+,/,""))},x.readAsDataURL(E)}},fee=({addFilter:a,utils:c})=>{const{Type:h,createWorker:E,createRoute:x,isFile:k}=c,D=({name:G,file:Y})=>new Promise(K=>{const re=E(ile);re.post({file:Y},be=>{K({name:G,data:be}),re.terminate()})}),V=[];return a("DID_CREATE_ITEM",(G,{query:Y})=>{Y("GET_ALLOW_FILE_ENCODE")&&(G.extend("getFileEncodeBase64String",()=>V[G.id]&&V[G.id].data),G.extend("getFileEncodeDataURL",()=>`data:${G.fileType};base64,${V[G.id].data}`))}),a("SHOULD_PREPARE_OUTPUT",(G,{query:Y})=>new Promise(K=>{K(Y("GET_ALLOW_FILE_ENCODE"))})),a("COMPLETE_PREPARE_OUTPUT",(G,{item:Y,query:K})=>new Promise(re=>{if(!K("GET_ALLOW_FILE_ENCODE")||!k(G)&&!Array.isArray(G))return re(G);V[Y.id]={metadata:Y.getMetadata(),data:null},Promise.all((G instanceof Blob?[{name:null,file:G}]:G).map(D)).then(be=>{V[Y.id].data=G instanceof Blob?be[0].data:be,re(G)})})),a("CREATE_VIEW",G=>{const{is:Y,view:K,query:re}=G;!Y("file-wrapper")||!re("GET_ALLOW_FILE_ENCODE")||K.registerWriter(x({DID_PREPARE_OUTPUT:({root:be,action:ge})=>{if(re("IS_ASYNC"))return;const le=re("GET_ITEM",ge.id);if(!le)return;const de=V[le.id],Ee=de.metadata,De=de.data,ke=JSON.stringify({id:le.id,name:le.file.name,type:le.file.type,size:le.file.size,metadata:Ee,data:De});be.ref.data?be.ref.data.value=ke:be.dispatch("DID_DEFINE_VALUE",{id:le.id,value:ke})},DID_REMOVE_ITEM:({action:be})=>{const ge=re("GET_ITEM",be.id);ge&&delete V[ge.id]}}))}),{options:{allowFileEncode:[!0,h.BOOLEAN]}}},ale=typeof window<"u"&&typeof window.document<"u";ale&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:fee}));/*!
 * FilePondPluginFilePoster 2.5.1
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const bQ={type:"spring",stiffness:.5,damping:.45,mass:10},cle=a=>a.utils.createView({name:"file-poster",tag:"div",ignoreRect:!0,create:({root:c})=>{c.ref.image=document.createElement("img"),c.element.appendChild(c.ref.image)},write:a.utils.createRoute({DID_FILE_POSTER_LOAD:({root:c,props:h})=>{const{id:E}=h,x=c.query("GET_ITEM",{id:h.id});if(!x)return;const k=x.getMetadata("poster");c.ref.image.src=k,c.dispatch("DID_FILE_POSTER_DRAW",{id:E})}}),mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:bQ,scaleY:bQ,opacity:{type:"tween",duration:750}}}}),lle=(a,c)=>{c.width=a.width,c.height=a.height,c.getContext("2d").drawImage(a,0,0)},ule=a=>a.utils.createView({name:"file-poster-overlay",tag:"canvas",ignoreRect:!0,create:({root:c,props:h})=>{lle(h.template,c.element)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}}),dle=(a,c)=>{let h=new Image;h.onload=()=>{const E=h.naturalWidth,x=h.naturalHeight;h=null,c(E,x)},h.src=a},fle=a=>-.5*(Math.cos(Math.PI*a)-1),hle=(a,c,h=1,E=fle,x=10,k=0)=>{const D=1-k,V=c.join(",");for(let G=0;G<=x;G++){const Y=G/x,K=k+D*Y;a.addColorStop(K,`rgba(${V}, ${E(Y)*h})`)}},mle=10,gle=10,ple=a=>{const c=Math.min(mle/a.width,gle/a.height),h=document.createElement("canvas"),E=h.getContext("2d"),x=h.width=Math.ceil(a.width*c),k=h.height=Math.ceil(a.height*c);E.drawImage(a,0,0,x,k);let D=null;try{D=E.getImageData(0,0,x,k).data}catch{return null}const V=D.length;let G=0,Y=0,K=0,re=0;for(;re<V;re+=4)G+=D[re]*D[re],Y+=D[re+1]*D[re+1],K+=D[re+2]*D[re+2];return G=Qq(G,V),Y=Qq(Y,V),K=Qq(K,V),{r:G,g:Y,b:K}},Qq=(a,c)=>Math.floor(Math.sqrt(a/(c/4))),HO=(a,c,h,E,x)=>{a.width=c,a.height=h;const k=a.getContext("2d"),D=c*.5,V=k.createRadialGradient(D,h+110,h-100,D,h+110,h+100);hle(V,E,x,void 0,8,.4),k.save(),k.translate(-c*.5,0),k.scale(2,1),k.fillStyle=V,k.fillRect(0,0,c,h),k.restore()},BH=typeof navigator<"u",VO=500,UO=200,kj=BH&&document.createElement("canvas"),Nj=BH&&document.createElement("canvas"),Pj=BH&&document.createElement("canvas");let aH=[40,40,40],cH=[196,78,71],lH=[54,151,99];BH&&(HO(kj,VO,UO,aH,.85),HO(Nj,VO,UO,cH,1),HO(Pj,VO,UO,lH,1));const vle=(a,c)=>new Promise((h,E)=>{const x=new Image;typeof crossOrigin=="string"&&(x.crossOrigin=c),x.onload=()=>{h(x)},x.onerror=k=>{E(k)},x.src=a}),ble=a=>{const c=ule(a),h=({root:Y,props:K})=>{const{id:re}=K,be=Y.query("GET_ITEM",re);if(!be)return;const ge=be.getMetadata("poster"),le=de=>{const Ee=Y.query("GET_FILE_POSTER_CALCULATE_AVERAGE_IMAGE_COLOR")?ple(de):null;be.setMetadata("color",Ee,!0),Y.dispatch("DID_FILE_POSTER_LOAD",{id:re,data:de})};dle(ge,(de,Ee)=>{Y.dispatch("DID_FILE_POSTER_CALCULATE_SIZE",{id:re,width:de,height:Ee}),vle(ge,Y.query("GET_FILE_POSTER_CROSS_ORIGIN_ATTRIBUTE_VALUE")).then(le)})},E=({root:Y})=>{Y.ref.overlayShadow.opacity=1},x=({root:Y})=>{const{image:K}=Y.ref;K.scaleX=1,K.scaleY=1,K.opacity=1},k=({root:Y})=>{Y.ref.overlayShadow.opacity=1,Y.ref.overlayError.opacity=0,Y.ref.overlaySuccess.opacity=0},D=({root:Y})=>{Y.ref.overlayShadow.opacity=.25,Y.ref.overlayError.opacity=1},V=({root:Y})=>{Y.ref.overlayShadow.opacity=.25,Y.ref.overlaySuccess.opacity=1},G=({root:Y,props:K})=>{const re=Y.query("GET_FILE_POSTER_ITEM_OVERLAY_SHADOW_COLOR"),be=Y.query("GET_FILE_POSTER_ITEM_OVERLAY_ERROR_COLOR"),ge=Y.query("GET_FILE_POSTER_ITEM_OVERLAY_SUCCESS_COLOR");re&&re!==aH&&(aH=re,HO(kj,VO,UO,aH,.85)),be&&be!==cH&&(cH=be,HO(Nj,VO,UO,cH,1)),ge&&ge!==lH&&(lH=ge,HO(Pj,VO,UO,lH,1));const le=cle(a);Y.ref.image=Y.appendChildView(Y.createChildView(le,{id:K.id,scaleX:1.25,scaleY:1.25,opacity:0})),Y.ref.overlayShadow=Y.appendChildView(Y.createChildView(c,{template:kj,opacity:0})),Y.ref.overlaySuccess=Y.appendChildView(Y.createChildView(c,{template:Pj,opacity:0})),Y.ref.overlayError=Y.appendChildView(Y.createChildView(c,{template:Nj,opacity:0}))};return a.utils.createView({name:"file-poster-wrapper",create:G,write:a.utils.createRoute({DID_FILE_POSTER_LOAD:E,DID_FILE_POSTER_DRAW:x,DID_FILE_POSTER_CONTAINER_CREATE:h,DID_THROW_ITEM_LOAD_ERROR:D,DID_THROW_ITEM_PROCESSING_ERROR:D,DID_THROW_ITEM_INVALID:D,DID_COMPLETE_ITEM_PROCESSING:V,DID_START_ITEM_PROCESSING:k,DID_REVERT_ITEM_PROCESSING:k})})},hee=a=>{const{addFilter:c,utils:h}=a,{Type:E,createRoute:x}=h,k=ble(a);return c("CREATE_VIEW",D=>{const{is:V,view:G,query:Y}=D;if(!V("file")||!Y("GET_ALLOW_FILE_POSTER"))return;const K=({root:de,props:Ee})=>{be(de,Ee)},re=({root:de,props:Ee,action:De})=>{/poster/.test(De.change.key)&&be(de,Ee)},be=(de,Ee)=>{const{id:De}=Ee,ke=Y("GET_ITEM",De);!ke||!ke.getMetadata("poster")||ke.archived||de.ref.previousPoster!==ke.getMetadata("poster")&&(de.ref.previousPoster=ke.getMetadata("poster"),Y("GET_FILE_POSTER_FILTER_ITEM")(ke)&&(de.ref.filePoster&&G.removeChildView(de.ref.filePoster),de.ref.filePoster=G.appendChildView(G.createChildView(k,{id:De})),de.dispatch("DID_FILE_POSTER_CONTAINER_CREATE",{id:De})))},ge=({root:de,action:Ee})=>{de.ref.filePoster&&(de.ref.imageWidth=Ee.width,de.ref.imageHeight=Ee.height,de.ref.shouldUpdatePanelHeight=!0,de.dispatch("KICK"))},le=({root:de})=>{let Ee=de.query("GET_FILE_POSTER_HEIGHT");if(Ee)return Ee;const De=de.query("GET_FILE_POSTER_MIN_HEIGHT"),ke=de.query("GET_FILE_POSTER_MAX_HEIGHT");if(De&&de.ref.imageHeight<De)return De;let ne=de.rect.element.width*(de.ref.imageHeight/de.ref.imageWidth);return De&&ne<De?De:ke&&ne>ke?ke:ne};G.registerWriter(x({DID_LOAD_ITEM:K,DID_FILE_POSTER_CALCULATE_SIZE:ge,DID_UPDATE_ITEM_METADATA:re},({root:de,props:Ee})=>{de.ref.filePoster&&(de.rect.element.hidden||de.ref.shouldUpdatePanelHeight&&(de.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:Ee.id,height:le({root:de})}),de.ref.shouldUpdatePanelHeight=!1))}))}),{options:{allowFilePoster:[!0,E.BOOLEAN],filePosterHeight:[null,E.INT],filePosterMinHeight:[null,E.INT],filePosterMaxHeight:[null,E.INT],filePosterFilterItem:[()=>!0,E.FUNCTION],filePosterCalculateAverageImageColor:[!1,E.BOOLEAN],filePosterCrossOriginAttributeValue:["Anonymous",E.STRING],filePosterItemOverlayShadowColor:[null,E.ARRAY],filePosterItemOverlayErrorColor:[null,E.ARRAY],filePosterItemOverlaySuccessColor:[null,E.ARRAY]}}},yle=typeof window<"u"&&typeof window.document<"u";yle&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:hee}));function mee(a,c){return function(){return a.apply(c,arguments)}}const{toString:gee}=Object.prototype,{getPrototypeOf:aY}=Object,cY=(a=>c=>{const h=gee.call(c);return a[h]||(a[h]=h.slice(8,-1).toLowerCase())})(Object.create(null)),eE=a=>(a=a.toLowerCase(),c=>cY(c)===a),$H=a=>c=>typeof c===a,{isArray:oR}=Array,nN=$H("undefined");function Ele(a){return a!==null&&!nN(a)&&a.constructor!==null&&!nN(a.constructor)&&Rw(a.constructor.isBuffer)&&a.constructor.isBuffer(a)}const pee=eE("ArrayBuffer");function _le(a){let c;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?c=ArrayBuffer.isView(a):c=a&&a.buffer&&pee(a.buffer),c}const wle=$H("string"),Rw=$H("function"),vee=$H("number"),lY=a=>a!==null&&typeof a=="object",Cle=a=>a===!0||a===!1,uH=a=>{if(cY(a)!=="object")return!1;const c=aY(a);return(c===null||c===Object.prototype||Object.getPrototypeOf(c)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},Tle=eE("Date"),Sle=eE("File"),xle=eE("Blob"),Ale=eE("FileList"),Ole=a=>lY(a)&&Rw(a.pipe),Rle=a=>{const c="[object FormData]";return a&&(typeof FormData=="function"&&a instanceof FormData||gee.call(a)===c||Rw(a.toString)&&a.toString()===c)},Ile=eE("URLSearchParams"),Dle=a=>a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function rN(a,c,{allOwnKeys:h=!1}={}){if(a===null||typeof a>"u")return;let E,x;if(typeof a!="object"&&(a=[a]),oR(a))for(E=0,x=a.length;E<x;E++)c.call(null,a[E],E,a);else{const k=h?Object.getOwnPropertyNames(a):Object.keys(a),D=k.length;let V;for(E=0;E<D;E++)V=k[E],c.call(null,a[V],V,a)}}function bee(a,c){c=c.toLowerCase();const h=Object.keys(a);let E=h.length,x;for(;E-- >0;)if(x=h[E],c===x.toLowerCase())return x;return null}const yee=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Eee=a=>!nN(a)&&a!==yee;function Lj(){const{caseless:a}=Eee(this)&&this||{},c={},h=(E,x)=>{const k=a&&bee(c,x)||x;uH(c[k])&&uH(E)?c[k]=Lj(c[k],E):uH(E)?c[k]=Lj({},E):oR(E)?c[k]=E.slice():c[k]=E};for(let E=0,x=arguments.length;E<x;E++)arguments[E]&&rN(arguments[E],h);return c}const Mle=(a,c,h,{allOwnKeys:E}={})=>(rN(c,(x,k)=>{h&&Rw(x)?a[k]=mee(x,h):a[k]=x},{allOwnKeys:E}),a),kle=a=>(a.charCodeAt(0)===65279&&(a=a.slice(1)),a),Nle=(a,c,h,E)=>{a.prototype=Object.create(c.prototype,E),a.prototype.constructor=a,Object.defineProperty(a,"super",{value:c.prototype}),h&&Object.assign(a.prototype,h)},Ple=(a,c,h,E)=>{let x,k,D;const V={};if(c=c||{},a==null)return c;do{for(x=Object.getOwnPropertyNames(a),k=x.length;k-- >0;)D=x[k],(!E||E(D,a,c))&&!V[D]&&(c[D]=a[D],V[D]=!0);a=h!==!1&&aY(a)}while(a&&(!h||h(a,c))&&a!==Object.prototype);return c},Lle=(a,c,h)=>{a=String(a),(h===void 0||h>a.length)&&(h=a.length),h-=c.length;const E=a.indexOf(c,h);return E!==-1&&E===h},Ble=a=>{if(!a)return null;if(oR(a))return a;let c=a.length;if(!vee(c))return null;const h=new Array(c);for(;c-- >0;)h[c]=a[c];return h},$le=(a=>c=>a&&c instanceof a)(typeof Uint8Array<"u"&&aY(Uint8Array)),Fle=(a,c)=>{const E=(a&&a[Symbol.iterator]).call(a);let x;for(;(x=E.next())&&!x.done;){const k=x.value;c.call(a,k[0],k[1])}},Hle=(a,c)=>{let h;const E=[];for(;(h=a.exec(c))!==null;)E.push(h);return E},Vle=eE("HTMLFormElement"),Ule=a=>a.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(h,E,x){return E.toUpperCase()+x}),yQ=(({hasOwnProperty:a})=>(c,h)=>a.call(c,h))(Object.prototype),zle=eE("RegExp"),_ee=(a,c)=>{const h=Object.getOwnPropertyDescriptors(a),E={};rN(h,(x,k)=>{c(x,k,a)!==!1&&(E[k]=x)}),Object.defineProperties(a,E)},Wle=a=>{_ee(a,(c,h)=>{if(Rw(a)&&["arguments","caller","callee"].indexOf(h)!==-1)return!1;const E=a[h];if(Rw(E)){if(c.enumerable=!1,"writable"in c){c.writable=!1;return}c.set||(c.set=()=>{throw Error("Can not rewrite read-only method '"+h+"'")})}})},Gle=(a,c)=>{const h={},E=x=>{x.forEach(k=>{h[k]=!0})};return oR(a)?E(a):E(String(a).split(c)),h},Zle=()=>{},qle=(a,c)=>(a=+a,Number.isFinite(a)?a:c),Jq="abcdefghijklmnopqrstuvwxyz",EQ="0123456789",wee={DIGIT:EQ,ALPHA:Jq,ALPHA_DIGIT:Jq+Jq.toUpperCase()+EQ},jle=(a=16,c=wee.ALPHA_DIGIT)=>{let h="";const{length:E}=c;for(;a--;)h+=c[Math.random()*E|0];return h};function Yle(a){return!!(a&&Rw(a.append)&&a[Symbol.toStringTag]==="FormData"&&a[Symbol.iterator])}const Kle=a=>{const c=new Array(10),h=(E,x)=>{if(lY(E)){if(c.indexOf(E)>=0)return;if(!("toJSON"in E)){c[x]=E;const k=oR(E)?[]:{};return rN(E,(D,V)=>{const G=h(D,x+1);!nN(G)&&(k[V]=G)}),c[x]=void 0,k}}return E};return h(a,0)},Kt={isArray:oR,isArrayBuffer:pee,isBuffer:Ele,isFormData:Rle,isArrayBufferView:_le,isString:wle,isNumber:vee,isBoolean:Cle,isObject:lY,isPlainObject:uH,isUndefined:nN,isDate:Tle,isFile:Sle,isBlob:xle,isRegExp:zle,isFunction:Rw,isStream:Ole,isURLSearchParams:Ile,isTypedArray:$le,isFileList:Ale,forEach:rN,merge:Lj,extend:Mle,trim:Dle,stripBOM:kle,inherits:Nle,toFlatObject:Ple,kindOf:cY,kindOfTest:eE,endsWith:Lle,toArray:Ble,forEachEntry:Fle,matchAll:Hle,isHTMLForm:Vle,hasOwnProperty:yQ,hasOwnProp:yQ,reduceDescriptors:_ee,freezeMethods:Wle,toObjectSet:Gle,toCamelCase:Ule,noop:Zle,toFiniteNumber:qle,findKey:bee,global:yee,isContextDefined:Eee,ALPHABET:wee,generateString:jle,isSpecCompliantForm:Yle,toJSONObject:Kle};function kr(a,c,h,E,x){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=a,this.name="AxiosError",c&&(this.code=c),h&&(this.config=h),E&&(this.request=E),x&&(this.response=x)}Kt.inherits(kr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Kt.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Cee=kr.prototype,Tee={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(a=>{Tee[a]={value:a}});Object.defineProperties(kr,Tee);Object.defineProperty(Cee,"isAxiosError",{value:!0});kr.from=(a,c,h,E,x,k)=>{const D=Object.create(Cee);return Kt.toFlatObject(a,D,function(G){return G!==Error.prototype},V=>V!=="isAxiosError"),kr.call(D,a.message,c,h,E,x),D.cause=a,D.name=a.name,k&&Object.assign(D,k),D};const Xle=null;function Bj(a){return Kt.isPlainObject(a)||Kt.isArray(a)}function See(a){return Kt.endsWith(a,"[]")?a.slice(0,-2):a}function _Q(a,c,h){return a?a.concat(c).map(function(x,k){return x=See(x),!h&&k?"["+x+"]":x}).join(h?".":""):c}function Qle(a){return Kt.isArray(a)&&!a.some(Bj)}const Jle=Kt.toFlatObject(Kt,{},null,function(c){return/^is[A-Z]/.test(c)});function FH(a,c,h){if(!Kt.isObject(a))throw new TypeError("target must be an object");c=c||new FormData,h=Kt.toFlatObject(h,{metaTokens:!0,dots:!1,indexes:!1},!1,function(de,Ee){return!Kt.isUndefined(Ee[de])});const E=h.metaTokens,x=h.visitor||K,k=h.dots,D=h.indexes,G=(h.Blob||typeof Blob<"u"&&Blob)&&Kt.isSpecCompliantForm(c);if(!Kt.isFunction(x))throw new TypeError("visitor must be a function");function Y(le){if(le===null)return"";if(Kt.isDate(le))return le.toISOString();if(!G&&Kt.isBlob(le))throw new kr("Blob is not supported. Use a Buffer instead.");return Kt.isArrayBuffer(le)||Kt.isTypedArray(le)?G&&typeof Blob=="function"?new Blob([le]):Buffer.from(le):le}function K(le,de,Ee){let De=le;if(le&&!Ee&&typeof le=="object"){if(Kt.endsWith(de,"{}"))de=E?de:de.slice(0,-2),le=JSON.stringify(le);else if(Kt.isArray(le)&&Qle(le)||(Kt.isFileList(le)||Kt.endsWith(de,"[]"))&&(De=Kt.toArray(le)))return de=See(de),De.forEach(function(ne,Le){!(Kt.isUndefined(ne)||ne===null)&&c.append(D===!0?_Q([de],Le,k):D===null?de:de+"[]",Y(ne))}),!1}return Bj(le)?!0:(c.append(_Q(Ee,de,k),Y(le)),!1)}const re=[],be=Object.assign(Jle,{defaultVisitor:K,convertValue:Y,isVisitable:Bj});function ge(le,de){if(!Kt.isUndefined(le)){if(re.indexOf(le)!==-1)throw Error("Circular reference detected in "+de.join("."));re.push(le),Kt.forEach(le,function(De,ke){(!(Kt.isUndefined(De)||De===null)&&x.call(c,De,Kt.isString(ke)?ke.trim():ke,de,be))===!0&&ge(De,de?de.concat(ke):[ke])}),re.pop()}}if(!Kt.isObject(a))throw new TypeError("data must be an object");return ge(a),c}function wQ(a){const c={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(a).replace(/[!'()~]|%20|%00/g,function(E){return c[E]})}function uY(a,c){this._pairs=[],a&&FH(a,this,c)}const xee=uY.prototype;xee.append=function(c,h){this._pairs.push([c,h])};xee.toString=function(c){const h=c?function(E){return c.call(this,E,wQ)}:wQ;return this._pairs.map(function(x){return h(x[0])+"="+h(x[1])},"").join("&")};function eue(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Aee(a,c,h){if(!c)return a;const E=h&&h.encode||eue,x=h&&h.serialize;let k;if(x?k=x(c,h):k=Kt.isURLSearchParams(c)?c.toString():new uY(c,h).toString(E),k){const D=a.indexOf("#");D!==-1&&(a=a.slice(0,D)),a+=(a.indexOf("?")===-1?"?":"&")+k}return a}class tue{constructor(){this.handlers=[]}use(c,h,E){return this.handlers.push({fulfilled:c,rejected:h,synchronous:E?E.synchronous:!1,runWhen:E?E.runWhen:null}),this.handlers.length-1}eject(c){this.handlers[c]&&(this.handlers[c]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(c){Kt.forEach(this.handlers,function(E){E!==null&&c(E)})}}const CQ=tue,Oee={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},nue=typeof URLSearchParams<"u"?URLSearchParams:uY,oue=typeof FormData<"u"?FormData:null,sue=typeof Blob<"u"?Blob:null,rue=(()=>{let a;return typeof navigator<"u"&&((a=navigator.product)==="ReactNative"||a==="NativeScript"||a==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),iue=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Mb={isBrowser:!0,classes:{URLSearchParams:nue,FormData:oue,Blob:sue},isStandardBrowserEnv:rue,isStandardBrowserWebWorkerEnv:iue,protocols:["http","https","file","blob","url","data"]};function aue(a,c){return FH(a,new Mb.classes.URLSearchParams,Object.assign({visitor:function(h,E,x,k){return Mb.isNode&&Kt.isBuffer(h)?(this.append(E,h.toString("base64")),!1):k.defaultVisitor.apply(this,arguments)}},c))}function cue(a){return Kt.matchAll(/\w+|\[(\w*)]/g,a).map(c=>c[0]==="[]"?"":c[1]||c[0])}function lue(a){const c={},h=Object.keys(a);let E;const x=h.length;let k;for(E=0;E<x;E++)k=h[E],c[k]=a[k];return c}function Ree(a){function c(h,E,x,k){let D=h[k++];const V=Number.isFinite(+D),G=k>=h.length;return D=!D&&Kt.isArray(x)?x.length:D,G?(Kt.hasOwnProp(x,D)?x[D]=[x[D],E]:x[D]=E,!V):((!x[D]||!Kt.isObject(x[D]))&&(x[D]=[]),c(h,E,x[D],k)&&Kt.isArray(x[D])&&(x[D]=lue(x[D])),!V)}if(Kt.isFormData(a)&&Kt.isFunction(a.entries)){const h={};return Kt.forEachEntry(a,(E,x)=>{c(cue(E),x,h,0)}),h}return null}const uue={"Content-Type":void 0};function due(a,c,h){if(Kt.isString(a))try{return(c||JSON.parse)(a),Kt.trim(a)}catch(E){if(E.name!=="SyntaxError")throw E}return(h||JSON.stringify)(a)}const HH={transitional:Oee,adapter:["xhr","http"],transformRequest:[function(c,h){const E=h.getContentType()||"",x=E.indexOf("application/json")>-1,k=Kt.isObject(c);if(k&&Kt.isHTMLForm(c)&&(c=new FormData(c)),Kt.isFormData(c))return x&&x?JSON.stringify(Ree(c)):c;if(Kt.isArrayBuffer(c)||Kt.isBuffer(c)||Kt.isStream(c)||Kt.isFile(c)||Kt.isBlob(c))return c;if(Kt.isArrayBufferView(c))return c.buffer;if(Kt.isURLSearchParams(c))return h.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),c.toString();let V;if(k){if(E.indexOf("application/x-www-form-urlencoded")>-1)return aue(c,this.formSerializer).toString();if((V=Kt.isFileList(c))||E.indexOf("multipart/form-data")>-1){const G=this.env&&this.env.FormData;return FH(V?{"files[]":c}:c,G&&new G,this.formSerializer)}}return k||x?(h.setContentType("application/json",!1),due(c)):c}],transformResponse:[function(c){const h=this.transitional||HH.transitional,E=h&&h.forcedJSONParsing,x=this.responseType==="json";if(c&&Kt.isString(c)&&(E&&!this.responseType||x)){const D=!(h&&h.silentJSONParsing)&&x;try{return JSON.parse(c)}catch(V){if(D)throw V.name==="SyntaxError"?kr.from(V,kr.ERR_BAD_RESPONSE,this,null,this.response):V}}return c}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Mb.classes.FormData,Blob:Mb.classes.Blob},validateStatus:function(c){return c>=200&&c<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Kt.forEach(["delete","get","head"],function(c){HH.headers[c]={}});Kt.forEach(["post","put","patch"],function(c){HH.headers[c]=Kt.merge(uue)});const dY=HH,fue=Kt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),hue=a=>{const c={};let h,E,x;return a&&a.split(`
`).forEach(function(D){x=D.indexOf(":"),h=D.substring(0,x).trim().toLowerCase(),E=D.substring(x+1).trim(),!(!h||c[h]&&fue[h])&&(h==="set-cookie"?c[h]?c[h].push(E):c[h]=[E]:c[h]=c[h]?c[h]+", "+E:E)}),c},TQ=Symbol("internals");function Zk(a){return a&&String(a).trim().toLowerCase()}function dH(a){return a===!1||a==null?a:Kt.isArray(a)?a.map(dH):String(a)}function mue(a){const c=Object.create(null),h=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let E;for(;E=h.exec(a);)c[E[1]]=E[2];return c}const gue=a=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(a.trim());function ej(a,c,h,E,x){if(Kt.isFunction(E))return E.call(this,c,h);if(x&&(c=h),!!Kt.isString(c)){if(Kt.isString(E))return c.indexOf(E)!==-1;if(Kt.isRegExp(E))return E.test(c)}}function pue(a){return a.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(c,h,E)=>h.toUpperCase()+E)}function vue(a,c){const h=Kt.toCamelCase(" "+c);["get","set","has"].forEach(E=>{Object.defineProperty(a,E+h,{value:function(x,k,D){return this[E].call(this,c,x,k,D)},configurable:!0})})}class VH{constructor(c){c&&this.set(c)}set(c,h,E){const x=this;function k(V,G,Y){const K=Zk(G);if(!K)throw new Error("header name must be a non-empty string");const re=Kt.findKey(x,K);(!re||x[re]===void 0||Y===!0||Y===void 0&&x[re]!==!1)&&(x[re||G]=dH(V))}const D=(V,G)=>Kt.forEach(V,(Y,K)=>k(Y,K,G));return Kt.isPlainObject(c)||c instanceof this.constructor?D(c,h):Kt.isString(c)&&(c=c.trim())&&!gue(c)?D(hue(c),h):c!=null&&k(h,c,E),this}get(c,h){if(c=Zk(c),c){const E=Kt.findKey(this,c);if(E){const x=this[E];if(!h)return x;if(h===!0)return mue(x);if(Kt.isFunction(h))return h.call(this,x,E);if(Kt.isRegExp(h))return h.exec(x);throw new TypeError("parser must be boolean|regexp|function")}}}has(c,h){if(c=Zk(c),c){const E=Kt.findKey(this,c);return!!(E&&this[E]!==void 0&&(!h||ej(this,this[E],E,h)))}return!1}delete(c,h){const E=this;let x=!1;function k(D){if(D=Zk(D),D){const V=Kt.findKey(E,D);V&&(!h||ej(E,E[V],V,h))&&(delete E[V],x=!0)}}return Kt.isArray(c)?c.forEach(k):k(c),x}clear(c){const h=Object.keys(this);let E=h.length,x=!1;for(;E--;){const k=h[E];(!c||ej(this,this[k],k,c,!0))&&(delete this[k],x=!0)}return x}normalize(c){const h=this,E={};return Kt.forEach(this,(x,k)=>{const D=Kt.findKey(E,k);if(D){h[D]=dH(x),delete h[k];return}const V=c?pue(k):String(k).trim();V!==k&&delete h[k],h[V]=dH(x),E[V]=!0}),this}concat(...c){return this.constructor.concat(this,...c)}toJSON(c){const h=Object.create(null);return Kt.forEach(this,(E,x)=>{E!=null&&E!==!1&&(h[x]=c&&Kt.isArray(E)?E.join(", "):E)}),h}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([c,h])=>c+": "+h).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(c){return c instanceof this?c:new this(c)}static concat(c,...h){const E=new this(c);return h.forEach(x=>E.set(x)),E}static accessor(c){const E=(this[TQ]=this[TQ]={accessors:{}}).accessors,x=this.prototype;function k(D){const V=Zk(D);E[V]||(vue(x,D),E[V]=!0)}return Kt.isArray(c)?c.forEach(k):k(c),this}}VH.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Kt.freezeMethods(VH.prototype);Kt.freezeMethods(VH);const jy=VH;function tj(a,c){const h=this||dY,E=c||h,x=jy.from(E.headers);let k=E.data;return Kt.forEach(a,function(V){k=V.call(h,k,x.normalize(),c?c.status:void 0)}),x.normalize(),k}function Iee(a){return!!(a&&a.__CANCEL__)}function iN(a,c,h){kr.call(this,a??"canceled",kr.ERR_CANCELED,c,h),this.name="CanceledError"}Kt.inherits(iN,kr,{__CANCEL__:!0});function bue(a,c,h){const E=h.config.validateStatus;!h.status||!E||E(h.status)?a(h):c(new kr("Request failed with status code "+h.status,[kr.ERR_BAD_REQUEST,kr.ERR_BAD_RESPONSE][Math.floor(h.status/100)-4],h.config,h.request,h))}const yue=Mb.isStandardBrowserEnv?function(){return{write:function(h,E,x,k,D,V){const G=[];G.push(h+"="+encodeURIComponent(E)),Kt.isNumber(x)&&G.push("expires="+new Date(x).toGMTString()),Kt.isString(k)&&G.push("path="+k),Kt.isString(D)&&G.push("domain="+D),V===!0&&G.push("secure"),document.cookie=G.join("; ")},read:function(h){const E=document.cookie.match(new RegExp("(^|;\\s*)("+h+")=([^;]*)"));return E?decodeURIComponent(E[3]):null},remove:function(h){this.write(h,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Eue(a){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a)}function _ue(a,c){return c?a.replace(/\/+$/,"")+"/"+c.replace(/^\/+/,""):a}function Dee(a,c){return a&&!Eue(c)?_ue(a,c):c}const wue=Mb.isStandardBrowserEnv?function(){const c=/(msie|trident)/i.test(navigator.userAgent),h=document.createElement("a");let E;function x(k){let D=k;return c&&(h.setAttribute("href",D),D=h.href),h.setAttribute("href",D),{href:h.href,protocol:h.protocol?h.protocol.replace(/:$/,""):"",host:h.host,search:h.search?h.search.replace(/^\?/,""):"",hash:h.hash?h.hash.replace(/^#/,""):"",hostname:h.hostname,port:h.port,pathname:h.pathname.charAt(0)==="/"?h.pathname:"/"+h.pathname}}return E=x(window.location.href),function(D){const V=Kt.isString(D)?x(D):D;return V.protocol===E.protocol&&V.host===E.host}}():function(){return function(){return!0}}();function Cue(a){const c=/^([-+\w]{1,25})(:?\/\/|:)/.exec(a);return c&&c[1]||""}function Tue(a,c){a=a||10;const h=new Array(a),E=new Array(a);let x=0,k=0,D;return c=c!==void 0?c:1e3,function(G){const Y=Date.now(),K=E[k];D||(D=Y),h[x]=G,E[x]=Y;let re=k,be=0;for(;re!==x;)be+=h[re++],re=re%a;if(x=(x+1)%a,x===k&&(k=(k+1)%a),Y-D<c)return;const ge=K&&Y-K;return ge?Math.round(be*1e3/ge):void 0}}function SQ(a,c){let h=0;const E=Tue(50,250);return x=>{const k=x.loaded,D=x.lengthComputable?x.total:void 0,V=k-h,G=E(V),Y=k<=D;h=k;const K={loaded:k,total:D,progress:D?k/D:void 0,bytes:V,rate:G||void 0,estimated:G&&D&&Y?(D-k)/G:void 0,event:x};K[c?"download":"upload"]=!0,a(K)}}const Sue=typeof XMLHttpRequest<"u",xue=Sue&&function(a){return new Promise(function(h,E){let x=a.data;const k=jy.from(a.headers).normalize(),D=a.responseType;let V;function G(){a.cancelToken&&a.cancelToken.unsubscribe(V),a.signal&&a.signal.removeEventListener("abort",V)}Kt.isFormData(x)&&(Mb.isStandardBrowserEnv||Mb.isStandardBrowserWebWorkerEnv)&&k.setContentType(!1);let Y=new XMLHttpRequest;if(a.auth){const ge=a.auth.username||"",le=a.auth.password?unescape(encodeURIComponent(a.auth.password)):"";k.set("Authorization","Basic "+btoa(ge+":"+le))}const K=Dee(a.baseURL,a.url);Y.open(a.method.toUpperCase(),Aee(K,a.params,a.paramsSerializer),!0),Y.timeout=a.timeout;function re(){if(!Y)return;const ge=jy.from("getAllResponseHeaders"in Y&&Y.getAllResponseHeaders()),de={data:!D||D==="text"||D==="json"?Y.responseText:Y.response,status:Y.status,statusText:Y.statusText,headers:ge,config:a,request:Y};bue(function(De){h(De),G()},function(De){E(De),G()},de),Y=null}if("onloadend"in Y?Y.onloadend=re:Y.onreadystatechange=function(){!Y||Y.readyState!==4||Y.status===0&&!(Y.responseURL&&Y.responseURL.indexOf("file:")===0)||setTimeout(re)},Y.onabort=function(){Y&&(E(new kr("Request aborted",kr.ECONNABORTED,a,Y)),Y=null)},Y.onerror=function(){E(new kr("Network Error",kr.ERR_NETWORK,a,Y)),Y=null},Y.ontimeout=function(){let le=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const de=a.transitional||Oee;a.timeoutErrorMessage&&(le=a.timeoutErrorMessage),E(new kr(le,de.clarifyTimeoutError?kr.ETIMEDOUT:kr.ECONNABORTED,a,Y)),Y=null},Mb.isStandardBrowserEnv){const ge=(a.withCredentials||wue(K))&&a.xsrfCookieName&&yue.read(a.xsrfCookieName);ge&&k.set(a.xsrfHeaderName,ge)}x===void 0&&k.setContentType(null),"setRequestHeader"in Y&&Kt.forEach(k.toJSON(),function(le,de){Y.setRequestHeader(de,le)}),Kt.isUndefined(a.withCredentials)||(Y.withCredentials=!!a.withCredentials),D&&D!=="json"&&(Y.responseType=a.responseType),typeof a.onDownloadProgress=="function"&&Y.addEventListener("progress",SQ(a.onDownloadProgress,!0)),typeof a.onUploadProgress=="function"&&Y.upload&&Y.upload.addEventListener("progress",SQ(a.onUploadProgress)),(a.cancelToken||a.signal)&&(V=ge=>{Y&&(E(!ge||ge.type?new iN(null,a,Y):ge),Y.abort(),Y=null)},a.cancelToken&&a.cancelToken.subscribe(V),a.signal&&(a.signal.aborted?V():a.signal.addEventListener("abort",V)));const be=Cue(K);if(be&&Mb.protocols.indexOf(be)===-1){E(new kr("Unsupported protocol "+be+":",kr.ERR_BAD_REQUEST,a));return}Y.send(x||null)})},fH={http:Xle,xhr:xue};Kt.forEach(fH,(a,c)=>{if(a){try{Object.defineProperty(a,"name",{value:c})}catch{}Object.defineProperty(a,"adapterName",{value:c})}});const Aue={getAdapter:a=>{a=Kt.isArray(a)?a:[a];const{length:c}=a;let h,E;for(let x=0;x<c&&(h=a[x],!(E=Kt.isString(h)?fH[h.toLowerCase()]:h));x++);if(!E)throw E===!1?new kr(`Adapter ${h} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(Kt.hasOwnProp(fH,h)?`Adapter '${h}' is not available in the build`:`Unknown adapter '${h}'`);if(!Kt.isFunction(E))throw new TypeError("adapter is not a function");return E},adapters:fH};function nj(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new iN(null,a)}function xQ(a){return nj(a),a.headers=jy.from(a.headers),a.data=tj.call(a,a.transformRequest),["post","put","patch"].indexOf(a.method)!==-1&&a.headers.setContentType("application/x-www-form-urlencoded",!1),Aue.getAdapter(a.adapter||dY.adapter)(a).then(function(E){return nj(a),E.data=tj.call(a,a.transformResponse,E),E.headers=jy.from(E.headers),E},function(E){return Iee(E)||(nj(a),E&&E.response&&(E.response.data=tj.call(a,a.transformResponse,E.response),E.response.headers=jy.from(E.response.headers))),Promise.reject(E)})}const AQ=a=>a instanceof jy?a.toJSON():a;function GO(a,c){c=c||{};const h={};function E(Y,K,re){return Kt.isPlainObject(Y)&&Kt.isPlainObject(K)?Kt.merge.call({caseless:re},Y,K):Kt.isPlainObject(K)?Kt.merge({},K):Kt.isArray(K)?K.slice():K}function x(Y,K,re){if(Kt.isUndefined(K)){if(!Kt.isUndefined(Y))return E(void 0,Y,re)}else return E(Y,K,re)}function k(Y,K){if(!Kt.isUndefined(K))return E(void 0,K)}function D(Y,K){if(Kt.isUndefined(K)){if(!Kt.isUndefined(Y))return E(void 0,Y)}else return E(void 0,K)}function V(Y,K,re){if(re in c)return E(Y,K);if(re in a)return E(void 0,Y)}const G={url:k,method:k,data:k,baseURL:D,transformRequest:D,transformResponse:D,paramsSerializer:D,timeout:D,timeoutMessage:D,withCredentials:D,adapter:D,responseType:D,xsrfCookieName:D,xsrfHeaderName:D,onUploadProgress:D,onDownloadProgress:D,decompress:D,maxContentLength:D,maxBodyLength:D,beforeRedirect:D,transport:D,httpAgent:D,httpsAgent:D,cancelToken:D,socketPath:D,responseEncoding:D,validateStatus:V,headers:(Y,K)=>x(AQ(Y),AQ(K),!0)};return Kt.forEach(Object.keys(a).concat(Object.keys(c)),function(K){const re=G[K]||x,be=re(a[K],c[K],K);Kt.isUndefined(be)&&re!==V||(h[K]=be)}),h}const Mee="1.3.5",fY={};["object","boolean","number","function","string","symbol"].forEach((a,c)=>{fY[a]=function(E){return typeof E===a||"a"+(c<1?"n ":" ")+a}});const OQ={};fY.transitional=function(c,h,E){function x(k,D){return"[Axios v"+Mee+"] Transitional option '"+k+"'"+D+(E?". "+E:"")}return(k,D,V)=>{if(c===!1)throw new kr(x(D," has been removed"+(h?" in "+h:"")),kr.ERR_DEPRECATED);return h&&!OQ[D]&&(OQ[D]=!0,console.warn(x(D," has been deprecated since v"+h+" and will be removed in the near future"))),c?c(k,D,V):!0}};function Oue(a,c,h){if(typeof a!="object")throw new kr("options must be an object",kr.ERR_BAD_OPTION_VALUE);const E=Object.keys(a);let x=E.length;for(;x-- >0;){const k=E[x],D=c[k];if(D){const V=a[k],G=V===void 0||D(V,k,a);if(G!==!0)throw new kr("option "+k+" must be "+G,kr.ERR_BAD_OPTION_VALUE);continue}if(h!==!0)throw new kr("Unknown option "+k,kr.ERR_BAD_OPTION)}}const $j={assertOptions:Oue,validators:fY},Sw=$j.validators;class SH{constructor(c){this.defaults=c,this.interceptors={request:new CQ,response:new CQ}}request(c,h){typeof c=="string"?(h=h||{},h.url=c):h=c||{},h=GO(this.defaults,h);const{transitional:E,paramsSerializer:x,headers:k}=h;E!==void 0&&$j.assertOptions(E,{silentJSONParsing:Sw.transitional(Sw.boolean),forcedJSONParsing:Sw.transitional(Sw.boolean),clarifyTimeoutError:Sw.transitional(Sw.boolean)},!1),x!=null&&(Kt.isFunction(x)?h.paramsSerializer={serialize:x}:$j.assertOptions(x,{encode:Sw.function,serialize:Sw.function},!0)),h.method=(h.method||this.defaults.method||"get").toLowerCase();let D;D=k&&Kt.merge(k.common,k[h.method]),D&&Kt.forEach(["delete","get","head","post","put","patch","common"],le=>{delete k[le]}),h.headers=jy.concat(D,k);const V=[];let G=!0;this.interceptors.request.forEach(function(de){typeof de.runWhen=="function"&&de.runWhen(h)===!1||(G=G&&de.synchronous,V.unshift(de.fulfilled,de.rejected))});const Y=[];this.interceptors.response.forEach(function(de){Y.push(de.fulfilled,de.rejected)});let K,re=0,be;if(!G){const le=[xQ.bind(this),void 0];for(le.unshift.apply(le,V),le.push.apply(le,Y),be=le.length,K=Promise.resolve(h);re<be;)K=K.then(le[re++],le[re++]);return K}be=V.length;let ge=h;for(re=0;re<be;){const le=V[re++],de=V[re++];try{ge=le(ge)}catch(Ee){de.call(this,Ee);break}}try{K=xQ.call(this,ge)}catch(le){return Promise.reject(le)}for(re=0,be=Y.length;re<be;)K=K.then(Y[re++],Y[re++]);return K}getUri(c){c=GO(this.defaults,c);const h=Dee(c.baseURL,c.url);return Aee(h,c.params,c.paramsSerializer)}}Kt.forEach(["delete","get","head","options"],function(c){SH.prototype[c]=function(h,E){return this.request(GO(E||{},{method:c,url:h,data:(E||{}).data}))}});Kt.forEach(["post","put","patch"],function(c){function h(E){return function(k,D,V){return this.request(GO(V||{},{method:c,headers:E?{"Content-Type":"multipart/form-data"}:{},url:k,data:D}))}}SH.prototype[c]=h(),SH.prototype[c+"Form"]=h(!0)});const hH=SH;class hY{constructor(c){if(typeof c!="function")throw new TypeError("executor must be a function.");let h;this.promise=new Promise(function(k){h=k});const E=this;this.promise.then(x=>{if(!E._listeners)return;let k=E._listeners.length;for(;k-- >0;)E._listeners[k](x);E._listeners=null}),this.promise.then=x=>{let k;const D=new Promise(V=>{E.subscribe(V),k=V}).then(x);return D.cancel=function(){E.unsubscribe(k)},D},c(function(k,D,V){E.reason||(E.reason=new iN(k,D,V),h(E.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(c){if(this.reason){c(this.reason);return}this._listeners?this._listeners.push(c):this._listeners=[c]}unsubscribe(c){if(!this._listeners)return;const h=this._listeners.indexOf(c);h!==-1&&this._listeners.splice(h,1)}static source(){let c;return{token:new hY(function(x){c=x}),cancel:c}}}const Rue=hY;function Iue(a){return function(h){return a.apply(null,h)}}function Due(a){return Kt.isObject(a)&&a.isAxiosError===!0}const Fj={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Fj).forEach(([a,c])=>{Fj[c]=a});const Mue=Fj;function kee(a){const c=new hH(a),h=mee(hH.prototype.request,c);return Kt.extend(h,hH.prototype,c,{allOwnKeys:!0}),Kt.extend(h,c,null,{allOwnKeys:!0}),h.create=function(x){return kee(GO(a,x))},h}const Ql=kee(dY);Ql.Axios=hH;Ql.CanceledError=iN;Ql.CancelToken=Rue;Ql.isCancel=Iee;Ql.VERSION=Mee;Ql.toFormData=FH;Ql.AxiosError=kr;Ql.Cancel=Ql.CanceledError;Ql.all=function(c){return Promise.all(c)};Ql.spread=Iue;Ql.isAxiosError=Due;Ql.mergeConfig=GO;Ql.AxiosHeaders=jy;Ql.formToJSON=a=>Ree(Kt.isHTMLForm(a)?new FormData(a):a);Ql.HttpStatusCode=Mue;Ql.default=Ql;const kue=Ql;window._=Mne;window.axios=kue;window.$=window.jQuery=Nne;window.tinymce=Lne;window.FilePond=Uie;wH(fee,iee,ree,hee,oee);window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var Lf="top",Jm="bottom",eg="right",Bf="left",UH="auto",sR=[Lf,Jm,eg,Bf],c2="start",ZO="end",Nee="clippingParents",mY="viewport",DO="popper",Pee="reference",Hj=sR.reduce(function(a,c){return a.concat([c+"-"+c2,c+"-"+ZO])},[]),gY=[].concat(sR,[UH]).reduce(function(a,c){return a.concat([c,c+"-"+c2,c+"-"+ZO])},[]),Lee="beforeRead",Bee="read",$ee="afterRead",Fee="beforeMain",Hee="main",Vee="afterMain",Uee="beforeWrite",zee="write",Wee="afterWrite",Gee=[Lee,Bee,$ee,Fee,Hee,Vee,Uee,zee,Wee];function Pb(a){return a?(a.nodeName||"").toLowerCase():null}function tg(a){if(a==null)return window;if(a.toString()!=="[object Window]"){var c=a.ownerDocument;return c&&c.defaultView||window}return a}function l2(a){var c=tg(a).Element;return a instanceof c||a instanceof Element}function _p(a){var c=tg(a).HTMLElement;return a instanceof c||a instanceof HTMLElement}function pY(a){if(typeof ShadowRoot>"u")return!1;var c=tg(a).ShadowRoot;return a instanceof c||a instanceof ShadowRoot}function Nue(a){var c=a.state;Object.keys(c.elements).forEach(function(h){var E=c.styles[h]||{},x=c.attributes[h]||{},k=c.elements[h];!_p(k)||!Pb(k)||(Object.assign(k.style,E),Object.keys(x).forEach(function(D){var V=x[D];V===!1?k.removeAttribute(D):k.setAttribute(D,V===!0?"":V)}))})}function Pue(a){var c=a.state,h={popper:{position:c.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(c.elements.popper.style,h.popper),c.styles=h,c.elements.arrow&&Object.assign(c.elements.arrow.style,h.arrow),function(){Object.keys(c.elements).forEach(function(E){var x=c.elements[E],k=c.attributes[E]||{},D=Object.keys(c.styles.hasOwnProperty(E)?c.styles[E]:h[E]),V=D.reduce(function(G,Y){return G[Y]="",G},{});!_p(x)||!Pb(x)||(Object.assign(x.style,V),Object.keys(k).forEach(function(G){x.removeAttribute(G)}))})}}const vY={name:"applyStyles",enabled:!0,phase:"write",fn:Nue,effect:Pue,requires:["computeStyles"]};function kb(a){return a.split("-")[0]}var a2=Math.max,xH=Math.min,qO=Math.round;function Vj(){var a=navigator.userAgentData;return a!=null&&a.brands&&Array.isArray(a.brands)?a.brands.map(function(c){return c.brand+"/"+c.version}).join(" "):navigator.userAgent}function Zee(){return!/^((?!chrome|android).)*safari/i.test(Vj())}function jO(a,c,h){c===void 0&&(c=!1),h===void 0&&(h=!1);var E=a.getBoundingClientRect(),x=1,k=1;c&&_p(a)&&(x=a.offsetWidth>0&&qO(E.width)/a.offsetWidth||1,k=a.offsetHeight>0&&qO(E.height)/a.offsetHeight||1);var D=l2(a)?tg(a):window,V=D.visualViewport,G=!Zee()&&h,Y=(E.left+(G&&V?V.offsetLeft:0))/x,K=(E.top+(G&&V?V.offsetTop:0))/k,re=E.width/x,be=E.height/k;return{width:re,height:be,top:K,right:Y+re,bottom:K+be,left:Y,x:Y,y:K}}function bY(a){var c=jO(a),h=a.offsetWidth,E=a.offsetHeight;return Math.abs(c.width-h)<=1&&(h=c.width),Math.abs(c.height-E)<=1&&(E=c.height),{x:a.offsetLeft,y:a.offsetTop,width:h,height:E}}function qee(a,c){var h=c.getRootNode&&c.getRootNode();if(a.contains(c))return!0;if(h&&pY(h)){var E=c;do{if(E&&a.isSameNode(E))return!0;E=E.parentNode||E.host}while(E)}return!1}function Jy(a){return tg(a).getComputedStyle(a)}function Lue(a){return["table","td","th"].indexOf(Pb(a))>=0}function kw(a){return((l2(a)?a.ownerDocument:a.document)||window.document).documentElement}function zH(a){return Pb(a)==="html"?a:a.assignedSlot||a.parentNode||(pY(a)?a.host:null)||kw(a)}function RQ(a){return!_p(a)||Jy(a).position==="fixed"?null:a.offsetParent}function Bue(a){var c=/firefox/i.test(Vj()),h=/Trident/i.test(Vj());if(h&&_p(a)){var E=Jy(a);if(E.position==="fixed")return null}var x=zH(a);for(pY(x)&&(x=x.host);_p(x)&&["html","body"].indexOf(Pb(x))<0;){var k=Jy(x);if(k.transform!=="none"||k.perspective!=="none"||k.contain==="paint"||["transform","perspective"].indexOf(k.willChange)!==-1||c&&k.willChange==="filter"||c&&k.filter&&k.filter!=="none")return x;x=x.parentNode}return null}function aN(a){for(var c=tg(a),h=RQ(a);h&&Lue(h)&&Jy(h).position==="static";)h=RQ(h);return h&&(Pb(h)==="html"||Pb(h)==="body"&&Jy(h).position==="static")?c:h||Bue(a)||c}function yY(a){return["top","bottom"].indexOf(a)>=0?"x":"y"}function Qk(a,c,h){return a2(a,xH(c,h))}function $ue(a,c,h){var E=Qk(a,c,h);return E>h?h:E}function jee(){return{top:0,right:0,bottom:0,left:0}}function Yee(a){return Object.assign({},jee(),a)}function Kee(a,c){return c.reduce(function(h,E){return h[E]=a,h},{})}var Fue=function(c,h){return c=typeof c=="function"?c(Object.assign({},h.rects,{placement:h.placement})):c,Yee(typeof c!="number"?c:Kee(c,sR))};function Hue(a){var c,h=a.state,E=a.name,x=a.options,k=h.elements.arrow,D=h.modifiersData.popperOffsets,V=kb(h.placement),G=yY(V),Y=[Bf,eg].indexOf(V)>=0,K=Y?"height":"width";if(!(!k||!D)){var re=Fue(x.padding,h),be=bY(k),ge=G==="y"?Lf:Bf,le=G==="y"?Jm:eg,de=h.rects.reference[K]+h.rects.reference[G]-D[G]-h.rects.popper[K],Ee=D[G]-h.rects.reference[G],De=aN(k),ke=De?G==="y"?De.clientHeight||0:De.clientWidth||0:0,ne=de/2-Ee/2,Le=re[ge],ct=ke-be[K]-re[le],$=ke/2-be[K]/2+ne,ye=Qk(Le,$,ct),Ge=G;h.modifiersData[E]=(c={},c[Ge]=ye,c.centerOffset=ye-$,c)}}function Vue(a){var c=a.state,h=a.options,E=h.element,x=E===void 0?"[data-popper-arrow]":E;x!=null&&(typeof x=="string"&&(x=c.elements.popper.querySelector(x),!x)||qee(c.elements.popper,x)&&(c.elements.arrow=x))}const Xee={name:"arrow",enabled:!0,phase:"main",fn:Hue,effect:Vue,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function YO(a){return a.split("-")[1]}var Uue={top:"auto",right:"auto",bottom:"auto",left:"auto"};function zue(a,c){var h=a.x,E=a.y,x=c.devicePixelRatio||1;return{x:qO(h*x)/x||0,y:qO(E*x)/x||0}}function IQ(a){var c,h=a.popper,E=a.popperRect,x=a.placement,k=a.variation,D=a.offsets,V=a.position,G=a.gpuAcceleration,Y=a.adaptive,K=a.roundOffsets,re=a.isFixed,be=D.x,ge=be===void 0?0:be,le=D.y,de=le===void 0?0:le,Ee=typeof K=="function"?K({x:ge,y:de}):{x:ge,y:de};ge=Ee.x,de=Ee.y;var De=D.hasOwnProperty("x"),ke=D.hasOwnProperty("y"),ne=Bf,Le=Lf,ct=window;if(Y){var $=aN(h),ye="clientHeight",Ge="clientWidth";if($===tg(h)&&($=kw(h),Jy($).position!=="static"&&V==="absolute"&&(ye="scrollHeight",Ge="scrollWidth")),$=$,x===Lf||(x===Bf||x===eg)&&k===ZO){Le=Jm;var mt=re&&$===ct&&ct.visualViewport?ct.visualViewport.height:$[ye];de-=mt-E.height,de*=G?1:-1}if(x===Bf||(x===Lf||x===Jm)&&k===ZO){ne=eg;var xt=re&&$===ct&&ct.visualViewport?ct.visualViewport.width:$[Ge];ge-=xt-E.width,ge*=G?1:-1}}var Pe=Object.assign({position:V},Y&&Uue),he=K===!0?zue({x:ge,y:de},tg(h)):{x:ge,y:de};if(ge=he.x,de=he.y,G){var dn;return Object.assign({},Pe,(dn={},dn[Le]=ke?"0":"",dn[ne]=De?"0":"",dn.transform=(ct.devicePixelRatio||1)<=1?"translate("+ge+"px, "+de+"px)":"translate3d("+ge+"px, "+de+"px, 0)",dn))}return Object.assign({},Pe,(c={},c[Le]=ke?de+"px":"",c[ne]=De?ge+"px":"",c.transform="",c))}function Wue(a){var c=a.state,h=a.options,E=h.gpuAcceleration,x=E===void 0?!0:E,k=h.adaptive,D=k===void 0?!0:k,V=h.roundOffsets,G=V===void 0?!0:V,Y={placement:kb(c.placement),variation:YO(c.placement),popper:c.elements.popper,popperRect:c.rects.popper,gpuAcceleration:x,isFixed:c.options.strategy==="fixed"};c.modifiersData.popperOffsets!=null&&(c.styles.popper=Object.assign({},c.styles.popper,IQ(Object.assign({},Y,{offsets:c.modifiersData.popperOffsets,position:c.options.strategy,adaptive:D,roundOffsets:G})))),c.modifiersData.arrow!=null&&(c.styles.arrow=Object.assign({},c.styles.arrow,IQ(Object.assign({},Y,{offsets:c.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:G})))),c.attributes.popper=Object.assign({},c.attributes.popper,{"data-popper-placement":c.placement})}const EY={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Wue,data:{}};var K5={passive:!0};function Gue(a){var c=a.state,h=a.instance,E=a.options,x=E.scroll,k=x===void 0?!0:x,D=E.resize,V=D===void 0?!0:D,G=tg(c.elements.popper),Y=[].concat(c.scrollParents.reference,c.scrollParents.popper);return k&&Y.forEach(function(K){K.addEventListener("scroll",h.update,K5)}),V&&G.addEventListener("resize",h.update,K5),function(){k&&Y.forEach(function(K){K.removeEventListener("scroll",h.update,K5)}),V&&G.removeEventListener("resize",h.update,K5)}}const _Y={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Gue,data:{}};var Zue={left:"right",right:"left",bottom:"top",top:"bottom"};function mH(a){return a.replace(/left|right|bottom|top/g,function(c){return Zue[c]})}var que={start:"end",end:"start"};function DQ(a){return a.replace(/start|end/g,function(c){return que[c]})}function wY(a){var c=tg(a),h=c.pageXOffset,E=c.pageYOffset;return{scrollLeft:h,scrollTop:E}}function CY(a){return jO(kw(a)).left+wY(a).scrollLeft}function jue(a,c){var h=tg(a),E=kw(a),x=h.visualViewport,k=E.clientWidth,D=E.clientHeight,V=0,G=0;if(x){k=x.width,D=x.height;var Y=Zee();(Y||!Y&&c==="fixed")&&(V=x.offsetLeft,G=x.offsetTop)}return{width:k,height:D,x:V+CY(a),y:G}}function Yue(a){var c,h=kw(a),E=wY(a),x=(c=a.ownerDocument)==null?void 0:c.body,k=a2(h.scrollWidth,h.clientWidth,x?x.scrollWidth:0,x?x.clientWidth:0),D=a2(h.scrollHeight,h.clientHeight,x?x.scrollHeight:0,x?x.clientHeight:0),V=-E.scrollLeft+CY(a),G=-E.scrollTop;return Jy(x||h).direction==="rtl"&&(V+=a2(h.clientWidth,x?x.clientWidth:0)-k),{width:k,height:D,x:V,y:G}}function TY(a){var c=Jy(a),h=c.overflow,E=c.overflowX,x=c.overflowY;return/auto|scroll|overlay|hidden/.test(h+x+E)}function Qee(a){return["html","body","#document"].indexOf(Pb(a))>=0?a.ownerDocument.body:_p(a)&&TY(a)?a:Qee(zH(a))}function Jk(a,c){var h;c===void 0&&(c=[]);var E=Qee(a),x=E===((h=a.ownerDocument)==null?void 0:h.body),k=tg(E),D=x?[k].concat(k.visualViewport||[],TY(E)?E:[]):E,V=c.concat(D);return x?V:V.concat(Jk(zH(D)))}function Uj(a){return Object.assign({},a,{left:a.x,top:a.y,right:a.x+a.width,bottom:a.y+a.height})}function Kue(a,c){var h=jO(a,!1,c==="fixed");return h.top=h.top+a.clientTop,h.left=h.left+a.clientLeft,h.bottom=h.top+a.clientHeight,h.right=h.left+a.clientWidth,h.width=a.clientWidth,h.height=a.clientHeight,h.x=h.left,h.y=h.top,h}function MQ(a,c,h){return c===mY?Uj(jue(a,h)):l2(c)?Kue(c,h):Uj(Yue(kw(a)))}function Xue(a){var c=Jk(zH(a)),h=["absolute","fixed"].indexOf(Jy(a).position)>=0,E=h&&_p(a)?aN(a):a;return l2(E)?c.filter(function(x){return l2(x)&&qee(x,E)&&Pb(x)!=="body"}):[]}function Que(a,c,h,E){var x=c==="clippingParents"?Xue(a):[].concat(c),k=[].concat(x,[h]),D=k[0],V=k.reduce(function(G,Y){var K=MQ(a,Y,E);return G.top=a2(K.top,G.top),G.right=xH(K.right,G.right),G.bottom=xH(K.bottom,G.bottom),G.left=a2(K.left,G.left),G},MQ(a,D,E));return V.width=V.right-V.left,V.height=V.bottom-V.top,V.x=V.left,V.y=V.top,V}function Jee(a){var c=a.reference,h=a.element,E=a.placement,x=E?kb(E):null,k=E?YO(E):null,D=c.x+c.width/2-h.width/2,V=c.y+c.height/2-h.height/2,G;switch(x){case Lf:G={x:D,y:c.y-h.height};break;case Jm:G={x:D,y:c.y+c.height};break;case eg:G={x:c.x+c.width,y:V};break;case Bf:G={x:c.x-h.width,y:V};break;default:G={x:c.x,y:c.y}}var Y=x?yY(x):null;if(Y!=null){var K=Y==="y"?"height":"width";switch(k){case c2:G[Y]=G[Y]-(c[K]/2-h[K]/2);break;case ZO:G[Y]=G[Y]+(c[K]/2-h[K]/2);break}}return G}function KO(a,c){c===void 0&&(c={});var h=c,E=h.placement,x=E===void 0?a.placement:E,k=h.strategy,D=k===void 0?a.strategy:k,V=h.boundary,G=V===void 0?Nee:V,Y=h.rootBoundary,K=Y===void 0?mY:Y,re=h.elementContext,be=re===void 0?DO:re,ge=h.altBoundary,le=ge===void 0?!1:ge,de=h.padding,Ee=de===void 0?0:de,De=Yee(typeof Ee!="number"?Ee:Kee(Ee,sR)),ke=be===DO?Pee:DO,ne=a.rects.popper,Le=a.elements[le?ke:be],ct=Que(l2(Le)?Le:Le.contextElement||kw(a.elements.popper),G,K,D),$=jO(a.elements.reference),ye=Jee({reference:$,element:ne,strategy:"absolute",placement:x}),Ge=Uj(Object.assign({},ne,ye)),mt=be===DO?Ge:$,xt={top:ct.top-mt.top+De.top,bottom:mt.bottom-ct.bottom+De.bottom,left:ct.left-mt.left+De.left,right:mt.right-ct.right+De.right},Pe=a.modifiersData.offset;if(be===DO&&Pe){var he=Pe[x];Object.keys(xt).forEach(function(dn){var bt=[eg,Jm].indexOf(dn)>=0?1:-1,Ct=[Lf,Jm].indexOf(dn)>=0?"y":"x";xt[dn]+=he[Ct]*bt})}return xt}function Jue(a,c){c===void 0&&(c={});var h=c,E=h.placement,x=h.boundary,k=h.rootBoundary,D=h.padding,V=h.flipVariations,G=h.allowedAutoPlacements,Y=G===void 0?gY:G,K=YO(E),re=K?V?Hj:Hj.filter(function(le){return YO(le)===K}):sR,be=re.filter(function(le){return Y.indexOf(le)>=0});be.length===0&&(be=re);var ge=be.reduce(function(le,de){return le[de]=KO(a,{placement:de,boundary:x,rootBoundary:k,padding:D})[kb(de)],le},{});return Object.keys(ge).sort(function(le,de){return ge[le]-ge[de]})}function ede(a){if(kb(a)===UH)return[];var c=mH(a);return[DQ(a),c,DQ(c)]}function tde(a){var c=a.state,h=a.options,E=a.name;if(!c.modifiersData[E]._skip){for(var x=h.mainAxis,k=x===void 0?!0:x,D=h.altAxis,V=D===void 0?!0:D,G=h.fallbackPlacements,Y=h.padding,K=h.boundary,re=h.rootBoundary,be=h.altBoundary,ge=h.flipVariations,le=ge===void 0?!0:ge,de=h.allowedAutoPlacements,Ee=c.options.placement,De=kb(Ee),ke=De===Ee,ne=G||(ke||!le?[mH(Ee)]:ede(Ee)),Le=[Ee].concat(ne).reduce(function(Jn,Fo){return Jn.concat(kb(Fo)===UH?Jue(c,{placement:Fo,boundary:K,rootBoundary:re,padding:Y,flipVariations:le,allowedAutoPlacements:de}):Fo)},[]),ct=c.rects.reference,$=c.rects.popper,ye=new Map,Ge=!0,mt=Le[0],xt=0;xt<Le.length;xt++){var Pe=Le[xt],he=kb(Pe),dn=YO(Pe)===c2,bt=[Lf,Jm].indexOf(he)>=0,Ct=bt?"width":"height",P=KO(c,{placement:Pe,boundary:K,rootBoundary:re,altBoundary:be,padding:Y}),Tt=bt?dn?eg:Bf:dn?Jm:Lf;ct[Ct]>$[Ct]&&(Tt=mH(Tt));var Xe=mH(Tt),Vt=[];if(k&&Vt.push(P[he]<=0),V&&Vt.push(P[Tt]<=0,P[Xe]<=0),Vt.every(function(Jn){return Jn})){mt=Pe,Ge=!1;break}ye.set(Pe,Vt)}if(Ge)for(var Nt=le?3:1,Ve=function(Fo){var je=Le.find(function(At){var ee=ye.get(At);if(ee)return ee.slice(0,Fo).every(function(os){return os})});if(je)return mt=je,"break"},uo=Nt;uo>0;uo--){var Lo=Ve(uo);if(Lo==="break")break}c.placement!==mt&&(c.modifiersData[E]._skip=!0,c.placement=mt,c.reset=!0)}}const ete={name:"flip",enabled:!0,phase:"main",fn:tde,requiresIfExists:["offset"],data:{_skip:!1}};function kQ(a,c,h){return h===void 0&&(h={x:0,y:0}),{top:a.top-c.height-h.y,right:a.right-c.width+h.x,bottom:a.bottom-c.height+h.y,left:a.left-c.width-h.x}}function NQ(a){return[Lf,eg,Jm,Bf].some(function(c){return a[c]>=0})}function nde(a){var c=a.state,h=a.name,E=c.rects.reference,x=c.rects.popper,k=c.modifiersData.preventOverflow,D=KO(c,{elementContext:"reference"}),V=KO(c,{altBoundary:!0}),G=kQ(D,E),Y=kQ(V,x,k),K=NQ(G),re=NQ(Y);c.modifiersData[h]={referenceClippingOffsets:G,popperEscapeOffsets:Y,isReferenceHidden:K,hasPopperEscaped:re},c.attributes.popper=Object.assign({},c.attributes.popper,{"data-popper-reference-hidden":K,"data-popper-escaped":re})}const tte={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:nde};function ode(a,c,h){var E=kb(a),x=[Bf,Lf].indexOf(E)>=0?-1:1,k=typeof h=="function"?h(Object.assign({},c,{placement:a})):h,D=k[0],V=k[1];return D=D||0,V=(V||0)*x,[Bf,eg].indexOf(E)>=0?{x:V,y:D}:{x:D,y:V}}function sde(a){var c=a.state,h=a.options,E=a.name,x=h.offset,k=x===void 0?[0,0]:x,D=gY.reduce(function(K,re){return K[re]=ode(re,c.rects,k),K},{}),V=D[c.placement],G=V.x,Y=V.y;c.modifiersData.popperOffsets!=null&&(c.modifiersData.popperOffsets.x+=G,c.modifiersData.popperOffsets.y+=Y),c.modifiersData[E]=D}const nte={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:sde};function rde(a){var c=a.state,h=a.name;c.modifiersData[h]=Jee({reference:c.rects.reference,element:c.rects.popper,strategy:"absolute",placement:c.placement})}const SY={name:"popperOffsets",enabled:!0,phase:"read",fn:rde,data:{}};function ide(a){return a==="x"?"y":"x"}function ade(a){var c=a.state,h=a.options,E=a.name,x=h.mainAxis,k=x===void 0?!0:x,D=h.altAxis,V=D===void 0?!1:D,G=h.boundary,Y=h.rootBoundary,K=h.altBoundary,re=h.padding,be=h.tether,ge=be===void 0?!0:be,le=h.tetherOffset,de=le===void 0?0:le,Ee=KO(c,{boundary:G,rootBoundary:Y,padding:re,altBoundary:K}),De=kb(c.placement),ke=YO(c.placement),ne=!ke,Le=yY(De),ct=ide(Le),$=c.modifiersData.popperOffsets,ye=c.rects.reference,Ge=c.rects.popper,mt=typeof de=="function"?de(Object.assign({},c.rects,{placement:c.placement})):de,xt=typeof mt=="number"?{mainAxis:mt,altAxis:mt}:Object.assign({mainAxis:0,altAxis:0},mt),Pe=c.modifiersData.offset?c.modifiersData.offset[c.placement]:null,he={x:0,y:0};if($){if(k){var dn,bt=Le==="y"?Lf:Bf,Ct=Le==="y"?Jm:eg,P=Le==="y"?"height":"width",Tt=$[Le],Xe=Tt+Ee[bt],Vt=Tt-Ee[Ct],Nt=ge?-Ge[P]/2:0,Ve=ke===c2?ye[P]:Ge[P],uo=ke===c2?-Ge[P]:-ye[P],Lo=c.elements.arrow,Jn=ge&&Lo?bY(Lo):{width:0,height:0},Fo=c.modifiersData["arrow#persistent"]?c.modifiersData["arrow#persistent"].padding:jee(),je=Fo[bt],At=Fo[Ct],ee=Qk(0,ye[P],Jn[P]),os=ne?ye[P]/2-Nt-ee-je-xt.mainAxis:Ve-ee-je-xt.mainAxis,so=ne?-ye[P]/2+Nt+ee+At+xt.mainAxis:uo+ee+At+xt.mainAxis,Ts=c.elements.arrow&&aN(c.elements.arrow),ys=Ts?Le==="y"?Ts.clientTop||0:Ts.clientLeft||0:0,bc=(dn=Pe==null?void 0:Pe[Le])!=null?dn:0,Dn=Tt+os-bc-ys,as=Tt+so-bc,qt=Qk(ge?xH(Xe,Dn):Xe,Tt,ge?a2(Vt,as):Vt);$[Le]=qt,he[Le]=qt-Tt}if(V){var lt,Sl=Le==="x"?Lf:Bf,Ui=Le==="x"?Jm:eg,En=$[ct],Wr=ct==="y"?"height":"width",Os=En+Ee[Sl],yc=En-Ee[Ui],gs=[Lf,Bf].indexOf(De)!==-1,Tr=(lt=Pe==null?void 0:Pe[ct])!=null?lt:0,nl=gs?Os:En-ye[Wr]-Ge[Wr]-Tr+xt.altAxis,ga=gs?En+ye[Wr]+Ge[Wr]-Tr-xt.altAxis:yc,tr=ge&&gs?$ue(nl,En,ga):Qk(ge?nl:Os,En,ge?ga:yc);$[ct]=tr,he[ct]=tr-En}c.modifiersData[E]=he}}const ote={name:"preventOverflow",enabled:!0,phase:"main",fn:ade,requiresIfExists:["offset"]};function cde(a){return{scrollLeft:a.scrollLeft,scrollTop:a.scrollTop}}function lde(a){return a===tg(a)||!_p(a)?wY(a):cde(a)}function ude(a){var c=a.getBoundingClientRect(),h=qO(c.width)/a.offsetWidth||1,E=qO(c.height)/a.offsetHeight||1;return h!==1||E!==1}function dde(a,c,h){h===void 0&&(h=!1);var E=_p(c),x=_p(c)&&ude(c),k=kw(c),D=jO(a,x,h),V={scrollLeft:0,scrollTop:0},G={x:0,y:0};return(E||!E&&!h)&&((Pb(c)!=="body"||TY(k))&&(V=lde(c)),_p(c)?(G=jO(c,!0),G.x+=c.clientLeft,G.y+=c.clientTop):k&&(G.x=CY(k))),{x:D.left+V.scrollLeft-G.x,y:D.top+V.scrollTop-G.y,width:D.width,height:D.height}}function fde(a){var c=new Map,h=new Set,E=[];a.forEach(function(k){c.set(k.name,k)});function x(k){h.add(k.name);var D=[].concat(k.requires||[],k.requiresIfExists||[]);D.forEach(function(V){if(!h.has(V)){var G=c.get(V);G&&x(G)}}),E.push(k)}return a.forEach(function(k){h.has(k.name)||x(k)}),E}function hde(a){var c=fde(a);return Gee.reduce(function(h,E){return h.concat(c.filter(function(x){return x.phase===E}))},[])}function mde(a){var c;return function(){return c||(c=new Promise(function(h){Promise.resolve().then(function(){c=void 0,h(a())})})),c}}function gde(a){var c=a.reduce(function(h,E){var x=h[E.name];return h[E.name]=x?Object.assign({},x,E,{options:Object.assign({},x.options,E.options),data:Object.assign({},x.data,E.data)}):E,h},{});return Object.keys(c).map(function(h){return c[h]})}var PQ={placement:"bottom",modifiers:[],strategy:"absolute"};function LQ(){for(var a=arguments.length,c=new Array(a),h=0;h<a;h++)c[h]=arguments[h];return!c.some(function(E){return!(E&&typeof E.getBoundingClientRect=="function")})}function WH(a){a===void 0&&(a={});var c=a,h=c.defaultModifiers,E=h===void 0?[]:h,x=c.defaultOptions,k=x===void 0?PQ:x;return function(V,G,Y){Y===void 0&&(Y=k);var K={placement:"bottom",orderedModifiers:[],options:Object.assign({},PQ,k),modifiersData:{},elements:{reference:V,popper:G},attributes:{},styles:{}},re=[],be=!1,ge={state:K,setOptions:function(De){var ke=typeof De=="function"?De(K.options):De;de(),K.options=Object.assign({},k,K.options,ke),K.scrollParents={reference:l2(V)?Jk(V):V.contextElement?Jk(V.contextElement):[],popper:Jk(G)};var ne=hde(gde([].concat(E,K.options.modifiers)));return K.orderedModifiers=ne.filter(function(Le){return Le.enabled}),le(),ge.update()},forceUpdate:function(){if(!be){var De=K.elements,ke=De.reference,ne=De.popper;if(LQ(ke,ne)){K.rects={reference:dde(ke,aN(ne),K.options.strategy==="fixed"),popper:bY(ne)},K.reset=!1,K.placement=K.options.placement,K.orderedModifiers.forEach(function(xt){return K.modifiersData[xt.name]=Object.assign({},xt.data)});for(var Le=0;Le<K.orderedModifiers.length;Le++){if(K.reset===!0){K.reset=!1,Le=-1;continue}var ct=K.orderedModifiers[Le],$=ct.fn,ye=ct.options,Ge=ye===void 0?{}:ye,mt=ct.name;typeof $=="function"&&(K=$({state:K,options:Ge,name:mt,instance:ge})||K)}}}},update:mde(function(){return new Promise(function(Ee){ge.forceUpdate(),Ee(K)})}),destroy:function(){de(),be=!0}};if(!LQ(V,G))return ge;ge.setOptions(Y).then(function(Ee){!be&&Y.onFirstUpdate&&Y.onFirstUpdate(Ee)});function le(){K.orderedModifiers.forEach(function(Ee){var De=Ee.name,ke=Ee.options,ne=ke===void 0?{}:ke,Le=Ee.effect;if(typeof Le=="function"){var ct=Le({state:K,name:De,instance:ge,options:ne}),$=function(){};re.push(ct||$)}})}function de(){re.forEach(function(Ee){return Ee()}),re=[]}return ge}}var pde=WH(),vde=[_Y,SY,EY,vY],bde=WH({defaultModifiers:vde}),yde=[_Y,SY,EY,vY,nte,ete,ote,Xee,tte],xY=WH({defaultModifiers:yde});const ste=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Vee,afterRead:$ee,afterWrite:Wee,applyStyles:vY,arrow:Xee,auto:UH,basePlacements:sR,beforeMain:Fee,beforeRead:Lee,beforeWrite:Uee,bottom:Jm,clippingParents:Nee,computeStyles:EY,createPopper:xY,createPopperBase:pde,createPopperLite:bde,detectOverflow:KO,end:ZO,eventListeners:_Y,flip:ete,hide:tte,left:Bf,main:Hee,modifierPhases:Gee,offset:nte,placements:gY,popper:DO,popperGenerator:WH,popperOffsets:SY,preventOverflow:ote,read:Bee,reference:Pee,right:eg,start:c2,top:Lf,variationPlacements:Hj,viewport:mY,write:zee},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.0-alpha3 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const xw=new Map,oj={set(a,c,h){xw.has(a)||xw.set(a,new Map);const E=xw.get(a);if(!E.has(c)&&E.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(E.keys())[0]}.`);return}E.set(c,h)},get(a,c){return xw.has(a)&&xw.get(a).get(c)||null},remove(a,c){if(!xw.has(a))return;const h=xw.get(a);h.delete(c),h.size===0&&xw.delete(a)}},Ede=1e6,_de=1e3,zj="transitionend",rte=a=>(a&&window.CSS&&window.CSS.escape&&(a=a.replace(/#([^\s"#']+)/g,(c,h)=>`#${CSS.escape(h)}`)),a),wde=a=>a==null?`${a}`:Object.prototype.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase(),Cde=a=>{do a+=Math.floor(Math.random()*Ede);while(document.getElementById(a));return a},Tde=a=>{if(!a)return 0;let{transitionDuration:c,transitionDelay:h}=window.getComputedStyle(a);const E=Number.parseFloat(c),x=Number.parseFloat(h);return!E&&!x?0:(c=c.split(",")[0],h=h.split(",")[0],(Number.parseFloat(c)+Number.parseFloat(h))*_de)},ite=a=>{a.dispatchEvent(new Event(zj))},Yy=a=>!a||typeof a!="object"?!1:(typeof a.jquery<"u"&&(a=a[0]),typeof a.nodeType<"u"),Iw=a=>Yy(a)?a.jquery?a[0]:a:typeof a=="string"&&a.length>0?document.querySelector(rte(a)):null,rR=a=>{if(!Yy(a)||a.getClientRects().length===0)return!1;const c=getComputedStyle(a).getPropertyValue("visibility")==="visible",h=a.closest("details:not([open])");if(!h)return c;if(h!==a){const E=a.closest("summary");if(E&&E.parentNode!==h||E===null)return!1}return c},Dw=a=>!a||a.nodeType!==Node.ELEMENT_NODE||a.classList.contains("disabled")?!0:typeof a.disabled<"u"?a.disabled:a.hasAttribute("disabled")&&a.getAttribute("disabled")!=="false",ate=a=>{if(!document.documentElement.attachShadow)return null;if(typeof a.getRootNode=="function"){const c=a.getRootNode();return c instanceof ShadowRoot?c:null}return a instanceof ShadowRoot?a:a.parentNode?ate(a.parentNode):null},AH=()=>{},cN=a=>{a.offsetHeight},cte=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,sj=[],Sde=a=>{document.readyState==="loading"?(sj.length||document.addEventListener("DOMContentLoaded",()=>{for(const c of sj)c()}),sj.push(a)):a()},wp=()=>document.documentElement.dir==="rtl",Tp=a=>{Sde(()=>{const c=cte();if(c){const h=a.NAME,E=c.fn[h];c.fn[h]=a.jQueryInterface,c.fn[h].Constructor=a,c.fn[h].noConflict=()=>(c.fn[h]=E,a.jQueryInterface)}})},Hh=(a,c=[],h=a)=>typeof a=="function"?a(...c):h,lte=(a,c,h=!0)=>{if(!h){Hh(a);return}const E=5,x=Tde(c)+E;let k=!1;const D=({target:V})=>{V===c&&(k=!0,c.removeEventListener(zj,D),Hh(a))};c.addEventListener(zj,D),setTimeout(()=>{k||ite(c)},x)},AY=(a,c,h,E)=>{const x=a.length;let k=a.indexOf(c);return k===-1?!h&&E?a[x-1]:a[0]:(k+=h?1:-1,E&&(k=(k+x)%x),a[Math.max(0,Math.min(k,x-1))])},xde=/[^.]*(?=\..*)\.|.*/,Ade=/\..*/,Ode=/::\d+$/,rj={};let BQ=1;const ute={mouseenter:"mouseover",mouseleave:"mouseout"},Rde=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function dte(a,c){return c&&`${c}::${BQ++}`||a.uidEvent||BQ++}function fte(a){const c=dte(a);return a.uidEvent=c,rj[c]=rj[c]||{},rj[c]}function Ide(a,c){return function h(E){return OY(E,{delegateTarget:a}),h.oneOff&&hn.off(a,E.type,c),c.apply(a,[E])}}function Dde(a,c,h){return function E(x){const k=a.querySelectorAll(c);for(let{target:D}=x;D&&D!==this;D=D.parentNode)for(const V of k)if(V===D)return OY(x,{delegateTarget:D}),E.oneOff&&hn.off(a,x.type,c,h),h.apply(D,[x])}}function hte(a,c,h=null){return Object.values(a).find(E=>E.callable===c&&E.delegationSelector===h)}function mte(a,c,h){const E=typeof c=="string",x=E?h:c||h;let k=gte(a);return Rde.has(k)||(k=a),[E,x,k]}function $Q(a,c,h,E,x){if(typeof c!="string"||!a)return;let[k,D,V]=mte(c,h,E);c in ute&&(D=(le=>function(de){if(!de.relatedTarget||de.relatedTarget!==de.delegateTarget&&!de.delegateTarget.contains(de.relatedTarget))return le.call(this,de)})(D));const G=fte(a),Y=G[V]||(G[V]={}),K=hte(Y,D,k?h:null);if(K){K.oneOff=K.oneOff&&x;return}const re=dte(D,c.replace(xde,"")),be=k?Dde(a,h,D):Ide(a,D);be.delegationSelector=k?h:null,be.callable=D,be.oneOff=x,be.uidEvent=re,Y[re]=be,a.addEventListener(V,be,k)}function Wj(a,c,h,E,x){const k=hte(c[h],E,x);k&&(a.removeEventListener(h,k,!!x),delete c[h][k.uidEvent])}function Mde(a,c,h,E){const x=c[h]||{};for(const[k,D]of Object.entries(x))k.includes(E)&&Wj(a,c,h,D.callable,D.delegationSelector)}function gte(a){return a=a.replace(Ade,""),ute[a]||a}const hn={on(a,c,h,E){$Q(a,c,h,E,!1)},one(a,c,h,E){$Q(a,c,h,E,!0)},off(a,c,h,E){if(typeof c!="string"||!a)return;const[x,k,D]=mte(c,h,E),V=D!==c,G=fte(a),Y=G[D]||{},K=c.startsWith(".");if(typeof k<"u"){if(!Object.keys(Y).length)return;Wj(a,G,D,k,x?h:null);return}if(K)for(const re of Object.keys(G))Mde(a,G,re,c.slice(1));for(const[re,be]of Object.entries(Y)){const ge=re.replace(Ode,"");(!V||c.includes(ge))&&Wj(a,G,D,be.callable,be.delegationSelector)}},trigger(a,c,h){if(typeof c!="string"||!a)return null;const E=cte(),x=gte(c),k=c!==x;let D=null,V=!0,G=!0,Y=!1;k&&E&&(D=E.Event(c,h),E(a).trigger(D),V=!D.isPropagationStopped(),G=!D.isImmediatePropagationStopped(),Y=D.isDefaultPrevented());const K=OY(new Event(c,{bubbles:V,cancelable:!0}),h);return Y&&K.preventDefault(),G&&a.dispatchEvent(K),K.defaultPrevented&&D&&D.preventDefault(),K}};function OY(a,c={}){for(const[h,E]of Object.entries(c))try{a[h]=E}catch{Object.defineProperty(a,h,{configurable:!0,get(){return E}})}return a}function FQ(a){if(a==="true")return!0;if(a==="false")return!1;if(a===Number(a).toString())return Number(a);if(a===""||a==="null")return null;if(typeof a!="string")return a;try{return JSON.parse(decodeURIComponent(a))}catch{return a}}function ij(a){return a.replace(/[A-Z]/g,c=>`-${c.toLowerCase()}`)}const Ky={setDataAttribute(a,c,h){a.setAttribute(`data-bs-${ij(c)}`,h)},removeDataAttribute(a,c){a.removeAttribute(`data-bs-${ij(c)}`)},getDataAttributes(a){if(!a)return{};const c={},h=Object.keys(a.dataset).filter(E=>E.startsWith("bs")&&!E.startsWith("bsConfig"));for(const E of h){let x=E.replace(/^bs/,"");x=x.charAt(0).toLowerCase()+x.slice(1,x.length),c[x]=FQ(a.dataset[E])}return c},getDataAttribute(a,c){return FQ(a.getAttribute(`data-bs-${ij(c)}`))}};class lN{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(c){return c=this._mergeConfigObj(c),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}_configAfterMerge(c){return c}_mergeConfigObj(c,h){const E=Yy(h)?Ky.getDataAttribute(h,"config"):{};return{...this.constructor.Default,...typeof E=="object"?E:{},...Yy(h)?Ky.getDataAttributes(h):{},...typeof c=="object"?c:{}}}_typeCheckConfig(c,h=this.constructor.DefaultType){for(const[E,x]of Object.entries(h)){const k=c[E],D=Yy(k)?"element":wde(k);if(!new RegExp(x).test(D))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${E}" provided type "${D}" but expected type "${x}".`)}}}const kde="5.3.0-alpha2";class Z1 extends lN{constructor(c,h){super(),c=Iw(c),c&&(this._element=c,this._config=this._getConfig(h),oj.set(this._element,this.constructor.DATA_KEY,this))}dispose(){oj.remove(this._element,this.constructor.DATA_KEY),hn.off(this._element,this.constructor.EVENT_KEY);for(const c of Object.getOwnPropertyNames(this))this[c]=null}_queueCallback(c,h,E=!0){lte(c,h,E)}_getConfig(c){return c=this._mergeConfigObj(c,this._element),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}static getInstance(c){return oj.get(Iw(c),this.DATA_KEY)}static getOrCreateInstance(c,h={}){return this.getInstance(c)||new this(c,typeof h=="object"?h:null)}static get VERSION(){return kde}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(c){return`${c}${this.EVENT_KEY}`}}const aj=a=>{let c=a.getAttribute("data-bs-target");if(!c||c==="#"){let h=a.getAttribute("href");if(!h||!h.includes("#")&&!h.startsWith("."))return null;h.includes("#")&&!h.startsWith("#")&&(h=`#${h.split("#")[1]}`),c=h&&h!=="#"?h.trim():null}return rte(c)},Uo={find(a,c=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(c,a))},findOne(a,c=document.documentElement){return Element.prototype.querySelector.call(c,a)},children(a,c){return[].concat(...a.children).filter(h=>h.matches(c))},parents(a,c){const h=[];let E=a.parentNode.closest(c);for(;E;)h.push(E),E=E.parentNode.closest(c);return h},prev(a,c){let h=a.previousElementSibling;for(;h;){if(h.matches(c))return[h];h=h.previousElementSibling}return[]},next(a,c){let h=a.nextElementSibling;for(;h;){if(h.matches(c))return[h];h=h.nextElementSibling}return[]},focusableChildren(a){const c=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(h=>`${h}:not([tabindex^="-"])`).join(",");return this.find(c,a).filter(h=>!Dw(h)&&rR(h))},getSelectorFromElement(a){const c=aj(a);return c&&Uo.findOne(c)?c:null},getElementFromSelector(a){const c=aj(a);return c?Uo.findOne(c):null},getMultipleElementsFromSelector(a){const c=aj(a);return c?Uo.find(c):[]}},GH=(a,c="hide")=>{const h=`click.dismiss${a.EVENT_KEY}`,E=a.NAME;hn.on(document,h,`[data-bs-dismiss="${E}"]`,function(x){if(["A","AREA"].includes(this.tagName)&&x.preventDefault(),Dw(this))return;const k=Uo.getElementFromSelector(this)||this.closest(`.${E}`);a.getOrCreateInstance(k)[c]()})},Nde="alert",Pde="bs.alert",pte=`.${Pde}`,Lde=`close${pte}`,Bde=`closed${pte}`,$de="fade",Fde="show";class ZH extends Z1{static get NAME(){return Nde}close(){if(hn.trigger(this._element,Lde).defaultPrevented)return;this._element.classList.remove(Fde);const h=this._element.classList.contains($de);this._queueCallback(()=>this._destroyElement(),this._element,h)}_destroyElement(){this._element.remove(),hn.trigger(this._element,Bde),this.dispose()}static jQueryInterface(c){return this.each(function(){const h=ZH.getOrCreateInstance(this);if(typeof c=="string"){if(h[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);h[c](this)}})}}GH(ZH,"close");Tp(ZH);const Hde="button",Vde="bs.button",Ude=`.${Vde}`,zde=".data-api",Wde="active",HQ='[data-bs-toggle="button"]',Gde=`click${Ude}${zde}`;class qH extends Z1{static get NAME(){return Hde}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Wde))}static jQueryInterface(c){return this.each(function(){const h=qH.getOrCreateInstance(this);c==="toggle"&&h[c]()})}}hn.on(document,Gde,HQ,a=>{a.preventDefault();const c=a.target.closest(HQ);qH.getOrCreateInstance(c).toggle()});Tp(qH);const Zde="swipe",iR=".bs.swipe",qde=`touchstart${iR}`,jde=`touchmove${iR}`,Yde=`touchend${iR}`,Kde=`pointerdown${iR}`,Xde=`pointerup${iR}`,Qde="touch",Jde="pen",efe="pointer-event",tfe=40,nfe={endCallback:null,leftCallback:null,rightCallback:null},ofe={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class OH extends lN{constructor(c,h){super(),this._element=c,!(!c||!OH.isSupported())&&(this._config=this._getConfig(h),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return nfe}static get DefaultType(){return ofe}static get NAME(){return Zde}dispose(){hn.off(this._element,iR)}_start(c){if(!this._supportPointerEvents){this._deltaX=c.touches[0].clientX;return}this._eventIsPointerPenTouch(c)&&(this._deltaX=c.clientX)}_end(c){this._eventIsPointerPenTouch(c)&&(this._deltaX=c.clientX-this._deltaX),this._handleSwipe(),Hh(this._config.endCallback)}_move(c){this._deltaX=c.touches&&c.touches.length>1?0:c.touches[0].clientX-this._deltaX}_handleSwipe(){const c=Math.abs(this._deltaX);if(c<=tfe)return;const h=c/this._deltaX;this._deltaX=0,h&&Hh(h>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(hn.on(this._element,Kde,c=>this._start(c)),hn.on(this._element,Xde,c=>this._end(c)),this._element.classList.add(efe)):(hn.on(this._element,qde,c=>this._start(c)),hn.on(this._element,jde,c=>this._move(c)),hn.on(this._element,Yde,c=>this._end(c)))}_eventIsPointerPenTouch(c){return this._supportPointerEvents&&(c.pointerType===Jde||c.pointerType===Qde)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const sfe="carousel",rfe="bs.carousel",Nw=`.${rfe}`,vte=".data-api",ife="ArrowLeft",afe="ArrowRight",cfe=500,qk="next",OO="prev",MO="left",gH="right",lfe=`slide${Nw}`,cj=`slid${Nw}`,ufe=`keydown${Nw}`,dfe=`mouseenter${Nw}`,ffe=`mouseleave${Nw}`,hfe=`dragstart${Nw}`,mfe=`load${Nw}${vte}`,gfe=`click${Nw}${vte}`,bte="carousel",X5="active",pfe="slide",vfe="carousel-item-end",bfe="carousel-item-start",yfe="carousel-item-next",Efe="carousel-item-prev",yte=".active",Ete=".carousel-item",_fe=yte+Ete,wfe=".carousel-item img",Cfe=".carousel-indicators",Tfe="[data-bs-slide], [data-bs-slide-to]",Sfe='[data-bs-ride="carousel"]',xfe={[ife]:gH,[afe]:MO},Afe={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ofe={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class uN extends Z1{constructor(c,h){super(c,h),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Uo.findOne(Cfe,this._element),this._addEventListeners(),this._config.ride===bte&&this.cycle()}static get Default(){return Afe}static get DefaultType(){return Ofe}static get NAME(){return sfe}next(){this._slide(qk)}nextWhenVisible(){!document.hidden&&rR(this._element)&&this.next()}prev(){this._slide(OO)}pause(){this._isSliding&&ite(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){hn.one(this._element,cj,()=>this.cycle());return}this.cycle()}}to(c){const h=this._getItems();if(c>h.length-1||c<0)return;if(this._isSliding){hn.one(this._element,cj,()=>this.to(c));return}const E=this._getItemIndex(this._getActive());if(E===c)return;const x=c>E?qk:OO;this._slide(x,h[c])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(c){return c.defaultInterval=c.interval,c}_addEventListeners(){this._config.keyboard&&hn.on(this._element,ufe,c=>this._keydown(c)),this._config.pause==="hover"&&(hn.on(this._element,dfe,()=>this.pause()),hn.on(this._element,ffe,()=>this._maybeEnableCycle())),this._config.touch&&OH.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const E of Uo.find(wfe,this._element))hn.on(E,hfe,x=>x.preventDefault());const h={leftCallback:()=>this._slide(this._directionToOrder(MO)),rightCallback:()=>this._slide(this._directionToOrder(gH)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),cfe+this._config.interval))}};this._swipeHelper=new OH(this._element,h)}_keydown(c){if(/input|textarea/i.test(c.target.tagName))return;const h=xfe[c.key];h&&(c.preventDefault(),this._slide(this._directionToOrder(h)))}_getItemIndex(c){return this._getItems().indexOf(c)}_setActiveIndicatorElement(c){if(!this._indicatorsElement)return;const h=Uo.findOne(yte,this._indicatorsElement);h.classList.remove(X5),h.removeAttribute("aria-current");const E=Uo.findOne(`[data-bs-slide-to="${c}"]`,this._indicatorsElement);E&&(E.classList.add(X5),E.setAttribute("aria-current","true"))}_updateInterval(){const c=this._activeElement||this._getActive();if(!c)return;const h=Number.parseInt(c.getAttribute("data-bs-interval"),10);this._config.interval=h||this._config.defaultInterval}_slide(c,h=null){if(this._isSliding)return;const E=this._getActive(),x=c===qk,k=h||AY(this._getItems(),E,x,this._config.wrap);if(k===E)return;const D=this._getItemIndex(k),V=ge=>hn.trigger(this._element,ge,{relatedTarget:k,direction:this._orderToDirection(c),from:this._getItemIndex(E),to:D});if(V(lfe).defaultPrevented||!E||!k)return;const Y=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(D),this._activeElement=k;const K=x?bfe:vfe,re=x?yfe:Efe;k.classList.add(re),cN(k),E.classList.add(K),k.classList.add(K);const be=()=>{k.classList.remove(K,re),k.classList.add(X5),E.classList.remove(X5,re,K),this._isSliding=!1,V(cj)};this._queueCallback(be,E,this._isAnimated()),Y&&this.cycle()}_isAnimated(){return this._element.classList.contains(pfe)}_getActive(){return Uo.findOne(_fe,this._element)}_getItems(){return Uo.find(Ete,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(c){return wp()?c===MO?OO:qk:c===MO?qk:OO}_orderToDirection(c){return wp()?c===OO?MO:gH:c===OO?gH:MO}static jQueryInterface(c){return this.each(function(){const h=uN.getOrCreateInstance(this,c);if(typeof c=="number"){h.to(c);return}if(typeof c=="string"){if(h[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);h[c]()}})}}hn.on(document,gfe,Tfe,function(a){const c=Uo.getElementFromSelector(this);if(!c||!c.classList.contains(bte))return;a.preventDefault();const h=uN.getOrCreateInstance(c),E=this.getAttribute("data-bs-slide-to");if(E){h.to(E),h._maybeEnableCycle();return}if(Ky.getDataAttribute(this,"slide")==="next"){h.next(),h._maybeEnableCycle();return}h.prev(),h._maybeEnableCycle()});hn.on(window,mfe,()=>{const a=Uo.find(Sfe);for(const c of a)uN.getOrCreateInstance(c)});Tp(uN);const Rfe="collapse",Ife="bs.collapse",dN=`.${Ife}`,Dfe=".data-api",Mfe=`show${dN}`,kfe=`shown${dN}`,Nfe=`hide${dN}`,Pfe=`hidden${dN}`,Lfe=`click${dN}${Dfe}`,lj="show",$O="collapse",Q5="collapsing",Bfe="collapsed",$fe=`:scope .${$O} .${$O}`,Ffe="collapse-horizontal",Hfe="width",Vfe="height",Ufe=".collapse.show, .collapse.collapsing",Gj='[data-bs-toggle="collapse"]',zfe={parent:null,toggle:!0},Wfe={parent:"(null|element)",toggle:"boolean"};class oN extends Z1{constructor(c,h){super(c,h),this._isTransitioning=!1,this._triggerArray=[];const E=Uo.find(Gj);for(const x of E){const k=Uo.getSelectorFromElement(x),D=Uo.find(k).filter(V=>V===this._element);k!==null&&D.length&&this._triggerArray.push(x)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return zfe}static get DefaultType(){return Wfe}static get NAME(){return Rfe}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let c=[];if(this._config.parent&&(c=this._getFirstLevelChildren(Ufe).filter(V=>V!==this._element).map(V=>oN.getOrCreateInstance(V,{toggle:!1}))),c.length&&c[0]._isTransitioning||hn.trigger(this._element,Mfe).defaultPrevented)return;for(const V of c)V.hide();const E=this._getDimension();this._element.classList.remove($O),this._element.classList.add(Q5),this._element.style[E]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const x=()=>{this._isTransitioning=!1,this._element.classList.remove(Q5),this._element.classList.add($O,lj),this._element.style[E]="",hn.trigger(this._element,kfe)},D=`scroll${E[0].toUpperCase()+E.slice(1)}`;this._queueCallback(x,this._element,!0),this._element.style[E]=`${this._element[D]}px`}hide(){if(this._isTransitioning||!this._isShown()||hn.trigger(this._element,Nfe).defaultPrevented)return;const h=this._getDimension();this._element.style[h]=`${this._element.getBoundingClientRect()[h]}px`,cN(this._element),this._element.classList.add(Q5),this._element.classList.remove($O,lj);for(const x of this._triggerArray){const k=Uo.getElementFromSelector(x);k&&!this._isShown(k)&&this._addAriaAndCollapsedClass([x],!1)}this._isTransitioning=!0;const E=()=>{this._isTransitioning=!1,this._element.classList.remove(Q5),this._element.classList.add($O),hn.trigger(this._element,Pfe)};this._element.style[h]="",this._queueCallback(E,this._element,!0)}_isShown(c=this._element){return c.classList.contains(lj)}_configAfterMerge(c){return c.toggle=!!c.toggle,c.parent=Iw(c.parent),c}_getDimension(){return this._element.classList.contains(Ffe)?Hfe:Vfe}_initializeChildren(){if(!this._config.parent)return;const c=this._getFirstLevelChildren(Gj);for(const h of c){const E=Uo.getElementFromSelector(h);E&&this._addAriaAndCollapsedClass([h],this._isShown(E))}}_getFirstLevelChildren(c){const h=Uo.find($fe,this._config.parent);return Uo.find(c,this._config.parent).filter(E=>!h.includes(E))}_addAriaAndCollapsedClass(c,h){if(c.length)for(const E of c)E.classList.toggle(Bfe,!h),E.setAttribute("aria-expanded",h)}static jQueryInterface(c){const h={};return typeof c=="string"&&/show|hide/.test(c)&&(h.toggle=!1),this.each(function(){const E=oN.getOrCreateInstance(this,h);if(typeof c=="string"){if(typeof E[c]>"u")throw new TypeError(`No method named "${c}"`);E[c]()}})}}hn.on(document,Lfe,Gj,function(a){(a.target.tagName==="A"||a.delegateTarget&&a.delegateTarget.tagName==="A")&&a.preventDefault();for(const c of Uo.getMultipleElementsFromSelector(this))oN.getOrCreateInstance(c,{toggle:!1}).toggle()});Tp(oN);const VQ="dropdown",Gfe="bs.dropdown",h2=`.${Gfe}`,RY=".data-api",Zfe="Escape",UQ="Tab",qfe="ArrowUp",zQ="ArrowDown",jfe=2,Yfe=`hide${h2}`,Kfe=`hidden${h2}`,Xfe=`show${h2}`,Qfe=`shown${h2}`,_te=`click${h2}${RY}`,wte=`keydown${h2}${RY}`,Jfe=`keyup${h2}${RY}`,kO="show",ehe="dropup",the="dropend",nhe="dropstart",ohe="dropup-center",she="dropdown-center",n2='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',rhe=`${n2}.${kO}`,pH=".dropdown-menu",ihe=".navbar",ahe=".navbar-nav",che=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",lhe=wp()?"top-end":"top-start",uhe=wp()?"top-start":"top-end",dhe=wp()?"bottom-end":"bottom-start",fhe=wp()?"bottom-start":"bottom-end",hhe=wp()?"left-start":"right-start",mhe=wp()?"right-start":"left-start",ghe="top",phe="bottom",vhe={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},bhe={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Nb extends Z1{constructor(c,h){super(c,h),this._popper=null,this._parent=this._element.parentNode,this._menu=Uo.next(this._element,pH)[0]||Uo.prev(this._element,pH)[0]||Uo.findOne(pH,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return vhe}static get DefaultType(){return bhe}static get NAME(){return VQ}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Dw(this._element)||this._isShown())return;const c={relatedTarget:this._element};if(!hn.trigger(this._element,Xfe,c).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(ahe))for(const E of[].concat(...document.body.children))hn.on(E,"mouseover",AH);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(kO),this._element.classList.add(kO),hn.trigger(this._element,Qfe,c)}}hide(){if(Dw(this._element)||!this._isShown())return;const c={relatedTarget:this._element};this._completeHide(c)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(c){if(!hn.trigger(this._element,Yfe,c).defaultPrevented){if("ontouchstart"in document.documentElement)for(const E of[].concat(...document.body.children))hn.off(E,"mouseover",AH);this._popper&&this._popper.destroy(),this._menu.classList.remove(kO),this._element.classList.remove(kO),this._element.setAttribute("aria-expanded","false"),Ky.removeDataAttribute(this._menu,"popper"),hn.trigger(this._element,Kfe,c)}}_getConfig(c){if(c=super._getConfig(c),typeof c.reference=="object"&&!Yy(c.reference)&&typeof c.reference.getBoundingClientRect!="function")throw new TypeError(`${VQ.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return c}_createPopper(){if(typeof ste>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let c=this._element;this._config.reference==="parent"?c=this._parent:Yy(this._config.reference)?c=Iw(this._config.reference):typeof this._config.reference=="object"&&(c=this._config.reference);const h=this._getPopperConfig();this._popper=xY(c,this._menu,h)}_isShown(){return this._menu.classList.contains(kO)}_getPlacement(){const c=this._parent;if(c.classList.contains(the))return hhe;if(c.classList.contains(nhe))return mhe;if(c.classList.contains(ohe))return ghe;if(c.classList.contains(she))return phe;const h=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return c.classList.contains(ehe)?h?uhe:lhe:h?fhe:dhe}_detectNavbar(){return this._element.closest(ihe)!==null}_getOffset(){const{offset:c}=this._config;return typeof c=="string"?c.split(",").map(h=>Number.parseInt(h,10)):typeof c=="function"?h=>c(h,this._element):c}_getPopperConfig(){const c={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Ky.setDataAttribute(this._menu,"popper","static"),c.modifiers=[{name:"applyStyles",enabled:!1}]),{...c,...Hh(this._config.popperConfig,[c])}}_selectMenuItem({key:c,target:h}){const E=Uo.find(che,this._menu).filter(x=>rR(x));E.length&&AY(E,h,c===zQ,!E.includes(h)).focus()}static jQueryInterface(c){return this.each(function(){const h=Nb.getOrCreateInstance(this,c);if(typeof c=="string"){if(typeof h[c]>"u")throw new TypeError(`No method named "${c}"`);h[c]()}})}static clearMenus(c){if(c.button===jfe||c.type==="keyup"&&c.key!==UQ)return;const h=Uo.find(rhe);for(const E of h){const x=Nb.getInstance(E);if(!x||x._config.autoClose===!1)continue;const k=c.composedPath(),D=k.includes(x._menu);if(k.includes(x._element)||x._config.autoClose==="inside"&&!D||x._config.autoClose==="outside"&&D||x._menu.contains(c.target)&&(c.type==="keyup"&&c.key===UQ||/input|select|option|textarea|form/i.test(c.target.tagName)))continue;const V={relatedTarget:x._element};c.type==="click"&&(V.clickEvent=c),x._completeHide(V)}}static dataApiKeydownHandler(c){const h=/input|textarea/i.test(c.target.tagName),E=c.key===Zfe,x=[qfe,zQ].includes(c.key);if(!x&&!E||h&&!E)return;c.preventDefault();const k=this.matches(n2)?this:Uo.prev(this,n2)[0]||Uo.next(this,n2)[0]||Uo.findOne(n2,c.delegateTarget.parentNode),D=Nb.getOrCreateInstance(k);if(x){c.stopPropagation(),D.show(),D._selectMenuItem(c);return}D._isShown()&&(c.stopPropagation(),D.hide(),k.focus())}}hn.on(document,wte,n2,Nb.dataApiKeydownHandler);hn.on(document,wte,pH,Nb.dataApiKeydownHandler);hn.on(document,_te,Nb.clearMenus);hn.on(document,Jfe,Nb.clearMenus);hn.on(document,_te,n2,function(a){a.preventDefault(),Nb.getOrCreateInstance(this).toggle()});Tp(Nb);const Cte="backdrop",yhe="fade",WQ="show",GQ=`mousedown.bs.${Cte}`,Ehe={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},_he={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Tte extends lN{constructor(c){super(),this._config=this._getConfig(c),this._isAppended=!1,this._element=null}static get Default(){return Ehe}static get DefaultType(){return _he}static get NAME(){return Cte}show(c){if(!this._config.isVisible){Hh(c);return}this._append();const h=this._getElement();this._config.isAnimated&&cN(h),h.classList.add(WQ),this._emulateAnimation(()=>{Hh(c)})}hide(c){if(!this._config.isVisible){Hh(c);return}this._getElement().classList.remove(WQ),this._emulateAnimation(()=>{this.dispose(),Hh(c)})}dispose(){this._isAppended&&(hn.off(this._element,GQ),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const c=document.createElement("div");c.className=this._config.className,this._config.isAnimated&&c.classList.add(yhe),this._element=c}return this._element}_configAfterMerge(c){return c.rootElement=Iw(c.rootElement),c}_append(){if(this._isAppended)return;const c=this._getElement();this._config.rootElement.append(c),hn.on(c,GQ,()=>{Hh(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(c){lte(c,this._getElement(),this._config.isAnimated)}}const whe="focustrap",Che="bs.focustrap",RH=`.${Che}`,The=`focusin${RH}`,She=`keydown.tab${RH}`,xhe="Tab",Ahe="forward",ZQ="backward",Ohe={autofocus:!0,trapElement:null},Rhe={autofocus:"boolean",trapElement:"element"};class Ste extends lN{constructor(c){super(),this._config=this._getConfig(c),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Ohe}static get DefaultType(){return Rhe}static get NAME(){return whe}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),hn.off(document,RH),hn.on(document,The,c=>this._handleFocusin(c)),hn.on(document,She,c=>this._handleKeydown(c)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,hn.off(document,RH))}_handleFocusin(c){const{trapElement:h}=this._config;if(c.target===document||c.target===h||h.contains(c.target))return;const E=Uo.focusableChildren(h);E.length===0?h.focus():this._lastTabNavDirection===ZQ?E[E.length-1].focus():E[0].focus()}_handleKeydown(c){c.key===xhe&&(this._lastTabNavDirection=c.shiftKey?ZQ:Ahe)}}const qQ=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",jQ=".sticky-top",J5="padding-right",YQ="margin-right";class Zj{constructor(){this._element=document.body}getWidth(){const c=document.documentElement.clientWidth;return Math.abs(window.innerWidth-c)}hide(){const c=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,J5,h=>h+c),this._setElementAttributes(qQ,J5,h=>h+c),this._setElementAttributes(jQ,YQ,h=>h-c)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,J5),this._resetElementAttributes(qQ,J5),this._resetElementAttributes(jQ,YQ)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(c,h,E){const x=this.getWidth(),k=D=>{if(D!==this._element&&window.innerWidth>D.clientWidth+x)return;this._saveInitialAttribute(D,h);const V=window.getComputedStyle(D).getPropertyValue(h);D.style.setProperty(h,`${E(Number.parseFloat(V))}px`)};this._applyManipulationCallback(c,k)}_saveInitialAttribute(c,h){const E=c.style.getPropertyValue(h);E&&Ky.setDataAttribute(c,h,E)}_resetElementAttributes(c,h){const E=x=>{const k=Ky.getDataAttribute(x,h);if(k===null){x.style.removeProperty(h);return}Ky.removeDataAttribute(x,h),x.style.setProperty(h,k)};this._applyManipulationCallback(c,E)}_applyManipulationCallback(c,h){if(Yy(c)){h(c);return}for(const E of Uo.find(c,this._element))h(E)}}const Ihe="modal",Dhe="bs.modal",Cp=`.${Dhe}`,Mhe=".data-api",khe="Escape",Nhe=`hide${Cp}`,Phe=`hidePrevented${Cp}`,xte=`hidden${Cp}`,Ate=`show${Cp}`,Lhe=`shown${Cp}`,Bhe=`resize${Cp}`,$he=`click.dismiss${Cp}`,Fhe=`mousedown.dismiss${Cp}`,Hhe=`keydown.dismiss${Cp}`,Vhe=`click${Cp}${Mhe}`,KQ="modal-open",Uhe="fade",XQ="show",uj="modal-static",zhe=".modal.show",Whe=".modal-dialog",Ghe=".modal-body",Zhe='[data-bs-toggle="modal"]',qhe={backdrop:!0,focus:!0,keyboard:!0},jhe={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class XO extends Z1{constructor(c,h){super(c,h),this._dialog=Uo.findOne(Whe,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Zj,this._addEventListeners()}static get Default(){return qhe}static get DefaultType(){return jhe}static get NAME(){return Ihe}toggle(c){return this._isShown?this.hide():this.show(c)}show(c){this._isShown||this._isTransitioning||hn.trigger(this._element,Ate,{relatedTarget:c}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(KQ),this._adjustDialog(),this._backdrop.show(()=>this._showElement(c)))}hide(){!this._isShown||this._isTransitioning||hn.trigger(this._element,Nhe).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(XQ),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){hn.off(window,Cp),hn.off(this._dialog,Cp),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Tte({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Ste({trapElement:this._element})}_showElement(c){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const h=Uo.findOne(Ghe,this._dialog);h&&(h.scrollTop=0),cN(this._element),this._element.classList.add(XQ);const E=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,hn.trigger(this._element,Lhe,{relatedTarget:c})};this._queueCallback(E,this._dialog,this._isAnimated())}_addEventListeners(){hn.on(this._element,Hhe,c=>{if(c.key===khe){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),hn.on(window,Bhe,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),hn.on(this._element,Fhe,c=>{hn.one(this._element,$he,h=>{if(!(this._element!==c.target||this._element!==h.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(KQ),this._resetAdjustments(),this._scrollBar.reset(),hn.trigger(this._element,xte)})}_isAnimated(){return this._element.classList.contains(Uhe)}_triggerBackdropTransition(){if(hn.trigger(this._element,Phe).defaultPrevented)return;const h=this._element.scrollHeight>document.documentElement.clientHeight,E=this._element.style.overflowY;E==="hidden"||this._element.classList.contains(uj)||(h||(this._element.style.overflowY="hidden"),this._element.classList.add(uj),this._queueCallback(()=>{this._element.classList.remove(uj),this._queueCallback(()=>{this._element.style.overflowY=E},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const c=this._element.scrollHeight>document.documentElement.clientHeight,h=this._scrollBar.getWidth(),E=h>0;if(E&&!c){const x=wp()?"paddingLeft":"paddingRight";this._element.style[x]=`${h}px`}if(!E&&c){const x=wp()?"paddingRight":"paddingLeft";this._element.style[x]=`${h}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(c,h){return this.each(function(){const E=XO.getOrCreateInstance(this,c);if(typeof c=="string"){if(typeof E[c]>"u")throw new TypeError(`No method named "${c}"`);E[c](h)}})}}hn.on(document,Vhe,Zhe,function(a){const c=Uo.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&a.preventDefault(),hn.one(c,Ate,x=>{x.defaultPrevented||hn.one(c,xte,()=>{rR(this)&&this.focus()})});const h=Uo.findOne(zhe);h&&XO.getInstance(h).hide(),XO.getOrCreateInstance(c).toggle(this)});GH(XO);Tp(XO);const Yhe="offcanvas",Khe="bs.offcanvas",tE=`.${Khe}`,Ote=".data-api",Xhe=`load${tE}${Ote}`,Qhe="Escape",QQ="show",JQ="showing",eJ="hiding",Jhe="offcanvas-backdrop",Rte=".offcanvas.show",eme=`show${tE}`,tme=`shown${tE}`,nme=`hide${tE}`,tJ=`hidePrevented${tE}`,Ite=`hidden${tE}`,ome=`resize${tE}`,sme=`click${tE}${Ote}`,rme=`keydown.dismiss${tE}`,ime='[data-bs-toggle="offcanvas"]',ame={backdrop:!0,keyboard:!0,scroll:!1},cme={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Mw extends Z1{constructor(c,h){super(c,h),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return ame}static get DefaultType(){return cme}static get NAME(){return Yhe}toggle(c){return this._isShown?this.hide():this.show(c)}show(c){if(this._isShown||hn.trigger(this._element,eme,{relatedTarget:c}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Zj().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(JQ);const E=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(QQ),this._element.classList.remove(JQ),hn.trigger(this._element,tme,{relatedTarget:c})};this._queueCallback(E,this._element,!0)}hide(){if(!this._isShown||hn.trigger(this._element,nme).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(eJ),this._backdrop.hide();const h=()=>{this._element.classList.remove(QQ,eJ),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Zj().reset(),hn.trigger(this._element,Ite)};this._queueCallback(h,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const c=()=>{if(this._config.backdrop==="static"){hn.trigger(this._element,tJ);return}this.hide()},h=!!this._config.backdrop;return new Tte({className:Jhe,isVisible:h,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:h?c:null})}_initializeFocusTrap(){return new Ste({trapElement:this._element})}_addEventListeners(){hn.on(this._element,rme,c=>{if(c.key===Qhe){if(this._config.keyboard){this.hide();return}hn.trigger(this._element,tJ)}})}static jQueryInterface(c){return this.each(function(){const h=Mw.getOrCreateInstance(this,c);if(typeof c=="string"){if(h[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);h[c](this)}})}}hn.on(document,sme,ime,function(a){const c=Uo.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&a.preventDefault(),Dw(this))return;hn.one(c,Ite,()=>{rR(this)&&this.focus()});const h=Uo.findOne(Rte);h&&h!==c&&Mw.getInstance(h).hide(),Mw.getOrCreateInstance(c).toggle(this)});hn.on(window,Xhe,()=>{for(const a of Uo.find(Rte))Mw.getOrCreateInstance(a).show()});hn.on(window,ome,()=>{for(const a of Uo.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(a).position!=="fixed"&&Mw.getOrCreateInstance(a).hide()});GH(Mw);Tp(Mw);const lme=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),ume=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,dme=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,fme=(a,c)=>{const h=a.nodeName.toLowerCase();return c.includes(h)?lme.has(h)?!!(ume.test(a.nodeValue)||dme.test(a.nodeValue)):!0:c.filter(E=>E instanceof RegExp).some(E=>E.test(h))},hme=/^aria-[\w-]*$/i,Dte={"*":["class","dir","id","lang","role",hme],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function mme(a,c,h){if(!a.length)return a;if(h&&typeof h=="function")return h(a);const x=new window.DOMParser().parseFromString(a,"text/html"),k=[].concat(...x.body.querySelectorAll("*"));for(const D of k){const V=D.nodeName.toLowerCase();if(!Object.keys(c).includes(V)){D.remove();continue}const G=[].concat(...D.attributes),Y=[].concat(c["*"]||[],c[V]||[]);for(const K of G)fme(K,Y)||D.removeAttribute(K.nodeName)}return x.body.innerHTML}const gme="TemplateFactory",pme={allowList:Dte,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},vme={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},bme={entry:"(string|element|function|null)",selector:"(string|element)"};class yme extends lN{constructor(c){super(),this._config=this._getConfig(c)}static get Default(){return pme}static get DefaultType(){return vme}static get NAME(){return gme}getContent(){return Object.values(this._config.content).map(c=>this._resolvePossibleFunction(c)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(c){return this._checkContent(c),this._config.content={...this._config.content,...c},this}toHtml(){const c=document.createElement("div");c.innerHTML=this._maybeSanitize(this._config.template);for(const[x,k]of Object.entries(this._config.content))this._setContent(c,k,x);const h=c.children[0],E=this._resolvePossibleFunction(this._config.extraClass);return E&&h.classList.add(...E.split(" ")),h}_typeCheckConfig(c){super._typeCheckConfig(c),this._checkContent(c.content)}_checkContent(c){for(const[h,E]of Object.entries(c))super._typeCheckConfig({selector:h,entry:E},bme)}_setContent(c,h,E){const x=Uo.findOne(E,c);if(x){if(h=this._resolvePossibleFunction(h),!h){x.remove();return}if(Yy(h)){this._putElementInTemplate(Iw(h),x);return}if(this._config.html){x.innerHTML=this._maybeSanitize(h);return}x.textContent=h}}_maybeSanitize(c){return this._config.sanitize?mme(c,this._config.allowList,this._config.sanitizeFn):c}_resolvePossibleFunction(c){return Hh(c,[this])}_putElementInTemplate(c,h){if(this._config.html){h.innerHTML="",h.append(c);return}h.textContent=c.textContent}}const Eme="tooltip",_me=new Set(["sanitize","allowList","sanitizeFn"]),dj="fade",wme="modal",eH="show",Cme=".tooltip-inner",nJ=`.${wme}`,oJ="hide.bs.modal",jk="hover",fj="focus",Tme="click",Sme="manual",xme="hide",Ame="hidden",Ome="show",Rme="shown",Ime="inserted",Dme="click",Mme="focusin",kme="focusout",Nme="mouseenter",Pme="mouseleave",Lme={AUTO:"auto",TOP:"top",RIGHT:wp()?"left":"right",BOTTOM:"bottom",LEFT:wp()?"right":"left"},Bme={allowList:Dte,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},$me={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class aR extends Z1{constructor(c,h){if(typeof ste>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(c,h),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Bme}static get DefaultType(){return $me}static get NAME(){return Eme}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),hn.off(this._element.closest(nJ),oJ,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const c=hn.trigger(this._element,this.constructor.eventName(Ome)),E=(ate(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(c.defaultPrevented||!E)return;this._disposePopper();const x=this._getTipElement();this._element.setAttribute("aria-describedby",x.getAttribute("id"));const{container:k}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(k.append(x),hn.trigger(this._element,this.constructor.eventName(Ime))),this._popper=this._createPopper(x),x.classList.add(eH),"ontouchstart"in document.documentElement)for(const V of[].concat(...document.body.children))hn.on(V,"mouseover",AH);const D=()=>{hn.trigger(this._element,this.constructor.eventName(Rme)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(D,this.tip,this._isAnimated())}hide(){if(!this._isShown()||hn.trigger(this._element,this.constructor.eventName(xme)).defaultPrevented)return;if(this._getTipElement().classList.remove(eH),"ontouchstart"in document.documentElement)for(const x of[].concat(...document.body.children))hn.off(x,"mouseover",AH);this._activeTrigger[Tme]=!1,this._activeTrigger[fj]=!1,this._activeTrigger[jk]=!1,this._isHovered=null;const E=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),hn.trigger(this._element,this.constructor.eventName(Ame)))};this._queueCallback(E,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(c){const h=this._getTemplateFactory(c).toHtml();if(!h)return null;h.classList.remove(dj,eH),h.classList.add(`bs-${this.constructor.NAME}-auto`);const E=Cde(this.constructor.NAME).toString();return h.setAttribute("id",E),this._isAnimated()&&h.classList.add(dj),h}setContent(c){this._newContent=c,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(c){return this._templateFactory?this._templateFactory.changeContent(c):this._templateFactory=new yme({...this._config,content:c,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Cme]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(c){return this.constructor.getOrCreateInstance(c.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(dj)}_isShown(){return this.tip&&this.tip.classList.contains(eH)}_createPopper(c){const h=Hh(this._config.placement,[this,c,this._element]),E=Lme[h.toUpperCase()];return xY(this._element,c,this._getPopperConfig(E))}_getOffset(){const{offset:c}=this._config;return typeof c=="string"?c.split(",").map(h=>Number.parseInt(h,10)):typeof c=="function"?h=>c(h,this._element):c}_resolvePossibleFunction(c){return Hh(c,[this._element])}_getPopperConfig(c){const h={placement:c,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:E=>{this._getTipElement().setAttribute("data-popper-placement",E.state.placement)}}]};return{...h,...Hh(this._config.popperConfig,[h])}}_setListeners(){const c=this._config.trigger.split(" ");for(const h of c)if(h==="click")hn.on(this._element,this.constructor.eventName(Dme),this._config.selector,E=>{this._initializeOnDelegatedTarget(E).toggle()});else if(h!==Sme){const E=h===jk?this.constructor.eventName(Nme):this.constructor.eventName(Mme),x=h===jk?this.constructor.eventName(Pme):this.constructor.eventName(kme);hn.on(this._element,E,this._config.selector,k=>{const D=this._initializeOnDelegatedTarget(k);D._activeTrigger[k.type==="focusin"?fj:jk]=!0,D._enter()}),hn.on(this._element,x,this._config.selector,k=>{const D=this._initializeOnDelegatedTarget(k);D._activeTrigger[k.type==="focusout"?fj:jk]=D._element.contains(k.relatedTarget),D._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},hn.on(this._element.closest(nJ),oJ,this._hideModalHandler)}_fixTitle(){const c=this._element.getAttribute("title");c&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",c),this._element.setAttribute("data-bs-original-title",c),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(c,h){clearTimeout(this._timeout),this._timeout=setTimeout(c,h)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(c){const h=Ky.getDataAttributes(this._element);for(const E of Object.keys(h))_me.has(E)&&delete h[E];return c={...h,...typeof c=="object"&&c?c:{}},c=this._mergeConfigObj(c),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}_configAfterMerge(c){return c.container=c.container===!1?document.body:Iw(c.container),typeof c.delay=="number"&&(c.delay={show:c.delay,hide:c.delay}),typeof c.title=="number"&&(c.title=c.title.toString()),typeof c.content=="number"&&(c.content=c.content.toString()),c}_getDelegateConfig(){const c={};for(const[h,E]of Object.entries(this._config))this.constructor.Default[h]!==E&&(c[h]=E);return c.selector=!1,c.trigger="manual",c}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(c){return this.each(function(){const h=aR.getOrCreateInstance(this,c);if(typeof c=="string"){if(typeof h[c]>"u")throw new TypeError(`No method named "${c}"`);h[c]()}})}}Tp(aR);const Fme="popover",Hme=".popover-header",Vme=".popover-body",Ume={...aR.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},zme={...aR.DefaultType,content:"(null|string|element|function)"};class IY extends aR{static get Default(){return Ume}static get DefaultType(){return zme}static get NAME(){return Fme}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Hme]:this._getTitle(),[Vme]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(c){return this.each(function(){const h=IY.getOrCreateInstance(this,c);if(typeof c=="string"){if(typeof h[c]>"u")throw new TypeError(`No method named "${c}"`);h[c]()}})}}Tp(IY);const Wme="scrollspy",Gme="bs.scrollspy",DY=`.${Gme}`,Zme=".data-api",qme=`activate${DY}`,sJ=`click${DY}`,jme=`load${DY}${Zme}`,Yme="dropdown-item",RO="active",Kme='[data-bs-spy="scroll"]',hj="[href]",Xme=".nav, .list-group",rJ=".nav-link",Qme=".nav-item",Jme=".list-group-item",ege=`${rJ}, ${Qme} > ${rJ}, ${Jme}`,tge=".dropdown",nge=".dropdown-toggle",oge={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},sge={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class jH extends Z1{constructor(c,h){super(c,h),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return oge}static get DefaultType(){return sge}static get NAME(){return Wme}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const c of this._observableSections.values())this._observer.observe(c)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(c){return c.target=Iw(c.target)||document.body,c.rootMargin=c.offset?`${c.offset}px 0px -30%`:c.rootMargin,typeof c.threshold=="string"&&(c.threshold=c.threshold.split(",").map(h=>Number.parseFloat(h))),c}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(hn.off(this._config.target,sJ),hn.on(this._config.target,sJ,hj,c=>{const h=this._observableSections.get(c.target.hash);if(h){c.preventDefault();const E=this._rootElement||window,x=h.offsetTop-this._element.offsetTop;if(E.scrollTo){E.scrollTo({top:x,behavior:"smooth"});return}E.scrollTop=x}}))}_getNewObserver(){const c={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(h=>this._observerCallback(h),c)}_observerCallback(c){const h=D=>this._targetLinks.get(`#${D.target.id}`),E=D=>{this._previousScrollData.visibleEntryTop=D.target.offsetTop,this._process(h(D))},x=(this._rootElement||document.documentElement).scrollTop,k=x>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=x;for(const D of c){if(!D.isIntersecting){this._activeTarget=null,this._clearActiveClass(h(D));continue}const V=D.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(k&&V){if(E(D),!x)return;continue}!k&&!V&&E(D)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const c=Uo.find(hj,this._config.target);for(const h of c){if(!h.hash||Dw(h))continue;const E=Uo.findOne(h.hash,this._element);rR(E)&&(this._targetLinks.set(h.hash,h),this._observableSections.set(h.hash,E))}}_process(c){this._activeTarget!==c&&(this._clearActiveClass(this._config.target),this._activeTarget=c,c.classList.add(RO),this._activateParents(c),hn.trigger(this._element,qme,{relatedTarget:c}))}_activateParents(c){if(c.classList.contains(Yme)){Uo.findOne(nge,c.closest(tge)).classList.add(RO);return}for(const h of Uo.parents(c,Xme))for(const E of Uo.prev(h,ege))E.classList.add(RO)}_clearActiveClass(c){c.classList.remove(RO);const h=Uo.find(`${hj}.${RO}`,c);for(const E of h)E.classList.remove(RO)}static jQueryInterface(c){return this.each(function(){const h=jH.getOrCreateInstance(this,c);if(typeof c=="string"){if(h[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);h[c]()}})}}hn.on(window,jme,()=>{for(const a of Uo.find(Kme))jH.getOrCreateInstance(a)});Tp(jH);const rge="tab",ige="bs.tab",m2=`.${ige}`,age=`hide${m2}`,cge=`hidden${m2}`,lge=`show${m2}`,uge=`shown${m2}`,dge=`click${m2}`,fge=`keydown${m2}`,hge=`load${m2}`,mge="ArrowLeft",iJ="ArrowRight",gge="ArrowUp",aJ="ArrowDown",o2="active",cJ="fade",mj="show",pge="dropdown",vge=".dropdown-toggle",bge=".dropdown-menu",gj=":not(.dropdown-toggle)",yge='.list-group, .nav, [role="tablist"]',Ege=".nav-item, .list-group-item",_ge=`.nav-link${gj}, .list-group-item${gj}, [role="tab"]${gj}`,Mte='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',pj=`${_ge}, ${Mte}`,wge=`.${o2}[data-bs-toggle="tab"], .${o2}[data-bs-toggle="pill"], .${o2}[data-bs-toggle="list"]`;class QO extends Z1{constructor(c){super(c),this._parent=this._element.closest(yge),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),hn.on(this._element,fge,h=>this._keydown(h)))}static get NAME(){return rge}show(){const c=this._element;if(this._elemIsActive(c))return;const h=this._getActiveElem(),E=h?hn.trigger(h,age,{relatedTarget:c}):null;hn.trigger(c,lge,{relatedTarget:h}).defaultPrevented||E&&E.defaultPrevented||(this._deactivate(h,c),this._activate(c,h))}_activate(c,h){if(!c)return;c.classList.add(o2),this._activate(Uo.getElementFromSelector(c));const E=()=>{if(c.getAttribute("role")!=="tab"){c.classList.add(mj);return}c.removeAttribute("tabindex"),c.setAttribute("aria-selected",!0),this._toggleDropDown(c,!0),hn.trigger(c,uge,{relatedTarget:h})};this._queueCallback(E,c,c.classList.contains(cJ))}_deactivate(c,h){if(!c)return;c.classList.remove(o2),c.blur(),this._deactivate(Uo.getElementFromSelector(c));const E=()=>{if(c.getAttribute("role")!=="tab"){c.classList.remove(mj);return}c.setAttribute("aria-selected",!1),c.setAttribute("tabindex","-1"),this._toggleDropDown(c,!1),hn.trigger(c,cge,{relatedTarget:h})};this._queueCallback(E,c,c.classList.contains(cJ))}_keydown(c){if(![mge,iJ,gge,aJ].includes(c.key))return;c.stopPropagation(),c.preventDefault();const h=[iJ,aJ].includes(c.key),E=AY(this._getChildren().filter(x=>!Dw(x)),c.target,h,!0);E&&(E.focus({preventScroll:!0}),QO.getOrCreateInstance(E).show())}_getChildren(){return Uo.find(pj,this._parent)}_getActiveElem(){return this._getChildren().find(c=>this._elemIsActive(c))||null}_setInitialAttributes(c,h){this._setAttributeIfNotExists(c,"role","tablist");for(const E of h)this._setInitialAttributesOnChild(E)}_setInitialAttributesOnChild(c){c=this._getInnerElement(c);const h=this._elemIsActive(c),E=this._getOuterElement(c);c.setAttribute("aria-selected",h),E!==c&&this._setAttributeIfNotExists(E,"role","presentation"),h||c.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(c,"role","tab"),this._setInitialAttributesOnTargetPanel(c)}_setInitialAttributesOnTargetPanel(c){const h=Uo.getElementFromSelector(c);h&&(this._setAttributeIfNotExists(h,"role","tabpanel"),c.id&&this._setAttributeIfNotExists(h,"aria-labelledby",`${c.id}`))}_toggleDropDown(c,h){const E=this._getOuterElement(c);if(!E.classList.contains(pge))return;const x=(k,D)=>{const V=Uo.findOne(k,E);V&&V.classList.toggle(D,h)};x(vge,o2),x(bge,mj),E.setAttribute("aria-expanded",h)}_setAttributeIfNotExists(c,h,E){c.hasAttribute(h)||c.setAttribute(h,E)}_elemIsActive(c){return c.classList.contains(o2)}_getInnerElement(c){return c.matches(pj)?c:Uo.findOne(pj,c)}_getOuterElement(c){return c.closest(Ege)||c}static jQueryInterface(c){return this.each(function(){const h=QO.getOrCreateInstance(this);if(typeof c=="string"){if(h[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);h[c]()}})}}hn.on(document,dge,Mte,function(a){["A","AREA"].includes(this.tagName)&&a.preventDefault(),!Dw(this)&&QO.getOrCreateInstance(this).show()});hn.on(window,hge,()=>{for(const a of Uo.find(wge))QO.getOrCreateInstance(a)});Tp(QO);const Cge="toast",Tge="bs.toast",Pw=`.${Tge}`,Sge=`mouseover${Pw}`,xge=`mouseout${Pw}`,Age=`focusin${Pw}`,Oge=`focusout${Pw}`,Rge=`hide${Pw}`,Ige=`hidden${Pw}`,Dge=`show${Pw}`,Mge=`shown${Pw}`,kge="fade",lJ="hide",tH="show",nH="showing",Nge={animation:"boolean",autohide:"boolean",delay:"number"},Pge={animation:!0,autohide:!0,delay:5e3};class YH extends Z1{constructor(c,h){super(c,h),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Pge}static get DefaultType(){return Nge}static get NAME(){return Cge}show(){if(hn.trigger(this._element,Dge).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(kge);const h=()=>{this._element.classList.remove(nH),hn.trigger(this._element,Mge),this._maybeScheduleHide()};this._element.classList.remove(lJ),cN(this._element),this._element.classList.add(tH,nH),this._queueCallback(h,this._element,this._config.animation)}hide(){if(!this.isShown()||hn.trigger(this._element,Rge).defaultPrevented)return;const h=()=>{this._element.classList.add(lJ),this._element.classList.remove(nH,tH),hn.trigger(this._element,Ige)};this._element.classList.add(nH),this._queueCallback(h,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(tH),super.dispose()}isShown(){return this._element.classList.contains(tH)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(c,h){switch(c.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=h;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=h;break}}if(h){this._clearTimeout();return}const E=c.relatedTarget;this._element===E||this._element.contains(E)||this._maybeScheduleHide()}_setListeners(){hn.on(this._element,Sge,c=>this._onInteraction(c,!0)),hn.on(this._element,xge,c=>this._onInteraction(c,!1)),hn.on(this._element,Age,c=>this._onInteraction(c,!0)),hn.on(this._element,Oge,c=>this._onInteraction(c,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(c){return this.each(function(){const h=YH.getOrCreateInstance(this,c);if(typeof c=="string"){if(typeof h[c]>"u")throw new TypeError(`No method named "${c}"`);h[c](this)}})}}GH(YH);Tp(YH);
