var JS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nne(a){if(a.__esModule)return a;var c=a.default;if(typeof c=="function"){var h=function y(){if(this instanceof y){var A=[null];A.push.apply(A,arguments);var N=Function.bind.apply(c,A);return new N}return c.apply(this,arguments)};h.prototype=c.prototype}else h={};return Object.defineProperty(h,"__esModule",{value:!0}),Object.keys(a).forEach(function(y){var A=Object.getOwnPropertyDescriptor(a,y);Object.defineProperty(h,y,A.get?A:{enumerable:!0,get:function(){return a[y]}})}),h}var vH={},Mne={get exports(){return vH},set exports(a){vH=a}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(a,c){(function(){var h,y="4.17.21",A=200,N="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",D="Expected a function",U="Invalid `variable` option passed into `_.template`",G="__lodash_hash_undefined__",K=500,Q="__lodash_placeholder__",ie=1,_e=2,ve=4,de=1,fe=2,we=1,De=2,Me=4,oe=8,Be=16,lt=32,F=64,Ee=128,Ze=256,ht=512,Et=30,Ne="...",ge=800,gn=16,wt=1,Ot=2,P=3,Rt=1/0,et=9007199254740991,qt=17976931348623157e292,Vt=0/0,Ge=4294967295,vo=Ge-1,Bo=Ge>>>1,ao=[["ary",Ee],["bind",we],["bindKey",De],["curry",oe],["curryRight",Be],["flip",ht],["partial",lt],["partialRight",F],["rearg",Ze]],Fo="[object Arguments]",Je="[object Array]",It="[object AsyncFunction]",te="[object Boolean]",cs="[object Date]",uo="[object DOMException]",Bt="[object Error]",ps="[object Function]",Xa="[object GeneratorFunction]",kn="[object Map]",ko="[object Number]",Yt="[object Null]",mt="[object Object]",pi="[object Promise]",vi="[object Proxy]",Lt="[object RegExp]",Lr="[object Set]",Ns="[object String]",Pc="[object Symbol]",vs="[object Undefined]",Rr="[object WeakMap]",jc="[object WeakSet]",Ca="[object ArrayBuffer]",nr="[object DataView]",Os="[object Float32Array]",rd="[object Float64Array]",Yr="[object Int8Array]",Ms="[object Int16Array]",fl="[object Int32Array]",Ii="[object Uint8Array]",Zc="[object Uint8ClampedArray]",vr="[object Uint16Array]",$r="[object Uint32Array]",Gd=/\b__p \+= '';/g,bi=/\b(__p \+=) '' \+/g,yh=/(__e\(.*?\)|\b__t\)) \+\n'';/g,an=/&(?:amp|lt|gt|quot|#39);/g,Ho=/[&<>"']/g,ca=RegExp(an.source),pc=RegExp(Ho.source),_h=/<%-([\s\S]+?)%>/g,au=/<%([\s\S]+?)%>/g,ks=/<%=([\s\S]+?)%>/g,id=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qd=/^\w*$/,Xs=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qn=/[\\^$.*+?()[\]{}|]/g,Qa=RegExp(qn.source),Ru=/^\s+/,Yc=/\s/,Eh=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Di=/\{\n\/\* \[wrapped with (.+)\] \*/,Ki=/,? & /,Ur=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Fa=/[()=,{}\[\]\/\s]/,Kc=/\\(\\)?/g,vc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Sa=/\w*$/,Br=/^[-+]0x[0-9a-f]+$/i,bc=/^0b[01]+$/i,hl=/^\[object .+?Constructor\]$/,Bg=/^0o[0-7]+$/i,Fg=/^(?:0|[1-9]\d*)$/,Ll=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Tm=/($^)/,Xe=/['\n\r\u2028\u2029\\]/g,yi="\\ud800-\\udfff",cu="\\u0300-\\u036f",Hg="\\ufe20-\\ufe2f",wh="\\u20d0-\\u20ff",Fs=cu+Hg+wh,jd="\\u2700-\\u27bf",Cm="a-z\\xdf-\\xf6\\xf8-\\xff",Xi="\\xac\\xb1\\xd7\\xf7",Xc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",oi="\\u2000-\\u206f",_i=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",lu="A-Z\\xc0-\\xd6\\xd8-\\xde",Ja="\\ufe0e\\ufe0f",uu=Xi+Xc+oi+_i,$l="['’]",ad="["+yi+"]",Cs="["+uu+"]",si="["+Fs+"]",Qc="\\d+",cd="["+jd+"]",Aa="["+Cm+"]",yc="[^"+yi+uu+Qc+jd+Cm+lu+"]",br="\\ud83c[\\udffb-\\udfff]",ld="(?:"+si+"|"+br+")",du="[^"+yi+"]",bs="(?:\\ud83c[\\udde6-\\uddff]){2}",ec="[\\ud800-\\udbff][\\udc00-\\udfff]",ri="["+lu+"]",Fr="\\u200d",Jc="(?:"+Aa+"|"+yc+")",Iu="(?:"+ri+"|"+yc+")",_c="(?:"+$l+"(?:d|ll|m|re|s|t|ve))?",Lc="(?:"+$l+"(?:D|LL|M|RE|S|T|VE))?",Df=ld+"?",Th="["+Ja+"]?",Vg="(?:"+Fr+"(?:"+[du,bs,ec].join("|")+")"+Th+Df+")*",tc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Du="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ch=Th+Df+Vg,Nu="(?:"+[cd,bs,ec].join("|")+")"+Ch,Nf="(?:"+[du+si+"?",si,bs,ec,ad].join("|")+")",Sm=RegExp($l,"g"),Mu=RegExp(si,"g"),ku=RegExp(br+"(?="+br+")|"+Nf+Ch,"g"),xa=RegExp([ri+"?"+Aa+"+"+_c+"(?="+[Cs,ri,"$"].join("|")+")",Iu+"+"+Lc+"(?="+[Cs,ri+Jc,"$"].join("|")+")",ri+"?"+Jc+"+"+_c,ri+"+"+Lc,Du,tc,Qc,Nu].join("|"),"g"),Ni=RegExp("["+Fr+yi+Fs+Ja+"]"),Pu=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Mf=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ug=-1,Hs={};Hs[Os]=Hs[rd]=Hs[Yr]=Hs[Ms]=Hs[fl]=Hs[Ii]=Hs[Zc]=Hs[vr]=Hs[$r]=!0,Hs[Fo]=Hs[Je]=Hs[Ca]=Hs[te]=Hs[nr]=Hs[cs]=Hs[Bt]=Hs[ps]=Hs[kn]=Hs[ko]=Hs[mt]=Hs[Lt]=Hs[Lr]=Hs[Ns]=Hs[Rr]=!1;var yr={};yr[Fo]=yr[Je]=yr[Ca]=yr[nr]=yr[te]=yr[cs]=yr[Os]=yr[rd]=yr[Yr]=yr[Ms]=yr[fl]=yr[kn]=yr[ko]=yr[mt]=yr[Lt]=yr[Lr]=yr[Ns]=yr[Pc]=yr[Ii]=yr[Zc]=yr[vr]=yr[$r]=!0,yr[Bt]=yr[ps]=yr[Rr]=!1;var nc={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Qi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ml={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},$c={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},co=parseFloat,Do=parseInt,Mi=typeof JS=="object"&&JS&&JS.Object===Object&&JS,Kr=typeof self=="object"&&self&&self.Object===Object&&self,la=Mi||Kr||Function("return this")(),T=c&&!c.nodeType&&c,I=T&&!0&&a&&!a.nodeType&&a,H=I&&I.exports===T,z=H&&Mi.process,X=function(){try{var Qe=I&&I.require&&I.require("util").types;return Qe||z&&z.binding&&z.binding("util")}catch{}}(),re=X&&X.isArrayBuffer,me=X&&X.isDate,pe=X&&X.isMap,ke=X&&X.isRegExp,st=X&&X.isSet,yt=X&&X.isTypedArray;function Kt(Qe,Mt,xt){switch(xt.length){case 0:return Qe.call(Mt);case 1:return Qe.call(Mt,xt[0]);case 2:return Qe.call(Mt,xt[0],xt[1]);case 3:return Qe.call(Mt,xt[0],xt[1],xt[2])}return Qe.apply(Mt,xt)}function ot(Qe,Mt,xt,Un){for(var _o=-1,Vo=Qe==null?0:Qe.length;++_o<Vo;){var Xr=Qe[_o];Mt(Un,Xr,xt(Xr),Qe)}return Un}function Nt(Qe,Mt){for(var xt=-1,Un=Qe==null?0:Qe.length;++xt<Un&&Mt(Qe[xt],xt,Qe)!==!1;);return Qe}function Jn(Qe,Mt){for(var xt=Qe==null?0:Qe.length;xt--&&Mt(Qe[xt],xt,Qe)!==!1;);return Qe}function Zn(Qe,Mt){for(var xt=-1,Un=Qe==null?0:Qe.length;++xt<Un;)if(!Mt(Qe[xt],xt,Qe))return!1;return!0}function Tn(Qe,Mt){for(var xt=-1,Un=Qe==null?0:Qe.length,_o=0,Vo=[];++xt<Un;){var Xr=Qe[xt];Mt(Xr,xt,Qe)&&(Vo[_o++]=Xr)}return Vo}function lr(Qe,Mt){var xt=Qe==null?0:Qe.length;return!!xt&&Bc(Qe,Mt,0)>-1}function Gs(Qe,Mt,xt){for(var Un=-1,_o=Qe==null?0:Qe.length;++Un<_o;)if(xt(Mt,Qe[Un]))return!0;return!1}function ls(Qe,Mt){for(var xt=-1,Un=Qe==null?0:Qe.length,_o=Array(Un);++xt<Un;)_o[xt]=Mt(Qe[xt],xt,Qe);return _o}function Kn(Qe,Mt){for(var xt=-1,Un=Mt.length,_o=Qe.length;++xt<Un;)Qe[_o+xt]=Mt[xt];return Qe}function eo(Qe,Mt,xt,Un){var _o=-1,Vo=Qe==null?0:Qe.length;for(Un&&Vo&&(xt=Qe[++_o]);++_o<Vo;)xt=Mt(xt,Qe[_o],_o,Qe);return xt}function ki(Qe,Mt,xt,Un){var _o=Qe==null?0:Qe.length;for(Un&&_o&&(xt=Qe[--_o]);_o--;)xt=Mt(xt,Qe[_o],_o,Qe);return xt}function xo(Qe,Mt){for(var xt=-1,Un=Qe==null?0:Qe.length;++xt<Un;)if(Mt(Qe[xt],xt,Qe))return!0;return!1}var _r=Oa("length");function Bl(Qe){return Qe.split("")}function Vs(Qe){return Qe.match(Ur)||[]}function ur(Qe,Mt,xt){var Un;return xt(Qe,function(_o,Vo,Xr){if(Mt(_o,Vo,Xr))return Un=Vo,!1}),Un}function Ir(Qe,Mt,xt,Un){for(var _o=Qe.length,Vo=xt+(Un?1:-1);Un?Vo--:++Vo<_o;)if(Mt(Qe[Vo],Vo,Qe))return Vo;return-1}function Bc(Qe,Mt,xt){return Mt===Mt?Ah(Qe,Mt,xt):Ir(Qe,is,xt)}function Ei(Qe,Mt,xt,Un){for(var _o=xt-1,Vo=Qe.length;++_o<Vo;)if(Un(Qe[_o],Mt))return _o;return-1}function is(Qe){return Qe!==Qe}function dr(Qe,Mt){var xt=Qe==null?0:Qe.length;return xt?ho(Qe,Mt)/xt:Vt}function Oa(Qe){return function(Mt){return Mt==null?h:Mt[Qe]}}function kf(Qe){return function(Mt){return Qe==null?h:Qe[Mt]}}function Fc(Qe,Mt,xt,Un,_o){return _o(Qe,function(Vo,Xr,qs){xt=Un?(Un=!1,Vo):Mt(xt,Vo,Xr,qs)}),xt}function Ec(Qe,Mt){var xt=Qe.length;for(Qe.sort(Mt);xt--;)Qe[xt]=Qe[xt].value;return Qe}function ho(Qe,Mt){for(var xt,Un=-1,_o=Qe.length;++Un<_o;){var Vo=Mt(Qe[Un]);Vo!==h&&(xt=xt===h?Vo:xt+Vo)}return xt}function zr(Qe,Mt){for(var xt=-1,Un=Array(Qe);++xt<Qe;)Un[xt]=Mt(xt);return Un}function Pi(Qe,Mt){return ls(Mt,function(xt){return[xt,Qe[xt]]})}function oc(Qe){return Qe&&Qe.slice(0,Oe(Qe)+1).replace(Ru,"")}function Ji(Qe){return function(Mt){return Qe(Mt)}}function fr(Qe,Mt){return ls(Mt,function(xt){return Qe[xt]})}function Ha(Qe,Mt){return Qe.has(Mt)}function Ra(Qe,Mt){for(var xt=-1,Un=Qe.length;++xt<Un&&Bc(Mt,Qe[xt],0)>-1;);return xt}function ud(Qe,Mt){for(var xt=Qe.length;xt--&&Bc(Mt,Qe[xt],0)>-1;);return xt}function Sh(Qe,Mt){for(var xt=Qe.length,Un=0;xt--;)Qe[xt]===Mt&&++Un;return Un}var zg=kf(nc),Fl=kf(Qi);function fu(Qe){return"\\"+$c[Qe]}function Zd(Qe,Mt){return Qe==null?h:Qe[Mt]}function wi(Qe){return Ni.test(Qe)}function dd(Qe){return Pu.test(Qe)}function fd(Qe){for(var Mt,xt=[];!(Mt=Qe.next()).done;)xt.push(Mt.value);return xt}function Lu(Qe){var Mt=-1,xt=Array(Qe.size);return Qe.forEach(function(Un,_o){xt[++Mt]=[_o,Un]}),xt}function sc(Qe,Mt){return function(xt){return Qe(Mt(xt))}}function ua(Qe,Mt){for(var xt=-1,Un=Qe.length,_o=0,Vo=[];++xt<Un;){var Xr=Qe[xt];(Xr===Mt||Xr===Q)&&(Qe[xt]=Q,Vo[_o++]=xt)}return Vo}function hu(Qe){var Mt=-1,xt=Array(Qe.size);return Qe.forEach(function(Un){xt[++Mt]=Un}),xt}function hd(Qe){var Mt=-1,xt=Array(Qe.size);return Qe.forEach(function(Un){xt[++Mt]=[Un,Un]}),xt}function Ah(Qe,Mt,xt){for(var Un=xt-1,_o=Qe.length;++Un<_o;)if(Qe[Un]===Mt)return Un;return-1}function xh(Qe,Mt,xt){for(var Un=xt+1;Un--;)if(Qe[Un]===Mt)return Un;return Un}function ws(Qe){return wi(Qe)?da(Qe):_r(Qe)}function wc(Qe){return wi(Qe)?Oh(Qe):Bl(Qe)}function Oe(Qe){for(var Mt=Qe.length;Mt--&&Yc.test(Qe.charAt(Mt)););return Mt}var rc=kf(ml);function da(Qe){for(var Mt=ku.lastIndex=0;ku.test(Qe);)++Mt;return Mt}function Oh(Qe){return Qe.match(ku)||[]}function md(Qe){return Qe.match(xa)||[]}var o1=function Qe(Mt){Mt=Mt==null?la:ns.defaults(la.Object(),Mt,ns.pick(la,Mf));var xt=Mt.Array,Un=Mt.Date,_o=Mt.Error,Vo=Mt.Function,Xr=Mt.Math,qs=Mt.Object,gd=Mt.RegExp,Tc=Mt.String,Ia=Mt.TypeError,Te=xt.prototype,Pe=Vo.prototype,ze=qs.prototype,Ht=Mt["__core-js_shared__"],ct=Pe.toString,Ct=ze.hasOwnProperty,Xt=0,An=function(){var g=/[^.]+$/.exec(Ht&&Ht.keys&&Ht.keys.IE_PROTO||"");return g?"Symbol(src)_1."+g:""}(),Nn=ze.toString,to=ct.call(qs),bo=la._,so=gd("^"+ct.call(Ct).replace(qn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Zo=H?Mt.Buffer:h,Rs=Mt.Symbol,To=Mt.Uint8Array,Li=Zo?Zo.allocUnsafe:h,$i=sc(qs.getPrototypeOf,qs),Va=qs.create,Qs=ze.propertyIsEnumerable,Hl=Te.splice,Ps=Rs?Rs.isConcatSpreadable:h,es=Rs?Rs.iterator:h,gl=Rs?Rs.toStringTag:h,Am=function(){try{var g=Bh(qs,"defineProperty");return g({},"",{}),g}catch{}}(),s1=Mt.clearTimeout!==la.clearTimeout&&Mt.clearTimeout,Da=Un&&Un.now!==la.Date.now&&Un.now,Yd=Mt.setTimeout!==la.setTimeout&&Mt.setTimeout,Vl=Xr.ceil,el=Xr.floor,Kd=qs.getOwnPropertySymbols,ro=Zo?Zo.isBuffer:h,fa=Mt.isFinite,Rh=Te.join,Ev=sc(qs.keys,qs),ii=Xr.max,ha=Xr.min,$u=Un.now,pl=Mt.parseInt,Na=Xr.random,tl=Te.reverse,ea=Bh(Mt,"DataView"),xm=Bh(Mt,"Map"),us=Bh(Mt,"Promise"),nl=Bh(Mt,"Set"),Ul=Bh(Mt,"WeakMap"),Er=Bh(qs,"create"),Om=Ul&&new Ul,zl={},pd=qf(ea),Js=qf(xm),wr=qf(us),Ua=qf(nl),r1=qf(Ul),Bu=Rs?Rs.prototype:h,Pf=Bu?Bu.valueOf:h,Rm=Bu?Bu.toString:h;function ue(g){if(kt(g)&&!ds(g)&&!(g instanceof Us)){if(g instanceof vl)return g;if(Ct.call(g,"__wrapped__"))return l0(g)}return new vl(g)}var Xd=function(){function g(){}return function(_){if(!Wi(_))return{};if(Va)return Va(_);g.prototype=_;var R=new g;return g.prototype=h,R}}();function Ih(){}function vl(g,_){this.__wrapped__=g,this.__actions__=[],this.__chain__=!!_,this.__index__=0,this.__values__=h}ue.templateSettings={escape:_h,evaluate:au,interpolate:ks,variable:"",imports:{_:ue}},ue.prototype=Ih.prototype,ue.prototype.constructor=ue,vl.prototype=Xd(Ih.prototype),vl.prototype.constructor=vl;function Us(g){this.__wrapped__=g,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ge,this.__views__=[]}function i1(){var g=new Us(this.__wrapped__);return g.__actions__=sl(this.__actions__),g.__dir__=this.__dir__,g.__filtered__=this.__filtered__,g.__iteratees__=sl(this.__iteratees__),g.__takeCount__=this.__takeCount__,g.__views__=sl(this.__views__),g}function Qd(){if(this.__filtered__){var g=new Us(this);g.__dir__=-1,g.__filtered__=!0}else g=this.clone(),g.__dir__*=-1;return g}function a1(){var g=this.__wrapped__.value(),_=this.__dir__,R=ds(g),q=_<0,ce=R?g.length:0,Ae=Fw(0,ce,this.__views__),Fe=Ae.start,qe=Ae.end,gt=qe-Fe,en=q?qe:Fe-1,Jt=this.__iteratees__,mn=Jt.length,$n=0,fo=ha(gt,this.__takeCount__);if(!R||!q&&ce==gt&&fo==gt)return Sl(g,this.__actions__);var Lo=[];e:for(;gt--&&$n<fo;){en+=_;for(var No=-1,Ro=g[en];++No<mn;){var $s=Jt[No],fs=$s.iteratee,ui=$s.type,di=fs(Ro);if(ui==Ot)Ro=di;else if(!di){if(ui==wt)continue e;break e}}Lo[$n++]=Ro}return Lo}Us.prototype=Xd(Ih.prototype),Us.prototype.constructor=Us;function ma(g){var _=-1,R=g==null?0:g.length;for(this.clear();++_<R;){var q=g[_];this.set(q[0],q[1])}}function wv(){this.__data__=Er?Er(null):{},this.size=0}function Im(g){var _=this.has(g)&&delete this.__data__[g];return this.size-=_?1:0,_}function e0(g){var _=this.__data__;if(Er){var R=_[g];return R===G?h:R}return Ct.call(_,g)?_[g]:h}function Fu(g){var _=this.__data__;return Er?_[g]!==h:Ct.call(_,g)}function c1(g,_){var R=this.__data__;return this.size+=this.has(g)?0:1,R[g]=Er&&_===h?G:_,this}ma.prototype.clear=wv,ma.prototype.delete=Im,ma.prototype.get=e0,ma.prototype.has=Fu,ma.prototype.set=c1;function za(g){var _=-1,R=g==null?0:g.length;for(this.clear();++_<R;){var q=g[_];this.set(q[0],q[1])}}function Lf(){this.__data__=[],this.size=0}function t0(g){var _=this.__data__,R=bd(_,g);if(R<0)return!1;var q=_.length-1;return R==q?_.pop():Hl.call(_,R,1),--this.size,!0}function Wg(g){var _=this.__data__,R=bd(_,g);return R<0?h:_[R][1]}function $f(g){return bd(this.__data__,g)>-1}function Tv(g,_){var R=this.__data__,q=bd(R,g);return q<0?(++this.size,R.push([g,_])):R[q][1]=_,this}za.prototype.clear=Lf,za.prototype.delete=t0,za.prototype.get=Wg,za.prototype.has=$f,za.prototype.set=Tv;function Hu(g){var _=-1,R=g==null?0:g.length;for(this.clear();++_<R;){var q=g[_];this.set(q[0],q[1])}}function Qr(){this.size=0,this.__data__={hash:new ma,map:new(xm||za),string:new ma}}function Gg(g){var _=wd(this,g).delete(g);return this.size-=_?1:0,_}function ai(g){return wd(this,g).get(g)}function ga(g){return wd(this,g).has(g)}function Pn(g,_){var R=wd(this,g),q=R.size;return R.set(g,_),this.size+=R.size==q?0:1,this}Hu.prototype.clear=Qr,Hu.prototype.delete=Gg,Hu.prototype.get=ai,Hu.prototype.has=ga,Hu.prototype.set=Pn;function nn(g){var _=-1,R=g==null?0:g.length;for(this.__data__=new Hu;++_<R;)this.add(g[_])}function Dm(g){return this.__data__.set(g,G),this}function bl(g){return this.__data__.has(g)}nn.prototype.add=nn.prototype.push=Dm,nn.prototype.has=bl;function yl(g){var _=this.__data__=new za(g);this.size=_.size}function qg(){this.__data__=new za,this.size=0}function _l(g){var _=this.__data__,R=_.delete(g);return this.size=_.size,R}function ol(g){return this.__data__.get(g)}function Vu(g){return this.__data__.has(g)}function Dr(g,_){var R=this.__data__;if(R instanceof za){var q=R.__data__;if(!xm||q.length<A-1)return q.push([g,_]),this.size=++R.size,this;R=this.__data__=new Hu(q)}return R.set(g,_),this.size=R.size,this}yl.prototype.clear=qg,yl.prototype.delete=_l,yl.prototype.get=ol,yl.prototype.has=Vu,yl.prototype.set=Dr;function vd(g,_){var R=ds(g),q=!R&&Jf(g),ce=!R&&!q&&Ad(g),Ae=!R&&!q&&!ce&&Ic(g),Fe=R||q||ce||Ae,qe=Fe?zr(g.length,Tc):[],gt=qe.length;for(var en in g)(_||Ct.call(g,en))&&!(Fe&&(en=="length"||ce&&(en=="offset"||en=="parent")||Ae&&(en=="buffer"||en=="byteLength"||en=="byteOffset")||lf(en,gt)))&&qe.push(en);return qe}function Dh(g){var _=g.length;return _?g[Ff(0,_-1)]:h}function Ut(g,_){return qm(sl(g),Jr(_,0,g.length))}function n0(g){return qm(sl(g))}function Nm(g,_,R){(R!==h&&!Is(g[_],R)||R===h&&!(_ in g))&&ts(g,_,R)}function Wa(g,_,R){var q=g[_];(!(Ct.call(g,_)&&Is(q,R))||R===h&&!(_ in g))&&ts(g,_,R)}function bd(g,_){for(var R=g.length;R--;)if(Is(g[R][0],_))return R;return-1}function Jd(g,_,R,q){return Wl(g,function(ce,Ae,Fe){_(q,ce,R(ce),Fe)}),q}function hr(g,_){return g&&zu(_,fc(_),g)}function jg(g,_){return g&&zu(_,Ql(_),g)}function ts(g,_,R){_=="__proto__"&&Am?Am(g,_,{configurable:!0,enumerable:!0,value:R,writable:!0}):g[_]=R}function Po(g,_){for(var R=-1,q=_.length,ce=xt(q),Ae=g==null;++R<q;)ce[R]=Ae?h:L1(g,_[R]);return ce}function Jr(g,_,R){return g===g&&(R!==h&&(g=g<=R?g:R),_!==h&&(g=g>=_?g:_)),g}function Cc(g,_,R,q,ce,Ae){var Fe,qe=_&ie,gt=_&_e,en=_&ve;if(R&&(Fe=ce?R(g,q,ce,Ae):R(g)),Fe!==h)return Fe;if(!Wi(g))return g;var Jt=ds(g);if(Jt){if(Fe=_n(g),!qe)return sl(g,Fe)}else{var mn=cc(g),$n=mn==ps||mn==Xa;if(Ad(g))return Mv(g,qe);if(mn==mt||mn==Fo||$n&&!ce){if(Fe=gt||$n?{}:Bv(g),!qe)return gt?sf(g,jg(Fe,g)):Uf(g,hr(Fe,g))}else{if(!yr[mn])return ce?g:{};Fe=v_(g,mn,qe)}}Ae||(Ae=new yl);var fo=Ae.get(g);if(fo)return fo;Ae.set(g,Fe),xd(g)?g.forEach(function(Ro){Fe.add(Cc(Ro,_,R,Ro,g,Ae))}):F_(g)&&g.forEach(function(Ro,$s){Fe.set($s,Cc(Ro,_,R,$s,g,Ae))});var Lo=en?gt?Ac:Tr:gt?Ql:fc,No=Jt?h:Lo(g);return Nt(No||g,function(Ro,$s){No&&($s=Ro,Ro=g[$s]),Wa(Fe,$s,Cc(Ro,_,R,$s,g,Ae))}),Fe}function or(g){var _=fc(g);return function(R){return ef(R,g,_)}}function ef(g,_,R){var q=R.length;if(g==null)return!q;for(g=qs(g);q--;){var ce=R[q],Ae=_[ce],Fe=g[ce];if(Fe===h&&!(ce in g)||!Ae(Fe))return!1}return!0}function jr(g,_,R){if(typeof g!="function")throw new Ia(D);return Hh(function(){g.apply(h,R)},_)}function ys(g,_,R,q){var ce=-1,Ae=lr,Fe=!0,qe=g.length,gt=[],en=_.length;if(!qe)return gt;R&&(_=ls(_,Ji(R))),q?(Ae=Gs,Fe=!1):_.length>=A&&(Ae=Ha,Fe=!1,_=new nn(_));e:for(;++ce<qe;){var Jt=g[ce],mn=R==null?Jt:R(Jt);if(Jt=q||Jt!==0?Jt:0,Fe&&mn===mn){for(var $n=en;$n--;)if(_[$n]===mn)continue e;gt.push(Jt)}else Ae(_,mn,q)||gt.push(Jt)}return gt}var Wl=Jg(ac),At=Jg(Zg,!0);function El(g,_){var R=!0;return Wl(g,function(q,ce,Ae){return R=!!_(q,ce,Ae),R}),R}function Bf(g,_,R){for(var q=-1,ce=g.length;++q<ce;){var Ae=g[q],Fe=_(Ae);if(Fe!=null&&(qe===h?Fe===Fe&&!al(Fe):R(Fe,qe)))var qe=Fe,gt=Ae}return gt}function Wr(g,_,R,q){var ce=g.length;for(R=_s(R),R<0&&(R=-R>ce?0:ce+R),q=q===h||q>ce?ce:_s(q),q<0&&(q+=ce),q=R>q?0:eg(q);R<q;)g[R++]=_;return g}function Gl(g,_){var R=[];return Wl(g,function(q,ce,Ae){_(q,ce,Ae)&&R.push(q)}),R}function Ga(g,_,R,q,ce){var Ae=-1,Fe=g.length;for(R||(R=c0),ce||(ce=[]);++Ae<Fe;){var qe=g[Ae];_>0&&R(qe)?_>1?Ga(qe,_-1,R,q,ce):Kn(ce,qe):q||(ce[ce.length]=qe)}return ce}var ic=h1(),Mm=h1(!0);function ac(g,_){return g&&ic(g,_,fc)}function Zg(g,_){return g&&Mm(g,_,fc)}function Bi(g,_){return Tn(_,function(R){return yn(g[R])})}function Yo(g,_){_=mr(_,g);for(var R=0,q=_.length;g!=null&&R<q;)g=g[uc(_[R++])];return R&&R==q?g:h}function Le(g,_,R){var q=_(g);return ds(g)?q:Kn(q,R(g))}function $(g){return g==null?g===h?vs:Yt:gl&&gl in qs(g)?Gf(g):Fv(g)}function ae(g,_){return g>_}function He(g,_){return g!=null&&Ct.call(g,_)}function Ft(g,_){return g!=null&&_ in qs(g)}function In(g,_,R){return g>=ha(_,R)&&g<ii(_,R)}function dn(g,_,R){for(var q=R?Gs:lr,ce=g[0].length,Ae=g.length,Fe=Ae,qe=xt(Ae),gt=1/0,en=[];Fe--;){var Jt=g[Fe];Fe&&_&&(Jt=ls(Jt,Ji(_))),gt=ha(Jt.length,gt),qe[Fe]=!R&&(_||ce>=120&&Jt.length>=120)?new nn(Fe&&Jt):h}Jt=g[0];var mn=-1,$n=qe[0];e:for(;++mn<ce&&en.length<gt;){var fo=Jt[mn],Lo=_?_(fo):fo;if(fo=R||fo!==0?fo:0,!($n?Ha($n,Lo):q(en,Lo,R))){for(Fe=Ae;--Fe;){var No=qe[Fe];if(!(No?Ha(No,Lo):q(g[Fe],Lo,R)))continue e}$n&&$n.push(Lo),en.push(fo)}}return en}function Ko(g,_,R,q){return ac(g,function(ce,Ae,Fe){_(q,R(ce),Ae,Fe)}),q}function We(g,_,R){_=mr(_,g),g=b1(g,_);var q=g==null?g:g[uc(Ls(_))];return q==null?h:Kt(q,g,R)}function Gr(g){return kt(g)&&$(g)==Fo}function ci(g){return kt(g)&&$(g)==Ca}function ta(g){return kt(g)&&$(g)==cs}function Hr(g,_,R,q,ce){return g===_?!0:g==null||_==null||!kt(g)&&!kt(_)?g!==g&&_!==_:li(g,_,R,q,Hr,ce)}function li(g,_,R,q,ce,Ae){var Fe=ds(g),qe=ds(_),gt=Fe?Je:cc(g),en=qe?Je:cc(_);gt=gt==Fo?mt:gt,en=en==Fo?mt:en;var Jt=gt==mt,mn=en==mt,$n=gt==en;if($n&&Ad(g)){if(!Ad(_))return!1;Fe=!0,Jt=!1}if($n&&!Jt)return Ae||(Ae=new yl),Fe||Ic(g)?np(g,_,R,q,ce,Ae):Hm(g,_,gt,R,q,ce,Ae);if(!(R&de)){var fo=Jt&&Ct.call(g,"__wrapped__"),Lo=mn&&Ct.call(_,"__wrapped__");if(fo||Lo){var No=fo?g.value():g,Ro=Lo?_.value():_;return Ae||(Ae=new yl),ce(No,Ro,R,q,Ae)}}return $n?(Ae||(Ae=new yl),a0(g,_,R,q,ce,Ae)):!1}function Ti(g){return kt(g)&&cc(g)==kn}function tf(g,_,R,q){var ce=R.length,Ae=ce,Fe=!q;if(g==null)return!Ae;for(g=qs(g);ce--;){var qe=R[ce];if(Fe&&qe[2]?qe[1]!==g[qe[0]]:!(qe[0]in g))return!1}for(;++ce<Ae;){qe=R[ce];var gt=qe[0],en=g[gt],Jt=qe[1];if(Fe&&qe[2]){if(en===h&&!(gt in g))return!1}else{var mn=new yl;if(q)var $n=q(en,Jt,gt,g,_,mn);if(!($n===h?Hr(Jt,en,de|fe,q,mn):$n))return!1}}return!0}function l1(g){if(!Wi(g)||zm(g))return!1;var _=yn(g)?so:hl;return _.test(qf(g))}function Nh(g){return kt(g)&&$(g)==Lt}function Wn(g){return kt(g)&&cc(g)==Lr}function Yg(g){return kt(g)&&N1(g.length)&&!!Hs[$(g)]}function mu(g){return typeof g=="function"?g:g==null?Jl:typeof g=="object"?ds(g)?Uu(g[0],g[1]):km(g):Z0(g)}function Ma(g){if(!rp(g))return Ev(g);var _=[];for(var R in qs(g))Ct.call(g,R)&&R!="constructor"&&_.push(R);return _}function Cv(g){if(!Wi(g))return b_(g);var _=rp(g),R=[];for(var q in g)q=="constructor"&&(_||!Ct.call(g,q))||R.push(q);return R}function yd(g,_){return g<_}function f_(g,_){var R=-1,q=Gc(g)?xt(g.length):[];return Wl(g,function(ce,Ae,Fe){q[++R]=_(ce,Ae,Fe)}),q}function km(g){var _=v1(g);return _.length==1&&_[0][2]?Wm(_[0][0],_[0][1]):function(R){return R===g||tf(R,g,_)}}function Uu(g,_){return qu(g)&&ip(_)?Wm(uc(g),_):function(R){var q=L1(R,g);return q===h&&q===_?ib(R,g):Hr(_,q,de|fe)}}function Sc(g,_,R,q,ce){g!==_&&ic(_,function(Ae,Fe){if(ce||(ce=new yl),Wi(Ae))wl(g,_,Fe,R,Sc,q,ce);else{var qe=q?q(xc(g,Fe),Ae,Fe+"",g,_,ce):h;qe===h&&(qe=Ae),Nm(g,Fe,qe)}},Ql)}function wl(g,_,R,q,ce,Ae,Fe){var qe=xc(g,R),gt=xc(_,R),en=Fe.get(gt);if(en){Nm(g,R,en);return}var Jt=Ae?Ae(qe,gt,R+"",g,_,Fe):h,mn=Jt===h;if(mn){var $n=ds(gt),fo=!$n&&Ad(gt),Lo=!$n&&!fo&&Ic(gt);Jt=gt,$n||fo||Lo?ds(qe)?Jt=qe:zi(qe)?Jt=sl(qe):fo?(mn=!1,Jt=Mv(gt,!0)):Lo?(mn=!1,Jt=kv(gt,!0)):Jt=[]:il(gt)||Jf(gt)?(Jt=qe,Jf(qe)?Jt=z_(qe):(!Wi(qe)||yn(qe))&&(Jt=Bv(gt))):mn=!1}mn&&(Fe.set(gt,Jt),ce(Jt,gt,q,Ae,Fe),Fe.delete(gt)),Nm(g,R,Jt)}function Sv(g,_){var R=g.length;if(R)return _+=_<0?R:0,lf(_,R)?g[_]:h}function h_(g,_,R){_.length?_=ls(_,function(Ae){return ds(Ae)?function(Fe){return Yo(Fe,Ae.length===1?Ae[0]:Ae)}:Ae}):_=[Jl];var q=-1;_=ls(_,Ji(Oo()));var ce=f_(g,function(Ae,Fe,qe){var gt=ls(_,function(en){return en(Ae)});return{criteria:gt,index:++q,value:Ae}});return Ec(ce,function(Ae,Fe){return f1(Ae,Fe,R)})}function _d(g,_){return u1(g,_,function(R,q){return ib(g,q)})}function u1(g,_,R){for(var q=-1,ce=_.length,Ae={};++q<ce;){var Fe=_[q],qe=Yo(g,Fe);R(qe,Fe)&&ql(Ae,mr(Fe,g),qe)}return Ae}function Av(g){return function(_){return Yo(_,g)}}function Pm(g,_,R,q){var ce=q?Ei:Bc,Ae=-1,Fe=_.length,qe=g;for(g===_&&(_=sl(_)),R&&(qe=ls(g,Ji(R)));++Ae<Fe;)for(var gt=0,en=_[Ae],Jt=R?R(en):en;(gt=ce(qe,Jt,gt,q))>-1;)qe!==g&&Hl.call(qe,gt,1),Hl.call(g,gt,1);return g}function Kg(g,_){for(var R=g?_.length:0,q=R-1;R--;){var ce=_[R];if(R==q||ce!==Ae){var Ae=ce;lf(ce)?Hl.call(g,ce,1):Rv(g,ce)}}return g}function Ff(g,_){return g+el(Na()*(_-g+1))}function xv(g,_,R,q){for(var ce=-1,Ae=ii(Vl((_-g)/(R||1)),0),Fe=xt(Ae);Ae--;)Fe[q?Ae:++ce]=g,g+=R;return Fe}function Ov(g,_){var R="";if(!g||_<1||_>et)return R;do _%2&&(R+=g),_=el(_/2),_&&(g+=g);while(_);return R}function Ss(g,_){return Hv(Fh(g,_,Jl),g+"")}function o0(g){return Dh(Od(g))}function pa(g,_){var R=Od(g);return qm(R,Jr(_,0,R.length))}function ql(g,_,R,q){if(!Wi(g))return g;_=mr(_,g);for(var ce=-1,Ae=_.length,Fe=Ae-1,qe=g;qe!=null&&++ce<Ae;){var gt=uc(_[ce]),en=R;if(gt==="__proto__"||gt==="constructor"||gt==="prototype")return g;if(ce!=Fe){var Jt=qe[gt];en=q?q(Jt,gt,qe):h,en===h&&(en=Wi(Jt)?Jt:lf(_[ce+1])?[]:{})}Wa(qe,gt,en),qe=qe[gt]}return g}var Lm=Om?function(g,_){return Om.set(g,_),g}:Jl,Mh=Am?function(g,_){return Am(g,"toString",{configurable:!0,enumerable:!1,value:ig(_),writable:!0})}:Jl;function m_(g){return qm(Od(g))}function Fi(g,_,R){var q=-1,ce=g.length;_<0&&(_=-_>ce?0:ce+_),R=R>ce?ce:R,R<0&&(R+=ce),ce=_>R?0:R-_>>>0,_>>>=0;for(var Ae=xt(ce);++q<ce;)Ae[q]=g[q+_];return Ae}function Tl(g,_){var R;return Wl(g,function(q,ce,Ae){return R=_(q,ce,Ae),!R}),!!R}function kh(g,_,R){var q=0,ce=g==null?q:g.length;if(typeof _=="number"&&_===_&&ce<=Bo){for(;q<ce;){var Ae=q+ce>>>1,Fe=g[Ae];Fe!==null&&!al(Fe)&&(R?Fe<=_:Fe<_)?q=Ae+1:ce=Ae}return ce}return Ph(g,_,Jl,R)}function Ph(g,_,R,q){var ce=0,Ae=g==null?0:g.length;if(Ae===0)return 0;_=R(_);for(var Fe=_!==_,qe=_===null,gt=al(_),en=_===h;ce<Ae;){var Jt=el((ce+Ae)/2),mn=R(g[Jt]),$n=mn!==h,fo=mn===null,Lo=mn===mn,No=al(mn);if(Fe)var Ro=q||Lo;else en?Ro=Lo&&(q||$n):qe?Ro=Lo&&$n&&(q||!fo):gt?Ro=Lo&&$n&&!fo&&(q||!No):fo||No?Ro=!1:Ro=q?mn<=_:mn<_;Ro?ce=Jt+1:Ae=Jt}return ha(Ae,vo)}function nf(g,_){for(var R=-1,q=g.length,ce=0,Ae=[];++R<q;){var Fe=g[R],qe=_?_(Fe):Fe;if(!R||!Is(qe,gt)){var gt=qe;Ae[ce++]=Fe===0?0:Fe}}return Ae}function Hf(g){return typeof g=="number"?g:al(g)?Vt:+g}function Cl(g){if(typeof g=="string")return g;if(ds(g))return ls(g,Cl)+"";if(al(g))return Rm?Rm.call(g):"";var _=g+"";return _=="0"&&1/g==-Rt?"-0":_}function na(g,_,R){var q=-1,ce=lr,Ae=g.length,Fe=!0,qe=[],gt=qe;if(R)Fe=!1,ce=Gs;else if(Ae>=A){var en=_?null:Dt(g);if(en)return hu(en);Fe=!1,ce=Ha,gt=new nn}else gt=_?[]:qe;e:for(;++q<Ae;){var Jt=g[q],mn=_?_(Jt):Jt;if(Jt=R||Jt!==0?Jt:0,Fe&&mn===mn){for(var $n=gt.length;$n--;)if(gt[$n]===mn)continue e;_&&gt.push(mn),qe.push(Jt)}else ce(gt,mn,R)||(gt!==qe&&gt.push(mn),qe.push(Jt))}return qe}function Rv(g,_){return _=mr(_,g),g=b1(g,_),g==null||delete g[uc(Ls(_))]}function Hc(g,_,R,q){return ql(g,_,R(Yo(g,_)),q)}function jl(g,_,R,q){for(var ce=g.length,Ae=q?ce:-1;(q?Ae--:++Ae<ce)&&_(g[Ae],Ae,g););return R?Fi(g,q?0:Ae,q?Ae+1:ce):Fi(g,q?Ae+1:0,q?ce:Ae)}function Sl(g,_){var R=g;return R instanceof Us&&(R=R.value()),eo(_,function(q,ce){return ce.func.apply(ce.thisArg,Kn([q],ce.args))},R)}function Xg(g,_,R){var q=g.length;if(q<2)return q?na(g[0]):[];for(var ce=-1,Ae=xt(q);++ce<q;)for(var Fe=g[ce],qe=-1;++qe<q;)qe!=ce&&(Ae[ce]=ys(Ae[ce]||Fe,g[qe],_,R));return na(Ga(Ae,1),_,R)}function Lh(g,_,R){for(var q=-1,ce=g.length,Ae=_.length,Fe={};++q<ce;){var qe=q<Ae?_[q]:h;R(Fe,g[q],qe)}return Fe}function Iv(g){return zi(g)?g:[]}function s0(g){return typeof g=="function"?g:Jl}function mr(g,_){return ds(g)?g:qu(g,_)?[g]:jm(Mr(g))}var Dv=Ss;function Vc(g,_,R){var q=g.length;return R=R===h?q:R,!_&&R>=q?g:Fi(g,_,R)}var Nv=s1||function(g){return la.clearTimeout(g)};function Mv(g,_){if(_)return g.slice();var R=g.length,q=Li?Li(R):new g.constructor(R);return g.copy(q),q}function Vf(g){var _=new g.constructor(g.byteLength);return new To(_).set(new To(g)),_}function zs(g,_){var R=_?Vf(g.buffer):g.buffer;return new g.constructor(R,g.byteOffset,g.byteLength)}function of(g){var _=new g.constructor(g.source,Sa.exec(g));return _.lastIndex=g.lastIndex,_}function d1(g){return Pf?qs(Pf.call(g)):{}}function kv(g,_){var R=_?Vf(g.buffer):g.buffer;return new g.constructor(R,g.byteOffset,g.length)}function $m(g,_){if(g!==_){var R=g!==h,q=g===null,ce=g===g,Ae=al(g),Fe=_!==h,qe=_===null,gt=_===_,en=al(_);if(!qe&&!en&&!Ae&&g>_||Ae&&Fe&&gt&&!qe&&!en||q&&Fe&&gt||!R&&gt||!ce)return 1;if(!q&&!Ae&&!en&&g<_||en&&R&&ce&&!q&&!Ae||qe&&R&&ce||!Fe&&ce||!gt)return-1}return 0}function f1(g,_,R){for(var q=-1,ce=g.criteria,Ae=_.criteria,Fe=ce.length,qe=R.length;++q<Fe;){var gt=$m(ce[q],Ae[q]);if(gt){if(q>=qe)return gt;var en=R[q];return gt*(en=="desc"?-1:1)}}return g.index-_.index}function Qg(g,_,R,q){for(var ce=-1,Ae=g.length,Fe=R.length,qe=-1,gt=_.length,en=ii(Ae-Fe,0),Jt=xt(gt+en),mn=!q;++qe<gt;)Jt[qe]=_[qe];for(;++ce<Fe;)(mn||ce<Ae)&&(Jt[R[ce]]=g[ce]);for(;en--;)Jt[qe++]=g[ce++];return Jt}function g_(g,_,R,q){for(var ce=-1,Ae=g.length,Fe=-1,qe=R.length,gt=-1,en=_.length,Jt=ii(Ae-qe,0),mn=xt(Jt+en),$n=!q;++ce<Jt;)mn[ce]=g[ce];for(var fo=ce;++gt<en;)mn[fo+gt]=_[gt];for(;++Fe<qe;)($n||ce<Ae)&&(mn[fo+R[Fe]]=g[ce++]);return mn}function sl(g,_){var R=-1,q=g.length;for(_||(_=xt(q));++R<q;)_[R]=g[R];return _}function zu(g,_,R,q){var ce=!R;R||(R={});for(var Ae=-1,Fe=_.length;++Ae<Fe;){var qe=_[Ae],gt=q?q(R[qe],g[qe],qe,R,g):h;gt===h&&(gt=g[qe]),ce?ts(R,qe,gt):Wa(R,qe,gt)}return R}function Uf(g,_){return zu(g,cf(g),_)}function sf(g,_){return zu(g,Gu(g),_)}function Wu(g,_){return function(R,q){var ce=ds(R)?ot:Jd,Ae=_?_():{};return ce(R,g,Oo(q,2),Ae)}}function gu(g){return Ss(function(_,R){var q=-1,ce=R.length,Ae=ce>1?R[ce-1]:h,Fe=ce>2?R[2]:h;for(Ae=g.length>3&&typeof Ae=="function"?(ce--,Ae):h,Fe&&Uc(R[0],R[1],Fe)&&(Ae=ce<3?h:Ae,ce=1),_=qs(_);++q<ce;){var qe=R[q];qe&&g(_,qe,q,Ae)}return _})}function Jg(g,_){return function(R,q){if(R==null)return R;if(!Gc(R))return g(R,q);for(var ce=R.length,Ae=_?ce:-1,Fe=qs(R);(_?Ae--:++Ae<ce)&&q(Fe[Ae],Ae,Fe)!==!1;);return R}}function h1(g){return function(_,R,q){for(var ce=-1,Ae=qs(_),Fe=q(_),qe=Fe.length;qe--;){var gt=Fe[g?qe:++ce];if(R(Ae[gt],gt,Ae)===!1)break}return _}}function zf(g,_,R){var q=_&we,ce=Fm(g);function Ae(){var Fe=this&&this!==la&&this instanceof Ae?ce:g;return Fe.apply(q?R:this,arguments)}return Ae}function r0(g){return function(_){_=Mr(_);var R=wi(_)?wc(_):h,q=R?R[0]:_.charAt(0),ce=R?Vc(R,1).join(""):_.slice(1);return q[g]()+ce}}function Bm(g){return function(_){return eo(W0(B0(_).replace(Sm,"")),g,"")}}function Fm(g){return function(){var _=arguments;switch(_.length){case 0:return new g;case 1:return new g(_[0]);case 2:return new g(_[0],_[1]);case 3:return new g(_[0],_[1],_[2]);case 4:return new g(_[0],_[1],_[2],_[3]);case 5:return new g(_[0],_[1],_[2],_[3],_[4]);case 6:return new g(_[0],_[1],_[2],_[3],_[4],_[5]);case 7:return new g(_[0],_[1],_[2],_[3],_[4],_[5],_[6])}var R=Xd(g.prototype),q=g.apply(R,_);return Wi(q)?q:R}}function p_(g,_,R){var q=Fm(g);function ce(){for(var Ae=arguments.length,Fe=xt(Ae),qe=Ae,gt=Um(ce);qe--;)Fe[qe]=arguments[qe];var en=Ae<3&&Fe[0]!==gt&&Fe[Ae-1]!==gt?[]:ua(Fe,gt);if(Ae-=en.length,Ae<R)return Pv(g,_,Mn,ce.placeholder,h,Fe,en,h,h,R-Ae);var Jt=this&&this!==la&&this instanceof ce?q:g;return Kt(Jt,this,Fe)}return ce}function ep(g){return function(_,R,q){var ce=qs(_);if(!Gc(_)){var Ae=Oo(R,3);_=fc(_),R=function(qe){return Ae(ce[qe],qe,ce)}}var Fe=g(_,R,q);return Fe>-1?ce[Ae?_[Fe]:Fe]:h}}function ss(g){return qa(function(_){var R=_.length,q=R,ce=vl.prototype.thru;for(g&&_.reverse();q--;){var Ae=_[q];if(typeof Ae!="function")throw new Ia(D);if(ce&&!Fe&&Zl(Ae)=="wrapper")var Fe=new vl([],!0)}for(q=Fe?q:R;++q<R;){Ae=_[q];var qe=Zl(Ae),gt=qe=="wrapper"?Vm(Ae):h;gt&&sp(gt[0])&&gt[1]==(Ee|oe|lt|Ze)&&!gt[4].length&&gt[9]==1?Fe=Fe[Zl(gt[0])].apply(Fe,gt[3]):Fe=Ae.length==1&&sp(Ae)?Fe[qe]():Fe.thru(Ae)}return function(){var en=arguments,Jt=en[0];if(Fe&&en.length==1&&ds(Jt))return Fe.plant(Jt).value();for(var mn=0,$n=R?_[mn].apply(this,en):Jt;++mn<R;)$n=_[mn].call(this,$n);return $n}})}function Mn(g,_,R,q,ce,Ae,Fe,qe,gt,en){var Jt=_&Ee,mn=_&we,$n=_&De,fo=_&(oe|Be),Lo=_&ht,No=$n?h:Fm(g);function Ro(){for(var $s=arguments.length,fs=xt($s),ui=$s;ui--;)fs[ui]=arguments[ui];if(fo)var di=Um(Ro),ei=Sh(fs,di);if(q&&(fs=Qg(fs,q,ce,fo)),Ae&&(fs=g_(fs,Ae,Fe,fo)),$s-=ei,fo&&$s<en){var Zr=ua(fs,di);return Pv(g,_,Mn,Ro.placeholder,R,fs,Zr,qe,gt,en-$s)}var Nc=mn?R:this,Ws=$n?Nc[g]:g;return $s=fs.length,qe?fs=Al(fs,qe):Lo&&$s>1&&fs.reverse(),Jt&&gt<$s&&(fs.length=gt),this&&this!==la&&this instanceof Ro&&(Ws=No||Fm(Ws)),Ws.apply(Nc,fs)}return Ro}function rf(g,_){return function(R,q){return Ko(R,g,_(q),{})}}function af(g,_){return function(R,q){var ce;if(R===h&&q===h)return _;if(R!==h&&(ce=R),q!==h){if(ce===h)return q;typeof R=="string"||typeof q=="string"?(R=Cl(R),q=Cl(q)):(R=Hf(R),q=Hf(q)),ce=g(R,q)}return ce}}function tp(g){return qa(function(_){return _=ls(_,Ji(Oo())),Ss(function(R){var q=this;return g(_,function(ce){return Kt(ce,q,R)})})})}function m1(g,_){_=_===h?" ":Cl(_);var R=_.length;if(R<2)return R?Ov(_,g):_;var q=Ov(_,Vl(g/ws(_)));return wi(_)?Vc(wc(q),0,g).join(""):q.slice(0,g)}function i0(g,_,R,q){var ce=_&we,Ae=Fm(g);function Fe(){for(var qe=-1,gt=arguments.length,en=-1,Jt=q.length,mn=xt(Jt+gt),$n=this&&this!==la&&this instanceof Fe?Ae:g;++en<Jt;)mn[en]=q[en];for(;gt--;)mn[en++]=arguments[++qe];return Kt($n,ce?R:this,mn)}return Fe}function js(g){return function(_,R,q){return q&&typeof q!="number"&&Uc(_,R,q)&&(R=q=h),_=eh(_),R===h?(R=_,_=0):R=eh(R),q=q===h?_<R?1:-1:eh(q),xv(_,R,q,g)}}function g1(g){return function(_,R){return typeof _=="string"&&typeof R=="string"||(_=gr(_),R=gr(R)),g(_,R)}}function Pv(g,_,R,q,ce,Ae,Fe,qe,gt,en){var Jt=_&oe,mn=Jt?Fe:h,$n=Jt?h:Fe,fo=Jt?Ae:h,Lo=Jt?h:Ae;_|=Jt?lt:F,_&=~(Jt?F:lt),_&Me||(_&=~(we|De));var No=[g,_,ce,fo,mn,Lo,$n,qe,gt,en],Ro=R.apply(h,No);return sp(g)&&uf(Ro,No),Ro.placeholder=q,cp(Ro,g,_)}function Lv(g){var _=Xr[g];return function(R,q){if(R=gr(R),q=q==null?0:ha(_s(q),292),q&&fa(R)){var ce=(Mr(R)+"e").split("e"),Ae=_(ce[0]+"e"+(+ce[1]+q));return ce=(Mr(Ae)+"e").split("e"),+(ce[0]+"e"+(+ce[1]-q))}return _(R)}}var Dt=nl&&1/hu(new nl([,-0]))[1]==Rt?function(g){return new nl(g)}:Pa;function $v(g){return function(_){var R=cc(_);return R==kn?Lu(_):R==Lr?hd(_):Pi(_,g(_))}}function Ed(g,_,R,q,ce,Ae,Fe,qe){var gt=_&De;if(!gt&&typeof g!="function")throw new Ia(D);var en=q?q.length:0;if(en||(_&=~(lt|F),q=ce=h),Fe=Fe===h?Fe:ii(_s(Fe),0),qe=qe===h?qe:_s(qe),en-=ce?ce.length:0,_&F){var Jt=q,mn=ce;q=ce=h}var $n=gt?h:Vm(g),fo=[g,_,R,q,ce,Jt,mn,Ae,Fe,qe];if($n&&Gm(fo,$n),g=fo[0],_=fo[1],R=fo[2],q=fo[3],ce=fo[4],qe=fo[9]=fo[9]===h?gt?0:g.length:ii(fo[9]-en,0),!qe&&_&(oe|Be)&&(_&=~(oe|Be)),!_||_==we)var Lo=zf(g,_,R);else _==oe||_==Be?Lo=p_(g,_,qe):(_==lt||_==(we|lt))&&!ce.length?Lo=i0(g,_,R,q):Lo=Mn.apply(h,fo);var No=$n?Lm:uf;return cp(No(Lo,fo),g,_)}function $h(g,_,R,q){return g===h||Is(g,ze[R])&&!Ct.call(q,R)?_:g}function p1(g,_,R,q,ce,Ae){return Wi(g)&&Wi(_)&&(Ae.set(_,g),Sc(g,_,h,p1,Ae),Ae.delete(_)),g}function Wf(g){return il(g)?h:g}function np(g,_,R,q,ce,Ae){var Fe=R&de,qe=g.length,gt=_.length;if(qe!=gt&&!(Fe&&gt>qe))return!1;var en=Ae.get(g),Jt=Ae.get(_);if(en&&Jt)return en==_&&Jt==g;var mn=-1,$n=!0,fo=R&fe?new nn:h;for(Ae.set(g,_),Ae.set(_,g);++mn<qe;){var Lo=g[mn],No=_[mn];if(q)var Ro=Fe?q(No,Lo,mn,_,g,Ae):q(Lo,No,mn,g,_,Ae);if(Ro!==h){if(Ro)continue;$n=!1;break}if(fo){if(!xo(_,function($s,fs){if(!Ha(fo,fs)&&(Lo===$s||ce(Lo,$s,R,q,Ae)))return fo.push(fs)})){$n=!1;break}}else if(!(Lo===No||ce(Lo,No,R,q,Ae))){$n=!1;break}}return Ae.delete(g),Ae.delete(_),$n}function Hm(g,_,R,q,ce,Ae,Fe){switch(R){case nr:if(g.byteLength!=_.byteLength||g.byteOffset!=_.byteOffset)return!1;g=g.buffer,_=_.buffer;case Ca:return!(g.byteLength!=_.byteLength||!Ae(new To(g),new To(_)));case te:case cs:case ko:return Is(+g,+_);case Bt:return g.name==_.name&&g.message==_.message;case Lt:case Ns:return g==_+"";case kn:var qe=Lu;case Lr:var gt=q&de;if(qe||(qe=hu),g.size!=_.size&&!gt)return!1;var en=Fe.get(g);if(en)return en==_;q|=fe,Fe.set(g,_);var Jt=np(qe(g),qe(_),q,ce,Ae,Fe);return Fe.delete(g),Jt;case Pc:if(Pf)return Pf.call(g)==Pf.call(_)}return!1}function a0(g,_,R,q,ce,Ae){var Fe=R&de,qe=Tr(g),gt=qe.length,en=Tr(_),Jt=en.length;if(gt!=Jt&&!Fe)return!1;for(var mn=gt;mn--;){var $n=qe[mn];if(!(Fe?$n in _:Ct.call(_,$n)))return!1}var fo=Ae.get(g),Lo=Ae.get(_);if(fo&&Lo)return fo==_&&Lo==g;var No=!0;Ae.set(g,_),Ae.set(_,g);for(var Ro=Fe;++mn<gt;){$n=qe[mn];var $s=g[$n],fs=_[$n];if(q)var ui=Fe?q(fs,$s,$n,_,g,Ae):q($s,fs,$n,g,_,Ae);if(!(ui===h?$s===fs||ce($s,fs,R,q,Ae):ui)){No=!1;break}Ro||(Ro=$n=="constructor")}if(No&&!Ro){var di=g.constructor,ei=_.constructor;di!=ei&&"constructor"in g&&"constructor"in _&&!(typeof di=="function"&&di instanceof di&&typeof ei=="function"&&ei instanceof ei)&&(No=!1)}return Ae.delete(g),Ae.delete(_),No}function qa(g){return Hv(Fh(g,h,y1),g+"")}function Tr(g){return Le(g,fc,cf)}function Ac(g){return Le(g,Ql,Gu)}var Vm=Om?function(g){return Om.get(g)}:Pa;function Zl(g){for(var _=g.name+"",R=zl[_],q=Ct.call(zl,_)?R.length:0;q--;){var ce=R[q],Ae=ce.func;if(Ae==null||Ae==g)return ce.name}return _}function Um(g){var _=Ct.call(ue,"placeholder")?ue:g;return _.placeholder}function Oo(){var g=ue.iteratee||j0;return g=g===j0?mu:g,arguments.length?g(arguments[0],arguments[1]):g}function wd(g,_){var R=g.__data__;return Yl(_)?R[typeof _=="string"?"string":"hash"]:R.map}function v1(g){for(var _=fc(g),R=_.length;R--;){var q=_[R],ce=g[q];_[R]=[q,ce,ip(ce)]}return _}function Bh(g,_){var R=Zd(g,_);return l1(R)?R:h}function Gf(g){var _=Ct.call(g,gl),R=g[gl];try{g[gl]=h;var q=!0}catch{}var ce=Nn.call(g);return q&&(_?g[gl]=R:delete g[gl]),ce}var cf=Kd?function(g){return g==null?[]:(g=qs(g),Tn(Kd(g),function(_){return Qs.call(g,_)}))}:pf,Gu=Kd?function(g){for(var _=[];g;)Kn(_,cf(g)),g=$i(g);return _}:pf,cc=$;(ea&&cc(new ea(new ArrayBuffer(1)))!=nr||xm&&cc(new xm)!=kn||us&&cc(us.resolve())!=pi||nl&&cc(new nl)!=Lr||Ul&&cc(new Ul)!=Rr)&&(cc=function(g){var _=$(g),R=_==mt?g.constructor:h,q=R?qf(R):"";if(q)switch(q){case pd:return nr;case Js:return kn;case wr:return pi;case Ua:return Lr;case r1:return Rr}return _});function Fw(g,_,R){for(var q=-1,ce=R.length;++q<ce;){var Ae=R[q],Fe=Ae.size;switch(Ae.type){case"drop":g+=Fe;break;case"dropRight":_-=Fe;break;case"take":_=ha(_,g+Fe);break;case"takeRight":g=ii(g,_-Fe);break}}return{start:g,end:_}}function op(g){var _=g.match(Di);return _?_[1].split(Ki):[]}function Hi(g,_,R){_=mr(_,g);for(var q=-1,ce=_.length,Ae=!1;++q<ce;){var Fe=uc(_[q]);if(!(Ae=g!=null&&R(g,Fe)))break;g=g[Fe]}return Ae||++q!=ce?Ae:(ce=g==null?0:g.length,!!ce&&N1(ce)&&lf(Fe,ce)&&(ds(g)||Jf(g)))}function _n(g){var _=g.length,R=new g.constructor(_);return _&&typeof g[0]=="string"&&Ct.call(g,"index")&&(R.index=g.index,R.input=g.input),R}function Bv(g){return typeof g.constructor=="function"&&!rp(g)?Xd($i(g)):{}}function v_(g,_,R){var q=g.constructor;switch(_){case Ca:return Vf(g);case te:case cs:return new q(+g);case nr:return zs(g,R);case Os:case rd:case Yr:case Ms:case fl:case Ii:case Zc:case vr:case $r:return kv(g,R);case kn:return new q;case ko:case Ns:return new q(g);case Lt:return of(g);case Lr:return new q;case Pc:return d1(g)}}function lc(g,_){var R=_.length;if(!R)return g;var q=R-1;return _[q]=(R>1?"& ":"")+_[q],_=_.join(R>2?", ":" "),g.replace(Eh,`{
/* [wrapped with `+_+`] */
`)}function c0(g){return ds(g)||Jf(g)||!!(Ps&&g&&g[Ps])}function lf(g,_){var R=typeof g;return _=_??et,!!_&&(R=="number"||R!="symbol"&&Fg.test(g))&&g>-1&&g%1==0&&g<_}function Uc(g,_,R){if(!Wi(R))return!1;var q=typeof _;return(q=="number"?Gc(R)&&lf(_,R.length):q=="string"&&_ in R)?Is(R[_],g):!1}function qu(g,_){if(ds(g))return!1;var R=typeof g;return R=="number"||R=="symbol"||R=="boolean"||g==null||al(g)?!0:qd.test(g)||!id.test(g)||_!=null&&g in qs(_)}function Yl(g){var _=typeof g;return _=="string"||_=="number"||_=="symbol"||_=="boolean"?g!=="__proto__":g===null}function sp(g){var _=Zl(g),R=ue[_];if(typeof R!="function"||!(_ in Us.prototype))return!1;if(g===R)return!0;var q=Vm(R);return!!q&&g===q[0]}function zm(g){return!!An&&An in g}var Hw=Ht?yn:Y0;function rp(g){var _=g&&g.constructor,R=typeof _=="function"&&_.prototype||ze;return g===R}function ip(g){return g===g&&!Wi(g)}function Wm(g,_){return function(R){return R==null?!1:R[g]===_&&(_!==h||g in qs(R))}}function ap(g){var _=Qf(g,function(q){return R.size===K&&R.clear(),q}),R=_.cache;return _}function Gm(g,_){var R=g[1],q=_[1],ce=R|q,Ae=ce<(we|De|Ee),Fe=q==Ee&&R==oe||q==Ee&&R==Ze&&g[7].length<=_[8]||q==(Ee|Ze)&&_[7].length<=_[8]&&R==oe;if(!(Ae||Fe))return g;q&we&&(g[2]=_[2],ce|=R&we?0:Me);var qe=_[3];if(qe){var gt=g[3];g[3]=gt?Qg(gt,qe,_[4]):qe,g[4]=gt?ua(g[3],Q):_[4]}return qe=_[5],qe&&(gt=g[5],g[5]=gt?g_(gt,qe,_[6]):qe,g[6]=gt?ua(g[5],Q):_[6]),qe=_[7],qe&&(g[7]=qe),q&Ee&&(g[8]=g[8]==null?_[8]:ha(g[8],_[8])),g[9]==null&&(g[9]=_[9]),g[0]=_[0],g[1]=ce,g}function b_(g){var _=[];if(g!=null)for(var R in qs(g))_.push(R);return _}function Fv(g){return Nn.call(g)}function Fh(g,_,R){return _=ii(_===h?g.length-1:_,0),function(){for(var q=arguments,ce=-1,Ae=ii(q.length-_,0),Fe=xt(Ae);++ce<Ae;)Fe[ce]=q[_+ce];ce=-1;for(var qe=xt(_+1);++ce<_;)qe[ce]=q[ce];return qe[_]=R(Fe),Kt(g,this,qe)}}function b1(g,_){return _.length<2?g:Yo(g,Fi(_,0,-1))}function Al(g,_){for(var R=g.length,q=ha(_.length,R),ce=sl(g);q--;){var Ae=_[q];g[q]=lf(Ae,R)?ce[Ae]:h}return g}function xc(g,_){if(!(_==="constructor"&&typeof g[_]=="function")&&_!="__proto__")return g[_]}var uf=ju(Lm),Hh=Yd||function(g,_){return la.setTimeout(g,_)},Hv=ju(Mh);function cp(g,_,R){var q=_+"";return Hv(g,lc(q,Vw(op(q),R)))}function ju(g){var _=0,R=0;return function(){var q=$u(),ce=gn-(q-R);if(R=q,ce>0){if(++_>=ge)return arguments[0]}else _=0;return g.apply(h,arguments)}}function qm(g,_){var R=-1,q=g.length,ce=q-1;for(_=_===h?q:_;++R<_;){var Ae=Ff(R,ce),Fe=g[Ae];g[Ae]=g[R],g[R]=Fe}return g.length=_,g}var jm=ap(function(g){var _=[];return g.charCodeAt(0)===46&&_.push(""),g.replace(Xs,function(R,q,ce,Ae){_.push(ce?Ae.replace(Kc,"$1"):q||R)}),_});function uc(g){if(typeof g=="string"||al(g))return g;var _=g+"";return _=="0"&&1/g==-Rt?"-0":_}function qf(g){if(g!=null){try{return ct.call(g)}catch{}try{return g+""}catch{}}return""}function Vw(g,_){return Nt(ao,function(R){var q="_."+R[0];_&R[1]&&!lr(g,q)&&g.push(q)}),g.sort()}function l0(g){if(g instanceof Us)return g.clone();var _=new vl(g.__wrapped__,g.__chain__);return _.__actions__=sl(g.__actions__),_.__index__=g.__index__,_.__values__=g.__values__,_}function u0(g,_,R){(R?Uc(g,_,R):_===h)?_=1:_=ii(_s(_),0);var q=g==null?0:g.length;if(!q||_<1)return[];for(var ce=0,Ae=0,Fe=xt(Vl(q/_));ce<q;)Fe[Ae++]=Fi(g,ce,ce+=_);return Fe}function sr(g){for(var _=-1,R=g==null?0:g.length,q=0,ce=[];++_<R;){var Ae=g[_];Ae&&(ce[q++]=Ae)}return ce}function Uw(){var g=arguments.length;if(!g)return[];for(var _=xt(g-1),R=arguments[0],q=g;q--;)_[q-1]=arguments[q];return Kn(ds(R)?sl(R):[R],Ga(_,1))}var y_=Ss(function(g,_){return zi(g)?ys(g,Ga(_,1,zi,!0)):[]}),zw=Ss(function(g,_){var R=Ls(_);return zi(R)&&(R=h),zi(g)?ys(g,Ga(_,1,zi,!0),Oo(R,2)):[]}),Vv=Ss(function(g,_){var R=Ls(_);return zi(R)&&(R=h),zi(g)?ys(g,Ga(_,1,zi,!0),h,R):[]});function lp(g,_,R){var q=g==null?0:g.length;return q?(_=R||_===h?1:_s(_),Fi(g,_<0?0:_,q)):[]}function jf(g,_,R){var q=g==null?0:g.length;return q?(_=R||_===h?1:_s(_),_=q-_,Fi(g,0,_<0?0:_)):[]}function Vi(g,_){return g&&g.length?jl(g,Oo(_,3),!0,!0):[]}function Zf(g,_){return g&&g.length?jl(g,Oo(_,3),!0):[]}function d0(g,_,R,q){var ce=g==null?0:g.length;return ce?(R&&typeof R!="number"&&Uc(g,_,R)&&(R=0,q=ce),Wr(g,_,R,q)):[]}function Ci(g,_,R){var q=g==null?0:g.length;if(!q)return-1;var ce=R==null?0:_s(R);return ce<0&&(ce=ii(q+ce,0)),Ir(g,Oo(_,3),ce)}function Uv(g,_,R){var q=g==null?0:g.length;if(!q)return-1;var ce=q-1;return R!==h&&(ce=_s(R),ce=R<0?ii(q+ce,0):ha(ce,q-1)),Ir(g,Oo(_,3),ce,!0)}function y1(g){var _=g==null?0:g.length;return _?Ga(g,1):[]}function pA(g){var _=g==null?0:g.length;return _?Ga(g,Rt):[]}function __(g,_){var R=g==null?0:g.length;return R?(_=_===h?1:_s(_),Ga(g,_)):[]}function Vh(g){for(var _=-1,R=g==null?0:g.length,q={};++_<R;){var ce=g[_];q[ce[0]]=ce[1]}return q}function Yf(g){return g&&g.length?g[0]:h}function zv(g,_,R){var q=g==null?0:g.length;if(!q)return-1;var ce=R==null?0:_s(R);return ce<0&&(ce=ii(q+ce,0)),Bc(g,_,ce)}function E_(g){var _=g==null?0:g.length;return _?Fi(g,0,-1):[]}var vA=Ss(function(g){var _=ls(g,Iv);return _.length&&_[0]===g[0]?dn(_):[]}),Td=Ss(function(g){var _=Ls(g),R=ls(g,Iv);return _===Ls(R)?_=h:R.pop(),R.length&&R[0]===g[0]?dn(R,Oo(_,2)):[]}),As=Ss(function(g){var _=Ls(g),R=ls(g,Iv);return _=typeof _=="function"?_:h,_&&R.pop(),R.length&&R[0]===g[0]?dn(R,h,_):[]});function w_(g,_){return g==null?"":Rh.call(g,_)}function Ls(g){var _=g==null?0:g.length;return _?g[_-1]:h}function oa(g,_,R){var q=g==null?0:g.length;if(!q)return-1;var ce=q;return R!==h&&(ce=_s(R),ce=ce<0?ii(q+ce,0):ha(ce,q-1)),_===_?xh(g,_,ce):Ir(g,is,ce,!0)}function pu(g,_){return g&&g.length?Sv(g,_s(_)):h}var zc=Ss(Uh);function Uh(g,_){return g&&g.length&&_&&_.length?Pm(g,_):g}function up(g,_,R){return g&&g.length&&_&&_.length?Pm(g,_,Oo(R,2)):g}function Kf(g,_,R){return g&&g.length&&_&&_.length?Pm(g,_,h,R):g}var Kl=qa(function(g,_){var R=g==null?0:g.length,q=Po(g,_);return Kg(g,ls(_,function(ce){return lf(ce,R)?+ce:ce}).sort($m)),q});function Zu(g,_){var R=[];if(!(g&&g.length))return R;var q=-1,ce=[],Ae=g.length;for(_=Oo(_,3);++q<Ae;){var Fe=g[q];_(Fe,q,g)&&(R.push(Fe),ce.push(q))}return Kg(g,ce),R}function zh(g){return g==null?g:tl.call(g)}function _1(g,_,R){var q=g==null?0:g.length;return q?(R&&typeof R!="number"&&Uc(g,_,R)?(_=0,R=q):(_=_==null?0:_s(_),R=R===h?q:_s(R)),Fi(g,_,R)):[]}function f0(g,_){return kh(g,_)}function T_(g,_,R){return Ph(g,_,Oo(R,2))}function C_(g,_){var R=g==null?0:g.length;if(R){var q=kh(g,_);if(q<R&&Is(g[q],_))return q}return-1}function dp(g,_){return kh(g,_,!0)}function h0(g,_,R){return Ph(g,_,Oo(R,2),!0)}function Ww(g,_){var R=g==null?0:g.length;if(R){var q=kh(g,_,!0)-1;if(Is(g[q],_))return q}return-1}function Gw(g){return g&&g.length?nf(g):[]}function S_(g,_){return g&&g.length?nf(g,Oo(_,2)):[]}function A_(g){var _=g==null?0:g.length;return _?Fi(g,1,_):[]}function m0(g,_,R){return g&&g.length?(_=R||_===h?1:_s(_),Fi(g,0,_<0?0:_)):[]}function x_(g,_,R){var q=g==null?0:g.length;return q?(_=R||_===h?1:_s(_),_=q-_,Fi(g,_<0?0:_,q)):[]}function qw(g,_){return g&&g.length?jl(g,Oo(_,3),!1,!0):[]}function g0(g,_){return g&&g.length?jl(g,Oo(_,3)):[]}var Zm=Ss(function(g){return na(Ga(g,1,zi,!0))}),p0=Ss(function(g){var _=Ls(g);return zi(_)&&(_=h),na(Ga(g,1,zi,!0),Oo(_,2))}),jw=Ss(function(g){var _=Ls(g);return _=typeof _=="function"?_:h,na(Ga(g,1,zi,!0),h,_)});function Zw(g){return g&&g.length?na(g):[]}function O_(g,_){return g&&g.length?na(g,Oo(_,2)):[]}function Cr(g,_){return _=typeof _=="function"?_:h,g&&g.length?na(g,h,_):[]}function df(g){if(!(g&&g.length))return[];var _=0;return g=Tn(g,function(R){if(zi(R))return _=ii(R.length,_),!0}),zr(_,function(R){return ls(g,Oa(R))})}function Wh(g,_){if(!(g&&g.length))return[];var R=df(g);return _==null?R:ls(R,function(q){return Kt(_,h,q)})}var R_=Ss(function(g,_){return zi(g)?ys(g,_):[]}),Wv=Ss(function(g){return Xg(Tn(g,zi))}),dc=Ss(function(g){var _=Ls(g);return zi(_)&&(_=h),Xg(Tn(g,zi),Oo(_,2))}),rl=Ss(function(g){var _=Ls(g);return _=typeof _=="function"?_:h,Xg(Tn(g,zi),h,_)}),Ym=Ss(df);function Gv(g,_){return Lh(g||[],_||[],Wa)}function v0(g,_){return Lh(g||[],_||[],ql)}var I_=Ss(function(g){var _=g.length,R=_>1?g[_-1]:h;return R=typeof R=="function"?(g.pop(),R):h,Wh(g,R)});function b0(g){var _=ue(g);return _.__chain__=!0,_}function D_(g,_){return _(g),g}function xl(g,_){return _(g)}var Xf=qa(function(g){var _=g.length,R=_?g[0]:0,q=this.__wrapped__,ce=function(Ae){return Po(Ae,g)};return _>1||this.__actions__.length||!(q instanceof Us)||!lf(R)?this.thru(ce):(q=q.slice(R,+R+(_?1:0)),q.__actions__.push({func:xl,args:[ce],thisArg:h}),new vl(q,this.__chain__).thru(function(Ae){return _&&!Ae.length&&Ae.push(h),Ae}))});function Nr(){return b0(this)}function ff(){return new vl(this.value(),this.__chain__)}function Cd(){this.__values__===h&&(this.__values__=ob(this.value()));var g=this.__index__>=this.__values__.length,_=g?h:this.__values__[this.__index__++];return{done:g,value:_}}function Yw(){return this}function N_(g){for(var _,R=this;R instanceof Ih;){var q=l0(R);q.__index__=0,q.__values__=h,_?ce.__wrapped__=q:_=q;var ce=q;R=R.__wrapped__}return ce.__wrapped__=g,_}function y0(){var g=this.__wrapped__;if(g instanceof Us){var _=g;return this.__actions__.length&&(_=new Us(this)),_=_.reverse(),_.__actions__.push({func:xl,args:[zh],thisArg:h}),new vl(_,this.__chain__)}return this.thru(zh)}function Km(){return Sl(this.__wrapped__,this.__actions__)}var _0=Wu(function(g,_,R){Ct.call(g,R)?++g[R]:ts(g,R,1)});function fp(g,_,R){var q=ds(g)?Zn:El;return R&&Uc(g,_,R)&&(_=h),q(g,Oo(_,3))}function Xm(g,_){var R=ds(g)?Tn:Gl;return R(g,Oo(_,3))}var Kw=ep(Ci),E1=ep(Uv);function w1(g,_){return Ga(T1(g,_),1)}function E0(g,_){return Ga(T1(g,_),Rt)}function qv(g,_,R){return R=R===h?1:_s(R),Ga(T1(g,_),R)}function hp(g,_){var R=ds(g)?Nt:Wl;return R(g,Oo(_,3))}function jv(g,_){var R=ds(g)?Jn:At;return R(g,Oo(_,3))}var Gh=Wu(function(g,_,R){Ct.call(g,R)?g[R].push(_):ts(g,R,[_])});function mp(g,_,R,q){g=Gc(g)?g:Od(g),R=R&&!q?_s(R):0;var ce=g.length;return R<0&&(R=ii(ce+R,0)),Xl(g)?R<=ce&&g.indexOf(_,R)>-1:!!ce&&Bc(g,_,R)>-1}var M_=Ss(function(g,_,R){var q=-1,ce=typeof _=="function",Ae=Gc(g)?xt(g.length):[];return Wl(g,function(Fe){Ae[++q]=ce?Kt(_,Fe,R):We(Fe,_,R)}),Ae}),k_=Wu(function(g,_,R){ts(g,R,_)});function T1(g,_){var R=ds(g)?ls:f_;return R(g,Oo(_,3))}function Sd(g,_,R,q){return g==null?[]:(ds(_)||(_=_==null?[]:[_]),R=q?h:R,ds(R)||(R=R==null?[]:[R]),h_(g,_,R))}var vu=Wu(function(g,_,R){g[R?0:1].push(_)},function(){return[[],[]]});function C1(g,_,R){var q=ds(g)?eo:Fc,ce=arguments.length<3;return q(g,Oo(_,4),R,ce,Wl)}function Ye(g,_,R){var q=ds(g)?ki:Fc,ce=arguments.length<3;return q(g,Oo(_,4),R,ce,At)}function Sr(g,_){var R=ds(g)?Tn:Gl;return R(g,Rc(Oo(_,3)))}function Qm(g){var _=ds(g)?Dh:o0;return _(g)}function w0(g,_,R){(R?Uc(g,_,R):_===h)?_=1:_=_s(_);var q=ds(g)?Ut:pa;return q(g,_)}function er(g){var _=ds(g)?n0:m_;return _(g)}function Yu(g){if(g==null)return 0;if(Gc(g))return Xl(g)?ws(g):g.length;var _=cc(g);return _==kn||_==Lr?g.size:Ma(g).length}function S1(g,_,R){var q=ds(g)?xo:Tl;return R&&Uc(g,_,R)&&(_=h),q(g,Oo(_,3))}var sa=Ss(function(g,_){if(g==null)return[];var R=_.length;return R>1&&Uc(g,_[0],_[1])?_=[]:R>2&&Uc(_[0],_[1],_[2])&&(_=[_[0]]),h_(g,Ga(_,1),[])}),Ku=Da||function(){return la.Date.now()};function T0(g,_){if(typeof _!="function")throw new Ia(D);return g=_s(g),function(){if(--g<1)return _.apply(this,arguments)}}function P_(g,_,R){return _=R?h:_,_=g&&_==null?g.length:_,Ed(g,Ee,h,h,h,h,_)}function Zv(g,_){var R;if(typeof _!="function")throw new Ia(D);return g=_s(g),function(){return--g>0&&(R=_.apply(this,arguments)),g<=1&&(_=h),R}}var Jm=Ss(function(g,_,R){var q=we;if(R.length){var ce=ua(R,Um(Jm));q|=lt}return Ed(g,q,_,R,ce)}),qh=Ss(function(g,_,R){var q=we|De;if(R.length){var ce=ua(R,Um(qh));q|=lt}return Ed(_,q,g,R,ce)});function Yv(g,_,R){_=R?h:_;var q=Ed(g,oe,h,h,h,h,h,_);return q.placeholder=Yv.placeholder,q}function A1(g,_,R){_=R?h:_;var q=Ed(g,Be,h,h,h,h,h,_);return q.placeholder=A1.placeholder,q}function Oc(g,_,R){var q,ce,Ae,Fe,qe,gt,en=0,Jt=!1,mn=!1,$n=!0;if(typeof g!="function")throw new Ia(D);_=gr(_)||0,Wi(R)&&(Jt=!!R.leading,mn="maxWait"in R,Ae=mn?ii(gr(R.maxWait)||0,_):Ae,$n="trailing"in R?!!R.trailing:$n);function fo(Zr){var Nc=q,Ws=ce;return q=ce=h,en=Zr,Fe=g.apply(Ws,Nc),Fe}function Lo(Zr){return en=Zr,qe=Hh($s,_),Jt?fo(Zr):Fe}function No(Zr){var Nc=Zr-gt,Ws=Zr-en,bf=_-Nc;return mn?ha(bf,Ae-Ws):bf}function Ro(Zr){var Nc=Zr-gt,Ws=Zr-en;return gt===h||Nc>=_||Nc<0||mn&&Ws>=Ae}function $s(){var Zr=Ku();if(Ro(Zr))return fs(Zr);qe=Hh($s,No(Zr))}function fs(Zr){return qe=h,$n&&q?fo(Zr):(q=ce=h,Fe)}function ui(){qe!==h&&Nv(qe),en=0,q=gt=ce=qe=h}function di(){return qe===h?Fe:fs(Ku())}function ei(){var Zr=Ku(),Nc=Ro(Zr);if(q=arguments,ce=this,gt=Zr,Nc){if(qe===h)return Lo(gt);if(mn)return Nv(qe),qe=Hh($s,_),fo(gt)}return qe===h&&(qe=Hh($s,_)),Fe}return ei.cancel=ui,ei.flush=di,ei}var x1=Ss(function(g,_){return jr(g,1,_)}),C0=Ss(function(g,_,R){return jr(g,gr(_)||0,R)});function O1(g){return Ed(g,ht)}function Qf(g,_){if(typeof g!="function"||_!=null&&typeof _!="function")throw new Ia(D);var R=function(){var q=arguments,ce=_?_.apply(this,q):q[0],Ae=R.cache;if(Ae.has(ce))return Ae.get(ce);var Fe=g.apply(this,q);return R.cache=Ae.set(ce,Fe)||Ae,Fe};return R.cache=new(Qf.Cache||Hu),R}Qf.Cache=Hu;function Rc(g){if(typeof g!="function")throw new Ia(D);return function(){var _=arguments;switch(_.length){case 0:return!g.call(this);case 1:return!g.call(this,_[0]);case 2:return!g.call(this,_[0],_[1]);case 3:return!g.call(this,_[0],_[1],_[2])}return!g.apply(this,_)}}function Xw(g){return Zv(2,g)}var va=Dv(function(g,_){_=_.length==1&&ds(_[0])?ls(_[0],Ji(Oo())):ls(Ga(_,1),Ji(Oo()));var R=_.length;return Ss(function(q){for(var ce=-1,Ae=ha(q.length,R);++ce<Ae;)q[ce]=_[ce].call(this,q[ce]);return Kt(g,this,q)})}),Kv=Ss(function(g,_){var R=ua(_,Um(Kv));return Ed(g,lt,h,_,R)}),hf=Ss(function(g,_){var R=ua(_,Um(hf));return Ed(g,F,h,_,R)}),R1=qa(function(g,_){return Ed(g,Ze,h,h,h,_)});function L_(g,_){if(typeof g!="function")throw new Ia(D);return _=_===h?_:_s(_),Ss(g,_)}function S0(g,_){if(typeof g!="function")throw new Ia(D);return _=_==null?0:ii(_s(_),0),Ss(function(R){var q=R[_],ce=Vc(R,0,_);return q&&Kn(ce,q),Kt(g,this,ce)})}function A0(g,_,R){var q=!0,ce=!0;if(typeof g!="function")throw new Ia(D);return Wi(R)&&(q="leading"in R?!!R.leading:q,ce="trailing"in R?!!R.trailing:ce),Oc(g,_,{leading:q,maxWait:_,trailing:ce})}function x0(g){return P_(g,1)}function O0(g,_){return Kv(s0(_),g)}function $_(){if(!arguments.length)return[];var g=arguments[0];return ds(g)?g:[g]}function Qw(g){return Cc(g,ve)}function ba(g,_){return _=typeof _=="function"?_:h,Cc(g,ve,_)}function Ui(g){return Cc(g,ie|ve)}function Wc(g,_){return _=typeof _=="function"?_:h,Cc(g,ie|ve,_)}function Ol(g,_){return _==null||ef(g,_,fc(_))}function Is(g,_){return g===_||g!==g&&_!==_}var ka=g1(ae),Xu=g1(function(g,_){return g>=_}),Jf=Gr(function(){return arguments}())?Gr:function(g){return kt(g)&&Ct.call(g,"callee")&&!Qs.call(g,"callee")},ds=xt.isArray,Xv=re?Ji(re):ci;function Gc(g){return g!=null&&N1(g.length)&&!yn(g)}function zi(g){return kt(g)&&Gc(g)}function I1(g){return g===!0||g===!1||kt(g)&&$(g)==te}var Ad=ro||Y0,R0=me?Ji(me):ta;function bA(g){return kt(g)&&g.nodeType===1&&!il(g)}function Qv(g){if(g==null)return!0;if(Gc(g)&&(ds(g)||typeof g=="string"||typeof g.splice=="function"||Ad(g)||Ic(g)||Jf(g)))return!g.length;var _=cc(g);if(_==kn||_==Lr)return!g.size;if(rp(g))return!Ma(g).length;for(var R in g)if(Ct.call(g,R))return!1;return!0}function I0(g,_){return Hr(g,_)}function Jv(g,_,R){R=typeof R=="function"?R:h;var q=R?R(g,_):h;return q===h?Hr(g,_,h,R):!!q}function D1(g){if(!kt(g))return!1;var _=$(g);return _==Bt||_==uo||typeof g.message=="string"&&typeof g.name=="string"&&!il(g)}function B_(g){return typeof g=="number"&&fa(g)}function yn(g){if(!Wi(g))return!1;var _=$(g);return _==ps||_==Xa||_==It||_==vi}function eb(g){return typeof g=="number"&&g==_s(g)}function N1(g){return typeof g=="number"&&g>-1&&g%1==0&&g<=et}function Wi(g){var _=typeof g;return g!=null&&(_=="object"||_=="function")}function kt(g){return g!=null&&typeof g=="object"}var F_=pe?Ji(pe):Ti;function ya(g,_){return g===_||tf(g,_,v1(_))}function Jw(g,_,R){return R=typeof R=="function"?R:h,tf(g,_,v1(_),R)}function H_(g){return gp(g)&&g!=+g}function V_(g){if(Hw(g))throw new _o(N);return l1(g)}function bu(g){return g===null}function yu(g){return g==null}function gp(g){return typeof g=="number"||kt(g)&&$(g)==ko}function il(g){if(!kt(g)||$(g)!=mt)return!1;var _=$i(g);if(_===null)return!0;var R=Ct.call(_,"constructor")&&_.constructor;return typeof R=="function"&&R instanceof R&&ct.call(R)==to}var M1=ke?Ji(ke):Nh;function k1(g){return eb(g)&&g>=-et&&g<=et}var xd=st?Ji(st):Wn;function Xl(g){return typeof g=="string"||!ds(g)&&kt(g)&&$(g)==Ns}function al(g){return typeof g=="symbol"||kt(g)&&$(g)==Pc}var Ic=yt?Ji(yt):Yg;function eT(g){return g===h}function tb(g){return kt(g)&&cc(g)==Rr}function nb(g){return kt(g)&&$(g)==jc}var jh=g1(yd),U_=g1(function(g,_){return g<=_});function ob(g){if(!g)return[];if(Gc(g))return Xl(g)?wc(g):sl(g);if(es&&g[es])return fd(g[es]());var _=cc(g),R=_==kn?Lu:_==Lr?hu:Od;return R(g)}function eh(g){if(!g)return g===0?g:0;if(g=gr(g),g===Rt||g===-Rt){var _=g<0?-1:1;return _*qt}return g===g?g:0}function _s(g){var _=eh(g),R=_%1;return _===_?R?_-R:_:0}function eg(g){return g?Jr(_s(g),0,Ge):0}function gr(g){if(typeof g=="number")return g;if(al(g))return Vt;if(Wi(g)){var _=typeof g.valueOf=="function"?g.valueOf():g;g=Wi(_)?_+"":_}if(typeof g!="string")return g===0?g:+g;g=oc(g);var R=bc.test(g);return R||Bg.test(g)?Do(g.slice(2),R?2:8):Br.test(g)?Vt:+g}function z_(g){return zu(g,Ql(g))}function tg(g){return g?Jr(_s(g),-et,et):g===0?g:0}function Mr(g){return g==null?"":Cl(g)}var sb=gu(function(g,_){if(rp(_)||Gc(_)){zu(_,fc(_),g);return}for(var R in _)Ct.call(_,R)&&Wa(g,R,_[R])}),W_=gu(function(g,_){zu(_,Ql(_),g)}),pp=gu(function(g,_,R,q){zu(_,Ql(_),g,q)}),tT=gu(function(g,_,R,q){zu(_,fc(_),g,q)}),P1=qa(Po);function G_(g,_){var R=Xd(g);return _==null?R:hr(R,_)}var q_=Ss(function(g,_){g=qs(g);var R=-1,q=_.length,ce=q>2?_[2]:h;for(ce&&Uc(_[0],_[1],ce)&&(q=1);++R<q;)for(var Ae=_[R],Fe=Ql(Ae),qe=-1,gt=Fe.length;++qe<gt;){var en=Fe[qe],Jt=g[en];(Jt===h||Is(Jt,ze[en])&&!Ct.call(g,en))&&(g[en]=Ae[en])}return g}),D0=Ss(function(g){return g.push(h,p1),Kt(ng,h,g)});function N0(g,_){return ur(g,Oo(_,3),ac)}function j_(g,_){return ur(g,Oo(_,3),Zg)}function mf(g,_){return g==null?g:ic(g,Oo(_,3),Ql)}function rb(g,_){return g==null?g:Mm(g,Oo(_,3),Ql)}function _u(g,_){return g&&ac(g,Oo(_,3))}function Zs(g,_){return g&&Zg(g,Oo(_,3))}function vp(g){return g==null?[]:Bi(g,fc(g))}function Dc(g){return g==null?[]:Bi(g,Ql(g))}function L1(g,_,R){var q=g==null?h:Yo(g,_);return q===h?R:q}function Z_(g,_){return g!=null&&Hi(g,_,He)}function ib(g,_){return g!=null&&Hi(g,_,Ft)}var $1=rf(function(g,_,R){_!=null&&typeof _.toString!="function"&&(_=Nn.call(_)),g[_]=R},ig(Jl)),M0=rf(function(g,_,R){_!=null&&typeof _.toString!="function"&&(_=Nn.call(_)),Ct.call(g,_)?g[_].push(R):g[_]=[R]},Oo),Y_=Ss(We);function fc(g){return Gc(g)?vd(g):Ma(g)}function Ql(g){return Gc(g)?vd(g,!0):Cv(g)}function nT(g,_){var R={};return _=Oo(_,3),ac(g,function(q,ce,Ae){ts(R,_(q,ce,Ae),q)}),R}function oT(g,_){var R={};return _=Oo(_,3),ac(g,function(q,ce,Ae){ts(R,ce,_(q,ce,Ae))}),R}var sT=gu(function(g,_,R){Sc(g,_,R)}),ng=gu(function(g,_,R,q){Sc(g,_,R,q)}),k0=qa(function(g,_){var R={};if(g==null)return R;var q=!1;_=ls(_,function(Ae){return Ae=mr(Ae,g),q||(q=Ae.length>1),Ae}),zu(g,Ac(g),R),q&&(R=Cc(R,ie|_e|ve,Wf));for(var ce=_.length;ce--;)Rv(R,_[ce]);return R});function P0(g,_){return K_(g,Rc(Oo(_)))}var og=qa(function(g,_){return g==null?{}:_d(g,_)});function K_(g,_){if(g==null)return{};var R=ls(Ac(g),function(q){return[q]});return _=Oo(_),u1(g,R,function(q,ce){return _(q,ce[0])})}function rT(g,_,R){_=mr(_,g);var q=-1,ce=_.length;for(ce||(ce=1,g=h);++q<ce;){var Ae=g==null?h:g[uc(_[q])];Ae===h&&(q=ce,Ae=R),g=yn(Ae)?Ae.call(g):Ae}return g}function iT(g,_,R){return g==null?g:ql(g,_,R)}function L0(g,_,R,q){return q=typeof q=="function"?q:h,g==null?g:ql(g,_,R,q)}var $0=$v(fc),Zh=$v(Ql);function X_(g,_,R){var q=ds(g),ce=q||Ad(g)||Ic(g);if(_=Oo(_,4),R==null){var Ae=g&&g.constructor;ce?R=q?new Ae:[]:Wi(g)?R=yn(Ae)?Xd($i(g)):{}:R={}}return(ce?Nt:ac)(g,function(Fe,qe,gt){return _(R,Fe,qe,gt)}),R}function aT(g,_){return g==null?!0:Rv(g,_)}function cT(g,_,R){return g==null?g:Hc(g,_,s0(R))}function lT(g,_,R,q){return q=typeof q=="function"?q:h,g==null?g:Hc(g,_,s0(R),q)}function Od(g){return g==null?[]:fr(g,fc(g))}function ab(g){return g==null?[]:fr(g,Ql(g))}function sg(g,_,R){return R===h&&(R=_,_=h),R!==h&&(R=gr(R),R=R===R?R:0),_!==h&&(_=gr(_),_=_===_?_:0),Jr(gr(g),_,R)}function cb(g,_,R){return _=eh(_),R===h?(R=_,_=0):R=eh(R),g=gr(g),In(g,_,R)}function Q_(g,_,R){if(R&&typeof R!="boolean"&&Uc(g,_,R)&&(_=R=h),R===h&&(typeof _=="boolean"?(R=_,_=h):typeof g=="boolean"&&(R=g,g=h)),g===h&&_===h?(g=0,_=1):(g=eh(g),_===h?(_=g,g=0):_=eh(_)),g>_){var q=g;g=_,_=q}if(R||g%1||_%1){var ce=Na();return ha(g+ce*(_-g+co("1e-"+((ce+"").length-1))),_)}return Ff(g,_)}var gf=Bm(function(g,_,R){return _=_.toLowerCase(),g+(R?B1(_):_)});function B1(g){return H1(Mr(g).toLowerCase())}function B0(g){return g=Mr(g),g&&g.replace(Ll,zg).replace(Mu,"")}function Rd(g,_,R){g=Mr(g),_=Cl(_);var q=g.length;R=R===h?q:Jr(_s(R),0,q);var ce=R;return R-=_.length,R>=0&&g.slice(R,ce)==_}function Yh(g){return g=Mr(g),g&&pc.test(g)?g.replace(Ho,Fl):g}function F0(g){return g=Mr(g),g&&Qa.test(g)?g.replace(qn,"\\$&"):g}var J_=Bm(function(g,_,R){return g+(R?"-":"")+_.toLowerCase()}),uT=Bm(function(g,_,R){return g+(R?" ":"")+_.toLowerCase()}),dT=r0("toLowerCase");function H0(g,_,R){g=Mr(g),_=_s(_);var q=_?ws(g):0;if(!_||q>=_)return g;var ce=(_-q)/2;return m1(el(ce),R)+g+m1(Vl(ce),R)}function fT(g,_,R){g=Mr(g),_=_s(_);var q=_?ws(g):0;return _&&q<_?g+m1(_-q,R):g}function hT(g,_,R){g=Mr(g),_=_s(_);var q=_?ws(g):0;return _&&q<_?m1(_-q,R)+g:g}function eE(g,_,R){return R||_==null?_=0:_&&(_=+_),pl(Mr(g).replace(Ru,""),_||0)}function tE(g,_,R){return(R?Uc(g,_,R):_===h)?_=1:_=_s(_),Ov(Mr(g),_)}function lb(){var g=arguments,_=Mr(g[0]);return g.length<3?_:_.replace(g[1],g[2])}var mT=Bm(function(g,_,R){return g+(R?"_":"")+_.toLowerCase()});function gT(g,_,R){return R&&typeof R!="number"&&Uc(g,_,R)&&(_=R=h),R=R===h?Ge:R>>>0,R?(g=Mr(g),g&&(typeof _=="string"||_!=null&&!M1(_))&&(_=Cl(_),!_&&wi(g))?Vc(wc(g),0,R):g.split(_,R)):[]}var pT=Bm(function(g,_,R){return g+(R?" ":"")+H1(_)});function nE(g,_,R){return g=Mr(g),R=R==null?0:Jr(_s(R),0,g.length),_=Cl(_),g.slice(R,R+_.length)==_}function V0(g,_,R){var q=ue.templateSettings;R&&Uc(g,_,R)&&(_=h),g=Mr(g),_=pp({},_,q,$h);var ce=pp({},_.imports,q.imports,$h),Ae=fc(ce),Fe=fr(ce,Ae),qe,gt,en=0,Jt=_.interpolate||Tm,mn="__p += '",$n=gd((_.escape||Tm).source+"|"+Jt.source+"|"+(Jt===ks?vc:Tm).source+"|"+(_.evaluate||Tm).source+"|$","g"),fo="//# sourceURL="+(Ct.call(_,"sourceURL")?(_.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ug+"]")+`
`;g.replace($n,function(Ro,$s,fs,ui,di,ei){return fs||(fs=ui),mn+=g.slice(en,ei).replace(Xe,fu),$s&&(qe=!0,mn+=`' +
__e(`+$s+`) +
'`),di&&(gt=!0,mn+=`';
`+di+`;
__p += '`),fs&&(mn+=`' +
((__t = (`+fs+`)) == null ? '' : __t) +
'`),en=ei+Ro.length,Ro}),mn+=`';
`;var Lo=Ct.call(_,"variable")&&_.variable;if(!Lo)mn=`with (obj) {
`+mn+`
}
`;else if(Fa.test(Lo))throw new _o(U);mn=(gt?mn.replace(Gd,""):mn).replace(bi,"$1").replace(yh,"$1;"),mn="function("+(Lo||"obj")+`) {
`+(Lo?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(qe?", __e = _.escape":"")+(gt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+mn+`return __p
}`;var No=G0(function(){return Vo(Ae,fo+"return "+mn).apply(h,Fe)});if(No.source=mn,D1(No))throw No;return No}function oE(g){return Mr(g).toLowerCase()}function vT(g){return Mr(g).toUpperCase()}function sE(g,_,R){if(g=Mr(g),g&&(R||_===h))return oc(g);if(!g||!(_=Cl(_)))return g;var q=wc(g),ce=wc(_),Ae=Ra(q,ce),Fe=ud(q,ce)+1;return Vc(q,Ae,Fe).join("")}function F1(g,_,R){if(g=Mr(g),g&&(R||_===h))return g.slice(0,Oe(g)+1);if(!g||!(_=Cl(_)))return g;var q=wc(g),ce=ud(q,wc(_))+1;return Vc(q,0,ce).join("")}function U0(g,_,R){if(g=Mr(g),g&&(R||_===h))return g.replace(Ru,"");if(!g||!(_=Cl(_)))return g;var q=wc(g),ce=Ra(q,wc(_));return Vc(q,ce).join("")}function z0(g,_){var R=Et,q=Ne;if(Wi(_)){var ce="separator"in _?_.separator:ce;R="length"in _?_s(_.length):R,q="omission"in _?Cl(_.omission):q}g=Mr(g);var Ae=g.length;if(wi(g)){var Fe=wc(g);Ae=Fe.length}if(R>=Ae)return g;var qe=R-ws(q);if(qe<1)return q;var gt=Fe?Vc(Fe,0,qe).join(""):g.slice(0,qe);if(ce===h)return gt+q;if(Fe&&(qe+=gt.length-qe),M1(ce)){if(g.slice(qe).search(ce)){var en,Jt=gt;for(ce.global||(ce=gd(ce.source,Mr(Sa.exec(ce))+"g")),ce.lastIndex=0;en=ce.exec(Jt);)var mn=en.index;gt=gt.slice(0,mn===h?qe:mn)}}else if(g.indexOf(Cl(ce),qe)!=qe){var $n=gt.lastIndexOf(ce);$n>-1&&(gt=gt.slice(0,$n))}return gt+q}function bp(g){return g=Mr(g),g&&ca.test(g)?g.replace(an,rc):g}var ub=Bm(function(g,_,R){return g+(R?" ":"")+_.toUpperCase()}),H1=r0("toUpperCase");function W0(g,_,R){return g=Mr(g),_=R?h:_,_===h?dd(g)?md(g):Vs(g):g.match(_)||[]}var G0=Ss(function(g,_){try{return Kt(g,h,_)}catch(R){return D1(R)?R:new _o(R)}}),rE=qa(function(g,_){return Nt(_,function(R){R=uc(R),ts(g,R,Jm(g[R],g))}),g});function rg(g){var _=g==null?0:g.length,R=Oo();return g=_?ls(g,function(q){if(typeof q[1]!="function")throw new Ia(D);return[R(q[0]),q[1]]}):[],Ss(function(q){for(var ce=-1;++ce<_;){var Ae=g[ce];if(Kt(Ae[0],this,q))return Kt(Ae[1],this,q)}})}function iE(g){return or(Cc(g,ie))}function ig(g){return function(){return g}}function bT(g,_){return g==null||g!==g?_:g}var q0=ss(),aE=ss(!0);function Jl(g){return g}function j0(g){return mu(typeof g=="function"?g:Cc(g,ie))}function db(g){return km(Cc(g,ie))}function V1(g,_){return Uu(g,Cc(_,ie))}var th=Ss(function(g,_){return function(R){return We(R,g,_)}}),yT=Ss(function(g,_){return function(R){return We(g,R,_)}});function U1(g,_,R){var q=fc(_),ce=Bi(_,q);R==null&&!(Wi(_)&&(ce.length||!q.length))&&(R=_,_=g,g=this,ce=Bi(_,fc(_)));var Ae=!(Wi(R)&&"chain"in R)||!!R.chain,Fe=yn(g);return Nt(ce,function(qe){var gt=_[qe];g[qe]=gt,Fe&&(g.prototype[qe]=function(){var en=this.__chain__;if(Ae||en){var Jt=g(this.__wrapped__),mn=Jt.__actions__=sl(this.__actions__);return mn.push({func:gt,args:arguments,thisArg:g}),Jt.__chain__=en,Jt}return gt.apply(g,Kn([this.value()],arguments))})}),g}function cE(){return la._===this&&(la._=bo),this}function Pa(){}function lE(g){return g=_s(g),Ss(function(_){return Sv(_,g)})}var ag=tp(ls),_T=tp(Zn),z1=tp(xo);function Z0(g){return qu(g)?Oa(uc(g)):Av(g)}function yp(g){return function(_){return g==null?h:Yo(g,_)}}var cg=js(),W1=js(!0);function pf(){return[]}function Y0(){return!1}function Gi(){return{}}function eu(){return""}function fb(){return!0}function uE(g,_){if(g=_s(g),g<1||g>et)return[];var R=Ge,q=ha(g,Ge);_=Oo(_),g-=Ge;for(var ce=zr(q,_);++R<g;)_(R);return ce}function dE(g){return ds(g)?ls(g,uc):al(g)?[g]:sl(jm(Mr(g)))}function K0(g){var _=++Xt;return Mr(g)+_}var lg=af(function(g,_){return g+_},0),G1=Lv("ceil"),ug=af(function(g,_){return g/_},1),yA=Lv("floor");function _p(g){return g&&g.length?Bf(g,Jl,ae):h}function q1(g,_){return g&&g.length?Bf(g,Oo(_,2),ae):h}function dg(g){return dr(g,Jl)}function X0(g,_){return dr(g,Oo(_,2))}function Ep(g){return g&&g.length?Bf(g,Jl,yd):h}function _a(g,_){return g&&g.length?Bf(g,Oo(_,2),yd):h}var Q0=af(function(g,_){return g*_},1),Id=Lv("round"),vf=af(function(g,_){return g-_},0);function Kh(g){return g&&g.length?ho(g,Jl):0}function fg(g,_){return g&&g.length?ho(g,Oo(_,2)):0}return ue.after=T0,ue.ary=P_,ue.assign=sb,ue.assignIn=W_,ue.assignInWith=pp,ue.assignWith=tT,ue.at=P1,ue.before=Zv,ue.bind=Jm,ue.bindAll=rE,ue.bindKey=qh,ue.castArray=$_,ue.chain=b0,ue.chunk=u0,ue.compact=sr,ue.concat=Uw,ue.cond=rg,ue.conforms=iE,ue.constant=ig,ue.countBy=_0,ue.create=G_,ue.curry=Yv,ue.curryRight=A1,ue.debounce=Oc,ue.defaults=q_,ue.defaultsDeep=D0,ue.defer=x1,ue.delay=C0,ue.difference=y_,ue.differenceBy=zw,ue.differenceWith=Vv,ue.drop=lp,ue.dropRight=jf,ue.dropRightWhile=Vi,ue.dropWhile=Zf,ue.fill=d0,ue.filter=Xm,ue.flatMap=w1,ue.flatMapDeep=E0,ue.flatMapDepth=qv,ue.flatten=y1,ue.flattenDeep=pA,ue.flattenDepth=__,ue.flip=O1,ue.flow=q0,ue.flowRight=aE,ue.fromPairs=Vh,ue.functions=vp,ue.functionsIn=Dc,ue.groupBy=Gh,ue.initial=E_,ue.intersection=vA,ue.intersectionBy=Td,ue.intersectionWith=As,ue.invert=$1,ue.invertBy=M0,ue.invokeMap=M_,ue.iteratee=j0,ue.keyBy=k_,ue.keys=fc,ue.keysIn=Ql,ue.map=T1,ue.mapKeys=nT,ue.mapValues=oT,ue.matches=db,ue.matchesProperty=V1,ue.memoize=Qf,ue.merge=sT,ue.mergeWith=ng,ue.method=th,ue.methodOf=yT,ue.mixin=U1,ue.negate=Rc,ue.nthArg=lE,ue.omit=k0,ue.omitBy=P0,ue.once=Xw,ue.orderBy=Sd,ue.over=ag,ue.overArgs=va,ue.overEvery=_T,ue.overSome=z1,ue.partial=Kv,ue.partialRight=hf,ue.partition=vu,ue.pick=og,ue.pickBy=K_,ue.property=Z0,ue.propertyOf=yp,ue.pull=zc,ue.pullAll=Uh,ue.pullAllBy=up,ue.pullAllWith=Kf,ue.pullAt=Kl,ue.range=cg,ue.rangeRight=W1,ue.rearg=R1,ue.reject=Sr,ue.remove=Zu,ue.rest=L_,ue.reverse=zh,ue.sampleSize=w0,ue.set=iT,ue.setWith=L0,ue.shuffle=er,ue.slice=_1,ue.sortBy=sa,ue.sortedUniq=Gw,ue.sortedUniqBy=S_,ue.split=gT,ue.spread=S0,ue.tail=A_,ue.take=m0,ue.takeRight=x_,ue.takeRightWhile=qw,ue.takeWhile=g0,ue.tap=D_,ue.throttle=A0,ue.thru=xl,ue.toArray=ob,ue.toPairs=$0,ue.toPairsIn=Zh,ue.toPath=dE,ue.toPlainObject=z_,ue.transform=X_,ue.unary=x0,ue.union=Zm,ue.unionBy=p0,ue.unionWith=jw,ue.uniq=Zw,ue.uniqBy=O_,ue.uniqWith=Cr,ue.unset=aT,ue.unzip=df,ue.unzipWith=Wh,ue.update=cT,ue.updateWith=lT,ue.values=Od,ue.valuesIn=ab,ue.without=R_,ue.words=W0,ue.wrap=O0,ue.xor=Wv,ue.xorBy=dc,ue.xorWith=rl,ue.zip=Ym,ue.zipObject=Gv,ue.zipObjectDeep=v0,ue.zipWith=I_,ue.entries=$0,ue.entriesIn=Zh,ue.extend=W_,ue.extendWith=pp,U1(ue,ue),ue.add=lg,ue.attempt=G0,ue.camelCase=gf,ue.capitalize=B1,ue.ceil=G1,ue.clamp=sg,ue.clone=Qw,ue.cloneDeep=Ui,ue.cloneDeepWith=Wc,ue.cloneWith=ba,ue.conformsTo=Ol,ue.deburr=B0,ue.defaultTo=bT,ue.divide=ug,ue.endsWith=Rd,ue.eq=Is,ue.escape=Yh,ue.escapeRegExp=F0,ue.every=fp,ue.find=Kw,ue.findIndex=Ci,ue.findKey=N0,ue.findLast=E1,ue.findLastIndex=Uv,ue.findLastKey=j_,ue.floor=yA,ue.forEach=hp,ue.forEachRight=jv,ue.forIn=mf,ue.forInRight=rb,ue.forOwn=_u,ue.forOwnRight=Zs,ue.get=L1,ue.gt=ka,ue.gte=Xu,ue.has=Z_,ue.hasIn=ib,ue.head=Yf,ue.identity=Jl,ue.includes=mp,ue.indexOf=zv,ue.inRange=cb,ue.invoke=Y_,ue.isArguments=Jf,ue.isArray=ds,ue.isArrayBuffer=Xv,ue.isArrayLike=Gc,ue.isArrayLikeObject=zi,ue.isBoolean=I1,ue.isBuffer=Ad,ue.isDate=R0,ue.isElement=bA,ue.isEmpty=Qv,ue.isEqual=I0,ue.isEqualWith=Jv,ue.isError=D1,ue.isFinite=B_,ue.isFunction=yn,ue.isInteger=eb,ue.isLength=N1,ue.isMap=F_,ue.isMatch=ya,ue.isMatchWith=Jw,ue.isNaN=H_,ue.isNative=V_,ue.isNil=yu,ue.isNull=bu,ue.isNumber=gp,ue.isObject=Wi,ue.isObjectLike=kt,ue.isPlainObject=il,ue.isRegExp=M1,ue.isSafeInteger=k1,ue.isSet=xd,ue.isString=Xl,ue.isSymbol=al,ue.isTypedArray=Ic,ue.isUndefined=eT,ue.isWeakMap=tb,ue.isWeakSet=nb,ue.join=w_,ue.kebabCase=J_,ue.last=Ls,ue.lastIndexOf=oa,ue.lowerCase=uT,ue.lowerFirst=dT,ue.lt=jh,ue.lte=U_,ue.max=_p,ue.maxBy=q1,ue.mean=dg,ue.meanBy=X0,ue.min=Ep,ue.minBy=_a,ue.stubArray=pf,ue.stubFalse=Y0,ue.stubObject=Gi,ue.stubString=eu,ue.stubTrue=fb,ue.multiply=Q0,ue.nth=pu,ue.noConflict=cE,ue.noop=Pa,ue.now=Ku,ue.pad=H0,ue.padEnd=fT,ue.padStart=hT,ue.parseInt=eE,ue.random=Q_,ue.reduce=C1,ue.reduceRight=Ye,ue.repeat=tE,ue.replace=lb,ue.result=rT,ue.round=Id,ue.runInContext=Qe,ue.sample=Qm,ue.size=Yu,ue.snakeCase=mT,ue.some=S1,ue.sortedIndex=f0,ue.sortedIndexBy=T_,ue.sortedIndexOf=C_,ue.sortedLastIndex=dp,ue.sortedLastIndexBy=h0,ue.sortedLastIndexOf=Ww,ue.startCase=pT,ue.startsWith=nE,ue.subtract=vf,ue.sum=Kh,ue.sumBy=fg,ue.template=V0,ue.times=uE,ue.toFinite=eh,ue.toInteger=_s,ue.toLength=eg,ue.toLower=oE,ue.toNumber=gr,ue.toSafeInteger=tg,ue.toString=Mr,ue.toUpper=vT,ue.trim=sE,ue.trimEnd=F1,ue.trimStart=U0,ue.truncate=z0,ue.unescape=bp,ue.uniqueId=K0,ue.upperCase=ub,ue.upperFirst=H1,ue.each=hp,ue.eachRight=jv,ue.first=Yf,U1(ue,function(){var g={};return ac(ue,function(_,R){Ct.call(ue.prototype,R)||(g[R]=_)}),g}(),{chain:!1}),ue.VERSION=y,Nt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(g){ue[g].placeholder=ue}),Nt(["drop","take"],function(g,_){Us.prototype[g]=function(R){R=R===h?1:ii(_s(R),0);var q=this.__filtered__&&!_?new Us(this):this.clone();return q.__filtered__?q.__takeCount__=ha(R,q.__takeCount__):q.__views__.push({size:ha(R,Ge),type:g+(q.__dir__<0?"Right":"")}),q},Us.prototype[g+"Right"]=function(R){return this.reverse()[g](R).reverse()}}),Nt(["filter","map","takeWhile"],function(g,_){var R=_+1,q=R==wt||R==P;Us.prototype[g]=function(ce){var Ae=this.clone();return Ae.__iteratees__.push({iteratee:Oo(ce,3),type:R}),Ae.__filtered__=Ae.__filtered__||q,Ae}}),Nt(["head","last"],function(g,_){var R="take"+(_?"Right":"");Us.prototype[g]=function(){return this[R](1).value()[0]}}),Nt(["initial","tail"],function(g,_){var R="drop"+(_?"":"Right");Us.prototype[g]=function(){return this.__filtered__?new Us(this):this[R](1)}}),Us.prototype.compact=function(){return this.filter(Jl)},Us.prototype.find=function(g){return this.filter(g).head()},Us.prototype.findLast=function(g){return this.reverse().find(g)},Us.prototype.invokeMap=Ss(function(g,_){return typeof g=="function"?new Us(this):this.map(function(R){return We(R,g,_)})}),Us.prototype.reject=function(g){return this.filter(Rc(Oo(g)))},Us.prototype.slice=function(g,_){g=_s(g);var R=this;return R.__filtered__&&(g>0||_<0)?new Us(R):(g<0?R=R.takeRight(-g):g&&(R=R.drop(g)),_!==h&&(_=_s(_),R=_<0?R.dropRight(-_):R.take(_-g)),R)},Us.prototype.takeRightWhile=function(g){return this.reverse().takeWhile(g).reverse()},Us.prototype.toArray=function(){return this.take(Ge)},ac(Us.prototype,function(g,_){var R=/^(?:filter|find|map|reject)|While$/.test(_),q=/^(?:head|last)$/.test(_),ce=ue[q?"take"+(_=="last"?"Right":""):_],Ae=q||/^find/.test(_);ce&&(ue.prototype[_]=function(){var Fe=this.__wrapped__,qe=q?[1]:arguments,gt=Fe instanceof Us,en=qe[0],Jt=gt||ds(Fe),mn=function($s){var fs=ce.apply(ue,Kn([$s],qe));return q&&$n?fs[0]:fs};Jt&&R&&typeof en=="function"&&en.length!=1&&(gt=Jt=!1);var $n=this.__chain__,fo=!!this.__actions__.length,Lo=Ae&&!$n,No=gt&&!fo;if(!Ae&&Jt){Fe=No?Fe:new Us(this);var Ro=g.apply(Fe,qe);return Ro.__actions__.push({func:xl,args:[mn],thisArg:h}),new vl(Ro,$n)}return Lo&&No?g.apply(this,qe):(Ro=this.thru(mn),Lo?q?Ro.value()[0]:Ro.value():Ro)})}),Nt(["pop","push","shift","sort","splice","unshift"],function(g){var _=Te[g],R=/^(?:push|sort|unshift)$/.test(g)?"tap":"thru",q=/^(?:pop|shift)$/.test(g);ue.prototype[g]=function(){var ce=arguments;if(q&&!this.__chain__){var Ae=this.value();return _.apply(ds(Ae)?Ae:[],ce)}return this[R](function(Fe){return _.apply(ds(Fe)?Fe:[],ce)})}}),ac(Us.prototype,function(g,_){var R=ue[_];if(R){var q=R.name+"";Ct.call(zl,q)||(zl[q]=[]),zl[q].push({name:_,func:R})}}),zl[Mn(h,De).name]=[{name:"wrapper",func:h}],Us.prototype.clone=i1,Us.prototype.reverse=Qd,Us.prototype.value=a1,ue.prototype.at=Xf,ue.prototype.chain=Nr,ue.prototype.commit=ff,ue.prototype.next=Cd,ue.prototype.plant=N_,ue.prototype.reverse=y0,ue.prototype.toJSON=ue.prototype.valueOf=ue.prototype.value=Km,ue.prototype.first=ue.prototype.head,es&&(ue.prototype[es]=Yw),ue},ns=o1();I?((I.exports=ns)._=ns,T._=ns):la._=ns}).call(JS)})(Mne,vH);const kne=vH;var vZ={},Pne={get exports(){return vZ},set exports(a){vZ=a}};/*!
 * jQuery JavaScript Library v3.6.4
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-03-08T15:28Z
 */(function(a){(function(c,h){a.exports=c.document?h(c,!0):function(y){if(!y.document)throw new Error("jQuery requires a window with a document");return h(y)}})(typeof window<"u"?window:JS,function(c,h){var y=[],A=Object.getPrototypeOf,N=y.slice,D=y.flat?function(T){return y.flat.call(T)}:function(T){return y.concat.apply([],T)},U=y.push,G=y.indexOf,K={},Q=K.toString,ie=K.hasOwnProperty,_e=ie.toString,ve=_e.call(Object),de={},fe=function(I){return typeof I=="function"&&typeof I.nodeType!="number"&&typeof I.item!="function"},we=function(I){return I!=null&&I===I.window},De=c.document,Me={type:!0,src:!0,nonce:!0,noModule:!0};function oe(T,I,H){H=H||De;var z,X,re=H.createElement("script");if(re.text=T,I)for(z in Me)X=I[z]||I.getAttribute&&I.getAttribute(z),X&&re.setAttribute(z,X);H.head.appendChild(re).parentNode.removeChild(re)}function Be(T){return T==null?T+"":typeof T=="object"||typeof T=="function"?K[Q.call(T)]||"object":typeof T}var lt="3.6.4",F=function(T,I){return new F.fn.init(T,I)};F.fn=F.prototype={jquery:lt,constructor:F,length:0,toArray:function(){return N.call(this)},get:function(T){return T==null?N.call(this):T<0?this[T+this.length]:this[T]},pushStack:function(T){var I=F.merge(this.constructor(),T);return I.prevObject=this,I},each:function(T){return F.each(this,T)},map:function(T){return this.pushStack(F.map(this,function(I,H){return T.call(I,H,I)}))},slice:function(){return this.pushStack(N.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(F.grep(this,function(T,I){return(I+1)%2}))},odd:function(){return this.pushStack(F.grep(this,function(T,I){return I%2}))},eq:function(T){var I=this.length,H=+T+(T<0?I:0);return this.pushStack(H>=0&&H<I?[this[H]]:[])},end:function(){return this.prevObject||this.constructor()},push:U,sort:y.sort,splice:y.splice},F.extend=F.fn.extend=function(){var T,I,H,z,X,re,me=arguments[0]||{},pe=1,ke=arguments.length,st=!1;for(typeof me=="boolean"&&(st=me,me=arguments[pe]||{},pe++),typeof me!="object"&&!fe(me)&&(me={}),pe===ke&&(me=this,pe--);pe<ke;pe++)if((T=arguments[pe])!=null)for(I in T)z=T[I],!(I==="__proto__"||me===z)&&(st&&z&&(F.isPlainObject(z)||(X=Array.isArray(z)))?(H=me[I],X&&!Array.isArray(H)?re=[]:!X&&!F.isPlainObject(H)?re={}:re=H,X=!1,me[I]=F.extend(st,re,z)):z!==void 0&&(me[I]=z));return me},F.extend({expando:"jQuery"+(lt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(T){throw new Error(T)},noop:function(){},isPlainObject:function(T){var I,H;return!T||Q.call(T)!=="[object Object]"?!1:(I=A(T),I?(H=ie.call(I,"constructor")&&I.constructor,typeof H=="function"&&_e.call(H)===ve):!0)},isEmptyObject:function(T){var I;for(I in T)return!1;return!0},globalEval:function(T,I,H){oe(T,{nonce:I&&I.nonce},H)},each:function(T,I){var H,z=0;if(Ee(T))for(H=T.length;z<H&&I.call(T[z],z,T[z])!==!1;z++);else for(z in T)if(I.call(T[z],z,T[z])===!1)break;return T},makeArray:function(T,I){var H=I||[];return T!=null&&(Ee(Object(T))?F.merge(H,typeof T=="string"?[T]:T):U.call(H,T)),H},inArray:function(T,I,H){return I==null?-1:G.call(I,T,H)},merge:function(T,I){for(var H=+I.length,z=0,X=T.length;z<H;z++)T[X++]=I[z];return T.length=X,T},grep:function(T,I,H){for(var z,X=[],re=0,me=T.length,pe=!H;re<me;re++)z=!I(T[re],re),z!==pe&&X.push(T[re]);return X},map:function(T,I,H){var z,X,re=0,me=[];if(Ee(T))for(z=T.length;re<z;re++)X=I(T[re],re,H),X!=null&&me.push(X);else for(re in T)X=I(T[re],re,H),X!=null&&me.push(X);return D(me)},guid:1,support:de}),typeof Symbol=="function"&&(F.fn[Symbol.iterator]=y[Symbol.iterator]),F.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(T,I){K["[object "+I+"]"]=I.toLowerCase()});function Ee(T){var I=!!T&&"length"in T&&T.length,H=Be(T);return fe(T)||we(T)?!1:H==="array"||I===0||typeof I=="number"&&I>0&&I-1 in T}var Ze=function(T){var I,H,z,X,re,me,pe,ke,st,yt,Kt,ot,Nt,Jn,Zn,Tn,lr,Gs,ls,Kn="sizzle"+1*new Date,eo=T.document,ki=0,xo=0,_r=wc(),Bl=wc(),Vs=wc(),ur=wc(),Ir=function(Te,Pe){return Te===Pe&&(Kt=!0),0},Bc={}.hasOwnProperty,Ei=[],is=Ei.pop,dr=Ei.push,Oa=Ei.push,kf=Ei.slice,Fc=function(Te,Pe){for(var ze=0,Ht=Te.length;ze<Ht;ze++)if(Te[ze]===Pe)return ze;return-1},Ec="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ho="[\\x20\\t\\r\\n\\f]",zr="(?:\\\\[\\da-fA-F]{1,6}"+ho+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Pi="\\["+ho+"*("+zr+")(?:"+ho+"*([*^$|!~]?=)"+ho+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+zr+"))|)"+ho+"*\\]",oc=":("+zr+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Pi+")*)|.*)\\)|)",Ji=new RegExp(ho+"+","g"),fr=new RegExp("^"+ho+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ho+"+$","g"),Ha=new RegExp("^"+ho+"*,"+ho+"*"),Ra=new RegExp("^"+ho+"*([>+~]|"+ho+")"+ho+"*"),ud=new RegExp(ho+"|>"),Sh=new RegExp(oc),zg=new RegExp("^"+zr+"$"),Fl={ID:new RegExp("^#("+zr+")"),CLASS:new RegExp("^\\.("+zr+")"),TAG:new RegExp("^("+zr+"|[*])"),ATTR:new RegExp("^"+Pi),PSEUDO:new RegExp("^"+oc),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ho+"*(even|odd|(([+-]|)(\\d*)n|)"+ho+"*(?:([+-]|)"+ho+"*(\\d+)|))"+ho+"*\\)|)","i"),bool:new RegExp("^(?:"+Ec+")$","i"),needsContext:new RegExp("^"+ho+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ho+"*((?:-\\d)?\\d*)"+ho+"*\\)|)(?=[^-]|$)","i")},fu=/HTML$/i,Zd=/^(?:input|select|textarea|button)$/i,wi=/^h\d$/i,dd=/^[^{]+\{\s*\[native \w/,fd=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Lu=/[+~]/,sc=new RegExp("\\\\[\\da-fA-F]{1,6}"+ho+"?|\\\\([^\\r\\n\\f])","g"),ua=function(Te,Pe){var ze="0x"+Te.slice(1)-65536;return Pe||(ze<0?String.fromCharCode(ze+65536):String.fromCharCode(ze>>10|55296,ze&1023|56320))},hu=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,hd=function(Te,Pe){return Pe?Te==="\0"?"�":Te.slice(0,-1)+"\\"+Te.charCodeAt(Te.length-1).toString(16)+" ":"\\"+Te},Ah=function(){ot()},xh=_o(function(Te){return Te.disabled===!0&&Te.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{Oa.apply(Ei=kf.call(eo.childNodes),eo.childNodes),Ei[eo.childNodes.length].nodeType}catch{Oa={apply:Ei.length?function(Pe,ze){dr.apply(Pe,kf.call(ze))}:function(Pe,ze){for(var Ht=Pe.length,ct=0;Pe[Ht++]=ze[ct++];);Pe.length=Ht-1}}}function ws(Te,Pe,ze,Ht){var ct,Ct,Xt,An,Nn,to,bo,so=Pe&&Pe.ownerDocument,Zo=Pe?Pe.nodeType:9;if(ze=ze||[],typeof Te!="string"||!Te||Zo!==1&&Zo!==9&&Zo!==11)return ze;if(!Ht&&(ot(Pe),Pe=Pe||Nt,Zn)){if(Zo!==11&&(Nn=fd.exec(Te)))if(ct=Nn[1]){if(Zo===9)if(Xt=Pe.getElementById(ct)){if(Xt.id===ct)return ze.push(Xt),ze}else return ze;else if(so&&(Xt=so.getElementById(ct))&&ls(Pe,Xt)&&Xt.id===ct)return ze.push(Xt),ze}else{if(Nn[2])return Oa.apply(ze,Pe.getElementsByTagName(Te)),ze;if((ct=Nn[3])&&H.getElementsByClassName&&Pe.getElementsByClassName)return Oa.apply(ze,Pe.getElementsByClassName(ct)),ze}if(H.qsa&&!ur[Te+" "]&&(!Tn||!Tn.test(Te))&&(Zo!==1||Pe.nodeName.toLowerCase()!=="object")){if(bo=Te,so=Pe,Zo===1&&(ud.test(Te)||Ra.test(Te))){for(so=Lu.test(Te)&&Mt(Pe.parentNode)||Pe,(so!==Pe||!H.scope)&&((An=Pe.getAttribute("id"))?An=An.replace(hu,hd):Pe.setAttribute("id",An=Kn)),to=me(Te),Ct=to.length;Ct--;)to[Ct]=(An?"#"+An:":scope")+" "+Un(to[Ct]);bo=to.join(",")}try{return Oa.apply(ze,so.querySelectorAll(bo)),ze}catch{ur(Te,!0)}finally{An===Kn&&Pe.removeAttribute("id")}}}return ke(Te.replace(fr,"$1"),Pe,ze,Ht)}function wc(){var Te=[];function Pe(ze,Ht){return Te.push(ze+" ")>z.cacheLength&&delete Pe[Te.shift()],Pe[ze+" "]=Ht}return Pe}function Oe(Te){return Te[Kn]=!0,Te}function rc(Te){var Pe=Nt.createElement("fieldset");try{return!!Te(Pe)}catch{return!1}finally{Pe.parentNode&&Pe.parentNode.removeChild(Pe),Pe=null}}function da(Te,Pe){for(var ze=Te.split("|"),Ht=ze.length;Ht--;)z.attrHandle[ze[Ht]]=Pe}function Oh(Te,Pe){var ze=Pe&&Te,Ht=ze&&Te.nodeType===1&&Pe.nodeType===1&&Te.sourceIndex-Pe.sourceIndex;if(Ht)return Ht;if(ze){for(;ze=ze.nextSibling;)if(ze===Pe)return-1}return Te?1:-1}function md(Te){return function(Pe){var ze=Pe.nodeName.toLowerCase();return ze==="input"&&Pe.type===Te}}function o1(Te){return function(Pe){var ze=Pe.nodeName.toLowerCase();return(ze==="input"||ze==="button")&&Pe.type===Te}}function ns(Te){return function(Pe){return"form"in Pe?Pe.parentNode&&Pe.disabled===!1?"label"in Pe?"label"in Pe.parentNode?Pe.parentNode.disabled===Te:Pe.disabled===Te:Pe.isDisabled===Te||Pe.isDisabled!==!Te&&xh(Pe)===Te:Pe.disabled===Te:"label"in Pe?Pe.disabled===Te:!1}}function Qe(Te){return Oe(function(Pe){return Pe=+Pe,Oe(function(ze,Ht){for(var ct,Ct=Te([],ze.length,Pe),Xt=Ct.length;Xt--;)ze[ct=Ct[Xt]]&&(ze[ct]=!(Ht[ct]=ze[ct]))})})}function Mt(Te){return Te&&typeof Te.getElementsByTagName<"u"&&Te}H=ws.support={},re=ws.isXML=function(Te){var Pe=Te&&Te.namespaceURI,ze=Te&&(Te.ownerDocument||Te).documentElement;return!fu.test(Pe||ze&&ze.nodeName||"HTML")},ot=ws.setDocument=function(Te){var Pe,ze,Ht=Te?Te.ownerDocument||Te:eo;return Ht==Nt||Ht.nodeType!==9||!Ht.documentElement||(Nt=Ht,Jn=Nt.documentElement,Zn=!re(Nt),eo!=Nt&&(ze=Nt.defaultView)&&ze.top!==ze&&(ze.addEventListener?ze.addEventListener("unload",Ah,!1):ze.attachEvent&&ze.attachEvent("onunload",Ah)),H.scope=rc(function(ct){return Jn.appendChild(ct).appendChild(Nt.createElement("div")),typeof ct.querySelectorAll<"u"&&!ct.querySelectorAll(":scope fieldset div").length}),H.cssHas=rc(function(){try{return Nt.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),H.attributes=rc(function(ct){return ct.className="i",!ct.getAttribute("className")}),H.getElementsByTagName=rc(function(ct){return ct.appendChild(Nt.createComment("")),!ct.getElementsByTagName("*").length}),H.getElementsByClassName=dd.test(Nt.getElementsByClassName),H.getById=rc(function(ct){return Jn.appendChild(ct).id=Kn,!Nt.getElementsByName||!Nt.getElementsByName(Kn).length}),H.getById?(z.filter.ID=function(ct){var Ct=ct.replace(sc,ua);return function(Xt){return Xt.getAttribute("id")===Ct}},z.find.ID=function(ct,Ct){if(typeof Ct.getElementById<"u"&&Zn){var Xt=Ct.getElementById(ct);return Xt?[Xt]:[]}}):(z.filter.ID=function(ct){var Ct=ct.replace(sc,ua);return function(Xt){var An=typeof Xt.getAttributeNode<"u"&&Xt.getAttributeNode("id");return An&&An.value===Ct}},z.find.ID=function(ct,Ct){if(typeof Ct.getElementById<"u"&&Zn){var Xt,An,Nn,to=Ct.getElementById(ct);if(to){if(Xt=to.getAttributeNode("id"),Xt&&Xt.value===ct)return[to];for(Nn=Ct.getElementsByName(ct),An=0;to=Nn[An++];)if(Xt=to.getAttributeNode("id"),Xt&&Xt.value===ct)return[to]}return[]}}),z.find.TAG=H.getElementsByTagName?function(ct,Ct){if(typeof Ct.getElementsByTagName<"u")return Ct.getElementsByTagName(ct);if(H.qsa)return Ct.querySelectorAll(ct)}:function(ct,Ct){var Xt,An=[],Nn=0,to=Ct.getElementsByTagName(ct);if(ct==="*"){for(;Xt=to[Nn++];)Xt.nodeType===1&&An.push(Xt);return An}return to},z.find.CLASS=H.getElementsByClassName&&function(ct,Ct){if(typeof Ct.getElementsByClassName<"u"&&Zn)return Ct.getElementsByClassName(ct)},lr=[],Tn=[],(H.qsa=dd.test(Nt.querySelectorAll))&&(rc(function(ct){var Ct;Jn.appendChild(ct).innerHTML="<a id='"+Kn+"'></a><select id='"+Kn+"-\r\\' msallowcapture=''><option selected=''></option></select>",ct.querySelectorAll("[msallowcapture^='']").length&&Tn.push("[*^$]="+ho+`*(?:''|"")`),ct.querySelectorAll("[selected]").length||Tn.push("\\["+ho+"*(?:value|"+Ec+")"),ct.querySelectorAll("[id~="+Kn+"-]").length||Tn.push("~="),Ct=Nt.createElement("input"),Ct.setAttribute("name",""),ct.appendChild(Ct),ct.querySelectorAll("[name='']").length||Tn.push("\\["+ho+"*name"+ho+"*="+ho+`*(?:''|"")`),ct.querySelectorAll(":checked").length||Tn.push(":checked"),ct.querySelectorAll("a#"+Kn+"+*").length||Tn.push(".#.+[+~]"),ct.querySelectorAll("\\\f"),Tn.push("[\\r\\n\\f]")}),rc(function(ct){ct.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var Ct=Nt.createElement("input");Ct.setAttribute("type","hidden"),ct.appendChild(Ct).setAttribute("name","D"),ct.querySelectorAll("[name=d]").length&&Tn.push("name"+ho+"*[*^$|!~]?="),ct.querySelectorAll(":enabled").length!==2&&Tn.push(":enabled",":disabled"),Jn.appendChild(ct).disabled=!0,ct.querySelectorAll(":disabled").length!==2&&Tn.push(":enabled",":disabled"),ct.querySelectorAll("*,:x"),Tn.push(",.*:")})),(H.matchesSelector=dd.test(Gs=Jn.matches||Jn.webkitMatchesSelector||Jn.mozMatchesSelector||Jn.oMatchesSelector||Jn.msMatchesSelector))&&rc(function(ct){H.disconnectedMatch=Gs.call(ct,"*"),Gs.call(ct,"[s!='']:x"),lr.push("!=",oc)}),H.cssHas||Tn.push(":has"),Tn=Tn.length&&new RegExp(Tn.join("|")),lr=lr.length&&new RegExp(lr.join("|")),Pe=dd.test(Jn.compareDocumentPosition),ls=Pe||dd.test(Jn.contains)?function(ct,Ct){var Xt=ct.nodeType===9&&ct.documentElement||ct,An=Ct&&Ct.parentNode;return ct===An||!!(An&&An.nodeType===1&&(Xt.contains?Xt.contains(An):ct.compareDocumentPosition&&ct.compareDocumentPosition(An)&16))}:function(ct,Ct){if(Ct){for(;Ct=Ct.parentNode;)if(Ct===ct)return!0}return!1},Ir=Pe?function(ct,Ct){if(ct===Ct)return Kt=!0,0;var Xt=!ct.compareDocumentPosition-!Ct.compareDocumentPosition;return Xt||(Xt=(ct.ownerDocument||ct)==(Ct.ownerDocument||Ct)?ct.compareDocumentPosition(Ct):1,Xt&1||!H.sortDetached&&Ct.compareDocumentPosition(ct)===Xt?ct==Nt||ct.ownerDocument==eo&&ls(eo,ct)?-1:Ct==Nt||Ct.ownerDocument==eo&&ls(eo,Ct)?1:yt?Fc(yt,ct)-Fc(yt,Ct):0:Xt&4?-1:1)}:function(ct,Ct){if(ct===Ct)return Kt=!0,0;var Xt,An=0,Nn=ct.parentNode,to=Ct.parentNode,bo=[ct],so=[Ct];if(!Nn||!to)return ct==Nt?-1:Ct==Nt?1:Nn?-1:to?1:yt?Fc(yt,ct)-Fc(yt,Ct):0;if(Nn===to)return Oh(ct,Ct);for(Xt=ct;Xt=Xt.parentNode;)bo.unshift(Xt);for(Xt=Ct;Xt=Xt.parentNode;)so.unshift(Xt);for(;bo[An]===so[An];)An++;return An?Oh(bo[An],so[An]):bo[An]==eo?-1:so[An]==eo?1:0}),Nt},ws.matches=function(Te,Pe){return ws(Te,null,null,Pe)},ws.matchesSelector=function(Te,Pe){if(ot(Te),H.matchesSelector&&Zn&&!ur[Pe+" "]&&(!lr||!lr.test(Pe))&&(!Tn||!Tn.test(Pe)))try{var ze=Gs.call(Te,Pe);if(ze||H.disconnectedMatch||Te.document&&Te.document.nodeType!==11)return ze}catch{ur(Pe,!0)}return ws(Pe,Nt,null,[Te]).length>0},ws.contains=function(Te,Pe){return(Te.ownerDocument||Te)!=Nt&&ot(Te),ls(Te,Pe)},ws.attr=function(Te,Pe){(Te.ownerDocument||Te)!=Nt&&ot(Te);var ze=z.attrHandle[Pe.toLowerCase()],Ht=ze&&Bc.call(z.attrHandle,Pe.toLowerCase())?ze(Te,Pe,!Zn):void 0;return Ht!==void 0?Ht:H.attributes||!Zn?Te.getAttribute(Pe):(Ht=Te.getAttributeNode(Pe))&&Ht.specified?Ht.value:null},ws.escape=function(Te){return(Te+"").replace(hu,hd)},ws.error=function(Te){throw new Error("Syntax error, unrecognized expression: "+Te)},ws.uniqueSort=function(Te){var Pe,ze=[],Ht=0,ct=0;if(Kt=!H.detectDuplicates,yt=!H.sortStable&&Te.slice(0),Te.sort(Ir),Kt){for(;Pe=Te[ct++];)Pe===Te[ct]&&(Ht=ze.push(ct));for(;Ht--;)Te.splice(ze[Ht],1)}return yt=null,Te},X=ws.getText=function(Te){var Pe,ze="",Ht=0,ct=Te.nodeType;if(ct){if(ct===1||ct===9||ct===11){if(typeof Te.textContent=="string")return Te.textContent;for(Te=Te.firstChild;Te;Te=Te.nextSibling)ze+=X(Te)}else if(ct===3||ct===4)return Te.nodeValue}else for(;Pe=Te[Ht++];)ze+=X(Pe);return ze},z=ws.selectors={cacheLength:50,createPseudo:Oe,match:Fl,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Te){return Te[1]=Te[1].replace(sc,ua),Te[3]=(Te[3]||Te[4]||Te[5]||"").replace(sc,ua),Te[2]==="~="&&(Te[3]=" "+Te[3]+" "),Te.slice(0,4)},CHILD:function(Te){return Te[1]=Te[1].toLowerCase(),Te[1].slice(0,3)==="nth"?(Te[3]||ws.error(Te[0]),Te[4]=+(Te[4]?Te[5]+(Te[6]||1):2*(Te[3]==="even"||Te[3]==="odd")),Te[5]=+(Te[7]+Te[8]||Te[3]==="odd")):Te[3]&&ws.error(Te[0]),Te},PSEUDO:function(Te){var Pe,ze=!Te[6]&&Te[2];return Fl.CHILD.test(Te[0])?null:(Te[3]?Te[2]=Te[4]||Te[5]||"":ze&&Sh.test(ze)&&(Pe=me(ze,!0))&&(Pe=ze.indexOf(")",ze.length-Pe)-ze.length)&&(Te[0]=Te[0].slice(0,Pe),Te[2]=ze.slice(0,Pe)),Te.slice(0,3))}},filter:{TAG:function(Te){var Pe=Te.replace(sc,ua).toLowerCase();return Te==="*"?function(){return!0}:function(ze){return ze.nodeName&&ze.nodeName.toLowerCase()===Pe}},CLASS:function(Te){var Pe=_r[Te+" "];return Pe||(Pe=new RegExp("(^|"+ho+")"+Te+"("+ho+"|$)"))&&_r(Te,function(ze){return Pe.test(typeof ze.className=="string"&&ze.className||typeof ze.getAttribute<"u"&&ze.getAttribute("class")||"")})},ATTR:function(Te,Pe,ze){return function(Ht){var ct=ws.attr(Ht,Te);return ct==null?Pe==="!=":Pe?(ct+="",Pe==="="?ct===ze:Pe==="!="?ct!==ze:Pe==="^="?ze&&ct.indexOf(ze)===0:Pe==="*="?ze&&ct.indexOf(ze)>-1:Pe==="$="?ze&&ct.slice(-ze.length)===ze:Pe==="~="?(" "+ct.replace(Ji," ")+" ").indexOf(ze)>-1:Pe==="|="?ct===ze||ct.slice(0,ze.length+1)===ze+"-":!1):!0}},CHILD:function(Te,Pe,ze,Ht,ct){var Ct=Te.slice(0,3)!=="nth",Xt=Te.slice(-4)!=="last",An=Pe==="of-type";return Ht===1&&ct===0?function(Nn){return!!Nn.parentNode}:function(Nn,to,bo){var so,Zo,Rs,To,Li,$i,Va=Ct!==Xt?"nextSibling":"previousSibling",Qs=Nn.parentNode,Hl=An&&Nn.nodeName.toLowerCase(),Ps=!bo&&!An,es=!1;if(Qs){if(Ct){for(;Va;){for(To=Nn;To=To[Va];)if(An?To.nodeName.toLowerCase()===Hl:To.nodeType===1)return!1;$i=Va=Te==="only"&&!$i&&"nextSibling"}return!0}if($i=[Xt?Qs.firstChild:Qs.lastChild],Xt&&Ps){for(To=Qs,Rs=To[Kn]||(To[Kn]={}),Zo=Rs[To.uniqueID]||(Rs[To.uniqueID]={}),so=Zo[Te]||[],Li=so[0]===ki&&so[1],es=Li&&so[2],To=Li&&Qs.childNodes[Li];To=++Li&&To&&To[Va]||(es=Li=0)||$i.pop();)if(To.nodeType===1&&++es&&To===Nn){Zo[Te]=[ki,Li,es];break}}else if(Ps&&(To=Nn,Rs=To[Kn]||(To[Kn]={}),Zo=Rs[To.uniqueID]||(Rs[To.uniqueID]={}),so=Zo[Te]||[],Li=so[0]===ki&&so[1],es=Li),es===!1)for(;(To=++Li&&To&&To[Va]||(es=Li=0)||$i.pop())&&!((An?To.nodeName.toLowerCase()===Hl:To.nodeType===1)&&++es&&(Ps&&(Rs=To[Kn]||(To[Kn]={}),Zo=Rs[To.uniqueID]||(Rs[To.uniqueID]={}),Zo[Te]=[ki,es]),To===Nn)););return es-=ct,es===Ht||es%Ht===0&&es/Ht>=0}}},PSEUDO:function(Te,Pe){var ze,Ht=z.pseudos[Te]||z.setFilters[Te.toLowerCase()]||ws.error("unsupported pseudo: "+Te);return Ht[Kn]?Ht(Pe):Ht.length>1?(ze=[Te,Te,"",Pe],z.setFilters.hasOwnProperty(Te.toLowerCase())?Oe(function(ct,Ct){for(var Xt,An=Ht(ct,Pe),Nn=An.length;Nn--;)Xt=Fc(ct,An[Nn]),ct[Xt]=!(Ct[Xt]=An[Nn])}):function(ct){return Ht(ct,0,ze)}):Ht}},pseudos:{not:Oe(function(Te){var Pe=[],ze=[],Ht=pe(Te.replace(fr,"$1"));return Ht[Kn]?Oe(function(ct,Ct,Xt,An){for(var Nn,to=Ht(ct,null,An,[]),bo=ct.length;bo--;)(Nn=to[bo])&&(ct[bo]=!(Ct[bo]=Nn))}):function(ct,Ct,Xt){return Pe[0]=ct,Ht(Pe,null,Xt,ze),Pe[0]=null,!ze.pop()}}),has:Oe(function(Te){return function(Pe){return ws(Te,Pe).length>0}}),contains:Oe(function(Te){return Te=Te.replace(sc,ua),function(Pe){return(Pe.textContent||X(Pe)).indexOf(Te)>-1}}),lang:Oe(function(Te){return zg.test(Te||"")||ws.error("unsupported lang: "+Te),Te=Te.replace(sc,ua).toLowerCase(),function(Pe){var ze;do if(ze=Zn?Pe.lang:Pe.getAttribute("xml:lang")||Pe.getAttribute("lang"))return ze=ze.toLowerCase(),ze===Te||ze.indexOf(Te+"-")===0;while((Pe=Pe.parentNode)&&Pe.nodeType===1);return!1}}),target:function(Te){var Pe=T.location&&T.location.hash;return Pe&&Pe.slice(1)===Te.id},root:function(Te){return Te===Jn},focus:function(Te){return Te===Nt.activeElement&&(!Nt.hasFocus||Nt.hasFocus())&&!!(Te.type||Te.href||~Te.tabIndex)},enabled:ns(!1),disabled:ns(!0),checked:function(Te){var Pe=Te.nodeName.toLowerCase();return Pe==="input"&&!!Te.checked||Pe==="option"&&!!Te.selected},selected:function(Te){return Te.parentNode&&Te.parentNode.selectedIndex,Te.selected===!0},empty:function(Te){for(Te=Te.firstChild;Te;Te=Te.nextSibling)if(Te.nodeType<6)return!1;return!0},parent:function(Te){return!z.pseudos.empty(Te)},header:function(Te){return wi.test(Te.nodeName)},input:function(Te){return Zd.test(Te.nodeName)},button:function(Te){var Pe=Te.nodeName.toLowerCase();return Pe==="input"&&Te.type==="button"||Pe==="button"},text:function(Te){var Pe;return Te.nodeName.toLowerCase()==="input"&&Te.type==="text"&&((Pe=Te.getAttribute("type"))==null||Pe.toLowerCase()==="text")},first:Qe(function(){return[0]}),last:Qe(function(Te,Pe){return[Pe-1]}),eq:Qe(function(Te,Pe,ze){return[ze<0?ze+Pe:ze]}),even:Qe(function(Te,Pe){for(var ze=0;ze<Pe;ze+=2)Te.push(ze);return Te}),odd:Qe(function(Te,Pe){for(var ze=1;ze<Pe;ze+=2)Te.push(ze);return Te}),lt:Qe(function(Te,Pe,ze){for(var Ht=ze<0?ze+Pe:ze>Pe?Pe:ze;--Ht>=0;)Te.push(Ht);return Te}),gt:Qe(function(Te,Pe,ze){for(var Ht=ze<0?ze+Pe:ze;++Ht<Pe;)Te.push(Ht);return Te})}},z.pseudos.nth=z.pseudos.eq;for(I in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})z.pseudos[I]=md(I);for(I in{submit:!0,reset:!0})z.pseudos[I]=o1(I);function xt(){}xt.prototype=z.filters=z.pseudos,z.setFilters=new xt,me=ws.tokenize=function(Te,Pe){var ze,Ht,ct,Ct,Xt,An,Nn,to=Bl[Te+" "];if(to)return Pe?0:to.slice(0);for(Xt=Te,An=[],Nn=z.preFilter;Xt;){(!ze||(Ht=Ha.exec(Xt)))&&(Ht&&(Xt=Xt.slice(Ht[0].length)||Xt),An.push(ct=[])),ze=!1,(Ht=Ra.exec(Xt))&&(ze=Ht.shift(),ct.push({value:ze,type:Ht[0].replace(fr," ")}),Xt=Xt.slice(ze.length));for(Ct in z.filter)(Ht=Fl[Ct].exec(Xt))&&(!Nn[Ct]||(Ht=Nn[Ct](Ht)))&&(ze=Ht.shift(),ct.push({value:ze,type:Ct,matches:Ht}),Xt=Xt.slice(ze.length));if(!ze)break}return Pe?Xt.length:Xt?ws.error(Te):Bl(Te,An).slice(0)};function Un(Te){for(var Pe=0,ze=Te.length,Ht="";Pe<ze;Pe++)Ht+=Te[Pe].value;return Ht}function _o(Te,Pe,ze){var Ht=Pe.dir,ct=Pe.next,Ct=ct||Ht,Xt=ze&&Ct==="parentNode",An=xo++;return Pe.first?function(Nn,to,bo){for(;Nn=Nn[Ht];)if(Nn.nodeType===1||Xt)return Te(Nn,to,bo);return!1}:function(Nn,to,bo){var so,Zo,Rs,To=[ki,An];if(bo){for(;Nn=Nn[Ht];)if((Nn.nodeType===1||Xt)&&Te(Nn,to,bo))return!0}else for(;Nn=Nn[Ht];)if(Nn.nodeType===1||Xt)if(Rs=Nn[Kn]||(Nn[Kn]={}),Zo=Rs[Nn.uniqueID]||(Rs[Nn.uniqueID]={}),ct&&ct===Nn.nodeName.toLowerCase())Nn=Nn[Ht]||Nn;else{if((so=Zo[Ct])&&so[0]===ki&&so[1]===An)return To[2]=so[2];if(Zo[Ct]=To,To[2]=Te(Nn,to,bo))return!0}return!1}}function Vo(Te){return Te.length>1?function(Pe,ze,Ht){for(var ct=Te.length;ct--;)if(!Te[ct](Pe,ze,Ht))return!1;return!0}:Te[0]}function Xr(Te,Pe,ze){for(var Ht=0,ct=Pe.length;Ht<ct;Ht++)ws(Te,Pe[Ht],ze);return ze}function qs(Te,Pe,ze,Ht,ct){for(var Ct,Xt=[],An=0,Nn=Te.length,to=Pe!=null;An<Nn;An++)(Ct=Te[An])&&(!ze||ze(Ct,Ht,ct))&&(Xt.push(Ct),to&&Pe.push(An));return Xt}function gd(Te,Pe,ze,Ht,ct,Ct){return Ht&&!Ht[Kn]&&(Ht=gd(Ht)),ct&&!ct[Kn]&&(ct=gd(ct,Ct)),Oe(function(Xt,An,Nn,to){var bo,so,Zo,Rs=[],To=[],Li=An.length,$i=Xt||Xr(Pe||"*",Nn.nodeType?[Nn]:Nn,[]),Va=Te&&(Xt||!Pe)?qs($i,Rs,Te,Nn,to):$i,Qs=ze?ct||(Xt?Te:Li||Ht)?[]:An:Va;if(ze&&ze(Va,Qs,Nn,to),Ht)for(bo=qs(Qs,To),Ht(bo,[],Nn,to),so=bo.length;so--;)(Zo=bo[so])&&(Qs[To[so]]=!(Va[To[so]]=Zo));if(Xt){if(ct||Te){if(ct){for(bo=[],so=Qs.length;so--;)(Zo=Qs[so])&&bo.push(Va[so]=Zo);ct(null,Qs=[],bo,to)}for(so=Qs.length;so--;)(Zo=Qs[so])&&(bo=ct?Fc(Xt,Zo):Rs[so])>-1&&(Xt[bo]=!(An[bo]=Zo))}}else Qs=qs(Qs===An?Qs.splice(Li,Qs.length):Qs),ct?ct(null,An,Qs,to):Oa.apply(An,Qs)})}function Tc(Te){for(var Pe,ze,Ht,ct=Te.length,Ct=z.relative[Te[0].type],Xt=Ct||z.relative[" "],An=Ct?1:0,Nn=_o(function(so){return so===Pe},Xt,!0),to=_o(function(so){return Fc(Pe,so)>-1},Xt,!0),bo=[function(so,Zo,Rs){var To=!Ct&&(Rs||Zo!==st)||((Pe=Zo).nodeType?Nn(so,Zo,Rs):to(so,Zo,Rs));return Pe=null,To}];An<ct;An++)if(ze=z.relative[Te[An].type])bo=[_o(Vo(bo),ze)];else{if(ze=z.filter[Te[An].type].apply(null,Te[An].matches),ze[Kn]){for(Ht=++An;Ht<ct&&!z.relative[Te[Ht].type];Ht++);return gd(An>1&&Vo(bo),An>1&&Un(Te.slice(0,An-1).concat({value:Te[An-2].type===" "?"*":""})).replace(fr,"$1"),ze,An<Ht&&Tc(Te.slice(An,Ht)),Ht<ct&&Tc(Te=Te.slice(Ht)),Ht<ct&&Un(Te))}bo.push(ze)}return Vo(bo)}function Ia(Te,Pe){var ze=Pe.length>0,Ht=Te.length>0,ct=function(Ct,Xt,An,Nn,to){var bo,so,Zo,Rs=0,To="0",Li=Ct&&[],$i=[],Va=st,Qs=Ct||Ht&&z.find.TAG("*",to),Hl=ki+=Va==null?1:Math.random()||.1,Ps=Qs.length;for(to&&(st=Xt==Nt||Xt||to);To!==Ps&&(bo=Qs[To])!=null;To++){if(Ht&&bo){for(so=0,!Xt&&bo.ownerDocument!=Nt&&(ot(bo),An=!Zn);Zo=Te[so++];)if(Zo(bo,Xt||Nt,An)){Nn.push(bo);break}to&&(ki=Hl)}ze&&((bo=!Zo&&bo)&&Rs--,Ct&&Li.push(bo))}if(Rs+=To,ze&&To!==Rs){for(so=0;Zo=Pe[so++];)Zo(Li,$i,Xt,An);if(Ct){if(Rs>0)for(;To--;)Li[To]||$i[To]||($i[To]=is.call(Nn));$i=qs($i)}Oa.apply(Nn,$i),to&&!Ct&&$i.length>0&&Rs+Pe.length>1&&ws.uniqueSort(Nn)}return to&&(ki=Hl,st=Va),Li};return ze?Oe(ct):ct}return pe=ws.compile=function(Te,Pe){var ze,Ht=[],ct=[],Ct=Vs[Te+" "];if(!Ct){for(Pe||(Pe=me(Te)),ze=Pe.length;ze--;)Ct=Tc(Pe[ze]),Ct[Kn]?Ht.push(Ct):ct.push(Ct);Ct=Vs(Te,Ia(ct,Ht)),Ct.selector=Te}return Ct},ke=ws.select=function(Te,Pe,ze,Ht){var ct,Ct,Xt,An,Nn,to=typeof Te=="function"&&Te,bo=!Ht&&me(Te=to.selector||Te);if(ze=ze||[],bo.length===1){if(Ct=bo[0]=bo[0].slice(0),Ct.length>2&&(Xt=Ct[0]).type==="ID"&&Pe.nodeType===9&&Zn&&z.relative[Ct[1].type]){if(Pe=(z.find.ID(Xt.matches[0].replace(sc,ua),Pe)||[])[0],Pe)to&&(Pe=Pe.parentNode);else return ze;Te=Te.slice(Ct.shift().value.length)}for(ct=Fl.needsContext.test(Te)?0:Ct.length;ct--&&(Xt=Ct[ct],!z.relative[An=Xt.type]);)if((Nn=z.find[An])&&(Ht=Nn(Xt.matches[0].replace(sc,ua),Lu.test(Ct[0].type)&&Mt(Pe.parentNode)||Pe))){if(Ct.splice(ct,1),Te=Ht.length&&Un(Ct),!Te)return Oa.apply(ze,Ht),ze;break}}return(to||pe(Te,bo))(Ht,Pe,!Zn,ze,!Pe||Lu.test(Te)&&Mt(Pe.parentNode)||Pe),ze},H.sortStable=Kn.split("").sort(Ir).join("")===Kn,H.detectDuplicates=!!Kt,ot(),H.sortDetached=rc(function(Te){return Te.compareDocumentPosition(Nt.createElement("fieldset"))&1}),rc(function(Te){return Te.innerHTML="<a href='#'></a>",Te.firstChild.getAttribute("href")==="#"})||da("type|href|height|width",function(Te,Pe,ze){if(!ze)return Te.getAttribute(Pe,Pe.toLowerCase()==="type"?1:2)}),(!H.attributes||!rc(function(Te){return Te.innerHTML="<input/>",Te.firstChild.setAttribute("value",""),Te.firstChild.getAttribute("value")===""}))&&da("value",function(Te,Pe,ze){if(!ze&&Te.nodeName.toLowerCase()==="input")return Te.defaultValue}),rc(function(Te){return Te.getAttribute("disabled")==null})||da(Ec,function(Te,Pe,ze){var Ht;if(!ze)return Te[Pe]===!0?Pe.toLowerCase():(Ht=Te.getAttributeNode(Pe))&&Ht.specified?Ht.value:null}),ws}(c);F.find=Ze,F.expr=Ze.selectors,F.expr[":"]=F.expr.pseudos,F.uniqueSort=F.unique=Ze.uniqueSort,F.text=Ze.getText,F.isXMLDoc=Ze.isXML,F.contains=Ze.contains,F.escapeSelector=Ze.escape;var ht=function(T,I,H){for(var z=[],X=H!==void 0;(T=T[I])&&T.nodeType!==9;)if(T.nodeType===1){if(X&&F(T).is(H))break;z.push(T)}return z},Et=function(T,I){for(var H=[];T;T=T.nextSibling)T.nodeType===1&&T!==I&&H.push(T);return H},Ne=F.expr.match.needsContext;function ge(T,I){return T.nodeName&&T.nodeName.toLowerCase()===I.toLowerCase()}var gn=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function wt(T,I,H){return fe(I)?F.grep(T,function(z,X){return!!I.call(z,X,z)!==H}):I.nodeType?F.grep(T,function(z){return z===I!==H}):typeof I!="string"?F.grep(T,function(z){return G.call(I,z)>-1!==H}):F.filter(I,T,H)}F.filter=function(T,I,H){var z=I[0];return H&&(T=":not("+T+")"),I.length===1&&z.nodeType===1?F.find.matchesSelector(z,T)?[z]:[]:F.find.matches(T,F.grep(I,function(X){return X.nodeType===1}))},F.fn.extend({find:function(T){var I,H,z=this.length,X=this;if(typeof T!="string")return this.pushStack(F(T).filter(function(){for(I=0;I<z;I++)if(F.contains(X[I],this))return!0}));for(H=this.pushStack([]),I=0;I<z;I++)F.find(T,X[I],H);return z>1?F.uniqueSort(H):H},filter:function(T){return this.pushStack(wt(this,T||[],!1))},not:function(T){return this.pushStack(wt(this,T||[],!0))},is:function(T){return!!wt(this,typeof T=="string"&&Ne.test(T)?F(T):T||[],!1).length}});var Ot,P=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Rt=F.fn.init=function(T,I,H){var z,X;if(!T)return this;if(H=H||Ot,typeof T=="string")if(T[0]==="<"&&T[T.length-1]===">"&&T.length>=3?z=[null,T,null]:z=P.exec(T),z&&(z[1]||!I))if(z[1]){if(I=I instanceof F?I[0]:I,F.merge(this,F.parseHTML(z[1],I&&I.nodeType?I.ownerDocument||I:De,!0)),gn.test(z[1])&&F.isPlainObject(I))for(z in I)fe(this[z])?this[z](I[z]):this.attr(z,I[z]);return this}else return X=De.getElementById(z[2]),X&&(this[0]=X,this.length=1),this;else return!I||I.jquery?(I||H).find(T):this.constructor(I).find(T);else{if(T.nodeType)return this[0]=T,this.length=1,this;if(fe(T))return H.ready!==void 0?H.ready(T):T(F)}return F.makeArray(T,this)};Rt.prototype=F.fn,Ot=F(De);var et=/^(?:parents|prev(?:Until|All))/,qt={children:!0,contents:!0,next:!0,prev:!0};F.fn.extend({has:function(T){var I=F(T,this),H=I.length;return this.filter(function(){for(var z=0;z<H;z++)if(F.contains(this,I[z]))return!0})},closest:function(T,I){var H,z=0,X=this.length,re=[],me=typeof T!="string"&&F(T);if(!Ne.test(T)){for(;z<X;z++)for(H=this[z];H&&H!==I;H=H.parentNode)if(H.nodeType<11&&(me?me.index(H)>-1:H.nodeType===1&&F.find.matchesSelector(H,T))){re.push(H);break}}return this.pushStack(re.length>1?F.uniqueSort(re):re)},index:function(T){return T?typeof T=="string"?G.call(F(T),this[0]):G.call(this,T.jquery?T[0]:T):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(T,I){return this.pushStack(F.uniqueSort(F.merge(this.get(),F(T,I))))},addBack:function(T){return this.add(T==null?this.prevObject:this.prevObject.filter(T))}});function Vt(T,I){for(;(T=T[I])&&T.nodeType!==1;);return T}F.each({parent:function(T){var I=T.parentNode;return I&&I.nodeType!==11?I:null},parents:function(T){return ht(T,"parentNode")},parentsUntil:function(T,I,H){return ht(T,"parentNode",H)},next:function(T){return Vt(T,"nextSibling")},prev:function(T){return Vt(T,"previousSibling")},nextAll:function(T){return ht(T,"nextSibling")},prevAll:function(T){return ht(T,"previousSibling")},nextUntil:function(T,I,H){return ht(T,"nextSibling",H)},prevUntil:function(T,I,H){return ht(T,"previousSibling",H)},siblings:function(T){return Et((T.parentNode||{}).firstChild,T)},children:function(T){return Et(T.firstChild)},contents:function(T){return T.contentDocument!=null&&A(T.contentDocument)?T.contentDocument:(ge(T,"template")&&(T=T.content||T),F.merge([],T.childNodes))}},function(T,I){F.fn[T]=function(H,z){var X=F.map(this,I,H);return T.slice(-5)!=="Until"&&(z=H),z&&typeof z=="string"&&(X=F.filter(z,X)),this.length>1&&(qt[T]||F.uniqueSort(X),et.test(T)&&X.reverse()),this.pushStack(X)}});var Ge=/[^\x20\t\r\n\f]+/g;function vo(T){var I={};return F.each(T.match(Ge)||[],function(H,z){I[z]=!0}),I}F.Callbacks=function(T){T=typeof T=="string"?vo(T):F.extend({},T);var I,H,z,X,re=[],me=[],pe=-1,ke=function(){for(X=X||T.once,z=I=!0;me.length;pe=-1)for(H=me.shift();++pe<re.length;)re[pe].apply(H[0],H[1])===!1&&T.stopOnFalse&&(pe=re.length,H=!1);T.memory||(H=!1),I=!1,X&&(H?re=[]:re="")},st={add:function(){return re&&(H&&!I&&(pe=re.length-1,me.push(H)),function yt(Kt){F.each(Kt,function(ot,Nt){fe(Nt)?(!T.unique||!st.has(Nt))&&re.push(Nt):Nt&&Nt.length&&Be(Nt)!=="string"&&yt(Nt)})}(arguments),H&&!I&&ke()),this},remove:function(){return F.each(arguments,function(yt,Kt){for(var ot;(ot=F.inArray(Kt,re,ot))>-1;)re.splice(ot,1),ot<=pe&&pe--}),this},has:function(yt){return yt?F.inArray(yt,re)>-1:re.length>0},empty:function(){return re&&(re=[]),this},disable:function(){return X=me=[],re=H="",this},disabled:function(){return!re},lock:function(){return X=me=[],!H&&!I&&(re=H=""),this},locked:function(){return!!X},fireWith:function(yt,Kt){return X||(Kt=Kt||[],Kt=[yt,Kt.slice?Kt.slice():Kt],me.push(Kt),I||ke()),this},fire:function(){return st.fireWith(this,arguments),this},fired:function(){return!!z}};return st};function Bo(T){return T}function ao(T){throw T}function Fo(T,I,H,z){var X;try{T&&fe(X=T.promise)?X.call(T).done(I).fail(H):T&&fe(X=T.then)?X.call(T,I,H):I.apply(void 0,[T].slice(z))}catch(re){H.apply(void 0,[re])}}F.extend({Deferred:function(T){var I=[["notify","progress",F.Callbacks("memory"),F.Callbacks("memory"),2],["resolve","done",F.Callbacks("once memory"),F.Callbacks("once memory"),0,"resolved"],["reject","fail",F.Callbacks("once memory"),F.Callbacks("once memory"),1,"rejected"]],H="pending",z={state:function(){return H},always:function(){return X.done(arguments).fail(arguments),this},catch:function(re){return z.then(null,re)},pipe:function(){var re=arguments;return F.Deferred(function(me){F.each(I,function(pe,ke){var st=fe(re[ke[4]])&&re[ke[4]];X[ke[1]](function(){var yt=st&&st.apply(this,arguments);yt&&fe(yt.promise)?yt.promise().progress(me.notify).done(me.resolve).fail(me.reject):me[ke[0]+"With"](this,st?[yt]:arguments)})}),re=null}).promise()},then:function(re,me,pe){var ke=0;function st(yt,Kt,ot,Nt){return function(){var Jn=this,Zn=arguments,Tn=function(){var Gs,ls;if(!(yt<ke)){if(Gs=ot.apply(Jn,Zn),Gs===Kt.promise())throw new TypeError("Thenable self-resolution");ls=Gs&&(typeof Gs=="object"||typeof Gs=="function")&&Gs.then,fe(ls)?Nt?ls.call(Gs,st(ke,Kt,Bo,Nt),st(ke,Kt,ao,Nt)):(ke++,ls.call(Gs,st(ke,Kt,Bo,Nt),st(ke,Kt,ao,Nt),st(ke,Kt,Bo,Kt.notifyWith))):(ot!==Bo&&(Jn=void 0,Zn=[Gs]),(Nt||Kt.resolveWith)(Jn,Zn))}},lr=Nt?Tn:function(){try{Tn()}catch(Gs){F.Deferred.exceptionHook&&F.Deferred.exceptionHook(Gs,lr.stackTrace),yt+1>=ke&&(ot!==ao&&(Jn=void 0,Zn=[Gs]),Kt.rejectWith(Jn,Zn))}};yt?lr():(F.Deferred.getStackHook&&(lr.stackTrace=F.Deferred.getStackHook()),c.setTimeout(lr))}}return F.Deferred(function(yt){I[0][3].add(st(0,yt,fe(pe)?pe:Bo,yt.notifyWith)),I[1][3].add(st(0,yt,fe(re)?re:Bo)),I[2][3].add(st(0,yt,fe(me)?me:ao))}).promise()},promise:function(re){return re!=null?F.extend(re,z):z}},X={};return F.each(I,function(re,me){var pe=me[2],ke=me[5];z[me[1]]=pe.add,ke&&pe.add(function(){H=ke},I[3-re][2].disable,I[3-re][3].disable,I[0][2].lock,I[0][3].lock),pe.add(me[3].fire),X[me[0]]=function(){return X[me[0]+"With"](this===X?void 0:this,arguments),this},X[me[0]+"With"]=pe.fireWith}),z.promise(X),T&&T.call(X,X),X},when:function(T){var I=arguments.length,H=I,z=Array(H),X=N.call(arguments),re=F.Deferred(),me=function(pe){return function(ke){z[pe]=this,X[pe]=arguments.length>1?N.call(arguments):ke,--I||re.resolveWith(z,X)}};if(I<=1&&(Fo(T,re.done(me(H)).resolve,re.reject,!I),re.state()==="pending"||fe(X[H]&&X[H].then)))return re.then();for(;H--;)Fo(X[H],me(H),re.reject);return re.promise()}});var Je=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;F.Deferred.exceptionHook=function(T,I){c.console&&c.console.warn&&T&&Je.test(T.name)&&c.console.warn("jQuery.Deferred exception: "+T.message,T.stack,I)},F.readyException=function(T){c.setTimeout(function(){throw T})};var It=F.Deferred();F.fn.ready=function(T){return It.then(T).catch(function(I){F.readyException(I)}),this},F.extend({isReady:!1,readyWait:1,ready:function(T){(T===!0?--F.readyWait:F.isReady)||(F.isReady=!0,!(T!==!0&&--F.readyWait>0)&&It.resolveWith(De,[F]))}}),F.ready.then=It.then;function te(){De.removeEventListener("DOMContentLoaded",te),c.removeEventListener("load",te),F.ready()}De.readyState==="complete"||De.readyState!=="loading"&&!De.documentElement.doScroll?c.setTimeout(F.ready):(De.addEventListener("DOMContentLoaded",te),c.addEventListener("load",te));var cs=function(T,I,H,z,X,re,me){var pe=0,ke=T.length,st=H==null;if(Be(H)==="object"){X=!0;for(pe in H)cs(T,I,pe,H[pe],!0,re,me)}else if(z!==void 0&&(X=!0,fe(z)||(me=!0),st&&(me?(I.call(T,z),I=null):(st=I,I=function(yt,Kt,ot){return st.call(F(yt),ot)})),I))for(;pe<ke;pe++)I(T[pe],H,me?z:z.call(T[pe],pe,I(T[pe],H)));return X?T:st?I.call(T):ke?I(T[0],H):re},uo=/^-ms-/,Bt=/-([a-z])/g;function ps(T,I){return I.toUpperCase()}function Xa(T){return T.replace(uo,"ms-").replace(Bt,ps)}var kn=function(T){return T.nodeType===1||T.nodeType===9||!+T.nodeType};function ko(){this.expando=F.expando+ko.uid++}ko.uid=1,ko.prototype={cache:function(T){var I=T[this.expando];return I||(I={},kn(T)&&(T.nodeType?T[this.expando]=I:Object.defineProperty(T,this.expando,{value:I,configurable:!0}))),I},set:function(T,I,H){var z,X=this.cache(T);if(typeof I=="string")X[Xa(I)]=H;else for(z in I)X[Xa(z)]=I[z];return X},get:function(T,I){return I===void 0?this.cache(T):T[this.expando]&&T[this.expando][Xa(I)]},access:function(T,I,H){return I===void 0||I&&typeof I=="string"&&H===void 0?this.get(T,I):(this.set(T,I,H),H!==void 0?H:I)},remove:function(T,I){var H,z=T[this.expando];if(z!==void 0){if(I!==void 0)for(Array.isArray(I)?I=I.map(Xa):(I=Xa(I),I=I in z?[I]:I.match(Ge)||[]),H=I.length;H--;)delete z[I[H]];(I===void 0||F.isEmptyObject(z))&&(T.nodeType?T[this.expando]=void 0:delete T[this.expando])}},hasData:function(T){var I=T[this.expando];return I!==void 0&&!F.isEmptyObject(I)}};var Yt=new ko,mt=new ko,pi=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,vi=/[A-Z]/g;function Lt(T){return T==="true"?!0:T==="false"?!1:T==="null"?null:T===+T+""?+T:pi.test(T)?JSON.parse(T):T}function Lr(T,I,H){var z;if(H===void 0&&T.nodeType===1)if(z="data-"+I.replace(vi,"-$&").toLowerCase(),H=T.getAttribute(z),typeof H=="string"){try{H=Lt(H)}catch{}mt.set(T,I,H)}else H=void 0;return H}F.extend({hasData:function(T){return mt.hasData(T)||Yt.hasData(T)},data:function(T,I,H){return mt.access(T,I,H)},removeData:function(T,I){mt.remove(T,I)},_data:function(T,I,H){return Yt.access(T,I,H)},_removeData:function(T,I){Yt.remove(T,I)}}),F.fn.extend({data:function(T,I){var H,z,X,re=this[0],me=re&&re.attributes;if(T===void 0){if(this.length&&(X=mt.get(re),re.nodeType===1&&!Yt.get(re,"hasDataAttrs"))){for(H=me.length;H--;)me[H]&&(z=me[H].name,z.indexOf("data-")===0&&(z=Xa(z.slice(5)),Lr(re,z,X[z])));Yt.set(re,"hasDataAttrs",!0)}return X}return typeof T=="object"?this.each(function(){mt.set(this,T)}):cs(this,function(pe){var ke;if(re&&pe===void 0)return ke=mt.get(re,T),ke!==void 0||(ke=Lr(re,T),ke!==void 0)?ke:void 0;this.each(function(){mt.set(this,T,pe)})},null,I,arguments.length>1,null,!0)},removeData:function(T){return this.each(function(){mt.remove(this,T)})}}),F.extend({queue:function(T,I,H){var z;if(T)return I=(I||"fx")+"queue",z=Yt.get(T,I),H&&(!z||Array.isArray(H)?z=Yt.access(T,I,F.makeArray(H)):z.push(H)),z||[]},dequeue:function(T,I){I=I||"fx";var H=F.queue(T,I),z=H.length,X=H.shift(),re=F._queueHooks(T,I),me=function(){F.dequeue(T,I)};X==="inprogress"&&(X=H.shift(),z--),X&&(I==="fx"&&H.unshift("inprogress"),delete re.stop,X.call(T,me,re)),!z&&re&&re.empty.fire()},_queueHooks:function(T,I){var H=I+"queueHooks";return Yt.get(T,H)||Yt.access(T,H,{empty:F.Callbacks("once memory").add(function(){Yt.remove(T,[I+"queue",H])})})}}),F.fn.extend({queue:function(T,I){var H=2;return typeof T!="string"&&(I=T,T="fx",H--),arguments.length<H?F.queue(this[0],T):I===void 0?this:this.each(function(){var z=F.queue(this,T,I);F._queueHooks(this,T),T==="fx"&&z[0]!=="inprogress"&&F.dequeue(this,T)})},dequeue:function(T){return this.each(function(){F.dequeue(this,T)})},clearQueue:function(T){return this.queue(T||"fx",[])},promise:function(T,I){var H,z=1,X=F.Deferred(),re=this,me=this.length,pe=function(){--z||X.resolveWith(re,[re])};for(typeof T!="string"&&(I=T,T=void 0),T=T||"fx";me--;)H=Yt.get(re[me],T+"queueHooks"),H&&H.empty&&(z++,H.empty.add(pe));return pe(),X.promise(I)}});var Ns=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Pc=new RegExp("^(?:([+-])=|)("+Ns+")([a-z%]*)$","i"),vs=["Top","Right","Bottom","Left"],Rr=De.documentElement,jc=function(T){return F.contains(T.ownerDocument,T)},Ca={composed:!0};Rr.getRootNode&&(jc=function(T){return F.contains(T.ownerDocument,T)||T.getRootNode(Ca)===T.ownerDocument});var nr=function(T,I){return T=I||T,T.style.display==="none"||T.style.display===""&&jc(T)&&F.css(T,"display")==="none"};function Os(T,I,H,z){var X,re,me=20,pe=z?function(){return z.cur()}:function(){return F.css(T,I,"")},ke=pe(),st=H&&H[3]||(F.cssNumber[I]?"":"px"),yt=T.nodeType&&(F.cssNumber[I]||st!=="px"&&+ke)&&Pc.exec(F.css(T,I));if(yt&&yt[3]!==st){for(ke=ke/2,st=st||yt[3],yt=+ke||1;me--;)F.style(T,I,yt+st),(1-re)*(1-(re=pe()/ke||.5))<=0&&(me=0),yt=yt/re;yt=yt*2,F.style(T,I,yt+st),H=H||[]}return H&&(yt=+yt||+ke||0,X=H[1]?yt+(H[1]+1)*H[2]:+H[2],z&&(z.unit=st,z.start=yt,z.end=X)),X}var rd={};function Yr(T){var I,H=T.ownerDocument,z=T.nodeName,X=rd[z];return X||(I=H.body.appendChild(H.createElement(z)),X=F.css(I,"display"),I.parentNode.removeChild(I),X==="none"&&(X="block"),rd[z]=X,X)}function Ms(T,I){for(var H,z,X=[],re=0,me=T.length;re<me;re++)z=T[re],z.style&&(H=z.style.display,I?(H==="none"&&(X[re]=Yt.get(z,"display")||null,X[re]||(z.style.display="")),z.style.display===""&&nr(z)&&(X[re]=Yr(z))):H!=="none"&&(X[re]="none",Yt.set(z,"display",H)));for(re=0;re<me;re++)X[re]!=null&&(T[re].style.display=X[re]);return T}F.fn.extend({show:function(){return Ms(this,!0)},hide:function(){return Ms(this)},toggle:function(T){return typeof T=="boolean"?T?this.show():this.hide():this.each(function(){nr(this)?F(this).show():F(this).hide()})}});var fl=/^(?:checkbox|radio)$/i,Ii=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Zc=/^$|^module$|\/(?:java|ecma)script/i;(function(){var T=De.createDocumentFragment(),I=T.appendChild(De.createElement("div")),H=De.createElement("input");H.setAttribute("type","radio"),H.setAttribute("checked","checked"),H.setAttribute("name","t"),I.appendChild(H),de.checkClone=I.cloneNode(!0).cloneNode(!0).lastChild.checked,I.innerHTML="<textarea>x</textarea>",de.noCloneChecked=!!I.cloneNode(!0).lastChild.defaultValue,I.innerHTML="<option></option>",de.option=!!I.lastChild})();var vr={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};vr.tbody=vr.tfoot=vr.colgroup=vr.caption=vr.thead,vr.th=vr.td,de.option||(vr.optgroup=vr.option=[1,"<select multiple='multiple'>","</select>"]);function $r(T,I){var H;return typeof T.getElementsByTagName<"u"?H=T.getElementsByTagName(I||"*"):typeof T.querySelectorAll<"u"?H=T.querySelectorAll(I||"*"):H=[],I===void 0||I&&ge(T,I)?F.merge([T],H):H}function Gd(T,I){for(var H=0,z=T.length;H<z;H++)Yt.set(T[H],"globalEval",!I||Yt.get(I[H],"globalEval"))}var bi=/<|&#?\w+;/;function yh(T,I,H,z,X){for(var re,me,pe,ke,st,yt,Kt=I.createDocumentFragment(),ot=[],Nt=0,Jn=T.length;Nt<Jn;Nt++)if(re=T[Nt],re||re===0)if(Be(re)==="object")F.merge(ot,re.nodeType?[re]:re);else if(!bi.test(re))ot.push(I.createTextNode(re));else{for(me=me||Kt.appendChild(I.createElement("div")),pe=(Ii.exec(re)||["",""])[1].toLowerCase(),ke=vr[pe]||vr._default,me.innerHTML=ke[1]+F.htmlPrefilter(re)+ke[2],yt=ke[0];yt--;)me=me.lastChild;F.merge(ot,me.childNodes),me=Kt.firstChild,me.textContent=""}for(Kt.textContent="",Nt=0;re=ot[Nt++];){if(z&&F.inArray(re,z)>-1){X&&X.push(re);continue}if(st=jc(re),me=$r(Kt.appendChild(re),"script"),st&&Gd(me),H)for(yt=0;re=me[yt++];)Zc.test(re.type||"")&&H.push(re)}return Kt}var an=/^([^.]*)(?:\.(.+)|)/;function Ho(){return!0}function ca(){return!1}function pc(T,I){return T===_h()==(I==="focus")}function _h(){try{return De.activeElement}catch{}}function au(T,I,H,z,X,re){var me,pe;if(typeof I=="object"){typeof H!="string"&&(z=z||H,H=void 0);for(pe in I)au(T,pe,H,z,I[pe],re);return T}if(z==null&&X==null?(X=H,z=H=void 0):X==null&&(typeof H=="string"?(X=z,z=void 0):(X=z,z=H,H=void 0)),X===!1)X=ca;else if(!X)return T;return re===1&&(me=X,X=function(ke){return F().off(ke),me.apply(this,arguments)},X.guid=me.guid||(me.guid=F.guid++)),T.each(function(){F.event.add(this,I,X,z,H)})}F.event={global:{},add:function(T,I,H,z,X){var re,me,pe,ke,st,yt,Kt,ot,Nt,Jn,Zn,Tn=Yt.get(T);if(kn(T))for(H.handler&&(re=H,H=re.handler,X=re.selector),X&&F.find.matchesSelector(Rr,X),H.guid||(H.guid=F.guid++),(ke=Tn.events)||(ke=Tn.events=Object.create(null)),(me=Tn.handle)||(me=Tn.handle=function(lr){return typeof F<"u"&&F.event.triggered!==lr.type?F.event.dispatch.apply(T,arguments):void 0}),I=(I||"").match(Ge)||[""],st=I.length;st--;)pe=an.exec(I[st])||[],Nt=Zn=pe[1],Jn=(pe[2]||"").split(".").sort(),Nt&&(Kt=F.event.special[Nt]||{},Nt=(X?Kt.delegateType:Kt.bindType)||Nt,Kt=F.event.special[Nt]||{},yt=F.extend({type:Nt,origType:Zn,data:z,handler:H,guid:H.guid,selector:X,needsContext:X&&F.expr.match.needsContext.test(X),namespace:Jn.join(".")},re),(ot=ke[Nt])||(ot=ke[Nt]=[],ot.delegateCount=0,(!Kt.setup||Kt.setup.call(T,z,Jn,me)===!1)&&T.addEventListener&&T.addEventListener(Nt,me)),Kt.add&&(Kt.add.call(T,yt),yt.handler.guid||(yt.handler.guid=H.guid)),X?ot.splice(ot.delegateCount++,0,yt):ot.push(yt),F.event.global[Nt]=!0)},remove:function(T,I,H,z,X){var re,me,pe,ke,st,yt,Kt,ot,Nt,Jn,Zn,Tn=Yt.hasData(T)&&Yt.get(T);if(!(!Tn||!(ke=Tn.events))){for(I=(I||"").match(Ge)||[""],st=I.length;st--;){if(pe=an.exec(I[st])||[],Nt=Zn=pe[1],Jn=(pe[2]||"").split(".").sort(),!Nt){for(Nt in ke)F.event.remove(T,Nt+I[st],H,z,!0);continue}for(Kt=F.event.special[Nt]||{},Nt=(z?Kt.delegateType:Kt.bindType)||Nt,ot=ke[Nt]||[],pe=pe[2]&&new RegExp("(^|\\.)"+Jn.join("\\.(?:.*\\.|)")+"(\\.|$)"),me=re=ot.length;re--;)yt=ot[re],(X||Zn===yt.origType)&&(!H||H.guid===yt.guid)&&(!pe||pe.test(yt.namespace))&&(!z||z===yt.selector||z==="**"&&yt.selector)&&(ot.splice(re,1),yt.selector&&ot.delegateCount--,Kt.remove&&Kt.remove.call(T,yt));me&&!ot.length&&((!Kt.teardown||Kt.teardown.call(T,Jn,Tn.handle)===!1)&&F.removeEvent(T,Nt,Tn.handle),delete ke[Nt])}F.isEmptyObject(ke)&&Yt.remove(T,"handle events")}},dispatch:function(T){var I,H,z,X,re,me,pe=new Array(arguments.length),ke=F.event.fix(T),st=(Yt.get(this,"events")||Object.create(null))[ke.type]||[],yt=F.event.special[ke.type]||{};for(pe[0]=ke,I=1;I<arguments.length;I++)pe[I]=arguments[I];if(ke.delegateTarget=this,!(yt.preDispatch&&yt.preDispatch.call(this,ke)===!1)){for(me=F.event.handlers.call(this,ke,st),I=0;(X=me[I++])&&!ke.isPropagationStopped();)for(ke.currentTarget=X.elem,H=0;(re=X.handlers[H++])&&!ke.isImmediatePropagationStopped();)(!ke.rnamespace||re.namespace===!1||ke.rnamespace.test(re.namespace))&&(ke.handleObj=re,ke.data=re.data,z=((F.event.special[re.origType]||{}).handle||re.handler).apply(X.elem,pe),z!==void 0&&(ke.result=z)===!1&&(ke.preventDefault(),ke.stopPropagation()));return yt.postDispatch&&yt.postDispatch.call(this,ke),ke.result}},handlers:function(T,I){var H,z,X,re,me,pe=[],ke=I.delegateCount,st=T.target;if(ke&&st.nodeType&&!(T.type==="click"&&T.button>=1)){for(;st!==this;st=st.parentNode||this)if(st.nodeType===1&&!(T.type==="click"&&st.disabled===!0)){for(re=[],me={},H=0;H<ke;H++)z=I[H],X=z.selector+" ",me[X]===void 0&&(me[X]=z.needsContext?F(X,this).index(st)>-1:F.find(X,this,null,[st]).length),me[X]&&re.push(z);re.length&&pe.push({elem:st,handlers:re})}}return st=this,ke<I.length&&pe.push({elem:st,handlers:I.slice(ke)}),pe},addProp:function(T,I){Object.defineProperty(F.Event.prototype,T,{enumerable:!0,configurable:!0,get:fe(I)?function(){if(this.originalEvent)return I(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[T]},set:function(H){Object.defineProperty(this,T,{enumerable:!0,configurable:!0,writable:!0,value:H})}})},fix:function(T){return T[F.expando]?T:new F.Event(T)},special:{load:{noBubble:!0},click:{setup:function(T){var I=this||T;return fl.test(I.type)&&I.click&&ge(I,"input")&&ks(I,"click",Ho),!1},trigger:function(T){var I=this||T;return fl.test(I.type)&&I.click&&ge(I,"input")&&ks(I,"click"),!0},_default:function(T){var I=T.target;return fl.test(I.type)&&I.click&&ge(I,"input")&&Yt.get(I,"click")||ge(I,"a")}},beforeunload:{postDispatch:function(T){T.result!==void 0&&T.originalEvent&&(T.originalEvent.returnValue=T.result)}}}};function ks(T,I,H){if(!H){Yt.get(T,I)===void 0&&F.event.add(T,I,Ho);return}Yt.set(T,I,!1),F.event.add(T,I,{namespace:!1,handler:function(z){var X,re,me=Yt.get(this,I);if(z.isTrigger&1&&this[I]){if(me.length)(F.event.special[I]||{}).delegateType&&z.stopPropagation();else if(me=N.call(arguments),Yt.set(this,I,me),X=H(this,I),this[I](),re=Yt.get(this,I),me!==re||X?Yt.set(this,I,!1):re={},me!==re)return z.stopImmediatePropagation(),z.preventDefault(),re&&re.value}else me.length&&(Yt.set(this,I,{value:F.event.trigger(F.extend(me[0],F.Event.prototype),me.slice(1),this)}),z.stopImmediatePropagation())}})}F.removeEvent=function(T,I,H){T.removeEventListener&&T.removeEventListener(I,H)},F.Event=function(T,I){if(!(this instanceof F.Event))return new F.Event(T,I);T&&T.type?(this.originalEvent=T,this.type=T.type,this.isDefaultPrevented=T.defaultPrevented||T.defaultPrevented===void 0&&T.returnValue===!1?Ho:ca,this.target=T.target&&T.target.nodeType===3?T.target.parentNode:T.target,this.currentTarget=T.currentTarget,this.relatedTarget=T.relatedTarget):this.type=T,I&&F.extend(this,I),this.timeStamp=T&&T.timeStamp||Date.now(),this[F.expando]=!0},F.Event.prototype={constructor:F.Event,isDefaultPrevented:ca,isPropagationStopped:ca,isImmediatePropagationStopped:ca,isSimulated:!1,preventDefault:function(){var T=this.originalEvent;this.isDefaultPrevented=Ho,T&&!this.isSimulated&&T.preventDefault()},stopPropagation:function(){var T=this.originalEvent;this.isPropagationStopped=Ho,T&&!this.isSimulated&&T.stopPropagation()},stopImmediatePropagation:function(){var T=this.originalEvent;this.isImmediatePropagationStopped=Ho,T&&!this.isSimulated&&T.stopImmediatePropagation(),this.stopPropagation()}},F.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},F.event.addProp),F.each({focus:"focusin",blur:"focusout"},function(T,I){F.event.special[T]={setup:function(){return ks(this,T,pc),!1},trigger:function(){return ks(this,T),!0},_default:function(H){return Yt.get(H.target,T)},delegateType:I}}),F.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(T,I){F.event.special[T]={delegateType:I,bindType:I,handle:function(H){var z,X=this,re=H.relatedTarget,me=H.handleObj;return(!re||re!==X&&!F.contains(X,re))&&(H.type=me.origType,z=me.handler.apply(this,arguments),H.type=I),z}}}),F.fn.extend({on:function(T,I,H,z){return au(this,T,I,H,z)},one:function(T,I,H,z){return au(this,T,I,H,z,1)},off:function(T,I,H){var z,X;if(T&&T.preventDefault&&T.handleObj)return z=T.handleObj,F(T.delegateTarget).off(z.namespace?z.origType+"."+z.namespace:z.origType,z.selector,z.handler),this;if(typeof T=="object"){for(X in T)this.off(X,I,T[X]);return this}return(I===!1||typeof I=="function")&&(H=I,I=void 0),H===!1&&(H=ca),this.each(function(){F.event.remove(this,T,H,I)})}});var id=/<script|<style|<link/i,qd=/checked\s*(?:[^=]|=\s*.checked.)/i,Xs=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function qn(T,I){return ge(T,"table")&&ge(I.nodeType!==11?I:I.firstChild,"tr")&&F(T).children("tbody")[0]||T}function Qa(T){return T.type=(T.getAttribute("type")!==null)+"/"+T.type,T}function Ru(T){return(T.type||"").slice(0,5)==="true/"?T.type=T.type.slice(5):T.removeAttribute("type"),T}function Yc(T,I){var H,z,X,re,me,pe,ke;if(I.nodeType===1){if(Yt.hasData(T)&&(re=Yt.get(T),ke=re.events,ke)){Yt.remove(I,"handle events");for(X in ke)for(H=0,z=ke[X].length;H<z;H++)F.event.add(I,X,ke[X][H])}mt.hasData(T)&&(me=mt.access(T),pe=F.extend({},me),mt.set(I,pe))}}function Eh(T,I){var H=I.nodeName.toLowerCase();H==="input"&&fl.test(T.type)?I.checked=T.checked:(H==="input"||H==="textarea")&&(I.defaultValue=T.defaultValue)}function Di(T,I,H,z){I=D(I);var X,re,me,pe,ke,st,yt=0,Kt=T.length,ot=Kt-1,Nt=I[0],Jn=fe(Nt);if(Jn||Kt>1&&typeof Nt=="string"&&!de.checkClone&&qd.test(Nt))return T.each(function(Zn){var Tn=T.eq(Zn);Jn&&(I[0]=Nt.call(this,Zn,Tn.html())),Di(Tn,I,H,z)});if(Kt&&(X=yh(I,T[0].ownerDocument,!1,T,z),re=X.firstChild,X.childNodes.length===1&&(X=re),re||z)){for(me=F.map($r(X,"script"),Qa),pe=me.length;yt<Kt;yt++)ke=X,yt!==ot&&(ke=F.clone(ke,!0,!0),pe&&F.merge(me,$r(ke,"script"))),H.call(T[yt],ke,yt);if(pe)for(st=me[me.length-1].ownerDocument,F.map(me,Ru),yt=0;yt<pe;yt++)ke=me[yt],Zc.test(ke.type||"")&&!Yt.access(ke,"globalEval")&&F.contains(st,ke)&&(ke.src&&(ke.type||"").toLowerCase()!=="module"?F._evalUrl&&!ke.noModule&&F._evalUrl(ke.src,{nonce:ke.nonce||ke.getAttribute("nonce")},st):oe(ke.textContent.replace(Xs,""),ke,st))}return T}function Ki(T,I,H){for(var z,X=I?F.filter(I,T):T,re=0;(z=X[re])!=null;re++)!H&&z.nodeType===1&&F.cleanData($r(z)),z.parentNode&&(H&&jc(z)&&Gd($r(z,"script")),z.parentNode.removeChild(z));return T}F.extend({htmlPrefilter:function(T){return T},clone:function(T,I,H){var z,X,re,me,pe=T.cloneNode(!0),ke=jc(T);if(!de.noCloneChecked&&(T.nodeType===1||T.nodeType===11)&&!F.isXMLDoc(T))for(me=$r(pe),re=$r(T),z=0,X=re.length;z<X;z++)Eh(re[z],me[z]);if(I)if(H)for(re=re||$r(T),me=me||$r(pe),z=0,X=re.length;z<X;z++)Yc(re[z],me[z]);else Yc(T,pe);return me=$r(pe,"script"),me.length>0&&Gd(me,!ke&&$r(T,"script")),pe},cleanData:function(T){for(var I,H,z,X=F.event.special,re=0;(H=T[re])!==void 0;re++)if(kn(H)){if(I=H[Yt.expando]){if(I.events)for(z in I.events)X[z]?F.event.remove(H,z):F.removeEvent(H,z,I.handle);H[Yt.expando]=void 0}H[mt.expando]&&(H[mt.expando]=void 0)}}}),F.fn.extend({detach:function(T){return Ki(this,T,!0)},remove:function(T){return Ki(this,T)},text:function(T){return cs(this,function(I){return I===void 0?F.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=I)})},null,T,arguments.length)},append:function(){return Di(this,arguments,function(T){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var I=qn(this,T);I.appendChild(T)}})},prepend:function(){return Di(this,arguments,function(T){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var I=qn(this,T);I.insertBefore(T,I.firstChild)}})},before:function(){return Di(this,arguments,function(T){this.parentNode&&this.parentNode.insertBefore(T,this)})},after:function(){return Di(this,arguments,function(T){this.parentNode&&this.parentNode.insertBefore(T,this.nextSibling)})},empty:function(){for(var T,I=0;(T=this[I])!=null;I++)T.nodeType===1&&(F.cleanData($r(T,!1)),T.textContent="");return this},clone:function(T,I){return T=T??!1,I=I??T,this.map(function(){return F.clone(this,T,I)})},html:function(T){return cs(this,function(I){var H=this[0]||{},z=0,X=this.length;if(I===void 0&&H.nodeType===1)return H.innerHTML;if(typeof I=="string"&&!id.test(I)&&!vr[(Ii.exec(I)||["",""])[1].toLowerCase()]){I=F.htmlPrefilter(I);try{for(;z<X;z++)H=this[z]||{},H.nodeType===1&&(F.cleanData($r(H,!1)),H.innerHTML=I);H=0}catch{}}H&&this.empty().append(I)},null,T,arguments.length)},replaceWith:function(){var T=[];return Di(this,arguments,function(I){var H=this.parentNode;F.inArray(this,T)<0&&(F.cleanData($r(this)),H&&H.replaceChild(I,this))},T)}}),F.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(T,I){F.fn[T]=function(H){for(var z,X=[],re=F(H),me=re.length-1,pe=0;pe<=me;pe++)z=pe===me?this:this.clone(!0),F(re[pe])[I](z),U.apply(X,z.get());return this.pushStack(X)}});var Ur=new RegExp("^("+Ns+")(?!px)[a-z%]+$","i"),Fa=/^--/,Kc=function(T){var I=T.ownerDocument.defaultView;return(!I||!I.opener)&&(I=c),I.getComputedStyle(T)},vc=function(T,I,H){var z,X,re={};for(X in I)re[X]=T.style[X],T.style[X]=I[X];z=H.call(T);for(X in I)T.style[X]=re[X];return z},Sa=new RegExp(vs.join("|"),"i"),Br="[\\x20\\t\\r\\n\\f]",bc=new RegExp("^"+Br+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Br+"+$","g");(function(){function T(){if(st){ke.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",st.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Rr.appendChild(ke).appendChild(st);var yt=c.getComputedStyle(st);H=yt.top!=="1%",pe=I(yt.marginLeft)===12,st.style.right="60%",re=I(yt.right)===36,z=I(yt.width)===36,st.style.position="absolute",X=I(st.offsetWidth/3)===12,Rr.removeChild(ke),st=null}}function I(yt){return Math.round(parseFloat(yt))}var H,z,X,re,me,pe,ke=De.createElement("div"),st=De.createElement("div");st.style&&(st.style.backgroundClip="content-box",st.cloneNode(!0).style.backgroundClip="",de.clearCloneStyle=st.style.backgroundClip==="content-box",F.extend(de,{boxSizingReliable:function(){return T(),z},pixelBoxStyles:function(){return T(),re},pixelPosition:function(){return T(),H},reliableMarginLeft:function(){return T(),pe},scrollboxSize:function(){return T(),X},reliableTrDimensions:function(){var yt,Kt,ot,Nt;return me==null&&(yt=De.createElement("table"),Kt=De.createElement("tr"),ot=De.createElement("div"),yt.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Kt.style.cssText="border:1px solid",Kt.style.height="1px",ot.style.height="9px",ot.style.display="block",Rr.appendChild(yt).appendChild(Kt).appendChild(ot),Nt=c.getComputedStyle(Kt),me=parseInt(Nt.height,10)+parseInt(Nt.borderTopWidth,10)+parseInt(Nt.borderBottomWidth,10)===Kt.offsetHeight,Rr.removeChild(yt)),me}}))})();function hl(T,I,H){var z,X,re,me,pe=Fa.test(I),ke=T.style;return H=H||Kc(T),H&&(me=H.getPropertyValue(I)||H[I],pe&&me&&(me=me.replace(bc,"$1")||void 0),me===""&&!jc(T)&&(me=F.style(T,I)),!de.pixelBoxStyles()&&Ur.test(me)&&Sa.test(I)&&(z=ke.width,X=ke.minWidth,re=ke.maxWidth,ke.minWidth=ke.maxWidth=ke.width=me,me=H.width,ke.width=z,ke.minWidth=X,ke.maxWidth=re)),me!==void 0?me+"":me}function Bg(T,I){return{get:function(){if(T()){delete this.get;return}return(this.get=I).apply(this,arguments)}}}var Fg=["Webkit","Moz","ms"],Ll=De.createElement("div").style,Tm={};function Xe(T){for(var I=T[0].toUpperCase()+T.slice(1),H=Fg.length;H--;)if(T=Fg[H]+I,T in Ll)return T}function yi(T){var I=F.cssProps[T]||Tm[T];return I||(T in Ll?T:Tm[T]=Xe(T)||T)}var cu=/^(none|table(?!-c[ea]).+)/,Hg={position:"absolute",visibility:"hidden",display:"block"},wh={letterSpacing:"0",fontWeight:"400"};function Fs(T,I,H){var z=Pc.exec(I);return z?Math.max(0,z[2]-(H||0))+(z[3]||"px"):I}function jd(T,I,H,z,X,re){var me=I==="width"?1:0,pe=0,ke=0;if(H===(z?"border":"content"))return 0;for(;me<4;me+=2)H==="margin"&&(ke+=F.css(T,H+vs[me],!0,X)),z?(H==="content"&&(ke-=F.css(T,"padding"+vs[me],!0,X)),H!=="margin"&&(ke-=F.css(T,"border"+vs[me]+"Width",!0,X))):(ke+=F.css(T,"padding"+vs[me],!0,X),H!=="padding"?ke+=F.css(T,"border"+vs[me]+"Width",!0,X):pe+=F.css(T,"border"+vs[me]+"Width",!0,X));return!z&&re>=0&&(ke+=Math.max(0,Math.ceil(T["offset"+I[0].toUpperCase()+I.slice(1)]-re-ke-pe-.5))||0),ke}function Cm(T,I,H){var z=Kc(T),X=!de.boxSizingReliable()||H,re=X&&F.css(T,"boxSizing",!1,z)==="border-box",me=re,pe=hl(T,I,z),ke="offset"+I[0].toUpperCase()+I.slice(1);if(Ur.test(pe)){if(!H)return pe;pe="auto"}return(!de.boxSizingReliable()&&re||!de.reliableTrDimensions()&&ge(T,"tr")||pe==="auto"||!parseFloat(pe)&&F.css(T,"display",!1,z)==="inline")&&T.getClientRects().length&&(re=F.css(T,"boxSizing",!1,z)==="border-box",me=ke in T,me&&(pe=T[ke])),pe=parseFloat(pe)||0,pe+jd(T,I,H||(re?"border":"content"),me,z,pe)+"px"}F.extend({cssHooks:{opacity:{get:function(T,I){if(I){var H=hl(T,"opacity");return H===""?"1":H}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(T,I,H,z){if(!(!T||T.nodeType===3||T.nodeType===8||!T.style)){var X,re,me,pe=Xa(I),ke=Fa.test(I),st=T.style;if(ke||(I=yi(pe)),me=F.cssHooks[I]||F.cssHooks[pe],H!==void 0){if(re=typeof H,re==="string"&&(X=Pc.exec(H))&&X[1]&&(H=Os(T,I,X),re="number"),H==null||H!==H)return;re==="number"&&!ke&&(H+=X&&X[3]||(F.cssNumber[pe]?"":"px")),!de.clearCloneStyle&&H===""&&I.indexOf("background")===0&&(st[I]="inherit"),(!me||!("set"in me)||(H=me.set(T,H,z))!==void 0)&&(ke?st.setProperty(I,H):st[I]=H)}else return me&&"get"in me&&(X=me.get(T,!1,z))!==void 0?X:st[I]}},css:function(T,I,H,z){var X,re,me,pe=Xa(I),ke=Fa.test(I);return ke||(I=yi(pe)),me=F.cssHooks[I]||F.cssHooks[pe],me&&"get"in me&&(X=me.get(T,!0,H)),X===void 0&&(X=hl(T,I,z)),X==="normal"&&I in wh&&(X=wh[I]),H===""||H?(re=parseFloat(X),H===!0||isFinite(re)?re||0:X):X}}),F.each(["height","width"],function(T,I){F.cssHooks[I]={get:function(H,z,X){if(z)return cu.test(F.css(H,"display"))&&(!H.getClientRects().length||!H.getBoundingClientRect().width)?vc(H,Hg,function(){return Cm(H,I,X)}):Cm(H,I,X)},set:function(H,z,X){var re,me=Kc(H),pe=!de.scrollboxSize()&&me.position==="absolute",ke=pe||X,st=ke&&F.css(H,"boxSizing",!1,me)==="border-box",yt=X?jd(H,I,X,st,me):0;return st&&pe&&(yt-=Math.ceil(H["offset"+I[0].toUpperCase()+I.slice(1)]-parseFloat(me[I])-jd(H,I,"border",!1,me)-.5)),yt&&(re=Pc.exec(z))&&(re[3]||"px")!=="px"&&(H.style[I]=z,z=F.css(H,I)),Fs(H,z,yt)}}}),F.cssHooks.marginLeft=Bg(de.reliableMarginLeft,function(T,I){if(I)return(parseFloat(hl(T,"marginLeft"))||T.getBoundingClientRect().left-vc(T,{marginLeft:0},function(){return T.getBoundingClientRect().left}))+"px"}),F.each({margin:"",padding:"",border:"Width"},function(T,I){F.cssHooks[T+I]={expand:function(H){for(var z=0,X={},re=typeof H=="string"?H.split(" "):[H];z<4;z++)X[T+vs[z]+I]=re[z]||re[z-2]||re[0];return X}},T!=="margin"&&(F.cssHooks[T+I].set=Fs)}),F.fn.extend({css:function(T,I){return cs(this,function(H,z,X){var re,me,pe={},ke=0;if(Array.isArray(z)){for(re=Kc(H),me=z.length;ke<me;ke++)pe[z[ke]]=F.css(H,z[ke],!1,re);return pe}return X!==void 0?F.style(H,z,X):F.css(H,z)},T,I,arguments.length>1)}});function Xi(T,I,H,z,X){return new Xi.prototype.init(T,I,H,z,X)}F.Tween=Xi,Xi.prototype={constructor:Xi,init:function(T,I,H,z,X,re){this.elem=T,this.prop=H,this.easing=X||F.easing._default,this.options=I,this.start=this.now=this.cur(),this.end=z,this.unit=re||(F.cssNumber[H]?"":"px")},cur:function(){var T=Xi.propHooks[this.prop];return T&&T.get?T.get(this):Xi.propHooks._default.get(this)},run:function(T){var I,H=Xi.propHooks[this.prop];return this.options.duration?this.pos=I=F.easing[this.easing](T,this.options.duration*T,0,1,this.options.duration):this.pos=I=T,this.now=(this.end-this.start)*I+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),H&&H.set?H.set(this):Xi.propHooks._default.set(this),this}},Xi.prototype.init.prototype=Xi.prototype,Xi.propHooks={_default:{get:function(T){var I;return T.elem.nodeType!==1||T.elem[T.prop]!=null&&T.elem.style[T.prop]==null?T.elem[T.prop]:(I=F.css(T.elem,T.prop,""),!I||I==="auto"?0:I)},set:function(T){F.fx.step[T.prop]?F.fx.step[T.prop](T):T.elem.nodeType===1&&(F.cssHooks[T.prop]||T.elem.style[yi(T.prop)]!=null)?F.style(T.elem,T.prop,T.now+T.unit):T.elem[T.prop]=T.now}}},Xi.propHooks.scrollTop=Xi.propHooks.scrollLeft={set:function(T){T.elem.nodeType&&T.elem.parentNode&&(T.elem[T.prop]=T.now)}},F.easing={linear:function(T){return T},swing:function(T){return .5-Math.cos(T*Math.PI)/2},_default:"swing"},F.fx=Xi.prototype.init,F.fx.step={};var Xc,oi,_i=/^(?:toggle|show|hide)$/,lu=/queueHooks$/;function Ja(){oi&&(De.hidden===!1&&c.requestAnimationFrame?c.requestAnimationFrame(Ja):c.setTimeout(Ja,F.fx.interval),F.fx.tick())}function uu(){return c.setTimeout(function(){Xc=void 0}),Xc=Date.now()}function $l(T,I){var H,z=0,X={height:T};for(I=I?1:0;z<4;z+=2-I)H=vs[z],X["margin"+H]=X["padding"+H]=T;return I&&(X.opacity=X.width=T),X}function ad(T,I,H){for(var z,X=(Qc.tweeners[I]||[]).concat(Qc.tweeners["*"]),re=0,me=X.length;re<me;re++)if(z=X[re].call(H,I,T))return z}function Cs(T,I,H){var z,X,re,me,pe,ke,st,yt,Kt="width"in I||"height"in I,ot=this,Nt={},Jn=T.style,Zn=T.nodeType&&nr(T),Tn=Yt.get(T,"fxshow");H.queue||(me=F._queueHooks(T,"fx"),me.unqueued==null&&(me.unqueued=0,pe=me.empty.fire,me.empty.fire=function(){me.unqueued||pe()}),me.unqueued++,ot.always(function(){ot.always(function(){me.unqueued--,F.queue(T,"fx").length||me.empty.fire()})}));for(z in I)if(X=I[z],_i.test(X)){if(delete I[z],re=re||X==="toggle",X===(Zn?"hide":"show"))if(X==="show"&&Tn&&Tn[z]!==void 0)Zn=!0;else continue;Nt[z]=Tn&&Tn[z]||F.style(T,z)}if(ke=!F.isEmptyObject(I),!(!ke&&F.isEmptyObject(Nt))){Kt&&T.nodeType===1&&(H.overflow=[Jn.overflow,Jn.overflowX,Jn.overflowY],st=Tn&&Tn.display,st==null&&(st=Yt.get(T,"display")),yt=F.css(T,"display"),yt==="none"&&(st?yt=st:(Ms([T],!0),st=T.style.display||st,yt=F.css(T,"display"),Ms([T]))),(yt==="inline"||yt==="inline-block"&&st!=null)&&F.css(T,"float")==="none"&&(ke||(ot.done(function(){Jn.display=st}),st==null&&(yt=Jn.display,st=yt==="none"?"":yt)),Jn.display="inline-block")),H.overflow&&(Jn.overflow="hidden",ot.always(function(){Jn.overflow=H.overflow[0],Jn.overflowX=H.overflow[1],Jn.overflowY=H.overflow[2]})),ke=!1;for(z in Nt)ke||(Tn?"hidden"in Tn&&(Zn=Tn.hidden):Tn=Yt.access(T,"fxshow",{display:st}),re&&(Tn.hidden=!Zn),Zn&&Ms([T],!0),ot.done(function(){Zn||Ms([T]),Yt.remove(T,"fxshow");for(z in Nt)F.style(T,z,Nt[z])})),ke=ad(Zn?Tn[z]:0,z,ot),z in Tn||(Tn[z]=ke.start,Zn&&(ke.end=ke.start,ke.start=0))}}function si(T,I){var H,z,X,re,me;for(H in T)if(z=Xa(H),X=I[z],re=T[H],Array.isArray(re)&&(X=re[1],re=T[H]=re[0]),H!==z&&(T[z]=re,delete T[H]),me=F.cssHooks[z],me&&"expand"in me){re=me.expand(re),delete T[z];for(H in re)H in T||(T[H]=re[H],I[H]=X)}else I[z]=X}function Qc(T,I,H){var z,X,re=0,me=Qc.prefilters.length,pe=F.Deferred().always(function(){delete ke.elem}),ke=function(){if(X)return!1;for(var Kt=Xc||uu(),ot=Math.max(0,st.startTime+st.duration-Kt),Nt=ot/st.duration||0,Jn=1-Nt,Zn=0,Tn=st.tweens.length;Zn<Tn;Zn++)st.tweens[Zn].run(Jn);return pe.notifyWith(T,[st,Jn,ot]),Jn<1&&Tn?ot:(Tn||pe.notifyWith(T,[st,1,0]),pe.resolveWith(T,[st]),!1)},st=pe.promise({elem:T,props:F.extend({},I),opts:F.extend(!0,{specialEasing:{},easing:F.easing._default},H),originalProperties:I,originalOptions:H,startTime:Xc||uu(),duration:H.duration,tweens:[],createTween:function(Kt,ot){var Nt=F.Tween(T,st.opts,Kt,ot,st.opts.specialEasing[Kt]||st.opts.easing);return st.tweens.push(Nt),Nt},stop:function(Kt){var ot=0,Nt=Kt?st.tweens.length:0;if(X)return this;for(X=!0;ot<Nt;ot++)st.tweens[ot].run(1);return Kt?(pe.notifyWith(T,[st,1,0]),pe.resolveWith(T,[st,Kt])):pe.rejectWith(T,[st,Kt]),this}}),yt=st.props;for(si(yt,st.opts.specialEasing);re<me;re++)if(z=Qc.prefilters[re].call(st,T,yt,st.opts),z)return fe(z.stop)&&(F._queueHooks(st.elem,st.opts.queue).stop=z.stop.bind(z)),z;return F.map(yt,ad,st),fe(st.opts.start)&&st.opts.start.call(T,st),st.progress(st.opts.progress).done(st.opts.done,st.opts.complete).fail(st.opts.fail).always(st.opts.always),F.fx.timer(F.extend(ke,{elem:T,anim:st,queue:st.opts.queue})),st}F.Animation=F.extend(Qc,{tweeners:{"*":[function(T,I){var H=this.createTween(T,I);return Os(H.elem,T,Pc.exec(I),H),H}]},tweener:function(T,I){fe(T)?(I=T,T=["*"]):T=T.match(Ge);for(var H,z=0,X=T.length;z<X;z++)H=T[z],Qc.tweeners[H]=Qc.tweeners[H]||[],Qc.tweeners[H].unshift(I)},prefilters:[Cs],prefilter:function(T,I){I?Qc.prefilters.unshift(T):Qc.prefilters.push(T)}}),F.speed=function(T,I,H){var z=T&&typeof T=="object"?F.extend({},T):{complete:H||!H&&I||fe(T)&&T,duration:T,easing:H&&I||I&&!fe(I)&&I};return F.fx.off?z.duration=0:typeof z.duration!="number"&&(z.duration in F.fx.speeds?z.duration=F.fx.speeds[z.duration]:z.duration=F.fx.speeds._default),(z.queue==null||z.queue===!0)&&(z.queue="fx"),z.old=z.complete,z.complete=function(){fe(z.old)&&z.old.call(this),z.queue&&F.dequeue(this,z.queue)},z},F.fn.extend({fadeTo:function(T,I,H,z){return this.filter(nr).css("opacity",0).show().end().animate({opacity:I},T,H,z)},animate:function(T,I,H,z){var X=F.isEmptyObject(T),re=F.speed(I,H,z),me=function(){var pe=Qc(this,F.extend({},T),re);(X||Yt.get(this,"finish"))&&pe.stop(!0)};return me.finish=me,X||re.queue===!1?this.each(me):this.queue(re.queue,me)},stop:function(T,I,H){var z=function(X){var re=X.stop;delete X.stop,re(H)};return typeof T!="string"&&(H=I,I=T,T=void 0),I&&this.queue(T||"fx",[]),this.each(function(){var X=!0,re=T!=null&&T+"queueHooks",me=F.timers,pe=Yt.get(this);if(re)pe[re]&&pe[re].stop&&z(pe[re]);else for(re in pe)pe[re]&&pe[re].stop&&lu.test(re)&&z(pe[re]);for(re=me.length;re--;)me[re].elem===this&&(T==null||me[re].queue===T)&&(me[re].anim.stop(H),X=!1,me.splice(re,1));(X||!H)&&F.dequeue(this,T)})},finish:function(T){return T!==!1&&(T=T||"fx"),this.each(function(){var I,H=Yt.get(this),z=H[T+"queue"],X=H[T+"queueHooks"],re=F.timers,me=z?z.length:0;for(H.finish=!0,F.queue(this,T,[]),X&&X.stop&&X.stop.call(this,!0),I=re.length;I--;)re[I].elem===this&&re[I].queue===T&&(re[I].anim.stop(!0),re.splice(I,1));for(I=0;I<me;I++)z[I]&&z[I].finish&&z[I].finish.call(this);delete H.finish})}}),F.each(["toggle","show","hide"],function(T,I){var H=F.fn[I];F.fn[I]=function(z,X,re){return z==null||typeof z=="boolean"?H.apply(this,arguments):this.animate($l(I,!0),z,X,re)}}),F.each({slideDown:$l("show"),slideUp:$l("hide"),slideToggle:$l("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(T,I){F.fn[T]=function(H,z,X){return this.animate(I,H,z,X)}}),F.timers=[],F.fx.tick=function(){var T,I=0,H=F.timers;for(Xc=Date.now();I<H.length;I++)T=H[I],!T()&&H[I]===T&&H.splice(I--,1);H.length||F.fx.stop(),Xc=void 0},F.fx.timer=function(T){F.timers.push(T),F.fx.start()},F.fx.interval=13,F.fx.start=function(){oi||(oi=!0,Ja())},F.fx.stop=function(){oi=null},F.fx.speeds={slow:600,fast:200,_default:400},F.fn.delay=function(T,I){return T=F.fx&&F.fx.speeds[T]||T,I=I||"fx",this.queue(I,function(H,z){var X=c.setTimeout(H,T);z.stop=function(){c.clearTimeout(X)}})},function(){var T=De.createElement("input"),I=De.createElement("select"),H=I.appendChild(De.createElement("option"));T.type="checkbox",de.checkOn=T.value!=="",de.optSelected=H.selected,T=De.createElement("input"),T.value="t",T.type="radio",de.radioValue=T.value==="t"}();var cd,Aa=F.expr.attrHandle;F.fn.extend({attr:function(T,I){return cs(this,F.attr,T,I,arguments.length>1)},removeAttr:function(T){return this.each(function(){F.removeAttr(this,T)})}}),F.extend({attr:function(T,I,H){var z,X,re=T.nodeType;if(!(re===3||re===8||re===2)){if(typeof T.getAttribute>"u")return F.prop(T,I,H);if((re!==1||!F.isXMLDoc(T))&&(X=F.attrHooks[I.toLowerCase()]||(F.expr.match.bool.test(I)?cd:void 0)),H!==void 0){if(H===null){F.removeAttr(T,I);return}return X&&"set"in X&&(z=X.set(T,H,I))!==void 0?z:(T.setAttribute(I,H+""),H)}return X&&"get"in X&&(z=X.get(T,I))!==null?z:(z=F.find.attr(T,I),z??void 0)}},attrHooks:{type:{set:function(T,I){if(!de.radioValue&&I==="radio"&&ge(T,"input")){var H=T.value;return T.setAttribute("type",I),H&&(T.value=H),I}}}},removeAttr:function(T,I){var H,z=0,X=I&&I.match(Ge);if(X&&T.nodeType===1)for(;H=X[z++];)T.removeAttribute(H)}}),cd={set:function(T,I,H){return I===!1?F.removeAttr(T,H):T.setAttribute(H,H),H}},F.each(F.expr.match.bool.source.match(/\w+/g),function(T,I){var H=Aa[I]||F.find.attr;Aa[I]=function(z,X,re){var me,pe,ke=X.toLowerCase();return re||(pe=Aa[ke],Aa[ke]=me,me=H(z,X,re)!=null?ke:null,Aa[ke]=pe),me}});var yc=/^(?:input|select|textarea|button)$/i,br=/^(?:a|area)$/i;F.fn.extend({prop:function(T,I){return cs(this,F.prop,T,I,arguments.length>1)},removeProp:function(T){return this.each(function(){delete this[F.propFix[T]||T]})}}),F.extend({prop:function(T,I,H){var z,X,re=T.nodeType;if(!(re===3||re===8||re===2))return(re!==1||!F.isXMLDoc(T))&&(I=F.propFix[I]||I,X=F.propHooks[I]),H!==void 0?X&&"set"in X&&(z=X.set(T,H,I))!==void 0?z:T[I]=H:X&&"get"in X&&(z=X.get(T,I))!==null?z:T[I]},propHooks:{tabIndex:{get:function(T){var I=F.find.attr(T,"tabindex");return I?parseInt(I,10):yc.test(T.nodeName)||br.test(T.nodeName)&&T.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),de.optSelected||(F.propHooks.selected={get:function(T){var I=T.parentNode;return I&&I.parentNode&&I.parentNode.selectedIndex,null},set:function(T){var I=T.parentNode;I&&(I.selectedIndex,I.parentNode&&I.parentNode.selectedIndex)}}),F.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){F.propFix[this.toLowerCase()]=this});function ld(T){var I=T.match(Ge)||[];return I.join(" ")}function du(T){return T.getAttribute&&T.getAttribute("class")||""}function bs(T){return Array.isArray(T)?T:typeof T=="string"?T.match(Ge)||[]:[]}F.fn.extend({addClass:function(T){var I,H,z,X,re,me;return fe(T)?this.each(function(pe){F(this).addClass(T.call(this,pe,du(this)))}):(I=bs(T),I.length?this.each(function(){if(z=du(this),H=this.nodeType===1&&" "+ld(z)+" ",H){for(re=0;re<I.length;re++)X=I[re],H.indexOf(" "+X+" ")<0&&(H+=X+" ");me=ld(H),z!==me&&this.setAttribute("class",me)}}):this)},removeClass:function(T){var I,H,z,X,re,me;return fe(T)?this.each(function(pe){F(this).removeClass(T.call(this,pe,du(this)))}):arguments.length?(I=bs(T),I.length?this.each(function(){if(z=du(this),H=this.nodeType===1&&" "+ld(z)+" ",H){for(re=0;re<I.length;re++)for(X=I[re];H.indexOf(" "+X+" ")>-1;)H=H.replace(" "+X+" "," ");me=ld(H),z!==me&&this.setAttribute("class",me)}}):this):this.attr("class","")},toggleClass:function(T,I){var H,z,X,re,me=typeof T,pe=me==="string"||Array.isArray(T);return fe(T)?this.each(function(ke){F(this).toggleClass(T.call(this,ke,du(this),I),I)}):typeof I=="boolean"&&pe?I?this.addClass(T):this.removeClass(T):(H=bs(T),this.each(function(){if(pe)for(re=F(this),X=0;X<H.length;X++)z=H[X],re.hasClass(z)?re.removeClass(z):re.addClass(z);else(T===void 0||me==="boolean")&&(z=du(this),z&&Yt.set(this,"__className__",z),this.setAttribute&&this.setAttribute("class",z||T===!1?"":Yt.get(this,"__className__")||""))}))},hasClass:function(T){var I,H,z=0;for(I=" "+T+" ";H=this[z++];)if(H.nodeType===1&&(" "+ld(du(H))+" ").indexOf(I)>-1)return!0;return!1}});var ec=/\r/g;F.fn.extend({val:function(T){var I,H,z,X=this[0];return arguments.length?(z=fe(T),this.each(function(re){var me;this.nodeType===1&&(z?me=T.call(this,re,F(this).val()):me=T,me==null?me="":typeof me=="number"?me+="":Array.isArray(me)&&(me=F.map(me,function(pe){return pe==null?"":pe+""})),I=F.valHooks[this.type]||F.valHooks[this.nodeName.toLowerCase()],(!I||!("set"in I)||I.set(this,me,"value")===void 0)&&(this.value=me))})):X?(I=F.valHooks[X.type]||F.valHooks[X.nodeName.toLowerCase()],I&&"get"in I&&(H=I.get(X,"value"))!==void 0?H:(H=X.value,typeof H=="string"?H.replace(ec,""):H??"")):void 0}}),F.extend({valHooks:{option:{get:function(T){var I=F.find.attr(T,"value");return I??ld(F.text(T))}},select:{get:function(T){var I,H,z,X=T.options,re=T.selectedIndex,me=T.type==="select-one",pe=me?null:[],ke=me?re+1:X.length;for(re<0?z=ke:z=me?re:0;z<ke;z++)if(H=X[z],(H.selected||z===re)&&!H.disabled&&(!H.parentNode.disabled||!ge(H.parentNode,"optgroup"))){if(I=F(H).val(),me)return I;pe.push(I)}return pe},set:function(T,I){for(var H,z,X=T.options,re=F.makeArray(I),me=X.length;me--;)z=X[me],(z.selected=F.inArray(F.valHooks.option.get(z),re)>-1)&&(H=!0);return H||(T.selectedIndex=-1),re}}}}),F.each(["radio","checkbox"],function(){F.valHooks[this]={set:function(T,I){if(Array.isArray(I))return T.checked=F.inArray(F(T).val(),I)>-1}},de.checkOn||(F.valHooks[this].get=function(T){return T.getAttribute("value")===null?"on":T.value})}),de.focusin="onfocusin"in c;var ri=/^(?:focusinfocus|focusoutblur)$/,Fr=function(T){T.stopPropagation()};F.extend(F.event,{trigger:function(T,I,H,z){var X,re,me,pe,ke,st,yt,Kt,ot=[H||De],Nt=ie.call(T,"type")?T.type:T,Jn=ie.call(T,"namespace")?T.namespace.split("."):[];if(re=Kt=me=H=H||De,!(H.nodeType===3||H.nodeType===8)&&!ri.test(Nt+F.event.triggered)&&(Nt.indexOf(".")>-1&&(Jn=Nt.split("."),Nt=Jn.shift(),Jn.sort()),ke=Nt.indexOf(":")<0&&"on"+Nt,T=T[F.expando]?T:new F.Event(Nt,typeof T=="object"&&T),T.isTrigger=z?2:3,T.namespace=Jn.join("."),T.rnamespace=T.namespace?new RegExp("(^|\\.)"+Jn.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,T.result=void 0,T.target||(T.target=H),I=I==null?[T]:F.makeArray(I,[T]),yt=F.event.special[Nt]||{},!(!z&&yt.trigger&&yt.trigger.apply(H,I)===!1))){if(!z&&!yt.noBubble&&!we(H)){for(pe=yt.delegateType||Nt,ri.test(pe+Nt)||(re=re.parentNode);re;re=re.parentNode)ot.push(re),me=re;me===(H.ownerDocument||De)&&ot.push(me.defaultView||me.parentWindow||c)}for(X=0;(re=ot[X++])&&!T.isPropagationStopped();)Kt=re,T.type=X>1?pe:yt.bindType||Nt,st=(Yt.get(re,"events")||Object.create(null))[T.type]&&Yt.get(re,"handle"),st&&st.apply(re,I),st=ke&&re[ke],st&&st.apply&&kn(re)&&(T.result=st.apply(re,I),T.result===!1&&T.preventDefault());return T.type=Nt,!z&&!T.isDefaultPrevented()&&(!yt._default||yt._default.apply(ot.pop(),I)===!1)&&kn(H)&&ke&&fe(H[Nt])&&!we(H)&&(me=H[ke],me&&(H[ke]=null),F.event.triggered=Nt,T.isPropagationStopped()&&Kt.addEventListener(Nt,Fr),H[Nt](),T.isPropagationStopped()&&Kt.removeEventListener(Nt,Fr),F.event.triggered=void 0,me&&(H[ke]=me)),T.result}},simulate:function(T,I,H){var z=F.extend(new F.Event,H,{type:T,isSimulated:!0});F.event.trigger(z,null,I)}}),F.fn.extend({trigger:function(T,I){return this.each(function(){F.event.trigger(T,I,this)})},triggerHandler:function(T,I){var H=this[0];if(H)return F.event.trigger(T,I,H,!0)}}),de.focusin||F.each({focus:"focusin",blur:"focusout"},function(T,I){var H=function(z){F.event.simulate(I,z.target,F.event.fix(z))};F.event.special[I]={setup:function(){var z=this.ownerDocument||this.document||this,X=Yt.access(z,I);X||z.addEventListener(T,H,!0),Yt.access(z,I,(X||0)+1)},teardown:function(){var z=this.ownerDocument||this.document||this,X=Yt.access(z,I)-1;X?Yt.access(z,I,X):(z.removeEventListener(T,H,!0),Yt.remove(z,I))}}});var Jc=c.location,Iu={guid:Date.now()},_c=/\?/;F.parseXML=function(T){var I,H;if(!T||typeof T!="string")return null;try{I=new c.DOMParser().parseFromString(T,"text/xml")}catch{}return H=I&&I.getElementsByTagName("parsererror")[0],(!I||H)&&F.error("Invalid XML: "+(H?F.map(H.childNodes,function(z){return z.textContent}).join(`
`):T)),I};var Lc=/\[\]$/,Df=/\r?\n/g,Th=/^(?:submit|button|image|reset|file)$/i,Vg=/^(?:input|select|textarea|keygen)/i;function tc(T,I,H,z){var X;if(Array.isArray(I))F.each(I,function(re,me){H||Lc.test(T)?z(T,me):tc(T+"["+(typeof me=="object"&&me!=null?re:"")+"]",me,H,z)});else if(!H&&Be(I)==="object")for(X in I)tc(T+"["+X+"]",I[X],H,z);else z(T,I)}F.param=function(T,I){var H,z=[],X=function(re,me){var pe=fe(me)?me():me;z[z.length]=encodeURIComponent(re)+"="+encodeURIComponent(pe??"")};if(T==null)return"";if(Array.isArray(T)||T.jquery&&!F.isPlainObject(T))F.each(T,function(){X(this.name,this.value)});else for(H in T)tc(H,T[H],I,X);return z.join("&")},F.fn.extend({serialize:function(){return F.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var T=F.prop(this,"elements");return T?F.makeArray(T):this}).filter(function(){var T=this.type;return this.name&&!F(this).is(":disabled")&&Vg.test(this.nodeName)&&!Th.test(T)&&(this.checked||!fl.test(T))}).map(function(T,I){var H=F(this).val();return H==null?null:Array.isArray(H)?F.map(H,function(z){return{name:I.name,value:z.replace(Df,`\r
`)}}):{name:I.name,value:H.replace(Df,`\r
`)}}).get()}});var Du=/%20/g,Ch=/#.*$/,Nu=/([?&])_=[^&]*/,Nf=/^(.*?):[ \t]*([^\r\n]*)$/mg,Sm=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Mu=/^(?:GET|HEAD)$/,ku=/^\/\//,xa={},Ni={},Pu="*/".concat("*"),Mf=De.createElement("a");Mf.href=Jc.href;function Ug(T){return function(I,H){typeof I!="string"&&(H=I,I="*");var z,X=0,re=I.toLowerCase().match(Ge)||[];if(fe(H))for(;z=re[X++];)z[0]==="+"?(z=z.slice(1)||"*",(T[z]=T[z]||[]).unshift(H)):(T[z]=T[z]||[]).push(H)}}function Hs(T,I,H,z){var X={},re=T===Ni;function me(pe){var ke;return X[pe]=!0,F.each(T[pe]||[],function(st,yt){var Kt=yt(I,H,z);if(typeof Kt=="string"&&!re&&!X[Kt])return I.dataTypes.unshift(Kt),me(Kt),!1;if(re)return!(ke=Kt)}),ke}return me(I.dataTypes[0])||!X["*"]&&me("*")}function yr(T,I){var H,z,X=F.ajaxSettings.flatOptions||{};for(H in I)I[H]!==void 0&&((X[H]?T:z||(z={}))[H]=I[H]);return z&&F.extend(!0,T,z),T}function nc(T,I,H){for(var z,X,re,me,pe=T.contents,ke=T.dataTypes;ke[0]==="*";)ke.shift(),z===void 0&&(z=T.mimeType||I.getResponseHeader("Content-Type"));if(z){for(X in pe)if(pe[X]&&pe[X].test(z)){ke.unshift(X);break}}if(ke[0]in H)re=ke[0];else{for(X in H){if(!ke[0]||T.converters[X+" "+ke[0]]){re=X;break}me||(me=X)}re=re||me}if(re)return re!==ke[0]&&ke.unshift(re),H[re]}function Qi(T,I,H,z){var X,re,me,pe,ke,st={},yt=T.dataTypes.slice();if(yt[1])for(me in T.converters)st[me.toLowerCase()]=T.converters[me];for(re=yt.shift();re;)if(T.responseFields[re]&&(H[T.responseFields[re]]=I),!ke&&z&&T.dataFilter&&(I=T.dataFilter(I,T.dataType)),ke=re,re=yt.shift(),re){if(re==="*")re=ke;else if(ke!=="*"&&ke!==re){if(me=st[ke+" "+re]||st["* "+re],!me){for(X in st)if(pe=X.split(" "),pe[1]===re&&(me=st[ke+" "+pe[0]]||st["* "+pe[0]],me)){me===!0?me=st[X]:st[X]!==!0&&(re=pe[0],yt.unshift(pe[1]));break}}if(me!==!0)if(me&&T.throws)I=me(I);else try{I=me(I)}catch(Kt){return{state:"parsererror",error:me?Kt:"No conversion from "+ke+" to "+re}}}}return{state:"success",data:I}}F.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Jc.href,type:"GET",isLocal:Sm.test(Jc.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Pu,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":F.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(T,I){return I?yr(yr(T,F.ajaxSettings),I):yr(F.ajaxSettings,T)},ajaxPrefilter:Ug(xa),ajaxTransport:Ug(Ni),ajax:function(T,I){typeof T=="object"&&(I=T,T=void 0),I=I||{};var H,z,X,re,me,pe,ke,st,yt,Kt,ot=F.ajaxSetup({},I),Nt=ot.context||ot,Jn=ot.context&&(Nt.nodeType||Nt.jquery)?F(Nt):F.event,Zn=F.Deferred(),Tn=F.Callbacks("once memory"),lr=ot.statusCode||{},Gs={},ls={},Kn="canceled",eo={readyState:0,getResponseHeader:function(xo){var _r;if(ke){if(!re)for(re={};_r=Nf.exec(X);)re[_r[1].toLowerCase()+" "]=(re[_r[1].toLowerCase()+" "]||[]).concat(_r[2]);_r=re[xo.toLowerCase()+" "]}return _r==null?null:_r.join(", ")},getAllResponseHeaders:function(){return ke?X:null},setRequestHeader:function(xo,_r){return ke==null&&(xo=ls[xo.toLowerCase()]=ls[xo.toLowerCase()]||xo,Gs[xo]=_r),this},overrideMimeType:function(xo){return ke==null&&(ot.mimeType=xo),this},statusCode:function(xo){var _r;if(xo)if(ke)eo.always(xo[eo.status]);else for(_r in xo)lr[_r]=[lr[_r],xo[_r]];return this},abort:function(xo){var _r=xo||Kn;return H&&H.abort(_r),ki(0,_r),this}};if(Zn.promise(eo),ot.url=((T||ot.url||Jc.href)+"").replace(ku,Jc.protocol+"//"),ot.type=I.method||I.type||ot.method||ot.type,ot.dataTypes=(ot.dataType||"*").toLowerCase().match(Ge)||[""],ot.crossDomain==null){pe=De.createElement("a");try{pe.href=ot.url,pe.href=pe.href,ot.crossDomain=Mf.protocol+"//"+Mf.host!=pe.protocol+"//"+pe.host}catch{ot.crossDomain=!0}}if(ot.data&&ot.processData&&typeof ot.data!="string"&&(ot.data=F.param(ot.data,ot.traditional)),Hs(xa,ot,I,eo),ke)return eo;st=F.event&&ot.global,st&&F.active++===0&&F.event.trigger("ajaxStart"),ot.type=ot.type.toUpperCase(),ot.hasContent=!Mu.test(ot.type),z=ot.url.replace(Ch,""),ot.hasContent?ot.data&&ot.processData&&(ot.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(ot.data=ot.data.replace(Du,"+")):(Kt=ot.url.slice(z.length),ot.data&&(ot.processData||typeof ot.data=="string")&&(z+=(_c.test(z)?"&":"?")+ot.data,delete ot.data),ot.cache===!1&&(z=z.replace(Nu,"$1"),Kt=(_c.test(z)?"&":"?")+"_="+Iu.guid+++Kt),ot.url=z+Kt),ot.ifModified&&(F.lastModified[z]&&eo.setRequestHeader("If-Modified-Since",F.lastModified[z]),F.etag[z]&&eo.setRequestHeader("If-None-Match",F.etag[z])),(ot.data&&ot.hasContent&&ot.contentType!==!1||I.contentType)&&eo.setRequestHeader("Content-Type",ot.contentType),eo.setRequestHeader("Accept",ot.dataTypes[0]&&ot.accepts[ot.dataTypes[0]]?ot.accepts[ot.dataTypes[0]]+(ot.dataTypes[0]!=="*"?", "+Pu+"; q=0.01":""):ot.accepts["*"]);for(yt in ot.headers)eo.setRequestHeader(yt,ot.headers[yt]);if(ot.beforeSend&&(ot.beforeSend.call(Nt,eo,ot)===!1||ke))return eo.abort();if(Kn="abort",Tn.add(ot.complete),eo.done(ot.success),eo.fail(ot.error),H=Hs(Ni,ot,I,eo),!H)ki(-1,"No Transport");else{if(eo.readyState=1,st&&Jn.trigger("ajaxSend",[eo,ot]),ke)return eo;ot.async&&ot.timeout>0&&(me=c.setTimeout(function(){eo.abort("timeout")},ot.timeout));try{ke=!1,H.send(Gs,ki)}catch(xo){if(ke)throw xo;ki(-1,xo)}}function ki(xo,_r,Bl,Vs){var ur,Ir,Bc,Ei,is,dr=_r;ke||(ke=!0,me&&c.clearTimeout(me),H=void 0,X=Vs||"",eo.readyState=xo>0?4:0,ur=xo>=200&&xo<300||xo===304,Bl&&(Ei=nc(ot,eo,Bl)),!ur&&F.inArray("script",ot.dataTypes)>-1&&F.inArray("json",ot.dataTypes)<0&&(ot.converters["text script"]=function(){}),Ei=Qi(ot,Ei,eo,ur),ur?(ot.ifModified&&(is=eo.getResponseHeader("Last-Modified"),is&&(F.lastModified[z]=is),is=eo.getResponseHeader("etag"),is&&(F.etag[z]=is)),xo===204||ot.type==="HEAD"?dr="nocontent":xo===304?dr="notmodified":(dr=Ei.state,Ir=Ei.data,Bc=Ei.error,ur=!Bc)):(Bc=dr,(xo||!dr)&&(dr="error",xo<0&&(xo=0))),eo.status=xo,eo.statusText=(_r||dr)+"",ur?Zn.resolveWith(Nt,[Ir,dr,eo]):Zn.rejectWith(Nt,[eo,dr,Bc]),eo.statusCode(lr),lr=void 0,st&&Jn.trigger(ur?"ajaxSuccess":"ajaxError",[eo,ot,ur?Ir:Bc]),Tn.fireWith(Nt,[eo,dr]),st&&(Jn.trigger("ajaxComplete",[eo,ot]),--F.active||F.event.trigger("ajaxStop")))}return eo},getJSON:function(T,I,H){return F.get(T,I,H,"json")},getScript:function(T,I){return F.get(T,void 0,I,"script")}}),F.each(["get","post"],function(T,I){F[I]=function(H,z,X,re){return fe(z)&&(re=re||X,X=z,z=void 0),F.ajax(F.extend({url:H,type:I,dataType:re,data:z,success:X},F.isPlainObject(H)&&H))}}),F.ajaxPrefilter(function(T){var I;for(I in T.headers)I.toLowerCase()==="content-type"&&(T.contentType=T.headers[I]||"")}),F._evalUrl=function(T,I,H){return F.ajax({url:T,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(z){F.globalEval(z,I,H)}})},F.fn.extend({wrapAll:function(T){var I;return this[0]&&(fe(T)&&(T=T.call(this[0])),I=F(T,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&I.insertBefore(this[0]),I.map(function(){for(var H=this;H.firstElementChild;)H=H.firstElementChild;return H}).append(this)),this},wrapInner:function(T){return fe(T)?this.each(function(I){F(this).wrapInner(T.call(this,I))}):this.each(function(){var I=F(this),H=I.contents();H.length?H.wrapAll(T):I.append(T)})},wrap:function(T){var I=fe(T);return this.each(function(H){F(this).wrapAll(I?T.call(this,H):T)})},unwrap:function(T){return this.parent(T).not("body").each(function(){F(this).replaceWith(this.childNodes)}),this}}),F.expr.pseudos.hidden=function(T){return!F.expr.pseudos.visible(T)},F.expr.pseudos.visible=function(T){return!!(T.offsetWidth||T.offsetHeight||T.getClientRects().length)},F.ajaxSettings.xhr=function(){try{return new c.XMLHttpRequest}catch{}};var ml={0:200,1223:204},$c=F.ajaxSettings.xhr();de.cors=!!$c&&"withCredentials"in $c,de.ajax=$c=!!$c,F.ajaxTransport(function(T){var I,H;if(de.cors||$c&&!T.crossDomain)return{send:function(z,X){var re,me=T.xhr();if(me.open(T.type,T.url,T.async,T.username,T.password),T.xhrFields)for(re in T.xhrFields)me[re]=T.xhrFields[re];T.mimeType&&me.overrideMimeType&&me.overrideMimeType(T.mimeType),!T.crossDomain&&!z["X-Requested-With"]&&(z["X-Requested-With"]="XMLHttpRequest");for(re in z)me.setRequestHeader(re,z[re]);I=function(pe){return function(){I&&(I=H=me.onload=me.onerror=me.onabort=me.ontimeout=me.onreadystatechange=null,pe==="abort"?me.abort():pe==="error"?typeof me.status!="number"?X(0,"error"):X(me.status,me.statusText):X(ml[me.status]||me.status,me.statusText,(me.responseType||"text")!=="text"||typeof me.responseText!="string"?{binary:me.response}:{text:me.responseText},me.getAllResponseHeaders()))}},me.onload=I(),H=me.onerror=me.ontimeout=I("error"),me.onabort!==void 0?me.onabort=H:me.onreadystatechange=function(){me.readyState===4&&c.setTimeout(function(){I&&H()})},I=I("abort");try{me.send(T.hasContent&&T.data||null)}catch(pe){if(I)throw pe}},abort:function(){I&&I()}}}),F.ajaxPrefilter(function(T){T.crossDomain&&(T.contents.script=!1)}),F.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(T){return F.globalEval(T),T}}}),F.ajaxPrefilter("script",function(T){T.cache===void 0&&(T.cache=!1),T.crossDomain&&(T.type="GET")}),F.ajaxTransport("script",function(T){if(T.crossDomain||T.scriptAttrs){var I,H;return{send:function(z,X){I=F("<script>").attr(T.scriptAttrs||{}).prop({charset:T.scriptCharset,src:T.url}).on("load error",H=function(re){I.remove(),H=null,re&&X(re.type==="error"?404:200,re.type)}),De.head.appendChild(I[0])},abort:function(){H&&H()}}}});var co=[],Do=/(=)\?(?=&|$)|\?\?/;F.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var T=co.pop()||F.expando+"_"+Iu.guid++;return this[T]=!0,T}}),F.ajaxPrefilter("json jsonp",function(T,I,H){var z,X,re,me=T.jsonp!==!1&&(Do.test(T.url)?"url":typeof T.data=="string"&&(T.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Do.test(T.data)&&"data");if(me||T.dataTypes[0]==="jsonp")return z=T.jsonpCallback=fe(T.jsonpCallback)?T.jsonpCallback():T.jsonpCallback,me?T[me]=T[me].replace(Do,"$1"+z):T.jsonp!==!1&&(T.url+=(_c.test(T.url)?"&":"?")+T.jsonp+"="+z),T.converters["script json"]=function(){return re||F.error(z+" was not called"),re[0]},T.dataTypes[0]="json",X=c[z],c[z]=function(){re=arguments},H.always(function(){X===void 0?F(c).removeProp(z):c[z]=X,T[z]&&(T.jsonpCallback=I.jsonpCallback,co.push(z)),re&&fe(X)&&X(re[0]),re=X=void 0}),"script"}),de.createHTMLDocument=function(){var T=De.implementation.createHTMLDocument("").body;return T.innerHTML="<form></form><form></form>",T.childNodes.length===2}(),F.parseHTML=function(T,I,H){if(typeof T!="string")return[];typeof I=="boolean"&&(H=I,I=!1);var z,X,re;return I||(de.createHTMLDocument?(I=De.implementation.createHTMLDocument(""),z=I.createElement("base"),z.href=De.location.href,I.head.appendChild(z)):I=De),X=gn.exec(T),re=!H&&[],X?[I.createElement(X[1])]:(X=yh([T],I,re),re&&re.length&&F(re).remove(),F.merge([],X.childNodes))},F.fn.load=function(T,I,H){var z,X,re,me=this,pe=T.indexOf(" ");return pe>-1&&(z=ld(T.slice(pe)),T=T.slice(0,pe)),fe(I)?(H=I,I=void 0):I&&typeof I=="object"&&(X="POST"),me.length>0&&F.ajax({url:T,type:X||"GET",dataType:"html",data:I}).done(function(ke){re=arguments,me.html(z?F("<div>").append(F.parseHTML(ke)).find(z):ke)}).always(H&&function(ke,st){me.each(function(){H.apply(this,re||[ke.responseText,st,ke])})}),this},F.expr.pseudos.animated=function(T){return F.grep(F.timers,function(I){return T===I.elem}).length},F.offset={setOffset:function(T,I,H){var z,X,re,me,pe,ke,st,yt=F.css(T,"position"),Kt=F(T),ot={};yt==="static"&&(T.style.position="relative"),pe=Kt.offset(),re=F.css(T,"top"),ke=F.css(T,"left"),st=(yt==="absolute"||yt==="fixed")&&(re+ke).indexOf("auto")>-1,st?(z=Kt.position(),me=z.top,X=z.left):(me=parseFloat(re)||0,X=parseFloat(ke)||0),fe(I)&&(I=I.call(T,H,F.extend({},pe))),I.top!=null&&(ot.top=I.top-pe.top+me),I.left!=null&&(ot.left=I.left-pe.left+X),"using"in I?I.using.call(T,ot):Kt.css(ot)}},F.fn.extend({offset:function(T){if(arguments.length)return T===void 0?this:this.each(function(X){F.offset.setOffset(this,T,X)});var I,H,z=this[0];if(z)return z.getClientRects().length?(I=z.getBoundingClientRect(),H=z.ownerDocument.defaultView,{top:I.top+H.pageYOffset,left:I.left+H.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var T,I,H,z=this[0],X={top:0,left:0};if(F.css(z,"position")==="fixed")I=z.getBoundingClientRect();else{for(I=this.offset(),H=z.ownerDocument,T=z.offsetParent||H.documentElement;T&&(T===H.body||T===H.documentElement)&&F.css(T,"position")==="static";)T=T.parentNode;T&&T!==z&&T.nodeType===1&&(X=F(T).offset(),X.top+=F.css(T,"borderTopWidth",!0),X.left+=F.css(T,"borderLeftWidth",!0))}return{top:I.top-X.top-F.css(z,"marginTop",!0),left:I.left-X.left-F.css(z,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var T=this.offsetParent;T&&F.css(T,"position")==="static";)T=T.offsetParent;return T||Rr})}}),F.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(T,I){var H=I==="pageYOffset";F.fn[T]=function(z){return cs(this,function(X,re,me){var pe;if(we(X)?pe=X:X.nodeType===9&&(pe=X.defaultView),me===void 0)return pe?pe[I]:X[re];pe?pe.scrollTo(H?pe.pageXOffset:me,H?me:pe.pageYOffset):X[re]=me},T,z,arguments.length)}}),F.each(["top","left"],function(T,I){F.cssHooks[I]=Bg(de.pixelPosition,function(H,z){if(z)return z=hl(H,I),Ur.test(z)?F(H).position()[I]+"px":z})}),F.each({Height:"height",Width:"width"},function(T,I){F.each({padding:"inner"+T,content:I,"":"outer"+T},function(H,z){F.fn[z]=function(X,re){var me=arguments.length&&(H||typeof X!="boolean"),pe=H||(X===!0||re===!0?"margin":"border");return cs(this,function(ke,st,yt){var Kt;return we(ke)?z.indexOf("outer")===0?ke["inner"+T]:ke.document.documentElement["client"+T]:ke.nodeType===9?(Kt=ke.documentElement,Math.max(ke.body["scroll"+T],Kt["scroll"+T],ke.body["offset"+T],Kt["offset"+T],Kt["client"+T])):yt===void 0?F.css(ke,st,pe):F.style(ke,st,yt,pe)},I,me?X:void 0,me)}})}),F.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(T,I){F.fn[I]=function(H){return this.on(I,H)}}),F.fn.extend({bind:function(T,I,H){return this.on(T,null,I,H)},unbind:function(T,I){return this.off(T,null,I)},delegate:function(T,I,H,z){return this.on(I,T,H,z)},undelegate:function(T,I,H){return arguments.length===1?this.off(T,"**"):this.off(I,T||"**",H)},hover:function(T,I){return this.mouseenter(T).mouseleave(I||T)}}),F.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(T,I){F.fn[I]=function(H,z){return arguments.length>0?this.on(I,null,H,z):this.trigger(I)}});var Mi=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;F.proxy=function(T,I){var H,z,X;if(typeof I=="string"&&(H=T[I],I=T,T=H),!!fe(T))return z=N.call(arguments,2),X=function(){return T.apply(I||this,z.concat(N.call(arguments)))},X.guid=T.guid=T.guid||F.guid++,X},F.holdReady=function(T){T?F.readyWait++:F.ready(!0)},F.isArray=Array.isArray,F.parseJSON=JSON.parse,F.nodeName=ge,F.isFunction=fe,F.isWindow=we,F.camelCase=Xa,F.type=Be,F.now=Date.now,F.isNumeric=function(T){var I=F.type(T);return(I==="number"||I==="string")&&!isNaN(T-parseFloat(T))},F.trim=function(T){return T==null?"":(T+"").replace(Mi,"$1")};var Kr=c.jQuery,la=c.$;return F.noConflict=function(T){return c.$===F&&(c.$=la),T&&c.jQuery===F&&(c.jQuery=Kr),F},typeof h>"u"&&(c.jQuery=c.$=F),F})})(Pne);const Lne=vZ;var bZ={},$ne={get exports(){return bZ},set exports(a){bZ=a}};(function(a){(function(){var c=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},h=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},y=function(e,n){var o=Array.prototype.slice.call(e);return o.sort(n)},A=function(e,n){return N(function(o,r){return e.eq(n(o),n(r))})},N=function(e){return{eq:e}},D=N(function(e,n){return e===n}),U=D,G=function(e){return N(function(n,o){if(n.length!==o.length)return!1;for(var r=n.length,l=0;l<r;l++)if(!e.eq(n[l],o[l]))return!1;return!0})},K=function(e,n){return A(G(e),function(o){return y(o,n)})},Q=function(e){return N(function(n,o){var r=Object.keys(n),l=Object.keys(o);if(!K(U).eq(r,l))return!1;for(var f=r.length,v=0;v<f;v++){var C=r[v];if(!e.eq(n[C],o[C]))return!1}return!0})},ie=N(function(e,n){if(e===n)return!0;var o=c(e),r=c(n);return o!==r?!1:h(o)?e===n:o==="array"?G(ie).eq(e,n):o==="object"?Q(ie).eq(e,n):!1});const _e=Object.getPrototypeOf,ve=(e,n,o)=>{var r;return o(e,n.prototype)?!0:((r=e.constructor)===null||r===void 0?void 0:r.name)===n.name},de=e=>{const n=typeof e;return e===null?"null":n==="object"&&Array.isArray(e)?"array":n==="object"&&ve(e,String,(o,r)=>r.isPrototypeOf(o))?"string":n},fe=e=>n=>de(n)===e,we=e=>n=>typeof n===e,De=e=>n=>e===n,Me=(e,n)=>Be(e)&&ve(e,n,(o,r)=>_e(o)===r),oe=fe("string"),Be=fe("object"),lt=e=>Me(e,Object),F=fe("array"),Ee=De(null),Ze=we("boolean"),ht=De(void 0),Et=e=>e==null,Ne=e=>!Et(e),ge=we("function"),gn=we("number"),wt=(e,n)=>{if(F(e)){for(let o=0,r=e.length;o<r;++o)if(!n(e[o]))return!1;return!0}return!1},Ot=()=>{},P=(e,n)=>(...o)=>e(n.apply(null,o)),Rt=(e,n)=>o=>e(n(o)),et=e=>()=>e,qt=e=>e,Vt=(e,n)=>e===n;function Ge(e,...n){return(...o)=>{const r=n.concat(o);return e.apply(null,r)}}const vo=e=>n=>!e(n),Bo=e=>()=>{throw new Error(e)},ao=e=>e(),Fo=e=>{e()},Je=et(!1),It=et(!0);class te{constructor(n,o){this.tag=n,this.value=o}static some(n){return new te(!0,n)}static none(){return te.singletonNone}fold(n,o){return this.tag?o(this.value):n()}isSome(){return this.tag}isNone(){return!this.tag}map(n){return this.tag?te.some(n(this.value)):te.none()}bind(n){return this.tag?n(this.value):te.none()}exists(n){return this.tag&&n(this.value)}forall(n){return!this.tag||n(this.value)}filter(n){return!this.tag||n(this.value)?this:te.none()}getOr(n){return this.tag?this.value:n}or(n){return this.tag?this:n}getOrThunk(n){return this.tag?this.value:n()}orThunk(n){return this.tag?this:n()}getOrDie(n){if(this.tag)return this.value;throw new Error(n??"Called getOrDie on None")}static from(n){return Ne(n)?te.some(n):te.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(n){this.tag&&n(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}te.singletonNone=new te(!1);const cs=Array.prototype.slice,uo=Array.prototype.indexOf,Bt=Array.prototype.push,ps=(e,n)=>uo.call(e,n),Xa=(e,n)=>{const o=ps(e,n);return o===-1?te.none():te.some(o)},kn=(e,n)=>ps(e,n)>-1,ko=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const l=e[o];if(n(l,o))return!0}return!1},Yt=(e,n)=>{const o=e.length,r=new Array(o);for(let l=0;l<o;l++){const f=e[l];r[l]=n(f,l)}return r},mt=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const l=e[o];n(l,o)}},pi=(e,n)=>{for(let o=e.length-1;o>=0;o--){const r=e[o];n(r,o)}},vi=(e,n)=>{const o=[],r=[];for(let l=0,f=e.length;l<f;l++){const v=e[l];(n(v,l)?o:r).push(v)}return{pass:o,fail:r}},Lt=(e,n)=>{const o=[];for(let r=0,l=e.length;r<l;r++){const f=e[r];n(f,r)&&o.push(f)}return o},Lr=(e,n,o)=>(pi(e,(r,l)=>{o=n(o,r,l)}),o),Ns=(e,n,o)=>(mt(e,(r,l)=>{o=n(o,r,l)}),o),Pc=(e,n,o)=>{for(let r=0,l=e.length;r<l;r++){const f=e[r];if(n(f,r))return te.some(f);if(o(f,r))break}return te.none()},vs=(e,n)=>Pc(e,n,Je),Rr=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const l=e[o];if(n(l,o))return te.some(o)}return te.none()},jc=e=>{const n=[];for(let o=0,r=e.length;o<r;++o){if(!F(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);Bt.apply(n,e[o])}return n},Ca=(e,n)=>jc(Yt(e,n)),nr=(e,n)=>{for(let o=0,r=e.length;o<r;++o){const l=e[o];if(n(l,o)!==!0)return!1}return!0},Os=e=>{const n=cs.call(e,0);return n.reverse(),n},rd=(e,n)=>Lt(e,o=>!kn(n,o)),Yr=(e,n)=>{const o={};for(let r=0,l=e.length;r<l;r++){const f=e[r];o[String(f)]=n(f,r)}return o},Ms=(e,n)=>{const o=cs.call(e,0);return o.sort(n),o},fl=(e,n)=>n>=0&&n<e.length?te.some(e[n]):te.none(),Ii=e=>fl(e,0),Zc=e=>fl(e,e.length-1),vr=ge(Array.from)?Array.from:e=>cs.call(e),$r=(e,n)=>{for(let o=0;o<e.length;o++){const r=n(e[o],o);if(r.isSome())return r}return te.none()},Gd=(e,n)=>{const o=[],r=ge(n)?l=>ko(o,f=>n(f,l)):l=>kn(o,l);for(let l=0,f=e.length;l<f;l++){const v=e[l];r(v)||o.push(v)}return o},bi=Object.keys,yh=Object.hasOwnProperty,an=(e,n)=>{const o=bi(e);for(let r=0,l=o.length;r<l;r++){const f=o[r],v=e[f];n(v,f)}},Ho=(e,n)=>ca(e,(o,r)=>({k:r,v:n(o,r)})),ca=(e,n)=>{const o={};return an(e,(r,l)=>{const f=n(r,l);o[f.k]=f.v}),o},pc=e=>(n,o)=>{e[o]=n},_h=(e,n,o,r)=>{an(e,(l,f)=>{(n(l,f)?o:r)(l,f)})},au=(e,n)=>{const o={},r={};return _h(e,n,pc(o),pc(r)),{t:o,f:r}},ks=(e,n)=>{const o={};return _h(e,n,pc(o),Ot),o},id=(e,n)=>{const o=[];return an(e,(r,l)=>{o.push(n(r,l))}),o},qd=e=>id(e,qt),Xs=(e,n)=>qn(e,n)?te.from(e[n]):te.none(),qn=(e,n)=>yh.call(e,n),Qa=(e,n)=>qn(e,n)&&e[n]!==void 0&&e[n]!==null,Ru=(e,n,o=ie)=>Q(o).eq(e,n),Yc=e=>{const n={};return mt(e,o=>{n[o]={}}),bi(n)},Eh=e=>e.length!==void 0,Di=Array.isArray,Ki=e=>{if(Di(e))return e;{const n=[];for(let o=0,r=e.length;o<r;o++)n[o]=e[o];return n}},Ur=(e,n,o)=>{if(!e)return!1;if(o=o||e,Eh(e)){for(let r=0,l=e.length;r<l;r++)if(n.call(o,e[r],r,e)===!1)return!1}else for(const r in e)if(qn(e,r)&&n.call(o,e[r],r,e)===!1)return!1;return!0},Fa=(e,n)=>{const o=[];return Ur(e,(r,l)=>{o.push(n(r,l,e))}),o},Kc=(e,n)=>{const o=[];return Ur(e,(r,l)=>{(!n||n(r,l,e))&&o.push(r)}),o},vc=(e,n)=>{if(e){for(let o=0,r=e.length;o<r;o++)if(e[o]===n)return o}return-1},Sa=(e,n,o,r)=>{let l=ht(o)?e[0]:o;for(let f=0;f<e.length;f++)l=n.call(r,l,e[f],f);return l},Br=(e,n,o)=>{for(let r=0,l=e.length;r<l;r++)if(n.call(o,e[r],r,e))return r;return-1},bc=e=>e[e.length-1],hl=e=>{let n=!1,o;return(...r)=>(n||(n=!0,o=e.apply(null,r)),o)},Bg=(e,n,o,r)=>{const l=e.isiOS()&&/ipad/i.test(o)===!0,f=e.isiOS()&&!l,v=e.isiOS()||e.isAndroid(),C=v||r("(pointer:coarse)"),x=l||!f&&v&&r("(min-device-width:768px)"),L=f||v&&!x,Z=n.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,j=!L&&!x&&!Z;return{isiPad:et(l),isiPhone:et(f),isTablet:et(x),isPhone:et(L),isTouch:et(C),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:et(Z),isDesktop:et(j)}},Fg=(e,n)=>{for(let o=0;o<e.length;o++){const r=e[o];if(r.test(n))return r}},Ll=(e,n)=>{const o=Fg(e,n);if(!o)return{major:0,minor:0};const r=l=>Number(n.replace(o,"$"+l));return yi(r(1),r(2))},Tm=(e,n)=>{const o=String(n).toLowerCase();return e.length===0?Xe():Ll(e,o)},Xe=()=>yi(0,0),yi=(e,n)=>({major:e,minor:n}),cu={nu:yi,detect:Tm,unknown:Xe},Hg=(e,n)=>$r(n.brands,o=>{const r=o.brand.toLowerCase();return vs(e,l=>{var f;return r===((f=l.brand)===null||f===void 0?void 0:f.toLowerCase())}).map(l=>({current:l.name,version:cu.nu(parseInt(o.version,10),0)}))}),wh=(e,n)=>{const o=String(n).toLowerCase();return vs(e,r=>r.search(o))},Fs=(e,n)=>wh(e,n).map(o=>{const r=cu.detect(o.versionRegexes,n);return{current:o.name,version:r}}),jd=(e,n)=>wh(e,n).map(o=>{const r=cu.detect(o.versionRegexes,n);return{current:o.name,version:r}}),Cm=(e,n)=>e.substring(n),Xi=(e,n,o)=>n===""||e.length>=n.length&&e.substr(o,o+n.length)===n,Xc=(e,n)=>_i(e,n)?Cm(e,n.length):e,oi=(e,n,o=0,r)=>{const l=e.indexOf(n,o);return l!==-1?ht(r)?!0:l+n.length<=r:!1},_i=(e,n)=>Xi(e,n,0),lu=(e,n)=>Xi(e,n,e.length-n.length),Ja=e=>n=>n.replace(e,""),uu=Ja(/^\s+|\s+$/g),$l=Ja(/^\s+/g),ad=Ja(/\s+$/g),Cs=e=>e.length>0,si=e=>!Cs(e),Qc=(e,n)=>n<=0?"":new Array(n+1).join(e),cd=(e,n=10)=>{const o=parseInt(e,n);return isNaN(o)?te.none():te.some(o)},Aa=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,yc=e=>n=>oi(n,e),br=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>oi(e,"edge/")&&oi(e,"chrome")&&oi(e,"safari")&&oi(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Aa],search:e=>oi(e,"chrome")&&!oi(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>oi(e,"msie")||oi(e,"trident")},{name:"Opera",versionRegexes:[Aa,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:yc("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:yc("firefox")},{name:"Safari",versionRegexes:[Aa,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(oi(e,"safari")||oi(e,"mobile/"))&&oi(e,"applewebkit")}],ld=[{name:"Windows",search:yc("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>oi(e,"iphone")||oi(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:yc("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:yc("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:yc("linux"),versionRegexes:[]},{name:"Solaris",search:yc("sunos"),versionRegexes:[]},{name:"FreeBSD",search:yc("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:yc("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],du={browsers:et(br),oses:et(ld)},bs="Edge",ec="Chromium",ri="IE",Fr="Opera",Jc="Firefox",Iu="Safari",_c=()=>Lc({current:void 0,version:cu.unknown()}),Lc=e=>{const n=e.current,o=e.version,r=l=>()=>n===l;return{current:n,version:o,isEdge:r(bs),isChromium:r(ec),isIE:r(ri),isOpera:r(Fr),isFirefox:r(Jc),isSafari:r(Iu)}},Df={unknown:_c,nu:Lc,edge:et(bs),chromium:et(ec),ie:et(ri),opera:et(Fr),firefox:et(Jc),safari:et(Iu)},Th="Windows",Vg="iOS",tc="Android",Du="Linux",Ch="macOS",Nu="Solaris",Nf="FreeBSD",Sm="ChromeOS",Mu=()=>ku({current:void 0,version:cu.unknown()}),ku=e=>{const n=e.current,o=e.version,r=l=>()=>n===l;return{current:n,version:o,isWindows:r(Th),isiOS:r(Vg),isAndroid:r(tc),isMacOS:r(Ch),isLinux:r(Du),isSolaris:r(Nu),isFreeBSD:r(Nf),isChromeOS:r(Sm)}},xa={unknown:Mu,nu:ku,windows:et(Th),ios:et(Vg),android:et(tc),linux:et(Du),macos:et(Ch),solaris:et(Nu),freebsd:et(Nf),chromeos:et(Sm)},Pu={detect:(e,n,o)=>{const r=du.browsers(),l=du.oses(),f=n.bind(x=>Hg(r,x)).orThunk(()=>Fs(r,e)).fold(Df.unknown,Df.nu),v=jd(l,e).fold(xa.unknown,xa.nu),C=Bg(v,f,e,o);return{browser:f,os:v,deviceType:C}}},Mf=e=>window.matchMedia(e).matches;let Ug=hl(()=>Pu.detect(navigator.userAgent,te.from(navigator.userAgentData),Mf));const Hs=()=>Ug(),yr=navigator.userAgent,nc=Hs(),Qi=nc.browser,ml=nc.os,$c=nc.deviceType,co=yr.indexOf("Windows Phone")!==-1,Do={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Qi.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Qi.isIE(),windowsPhone:co,browser:{current:Qi.current,version:Qi.version,isChromium:Qi.isChromium,isEdge:Qi.isEdge,isFirefox:Qi.isFirefox,isIE:Qi.isIE,isOpera:Qi.isOpera,isSafari:Qi.isSafari},os:{current:ml.current,version:ml.version,isAndroid:ml.isAndroid,isChromeOS:ml.isChromeOS,isFreeBSD:ml.isFreeBSD,isiOS:ml.isiOS,isLinux:ml.isLinux,isMacOS:ml.isMacOS,isSolaris:ml.isSolaris,isWindows:ml.isWindows},deviceType:{isDesktop:$c.isDesktop,isiPad:$c.isiPad,isiPhone:$c.isiPhone,isPhone:$c.isPhone,isTablet:$c.isTablet,isTouch:$c.isTouch,isWebView:$c.isWebView}},Mi=/^\s*|\s*$/g,Kr=e=>Et(e)?"":(""+e).replace(Mi,""),la=(e,n)=>n?n==="array"&&Di(e)?!0:typeof e===n:e!==void 0,T=(e,n,o={})=>{const r=oe(e)?e.split(n||","):e||[];let l=r.length;for(;l--;)o[r[l]]={};return o},I=qn,H=(e,...n)=>{for(let o=0;o<n.length;o++){const r=n[o];for(const l in r)if(qn(r,l)){const f=r[l];f!==void 0&&(e[l]=f)}}return e},z=function(e,n,o,r){r=r||this,e&&(o&&(e=e[o]),Ur(e,(l,f)=>n.call(r,l,f,o)===!1?!1:(z(l,n,o,r),!0)))},pe={trim:Kr,isArray:Di,is:la,toArray:Ki,makeMap:T,each:Ur,map:Fa,grep:Kc,inArray:vc,hasOwn:I,extend:H,walk:z,resolve:(e,n=window)=>{const o=e.split(".");for(let r=0,l=o.length;r<l&&(n=n[o[r]],!!n);r++);return n},explode:(e,n)=>F(e)?e:e===""?[]:Fa(e.split(n||","),Kr),_addCacheSuffix:e=>{const n=Do.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e}},ke=(e,n,o=Vt)=>e.exists(r=>o(r,n)),st=e=>{const n=[],o=r=>{n.push(r)};for(let r=0;r<e.length;r++)e[r].each(o);return n},yt=(e,n,o)=>e.isSome()&&n.isSome()?te.some(o(e.getOrDie(),n.getOrDie())):te.none(),Kt=(e,n,o,r)=>e.isSome()&&n.isSome()&&o.isSome()?te.some(r(e.getOrDie(),n.getOrDie(),o.getOrDie())):te.none(),ot=(e,n)=>e?te.some(n):te.none(),Nt=typeof window<"u"?window:Function("return this;")(),Jn=(e,n)=>{let o=n??Nt;for(let r=0;r<e.length&&o!==void 0&&o!==null;++r)o=o[e[r]];return o},Zn=(e,n)=>{const o=e.split(".");return Jn(o,n)},Tn=(e,n)=>Zn(e,n),lr=(e,n)=>{const o=Tn(e,n);if(o==null)throw new Error(e+" not available on this browser");return o},Gs=Object.getPrototypeOf,ls=e=>lr("HTMLElement",e),Kn=e=>{const n=Zn("ownerDocument.defaultView",e);return Be(e)&&(ls(n).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Gs(e).constructor.name))},eo=8,ki=9,xo=11,_r=1,Bl=3,Vs=e=>e.dom.nodeName.toLowerCase(),ur=e=>e.dom.nodeType,Ir=e=>n=>ur(n)===e,Bc=e=>ur(e)===eo||Vs(e)==="#comment",Ei=e=>is(e)&&Kn(e.dom),is=Ir(_r),dr=Ir(Bl),Oa=Ir(ki),kf=Ir(xo),Fc=e=>n=>is(n)&&Vs(n)===e,Ec=(e,n,o)=>{if(oe(o)||Ze(o)||gn(o))e.setAttribute(n,o+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},ho=(e,n,o)=>{Ec(e.dom,n,o)},zr=(e,n)=>{const o=e.dom;an(n,(r,l)=>{Ec(o,l,r)})},Pi=(e,n)=>{const o=e.dom.getAttribute(n);return o===null?void 0:o},oc=(e,n)=>te.from(Pi(e,n)),Ji=(e,n)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(n):!1},fr=(e,n)=>{e.dom.removeAttribute(n)},Ha=e=>{const n=e.dom.attributes;return n==null||n.length===0},Ra=e=>Ns(e.dom.attributes,(n,o)=>(n[o.name]=o.value,n),{}),ud=(e,n)=>{const o=Pi(e,n);return o===void 0||o===""?[]:o.split(" ")},Sh=(e,n,o)=>{const l=ud(e,n).concat([o]);return ho(e,n,l.join(" ")),!0},zg=(e,n,o)=>{const r=Lt(ud(e,n),l=>l!==o);return r.length>0?ho(e,n,r.join(" ")):fr(e,n),!1},Fl=e=>e.dom.classList!==void 0,fu=e=>ud(e,"class"),Zd=(e,n)=>Sh(e,"class",n),wi=(e,n)=>zg(e,"class",n),dd=(e,n)=>kn(fu(e),n)?wi(e,n):Zd(e,n),fd=(e,n)=>{Fl(e)?e.dom.classList.add(n):Zd(e,n)},Lu=e=>{(Fl(e)?e.dom.classList:fu(e)).length===0&&fr(e,"class")},sc=(e,n)=>{Fl(e)?e.dom.classList.remove(n):wi(e,n),Lu(e)},ua=(e,n)=>{const o=Fl(e)?e.dom.classList.toggle(n):dd(e,n);return Lu(e),o},hu=(e,n)=>Fl(e)&&e.dom.classList.contains(n),hd=(e,n)=>{const r=(n||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){const l="HTML does not have a single root node";throw console.error(l,e),new Error(l)}return ws(r.childNodes[0])},Ah=(e,n)=>{const r=(n||document).createElement(e);return ws(r)},xh=(e,n)=>{const r=(n||document).createTextNode(e);return ws(r)},ws=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},Oe={fromHtml:hd,fromTag:Ah,fromText:xh,fromDom:ws,fromPoint:(e,n,o)=>te.from(e.dom.elementFromPoint(n,o)).map(ws)},rc=(e,n)=>{const o=[],r=f=>(o.push(f),n(f));let l=n(e);do l=l.bind(r);while(l.isSome());return o},da=(e,n)=>{const o=e.dom;if(o.nodeType!==_r)return!1;{const r=o;if(r.matches!==void 0)return r.matches(n);if(r.msMatchesSelector!==void 0)return r.msMatchesSelector(n);if(r.webkitMatchesSelector!==void 0)return r.webkitMatchesSelector(n);if(r.mozMatchesSelector!==void 0)return r.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")}},Oh=e=>e.nodeType!==_r&&e.nodeType!==ki&&e.nodeType!==xo||e.childElementCount===0,md=(e,n)=>{const o=n===void 0?document:n.dom;return Oh(o)?[]:Yt(o.querySelectorAll(e),Oe.fromDom)},o1=(e,n)=>{const o=n===void 0?document:n.dom;return Oh(o)?te.none():te.from(o.querySelector(e)).map(Oe.fromDom)},ns=(e,n)=>e.dom===n.dom,Qe=(e,n)=>{const o=e.dom,r=n.dom;return o===r?!1:o.contains(r)},Mt=e=>Oe.fromDom(e.dom.ownerDocument),xt=e=>Oa(e)?e:Mt(e),Un=e=>Oe.fromDom(xt(e).dom.documentElement),_o=e=>Oe.fromDom(xt(e).dom.defaultView),Vo=e=>te.from(e.dom.parentNode).map(Oe.fromDom),Xr=e=>te.from(e.dom.parentElement).map(Oe.fromDom),qs=(e,n)=>{const o=ge(n)?n:Je;let r=e.dom;const l=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){const f=r.parentNode,v=Oe.fromDom(f);if(l.push(v),o(v)===!0)break;r=f}return l},gd=e=>{const n=o=>Lt(o,r=>!ns(e,r));return Vo(e).map(ze).map(n).getOr([])},Tc=e=>te.from(e.dom.previousSibling).map(Oe.fromDom),Ia=e=>te.from(e.dom.nextSibling).map(Oe.fromDom),Te=e=>Os(rc(e,Tc)),Pe=e=>rc(e,Ia),ze=e=>Yt(e.dom.childNodes,Oe.fromDom),Ht=(e,n)=>{const o=e.dom.childNodes;return te.from(o[n]).map(Oe.fromDom)},ct=e=>Ht(e,0),Ct=e=>Ht(e,e.dom.childNodes.length-1),Xt=e=>e.dom.childNodes.length,An=e=>{const n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return Oe.fromDom(n)},Nn=e=>kf(e)&&Ne(e.dom.host),to=ge(Element.prototype.attachShadow)&&ge(Node.prototype.getRootNode),bo=et(to),so=to?e=>Oe.fromDom(e.dom.getRootNode()):xt,Zo=e=>Nn(e)?e:An(xt(e)),Rs=e=>Nn(e)?e:Oe.fromDom(xt(e).dom.body),To=e=>{const n=so(e);return Nn(n)?te.some(n):te.none()},Li=e=>Oe.fromDom(e.dom.host),$i=e=>{if(bo()&&Ne(e.target)){const n=Oe.fromDom(e.target);if(is(n)&&Va(n)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return Ii(o)}}return te.from(e.target)},Va=e=>Ne(e.dom.shadowRoot),Qs=e=>{const n=dr(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;const o=n.ownerDocument;return To(Oe.fromDom(n)).fold(()=>o.body.contains(n),Rt(Qs,Li))};var Hl=(e,n,o,r,l)=>e(o,r)?te.some(o):ge(l)&&l(o)?te.none():n(o,r,l);const Ps=(e,n,o)=>{let r=e.dom;const l=ge(o)?o:Je;for(;r.parentNode;){r=r.parentNode;const f=Oe.fromDom(r);if(n(f))return te.some(f);if(l(f))break}return te.none()},es=(e,n,o)=>Hl((l,f)=>f(l),Ps,e,n,o),gl=(e,n)=>{const o=e.dom;return o.parentNode?Am(Oe.fromDom(o.parentNode),r=>!ns(e,r)&&n(r)):te.none()},Am=(e,n)=>{const o=l=>n(Oe.fromDom(l));return vs(e.dom.childNodes,o).map(Oe.fromDom)},s1=(e,n)=>{const o=r=>{for(let l=0;l<r.childNodes.length;l++){const f=Oe.fromDom(r.childNodes[l]);if(n(f))return te.some(f);const v=o(r.childNodes[l]);if(v.isSome())return v}return te.none()};return o(e.dom)},Da=(e,n,o)=>Ps(e,r=>da(r,n),o),Yd=(e,n)=>o1(n,e),Vl=(e,n,o)=>Hl((l,f)=>da(l,f),Da,e,n,o),el=e=>Vl(e,"[contenteditable]"),Kd=(e,n=!1)=>Qs(e)?e.dom.isContentEditable:el(e).fold(et(n),o=>ro(o)==="true"),ro=e=>e.dom.contentEditable,fa=e=>e.style!==void 0&&ge(e.style.getPropertyValue),Rh=(e,n,o)=>{if(!oe(o))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);fa(e)&&e.style.setProperty(n,o)},Ev=(e,n)=>{fa(e)&&e.style.removeProperty(n)},ii=(e,n,o)=>{const r=e.dom;Rh(r,n,o)},ha=(e,n)=>{const o=e.dom;an(n,(r,l)=>{Rh(o,l,r)})},$u=(e,n)=>{const o=e.dom,l=window.getComputedStyle(o).getPropertyValue(n);return l===""&&!Qs(e)?pl(o,n):l},pl=(e,n)=>fa(e)?e.style.getPropertyValue(n):"",Na=(e,n)=>{const o=e.dom,r=pl(o,n);return te.from(r).filter(l=>l.length>0)},tl=e=>{const n={},o=e.dom;if(fa(o))for(let r=0;r<o.style.length;r++){const l=o.style.item(r);n[l]=o.style[l]}return n},ea=(e,n)=>{const o=e.dom;Ev(o,n),ke(oc(e,"style").map(uu),"")&&fr(e,"style")},xm=e=>e.dom.offsetWidth,us=(e,n)=>{Vo(e).each(r=>{r.dom.insertBefore(n.dom,e.dom)})},nl=(e,n)=>{Ia(e).fold(()=>{Vo(e).each(l=>{Er(l,n)})},r=>{us(r,n)})},Ul=(e,n)=>{ct(e).fold(()=>{Er(e,n)},r=>{e.dom.insertBefore(n.dom,r.dom)})},Er=(e,n)=>{e.dom.appendChild(n.dom)},Om=(e,n)=>{us(e,n),Er(n,e)},zl=(e,n)=>{mt(n,(o,r)=>{const l=r===0?e:n[r-1];nl(l,o)})},pd=(e,n)=>{mt(n,o=>{Er(e,o)})},Js=e=>{e.dom.textContent="",mt(ze(e),n=>{wr(n)})},wr=e=>{const n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},Ua=e=>{const n=ze(e);n.length>0&&zl(e,n),wr(e)},r1=(e,n)=>{const r=(n||document).createElement("div");return r.innerHTML=e,ze(Oe.fromDom(r))},Bu=e=>Yt(e,Oe.fromDom),Pf=e=>e.dom.innerHTML,Rm=(e,n)=>{const r=Mt(e).dom,l=Oe.fromDom(r.createDocumentFragment()),f=r1(n,r);pd(l,f),Js(e),Er(e,l)},ue=e=>{const n=Oe.fromTag("div"),o=Oe.fromDom(e.dom.cloneNode(!0));return Er(n,o),Pf(n)},Xd=(e,n,o,r,l,f,v)=>({target:e,x:n,y:o,stop:r,prevent:l,kill:f,raw:v}),Ih=e=>{const n=Oe.fromDom($i(e).getOr(e.target)),o=()=>e.stopPropagation(),r=()=>e.preventDefault(),l=P(r,o);return Xd(n,e.clientX,e.clientY,o,r,l,e)},vl=(e,n)=>o=>{e(o)&&n(Ih(o))},Us=(e,n,o,r,l)=>{const f=vl(o,r);return e.dom.addEventListener(n,f,l),{unbind:Ge(Qd,e,n,f,l)}},i1=(e,n,o,r)=>Us(e,n,o,r,!1),Qd=(e,n,o,r)=>{e.dom.removeEventListener(n,o,r)},a1=(e,n)=>({left:e,top:n,translate:(r,l)=>a1(e+r,n+l)}),ma=a1,wv=e=>{const n=e.getBoundingClientRect();return ma(n.left,n.top)},Im=(e,n)=>e!==void 0?e:n!==void 0?n:0,e0=e=>{const n=e.dom.ownerDocument,o=n.body,r=n.defaultView,l=n.documentElement;if(o===e.dom)return ma(o.offsetLeft,o.offsetTop);const f=Im(r==null?void 0:r.pageYOffset,l.scrollTop),v=Im(r==null?void 0:r.pageXOffset,l.scrollLeft),C=Im(l.clientTop,o.clientTop),x=Im(l.clientLeft,o.clientLeft);return Fu(e).translate(v-x,f-C)},Fu=e=>{const n=e.dom,r=n.ownerDocument.body;return r===n?ma(r.offsetLeft,r.offsetTop):Qs(e)?wv(n):ma(0,0)},c1=e=>{const n=e!==void 0?e.dom:document,o=n.body.scrollLeft||n.documentElement.scrollLeft,r=n.body.scrollTop||n.documentElement.scrollTop;return ma(o,r)},za=(e,n,o)=>{const l=(o!==void 0?o.dom:document).defaultView;l&&l.scrollTo(e,n)},Lf=(e,n)=>{Hs().browser.isSafari()&&ge(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},t0=e=>{const n=e===void 0?window:e;return Hs().browser.isFirefox()?te.none():te.from(n.visualViewport)},Wg=(e,n,o,r)=>({x:e,y:n,width:o,height:r,right:e+o,bottom:n+r}),$f=e=>{const n=e===void 0?window:e,o=n.document,r=c1(Oe.fromDom(o));return t0(n).fold(()=>{const l=n.document.documentElement,f=l.clientWidth,v=l.clientHeight;return Wg(r.left,r.top,f,v)},l=>Wg(Math.max(l.pageLeft,r.left),Math.max(l.pageTop,r.top),l.width,l.height))},Tv=(e,n)=>Lt(ze(e),n),Hu=(e,n)=>{let o=[];return mt(ze(e),r=>{n(r)&&(o=o.concat([r])),o=o.concat(Hu(r,n))}),o},Qr=(e,n)=>md(n,e),Gg=(e,n,o)=>Da(e,n,o).isSome();class ai{constructor(n,o){this.node=n,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node}prev(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node}prev2(n){return this.node=this.findPreviousNode(this.node,n),this.node}findSibling(n,o,r,l){if(n){if(!l&&n[o])return n[o];if(n!==this.rootNode){let f=n[r];if(f)return f;for(let v=n.parentNode;v&&v!==this.rootNode;v=v.parentNode)if(f=v[r],f)return f}}}findPreviousNode(n,o){if(n){const r=n.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!o){for(let f=r.lastChild;f;f=f.lastChild)if(!f.lastChild)return f}return r}const l=n.parentNode;if(l&&l!==this.rootNode)return l}}}const ga=e=>n=>!!n&&n.nodeType===e,Pn=e=>!!e&&!Object.getPrototypeOf(e),nn=ga(1),Dm=e=>{const n=e.toLowerCase();return o=>Ne(o)&&o.nodeName.toLowerCase()===n},bl=e=>{const n=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const r=o.nodeName.toLowerCase();return kn(n,r)}return!1}},yl=(e,n)=>{const o=n.toLowerCase().split(" ");return r=>{if(nn(r)){const l=r.ownerDocument.defaultView;if(l)for(let f=0;f<o.length;f++){const v=l.getComputedStyle(r,null);if((v?v.getPropertyValue(e):null)===o[f])return!0}}return!1}},qg=e=>n=>nn(n)&&n.hasAttribute(e),_l=(e,n)=>o=>nn(o)&&o.getAttribute(e)===n,ol=e=>nn(e)&&e.hasAttribute("data-mce-bogus"),Vu=e=>nn(e)&&e.getAttribute("data-mce-bogus")==="all",Dr=e=>nn(e)&&e.tagName==="TABLE",vd=e=>n=>!!(nn(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e)),Dh=bl(["textarea","input"]),Ut=ga(3),n0=ga(4),Nm=ga(7),Wa=ga(8),bd=ga(9),Jd=ga(11),hr=Dm("br"),jg=Dm("img"),ts=vd("true"),Po=vd("false"),Jr=bl(["td","th"]),Cc=bl(["td","th","caption"]),or=bl(["video","audio","object","embed"]),ef=Dm("li"),jr="\uFEFF",ys=" ",Wl=e=>e===jr,At=e=>e.replace(/\uFEFF/g,""),Bf=((e,n)=>{const o=f=>{if(!e(f))throw new Error("Can only get "+n+" value of a "+n+" node");return r(f).getOr("")},r=f=>e(f)?te.from(f.dom.nodeValue):te.none();return{get:o,getOption:r,set:(f,v)=>{if(!e(f))throw new Error("Can only set raw "+n+" value of a "+n+" node");f.dom.nodeValue=v}}})(dr,"text"),Wr=e=>Bf.get(e),Gl=e=>Bf.getOption(e),Ga=(e,n)=>Bf.set(e,n),ic=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],Mm=["td","th"],ac=["thead","tbody","tfoot"],Zg=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Bi=["h1","h2","h3","h4","h5","h6"],Yo=["li","dd","dt"],Le=["ul","ol","dl"],$=["pre","script","textarea","style"],ae=["pre"].concat(Bi),He=e=>{let n;return o=>(n=n||Yr(e,It),qn(n,Vs(o)))},Ft=He(ic),In=e=>Vs(e)==="table",dn=e=>is(e)&&!Ft(e),Ko=e=>is(e)&&Vs(e)==="br",We=He(Zg),Gr=He(Le),ci=He(Yo),ta=He(ac),Hr=He(Mm),li=He($),Ti=He(ae),tf=e=>Ti(e)||dn(e),l1=e=>{const n=[];let o=e.dom;for(;o;)n.push(Oe.fromDom(o)),o=o.lastChild;return n},Nh=e=>{const n=Qr(e,"br"),o=Lt(l1(e).slice(-1),Ko);n.length===o.length&&mt(o,wr)},Wn=()=>{const e=Oe.fromTag("br");return ho(e,"data-mce-bogus","1"),e},Yg=e=>{Js(e),Er(e,Wn())},mu=e=>{Ct(e).each(n=>{Tc(n).each(o=>{Ft(e)&&Ko(n)&&Ft(o)&&wr(n)})})},Ma=jr,Cv=Wl,yd=At,f_=nn,km=Ut,Uu=e=>(km(e)&&(e=e.parentNode),f_(e)&&e.hasAttribute("data-mce-caret")),Sc=e=>km(e)&&Cv(e.data),wl=e=>Uu(e)||Sc(e),Sv=e=>e.firstChild!==e.lastChild||!hr(e.firstChild),h_=(e,n)=>{var o;const l=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Ma),f=e.parentNode;if(n){const v=e.previousSibling;if(km(v)){if(wl(v))return v;if(Kg(v))return v.splitText(v.data.length-1)}f==null||f.insertBefore(l,e)}else{const v=e.nextSibling;if(km(v)){if(wl(v))return v;if(Pm(v))return v.splitText(1),v}e.nextSibling?f==null||f.insertBefore(l,e.nextSibling):f==null||f.appendChild(l)}return l},_d=e=>{const n=e.container();return Ut(n)?n.data.charAt(e.offset())===Ma||e.isAtStart()&&Sc(n.previousSibling):!1},u1=e=>{const n=e.container();return Ut(n)?n.data.charAt(e.offset()-1)===Ma||e.isAtEnd()&&Sc(n.nextSibling):!1},Av=(e,n,o)=>{var r;const f=((r=n.ownerDocument)!==null&&r!==void 0?r:document).createElement(e);f.setAttribute("data-mce-caret",o?"before":"after"),f.setAttribute("data-mce-bogus","all"),f.appendChild(Wn().dom);const v=n.parentNode;return o?v==null||v.insertBefore(f,n):n.nextSibling?v==null||v.insertBefore(f,n.nextSibling):v==null||v.appendChild(f),f},Pm=e=>km(e)&&e.data[0]===Ma,Kg=e=>km(e)&&e.data[e.data.length-1]===Ma,Ff=e=>{var n;const o=e.getElementsByTagName("br"),r=o[o.length-1];ol(r)&&((n=r.parentNode)===null||n===void 0||n.removeChild(r))},xv=e=>e&&e.hasAttribute("data-mce-caret")?(Ff(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Ov=e=>Uu(e.startContainer),Ss=ts,o0=Po,pa=hr,ql=Ut,Lm=bl(["script","style","textarea"]),Mh=bl(["img","input","textarea","hr","iframe","video","audio","object","embed"]),m_=bl(["table"]),Fi=wl,Tl=e=>Fi(e)?!1:ql(e)?!Lm(e.parentNode):Mh(e)||pa(e)||m_(e)||Ph(e),kh=e=>nn(e)&&e.getAttribute("unselectable")==="true",Ph=e=>!kh(e)&&o0(e),nf=(e,n)=>{for(let o=e.parentNode;o&&o!==n;o=o.parentNode){if(Ph(o))return!1;if(Ss(o))return!0}return!0},Hf=e=>Ph(e)?!Ns(vr(e.getElementsByTagName("*")),(n,o)=>n||Ss(o),!1):!1,Cl=e=>Mh(e)||Hf(e),na=(e,n)=>Tl(e)&&nf(e,n),Rv=/^[ \t\r\n]*$/,Hc=e=>Rv.test(e),jl=e=>" \f	\v".indexOf(e)!==-1,Sl=e=>e===`
`||e==="\r",Xg=(e,n)=>n<e.length&&n>=0?Sl(e[n]):!1,Lh=(e,n=4,o=!0,r=!0)=>{const l=Qc(" ",n),f=e.replace(/\t/g,l);return Ns(f,(C,x)=>jl(x)||x===ys?C.pcIsSpace||C.str===""&&o||C.str.length===f.length-1&&r||Xg(f,C.str.length+1)?{pcIsSpace:!1,str:C.str+ys}:{pcIsSpace:!0,str:C.str+" "}:{pcIsSpace:Sl(x),str:C.str+x},{pcIsSpace:!1,str:""}).str},Iv=(e,n)=>{const o=Oe.fromDom(n),r=Oe.fromDom(e);return Gg(r,"pre,code",Ge(ns,o))},s0=(e,n)=>Ut(e)&&Hc(e.data)&&!Iv(e,n),mr=e=>nn(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),Dv=(e,n)=>Tl(e)&&!s0(e,n)||mr(e)||Vc(e),Vc=qg("data-mce-bookmark"),Nv=qg("data-mce-bogus"),Mv=_l("data-mce-bogus","all"),Vf=(e,n)=>{let o=0;if(Dv(e,e))return!1;{let r=e.firstChild;if(!r)return!0;const l=new ai(r,e);do{if(n){if(Mv(r)){r=l.next(!0);continue}if(Nv(r)){r=l.next();continue}}if(hr(r)){o++,r=l.next();continue}if(Dv(r,e))return!1;r=l.next()}while(r);return o<=1}},zs=(e,n=!0)=>Vf(e.dom,n),of="data-mce-block",d1=e=>Lt(bi(e),n=>!/[A-Z]/.test(n)),kv=e=>d1(e).join(","),$m=(e,n)=>Ne(n.querySelector(e))?(n.setAttribute(of,"true"),n.getAttribute("data-mce-selected")==="inline-boundary"&&n.removeAttribute("data-mce-selected"),!0):(n.removeAttribute(of),!1),f1=(e,n)=>{const o=kv(e.getTransparentElements()),r=kv(e.getBlockElements());return Lt(n.querySelectorAll(o),l=>$m(r,l))},Qg=(e,n)=>{var o;const r=n?"lastChild":"firstChild";for(let l=e[r];l;l=l[r])if(zs(Oe.fromDom(l))){(o=l.parentNode)===null||o===void 0||o.removeChild(l);return}},g_=(e,n)=>{const o=document.createRange(),r=e.parentNode;if(r){o.setStartBefore(e),o.setEndBefore(n);const l=o.extractContents();Qg(l,!0),o.setStartAfter(n),o.setEndAfter(e);const f=o.extractContents();Qg(f,!1),zs(Oe.fromDom(l))||r.insertBefore(l,e),zs(Oe.fromDom(n))||r.insertBefore(n,e),zs(Oe.fromDom(f))||r.insertBefore(f,e),r.removeChild(e)}},sl=(e,n,o)=>{const r=e.getBlockElements(),l=Oe.fromDom(n),f=C=>Vs(C)in r,v=C=>ns(C,l);mt(Bu(o),C=>{Ps(C,f,v).each(x=>{const L=Tv(C,Z=>f(Z)&&!e.isValidChild(Vs(x),Vs(Z)));if(L.length>0){const Z=Xr(x);mt(L,j=>{Ps(j,f,v).each(ne=>{g_(ne.dom,j.dom)})}),Z.each(j=>f1(e,j.dom))}})})},zu=(e,n,o)=>{mt([...o,...zf(e,n)?[n]:[]],r=>mt(Qr(Oe.fromDom(r),r.nodeName.toLowerCase()),l=>{r0(e,l.dom)&&Ua(l)}))},Uf=(e,n)=>{const o=f1(e,n);sl(e,n,o),zu(e,n,o)},sf=(e,n)=>{if(h1(e,n)){const o=kv(e.getBlockElements());$m(o,n)}},Wu=(e,n,o)=>{const r=f=>ns(f,Oe.fromDom(n)),l=qs(Oe.fromDom(o),r);fl(l,l.length-2).filter(is).fold(()=>Uf(e,n),f=>Uf(e,f.dom))},gu=e=>e.hasAttribute(of),Jg=(e,n)=>qn(e.getTransparentElements(),n),h1=(e,n)=>nn(n)&&Jg(e,n.nodeName),zf=(e,n)=>h1(e,n)&&gu(n),r0=(e,n)=>h1(e,n)&&!gu(n),Bm=(e,n)=>n.type===1&&Jg(e,n.name)&&oe(n.attr(of)),Fm=(e,n)=>n.type===1&&Jg(e,n.name)&&ht(n.attr(of)),p_=Hs().browser,ep=e=>vs(e,is),ss=e=>p_.isFirefox()&&Vs(e)==="table"?ep(ze(e)).filter(n=>Vs(n)==="caption").bind(n=>ep(Pe(n)).map(o=>{const r=o.dom.offsetTop,l=n.dom.offsetTop,f=n.dom.offsetHeight;return r<=l?-f:0})).getOr(0):0,Mn=(e,n)=>e.children&&kn(e.children,n),rf=(e,n,o)=>{let r=0,l=0;const f=e.ownerDocument;if(o=o||e,n){if(o===e&&n.getBoundingClientRect&&$u(Oe.fromDom(e),"position")==="static"){const C=n.getBoundingClientRect();return r=C.left+(f.documentElement.scrollLeft||e.scrollLeft)-f.documentElement.clientLeft,l=C.top+(f.documentElement.scrollTop||e.scrollTop)-f.documentElement.clientTop,{x:r,y:l}}let v=n;for(;v&&v!==o&&v.nodeType&&!Mn(v,o);){const C=v;r+=C.offsetLeft||0,l+=C.offsetTop||0,v=C.offsetParent}for(v=n.parentNode;v&&v!==o&&v.nodeType&&!Mn(v,o);)r-=v.scrollLeft||0,l-=v.scrollTop||0,v=v.parentNode;l+=ss(Oe.fromDom(n))}return{x:r,y:l}},af=(e,n={})=>{let o=0;const r={},l=Oe.fromDom(e),f=xt(l),v=he=>{n.referrerPolicy=he},C=he=>{n.contentCssCors=he},x=he=>{Er(Zo(l),he)},L=he=>{const Se=Zo(l);Yd(Se,"#"+he).each(wr)},Z=he=>Xs(r,he).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),j=he=>new Promise((Se,Ve)=>{let $e;const je=pe._addCacheSuffix(he),rt=Z(je);r[je]=rt,rt.count++;const St=(dt,bn)=>{mt(dt,Fo),rt.status=bn,rt.passed=[],rt.failed=[],$e&&($e.onload=null,$e.onerror=null,$e=null)},on=()=>St(rt.passed,2),jt=()=>St(rt.failed,3);if(Se&&rt.passed.push(Se),Ve&&rt.failed.push(Ve),rt.status===1)return;if(rt.status===2){on();return}if(rt.status===3){jt();return}rt.status=1;const ft=Oe.fromTag("link",f.dom);zr(ft,{rel:"stylesheet",type:"text/css",id:rt.id}),n.contentCssCors&&ho(ft,"crossOrigin","anonymous"),n.referrerPolicy&&ho(ft,"referrerpolicy",n.referrerPolicy),$e=ft.dom,$e.onload=on,$e.onerror=jt,x(ft),ho(ft,"href",je)}),ne=he=>Promise.allSettled(Yt(he,Ve=>j(Ve).then(et(Ve)))).then(Ve=>{const $e=vi(Ve,je=>je.status==="fulfilled");return $e.fail.length>0?Promise.reject(Yt($e.fail,je=>je.reason)):Yt($e.pass,je=>je.value)}),Ce=he=>{const Se=pe._addCacheSuffix(he);Xs(r,Se).each(Ve=>{--Ve.count===0&&(delete r[Se],L(Ve.id))})};return{load:j,loadAll:ne,unload:Ce,unloadAll:he=>{mt(he,Se=>{Ce(Se)})},_setReferrerPolicy:v,_setContentCssCors:C}},m1=(()=>{const e=new WeakMap;return{forElement:(o,r)=>{const f=so(o).dom;return te.from(e.get(f)).getOrThunk(()=>{const v=af(f,r);return e.set(f,v),v})}}})(),i0=e=>e.nodeName.toLowerCase()==="span",js=(e,n)=>Ne(e)&&(Dv(e,n)||dn(Oe.fromDom(e))),g1=(e,n)=>{const o=new ai(e,n).prev(!1),r=new ai(e,n).next(!1),l=ht(o)||js(o,n),f=ht(r)||js(r,n);return l&&f},Pv=e=>i0(e)&&e.getAttribute("data-mce-type")==="bookmark",Lv=(e,n)=>Ut(e)&&e.data.length>0&&g1(e,n),Dt=e=>nn(e)?e.childNodes.length>0:!1,$v=e=>Jd(e)||bd(e),Ed=(e,n,o)=>{var r;const l=o||n;if(nn(n)&&Pv(n))return n;const f=n.childNodes;for(let v=f.length-1;v>=0;v--)Ed(e,f[v],l);if(nn(n)){const v=n.childNodes;v.length===1&&Pv(v[0])&&((r=n.parentNode)===null||r===void 0||r.insertBefore(v[0],n))}return!$v(n)&&!Dv(n,l)&&!Dt(n)&&!Lv(n,l)&&e.remove(n),n},$h=pe.makeMap,p1=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Wf=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,np=/[<>&\"\']/g,Hm=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,a0={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},qa={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Tr={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Ac=e=>{const n=Oe.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},Vm=(e,n)=>{const o={};if(e){const r=e.split(",");n=n||10;for(let l=0;l<r.length;l+=2){const f=String.fromCharCode(parseInt(r[l],n));if(!qa[f]){const v="&"+r[l+1]+";";o[f]=v,o[v]=f}}return o}else return},Zl=Vm("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Um=(e,n)=>e.replace(n?p1:Wf,o=>qa[o]||o),Oo=e=>(""+e).replace(np,n=>qa[n]||n),wd=(e,n)=>e.replace(n?p1:Wf,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":qa[o]||"&#"+o.charCodeAt(0)+";"),v1=(e,n,o)=>{const r=o||Zl;return e.replace(n?p1:Wf,l=>qa[l]||r[l]||l)},cf={encodeRaw:Um,encodeAllRaw:Oo,encodeNumeric:wd,encodeNamed:v1,getEncodeFunc:(e,n)=>{const o=Vm(n)||Zl,r=(v,C)=>v.replace(C?p1:Wf,x=>qa[x]!==void 0?qa[x]:o[x]!==void 0?o[x]:x.length>1?"&#"+((x.charCodeAt(0)-55296)*1024+(x.charCodeAt(1)-56320)+65536)+";":"&#"+x.charCodeAt(0)+";"),l=(v,C)=>v1(v,C,o),f=$h(e.replace(/\+/g,","));return f.named&&f.numeric?r:f.named?n?l:v1:f.numeric?wd:Um},decode:e=>e.replace(Hm,(n,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):a0[o]||String.fromCharCode(o)):Tr[n]||Zl[n]||Ac(n))},Gu={},cc={},Fw={},op=pe.makeMap,Hi=pe.each,_n=pe.extend,Bv=pe.explode,v_=pe.inArray,lc=(e,n)=>(e=pe.trim(e),e?e.split(n||" "):[]),c0=(e,n={})=>{const o=op(e," ",op(e.toUpperCase()," "));return _n(o,n)},lf=e=>c0("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Uc=e=>{const n={};let o,r,l,f;const v=(x,L="",Z="")=>{const j=lc(Z),ne=lc(x);let Ce=ne.length;for(;Ce--;){const xe=lc([o,L].join(" "));n[ne[Ce]]={attributes:Yr(xe,()=>({})),attributesOrder:xe,children:Yr(j,et(Fw))}}},C=(x,L)=>{const Z=lc(x),j=lc(L);let ne=Z.length;for(;ne--;){const Ce=n[Z[ne]];for(let xe=0,he=j.length;xe<he;xe++)Ce.attributes[j[xe]]={},Ce.attributesOrder.push(j[xe])}};if(Gu[e])return Gu[e];if(o="id accesskey class dir lang style tabindex title role",r="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",l="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"){const x="a ins del canvas map";o+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",r+=" article aside details dialog figure main header footer hgroup section nav "+x,l+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"}if(e!=="html5-strict"){o+=" xml:lang";const x="acronym applet basefont big font strike tt";l=[l,x].join(" "),Hi(lc(x),Z=>{v(Z,"",l)});const L="center dir isindex noframes";r=[r,L].join(" "),f=[r,l].join(" "),Hi(lc(L),Z=>{v(Z,"",f)})}return f=f||[r,l].join(" "),v("html","manifest","head body"),v("head","","base command link meta noscript script style title"),v("title hr noscript br"),v("base","href target"),v("link","href rel media hreflang type sizes hreflang"),v("meta","name http-equiv content charset"),v("style","media type scoped"),v("script","src async defer type charset"),v("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",f),v("address dt dd div caption","",f),v("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",l),v("blockquote","cite",f),v("ol","reversed start type","li"),v("ul","","li"),v("li","value",f),v("dl","","dt dd"),v("a","href target rel media hreflang type",f),v("q","cite",l),v("ins del","cite datetime",f),v("img","src sizes srcset alt usemap ismap width height"),v("iframe","src name width height",f),v("embed","src type width height"),v("object","data type typemustmatch name usemap form width height",[f,"param"].join(" ")),v("param","name value"),v("map","name",[f,"area"].join(" ")),v("area","alt coords shape href target rel media hreflang type"),v("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),v("colgroup","span","col"),v("col","span"),v("tbody thead tfoot","","tr"),v("tr","","td th"),v("td","colspan rowspan headers",f),v("th","colspan rowspan headers scope abbr",f),v("form","accept-charset action autocomplete enctype method name novalidate target",f),v("fieldset","disabled form name",[f,"legend"].join(" ")),v("label","form for",l),v("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),v("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?f:l),v("select","disabled form multiple name required size","option optgroup"),v("optgroup","disabled label","option"),v("option","disabled label selected value"),v("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),v("menu","type label",[f,"li"].join(" ")),v("noscript","",f),e!=="html4"&&(v("wbr"),v("ruby","",[l,"rt rp"].join(" ")),v("figcaption","",f),v("mark rt rp summary bdi","",l),v("canvas","width height",f),v("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[f,"track source"].join(" ")),v("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[f,"track source"].join(" ")),v("picture","","img source"),v("source","src srcset type media sizes"),v("track","kind src srclang label default"),v("datalist","",[l,"option"].join(" ")),v("article section nav aside main header footer","",f),v("hgroup","","h1 h2 h3 h4 h5 h6"),v("figure","",[f,"figcaption"].join(" ")),v("time","datetime",l),v("dialog","open",f),v("command","type label icon disabled checked radiogroup command"),v("output","for form name",l),v("progress","value max",l),v("meter","value min max low high optimum",l),v("details","open",[f,"summary"].join(" ")),v("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(C("script","language xml:space"),C("style","xml:space"),C("object","declare classid code codebase codetype archive standby align border hspace vspace"),C("embed","align name hspace vspace"),C("param","valuetype type"),C("a","charset name rev shape coords"),C("br","clear"),C("applet","codebase archive code object alt name width height align hspace vspace"),C("img","name longdesc align border hspace vspace"),C("iframe","longdesc frameborder marginwidth marginheight scrolling align"),C("font basefont","size color face"),C("input","usemap align"),C("select"),C("textarea"),C("h1 h2 h3 h4 h5 h6 div p legend caption","align"),C("ul","type compact"),C("li","type"),C("ol dl menu dir","compact"),C("pre","width xml:space"),C("hr","align noshade size width"),C("isindex","prompt"),C("table","summary width frame rules cellspacing cellpadding align bgcolor"),C("col","width align char charoff valign"),C("colgroup","width align char charoff valign"),C("thead","align char charoff valign"),C("tr","align char charoff valign bgcolor"),C("th","axis align char charoff valign nowrap bgcolor width height"),C("form","accept"),C("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),C("tfoot","align char charoff valign"),C("tbody","align char charoff valign"),C("area","nohref"),C("body","background bgcolor text link vlink alink")),e!=="html4"&&(C("input button select textarea","autofocus"),C("input textarea","placeholder"),C("a","download"),C("link script img","crossorigin"),C("img","loading"),C("iframe","sandbox seamless allow allowfullscreen loading")),e!=="html4"&&mt([n.video,n.audio],x=>{delete x.children.audio,delete x.children.video}),Hi(lc("a form meter progress dfn"),x=>{n[x]&&delete n[x].children[x]}),delete n.caption.children.table,delete n.script,Gu[e]=n,n},qu=(e,n)=>{if(e){const o={};return oe(e)&&(e={"*":e}),Hi(e,(r,l)=>{o[l]=o[l.toUpperCase()]=n==="map"?op(r,/[, ]/):Bv(r,/[, ]/)}),o}else return},Yl=(e={})=>{var n;const o={},r={};let l=[];const f={},v={},C=(go,gs,Ks)=>{const cr=e[go];if(cr)return op(cr,/[, ]/,op(cr.toUpperCase(),/[, ]/));{let mi=cc[go];return mi||(mi=c0(gs,Ks),cc[go]=mi),mi}},x=(n=e.schema)!==null&&n!==void 0?n:"html5",L=Uc(x);e.verify_html===!1&&(e.valid_elements="*[*]");const Z=qu(e.valid_styles),j=qu(e.invalid_styles,"map"),ne=qu(e.valid_classes,"map"),Ce=C("whitespace_elements","pre script noscript style textarea video audio iframe object code"),xe=C("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),he=C("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),Se=C("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),Ve="td th iframe video audio object script code",$e=C("non_empty_elements",Ve+" pre",he),je=C("move_caret_before_on_enter_elements",Ve+" table",he),rt=C("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),St=C("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",rt),on=C("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),jt=C("transparent_elements","a ins del canvas map");Hi("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),go=>{v[go]=new RegExp("</"+go+"[^>]*>","gi")});const ft=go=>new RegExp("^"+go.replace(/([?+*])/g,".$1")+"$"),dt=go=>{const gs=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,Ks=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,cr=/[*?+]/;if(go){const mi=lc(go,",");let Zi,qr;o["@"]&&(Zi=o["@"].attributes,qr=o["@"].attributesOrder);for(let wa=0,ch=mi.length;wa<ch;wa++){let ul=gs.exec(mi[wa]);if(ul){const Ig=ul[1],Fd=ul[2],Qy=ul[3],Jy=ul[5],Dg={},pm=[],Ba={attributes:Dg,attributesOrder:pm};if(Ig==="#"&&(Ba.paddEmpty=!0),Ig==="-"&&(Ba.removeEmpty=!0),ul[4]==="!"&&(Ba.removeEmptyAttrs=!0),Zi&&(an(Zi,(lh,Ng)=>{Dg[Ng]=lh}),qr&&pm.push(...qr)),Jy){const lh=lc(Jy,"|");for(let Ng=0,ou=lh.length;Ng<ou;Ng++)if(ul=Ks.exec(lh[Ng]),ul){const uh={},Gp=ul[1],Ml=ul[2].replace(/[\\:]:/g,":"),mv=ul[3],Mg=ul[4];if(Gp==="!"&&(Ba.attributesRequired=Ba.attributesRequired||[],Ba.attributesRequired.push(Ml),uh.required=!0),Gp==="-"){delete Dg[Ml],pm.splice(v_(pm,Ml),1);continue}if(mv&&(mv==="="&&(Ba.attributesDefault=Ba.attributesDefault||[],Ba.attributesDefault.push({name:Ml,value:Mg}),uh.defaultValue=Mg),mv==="~"&&(Ba.attributesForced=Ba.attributesForced||[],Ba.attributesForced.push({name:Ml,value:Mg}),uh.forcedValue=Mg),mv==="<"&&(uh.validValues=op(Mg,"?"))),cr.test(Ml)){const Hd=uh;Ba.attributePatterns=Ba.attributePatterns||[],Hd.pattern=ft(Ml),Ba.attributePatterns.push(Hd)}else Dg[Ml]||pm.push(Ml),Dg[Ml]=uh}}if(!Zi&&Fd==="@"&&(Zi=Dg,qr=pm),Qy&&(Ba.outputName=Fd,o[Qy]=Ba),cr.test(Fd)){const lh=Ba;lh.pattern=ft(Fd),l.push(lh)}else o[Fd]=Ba}}}},bn=go=>{l=[],mt(bi(o),gs=>{delete o[gs]}),dt(go),Hi(L,(gs,Ks)=>{r[Ks]=gs.children})},Ln=go=>{const gs=/^(~)?(.+)$/;go&&(delete cc.text_block_elements,delete cc.block_elements,Hi(lc(go,","),Ks=>{const cr=gs.exec(Ks);if(cr){const mi=cr[1]==="~",Zi=mi?"span":"div",qr=cr[2];if(r[qr]=r[Zi],f[qr]=Zi,$e[qr.toUpperCase()]={},$e[qr]={},mi||(St[qr.toUpperCase()]={},St[qr]={}),!o[qr]){let wa=o[Zi];wa=_n({},wa),delete wa.removeEmptyAttrs,delete wa.removeEmpty,o[qr]=wa}Hi(r,(wa,ch)=>{wa[Zi]&&(r[ch]=wa=_n({},r[ch]),wa[qr]=wa[Zi])})}}))},Gn=go=>{const gs=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;delete Gu[x],go&&Hi(lc(go,","),Ks=>{const cr=gs.exec(Ks);if(cr){const mi=cr[1];let Zi;mi?Zi=r[cr[2]]:Zi=r[cr[2]]={"#comment":{}},Zi=r[cr[2]],Hi(lc(cr[3],"|"),qr=>{mi==="-"?delete Zi[qr]:Zi[qr]={}})}})},wo=go=>{const gs=o[go];if(gs)return gs;let Ks=l.length;for(;Ks--;){const cr=l[Ks];if(cr.pattern.test(go))return cr}};e.valid_elements?bn(e.valid_elements):(Hi(L,(go,gs)=>{o[gs]={attributes:go.attributes,attributesOrder:go.attributesOrder},r[gs]=go.children}),Hi(lc("strong/b em/i"),go=>{const gs=lc(go,"/");o[gs[1]].outputName=gs[0]}),Hi(on,(go,gs)=>{o[gs]&&(e.padd_empty_block_inline_children&&(o[gs].paddInEmptyBlock=!0),o[gs].removeEmpty=!0)}),Hi(lc("ol ul blockquote a table tbody"),go=>{o[go]&&(o[go].removeEmpty=!0)}),Hi(lc("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),go=>{o[go].paddEmpty=!0}),Hi(lc("span"),go=>{o[go].removeEmptyAttrs=!0})),Ln(e.custom_elements),Gn(e.valid_children),dt(e.extended_valid_elements),Gn("+ol[ul|ol],+ul[ul|ol]"),Hi({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(go,gs)=>{o[gs]&&(o[gs].parentsRequired=lc(go))}),e.invalid_elements&&Hi(Bv(e.invalid_elements),go=>{o[go]&&delete o[go]}),wo("span")||dt("span[!data-mce-type|*]");const Qo=et(Z),Ds=et(j),ar=et(ne),Ri=et(Se),kc=et(St),Ka=et(rt),Gt=et(on),Rn=et(Object.seal(he)),hs=et(xe),un=et($e),Vn=et(je),zn=et(Ce),hn=et(jt),Wo=et(Object.seal(v)),Go=(go,gs)=>{const Ks=r[go.toLowerCase()];return!!(Ks&&Ks[gs.toLowerCase()])},gc=(go,gs)=>{const Ks=wo(go);if(Ks)if(gs){if(Ks.attributes[gs])return!0;const cr=Ks.attributePatterns;if(cr){let mi=cr.length;for(;mi--;)if(cr[mi].pattern.test(gs))return!0}}else return!0;return!1},Vr=et(f);return{type:x,children:r,elements:o,getValidStyles:Qo,getValidClasses:ar,getBlockElements:kc,getInvalidStyles:Ds,getVoidElements:Rn,getTextBlockElements:Ka,getTextInlineElements:Gt,getBoolAttrs:Ri,getElementRule:wo,getSelfClosingElements:hs,getNonEmptyElements:un,getMoveCaretBeforeOnEnterElements:Vn,getWhitespaceElements:zn,getTransparentElements:hn,getSpecialElements:Wo,isValidChild:Go,isValid:gc,getCustomElements:Vr,addValidElements:dt,setValidElements:bn,addCustomElements:Ln,addValidChildren:Gn}},sp=(e={},n)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,l=/\s+$/,f={};let v,C;const x=jr;n&&(v=n.getValidStyles(),C=n.getInvalidStyles());const L=(`\\" \\' \\; \\: ; : `+x).split(" ");for(let j=0;j<L.length;j++)f[L[j]]=x+j,f[x+j]=L[j];const Z={parse:j=>{const ne={};let Ce=!1;const xe=e.url_converter,he=e.url_converter_scope||Z,Se=(ft,dt,bn)=>{const Ln=ne[ft+"-top"+dt];if(!Ln)return;const Gn=ne[ft+"-right"+dt];if(!Gn)return;const wo=ne[ft+"-bottom"+dt];if(!wo)return;const Qo=ne[ft+"-left"+dt];if(!Qo)return;const Ds=[Ln,Gn,wo,Qo];let ar=Ds.length-1;for(;ar--&&Ds[ar]===Ds[ar+1];);ar>-1&&bn||(ne[ft+dt]=ar===-1?Ds[0]:Ds.join(" "),delete ne[ft+"-top"+dt],delete ne[ft+"-right"+dt],delete ne[ft+"-bottom"+dt],delete ne[ft+"-left"+dt])},Ve=ft=>{const dt=ne[ft];if(!dt)return;const bn=dt.split(" ");let Ln=bn.length;for(;Ln--;)if(bn[Ln]!==bn[0])return!1;return ne[ft]=bn[0],!0},$e=(ft,dt,bn,Ln)=>{Ve(dt)&&Ve(bn)&&Ve(Ln)&&(ne[ft]=ne[dt]+" "+ne[bn]+" "+ne[Ln],delete ne[dt],delete ne[bn],delete ne[Ln])},je=ft=>(Ce=!0,f[ft]),rt=(ft,dt)=>(Ce&&(ft=ft.replace(/\uFEFF[0-9]/g,bn=>f[bn])),dt||(ft=ft.replace(/\\([\'\";:])/g,"$1")),ft),St=ft=>String.fromCharCode(parseInt(ft.slice(1),16)),on=ft=>ft.replace(/\\[0-9a-f]+/gi,St),jt=(ft,dt,bn,Ln,Gn,wo)=>{if(Gn=Gn||wo,Gn)return Gn=rt(Gn),"'"+Gn.replace(/\'/g,"\\'")+"'";if(dt=rt(dt||bn||Ln||""),!e.allow_script_urls){const Qo=dt.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Qo)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(Qo))return""}return xe&&(dt=xe.call(he,dt,"style")),"url('"+dt.replace(/\'/g,"\\'")+"')"};if(j){j=j.replace(/[\u0000-\u001F]/g,""),j=j.replace(/\\[\"\';:\uFEFF]/g,je).replace(/\"[^\"]+\"|\'[^\']+\'/g,dt=>dt.replace(/[;:]/g,je));let ft;for(;ft=r.exec(j);){r.lastIndex=ft.index+ft[0].length;let dt=ft[1].replace(l,"").toLowerCase(),bn=ft[2].replace(l,"");if(dt&&bn){if(dt=on(dt),bn=on(bn),dt.indexOf(x)!==-1||dt.indexOf('"')!==-1||!e.allow_script_urls&&(dt==="behavior"||/expression\s*\(|\/\*|\*\//.test(bn)))continue;dt==="font-weight"&&bn==="700"?bn="bold":(dt==="color"||dt==="background-color")&&(bn=bn.toLowerCase()),bn=bn.replace(o,jt),ne[dt]=Ce?rt(bn,!0):bn}}Se("border","",!0),Se("border","-width"),Se("border","-color"),Se("border","-style"),Se("padding",""),Se("margin",""),$e("border","border-width","border-style","border-color"),ne.border==="medium none"&&delete ne.border,ne["border-image"]==="none"&&delete ne["border-image"]}return ne},serialize:(j,ne)=>{let Ce="";const xe=(Se,Ve)=>{const $e=Ve[Se];if($e)for(let je=0,rt=$e.length;je<rt;je++){const St=$e[je],on=j[St];on&&(Ce+=(Ce.length>0?" ":"")+St+": "+on+";")}},he=(Se,Ve)=>{if(!C||!Ve)return!0;let $e=C["*"];return $e&&$e[Se]?!1:($e=C[Ve],!($e&&$e[Se]))};return ne&&v?(xe("*",v),xe(ne,v)):an(j,(Se,Ve)=>{Se&&he(Ve,ne)&&(Ce+=(Ce.length>0?" ":"")+Ve+": "+Se+";")}),Ce}};return Z},zm={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Hw=e=>e instanceof Event||ge(e.initEvent),rp=e=>e.isDefaultPrevented===It||e.isDefaultPrevented===Je,ip=e=>Et(e.preventDefault)||Hw(e),Wm=(e,n)=>{const o=n??{};for(const r in e)qn(zm,r)||(o[r]=e[r]);return Ne(e.composedPath)&&(o.composedPath=()=>e.composedPath()),o},ap=(e,n,o,r)=>{var l;const f=Wm(n,r);return f.type=e,Et(f.target)&&(f.target=(l=f.srcElement)!==null&&l!==void 0?l:o),ip(n)&&(f.preventDefault=()=>{f.defaultPrevented=!0,f.isDefaultPrevented=It,ge(n.preventDefault)&&n.preventDefault()},f.stopPropagation=()=>{f.cancelBubble=!0,f.isPropagationStopped=It,ge(n.stopPropagation)&&n.stopPropagation()},f.stopImmediatePropagation=()=>{f.isImmediatePropagationStopped=It,f.stopPropagation()},rp(f)||(f.isDefaultPrevented=f.defaultPrevented===!0?It:Je,f.isPropagationStopped=f.cancelBubble===!0?It:Je,f.isImmediatePropagationStopped=Je)),f},Gm="mce-data-",b_=/^(?:mouse|contextmenu)|click/,Fv=(e,n,o,r)=>{e.addEventListener(n,o,r||!1)},Fh=(e,n,o,r)=>{e.removeEventListener(n,o,r||!1)},b1=e=>Ne(e)&&b_.test(e.type),Al=(e,n)=>{const o=ap(e.type,e,document,n);if(b1(e)&&ht(e.pageX)&&!ht(e.clientX)){const r=o.target.ownerDocument||document,l=r.documentElement,f=r.body,v=o;v.pageX=e.clientX+(l&&l.scrollLeft||f&&f.scrollLeft||0)-(l&&l.clientLeft||f&&f.clientLeft||0),v.pageY=e.clientY+(l&&l.scrollTop||f&&f.scrollTop||0)-(l&&l.clientTop||f&&f.clientTop||0)}return o},xc=(e,n,o)=>{const r=e.document,l={type:"ready"};if(o.domLoaded){n(l);return}const f=()=>r.readyState==="complete"||r.readyState==="interactive"&&r.body,v=()=>{Fh(e,"DOMContentLoaded",v),Fh(e,"load",v),o.domLoaded||(o.domLoaded=!0,n(l)),e=null};f()?v():Fv(e,"DOMContentLoaded",v),o.domLoaded||Fv(e,"load",v)};class uf{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=Gm+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(n,o,r,l){const f=this;let v;const C=window,x=ne=>{f.executeHandlers(Al(ne||C.event),L)};if(!n||Ut(n)||Wa(n))return r;let L;n[f.expando]?L=n[f.expando]:(L=f.count++,n[f.expando]=L,f.events[L]={}),l=l||n;const Z=o.split(" ");let j=Z.length;for(;j--;){let ne=Z[j],Ce=x,xe=!1,he=!1;if(ne==="DOMContentLoaded"&&(ne="ready"),f.domLoaded&&ne==="ready"&&n.readyState==="complete"){r.call(l,Al({type:ne}));continue}!f.hasFocusIn&&(ne==="focusin"||ne==="focusout")&&(xe=!0,he=ne==="focusin"?"focus":"blur",Ce=Se=>{const Ve=Al(Se||C.event);Ve.type=Ve.type==="focus"?"focusin":"focusout",f.executeHandlers(Ve,L)}),v=f.events[L][ne],v?ne==="ready"&&f.domLoaded?r(Al({type:ne})):v.push({func:r,scope:l}):(f.events[L][ne]=v=[{func:r,scope:l}],v.fakeName=he,v.capture=xe,v.nativeHandler=Ce,ne==="ready"?xc(n,Ce,f):Fv(n,he||ne,Ce,xe))}return n=v=null,r}unbind(n,o,r){if(!n||Ut(n)||Wa(n))return this;const l=n[this.expando];if(l){let f=this.events[l];if(o){const v=o.split(" ");let C=v.length;for(;C--;){const x=v[C],L=f[x];if(L){if(r){let Z=L.length;for(;Z--;)if(L[Z].func===r){const j=L.nativeHandler,ne=L.fakeName,Ce=L.capture,xe=L.slice(0,Z).concat(L.slice(Z+1));xe.nativeHandler=j,xe.fakeName=ne,xe.capture=Ce,f[x]=xe}}(!r||L.length===0)&&(delete f[x],Fh(n,L.fakeName||x,L.nativeHandler,L.capture))}}}else an(f,(v,C)=>{Fh(n,v.fakeName||C,v.nativeHandler,v.capture)}),f={};for(const v in f)if(qn(f,v))return this;delete this.events[l];try{delete n[this.expando]}catch{n[this.expando]=null}}return this}fire(n,o,r){return this.dispatch(n,o,r)}dispatch(n,o,r){if(!n||Ut(n)||Wa(n))return this;const l=Al({type:o,target:n},r);do{const f=n[this.expando];f&&this.executeHandlers(l,f),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow}while(n&&!l.isPropagationStopped());return this}clean(n){if(!n||Ut(n)||Wa(n))return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName){this.unbind(n);const o=n.getElementsByTagName("*");let r=o.length;for(;r--;)n=o[r],n[this.expando]&&this.unbind(n)}return this}destroy(){this.events={}}cancel(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1}executeHandlers(n,o){const r=this.events[o],l=r&&r[n.type];if(l)for(let f=0,v=l.length;f<v;f++){const C=l[f];if(C&&C.func.call(C.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}}}uf.Event=new uf;const Hh=pe.each,Hv=pe.grep,cp="data-mce-style",ju=pe.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),qm=(e,n,o)=>{Et(o)||o===""?fr(e,n):ho(e,n,o)},jm=e=>e.replace(/[A-Z]/g,n=>"-"+n.toLowerCase()),uc=(e,n)=>{let o=0;if(e)for(let r=e.nodeType,l=e.previousSibling;l;l=l.previousSibling){const f=l.nodeType;n&&Ut(l)&&(f===r||!l.data.length)||(o++,r=f)}return o},qf=(e,n)=>{const o=Pi(n,"style"),r=e.serialize(e.parse(o),Vs(n));qm(n,cp,r)},Vw=(e,n)=>gn(e)?qn(ju,n)?e+"":e+"px":e,l0=(e,n,o)=>{const r=jm(n);Et(o)||o===""?ea(e,r):ii(e,r,Vw(o,r))},u0=(e,n,o)=>{const r=n.keep_values,l={set:(v,C,x)=>{const L=Oe.fromDom(v);ge(n.url_converter)&&Ne(C)&&(C=n.url_converter.call(n.url_converter_scope||o(),String(C),x,v));const Z="data-mce-"+x;qm(L,Z,C),qm(L,x,C)},get:(v,C)=>{const x=Oe.fromDom(v);return Pi(x,"data-mce-"+C)||Pi(x,C)}},f={style:{set:(v,C)=>{const x=Oe.fromDom(v);r&&qm(x,cp,C),fr(x,"style"),oe(C)&&ha(x,e.parse(C))},get:v=>{const C=Oe.fromDom(v),x=Pi(C,cp)||Pi(C,"style");return e.serialize(e.parse(x),Vs(C))}}};return r&&(f.href=f.src=l),f},sr=(e,n={})=>{const o={},r=window,l={};let f=0;const v=!0,C=!0,x=m1.forElement(Oe.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),L=[],Z=n.schema?n.schema:Yl({}),j=sp({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),ne=n.ownEvents?new uf:uf.Event,Ce=Z.getBlockElements(),xe=it=>oe(it)?qn(Ce,it):nn(it)&&(qn(Ce,it.nodeName)||zf(Z,it)),he=it=>it&&e&&oe(it)?e.getElementById(it):it,Se=it=>{const at=he(it);return Ne(at)?Oe.fromDom(at):null},Ve=(it,at,Zt="")=>{let zt;const Hn=Se(it);if(Ne(Hn)&&is(Hn)){const qo=e_[at];qo&&qo.get?zt=qo.get(Hn.dom,at):zt=Pi(Hn,at)}return Ne(zt)?zt:Zt},$e=it=>{const at=he(it);return Et(at)?[]:at.attributes},je=(it,at,Zt)=>{Rn(it,zt=>{if(nn(zt)){const Hn=Oe.fromDom(zt),qo=Zt===""?null:Zt,pr=Pi(Hn,at),Pr=e_[at];Pr&&Pr.set?Pr.set(Hn.dom,qo,at):qm(Hn,at,qo),pr!==qo&&n.onSetAttrib&&n.onSetAttrib({attrElm:Hn.dom,attrName:at,attrValue:qo})}})},rt=(it,at)=>it.cloneNode(at),St=()=>n.root_element||e.body,on=it=>{const at=$f(it);return{x:at.x,y:at.y,w:at.width,h:at.height}},jt=(it,at)=>rf(e.body,he(it),at),ft=(it,at,Zt)=>{Rn(it,zt=>{const Hn=Oe.fromDom(zt);l0(Hn,at,Zt),n.update_styles&&qf(j,Hn)})},dt=(it,at)=>{Rn(it,Zt=>{const zt=Oe.fromDom(Zt);an(at,(Hn,qo)=>{l0(zt,qo,Hn)}),n.update_styles&&qf(j,zt)})},bn=(it,at,Zt)=>{const zt=he(it);if(!(Et(zt)||!nn(zt)))return Zt?$u(Oe.fromDom(zt),jm(at)):(at=at.replace(/-(\D)/g,(Hn,qo)=>qo.toUpperCase()),at==="float"&&(at="cssFloat"),zt.style?zt.style[at]:void 0)},Ln=it=>{const at=he(it);if(!at)return{w:0,h:0};let Zt=bn(at,"width"),zt=bn(at,"height");return(!Zt||Zt.indexOf("px")===-1)&&(Zt="0"),(!zt||zt.indexOf("px")===-1)&&(zt="0"),{w:parseInt(Zt,10)||at.offsetWidth||at.clientWidth,h:parseInt(zt,10)||at.offsetHeight||at.clientHeight}},Gn=it=>{const at=he(it),Zt=jt(at),zt=Ln(at);return{x:Zt.x,y:Zt.y,w:zt.w,h:zt.h}},wo=(it,at)=>{if(!it)return!1;const Zt=F(it)?it:[it];return ko(Zt,zt=>da(Oe.fromDom(zt),at))},Qo=(it,at,Zt,zt)=>{const Hn=[];let qo=he(it);zt=zt===void 0;const pr=Zt||(St().nodeName!=="BODY"?St().parentNode:null);if(oe(at))if(at==="*")at=nn;else{const Pr=at;at=jp=>wo(jp,Pr)}for(;qo&&!(qo===pr||Et(qo.nodeType)||bd(qo)||Jd(qo));){if(!at||at(qo))if(zt)Hn.push(qo);else return[qo];qo=qo.parentNode}return zt?Hn:null},Ds=(it,at,Zt)=>{const zt=Qo(it,at,Zt,!1);return zt&&zt.length>0?zt[0]:null},ar=(it,at,Zt)=>{let zt=at;if(it){oe(at)&&(zt=Hn=>wo(Hn,at));for(let Hn=it[Zt];Hn;Hn=Hn[Zt])if(ge(zt)&&zt(Hn))return Hn}return null},Ri=(it,at)=>ar(it,at,"nextSibling"),kc=(it,at)=>ar(it,at,"previousSibling"),Ka=it=>ge(it.querySelectorAll),Gt=(it,at)=>{var Zt,zt;const Hn=(zt=(Zt=he(at))!==null&&Zt!==void 0?Zt:n.root_element)!==null&&zt!==void 0?zt:e;return Ka(Hn)?vr(Hn.querySelectorAll(it)):[]},Rn=function(it,at,Zt){const zt=Zt??this;if(F(it)){const Hn=[];return Hh(it,(qo,pr)=>{const Pr=he(qo);Pr&&Hn.push(at.call(zt,Pr,pr))}),Hn}else{const Hn=he(it);return Hn?at.call(zt,Hn):!1}},hs=(it,at)=>{Rn(it,Zt=>{an(at,(zt,Hn)=>{je(Zt,Hn,zt)})})},un=(it,at)=>{Rn(it,Zt=>{const zt=Oe.fromDom(Zt);Rm(zt,at)})},Vn=(it,at,Zt,zt,Hn)=>Rn(it,qo=>{const pr=oe(at)?e.createElement(at):at;return Ne(Zt)&&hs(pr,Zt),zt&&(!oe(zt)&&zt.nodeType?pr.appendChild(zt):oe(zt)&&un(pr,zt)),Hn?pr:qo.appendChild(pr)}),zn=(it,at,Zt)=>Vn(e.createElement(it),it,at,Zt,!0),hn=cf.decode,Wo=cf.encodeAllRaw,Go=(it,at,Zt="")=>{let zt="<"+it;for(const Hn in at)Qa(at,Hn)&&(zt+=" "+Hn+'="'+Wo(at[Hn])+'"');return si(Zt)&&qn(Z.getVoidElements(),it)?zt+" />":zt+">"+Zt+"</"+it+">"},gc=it=>{const at=e.createElement("div"),Zt=e.createDocumentFragment();Zt.appendChild(at),it&&(at.innerHTML=it);let zt;for(;zt=at.firstChild;)Zt.appendChild(zt);return Zt.removeChild(at),Zt},Vr=(it,at)=>Rn(it,Zt=>{const zt=Oe.fromDom(Zt);return at&&mt(ze(zt),Hn=>{dr(Hn)&&Hn.dom.length===0?wr(Hn):us(zt,Hn)}),wr(zt),zt.dom}),go=it=>Rn(it,at=>{const Zt=at.attributes;for(let zt=Zt.length-1;zt>=0;zt--)at.removeAttributeNode(Zt.item(zt))}),gs=it=>j.parse(it),Ks=(it,at)=>j.serialize(it,at),cr=it=>{if(vm!==sr.DOM&&e===document){if(o[it])return;o[it]=!0}let at=e.getElementById("mceDefaultStyles");if(!at){at=e.createElement("style"),at.id="mceDefaultStyles",at.type="text/css";const Zt=e.head;Zt.firstChild?Zt.insertBefore(at,Zt.firstChild):Zt.appendChild(at)}at.styleSheet?at.styleSheet.cssText+=it:at.appendChild(e.createTextNode(it))},mi=it=>{it||(it=""),mt(it.split(","),at=>{l[at]=!0,x.load(at).catch(Ot)})},Zi=(it,at,Zt)=>{Rn(it,zt=>{if(nn(zt)){const Hn=Oe.fromDom(zt),qo=at.split(" ");mt(qo,pr=>{Ne(Zt)?(Zt?fd:sc)(Hn,pr):ua(Hn,pr)})}})},qr=(it,at)=>{Zi(it,at,!0)},wa=(it,at)=>{Zi(it,at,!1)},ch=(it,at)=>{const Zt=Se(it),zt=at.split(" ");return Ne(Zt)&&nr(zt,Hn=>hu(Zt,Hn))},ul=it=>{Rn(it,at=>ea(Oe.fromDom(at),"display"))},Ig=it=>{Rn(it,at=>ii(Oe.fromDom(at),"display","none"))},Fd=it=>{const at=Se(it);return Ne(at)&&ke(Na(at,"display"),"none")},Qy=it=>(it||"mce_")+f++,Jy=it=>{const at=Se(it);return Ne(at)?nn(at.dom)?at.dom.outerHTML:ue(at):""},Dg=(it,at)=>{Rn(it,Zt=>{nn(Zt)&&(Zt.outerHTML=at)})},pm=(it,at)=>{const Zt=he(at);return Rn(it,zt=>{const Hn=Zt==null?void 0:Zt.parentNode,qo=Zt==null?void 0:Zt.nextSibling;return Hn&&(qo?Hn.insertBefore(zt,qo):Hn.appendChild(zt)),zt})},Ba=(it,at,Zt)=>Rn(at,zt=>{var Hn;const qo=F(at)?it.cloneNode(!0):it;return Zt&&Hh(Hv(zt.childNodes),pr=>{qo.appendChild(pr)}),(Hn=zt.parentNode)===null||Hn===void 0||Hn.replaceChild(qo,zt),zt}),lh=(it,at)=>{if(it.nodeName!==at.toUpperCase()){const Zt=zn(at);return Hh($e(it),zt=>{je(Zt,zt.nodeName,Ve(it,zt.nodeName))}),Ba(Zt,it,!0),Zt}else return it},Ng=(it,at)=>{let Zt=it;for(;Zt;){let zt=at;for(;zt&&Zt!==zt;)zt=zt.parentNode;if(Zt===zt)break;Zt=Zt.parentNode}return!Zt&&it.ownerDocument?it.ownerDocument.documentElement:Zt},ou=it=>{if(nn(it)){const at=it.nodeName.toLowerCase()==="a"&&!Ve(it,"href")&&Ve(it,"id");if(Ve(it,"name")||Ve(it,"data-mce-bookmark")||at)return!0}return!1},uh=(it,at)=>{let Zt=0;if(ou(it))return!1;const zt=it.firstChild;if(zt){const Hn=new ai(zt,it),qo=Z?Z.getWhitespaceElements():{},pr=at||(Z?Z.getNonEmptyElements():null);let Pr=zt;do{if(nn(Pr)){const jp=Pr.getAttribute("data-mce-bogus");if(jp){Pr=Hn.next(jp==="all");continue}const Vd=Pr.nodeName.toLowerCase();if(pr&&pr[Vd]){if(Vd==="br"){Zt++,Pr=Hn.next();continue}return!1}if(ou(Pr))return!1}if(Wa(Pr)||Ut(Pr)&&!Hc(Pr.data)||Ut(Pr)&&Pr.parentNode&&qo[Pr.parentNode.nodeName]&&Hc(Pr.data))return!1;Pr=Hn.next()}while(Pr)}return Zt<=1},Gp=()=>e.createRange(),Ml=(it,at,Zt)=>{let zt=Gp(),Hn,qo;if(it&&at&&it.parentNode&&at.parentNode){const pr=it.parentNode;return zt.setStart(pr,uc(it)),zt.setEnd(at.parentNode,uc(at)),Hn=zt.extractContents(),zt=Gp(),zt.setStart(at.parentNode,uc(at)+1),zt.setEnd(pr,uc(it)+1),qo=zt.extractContents(),pr.insertBefore(Ed(vm,Hn),it),Zt?pr.insertBefore(Zt,it):pr.insertBefore(at,it),pr.insertBefore(Ed(vm,qo),it),Vr(it),Zt||at}else return},mv=(it,at,Zt,zt)=>{if(F(it)){let Hn=it.length;const qo=[];for(;Hn--;)qo[Hn]=mv(it[Hn],at,Zt,zt);return qo}else return n.collect&&(it===e||it===r)&&L.push([it,at,Zt,zt]),ne.bind(it,at,Zt,zt||vm)},Mg=(it,at,Zt)=>{if(F(it)){let zt=it.length;const Hn=[];for(;zt--;)Hn[zt]=Mg(it[zt],at,Zt);return Hn}else{if(L.length>0&&(it===e||it===r)){let zt=L.length;for(;zt--;){const[Hn,qo,pr]=L[zt];it===Hn&&(!at||at===qo)&&(!Zt||Zt===pr)&&ne.unbind(Hn,qo,pr)}}return ne.unbind(it,at,Zt)}},Hd=(it,at,Zt)=>ne.dispatch(it,at,Zt),qp=(it,at,Zt)=>ne.dispatch(it,at,Zt),GS=it=>{if(it&&nn(it)){const at=it.getAttribute("data-mce-contenteditable");return at&&at!=="inherit"?at:it.contentEditable!=="inherit"?it.contentEditable:null}else return null},vm={doc:e,settings:n,win:r,files:l,stdMode:v,boxModel:C,styleSheetLoader:x,boundEvents:L,styles:j,schema:Z,events:ne,isBlock:xe,root:null,clone:rt,getRoot:St,getViewPort:on,getRect:Gn,getSize:Ln,getParent:Ds,getParents:Qo,get:he,getNext:Ri,getPrev:kc,select:Gt,is:wo,add:Vn,create:zn,createHTML:Go,createFragment:gc,remove:Vr,setStyle:ft,getStyle:bn,setStyles:dt,removeAllAttribs:go,setAttrib:je,setAttribs:hs,getAttrib:Ve,getPos:jt,parseStyle:gs,serializeStyle:Ks,addStyle:cr,loadCSS:mi,addClass:qr,removeClass:wa,hasClass:ch,toggleClass:Zi,show:ul,hide:Ig,isHidden:Fd,uniqueId:Qy,setHTML:un,getOuterHTML:Jy,setOuterHTML:Dg,decode:hn,encode:Wo,insertAfter:pm,replace:Ba,rename:lh,findCommonAncestor:Ng,run:Rn,getAttribs:$e,isEmpty:uh,createRng:Gp,nodeIndex:uc,split:Ml,bind:mv,unbind:Mg,fire:qp,dispatch:Hd,getContentEditable:GS,getContentEditableParent:it=>{const at=St();let Zt=null;for(let zt=it;zt&&zt!==at&&(Zt=GS(zt),Zt===null);zt=zt.parentNode);return Zt},isEditable:it=>{if(Ne(it)){const at=nn(it)?it:it.parentElement,Zt=GS(St())==="true";return Ne(at)&&Kd(Oe.fromDom(at),Zt)}else return!1},destroy:()=>{if(L.length>0){let it=L.length;for(;it--;){const[at,Zt,zt]=L[it];ne.unbind(at,Zt,zt)}}an(l,(it,at)=>{x.unload(at),delete l[at]})},isChildOf:(it,at)=>it===at||at.contains(it),dumpRng:it=>"startContainer: "+it.startContainer.nodeName+", startOffset: "+it.startOffset+", endContainer: "+it.endContainer.nodeName+", endOffset: "+it.endOffset},e_=u0(j,n,et(vm));return vm};sr.DOM=sr(document),sr.nodeIndex=uc;const Uw=sr.DOM,y_=0,zw=1,Vv=2,lp=3;class jf{constructor(n={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=n}_setReferrerPolicy(n){this.settings.referrerPolicy=n}loadScript(n){return new Promise((o,r)=>{const l=Uw;let f;const v=()=>{l.remove(L),f&&(f.onerror=f.onload=f=null)},C=()=>{v(),o()},x=()=>{v(),r("Failed to load script: "+n)},L=l.uniqueId();f=document.createElement("script"),f.id=L,f.type="text/javascript",f.src=pe._addCacheSuffix(n),this.settings.referrerPolicy&&l.setAttrib(f,"referrerpolicy",this.settings.referrerPolicy),f.onload=C,f.onerror=x,(document.getElementsByTagName("head")[0]||document.body).appendChild(f)})}isDone(n){return this.states[n]===Vv}markDone(n){this.states[n]=Vv}add(n){const o=this;return o.queue.push(n),o.states[n]===void 0&&(o.states[n]=y_),new Promise((l,f)=>{o.scriptLoadedCallbacks[n]||(o.scriptLoadedCallbacks[n]=[]),o.scriptLoadedCallbacks[n].push({resolve:l,reject:f})})}load(n){return this.add(n)}remove(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]}loadQueue(){const n=this.queue;return this.queue=[],this.loadScripts(n)}loadScripts(n){const o=this,r=(x,L)=>{Xs(o.scriptLoadedCallbacks,L).each(Z=>{mt(Z,j=>j[x](L))}),delete o.scriptLoadedCallbacks[L]},l=x=>{const L=Lt(x,Z=>Z.status==="rejected");return L.length>0?Promise.reject(Ca(L,({reason:Z})=>F(Z)?Z:[Z])):Promise.resolve()},f=x=>Promise.allSettled(Yt(x,L=>o.states[L]===Vv?(r("resolve",L),Promise.resolve()):o.states[L]===lp?(r("reject",L),Promise.reject(L)):(o.states[L]=zw,o.loadScript(L).then(()=>{o.states[L]=Vv,r("resolve",L);const Z=o.queue;return Z.length>0?(o.queue=[],f(Z).then(l)):Promise.resolve()},()=>(o.states[L]=lp,r("reject",L),Promise.reject(L)))))),v=x=>(o.loading=!0,f(x).then(L=>{o.loading=!1;const Z=o.queueLoadedCallbacks.shift();return te.from(Z).each(Fo),l(L)})),C=Yc(n);return o.loading?new Promise((x,L)=>{o.queueLoadedCallbacks.push(()=>v(C).then(x,L))}):v(C)}}jf.ScriptLoader=new jf;const Vi=e=>{let n=e;return{get:()=>n,set:l=>{n=l}}},Zf=e=>Be(e)&&qn(e,"raw"),d0=e=>F(e)&&e.length>1,Ci={},Uv=Vi("en"),y1=()=>Xs(Ci,Uv.get()),Td={getData:()=>Ho(Ci,e=>({...e})),setCode:e=>{e&&Uv.set(e)},getCode:()=>Uv.get(),add:(e,n)=>{let o=Ci[e];o||(Ci[e]=o={}),an(n,(r,l)=>{o[l.toLowerCase()]=r})},translate:e=>{const n=y1().getOr({}),o=v=>ge(v)?Object.prototype.toString.call(v):r(v)?"":""+v,r=v=>v===""||v===null||v===void 0,l=v=>{const C=o(v);return Xs(n,C.toLowerCase()).map(o).getOr(C)},f=v=>v.replace(/{context:\w+}$/,"");if(r(e))return"";if(Zf(e))return o(e.raw);if(d0(e)){const v=e.slice(1),C=l(e[0]).replace(/\{([0-9]+)\}/g,(x,L)=>qn(v,L)?o(v[L]):x);return f(C)}return f(l(e))},isRtl:()=>y1().bind(e=>Xs(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>qn(Ci,e)},As=()=>{const e=[],n={},o={},r=[],l=(he,Se)=>{const Ve=Lt(r,$e=>$e.name===he&&$e.state===Se);mt(Ve,$e=>$e.resolve())},f=he=>qn(n,he),v=he=>qn(o,he),C=he=>{if(o[he])return o[he].instance},x=(he,Se)=>{const Ve=Td.getCode(),$e=","+(Se||"")+",";!Ve||Se&&$e.indexOf(","+Ve+",")===-1||jf.ScriptLoader.add(n[he]+"/langs/"+Ve+".js")},L=(he,Se)=>{As.languageLoad!==!1&&(f(he)?x(he,Se):xe(he,"loaded").then(()=>x(he,Se)))},Z=(he,Se)=>(e.push(Se),o[he]={instance:Se},l(he,"added"),Se),j=he=>{delete n[he],delete o[he]},ne=(he,Se)=>oe(Se)?oe(he)?{prefix:"",resource:Se,suffix:""}:{prefix:he.prefix,resource:Se,suffix:he.suffix}:Se,Ce=(he,Se)=>{if(n[he])return Promise.resolve();let Ve=oe(Se)?Se:Se.prefix+Se.resource+Se.suffix;Ve.indexOf("/")!==0&&Ve.indexOf("://")===-1&&(Ve=As.baseURL+"/"+Ve),n[he]=Ve.substring(0,Ve.lastIndexOf("/"));const $e=()=>(l(he,"loaded"),Promise.resolve());return o[he]?$e():jf.ScriptLoader.add(Ve).then($e)},xe=(he,Se="added")=>Se==="added"&&v(he)||Se==="loaded"&&f(he)?Promise.resolve():new Promise(Ve=>{r.push({name:he,state:Se,resolve:Ve})});return{items:e,urls:n,lookup:o,get:C,requireLangPack:L,add:Z,remove:j,createUrl:ne,load:Ce,waitFor:xe}};As.languageLoad=!0,As.baseURL="",As.PluginManager=As(),As.ThemeManager=As(),As.ModelManager=As();const w_=e=>{const n=Vi(te.none()),o=()=>n.get().each(e);return{clear:()=>{o(),n.set(te.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:C=>{o(),n.set(te.some(C))}}},Ls=e=>{const n=Vi(te.none()),o=()=>n.get().each(C=>clearInterval(C));return{clear:()=>{o(),n.set(te.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:C=>{o(),n.set(te.some(setInterval(C,e)))}}},oa=()=>{const e=w_(Ot);return{...e,on:o=>e.get().each(o)}},pu=(e,n)=>{let o=null;return{cancel:()=>{Ee(o)||(clearTimeout(o),o=null)},throttle:(...f)=>{Ee(o)&&(o=setTimeout(()=>{o=null,e.apply(null,f)},n))}}},zc=(e,n)=>{let o=null;const r=()=>{Ee(o)||(clearTimeout(o),o=null)};return{cancel:r,throttle:(...f)=>{r(),o=setTimeout(()=>{o=null,e.apply(null,f)},n)}}},Uh=et("mce-annotation"),up=et("data-mce-annotation"),Kf=et("data-mce-annotation-uid"),Kl=et("data-mce-annotation-active"),Zu=et("data-mce-annotation-classes"),zh=et("data-mce-annotation-attrs"),_1=e=>n=>ns(n,e),f0=(e,n)=>{const o=e.selection.getRng(),r=Oe.fromDom(o.startContainer),l=Oe.fromDom(e.getBody()),f=n.fold(()=>"."+Uh(),x=>`[${up()}="${x}"]`),v=Ht(r,o.startOffset).getOr(r);return Vl(v,f,_1(l)).bind(x=>oc(x,`${Kf()}`).bind(L=>oc(x,`${up()}`).map(Z=>{const j=dp(e,L);return{uid:L,name:Z,elements:j}})))},T_=e=>is(e)&&hu(e,Uh()),C_=(e,n)=>Ji(e,"data-mce-bogus")||Gg(e,'[data-mce-bogus="all"]',_1(n)),dp=(e,n)=>{const o=Oe.fromDom(e.getBody()),r=Qr(o,`[${Kf()}="${n}"]`);return Lt(r,l=>!C_(l,o))},h0=(e,n)=>{const o=Oe.fromDom(e.getBody()),r=Qr(o,`[${up()}="${n}"]`),l={};return mt(r,f=>{if(!C_(f,o)){const v=Pi(f,Kf()),C=Xs(l,v).getOr([]);l[v]=C.concat([f])}}),l},Ww=(e,n)=>{const o=Vi({}),r=()=>({listeners:[],previous:oa()}),l=(j,ne)=>{f(j,Ce=>(ne(Ce),Ce))},f=(j,ne)=>{const Ce=o.get(),xe=Xs(Ce,j).getOrThunk(r),he=ne(xe);Ce[j]=he,o.set(Ce)},v=(j,ne,Ce)=>{l(j,xe=>{mt(xe.listeners,he=>he(!0,j,{uid:ne,nodes:Yt(Ce,Se=>Se.dom)}))})},C=j=>{l(j,ne=>{mt(ne.listeners,Ce=>Ce(!1,j))})},x=(j,ne)=>{mt(dp(e,j),Ce=>{ne?ho(Ce,Kl(),"true"):fr(Ce,Kl())})},L=zc(()=>{const j=Ms(n.getNames());mt(j,ne=>{f(ne,Ce=>{const xe=Ce.previous.get();return f0(e,te.some(ne)).fold(()=>{xe.each(he=>{C(ne),Ce.previous.clear(),x(he,!1)})},({uid:he,name:Se,elements:Ve})=>{ke(xe,he)||(xe.each($e=>x($e,!1)),v(Se,he,Ve),Ce.previous.set(he),x(he,!0))}),{previous:Ce.previous,listeners:Ce.listeners}})})},30);return e.on("remove",()=>{L.cancel()}),e.on("NodeChange",()=>{L.throttle()}),{addListener:(j,ne)=>{f(j,Ce=>({previous:Ce.previous,listeners:Ce.listeners.concat([ne])}))}}},Gw=(e,n)=>{const o=up(),r=f=>te.from(f.attr(o)).bind(n.lookup),l=f=>{var v,C;f.attr(Kf(),null),f.attr(up(),null),f.attr(Kl(),null);const x=te.from(f.attr(zh())).map(ne=>ne.split(",")).getOr([]),L=te.from(f.attr(Zu())).map(ne=>ne.split(",")).getOr([]);mt(x,ne=>f.attr(ne,null));const Z=(C=(v=f.attr("class"))===null||v===void 0?void 0:v.split(" "))!==null&&C!==void 0?C:[],j=rd(Z,[Uh()].concat(L));f.attr("class",j.length>0?j.join(" "):null),f.attr(Zu(),null),f.attr(zh(),null)};e.serializer.addTempAttr(Kl()),e.serializer.addAttributeFilter(o,f=>{for(const v of f)r(v).each(C=>{C.persistent===!1&&(v.name==="span"?v.unwrap():l(v))})})},S_=()=>{const e={};return{register:(l,f)=>{e[l]={name:l,settings:f}},lookup:l=>Xs(e,l).map(f=>f.settings),getNames:()=>bi(e)}};let A_=0;const m0=e=>{const o=new Date().getTime(),r=Math.floor(Math.random()*1e9);return A_++,e+"_"+r+A_+String(o)},x_=(e,n)=>{mt(n,o=>{fd(e,o)})},qw=(e,n)=>{mt(n,o=>{sc(e,o)})},g0=(e,n)=>Oe.fromDom(e.dom.cloneNode(n)),Zm=e=>g0(e,!1),p0=e=>g0(e,!0),jw=(e,n)=>{const o=Oe.fromTag(n),r=Ra(e);return zr(o,r),o},Zw=(e,n)=>{const o=jw(e,n);nl(e,o);const r=ze(e);return pd(o,r),wr(e),o},O_=(e,n,o=Je)=>{const r=new ai(e,n),l=f=>{let v;do v=r[f]();while(v&&!Ut(v)&&!o(v));return te.from(v).filter(Ut)};return{current:()=>te.from(r.current()).filter(Ut),next:()=>l("next"),prev:()=>l("prev"),prev2:()=>l("prev2")}},Cr=(e,n)=>{const o=n||(v=>e.isBlock(v)||hr(v)||Po(v)),r=(v,C,x,L)=>{if(Ut(v)){const Z=L(v,C,v.data);if(Z!==-1)return te.some({container:v,offset:Z})}return x().bind(Z=>r(Z.container,Z.offset,x,L))};return{backwards:(v,C,x,L)=>{const Z=O_(v,L??e.getRoot(),o);return r(v,C,()=>Z.prev().map(j=>({container:j,offset:j.length})),x).getOrNull()},forwards:(v,C,x,L)=>{const Z=O_(v,L??e.getRoot(),o);return r(v,C,()=>Z.next().map(j=>({container:j,offset:0})),x).getOrNull()}}},df=Math.round,Wh=e=>e?{left:df(e.left),top:df(e.top),bottom:df(e.bottom),right:df(e.right),width:df(e.width),height:df(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},R_=(e,n)=>(e=Wh(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),Wv=(e,n)=>e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right,dc=(e,n,o)=>e>=0&&e<=Math.min(n.height,o.height)/2,rl=(e,n)=>{const o=Math.min(n.height/2,e.height/2);return e.bottom-o<n.top?!0:e.top>n.bottom?!1:dc(n.top-e.bottom,e,n)},Ym=(e,n)=>e.top>n.bottom?!0:e.bottom<n.top?!1:dc(n.bottom-e.top,e,n),Gv=(e,n,o)=>n>=e.left&&n<=e.right&&o>=e.top&&o<=e.bottom,v0=e=>Ns(e,(n,o)=>n.fold(()=>te.some(o),r=>{const l=Math.min(o.left,r.left),f=Math.min(o.top,r.top),v=Math.max(o.right,r.right),C=Math.max(o.bottom,r.bottom);return te.some({top:f,right:v,bottom:C,left:l,width:v-l,height:C-f})}),te.none()),I_=(e,n,o)=>{const r=Math.max(Math.min(n,e.left+e.width),e.left),l=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((n-r)*(n-r)+(o-l)*(o-l))},b0=(e,n)=>Math.max(0,Math.min(e.bottom,n.bottom)-Math.max(e.top,n.top)),D_=(e,n,o)=>Math.min(Math.max(e,n),o),xl=e=>{const n=e.startContainer,o=e.startOffset;return n===e.endContainer&&n.hasChildNodes()&&e.endOffset===o+1?n.childNodes[o]:null},Xf=(e,n)=>{if(nn(e)&&e.hasChildNodes()){const o=e.childNodes,r=D_(n,0,o.length-1);return o[r]}else return e},Nr=(e,n)=>{if(!(n<0&&nn(e)&&e.hasChildNodes()))return Xf(e,n)},ff=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),Cd=e=>oe(e)&&e.charCodeAt(0)>=768&&ff.test(e),Yw=(...e)=>n=>{for(let o=0;o<e.length;o++)if(e[o](n))return!0;return!1},N_=(...e)=>n=>{for(let o=0;o<e.length;o++)if(!e[o](n))return!1;return!0},y0=nn,Km=Tl,_0=yl("display","block table"),fp=yl("float","left right"),Xm=N_(y0,Km,vo(fp)),Kw=vo(yl("white-space","pre pre-line pre-wrap")),E1=Ut,w1=hr,E0=sr.nodeIndex,qv=Nr,hp=e=>e?e.createRange():sr.DOM.createRng(),jv=e=>oe(e)&&/[\r\n\t ]/.test(e),Gh=e=>!!e.setStart&&!!e.setEnd,mp=e=>{const n=e.startContainer,o=e.startOffset;if(jv(e.toString())&&Kw(n.parentNode)&&Ut(n)){const r=n.data;if(jv(r[o-1])||jv(r[o+1]))return!0}return!1},M_=e=>{const n=e.ownerDocument,o=hp(n),r=n.createTextNode(ys),l=e.parentNode;l.insertBefore(r,e),o.setStart(r,0),o.setEnd(r,1);const f=Wh(o.getBoundingClientRect());return l.removeChild(r),f},k_=e=>{const n=e.startContainer,o=e.endContainer,r=e.startOffset,l=e.endOffset;if(n===o&&Ut(o)&&r===0&&l===1){const f=e.cloneRange();return f.setEndAfter(o),Sd(f)}else return null},T1=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,Sd=e=>{var n;let o;const r=e.getClientRects();return r.length>0?o=Wh(r[0]):o=Wh(e.getBoundingClientRect()),!Gh(e)&&w1(e)&&T1(o)?M_(e):T1(o)&&Gh(e)&&(n=k_(e))!==null&&n!==void 0?n:o},vu=(e,n)=>{const o=R_(e,n);return o.width=1,o.right=o.left+1,o},C1=e=>{const n=[],o=v=>{v.height!==0&&(n.length>0&&Wv(v,n[n.length-1])||n.push(v))},r=(v,C)=>{const x=hp(v.ownerDocument);if(C<v.data.length){if(Cd(v.data[C]))return;if(Cd(v.data[C-1])&&(x.setStart(v,C),x.setEnd(v,C+1),!mp(x))){o(vu(Sd(x),!1));return}}C>0&&(x.setStart(v,C-1),x.setEnd(v,C),mp(x)||o(vu(Sd(x),!1))),C<v.data.length&&(x.setStart(v,C),x.setEnd(v,C+1),mp(x)||o(vu(Sd(x),!0)))},l=e.container(),f=e.offset();if(E1(l))return r(l,f),n;if(y0(l))if(e.isAtEnd()){const v=qv(l,f);E1(v)&&r(v,v.data.length),Xm(v)&&!w1(v)&&o(vu(Sd(v),!1))}else{const v=qv(l,f);if(E1(v)&&r(v,0),Xm(v)&&e.isAtEnd())return o(vu(Sd(v),!1)),n;const C=qv(e.container(),e.offset()-1);Xm(C)&&!w1(C)&&(_0(C)||_0(v)||!Xm(v))&&o(vu(Sd(C),!1)),Xm(v)&&o(vu(Sd(v),!0))}return n},Ye=(e,n,o)=>{const r=()=>(E1(e),n===0),l=()=>E1(e)?n>=e.data.length:n>=e.childNodes.length,f=()=>{const Z=hp(e.ownerDocument);return Z.setStart(e,n),Z.setEnd(e,n),Z},v=()=>(o||(o=C1(Ye(e,n))),o),C=()=>v().length>0,x=Z=>Z&&e===Z.container()&&n===Z.offset(),L=Z=>qv(e,Z?n-1:n);return{container:et(e),offset:et(n),toRange:f,getClientRects:v,isVisible:C,isAtStart:r,isAtEnd:l,isEqual:x,getNode:L}};Ye.fromRangeStart=e=>Ye(e.startContainer,e.startOffset),Ye.fromRangeEnd=e=>Ye(e.endContainer,e.endOffset),Ye.after=e=>Ye(e.parentNode,E0(e)+1),Ye.before=e=>Ye(e.parentNode,E0(e)),Ye.isAbove=(e,n)=>yt(Ii(n.getClientRects()),Zc(e.getClientRects()),rl).getOr(!1),Ye.isBelow=(e,n)=>yt(Zc(n.getClientRects()),Ii(e.getClientRects()),Ym).getOr(!1),Ye.isAtStart=e=>e?e.isAtStart():!1,Ye.isAtEnd=e=>e?e.isAtEnd():!1,Ye.isTextPosition=e=>e?Ut(e.container()):!1,Ye.isElementPosition=e=>!Ye.isTextPosition(e);const Sr=(e,n)=>{Ut(n)&&n.data.length===0&&e.remove(n)},Qm=(e,n,o)=>{n.insertNode(o),Sr(e,o.previousSibling),Sr(e,o.nextSibling)},w0=(e,n,o)=>{const r=te.from(o.firstChild),l=te.from(o.lastChild);n.insertNode(o),r.each(f=>Sr(e,f.previousSibling)),l.each(f=>Sr(e,f.nextSibling))},er=(e,n,o)=>{Jd(o)?w0(e,n,o):Qm(e,n,o)},Yu=Ut,S1=ol,sa=sr.nodeIndex,Ku=e=>{const n=e.parentNode;return S1(n)?Ku(n):n},T0=e=>e?Sa(e.childNodes,(n,o)=>(S1(o)&&o.nodeName!=="BR"?n=n.concat(T0(o)):n.push(o),n),[]):[],P_=(e,n)=>{let o=e;for(;(o=o.previousSibling)&&Yu(o);)n+=o.data.length;return n},Zv=e=>n=>e===n,Jm=e=>{let n,o;n=T0(Ku(e)),o=Br(n,Zv(e),e),n=n.slice(0,o+1);const r=Sa(n,(l,f,v)=>(Yu(f)&&Yu(n[v-1])&&l++,l),0);return n=Kc(n,bl([e.nodeName])),o=Br(n,Zv(e),e),o-r},qh=e=>(Yu(e)?"text()":e.nodeName.toLowerCase())+"["+Jm(e)+"]",Yv=(e,n,o)=>{const r=[];for(let l=n.parentNode;l&&l!==e&&!(o&&o(l));l=l.parentNode)r.push(l);return r},A1=(e,n)=>{let o=[],r=n.container(),l=n.offset(),f;if(Yu(r))f=P_(r,l);else{const C=r.childNodes;l>=C.length?(f="after",l=C.length-1):f="before",r=C[l]}o.push(qh(r));let v=Yv(e,r);return v=Kc(v,vo(ol)),o=o.concat(Fa(v,C=>qh(C))),o.reverse().join("/")+","+f},Oc=(e,n,o)=>{let r=T0(e);return r=Kc(r,(l,f)=>!Yu(l)||!Yu(r[f-1])),r=Kc(r,bl([n])),r[o]},x1=(e,n)=>{let o=e,r=0;for(;Yu(o);){const l=o.data.length;if(n>=r&&n<=r+l){e=o,n=n-r;break}if(!Yu(o.nextSibling)){e=o,n=l;break}r+=l,o=o.nextSibling}return Yu(e)&&n>e.data.length&&(n=e.data.length),Ye(e,n)},C0=(e,n)=>{if(!n)return null;const o=n.split(","),r=o[0].split("/"),l=o.length>1?o[1]:"before",f=Sa(r,(v,C)=>{const x=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(C);return x?(x[1]==="text()"&&(x[1]="#text"),Oc(v,x[1],parseInt(x[2],10))):null},e);if(!f)return null;if(!Yu(f)&&f.parentNode){let v;return l==="after"?v=sa(f)+1:v=sa(f),Ye(f.parentNode,v)}return x1(f,parseInt(l,10))},O1=Po,Qf=(e,n,o)=>{let r=e(n.data.slice(0,o)).length;for(let l=n.previousSibling;l&&Ut(l);l=l.previousSibling)r+=e(l.data).length;return r},Rc=(e,n,o,r,l)=>{const f=l?r.startContainer:r.endContainer;let v=l?r.startOffset:r.endOffset;const C=[],x=e.getRoot();if(Ut(f))C.push(o?Qf(n,f,v):v);else{let L=0;const Z=f.childNodes;v>=Z.length&&Z.length&&(L=1,v=Math.max(0,Z.length-1)),C.push(e.nodeIndex(Z[v],o)+L)}for(let L=f;L&&L!==x;L=L.parentNode)C.push(e.nodeIndex(L,o));return C},Xw=(e,n,o,r)=>{const l=n.dom,f=Rc(l,e,o,r,!0),v=n.isForward(),C=Ov(r)?{isFakeCaret:!0}:{};if(n.isCollapsed())return{start:f,forward:v,...C};{const x=Rc(l,e,o,r,!1);return{start:f,end:x,forward:v,...C}}},va=(e,n,o)=>{let r=0;return pe.each(e.select(n),l=>{if(l.getAttribute("data-mce-bogus")!=="all"){if(l===o)return!1;r++;return}}),r},Kv=(e,n)=>{let o=n?e.startContainer:e.endContainer,r=n?e.startOffset:e.endOffset;if(nn(o)&&o.nodeName==="TR"){const l=o.childNodes;o=l[Math.min(n?r:r-1,l.length-1)],o&&(r=n?0:o.childNodes.length,n?e.setStart(o,r):e.setEnd(o,r))}},hf=e=>(Kv(e,!0),Kv(e,!1),e),R1=(e,n)=>{if(nn(e)&&(e=Xf(e,n),O1(e)))return e;if(wl(e)){Ut(e)&&Uu(e)&&(e=e.parentNode);let o=e.previousSibling;if(O1(o)||(o=e.nextSibling,O1(o)))return o}},L_=e=>R1(e.startContainer,e.startOffset)||R1(e.endContainer,e.endOffset),S0=(e,n,o)=>{const r=o.getNode(),l=o.getRng();if(r.nodeName==="IMG"||O1(r)){const v=r.nodeName;return{name:v,index:va(o.dom,v,r)}}const f=L_(l);if(f){const v=f.tagName;return{name:v,index:va(o.dom,v,f)}}return Xw(e,o,n,l)},A0=e=>{const n=e.getRng();return{start:A1(e.dom.getRoot(),Ye.fromRangeStart(n)),end:A1(e.dom.getRoot(),Ye.fromRangeEnd(n)),forward:e.isForward()}},x0=e=>({rng:e.getRng(),forward:e.isForward()}),O0=(e,n,o)=>{const r={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return o?e.create("span",r,"&#xFEFF;"):e.create("span",r)},$_=(e,n)=>{const o=e.dom;let r=e.getRng();const l=o.uniqueId(),f=e.isCollapsed(),v=e.getNode(),C=v.nodeName,x=e.isForward();if(C==="IMG")return{name:C,index:va(o,C,v)};const L=hf(r.cloneRange());if(!f){L.collapse(!1);const j=O0(o,l+"_end",n);er(o,L,j)}r=hf(r),r.collapse(!0);const Z=O0(o,l+"_start",n);return er(o,r,Z),e.moveToBookmark({id:l,keep:!0,forward:x}),{id:l,forward:x}},Qw=(e,n,o=!1)=>n===2?S0(yd,o,e):n===3?A0(e):n?x0(e):$_(e,!1),ba=Ge(S0,qt,!0),Ui=e=>{const n=f=>f(e),o=et(e),r=()=>l,l={tag:!0,inner:e,fold:(f,v)=>v(e),isValue:It,isError:Je,map:f=>Is.value(f(e)),mapError:r,bind:n,exists:n,forall:n,getOr:o,or:r,getOrThunk:o,orThunk:r,getOrDie:o,each:f=>{f(e)},toOptional:()=>te.some(e)};return l},Wc=e=>{const n=()=>o,o={tag:!1,inner:e,fold:(r,l)=>r(e),isValue:Je,isError:It,map:n,mapError:r=>Is.error(r(e)),bind:n,exists:Je,forall:It,getOr:qt,or:qt,getOrThunk:ao,orThunk:ao,getOrDie:Bo(String(e)),each:Ot,toOptional:te.none};return o},Is={value:Ui,error:Wc,fromOption:(e,n)=>e.fold(()=>Wc(n),Ui)},Xu={generate:e=>{if(!F(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const n=[],o={};return mt(e,(r,l)=>{const f=bi(r);if(f.length!==1)throw new Error("one and only one name per case");const v=f[0],C=r[v];if(o[v]!==void 0)throw new Error("duplicate key detected:"+v);if(v==="cata")throw new Error("cannot have a case named cata (sorry)");if(!F(C))throw new Error("case arguments must be an array");n.push(v),o[v]=(...x)=>{const L=x.length;if(L!==C.length)throw new Error("Wrong number of arguments to case "+v+". Expected "+C.length+" ("+C+"), got "+L);return{fold:(...j)=>{if(j.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+j.length);return j[l].apply(null,x)},match:j=>{const ne=bi(j);if(n.length!==ne.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+ne.join(","));if(!nr(n,xe=>kn(ne,xe)))throw new Error("Not all branches were specified when using match. Specified: "+ne.join(", ")+`
Required: `+n.join(", "));return j[v].apply(null,x)},log:j=>{console.log(j,{constructors:n,constructor:v,params:x})}}}}),o}};Xu.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Jf=e=>{const n=[],o=[];return mt(e,r=>{r.fold(l=>{n.push(l)},l=>{o.push(l)})}),{errors:n,values:o}},ds=e=>e.type==="inline-command"||e.type==="inline-format",Xv=e=>e.type==="block-command"||e.type==="block-format",Gc=e=>{const n=r=>Is.error({message:r,pattern:e}),o=(r,l,f)=>{if(e.format!==void 0){let v;if(F(e.format)){if(!nr(e.format,oe))return n(r+" pattern has non-string items in the `format` array");v=e.format}else if(oe(e.format))v=[e.format];else return n(r+" pattern has non-string `format` parameter");return Is.value(l(v))}else return e.cmd!==void 0?oe(e.cmd)?Is.value(f(e.cmd,e.value)):n(r+" pattern has non-string `cmd` parameter"):n(r+" pattern is missing both `format` and `cmd` parameters")};if(!Be(e))return n("Raw pattern is not an object");if(!oe(e.start))return n("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!oe(e.end))return n("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return n("Inline pattern has empty `start` and `end` parameters");let r=e.start,l=e.end;return l.length===0&&(l=r,r=""),o("Inline",f=>({type:"inline-format",start:r,end:l,format:f}),(f,v)=>({type:"inline-command",start:r,end:l,cmd:f,value:v}))}else return e.replacement!==void 0?oe(e.replacement)?e.start.length===0?n("Replacement pattern has empty `start` parameter"):Is.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):n("Replacement pattern has non-string `replacement` parameter"):e.start.length===0?n("Block pattern has empty `start` parameter"):o("Block",r=>({type:"block-format",start:e.start,format:r[0]}),(r,l)=>({type:"block-command",start:e.start,cmd:r,value:l}))},zi=e=>Lt(e,Xv),I1=e=>Lt(e,ds),Ad=(e,n)=>({inlinePatterns:I1(e),blockPatterns:zi(e),dynamicPatternsLookup:n}),R0=e=>{const n=Jf(Yt(e,Gc));return mt(n.errors,o=>console.error(o.message,o.pattern)),n.values},bA=e=>n=>{const o=e(n);return R0(o)},Qv=Hs().deviceType,I0=Qv.isTouch(),Jv=sr.DOM,D1=e=>{const n=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return Ns(n,(o,r)=>{const l=r.split("="),f=l[0],v=l.length>1?l[1]:f;return o[uu(f)]=uu(v),o},{})},B_=e=>Me(e,RegExp),yn=e=>n=>n.options.get(e),eb=e=>oe(e)||Be(e),N1=(e,n="")=>o=>{const r=oe(o);if(r)if(o.indexOf("=")!==-1){const l=D1(o);return{value:Xs(l,e.id).getOr(n),valid:r}}else return{value:o,valid:r};else return{valid:!1,message:"Must be a string."}},Wi=e=>{const n=e.options.register;n("id",{processor:"string",default:e.id}),n("selector",{processor:"string"}),n("target",{processor:"object"}),n("suffix",{processor:"string"}),n("cache_suffix",{processor:"string"}),n("base_url",{processor:"string"}),n("referrer_policy",{processor:"string",default:""}),n("language_load",{processor:"boolean",default:!0}),n("inline",{processor:"boolean",default:!1}),n("iframe_attrs",{processor:"object",default:{}}),n("doctype",{processor:"string",default:"<!DOCTYPE html>"}),n("document_base_url",{processor:"string",default:e.documentBaseUrl}),n("body_id",{processor:N1(e,"tinymce"),default:"tinymce"}),n("body_class",{processor:N1(e),default:""}),n("content_security_policy",{processor:"string",default:""}),n("br_in_pre",{processor:"boolean",default:!0}),n("forced_root_block",{processor:o=>{const r=oe(o)&&Cs(o);return r?{value:o,valid:r}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),n("forced_root_block_attrs",{processor:"object",default:{}}),n("newline_behavior",{processor:o=>{const r=kn(["block","linebreak","invert","default"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),n("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),n("no_newline_selector",{processor:"string",default:""}),n("keep_styles",{processor:"boolean",default:!0}),n("end_container_on_empty_block",{processor:o=>Ze(o)?{valid:!0,value:o}:oe(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),n("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),n("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),n("font_size_classes",{processor:"string",default:""}),n("automatic_uploads",{processor:"boolean",default:!0}),n("images_reuse_filename",{processor:"boolean",default:!1}),n("images_replace_blob_uris",{processor:"boolean",default:!0}),n("icons",{processor:"string",default:""}),n("icons_url",{processor:"string",default:""}),n("images_upload_url",{processor:"string",default:""}),n("images_upload_base_path",{processor:"string",default:""}),n("images_upload_credentials",{processor:"boolean",default:!1}),n("images_upload_handler",{processor:"function"}),n("language",{processor:"string",default:"en"}),n("language_url",{processor:"string",default:""}),n("entity_encoding",{processor:"string",default:"named"}),n("indent",{processor:"boolean",default:!0}),n("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_use_margin",{processor:"boolean",default:!1}),n("indentation",{processor:"string",default:"40px"}),n("content_css",{processor:o=>{const r=o===!1||oe(o)||wt(o,oe);return r?oe(o)?{value:Yt(o.split(","),uu),valid:r}:F(o)?{value:o,valid:r}:o===!1?{value:[],valid:r}:{value:o,valid:r}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:M0(e)?[]:["default"]}),n("content_style",{processor:"string"}),n("content_css_cors",{processor:"boolean",default:!1}),n("font_css",{processor:o=>{const r=oe(o)||wt(o,oe);return r?{value:F(o)?o:Yt(o.split(","),uu),valid:r}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),n("inline_boundaries",{processor:"boolean",default:!0}),n("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),n("object_resizing",{processor:o=>{const r=Ze(o)||oe(o);return r?o===!1||Qv.isiPhone()||Qv.isiPad()?{value:"",valid:r}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:r}:{valid:!1,message:"Must be boolean or a string"}},default:!I0}),n("resize_img_proportional",{processor:"boolean",default:!0}),n("event_root",{processor:"object"}),n("service_message",{processor:"string"}),n("theme",{processor:o=>o===!1||oe(o)||ge(o),default:"silver"}),n("theme_url",{processor:"string"}),n("formats",{processor:"object"}),n("format_empty_lines",{processor:"boolean",default:!1}),n("format_noneditable_selector",{processor:"string",default:""}),n("preview_styles",{processor:o=>{const r=o===!1||oe(o);return r?{value:o===!1?"":o,valid:r}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),n("custom_ui_selector",{processor:"string",default:""}),n("hidden_input",{processor:"boolean",default:!0}),n("submit_patch",{processor:"boolean",default:!0}),n("encoding",{processor:"string"}),n("add_form_submit_trigger",{processor:"boolean",default:!0}),n("add_unload_trigger",{processor:"boolean",default:!0}),n("custom_undo_redo_levels",{processor:"number",default:0}),n("disable_nodechange",{processor:"boolean",default:!1}),n("readonly",{processor:"boolean",default:!1}),n("plugins",{processor:"string[]",default:[]}),n("external_plugins",{processor:"object"}),n("forced_plugins",{processor:"string[]"}),n("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),n("model_url",{processor:"string"}),n("block_unsupported_drop",{processor:"boolean",default:!0}),n("visual",{processor:"boolean",default:!0}),n("visual_table_class",{processor:"string",default:"mce-item-table"}),n("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),n("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),n("setup",{processor:"function"}),n("init_instance_callback",{processor:"function"}),n("url_converter",{processor:"function",default:e.convertURL}),n("url_converter_scope",{processor:"object",default:e}),n("urlconverter_callback",{processor:"function"}),n("allow_conditional_comments",{processor:"boolean",default:!1}),n("allow_html_data_urls",{processor:"boolean",default:!1}),n("allow_svg_data_urls",{processor:"boolean"}),n("allow_html_in_named_anchor",{processor:"boolean",default:!1}),n("allow_script_urls",{processor:"boolean",default:!1}),n("allow_unsafe_link_target",{processor:"boolean",default:!1}),n("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),n("fix_list_elements",{processor:"boolean",default:!1}),n("preserve_cdata",{processor:"boolean",default:!1}),n("remove_trailing_brs",{processor:"boolean"}),n("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),n("element_format",{processor:"string",default:"html"}),n("entities",{processor:"string"}),n("schema",{processor:"string",default:"html5"}),n("convert_urls",{processor:"boolean",default:!0}),n("relative_urls",{processor:"boolean",default:!0}),n("remove_script_host",{processor:"boolean",default:!0}),n("custom_elements",{processor:"string"}),n("extended_valid_elements",{processor:"string"}),n("invalid_elements",{processor:"string"}),n("invalid_styles",{processor:eb}),n("valid_children",{processor:"string"}),n("valid_classes",{processor:eb}),n("valid_elements",{processor:"string"}),n("valid_styles",{processor:eb}),n("verify_html",{processor:"boolean",default:!0}),n("auto_focus",{processor:o=>oe(o)||o===!0}),n("browser_spellcheck",{processor:"boolean",default:!1}),n("protect",{processor:"array"}),n("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),n("deprecation_warnings",{processor:"boolean",default:!0}),n("a11y_advanced_options",{processor:"boolean",default:!1}),n("api_key",{processor:"string"}),n("paste_block_drop",{processor:"boolean",default:!1}),n("paste_data_images",{processor:"boolean",default:!0}),n("paste_preprocess",{processor:"function"}),n("paste_postprocess",{processor:"function"}),n("paste_webkit_styles",{processor:"string",default:"none"}),n("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),n("paste_merge_formats",{processor:"boolean",default:!0}),n("smart_paste",{processor:"boolean",default:!0}),n("paste_as_text",{processor:"boolean",default:!1}),n("paste_tab_spaces",{processor:"number",default:4}),n("text_patterns",{processor:o=>wt(o,Be)||o===!1?{value:R0(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),n("text_patterns_lookup",{processor:o=>ge(o)?{value:bA(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),n("noneditable_class",{processor:"string",default:"mceNonEditable"}),n("editable_class",{processor:"string",default:"mceEditable"}),n("noneditable_regexp",{processor:o=>wt(o,B_)?{value:o,valid:!0}:B_(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),n("table_tab_navigation",{processor:"boolean",default:!0}),n("highlight_on_focus",{processor:"boolean",default:!1}),n("xss_sanitization",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{n("directionality",{processor:"string",default:Td.isRtl()?"rtl":void 0}),n("placeholder",{processor:"string",default:Jv.getAttrib(e.getElement(),"placeholder")})})},kt=yn("iframe_attrs"),F_=yn("doctype"),ya=yn("document_base_url"),Jw=yn("body_id"),H_=yn("body_class"),V_=yn("content_security_policy"),bu=yn("br_in_pre"),yu=yn("forced_root_block"),gp=yn("forced_root_block_attrs"),il=yn("newline_behavior"),M1=yn("br_newline_selector"),k1=yn("no_newline_selector"),xd=yn("keep_styles"),Xl=yn("end_container_on_empty_block"),al=yn("automatic_uploads"),Ic=yn("images_reuse_filename"),eT=yn("images_replace_blob_uris"),tb=yn("icons"),nb=yn("icons_url"),jh=yn("images_upload_url"),U_=yn("images_upload_base_path"),ob=yn("images_upload_credentials"),eh=yn("images_upload_handler"),_s=yn("content_css_cors"),eg=yn("referrer_policy"),gr=yn("language"),z_=yn("language_url"),tg=yn("indent_use_margin"),Mr=yn("indentation"),sb=yn("content_css"),W_=yn("content_style"),pp=yn("font_css"),tT=yn("directionality"),P1=yn("inline_boundaries_selector"),G_=yn("object_resizing"),q_=yn("resize_img_proportional"),D0=yn("placeholder"),N0=yn("event_root"),j_=yn("service_message"),mf=yn("theme"),rb=yn("theme_url"),_u=yn("model"),Zs=yn("model_url"),vp=yn("inline_boundaries"),Dc=yn("formats"),L1=yn("preview_styles"),Z_=yn("format_empty_lines"),ib=yn("format_noneditable_selector"),$1=yn("custom_ui_selector"),M0=yn("inline"),Y_=yn("hidden_input"),fc=yn("submit_patch"),Ql=yn("add_form_submit_trigger"),nT=yn("add_unload_trigger"),oT=yn("custom_undo_redo_levels"),sT=yn("disable_nodechange"),ng=yn("readonly"),k0=yn("content_css_cors"),P0=yn("plugins"),og=yn("external_plugins"),K_=yn("block_unsupported_drop"),rT=yn("visual"),iT=yn("visual_table_class"),L0=yn("visual_anchor_class"),$0=yn("iframe_aria_text"),Zh=yn("setup"),X_=yn("init_instance_callback"),aT=yn("urlconverter_callback"),cT=yn("auto_focus"),lT=yn("browser_spellcheck"),Od=yn("protect"),ab=yn("paste_block_drop"),sg=yn("paste_data_images"),cb=yn("paste_preprocess"),Q_=yn("paste_postprocess"),gf=yn("paste_webkit_styles"),B1=yn("paste_remove_styles_if_webkit"),B0=yn("paste_merge_formats"),Rd=yn("smart_paste"),Yh=yn("paste_as_text"),F0=yn("paste_tab_spaces"),J_=yn("allow_html_data_urls"),uT=yn("text_patterns"),dT=yn("text_patterns_lookup"),H0=yn("noneditable_class"),fT=yn("editable_class"),hT=yn("noneditable_regexp"),eE=yn("preserve_cdata"),tE=yn("highlight_on_focus"),lb=yn("xss_sanitization"),mT=e=>e.options.isSet("text_patterns_lookup"),gT=e=>pe.explode(e.options.get("font_size_style_values")),pT=e=>pe.explode(e.options.get("font_size_classes")),nE=e=>e.options.get("encoding")==="xml",V0=e=>pe.explode(e.options.get("images_file_types")),oE=yn("table_tab_navigation"),vT=nn,sE=Ut,F1=e=>{const n=e.parentNode;n&&n.removeChild(e)},U0=e=>{const n=yd(e);return{count:e.length-n.length,text:n}},z0=e=>{let n;for(;(n=e.data.lastIndexOf(Ma))!==-1;)e.deleteData(n,1)},bp=(e,n)=>(rg(e),n),ub=(e,n)=>{const o=U0(e.data.substr(0,n.offset())),r=U0(e.data.substr(n.offset()));return(o.text+r.text).length>0?(z0(e),Ye(e,n.offset()-o.count)):n},H1=(e,n)=>{const o=n.container(),r=Xa(vr(o.childNodes),e).map(l=>l<n.offset()?Ye(o,n.offset()-1):n).getOr(n);return rg(e),r},W0=(e,n)=>sE(e)&&n.container()===e?ub(e,n):bp(e,n),G0=(e,n)=>n.container()===e.parentNode?H1(e,n):bp(e,n),rE=(e,n)=>Ye.isTextPosition(n)?W0(e,n):G0(e,n),rg=e=>{vT(e)&&wl(e)&&(Sv(e)?e.removeAttribute("data-mce-caret"):F1(e)),sE(e)&&(z0(e),e.data.length===0&&F1(e))},iE=Po,ig=or,bT=Jr,q0="*[contentEditable=false],video,audio,embed,object",aE=(e,n,o)=>{const r=R_(n.getBoundingClientRect(),o);let l,f;if(e.tagName==="BODY"){const C=e.ownerDocument.documentElement;l=e.scrollLeft||C.scrollLeft,f=e.scrollTop||C.scrollTop}else{const C=e.getBoundingClientRect();l=e.scrollLeft-C.left,f=e.scrollTop-C.top}r.left+=l,r.right+=l,r.top+=f,r.bottom+=f,r.width=1;let v=n.offsetWidth-n.clientWidth;return v>0&&(o&&(v*=-1),r.left+=v,r.right+=v),r},Jl=e=>{var n,o;const r=Qr(Oe.fromDom(e),q0);for(let l=0;l<r.length;l++){const f=r[l].dom;let v=f.previousSibling;if(Kg(v)){const C=v.data;C.length===1?(n=v.parentNode)===null||n===void 0||n.removeChild(v):v.deleteData(C.length-1,1)}v=f.nextSibling,Pm(v)&&(v.data.length===1?(o=v.parentNode)===null||o===void 0||o.removeChild(v):v.deleteData(0,1))}},j0=(e,n,o,r)=>{const l=oa();let f,v;const C=yu(e),x=e.dom,L=(he,Se)=>{let Ve;if(Z(),bT(Se))return null;if(o(Se)){const $e=Av(C,Se,he),je=aE(n,Se,he);x.setStyle($e,"top",je.top),v=$e;const rt=x.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});x.setStyles(rt,{...je}),x.add(n,rt),l.set({caret:rt,element:Se,before:he}),he&&x.addClass(rt,"mce-visual-caret-before"),j(),Ve=Se.ownerDocument.createRange(),Ve.setStart($e,0),Ve.setEnd($e,0)}else return v=h_(Se,he),Ve=Se.ownerDocument.createRange(),V1(v.nextSibling)?(Ve.setStart(v,0),Ve.setEnd(v,0)):(Ve.setStart(v,1),Ve.setEnd(v,1)),Ve;return Ve},Z=()=>{Jl(n),v&&(rg(v),v=null),l.on(he=>{x.remove(he.caret),l.clear()}),f&&(clearInterval(f),f=void 0)},j=()=>{f=setInterval(()=>{l.on(he=>{r()?x.toggleClass(he.caret,"mce-visual-caret-hidden"):x.addClass(he.caret,"mce-visual-caret-hidden")})},500)};return{show:L,hide:Z,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{l.on(he=>{const Se=aE(n,he.element,he.before);x.setStyles(he.caret,{...Se})})},destroy:()=>clearInterval(f)}},db=()=>Do.browser.isFirefox(),V1=e=>iE(e)||ig(e),th=e=>(V1(e)||Dr(e)&&db())&&Xr(Oe.fromDom(e)).exists(Kd),yT=ts,U1=Po,cE=or,Pa=yl("display","block table table-cell table-caption list-item"),lE=wl,ag=Uu,_T=nn,z1=Ut,Z0=Tl,yp=e=>e>0,cg=e=>e<0,W1=(e,n)=>{let o;for(;o=e(n);)if(!ag(o))return o;return null},pf=(e,n,o,r,l)=>{const f=new ai(e,r),v=U1(e)||ag(e);let C;if(cg(n)){if(v&&(C=W1(f.prev.bind(f),!0),o(C)))return C;for(;C=W1(f.prev.bind(f),l);)if(o(C))return C}if(yp(n)){if(v&&(C=W1(f.next.bind(f),!0),o(C)))return C;for(;C=W1(f.next.bind(f),l);)if(o(C))return C}return null},Y0=(e,n)=>{const o=l=>yT(l.dom),r=l=>l.dom===n;return Ps(Oe.fromDom(e),o,r).map(l=>l.dom).getOr(n)},Gi=(e,n)=>{for(;e&&e!==n;){if(Pa(e))return e;e=e.parentNode}return null},eu=(e,n,o)=>Gi(e.container(),o)===Gi(n.container(),o),fb=(e,n)=>{if(!n)return te.none();const o=n.container(),r=n.offset();return _T(o)?te.from(o.childNodes[r+e]):te.none()},uE=(e,n)=>{var o;const l=((o=n.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(l.setStartBefore(n),l.setEndBefore(n)):(l.setStartAfter(n),l.setEndAfter(n)),l},dE=(e,n,o)=>Gi(n,e)===Gi(o,e),K0=(e,n,o)=>{const r=e?"previousSibling":"nextSibling";let l=o;for(;l&&l!==n;){let f=l[r];if(f&&lE(f)&&(f=f[r]),U1(f)||cE(f)){if(dE(n,f,l))return f;break}if(Z0(f))break;l=l.parentNode}return null},lg=Ge(uE,!0),G1=Ge(uE,!1),ug=(e,n,o)=>{let r;const l=Ge(K0,!0,n),f=Ge(K0,!1,n),v=o.startContainer,C=o.startOffset;if(Uu(v)){const x=z1(v)?v.parentNode:v,L=x.getAttribute("data-mce-caret");if(L==="before"&&(r=x.nextSibling,th(r)))return lg(r);if(L==="after"&&(r=x.previousSibling,th(r)))return G1(r)}if(!o.collapsed)return o;if(Ut(v)){if(lE(v)){if(e===1){if(r=f(v),r)return lg(r);if(r=l(v),r)return G1(r)}if(e===-1){if(r=l(v),r)return G1(r);if(r=f(v),r)return lg(r)}return o}if(Kg(v)&&C>=v.data.length-1)return e===1&&(r=f(v),r)?lg(r):o;if(Pm(v)&&C<=1)return e===-1&&(r=l(v),r)?G1(r):o;if(C===v.data.length)return r=f(v),r?lg(r):o;if(C===0)return r=l(v),r?G1(r):o}return o},yA=(e,n)=>fb(e?0:-1,n).filter(U1),_p=(e,n,o)=>{const r=ug(e,n,o);return e===-1?Ye.fromRangeStart(r):Ye.fromRangeEnd(r)},q1=e=>te.from(e.getNode()).map(Oe.fromDom),dg=e=>te.from(e.getNode(!0)).map(Oe.fromDom),X0=(e,n)=>{let o=n;for(;o=e(o);)if(o.isVisible())return o;return o},Ep=(e,n)=>{const o=eu(e,n);return!o&&hr(e.getNode())?!0:o};var _a;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(_a||(_a={}));const Q0=Po,Id=Ut,vf=nn,Kh=hr,fg=Tl,g=Cl,_=na,R=(e,n)=>{const o=[];let r=e;for(;r&&r!==n;)o.push(r),r=r.parentNode;return o},q=(e,n)=>e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null,ce=(e,n)=>{if(yp(e)){if(fg(n.previousSibling)&&!Id(n.previousSibling))return Ye.before(n);if(Id(n))return Ye(n,0)}if(cg(e)){if(fg(n.nextSibling)&&!Id(n.nextSibling))return Ye.after(n);if(Id(n))return Ye(n,n.data.length)}return cg(e)?Kh(n)?Ye.before(n):Ye.after(n):Ye.before(n)},Ae=(e,n)=>{const o=n.nextSibling;return o&&fg(o)?Id(o)?Ye(o,0):Ye.before(o):Fe(_a.Forwards,Ye.after(n),e)},Fe=(e,n,o)=>{let r,l,f,v;if(!vf(o)||!n)return null;if(n.isEqual(Ye.after(o))&&o.lastChild){if(v=Ye.after(o.lastChild),cg(e)&&fg(o.lastChild)&&vf(o.lastChild))return Kh(o.lastChild)?Ye.before(o.lastChild):v}else v=n;const C=v.container();let x=v.offset();if(Id(C)){if(cg(e)&&x>0)return Ye(C,--x);if(yp(e)&&x<C.length)return Ye(C,++x);r=C}else{if(cg(e)&&x>0&&(l=q(C,x-1),fg(l)))return!g(l)&&(f=pf(l,e,_,l),f)?Id(f)?Ye(f,f.data.length):Ye.after(f):Id(l)?Ye(l,l.data.length):Ye.before(l);if(yp(e)&&x<C.childNodes.length&&(l=q(C,x),fg(l)))return Kh(l)?Ae(o,l):!g(l)&&(f=pf(l,e,_,l),f)?Id(f)?Ye(f,0):Ye.before(f):Id(l)?Ye(l,0):Ye.after(l);r=l||v.getNode()}if(r&&(yp(e)&&v.isAtEnd()||cg(e)&&v.isAtStart())&&(r=pf(r,e,It,o,!0),_(r,o)))return ce(e,r);l=r&&pf(r,e,_,o);const L=bc(Lt(R(C,o),Q0));return L&&(!l||!L.contains(l))?(yp(e)?v=Ye.after(L):v=Ye.before(L),v):l?ce(e,l):null},qe=e=>({next:n=>Fe(_a.Forwards,n,e),prev:n=>Fe(_a.Backwards,n,e)}),gt=(e,n,o)=>{const r=e?Ye.before(o):Ye.after(o);return No(e,n,r)},en=e=>hr(e)?Ye.before(e):Ye.after(e),Jt=e=>Ye.isTextPosition(e)?e.offset()===0:Tl(e.getNode()),mn=e=>{if(Ye.isTextPosition(e)){const n=e.container();return e.offset()===n.data.length}else return Tl(e.getNode(!0))},$n=(e,n)=>!Ye.isTextPosition(e)&&!Ye.isTextPosition(n)&&e.getNode()===n.getNode(!0),fo=e=>!Ye.isTextPosition(e)&&hr(e.getNode()),Lo=(e,n,o)=>e?!$n(n,o)&&!fo(n)&&mn(n)&&Jt(o):!$n(o,n)&&Jt(n)&&mn(o),No=(e,n,o)=>{const r=qe(n);return te.from(e?r.next(o):r.prev(o))},Ro=(e,n,o)=>No(e,n,o).bind(r=>eu(o,r,n)&&Lo(e,o,r)?No(e,n,r):te.some(r)),$s=(e,n,o,r)=>Ro(e,n,o).bind(l=>r(l)?$s(e,n,l,r):te.some(l)),fs=(e,n)=>{const o=e?n.firstChild:n.lastChild;return Ut(o)?te.some(Ye(o,e?0:o.data.length)):o?Tl(o)?te.some(e?Ye.before(o):en(o)):gt(e,n,o):te.none()},ui=Ge(No,!0),di=Ge(No,!1),ei=Ge(fs,!0),Zr=Ge(fs,!1),Nc="_mce_caret",Ws=e=>nn(e)&&e.id===Nc,bf=(e,n)=>{let o=n;for(;o&&o!==e;){if(Ws(o))return o;o=o.parentNode}return null},J0=e=>oe(e.start),j1=e=>qn(e,"rng"),fE=e=>qn(e,"id"),hE=e=>qn(e,"name"),ET=e=>pe.isArray(e.start),mE=e=>!hE(e)&&Ze(e.forward)?e.forward:!0,_A=(e,n)=>(nn(n)&&e.isBlock(n)&&!n.innerHTML&&(n.innerHTML='<br data-mce-bogus="1" />'),n),cR=(e,n)=>{const o=te.from(C0(e.getRoot(),n.start)),r=te.from(C0(e.getRoot(),n.end));return yt(o,r,(l,f)=>{const v=e.createRng();return v.setStart(l.container(),l.offset()),v.setEnd(f.container(),f.offset()),{range:v,forward:mE(n)}})},Xh=(e,n)=>{var o;const l=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Ma);e.appendChild(l),n.setStart(l,0),n.setEnd(l,0)},ey=e=>!e.hasChildNodes(),wT=(e,n)=>Zr(e).fold(Je,o=>(n.setStart(o.container(),o.offset()),n.setEnd(o.container(),o.offset()),!0)),Qh=(e,n,o)=>ey(n)&&bf(e,n)?(Xh(n,o),!0):!1,TT=(e,n,o,r)=>{const l=o[n?"start":"end"],f=e.getRoot();if(l){let v=f,C=l[0];for(let x=l.length-1;v&&x>=1;x--){const L=v.childNodes;if(Qh(f,v,r))return!0;if(l[x]>L.length-1)return Qh(f,v,r)?!0:wT(v,r);v=L[l[x]]}Ut(v)&&(C=Math.min(l[0],v.data.length)),nn(v)&&(C=Math.min(l[0],v.childNodes.length)),n?r.setStart(v,C):r.setEnd(v,C)}return!0},ty=e=>Ut(e)&&e.data.length>0,wp=(e,n,o)=>{const r=e.get(o.id+"_"+n),l=r==null?void 0:r.parentNode,f=o.keep;if(r&&l){let v,C;if(n==="start"?f?r.hasChildNodes()?(v=r.firstChild,C=1):ty(r.nextSibling)?(v=r.nextSibling,C=0):ty(r.previousSibling)?(v=r.previousSibling,C=r.previousSibling.data.length):(v=l,C=e.nodeIndex(r)+1):(v=l,C=e.nodeIndex(r)):f?r.hasChildNodes()?(v=r.firstChild,C=1):ty(r.previousSibling)?(v=r.previousSibling,C=r.previousSibling.data.length):(v=l,C=e.nodeIndex(r)):(v=l,C=e.nodeIndex(r)),!f){const x=r.previousSibling,L=r.nextSibling;pe.each(pe.grep(r.childNodes),j=>{Ut(j)&&(j.data=j.data.replace(/\uFEFF/g,""))});let Z;for(;Z=e.get(o.id+"_"+n);)e.remove(Z,!0);if(Ut(L)&&Ut(x)&&!Do.browser.isOpera()){const j=x.data.length;x.appendData(L.data),e.remove(L),v=x,C=j}}return te.some(Ye(v,C))}else return te.none()},CT=(e,n)=>{const o=e.createRng();return TT(e,!0,n,o)&&TT(e,!1,n,o)?te.some({range:o,forward:mE(n)}):te.none()},EA=(e,n)=>{const o=wp(e,"start",n),r=wp(e,"end",n);return yt(o,r.or(o),(l,f)=>{const v=e.createRng();return v.setStart(_A(e,l.container()),l.offset()),v.setEnd(_A(e,f.container()),f.offset()),{range:v,forward:mE(n)}})},ST=(e,n)=>te.from(e.select(n.name)[n.index]).map(o=>{const r=e.createRng();return r.selectNode(o),{range:r,forward:!0}}),Tp=(e,n)=>{const o=e.dom;if(n){if(ET(n))return CT(o,n);if(J0(n))return cR(o,n);if(fE(n))return EA(o,n);if(hE(n))return ST(o,n);if(j1(n))return te.some({range:n.rng,forward:mE(n)})}return te.none()},lR=(e,n,o)=>Qw(e,n,o),Jh=(e,n)=>{Tp(e,n).each(({range:o,forward:r})=>{e.setRng(o,r)})},Qu=e=>nn(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",gE=(e=>n=>e===n)(ys),ny=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,AT=e=>!ny(e)&&!gE(e)&&!Wl(e),uR=e=>({value:TA(e)}),TA=e=>Xc(e,"#").toUpperCase(),xT=e=>{const n=e.toString(16);return(n.length===1?"0"+n:n).toUpperCase()},pE=e=>{const n=xT(e.red)+xT(e.green)+xT(e.blue);return uR(n)},dR=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,fR=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,vE=(e,n,o,r)=>({red:e,green:n,blue:o,alpha:r}),CA=(e,n,o,r)=>{const l=parseInt(e,10),f=parseInt(n,10),v=parseInt(o,10),C=parseFloat(r);return vE(l,f,v,C)},fk=e=>{if(e==="transparent")return te.some(vE(0,0,0,0));const n=dR.exec(e);if(n!==null)return te.some(CA(n[1],n[2],n[3],"1"));const o=fR.exec(e);return o!==null?te.some(CA(o[1],o[2],o[3],o[4])):te.none()},hb=e=>fk(e).map(pE).map(n=>"#"+n.value).getOr(e),Uo=e=>{const n=[];if(e)for(let o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));return n},hg=e=>Ca(e,n=>{const o=xl(n);return o?[Oe.fromDom(o)]:[]}),mb=e=>Uo(e).length>1,OT=e=>Lt(hg(e),Hr),hR=e=>Qr(e,"td[data-mce-selected],th[data-mce-selected]"),oy=(e,n)=>{const o=hR(n);return o.length>0?o:OT(e)},Z1=e=>oy(Uo(e.selection.getSel()),Oe.fromDom(e.getBody())),Y1=(e,n)=>Da(e,"table",n),RT=e=>{const n=e.startContainer,o=e.startOffset;return Ut(n)?o===0?te.some(Oe.fromDom(n)):te.none():te.from(n.childNodes[o]).map(Oe.fromDom)},IT=e=>{const n=e.endContainer,o=e.endOffset;return Ut(n)?o===n.data.length?te.some(Oe.fromDom(n)):te.none():te.from(n.childNodes[o-1]).map(Oe.fromDom)},DT=e=>ct(e).fold(et([e]),n=>[e].concat(DT(n))),SA=e=>Ct(e).fold(et([e]),n=>Vs(n)==="br"?Tc(n).map(o=>[e].concat(SA(o))).getOr([]):[e].concat(SA(n))),sy=(e,n)=>yt(RT(n),IT(n),(o,r)=>{const l=vs(DT(e),Ge(ns,o)),f=vs(SA(e),Ge(ns,r));return l.isSome()&&f.isSome()}).getOr(!1),bE=(e,n,o,r)=>{const l=o,f=new ai(o,l),v=ks(e.schema.getMoveCaretBeforeOnEnterElements(),(x,L)=>!kn(["td","th","table"],L.toLowerCase()));let C=o;do{if(Ut(C)&&pe.trim(C.data).length!==0){r?n.setStart(C,0):n.setEnd(C,C.data.length);return}if(v[C.nodeName]){r?n.setStartBefore(C):C.nodeName==="BR"?n.setEndBefore(C):n.setEndAfter(C);return}}while(C=r?f.next():f.prev());l.nodeName==="BODY"&&(r?n.setStart(l,0):n.setEnd(l,l.childNodes.length))},NT=e=>{const n=e.selection.getSel();return Ne(n)&&n.rangeCount>0},MT=(e,n)=>{const o=Z1(e);o.length>0?mt(o,r=>{const l=r.dom,f=e.dom.createRng();f.setStartBefore(l),f.setEndAfter(l),n(f,!0)}):n(e.selection.getRng(),!1)},yE=(e,n,o)=>{const r=$_(e,n);o(r),e.moveToBookmark(r)},ry=e=>gn(e==null?void 0:e.nodeType),mg=e=>nn(e)&&!Qu(e)&&!Ws(e)&&!ol(e),AA=(e,n)=>{if(mg(n)&&!/^(TD|TH)$/.test(n.nodeName)){const o=e.getAttrib(n,"data-mce-selected"),r=parseInt(o,10);return!isNaN(r)&&r>0}else return!1},em=e=>e.isContentEditable===!0,Cp=(e,n,o)=>{const{selection:r,dom:l}=e,f=r.getNode(),v=Po(f);yE(r,!0,()=>{n()}),v&&Po(f)&&l.isChildOf(f,e.getBody())?e.selection.select(f):o(r.getStart())&&mR(l,r)},mR=(e,n)=>{var o,r;const l=n.getRng(),{startContainer:f,startOffset:v}=l,C=n.getNode();if(!AA(e,C)&&nn(f)){const x=f.childNodes,L=e.getRoot();let Z;if(v<x.length){const j=x[v];Z=new ai(j,(o=e.getParent(j,e.isBlock))!==null&&o!==void 0?o:L)}else{const j=x[x.length-1];Z=new ai(j,(r=e.getParent(j,e.isBlock))!==null&&r!==void 0?r:L),Z.next(!0)}for(let j=Z.current();j;j=Z.next()){if(e.getContentEditable(j)==="false")return;if(Ut(j)&&!pb(j)){l.setStart(j,0),n.setRng(l);return}}}},xA=(e,n,o)=>{if(e){const r=n?"nextSibling":"previousSibling";for(e=o?e:e[r];e;e=e[r])if(nn(e)||!pb(e))return e}},kT=(e,n)=>!!e.getTextBlockElements()[n.nodeName.toLowerCase()]||zf(e,n),gb=(e,n,o)=>e.schema.isValidChild(n,o),pb=(e,n=!1)=>{if(Ne(e)&&Ut(e)){const o=n?e.data.replace(/ /g," "):e.data;return Hc(o)}else return!1},gR=e=>Ne(e)&&Ut(e)&&e.length===0,pR=(e,n)=>{const o="[data-mce-cef-wrappable]",r=ib(e),l=si(r)?o:`${o},${r}`;return da(Oe.fromDom(n),l)},OA=(e,n)=>{const o=e.dom;return mg(n)&&o.getContentEditable(n)==="false"&&pR(e,n)&&o.select('[contenteditable="true"]',n).length===0},Sp=(e,n)=>ge(e)?e(n):(Ne(n)&&(e=e.replace(/%(\w+)/g,(o,r)=>n[r]||o)),e),PT=(e,n)=>(e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()),LT=(e,n)=>{if(Et(e))return null;{let o=String(e);return(n==="color"||n==="backgroundColor")&&(o=hb(o)),n==="fontWeight"&&e===700&&(o="bold"),n==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},_E=(e,n,o)=>{const r=e.getStyle(n,o);return LT(r,o)},K1=(e,n)=>{let o;return e.getParent(n,r=>nn(r)?(o=e.getStyle(r,"text-decoration"),!!o&&o!=="none"):!1),o},EE=(e,n,o)=>e.getParents(n,o,e.getRoot()),fn=(e,n,o)=>{const r=e.formatter.get(n);return Ne(r)&&ko(r,o)},ja=(e,n)=>fn(e,n,r=>{const l=f=>ge(f)||f.length>1&&f.charAt(0)==="%";return ko(["styles","attributes"],f=>Xs(r,f).exists(v=>{const C=F(v)?v:qd(v);return ko(C,l)}))}),wE=(e,n,o)=>{const r=["inline","block","selector","attributes","styles","classes"],l=f=>ks(f,(v,C)=>ko(r,x=>x===C));return fn(e,n,f=>{const v=l(f);return fn(e,o,C=>{const x=l(C);return Ru(v,x)})})},kr=e=>Qa(e,"block"),yf=e=>kr(e)&&e.wrapper===!0,RA=e=>kr(e)&&e.wrapper!==!0,tu=e=>Qa(e,"selector"),Ea=e=>Qa(e,"inline"),TE=e=>tu(e)&&Ea(e)&&ke(Xs(e,"mixed"),!0),CE=e=>tu(e)&&e.expand!==!1&&!Ea(e),gg=Qu,IA=EE,$T=pb,DA=kT,BT=e=>hr(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,FT=(e,n)=>{let o=n;for(;o;){if(nn(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:n;o=o.parentNode}return n},HT=(e,n,o,r)=>{const l=n.data;if(e){for(let f=o;f>0;f--)if(r(l.charAt(f-1)))return f}else for(let f=o;f<l.length;f++)if(r(l.charAt(f)))return f;return-1},iy=(e,n,o)=>HT(e,n,o,r=>gE(r)||ny(r)),SE=(e,n,o)=>HT(e,n,o,AT),ay=(e,n,o,r,l,f)=>{let v;const C=e.getParent(o,e.isBlock)||n,x=(Z,j,ne)=>{const Ce=Cr(e),xe=l?Ce.backwards:Ce.forwards;return te.from(xe(Z,j,(he,Se)=>gg(he.parentNode)?-1:(v=he,ne(l,he,Se)),C))};return x(o,r,iy).bind(Z=>f?x(Z.container,Z.offset+(l?-1:0),SE):te.some(Z)).orThunk(()=>v?te.some({container:v,offset:l?0:v.length}):te.none())},cy=(e,n,o,r,l)=>{const f=r[l];Ut(r)&&si(r.data)&&f&&(r=f);const v=IA(e,r);for(let C=0;C<v.length;C++)for(let x=0;x<n.length;x++){const L=n[x];if(!(Ne(L.collapsed)&&L.collapsed!==o.collapsed)&&tu(L)&&e.is(v[C],L.selector))return v[C]}return r},AE=(e,n,o,r)=>{var l;let f=o;const v=e.getRoot(),C=n[0];if(kr(C)&&(f=C.wrapper?null:e.getParent(o,C.block,v)),!f){const x=(l=e.getParent(o,"LI,TD,TH"))!==null&&l!==void 0?l:v;f=e.getParent(Ut(o)?o.parentNode:o,L=>L!==v&&DA(e.schema,L),x)}if(f&&kr(C)&&C.wrapper&&(f=IA(e,f,"ul,ol").reverse()[0]||f),!f)for(f=o;f&&f[r]&&!e.isBlock(f[r])&&(f=f[r],!PT(f,"br")););return f||o},NA=(e,n,o,r)=>{const l=o.parentNode;return Ne(o[r])?!1:l===n||Et(l)||e.isBlock(l)?!0:NA(e,n,l,r)},pg=(e,n,o,r,l)=>{let f=o;const v=l?"previousSibling":"nextSibling",C=e.getRoot();if(Ut(o)&&!$T(o)&&(l?r>0:r<o.data.length))return o;for(;f;){if(!n[0].block_expand&&e.isBlock(f))return f;for(let x=f[v];x;x=x[v]){const L=Ut(x)&&!NA(e,C,x,v);if(!gg(x)&&!BT(x)&&!$T(x,L))return f}if(f===C||f.parentNode===C){o=f;break}f=f.parentNode}return o},tm=e=>gg(e.parentNode)||gg(e),X1=(e,n,o,r=!1)=>{let{startContainer:l,startOffset:f,endContainer:v,endOffset:C}=n;const x=o[0];return nn(l)&&l.hasChildNodes()&&(l=Xf(l,f),Ut(l)&&(f=0)),nn(v)&&v.hasChildNodes()&&(v=Xf(v,n.collapsed?C:C-1),Ut(v)&&(C=v.data.length)),l=FT(e,l),v=FT(e,v),tm(l)&&(l=gg(l)?l:l.parentNode,n.collapsed?l=l.previousSibling||l:l=l.nextSibling||l,Ut(l)&&(f=n.collapsed?l.length:0)),tm(v)&&(v=gg(v)?v:v.parentNode,n.collapsed?v=v.nextSibling||v:v=v.previousSibling||v,Ut(v)&&(C=n.collapsed?0:v.length)),n.collapsed&&(ay(e,e.getRoot(),l,f,!0,r).each(({container:j,offset:ne})=>{l=j,f=ne}),ay(e,e.getRoot(),v,C,!1,r).each(({container:j,offset:ne})=>{v=j,C=ne})),(Ea(x)||x.block_expand)&&((!Ea(x)||!Ut(l)||f===0)&&(l=pg(e,o,l,f,!0)),(!Ea(x)||!Ut(v)||C===v.data.length)&&(v=pg(e,o,v,C,!1))),CE(x)&&(l=cy(e,o,n,l,"previousSibling"),v=cy(e,o,n,v,"nextSibling")),(kr(x)||tu(x))&&(l=AE(e,o,l,"previousSibling"),v=AE(e,o,v,"nextSibling"),kr(x)&&(e.isBlock(l)||(l=pg(e,o,l,f,!0)),e.isBlock(v)||(v=pg(e,o,v,C,!1)))),nn(l)&&l.parentNode&&(f=e.nodeIndex(l),l=l.parentNode),nn(v)&&v.parentNode&&(C=e.nodeIndex(v)+1,v=v.parentNode),{startContainer:l,startOffset:f,endContainer:v,endOffset:C}},vb=(e,n,o)=>{var r;const l=n.startOffset,f=Xf(n.startContainer,l),v=n.endOffset,C=Xf(n.endContainer,v-1),x=Se=>{const Ve=Se[0];Ut(Ve)&&Ve===f&&l>=Ve.data.length&&Se.splice(0,1);const $e=Se[Se.length-1];return v===0&&Se.length>0&&$e===C&&Ut($e)&&Se.splice(Se.length-1,1),Se},L=(Se,Ve,$e)=>{const je=[];for(;Se&&Se!==$e;Se=Se[Ve])je.push(Se);return je},Z=(Se,Ve)=>e.getParent(Se,$e=>$e.parentNode===Ve,Ve),j=(Se,Ve,$e)=>{const je=$e?"nextSibling":"previousSibling";for(let rt=Se,St=rt.parentNode;rt&&rt!==Ve;rt=St){St=rt.parentNode;const on=L(rt===Se?rt:rt[je],je);on.length&&($e||on.reverse(),o(x(on)))}};if(f===C)return o(x([f]));const ne=(r=e.findCommonAncestor(f,C))!==null&&r!==void 0?r:e.getRoot();if(e.isChildOf(f,C))return j(f,ne,!0);if(e.isChildOf(C,f))return j(C,ne);const Ce=Z(f,ne)||f,xe=Z(C,ne)||C;j(f,Ce,!0);const he=L(Ce===f?Ce:Ce.nextSibling,"nextSibling",xe===C?xe.nextSibling:xe);he.length&&o(x(he)),j(C,xe)},VT=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],vR=e=>dr(e)&&Wr(e)===Ma,MA=(e,n,o,r)=>Vo(n).fold(()=>"skipping",l=>r==="br"||vR(n)?"valid":T_(n)?"existing":Ws(n.dom)?"caret":ko(VT,f=>da(n,f))?"valid-block":!gb(e,o,r)||!gb(e,Vs(l),o)?"invalid-child":"valid"),xE=(e,n)=>{const o=X1(e.dom,n,[{inline:"span"}]);n.setStart(o.startContainer,o.startOffset),n.setEnd(o.endContainer,o.endOffset),e.selection.setRng(n)},kA=(e,n,o,r,l,f)=>{const{uid:v=n,...C}=o;fd(e,Uh()),ho(e,`${Kf()}`,v),ho(e,`${up()}`,r);const{attributes:x={},classes:L=[]}=l(v,C);if(zr(e,x),x_(e,L),f){L.length>0&&ho(e,`${Zu()}`,L.join(","));const Z=bi(x);Z.length>0&&ho(e,`${zh()}`,Z.join(","))}},OE=e=>{sc(e,Uh()),fr(e,`${Kf()}`),fr(e,`${up()}`),fr(e,`${Kl()}`);const n=oc(e,`${zh()}`).map(r=>r.split(",")).getOr([]),o=oc(e,`${Zu()}`).map(r=>r.split(",")).getOr([]);mt(n,r=>fr(e,r)),qw(e,o),fr(e,`${Zu()}`),fr(e,`${zh()}`)},La=(e,n,o,r,l)=>{const f=Oe.fromTag("span",e);return kA(f,n,o,r,l,!1),f},_f=(e,n,o,r,l,f)=>{const v=[],C=La(e.getDoc(),o,f,r,l),x=oa(),L=()=>{x.clear()},Z=()=>x.get().getOrThunk(()=>{const xe=Zm(C);return v.push(xe),x.set(xe),xe}),j=xe=>{mt(xe,ne)},ne=xe=>{switch(MA(e,xe,"span",Vs(xe))){case"invalid-child":{L();const Se=ze(xe);j(Se),L();break}case"valid-block":{L(),kA(xe,o,f,r,l,!0);break}case"valid":{const Se=Z();Om(xe,Se);break}}},Ce=xe=>{const he=Yt(xe,Oe.fromDom);j(he)};return vb(e.dom,n,xe=>{L(),Ce(xe)}),v},Dd=(e,n,o,r)=>{e.undoManager.transact(()=>{const l=e.selection,f=l.getRng(),v=Z1(e).length>0,C=m0("mce-annotation");if(f.collapsed&&!v&&xE(e,f),l.getRng().collapsed&&!v){const x=La(e.getDoc(),C,r,n,o.decorate);Rm(x,ys),l.getRng().insertNode(x.dom),l.select(x.dom)}else yE(l,!1,()=>{MT(e,x=>{_f(e,x,C,n,o.decorate,r)})})})},ly=e=>{const n=S_();Gw(e,n);const o=Ww(e,n),r=Fc("span"),l=f=>{mt(f,v=>{r(v)?Ua(v):OE(v)})};return{register:(f,v)=>{n.register(f,v)},annotate:(f,v)=>{n.lookup(f).each(C=>{Dd(e,f,C,v)})},annotationChanged:(f,v)=>{o.addListener(f,v)},remove:f=>{f0(e,te.some(f)).each(({elements:v})=>{const C=e.selection.getBookmark();l(v),e.selection.moveToBookmark(C)})},removeAll:f=>{const v=e.selection.getBookmark();an(h0(e,f),(C,x)=>{l(C)}),e.selection.moveToBookmark(v)},getAll:f=>{const v=h0(e,f);return Ho(v,C=>Yt(C,x=>x.dom))}}},Eu=e=>({getBookmark:Ge(lR,e),moveToBookmark:Ge(Jh,e)});Eu.isBookmarkNode=Qu;const PA=(e,n,o)=>o.collapsed?!1:ko(o.getClientRects(),r=>Gv(r,e,n)),UT=(e,n)=>e.dispatch("PreProcess",n),zT=(e,n)=>e.dispatch("PostProcess",n),WT=e=>{e.dispatch("remove")},bR=e=>{e.dispatch("detach")},GT=(e,n)=>{e.dispatch("SwitchMode",{mode:n})},yR=(e,n,o,r,l)=>{e.dispatch("ObjectResizeStart",{target:n,width:o,height:r,origin:l})},_R=(e,n,o,r,l)=>{e.dispatch("ObjectResized",{target:n,width:o,height:r,origin:l})},qT=e=>{e.dispatch("PreInit")},jT=e=>{e.dispatch("PostRender")},rr=e=>{e.dispatch("Init")},nm=(e,n)=>{e.dispatch("PlaceholderToggle",{state:n})},ZT=(e,n,o)=>{e.dispatch(n,o)},YT=(e,n,o,r)=>{e.dispatch("FormatApply",{format:n,node:o,vars:r})},KT=(e,n,o,r)=>{e.dispatch("FormatRemove",{format:n,node:o,vars:r})},XT=(e,n)=>e.dispatch("BeforeSetContent",n),QT=(e,n)=>e.dispatch("SetContent",n),JT=(e,n)=>e.dispatch("BeforeGetContent",n),eC=(e,n)=>e.dispatch("GetContent",n),ER=(e,n)=>{e.dispatch("AutocompleterStart",n)},LA=(e,n)=>{e.dispatch("AutocompleterUpdate",n)},wR=e=>{e.dispatch("AutocompleterEnd")},tC=(e,n,o)=>e.dispatch("PastePreProcess",{content:n,internal:o}),TR=(e,n,o)=>e.dispatch("PastePostProcess",{node:n,internal:o}),Ap=(e,n)=>e.dispatch("PastePlainTextToggle",{state:n}),Cn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Cn.metaKeyPressed(e),metaKeyPressed:e=>Do.os.isMacOS()||Do.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},vg="data-mce-selected",CR="table,img,figure.image,hr,video,span.mce-preview-object",qi=Math.abs,Si=Math.round,xp={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},RE=e=>e.type==="longpress"||e.type.indexOf("touch")===0,$A=(e,n)=>{const o=n.dom,r=n.getDoc(),l=document,f=n.getBody();let v,C,x,L,Z,j,ne,Ce,xe,he,Se,Ve,$e,je,rt,St,on;const jt=hn=>Ne(hn)&&(jg(hn)||o.is(hn,"figure.image")),ft=hn=>or(hn)||o.hasClass(hn,"mce-preview-object"),dt=(hn,Wo)=>{if(RE(hn)){const Go=hn.touches[0];return jt(hn.target)&&!PA(Go.clientX,Go.clientY,Wo)}else return jt(hn.target)&&!PA(hn.clientX,hn.clientY,Wo)},bn=hn=>{const Wo=hn.target;dt(hn,n.selection.getRng())&&!hn.isDefaultPrevented()&&n.selection.select(Wo)},Ln=hn=>o.hasClass(hn,"mce-preview-object")&&Ne(hn.firstElementChild)?[hn,hn.firstElementChild]:o.is(hn,"figure.image")?[hn.querySelector("img")]:[hn],Gn=hn=>{const Wo=G_(n);return!Wo||hn.getAttribute("data-mce-resize")==="false"||hn===n.getBody()?!1:o.hasClass(hn,"mce-preview-object")&&Ne(hn.firstElementChild)?da(Oe.fromDom(hn.firstElementChild),Wo):da(Oe.fromDom(hn),Wo)},wo=hn=>ft(hn)?o.create("img",{src:Do.transparentSrc}):hn.cloneNode(!0),Qo=(hn,Wo,Go)=>{if(Ne(Go)){const gc=Ln(hn);mt(gc,Vr=>{Vr.style[Wo]||!n.schema.isValid(Vr.nodeName.toLowerCase(),Wo)?o.setStyle(Vr,Wo,Go):o.setAttrib(Vr,Wo,""+Go)})}},Ds=(hn,Wo,Go)=>{Qo(hn,"width",Wo),Qo(hn,"height",Go)},ar=hn=>{let Wo,Go,gc,Vr,go;Wo=hn.screenX-j,Go=hn.screenY-ne,je=Wo*L[2]+he,rt=Go*L[3]+Se,je=je<5?5:je,rt=rt<5?5:rt,(jt(v)||ft(v))&&q_(n)!==!1?gc=!Cn.modifierPressed(hn):gc=Cn.modifierPressed(hn),gc&&(qi(Wo)>qi(Go)?(rt=Si(je*Ve),je=Si(rt/Ve)):(je=Si(rt/Ve),rt=Si(je*Ve))),Ds(C,je,rt),Vr=L.startPos.x+Wo,go=L.startPos.y+Go,Vr=Vr>0?Vr:0,go=go>0?go:0,o.setStyles(x,{left:Vr,top:go,display:"block"}),x.innerHTML=je+" &times; "+rt,L[2]<0&&C.clientWidth<=je&&o.setStyle(C,"left",Ce+(he-je)),L[3]<0&&C.clientHeight<=rt&&o.setStyle(C,"top",xe+(Se-rt)),Wo=f.scrollWidth-St,Go=f.scrollHeight-on,Wo+Go!==0&&o.setStyles(x,{left:Vr-Wo,top:go-Go}),$e||(yR(n,v,he,Se,"corner-"+L.name),$e=!0)},Ri=()=>{const hn=$e;$e=!1,hn&&(Qo(v,"width",je),Qo(v,"height",rt)),o.unbind(r,"mousemove",ar),o.unbind(r,"mouseup",Ri),l!==r&&(o.unbind(l,"mousemove",ar),o.unbind(l,"mouseup",Ri)),o.remove(C),o.remove(x),o.remove(Z),kc(v),hn&&(_R(n,v,je,rt,"corner-"+L.name),o.setAttrib(v,"style",o.getAttrib(v,"style"))),n.nodeChanged()},kc=hn=>{un();const Wo=o.getPos(hn,f),Go=Wo.x,gc=Wo.y,Vr=hn.getBoundingClientRect(),go=Vr.width||Vr.right-Vr.left,gs=Vr.height||Vr.bottom-Vr.top;v!==hn&&(Gt(),v=hn,je=rt=0);const Ks=n.dispatch("ObjectSelected",{target:hn});Gn(hn)&&!Ks.isDefaultPrevented()?an(xp,(cr,mi)=>{const Zi=wa=>{const ch=Ln(v)[0];j=wa.screenX,ne=wa.screenY,he=ch.clientWidth,Se=ch.clientHeight,Ve=Se/he,L=cr,L.name=mi,L.startPos={x:go*cr[0]+Go,y:gs*cr[1]+gc},St=f.scrollWidth,on=f.scrollHeight,Z=o.add(f,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(Z,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),C=wo(v),o.addClass(C,"mce-clonedresizable"),o.setAttrib(C,"data-mce-bogus","all"),C.contentEditable="false",o.setStyles(C,{left:Go,top:gc,margin:0}),Ds(C,go,gs),C.removeAttribute(vg),f.appendChild(C),o.bind(r,"mousemove",ar),o.bind(r,"mouseup",Ri),l!==r&&(o.bind(l,"mousemove",ar),o.bind(l,"mouseup",Ri)),x=o.add(f,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},he+" &times; "+Se)};let qr=o.get("mceResizeHandle"+mi);qr&&o.remove(qr),qr=o.add(f,"div",{id:"mceResizeHandle"+mi,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+mi+"-resize; margin:0; padding:0"}),o.bind(qr,"mousedown",wa=>{wa.stopImmediatePropagation(),wa.preventDefault(),Zi(wa)}),cr.elm=qr,o.setStyles(qr,{left:go*cr[0]+Go-qr.offsetWidth/2,top:gs*cr[1]+gc-qr.offsetHeight/2})}):Gt(!1)},Ka=pu(kc,0),Gt=(hn=!0)=>{Ka.cancel(),un(),v&&hn&&v.removeAttribute(vg),an(xp,(Wo,Go)=>{const gc=o.get("mceResizeHandle"+Go);gc&&(o.unbind(gc),o.remove(gc))})},Rn=(hn,Wo)=>o.isChildOf(hn,Wo),hs=hn=>{if($e||n.removed||n.composing)return;const Wo=hn.type==="mousedown"?hn.target:e.getNode(),Go=Vl(Oe.fromDom(Wo),CR).map(Vr=>Vr.dom).filter(Vr=>o.isEditable(Vr.parentElement)).getOrUndefined(),gc=Ne(Go)?o.getAttrib(Go,vg,"1"):"1";if(mt(o.select(`img[${vg}],hr[${vg}]`),Vr=>{Vr.removeAttribute(vg)}),Ne(Go)&&Rn(Go,f)){Vn();const Vr=e.getStart(!0);if(Rn(Vr,Go)&&Rn(e.getEnd(!0),Go)){o.setAttrib(Go,vg,gc),Ka.throttle(Go);return}}Gt()},un=()=>{an(xp,hn=>{hn.elm&&(o.unbind(hn.elm),delete hn.elm)})},Vn=()=>{try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return n.on("init",()=>{Vn(),n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",hs),n.on("keyup compositionend",hn=>{v&&v.nodeName==="TABLE"&&hs(hn)}),n.on("hide blur",Gt),n.on("contextmenu longpress",bn,!0)}),n.on("remove",un),{isResizable:Gn,showResizeRect:kc,hideResizeRect:Gt,updateResizeRect:hs,destroy:()=>{Ka.cancel(),v=C=Z=null}}},SR=(e,n)=>{n.fold(o=>{e.setStartBefore(o.dom)},(o,r)=>{e.setStart(o.dom,r)},o=>{e.setStartAfter(o.dom)})},Xo=(e,n)=>{n.fold(o=>{e.setEndBefore(o.dom)},(o,r)=>{e.setEnd(o.dom,r)},o=>{e.setEndAfter(o.dom)})},BA=(e,n,o)=>{const r=e.document.createRange();return SR(r,n),Xo(r,o),r},IE=(e,n,o,r,l)=>{const f=e.document.createRange();return f.setStart(n.dom,o),f.setEnd(r.dom,l),f},Q1=Xu.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),FA=(e,n,o)=>n(Oe.fromDom(o.startContainer),o.startOffset,Oe.fromDom(o.endContainer),o.endOffset),AR=(e,n)=>n.match({domRange:o=>({ltr:et(o),rtl:te.none}),relative:(o,r)=>({ltr:hl(()=>BA(e,o,r)),rtl:hl(()=>te.some(BA(e,r,o)))}),exact:(o,r,l,f)=>({ltr:hl(()=>IE(e,o,r,l,f)),rtl:hl(()=>te.some(IE(e,l,f,o,r)))})}),nC=(e,n)=>{const o=n.ltr();return o.collapsed?n.rtl().filter(l=>l.collapsed===!1).map(l=>Q1.rtl(Oe.fromDom(l.endContainer),l.endOffset,Oe.fromDom(l.startContainer),l.startOffset)).getOrThunk(()=>FA(e,Q1.ltr,o)):FA(e,Q1.ltr,o)},xR=(e,n)=>{const o=AR(e,n);return nC(e,o)};Q1.ltr,Q1.rtl;const HA={create:(e,n,o,r)=>({start:e,soffset:n,finish:o,foffset:r})},oC=(e,n,o)=>{var r,l;return te.from((l=(r=e.dom).caretPositionFromPoint)===null||l===void 0?void 0:l.call(r,n,o)).bind(f=>{if(f.offsetNode===null)return te.none();const v=e.dom.createRange();return v.setStart(f.offsetNode,f.offset),v.collapse(),te.some(v)})},sC=(e,n,o)=>{var r,l;return te.from((l=(r=e.dom).caretRangeFromPoint)===null||l===void 0?void 0:l.call(r,n,o))},VA=(()=>document.caretPositionFromPoint?oC:document.caretRangeFromPoint?sC:te.none)(),mk=(e,n,o)=>{const r=Oe.fromDom(e.document);return VA(r,n,o).map(l=>HA.create(Oe.fromDom(l.startContainer),l.startOffset,Oe.fromDom(l.endContainer),l.endOffset))},DE=Xu.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),KH=(e,n,o,r)=>e.fold(n,o,r),OR=e=>e.fold(qt,qt,qt),RR=DE.before,gk=DE.on,no=DE.after,bg={before:RR,on:gk,after:no,cata:KH,getStart:OR},rC=Xu.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),IR=e=>rC.exact(e.start,e.soffset,e.finish,e.foffset),uy=e=>e.match({domRange:n=>Oe.fromDom(n.startContainer),relative:(n,o)=>bg.getStart(n),exact:(n,o,r,l)=>n}),pk=rC.domRange,NE=rC.relative,DR=rC.exact,NR=e=>{const n=uy(e);return _o(n)},iC=HA.create,bb={domRange:pk,relative:NE,exact:DR,exactFromRange:IR,getWin:NR,range:iC},yb=(e,n)=>{const o=Vs(e);return o==="input"?bg.after(e):kn(["br","img"],o)?n===0?bg.before(e):bg.after(e):bg.on(e,n)},aC=(e,n)=>{const o=e.fold(bg.before,yb,bg.after),r=n.fold(bg.before,yb,bg.after);return bb.relative(o,r)},ME=(e,n,o,r)=>{const l=yb(e,n),f=yb(o,r);return bb.relative(l,f)},cC=e=>e.match({domRange:n=>{const o=Oe.fromDom(n.startContainer),r=Oe.fromDom(n.endContainer);return ME(o,n.startOffset,r,n.endOffset)},relative:aC,exact:ME}),lC=(e,n)=>{const r=(n||document).createDocumentFragment();return mt(e,l=>{r.appendChild(l.dom)}),Oe.fromDom(r)},MR=e=>{const n=bb.getWin(e).dom,o=(l,f,v,C)=>IE(n,l,f,v,C),r=cC(e);return xR(n,r).match({ltr:o,rtl:o})},kE=(e,n,o)=>mk(e,n,o),uC=(e,n,o)=>{const r=_o(Oe.fromDom(o));return kE(r.dom,e,n).map(l=>{const f=o.createRange();return f.setStart(l.start.dom,l.soffset),f.setEnd(l.finish.dom,l.foffset),f}).getOrUndefined()},dC=(e,n)=>Ne(e)&&Ne(n)&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset,ms=(e,n,o)=>{let r=e;for(;r&&r!==n;){if(o(r))return r;r=r.parentNode}return null},UA=(e,n,o)=>ms(e,n,o)!==null,om=(e,n,o)=>UA(e,n,r=>r.nodeName===o),nh=(e,n)=>wl(e)&&!UA(e,n,Ws),dy=(e,n,o)=>{const r=n.parentNode;if(r){const l=new ai(n,e.getParent(r,e.isBlock)||e.getRoot());let f;for(;f=l[o?"prev":"next"]();)if(hr(f))return!0}return!1},wu=(e,n)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===n},PE=(e,n)=>{let o=n;for(;o&&o!==e;){if(Po(o))return!0;o=o.parentNode}return!1},J1=(e,n,o,r,l)=>{const f=e.getRoot(),v=e.schema.getNonEmptyElements(),C=l.parentNode;let x,L;if(!C)return te.none();const Z=e.getParent(C,e.isBlock)||f;if(r&&hr(l)&&n&&e.isEmpty(Z))return te.some(Ye(C,e.nodeIndex(l)));const j=new ai(l,Z);for(;L=j[r?"prev":"next"]();){if(e.getContentEditableParent(L)==="false"||nh(L,f))return te.none();if(Ut(L)&&L.data.length>0)return om(L,f,"A")?te.none():te.some(Ye(L,r?L.data.length:0));if(e.isBlock(L)||v[L.nodeName.toLowerCase()])return te.none();x=L}return Wa(x)?te.none():o&&x?te.some(Ye(x,0)):te.none()},fy=(e,n,o,r)=>{const l=e.getRoot();let f,v=!1,C=o?r.startContainer:r.endContainer,x=o?r.startOffset:r.endOffset;const L=nn(C)&&x===C.childNodes.length,Z=e.schema.getNonEmptyElements();let j=o;if(wl(C))return te.none();if(nn(C)&&x>C.childNodes.length-1&&(j=!1),bd(C)&&(C=l,x=0),C===l){if(j&&(f=C.childNodes[x>0?x-1:0],f&&(wl(f)||Z[f.nodeName]||Dr(f))))return te.none();if(C.hasChildNodes()){if(x=Math.min(!j&&x>0?x-1:x,C.childNodes.length-1),C=C.childNodes[x],x=Ut(C)&&L?C.data.length:0,!n&&C===l.lastChild&&Dr(C)||PE(l,C)||wl(C))return te.none();if(C.hasChildNodes()&&!Dr(C)){f=C;const ne=new ai(C,l);do{if(Po(f)||wl(f)){v=!1;break}if(Ut(f)&&f.data.length>0){x=j?0:f.data.length,C=f,v=!0;break}if(Z[f.nodeName.toLowerCase()]&&!Cc(f)){x=e.nodeIndex(f),C=f.parentNode,j||x++,v=!0;break}}while(f=j?ne.next():ne.prev())}}}return n&&(Ut(C)&&x===0&&J1(e,L,n,!0,C).each(ne=>{C=ne.container(),x=ne.offset(),v=!0}),nn(C)&&(f=C.childNodes[x],f||(f=C.childNodes[x-1]),f&&hr(f)&&!wu(f,"A")&&!dy(e,f,!1)&&!dy(e,f,!0)&&J1(e,L,n,!0,f).each(ne=>{C=ne.container(),x=ne.offset(),v=!0}))),j&&!n&&Ut(C)&&x===C.data.length&&J1(e,L,n,!1,C).each(ne=>{C=ne.container(),x=ne.offset(),v=!0}),v&&C?te.some(Ye(C,x)):te.none()},yg=(e,n)=>{const o=n.collapsed,r=n.cloneRange(),l=Ye.fromRangeStart(n);return fy(e,o,!0,r).each(f=>{(!o||!Ye.isAbove(l,f))&&r.setStart(f.container(),f.offset())}),o||fy(e,o,!1,r).each(f=>{r.setEnd(f.container(),f.offset())}),o&&r.collapse(!0),dC(n,r)?te.none():te.some(r)},fC=(e,n)=>e.splitText(n),LE=e=>{let n=e.startContainer,o=e.startOffset,r=e.endContainer,l=e.endOffset;if(n===r&&Ut(n)){if(o>0&&o<n.data.length)if(r=fC(n,o),n=r.previousSibling,l>o){l=l-o;const f=fC(r,l).previousSibling;n=r=f,l=f.data.length,o=0}else l=0}else if(Ut(n)&&o>0&&o<n.data.length&&(n=fC(n,o),o=0),Ut(r)&&l>0&&l<r.data.length){const f=fC(r,l).previousSibling;r=f,l=f.data.length}return{startContainer:n,startOffset:o,endContainer:r,endOffset:l}},_b=e=>({walk:(f,v)=>vb(e,f,v),split:LE,expand:(f,v={type:"word"})=>{if(v.type==="word"){const C=X1(e,f,[{inline:"span"}]),x=e.createRng();return x.setStart(C.startContainer,C.startOffset),x.setEnd(C.endContainer,C.endOffset),x}return f},normalize:f=>yg(e,f).fold(Je,v=>(f.setStart(v.startContainer,v.startOffset),f.setEnd(v.endContainer,v.endOffset),!0))});_b.compareRanges=dC,_b.getCaretRangeFromPoint=uC,_b.getSelectedNode=xl,_b.getNode=Xf;const rs=((e,n)=>{const o=(C,x)=>{if(!gn(x)&&!x.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+x);const L=C.dom;fa(L)&&(L.style[e]=x+"px")},r=C=>{const x=n(C);if(x<=0||x===null){const L=$u(C,e);return parseFloat(L)||0}return x},l=r,f=(C,x)=>Ns(x,(L,Z)=>{const j=$u(C,Z),ne=j===void 0?0:parseInt(j,10);return isNaN(ne)?L:L+ne},0);return{set:o,get:r,getOuter:l,aggregate:f,max:(C,x,L)=>{const Z=f(C,L);return x>Z?x-Z:0}}})("height",e=>{const n=e.dom;return Qs(e)?n.getBoundingClientRect().height:n.offsetHeight}),Ef=e=>rs.get(e),ev=()=>Oe.fromDom(document),zA=(e,n)=>e.view(n).fold(et([]),r=>{const l=e.owner(r),f=zA(e,l);return[r].concat(f)}),hy=(e,n)=>{const o=n.owner(e);return zA(n,o)};var GA=Object.freeze({__proto__:null,view:e=>{var n;return(e.dom===document?te.none():te.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement)).map(Oe.fromDom)},owner:e=>xt(e)});const hC=e=>{const n=ev(),o=c1(n),r=hy(e,GA),l=Fu(e),f=Lr(r,(v,C)=>{const x=Fu(C);return{left:v.left+x.left,top:v.top+x.top}},{left:0,top:0});return ma(f.left+l.left+o.left,f.top+l.top+o.top)},mC=e=>Vs(e)==="textarea",Eb=(e,n)=>e.dispatch("ScrollIntoView",n).isDefaultPrevented(),tv=(e,n)=>{e.dispatch("AfterScrollIntoView",n)},qA=(e,n)=>{const o=ze(e);if(o.length===0||mC(e))return{element:e,offset:n};if(n<o.length&&!mC(o[n]))return{element:o[n],offset:0};{const r=o[o.length-1];return mC(r)?{element:e,offset:n}:Vs(r)==="img"?{element:r,offset:1}:dr(r)?{element:r,offset:Wr(r).length}:{element:r,offset:ze(r).length}}},d=(e,n)=>{const o=e0(e),r=Ef(e);return{element:e,bottom:o.top+r,height:r,pos:o,cleanup:n}},p=(e,n)=>{const o=qA(e,n),r=Oe.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Ma+"</span>");return us(o.element,r),d(r,()=>wr(r))},E=e=>d(Oe.fromDom(e),Ot),S=(e,n,o,r)=>{le(e,(l,f)=>V(e,n,o,r),o)},k=(e,n,o,r,l)=>{const f={elm:r.element.dom,alignToTop:l};if(Eb(e,f))return;const v=c1(n).top;o(n,v,r,l),tv(e,f)},V=(e,n,o,r)=>{const l=Oe.fromDom(e.getBody()),f=Oe.fromDom(e.getDoc());xm(l);const v=p(Oe.fromDom(o.startContainer),o.startOffset);k(e,f,n,v,r),v.cleanup()},J=(e,n,o,r)=>{const l=Oe.fromDom(e.getDoc());k(e,l,o,E(n),r)},le=(e,n,o)=>{const r=o.startContainer,l=o.startOffset,f=o.endContainer,v=o.endOffset;n(Oe.fromDom(r),Oe.fromDom(f));const C=e.dom.createRng();C.setStart(r,l),C.setEnd(f,v),e.selection.setRng(o)},ye=(e,n,o,r)=>{const l=e.pos;if(o)za(l.left,l.top,r);else{const f=l.top-n+e.height;za(l.left,f,r)}},Re=(e,n,o,r,l)=>{const f=o+n,v=r.pos.top,C=r.bottom,x=C-v>=o;v<n?ye(r,o,l!==!1,e):v>f?ye(r,o,x?l!==!1:l===!0,e):C>f&&!x&&ye(r,o,l===!0,e)},Ke=(e,n,o,r)=>{const l=_o(e).dom.innerHeight;Re(e,n,l,o,r)},$t=(e,n,o,r)=>{const l=_o(e).dom.innerHeight;Re(e,n,l,o,r);const f=hC(o.element),v=$f(window);f.top<v.y?Lf(o.element,r!==!1):f.top>v.bottom&&Lf(o.element,r===!0)},cn=(e,n,o)=>S(e,Ke,n,o),tn=(e,n,o)=>J(e,n,Ke,o),Tt=(e,n,o)=>S(e,$t,n,o),rn=(e,n,o)=>J(e,n,$t,o),_t=(e,n,o)=>{(e.inline?tn:rn)(e,n,o)},wn=(e,n,o)=>{(e.inline?cn:Tt)(e,n,o)},Qn=e=>e.dom.focus(),yo=e=>{const n=so(e).dom;return e.dom===n.activeElement},ir=(e=ev())=>te.from(e.dom.activeElement).map(Oe.fromDom),hc=e=>ir(so(e)).filter(n=>e.dom.contains(n.dom)),fi=(e,n)=>{const o=dr(n)?Wr(n).length:ze(n).length+1;return e>o?o:e<0?0:e},Tu=e=>bb.range(e.start,fi(e.soffset,e.start),e.finish,fi(e.foffset,e.finish)),Op=(e,n)=>!Pn(n.dom)&&(Qe(e,n)||ns(e,n)),my=e=>n=>Op(e,n.start)&&Op(e,n.finish),gC=e=>e.inline||Do.browser.isFirefox(),$E=e=>bb.range(Oe.fromDom(e.startContainer),e.startOffset,Oe.fromDom(e.endContainer),e.endOffset),Ys=e=>{const n=e.getSelection();return(!n||n.rangeCount===0?te.none():te.from(n.getRangeAt(0))).map($E)},Rl=e=>{const n=_o(e);return Ys(n.dom).filter(my(e))},Il=(e,n)=>te.from(n).filter(my(e)).map(Tu),wf=e=>{const n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),te.some(n)}catch{return te.none()}},Cu=e=>{const n=gC(e)?Rl(Oe.fromDom(e.getBody())):te.none();e.bookmark=n.isSome()?n:e.bookmark},Rp=e=>(e.bookmark?e.bookmark:te.none()).bind(o=>Il(Oe.fromDom(e.getBody()),o)).bind(wf),Dl=e=>{Rp(e).each(n=>e.selection.setRng(n))},wb={isEditorUIElement:e=>{const n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1}},Nd=(e,n)=>(gn(n)||(n=0),setTimeout(e,n)),Mc=(e,n)=>(gn(n)||(n=0),setInterval(e,n)),Md={setEditorTimeout:(e,n,o)=>Nd(()=>{e.removed||n()},o),setEditorInterval:(e,n,o)=>{const r=Mc(()=>{e.removed?clearInterval(r):n()},o);return r}},ZA=e=>e.type==="nodechange"&&e.selectionChange,YA=(e,n)=>{const o=()=>{n.throttle()};sr.DOM.bind(document,"mouseup",o),e.on("remove",()=>{sr.DOM.unbind(document,"mouseup",o)})},kR=(e,n)=>{e.on("mouseup touchend",o=>{n.throttle()})},PR=(e,n)=>{kR(e,n),e.on("keyup NodeChange AfterSetSelectionRange",o=>{ZA(o)||Cu(e)})},pC=e=>{const n=pu(()=>{Cu(e)},0);e.on("init",()=>{e.inline&&YA(e,n),PR(e,n)}),e.on("remove",()=>{n.cancel()})};let Tb;const nv=sr.DOM,vk=e=>nn(e)&&wb.isEditorUIElement(e),KA=e=>{const n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},gy=(e,n)=>{const o=$1(e);return nv.getParent(n,l=>vk(l)||(o?e.dom.is(l,o):!1))!==null},LR=e=>{try{const n=so(Oe.fromDom(e.getElement()));return ir(n).fold(()=>document.body,o=>o.dom)}catch{return document.body}},QH=(e,n)=>{const o=n.editor;pC(o);const r=(l,f)=>{if(tE(l)&&l.inline!==!0){const v=Oe.fromDom(l.getContainer());f(v,"tox-edit-focus")}};o.on("focusin",()=>{const l=e.focusedEditor;KA(LR(o))&&r(o,fd),l!==o&&(l&&l.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:l}),o.focus(!0))}),o.on("focusout",()=>{Md.setEditorTimeout(o,()=>{const l=e.focusedEditor;(!KA(LR(o))||l!==o)&&r(o,sc),!gy(o,LR(o))&&l===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Tb||(Tb=l=>{const f=e.activeEditor;f&&$i(l).each(v=>{const C=v;C.ownerDocument===document&&C!==document.body&&!gy(f,C)&&e.focusedEditor===f&&(f.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},nv.bind(document,"focusin",Tb))},$R=(e,n)=>{e.focusedEditor===n.editor&&(e.focusedEditor=null),!e.activeEditor&&Tb&&(nv.unbind(document,"focusin",Tb),Tb=null)},JH=e=>{e.on("AddEditor",Ge(QH,e)),e.on("RemoveEditor",Ge($R,e))},bk=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="true"),yk=e=>e.collapsed?te.from(Xf(e.startContainer,e.startOffset)).map(Oe.fromDom):te.none(),_k=(e,n)=>yk(n).bind(o=>ta(o)?te.some(o):Qe(e,o)?te.none():te.some(e)),Ek=(e,n)=>{_k(Oe.fromDom(e.getBody()),n).bind(o=>ei(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},BR=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},e6=e=>yo(e)||hc(e).isSome(),t6=e=>Ne(e.iframeElement)&&yo(Oe.fromDom(e.iframeElement)),XA=e=>{const n=e.getBody();return n&&e6(Oe.fromDom(n))},wk=e=>{const n=so(Oe.fromDom(e.getElement()));return ir(n).filter(o=>!KA(o.dom)&&gy(e,o.dom)).isSome()},Cb=e=>e.inline?XA(e):t6(e),Tk=e=>Cb(e)||wk(e),Ck=e=>{const n=e.selection,o=e.getBody();let r=n.getRng();e.quirks.refreshContentEditable(),Ne(e.bookmark)&&!Cb(e)&&Rp(e).each(f=>{e.selection.setRng(f),r=f});const l=bk(e,n.getNode());if(l&&e.dom.isChildOf(l,o)){BR(l),Ek(e,r),FR(e);return}e.inline||(Do.browser.isOpera()||BR(o),e.getWin().focus()),(Do.browser.isFirefox()||e.inline)&&(BR(o),Ek(e,r)),FR(e)},FR=e=>e.editorManager.setActive(e),n6=(e,n)=>{e.removed||(n?FR(e):Ck(e))},Sk=(e,n,o,r,l)=>{const f=o?n.startContainer:n.endContainer,v=o?n.startOffset:n.endOffset;return te.from(f).map(Oe.fromDom).map(C=>!r||!n.collapsed?Ht(C,l(C,v)).getOr(C):C).bind(C=>is(C)?te.some(C):Vo(C).filter(is)).map(C=>C.dom).getOr(e)},Ak=(e,n,o=!1)=>Sk(e,n,!0,o,(r,l)=>Math.min(Xt(r),l)),xk=(e,n,o=!1)=>Sk(e,n,!1,o,(r,l)=>l>0?l-1:l),Ok=(e,n)=>{const o=e;for(;e&&Ut(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||o},o6=(e,n)=>{if(!n)return e;let o=n.startContainer,r=n.endContainer;const l=n.startOffset,f=n.endOffset;let v=n.commonAncestorContainer;n.collapsed||(o===r&&f-l<2&&o.hasChildNodes()&&(v=o.childNodes[l]),Ut(o)&&Ut(r)&&(o.length===l?o=Ok(o.nextSibling,!0):o=o.parentNode,f===0?r=Ok(r.previousSibling,!1):r=r.parentNode,o&&o===r&&(v=o)));const C=Ut(v)?v.parentNode:v;return nn(C)?C:e},s6=(e,n,o,r)=>{const l=[],f=e.getRoot(),v=e.getParent(o||Ak(f,n,n.collapsed),e.isBlock),C=e.getParent(r||xk(f,n,n.collapsed),e.isBlock);if(v&&v!==f&&l.push(v),v&&C&&v!==C){let x;const L=new ai(v,f);for(;(x=L.next())&&x!==C;)e.isBlock(x)&&l.push(x)}return C&&v!==C&&C!==f&&l.push(C),l},r6=(e,n,o)=>te.from(n).bind(r=>te.from(r.parentNode).map(l=>{const f=e.nodeIndex(r),v=e.createRng();return v.setStart(l,f),v.setEnd(l,f+1),o&&(bE(e,v,r,!0),bE(e,v,r,!1)),v})),HR=(e,n)=>Yt(n,o=>{const r=e.dispatch("GetSelectionRange",{range:o});return r.range!==o?r.range:o}),i6=e=>Vs(e)==="img"?1:Gl(e).fold(()=>ze(e).length,n=>n.length),a6=e=>Gl(e).filter(n=>n.trim().length!==0||n.indexOf(ys)>-1).isSome(),QA=e=>Ei(e)&&Pi(e,"contenteditable")==="false",Rk=["img","br"],VR=e=>a6(e)||kn(Rk,Vs(e))||QA(e),c6=e=>s1(e,VR),l6=e=>u6(e,VR),u6=(e,n)=>{const o=r=>{const l=ze(r);for(let f=l.length-1;f>=0;f--){const v=l[f];if(n(v))return te.some(v);const C=o(v);if(C.isSome())return C}return te.none()};return o(e)},Ik="[data-mce-autocompleter]",d6=(e,n)=>{if(UR(Oe.fromDom(e.getBody())).isNone()){const o=Oe.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());Er(o,Oe.fromDom(n.extractContents())),n.insertNode(o.dom),Vo(o).each(r=>r.dom.normalize()),l6(o).map(r=>{e.selection.setCursorLocation(r.dom,i6(r))})}},f6=e=>Vl(e,Ik),UR=e=>Yd(e,Ik),h6=(e,n)=>UR(n).each(o=>{const r=e.selection.getBookmark();Ua(o),e.selection.moveToBookmark(r)}),Dk={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},vC=(e,n,o)=>{const r=o?"lastChild":"firstChild",l=o?"prev":"next";if(e[r])return e[r];if(e!==n){let f=e[l];if(f)return f;for(let v=e.parent;v&&v!==n;v=v.parent)if(f=v[l],f)return f}},m6=e=>{var n;const o=(n=e.value)!==null&&n!==void 0?n:"";if(!Hc(o))return!1;const r=e.parent;return!(r&&(r.name!=="span"||r.attr("style"))&&/^[ ]+$/.test(o))},Nk=e=>{const n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n};class Ju{constructor(n,o){this.name=n,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}static create(n,o){const r=new Ju(n,Dk[n]||1);return o&&an(o,(l,f)=>{r.attr(f,l)}),r}replace(n){const o=this;return n.parent&&n.remove(),o.insert(n,o),o.remove(),o}attr(n,o){const r=this;if(!oe(n))return Ne(n)&&an(n,(f,v)=>{r.attr(v,f)}),r;const l=r.attributes;if(l){if(o!==void 0){if(o===null){if(n in l.map){delete l.map[n];let f=l.length;for(;f--;)if(l[f].name===n)return l.splice(f,1),r}return r}if(n in l.map){let f=l.length;for(;f--;)if(l[f].name===n){l[f].value=o;break}}else l.push({name:n,value:o});return l.map[n]=o,r}return l.map[n]}}clone(){const n=this,o=new Ju(n.name,n.type),r=n.attributes;if(r){const l=[];l.map={};for(let f=0,v=r.length;f<v;f++){const C=r[f];C.name!=="id"&&(l[l.length]={name:C.name,value:C.value},l.map[C.name]=C.value)}o.attributes=l}return o.value=n.value,o}wrap(n){const o=this;return o.parent&&(o.parent.insert(n,o),n.append(o)),o}unwrap(){const n=this;for(let o=n.firstChild;o;){const r=o.next;n.insert(o,n,!0),o=r}n.remove()}remove(){const n=this,o=n.parent,r=n.next,l=n.prev;return o&&(o.firstChild===n?(o.firstChild=r,r&&(r.prev=null)):l&&(l.next=r),o.lastChild===n?(o.lastChild=l,l&&(l.next=null)):r&&(r.prev=l),n.parent=n.next=n.prev=null),n}append(n){const o=this;n.parent&&n.remove();const r=o.lastChild;return r?(r.next=n,n.prev=r,o.lastChild=n):o.lastChild=o.firstChild=n,n.parent=o,n}insert(n,o,r){n.parent&&n.remove();const l=o.parent||this;return r?(o===l.firstChild?l.firstChild=n:o.prev&&(o.prev.next=n),n.prev=o.prev,n.next=o,o.prev=n):(o===l.lastChild?l.lastChild=n:o.next&&(o.next.prev=n),n.next=o.next,n.prev=o,o.next=n),n.parent=l,n}getAll(n){const o=this,r=[];for(let l=o.firstChild;l;l=vC(l,o))l.name===n&&r.push(l);return r}children(){const n=this,o=[];for(let r=n.firstChild;r;r=r.next)o.push(r);return o}empty(){const n=this;if(n.firstChild){const o=[];for(let l=n.firstChild;l;l=vC(l,n))o.push(l);let r=o.length;for(;r--;){const l=o[r];l.parent=l.firstChild=l.lastChild=l.next=l.prev=null}}return n.firstChild=n.lastChild=null,n}isEmpty(n,o={},r){var l;const f=this;let v=f.firstChild;if(Nk(f))return!1;if(v)do{if(v.type===1){if(v.attr("data-mce-bogus"))continue;if(n[v.name]||Nk(v))return!1}if(v.type===8||v.type===3&&!m6(v)||v.type===3&&v.parent&&o[v.parent.name]&&Hc((l=v.value)!==null&&l!==void 0?l:"")||r&&r(v))return!1}while(v=vC(v,f));return!0}walk(n){return vC(this,null,n)}}const g6=(e,n)=>/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(n)),Mk=(e,n,o=0)=>{const r=e.toLowerCase();if(r.indexOf("[if ",o)!==-1&&g6(r,o)){const l=r.indexOf("[endif]",o);return r.indexOf(">",l)}else if(n){const l=r.indexOf(">",o);return l!==-1?l:r.length}else{const l=/--!?>/g;l.lastIndex=o;const f=l.exec(e);return f?f.index+f[0].length:r.length}},p6=(e,n,o)=>{const r=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,l=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,f=e.getVoidElements();let v=1,C=o;for(;v!==0;)for(r.lastIndex=C;;){const x=r.exec(n);if(x===null)return C;if(x[1]==="!"){_i(x[2],"--")?C=Mk(n,!1,x.index+3):C=Mk(n,!0,x.index+1);break}else{l.lastIndex=r.lastIndex;const L=l.exec(n);if(Ee(L)||L.index!==r.lastIndex)continue;x[1]==="/"?v-=1:qn(f,x[2])||(v+=1),C=r.lastIndex+L[0].length;break}}return C},v6=(e,n)=>{const o=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return n.replace(o,"")},kk=(e,n)=>{const o=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,r=e.schema;let l=v6(e.getTempAttrs(),n);const f=r.getVoidElements();let v;for(;v=o.exec(l);){const C=o.lastIndex,x=v[0].length;let L;f[v[1]]?L=C:L=p6(r,l,C),l=l.substring(0,C-x)+l.substring(L),o.lastIndex=C-x}return yd(l)},b6=kk,Pk=e=>{const n=Qr(e,"[data-mce-bogus]");mt(n,o=>{Pi(o,"data-mce-bogus")==="all"?wr(o):Ko(o)?(us(o,Oe.fromText(jr)),wr(o)):Ua(o)})},Lk=e=>{const n=Qr(e,"input");mt(n,o=>{fr(o,"name")})},y6=(e,n)=>{const o=yu(e),r=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(r,"")},_6=(e,n)=>{const o=e.getDoc(),r=so(Oe.fromDom(e.getBody())),l=Oe.fromTag("div",o);ho(l,"data-mce-bogus","all"),ha(l,{position:"fixed",left:"-9999999px",top:"0"}),Rm(l,n.innerHTML),Pk(l),Lk(l);const f=Rs(r);Er(f,l);const v=yd(l.dom.innerText);return wr(l),v},E6=(e,n,o)=>{let r;return n.format==="raw"?r=pe.trim(b6(e.serializer,o.innerHTML)):n.format==="text"?r=_6(e,o):n.format==="tree"?r=e.serializer.serialize(o,n):r=y6(e,e.serializer.serialize(o,n)),n.format!=="text"&&!li(Oe.fromDom(o))&&oe(r)?pe.trim(r):r},w6=(e,n)=>te.from(e.getBody()).fold(et(n.format==="tree"?new Ju("body",11):""),o=>E6(e,n,o)),$k=pe.makeMap,Bk=e=>{const n=[];e=e||{};const o=e.indent,r=$k(e.indent_before||""),l=$k(e.indent_after||""),f=cf.getEncodeFunc(e.entity_encoding||"raw",e.entities),v=e.element_format!=="xhtml";return{start:(C,x,L)=>{if(o&&r[C]&&n.length>0){const Z=n[n.length-1];Z.length>0&&Z!==`
`&&n.push(`
`)}if(n.push("<",C),x)for(let Z=0,j=x.length;Z<j;Z++){const ne=x[Z];n.push(" ",ne.name,'="',f(ne.value,!0),'"')}if(!L||v?n[n.length]=">":n[n.length]=" />",L&&o&&l[C]&&n.length>0){const Z=n[n.length-1];Z.length>0&&Z!==`
`&&n.push(`
`)}},end:C=>{let x;n.push("</",C,">"),o&&l[C]&&n.length>0&&(x=n[n.length-1],x.length>0&&x!==`
`&&n.push(`
`))},text:(C,x)=>{C.length>0&&(n[n.length]=x?C:f(C))},cdata:C=>{n.push("<![CDATA[",C,"]]>")},comment:C=>{n.push("<!--",C,"-->")},pi:(C,x)=>{x?n.push("<?",C," ",f(x),"?>"):n.push("<?",C,"?>"),o&&n.push(`
`)},doctype:C=>{n.push("<!DOCTYPE",C,">",o?`
`:"")},reset:()=>{n.length=0},getContent:()=>n.join("").replace(/\n$/,"")}},Sb=(e={},n=Yl())=>{const o=Bk(e);return e.validate="validate"in e?e.validate:!0,{serialize:l=>{const f=e.validate,v={3:x=>{var L;o.text((L=x.value)!==null&&L!==void 0?L:"",x.raw)},8:x=>{var L;o.comment((L=x.value)!==null&&L!==void 0?L:"")},7:x=>{o.pi(x.name,x.value)},10:x=>{var L;o.doctype((L=x.value)!==null&&L!==void 0?L:"")},4:x=>{var L;o.cdata((L=x.value)!==null&&L!==void 0?L:"")},11:x=>{let L=x;if(L=L.firstChild)do C(L);while(L=L.next)}};o.reset();const C=x=>{var L;const Z=v[x.type];if(Z)Z(x);else{const j=x.name,ne=j in n.getVoidElements();let Ce=x.attributes;if(f&&Ce&&Ce.length>1){const xe=[];xe.map={};const he=n.getElementRule(x.name);if(he){for(let Se=0,Ve=he.attributesOrder.length;Se<Ve;Se++){const $e=he.attributesOrder[Se];if($e in Ce.map){const je=Ce.map[$e];xe.map[$e]=je,xe.push({name:$e,value:je})}}for(let Se=0,Ve=Ce.length;Se<Ve;Se++){const $e=Ce[Se].name;if(!($e in xe.map)){const je=Ce.map[$e];xe.map[$e]=je,xe.push({name:$e,value:je})}}Ce=xe}}if(o.start(j,Ce,ne),!ne){let xe=x.firstChild;if(xe){(j==="pre"||j==="textarea")&&xe.type===3&&((L=xe.value)===null||L===void 0?void 0:L[0])===`
`&&o.text(`
`,!0);do C(xe);while(xe=xe.next)}o.end(j)}}};return l.type===1&&!e.inner?C(l):l.type===3?v[3](l):v[11](l),o.getContent()}}},Fk=new Set;mt(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],n=>{Fk.add(n)});const Bn=["font","text-decoration","text-emphasis"],JA=(e,n)=>bi(e.parseStyle(e.getAttrib(n,"style"))),Hk=e=>Fk.has(e),T6=(e,n)=>nr(JA(e,n),o=>!Hk(o)),zR=e=>Lt(e,n=>ko(Bn,o=>_i(n,o))),C6=(e,n,o)=>{const r=JA(e,n),l=JA(e,o),f=v=>{var C,x;const L=(C=e.getStyle(n,v))!==null&&C!==void 0?C:"",Z=(x=e.getStyle(o,v))!==null&&x!==void 0?x:"";return Cs(L)&&Cs(Z)&&L!==Z};return ko(r,v=>{const C=x=>ko(x,L=>L===v);if(!C(l)&&C(Bn)){const x=zR(l);return ko(x,f)}else return f(v)})},Vk=(e,n,o)=>te.from(o.container()).filter(Ut).exists(r=>{const l=e?0:-1;return n(r.data.charAt(o.offset()+l))}),WR=Ge(Vk,!0,ny),GR=Ge(Vk,!1,ny),S6=e=>{const n=e.container();return Ut(n)&&(n.data.length===0||Cv(n.data)&&Eu.isBookmarkNode(n.parentNode))},_g=(e,n)=>o=>fb(e?0:-1,o).filter(n).isSome(),qR=e=>jg(e)&&$u(Oe.fromDom(e),"display")==="block",A6=e=>Po(e)&&!Vu(e),x6=_g(!0,qR),lo=_g(!1,qR),bC=_g(!0,or),mo=_g(!1,or),jR=_g(!0,Dr),O6=_g(!1,Dr),py=_g(!0,A6),Ab=_g(!1,A6),kY=e=>e.slice(0,-1),PY=(e,n,o)=>Qe(n,e)?kY(qs(e,r=>o(r)||ns(r,n))):[],Uk=(e,n)=>PY(e,n,Je),ov=(e,n)=>[e].concat(Uk(e,n)),jn=(e,n,o)=>$s(e,n,o,S6),zk=(e,n)=>vs(ov(Oe.fromDom(n.container()),e),Ft),Wk=(e,n,o)=>jn(e,n.dom,o).forall(r=>zk(n,o).fold(()=>!eu(r,o,n.dom),l=>!eu(r,o,n.dom)&&Qe(l,Oe.fromDom(r.container())))),Gk=(e,n,o)=>zk(n,o).fold(()=>jn(e,n.dom,o).forall(r=>!eu(r,o,n.dom)),r=>jn(e,r.dom,o).isNone()),vy=Ge(Gk,!1),ZR=Ge(Gk,!0),R6=Ge(Wk,!1),I6=Ge(Wk,!0),D6=e=>q1(e).exists(Ko),yC=(e,n,o)=>{const r=Lt(ov(Oe.fromDom(o.container()),n),Ft),l=Ii(r).getOr(n);return No(e,l.dom,o).filter(D6)},YR=(e,n)=>q1(n).exists(Ko)||yC(!0,e,n).isSome(),qk=(e,n)=>dg(n).exists(Ko)||yC(!1,e,n).isSome(),LY=Ge(yC,!1),N6=Ge(yC,!0),jk=e=>Ye.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),Zk=(e,n)=>{const o=Lt(ov(Oe.fromDom(n.container()),e),Ft);return Ii(o).getOr(e)},Yk=(e,n)=>jk(n)?GR(n):GR(n)||di(Zk(e,n).dom,n).exists(GR),KR=(e,n)=>jk(n)?WR(n):WR(n)||ui(Zk(e,n).dom,n).exists(WR),M6=e=>kn(["pre","pre-wrap"],e),So=e=>q1(e).bind(n=>es(n,is)).exists(n=>M6($u(n,"white-space"))),Kk=(e,n)=>di(e.dom,n).isNone(),ex=(e,n)=>ui(e.dom,n).isNone(),Xk=(e,n)=>Kk(e,n)||ex(e,n)||vy(e,n)||ZR(e,n)||qk(e,n)||YR(e,n),Qk=e=>Ne(e)&&Po(e)&&Pa(e),XR=(e,n)=>o=>Qk(new ai(o,e)[n]()),Jk=(e,n)=>{const o=ui(e.dom,n).getOr(n),r=XR(e.dom,"next");return n.isAtEnd()&&(r(n.container())||r(o.container()))},eP=(e,n)=>{const o=di(e.dom,n).getOr(n),r=XR(e.dom,"prev");return n.isAtStart()&&(r(n.container())||r(o.container()))},k6=(e,n)=>So(n)?!1:Xk(e,n)||Yk(e,n)||KR(e,n),BE=(e,n)=>So(n)?!1:vy(e,n)||R6(e,n)||qk(e,n)||Yk(e,n)||eP(e,n),P6=e=>{const n=e.container(),o=e.offset();return Ut(n)&&o<n.data.length?Ye(n,o+1):e},_C=(e,n)=>So(n)?!1:ZR(e,n)||I6(e,n)||YR(e,n)||KR(e,n)||Jk(e,n),QR=(e,n)=>BE(e,n)||_C(e,P6(n)),tP=(e,n)=>gE(e.charAt(n)),nP=(e,n)=>ny(e.charAt(n)),L6=e=>{const n=e.container();return Ut(n)&&oi(n.data,ys)},$6=e=>{const n=e.split("");return Yt(n,(o,r)=>gE(o)&&r>0&&r<n.length-1&&AT(n[r-1])&&AT(n[r+1])?" ":o).join("")},oP=(e,n,o)=>{const r=n.data,l=Ye(n,0);return!o&&tP(r,0)&&!QR(e,l)?(n.data=" "+r.slice(1),!0):o&&nP(r,0)&&BE(e,l)?(n.data=ys+r.slice(1),!0):!1},JR=e=>{const n=e.data,o=$6(n);return o!==n?(e.data=o,!0):!1},tx=(e,n,o)=>{const r=n.data,l=Ye(n,r.length-1);return!o&&tP(r,r.length-1)&&!QR(e,l)?(n.data=r.slice(0,-1)+" ",!0):o&&nP(r,r.length-1)&&_C(e,l)?(n.data=r.slice(0,-1)+ys,!0):!1},B6=(e,n)=>{const o=n.container();if(!Ut(o))return te.none();if(L6(n)){const r=oP(e,o,!1)||JR(o)||tx(e,o,!1);return ot(r,n)}else if(QR(e,n)){const r=oP(e,o,!0)||tx(e,o,!0);return ot(r,n)}else return te.none()},F6=e=>{const n=Oe.fromDom(e.getBody());e.selection.isCollapsed()&&B6(n,Ye.fromRangeStart(e.selection.getRng())).each(o=>{e.selection.setRng(o.toRange())})},sP=(e,n,o)=>{if(o===0)return;const r=Oe.fromDom(e),l=Ps(r,Ft).getOr(r),f=e.data.slice(n,n+o),v=n+o>=e.data.length&&_C(l,Ye(e,e.data.length)),C=n===0&&BE(l,Ye(e,0));e.replaceData(n,o,Lh(f,4,C,v))},nx=(e,n)=>{const o=e.data.slice(n),r=o.length-$l(o).length;sP(e,n,r)},eI=(e,n)=>{const o=e.data.slice(0,n),r=o.length-ad(o).length;sP(e,n-r,r)},tI=(e,n,o,r=!0)=>{const l=ad(e.data).length,f=r?e:n,v=r?n:e;return r?f.appendData(v.data):f.insertData(0,v.data),wr(Oe.fromDom(v)),o&&nx(f,l),f},H6=(e,n)=>{const o=e.container(),r=e.offset();return!Ye.isTextPosition(e)&&o===n.parentNode&&r>Ye.before(n).offset()},V6=(e,n)=>H6(n,e)?Ye(n.container(),n.offset()-1):n,rP=e=>Ut(e)?Ye(e,0):Ye.before(e),U6=e=>Ut(e)?Ye(e,e.data.length):Ye.after(e),iP=e=>Tl(e.previousSibling)?te.some(U6(e.previousSibling)):e.previousSibling?Zr(e.previousSibling):te.none(),xb=e=>Tl(e.nextSibling)?te.some(rP(e.nextSibling)):e.nextSibling?ei(e.nextSibling):te.none(),z6=(e,n)=>te.from(n.previousSibling?n.previousSibling:n.parentNode).bind(o=>di(e,Ye.before(o))).orThunk(()=>ui(e,Ye.after(n))),aP=(e,n)=>ui(e,Ye.after(n)).orThunk(()=>di(e,Ye.before(n))),W6=(e,n)=>iP(n).orThunk(()=>xb(n)).orThunk(()=>z6(e,n)),G6=(e,n)=>xb(n).orThunk(()=>iP(n)).orThunk(()=>aP(e,n)),cP=(e,n,o)=>e?G6(n,o):W6(n,o),lP=(e,n,o)=>cP(e,n,o).map(Ge(V6,o)),nI=(e,n,o)=>{o.fold(()=>{e.focus()},r=>{e.selection.setRng(r.toRange(),n)})},uP=e=>n=>n.dom===e,Su=(e,n)=>n&&qn(e.schema.getBlockElements(),Vs(n)),q6=e=>{if(zs(e)){const n=Oe.fromHtml('<br data-mce-bogus="1">');return Js(e),Er(e,n),te.some(Ye.before(n.dom))}else return te.none()},j6=(e,n,o)=>{const r=Tc(e).filter(dr),l=Ia(e).filter(dr);return wr(e),Kt(r,l,n,(f,v,C)=>{const x=f.dom,L=v.dom,Z=x.data.length;return tI(x,L,o),C.container()===L?Ye(x,Z):C}).orThunk(()=>(o&&(r.each(f=>eI(f.dom,f.dom.length)),l.each(f=>nx(f.dom,0))),n))},Z6=(e,n)=>qn(e.schema.getTextInlineElements(),Vs(n)),by=(e,n,o,r=!0)=>{const l=lP(n,e.getBody(),o.dom),f=Ps(o,Ge(Su,e),uP(e.getBody())),v=j6(o,l,Z6(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):f.bind(q6).fold(()=>{r&&nI(e,n,v)},C=>{r&&nI(e,n,te.some(C))})},Y6=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,yy=e=>Y6.test(e),_y=(e,n)=>da(Oe.fromDom(n),P1(e))&&!zf(e.schema,n)&&e.dom.isEditable(n),K6=e=>{var n;return sr.DOM.getStyle(e,"direction",!0)==="rtl"||yy((n=e.textContent)!==null&&n!==void 0?n:"")},ra=(e,n,o)=>Lt(sr.DOM.getParents(o.container(),"*",n),e),Eg=(e,n,o)=>{const r=ra(e,n,o);return te.from(r[r.length-1])},$Y=(e,n,o)=>{const r=Gi(n,e),l=Gi(o,e);return Ne(r)&&r===l},qc=e=>_d(e)||u1(e),zo=(e,n)=>{const o=n.container(),r=n.offset();return e?Sc(o)?Ut(o.nextSibling)?Ye(o.nextSibling,0):Ye.after(o):_d(n)?Ye(o,r+1):n:Sc(o)?Ut(o.previousSibling)?Ye(o.previousSibling,o.previousSibling.data.length):Ye.before(o):u1(n)?Ye(o,r-1):n},Tf=Ge(zo,!0),dP=Ge(zo,!1),oI=(e,n)=>{const o=r=>r.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(n),e.off("beforeinput input",o)},sI=e=>{e.execCommand("delete")},EC=e=>oI(e,"Delete"),fP=e=>oI(e,"ForwardDelete"),hP=e=>n=>ke(Vo(n),e,ns),X6=e=>We(e)||ci(e),ox=(e,n)=>Qe(e,n)?es(n,X6,hP(e)):te.none(),wC=(e,n=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!n})},mP=(e,n,o)=>yt(ei(o),Zr(o),(r,l)=>{const f=zo(!0,r),v=zo(!1,l),C=zo(!1,n);return e?ui(o,C).exists(x=>x.isEqual(v)&&n.isEqual(f)):di(o,C).exists(x=>x.isEqual(f)&&n.isEqual(v))}).getOr(!0),oh=e=>(Bc(e)?Tc(e):Ct(e)).bind(oh).orThunk(()=>te.some(e)),gP=(e,n,o,r=!0)=>{var l;n.deleteContents();const f=oh(o).getOr(o),v=Oe.fromDom((l=e.dom.getParent(f.dom,e.dom.isBlock))!==null&&l!==void 0?l:o.dom);if(v.dom===e.getBody()?wC(e,r):zs(v)&&(Yg(v),r&&e.selection.setCursorLocation(v.dom,0)),!ns(o,v)){const C=ke(Vo(v),o)?[]:gd(v);mt(C.concat(ze(o)),x=>{!ns(x,v)&&!Qe(x,v)&&zs(x)&&wr(x)})}},Q6=e=>n=>ns(e,n),pP=e=>Qr(e,"td,th"),rI=(e,n)=>{const o=L=>Y1(Oe.fromDom(L),n),r=o(e.startContainer),l=o(e.endContainer),f=r.isSome(),v=l.isSome(),C=yt(r,l,ns).getOr(!1);return{startTable:r,endTable:l,isStartInTable:f,isEndInTable:v,isSameTable:C,isMultiTable:!C&&f&&v}},iI=(e,n)=>({start:e,end:n}),TC=(e,n,o)=>({rng:e,table:n,cells:o}),CC=Xu.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),sv=(e,n)=>Vl(Oe.fromDom(e),"td,th",n),Cf=e=>!ns(e.start,e.end),FE=(e,n)=>Y1(e.start,n).bind(o=>Y1(e.end,n).bind(r=>ot(ns(o,r),o))),Ar=(e,n)=>!Cf(e)&&FE(e,n).exists(o=>{const r=o.dom.rows;return r.length===1&&r[0].cells.length===1}),SC=(e,n)=>{const o=sv(e.startContainer,n),r=sv(e.endContainer,n);return yt(o,r,iI)},vP=e=>n=>Y1(n,e).bind(o=>Zc(pP(o)).map(r=>iI(n,r))),bP=e=>n=>Y1(n,e).bind(o=>Ii(pP(o)).map(r=>iI(r,n))),AC=e=>n=>FE(n,e).map(o=>TC(n,o,pP(o))),sx=(e,n,o,r)=>{if(o.collapsed||!e.forall(Cf))return te.none();if(n.isSameTable){const l=e.bind(AC(r));return te.some({start:l,end:l})}else{const l=sv(o.startContainer,r),f=sv(o.endContainer,r),v=l.bind(vP(r)).bind(AC(r)),C=f.bind(bP(r)).bind(AC(r));return te.some({start:v,end:C})}},rx=(e,n)=>Rr(e,o=>ns(o,n)),xC=e=>yt(rx(e.cells,e.rng.start),rx(e.cells,e.rng.end),(n,o)=>e.cells.slice(n,o+1)),ix=(e,n,o)=>e.exists(r=>Ar(r,o)&&sy(r.start,n)),ax=(e,n)=>{const{startTable:o,endTable:r}=n,l=e.cloneRange();return o.each(f=>l.setStartAfter(f.dom)),r.each(f=>l.setEndBefore(f.dom)),l},yP=(e,n,o,r)=>sx(e,n,o,r).bind(({start:l,end:f})=>l.or(f)).bind(l=>{const{isSameTable:f}=n,v=xC(l).getOr([]);if(f&&l.cells.length===v.length)return te.some(CC.fullTable(l.table));if(v.length>0){if(f)return te.some(CC.partialTable(v,te.none()));{const C=ax(o,n);return te.some(CC.partialTable(v,te.some({...n,rng:C})))}}else return te.none()}),_P=(e,n,o,r)=>sx(e,n,o,r).bind(({start:l,end:f})=>{const v=l.bind(xC).getOr([]),C=f.bind(xC).getOr([]);if(v.length>0&&C.length>0){const x=ax(o,n);return te.some(CC.multiTable(v,C,x))}else return te.none()}),EP=(e,n)=>{const o=Q6(e),r=SC(n,o),l=rI(n,o);return ix(r,n,o)?r.map(f=>CC.singleCellTable(n,f.start)):l.isMultiTable?_P(r,l,n,o):yP(r,l,n,o)},aI=e=>mt(e,n=>{fr(n,"contenteditable"),Yg(n)}),wP=(e,n)=>te.from(e.dom.getParent(n,e.dom.isBlock)).map(Oe.fromDom),HE=(e,n,o)=>{o.each(r=>{n?wr(r):(Yg(r),e.selection.setCursorLocation(r.dom,0))})},cx=(e,n,o,r)=>{const l=o.cloneRange();r?(l.setStart(o.startContainer,o.startOffset),l.setEndAfter(n.dom.lastChild)):(l.setStartBefore(n.dom.firstChild),l.setEnd(o.endContainer,o.endOffset)),ux(e,l,n,!1).each(f=>f())},lx=e=>{const n=Z1(e),o=Oe.fromDom(e.selection.getNode());Jr(o.dom)&&zs(o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),n.length>1&&ko(n,r=>ns(r,o))&&ho(o,"data-mce-selected","1")},TP=(e,n,o)=>te.some(()=>{const r=e.selection.getRng(),l=o.bind(({rng:f,isStartInTable:v})=>{const C=wP(e,v?f.endContainer:f.startContainer);f.deleteContents(),HE(e,v,C.filter(zs));const x=v?n[0]:n[n.length-1];return cx(e,x,r,v),zs(x)?te.none():te.some(v?n.slice(1):n.slice(0,-1))}).getOr(n);aI(l),lx(e)}),J6=(e,n,o,r)=>te.some(()=>{const l=e.selection.getRng(),f=n[0],v=o[o.length-1];cx(e,f,l,!0),cx(e,v,l,!1);const C=zs(f)?n:n.slice(1),x=zs(v)?o:o.slice(0,-1);aI(C.concat(x)),r.deleteContents(),lx(e)}),ux=(e,n,o,r=!0)=>te.some(()=>{gP(e,n,o,r)}),CP=(e,n)=>te.some(()=>by(e,!1,n)),SP=(e,n,o)=>EP(n,o).bind(r=>r.fold(Ge(ux,e),Ge(CP,e),Ge(TP,e),Ge(J6,e))),dx=(e,n)=>OC(e,n),AP=(e,n,o,r)=>fx(n,r).fold(()=>SP(e,n,o),l=>dx(e,l)),xP=(e,n,o)=>{const r=Oe.fromDom(e.getBody()),l=e.selection.getRng();return o.length!==0?TP(e,o,te.none()):AP(e,r,l,n)},cI=(e,n)=>vs(ov(n,e),Hr),fx=(e,n)=>vs(ov(n,e),Fc("caption")),OP=(e,n,o,r,l)=>Ro(o,e.getBody(),l).bind(f=>cI(n,Oe.fromDom(f.getNode())).bind(v=>ns(v,r)?te.none():te.some(Ot))),OC=(e,n)=>te.some(()=>{Yg(n),e.selection.setCursorLocation(n.dom,0)}),RP=(e,n,o,r)=>ei(e.dom).bind(l=>Zr(e.dom).map(f=>n?o.isEqual(l)&&r.isEqual(f):o.isEqual(f)&&r.isEqual(l))).getOr(!0),IP=(e,n)=>OC(e,n),DP=(e,n,o)=>fx(e,Oe.fromDom(o.getNode())).fold(()=>te.some(Ot),r=>ot(!ns(r,n),Ot)),NP=(e,n,o,r,l)=>Ro(o,e.getBody(),l).fold(()=>te.some(Ot),f=>RP(r,o,l,f)?IP(e,r):DP(n,r,f)),MP=(e,n,o,r)=>{const l=Ye.fromRangeStart(e.selection.getRng());return cI(o,r).bind(f=>zs(f)?OC(e,f):OP(e,o,n,f,l))},kP=(e,n,o,r)=>{const l=Ye.fromRangeStart(e.selection.getRng());return zs(r)?OC(e,r):NP(e,o,n,r,l)},lI=(e,n)=>e?jR(n):O6(n),PP=(e,n)=>{const o=Ye.fromRangeStart(e.selection.getRng());return lI(n,o)||No(n,e.getBody(),o).exists(r=>lI(n,r))},LP=(e,n,o)=>{const r=Oe.fromDom(e.getBody());return fx(r,o).fold(()=>MP(e,n,r,o).orThunk(()=>ot(PP(e,n),Ot)),l=>kP(e,n,r,l))},RC=(e,n)=>{const o=Oe.fromDom(e.selection.getStart(!0)),r=Z1(e);return e.selection.isCollapsed()&&r.length===0?LP(e,n,o):xP(e,o,r)},Ip=(e,n)=>{let o=n;for(;o&&o!==e;){if(ts(o)||Po(o))return o;o=o.parentNode}return null},$P=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],BP=pe.each,VE=e=>{const n=e.dom,o=new Set(e.serializer.getTempAttrs()),r=(f,v)=>{if(f.nodeName!==v.nodeName||f.nodeType!==v.nodeType)return!1;const C=L=>{const Z={};return BP(n.getAttribs(L),j=>{const ne=j.nodeName.toLowerCase();ne!=="style"&&!l(ne)&&(Z[ne]=n.getAttrib(L,ne))}),Z},x=(L,Z)=>{for(const j in L)if(qn(L,j)){const ne=Z[j];if(ht(ne)||L[j]!==ne)return!1;delete Z[j]}for(const j in Z)if(qn(Z,j))return!1;return!0};return nn(f)&&nn(v)&&(!x(C(f),C(v))||!x(n.parseStyle(n.getAttrib(f,"style")),n.parseStyle(n.getAttrib(v,"style"))))?!1:!Qu(f)&&!Qu(v)},l=f=>ko($P,v=>_i(f,v))||o.has(f);return{compare:r,isAttributeInternal:l}},uI=(e,n)=>{let o=e;for(;o=o.walk();)n(o)},UE=(e,n,o,r)=>{const l=o.name;for(let f=0,v=e.length;f<v;f++){const C=e[f];if(C.name===l){const x=r.nodes[l];x?x.nodes.push(o):r.nodes[l]={filter:C,nodes:[o]}}}if(o.attributes)for(let f=0,v=n.length;f<v;f++){const C=n[f],x=C.name;if(x in o.attributes.map){const L=r.attributes[x];L?L.nodes.push(o):r.attributes[x]={filter:C,nodes:[o]}}}},dI=(e,n,o)=>{const r={nodes:{},attributes:{}};return o.firstChild&&uI(o,l=>{UE(e,n,l,r)}),r},fI=(e,n)=>{const o=(r,l)=>{an(r,f=>{const v=vr(f.nodes);mt(f.filter.callbacks,C=>{for(let x=v.length-1;x>=0;x--){const L=v[x];(!(l?L.attr(f.filter.name)!==void 0:L.name===f.filter.name)||Et(L.parent))&&v.splice(x,1)}v.length>0&&C(v,f.filter.name,n)})})};o(e.nodes,!1),o(e.attributes,!0)},Ey=(e,n,o,r={})=>{const l=dI(e,n,o);fI(l,r)},IC=(e,n,o)=>{if(e.insert&&n(o)){const r=new Ju("br",1);r.attr("data-mce-bogus","1"),o.empty().append(r)}else o.empty().append(new Ju("#text",3)).value=ys},hI=e=>{var n;return zE(e,"#text")&&((n=e==null?void 0:e.firstChild)===null||n===void 0?void 0:n.value)===ys},zE=(e,n)=>{const o=e==null?void 0:e.firstChild;return Ne(o)&&o===e.lastChild&&o.name===n},Ob=(e,n)=>{const o=e.getElementRule(n.name);return(o==null?void 0:o.paddEmpty)===!0},WE=(e,n,o,r)=>r.isEmpty(n,o,l=>Ob(e,l)),eV=(e,n)=>Ne(e)&&(n(e)||e.name==="br"),FP=e=>{let n;for(let o=e;o;o=o.parent){const r=o.attr("contenteditable");if(r==="false")break;r==="true"&&(n=o)}return te.from(n)},hx=(e,n,o=e.parent)=>{if(n.getSpecialElements()[e.name])e.empty().remove();else{const r=e.children();for(const l of r)o&&!n.isValidChild(o.name,l.name)&&hx(l,n,o);e.unwrap()}},mI=(e,n,o,r=Ot)=>{const l=n.getTextBlockElements(),f=n.getNonEmptyElements(),v=n.getWhitespaceElements(),C=pe.makeMap("tr,td,th,tbody,thead,tfoot,table"),x=new Set,L=Z=>Z!==o&&!C[Z.name];for(let Z=0;Z<e.length;Z++){const j=e[Z];let ne,Ce,xe;if(!j.parent||x.has(j))continue;if(l[j.name]&&j.parent.name==="li"){let Se=j.next;for(;Se&&l[Se.name];){Se.name="li",x.add(Se),j.parent.insert(Se,j.parent);Se=Se.next}j.unwrap();continue}const he=[j];for(ne=j.parent;ne&&!n.isValidChild(ne.name,j.name)&&L(ne);ne=ne.parent)he.push(ne);if(ne&&he.length>1)if(n.isValidChild(ne.name,j.name)){he.reverse(),Ce=he[0].clone(),r(Ce);let Se=Ce;for(let Ve=0;Ve<he.length-1;Ve++){n.isValidChild(Se.name,he[Ve].name)&&Ve>0?(xe=he[Ve].clone(),r(xe),Se.append(xe)):xe=Se;for(let $e=he[Ve].firstChild;$e&&$e!==he[Ve+1];){const je=$e.next;xe.append($e),$e=je}Se=xe}WE(n,f,v,Ce)?ne.insert(j,he[0],!0):(ne.insert(Ce,he[0],!0),ne.insert(j,Ce)),ne=he[0],(WE(n,f,v,ne)||zE(ne,"br"))&&ne.empty().remove()}else hx(j,n);else if(j.parent){if(j.name==="li"){let Se=j.prev;if(Se&&(Se.name==="ul"||Se.name==="ol")){Se.append(j);continue}if(Se=j.next,Se&&(Se.name==="ul"||Se.name==="ol")&&Se.firstChild){Se.insert(j,Se.firstChild,!0);continue}const Ve=new Ju("ul",1);r(Ve),j.wrap(Ve);continue}if(n.isValidChild(j.parent.name,"div")&&n.isValidChild("div",j.name)){const Se=new Ju("div",1);r(Se),j.wrap(Se)}else hx(j,n)}}},BY=(e,n)=>{let o=e;for(;o;){if(o.name===n)return!0;o=o.parent}return!1},HP=(e,n,o=n.parent)=>o&&e.children[n.name]&&!e.isValidChild(o.name,n.name)?!0:!!(o&&n.name==="a"&&BY(o,"a")),gI=(e,n,o,r)=>{const l=document.createRange();return l.setStart(e,n),l.setEnd(o,r),l},wg=e=>{const n=Ye.fromRangeStart(e),o=Ye.fromRangeEnd(e),r=e.commonAncestorContainer;return No(!1,r,o).map(l=>!eu(n,o,r)&&eu(n,l,r)?gI(n.container(),n.offset(),l.container(),l.offset()):e).getOr(e)},DC=e=>e.collapsed?e:wg(e),mx=e=>Ne(e.firstChild)&&e.firstChild===e.lastChild,pI=e=>e.name==="br"||e.value===ys,tV=(e,n)=>e.getBlockElements()[n.name]&&mx(n)&&pI(n.firstChild),VP=(e,n)=>{const o=e.getNonEmptyElements();return Ne(n)&&(n.isEmpty(o)||tV(e,n))},nV=(e,n)=>{let o=n.firstChild,r=n.lastChild;return o&&o.name==="meta"&&(o=o.next),r&&r.attr("id")==="mce_marker"&&(r=r.prev),VP(e,r)&&(r=r==null?void 0:r.prev),!o||o!==r?!1:o.name==="ul"||o.name==="ol"},UP=e=>{var n,o;const r=e.firstChild,l=e.lastChild;return r&&r.nodeName==="META"&&((n=r.parentNode)===null||n===void 0||n.removeChild(r)),l&&l.id==="mce_marker"&&((o=l.parentNode)===null||o===void 0||o.removeChild(l)),e},vI=(e,n,o)=>{const r=n.serialize(o),l=e.createFragment(r);return UP(l)},oV=e=>{var n;return Lt((n=e==null?void 0:e.childNodes)!==null&&n!==void 0?n:[],o=>o.nodeName==="LI")},zP=e=>e.data===ys||hr(e),sV=e=>Ne(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&zP(e.firstChild),NC=e=>!e.firstChild||sV(e),WP=e=>e.length>0&&NC(e[e.length-1])?e.slice(0,-1):e,bI=(e,n)=>{const o=e.getParent(n,e.isBlock);return o&&o.nodeName==="LI"?o:null},GP=(e,n)=>!!bI(e,n),rV=(e,n)=>{const o=n.cloneRange(),r=n.cloneRange();return o.setStartBefore(e),r.setEndAfter(e),[o.cloneContents(),r.cloneContents()]},iV=(e,n)=>{const o=Ye.before(e),l=qe(n).next(o);return l?l.toRange():null},qP=(e,n)=>{const o=Ye.after(e),l=qe(n).prev(o);return l?l.toRange():null},aV=(e,n,o,r)=>{const l=rV(e,r),f=e.parentNode;return f&&(f.insertBefore(l[0],e),pe.each(n,v=>{f.insertBefore(v,e)}),f.insertBefore(l[1],e),f.removeChild(e)),qP(n[n.length-1],o)},cV=(e,n,o)=>{const r=e.parentNode;return r&&pe.each(n,l=>{r.insertBefore(l,e)}),iV(e,o)},jP=(e,n,o,r)=>(r.insertAfter(n.reverse(),e),qP(n[0],o)),lV=(e,n,o,r)=>{const l=vI(n,e,r),f=bI(n,o.startContainer),v=WP(oV(l.firstChild)),C=1,x=2,L=n.getRoot(),Z=j=>{const ne=Ye.fromRangeStart(o),Ce=qe(n.getRoot()),xe=j===C?Ce.prev(ne):Ce.next(ne),he=xe==null?void 0:xe.getNode();return he?bI(n,he)!==f:!0};return f?Z(C)?cV(f,v,L):Z(x)?jP(f,v,L,n):aV(f,v,L,o):null},yI=["pre"],wy=(e,n,o,r)=>{var l;const f=n.firstChild,v=n.lastChild,C=v.attr("data-mce-type")==="bookmark"?v.prev:v,x=f===C,L=kn(yI,f.name);if(x&&L){const Z=f.attr("contenteditable")!=="false",j=((l=e.getParent(o,e.isBlock))===null||l===void 0?void 0:l.nodeName.toLowerCase())===f.name,ne=te.from(Ip(r,o)).forall(ts);return Z&&j&&ne}else return!1},_I=Jr,uV=(e,n,o)=>{if(Ne(o)){const r=e.getParent(n.endContainer,_I);return o===r&&sy(Oe.fromDom(o),n)}else return!1},gx=(e,n,o)=>{var r;if(o.getAttribute("data-mce-bogus")==="all")(r=o.parentNode)===null||r===void 0||r.insertBefore(e.dom.createFragment(n),o);else{const l=o.firstChild,f=o.lastChild;!l||l===f&&l.nodeName==="BR"?e.dom.setHTML(o,n):e.selection.setContent(n,{no_events:!0})}},ZP=(e,n)=>{te.from(e.getParent(n,"td,th")).map(Oe.fromDom).each(mu)},YP=(e,n)=>{const o=e.schema.getTextInlineElements(),r=e.dom;if(n){const l=e.getBody(),f=VE(e);pe.each(r.select("*[data-mce-fragment]"),v=>{if(Ne(o[v.nodeName.toLowerCase()])&&T6(r,v)){for(let x=v.parentElement;Ne(x)&&x!==l&&!C6(r,v,x);x=x.parentElement)if(f.compare(x,v)){r.remove(v,!0);break}}})}},dV=e=>{let n=e;for(;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},KP=e=>{pe.each(e.getElementsByTagName("*"),n=>{n.removeAttribute("data-mce-fragment")})},fV=e=>!!e.getAttribute("data-mce-fragment"),Ty=(e,n)=>Ne(n)&&!e.schema.getVoidElements()[n.nodeName],XP=(e,n)=>{var o,r,l;let f;const v=e.dom,C=e.selection;if(!n)return;C.scrollIntoView(n);const x=Ip(e.getBody(),n);if(x&&v.getContentEditable(x)==="false"){v.remove(n),C.select(x);return}let L=v.createRng();const Z=n.previousSibling;if(Ut(Z)){L.setStart(Z,(r=(o=Z.nodeValue)===null||o===void 0?void 0:o.length)!==null&&r!==void 0?r:0);const Ce=n.nextSibling;Ut(Ce)&&(Z.appendData(Ce.data),(l=Ce.parentNode)===null||l===void 0||l.removeChild(Ce))}else L.setStartBefore(n),L.setEndBefore(n);const j=Ce=>{let xe=Ye.fromRangeStart(Ce);return xe=qe(e.getBody()).next(xe),xe==null?void 0:xe.toRange()},ne=v.getParent(n,v.isBlock);v.remove(n),ne&&v.isEmpty(ne)&&(Js(Oe.fromDom(ne)),L.setStart(ne,0),L.setEnd(ne,0),!_I(ne)&&!fV(ne)&&(f=j(L))?(L=f,v.remove(ne)):v.add(ne,v.create("br",{"data-mce-bogus":"1"}))),C.setRng(L)},QP=e=>{const n=e.dom,o=DC(e.selection.getRng());e.selection.setRng(o);const r=n.getParent(o.startContainer,_I);uV(n,o,r)?ux(e,o,Oe.fromDom(r)):o.startContainer===o.endContainer&&o.endOffset-o.startOffset===1&&Ut(o.startContainer.childNodes[o.startOffset])?o.deleteContents():e.getDoc().execCommand("Delete",!1)},JP=e=>{for(let n=e;n;n=n.walk())if(n.attr("id")==="mce_marker")return te.some(n);return te.none()},px=(e,n,o)=>{var r,l;const f=e.selection,v=e.dom,C=e.parser,x=o.merge,L=Sb({validate:!0},e.schema),Z='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,Z);let j=f.getRng();const ne=j.startContainer,Ce=e.getBody();ne===Ce&&f.isCollapsed()&&v.isBlock(Ce.firstChild)&&Ty(e,Ce.firstChild)&&v.isEmpty(Ce.firstChild)&&(j=v.createRng(),j.setStart(Ce.firstChild,0),j.setEnd(Ce.firstChild,0),f.setRng(j)),f.isCollapsed()||QP(e);const xe=f.getNode(),he={context:xe.nodeName.toLowerCase(),data:o.data,insert:!0},Se=C.parse(n,he);if(o.paste===!0&&nV(e.schema,Se)&&GP(v,xe))return j=lV(L,v,f.getRng(),Se),j&&f.setRng(j),n;o.paste===!0&&wy(v,Se,xe,e.getBody())&&((r=Se.firstChild)===null||r===void 0||r.unwrap()),dV(Se);let Ve=Se.lastChild;if(Ve&&Ve.attr("id")==="mce_marker"){const $e=Ve;for(Ve=Ve.prev;Ve;Ve=Ve.walk(!0))if(Ve.type===3||!v.isBlock(Ve.name)){Ve.parent&&e.schema.isValidChild(Ve.parent.name,"span")&&Ve.parent.insert($e,Ve,Ve.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(xe),!he.invalid)n=L.serialize(Se),gx(e,n,xe);else{e.selection.setContent(Z);let $e=f.getNode(),je;const rt=e.getBody();for(bd($e)?$e=je=rt:je=$e;je&&je!==rt;)$e=je,je=je.parentNode;n=$e===rt?rt.innerHTML:v.getOuterHTML($e);const St=C.parse(n),on=JP(St),jt=on.bind(FP).getOr(St);on.each(Ln=>Ln.replace(Se));const ft=Se.children(),dt=(l=Se.parent)!==null&&l!==void 0?l:St;Se.unwrap();const bn=Lt(ft,Ln=>HP(e.schema,Ln,dt));mI(bn,e.schema,jt),Ey(C.getNodeFilters(),C.getAttributeFilters(),St),n=L.serialize(St),$e===rt?v.setHTML(rt,n):v.setOuterHTML($e,n)}return YP(e,x),XP(e,v.get("mce_marker")),KP(e.getBody()),ZP(v,f.getStart()),Wu(e.schema,e.getBody(),f.getStart()),n},MC=e=>e instanceof Ju,hV=e=>{Cb(e)&&ei(e.getBody()).each(n=>{const o=n.getNode(),r=Dr(o)?ei(o).getOr(n):n;e.selection.setRng(r.toRange())})},vx=(e,n,o)=>{e.dom.setHTML(e.getBody(),n),o!==!0&&hV(e)},mV=(e,n,o,r)=>{if(o.length===0||/^\s+$/.test(o)){const l='<br data-mce-bogus="1">';n.nodeName==="TABLE"?o="<tr><td>"+l+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(o="<li>"+l+"</li>");const f=yu(e);return e.schema.isValidChild(n.nodeName.toLowerCase(),f.toLowerCase())?(o=l,o=e.dom.createHTML(f,gp(e),o)):o||(o=l),vx(e,o,r.no_selection),{content:o,html:o}}else{r.format!=="raw"&&(o=Sb({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const l=li(Oe.fromDom(n))?o:pe.trim(o);return vx(e,l,r.no_selection),{content:l,html:l}}},gV=(e,n,o,r)=>{Ey(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const l=Sb({validate:!1},e.schema).serialize(o),f=li(Oe.fromDom(n))?l:pe.trim(l);return vx(e,f,r.no_selection),{content:o,html:f}},bx=(e,n,o)=>te.from(e.getBody()).map(r=>MC(n)?gV(e,r,n,o):mV(e,r,n,o)).getOr({content:n,html:MC(o.content)?"":o.content}),eL=(e,n,o)=>Ps(e,n,o).isSome(),EI=(e,n)=>gl(e,n).isSome(),tL=e=>ge(e)?e:Je,pV=(e,n,o)=>{let r=e.dom;const l=tL(o);for(;r.parentNode;){r=r.parentNode;const f=Oe.fromDom(r),v=n(f);if(v.isSome())return v;if(l(f))break}return te.none()},yx=(e,n,o)=>{const r=n(e),l=tL(o);return r.orThunk(()=>l(e)?te.none():pV(e,n,l))},kC=PT,wI=(e,n,o)=>{const r=e.formatter.get(o);if(r)for(let l=0;l<r.length;l++){const f=r[l];if(tu(f)&&f.inherit===!1&&e.dom.is(n,f.selector))return!0}return!1},TI=(e,n,o,r,l)=>{const f=e.dom.getRoot();if(n===f)return!1;const v=e.dom.getParent(n,C=>wI(e,C,o)?!0:C.parentNode===f||!!sh(e,C,o,r,!0));return!!sh(e,v,o,r,l)},_x=(e,n,o)=>Ea(o)&&kC(n,o.inline)||kr(o)&&kC(n,o.block)?!0:tu(o)?nn(n)&&e.is(n,o.selector):!1,nL=(e,n,o,r,l,f)=>{const v=o[r],C=r==="attributes";if(ge(o.onmatch))return o.onmatch(n,o,r);if(v){if(Eh(v)){for(let x=0;x<v.length;x++)if(C?e.getAttrib(n,v[x]):_E(e,n,v[x]))return!0}else for(const x in v)if(qn(v,x)){const L=C?e.getAttrib(n,x):_E(e,n,x),Z=Sp(v[x],f),j=Et(L)||si(L);if(j&&Et(Z))continue;if(l&&j&&!o.exact||(!l||o.exact)&&!kC(L,LT(Z,x)))return!1}}return!0},sh=(e,n,o,r,l)=>{const f=e.formatter.get(o),v=e.dom;if(f&&nn(n))for(let C=0;C<f.length;C++){const x=f[C];if(_x(e.dom,n,x)&&nL(v,n,x,"attributes",l,r)&&nL(v,n,x,"styles",l,r)){const L=x.classes;if(L){for(let Z=0;Z<L.length;Z++)if(!e.dom.hasClass(n,Sp(L[Z],r)))return}return x}}},Tg=(e,n,o,r,l)=>{if(r)return TI(e,r,n,o,l);if(r=e.selection.getNode(),TI(e,r,n,o,l))return!0;const f=e.selection.getStart();return!!(f!==r&&TI(e,f,n,o,l))},vV=(e,n,o)=>{const r=[],l={},f=e.selection.getStart();return e.dom.getParent(f,v=>{for(let C=0;C<n.length;C++){const x=n[C];!l[x]&&sh(e,v,x,o)&&(l[x]=!0,r.push(x))}},e.dom.getRoot()),r},CI=(e,n)=>{const o=l=>ns(l,Oe.fromDom(e.getBody())),r=(l,f)=>sh(e,l.dom,f)?te.some(f):te.none();return te.from(e.selection.getStart(!0)).bind(l=>yx(Oe.fromDom(l),f=>$r(n,v=>r(f,v)),o)).getOrNull()},ia=(e,n)=>{const o=e.formatter.get(n),r=e.dom;if(o){const l=e.selection.getStart(),f=EE(r,l);for(let v=o.length-1;v>=0;v--){const C=o[v];if(!tu(C))return!0;for(let x=f.length-1;x>=0;x--)if(r.is(f[x],C.selector))return!0}}return!1},SI=(e,n,o)=>Ns(o,(r,l)=>{const f=ja(e,l);return e.formatter.matchNode(n,l,{},f)?r.concat([l]):r},[]),Rb=Ma,rv=(e,n)=>e.importNode(n,!0),oL=e=>{const n=[];let o=e;for(;o;){if(Ut(o)&&o.data!==Rb||o.childNodes.length>1)return[];nn(o)&&n.push(o),o=o.firstChild}return n},Ex=e=>oL(e).length>0,GE=e=>{if(e){const n=new ai(e,e);for(let o=n.current();o;o=n.next())if(Ut(o))return o}return null},AI=e=>{const n=Oe.fromTag("span");return zr(n,{id:Nc,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Er(n,Oe.fromText(Rb)),n},bV=e=>{const n=GE(e);return n&&n.data.charAt(0)===Rb&&n.deleteData(0,1),n},Ib=(e,n,o=!0)=>{const r=e.dom,l=e.selection;if(Ex(n))by(e,!1,Oe.fromDom(n),o);else{const f=l.getRng(),v=r.getParent(n,r.isBlock),C=f.startContainer,x=f.startOffset,L=f.endContainer,Z=f.endOffset,j=bV(n);r.remove(n,!0),C===j&&x>0&&f.setStart(j,x-1),L===j&&Z>0&&f.setEnd(j,Z-1),v&&r.isEmpty(v)&&Yg(Oe.fromDom(v)),l.setRng(f)}},xI=(e,n,o=!0)=>{const r=e.dom,l=e.selection;if(n)Ib(e,n,o);else if(n=bf(e.getBody(),l.getStart()),!n)for(;n=r.get(Nc);)Ib(e,n,!1)},Cy=(e,n,o)=>{var r,l;const f=e.dom,v=f.getParent(o,Ge(kT,e.schema));v&&f.isEmpty(v)?(r=o.parentNode)===null||r===void 0||r.replaceChild(n,o):(Nh(Oe.fromDom(o)),f.isEmpty(o)?(l=o.parentNode)===null||l===void 0||l.replaceChild(n,o):f.insertAfter(n,o))},sL=(e,n)=>(e.appendChild(n),n),iv=(e,n)=>{var o;const r=Lr(e,(f,v)=>sL(f,v.cloneNode(!1)),n),l=(o=r.ownerDocument)!==null&&o!==void 0?o:document;return sL(r,l.createTextNode(Rb))},sm=(e,n,o,r,l,f)=>{const v=e.formatter,C=e.dom,x=Lt(bi(v.get()),j=>j!==r&&!oi(j,"removeformat")),L=SI(e,o,x);if(Lt(L,j=>!wE(e,j,r)).length>0){const j=o.cloneNode(!1);return C.add(n,j),v.remove(r,l,j,f),C.remove(j),te.some(j)}else return te.none()},wx=(e,n,o)=>{let r;const l=e.selection,f=e.formatter.get(n);if(!f)return;const v=l.getRng();let C=v.startOffset;const L=v.startContainer.nodeValue;r=bf(e.getBody(),l.getStart());const Z=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(L&&C>0&&C<L.length&&Z.test(L.charAt(C))&&Z.test(L.charAt(C-1))){const j=l.getBookmark();v.collapse(!0);let ne=X1(e.dom,v,f);ne=LE(ne),e.formatter.apply(n,o,ne),l.moveToBookmark(j)}else{let j=r?GE(r):null;(!r||(j==null?void 0:j.data)!==Rb)&&(r=rv(e.getDoc(),AI(!0).dom),j=r.firstChild,v.insertNode(r),C=1),e.formatter.apply(n,o,r),l.setCursorLocation(j,C)}},OI=(e,n,o,r)=>{const l=e.dom,f=e.selection;let v=!1;const C=e.formatter.get(n);if(!C)return;const x=f.getRng(),L=x.startContainer,Z=x.startOffset;let j=L;Ut(L)&&(Z!==L.data.length&&(v=!0),j=j.parentNode);const ne=[];let Ce;for(;j;){if(sh(e,j,n,o,r)){Ce=j;break}j.nextSibling&&(v=!0),ne.push(j),j=j.parentNode}if(Ce)if(v){const xe=f.getBookmark();x.collapse(!0);let he=X1(l,x,C,!0);he=LE(he),e.formatter.remove(n,o,he,r),f.moveToBookmark(xe)}else{const xe=bf(e.getBody(),Ce),he=AI(!1).dom;Cy(e,he,xe??Ce);const Se=sm(e,he,Ce,n,o,r),Ve=iv(ne.concat(Se.toArray()),he);xe&&Ib(e,xe,!1),f.setCursorLocation(Ve,1),l.isEmpty(Ce)&&l.remove(Ce)}},yV=(e,n)=>{const o=e.selection,r=e.getBody();xI(e,null,!1),(n===8||n===46)&&o.isCollapsed()&&o.getStart().innerHTML===Rb&&xI(e,bf(r,o.getStart())),(n===37||n===39)&&xI(e,bf(r,o.getStart()))},_V=e=>{e.on("mouseup keydown",n=>{yV(e,n.keyCode)})},PC=e=>{const n=AI(!1),o=iv(e,n.dom);return{caretContainer:n,caretPosition:Ye(o,0)}},rL=(e,n)=>{const{caretContainer:o,caretPosition:r}=PC(n);return us(Oe.fromDom(e),o),wr(Oe.fromDom(e)),r},rm=(e,n)=>{const{caretContainer:o,caretPosition:r}=PC(n);return e.selection.getRng().insertNode(o.dom),r},LC=(e,n)=>{const o=e.schema.getTextInlineElements();return qn(o,Vs(n))&&!Ws(n.dom)&&!ol(n.dom)},RI=e=>Ws(e.dom)&&Ex(e.dom),Sy={},Tx=bl(["pre"]),Ay=(e,n)=>{Sy[e]||(Sy[e]=[]),Sy[e].push(n)},II=(e,n)=>{qn(Sy,e)&&mt(Sy[e],o=>{o(n)})};Ay("pre",e=>{const n=e.selection.getRng(),o=l=>f=>{const v=f.previousSibling;return Tx(v)&&kn(l,v)},r=(l,f)=>{const v=Oe.fromDom(f),C=xt(v).dom;wr(v),pd(Oe.fromDom(l),[Oe.fromTag("br",C),Oe.fromTag("br",C),...ze(v)])};if(!n.collapsed){const l=e.selection.getSelectedBlocks(),f=Lt(Lt(l,Tx),o(l));mt(f,v=>{r(v.previousSibling,v)})}});const iL=["fontWeight","fontStyle","color","fontSize","fontFamily"],aL=e=>Be(e.styles)&&ko(bi(e.styles),n=>kn(iL,n)),EV=e=>vs(e,n=>Ea(n)&&n.inline==="span"&&aL(n)),cL=(e,n)=>{const o=e.get(n);return F(o)?EV(o):te.none()},lL=(e,n)=>di(n,Ye.fromRangeStart(e)).isNone(),uL=(e,n)=>ui(n,Ye.fromRangeEnd(e)).exists(o=>!hr(o.getNode())||ui(n,o).isSome())===!1,qE=e=>n=>ef(n)&&e.isEditable(n),wV=e=>{const n=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(n.length===1)return lL(o,n[0])&&uL(o,n[0])?n:[];{const r=Ii(n).filter(v=>lL(o,v)).toArray(),l=Zc(n).filter(v=>uL(o,v)).toArray(),f=n.slice(1,-1);return r.concat(f).concat(l)}},dL=e=>Lt(wV(e),qE(e.dom)),Cx=e=>Lt(e.getSelectedBlocks(),qE(e.dom)),DI=pe.each,Sx=e=>nn(e)&&!Qu(e)&&!Ws(e)&&!ol(e),NI=(e,n)=>{for(let o=e;o;o=o[n]){if(Ut(o)&&Cs(o.data))return e;if(nn(o)&&!Qu(o))return o}return e},fL=(e,n,o)=>{const r=VE(e),l=nn(n)&&em(n),f=nn(o)&&em(o);if(l&&f){const v=NI(n,"previousSibling"),C=NI(o,"nextSibling");if(r.compare(v,C)){for(let x=v.nextSibling;x&&x!==C;){const L=x;x=x.nextSibling,v.appendChild(L)}return e.dom.remove(C),pe.each(pe.grep(C.childNodes),x=>{v.appendChild(x)}),v}}return o},hL=(e,n,o,r)=>{var l;if(r&&n.merge_siblings!==!1){const f=(l=fL(e,xA(r),r))!==null&&l!==void 0?l:r;fL(e,f,xA(f,!0))}},TV=(e,n,o)=>{if(n.clear_child_styles){const r=n.links?"*:not(a)":"*";DI(e.select(r,o),l=>{Sx(l)&&em(l)&&DI(n.styles,(f,v)=>{e.setStyle(l,v,"")})})}},MI=(e,n,o)=>{DI(e.childNodes,r=>{Sx(r)&&(n(r)&&o(r),r.hasChildNodes()&&MI(r,n,o))})},CV=(e,n)=>{n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},mL=(e,n)=>o=>!!(o&&_E(e,o,n)),gL=(e,n,o)=>r=>{e.setStyle(r,n,o),r.getAttribute("style")===""&&r.removeAttribute("style"),CV(e,r)},xy=Xu.generate([{keep:[]},{rename:["name"]},{removed:[]}]),SV=/^(src|href|style)$/,kI=pe.each,Ax=PT,AV=e=>/^(TR|TH|TD)$/.test(e.nodeName),pL=(e,n,o)=>e.isChildOf(n,o)&&n!==o&&!e.isBlock(o),PI=(e,n,o)=>{let r=n[o?"startContainer":"endContainer"],l=n[o?"startOffset":"endOffset"];if(nn(r)){const f=r.childNodes.length-1;!o&&l&&l--,r=r.childNodes[l>f?f:l]}return Ut(r)&&o&&l>=r.data.length&&(r=new ai(r,e.getBody()).next()||r),Ut(r)&&!o&&l===0&&(r=new ai(r,e.getBody()).prev()||r),r},vL=(e,n)=>{const o=n?"firstChild":"lastChild",r=e[o];return AV(e)&&r?e.nodeName==="TR"&&r[o]||r:e},Db=(e,n,o,r)=>{var l;const f=e.create(o,r);return(l=n.parentNode)===null||l===void 0||l.insertBefore(f,n),f.appendChild(n),f},bL=(e,n,o,r,l)=>{const f=Oe.fromDom(n),v=Oe.fromDom(e.create(r,l)),C=o?Pe(f):Te(f);return pd(v,C),o?(us(f,v),Ul(v,f)):(nl(f,v),Er(v,f)),v.dom},xV=(e,n)=>n.links&&e.nodeName==="A",yL=(e,n,o)=>{const r=n.parentNode;let l;const f=e.dom,v=yu(e);kr(o)&&r===f.getRoot()&&(!o.list_block||!Ax(n,o.list_block))&&mt(vr(n.childNodes),C=>{gb(e,v,C.nodeName.toLowerCase())?l?l.appendChild(C):(l=Db(f,C,v),f.setAttribs(l,gp(e))):l=null}),!(TE(o)&&!Ax(o.inline,n))&&f.remove(n,!0)},_L=(e,n,o)=>gn(e)?{name:n,value:null}:{name:e,value:Sp(n,o)},LI=(e,n)=>{e.getAttrib(n,"style")===""&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style"))},EL=(e,n,o,r,l)=>{let f=!1;kI(o.styles,(v,C)=>{const{name:x,value:L}=_L(C,v,r),Z=LT(L,x);(o.remove_similar||Ee(L)||!nn(l)||Ax(_E(e,l,x),Z))&&e.setStyle(n,x,""),f=!0}),f&&LI(e,n)},OV=(e,n,o)=>{n==="removeformat"?mt(Cx(e.selection),r=>{mt(iL,l=>e.dom.setStyle(r,l,"")),LI(e.dom,r)}):cL(e.formatter,n).each(r=>{mt(Cx(e.selection),l=>EL(e.dom,l,r,o,null))})},wL=(e,n,o,r,l)=>{const f=e.dom,v=VE(e),C=e.schema;if(Ea(n)&&Jg(C,n.inline)&&zf(C,r)&&r.parentElement===e.getBody())return yL(e,r,n),xy.removed();if(!n.ceFalseOverride&&r&&f.getContentEditableParent(r)==="false"||r&&!_x(f,r,n)&&!xV(r,n))return xy.keep();const x=r,L=n.preserve_attributes;if(Ea(n)&&n.remove==="all"&&F(L)){const Z=Lt(f.getAttribs(x),j=>kn(L,j.name.toLowerCase()));if(f.removeAllAttribs(x),mt(Z,j=>f.setAttrib(x,j.name,j.value)),Z.length>0)return xy.rename("span")}if(n.remove!=="all"){EL(f,x,n,o,l),kI(n.attributes,(j,ne)=>{const{name:Ce,value:xe}=_L(ne,j,o);if(n.remove_similar||Ee(xe)||!nn(l)||Ax(f.getAttrib(l,Ce),xe)){if(Ce==="class"){const he=f.getAttrib(x,Ce);if(he){let Se="";if(mt(he.split(/\s+/),Ve=>{/mce\-\w+/.test(Ve)&&(Se+=(Se?" ":"")+Ve)}),Se){f.setAttrib(x,Ce,Se);return}}}if(SV.test(Ce)&&x.removeAttribute("data-mce-"+Ce),Ce==="style"&&bl(["li"])(x)&&f.getStyle(x,"list-style-type")==="none"){x.removeAttribute(Ce),f.setStyle(x,"list-style-type","none");return}Ce==="class"&&x.removeAttribute("className"),x.removeAttribute(Ce)}}),kI(n.classes,j=>{j=Sp(j,o),(!nn(l)||f.hasClass(l,j))&&f.removeClass(x,j)});const Z=f.getAttribs(x);for(let j=0;j<Z.length;j++){const ne=Z[j].nodeName;if(!v.isAttributeInternal(ne))return xy.keep()}}return n.remove!=="none"?(yL(e,x,n),xy.removed()):xy.keep()},$C=(e,n,o,r,l)=>wL(e,n,o,r,l).fold(Je,f=>(e.dom.rename(r,f),!0),It),RV=(e,n,o,r,l)=>{let f;return n.parentNode&&mt(EE(e.dom,n.parentNode).reverse(),v=>{if(!f&&nn(v)&&v.id!=="_start"&&v.id!=="_end"){const C=sh(e,v,o,r,l);C&&C.split!==!1&&(f=v)}}),f},IV=(e,n,o,r)=>wL(e,n,o,r,r).fold(et(r),l=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,l)),et(null)),DV=(e,n,o,r,l,f,v,C)=>{var x,L;let Z,j;const ne=e.dom;if(o){const Ce=o.parentNode;for(let xe=r.parentNode;xe&&xe!==Ce;xe=xe.parentNode){let he=ne.clone(xe,!1);for(let Se=0;Se<n.length&&(he=IV(e,n[Se],C,he),he!==null);Se++);he&&(Z&&he.appendChild(Z),j||(j=he),Z=he)}f&&(!v.mixed||!ne.isBlock(o))&&(r=(x=ne.split(o,r))!==null&&x!==void 0?x:r),Z&&j&&((L=l.parentNode)===null||L===void 0||L.insertBefore(Z,l),j.appendChild(l),Ea(v)&&hL(e,v,C,Z))}return r},TL=(e,n,o,r,l)=>{const f=e.formatter.get(n),v=f[0],C=e.dom,x=e.selection,L=he=>{const Se=RV(e,he,n,o,l);return DV(e,f,Se,he,he,!0,v,o)},Z=he=>Qu(he)&&nn(he)&&(he.id==="_start"||he.id==="_end"),j=he=>ko(f,Se=>$C(e,Se,o,he,he)),ne=he=>{const Se=vr(he.childNodes),$e=j(he)||ko(f,St=>_x(C,he,St)),je=he.parentNode;if(!$e&&Ne(je)&&CE(v)&&j(je),v.deep&&Se.length)for(let St=0;St<Se.length;St++)ne(Se[St]);mt(["underline","line-through","overline"],St=>{nn(he)&&e.dom.getStyle(he,"text-decoration")===St&&he.parentNode&&K1(C,he.parentNode)===St&&$C(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:St}},void 0,he)})},Ce=he=>{const Se=C.get(he?"_start":"_end");if(Se){let Ve=Se[he?"firstChild":"lastChild"];return Z(Ve)&&(Ve=Ve[he?"firstChild":"lastChild"]),Ut(Ve)&&Ve.data.length===0&&(Ve=he?Se.previousSibling||Se.nextSibling:Se.nextSibling||Se.previousSibling),C.remove(Se,!0),Ve}else return null},xe=he=>{let Se,Ve,$e=X1(C,he,f,he.collapsed);if(v.split){if($e=LE($e),Se=PI(e,$e,!0),Ve=PI(e,$e),Se!==Ve){if(Se=vL(Se,!0),Ve=vL(Ve,!1),pL(C,Se,Ve)){const rt=te.from(Se.firstChild).getOr(Se);L(bL(C,rt,!0,"span",{id:"_start","data-mce-type":"bookmark"})),Ce(!0);return}if(pL(C,Ve,Se)){const rt=te.from(Ve.lastChild).getOr(Ve);L(bL(C,rt,!1,"span",{id:"_end","data-mce-type":"bookmark"})),Ce(!1);return}Se=Db(C,Se,"span",{id:"_start","data-mce-type":"bookmark"}),Ve=Db(C,Ve,"span",{id:"_end","data-mce-type":"bookmark"});const je=C.createRng();je.setStartAfter(Se),je.setEndBefore(Ve),vb(C,je,rt=>{mt(rt,St=>{!Qu(St)&&!Qu(St.parentNode)&&L(St)})}),L(Se),L(Ve),Se=Ce(!0),Ve=Ce()}else Se=Ve=L(Se);$e.startContainer=Se.parentNode?Se.parentNode:Se,$e.startOffset=C.nodeIndex(Se),$e.endContainer=Ve.parentNode?Ve.parentNode:Ve,$e.endOffset=C.nodeIndex(Ve)+1}vb(C,$e,je=>{mt(je,ne)})};if(r){if(ry(r)){const he=C.createRng();he.setStartBefore(r),he.setEndAfter(r),xe(he)}else xe(r);KT(e,n,r,o);return}!x.isCollapsed()||!Ea(v)||Z1(e).length?(Cp(e,()=>MT(e,xe),he=>Ea(v)&&Tg(e,n,o,he)),e.nodeChanged()):OI(e,n,o,l),OV(e,n,o),KT(e,n,r,o)},CL=pe.each,NV=(e,n,o,r)=>{const l=f=>{if(nn(f)&&nn(f.parentNode)&&em(f)){const v=K1(e,f.parentNode);e.getStyle(f,"color")&&v?e.setStyle(f,"text-decoration",v):e.getStyle(f,"text-decoration")===v&&e.setStyle(f,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(pe.walk(r,l,"childNodes"),l(r))},$I=(e,n,o,r)=>{if(n.styles&&n.styles.backgroundColor){const l=mL(e,"fontSize");MI(r,f=>l(f)&&em(f),gL(e,"backgroundColor",Sp(n.styles.backgroundColor,o)))}},SL=(e,n,o,r)=>{if(Ea(n)&&(n.inline==="sub"||n.inline==="sup")){const l=mL(e,"fontSize");MI(r,v=>l(v)&&em(v),gL(e,"fontSize",""));const f=Lt(e.select(n.inline==="sup"?"sub":"sup",r),em);e.remove(f,!0)}},FY=(e,n,o,r)=>{CL(n,l=>{Ea(l)&&CL(e.dom.select(l.inline,r),f=>{Sx(f)&&$C(e,l,o,f,l.exact?f:null)}),TV(e.dom,l,r)})},BC=(e,n,o,r,l)=>{const f=l.parentNode;sh(e,f,o,r)&&$C(e,n,r,l)||n.merge_with_parents&&f&&e.dom.getParent(f,v=>sh(e,v,o,r)?($C(e,n,r,l),!0):!1)},FC=pe.each,HC=(e,n,o,r)=>{if(Z_(e)&&Ea(n)&&o.parentNode){const l=lf(e.schema),f=EI(Oe.fromDom(o),v=>Ws(v.dom));return Qa(l,r)&&zs(Oe.fromDom(o.parentNode),!1)&&!f}else return!1},jE=(e,n,o,r)=>{if(FC(o.styles,(l,f)=>{e.setStyle(n,f,Sp(l,r))}),o.styles){const l=e.getAttrib(n,"style");l&&e.setAttrib(n,"data-mce-style",l)}},BI=(e,n,o,r)=>{const l=e.formatter.get(n),f=l[0],v=!r&&e.selection.isCollapsed(),C=e.dom,x=e.selection,L=(xe,he=f)=>{ge(he.onformat)&&he.onformat(xe,he,o,r),jE(C,xe,he,o),FC(he.attributes,(Se,Ve)=>{C.setAttrib(xe,Ve,Sp(Se,o))}),FC(he.classes,Se=>{const Ve=Sp(Se,o);C.hasClass(xe,Ve)||C.addClass(xe,Ve)})},Z=(xe,he)=>{let Se=!1;return FC(xe,Ve=>tu(Ve)?C.getContentEditable(he)==="false"&&!Ve.ceFalseOverride||Ne(Ve.collapsed)&&Ve.collapsed!==v?!0:C.is(he,Ve.selector)&&!Ws(he)?(L(he,Ve),Se=!0,!1):!0:!1),Se},j=xe=>{if(oe(xe)){const he=C.create(xe);return L(he),he}else return null},ne=(xe,he,Se)=>{const Ve=[];let $e=!0;const je=f.inline||f.block,rt=j(je),St=ft=>yf(f)&&sh(e,ft,n,o),on=(ft,dt,bn)=>{const Ln=RA(f)&&kT(e.schema,ft)&&gb(e,dt,je);return bn&&Ln},jt=(ft,dt,bn,Ln)=>{const Gn=ft.nodeName.toLowerCase(),wo=gb(e,je,Gn)&&gb(e,dt,je),Qo=!Se&&Ut(ft)&&Cv(ft.data),Ds=Ws(ft),ar=!Ea(f)||!xe.isBlock(ft);return(bn||Ln)&&wo&&!Qo&&!Ds&&ar};vb(xe,he,ft=>{let dt;const bn=Ln=>{let Gn=!1,wo=$e,Qo=!1;const Ds=Ln.parentNode,ar=Ds.nodeName.toLowerCase(),Ri=xe.getContentEditable(Ln);Ne(Ri)&&(wo=$e,$e=Ri==="true",Gn=!0,Qo=OA(e,Ln));const kc=$e&&!Gn;if(hr(Ln)&&!HC(e,f,Ln,ar)){dt=null,kr(f)&&xe.remove(Ln);return}if(St(Ln)){dt=null;return}if(on(Ln,ar,kc)){const Ka=xe.rename(Ln,je);L(Ka),Ve.push(Ka),dt=null;return}if(tu(f)){let Ka=Z(l,Ln);if(!Ka&&Ne(Ds)&&CE(f)&&(Ka=Z(l,Ds)),!Ea(f)||Ka){dt=null;return}}Ne(rt)&&jt(Ln,ar,kc,Qo)?(dt||(dt=xe.clone(rt,!1),Ds.insertBefore(dt,Ln),Ve.push(dt)),Qo&&Gn&&($e=wo),dt.appendChild(Ln)):(dt=null,mt(vr(Ln.childNodes),bn),Gn&&($e=wo),dt=null)};mt(ft,bn)}),f.links===!0&&mt(Ve,ft=>{const dt=bn=>{bn.nodeName==="A"&&L(bn,f),mt(vr(bn.childNodes),dt)};dt(ft)}),mt(Ve,ft=>{const dt=Gn=>{let wo=0;return mt(Gn.childNodes,Qo=>{!gR(Qo)&&!Qu(Qo)&&wo++}),wo},bn=Gn=>vs(Gn.childNodes,mg).filter(Qo=>xe.getContentEditable(Qo)!=="false"&&_x(xe,Qo,f)).map(Qo=>{const Ds=xe.clone(Qo,!1);return L(Ds),xe.replace(Ds,Gn,!0),xe.remove(Qo,!0),Ds}).getOr(Gn),Ln=dt(ft);if((Ve.length>1||!xe.isBlock(ft))&&Ln===0){xe.remove(ft,!0);return}(Ea(f)||kr(f)&&f.wrapper)&&(!f.exact&&Ln===1&&(ft=bn(ft)),FY(e,l,o,ft),BC(e,f,n,o,ft),$I(xe,f,o,ft),NV(xe,f,o,ft),SL(xe,f,o,ft),hL(e,f,o,ft))})},Ce=ry(r)?r:x.getNode();if(C.getContentEditable(Ce)==="false"&&!OA(e,Ce)){r=Ce,Z(l,r),YT(e,n,r,o);return}if(f){if(r)if(ry(r)){if(!Z(l,r)){const xe=C.createRng();xe.setStartBefore(r),xe.setEndAfter(r),ne(C,X1(C,xe,l),!0)}}else ne(C,r,!0);else!v||!Ea(f)||Z1(e).length?(x.setRng(DC(x.getRng())),Cp(e,()=>{MT(e,(xe,he)=>{const Se=he?xe:X1(C,xe,l);ne(C,Se,!1)})},It),e.nodeChanged()):wx(e,n,o),cL(e.formatter,n).each(xe=>{mt(dL(e.selection),he=>jE(C,he,xe,o))});II(n,e)}YT(e,n,r,o)},MV=e=>qn(e,"vars"),kV=(e,n)=>{e.set({}),n.on("NodeChange",o=>{LV(n,o.element,e.get())}),n.on("FormatApply FormatRemove",o=>{const r=te.from(o.node).map(l=>ry(l)?l:l.startContainer).bind(l=>nn(l)?te.some(l):te.from(l.parentElement)).getOrThunk(()=>PV(n));LV(n,r,e.get())})},PV=e=>e.selection.getStart(),AL=(e,n,o,r,l)=>Pc(n,C=>{const x=e.formatter.matchNode(C,o,l??{},r);return!ht(x)},C=>wI(e,C,o)?!0:r?!1:Ne(e.formatter.matchNode(C,o,l,!0))),xL=(e,n)=>{const o=n??PV(e);return Lt(EE(e.dom,o),r=>nn(r)&&!ol(r))},LV=(e,n,o)=>{const r=xL(e,n);an(o,(l,f)=>{const v=C=>{const x=AL(e,r,f,C.similar,MV(C)?C.vars:void 0),L=x.isSome();if(C.state.get()!==L){C.state.set(L);const Z=x.getOr(n);MV(C)?C.callback(L,{node:Z,format:f,parents:r}):mt(C.callbacks,j=>j(L,{node:Z,format:f,parents:r}))}};mt([l.withSimilar,l.withoutSimilar],v),mt(l.withVars,v)})},$V=(e,n,o,r,l,f)=>{const v=n.get();mt(o.split(","),C=>{const x=Xs(v,C).getOrThunk(()=>{const Z={withSimilar:{state:Vi(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Vi(!1),similar:!1,callbacks:[]},withVars:[]};return v[C]=Z,Z}),L=()=>{const Z=xL(e);return AL(e,Z,C,l,f).isSome()};if(ht(f)){const Z=l?x.withSimilar:x.withoutSimilar;Z.callbacks.push(r),Z.callbacks.length===1&&Z.state.set(L())}else x.withVars.push({state:Vi(L()),similar:l,vars:f,callback:r})}),n.set(v)},OL=(e,n,o)=>{const r=e.get();mt(n.split(","),l=>Xs(r,l).each(f=>{r[l]={withSimilar:{...f.withSimilar,callbacks:Lt(f.withSimilar.callbacks,v=>v!==o)},withoutSimilar:{...f.withoutSimilar,callbacks:Lt(f.withoutSimilar.callbacks,v=>v!==o)},withVars:Lt(f.withVars,v=>v.callback!==o)}})),e.set(r)},BV=(e,n,o,r,l,f)=>($V(e,n,o,r,l,f),{unbind:()=>OL(n,o,r)}),RL=(e,n,o,r)=>{const l=e.formatter.get(n);l&&(Tg(e,n,o,r)&&(!("toggle"in l[0])||l[0].toggle)?TL(e,n,o,r):BI(e,n,o,r))},IL=pe.explode,VC=()=>{const e={};return{addFilter:(l,f)=>{mt(IL(l),v=>{qn(e,v)||(e[v]={name:v,callbacks:[]}),e[v].callbacks.push(f)})},getFilters:()=>qd(e),removeFilter:(l,f)=>{mt(IL(l),v=>{if(qn(e,v))if(Ne(f)){const C=e[v],x=Lt(C.callbacks,L=>L!==f);x.length>0?C.callbacks=x:delete e[v]}else delete e[v]})}}},DL=(e,n)=>{mt(n,o=>{e.attr(o,null)})},Za=(e,n,o)=>{e.addNodeFilter("font",r=>{mt(r,l=>{const f=n.parse(l.attr("style")),v=l.attr("color"),C=l.attr("face"),x=l.attr("size");v&&(f.color=v),C&&(f["font-family"]=C),x&&cd(x).each(L=>{f["font-size"]=o[L-1]}),l.name="span",l.attr("style",n.serialize(f)),DL(l,["color","face","size"])})})},HY=(e,n,o)=>{e.addNodeFilter("strike",r=>{const l=n.type!=="html4";mt(r,f=>{if(l)f.name="s";else{const v=o.parse(f.attr("style"));v["text-decoration"]="line-through",f.name="span",f.attr("style",o.serialize(v))}})})},VY=(e,n,o)=>{var r;const l=sp();n.convert_fonts_to_spans&&Za(e,l,pe.explode((r=n.font_size_legacy_values)!==null&&r!==void 0?r:"")),HY(e,o,l)},UY=(e,n,o)=>{n.inline_styles&&VY(e,n,o)},zY=e=>fetch(e).then(n=>n.ok?n.blob():Promise.reject()).catch(()=>Promise.reject(`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`)),im=e=>{const n=/([a-z0-9+\/=\s]+)/i.exec(e);return n?n[1]:""},ZE=e=>{const[n,...o]=e.split(","),r=o.join(","),l=/data:([^/]+\/[^;]+)(;.+)?/.exec(n);if(l){const f=l[2]===";base64",v=f?im(r):decodeURIComponent(r);return te.some({type:l[1],data:v,base64Encoded:f})}else return te.none()},Nb=(e,n,o=!0)=>{let r=n;if(o)try{r=atob(n)}catch{return te.none()}const l=new Uint8Array(r.length);for(let f=0;f<l.length;f++)l[f]=r.charCodeAt(f);return te.some(new Blob([l],{type:e}))},Oy=e=>new Promise((n,o)=>{ZE(e).bind(({type:r,data:l,base64Encoded:f})=>Nb(r,l,f)).fold(()=>o("Invalid data URI"),n)}),FV=e=>_i(e,"blob:")?zY(e):_i(e,"data:")?Oy(e):Promise.reject("Unknown URI format"),NL=e=>new Promise((n,o)=>{const r=new FileReader;r.onloadend=()=>{n(r.result)},r.onerror=()=>{var l;o((l=r.error)===null||l===void 0?void 0:l.message)},r.readAsDataURL(e)});let YE=0;const KE=e=>(e||"blobid")+YE++,Ry=(e,n,o)=>ZE(e).bind(({data:r,type:l,base64Encoded:f})=>{if(n&&!f)return te.none();{const v=f?r:btoa(r);return o(v,l)}}),ML=(e,n,o)=>{const r=e.create(KE(),n,o);return e.add(r),r},xx=(e,n,o=!1)=>Ry(n,o,(r,l)=>te.from(e.getByData(r,l)).orThunk(()=>Nb(l,r).map(f=>ML(e,f,r)))),kL=(e,n)=>{const o=()=>Promise.reject("Invalid data URI");if(_i(n,"blob:")){const r=e.getByUri(n);return Ne(r)?Promise.resolve(r):FV(n).then(l=>NL(l).then(f=>Ry(f,!1,v=>te.some(ML(e,l,v))).getOrThunk(o)))}else return _i(n,"data:")?xx(e,n).fold(o,r=>Promise.resolve(r)):Promise.reject("Unknown image data format")},PL=e=>Ne(e.attr("data-mce-bogus")),HV=e=>e.attr("src")===Do.transparentSrc||Ne(e.attr("data-mce-placeholder")),VV=(e,n)=>{const{blob_cache:o}=n;if(o){const r=l=>{const f=l.attr("src");HV(l)||PL(l)||Et(f)||xx(o,f,!0).each(v=>{l.attr("src",v.blobUri())})};e.addAttributeFilter("src",l=>mt(l,r))}},LL=(e,n)=>{const o=e.schema;n.remove_trailing_brs&&e.addNodeFilter("br",(l,f,v)=>{const C=pe.extend({},o.getBlockElements()),x=o.getNonEmptyElements(),L=o.getWhitespaceElements();C.body=1;const Z=j=>j.name in C&&Fm(o,j);for(let j=0,ne=l.length;j<ne;j++){let Ce=l[j],xe=Ce.parent;if(xe&&C[xe.name]&&Ce===xe.lastChild){let he=Ce.prev;for(;he;){const Se=he.name;if(Se!=="span"||he.attr("data-mce-type")!=="bookmark"){Se==="br"&&(Ce=null);break}he=he.prev}if(Ce&&(Ce.remove(),WE(o,x,L,xe))){const Se=o.getElementRule(xe.name);Se&&(Se.removeEmpty?xe.remove():Se.paddEmpty&&IC(v,Z,xe))}}else{let he=Ce;for(;xe&&xe.firstChild===he&&xe.lastChild===he&&(he=xe,!C[xe.name]);)xe=xe.parent;if(he===xe){const Se=new Ju("#text",3);Se.value=ys,Ce.replace(Se)}}}}),e.addAttributeFilter("href",l=>{let f=l.length;const v=x=>x.split(" ").filter(Z=>Z.length>0).concat(["noopener"]).sort().join(" "),C=x=>{const L=x?pe.trim(x):"";return/\b(noopener)\b/g.test(L)?L:v(L)};if(!n.allow_unsafe_link_target)for(;f--;){const x=l[f];x.name==="a"&&x.attr("target")==="_blank"&&x.attr("rel",C(x.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",l=>{let f=l.length,v,C,x,L;for(;f--;)if(L=l[f],L.name==="a"&&L.firstChild&&!L.attr("href"))for(x=L.parent,v=L.lastChild;v&&x;)C=v.prev,x.insert(v,L),v=C}),n.fix_list_elements&&e.addNodeFilter("ul,ol",l=>{let f=l.length,v,C;for(;f--;)if(v=l[f],C=v.parent,C&&(C.name==="ul"||C.name==="ol"))if(v.prev&&v.prev.name==="li")v.prev.append(v);else{const x=new Ju("li",1);x.attr("style","list-style-type: none"),v.wrap(x)}});const r=o.getValidClasses();n.validate&&r&&e.addAttributeFilter("class",l=>{var f;let v=l.length;for(;v--;){const C=l[v],x=(f=C.attr("class"))!==null&&f!==void 0?f:"",L=pe.explode(x," ");let Z="";for(let j=0;j<L.length;j++){const ne=L[j];let Ce=!1,xe=r["*"];xe&&xe[ne]&&(Ce=!0),xe=r[C.name],!Ce&&xe&&xe[ne]&&(Ce=!0),Ce&&(Z&&(Z+=" "),Z+=ne)}Z.length||(Z=null),C.attr("class",Z)}}),VV(e,n)};function Iy(e){return Iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Iy(e)}function FI(e,n){return FI=Object.setPrototypeOf||function(r,l){return r.__proto__=l,r},FI(e,n)}function UV(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ox(e,n,o){return UV()?Ox=Reflect.construct:Ox=function(l,f,v){var C=[null];C.push.apply(C,f);var x=Function.bind.apply(l,C),L=new x;return v&&FI(L,v.prototype),L},Ox.apply(null,arguments)}function Cg(e){return $L(e)||zV(e)||UC(e)||WV()}function $L(e){if(Array.isArray(e))return Rx(e)}function zV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function UC(e,n){if(e){if(typeof e=="string")return Rx(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);if(o==="Object"&&e.constructor&&(o=e.constructor.name),o==="Map"||o==="Set")return Array.from(e);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Rx(e,n)}}function Rx(e,n){(n==null||n>e.length)&&(n=e.length);for(var o=0,r=new Array(n);o<n;o++)r[o]=e[o];return r}function WV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var BL=Object.hasOwnProperty,FL=Object.setPrototypeOf,HL=Object.isFrozen,GV=Object.getPrototypeOf,qV=Object.getOwnPropertyDescriptor,ed=Object.freeze,Sg=Object.seal,VL=Object.create,HI=typeof Reflect<"u"&&Reflect,zC=HI.apply,Ix=HI.construct;zC||(zC=function(n,o,r){return n.apply(o,r)}),ed||(ed=function(n){return n}),Sg||(Sg=function(n){return n}),Ix||(Ix=function(n,o){return Ox(n,Cg(o))});var jV=nu(Array.prototype.forEach),ZV=nu(Array.prototype.pop),WC=nu(Array.prototype.push),XE=nu(String.prototype.toLowerCase),GC=nu(String.prototype.match),av=nu(String.prototype.replace),UL=nu(String.prototype.indexOf),Dx=nu(String.prototype.trim),kd=nu(RegExp.prototype.test),VI=UI(TypeError);function nu(e){return function(n){for(var o=arguments.length,r=new Array(o>1?o-1:0),l=1;l<o;l++)r[l-1]=arguments[l];return zC(e,n,r)}}function UI(e){return function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return Ix(e,o)}}function tr(e,n){FL&&FL(e,null);for(var o=n.length;o--;){var r=n[o];if(typeof r=="string"){var l=XE(r);l!==r&&(HL(n)||(n[o]=l),r=l)}e[r]=!0}return e}function Ag(e){var n=VL(null),o;for(o in e)zC(BL,e,[o])&&(n[o]=e[o]);return n}function qC(e,n){for(;e!==null;){var o=qV(e,n);if(o){if(o.get)return nu(o.get);if(typeof o.value=="function")return nu(o.value)}e=GV(e)}function r(l){return console.warn("fallback value for",l),null}return r}var Nx=ed(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Mx=ed(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),kx=ed(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),YV=ed(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),zI=ed(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),KV=ed(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Px=ed(["#text"]),zL=ed(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Lx=ed(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),WL=ed(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),$x=ed(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),XV=Sg(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Dy=Sg(/<%[\w\W]*|[\w\W]*%>/gm),GL=Sg(/^data-[\-\w.\u00B7-\uFFFF]/),QV=Sg(/^aria-[\-\w]+$/),qL=Sg(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),JV=Sg(/^(?:\w+script|data):/i),jL=Sg(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),jC=Sg(/^html$/i),WI=function(){return typeof window>"u"?null:window},e8=function(n,o){if(Iy(n)!=="object"||typeof n.createPolicy!="function")return null;var r=null,l="data-tt-policy-suffix";o.currentScript&&o.currentScript.hasAttribute(l)&&(r=o.currentScript.getAttribute(l));var f="dompurify"+(r?"#"+r:"");try{return n.createPolicy(f,{createHTML:function(C){return C}})}catch{return console.warn("TrustedTypes policy "+f+" could not be created."),null}};function GI(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:WI(),n=function(vt){return GI(vt)};if(n.version="2.3.8",n.removed=[],!e||!e.document||e.document.nodeType!==9)return n.isSupported=!1,n;var o=e.document,r=e.document,l=e.DocumentFragment,f=e.HTMLTemplateElement,v=e.Node,C=e.Element,x=e.NodeFilter,L=e.NamedNodeMap,Z=L===void 0?e.NamedNodeMap||e.MozNamedAttrMap:L,j=e.HTMLFormElement,ne=e.DOMParser,Ce=e.trustedTypes,xe=C.prototype,he=qC(xe,"cloneNode"),Se=qC(xe,"nextSibling"),Ve=qC(xe,"childNodes"),$e=qC(xe,"parentNode");if(typeof f=="function"){var je=r.createElement("template");je.content&&je.content.ownerDocument&&(r=je.content.ownerDocument)}var rt=e8(Ce,o),St=rt?rt.createHTML(""):"",on=r,jt=on.implementation,ft=on.createNodeIterator,dt=on.createDocumentFragment,bn=on.getElementsByTagName,Ln=o.importNode,Gn={};try{Gn=Ag(r).documentMode?r.documentMode:{}}catch{}var wo={};n.isSupported=typeof $e=="function"&&jt&&typeof jt.createHTMLDocument<"u"&&Gn!==9;var Qo=XV,Ds=Dy,ar=GL,Ri=QV,kc=JV,Ka=jL,Gt=qL,Rn=null,hs=tr({},[].concat(Cg(Nx),Cg(Mx),Cg(kx),Cg(zI),Cg(Px))),un=null,Vn=tr({},[].concat(Cg(zL),Cg(Lx),Cg(WL),Cg($x))),zn=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),hn=null,Wo=null,Go=!0,gc=!0,Vr=!1,go=!1,gs=!1,Ks=!1,cr=!1,mi=!1,Zi=!1,qr=!1,wa=!0,ch=!0,ul=!1,Ig={},Fd=null,Qy=tr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Jy=null,Dg=tr({},["audio","video","img","source","image","track"]),pm=null,Ba=tr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),lh="http://www.w3.org/1998/Math/MathML",Ng="http://www.w3.org/2000/svg",ou="http://www.w3.org/1999/xhtml",uh=ou,Gp=!1,Ml,mv=["application/xhtml+xml","text/html"],Mg="text/html",Hd,qp=null,GS=r.createElement("form"),EO=function(vt){return vt instanceof RegExp||vt instanceof Function},qS=function(vt){qp&&qp===vt||((!vt||Iy(vt)!=="object")&&(vt={}),vt=Ag(vt),Rn="ALLOWED_TAGS"in vt?tr({},vt.ALLOWED_TAGS):hs,un="ALLOWED_ATTR"in vt?tr({},vt.ALLOWED_ATTR):Vn,pm="ADD_URI_SAFE_ATTR"in vt?tr(Ag(Ba),vt.ADD_URI_SAFE_ATTR):Ba,Jy="ADD_DATA_URI_TAGS"in vt?tr(Ag(Dg),vt.ADD_DATA_URI_TAGS):Dg,Fd="FORBID_CONTENTS"in vt?tr({},vt.FORBID_CONTENTS):Qy,hn="FORBID_TAGS"in vt?tr({},vt.FORBID_TAGS):{},Wo="FORBID_ATTR"in vt?tr({},vt.FORBID_ATTR):{},Ig="USE_PROFILES"in vt?vt.USE_PROFILES:!1,Go=vt.ALLOW_ARIA_ATTR!==!1,gc=vt.ALLOW_DATA_ATTR!==!1,Vr=vt.ALLOW_UNKNOWN_PROTOCOLS||!1,go=vt.SAFE_FOR_TEMPLATES||!1,gs=vt.WHOLE_DOCUMENT||!1,mi=vt.RETURN_DOM||!1,Zi=vt.RETURN_DOM_FRAGMENT||!1,qr=vt.RETURN_TRUSTED_TYPE||!1,cr=vt.FORCE_BODY||!1,wa=vt.SANITIZE_DOM!==!1,ch=vt.KEEP_CONTENT!==!1,ul=vt.IN_PLACE||!1,Gt=vt.ALLOWED_URI_REGEXP||Gt,uh=vt.NAMESPACE||ou,vt.CUSTOM_ELEMENT_HANDLING&&EO(vt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(zn.tagNameCheck=vt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),vt.CUSTOM_ELEMENT_HANDLING&&EO(vt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(zn.attributeNameCheck=vt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),vt.CUSTOM_ELEMENT_HANDLING&&typeof vt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(zn.allowCustomizedBuiltInElements=vt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ml=mv.indexOf(vt.PARSER_MEDIA_TYPE)===-1?Ml=Mg:Ml=vt.PARSER_MEDIA_TYPE,Hd=Ml==="application/xhtml+xml"?function(On){return On}:XE,go&&(gc=!1),Zi&&(mi=!0),Ig&&(Rn=tr({},Cg(Px)),un=[],Ig.html===!0&&(tr(Rn,Nx),tr(un,zL)),Ig.svg===!0&&(tr(Rn,Mx),tr(un,Lx),tr(un,$x)),Ig.svgFilters===!0&&(tr(Rn,kx),tr(un,Lx),tr(un,$x)),Ig.mathMl===!0&&(tr(Rn,zI),tr(un,WL),tr(un,$x))),vt.ADD_TAGS&&(Rn===hs&&(Rn=Ag(Rn)),tr(Rn,vt.ADD_TAGS)),vt.ADD_ATTR&&(un===Vn&&(un=Ag(un)),tr(un,vt.ADD_ATTR)),vt.ADD_URI_SAFE_ATTR&&tr(pm,vt.ADD_URI_SAFE_ATTR),vt.FORBID_CONTENTS&&(Fd===Qy&&(Fd=Ag(Fd)),tr(Fd,vt.FORBID_CONTENTS)),ch&&(Rn["#text"]=!0),gs&&tr(Rn,["html","head","body"]),Rn.table&&(tr(Rn,["tbody"]),delete hn.tbody),ed&&ed(vt),qp=vt)},PM=tr({},["mi","mo","mn","ms","mtext"]),jS=tr({},["foreignobject","desc","title","annotation-xml"]),LM=tr({},["title","style","font","a","script"]),vm=tr({},Mx);tr(vm,kx),tr(vm,YV);var e_=tr({},zI);tr(e_,KV);var it=function(vt){var On=$e(vt);(!On||!On.tagName)&&(On={namespaceURI:ou,tagName:"template"});var io=XE(vt.tagName),Yi=XE(On.tagName);return vt.namespaceURI===Ng?On.namespaceURI===ou?io==="svg":On.namespaceURI===lh?io==="svg"&&(Yi==="annotation-xml"||PM[Yi]):!!vm[io]:vt.namespaceURI===lh?On.namespaceURI===ou?io==="math":On.namespaceURI===Ng?io==="math"&&jS[Yi]:!!e_[io]:vt.namespaceURI===ou?On.namespaceURI===Ng&&!jS[Yi]||On.namespaceURI===lh&&!PM[Yi]?!1:!e_[io]&&(LM[io]||!vm[io]):!1},at=function(vt){WC(n.removed,{element:vt});try{vt.parentNode.removeChild(vt)}catch{try{vt.outerHTML=St}catch{vt.remove()}}},Zt=function(vt,On){try{WC(n.removed,{attribute:On.getAttributeNode(vt),from:On})}catch{WC(n.removed,{attribute:null,from:On})}if(On.removeAttribute(vt),vt==="is"&&!un[vt])if(mi||Zi)try{at(On)}catch{}else try{On.setAttribute(vt,"")}catch{}},zt=function(vt){var On,io;if(cr)vt="<remove></remove>"+vt;else{var Yi=GC(vt,/^[\r\n\t ]+/);io=Yi&&Yi[0]}Ml==="application/xhtml+xml"&&(vt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+vt+"</body></html>");var Rf=rt?rt.createHTML(vt):vt;if(uh===ou)try{On=new ne().parseFromString(Rf,Ml)}catch{}if(!On||!On.documentElement){On=jt.createDocument(uh,"template",null);try{On.documentElement.innerHTML=Gp?"":Rf}catch{}}var od=On.body||On.documentElement;return vt&&io&&od.insertBefore(r.createTextNode(io),od.childNodes[0]||null),uh===ou?bn.call(On,gs?"html":"body")[0]:gs?On.documentElement:od},Hn=function(vt){return ft.call(vt.ownerDocument||vt,vt,x.SHOW_ELEMENT|x.SHOW_COMMENT|x.SHOW_TEXT,null,!1)},qo=function(vt){return vt instanceof j&&(typeof vt.nodeName!="string"||typeof vt.textContent!="string"||typeof vt.removeChild!="function"||!(vt.attributes instanceof Z)||typeof vt.removeAttribute!="function"||typeof vt.setAttribute!="function"||typeof vt.namespaceURI!="string"||typeof vt.insertBefore!="function")},pr=function(vt){return Iy(v)==="object"?vt instanceof v:vt&&Iy(vt)==="object"&&typeof vt.nodeType=="number"&&typeof vt.nodeName=="string"},Pr=function(vt,On,io){wo[vt]&&jV(wo[vt],function(Yi){Yi.call(n,On,io,qp)})},jp=function(vt){var On;if(Pr("beforeSanitizeElements",vt,null),qo(vt)||kd(/[\u0080-\uFFFF]/,vt.nodeName))return at(vt),!0;var io=Hd(vt.nodeName);if(Pr("uponSanitizeElement",vt,{tagName:io,allowedTags:Rn}),vt.hasChildNodes()&&!pr(vt.firstElementChild)&&(!pr(vt.content)||!pr(vt.content.firstElementChild))&&kd(/<[/\w]/g,vt.innerHTML)&&kd(/<[/\w]/g,vt.textContent)||io==="select"&&kd(/<template/i,vt.innerHTML))return at(vt),!0;if(!Rn[io]||hn[io]){if(!hn[io]&&I5(io)&&(zn.tagNameCheck instanceof RegExp&&kd(zn.tagNameCheck,io)||zn.tagNameCheck instanceof Function&&zn.tagNameCheck(io)))return!1;if(ch&&!Fd[io]){var Yi=$e(vt)||vt.parentNode,Rf=Ve(vt)||vt.childNodes;if(Rf&&Yi)for(var od=Rf.length,ti=od-1;ti>=0;--ti)Yi.insertBefore(he(Rf[ti],!0),Se(vt))}return at(vt),!0}return vt instanceof C&&!it(vt)||(io==="noscript"||io==="noembed")&&kd(/<\/no(script|embed)/i,vt.innerHTML)?(at(vt),!0):(go&&vt.nodeType===3&&(On=vt.textContent,On=av(On,Qo," "),On=av(On,Ds," "),vt.textContent!==On&&(WC(n.removed,{element:vt.cloneNode()}),vt.textContent=On)),Pr("afterSanitizeElements",vt,null),!1)},Vd=function(vt,On,io){if(wa&&(On==="id"||On==="name")&&(io in r||io in GS))return!1;if(!(gc&&!Wo[On]&&kd(ar,On))){if(!(Go&&kd(Ri,On))){if(!un[On]||Wo[On]){if(!(I5(vt)&&(zn.tagNameCheck instanceof RegExp&&kd(zn.tagNameCheck,vt)||zn.tagNameCheck instanceof Function&&zn.tagNameCheck(vt))&&(zn.attributeNameCheck instanceof RegExp&&kd(zn.attributeNameCheck,On)||zn.attributeNameCheck instanceof Function&&zn.attributeNameCheck(On))||On==="is"&&zn.allowCustomizedBuiltInElements&&(zn.tagNameCheck instanceof RegExp&&kd(zn.tagNameCheck,io)||zn.tagNameCheck instanceof Function&&zn.tagNameCheck(io))))return!1}else if(!pm[On]){if(!kd(Gt,av(io,Ka,""))){if(!((On==="src"||On==="xlink:href"||On==="href")&&vt!=="script"&&UL(io,"data:")===0&&Jy[vt])){if(!(Vr&&!kd(kc,av(io,Ka,"")))){if(io)return!1}}}}}}return!0},I5=function(vt){return vt.indexOf("-")>0},D5=function(vt){var On,io,Yi,Rf;Pr("beforeSanitizeAttributes",vt,null);var od=vt.attributes;if(od){var ti={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:un};for(Rf=od.length;Rf--;){On=od[Rf];var dh=On,Au=dh.name,$M=dh.namespaceURI;io=Au==="value"?On.value:Dx(On.value),Yi=Hd(Au);var wO=io;if(ti.attrName=Yi,ti.attrValue=io,ti.keepAttr=!0,ti.forceKeepAttr=void 0,Pr("uponSanitizeAttribute",vt,ti),io=ti.attrValue,!ti.forceKeepAttr){if(!ti.keepAttr){Zt(Au,vt);continue}if(kd(/\/>/i,io)){Zt(Au,vt);continue}go&&(io=av(io,Qo," "),io=av(io,Ds," "));var BM=Hd(vt.nodeName);if(!Vd(BM,Yi,io)){Zt(Au,vt);continue}if(io!==wO)try{$M?vt.setAttributeNS($M,Au,io):vt.setAttribute(Au,io)}catch{Zt(Au,vt)}}}Pr("afterSanitizeAttributes",vt,null)}},Aj=function Ao(vt){var On,io=Hn(vt);for(Pr("beforeSanitizeShadowDOM",vt,null);On=io.nextNode();)Pr("uponSanitizeShadowNode",On,null),!jp(On)&&(On.content instanceof l&&Ao(On.content),D5(On));Pr("afterSanitizeShadowDOM",vt,null)};return n.sanitize=function(Ao,vt){var On,io,Yi,Rf,od;if(Gp=!Ao,Gp&&(Ao="<!-->"),typeof Ao!="string"&&!pr(Ao)){if(typeof Ao.toString!="function")throw VI("toString is not a function");if(Ao=Ao.toString(),typeof Ao!="string")throw VI("dirty is not a string, aborting")}if(!n.isSupported){if(Iy(e.toStaticHTML)==="object"||typeof e.toStaticHTML=="function"){if(typeof Ao=="string")return e.toStaticHTML(Ao);if(pr(Ao))return e.toStaticHTML(Ao.outerHTML)}return Ao}if(Ks||qS(vt),n.removed=[],typeof Ao=="string"&&(ul=!1),ul){if(Ao.nodeName){var ti=Hd(Ao.nodeName);if(!Rn[ti]||hn[ti])throw VI("root node is forbidden and cannot be sanitized in-place")}}else if(Ao instanceof v)On=zt("<!---->"),io=On.ownerDocument.importNode(Ao,!0),io.nodeType===1&&io.nodeName==="BODY"||io.nodeName==="HTML"?On=io:On.appendChild(io);else{if(!mi&&!go&&!gs&&Ao.indexOf("<")===-1)return rt&&qr?rt.createHTML(Ao):Ao;if(On=zt(Ao),!On)return mi?null:qr?St:""}On&&cr&&at(On.firstChild);for(var dh=Hn(ul?Ao:On);Yi=dh.nextNode();)Yi.nodeType===3&&Yi===Rf||jp(Yi)||(Yi.content instanceof l&&Aj(Yi.content),D5(Yi),Rf=Yi);if(Rf=null,ul)return Ao;if(mi){if(Zi)for(od=dt.call(On.ownerDocument);On.firstChild;)od.appendChild(On.firstChild);else od=On;return un.shadowroot&&(od=Ln.call(o,od,!0)),od}var Au=gs?On.outerHTML:On.innerHTML;return gs&&Rn["!doctype"]&&On.ownerDocument&&On.ownerDocument.doctype&&On.ownerDocument.doctype.name&&kd(jC,On.ownerDocument.doctype.name)&&(Au="<!DOCTYPE "+On.ownerDocument.doctype.name+`>
`+Au),go&&(Au=av(Au,Qo," "),Au=av(Au,Ds," ")),rt&&qr?rt.createHTML(Au):Au},n.setConfig=function(Ao){qS(Ao),Ks=!0},n.clearConfig=function(){qp=null,Ks=!1},n.isValidAttribute=function(Ao,vt,On){qp||qS({});var io=Hd(Ao),Yi=Hd(vt);return Vd(io,Yi,On)},n.addHook=function(Ao,vt){typeof vt=="function"&&(wo[Ao]=wo[Ao]||[],WC(wo[Ao],vt))},n.removeHook=function(Ao){if(wo[Ao])return ZV(wo[Ao])},n.removeHooks=function(Ao){wo[Ao]&&(wo[Ao]=[])},n.removeAllHooks=function(){wo={}},n}var t8=GI();const Bx=pe.each,qI=pe.trim,jI=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],ZL={ftp:21,http:80,https:443,mailto:25},YL=["img","video"],n8=(e,n)=>Ne(e)?!e:Ne(n)?!kn(YL,n):!0,Dp=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},Fx=(e,n,o)=>{const r=Dp(n).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(r)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(r)?n8(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)};class xg{constructor(n,o={}){this.path="",this.directory="",n=qI(n),this.settings=o;const r=o.base_uri,l=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){l.source=n;return}const f=n.indexOf("//")===0;if(n.indexOf("/")===0&&!f&&(n=(r&&r.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){const C=r?r.path:new xg(document.location.href).directory;if((r==null?void 0:r.protocol)==="")n="//mce_host"+l.toAbsPath(C,n);else{const x=/([^#?]*)([#?]?.*)/.exec(n);x&&(n=(r&&r.protocol||"http")+"://mce_host"+l.toAbsPath(C,x[1])+x[2])}}n=n.replace(/@@/g,"(mce_at)");const v=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);v&&Bx(jI,(C,x)=>{let L=v[x];L&&(L=L.replace(/\(mce_at\)/g,"@@")),l[C]=L}),r&&(l.protocol||(l.protocol=r.protocol),l.userInfo||(l.userInfo=r.userInfo),!l.port&&l.host==="mce_host"&&(l.port=r.port),(!l.host||l.host==="mce_host")&&(l.host=r.host),l.source=""),f&&(l.protocol="")}static parseDataUri(n){let o;const r=decodeURIComponent(n).split(","),l=/data:([^;]+)/.exec(r[0]);return l&&(o=l[1]),{type:o,data:r[1]}}static isDomSafe(n,o,r={}){if(r.allow_script_urls)return!0;{const l=cf.decode(n).replace(/[\s\u0000-\u001F]+/g,"");return!Fx(r,l,o)}}static getDocumentBaseUrl(n){var o;let r;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?r=(o=n.href)!==null&&o!==void 0?o:"":r=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r}setPath(n){const o=/^(.*?)\/?(\w+)?$/.exec(n);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(n){if(n==="./")return n;const o=new xg(n,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const r=this.getURI(),l=o.getURI();if(r===l||r.charAt(r.length-1)==="/"&&r.substr(0,r.length-1)===l)return r;let f=this.toRelPath(this.path,o.path);return o.query&&(f+="?"+o.query),o.anchor&&(f+="#"+o.anchor),f}toAbsolute(n,o){const r=new xg(n,{base_uri:this});return r.getURI(o&&this.isSameOrigin(r))}isSameOrigin(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;const o=this.protocol?ZL[this.protocol]:null;if(o&&(this.port||o)==(n.port||o))return!0}return!1}toRelPath(n,o){let r=0,l="",f,v;const C=n.substring(0,n.lastIndexOf("/")).split("/"),x=o.split("/");if(C.length>=x.length){for(f=0,v=C.length;f<v;f++)if(f>=x.length||C[f]!==x[f]){r=f+1;break}}if(C.length<x.length){for(f=0,v=x.length;f<v;f++)if(f>=C.length||C[f]!==x[f]){r=f+1;break}}if(r===1)return o;for(f=0,v=C.length-(r-1);f<v;f++)l+="../";for(f=r-1,v=x.length;f<v;f++)f!==r-1?l+="/"+x[f]:l+=x[f];return l}toAbsPath(n,o){let r=0;const l=/\/$/.test(o)?"/":"",f=n.split("/"),v=o.split("/"),C=[];Bx(f,j=>{j&&C.push(j)});const x=[];for(let j=v.length-1;j>=0;j--)if(!(v[j].length===0||v[j]===".")){if(v[j]===".."){r++;continue}if(r>0){r--;continue}x.push(v[j])}const L=C.length-r;let Z;return L<=0?Z=Os(x).join("/"):Z=C.slice(0,L).join("/")+"/"+Os(x).join("/"),Z.indexOf("/")!==0&&(Z="/"+Z),l&&Z.lastIndexOf("/")!==Z.length-1&&(Z+=l),Z}getURI(n=!1){let o;return(!this.source||n)&&(o="",n||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const o8=pe.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),Hx="data-mce-type";let ZI=0;const QE=(e,n,o,r)=>{var l,f,v,C;const x=n.validate,L=o.getSpecialElements();e.nodeType===eo&&!n.allow_conditional_comments&&/^\[if/i.test((l=e.nodeValue)!==null&&l!==void 0?l:"")&&(e.nodeValue=" "+e.nodeValue);const Z=(f=r==null?void 0:r.tagName)!==null&&f!==void 0?f:e.nodeName.toLowerCase();if(e.nodeType!==_r||Z==="body")return;const j=Oe.fromDom(e),ne=Ji(j,Hx),Ce=Pi(j,"data-mce-bogus");if(!ne&&oe(Ce)){Ce==="all"?wr(j):Ua(j);return}const xe=o.getElementRule(Z);if(x&&!xe){qn(L,Z)?wr(j):Ua(j);return}else Ne(r)&&(r.allowedTags[Z]=!0);if(x&&xe&&!ne){if(mt((v=xe.attributesForced)!==null&&v!==void 0?v:[],he=>{ho(j,he.name,he.value==="{$uid}"?`mce_${ZI++}`:he.value)}),mt((C=xe.attributesDefault)!==null&&C!==void 0?C:[],he=>{Ji(j,he.name)||ho(j,he.name,he.value==="{$uid}"?`mce_${ZI++}`:he.value)}),xe.attributesRequired&&!ko(xe.attributesRequired,he=>Ji(j,he))){Ua(j);return}if(xe.removeEmptyAttrs&&Ha(j)){Ua(j);return}xe.outputName&&xe.outputName!==Z&&Zw(j,xe.outputName)}},KL=(e,n,o,r,l)=>!(r in o8&&Fx(e,l,o))&&(!e.validate||n.isValid(o,r)||_i(r,"data-")||_i(r,"aria-")),XL=(e,n)=>e.hasAttribute(Hx)&&(n==="id"||n==="class"||n==="style"),QL=(e,n)=>e in n.getBoolAttrs(),s8=(e,n,o)=>{const{attributes:r}=e;for(let l=r.length-1;l>=0;l--){const f=r[l],v=f.name,C=f.value;!KL(n,o,e.tagName.toLowerCase(),v,C)&&!XL(e,v)?e.removeAttribute(v):QL(v,o)&&e.setAttribute(v,v)}},r8=(e,n)=>{const o=t8();return o.addHook("uponSanitizeElement",(r,l)=>{QE(r,e,n,l)}),o.addHook("uponSanitizeAttribute",(r,l)=>{const f=r.tagName.toLowerCase(),{attrName:v,attrValue:C}=l;l.keepAttr=KL(e,n,f,v,C),l.keepAttr?(l.allowedAttributes[v]=!0,QL(v,n)&&(l.attrValue=v),e.allow_svg_data_urls&&_i(C,"data:image/svg+xml")&&(l.forceKeepAttr=!0)):XL(r,v)&&(l.forceKeepAttr=!0)}),o},JL=(e,n)=>{const r={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return r.PARSER_MEDIA_TYPE=n,e.allow_script_urls?r.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(r.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),r},i8=(e,n)=>{if(e.sanitize){const o=r8(e,n);return(r,l)=>{o.sanitize(r,JL(e,l)),o.removed=[]}}else return(o,r)=>{const l=document.createNodeIterator(o,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let f;for(;f=l.nextNode();)QE(f,e,n),nn(f)&&s8(f,e,n)}},e4=pe.makeMap,t4=pe.extend,YI=(e,n,o)=>{const r=e.name,l=r in o&&r!=="title"&&r!=="textarea",f=n.childNodes;for(let v=0,C=f.length;v<C;v++){const x=f[v],L=new Ju(x.nodeName.toLowerCase(),x.nodeType);if(nn(x)){const Z=x.attributes;for(let j=0,ne=Z.length;j<ne;j++){const Ce=Z[j];L.attr(Ce.name,Ce.value)}}else Ut(x)?(L.value=x.data,l&&(L.raw=!0)):(Wa(x)||n0(x)||Nm(x))&&(L.value=x.data);YI(L,x,o),e.append(L)}},KI=(e,n,o)=>{const r=[];for(let l=e,f=l;l;f=l,l=l.walk()){const v=l;mt(n,C=>C(v)),Et(v.parent)&&v!==e?l=f:r.push(v)}for(let l=r.length-1;l>=0;l--){const f=r[l];mt(o,v=>v(f))}},n4=(e,n,o,r)=>{const l=o.validate,f=n.getNonEmptyElements(),v=n.getWhitespaceElements(),C=t4(e4("script,style,head,html,body,title,meta,param"),n.getBlockElements()),x=lf(n),L=/[ \t\r\n]+/g,Z=/^[ \t\r\n]+/,j=/[ \t\r\n]+$/,ne=$e=>{let je=$e.parent;for(;Ne(je);){if(je.name in v)return!0;je=je.parent}return!1},Ce=$e=>{let je=$e;for(;Ne(je);){if(je.name in x)return WE(n,f,v,je);je=je.parent}return!1},xe=$e=>$e.name in C&&!Fm(n,$e),he=($e,je)=>{const rt=je?$e.prev:$e.next;return Ne(rt)||Et($e.parent)?!1:xe($e.parent)&&($e.parent!==e||r.isRootContent===!0)};return[$e=>{var je;if($e.type===3&&!ne($e)){let rt=(je=$e.value)!==null&&je!==void 0?je:"";rt=rt.replace(L," "),(eV($e.prev,xe)||he($e,!0))&&(rt=rt.replace(Z,"")),rt.length===0?$e.remove():$e.value=rt}},$e=>{var je;if($e.type===1){const rt=n.getElementRule($e.name);if(l&&rt){const St=WE(n,f,v,$e);rt.paddInEmptyBlock&&St&&Ce($e)?IC(r,xe,$e):rt.removeEmpty&&St?xe($e)?$e.remove():$e.unwrap():rt.paddEmpty&&(St||hI($e))&&IC(r,xe,$e)}}else if($e.type===3&&!ne($e)){let rt=(je=$e.value)!==null&&je!==void 0?je:"";($e.next&&xe($e.next)||he($e,!1))&&(rt=rt.replace(j,"")),rt.length===0?$e.remove():$e.value=rt}}]},o4=(e,n)=>{var o;const r=(o=n.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return r===!1?"":r===!0?"p":r},Mb=(e={},n=Yl())=>{const o=VC(),r=VC(),l={validate:!0,root_name:"body",sanitize:!0,...e},f=new DOMParser,v=i8(l,n),C=(je,rt,St="html")=>{const on=St==="xhtml"?"application/xhtml+xml":"text/html",jt=qn(n.getSpecialElements(),rt.toLowerCase()),ft=jt?`<${rt}>${je}</${rt}>`:je,dt=St==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${ft}</body></html>`:`<body>${ft}</body>`,bn=f.parseFromString(dt,on).body;return v(bn,on),jt?bn.firstChild:bn},x=o.addFilter,L=o.getFilters,Z=o.removeFilter,j=r.addFilter,ne=r.getFilters,Ce=r.removeFilter,xe=(je,rt)=>{HP(n,je)&&rt.push(je)},he=(je,rt)=>{const St=oe(rt.attr(Hx)),on=rt.type===1&&!qn(je,rt.name)&&!Bm(n,rt);return rt.type===3||on&&!St},Se=(je,rt)=>{const St=t4(e4("script,style,head,html,body,title,meta,param"),n.getBlockElements()),on=/^[ \t\r\n]+/,jt=/[ \t\r\n]+$/;let ft=je.firstChild,dt=null;const bn=Ln=>{var Gn,wo;Ln&&(ft=Ln.firstChild,ft&&ft.type===3&&(ft.value=(Gn=ft.value)===null||Gn===void 0?void 0:Gn.replace(on,"")),ft=Ln.lastChild,ft&&ft.type===3&&(ft.value=(wo=ft.value)===null||wo===void 0?void 0:wo.replace(jt,"")))};if(n.isValidChild(je.name,rt.toLowerCase())){for(;ft;){const Ln=ft.next;he(St,ft)?(dt||(dt=new Ju(rt,1),dt.attr(l.forced_root_block_attrs),je.insert(dt,ft)),dt.append(ft)):(bn(dt),dt=null),ft=Ln}bn(dt)}},$e={schema:n,addAttributeFilter:j,getAttributeFilters:ne,removeAttributeFilter:Ce,addNodeFilter:x,getNodeFilters:L,removeNodeFilter:Z,parse:(je,rt={})=>{var St;const on=l.validate,jt=(St=rt.context)!==null&&St!==void 0?St:l.root_name,ft=C(je,jt,rt.format);Uf(n,ft);const dt=new Ju(jt,11);YI(dt,ft,n.getSpecialElements()),ft.innerHTML="";const[bn,Ln]=n4(dt,n,l,rt),Gn=[],wo=on?Ri=>xe(Ri,Gn):Ot,Qo={nodes:{},attributes:{}},Ds=Ri=>UE(L(),ne(),Ri,Qo);if(KI(dt,[bn,Ds],[Ln,wo]),Gn.reverse(),on&&Gn.length>0)if(rt.context){const{pass:Ri,fail:kc}=vi(Gn,Ka=>Ka.parent===dt);mI(kc,n,dt,Ds),rt.invalid=Ri.length>0}else mI(Gn,n,dt,Ds);const ar=o4(l,rt);return ar&&(dt.name==="body"||rt.isRootContent)&&Se(dt,ar),rt.invalid||fI(Qo,rt),dt}};return LL($e,l),UY($e,l,n),$e},s4=e=>MC(e)?Sb({validate:!1}).serialize(e):e,XI=(e,n,o)=>{const r=s4(e),l=n(r);if(l.isDefaultPrevented())return l;if(MC(e))if(l.content!==r){const f=Mb({validate:!1,forced_root_block:!1,sanitize:o}).parse(l.content,{context:e.name});return{...l,content:f}}else return{...l,content:e};else return l},QI=(e,n)=>{if(n.no_events)return Is.value(n);{const o=JT(e,n);return o.isDefaultPrevented()?Is.error(eC(e,{content:"",...o}).content):Is.value(o)}},JI=(e,n,o)=>o.no_events?n:XI(n,l=>eC(e,{...o,content:l}),lb(e)).content,eD=(e,n)=>{if(n.no_events)return Is.value(n);{const o=XI(n.content,r=>XT(e,{...n,content:r}),lb(e));return o.isDefaultPrevented()?(QT(e,o),Is.error(void 0)):Is.value(o)}},ZC=(e,n,o)=>{o.no_events||QT(e,{...o,content:n})},tD=(e,n,o)=>({element:e,width:n,rows:o}),YC=(e,n)=>({element:e,cells:n}),a8=(e,n)=>({x:e,y:n}),r4=(e,n)=>oc(e,n).bind(cd).getOr(1),c8=(e,n,o,r,l)=>{const f=r4(l,"rowspan"),v=r4(l,"colspan"),C=e.rows;for(let x=o;x<o+f;x++){C[x]||(C[x]=YC(p0(r),[]));for(let L=n;L<n+v;L++){const Z=C[x].cells;Z[L]=x===o&&L===n?l:Zm(l)}}},i4=(e,n,o)=>{const r=e.rows;return!!(r[o]?r[o].cells:[])[n]},a4=(e,n,o)=>{for(;i4(e,n,o);)n++;return n},c4=e=>Ns(e,(n,o)=>o.cells.length>n?o.cells.length:n,0),l4=(e,n)=>{const o=e.rows;for(let r=0;r<o.length;r++){const l=o[r].cells;for(let f=0;f<l.length;f++)if(ns(l[f],n))return te.some(a8(f,r))}return te.none()},u4=(e,n,o,r,l)=>{const f=[],v=e.rows;for(let C=o;C<=l;C++){const x=v[C].cells,L=n<r?x.slice(n,r+1):x.slice(r,n+1);f.push(YC(v[C].element,L))}return f},l8=(e,n,o)=>{const r=n.x,l=n.y,f=o.x,v=o.y,C=l<v?u4(e,r,l,f,v):u4(e,r,v,f,l);return tD(e.element,c4(C),C)},d4=(e,n)=>{const o=Zm(e.element),r=Oe.fromTag("tbody");return pd(r,n),Er(o,r),o},WY=e=>Yt(e.rows,n=>{const o=Yt(n.cells,l=>{const f=p0(l);return fr(f,"colspan"),fr(f,"rowspan"),f}),r=Zm(n.element);return pd(r,o),r}),u8=e=>{const n=tD(Zm(e),0,[]);return mt(Qr(e,"tr"),(o,r)=>{mt(Qr(o,"td,th"),(l,f)=>{c8(n,a4(n,f,r),r,o,l)})}),tD(n.element,c4(n.rows),n.rows)},d8=e=>d4(e,WY(e)),f8=(e,n,o)=>l4(e,n).bind(r=>l4(e,o).map(l=>l8(e,r,l))),h8=e=>vs(e,n=>Vs(n)==="ul"||Vs(n)==="ol"),m8=(e,n)=>vs(e,o=>Vs(o)==="li"&&sy(o,n)).fold(et([]),o=>h8(e).map(r=>{const l=Oe.fromTag(Vs(r)),f=ks(tl(r),(v,C)=>_i(C,"list-style"));return ha(l,f),[Oe.fromTag("li"),l]}).getOr([])),g8=(e,n)=>{const o=Ns(n,(r,l)=>(Er(l,r),l),e);return n.length>0?lC([o]):o},p8=e=>ci(e)?Vo(e).filter(Gr).fold(et([]),n=>[e,n]):Gr(e)?[e]:[],f4=(e,n)=>{const o=Oe.fromDom(n.commonAncestorContainer),r=ov(o,e),l=Lt(r,tf),f=m8(r,n),v=l.concat(f.length?f:p8(o));return Yt(v,Zm)},h4=()=>lC([]),v8=(e,n)=>g8(Oe.fromDom(n.cloneContents()),f4(e,n)),b8=(e,n)=>Da(n,"table",Ge(ns,e)),y8=(e,n)=>b8(e,n[0]).bind(o=>{const r=n[0],l=n[n.length-1],f=u8(o);return f8(f,r,l).map(v=>lC([d8(v)]))}).getOrThunk(h4),_8=(e,n)=>n.length>0&&n[0].collapsed?h4():v8(e,n[0]),GY=(e,n)=>{const o=oy(n,e);return o.length>0?y8(e,o):_8(e,n)},nD=(e,n)=>n>=0&&n<e.length&&ny(e.charAt(n)),m4=e=>yd(e.innerText),E8=e=>e.map(n=>n.nodeName).getOr("div").toLowerCase(),qY=e=>te.from(e.selection.getRng()).map(n=>{var o;const r=te.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),l=e.getBody(),f=E8(r),v=Oe.fromDom(n.cloneContents());Pk(v),Lk(v);const C=e.dom.add(l,f,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},v.dom),x=m4(C),L=yd((o=C.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(C),nD(L,0)||nD(L,L.length-1)){const Z=r.getOr(l),j=m4(Z),ne=j.indexOf(x);if(ne===-1)return x;{const Ce=nD(j,ne-1),xe=nD(j,ne+x.length);return(Ce?" ":"")+x+(xe?" ":"")}}else return x}).getOr(""),w8=(e,n)=>{const o=e.selection.getRng(),r=e.dom.create("body"),l=e.selection.getSel(),f=HR(e,Uo(l)),v=n.contextual?GY(Oe.fromDom(e.getBody()),f).dom:o.cloneContents();return v&&r.appendChild(v),e.selection.serializer.serialize(r,n)},Ai=(e,n)=>{if(n.format==="text")return qY(e);{const o=w8(e,n);return n.format==="tree"?o:e.selection.isCollapsed()?"":o}},oD=(e,n)=>({...e,format:n,get:!0,selection:!0,getInner:!0}),jY=(e,n,o={})=>{const r=oD(o,n);return QI(e,r).fold(qt,l=>{const f=Ai(e,l);return JI(e,f,l)})},sD=0,g4=1,Ny=2,ZY=(e,n)=>{const o=e.length+n.length+2,r=new Array(o),l=new Array(o),f=(Z,j,ne)=>({start:Z,end:j,diag:ne}),v=(Z,j,ne,Ce,xe)=>{const he=x(Z,j,ne,Ce);if(he===null||he.start===j&&he.diag===j-Ce||he.end===Z&&he.diag===Z-ne){let Se=Z,Ve=ne;for(;Se<j||Ve<Ce;)Se<j&&Ve<Ce&&e[Se]===n[Ve]?(xe.push([sD,e[Se]]),++Se,++Ve):j-Z>Ce-ne?(xe.push([Ny,e[Se]]),++Se):(xe.push([g4,n[Ve]]),++Ve)}else{v(Z,he.start,ne,he.start-he.diag,xe);for(let Se=he.start;Se<he.end;++Se)xe.push([sD,e[Se]]);v(he.end,j,he.end-he.diag,Ce,xe)}},C=(Z,j,ne,Ce)=>{let xe=Z;for(;xe-j<Ce&&xe<ne&&e[xe]===n[xe-j];)++xe;return f(Z,xe,j)},x=(Z,j,ne,Ce)=>{const xe=j-Z,he=Ce-ne;if(xe===0||he===0)return null;const Se=xe-he,Ve=he+xe,$e=(Ve%2===0?Ve:Ve+1)/2;r[1+$e]=Z,l[1+$e]=j+1;let je,rt,St,on,jt;for(je=0;je<=$e;++je){for(rt=-je;rt<=je;rt+=2){for(St=rt+$e,rt===-je||rt!==je&&r[St-1]<r[St+1]?r[St]=r[St+1]:r[St]=r[St-1]+1,on=r[St],jt=on-Z+ne-rt;on<j&&jt<Ce&&e[on]===n[jt];)r[St]=++on,++jt;if(Se%2!==0&&Se-je<=rt&&rt<=Se+je&&l[St-Se]<=r[St])return C(l[St-Se],rt+Z-ne,j,Ce)}for(rt=Se-je;rt<=Se+je;rt+=2){for(St=rt+$e-Se,rt===Se-je||rt!==Se+je&&l[St+1]<=l[St-1]?l[St]=l[St+1]-1:l[St]=l[St-1],on=l[St]-1,jt=on-Z+ne-rt;on>=Z&&jt>=ne&&e[on]===n[jt];)l[St]=on--,jt--;if(Se%2===0&&-je<=rt&&rt<=je&&l[St]<=r[St+Se])return C(l[St],rt+Z-ne,j,Ce)}}return null},L=[];return v(0,e.length,0,n.length,L),L},T8=e=>nn(e)?e.outerHTML:Ut(e)?cf.encodeRaw(e.data,!1):Wa(e)?"<!--"+e.data+"-->":"",cl=e=>{let n;const o=document.createElement("div"),r=document.createDocumentFragment();for(e&&(o.innerHTML=e);n=o.firstChild;)r.appendChild(n);return r},p4=(e,n,o)=>{const r=cl(n);if(e.hasChildNodes()&&o<e.childNodes.length){const l=e.childNodes[o];e.insertBefore(r,l)}else e.appendChild(r)},v4=(e,n)=>{if(e.hasChildNodes()&&n<e.childNodes.length){const o=e.childNodes[n];e.removeChild(o)}},b4=(e,n)=>{let o=0;mt(e,r=>{r[0]===sD?o++:r[0]===g4?(p4(n,r[1],o),o++):r[0]===Ny&&v4(n,o)})},C8=e=>Lt(Yt(vr(e.childNodes),T8),n=>n.length>0),S8=(e,n)=>{const o=Yt(vr(n.childNodes),T8);return b4(ZY(o,e),n),n},Vx=hl(()=>document.implementation.createHTMLDocument("undo")),A8=e=>e.indexOf("</iframe>")!==-1,rD=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),x8=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),KC=e=>{const n=C8(e.getBody()),o=Ca(n,l=>{const f=kk(e.serializer,l);return f.length>0?[f]:[]}),r=o.join("");return A8(r)?rD(o):x8(r)},Ux=(e,n,o)=>{const r=o?n.beforeBookmark:n.bookmark;n.type==="fragmented"?S8(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:Ne(r)&&ET(r)?!r.isFakeCaret:!0}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},XC=e=>e.type==="fragmented"?e.fragments.join(""):e.content,iD=e=>{const n=Oe.fromTag("body",Vx());return Rm(n,XC(e)),mt(Qr(n,"*[data-mce-bogus]"),Ua),Pf(n)},aD=(e,n)=>XC(e)===XC(n),O8=(e,n)=>iD(e)===iD(n),cD=(e,n)=>!e||!n?!1:aD(e,n)?!0:O8(e,n),lD=e=>e.get()===0,td=(e,n,o)=>{lD(o)&&(e.typing=n)},y4=(e,n)=>{e.typing&&(td(e,!1,n),e.add())},R8=e=>{e.typing&&(e.typing=!1,e.add())},I8=(e,n,o)=>{lD(n)&&o.set(ba(e.selection))},D8=(e,n,o,r,l,f,v)=>{const C=KC(e),x=pe.extend(f||{},C);if(!lD(r)||e.removed)return null;const L=n.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:x,lastLevel:L,originalEvent:v}).isDefaultPrevented()||L&&cD(L,x))return null;n.data[o.get()]&&l.get().each(ne=>{n.data[o.get()].beforeBookmark=ne});const Z=oT(e);if(Z&&n.data.length>Z){for(let ne=0;ne<n.data.length-1;ne++)n.data[ne]=n.data[ne+1];n.data.length--,o.set(n.data.length)}x.bookmark=ba(e.selection),o.get()<n.data.length-1&&(n.data.length=o.get()+1),n.data.push(x),o.set(n.data.length-1);const j={level:x,lastLevel:L,originalEvent:v};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",j),e.dispatch("change",j)):e.dispatch("AddUndo",j),x},N8=(e,n,o)=>{n.data=[],o.set(0),n.typing=!1,e.dispatch("ClearUndos")},_4=(e,n,o,r,l)=>{if(n.transact(r)){const f=n.data[o.get()].bookmark,v=n.data[o.get()-1];Ux(e,v,!0),n.transact(l)&&(n.data[o.get()-1].beforeBookmark=f)}},M8=(e,n,o)=>{let r;return n.get()<o.length-1&&(n.set(n.get()+1),r=o[n.get()],Ux(e,r,!1),e.setDirty(!0),e.dispatch("Redo",{level:r})),r},k8=(e,n,o,r)=>{let l;return n.typing&&(n.add(),n.typing=!1,td(n,!1,o)),r.get()>0&&(r.set(r.get()-1),l=n.data[r.get()],Ux(e,l,!0),e.setDirty(!0),e.dispatch("Undo",{level:l})),l},P8=e=>{e.clear(),e.add()},zx=(e,n,o)=>o.get()>0||n.typing&&n.data[0]&&!cD(KC(e),n.data[0]),L8=(e,n)=>n.get()<e.data.length-1&&!e.typing,$8=(e,n,o)=>(y4(e,n),e.beforeChange(),e.ignore(o),e.add()),E4=(e,n)=>{try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},uD=(e,n)=>{const o=e.dom,r=Ne(n)?n:e.getBody();mt(o.select("table,a",r),l=>{switch(l.nodeName){case"TABLE":const f=iT(e),v=o.getAttrib(l,"border");(!v||v==="0")&&e.hasVisual?o.addClass(l,f):o.removeClass(l,f);break;case"A":if(!o.getAttrib(l,"href")){const C=o.getAttrib(l,"name")||l.id,x=L0(e);C&&e.hasVisual?o.addClass(l,x):o.removeClass(l,x)}break}}),e.dispatch("VisualAid",{element:n,hasVisual:e.hasVisual})},w4=e=>({init:{bindEvents:Ot},undoManager:{beforeChange:(n,o)=>I8(e,n,o),add:(n,o,r,l,f,v)=>D8(e,n,o,r,l,f,v),undo:(n,o,r)=>k8(e,n,o,r),redo:(n,o)=>M8(e,n,o),clear:(n,o)=>N8(e,n,o),reset:n=>P8(n),hasUndo:(n,o)=>zx(e,n,o),hasRedo:(n,o)=>L8(n,o),transact:(n,o,r)=>$8(n,o,r),ignore:(n,o)=>E4(n,o),extra:(n,o,r,l)=>_4(e,n,o,r,l)},formatter:{match:(n,o,r,l)=>Tg(e,n,o,r,l),matchAll:(n,o)=>vV(e,n,o),matchNode:(n,o,r,l)=>sh(e,n,o,r,l),canApply:n=>ia(e,n),closest:n=>CI(e,n),apply:(n,o,r)=>BI(e,n,o,r),remove:(n,o,r,l)=>TL(e,n,o,r,l),toggle:(n,o,r)=>RL(e,n,o,r),formatChanged:(n,o,r,l,f)=>BV(e,n,o,r,l,f)},editor:{getContent:n=>w6(e,n),setContent:(n,o)=>bx(e,n,o),insertContent:(n,o)=>px(e,n,o),addVisual:n=>uD(e,n)},selection:{getContent:(n,o)=>jY(e,n,o)},autocompleter:{addDecoration:n=>d6(e,n),removeDecoration:()=>h6(e,Oe.fromDom(e.getBody()))},raw:{getModel:()=>te.none()}}),B8=e=>{const n=L=>Be(L)?L:{},{init:o,undoManager:r,formatter:l,editor:f,selection:v,autocompleter:C,raw:x}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:(L,Z,j)=>r.transact(j),ignore:(L,Z)=>r.ignore(Z),extra:(L,Z,j,ne)=>r.extra(j,ne)},formatter:{match:(L,Z,j,ne)=>l.match(L,n(Z),ne),matchAll:l.matchAll,matchNode:l.matchNode,canApply:L=>l.canApply(L),closest:L=>l.closest(L),apply:(L,Z,j)=>l.apply(L,n(Z)),remove:(L,Z,j,ne)=>l.remove(L,n(Z)),toggle:(L,Z,j)=>l.toggle(L,n(Z)),formatChanged:(L,Z,j,ne,Ce)=>l.formatChanged(Z,j,ne,Ce)},editor:{getContent:L=>f.getContent(L),setContent:(L,Z)=>({content:f.setContent(L,Z),html:""}),insertContent:(L,Z)=>(f.insertContent(L),""),addVisual:f.addVisual},selection:{getContent:(L,Z)=>v.getContent(Z)},autocompleter:{addDecoration:C.addDecoration,removeDecoration:C.removeDecoration},raw:{getModel:()=>te.some(x.getRawModel())}}},YY=()=>{const e=et(null),n=et("");return{init:{bindEvents:Ot},undoManager:{beforeChange:Ot,add:e,undo:e,redo:e,clear:Ot,reset:Ot,hasUndo:Je,hasRedo:Je,transact:e,ignore:Ot,extra:Ot},formatter:{match:Je,matchAll:et([]),matchNode:et(void 0),canApply:Je,closest:n,apply:Ot,remove:Ot,toggle:Ot,formatChanged:et({unbind:Ot})},editor:{getContent:n,setContent:et({content:"",html:""}),insertContent:et(""),addVisual:Ot},selection:{getContent:n},autocompleter:{addDecoration:Ot,removeDecoration:Ot},raw:{getModel:et(te.none())}}},Np=e=>qn(e.plugins,"rtc"),F8=e=>Xs(e.plugins,"rtc").bind(n=>te.from(n.setup)),H8=e=>{const n=e;return F8(e).fold(()=>(n.rtcInstance=w4(e),te.none()),o=>(n.rtcInstance=YY(),te.some(()=>o().then(r=>(n.rtcInstance=B8(r),r.rtc.isRemote)))))},dD=e=>e.rtcInstance?e.rtcInstance:w4(e),xi=e=>{const n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},Wx=(e,n,o)=>{xi(e).undoManager.beforeChange(n,o)},QC=(e,n,o,r,l,f,v)=>xi(e).undoManager.add(n,o,r,l,f,v),T4=(e,n,o,r)=>xi(e).undoManager.undo(n,o,r),C4=(e,n,o)=>xi(e).undoManager.redo(n,o),V8=(e,n,o)=>{xi(e).undoManager.clear(n,o)},S4=(e,n)=>{xi(e).undoManager.reset(n)},U8=(e,n,o)=>xi(e).undoManager.hasUndo(n,o),z8=(e,n,o)=>xi(e).undoManager.hasRedo(n,o),W8=(e,n,o,r)=>xi(e).undoManager.transact(n,o,r),G8=(e,n,o)=>{xi(e).undoManager.ignore(n,o)},A4=(e,n,o,r,l)=>{xi(e).undoManager.extra(n,o,r,l)},q8=(e,n,o,r,l)=>xi(e).formatter.match(n,o,r,l),j8=(e,n,o)=>xi(e).formatter.matchAll(n,o),JC=(e,n,o,r,l)=>xi(e).formatter.matchNode(n,o,r,l),x4=(e,n)=>xi(e).formatter.canApply(n),O4=(e,n)=>xi(e).formatter.closest(n),Z8=(e,n,o,r)=>{xi(e).formatter.apply(n,o,r)},Y8=(e,n,o,r,l)=>{xi(e).formatter.remove(n,o,r,l)},K8=(e,n,o,r)=>{xi(e).formatter.toggle(n,o,r)},R4=(e,n,o,r,l,f)=>xi(e).formatter.formatChanged(n,o,r,l,f),X8=(e,n)=>dD(e).editor.getContent(n),Q8=(e,n,o)=>dD(e).editor.setContent(n,o),J8=(e,n,o)=>dD(e).editor.insertContent(n,o),e7=(e,n,o)=>xi(e).selection.getContent(n,o),KY=(e,n)=>xi(e).editor.addVisual(n),am=e=>xi(e).init.bindEvents(),fD=(e,n)=>xi(e).autocompleter.addDecoration(n),t7=e=>xi(e).autocompleter.removeDecoration(),n7=(e,n={})=>{const o=n.format?n.format:"html";return e7(e,o,n)},I4=e=>e.dom.length===0?(wr(e),te.none()):te.some(e),o7=(e,n)=>e.filter(o=>Eu.isBookmarkNode(o.dom)).bind(n?Ia:Tc),Ts=(e,n,o,r)=>{const l=e.dom,f=n.dom,v=r?l.length:f.length;r?(tI(l,f,!1,!r),o.setStart(f,v)):(tI(f,l,!1,!r),o.setEnd(f,v))},XY=(e,n)=>{Vo(e).each(o=>{const r=e.dom;n&&BE(o,Ye(r,0))?nx(r,0):!n&&_C(o,Ye(r,r.length))&&eI(r,r.length)})},D4=(e,n,o,r)=>{e.bind(l=>((r?eI:nx)(l.dom,r?l.dom.length:0),n.filter(dr).map(v=>Ts(l,v,o,r)))).orThunk(()=>o7(n,r).or(n).filter(dr).map(f=>XY(f,r)))},s7=(e,n)=>{const o=te.from(n.firstChild).map(Oe.fromDom),r=te.from(n.lastChild).map(Oe.fromDom);e.deleteContents(),e.insertNode(n);const l=o.bind(Tc).filter(dr).bind(I4),f=r.bind(Ia).filter(dr).bind(I4);D4(l,o,e,!0),D4(f,r,e,!1),e.collapse(!1)},hi=(e,n)=>({format:"html",...e,set:!0,selection:!0,content:n}),r7=(e,n)=>{if(n.format!=="raw"){const o=e.selection.getRng(),r=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),l=r?{context:r.nodeName.toLowerCase()}:{},f=e.parser.parse(n.content,{forced_root_block:!1,...l,...n});return Sb({validate:!1},e.schema).serialize(f)}else return n.content},eS=(e,n,o={})=>{const r=hi(o,n);eD(e,r).each(l=>{const f=r7(e,l),v=e.selection.getRng();s7(v,v.createContextualFragment(f)),e.selection.setRng(v),wn(e,v),ZC(e,f,l)})},N4=(e,n,o)=>{if(qn(e,n)){const r=Lt(e[n],l=>l!==o);r.length===0?delete e[n]:e[n]=r}};var i7=(e,n)=>{let o,r;const l=(C,x)=>vs(x,L=>e.is(L,C)),f=C=>e.getParents(C,void 0,e.getRoot()),v=()=>{o={},r={},n.on("NodeChange",C=>{const x=C.element,L=f(x),Z={};an(o,(j,ne)=>{l(ne,L).each(Ce=>{r[ne]||(mt(j,xe=>{xe(!0,{node:Ce,selector:ne,parents:L})}),r[ne]=j),Z[ne]=j})}),an(r,(j,ne)=>{Z[ne]||(delete r[ne],mt(j,Ce=>{Ce(!1,{node:x,selector:ne,parents:L})}))})})};return{selectorChangedWithUnbind:(C,x)=>(o||v(),o[C]||(o[C]=[]),o[C].push(x),l(C,f(n.selection.getStart())).each(()=>{r[C]=o[C]}),{unbind:()=>{N4(o,C,x),N4(r,C,x)}})}};const M4=e=>!!(e&&e.ownerDocument)&&Qe(Oe.fromDom(e.ownerDocument),Oe.fromDom(e)),k4=e=>e?M4(e.startContainer)&&M4(e.endContainer):!1,cv=(e,n,o,r)=>{let l,f;const{selectorChangedWithUnbind:v}=i7(e,r),C=(Gt,Rn)=>{const hs=e.createRng();Ne(Gt)&&Ne(Rn)?(hs.setStart(Gt,Rn),hs.setEnd(Gt,Rn),rt(hs),Ve(!1)):(bE(e,hs,r.getBody(),!0),rt(hs))},x=Gt=>n7(r,Gt),L=(Gt,Rn)=>eS(r,Gt,Rn),Z=Gt=>Ak(r.getBody(),je(),Gt),j=Gt=>xk(r.getBody(),je(),Gt),ne=(Gt,Rn)=>kc.getBookmark(Gt,Rn),Ce=Gt=>kc.moveToBookmark(Gt),xe=(Gt,Rn)=>(r6(e,Gt,Rn).each(rt),Gt),he=()=>{const Gt=je(),Rn=$e();return!Gt||Gt.item?!1:Gt.compareEndPoints?Gt.compareEndPoints("StartToEnd",Gt)===0:!Rn||Gt.collapsed},Se=()=>{const Gt=je(),Rn=r.getBody().querySelectorAll('[data-mce-selected="1"]');return Rn.length>0?nr(Rn,hs=>e.isEditable(hs.parentElement)):Gt.startContainer===Gt.endContainer?e.isEditable(Gt.startContainer):e.isEditable(Gt.startContainer)&&e.isEditable(Gt.endContainer)},Ve=Gt=>{const Rn=je();Rn.collapse(!!Gt),rt(Rn)},$e=()=>n.getSelection?n.getSelection():n.document.selection,je=()=>{let Gt;const Rn=(un,Vn,zn)=>{try{return Vn.compareBoundaryPoints(un,zn)}catch{return-1}},hs=n.document;if(Ne(r.bookmark)&&!Cb(r)){const un=Rp(r);if(un.isSome())return un.map(Vn=>HR(r,[Vn])[0]).getOr(hs.createRange())}try{const un=$e();un&&!Pn(un.anchorNode)&&(un.rangeCount>0?Gt=un.getRangeAt(0):Gt=hs.createRange(),Gt=HR(r,[Gt])[0])}catch{}if(Gt||(Gt=hs.createRange()),bd(Gt.startContainer)&&Gt.collapsed){const un=e.getRoot();Gt.setStart(un,0),Gt.setEnd(un,0)}return l&&f&&(Rn(Gt.START_TO_START,Gt,l)===0&&Rn(Gt.END_TO_END,Gt,l)===0?Gt=f:(l=null,f=null)),Gt},rt=(Gt,Rn)=>{if(!k4(Gt))return;const hs=$e();if(Gt=r.dispatch("SetSelectionRange",{range:Gt,forward:Rn}).range,hs){f=Gt;try{hs.removeAllRanges(),hs.addRange(Gt)}catch{}Rn===!1&&hs.extend&&(hs.collapse(Gt.endContainer,Gt.endOffset),hs.extend(Gt.startContainer,Gt.startOffset)),l=hs.rangeCount>0?hs.getRangeAt(0):null}if(!Gt.collapsed&&Gt.startContainer===Gt.endContainer&&(hs!=null&&hs.setBaseAndExtent)&&Gt.endOffset-Gt.startOffset<2&&Gt.startContainer.hasChildNodes()){const Vn=Gt.startContainer.childNodes[Gt.startOffset];Vn&&Vn.nodeName==="IMG"&&(hs.setBaseAndExtent(Gt.startContainer,Gt.startOffset,Gt.endContainer,Gt.endOffset),(hs.anchorNode!==Gt.startContainer||hs.focusNode!==Gt.endContainer)&&hs.setBaseAndExtent(Vn,0,Vn,1))}r.dispatch("AfterSetSelectionRange",{range:Gt,forward:Rn})},St=Gt=>(L(e.getOuterHTML(Gt)),Gt),on=()=>o6(r.getBody(),je()),jt=(Gt,Rn)=>s6(e,je(),Gt,Rn),ft=()=>{const Gt=$e(),Rn=Gt==null?void 0:Gt.anchorNode,hs=Gt==null?void 0:Gt.focusNode;if(!Gt||!Rn||!hs||Pn(Rn)||Pn(hs))return!0;const un=e.createRng(),Vn=e.createRng();try{un.setStart(Rn,Gt.anchorOffset),un.collapse(!0),Vn.setStart(hs,Gt.focusOffset),Vn.collapse(!0)}catch{return!0}return un.compareBoundaryPoints(un.START_TO_START,Vn)<=0},Ri={dom:e,win:n,serializer:o,editor:r,expand:(Gt={type:"word"})=>rt(_b(e).expand(je(),Gt)),collapse:Ve,setCursorLocation:C,getContent:x,setContent:L,getBookmark:ne,moveToBookmark:Ce,select:xe,isCollapsed:he,isEditable:Se,isForward:ft,setNode:St,getNode:on,getSel:$e,setRng:rt,getRng:je,getStart:Z,getEnd:j,getSelectedBlocks:jt,normalize:()=>{const Gt=je(),Rn=$e();if(!mb(Rn)&&NT(r)){const hs=yg(e,Gt);return hs.each(un=>{rt(un,ft())}),hs.getOr(Gt)}return Gt},selectorChanged:(Gt,Rn)=>(v(Gt,Rn),Ri),selectorChangedWithUnbind:v,getScrollContainer:()=>{let Gt,Rn=e.getRoot();for(;Rn&&Rn.nodeName!=="BODY";){if(Rn.scrollHeight>Rn.clientHeight){Gt=Rn;break}Rn=Rn.parentNode}return Gt},scrollIntoView:(Gt,Rn)=>{Ne(Gt)?_t(r,Gt,Rn):wn(r,je(),Rn)},placeCaretAt:(Gt,Rn)=>rt(uC(Gt,Rn,r.getDoc())),getBoundingClientRect:()=>{const Gt=je();return Gt.collapsed?Ye.fromRangeStart(Gt).getClientRects()[0]:Gt.getBoundingClientRect()},destroy:()=>{n=l=f=null,Ka.destroy()}},kc=Eu(Ri),Ka=$A(Ri,r);return Ri.bookmarkManager=kc,Ri.controlSelection=Ka,Ri},Pd=(e,n,o)=>{e.addAttributeFilter("data-mce-tabindex",(r,l)=>{let f=r.length;for(;f--;){const v=r[f];v.attr("tabindex",v.attr("data-mce-tabindex")),v.attr(l,null)}}),e.addAttributeFilter("src,href,style",(r,l)=>{const f="data-mce-"+l,v=n.url_converter,C=n.url_converter_scope;let x=r.length;for(;x--;){const L=r[x];let Z=L.attr(f);Z!==void 0?(L.attr(l,Z.length>0?Z:null),L.attr(f,null)):(Z=L.attr(l),l==="style"?Z=o.serializeStyle(o.parseStyle(Z),L.name):v&&(Z=v.call(C,Z,l,L.name)),L.attr(l,Z.length>0?Z:null))}}),e.addAttributeFilter("class",r=>{let l=r.length;for(;l--;){const f=r[l];let v=f.attr("class");v&&(v=v.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),f.attr("class",v.length>0?v:null))}}),e.addAttributeFilter("data-mce-type",(r,l,f)=>{let v=r.length;for(;v--;){const C=r[v];C.attr("data-mce-type")==="bookmark"&&!f.cleanup&&(te.from(C.firstChild).exists(L=>{var Z;return!Cv((Z=L.value)!==null&&Z!==void 0?Z:"")})?C.unwrap():C.remove())}}),e.addNodeFilter("noscript",r=>{var l;let f=r.length;for(;f--;){const v=r[f].firstChild;v&&(v.value=cf.decode((l=v.value)!==null&&l!==void 0?l:""))}}),e.addNodeFilter("script,style",(r,l)=>{var f;const v=x=>x.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let C=r.length;for(;C--;){const x=r[C],L=x.firstChild,Z=(f=L==null?void 0:L.value)!==null&&f!==void 0?f:"";if(l==="script"){const j=x.attr("type");j&&x.attr("type",j==="mce-no/type"?null:j.replace(/^mce\-/,"")),n.element_format==="xhtml"&&L&&Z.length>0&&(L.value=`// <![CDATA[
`+v(Z)+`
// ]]>`)}else n.element_format==="xhtml"&&L&&Z.length>0&&(L.value=`<!--
`+v(Z)+`
-->`)}}),e.addNodeFilter("#comment",r=>{let l=r.length;for(;l--;){const f=r[l],v=f.value;n.preserve_cdata&&(v==null?void 0:v.indexOf("[CDATA["))===0?(f.name="#cdata",f.type=4,f.value=o.decode(v.replace(/^\[CDATA\[|\]\]$/g,""))):(v==null?void 0:v.indexOf("mce:protected "))===0&&(f.name="#text",f.type=3,f.raw=!0,f.value=unescape(v).substr(14))}}),e.addNodeFilter("xml:namespace,input",(r,l)=>{let f=r.length;for(;f--;){const v=r[f];v.type===7?v.remove():v.type===1&&l==="input"&&!v.attr("type")&&v.attr("type","text")}}),e.addAttributeFilter("data-mce-type",r=>{mt(r,l=>{l.attr("data-mce-type")==="format-caret"&&(l.isEmpty(e.schema.getNonEmptyElements())?l.remove():l.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(r,l)=>{let f=r.length;for(;f--;)r[f].attr(l,null)})},tS=e=>{const n=r=>(r==null?void 0:r.name)==="br",o=e.lastChild;if(n(o)){const r=o.prev;n(r)&&(o.remove(),r.remove())}},My=(e,n,o)=>{let r;const l=e.dom;let f=n.cloneNode(!0);const v=document.implementation;if(v.createHTMLDocument){const C=v.createHTMLDocument("");pe.each(f.nodeName==="BODY"?f.childNodes:[f],x=>{C.body.appendChild(C.importNode(x,!0))}),f.nodeName!=="BODY"?f=C.body.firstChild:f=C.body,r=l.doc,l.doc=C}return UT(e,{...o,node:f}),r&&(l.doc=r),f},Mp=(e,n)=>Ne(e)&&e.hasEventListeners("PreProcess")&&!n.no_events,nS=(e,n,o)=>Mp(e,o)?My(e,n,o):n,hD=(e,n,o)=>{pe.inArray(n,o)===-1&&(e.addAttributeFilter(o,(r,l)=>{let f=r.length;for(;f--;)r[f].attr(l,null)}),n.push(o))},mD=(e,n,o)=>!n.no_events&&e?zT(e,{...n,content:o}).content:o,P4=(e,n,o)=>{const r=yd(o.getInner?n.innerHTML:e.getOuterHTML(n));return o.selection||li(Oe.fromDom(n))?r:pe.trim(r)},L4=(e,n,o)=>{const r=o.selection?{forced_root_block:!1,...o}:o,l=e.parse(n,r);return tS(l),l},a7=(e,n,o)=>Sb(e,n).serialize(o),c7=(e,n,o,r,l)=>{const f=a7(n,o,r);return mD(e,l,f)},$4=(e,n)=>{const o=["data-mce-selected"],r=n&&n.dom?n.dom:sr.DOM,l=n&&n.schema?n.schema:Yl(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0;const f=Mb(e,l);Pd(f,e,r);const v=(C,x={})=>{const L={format:"html",...x},Z=nS(n,C,L),j=P4(r,Z,L),ne=L4(f,j,L);return L.format==="tree"?ne:c7(n,e,l,ne,L)};return{schema:l,addNodeFilter:f.addNodeFilter,addAttributeFilter:f.addAttributeFilter,serialize:v,addRules:l.addValidElements,setRules:l.setValidElements,addTempAttr:Ge(hD,f,o),getTempAttrs:et(o),getNodeFilters:f.getNodeFilters,getAttributeFilters:f.getAttributeFilters,removeNodeFilter:f.removeNodeFilter,removeAttributeFilter:f.removeAttributeFilter}},gD=(e,n)=>{const o=$4(e,n);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},B4="html",F4=(e,n)=>({...e,format:n,get:!0,getInner:!0}),pD=(e,n={})=>{const o=n.format?n.format:B4,r=F4(n,o);return QI(e,r).fold(qt,l=>{const f=X8(e,l);return JI(e,f,l)})},QY="html",l7=(e,n)=>({format:QY,...e,set:!0,content:n}),H4=(e,n,o={})=>{const r=l7(o,n);return eD(e,r).map(l=>{const f=Q8(e,l.content,l);return ZC(e,f.html,l),f.content}).getOr(n)},u7="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),d7="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),kp="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),f7=[{name:"template",replacedWith:"Advanced Template"}],h7=(e,n)=>{const o=Lt(n,r=>qn(e,r));return Ms(o)},m7=e=>{const n=h7(e,u7),o=e.forced_root_block;return(o===!1||o==="")&&n.push("forced_root_block (false only)"),Ms(n)},oS=e=>h7(e,d7),V4=(e,n)=>{const o=pe.makeMap(e.plugins," "),l=Lt(n,f=>qn(o,f));return Ms(l)},U4=e=>V4(e,kp),z4=e=>V4(e,f7.map(n=>n.name)),W4=(e,n)=>{const o=m7(e),r=U4(n),l=r.length>0,f=o.length>0,v=n.theme==="mobile";if(l||f||v){const C=`
- `,x=v?`

Themes:${C}mobile`:"",L=l?`

Plugins:${C}${r.join(C)}`:"",Z=f?`

Options:${C}${o.join(C)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+x+L+Z)}},g7=e=>vs(f7,n=>n.name===e).fold(()=>e,n=>`${e}, replaced by ${n.replacedWith}`),p7=(e,n)=>{const o=oS(e),r=z4(n),l=r.length>0,f=o.length>0;if(l||f){const v=`
- `,C=l?`

Plugins:${v}${r.map(g7).join(v)}`:"",x=f?`

Options:${v}${o.join(v)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+C+x)}},kb=(e,n)=>{W4(e,n),p7(e,n)},Gx=sr.DOM,v7=e=>{Gx.setStyle(e.id,"display",e.orgDisplay)},qx=e=>te.from(e).each(n=>n.destroy()),b7=e=>{const n=e;n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null;const o=e.selection;if(o){const r=o.dom;n.selection=o.win=o.dom=r.doc=null}},y7=e=>{const n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,delete n._mceOldSubmit),Gx.unbind(n,"submit reset",e.formEventDelegate))},_7=e=>{if(!e.removed){const{_selectionOverrides:n,editorUpload:o}=e,r=e.getBody(),l=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&Ne(l==null?void 0:l.nextSibling)&&Gx.remove(l.nextSibling),WT(e),e.editorManager.remove(e),!e.inline&&r&&v7(e),bR(e),Gx.remove(e.getContainer()),qx(n),qx(o),e.destroy()}},E7=(e,n)=>{const{selection:o,dom:r}=e;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),qx(o),qx(r)),y7(e),b7(e),e.destroyed=!0}},jx=(()=>{const e={};return{add:(l,f)=>{e[l]=f},get:l=>e[l]?e[l]:{icons:{}},has:l=>qn(e,l)}})(),JE=As.ModelManager,G4=(e,n)=>n.dom[e],w7=(e,n)=>parseInt($u(n,e),10),sS=Ge(G4,"clientWidth"),T7=Ge(G4,"clientHeight"),vD=Ge(w7,"margin-top"),C7=Ge(w7,"margin-left"),S7=e=>e.dom.getBoundingClientRect(),A7=(e,n,o)=>{const r=sS(e),l=T7(e);return n>=0&&o>=0&&n<=r&&o<=l},x7=(e,n,o,r)=>{const l=S7(n),f=e?l.left+n.dom.clientLeft+C7(n):0,v=e?l.top+n.dom.clientTop+vD(n):0,C=o-f,x=r-v;return{x:C,y:x}},ky=(e,n,o)=>{const r=Oe.fromDom(e.getBody()),l=e.inline?r:Un(r),f=x7(e.inline,l,n,o);return A7(l,f.x,f.y)},Py=e=>te.from(e).map(Oe.fromDom),Zx=e=>{const n=e.inline?e.getBody():e.getContentAreaContainer();return Py(n).map(Qs).getOr(!1)};var Yx=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const Pb=e=>{const n=[],o=()=>{const ne=e.theme;return ne&&ne.getNotificationManagerImpl?ne.getNotificationManagerImpl():Yx()},r=()=>te.from(n[0]),l=(ne,Ce)=>ne.type===Ce.type&&ne.text===Ce.text&&!ne.progressBar&&!ne.timeout&&!Ce.progressBar&&!Ce.timeout,f=()=>{mt(n,ne=>{ne.reposition()})},v=ne=>{n.push(ne)},C=ne=>{Rr(n,Ce=>Ce===ne).each(Ce=>{n.splice(Ce,1)})},x=(ne,Ce=!0)=>e.removed||!Zx(e)?{}:(Ce&&e.dispatch("BeforeOpenNotification",{notification:ne}),vs(n,xe=>l(o().getArgs(xe),ne)).getOrThunk(()=>{e.editorManager.setActive(e);const xe=o().open(ne,()=>{C(xe),f(),r().fold(()=>e.focus(),he=>Qn(Oe.fromDom(he.getEl())))});return v(xe),f(),e.dispatch("OpenNotification",{notification:{...xe}}),xe})),L=()=>{r().each(ne=>{o().close(ne),C(ne),f()})},Z=et(n);return(ne=>{ne.on("SkinLoaded",()=>{const Ce=j_(ne);Ce&&x({text:Ce,type:"warning",timeout:0},!1),f()}),ne.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(f)}),ne.on("remove",()=>{mt(n.slice(),Ce=>{o().close(Ce)})})})(e),{open:x,close:L,getNotifications:Z}},cm=As.PluginManager,Pp=As.ThemeManager;var Kx=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const bD=e=>{let n=[];const o=()=>{const he=e.theme;return he&&he.getWindowManagerImpl?he.getWindowManagerImpl():Kx()},r=(he,Se)=>(...Ve)=>Se?Se.apply(he,Ve):void 0,l=he=>{e.dispatch("OpenWindow",{dialog:he})},f=he=>{e.dispatch("CloseWindow",{dialog:he})},v=he=>{n.push(he),l(he)},C=he=>{f(he),n=Lt(n,Se=>Se!==he),n.length===0&&e.focus()},x=()=>te.from(n[n.length-1]),L=he=>{e.editorManager.setActive(e),Cu(e),e.ui.show();const Se=he();return v(Se),Se},Z=(he,Se)=>L(()=>o().open(he,Se,C)),j=he=>L(()=>o().openUrl(he,C)),ne=(he,Se,Ve)=>{const $e=o();$e.alert(he,r(Ve||$e,Se))},Ce=(he,Se,Ve)=>{const $e=o();$e.confirm(he,r(Ve||$e,Se))},xe=()=>{x().each(he=>{o().close(he),C(he)})};return e.on("remove",()=>{mt(n,he=>{o().close(he)})}),{open:Z,openUrl:j,alert:ne,confirm:Ce,close:xe}},Xx=(e,n)=>{e.notificationManager.open({type:"error",text:n})},ew=(e,n)=>{e._skinLoaded?Xx(e,n):e.on("SkinLoaded",()=>{Xx(e,n)})},q4=(e,n)=>{ew(e,Td.translate(["Failed to upload image: {0}",n]))},tw=(e,n,o)=>{ZT(e,n,{message:o}),console.error(o)},Lp=(e,n,o)=>o?`Failed to load ${e}: ${o} from url ${n}`:`Failed to load ${e} url: ${n}`,j4=(e,n,o)=>{tw(e,"PluginLoadError",Lp("plugin",n,o))},Z4=(e,n,o)=>{tw(e,"IconsLoadError",Lp("icons",n,o))},Y4=(e,n,o)=>{tw(e,"LanguageLoadError",Lp("language",n,o))},Qx=(e,n,o)=>{tw(e,"ThemeLoadError",Lp("theme",n,o))},K4=(e,n,o)=>{tw(e,"ModelLoadError",Lp("model",n,o))},X4=(e,n,o)=>{const r=Td.translate(["Failed to initialize plugin: {0}",n]);ZT(e,"PluginLoadError",{message:r}),rS(r,o),ew(e,r)},rS=(e,...n)=>{const o=window.console;o&&(o.error?o.error(e,...n):o.log(e,...n))},Q4=e=>/^[a-z0-9\-]+$/i.test(e),lv=e=>rh(e,sb(e)),Lb=e=>rh(e,pp(e)),rh=(e,n)=>{const o=e.editorManager.baseURL+"/skins/content",l=`content${e.editorManager.suffix}.css`;return Yt(n,f=>Q4(f)&&!e.inline?`${o}/${f}/${l}`:e.documentBaseURI.toAbsolute(f))},O7=e=>{e.contentCSS=e.contentCSS.concat(lv(e),Lb(e))},R7=e=>e?vr(e.getElementsByTagName("img")):[],I7=(e,n)=>{const o={};return{findAll:(l,f=It)=>{const v=Lt(R7(l),x=>{const L=x.src;return x.hasAttribute("data-mce-bogus")||x.hasAttribute("data-mce-placeholder")||!L||L===Do.transparentSrc?!1:_i(L,"blob:")?!e.isUploaded(L)&&f(x):_i(L,"data:")?f(x):!1}),C=Yt(v,x=>{const L=x.src;if(qn(o,L))return o[L].then(Z=>oe(Z)?Z:{image:x,blobInfo:Z.blobInfo});{const Z=kL(n,L).then(j=>(delete o[L],{image:x,blobInfo:j})).catch(j=>(delete o[L],j));return o[L]=Z,Z}});return Promise.all(C)}}},J4=()=>{let o={};const r=(ne,Ce)=>({status:ne,resultUri:Ce}),l=ne=>ne in o;return{hasBlobUri:l,getResultUri:ne=>{const Ce=o[ne];return Ce?Ce.resultUri:null},isPending:ne=>l(ne)?o[ne].status===1:!1,isUploaded:ne=>l(ne)?o[ne].status===2:!1,markPending:ne=>{o[ne]=r(1,null)},markUploaded:(ne,Ce)=>{o[ne]=r(2,Ce)},removeFailed:ne=>{delete o[ne]},destroy:()=>{o={}}}};let D7=0;const N7=()=>{const e=()=>Math.round(Math.random()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},M7=e=>e+D7+++N7(),k7=()=>{let e=[];const n=j=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[j.toLowerCase()]||"dat",o=(j,ne,Ce,xe,he)=>{if(oe(j))return r({id:j,name:xe,filename:he,blob:ne,base64:Ce});if(Be(j))return r(j);throw new Error("Unknown input type")},r=j=>{if(!j.blob||!j.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const ne=j.id||M7("blobid"),Ce=j.name||ne,xe=j.blob;return{id:et(ne),name:et(Ce),filename:et(j.filename||Ce+"."+n(xe.type)),blob:et(xe),base64:et(j.base64),blobUri:et(j.blobUri||URL.createObjectURL(xe)),uri:et(j.uri)}},l=j=>{v(j.id())||e.push(j)},f=j=>vs(e,j).getOrUndefined(),v=j=>f(ne=>ne.id()===j);return{create:o,add:l,get:v,getByUri:j=>f(ne=>ne.blobUri()===j),getByData:(j,ne)=>f(Ce=>Ce.base64()===j&&Ce.blob().type===ne),findFirst:f,removeByUri:j=>{e=Lt(e,ne=>ne.blobUri()===j?(URL.revokeObjectURL(ne.blobUri()),!1):!0)},destroy:()=>{mt(e,j=>{URL.revokeObjectURL(j.blobUri())}),e=[]}}},P7=(e,n)=>{const o={},r=(he,Se)=>he?he.replace(/\/$/,"")+"/"+Se.replace(/^\//,""):Se,l=(he,Se)=>new Promise((Ve,$e)=>{const je=new XMLHttpRequest;je.open("POST",n.url),je.withCredentials=n.credentials,je.upload.onprogress=St=>{Se(St.loaded/St.total*100)},je.onerror=()=>{$e("Image upload failed due to a XHR Transport error. Code: "+je.status)},je.onload=()=>{if(je.status<200||je.status>=300){$e("HTTP Error: "+je.status);return}const St=JSON.parse(je.responseText);if(!St||!oe(St.location)){$e("Invalid JSON: "+je.responseText);return}Ve(r(n.basePath,St.location))};const rt=new FormData;rt.append("file",he.blob(),he.filename()),je.send(rt)}),f=ge(n.handler)?n.handler:l,v=()=>new Promise(he=>{he([])}),C=(he,Se)=>({url:Se,blobInfo:he,status:!0}),x=(he,Se)=>({url:"",blobInfo:he,status:!1,error:Se}),L=(he,Se)=>{pe.each(o[he],Ve=>{Ve(Se)}),delete o[he]},Z=(he,Se,Ve)=>(e.markPending(he.blobUri()),new Promise($e=>{let je,rt;try{const St=()=>{je&&(je.close(),rt=Ot)},on=ft=>{St(),e.markUploaded(he.blobUri(),ft),L(he.blobUri(),C(he,ft)),$e(C(he,ft))},jt=ft=>{St(),e.removeFailed(he.blobUri()),L(he.blobUri(),x(he,ft)),$e(x(he,ft))};rt=ft=>{ft<0||ft>100||te.from(je).orThunk(()=>te.from(Ve).map(ao)).each(dt=>{je=dt,dt.progressBar.value(ft)})},Se(he,rt).then(on,ft=>{jt(oe(ft)?{message:ft}:ft)})}catch(St){$e(x(he,St))}})),j=he=>he===l,ne=he=>{const Se=he.blobUri();return new Promise(Ve=>{o[Se]=o[Se]||[],o[Se].push(Ve)})},Ce=(he,Se)=>(he=pe.grep(he,Ve=>!e.isUploaded(Ve.blobUri())),Promise.all(pe.map(he,Ve=>e.isPending(Ve.blobUri())?ne(Ve):Z(Ve,f,Se))));return{upload:(he,Se)=>!n.url&&j(f)?v():Ce(he,Se)}},e$=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),t$=(e,n)=>P7(n,{url:jh(e),basePath:U_(e),credentials:ob(e),handler:eh(e)}),L7=e=>{const n=J4(),o=t$(e,n);return{upload:(r,l=!0)=>o.upload(r,l?e$(e):void 0)}},yD=e=>{const n=k7();let o,r;const l=J4(),f=[],v=je=>rt=>e.selection?je(rt):[],C=je=>je+(je.indexOf("?")===-1?"?":"&")+new Date().getTime(),x=(je,rt,St)=>{let on=0;do on=je.indexOf(rt,on),on!==-1&&(je=je.substring(0,on)+St+je.substr(on+rt.length),on+=St.length-rt.length+1);while(on!==-1);return je},L=(je,rt,St)=>{const on=`src="${St}"${St===Do.transparentSrc?' data-mce-placeholder="1"':""}`;return je=x(je,`src="${rt}"`,on),je=x(je,'data-mce-src="'+rt+'"','data-mce-src="'+St+'"'),je},Z=(je,rt)=>{mt(e.undoManager.data,St=>{St.type==="fragmented"?St.fragments=Yt(St.fragments,on=>L(on,je,rt)):St.content=L(St.content,je,rt)})},j=(je,rt)=>{const St=e.convertURL(rt,"src");Z(je.src,rt),zr(Oe.fromDom(je),{src:Ic(e)?C(rt):rt,"data-mce-src":St})},ne=()=>(o||(o=t$(e,l)),Se().then(v(je=>{const rt=Yt(je,St=>St.blobInfo);return o.upload(rt,e$(e)).then(v(St=>{const on=[];let jt=!1;const ft=Yt(St,(dt,bn)=>{const{blobInfo:Ln,image:Gn}=je[bn];let wo=!1;return dt.status&&eT(e)?(dt.url&&!oi(Gn.src,dt.url)&&(jt=!0),n.removeByUri(Gn.src),Np(e)||j(Gn,dt.url)):dt.error&&(dt.error.remove&&(Z(Gn.src,Do.transparentSrc),on.push(Gn),wo=!0),q4(e,dt.error.message)),{element:Gn,status:dt.status,uploadUri:dt.url,blobInfo:Ln,removed:wo}});return on.length>0&&!Np(e)?e.undoManager.transact(()=>{mt(on,dt=>{e.dom.remove(dt),n.removeByUri(dt.src)})}):jt&&e.undoManager.dispatchChange(),ft}))}))),Ce=()=>al(e)?ne():Promise.resolve([]),xe=je=>nr(f,rt=>rt(je)),he=je=>{f.push(je)},Se=()=>(r||(r=I7(l,n)),r.findAll(e.getBody(),xe).then(v(je=>{const rt=Lt(je,St=>oe(St)?(ew(e,St),!1):!0);return Np(e)||mt(rt,St=>{Z(St.image.src,St.blobInfo.blobUri()),St.image.src=St.blobInfo.blobUri(),St.image.removeAttribute("data-mce-src")}),rt}))),Ve=()=>{n.destroy(),l.destroy(),r=o=null},$e=je=>je.replace(/src="(blob:[^"]+)"/g,(rt,St)=>{const on=l.getResultUri(St);if(on)return'src="'+on+'"';let jt=n.getByUri(St);return jt||(jt=Ns(e.editorManager.get(),(ft,dt)=>ft||dt.editorUpload&&dt.editorUpload.blobCache.getByUri(St),void 0)),jt?'src="data:'+jt.blob().type+";base64,"+jt.base64()+'"':rt});return e.on("SetContent",()=>{al(e)?Ce():Se()}),e.on("RawSaveContent",je=>{je.content=$e(je.content)}),e.on("GetContent",je=>{je.source_view||je.format==="raw"||je.format==="tree"||(je.content=$e(je.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",je=>{mt(je,rt=>{const St=rt.attr("src");if(!St||n.getByUri(St))return;const on=l.getResultUri(St);on&&rt.attr("src",on)})})}),{blobCache:n,addFilter:he,uploadImages:ne,uploadImagesAuto:Ce,scanForImages:Se,destroy:Ve}},_D=e=>{const n=e.dom,o=e.schema.type,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:l=>{n.setStyle(l,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:l=>{n.setStyle(l,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const l={inline:"span",styles:{textDecoration:"line-through"},exact:!0},f={inline:"strike",remove:"all",preserve_attributes:["class","style"]},v={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[v,l,f]:[l,v,f]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(l,f,v)=>nn(l)&&l.hasAttribute("href"),onformat:(l,f,v)=>{pe.each(v,(C,x)=>{n.setAttrib(l,x,C)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":l=>{var f;return(f=l==null?void 0:l.customValue)!==null&&f!==void 0?f:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return pe.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),l=>{r[l]={block:l,remove:"all"}}),r},ED={remove_similar:!0,inherit:!1},nw={selector:"td,th",...ED},$7={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...nw},tablecellverticalalign:{styles:{"vertical-align":"%value"},...nw},tablecellbordercolor:{styles:{borderColor:"%value"},...nw},tablecellclass:{classes:["%value"],...nw},tableclass:{selector:"table",classes:["%value"],...ED},tablecellborderstyle:{styles:{borderStyle:"%value"},...nw},tablecellborderwidth:{styles:{borderWidth:"%value"},...nw}},n$=et($7),o$=e=>{const n={},o=v=>Ne(v)?n[v]:n,r=v=>qn(n,v),l=(v,C)=>{v&&(oe(v)?(F(C)||(C=[C]),mt(C,x=>{ht(x.deep)&&(x.deep=!tu(x)),ht(x.split)&&(x.split=!tu(x)||Ea(x)),ht(x.remove)&&tu(x)&&!Ea(x)&&(x.remove="none"),tu(x)&&Ea(x)&&(x.mixed=!0,x.block_expand=!0),oe(x.classes)&&(x.classes=x.classes.split(/\s+/))}),n[v]=C):an(v,(x,L)=>{l(L,x)}))},f=v=>(v&&n[v]&&delete n[v],n);return l(_D(e)),l(n$()),l(Dc(e)),{get:o,has:r,register:l,unregister:f}},ow=pe.each,Sf=sr.DOM,Jx=e=>Ne(e)&&Be(e),e2=(e,n)=>{const o=n&&n.schema||Yl({}),r=(x,L)=>{L.classes.length>0&&Sf.addClass(x,L.classes.join(" ")),Sf.setAttribs(x,L.attrs)},l=x=>{const L=oe(x)?{name:x,classes:[],attrs:{}}:x,Z=Sf.create(L.name);return r(Z,L),Z},f=(x,L)=>{const Z=o.getElementRule(x.nodeName.toLowerCase()),j=Z==null?void 0:Z.parentsRequired;return j&&j.length?L&&kn(j,L)?L:j[0]:!1},v=(x,L,Z)=>{let j;const ne=L[0],Ce=Jx(ne)?ne.name:void 0,xe=f(x,Ce);if(xe)Ce===xe?(j=ne,L=L.slice(1)):j=xe;else if(ne)j=ne,L=L.slice(1);else if(!Z)return x;const he=j?l(j):Sf.create("div");he.appendChild(x),Z&&pe.each(Z,Ve=>{const $e=l(Ve);he.insertBefore($e,x)});const Se=Jx(j)?j.siblings:void 0;return v(he,L,Se)},C=Sf.create("div");if(e.length>0){const x=e[0],L=l(x),Z=Jx(x)?x.siblings:void 0;C.appendChild(v(L,e.slice(1),Z))}return C},B7=e=>{e=pe.trim(e);let n="div";const o={name:n,classes:[],attrs:{},selector:e};return e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(r,l,f,v,C)=>{switch(l){case"#":o.attrs.id=f;break;case".":o.classes.push(f);break;case":":pe.inArray("checked disabled enabled read-only required".split(" "),f)!==-1&&(o.attrs[f]=f);break}if(v==="["){const x=C.match(/([\w\-]+)(?:\=\"([^\"]+))?/);x&&(o.attrs[x[1]]=x[2])}return""})),o.name=n||"div",o},F7=e=>oe(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),pe.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),n=>{const o=pe.map(n.split(/(?:~\+|~|\+)/),B7),r=o.pop();return o.length&&(r.siblings=o),r}).reverse()):[],$p=(e,n)=>{let o="",r=L1(e);if(r==="")return"";const l=ne=>oe(ne)?ne.replace(/%(\w+)/g,""):"",f=(ne,Ce)=>Sf.getStyle(Ce??e.getBody(),ne,!0);if(oe(n)){const ne=e.formatter.get(n);if(!ne)return"";n=ne[0]}if("preview"in n){const ne=n.preview;if(ne===!1)return"";r=ne||r}let v=n.block||n.inline||"span",C;const x=F7(n.selector);x.length>0?(x[0].name||(x[0].name=v),v=n.selector,C=e2(x,e)):C=e2([v],e);const L=Sf.select(v,C)[0]||C.firstChild;ow(n.styles,(ne,Ce)=>{const xe=l(ne);xe&&Sf.setStyle(L,Ce,xe)}),ow(n.attributes,(ne,Ce)=>{const xe=l(ne);xe&&Sf.setAttrib(L,Ce,xe)}),ow(n.classes,ne=>{const Ce=l(ne);Sf.hasClass(L,Ce)||Sf.addClass(L,Ce)}),e.dispatch("PreviewFormats"),Sf.setStyles(C,{position:"absolute",left:-65535}),e.getBody().appendChild(C);const Z=f("fontSize"),j=/px$/.test(Z)?parseInt(Z,10):0;return ow(r.split(" "),ne=>{let Ce=f(ne,L);if(!(ne==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(Ce)&&(Ce=f(ne),hb(Ce).toLowerCase()==="#ffffff"))&&!(ne==="color"&&hb(Ce).toLowerCase()==="#000000")){if(ne==="font-size"&&/em|%$/.test(Ce)){if(j===0)return;Ce=parseFloat(Ce)/(/%$/.test(Ce)?100:1)*j+"px"}ne==="border"&&Ce&&(o+="padding:0 2px;"),o+=ne+":"+Ce+";"}}),e.dispatch("AfterPreviewFormats"),Sf.remove(C),o},lm=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},iS=e=>{const n=o$(e),o=Vi({});return lm(e),_V(e),Np(e)||kV(o,e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:(r,l,f)=>{Z8(e,r,l,f)},remove:(r,l,f,v)=>{Y8(e,r,l,f,v)},toggle:(r,l,f)=>{K8(e,r,l,f)},match:(r,l,f,v)=>q8(e,r,l,f,v),closest:r=>O4(e,r),matchAll:(r,l)=>j8(e,r,l),matchNode:(r,l,f,v)=>JC(e,r,l,f,v),canApply:r=>x4(e,r),formatChanged:(r,l,f,v)=>R4(e,o,r,l,f,v),getCssText:Ge($p,e)}},wD=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},t2=(e,n,o)=>{const r=Vi(!1),l=x=>{td(n,!1,o),n.add({},x)};e.on("init",()=>{n.add()}),e.on("BeforeExecCommand",x=>{const L=x.command;wD(L)||(y4(n,o),n.beforeChange())}),e.on("ExecCommand",x=>{const L=x.command;wD(L)||l(x)}),e.on("ObjectResizeStart cut",()=>{n.beforeChange()}),e.on("SaveContent ObjectResized blur",l),e.on("dragend",l),e.on("keyup",x=>{const L=x.keyCode;x.isDefaultPrevented()||((L>=33&&L<=36||L>=37&&L<=40||L===45||x.ctrlKey)&&(l(),e.nodeChanged()),(L===46||L===8)&&e.nodeChanged(),r.get()&&n.typing&&!cD(KC(e),n.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),r.set(!1),e.nodeChanged()))}),e.on("keydown",x=>{const L=x.keyCode;if(x.isDefaultPrevented())return;if(L>=33&&L<=36||L>=37&&L<=40||L===45){n.typing&&l(x);return}const Z=x.ctrlKey&&!x.altKey||x.metaKey;(L<16||L>20)&&L!==224&&L!==91&&!n.typing&&!Z&&(n.beforeChange(),td(n,!0,o),n.add({},x),r.set(!0))}),e.on("mousedown",x=>{n.typing&&l(x)});const f=x=>x.inputType==="insertReplacementText",v=x=>x.inputType==="insertText"&&x.data===null,C=x=>x.inputType==="insertFromPaste"||x.inputType==="insertFromDrop";e.on("input",x=>{x.inputType&&(f(x)||v(x)||C(x))&&l(x)}),e.on("AddUndo Undo Redo ClearUndos",x=>{x.isDefaultPrevented()||e.nodeChanged()})},s$=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},TD=e=>{const n=oa(),o=Vi(0),r=Vi(0),l={data:[],typing:!1,beforeChange:()=>{Wx(e,o,n)},add:(f,v)=>QC(e,l,r,o,n,f,v),dispatchChange:()=>{e.setDirty(!0);const f=KC(e);f.bookmark=ba(e.selection),e.dispatch("change",{level:f,lastLevel:fl(l.data,r.get()).getOrUndefined()})},undo:()=>T4(e,l,o,r),redo:()=>C4(e,r,l.data),clear:()=>{V8(e,l,r)},reset:()=>{S4(e,l)},hasUndo:()=>U8(e,l,r),hasRedo:()=>z8(e,l,r),transact:f=>W8(e,l,o,f),ignore:f=>{G8(e,o,f)},extra:(f,v)=>{A4(e,l,r,f,v)}};return Np(e)||t2(e,l,o),s$(e),l},r$=[9,27,Cn.HOME,Cn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Cn.DOWN,Cn.UP,Cn.LEFT,Cn.RIGHT].concat(Do.browser.isFirefox()?[224]:[]),CD="data-mce-placeholder",SD=e=>e.type==="keydown"||e.type==="keyup",AD=e=>{const n=e.keyCode;return n===Cn.BACKSPACE||n===Cn.DELETE},n2=e=>{if(SD(e)){const n=e.keyCode;return!AD(e)&&(Cn.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||kn(r$,n))}else return!1},xD=e=>SD(e)&&!(AD(e)||e.type==="keyup"&&e.keyCode===229),H7=(e,n,o)=>{if(zs(Oe.fromDom(n),!1)){const r=n.firstElementChild;return r?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:o===r.nodeName.toLowerCase():!0}else return!1},V7=e=>{var n;const o=e.dom,r=yu(e),l=(n=D0(e))!==null&&n!==void 0?n:"",f=(v,C)=>{if(n2(v))return;const x=e.getBody(),L=xD(v)?!1:H7(o,x,r);(o.getAttrib(x,CD)!==""!==L||C)&&(o.setAttrib(x,CD,L?l:null),o.setAttrib(x,"aria-placeholder",L?l:null),nm(e,L),e.on(L?"keydown":"keyup",f),e.off(L?"keyup":"keydown",f))};Cs(l)&&e.on("init",v=>{f(v,!0),e.on("change SetContent ExecCommand",f),e.on("paste",C=>Md.setEditorTimeout(e,()=>f(C)))})},U7=(e,n)=>({block:e,position:n}),z7=(e,n)=>({from:e,to:n}),o2=(e,n)=>{const o=Oe.fromDom(e),r=Oe.fromDom(n.container());return ox(o,r).map(l=>U7(l,n))},W7=e=>!ns(e.from.block,e.to.block),i$=(e,n)=>es(n,l=>Hr(l)||ts(l.dom),l=>ns(l,e)).filter(is).getOr(e),OD=(e,n)=>{const o=Oe.fromDom(e);return ns(i$(o,n.from.block),i$(o,n.to.block))},G7=e=>Po(e.from.block.dom)===!1&&Po(e.to.block.dom)===!1,q7=e=>{const n=o=>We(o)||gu(o.dom);return n(e.from.block)&&n(e.to.block)},j7=(e,n,o)=>hr(o.position.getNode())&&!zs(o.block)?fs(!1,o.block.dom).bind(r=>r.isEqual(o.position)?No(n,e,r).bind(l=>o2(e,l)):te.some(o)).getOr(o):o,Z7=(e,n,o)=>{const r=o2(e,Ye.fromRangeStart(o)),l=r.bind(f=>No(n,e,f.position).bind(v=>o2(e,v).map(C=>j7(e,n,C))));return yt(r,l,z7).filter(f=>W7(f)&&OD(e,f)&&G7(f)&&q7(f))},Y7=(e,n,o)=>o.collapsed?Z7(e,n,o):te.none(),K7=e=>{const n=ze(e);return Rr(n,Ft).fold(et(n),o=>n.slice(0,o))},a$=e=>{const n=K7(e);return mt(n,wr),n},aS=(e,n)=>{const o=ov(n,e);return vs(o.reverse(),r=>zs(r)).each(wr)},RD=e=>Lt(Te(e),n=>!zs(n)).length===0,X7=(e,n,o,r)=>{if(zs(o))return Yg(o),ei(o.dom);RD(r)&&zs(n)&&us(r,Oe.fromTag("br"));const l=di(o.dom,Ye.before(r.dom));return mt(a$(n),f=>{us(r,f)}),aS(e,n),l},Q7=(e,n,o)=>{if(zs(o)){if(zs(n)){const f=Lr((v=>{const C=(x,L)=>ct(x).fold(()=>L,Z=>dn(Z)?C(Z,L.concat(Zm(Z))):L);return C(v,[])})(o),(v,C)=>(Om(v,C),C),Wn());Js(n),Er(n,f)}return wr(o),ei(n.dom)}const r=Zr(o.dom);return mt(a$(n),l=>{Er(o,l)}),aS(e,n),r},J7=(e,n)=>{const o=ov(n,e);return te.from(o[o.length-1])},eU=(e,n)=>Qe(n,e)?J7(n,e):te.none(),ID=(e,n)=>{fs(e,n.dom).bind(o=>te.from(o.getNode())).map(Oe.fromDom).filter(Ko).each(wr)},c$=(e,n,o)=>(ID(!0,n),ID(!1,o),eU(n,o).fold(Ge(Q7,e,n,o),Ge(X7,e,n,o))),l$=(e,n,o,r)=>n?c$(e,r,o):c$(e,o,r),cS=(e,n)=>{const o=Oe.fromDom(e.getBody());return Y7(o.dom,n,e.selection.getRng()).map(l=>()=>{l$(o,n,l.from.block,l.to.block).each(f=>{e.selection.setRng(f.toRange())})})},tU=(e,n)=>{const o=n.getRng();return yt(ox(e,Oe.fromDom(o.startContainer)),ox(e,Oe.fromDom(o.endContainer)),(r,l)=>ns(r,l)?te.none():te.some(()=>{o.deleteContents(),l$(e,!0,r,l).each(f=>{n.setRng(f.toRange())})})).getOr(te.none())},u$=(e,n)=>{const o=Oe.fromDom(n),r=Ge(ns,e);return Ps(o,Hr,r).isSome()},nU=(e,n)=>u$(e,n.startContainer)||u$(e,n.endContainer),oU=(e,n)=>{const o=di(e.dom,Ye.fromRangeStart(n)).isNone(),r=ui(e.dom,Ye.fromRangeEnd(n)).isNone();return!nU(e,n)&&o&&r},sU=e=>te.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),rU=e=>{const n=Oe.fromDom(e.getBody()),o=e.selection.getRng();return oU(n,o)?sU(e):tU(n,e.selection)},DD=(e,n)=>e.selection.isCollapsed()?te.none():rU(e),um=(e,n,o,r,l)=>te.from(n._selectionOverrides.showCaret(e,o,r,l)),s2=e=>{const n=e.ownerDocument.createRange();return n.selectNode(e),n},lS=(e,n)=>e.dispatch("BeforeObjectSelected",{target:n}).isDefaultPrevented()?te.none():te.some(s2(n)),iU=(e,n,o)=>{const r=ug(1,e.getBody(),n),l=Ye.fromRangeStart(r),f=l.getNode();if(V1(f))return um(1,e,f,!l.isAtEnd(),!1);const v=l.getNode(!0);if(V1(v))return um(1,e,v,!1,!1);const C=Ip(e.dom.getRoot(),l.getNode());return V1(C)?um(1,e,C,!1,o):te.none()},sw=(e,n,o)=>n.collapsed?iU(e,n,o).getOr(n):n,aU=e=>py(e)||bC(e),cU=e=>Ab(e)||mo(e),lU=(e,n)=>{Ut(n)&&n.data.length===0&&e.remove(n)},d$=(e,n,o,r,l,f)=>{um(r,e,f.getNode(!l),l,!0).each(v=>{if(n.collapsed){const C=n.cloneRange();l?C.setEnd(v.startContainer,v.startOffset):C.setStart(v.endContainer,v.endOffset),C.deleteContents()}else n.deleteContents();e.selection.setRng(v)}),lU(e.dom,o)},uU=(e,n)=>{const o=e.selection.getRng();if(!Ut(o.commonAncestorContainer))return te.none();const r=n?_a.Forwards:_a.Backwards,l=qe(e.getBody()),f=Ge(X0,n?l.next:l.prev),v=n?aU:cU,C=_p(r,e.getBody(),o),x=f(C),L=x&&zo(n,x);if(!L||!Ep(C,L))return te.none();if(v(L))return te.some(()=>d$(e,o,C.getNode(),r,n,L));const Z=f(L);return Z&&v(Z)&&Ep(L,Z)?te.some(()=>d$(e,o,C.getNode(),r,n,Z)):te.none()},ND=(e,n)=>uU(e,n),MD=(e,n)=>{const o=e.getBody();return n?ei(o).filter(py):Zr(o).filter(Ab)},kD=e=>{const n=e.selection.getRng();return!n.collapsed&&(MD(e,!0).exists(o=>o.isEqual(Ye.fromRangeStart(n)))||MD(e,!1).exists(o=>o.isEqual(Ye.fromRangeEnd(n))))},dU=e=>Ne(e)&&(Hr(Oe.fromDom(e))||ci(Oe.fromDom(e))),Af=Xu.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),fU=(e,n)=>{const o=n.getNode(!e),r=e?"after":"before";return nn(o)&&o.getAttribute("data-mce-caret")===r},eK=(e,n,o,r)=>{const l=f=>dn(Oe.fromDom(f))&&!eu(o,r,e);return yA(!n,o).fold(()=>yA(n,r).fold(Je,l),l)},ih=(e,n,o,r)=>{const l=r.getNode(!n);return ox(Oe.fromDom(e),Oe.fromDom(o.getNode())).map(f=>zs(f)?Af.remove(f.dom):Af.moveToElement(l)).orThunk(()=>te.some(Af.moveToElement(l)))},r2=(e,n,o)=>No(n,e,o).bind(r=>dU(r.getNode())||eK(e,n,o,r)?te.none():n&&Po(r.getNode())||!n&&Po(r.getNode(!0))?ih(e,n,o,r):n&&Ab(o)||!n&&py(o)?te.some(Af.moveToPosition(r)):te.none()),f$=(e,n)=>Et(n)?te.none():e&&Po(n.nextSibling)?te.some(Af.moveToElement(n.nextSibling)):!e&&Po(n.previousSibling)?te.some(Af.moveToElement(n.previousSibling)):te.none(),h$=(e,n,o)=>o.fold(r=>te.some(Af.remove(r)),r=>te.some(Af.moveToElement(r)),r=>eu(n,r,e)?te.none():te.some(Af.moveToPosition(r))),hU=(e,n,o)=>fU(n,o)?f$(n,o.getNode(!n)).orThunk(()=>r2(e,n,o)):r2(e,n,o).bind(r=>h$(e,o,r)),m$=(e,n,o)=>{const r=ug(n?1:-1,e,o),l=Ye.fromRangeStart(r),f=Oe.fromDom(e);return!n&&Ab(l)?te.some(Af.remove(l.getNode(!0))):n&&py(l)?te.some(Af.remove(l.getNode())):!n&&py(l)&&qk(f,l)?LY(f,l).map(v=>Af.remove(v.getNode())):n&&Ab(l)&&YR(f,l)?N6(f,l).map(v=>Af.remove(v.getNode())):hU(e,n,l)},mU=(e,n)=>o=>(e._selectionOverrides.hideFakeCaret(),by(e,n,Oe.fromDom(o)),!0),g$=(e,n)=>o=>{const r=n?Ye.before(o):Ye.after(o);return e.selection.setRng(r.toRange()),!0},gU=e=>n=>(e.selection.setRng(n.toRange()),!0),p$=(e,n)=>te.from(Ip(e.getBody(),n)),pU=(e,n)=>{const o=e.selection.getNode();return p$(e,o).filter(Po).fold(()=>m$(e.getBody(),n,e.selection.getRng()).map(r=>()=>r.fold(mU(e,n),g$(e,n),gU(e))),()=>te.some(Ot))},rw=e=>{mt(Qr(e,".mce-offscreen-selection"),wr)},v$=(e,n)=>{const o=e.selection.getNode();return Po(o)&&!Jr(o)?p$(e,o.parentNode).filter(Po).fold(()=>te.some(()=>{rw(Oe.fromDom(e.getBody())),by(e,n,Oe.fromDom(e.selection.getNode())),wC(e)}),()=>te.some(Ot)):kD(e)?te.some(()=>{gP(e,e.selection.getRng(),Oe.fromDom(e.getBody()))}):te.none()},PD=e=>{const n=e.dom,o=e.selection,r=Ip(e.getBody(),o.getNode());if(ts(r)&&n.isBlock(r)&&n.isEmpty(r)){const l=n.create("br",{"data-mce-bogus":"1"});n.setHTML(r,""),r.appendChild(l),o.setRng(Ye.before(l).toRange())}return!0},i2=(e,n)=>e.selection.isCollapsed()?pU(e,n):v$(e,n),LD=(e,n)=>{const o=Ye.fromRangeStart(e.selection.getRng());return No(n,e.getBody(),o).filter(r=>n?x6(r):lo(r)).bind(r=>fb(n?0:-1,r)).map(r=>()=>e.selection.select(r))},$D=(e,n)=>e.selection.isCollapsed()?LD(e,n):te.none(),iw=Ut,b$=e=>iw(e)&&e.data[0]===Ma,vU=e=>iw(e)&&e.data[e.data.length-1]===Ma,bU=e=>{var n;return((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(Ma)},tK=e=>{var n;if(iw(e.previousSibling))return vU(e.previousSibling)||e.previousSibling.appendData(Ma),e.previousSibling;if(iw(e))return b$(e)||e.insertData(0,Ma),e;{const o=bU(e);return(n=e.parentNode)===null||n===void 0||n.insertBefore(o,e),o}},dm=e=>{var n,o;if(iw(e.nextSibling))return b$(e.nextSibling)||e.nextSibling.insertData(0,Ma),e.nextSibling;if(iw(e))return vU(e)||e.appendData(Ma),e;{const r=bU(e);return e.nextSibling?(n=e.parentNode)===null||n===void 0||n.insertBefore(r,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(r),r}},a2=(e,n)=>e?tK(n):dm(n),yU=Ge(a2,!0),y$=Ge(a2,!1),c2=(e,n)=>Ut(e.container())?a2(n,e.container()):a2(n,e.getNode()),_U=(e,n)=>{const o=n.get();return o&&e.container()===o&&Sc(o)},_$=(e,n)=>n.fold(o=>{rg(e.get());const r=yU(o);return e.set(r),te.some(Ye(r,r.length-1))},o=>ei(o).map(r=>{if(_U(r,e)){const l=e.get();return Ye(l,1)}else{rg(e.get());const l=c2(r,!0);return e.set(l),Ye(l,1)}}),o=>Zr(o).map(r=>{if(_U(r,e)){const l=e.get();return Ye(l,l.length-1)}else{rg(e.get());const l=c2(r,!1);return e.set(l),Ye(l,l.length-1)}}),o=>{rg(e.get());const r=y$(o);return e.set(r),te.some(Ye(r,1))}),EU=(e,n)=>{for(let o=0;o<e.length;o++){const r=e[o].apply(null,n);if(r.isSome())return r}return te.none()},Oi=Xu.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),E$=(e,n)=>{const o=Gi(n,e);return o||e},wU=(e,n,o)=>{const r=Tf(o),l=E$(n,r.container());return Eg(e,l,r).fold(()=>ui(l,r).bind(Ge(Eg,e,l)).map(f=>Oi.before(f)),te.none)},TU=(e,n)=>bf(e,n)===null,w$=(e,n,o)=>Eg(e,n,o).filter(Ge(TU,n)),CU=(e,n,o)=>{const r=dP(o);return w$(e,n,r).bind(l=>di(l,r).isNone()?te.some(Oi.start(l)):te.none())},SU=(e,n,o)=>{const r=Tf(o);return w$(e,n,r).bind(l=>ui(l,r).isNone()?te.some(Oi.end(l)):te.none())},Ly=(e,n,o)=>{const r=dP(o),l=E$(n,r.container());return Eg(e,l,r).fold(()=>di(l,r).bind(Ge(Eg,e,l)).map(f=>Oi.after(f)),te.none)},T$=e=>!K6(BD(e)),Bp=(e,n,o)=>EU([wU,CU,SU,Ly],[e,n,o]).filter(T$),BD=e=>e.fold(qt,qt,qt,qt),l2=e=>e.fold(et("before"),et("start"),et("end"),et("after")),aw=e=>e.fold(Oi.before,Oi.before,Oi.after,Oi.after),u2=e=>e.fold(Oi.start,Oi.start,Oi.end,Oi.end),C$=(e,n)=>l2(e)===l2(n)&&BD(e)===BD(n),S$=(e,n,o,r,l,f)=>yt(Eg(n,o,r),Eg(n,o,l),(v,C)=>v!==C&&$Y(o,v,C)?Oi.after(e?v:C):f).getOr(f),AU=(e,n)=>e.fold(It,o=>!C$(o,n)),uS=(e,n,o,r,l)=>{const f=zo(e,l);return No(e,o,f).map(Ge(zo,e)).fold(()=>r.map(aw),x=>Bp(n,o,x).map(Ge(S$,e,n,o,f,x)).filter(Ge(AU,r))).filter(T$)},xU=(e,n)=>e?n.fold(P(te.some,Oi.start),te.none,P(te.some,Oi.after),te.none):n.fold(te.none,P(te.some,Oi.before),te.none,P(te.some,Oi.end)),OU=(e,n,o,r)=>{const l=zo(e,r),f=Bp(n,o,l);return Bp(n,o,l).bind(Ge(xU,e)).orThunk(()=>uS(e,n,o,f,r))},RU=e=>ge(e.selection.getSel().modify),A$=(e,n,o)=>{const r=e?1:-1;return n.setRng(Ye(o.container(),o.offset()+r).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},IU=(e,n)=>{const o=n.selection.getRng(),r=e?Ye.fromRangeEnd(o):Ye.fromRangeStart(o);return RU(n)?e&&_d(r)?A$(!0,n.selection,r):!e&&u1(r)?A$(!1,n.selection,r):!1:!1};var Fp;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Fp||(Fp={}));const d2=(e,n)=>e===_a.Backwards?Os(n):n,x$=(e,n,o)=>e===_a.Forwards?n.next(o):n.prev(o),DU=(e,n,o,r)=>hr(r.getNode(n===_a.Forwards))?Fp.Br:eu(o,r)===!1?Fp.Block:Fp.Wrap,$b=(e,n,o,r)=>{const l=qe(o);let f=r;const v=[];for(;f;){const C=x$(n,l,f);if(!C)break;if(hr(C.getNode(!1)))return n===_a.Forwards?{positions:d2(n,v).concat([C]),breakType:Fp.Br,breakAt:te.some(C)}:{positions:d2(n,v),breakType:Fp.Br,breakAt:te.some(C)};if(!C.isVisible()){f=C;continue}if(e(f,C)){const x=DU(o,n,f,C);return{positions:d2(n,v),breakType:x,breakAt:te.some(C)}}v.push(C),f=C}return{positions:d2(n,v),breakType:Fp.Eol,breakAt:te.none()}},FD=(e,n,o,r)=>n(o,r).breakAt.map(l=>{const f=n(o,l).positions;return e===_a.Backwards?f.concat(l):[l].concat(f)}).getOr([]),dS=(e,n)=>Ns(e,(o,r)=>o.fold(()=>te.some(r),l=>yt(Ii(l.getClientRects()),Ii(r.getClientRects()),(f,v)=>{const C=Math.abs(n-f.left);return Math.abs(n-v.left)<=C?r:l}).or(o)),te.none()),fS=(e,n)=>Ii(n.getClientRects()).bind(o=>dS(e,o.left)),$y=Ge($b,Ye.isAbove,-1),fm=Ge($b,Ye.isBelow,1),HD=Ge(FD,-1,$y),xf=Ge(FD,1,fm),By=(e,n)=>$y(e,n).breakAt.isNone(),VD=(e,n)=>fm(e,n).breakAt.isNone(),NU=e=>ei(e).map(n=>[n].concat(fm(e,n).positions)).getOr([]),O$=e=>Zr(e).map(n=>$y(e,n).positions.concat(n)).getOr([]),MU=(e,n)=>fS(HD(e,n),n),kU=(e,n)=>fS(xf(e,n),n),PU=Po,R$=(e,n)=>Math.abs(e.left-n),I$=(e,n)=>Math.abs(e.right-n),D$=e=>Qa(e,"node"),N$=(e,n)=>Sa(e,(o,r)=>{const l=Math.min(R$(o,n),I$(o,n)),f=Math.min(R$(r,n),I$(r,n));return f===l&&D$(r)&&PU(r.node)||f<l?r:o}),LU=e=>{const n=o=>Yt(o,r=>{const l=Wh(r);return l.node=e,l});if(nn(e))return n(e.getClientRects());if(Ut(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),n(o.getClientRects())}else return[]},Fy=e=>Ca(e,LU);var Hy;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(Hy||(Hy={}));const M$=(e,n,o,r)=>{let l=r;for(;l=pf(l,e,na,n);)if(o(l))return},UD=(e,n,o,r,l,f)=>{let v=0;const C=[],x=j=>{let ne=Fy([j]);e===-1&&(ne=ne.reverse());for(let Ce=0;Ce<ne.length;Ce++){const xe=ne[Ce];if(!o(xe,L)){if(C.length>0&&n(xe,bc(C))&&v++,xe.line=v,l(xe))return!0;C.push(xe)}}return!1},L=bc(f.getClientRects());if(!L)return C;const Z=f.getNode();return Z&&(x(Z),M$(e,r,x,Z)),C},zD=(e,n)=>n.line>e,$U=(e,n)=>n.line===e,BU=Ge(UD,Hy.Up,rl,Ym),FU=Ge(UD,Hy.Down,Ym,rl),k$=e=>bc(e.getClientRects()),HU=(e,n,o,r)=>{const l=qe(n);let f,v,C,x;const L=[];let Z=0;e===1?(f=l.next,v=Ym,C=rl,x=Ye.after(r)):(f=l.prev,v=rl,C=Ym,x=Ye.before(r));const j=k$(x);do{if(!x.isVisible())continue;const ne=k$(x);if(C(ne,j))continue;L.length>0&&v(ne,bc(L))&&Z++;const Ce=Wh(ne);if(Ce.position=x,Ce.line=Z,o(Ce))return L;L.push(Ce)}while(x=f(x));return L},P$=e=>n=>zD(e,n),WD=e=>n=>$U(e,n),Hp=(e,n)=>{e.selection.setRng(n),wn(e,e.selection.getRng())},GD=(e,n,o)=>te.some(sw(e,n,o)),L$=(e,n,o,r,l,f)=>{const v=n===_a.Forwards,C=qe(e.getBody()),x=Ge(X0,v?C.next:C.prev),L=v?r:l;if(!o.collapsed){const xe=xl(o);if(f(xe))return um(n,e,xe,n===_a.Backwards,!1);if(kD(e)){const he=o.cloneRange();return he.collapse(n===_a.Backwards),te.from(he)}}const Z=_p(n,e.getBody(),o);if(L(Z))return lS(e,Z.getNode(!v));let j=x(Z);const ne=Ov(o);if(j)j=zo(v,j);else return ne?te.some(o):te.none();if(L(j))return um(n,e,j.getNode(!v),v,!1);const Ce=x(j);return Ce&&L(Ce)&&Ep(j,Ce)?um(n,e,Ce.getNode(!v),v,!1):ne?GD(e,j.toRange(),!1):te.none()},Ld=(e,n,o,r,l,f)=>{const v=_p(n,e.getBody(),o),C=bc(v.getClientRects()),x=n===Hy.Down,L=e.getBody();if(!C)return te.none();if(kD(e)){const Se=x?Ye.fromRangeEnd(o):Ye.fromRangeStart(o);return(x?kU:MU)(L,Se).orThunk(()=>te.from(Se)).map($e=>$e.toRange())}const j=(x?FU:BU)(L,P$(1),v),ne=Lt(j,WD(1)),Ce=C.left,xe=N$(ne,Ce);if(xe&&f(xe.node)){const Se=Math.abs(Ce-xe.left),Ve=Math.abs(Ce-xe.right);return um(n,e,xe.node,Se<Ve,!1)}let he;if(r(v)?he=v.getNode():l(v)?he=v.getNode(!0):he=xl(o),he){const Se=HU(n,L,P$(1),he);let Ve=N$(Lt(Se,WD(1)),Ce);if(Ve||(Ve=bc(Lt(Se,WD(0))),Ve))return GD(e,Ve.position.toRange(),!1)}return ne.length===0?qD(e,x).filter(x?l:r).map(Se=>sw(e,Se.toRange(),!1)):te.none()},qD=(e,n)=>{const o=e.selection.getRng(),r=n?Ye.fromRangeEnd(o):Ye.fromRangeStart(o),l=Y0(r.container(),e.getBody());if(n){const f=fm(l,r);return Zc(f.positions)}else{const f=$y(l,r);return Ii(f.positions)}},f2=(e,n,o)=>qD(e,n).filter(o).exists(r=>(e.selection.setRng(r.toRange()),!0)),hS=(e,n)=>{const o=e.dom.createRng();o.setStart(n.container(),n.offset()),o.setEnd(n.container(),n.offset()),e.selection.setRng(o)},h2=(e,n)=>{e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},$$=(e,n,o)=>_$(n,o).map(r=>(hS(e,r),o)),VU=(e,n,o)=>{const r=Ye.fromRangeStart(e);if(e.collapsed)return r;{const l=Ye.fromRangeEnd(e);return o?di(n,l).getOr(l):ui(n,r).getOr(r)}},UU=(e,n,o)=>{const r=e.getBody(),l=VU(e.selection.getRng(),r,o),f=Ge(_y,e);return OU(o,f,r,l).bind(C=>$$(e,n,C))},zU=(e,n,o)=>{const r=Yt(Qr(Oe.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),v=>v.dom),l=Lt(r,e),f=Lt(o,e);mt(rd(l,f),Ge(h2,!1)),mt(rd(f,l),Ge(h2,!0))},WU=(e,n)=>{const o=n.get();if(e.selection.isCollapsed()&&!e.composing&&o){const r=Ye.fromRangeStart(e.selection.getRng());Ye.isTextPosition(r)&&!qc(r)&&(hS(e,rE(o,r)),n.set(null))}},B$=(e,n,o,r)=>{if(n.selection.isCollapsed()){const l=Lt(r,e);mt(l,f=>{const v=Ye.fromRangeStart(n.selection.getRng());Bp(e,n.getBody(),v).bind(C=>$$(n,o,C))})}},F$=(e,n,o)=>vp(e)?UU(e,n,o).isSome():!1,H$=(e,n,o)=>vp(n)?IU(e,n):!1,mS=e=>{const n=Vi(null),o=Ge(_y,e);return e.on("NodeChange",r=>{vp(e)&&(zU(o,e.dom,r.parents),WU(e,n),B$(o,e,n,r.parents))}),n},uv=Ge(H$,!0),Vy=Ge(H$,!1),Uy=(e,n,o)=>{if(vp(e)){const r=qD(e,n).getOrThunk(()=>{const l=e.selection.getRng();return n?Ye.fromRangeEnd(l):Ye.fromRangeStart(l)});return Bp(Ge(_y,e),e.getBody(),r).exists(l=>{const f=aw(l);return _$(o,f).exists(v=>(hS(e,v),!0))})}else return!1},jD=(e,n)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(n.container(),n.offset()),o},ZD=e=>yt(ei(e),Zr(e),(n,o)=>{const r=zo(!0,n),l=zo(!1,o);return ui(e,r).forall(f=>f.isEqual(l))}).getOr(!0),YD=(e,n)=>o=>_$(n,o).map(r=>()=>hS(e,r)),V$=(e,n,o,r)=>{const l=e.getBody(),f=Ge(_y,e);e.undoManager.ignore(()=>{e.selection.setRng(jD(o,r)),EC(e),Bp(f,l,Ye.fromRangeStart(e.selection.getRng())).map(u2).bind(YD(e,n)).each(Fo)}),e.nodeChanged()},U$=(e,n)=>{const o=Gi(n,e);return o||e},z$=(e,n,o,r)=>{const l=U$(e.getBody(),r.container()),f=Ge(_y,e),v=Bp(f,l,r);return v.bind(x=>o?x.fold(et(te.some(u2(x))),te.none,et(te.some(aw(x))),te.none):x.fold(te.none,et(te.some(aw(x))),te.none,et(te.some(u2(x))))).map(YD(e,n)).getOrThunk(()=>{const x=Ro(o,l,r),L=x.bind(Z=>Bp(f,l,Z));return yt(v,L,()=>Eg(f,l,r).bind(Z=>ZD(Z)?te.some(()=>{by(e,o,Oe.fromDom(Z))}):te.none())).getOrThunk(()=>L.bind(()=>x.map(Z=>()=>{o?V$(e,n,r,Z):V$(e,n,Z,r)})))})},KD=(e,n,o)=>{if(e.selection.isCollapsed()&&vp(e)){const r=Ye.fromRangeStart(e.selection.getRng());return z$(e,n,o,r)}return te.none()},GU=e=>Xt(e)>1,W$=(e,n)=>{const o=Oe.fromDom(e.getBody()),r=Oe.fromDom(e.selection.getStart()),l=ov(r,o);return Rr(l,n).fold(et(l),f=>l.slice(0,f))},qU=e=>W$(e,n=>Ft(n)||GU(n)),jU=e=>W$(e,Ft),G$=(e,n)=>{const o=Ge(LC,e);return Ca(n,r=>o(r)?[r.dom]:[])},XD=e=>{const n=jU(e);return G$(e,n)},q$=(e,n,o,r)=>{const l=G$(n,r);if(l.length===0)by(n,e,o);else{const f=rL(o.dom,l);n.selection.setRng(f.toRange())}},nK=(e,n)=>{const o=qU(e);return Zc(o).bind(r=>{const l=Ye.fromRangeStart(e.selection.getRng());return mP(n,l,r.dom)&&!RI(r)?te.some(()=>q$(n,e,r,o)):te.none()})},oK=(e,n)=>{const o=n.parentElement;return hr(n)&&!Ee(o)&&e.dom.isEmpty(o)},sK=e=>RI(Oe.fromDom(e)),j$=(e,n)=>{const o=e.selection.getStart(),r=oK(e,o)||sK(o)?rL(o,n):rm(e,n);e.selection.setRng(r.toRange())},rK=(e,n)=>{const o=rd(n,XD(e));o.length>0&&j$(e,o)},ZU=e=>Ut(e.startContainer),YU=e=>e.startOffset===0&&ZU(e),KU=(e,n)=>{const o=n.startContainer.parentElement;return!Ee(o)&&LC(e,Oe.fromDom(o))},iK=e=>{const n=e.startContainer.parentNode,o=e.endContainer.parentNode;return!Ee(n)&&!Ee(o)&&n.isEqualNode(o)},XU=e=>{const n=e.endContainer;return e.endOffset===(Ut(n)?n.length:n.childNodes.length)},$d=e=>iK(e)&&XU(e),Z$=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),gS=e=>$d(e)||Z$(e),QU=e=>{const n=e.selection.getRng();return YU(n)&&KU(e,n)&&gS(n)},Y$=e=>{if(QU(e)){const n=XD(e);return te.some(()=>{EC(e),rK(e,n)})}else return te.none()},m2=(e,n)=>e.selection.isCollapsed()?nK(e,n):Y$(e),QD=e=>eL(e,n=>Ws(n.dom),Ft),JU=e=>QD(Oe.fromDom(e.selection.getStart())),ez=e=>{const n=e.selection.getRng();return n.collapsed&&(ZU(n)||e.dom.isEmpty(n.startContainer))&&!JU(e)},cw=e=>(ez(e)&&j$(e,[]),!0),JD=(e,n,o)=>Ne(o)?te.some(()=>{e._selectionOverrides.hideFakeCaret(),by(e,n,Oe.fromDom(o))}):te.none(),tz=(e,n)=>{const o=n?bC:mo,r=n?_a.Forwards:_a.Backwards,l=_p(r,e.getBody(),e.selection.getRng());return o(l)?JD(e,n,l.getNode(!n)):te.from(zo(n,l)).filter(f=>o(f)&&Ep(l,f)).bind(f=>JD(e,n,f.getNode(!n)))},eN=(e,n)=>{const o=e.selection.getNode();return or(o)?JD(e,n,o):te.none()},tN=(e,n)=>e.selection.isCollapsed()?tz(e,n):eN(e,n),aK=e=>es(e,n=>ts(n.dom)||Po(n.dom)).exists(n=>ts(n.dom)),nN=e=>cd(e??"").getOr(0),K$=(e,n)=>{const o=e||In(n)?"margin":"padding",r=$u(n,"direction")==="rtl"?"-right":"-left";return o+r},oN=(e,n,o,r,l,f)=>{const v=K$(o,Oe.fromDom(f)),C=nN(e.getStyle(f,v));if(n==="outdent"){const x=Math.max(0,C-r);e.setStyle(f,v,x?x+l:"")}else{const x=C+r+l;e.setStyle(f,v,x)}},X$=(e,n)=>nr(n,o=>{const r=K$(tg(e),o),l=Na(o,r).map(nN).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&l>0}),nz=e=>{const n=J$(e);return!e.mode.isReadOnly()&&(n.length>1||X$(e,n))},Q$=e=>Gr(e)||ci(e),oz=e=>Vo(e).exists(Q$),J$=e=>Lt(Bu(e.selection.getSelectedBlocks()),n=>!Q$(n)&&!oz(n)&&aK(n)),g2=(e,n)=>{var o,r;const{dom:l}=e,f=Mr(e),v=(r=(o=/[a-z%]+$/i.exec(f))===null||o===void 0?void 0:o[0])!==null&&r!==void 0?r:"px",C=nN(f),x=tg(e);mt(J$(e),L=>{oN(l,n,x,C,v,L.dom)})},p2=e=>g2(e,"indent"),sN=e=>g2(e,"outdent"),rN=e=>{if(e.selection.isCollapsed()&&nz(e)){const n=e.dom,o=e.selection.getRng(),r=Ye.fromRangeStart(o),l=n.getParent(o.startContainer,n.isBlock);if(l!==null&&vy(Oe.fromDom(l),r))return te.some(()=>sN(e))}return te.none()},e3=(e,n,o)=>$r([rN,i2,ND,(r,l)=>KD(r,n,l),cS,RC,$D,tN,DD,m2],r=>r(e,o)).filter(r=>e.selection.isEditable()),sz=(e,n)=>{e3(e,n,!1).fold(()=>{EC(e),wC(e)},Fo)},iN=(e,n)=>{e3(e,n,!0).fold(()=>fP(e),Fo)},rz=(e,n)=>{e.addCommand("delete",()=>{sz(e,n)}),e.addCommand("forwardDelete",()=>{iN(e,n)})},t3=5,iz=400,n3=e=>e.touches===void 0||e.touches.length!==1?te.none():te.some(e.touches[0]),hm=(e,n)=>{const o=Math.abs(e.clientX-n.x),r=Math.abs(e.clientY-n.y);return o>t3||r>t3},o3=e=>{const n=oa(),o=Vi(!1),r=zc(l=>{e.dispatch("longpress",{...l,type:"longpress"}),o.set(!0)},iz);e.on("touchstart",l=>{n3(l).each(f=>{r.cancel();const v={x:f.clientX,y:f.clientY,target:l.target};r.throttle(l),o.set(!1),n.set(v)})},!0),e.on("touchmove",l=>{r.cancel(),n3(l).each(f=>{n.on(v=>{hm(f,v)&&(n.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",l=>{r.cancel(),l.type!=="touchcancel"&&n.get().filter(f=>f.target.isEqualNode(l.target)).each(()=>{o.get()?l.preventDefault():e.dispatch("tap",{...l,type:"tap"})})},!0)},v2=(e,n)=>qn(e,n.nodeName),cK=(e,n)=>Ut(n)?!0:nn(n)?!v2(e.getBlockElements(),n)&&!Qu(n)&&!zf(e,n):!1,lK=(e,n,o)=>ko(Uk(Oe.fromDom(o),Oe.fromDom(n)),r=>v2(e,r.dom)),uK=(e,n)=>{if(Ut(n)){if(n.data.length===0)return!0;if(/^\s+$/.test(n.data)&&(!n.nextSibling||v2(e,n.nextSibling)))return!0}return!1},az=e=>e.dom.create(yu(e),gp(e)),cz=e=>{const n=e.dom,o=e.selection,r=e.schema,l=r.getBlockElements(),f=o.getStart(),v=e.getBody();let C,x,L=!1;const Z=yu(e);if(!f||!nn(f))return;const j=v.nodeName.toLowerCase();if(!r.isValidChild(j,Z.toLowerCase())||lK(l,v,f))return;const ne=o.getRng(),{startContainer:Ce,startOffset:xe,endContainer:he,endOffset:Se}=ne,Ve=Cb(e);let $e=v.firstChild;for(;$e;)if(nn($e)&&sf(r,$e),cK(r,$e)){if(uK(l,$e)){x=$e,$e=$e.nextSibling,n.remove(x);continue}C||(C=az(e),v.insertBefore(C,$e),L=!0),x=$e,$e=$e.nextSibling,C.appendChild(x)}else C=null,$e=$e.nextSibling;L&&Ve&&(ne.setStart(Ce,xe),ne.setEnd(he,Se),o.setRng(ne),e.nodeChanged())},pS=(e,n,o)=>{const r=Oe.fromDom(az(e)),l=Wn();Er(r,l),o(n,r);const f=document.createRange();return f.setStartBefore(l.dom),f.setEndBefore(l.dom),f},lz=e=>{e.on("NodeChange",Ge(cz,e))},b2=e=>n=>(" "+n.attr("class")+" ").indexOf(e)!==-1,s3=(e,n,o)=>function(r){const l=arguments,f=l[l.length-2],v=f>0?n.charAt(f-1):"";if(v==='"')return r;if(v===">"){const C=n.lastIndexOf("<",f);if(C!==-1&&n.substring(C,f).indexOf('contenteditable="false"')!==-1)return r}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(l[0])+'">'+e.dom.encode(typeof l[1]=="string"?l[1]:l[0])+"</span>"},r3=(e,n,o)=>{let r=n.length,l=o.content;if(o.format!=="raw"){for(;r--;)l=l.replace(n[r],s3(e,l,H0(e)));o.content=l}},i3=e=>{const n="contenteditable",o=" "+pe.trim(fT(e))+" ",r=" "+pe.trim(H0(e))+" ",l=b2(o),f=b2(r),v=hT(e);v.length>0&&e.on("BeforeSetContent",C=>{r3(e,v,C)}),e.parser.addAttributeFilter("class",C=>{let x=C.length;for(;x--;){const L=C[x];l(L)?L.attr(n,"true"):f(L)&&L.attr(n,"false")}}),e.serializer.addAttributeFilter(n,C=>{let x=C.length;for(;x--;){const L=C[x];!l(L)&&!f(L)||(v.length>0&&L.attr("data-mce-content")?(L.name="#text",L.type=3,L.raw=!0,L.value=L.attr("data-mce-content")):L.attr(n,null))}})},uz=e=>Yd(Oe.fromDom(e.getBody()),"*[data-mce-caret]").map(n=>n.dom).getOrNull(),a3=(e,n)=>{n.hasAttribute("data-mce-caret")&&(xv(n),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(n))},dz=(e,n)=>{const o=uz(e);if(o){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),a3(e,o);return}Sv(o)&&(a3(e,o),e.undoManager.add())}},fz=e=>{e.on("keyup compositionstart",Ge(dz,e))},vS=Po,hz=(e,n,o)=>L$(n,e,o,py,Ab,vS),mz=(e,n,o)=>Ld(n,e,o,f=>py(f)||jR(f),f=>Ab(f)||O6(f),vS),gz=e=>{const n=e.dom.create(yu(e));return n.innerHTML='<br data-mce-bogus="1">',n},y2=(e,n,o)=>{const r=qe(e.getBody()),l=Ge(X0,n===1?r.next:r.prev);if(o.collapsed){const f=e.dom.getParent(o.startContainer,"PRE");if(!f)return;if(!l(Ye.fromRangeStart(o))){const C=Oe.fromDom(gz(e));n===1?nl(Oe.fromDom(f),C):us(Oe.fromDom(f),C),e.selection.select(C.dom,!0),e.selection.collapse()}}},pz=(e,n)=>{const o=n?_a.Forwards:_a.Backwards,r=e.selection.getRng();return hz(o,e,r).orThunk(()=>(y2(e,o,r),te.none()))},vz=(e,n)=>{const o=n?1:-1,r=e.selection.getRng();return mz(o,e,r).orThunk(()=>(y2(e,o,r),te.none()))},aN=(e,n)=>pz(e,n).exists(o=>(Hp(e,o),!0)),c3=(e,n)=>vz(e,n).exists(o=>(Hp(e,o),!0)),l3=(e,n)=>f2(e,n,n?Ab:py),_2=(e,n)=>MD(e,!n).map(o=>{const r=o.toRange(),l=e.selection.getRng();return n?r.setStart(l.startContainer,l.startOffset):r.setEnd(l.endContainer,l.endOffset),r}).exists(o=>(Hp(e,o),!0)),bz=e=>kn(["figcaption"],Vs(e)),yz=(e,n)=>{const o=Ge(ns,n);return es(Oe.fromDom(e.container()),Ft,o).filter(bz)},_z=(e,n,o)=>n?VD(e.dom,o):By(e.dom,o),cN=(e,n)=>{const o=Oe.fromDom(e.getBody()),r=Ye.fromRangeStart(e.selection.getRng());return yz(r,o).exists(()=>{if(_z(o,n,r)){const f=pS(e,o,n?Er:Ul);return e.selection.setRng(f),!0}else return!1})},u3=(e,n)=>e.selection.isCollapsed()?cN(e,n):!1,lN={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},Ez=e=>Yt(e,n=>({...lN,...n})),wz=e=>Yt(e,n=>({...lN,...n})),d3=(e,n)=>n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey,Tz=(e,n)=>Ca(Ez(e),o=>d3(o,n)?[o]:[]),Cz=(e,n)=>Ca(wz(e),o=>d3(o,n)?[o]:[]),Co=(e,...n)=>()=>e.apply(null,n),ji=(e,n)=>vs(Tz(e,n),o=>o.action()),f3=(e,n)=>$r(Cz(e,n),o=>o.action()),h3=(e,n)=>{const o=n?_a.Forwards:_a.Backwards,r=e.selection.getRng();return L$(e,o,r,bC,mo,or).exists(l=>(Hp(e,l),!0))},m3=(e,n)=>{const o=n?1:-1,r=e.selection.getRng();return Ld(e,o,r,bC,mo,or).exists(l=>(Hp(e,l),!0))},uN=(e,n)=>f2(e,n,n?mo:bC),E2=Xu.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),mm={...E2,none:e=>E2.none(e)},dN=(e,n)=>fN(e,n,It),fN=(e,n,o)=>Ca(ze(e),r=>da(r,n)?o(r)?[r]:[]:fN(r,n,o)),hN=(e,n,o=Je)=>{if(o(n))return te.none();if(kn(e,Vs(n)))return te.some(n);const r=l=>da(l,"table")||o(l);return Da(n,e.join(","),r)},mN=(e,n)=>hN(["td","th"],e,n),gN=e=>dN(e,"th,td"),pN=(e,n)=>Vl(e,"table",n),lw=(e,n,o,r,l=It)=>{const f=r===1;if(!f&&o<=0)return mm.first(e[0]);if(f&&o>=e.length-1)return mm.last(e[e.length-1]);{const v=o+r,C=e[v];return l(C)?mm.middle(n,C):lw(e,n,v,r,l)}},bS=(e,n)=>pN(e,n).bind(o=>{const r=gN(o);return Rr(r,f=>ns(e,f)).map(f=>({index:f,all:r}))}),yS=(e,n,o)=>bS(e,o).fold(()=>mm.none(e),l=>lw(l.all,e,l.index,1,n)),_S=(e,n,o)=>bS(e,o).fold(()=>mm.none(),l=>lw(l.all,e,l.index,-1,n)),Vp=(e,n)=>({left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}),ES=(e,n)=>Ca(n,o=>{const r=Vp(Wh(o.getBoundingClientRect()),-1);return[{x:r.left,y:e(r),cell:o},{x:r.right,y:e(r),cell:o}]}),g3=(e,n,o)=>Ns(e,(r,l)=>r.fold(()=>te.some(l),f=>{const v=Math.sqrt(Math.abs(f.x-n)+Math.abs(f.y-o)),C=Math.sqrt(Math.abs(l.x-n)+Math.abs(l.y-o));return te.some(C<v?l:f)}),te.none()),vN=(e,n,o,r,l)=>{const f=Qr(Oe.fromDom(o),"td,th,caption").map(C=>C.dom),v=Lt(ES(e,f),C=>n(C,l));return g3(v,r,l).map(C=>C.cell)},Az=e=>e.bottom,p3=e=>e.top,xz=(e,n)=>e.y<n,Oz=(e,n)=>e.y>n,v3=Ge(vN,Az,xz),Rz=Ge(vN,p3,Oz),Iz=(e,n)=>Ii(n.getClientRects()).bind(o=>v3(e,o.left,o.top)).bind(o=>fS(O$(o),n)),Dz=(e,n)=>Zc(n.getClientRects()).bind(o=>Rz(e,o.left,o.top)).bind(o=>fS(NU(o),n)),Nz=(e,n,o)=>o.breakAt.exists(r=>e(n,r).breakAt.isSome()),Mz=e=>e.breakType===Fp.Wrap&&e.positions.length===0,kz=e=>e.breakType===Fp.Br&&e.positions.length===1,b3=(e,n,o)=>{const r=e(n,o);return Mz(r)||!hr(o.getNode())&&kz(r)?!Nz(e,n,r):r.breakAt.isNone()},Pz=Ge(b3,$y),Lz=Ge(b3,fm),$z=(e,n,o)=>{const r=Ye.fromRangeStart(n);return fs(!e,o).exists(l=>l.isEqual(r))},Bz=(e,n,o,r)=>{const l=e.selection.getRng(),f=n?1:-1;return db()&&$z(n,l,o)?(um(f,e,o,!n,!1).each(v=>{Hp(e,v)}),!0):!1},Fz=(e,n,o)=>Iz(n,o).orThunk(()=>Ii(o.getClientRects()).bind(r=>dS(HD(e,Ye.before(n)),r.left))).getOr(Ye.before(n)),Hz=(e,n,o)=>Dz(n,o).orThunk(()=>Ii(o.getClientRects()).bind(r=>dS(xf(e,Ye.after(n)),r.left))).getOr(Ye.after(n)),bN=(e,n)=>{const o=n.getNode(e);return Dr(o)?te.some(o):te.none()},y3=(e,n,o)=>{n.undoManager.transact(()=>{const r=e?nl:us,l=pS(n,Oe.fromDom(o),r);Hp(n,l)})},yN=(e,n,o)=>{const r=bN(!!n,o),l=n===!1;r.fold(()=>Hp(e,o.toRange()),f=>fs(l,e.getBody()).filter(v=>v.isEqual(o)).fold(()=>Hp(e,o.toRange()),v=>y3(n,e,f)))},Vz=(e,n,o,r)=>{const l=e.selection.getRng(),f=Ye.fromRangeStart(l),v=e.getBody();if(!n&&Pz(r,f)){const C=Fz(v,o,f);return yN(e,n,C),!0}else if(n&&Lz(r,f)){const C=Hz(v,o,f);return yN(e,n,C),!0}else return!1},_3=(e,n,o)=>te.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(r=>te.from(e.dom.getParent(r,"table")).map(l=>o(e,n,l,r))).getOr(!1),E3=(e,n)=>_3(e,n,Bz),w3=(e,n)=>_3(e,n,Vz),T3=e=>{const n=bb.exact(e,0,e,0);return MR(n)},C3=(e,n,o)=>o.fold(te.none,te.none,(r,l)=>c6(l).map(f=>T3(f)),r=>(e.execCommand("mceTableInsertRowAfter"),_N(e,n,r))),_N=(e,n,o)=>C3(e,n,yS(o,Kd)),Uz=(e,n,o)=>C3(e,n,_S(o,Kd)),EN=(e,n)=>{const o=["table","li","dl"],r=Oe.fromDom(e.getBody()),l=C=>{const x=Vs(C);return ns(C,r)||kn(o,x)},f=e.selection.getRng(),v=Oe.fromDom(n?f.endContainer:f.startContainer);return mN(v,l).map(C=>(pN(C,l).each(Z=>{e.model.table.clearSelectedCells(Z.dom)}),e.selection.collapse(!n),(n?_N:Uz)(e,l,C).each(Z=>{e.selection.setRng(Z)}),!0)).getOr(!1)},S3=(e,n,o)=>{const r=Do.os.isMacOS()||Do.os.isiOS();ji([{keyCode:Cn.RIGHT,action:Co(aN,e,!0)},{keyCode:Cn.LEFT,action:Co(aN,e,!1)},{keyCode:Cn.UP,action:Co(c3,e,!1)},{keyCode:Cn.DOWN,action:Co(c3,e,!0)},...r?[{keyCode:Cn.UP,action:Co(_2,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Cn.DOWN,action:Co(_2,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Cn.RIGHT,action:Co(E3,e,!0)},{keyCode:Cn.LEFT,action:Co(E3,e,!1)},{keyCode:Cn.UP,action:Co(w3,e,!1)},{keyCode:Cn.DOWN,action:Co(w3,e,!0)},{keyCode:Cn.RIGHT,action:Co(h3,e,!0)},{keyCode:Cn.LEFT,action:Co(h3,e,!1)},{keyCode:Cn.UP,action:Co(m3,e,!1)},{keyCode:Cn.DOWN,action:Co(m3,e,!0)},{keyCode:Cn.RIGHT,action:Co(F$,e,n,!0)},{keyCode:Cn.LEFT,action:Co(F$,e,n,!1)},{keyCode:Cn.RIGHT,ctrlKey:!r,altKey:r,action:Co(uv,e,n)},{keyCode:Cn.LEFT,ctrlKey:!r,altKey:r,action:Co(Vy,e,n)},{keyCode:Cn.UP,action:Co(u3,e,!1)},{keyCode:Cn.DOWN,action:Co(u3,e,!0)}],o).each(l=>{o.preventDefault()})},zz=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||S3(e,n,o)})},Og=(e,n)=>({container:e,offset:n}),w2=sr.DOM,wS=e=>n=>e===n?-1:0,Wz=e=>n=>e.isBlock(n)||kn(["BR","IMG","HR","INPUT"],n.nodeName)||e.getContentEditable(n)==="false",wN=(e,n,o)=>{if(Ut(e)&&n>=0)return te.some(Og(e,n));{const r=Cr(w2);return te.from(r.backwards(e,n,wS(e),o)).map(l=>Og(l.container,l.container.data.length))}},A3=(e,n,o)=>{if(Ut(e)&&n>=e.length)return te.some(Og(e,n));{const r=Cr(w2);return te.from(r.forwards(e,n,wS(e),o)).map(l=>Og(l.container,0))}},TN=(e,n,o)=>{if(!Ut(e))return te.none();const r=e.data;if(n>=0&&n<=r.length)return te.some(Og(e,n));{const l=Cr(w2);return te.from(l.backwards(e,n,wS(e),o)).bind(f=>{const v=f.container.data;return TN(f.container,n+v.length,o)})}},x3=(e,n,o)=>{if(!Ut(e))return te.none();const r=e.data;if(n<=r.length)return te.some(Og(e,n));{const l=Cr(w2);return te.from(l.forwards(e,n,wS(e),o)).bind(f=>x3(f.container,n-r.length,o))}},T2=(e,n,o,r,l)=>{const f=Cr(e,Wz(e));return te.from(f.backwards(n,o,r,l))},Gz=e=>e.collapsed&&Ut(e.startContainer),O3=e=>yd(e.toString().replace(/\u00A0/g," ")),R3=e=>e!==""&&`  \f
\r	\v`.indexOf(e)!==-1,C2=(e,n)=>e.substring(n.length),I3=(e,n,o)=>{let r;const l=o.charAt(0);for(r=n-1;r>=0;r--){const f=e.charAt(r);if(R3(f))return te.none();if(l===f&&oi(e,o,r,n))break}return te.some(r)},qz=(e,n,o,r=0)=>{if(!Gz(n))return te.none();const l={text:"",offset:0},f=(C,x,L)=>(l.text=L+l.text,l.offset+=x,I3(l.text,l.offset,o).getOr(x)),v=e.getParent(n.startContainer,e.isBlock)||e.getRoot();return T2(e,n.startContainer,n.startOffset,f,v).bind(C=>{const x=n.cloneRange();if(x.setStart(C.container,C.offset),x.setEnd(n.endContainer,n.endOffset),x.collapsed)return te.none();const L=O3(x);return L.lastIndexOf(o)!==0||C2(L,o).length<r?te.none():te.some({text:C2(L,o),range:x,trigger:o})})},D3=(e,n,o,r=0)=>f6(Oe.fromDom(n.startContainer)).fold(()=>qz(e,n,o,r),l=>{const f=e.createRng();f.selectNode(l.dom);const v=O3(f);return te.some({range:f,text:C2(v,o),trigger:o})}),jz=e=>e.nodeType===Bl,Zz=e=>e.nodeType===_r,N3=e=>{if(jz(e))return Og(e,e.data.length);{const n=e.childNodes;return n.length>0?N3(n[n.length-1]):Og(e,n.length)}},M3=(e,n)=>{const o=e.childNodes;return o.length>0&&n<o.length?M3(o[n],0):o.length>0&&Zz(e)&&o.length===n?N3(o[o.length-1]):Og(e,n)},Yz=(e,n)=>{var o;const r=(o=e.getParent(n.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return T2(e,n.container,n.offset,(l,f)=>f===0?-1:f,r).filter(l=>{const f=l.container.data.charAt(l.offset-1);return!R3(f)}).isSome()},Kz=e=>n=>{const o=M3(n.startContainer,n.startOffset);return!Yz(e,o)},dK=(e,n,o)=>$r(o.triggers,r=>D3(e,n,r)),Xz=(e,n)=>{const o=n(),r=e.selection.getRng();return dK(e.dom,r,o).bind(l=>TS(e,n,l))},TS=(e,n,o,r={})=>{var l;const f=n(),C=(l=e.selection.getRng().startContainer.nodeValue)!==null&&l!==void 0?l:"",x=Lt(f.lookupByTrigger(o.trigger),Z=>o.text.length>=Z.minChars&&Z.matches.getOrThunk(()=>Kz(e.dom))(o.range,C,o.text));if(x.length===0)return te.none();const L=Promise.all(Yt(x,Z=>Z.fetch(o.text,Z.maxResults,r).then(ne=>({matchText:o.text,items:ne,columns:Z.columns,onAction:Z.onAction,highlightOn:Z.highlightOn}))));return te.some({lookupData:L,context:o})};var gm;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(gm||(gm={}));const S2=(e,n,o)=>e.stype===gm.Error?n(e.serror):o(e.svalue),Qz=e=>{const n=[],o=[];return mt(e,r=>{S2(r,l=>o.push(l),l=>n.push(l))}),{values:n,errors:o}},k3=(e,n)=>e.stype===gm.Error?{stype:gm.Error,serror:n(e.serror)}:e,P3=(e,n)=>e.stype===gm.Value?{stype:gm.Value,svalue:n(e.svalue)}:e,Jz=(e,n)=>e.stype===gm.Value?n(e.svalue):e,eW=(e,n)=>e.stype===gm.Error?n(e.serror):e,L3=e=>({stype:gm.Value,svalue:e}),CN=e=>({stype:gm.Error,serror:e}),ll={fromResult:e=>e.fold(CN,L3),toResult:e=>S2(e,Is.error,Is.value),svalue:L3,partition:Qz,serror:CN,bind:Jz,bindError:eW,map:P3,mapError:k3,fold:S2},SN=e=>Be(e)&&bi(e).length>100?" removed due to size":JSON.stringify(e,null,2),tW=e=>{const n=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:et("... (only showing first ten failures)")}]):e;return Yt(n,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},CS=(e,n)=>ll.serror([{path:e,getErrorInfo:n}]),nW=(e,n,o)=>CS(e,()=>'Could not find valid *required* value for "'+n+'" in '+SN(o)),oW=(e,n)=>CS(e,()=>'Choice schema did not contain choice key: "'+n+'"'),sW=(e,n,o)=>CS(e,()=>'The chosen schema: "'+o+'" did not exist in branches: '+SN(n)),rW=(e,n)=>CS(e,et(n)),iW=(e,n,o,r)=>Xs(o,r).fold(()=>sW(e,o,r),f=>f.extract(e.concat(["branch: "+r]),n)),mc=(e,n)=>({extract:(l,f)=>Xs(f,e).fold(()=>oW(l,e),C=>iW(l,f,n,C)),toString:()=>"chooseOn("+e+"). Possible values: "+bi(n)}),Up=(e,n)=>n,aW=(e,n)=>lt(e)&&lt(n)?A2(e,n):n,cW=e=>(...n)=>{if(n.length===0)throw new Error("Can't merge zero objects");const o={};for(let r=0;r<n.length;r++){const l=n[r];for(const f in l)qn(l,f)&&(o[f]=e(o[f],l[f]))}return o},A2=cW(aW),lW=cW(Up),B3=()=>({tag:"required",process:{}}),uW=e=>({tag:"defaultedThunk",process:e}),AN=e=>uW(et(e)),uw=()=>({tag:"option",process:{}}),hK=(e,n)=>e.length>0?ll.svalue(A2(n,lW.apply(void 0,e))):ll.svalue(n),F3=e=>P(ll.serror,jc)(e),dW={consolidateObj:(e,n)=>{const o=ll.partition(e);return o.errors.length>0?F3(o.errors):hK(o.values,n)},consolidateArr:e=>{const n=ll.partition(e);return n.errors.length>0?F3(n.errors):ll.svalue(n.values)}},fW=(e,n,o,r)=>({tag:"field",key:e,newKey:n,presence:o,prop:r}),H3=(e,n)=>({tag:"custom",newKey:e,instantiator:n}),V3=(e,n,o)=>{switch(e.tag){case"field":return n(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},SS=e=>{const n=(r,l)=>ll.bindError(e(l),f=>rW(r,f)),o=et("val");return{extract:n,toString:o}},U3=SS(ll.svalue),hW=(e,n,o,r)=>Xs(n,o).fold(()=>nW(e,o,n),r),z3=(e,n,o,r)=>{const l=Xs(e,n).getOrThunk(()=>o(e));return r(l)},mW=(e,n,o)=>o(Xs(e,n)),W3=(e,n,o,r)=>{const l=Xs(e,n).map(f=>f===!0?o(e):f);return r(l)},G3=(e,n,o,r,l)=>{const f=C=>l.extract(n.concat([r]),C),v=C=>C.fold(()=>ll.svalue(te.none()),x=>{const L=l.extract(n.concat([r]),x);return ll.map(L,te.some)});switch(e.tag){case"required":return hW(n,o,r,f);case"defaultedThunk":return z3(o,r,e.process,f);case"option":return mW(o,r,v);case"defaultedOptionThunk":return W3(o,r,e.process,v);case"mergeWithThunk":return z3(o,r,et({}),C=>{const x=A2(e.process(o),C);return f(x)})}},xN=(e,n,o)=>{const r={},l=[];for(const f of o)V3(f,(v,C,x,L)=>{const Z=G3(x,e,n,v,L);ll.fold(Z,j=>{l.push(...j)},j=>{r[C]=j})},(v,C)=>{r[v]=C(n)});return l.length>0?ll.serror(l):ll.svalue(r)},AS=e=>({extract:(r,l)=>xN(r,l,e),toString:()=>`obj{
`+Yt(e,l=>V3(l,(f,v,C,x)=>f+" -> "+x.toString(),(f,v)=>"state("+f+")")).join(`
`)+"}"}),x2=e=>({extract:(r,l)=>{const f=Yt(l,(v,C)=>e.extract(r.concat(["["+C+"]"]),v));return dW.consolidateArr(f)},toString:()=>"array("+e.toString()+")"}),gW=e=>SS(n=>e(n).fold(ll.serror,ll.svalue)),pW=(e,n,o)=>{const r=n.extract([e],o);return ll.mapError(r,l=>({input:o,errors:l}))},vW=(e,n,o)=>ll.toResult(pW(e,n,o)),bW=e=>`Errors: 
`+tW(e.errors).join(`
`)+`

Input object: `+SN(e.input),O2=(e,n)=>mc(e,Ho(n,AS)),q3=et(U3),R2=(e,n)=>SS(o=>{const r=typeof o;return e(o)?ll.svalue(o):ll.serror(`Expected type: ${n} but got: ${r}`)}),j3=R2(gn,"number"),I2=R2(oe,"string"),ON=R2(Ze,"boolean"),RN=R2(ge,"function"),xS=fW,Z3=H3,yW=e=>gW(n=>kn(e,n)?Is.value(n):Is.error(`Unsupported value: "${n}", choose one of "${e.join(", ")}".`)),Y3=(e,n)=>xS(e,e,B3(),n),IN=e=>Y3(e,I2),D2=e=>Y3(e,RN),K3=(e,n)=>xS(e,e,B3(),x2(n)),N2=(e,n)=>xS(e,e,uw(),n),M2=e=>N2(e,I2),_W=e=>N2(e,RN),EW=(e,n)=>xS(e,e,AN(n),q3()),dv=(e,n,o)=>xS(e,e,AN(n),o),DN=(e,n)=>dv(e,n,j3),X3=(e,n)=>dv(e,n,I2),Q3=(e,n,o)=>dv(e,n,yW(o)),NN=(e,n)=>dv(e,n,ON),J3=(e,n)=>dv(e,n,RN),gK=(e,n,o)=>dv(e,n,x2(o)),pK=IN("type"),wW=D2("fetch"),eB=D2("onAction"),TW=J3("onSetup",()=>Ot),CW=M2("text"),vK=M2("icon"),SW=M2("tooltip"),$a=M2("label"),MN=NN("active",!1),Wp=NN("enabled",!0),kN=NN("primary",!1),tB=e=>EW("columns",e),OS=e=>X3("type",e),PN=AS([pK,IN("trigger"),DN("minChars",1),tB(1),DN("maxResults",10),_W("matches"),wW,eB,gK("highlightOn",[],I2)]),LN=e=>vW("Autocompleter",PN,{trigger:e.ch,...e}),k2=[Wp,SW,vK,CW,TW],$N=[MN].concat(k2),AW=[J3("predicate",Je),Q3("scope","node",["node","editor"]),Q3("position","selection",["node","selection","line"])],xW=k2.concat([OS("contextformbutton"),kN,eB,Z3("original",qt)]),OW=$N.concat([OS("contextformbutton"),kN,eB,Z3("original",qt)]),RW=k2.concat([OS("contextformbutton")]),IW=$N.concat([OS("contextformtogglebutton")]),nB=O2("type",{contextformbutton:xW,contextformtogglebutton:OW});AS([OS("contextform"),J3("initValue",et("")),$a,K3("commands",nB),N2("launch",O2("type",{contextformbutton:RW,contextformtogglebutton:IW}))].concat(AW));const DW=e=>{const n=e.ui.registry.getAll().popups,o=Ho(n,v=>LN(v).fold(C=>{throw new Error(bW(C))},qt)),r=Yc(id(o,v=>v.trigger)),l=qd(o);return{dataset:o,triggers:r,lookupByTrigger:v=>Lt(l,C=>C.trigger===v)}},NW=(e,n)=>{const o=zc(n.load,50);e.on("keypress compositionend",r=>{r.which!==27&&o.throttle()}),e.on("keydown",r=>{const l=r.which;l===8?o.throttle():l===27&&n.cancelIfNecessary()}),e.on("remove",o.cancel)},MW=e=>{const n=oa(),o=Vi(!1),r=n.isSet,l=()=>{r()&&(t7(e),wR(e),o.set(!1),n.clear())},f=L=>{r()||(fD(e,L.range),n.set({trigger:L.trigger,matchLength:L.text.length}))},v=hl(()=>DW(e)),C=L=>n.get().map(Z=>D3(e.dom,e.selection.getRng(),Z.trigger).bind(j=>TS(e,v,j,L))).getOrThunk(()=>Xz(e,v)),x=L=>{C(L).fold(l,Z=>{f(Z.context),Z.lookupData.then(j=>{n.get().map(ne=>{const Ce=Z.context;ne.trigger===Ce.trigger&&(Ce.text.length-ne.matchLength>=10?l():(n.set({...ne,matchLength:Ce.text.length}),o.get()?LA(e,{lookupData:j}):(o.set(!0),ER(e,{lookupData:j}))))})})})};e.addCommand("mceAutocompleterReload",(L,Z)=>{const j=Be(Z)?Z.fetchOptions:{};x(j)}),e.addCommand("mceAutocompleterClose",l),NW(e,{cancelIfNecessary:l,load:x})},oB=e=>(n,o,r={})=>{const l=n.getBody(),f={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:l,currentTarget:l,eventPhase:Event.AT_TARGET,originalTarget:l,explicitOriginalTarget:l,isTrusted:!1,srcElement:l,cancelable:!1,preventDefault:Ot,inputType:o},v=Wm(new InputEvent(e));return n.dispatch(e,{...v,...f,...r})},BN=oB("input"),P2=oB("beforeinput"),sB=(e,n,o)=>{const r=o.keyCode===Cn.BACKSPACE?"deleteContentBackward":"deleteContentForward";f3([{keyCode:Cn.BACKSPACE,action:Co(rN,e)},{keyCode:Cn.BACKSPACE,action:Co(i2,e,!1)},{keyCode:Cn.DELETE,action:Co(i2,e,!0)},{keyCode:Cn.BACKSPACE,action:Co(ND,e,!1)},{keyCode:Cn.DELETE,action:Co(ND,e,!0)},{keyCode:Cn.BACKSPACE,action:Co(KD,e,n,!1)},{keyCode:Cn.DELETE,action:Co(KD,e,n,!0)},{keyCode:Cn.BACKSPACE,action:Co(RC,e,!1)},{keyCode:Cn.DELETE,action:Co(RC,e,!0)},{keyCode:Cn.BACKSPACE,action:Co($D,e,!1)},{keyCode:Cn.DELETE,action:Co($D,e,!0)},{keyCode:Cn.BACKSPACE,action:Co(tN,e,!1)},{keyCode:Cn.DELETE,action:Co(tN,e,!0)},{keyCode:Cn.BACKSPACE,action:Co(DD,e,!1)},{keyCode:Cn.DELETE,action:Co(DD,e,!0)},{keyCode:Cn.BACKSPACE,action:Co(cS,e,!1)},{keyCode:Cn.DELETE,action:Co(cS,e,!0)},{keyCode:Cn.BACKSPACE,action:Co(m2,e,!1)},{keyCode:Cn.DELETE,action:Co(m2,e,!0)}],o).filter(l=>e.selection.isEditable()).each(l=>{o.preventDefault(),P2(e,r).isDefaultPrevented()||(l(),BN(e,r))})},kW=(e,n,o)=>{const r=Hs(),l=r.os,f=r.browser,v=l.isMacOS()?[{keyCode:Cn.BACKSPACE,altKey:!0,action:Co(cw,e)},{keyCode:Cn.DELETE,altKey:!0,action:Co(cw,e)}]:[{keyCode:Cn.BACKSPACE,ctrlKey:!0,action:Co(cw,e)},{keyCode:Cn.DELETE,ctrlKey:!0,action:Co(cw,e)}];l.isMacOS()&&o&&v.push({keyCode:f.isFirefox()?224:91,action:Co(cw,e)}),ji([{keyCode:Cn.BACKSPACE,action:Co(PD,e)},{keyCode:Cn.DELETE,action:Co(PD,e)},...v],n)},PW=(e,n)=>{let o=!1;e.on("keydown",r=>{o=r.keyCode===Cn.BACKSPACE,r.isDefaultPrevented()||sB(e,n,r)}),e.on("keyup",r=>{r.isDefaultPrevented()||kW(e,r,o),o=!1})},bK=e=>{for(;e;){if(nn(e)||Ut(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},zy=(e,n)=>{const o=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!n)return;if(/^(LI|DT|DD)$/.test(n.nodeName)){const f=bK(n.firstChild);f&&/^(UL|OL|DL)$/.test(f.nodeName)&&n.insertBefore(o.doc.createTextNode(ys),n.firstChild)}const l=o.createRng();if(n.normalize(),n.hasChildNodes()){const f=new ai(n,n);let v=n,C;for(;C=f.current();){if(Ut(C)){l.setStart(C,0),l.setEnd(C,0);break}if(r[C.nodeName.toLowerCase()]){l.setStartBefore(C),l.setEndBefore(C);break}v=C,C=f.next()}C||(l.setStart(v,0),l.setEnd(v,0))}else hr(n)?n.nextSibling&&o.isBlock(n.nextSibling)?(l.setStartBefore(n),l.setEndBefore(n)):(l.setStartAfter(n),l.setEndAfter(n)):(l.setStart(n,0),l.setEnd(n,0));e.selection.setRng(l),wn(e,l)},L2=(e,n)=>{const o=e.getRoot();let r,l=n;for(;l!==o&&l&&e.getContentEditable(l)!=="false";)e.getContentEditable(l)==="true"&&(r=l),l=l.parentNode;return l!==o?r:o},FN=e=>te.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),LW=e=>FN(e).fold(et(""),n=>n.nodeName.toUpperCase()),rB=e=>FN(e).filter(n=>ci(Oe.fromDom(n))).isSome(),$W=(e,n)=>e.firstChild&&e.firstChild.nodeName===n,iB=e=>{var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},aB=(e,n)=>{const o=e==null?void 0:e.parentNode;return Ne(o)&&o.nodeName===n},cB=e=>Ne(e)&&/^(OL|UL|LI)$/.test(e.nodeName),yK=e=>Ne(e)&&/^(LI|DT|DD)$/.test(e.nodeName),Nl=e=>cB(e)&&cB(e.parentNode),$2=e=>{const n=e.parentNode;return yK(n)?n:e},B2=(e,n,o)=>{let r=e[o?"firstChild":"lastChild"];for(;r&&!nn(r);)r=r[o?"nextSibling":"previousSibling"];return r===n},BW=(e,n,o,r,l)=>{const f=e.dom,v=e.selection.getRng(),C=o.parentNode;if(o===e.getBody()||!C)return;Nl(o)&&(l="LI");let x=n(l);if(B2(o,r,!0)&&B2(o,r,!1))if(aB(o,"LI")){const L=$2(o);f.insertAfter(x,L),iB(o)?f.remove(L):f.remove(o)}else f.replace(x,o);else if(B2(o,r,!0))aB(o,"LI")?(f.insertAfter(x,$2(o)),x.appendChild(f.doc.createTextNode(" ")),x.appendChild(o)):C.insertBefore(x,o),f.remove(r);else if(B2(o,r,!1))f.insertAfter(x,$2(o)),f.remove(r);else{o=$2(o);const L=v.cloneRange();L.setStartAfter(r),L.setEndAfter(o);const Z=L.extractContents();l==="LI"&&$W(Z,"LI")?(x=Z.firstChild,f.insertAfter(Z,o)):(f.insertAfter(Z,o),f.insertAfter(x,o)),f.remove(r)}zy(e,x)},FW=e=>{mt(Hu(Oe.fromDom(e),dr),n=>{const o=n.dom;o.nodeValue=yd(o.data)})},HW=(e,n)=>{const o=e.dom.getParent(n,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},VW=(e,n)=>n&&n.nodeName==="A"&&e.isEmpty(n),HN=e=>{e.innerHTML='<br data-mce-bogus="1">'},dw=(e,n)=>e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n,VN=(e,n)=>Ne(n)&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.isEditable(n.parentNode)&&e.getContentEditable(n)!=="false",UW=(e,n,o)=>{var r;const l=[];if(!o)return;let f=o;for(;f=f.firstChild;){if(e.isBlock(f))return;nn(f)&&!n[f.nodeName.toLowerCase()]&&l.push(f)}let v=l.length;for(;v--;)f=l[v],(!f.hasChildNodes()||f.firstChild===f.lastChild&&((r=f.firstChild)===null||r===void 0?void 0:r.nodeValue)===""||VW(e,f))&&e.remove(f)},RS=(e,n,o)=>Ut(n)?e?o===1&&n.data.charAt(o-1)===Ma?0:o:o===n.data.length-1&&n.data.charAt(o)===Ma?n.data.length:o:o,UN=e=>{const n=e.cloneRange();return n.setStart(e.startContainer,RS(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,RS(!1,e.endContainer,e.endOffset)),n},zW=e=>{let n=e;do Ut(n)&&(n.data=n.data.replace(/^[\r\n]+/,"")),n=n.firstChild;while(n)},_K=(e,n,o)=>{const r=e.dom;te.from(o.style).map(r.parseStyle).each(x=>{const Z={...tl(Oe.fromDom(n)),...x};r.setStyles(n,Z)});const l=te.from(o.class).map(x=>x.split(/\s+/)),f=te.from(n.className).map(x=>Lt(x.split(/\s+/),L=>L!==""));yt(l,f,(x,L)=>{const Z=Lt(L,ne=>!kn(x,ne)),j=[...x,...Z];r.setAttrib(n,"class",j.join(" "))});const v=["style","class"],C=ks(o,(x,L)=>!kn(v,L));r.setAttribs(n,C)},F2=(e,n)=>{if(yu(e).toLowerCase()===n.tagName.toLowerCase()){const r=gp(e);_K(e,n,r)}},WW=(e,n,o,r,l)=>{var f,v;const C=e.dom,x=(f=L2(C,r))!==null&&f!==void 0?f:C.getRoot();let L=C.getParent(r,C.isBlock);if(!L||!VN(C,L)){if(L=L||x,!L.hasChildNodes()){const Ce=C.create(n);return F2(e,Ce),L.appendChild(Ce),o.setStart(Ce,0),o.setEnd(Ce,0),Ce}let Z=r;for(;Z&&Z.parentNode!==L;)Z=Z.parentNode;let j;for(;Z&&!C.isBlock(Z);)j=Z,Z=Z.previousSibling;const ne=(v=j==null?void 0:j.parentElement)===null||v===void 0?void 0:v.nodeName;if(j&&ne&&e.schema.isValidChild(ne,n.toLowerCase())){const Ce=j.parentNode,xe=C.create(n);for(F2(e,xe),Ce.insertBefore(xe,j),Z=j;Z&&!C.isBlock(Z);){const he=Z.nextSibling;xe.appendChild(Z),Z=he}o.setStart(r,l),o.setEnd(r,l)}}return r},GW=(e,n)=>{n.normalize();const o=n.lastChild;(!o||nn(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(n,"br")},EK=(e,n)=>{const o=Xl(e);return Et(n)?!1:oe(o)?kn(pe.explode(o),n.nodeName.toLowerCase()):o},lB={insert:(e,n)=>{let o,r,l,f,v=!1;const C=e.dom,x=e.schema,L=x.getNonEmptyElements(),Z=e.selection.getRng(),j=yu(e),ne=on=>{let jt=o;const ft=x.getTextInlineElements();let dt;on||l==="TABLE"||l==="HR"?dt=C.create(on||j):dt=$e.cloneNode(!1);let bn=dt;if(xd(e)===!1)C.setAttrib(dt,"style",null),C.setAttrib(dt,"class",null);else do if(ft[jt.nodeName]){if(Ws(jt)||Qu(jt))continue;const Ln=jt.cloneNode(!1);C.setAttrib(Ln,"id",""),dt.hasChildNodes()?(Ln.appendChild(dt.firstChild),dt.appendChild(Ln)):(bn=Ln,dt.appendChild(Ln))}while((jt=jt.parentNode)&&jt!==Ve);return F2(e,dt),HN(bn),dt},Ce=on=>{const jt=RS(on,o,r);if(Ut(o)&&(on?jt>0:jt<o.data.length))return!1;if(o.parentNode===$e&&v&&!on||on&&nn(o)&&o===$e.firstChild)return!0;if(dw(o,"TABLE")||dw(o,"HR"))return v&&!on||!v&&on;const ft=new ai(o,$e);Ut(o)&&(on&&jt===0?ft.prev():!on&&jt===o.data.length&&ft.next());let dt;for(;dt=ft.current();){if(nn(dt)){if(!dt.getAttribute("data-mce-bogus")){const bn=dt.nodeName.toLowerCase();if(L[bn]&&bn!=="br")return!1}}else if(Ut(dt)&&!Hc(dt.data))return!1;on?ft.prev():ft.next()}return!0},xe=()=>{let on;return/^(H[1-6]|PRE|FIGURE)$/.test(l)&&je!=="HGROUP"?on=ne(j):on=ne(),EK(e,f)&&VN(C,f)&&C.isEmpty($e)?on=C.split(f,$e):C.insertAfter(on,$e),zy(e,on),on};yg(C,Z).each(on=>{Z.setStart(on.startContainer,on.startOffset),Z.setEnd(on.endContainer,on.endOffset)}),o=Z.startContainer,r=Z.startOffset;const he=!!(n&&n.shiftKey),Se=!!(n&&n.ctrlKey);nn(o)&&o.hasChildNodes()&&(v=r>o.childNodes.length-1,o=o.childNodes[Math.min(r,o.childNodes.length-1)]||o,v&&Ut(o)?r=o.data.length:r=0);const Ve=L2(C,o);if(!Ve||HW(e,o))return;he||(o=WW(e,j,Z,o,r));let $e=C.getParent(o,C.isBlock)||C.getRoot();f=Ne($e==null?void 0:$e.parentNode)?C.getParent($e.parentNode,C.isBlock):null,l=$e?$e.nodeName.toUpperCase():"";const je=f?f.nodeName.toUpperCase():"";if(je==="LI"&&!Se){const on=f;$e=on,f=on.parentNode,l=je}if(/^(LI|DT|DD)$/.test(l)&&nn(f)&&C.isEmpty($e)){BW(e,ne,f,$e,j);return}if($e===e.getBody()||!VN(C,$e))return;const rt=$e.parentNode;let St;if(Uu($e))St=xv($e),C.isEmpty($e)&&HN($e),F2(e,St),zy(e,St);else if(Ce(!1))St=xe();else if(Ce(!0)&&rt)St=rt.insertBefore(ne(),$e),zy(e,dw($e,"HR")?St:$e);else{const on=UN(Z).cloneRange();on.setEndAfter($e);const jt=on.extractContents();FW(jt),zW(jt),St=jt.firstChild,C.insertAfter(jt,$e),UW(C,L,St),GW(C,$e),C.isEmpty($e)&&HN($e),St.normalize(),C.isEmpty(St)?(C.remove(St),xe()):(F2(e,St),zy(e,St))}C.setAttrib(St,"id",""),e.dispatch("NewBlock",{newBlock:St})},fakeEventName:"insertParagraph"},qW=(e,n,o)=>{const r=new ai(n,o);let l;const f=e.getNonEmptyElements();for(;l=r.next();)if(f[l.nodeName.toLowerCase()]||Ut(l)&&l.length>0)return!0;return!1},fv=(e,n,o)=>{const r=e.dom.createRng();o?(r.setStartBefore(n),r.setEndBefore(n)):(r.setStartAfter(n),r.setEndAfter(n)),e.selection.setRng(r),wn(e,r)},jW=(e,n)=>{const o=e.selection,r=e.dom,l=o.getRng();let f,v=!1;yg(r,l).each(Ce=>{l.setStart(Ce.startContainer,Ce.startOffset),l.setEnd(Ce.endContainer,Ce.endOffset)});let C=l.startOffset,x=l.startContainer;if(nn(x)&&x.hasChildNodes()){const Ce=C>x.childNodes.length-1;x=x.childNodes[Math.min(C,x.childNodes.length-1)]||x,Ce&&Ut(x)?C=x.data.length:C=0}let L=r.getParent(x,r.isBlock);const Z=L&&L.parentNode?r.getParent(L.parentNode,r.isBlock):null,j=Z?Z.nodeName.toUpperCase():"",ne=!!(n&&n.ctrlKey);j==="LI"&&!ne&&(L=Z),Ut(x)&&C>=x.data.length&&(qW(e.schema,x,L||r.getRoot())||(f=r.create("br"),l.insertNode(f),l.setStartAfter(f),l.setEndAfter(f),v=!0)),f=r.create("br"),er(r,l,f),fv(e,f,v),e.undoManager.add()},uB=(e,n)=>{const o=Oe.fromTag("br");us(Oe.fromDom(n),o),e.undoManager.add()},ZW=(e,n)=>{KW(e.getBody(),n)||nl(Oe.fromDom(n),Oe.fromTag("br"));const o=Oe.fromTag("br");nl(Oe.fromDom(n),o),fv(e,o.dom,!1),e.undoManager.add()},YW=e=>hr(e.getNode()),KW=(e,n)=>YW(Ye.after(n))?!0:ui(e,Ye.after(n)).map(o=>hr(o.getNode())).getOr(!1),dB=e=>e&&e.nodeName==="A"&&"href"in e,XW=e=>e.fold(Je,dB,dB,Je),QW=e=>{const n=Ge(_y,e),o=Ye.fromRangeStart(e.selection.getRng());return Bp(n,e.getBody(),o).filter(XW)},JW=(e,n)=>{n.fold(Ot,Ge(uB,e),Ge(ZW,e),Ot)},IS={insert:(e,n)=>{const o=QW(e);o.isSome()?o.each(Ge(JW,e)):jW(e,n)},fakeEventName:"insertLineBreak"},hB=(e,n)=>FN(e).filter(o=>n.length>0&&da(Oe.fromDom(o),n)).isSome(),t9=e=>hB(e,M1(e)),n9=e=>hB(e,k1(e)),ah=Xu.generate([{br:[]},{block:[]},{none:[]}]),o9=(e,n)=>n9(e),zN=e=>(n,o)=>rB(n)===e,mB=(e,n)=>(o,r)=>LW(o)===e.toUpperCase()===n,gB=e=>{const n=L2(e.dom,e.selection.getStart());return Et(n)},fw=e=>mB("pre",e),s9=()=>mB("summary",!0),H2=e=>(n,o)=>bu(n)===e,WN=(e,n)=>t9(e),V2=(e,n)=>n,r9=e=>{const n=yu(e),o=L2(e.dom,e.selection.getStart());return Ne(o)&&e.schema.isValidChild(o.nodeName,n)},Bd=(e,n)=>(o,r)=>Ns(e,(f,v)=>f&&v(o,r),!0)?te.some(n):te.none(),i9=(e,n)=>EU([Bd([o9],ah.none()),Bd([fw(!0),gB],ah.none()),Bd([s9()],ah.br()),Bd([fw(!0),H2(!1),V2],ah.br()),Bd([fw(!0),H2(!1)],ah.block()),Bd([fw(!0),H2(!0),V2],ah.block()),Bd([fw(!0),H2(!0)],ah.br()),Bd([zN(!0),V2],ah.br()),Bd([zN(!0)],ah.block()),Bd([WN],ah.br()),Bd([V2],ah.br()),Bd([r9],ah.block())],[e,!!(n&&n.shiftKey)]).getOr(ah.none()),hw=(e,n,o)=>{n.selection.isCollapsed()||sI(n),!(Ne(o)&&P2(n,e.fakeEventName).isDefaultPrevented())&&(e.insert(n,o),Ne(o)&&BN(n,e.fakeEventName))},U2=(e,n)=>{const o=()=>hw(IS,e,n),r=()=>hw(lB,e,n),l=i9(e,n);switch(il(e)){case"linebreak":l.fold(o,o,Ot);break;case"block":l.fold(r,r,Ot);break;case"invert":l.fold(r,o,Ot);break;default:l.fold(o,r,Ot);break}},pB=(e,n)=>{n.isDefaultPrevented()||(n.preventDefault(),R8(e.undoManager),e.undoManager.transact(()=>{U2(e,n)}))},a9=e=>{e.on("keydown",n=>{n.keyCode===Cn.ENTER&&pB(e,n)})},TK=(e,n,o)=>{const r=Do.os.isMacOS()||Do.os.isiOS();ji([{keyCode:Cn.END,action:Co(l3,e,!0)},{keyCode:Cn.HOME,action:Co(l3,e,!1)},...r?[]:[{keyCode:Cn.HOME,action:Co(_2,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Cn.END,action:Co(_2,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Cn.END,action:Co(uN,e,!0)},{keyCode:Cn.HOME,action:Co(uN,e,!1)},{keyCode:Cn.END,action:Co(Uy,e,!0,n)},{keyCode:Cn.HOME,action:Co(Uy,e,!1,n)}],o).each(l=>{o.preventDefault()})},Fb=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||TK(e,n,o)})},c9=e=>{e.on("input",n=>{n.isComposing||F6(e)})},l9=Hs(),u9=(e,n,o)=>{ji([{keyCode:Cn.PAGE_UP,action:Co(Uy,e,!1,n)},{keyCode:Cn.PAGE_DOWN,action:Co(Uy,e,!0,n)}],o)},DS=e=>e.stopImmediatePropagation(),GN=e=>e.keyCode===Cn.PAGE_UP||e.keyCode===Cn.PAGE_DOWN,qN=(e,n,o)=>{o&&!e.get()?n.on("NodeChange",DS,!0):!o&&e.get()&&n.off("NodeChange",DS),e.set(o)},d9=(e,n)=>{if(l9.os.isMacOS())return;const o=Vi(!1);e.on("keydown",r=>{GN(r)&&qN(o,e,!0)}),e.on("keyup",r=>{r.isDefaultPrevented()||u9(e,n,r),GN(r)&&o.get()&&(qN(o,e,!1),e.nodeChanged())})},jN=(e,n)=>{const o=n.container(),r=n.offset();return Ut(o)?(o.insertData(r,e),te.some(Ye(o,r+e.length))):q1(n).map(l=>{const f=Oe.fromText(e);return n.isAtEnd()?nl(l,f):us(l,f),Ye(f.dom,e.length)})},f9=Ge(jN,ys),h9=Ge(jN," "),m9=e=>n=>n.fold(o=>di(e.dom,Ye.before(o)),o=>ei(o),o=>Zr(o),o=>ui(e.dom,Ye.after(o))),vB=(e,n)=>o=>k6(e,o)?f9(n):h9(n),ZN=e=>n=>(e.selection.setRng(n.toRange()),e.nodeChanged(),!0),g9=e=>{const n=Ye.fromRangeStart(e.selection.getRng()),o=Oe.fromDom(e.getBody());if(e.selection.isCollapsed()){const r=Ge(_y,e),l=Ye.fromRangeStart(e.selection.getRng());return Bp(r,e.getBody(),l).bind(m9(o)).map(f=>()=>vB(o,n)(f).each(ZN(e)))}else return te.none()},YN=(e,n)=>{f3([{keyCode:Cn.SPACEBAR,action:Co(g9,e)}],n).each(o=>{n.preventDefault(),P2(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),BN(e,"insertText",{data:" "}))})},bB=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||YN(e,n)})},z2=e=>oE(e)?[{keyCode:Cn.TAB,action:Co(EN,e,!0)},{keyCode:Cn.TAB,shiftKey:!0,action:Co(EN,e,!1)}]:[],yB=(e,n)=>{ji([...z2(e)],n).each(o=>{n.preventDefault()})},_B=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||yB(e,n)})},p9=e=>{if(e.addShortcut("Meta+P","","mcePrint"),MW(e),Np(e))return Vi(null);{const n=mS(e);return fz(e),zz(e,n),PW(e,n),a9(e),bB(e),c9(e),_B(e),Fb(e,n),d9(e,n),n}};class v9{constructor(n){this.lastPath=[],this.editor=n;let o;const r=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",l=>{const f=n.selection.getRng(),v={startContainer:f.startContainer,startOffset:f.startOffset,endContainer:f.endContainer,endOffset:f.endOffset};(l.type==="nodechange"||!dC(v,o))&&n.dispatch("SelectionChange"),o=v}),n.on("contextmenu",()=>{n.dispatch("SelectionChange")}),n.on("SelectionChange",()=>{const l=n.selection.getStart(!0);l&&NT(n)&&!r.isSameElementPath(l)&&n.dom.isChildOf(l,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",l=>{!l.isDefaultPrevented()&&NT(n)&&(n.selection.getNode().nodeName==="IMG"?Md.setEditorTimeout(n,()=>{n.nodeChanged()}):n.nodeChanged())})}nodeChanged(n={}){const o=this.editor.selection;let r;if(this.editor.initialized&&o&&!sT(this.editor)&&!this.editor.mode.isReadOnly()){const l=this.editor.getBody();r=o.getStart(!0)||l,(r.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(r,l))&&(r=l);const f=[];this.editor.dom.getParent(r,v=>v===l?!0:(f.push(v),!1)),this.editor.dispatch("NodeChange",{...n,element:r,parents:f})}}isSameElementPath(n){let o;const r=this.editor,l=Os(r.dom.getParents(n,It,r.getBody()));if(l.length===this.lastPath.length){for(o=l.length;o>=0&&l[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=l,!0}return this.lastPath=l,!1}}const NS="x-tinymce/html",MS=et(NS),KN="<!-- "+NS+" -->",b9=e=>KN+e,EB=e=>e.replace(KN,""),wB=e=>e.indexOf(KN)!==-1,y9=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),_9=(e,n)=>{let o="<"+e;const r=id(n,(l,f)=>f+'="'+cf.encodeAllRaw(l)+'"');return r.length&&(o+=" "+r.join(" ")),o+">"},E9=(e,n,o)=>{const r=e.split(/\n\n/),l=_9(n,o),f="</"+n+">",v=Yt(r,x=>x.split(/\n/).join("<br />")),C=x=>l+x+f;return v.length===1?v[0]:Yt(v,C).join("")},TB="%MCEPASTEBIN%",CB=(e,n)=>{const{dom:o,selection:r}=e,l=e.getBody();n.set(r.getRng());const f=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},TB);Do.browser.isFirefox()&&o.setStyle(f,"left",o.getStyle(l,"direction",!0)==="rtl"?65535:-65535),o.bind(f,"beforedeactivate focusin focusout",v=>{v.stopPropagation()}),f.focus(),r.select(f,!0)},w9=(e,n)=>{const o=e.dom;if(W2(e)){let r;const l=n.get();for(;r=W2(e);)o.remove(r),o.unbind(r);l&&e.selection.setRng(l)}n.set(null)},W2=e=>e.dom.get("mcepastebin"),T9=e=>Ne(e)&&e.id==="mcepastebin",C9=e=>{const n=e.dom,o=(v,C)=>{v.appendChild(C),n.remove(C,!0)},[r,...l]=Lt(e.getBody().childNodes,T9);mt(l,v=>{o(r,v)});const f=n.select("div[id=mcepastebin]",r);for(let v=f.length-1;v>=0;v--){const C=n.create("div");r.insertBefore(C,f[v]),o(C,f[v])}return r?r.innerHTML:""},SB=e=>e===TB,S9=e=>{const n=Vi(null);return{create:()=>CB(e,n),remove:()=>w9(e,n),getEl:()=>W2(e),getHtml:()=>C9(e),getLastRng:n.get}},AB=(e,n)=>(pe.each(n,o=>{Me(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),mw=e=>{const n=Yl(),o=Mb({},n);let r="";const l=n.getVoidElements(),f=pe.makeMap("script noscript style textarea video audio iframe object"," "),v=n.getBlockElements(),C=x=>{const L=x.name,Z=x;if(L==="br"){r+=`
`;return}if(L!=="wbr"){if(l[L]&&(r+=" "),f[L]){r+=" ";return}if(x.type===3&&(r+=x.value),!(x.name in n.getVoidElements())){let j=x.firstChild;if(j)do C(j);while(j=j.next)}v[L]&&Z.next&&(r+=`
`,L==="p"&&(r+=`
`))}};return e=AB(e,[/<!\[[^\]]+\]>/g]),C(o.parse(e)),r},xB=e=>(e=AB(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,r,l)=>!r&&!l?" ":ys],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),A9=e=>{let n=0;return()=>e+n++},OB=e=>{const n=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return pe.hasOwn(o,n)?"image/"+o[n]:"image/"+n},x9=(e,n)=>{const o=Mb({sanitize:lb(e)},e.schema);o.addNodeFilter("meta",l=>{pe.each(l,f=>{f.remove()})});const r=o.parse(n,{forced_root_block:!1,isRootContent:!0});return Sb({validate:!0},e.schema).serialize(r)},RB=(e,n)=>({content:e,cancelled:n}),O9=(e,n,o)=>{const r=e.dom.create("div",{style:"display:none"},n),l=TR(e,r,o);return RB(l.node.innerHTML,l.isDefaultPrevented())},IB=(e,n,o)=>{const r=tC(e,n,o),l=x9(e,r.content);return e.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?O9(e,l,o):RB(l,r.isDefaultPrevented())},R9=(e,n,o)=>IB(e,n,o),XN=(e,n)=>(e.insertContent(n,{merge:B0(e),paste:!0}),!0),DB=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),G2=(e,n)=>DB(n)&&ko(V0(e),o=>lu(n.toLowerCase(),`.${o.toLowerCase()}`)),I9=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.insertContent('<img src="'+n+'">')}),!0),D9=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.execCommand("mceInsertLink",!1,n)}),!0),N9=(e,n,o)=>!e.selection.isCollapsed()&&DB(n)?D9(e,n,o):!1,M9=(e,n,o)=>G2(e,n)?I9(e,n,o):!1,k9=(e,n)=>{pe.each([N9,M9,XN],o=>!o(e,n,XN))},P9=(e,n,o)=>{o||!Rd(e)?XN(e,n):k9(e,n)},L9=A9("mceclip"),NB=(e,n,o,r)=>{const l=R9(e,n,o);l.cancelled||P9(e,l.content,r)},q2=(e,n,o)=>{const r=o||wB(n);NB(e,EB(n),r,!1)},QN=(e,n)=>{const o=e.dom.encode(n).replace(/\r\n/g,`
`),r=Lh(o,F0(e)),l=E9(r,yu(e),gp(e));NB(e,l,!1,!0)},MB=e=>{const n={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const r=e.types[o];try{n[r]=e.getData(r)}catch{n[r]=""}}return n},Hb=(e,n)=>n in e&&e[n].length>0,kB=e=>Hb(e,"text/html")||Hb(e,"text/plain"),xr=(e,n)=>{const o=n.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Ne(o)?e.dom.encode(o[1]):void 0},$9=(e,n,o,r)=>{const l=L9(),f=Ic(e)&&Ne(o.name),v=f?xr(e,o.name):l,C=f?o.name:void 0,x=n.create(l,o,r,v,C);return n.add(x),x},PB=(e,n)=>{ZE(n.uri).each(({data:o,type:r,base64Encoded:l})=>{const f=l?o:btoa(o),v=n.file,C=e.editorUpload.blobCache,x=C.getByData(f,r),L=x??$9(e,C,v,f);q2(e,`<img src="${L.blobUri()}">`,!1)})},B9=e=>e.type==="paste",JN=e=>Promise.all(Yt(e,n=>NL(n).then(o=>({file:n,uri:o})))),LB=e=>{const n=V0(e);return o=>_i(o.type,"image/")&&ko(n,r=>OB(r)===o.type)},$B=(e,n)=>{const o=n.items?Ca(vr(n.items),l=>l.kind==="file"?[l.getAsFile()]:[]):[],r=n.files?vr(n.files):[];return Lt(o.length>0?o:r,LB(e))},BB=(e,n,o)=>{const r=B9(n)?n.clipboardData:n.dataTransfer;if(sg(e)&&r){const l=$B(e,r);if(l.length>0)return n.preventDefault(),JN(l).then(f=>{o&&e.selection.setRng(o),mt(f,v=>{PB(e,v)})}),!0}return!1},FB=e=>{var n,o;return Do.os.isAndroid()&&((o=(n=e.clipboardData)===null||n===void 0?void 0:n.items)===null||o===void 0?void 0:o.length)===0},F9=e=>Cn.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,eM=(e,n,o,r)=>{let l=xB(o);const f=Hb(n,MS())||wB(o),v=!f&&y9(l),C=DB(l);(SB(l)||!l.length||v&&!C)&&(r=!0),(r||C)&&(Hb(n,"text/plain")&&v?l=n["text/plain"]:l=mw(l)),!SB(l)&&(r?QN(e,l):q2(e,l,f))},HB=(e,n,o)=>{let r;const l=()=>n.getLastRng()||e.selection.getRng();e.on("keydown",f=>{F9(f)&&!f.isDefaultPrevented()&&(r=f.shiftKey&&f.keyCode===86)}),e.on("paste",f=>{if(f.isDefaultPrevented()||FB(f))return;const v=o.get()==="text"||r;r=!1;const C=MB(f.clipboardData);!kB(C)&&BB(e,f,l())||(Hb(C,"text/html")?(f.preventDefault(),eM(e,C,C["text/html"],v)):Hb(C,"text/plain")&&Hb(C,"text/uri-list")?(f.preventDefault(),eM(e,C,C["text/plain"],v)):(n.create(),Md.setEditorTimeout(e,()=>{const x=n.getHtml();n.remove(),eM(e,C,x,v)},0)))})},H9=e=>{const n=l=>_i(l,"webkit-fake-url"),o=l=>_i(l,"data:"),r=l=>{var f;return((f=l.data)===null||f===void 0?void 0:f.paste)===!0};e.parser.addNodeFilter("img",(l,f,v)=>{if(!sg(e)&&r(v))for(const C of l){const x=C.attr("src");oe(x)&&!C.attr("data-mce-object")&&x!==Do.transparentSrc&&(n(x)||!J_(e)&&o(x))&&C.remove()}})},V9=(e,n,o)=>{HB(e,n,o),H9(e)},j2=(e,n)=>{n.get()==="text"?(n.set("html"),Ap(e,!1)):(n.set("text"),Ap(e,!0)),e.focus()},kS=(e,n)=>{e.addCommand("mceTogglePlainTextPaste",()=>{j2(e,n)}),e.addCommand("mceInsertClipboardContent",(o,r)=>{r.html&&q2(e,r.html,r.internal),r.text&&QN(e,r.text)})},VB=(e,n,o)=>{if(e)try{return e.clearData(),e.setData("text/html",n),e.setData("text/plain",o),e.setData(MS(),n),!0}catch{return!1}else return!1},Of=(e,n,o,r)=>{VB(e.clipboardData,n.html,n.text)?(e.preventDefault(),r()):o(n.html,r)},UB=e=>(n,o)=>{const{dom:r,selection:l}=e,f=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),v=r.create("div",{contenteditable:"true"},n);r.setStyles(f,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),f.appendChild(v),r.add(e.getBody(),f);const C=l.getRng();v.focus();const x=r.createRng();x.selectNodeContents(v),l.setRng(x),Md.setEditorTimeout(e,()=>{l.setRng(C),r.remove(f),o()},0)},Wy=e=>({html:b9(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),PS=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),zB=e=>!e.selection.isCollapsed()||PS(e),U9=e=>n=>{!n.isDefaultPrevented()&&zB(e)&&Of(n,Wy(e),UB(e),()=>{if(Do.browser.isChromium()||Do.browser.isFirefox()){const o=e.selection.getRng();Md.setEditorTimeout(e,()=>{e.selection.setRng(o),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},gw=e=>n=>{!n.isDefaultPrevented()&&zB(e)&&Of(n,Wy(e),UB(e),Ot)},z9=e=>{e.on("cut",U9(e)),e.on("copy",gw(e))},Z2=(e,n)=>{var o,r;return _b.getCaretRangeFromPoint((o=n.clientX)!==null&&o!==void 0?o:0,(r=n.clientY)!==null&&r!==void 0?r:0,e.getDoc())},tM=e=>{const n=e["text/plain"];return n?n.indexOf("file://")===0:!1},nM=(e,n)=>{e.focus(),n&&e.selection.setRng(n)},W9=e=>ko(e.files,n=>/^image\//.test(n.type)),G9=(e,n,o,r)=>{const l=e.getParent(o,f=>zf(n,f));if(l&&qn(r,"text/html")){const f=new DOMParser().parseFromString(r["text/html"],"text/html").body;return!Ee(f.querySelector(l.nodeName.toLowerCase()))}else return!1},WB=(e,n)=>{ab(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),sg(e)||e.on("drop",o=>{const r=o.dataTransfer;r&&W9(r)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const r=Z2(e,o);if(Et(r))return;const l=MB(o.dataTransfer),f=Hb(l,MS());if((!kB(l)||tM(l))&&BB(e,o,r))return;const v=l[MS()],C=v||l["text/html"]||l["text/plain"],x=G9(e.dom,e.schema,r.startContainer,l);n.get()&&!x||C&&(o.preventDefault(),Md.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{v&&e.execCommand("Delete"),nM(e,r);const L=xB(C);l["text/html"]?q2(e,L,f):QN(e,L)})}))}),e.on("dragstart",o=>{n.set(!0)}),e.on("dragover dragend",o=>{sg(e)&&!n.get()&&(o.preventDefault(),nM(e,Z2(e,o))),o.type==="dragend"&&n.set(!1)})},GB=e=>{const n=l=>f=>{l(e,f)},o=cb(e);ge(o)&&e.on("PastePreProcess",n(o));const r=Q_(e);ge(r)&&e.on("PastePostProcess",n(r))},q9=(e,n)=>{e.on("PastePreProcess",o=>{o.content=n(e,o.content,o.internal)})},j9=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,qB=e=>pe.trim(e).replace(j9,hb).toLowerCase(),jB=(e,n,o)=>{const r=gf(e);if(o||r==="all"||!B1(e))return n;const l=r?r.split(/[, ]/):[];if(l&&r!=="none"){const f=e.dom,v=e.selection.getNode();n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(C,x,L,Z)=>{const j=f.parseStyle(f.decode(L)),ne={};for(let xe=0;xe<l.length;xe++){const he=j[l[xe]];let Se=he,Ve=f.getStyle(v,l[xe],!0);/color/.test(l[xe])&&(Se=qB(Se),Ve=qB(Ve)),Ve!==Se&&(ne[l[xe]]=he)}const Ce=f.serializeStyle(ne,"span");return Ce?x+' style="'+Ce+'"'+Z:x+Z})}else n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return n=n.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(f,v,C,x)=>v+' style="'+C+'"'+x),n},Z9=e=>{(Do.browser.isChromium()||Do.browser.isSafari())&&q9(e,jB)},ZB=e=>{const n=Vi(!1),o=Vi(Yh(e)?"text":"html"),r=S9(e);Z9(e),kS(e,o),GB(e),e.on("PreInit",()=>{z9(e),WB(e,n),V9(e,r,o)})},Y9=e=>{e.on("click",n=>{e.dom.getParent(n.target,"details")&&n.preventDefault()})},K9=e=>{e.parser.addNodeFilter("details",n=>{mt(n,o=>{o.attr("data-mce-open",o.attr("open")),o.attr("open","open")})}),e.serializer.addNodeFilter("details",n=>{mt(n,o=>{const r=o.attr("data-mce-open");o.attr("open",oe(r)?r:null),o.attr("data-mce-open",null)})})},YB=e=>{Y9(e),K9(e)},X9=hr,KB=Ut,Q9=e=>Po(e.dom),XB=e=>ts(e.dom),QB=e=>n=>ns(Oe.fromDom(e),n),J9=(e,n)=>es(Oe.fromDom(e),o=>XB(o)||Ft(o),QB(n)).getOr(Oe.fromDom(n)).dom,JB=(e,n)=>es(Oe.fromDom(e),Q9,QB(n)),eF=(e,n,o)=>{const r=new ai(e,n),l=o?r.next.bind(r):r.prev.bind(r);let f=e;for(let v=o?e:l();v&&!X9(v);v=l())Tl(v)&&(f=v);return f},eG=(e,n)=>{const r=Ye.fromRangeStart(e).getNode(),l=J9(r,n),f=eF(r,l,!1),v=eF(r,l,!0),C=document.createRange();return JB(f,l).fold(()=>{KB(f)?C.setStart(f,0):C.setStartBefore(f)},x=>C.setStartBefore(x.dom)),JB(v,l).fold(()=>{KB(v)?C.setEnd(v,v.data.length):C.setEndAfter(v)},x=>C.setEndAfter(x.dom)),C},tG=e=>{const n=eG(e.selection.getRng(),e.getBody());e.selection.setRng(DC(n))},nG=e=>{e.on("mousedown",n=>{n.detail>=3&&(n.preventDefault(),tG(e))})};var Gy;(function(e){e.Before="before",e.After="after"})(Gy||(Gy={}));const oG=(e,n)=>Math.abs(e.left-n),sG=(e,n)=>Math.abs(e.right-n),rG=(e,n)=>e>=n.top&&e<=n.bottom,iG=(e,n)=>e.top<n.bottom&&e.bottom>n.top,aG=(e,n)=>{const o=b0(e,n)/Math.min(e.height,n.height);return iG(e,n)&&o>.5},tF=(e,n)=>{const o=Lt(e,r=>rG(n,r));return v0(o).fold(()=>[[],e],r=>{const{pass:l,fail:f}=vi(e,v=>aG(v,r));return[l,f]})},cG=(e,n)=>({node:e.node,position:oG(e,n)<sG(e,n)?Gy.Before:Gy.After}),lG=(e,n,o)=>n>e.left&&n<e.right?0:Math.min(Math.abs(e.left-n),Math.abs(e.right-n)),oM=(e,n,o)=>{const r=Z=>Tl(Z.node)?te.some(Z):nn(Z.node)?oM(vr(Z.node.childNodes),n,o):te.none(),l=(Z,j)=>{if(Z.length>=2){const ne=r(Z[0]).getOr(Z[0]),Ce=r(Z[1]).getOr(Z[1]);if(Math.abs(j(ne,n,o)-j(Ce,n,o))<2){if(Ut(ne.node))return te.some(ne);if(Ut(Ce.node))return te.some(Ce)}}return te.none()},f=(Z,j)=>{const ne=Ms(Z,(Ce,xe)=>j(Ce,n,o)-j(xe,n,o));return l(ne,j).orThunk(()=>$r(ne,r))},[v,C]=tF(Fy(e),o),{pass:x,fail:L}=vi(C,Z=>Z.top<o);return f(v,lG).orThunk(()=>f(L,I_)).orThunk(()=>f(x,I_))},uG=(e,n,o,r)=>{const l=(f,v)=>{const C=L=>nn(L)&&L.classList.contains("mce-drag-container"),x=Lt(f.dom.childNodes,vo(C));return v.fold(()=>oM(x,o,r),L=>{const Z=Lt(x,j=>j!==L.dom);return oM(Z,o,r)}).orThunk(()=>(ns(f,e)?te.none():Xr(f)).bind(Z=>l(Z,te.some(f))))};return l(n,te.none())},dG=(e,n,o)=>{const r=Oe.fromDom(e),l=xt(r),v=Oe.fromPoint(l,n,o).filter(C=>Qe(r,C)).getOr(r);return uG(r,v,n,o)},nF=(e,n,o)=>dG(e,n,o).filter(r=>th(r.node)).map(r=>cG(r,n)),oF=e=>{var n,o;const r=e.getBoundingClientRect(),l=e.ownerDocument,f=l.documentElement,v=l.defaultView;return{top:r.top+((n=v==null?void 0:v.scrollY)!==null&&n!==void 0?n:0)-f.clientTop,left:r.left+((o=v==null?void 0:v.scrollX)!==null&&o!==void 0?o:0)-f.clientLeft}},Y2=e=>e.inline?oF(e.getBody()):{left:0,top:0},sF=e=>{const n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},fG=e=>{const n=e.getBody(),o=e.getDoc().documentElement,r={left:n.scrollLeft,top:n.scrollTop},l={left:n.scrollLeft||o.scrollLeft,top:n.scrollTop||o.scrollTop};return e.inline?r:l},rF=(e,n)=>{if(n.target.ownerDocument!==e.getDoc()){const o=oF(e.getContentAreaContainer()),r=fG(e);return{left:n.pageX-o.left+r.left,top:n.pageY-o.top+r.top}}return{left:n.pageX,top:n.pageY}},iF=(e,n,o)=>({pageX:o.left-e.left+n.left,pageY:o.top-e.top+n.top}),sM=(e,n)=>iF(Y2(e),sF(e),rF(e,n)),hG=(e,n,o)=>({...n,dataTransfer:null,type:e,...o}),aF=(e,n)=>{const o=Bo("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,srcElement:null,target:null,timeStamp:0,type:e,composedPath:o,initEvent:o,preventDefault:Ot,stopImmediatePropagation:Ot,stopPropagation:Ot,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:o,initMouseEvent:o,getModifierState:o,dataTransfer:null,...n}},cF=e=>({target:e,srcElement:e}),lF=e=>n=>aF(e,cF(n)),rM=e=>(n,o)=>hG(e,n,cF(o)),uF=rM("dragstart"),mG=rM("drop"),gG=lF("dragend"),dF=rM("dragend"),Vb=32,pG=100,K2=8,LS=16,fF=Po,vG=Yw(fF,ts),bG=(e,n,o)=>fF(o)&&o!==n&&e.isEditable(o.parentElement),yG=(e,n,o)=>Et(n)||n===o||e.dom.isChildOf(n,o)?!1:e.dom.isEditable(n),_G=e=>{const n=e.cloneNode(!0);return n.removeAttribute("data-mce-selected"),n},X2=(e,n,o,r)=>{const l=e.dom,f=n.cloneNode(!0);l.setStyles(f,{width:o,height:r}),l.setAttrib(f,"data-mce-selected",null);const v=l.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return l.setStyles(v,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:r}),l.setStyles(f,{margin:0,boxSizing:"border-box"}),v.appendChild(f),v},hF=(e,n)=>{e.parentNode!==n&&n.appendChild(e)},$S=(e,n)=>o=>()=>{const r=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:r+n,behavior:"smooth"})},mF=$S("left",-Vb),gF=$S("left",Vb),pF=$S("top",-Vb),EG=$S("top",Vb),wG=(e,n,o,r,l,f,v,C,x,L,Z,j)=>{let ne=0,Ce=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+o>l&&(ne=n.pageX+o-l),n.pageY+r>f&&(Ce=n.pageY+r-f),e.style.width=o-ne+"px",e.style.height=r-Ce+"px";const xe=x.clientHeight,he=x.clientWidth,Se=v+x.getBoundingClientRect().top,Ve=C+x.getBoundingClientRect().left;Z.on($e=>{$e.intervalId.clear(),$e.dragging&&j&&(v+K2>=xe?$e.intervalId.set(EG(L)):v-K2<=0?$e.intervalId.set(pF(L)):C+K2>=he?$e.intervalId.set(gF(L)):C-K2<=0?$e.intervalId.set(mF(L)):Se+LS>=window.innerHeight?$e.intervalId.set(EG(window)):Se-LS<=0?$e.intervalId.set(pF(window)):Ve+LS>=window.innerWidth?$e.intervalId.set(gF(window)):Ve-LS<=0&&$e.intervalId.set(mF(window)))})},Q2=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},iM=(e,n)=>{const o=e.getParent(n.parentNode,e.isBlock);Q2(n),o&&o!==e.getRoot()&&e.isEmpty(o)&&Yg(Oe.fromDom(o))},J2=e=>e.button===0,TG=(e,n)=>({pageX:n.pageX-e.relX,pageY:n.pageY+5}),CG=(e,n)=>o=>{if(J2(o)){const r=vs(n.dom.getParents(o.target),vG).getOr(null);if(Ne(r)&&bG(n.dom,n.getBody(),r)){const l=n.dom.getPos(r),f=n.getBody(),v=n.getDoc().documentElement;e.set({element:r,dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(n.inline?f.scrollWidth:v.offsetWidth)-2,maxY:(n.inline?f.scrollHeight:v.offsetHeight)-2,relX:o.pageX-l.x,relY:o.pageY-l.y,width:r.offsetWidth,height:r.offsetHeight,ghost:X2(n,r,r.offsetWidth,r.offsetHeight),intervalId:Ls(pG)})}}},vF=(e,n,o)=>{e._selectionOverrides.hideFakeCaret(),nF(e.getBody(),n,o).fold(()=>e.selection.placeCaretAt(n,o),r=>{const l=e._selectionOverrides.showCaret(1,r.node,r.position===Gy.Before,!1);l?e.selection.setRng(l):e.selection.placeCaretAt(n,o)})},SG=(e,n)=>{const o=pu((l,f)=>vF(n,l,f),0);n.on("remove",o.cancel);const r=e;return l=>e.on(f=>{const v=Math.max(Math.abs(l.screenX-f.screenX),Math.abs(l.screenY-f.screenY));if(!f.dragging&&v>10){if(n.dispatch("dragstart",uF(l,f.element)).isDefaultPrevented())return;f.dragging=!0,n.focus()}if(f.dragging){const C=l.currentTarget===n.getDoc().documentElement,x=TG(f,sM(n,l));hF(f.ghost,n.getBody()),wG(f.ghost,x,f.width,f.height,f.maxX,f.maxY,l.clientY,l.clientX,n.getContentAreaContainer(),n.getWin(),r,C),o.throttle(l.clientX,l.clientY)}})},aM=e=>{const n=e.getSel();if(Ne(n)){const r=n.getRangeAt(0).startContainer;return Ut(r)?r.parentNode:r}else return null},bF=(e,n)=>o=>{e.on(r=>{var l;if(r.intervalId.clear(),r.dragging){if(yG(n,aM(n.selection),r.element)){const f=_G(r.element),v=(l=n.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&l!==void 0?l:n.getBody();n.dispatch("drop",mG(o,v)).isDefaultPrevented()||n.undoManager.transact(()=>{iM(n.dom,r.element),n.insertContent(n.dom.getOuterHTML(f)),n._selectionOverrides.hideFakeCaret()})}n.dispatch("dragend",dF(o,n.getBody()))}}),cM(e)},yF=(e,n,o)=>{e.on(r=>{if(r.intervalId.clear(),r.dragging){const l=o.fold(()=>gG(r.element),f=>dF(f,r.element));n.dispatch("dragend",l)}}),cM(e)},AG=(e,n)=>o=>yF(e,n,te.some(o)),cM=e=>{e.on(n=>{n.intervalId.clear(),Q2(n.ghost)}),e.clear()},xG=e=>{const n=oa(),o=sr.DOM,r=document,l=CG(n,e),f=SG(n,e),v=bF(n,e),C=AG(n,e);e.on("mousedown",l),e.on("mousemove",f),e.on("mouseup",v),o.bind(r,"mousemove",f),o.bind(r,"mouseup",C),e.on("remove",()=>{o.unbind(r,"mousemove",f),o.unbind(r,"mouseup",C)}),e.on("keydown",x=>{x.keyCode===Cn.ESC&&yF(n,e,te.none())})},CK=e=>{const n=l=>{if(!l.isDefaultPrevented()){const f=l.dataTransfer;f&&(kn(f.types,"Files")||f.files.length>0)&&(l.preventDefault(),l.type==="drop"&&ew(e,"Dropped file type is not supported"))}},o=l=>{gy(e,l.target)&&n(l)},r=()=>{const l=sr.DOM,f=e.dom,v=document,C=e.inline?e.getBody():e.getDoc(),x=["drop","dragover"];mt(x,L=>{l.bind(v,L,o),f.bind(C,L,n)}),e.on("remove",()=>{mt(x,L=>{l.unbind(v,L,o),f.unbind(C,L,n)})})};e.on("init",()=>{Md.setEditorTimeout(e,r,0)})},OG=e=>{xG(e),K_(e)&&CK(e)},RG=e=>{const n=pu(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const r=sw(e,o,!1);e.selection.setRng(r)}}},0);e.on("focus",()=>{n.throttle()}),e.on("blur",()=>{n.cancel()})},IG=e=>{e.on("init",()=>{e.on("focusin",n=>{const o=n.target;if(or(o)){const r=Ip(e.getBody(),o),l=Po(r)?r:o;e.selection.getNode()!==l&&lS(e,l).each(f=>e.selection.setRng(f))}})})},pw=Po,_F=(e,n)=>Ip(e.getBody(),n),EF=e=>{const n=e.selection,o=e.dom,r=e.getBody(),l=j0(e,r,o.isBlock,()=>Cb(e)),f="sel-"+o.uniqueId(),v="data-mce-selected";let C;const x=jt=>Ne(jt)&&o.hasClass(jt,"mce-offscreen-selection"),L=jt=>jt!==r&&(pw(jt)||or(jt))&&o.isChildOf(jt,r)&&o.isEditable(jt.parentNode),Z=jt=>{jt&&n.setRng(jt)},j=(jt,ft,dt,bn=!0)=>e.dispatch("ShowCaret",{target:ft,direction:jt,before:dt}).isDefaultPrevented()?null:(bn&&n.scrollIntoView(ft,jt===-1),l.show(dt,ft)),ne=jt=>{jt.hasAttribute("data-mce-caret")&&(xv(jt),n.scrollIntoView(jt))},Ce=()=>{e.on("click",ft=>{o.isEditable(ft.target)||(ft.preventDefault(),e.focus())}),e.on("blur NewBlock",rt),e.on("ResizeWindow FullscreenStateChanged",l.reposition),e.on("tap",ft=>{const dt=ft.target,bn=_F(e,dt);pw(bn)?(ft.preventDefault(),lS(e,bn).each(je)):L(dt)&&lS(e,dt).each(je)},!0),e.on("mousedown",ft=>{const dt=ft.target;if(dt!==r&&dt.nodeName!=="HTML"&&!o.isChildOf(dt,r)||!ky(e,ft.clientX,ft.clientY))return;rt(),on();const bn=_F(e,dt);pw(bn)?(ft.preventDefault(),lS(e,bn).each(je)):nF(r,ft.clientX,ft.clientY).each(Ln=>{ft.preventDefault();const Gn=j(1,Ln.node,Ln.position===Gy.Before,!1);Z(Gn),nn(bn)?bn.focus():e.getBody().focus()})}),e.on("keypress",ft=>{Cn.modifierPressed(ft)||pw(n.getNode())&&ft.preventDefault()}),e.on("GetSelectionRange",ft=>{let dt=ft.range;if(C){if(!C.parentNode){C=null;return}dt=dt.cloneRange(),dt.selectNode(C),ft.range=dt}}),e.on("SetSelectionRange",ft=>{ft.range=Se(ft.range);const dt=je(ft.range,ft.forward);dt&&(ft.range=dt)});const jt=ft=>nn(ft)&&ft.id==="mcepastebin";e.on("AfterSetSelectionRange",ft=>{const dt=ft.range,bn=dt.startContainer.parentElement;!he(dt)&&!jt(bn)&&on(),x(bn)||rt()}),OG(e),RG(e),IG(e)},xe=jt=>wl(jt)||Pm(jt)||Kg(jt),he=jt=>xe(jt.startContainer)||xe(jt.endContainer),Se=jt=>{const ft=e.schema.getVoidElements(),dt=o.createRng(),bn=jt.startContainer,Ln=jt.startOffset,Gn=jt.endContainer,wo=jt.endOffset;return qn(ft,bn.nodeName.toLowerCase())?Ln===0?dt.setStartBefore(bn):dt.setStartAfter(bn):dt.setStart(bn,Ln),qn(ft,Gn.nodeName.toLowerCase())?wo===0?dt.setEndBefore(Gn):dt.setEndAfter(Gn):dt.setEnd(Gn,wo),dt},Ve=(jt,ft)=>{const dt=Oe.fromDom(e.getBody()),bn=e.getDoc(),Ln=Yd(dt,"#"+f).getOrThunk(()=>{const Qo=Oe.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',bn);return ho(Qo,"id",f),Er(dt,Qo),Qo}),Gn=o.createRng();Js(Ln),pd(Ln,[Oe.fromText(ys,bn),Oe.fromDom(ft),Oe.fromText(ys,bn)]),Gn.setStart(Ln.dom.firstChild,1),Gn.setEnd(Ln.dom.lastChild,0),ha(Ln,{top:o.getPos(jt,e.getBody()).y+"px"}),Qn(Ln);const wo=n.getSel();return wo&&(wo.removeAllRanges(),wo.addRange(Gn)),Gn},$e=jt=>{const ft=jt.cloneNode(!0),dt=e.dispatch("ObjectSelected",{target:jt,targetClone:ft});if(dt.isDefaultPrevented())return null;const bn=Ve(jt,dt.targetClone),Ln=Oe.fromDom(jt);return mt(Qr(Oe.fromDom(e.getBody()),`*[${v}]`),Gn=>{ns(Ln,Gn)||fr(Gn,v)}),o.getAttrib(jt,v)||jt.setAttribute(v,"1"),C=jt,on(),bn},je=(jt,ft)=>{if(!jt)return null;if(jt.collapsed){if(!he(jt)){const Gn=ft?1:-1,wo=_p(Gn,r,jt),Qo=wo.getNode(!ft);if(Ne(Qo)){if(th(Qo))return j(Gn,Qo,ft?!wo.isAtEnd():!1,!1);if(Sc(Qo)&&Po(Qo.nextSibling)){const ar=o.createRng();return ar.setStart(Qo,0),ar.setEnd(Qo,0),ar}}const Ds=wo.getNode(ft);if(Ne(Ds)){if(th(Ds))return j(Gn,Ds,ft?!1:!wo.isAtEnd(),!1);if(Sc(Ds)&&Po(Ds.previousSibling)){const ar=o.createRng();return ar.setStart(Ds,1),ar.setEnd(Ds,1),ar}}}return null}let dt=jt.startContainer,bn=jt.startOffset;const Ln=jt.endOffset;if(Ut(dt)&&bn===0&&pw(dt.parentNode)&&(dt=dt.parentNode,bn=o.nodeIndex(dt),dt=dt.parentNode),!nn(dt))return null;if(Ln===bn+1&&dt===jt.endContainer){const Gn=dt.childNodes[bn];if(L(Gn))return $e(Gn)}return null},rt=()=>{C&&C.removeAttribute(v),Yd(Oe.fromDom(e.getBody()),"#"+f).each(wr),C=null},St=()=>{l.destroy(),C=null},on=()=>{l.hide()};return Np(e)||Ce(),{showCaret:j,showBlockCaretContainer:ne,hideFakeCaret:on,destroy:St}},DG=(e,n)=>{let o=n;for(let r=e.previousSibling;Ut(r);r=r.previousSibling)o+=r.data.length;return o},wF=(e,n,o,r,l)=>{if(Ut(o)&&(r<0||r>o.data.length))return[];const f=l&&Ut(o)?[DG(o,r)]:[r];let v=o;for(;v!==n&&v.parentNode;)f.push(e.nodeIndex(v,l)),v=v.parentNode;return v===n?f.reverse():[]},lM=(e,n,o,r,l,f,v=!1)=>{const C=wF(e,n,o,r,v),x=wF(e,n,l,f,v);return{start:C,end:x}},TF=(e,n)=>{const o=n.slice(),r=o.pop();return gn(r)?Ns(o,(f,v)=>f.bind(C=>te.from(C.childNodes[v])),te.some(e)).bind(f=>Ut(f)&&(r<0||r>f.data.length)?te.none():te.some({node:f,offset:r})):te.none()},CF=(e,n)=>TF(e,n.start).bind(({node:o,offset:r})=>TF(e,n.end).map(({node:l,offset:f})=>{const v=document.createRange();return v.setStart(o,r),v.setEnd(l,f),v})),SF=(e,n,o,r=!1)=>lM(e,n,o.startContainer,o.startOffset,o.endContainer,o.endOffset,r),BS=(e,n,o)=>{if(n&&e.isEmpty(n)&&!o(n)){const r=n.parentNode;e.remove(n),BS(e,r,o)}},eO=(e,n,o,r=!0)=>{const l=n.startContainer.parentNode,f=n.endContainer.parentNode;n.deleteContents(),r&&!o(n.startContainer)&&(Ut(n.startContainer)&&n.startContainer.data.length===0&&e.remove(n.startContainer),Ut(n.endContainer)&&n.endContainer.data.length===0&&e.remove(n.endContainer),BS(e,l,o),l!==f&&BS(e,f,o))},tO=(e,n)=>te.from(e.dom.getParent(n.startContainer,e.dom.isBlock)),AF=(e,n,o)=>{const r=e.dynamicPatternsLookup({text:o,block:n});return{...e,blockPatterns:zi(r).concat(e.blockPatterns),inlinePatterns:I1(r).concat(e.inlinePatterns)}},nO=(e,n,o,r)=>{const l=e.createRng();return l.setStart(n,0),l.setEnd(o,r),l.toString()},NG=e=>/^\s[^\s]/.test(e),xF=(e,n,o)=>{A3(n,0,n).each(l=>{const f=l.container;x3(f,o.start.length,n).each(x=>{const L=e.createRng();L.setStart(f,0),L.setEnd(x.container,x.offset),eO(e,L,Z=>Z===n)});const v=Oe.fromDom(f),C=Wr(v);NG(C)&&Ga(v,C.slice(1))})},MG=(e,n)=>{const o=e.dom,r=n.pattern,l=CF(o.getRoot(),n.range).getOrDie("Unable to resolve path range"),f=(v,C)=>{const x=C.get(v);return F(x)&&Ii(x).exists(L=>qn(L,"block"))};return tO(e,l).each(v=>{r.type==="block-format"?f(r.format,e.formatter)&&e.undoManager.transact(()=>{xF(e.dom,v,r),e.formatter.apply(r.format)}):r.type==="block-command"&&e.undoManager.transact(()=>{xF(e.dom,v,r),e.execCommand(r.cmd,!1,r.value)})}),!0},OF=e=>Ms(e,(n,o)=>o.start.length-n.start.length),oO=(e,n)=>{const o=OF(e),r=n.replace(ys," ");return vs(o,l=>n.indexOf(l.start)===0||r.indexOf(l.start)===0)},RF=(e,n,o,r)=>{var l;const f=e.dom,v=yu(e);if(!f.is(n,v))return[];const C=(l=n.textContent)!==null&&l!==void 0?l:"";return oO(o.blockPatterns,C).map(x=>pe.trim(C).length===x.start.length?[]:[{pattern:x,range:lM(f,f.getRoot(),n,0,n,0,r)}]).getOr([])},IF=(e,n)=>{if(n.length===0)return;const o=e.selection.getBookmark();mt(n,r=>MG(e,r)),e.selection.moveToBookmark(o)},DF=(e,n)=>e.create("span",{"data-mce-type":"bookmark",id:n}),sO=(e,n)=>{const o=e.createRng();return o.setStartAfter(n.start),o.setEndBefore(n.end),o},uM=(e,n,o)=>{const r=CF(e.getRoot(),o).getOrDie("Unable to resolve path range"),l=r.startContainer,f=r.endContainer,v=r.endOffset===0?f:f.splitText(r.endOffset),C=r.startOffset===0?l:l.splitText(r.startOffset),x=C.parentNode,L=v.parentNode;return{prefix:n,end:L.insertBefore(DF(e,n+"-end"),v),start:x.insertBefore(DF(e,n+"-start"),C)}},NF=(e,n,o)=>{BS(e,e.get(n.prefix+"-end"),o),BS(e,e.get(n.prefix+"-start"),o)},dM=e=>e.start.length===0,kG=e=>(n,o)=>{const l=n.data.substring(0,o),f=l.lastIndexOf(e.charAt(e.length-1)),v=l.lastIndexOf(e);return v!==-1?v+e.length:f!==-1?f+1:-1},rO=(e,n,o,r)=>{const l=n.start;return T2(e,r.container,r.offset,kG(l),o).bind(v=>{var C,x;const L=(x=(C=o.textContent)===null||C===void 0?void 0:C.indexOf(l))!==null&&x!==void 0?x:-1;if(L!==-1&&v.offset>=L+l.length){const j=e.createRng();return j.setStart(v.container,v.offset-l.length),j.setEnd(v.container,v.offset),te.some(j)}else{const j=v.offset-l.length;return TN(v.container,j,o).map(ne=>{const Ce=e.createRng();return Ce.setStart(ne.container,ne.offset),Ce.setEnd(v.container,v.offset),Ce}).filter(ne=>ne.toString()===l).orThunk(()=>rO(e,n,o,Og(v.container,0)))}})},PG=(e,n,o,r,l,f=!1)=>{if(n.start.length===0&&!f){const v=e.createRng();return v.setStart(o,r),v.setEnd(o,r),te.some(v)}return wN(o,r,l).bind(v=>rO(e,n,l,v).bind(x=>{var L;if(f){if(x.endContainer===v.container&&x.endOffset===v.offset)return te.none();if(v.offset===0&&((L=x.endContainer.textContent)===null||L===void 0?void 0:L.length)===x.endOffset)return te.none()}return te.some(x)}))},LG=(e,n,o,r)=>{const l=e.dom,f=l.getRoot(),v=o.pattern,C=o.position.container,x=o.position.offset;return TN(C,x-o.pattern.end.length,n).bind(L=>{const Z=lM(l,f,L.container,L.offset,C,x,r);if(dM(v))return te.some({matches:[{pattern:v,startRng:Z,endRng:Z}],position:L});{const j=iO(e,o.remainingPatterns,L.container,L.offset,n,r),ne=j.getOr({matches:[],position:L}),Ce=ne.position;return PG(l,v,Ce.container,Ce.offset,n,j.isNone()).map(he=>{const Se=SF(l,f,he,r);return{matches:ne.matches.concat([{pattern:v,startRng:Se,endRng:Z}]),position:Og(he.startContainer,he.startOffset)}})}})},iO=(e,n,o,r,l,f)=>{const v=e.dom;return wN(o,r,v.getRoot()).bind(C=>{const x=nO(v,l,o,r);for(let L=0;L<n.length;L++){const Z=n[L];if(!lu(x,Z.end))continue;const j=n.slice();j.splice(L,1);const ne=LG(e,l,{pattern:Z,remainingPatterns:j,position:C},f);if(ne.isNone()&&r>0)return iO(e,n,o,r-1,l,f);if(ne.isSome())return ne}return te.none()})},MF=(e,n,o)=>{e.selection.setRng(o),n.type==="inline-format"?mt(n.format,r=>{e.formatter.apply(r)}):e.execCommand(n.cmd,!1,n.value)},$G=(e,n,o,r)=>{const l=sO(e.dom,o);eO(e.dom,l,r),MF(e,n,l)},BG=(e,n,o,r,l)=>{const f=e.dom,v=sO(f,r),C=sO(f,o);eO(f,C,l),eO(f,v,l);const x={prefix:o.prefix,start:o.end,end:r.start},L=sO(f,x);MF(e,n,L)},kF=(e,n)=>{const o=m0("mce_textpattern"),r=Lr(n,(l,f)=>{const v=uM(e,o+`_end${l.length}`,f.endRng);return l.concat([{...f,endMarker:v}])},[]);return Lr(r,(l,f)=>{const v=r.length-l.length-1,C=dM(f.pattern)?f.endMarker:uM(e,o+`_start${v}`,f.startRng);return l.concat([{...f,startMarker:C}])},[])},PF=e=>Ms(e,(n,o)=>o.end.length-n.end.length),fM=(e,n)=>{const o=nr(e,r=>ko(n,l=>r.pattern.start===l.pattern.start&&r.pattern.end===l.pattern.end));return e.length===n.length?o?e:n:e.length>n.length?e:n},aO=(e,n,o,r,l,f)=>{const v=iO(e,l.inlinePatterns,o,r,n,f).fold(()=>[],x=>x.matches),C=iO(e,PF(l.inlinePatterns),o,r,n,f).fold(()=>[],x=>x.matches);return fM(v,C)},LF=(e,n)=>{if(n.length===0)return;const o=e.dom,r=e.selection.getBookmark(),l=kF(o,n);mt(l,f=>{const v=o.getParent(f.startMarker.start,o.isBlock),C=x=>x===v;dM(f.pattern)?$G(e,f.pattern,f.endMarker,C):BG(e,f.pattern,f.startMarker,f.endMarker,C),NF(o,f.endMarker,C),NF(o,f.startMarker,C)}),e.selection.moveToBookmark(r)},hM=(e,n)=>{const o=e.selection.getRng();return tO(e,o).map(r=>{var l;const f=Math.max(0,o.startOffset),v=AF(n,r,(l=r.textContent)!==null&&l!==void 0?l:""),C=aO(e,r,o.startContainer,f,v,!0),x=RF(e,r,v,!0);return x.length>0||C.length>0?(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{e.insertContent(jr),LF(e,C),IF(e,x);const L=e.selection.getRng(),Z=wN(L.startContainer,L.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),Z.each(j=>{const ne=j.container;ne.data.charAt(j.offset-1)===jr&&(ne.deleteData(j.offset-1,1),BS(e.dom,ne.parentNode,Ce=>Ce===e.dom.getRoot()))})}),!0):!1}).getOr(!1)},FG=(e,n)=>{const o=e.selection.getRng();tO(e,o).map(r=>{const l=Math.max(0,o.startOffset-1),f=nO(e.dom,r,o.startContainer,l),v=AF(n,r,f),C=aO(e,r,o.startContainer,l,v,!1);C.length>0&&e.undoManager.transact(()=>{LF(e,C)})})},$F=(e,n,o)=>{for(let r=0;r<e.length;r++)if(o(e[r],n))return!0;return!1},BF=(e,n)=>$F(e,n,(o,r)=>o===r.keyCode&&!Cn.modifierPressed(r)),HG=(e,n)=>$F(e,n,(o,r)=>o.charCodeAt(0)===r.charCode),VG=e=>{const n=[",",".",";",":","!","?"],o=[32],r=()=>Ad(uT(e),dT(e)),l=()=>mT(e);e.on("keydown",v=>{if(v.keyCode===13&&!Cn.modifierPressed(v)&&e.selection.isCollapsed()){const C=r();(C.inlinePatterns.length>0||C.blockPatterns.length>0||l())&&hM(e,C)&&v.preventDefault()}},!0);const f=()=>{if(e.selection.isCollapsed()){const v=r();(v.inlinePatterns.length>0||l())&&FG(e,v)}};e.on("keyup",v=>{BF(o,v)&&f()}),e.on("keypress",v=>{HG(n,v)&&Md.setEditorTimeout(e,f)})},UG=e=>{VG(e)},zG=e=>{const n=pe.each,o=Cn.BACKSPACE,r=Cn.DELETE,l=e.dom,f=e.selection,v=e.parser,C=Do.browser,x=C.isFirefox(),L=C.isChromium()||C.isSafari(),Z=Do.deviceType.isiPhone()||Do.deviceType.isiPad(),j=Do.os.isMacOS()||Do.os.isiOS(),ne=(un,Vn)=>{try{e.getDoc().execCommand(un,!1,String(Vn))}catch{}},Ce=un=>un.isDefaultPrevented(),xe=()=>{const un=zn=>{const hn=l.create("body"),Wo=zn.cloneContents();return hn.appendChild(Wo),f.serializer.serialize(hn,{format:"html"})},Vn=zn=>{const hn=un(zn),Wo=l.createRng();Wo.selectNode(e.getBody());const Go=un(Wo);return hn===Go};e.on("keydown",zn=>{const hn=zn.keyCode;if(!Ce(zn)&&(hn===r||hn===o)&&e.selection.isEditable()){const Wo=e.selection.isCollapsed(),Go=e.getBody();if(Wo&&!l.isEmpty(Go)||!Wo&&!Vn(e.selection.getRng()))return;zn.preventDefault(),e.setContent(""),Go.firstChild&&l.isBlock(Go.firstChild)?e.selection.setCursorLocation(Go.firstChild,0):e.selection.setCursorLocation(Go,0),e.nodeChanged()}})},he=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},Se=()=>{e.inline||l.bind(e.getDoc(),"mousedown mouseup",un=>{let Vn;if(un.target===e.getDoc().documentElement)if(Vn=f.getRng(),e.getBody().focus(),un.type==="mousedown"){if(wl(Vn.startContainer))return;f.placeCaretAt(un.clientX,un.clientY)}else f.setRng(Vn)})},Ve=()=>{e.on("keydown",un=>{if(!Ce(un)&&un.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(f.isCollapsed()&&f.getRng().startOffset===0){const Vn=f.getNode(),zn=Vn.previousSibling;if(Vn.nodeName==="HR"){l.remove(Vn),un.preventDefault();return}zn&&zn.nodeName&&zn.nodeName.toLowerCase()==="hr"&&(l.remove(zn),un.preventDefault())}}})},$e=()=>{Range.prototype.getClientRects||e.on("mousedown",un=>{if(!Ce(un)&&un.target.nodeName==="HTML"){const Vn=e.getBody();Vn.blur(),Md.setEditorTimeout(e,()=>{Vn.focus()})}})},je=()=>{const un=L0(e);e.on("click",Vn=>{const zn=Vn.target;/^(IMG|HR)$/.test(zn.nodeName)&&l.isEditable(zn.parentNode)&&(Vn.preventDefault(),e.selection.select(zn),e.nodeChanged()),zn.nodeName==="A"&&l.hasClass(zn,un)&&zn.childNodes.length===0&&l.isEditable(zn.parentNode)&&(Vn.preventDefault(),f.select(zn))})},rt=()=>{const un=()=>{const zn=l.getAttribs(f.getStart().cloneNode(!1));return()=>{const hn=f.getStart();hn!==e.getBody()&&(l.setAttrib(hn,"style",null),n(zn,Wo=>{hn.setAttributeNode(Wo.cloneNode(!0))}))}},Vn=()=>!f.isCollapsed()&&l.getParent(f.getStart(),l.isBlock)!==l.getParent(f.getEnd(),l.isBlock);e.on("keypress",zn=>{let hn;return!Ce(zn)&&(zn.keyCode===8||zn.keyCode===46)&&Vn()?(hn=un(),e.getDoc().execCommand("delete",!1),hn(),zn.preventDefault(),!1):!0}),l.bind(e.getDoc(),"cut",zn=>{if(!Ce(zn)&&Vn()){const hn=un();Md.setEditorTimeout(e,()=>{hn()})}})},St=()=>{e.on("keydown",un=>{if(!Ce(un)&&un.keyCode===o&&f.isCollapsed()&&f.getRng().startOffset===0){const Vn=f.getNode().previousSibling;if(Vn&&Vn.nodeName&&Vn.nodeName.toLowerCase()==="table")return un.preventDefault(),!1}return!0})},on=()=>{e.on("keydown",un=>{if(Ce(un)||un.keyCode!==Cn.BACKSPACE)return;let Vn=f.getRng();const zn=Vn.startContainer,hn=Vn.startOffset,Wo=l.getRoot();let Go=zn;if(!(!Vn.collapsed||hn!==0)){for(;Go.parentNode&&Go.parentNode.firstChild===Go&&Go.parentNode!==Wo;)Go=Go.parentNode;Go.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,Go),Vn=l.createRng(),Vn.setStart(zn,0),Vn.setEnd(zn,0),f.setRng(Vn))}})},jt=()=>{const un=()=>{ne("StyleWithCSS",!1),ne("enableInlineTableEditing",!1),G_(e)||ne("enableObjectResizing",!1)};ng(e)||e.on("BeforeExecCommand mousedown",un)},ft=()=>{const un=()=>{n(l.select("a:not([data-mce-block])"),Vn=>{var zn;let hn=Vn.parentNode;const Wo=l.getRoot();if((hn==null?void 0:hn.lastChild)===Vn){for(;hn&&!l.isBlock(hn);){if(((zn=hn.parentNode)===null||zn===void 0?void 0:zn.lastChild)!==hn||hn===Wo)return;hn=hn.parentNode}l.add(hn,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",Vn=>{(Vn.type==="setcontent"||Vn.command==="mceInsertLink")&&un()})},dt=()=>{e.on("init",()=>{ne("DefaultParagraphSeparator",yu(e))})},bn=un=>{const Vn=un.getBody(),zn=un.selection.getRng();return zn.startContainer===zn.endContainer&&zn.startContainer===Vn&&zn.startOffset===0&&zn.endOffset===Vn.childNodes.length},Ln=()=>{e.on("keyup focusin mouseup",un=>{!Cn.modifierPressed(un)&&!bn(e)&&f.normalize()},!0)},Gn=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},wo=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},Qo=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",un=>{let Vn;un.target.nodeName==="HTML"&&(Vn=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Vn),e.selection.normalize(),e.nodeChanged())}))},Ds=()=>{j&&e.on("keydown",un=>{Cn.metaKeyPressed(un)&&!un.shiftKey&&(un.keyCode===37||un.keyCode===39)&&(un.preventDefault(),e.selection.getSel().modify("move",un.keyCode===37?"backward":"forward","lineboundary"))})},ar=()=>{e.on("click",un=>{let Vn=un.target;do if(Vn.tagName==="A"){un.preventDefault();return}while(Vn=Vn.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Ri=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",un=>{un.preventDefault()})})},kc=()=>{v.addNodeFilter("br",un=>{let Vn=un.length;for(;Vn--;)un[Vn].attr("class")==="Apple-interchange-newline"&&un[Vn].remove()})},Ka=Ot,Gt=()=>{if(!x||e.removed)return!1;const un=e.selection.getSel();return!un||!un.rangeCount||un.rangeCount===0},Rn=()=>{L&&(Se(),je(),Ri(),he(),Z&&(wo(),Qo(),ar())),x&&($e(),jt(),Gn(),Ds())},hs=()=>{on(),xe(),Do.windowsPhone||Ln(),L&&(Se(),je(),dt(),Ri(),St(),kc(),Z?(wo(),Qo(),ar()):he()),x&&(Ve(),$e(),rt(),jt(),ft(),Gn(),Ds(),St())};return Np(e)?Rn():hs(),{refreshContentEditable:Ka,isHidden:Gt}},mM=sr.DOM,WG=(e,n)=>{const o=Oe.fromDom(e.getBody()),r=Zo(so(o)),l=Oe.fromTag("style");ho(l,"type","text/css"),Er(l,Oe.fromText(n)),Er(r,l),e.on("remove",()=>{wr(l)})},GG=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,cO=e=>ks(e,n=>ht(n)===!1),FF=e=>{const n=e.options.get,o=e.editorUpload.blobCache;return cO({allow_conditional_comments:n("allow_conditional_comments"),allow_html_data_urls:n("allow_html_data_urls"),allow_svg_data_urls:n("allow_svg_data_urls"),allow_html_in_named_anchor:n("allow_html_in_named_anchor"),allow_script_urls:n("allow_script_urls"),allow_unsafe_link_target:n("allow_unsafe_link_target"),convert_fonts_to_spans:n("convert_fonts_to_spans"),fix_list_elements:n("fix_list_elements"),font_size_legacy_values:n("font_size_legacy_values"),forced_root_block:n("forced_root_block"),forced_root_block_attrs:n("forced_root_block_attrs"),preserve_cdata:n("preserve_cdata"),remove_trailing_brs:n("remove_trailing_brs"),inline_styles:n("inline_styles"),root_name:GG(e),sanitize:n("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},lO=e=>{const n=e.options.get;return cO({custom_elements:n("custom_elements"),extended_valid_elements:n("extended_valid_elements"),invalid_elements:n("invalid_elements"),invalid_styles:n("invalid_styles"),schema:n("schema"),valid_children:n("valid_children"),valid_classes:n("valid_classes"),valid_elements:n("valid_elements"),valid_styles:n("valid_styles"),verify_html:n("verify_html"),padd_empty_block_inline_children:n("format_empty_lines")})},qG=e=>{const n=e.options.get;return{...FF(e),...lO(e),...cO({url_converter:n("url_converter"),url_converter_scope:n("url_converter_scope"),element_format:n("element_format"),entities:n("entities"),entity_encoding:n("entity_encoding"),indent:n("indent"),indent_after:n("indent_after"),indent_before:n("indent_before")})}},jG=e=>{const n=Mb(FF(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",(o,r)=>{const l=e.dom,f="data-mce-"+r;let v=o.length;for(;v--;){const C=o[v];let x=C.attr(r);if(x&&!C.attr(f)){if(x.indexOf("data:")===0||x.indexOf("blob:")===0)continue;r==="style"?(x=l.serializeStyle(l.parseStyle(x),C.name),x.length||(x=null),C.attr(f,x),C.attr(r,x)):r==="tabindex"?(C.attr(f,x),C.attr(r,null)):C.attr(f,e.convertURL(x,r,C.name))}}}),n.addNodeFilter("script",o=>{let r=o.length;for(;r--;){const l=o[r],f=l.attr("type")||"no/type";f.indexOf("mce-")!==0&&l.attr("type","mce-"+f)}}),eE(e)&&n.addNodeFilter("#cdata",o=>{var r;let l=o.length;for(;l--;){const f=o[l];f.type=8,f.name="#comment",f.value="[CDATA["+e.dom.encode((r=f.value)!==null&&r!==void 0?r:"")+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let r=o.length;const l=e.schema.getNonEmptyElements();for(;r--;){const f=o[r];f.isEmpty(l)&&f.getAll("br").length===0&&f.append(new Ju("br",1))}}),n},ZG=e=>{const n=cT(e);n&&Md.setEditorTimeout(e,()=>{let o;n===!0?o=e:o=e.editorManager.get(n),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},YG=e=>{const n=e.dom.getRoot();!e.inline&&(!NT(e)||e.selection.getStart(!0)===n)&&ei(n).each(o=>{const r=o.getNode(),l=Dr(r)?ei(r).getOr(o):o;e.selection.setRng(l.toRange())})},KG=e=>{e.bindPendingEventDelegates(),e.initialized=!0,rr(e),e.focus(!0),YG(e),e.nodeChanged({initial:!0});const n=X_(e);ge(n)&&n.call(e,e),ZG(e)},HF=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,uO=(e,n,o)=>{const r=[HF(e).loadAll(n)];return e.inline?r:r.concat([e.ui.styleSheetLoader.loadAll(o)])},VF=e=>{const n=HF(e),o=pp(e),r=e.contentCSS,l=()=>{n.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(o)},f=()=>{e.removed?l():e.on("remove",l)};if(e.contentStyles.length>0){let x="";pe.each(e.contentStyles,L=>{x+=L+`\r
`}),e.dom.addStyle(x)}const v=Promise.all(uO(e,r,o)).then(f).catch(f),C=W_(e);return C&&WG(e,C),v},XG=e=>{const n=e.getDoc(),o=e.getBody();qT(e),lT(e)||(n.body.spellcheck=!1,mM.setAttrib(o,"spellcheck","false")),e.quirks=zG(e),jT(e);const r=tT(e);r!==void 0&&(o.dir=r);const l=Od(e);l&&e.on("BeforeSetContent",f=>{pe.each(l,v=>{f.content=f.content.replace(v,C=>"<!--mce:protected "+escape(C)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",f=>{e.composing=f.type==="compositionstart"})},QG=e=>{Np(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},gM=e=>{e.removed!==!0&&(QG(e),KG(e))},UF=e=>{const n=e.getElement();let o=e.getDoc();e.inline&&(mM.addClass(n,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=n,e.contentAreaContainer=n);const r=e.getBody();r.disabled=!0,e.readonly=ng(e),e.readonly||(e.inline&&mM.getStyle(r,"position",!0)==="static"&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,e.editorUpload=yD(e),e.schema=Yl(lO(e)),e.dom=sr(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:_s(e),referrerPolicy:eg(e),onSetAttrib:v=>{e.dispatch("SetAttrib",v)}}),e.parser=jG(e),e.serializer=gD(qG(e),e),e.selection=cv(e.dom,e.getWin(),e.serializer,e),e.annotator=ly(e),e.formatter=iS(e),e.undoManager=TD(e),e._nodeChangeDispatcher=new v9(e),e._selectionOverrides=EF(e),o3(e),YB(e),i3(e),Np(e)||(nG(e),UG(e));const l=p9(e);rz(e,l),lz(e),V7(e),ZB(e);const f=H8(e);XG(e),f.fold(()=>{VF(e).then(()=>gM(e))},v=>{e.setProgressState(!0),VF(e).then(()=>{v().then(C=>{e.setProgressState(!1),gM(e),am(e)},C=>{e.notificationManager.open({type:"error",text:String(C)}),gM(e),am(e)})})})},JG=It,eq=(e,n,o)=>i1(e,n,JG,o),pM=sr.DOM,tq=(e,n,o,r)=>{const l=Oe.fromTag("iframe");return r.each(f=>ho(l,"tabindex",f)),zr(l,o),zr(l,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),fd(l,"tox-edit-area__iframe"),l},zF=e=>{let n=F_(e)+"<html><head>";ya(e)!==e.documentBaseUrl&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=Jw(e),r=H_(e),l=e.translate($0(e));return V_(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+V_(e)+'" />'),n+=`</head><body id="${o}" class="mce-content-body ${r}" data-id="${e.id}" aria-label="${l}"><br></body></html>`,n},nq=(e,n)=>{const o=e.translate("Rich Text Area"),r=oc(Oe.fromDom(e.getElement()),"tabindex").bind(cd),l=tq(e.id,o,kt(e),r).dom;l.onload=()=>{l.onload=null,e.dispatch("load")},e.contentAreaContainer=n.iframeContainer,e.iframeElement=l,e.iframeHTML=zF(e),pM.add(n.iframeContainer,l)},WF=e=>{const n=e.iframeElement,o=eq(Oe.fromDom(n),"load",()=>{o.unbind(),e.contentDocument=n.contentDocument,UF(e)});if(Do.browser.isFirefox()){const r=e.getDoc();r.open(),r.write(e.iframeHTML),r.close()}else n.srcdoc=e.iframeHTML},oq=(e,n)=>{nq(e,n),n.editorContainer&&(n.editorContainer.style.display=e.orgDisplay,e.hidden=pM.isHidden(n.editorContainer)),e.getElement().style.display="none",pM.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,WF(e)},GF=sr.DOM,qF=(e,n,o)=>{const r=cm.get(o),l=cm.urls[o]||e.documentBaseUrl.replace(/\/$/,"");if(o=pe.trim(o),r&&pe.inArray(n,o)===-1){if(e.plugins[o])return;try{const f=r(e,l)||{};e.plugins[o]=f,ge(f.init)&&(f.init(e,l),n.push(o))}catch(f){X4(e,o,f)}}},FS=e=>e.replace(/^\-/,""),sq=e=>{const n=[];mt(P0(e),o=>{qF(e,n,FS(o))})},jF=e=>{const n=pe.trim(tb(e)),o=e.ui.registry.getAll().icons,r={...jx.get("default").icons,...jx.get(n).icons};an(r,(l,f)=>{qn(o,f)||e.ui.registry.addIcon(f,l)})},rq=e=>{const n=mf(e);if(oe(n)){const o=Pp.get(n);e.theme=o(e,Pp.urls[n])||{},ge(e.theme.init)&&e.theme.init(e,Pp.urls[n]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},iq=e=>{const n=_u(e),o=JE.get(n);e.model=o(e,JE.urls[n])},aq=e=>{const n=e.theme.renderUI;return n?n():bM(e)},cq=e=>{const n=e.getElement(),r=mf(e)(e,n);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:n.offsetHeight,r},vM=(e,n)=>({editorContainer:e,iframeContainer:n,api:{}}),lq=e=>{const n=GF.create("div");return GF.insertAfter(n,e),vM(n,n)},bM=e=>{const n=e.getElement();return e.inline?vM(null):lq(n)},uq=e=>{const n=e.getElement();return e.orgDisplay=n.style.display,oe(mf(e))?aq(e):ge(mf(e))?cq(e):bM(e)},dq=(e,n)=>{const o={show:te.from(n.show).getOr(Ot),hide:te.from(n.hide).getOr(Ot),isEnabled:te.from(n.isEnabled).getOr(It),setEnabled:r=>{e.mode.isReadOnly()||te.from(n.setEnabled).each(l=>l(r))}};e.ui={...e.ui,...o}},fq=async e=>{e.dispatch("ScriptsLoaded"),jF(e),rq(e),iq(e),sq(e);const n=await uq(e);dq(e,te.from(n.api).getOr({})),e.editorContainer=n.editorContainer,O7(e),e.inline?UF(e):oq(e,{editorContainer:n.editorContainer,iframeContainer:n.iframeContainer})},qy=sr.DOM,ZF=e=>e.charAt(0)==="-",hq=(e,n)=>{const o=gr(n),r=z_(n);if(!Td.hasCode(o)&&o!=="en"){const l=Cs(r)?r:`${n.editorManager.baseURL}/langs/${o}.js`;e.add(l).catch(()=>{Y4(n,l,o)})}},mq=(e,n)=>{const o=mf(e);if(oe(o)&&!ZF(o)&&!qn(Pp.urls,o)){const r=rb(e),l=r?e.documentBaseURI.toAbsolute(r):`themes/${o}/theme${n}.js`;Pp.load(o,l).catch(()=>{Qx(e,l,o)})}},gq=(e,n)=>{const o=_u(e);if(o!=="plugin"&&!qn(JE.urls,o)){const r=Zs(e),l=oe(r)?e.documentBaseURI.toAbsolute(r):`models/${o}/model${n}.js`;JE.load(o,l).catch(()=>{K4(e,l,o)})}},pq=e=>te.from(nb(e)).filter(Cs).map(n=>({url:n,name:te.none()})),yM=(e,n,o)=>te.from(n).filter(r=>Cs(r)&&!jx.has(r)).map(r=>({url:`${e.editorManager.baseURL}/icons/${r}/icons${o}.js`,name:te.some(r)})),_M=(e,n,o)=>{const r=yM(n,"default",o),l=pq(n).orThunk(()=>yM(n,tb(n),""));mt(st([r,l]),f=>{e.add(f.url).catch(()=>{Z4(n,f.url,f.name.getOrUndefined())})})},YF=(e,n)=>{const o=(r,l)=>{cm.load(r,l).catch(()=>{j4(e,l,r)})};an(og(e),(r,l)=>{o(l,r),e.options.set("plugins",P0(e).concat(l))}),mt(P0(e),r=>{r=pe.trim(r),r&&!cm.urls[r]&&!ZF(r)&&o(r,`plugins/${r}/plugin${n}.js`)})},KF=e=>{const n=mf(e);return!oe(n)||Ne(Pp.get(n))},vq=e=>{const n=_u(e);return Ne(JE.get(n))},bq=(e,n)=>{const o=jf.ScriptLoader,r=()=>{!e.removed&&KF(e)&&vq(e)&&fq(e)};mq(e,n),gq(e,n),hq(o,e),_M(o,e,n),YF(e,n),o.loadQueue().then(r,r)},yq=(e,n)=>m1.forElement(e,{contentCssCors:k0(n),referrerPolicy:eg(n)}),XF=e=>{const n=e.id;Td.setCode(gr(e));const o=()=>{qy.unbind(window,"ready",o),e.render()};if(!uf.Event.domLoaded){qy.bind(window,"ready",o);return}if(!e.getElement())return;const r=Oe.fromDom(e.getElement()),l=Ra(r);e.on("remove",()=>{pi(r.dom.attributes,v=>fr(r,v.name)),zr(r,l)}),e.ui.styleSheetLoader=yq(r,e),M0(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const f=e.getElement().form||qy.getParent(n,"form");f&&(e.formElement=f,Y_(e)&&!Dh(e.getElement())&&(qy.insertAfter(qy.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=v=>{e.dispatch(v.type,v)},qy.bind(f,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),fc(e)&&!f.submit.nodeType&&!f.submit.length&&!f._mceOldSubmit&&(f._mceOldSubmit=f.submit,f.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),f._mceOldSubmit(f)))),e.windowManager=bD(e),e.notificationManager=Pb(e),nE(e)&&e.on("GetContent",v=>{v.save&&(v.content=qy.encode(v.content))}),Ql(e)&&e.on("submit",()=>{e.initialized&&e.save()}),nT(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),bq(e,e.suffix)},QF=(e,n)=>({sections:et(e),options:et(n)}),JF=Hs().deviceType,e5=JF.isPhone(),EM=JF.isTablet(),Ub=e=>{if(Et(e))return[];{const n=F(e)?e:e.split(/[ ,]/),o=Yt(n,uu);return Lt(o,Cs)}},dO=(e,n)=>{const o=au(n,(r,l)=>kn(e,l));return QF(o.t,o.f)},hv=(e,n,o={})=>{const r=e.sections(),l=Xs(r,n).getOr({});return pe.extend({},o,l)},vw=(e,n)=>qn(e.sections(),n),bw=(e,n)=>vw(e,n)?e.sections()[n]:{},t5=(e,n)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Xs(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...n?{menubar:!1}:{}}),_q=(e,n)=>{var o;const r=(o=n.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?pe.extend({},e.external_plugins,r):r},Eq=(e,n)=>[...Ub(e),...Ub(n)],n5=(e,n,o,r)=>e&&vw(n,"mobile")?r:o,wq=(e,n,o,r)=>{const l=Ub(o.forced_plugins),f=Ub(r.plugins),v=bw(n,"mobile"),C=v.plugins?Ub(v.plugins):f,x=n5(e,n,f,C),L=Eq(l,x);return pe.extend(r,{forced_plugins:l,plugins:L})},wM=(e,n)=>e&&vw(n,"mobile"),fO=(e,n,o,r,l)=>{var f;const v=e?{mobile:t5((f=l.mobile)!==null&&f!==void 0?f:{},n)}:{},C=dO(["mobile"],A2(v,l)),x=pe.extend(o,r,C.options(),wM(e,C)?hv(C,"mobile"):{},{external_plugins:_q(r,C.options())});return wq(e,C,r,x)},zb=(e,n)=>fO(e5||EM,e5,n,e,n),jy=(e,n)=>KY(e,n),o5=e=>{const n=(r,l)=>{e.formatter.toggle(r,l),e.nodeChanged()},o=r=>()=>{mt("left,center,right,justify".split(","),l=>{r!==l&&e.formatter.remove("align"+l)}),r!=="none"&&n("align"+r)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},Tq=e=>{const n=o=>()=>{const r=e.selection,l=r.isCollapsed()?[e.dom.getParent(r.getNode(),e.dom.isBlock)]:r.getSelectedBlocks();return ko(l,f=>Ne(e.formatter.matchNode(f,o)))};e.editorCommands.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify")},"state")},Cq=e=>{o5(e),Tq(e)},Sq=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":n=>{const o=e.getDoc();let r;try{o.execCommand(n)}catch{r=!0}if(n==="paste"&&!o.queryCommandEnabled(n)&&(r=!0),r||!o.queryCommandSupported(n)){let l=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Do.os.isMacOS()||Do.os.isiOS())&&(l=l.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:l,type:"error"})}}})},Aq=(e,n,o)=>{const r=Oe.fromDom(e.getRoot());return BE(r,Ye.fromRangeStart(n))?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),_C(r,Ye.fromRangeEnd(n))?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},xq=e=>{if(typeof e!="string"){const n=pe.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},Oq=(e,n)=>{const o=e.selection,r=e.dom;return/^ | $/.test(n)?Aq(r,o.getRng(),n):n},HS=(e,n)=>{if(e.selection.isEditable()){const{content:o,details:r}=xq(n);eD(e,{...r,content:Oq(e,o),format:"html",set:!1,selection:!0}).each(l=>{const f=J8(e,l.content,r);ZC(e,f,l),e.addVisual()})}},Rq=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const n=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(n)},insertImage:(n,o,r)=>{HS(e,e.dom.createHTML("img",{src:r}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(n,o,r)=>{HS(e,e.dom.encode(r))},insertHTML:(n,o,r)=>{HS(e,r)},mceInsertContent:(n,o,r)=>{HS(e,r)},mceSetContent:(n,o,r)=>{e.setContent(r)},mceReplaceContent:(n,o,r)=>{e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent("")}})},Iq={"font-size":"size","font-family":"face"},Dq=Fc("font"),SK=(e,n,o)=>{const r=f=>Na(f,e).orThunk(()=>Dq(f)?Xs(Iq,e).bind(v=>oc(f,v)):te.none()),l=f=>ns(Oe.fromDom(n),f);return yx(Oe.fromDom(o),f=>r(f),l)},Nq=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),TM=(e,n)=>te.from(sr.DOM.getStyle(n,e,!0)),s5=e=>(n,o)=>te.from(o).map(Oe.fromDom).filter(is).bind(r=>SK(e,n,r.dom).or(TM(e,r.dom))).getOr(""),Mq=s5("font-size"),r5=P(Nq,s5("font-family")),kq=e=>ei(e.getBody()).bind(n=>{const o=n.container();return te.from(Ut(o)?o.parentNode:o)}),i5=e=>te.from(e.selection.getRng()).bind(n=>{const o=e.getBody();return n.startContainer===o&&n.startOffset===0?te.none():te.from(e.selection.getStart(!0))}),Pq=(e,n)=>i5(e).orThunk(Ge(kq,e)).map(Oe.fromDom).filter(is).bind(n),VS=(e,n)=>Pq(e,Rt(te.some,n)),a5=(e,n)=>{if(/^[0-9.]+$/.test(n)){const o=parseInt(n,10);if(o>=1&&o<=7){const r=gT(e),l=pT(e);return l.length>0?l[o-1]||n:r[o-1]||n}else return n}else return n},Lq=e=>{const n=e.split(/\s*,\s*/);return Yt(n,o=>o.indexOf(" ")!==-1&&!(_i(o,'"')||_i(o,"'"))?`'${o}'`:o).join(",")},$q=(e,n)=>{const o=a5(e,n);e.formatter.toggle("fontname",{value:Lq(o)}),e.nodeChanged()},Bq=e=>VS(e,n=>r5(e.getBody(),n.dom)).getOr(""),c5=(e,n)=>{e.formatter.toggle("fontsize",{value:a5(e,n)}),e.nodeChanged()},CM=e=>VS(e,n=>Mq(e.getBody(),n.dom)).getOr(""),l5=e=>VS(e,n=>{const o=Oe.fromDom(e.getBody()),r=yx(n,f=>Na(f,"line-height"),Ge(ns,o)),l=()=>{const f=parseFloat($u(n,"line-height")),v=parseFloat($u(n,"font-size"));return String(f/v)};return r.getOrThunk(l)}).getOr(""),SM=(e,n)=>{e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},Fq=e=>{const n=(o,r)=>{e.formatter.toggle(o,r),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{n(o)},"ForeColor,HiliteColor":(o,r,l)=>{n(o,{value:l})},BackColor:(o,r,l)=>{n("hilitecolor",{value:l})},FontName:(o,r,l)=>{$q(e,l)},FontSize:(o,r,l)=>{c5(e,l)},LineHeight:(o,r,l)=>{SM(e,l)},Lang:(o,r,l)=>{var f;n(o,{value:l.code,customValue:(f=l.customCode)!==null&&f!==void 0?f:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{n("blockquote")},FormatBlock:(o,r,l)=>{n(oe(l)?l:"p")},mceToggleFormat:(o,r,l)=>{n(l)}})},AK=e=>{const n=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>n(o),mceBlockQuote:()=>n("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>Bq(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>CM(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>l5(e))},xK=e=>{Fq(e),AK(e)},Hq=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},u5=e=>{e.editorCommands.addCommands({Indent:()=>{p2(e)},Outdent:()=>{sN(e)}}),e.editorCommands.addCommands({Outdent:()=>nz(e)},"state")},Vq=e=>{const n=(o,r,l)=>{const f=oe(l)?{href:l}:l,v=e.dom.getParent(e.selection.getNode(),"a");Be(f)&&oe(f.href)&&(f.href=f.href.replace(/ /g,"%20"),(!v||!f.href)&&e.formatter.remove("link"),f.href&&e.formatter.apply("link",f,v))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")},mceInsertLink:n,createLink:n})},Uq=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":n=>{e.getDoc().execCommand(n);const o=e.dom.getParent(e.selection.getNode(),"ol,ul");if(o){const r=o.parentNode;if(r&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)){const l=e.selection.getBookmark();e.dom.split(r,o),e.selection.moveToBookmark(l)}}}})},zq=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":n=>{const o=e.dom.getParent(e.selection.getNode(),"ul,ol");return o&&(n==="insertunorderedlist"&&o.tagName==="UL"||n==="insertorderedlist"&&o.tagName==="OL")}},"state")},OK=e=>{Uq(e),zq(e)},RK=e=>{e.editorCommands.addCommands({insertParagraph:()=>{hw(lB,e)},mceInsertNewLine:(n,o,r)=>{U2(e,r)},InsertLineBreak:(n,o,r)=>{hw(IS,e)}})},d5=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(n,o,r)=>{let l=0;e.dom.getParent(e.selection.getNode(),f=>nn(f)&&l++===r?(e.selection.select(f),!1):!0,e.getBody())},mceSelectNode:(n,o,r)=>{e.selection.select(r)},selectAll:()=>{const n=e.dom.getParent(e.selection.getStart(),ts);if(n){const o=e.dom.createRng();o.selectNodeContents(n),e.selection.setRng(o)}}})},f5=e=>{e.editorCommands.addCommands({mceRemoveNode:(n,o,r)=>{const l=r??e.selection.getNode();if(l!==e.getBody()){const f=e.selection.getBookmark();e.dom.remove(l,!0),e.selection.moveToBookmark(f)}},mcePrint:()=>{e.getWin().print()},mceFocus:(n,o,r)=>{n6(e,r===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},Wq=e=>{Cq(e),Sq(e),Hq(e),d5(e),Rq(e),Vq(e),u5(e),RK(e),OK(e),xK(e),f5(e)},Gq=["toggleview"],h5=e=>kn(Gq,e.toLowerCase());class qq{constructor(n){this.commands={state:{},exec:{},value:{}},this.editor=n}execCommand(n,o=!1,r,l){const f=this.editor,v=n.toLowerCase(),C=l==null?void 0:l.skip_focus;if(f.removed||(v!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(v)&&!C?f.focus():Dl(f)),f.dispatch("BeforeExecCommand",{command:n,ui:o,value:r}).isDefaultPrevented()))return!1;const L=this.commands.exec[v];return ge(L)?(L(v,o,r),f.dispatch("ExecCommand",{command:n,ui:o,value:r}),!0):!1}queryCommandState(n){if(!h5(n)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=n.toLowerCase(),r=this.commands.state[o];return ge(r)?r(o):!1}queryCommandValue(n){if(!h5(n)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=n.toLowerCase(),r=this.commands.value[o];return ge(r)?r(o):""}addCommands(n,o="exec"){const r=this.commands;an(n,(l,f)=>{mt(f.toLowerCase().split(","),v=>{r[o][v]=l})})}addCommand(n,o,r){const l=n.toLowerCase();this.commands.exec[l]=(f,v,C)=>o.call(r??this.editor,v,C)}queryCommandSupported(n){const o=n.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(n,o,r){this.commands.state[n.toLowerCase()]=()=>o.call(r??this.editor)}addQueryValueHandler(n,o,r){this.commands.value[n.toLowerCase()]=()=>o.call(r??this.editor)}}const yw="data-mce-contenteditable",IK=(e,n,o)=>{hu(e,n)&&!o?sc(e,n):o&&fd(e,n)},AM=(e,n,o)=>{try{e.getDoc().execCommand(n,!1,String(o))}catch{}},xM=(e,n)=>{e.dom.contentEditable=n?"true":"false"},jq=e=>{mt(Qr(e,'*[contenteditable="true"]'),n=>{ho(n,yw,"true"),xM(n,!1)})},Zy=e=>{mt(Qr(e,`*[${yw}="true"]`),n=>{fr(n,yw),xM(n,!0)})},OM=e=>{te.from(e.selection.getNode()).each(n=>{n.removeAttribute("data-mce-selected")})},hO=e=>{e.selection.setRng(e.selection.getRng())},m5=(e,n)=>{const o=Oe.fromDom(e.getBody());IK(o,"mce-content-readonly",n),n?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),OM(e),e.readonly=!0,xM(o,!1),jq(o)):(e.readonly=!1,xM(o,!0),Zy(o),AM(e,"StyleWithCSS",!1),AM(e,"enableInlineTableEditing",!1),AM(e,"enableObjectResizing",!1),Tk(e)&&e.focus(),hO(e),e.nodeChanged())},Wb=e=>e.readonly,RM=e=>{e.parser.addAttributeFilter("contenteditable",n=>{Wb(e)&&mt(n,o=>{o.attr(yw,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(yw,n=>{Wb(e)&&mt(n,o=>{o.attr("contenteditable",o.attr(yw))})}),e.serializer.addTempAttr(yw)},Zq=e=>{e.serializer?RM(e):e.on("PreInit",()=>{RM(e)})},Yq=e=>e.type==="click",Kq=["copy"],Xq=e=>kn(Kq,e.type),Yy=(e,n)=>Vl(n,"a",r=>ns(r,Oe.fromDom(e.getBody()))).bind(r=>oc(r,"href")),Qq=(e,n)=>{if(Yq(n)&&!Cn.metaKeyPressed(n)){const o=Oe.fromDom(n.target);Yy(e,o).each(r=>{if(n.preventDefault(),/^#/.test(r)){const l=e.dom.select(`${r},[name="${Xc(r,"#")}"]`);l.length&&e.selection.scrollIntoView(l[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else Xq(n)&&e.dispatch(n.type,n)},g5=e=>{e.on("ShowCaret",n=>{Wb(e)&&n.preventDefault()}),e.on("ObjectSelected",n=>{Wb(e)&&n.preventDefault()})},Jq=pe.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class _w{constructor(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Je}static isNative(n){return!!Jq[n.toLowerCase()]}fire(n,o){return this.dispatch(n,o)}dispatch(n,o){const r=n.toLowerCase(),l=ap(r,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(l);const f=this.bindings[r];if(f)for(let v=0,C=f.length;v<C;v++){const x=f[v];if(!x.removed){if(x.once&&this.off(r,x.func),l.isImmediatePropagationStopped())return l;if(x.func.call(this.scope,l)===!1)return l.preventDefault(),l}}return l}on(n,o,r,l){if(o===!1&&(o=Je),o){const f={func:o,removed:!1};l&&pe.extend(f,l);const v=n.toLowerCase().split(" ");let C=v.length;for(;C--;){const x=v[C];let L=this.bindings[x];L||(L=[],this.toggleEvent(x,!0)),r?L=[f,...L]:L=[...L,f],this.bindings[x]=L}}return this}off(n,o){if(n){const r=n.toLowerCase().split(" ");let l=r.length;for(;l--;){const f=r[l];let v=this.bindings[f];if(!f)return an(this.bindings,(C,x)=>{this.toggleEvent(x,!1),delete this.bindings[x]}),this;if(v){if(!o)v.length=0;else{const C=vi(v,x=>x.func===o);v=C.fail,this.bindings[f]=v,mt(C.pass,x=>{x.removed=!0})}v.length||(this.toggleEvent(n,!1),delete this.bindings[f])}}}else an(this.bindings,(r,l)=>{this.toggleEvent(l,!1)}),this.bindings={};return this}once(n,o,r){return this.on(n,o,r,{once:!0})}has(n){n=n.toLowerCase();const o=this.bindings[n];return!(!o||o.length===0)}}const US=e=>(e._eventDispatcher||(e._eventDispatcher=new _w({scope:e,toggleEvent:(n,o)=>{_w.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,o)}})),e._eventDispatcher),IM={fire(e,n,o){return this.dispatch(e,n,o)},dispatch(e,n,o){const r=this;if(r.removed&&e!=="remove"&&e!=="detach")return ap(e.toLowerCase(),n??{},r);const l=US(r).dispatch(e,n);if(o!==!1&&r.parent){let f=r.parent();for(;f&&!l.isPropagationStopped();)f.dispatch(e,l,!1),f=f.parent?f.parent():void 0}return l},on(e,n,o){return US(this).on(e,n,o)},off(e,n){return US(this).off(e,n)},once(e,n){return US(this).once(e,n)},hasEventListeners(e){return US(this).has(e)}},mO=sr.DOM;let Gb;const gO=(e,n)=>{if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(n))return e.getDoc().documentElement;const o=N0(e);return o?(e.eventRoot||(e.eventRoot=mO.select(o)[0]),e.eventRoot):e.getBody()},ej=e=>!e.hidden&&!Wb(e),p5=(e,n,o)=>{ej(e)?e.dispatch(n,o):Wb(e)&&Qq(e,o)},v5=(e,n)=>{if(e.delegates||(e.delegates={}),e.delegates[n]||e.removed)return;const o=gO(e,n);if(N0(e)){if(Gb||(Gb={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||Gb&&(an(Gb,(l,f)=>{e.dom.unbind(gO(e,f))}),Gb=null)})),Gb[n])return;const r=l=>{const f=l.target,v=e.editorManager.get();let C=v.length;for(;C--;){const x=v[C].getBody();(x===f||mO.isChildOf(f,x))&&p5(v[C],n,l)}};Gb[n]=r,mO.bind(o,n,r)}else{const r=l=>{p5(e,n,l)};mO.bind(o,n,r),e.delegates[n]=r}},pO={...IM,bindPendingEventDelegates(){const e=this;pe.each(e._pendingNativeEvents,n=>{v5(e,n)})},toggleNativeEvent(e,n){const o=this;e==="focus"||e==="blur"||o.removed||(n?o.initialized?v5(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(gO(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,n=e.getBody(),o=e.dom;e.delegates&&(an(e.delegates,(r,l)=>{e.dom.unbind(gO(e,l),l,r)}),delete e.delegates),!e.inline&&n&&o&&(n.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(n),o.unbind(e.getContainer()))}},tj=e=>oe(e)?{value:e.split(/[ ,]/),valid:!0}:wt(e,oe)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},nj=e=>{const n=(()=>{switch(e){case"array":return F;case"boolean":return Ze;case"function":return ge;case"number":return gn;case"object":return Be;case"string":return oe;case"string[]":return tj;case"object[]":return o=>wt(o,Be);case"regexp":return o=>Me(o,RegExp);default:return It}})();return o=>zS(o,n,`The value must be a ${e}.`)},Ya=e=>oe(e.processor),b5=(e,n)=>{const o=si(n.message)?"":`. ${n.message}`;return e+o},y5=e=>e.valid,zS=(e,n,o="")=>{const r=n(e);return Ze(r)?r?{value:e,valid:!0}:{valid:!1,message:o}:r},_5=(e,n,o)=>{if(!ht(n)){const r=zS(n,o);if(y5(r))return r.value;console.error(b5(`Invalid default value passed for the "${e}" option`,r))}},DM=(e,n)=>{const o={},r={},l=(j,ne,Ce)=>{const xe=zS(ne,Ce);return y5(xe)?(r[j]=xe.value,!0):(console.warn(b5(`Invalid value passed for the ${j} option`,xe)),!1)},f=(j,ne)=>{const Ce=Ya(ne)?nj(ne.processor):ne.processor,xe=_5(j,ne.default,Ce);o[j]={...ne,default:xe,processor:Ce},Xs(r,j).orThunk(()=>Xs(n,j)).each(Se=>l(j,Se,Ce))},v=j=>qn(o,j);return{register:f,isRegistered:v,get:j=>Xs(r,j).orThunk(()=>Xs(o,j).map(ne=>ne.default)).getOrUndefined(),set:(j,ne)=>{if(v(j)){const Ce=o[j];return Ce.immutable?(console.error(`"${j}" is an immutable option and cannot be updated`),!1):l(j,ne,Ce.processor)}else return console.warn(`"${j}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:j=>{const ne=v(j);return ne&&delete r[j],ne},isSet:j=>qn(r,j)}},oj=["design","readonly"],E5=(e,n,o,r)=>{const l=o[n.get()],f=o[r];try{f.activate()}catch(v){console.error(`problem while activating editor mode ${r}:`,v);return}l.deactivate(),l.editorReadOnly!==f.editorReadOnly&&m5(e,f.editorReadOnly),n.set(r),GT(e,r)},sj=(e,n,o,r)=>{if(r!==o.get()){if(!qn(n,r))throw new Error(`Editor mode '${r}' is invalid`);e.initialized?E5(e,o,n,r):e.on("init",()=>E5(e,o,n,r))}},rj=(e,n,o)=>{if(kn(oj,n))throw new Error(`Cannot override default mode ${n}`);return{...e,[n]:{...o,deactivate:()=>{try{o.deactivate()}catch(r){console.error(`problem while deactivating editor mode ${n}:`,r)}}}}},ij=e=>{const n=Vi("design"),o=Vi({design:{activate:Ot,deactivate:Ot,editorReadOnly:!1},readonly:{activate:Ot,deactivate:Ot,editorReadOnly:!0}});return Zq(e),g5(e),{isReadOnly:()=>Wb(e),set:r=>sj(e,o.get(),n,r),get:()=>n.get(),register:(r,l)=>{o.set(rj(o.get(),r,l))}}},NM=pe.each,MM=pe.explode,aj={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},Ky=pe.makeMap("alt,ctrl,shift,meta,access"),Rg=e=>e in Ky,cj=e=>{const n={},o=Do.os.isMacOS()||Do.os.isiOS();NM(MM(e.toLowerCase(),"+"),f=>{Rg(f)?n[f]=!0:/^[0-9]{2,}$/.test(f)?n.keyCode=parseInt(f,10):(n.charCode=f.charCodeAt(0),n.keyCode=aj[f]||f.toUpperCase().charCodeAt(0))});const r=[n.keyCode];let l;for(l in Ky)n[l]?r.push(l):n[l]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,o?n.ctrl=!0:n.shift=!0),n.meta&&(o?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n};class w5{constructor(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;const o=this;n.on("keyup keypress keydown",r=>{(o.hasModifier(r)||o.isFunctionKey(r))&&!r.isDefaultPrevented()&&(NM(o.shortcuts,l=>{o.matchShortcut(r,l)&&(o.pendingPatterns=l.subpatterns.slice(0),r.type==="keydown"&&o.executeShortcutAction(l))}),o.matchShortcut(r,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&r.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(n,o,r,l){const f=this,v=f.normalizeCommandFunc(r);return NM(MM(pe.trim(n)),C=>{const x=f.createShortcut(C,o,v,l);f.shortcuts[x.id]=x}),!0}remove(n){const o=this.createShortcut(n);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(n){const o=this,r=n;return typeof r=="string"?()=>{o.editor.execCommand(r,!1,null)}:pe.isArray(r)?()=>{o.editor.execCommand(r[0],r[1],r[2])}:r}createShortcut(n,o,r,l){const f=pe.map(MM(n,">"),cj);return f[f.length-1]=pe.extend(f[f.length-1],{func:r,scope:l||this.editor}),pe.extend(f[0],{desc:this.editor.translate(o),subpatterns:f.slice(1)})}hasModifier(n){return n.altKey||n.ctrlKey||n.metaKey}isFunctionKey(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123}matchShortcut(n,o){return!o||o.ctrl!==n.ctrlKey||o.meta!==n.metaKey||o.alt!==n.altKey||o.shift!==n.shiftKey?!1:n.keyCode===o.keyCode||n.charCode&&n.charCode===o.charCode?(n.preventDefault(),!0):!1}executeShortcutAction(n){return n.func?n.func.call(n.scope):null}}const lj=()=>{const e={},n={},o={},r={},l={},f={},v={},C={},x=(Z,j)=>(ne,Ce)=>{Z[ne.toLowerCase()]={...Ce,type:j}},L=(Z,j)=>r[Z.toLowerCase()]=j;return{addButton:x(e,"button"),addGroupToolbarButton:x(e,"grouptoolbarbutton"),addToggleButton:x(e,"togglebutton"),addMenuButton:x(e,"menubutton"),addSplitButton:x(e,"splitbutton"),addMenuItem:x(n,"menuitem"),addNestedMenuItem:x(n,"nestedmenuitem"),addToggleMenuItem:x(n,"togglemenuitem"),addAutocompleter:x(o,"autocompleter"),addContextMenu:x(l,"contextmenu"),addContextToolbar:x(f,"contexttoolbar"),addContextForm:x(f,"contextform"),addSidebar:x(v,"sidebar"),addView:x(C,"views"),addIcon:L,getAll:()=>({buttons:e,menuItems:n,icons:r,popups:o,contextMenus:l,contextToolbars:f,sidebars:v,views:C})}},uj=()=>{const e=lj();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},Xy=sr.DOM,T5=pe.extend,dj=pe.each;class vO{constructor(n,o,r){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,T5(this,pO);const l=this;this.id=n,this.hidden=!1;const f=zb(r.defaultOptions,o);this.options=DM(l,f),Wi(l);const v=this.options.get;v("deprecation_warnings")&&kb(o,f);const C=v("suffix");C&&(r.suffix=C),this.suffix=r.suffix;const x=v("base_url");x&&r._setBaseUrl(x),this.baseUri=r.baseURI;const L=eg(l);L&&(jf.ScriptLoader._setReferrerPolicy(L),sr.DOM.styleSheetLoader._setReferrerPolicy(L));const Z=k0(l);Ne(Z)&&sr.DOM.styleSheetLoader._setContentCssCors(Z),As.languageLoad=v("language_load"),As.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new xg(ya(l),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=M0(l),this.hasVisual=rT(l),this.shortcuts=new w5(this),this.editorCommands=new qq(this),Wq(this);const j=v("cache_suffix");j&&(Do.cacheSuffix=j.replace(/^[\?\&]+/,"")),this.ui={registry:uj(),styleSheetLoader:void 0,show:Ot,hide:Ot,setEnabled:Ot,isEnabled:It},this.mode=ij(l),r.dispatch("SetupEditor",{editor:this});const ne=Zh(l);ge(ne)&&ne.call(l,l)}render(){XF(this)}focus(n){this.execCommand("mceFocus",!1,n)}hasFocus(){return Cb(this)}translate(n){return Td.translate(n)}getParam(n,o,r){const l=this.options;return l.isRegistered(n)||(Ne(r)?l.register(n,{processor:r,default:o}):l.register(n,{processor:It,default:o})),!l.isSet(n)&&!ht(o)?o:l.get(n)}hasPlugin(n,o){return kn(P0(this),n)?o?cm.get(n)!==void 0:!0:!1}nodeChanged(n){this._nodeChangeDispatcher.nodeChanged(n)}addCommand(n,o,r){this.editorCommands.addCommand(n,o,r)}addQueryStateHandler(n,o,r){this.editorCommands.addQueryStateHandler(n,o,r)}addQueryValueHandler(n,o,r){this.editorCommands.addQueryValueHandler(n,o,r)}addShortcut(n,o,r,l){this.shortcuts.add(n,o,r,l)}execCommand(n,o,r,l){return this.editorCommands.execCommand(n,o,r,l)}queryCommandState(n){return this.editorCommands.queryCommandState(n)}queryCommandValue(n){return this.editorCommands.queryCommandValue(n)}queryCommandSupported(n){return this.editorCommands.queryCommandSupported(n)}show(){const n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(Xy.show(n.getContainer()),Xy.hide(n.id)),n.load(),n.dispatch("show"))}hide(){const n=this;n.hidden||(n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(Xy.hide(n.getContainer()),Xy.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(n,o){this.dispatch("ProgressState",{state:n,time:o})}load(n={}){const o=this,r=o.getElement();if(o.removed)return"";if(r){const l={...n,load:!0},f=Dh(r)?r.value:r.innerHTML,v=o.setContent(f,l);return l.no_events||o.dispatch("LoadContent",{...l,element:r}),v}else return""}save(n={}){const o=this;let r=o.getElement();if(!r||!o.initialized||o.removed)return"";const l={...n,save:!0,element:r};let f=o.getContent(l);const v={...l,content:f};if(v.no_events||o.dispatch("SaveContent",v),v.format==="raw"&&o.dispatch("RawSaveContent",v),f=v.content,Dh(r))r.value=f;else{(n.is_removing||!o.inline)&&(r.innerHTML=f);const C=Xy.getParent(o.id,"form");C&&dj(C.elements,x=>x.name===o.id?(x.value=f,!1):!0)}return v.element=l.element=r=null,v.set_dirty!==!1&&o.setDirty(!1),f}setContent(n,o){return H4(this,n,o)}getContent(n){return pD(this,n)}insertContent(n,o){o&&(n=T5({content:n},o)),this.execCommand("mceInsertContent",!1,n)}resetContent(n){n===void 0?H4(this,this.startContent,{format:"raw"}):H4(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(n){const o=!this.isNotDirty;this.isNotDirty=!n,n&&n!==o&&this.dispatch("dirty")}getContainer(){const n=this;return n.container||(n.container=n.editorContainer||Xy.get(n.id+"_parent")),n.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=Xy.get(this.id)),this.targetElm}getWin(){const n=this;if(!n.contentWindow){const o=n.iframeElement;o&&(n.contentWindow=o.contentWindow)}return n.contentWindow}getDoc(){const n=this;if(!n.contentDocument){const o=n.getWin();o&&(n.contentDocument=o.document)}return n.contentDocument}getBody(){var n,o;const r=this.getDoc();return(o=(n=this.bodyElement)!==null&&n!==void 0?n:r==null?void 0:r.body)!==null&&o!==void 0?o:null}convertURL(n,o,r){const l=this,f=l.options.get,v=aT(l);return ge(v)?v.call(l,n,r,!0,o):!f("convert_urls")||r==="link"||Be(r)&&r.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0?n:f("relative_urls")?l.documentBaseURI.toRelative(n):(n=l.documentBaseURI.toAbsolute(n,f("remove_script_host")),n)}addVisual(n){jy(this,n)}remove(){_7(this)}destroy(n){E7(this,n)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const Ew=sr.DOM,kM=pe.each;let C5=!1,bO,nd=[];const yO=e=>{const n=e.type;kM(qb.get(),o=>{switch(n){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},S5=e=>{if(e!==C5){const n=sr.DOM;e?(n.bind(window,"resize",yO),n.bind(window,"scroll",yO)):(n.unbind(window,"resize",yO),n.unbind(window,"scroll",yO)),C5=e}},A5=e=>{const n=nd;return nd=Lt(nd,o=>e!==o),qb.activeEditor===e&&(qb.activeEditor=nd.length>0?nd[0]:null),qb.focusedEditor===e&&(qb.focusedEditor=null),n.length!==nd.length},DK=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(A5(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},fj=document.compatMode!=="CSS1Compat",qb={...IM,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"4.1",releaseDate:"2023-03-29",i18n:Td,activeEditor:null,focusedEditor:null,setup(){const e=this;let n="",o="",r=xg.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));const l=window.tinymce||window.tinyMCEPreInit;if(l)n=l.base||l.baseURL,o=l.suffix;else{const f=document.getElementsByTagName("script");for(let v=0;v<f.length;v++){const C=f[v].src||"";if(C==="")continue;const x=C.substring(C.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(C)){x.indexOf(".min")!==-1&&(o=".min"),n=C.substring(0,C.lastIndexOf("/"));break}}if(!n&&document.currentScript){const v=document.currentScript.src;v.indexOf(".min")!==-1&&(o=".min"),n=v.substring(0,v.lastIndexOf("/"))}}e.baseURL=new xg(r).toAbsolute(n),e.documentBaseURL=r,e.baseURI=new xg(e.baseURL),e.suffix=o,JH(e)},overrideDefaults(e){const n=e.base_url;n&&this._setBaseUrl(n);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const r=e.plugin_base_urls;r!==void 0&&an(r,(l,f)=>{As.PluginManager.urls[f]=l})},init(e){const n=this;let o;const r=pe.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),l=(Z,j)=>Z.inline&&j.tagName.toLowerCase()in r,f=Z=>{let j=Z.id;return j||(j=Xs(Z,"name").filter(ne=>!Ew.get(ne)).getOrThunk(Ew.uniqueId),Z.setAttribute("id",j)),j},v=Z=>{const j=e[Z];if(j)return j.apply(n,[])},C=Z=>Do.browser.isIE()||Do.browser.isEdge()?(rS("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):fj?(rS("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):oe(Z.selector)?Ew.select(Z.selector):Ne(Z.target)?[Z.target]:[];let x=Z=>{o=Z};const L=()=>{let Z=0;const j=[];let ne;const Ce=(xe,he,Se)=>{const Ve=new vO(xe,he,n);j.push(Ve),Ve.on("init",()=>{++Z===ne.length&&x(j)}),Ve.targetElm=Ve.targetElm||Se,Ve.render()};Ew.unbind(window,"ready",L),v("onpageload"),ne=Gd(C(e)),pe.each(ne,xe=>{DK(n.get(xe.id))}),ne=pe.grep(ne,xe=>!n.get(xe.id)),ne.length===0?x([]):kM(ne,xe=>{l(e,xe)?rS("Could not initialize inline editor on invalid inline target element",xe):Ce(f(xe),e,xe)})};return Ew.bind(window,"ready",L),new Promise(Z=>{o?Z(o):x=j=>{Z(j)}})},get(e){return arguments.length===0?nd.slice(0):oe(e)?vs(nd,n=>n.id===e).getOr(null):gn(e)&&nd[e]?nd[e]:null},add(e){const n=this,o=n.get(e.id);return o===e||(o===null&&nd.push(e),S5(!0),n.activeEditor=e,n.dispatch("AddEditor",{editor:e}),bO||(bO=r=>{const l=n.dispatch("BeforeUnload");if(l.returnValue)return r.preventDefault(),r.returnValue=l.returnValue,l.returnValue},window.addEventListener("beforeunload",bO))),e},createEditor(e,n){return this.add(new vO(e,n,this))},remove(e){const n=this;let o;if(!e){for(let r=nd.length-1;r>=0;r--)n.remove(nd[r]);return}if(oe(e)){kM(Ew.select(e),r=>{o=n.get(r.id),o&&n.remove(o)});return}return o=e,Ee(n.get(o.id))?null:(A5(o)&&n.dispatch("RemoveEditor",{editor:o}),nd.length===0&&window.removeEventListener("beforeunload",bO),o.remove(),S5(nd.length>0),o)},execCommand(e,n,o){var r;const l=this,f=Be(o)?(r=o.id)!==null&&r!==void 0?r:o.index:o;switch(e){case"mceAddEditor":{if(!l.get(f)){const v=o.options;new vO(f,v,l).render()}return!0}case"mceRemoveEditor":{const v=l.get(f);return v&&v.remove(),!0}case"mceToggleEditor":{const v=l.get(f);return v?(v.isHidden()?v.show():v.hide(),!0):(l.execCommand("mceAddEditor",!1,o),!0)}}return l.activeEditor?l.activeEditor.execCommand(e,n,o):!1},triggerSave:()=>{kM(nd,e=>{e.save()})},addI18n:(e,n)=>{Td.add(e,n)},translate:e=>Td.translate(e),setActive(e){const n=this.activeEditor;this.activeEditor!==e&&(n&&n.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new xg(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new xg(this.baseURL)}};qb.setup();const hj=(()=>{const e=oa(),n=f=>({items:f,types:bi(f),getType:v=>Xs(f,v).getOrUndefined()}),o=f=>{e.set(f)},r=()=>e.get().getOrUndefined(),l=e.clear;return{FakeClipboardItem:n,write:o,read:r,clear:l}})(),x5=Math.min,ww=Math.max,_O=Math.round,O5=(e,n,o)=>{let r=n.x,l=n.y;const f=e.w,v=e.h,C=n.w,x=n.h,L=(o||"").split("");return L[0]==="b"&&(l+=x),L[1]==="r"&&(r+=C),L[0]==="c"&&(l+=_O(x/2)),L[1]==="c"&&(r+=_O(C/2)),L[3]==="b"&&(l-=v),L[4]==="r"&&(r-=f),L[3]==="c"&&(l-=_O(v/2)),L[4]==="c"&&(r-=_O(f/2)),Tw(r,l,f,v)},mj=(e,n,o,r)=>{for(let l=0;l<r.length;l++){const f=O5(e,n,r[l]);if(f.x>=o.x&&f.x+f.w<=o.w+o.x&&f.y>=o.y&&f.y+f.h<=o.h+o.y)return r[l]}return null},gj=(e,n,o)=>Tw(e.x-n,e.y-o,e.w+n*2,e.h+o*2),pj=(e,n)=>{const o=ww(e.x,n.x),r=ww(e.y,n.y),l=x5(e.x+e.w,n.x+n.w),f=x5(e.y+e.h,n.y+n.h);return l-o<0||f-r<0?null:Tw(o,r,l-o,f-r)},vj=(e,n,o)=>{let r=e.x,l=e.y,f=e.x+e.w,v=e.y+e.h;const C=n.x+n.w,x=n.y+n.h,L=ww(0,n.x-r),Z=ww(0,n.y-l),j=ww(0,f-C),ne=ww(0,v-x);return r+=L,l+=Z,o&&(f+=L,v+=Z,r-=j,l-=ne),f-=j,v-=ne,Tw(r,l,f-r,v-l)},Tw=(e,n,o,r)=>({x:e,y:n,w:o,h:r}),bj={inflate:gj,relativePosition:O5,findBestRelativePosition:mj,intersect:pj,clamp:vj,create:Tw,fromClientRect:e=>Tw(e.left,e.top,e.width,e.height)},yj=(e,n,o=1e3)=>{let r=!1,l=null;const f=L=>(...Z)=>{r||(r=!0,l!==null&&(clearTimeout(l),l=null),L.apply(null,Z))},v=f(e),C=f(n);return{start:(...L)=>{!r&&l===null&&(l=setTimeout(()=>C.apply(null,L),o))},resolve:v,reject:C}},Ej=(()=>{const e={},n={};return{load:(f,v)=>{const C=`Script at URL "${v}" failed to load`,x=`Script at URL "${v}" did not call \`tinymce.Resource.add('${f}', data)\` within 1 second`;if(e[f]!==void 0)return e[f];{const L=new Promise((Z,j)=>{const ne=yj(Z,j);n[f]=ne.resolve,jf.ScriptLoader.loadScript(v).then(()=>ne.start(x),()=>ne.reject(C))});return e[f]=L,L}},add:(f,v)=>{n[f]!==void 0&&(n[f](v),delete n[f]),e[f]=Promise.resolve(v)},unload:f=>{delete e[f]}}})(),wj=()=>(()=>{let e={},n=[];const o={getItem:r=>{const l=e[r];return l||null},setItem:(r,l)=>{n.push(r),e[r]=String(l)},key:r=>n[r],removeItem:r=>{n=n.filter(l=>l===r),delete e[r]},clear:()=>{n=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>n.length,configurable:!1,enumerable:!1}),o})();let WS;try{const e="__storage_test__";WS=window.localStorage,WS.setItem(e,e),WS.removeItem(e)}catch{WS=wj()}var Tj=WS;const Cj={geom:{Rect:bj},util:{Delay:Md,Tools:pe,VK:Cn,URI:xg,EventDispatcher:_w,Observable:IM,I18n:Td,LocalStorage:Tj,ImageUploader:L7},dom:{EventUtils:uf,TreeWalker:ai,TextSeeker:Cr,DOMUtils:sr,ScriptLoader:jf,RangeUtils:_b,Serializer:gD,StyleSheetLoader:af,ControlSelection:$A,BookmarkManager:Eu,Selection:cv,Event:uf.Event},html:{Styles:sp,Entities:cf,Node:Ju,Schema:Yl,DomParser:Mb,Writer:Bk,Serializer:Sb},Env:Do,AddOnManager:As,Annotator:ly,Formatter:iS,UndoManager:TD,EditorCommands:qq,WindowManager:bD,NotificationManager:Pb,EditorObservable:pO,Shortcuts:w5,Editor:vO,FocusManager:wb,EditorManager:qb,DOM:sr.DOM,ScriptLoader:jf.ScriptLoader,PluginManager:cm,ThemeManager:Pp,ModelManager:JE,IconManager:jx,Resource:Ej,FakeClipboard:hj,trim:pe.trim,isArray:pe.isArray,is:pe.is,toArray:pe.toArray,makeMap:pe.makeMap,each:pe.each,map:pe.map,grep:pe.grep,inArray:pe.inArray,extend:pe.extend,walk:pe.walk,resolve:pe.resolve,explode:pe.explode,_addCacheSuffix:pe._addCacheSuffix},R5=pe.extend(qb,Cj),Sj=e=>{try{a.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(R5),Sj(R5)})()})($ne);const Bne=bZ;tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const a=Object.getPrototypeOf,c=(t,s,i)=>{var u;return i(t,s.prototype)?!0:((u=t.constructor)===null||u===void 0?void 0:u.name)===s.name},h=t=>{const s=typeof t;return t===null?"null":s==="object"&&Array.isArray(t)?"array":s==="object"&&c(t,String,(i,u)=>u.isPrototypeOf(i))?"string":s},y=t=>s=>h(s)===t,A=t=>s=>typeof s===t,N=t=>s=>t===s,D=(t,s)=>G(t)&&c(t,s,(i,u)=>a(i)===u),U=y("string"),G=y("object"),K=t=>D(t,Object),Q=y("array"),ie=N(null),_e=A("boolean"),ve=N(void 0),de=t=>t==null,fe=t=>!de(t),we=A("function"),De=A("number"),Me=(t,s)=>{if(Q(t)){for(let i=0,u=t.length;i<u;++i)if(!s(t[i]))return!1;return!0}return!1},oe=()=>{},Be=t=>()=>t(),lt=(t,s)=>(...i)=>t(s.apply(null,i)),F=(t,s)=>i=>t(s(i)),Ee=t=>()=>t,Ze=t=>t,ht=(t,s)=>t===s;function Et(t,...s){return(...i)=>{const u=s.concat(i);return t.apply(null,u)}}const Ne=t=>s=>!t(s),ge=t=>()=>{throw new Error(t)},gn=t=>t(),wt=Ee(!1),Ot=Ee(!0);class P{constructor(s,i){this.tag=s,this.value=i}static some(s){return new P(!0,s)}static none(){return P.singletonNone}fold(s,i){return this.tag?i(this.value):s()}isSome(){return this.tag}isNone(){return!this.tag}map(s){return this.tag?P.some(s(this.value)):P.none()}bind(s){return this.tag?s(this.value):P.none()}exists(s){return this.tag&&s(this.value)}forall(s){return!this.tag||s(this.value)}filter(s){return!this.tag||s(this.value)?this:P.none()}getOr(s){return this.tag?this.value:s}or(s){return this.tag?this:s}getOrThunk(s){return this.tag?this.value:s()}orThunk(s){return this.tag?this:s()}getOrDie(s){if(this.tag)return this.value;throw new Error(s??"Called getOrDie on None")}static from(s){return fe(s)?P.some(s):P.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(s){this.tag&&s(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}P.singletonNone=new P(!1);const Rt=Array.prototype.slice,et=Array.prototype.indexOf,qt=Array.prototype.push,Vt=(t,s)=>et.call(t,s),Ge=(t,s)=>{const i=Vt(t,s);return i===-1?P.none():P.some(i)},vo=(t,s)=>Vt(t,s)>-1,Bo=(t,s)=>{for(let i=0,u=t.length;i<u;i++){const m=t[i];if(s(m,i))return!0}return!1},ao=(t,s)=>{const i=[];for(let u=0;u<t;u++)i.push(s(u));return i},Fo=(t,s)=>{const i=[];for(let u=0;u<t.length;u+=s){const m=Rt.call(t,u,u+s);i.push(m)}return i},Je=(t,s)=>{const i=t.length,u=new Array(i);for(let m=0;m<i;m++){const b=t[m];u[m]=s(b,m)}return u},It=(t,s)=>{for(let i=0,u=t.length;i<u;i++){const m=t[i];s(m,i)}},te=(t,s)=>{for(let i=t.length-1;i>=0;i--){const u=t[i];s(u,i)}},cs=(t,s)=>{const i=[],u=[];for(let m=0,b=t.length;m<b;m++){const w=t[m];(s(w,m)?i:u).push(w)}return{pass:i,fail:u}},uo=(t,s)=>{const i=[];for(let u=0,m=t.length;u<m;u++){const b=t[u];s(b,u)&&i.push(b)}return i},Bt=(t,s,i)=>(te(t,(u,m)=>{i=s(i,u,m)}),i),ps=(t,s,i)=>(It(t,(u,m)=>{i=s(i,u,m)}),i),Xa=(t,s,i)=>{for(let u=0,m=t.length;u<m;u++){const b=t[u];if(s(b,u))return P.some(b);if(i(b,u))break}return P.none()},kn=(t,s)=>Xa(t,s,wt),ko=(t,s)=>{for(let i=0,u=t.length;i<u;i++){const m=t[i];if(s(m,i))return P.some(i)}return P.none()},Yt=t=>{const s=[];for(let i=0,u=t.length;i<u;++i){if(!Q(t[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+t);qt.apply(s,t[i])}return s},mt=(t,s)=>Yt(Je(t,s)),pi=(t,s)=>{for(let i=0,u=t.length;i<u;++i){const m=t[i];if(s(m,i)!==!0)return!1}return!0},vi=t=>{const s=Rt.call(t,0);return s.reverse(),s},Lt=(t,s)=>uo(t,i=>!vo(s,i)),Lr=(t,s)=>{const i={};for(let u=0,m=t.length;u<m;u++){const b=t[u];i[String(b)]=s(b,u)}return i},Ns=t=>[t],Pc=(t,s)=>{const i=Rt.call(t,0);return i.sort(s),i},vs=(t,s)=>s>=0&&s<t.length?P.some(t[s]):P.none(),Rr=t=>vs(t,0),jc=t=>vs(t,t.length-1),Ca=we(Array.from)?Array.from:t=>Rt.call(t),nr=(t,s)=>{for(let i=0;i<t.length;i++){const u=s(t[i],i);if(u.isSome())return u}return P.none()},Os=Object.keys,rd=Object.hasOwnProperty,Yr=(t,s)=>{const i=Os(t);for(let u=0,m=i.length;u<m;u++){const b=i[u],w=t[b];s(w,b)}},Ms=(t,s)=>fl(t,(i,u)=>({k:u,v:s(i,u)})),fl=(t,s)=>{const i={};return Yr(t,(u,m)=>{const b=s(u,m);i[b.k]=b.v}),i},Ii=t=>(s,i)=>{t[i]=s},Zc=(t,s,i,u)=>{Yr(t,(m,b)=>{(s(m,b)?i:u)(m,b)})},vr=(t,s)=>{const i={},u={};return Zc(t,s,Ii(i),Ii(u)),{t:i,f:u}},$r=(t,s)=>{const i={};return Zc(t,s,Ii(i),oe),i},Gd=(t,s)=>{const i=[];return Yr(t,(u,m)=>{i.push(s(u,m))}),i},bi=(t,s)=>{const i=Os(t);for(let u=0,m=i.length;u<m;u++){const b=i[u],w=t[b];if(s(w,b,t))return P.some(w)}return P.none()},yh=t=>Gd(t,Ze),an=(t,s)=>Ho(t,s)?P.from(t[s]):P.none(),Ho=(t,s)=>rd.call(t,s),ca=(t,s)=>Ho(t,s)&&t[s]!==void 0&&t[s]!==null,pc=(t,s,i=ht)=>t.exists(u=>i(u,s)),_h=(t,s,i=ht)=>id(t,s,i).getOr(t.isNone()&&s.isNone()),au=t=>{const s=[],i=u=>{s.push(u)};for(let u=0;u<t.length;u++)t[u].each(i);return s},ks=t=>{const s=[];for(let i=0;i<t.length;i++){const u=t[i];if(u.isSome())s.push(u.getOrDie());else return P.none()}return P.some(s)},id=(t,s,i)=>t.isSome()&&s.isSome()?P.some(i(t.getOrDie(),s.getOrDie())):P.none(),qd=(t,s,i,u)=>t.isSome()&&s.isSome()&&i.isSome()?P.some(u(t.getOrDie(),s.getOrDie(),i.getOrDie())):P.none(),Xs=(t,s)=>t!=null?P.some(s(t)):P.none(),qn=(t,s)=>t?P.some(s):P.none(),Qa=(t,s)=>t+s,Ru=(t,s)=>t.substring(s),Yc=(t,s,i)=>s===""||t.length>=s.length&&t.substr(i,i+s.length)===s,Eh=(t,s)=>Ur(t,s)?Ru(t,s.length):t,Di=(t,s)=>Fa(t,s)?t:Qa(t,s),Ki=(t,s,i=0,u)=>{const m=t.indexOf(s,i);return m!==-1?ve(u)?!0:m+s.length<=u:!1},Ur=(t,s)=>Yc(t,s,0),Fa=(t,s)=>Yc(t,s,t.length-s.length),vc=(t=>s=>s.replace(t,""))(/^\s+|\s+$/g),Sa=t=>t.length>0,Br=t=>!Sa(t),bc=t=>t.style!==void 0&&we(t.style.getPropertyValue),hl=(t,s)=>{const u=(s||document).createElement("div");if(u.innerHTML=t,!u.hasChildNodes()||u.childNodes.length>1){const m="HTML does not have a single root node";throw console.error(m,t),new Error(m)}return Ll(u.childNodes[0])},Bg=(t,s)=>{const u=(s||document).createElement(t);return Ll(u)},Fg=(t,s)=>{const u=(s||document).createTextNode(t);return Ll(u)},Ll=t=>{if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},Xe={fromHtml:hl,fromTag:Bg,fromText:Fg,fromDom:Ll,fromPoint:(t,s,i)=>P.from(t.dom.elementFromPoint(s,i)).map(Ll)},yi=typeof window<"u"?window:Function("return this;")(),cu=(t,s)=>{let i=s??yi;for(let u=0;u<t.length&&i!==void 0&&i!==null;++u)i=i[t[u]];return i},Hg=(t,s)=>{const i=t.split(".");return cu(i,s)},wh=(t,s)=>Hg(t,s),Fs=(t,s)=>{const i=wh(t,s);if(i==null)throw new Error(t+" not available on this browser");return i},jd=Object.getPrototypeOf,Cm=t=>Fs("HTMLElement",t),Xi=t=>{const s=Hg("ownerDocument.defaultView",t);return G(t)&&(Cm(s).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(jd(t).constructor.name))},Xc=9,oi=11,_i=1,lu=3,Ja=t=>t.dom.nodeName.toLowerCase(),uu=t=>t.dom.nodeType,$l=t=>s=>uu(s)===t,ad=t=>Cs(t)&&Xi(t.dom),Cs=$l(_i),si=$l(lu),Qc=$l(Xc),cd=$l(oi),Aa=t=>s=>Cs(s)&&Ja(s)===t,yc=(t,s)=>{const i=t.dom;if(i.nodeType!==_i)return!1;{const u=i;if(u.matches!==void 0)return u.matches(s);if(u.msMatchesSelector!==void 0)return u.msMatchesSelector(s);if(u.webkitMatchesSelector!==void 0)return u.webkitMatchesSelector(s);if(u.mozMatchesSelector!==void 0)return u.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")}},br=t=>t.nodeType!==_i&&t.nodeType!==Xc&&t.nodeType!==oi||t.childElementCount===0,ld=(t,s)=>{const i=s===void 0?document:s.dom;return br(i)?[]:Je(i.querySelectorAll(t),Xe.fromDom)},du=(t,s)=>{const i=s===void 0?document:s.dom;return br(i)?P.none():P.from(i.querySelector(t)).map(Xe.fromDom)},bs=(t,s)=>t.dom===s.dom,ec=(t,s)=>{const i=t.dom,u=s.dom;return i===u?!1:i.contains(u)},ri=t=>Xe.fromDom(t.dom.ownerDocument),Fr=t=>Qc(t)?t:ri(t),Jc=t=>Xe.fromDom(Fr(t).dom.documentElement),Iu=t=>Xe.fromDom(Fr(t).dom.defaultView),_c=t=>P.from(t.dom.parentNode).map(Xe.fromDom),Lc=t=>P.from(t.dom.parentElement).map(Xe.fromDom),Df=(t,s)=>{const i=we(s)?s:wt;let u=t.dom;const m=[];for(;u.parentNode!==null&&u.parentNode!==void 0;){const b=u.parentNode,w=Xe.fromDom(b);if(m.push(w),i(w)===!0)break;u=b}return m},Th=t=>P.from(t.dom.offsetParent).map(Xe.fromDom),Vg=t=>P.from(t.dom.nextSibling).map(Xe.fromDom),tc=t=>Je(t.dom.childNodes,Xe.fromDom),Du=(t,s)=>{const i=t.dom.childNodes;return P.from(i[s]).map(Xe.fromDom)},Ch=t=>Du(t,0),Nu=(t,s)=>({element:t,offset:s}),Nf=(t,s)=>{const i=tc(t);return i.length>0&&s<i.length?Nu(i[s],0):Nu(t,s)},Sm=t=>cd(t)&&fe(t.dom.host),Mu=we(Element.prototype.attachShadow)&&we(Node.prototype.getRootNode),ku=Ee(Mu),xa=Mu?t=>Xe.fromDom(t.dom.getRootNode()):Fr,Ni=t=>Sm(t)?t:Xe.fromDom(Fr(t).dom.body),Pu=t=>Mf(t).isSome(),Mf=t=>{const s=xa(t);return Sm(s)?P.some(s):P.none()},Ug=t=>Xe.fromDom(t.dom.host),Hs=t=>{if(ku()&&fe(t.target)){const s=Xe.fromDom(t.target);if(Cs(s)&&yr(s)&&t.composed&&t.composedPath){const i=t.composedPath();if(i)return Rr(i)}}return P.from(t.target)},yr=t=>fe(t.dom.shadowRoot),nc=t=>{const s=si(t)?t.dom.parentNode:t.dom;if(s==null||s.ownerDocument===null)return!1;const i=s.ownerDocument;return Mf(Xe.fromDom(s)).fold(()=>i.body.contains(s),F(nc,Ug))},Qi=()=>ml(Xe.fromDom(document)),ml=t=>{const s=t.dom.body;if(s==null)throw new Error("Body is not available yet");return Xe.fromDom(s)},$c=(t,s,i)=>{if(U(i)||_e(i)||De(i))t.setAttribute(s,i+"");else throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",i,":: Element ",t),new Error("Attribute value was not simple")},co=(t,s,i)=>{$c(t.dom,s,i)},Do=(t,s)=>{const i=t.dom;Yr(s,(u,m)=>{$c(i,m,u)})},Mi=(t,s)=>{const i=t.dom.getAttribute(s);return i===null?void 0:i},Kr=(t,s)=>P.from(Mi(t,s)),la=(t,s)=>{const i=t.dom;return i&&i.hasAttribute?i.hasAttribute(s):!1},T=(t,s)=>{t.dom.removeAttribute(s)},I=t=>ps(t.dom.attributes,(s,i)=>(s[i.name]=i.value,s),{}),H=(t,s,i)=>{if(!U(i))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",i,":: Element ",t),new Error("CSS value must be a string: "+i);bc(t)&&t.style.setProperty(s,i)},z=(t,s)=>{bc(t)&&t.style.removeProperty(s)},X=(t,s,i)=>{const u=t.dom;H(u,s,i)},re=(t,s)=>{const i=t.dom;Yr(s,(u,m)=>{H(i,m,u)})},me=(t,s)=>{const i=t.dom;Yr(s,(u,m)=>{u.fold(()=>{z(i,m)},b=>{H(i,m,b)})})},pe=(t,s)=>{const i=t.dom,m=window.getComputedStyle(i).getPropertyValue(s);return m===""&&!nc(t)?ke(i,s):m},ke=(t,s)=>bc(t)?t.style.getPropertyValue(s):"",st=(t,s)=>{const i=t.dom,u=ke(i,s);return P.from(u).filter(m=>m.length>0)},yt=t=>{const s={},i=t.dom;if(bc(i))for(let u=0;u<i.style.length;u++){const m=i.style.item(u);s[m]=i.style[m]}return s},Kt=(t,s,i)=>{const u=Xe.fromTag(t);return X(u,s,i),st(u,s).isSome()},ot=(t,s)=>{const i=t.dom;z(i,s),pc(Kr(t,"style").map(vc),"")&&T(t,"style")},Nt=t=>t.dom.offsetWidth,Jn=(t,s)=>{const i=(O,M)=>{if(!De(M)&&!M.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+M);const B=O.dom;bc(B)&&(B.style[t]=M+"px")},u=O=>{const M=s(O);if(M<=0||M===null){const B=pe(O,t);return parseFloat(B)||0}return M},m=u,b=(O,M)=>ps(M,(B,W)=>{const Y=pe(O,W),ee=Y===void 0?0:parseInt(Y,10);return isNaN(ee)?B:B+ee},0);return{set:i,get:u,getOuter:m,aggregate:b,max:(O,M,B)=>{const W=b(O,B);return M>W?M-W:0}}},Zn=Jn("height",t=>{const s=t.dom;return nc(t)?s.getBoundingClientRect().height:s.offsetHeight}),Tn=t=>Zn.get(t),lr=t=>Zn.getOuter(t),Gs=(t,s)=>{const i=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],u=Zn.max(t,s,i);X(t,"max-height",u+"px")},ls=(t,s)=>({left:t,top:s,translate:(u,m)=>ls(t+u,s+m)}),Kn=ls,eo=t=>{const s=t.getBoundingClientRect();return Kn(s.left,s.top)},ki=(t,s)=>t!==void 0?t:s!==void 0?s:0,xo=t=>{const s=t.dom.ownerDocument,i=s.body,u=s.defaultView,m=s.documentElement;if(i===t.dom)return Kn(i.offsetLeft,i.offsetTop);const b=ki(u==null?void 0:u.pageYOffset,m.scrollTop),w=ki(u==null?void 0:u.pageXOffset,m.scrollLeft),O=ki(m.clientTop,i.clientTop),M=ki(m.clientLeft,i.clientLeft);return _r(t).translate(w-M,b-O)},_r=t=>{const s=t.dom,u=s.ownerDocument.body;return u===s?Kn(u.offsetLeft,u.offsetTop):nc(t)?eo(s):Kn(0,0)},Bl=Jn("width",t=>t.dom.offsetWidth),Vs=(t,s)=>Bl.set(t,s),ur=t=>Bl.get(t),Ir=t=>Bl.getOuter(t),Bc=(t,s)=>{const i=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],u=Bl.max(t,s,i);X(t,"max-width",u+"px")},Ei=t=>{let s=!1,i;return(...u)=>(s||(s=!0,i=t.apply(null,u)),i)},is=(t,s,i,u)=>{const m=t.isiOS()&&/ipad/i.test(i)===!0,b=t.isiOS()&&!m,w=t.isiOS()||t.isAndroid(),O=w||u("(pointer:coarse)"),M=m||!b&&w&&u("(min-device-width:768px)"),B=b||w&&!M,W=s.isSafari()&&t.isiOS()&&/safari/i.test(i)===!1,Y=!B&&!M&&!W;return{isiPad:Ee(m),isiPhone:Ee(b),isTablet:Ee(M),isPhone:Ee(B),isTouch:Ee(O),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:Ee(W),isDesktop:Ee(Y)}},dr=(t,s)=>{for(let i=0;i<t.length;i++){const u=t[i];if(u.test(s))return u}},Oa=(t,s)=>{const i=dr(t,s);if(!i)return{major:0,minor:0};const u=m=>Number(s.replace(i,"$"+m));return Ec(u(1),u(2))},kf=(t,s)=>{const i=String(s).toLowerCase();return t.length===0?Fc():Oa(t,i)},Fc=()=>Ec(0,0),Ec=(t,s)=>({major:t,minor:s}),ho={nu:Ec,detect:kf,unknown:Fc},zr=(t,s)=>nr(s.brands,i=>{const u=i.brand.toLowerCase();return kn(t,m=>{var b;return u===((b=m.brand)===null||b===void 0?void 0:b.toLowerCase())}).map(m=>({current:m.name,version:ho.nu(parseInt(i.version,10),0)}))}),Pi=(t,s)=>{const i=String(s).toLowerCase();return kn(t,u=>u.search(i))},oc=(t,s)=>Pi(t,s).map(i=>{const u=ho.detect(i.versionRegexes,s);return{current:i.name,version:u}}),Ji=(t,s)=>Pi(t,s).map(i=>{const u=ho.detect(i.versionRegexes,s);return{current:i.name,version:u}}),fr=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ha=t=>s=>Ki(s,t),Ra=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:t=>Ki(t,"edge/")&&Ki(t,"chrome")&&Ki(t,"safari")&&Ki(t,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,fr],search:t=>Ki(t,"chrome")&&!Ki(t,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:t=>Ki(t,"msie")||Ki(t,"trident")},{name:"Opera",versionRegexes:[fr,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ha("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ha("firefox")},{name:"Safari",versionRegexes:[fr,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:t=>(Ki(t,"safari")||Ki(t,"mobile/"))&&Ki(t,"applewebkit")}],ud=[{name:"Windows",search:Ha("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:t=>Ki(t,"iphone")||Ki(t,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ha("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Ha("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ha("linux"),versionRegexes:[]},{name:"Solaris",search:Ha("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ha("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ha("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Sh={browsers:Ee(Ra),oses:Ee(ud)},zg="Edge",Fl="Chromium",fu="IE",Zd="Opera",wi="Firefox",dd="Safari",fd=()=>Lu({current:void 0,version:ho.unknown()}),Lu=t=>{const s=t.current,i=t.version,u=m=>()=>s===m;return{current:s,version:i,isEdge:u(zg),isChromium:u(Fl),isIE:u(fu),isOpera:u(Zd),isFirefox:u(wi),isSafari:u(dd)}},sc={unknown:fd,nu:Lu,edge:Ee(zg),chromium:Ee(Fl),ie:Ee(fu),opera:Ee(Zd),firefox:Ee(wi),safari:Ee(dd)},ua="Windows",hu="iOS",hd="Android",Ah="Linux",xh="macOS",ws="Solaris",wc="FreeBSD",Oe="ChromeOS",rc=()=>da({current:void 0,version:ho.unknown()}),da=t=>{const s=t.current,i=t.version,u=m=>()=>s===m;return{current:s,version:i,isWindows:u(ua),isiOS:u(hu),isAndroid:u(hd),isMacOS:u(xh),isLinux:u(Ah),isSolaris:u(ws),isFreeBSD:u(wc),isChromeOS:u(Oe)}},Oh={unknown:rc,nu:da,windows:Ee(ua),ios:Ee(hu),android:Ee(hd),linux:Ee(Ah),macos:Ee(xh),solaris:Ee(ws),freebsd:Ee(wc),chromeos:Ee(Oe)},o1={detect:(t,s,i)=>{const u=Sh.browsers(),m=Sh.oses(),b=s.bind(M=>zr(u,M)).orThunk(()=>oc(u,t)).fold(sc.unknown,sc.nu),w=Ji(m,t).fold(Oh.unknown,Oh.nu),O=is(w,b,t,i);return{browser:b,os:w,deviceType:O}}},ns=t=>window.matchMedia(t).matches;let Qe=Ei(()=>o1.detect(navigator.userAgent,P.from(navigator.userAgentData),ns));const Mt=()=>Qe(),xt=(t,s,i,u,m,b,w)=>({target:t,x:s,y:i,stop:u,prevent:m,kill:b,raw:w}),Un=t=>{const s=Xe.fromDom(Hs(t).getOr(t.target)),i=()=>t.stopPropagation(),u=()=>t.preventDefault(),m=lt(u,i);return xt(s,t.clientX,t.clientY,i,u,m,t)},_o=(t,s)=>i=>{t(i)&&s(Un(i))},Vo=(t,s,i,u,m)=>{const b=_o(i,u);return t.dom.addEventListener(s,b,m),{unbind:Et(gd,t,s,b,m)}},Xr=(t,s,i,u)=>Vo(t,s,i,u,!1),qs=(t,s,i,u)=>Vo(t,s,i,u,!0),gd=(t,s,i,u)=>{t.dom.removeEventListener(s,i,u)},Tc=(t,s)=>{_c(t).each(u=>{u.dom.insertBefore(s.dom,t.dom)})},Ia=(t,s)=>{Vg(t).fold(()=>{_c(t).each(m=>{Pe(m,s)})},u=>{Tc(u,s)})},Te=(t,s)=>{Ch(t).fold(()=>{Pe(t,s)},u=>{t.dom.insertBefore(s.dom,u.dom)})},Pe=(t,s)=>{t.dom.appendChild(s.dom)},ze=(t,s,i)=>{Du(t,i).fold(()=>{Pe(t,s)},u=>{Tc(u,s)})},Ht=(t,s)=>{It(s,i=>{Pe(t,i)})},ct=t=>{t.dom.textContent="",It(tc(t),s=>{Ct(s)})},Ct=t=>{const s=t.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},Xt=t=>{const s=t!==void 0?t.dom:document,i=s.body.scrollLeft||s.documentElement.scrollLeft,u=s.body.scrollTop||s.documentElement.scrollTop;return Kn(i,u)},An=(t,s,i)=>{const m=(i!==void 0?i.dom:document).defaultView;m&&m.scrollTo(t,s)},Nn=t=>{const s=t===void 0?window:t;return Mt().browser.isFirefox()?P.none():P.from(s.visualViewport)},to=(t,s,i,u)=>({x:t,y:s,width:i,height:u,right:t+i,bottom:s+u}),bo=t=>{const s=t===void 0?window:t,i=s.document,u=Xt(Xe.fromDom(i));return Nn(s).fold(()=>{const m=s.document.documentElement,b=m.clientWidth,w=m.clientHeight;return to(u.left,u.top,b,w)},m=>to(Math.max(m.pageLeft,u.left),Math.max(m.pageTop,u.top),m.width,m.height))},so=()=>Xe.fromDom(document),Zo=(t,s)=>t.view(s).fold(Ee([]),u=>{const m=t.owner(u),b=Zo(t,m);return[u].concat(b)}),Rs=(t,s)=>{const i=s.owner(t),u=Zo(s,i);return P.some(u)};var $i=Object.freeze({__proto__:null,view:t=>{var s;return(t.dom===document?P.none():P.from((s=t.dom.defaultView)===null||s===void 0?void 0:s.frameElement)).map(Xe.fromDom)},owner:t=>ri(t)});const Va=t=>{const s=so(),i=Xt(s);return Rs(t,$i).fold(Et(xo,t),m=>{const b=_r(t),w=Bt(m,(O,M)=>{const B=_r(M);return{left:O.left+B.left,top:O.top+B.top}},{left:0,top:0});return Kn(w.left+b.left+i.left,w.top+b.top+i.top)})},Qs=(t,s,i)=>({point:t,width:s,height:i}),Hl=(t,s,i,u)=>({x:t,y:s,width:i,height:u}),Ps=(t,s,i,u)=>({x:t,y:s,width:i,height:u,right:t+i,bottom:s+u}),es=t=>{const s=xo(t),i=Ir(t),u=lr(t);return Ps(s.left,s.top,i,u)},gl=t=>{const s=Va(t),i=Ir(t),u=lr(t);return Ps(s.left,s.top,i,u)},Am=(t,s)=>{const i=Math.max(t.x,s.x),u=Math.max(t.y,s.y),m=Math.min(t.right,s.right),b=Math.min(t.bottom,s.bottom),w=m-i,O=b-u;return Ps(i,u,w,O)},s1=(t,s)=>ps(s,(i,u)=>Am(i,u),t),Da=()=>bo(window);var Yd=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Vl=t=>{const s=b=>b(t),i=Ee(t),u=()=>m,m={tag:!0,inner:t,fold:(b,w)=>w(t),isValue:Ot,isError:wt,map:b=>ro.value(b(t)),mapError:u,bind:s,exists:s,forall:s,getOr:i,or:u,getOrThunk:i,orThunk:u,getOrDie:i,each:b=>{b(t)},toOptional:()=>P.some(t)};return m},el=t=>{const s=()=>i,i={tag:!1,inner:t,fold:(u,m)=>u(t),isValue:wt,isError:Ot,map:s,mapError:u=>ro.error(u(t)),bind:s,exists:wt,forall:Ot,getOr:Ze,or:Ze,getOrThunk:gn,orThunk:gn,getOrDie:ge(String(t)),each:oe,toOptional:P.none};return i},ro={value:Vl,error:el,fromOption:(t,s)=>t.fold(()=>el(s),Vl)};var fa;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(fa||(fa={}));const Rh=(t,s,i)=>t.stype===fa.Error?s(t.serror):i(t.svalue),Ev=t=>{const s=[],i=[];return It(t,u=>{Rh(u,m=>i.push(m),m=>s.push(m))}),{values:s,errors:i}},ii=(t,s)=>t.stype===fa.Error?{stype:fa.Error,serror:s(t.serror)}:t,ha=(t,s)=>t.stype===fa.Value?{stype:fa.Value,svalue:s(t.svalue)}:t,$u=(t,s)=>t.stype===fa.Value?s(t.svalue):t,pl=(t,s)=>t.stype===fa.Error?s(t.serror):t,Na=t=>({stype:fa.Value,svalue:t}),tl=t=>({stype:fa.Error,serror:t}),us={fromResult:t=>t.fold(tl,Na),toResult:t=>Rh(t,ro.error,ro.value),svalue:Na,partition:Ev,serror:tl,bind:$u,bindError:pl,map:ha,mapError:ii,fold:Rh},nl=(t,s,i,u)=>({tag:"field",key:t,newKey:s,presence:i,prop:u}),Ul=(t,s)=>({tag:"custom",newKey:t,instantiator:s}),Er=(t,s,i)=>{switch(t.tag){case"field":return s(t.key,t.newKey,t.presence,t.prop);case"custom":return i(t.newKey,t.instantiator)}},Om=(t,s)=>s,zl=(t,s)=>K(t)&&K(s)?Js(t,s):s,pd=t=>(...s)=>{if(s.length===0)throw new Error("Can't merge zero objects");const i={};for(let u=0;u<s.length;u++){const m=s[u];for(const b in m)Ho(m,b)&&(i[b]=t(i[b],m[b]))}return i},Js=pd(zl),wr=pd(Om),Ua=()=>({tag:"required",process:{}}),r1=t=>({tag:"defaultedThunk",process:t}),Bu=t=>r1(Ee(t)),Pf=()=>({tag:"option",process:{}}),Rm=t=>({tag:"mergeWithThunk",process:t}),ue=t=>Rm(Ee(t)),Xd=(t,s)=>t.length>0?us.svalue(Js(s,wr.apply(void 0,t))):us.svalue(s),Ih=t=>lt(us.serror,Yt)(t),i1={consolidateObj:(t,s)=>{const i=us.partition(t);return i.errors.length>0?Ih(i.errors):Xd(i.values,s)},consolidateArr:t=>{const s=us.partition(t);return s.errors.length>0?Ih(s.errors):us.svalue(s.values)}},Qd=t=>G(t)&&Os(t).length>100?" removed due to size":JSON.stringify(t,null,2),a1=t=>{const s=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:Ee("... (only showing first ten failures)")}]):t;return Je(s,i=>"Failed path: ("+i.path.join(" > ")+`)
`+i.getErrorInfo())},ma=(t,s)=>us.serror([{path:t,getErrorInfo:s}]),wv=(t,s,i)=>ma(t,()=>'Could not find valid *required* value for "'+s+'" in '+Qd(i)),Im=(t,s)=>ma(t,()=>'Choice schema did not contain choice key: "'+s+'"'),e0=(t,s,i)=>ma(t,()=>'The chosen schema: "'+i+'" did not exist in branches: '+Qd(s)),Fu=(t,s)=>ma(t,()=>"There are unsupported fields: ["+s.join(", ")+"] specified"),c1=(t,s)=>ma(t,Ee(s)),za=t=>{const s=(u,m)=>us.bindError(t(m),b=>c1(u,b)),i=Ee("val");return{extract:s,toString:i}},Lf=za(us.svalue),t0=(t,s,i,u)=>an(s,i).fold(()=>wv(t,i,s),u),Wg=(t,s,i,u)=>{const m=an(t,s).getOrThunk(()=>i(t));return u(m)},$f=(t,s,i)=>i(an(t,s)),Tv=(t,s,i,u)=>{const m=an(t,s).map(b=>b===!0?i(t):b);return u(m)},Hu=(t,s,i,u,m)=>{const b=O=>m.extract(s.concat([u]),O),w=O=>O.fold(()=>us.svalue(P.none()),M=>{const B=m.extract(s.concat([u]),M);return us.map(B,P.some)});switch(t.tag){case"required":return t0(s,i,u,b);case"defaultedThunk":return Wg(i,u,t.process,b);case"option":return $f(i,u,w);case"defaultedOptionThunk":return Tv(i,u,t.process,w);case"mergeWithThunk":return Wg(i,u,Ee({}),O=>{const M=Js(t.process(i),O);return b(M)})}},Qr=(t,s,i)=>{const u={},m=[];for(const b of i)Er(b,(w,O,M,B)=>{const W=Hu(M,t,s,w,B);us.fold(W,Y=>{m.push(...Y)},Y=>{u[O]=Y})},(w,O)=>{u[w]=O(s)});return m.length>0?us.serror(m):us.svalue(u)},Gg=t=>({extract:(u,m)=>t().extract(u,m),toString:()=>t().toString()}),ai=t=>Os($r(t,fe)),ga=t=>{const s=Pn(t),i=Bt(t,(m,b)=>Er(b,w=>Js(m,{[w]:!0}),Ee(m)),{});return{extract:(m,b)=>{const w=_e(b)?[]:ai(b),O=uo(w,M=>!ca(i,M));return O.length===0?s.extract(m,b):Fu(m,O)},toString:s.toString}},Pn=t=>({extract:(u,m)=>Qr(u,m,t),toString:()=>`obj{
`+Je(t,m=>Er(m,(b,w,O,M)=>b+" -> "+M.toString(),(b,w)=>"state("+b+")")).join(`
`)+"}"}),nn=t=>({extract:(u,m)=>{const b=Je(m,(w,O)=>t.extract(u.concat(["["+O+"]"]),w));return i1.consolidateArr(b)},toString:()=>"array("+t.toString()+")"}),Dm=(t,s)=>{const i=s!==void 0?s:Ze;return{extract:(b,w)=>{const O=[];for(const M of t){const B=M.extract(b,w);if(B.stype===fa.Value)return{stype:fa.Value,svalue:i(B.svalue)};O.push(B)}return i1.consolidateArr(O)},toString:()=>"oneOf("+Je(t,b=>b.toString()).join(", ")+")"}},bl=(t,s)=>{const i=(b,w)=>nn(za(t)).extract(b,w);return{extract:(b,w)=>{const O=Os(w),M=i(b,O);return us.bind(M,B=>{const W=Je(B,Y=>nl(Y,Y,Ua(),s));return Pn(W).extract(b,w)})},toString:()=>"setOf("+s.toString()+")"}},yl=(t,s)=>{const i=Ei(s);return{extract:(b,w)=>i().extract(b,w),toString:()=>i().toString()}},qg=lt(nn,Pn),_l=Ee(Lf),ol=(t,s)=>za(i=>{const u=typeof i;return t(i)?us.svalue(i):us.serror(`Expected type: ${s} but got: ${u}`)}),Vu=ol(De,"number"),Dr=ol(U,"string"),vd=ol(_e,"boolean"),Dh=ol(we,"function"),Ut=t=>{if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(s=>Ut(t[s]));default:return!1}},n0=za(t=>Ut(t)?us.svalue(t):us.serror("Expected value to be acceptable for sending via postMessage")),Nm=(t,s,i,u)=>an(i,u).fold(()=>e0(t,i,u),b=>b.extract(t.concat(["branch: "+u]),s)),Wa=(t,s)=>({extract:(m,b)=>an(b,t).fold(()=>Im(m,t),O=>Nm(m,b,s,O)),toString:()=>"chooseOn("+t+"). Possible values: "+Os(s)}),bd=()=>nn(Lf),Jd=t=>za(s=>t(s).fold(us.serror,us.svalue)),hr=(t,s)=>bl(i=>us.fromResult(t(i)),s),jg=(t,s,i)=>{const u=s.extract([t],i);return us.mapError(u,m=>({input:i,errors:m}))},ts=(t,s,i)=>us.toResult(jg(t,s,i)),Po=t=>t.fold(s=>{throw new Error(Cc(s))},Ze),Jr=(t,s,i)=>Po(ts(t,s,i)),Cc=t=>`Errors: 
`+a1(t.errors).join(`
`)+`

Input object: `+Qd(t.input),or=(t,s)=>Wa(t,Ms(s,Pn)),ef=(t,s)=>yl(t,s),jr=nl,ys=Ul,Wl=t=>Jd(s=>vo(t,s)?ro.value(s):ro.error(`Unsupported value: "${s}", choose one of "${t.join(", ")}".`)),At=t=>jr(t,t,Ua(),_l()),El=(t,s)=>jr(t,t,Ua(),s),Bf=t=>El(t,Vu),Wr=t=>El(t,Dr),Gl=(t,s)=>jr(t,t,Ua(),Wl(s)),Ga=t=>El(t,vd),ic=t=>El(t,Dh),Mm=(t,s)=>jr(t,t,Pf(),za(i=>us.serror("The field: "+t+" is forbidden. "+s))),ac=(t,s)=>jr(t,t,Ua(),Pn(s)),Zg=(t,s)=>jr(t,t,Ua(),qg(s)),Bi=(t,s)=>jr(t,t,Ua(),nn(s)),Yo=t=>jr(t,t,Pf(),_l()),Le=(t,s)=>jr(t,t,Pf(),s),$=t=>Le(t,Vu),ae=t=>Le(t,Dr),He=(t,s)=>Le(t,Wl(s)),Ft=t=>Le(t,Dh),In=(t,s)=>Le(t,nn(s)),dn=(t,s)=>Le(t,Pn(s)),Ko=(t,s)=>Le(t,ga(s)),We=(t,s)=>jr(t,t,Bu(s),_l()),Gr=(t,s,i)=>jr(t,t,Bu(s),i),ci=(t,s)=>Gr(t,s,Vu),ta=(t,s)=>Gr(t,s,Dr),Hr=(t,s,i)=>Gr(t,s,Wl(i)),li=(t,s)=>Gr(t,s,vd),Ti=(t,s)=>Gr(t,s,Dh),tf=(t,s)=>Gr(t,s,n0),l1=(t,s,i)=>Gr(t,s,nn(i)),Nh=(t,s,i)=>Gr(t,s,Pn(i)),Wn=t=>{let s=t;return{get:()=>s,set:m=>{s=m}}},mu={generate:t=>{if(!Q(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");const s=[],i={};return It(t,(u,m)=>{const b=Os(u);if(b.length!==1)throw new Error("one and only one name per case");const w=b[0],O=u[w];if(i[w]!==void 0)throw new Error("duplicate key detected:"+w);if(w==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Q(O))throw new Error("case arguments must be an array");s.push(w),i[w]=(...M)=>{const B=M.length;if(B!==O.length)throw new Error("Wrong number of arguments to case "+w+". Expected "+O.length+" ("+O+"), got "+B);return{fold:(...Y)=>{if(Y.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+Y.length);return Y[m].apply(null,M)},match:Y=>{const ee=Os(Y);if(s.length!==ee.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+ee.join(","));if(!pi(s,be=>vo(ee,be)))throw new Error("Not all branches were specified when using match. Specified: "+ee.join(", ")+`
Required: `+s.join(", "));return Y[w].apply(null,M)},log:Y=>{console.log(Y,{constructors:s,constructor:w,params:M})}}}}),i}};mu.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Ma=t=>{const s=[],i=[];return It(t,u=>{u.fold(m=>{s.push(m)},m=>{i.push(m)})}),{errors:s,values:i}},Cv=(t,s)=>{const i={};return Yr(t,(u,m)=>{vo(s,m)||(i[m]=u)}),i},yd=(t,s)=>({[t]:s}),f_=t=>{const s={};return It(t,i=>{s[i.key]=i.value}),s},km=(t,s)=>Cv(t,s),Uu=(t,s)=>yd(t,s),Sc=t=>f_(t),wl=(t,s)=>t.length===0?ro.value(s):ro.value(Js(s,wr.apply(void 0,t))),Sv=t=>ro.error(Yt(t)),h_=(t,s)=>{const i=Ma(t);return i.errors.length>0?Sv(i.errors):wl(i.values,s)},_d=t=>we(t)?t:wt,u1=(t,s,i)=>{let u=t.dom;const m=_d(i);for(;u.parentNode;){u=u.parentNode;const b=Xe.fromDom(u),w=s(b);if(w.isSome())return w;if(m(b))break}return P.none()},Av=(t,s,i)=>{const u=s(t),m=_d(i);return u.orThunk(()=>m(t)?P.none():u1(t,s,m))},Pm=(t,s)=>bs(t.element,s.event.target),Kg={can:Ot,abort:wt,run:oe},Ff=t=>{if(!ca(t,"can")&&!ca(t,"abort")&&!ca(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return{...Kg,...t}},xv=(t,s)=>(...i)=>ps(t,(u,m)=>u&&s(m).apply(void 0,i),!0),Ov=(t,s)=>(...i)=>ps(t,(u,m)=>u||s(m).apply(void 0,i),!1),Ss=t=>we(t)?{can:Ot,abort:wt,run:t}:t,o0=t=>{const s=xv(t,m=>m.can),i=Ov(t,m=>m.abort);return{can:s,abort:i,run:(...m)=>{It(t,b=>{b.run.apply(void 0,m)})}}},pa=Ee,ql=pa("touchstart"),Lm=pa("touchmove"),Mh=pa("touchend"),m_=pa("touchcancel"),Fi=pa("mousedown"),Tl=pa("mousemove"),kh=pa("mouseout"),Ph=pa("mouseup"),nf=pa("mouseover"),Hf=pa("focusin"),Cl=pa("focusout"),na=pa("keydown"),Rv=pa("keyup"),Hc=pa("input"),jl=pa("change"),Sl=pa("click"),Xg=pa("transitioncancel"),Lh=pa("transitionend"),Iv=pa("transitionstart"),s0=pa("selectstart"),mr=t=>Ee("alloy."+t),Dv={tap:mr("tap")},Vc=mr("focus"),Nv=mr("blur.post"),Mv=mr("paste.post"),Vf=mr("receive"),zs=mr("execute"),of=mr("focus.item"),d1=Dv.tap,kv=mr("longpress"),$m=mr("sandbox.close"),f1=mr("typeahead.cancel"),Qg=mr("system.init"),g_=mr("system.touchmove"),sl=mr("system.touchend"),zu=mr("system.scroll"),Uf=mr("system.resize"),sf=mr("system.attached"),Wu=mr("system.detached"),gu=mr("system.dismissRequested"),Jg=mr("system.repositionRequested"),h1=mr("focusmanager.shifted"),zf=mr("slotcontainer.visibility"),r0=mr("system.external.element.scroll"),Bm=mr("change.tab"),Fm=mr("dismiss.tab"),p_=mr("highlight"),ep=mr("dehighlight"),ss=(t,s)=>{tp(t,t.element,s,{})},Mn=(t,s,i)=>{tp(t,t.element,s,i)},rf=t=>{ss(t,zs())},af=(t,s,i)=>{tp(t,s,i,{})},tp=(t,s,i,u)=>{const m={target:s,...u};t.getSystem().triggerEvent(i,s,m)},m1=(t,s,i,u)=>{const m={...u,target:s};t.getSystem().triggerEvent(i,s,m)},i0=(t,s,i,u)=>{t.getSystem().triggerEvent(i,s,u.event)},js=t=>Sc(t),g1=(t,s)=>({key:t,value:Ff({abort:s})}),Pv=(t,s)=>({key:t,value:Ff({can:s})}),Lv=t=>({key:t,value:Ff({run:(s,i)=>{i.event.prevent()}})}),Dt=(t,s)=>({key:t,value:Ff({run:s})}),$v=(t,s,i)=>({key:t,value:Ff({run:(u,m)=>{s.apply(void 0,[u,m].concat(i))}})}),Ed=t=>s=>Dt(t,s),$h=t=>s=>({key:t,value:Ff({run:(i,u)=>{Pm(i,u)&&s(i,u)}})}),p1=(t,s)=>Dt(t,(i,u)=>{i.getSystem().getByUid(s).each(m=>{i0(m,m.element,t,u)})}),Wf=(t,s,i)=>{const u=s.partUids[i];return p1(t,u)},np=(t,s)=>Dt(t,(i,u)=>{const m=u.event,b=i.getSystem().getByDom(m.target).getOrThunk(()=>Av(m.target,O=>i.getSystem().getByDom(O).toOptional(),wt).getOr(i));s(i,b,u)}),Hm=t=>Dt(t,(s,i)=>{i.cut()}),a0=t=>Dt(t,(s,i)=>{i.stop()}),qa=(t,s)=>$h(t)(s),Tr=$h(sf()),Ac=$h(Wu()),Vm=$h(Qg()),Zl=Ed(zs()),Um=(t,s)=>{const u=(s||document).createElement("div");return u.innerHTML=t,tc(Xe.fromDom(u))},Oo=t=>t.dom.innerHTML,wd=(t,s)=>{const u=ri(t).dom,m=Xe.fromDom(u.createDocumentFragment()),b=Um(s,u);Ht(m,b),ct(t),Pe(t,m)},v1=t=>{const s=Xe.fromTag("div"),i=Xe.fromDom(t.dom.cloneNode(!0));return Pe(s,i),Oo(s)},Bh=(t,s)=>Xe.fromDom(t.dom.cloneNode(s)),Gf=t=>Bh(t,!1),cf=t=>{if(Sm(t))return"#shadow-root";{const s=Gf(t);return v1(s)}},Gu=t=>cf(t),cc=(t,s,i)=>bs(s,t.element)&&!bs(s,i),Fw=js([Pv(Vc(),(t,s)=>{const i=s.event,u=i.originator,m=i.target;return cc(t,u,m)?(console.warn(Vc()+` did not get interpreted by the desired target. 
Originator: `+Gu(u)+`
Target: `+Gu(m)+`
Check the `+Vc()+" event handlers"),!1):!0})]);var op=Object.freeze({__proto__:null,events:Fw});let Hi=0;const _n=t=>{const i=new Date().getTime(),u=Math.floor(Math.random()*1e9);return Hi++,t+"_"+u+Hi+String(i)},Bv=Ee("alloy-id-"),v_=Ee("data-alloy-id"),lc=Bv(),c0=v_(),lf=(t,s)=>{const i=_n(lc+t);return Uc(s,i),i},Uc=(t,s)=>{Object.defineProperty(t.dom,c0,{value:s,writable:!0})},qu=t=>{const s=Cs(t)?t.dom[c0]:null;return P.from(s)},Yl=t=>_n(t),sp=Ze,zm=t=>{const s=m=>`The component must be in a context to execute: ${m}`+(t?`
`+Gu(t().element)+" is not in context.":""),i=m=>()=>{throw new Error(s(m))},u=m=>()=>{console.warn(s(m))};return{debugInfo:Ee("fake"),triggerEvent:u("triggerEvent"),triggerFocus:u("triggerFocus"),triggerEscape:u("triggerEscape"),broadcast:u("broadcast"),broadcastOn:u("broadcastOn"),broadcastEvent:u("broadcastEvent"),build:i("build"),buildOrPatch:i("buildOrPatch"),addToWorld:i("addToWorld"),removeFromWorld:i("removeFromWorld"),addToGui:i("addToGui"),removeFromGui:i("removeFromGui"),getByUid:i("getByUid"),getByDom:i("getByDom"),isConnected:wt}},Hw=zm(),rp=(t,s,i)=>{const u=i.toString(),m=u.indexOf(")")+1,b=u.indexOf("("),w=u.substring(b+1,m-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:ip(w.slice(0,1).concat(w.slice(3)))}),t},ip=t=>Je(t,s=>Fa(s,"/*")?s.substring(0,s.length-2):s),Wm=(t,s)=>{const i=t.toString(),u=i.indexOf(")")+1,m=i.indexOf("("),b=i.substring(m+1,u-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:ip(b)}),t},ap=(t,s)=>{const i=s.toString(),u=i.indexOf(")")+1,m=i.indexOf("("),b=i.substring(m+1,u-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:ip(b.slice(1))}),t},Gm=_n("alloy-premade"),b_=t=>(Object.defineProperty(t.element.dom,Gm,{value:t.uid,writable:!0}),Uu(Gm,t)),Fv=t=>Ho(t.dom,Gm),Fh=t=>an(t,Gm),b1=t=>ap((s,...i)=>t(s.getApis(),s,...i),t),Al={init:()=>xc({readState:Ee("No State required")})},xc=t=>t,uf=(t,s)=>{const i=Je(s,m=>dn(m.name(),[At("config"),We("state",Al)])),u=ts("component.behaviours",Pn(i),t.behaviours).fold(m=>{throw new Error(Cc(m)+`
Complete spec:
`+JSON.stringify(t,null,2))},Ze);return{list:s,data:Ms(u,m=>{const b=m.map(w=>({config:w.config,state:w.state.init(w.config)}));return Ee(b)})}},Hh=t=>t.list,Hv=t=>t.data,cp=(t,s)=>{const i={};return Yr(t,(u,m)=>{Yr(u,(b,w)=>{const O=an(i,w).getOr([]);i[w]=O.concat([s(m,b)])})}),i},ju=t=>({classes:ve(t.classes)?[]:t.classes,attributes:ve(t.attributes)?{}:t.attributes,styles:ve(t.styles)?{}:t.styles}),qm=(t,s)=>({...t,attributes:{...t.attributes,...s.attributes},styles:{...t.styles,...s.styles},classes:t.classes.concat(s.classes)}),jm=(t,s,i,u)=>{const m={...s};It(i,W=>{m[W.name()]=W.exhibit(t,u)});const b=cp(m,(W,Y)=>({name:W,modification:Y})),w=W=>Bt(W,(Y,ee)=>({...ee.modification,...Y}),{}),O=Bt(b.classes,(W,Y)=>Y.modification.concat(W),[]),M=w(b.attributes),B=w(b.styles);return ju({classes:O,attributes:M,styles:B})},uc=(t,s,i,u)=>{try{const m=Pc(i,(b,w)=>{const O=b[s],M=w[s],B=u.indexOf(O),W=u.indexOf(M);if(B===-1)throw new Error("The ordering for "+t+" does not have an entry for "+O+`.
Order specified: `+JSON.stringify(u,null,2));if(W===-1)throw new Error("The ordering for "+t+" does not have an entry for "+M+`.
Order specified: `+JSON.stringify(u,null,2));return B<W?-1:W<B?1:0});return ro.value(m)}catch(m){return ro.error([m])}},qf=(t,s)=>({handler:t,purpose:s}),Vw=(t,s)=>({cHandler:t,purpose:s}),l0=(t,s)=>Vw(Et.apply(void 0,[t.handler].concat(s)),t.purpose),u0=t=>t.cHandler,sr=(t,s)=>({name:t,handler:s}),Uw=(t,s)=>{const i={};return It(t,u=>{i[u.name()]=u.handlers(s)}),i},y_=(t,s,i)=>{const u={...i,...Uw(s,t)};return cp(u,sr)},zw=(t,s,i,u)=>{const m=y_(t,i,u);return Vi(m,s)},Vv=t=>{const s=Ss(t);return(i,u,...m)=>{const b=[i,u].concat(m);s.abort.apply(void 0,b)?u.stop():s.can.apply(void 0,b)&&s.run.apply(void 0,b)}},lp=(t,s)=>ro.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Je(s,i=>i.name),null,2)]),jf=(t,s,i)=>{const u=s[i];return u?uc("Event: "+i,"name",t,u).map(m=>{const b=Je(m,w=>w.handler);return o0(b)}):lp(i,t)},Vi=(t,s)=>{const i=Gd(t,(u,m)=>(u.length===1?ro.value(u[0].handler):jf(u,s,m)).map(w=>{const O=Vv(w),M=u.length>1?uo(s[m],B=>Bo(u,W=>W.name===B)).join(" > "):u[0].name;return Uu(m,qf(O,M))}));return h_(i,{})},Zf="alloy.base.behaviour",d0=Pn([jr("dom","dom",Ua(),Pn([At("tag"),We("styles",{}),We("classes",[]),We("attributes",{}),Yo("value"),Yo("innerHtml")])),At("components"),At("uid"),We("events",{}),We("apis",{}),jr("eventOrder","eventOrder",ue({[zs()]:["disabling",Zf,"toggling","typeaheadevents"],[Vc()]:[Zf,"focusing","keying"],[Qg()]:[Zf,"disabling","toggling","representing"],[Hc()]:[Zf,"representing","streaming","invalidating"],[Wu()]:[Zf,"representing","item-events","tooltipping"],[Fi()]:["focusing",Zf,"item-type-events"],[ql()]:["focusing",Zf,"item-type-events"],[nf()]:["item-type-events","tooltipping"],[Vf()]:["receiving","reflecting","tooltipping"]}),_l()),Yo("domModification")]),Ci=t=>ts("custom.definition",d0,t),Uv=t=>({...t.dom,uid:t.uid,domChildren:Je(t.components,s=>s.element)}),y1=t=>t.domModification.fold(()=>ju({}),ju),pA=t=>t.events,__=(t,s)=>{const i=Mi(t,s);return i===void 0||i===""?[]:i.split(" ")},Vh=(t,s,i)=>{const m=__(t,s).concat([i]);return co(t,s,m.join(" ")),!0},Yf=(t,s,i)=>{const u=uo(__(t,s),m=>m!==i);return u.length>0?co(t,s,u.join(" ")):T(t,s),!1},zv=t=>t.dom.classList!==void 0,E_=t=>__(t,"class"),vA=(t,s)=>Vh(t,"class",s),Td=(t,s)=>Yf(t,"class",s),As=(t,s)=>{zv(t)?t.dom.classList.add(s):vA(t,s)},w_=t=>{(zv(t)?t.dom.classList:E_(t)).length===0&&T(t,"class")},Ls=(t,s)=>{zv(t)?t.dom.classList.remove(s):Td(t,s),w_(t)},oa=(t,s)=>zv(t)&&t.dom.classList.contains(s),pu=(t,s)=>{It(s,i=>{As(t,i)})},zc=(t,s)=>{It(s,i=>{Ls(t,i)})},Uh=(t,s)=>pi(s,i=>oa(t,i)),up=t=>{const s=t.dom.classList,i=new Array(s.length);for(let u=0;u<s.length;u++){const m=s.item(u);m!==null&&(i[u]=m)}return i},Kf=t=>zv(t)?up(t):E_(t),Kl=t=>t.dom.value,Zu=(t,s)=>{if(s===void 0)throw new Error("Value.set was undefined");t.dom.value=s},zh=(t,s,i)=>Du(t,s).map(m=>{if(i.exists(w=>!bs(w,m))){const w=i.map(Ja).getOr("span"),O=Xe.fromTag(w);return Tc(m,O),O}else return m}),_1=(t,s,i)=>{i.fold(()=>Pe(t,s),u=>{bs(u,s)||(Tc(u,s),Ct(u))})},f0=(t,s,i)=>{const u=Je(s,i),m=tc(t);return It(m.slice(u.length),Ct),u},T_=(t,s,i,u)=>{const m=Du(t,s),b=u(i,m),w=zh(t,s,m);return _1(t,b.element,w),b},C_=(t,s,i)=>f0(t,s,(u,m)=>T_(t,m,u,i)),dp=(t,s)=>f0(t,s,(i,u)=>{const m=Du(t,u);return _1(t,i,m),i}),h0=(t,s)=>{const i=Os(t),u=Os(s),m=Lt(u,i),b=vr(t,(w,O)=>!Ho(s,O)||w!==s[O]).t;return{toRemove:m,toSet:b}},Ww=(t,s)=>{const{class:i,style:u,...m}=I(s),{toSet:b,toRemove:w}=h0(t.attributes,m),O=()=>{It(w,ut=>T(s,ut)),Do(s,b)},M=yt(s),{toSet:B,toRemove:W}=h0(t.styles,M),Y=()=>{It(W,ut=>ot(s,ut)),re(s,B)},ee=Kf(s),se=Lt(ee,t.classes),be=Lt(t.classes,ee),Ie=()=>{pu(s,be),zc(s,se)},nt=ut=>{wd(s,ut)},Ue=()=>{const ut=t.domChildren;dp(s,ut)},tt=()=>{const ut=s,pt=t.value.getOrUndefined();pt!==Kl(ut)&&Zu(ut,pt??"")};return O(),Ie(),Y(),t.innerHtml.fold(Ue,nt),tt(),s},Gw=t=>{const s=Xe.fromTag(t.tag);Do(s,t.attributes),pu(s,t.classes),re(s,t.styles),t.innerHtml.each(u=>wd(s,u));const i=t.domChildren;return Ht(s,i),t.value.each(u=>{Zu(s,u)}),s},S_=(t,s)=>{try{const i=Ww(t,s);return P.some(i)}catch{return P.none()}},A_=t=>t.innerHtml.isSome()&&t.domChildren.length>0,m0=(t,s)=>{const i=m=>Ja(m)===t.tag&&!A_(t)&&!Fv(m),u=s.filter(i).bind(m=>S_(t,m)).getOrThunk(()=>Gw(t));return Uc(u,t.uid),u},x_=t=>{const s=an(t,"behaviours").getOr({});return mt(Os(s),i=>{const u=s[i];return fe(u)?[u.me]:[]})},qw=(t,s)=>uf(t,s),g0=t=>{const s=x_(t);return qw(t,s)},Zm=(t,s,i)=>{const u=Uv(t),m=y1(t),b={"alloy.base.modification":m},w=s.length>0?jm(i,b,s,u):m;return qm(u,w)},p0=(t,s,i)=>{const u={"alloy.base.behaviour":pA(t)};return zw(i,t.eventOrder,s,u).getOrDie()},jw=(t,s)=>{const i=()=>ut,u=Wn(Hw),m=Po(Ci(t)),b=g0(t),w=Hh(b),O=Hv(b),M=Zm(m,w,O),B=m0(M,s),W=p0(m,w,O),Y=Wn(m.components),ee=pt=>{u.set(pt)},se=()=>{u.set(zm(i))},be=()=>{const pt=tc(B),Qt=mt(pt,Pt=>u.get().getByDom(Pt).fold(()=>[],Ns));Y.set(Qt)},Ie=pt=>{const Qt=O;return(we(Qt[pt.name()])?Qt[pt.name()]:()=>{throw new Error("Could not find "+pt.name()+" in "+JSON.stringify(t,null,2))})()},nt=pt=>we(O[pt.name()]),Ue=()=>m.apis,tt=pt=>O[pt]().map(Qt=>Qt.state.readState()).getOr("not enabled"),ut={uid:t.uid,getSystem:u.get,config:Ie,hasConfigured:nt,spec:t,readState:tt,getApis:Ue,connect:ee,disconnect:se,element:B,syncComponents:be,components:Y.get,events:W};return ut},Zw=(t,s)=>{const i=an(t,"components").getOr([]);return s.fold(()=>Je(i,dc),u=>Je(i,(m,b)=>Wv(m,Du(u,b))))},O_=(t,s)=>{const{events:i,...u}=sp(t),m=Zw(u,s),b={...u,events:{...op,...i},components:m};return ro.value(jw(b,s))},Cr=t=>{const s=Xe.fromText(t);return df({element:s})},df=t=>{const s=Jr("external.component",ga([At("element"),Yo("uid")]),t),i=Wn(zm()),u=O=>{i.set(O)},m=()=>{i.set(zm(()=>w))},b=s.uid.getOrThunk(()=>Yl("external"));Uc(s.element,b);const w={uid:b,getSystem:i.get,config:P.none,hasConfigured:wt,connect:u,disconnect:m,getApis:()=>({}),element:s.element,spec:t,readState:Ee("No state"),syncComponents:oe,components:Ee([]),events:{}};return b_(w)},Wh=Yl,R_=t=>Ho(t,"uid"),Wv=(t,s)=>Fh(t).getOrThunk(()=>{const i=R_(t)?t:{uid:Wh(""),...t};return O_(i,s).getOrDie()}),dc=t=>Wv(t,P.none()),rl=b_;var Ym=(t,s,i,u,m)=>t(i,u)?P.some(i):we(m)&&m(i)?P.none():s(i,u,m);const Gv=(t,s,i)=>{let u=t.dom;const m=we(i)?i:wt;for(;u.parentNode;){u=u.parentNode;const b=Xe.fromDom(u);if(s(b))return P.some(b);if(m(b))break}return P.none()},v0=(t,s,i)=>Ym((m,b)=>b(m),Gv,t,s,i),I_=(t,s)=>{const i=m=>s(Xe.fromDom(m));return kn(t.dom.childNodes,i).map(Xe.fromDom)},b0=(t,s)=>{const i=u=>{for(let m=0;m<u.childNodes.length;m++){const b=Xe.fromDom(u.childNodes[m]);if(s(b))return P.some(b);const w=i(u.childNodes[m]);if(w.isSome())return w}return P.none()};return i(t.dom)},D_=(t,s,i)=>v0(t,s,i).isSome(),xl=(t,s,i)=>Gv(t,u=>yc(u,s),i),Xf=(t,s)=>I_(t,i=>yc(i,s)),Nr=(t,s)=>du(s,t),ff=(t,s,i)=>Ym((m,b)=>yc(m,b),xl,t,s,i),Cd="aria-controls",Yw=t=>v0(t,i=>{if(!Cs(i))return!1;const u=Mi(i,"id");return u!==void 0&&u.indexOf(Cd)>-1}).bind(i=>{const u=Mi(i,"id"),m=xa(i);return Nr(m,`[${Cd}="${u}"]`)}),N_=()=>{const t=_n(Cd);return{id:t,link:u=>{co(u,Cd,t)},unlink:u=>{T(u,Cd)}}},y0=(t,s)=>Yw(s).exists(i=>Km(t,i)),Km=(t,s)=>D_(s,i=>bs(i,t.element),wt)||y0(t,s),_0="unknown";var fp;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(fp||(fp={}));const Xm=Wn({}),Kw=(t,s)=>{const i=[],u=new Date().getTime();return{logEventCut:(m,b,w)=>{i.push({outcome:"cut",target:b,purpose:w})},logEventStopped:(m,b,w)=>{i.push({outcome:"stopped",target:b,purpose:w})},logNoParent:(m,b,w)=>{i.push({outcome:"no-parent",target:b,purpose:w})},logEventNoHandlers:(m,b)=>{i.push({outcome:"no-handlers-left",target:b})},logEventResponse:(m,b,w)=>{i.push({outcome:"response",purpose:w,target:b})},write:()=>{const m=new Date().getTime();vo(["mousemove","mouseover","mouseout",Qg()],t)||console.log(t,{event:t,time:m-u,target:s.dom,sequence:Je(i,b=>vo(["cut","stopped","response"],b.outcome)?"{"+b.purpose+"} "+b.outcome+" at ("+Gu(b.target)+")":b.outcome)})}}},E1=(t,s,i)=>{switch(an(Xm.get(),t).orThunk(()=>{const m=Os(Xm.get());return nr(m,b=>t.indexOf(b)>-1?P.some(Xm.get()[b]):P.none())}).getOr(fp.NORMAL)){case fp.NORMAL:return i(jv());case fp.LOGGING:{const m=Kw(t,s),b=i(m);return m.write(),b}case fp.STOP:return!0}},w1=["alloy/data/Fields","alloy/debugging/Debugging"],E0=()=>{const t=new Error;if(t.stack!==void 0){const s=t.stack.split(`
`);return kn(s,i=>i.indexOf("alloy")>0&&!Bo(w1,u=>i.indexOf(u)>-1)).getOr(_0)}else return _0},qv={logEventCut:oe,logEventStopped:oe,logNoParent:oe,logEventNoHandlers:oe,logEventResponse:oe,write:oe},hp=(t,s,i)=>E1(t,s,i),jv=Ee(qv),Gh=Ee([At("menu"),At("selectedMenu")]),mp=Ee([At("item"),At("selectedItem")]);Ee(Pn(mp().concat(Gh())));const M_=Ee(Pn(mp())),k_=ac("initSize",[At("numColumns"),At("numRows")]),T1=()=>El("markers",M_()),Sd=()=>ac("markers",[At("backgroundMenu")].concat(Gh()).concat(mp())),vu=t=>ac("markers",Je(t,At)),C1=(t,s,i)=>(E0(),jr(s,s,i,Jd(u=>ro.value((...m)=>u.apply(void 0,m))))),Ye=t=>C1("onHandler",t,Bu(oe)),Sr=t=>C1("onKeyboardHandler",t,Bu(P.none)),Qm=t=>C1("onHandler",t,Ua()),w0=t=>C1("onKeyboardHandler",t,Ua()),er=(t,s)=>ys(t,Ee(s)),Yu=t=>ys(t,Ze),S1=Ee(k_),sa=(t,s,i,u,m,b,w,O=!1)=>({x:t,y:s,bubble:i,direction:u,placement:m,restriction:b,label:`${w}-${m}`,alwaysFit:O}),Ku=mu.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),T0=(t,s,i,u,m,b,w,O,M)=>t.fold(s,i,u,m,b,w,O,M),P_=(t,s,i,u)=>t.fold(s,s,u,u,s,u,i,i),Zv=(t,s,i,u)=>t.fold(s,u,s,u,i,i,s,u),Jm=Ku.southeast,qh=Ku.southwest,Yv=Ku.northeast,A1=Ku.northwest,Oc=Ku.south,x1=Ku.north,C0=Ku.east,O1=Ku.west,Qf=(t,s,i,u)=>{const m=t+s;return m>u?i:m<i?u:m},Rc=(t,s,i)=>Math.min(Math.max(t,s),i),Xw=(t,s)=>{switch(s){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},va=(t,s)=>Lr(["left","right","top","bottom"],i=>an(s,i).map(u=>Xw(t,u))),Kv=(t,s,i)=>{const u=(M,B)=>s[M].map(W=>{const Y=M==="top"||M==="bottom",ee=Y?i.top:i.left,be=(M==="left"||M==="top"?Math.max:Math.min)(W,B)+ee;return Y?Rc(be,t.y,t.bottom):Rc(be,t.x,t.right)}).getOr(B),m=u("left",t.x),b=u("top",t.y),w=u("right",t.right),O=u("bottom",t.bottom);return Ps(m,b,w-m,O-b)},hf="layout",R1=t=>t.x,L_=(t,s)=>t.x+t.width/2-s.width/2,S0=(t,s)=>t.x+t.width-s.width,A0=(t,s)=>t.y-s.height,x0=t=>t.y+t.height,O0=(t,s)=>t.y+t.height/2-s.height/2,$_=t=>t.x+t.width,Qw=(t,s)=>t.x-s.width,ba=(t,s,i)=>sa(R1(t),x0(t),i.southeast(),Jm(),"southeast",va(t,{left:1,top:3}),hf),Ui=(t,s,i)=>sa(S0(t,s),x0(t),i.southwest(),qh(),"southwest",va(t,{right:0,top:3}),hf),Wc=(t,s,i)=>sa(R1(t),A0(t,s),i.northeast(),Yv(),"northeast",va(t,{left:1,bottom:2}),hf),Ol=(t,s,i)=>sa(S0(t,s),A0(t,s),i.northwest(),A1(),"northwest",va(t,{right:0,bottom:2}),hf),Is=(t,s,i)=>sa(L_(t,s),A0(t,s),i.north(),x1(),"north",va(t,{bottom:2}),hf),ka=(t,s,i)=>sa(L_(t,s),x0(t),i.south(),Oc(),"south",va(t,{top:3}),hf),Xu=(t,s,i)=>sa($_(t),O0(t,s),i.east(),C0(),"east",va(t,{left:0}),hf),Jf=(t,s,i)=>sa(Qw(t,s),O0(t,s),i.west(),O1(),"west",va(t,{right:1}),hf),ds=()=>[ba,Ui,Wc,Ol,ka,Is,Xu,Jf],Xv=()=>[Ui,ba,Ol,Wc,ka,Is,Xu,Jf],Gc=()=>[Wc,Ol,ba,Ui,Is,ka],zi=()=>[Ol,Wc,Ui,ba,Is,ka],I1=()=>[ba,Ui,Wc,Ol,ka,Is],Ad=()=>[Ui,ba,Ol,Wc,ka,Is],R0=(t,s)=>s.universal?t:uo(t,i=>vo(s.channels,i));var Qv=Object.freeze({__proto__:null,events:t=>js([Dt(Vf(),(s,i)=>{const u=t.channels,m=Os(u),b=i,w=R0(m,b);It(w,O=>{const M=u[O],B=M.schema,W=Jr("channel["+O+`] data
Receiver: `+Gu(s.element),B,b.data);M.onReceive(s,W)})})])}),I0=[El("channels",hr(ro.value,ga([Qm("onReceive"),We("schema",_l())])))];const Jv=(t,s,i)=>Zl(u=>{i(u,t,s)}),D1=(t,s,i)=>Vm((u,m)=>{i(u,t,s)}),B_=(t,s,i,u,m,b)=>{const w=ga(t),O=dn(s,[Ko("config",t)]);return Wi(w,O,s,i,u,m,b)},yn=(t,s,i,u,m,b)=>{const w=t,O=dn(s,[Le("config",t)]);return Wi(w,O,s,i,u,m,b)},eb=(t,s,i)=>rp((m,...b)=>{const w=[m].concat(b);return m.config({name:Ee(t)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+i)},O=>{const M=Array.prototype.slice.call(w,1);return s.apply(void 0,[m,O.config,O.state].concat(M))})},i,s),N1=t=>({key:t,value:void 0}),Wi=(t,s,i,u,m,b,w)=>{const O=Y=>ca(Y,i)?Y[i]():P.none(),M=Ms(m,(Y,ee)=>eb(i,Y,ee)),W={...Ms(b,(Y,ee)=>Wm(Y,ee)),...M,revoke:Et(N1,i),config:Y=>{const ee=Jr(i+"-config",t,Y);return{key:i,value:{config:ee,me:W,configAsRaw:Ei(()=>Jr(i+"-config",t,Y)),initialConfig:Y,state:w}}},schema:Ee(s),exhibit:(Y,ee)=>id(O(Y),an(u,"exhibit"),(se,be)=>be(ee,se.config,se.state)).getOrThunk(()=>ju({})),name:Ee(i),handlers:Y=>O(Y).map(ee=>an(u,"events").getOr(()=>({}))(ee.config,ee.state)).getOr({})};return W},kt=t=>Sc(t),F_=ga([At("fields"),At("name"),We("active",{}),We("apis",{}),We("state",Al),We("extra",{})]),ya=t=>{const s=Jr("Creating behaviour: "+t.name,F_,t);return B_(s.fields,s.name,s.active,s.apis,s.extra,s.state)},Jw=ga([At("branchKey"),At("branches"),At("name"),We("active",{}),We("apis",{}),We("state",Al),We("extra",{})]),H_=t=>{const s=Jr("Creating behaviour: "+t.name,Jw,t);return yn(or(s.branchKey,s.branches),s.name,s.active,s.apis,s.extra,s.state)},V_=Ee(void 0),bu=ya({fields:I0,name:"receiving",active:Qv});var gp=Object.freeze({__proto__:null,exhibit:(t,s)=>ju({classes:[],styles:s.useFixed()?{}:{position:"relative"}})});const il=t=>t.dom.focus(),M1=t=>t.dom.blur(),k1=t=>{const s=xa(t).dom;return t.dom===s.activeElement},xd=(t=so())=>P.from(t.dom.activeElement).map(Xe.fromDom),Xl=t=>xd(xa(t)).filter(s=>t.dom.contains(s.dom)),al=(t,s)=>{const i=xa(s),u=xd(i).bind(b=>{const w=O=>bs(b,O);return w(s)?P.some(s):b0(s,w)}),m=t(s);return u.each(b=>{xd(i).filter(w=>bs(w,b)).fold(()=>{il(b)},oe)}),m},Ic=(t,s,i,u,m)=>{const b=w=>w+"px";return{position:t,left:s.map(b),top:i.map(b),right:u.map(b),bottom:m.map(b)}},eT=t=>({...t,position:P.some(t.position)}),tb=(t,s)=>{me(t,eT(s))},nb=mu.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),jh=(t,s,i,u,m,b)=>{const w=s.rect,O=w.x-i,M=w.y-u,B=w.width,W=w.height,Y=m-(O+B),ee=b-(M+W),se=P.some(O),be=P.some(M),Ie=P.some(Y),nt=P.some(ee),Ue=P.none();return T0(s.direction,()=>Ic(t,se,be,Ue,Ue),()=>Ic(t,Ue,be,Ie,Ue),()=>Ic(t,se,Ue,Ue,nt),()=>Ic(t,Ue,Ue,Ie,nt),()=>Ic(t,se,be,Ue,Ue),()=>Ic(t,se,Ue,Ue,nt),()=>Ic(t,se,be,Ue,Ue),()=>Ic(t,Ue,be,Ie,Ue))},U_=(t,s)=>t.fold(()=>{const i=s.rect;return Ic("absolute",P.some(i.x),P.some(i.y),P.none(),P.none())},(i,u,m,b)=>jh("absolute",s,i,u,m,b),(i,u,m,b)=>jh("fixed",s,i,u,m,b)),ob=(t,s)=>{const i=Et(Va,s),u=t.fold(i,i,()=>{const w=Xt();return Va(s).translate(-w.left,-w.top)}),m=Ir(s),b=lr(s);return Ps(u.left,u.top,m,b)},eh=(t,s)=>s.fold(()=>t.fold(Da,Da,Ps),i=>t.fold(Ee(i),Ee(i),()=>{const u=_s(t,i.x,i.y);return Ps(u.left,u.top,i.width,i.height)})),_s=(t,s,i)=>{const u=Kn(s,i),m=()=>{const b=Xt();return u.translate(-b.left,-b.top)};return t.fold(Ee(u),Ee(u),m)},eg=(t,s,i,u)=>t.fold(s,i,u);nb.none;const gr=nb.relative,z_=nb.fixed,tg=(t,s)=>({anchorBox:t,origin:s}),Mr=(t,s)=>tg(t,s),sb="data-alloy-placement",W_=(t,s)=>{co(t,sb,s)},pp=t=>Kr(t,sb),tT=t=>T(t,sb),P1=mu.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),G_=(t,s)=>{const{x:i,y:u,right:m,bottom:b}=s,{x:w,y:O,right:M,bottom:B,width:W,height:Y}=t,ee=w>=i&&w<=m,se=O>=u&&O<=b,be=ee&&se,Ie=M<=m&&M>=i,nt=B<=b&&B>=u,Ue=Ie&&nt,tt=Math.min(W,w>=i?m-w:M-i),ut=Math.min(Y,O>=u?b-O:B-u);return{originInBounds:be,sizeInBounds:Ue,visibleW:tt,visibleH:ut}},q_=(t,s)=>{const{x:i,y:u,right:m,bottom:b}=s,{x:w,y:O,width:M,height:B}=t,W=Math.max(i,m-M),Y=Math.max(u,b-B),ee=Rc(w,i,W),se=Rc(O,u,Y),be=Math.min(ee+M,m)-ee,Ie=Math.min(se+B,b)-se;return Ps(ee,se,be,Ie)},D0=(t,s,i)=>{const u=Ee(s.bottom-i.y),m=Ee(i.bottom-s.y),b=P_(t,m,m,u),w=Ee(s.right-i.x),O=Ee(i.right-s.x);return{maxWidth:Zv(t,O,O,w),maxHeight:b}},N0=(t,s,i,u)=>{const m=t.bubble,b=m.offset,w=Kv(u,t.restriction,b),O=t.x+b.left,M=t.y+b.top,B=Ps(O,M,s,i),{originInBounds:W,sizeInBounds:Y,visibleW:ee,visibleH:se}=G_(B,w),be=W&&Y,Ie=be?B:q_(B,w),nt=Ie.width>0&&Ie.height>0,{maxWidth:Ue,maxHeight:tt}=D0(t.direction,Ie,u),ut={rect:Ie,maxHeight:tt,maxWidth:Ue,direction:t.direction,placement:t.placement,classes:{on:m.classesOn,off:m.classesOff},layout:t.label,testY:M};return be||t.alwaysFit?P1.fit(ut):P1.nofit(ut,ee,se,nt)},j_=(t,s,i,u,m,b)=>{const w=u.width,O=u.height,M=(W,Y,ee,se,be)=>{const Ie=W(i,u,m,t,b),nt=N0(Ie,w,O,b);return nt.fold(Ee(nt),(Ue,tt,ut,pt)=>(be===pt?ut>se||tt>ee:!be&&pt)?nt:P1.nofit(Y,ee,se,be))};return ps(s,(W,Y)=>{const ee=Et(M,Y);return W.fold(Ee(W),ee)},P1.nofit({rect:i,maxHeight:u.height,maxWidth:u.width,direction:Jm(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:i.y},-1,-1,!1)).fold(Ze,Ze)},mf=t=>{const s=Wn(P.none()),i=()=>s.get().each(t);return{clear:()=>{i(),s.set(P.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:O=>{i(),s.set(P.some(O))}}},rb=()=>mf(t=>t.destroy()),_u=()=>mf(t=>t.unbind()),Zs=()=>{const t=mf(oe);return{...t,on:i=>t.get().each(i)}},vp=Ot,Dc=(t,s,i)=>Xr(t,s,vp,i),L1=(t,s,i)=>qs(t,s,vp,i),Z_=Un,ib=["top","bottom","right","left"],$1="data-alloy-transition-timer",M0=(t,s)=>Uh(t,s.classes),Y_=(t,s,i)=>i.exists(u=>{const m=t.mode;return m==="all"?!0:u[m]!==s[m]}),fc=(t,s)=>{const i=u=>parseFloat(u).toFixed(3);return bi(s,(u,m)=>{const b=t[m].map(i),w=u.map(i);return!_h(b,w)}).isSome()},Ql=t=>{const s=b=>{const O=pe(t,b).split(/\s*,\s*/);return uo(O,Sa)},i=b=>{if(U(b)&&/^[\d.]+/.test(b)){const w=parseFloat(b);return Fa(b,"ms")?w:w*1e3}else return 0},u=s("transition-delay"),m=s("transition-duration");return ps(m,(b,w,O)=>{const M=i(u[O])+i(w);return Math.max(b,M)},0)},nT=(t,s)=>{const i=_u(),u=_u();let m;const b=B=>{var W;const Y=(W=B.raw.pseudoElement)!==null&&W!==void 0?W:"";return bs(B.target,t)&&Br(Y)&&vo(ib,B.raw.propertyName)},w=B=>{if(de(B)||b(B)){i.clear(),u.clear();const W=B==null?void 0:B.raw.type;(de(W)||W===Lh())&&(clearTimeout(m),T(t,$1),zc(t,s.classes))}},O=Dc(t,Iv(),B=>{b(B)&&(O.unbind(),i.set(Dc(t,Lh(),w)),u.set(Dc(t,Xg(),w)))}),M=Ql(t);requestAnimationFrame(()=>{m=setTimeout(w,M+17),co(t,$1,m)})},oT=(t,s)=>{pu(t,s.classes),Kr(t,$1).each(i=>{clearTimeout(parseInt(i,10)),T(t,$1)}),nT(t,s)},sT=(t,s,i,u,m,b)=>{const w=Y_(u,m,b);if(w||M0(t,u)){X(t,"position",i.position);const O=ob(s,t),M=U_(s,{...m,rect:O}),B=Lr(ib,W=>M[W]);fc(i,B)&&(me(t,B),w&&oT(t,u),Nt(t))}else zc(t,u.classes)},ng=t=>({width:Ir(t),height:lr(t)}),k0=(t,s,i,u)=>{ot(s,"max-height"),ot(s,"max-width");const m=ng(s);return j_(s,u.preference,t,m,i,u.bounds)},P0=(t,s)=>{const i=s.classes;zc(t,i.off),pu(t,i.on)},og=(t,s,i)=>{const u=i.maxHeightFunction;u(t,s.maxHeight)},K_=(t,s,i)=>{const u=i.maxWidthFunction;u(t,s.maxWidth)},rT=(t,s,i)=>{const u=U_(i.origin,s);i.transition.each(m=>{sT(t,i.origin,u,m,s,i.lastPlacement)}),tb(t,u)},iT=(t,s)=>{W_(t,s.placement)},L0=(t,s)=>{Gs(t,Math.floor(s))},$0=Ee((t,s)=>{L0(t,s),re(t,{"overflow-x":"hidden","overflow-y":"auto"})}),Zh=Ee((t,s)=>{L0(t,s)}),X_=(t,s,i)=>t[s]===void 0?i:t[s],aT=(t,s,i,u,m,b,w,O)=>{const M=X_(w,"maxHeightFunction",$0()),B=X_(w,"maxWidthFunction",oe),W=t.anchorBox,Y=t.origin,ee={bounds:eh(Y,b),origin:Y,preference:u,maxHeightFunction:M,maxWidthFunction:B,lastPlacement:m,transition:O};return cT(W,s,i,ee)},cT=(t,s,i,u)=>{const m=k0(t,s,i,u);return rT(s,m,u),iT(s,m),P0(s,m),og(s,m,u),K_(s,m,u),{layout:m.layout,placement:m.placement}},lT=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Od=(t,s,i,u=1)=>{const m=t*u,b=s*u,w=M=>an(i,M).getOr([]),O=(M,B,W)=>{const Y=Lt(lT,W);return{offset:Kn(M,B),classesOn:mt(W,w),classesOff:mt(Y,w)}};return{southeast:()=>O(-t,s,["top","alignLeft"]),southwest:()=>O(t,s,["top","alignRight"]),south:()=>O(-t/2,s,["top","alignCentre"]),northeast:()=>O(-t,-s,["bottom","alignLeft"]),northwest:()=>O(t,-s,["bottom","alignRight"]),north:()=>O(-t/2,-s,["bottom","alignCentre"]),east:()=>O(t,-s/2,["valignCentre","left"]),west:()=>O(-t,-s/2,["valignCentre","right"]),insetNortheast:()=>O(m,b,["top","alignLeft","inset"]),insetNorthwest:()=>O(-m,b,["top","alignRight","inset"]),insetNorth:()=>O(-m/2,b,["top","alignCentre","inset"]),insetSoutheast:()=>O(m,-b,["bottom","alignLeft","inset"]),insetSouthwest:()=>O(-m,-b,["bottom","alignRight","inset"]),insetSouth:()=>O(-m/2,-b,["bottom","alignCentre","inset"]),insetEast:()=>O(-m,-b/2,["valignCentre","right","inset"]),insetWest:()=>O(m,-b/2,["valignCentre","left","inset"])}},ab=()=>Od(0,0,{}),sg=Ze,cb=(t,s)=>i=>Q_(i)==="rtl"?s:t,Q_=t=>pe(t,"direction")==="rtl"?"rtl":"ltr";var gf;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(gf||(gf={}));const B1="data-alloy-vertical-dir",B0=t=>D_(t,s=>Cs(s)&&Mi(s,"data-alloy-vertical-dir")===gf.BottomToTop),Rd=()=>dn("layouts",[At("onLtr"),At("onRtl"),Yo("onBottomLtr"),Yo("onBottomRtl")]),Yh=(t,s,i,u,m,b,w)=>{const O=w.map(B0).getOr(!1),M=s.layouts.map(se=>se.onLtr(t)),B=s.layouts.map(se=>se.onRtl(t)),W=O?s.layouts.bind(se=>se.onBottomLtr.map(be=>be(t))).or(M).getOr(m):M.getOr(i),Y=O?s.layouts.bind(se=>se.onBottomRtl.map(be=>be(t))).or(B).getOr(b):B.getOr(u);return cb(W,Y)(t)},F0=(t,s,i)=>{const u=s.hotspot,m=ob(i,u.element),b=Yh(t.element,s,I1(),Ad(),Gc(),zi(),P.some(s.hotspot.element));return P.some(sg({anchorBox:m,bubble:s.bubble.getOr(ab()),overrides:s.overrides,layouts:b}))};var J_=[At("hotspot"),Yo("bubble"),We("overrides",{}),Rd(),er("placement",F0)];const uT=(t,s,i)=>{const u=_s(i,s.x,s.y),m=Ps(u.left,u.top,s.width,s.height),b=Yh(t.element,s,ds(),Xv(),ds(),Xv(),P.none());return P.some(sg({anchorBox:m,bubble:s.bubble,overrides:s.overrides,layouts:b}))};var dT=[At("x"),At("y"),We("height",0),We("width",0),We("bubble",ab()),We("overrides",{}),Rd(),er("placement",uT)];const H0=mu.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),fT=t=>t.fold(Ze,(s,i,u)=>s.translate(-i,-u)),hT=t=>t.fold(Ze,Ze),eE=t=>ps(t,(s,i)=>s.translate(i.left,i.top),Kn(0,0)),tE=t=>{const s=Je(t,fT);return eE(s)},lb=t=>{const s=Je(t,hT);return eE(s)},mT=H0.screen,gT=H0.absolute,pT=(t,s,i)=>{const u=Iu(i.root).dom,m=b=>{const w=ri(b),O=ri(t.element);return bs(w,O)};return P.from(u.frameElement).map(Xe.fromDom).filter(m).map(xo)},nE=(t,s,i)=>{const u=ri(t.element),m=Xt(u),b=pT(t,s,i).getOr(m);return gT(b,m.left,m.top)},V0=(t,s,i,u)=>{const m=mT(Kn(t,s));return P.some(Qs(m,i,u))},oE=(t,s,i,u,m)=>t.map(b=>{const w=[s,b.point],O=eg(u,()=>lb(w),()=>lb(w),()=>tE(w)),M=Hl(O.left,O.top,b.width,b.height),B=i.showAbove?Gc():I1(),W=i.showAbove?zi():Ad(),Y=Yh(m,i,B,W,B,W,P.none());return sg({anchorBox:M,bubble:i.bubble.getOr(ab()),overrides:i.overrides,layouts:Y})}),vT=(t,s,i)=>{const u=nE(t,i,s);return s.node.filter(nc).bind(m=>{const b=m.dom.getBoundingClientRect(),w=V0(b.left,b.top,b.width,b.height),O=s.node.getOr(t.element);return oE(w,u,s,i,O)})};var sE=[At("node"),At("root"),Yo("bubble"),Rd(),We("overrides",{}),We("showAbove",!1),er("placement",vT)];const F1="\uFEFF",U0=" ",bp={create:(t,s,i,u)=>({start:t,soffset:s,finish:i,foffset:u})},ub=mu.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),H1=(t,s,i,u)=>t.fold(s,i,u),W0=t=>t.fold(Ze,Ze,Ze),G0=ub.before,rE=ub.on,rg=ub.after,iE={before:G0,on:rE,after:rg,cata:H1,getStart:W0},ig=mu.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),bT=t=>ig.exact(t.start,t.soffset,t.finish,t.foffset),q0=t=>t.match({domRange:s=>Xe.fromDom(s.startContainer),relative:(s,i)=>iE.getStart(s),exact:(s,i,u,m)=>s}),aE=ig.domRange,Jl=ig.relative,j0=ig.exact,db=t=>{const s=q0(t);return Iu(s)},V1=bp.create,th={domRange:aE,relative:Jl,exact:j0,exactFromRange:bT,getWin:db,range:V1},yT=(t,s)=>{s.fold(i=>{t.setStartBefore(i.dom)},(i,u)=>{t.setStart(i.dom,u)},i=>{t.setStartAfter(i.dom)})},U1=(t,s)=>{s.fold(i=>{t.setEndBefore(i.dom)},(i,u)=>{t.setEnd(i.dom,u)},i=>{t.setEndAfter(i.dom)})},cE=(t,s,i)=>{const u=t.document.createRange();return yT(u,s),U1(u,i),u},Pa=(t,s,i,u,m)=>{const b=t.document.createRange();return b.setStart(s.dom,i),b.setEnd(u.dom,m),b},lE=t=>({left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}),ag=t=>{const s=t.getClientRects(),i=s.length>0?s[0]:t.getBoundingClientRect();return i.width>0||i.height>0?P.some(i).map(lE):P.none()},_T=t=>{const s=t.getBoundingClientRect();return s.width>0||s.height>0?P.some(s).map(lE):P.none()},z1=mu.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Z0=(t,s,i)=>s(Xe.fromDom(i.startContainer),i.startOffset,Xe.fromDom(i.endContainer),i.endOffset),yp=(t,s)=>s.match({domRange:i=>({ltr:Ee(i),rtl:P.none}),relative:(i,u)=>({ltr:Ei(()=>cE(t,i,u)),rtl:Ei(()=>P.some(cE(t,u,i)))}),exact:(i,u,m,b)=>({ltr:Ei(()=>Pa(t,i,u,m,b)),rtl:Ei(()=>P.some(Pa(t,m,b,i,u)))})}),cg=(t,s)=>{const i=s.ltr();return i.collapsed?s.rtl().filter(m=>m.collapsed===!1).map(m=>z1.rtl(Xe.fromDom(m.endContainer),m.endOffset,Xe.fromDom(m.startContainer),m.startOffset)).getOrThunk(()=>Z0(t,z1.ltr,i)):Z0(t,z1.ltr,i)},W1=(t,s)=>{const i=yp(t,s);return cg(t,i)},pf=(t,s)=>W1(t,s).match({ltr:(u,m,b,w)=>{const O=t.document.createRange();return O.setStart(u.dom,m),O.setEnd(b.dom,w),O},rtl:(u,m,b,w)=>{const O=t.document.createRange();return O.setStart(b.dom,w),O.setEnd(u.dom,m),O}});z1.ltr,z1.rtl;const Y0=(t,s,i)=>uo(Df(t,i),s),Gi=(t,s)=>ld(s,t),eu=(t,s,i,u)=>{const b=ri(t).dom.createRange();return b.setStart(t.dom,s),b.setEnd(i.dom,u),b},fb=(t,s,i,u)=>{const m=eu(t,s,i,u),b=bs(t,i)&&s===u;return m.collapsed&&!b},uE=t=>P.from(t.getSelection()),dE=t=>{if(t.rangeCount>0){const s=t.getRangeAt(0),i=t.getRangeAt(t.rangeCount-1);return P.some(bp.create(Xe.fromDom(s.startContainer),s.startOffset,Xe.fromDom(i.endContainer),i.endOffset))}else return P.none()},K0=t=>{if(t.anchorNode===null||t.focusNode===null)return dE(t);{const s=Xe.fromDom(t.anchorNode),i=Xe.fromDom(t.focusNode);return fb(s,t.anchorOffset,i,t.focusOffset)?P.some(bp.create(s,t.anchorOffset,i,t.focusOffset)):dE(t)}},lg=t=>uE(t).filter(s=>s.rangeCount>0).bind(K0),G1=(t,s)=>{const i=pf(t,s);return ag(i)},ug=(t,s)=>{const i=pf(t,s);return _T(i)},_p=((t,s)=>{const i=b=>{if(!t(b))throw new Error("Can only get "+s+" value of a "+s+" node");return u(b).getOr("")},u=b=>t(b)?P.from(b.dom.nodeValue):P.none();return{get:i,getOption:u,set:(b,w)=>{if(!t(b))throw new Error("Can only set raw "+s+" value of a "+s+" node");b.dom.nodeValue=w}}})(si,"text"),q1=t=>_p.get(t),dg=(t,s)=>({element:t,offset:s}),X0=(t,s)=>{const i=tc(t);if(i.length===0)return dg(t,s);if(s<i.length)return dg(i[s],0);{const u=i[i.length-1],m=si(u)?q1(u).length:tc(u).length;return dg(u,m)}},Ep=(t,s)=>si(t)?dg(t,s):X0(t,s),_a=(t,s)=>s.getSelection.getOrThunk(()=>()=>lg(t))().map(u=>{const m=Ep(u.start,u.soffset),b=Ep(u.finish,u.foffset);return th.range(m.element,m.offset,b.element,b.offset)}),Q0=(t,s,i)=>{const u=Iu(s.root).dom,m=nE(t,i,s),b=_a(u,s).bind(M=>ug(u,th.exactFromRange(M)).orThunk(()=>{const W=Xe.fromText(F1);Tc(M.start,W);const Y=G1(u,th.exact(W,0,W,1));return Ct(W),Y}).bind(W=>V0(W.left,W.top,W.width,W.height))),O=_a(u,s).bind(M=>Cs(M.start)?P.some(M.start):Lc(M.start)).getOr(t.element);return oE(b,m,s,i,O)};var Id=[Yo("getSelection"),At("root"),Yo("bubble"),Rd(),We("overrides",{}),We("showAbove",!1),er("placement",Q0)];const vf="link-layout",Kh=t=>t.x+t.width,fg=(t,s)=>t.x-s.width,g=(t,s)=>t.y-s.height+t.height,_=t=>t.y,R=(t,s,i)=>sa(Kh(t),_(t),i.southeast(),Jm(),"southeast",va(t,{left:0,top:2}),vf),q=(t,s,i)=>sa(fg(t,s),_(t),i.southwest(),qh(),"southwest",va(t,{right:1,top:2}),vf),ce=(t,s,i)=>sa(Kh(t),g(t,s),i.northeast(),Yv(),"northeast",va(t,{left:0,bottom:3}),vf),Ae=(t,s,i)=>sa(fg(t,s),g(t,s),i.northwest(),A1(),"northwest",va(t,{right:1,bottom:3}),vf),Fe=()=>[R,q,ce,Ae],qe=()=>[q,R,Ae,ce],gt=(t,s,i)=>{const u=ob(i,s.item.element),m=Yh(t.element,s,Fe(),qe(),Fe(),qe(),P.none());return P.some(sg({anchorBox:u,bubble:ab(),overrides:s.overrides,layouts:m}))};var en=[At("item"),Rd(),We("overrides",{}),er("placement",gt)],Jt=or("type",{selection:Id,node:sE,hotspot:J_,submenu:en,makeshift:dT});const mn=[Bi("classes",Dr),Hr("mode","all",["all","layout","placement"])],$n=[We("useFixed",wt),Yo("getBounds")],fo=[El("anchor",Jt),dn("transition",mn)],Lo=()=>{const t=document.documentElement;return z_(0,0,t.clientWidth,t.clientHeight)},No=t=>{const s=xo(t.element),i=t.element.dom.getBoundingClientRect();return gr(s.left,s.top,i.width,i.height)},Ro=(t,s,i,u,m,b)=>{const w=Mr(s.anchorBox,t);return aT(w,u.element,s.bubble,s.layouts,m,i,s.overrides,b)},$s=(t,s,i,u,m)=>{const b=P.none();fs(t,s,i,u,m,b)},fs=(t,s,i,u,m,b)=>{const w=Jr("placement.info",Pn(fo),m),O=w.anchor,M=u.element,B=i.get(u.uid);al(()=>{X(M,"position","fixed");const W=st(M,"visibility");X(M,"visibility","hidden");const Y=s.useFixed()?Lo():No(t);O.placement(t,O,Y).each(ee=>{const se=b.orThunk(()=>s.getBounds.map(gn)),be=Ro(Y,ee,se,u,B,w.transition);i.set(u.uid,be)}),W.fold(()=>{ot(M,"visibility")},ee=>{X(M,"visibility",ee)}),st(M,"left").isNone()&&st(M,"top").isNone()&&st(M,"right").isNone()&&st(M,"bottom").isNone()&&pc(st(M,"position"),"fixed")&&ot(M,"position")},M)};var ei=Object.freeze({__proto__:null,position:$s,positionWithinBounds:fs,getMode:(t,s,i)=>s.useFixed()?"fixed":"absolute",reset:(t,s,i,u)=>{const m=u.element;It(["position","left","right","top","bottom"],b=>ot(m,b)),tT(m),i.clear(u.uid)}}),Nc=Object.freeze({__proto__:null,init:()=>{let t={};return xc({readState:()=>t,clear:m=>{fe(m)?delete t[m]:t={}},set:(m,b)=>{t[m]=b},get:m=>an(t,m)})}});const Ws=ya({fields:$n,name:"positioning",active:gp,apis:ei,state:Nc}),bf=t=>t.getSystem().isConnected(),J0=t=>{ss(t,Wu());const s=t.components();It(s,J0)},j1=t=>{const s=t.components();It(s,j1),ss(t,sf())},fE=(t,s)=>{t.getSystem().addToWorld(s),nc(t.element)&&j1(s)},hE=t=>{J0(t),t.getSystem().removeFromWorld(t)},ET=(t,s)=>{Pe(t.element,s.element)},mE=t=>{It(t.components(),s=>Ct(s.element)),ct(t.element),t.syncComponents()},_A=(t,s,i)=>{const u=t.components();mE(t);const m=i(s),b=Lt(u,m);It(b,w=>{J0(w),t.getSystem().removeFromWorld(w)}),It(m,w=>{bf(w)?ET(t,w):(t.getSystem().addToWorld(w),ET(t,w),nc(t.element)&&j1(w))}),t.syncComponents()},cR=(t,s,i)=>{const u=t.components(),m=mt(s,O=>Fh(O).toArray());It(u,O=>{vo(m,O)||hE(O)});const b=i(s),w=Lt(u,b);It(w,O=>{bf(O)&&hE(O)}),It(b,O=>{bf(O)||fE(t,O)}),t.syncComponents()},Xh=(t,s)=>{ey(t,s,Pe)},ey=(t,s,i)=>{t.getSystem().addToWorld(s),i(t.element,s.element),nc(t.element)&&j1(s),t.syncComponents()},wT=t=>{J0(t),Ct(t.element),t.getSystem().removeFromWorld(t)},Qh=t=>{const s=_c(t.element).bind(i=>t.getSystem().getByDom(i).toOptional());wT(t),s.each(i=>{i.syncComponents()})},TT=t=>{const s=t.components();It(s,wT),ct(t.element),t.syncComponents()},ty=(t,s)=>{CT(t,s,Pe)},wp=(t,s)=>{CT(t,s,Ia)},CT=(t,s,i)=>{i(t,s.element);const u=tc(s.element);It(u,m=>{s.getByDom(m).each(j1)})},EA=t=>{const s=tc(t.element);It(s,i=>{t.getByDom(i).each(J0)}),Ct(t.element)},ST=(t,s,i,u)=>{i.get().each(w=>{TT(t)});const m=s.getAttachPoint(t);Xh(m,t);const b=t.getSystem().build(u);return Xh(t,b),i.set(b),b},Tp=(t,s,i,u)=>{const m=ST(t,s,i,u);return s.onOpen(t,m),m},lR=(t,s,i,u)=>i.get().map(()=>ST(t,s,i,u)),Jh=(t,s,i,u,m)=>{TA(t,s),Tp(t,s,i,u),m(),pE(t,s)},Qu=(t,s,i)=>{i.get().each(u=>{TT(t),Qh(t),s.onClose(t,u),i.clear()})},wA=(t,s,i)=>i.isOpen(),gE=(t,s,i,u)=>wA(t,s,i)&&i.get().exists(m=>s.isPartOf(t,m,u)),ny=(t,s,i)=>i.get(),AT=(t,s,i,u)=>{st(t.element,s).fold(()=>{T(t.element,i)},m=>{co(t.element,i,m)}),X(t.element,s,u)},uR=(t,s,i)=>{Kr(t.element,i).fold(()=>ot(t.element,s),u=>X(t.element,s,u))},TA=(t,s,i)=>{const u=s.getAttachPoint(t);X(t.element,"position",Ws.getMode(u)),AT(t,"visibility",s.cloakVisibilityAttr,"hidden")},xT=t=>Bo(["top","left","right","bottom"],s=>st(t,s).isSome()),pE=(t,s,i)=>{xT(t.element)||ot(t.element,"position"),uR(t,"visibility",s.cloakVisibilityAttr)};var dR=Object.freeze({__proto__:null,cloak:TA,decloak:pE,open:Tp,openWhileCloaked:Jh,close:Qu,isOpen:wA,isPartOf:gE,getState:ny,setContent:lR}),vE=Object.freeze({__proto__:null,events:(t,s)=>js([Dt($m(),(i,u)=>{Qu(i,t,s)})])}),CA=[Ye("onOpen"),Ye("onClose"),At("isPartOf"),At("getAttachPoint"),We("cloakVisibilityAttr","data-precloak-visibility")],hb=Object.freeze({__proto__:null,init:()=>{const t=Zs(),s=Ee("not-implemented");return xc({readState:s,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})}});const Uo=ya({fields:CA,name:"sandboxing",active:vE,apis:dR,state:hb}),hg=Ee("dismiss.popups"),mb=Ee("reposition.popups"),OT=Ee("mouse.released"),hR=ga([We("isExtraPart",wt),dn("fireEventInstead",[We("event",gu())])]),oy=t=>{const s=Jr("Dismissal",hR,t);return{[hg()]:{schema:ga([At("target")]),onReceive:(i,u)=>{Uo.isOpen(i)&&(Uo.isPartOf(i,u.target)||s.isExtraPart(i,u.target)||s.fireEventInstead.fold(()=>Uo.close(i),b=>ss(i,b.event)))}}}},Z1=ga([dn("fireEventInstead",[We("event",Jg())]),ic("doReposition")]),Y1=t=>{const s=Jr("Reposition",Z1,t);return{[mb()]:{onReceive:i=>{Uo.isOpen(i)&&s.fireEventInstead.fold(()=>s.doReposition(i),u=>ss(i,u.event))}}}},RT=(t,s,i)=>{s.store.manager.onLoad(t,s,i)},IT=(t,s,i)=>{s.store.manager.onUnload(t,s,i)};var bE=Object.freeze({__proto__:null,onLoad:RT,onUnload:IT,setValue:(t,s,i,u)=>{s.store.manager.setValue(t,s,i,u)},getValue:(t,s,i)=>s.store.manager.getValue(t,s,i),getState:(t,s,i)=>i}),MT=Object.freeze({__proto__:null,events:(t,s)=>{const i=t.resetOnDom?[Tr((u,m)=>{RT(u,t,s)}),Ac((u,m)=>{IT(u,t,s)})]:[D1(t,s,RT)];return js(i)}});const yE=()=>{const t=Wn(null),s=()=>({mode:"memory",value:t.get()}),i=()=>t.get()===null,u=()=>{t.set(null)};return xc({set:t.set,get:t.get,isNotSet:i,clear:u,readState:s})},ry=()=>xc({readState:oe}),mg=()=>{const t=Wn({}),s=Wn({});return xc({readState:()=>({mode:"dataset",dataByValue:t.get(),dataByText:s.get()}),lookup:w=>an(t.get(),w).orThunk(()=>an(s.get(),w)),update:w=>{const O=t.get(),M=s.get(),B={},W={};It(w,Y=>{B[Y.value]=Y,an(Y,"meta").each(ee=>{an(ee,"text").each(se=>{W[se]=Y})})}),t.set({...O,...B}),s.set({...M,...W})},clear:()=>{t.set({}),s.set({})}})};var em=Object.freeze({__proto__:null,memory:yE,dataset:mg,manual:ry,init:t=>t.store.manager.state(t)});const Cp=(t,s,i,u)=>{const m=s.store;i.update([u]),m.setValue(t,u),s.onSetValue(t,u)},mR=(t,s,i)=>{const u=s.store,m=u.getDataKey(t);return i.lookup(m).getOrThunk(()=>u.getFallbackEntry(m))},xA=(t,s,i)=>{s.store.initialValue.each(m=>{Cp(t,s,i,m)})},kT=(t,s,i)=>{i.clear()};var gb=[Yo("initialValue"),At("getFallbackEntry"),At("getDataKey"),At("setValue"),er("manager",{setValue:Cp,getValue:mR,onLoad:xA,onUnload:kT,state:mg})];const pb=(t,s,i)=>s.store.getValue(t),gR=(t,s,i,u)=>{s.store.setValue(t,u),s.onSetValue(t,u)},pR=(t,s,i)=>{s.store.initialValue.each(u=>{s.store.setValue(t,u)})};var OA=[At("getValue"),We("setValue",oe),Yo("initialValue"),er("manager",{setValue:gR,getValue:pb,onLoad:pR,onUnload:oe,state:Al.init})];const Sp=(t,s,i,u)=>{i.set(u),s.onSetValue(t,u)},PT=(t,s,i)=>i.get(),LT=(t,s,i)=>{s.store.initialValue.each(u=>{i.isNotSet()&&i.set(u)})},_E=(t,s,i)=>{i.clear()};var K1=[Yo("initialValue"),er("manager",{setValue:Sp,getValue:PT,onLoad:LT,onUnload:_E,state:yE})],EE=[Gr("store",{mode:"memory"},or("mode",{memory:K1,manual:OA,dataset:gb})),Ye("onSetValue"),We("resetOnDom",!1)];const fn=ya({fields:EE,name:"representing",active:MT,apis:bE,extra:{setValueFrom:(t,s)=>{const i=fn.getValue(s);fn.setValue(t,i)}},state:em}),ja=(t,s)=>Nh(t,{},Je(s,i=>Mm(i.name(),"Cannot configure "+i.name()+" for "+t)).concat([ys("dump",Ze)])),wE=t=>t.dump,kr=(t,s)=>({...kt(s),...t.dump}),yf={field:ja,augment:kr,get:wE},RA="placeholder",tu=mu.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Ea=t=>Ho(t,"uiType"),TE=(t,s,i,u)=>t.exists(m=>m!==i.owner)?tu.single(!0,Ee(i)):an(u,i.name).fold(()=>{throw new Error("Unknown placeholder component: "+i.name+`
Known: [`+Os(u)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(i,null,2))},m=>m.replace()),CE=(t,s,i,u)=>Ea(i)&&i.uiType===RA?TE(t,s,i,u):tu.single(!1,Ee(i)),gg=(t,s,i,u)=>CE(t,s,i,u).fold((b,w)=>{const O=Ea(i)?w(s,i.config,i.validated):w(s),M=an(O,"components").getOr([]),B=mt(M,W=>gg(t,s,W,u));return[{...O,components:B}]},(b,w)=>{if(Ea(i)){const O=w(s,i.config,i.validated);return i.validated.preprocess.getOr(Ze)(O)}else return w(s)}),IA=(t,s,i,u)=>mt(i,m=>gg(t,s,m,u)),$T=(t,s)=>{let i=!1;const u=()=>i,m=()=>{if(i)throw new Error("Trying to use the same placeholder more than once: "+t);return i=!0,s},b=()=>s.fold((w,O)=>w,(w,O)=>w);return{name:Ee(t),required:b,used:u,replace:m}},DA=(t,s,i,u)=>{const m=Ms(u,(w,O)=>$T(O,w)),b=IA(t,s,i,m);return Yr(m,w=>{if(w.used()===!1&&w.required())throw new Error("Placeholder: "+w.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(s.components,null,2))}),b},BT=tu.single,FT=tu.multiple,HT=Ee(RA),iy=mu.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),SE=We("factory",{sketch:Ze}),ay=We("schema",[]),cy=At("name"),AE=jr("pname","pname",r1(t=>"<alloy."+_n(t.name)+">"),_l()),NA=ys("schema",()=>[Yo("preprocess")]),pg=We("defaults",Ee({})),tm=We("overrides",Ee({})),X1=Pn([SE,ay,cy,AE,pg,tm]),vb=Pn([SE,ay,cy,pg,tm]),VT=Pn([SE,ay,cy,AE,pg,tm]),vR=Pn([SE,NA,cy,At("unit"),AE,pg,tm]),MA=t=>t.fold(P.some,P.none,P.some,P.some),xE=t=>{const s=i=>i.name;return t.fold(s,s,s,s)},kA=t=>t.fold(Ze,Ze,Ze,Ze),OE=(t,s)=>i=>{const u=Jr("Converting part type",s,i);return t(u)},La=OE(iy.required,X1),_f=OE(iy.external,vb),Dd=OE(iy.optional,VT),ly=OE(iy.group,vR),Eu=Ee("entirety");var PA=Object.freeze({__proto__:null,required:La,external:_f,optional:Dd,group:ly,asNamedPart:MA,name:xE,asCommon:kA,original:Eu});const UT=(t,s,i,u)=>Js(s.defaults(t,i,u),i,{uid:t.partUids[s.name]},s.overrides(t,i,u)),zT=(t,s,i)=>{const u={},m={};return It(i,b=>{b.fold(w=>{u[w.pname]=BT(!0,(O,M,B)=>w.factory.sketch(UT(O,w,M,B)))},w=>{const O=s.parts[w.name];m[w.name]=Ee(w.factory.sketch(UT(s,w,O[Eu()]),O))},w=>{u[w.pname]=BT(!1,(O,M,B)=>w.factory.sketch(UT(O,w,M,B)))},w=>{u[w.pname]=FT(!0,(O,M,B)=>{const W=O[w.name];return Je(W,Y=>w.factory.sketch(Js(w.defaults(O,Y,B),Y,w.overrides(O,Y))))})})}),{internals:Ee(u),externals:Ee(m)}},WT=(t,s)=>{const i={};return It(s,u=>{MA(u).each(m=>{const b=bR(t,m.pname);i[m.name]=w=>{const O=Jr("Part: "+m.name+" in "+t,Pn(m.schema),w);return{...b,config:w,validated:O}}})}),i},bR=(t,s)=>({uiType:HT(),owner:t,name:s}),GT=(t,s,i)=>({uiType:HT(),owner:t,name:s,config:i,validated:{}}),yR=t=>mt(t,s=>s.fold(P.none,P.some,P.none,P.none).map(i=>ac(i.name,i.schema.concat([Yu(Eu())]))).toArray()),_R=t=>Je(t,xE),qT=(t,s,i)=>zT(t,s,i),jT=(t,s,i)=>DA(P.some(t),s,s.components,i),rr=(t,s,i)=>{const u=s.partUids[i];return t.getSystem().getByUid(u).toOptional()},nm=(t,s,i)=>rr(t,s,i).getOrDie("Could not find part: "+i),ZT=(t,s,i)=>{const u={},m=s.partUids,b=t.getSystem();return It(i,w=>{u[w]=Ee(b.getByUid(m[w]))}),u},YT=(t,s)=>{const i=t.getSystem();return Ms(s.partUids,(u,m)=>Ee(i.getByUid(u)))},KT=t=>Os(t.partUids),XT=(t,s,i)=>{const u={},m=s.partUids,b=t.getSystem();return It(i,w=>{u[w]=Ee(b.getByUid(m[w]).getOrDie())}),u},QT=(t,s)=>{const i=_R(s);return Sc(Je(i,u=>({key:u,value:t+"-"+u})))},JT=t=>jr("partUids","partUids",Rm(s=>QT(s.uid,t)),_l());var eC=Object.freeze({__proto__:null,generate:WT,generateOne:GT,schemas:yR,names:_R,substitutes:qT,components:jT,defaultUids:QT,defaultUidsSchema:JT,getAllParts:YT,getAllPartNames:KT,getPart:rr,getPartOrDie:nm,getParts:ZT,getPartsOrDie:XT});const ER=(t,s)=>(t.length>0?[ac("parts",t)]:[]).concat([At("uid"),We("dom",{}),We("components",[]),Yu("originalSpec"),We("debug.sketcher",{})]).concat(s),LA=(t,s,i,u,m)=>{const b=ER(u,m);return Jr(t+" [SpecSchema]",ga(b.concat(s)),i)},wR=(t,s,i,u)=>{const m=Ap(u),b=LA(t,s,m,[],[]);return i(b,m)},tC=(t,s,i,u,m)=>{const b=Ap(m),w=yR(i),O=JT(i),M=LA(t,s,b,w,[O]),B=qT(t,M,i),W=jT(t,M,B.internals());return u(M,W,b,B.externals())},TR=t=>Ho(t,"uid"),Ap=t=>TR(t)?t:{...t,uid:Yl("uid")},Cn=t=>t.uid!==void 0,vg=ga([At("name"),At("factory"),At("configFields"),We("apis",{}),We("extraApis",{})]),CR=ga([At("name"),At("factory"),At("configFields"),At("partFields"),We("apis",{}),We("extraApis",{})]),qi=t=>{const s=Jr("Sketcher for "+t.name,vg,t),i=b=>wR(s.name,s.configFields,s.factory,b),u=Ms(s.apis,b1),m=Ms(s.extraApis,(b,w)=>Wm(b,w));return{name:s.name,configFields:s.configFields,sketch:i,...u,...m}},Si=t=>{const s=Jr("Sketcher for "+t.name,CR,t),i=w=>tC(s.name,s.configFields,s.partFields,s.factory,w),u=WT(s.name,s.partFields),m=Ms(s.apis,b1),b=Ms(s.extraApis,(w,O)=>Wm(w,O));return{name:s.name,partFields:s.partFields,configFields:s.configFields,sketch:i,parts:u,...m,...b}},xp=t=>Aa("input")(t)&&Mi(t,"type")!=="radio"||Aa("textarea")(t);var $A=Object.freeze({__proto__:null,getCurrent:(t,s,i)=>s.find(t)});const SR=[At("find")],Xo=ya({fields:SR,name:"composing",apis:$A}),BA=["input","button","textarea","select"],IE=(t,s,i)=>{(s.disabled()?oC:sC)(t,s)},Q1=(t,s)=>s.useNative===!0&&vo(BA,Ja(t.element)),FA=t=>la(t.element,"disabled"),AR=t=>{co(t.element,"disabled","disabled")},nC=t=>{T(t.element,"disabled")},xR=t=>Mi(t.element,"aria-disabled")==="true",hk=t=>{co(t.element,"aria-disabled","true")},HA=t=>{co(t.element,"aria-disabled","false")},oC=(t,s,i)=>{s.disableClass.each(m=>{As(t.element,m)}),(Q1(t,s)?AR:hk)(t),s.onDisabled(t)},sC=(t,s,i)=>{s.disableClass.each(m=>{Ls(t.element,m)}),(Q1(t,s)?nC:HA)(t),s.onEnabled(t)},VA=(t,s)=>Q1(t,s)?FA(t):xR(t);var DE=Object.freeze({__proto__:null,enable:sC,disable:oC,isDisabled:VA,onLoad:IE,set:(t,s,i,u)=>{(u?oC:sC)(t,s)}}),RR=Object.freeze({__proto__:null,exhibit:(t,s)=>ju({classes:s.disabled()?s.disableClass.toArray():[]}),events:(t,s)=>js([g1(zs(),(i,u)=>VA(i,t)),D1(t,s,IE)])}),gk=[Ti("disabled",wt),We("useNative",!0),Yo("disableClass"),Ye("onDisabled"),Ye("onEnabled")];const no=ya({fields:gk,name:"disabling",active:RR,apis:DE}),bg=(t,s,i,u)=>{const m=Gi(t.element,"."+s.highlightClass);It(m,b=>{Bo(u,O=>bs(O.element,b))||(Ls(b,s.highlightClass),t.getSystem().getByDom(b).each(O=>{s.onDehighlight(t,O),ss(O,ep())}))})},rC=(t,s,i)=>bg(t,s,i,[]),IR=(t,s,i,u)=>{iC(t,s,i,u)&&(Ls(u.element,s.highlightClass),s.onDehighlight(t,u),ss(u,ep()))},uy=(t,s,i,u)=>{bg(t,s,i,[u]),iC(t,s,i,u)||(As(u.element,s.highlightClass),s.onHighlight(t,u),ss(u,p_()))},pk=(t,s,i)=>{aC(t,s).each(u=>{uy(t,s,i,u)})},NE=(t,s,i)=>{ME(t,s).each(u=>{uy(t,s,i,u)})},DR=(t,s,i,u)=>{yb(t,s,i,u).fold(m=>{throw m},m=>{uy(t,s,i,m)})},NR=(t,s,i,u)=>{const m=kE(t,s);kn(m,u).each(w=>{uy(t,s,i,w)})},iC=(t,s,i,u)=>oa(u.element,s.highlightClass),bb=(t,s,i)=>Nr(t.element,"."+s.highlightClass).bind(u=>t.getSystem().getByDom(u).toOptional()),yb=(t,s,i,u)=>{const m=Gi(t.element,"."+s.itemClass);return P.from(m[u]).fold(()=>ro.error(new Error("No element found with index "+u)),t.getSystem().getByDom)},aC=(t,s,i)=>Nr(t.element,"."+s.itemClass).bind(u=>t.getSystem().getByDom(u).toOptional()),ME=(t,s,i)=>{const u=Gi(t.element,"."+s.itemClass);return(u.length>0?P.some(u[u.length-1]):P.none()).bind(b=>t.getSystem().getByDom(b).toOptional())},cC=(t,s,i,u)=>{const m=Gi(t.element,"."+s.itemClass);return ko(m,w=>oa(w,s.highlightClass)).bind(w=>{const O=Qf(w,u,0,m.length-1);return t.getSystem().getByDom(m[O]).toOptional()})},lC=(t,s,i)=>cC(t,s,i,-1),MR=(t,s,i)=>cC(t,s,i,1),kE=(t,s,i)=>{const u=Gi(t.element,"."+s.itemClass);return au(Je(u,m=>t.getSystem().getByDom(m).toOptional()))};var uC=Object.freeze({__proto__:null,dehighlightAll:rC,dehighlight:IR,highlight:uy,highlightFirst:pk,highlightLast:NE,highlightAt:DR,highlightBy:NR,isHighlighted:iC,getHighlighted:bb,getFirst:aC,getLast:ME,getPrevious:lC,getNext:MR,getCandidates:kE}),dC=[At("highlightClass"),At("itemClass"),Ye("onHighlight"),Ye("onDehighlight")];const ms=ya({fields:dC,name:"highlighting",apis:uC}),UA=[8],om=[9],nh=[13],dy=[27],wu=[32],PE=[37],J1=[38],fy=[39],yg=[40],fC=(t,s,i)=>{const u=vi(t.slice(0,s)),m=vi(t.slice(s+1));return kn(u.concat(m),i)},LE=(t,s,i)=>{const u=vi(t.slice(0,s));return kn(u,i)},_b=(t,s,i)=>{const u=t.slice(0,s),m=t.slice(s+1);return kn(m.concat(u),i)},XH=(t,s,i)=>{const u=t.slice(s+1);return kn(u,i)},rs=t=>s=>{const i=s.raw;return vo(t,i.which)},Ef=t=>s=>pi(t,i=>i(s)),ev=t=>t.raw.shiftKey===!0,zA=t=>t.raw.ctrlKey===!0,hy=Ne(ev),as=(t,s)=>({matches:t,classification:s}),WA=(t,s)=>kn(t,u=>u.matches(s)).map(u=>u.classification),GA=(t,s,i)=>{s.exists(m=>i.exists(b=>bs(b,m)))||Mn(t,h1(),{prevFocus:s,newFocus:i})},hC=()=>{const t=i=>Xl(i.element);return{get:t,set:(i,u)=>{const m=t(i);i.getSystem().triggerFocus(u,i.element);const b=t(i);GA(i,m,b)}}},mC=()=>{const t=i=>ms.getHighlighted(i).map(u=>u.element);return{get:t,set:(i,u)=>{const m=t(i);i.getSystem().getByDom(u).fold(oe,w=>{ms.highlight(i,w)});const b=t(i);GA(i,m,b)}}};var Eb;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(Eb||(Eb={}));const tv=(t,s,i,u,m)=>{const b=()=>t.concat([We("focusManager",hC()),Gr("focusInside","onFocus",Jd(B=>vo(["onFocus","onEnterOrSpace","onApi"],B)?ro.value(B):ro.error("Invalid value for focusInside"))),er("handler",M),er("state",s),er("sendFocusIn",m)]),w=(B,W,Y,ee,se)=>{const be=Y(B,W,ee,se);return WA(be,W.event).bind(Ie=>Ie(B,W,ee,se))},M={schema:b,processKey:w,toEvents:(B,W)=>{const Y=B.focusInside!==Eb.OnFocusMode?P.none():m(B).map(be=>Dt(Vc(),(Ie,nt)=>{be(Ie,B,W),nt.stop()})),ee=(be,Ie)=>{const nt=rs(wu.concat(nh))(Ie.event);B.focusInside===Eb.OnEnterOrSpaceMode&&nt&&Pm(be,Ie)&&m(B).each(Ue=>{Ue(be,B,W),Ie.stop()})},se=[Dt(na(),(be,Ie)=>{w(be,Ie,i,B,W).fold(()=>{ee(be,Ie)},nt=>{Ie.stop()})}),Dt(Rv(),(be,Ie)=>{w(be,Ie,u,B,W).each(nt=>{Ie.stop()})})];return js(Y.toArray().concat(se))}};return M},qA=t=>{const s=[Yo("onEscape"),Yo("onEnter"),We("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),We("firstTabstop",0),We("useTabstopAt",Ot),Yo("visibilitySelector")].concat([t]),i=(Ie,nt)=>{const Ue=Ie.visibilitySelector.bind(tt=>ff(nt,tt)).getOr(nt);return Tn(Ue)>0},u=(Ie,nt)=>{const Ue=Gi(Ie.element,nt.selector),tt=uo(Ue,ut=>i(nt,ut));return P.from(tt[nt.firstTabstop])},m=(Ie,nt)=>nt.focusManager.get(Ie).bind(Ue=>ff(Ue,nt.selector)),b=(Ie,nt)=>i(Ie,nt)&&Ie.useTabstopAt(nt),w=(Ie,nt,Ue)=>{u(Ie,nt).each(tt=>{nt.focusManager.set(Ie,tt)})},O=(Ie,nt,Ue,tt,ut)=>ut(nt,Ue,pt=>b(tt,pt)).fold(()=>tt.cyclic?P.some(!0):P.none(),pt=>(tt.focusManager.set(Ie,pt),P.some(!0))),M=(Ie,nt,Ue,tt)=>{const ut=Gi(Ie.element,Ue.selector);return m(Ie,Ue).bind(pt=>ko(ut,Et(bs,pt)).bind(Pt=>O(Ie,ut,Pt,Ue,tt)))},B=(Ie,nt,Ue)=>{const tt=Ue.cyclic?fC:LE;return M(Ie,nt,Ue,tt)},W=(Ie,nt,Ue)=>{const tt=Ue.cyclic?_b:XH;return M(Ie,nt,Ue,tt)},Y=(Ie,nt,Ue)=>Ue.onEnter.bind(tt=>tt(Ie,nt)),ee=(Ie,nt,Ue)=>Ue.onEscape.bind(tt=>tt(Ie,nt)),se=Ee([as(Ef([ev,rs(om)]),B),as(rs(om),W),as(Ef([hy,rs(nh)]),Y)]),be=Ee([as(rs(dy),ee)]);return tv(s,Al.init,se,be,()=>P.some(w))};var d=qA(ys("cyclic",wt)),p=qA(ys("cyclic",Ot));const E=(t,s,i)=>(af(t,i,zs()),P.some(!0)),S=(t,s,i)=>xp(i)&&rs(wu)(s.event)?P.none():E(t,s,i),k=(t,s)=>P.some(!0),V=[We("execute",S),We("useSpace",!1),We("useEnter",!0),We("useControlEnter",!1),We("useDown",!1)],J=(t,s,i)=>i.execute(t,s,t.element),le=(t,s,i,u)=>{const m=i.useSpace&&!xp(t.element)?wu:[],b=i.useEnter?nh:[],w=i.useDown?yg:[],O=m.concat(b).concat(w);return[as(rs(O),J)].concat(i.useControlEnter?[as(Ef([zA,rs(nh)]),J)]:[])},ye=(t,s,i,u)=>i.useSpace&&!xp(t.element)?[as(rs(wu),k)]:[];var Re=tv(V,Al.init,le,ye,()=>P.none());const Ke=()=>{const t=Zs();return xc({readState:()=>t.get().map(m=>({numRows:String(m.numRows),numColumns:String(m.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(m,b)=>{t.set({numRows:m,numColumns:b})},getNumRows:()=>t.get().map(m=>m.numRows),getNumColumns:()=>t.get().map(m=>m.numColumns)})};var cn=Object.freeze({__proto__:null,flatgrid:Ke,init:t=>t.state(t)});const tn=t=>(s,i,u,m)=>{const b=t(s.element);return wn(b,s,i,u,m)},Tt=(t,s)=>{const i=cb(t,s);return tn(i)},rn=(t,s)=>{const i=cb(s,t);return tn(i)},_t=t=>(s,i,u,m)=>wn(t,s,i,u,m),wn=(t,s,i,u,m)=>u.focusManager.get(s).bind(w=>t(s.element,w,u,m)).map(w=>(u.focusManager.set(s,w),!0)),Qn=_t,yo=_t,ir=_t,hc=t=>t.offsetWidth<=0&&t.offsetHeight<=0,fi=t=>!hc(t.dom),Tu=(t,s)=>ko(t,s).map(i=>({index:i,candidates:t})),Op=(t,s,i)=>{const u=w=>bs(w,s),m=Gi(t,i),b=uo(m,fi);return Tu(b,u)},my=(t,s)=>ko(t,i=>bs(s,i)),gC=(t,s,i,u)=>{const m=Math.floor(s/i),b=s%i;return u(m,b).bind(w=>{const O=w.row*i+w.column;return O>=0&&O<t.length?P.some(t[O]):P.none()})},$E=(t,s,i,u,m)=>gC(t,s,u,(b,w)=>{const M=b===i-1?t.length-b*u:u,B=Qf(w,m,0,M-1);return P.some({row:b,column:B})}),Ys=(t,s,i,u,m)=>gC(t,s,u,(b,w)=>{const O=Qf(b,m,0,i-1),B=O===i-1?t.length-O*u:u,W=Rc(w,0,B-1);return P.some({row:O,column:W})}),Rl=(t,s,i,u)=>$E(t,s,i,u,1),Il=(t,s,i,u)=>$E(t,s,i,u,-1),wf=(t,s,i,u)=>Ys(t,s,i,u,-1),Cu=(t,s,i,u)=>Ys(t,s,i,u,1),Rp=[At("selector"),We("execute",S),Sr("onEscape"),We("captureTab",!1),S1()],Dl=(t,s,i)=>{Nr(t.element,s.selector).each(u=>{s.focusManager.set(t,u)})},jA=(t,s)=>s.focusManager.get(t).bind(i=>ff(i,s.selector)),wb=(t,s,i,u)=>jA(t,i).bind(m=>i.execute(t,s,m)),Nd=t=>(s,i,u,m)=>Op(s,i,u.selector).bind(b=>t(b.candidates,b.index,m.getNumRows().getOr(u.initSize.numRows),m.getNumColumns().getOr(u.initSize.numColumns))),Mc=(t,s,i)=>i.captureTab?P.some(!0):P.none(),Md=(t,s,i)=>i.onEscape(t,s),ZA=Nd(Il),YA=Nd(Rl),kR=Nd(wf),PR=Nd(Cu),pC=Ee([as(rs(PE),Tt(ZA,YA)),as(rs(fy),rn(ZA,YA)),as(rs(J1),Qn(kR)),as(rs(yg),yo(PR)),as(Ef([ev,rs(om)]),Mc),as(Ef([hy,rs(om)]),Mc),as(rs(wu.concat(nh)),wb)]),Tb=Ee([as(rs(dy),Md),as(rs(wu),k)]);var nv=tv(Rp,Ke,pC,Tb,()=>P.some(Dl));const vk=(t,s,i,u,m)=>{const b=O=>Ja(O)==="button"&&Mi(O,"disabled")==="disabled",w=(O,M,B)=>m(O,M,u,0,B.length-1,B[M],W=>b(B[W])?w(O,W,B):P.from(B[W]));return Op(t,i,s).bind(O=>{const M=O.index,B=O.candidates;return w(M,M,B)})},KA=(t,s,i,u)=>vk(t,s,i,u,(m,b,w,O,M,B,W)=>{const Y=Rc(b+w,O,M);return Y===m?P.from(B):W(Y)}),gy=(t,s,i,u)=>vk(t,s,i,u,(m,b,w,O,M,B,W)=>{const Y=Qf(b,w,O,M);return Y===m?P.none():W(Y)}),LR=[At("selector"),We("getInitial",P.none),We("execute",S),Sr("onEscape"),We("executeOnMove",!1),We("allowVertical",!0),We("allowHorizontal",!0),We("cycles",!0)],QH=(t,s)=>s.focusManager.get(t).bind(i=>ff(i,s.selector)),$R=(t,s,i)=>QH(t,i).bind(u=>i.execute(t,s,u)),JH=(t,s,i)=>{s.getInitial(t).orThunk(()=>Nr(t.element,s.selector)).each(u=>{s.focusManager.set(t,u)})},bk=(t,s,i)=>(i.cycles?gy:KA)(t,i.selector,s,-1),yk=(t,s,i)=>(i.cycles?gy:KA)(t,i.selector,s,1),_k=t=>(s,i,u,m)=>t(s,i,u,m).bind(()=>u.executeOnMove?$R(s,i,u):P.some(!0)),Ek=(t,s,i)=>i.onEscape(t,s),BR=(t,s,i,u)=>{const m=[...i.allowHorizontal?PE:[]].concat(i.allowVertical?J1:[]),b=[...i.allowHorizontal?fy:[]].concat(i.allowVertical?yg:[]);return[as(rs(m),_k(Tt(bk,yk))),as(rs(b),_k(rn(bk,yk))),as(rs(nh),$R),as(rs(wu),$R)]},e6=Ee([as(rs(wu),k),as(rs(dy),Ek)]);var t6=tv(LR,Al.init,BR,e6,()=>P.some(JH));const XA=(t,s,i)=>P.from(t[s]).bind(u=>P.from(u[i]).map(m=>({rowIndex:s,columnIndex:i,cell:m}))),wk=(t,s,i,u)=>{const b=t[s].length,w=Qf(i,u,0,b-1);return XA(t,s,w)},Cb=(t,s,i,u)=>{const m=Qf(i,u,0,t.length-1),b=t[m].length,w=Rc(s,0,b-1);return XA(t,m,w)},Tk=(t,s,i,u)=>{const b=t[s].length,w=Rc(i+u,0,b-1);return XA(t,s,w)},Ck=(t,s,i,u)=>{const m=Rc(i+u,0,t.length-1),b=t[m].length,w=Rc(s,0,b-1);return XA(t,m,w)},FR=(t,s,i)=>wk(t,s,i,1),n6=(t,s,i)=>wk(t,s,i,-1),Sk=(t,s,i)=>Cb(t,i,s,-1),Ak=(t,s,i)=>Cb(t,i,s,1),xk=(t,s,i)=>Tk(t,s,i,-1),Ok=(t,s,i)=>Tk(t,s,i,1),o6=(t,s,i)=>Ck(t,i,s,-1),s6=(t,s,i)=>Ck(t,i,s,1),r6=[ac("selectors",[At("row"),At("cell")]),We("cycles",!0),We("previousSelector",P.none),We("execute",S)],HR=(t,s,i)=>{s.previousSelector(t).orThunk(()=>{const m=s.selectors;return Nr(t.element,m.cell)}).each(m=>{s.focusManager.set(t,m)})},i6=(t,s,i)=>Xl(t.element).bind(u=>i.execute(t,s,u)),a6=(t,s)=>Je(t,i=>Gi(i,s.selectors.cell)),QA=(t,s)=>(i,u,m)=>{const b=m.cycles?t:s;return ff(u,m.selectors.row).bind(w=>{const O=Gi(w,m.selectors.cell);return my(O,u).bind(M=>{const B=Gi(i,m.selectors.row);return my(B,w).bind(W=>{const Y=a6(B,m);return b(Y,W,M).map(ee=>ee.cell)})})})},Rk=QA(n6,xk),VR=QA(FR,Ok),c6=QA(Sk,o6),l6=QA(Ak,s6),u6=Ee([as(rs(PE),Tt(Rk,VR)),as(rs(fy),rn(Rk,VR)),as(rs(J1),Qn(c6)),as(rs(yg),yo(l6)),as(rs(wu.concat(nh)),i6)]),Ik=Ee([as(rs(wu),k)]);var d6=tv(r6,Al.init,u6,Ik,()=>P.some(HR));const f6=[At("selector"),We("execute",S),We("moveOnTab",!1)],UR=(t,s,i)=>i.focusManager.get(t).bind(u=>i.execute(t,s,u)),h6=(t,s,i)=>{Nr(t.element,s.selector).each(u=>{s.focusManager.set(t,u)})},Dk=(t,s,i)=>gy(t,i.selector,s,-1),vC=(t,s,i)=>gy(t,i.selector,s,1),m6=(t,s,i,u)=>i.moveOnTab?ir(Dk)(t,s,i,u):P.none(),Nk=(t,s,i,u)=>i.moveOnTab?ir(vC)(t,s,i,u):P.none(),Ju=Ee([as(rs(J1),ir(Dk)),as(rs(yg),ir(vC)),as(Ef([ev,rs(om)]),m6),as(Ef([hy,rs(om)]),Nk),as(rs(nh),UR),as(rs(wu),UR)]),g6=Ee([as(rs(wu),k)]);var Mk=tv(f6,Al.init,Ju,g6,()=>P.some(h6));const p6=[Sr("onSpace"),Sr("onEnter"),Sr("onShiftEnter"),Sr("onLeft"),Sr("onRight"),Sr("onTab"),Sr("onShiftTab"),Sr("onUp"),Sr("onDown"),Sr("onEscape"),We("stopSpaceKeyup",!1),Yo("focusIn")],v6=(t,s,i)=>[as(rs(wu),i.onSpace),as(Ef([hy,rs(nh)]),i.onEnter),as(Ef([ev,rs(nh)]),i.onShiftEnter),as(Ef([ev,rs(om)]),i.onShiftTab),as(Ef([hy,rs(om)]),i.onTab),as(rs(J1),i.onUp),as(rs(yg),i.onDown),as(rs(PE),i.onLeft),as(rs(fy),i.onRight),as(rs(wu),i.onSpace)],kk=(t,s,i)=>[...i.stopSpaceKeyup?[as(rs(wu),k)]:[],as(rs(dy),i.onEscape)];var b6=tv(p6,Al.init,v6,kk,t=>t.focusIn);const Pk=d.schema(),Lk=p.schema(),y6=t6.schema(),_6=nv.schema(),E6=d6.schema(),w6=Re.schema(),$k=Mk.schema(),Bk=b6.schema();var Sb=Object.freeze({__proto__:null,acyclic:Pk,cyclic:Lk,flow:y6,flatgrid:_6,matrix:E6,execution:w6,menu:$k,special:Bk});const Fk=t=>ca(t,"setGridSize"),Bn=H_({branchKey:"mode",branches:Sb,name:"keying",active:{events:(t,s)=>t.handler.toEvents(t,s)},apis:{focusIn:(t,s,i)=>{s.sendFocusIn(s).fold(()=>{t.getSystem().triggerFocus(t.element,t.element)},u=>{u(t,s,i)})},setGridSize:(t,s,i,u,m)=>{Fk(i)?i.setGridSize(u,m):console.error("Layout does not support setGridSize")}},state:cn}),JA=(t,s)=>{al(()=>{_A(t,s,()=>Je(s,t.getSystem().build))},t.element)},Hk=(t,s)=>{al(()=>{cR(t,s,()=>C_(t.element,s,t.getSystem().buildOrPatch))},t.element)},T6=(t,s,i,u)=>{hE(s);const m=T_(t.element,i,u,t.getSystem().buildOrPatch);fE(t,m),t.syncComponents()},zR=(t,s,i)=>{const u=t.getSystem().build(i);ey(t,u,s)},C6=(t,s,i,u)=>{Qh(s),zR(t,(m,b)=>ze(m,b,i),u)},Vk=(t,s,i,u)=>(s.reuseDom?Hk:JA)(t,u),WR=(t,s,i,u)=>{zR(t,Pe,u)},GR=(t,s,i,u)=>{zR(t,Te,u)},S6=(t,s,i,u)=>{const m=_g(t);kn(m,w=>bs(u.element,w.element)).each(Qh)},_g=(t,s)=>t.components(),qR=(t,s,i,u,m)=>{const b=_g(t);return P.from(b[u]).map(w=>(m.fold(()=>Qh(w),O=>{(s.reuseDom?T6:C6)(t,w,u,O)}),w))};var x6=Object.freeze({__proto__:null,append:WR,prepend:GR,remove:S6,replaceAt:qR,replaceBy:(t,s,i,u,m)=>{const b=_g(t);return ko(b,u).bind(w=>qR(t,s,i,w,m))},set:Vk,contents:_g});const lo=ya({fields:[li("reuseDom",!0)],name:"replacing",apis:x6}),bC=(t,s)=>{const i=js(s);return ya({fields:[At("enabled")],name:t,active:{events:Ee(i)}})},mo=(t,s)=>{const i=bC(t,s);return{key:t,value:{config:{},me:i,configAsRaw:Ee({}),initialConfig:{},state:Al}}},jR=(t,s)=>{s.ignore||(il(t.element),s.onFocus(t))};var Ab=Object.freeze({__proto__:null,focus:jR,blur:(t,s)=>{s.ignore||M1(t.element)},isFocused:t=>k1(t.element)}),Uk=Object.freeze({__proto__:null,exhibit:(t,s)=>{const i=s.ignore?{}:{attributes:{tabindex:"-1"}};return ju(i)},events:t=>js([Dt(Vc(),(s,i)=>{jR(s,t),i.stop()})].concat(t.stopMousedown?[Dt(Fi(),(s,i)=>{i.event.prevent()})]:[]))}),ov=[Ye("onFocus"),We("stopMousedown",!1),We("ignore",!1)];const jn=ya({fields:ov,name:"focusing",active:Uk,apis:Ab}),zk=t=>({init:()=>{const i=Wn(t);return{get:()=>i.get(),set:O=>i.set(O),clear:()=>i.set(t),readState:()=>i.get()}}}),Wk=(t,s,i)=>{const u=s.aria;u.update(t,u,i.get())},Gk=(t,s,i)=>{s.toggleClass.each(u=>{i.get()?As(t.element,u):Ls(t.element,u)})},vy=(t,s,i,u)=>{const m=i.get();i.set(u),Gk(t,s,i),Wk(t,s,i),m!==u&&s.onToggled(t,u)},ZR=(t,s,i)=>{vy(t,s,i,!i.get())},R6=(t,s,i)=>{vy(t,s,i,!0)},I6=(t,s,i)=>{vy(t,s,i,!1)},D6=(t,s,i)=>i.get(),yC=(t,s,i)=>{vy(t,s,i,s.selected)};var YR=Object.freeze({__proto__:null,onLoad:yC,toggle:ZR,isOn:D6,on:R6,off:I6,set:vy}),N6=Object.freeze({__proto__:null,exhibit:()=>ju({}),events:(t,s)=>{const i=Jv(t,s,ZR),u=D1(t,s,yC);return js(Yt([t.toggleOnExecute?[i]:[],[u]]))}});const jk=(t,s,i)=>{co(t.element,"aria-pressed",i),s.syncWithExpanded&&KR(t,s,i)},Zk=(t,s,i)=>{co(t.element,"aria-selected",i)},Yk=(t,s,i)=>{co(t.element,"aria-checked",i)},KR=(t,s,i)=>{co(t.element,"aria-expanded",i)};var M6=[We("selected",!1),Yo("toggleClass"),We("toggleOnExecute",!0),Ye("onToggled"),Gr("aria",{mode:"none"},or("mode",{pressed:[We("syncWithExpanded",!1),er("update",jk)],checked:[er("update",Yk)],expanded:[er("update",KR)],selected:[er("update",Zk)],none:[er("update",oe)]}))];const So=ya({fields:M6,name:"toggling",active:N6,apis:YR,state:zk(!1)}),Kk=()=>{const t=(s,i)=>{i.stop(),rf(s)};return[Dt(Sl(),t),Dt(d1(),t),Hm(ql()),Hm(Fi())]},ex=t=>{const s=i=>Zl((u,m)=>{i(u),m.stop()});return js(Yt([t.map(s).toArray(),Kk()]))},Xk="alloy.item-hover",Qk="alloy.item-focus",XR="alloy.item-toggled",Jk=t=>{(Xl(t.element).isNone()||jn.isFocused(t))&&(jn.isFocused(t)||jn.focus(t),Mn(t,Xk,{item:t}))},eP=t=>{Mn(t,Qk,{item:t})},k6=(t,s)=>{Mn(t,XR,{item:t,state:s})},BE=Ee(Xk),P6=Ee(Qk),_C=Ee(XR),QR=t=>t.toggling.map(s=>s.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),tP=t=>({aria:{mode:"checked"},...$r(t,(s,i)=>i!=="exclusive"),onToggled:(s,i)=>{we(t.onToggled)&&t.onToggled(s,i),k6(s,i)}}),nP=t=>({dom:t.dom,domModification:{...t.domModification,attributes:{role:QR(t),...t.domModification.attributes,"aria-haspopup":t.hasSubmenu,...t.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:yf.augment(t.itemBehaviours,[t.toggling.fold(So.revoke,s=>So.config(tP(s))),jn.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:s=>{eP(s)}}),Bn.config({mode:"execution"}),fn.config({store:{mode:"memory",initialValue:t.data}}),mo("item-type-events",[...Kk(),Dt(nf(),Jk),Dt(of(),jn.focus)])]),components:t.components,eventOrder:t.eventOrder}),L6=[At("data"),At("components"),At("dom"),We("hasSubmenu",!1),Yo("toggling"),yf.field("itemBehaviours",[So,jn,Bn,fn]),We("ignoreFocus",!1),We("domModification",{}),er("builder",nP),We("eventOrder",{})],$6=t=>({dom:t.dom,components:t.components,events:js([a0(of())])}),oP=[At("dom"),At("components"),er("builder",$6)],JR=Ee("item-widget"),tx=Ee([La({name:"widget",overrides:t=>({behaviours:kt([fn.config({store:{mode:"manual",getValue:s=>t.data,setValue:oe}})])})})]),B6=t=>{const s=qT(JR(),t,tx()),i=jT(JR(),t,s.internals()),u=b=>rr(b,t,"widget").map(w=>(Bn.focusIn(w),w)),m=(b,w)=>xp(w.event.target)?P.none():(()=>(t.autofocus&&w.setSource(b.element),P.none()))();return{dom:t.dom,components:i,domModification:t.domModification,events:js([Zl((b,w)=>{u(b).each(O=>{w.stop()})}),Dt(nf(),Jk),Dt(of(),(b,w)=>{t.autofocus?u(b):jn.focus(b)})]),behaviours:yf.augment(t.widgetBehaviours,[fn.config({store:{mode:"memory",initialValue:t.data}}),jn.config({ignore:t.ignoreFocus,onFocus:b=>{eP(b)}}),Bn.config({mode:"special",focusIn:t.autofocus?b=>{u(b)}:V_(),onLeft:m,onRight:m,onEscape:(b,w)=>!jn.isFocused(b)&&!t.autofocus?(jn.focus(b),P.some(!0)):(t.autofocus&&w.setSource(b.element),P.none())})])}},F6=[At("uid"),At("data"),At("components"),At("dom"),We("autofocus",!1),We("ignoreFocus",!1),yf.field("widgetBehaviours",[fn,jn,Bn]),We("domModification",{}),JT(tx()),er("builder",B6)],sP=or("type",{widget:F6,item:L6,separator:oP}),nx=(t,s)=>({mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:s.initSize.numColumns,numRows:s.initSize.numRows},focusManager:t.focusManager}),eI=(t,s)=>({mode:"matrix",selectors:{row:s.rowSelector,cell:"."+t.markers.item},previousSelector:s.previousSelector,focusManager:t.focusManager}),tI=(t,s)=>({mode:"menu",selector:"."+t.markers.item,moveOnTab:s.moveOnTab,focusManager:t.focusManager}),H6=Ee([ly({factory:{sketch:t=>{const s=Jr("menu.spec item",sP,t);return s.builder(s)}},name:"items",unit:"item",defaults:(t,s)=>Ho(s,"uid")?s:{...s,uid:Yl("item")},overrides:(t,s)=>({type:s.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}})})]),V6=Ee([At("value"),At("items"),At("dom"),At("components"),We("eventOrder",{}),ja("menuBehaviours",[ms,fn,Xo,Bn]),Gr("movement",{mode:"menu",moveOnTab:!0},or("mode",{grid:[S1(),er("config",nx)],matrix:[er("config",eI),At("rowSelector"),We("previousSelector",P.none)],menu:[We("moveOnTab",!0),er("config",tI)]})),T1(),We("fakeFocus",!1),We("focusManager",hC()),Ye("onHighlight"),Ye("onDehighlight")]),rP=Ee("alloy.menu-focus"),U6=(t,s)=>{const i=Gi(t.element,'[role="menuitemradio"][aria-checked="true"]');It(i,u=>{bs(u,s.element)||t.getSystem().getByDom(u).each(m=>{So.off(m)})})},iP=(t,s,i,u)=>({uid:t.uid,dom:t.dom,markers:t.markers,behaviours:kr(t.menuBehaviours,[ms.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight,onDehighlight:t.onDehighlight}),fn.config({store:{mode:"memory",initialValue:t.value}}),Xo.config({find:P.some}),Bn.config(t.movement.config(t,t.movement))]),events:js([Dt(P6(),(m,b)=>{const w=b.event;m.getSystem().getByDom(w.target).each(O=>{ms.highlight(m,O),b.stop(),Mn(m,rP(),{menu:m,item:O})})}),Dt(BE(),(m,b)=>{const w=b.event.item;ms.highlight(m,w)}),Dt(_C(),(m,b)=>{const{item:w,state:O}=b.event;O&&Mi(w.element,"role")==="menuitemradio"&&U6(m,w)})]),components:s,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}),xb=Si({name:"Menu",configFields:V6(),partFields:H6(),factory:iP}),z6=t=>fl(t,(s,i)=>({k:s,v:i})),aP=(t,s,i,u)=>an(i,u).bind(m=>an(t,m).bind(b=>{const w=aP(t,s,i,b);return P.some([b].concat(w))})).getOr([]),W6=(t,s)=>{const i={};Yr(t,(w,O)=>{It(w,M=>{i[M]=O})});const u=s,m=z6(s),b=Ms(m,(w,O)=>[O].concat(aP(i,u,m,O)));return Ms(i,w=>an(b,w).getOr([w]))},G6=()=>{const t=Wn({}),s=Wn({}),i=Wn({}),u=Zs(),m=Wn({}),b=()=>{t.set({}),s.set({}),i.set({}),u.clear()},w=()=>u.get().isNone(),O=(Qt,Pt)=>{s.set({...s.get(),[Qt]:{type:"prepared",menu:Pt}})},M=(Qt,Pt,ln,xn)=>{u.set(Qt),t.set(ln),s.set(Pt),m.set(xn);const $o=W6(xn,ln);i.set($o)},B=Qt=>bi(t.get(),(Pt,ln)=>Pt===Qt),W=(Qt,Pt,ln)=>Ie(Qt).bind(xn=>B(Qt).bind($o=>Pt($o).map(Fn=>({triggeredMenu:xn,triggeringItem:Fn,triggeringPath:ln})))),Y=(Qt,Pt)=>{const ln=uo(Ue(Qt).toArray(),xn=>Ie(xn).isSome());return an(i.get(),Qt).bind(xn=>{const $o=vi(ln.concat(xn)),Fn=mt($o,(Mo,oo)=>W(Mo,Pt,$o.slice(0,oo+1)).fold(()=>pc(u.get(),Mo)?[]:[P.none()],Io=>[P.some(Io)]));return ks(Fn)})},ee=Qt=>an(t.get(),Qt).map(Pt=>{const ln=an(i.get(),Qt).getOr([]);return[Pt].concat(ln)}),se=Qt=>an(i.get(),Qt).bind(Pt=>Pt.length>1?P.some(Pt.slice(1)):P.none()),be=Qt=>an(i.get(),Qt),Ie=Qt=>nt(Qt).bind(cP),nt=Qt=>an(s.get(),Qt),Ue=Qt=>an(t.get(),Qt);return{setMenuBuilt:O,setContents:M,expand:ee,refresh:be,collapse:se,lookupMenu:nt,lookupItem:Ue,otherMenus:Qt=>{const Pt=m.get();return Lt(Os(Pt),Qt)},getPrimary:()=>u.get().bind(Ie),getMenus:()=>s.get(),clear:b,isClear:w,getTriggeringPath:Y}},cP=t=>t.type==="prepared"?P.some(t.menu):P.none(),lP={init:G6,extractPreparedMenu:cP},nI=_n("tiered-menu-item-highlight"),uP=_n("tiered-menu-item-dehighlight");var Su;(function(t){t[t.HighlightMenuAndItem=0]="HighlightMenuAndItem",t[t.HighlightJustMenu=1]="HighlightJustMenu",t[t.HighlightNone=2]="HighlightNone"})(Su||(Su={}));const q6=(t,s)=>{const i=Zs(),u=(Wt,Sn,pn)=>Ms(pn,(Yn,Eo)=>{const Jo=()=>xb.sketch({...Yn,value:Eo,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:(aa,Es)=>{Mn(aa,nI,{menuComp:aa,itemComp:Es})},onDehighlight:(aa,Es)=>{Mn(aa,uP,{menuComp:aa,itemComp:Es})},focusManager:t.fakeFocus?mC():hC()});return Eo===Sn?{type:"prepared",menu:Wt.getSystem().build(Jo())}:{type:"notbuilt",nbMenu:Jo}}),m=lP.init(),b=Wt=>{const Sn=u(Wt,t.data.primary,t.data.menus),pn=M();return m.setContents(t.data.primary,Sn,t.data.expansions,pn),m.getPrimary()},w=Wt=>fn.getValue(Wt).value,O=(Wt,Sn,pn)=>nr(Sn,Yn=>{if(!Yn.getSystem().isConnected())return P.none();const Eo=ms.getCandidates(Yn);return kn(Eo,Jo=>w(Jo)===pn)}),M=Wt=>Ms(t.data.menus,(Sn,pn)=>mt(Sn.items,Yn=>Yn.type==="separator"?[]:[Yn.data.value])),B=ms.highlight,W=(Wt,Sn)=>{B(Wt,Sn),ms.getHighlighted(Sn).orThunk(()=>ms.getFirst(Sn)).each(pn=>{t.fakeFocus?ms.highlight(Sn,pn):af(Wt,pn.element,of())})},Y=(Wt,Sn)=>au(Je(Sn,pn=>Wt.lookupMenu(pn).bind(Yn=>Yn.type==="prepared"?P.some(Yn.menu):P.none()))),ee=(Wt,Sn,pn)=>{const Yn=Y(Sn,Sn.otherMenus(pn));It(Yn,Eo=>{zc(Eo.element,[t.markers.backgroundMenu]),t.stayInDom||lo.remove(Wt,Eo)})},se=Wt=>i.get().getOrThunk(()=>{const Sn={},pn=Gi(Wt.element,`.${t.markers.item}`),Yn=uo(pn,Eo=>Mi(Eo,"aria-haspopup")==="true");return It(Yn,Eo=>{Wt.getSystem().getByDom(Eo).each(Jo=>{const aa=w(Jo);Sn[aa]=Jo})}),i.set(Sn),Sn}),be=(Wt,Sn)=>{const pn=se(Wt);Yr(pn,(Yn,Eo)=>{const Jo=vo(Sn,Eo);co(Yn.element,"aria-expanded",Jo)})},Ie=(Wt,Sn,pn)=>P.from(pn[0]).bind(Yn=>Sn.lookupMenu(Yn).bind(Eo=>{if(Eo.type==="notbuilt")return P.none();{const Jo=Eo.menu,aa=Y(Sn,pn.slice(1));return It(aa,Es=>{As(Es.element,t.markers.backgroundMenu)}),nc(Jo.element)||lo.append(Wt,rl(Jo)),zc(Jo.element,[t.markers.backgroundMenu]),W(Wt,Jo),ee(Wt,Sn,pn),P.some(Jo)}}));let nt;(function(Wt){Wt[Wt.HighlightSubmenu=0]="HighlightSubmenu",Wt[Wt.HighlightParent=1]="HighlightParent"})(nt||(nt={}));const Ue=(Wt,Sn,pn)=>{if(pn.type==="notbuilt"){const Yn=Wt.getSystem().build(pn.nbMenu());return m.setMenuBuilt(Sn,Yn),Yn}else return pn.menu},tt=(Wt,Sn,pn=nt.HighlightSubmenu)=>{if(Sn.hasConfigured(no)&&no.isDisabled(Sn))return P.some(Sn);{const Yn=w(Sn);return m.expand(Yn).bind(Eo=>(be(Wt,Eo),P.from(Eo[0]).bind(Jo=>m.lookupMenu(Jo).bind(aa=>{const Es=Ue(Wt,Jo,aa);return nc(Es.element)||lo.append(Wt,rl(Es)),t.onOpenSubmenu(Wt,Sn,Es,vi(Eo)),pn===nt.HighlightSubmenu?(ms.highlightFirst(Es),Ie(Wt,m,Eo)):(ms.dehighlightAll(Es),P.some(Sn))}))))}},ut=(Wt,Sn)=>{const pn=w(Sn);return m.collapse(pn).bind(Yn=>(be(Wt,Yn),Ie(Wt,m,Yn).map(Eo=>(t.onCollapseMenu(Wt,Sn,Eo),Eo))))},pt=(Wt,Sn)=>{const pn=w(Sn);return m.refresh(pn).bind(Yn=>(be(Wt,Yn),Ie(Wt,m,Yn)))},Qt=(Wt,Sn)=>xp(Sn.element)?P.none():tt(Wt,Sn,nt.HighlightSubmenu),Pt=(Wt,Sn)=>xp(Sn.element)?P.none():ut(Wt,Sn),ln=(Wt,Sn)=>ut(Wt,Sn).orThunk(()=>t.onEscape(Wt,Sn).map(()=>Wt)),xn=Wt=>(Sn,pn)=>ff(pn.getSource(),`.${t.markers.item}`).bind(Yn=>Sn.getSystem().getByDom(Yn).toOptional().bind(Eo=>Wt(Sn,Eo).map(Ot))),$o=js([Dt(rP(),(Wt,Sn)=>{const pn=Sn.event.item;m.lookupItem(w(pn)).each(()=>{const Yn=Sn.event.menu;ms.highlight(Wt,Yn);const Eo=w(Sn.event.item);m.refresh(Eo).each(Jo=>ee(Wt,m,Jo))})}),Zl((Wt,Sn)=>{const pn=Sn.event.target;Wt.getSystem().getByDom(pn).each(Yn=>{w(Yn).indexOf("collapse-item")===0&&ut(Wt,Yn),tt(Wt,Yn,nt.HighlightSubmenu).fold(()=>{t.onExecute(Wt,Yn)},oe)})}),Tr((Wt,Sn)=>{b(Wt).each(pn=>{lo.append(Wt,rl(pn)),t.onOpenMenu(Wt,pn),t.highlightOnOpen===Su.HighlightMenuAndItem?W(Wt,pn):t.highlightOnOpen===Su.HighlightJustMenu&&B(Wt,pn)})}),Dt(nI,(Wt,Sn)=>{t.onHighlightItem(Wt,Sn.event.menuComp,Sn.event.itemComp)}),Dt(uP,(Wt,Sn)=>{t.onDehighlightItem(Wt,Sn.event.menuComp,Sn.event.itemComp)}),...t.navigateOnHover?[Dt(BE(),(Wt,Sn)=>{const pn=Sn.event.item;pt(Wt,pn),tt(Wt,pn,nt.HighlightParent),t.onHover(Wt,pn)})]:[]]),Fn=Wt=>ms.getHighlighted(Wt).bind(ms.getHighlighted),Mo=Wt=>{Fn(Wt).each(Sn=>{ut(Wt,Sn)})},oo=Wt=>{m.getPrimary().each(Sn=>{W(Wt,Sn)})},Io=Wt=>P.from(Wt.components()[0]).filter(Sn=>Mi(Sn.element,"role")==="menu"),xs={collapseMenu:Mo,highlightPrimary:oo,repositionMenus:Wt=>{m.getPrimary().bind(pn=>Fn(Wt).bind(Yn=>{const Eo=w(Yn),Jo=yh(m.getMenus()),aa=au(Je(Jo,lP.extractPreparedMenu));return m.getTriggeringPath(Eo,Es=>O(Wt,aa,Es))}).map(Yn=>({primary:pn,triggeringPath:Yn}))).fold(()=>{Io(Wt).each(pn=>{t.onRepositionMenu(Wt,pn,[])})},({primary:pn,triggeringPath:Yn})=>{t.onRepositionMenu(Wt,pn,Yn)})}};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:kr(t.tmenuBehaviours,[Bn.config({mode:"special",onRight:xn(Qt),onLeft:xn(Pt),onEscape:xn(ln),focusIn:(Wt,Sn)=>{m.getPrimary().each(pn=>{af(Wt,pn.element,of())})}}),ms.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),Xo.config({find:Wt=>ms.getHighlighted(Wt)}),lo.config({})]),eventOrder:t.eventOrder,apis:xs,events:$o}},j6=Ee("collapse-item"),Z6=(t,s,i)=>({primary:t,menus:s,expansions:i}),by=(t,s)=>({primary:t,menus:Uu(t,s),expansions:{}}),Y6=t=>({value:_n(j6()),meta:{text:t}}),yy=qi({name:"TieredMenu",configFields:[w0("onExecute"),w0("onEscape"),Qm("onOpenMenu"),Qm("onOpenSubmenu"),Ye("onRepositionMenu"),Ye("onCollapseMenu"),We("highlightOnOpen",Su.HighlightMenuAndItem),ac("data",[At("primary"),At("menus"),At("expansions")]),We("fakeFocus",!1),Ye("onHighlightItem"),Ye("onDehighlightItem"),Ye("onHover"),Sd(),At("dom"),We("navigateOnHover",!0),We("stayInDom",!1),ja("tmenuBehaviours",[Bn,ms,Xo,lo]),We("eventOrder",{})],apis:{collapseMenu:(t,s)=>{t.collapseMenu(s)},highlightPrimary:(t,s)=>{t.highlightPrimary(s)},repositionMenus:(t,s)=>{t.repositionMenus(s)}},factory:q6,extraApis:{tieredData:Z6,singleData:by,collapseItem:Y6}}),_y=(t,s,i,u,m)=>{const b=()=>t.lazySink(s),w=u.type==="horizontal"?{layouts:{onLtr:()=>I1(),onRtl:()=>Ad()}}:{},O=B=>B.length===2,M=B=>O(B)?w:{};return yy.sketch({dom:{tag:"div"},data:u.data,markers:u.menu.markers,highlightOnOpen:u.menu.highlightOnOpen,fakeFocus:u.menu.fakeFocus,onEscape:()=>(Uo.close(s),t.onEscape.map(B=>B(s)),P.some(!0)),onExecute:()=>P.some(!0),onOpenMenu:(B,W)=>{Ws.positionWithinBounds(b().getOrDie(),W,i,m())},onOpenSubmenu:(B,W,Y,ee)=>{const se=b().getOrDie();Ws.position(se,Y,{anchor:{type:"submenu",item:W,...M(ee)}})},onRepositionMenu:(B,W,Y)=>{const ee=b().getOrDie();Ws.positionWithinBounds(ee,W,i,m()),It(Y,se=>{const be=M(se.triggeringPath);Ws.position(ee,se.triggeredMenu,{anchor:{type:"submenu",item:se.triggeringItem,...be}})})}})},K6=(t,s)=>{const i=(ee,se)=>t.getRelated(ee).exists(Ie=>Km(Ie,se)),u=(ee,se)=>{Uo.setContent(ee,se)},m=(ee,se,be)=>{const Ie=P.none;b(ee,se,be,Ie)},b=(ee,se,be,Ie)=>{const nt=t.lazySink(ee).getOrDie();Uo.openWhileCloaked(ee,se,()=>Ws.positionWithinBounds(nt,ee,be,Ie())),fn.setValue(ee,P.some({mode:"position",config:be,getBounds:Ie}))},w=(ee,se,be)=>{O(ee,se,be,P.none)},O=(ee,se,be,Ie)=>{const nt=_y(t,ee,se,be,Ie);Uo.open(ee,nt),fn.setValue(ee,P.some({mode:"menu",menu:nt}))},M=ee=>{Uo.isOpen(ee)&&(fn.setValue(ee,P.none()),Uo.close(ee))},B=ee=>Uo.getState(ee),W=ee=>{Uo.isOpen(ee)&&fn.getValue(ee).each(se=>{switch(se.mode){case"menu":Uo.getState(ee).each(yy.repositionMenus);break;case"position":const be=t.lazySink(ee).getOrDie();Ws.positionWithinBounds(be,ee,se.config,se.getBounds());break}})},Y={setContent:u,showAt:m,showWithinBounds:b,showMenuAt:w,showMenuWithinBounds:O,hide:M,getContent:B,reposition:W,isOpen:Uo.isOpen};return{uid:t.uid,dom:t.dom,behaviours:kr(t.inlineBehaviours,[Uo.config({isPartOf:(ee,se,be)=>Km(se,be)||i(ee,be),getAttachPoint:ee=>t.lazySink(ee).getOrDie(),onOpen:ee=>{t.onShow(ee)},onClose:ee=>{t.onHide(ee)}}),fn.config({store:{mode:"memory",initialValue:P.none()}}),bu.config({channels:{...oy({isExtraPart:s.isExtraPart,...t.fireDismissalEventInstead.map(ee=>({fireEventInstead:{event:ee.event}})).getOr({})}),...Y1({...t.fireRepositionEventInstead.map(ee=>({fireEventInstead:{event:ee.event}})).getOr({}),doReposition:W})}})]),eventOrder:t.eventOrder,apis:Y}},ra=qi({name:"InlineView",configFields:[At("lazySink"),Ye("onShow"),Ye("onHide"),Ft("onEscape"),ja("inlineBehaviours",[Uo,fn,bu]),dn("fireDismissalEventInstead",[We("event",gu())]),dn("fireRepositionEventInstead",[We("event",Jg())]),We("getRelated",P.none),We("isExtraPart",wt),We("eventOrder",P.none)],factory:K6,apis:{showAt:(t,s,i,u)=>{t.showAt(s,i,u)},showWithinBounds:(t,s,i,u,m)=>{t.showWithinBounds(s,i,u,m)},showMenuAt:(t,s,i,u)=>{t.showMenuAt(s,i,u)},showMenuWithinBounds:(t,s,i,u,m)=>{t.showMenuWithinBounds(s,i,u,m)},hide:(t,s)=>{t.hide(s)},isOpen:(t,s)=>t.isOpen(s),getContent:(t,s)=>t.getContent(s),setContent:(t,s,i)=>{t.setContent(s,i)},reposition:(t,s)=>{t.reposition(s)}}});var Eg=tinymce.util.Tools.resolve("tinymce.util.Delay");const qc=qi({name:"Button",factory:t=>{const s=ex(t.action),i=t.dom.tag,u=b=>an(t.dom,"attributes").bind(w=>an(w,b)),m=()=>{if(i==="button"){const b=u("type").getOr("button"),w=u("role").map(O=>({role:O})).getOr({});return{type:b,...w}}else return{role:t.role.getOr(u("role").getOr("button"))}};return{uid:t.uid,dom:t.dom,components:t.components,events:s,behaviours:yf.augment(t.buttonBehaviours,[jn.config({}),Bn.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:m()},eventOrder:t.eventOrder}},configFields:[We("uid",void 0),At("dom"),We("components",[]),yf.field("buttonBehaviours",[jn,Bn]),Yo("action"),Yo("role"),We("eventOrder",{})]}),zo=t=>{const s=Cn(t)&&ca(t,"uid")?t.uid:Yl("memento");return{get:b=>b.getSystem().getByUid(s).getOrDie(),getOpt:b=>b.getSystem().getByUid(s).toOptional(),asSpec:()=>({...t,uid:s})}};var Tf=tinymce.util.Tools.resolve("tinymce.util.I18n");const dP={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},oI="temporary-placeholder",sI=t=>()=>an(t,oI).getOr("!not found!"),EC=(t,s)=>{const i=t.toLowerCase();if(Tf.isRtl()){const u=Di(i,"-rtl");return Ho(s,u)?u:i}else return i},fP=(t,s)=>an(s,EC(t,s)),hP=(t,s)=>{const i=s();return fP(t,i).getOrThunk(sI(i))},X6=(t,s,i)=>{const u=s();return fP(t,u).or(i).getOrThunk(sI(u))},ox=t=>Tf.isRtl()?Ho(dP,t):!1,wC=()=>mo("add-focusable",[Tr(t=>{Xf(t.element,"svg").each(s=>co(s,"focusable","false"))})]),mP=(t,s,i,u)=>{var m,b;const w=ox(s)?["tox-icon--flip"]:[],O=an(i,EC(s,i)).or(u).getOrThunk(sI(i));return{dom:{tag:t.tag,attributes:(m=t.attributes)!==null&&m!==void 0?m:{},classes:t.classes.concat(w),innerHtml:O},behaviours:kt([...(b=t.behaviours)!==null&&b!==void 0?b:[],wC()])}},oh=(t,s,i,u=P.none())=>mP(s,t,i(),u),gP=(t,s,i)=>{const u=i(),m=kn(t,b=>Ho(u,EC(b,u)));return mP(s,m.getOr(oI),u,P.none())},Q6={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},rI=qi({name:"Notification",factory:t=>{const s=zo({dom:{tag:"p",innerHtml:t.translationProvider(t.text)},behaviours:kt([lo.config({})])}),i=se=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${se}%`}}}),u=se=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${se}%`}}),m=zo({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[i(0)]},u(0)],behaviours:kt([lo.config({})])}),O={updateProgress:(se,be)=>{se.getSystem().isConnected()&&m.getOpt(se).each(Ie=>{lo.set(Ie,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[i(be)]},u(be)])})},updateText:(se,be)=>{if(se.getSystem().isConnected()){const Ie=s.get(se);lo.set(Ie,[Cr(be)])}}},M=Yt([t.icon.toArray(),t.level.toArray(),t.level.bind(se=>P.from(Q6[se])).toArray()]),B=zo(qc.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[oh("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":t.translationProvider("Close")}},t.iconProvider)],action:se=>{t.onAction(se)}})),W=gP(M,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),Y={dom:{tag:"div",classes:["tox-notification__body"]},components:[s.asSpec()],behaviours:kt([lo.config({})])},ee=[W,Y];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map(se=>["tox-notification","tox-notification--in",`tox-notification--${se}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:kt([jn.config({}),mo("notification-events",[Dt(Hf(),se=>{B.getOpt(se).each(jn.focus)})])]),components:ee.concat(t.progress?[m.asSpec()]:[]).concat(t.closeButton?[B.asSpec()]:[]),apis:O}},configFields:[Yo("level"),At("progress"),Yo("icon"),At("onAction"),At("text"),At("iconProvider"),At("translationProvider"),li("closeButton",!0)],apis:{updateProgress:(t,s,i)=>{t.updateProgress(s,i)},updateText:(t,s,i)=>{t.updateText(s,i)}}});var iI=(t,s,i)=>{const u=s.backstage.shared,m=()=>{const M=es(Xe.fromDom(t.getContentAreaContainer())),B=Da(),W=Rc(B.x,M.x,M.right),Y=Rc(B.y,M.y,M.bottom),ee=Math.max(M.right,B.right),se=Math.max(M.bottom,B.bottom);return P.some(Ps(W,Y,ee-W,se-Y))};return{open:(M,B)=>{const W=()=>{B(),ra.hide(ee)},Y=dc(rI.sketch({text:M.text,level:vo(["success","error","warning","warn","info"],M.type)?M.type:void 0,progress:M.progressBar===!0,icon:M.icon,closeButton:M.closeButton,onAction:W,iconProvider:u.providers.icons,translationProvider:u.providers.translate})),ee=dc(ra.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:u.getSink,fireDismissalEventInstead:{},...u.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));i.add(ee),De(M.timeout)&&M.timeout>0&&Eg.setEditorTimeout(t,()=>{W()},M.timeout);const be={close:W,reposition:()=>{const Ie=rl(Y),nt={maxHeightFunction:Zh()},Ue=t.notificationManager.getNotifications();if(Ue[0]===be){const tt={...u.anchors.banner(),overrides:nt};ra.showWithinBounds(ee,Ie,{anchor:tt},m)}else Ge(Ue,be).each(tt=>{const ut=Ue[tt-1].getEl(),pt={type:"node",root:Qi(),node:P.some(Xe.fromDom(ut)),overrides:nt,layouts:{onRtl:()=>[ka],onLtr:()=>[ka]}};ra.showWithinBounds(ee,Ie,{anchor:pt},m)})},text:Ie=>{rI.updateText(Y,Ie)},settings:M,getEl:()=>Y.element.dom,progressBar:{value:Ie=>{rI.updateProgress(Y,Ie)}}};return be},close:M=>{M.close()},getArgs:M=>M.settings}},TC=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),CC=tinymce.util.Tools.resolve("tinymce.EditorManager"),sv=tinymce.util.Tools.resolve("tinymce.Env"),Cf;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(Cf||(Cf={}));var FE;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(FE||(FE={}));const Ar=t=>s=>s.options.get(t),SC=t=>s=>P.from(t(s)),vP=t=>{const s=sv.deviceType.isPhone(),i=sv.deviceType.isTablet()||s,u=t.options.register,m=w=>U(w)||w===!1,b=w=>U(w)||De(w);u("skin",{processor:w=>U(w)||w===!1,default:"oxide"}),u("skin_url",{processor:"string"}),u("height",{processor:b,default:Math.max(t.getElement().offsetHeight,400)}),u("width",{processor:b,default:TC.DOM.getStyle(t.getElement(),"width")}),u("min_height",{processor:"number",default:100}),u("min_width",{processor:"number"}),u("max_height",{processor:"number"}),u("max_width",{processor:"number"}),u("style_formats",{processor:"object[]"}),u("style_formats_merge",{processor:"boolean",default:!1}),u("style_formats_autohide",{processor:"boolean",default:!1}),u("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),u("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),u("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),u("font_size_input_default_unit",{processor:"string",default:"pt"}),u("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),u("content_langs",{processor:"object[]"}),u("removed_menuitems",{processor:"string",default:""}),u("menubar",{processor:w=>U(w)||_e(w),default:!s}),u("menu",{processor:"object",default:{}}),u("toolbar",{processor:w=>_e(w)||U(w)||Q(w)?{value:w,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),ao(9,w=>{u("toolbar"+(w+1),{processor:"string"})}),u("toolbar_mode",{processor:"string",default:i?"scrolling":"floating"}),u("toolbar_groups",{processor:"object",default:{}}),u("toolbar_location",{processor:"string",default:FE.auto}),u("toolbar_persist",{processor:"boolean",default:!1}),u("toolbar_sticky",{processor:"boolean",default:t.inline}),u("toolbar_sticky_offset",{processor:"number",default:0}),u("fixed_toolbar_container",{processor:"string",default:""}),u("fixed_toolbar_container_target",{processor:"object"}),u("ui_mode",{processor:"string",default:"combined"}),u("file_picker_callback",{processor:"function"}),u("file_picker_validator_handler",{processor:"function"}),u("file_picker_types",{processor:"string"}),u("typeahead_urls",{processor:"boolean",default:!0}),u("anchor_top",{processor:m,default:"#top"}),u("anchor_bottom",{processor:m,default:"#bottom"}),u("draggable_modal",{processor:"boolean",default:!1}),u("statusbar",{processor:"boolean",default:!0}),u("elementpath",{processor:"boolean",default:!0}),u("branding",{processor:"boolean",default:!0}),u("promotion",{processor:"boolean",default:!0}),u("resize",{processor:w=>w==="both"||_e(w),default:!sv.deviceType.isTouch()}),u("sidebar_show",{processor:"string"})},bP=Ar("readonly"),AC=Ar("height"),sx=Ar("width"),rx=SC(Ar("min_width")),xC=SC(Ar("min_height")),ix=SC(Ar("max_width")),ax=SC(Ar("max_height")),yP=SC(Ar("style_formats")),_P=Ar("style_formats_merge"),EP=Ar("style_formats_autohide"),aI=Ar("content_langs"),wP=Ar("removed_menuitems"),HE=Ar("toolbar_mode"),cx=Ar("toolbar_groups"),lx=Ar("toolbar_location"),TP=Ar("fixed_toolbar_container"),J6=Ar("fixed_toolbar_container_target"),ux=Ar("toolbar_persist"),CP=Ar("toolbar_sticky_offset"),SP=Ar("menubar"),dx=Ar("toolbar"),AP=Ar("file_picker_callback"),xP=Ar("file_picker_validator_handler"),cI=Ar("font_size_input_default_unit"),fx=Ar("file_picker_types"),OP=Ar("typeahead_urls"),OC=Ar("anchor_top"),RP=Ar("anchor_bottom"),IP=Ar("draggable_modal"),DP=Ar("statusbar"),NP=Ar("elementpath"),MP=Ar("branding"),kP=Ar("resize"),lI=Ar("paste_as_text"),PP=Ar("sidebar_show"),LP=Ar("promotion"),RC=t=>t.options.get("skin")===!1,Ip=t=>t.options.get("menubar")!==!1,$P=t=>{const s=t.options.get("skin_url");if(RC(t))return s;if(s)return t.documentBaseURI.toAbsolute(s);{const i=t.options.get("skin");return CC.baseURL+"/skins/ui/"+i}},BP=t=>t.options.get("line_height_formats").split(" "),VE=t=>{const s=dx(t),i=U(s),u=Q(s)&&s.length>0;return!UE(t)&&(u||i||s===!0)},uI=t=>{const s=ao(9,u=>t.options.get("toolbar"+(u+1))),i=uo(s,U);return qn(i.length>0,i)},UE=t=>uI(t).fold(()=>{const s=dx(t);return Me(s,U)&&s.length>0},Ot),dI=t=>lx(t)===FE.bottom,fI=t=>{var s;if(!t.inline)return P.none();const i=(s=TP(t))!==null&&s!==void 0?s:"";if(i.length>0)return Nr(Qi(),i);const u=J6(t);return fe(u)?P.some(Xe.fromDom(u)):P.none()},Ey=t=>t.inline&&fI(t).isSome(),IC=t=>fI(t).getOrThunk(()=>Ni(xa(Xe.fromDom(t.getElement())))),hI=t=>t.inline&&!Ip(t)&&!VE(t)&&!UE(t),zE=t=>(t.options.get("toolbar_sticky")||t.inline)&&!Ey(t)&&!hI(t),Ob=t=>!Ey(t)&&t.options.get("ui_mode")==="split",WE=t=>{const s=t.options.get("menu");return Ms(s,i=>({...i,items:i.items}))};var eV=Object.freeze({__proto__:null,get ToolbarMode(){return Cf},get ToolbarLocation(){return FE},register:vP,getSkinUrl:$P,isReadOnly:bP,isSkinDisabled:RC,getHeightOption:AC,getWidthOption:sx,getMinWidthOption:rx,getMinHeightOption:xC,getMaxWidthOption:ix,getMaxHeightOption:ax,getUserStyleFormats:yP,shouldMergeStyleFormats:_P,shouldAutoHideStyleFormats:EP,getLineHeightFormats:BP,getContentLanguages:aI,getRemovedMenuItems:wP,isMenubarEnabled:Ip,isMultipleToolbars:UE,isToolbarEnabled:VE,isToolbarPersist:ux,getMultipleToolbarsOption:uI,getUiContainer:IC,useFixedContainer:Ey,isSplitUiMode:Ob,getToolbarMode:HE,isDraggableModal:IP,isDistractionFree:hI,isStickyToolbar:zE,getStickyToolbarOffset:CP,getToolbarLocation:lx,isToolbarLocationBottom:dI,getToolbarGroups:cx,getMenus:WE,getMenubar:SP,getToolbar:dx,getFilePickerCallback:AP,getFilePickerTypes:fx,useTypeaheadUrls:OP,getAnchorTop:OC,getAnchorBottom:RP,getFilePickerValidatorHandler:xP,getFontSizeInputDefaultUnit:cI,useStatusBar:DP,useElementPath:NP,promotionEnabled:LP,useBranding:MP,getResize:kP,getPasteAsText:lI,getSidebarShow:PP});const FP="[data-mce-autocompleter]",hx=t=>ff(t,FP),mI=t=>Nr(t,FP),HP={setup:(t,s)=>{const i=(m,b)=>{Mn(m,na(),{raw:b})},u=()=>t.getMenu().bind(ms.getHighlighted);s.on("keydown",m=>{const b=m.which;t.isActive()&&(t.isMenuOpen()?b===13?(u().each(rf),m.preventDefault()):b===40?(u().fold(()=>{t.getMenu().each(ms.highlightFirst)},w=>{i(w,m)}),m.preventDefault(),m.stopImmediatePropagation()):(b===37||b===38||b===39)&&u().each(w=>{i(w,m),m.preventDefault(),m.stopImmediatePropagation()}):(b===13||b===38||b===40)&&t.cancelIfNecessary())}),s.on("NodeChange",m=>{t.isActive()&&!t.isProcessingAction()&&hx(Xe.fromDom(m.element)).isNone()&&t.cancelIfNecessary()})}};var gI;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(gI||(gI={}));var wg=gI;const DC="tox-menu-nav__js",mx="tox-collection__item",pI="tox-swatch",tV={normal:DC,color:pI},VP="tox-collection__item--enabled",nV="tox-collection__group-heading",UP="tox-collection__item-icon",vI="tox-collection__item-label",oV="tox-collection__item-accessory",zP="tox-collection__item-caret",sV="tox-collection__item-checkmark",NC="tox-collection__item--active",WP="tox-collection__item-container",bI="tox-collection__item-container--column",GP="tox-collection__item-container--row",rV="tox-collection__item-container--align-right",iV="tox-collection__item-container--align-left",qP="tox-collection__item-container--valign-top",aV="tox-collection__item-container--valign-middle",cV="tox-collection__item-container--valign-bottom",jP=t=>an(tV,t).getOr(DC),lV=t=>t==="color"?"tox-swatches":"tox-menu",yI=t=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:lV(t),tieredMenu:"tox-tiered-menu"}),wy=t=>{const s=yI(t);return{backgroundMenu:s.backgroundMenu,selectedMenu:s.selectedMenu,menu:s.menu,selectedItem:s.selectedItem,item:jP(t)}},_I=(t,s,i)=>{const u=yI(i);return{tag:"div",classes:Yt([[u.menu,`tox-menu-${s}-column`],t?[u.hasIcons]:[]])}},uV=[xb.parts.items({})],gx=(t,s,i)=>{const u=yI(i);return{dom:{tag:"div",classes:Yt([[u.tieredMenu]])},markers:wy(i)}},ZP=Ee([Yo("data"),We("inputAttributes",{}),We("inputStyles",{}),We("tag","input"),We("inputClasses",[]),Ye("onSetValue"),We("styles",{}),We("eventOrder",{}),ja("inputBehaviours",[fn,jn]),We("selectOnFocus",!0)]),YP=t=>kt([jn.config({onFocus:t.selectOnFocus?s=>{const i=s.element,u=Kl(i);i.dom.setSelectionRange(0,u.length)}:oe})]),dV=t=>({...YP(t),...kr(t.inputBehaviours,[fn.config({store:{mode:"manual",...t.data.map(s=>({initialValue:s})).getOr({}),getValue:s=>Kl(s.element),setValue:(s,i)=>{Kl(s.element)!==i&&Zu(s.element,i)}},onSetValue:t.onSetValue})])}),KP=t=>({tag:t.tag,attributes:{type:"text",...t.inputAttributes},styles:t.inputStyles,classes:t.inputClasses}),fV=(t,s)=>({uid:t.uid,dom:KP(t),components:[],behaviours:dV(t),eventOrder:t.eventOrder}),Ty=qi({name:"Input",configFields:ZP(),factory:fV}),XP=_n("refetch-trigger-event"),QP=_n("redirect-menu-item-interaction"),JP="tox-menu__searcher",px=t=>Nr(t.element,`.${JP}`).bind(s=>t.getSystem().getByDom(s).toOptional()),MC=px,hV=(t,s)=>{fn.setValue(t,s.fetchPattern),t.element.dom.selectionStart=s.selectionStart,t.element.dom.selectionEnd=s.selectionEnd},vx=t=>{const s=fn.getValue(t),i=t.element.dom.selectionStart,u=t.element.dom.selectionEnd;return{fetchPattern:s,selectionStart:i,selectionEnd:u}},mV=(t,s)=>{Kr(s.element,"id").each(i=>co(t.element,"aria-activedescendant",i))},gV=t=>{const s=(m,b)=>(b.cut(),P.none()),i=(m,b)=>{const w={interactionEvent:b.event,eventType:b.event.raw.type};return Mn(m,QP,w),P.some(!0)},u="searcher-events";return{dom:{tag:"div",classes:[mx]},components:[Ty.sketch({inputClasses:[JP,"tox-textfield"],inputAttributes:{...t.placeholder.map(m=>({placeholder:t.i18n(m)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:kt([mo(u,[Dt(Hc(),m=>{ss(m,XP)}),Dt(na(),(m,b)=>{b.event.raw.key==="Escape"&&b.stop()})]),Bn.config({mode:"special",onLeft:s,onRight:s,onSpace:s,onEnter:i,onEscape:i,onUp:i,onDown:i})]),eventOrder:{keydown:[u,Bn.name()]}})]}},bx="tox-collection--results__js",eL=t=>{var s;return t.dom?{...t,dom:{...t.dom,attributes:{...(s=t.dom.attributes)!==null&&s!==void 0?s:{},id:_n("aria-item-search-result-id"),"aria-selected":"false"}}}:t},EI=(t,s)=>i=>{const u=Fo(i,s);return Je(u,m=>({dom:t,components:m}))},tL=t=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[xb.parts.items({preprocess:t!=="auto"?EI({tag:"div",classes:["tox-swatches__row"]},t):Ze})]}]}),pV=t=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[xb.parts.items({preprocess:EI({tag:"div",classes:["tox-collection__group"]},t)})]}),yx=(t,s)=>{const i=[];let u=[];return It(t,(m,b)=>{s(m,b)?(u.length>0&&i.push(u),u=[],(Ho(m.dom,"innerHtml")||m.components&&m.components.length>0)&&u.push(m)):u.push(m)}),u.length>0&&i.push(u),Je(i,m=>({dom:{tag:"div",classes:["tox-collection__group"]},components:m}))},kC=(t,s,i)=>xb.parts.items({preprocess:u=>{const m=Je(u,i);return t!=="auto"&&t>1?EI({tag:"div",classes:["tox-collection__group"]},t)(m):yx(m,(b,w)=>s[w].type==="separator")}}),wI=(t,s,i=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[kC(t,s,Ze)]}),TI=(t,s,i=!0)=>{const u=_n("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",bx].concat(t===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:u}},components:[kC(t,s,eL)]}},_x=(t,s,i)=>{const u=_n("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[gV({i18n:Tf.translate,placeholder:i.placeholder}),{dom:{tag:"div",classes:[...t===1?["tox-collection--list"]:["tox-collection--grid"],bx],attributes:{id:u}},components:[kC(t,s,eL)]}]}},nL=(t,s=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[xb.parts.items({preprocess:i=>yx(i,(u,m)=>t[m].type==="separator")})]}),sh=t=>Bo(t,s=>"icon"in s&&s.icon!==void 0),Tg=t=>(console.error(Cc(t)),console.log(t),P.none()),vV=(t,s,i,u,m)=>{const b=nL(i);return{value:t,dom:b.dom,components:b.components,items:i}},CI=(t,s,i,u,m)=>{const b=()=>m.menuType!=="searchable"?wI(u,i):m.searchMode.searchMode==="search-with-field"?_x(u,i,m.searchMode):TI(u,i);if(m.menuType==="color"){const w=tL(u);return{value:t,dom:w.dom,components:w.components,items:i}}else if(m.menuType==="normal"&&u==="auto"){const w=wI(u,i);return{value:t,dom:w.dom,components:w.components,items:i}}else if(m.menuType==="normal"||m.menuType==="searchable"){const w=b();return{value:t,dom:w.dom,components:w.components,items:i}}else if(m.menuType==="listpreview"&&u!=="auto"){const w=pV(u);return{value:t,dom:w.dom,components:w.components,items:i}}else return{value:t,dom:_I(s,u,m.menuType),components:uV,items:i}},ia=Wr("type"),SI=Wr("name"),Rb=Wr("label"),rv=Wr("text"),oL=Wr("title"),Ex=Wr("icon"),GE=Wr("value"),AI=ic("fetch"),bV=ic("getSubmenuItems"),Ib=ic("onAction"),xI=ic("onItemAction"),Cy=Ti("onSetup",()=>oe),sL=ae("name"),iv=ae("text"),sm=ae("icon"),wx=ae("tooltip"),OI=ae("label"),yV=ae("shortcut"),_V=Ft("select"),PC=li("active",!1),rL=li("borderless",!1),rm=li("enabled",!0),LC=li("primary",!1),RI=t=>We("columns",t),Sy=We("meta",{}),Tx=Ti("onAction",oe),Ay=t=>ta("type",t),II=t=>jr("name","name",r1(()=>_n(`${t}-name`)),Dr),iL=t=>jr("value","value",r1(()=>_n(`${t}-value`)),_l()),aL=Pn([ia,iv]),EV=t=>ts("separatormenuitem",aL,t),cL=Pn([Ay("autocompleteitem"),PC,rm,Sy,GE,iv,sm]),lL=t=>ts("Autocompleter.Separator",aL,t),uL=t=>ts("Autocompleter.Item",cL,t),qE=[rm,wx,sm,iv,Cy],wV=Pn([ia,Ib].concat(qE)),dL=t=>ts("toolbarbutton",wV,t),Cx=[PC].concat(qE),DI=Pn(Cx.concat([ia,Ib])),Sx=t=>ts("ToggleButton",DI,t),NI=[Ti("predicate",wt),Hr("scope","node",["node","editor"]),Hr("position","selection",["node","selection","line"])],fL=qE.concat([Ay("contextformbutton"),LC,Ib,ys("original",Ze)]),hL=Cx.concat([Ay("contextformbutton"),LC,Ib,ys("original",Ze)]),TV=qE.concat([Ay("contextformbutton")]),MI=Cx.concat([Ay("contextformtogglebutton")]),CV=or("type",{contextformbutton:fL,contextformtogglebutton:hL}),mL=Pn([Ay("contextform"),Ti("initValue",Ee("")),OI,Bi("commands",CV),Le("launch",or("type",{contextformbutton:TV,contextformtogglebutton:MI}))].concat(NI)),gL=t=>ts("ContextForm",mL,t),xy=Pn([Ay("contexttoolbar"),Wr("items")].concat(NI)),SV=t=>ts("ContextToolbar",xy,t),kI=[ia,Wr("src"),ae("alt"),l1("classes",[],Dr)],Ax=Pn(kI),AV=[ia,rv,sL,l1("classes",["tox-collection__item-label"],Dr)],pL=Pn(AV),PI=Gg(()=>Wa("type",{cardimage:Ax,cardtext:pL,cardcontainer:vL})),vL=Pn([ia,ta("direction","horizontal"),ta("align","left"),ta("valign","middle"),Bi("items",PI)]),Db=[rm,iv,yV,iL("menuitem"),Sy],bL=Pn([ia,OI,Bi("items",PI),Cy,Tx].concat(Db)),xV=t=>ts("cardmenuitem",bL,t),yL=Pn([ia,PC,sm].concat(Db)),_L=t=>ts("choicemenuitem",yL,t),LI=[ia,Wr("fancytype"),Tx],EL=[We("initData",{})].concat(LI),OV=[Ft("select"),Nh("initData",{},[li("allowCustomColors",!0),ta("storageKey","default"),In("colors",_l())])].concat(LI),wL=or("fancytype",{inserttable:EL,colorswatch:OV}),$C=t=>ts("fancymenuitem",wL,t),RV=Pn([ia,Cy,Tx,sm].concat(Db)),IV=t=>ts("menuitem",RV,t),DV=Pn([ia,bV,Cy,sm].concat(Db)),TL=t=>ts("nestedmenuitem",DV,t),CL=Pn([ia,sm,PC,Cy,Ib].concat(Db)),NV=t=>ts("togglemenuitem",CL,t),$I=(t,s,i)=>{const u=Gi(t.element,"."+i);if(u.length>0){const m=ko(u,b=>{const w=b.dom.getBoundingClientRect().top,O=u[0].dom.getBoundingClientRect().top;return Math.abs(w-O)>s}).getOr(u.length);return P.some({numColumns:m,numRows:Math.ceil(u.length/m)})}else return P.none()},SL=(t,s)=>kt([mo(t,s)]),BC={namedEvents:SL,unnamedEvents:t=>SL(_n("unnamed-events"),t)},FC=_n("tooltip.exclusive"),HC=_n("tooltip.show"),jE=_n("tooltip.hide"),BI=(t,s,i)=>{t.getSystem().broadcastOn([FC],{})};var kV=Object.freeze({__proto__:null,hideAllExclusive:BI,setComponents:(t,s,i,u)=>{i.getTooltip().each(m=>{m.getSystem().isConnected()&&lo.set(m,u)})}}),AL=Object.freeze({__proto__:null,events:(t,s)=>{const i=m=>{s.getTooltip().each(b=>{Qh(b),t.onHide(m,b),s.clearTooltip()}),s.clearTimer()},u=m=>{if(!s.isShowing()){BI(m);const b=t.lazySink(m).getOrDie(),w=m.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:js(t.mode==="normal"?[Dt(nf(),O=>{ss(m,HC)}),Dt(kh(),O=>{ss(m,jE)})]:[]),behaviours:kt([lo.config({})])});s.setTooltip(w),Xh(b,w),t.onShow(m,w),Ws.position(b,w,{anchor:t.anchor(m)})}};return js(Yt([[Dt(HC,m=>{s.resetTimer(()=>{u(m)},t.delay)}),Dt(jE,m=>{s.resetTimer(()=>{i(m)},t.delay)}),Dt(Vf(),(m,b)=>{const w=b;w.universal||vo(w.channels,FC)&&i(m)}),Ac(m=>{i(m)})],t.mode==="normal"?[Dt(Hf(),m=>{ss(m,HC)}),Dt(Nv(),m=>{ss(m,jE)}),Dt(nf(),m=>{ss(m,HC)}),Dt(kh(),m=>{ss(m,jE)})]:[Dt(p_(),(m,b)=>{ss(m,HC)}),Dt(ep(),m=>{ss(m,jE)})]]))}}),xL=[At("lazySink"),At("tooltipDom"),We("exclusive",!0),We("tooltipComponents",[]),We("delay",300),Hr("mode","normal",["normal","follow-highlight"]),We("anchor",t=>({type:"hotspot",hotspot:t,layouts:{onLtr:Ee([ka,Is,ba,Wc,Ui,Ol]),onRtl:Ee([ka,Is,ba,Wc,Ui,Ol])}})),Ye("onHide"),Ye("onShow")],$V=Object.freeze({__proto__:null,init:()=>{const t=Zs(),s=Zs(),i=()=>{t.on(clearTimeout)},u=(b,w)=>{i(),t.set(setTimeout(b,w))},m=Ee("not-implemented");return xc({getTooltip:s.get,isShowing:s.isSet,setTooltip:s.set,clearTooltip:s.clear,clearTimer:i,resetTimer:u,readState:m})}});const OL=ya({fields:xL,name:"tooltipping",active:AL,state:$V,apis:kV}),BV=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),RL="silver.readonly",IL=Pn([Ga("readonly")]),VC=(t,s)=>{const u=t.mainUi.outerContainer.element,m=[t.mainUi.mothership,...t.uiMotherships];s&&It(m,b=>{b.broadcastOn([hg()],{target:u})}),It(m,b=>{b.broadcastOn([RL],{readonly:s})})},DL=(t,s)=>{t.on("init",()=>{t.mode.isReadOnly()&&VC(s,!0)}),t.on("SwitchMode",()=>VC(s,t.mode.isReadOnly())),bP(t)&&t.mode.set("readonly")},Za=()=>bu.config({channels:{[RL]:{schema:IL,onReceive:(t,s)=>{no.set(t,s.readonly)}}}}),im={item:t=>no.config({disabled:t,disableClass:"tox-collection__item--state-disabled"}),button:t=>no.config({disabled:t}),splitButton:t=>no.config({disabled:t,disableClass:"tox-tbtn--disabled"}),toolbarButton:t=>no.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},ZE=(t,s)=>{const i=t.getApi(s);return u=>{u(i)}},Nb=(t,s)=>Tr(i=>{ZE(t,i)(m=>{const b=t.onSetup(m);we(b)&&s.set(b)})}),Oy=(t,s)=>Ac(i=>ZE(t,i)(s.get())),FV=(t,s)=>Zl((i,u)=>{ZE(t,i)(t.onAction),!t.triggersSubmenu&&s===wg.CLOSE_ON_EXECUTE&&(i.getSystem().isConnected()&&ss(i,$m()),u.stop())}),NL={[zs()]:["disabling","alloy.base.behaviour","toggling","item-events"]},YE=au,KE=(t,s,i,u)=>{const m=Wn(oe);return{type:"item",dom:s.dom,components:YE(s.optComponents),data:t.data,eventOrder:NL,hasSubmenu:t.triggersSubmenu,itemBehaviours:kt([mo("item-events",[FV(t,i),Nb(t,m),Oy(t,m)]),im.item(()=>!t.enabled||u.isDisabled()),Za(),lo.config({})].concat(t.itemBehaviours))}},Ry=t=>({value:t.value,meta:{text:t.text.getOr(""),...t.meta}}),ML=t=>{const s=sv.os.isMacOS()||sv.os.isiOS(),m=s?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},b=t.split("+"),w=Je(b,O=>{const M=O.toLowerCase().trim();return Ho(m,M)?m[M]:O});return s?w.join(""):w.join("+")},xx=(t,s,i=[UP])=>oh(t,{tag:"div",classes:i},s),kL=t=>({dom:{tag:"div",classes:[vI]},components:[Cr(Tf.translate(t))]}),PL=(t,s)=>({dom:{tag:"div",classes:s,innerHtml:t}}),HV=(t,s)=>({dom:{tag:"div",classes:[vI]},components:[{dom:{tag:t.tag,styles:t.styles},components:[Cr(Tf.translate(s))]}]}),VV=t=>({dom:{tag:"div",classes:[oV]},components:[Cr(ML(t))]}),LL=t=>xx("checkmark",t,[sV]),Iy=t=>xx("chevron-right",t,[zP]),FI=t=>xx("chevron-down",t,[zP]),UV=(t,s)=>{const i=t.direction==="vertical"?bI:GP,u=t.align==="left"?iV:rV;return{dom:{tag:"div",classes:[WP,i,u,(()=>{switch(t.valign){case"top":return qP;case"middle":return aV;case"bottom":return cV}})()]},components:s}},Ox=(t,s,i)=>({dom:{tag:"img",classes:s,attributes:{src:t,alt:i.getOr("")}}}),Cg=(t,s,i)=>{const u="custom",m="remove",b=t.ariaLabel,w=t.value,O=t.iconContent.map(B=>X6(B,s.icons,i));return{dom:(()=>{const B=pI,W=O.getOr(""),ee={tag:"div",attributes:b.map(se=>({title:s.translate(se)})).getOr({}),classes:[B]};return w===u?{...ee,tag:"button",classes:[...ee.classes,"tox-swatches__picker-btn"],innerHtml:W}:w===m?{...ee,classes:[...ee.classes,"tox-swatch--remove"],innerHtml:W}:fe(w)?{...ee,attributes:{...ee.attributes,"data-mce-color":w},styles:{"background-color":w},innerHtml:W}:ee})(),optComponents:[]}},$L=t=>{const s=t.map(i=>({attributes:{title:Tf.translate(i)}})).getOr({});return{tag:"div",classes:[DC,mx],...s}},zV=(t,s,i,u)=>{const m={tag:"div",classes:[UP]},b=ee=>oh(ee,m,s.icons,u),w=()=>P.some({dom:m}),O=i?t.iconContent.map(b).orThunk(w):P.none(),M=t.checkMark,B=P.from(t.meta).fold(()=>kL,ee=>Ho(ee,"style")?Et(HV,ee.style):kL),W=t.htmlContent.fold(()=>t.textContent.map(B),ee=>P.some(PL(ee,[vI])));return{dom:$L(t.ariaLabel),optComponents:[O,W,t.shortcutContent.map(VV),M,t.caret]}},UC=(t,s,i,u=P.none())=>t.presets==="color"?Cg(t,s,u):zV(t,s,i,u),Rx=(t,s)=>an(t,"tooltipWorker").map(i=>[OL.config({lazySink:s.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:u=>({type:"submenu",item:u,overrides:{maxHeightFunction:Zh}}),mode:"follow-highlight",onShow:(u,m)=>{i(b=>{OL.setComponents(u,[df({element:Xe.fromDom(b)})])})}})]).getOr([]),WV=t=>TC.DOM.encode(t),BL=(t,s)=>{const i=Tf.translate(t),u=WV(i);if(s.length>0){const m=new RegExp(BV(s),"gi");return u.replace(m,b=>`<span class="tox-autocompleter-highlight">${b}</span>`)}else return u},FL=(t,s,i,u,m,b,w,O=!0)=>{const M=UC({presets:u,textContent:P.none(),htmlContent:i?t.text.map(B=>BL(B,s)):P.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:P.none(),checkMark:P.none(),caret:P.none(),value:t.value},w.providers,O,t.icon);return KE({data:Ry(t),enabled:t.enabled,getApi:Ee({}),onAction:B=>m(t.value,t.meta),onSetup:Ee(oe),triggersSubmenu:!1,itemBehaviours:Rx(t.meta,w)},M,b,w.providers)},HL=(t,s)=>Je(t,i=>{switch(i.type){case"cardcontainer":return UV(i,HL(i.items,s));case"cardimage":return Ox(i.src,i.classes,i.alt);case"cardtext":const m=i.name.exists(b=>vo(s.cardText.highlightOn,b))?P.from(s.cardText.matchText).getOr(""):"";return PL(BL(i.text,m),i.classes)}}),GV=(t,s,i,u)=>{const m=w=>({isEnabled:()=>!no.isDisabled(w),setEnabled:O=>{no.set(w,!O),It(Gi(w.element,"*"),M=>{w.getSystem().getByDom(M).each(B=>{B.hasConfigured(no)&&no.set(B,!O)})})}}),b={dom:$L(t.label),optComponents:[P.some({dom:{tag:"div",classes:[WP,GP]},components:HL(t.items,u)})]};return KE({data:Ry({text:P.none(),...t}),enabled:t.enabled,getApi:m,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:P.from(u.itemBehaviours).getOr([])},b,s,i.providers)},qV=(t,s,i,u,m,b,w,O=!0)=>{const M=W=>({setActive:Y=>{So.set(W,Y)},isActive:()=>So.isOn(W),isEnabled:()=>!no.isDisabled(W),setEnabled:Y=>no.set(W,!Y)}),B=UC({presets:i,textContent:s?t.text:P.none(),htmlContent:P.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:s?t.shortcut:P.none(),checkMark:s?P.some(LL(w.icons)):P.none(),caret:P.none(),value:t.value},w,O);return Js(KE({data:Ry(t),enabled:t.enabled,getApi:M,onAction:W=>u(t.value),onSetup:W=>(W.setActive(m),oe),triggersSubmenu:!1,itemBehaviours:[]},B,b,w),{toggling:{toggleClass:VP,toggleOnExecute:!1,selected:t.active,exclusive:!0}})},ed=WT(JR(),tx()),Sg=t=>({value:Ix(t)}),VL=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,HI=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,zC=t=>VL.test(t)||HI.test(t),Ix=t=>Eh(t,"#").toUpperCase(),jV=t=>zC(t)?P.some({value:Ix(t)}):P.none(),ZV=t=>({value:t.value.replace(VL,(i,u,m,b)=>u+u+m+m+b+b)}),WC=t=>{const s=ZV(t),i=HI.exec(s.value);return i===null?["FFFFFF","FF","FF","FF"]:i},XE=t=>{const s=t.toString(16);return(s.length===1?"0"+s:s).toUpperCase()},GC=t=>{const s=XE(t.red)+XE(t.green)+XE(t.blue);return Sg(s)},av=Math.min,UL=Math.max,Dx=Math.round,kd=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,VI=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,nu=(t,s,i,u)=>({red:t,green:s,blue:i,alpha:u}),UI=t=>{const s=parseInt(t,10);return s.toString()===t&&s>=0&&s<=255},tr=t=>{let s,i,u;const m=(t.hue||0)%360;let b=t.saturation/100,w=t.value/100;if(b=UL(0,av(b,1)),w=UL(0,av(w,1)),b===0)return s=i=u=Dx(255*w),nu(s,i,u,1);const O=m/60,M=w*b,B=M*(1-Math.abs(O%2-1)),W=w-M;switch(Math.floor(O)){case 0:s=M,i=B,u=0;break;case 1:s=B,i=M,u=0;break;case 2:s=0,i=M,u=B;break;case 3:s=0,i=B,u=M;break;case 4:s=B,i=0,u=M;break;case 5:s=M,i=0,u=B;break;default:s=i=u=0}return s=Dx(255*(s+W)),i=Dx(255*(i+W)),u=Dx(255*(u+W)),nu(s,i,u,1)},Ag=t=>{const s=WC(t),i=parseInt(s[1],16),u=parseInt(s[2],16),m=parseInt(s[3],16);return nu(i,u,m,1)},qC=(t,s,i,u)=>{const m=parseInt(t,10),b=parseInt(s,10),w=parseInt(i,10),O=parseFloat(u);return nu(m,b,w,O)},Nx=t=>{if(t==="transparent")return P.some(nu(0,0,0,0));const s=kd.exec(t);if(s!==null)return P.some(qC(s[1],s[2],s[3],"1"));const i=VI.exec(t);return i!==null?P.some(qC(i[1],i[2],i[3],i[4])):P.none()},Mx=t=>`rgba(${t.red},${t.green},${t.blue},${t.alpha})`,kx=nu(255,0,0,1),YV=t=>{t.dispatch("SkinLoaded")},zI=(t,s)=>{t.dispatch("SkinLoadError",s)},KV=t=>{t.dispatch("ResizeEditor")},Px=(t,s)=>{t.dispatch("ResizeContent",s)},zL=(t,s)=>{t.dispatch("ScrollContent",s)},Lx=(t,s)=>{t.dispatch("TextColorChange",s)},WL=(t,s)=>{t.dispatch("AfterProgressState",{state:s})},$x=(t,s)=>t.dispatch("ResolveName",{name:s.nodeName.toLowerCase(),target:s}),XV=(t,s)=>{t.dispatch("ToggleToolbarDrawer",{state:s})};var Dy=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const GL={},QV=(t,s=10)=>{const i=Dy.getItem(t),u=U(i)?JSON.parse(i):[],b=(B=>s-B.length<0?B.slice(0,s):B)(u),w=B=>{Ge(b,B).each(O),b.unshift(B),b.length>s&&b.pop(),Dy.setItem(t,JSON.stringify(b))},O=B=>{b.splice(B,1)};return{add:w,state:()=>b.slice(0)}},qL=t=>an(GL,t).getOrThunk(()=>{const s=`tinymce-custom-colors-${t}`,i=Dy.getItem(s);if(de(i)){const m=Dy.getItem("tinymce-custom-colors");Dy.setItem(s,fe(m)?m:"[]")}const u=QV(s,10);return GL[t]=u,u}),JV=t=>Je(qL(t).state(),s=>({type:"choiceitem",text:s,icon:"checkmark",value:s})),jL=(t,s)=>{qL(t).add(s)},jC=(t,s,i)=>({hue:t,saturation:s,value:i}),WI=t=>{let s=0,i=0,u=0;const m=t.red/255,b=t.green/255,w=t.blue/255,O=Math.min(m,Math.min(b,w)),M=Math.max(m,Math.max(b,w));if(O===M)return u=O,jC(0,0,u*100);const B=m===O?b-w:w===O?m-b:w-m;return s=m===O?3:w===O?1:5,s=60*(s-B/(M-O)),i=(M-O)/M,u=M,jC(Math.round(s),Math.round(i*100),Math.round(u*100))},e8=t=>WI(Ag(t)),GI=t=>GC(tr(t)),t8=t=>jV(t).orThunk(()=>Nx(t).map(GC)).getOrThunk(()=>{const s=document.createElement("canvas");s.height=1,s.width=1;const i=s.getContext("2d");i.clearRect(0,0,s.width,s.height),i.fillStyle="#FFFFFF",i.fillStyle=t,i.fillRect(0,0,1,1);const u=i.getImageData(0,0,1,1).data,m=u[0],b=u[1],w=u[2],O=u[3];return GC(nu(m,b,w,O))}),Bx="forecolor",qI="hilitecolor",jI=5,ZL=t=>Math.max(jI,Math.ceil(Math.sqrt(t))),YL=(t,s)=>{const i=ZL(s),u=Dp("color_cols")(t);return jI===i?u:i},n8=t=>{const s=[];for(let i=0;i<t.length;i+=2)s.push({text:t[i+1],value:"#"+t8(t[i]).value,icon:"checkmark",type:"choiceitem"});return s},Dp=t=>s=>s.options.get(t),Fx="#000000",xg=t=>{const s=t.options.register,i=u=>Me(u,U)?{value:n8(u),valid:!0}:{valid:!1,message:"Must be an array of strings."};s("color_map",{processor:i,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),s("color_map_background",{processor:i}),s("color_map_foreground",{processor:i}),s("color_cols",{processor:"number",default:ZL(QE(t,"default").length)}),s("color_cols_foreground",{processor:"number",default:YL(t,QE(t,Bx).length)}),s("color_cols_background",{processor:"number",default:YL(t,QE(t,qI).length)}),s("custom_colors",{processor:"boolean",default:!0}),s("color_default_foreground",{processor:"string",default:Fx}),s("color_default_background",{processor:"string",default:Fx})},o8=(t,s)=>s===Bx?Dp("color_cols_foreground")(t):s===qI?Dp("color_cols_background")(t):Dp("color_cols")(t),Hx=(t,s)=>{const i=o8(t,s);return i>0?i:jI},ZI=Dp("custom_colors"),QE=(t,s)=>s===Bx&&t.options.isSet("color_map_foreground")?Dp("color_map_foreground")(t):s===qI&&t.options.isSet("color_map_background")?Dp("color_map_background")(t):Dp("color_map")(t),KL=Dp("color_default_foreground"),XL=Dp("color_default_background"),QL="rgba(0, 0, 0, 0)",s8=t=>Nx(t).exists(s=>s.alpha!==0),r8=t=>Av(t,s=>{if(Cs(s)){const i=pe(s,"background-color");return qn(s8(i),i)}else return P.none()}).getOr(QL),JL=(t,s)=>{const i=Xe.fromDom(t.selection.getStart()),u=s==="hilitecolor"?r8(i):pe(i,"color");return Nx(u).map(m=>"#"+GC(m).value)},i8=(t,s,i)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.apply(s,{value:i}),t.nodeChanged()})},e4=(t,s)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.remove(s,{value:null},void 0,!0),t.nodeChanged()})},t4=t=>{t.addCommand("mceApplyTextcolor",(s,i)=>{i8(t,s,i)}),t.addCommand("mceRemoveTextcolor",s=>{e4(t,s)})},YI=t=>{const s="choiceitem",i={type:s,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return t?[i,{type:s,text:"Custom color",icon:"color-picker",value:"custom"}]:[i]},KI=(t,s,i,u)=>{i==="custom"?JI(t)(b=>{b.each(w=>{jL(s,w),t.execCommand("mceApplyTextcolor",s,w),u(w)})},JL(t,s).getOr(Fx)):i==="remove"?(u(""),t.execCommand("mceRemoveTextcolor",s)):(u(i),t.execCommand("mceApplyTextcolor",s,i))},n4=(t,s,i)=>t.concat(JV(s).concat(YI(i))),o4=(t,s,i)=>u=>{u(n4(t,s,i))},Mb=(t,s,i)=>{const u=s==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(u,i)},s4=(t,s)=>i=>{const u=JL(t,s);return pc(u,i.toUpperCase())},XI=(t,s,i,u,m)=>{t.ui.registry.addSplitButton(s,{tooltip:u,presets:"color",icon:s==="forecolor"?"text-color":"highlight-bg-color",select:s4(t,i),columns:Hx(t,i),fetch:o4(QE(t,i),i,ZI(t)),onAction:b=>{KI(t,i,m.get(),oe)},onItemAction:(b,w)=>{KI(t,i,w,O=>{m.set(O),Lx(t,{name:s,color:O})})},onSetup:b=>{Mb(b,s,m.get());const w=O=>{O.name===s&&Mb(b,O.name,O.color)};return t.on("TextColorChange",w),()=>{t.off("TextColorChange",w)}}})},QI=(t,s,i,u,m)=>{t.ui.registry.addNestedMenuItem(s,{text:u,icon:s==="forecolor"?"text-color":"highlight-bg-color",onSetup:b=>(Mb(b,s,m.get()),oe),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:s4(t,i),initData:{storageKey:i},onAction:b=>{KI(t,i,b.value,w=>{m.set(w),Lx(t,{name:s,color:w})})}}]})},JI=t=>(s,i)=>{let u=!1;const m=O=>{const B=O.getData().colorpicker;u?(s(P.from(B)),O.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",B]))},b=(O,M)=>{M.name==="hex-valid"&&(u=M.value)},w={colorpicker:i};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:w,onAction:b,onSubmit:m,onClose:oe,onCancel:()=>{s(P.none())}})},eD=t=>{t4(t);const s=KL(t),i=XL(t),u=Wn(s),m=Wn(i);XI(t,"forecolor","forecolor","Text color",u),XI(t,"backcolor","hilitecolor","Background color",m),QI(t,"forecolor","forecolor","Text color",u),QI(t,"backcolor","hilitecolor","Background color",m)},ZC=(t,s,i,u,m,b,w,O)=>{const M=sh(s),W=tD(s,i,u,m!=="color"?"normal":"color",b,w,O);return CI(t,M,W,u,{menuType:m})},tD=(t,s,i,u,m,b,w)=>au(Je(t,O=>O.type==="choiceitem"?_L(O).fold(Tg,M=>P.some(qV(M,i===1,u,s,b(M.value),m,w,sh(t)))):P.none())),YC=(t,s)=>{const i=wy(s);return t===1?{mode:"menu",moveOnTab:!0}:t==="auto"?{mode:"grid",selector:"."+i.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(s==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:m=>s==="color"?Nr(m.element,"[aria-checked=true]"):P.none()}},a8=(t,s)=>t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:s==="color"?".tox-swatches__row":".tox-collection__group",cell:s==="color"?`.${pI}`:`.${mx}`}},r4=(t,s)=>{const i=c8(t,s),u=s.colorinput.getColorCols(t.initData.storageKey),m="color",w={...ZC(_n("menu-value"),i,O=>{t.onAction({value:O})},u,m,wg.CLOSE_ON_EXECUTE,t.select.getOr(wt),s.shared.providers),markers:wy(m),movement:YC(u,m)};return{type:"widget",data:{value:_n("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[ed.widget(xb.sketch(w))]}},c8=(t,s)=>{const i=t.initData.allowCustomColors&&s.colorinput.hasCustomColors();return t.initData.colors.fold(()=>n4(s.colorinput.getColors(t.initData.storageKey),t.initData.storageKey,i),u=>u.concat(YI(i)))},i4=_n("cell-over"),a4=_n("cell-execute"),c4=(t,s,i)=>{const u=w=>Mn(w,i4,{row:t,col:s}),m=w=>Mn(w,a4,{row:t,col:s}),b=(w,O)=>{O.stop(),m(w)};return dc({dom:{tag:"div",attributes:{role:"button",["aria-labelledby"]:i}},behaviours:kt([mo("insert-table-picker-cell",[Dt(nf(),jn.focus),Dt(zs(),m),Dt(Sl(),b),Dt(d1(),b)]),So.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),jn.config({onFocus:u})])})},l4=(t,s,i)=>{const u=[];for(let m=0;m<s;m++){const b=[];for(let w=0;w<i;w++)b.push(c4(m,w,t));u.push(b)}return u},u4=(t,s,i,u,m)=>{for(let b=0;b<u;b++)for(let w=0;w<m;w++)So.set(t[b][w],b<=s&&w<=i)},l8=t=>mt(t,s=>Je(s,rl)),d4=(t,s)=>Cr(`${s}x${t}`),u8={inserttable:t=>{const u=_n("size-label"),m=l4(u,10,10),b=d4(0,0),w=zo({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:u}},components:[b],behaviours:kt([lo.config({})])});return{type:"widget",data:{value:_n("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[ed.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:l8(m).concat(w.asSpec()),behaviours:kt([mo("insert-table-picker",[Tr(O=>{lo.set(w.get(O),[b])}),np(i4,(O,M,B)=>{const{row:W,col:Y}=B.event;u4(m,W,Y,10,10),lo.set(w.get(O),[d4(W+1,Y+1)])}),np(a4,(O,M,B)=>{const{row:W,col:Y}=B.event;t.onAction({numRows:W+1,numColumns:Y+1}),ss(O,$m())})]),Bn.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:r4},d8=(t,s)=>an(u8,t.fancytype).map(i=>i(t,s)),f8=(t,s,i,u=!0,m=!1)=>{const b=m?FI(i.icons):Iy(i.icons),w=M=>({isEnabled:()=>!no.isDisabled(M),setEnabled:B=>no.set(M,!B),setIconFill:(B,W)=>{Nr(M.element,`svg path[id="${B}"], rect[id="${B}"]`).each(Y=>{co(Y,"fill",W)})}}),O=UC({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:P.none(),ariaLabel:t.text,caret:P.some(b),checkMark:P.none(),shortcutContent:t.shortcut},i,u);return KE({data:Ry(t),getApi:w,enabled:t.enabled,onAction:oe,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},O,s,i)},h8=(t,s,i,u=!0)=>{const m=w=>({isEnabled:()=>!no.isDisabled(w),setEnabled:O=>no.set(w,!O)}),b=UC({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:P.none(),ariaLabel:t.text,caret:P.none(),checkMark:P.none(),shortcutContent:t.shortcut},i,u);return KE({data:Ry(t),getApi:m,enabled:t.enabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},b,s,i)},m8=t=>({type:"separator",dom:{tag:"div",classes:[mx,nV]},components:t.text.map(Cr).toArray()}),g8=(t,s,i,u=!0)=>{const m=w=>({setActive:O=>{So.set(w,O)},isActive:()=>So.isOn(w),isEnabled:()=>!no.isDisabled(w),setEnabled:O=>no.set(w,!O)}),b=UC({iconContent:t.icon,textContent:t.text,htmlContent:P.none(),ariaLabel:t.text,checkMark:P.some(LL(i.icons)),caret:P.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},i,u);return Js(KE({data:Ry(t),enabled:t.enabled,getApi:m,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},b,s,i),{toggling:{toggleClass:VP,toggleOnExecute:!1,selected:t.active}})},p8=FL,f4=m8,h4=h8,v8=f8,b8=g8,y8=d8,_8=GV;var m4=Object.freeze({__proto__:null,getCoupled:(t,s,i,u)=>i.getOrCreate(t,s,u),getExistingCoupled:(t,s,i,u)=>i.getExisting(t,s,u)}),E8=[El("others",hr(ro.value,_l()))],w8=Object.freeze({__proto__:null,init:()=>{const t={},s=(b,w)=>{if(Os(b.others).length===0)throw new Error("Cannot find any known coupled components");return an(t,w)},i=(b,w,O)=>s(w,O).getOrThunk(()=>{const B=an(w.others,O).getOrDie("No information found for coupled component: "+O)(b),W=b.getSystem().build(B);return t[O]=W,W}),u=(b,w,O)=>s(w,O).orThunk(()=>(an(w.others,O).getOrDie("No information found for coupled component: "+O),P.none())),m=Ee({});return xc({readState:m,getExisting:u,getOrCreate:i})}});const Ai=ya({fields:E8,name:"coupling",apis:m4,state:w8}),oD=t=>{let s=P.none(),i=[];const u=B=>oD(W=>{m(Y=>{W(B(Y))})}),m=B=>{w()?M(B):i.push(B)},b=B=>{w()||(s=P.some(B),O(i),i=[])},w=()=>s.isSome(),O=B=>{It(B,M)},M=B=>{s.each(W=>{setTimeout(()=>{B(W)},0)})};return t(b),{get:m,map:u,isReady:w}},sD={nu:oD,pure:t=>oD(s=>{s(t)})},g4=t=>{setTimeout(()=>{throw t},0)},Ny=t=>{const s=M=>{t().then(M,g4)};return{map:M=>Ny(()=>t().then(M)),bind:M=>Ny(()=>t().then(B=>M(B).toPromise())),anonBind:M=>Ny(()=>t().then(()=>M.toPromise())),toLazy:()=>sD.nu(s),toCached:()=>{let M=null;return Ny(()=>(M===null&&(M=t()),M))},toPromise:t,get:s}},cl={nu:t=>Ny(()=>new Promise(t)),pure:t=>Ny(()=>Promise.resolve(t))},p4=Ee("sink"),v4=Ee(Dd({name:p4(),overrides:Ee({dom:{tag:"div"},behaviours:kt([Ws.config({useFixed:Ot})]),events:js([Hm(na()),Hm(Fi()),Hm(Sl())])})})),b4=(t,s)=>{const i=t.getHotspot(s).getOr(s),u="hotspot",m=t.getAnchorOverrides();return t.layouts.fold(()=>({type:u,hotspot:i,overrides:m}),b=>({type:u,hotspot:i,overrides:m,layouts:b}))},C8=(t,s,i)=>{const u=t.fetch;return u(i).map(s)},S8=(t,s,i,u,m,b,w)=>{const O=C8(t,s,u),M=KC(u,t);return O.map(B=>B.bind(W=>P.from(yy.sketch({...b.menu(),uid:Yl(""),data:W,highlightOnOpen:w,onOpenMenu:(Y,ee)=>{const se=M().getOrDie();Ws.position(se,ee,{anchor:i}),Uo.decloak(m)},onOpenSubmenu:(Y,ee,se)=>{const be=M().getOrDie();Ws.position(be,se,{anchor:{type:"submenu",item:ee}}),Uo.decloak(m)},onRepositionMenu:(Y,ee,se)=>{const be=M().getOrDie();Ws.position(be,ee,{anchor:i}),It(se,Ie=>{Ws.position(be,Ie.triggeredMenu,{anchor:{type:"submenu",item:Ie.triggeringItem}})})},onEscape:()=>(jn.focus(u),Uo.close(m),P.some(!0))}))))},Vx=(t,s,i,u,m,b,w)=>{const O=b4(t,i);return S8(t,s,O,i,u,m,w).map(B=>(B.fold(()=>{Uo.isOpen(u)&&Uo.close(u)},W=>{Uo.cloak(u),Uo.open(u,W),b(u)}),u))},A8=(t,s,i,u,m,b,w)=>(Uo.close(u),cl.pure(u)),rD=(t,s,i,u,m,b)=>{const w=Ai.getCoupled(i,"sandbox");return(Uo.isOpen(w)?A8:Vx)(t,s,i,w,u,m,b)},x8=(t,s,i)=>{const u=Xo.getCurrent(s).getOr(s),m=ur(t.element);i?X(u.element,"min-width",m+"px"):Vs(u.element,m)},KC=(t,s)=>t.getSystem().getByUid(s.uid+"-"+p4()).map(i=>()=>ro.value(i)).getOrThunk(()=>s.lazySink.fold(()=>()=>ro.error(new Error("No internal sink is specified, nor could an external sink be found")),i=>()=>i(t))),Ux=t=>{Uo.getState(t).each(s=>{yy.repositionMenus(s)})},XC=(t,s,i)=>{const u=N_(),m=(O,M)=>{const B=b4(t,s);u.link(s.element),t.matchWidth&&x8(B.hotspot,M,t.useMinWidth),t.onOpen(B,O,M),i!==void 0&&i.onOpen!==void 0&&i.onOpen(O,M)},b=(O,M)=>{u.unlink(s.element),i!==void 0&&i.onClose!==void 0&&i.onClose(O,M)},w=KC(s,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:u.id,role:"listbox"}},behaviours:yf.augment(t.sandboxBehaviours,[fn.config({store:{mode:"memory",initialValue:s}}),Uo.config({onOpen:m,onClose:b,isPartOf:(O,M,B)=>Km(M,B)||Km(s,B),getAttachPoint:()=>w().getOrDie()}),Xo.config({find:O=>Uo.getState(O).bind(M=>Xo.getCurrent(M))}),bu.config({channels:{...oy({isExtraPart:wt}),...Y1({doReposition:Ux})}})])}},iD=t=>{const s=Ai.getCoupled(t,"sandbox");Ux(s)},aD=()=>[We("sandboxClasses",[]),yf.field("sandboxBehaviours",[Xo,bu,Uo,fn])],O8=Ee([At("dom"),At("fetch"),Ye("onOpen"),Sr("onExecute"),We("getHotspot",P.some),We("getAnchorOverrides",Ee({})),Rd(),ja("dropdownBehaviours",[So,Ai,Bn,jn]),At("toggleClass"),We("eventOrder",{}),Yo("lazySink"),We("matchWidth",!1),We("useMinWidth",!1),Yo("role")].concat(aD())),cD=Ee([_f({schema:[Sd(),We("fakeFocus",!1)],name:"menu",defaults:t=>({onExecute:t.onExecute})}),v4()]),lD=(t,s,i,u)=>{const m=W=>an(t.dom,"attributes").bind(Y=>an(Y,W)),b=W=>{Uo.getState(W).each(Y=>{yy.highlightPrimary(Y)})},w=(W,Y,ee)=>rD(t,Ze,W,u,Y,ee),O=W=>{w(W,b,Su.HighlightMenuAndItem).get(oe)},M={expand:W=>{So.isOn(W)||w(W,oe,Su.HighlightNone).get(oe)},open:W=>{So.isOn(W)||w(W,oe,Su.HighlightMenuAndItem).get(oe)},refetch:W=>Ai.getExistingCoupled(W,"sandbox").fold(()=>w(W,oe,Su.HighlightMenuAndItem).map(oe),ee=>Vx(t,Ze,W,ee,u,oe,Su.HighlightMenuAndItem).map(oe)),isOpen:So.isOn,close:W=>{So.isOn(W)&&w(W,oe,Su.HighlightMenuAndItem).get(oe)},repositionMenus:W=>{So.isOn(W)&&iD(W)}},B=(W,Y)=>(rf(W),P.some(!0));return{uid:t.uid,dom:t.dom,components:s,behaviours:kr(t.dropdownBehaviours,[So.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),Ai.config({others:{sandbox:W=>XC(t,W,{onOpen:()=>So.on(W),onClose:()=>So.off(W)})}}),Bn.config({mode:"special",onSpace:B,onEnter:B,onDown:(W,Y)=>{if(td.isOpen(W)){const ee=Ai.getCoupled(W,"sandbox");b(ee)}else td.open(W);return P.some(!0)},onEscape:(W,Y)=>td.isOpen(W)?(td.close(W),P.some(!0)):P.none()}),jn.config({})]),events:ex(P.some(O)),eventOrder:{...t.eventOrder,[zs()]:["disabling","toggling","alloy.base.behaviour"]},apis:M,domModification:{attributes:{"aria-haspopup":"true",...t.role.fold(()=>({}),W=>({role:W})),...t.dom.tag==="button"?{type:m("type").getOr("button")}:{}}}}},td=Si({name:"Dropdown",configFields:O8(),partFields:cD(),factory:lD,apis:{open:(t,s)=>t.open(s),refetch:(t,s)=>t.refetch(s),expand:(t,s)=>t.expand(s),close:(t,s)=>t.close(s),isOpen:(t,s)=>t.isOpen(s),repositionMenus:(t,s)=>t.repositionMenus(s)}}),y4=t=>{switch(t.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:t}}},R8=t=>{const s=fn.getValue(t),i=px(t).map(vx);td.refetch(s).get(()=>{const u=Ai.getCoupled(s,"sandbox");i.each(m=>px(u).each(b=>hV(b,m)))})},I8=(t,s)=>{D8(t).each(i=>{m1(t,i.element,s.event.eventType,s.event.interactionEvent)})},D8=t=>Uo.getState(t).bind(ms.getHighlighted).bind(ms.getHighlighted),N8=t=>oa(t.element,bx)?P.some(t.element):Nr(t.element,"."+bx),_4=(t,s,i)=>{MC(t).each(u=>{mV(u,i),N8(s).each(b=>{Kr(b,"id").each(w=>co(u.element,"aria-controls",w))})}),co(i.element,"aria-selected","true")},M8=(t,s,i)=>{co(i.element,"aria-selected","false")},k8=t=>{MC(t).each(s=>jn.focus(s))},P8=t=>Ai.getExistingCoupled(t,"sandbox").bind(px).map(vx).map(i=>i.fetchPattern).getOr("");var zx;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(zx||(zx={}));const L8=(t,s,i,u,m)=>{const b=i.shared.providers,w=O=>m?{...O,shortcut:P.none(),icon:O.text.isSome()?P.none():O.icon}:O;switch(t.type){case"menuitem":return IV(t).fold(Tg,O=>P.some(h4(w(O),s,b,u)));case"nestedmenuitem":return TL(t).fold(Tg,O=>P.some(v8(w(O),s,b,u,m)));case"togglemenuitem":return NV(t).fold(Tg,O=>P.some(b8(w(O),s,b,u)));case"separator":return EV(t).fold(Tg,O=>P.some(f4(O)));case"fancymenuitem":return $C(t).fold(Tg,O=>y8(O,i));default:return console.error("Unknown item in general menu",t),P.none()}},$8=(t,s,i,u,m,b,w)=>{const O=u===1,M=!O||sh(t);return au(Je(t,B=>{switch(B.type){case"separator":return lL(B).fold(Tg,W=>P.some(f4(W)));case"cardmenuitem":return xV(B).fold(Tg,W=>P.some(_8({...W,onAction:Y=>{W.onAction(Y),i(W.value,W.meta)}},m,b,{itemBehaviours:Rx(W.meta,b),cardText:{matchText:s,highlightOn:w}})));case"autocompleteitem":default:return uL(B).fold(Tg,W=>P.some(p8(W,s,O,"normal",i,m,b,M)))}}))},E4=(t,s,i,u,m,b)=>{const w=sh(s),O=au(Je(s,W=>{const Y=se=>m?!Ho(se,"text"):w,ee=se=>L8(se,i,u,Y(se),m);return W.type==="nestedmenuitem"&&W.getSubmenuItems().length<=0?ee({...W,enabled:!1}):ee(W)})),M=y4(b);return(m?vV:CI)(t,w,O,1,M)},uD=t=>yy.singleData(t.value,t),w4=(t,s,i,u)=>{const m=YC(s,u),b=wy(u);return{data:uD({...t,movement:m,menuBehaviours:BC.unnamedEvents(s!=="auto"?[]:[Tr((w,O)=>{$I(w,4,b.item).each(({numColumns:M,numRows:B})=>{Bn.setGridSize(w,B,M)})})])}),menu:{markers:wy(u),fakeFocus:i===zx.ContentFocus}}},B8=(t,s)=>hx(Xe.fromDom(s.startContainer)).map(i=>{const u=t.createRng();return u.selectNode(i.dom),u}),Np={register:(t,s)=>{const i=Wn(!1),u=Wn(!1),m=dc(ra.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:kt([mo("dismissAutocompleter",[Dt(gu(),()=>B())])]),lazySink:s.getSink})),b=()=>ra.isOpen(m),w=u.get,O=()=>{b()&&ra.hide(m)},M=()=>ra.getContent(m).bind(be=>vs(be.components(),0)),B=()=>t.execCommand("mceAutocompleterClose"),W=be=>{const Ie=nr(be,nt=>P.from(nt.columns)).getOr(1);return mt(be,nt=>{const Ue=nt.items;return $8(Ue,nt.matchText,(tt,ut)=>{const pt=t.selection.getRng();B8(t.dom,pt).each(Qt=>{const Pt={hide:()=>B(),reload:ln=>{O(),t.execCommand("mceAutocompleterReload",!1,{fetchOptions:ln})}};i.set(!0),nt.onAction(Pt,Qt,tt,ut),i.set(!1)})},Ie,wg.BUBBLE_TO_SANDBOX,s,nt.highlightOn)})},Y=(be,Ie)=>{mI(Xe.fromDom(t.getBody())).each(nt=>{const Ue=nr(be,tt=>P.from(tt.columns)).getOr(1);ra.showMenuAt(m,{anchor:{type:"node",root:Xe.fromDom(t.getBody()),node:P.from(nt)}},w4(CI("autocompleter-value",!0,Ie,Ue,{menuType:"normal"}),Ue,zx.ContentFocus,"normal"))}),M().each(ms.highlightFirst)},ee=be=>{const Ie=W(be);Ie.length>0?Y(be,Ie):O()};t.on("AutocompleterStart",({lookupData:be})=>{u.set(!0),i.set(!1),ee(be)}),t.on("AutocompleterUpdate",({lookupData:be})=>ee(be)),t.on("AutocompleterEnd",()=>{O(),u.set(!1),i.set(!1)});const se={cancelIfNecessary:B,isMenuOpen:b,isActive:w,isProcessingAction:i.get,getMenu:M};HP.setup(se,t)}},F8=["visible","hidden"],H8=t=>{if(ad(t)){const s=pe(t,"overflow");return vc(s).length>0&&!vo(F8,s)}else return!1},dD=t=>{const s=Y0(t,H8);return Rr(s).map(i=>({element:i,others:s.slice(1)}))},xi=(t,s)=>Ob(t)?dD(s):P.none(),Wx=t=>{const s=[...Je(t.others,es),Da()];return s1(es(t.element),s)},QC=(t,s,i)=>ff(t,s,i).isSome(),T4=(t,s)=>{let i=null;return{cancel:()=>{i!==null&&(clearTimeout(i),i=null)},schedule:(...b)=>{i=setTimeout(()=>{t.apply(null,b),i=null},s)}}},C4=5,V8=400,S4=t=>{const s=t.raw;return s.touches===void 0||s.touches.length!==1?P.none():P.some(s.touches[0])},U8=(t,s)=>{const i=Math.abs(t.clientX-s.x),u=Math.abs(t.clientY-s.y);return i>C4||u>C4},z8=t=>{const s=Zs(),i=Wn(!1),u=T4(B=>{t.triggerEvent(kv(),B),i.set(!0)},V8),m=B=>(S4(B).each(W=>{u.cancel();const Y={x:W.clientX,y:W.clientY,target:B.target};u.schedule(B),i.set(!1),s.set(Y)}),P.none()),b=B=>(u.cancel(),S4(B).each(W=>{s.on(Y=>{U8(W,Y)&&s.clear()})}),P.none()),w=B=>{u.cancel();const W=Y=>bs(Y.target,B.target);return s.get().filter(W).map(Y=>i.get()?(B.prevent(),!1):t.triggerEvent(d1(),B))},O=Sc([{key:ql(),value:m},{key:Lm(),value:b},{key:Mh(),value:w}]);return{fireIfReady:(B,W)=>an(O,W).bind(Y=>Y(B))}},W8=t=>t.raw.which===UA[0]&&!vo(["input","textarea"],Ja(t.target))&&!QC(t.target,'[contenteditable="true"]'),G8=(t,s)=>{const i={stopBackspace:!0,...s},u=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],m=z8(i),b=Je(u.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),se=>Dc(t,se,be=>{m.fireIfReady(be,se).each(nt=>{nt&&be.kill()}),i.triggerEvent(se,be)&&be.kill()})),w=Zs(),O=Dc(t,"paste",se=>{m.fireIfReady(se,"paste").each(Ie=>{Ie&&se.kill()}),i.triggerEvent("paste",se)&&se.kill(),w.set(setTimeout(()=>{i.triggerEvent(Mv(),se)},0))}),M=Dc(t,"keydown",se=>{i.triggerEvent("keydown",se)?se.kill():i.stopBackspace&&W8(se)&&se.prevent()}),B=Dc(t,"focusin",se=>{i.triggerEvent("focusin",se)&&se.kill()}),W=Zs(),Y=Dc(t,"focusout",se=>{i.triggerEvent("focusout",se)&&se.kill(),W.set(setTimeout(()=>{i.triggerEvent(Nv(),se)},0))});return{unbind:()=>{It(b,se=>{se.unbind()}),M.unbind(),B.unbind(),Y.unbind(),O.unbind(),w.on(clearTimeout),W.on(clearTimeout)}}},A4=(t,s)=>{const i=an(t,"target").getOr(s);return Wn(i)},q8=(t,s)=>{const i=Wn(!1),u=Wn(!1);return{stop:()=>{i.set(!0)},cut:()=>{u.set(!0)},isStopped:i.get,isCut:u.get,event:t,setSource:s.set,getSource:s.get}},j8=t=>{const s=Wn(!1);return{stop:()=>{s.set(!0)},cut:oe,isStopped:s.get,isCut:wt,event:t,setSource:ge("Cannot set source of a broadcasted event"),getSource:ge("Cannot get source of a broadcasted event")}},JC=mu.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),x4=(t,s,i,u,m,b)=>{const w=t(s,u),O=q8(i,m);return w.fold(()=>(b.logEventNoHandlers(s,u),JC.complete()),M=>{const B=M.descHandler;return u0(B)(O),O.isStopped()?(b.logEventStopped(s,M.element,B.purpose),JC.stopped()):O.isCut()?(b.logEventCut(s,M.element,B.purpose),JC.complete()):_c(M.element).fold(()=>(b.logNoParent(s,M.element,B.purpose),JC.complete()),Y=>(b.logEventResponse(s,M.element,B.purpose),JC.resume(Y)))})},O4=(t,s,i,u,m,b)=>x4(t,s,i,u,m,b).fold(Ot,w=>O4(t,s,i,w,m,b),wt),Z8=(t,s,i,u,m)=>{const b=A4(i,u);return x4(t,s,i,u,b,m)},Y8=(t,s,i)=>{const u=j8(s);return It(t,m=>{const b=m.descHandler;u0(b)(u)}),u.isStopped()},K8=(t,s,i,u)=>R4(t,s,i,i.target,u),R4=(t,s,i,u,m)=>{const b=A4(i,u);return O4(t,s,i,u,b,m)},X8=(t,s)=>({element:t,descHandler:s}),Q8=(t,s)=>({id:t,descHandler:s}),J8=()=>{const t={},s=(w,O,M)=>{Yr(M,(B,W)=>{const Y=t[W]!==void 0?t[W]:{};Y[O]=l0(B,w),t[W]=Y})},i=(w,O)=>qu(O).bind(M=>an(w,M)).map(M=>X8(O,M));return{registerId:s,unregisterId:w=>{Yr(t,(O,M)=>{Ho(O,w)&&delete O[w]})},filterByType:w=>an(t,w).map(O=>Gd(O,(M,B)=>Q8(B,M))).getOr([]),find:(w,O,M)=>an(t,O).bind(B=>Av(M,W=>i(B,W),w))}},e7=()=>{const t=J8(),s={},i=B=>{const W=B.element;return qu(W).getOrThunk(()=>lf("uid-",B.element))},u=(B,W)=>{const Y=s[W];if(Y===B)b(B);else throw new Error('The tagId "'+W+'" is already used by: '+Gu(Y.element)+`
Cannot use it for: `+Gu(B.element)+`
The conflicting element is`+(nc(Y.element)?" ":" not ")+"already in the DOM")},m=B=>{const W=i(B);ca(s,W)&&u(B,W);const Y=[B];t.registerId(Y,W,B.events),s[W]=B},b=B=>{qu(B.element).each(W=>{delete s[W],t.unregisterId(W)})};return{find:(B,W,Y)=>t.find(B,W,Y),filter:B=>t.filterByType(B),register:m,unregister:b,getById:B=>an(s,B)}},am=qi({name:"Container",factory:t=>{const{attributes:s,...i}=t.dom;return{uid:t.uid,dom:{tag:"div",attributes:{role:"presentation",...s},...i},components:t.components,behaviours:wE(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},configFields:[We("components",[]),ja("containerBehaviours",[]),We("events",{}),We("domModification",{}),We("eventOrder",{})]}),fD=t=>{const s=Ue=>_c(t.element).fold(Ot,tt=>bs(Ue,tt)),i=e7(),u=(Ue,tt)=>i.find(s,Ue,tt),m=G8(t.element,{triggerEvent:(Ue,tt)=>hp(Ue,tt.target,ut=>K8(u,Ue,tt,ut))}),b={debugInfo:Ee("real"),triggerEvent:(Ue,tt,ut)=>{hp(Ue,tt,pt=>R4(u,Ue,ut,tt,pt))},triggerFocus:(Ue,tt)=>{qu(Ue).fold(()=>{il(Ue)},ut=>{hp(Vc(),Ue,pt=>(Z8(u,Vc(),{originator:tt,kill:oe,prevent:oe,target:Ue},Ue,pt),!1))})},triggerEscape:(Ue,tt)=>{b.triggerEvent("keydown",Ue.element,tt.event)},getByUid:Ue=>Ie(Ue),getByDom:Ue=>nt(Ue),build:dc,buildOrPatch:Wv,addToGui:Ue=>{M(Ue)},removeFromGui:Ue=>{B(Ue)},addToWorld:Ue=>{w(Ue)},removeFromWorld:Ue=>{O(Ue)},broadcast:Ue=>{ee(Ue)},broadcastOn:(Ue,tt)=>{se(Ue,tt)},broadcastEvent:(Ue,tt)=>{be(Ue,tt)},isConnected:Ot},w=Ue=>{Ue.connect(b),si(Ue.element)||(i.register(Ue),It(Ue.components(),w),b.triggerEvent(Qg(),Ue.element,{target:Ue.element}))},O=Ue=>{si(Ue.element)||(It(Ue.components(),O),i.unregister(Ue)),Ue.disconnect()},M=Ue=>{Xh(t,Ue)},B=Ue=>{Qh(Ue)},W=()=>{m.unbind(),Ct(t.element)},Y=Ue=>{const tt=i.filter(Vf());It(tt,ut=>{const pt=ut.descHandler;u0(pt)(Ue)})},ee=Ue=>{Y({universal:!0,data:Ue})},se=(Ue,tt)=>{Y({universal:!1,channels:Ue,data:tt})},be=(Ue,tt)=>{const ut=i.filter(Ue);return Y8(ut,tt)},Ie=Ue=>i.getById(Ue).fold(()=>ro.error(new Error('Could not find component with uid: "'+Ue+'" in system.')),ro.value),nt=Ue=>{const tt=qu(Ue).getOr("not found");return Ie(tt)};return w(t),{root:t,element:t.element,destroy:W,add:M,remove:B,getByUid:Ie,getByDom:nt,addToWorld:w,removeFromWorld:O,broadcast:ee,broadcastOn:se,broadcastEvent:be}},t7=(t,s)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Je(t.items,s.interpreter)}),n7=Ee([We("prefix","form-field"),ja("fieldBehaviours",[Xo,fn])]),I4=Ee([Dd({schema:[At("dom")],name:"label"}),Dd({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[At("text")],name:"aria-descriptor"}),La({factory:{sketch:t=>{const s=km(t,["factory"]);return t.factory.sketch(s)}},schema:[At("factory")],name:"field"})]),o7=(t,s,i,u)=>{const m=kr(t.fieldBehaviours,[Xo.config({find:O=>rr(O,t,"field")}),fn.config({store:{mode:"manual",getValue:O=>Xo.getCurrent(O).bind(fn.getValue),setValue:(O,M)=>{Xo.getCurrent(O).each(B=>{fn.setValue(B,M)})}}})]),b=js([Tr((O,M)=>{const B=ZT(O,t,["label","field","aria-descriptor"]);B.field().each(W=>{const Y=_n(t.prefix);B.label().each(ee=>{co(ee.element,"for",Y),co(W.element,"id",Y)}),B["aria-descriptor"]().each(ee=>{const se=_n(t.prefix);co(ee.element,"id",se),co(W.element,"aria-describedby",se)})})})]),w={getField:O=>rr(O,t,"field"),getLabel:O=>rr(O,t,"label")};return{uid:t.uid,dom:t.dom,components:s,behaviours:m,events:b,apis:w}},Ts=Si({name:"FormField",configFields:n7(),partFields:I4(),factory:o7,apis:{getField:(t,s)=>t.getField(s),getLabel:(t,s)=>t.getLabel(s)}});var D4=Object.freeze({__proto__:null,exhibit:(t,s)=>ju({attributes:Sc([{key:s.tabAttr,value:"true"}])})}),s7=[We("tabAttr","data-alloy-tabstop")];const hi=ya({fields:s7,name:"tabstopping",active:D4});var r7=tinymce.util.Tools.resolve("tinymce.html.Entities");const eS=(t,s,i,u)=>{const m=i7(t,s,i,u);return Ts.sketch(m)},N4=(t,s)=>eS(t,s,[],[]),i7=(t,s,i,u)=>({dom:k4(i),components:t.toArray().concat([s]),fieldBehaviours:kt(u)}),M4=()=>k4([]),k4=t=>({tag:"div",classes:["tox-form__group"].concat(t)}),cv=(t,s)=>Ts.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Cr(s.translate(t))]}),Pd=_n("form-component-change"),tS=_n("form-close"),My=_n("form-cancel"),Mp=_n("form-action"),nS=_n("form-submit"),hD=_n("form-block"),mD=_n("form-unblock"),P4=_n("form-tabchange"),L4=_n("form-resize"),a7=(t,s,i)=>{const u=t.label.map(Y=>cv(Y,s)),m=Y=>(ee,se)=>{ff(se.event.target,"[data-collection-item-value]").each(be=>{Y(ee,se,be,Mi(be,"data-collection-item-value"))})},b=(Y,ee)=>{const se=Je(ee,nt=>{const Ue=Tf.translate(nt.text),tt=t.columns===1?`<div class="tox-collection__item-label">${Ue}</div>`:"",ut=`<div class="tox-collection__item-icon">${nt.icon}</div>`,pt={_:" "," - ":" ","-":" "},Qt=Ue.replace(/\_| \- |\-/g,ln=>pt[ln]);return`<div class="tox-collection__item${s.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${r7.encodeAllRaw(nt.value)}" title="${Qt}" aria-label="${Qt}">${ut}${tt}</div>`}),be=t.columns!=="auto"&&t.columns>1?Fo(se,t.columns):[se],Ie=Je(be,nt=>`<div class="tox-collection__group">${nt.join("")}</div>`);wd(Y.element,Ie.join(""))},w=m((Y,ee,se,be)=>{ee.stop(),s.isDisabled()||Mn(Y,Mp,{name:t.name,value:be})}),O=[Dt(nf(),m((Y,ee,se)=>{il(se)})),Dt(Sl(),w),Dt(d1(),w),Dt(Hf(),m((Y,ee,se)=>{Nr(Y.element,"."+NC).each(be=>{Ls(be,NC)}),As(se,NC)})),Dt(Cl(),m(Y=>{Nr(Y.element,"."+NC).each(ee=>{Ls(ee,NC)})})),Zl(m((Y,ee,se,be)=>{Mn(Y,Mp,{name:t.name,value:be})}))],M=(Y,ee)=>Je(Gi(Y.element,".tox-collection__item"),ee),B=Ts.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Ze},behaviours:kt([no.config({disabled:s.isDisabled,onDisabled:Y=>{M(Y,ee=>{As(ee,"tox-collection__item--state-disabled"),co(ee,"aria-disabled",!0)})},onEnabled:Y=>{M(Y,ee=>{Ls(ee,"tox-collection__item--state-disabled"),T(ee,"aria-disabled")})}}),Za(),lo.config({}),fn.config({store:{mode:"memory",initialValue:i.getOr([])},onSetValue:(Y,ee)=>{b(Y,ee),t.columns==="auto"&&$I(Y,5,"tox-collection__item").each(({numRows:se,numColumns:be})=>{Bn.setGridSize(Y,se,be)}),ss(Y,L4)}}),hi.config({}),Bn.config(a8(t.columns,"normal")),mo("collection-events",O)]),eventOrder:{[zs()]:["disabling","alloy.base.behaviour","collection-events"]}});return eS(u,B,["tox-form__group--collection"],[])},c7=["input","textarea"],$4=t=>{const s=Ja(t);return vo(c7,s)},gD=(t,s)=>{const i=s.getRoot(t).getOr(t.element);Ls(i,s.invalidClass),s.notify.each(u=>{$4(t.element)&&co(t.element,"aria-invalid",!1),u.getContainer(t).each(m=>{wd(m,u.validHtml)}),u.onValid(t)})},B4=(t,s,i,u)=>{const m=s.getRoot(t).getOr(t.element);As(m,s.invalidClass),s.notify.each(b=>{$4(t.element)&&co(t.element,"aria-invalid",!0),b.getContainer(t).each(w=>{wd(w,u)}),b.onInvalid(t,u)})},F4=(t,s,i)=>s.validator.fold(()=>cl.pure(ro.value(!0)),u=>u.validate(t)),pD=(t,s,i)=>(s.notify.each(u=>{u.onValidate(t)}),F4(t,s).map(u=>t.getSystem().isConnected()?u.fold(m=>(B4(t,s,i,m),ro.error(m)),m=>(gD(t,s),ro.value(m))):ro.error("No longer in system")));var l7=Object.freeze({__proto__:null,markValid:gD,markInvalid:B4,query:F4,run:pD,isInvalid:(t,s)=>{const i=s.getRoot(t).getOr(t.element);return oa(i,s.invalidClass)}}),u7=Object.freeze({__proto__:null,events:(t,s)=>t.validator.map(i=>js([Dt(i.onEvent,u=>{pD(u,t,s).get(Ze)})].concat(i.validateOnLoad?[Tr(u=>{pD(u,t,s).get(oe)})]:[]))).getOr({})}),d7=[At("invalidClass"),We("getRoot",P.none),dn("notify",[We("aria","alert"),We("getContainer",P.none),We("validHtml",""),Ye("onValid"),Ye("onInvalid"),Ye("onValidate")]),dn("validator",[At("validate"),We("onEvent","input"),We("validateOnLoad",!0)])];const kp=ya({fields:d7,name:"invalidating",active:u7,apis:l7,extra:{validation:t=>s=>{const i=fn.getValue(s);return cl.pure(t(i))}}});var m7=Object.freeze({__proto__:null,events:()=>js([g1(s0(),Ot)]),exhibit:()=>ju({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const oS=ya({fields:[],name:"unselecting",active:m7}),V4=(t,s)=>td.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:kt([im.button(s.providers.isDisabled),Za(),oS.config({}),hi.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:s.getSink,fetch:i=>cl.nu(u=>t.fetch(u)).map(u=>P.from(uD(Js(ZC(_n("menu-value"),u,m=>{t.onItemAction(i,m)},t.columns,t.presets,wg.CLOSE_ON_EXECUTE,wt,s.providers),{movement:YC(t.columns,t.presets)})))),parts:{menu:gx(!1,1,t.presets)}}),U4=_n("color-input-change"),z4=_n("color-swatch-change"),W4=_n("color-picker-cancel"),g7=(t,s,i,u)=>{const m=Ts.parts.field({factory:Ty,inputClasses:["tox-textfield"],data:u,onSetValue:B=>kp.run(B).get(oe),inputBehaviours:kt([no.config({disabled:s.providers.isDisabled}),Za(),hi.config({}),kp.config({invalidClass:"tox-textbox-field-invalid",getRoot:B=>Lc(B.element),notify:{onValid:B=>{const W=fn.getValue(B);Mn(B,U4,{color:W})}},validator:{validateOnLoad:!1,validate:B=>{const W=fn.getValue(B);if(W.length===0)return cl.pure(ro.value(!0));{const Y=Xe.fromTag("span");X(Y,"background-color",W);const ee=st(Y,"background-color").fold(()=>ro.error("blah"),se=>ro.value(W));return cl.pure(ee)}}}})]),selectOnFocus:!1}),b=t.label.map(B=>cv(B,s.providers)),w=(B,W)=>{Mn(B,z4,{value:W})},O=(B,W)=>{M.getOpt(B).each(Y=>{W==="custom"?i.colorPicker(ee=>{ee.fold(()=>ss(Y,W4),se=>{w(Y,se),jL(t.storageKey,se)})},"#ffffff"):W==="remove"?w(Y,""):w(Y,W)})},M=zo(V4({dom:{tag:"span",attributes:{"aria-label":s.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Ui,ba,ka],onLtr:()=>[ba,Ui,ka]},components:[],fetch:o4(i.getColors(t.storageKey),t.storageKey,i.hasCustomColors()),columns:i.getColorCols(t.storageKey),presets:"color",onItemAction:O},s));return Ts.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:b.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[m,M.asSpec()]}]),fieldBehaviours:kt([mo("form-field-events",[Dt(U4,(B,W)=>{M.getOpt(B).each(Y=>{X(Y.element,"background-color",W.event.color)}),Mn(B,Pd,{name:t.name})}),Dt(z4,(B,W)=>{Ts.getField(B).each(Y=>{fn.setValue(Y,W.event.value),Xo.getCurrent(B).each(jn.focus)})}),Dt(W4,(B,W)=>{Ts.getField(B).each(Y=>{Xo.getCurrent(B).each(jn.focus)})})])])})},p7=Dd({schema:[At("dom")],name:"label"}),kb=t=>Dd({name:""+t+"-edge",overrides:s=>s.model.manager.edgeActions[t].fold(()=>({}),u=>({events:js([$v(ql(),(m,b,w)=>u(m,w),[s]),$v(Fi(),(m,b,w)=>u(m,w),[s]),$v(Tl(),(m,b,w)=>{w.mouseIsDown.get()&&u(m,w)},[s])])}))}),Gx=kb("top-left"),v7=kb("top"),qx=kb("top-right"),b7=kb("right"),y7=kb("bottom-right"),_7=kb("bottom"),E7=kb("bottom-left"),JY=kb("left"),jx=La({name:"thumb",defaults:Ee({dom:{styles:{position:"absolute"}}}),overrides:t=>({events:js([Wf(ql(),t,"spectrum"),Wf(Lm(),t,"spectrum"),Wf(Mh(),t,"spectrum"),Wf(Fi(),t,"spectrum"),Wf(Tl(),t,"spectrum"),Wf(Ph(),t,"spectrum")])})}),JE=La({schema:[ys("mouseIsDown",()=>Wn(!1))],name:"spectrum",overrides:t=>{const i=t.model.manager,u=(m,b)=>i.getValueFromEvent(b).map(w=>i.setValueFrom(m,t,w));return{behaviours:kt([Bn.config({mode:"special",onLeft:m=>i.onLeft(m,t),onRight:m=>i.onRight(m,t),onUp:m=>i.onUp(m,t),onDown:m=>i.onDown(m,t)}),jn.config({})]),events:js([Dt(ql(),u),Dt(Lm(),u),Dt(Fi(),u),Dt(Tl(),(m,b)=>{t.mouseIsDown.get()&&u(m,b)})])}}});var G4=[p7,JY,b7,v7,_7,Gx,qx,E7,y7,jx,JE];const sS=Ee("slider.change.value"),T7=t=>t.type.indexOf("touch")!==-1,vD=t=>{const s=t.event.raw;if(T7(s)){const i=s;return i.touches!==void 0&&i.touches.length===1?P.some(i.touches[0]).map(u=>Kn(u.clientX,u.clientY)):P.none()}else{const i=s;return i.clientX!==void 0?P.some(i).map(u=>Kn(u.clientX,u.clientY)):P.none()}},C7="top",S7="right",A7="bottom",x7="left",ky=t=>t.model.minX,Py=t=>t.model.minY,Zx=t=>t.model.minX-1,Yx=t=>t.model.minY-1,Pb=t=>t.model.maxX,cm=t=>t.model.maxY,Pp=t=>t.model.maxX+1,Kx=t=>t.model.maxY+1,bD=(t,s,i)=>s(t)-i(t),Xx=t=>bD(t,Pb,ky),ew=t=>bD(t,cm,Py),q4=t=>Xx(t)/2,tw=t=>ew(t)/2,Lp=t=>t.stepSize,j4=t=>t.snapToGrid,Z4=t=>t.snapStart,Y4=t=>t.rounded,Qx=(t,s)=>t[s+"-edge"]!==void 0,K4=t=>Qx(t,x7),X4=t=>Qx(t,S7),rS=t=>Qx(t,C7),Q4=t=>Qx(t,A7),lv=t=>t.model.value.get(),Lb=(t,s)=>({x:t,y:s}),rh=(t,s)=>{Mn(t,sS(),{value:s})},O7=(t,s)=>{rh(t,Lb(Zx(s),Yx(s)))},R7=(t,s)=>{rh(t,Yx(s))},I7=(t,s)=>{rh(t,Lb(q4(s),Yx(s)))},J4=(t,s)=>{rh(t,Lb(Pp(s),Yx(s)))},D7=(t,s)=>{rh(t,Pp(s))},N7=(t,s)=>{rh(t,Lb(Pp(s),tw(s)))},M7=(t,s)=>{rh(t,Lb(Pp(s),Kx(s)))},k7=(t,s)=>{rh(t,Kx(s))},P7=(t,s)=>{rh(t,Lb(q4(s),Kx(s)))},e$=(t,s)=>{rh(t,Lb(Zx(s),Kx(s)))},t$=(t,s)=>{rh(t,Zx(s))},L7=(t,s)=>{rh(t,Lb(Zx(s),tw(s)))},yD=(t,s,i,u)=>t<s?t:t>i?i:t===s?s-1:Math.max(s,t-u),_D=(t,s,i,u)=>t>i?t:t<s?s:t===i?i+1:Math.min(i,t+u),ED=(t,s,i)=>Math.max(s,Math.min(i,t)),nw=(t,s,i,u,m)=>m.fold(()=>{const b=t-s,w=Math.round(b/u)*u;return ED(s+w,s-1,i+1)},b=>{const w=(t-b)%u,O=Math.round(w/u),M=Math.floor((t-b)/u),B=Math.floor((i-b)/u),W=Math.min(B,M+O),Y=b+W*u;return Math.max(b,Y)}),$7=(t,s,i)=>Math.min(i,Math.max(t,s))-s,n$=t=>{const{min:s,max:i,range:u,value:m,step:b,snap:w,snapStart:O,rounded:M,hasMinEdge:B,hasMaxEdge:W,minBound:Y,maxBound:ee,screenRange:se}=t,be=B?s-1:s,Ie=W?i+1:i;if(m<Y)return be;if(m>ee)return Ie;{const nt=$7(m,Y,ee),Ue=ED(nt/se*u+s,be,Ie);return w&&Ue>=s&&Ue<=i?nw(Ue,s,i,b,O):M?Math.round(Ue):Ue}},o$=t=>{const{min:s,max:i,range:u,value:m,hasMinEdge:b,hasMaxEdge:w,maxBound:O,maxOffset:M,centerMinEdge:B,centerMaxEdge:W}=t;return m<s?b?0:B:m>i?w?O:W:(m-s)/u*M},ow="top",Sf="right",Jx="bottom",e2="left",B7="width",F7="height",$p=t=>t.element.dom.getBoundingClientRect(),lm=(t,s)=>t[s],iS=t=>{const s=$p(t);return lm(s,e2)},wD=t=>{const s=$p(t);return lm(s,Sf)},t2=t=>{const s=$p(t);return lm(s,ow)},s$=t=>{const s=$p(t);return lm(s,Jx)},TD=t=>{const s=$p(t);return lm(s,B7)},r$=t=>{const s=$p(t);return lm(s,F7)},CD=(t,s,i)=>(t+s)/2-i,SD=(t,s)=>{const i=$p(t),u=$p(s),m=lm(i,e2),b=lm(i,Sf),w=lm(u,e2);return CD(m,b,w)},AD=(t,s)=>{const i=$p(t),u=$p(s),m=lm(i,ow),b=lm(i,Jx),w=lm(u,ow);return CD(m,b,w)},n2=(t,s)=>{Mn(t,sS(),{value:s})},xD=(t,s,i)=>{const u={min:ky(s),max:Pb(s),range:Xx(s),value:i,step:Lp(s),snap:j4(s),snapStart:Z4(s),rounded:Y4(s),hasMinEdge:K4(s),hasMaxEdge:X4(s),minBound:iS(t),maxBound:wD(t),screenRange:TD(t)};return n$(u)},H7=(t,s,i)=>{const u=xD(t,s,i);return n2(t,u),u},V7=(t,s)=>{const i=ky(s);n2(t,i)},U7=(t,s)=>{const i=Pb(s);n2(t,i)},z7=(t,s,i)=>{const m=(t>0?_D:yD)(lv(i),ky(i),Pb(i),Lp(i));return n2(s,m),P.some(m)},o2=t=>(s,i)=>z7(t,s,i).map(Ot),W7=t=>vD(t).map(i=>i.left),i$=(t,s,i,u,m)=>{const w=TD(t),O=u.bind(W=>P.some(SD(W,t))).getOr(0),M=m.bind(W=>P.some(SD(W,t))).getOr(w),B={min:ky(s),max:Pb(s),range:Xx(s),value:i,hasMinEdge:K4(s),hasMaxEdge:X4(s),minBound:iS(t),minOffset:0,maxBound:wD(t),maxOffset:w,centerMinEdge:O,centerMaxEdge:M};return o$(B)},OD=(t,s,i,u,m,b)=>{const w=i$(s,b,i,u,m);return iS(s)-iS(t)+w},G7=(t,s,i,u)=>{const m=lv(i),b=OD(t,u.getSpectrum(t),m,u.getLeftEdge(t),u.getRightEdge(t),i),w=ur(s.element)/2;X(s.element,"left",b-w+"px")},q7=o2(-1),j7=o2(1),Z7=P.none,Y7=P.none,K7={"top-left":P.none(),top:P.none(),"top-right":P.none(),right:P.some(D7),"bottom-right":P.none(),bottom:P.none(),"bottom-left":P.none(),left:P.some(t$)};var a$=Object.freeze({__proto__:null,setValueFrom:H7,setToMin:V7,setToMax:U7,findValueOfOffset:xD,getValueFromEvent:W7,findPositionOfValue:OD,setPositionFromValue:G7,onLeft:q7,onRight:j7,onUp:Z7,onDown:Y7,edgeActions:K7});const aS=(t,s)=>{Mn(t,sS(),{value:s})},RD=(t,s,i)=>{const u={min:Py(s),max:cm(s),range:ew(s),value:i,step:Lp(s),snap:j4(s),snapStart:Z4(s),rounded:Y4(s),hasMinEdge:rS(s),hasMaxEdge:Q4(s),minBound:t2(t),maxBound:s$(t),screenRange:r$(t)};return n$(u)},X7=(t,s,i)=>{const u=RD(t,s,i);return aS(t,u),u},Q7=(t,s)=>{const i=Py(s);aS(t,i)},J7=(t,s)=>{const i=cm(s);aS(t,i)},eU=(t,s,i)=>{const m=(t>0?_D:yD)(lv(i),Py(i),cm(i),Lp(i));return aS(s,m),P.some(m)},ID=t=>(s,i)=>eU(t,s,i).map(Ot),c$=t=>vD(t).map(i=>i.top),l$=(t,s,i,u,m)=>{const w=r$(t),O=u.bind(W=>P.some(AD(W,t))).getOr(0),M=m.bind(W=>P.some(AD(W,t))).getOr(w),B={min:Py(s),max:cm(s),range:ew(s),value:i,hasMinEdge:rS(s),hasMaxEdge:Q4(s),minBound:t2(t),minOffset:0,maxBound:s$(t),maxOffset:w,centerMinEdge:O,centerMaxEdge:M};return o$(B)},cS=(t,s,i,u,m,b)=>{const w=l$(s,b,i,u,m);return t2(s)-t2(t)+w},tU=(t,s,i,u)=>{const m=lv(i),b=cS(t,u.getSpectrum(t),m,u.getTopEdge(t),u.getBottomEdge(t),i),w=Tn(s.element)/2;X(s.element,"top",b-w+"px")},u$=P.none,nU=P.none,oU=ID(-1),sU=ID(1),rU={"top-left":P.none(),top:P.some(R7),"top-right":P.none(),right:P.none(),"bottom-right":P.none(),bottom:P.some(k7),"bottom-left":P.none(),left:P.none()};var DD=Object.freeze({__proto__:null,setValueFrom:X7,setToMin:Q7,setToMax:J7,findValueOfOffset:RD,getValueFromEvent:c$,findPositionOfValue:cS,setPositionFromValue:tU,onLeft:u$,onRight:nU,onUp:oU,onDown:sU,edgeActions:rU});const um=(t,s)=>{Mn(t,sS(),{value:s})},s2=(t,s)=>({x:t,y:s}),lS=(t,s,i)=>{const u=xD(t,s,i.left),m=RD(t,s,i.top),b=s2(u,m);return um(t,b),b},iU=(t,s,i,u)=>{const m=t>0?_D:yD,b=s?lv(u).x:m(lv(u).x,ky(u),Pb(u),Lp(u)),w=s?m(lv(u).y,Py(u),cm(u),Lp(u)):lv(u).y;return um(i,s2(b,w)),P.some(b)},sw=(t,s)=>(i,u)=>iU(t,s,i,u).map(Ot),aU=(t,s)=>{const i=ky(s),u=Py(s);um(t,s2(i,u))},cU=(t,s)=>{const i=Pb(s),u=cm(s);um(t,s2(i,u))},lU=t=>vD(t),d$=(t,s,i,u)=>{const m=lv(i),b=OD(t,u.getSpectrum(t),m.x,u.getLeftEdge(t),u.getRightEdge(t),i),w=cS(t,u.getSpectrum(t),m.y,u.getTopEdge(t),u.getBottomEdge(t),i),O=ur(s.element)/2,M=Tn(s.element)/2;X(s.element,"left",b-O+"px"),X(s.element,"top",w-M+"px")},uU=sw(-1,!1),ND=sw(1,!1),MD=sw(-1,!0),kD=sw(1,!0),dU={"top-left":P.some(O7),top:P.some(I7),"top-right":P.some(J4),right:P.some(N7),"bottom-right":P.some(M7),bottom:P.some(P7),"bottom-left":P.some(e$),left:P.some(L7)};var Af=Object.freeze({__proto__:null,setValueFrom:lS,setToMin:aU,setToMax:cU,getValueFromEvent:lU,setPositionFromValue:d$,onLeft:uU,onRight:ND,onUp:MD,onDown:kD,edgeActions:dU});const fU=[We("stepSize",1),We("onChange",oe),We("onChoose",oe),We("onInit",oe),We("onDragStart",oe),We("onDragEnd",oe),We("snapToGrid",!1),We("rounded",!0),Yo("snapStart"),El("model",or("mode",{x:[We("minX",0),We("maxX",100),ys("value",t=>Wn(t.mode.minX)),At("getInitialValue"),er("manager",a$)],y:[We("minY",0),We("maxY",100),ys("value",t=>Wn(t.mode.minY)),At("getInitialValue"),er("manager",DD)],xy:[We("minX",0),We("maxX",100),We("minY",0),We("maxY",100),ys("value",t=>Wn({x:t.mode.minX,y:t.mode.minY})),At("getInitialValue"),er("manager",Af)]})),ja("sliderBehaviours",[Bn,fn]),ys("mouseIsDown",()=>Wn(!1))],ih=Si({name:"Slider",configFields:fU,partFields:G4,factory:(t,s,i,u)=>{const m=pt=>nm(pt,t,"thumb"),b=pt=>nm(pt,t,"spectrum"),w=pt=>rr(pt,t,"left-edge"),O=pt=>rr(pt,t,"right-edge"),M=pt=>rr(pt,t,"top-edge"),B=pt=>rr(pt,t,"bottom-edge"),W=t.model,Y=W.manager,ee=(pt,Qt)=>{Y.setPositionFromValue(pt,Qt,t,{getLeftEdge:w,getRightEdge:O,getTopEdge:M,getBottomEdge:B,getSpectrum:b})},se=(pt,Qt)=>{W.value.set(Qt);const Pt=m(pt);ee(pt,Pt)},be=(pt,Qt)=>{se(pt,Qt);const Pt=m(pt);return t.onChange(pt,Pt,Qt),P.some(!0)},Ie=pt=>{Y.setToMin(pt,t)},nt=pt=>{Y.setToMax(pt,t)},Ue=pt=>{const Qt=()=>{rr(pt,t,"thumb").each(ln=>{const xn=W.value.get();t.onChoose(pt,ln,xn)})},Pt=t.mouseIsDown.get();t.mouseIsDown.set(!1),Pt&&Qt()},tt=(pt,Qt)=>{Qt.stop(),t.mouseIsDown.set(!0),t.onDragStart(pt,m(pt))},ut=(pt,Qt)=>{Qt.stop(),t.onDragEnd(pt,m(pt)),Ue(pt)};return{uid:t.uid,dom:t.dom,components:s,behaviours:kr(t.sliderBehaviours,[Bn.config({mode:"special",focusIn:pt=>rr(pt,t,"spectrum").map(Bn.focusIn).map(Ot)}),fn.config({store:{mode:"manual",getValue:pt=>W.value.get(),setValue:se}}),bu.config({channels:{[OT()]:{onReceive:Ue}}})]),events:js([Dt(sS(),(pt,Qt)=>{be(pt,Qt.event.value)}),Tr((pt,Qt)=>{const Pt=W.getInitialValue();W.value.set(Pt);const ln=m(pt);ee(pt,ln);const xn=b(pt);t.onInit(pt,ln,xn,W.value.get())}),Dt(ql(),tt),Dt(Mh(),ut),Dt(Fi(),tt),Dt(Ph(),ut)]),apis:{resetToMin:Ie,resetToMax:nt,setValue:se,refresh:ee},domModification:{styles:{position:"relative"}}}},apis:{setValue:(t,s,i)=>{t.setValue(s,i)},resetToMin:(t,s)=>{t.resetToMin(s)},resetToMax:(t,s)=>{t.resetToMax(s)},refresh:(t,s)=>{t.refresh(s)}}}),r2=_n("rgb-hex-update"),f$=_n("slider-update"),h$=_n("palette-update"),hU=(t,s)=>{const i=ih.parts.spectrum({dom:{tag:"div",classes:[s("hue-slider-spectrum")],attributes:{role:"presentation"}}}),u=ih.parts.thumb({dom:{tag:"div",classes:[s("hue-slider-thumb")],attributes:{role:"presentation"}}});return ih.sketch({dom:{tag:"div",classes:[s("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:Ee(0)},components:[i,u],sliderBehaviours:kt([jn.config({})]),onChange:(m,b,w)=>{Mn(m,f$,{value:w})}})},m$="form",mU=[ja("formBehaviours",[fn])],g$=t=>"<alloy.field."+t+">",gU=t=>{const s=(()=>{const b=[];return{field:(O,M)=>(b.push(O),GT(m$,g$(O),M)),record:Ee(b)}})(),i=t(s),u=s.record(),m=Je(u,b=>La({name:b,pname:g$(b)}));return tC(m$,mU,m,pU,i)},p$=(t,s)=>t.fold(()=>ro.error(s),ro.value),pU=(t,s)=>({uid:t.uid,dom:t.dom,components:s,behaviours:kr(t.formBehaviours,[fn.config({store:{mode:"manual",getValue:i=>{const u=YT(i,t);return Ms(u,(m,b)=>m().bind(w=>{const O=Xo.getCurrent(w);return p$(O,new Error(`Cannot find a current component to extract the value from for form part '${b}': `+Gu(w.element)))}).map(fn.getValue))},setValue:(i,u)=>{Yr(u,(m,b)=>{rr(i,t,b).each(w=>{Xo.getCurrent(w).each(O=>{fn.setValue(O,m)})})})}}})]),apis:{getField:(i,u)=>rr(i,t,u).bind(Xo.getCurrent)}}),rw={getField:b1((t,s,i)=>t.getField(s,i)),sketch:gU},v$=_n("valid-input"),PD=_n("invalid-input"),i2=_n("validating-input"),LD="colorcustom.rgb.",$D=(t,s,i,u)=>{const m=(ee,se)=>kp.config({invalidClass:s("invalid"),notify:{onValidate:be=>{Mn(be,i2,{type:ee})},onValid:be=>{Mn(be,v$,{type:ee,value:fn.getValue(be)})},onInvalid:be=>{Mn(be,PD,{type:ee,value:fn.getValue(be)})}},validator:{validate:be=>{const Ie=fn.getValue(be),nt=se(Ie)?ro.value(!0):ro.error(t("aria.input.invalid"));return cl.pure(nt)},validateOnLoad:!1}}),b=(ee,se,be,Ie,nt)=>{const Ue=t(LD+"range"),tt=Ts.parts.label({dom:{tag:"label",attributes:{"aria-label":Ie}},components:[Cr(be)]}),ut=Ts.parts.field({data:nt,factory:Ty,inputAttributes:{type:"text",...se==="hex"?{"aria-live":"polite"}:{}},inputClasses:[s("textfield")],inputBehaviours:kt([m(se,ee),hi.config({})]),onSetValue:ln=>{kp.isInvalid(ln)&&kp.run(ln).get(oe)}}),pt=[tt,ut],Qt=se!=="hex"?[Ts.parts["aria-descriptor"]({text:Ue})]:[],Pt=pt.concat(Qt);return{dom:{tag:"div",attributes:{role:"presentation"}},components:Pt}},w=(ee,se)=>{const be=GC(se);return rw.getField(ee,"hex").each(Ie=>{jn.isFocused(Ie)||fn.setValue(ee,{hex:be.value})}),be},O=(ee,se)=>{const be=se.red,Ie=se.green,nt=se.blue;fn.setValue(ee,{red:be,green:Ie,blue:nt})},M=zo({dom:{tag:"div",classes:[s("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),B=(ee,se)=>{M.getOpt(ee).each(be=>{X(be.element,"background-color","#"+se.value)})};return qi({factory:()=>{const ee={red:Wn(P.some(255)),green:Wn(P.some(255)),blue:Wn(P.some(255)),hex:Wn(P.some("ffffff"))},se=(oo,Io)=>{const Xn=Ag(Io);O(oo,Xn),Ue(Xn)},be=oo=>ee[oo].get(),Ie=(oo,Io)=>{ee[oo].set(Io)},nt=()=>be("red").bind(oo=>be("green").bind(Io=>be("blue").map(Xn=>nu(oo,Io,Xn,1)))),Ue=oo=>{const Io=oo.red,Xn=oo.green,xs=oo.blue;Ie("red",P.some(Io)),Ie("green",P.some(Xn)),Ie("blue",P.some(xs))},tt=(oo,Io)=>{const Xn=Io.event;Xn.type!=="hex"?Ie(Xn.type,P.none()):u(oo)},ut=(oo,Io)=>{i(oo);const Xn=Sg(Io);Ie("hex",P.some(Xn.value));const xs=Ag(Xn);O(oo,xs),Ue(xs),Mn(oo,r2,{hex:Xn}),B(oo,Xn)},pt=(oo,Io,Xn)=>{const xs=parseInt(Xn,10);Ie(Io,P.some(xs)),nt().each(Wt=>{const Sn=w(oo,Wt);Mn(oo,r2,{hex:Sn}),B(oo,Sn)})},Qt=oo=>oo.type==="hex",Pt=(oo,Io)=>{const Xn=Io.event;Qt(Xn)?ut(oo,Xn.value):pt(oo,Xn.type,Xn.value)},ln=oo=>({label:t(LD+oo+".label"),description:t(LD+oo+".description")}),xn=ln("red"),$o=ln("green"),Fn=ln("blue"),Mo=ln("hex");return Js(rw.sketch(oo=>({dom:{tag:"form",classes:[s("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[oo.field("red",Ts.sketch(b(UI,"red",xn.label,xn.description,255))),oo.field("green",Ts.sketch(b(UI,"green",$o.label,$o.description,255))),oo.field("blue",Ts.sketch(b(UI,"blue",Fn.label,Fn.description,255))),oo.field("hex",Ts.sketch(b(zC,"hex",Mo.label,Mo.description,"ffffff"))),M.asSpec()],formBehaviours:kt([kp.config({invalidClass:s("form-invalid")}),mo("rgb-form-events",[Dt(v$,Pt),Dt(PD,tt),Dt(i2,tt)])])})),{apis:{updateHex:(oo,Io)=>{fn.setValue(oo,{hex:Io.value}),se(oo,Io),B(oo,Io)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(ee,se,be)=>{ee.updateHex(se,be)}},extraApis:{}})},iw=(t,s)=>{const i=ih.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[s("sv-palette-spectrum")]}}),u=ih.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette-thumb")],innerHtml:`<div class=${s("sv-palette-inner-thumb")} role="presentation"></div>`}}),m=(B,W)=>{const{width:Y,height:ee}=B,se=B.getContext("2d");if(se===null)return;se.fillStyle=W,se.fillRect(0,0,Y,ee);const be=se.createLinearGradient(0,0,Y,0);be.addColorStop(0,"rgba(255,255,255,1)"),be.addColorStop(1,"rgba(255,255,255,0)"),se.fillStyle=be,se.fillRect(0,0,Y,ee);const Ie=se.createLinearGradient(0,0,0,ee);Ie.addColorStop(0,"rgba(0,0,0,0)"),Ie.addColorStop(1,"rgba(0,0,0,1)"),se.fillStyle=Ie,se.fillRect(0,0,Y,ee)},b=(B,W)=>{const Y=B.components()[0].element.dom,ee=jC(W,100,100),se=tr(ee);m(Y,Mx(se))},w=(B,W)=>{const Y=WI(Ag(W));ih.setValue(B,{x:Y.saturation,y:100-Y.value})};return qi({factory:B=>{const W=Ee({x:0,y:0}),Y=(be,Ie,nt)=>{Mn(be,h$,{value:nt})},ee=(be,Ie,nt,Ue)=>{m(nt.element.dom,Mx(kx))},se=kt([Xo.config({find:P.some}),jn.config({})]);return ih.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette")]},model:{mode:"xy",getInitialValue:W},rounded:!1,components:[i,u],onChange:Y,onInit:ee,sliderBehaviours:se})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(B,W,Y)=>{b(W,Y)},setThumb:(B,W,Y)=>{w(W,Y)}},extraApis:{}})},b$=(t,s)=>{const i=m=>{const b=$D(t,s,m.onValidHex,m.onInvalidHex),w=iw(t,s),O=Pt=>(100-Pt)/100*360,M=Pt=>100-Pt/360*100,B={paletteRgba:Wn(kx),paletteHue:Wn(0)},W=zo(hU(t,s)),Y=zo(w.sketch({})),ee=zo(b.sketch({})),se=(Pt,ln,xn)=>{Y.getOpt(Pt).each($o=>{w.setHue($o,xn)})},be=(Pt,ln)=>{ee.getOpt(Pt).each(xn=>{b.updateHex(xn,ln)})},Ie=(Pt,ln,xn)=>{W.getOpt(Pt).each($o=>{ih.setValue($o,M(xn))})},nt=(Pt,ln)=>{Y.getOpt(Pt).each(xn=>{w.setThumb(xn,ln)})},Ue=(Pt,ln)=>{const xn=Ag(Pt);B.paletteRgba.set(xn),B.paletteHue.set(ln)},tt=(Pt,ln,xn,$o)=>{Ue(ln,xn),It($o,Fn=>{Fn(Pt,ln,xn)})},ut=()=>{const Pt=[be];return(ln,xn)=>{const $o=xn.event.value,Fn=B.paletteHue.get(),Mo=jC(Fn,$o.x,100-$o.y),oo=GI(Mo);tt(ln,oo,Fn,Pt)}},pt=()=>{const Pt=[se,be];return(ln,xn)=>{const $o=O(xn.event.value),Fn=B.paletteRgba.get(),Mo=WI(Fn),oo=jC($o,Mo.saturation,Mo.value),Io=GI(oo);tt(ln,Io,$o,Pt)}},Qt=()=>{const Pt=[se,Ie,nt];return(ln,xn)=>{const $o=xn.event.hex,Fn=e8($o);tt(ln,$o,Fn.hue,Pt)}};return{uid:m.uid,dom:m.dom,components:[Y.asSpec(),W.asSpec(),ee.asSpec()],behaviours:kt([mo("colour-picker-events",[Dt(r2,Qt()),Dt(h$,ut()),Dt(f$,pt())]),Xo.config({find:Pt=>ee.getOpt(Pt)}),Bn.config({mode:"acyclic"})])}};return qi({name:"ColourPicker",configFields:[At("dom"),We("onValidHex",oe),We("onInvalidHex",oe)],factory:i})},dm={self:()=>Xo.config({find:P.some}),memento:t=>Xo.config({find:t.getOpt}),childAt:t=>Xo.config({find:s=>Du(s.element,t).bind(i=>s.getSystem().getByDom(i).toOptional())})},a2=Pn([We("preprocess",Ze),We("postprocess",Ze)]),yU=(t,s)=>{const i=Jr("RepresentingConfigs.memento processors",a2,s);return fn.config({store:{mode:"manual",getValue:u=>{const m=t.get(u),b=fn.getValue(m);return i.postprocess(b)},setValue:(u,m)=>{const b=i.preprocess(m),w=t.get(u);fn.setValue(w,b)}}})},y$=(t,s,i)=>fn.config({store:{mode:"manual",...t.map(u=>({initialValue:u})).getOr({}),getValue:s,setValue:i}}),c2=(t,s,i)=>y$(t,u=>s(u.element),(u,m)=>i(u.element,m)),Oi={memento:yU,withElement:c2,withComp:y$,domValue:t=>c2(t,Kl,Zu),domHtml:t=>c2(t,Oo,wd),memory:t=>fn.config({store:{mode:"memory",initialValue:t}})},E$={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},wU=t=>s=>t.translate(E$[s]),TU=(t,s,i)=>{const u=M=>"tox-"+M,m=b$(wU(s),u),b=M=>{Mn(M,Mp,{name:"hex-valid",value:!0})},w=M=>{Mn(M,Mp,{name:"hex-valid",value:!1})},O=zo(m.sketch({dom:{tag:"div",classes:[u("color-picker-container")],attributes:{role:"presentation"}},onValidHex:b,onInvalidHex:w}));return{dom:{tag:"div"},components:[O.asSpec()],behaviours:kt([Oi.withComp(i,M=>{const B=O.get(M);return Xo.getCurrent(B).bind(ee=>fn.getValue(ee).hex).map(ee=>"#"+Eh(ee,"#")).getOr("")},(M,B)=>{const W=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,Y=P.from(W.exec(B)).bind(be=>vs(be,1)),ee=O.get(M);Xo.getCurrent(ee).fold(()=>{console.log("Can not find form")},be=>{fn.setValue(be,{hex:Y.getOr("")}),rw.getField(be,"hex").each(Ie=>{ss(Ie,Hc())})})}),dm.self()])}};var w$=tinymce.util.Tools.resolve("tinymce.Resource");const CU=t=>Ho(t,"init"),SU=t=>{const s=Zs(),i=zo({dom:{tag:t.tag}}),u=Zs();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:kt([mo("custom-editor-events",[Tr(m=>{i.getOpt(m).each(b=>{(CU(t)?t.init(b.element.dom):w$.load(t.scriptId,t.scriptUrl).then(w=>w(b.element.dom,t.settings))).then(w=>{u.on(O=>{w.setValue(O)}),u.clear(),s.set(w)})})})]),Oi.withComp(P.none(),()=>s.get().fold(()=>u.get().getOr(""),m=>m.getValue()),(m,b)=>{s.get().fold(()=>u.set(b),w=>w.setValue(b))}),dm.self()]),components:[i.asSpec()]}};var Ly=tinymce.util.Tools.resolve("tinymce.util.Tools");const T$=(t,s)=>{const i=Ly.explode(s.getOption("images_file_types")),u=m=>Bo(i,b=>Fa(m.name.toLowerCase(),`.${b.toLowerCase()}`));return uo(Ca(t),u)},Bp=(t,s,i)=>{const u=(ee,se)=>{se.stop()},m=ee=>(se,be)=>{It(ee,Ie=>{Ie(se,be)})},b=(ee,se)=>{var be;if(!no.isDisabled(ee)){const Ie=se.event.raw;O(ee,(be=Ie.dataTransfer)===null||be===void 0?void 0:be.files)}},w=(ee,se)=>{const be=se.event.raw.target;O(ee,be.files)},O=(ee,se)=>{se&&(fn.setValue(ee,T$(se,s)),Mn(ee,Pd,{name:t.name}))},M=zo({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:kt([mo("input-file-events",[Hm(Sl()),Hm(d1())])])}),B=ee=>({uid:ee.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:kt([Oi.memory(i.getOr([])),dm.self(),no.config({}),So.config({toggleClass:"dragenter",toggleOnExecute:!1}),mo("dropzone-events",[Dt("dragenter",m([u,So.toggle])),Dt("dragleave",m([u,So.toggle])),Dt("dragover",u),Dt("drop",m([u,b])),Dt(jl(),w)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Cr(s.translate("Drop an image here"))]},qc.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Cr(s.translate("Browse for an image")),M.asSpec()],action:se=>{M.get(se).element.dom.click()},buttonBehaviours:kt([hi.config({}),im.button(s.isDisabled),Za()])})]}]}),W=t.label.map(ee=>cv(ee,s)),Y=Ts.parts.field({factory:{sketch:B}});return eS(W,Y,["tox-form__group--stretched"],[])},BD=(t,s)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${t.columns}col`]},components:Je(t.items,s.interpreter)}),l2=_n("alloy-fake-before-tabstop"),aw=_n("alloy-fake-after-tabstop"),u2=t=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:kt([jn.config({ignore:!0}),hi.config({})])}),C$=t=>({dom:{tag:"div",classes:["tox-navobj"]},components:[u2([l2]),t,u2([aw])],behaviours:kt([dm.childAt(1)])}),S$=(t,s)=>{Mn(t,na(),{raw:{which:9,shiftKey:s}})},AU=(t,s)=>{const i=s.element;oa(i,l2)?S$(t,!0):oa(i,aw)&&S$(t,!1)},uS=t=>QC(t,["."+l2,"."+aw].join(","),wt),xU=t=>{const s=Wn(t.getOr(""));return{getValue:i=>s.get(),setValue:(i,u)=>{s.get()!==u&&co(i.element,"srcdoc",u),s.set(u)}}},OU=(t,s,i)=>{const u=t.sandboxed,m=t.transparent,b="tox-dialog__iframe",w={...t.label.map(Y=>({title:Y})).getOr({}),...i.map(Y=>({srcdoc:Y})).getOr({}),...u?{sandbox:"allow-scripts allow-same-origin"}:{}},O=xU(i),M=t.label.map(Y=>cv(Y,s)),B=Y=>C$({uid:Y.uid,dom:{tag:"iframe",attributes:w,classes:m?[b]:[b,`${b}--opaque`]},behaviours:kt([hi.config({}),jn.config({}),Oi.withComp(i,O.getValue,O.setValue)])}),W=Ts.parts.field({factory:{sketch:B}});return eS(M,W,["tox-form__group--stretched"],[])},RU=t=>new Promise((s,i)=>{const u=()=>{b(),s(t)},m=[Dc(t,"load",u),Dc(t,"error",()=>{b(),i("Unable to load data from image: "+t.dom.src)})],b=()=>It(m,w=>w.unbind());t.dom.complete&&u()}),A$=(t,s,i,u,m)=>{const b=i*m,w=u*m,O=Math.max(0,t/2-b/2),M=Math.max(0,s/2-w/2);return{left:O.toString()+"px",top:M.toString()+"px",width:b.toString()+"px",height:w.toString()+"px"}},IU=(t,s,i)=>{const u=ur(t),m=Tn(t);return Math.min(u/s,m/i,1)},Fp=(t,s)=>{const i=Wn(s.getOr({url:""})),u=zo({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:s.map(M=>({src:M.url})).getOr({})}}),m=zo({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[u.asSpec()]}),b=(M,B)=>{const W={url:B.url};B.zoom.each(ee=>W.zoom=ee),B.cachedWidth.each(ee=>W.cachedWidth=ee),B.cachedHeight.each(ee=>W.cachedHeight=ee),i.set(W);const Y=()=>{const{cachedWidth:ee,cachedHeight:se,zoom:be}=W;if(!ve(ee)&&!ve(se)){if(ve(be)){const nt=IU(M.element,ee,se);W.zoom=nt}const Ie=A$(ur(M.element),Tn(M.element),ee,se,W.zoom);m.getOpt(M).each(nt=>{re(nt.element,Ie)})}};u.getOpt(M).each(ee=>{const se=ee.element;B.url!==Mi(se,"src")&&(co(se,"src",B.url),Ls(M.element,"tox-imagepreview__loaded")),Y(),RU(se).then(be=>{M.getSystem().isConnected()&&(As(M.element,"tox-imagepreview__loaded"),W.cachedWidth=be.dom.naturalWidth,W.cachedHeight=be.dom.naturalHeight,Y())})})},w={};t.height.each(M=>w.height=M);const O=s.map(M=>({url:M.url,zoom:P.from(M.zoom),cachedWidth:P.from(M.cachedWidth),cachedHeight:P.from(M.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:w,attributes:{role:"presentation"}},components:[m.asSpec()],behaviours:kt([dm.self(),Oi.withComp(O,()=>i.get(),b)])}},d2=(t,s)=>{const i={dom:{tag:"label",classes:["tox-label"]},components:[Cr(s.providers.translate(t.label))]},u=Je(t.items,s.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[i,...u],behaviours:kt([dm.self(),lo.config({}),Oi.domHtml(P.none()),Bn.config({mode:"acyclic"})])}},x$=_n("toolbar.button.execute"),DU=t=>Zl((s,i)=>{ZE(t,s)(u=>{Mn(s,x$,{buttonApi:u}),t.onAction(u)})}),$b=_n("common-button-display-events"),FD={[zs()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],[sf()]:["toolbar-button-events",$b],[Fi()]:["focusing","alloy.base.behaviour",$b]},dS=t=>X(t.element,"width",pe(t.element,"width")),fS=(t,s,i)=>oh(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:i},s),$y=(t,s)=>fS(t,s,[]),fm=(t,s)=>fS(t,s,[lo.config({})]),HD=(t,s,i)=>({dom:{tag:"span",classes:[`${s}__select-label`]},components:[Cr(i.translate(t))],behaviours:kt([lo.config({})])}),xf=_n("update-menu-text"),By=_n("update-menu-icon"),VD=(t,s,i)=>{const u=Wn(oe),m=t.text.map(ee=>zo(HD(ee,s,i.providers))),b=t.icon.map(ee=>zo(fm(ee,i.providers.icons))),w=(ee,se)=>{const be=fn.getValue(ee);return jn.focus(be),Mn(be,"keydown",{raw:se.event.raw}),td.close(be),P.some(!0)},O=t.role.fold(()=>({}),ee=>({role:ee})),M=t.tooltip.fold(()=>({}),ee=>{const se=i.providers.translate(ee);return{title:se,"aria-label":se}}),B=oh("chevron-down",{tag:"div",classes:[`${s}__select-chevron`]},i.providers.icons),W=_n("common-button-display-events");return zo(td.sketch({...t.uid?{uid:t.uid}:{},...O,dom:{tag:"button",classes:[s,`${s}--select`].concat(Je(t.classes,ee=>`${s}--${ee}`)),attributes:{...M}},components:YE([b.map(ee=>ee.asSpec()),m.map(ee=>ee.asSpec()),P.some(B)]),matchWidth:!0,useMinWidth:!0,onOpen:(ee,se,be)=>{t.searchable&&k8(be)},dropdownBehaviours:kt([...t.dropdownBehaviours,im.button(()=>t.disabled||i.providers.isDisabled()),Za(),oS.config({}),lo.config({}),mo("dropdown-events",[Nb(t,u),Oy(t,u)]),mo(W,[Tr((ee,se)=>dS(ee))]),mo("menubutton-update-display-text",[Dt(xf,(ee,se)=>{m.bind(be=>be.getOpt(ee)).each(be=>{lo.set(be,[Cr(i.providers.translate(se.event.text))])})}),Dt(By,(ee,se)=>{b.bind(be=>be.getOpt(ee)).each(be=>{lo.set(be,[fm(se.event.icon,i.providers.icons)])})})])]),eventOrder:Js(FD,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[sf()]:["toolbar-button-events","dropdown-events",W]}),sandboxBehaviours:kt([Bn.config({mode:"special",onLeft:w,onRight:w}),mo("dropdown-sandbox-events",[Dt(XP,(ee,se)=>{R8(ee),se.stop()}),Dt(QP,(ee,se)=>{I8(ee,se),se.stop()})])]),lazySink:i.getSink,toggleClass:`${s}--active`,parts:{menu:{...gx(!1,t.columns,t.presets),fakeFocus:t.searchable,onHighlightItem:_4,onCollapseMenu:(ee,se,be)=>{ms.getHighlighted(be).each(Ie=>{_4(ee,be,Ie)})},onDehighlightItem:M8}},fetch:ee=>cl.nu(Et(t.fetch,ee))})).asSpec()},NU=t=>U(t),O$=t=>t.type==="separator",MU=t=>Ho(t,"getSubmenuItems"),kU={type:"separator"},PU=(t,s)=>{const i=ps(t,(u,m)=>NU(m)?m===""?u:m==="|"?u.length>0&&!O$(u[u.length-1])?u.concat([kU]):u:Ho(s,m.toLowerCase())?u.concat([s[m.toLowerCase()]]):u:u.concat([m]),[]);return i.length>0&&O$(i[i.length-1])&&i.pop(),i},R$=(t,s)=>{const i=t.getSubmenuItems(),u=D$(i,s),m=Js(u.menus,{[t.value]:u.items}),b=Js(u.expansions,{[t.value]:t.value});return{item:t,menus:m,expansions:b}},I$=t=>{const s=an(t,"value").getOrThunk(()=>_n("generated-menu-item"));return Js({value:s},t)},D$=(t,s)=>{const i=PU(U(t)?t.split(" "):t,s);return Bt(i,(u,m)=>{if(MU(m)){const b=I$(m),w=R$(b,s);return{menus:Js(u.menus,w.menus),items:[w.item,...u.items],expansions:Js(u.expansions,w.expansions)}}else return{...u,items:[m,...u.items]}},{menus:{},expansions:{},items:[]})},N$=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-field",placeholder:s.placeholder})),LU=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-results"})),Fy=(t,s,i,u)=>{const m=_n("primary-menu"),b=D$(t,i.shared.providers.menuItems());if(b.items.length===0)return P.none();const w=N$(u),O=E4(m,b.items,s,i,u.isHorizontalMenu,w),M=LU(u),B=Ms(b.menus,(Y,ee)=>E4(ee,Y,s,i,!1,M)),W=Js(B,Uu(m,O));return P.from(yy.tieredData(m,W,b.expansions))},Hy=t=>!Ho(t,"items"),M$="data-value",UD=(t,s,i,u)=>Je(i,m=>Hy(m)?{type:"togglemenuitem",text:m.text,value:m.value,active:m.value===u,onAction:()=>{fn.setValue(t,m.value),Mn(t,Pd,{name:s}),jn.focus(t)}}:{type:"nestedmenuitem",text:m.text,getSubmenuItems:()=>UD(t,s,m.items,u)}),zD=(t,s)=>nr(t,i=>Hy(i)?qn(i.value===s,i):zD(i.items,s)),$U=(t,s,i)=>{const u=s.shared.providers,m=i.bind(M=>zD(t.items,M)).orThunk(()=>Rr(t.items).filter(Hy)),b=t.label.map(M=>cv(M,u)),w=Ts.parts.field({dom:{},factory:{sketch:M=>VD({uid:M.uid,text:m.map(B=>B.text),icon:P.none(),tooltip:t.label,role:P.none(),fetch:(B,W)=>{const Y=UD(B,t.name,t.items,fn.getValue(B));W(Fy(Y,wg.CLOSE_ON_EXECUTE,s,{isHorizontalMenu:!1,search:P.none()}))},onSetup:Ee(oe),getApi:Ee({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[hi.config({}),Oi.withComp(m.map(B=>B.value),B=>Mi(B.element,M$),(B,W)=>{zD(t.items,W).each(Y=>{co(B.element,M$,Y.value),Mn(B,xf,{text:Y.text})})})]},"tox-listbox",s.shared)}}),O={dom:{tag:"div",classes:["tox-listboxfield"]},components:[w]};return Ts.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Yt([b.toArray(),[O]]),fieldBehaviours:kt([no.config({disabled:Ee(!t.enabled),onDisabled:M=>{Ts.getField(M).each(no.disable)},onEnabled:M=>{Ts.getField(M).each(no.enable)}})])})},BU=(t,s)=>({dom:{tag:"div",classes:t.classes},components:Je(t.items,s.shared.interpreter)}),FU=(t,s)=>{const i=Je(t.options,m=>({dom:{tag:"option",value:m.value,innerHtml:m.text}})),u=t.data.map(m=>Uu("initialValue",m)).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:i,behaviours:kr(t.selectBehaviours,[jn.config({}),fn.config({store:{mode:"manual",getValue:m=>Kl(m.element),setValue:(m,b)=>{kn(t.options,O=>O.value===b).isSome()&&Zu(m.element,b)},...u}})])}},k$=qi({name:"HtmlSelect",configFields:[At("options"),ja("selectBehaviours",[jn,fn]),We("selectClasses",[]),We("selectAttributes",{}),Yo("data")],factory:FU}),HU=(t,s,i)=>{const u=Je(t.items,M=>({text:s.translate(M.text),value:M.value})),m=t.label.map(M=>cv(M,s)),b=Ts.parts.field({dom:{},...i.map(M=>({data:M})).getOr({}),selectAttributes:{size:t.size},options:u,factory:k$,selectBehaviours:kt([no.config({disabled:()=>!t.enabled||s.isDisabled()}),hi.config({}),mo("selectbox-change",[Dt(jl(),(M,B)=>{Mn(M,Pd,{name:t.name})})])])}),w=t.size>1?P.none():P.some(oh("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},s.icons)),O={dom:{tag:"div",classes:["tox-selectfield"]},components:Yt([[b],w.toArray()])};return Ts.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Yt([m.toArray(),[O]]),fieldBehaviours:kt([no.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:M=>{Ts.getField(M).each(no.disable)},onEnabled:M=>{Ts.getField(M).each(no.enable)}}),Za()])})},P$=Ee([We("field1Name","field1"),We("field2Name","field2"),Qm("onLockedChange"),vu(["lockClass"]),We("locked",!1),yf.field("coupledFieldBehaviours",[Xo,fn])]),WD=(t,s,i)=>rr(t,s,i).bind(Xo.getCurrent),Hp=(t,s)=>La({factory:Ts,name:t,overrides:i=>({fieldBehaviours:kt([mo("coupled-input-behaviour",[Dt(Hc(),u=>{WD(u,i,s).each(m=>{rr(u,i,"lock").each(b=>{So.isOn(b)&&i.onLockedChange(u,m,b)})})})])])})}),GD=Ee([Hp("field1","field2"),Hp("field2","field1"),La({factory:qc,schema:[At("dom")],name:"lock",overrides:t=>({buttonBehaviours:kt([So.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])})})]),L$=(t,s,i,u)=>({uid:t.uid,dom:t.dom,components:s,behaviours:yf.augment(t.coupledFieldBehaviours,[Xo.config({find:P.some}),fn.config({store:{mode:"manual",getValue:m=>{const b=XT(m,t,["field1","field2"]);return{[t.field1Name]:fn.getValue(b.field1()),[t.field2Name]:fn.getValue(b.field2())}},setValue:(m,b)=>{const w=XT(m,t,["field1","field2"]);ca(b,t.field1Name)&&fn.setValue(w.field1(),b[t.field1Name]),ca(b,t.field2Name)&&fn.setValue(w.field2(),b[t.field2Name])}}})]),apis:{getField1:m=>rr(m,t,"field1"),getField2:m=>rr(m,t,"field2"),getLock:m=>rr(m,t,"lock")}}),Ld=Si({name:"FormCoupledInputs",configFields:P$(),partFields:GD(),factory:L$,apis:{getField1:(t,s)=>t.getField1(s),getField2:(t,s)=>t.getField2(s),getLock:(t,s)=>t.getLock(s)}}),qD=t=>{const s={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},i=m=>m in s?s[m]:1;let u=t.value.toFixed(i(t.unit));return u.indexOf(".")!==-1&&(u=u.replace(/\.?0*$/,"")),u+t.unit},f2=t=>{const i=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(t);if(i!==null){const u=parseFloat(i[1]),m=i[2];return ro.value({value:u,unit:m})}else return ro.error(t)},hS=(t,s)=>{const i={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},u=m=>Ho(i,m);return t.unit===s?P.some(t.value):u(t.unit)&&u(s)?i[t.unit]===i[s]?P.some(t.value):P.some(t.value/i[t.unit]*i[s]):P.none()},h2=t=>P.none(),$$=(t,s)=>i=>hS(i,s).map(u=>({value:u*t,unit:s})),VU=(t,s)=>{const i=f2(t).toOptional(),u=f2(s).toOptional();return id(i,u,(m,b)=>hS(m,b.unit).map(w=>b.value/w).map(w=>$$(w,b.unit)).getOr(h2)).getOr(h2)},UU=(t,s)=>{let i=h2;const u=_n("ratio-event"),m=Y=>oh(Y,{tag:"span",classes:["tox-icon","tox-lock-icon__"+Y]},s.icons),b=Ld.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:s.translate(t.label.getOr("Constrain proportions"))}},components:[m("lock"),m("unlock")],buttonBehaviours:kt([no.config({disabled:()=>!t.enabled||s.isDisabled()}),Za(),hi.config({})])}),w=Y=>({dom:{tag:"div",classes:["tox-form__group"]},components:Y}),O=Y=>Ts.parts.field({factory:Ty,inputClasses:["tox-textfield"],inputBehaviours:kt([no.config({disabled:()=>!t.enabled||s.isDisabled()}),Za(),hi.config({}),mo("size-input-events",[Dt(Hf(),(ee,se)=>{Mn(ee,u,{isField1:Y})}),Dt(jl(),(ee,se)=>{Mn(ee,Pd,{name:t.name})})])]),selectOnFocus:!1}),M=Y=>({dom:{tag:"label",classes:["tox-label"]},components:[Cr(s.translate(Y))]}),B=Ld.parts.field1(w([Ts.parts.label(M("Width")),O(!0)])),W=Ld.parts.field2(w([Ts.parts.label(M("Height")),O(!1)]));return Ld.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[B,W,w([M(U0),b])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(Y,ee,se)=>{f2(fn.getValue(Y)).each(be=>{i(be).each(Ie=>{fn.setValue(ee,qD(Ie))})})},coupledFieldBehaviours:kt([no.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:Y=>{Ld.getField1(Y).bind(Ts.getField).each(no.disable),Ld.getField2(Y).bind(Ts.getField).each(no.disable),Ld.getLock(Y).each(no.disable)},onEnabled:Y=>{Ld.getField1(Y).bind(Ts.getField).each(no.enable),Ld.getField2(Y).bind(Ts.getField).each(no.enable),Ld.getLock(Y).each(no.enable)}}),Za(),mo("size-input-events2",[Dt(u,(Y,ee)=>{const se=ee.event.isField1,be=se?Ld.getField1(Y):Ld.getField2(Y),Ie=se?Ld.getField2(Y):Ld.getField1(Y),nt=be.map(fn.getValue).getOr(""),Ue=Ie.map(fn.getValue).getOr("");i=VU(nt,Ue)})])])})},zU=(t,s,i)=>{const u=ih.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Cr(s.translate(t.label))]}),m=ih.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),b=ih.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return ih.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:t.min,maxX:t.max,getInitialValue:Ee(i.getOrThunk(()=>(Math.abs(t.max)-Math.abs(t.min))/2))},components:[u,m,b],sliderBehaviours:kt([dm.self(),jn.config({})]),onChoose:(w,O,M)=>{Mn(w,Pd,{name:t.name,value:M})}})},WU=(t,s)=>{const i=O=>({dom:{tag:"th",innerHtml:s.translate(O)}}),u=O=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Je(O,i)}]}),m=O=>({dom:{tag:"td",innerHtml:s.translate(O)}}),b=O=>({dom:{tag:"tr"},components:Je(O,m)}),w=O=>({dom:{tag:"tbody"},components:Je(O,b)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[u(t.header),w(t.cells)],behaviours:kt([hi.config({}),jn.config({})])}},B$=(t,s)=>{const i=t.label.map(se=>cv(se,s)),u=[no.config({disabled:()=>t.disabled||s.isDisabled()}),Za(),Bn.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:se=>(ss(se,nS),P.some(!0))}),mo("textfield-change",[Dt(Hc(),(se,be)=>{Mn(se,Pd,{name:t.name})}),Dt(Mv(),(se,be)=>{Mn(se,Pd,{name:t.name})})]),hi.config({})],m=t.validation.map(se=>kp.config({getRoot:be=>Lc(be.element),invalidClass:"tox-invalid",validator:{validate:be=>{const Ie=fn.getValue(be),nt=se.validator(Ie);return cl.pure(nt===!0?ro.value(Ie):ro.error(nt))},validateOnLoad:se.validateOnLoad}})).toArray(),b=t.placeholder.fold(Ee({}),se=>({placeholder:s.translate(se)})),w=t.inputMode.fold(Ee({}),se=>({inputmode:se})),O={...b,...w},M=Ts.parts.field({tag:t.multiline===!0?"textarea":"input",...t.data.map(se=>({data:se})).getOr({}),inputAttributes:O,inputClasses:[t.classname],inputBehaviours:kt(Yt([u,m])),selectOnFocus:!1,factory:Ty}),B=t.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[M]}:M,Y=(t.flex?["tox-form__group--stretched"]:[]).concat(t.maximized?["tox-form-group--maximize"]:[]),ee=[no.config({disabled:()=>t.disabled||s.isDisabled(),onDisabled:se=>{Ts.getField(se).each(no.disable)},onEnabled:se=>{Ts.getField(se).each(no.enable)}}),Za()];return eS(i,B,Y,ee)},F$=(t,s,i)=>B$({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:!t.enabled,classname:"tox-textfield",validation:P.none(),maximized:t.maximized,data:i},s),H$=(t,s,i)=>B$({name:t.name,multiline:!0,label:t.label,inputMode:P.none(),placeholder:t.placeholder,flex:!0,disabled:!t.enabled,classname:"tox-textarea",validation:P.none(),maximized:t.maximized,data:i},s),mS=(t,s)=>s.getAnimationRoot.fold(()=>t.element,i=>i(t)),uv=t=>t.dimension.property,Vy=(t,s)=>t.dimension.getDimension(s),Uy=(t,s)=>{const i=mS(t,s);zc(i,[s.shrinkingClass,s.growingClass])},jD=(t,s)=>{Ls(t.element,s.openClass),As(t.element,s.closedClass),X(t.element,uv(s),"0px"),Nt(t.element)},ZD=(t,s)=>{Ls(t.element,s.closedClass),As(t.element,s.openClass),ot(t.element,uv(s))},YD=(t,s,i,u)=>{i.setCollapsed(),X(t.element,uv(s),Vy(s,t.element)),Uy(t,s),jD(t,s),s.onStartShrink(t),s.onShrunk(t)},V$=(t,s,i,u)=>{const m=u.getOrThunk(()=>Vy(s,t.element));i.setCollapsed(),X(t.element,uv(s),m),Nt(t.element);const b=mS(t,s);Ls(b,s.growingClass),As(b,s.shrinkingClass),jD(t,s),s.onStartShrink(t)},U$=(t,s,i)=>{const u=Vy(s,t.element);(u==="0px"?YD:V$)(t,s,i,P.some(u))},z$=(t,s,i)=>{const u=mS(t,s),m=oa(u,s.shrinkingClass),b=Vy(s,t.element);ZD(t,s);const w=Vy(s,t.element);(m?()=>{X(t.element,uv(s),b),Nt(t.element)}:()=>{jD(t,s)})(),Ls(u,s.shrinkingClass),As(u,s.growingClass),ZD(t,s),X(t.element,uv(s),w),i.setExpanded(),s.onStartGrow(t)},KD=(t,s,i)=>{if(i.isExpanded()){ot(t.element,uv(s));const u=Vy(s,t.element);X(t.element,uv(s),u)}},GU=(t,s,i)=>{i.isExpanded()||z$(t,s,i)},W$=(t,s,i)=>{i.isExpanded()&&U$(t,s,i)},qU=(t,s,i)=>{i.isExpanded()&&YD(t,s,i)},jU=(t,s,i)=>i.isExpanded(),G$=(t,s,i)=>i.isCollapsed(),XD=(t,s,i)=>{const u=mS(t,s);return oa(u,s.growingClass)===!0},q$=(t,s,i)=>{const u=mS(t,s);return oa(u,s.shrinkingClass)===!0};var j$=Object.freeze({__proto__:null,refresh:KD,grow:GU,shrink:W$,immediateShrink:qU,hasGrown:jU,hasShrunk:G$,isGrowing:XD,isShrinking:q$,isTransitioning:(t,s,i)=>XD(t,s)||q$(t,s),toggleGrow:(t,s,i)=>{(i.isExpanded()?U$:z$)(t,s,i)},disableTransitions:Uy,immediateGrow:(t,s,i)=>{i.isExpanded()||(ZD(t,s),X(t.element,uv(s),Vy(s,t.element)),Uy(t,s),i.setExpanded(),s.onStartGrow(t),s.onGrown(t))}}),YU=Object.freeze({__proto__:null,exhibit:(t,s,i)=>{const u=s.expanded;return ju(u?{classes:[s.openClass],styles:{}}:{classes:[s.closedClass],styles:Uu(s.dimension.property,"0px")})},events:(t,s)=>js([qa(Lh(),(i,u)=>{u.event.raw.propertyName===t.dimension.property&&(Uy(i,t),s.isExpanded()&&ot(i.element,t.dimension.property),(s.isExpanded()?t.onGrown:t.onShrunk)(i))})])}),KU=[At("closedClass"),At("openClass"),At("shrinkingClass"),At("growingClass"),Yo("getAnimationRoot"),Ye("onShrunk"),Ye("onStartShrink"),Ye("onGrown"),Ye("onStartGrow"),We("expanded",!1),El("dimension",or("property",{width:[er("property","width"),er("getDimension",t=>ur(t)+"px")],height:[er("property","height"),er("getDimension",t=>Tn(t)+"px")]}))],XU=Object.freeze({__proto__:null,init:t=>{const s=Wn(t.expanded),i=()=>"expanded: "+s.get();return xc({isExpanded:()=>s.get()===!0,isCollapsed:()=>s.get()===!1,setCollapsed:Et(s.set,!1),setExpanded:Et(s.set,!0),readState:i})}});const $d=ya({fields:KU,name:"sliding",active:YU,apis:j$,state:XU}),Z$=t=>({isEnabled:()=>!no.isDisabled(t),setEnabled:s=>no.set(t,!s),setActive:s=>{const i=t.element;s?(As(i,"tox-tbtn--enabled"),co(i,"aria-pressed",!0)):(Ls(i,"tox-tbtn--enabled"),T(i,"aria-pressed"))},isActive:()=>oa(t.element,"tox-tbtn--enabled"),setText:s=>{Mn(t,xf,{text:s})},setIcon:s=>Mn(t,By,{icon:s})}),gS=(t,s,i,u,m=!0)=>VD({text:t.text,icon:t.icon,tooltip:t.tooltip,searchable:t.search.isSome(),role:u,fetch:(b,w)=>{const O={pattern:t.search.isSome()?P8(b):""};t.fetch(M=>{w(Fy(M,wg.CLOSE_ON_EXECUTE,i,{isHorizontalMenu:!1,search:t.search}))},O,Z$(b))},onSetup:t.onSetup,getApi:Z$,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...m?[hi.config({})]:[]]},s,i.shared),QU=(t,s,i)=>{const u=b=>w=>{const O=!w.isActive();w.setActive(O),b.storage.set(O),i.shared.getSink().each(M=>{s().getOpt(M).each(B=>{il(B.element),Mn(B,Mp,{name:b.name,value:b.storage.get()})})})},m=b=>w=>{w.setActive(b.storage.get())};return b=>{b(Je(t,w=>{const O=w.text.fold(()=>({}),M=>({text:M}));return{type:w.type,active:!1,...O,onAction:u(w),onSetup:m(w)}}))}},Y$=t=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{title:t,"aria-label":t}},components:[Cr(t)]}),m2=_n("leaf-label-event-id"),QD=({leaf:t,onLeafAction:s,visible:i,treeId:u,backstage:m})=>{const b=t.menu.map(O=>gS(O,"tox-mbtn",m,P.none(),i)),w=[Y$(t.title)];return b.each(O=>w.push(O)),qc.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(i?["tox-tree--leaf__label--visible"]:[])},components:w,role:"treeitem",action:O=>{s(t.id),O.getSystem().broadcastOn([`update-active-item-${u}`],{value:t.id})},eventOrder:{[na()]:[m2,"keying"]},buttonBehaviours:kt([...i?[hi.config({})]:[],So.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),bu.config({channels:{[`update-active-item-${u}`]:{onReceive:(O,M)=>{(M.value===t.id?So.on:So.off)(O)}}}}),mo(m2,[Dt(na(),(O,M)=>{const B=M.event.raw.code==="ArrowLeft",W=M.event.raw.code==="ArrowRight";B?(xl(O.element,".tox-tree--directory").each(Y=>{O.getSystem().getByDom(Y).each(ee=>{Xf(Y,".tox-tree--directory__label").each(se=>{ee.getSystem().getByDom(se).each(jn.focus)})})}),M.stop()):W&&M.stop()})])])})},JU=(t,s,i)=>oh(t,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:i},s),ez=(t,s)=>JU(t,s,[]),cw=_n("directory-label-event-id"),JD=({directory:t,visible:s,noChildren:i,backstage:u})=>{const m=t.menu.map(O=>gS(O,"tox-mbtn",u,P.none())),b=[{dom:{tag:"div",classes:["tox-chevron"]},components:[ez("chevron-right",u.shared.providers.icons)]},Y$(t.title)];m.each(O=>{b.push(O)});const w=O=>{xl(O.element,".tox-tree--directory").each(M=>{O.getSystem().getByDom(M).each(B=>So.toggle(B))})};return qc.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(s?["tox-tree--directory__label--visible"]:[])},components:b,action:w,eventOrder:{[na()]:[cw,"keying"]},buttonBehaviours:kt([...s?[hi.config({})]:[],mo(cw,[Dt(na(),(O,M)=>{const B=M.event.raw.code==="ArrowRight",W=M.event.raw.code==="ArrowLeft";B&&i&&M.stop(),(B||W)&&xl(O.element,".tox-tree--directory").each(Y=>{O.getSystem().getByDom(Y).each(ee=>{!So.isOn(ee)&&B||So.isOn(ee)&&W?(w(O),M.stop()):W&&!So.isOn(ee)&&(xl(ee.element,".tox-tree--directory").each(se=>{Xf(se,".tox-tree--directory__label").each(be=>{ee.getSystem().getByDom(be).each(jn.focus)})}),M.stop())})})})])])})},tz=({children:t,onLeafAction:s,visible:i,treeId:u,backstage:m})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:t.map(b=>b.type==="leaf"?QD({leaf:b,onLeafAction:s,visible:i,treeId:u,backstage:m}):eN({directory:b,onLeafAction:s,labelTabstopping:i,treeId:u,backstage:m})),behaviours:kt([$d.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking"}),lo.config({})])}),eN=({directory:t,onLeafAction:s,labelTabstopping:i,treeId:u,backstage:m})=>{const{children:b}=t,w=O=>b.map(M=>M.type==="leaf"?QD({leaf:M,onLeafAction:s,visible:O,treeId:u,backstage:m}):eN({directory:M,onLeafAction:s,labelTabstopping:O,treeId:u,backstage:m}));return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[JD({directory:t,visible:i,noChildren:t.children.length===0,backstage:m}),tz({children:b,onLeafAction:s,visible:!1,treeId:u,backstage:m})],behaviours:kt([So.config({...t.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(O,M)=>{const B=O.components()[1],W=w(M);M?$d.grow(B):$d.shrink(B),lo.set(B,W)}})])}},tN=(t,s)=>{const i=t.onLeafAction.getOr(oe),u=_n("tree-id"),m=t.items.map(b=>b.type==="leaf"?QD({leaf:b,onLeafAction:i,visible:!0,treeId:u,backstage:s}):eN({directory:b,onLeafAction:i,labelTabstopping:!0,treeId:u,backstage:s}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:m,behaviours:kt([Bn.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1})])}};var nN=Object.freeze({__proto__:null,events:(t,s)=>{const u=t.stream.streams.setup(t,s);return js([Dt(t.event,u),Ac(()=>s.cancel())].concat(t.cancelEvent.map(m=>[Dt(m,()=>s.cancel())]).getOr([])))}});const K$=(t,s)=>{let i=null;return{cancel:()=>{ie(i)||(clearTimeout(i),i=null)},throttle:(...b)=>{ie(i)&&(i=setTimeout(()=>{i=null,t.apply(null,b)},s))}}},oN=(t,s)=>{let i=null;const u=()=>{ie(i)||(clearTimeout(i),i=null)};return{cancel:u,throttle:(...b)=>{u(),i=setTimeout(()=>{i=null,t.apply(null,b)},s)}}},X$=t=>{const s=Wn(null);return xc({readState:()=>({timer:s.get()!==null?"set":"unset"}),setTimer:b=>{s.set(b)},cancel:()=>{const b=s.get();b!==null&&b.cancel()}})};var Q$=Object.freeze({__proto__:null,throttle:X$,init:t=>t.stream.streams.state(t)});const oz=(t,s)=>{const i=t.stream,u=oN(t.onStream,i.delay);return s.setTimer(u),(m,b)=>{u.throttle(m,b),i.stopEvent&&b.stop()}};var J$=[El("stream",or("mode",{throttle:[At("delay"),We("stopEvent",!0),er("streams",{setup:oz,state:X$})]})),We("event","input"),Yo("cancelEvent"),Qm("onStream")];const g2=ya({fields:J$,name:"streaming",active:nN,state:Q$}),p2=(t,s,i)=>{const u=fn.getValue(i);fn.setValue(s,u),rN(s)},sN=(t,s)=>{const i=t.element,u=Kl(i),m=i.dom;Mi(i,"type")!=="number"&&s(m,u)},rN=t=>{sN(t,(s,i)=>s.setSelectionRange(i.length,i.length))},e3=(t,s)=>{sN(t,(i,u)=>i.setSelectionRange(s,u.length))},sz=(t,s,i)=>{if(t.selectsOver){const u=fn.getValue(s),m=t.getDisplayText(u),b=fn.getValue(i);return t.getDisplayText(b).indexOf(m)===0?P.some(()=>{p2(t,s,i),e3(s,m.length)}):P.none()}else return P.none()},iN=Ee("alloy.typeahead.itemexecute"),rz=(t,s,i,u)=>{const m=(Y,ee,se)=>{t.previewing.set(!1);const be=Ai.getCoupled(Y,"sandbox");if(Uo.isOpen(be))Xo.getCurrent(be).each(Ie=>{ms.getHighlighted(Ie).fold(()=>{se(Ie)},()=>{i0(be,Ie.element,"keydown",ee)})});else{const Ie=nt=>{Xo.getCurrent(nt).each(se)};Vx(t,w(Y),Y,be,u,Ie,Su.HighlightMenuAndItem).get(oe)}},b=YP(t),w=Y=>ee=>ee.map(se=>{const be=yh(se.menus),Ie=mt(be,Ue=>uo(Ue.items,tt=>tt.type==="item"));return fn.getState(Y).update(Je(Ie,Ue=>Ue.data)),se}),O=Y=>Xo.getCurrent(Y),M="typeaheadevents",B=[jn.config({}),fn.config({onSetValue:t.onSetValue,store:{mode:"dataset",getDataKey:Y=>Kl(Y.element),getFallbackEntry:Y=>({value:Y,meta:{}}),setValue:(Y,ee)=>{Zu(Y.element,t.model.getDisplayText(ee))},...t.initialData.map(Y=>Uu("initialValue",Y)).getOr({})}}),g2.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:(Y,ee)=>{const se=Ai.getCoupled(Y,"sandbox");if(jn.isFocused(Y)&&Kl(Y.element).length>=t.minChars){const Ie=O(se).bind(Ue=>ms.getHighlighted(Ue).map(fn.getValue));t.previewing.set(!0);const nt=Ue=>{O(se).each(tt=>{Ie.fold(()=>{t.model.selectsOver&&ms.highlightFirst(tt)},ut=>{ms.highlightBy(tt,pt=>fn.getValue(pt).value===ut.value),ms.getHighlighted(tt).orThunk(()=>(ms.highlightFirst(tt),P.none()))})})};Vx(t,w(Y),Y,se,u,nt,Su.HighlightJustMenu).get(oe)}},cancelEvent:f1()}),Bn.config({mode:"special",onDown:(Y,ee)=>(m(Y,ee,ms.highlightFirst),P.some(!0)),onEscape:Y=>{const ee=Ai.getCoupled(Y,"sandbox");return Uo.isOpen(ee)?(Uo.close(ee),P.some(!0)):P.none()},onUp:(Y,ee)=>(m(Y,ee,ms.highlightLast),P.some(!0)),onEnter:Y=>{const ee=Ai.getCoupled(Y,"sandbox"),se=Uo.isOpen(ee);if(se&&!t.previewing.get())return O(ee).bind(be=>ms.getHighlighted(be)).map(be=>(Mn(Y,iN(),{item:be}),!0));{const be=fn.getValue(Y);return ss(Y,f1()),t.onExecute(ee,Y,be),se&&Uo.close(ee),P.some(!0)}}}),So.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),Ai.config({others:{sandbox:Y=>XC(t,Y,{onOpen:()=>So.on(Y),onClose:()=>So.off(Y)})}}),mo(M,[Tr(Y=>{t.lazyTypeaheadComp.set(P.some(Y))}),Ac(Y=>{t.lazyTypeaheadComp.set(P.none())}),Zl(Y=>{const ee=oe;rD(t,w(Y),Y,u,ee,Su.HighlightMenuAndItem).get(oe)}),Dt(iN(),(Y,ee)=>{const se=Ai.getCoupled(Y,"sandbox");p2(t.model,Y,ee.event.item),ss(Y,f1()),t.onItemExecute(Y,se,ee.event.item,fn.getValue(Y)),Uo.close(se),rN(Y)})].concat(t.dismissOnBlur?[Dt(Nv(),Y=>{const ee=Ai.getCoupled(Y,"sandbox");Xl(ee.element).isNone()&&Uo.close(ee)})]:[]))],W={[Wu()]:[fn.name(),g2.name(),M],...t.eventOrder};return{uid:t.uid,dom:KP(Js(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...b,...kr(t.typeaheadBehaviours,B)},eventOrder:W}},t3=Ee([Yo("lazySink"),At("fetch"),We("minChars",5),We("responseTime",1e3),Ye("onOpen"),We("getHotspot",P.some),We("getAnchorOverrides",Ee({})),We("layouts",P.none()),We("eventOrder",{}),Nh("model",{},[We("getDisplayText",t=>t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value),We("selectsOver",!0),We("populateFromBrowse",!0)]),Ye("onSetValue"),Sr("onExecute"),Ye("onItemExecute"),We("inputClasses",[]),We("inputAttributes",{}),We("inputStyles",{}),We("matchWidth",!0),We("useMinWidth",!1),We("dismissOnBlur",!0),vu(["openClass"]),Yo("initialData"),ja("typeaheadBehaviours",[jn,fn,g2,Bn,So,Ai]),ys("lazyTypeaheadComp",()=>Wn(P.none)),ys("previewing",()=>Wn(!0))].concat(ZP()).concat(aD())),iz=Ee([_f({schema:[Sd()],name:"menu",overrides:t=>({fakeFocus:!0,onHighlightItem:(s,i,u)=>{t.previewing.get()?t.lazyTypeaheadComp.get().each(m=>{sz(t.model,m,u).fold(()=>{t.model.selectsOver?(ms.dehighlight(i,u),t.previewing.set(!0)):t.previewing.set(!1)},b=>{b(),t.previewing.set(!1)})}):t.lazyTypeaheadComp.get().each(m=>{t.model.populateFromBrowse&&p2(t.model,m,u)})},onExecute:(s,i)=>t.lazyTypeaheadComp.get().map(u=>(Mn(u,iN(),{item:i}),!0)),onHover:(s,i)=>{t.previewing.set(!1),t.lazyTypeaheadComp.get().each(u=>{t.model.populateFromBrowse&&p2(t.model,u,i)})}})})]),n3=Si({name:"Typeahead",configFields:t3(),partFields:iz(),factory:rz}),hm=t=>({...t,toCached:()=>hm(t.toCached()),bindFuture:M=>hm(t.bind(B=>B.fold(W=>cl.pure(ro.error(W)),W=>M(W)))),bindResult:M=>hm(t.map(B=>B.bind(M))),mapResult:M=>hm(t.map(B=>B.map(M))),mapError:M=>hm(t.map(B=>B.mapError(M))),foldResult:(M,B)=>t.map(W=>W.fold(M,B)),withTimeout:(M,B)=>hm(cl.nu(W=>{let Y=!1;const ee=setTimeout(()=>{Y=!0,W(ro.error(B()))},M);t.get(se=>{Y||(clearTimeout(ee),W(se))})}))}),o3=t=>hm(cl.nu(t)),v2=t=>hm(cl.pure(ro.value(t))),cz={nu:o3,wrap:hm,pure:v2,value:v2,error:t=>hm(cl.pure(ro.error(t))),fromResult:t=>hm(cl.pure(t)),fromFuture:t=>hm(t.map(ro.value)),fromPromise:t=>o3(s=>{t.then(i=>{s(ro.value(i))},i=>{s(ro.error(i))})})},pS=(t,s,i=[],u,m,b)=>{const w=s.fold(()=>({}),B=>({action:B})),O={buttonBehaviours:kt([im.button(()=>!t.enabled||b.isDisabled()),Za(),hi.config({}),mo("button press",[Lv("click"),Lv("mousedown")])].concat(i)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...w},M=Js(O,{dom:u});return Js(M,{components:m})},lz=(t,s,i,u=[])=>{const m=t.tooltip.map(M=>({"aria-label":i.translate(M),title:i.translate(M)})).getOr({}),b={tag:"button",classes:["tox-tbtn"],attributes:m},w=t.icon.map(M=>$y(M,i.icons)),O=YE([w]);return pS(t,s,u,b,O,i)},b2=t=>{switch(t){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},s3=(t,s,i,u=[],m=[])=>{const b=i.translate(t.text),w=t.icon.map(ee=>$y(ee,i.icons)),O=[w.getOrThunk(()=>Cr(b))],M=t.buttonType.getOr(!t.primary&&!t.borderless?"secondary":"primary"),Y={tag:"button",classes:[...b2(M),...w.isSome()?["tox-button--icon"]:[],...t.borderless?["tox-button--naked"]:[],...m],attributes:{title:b}};return pS(t,s,u,Y,O,i)},r3=(t,s,i,u=[],m=[])=>{const b=s3(t,P.some(s),i,u,m);return qc.sketch(b)},i3=(t,s)=>i=>{s==="custom"?Mn(i,Mp,{name:t,value:{}}):s==="submit"?ss(i,nS):s==="cancel"?ss(i,My):console.error("Unknown button type: ",s)},uz=(t,s)=>s==="menu",a3=(t,s)=>s==="custom"||s==="cancel"||s==="submit",dz=(t,s)=>s==="togglebutton",fz=(t,s)=>{var i,u,m;const b=P.from(t.icon).map(tt=>fm(tt,s.icons)).map(zo),w=tt=>{Mn(tt,Mp,{name:t.name,value:{setIcon:ut=>{b.map(pt=>pt.getOpt(tt).each(Qt=>{lo.set(Qt,[fm(ut,s.icons)])}))}}})},O={...t,name:(i=t.name)!==null&&i!==void 0?i:"",primary:t.buttonType==="primary",buttonType:P.from(t.buttonType),tooltip:P.from(t.tooltip),icon:P.from(t.name),enabled:(u=t.enabled)!==null&&u!==void 0?u:!1,borderless:!1},M=O.tooltip.map(tt=>({"aria-label":s.translate(tt),title:s.translate(tt)})).getOr({}),B=b2((m=t.buttonType)!==null&&m!==void 0?m:"secondary"),W=!!t.icon&&!!t.text,Y={tag:"button",classes:[...B.concat(["tox-button--icon"]),...t.active?["tox-button--enabled"]:[],...W?["tox-button--icon-and-text"]:[]],attributes:M},ee=[],se=s.translate(t.text),be=Cr(se),nt=[...YE([b.map(tt=>tt.asSpec())]),...W?[be]:[]],Ue=pS(O,P.some(w),ee,Y,nt,s);return qc.sketch(Ue)},vS=(t,s,i)=>{if(uz(t,s)){const u=()=>w,m=t,b={...t,type:"menubutton",search:P.none(),onSetup:O=>(O.setEnabled(t.enabled),oe),fetch:QU(m.items,u,i)},w=zo(gS(b,"tox-tbtn",i,P.none()));return w.asSpec()}else if(a3(t,s)){const u=i3(t.name,s),m={...t,borderless:!1};return r3(m,u,i.shared.providers,[])}else if(dz(t,s)){const u={...t,tooltip:t.tooltip,text:t.text.getOrUndefined(),buttonType:t.buttonType.getOrUndefined()};return fz(u,i.shared.providers)}else throw console.error("Unknown footer button type: ",s),new Error("Unknown footer button type")},hz=(t,s)=>{const i=i3(t.name,"custom");return N4(P.none(),Ts.parts.field({factory:qc,...s3(t,P.some(i),s,[Oi.memory(""),dm.self()])}))},mz={type:"separator"},gz=t=>({type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:oe}),y2=(t,s)=>({type:"menuitem",value:s,text:t,meta:{attach:void 0},onAction:oe}),pz=t=>Je(t,gz),vz=(t,s)=>uo(s,i=>i.type===t),aN=(t,s)=>pz(vz(t,s)),c3=t=>aN("header",t.targets),l3=t=>aN("anchor",t.targets),_2=t=>P.from(t.anchorTop).map(s=>y2("<top>",s)).toArray(),bz=t=>P.from(t.anchorBottom).map(s=>y2("<bottom>",s)).toArray(),yz=t=>Je(t,s=>y2(s,s)),_z=t=>ps(t,(s,i)=>s.length===0||i.length===0?s.concat(i):s.concat(mz,i),[]),cN=(t,s)=>{const i=t.toLowerCase();return uo(s,u=>{var m;const b=u.meta!==void 0&&u.meta.text!==void 0?u.meta.text:u.text,w=(m=u.value)!==null&&m!==void 0?m:"";return Ki(b.toLowerCase(),i)||Ki(w.toLowerCase(),i)})},u3=(t,s,i)=>{const u=fn.getValue(s),m=u.meta.text!==void 0?u.meta.text:u.value;return i.getLinkInformation().fold(()=>[],w=>{const O=cN(m,yz(i.getHistory(t)));return t==="file"?_z([O,cN(m,c3(w)),cN(m,Yt([_2(w),l3(w),bz(w)]))]):O})},lN=_n("aria-invalid"),Ez=(t,s,i,u)=>{const m=s.shared.providers,b=tt=>{const ut=fn.getValue(tt);i.addToHistory(ut.value,t.filetype)},w={...u.map(tt=>({initialData:tt})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":lN,type:"url"},minChars:0,responseTime:0,fetch:tt=>{const ut=u3(t.filetype,tt,i),pt=Fy(ut,wg.BUBBLE_TO_SANDBOX,s,{isHorizontalMenu:!1,search:P.none()});return cl.pure(pt)},getHotspot:tt=>be.getOpt(tt),onSetValue:(tt,ut)=>{tt.hasConfigured(kp)&&kp.run(tt).get(oe)},typeaheadBehaviours:kt([...i.getValidationHandler().map(tt=>kp.config({getRoot:ut=>Lc(ut.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(ut,pt)=>{W.getOpt(ut).each(Qt=>{co(Qt.element,"title",m.translate(pt))})}},validator:{validate:ut=>{const pt=fn.getValue(ut);return cz.nu(Qt=>{tt({type:t.filetype,url:pt.value},Pt=>{if(Pt.status==="invalid"){const ln=ro.error(Pt.message);Qt(ln)}else{const ln=ro.value(Pt.message);Qt(ln)}})})},validateOnLoad:!1}})).toArray(),no.config({disabled:()=>!t.enabled||m.isDisabled()}),hi.config({}),mo("urlinput-events",[Dt(Hc(),tt=>{const ut=Kl(tt.element),pt=ut.trim();pt!==ut&&Zu(tt.element,pt),t.filetype==="file"&&Mn(tt,Pd,{name:t.name})}),Dt(jl(),tt=>{Mn(tt,Pd,{name:t.name}),b(tt)}),Dt(Mv(),tt=>{Mn(tt,Pd,{name:t.name}),b(tt)})])]),eventOrder:{[Hc()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:tt=>tt.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:s.shared.getSink,parts:{menu:gx(!1,1,"normal")},onExecute:(tt,ut,pt)=>{Mn(ut,nS,{})},onItemExecute:(tt,ut,pt,Qt)=>{b(tt),Mn(tt,Pd,{name:t.name})}},O=Ts.parts.field({...w,factory:n3}),M=t.label.map(tt=>cv(tt,m)),W=zo(((tt,ut,pt=tt,Qt=tt)=>oh(pt,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+tt],attributes:{title:m.translate(Qt),"aria-live":"polite",...ut.fold(()=>({}),Pt=>({id:Pt}))}},m.icons))("invalid",P.some(lN),"warning")),Y=zo({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[W.asSpec()]}),ee=i.getUrlPicker(t.filetype),se=_n("browser.url.event"),be=zo({dom:{tag:"div",classes:["tox-control-wrap"]},components:[O,Y.asSpec()],behaviours:kt([no.config({disabled:()=>!t.enabled||m.isDisabled()})])}),Ie=zo(r3({name:t.name,icon:P.some("browse"),text:t.label.getOr(""),enabled:t.enabled,primary:!1,buttonType:P.none(),borderless:!0},tt=>ss(tt,se),m,[],["tox-browse-url"])),nt=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Yt([[be.asSpec()],ee.map(()=>Ie.asSpec()).toArray()])}),Ue=tt=>{Xo.getCurrent(tt).each(ut=>{const pt=fn.getValue(ut),Qt={fieldname:t.name,...pt};ee.each(Pt=>{Pt(Qt).get(ln=>{fn.setValue(ut,ln),Mn(tt,Pd,{name:t.name})})})})};return Ts.sketch({dom:M4(),components:M.toArray().concat([nt()]),fieldBehaviours:kt([no.config({disabled:()=>!t.enabled||m.isDisabled(),onDisabled:tt=>{Ts.getField(tt).each(no.disable),Ie.getOpt(tt).each(no.disable)},onEnabled:tt=>{Ts.getField(tt).each(no.enable),Ie.getOpt(tt).each(no.enable)}}),Za(),mo("url-input-events",[Dt(se,Ue)])])})},wz=(t,s)=>am.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${t.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[qc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:hP(t.icon,s.icons),attributes:{title:s.translate(t.iconTooltip)}},action:i=>{Mn(i,Mp,{name:"alert-banner",value:t.url})},buttonBehaviours:kt([wC()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:s.translate(t.text)}}]}),d3=(t,s)=>{t.dom.checked=s},Tz=t=>t.dom.checked,Cz=(t,s,i)=>{const u=M=>(M.element.dom.click(),P.some(!0)),m=Ts.parts.field({factory:{sketch:Ze},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:kt([dm.self(),no.config({disabled:()=>!t.enabled||s.isDisabled()}),hi.config({}),jn.config({}),Oi.withElement(i,Tz,d3),Bn.config({mode:"special",onEnter:u,onSpace:u,stopSpaceKeyup:!0}),mo("checkbox-events",[Dt(jl(),(M,B)=>{Mn(M,Pd,{name:t.name})})])])}),b=Ts.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Cr(s.translate(t.label))],behaviours:kt([oS.config({})])}),w=M=>oh(M==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+M]},s.icons),O=zo({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[w("checked"),w("unchecked")]});return Ts.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[m,O.asSpec(),b],fieldBehaviours:kt([no.config({disabled:()=>!t.enabled||s.isDisabled(),disableClass:"tox-checkbox--disabled",onDisabled:M=>{Ts.getField(M).each(no.disable)},onEnabled:M=>{Ts.getField(M).each(no.enable)}}),Za()])})},Co=t=>t.presets==="presentation"?am.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):am.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:kt([hi.config({}),jn.config({})])}),ji=t=>(s,i,u,m)=>an(i,"name").fold(()=>t(i,m,P.none()),b=>s.field(b,t(i,m,an(u,b)))),f3=t=>(s,i,u,m)=>{const b=Js(i,{source:"dynamic"});return ji(t)(s,b,u,m)},h3={bar:ji((t,s)=>t7(t,s.shared)),collection:ji((t,s,i)=>a7(t,s.shared.providers,i)),alertbanner:ji((t,s)=>wz(t,s.shared.providers)),input:ji((t,s,i)=>F$(t,s.shared.providers,i)),textarea:ji((t,s,i)=>H$(t,s.shared.providers,i)),label:ji((t,s)=>d2(t,s.shared)),iframe:f3((t,s,i)=>OU(t,s.shared.providers,i)),button:ji((t,s)=>hz(t,s.shared.providers)),checkbox:ji((t,s,i)=>Cz(t,s.shared.providers,i)),colorinput:ji((t,s,i)=>g7(t,s.shared,s.colorinput,i)),colorpicker:ji((t,s,i)=>TU(t,s.shared.providers,i)),dropzone:ji((t,s,i)=>Bp(t,s.shared.providers,i)),grid:ji((t,s)=>BD(t,s.shared)),listbox:ji((t,s,i)=>$U(t,s,i)),selectbox:ji((t,s,i)=>HU(t,s.shared.providers,i)),sizeinput:ji((t,s)=>UU(t,s.shared.providers)),slider:ji((t,s,i)=>zU(t,s.shared.providers,i)),urlinput:ji((t,s,i)=>Ez(t,s,s.urlinput,i)),customeditor:ji(SU),htmlpanel:ji(Co),imagepreview:ji((t,s,i)=>Fp(t,i)),table:ji((t,s)=>WU(t,s.shared.providers)),tree:ji((t,s)=>tN(t,s)),panel:ji((t,s)=>BU(t,s))},m3={field:(t,s)=>s,record:Ee([])},uN=(t,s,i,u)=>{const m=Js(u,{shared:{interpreter:b=>E2(t,b,i,m)}});return E2(t,s,i,m)},E2=(t,s,i,u)=>an(h3,s.type).fold(()=>(console.error(`Unknown factory type "${s.type}", defaulting to container: `,s),s),m=>m(t,s,i,u)),Sz=(t,s,i)=>E2(m3,t,s,i),mm="layout-inset",dN=t=>t.x,fN=(t,s)=>t.x+t.width/2-s.width/2,hN=(t,s)=>t.x+t.width-s.width,mN=t=>t.y,gN=(t,s)=>t.y+t.height-s.height,pN=(t,s)=>t.y+t.height/2-s.height/2,lw=(t,s,i)=>sa(hN(t,s),gN(t,s),i.insetSouthwest(),A1(),"southwest",va(t,{right:0,bottom:3}),mm),bS=(t,s,i)=>sa(dN(t),gN(t,s),i.insetSoutheast(),Yv(),"southeast",va(t,{left:1,bottom:3}),mm),yS=(t,s,i)=>sa(hN(t,s),mN(t),i.insetNorthwest(),qh(),"northwest",va(t,{right:0,top:2}),mm),_S=(t,s,i)=>sa(dN(t),mN(t),i.insetNortheast(),Jm(),"northeast",va(t,{left:1,top:2}),mm),Vp=(t,s,i)=>sa(fN(t,s),mN(t),i.insetNorth(),Oc(),"north",va(t,{top:2}),mm),ES=(t,s,i)=>sa(fN(t,s),gN(t,s),i.insetSouth(),x1(),"south",va(t,{bottom:3}),mm),g3=(t,s,i)=>sa(hN(t,s),pN(t,s),i.insetEast(),O1(),"east",va(t,{right:0}),mm),vN=(t,s,i)=>sa(dN(t),pN(t,s),i.insetWest(),C0(),"west",va(t,{left:1}),mm),Az=t=>{switch(t){case"north":return Vp;case"northeast":return _S;case"northwest":return yS;case"south":return ES;case"southeast":return bS;case"southwest":return lw;case"east":return g3;case"west":return vN}},p3=(t,s,i,u,m)=>pp(u).map(Az).getOr(Vp)(t,s,i,u,m),xz=t=>{switch(t){case"north":return ES;case"northeast":return bS;case"northwest":return lw;case"south":return Vp;case"southeast":return _S;case"southwest":return yS;case"east":return vN;case"west":return g3}},Oz=(t,s,i,u,m)=>pp(u).map(xz).getOr(Vp)(t,s,i,u,m),v3={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},Rz=(t,s,i)=>{const m={maxHeightFunction:Zh()},b=()=>({type:"node",root:Ni(xa(t())),node:P.from(t()),bubble:Od(12,12,v3),layouts:{onRtl:()=>[_S],onLtr:()=>[yS]},overrides:m}),w=()=>({type:"hotspot",hotspot:s(),bubble:Od(-12,12,v3),layouts:{onRtl:()=>[ba,Ui,ka],onLtr:()=>[Ui,ba,ka]},overrides:m});return()=>i()?b():w()},Iz=(t,s,i)=>{const u=()=>({type:"node",root:Ni(xa(t())),node:P.from(t()),layouts:{onRtl:()=>[Vp],onLtr:()=>[Vp]}}),m=()=>({type:"hotspot",hotspot:s(),layouts:{onRtl:()=>[ka],onLtr:()=>[ka]}});return()=>i()?u():m()},Dz=(t,s)=>()=>({type:"selection",root:s(),getSelection:()=>{const i=t.selection.getRng();return P.some(th.range(Xe.fromDom(i.startContainer),i.startOffset,Xe.fromDom(i.endContainer),i.endOffset))}}),Nz=t=>s=>({type:"node",root:t(),node:s}),Mz=(t,s,i)=>{const u=Ey(t),m=()=>Xe.fromDom(t.getBody()),b=()=>Xe.fromDom(t.getContentAreaContainer()),w=()=>u||!i();return{inlineDialog:Rz(b,s,w),banner:Iz(b,s,w),cursor:Dz(t,m),node:Nz(m)}},kz=t=>(s,i)=>{JI(t)(s,i)},b3=t=>()=>ZI(t),Pz=t=>s=>QE(t,s),Lz=t=>s=>Hx(t,s),$z=t=>({colorPicker:kz(t),hasCustomColors:b3(t),getColors:Pz(t),getColorCols:Lz(t)}),Bz=t=>()=>IP(t),Fz=t=>({isDraggableModal:Bz(t)}),Hz=t=>{const s=Wn(dI(t)?"bottom":"top");return{isPositionedAtTop:()=>s.get()==="top",getDockingMode:s.get,setDockingMode:s.set}},bN=t=>ca(t,"items"),y3=t=>ca(t,"format"),yN=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],Vz=t=>Ho(t,"items"),_3=t=>Ho(t,"block"),E3=t=>Ho(t,"inline"),w3=t=>Ho(t,"selector"),T3=t=>ps(t,(s,i)=>{if(Vz(i)){const u=T3(i.items);return{customFormats:s.customFormats.concat(u.customFormats),formats:s.formats.concat([{title:i.title,items:u.formats}])}}else if(E3(i)||_3(i)||w3(i)){const m=`custom-${U(i.name)?i.name:i.title.toLowerCase()}`;return{customFormats:s.customFormats.concat([{name:m,format:i}]),formats:s.formats.concat([{title:i.title,format:m,icon:i.icon}])}}else return{...s,formats:s.formats.concat(i)}},{customFormats:[],formats:[]}),C3=(t,s)=>{const i=T3(s),u=m=>{It(m,b=>{t.formatter.has(b.name)||t.formatter.register(b.name,b.format)})};return t.formatter?u(i.customFormats):t.on("init",()=>{u(i.customFormats)}),i.formats},_N=t=>yP(t).map(s=>{const i=C3(t,s);return _P(t)?yN.concat(i):i}).getOr(yN),Uz=t=>{const s=Os(t);return s.length===1&&vo(s,"title")},EN=(t,s,i)=>({...t,type:"formatter",isSelected:s(t.format),getStylePreview:i(t.format)}),S3=(t,s,i,u)=>{const m=M=>EN(M,i,u),b=M=>{const B=O(M.items);return{...M,type:"submenu",getStyleItems:Ee(B)}},w=M=>{const B=U(M.name)?M.name:_n(M.title),W=`custom-${B}`,Y={...M,type:"formatter",format:W,isSelected:i(W),getStylePreview:u(W)};return t.formatter.register(B,Y),Y},O=M=>Je(M,B=>bN(B)?b(B):y3(B)?m(B):Uz(B)?{...B,type:"separator"}:w(B));return O(s)},zz=t=>{const s=O=>()=>t.formatter.match(O),i=O=>()=>{const M=t.formatter.get(O);return M!==void 0?P.some({tag:M.length>0&&(M[0].inline||M[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(O))}):P.none()},u=Wn([]),m=Wn([]),b=Wn(!1);return t.on("PreInit",O=>{const M=_N(t),B=S3(t,M,s,i);u.set(B)}),t.on("addStyleModifications",O=>{const M=S3(t,O.items,s,i);m.set(M),b.set(O.replace)}),{getData:()=>{const O=b.get()?[]:u.get(),M=m.get();return O.concat(M)}}},Og=t=>fe(t)&&t.nodeType===1,w2=Ly.trim,wS=t=>s=>!!(Og(s)&&(s.contentEditable===t||s.getAttribute("data-mce-contenteditable")===t)),Wz=wS("true"),wN=wS("false"),A3=(t,s,i,u,m)=>({type:t,title:s,url:i,level:u,attach:m}),TN=t=>{let s=t;for(;s=s.parentNode;){const i=s.contentEditable;if(i&&i!=="inherit")return Wz(s)}return!1},x3=(t,s)=>Je(Gi(Xe.fromDom(s),t),i=>i.dom),T2=t=>t.innerText||t.textContent,Gz=t=>t.id?t.id:_n("h"),O3=t=>t&&t.nodeName==="A"&&(t.id||t.name)!==void 0,R3=t=>O3(t)&&I3(t),C2=t=>t&&/^(H[1-6])$/.test(t.nodeName),I3=t=>TN(t)&&!wN(t),qz=t=>C2(t)&&I3(t),D3=t=>C2(t)?parseInt(t.nodeName.substr(1),10):0,jz=t=>{var s;const i=Gz(t),u=()=>{t.id=i};return A3("header",(s=T2(t))!==null&&s!==void 0?s:"","#"+i,D3(t),u)},Zz=t=>{const s=t.id||t.name,i=T2(t);return A3("anchor",i||"#"+s,"#"+s,0,oe)},N3=t=>Je(uo(t,qz),jz),M3=t=>Je(uo(t,R3),Zz),Yz=t=>x3("h1,h2,h3,h4,h5,h6,a:not([href])",t),Kz=t=>w2(t.title).length>0,Xz={find:t=>{const s=Yz(t);return uo(N3(s).concat(M3(s)),Kz)}},TS="tinymce-url-history",gm=5,S2=t=>U(t)&&/^https?/.test(t),Qz=t=>Q(t)&&t.length<=gm&&pi(t,S2),k3=t=>G(t)&&bi(t,s=>!Qz(s)).isNone(),P3=()=>{const t=Dy.getItem(TS);if(t===null)return{};let s;try{s=JSON.parse(t)}catch(i){if(i instanceof SyntaxError)return console.log("Local storage "+TS+" was not valid JSON",i),{};throw i}return k3(s)?s:(console.log("Local storage "+TS+" was not valid format",s),{})},Jz=t=>{if(!k3(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));Dy.setItem(TS,JSON.stringify(t))},eW=t=>{const s=P3();return an(s,t).getOr([])},L3=(t,s)=>{if(!S2(t))return;const i=P3(),u=an(i,s).getOr([]),m=uo(u,b=>b!==t);i[s]=[t].concat(m).slice(0,gm),Jz(i)},CN=t=>!!t,fK=t=>Ms(Ly.makeMap(t,/[, ]/),CN),$3=t=>P.from(AP(t)),ll=t=>{const s=P.from(fx(t)).filter(CN).map(fK);return $3(t).fold(wt,i=>s.fold(Ot,u=>Os(u).length>0?u:!1))},SN=(t,s)=>{const i=ll(t);return _e(i)?i?$3(t):P.none():i[s]?$3(t):P.none()},tW=(t,s)=>SN(t,s).map(i=>u=>cl.nu(m=>{const b=(O,M)=>{if(!U(O))throw new Error("Expected value to be string");if(M!==void 0&&!G(M))throw new Error("Expected meta to be a object");m({value:O,meta:M})},w={filetype:s,fieldname:u.fieldname,...P.from(u.meta).getOr({})};i.call(t,b,u.value,w)})),CS=t=>P.from(t).filter(U).getOrUndefined(),nW=t=>OP(t)?P.some({targets:Xz.find(t.getBody()),anchorTop:CS(OC(t)),anchorBottom:CS(RP(t))}):P.none(),oW=t=>P.from(xP(t)),sW=t=>({getHistory:eW,addToHistory:L3,getLinkInformation:()=>nW(t),getValidationHandler:()=>oW(t),getUrlPicker:s=>tW(t,s)}),rW=(t,s,i)=>{const u=Wn(!1),m=Hz(s),b={icons:()=>s.ui.registry.getAll().icons,menuItems:()=>s.ui.registry.getAll().menuItems,translate:Tf.translate,isDisabled:()=>s.mode.isReadOnly()||!s.ui.isEnabled(),getOption:s.options.get},w=sW(s),O=zz(s),M=$z(s),B=Fz(s),W=()=>u.get(),Y=Ie=>u.set(Ie),ee={shared:{providers:b,anchors:Mz(s,i,m.isPositionedAtTop),header:m},urlinput:w,styles:O,colorinput:M,dialog:B,isContextMenuOpen:W,setContextMenuState:Y},se={...ee,shared:{...ee.shared,interpreter:Ie=>Sz(Ie,{},se),getSink:t.popup}},be={...ee,shared:{...ee.shared,interpreter:Ie=>Sz(Ie,{},be),getSink:t.dialog}};return{popup:se,dialog:be}},iW=(t,s,i)=>{const u=(Pt,ln)=>{It([s,...i],xn=>{xn.broadcastEvent(Pt,ln)})},m=(Pt,ln)=>{It([s,...i],xn=>{xn.broadcastOn([Pt],ln)})},b=Pt=>m(hg(),{target:Pt.target}),w=so(),O=Dc(w,"touchstart",b),M=Dc(w,"touchmove",Pt=>u(g_(),Pt)),B=Dc(w,"touchend",Pt=>u(sl(),Pt)),W=Dc(w,"mousedown",b),Y=Dc(w,"mouseup",Pt=>{Pt.raw.button===0&&m(OT(),{target:Pt.target})}),ee=Pt=>m(hg(),{target:Xe.fromDom(Pt.target)}),se=Pt=>{Pt.button===0&&m(OT(),{target:Xe.fromDom(Pt.target)})},be=()=>{It(t.editorManager.get(),Pt=>{t!==Pt&&Pt.dispatch("DismissPopups",{relatedTarget:t})})},Ie=Pt=>u(zu(),Z_(Pt)),nt=Pt=>{m(mb(),{}),u(Uf(),Z_(Pt))},Ue=xa(Xe.fromDom(t.getElement())),tt=L1(Ue,"scroll",Pt=>{requestAnimationFrame(()=>{const ln=t.getContainer();if(ln!=null){const $o=xi(t,s.element).map(Fn=>[Fn.element,...Fn.others]).getOr([]);Bo($o,Fn=>bs(Fn,Pt.target))&&(t.dispatch("ElementScroll",{target:Pt.target.dom}),u(r0(),Pt))}})}),ut=()=>m(mb(),{}),pt=Pt=>{Pt.state&&m(hg(),{target:Xe.fromDom(t.getContainer())})},Qt=Pt=>{m(hg(),{target:Xe.fromDom(Pt.relatedTarget.getContainer())})};t.on("PostRender",()=>{t.on("click",ee),t.on("tap",ee),t.on("mouseup",se),t.on("mousedown",be),t.on("ScrollWindow",Ie),t.on("ResizeWindow",nt),t.on("ResizeEditor",ut),t.on("AfterProgressState",pt),t.on("DismissPopups",Qt)}),t.on("remove",()=>{t.off("click",ee),t.off("tap",ee),t.off("mouseup",se),t.off("mousedown",be),t.off("ScrollWindow",Ie),t.off("ResizeWindow",nt),t.off("ResizeEditor",ut),t.off("AfterProgressState",pt),t.off("DismissPopups",Qt),W.unbind(),O.unbind(),M.unbind(),B.unbind(),Y.unbind(),tt.unbind()}),t.on("detach",()=>{It([s,...i],EA),It([s,...i],Pt=>Pt.destroy())})},mc=eC,Up=PA,aW=Ee([We("shell",!1),At("makeItem"),We("setupItem",oe),yf.field("listBehaviours",[lo])]),A2=Dd({name:"items",overrides:()=>({behaviours:kt([lo.config({})])})}),lW=Ee([A2]),B3=Ee("CustomList"),uW=(t,s,i,u)=>{const m=(O,M)=>{w(O).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},B=>{const W=lo.contents(B),Y=M.length,ee=Y-W.length,se=ee>0?ao(ee,()=>t.makeItem()):[],be=W.slice(Y);It(be,nt=>lo.remove(B,nt)),It(se,nt=>lo.append(B,nt));const Ie=lo.contents(B);It(Ie,(nt,Ue)=>{t.setupItem(O,nt,M[Ue],Ue)})})},b=t.shell?{behaviours:[lo.config({})],components:[]}:{behaviours:[],components:s},w=O=>t.shell?P.some(O):rr(O,t,"items");return{uid:t.uid,dom:t.dom,components:b.components,behaviours:kr(t.listBehaviours,b.behaviours),apis:{setItems:m}}},AN=Si({name:B3(),configFields:aW(),partFields:lW(),factory:uW,apis:{setItems:(t,s,i)=>{t.setItems(s,i)}}}),uw=Ee([At("dom"),We("shell",!0),ja("toolbarBehaviours",[lo])]),F3=Ee([Dd({name:"groups",overrides:()=>({behaviours:kt([lo.config({})])})})]),mK=(t,s,i,u)=>{const m=(O,M)=>{b(O).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},B=>{lo.set(B,M)})},b=O=>t.shell?P.some(O):rr(O,t,"groups"),w=t.shell?{behaviours:[lo.config({})],components:[]}:{behaviours:[],components:s};return{uid:t.uid,dom:t.dom,components:w.components,behaviours:kr(t.toolbarBehaviours,w.behaviours),apis:{setGroups:m},domModification:{attributes:{role:"group"}}}},zp=Si({name:"Toolbar",configFields:uw(),partFields:F3(),factory:mK,apis:{setGroups:(t,s,i)=>{t.setGroups(s,i)}}}),dW=oe,fW=wt,H3=Ee([]);var V3=Object.freeze({__proto__:null,setup:dW,isDocked:fW,getBehaviours:H3});const SS=t=>(pc(st(t,"position"),"fixed")?P.none():Th(t)).orThunk(()=>{const u=Xe.fromTag("span");return _c(t).bind(m=>{Pe(m,u);const b=Th(u);return Ct(u),b})}),U3=t=>SS(t).map(xo).getOrThunk(()=>Kn(0,0)),hW=(t,s)=>{const i=t.element;As(i,s.transitionClass),Ls(i,s.fadeOutClass),As(i,s.fadeInClass),s.onShow(t)},z3=(t,s)=>{const i=t.element;As(i,s.transitionClass),Ls(i,s.fadeInClass),As(i,s.fadeOutClass),s.onHide(t)},mW=(t,s)=>t.y<s.bottom&&t.bottom>s.y,W3=(t,s)=>t.y>=s.y,G3=(t,s)=>t.bottom<=s.bottom,xN=(t,s,i)=>({location:"top",leftX:s,topY:i.bounds.y-t.y}),AS=(t,s,i)=>({location:"bottom",leftX:s,bottomY:t.bottom-i.bounds.bottom}),x2=t=>t.box.x-t.win.x,gW=(t,s,i)=>{const u=s.win,m=s.box,b=x2(s);return nr(t,w=>{switch(w){case"bottom":return G3(m,i.bounds)?P.none():P.some(AS(u,b,i));case"top":return W3(m,i.bounds)?P.none():P.some(xN(u,b,i));default:return P.none()}}).getOr({location:"no-dock"})},pW=(t,s,i)=>pi(t,u=>{switch(u){case"bottom":return G3(s,i.bounds);case"top":return W3(s,i.bounds)}}),vW=(t,s)=>{const i=s.optScrollEnv.fold(Ee(t.bounds.y),u=>u.scrollElmTop+(t.bounds.y-u.currentScrollTop));return Kn(t.bounds.x,i)},bW=(t,s)=>{const i=s.optScrollEnv.fold(Ee(t.y),u=>t.y+u.currentScrollTop-u.scrollElmTop);return Kn(t.x,i)},O2=(t,s,i)=>i.getInitialPos().map(u=>{const m=vW(u,s);return{box:Ps(m.left,m.top,ur(t),Tn(t)),location:u.location}}),q3=(t,s,i,u,m)=>{const b=bW(s,i),w=Ps(b.left,b.top,s.width,s.height);u.setInitialPos({style:yt(t),position:pe(t,"position")||"static",bounds:w,location:m.location})},R2=(t,s,i,u,m)=>{u.getInitialPos().fold(()=>q3(t,s,i,u,m),()=>oe)},j3=(t,s,i)=>i.getInitialPos().bind(u=>{var m;switch(i.clearInitialPos(),u.position){case"static":return P.some({morph:"static"});case"absolute":const b=SS(t).getOr(Qi()),w=es(b),O=(m=b.dom.scrollTop)!==null&&m!==void 0?m:0;return P.some({morph:"absolute",positionCss:Ic("absolute",an(u.style,"left").map(M=>s.x-w.x),an(u.style,"top").map(M=>s.y-w.y+O),an(u.style,"right").map(M=>w.right-s.right),an(u.style,"bottom").map(M=>w.bottom-s.bottom))});default:return P.none()}}),I2=(t,s,i)=>O2(t,s,i).filter(({box:u})=>pW(i.getModes(),u,s)).bind(({box:u})=>j3(t,u,i)),ON=t=>{switch(t.location){case"top":return P.some({morph:"fixed",positionCss:Ic("fixed",P.some(t.leftX),P.some(t.topY),P.none(),P.none())});case"bottom":return P.some({morph:"fixed",positionCss:Ic("fixed",P.some(t.leftX),P.none(),P.none(),P.some(t.bottomY))});default:return P.none()}},RN=(t,s,i)=>{const u=es(t),m=Da(),b=gW(i.getModes(),{win:m,box:u},s);return b.location==="top"||b.location==="bottom"?(q3(t,u,s,i,b),ON(b)):P.none()},xS=(t,s,i)=>I2(t,s,i).orThunk(()=>s.optScrollEnv.bind(u=>O2(t,s,i)).bind(({box:u,location:m})=>{const b=Da(),w=x2({win:b,box:u}),O=m==="top"?xN(b,w,s):AS(b,w,s);return ON(O)})),Z3=(t,s,i)=>{const u=t.element;return pc(st(u,"position"),"fixed")?xS(u,s,i):RN(u,s,i)},yW=(t,s,i)=>{const u=t.element;return O2(u,s,i).bind(({box:m})=>j3(u,m,i))},Y3=(t,s,i,u)=>{const m=es(t),b=Da(),w=x2({win:b,box:m}),O=u(b,w,s);return O.location==="bottom"||O.location==="top"?(R2(t,m,s,i,O),ON(O)):P.none()},IN=(t,s,i)=>{i.setDocked(!1),It(["left","right","top","bottom","position"],u=>ot(t.element,u)),s.onUndocked(t)},D2=(t,s,i,u)=>{const m=u.position==="fixed";i.setDocked(m),tb(t.element,u),(m?s.onDocked:s.onUndocked)(t)},K3=(t,s,i,u,m=!1)=>{s.contextual.each(b=>{b.lazyContext(t).each(w=>{const O=mW(w,u.bounds);O!==i.isVisible()&&(i.setVisible(O),m&&!O?(pu(t.element,[b.fadeOutClass]),b.onHide(t)):(O?hW:z3)(t,b))})})},N2=(t,s,i,u,m)=>{K3(t,s,i,u,!0),D2(t,s,i,m.positionCss)},M2=(t,s,i,u,m)=>{switch(m.morph){case"static":return IN(t,s,i);case"absolute":return D2(t,s,i,m.positionCss);case"fixed":return N2(t,s,i,u,m)}},_W=(t,s,i)=>{const u=s.lazyViewport(t);K3(t,s,i,u),Z3(t,u,i).each(m=>{M2(t,s,i,u,m)})},EW=(t,s,i)=>{const u=t.element;i.setDocked(!1);const m=s.lazyViewport(t);yW(t,m,i).each(b=>{switch(b.morph){case"static":{IN(t,s,i);break}case"absolute":{D2(t,s,i,b.positionCss);break}}}),i.setVisible(!0),s.contextual.each(b=>{zc(u,[b.fadeInClass,b.fadeOutClass,b.transitionClass]),b.onShow(t)}),dv(t,s,i)},dv=(t,s,i)=>{t.getSystem().isConnected()&&_W(t,s,i)},DN=(t,s,i)=>{i.isDocked()&&EW(t,s,i)},X3=t=>(s,i,u)=>{const m=i.lazyViewport(s);Y3(s.element,m,u,t).each(w=>{N2(s,i,u,m,w)})},Q3=X3(xN),NN=X3(AS);var wW=Object.freeze({__proto__:null,refresh:dv,reset:DN,isDocked:(t,s,i)=>i.isDocked(),getModes:(t,s,i)=>i.getModes(),setModes:(t,s,i,u)=>i.setModes(u),forceDockToTop:Q3,forceDockToBottom:NN}),TW=Object.freeze({__proto__:null,events:(t,s)=>js([qa(Lh(),(i,u)=>{t.contextual.each(m=>{oa(i.element,m.transitionClass)&&(zc(i.element,[m.transitionClass,m.fadeInClass]),(s.isVisible()?m.onShown:m.onHidden)(i)),u.stop()})}),Dt(zu(),(i,u)=>{dv(i,t,s)}),Dt(r0(),(i,u)=>{dv(i,t,s)}),Dt(Uf(),(i,u)=>{DN(i,t,s)})])}),CW=[dn("contextual",[Wr("fadeInClass"),Wr("fadeOutClass"),Wr("transitionClass"),ic("lazyContext"),Ye("onShow"),Ye("onShown"),Ye("onHide"),Ye("onHidden")]),Ti("lazyViewport",()=>({bounds:Da(),optScrollEnv:P.none()})),l1("modes",["top","bottom"],Dr),Ye("onDocked"),Ye("onUndocked")],SW=Object.freeze({__proto__:null,init:t=>{const s=Wn(!1),i=Wn(!0),u=Zs(),m=Wn(t.modes),b=()=>`docked:  ${s.get()}, visible: ${i.get()}, modes: ${m.get().join(",")}`;return xc({isDocked:s.get,setDocked:s.set,getInitialPos:u.get,setInitialPos:u.set,clearInitialPos:u.clear,isVisible:i.get,setVisible:i.set,getModes:m.get,setModes:m.set,readState:b})}});const $a=ya({fields:CW,name:"docking",active:TW,apis:wW,state:SW}),MN=Ee(_n("toolbar-height-change")),Wp={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},kN="tox-tinymce--toolbar-sticky-on",tB="tox-tinymce--toolbar-sticky-off",OS=(t,s)=>{const i=ri(s),m=Iu(s).dom.innerHeight,b=Xt(i),w=Xe.fromDom(t.elm),O=gl(w),M=Tn(w),B=O.y,W=B+M,Y=xo(s),ee=Tn(s),se=Y.top,be=se+ee,Ie=Math.abs(se-b.top)<2,nt=Math.abs(be-(b.top+m))<2;if(Ie&&B<be)An(b.left,B-ee,i);else if(nt&&W>se){const Ue=B-m+M+ee;An(b.left,Ue,i)}},PN=(t,s)=>vo($a.getModes(t),s),LN=t=>{const s=u=>lr(u)+(parseInt(pe(u,"margin-top"),10)||0)+(parseInt(pe(u,"margin-bottom"),10)||0),i=t.element;Lc(i).each(u=>{const m="padding-"+$a.getModes(t)[0];if($a.isDocked(t)){const b=ur(u);X(i,"width",b+"px"),X(u,m,s(i)+"px")}else ot(i,"width"),ot(u,m)})},k2=(t,s)=>{s?(Ls(t,Wp.fadeOutClass),pu(t,[Wp.transitionClass,Wp.fadeInClass])):(Ls(t,Wp.fadeInClass),pu(t,[Wp.fadeOutClass,Wp.transitionClass]))},$N=(t,s)=>{const i=Xe.fromDom(t.getContainer());s?(As(i,kN),Ls(i,tB)):(As(i,tB),Ls(i,kN))},AW=(t,s)=>{const i=ri(s);xd(i).filter(u=>!bs(s,u)).filter(u=>bs(u,Xe.fromDom(i.dom.body))||ec(t,u)).each(()=>il(s))},xW=(t,s)=>Xl(t).orThunk(()=>s().toOptional().bind(i=>Xl(i.element))),OW=(t,s,i)=>{t.inline||(s.header.isPositionedAtTop()||t.on("ResizeEditor",()=>{i().each($a.reset)}),t.on("ResizeWindow ResizeEditor",()=>{i().each(LN)}),t.on("SkinLoaded",()=>{i().each(u=>{$a.isDocked(u)?$a.reset(u):$a.refresh(u)})}),t.on("FullscreenStateChanged",()=>{i().each($a.reset)})),t.on("AfterScrollIntoView",u=>{i().each(m=>{$a.refresh(m);const b=m.element;fi(b)&&OS(u,b)})}),t.on("PostRender",()=>{$N(t,!1)})},RW=t=>t().map($a.isDocked).getOr(!1),IW=()=>[bu.config({channels:{[MN()]:{onReceive:LN}}})],nB=(t,s)=>{const i=Zs(),u=s.getSink,m=O=>{u().each(M=>O(M.element))},b=O=>{t.inline||LN(O),$N(t,$a.isDocked(O)),O.getSystem().broadcastOn([mb()],{}),u().each(M=>M.getSystem().broadcastOn([mb()],{}))},w=t.inline?[]:IW();return[jn.config({}),$a.config({contextual:{lazyContext:O=>{const M=lr(O.element),B=t.inline?t.getContentAreaContainer():t.getContainer();return P.from(B).map(W=>{const Y=es(Xe.fromDom(W));return xi(t,O.element).fold(()=>{const se=Y.height-M,be=Y.y+(PN(O,"top")?0:M);return Ps(Y.x,be,Y.width,se)},se=>{const be=Am(Y,Wx(se));return Ps(be.x,be.y,be.width,be.height-M)})})},onShow:()=>{m(O=>k2(O,!0))},onShown:O=>{m(M=>zc(M,[Wp.transitionClass,Wp.fadeInClass])),i.get().each(M=>{AW(O.element,M),i.clear()})},onHide:O=>{xW(O.element,u).fold(i.clear,i.set),m(M=>k2(M,!1))},onHidden:()=>{m(O=>zc(O,[Wp.transitionClass]))},...Wp},lazyViewport:O=>xi(t,O.element).fold(()=>{const B=Da(),W=CP(t),Y=B.y+(PN(O,"top")?W:0),ee=B.height-(PN(O,"bottom")?W:0);return{bounds:Ps(B.x,Y,B.width,ee),optScrollEnv:P.none()}},B=>({bounds:Wx(B),optScrollEnv:P.some({currentScrollTop:B.element.dom.scrollTop,scrollElmTop:xo(B.element).top})})),modes:[s.header.getDockingMode()],onDocked:b,onUndocked:b}),...w]};var DW=Object.freeze({__proto__:null,setup:OW,isDocked:RW,getBehaviours:nB});const NW=t=>{const s=t.editor,i=t.sticky?nB:H3;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:kt(i(s,t.sharedBackstage))}},MW=Pn([ia,El("items",Dm([qg([SI,Bi("items",Dr)]),Dr]))].concat(qE)),oB=t=>ts("GroupToolbarButton",MW,t),BN=[ae("text"),ae("tooltip"),ae("icon"),Gr("search",!1,Dm([vd,Pn([ae("placeholder")])],t=>_e(t)?t?P.some({placeholder:P.none()}):P.none():P.some(t))),ic("fetch"),Ti("onSetup",()=>oe)],P2=Pn([ia,...BN]),sB=t=>ts("menubutton",P2,t),kW=Pn([ia,wx,sm,iv,_V,AI,Cy,Hr("presets","normal",["normal","color","listpreview"]),RI(1),Ib,xI]),PW=t=>ts("SplitButton",kW,t);var zy=qi({factory:(t,s)=>{const i=(m,b)=>{const w=Je(b,O=>{const M={type:"menubutton",text:O.text,fetch:W=>{W(O.getItems())}},B=sB(M).mapError(W=>Cc(W)).getOrDie();return gS(B,"tox-mbtn",s.backstage,P.some("menuitem"))});lo.set(m,w)},u={focus:Bn.focusIn,setMenus:i};return{uid:t.uid,dom:t.dom,components:[],behaviours:kt([lo.config({}),mo("menubar-events",[Tr(m=>{t.onSetup(m)}),Dt(nf(),(m,b)=>{Nr(m.element,".tox-mbtn--active").each(w=>{ff(b.event.target,".tox-mbtn").each(O=>{bs(w,O)||m.getSystem().getByDom(w).each(M=>{m.getSystem().getByDom(O).each(B=>{td.expand(B),td.close(M),jn.focus(B)})})})})}),Dt(h1(),(m,b)=>{b.event.prevFocus.bind(w=>m.getSystem().getByDom(w).toOptional()).each(w=>{b.event.newFocus.bind(O=>m.getSystem().getByDom(O).toOptional()).each(O=>{td.isOpen(w)&&(td.expand(O),td.close(w))})})})]),Bn.config({mode:"flow",selector:".tox-mbtn",onEscape:m=>(t.onEscape(m),P.some(!0))}),hi.config({})]),apis:u,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[At("dom"),At("uid"),At("onEscape"),At("backstage"),We("onSetup",oe)],apis:{focus:(t,s)=>{t.focus(s)},setMenus:(t,s,i)=>{t.setMenus(s,i)}}});const L2="⚡️Upgrade",FN="https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_source=TinyMCE&utm_medium=SPAP&utm_campaign=SPAP&utm_id=editorreferral",LW=t=>({uid:t.uid,dom:t.dom,components:[{dom:{tag:"a",attributes:{href:FN,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:L2}}]}),rB="container",$W=[ja("slotBehaviours",[])],iB=t=>"<alloy.field."+t+">",aB=t=>{const s=(()=>{const b=[];return{slot:(O,M)=>(b.push(O),GT(rB,iB(O),M)),record:Ee(b)}})(),i=t(s),u=s.record(),m=Je(u,b=>La({name:b,pname:iB(b)}));return tC(rB,$W,m,cB,i)},cB=(t,s)=>{const i=Ie=>KT(t),u=(Ie,nt)=>rr(Ie,t,nt),m=(Ie,nt)=>(Ue,tt)=>rr(Ue,t,tt).map(ut=>Ie(ut,tt)).getOr(nt),b=Ie=>(nt,Ue)=>{It(Ue,tt=>Ie(nt,tt))},w=(Ie,nt)=>Mi(Ie.element,"aria-hidden")!=="true",O=(Ie,nt)=>{if(!w(Ie)){const Ue=Ie.element;ot(Ue,"display"),T(Ue,"aria-hidden"),Mn(Ie,zf(),{name:nt,visible:!0})}},M=(Ie,nt)=>{if(w(Ie)){const Ue=Ie.element;X(Ue,"display","none"),co(Ue,"aria-hidden","true"),Mn(Ie,zf(),{name:nt,visible:!1})}},B=m(w,!1),W=m(M),Y=b(W),ee=Ie=>Y(Ie,i()),se=m(O),be={getSlotNames:i,getSlot:u,isShowing:B,hideSlot:W,hideAllSlots:ee,showSlot:se};return{uid:t.uid,dom:t.dom,components:s,behaviours:wE(t.slotBehaviours),apis:be}},Nl={...Ms({getSlotNames:(t,s)=>t.getSlotNames(s),getSlot:(t,s,i)=>t.getSlot(s,i),isShowing:(t,s,i)=>t.isShowing(s,i),hideSlot:(t,s,i)=>t.hideSlot(s,i),hideAllSlots:(t,s)=>t.hideAllSlots(s),showSlot:(t,s,i)=>t.showSlot(s,i)},t=>b1(t)),sketch:aB},$2=Pn([sm,wx,Ti("onShow",oe),Ti("onHide",oe),Cy]),B2=t=>ts("sidebar",$2,t),BW=t=>{const{sidebars:s}=t.ui.registry.getAll();It(Os(s),i=>{const u=s[i],m=()=>pc(P.from(t.queryCommandValue("ToggleSidebar")),i);t.ui.registry.addToggleButton(i,{icon:u.icon,tooltip:u.tooltip,onAction:b=>{t.execCommand("ToggleSidebar",!1,i),b.setActive(m())},onSetup:b=>{b.setActive(m());const w=()=>b.setActive(m());return t.on("ToggleSidebar",w),()=>{t.off("ToggleSidebar",w)}}})})},FW=t=>({element:()=>t.element.dom}),HW=(t,s)=>{const i=Je(Os(s),u=>{const m=s[u],b=Po(B2(m));return{name:u,getApi:FW,onSetup:b.onSetup,onShow:b.onShow,onHide:b.onHide}});return Je(i,u=>{const m=Wn(oe);return t.slot(u.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:BC.unnamedEvents([Nb(u,m),Oy(u,m),Dt(zf(),(b,w)=>{const O=w.event;kn(i,B=>B.name===O.name).each(B=>{(O.visible?B.onShow:B.onHide)(B.getApi(b))})})])})})},VW=t=>Nl.sketch(s=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:HW(s,t),slotBehaviours:BC.unnamedEvents([Tr(i=>Nl.hideAllSlots(i))])})),HN=(t,s,i)=>{Xo.getCurrent(t).each(m=>{lo.set(m,[VW(s)]);const b=i==null?void 0:i.toLowerCase();U(b)&&Ho(s,b)&&Xo.getCurrent(m).each(w=>{Nl.showSlot(w,b),$d.immediateGrow(m),ot(m.element,"width"),dw(t.element,"region")})})},dw=(t,s)=>{co(t,"role",s)},VN=(t,s)=>{Xo.getCurrent(t).each(u=>{Xo.getCurrent(u).each(b=>{$d.hasGrown(u)?Nl.isShowing(b,s)?($d.shrink(u),dw(t.element,"presentation")):(Nl.hideAllSlots(b),Nl.showSlot(b,s),dw(t.element,"region")):(Nl.hideAllSlots(b),Nl.showSlot(b,s),$d.grow(u),dw(t.element,"region"))})})},UW=t=>Xo.getCurrent(t).bind(i=>$d.isGrowing(i)||$d.hasGrown(i)?Xo.getCurrent(i).bind(b=>kn(Nl.getSlotNames(b),w=>Nl.isShowing(b,w))):P.none()),RS=_n("FixSizeEvent"),UN=_n("AutoSizeEvent"),zW=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:kt([hi.config({}),jn.config({}),$d.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:s=>{Xo.getCurrent(s).each(Nl.hideAllSlots),ss(s,UN)},onGrown:s=>{ss(s,UN)},onStartGrow:s=>{Mn(s,RS,{width:st(s.element,"width").getOr("")})},onStartShrink:s=>{Mn(s,RS,{width:ur(s.element)+"px"})}}),lo.config({}),Xo.config({find:s=>{const i=lo.contents(s);return Rr(i)}})])}],behaviours:kt([dm.childAt(0),mo("sidebar-sliding-events",[Dt(RS,(s,i)=>{X(s.element,"width",i.event.width)}),Dt(UN,(s,i)=>{ot(s.element,"width")})])])});var WW=Object.freeze({__proto__:null,block:(t,s,i,u)=>{co(t.element,"aria-busy",!0);const m=s.getRoot(t).getOr(t),b=kt([Bn.config({mode:"special",onTab:()=>P.some(!0),onShiftTab:()=>P.some(!0)}),jn.config({})]),w=u(m,b),O=m.getSystem().build(w);lo.append(m,rl(O)),O.hasConfigured(Bn)&&s.focus&&Bn.focusIn(O),i.isBlocked()||s.onBlock(t),i.blockWith(()=>lo.remove(m,O))},unblock:(t,s,i)=>{T(t.element,"aria-busy"),i.isBlocked()&&s.onUnblock(t),i.clear()}}),GW=[Ti("getRoot",P.none),li("focus",!0),Ye("onBlock"),Ye("onUnblock")],wK=Object.freeze({__proto__:null,init:()=>{const t=rb(),s=i=>{t.set({destroy:i})};return xc({readState:t.isSet,blockWith:s,clear:t.clear,isBlocked:t.isSet})}});const Bb=ya({fields:GW,name:"blocking",apis:WW,state:wK}),lB=t=>{const s=t.dom.attributes!==void 0?t.dom.attributes:[];return ps(s,(i,u)=>u.name==="class"?i:{...i,[u.name]:u.value},{})},qW=t=>Array.prototype.slice.call(t.dom.classList,0),fv=t=>{const s=Xe.fromHtml(t),i=tc(s),u=lB(s),m=qW(s),b=i.length===0?{}:{innerHtml:Oo(s)};return{tag:Ja(s),classes:m,attributes:u,...b}},jW=t=>(s,i)=>({dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:fv('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),uB=t=>Xo.getCurrent(t).each(s=>il(s.element)),ZW=(t,s)=>{const i="tabindex",u=`data-mce-${i}`;P.from(t.iframeElement).map(Xe.fromDom).each(m=>{s?(Kr(m,i).each(b=>co(m,u,b)),co(m,i,-1)):(T(m,i),Kr(m,u).each(b=>{co(m,i,b),T(m,u)}))})},YW=(t,s,i,u)=>{const m=s.element;if(ZW(t,i),i)Bb.block(s,jW(u)),ot(m,"display"),T(m,"aria-hidden"),t.hasFocus()&&uB(s);else{const b=Xo.getCurrent(s).exists(w=>k1(w.element));Bb.unblock(s),X(m,"display","none"),co(m,"aria-hidden","true"),b&&t.focus()}},KW=t=>({uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:kt([lo.config({}),Bb.config({focus:!1}),Xo.config({find:s=>Rr(s.components())})]),components:[]}),dB=t=>t.type==="focusin",XW=t=>dB(t)?(t.composed?Rr(t.composedPath()):P.from(t.target)).map(Xe.fromDom).filter(Cs).exists(i=>oa(i,"mce-pastebin")):!1,QW=(t,s,i)=>{const u=Wn(!1),m=Zs(),b=O=>{u.get()&&!XW(O)&&(O.preventDefault(),uB(s()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",()=>{t.dom.bind(t.getWin(),"focusin",b),t.on("BeforeExecCommand",O=>{O.command.toLowerCase()==="mcefocus"&&O.value!==!0&&b(O)})});const w=O=>{O!==u.get()&&(u.set(O),YW(t,s(),O,i.providers),WL(t,O))};t.on("ProgressState",O=>{if(m.on(clearTimeout),De(O.time)){const M=Eg.setEditorTimeout(t,()=>w(O.state),O.time);m.set(M)}else w(O.state),m.clear()})},JW=(t,s)=>ps(t,(m,b)=>s(b,m.len).fold(Ee(m),O=>({len:O.finish,list:m.list.concat([O])})),{len:0,list:[]}).list,fB=(t,s,i)=>({within:t,extra:s,withinWidth:i}),e9=(t,s,i)=>{const u=JW(t,(O,M)=>{const B=i(O);return P.some({element:O,start:M,finish:M+B,width:B})}),m=uo(u,O=>O.finish<=s),b=Bt(m,(O,M)=>O+M.width,0),w=u.slice(m.length);return{within:m,extra:w,withinWidth:b}},IS=t=>Je(t,s=>s.element),hB=(t,s,i)=>{const u=IS(t.concat(s));return fB(u,[],i)},t9=(t,s,i,u)=>{const m=IS(t).concat([i]);return fB(m,IS(s),u)},n9=(t,s,i)=>fB(IS(t),[],i),ah=(t,s,i)=>{const u=e9(s,t,i);return u.extra.length===0?P.some(u):P.none()},o9=(t,s,i,u)=>{const m=ah(t,s,i).getOrThunk(()=>e9(s,t-i(u),i)),b=m.within,w=m.extra,O=m.withinWidth;return w.length===1&&w[0].width<=i(u)?hB(b,w,O):w.length>=1?t9(b,w,u,O):n9(b,w,O)},zN=(t,s)=>{const i=Je(s,u=>rl(u));zp.setGroups(t,i)},mB=t=>nr(t,s=>Xl(s.element).bind(i=>s.getSystem().getByDom(i).toOptional())),gB=(t,s,i)=>{const u=s.builtGroups.get();if(u.length===0)return;const m=nm(t,s,"primary"),b=Ai.getCoupled(t,"overflowGroup");X(m.element,"visibility","hidden");const w=u.concat([b]),O=mB(w);i([]),zN(m,w);const M=ur(m.element),B=o9(M,s.builtGroups.get(),W=>ur(W.element),b);B.extra.length===0?(lo.remove(m,b),i([])):(zN(m,B.within),i(B.extra)),ot(m.element,"visibility"),Nt(m.element),O.each(jn.focus)},fw=Ee([ja("splitToolbarBehaviours",[Ai]),ys("builtGroups",()=>Wn([]))]),s9=Ee([vu(["overflowToggledClass"]),Ft("getOverflowBounds"),At("lazySink"),ys("overflowGroups",()=>Wn([])),Ye("onOpened"),Ye("onClosed")].concat(fw())),H2=Ee([La({factory:zp,schema:uw(),name:"primary"}),_f({schema:uw(),name:"overflow"}),_f({name:"overflow-button"}),_f({name:"overflow-group"})]),WN=Ee((t,s)=>{Bc(t,Math.floor(s))}),V2=Ee([vu(["toggledClass"]),At("lazySink"),ic("fetch"),Ft("getBounds"),dn("fireDismissalEventInstead",[We("event",gu())]),Rd(),Ye("onToggled")]),r9=Ee([_f({name:"button",overrides:t=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:kt([So.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:t.onToggled})])})}),_f({factory:zp,schema:uw(),name:"toolbar",overrides:t=>({toolbarBehaviours:kt([Bn.config({mode:"cyclic",onEscape:s=>(rr(s,t,"button").each(jn.focus),P.none())})])})})]),Bd=Zs(),i9=(t,s)=>{Bd.set(!0),hw(t,s),Bd.clear()},hw=(t,s)=>{const i=Ai.getCoupled(t,"toolbarSandbox");Uo.isOpen(i)?Uo.close(i):Uo.open(i,s.toolbar())},U2=(t,s,i,u)=>{const m=i.getBounds.map(w=>w()),b=i.lazySink(t).getOrDie();Ws.positionWithinBounds(b,s,{anchor:{type:"hotspot",hotspot:t,layouts:u,overrides:{maxWidthFunction:WN()}}},m)},pB=(t,s,i,u,m)=>{zp.setGroups(s,m),U2(t,s,i,u),So.on(t)},a9=(t,s,i)=>{const u=N_(),m=(w,O)=>{const M=Bd.get().getOr(!1);i.fetch().get(B=>{pB(t,O,i,s.layouts,B),u.link(t.element),M||Bn.focusIn(O)})},b=()=>{So.off(t),Bd.get().getOr(!1)||jn.focus(t),u.unlink(t.element)};return{dom:{tag:"div",attributes:{id:u.id}},behaviours:kt([Bn.config({mode:"special",onEscape:w=>(Uo.close(w),P.some(!0))}),Uo.config({onOpen:m,onClose:b,isPartOf:(w,O,M)=>Km(O,M)||Km(t,M),getAttachPoint:()=>i.lazySink(t).getOrDie()}),bu.config({channels:{...oy({isExtraPart:wt,...i.fireDismissalEventInstead.map(w=>({fireEventInstead:{event:w.event}})).getOr({})}),...Y1({doReposition:()=>{Uo.getState(Ai.getCoupled(t,"toolbarSandbox")).each(w=>{U2(t,w,i,s.layouts)})}})}})])}},Fb=Si({name:"FloatingToolbarButton",factory:(t,s,i,u)=>({...qc.sketch({...u.button(),action:m=>{hw(m,u)},buttonBehaviours:yf.augment({dump:u.button().buttonBehaviours},[Ai.config({others:{toolbarSandbox:m=>a9(m,i,t)}})])}),apis:{setGroups:(m,b)=>{Uo.getState(Ai.getCoupled(m,"toolbarSandbox")).each(w=>{pB(m,w,t,i.layouts,b)})},reposition:m=>{Uo.getState(Ai.getCoupled(m,"toolbarSandbox")).each(b=>{U2(m,b,t,i.layouts)})},toggle:m=>{hw(m,u)},toggleWithoutFocusing:m=>{i9(m,u)},getToolbar:m=>Uo.getState(Ai.getCoupled(m,"toolbarSandbox")),isOpen:m=>Uo.isOpen(Ai.getCoupled(m,"toolbarSandbox"))}}),configFields:V2(),partFields:r9(),apis:{setGroups:(t,s,i)=>{t.setGroups(s,i)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggleWithoutFocusing(s)},getToolbar:(t,s)=>t.getToolbar(s),isOpen:(t,s)=>t.isOpen(s)}}),c9=Ee([At("items"),vu(["itemSelector"]),ja("tgroupBehaviours",[Bn])]),l9=Ee([ly({name:"items",unit:"item"})]),u9=(t,s,i,u)=>({uid:t.uid,dom:t.dom,components:s,behaviours:kr(t.tgroupBehaviours,[Bn.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),DS=Si({name:"ToolbarGroup",configFields:c9(),partFields:l9(),factory:u9}),GN=t=>Je(t,s=>rl(s)),qN=(t,s,i)=>{gB(t,i,u=>{i.overflowGroups.set(u),s.getOpt(t).each(m=>{Fb.setGroups(m,GN(u))})})},d9=(t,s,i,u)=>{const m=zo(Fb.sketch({fetch:()=>cl.nu(b=>{b(GN(t.overflowGroups.get()))}),layouts:{onLtr:()=>[Ui,ba],onRtl:()=>[ba,Ui],onBottomLtr:()=>[Ol,Wc],onBottomRtl:()=>[Wc,Ol]},getBounds:i.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:u["overflow-button"](),toolbar:u.overflow()},onToggled:(b,w)=>t[w?"onOpened":"onClosed"](b)}));return{uid:t.uid,dom:t.dom,components:s,behaviours:kr(t.splitToolbarBehaviours,[Ai.config({others:{overflowGroup:()=>DS.sketch({...u["overflow-group"](),items:[m.asSpec()]})}})]),apis:{setGroups:(b,w)=>{t.builtGroups.set(Je(w,b.getSystem().build)),qN(b,m,t)},refresh:b=>qN(b,m,t),toggle:b=>{m.getOpt(b).each(w=>{Fb.toggle(w)})},toggleWithoutFocusing:b=>{m.getOpt(b).each(Fb.toggleWithoutFocusing)},isOpen:b=>m.getOpt(b).map(Fb.isOpen).getOr(!1),reposition:b=>{m.getOpt(b).each(w=>{Fb.reposition(w)})},getOverflow:b=>m.getOpt(b).bind(Fb.getToolbar)},domModification:{attributes:{role:"group"}}}},jN=Si({name:"SplitFloatingToolbar",configFields:s9(),partFields:H2(),factory:d9,apis:{setGroups:(t,s,i)=>{t.setGroups(s,i)},refresh:(t,s)=>{t.refresh(s)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s),getOverflow:(t,s)=>t.getOverflow(s)}}),f9=Ee([vu(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Ye("onOpened"),Ye("onClosed")].concat(fw())),h9=Ee([La({factory:zp,schema:uw(),name:"primary"}),La({factory:zp,schema:uw(),name:"overflow",overrides:t=>({toolbarBehaviours:kt([$d.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:s=>{rr(s,t,"overflow-button").each(i=>{So.off(i),jn.focus(i)}),t.onClosed(s)},onGrown:s=>{Bn.focusIn(s),t.onOpened(s)},onStartGrow:s=>{rr(s,t,"overflow-button").each(So.on)}}),Bn.config({mode:"acyclic",onEscape:s=>(rr(s,t,"overflow-button").each(jn.focus),P.some(!0))})])})}),_f({name:"overflow-button",overrides:t=>({buttonBehaviours:kt([So.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])})}),_f({name:"overflow-group"})]),m9=(t,s)=>rr(t,s,"overflow").map($d.hasGrown).getOr(!1),vB=(t,s)=>{rr(t,s,"overflow-button").bind(()=>rr(t,s,"overflow")).each(i=>{ZN(t,s),$d.toggleGrow(i)})},ZN=(t,s)=>{rr(t,s,"overflow").each(i=>{gB(t,s,u=>{const m=Je(u,b=>rl(b));zp.setGroups(i,m)}),rr(t,s,"overflow-button").each(u=>{$d.hasGrown(i)&&So.on(u)}),$d.refresh(i)})},g9=(t,s,i,u)=>{const m="alloy.toolbar.toggle",b=(w,O)=>{const M=Je(O,w.getSystem().build);t.builtGroups.set(M)};return{uid:t.uid,dom:t.dom,components:s,behaviours:kr(t.splitToolbarBehaviours,[Ai.config({others:{overflowGroup:w=>DS.sketch({...u["overflow-group"](),items:[qc.sketch({...u["overflow-button"](),action:O=>{ss(w,m)}})]})}}),mo("toolbar-toggle-events",[Dt(m,w=>{vB(w,t)})])]),apis:{setGroups:(w,O)=>{b(w,O),ZN(w,t)},refresh:w=>ZN(w,t),toggle:w=>vB(w,t),isOpen:w=>m9(w,t)},domModification:{attributes:{role:"group"}}}},YN=Si({name:"SplitSlidingToolbar",configFields:f9(),partFields:h9(),factory:g9,apis:{setGroups:(t,s,i)=>{t.setGroups(s,i)},refresh:(t,s)=>{t.refresh(s)},toggle:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s)}}),bB=t=>{const s=t.title.fold(()=>({}),i=>({attributes:{title:i}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...s},components:[DS.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:kt([hi.config({}),jn.config({})])}},z2=t=>DS.sketch(bB(t)),yB=(t,s)=>{const i=Tr(u=>{const m=Je(t.initGroups,z2);zp.setGroups(u,m)});return kt([im.toolbarButton(t.providers.isDisabled),Za(),Bn.config({mode:s,onEscape:t.onEscape,selector:".tox-toolbar__group"}),mo("toolbar-events",[i])])},_B=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":bB({title:P.none(),items:[]}),"overflow-button":lz({name:"more",icon:P.some("more-drawer"),enabled:!0,tooltip:P.some("More..."),primary:!1,buttonType:P.none(),borderless:!1},P.none(),t.providers)},splitToolbarBehaviours:yB(t,s)}},p9=t=>{const s=_B(t),i=4,u=jN.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return jN.sketch({...s,lazySink:t.getSink,getOverflowBounds:()=>{const m=t.moreDrawerData.lazyHeader().element,b=gl(m),w=Jc(m),O=gl(w),M=Math.max(w.dom.scrollHeight,O.height);return Ps(b.x+i,O.y,b.width-i*2,M)},parts:{...s.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}},components:[u],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:m=>t.onToggled(m,!0),onClosed:m=>t.onToggled(m,!1)})},v9=t=>{const s=YN.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),i=YN.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),u=_B(t);return YN.sketch({...u,components:[s,i],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:m=>{m.getSystem().broadcastOn([MN()],{type:"opened"}),t.onToggled(m,!0)},onClosed:m=>{m.getSystem().broadcastOn([MN()],{type:"closed"}),t.onToggled(m,!1)}})},NS=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return zp.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===Cf.scrolling?["tox-toolbar--scrolling"]:[])},components:[zp.parts.groups({})],toolbarBehaviours:yB(t,s)})},MS=[iv,sm,ae("tooltip"),Hr("buttonType","secondary",["primary","secondary"]),li("borderless",!1),ic("onAction")],KN=[...MS,rv,Gl("type",["button"])],b9=[...MS,li("active",!1),Gl("type",["togglebutton"])],EB={button:KN,togglebutton:b9},wB=[Gl("type",["group"]),l1("buttons",[],or("type",EB))],y9=or("type",{...EB,group:wB}),_9=Pn([l1("buttons",[],y9),ic("onShow"),ic("onHide")]),E9=t=>ts("view",_9,t),TB=(t,s)=>{var i,u;const m=t.type==="togglebutton",b=t.icon.map(ut=>fm(ut,s.icons)).map(zo),O=(()=>ut=>{const pt=ln=>{b.map(xn=>xn.getOpt(ut).each($o=>{lo.set($o,[fm(ln,s.icons)])}))},Qt=ln=>{const xn=ut.element;ln?(As(xn,"tox-button--enabled"),co(xn,"aria-pressed",!0)):(Ls(xn,"tox-button--enabled"),T(xn,"aria-pressed"))},Pt=()=>oa(ut.element,"tox-button--enabled");if(m)return t.onAction({setIcon:pt,setActive:Qt,isActive:Pt});if(t.type==="button")return t.onAction({setIcon:pt})})(),M={...t,name:m?t.text.getOr(t.icon.getOr("")):(i=t.text)!==null&&i!==void 0?i:t.icon.getOr(""),primary:t.buttonType==="primary",buttonType:P.from(t.buttonType),tooltip:t.tooltip,icon:t.icon,enabled:!0,borderless:t.borderless},B=b2((u=t.buttonType)!==null&&u!==void 0?u:"secondary"),W=m?t.text.map(s.translate):P.some(s.translate(t.text)),Y=W.map(Cr),ee=M.tooltip.or(W).map(ut=>({"aria-label":s.translate(ut),title:s.translate(ut)})).getOr({}),se=b.map(ut=>ut.asSpec()),be=YE([se,Y]),Ie=t.icon.isSome()&&Y.isSome(),nt={tag:"button",classes:B.concat(...t.icon.isSome()&&!Ie?["tox-button--icon"]:[]).concat(...Ie?["tox-button--icon-and-text"]:[]).concat(...t.borderless?["tox-button--naked"]:[]).concat(...t.type==="togglebutton"&&t.active?["tox-button--enabled"]:[]),attributes:ee},Ue=[],tt=pS(M,P.some(O),Ue,nt,be,s);return qc.sketch(tt)},CB=(t,s)=>TB(t,s),w9=(t,s)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:Je(t.buttons,i=>CB(i,s))}),W2=Mt().deviceType,T9=W2.isPhone(),C9=W2.isTablet(),SB=t=>{let s=!1;const i=Je(t.buttons,u=>u.type==="group"?(s=!0,w9(u,t.providers)):CB(u,t.providers));return{uid:t.uid,dom:{tag:"div",classes:[s?"tox-view__toolbar":"tox-view__header",...T9||C9?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:kt([jn.config({}),Bn.config({mode:"flow",selector:"button, .tox-button",focusInside:Eb.OnEnterOrSpaceMode})]),components:s?i:[am.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),am.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:i})]}},S9=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-view__pane"]}}),AB=(t,s,i,u)=>{const m={getPane:b=>mc.getPart(b,t,"pane"),getOnShow:b=>t.viewConfig.onShow,getOnHide:b=>t.viewConfig.onHide};return{uid:t.uid,dom:t.dom,components:s,apis:m}};var mw=Si({name:"silver.View",configFields:[At("viewConfig")],partFields:[Dd({factory:{sketch:SB},schema:[At("buttons"),At("providers")],name:"header"}),Dd({factory:{sketch:S9},schema:[],name:"pane"})],factory:AB,apis:{getPane:(t,s)=>t.getPane(s),getOnShow:(t,s)=>t.getOnShow(s),getOnHide:(t,s)=>t.getOnHide(s)}});const xB=(t,s,i)=>Gd(s,(u,m)=>{const b=Po(E9(u));return t.slot(m,mw.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:b,components:[...b.buttons.length>0?[mw.parts.header({buttons:b.buttons,providers:i})]:[],mw.parts.pane({})]}))}),A9=(t,s)=>Nl.sketch(i=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:xB(i,t,s),slotBehaviours:BC.unnamedEvents([Tr(u=>Nl.hideAllSlots(u))])})),OB=t=>kn(Nl.getSlotNames(t),s=>Nl.isShowing(t,s)),x9=t=>{const s=t.element;X(s,"display","none"),co(s,"aria-hidden","true")},RB=t=>{const s=t.element;ot(s,"display"),T(s,"aria-hidden")},O9=t=>({getContainer:Ee(t)}),IB=(t,s,i)=>{Nl.getSlot(t,s).each(u=>{mw.getPane(u).each(m=>{i(u)(O9(m.element.dom))})})},R9=(t,s)=>IB(t,s,mw.getOnShow),XN=(t,s)=>IB(t,s,mw.getOnHide);var G2=qi({factory:(t,s)=>{const b={setViews:(w,O)=>{lo.set(w,[A9(O,s.backstage.shared.providers)])},whichView:w=>Xo.getCurrent(w).bind(OB),toggleView:(w,O,M,B)=>Xo.getCurrent(w).exists(W=>{const Y=OB(W),ee=Y.exists(be=>B===be),se=Nl.getSlot(W,B).isSome();return se&&(Nl.hideAllSlots(W),ee?(x9(w),O()):(M(),RB(w),Nl.showSlot(W,B),R9(W,B)),Y.each(be=>XN(W,be))),se})};return{uid:t.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:kt([lo.config({}),Xo.config({find:w=>{const O=lo.contents(w);return Rr(O)}})]),apis:b}},name:"silver.ViewWrapper",configFields:[At("backstage")],apis:{setViews:(t,s,i)=>t.setViews(s,i),toggleView:(t,s,i,u,m)=>t.toggleView(s,i,u,m),whichView:(t,s)=>t.whichView(s)}});const I9=(t,s,i)=>{let u=!1;const m={getSocket:b=>mc.getPart(b,t,"socket"),setSidebar:(b,w,O)=>{mc.getPart(b,t,"sidebar").each(M=>HN(M,w,O))},toggleSidebar:(b,w)=>{mc.getPart(b,t,"sidebar").each(O=>VN(O,w))},whichSidebar:b=>mc.getPart(b,t,"sidebar").bind(UW).getOrNull(),getHeader:b=>mc.getPart(b,t,"header"),getToolbar:b=>mc.getPart(b,t,"toolbar"),setToolbar:(b,w)=>{mc.getPart(b,t,"toolbar").each(O=>{const M=Je(w,z2);O.getApis().setGroups(O,M)})},setToolbars:(b,w)=>{mc.getPart(b,t,"multiple-toolbar").each(O=>{const M=Je(w,B=>Je(B,z2));AN.setItems(O,M)})},refreshToolbar:b=>{mc.getPart(b,t,"toolbar").each(O=>O.getApis().refresh(O))},toggleToolbarDrawer:b=>{mc.getPart(b,t,"toolbar").each(w=>{Xs(w.getApis().toggle,O=>O(w))})},toggleToolbarDrawerWithoutFocusing:b=>{mc.getPart(b,t,"toolbar").each(w=>{Xs(w.getApis().toggleWithoutFocusing,O=>O(w))})},isToolbarDrawerToggled:b=>mc.getPart(b,t,"toolbar").bind(w=>P.from(w.getApis().isOpen).map(O=>O(w))).getOr(!1),getThrobber:b=>mc.getPart(b,t,"throbber"),focusToolbar:b=>{mc.getPart(b,t,"toolbar").orThunk(()=>mc.getPart(b,t,"multiple-toolbar")).each(O=>{Bn.focusIn(O)})},setMenubar:(b,w)=>{mc.getPart(b,t,"menubar").each(O=>{zy.setMenus(O,w)})},focusMenubar:b=>{mc.getPart(b,t,"menubar").each(w=>{zy.focus(w)})},setViews:(b,w)=>{mc.getPart(b,t,"viewWrapper").each(O=>{G2.setViews(O,w)})},toggleView:(b,w)=>mc.getPart(b,t,"viewWrapper").exists(O=>G2.toggleView(O,()=>m.showMainView(b),()=>m.hideMainView(b),w)),whichView:b=>mc.getPart(b,t,"viewWrapper").bind(G2.whichView).getOrNull(),hideMainView:b=>{u=m.isToolbarDrawerToggled(b),u&&m.toggleToolbarDrawer(b),mc.getPart(b,t,"editorContainer").each(w=>{const O=w.element;X(O,"display","none"),co(O,"aria-hidden","true")})},showMainView:b=>{u&&m.toggleToolbarDrawer(b),mc.getPart(b,t,"editorContainer").each(w=>{const O=w.element;ot(O,"display"),T(O,"aria-hidden")}),m.refreshToolbar(b)}};return{uid:t.uid,dom:t.dom,components:s,apis:m,behaviours:t.behaviours}},D9=Up.optional({factory:zy,name:"menubar",schema:[At("backstage")]}),N9=t=>t.type===Cf.sliding?v9:t.type===Cf.floating?p9:NS,M9=Up.optional({factory:{sketch:t=>AN.sketch({uid:t.uid,dom:t.dom,listBehaviours:kt([Bn.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>NS({type:t.type,uid:_n("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:()=>(t.onEscape(),P.some(!0))}),setupItem:(s,i,u,m)=>{zp.setGroups(i,u)},shell:!0})},name:"multiple-toolbar",schema:[At("dom"),At("onEscape")]}),k9=Up.optional({factory:{sketch:t=>{const s=N9(t),i={type:t.type,uid:t.uid,onEscape:()=>(t.onEscape(),P.some(!0)),onToggled:(u,m)=>t.onToolbarToggled(m),cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return s(i)}},name:"toolbar",schema:[At("dom"),At("onEscape"),At("getSink")]}),P9=Up.optional({factory:{sketch:NW},name:"header",schema:[At("dom")]}),L9=Up.optional({factory:{sketch:LW},name:"promotion",schema:[At("dom")]}),NB=Up.optional({name:"socket",schema:[At("dom")]}),q2=Up.optional({factory:{sketch:zW},name:"sidebar",schema:[At("dom")]}),QN=Up.optional({factory:{sketch:KW},name:"throbber",schema:[At("dom")]}),MB=Up.optional({factory:G2,name:"viewWrapper",schema:[At("backstage")]}),Hb=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:t.components}),kB=Up.optional({factory:{sketch:Hb},name:"editorContainer",schema:[]});var xr=Si({name:"OuterContainer",factory:I9,configFields:[At("dom"),At("behaviours")],partFields:[P9,D9,k9,M9,NB,q2,L9,QN,MB,kB],apis:{getSocket:(t,s)=>t.getSocket(s),setSidebar:(t,s,i,u)=>{t.setSidebar(s,i,u)},toggleSidebar:(t,s,i)=>{t.toggleSidebar(s,i)},whichSidebar:(t,s)=>t.whichSidebar(s),getHeader:(t,s)=>t.getHeader(s),getToolbar:(t,s)=>t.getToolbar(s),setToolbar:(t,s,i)=>{t.setToolbar(s,i)},setToolbars:(t,s,i)=>{t.setToolbars(s,i)},refreshToolbar:(t,s)=>t.refreshToolbar(s),toggleToolbarDrawer:(t,s)=>{t.toggleToolbarDrawer(s)},toggleToolbarDrawerWithoutFocusing:(t,s)=>{t.toggleToolbarDrawerWithoutFocusing(s)},isToolbarDrawerToggled:(t,s)=>t.isToolbarDrawerToggled(s),getThrobber:(t,s)=>t.getThrobber(s),setMenubar:(t,s,i)=>{t.setMenubar(s,i)},focusMenubar:(t,s)=>{t.focusMenubar(s)},focusToolbar:(t,s)=>{t.focusToolbar(s)},setViews:(t,s,i)=>{t.setViews(s,i)},toggleView:(t,s,i)=>t.toggleView(s,i),whichView:(t,s)=>t.whichView(s)}});const $9="file edit view insert format tools table help",PB={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template inserttemplate codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},B9=(t,s,i)=>{const u=wP(i).split(/[ ,]/);return{text:t.title,getItems:()=>mt(t.items,m=>{const b=m.toLowerCase();return b.trim().length===0?[]:Bo(u,w=>w===b)?[]:b==="separator"||b==="|"?[{type:"separator"}]:s.menuItems[b]?[s.menuItems[b]]:[]})}},JN=t=>t.split(" "),LB=(t,s)=>{const i={...PB,...s.menus},u=Os(s.menus).length>0,m=s.menubar===void 0||s.menubar===!0?JN($9):JN(s.menubar===!1?"":s.menubar),b=uo(m,O=>{const M=Ho(PB,O);return u?M||an(s.menus,O).exists(B=>Ho(B,"items")):M}),w=Je(b,O=>{const M=i[O];return B9({title:M.title,items:JN(M.items)},s,t)});return uo(w,O=>{const M=B=>U(B)||B.type!=="separator";return O.getItems().length>0&&Bo(O.getItems(),M)})},$B=t=>{const s=()=>{t._skinLoaded=!0,YV(t)};return()=>{t.initialized?s():t.on("init",s)}},BB=(t,s)=>()=>zI(t,{message:s}),FB=(t,s,i)=>(t.on("remove",()=>i.unload(s)),i.load(s)),F9=(t,s)=>{const i=s+"/skin.min.css";return FB(t,i,t.ui.styleSheetLoader)},eM=(t,s)=>{if(Pu(Xe.fromDom(t.getElement()))){const u=s+"/skin.shadowdom.min.css";return FB(t,u,TC.DOM.styleSheetLoader)}else return Promise.resolve()},HB=(t,s)=>{const i=$P(s);return i&&s.contentCSS.push(i+(t?"/content.inline":"/content")+".min.css"),!RC(s)&&U(i)?Promise.all([F9(s,i),eM(s,i)]).then($B(s),BB(s,"Skin could not be loaded")):Promise.resolve($B(s)())},H9=Et(HB,!1),V9=Et(HB,!0),j2=(t,s)=>i=>{const u=_u(),m=()=>{i.setActive(t.formatter.match(s));const b=t.formatter.formatChanged(s,i.setActive);u.set(b)};return t.initialized?m():t.once("init",m),()=>{t.off("init",m),u.clear()}},kS=(t,s,i)=>u=>{const m=()=>i(u),b=()=>{i(u),t.on(s,m)};return t.initialized?b():t.once("init",b),()=>{t.off("init",b),t.off(s,m)}},VB=t=>s=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("mceToggleFormat",!1,s.format)})},Of=(t,s)=>()=>t.execCommand(s),UB=(t,s,i)=>{const u=(O,M,B,W)=>{const Y=s.shared.providers.translate(O.title);if(O.type==="separator")return P.some({type:"separator",text:Y});if(O.type==="submenu"){const ee=mt(O.getStyleItems(),se=>m(se,M,W));return M===0&&ee.length<=0?P.none():P.some({type:"nestedmenuitem",text:Y,enabled:ee.length>0,getSubmenuItems:()=>mt(O.getStyleItems(),se=>m(se,M,W))})}else return P.some({type:"togglemenuitem",text:Y,icon:O.icon,active:O.isSelected(W),enabled:!B,onAction:i.onAction(O),...O.getStylePreview().fold(()=>({}),ee=>({meta:{style:ee}}))})},m=(O,M,B)=>{const W=O.type==="formatter"&&i.isInvalid(O);return M===0?W?[]:u(O,M,!1,B).toArray():u(O,M,W,B).toArray()},b=O=>{const M=i.getCurrentValue(),B=i.shouldHide?0:1;return mt(O,W=>m(W,B,M))};return{validateItems:b,getFetch:(O,M)=>(B,W)=>{const Y=M(),ee=b(Y),se=Fy(ee,wg.CLOSE_ON_EXECUTE,O,{isHorizontalMenu:!1,search:P.none()});W(se)}}},Wy=(t,s,i)=>{const u=i.dataset,m=u.type==="basic"?()=>Je(u.data,b=>EN(b,i.isSelectedFor,i.getPreviewFor)):u.getData;return{items:UB(t,s,i),getStyleItems:m}},PS=(t,s,i)=>{const{items:u,getStyleItems:m}=Wy(t,s,i),b=O=>({getComponent:Ee(O)}),w=kS(t,"NodeChange",O=>{const M=O.getComponent();i.updateText(M)});return VD({text:i.icon.isSome()?P.none():i.text,icon:i.icon,tooltip:P.from(i.tooltip),role:P.none(),fetch:u.getFetch(s,m),onSetup:w,getApi:b,columns:1,presets:"normal",classes:i.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",s.shared)},zB=t=>Je(t,s=>{let i=s,u=s;const m=s.split("=");return m.length>1&&(i=m[0],u=m[1]),{title:i,format:u}}),U9=t=>({type:"basic",data:t});var gw;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(gw||(gw={}));const z9=(t,s)=>s===gw.SemiColon?t.replace(/;$/,"").split(";"):t.split(" "),Z2=(t,s,i)=>{const u=t.options.get(s);return{type:"basic",data:zB(z9(u,i))}},tM=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],nM=t=>{const s=()=>kn(tM,O=>t.formatter.match(O.format)),i=O=>()=>t.formatter.match(O),u=O=>P.none,m=O=>{const B=s().fold(Ee("left"),W=>W.title.toLowerCase());Mn(O,By,{icon:`align-${B}`})},b=U9(tM),w=O=>()=>kn(tM,M=>M.format===O.format).each(M=>t.execCommand(M.command));return{tooltip:"Align",text:P.none(),icon:P.some("align-left"),isSelectedFor:i,getCurrentValue:P.none,getPreviewFor:u,onAction:w,updateText:m,dataset:b,shouldHide:!1,isInvalid:O=>!t.formatter.canApply(O.format)}},W9=(t,s)=>PS(t,s,nM(t)),G9=(t,s)=>{const i=Wy(t,s,nM(t));t.ui.registry.addNestedMenuItem("align",{text:s.shared.providers.translate("Align"),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},WB=(t,s)=>{const i=s(),u=Je(i,m=>m.format);return P.from(t.formatter.closest(u)).bind(m=>kn(i,b=>b.format===m)).orThunk(()=>qn(t.formatter.match("p"),{title:"Paragraph",format:"p"}))},GB=t=>{const s="Paragraph",i=w=>()=>t.formatter.match(w),u=w=>()=>{const O=t.formatter.get(w);return O?P.some({tag:O.length>0&&(O[0].inline||O[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(w))}):P.none()},m=w=>{const M=WB(t,()=>b.data).fold(Ee(s),B=>B.title);Mn(w,xf,{text:M})},b=Z2(t,"block_formats",gw.SemiColon);return{tooltip:"Blocks",text:P.some(s),icon:P.none(),isSelectedFor:i,getCurrentValue:P.none,getPreviewFor:u,onAction:VB(t),updateText:m,dataset:b,shouldHide:!1,isInvalid:w=>!t.formatter.canApply(w.format)}},q9=(t,s)=>PS(t,s,GB(t)),j9=(t,s)=>{const i=Wy(t,s,GB(t));t.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},qB=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],jB=t=>{const s=t.split(/\s*,\s*/);return Je(s,i=>i.replace(/^['"]+|['"]+$/g,""))},Z9=t=>{const s=()=>{const i=jB(t.toLowerCase());return pi(qB,u=>i.indexOf(u.toLowerCase())>-1)};return t.indexOf("-apple-system")===0&&s()},ZB=t=>{const s="System Font",i=()=>{const B=be=>be?jB(be)[0]:"",W=t.queryCommandValue("FontName"),Y=M.data,ee=W?W.toLowerCase():"";return{matchOpt:kn(Y,be=>{const Ie=be.format;return Ie.toLowerCase()===ee||B(Ie).toLowerCase()===B(ee).toLowerCase()}).orThunk(()=>qn(Z9(ee),{title:s,format:ee})),font:W}},u=B=>W=>W.exists(Y=>Y.format===B),m=()=>{const{matchOpt:B}=i();return B},b=B=>()=>P.some({tag:"div",styles:B.indexOf("dings")===-1?{"font-family":B}:{}}),w=B=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontName",!1,B.format)})},O=B=>{const{matchOpt:W,font:Y}=i(),ee=W.fold(Ee(Y),se=>se.title);Mn(B,xf,{text:ee})},M=Z2(t,"font_family_formats",gw.SemiColon);return{tooltip:"Fonts",text:P.some(s),icon:P.none(),isSelectedFor:u,getCurrentValue:m,getPreviewFor:b,onAction:w,updateText:O,dataset:M,shouldHide:!1,isInvalid:wt}},Y9=(t,s)=>PS(t,s,ZB(t)),K9=(t,s)=>{const i=Wy(t,s,ZB(t));t.ui.registry.addNestedMenuItem("fontfamily",{text:s.shared.providers.translate("Fonts"),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},YB={tab:Ee(9),escape:Ee(27),enter:Ee(13),backspace:Ee(8),delete:Ee(46),left:Ee(37),up:Ee(38),right:Ee(39),down:Ee(40),space:Ee(32),home:Ee(36),end:Ee(35),pageUp:Ee(33),pageDown:Ee(34)},X9={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},KB=(()=>{const t="[0-9]+",i="[eE]"+("[+-]?"+t),u="\\.",m=O=>`(?:${O})?`,w=`[+-]?(?:${["Infinity",t+u+m(t)+m(i),u+t+m(i),t+m(i)].join("|")})`;return new RegExp(`^(${w})(.*)$`)})(),Q9=(t,s)=>Bo(s,i=>Bo(X9[i],u=>t===u)),XB=(t,s)=>P.from(KB.exec(t)).bind(u=>{const m=Number(u[1]),b=u[2];return Q9(b,s)?P.some({value:m,unit:b}):P.none()}),QB=(t,s)=>XB(t,s).map(({value:i,unit:u})=>i+u),J9=(t,s,i)=>{let u=P.none();const m=ut=>ut.map(pt=>fn.getValue(pt)).getOr(""),b=kS(t,"NodeChange",ut=>{const pt=ut.getComponent();u=P.some(pt),i.updateInputValue(pt)}),w=ut=>({getComponent:Ee(ut)}),O=Wn(oe),M=_n("custom-number-input-events"),B=ut=>ut>=0,W=(ut,pt,Qt)=>{const Pt=m(u),ln=XB(Pt,["unsupportedLength","empty"]),xn=ln.map(Wt=>Wt.value).getOr(0),$o=cI(t),Fn=ln.map(Wt=>Wt.unit).filter(Wt=>Wt!=="").getOr($o),Mo=ut(xn,i.getConfigFromUnit(Fn).step),oo=`${B(Mo)?Mo:xn}${Fn}`,Io=`${xn}${Fn}`.length-`${oo}`.length,Xn=u.map(Wt=>Wt.element.dom.selectionStart-Io),xs=u.map(Wt=>Wt.element.dom.selectionEnd-Io);i.onAction(oo,Qt),u.each(Wt=>{fn.setValue(Wt,oo),pt&&(Xn.each(Sn=>Wt.element.dom.selectionStart=Sn),xs.each(Sn=>Wt.element.dom.selectionEnd=Sn))})},Y=(ut,pt)=>W((Qt,Pt)=>Qt-Pt,ut,pt),ee=(ut,pt)=>W((Qt,Pt)=>Qt+Pt,ut,pt),se=ut=>Lc(ut.element).fold(P.none,pt=>(il(pt),P.some(!0))),be=ut=>k1(ut.element)?(Ch(ut.element).each(pt=>il(pt)),P.some(!0)):P.none(),Ie=(ut,pt,Qt,Pt)=>{const ln=s.shared.providers.translate(Qt),xn=_n("altExecuting"),$o=()=>ut(!0);return qc.sketch({dom:{tag:"button",attributes:{title:ln,"aria-label":ln},classes:Pt.concat(pt)},components:[$y(pt,s.shared.providers.icons)],buttonBehaviours:kt([mo(xn,[Dt(na(),(Fn,Mo)=>{(Mo.event.raw.keyCode===YB.space()||Mo.event.raw.keyCode===YB.enter())&&ut(!1)}),Dt(Sl(),$o),Dt(Mh(),$o)])]),eventOrder:{[na()]:[xn,"keying"],[Sl()]:[xn,"alloy.base.behaviour"],[Mh()]:[xn,"alloy.base.behaviour"]}})},nt=zo(Ie(ut=>Y(!1,ut),"minus","Decrease font size",["highlight-on-focus"])),Ue=zo(Ie(ut=>ee(!1,ut),"plus","Increase font size",["highlight-on-focus"])),tt=zo({dom:{tag:"div",classes:["tox-input-wrapper","highlight-on-focus"]},components:[Ty.sketch({inputBehaviours:kt([mo(M,[Nb({onSetup:b,getApi:w},O),Oy({getApi:w},O)]),mo("input-update-display-text",[Dt(xf,(ut,pt)=>{fn.setValue(ut,pt.event.text)}),Dt(Cl(),ut=>{i.onAction(fn.getValue(ut))}),Dt(jl(),ut=>{i.onAction(fn.getValue(ut))})]),Bn.config({mode:"special",onEnter:ut=>(W(Ze,!0,!0),P.some(!0)),onEscape:se,onUp:ut=>(ee(!0,!1),P.some(!0)),onDown:ut=>(Y(!0,!1),P.some(!0)),onLeft:(ut,pt)=>(pt.cut(),P.none()),onRight:(ut,pt)=>(pt.cut(),P.none())})])})],behaviours:kt([jn.config({}),Bn.config({mode:"special",onEnter:be,onSpace:be,onEscape:se}),mo("input-wrapper-events",[Dt(nf(),ut=>{It([nt,Ue],pt=>{const Qt=Xe.fromDom(pt.get(ut).element.dom);k1(Qt)&&M1(Qt)})})])])});return{dom:{tag:"div",classes:["tox-number-input"]},components:[nt.asSpec(),tt.asSpec(),Ue.asSpec()],behaviours:kt([jn.config({}),Bn.config({mode:"flow",focusInside:Eb.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:ut=>k1(ut.element)?P.none():(il(ut.element),P.some(!0))})])}},JB={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},eF={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},eG=(t,s)=>{const i=Math.pow(10,s);return Math.round(t*i)/i},tG=(t,s)=>/[0-9.]+px$/.test(t)?eG(parseInt(t,10)*72/96,s||0)+"pt":an(eF,t).getOr(t),nG=t=>an(JB,t).getOr(""),Gy=t=>{const s=()=>{let M=P.none();const B=O.data,W=t.queryCommandValue("FontSize");if(W)for(let Y=3;M.isNone()&&Y>=0;Y--){const ee=tG(W,Y),se=nG(ee);M=kn(B,be=>be.format===W||be.format===ee||be.format===se)}return{matchOpt:M,size:W}},i=M=>B=>B.exists(W=>W.format===M),u=()=>{const{matchOpt:M}=s();return M},m=Ee(P.none),b=M=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontSize",!1,M.format)})},w=M=>{const{matchOpt:B,size:W}=s(),Y=B.fold(Ee(W),ee=>ee.title);Mn(M,xf,{text:Y})},O=Z2(t,"font_size_formats",gw.Space);return{tooltip:"Font sizes",text:P.some("12pt"),icon:P.none(),isSelectedFor:i,getPreviewFor:m,getCurrentValue:u,onAction:b,updateText:w,dataset:O,shouldHide:!1,isInvalid:wt}},oG=(t,s)=>PS(t,s,Gy(t)),sG=t=>{var s;const i={step:1};return(s={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[t])!==null&&s!==void 0?s:i},rG=t=>({updateInputValue:i=>Mn(i,xf,{text:t.queryCommandValue("FontSize")}),getConfigFromUnit:sG,onAction:(i,u)=>t.execCommand("FontSize",!1,i,{skip_focus:!u})}),iG=(t,s)=>J9(t,s,rG(t)),aG=(t,s)=>{const i=Wy(t,s,Gy(t));t.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},tF=(t,s)=>{const i="Paragraph",u=w=>()=>t.formatter.match(w),m=w=>()=>{const O=t.formatter.get(w);return O!==void 0?P.some({tag:O.length>0&&(O[0].inline||O[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(w))}):P.none()},b=w=>{const O=Y=>bN(Y)?mt(Y.items,O):y3(Y)?[{title:Y.title,format:Y.format}]:[],M=mt(_N(t),O),W=WB(t,Ee(M)).fold(Ee(i),Y=>Y.title);Mn(w,xf,{text:W})};return{tooltip:"Formats",text:P.some(i),icon:P.none(),isSelectedFor:u,getCurrentValue:P.none,getPreviewFor:m,onAction:VB(t),updateText:b,shouldHide:EP(t),isInvalid:w=>!t.formatter.canApply(w.format),dataset:s}},cG=(t,s)=>{const i={type:"advanced",...s.styles};return PS(t,s,tF(t,i))},lG=(t,s)=>{const i={type:"advanced",...s.styles},u=Wy(t,s,tF(t,i));t.ui.registry.addNestedMenuItem("styles",{text:"Formats",getSubmenuItems:()=>u.items.validateItems(u.getStyleItems())})},oM=Ee([At("toggleClass"),At("fetch"),Qm("onExecute"),We("getHotspot",P.some),We("getAnchorOverrides",Ee({})),Rd(),Qm("onItemExecute"),Yo("lazySink"),At("dom"),Ye("onOpen"),ja("splitDropdownBehaviours",[Ai,Bn,jn]),We("matchWidth",!1),We("useMinWidth",!1),We("eventOrder",{}),Yo("role")].concat(aD())),uG=La({factory:qc,schema:[At("dom")],name:"arrow",defaults:()=>({buttonBehaviours:kt([jn.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(rf)},buttonBehaviours:kt([So.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])})}),dG=La({factory:qc,schema:[At("dom")],name:"button",defaults:()=>({buttonBehaviours:kt([jn.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(i=>{t.onExecute(i,s)})}})}),nF=Ee([uG,dG,Dd({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[At("text")],name:"aria-descriptor"}),_f({schema:[Sd()],name:"menu",defaults:t=>({onExecute:(s,i)=>{s.getSystem().getByUid(t.uid).each(u=>{t.onItemExecute(u,s,i)})}})}),v4()]),oF=(t,s,i,u)=>{const m=W=>{Xo.getCurrent(W).each(Y=>{ms.highlightFirst(Y),Bn.focusIn(Y)})},b=W=>{rD(t,Ze,W,u,m,Su.HighlightMenuAndItem).get(oe)},w=W=>(b(W),P.some(!0)),O=W=>{const Y=nm(W,t,"button");return rf(Y),P.some(!0)},M={...js([Tr((W,Y)=>{rr(W,t,"aria-descriptor").each(se=>{const be=_n("aria");co(se.element,"id",be),co(W.element,"aria-describedby",be)})})]),...ex(P.some(b))},B={repositionMenus:W=>{So.isOn(W)&&iD(W)}};return{uid:t.uid,dom:t.dom,components:s,apis:B,eventOrder:{...t.eventOrder,[zs()]:["disabling","toggling","alloy.base.behaviour"]},events:M,behaviours:kr(t.splitDropdownBehaviours,[Ai.config({others:{sandbox:W=>{const Y=nm(W,t,"arrow");return XC(t,W,{onOpen:()=>{So.on(Y),So.on(W)},onClose:()=>{So.off(Y),So.off(W)}})}}}),Bn.config({mode:"special",onSpace:O,onEnter:O,onDown:w}),jn.config({}),So.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},Y2=Si({name:"SplitDropdown",configFields:oM(),partFields:nF(),factory:oF,apis:{repositionMenus:(t,s)=>t.repositionMenus(s)}}),sF=t=>({isEnabled:()=>!no.isDisabled(t),setEnabled:s=>no.set(t,!s),setText:s=>Mn(t,xf,{text:s}),setIcon:s=>Mn(t,By,{icon:s})}),fG=t=>({setActive:s=>{So.set(t,s)},isActive:()=>So.isOn(t),isEnabled:()=>!no.isDisabled(t),setEnabled:s=>no.set(t,!s),setText:s=>Mn(t,xf,{text:s}),setIcon:s=>Mn(t,By,{icon:s})}),rF=(t,s)=>t.map(i=>({"aria-label":s.translate(i),title:s.translate(i)})).getOr({}),iF=_n("focus-button"),sM=(t,s,i,u,m)=>{const b=s.map(O=>zo(HD(O,"tox-tbtn",m))),w=t.map(O=>zo(fm(O,m.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(s.isSome()?["tox-tbtn--select"]:[]),attributes:rF(i,m)},components:YE([w.map(O=>O.asSpec()),b.map(O=>O.asSpec())]),eventOrder:{[Fi()]:["focusing","alloy.base.behaviour",$b],[sf()]:[$b,"toolbar-group-button-events"]},buttonBehaviours:kt([im.toolbarButton(m.isDisabled),Za(),mo($b,[Tr((O,M)=>dS(O)),Dt(xf,(O,M)=>{b.bind(B=>B.getOpt(O)).each(B=>{lo.set(B,[Cr(m.translate(M.event.text))])})}),Dt(By,(O,M)=>{w.bind(B=>B.getOpt(O)).each(B=>{lo.set(B,[fm(M.event.icon,m.icons)])})}),Dt(Fi(),(O,M)=>{M.event.prevent(),ss(O,iF)})])].concat(u.getOr([])))}},hG=(t,s,i,u)=>{const m=s.shared,b=Wn(oe),w={toolbarButtonBehaviours:[],getApi:sF,onSetup:t.onSetup},O=[mo("toolbar-group-button-events",[Nb(w,b),Oy(w,b)])];return Fb.sketch({lazySink:m.getSink,fetch:()=>cl.nu(M=>{M(Je(i(t.items),z2))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:sM(t.icon,t.text,t.tooltip,P.some(O),m.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:u}}}})},aF=(t,s,i)=>{var u;const m=Wn(oe),b=sM(t.icon,t.text,t.tooltip,P.none(),i);return qc.sketch({dom:b.dom,components:b.components,eventOrder:FD,buttonBehaviours:{...kt([mo("toolbar-button-events",[DU({onAction:t.onAction,getApi:s.getApi}),Nb(s,m),Oy(s,m)]),im.toolbarButton(()=>!t.enabled||i.isDisabled()),Za()].concat(s.toolbarButtonBehaviours)),[$b]:(u=b.buttonBehaviours)===null||u===void 0?void 0:u[$b]}})},cF=(t,s)=>lF(t,s,[]),lF=(t,s,i)=>aF(t,{toolbarButtonBehaviours:i.length>0?[mo("toolbarButtonWith",i)]:[],getApi:sF,onSetup:t.onSetup},s),rM=(t,s)=>uF(t,s,[]),uF=(t,s,i)=>aF(t,{toolbarButtonBehaviours:[lo.config({}),So.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(i.length>0?[mo("toolbarToggleButtonWith",i)]:[]),getApi:fG,onSetup:t.onSetup},s),mG=(t,s,i)=>u=>cl.nu(m=>s.fetch(m)).map(m=>P.from(uD(Js(ZC(_n("menu-value"),m,b=>{s.onItemAction(t(u),b)},s.columns,s.presets,wg.CLOSE_ON_EXECUTE,s.select.getOr(wt),i),{movement:YC(s.columns,s.presets),menuBehaviours:BC.unnamedEvents(s.columns!=="auto"?[]:[Tr((b,w)=>{$I(b,4,jP(s.presets)).each(({numRows:O,numColumns:M})=>{Bn.setGridSize(b,O,M)})})])})))),gG=(t,s)=>{const i=b=>({isEnabled:()=>!no.isDisabled(b),setEnabled:w=>no.set(b,!w),setIconFill:(w,O)=>{Nr(b.element,`svg path[id="${w}"], rect[id="${w}"]`).each(M=>{co(M,"fill",O)})},setActive:w=>{co(b.element,"aria-pressed",w),Nr(b.element,"span").each(O=>{b.getSystem().getByDom(O).each(M=>So.set(M,w))})},isActive:()=>Nr(b.element,"span").exists(w=>b.getSystem().getByDom(w).exists(So.isOn)),setText:w=>Nr(b.element,"span").each(O=>b.getSystem().getByDom(O).each(M=>Mn(M,xf,{text:w}))),setIcon:w=>Nr(b.element,"span").each(O=>b.getSystem().getByDom(O).each(M=>Mn(M,By,{icon:w})))}),u=Wn(oe),m={getApi:i,onSetup:t.onSetup};return Y2.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...rF(t.tooltip,s.providers)}},onExecute:b=>{const w=i(b);w.isEnabled()&&t.onAction(w)},onItemExecute:(b,w,O)=>{},splitDropdownBehaviours:kt([im.splitButton(s.providers.isDisabled),Za(),mo("split-dropdown-events",[Tr((b,w)=>dS(b)),Dt(iF,jn.focus),Nb(m,u),Oy(m,u)]),oS.config({})]),eventOrder:{[sf()]:["alloy.base.behaviour","split-dropdown-events"]},toggleClass:"tox-tbtn--enabled",lazySink:s.getSink,fetch:mG(i,t,s.providers),parts:{menu:gx(!1,t.columns,t.presets)},components:[Y2.parts.button(sM(t.icon,t.text,P.none(),P.some([So.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),s.providers)),Y2.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:hP("chevron-down",s.providers.icons)},buttonBehaviours:kt([im.splitButton(s.providers.isDisabled),Za(),wC()])}),Y2.parts["aria-descriptor"]({text:s.providers.translate("To open the popup, press Shift+Enter")})]})},dF=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],Vb=(t,s)=>(i,u,m)=>{const b=t(i).mapError(w=>Cc(w)).getOrDie();return s(b,u,m)},pG={button:Vb(dL,(t,s)=>cF(t,s.shared.providers)),togglebutton:Vb(Sx,(t,s)=>rM(t,s.shared.providers)),menubutton:Vb(sB,(t,s)=>gS(t,"tox-tbtn",s,P.none())),splitbutton:Vb(PW,(t,s)=>gG(t,s.shared)),grouptoolbarbutton:Vb(oB,(t,s,i)=>{const u=i.ui.registry.getAll().buttons,m=w=>X2(i,{buttons:u,toolbar:w,allowToolbarGroups:!1},s,P.none()),b={[B1]:s.shared.header.isPositionedAtTop()?gf.TopToBottom:gf.BottomToTop};switch(HE(i)){case Cf.floating:return hG(t,s,m,b);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})},K2=(t,s,i)=>an(pG,t.type).fold(()=>(console.error("skipping button defined by",t),P.none()),u=>P.some(u(t,s,i))),LS={styles:cG,fontsize:oG,fontsizeinput:iG,fontfamily:Y9,blocks:q9,align:W9},fF=t=>{const s=Je(dF,i=>{const u=uo(i.items,m=>Ho(t,m)||Ho(LS,m));return{name:i.name,items:u}});return uo(s,i=>i.items.length>0)},vG=t=>{const s=t.split("|");return Je(s,i=>({items:i.trim().split(" ")}))},bG=t=>Me(t,s=>Ho(s,"name")&&Ho(s,"items")),yG=t=>{const s=t.toolbar,i=t.buttons;return s===!1?[]:s===void 0||s===!0?fF(i):U(s)?vG(s):bG(s)?s:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},_G=(t,s,i,u,m,b)=>an(s,i.toLowerCase()).orThunk(()=>b.bind(w=>nr(w,O=>an(s,O+i.toLowerCase())))).fold(()=>an(LS,i.toLowerCase()).map(w=>w(t,m)),w=>w.type==="grouptoolbarbutton"&&!u?(console.warn(`Ignoring the '${i}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),P.none()):K2(w,m,t)),X2=(t,s,i,u)=>{const m=yG(s),b=Je(m,w=>{const O=mt(w.items,M=>M.trim().length===0?[]:_G(t,s.buttons,M,s.allowToolbarGroups,i,u).toArray());return{title:P.from(t.translate(w.name)),items:O}});return uo(b,w=>w.items.length>0)},hF=(t,s,i,u)=>{const m=s.mainUi.outerContainer,b=i.toolbar,w=i.buttons;if(Me(b,U)){const O=b.map(M=>{const B={toolbar:M,buttons:w,allowToolbarGroups:i.allowToolbarGroups};return X2(t,B,u,P.none())});xr.setToolbars(m,O)}else xr.setToolbar(m,X2(t,i,u,P.none()))},$S=Mt(),mF=$S.os.isiOS()&&$S.os.version.major<=12,gF=(t,s)=>{const{uiMotherships:i}=s,u=t.dom;let m=t.getWin();const b=t.getDoc().documentElement,w=Wn(Kn(m.innerWidth,m.innerHeight)),O=Wn(Kn(b.offsetWidth,b.offsetHeight)),M=()=>{const ee=w.get();(ee.left!==m.innerWidth||ee.top!==m.innerHeight)&&(w.set(Kn(m.innerWidth,m.innerHeight)),Px(t))},B=()=>{const ee=t.getDoc().documentElement,se=O.get();(se.left!==ee.offsetWidth||se.top!==ee.offsetHeight)&&(O.set(Kn(ee.offsetWidth,ee.offsetHeight)),Px(t))},W=ee=>{zL(t,ee)};u.bind(m,"resize",M),u.bind(m,"scroll",W);const Y=L1(Xe.fromDom(t.getBody()),"load",B);t.on("hide",()=>{It(i,ee=>{X(ee.element,"display","none")})}),t.on("show",()=>{It(i,ee=>{ot(ee.element,"display")})}),t.on("NodeChange",B),t.on("remove",()=>{Y.unbind(),u.unbind(m,"resize",M),u.unbind(m,"scroll",W),m=null})},pF=(t,s,i)=>{Ob(t)&&wp(i.mainUi.mothership.element,i.popupUi.mothership),ty(s,i.dialogUi.mothership)};var wG=Object.freeze({__proto__:null,render:async(t,s,i,u,m)=>{const{mainUi:b,uiMotherships:w}=s,O=Wn(0),M=b.outerContainer;await H9(t);const B=Xe.fromDom(m.targetNode),W=Ni(xa(B));wp(B,b.mothership),pF(t,W,s),t.on("PostRender",()=>{xr.setSidebar(M,i.sidebar,PP(t)),hF(t,s,i,u),O.set(t.getWin().innerWidth),xr.setMenubar(M,LB(t,i)),xr.setViews(M,i.views),gF(t,s)});const Y=xr.getSocket(M).getOrDie("Could not find expected socket element");if(mF){re(Y.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const Ie=K$(()=>{t.dispatch("ScrollContent")},20),nt=Dc(Y.element,"scroll",Ie.throttle);t.on("remove",nt.unbind)}DL(t,s),t.addCommand("ToggleSidebar",(Ie,nt)=>{xr.toggleSidebar(M,nt),t.dispatch("ToggleSidebar")}),t.addQueryValueHandler("ToggleSidebar",()=>{var Ie;return(Ie=xr.whichSidebar(M))!==null&&Ie!==void 0?Ie:""}),t.addCommand("ToggleView",(Ie,nt)=>{if(xr.toggleView(M,nt)){const Ue=M.element;b.mothership.broadcastOn([hg()],{target:Ue}),It(w,tt=>{tt.broadcastOn([hg()],{target:Ue})}),ie(xr.whichView(M))&&(t.focus(),t.nodeChanged())}}),t.addQueryValueHandler("ToggleView",()=>{var Ie;return(Ie=xr.whichView(M))!==null&&Ie!==void 0?Ie:""});const ee=HE(t),se=()=>{xr.refreshToolbar(s.mainUi.outerContainer)};(ee===Cf.sliding||ee===Cf.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",()=>{const Ie=t.getWin().innerWidth;Ie!==O.get()&&(se(),O.set(Ie))});const be={setEnabled:Ie=>{VC(s,!Ie)},isEnabled:()=>!no.isDisabled(M)};return{iframeContainer:Y.element.dom,editorContainer:M.element.dom,api:be}}});const Q2=t=>/^[0-9\.]+(|px)$/i.test(""+t)?P.some(parseInt(""+t,10)):P.none(),iM=t=>De(t)?t+"px":t,J2=(t,s,i)=>{const u=s.filter(b=>t<b),m=i.filter(b=>t>b);return u.or(m).getOr(t)},TG=t=>{const s=AC(t),i=xC(t),u=ax(t);return Q2(s).map(m=>J2(m,i,u))},CG=t=>TG(t).getOr(AC(t)),vF=t=>{const s=sx(t),i=rx(t),u=ix(t);return Q2(s).map(m=>J2(m,i,u))},SG=t=>vF(t).getOr(sx(t)),{ToolbarLocation:aM,ToolbarMode:bF}=eV,yF=40,AG=(t,s,i,u,m)=>{const{mainUi:b,uiMotherships:w}=i,O=TC.DOM,M=Ey(t),B=zE(t),W=ix(t).or(vF(t)),Y=u.shared.header,ee=Y.isPositionedAtTop,se=HE(t),be=se===bF.sliding||se===bF.floating,Ie=Wn(!1),nt=()=>Ie.get()&&!t.removed,Ue=Xn=>be?Xn.fold(Ee(0),xs=>xs.components().length>1?Tn(xs.components()[1].element):0):0,tt=Xn=>{switch(lx(t)){case aM.auto:const xs=xr.getToolbar(b.outerContainer),Wt=Ue(xs),Sn=Tn(Xn.element)-Wt,pn=es(s);if(pn.y>Sn)return"top";{const Eo=Jc(s),Jo=Math.max(Eo.dom.scrollHeight,Tn(Eo));return pn.bottom<Jo-Sn||Da().bottom<pn.bottom-Sn?"bottom":"top"}case aM.bottom:return"bottom";case aM.top:default:return"top"}},ut=Xn=>{m.on(xs=>{$a.setModes(xs,[Xn]),Y.setDockingMode(Xn);const Wt=ee()?gf.TopToBottom:gf.BottomToTop;co(xs.element,B1,Wt)})},pt=()=>{m.on(Xn=>{const xs=W.getOrThunk(()=>{const Wt=Q2(pe(Qi(),"margin-left")).getOr(0);return ur(Qi())-xo(s).left+Wt});X(Xn.element,"max-width",xs+"px")})},Qt=Xn=>{m.on(xs=>{const Wt=xr.getToolbar(b.outerContainer),Sn=Ue(Wt),pn=es(s),{top:Yn,left:Eo}=Pt(t,b.outerContainer.element).fold(()=>({top:ee()?Math.max(pn.y-Tn(xs.element)+Sn,0):pn.bottom,left:pn.x}),Es=>{var su;const gi=es(Es),hh=(su=Es.dom.scrollTop)!==null&&su!==void 0?su:0,bm=bs(Es,Qi()),pv=bm?Math.max(pn.y-Tn(xs.element)+Sn,0):pn.y-gi.y+hh-Tn(xs.element)+Sn;return{top:ee()?pv:pn.bottom,left:bm?pn.x:pn.x-gi.x}}),Jo={position:"absolute",left:Math.round(Eo)+"px",top:Math.round(Yn)+"px"},aa=Xn.map(Es=>{const su=Xt(),gi=150,hh=window.innerWidth-(Eo-su.left);return{width:Math.max(Math.min(Es,hh),gi)+"px"}}).getOr({});re(b.outerContainer.element,{...Jo,...aa})})},Pt=(Xn,xs)=>Ob(Xn)?SS(xs):P.none(),ln=()=>{It(w,Xn=>{Xn.broadcastOn([mb()],{})})},xn=()=>{if(M)return P.none();if(xo(b.outerContainer.element).left+Ir(b.outerContainer.element)>=window.innerWidth-yF||st(b.outerContainer.element,"width").isSome()){X(b.outerContainer.element,"position","absolute"),X(b.outerContainer.element,"left","0px"),ot(b.outerContainer.element,"width");const xs=Ir(b.outerContainer.element);return P.some(xs)}else return P.none()},$o=Xn=>{if(!nt())return;M||pt();const xs=M?P.none():xn();be&&xr.refreshToolbar(b.outerContainer),M||Qt(xs),B&&m.on(Xn),ln()},Fn=()=>M||!B||!nt()?!1:m.get().exists(Xn=>{const xs=Y.getDockingMode(),Wt=tt(Xn);return Wt!==xs?(ut(Wt),!0):!1});return{isVisible:nt,isPositionedAtTop:ee,show:()=>{Ie.set(!0),X(b.outerContainer.element,"display","flex"),O.addClass(t.getBody(),"mce-edit-focus"),It(w,Xn=>{ot(Xn.element,"display")}),Fn(),Ob(t)?$o(Xn=>$a.isDocked(Xn)?$a.reset(Xn):$a.refresh(Xn)):$o($a.refresh)},hide:()=>{Ie.set(!1),X(b.outerContainer.element,"display","none"),O.removeClass(t.getBody(),"mce-edit-focus"),It(w,Xn=>{X(Xn.element,"display","none")})},update:$o,updateMode:()=>{Fn()&&$o($a.reset)},repositionPopups:ln}},cM=(t,s)=>{const i=es(t);return{pos:s?i.y:i.bottom,bounds:i}},xG=(t,s,i,u)=>{const m=Wn(cM(s,i.isPositionedAtTop())),b=B=>{const{pos:W,bounds:Y}=cM(s,i.isPositionedAtTop()),{pos:ee,bounds:se}=m.get(),be=Y.height!==se.height||Y.width!==se.width;m.set({pos:W,bounds:Y}),be&&Px(t,B),i.isVisible()&&(ee!==W?i.update($a.reset):be&&(i.updateMode(),i.repositionPopups()))};u||(t.on("activate",i.show),t.on("deactivate",i.hide)),t.on("SkinLoaded ResizeWindow",()=>i.update($a.reset)),t.on("NodeChange keydown",B=>{requestAnimationFrame(()=>b(B))});let w=0;const O=oN(()=>i.update($a.refresh),33);t.on("ScrollWindow",()=>{const B=Xt().left;B!==w&&(w=B,O.throttle()),i.updateMode()}),Ob(t)&&t.on("ElementScroll",B=>{i.update($a.refresh)});const M=_u();M.set(L1(Xe.fromDom(t.getBody()),"load",B=>b(B.raw))),t.on("remove",()=>{M.clear()})};var OG=Object.freeze({__proto__:null,render:async(t,s,i,u,m)=>{const{mainUi:b}=s,w=Zs(),O=Xe.fromDom(m.targetNode),M=AG(t,O,s,u,w),B=ux(t);await V9(t);const W=()=>{if(w.isSet()){M.show();return}w.set(xr.getHeader(b.outerContainer).getOrDie());const ee=IC(t);Ob(t)?(wp(O,b.mothership),wp(O,s.popupUi.mothership)):ty(ee,b.mothership),ty(ee,s.dialogUi.mothership),hF(t,s,i,u),xr.setMenubar(b.outerContainer,LB(t,i)),M.show(),xG(t,O,M,B),t.nodeChanged()};t.on("show",W),t.on("hide",M.hide),B||(t.on("focus",W),t.on("blur",M.hide)),t.on("init",()=>{(t.hasFocus()||B)&&W()}),DL(t,s);const Y={show:W,hide:M.hide,setEnabled:ee=>{VC(s,!ee)},isEnabled:()=>!no.isDisabled(b.outerContainer)};return{editorContainer:b.outerContainer.element.dom,api:Y}}});const RG=()=>{const t=Zs(),s=Zs(),i=Zs();return{dialogUi:t,popupUi:s,mainUi:i,getUiMotherships:()=>{const b=t.get().map(O=>O.mothership),w=s.get().map(O=>O.mothership);return b.fold(()=>w.toArray(),O=>w.fold(()=>[O],M=>bs(O.element,M.element)?[O]:[O,M]))},lazyGetInOuterOrDie:(b,w)=>()=>i.get().bind(O=>w(O.outerContainer)).getOrDie(`Could not find ${b} element in OuterContainer`)}},IG="contexttoolbar-show",pw="contexttoolbar-hide",_F=t=>({hide:()=>ss(t,$m()),getValue:()=>fn.getValue(t)}),EF=(t,s)=>Dt(x$,(i,u)=>{const m=t.get(i),b=_F(m);s.onAction(b,u.event.buttonApi)}),DG=(t,s,i)=>{const{primary:u,...m}=s.original,b=Po(dL({...m,type:"button",onAction:oe}));return lF(b,i,[EF(t,s)])},wF=(t,s,i)=>{const{primary:u,...m}=s.original,b=Po(Sx({...m,type:"togglebutton",onAction:oe}));return uF(b,i,[EF(t,s)])},lM=t=>t.type==="contextformtogglebutton",TF=(t,s,i)=>lM(s)?wF(t,s,i):DG(t,s,i),CF=(t,s,i)=>{const u=Je(s,w=>zo(TF(t,w,i)));return{asSpecs:()=>Je(u,w=>w.asSpec()),findPrimary:w=>nr(s,(O,M)=>O.primary?P.from(u[M]).bind(B=>B.getOpt(w)).filter(Ne(no.isDisabled)):P.none())}},SF=(t,s)=>{const i=t.label.fold(()=>({}),b=>({"aria-label":b})),u=zo(Ty.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:i,selectOnFocus:!0,inputBehaviours:kt([Bn.config({mode:"special",onEnter:b=>m.findPrimary(b).map(w=>(rf(w),!0)),onLeft:(b,w)=>(w.cut(),P.none()),onRight:(b,w)=>(w.cut(),P.none())})])})),m=CF(u,t.commands,s);return[{title:P.none(),items:[u.asSpec()]},{title:P.none(),items:m.asSpecs()}]},eO={renderContextForm:(t,s,i)=>NS({type:t,uid:_n("context-toolbar"),initGroups:SF(s,i),onEscape:P.none,cyclicKeying:!0,providers:i}),buildInitGroups:SF},tO=(t,s,i)=>s.bottom-t.y>=i&&t.bottom-s.y>=i,AF=t=>{const s=t.getBoundingClientRect();if(s.height<=0&&s.width<=0){const i=Nf(Xe.fromDom(t.startContainer),t.startOffset).element;return(si(i)?_c(i):P.some(i)).filter(Cs).map(m=>m.dom.getBoundingClientRect()).getOr(s)}else return s},nO=t=>{const s=t.selection.getRng(),i=AF(s);if(t.inline){const u=Xt();return Ps(u.left+i.left,u.top+i.top,i.width,i.height)}else{const u=gl(Xe.fromDom(t.getBody()));return Ps(u.x+i.left,u.y+i.top,i.width,i.height)}},NG=(t,s)=>s.filter(i=>nc(i)&&ad(i)).map(gl).getOrThunk(()=>nO(t)),xF=(t,s,i)=>{const u=Math.max(t.x+i,s.x),m=Math.min(t.right-i,s.right);return{x:u,width:m-u}},MG=(t,s,i,u,m,b)=>{const w=Xe.fromDom(t.getContainer()),O=Nr(w,".tox-editor-header").getOr(w),M=es(O),B=M.y>=s.bottom,W=u&&!B;if(t.inline&&W)return{y:Math.max(M.bottom+b,i.y),bottom:i.bottom};if(t.inline&&!W)return{y:i.y,bottom:Math.min(M.y-b,i.bottom)};const Y=m==="line"?es(w):s;return W?{y:Math.max(M.bottom+b,i.y),bottom:Math.min(Y.bottom-b,i.bottom)}:{y:Math.max(Y.y+b,i.y),bottom:Math.min(M.y-b,i.bottom)}},OF=(t,s,i,u=0)=>{const m=bo(window),b=es(Xe.fromDom(t.getContentAreaContainer())),w=Ip(t)||VE(t)||UE(t),{x:O,width:M}=xF(b,m,u);if(t.inline&&!w)return Ps(O,m.y,M,m.height);{const B=s.header.isPositionedAtTop(),{y:W,bottom:Y}=MG(t,b,m,B,i,u);return Ps(O,W,M,Y-W)}},oO=12,RF={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},IF={maxHeightFunction:Zh(),maxWidthFunction:WN()},DF=(t,s)=>{const i=t.selection.getRng(),u=Nf(Xe.fromDom(i.startContainer),i.startOffset);return i.startContainer===i.endContainer&&i.startOffset===i.endOffset-1&&bs(u.element,s)},sO=(t,s,i)=>{const u=st(t,"position");X(t,"position",s);const m=i(t);return u.each(b=>X(t,"position",b)),m},uM=t=>t==="node",NF=(t,s,i,u,m)=>{const b=nO(t),w=u.lastElement().exists(O=>bs(i,O));if(DF(t,i))return w?p3:Vp;if(w)return sO(s,u.getMode(),()=>tO(b,es(s),-20)&&!u.isReposition()?Oz:p3);{const O=u.getMode()==="fixed"?m.y+Xt().top:m.y,M=Tn(s)+oO;return O+M<=b.y?Vp:ES}},dM=(t,s,i,u)=>{const m=M=>(B,W,Y,ee,se)=>{const be=NF(t,ee,M,i,se),Ie={...B,y:se.y,height:se.height};return{...be(Ie,W,Y,ee,se),alwaysFit:!0}},b=M=>uM(u)?[m(M)]:[];return s?{onLtr:M=>[ka,ba,Ui,Wc,Ol,Is].concat(b(M)),onRtl:M=>[ka,Ui,ba,Ol,Wc,Is].concat(b(M))}:{onLtr:M=>[Is,ka,Wc,ba,Ol,Ui].concat(b(M)),onRtl:M=>[Is,ka,Ol,Ui,Wc,ba].concat(b(M))}},kG=(t,s,i,u)=>s==="line"?{bubble:Od(oO,0,RF),layouts:{onLtr:()=>[Xu],onRtl:()=>[Jf]},overrides:IF}:{bubble:Od(0,oO,RF,1/oO),layouts:dM(t,i,u,s),overrides:IF},rO=(t,s)=>{const i=uo(s,b=>b.predicate(t.dom)),{pass:u,fail:m}=cs(i,b=>b.type==="contexttoolbar");return{contextToolbars:u,contextForms:m}},PG=t=>{if(t.length<=1)return t;{const s=b=>Bo(t,w=>w.position===b),i=b=>uo(t,w=>w.position===b),u=s("selection"),m=s("node");if(u||m)if(m&&u){const b=i("node"),w=Je(i("selection"),O=>({...O,position:"node"}));return b.concat(w)}else return i(u?"selection":"node");else return i("line")}},LG=t=>{if(t.length<=1)return t;{const s=u=>kn(t,m=>m.position===u);return s("selection").orThunk(()=>s("node")).orThunk(()=>s("line")).map(u=>u.position).fold(()=>[],u=>uo(t,m=>m.position===u))}},iO=(t,s,i)=>{const u=rO(t,s);if(u.contextForms.length>0)return P.some({elem:t,toolbars:[u.contextForms[0]]});{const m=rO(t,i);if(m.contextForms.length>0)return P.some({elem:t,toolbars:[m.contextForms[0]]});if(u.contextToolbars.length>0||m.contextToolbars.length>0){const b=PG(u.contextToolbars.concat(m.contextToolbars));return P.some({elem:t,toolbars:b})}else return P.none()}},MF=(t,s,i)=>t(s)?P.none():u1(s,u=>{if(Cs(u)){const{contextToolbars:m,contextForms:b}=rO(u,i.inNodeScope),w=b.length>0?b:LG(m);return w.length>0?P.some({elem:u,toolbars:w}):P.none()}else return P.none()},t),$G=(t,s)=>{const i=Xe.fromDom(s.getBody()),u=w=>bs(w,i),m=w=>!u(w)&&!ec(i,w),b=Xe.fromDom(s.selection.getNode());return m(b)?P.none():iO(b,t.inNodeScope,t.inEditorScope).orThunk(()=>MF(u,b,t))},BG=(t,s)=>{const i={},u=[],m=[],b={},w={},O=(W,Y)=>{const ee=Po(gL(Y));i[W]=ee,ee.launch.map(se=>{b["form:"+W]={...Y.launch,type:se.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{s(ee)}}}),ee.scope==="editor"?m.push(ee):u.push(ee),w[W]=ee},M=(W,Y)=>{SV(Y).each(ee=>{Y.scope==="editor"?m.push(ee):u.push(ee),w[W]=ee})},B=Os(t);return It(B,W=>{const Y=t[W];Y.type==="contextform"?O(W,Y):Y.type==="contexttoolbar"&&M(W,Y)}),{forms:i,inNodeScope:u,inEditorScope:m,lookupTable:w,formNavigators:b}},kF=_n("forward-slide"),PF=_n("backward-slide"),fM=_n("change-slide-event"),aO="tox-pop--resizing",LF=t=>{const s=Wn([]);return ra.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:i=>{s.set([]),ra.getContent(i).each(u=>{ot(u.element,"visibility")}),Ls(i.element,aO),ot(i.element,"width")},inlineBehaviours:kt([mo("context-toolbar-events",[qa(Lh(),(i,u)=>{u.event.raw.propertyName==="width"&&(Ls(i.element,aO),ot(i.element,"width"))}),Dt(fM,(i,u)=>{const m=i.element;ot(m,"width");const b=ur(m);ra.setContent(i,u.event.contents),As(m,aO);const w=ur(m);X(m,"width",b+"px"),ra.getContent(i).each(O=>{u.event.focus.bind(M=>(il(M),Xl(m))).orThunk(()=>(Bn.focusIn(O),xd(xa(m))))}),setTimeout(()=>{X(i.element,"width",w+"px")},0)}),Dt(kF,(i,u)=>{ra.getContent(i).each(m=>{s.set(s.get().concat([{bar:m,focus:xd(xa(i.element))}]))}),Mn(i,fM,{contents:u.event.forwardContents,focus:P.none()})}),Dt(PF,(i,u)=>{jc(s.get()).each(m=>{s.set(s.get().slice(0,s.get().length-1)),Mn(i,fM,{contents:rl(m.bar),focus:m.focus})})})]),Bn.config({mode:"special",onEscape:i=>jc(s.get()).fold(()=>t.onEscape(),u=>(ss(i,PF),P.some(!0)))})]),lazySink:()=>ro.value(t.sink)})},hM="tox-pop--transition",FG=(t,s,i,u)=>{const m=u.backstage,b=m.shared,w=Mt().deviceType.isTouch,O=Zs(),M=Zs(),B=Zs(),W=dc(LF({sink:i,onEscape:()=>(t.focus(),P.some(!0))})),Y=()=>{const Fn=B.get().getOr("node"),Mo=uM(Fn)?1:0;return OF(t,b,Fn,Mo)},ee=()=>!t.removed&&!(w()&&m.isContextMenuOpen()),se=Fn=>pc(id(Fn,O.get(),bs),!0),be=()=>{if(ee()){const Fn=Y(),Mo=pc(B.get(),"node")?NG(t,O.get()):nO(t);return Fn.height<=0||!tO(Mo,Fn,.01)}else return!0},Ie=()=>{O.clear(),M.clear(),B.clear(),ra.hide(W)},nt=()=>{if(ra.isOpen(W)){const Fn=W.element;ot(Fn,"display"),be()?X(Fn,"display","none"):(M.set(0),ra.reposition(W))}},Ue=Fn=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Fn],behaviours:kt([Bn.config({mode:"acyclic"}),mo("pop-dialog-wrap-events",[Tr(Mo=>{t.shortcuts.add("ctrl+F9","focus statusbar",()=>Bn.focusIn(Mo))}),Ac(Mo=>{t.shortcuts.remove("ctrl+F9")})])])}),tt=Ei(()=>BG(s,Fn=>{const Mo=Qt([Fn]);Mn(W,kF,{forwardContents:Ue(Mo)})})),ut=(Fn,Mo)=>X2(t,{buttons:Fn,toolbar:Mo.items,allowToolbarGroups:!1},u.backstage,P.some(["form:"])),pt=(Fn,Mo)=>eO.buildInitGroups(Fn,Mo),Qt=Fn=>{const{buttons:Mo}=t.ui.registry.getAll(),oo=tt(),Io={...Mo,...oo.formNavigators},Xn=HE(t)===Cf.scrolling?Cf.scrolling:Cf.default,xs=Yt(Je(Fn,Wt=>Wt.type==="contexttoolbar"?ut(Io,Wt):pt(Wt,b.providers)));return NS({type:Xn,uid:_n("context-toolbar"),initGroups:xs,onEscape:P.none,cyclicKeying:!0,providers:b.providers})},Pt=(Fn,Mo)=>{const oo=Fn==="node"?b.anchors.node(Mo):b.anchors.cursor(),Io=kG(t,Fn,w(),{lastElement:O.get,isReposition:()=>pc(M.get(),0),getMode:()=>Ws.getMode(i)});return Js(oo,Io)},ln=(Fn,Mo)=>{if($o.cancel(),!ee())return;const oo=Qt(Fn),Io=Fn[0].position,Xn=Pt(Io,Mo);B.set(Io),M.set(1);const xs=W.element;ot(xs,"display"),se(Mo)||(Ls(xs,hM),Ws.reset(i,W)),ra.showWithinBounds(W,Ue(oo),{anchor:Xn,transition:{classes:[hM],mode:"placement"}},()=>P.some(Y())),Mo.fold(O.clear,O.set),be()&&X(xs,"display","none")};let xn=!1;const $o=oN(()=>{if(!(!t.hasFocus()||t.removed||xn))if(oa(W.element,hM))$o.throttle();else{const Fn=tt();$G(Fn,t).fold(Ie,Mo=>{ln(Mo.toolbars,P.some(Mo.elem))})}},17);t.on("init",()=>{t.on("remove",Ie),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",nt),t.on("click keyup focus SetContent",$o.throttle),t.on(pw,Ie),t.on(IG,Fn=>{const Mo=tt();an(Mo.lookupTable,Fn.toolbarKey).each(oo=>{ln([oo],qn(Fn.target!==t,Fn.target)),ra.getContent(W).each(Bn.focusIn)})}),t.on("focusout",Fn=>{Eg.setEditorTimeout(t,()=>{Xl(i.element).isNone()&&Xl(W.element).isNone()&&Ie()},0)}),t.on("SwitchMode",()=>{t.mode.isReadOnly()&&Ie()}),t.on("AfterProgressState",Fn=>{Fn.state?Ie():t.hasFocus()&&$o.throttle()}),t.on("dragstart",()=>{xn=!0}),t.on("dragend drop",()=>{xn=!1}),t.on("NodeChange",Fn=>{Xl(W.element).fold($o.throttle,oe)})})},$F=t=>{It([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],i=>{t.ui.registry.addToggleButton(i.name,{tooltip:i.text,icon:i.icon,onAction:Of(t,i.cmd),onSetup:j2(t,i.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:Of(t,"JustifyNone")})},BF=(t,s)=>{const i=()=>{const u=s.getOptions(t),m=s.getCurrent(t).map(s.hash),b=Zs();return Je(u,w=>({type:"togglemenuitem",text:s.display(w),onSetup:O=>{const M=W=>{W&&(b.on(Y=>Y.setActive(!1)),b.set(O)),O.setActive(W)};M(pc(m,s.hash(w)));const B=s.watcher(t,w,M);return()=>{b.clear(),B()}},onAction:()=>s.setCurrent(t,w)}))};t.ui.registry.addMenuButton(s.name,{tooltip:s.text,icon:s.icon,fetch:u=>u(i()),onSetup:s.onToolbarSetup}),t.ui.registry.addNestedMenuItem(s.name,{type:"nestedmenuitem",text:s.text,getSubmenuItems:i,onSetup:s.onMenuSetup})},HG={name:"lineheight",text:"Line height",icon:"line-height",getOptions:BP,hash:t=>QB(t,["fixed","relative","empty"]).getOr(t),display:Ze,watcher:(t,s,i)=>t.formatter.formatChanged("lineheight",i,!1,{value:s}).unbind,getCurrent:t=>P.from(t.queryCommandValue("LineHeight")),setCurrent:(t,s)=>t.execCommand("LineHeight",!1,s)},VG=t=>P.from(aI(t)).map(i=>({name:"language",text:"Language",icon:"language",getOptions:Ee(i),hash:u=>ve(u.customCode)?u.code:`${u.code}/${u.customCode}`,display:u=>u.title,watcher:(u,m,b)=>{var w;return u.formatter.formatChanged("lang",b,!1,{value:m.code,customValue:(w=m.customCode)!==null&&w!==void 0?w:null}).unbind},getCurrent:u=>{const m=Xe.fromDom(u.selection.getNode());return Av(m,b=>P.some(b).filter(Cs).bind(w=>Kr(w,"lang").map(M=>{const B=Kr(w,"data-mce-lang").getOrUndefined();return{code:M,customCode:B,title:""}})))},setCurrent:(u,m)=>u.execCommand("Lang",!1,m),onToolbarSetup:u=>{const m=_u();return u.setActive(t.formatter.match("lang",{},void 0,!0)),m.set(t.formatter.formatChanged("lang",u.setActive,!0)),m.clear}})),UG=t=>{BF(t,HG),VG(t).each(s=>BF(t,s))},zG=(t,s)=>{G9(t,s),K9(t,s),lG(t,s),j9(t,s),aG(t,s)},mM=t=>kS(t,"NodeChange",s=>{s.setEnabled(t.queryCommandState("outdent"))}),WG=t=>{t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:mM(t),onAction:Of(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:Of(t,"indent")})},GG=t=>{WG(t)},cO=(t,s)=>i=>{i.setActive(s.get());const u=m=>{s.set(m.state),i.setActive(m.state)};return t.on("PastePlainTextToggle",u),()=>t.off("PastePlainTextToggle",u)},FF=t=>{const s=Wn(lI(t)),i=()=>t.execCommand("mceTogglePlainTextPaste");t.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:i,onSetup:cO(t,s)}),t.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:i,onSetup:cO(t,s)})},lO=(t,s)=>()=>{t.execCommand("mceToggleFormat",!1,s)},qG=t=>{Ly.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(s,i)=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:j2(t,s.name),onAction:lO(t,s.name)})});for(let s=1;s<=6;s++){const i="h"+s;t.ui.registry.addToggleButton(i,{text:i.toUpperCase(),tooltip:"Heading "+s,onSetup:j2(t,i),onAction:lO(t,i)})}},jG=t=>{Ly.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"print",text:"Print",action:"mcePrint",icon:"print"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onAction:Of(t,s.action)})})},ZG=t=>{Ly.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],s=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onAction:Of(t,s.action),onSetup:j2(t,s.name)})})},YG=t=>{qG(t),jG(t),ZG(t)},KG=t=>{Ly.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onAction:Of(t,s.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:lO(t,"code")})},HF=t=>{YG(t),KG(t)},uO=(t,s)=>kS(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",i=>{i.setEnabled(!t.mode.isReadOnly()&&t.undoManager[s]())}),VF=t=>{t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:uO(t,"hasUndo"),onAction:Of(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:uO(t,"hasRedo"),onAction:Of(t,"redo")})},XG=t=>{t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:uO(t,"hasUndo"),onAction:Of(t,"undo")}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:uO(t,"hasRedo"),onAction:Of(t,"redo")})},QG=t=>{VF(t),XG(t)},gM=t=>kS(t,"VisualAid",s=>{s.setActive(t.hasVisual)}),UF=t=>{t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:gM(t),onAction:Of(t,"mceToggleVisualAid")})},JG=t=>{t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:Of(t,"mceToggleVisualAid")})},eq=t=>{JG(t),UF(t)},pM=(t,s)=>{$F(t),HF(t),zG(t,s),QG(t),eD(t),eq(t),GG(t),UG(t),FF(t)},tq=t=>U(t)?t.split(/[ ,]/):t,zF=t=>s=>s.options.get(t),nq=t=>{const s=t.options.register;s("contextmenu_avoid_overlap",{processor:"string",default:""}),s("contextmenu_never_use_native",{processor:"boolean",default:!1}),s("contextmenu",{processor:i=>i===!1?{value:[],valid:!0}:U(i)||Me(i,U)?{value:tq(i),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},WF=zF("contextmenu_never_use_native"),oq=zF("contextmenu_avoid_overlap"),GF=t=>qF(t).length===0,qF=t=>{const s=t.ui.registry.getAll().contextMenus,i=t.options.get("contextmenu");return t.options.isSet("contextmenu")?i:uo(i,u=>Ho(s,u))},FS=(t,s)=>({type:"makeshift",x:t,y:s}),sq=(t,s,i)=>FS(t.x+s,t.y+i),jF=t=>t.type==="longpress"||t.type.indexOf("touch")===0,rq=t=>{if(jF(t)){const s=t.touches[0];return FS(s.pageX,s.pageY)}else return FS(t.pageX,t.pageY)},iq=t=>{if(jF(t)){const s=t.touches[0];return FS(s.clientX,s.clientY)}else return FS(t.clientX,t.clientY)},aq=(t,s)=>{const i=TC.DOM.getPos(t);return sq(s,i.x,i.y)},cq=(t,s)=>s.type==="contextmenu"||s.type==="longpress"?t.inline?rq(s):aq(t.getContentAreaContainer(),iq(s)):vM(t),vM=t=>({type:"selection",root:Xe.fromDom(t.selection.getNode())}),lq=t=>({type:"node",node:P.some(Xe.fromDom(t.selection.getNode())),root:Xe.fromDom(t.getBody())}),bM=(t,s,i)=>{switch(i){case"node":return lq(t);case"point":return cq(t,s);case"selection":return vM(t)}},uq=(t,s,i,u,m,b)=>{const w=i(),O=bM(t,s,b);Fy(w,wg.CLOSE_ON_EXECUTE,u,{isHorizontalMenu:!1,search:P.none()}).map(M=>{s.preventDefault(),ra.showMenuAt(m,{anchor:O},{menu:{markers:wy("normal")},data:M})})},dq={onLtr:()=>[ka,ba,Ui,Wc,Ol,Is,Vp,ES,_S,bS,yS,lw],onRtl:()=>[ka,Ui,ba,Ol,Wc,Is,Vp,ES,yS,lw,_S,bS]},fq=12,qy={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},ZF=(t,s)=>{const i=t.selection;if(i.isCollapsed()||s.touches.length<1)return!1;{const u=s.touches[0],m=i.getRng();return G1(t.getWin(),th.domRange(m)).exists(w=>w.left<=u.clientX&&w.right>=u.clientX&&w.top<=u.clientY&&w.bottom>=u.clientY)}},hq=t=>{const s=t.selection.getRng(),i=()=>{Eg.setEditorTimeout(t,()=>{t.selection.setRng(s)},10),b()};t.once("touchend",i);const u=w=>{w.preventDefault(),w.stopImmediatePropagation()};t.on("mousedown",u,!0);const m=()=>b();t.once("longpresscancel",m);const b=()=>{t.off("touchend",i),t.off("longpresscancel",m),t.off("mousedown",u)}},mq=(t,s,i)=>{const u=bM(t,s,i);return{bubble:Od(0,i==="point"?fq:0,qy),layouts:dq,overrides:{maxWidthFunction:WN(),maxHeightFunction:Zh()},...u}},gq=(t,s,i,u,m,b,w)=>{const O=mq(t,s,b);Fy(i,wg.CLOSE_ON_EXECUTE,u,{isHorizontalMenu:!0,search:P.none()}).map(M=>{s.preventDefault();const B=w?Su.HighlightMenuAndItem:Su.HighlightNone;ra.showMenuWithinBounds(m,{anchor:O},{menu:{markers:wy("normal"),highlightOnOpen:B},data:M,type:"horizontal"},()=>P.some(OF(t,u.shared,b==="node"?"node":"selection"))),t.dispatch(pw)})},pq=(t,s,i,u,m,b)=>{const w=Mt(),O=w.os.isiOS(),M=w.os.isMacOS(),B=w.os.isAndroid(),W=w.deviceType.isTouch(),Y=()=>!(B||O||M&&W),ee=()=>{const se=i();gq(t,s,se,u,m,b,Y())};if((M||O)&&b!=="node"){const se=()=>{hq(t),ee()};ZF(t,s)?se():(t.once("selectionchange",se),t.once("touchend",()=>t.off("selectionchange",se)))}else ee()},yM=t=>U(t)?t==="|":t.type==="separator",_M={type:"separator"},YF=t=>{const s=i=>({text:i.text,icon:i.icon,enabled:i.enabled,shortcut:i.shortcut});if(U(t))return t;switch(t.type){case"separator":return _M;case"submenu":return{type:"nestedmenuitem",...s(t),getSubmenuItems:()=>{const u=t.getSubmenuItems();return U(u)?u:Je(u,YF)}};default:const i=t;return{type:"menuitem",...s(i),onAction:Be(i.onAction)}}},KF=(t,s)=>{if(s.length===0)return t;const u=jc(t).filter(m=>!yM(m)).fold(()=>[],m=>[_M]);return t.concat(u).concat(s).concat([_M])},vq=(t,s,i)=>{const u=ps(s,(m,b)=>an(t,b.toLowerCase()).map(w=>{const O=w.update(i);if(U(O))return KF(m,O.split(" "));if(O.length>0){const M=Je(O,YF);return KF(m,M)}else return m}).getOrThunk(()=>m.concat([b])),[]);return u.length>0&&yM(u[u.length-1])&&u.pop(),u},bq=(t,s)=>s.ctrlKey&&!WF(t),yq=t=>t.type==="longpress"||Ho(t,"touches"),XF=(t,s)=>!yq(s)&&(s.button!==2||s.target===t.getBody()&&s.pointerType===""),QF=(t,s)=>XF(t,s)?t.selection.getStart(!0):s.target,JF=(t,s)=>{const i=oq(t),u=XF(t,s)?"selection":"point";if(Sa(i)){const m=QF(t,s);return QC(Xe.fromDom(m),i)?"node":u}else return u},e5=(t,s,i)=>{const m=Mt().deviceType.isTouch,b=dc(ra.sketch({dom:{tag:"div"},lazySink:s,onEscape:()=>t.focus(),onShow:()=>i.setContextMenuState(!0),onHide:()=>i.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:kt([mo("dismissContextMenu",[Dt(gu(),(M,B)=>{Uo.close(M),t.focus()})])])})),w=()=>ra.hide(b),O=M=>{if(WF(t)&&M.preventDefault(),bq(t,M)||GF(t))return;const B=JF(t,M),W=()=>{const ee=QF(t,M),se=t.ui.registry.getAll(),be=qF(t);return vq(se.contextMenus,be,ee)};(m()?pq:uq)(t,M,W,i,b,B)};t.on("init",()=>{const M="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(m()?"":" ResizeWindow");t.on(M,w),t.on("longpress contextmenu",O)})},EM=mu.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),Ub=t=>s=>s.translate(-t.left,-t.top),dO=t=>s=>s.translate(t.left,t.top),hv=t=>(s,i)=>ps(t,(u,m)=>m(u),Kn(s,i)),vw=(t,s,i)=>t.fold(hv([dO(i),Ub(s)]),hv([Ub(s)]),hv([])),bw=(t,s,i)=>t.fold(hv([dO(i)]),hv([]),hv([dO(s)])),t5=(t,s,i)=>t.fold(hv([]),hv([Ub(i)]),hv([dO(s),Ub(i)])),_q=(t,s,i,u,m,b)=>{const w=bw(t,m,b),O=bw(s,m,b);return Math.abs(w.left-O.left)<=i&&Math.abs(w.top-O.top)<=u},Eq=(t,s,i,u,m,b)=>{const w=bw(t,m,b),O=bw(s,m,b),M=Math.abs(w.left-O.left),B=Math.abs(w.top-O.top);return Kn(M,B)},n5=(t,s,i)=>{const u=t.fold((m,b)=>({position:P.some("absolute"),left:P.some(m+"px"),top:P.some(b+"px")}),(m,b)=>({position:P.some("absolute"),left:P.some(m-i.left+"px"),top:P.some(b-i.top+"px")}),(m,b)=>({position:P.some("fixed"),left:P.some(m+"px"),top:P.some(b+"px")}));return{right:P.none(),bottom:P.none(),...u}},wq=(t,s,i)=>t.fold((u,m)=>fO(u+s,m+i),(u,m)=>zb(u+s,m+i),(u,m)=>jy(u+s,m+i)),wM=(t,s,i,u)=>{const m=(b,w)=>(O,M)=>{const B=b(s,i,u);return w(O.getOr(B.left),M.getOr(B.top))};return t.fold(m(t5,fO),m(bw,zb),m(vw,jy))},fO=EM.offset,zb=EM.absolute,jy=EM.fixed,o5=(t,s)=>{const i=Mi(t,s);return ve(i)?NaN:parseInt(i,10)},Tq=(t,s)=>{const i=t.element,u=o5(i,s.leftAttr),m=o5(i,s.topAttr);return isNaN(u)||isNaN(m)?P.none():P.some(Kn(u,m))},Cq=(t,s,i)=>{const u=t.element;co(u,s.leftAttr,i.left+"px"),co(u,s.topAttr,i.top+"px")},Sq=(t,s)=>{const i=t.element;T(i,s.leftAttr),T(i,s.topAttr)},Aq=(t,s,i,u)=>Tq(t,s).fold(()=>i,m=>jy(m.left+u.left,m.top+u.top)),xq=(t,s,i,u,m,b)=>{const w=Aq(t,s,i,u),O=s.mustSnap?Rq(t,s,w,m,b):Iq(t,s,w,m,b),M=vw(w,m,b);return Cq(t,s,M),O.fold(()=>({coord:jy(M.left,M.top),extra:P.none()}),B=>({coord:B.output,extra:B.extra}))},Oq=(t,s)=>{Sq(t,s)},HS=(t,s,i,u)=>nr(t,m=>{const b=m.sensor;return _q(s,b,m.range.left,m.range.top,i,u)?P.some({output:wM(m.output,s,i,u),extra:m.extra}):P.none()}),Rq=(t,s,i,u,m)=>{const b=s.getSnapPoints(t);return HS(b,i,u,m).orThunk(()=>ps(b,(M,B)=>{const W=B.sensor,Y=Eq(i,W,B.range.left,B.range.top,u,m);return M.deltas.fold(()=>({deltas:P.some(Y),snap:P.some(B)}),ee=>{const se=(Y.left+Y.top)/2,be=(ee.left+ee.top)/2;return se<=be?{deltas:P.some(Y),snap:P.some(B)}:M})},{deltas:P.none(),snap:P.none()}).snap.map(M=>({output:wM(M.output,i,u,m),extra:M.extra})))},Iq=(t,s,i,u,m)=>{const b=s.getSnapPoints(t);return HS(b,i,u,m)},Dq=(t,s,i)=>({coord:wM(t.output,t.output,s,i),extra:t.extra});var Nq=Object.freeze({__proto__:null,snapTo:(t,s,i,u)=>{const m=s.getTarget(t.element);if(s.repositionTarget){const b=ri(t.element),w=Xt(b),O=U3(m),M=Dq(u,w,O),B=n5(M.coord,w,O);me(m,B)}}});const TM="data-initial-z-index",s5=t=>{_c(t.element).filter(Cs).each(s=>{Kr(s,TM).fold(()=>ot(s,"z-index"),i=>X(s,"z-index",i)),T(s,TM)})},Mq=t=>{_c(t.element).filter(Cs).each(s=>{st(s,"z-index").each(i=>{co(s,TM,i)}),X(s,"z-index",pe(t.element,"z-index"))})},r5=(t,s)=>{t.getSystem().addToGui(s),Mq(s)},kq=t=>{s5(t),t.getSystem().removeFromGui(t)},i5=(t,s,i)=>t.getSystem().build(am.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[s]},events:i}));var Pq=dn("snaps",[At("getSnapPoints"),Ye("onSensor"),At("leftAttr"),At("topAttr"),We("lazyViewport",Da),We("mustSnap",!1)]);const VS=[We("useFixed",wt),At("blockerClass"),We("getTarget",Ze),We("onDrag",oe),We("repositionTarget",!0),We("onDrop",oe),Ti("getBounds",Da),Pq],a5=t=>qd(st(t,"left"),st(t,"top"),st(t,"position"),(s,i,u)=>(u==="fixed"?jy:fO)(parseInt(s,10),parseInt(i,10))).getOrThunk(()=>{const s=xo(t);return zb(s.left,s.top)}),Lq=(t,s,i,u,m)=>{const b=m.bounds,w=bw(s,i,u),O=Rc(w.left,b.x,b.x+b.width-m.width),M=Rc(w.top,b.y,b.y+b.height-m.height),B=zb(O,M);return s.fold(()=>{const W=t5(B,i,u);return fO(W.left,W.top)},Ee(B),()=>{const W=vw(B,i,u);return jy(W.left,W.top)})},$q=(t,s,i,u,m,b,w)=>{const O=s.fold(()=>{const M=wq(i,b.left,b.top),B=vw(M,u,m);return jy(B.left,B.top)},M=>{const B=xq(t,M,i,b,u,m);return B.extra.each(W=>{M.onSensor(t,W)}),B.coord});return Lq(t,O,u,m,w)},Bq=(t,s,i,u)=>{const m=s.getTarget(t.element);if(s.repositionTarget){const b=ri(t.element),w=Xt(b),O=U3(m),M=a5(m),B=$q(t,s.snaps,M,w,O,u,i),W=n5(B,w,O);me(m,W)}s.onDrag(t,m,u)},c5=(t,s)=>({bounds:t.getBounds(),height:lr(s.element),width:Ir(s.element)}),CM=(t,s,i,u,m)=>{const b=i.update(u,m),w=i.getStartData().getOrThunk(()=>c5(s,t));b.each(O=>{Bq(t,s,w,O)})},l5=(t,s,i,u)=>{s.each(kq),i.snaps.each(b=>{Oq(t,b)});const m=i.getTarget(t.element);u.reset(),i.onDrop(t,m)},SM=t=>(s,i)=>{const u=m=>{i.setStartData(c5(s,m))};return js([Dt(zu(),m=>{i.getStartData().each(()=>u(m))}),...t(s,i,u)])},Fq=t=>js([Dt(Fi(),t.forceDrop),Dt(Ph(),t.drop),Dt(Tl(),(s,i)=>{t.move(i.event)}),Dt(kh(),t.delayDrop)]);var Hq=Object.freeze({__proto__:null,getData:t=>P.from(Kn(t.x,t.y)),getDelta:(t,s)=>Kn(s.left-t.left,s.top-t.top)});const u5=(t,s,i)=>[Dt(Fi(),(u,m)=>{if(m.event.raw.button!==0)return;m.stop();const w=()=>l5(u,P.some(B),t,s),O=T4(w,200),M={drop:w,delayDrop:O.schedule,forceDrop:w,move:Y=>{O.cancel(),CM(u,t,s,Hq,Y)}},B=i5(u,t.blockerClass,Fq(M));(()=>{i(u),r5(u,B)})()})],Vq=[...VS,er("dragger",{handlers:SM(u5)})],Uq=t=>js([Dt(ql(),t.forceDrop),Dt(Mh(),t.drop),Dt(m_(),t.drop),Dt(Lm(),(s,i)=>{t.move(i.event)})]),zq=t=>{const s=t[0];return P.some(Kn(s.clientX,s.clientY))};var d5=Object.freeze({__proto__:null,getData:t=>{const i=t.raw.touches;return i.length===1?zq(i):P.none()},getDelta:(t,s)=>Kn(s.left-t.left,s.top-t.top)});const f5=(t,s,i)=>{const u=Zs(),m=b=>{l5(b,u.get(),t,s),u.clear()};return[Dt(ql(),(b,w)=>{w.stop();const O=()=>m(b),M={drop:O,delayDrop:oe,forceDrop:O,move:Y=>{CM(b,t,s,d5,Y)}},B=i5(b,t.blockerClass,Uq(M));u.set(B),(()=>{i(b),r5(b,B)})()}),Dt(Lm(),(b,w)=>{w.stop(),CM(b,t,s,d5,w.event)}),Dt(Mh(),(b,w)=>{w.stop(),m(b)}),Dt(m_(),m)]},Wq=[...VS,er("dragger",{handlers:SM(f5)})],Gq=(t,s,i)=>[...u5(t,s,i),...f5(t,s,i)],h5=[...VS,er("dragger",{handlers:SM(Gq)})];var AM=Object.freeze({__proto__:null,mouse:Vq,touch:Wq,mouseOrTouch:h5}),jq=Object.freeze({__proto__:null,init:()=>{let t=P.none(),s=P.none();const i=()=>{t=P.none(),s=P.none()},u=(M,B)=>{const W=t.map(Y=>M.getDelta(Y,B));return t=P.some(B),W},m=(M,B)=>M.getData(B).bind(W=>u(M,W)),b=M=>{s=P.some(M)},w=()=>s,O=Ee({});return xc({readState:O,reset:i,update:m,getStartData:w,setStartData:b})}});const Zy=H_({branchKey:"mode",branches:AM,name:"dragging",active:{events:(t,s)=>t.dragger.handlers(t,s)},extra:{snap:t=>({sensor:t.sensor,range:t.range,output:t.output,extra:P.from(t.extra)})},state:jq,apis:Nq}),OM=40,hO=OM/2,m5=(t,s,i,u,m,b)=>t.fold(()=>Zy.snap({sensor:zb(i-hO,u-hO),range:Kn(m,b),output:zb(P.some(i),P.some(u)),extra:{td:s}}),w=>{const O=i-hO,M=u-hO,B=OM,W=OM,Y=w.element.dom.getBoundingClientRect();return Zy.snap({sensor:zb(O,M),range:Kn(B,W),output:zb(P.some(i-Y.width/2),P.some(u-Y.height/2)),extra:{td:s}})}),Wb=(t,s,i)=>{const u=(m,b)=>m.exists(w=>bs(w,b));return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(m,b)=>{const w=b.td;u(s.get(),w)||(s.set(w),i(w))},mustSnap:!0}},RM=t=>zo(qc.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:kt([Zy.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),oS.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),Zq=(t,s)=>{const i=Wn([]),u=Wn([]),m=Wn(!1),b=Zs(),w=Zs(),O=ln=>{const xn=gl(ln);return m5(se.getOpt(s),ln,xn.x,xn.y,xn.width,xn.height)},M=()=>Je(i.get(),ln=>O(ln)),B=ln=>{const xn=gl(ln);return m5(be.getOpt(s),ln,xn.right,xn.bottom,xn.width,xn.height)},W=()=>Je(u.get(),ln=>B(ln)),Y=Wb(M,b,ln=>{w.get().each(xn=>{t.dispatch("TableSelectorChange",{start:ln,finish:xn})})}),ee=Wb(W,w,ln=>{b.get().each(xn=>{t.dispatch("TableSelectorChange",{start:xn,finish:ln})})}),se=RM(Y),be=RM(ee),Ie=dc(se.asSpec()),nt=dc(be.asSpec()),Ue=(ln,xn,$o,Fn)=>{const Mo=xn.dom.getBoundingClientRect();ot(ln.element,"display");const oo=Iu(Xe.fromDom(t.getBody())).dom.innerHeight,Io=$o(Mo),Xn=Fn(Mo,oo);(Io||Xn)&&X(ln.element,"display","none")},tt=(ln,xn,$o,Fn)=>{const Mo=$o(xn);Zy.snapTo(ln,Mo),Ue(ln,xn,Xn=>Xn[Fn]<0,(Xn,xs)=>Xn[Fn]>xs)},ut=ln=>tt(Ie,ln,O,"top"),pt=()=>b.get().each(ut),Qt=ln=>tt(nt,ln,B,"bottom"),Pt=()=>w.get().each(Qt);Mt().deviceType.isTouch()&&(t.on("TableSelectionChange",ln=>{m.get()||(Xh(s,Ie),Xh(s,nt),m.set(!0)),b.set(ln.start),w.set(ln.finish),ln.otherCells.each(xn=>{i.set(xn.upOrLeftCells),u.set(xn.downOrRightCells),ut(ln.start),Qt(ln.finish)})}),t.on("ResizeEditor ResizeWindow ScrollContent",()=>{pt(),Pt()}),t.on("TableSelectionClear",()=>{m.get()&&(Qh(Ie),Qh(nt),m.set(!1)),b.clear(),w.clear()}))};var Yq=`<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>
</svg>
`;const Kq=t=>t.nodeName==="BR"||!!t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark",Xq=(t,s,i)=>{var u;const m=(u=s.delimiter)!==null&&u!==void 0?u:"›",b=(B,W,Y)=>qc.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":Y,"aria-level":Y+1}},components:[Cr(B)],action:ee=>{t.focus(),t.selection.select(W),t.nodeChanged()},buttonBehaviours:kt([im.button(i.isDisabled),Za()])}),w=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Cr(` ${m} `)]}),O=B=>ps(B,(W,Y,ee)=>{const se=b(Y.name,Y.element,ee);return ee===0?W.concat([se]):W.concat([w(),se])},[]),M=B=>{const W=[];let Y=B.length;for(;Y-- >0;){const ee=B[Y];if(ee.nodeType===1&&!Kq(ee)){const se=$x(t,ee);if(se.isDefaultPrevented()||W.push({name:se.name,element:ee}),se.isPropagationStopped())break}}return W};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:kt([Bn.config({mode:"flow",selector:"div[role=button]"}),no.config({disabled:i.isDisabled}),Za(),hi.config({}),lo.config({}),mo("elementPathEvents",[Tr((B,W)=>{t.shortcuts.add("alt+F11","focus statusbar elementpath",()=>Bn.focusIn(B)),t.on("NodeChange",Y=>{const ee=M(Y.parents),se=ee.length>0?O(ee):[];lo.set(B,se)})})])]),components:[]}};var Yy;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(Yy||(Yy={}));const Qq=(t,s,i,u,m)=>{const b={height:J2(u+s.top,xC(t),ax(t))};return i===Yy.Both&&(b.width=J2(m+s.left,rx(t),ix(t))),b},g5=(t,s,i)=>{const u=Xe.fromDom(t.getContainer()),m=Qq(t,s,i,Tn(u),ur(u));Yr(m,(b,w)=>{De(b)&&X(u,w,iM(b))}),KV(t)},Jq=t=>{const s=kP(t);return s===!1?Yy.None:s==="both"?Yy.Both:Yy.Vertical},_w=(t,s,i,u)=>{const b=Kn(i*20,u*20);return g5(t,b,s),P.some(!0)},US=(t,s)=>{const i=Jq(t);return i===Yy.None?P.none():P.some(oh("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:s.translate("Resize")},behaviours:[Zy.config({mode:"mouse",repositionTarget:!1,onDrag:(u,m,b)=>g5(t,b,i),blockerClass:"tox-blocker"}),Bn.config({mode:"special",onLeft:()=>_w(t,i,-1,0),onRight:()=>_w(t,i,1,0),onUp:()=>_w(t,i,0,-1),onDown:()=>_w(t,i,0,1)}),hi.config({}),jn.config({})]},s.icons))},IM=(t,s)=>{const i=(u,m,b)=>lo.set(u,[Cr(s.translate(["{0} "+b,m[b]]))]);return qc.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:kt([im.button(s.isDisabled),Za(),hi.config({}),lo.config({}),fn.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),mo("wordcount-events",[Zl(u=>{const m=fn.getValue(u),b=m.mode==="words"?"characters":"words";fn.setValue(u,{mode:b,count:m.count}),i(u,m.count,b)}),Tr(u=>{t.on("wordCountUpdate",m=>{const{mode:b}=fn.getValue(u);fn.setValue(u,{mode:b,count:m.wordCount}),i(u,m.wordCount,b)})})])]),eventOrder:{[zs()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},mO=(t,s)=>{const i=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6",rel:"noopener",target:"_blank","aria-label":Tf.translate(["Powered by {0}","Tiny"])},innerHtml:Yq.trim()},behaviours:kt([jn.config({})])}]}),u=()=>{const b=[];return NP(t)&&b.push(Xq(t,{},s)),t.hasPlugin("wordcount")&&b.push(IM(t,s)),MP(t)&&b.push(i()),b.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:b}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const b=u(),w=US(t,s);return b.concat(w.toArray())})()}},Gb=(t,s)=>s.get().getOrDie(`UI for ${t} has not been rendered`),gO=(t,s)=>{const i=t.inline,u=i?OG:wG,m=zE(t)?DW:V3,b=RG(),w=Zs(),O=Zs(),M=Zs(),ee=Mt().deviceType.isTouch()?["tox-platform-touch"]:[],se=dI(t),be=HE(t),Ie=zo({dom:{tag:"div",classes:["tox-anchorbar"]}}),nt=()=>b.mainUi.get().map(pn=>pn.outerContainer).bind(xr.getHeader),Ue=()=>ro.fromOption(b.dialogUi.get().map(pn=>pn.sink),"UI has not been rendered"),tt=()=>ro.fromOption(b.popupUi.get().map(pn=>pn.sink),"(popup) UI has not been rendered"),ut=b.lazyGetInOuterOrDie("anchor bar",Ie.getOpt),pt=b.lazyGetInOuterOrDie("toolbar",xr.getToolbar),Qt=b.lazyGetInOuterOrDie("throbber",xr.getThrobber),Pt=rW({popup:tt,dialog:Ue},t,ut),ln=()=>{const pn={attributes:{[B1]:se?gf.BottomToTop:gf.TopToBottom}},Yn=xr.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:Pt.popup,onEscape:()=>{t.focus()}}),Eo=xr.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:Pt.popup.shared.getSink,providers:Pt.popup.shared.providers,onEscape:()=>{t.focus()},onToolbarToggled:TO=>{XV(t,TO)},type:be,lazyToolbar:pt,lazyHeader:()=>nt().getOrDie("Could not find header element"),...pn}),Jo=xr.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:Pt.popup.shared.providers,onEscape:()=>{t.focus()},type:be}),aa=UE(t),Es=VE(t),su=Ip(t),gi=LP(t),hh=xn(),bm=aa||Es||su,pv=()=>aa?[Jo]:Es?[Eo]:[],YS=gi?[hh,Yn]:[Yn];return xr.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(bm?[]:["tox-editor-header--empty"]),...pn},components:Yt([su?YS:[],pv(),Ey(t)?[]:[Ie.asSpec()]]),sticky:zE(t),editor:t,sharedBackstage:Pt.popup.shared})},xn=()=>xr.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),$o=()=>{const pn=xr.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Yn=xr.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[pn,Yn]}},Fn=()=>{const pn=IC(t),Yn=bs(Qi(),pn)&&pe(pn,"display")==="grid",Eo={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(ee),attributes:{...Tf.isRtl()?{dir:"rtl"}:{}}},behaviours:kt([Ws.config({useFixed:()=>m.isDocked(nt)})])},Jo={dom:{styles:{width:document.body.clientWidth+"px"}},events:js([Dt(Uf(),su=>{X(su.element,"width",document.body.clientWidth+"px")})])},aa=dc(Js(Eo,Yn?Jo:{})),Es=fD(aa);return O.set(Es),{sink:aa,mothership:Es}},Mo=()=>{const pn={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(ee),attributes:{...Tf.isRtl()?{dir:"rtl"}:{}}},behaviours:kt([Ws.config({useFixed:()=>m.isDocked(nt),getBounds:()=>s.getPopupSinkBounds()})])},Yn=dc(pn),Eo=fD(Yn);return M.set(Eo),{sink:Yn,mothership:Eo}},oo=()=>{const pn=ln(),Yn=$o(),Eo=xr.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:Pt.popup}),Jo=xr.parts.viewWrapper({backstage:Pt.popup}),aa=DP(t)&&!i?P.some(mO(t,Pt.popup.shared.providers)):P.none(),Es=Yt([se?[]:[pn],i?[]:[Yn],se?[pn]:[]]),su=xr.parts.editorContainer({components:Yt([Es,i?[]:aa.toArray()])}),gi=hI(t),hh={role:"application",...Tf.isRtl()?{dir:"rtl"}:{},...gi?{"aria-hidden":"true"}:{}},bm=dc(xr.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(i?["tox-tinymce-inline"]:[]).concat(se?["tox-tinymce--toolbar-bottom"]:[]).concat(ee),styles:{visibility:"hidden",...gi?{opacity:"0",border:"0"}:{}},attributes:hh},components:[su,...i?[]:[Jo],Eo],behaviours:kt([Za(),no.config({disableClass:"tox-tinymce--disabled"}),Bn.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),pv=fD(bm);return w.set(pv),{mothership:pv,outerContainer:bm}},Io=pn=>{const Yn=iM(CG(t)),Eo=iM(SG(t));return t.inline||(Kt("div","width",Eo)&&X(pn.element,"width",Eo),Kt("div","height",Yn)?X(pn.element,"height",Yn):X(pn.element,"height","400px")),Yn},Xn=pn=>{t.addShortcut("alt+F9","focus menubar",()=>{xr.focusMenubar(pn)}),t.addShortcut("alt+F10","focus toolbar",()=>{xr.focusToolbar(pn)}),t.addCommand("ToggleToolbarDrawer",(Yn,Eo)=>{Eo!=null&&Eo.skipFocus?xr.toggleToolbarDrawerWithoutFocusing(pn):xr.toggleToolbarDrawer(pn)}),t.addQueryStateHandler("ToggleToolbarDrawer",()=>xr.isToolbarDrawerToggled(pn))},xs=pn=>{const{mainUi:Yn,popupUi:Eo,uiMotherships:Jo}=pn;Ms(cx(t),(t_,HM)=>{t.ui.registry.addGroupToolbarButton(HM,t_)});const{buttons:aa,menuItems:Es,contextToolbars:su,sidebars:gi,views:hh}=t.ui.registry.getAll(),bm=uI(t),pv={menuItems:Es,menus:WE(t),menubar:SP(t),toolbar:bm.getOrThunk(()=>dx(t)),allowToolbarGroups:be===Cf.floating,buttons:aa,sidebar:gi,views:hh};Xn(Yn.outerContainer),iW(t,Yn.mothership,Jo),m.setup(t,Pt.popup.shared,nt),pM(t,Pt.popup),e5(t,Pt.popup.shared.getSink,Pt.popup),BW(t),QW(t,Qt,Pt.popup.shared),FG(t,su,Eo.sink,{backstage:Pt.popup}),Zq(t,Eo.sink);const YS=t.getElement(),TO=Io(Yn.outerContainer),Sw={targetNode:YS,height:TO};return u.render(t,pn,pv,Pt.popup,Sw)},Wt=pn=>(M.set(pn.mothership),pn),Sn=()=>{const pn=oo(),Yn=Fn(),Eo=Ob(t)?Mo():Wt(Yn);b.dialogUi.set(Yn),b.popupUi.set(Eo),b.mainUi.set(pn);const Jo={popupUi:Eo,dialogUi:Yn,mainUi:pn,uiMotherships:b.getUiMotherships()};return xs(Jo)};return{popups:{backstage:Pt.popup,getMothership:()=>Gb("popups",M)},dialogs:{backstage:Pt.dialog,getMothership:()=>Gb("dialogs",O)},renderUI:Sn}},ej=(t,s)=>{const i=P.from(Mi(t,"id")).fold(()=>{const u=_n("dialog-describe");return co(s,"id",u),u},Ze);co(t,"aria-describedby",i)},p5=(t,s)=>{const i=Kr(t,"id").fold(()=>{const u=_n("dialog-label");return co(s,"id",u),u},Ze);co(t,"aria-labelledby",i)},v5=Ee([At("lazySink"),Yo("dragBlockClass"),Ti("getBounds",Da),We("useTabstopAt",Ot),We("firstTabstop",0),We("eventOrder",{}),ja("modalBehaviours",[Bn]),Sr("onExecute"),w0("onEscape")]),pO={sketch:Ze},tj=Ee([Dd({name:"draghandle",overrides:(t,s)=>({behaviours:kt([Zy.config({mode:"mouse",getTarget:i=>xl(i,'[role="dialog"]').getOr(i),blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(s,null,2)).message),getBounds:t.getDragBounds})])})}),La({schema:[At("dom")],name:"title"}),La({factory:pO,schema:[At("dom")],name:"close"}),La({factory:pO,schema:[At("dom")],name:"body"}),Dd({factory:pO,schema:[At("dom")],name:"footer"}),_f({factory:{sketch:(t,s)=>({...t,dom:s.dom,components:s.components})},schema:[We("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),We("components",[])],name:"blocker"})]),nj=(t,s,i,u)=>{const m=Zs(),b=se=>{m.set(se);const be=t.lazySink(se).getOrDie(),Ie=u.blocker(),nt=be.getSystem().build({...Ie,components:Ie.components.concat([rl(se)]),behaviours:kt([jn.config({}),mo("dialog-blocker-events",[qa(Hf(),()=>{Bn.focusIn(se)})])])});Xh(be,nt),Bn.focusIn(se)},w=se=>{m.clear(),_c(se.element).each(be=>{se.getSystem().getByDom(be).each(Ie=>{Qh(Ie)})})},O=se=>nm(se,t,"body"),M=se=>nm(se,t,"footer"),B=(se,be)=>{Bb.block(se,be)},W=se=>{Bb.unblock(se)},Y=_n("modal-events"),ee={...t.eventOrder,[sf()]:[Y].concat(t.eventOrder["alloy.system.attached"]||[])};return{uid:t.uid,dom:t.dom,components:s,apis:{show:b,hide:w,getBody:O,getFooter:M,setIdle:W,setBusy:B},eventOrder:ee,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:kr(t.modalBehaviours,[lo.config({}),Bn.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt,firstTabstop:t.firstTabstop}),Bb.config({getRoot:m.get}),mo(Y,[Tr(se=>{p5(se.element,nm(se,t,"title").element),ej(se.element,nm(se,t,"body").element)})])])}},Ya=Si({name:"ModalDialog",configFields:v5(),partFields:tj(),factory:nj,apis:{show:(t,s)=>{t.show(s)},hide:(t,s)=>{t.hide(s)},getBody:(t,s)=>t.getBody(s),getFooter:(t,s)=>t.getFooter(s),setBusy:(t,s,i)=>{t.setBusy(s,i)},setIdle:(t,s)=>{t.setIdle(s)}}}),b5=Pn([ia,SI].concat(Db)),y5=vd,zS=[II("button"),sm,Hr("align","end",["start","end"]),LC,rm,He("buttonType",["primary","secondary"])],_5=[...zS,rv],DM=[Gl("type",["submit","cancel","custom"]),..._5],oj=[Gl("type",["menu"]),iv,wx,sm,Bi("items",b5),...zS],E5=[...zS,Gl("type",["togglebutton"]),Wr("tooltip"),Ex,iv,li("active",!1)],sj=or("type",{submit:DM,cancel:DM,custom:DM,menu:oj,togglebutton:E5}),rj=[ia,rv,Gl("level",["info","warn","error","success"]),Ex,We("url","")],ij=Pn(rj),NM=t=>[ia,t],MM=[ia,rv,rm,II("button"),sm,rL,He("buttonType",["primary","secondary","toolbar"]),LC],aj=Pn(MM),Ky=[ia,SI],Rg=Ky.concat([OI]),cj=Ky.concat([Rb,rm]),w5=Pn(cj),lj=vd,uj=Rg.concat([RI("auto")]),Xy=Pn(uj),T5=qg([GE,rv,Ex]),dj=Rg.concat([ta("storageKey","default")]),vO=Pn(dj),Ew=Dr,C5=Pn(Rg),bO=Dr,nd=Ky.concat([ta("tag","textarea"),Wr("scriptId"),Wr("scriptUrl"),tf("settings",void 0)]),yO=Ky.concat([ta("tag","textarea"),ic("init")]),S5=Jd(t=>ts("customeditor.old",ga(yO),t).orThunk(()=>ts("customeditor.new",ga(nd),t))),A5=Dr,fj=Pn(Rg),qb=bd(),NK=t=>[ia,Bf("columns"),t],hj=[ia,Wr("html"),Hr("presets","presentation",["presentation","document"])],x5=Pn(hj),ww=Rg.concat([li("sandboxed",!0),li("transparent",!0)]),_O=Pn(ww),O5=Dr,mj=Pn(Ky.concat([ae("height")])),gj=Pn([Wr("url"),$("zoom"),$("cachedWidth"),$("cachedHeight")]),pj=Rg.concat([ae("inputMode"),ae("placeholder"),li("maximized",!1),rm]),vj=Pn(pj),Tw=Dr,MK=t=>[ia,Rb,t],bj=[rv,GE],yj=[rv,Bi("items",ef("items",()=>_j))],_j=Dm([Pn(bj),Pn(yj)]),Ej=Rg.concat([Bi("items",_j),rm]),wj=Pn(Ej),WS=Dr,Tj=Rg.concat([Zg("items",[rv,GE]),ci("size",1),rm]),Cj=Pn(Tj),R5=Dr,Sj=Rg.concat([li("constrain",!0),rm]),kK=Pn(Sj),e=Pn([Wr("width"),Wr("height")]),n=Ky.concat([Rb,ci("min",0),ci("max",0)]),o=Pn(n),r=Vu,l=[ia,Bi("header",Dr),Bi("cells",nn(Dr))],f=Pn(l),v=Rg.concat([ae("placeholder"),li("maximized",!1),rm]),C=Pn(v),x=Dr,L=[Gl("type",["directory","leaf"]),oL,Wr("id"),Le("menu",P2)],j=Pn(L),ne=L.concat([Bi("children",ef("children",()=>Wa("type",{directory:Ce,leaf:j})))]),Ce=Pn(ne),xe=Wa("type",{directory:Ce,leaf:j}),he=[ia,Bi("items",xe),Ft("onLeafAction")],Se=Pn(he),Ve=Rg.concat([Hr("filetype","file",["image","media","file"]),rm]),$e=Pn(Ve),je=Pn([GE,Sy]),rt=t=>jr("items","items",Ua(),nn(Jd(s=>ts(`Checking item of ${t}`,St,s).fold(i=>ro.error(Cc(i)),i=>ro.value(i))))),St=Gg(()=>Wa("type",{alertbanner:ij,bar:Pn(NM(rt("bar"))),button:aj,checkbox:w5,colorinput:vO,colorpicker:C5,dropzone:fj,grid:Pn(NK(rt("grid"))),iframe:_O,input:vj,listbox:wj,selectbox:Cj,sizeinput:kK,slider:o,textarea:C,urlinput:$e,customeditor:S5,htmlpanel:x5,imagepreview:mj,collection:Xy,label:Pn(MK(rt("label"))),table:f,tree:Se,panel:jt})),on=[ia,We("classes",[]),Bi("items",St)],jt=Pn(on),ft=[II("tab"),oL,Bi("items",St)],dt=[ia,Zg("tabs",ft)],bn=Pn(dt),Ln=_5,Gn=sj,wo=Pn([Wr("title"),El("body",Wa("type",{panel:jt,tabpanel:bn})),ta("size","normal"),Bi("buttons",Gn),We("initialData",{}),Ti("onAction",oe),Ti("onChange",oe),Ti("onSubmit",oe),Ti("onClose",oe),Ti("onCancel",oe),Ti("onTabChange",oe)]),Qo=t=>ts("dialog",wo,t),Ds=Pn([Gl("type",["cancel","custom"]),...Ln]),ar=Pn([Wr("title"),Wr("url"),$("height"),$("width"),In("buttons",Ds),Ti("onAction",oe),Ti("onCancel",oe),Ti("onClose",oe),Ti("onMessage",oe)]),Ri=t=>ts("dialog",ar,t),kc=t=>G(t)?[t].concat(mt(yh(t),kc)):Q(t)?mt(t,kc):[],Ka=t=>U(t.type)&&U(t.name),Gt={checkbox:lj,colorinput:Ew,colorpicker:bO,dropzone:qb,input:Tw,iframe:O5,imagepreview:gj,selectbox:R5,sizeinput:e,slider:r,listbox:WS,size:e,textarea:x,urlinput:je,customeditor:A5,collection:T5,togglemenuitem:y5},Rn=t=>P.from(Gt[t.type]),hs=t=>uo(kc(t),Ka),un=t=>{const s=hs(t),i=mt(s,u=>Rn(u).fold(()=>[],m=>[El(u.name,m)]));return Pn(i)},Vn=t=>{var s;const i=Po(Qo(t)),u=un(t),m=(s=t.initialData)!==null&&s!==void 0?s:{};return{internalDialog:i,dataValidator:u,initialData:m}},zn={open:(t,s)=>{const i=Vn(s);return t(i.internalDialog,i.initialData,i.dataValidator)},openUrl:(t,s)=>{const i=Po(Ri(s));return t(i)},redial:t=>Vn(t)};var Wo=Object.freeze({__proto__:null,events:(t,s)=>{const i=(u,m)=>{t.updateState.each(b=>{const w=b(u,m);s.set(w)}),t.renderComponents.each(b=>{const w=b(m,s.get());(t.reuseDom?Hk:JA)(u,w)})};return js([Dt(Vf(),(u,m)=>{const b=m;if(!b.universal){const w=t.channel;vo(b.channels,w)&&i(u,b.data)}}),Tr((u,m)=>{t.initialData.each(b=>{i(u,b)})})])}}),gc=Object.freeze({__proto__:null,getState:(t,s,i)=>i}),Vr=[At("channel"),Yo("renderComponents"),Yo("updateState"),Yo("initialData"),li("reuseDom",!0)],gs=Object.freeze({__proto__:null,init:()=>{const t=Wn(P.none()),s=()=>t.set(P.none());return{readState:()=>t.get().getOr("none"),get:t.get,set:t.set,clear:s}}});const Ks=ya({fields:Vr,name:"reflecting",active:Wo,apis:gc,state:gs}),cr=t=>{const s=[],i={};return Yr(t,(u,m)=>{u.fold(()=>{s.push(m)},b=>{i[m]=b})}),s.length>0?ro.error(s):ro.value(i)},mi=(t,s,i)=>{const u=zo(rw.sketch(m=>({dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:Je(t.items,b=>uN(m,b,s,i))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[u.asSpec()]}],behaviours:kt([Bn.config({mode:"acyclic",useTabstopAt:Ne(uS)}),dm.memento(u),Oi.memento(u,{postprocess:m=>cr(m).fold(b=>(console.error(b),{}),Ze)})])}},Zi=(t,s)=>({uid:t.uid,dom:t.dom,components:t.components,events:ex(t.action),behaviours:kr(t.tabButtonBehaviours,[jn.config({}),Bn.config({mode:"execution",useSpace:!0,useEnter:!0}),fn.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}),qr=qi({name:"TabButton",configFields:[We("uid",void 0),At("value"),jr("dom","dom",Rm(()=>({attributes:{role:"tab",id:_n("aria"),"aria-selected":"false"}})),_l()),Yo("action"),We("domModification",{}),ja("tabButtonBehaviours",[jn,Bn,fn]),At("view")],factory:Zi}),wa=Ee([At("tabs"),At("dom"),We("clickToDismiss",!1),ja("tabbarBehaviours",[ms,Bn]),vu(["tabClass","selectedClass"])]),ch=ly({factory:qr,name:"tabs",unit:"tab",overrides:t=>{const s=(u,m)=>{ms.dehighlight(u,m),Mn(u,Fm(),{tabbar:u,button:m})},i=(u,m)=>{ms.highlight(u,m),Mn(u,Bm(),{tabbar:u,button:m})};return{action:u=>{const m=u.getSystem().getByUid(t.uid).getOrDie(),b=ms.isHighlighted(m,u);(()=>b&&t.clickToDismiss?s:b?oe:i)()(m,u)},domModification:{classes:[t.markers.tabClass]}}}}),ul=Ee([ch]),Ig=(t,s,i,u)=>({uid:t.uid,dom:t.dom,components:s,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:kr(t.tabbarBehaviours,[ms.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:(m,b)=>{co(b.element,"aria-selected","true")},onDehighlight:(m,b)=>{co(b.element,"aria-selected","false")}}),Bn.config({mode:"flow",getInitial:m=>ms.getHighlighted(m).map(b=>b.element),selector:"."+t.markers.tabClass,executeOnMove:!0})])}),Fd=Si({name:"Tabbar",configFields:wa(),partFields:ul(),factory:Ig}),Qy=(t,s)=>({uid:t.uid,dom:t.dom,behaviours:kr(t.tabviewBehaviours,[lo.config({})]),domModification:{attributes:{role:"tabpanel"}}}),Jy=qi({name:"Tabview",configFields:[ja("tabviewBehaviours",[lo])],factory:Qy}),Dg=Ee([We("selectFirst",!0),Ye("onChangeTab"),Ye("onDismissTab"),We("tabs",[]),ja("tabSectionBehaviours",[])]),pm=La({factory:Fd,schema:[At("dom"),ac("markers",[At("tabClass"),At("selectedClass")])],name:"tabbar",defaults:t=>({tabs:t.tabs})}),Ba=La({factory:Jy,name:"tabview"}),lh=Ee([pm,Ba]),Ng=(t,s,i,u)=>{const m=w=>{const O=fn.getValue(w);rr(w,t,"tabview").each(M=>{kn(t.tabs,W=>W.value===O).each(W=>{const Y=W.view();Kr(w.element,"id").each(ee=>{co(M.element,"aria-labelledby",ee)}),lo.set(M,Y),t.onChangeTab(M,w,Y)})})},b=(w,O)=>{rr(w,t,"tabbar").each(M=>{O(M).each(rf)})};return{uid:t.uid,dom:t.dom,components:s,behaviours:wE(t.tabSectionBehaviours),events:js(Yt([t.selectFirst?[Tr((w,O)=>{b(w,ms.getFirst)})]:[],[Dt(Bm(),(w,O)=>{const M=O.event.button;m(M)}),Dt(Fm(),(w,O)=>{const M=O.event.button;t.onDismissTab(w,M)})]])),apis:{getViewItems:w=>rr(w,t,"tabview").map(O=>lo.contents(O)).getOr([]),showTab:(w,O)=>{b(w,B=>{const W=ms.getCandidates(B);return kn(W,ee=>fn.getValue(ee)===O).filter(ee=>!ms.isHighlighted(B,ee))})}}}},ou=Si({name:"TabSection",configFields:Dg(),partFields:lh(),factory:Ng,apis:{getViewItems:(t,s)=>t.getViewItems(s),showTab:(t,s,i)=>{t.showTab(s,i)}}}),uh=(t,s,i)=>Je(t,(u,m)=>{lo.set(i,t[m].view());const b=s.dom.getBoundingClientRect();return lo.set(i,[]),b.height}),Gp=t=>Rr(Pc(t,(s,i)=>s>i?-1:s<i?1:0)),Ml=(t,s,i)=>{const u=Jc(t).dom,m=xl(t,".tox-dialog-wrap").getOr(t),b=pe(m,"position")==="fixed";let w;b?w=Math.max(u.clientHeight,window.innerHeight):w=Math.max(u.offsetHeight,u.scrollHeight);const O=Tn(s),B=s.dom.offsetLeft>=i.dom.offsetLeft+ur(i)?Math.max(Tn(i),O):O,W=parseInt(pe(t,"margin-top"),10)||0,Y=parseInt(pe(t,"margin-bottom"),10)||0,se=Tn(t)+W+Y-B;return w-se},mv=(t,s)=>{Rr(t).each(i=>ou.showTab(s,i.value))},Mg=(t,s)=>{X(t,"height",s+"px"),X(t,"flex-basis",s+"px")},Hd=(t,s,i)=>{xl(t,'[role="dialog"]').each(u=>{Nr(u,'[role="tablist"]').each(m=>{i.get().map(b=>(X(s,"height","0"),X(s,"flex-basis","0"),Math.min(b,Ml(u,s,m)))).each(b=>{Mg(s,b)})})})},qp=t=>Nr(t,'[role="tabpanel"]'),GS=t=>{const s=Zs();return{extraEvents:[Tr(m=>{const b=m.element;qp(b).each(w=>{X(w,"visibility","hidden"),m.getSystem().getByDom(w).toOptional().each(O=>{const M=uh(t,w,O);Gp(M).fold(s.clear,s.set)}),Hd(b,w,s),ot(w,"visibility"),mv(t,m),requestAnimationFrame(()=>{Hd(b,w,s)})})}),Dt(Uf(),m=>{const b=m.element;qp(b).each(w=>{Hd(b,w,s)})}),Dt(L4,(m,b)=>{const w=m.element;qp(w).each(O=>{const M=xd(xa(O));X(O,"visibility","hidden");const B=st(O,"height").map(ee=>parseInt(ee,10));ot(O,"height"),ot(O,"flex-basis");const W=O.dom.getBoundingClientRect().height;B.forall(ee=>W>ee)?(s.set(W),Hd(w,O,s)):B.each(ee=>{Mg(O,ee)}),ot(O,"visibility"),M.each(il)})})],selectFirst:!1}},EO="send-data-to-section",qS="send-data-to-view",PM=(t,s,i)=>{const u=Wn({}),m=B=>{const W=fn.getValue(B),Y=cr(W).getOr({}),ee=u.get(),se=Js(ee,Y);u.set(se)},b=B=>{const W=u.get();fn.setValue(B,W)},w=Wn(null),O=Je(t.tabs,B=>({value:B.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Cr(i.shared.providers.translate(B.title))],view:()=>[rw.sketch(W=>({dom:{tag:"div",classes:["tox-form"]},components:Je(B.items,Y=>uN(W,Y,s,i)),formBehaviours:kt([Bn.config({mode:"acyclic",useTabstopAt:Ne(uS)}),mo("TabView.form.events",[Tr(b),Ac(m)]),bu.config({channels:Sc([{key:EO,value:{onReceive:m}},{key:qS,value:{onReceive:b}}])})])}))]})),M=GS(O);return ou.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(B,W,Y)=>{const ee=fn.getValue(W);Mn(B,P4,{name:ee,oldName:w.get()}),w.set(ee)},tabs:O,components:[ou.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[Fd.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:kt([hi.config({})])}),ou.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:M.selectFirst,tabSectionBehaviours:kt([mo("tabpanel",M.extraEvents),Bn.config({mode:"acyclic"}),Xo.config({find:B=>Rr(ou.getViewItems(B))}),Oi.withComp(P.none(),B=>(B.getSystem().broadcastOn([EO],{}),u.get()),(B,W)=>{u.set(W),B.getSystem().broadcastOn([qS],{})})])})},jS=_n("update-dialog"),LM=_n("update-title"),vm=_n("update-body"),e_=_n("update-footer"),it=_n("body-send-message"),at=(t,s,i,u,m)=>{const b=M=>{const B=M.body;switch(B.type){case"tabpanel":return[PM(B,M.initialData,u)];default:return[mi(B,M.initialData,u)]}},w=(M,B)=>P.some({isTabPanel:()=>B.body.type==="tabpanel"}),O={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...i.map(M=>({id:M})).getOr({}),...m?O:{}}},components:[],behaviours:kt([dm.childAt(0),Ks.config({channel:`${vm}-${s}`,updateState:w,renderComponents:b,initialData:t})])}},Zt=(t,s,i,u,m)=>at(t,s,P.some(i),u,m),zt=(t,s,i)=>{const u=at(t,s,P.none(),i,!1);return Ya.parts.body(u)},Hn=t=>{const s={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[C$({dom:{tag:"iframe",attributes:{src:t.url}},behaviours:kt([hi.config({}),jn.config({})])})]}],behaviours:kt([Bn.config({mode:"acyclic",useTabstopAt:Ne(uS)})])};return Ya.parts.body(s)};function qo(t){return qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},qo(t)}function pr(t,s){return pr=Object.setPrototypeOf||function(u,m){return u.__proto__=m,u},pr(t,s)}function Pr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function jp(t,s,i){return Pr()?jp=Reflect.construct:jp=function(m,b,w){var O=[null];O.push.apply(O,b);var M=Function.bind.apply(m,O),B=new M;return w&&pr(B,w.prototype),B},jp.apply(null,arguments)}function Vd(t){return I5(t)||D5(t)||Aj(t)||vt()}function I5(t){if(Array.isArray(t))return Ao(t)}function D5(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Aj(t,s){if(t){if(typeof t=="string")return Ao(t,s);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ao(t,s)}}function Ao(t,s){(s==null||s>t.length)&&(s=t.length);for(var i=0,u=new Array(s);i<s;i++)u[i]=t[i];return u}function vt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var On=Object.hasOwnProperty,io=Object.setPrototypeOf,Yi=Object.isFrozen,Rf=Object.getPrototypeOf,od=Object.getOwnPropertyDescriptor,ti=Object.freeze,dh=Object.seal,Au=Object.create,$M=typeof Reflect<"u"&&Reflect,wO=$M.apply,BM=$M.construct;wO||(wO=function(s,i,u){return s.apply(i,u)}),ti||(ti=function(s){return s}),dh||(dh=function(s){return s}),BM||(BM=function(s,i){return jp(s,Vd(i))});var PK=gv(Array.prototype.forEach),kte=gv(Array.prototype.pop),FM=gv(Array.prototype.push),N5=gv(String.prototype.toLowerCase),Pte=gv(String.prototype.match),Cw=gv(String.prototype.replace),Lte=gv(String.prototype.indexOf),$te=gv(String.prototype.trim),fh=gv(RegExp.prototype.test),xj=Bte(TypeError);function gv(t){return function(s){for(var i=arguments.length,u=new Array(i>1?i-1:0),m=1;m<i;m++)u[m-1]=arguments[m];return wO(t,s,u)}}function Bte(t){return function(){for(var s=arguments.length,i=new Array(s),u=0;u<s;u++)i[u]=arguments[u];return BM(t,i)}}function Or(t,s){io&&io(t,null);for(var i=s.length;i--;){var u=s[i];if(typeof u=="string"){var m=N5(u);m!==u&&(Yi(s)||(s[i]=m),u=m)}t[u]=!0}return t}function ZS(t){var s=Au(null),i;for(i in t)wO(On,t,[i])&&(s[i]=t[i]);return s}function M5(t,s){for(;t!==null;){var i=od(t,s);if(i){if(i.get)return gv(i.get);if(typeof i.value=="function")return gv(i.value)}t=Rf(t)}function u(m){return console.warn("fallback value for",m),null}return u}var LK=ti(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Oj=ti(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Rj=ti(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Fte=ti(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ij=ti(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Hte=ti(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),$K=ti(["#text"]),BK=ti(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Dj=ti(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),FK=ti(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),k5=ti(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Vte=dh(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Ute=dh(/<%[\w\W]*|[\w\W]*%>/gm),zte=dh(/^data-[\-\w.\u00B7-\uFFFF]/),Wte=dh(/^aria-[\-\w]+$/),Gte=dh(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),qte=dh(/^(?:\w+script|data):/i),jte=dh(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Zte=dh(/^html$/i),Yte=function(){return typeof window>"u"?null:window},Kte=function(s,i){if(qo(s)!=="object"||typeof s.createPolicy!="function")return null;var u=null,m="data-tt-policy-suffix";i.currentScript&&i.currentScript.hasAttribute(m)&&(u=i.currentScript.getAttribute(m));var b="dompurify"+(u?"#"+u:"");try{return s.createPolicy(b,{createHTML:function(O){return O}})}catch{return console.warn("TrustedTypes policy "+b+" could not be created."),null}};function HK(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Yte(),s=function(bt){return HK(bt)};if(s.version="2.3.8",s.removed=[],!t||!t.document||t.document.nodeType!==9)return s.isSupported=!1,s;var i=t.document,u=t.document,m=t.DocumentFragment,b=t.HTMLTemplateElement,w=t.Node,O=t.Element,M=t.NodeFilter,B=t.NamedNodeMap,W=B===void 0?t.NamedNodeMap||t.MozNamedAttrMap:B,Y=t.HTMLFormElement,ee=t.DOMParser,se=t.trustedTypes,be=O.prototype,Ie=M5(be,"cloneNode"),nt=M5(be,"nextSibling"),Ue=M5(be,"childNodes"),tt=M5(be,"parentNode");if(typeof b=="function"){var ut=u.createElement("template");ut.content&&ut.content.ownerDocument&&(u=ut.content.ownerDocument)}var pt=Kte(se,i),Qt=pt?pt.createHTML(""):"",Pt=u,ln=Pt.implementation,xn=Pt.createNodeIterator,$o=Pt.createDocumentFragment,Fn=Pt.getElementsByTagName,Mo=i.importNode,oo={};try{oo=ZS(u).documentMode?u.documentMode:{}}catch{}var Io={};s.isSupported=typeof tt=="function"&&ln&&typeof ln.createHTMLDocument<"u"&&oo!==9;var Xn=Vte,xs=Ute,Wt=zte,Sn=Wte,pn=qte,Yn=jte,Eo=Gte,Jo=null,aa=Or({},[].concat(Vd(LK),Vd(Oj),Vd(Rj),Vd(Ij),Vd($K))),Es=null,su=Or({},[].concat(Vd(BK),Vd(Dj),Vd(FK),Vd(k5))),gi=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),hh=null,bm=null,pv=!0,YS=!0,TO=!1,Sw=!1,t_=!1,HM=!1,Lj=!1,CO=!1,P5=!1,L5=!1,aX=!0,$j=!0,VM=!1,SO={},AO=null,cX=Or({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),lX=null,uX=Or({},["audio","video","img","source","image","track"]),Bj=null,dX=Or({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Fj="http://www.w3.org/1998/Math/MathML",Hj="http://www.w3.org/2000/svg",Aw="http://www.w3.org/1999/xhtml",$5=Aw,Vj=!1,xO,Tne=["application/xhtml+xml","text/html"],Cne="text/html",KS,OO=null,Sne=u.createElement("form"),fX=function(bt){return bt instanceof RegExp||bt instanceof Function},Uj=function(bt){OO&&OO===bt||((!bt||qo(bt)!=="object")&&(bt={}),bt=ZS(bt),Jo="ALLOWED_TAGS"in bt?Or({},bt.ALLOWED_TAGS):aa,Es="ALLOWED_ATTR"in bt?Or({},bt.ALLOWED_ATTR):su,Bj="ADD_URI_SAFE_ATTR"in bt?Or(ZS(dX),bt.ADD_URI_SAFE_ATTR):dX,lX="ADD_DATA_URI_TAGS"in bt?Or(ZS(uX),bt.ADD_DATA_URI_TAGS):uX,AO="FORBID_CONTENTS"in bt?Or({},bt.FORBID_CONTENTS):cX,hh="FORBID_TAGS"in bt?Or({},bt.FORBID_TAGS):{},bm="FORBID_ATTR"in bt?Or({},bt.FORBID_ATTR):{},SO="USE_PROFILES"in bt?bt.USE_PROFILES:!1,pv=bt.ALLOW_ARIA_ATTR!==!1,YS=bt.ALLOW_DATA_ATTR!==!1,TO=bt.ALLOW_UNKNOWN_PROTOCOLS||!1,Sw=bt.SAFE_FOR_TEMPLATES||!1,t_=bt.WHOLE_DOCUMENT||!1,CO=bt.RETURN_DOM||!1,P5=bt.RETURN_DOM_FRAGMENT||!1,L5=bt.RETURN_TRUSTED_TYPE||!1,Lj=bt.FORCE_BODY||!1,aX=bt.SANITIZE_DOM!==!1,$j=bt.KEEP_CONTENT!==!1,VM=bt.IN_PLACE||!1,Eo=bt.ALLOWED_URI_REGEXP||Eo,$5=bt.NAMESPACE||Aw,bt.CUSTOM_ELEMENT_HANDLING&&fX(bt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(gi.tagNameCheck=bt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),bt.CUSTOM_ELEMENT_HANDLING&&fX(bt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(gi.attributeNameCheck=bt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),bt.CUSTOM_ELEMENT_HANDLING&&typeof bt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(gi.allowCustomizedBuiltInElements=bt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),xO=Tne.indexOf(bt.PARSER_MEDIA_TYPE)===-1?xO=Cne:xO=bt.PARSER_MEDIA_TYPE,KS=xO==="application/xhtml+xml"?function(Dn){return Dn}:N5,Sw&&(YS=!1),P5&&(CO=!0),SO&&(Jo=Or({},Vd($K)),Es=[],SO.html===!0&&(Or(Jo,LK),Or(Es,BK)),SO.svg===!0&&(Or(Jo,Oj),Or(Es,Dj),Or(Es,k5)),SO.svgFilters===!0&&(Or(Jo,Rj),Or(Es,Dj),Or(Es,k5)),SO.mathMl===!0&&(Or(Jo,Ij),Or(Es,FK),Or(Es,k5))),bt.ADD_TAGS&&(Jo===aa&&(Jo=ZS(Jo)),Or(Jo,bt.ADD_TAGS)),bt.ADD_ATTR&&(Es===su&&(Es=ZS(Es)),Or(Es,bt.ADD_ATTR)),bt.ADD_URI_SAFE_ATTR&&Or(Bj,bt.ADD_URI_SAFE_ATTR),bt.FORBID_CONTENTS&&(AO===cX&&(AO=ZS(AO)),Or(AO,bt.FORBID_CONTENTS)),$j&&(Jo["#text"]=!0),t_&&Or(Jo,["html","head","body"]),Jo.table&&(Or(Jo,["tbody"]),delete hh.tbody),ti&&ti(bt),OO=bt)},hX=Or({},["mi","mo","mn","ms","mtext"]),mX=Or({},["foreignobject","desc","title","annotation-xml"]),Ane=Or({},["title","style","font","a","script"]),B5=Or({},Oj);Or(B5,Rj),Or(B5,Fte);var zj=Or({},Ij);Or(zj,Hte);var xne=function(bt){var Dn=tt(bt);(!Dn||!Dn.tagName)&&(Dn={namespaceURI:Aw,tagName:"template"});var po=N5(bt.tagName),Ta=N5(Dn.tagName);return bt.namespaceURI===Hj?Dn.namespaceURI===Aw?po==="svg":Dn.namespaceURI===Fj?po==="svg"&&(Ta==="annotation-xml"||hX[Ta]):!!B5[po]:bt.namespaceURI===Fj?Dn.namespaceURI===Aw?po==="math":Dn.namespaceURI===Hj?po==="math"&&mX[Ta]:!!zj[po]:bt.namespaceURI===Aw?Dn.namespaceURI===Hj&&!mX[Ta]||Dn.namespaceURI===Fj&&!hX[Ta]?!1:!zj[po]&&(Ane[po]||!B5[po]):!1},n_=function(bt){FM(s.removed,{element:bt});try{bt.parentNode.removeChild(bt)}catch{try{bt.outerHTML=Qt}catch{bt.remove()}}},F5=function(bt,Dn){try{FM(s.removed,{attribute:Dn.getAttributeNode(bt),from:Dn})}catch{FM(s.removed,{attribute:null,from:Dn})}if(Dn.removeAttribute(bt),bt==="is"&&!Es[bt])if(CO||P5)try{n_(Dn)}catch{}else try{Dn.setAttribute(bt,"")}catch{}},gX=function(bt){var Dn,po;if(Lj)bt="<remove></remove>"+bt;else{var Ta=Pte(bt,/^[\r\n\t ]+/);po=Ta&&Ta[0]}xO==="application/xhtml+xml"&&(bt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+bt+"</body></html>");var ym=pt?pt.createHTML(bt):bt;if($5===Aw)try{Dn=new ee().parseFromString(ym,xO)}catch{}if(!Dn||!Dn.documentElement){Dn=ln.createDocument($5,"template",null);try{Dn.documentElement.innerHTML=Vj?"":ym}catch{}}var If=Dn.body||Dn.documentElement;return bt&&po&&If.insertBefore(u.createTextNode(po),If.childNodes[0]||null),$5===Aw?Fn.call(Dn,t_?"html":"body")[0]:t_?Dn.documentElement:If},pX=function(bt){return xn.call(bt.ownerDocument||bt,bt,M.SHOW_ELEMENT|M.SHOW_COMMENT|M.SHOW_TEXT,null,!1)},One=function(bt){return bt instanceof Y&&(typeof bt.nodeName!="string"||typeof bt.textContent!="string"||typeof bt.removeChild!="function"||!(bt.attributes instanceof W)||typeof bt.removeAttribute!="function"||typeof bt.setAttribute!="function"||typeof bt.namespaceURI!="string"||typeof bt.insertBefore!="function")},UM=function(bt){return qo(w)==="object"?bt instanceof w:bt&&qo(bt)==="object"&&typeof bt.nodeType=="number"&&typeof bt.nodeName=="string"},o_=function(bt,Dn,po){Io[bt]&&PK(Io[bt],function(Ta){Ta.call(s,Dn,po,OO)})},vX=function(bt){var Dn;if(o_("beforeSanitizeElements",bt,null),One(bt)||fh(/[\u0080-\uFFFF]/,bt.nodeName))return n_(bt),!0;var po=KS(bt.nodeName);if(o_("uponSanitizeElement",bt,{tagName:po,allowedTags:Jo}),bt.hasChildNodes()&&!UM(bt.firstElementChild)&&(!UM(bt.content)||!UM(bt.content.firstElementChild))&&fh(/<[/\w]/g,bt.innerHTML)&&fh(/<[/\w]/g,bt.textContent)||po==="select"&&fh(/<template/i,bt.innerHTML))return n_(bt),!0;if(!Jo[po]||hh[po]){if(!hh[po]&&yX(po)&&(gi.tagNameCheck instanceof RegExp&&fh(gi.tagNameCheck,po)||gi.tagNameCheck instanceof Function&&gi.tagNameCheck(po)))return!1;if($j&&!AO[po]){var Ta=tt(bt)||bt.parentNode,ym=Ue(bt)||bt.childNodes;if(ym&&Ta)for(var If=ym.length,Ud=If-1;Ud>=0;--Ud)Ta.insertBefore(Ie(ym[Ud],!0),nt(bt))}return n_(bt),!0}return bt instanceof O&&!xne(bt)||(po==="noscript"||po==="noembed")&&fh(/<\/no(script|embed)/i,bt.innerHTML)?(n_(bt),!0):(Sw&&bt.nodeType===3&&(Dn=bt.textContent,Dn=Cw(Dn,Xn," "),Dn=Cw(Dn,xs," "),bt.textContent!==Dn&&(FM(s.removed,{element:bt.cloneNode()}),bt.textContent=Dn)),o_("afterSanitizeElements",bt,null),!1)},bX=function(bt,Dn,po){if(aX&&(Dn==="id"||Dn==="name")&&(po in u||po in Sne))return!1;if(!(YS&&!bm[Dn]&&fh(Wt,Dn))){if(!(pv&&fh(Sn,Dn))){if(!Es[Dn]||bm[Dn]){if(!(yX(bt)&&(gi.tagNameCheck instanceof RegExp&&fh(gi.tagNameCheck,bt)||gi.tagNameCheck instanceof Function&&gi.tagNameCheck(bt))&&(gi.attributeNameCheck instanceof RegExp&&fh(gi.attributeNameCheck,Dn)||gi.attributeNameCheck instanceof Function&&gi.attributeNameCheck(Dn))||Dn==="is"&&gi.allowCustomizedBuiltInElements&&(gi.tagNameCheck instanceof RegExp&&fh(gi.tagNameCheck,po)||gi.tagNameCheck instanceof Function&&gi.tagNameCheck(po))))return!1}else if(!Bj[Dn]){if(!fh(Eo,Cw(po,Yn,""))){if(!((Dn==="src"||Dn==="xlink:href"||Dn==="href")&&bt!=="script"&&Lte(po,"data:")===0&&lX[bt])){if(!(TO&&!fh(pn,Cw(po,Yn,"")))){if(po)return!1}}}}}}return!0},yX=function(bt){return bt.indexOf("-")>0},_X=function(bt){var Dn,po,Ta,ym;o_("beforeSanitizeAttributes",bt,null);var If=bt.attributes;if(If){var Ud={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Es};for(ym=If.length;ym--;){Dn=If[ym];var H5=Dn,zd=H5.name,EX=H5.namespaceURI;po=zd==="value"?Dn.value:$te(Dn.value),Ta=KS(zd);var Ine=po;if(Ud.attrName=Ta,Ud.attrValue=po,Ud.keepAttr=!0,Ud.forceKeepAttr=void 0,o_("uponSanitizeAttribute",bt,Ud),po=Ud.attrValue,!Ud.forceKeepAttr){if(!Ud.keepAttr){F5(zd,bt);continue}if(fh(/\/>/i,po)){F5(zd,bt);continue}Sw&&(po=Cw(po,Xn," "),po=Cw(po,xs," "));var Dne=KS(bt.nodeName);if(!bX(Dne,Ta,po)){F5(zd,bt);continue}if(po!==Ine)try{EX?bt.setAttributeNS(EX,zd,po):bt.setAttribute(zd,po)}catch{F5(zd,bt)}}}o_("afterSanitizeAttributes",bt,null)}},Rne=function jo(bt){var Dn,po=pX(bt);for(o_("beforeSanitizeShadowDOM",bt,null);Dn=po.nextNode();)o_("uponSanitizeShadowNode",Dn,null),!vX(Dn)&&(Dn.content instanceof m&&jo(Dn.content),_X(Dn));o_("afterSanitizeShadowDOM",bt,null)};return s.sanitize=function(jo,bt){var Dn,po,Ta,ym,If;if(Vj=!jo,Vj&&(jo="<!-->"),typeof jo!="string"&&!UM(jo)){if(typeof jo.toString!="function")throw xj("toString is not a function");if(jo=jo.toString(),typeof jo!="string")throw xj("dirty is not a string, aborting")}if(!s.isSupported){if(qo(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof jo=="string")return t.toStaticHTML(jo);if(UM(jo))return t.toStaticHTML(jo.outerHTML)}return jo}if(HM||Uj(bt),s.removed=[],typeof jo=="string"&&(VM=!1),VM){if(jo.nodeName){var Ud=KS(jo.nodeName);if(!Jo[Ud]||hh[Ud])throw xj("root node is forbidden and cannot be sanitized in-place")}}else if(jo instanceof w)Dn=gX("<!---->"),po=Dn.ownerDocument.importNode(jo,!0),po.nodeType===1&&po.nodeName==="BODY"||po.nodeName==="HTML"?Dn=po:Dn.appendChild(po);else{if(!CO&&!Sw&&!t_&&jo.indexOf("<")===-1)return pt&&L5?pt.createHTML(jo):jo;if(Dn=gX(jo),!Dn)return CO?null:L5?Qt:""}Dn&&Lj&&n_(Dn.firstChild);for(var H5=pX(VM?jo:Dn);Ta=H5.nextNode();)Ta.nodeType===3&&Ta===ym||vX(Ta)||(Ta.content instanceof m&&Rne(Ta.content),_X(Ta),ym=Ta);if(ym=null,VM)return jo;if(CO){if(P5)for(If=$o.call(Dn.ownerDocument);Dn.firstChild;)If.appendChild(Dn.firstChild);else If=Dn;return Es.shadowroot&&(If=Mo.call(i,If,!0)),If}var zd=t_?Dn.outerHTML:Dn.innerHTML;return t_&&Jo["!doctype"]&&Dn.ownerDocument&&Dn.ownerDocument.doctype&&Dn.ownerDocument.doctype.name&&fh(Zte,Dn.ownerDocument.doctype.name)&&(zd="<!DOCTYPE "+Dn.ownerDocument.doctype.name+`>
`+zd),Sw&&(zd=Cw(zd,Xn," "),zd=Cw(zd,xs," ")),pt&&L5?pt.createHTML(zd):zd},s.setConfig=function(jo){Uj(jo),HM=!0},s.clearConfig=function(){OO=null,HM=!1},s.isValidAttribute=function(jo,bt,Dn){OO||Uj({});var po=KS(jo),Ta=KS(bt);return bX(po,Ta,Dn)},s.addHook=function(jo,bt){typeof bt=="function"&&(Io[jo]=Io[jo]||[],FM(Io[jo],bt))},s.removeHook=function(jo){if(Io[jo])return kte(Io[jo])},s.removeHooks=function(jo){Io[jo]&&(Io[jo]=[])},s.removeAllHooks=function(){Io={}},s}var Xte=HK();const Qte=t=>Xte().sanitize(t),Jte=sv.deviceType.isTouch(),VK=(t,s)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,s]}),UK=(t,s)=>Ya.parts.close(qc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close")}},action:t,buttonBehaviours:kt([hi.config({})])})),zK=()=>Ya.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),WK=(t,s)=>Ya.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:fv(`<p>${Qte(s.translate(t))}</p>`)}]}]}),GK=t=>Ya.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t}),qK=(t,s)=>[am.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),am.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:s})],Nj=t=>{const s="tox-dialog",i=s+"-wrap",u=i+"__backdrop",m=s+"__disable-scroll";return Ya.sketch({lazySink:t.lazySink,onEscape:b=>(t.onEscape(b),P.some(!0)),useTabstopAt:b=>!uS(b),firstTabstop:t.firstTabstop,dom:{tag:"div",classes:[s].concat(t.extraClasses),styles:{position:"relative",...t.extraStyles}},components:[t.header,t.body,...t.footer.toArray()],parts:{blocker:{dom:fv(`<div class="${i}"></div>`),components:[{dom:{tag:"div",classes:Jte?[u,u+"--opaque"]:[u]}}]}},dragBlockClass:i,modalBehaviours:kt([jn.config({}),mo("dialog-events",t.dialogEvents.concat([qa(Hf(),(b,w)=>{Bn.focusIn(b)})])),mo("scroll-lock",[Tr(()=>{As(Qi(),m)}),Ac(()=>{Ls(Qi(),m)})]),...t.extraBehaviours]),eventOrder:{[zs()]:["dialog-events"],[sf()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Wu()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...t.eventOrder}})},jK=t=>qc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},buttonBehaviours:kt([hi.config({})]),components:[oh("close",{tag:"div",classes:["tox-icon"]},t.icons)],action:s=>{ss(s,My)}}),ZK=(t,s,i,u)=>{const m=b=>[Cr(u.translate(b.title))];return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...i.map(b=>({id:b})).getOr({})}},components:[],behaviours:kt([Ks.config({channel:`${LM}-${s}`,initialData:t,renderComponents:m})])}},YK=()=>({dom:fv('<div class="tox-dialog__draghandle"></div>')}),ene=(t,s,i,u)=>am.sketch({dom:fv('<div class="tox-dialog__header"></div>'),components:[ZK(t,s,P.some(i),u),YK(),jK(u)],containerBehaviours:kt([Zy.config({mode:"mouse",blockerClass:"blocker",getTarget:m=>ff(m,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}),tne=(t,s,i)=>{const u=Ya.parts.title(ZK(t,s,P.none(),i)),m=Ya.parts.draghandle(YK()),b=Ya.parts.close(jK(i)),w=[u].concat(t.draggable?[m]:[]).concat([b]);return am.sketch({dom:fv('<div class="tox-dialog__header"></div>'),components:w})},KK=(t,s,i)=>tne({title:i.shared.providers.translate(t),draggable:i.dialog.isDraggableModal()},s,i.shared.providers),XK=(t,s,i)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":i.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:s,components:[{dom:fv('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),QK=(t,s,i)=>({onClose:()=>i.closeWindow(),onBlock:u=>{Ya.setBusy(t(),(m,b)=>XK(u.message,b,s))},onUnblock:()=>{Ya.setIdle(t())}}),JK=(t,s,i,u)=>{const m=(b,w)=>P.some(w);return dc(Nj({...t,firstTabstop:1,lazySink:u.shared.getSink,extraBehaviours:[Ks.config({channel:`${jS}-${t.id}`,updateState:m,initialData:s}),Oi.memory({}),...t.extraBehaviours],onEscape:b=>{ss(b,My)},dialogEvents:i,eventOrder:{[Vf()]:[Ks.name(),bu.name()],[sf()]:["scroll-lock",Ks.name(),"messages","dialog-events","alloy.base.behaviour"],[Wu()]:["alloy.base.behaviour","dialog-events","messages",Ks.name(),"scroll-lock"]}}))},Mj=(t,s={})=>{const i=u=>{const m=Je(u.items,b=>{const w=an(s,b.name).getOr(Wn(!1));return{...b,storage:w}});return{...u,items:m}};return Je(t,u=>u.type==="menu"?i(u):u)},eX=t=>ps(t,(s,i)=>i.type==="menu"?ps(i.items,(m,b)=>(m[b.name]=b.storage,m),s):s,{}),tX=(t,s)=>[np(Hf(),AU),t(tS,(i,u,m,b)=>{xd(xa(b.element)).fold(oe,M1),s.onClose(),u.onClose()}),t(My,(i,u,m,b)=>{u.onCancel(i),ss(b,tS)}),Dt(mD,(i,u)=>s.onUnblock()),Dt(hD,(i,u)=>s.onBlock(u.event))],kj={initUrlDialog:(t,s)=>{const i=(m,b)=>Dt(m,(w,O)=>{u(w,(M,B)=>{b(t(),M,O.event,w)})}),u=(m,b)=>{Ks.getState(m).get().each(w=>{b(w,m)})};return[...tX(i,s),i(Mp,(m,b,w)=>{b.onAction(m,{name:w.name})})]},initDialog:(t,s,i)=>{const u=(b,w)=>Dt(b,(O,M)=>{m(O,(B,W)=>{w(t(),B,M.event,O)})}),m=(b,w)=>{Ks.getState(b).get().each(O=>{w(O.internalDialog,b)})};return[...tX(u,s),u(nS,(b,w)=>w.onSubmit(b)),u(Pd,(b,w,O)=>{w.onChange(b,{name:O.name})}),u(Mp,(b,w,O,M)=>{const B=()=>Bn.focusIn(M),W=se=>la(se,"disabled")||Kr(se,"aria-disabled").exists(be=>be==="true"),Y=xa(M.element),ee=xd(Y);w.onAction(b,{name:O.name,value:O.value}),xd(Y).fold(B,se=>{W(se)||ee.exists(be=>ec(se,be)&&W(be))?B():i().toOptional().filter(be=>!ec(be.element,se)).each(B)})}),u(P4,(b,w,O)=>{w.onTabChange(b,{newTabName:O.name,oldTabName:O.oldName})}),Ac(b=>{const w=t();fn.setValue(b,w.getData())})]}},nne=(t,s)=>vS(t,t.type,s),one=(t,s,i)=>kn(s,u=>u.name===i).bind(u=>u.memento.getOpt(t)),sne=(t,s)=>{const i=s.map(O=>O.footerButtons).getOr([]),u=cs(i,O=>O.align==="start"),m=(O,M)=>am.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${O}`]},components:Je(M,B=>B.memento.asSpec())}),b=m("start",u.pass),w=m("end",u.fail);return[b,w]},nX=(t,s,i)=>{const u=(m,b)=>{const w=Je(b.buttons,M=>{const B=zo(nne(M,i));return{name:M.name,align:M.align,memento:B}}),O=M=>one(m,w,M);return P.some({lookupByName:O,footerButtons:w})};return{dom:fv('<div class="tox-dialog__footer"></div>'),components:[],behaviours:kt([Ks.config({channel:`${e_}-${s}`,initialData:t,updateState:u,renderComponents:sne})])}},rne=(t,s,i)=>nX(t,s,i),oX=(t,s,i)=>Ya.parts.footer(nX(t,s,i)),sX=(t,s)=>{if(t.getRoot().getSystem().isConnected()){const u=Xo.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return rw.getField(u,s).orThunk(()=>{const m=t.getFooter();return Ks.getState(m).get().bind(w=>w.lookupByName(s))})}else return P.none()},ine=(t,s)=>{const i=t.getRoot();return Ks.getState(i).get().map(u=>Po(ts("data",u.dataValidator,s))).getOr(s)},rX=(t,s,i)=>{const u=be=>{const Ie=t.getRoot();Ie.getSystem().isConnected()&&be(Ie)},se={getData:()=>{const be=t.getRoot(),Ie=be.getSystem().isConnected()?t.getFormWrapper():be,nt=fn.getValue(Ie),Ue=Ms(i,tt=>tt.get());return{...nt,...Ue}},setData:be=>{u(Ie=>{const nt=se.getData(),Ue=Js(nt,be),tt=ine(t,Ue),ut=t.getFormWrapper();fn.setValue(ut,tt),Yr(i,(pt,Qt)=>{Ho(Ue,Qt)&&pt.set(Ue[Qt])})})},setEnabled:(be,Ie)=>{sX(t,be).each(Ie?no.enable:no.disable)},focus:be=>{sX(t,be).each(jn.focus)},block:be=>{if(!U(be))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");u(Ie=>{Mn(Ie,hD,{message:be})})},unblock:()=>{u(be=>{ss(be,mD)})},showTab:be=>{u(Ie=>{const nt=t.getBody();Ks.getState(nt).get().exists(tt=>tt.isTabPanel())&&Xo.getCurrent(nt).each(tt=>{ou.showTab(tt,be)})})},redial:be=>{u(Ie=>{const nt=t.getId(),Ue=s(be),tt=Mj(Ue.internalDialog.buttons,i);Ie.getSystem().broadcastOn([`${jS}-${nt}`],Ue),Ie.getSystem().broadcastOn([`${LM}-${nt}`],Ue.internalDialog),Ie.getSystem().broadcastOn([`${vm}-${nt}`],Ue.internalDialog),Ie.getSystem().broadcastOn([`${e_}-${nt}`],{...Ue.internalDialog,buttons:tt}),se.setData(Ue.initialData)})},close:()=>{u(be=>{ss(be,tS)})},toggleFullscreen:t.toggleFullscreen};return se},ane=t=>{switch(t){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},cne=(t,s,i)=>{const u=_n("dialog"),m=t.internalDialog,b=KK(m.title,u,i),w=zt({body:m.body,initialData:m.initialData},u,i),O=Mj(m.buttons),M=eX(O),B=oX({buttons:O},u,i),W=kj.initDialog(()=>Ie,QK(()=>se,i.shared.providers,s),i.shared.getSink),Y=ane(m.size),ee={id:u,header:b,body:w,footer:P.some(B),extraClasses:Y,extraBehaviours:[],extraStyles:{}},se=JK(ee,t,W,i),be=(()=>{const nt=()=>{const tt=Ya.getBody(se);return Xo.getCurrent(tt).getOr(tt)},Ue=()=>{const tt="tox-dialog--fullscreen",ut=Xe.fromDom(se.element.dom);oa(ut,tt)?(Ls(ut,tt),pu(ut,Y)):(zc(ut,Y),As(ut,tt))};return{getId:Ee(u),getRoot:Ee(se),getBody:()=>Ya.getBody(se),getFooter:()=>Ya.getFooter(se),getFormWrapper:nt,toggleFullscreen:Ue}})(),Ie=rX(be,s.redial,M);return{dialog:se,instanceApi:Ie}},lne=(t,s,i,u)=>{const m=_n("dialog"),b=_n("dialog-label"),w=_n("dialog-content"),O=t.internalDialog,M=(ut,pt)=>P.some(pt),B=zo(ene({title:O.title,draggable:!0},m,b,i.shared.providers)),W=zo(Zt({body:O.body,initialData:O.initialData},m,w,i,u)),Y=Mj(O.buttons),ee=eX(Y),se=zo(rne({buttons:Y},m,i)),be=kj.initDialog(()=>tt,{onBlock:ut=>{Bb.block(nt,(pt,Qt)=>XK(ut.message,Qt,i.shared.providers))},onUnblock:()=>{Bb.unblock(nt)},onClose:()=>s.closeWindow()},i.shared.getSink),Ie="tox-dialog-inline",nt=dc({dom:{tag:"div",classes:["tox-dialog",Ie],attributes:{role:"dialog",["aria-labelledby"]:b,["aria-describedby"]:w}},eventOrder:{[Vf()]:[Ks.name(),bu.name()],[zs()]:["execute-on-form"],[sf()]:["reflecting","execute-on-form"]},behaviours:kt([Bn.config({mode:"cyclic",onEscape:ut=>(ss(ut,tS),P.some(!0)),useTabstopAt:ut=>!uS(ut)&&(Ja(ut)!=="button"||Mi(ut,"disabled")!=="disabled"),firstTabstop:1}),Ks.config({channel:`${jS}-${m}`,updateState:M,initialData:t}),jn.config({}),mo("execute-on-form",be.concat([qa(Hf(),(ut,pt)=>{Bn.focusIn(ut)})])),Bb.config({getRoot:()=>P.some(nt)}),lo.config({}),Oi.memory({})]),components:[B.asSpec(),W.asSpec(),se.asSpec()]}),Ue=()=>{const ut="tox-dialog--fullscreen",pt=Xe.fromDom(nt.element.dom);Uh(pt,[ut])?(zc(pt,[ut]),pu(pt,[Ie])):(zc(pt,[Ie]),pu(pt,[ut]))},tt=rX({getId:Ee(m),getRoot:Ee(nt),getFooter:()=>se.get(nt),getBody:()=>W.get(nt),getFormWrapper:()=>{const ut=W.get(nt);return Xo.getCurrent(ut).getOr(ut)},toggleFullscreen:Ue},s.redial,ee);return{dialog:nt,instanceApi:tt}};var Pj=tinymce.util.Tools.resolve("tinymce.util.URI");const une=t=>{const s=w=>{t.getSystem().isConnected()&&w(t)};return{block:w=>{if(!U(w))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(O=>{Mn(O,hD,{message:w})})},unblock:()=>{s(w=>{ss(w,mD)})},close:()=>{s(w=>{ss(w,tS)})},sendMessage:w=>{s(O=>{O.getSystem().broadcastOn([it],w)})}}},dne=["insertContent","setContent","execCommand","close","block","unblock"],iX=t=>G(t)&&dne.indexOf(t.mceAction)!==-1,fne=t=>!iX(t)&&G(t)&&Ho(t,"mceAction"),hne=(t,s,i)=>{switch(i.mceAction){case"insertContent":t.insertContent(i.content);break;case"setContent":t.setContent(i.content);break;case"execCommand":const u=_e(i.ui)?i.ui:!1;t.execCommand(i.cmd,u,i.value);break;case"close":s.close();break;case"block":s.block(i.message);break;case"unblock":s.unblock();break}},mne=(t,s,i,u)=>{const m=_n("dialog"),b=KK(t.title,m,u),w=Hn(t),O=t.buttons.bind(tt=>tt.length===0?P.none():P.some(oX({buttons:tt},m,u))),M=kj.initUrlDialog(()=>Ue,QK(()=>nt,u.shared.providers,s)),B={...t.height.fold(()=>({}),tt=>({height:tt+"px","max-height":tt+"px"})),...t.width.fold(()=>({}),tt=>({width:tt+"px","max-width":tt+"px"}))},W=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],Y=new Pj(t.url,{base_uri:new Pj(window.location.href)}),ee=`${Y.protocol}://${Y.host}${Y.port?":"+Y.port:""}`,se=_u(),be=[mo("messages",[Tr(()=>{const tt=Dc(Xe.fromDom(window),"message",ut=>{if(Y.isSameOrigin(new Pj(ut.raw.origin))){const pt=ut.raw.data;iX(pt)?hne(i,Ue,pt):fne(pt)&&t.onMessage(Ue,pt)}});se.set(tt)}),Ac(se.clear)]),bu.config({channels:{[it]:{onReceive:(tt,ut)=>{Nr(tt.element,"iframe").each(pt=>{const Qt=pt.dom.contentWindow;fe(Qt)&&Qt.postMessage(ut,ee)})}}}})],nt=JK({id:m,header:b,body:w,footer:O,extraClasses:W,extraBehaviours:be,extraStyles:B},t,M,u),Ue=une(nt);return{dialog:nt,instanceApi:Ue}},gne=t=>{const s=t.shared;return{open:(u,m)=>{const b=()=>{Ya.hide(B),m()},w=zo(vS({name:"close-alert",text:"OK",primary:!0,buttonType:P.some("primary"),align:"end",enabled:!0,icon:P.none()},"cancel",t)),O=zK(),M=UK(b,s.providers),B=dc(Nj({lazySink:()=>s.getSink(),header:VK(O,M),body:WK(u,s.providers),footer:P.some(GK(qK([],[w.asSpec()]))),onEscape:b,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Dt(My,b)],eventOrder:{}}));Ya.show(B);const W=w.get(B);jn.focus(W)}}},pne=t=>{const s=t.shared;return{open:(u,m)=>{const b=ee=>{Ya.hide(W),m(ee)},w=zo(vS({name:"yes",text:"Yes",primary:!0,buttonType:P.some("primary"),align:"end",enabled:!0,icon:P.none()},"submit",t)),O=vS({name:"no",text:"No",primary:!1,buttonType:P.some("secondary"),align:"end",enabled:!0,icon:P.none()},"cancel",t),M=zK(),B=UK(()=>b(!1),s.providers),W=dc(Nj({lazySink:()=>s.getSink(),header:VK(M,B),body:WK(u,s.providers),footer:P.some(GK(qK([],[O,w.asSpec()]))),onEscape:()=>b(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Dt(My,()=>b(!1)),Dt(nS,()=>b(!0))],eventOrder:{}}));Ya.show(W);const Y=w.get(W);jn.focus(Y)}}},vne=(t,s)=>Po(ts("data",s,t)),bne=t=>QC(t,".tox-alert-dialog")||QC(t,".tox-confirm-dialog"),yne=(t,s,i)=>s&&i?[]:[$a.config({contextual:{lazyContext:()=>P.some(es(Xe.fromDom(t.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:u=>xi(t,u.element).map(b=>({bounds:Wx(b),optScrollEnv:P.some({currentScrollTop:b.element.dom.scrollTop,scrollElmTop:xo(b.element).top})})).getOrThunk(()=>({bounds:Da(),optScrollEnv:P.none()}))})],_ne=t=>{const s=t.editor,i=zE(s),u=gne(t.backstages.dialog),m=pne(t.backstages.dialog),b=(se,be,Ie)=>be!==void 0&&be.inline==="toolbar"?B(se,t.backstages.popup.shared.anchors.inlineDialog(),Ie,be.ariaAttrs):be!==void 0&&be.inline==="cursor"?B(se,t.backstages.popup.shared.anchors.cursor(),Ie,be.ariaAttrs):M(se,Ie),w=(se,be)=>O(se,be),O=(se,be)=>{const Ie=nt=>{const Ue=mne(nt,{closeWindow:()=>{Ya.hide(Ue.dialog),be(Ue.instanceApi)}},s,t.backstages.dialog);return Ya.show(Ue.dialog),Ue.instanceApi};return zn.openUrl(Ie,se)},M=(se,be)=>{const Ie=(nt,Ue,tt)=>{const ut=Ue,Qt=cne({dataValidator:tt,initialData:ut,internalDialog:nt},{redial:zn.redial,closeWindow:()=>{Ya.hide(Qt.dialog),be(Qt.instanceApi)}},t.backstages.dialog);return Ya.show(Qt.dialog),Qt.instanceApi.setData(ut),Qt.instanceApi};return zn.open(Ie,se)},B=(se,be,Ie,nt=!1)=>{const Ue=(tt,ut,pt)=>{const Qt=vne(ut,pt),Pt=Zs(),ln=t.backstages.popup.shared.header.isPositionedAtTop(),xn={dataValidator:pt,initialData:Qt,internalDialog:tt},$o=()=>Pt.on(Io=>{ra.reposition(Io),$a.refresh(Io)}),Fn=lne(xn,{redial:zn.redial,closeWindow:()=>{Pt.on(ra.hide),s.off("ResizeEditor",$o),Pt.clear(),Ie(Fn.instanceApi)}},t.backstages.popup,nt),Mo=dc(ra.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{},...ln?{}:{fireRepositionEventInstead:{}},inlineBehaviours:kt([mo("window-manager-inline-events",[Dt(gu(),(Io,Xn)=>{ss(Fn.dialog,My)})]),...yne(s,i,ln)]),isExtraPart:(Io,Xn)=>bne(Xn)}));Pt.set(Mo);const oo=()=>{const Io=s.inline?Qi():Xe.fromDom(s.getContainer()),Xn=es(Io);return P.some(Xn)};return ra.showWithinBounds(Mo,rl(Fn.dialog),{anchor:be},oo),(!i||!ln)&&($a.refresh(Mo),s.on("ResizeEditor",$o)),Fn.instanceApi.setData(Qt),Bn.focusIn(Fn.dialog),Fn.instanceApi};return zn.open(Ue,se)};return{open:b,openUrl:w,alert:(se,be)=>{u.open(se,be)},close:se=>{se.close()},confirm:(se,be)=>{m.open(se,be)}}},Ene=t=>{vP(t),xg(t),nq(t)};var wne=()=>{Yd.add("silver",t=>{Ene(t);let s=()=>Da();const{dialogs:i,popups:u,renderUI:m}=gO(t,{getPopupSinkBounds:()=>s()}),b=async()=>{const M=await m();return xi(t,u.getMothership().element).each(W=>{s=()=>Wx(W)}),M};Np.register(t,u.backstage.shared);const w=_ne({editor:t,backstages:{popup:u.backstage,dialog:i.backstage}}),O=()=>iI(t,{backstage:u.backstage},u.getMothership());return{renderUI:b,getWindowManagerImpl:Ee(w),getNotificationManagerImpl:O}})};wne()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.ModelManager");const c=(d,p,E)=>{var S;return E(d,p.prototype)?!0:((S=d.constructor)===null||S===void 0?void 0:S.name)===p.name},h=d=>{const p=typeof d;return d===null?"null":p==="object"&&Array.isArray(d)?"array":p==="object"&&c(d,String,(E,S)=>S.isPrototypeOf(E))?"string":p},y=d=>p=>h(p)===d,A=d=>p=>typeof p===d,N=d=>p=>d===p,D=y("string"),U=y("object"),G=y("array"),K=N(null),Q=A("boolean"),ie=N(void 0),_e=d=>d==null,ve=d=>!_e(d),de=A("function"),fe=A("number"),we=()=>{},De=(d,p)=>(...E)=>d(p.apply(null,E)),Me=(d,p)=>E=>d(p(E)),oe=d=>()=>d,Be=d=>d,lt=(d,p)=>d===p;function F(d,...p){return(...E)=>{const S=p.concat(E);return d.apply(null,S)}}const Ee=d=>p=>!d(p),Ze=d=>()=>{throw new Error(d)},ht=d=>d(),Et=oe(!1),Ne=oe(!0);class ge{constructor(p,E){this.tag=p,this.value=E}static some(p){return new ge(!0,p)}static none(){return ge.singletonNone}fold(p,E){return this.tag?E(this.value):p()}isSome(){return this.tag}isNone(){return!this.tag}map(p){return this.tag?ge.some(p(this.value)):ge.none()}bind(p){return this.tag?p(this.value):ge.none()}exists(p){return this.tag&&p(this.value)}forall(p){return!this.tag||p(this.value)}filter(p){return!this.tag||p(this.value)?this:ge.none()}getOr(p){return this.tag?this.value:p}or(p){return this.tag?this:p}getOrThunk(p){return this.tag?this.value:p()}orThunk(p){return this.tag?this:p()}getOrDie(p){if(this.tag)return this.value;throw new Error(p??"Called getOrDie on None")}static from(p){return ve(p)?ge.some(p):ge.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(p){this.tag&&p(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ge.singletonNone=new ge(!1);const gn=Array.prototype.slice,wt=Array.prototype.indexOf,Ot=Array.prototype.push,P=(d,p)=>wt.call(d,p),Rt=(d,p)=>P(d,p)>-1,et=(d,p)=>{for(let E=0,S=d.length;E<S;E++){const k=d[E];if(p(k,E))return!0}return!1},qt=(d,p)=>{const E=[];for(let S=0;S<d;S++)E.push(p(S));return E},Vt=(d,p)=>{const E=d.length,S=new Array(E);for(let k=0;k<E;k++){const V=d[k];S[k]=p(V,k)}return S},Ge=(d,p)=>{for(let E=0,S=d.length;E<S;E++){const k=d[E];p(k,E)}},vo=(d,p)=>{for(let E=d.length-1;E>=0;E--){const S=d[E];p(S,E)}},Bo=(d,p)=>{const E=[],S=[];for(let k=0,V=d.length;k<V;k++){const J=d[k];(p(J,k)?E:S).push(J)}return{pass:E,fail:S}},ao=(d,p)=>{const E=[];for(let S=0,k=d.length;S<k;S++){const V=d[S];p(V,S)&&E.push(V)}return E},Fo=(d,p,E)=>(vo(d,(S,k)=>{E=p(E,S,k)}),E),Je=(d,p,E)=>(Ge(d,(S,k)=>{E=p(E,S,k)}),E),It=(d,p,E)=>{for(let S=0,k=d.length;S<k;S++){const V=d[S];if(p(V,S))return ge.some(V);if(E(V,S))break}return ge.none()},te=(d,p)=>It(d,p,Et),cs=(d,p)=>{for(let E=0,S=d.length;E<S;E++){const k=d[E];if(p(k,E))return ge.some(E)}return ge.none()},uo=d=>{const p=[];for(let E=0,S=d.length;E<S;++E){if(!G(d[E]))throw new Error("Arr.flatten item "+E+" was not an array, input: "+d);Ot.apply(p,d[E])}return p},Bt=(d,p)=>uo(Vt(d,p)),ps=(d,p)=>{for(let E=0,S=d.length;E<S;++E){const k=d[E];if(p(k,E)!==!0)return!1}return!0},Xa=d=>{const p=gn.call(d,0);return p.reverse(),p},kn=(d,p)=>{const E={};for(let S=0,k=d.length;S<k;S++){const V=d[S];E[String(V)]=p(V,S)}return E},ko=(d,p)=>{const E=gn.call(d,0);return E.sort(p),E},Yt=(d,p)=>p>=0&&p<d.length?ge.some(d[p]):ge.none(),mt=d=>Yt(d,0),pi=d=>Yt(d,d.length-1),vi=(d,p)=>{for(let E=0;E<d.length;E++){const S=p(d[E],E);if(S.isSome())return S}return ge.none()},Lt=Object.keys,Lr=Object.hasOwnProperty,Ns=(d,p)=>{const E=Lt(d);for(let S=0,k=E.length;S<k;S++){const V=E[S],J=d[V];p(J,V)}},Pc=(d,p)=>vs(d,(E,S)=>({k:S,v:p(E,S)})),vs=(d,p)=>{const E={};return Ns(d,(S,k)=>{const V=p(S,k);E[V.k]=V.v}),E},Rr=d=>(p,E)=>{d[E]=p},jc=(d,p,E,S)=>{Ns(d,(k,V)=>{(p(k,V)?E:S)(k,V)})},Ca=(d,p)=>{const E={};return jc(d,p,Rr(E),we),E},nr=(d,p)=>{const E=[];return Ns(d,(S,k)=>{E.push(p(S,k))}),E},Os=d=>nr(d,Be),rd=(d,p)=>Yr(d,p)?ge.from(d[p]):ge.none(),Yr=(d,p)=>Lr.call(d,p),Ms=(d,p)=>Yr(d,p)&&d[p]!==void 0&&d[p]!==null,fl=d=>{for(const p in d)if(Lr.call(d,p))return!1;return!0},Ii=typeof window<"u"?window:Function("return this;")(),Zc=(d,p)=>{let E=p??Ii;for(let S=0;S<d.length&&E!==void 0&&E!==null;++S)E=E[d[S]];return E},vr=(d,p)=>{const E=d.split(".");return Zc(E,p)},$r=(d,p)=>vr(d,p),Gd=(d,p)=>{const E=$r(d,p);if(E==null)throw new Error(d+" not available on this browser");return E},bi=Object.getPrototypeOf,yh=d=>Gd("HTMLElement",d),an=d=>{const p=vr("ownerDocument.defaultView",d);return U(d)&&(yh(p).prototype.isPrototypeOf(d)||/^HTML\w*Element$/.test(bi(d).constructor.name))},Ho=8,ca=9,pc=11,_h=1,au=3,ks=d=>d.dom.nodeName.toLowerCase(),id=d=>d.dom.nodeType,qd=d=>p=>id(p)===d,Xs=d=>id(d)===Ho||ks(d)==="#comment",qn=d=>Qa(d)&&an(d.dom),Qa=qd(_h),Ru=qd(au),Yc=qd(ca),Eh=qd(pc),Di=d=>p=>Qa(p)&&ks(p)===d,Ki=(d,p,E)=>{if(D(E)||Q(E)||fe(E))d.setAttribute(p,E+"");else throw console.error("Invalid call to Attribute.set. Key ",p,":: Value ",E,":: Element ",d),new Error("Attribute value was not simple")},Ur=(d,p,E)=>{Ki(d.dom,p,E)},Fa=(d,p)=>{const E=d.dom;Ns(p,(S,k)=>{Ki(E,k,S)})},Kc=(d,p)=>{Ns(p,(E,S)=>{E.fold(()=>{Br(d,S)},k=>{Ki(d.dom,S,k)})})},vc=(d,p)=>{const E=d.dom.getAttribute(p);return E===null?void 0:E},Sa=(d,p)=>ge.from(vc(d,p)),Br=(d,p)=>{d.dom.removeAttribute(p)},bc=d=>Je(d.dom.attributes,(p,E)=>(p[E.name]=E.value,p),{}),hl=(d,p)=>{const S=(p||document).createElement("div");if(S.innerHTML=d,!S.hasChildNodes()||S.childNodes.length>1){const k="HTML does not have a single root node";throw console.error(k,d),new Error(k)}return Ll(S.childNodes[0])},Bg=(d,p)=>{const S=(p||document).createElement(d);return Ll(S)},Fg=(d,p)=>{const S=(p||document).createTextNode(d);return Ll(S)},Ll=d=>{if(d==null)throw new Error("Node cannot be null or undefined");return{dom:d}},Xe={fromHtml:hl,fromTag:Bg,fromText:Fg,fromDom:Ll,fromPoint:(d,p,E)=>ge.from(d.dom.elementFromPoint(p,E)).map(Ll)},yi=(d,p)=>{const E=d.dom;if(E.nodeType!==_h)return!1;{const S=E;if(S.matches!==void 0)return S.matches(p);if(S.msMatchesSelector!==void 0)return S.msMatchesSelector(p);if(S.webkitMatchesSelector!==void 0)return S.webkitMatchesSelector(p);if(S.mozMatchesSelector!==void 0)return S.mozMatchesSelector(p);throw new Error("Browser lacks native selectors")}},cu=d=>d.nodeType!==_h&&d.nodeType!==ca&&d.nodeType!==pc||d.childElementCount===0,Hg=(d,p)=>{const E=p===void 0?document:p.dom;return cu(E)?[]:Vt(E.querySelectorAll(d),Xe.fromDom)},wh=(d,p)=>{const E=p===void 0?document:p.dom;return cu(E)?ge.none():ge.from(E.querySelector(d)).map(Xe.fromDom)},Fs=(d,p)=>d.dom===p.dom,jd=(d,p)=>{const E=d.dom,S=p.dom;return E===S?!1:E.contains(S)},Cm=yi,Xi=d=>Xe.fromDom(d.dom.ownerDocument),Xc=d=>Yc(d)?d:Xi(d),oi=d=>Xe.fromDom(Xc(d).dom.documentElement),_i=d=>Xe.fromDom(Xc(d).dom.defaultView),lu=d=>ge.from(d.dom.parentNode).map(Xe.fromDom),Ja=d=>ge.from(d.dom.parentElement).map(Xe.fromDom),uu=(d,p)=>{const E=de(p)?p:Et;let S=d.dom;const k=[];for(;S.parentNode!==null&&S.parentNode!==void 0;){const V=S.parentNode,J=Xe.fromDom(V);if(k.push(J),E(J)===!0)break;S=V}return k},$l=d=>ge.from(d.dom.previousSibling).map(Xe.fromDom),ad=d=>ge.from(d.dom.nextSibling).map(Xe.fromDom),Cs=d=>Vt(d.dom.childNodes,Xe.fromDom),si=(d,p)=>{const E=d.dom.childNodes;return ge.from(E[p]).map(Xe.fromDom)},Qc=d=>si(d,0),cd=(d,p)=>{lu(d).each(S=>{S.dom.insertBefore(p.dom,d.dom)})},Aa=(d,p)=>{ad(d).fold(()=>{lu(d).each(k=>{br(k,p)})},S=>{cd(S,p)})},yc=(d,p)=>{Qc(d).fold(()=>{br(d,p)},S=>{d.dom.insertBefore(p.dom,S.dom)})},br=(d,p)=>{d.dom.appendChild(p.dom)},ld=(d,p,E)=>{si(d,E).fold(()=>{br(d,p)},S=>{cd(S,p)})},du=(d,p)=>{cd(d,p),br(p,d)},bs=(d,p)=>{Ge(p,(E,S)=>{const k=S===0?d:p[S-1];Aa(k,E)})},ec=(d,p)=>{Ge(p,E=>{br(d,E)})},ri=d=>{d.dom.textContent="",Ge(Cs(d),p=>{Fr(p)})},Fr=d=>{const p=d.dom;p.parentNode!==null&&p.parentNode.removeChild(p)},Jc=d=>{const p=Cs(d);p.length>0&&bs(d,p),Fr(d)},Iu=(d,p)=>Xe.fromDom(d.dom.cloneNode(p)),_c=d=>Iu(d,!1),Lc=d=>Iu(d,!0),Df=(d,p)=>{const E=Xe.fromTag(p),S=bc(d);return Fa(E,S),E},Th=(d,p)=>{const E=Df(d,p),S=Cs(Lc(d));return ec(E,S),E},Vg=(d,p)=>{const E=Df(d,p);Aa(d,E);const S=Cs(d);return ec(E,S),Fr(d),E},tc=["tfoot","thead","tbody","colgroup"],Du=d=>Rt(tc,d),Ch=(d,p)=>({rows:d,columns:p}),Nu=(d,p)=>({row:d,column:p}),Nf=(d,p,E)=>({element:d,rowspan:p,colspan:E}),Sm=(d,p,E,S)=>({element:d,rowspan:p,colspan:E,isNew:S}),Mu=(d,p,E,S,k,V)=>({element:d,rowspan:p,colspan:E,row:S,column:k,isLocked:V}),ku=(d,p,E)=>({element:d,cells:p,section:E}),xa=(d,p,E,S)=>({element:d,cells:p,section:E,isNew:S}),Ni=(d,p,E)=>({element:d,isNew:p,isLocked:E}),Pu=(d,p,E,S)=>({element:d,cells:p,section:E,isNew:S}),Mf=(d,p,E,S)=>({startRow:d,startCol:p,finishRow:E,finishCol:S}),Ug=(d,p,E)=>({element:d,colspan:p,column:E}),Hs=(d,p)=>({element:d,columns:p}),yr=d=>Eh(d)&&ve(d.dom.host),nc=de(Element.prototype.attachShadow)&&de(Node.prototype.getRootNode),Qi=oe(nc),ml=nc?d=>Xe.fromDom(d.dom.getRootNode()):Xc,$c=d=>{const p=ml(d);return yr(p)?ge.some(p):ge.none()},co=d=>Xe.fromDom(d.dom.host),Do=d=>{if(Qi()&&ve(d.target)){const p=Xe.fromDom(d.target);if(Qa(p)&&Mi(p)&&d.composed&&d.composedPath){const E=d.composedPath();if(E)return mt(E)}}return ge.from(d.target)},Mi=d=>ve(d.dom.shadowRoot),Kr=d=>{const p=Ru(d)?d.dom.parentNode:d.dom;if(p==null||p.ownerDocument===null)return!1;const E=p.ownerDocument;return $c(Xe.fromDom(p)).fold(()=>E.body.contains(p),Me(Kr,co))},la=()=>T(Xe.fromDom(document)),T=d=>{const p=d.dom.body;if(p==null)throw new Error("Body is not available yet");return Xe.fromDom(p)},I=(d,p,E)=>ao(uu(d,E),p),H=(d,p)=>ao(Cs(d),p),z=(d,p)=>{let E=[];return Ge(Cs(d),S=>{p(S)&&(E=E.concat([S])),E=E.concat(z(S,p))}),E},X=(d,p,E)=>I(d,S=>yi(S,p),E),re=(d,p)=>H(d,E=>yi(E,p)),me=(d,p)=>Hg(p,d);var pe=(d,p,E,S,k)=>d(E,S)?ge.some(E):de(k)&&k(E)?ge.none():p(E,S,k);const ke=(d,p,E)=>{let S=d.dom;const k=de(E)?E:Et;for(;S.parentNode;){S=S.parentNode;const V=Xe.fromDom(S);if(p(V))return ge.some(V);if(k(V))break}return ge.none()},st=(d,p,E)=>pe((k,V)=>V(k),ke,d,p,E),yt=(d,p)=>{const E=k=>p(Xe.fromDom(k));return te(d.dom.childNodes,E).map(Xe.fromDom)},Kt=(d,p)=>{const E=S=>{for(let k=0;k<S.childNodes.length;k++){const V=Xe.fromDom(S.childNodes[k]);if(p(V))return ge.some(V);const J=E(S.childNodes[k]);if(J.isSome())return J}return ge.none()};return E(d.dom)},ot=(d,p,E)=>ke(d,S=>yi(S,p),E),Nt=(d,p)=>yt(d,E=>yi(E,p)),Jn=(d,p)=>wh(p,d),Zn=(d,p,E)=>pe((k,V)=>yi(k,V),ot,d,p,E),Tn=(d,p,E=lt)=>d.exists(S=>E(S,p)),lr=d=>{const p=[],E=S=>{p.push(S)};for(let S=0;S<d.length;S++)d[S].each(E);return p},Gs=(d,p)=>d!=null?p(d):ge.none(),ls=(d,p)=>d?ge.some(p):ge.none(),Kn=(d,p,E)=>p===""||d.length>=p.length&&d.substr(E,E+p.length)===p,eo=(d,p,E=0,S)=>{const k=d.indexOf(p,E);return k!==-1?ie(S)?!0:k+p.length<=S:!1},ki=(d,p)=>Kn(d,p,0),xo=(d,p)=>Kn(d,p,d.length-p.length),Bl=(d=>p=>p.replace(d,""))(/^\s+|\s+$/g),Vs=d=>d.length>0,ur=d=>{const p=parseFloat(d);return isNaN(p)?ge.none():ge.some(p)},Ir=d=>d.style!==void 0&&de(d.style.getPropertyValue),Bc=(d,p,E)=>{if(!D(E))throw console.error("Invalid call to CSS.set. Property ",p,":: Value ",E,":: Element ",d),new Error("CSS value must be a string: "+E);Ir(d)&&d.style.setProperty(p,E)},Ei=(d,p)=>{Ir(d)&&d.style.removeProperty(p)},is=(d,p,E)=>{const S=d.dom;Bc(S,p,E)},dr=(d,p)=>{const E=d.dom;Ns(p,(S,k)=>{Bc(E,k,S)})},Oa=(d,p)=>{const E=d.dom,k=window.getComputedStyle(E).getPropertyValue(p);return k===""&&!Kr(d)?kf(E,p):k},kf=(d,p)=>Ir(d)?d.style.getPropertyValue(p):"",Fc=(d,p)=>{const E=d.dom,S=kf(E,p);return ge.from(S).filter(k=>k.length>0)},Ec=(d,p)=>{const E=d.dom;Ei(E,p),Tn(Sa(d,"style").map(Bl),"")&&Br(d,"style")},ho=(d,p)=>{const E=d.dom,S=p.dom;Ir(E)&&Ir(S)&&(S.style.cssText=E.style.cssText)},zr=(d,p,E=0)=>Sa(d,p).map(S=>parseInt(S,10)).getOr(E),Pi=(d,p)=>zr(d,p,1),oc=d=>Di("col")(d)?zr(d,"span",1)>1:Pi(d,"colspan")>1,Ji=d=>Pi(d,"rowspan")>1,fr=(d,p)=>parseInt(Oa(d,p),10),Ha=oe(10),Ra=oe(10),ud=(d,p)=>Sh(d,p,Ne),Sh=(d,p,E)=>Bt(Cs(d),S=>yi(S,p)?E(S)?[S]:[]:Sh(S,p,E)),zg=(d,p,E=Et)=>{if(E(p))return ge.none();if(Rt(d,ks(p)))return ge.some(p);const S=k=>yi(k,"table")||E(k);return ot(p,d.join(","),S)},Fl=(d,p)=>zg(["td","th"],d,p),fu=d=>ud(d,"th,td"),Zd=d=>yi(d,"colgroup")?re(d,"col"):Bt(fd(d),p=>re(p,"col")),wi=(d,p)=>Zn(d,"table",p),dd=d=>ud(d,"tr"),fd=d=>wi(d).fold(oe([]),p=>re(p,"colgroup")),Lu=(d,p)=>Vt(d,E=>{if(ks(E)==="colgroup"){const S=Vt(Zd(E),k=>{const V=zr(k,"span",1);return Nf(k,1,V)});return ku(E,S,"colgroup")}else{const S=Vt(fu(E),k=>{const V=zr(k,"rowspan",1),J=zr(k,"colspan",1);return Nf(k,V,J)});return ku(E,S,p(E))}}),sc=d=>lu(d).map(p=>{const E=ks(p);return Du(E)?E:"tbody"}).getOr("tbody"),ua=d=>{const p=dd(d),S=[...fd(d),...p];return Lu(S,sc)},hu=(d,p)=>Lu(d,()=>p),hd=d=>{let p=!1,E;return(...S)=>(p||(p=!0,E=d.apply(null,S)),E)},Ah=(d,p,E,S)=>{const k=d.isiOS()&&/ipad/i.test(E)===!0,V=d.isiOS()&&!k,J=d.isiOS()||d.isAndroid(),le=J||S("(pointer:coarse)"),ye=k||!V&&J&&S("(min-device-width:768px)"),Re=V||J&&!ye,Ke=p.isSafari()&&d.isiOS()&&/safari/i.test(E)===!1,$t=!Re&&!ye&&!Ke;return{isiPad:oe(k),isiPhone:oe(V),isTablet:oe(ye),isPhone:oe(Re),isTouch:oe(le),isAndroid:d.isAndroid,isiOS:d.isiOS,isWebView:oe(Ke),isDesktop:oe($t)}},xh=(d,p)=>{for(let E=0;E<d.length;E++){const S=d[E];if(S.test(p))return S}},ws=(d,p)=>{const E=xh(d,p);if(!E)return{major:0,minor:0};const S=k=>Number(p.replace(E,"$"+k));return rc(S(1),S(2))},wc=(d,p)=>{const E=String(p).toLowerCase();return d.length===0?Oe():ws(d,E)},Oe=()=>rc(0,0),rc=(d,p)=>({major:d,minor:p}),da={nu:rc,detect:wc,unknown:Oe},Oh=(d,p)=>vi(p.brands,E=>{const S=E.brand.toLowerCase();return te(d,k=>{var V;return S===((V=k.brand)===null||V===void 0?void 0:V.toLowerCase())}).map(k=>({current:k.name,version:da.nu(parseInt(E.version,10),0)}))}),md=(d,p)=>{const E=String(p).toLowerCase();return te(d,S=>S.search(E))},o1=(d,p)=>md(d,p).map(E=>{const S=da.detect(E.versionRegexes,p);return{current:E.name,version:S}}),ns=(d,p)=>md(d,p).map(E=>{const S=da.detect(E.versionRegexes,p);return{current:E.name,version:S}}),Qe=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Mt=d=>p=>eo(p,d),xt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:d=>eo(d,"edge/")&&eo(d,"chrome")&&eo(d,"safari")&&eo(d,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Qe],search:d=>eo(d,"chrome")&&!eo(d,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:d=>eo(d,"msie")||eo(d,"trident")},{name:"Opera",versionRegexes:[Qe,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Mt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Mt("firefox")},{name:"Safari",versionRegexes:[Qe,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:d=>(eo(d,"safari")||eo(d,"mobile/"))&&eo(d,"applewebkit")}],Un=[{name:"Windows",search:Mt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:d=>eo(d,"iphone")||eo(d,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Mt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Mt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Mt("linux"),versionRegexes:[]},{name:"Solaris",search:Mt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Mt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Mt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],_o={browsers:oe(xt),oses:oe(Un)},Vo="Edge",Xr="Chromium",qs="IE",gd="Opera",Tc="Firefox",Ia="Safari",Te=()=>Pe({current:void 0,version:da.unknown()}),Pe=d=>{const p=d.current,E=d.version,S=k=>()=>p===k;return{current:p,version:E,isEdge:S(Vo),isChromium:S(Xr),isIE:S(qs),isOpera:S(gd),isFirefox:S(Tc),isSafari:S(Ia)}},ze={unknown:Te,nu:Pe,edge:oe(Vo),chromium:oe(Xr),ie:oe(qs),opera:oe(gd),firefox:oe(Tc),safari:oe(Ia)},Ht="Windows",ct="iOS",Ct="Android",Xt="Linux",An="macOS",Nn="Solaris",to="FreeBSD",bo="ChromeOS",so=()=>Zo({current:void 0,version:da.unknown()}),Zo=d=>{const p=d.current,E=d.version,S=k=>()=>p===k;return{current:p,version:E,isWindows:S(Ht),isiOS:S(ct),isAndroid:S(Ct),isMacOS:S(An),isLinux:S(Xt),isSolaris:S(Nn),isFreeBSD:S(to),isChromeOS:S(bo)}},Rs={unknown:so,nu:Zo,windows:oe(Ht),ios:oe(ct),android:oe(Ct),linux:oe(Xt),macos:oe(An),solaris:oe(Nn),freebsd:oe(to),chromeos:oe(bo)},Li={detect:(d,p,E)=>{const S=_o.browsers(),k=_o.oses(),V=p.bind(ye=>Oh(S,ye)).orThunk(()=>o1(S,d)).fold(ze.unknown,ze.nu),J=ns(k,d).fold(Rs.unknown,Rs.nu),le=Ah(J,V,d,E);return{browser:V,os:J,deviceType:le}}},$i=d=>window.matchMedia(d).matches;let Va=hd(()=>Li.detect(navigator.userAgent,ge.from(navigator.userAgentData),$i));const Qs=()=>Va(),Hl=(d,p)=>{const E=(le,ye)=>{if(!fe(ye)&&!ye.match(/^[0-9]+$/))throw new Error(d+".set accepts only positive integer values. Value was "+ye);const Re=le.dom;Ir(Re)&&(Re.style[d]=ye+"px")},S=le=>{const ye=p(le);if(ye<=0||ye===null){const Re=Oa(le,d);return parseFloat(Re)||0}return ye},k=S,V=(le,ye)=>Je(ye,(Re,Ke)=>{const $t=Oa(le,Ke),cn=$t===void 0?0:parseInt($t,10);return isNaN(cn)?Re:Re+cn},0);return{set:E,get:S,getOuter:k,aggregate:V,max:(le,ye,Re)=>{const Ke=V(le,Re);return ye>Ke?ye-Ke:0}}},Ps=(d,p)=>ur(d).getOr(p),es=(d,p,E)=>Ps(Oa(d,p),E),gl=(d,p,E,S)=>{const k=es(d,`padding-${E}`,0),V=es(d,`padding-${S}`,0),J=es(d,`border-${E}-width`,0),le=es(d,`border-${S}-width`,0);return p-k-V-J-le},Am=(d,p)=>{const E=d.dom,S=E.getBoundingClientRect().width||E.offsetWidth;return p==="border-box"?S:gl(d,S,"left","right")},s1=d=>es(d,"height",d.dom.offsetHeight),Da=d=>es(d,"width",d.dom.offsetWidth),Yd=d=>Am(d,"content-box"),Vl=Hl("width",d=>d.dom.offsetWidth),el=d=>Vl.get(d),Kd=d=>Vl.getOuter(d),ro=Yd,fa=Da,Rh=(d,p,E)=>{const S=d.cells,k=S.slice(0,p),V=S.slice(p),J=k.concat(E).concat(V);return ha(d,J)},Ev=(d,p,E)=>Rh(d,p,[E]),ii=(d,p,E)=>{const S=d.cells;S[p]=E},ha=(d,p)=>Pu(d.element,p,d.section,d.isNew),$u=(d,p)=>{const E=d.cells,S=Vt(E,p);return Pu(d.element,S,d.section,d.isNew)},pl=(d,p)=>d.cells[p],Na=(d,p)=>pl(d,p).element,tl=d=>d.cells.length,ea=d=>{const p=Bo(d,E=>E.section==="colgroup");return{rows:p.fail,cols:p.pass}},xm=(d,p,E)=>{const S=Vt(d.cells,E);return Pu(p(d.element),S,d.section,!0)},us="data-snooker-locked-cols",nl=d=>Sa(d,us).bind(p=>ge.from(p.match(/\d+/g))).map(p=>kn(p,Ne)),Ul=d=>{const p=Je(ea(d).rows,(S,k)=>(Ge(k.cells,(V,J)=>{V.isLocked&&(S[J]=!0)}),S),{}),E=nr(p,(S,k)=>parseInt(k,10));return ko(E)},Er=(d,p)=>d+","+p,Om=(d,p,E)=>ge.from(d.access[Er(p,E)]),zl=(d,p,E)=>{const S=pd(d,k=>E(p,k.element));return S.length>0?ge.some(S[0]):ge.none()},pd=(d,p)=>{const E=Bt(d.all,S=>S.cells);return ao(E,p)},Js=d=>{const p={};let E=0;return Ge(d.cells,S=>{const k=S.colspan;qt(k,V=>{const J=E+V;p[J]=Ug(S.element,k,J)}),E+=k}),p},wr=d=>{const p={},E=[],k=mt(d).map(tn=>tn.element).bind(wi).bind(nl).getOr({});let V=0,J=0,le=0;const{pass:ye,fail:Re}=Bo(d,tn=>tn.section==="colgroup");Ge(Re,tn=>{const Tt=[];Ge(tn.cells,rn=>{let _t=0;for(;p[Er(le,_t)]!==void 0;)_t++;const wn=Ms(k,_t.toString()),Qn=Mu(rn.element,rn.rowspan,rn.colspan,le,_t,wn);for(let yo=0;yo<rn.colspan;yo++)for(let ir=0;ir<rn.rowspan;ir++){const hc=le+ir,fi=_t+yo,Tu=Er(hc,fi);p[Tu]=Qn,J=Math.max(J,fi+1)}Tt.push(Qn)}),V++,E.push(ku(tn.element,Tt,tn.section)),le++});const{columns:Ke,colgroups:$t}=pi(ye).map(tn=>{const Tt=Js(tn);return{colgroups:[Hs(tn.element,Os(Tt))],columns:Tt}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:Ch(V,J),access:p,all:E,columns:Ke,colgroups:$t}},ue={fromTable:d=>{const p=ua(d);return wr(p)},generate:wr,getAt:Om,findItem:zl,filterItems:pd,justCells:d=>Bt(d.all,p=>p.cells),justColumns:d=>Os(d.columns),hasColumns:d=>Lt(d.columns).length>0,getColumnAt:(d,p)=>ge.from(d.columns[p])},Xd=(d,p=Ne)=>{const E=d.grid,S=qt(E.columns,Be),k=qt(E.rows,Be);return Vt(S,V=>Ih(()=>Bt(k,Re=>ue.getAt(d,Re,V).filter(Ke=>Ke.column===V).toArray()),Re=>Re.colspan===1&&p(Re.element),()=>ue.getAt(d,0,V)))},Ih=(d,p,E)=>{const S=d();return te(S,p).orThunk(()=>ge.from(S[0]).orThunk(E)).map(J=>J.element)},vl=d=>{const p=d.grid,E=qt(p.rows,Be),S=qt(p.columns,Be);return Vt(E,k=>Ih(()=>Bt(S,ye=>ue.getAt(d,k,ye).filter(Re=>Re.row===k).fold(oe([]),Re=>[Re])),ye=>ye.rowspan===1,()=>ue.getAt(d,k,0)))},Us=(d,p)=>{if(p<0||p>=d.length-1)return ge.none();const E=d[p].fold(()=>{const k=Xa(d.slice(0,p));return vi(k,(V,J)=>V.map(le=>({value:le,delta:J+1})))},k=>ge.some({value:k,delta:0})),S=d[p+1].fold(()=>{const k=d.slice(p+1);return vi(k,(V,J)=>V.map(le=>({value:le,delta:J+1})))},k=>ge.some({value:k,delta:1}));return E.bind(k=>S.map(V=>{const J=V.delta+k.delta;return Math.abs(V.value-k.value)/J}))},i1=(d,p)=>E=>Qd(E)==="rtl"?p:d,Qd=d=>Oa(d,"direction")==="rtl"?"rtl":"ltr",a1=Hl("height",d=>{const p=d.dom;return Kr(d)?p.getBoundingClientRect().height:p.offsetHeight}),ma=d=>a1.get(d),wv=d=>a1.getOuter(d),Im=s1,e0=(d,p)=>({left:d,top:p,translate:(S,k)=>e0(d+S,p+k)}),Fu=e0,c1=d=>{const p=d.getBoundingClientRect();return Fu(p.left,p.top)},za=(d,p)=>d!==void 0?d:p!==void 0?p:0,Lf=d=>{const p=d.dom.ownerDocument,E=p.body,S=p.defaultView,k=p.documentElement;if(E===d.dom)return Fu(E.offsetLeft,E.offsetTop);const V=za(S==null?void 0:S.pageYOffset,k.scrollTop),J=za(S==null?void 0:S.pageXOffset,k.scrollLeft),le=za(k.clientTop,E.clientTop),ye=za(k.clientLeft,E.clientLeft);return t0(d).translate(J-ye,V-le)},t0=d=>{const p=d.dom,S=p.ownerDocument.body;return S===p?Fu(S.offsetLeft,S.offsetTop):Kr(d)?c1(p):Fu(0,0)},Wg=(d,p)=>({row:d,y:p}),$f=(d,p)=>({col:d,x:p}),Tv=d=>Lf(d).left+Kd(d),Hu=d=>Lf(d).left,Qr=(d,p)=>$f(d,Hu(p)),Gg=(d,p)=>$f(d,Tv(p)),ai=d=>Lf(d).top,ga=(d,p)=>Wg(d,ai(p)),Pn=(d,p)=>Wg(d,ai(p)+wv(p)),nn=(d,p,E)=>{if(E.length===0)return[];const S=Vt(E.slice(1),(V,J)=>V.map(le=>d(J,le))),k=E[E.length-1].map(V=>p(E.length-1,V));return S.concat([k])},Dm=d=>-d,bl={delta:Be,positions:d=>nn(ga,Pn,d),edge:ai},_l=i1({delta:Be,edge:Hu,positions:d=>nn(Qr,Gg,d)},{delta:Dm,edge:Tv,positions:d=>nn(Gg,Qr,d)}),ol={delta:(d,p)=>_l(p).delta(d,p),positions:(d,p)=>_l(p).positions(d,p),edge:d=>_l(d).edge(d)},Vu={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Dr=(()=>{const d="[0-9]+",E="[eE]"+("[+-]?"+d),S="\\.",k=le=>`(?:${le})?`,J=`[+-]?(?:${["Infinity",d+S+k(d)+k(E),S+d+k(E),d+k(E)].join("|")})`;return new RegExp(`^(${J})(.*)$`)})(),vd=(d,p)=>et(p,E=>et(Vu[E],S=>d===S)),Dh=(d,p)=>ge.from(Dr.exec(d)).bind(S=>{const k=Number(S[1]),V=S[2];return vd(V,p)?ge.some({value:k,unit:V}):ge.none()}),Ut=/(\d+(\.\d+)?)%/,n0=/(\d+(\.\d+)?)px|em/,Nm=Di("col"),Wa=(d,p,E)=>{const S=Ja(d).getOrThunk(()=>T(Xi(d)));return p(d)/E(S)*100},bd=(d,p)=>{is(d,"width",p+"px")},Jd=(d,p)=>{is(d,"width",p+"%")},hr=(d,p)=>{is(d,"height",p+"px")},jg=d=>Im(d)+"px",ts=(d,p,E,S)=>{const k=wi(d).map(V=>{const J=E(V);return Math.floor(p/100*J)}).getOr(p);return S(d,k),k},Po=(d,p,E,S)=>{const k=parseFloat(d);return xo(d,"%")&&ks(p)!=="table"?ts(p,k,E,S):k},Jr=d=>{const p=jg(d);return p?Po(p,d,ma,hr):ma(d)},Cc=(d,p,E)=>{const S=E(d),k=Pi(d,p);return S/k},or=(d,p)=>Fc(d,p).orThunk(()=>Sa(d,p).map(E=>E+"px")),ef=d=>or(d,"width"),jr=d=>or(d,"height"),ys=d=>Wa(d,el,ro),Wl=d=>Nm(d)?el(d):fa(d),At=d=>Cc(d,"rowspan",Jr),El=d=>ef(d).bind(E=>Dh(E,["fixed","relative","empty"])),Bf=(d,p,E)=>{is(d,"width",p+E)},Wr=d=>el(d)+"px",Gl=d=>Wa(d,el,ro)+"%",Ga=d=>ef(d).exists(p=>Ut.test(p)),ic=d=>ef(d).exists(p=>n0.test(p)),Mm=d=>ef(d).isNone(),ac=oe(Ut),Zg=Di("col"),Bi=d=>ef(d).getOrThunk(()=>Wl(d)+"px"),Yo=d=>jr(d).getOrThunk(()=>At(d)+"px"),Le=d=>Vt(ue.justColumns(d),p=>ge.from(p.element)),$=d=>{const p=Qs().browser,E=p.isChromium()||p.isFirefox();return Zg(d)?E:!0},ae=(d,p,E,S,k,V)=>d.filter(S).fold(()=>V(Us(E,p)),J=>k(J)),He=(d,p,E,S)=>{const k=Xd(d),V=ue.hasColumns(d)?Le(d):k,J=[ge.some(ol.edge(p))].concat(Vt(ol.positions(k,p),ye=>ye.map(Re=>Re.x))),le=Ee(oc);return Vt(V,(ye,Re)=>ae(ye,Re,J,le,Ke=>{if($(Ke))return E(Ke);{const $t=Gs(k[Re],Be);return ae($t,Re,J,le,cn=>S(ge.some(el(cn))),S)}},S))},Ft=d=>d.map(p=>p+"px").getOr(""),In=(d,p)=>He(d,p,Bi,Ft),dn=(d,p,E)=>He(d,p,ys,S=>S.fold(()=>E.minCellWidth(),k=>k/E.pixelWidth()*100)),Ko=(d,p,E)=>He(d,p,Wl,S=>S.getOrThunk(E.minCellWidth)),We=(d,p,E,S,k)=>{const V=vl(d),J=[ge.some(E.edge(p))].concat(Vt(E.positions(V,p),le=>le.map(ye=>ye.y)));return Vt(V,(le,ye)=>ae(le,ye,J,Ee(Ji),S,k))},Gr=(d,p,E)=>We(d,p,E,At,S=>S.getOrThunk(Ra)),ci=(d,p,E)=>We(d,p,E,Yo,Ft),ta=(d,p)=>()=>Kr(d)?p(d):parseFloat(Fc(d,"width").getOr("0")),Hr=d=>{const p=ta(d,el),E=oe(0);return{width:p,pixelWidth:p,getWidths:(k,V)=>Ko(k,d,V),getCellDelta:E,singleColumnWidth:oe([0]),minCellWidth:E,setElementWidth:we,adjustTableWidth:we,isRelative:!0,label:"none"}},li=d=>{const p=ta(d,ye=>parseFloat(Gl(ye))),E=ta(d,el);return{width:p,pixelWidth:E,getWidths:(ye,Re)=>dn(ye,d,Re),getCellDelta:ye=>ye/E()*100,singleColumnWidth:(ye,Re)=>[100-ye],minCellWidth:()=>Ha()/E()*100,setElementWidth:Jd,adjustTableWidth:ye=>{const Re=p(),Ke=ye/100*Re,$t=Re+Ke;Jd(d,$t)},isRelative:!0,label:"percent"}},Ti=d=>{const p=ta(d,el);return{width:p,pixelWidth:p,getWidths:(J,le)=>Ko(J,d,le),getCellDelta:Be,singleColumnWidth:(J,le)=>[Math.max(Ha(),J+le)-J],minCellWidth:Ha,setElementWidth:bd,adjustTableWidth:J=>{const le=p()+J;bd(d,le)},isRelative:!1,label:"pixel"}},tf=(d,p)=>ac().exec(p)!==null?li(d):Ti(d),Nh={getTableSize:d=>ef(d).fold(()=>Hr(d),E=>tf(d,E)),pixelSize:Ti,percentageSize:li,noneSize:Hr},Wn=(d,p,E,S,k,V)=>({minRow:d,minCol:p,maxRow:E,maxCol:S,allCells:k,selectedCells:V}),Yg=(d,p)=>{const E=d.grid.columns;let k=d.grid.rows,V=E,J=0,le=0;const ye=[],Re=[];return Ns(d.access,Ke=>{if(ye.push(Ke),p(Ke)){Re.push(Ke);const $t=Ke.row,cn=$t+Ke.rowspan-1,tn=Ke.column,Tt=tn+Ke.colspan-1;$t<k?k=$t:cn>J&&(J=cn),tn<V?V=tn:Tt>le&&(le=Tt)}}),Wn(k,V,J,le,ye,Re)},mu=(d,p,E)=>{const S=d[E].element,k=Xe.fromTag("td");br(k,Xe.fromTag("br")),(p?br:yc)(S,k)},Ma=(d,p,E,S)=>{const k=ao(d,le=>le.section!=="colgroup"),V=p.grid.columns,J=p.grid.rows;for(let le=0;le<J;le++){let ye=!1;for(let Re=0;Re<V;Re++)le<E.minRow||le>E.maxRow||Re<E.minCol||Re>E.maxCol||(ue.getAt(p,le,Re).filter(S).isNone()?mu(k,ye,le):ye=!0)}},Cv=(d,p,E,S)=>{Ns(E.columns,J=>{(J.column<p.minCol||J.column>p.maxCol)&&Fr(J.element)});const k=ao(ud(d,"tr"),J=>J.dom.childElementCount===0);Ge(k,Fr),(p.minCol===p.maxCol||p.minRow===p.maxRow)&&Ge(ud(d,"th,td"),J=>{Br(J,"rowspan"),Br(J,"colspan")}),Br(d,us),Br(d,"data-snooker-col-series"),Nh.getTableSize(d).adjustTableWidth(S)},yd=(d,p,E,S)=>{if(S.minCol===0&&p.grid.columns===S.maxCol+1)return 0;const k=Ko(p,d,E),V=Je(k,(Re,Ke)=>Re+Ke,0),ye=Je(k.slice(S.minCol,S.maxCol+1),(Re,Ke)=>Re+Ke,0)/V*E.pixelWidth()-E.pixelWidth();return E.getCellDelta(ye)},f_=(d,p)=>{const E=cn=>yi(cn.element,p),S=Lc(d),k=ua(S),V=Nh.getTableSize(d),J=ue.generate(k),le=Yg(J,E),ye="th:not("+p+"),td:not("+p+")",Re=Sh(S,"th,td",cn=>yi(cn,ye));Ge(Re,Fr),Ma(k,J,le,E);const Ke=ue.fromTable(d),$t=yd(d,Ke,V,le);return Cv(S,le,J,$t),S},km=" ",Sc=((d,p)=>{const E=V=>{if(!d(V))throw new Error("Can only get "+p+" value of a "+p+" node");return S(V).getOr("")},S=V=>d(V)?ge.from(V.dom.nodeValue):ge.none();return{get:E,getOption:S,set:(V,J)=>{if(!d(V))throw new Error("Can only set raw "+p+" value of a "+p+" node");V.dom.nodeValue=J}}})(Ru,"text"),wl=d=>Sc.get(d),Sv=d=>Sc.getOption(d),h_=(d,p)=>Sc.set(d,p),_d=d=>ks(d)==="img"?1:Sv(d).fold(()=>Cs(d).length,p=>p.length),u1=d=>Sv(d).filter(p=>p.trim().length!==0||p.indexOf(km)>-1).isSome(),Av=d=>qn(d)&&vc(d,"contenteditable")==="false",Pm=["img","br"],Kg=d=>u1(d)||Rt(Pm,ks(d))||Av(d),Ff=d=>Kt(d,Kg),xv=d=>Ov(d,Kg),Ov=(d,p)=>{const E=S=>{const k=Cs(S);for(let V=k.length-1;V>=0;V--){const J=k[V];if(p(J))return ge.some(J);const le=E(J);if(le.isSome())return le}return ge.none()};return E(d)},Ss={scope:["row","col"]},o0=d=>()=>{const p=Xe.fromTag("td",d.dom);return br(p,Xe.fromTag("br",d.dom)),p},pa=d=>()=>Xe.fromTag("col",d.dom),ql=d=>()=>Xe.fromTag("colgroup",d.dom),Lm=d=>()=>Xe.fromTag("tr",d.dom),Mh=(d,p,E)=>{const S=Th(d,p);return Ns(E,(k,V)=>{k===null?Br(S,V):Ur(S,V,k)}),S},m_=d=>d,Fi=(d,p,E)=>Ff(d).map(k=>{const V=E.join(","),J=X(k,V,le=>Fs(le,d));return Fo(J,(le,ye)=>{const Re=_c(ye);return br(le,Re),Re},p)}).getOr(p),Tl=(d,p)=>{Ns(Ss,(E,S)=>Sa(d,S).filter(k=>Rt(E,k)).each(k=>Ur(p,S,k)))},kh=(d,p,E)=>{const S=(J,le)=>{ho(J.element,le),Ec(le,"height"),J.colspan!==1&&Ec(le,"width")},k=J=>{const le=Xe.fromTag(ks(J.element),p.dom),ye=E.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),Re=ye.length>0?Fi(J.element,le,ye):le;return br(Re,Xe.fromTag("br")),S(J,le),Tl(J.element,le),d(J.element,le),le};return{col:J=>{const le=Xe.fromTag(ks(J.element),p.dom);return S(J,le),d(J.element,le),le},colgroup:ql(p),row:Lm(p),cell:k,replace:Mh,colGap:pa(p),gap:o0(p)}},Ph=d=>({col:pa(d),colgroup:ql(d),row:Lm(d),cell:o0(d),replace:m_,colGap:pa(d),gap:o0(d)}),nf=(d,p)=>{const S=(p||document).createElement("div");return S.innerHTML=d,Cs(Xe.fromDom(S))},Hf=d=>Vt(d,Xe.fromDom),Cl=d=>Zn(d,"[contenteditable]"),na=(d,p=!1)=>Kr(d)?d.dom.isContentEditable:Cl(d).fold(oe(p),E=>Rv(E)==="true"),Rv=d=>d.dom.contentEditable,Hc=d=>Xe.fromDom(d.getBody()),jl=d=>p=>Fs(p,Hc(d)),Sl=d=>{Br(d,"data-mce-style");const p=E=>Br(E,"data-mce-style");Ge(fu(d),p),Ge(Zd(d),p),Ge(dd(d),p)},Xg=d=>Xe.fromDom(d.selection.getStart()),Lh=d=>d.getBoundingClientRect().width,Iv=d=>d.getBoundingClientRect().height,s0=(d,p)=>{const E=d.dom.getStyle(p,"width")||d.dom.getAttrib(p,"width");return ge.from(E).filter(Vs)},mr=d=>/^(\d+(\.\d+)?)%$/.test(d),Dv=d=>/^(\d+(\.\d+)?)px$/.test(d),Vc=d=>st(d,Di("table")).exists(na),Nv=(d,p)=>{const E=p.column,S=p.column+p.colspan-1,k=p.row,V=p.row+p.rowspan-1;return E<=d.finishCol&&S>=d.startCol&&k<=d.finishRow&&V>=d.startRow},Mv=(d,p)=>p.column>=d.startCol&&p.column+p.colspan-1<=d.finishCol&&p.row>=d.startRow&&p.row+p.rowspan-1<=d.finishRow,Vf=(d,p)=>{let E=!0;const S=F(Mv,p);for(let k=p.startRow;k<=p.finishRow;k++)for(let V=p.startCol;V<=p.finishCol;V++)E=E&&ue.getAt(d,k,V).exists(S);return E?ge.some(p):ge.none()},zs=(d,p)=>Mf(Math.min(d.row,p.row),Math.min(d.column,p.column),Math.max(d.row+d.rowspan-1,p.row+p.rowspan-1),Math.max(d.column+d.colspan-1,p.column+p.colspan-1)),of=(d,p,E)=>{const S=ue.findItem(d,p,Fs),k=ue.findItem(d,E,Fs);return S.bind(V=>k.map(J=>zs(V,J)))},d1=(d,p,E)=>of(d,p,E).bind(S=>Vf(d,S)),kv=(d,p,E,S)=>ue.findItem(d,p,Fs).bind(k=>{const V=E>0?k.row+k.rowspan-1:k.row,J=S>0?k.column+k.colspan-1:k.column;return ue.getAt(d,V+E,J+S).map(ye=>ye.element)}),$m=(d,p,E)=>of(d,p,E).map(S=>{const k=ue.filterItems(d,F(Nv,S));return Vt(k,V=>V.element)}),f1=(d,p)=>{const E=(S,k)=>jd(k,S);return ue.findItem(d,p,E).map(S=>S.element)},Qg=(d,p,E)=>wi(d).bind(S=>{const k=Uf(S);return kv(k,d,p,E)}),g_=(d,p,E)=>{const S=Uf(d);return $m(S,p,E)},sl=(d,p,E,S,k)=>{const V=Uf(d),J=Fs(d,E)?ge.some(p):f1(V,p),le=Fs(d,k)?ge.some(S):f1(V,S);return J.bind(ye=>le.bind(Re=>$m(V,ye,Re)))},zu=(d,p,E)=>{const S=Uf(d);return d1(S,p,E)},Uf=ue.fromTable;var sf=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Wu=()=>{const d=Re=>Xe.fromDom(Re.dom.cloneNode(!1)),p=Re=>Xc(Re).dom,E=Re=>Qa(Re)?ks(Re)==="body"?!0:Rt(sf,ks(Re)):!1,S=Re=>Qa(Re)?Rt(["br","img","hr","input"],ks(Re)):!1,k=Re=>Qa(Re)&&vc(Re,"contenteditable")==="false",V=(Re,Ke)=>Re.dom.compareDocumentPosition(Ke.dom),J=(Re,Ke)=>{const $t=bc(Re);Fa(Ke,$t)},le=Re=>{const Ke=ks(Re);return Rt(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Ke)},ye=Re=>Qa(Re)?Sa(Re,"lang"):ge.none();return{up:oe({selector:ot,closest:Zn,predicate:ke,all:uu}),down:oe({selector:me,predicate:z}),styles:oe({get:Oa,getRaw:Fc,set:is,remove:Ec}),attrs:oe({get:vc,set:Ur,remove:Br,copyTo:J}),insert:oe({before:cd,after:Aa,afterAll:bs,append:br,appendAll:ec,prepend:yc,wrap:du}),remove:oe({unwrap:Jc,remove:Fr}),create:oe({nu:Xe.fromTag,clone:d,text:Xe.fromText}),query:oe({comparePosition:V,prevSibling:$l,nextSibling:ad}),property:oe({children:Cs,name:ks,parent:lu,document:p,isText:Ru,isComment:Xs,isElement:Qa,isSpecial:le,getLanguage:ye,getText:wl,setText:h_,isBoundary:E,isEmptyTag:S,isNonEditable:k}),eq:Fs,is:Cm}};const gu=(d,p,E,S)=>{const k=E[0],V=E.slice(1);return S(d,p,k,V)},Jg=(d,p,E)=>E.length>0?gu(d,p,E,h1):ge.none(),h1=(d,p,E,S)=>{const k=p(d,E);return Fo(S,(V,J)=>{const le=p(d,J);return zf(d,V,le)},k)},zf=(d,p,E)=>p.bind(S=>E.filter(F(d.eq,S))),r0=(d,p)=>F(d.eq,p),Bm=(d,p,E,S=Et)=>{const k=[p].concat(d.up().all(p)),V=[E].concat(d.up().all(E)),J=Ke=>cs(Ke,S).fold(()=>Ke,cn=>Ke.slice(0,cn+1)),le=J(k),ye=J(V),Re=te(le,Ke=>et(ye,r0(d,Ke)));return{firstpath:le,secondpath:ye,shared:Re}},Fm=Jg,p_=Bm,ep=Wu(),ss=(d,p)=>Fm(ep,(E,S)=>d(S),p),Mn=(d,p,E)=>p_(ep,d,p,E),rf=d=>ot(d,"table"),af=(d,p,E)=>{const S=k=>V=>E!==void 0&&E(V)||Fs(V,k);return Fs(d,p)?ge.some({boxes:ge.some([d]),start:d,finish:p}):rf(d).bind(k=>rf(p).bind(V=>{if(Fs(k,V))return ge.some({boxes:g_(k,d,p),start:d,finish:p});if(jd(k,V)){const J=X(p,"td,th",S(k)),le=J.length>0?J[J.length-1]:p;return ge.some({boxes:sl(k,d,k,p,V),start:d,finish:le})}else if(jd(V,k)){const J=X(d,"td,th",S(V)),le=J.length>0?J[J.length-1]:d;return ge.some({boxes:sl(V,d,k,p,V),start:d,finish:le})}else return Mn(d,p).shared.bind(J=>Zn(J,"table",E).bind(le=>{const ye=X(p,"td,th",S(le)),Re=ye.length>0?ye[ye.length-1]:p,Ke=X(d,"td,th",S(le)),$t=Ke.length>0?Ke[Ke.length-1]:d;return ge.some({boxes:sl(le,d,k,p,V),start:$t,finish:Re})}))}))},tp=(d,p)=>{const E=me(d,p);return E.length>0?ge.some(E):ge.none()},m1=(d,p)=>te(d,E=>yi(E,p)),i0=(d,p,E)=>Jn(d,p).bind(S=>Jn(d,E).bind(k=>ss(rf,[S,k]).map(V=>({first:S,last:k,table:V})))),js=(d,p)=>ot(d,"table").bind(E=>Jn(E,p).bind(S=>af(S,d).bind(k=>k.boxes.map(V=>({boxes:V,start:k.start,finish:k.finish}))))),g1=(d,p,E,S,k)=>m1(d,k).bind(V=>Qg(V,p,E).bind(J=>js(J,S))),Pv=(d,p)=>tp(d,p),Lv=(d,p,E)=>i0(d,p,E).bind(S=>{const k=ye=>Fs(d,ye),V="thead,tfoot,tbody,table",J=ot(S.first,V,k),le=ot(S.last,V,k);return J.bind(ye=>le.bind(Re=>Fs(ye,Re)?zu(S.table,S.first,S.last):ge.none()))}),Dt=Be,$v=d=>{const p=(S,k)=>Sa(S,k).exists(V=>parseInt(V,10)>1),E=S=>p(S,"rowspan")||p(S,"colspan");return d.length>0&&ps(d,E)?ge.some(d):ge.none()},Ed=(d,p,E)=>p.length<=1?ge.none():Lv(d,E.firstSelectedSelector,E.lastSelectedSelector).map(S=>({bounds:S,cells:p})),$h="data-mce-selected",p1="td["+$h+"],th["+$h+"]",Wf="["+$h+"]",np="data-mce-first-selected",Hm="td["+np+"],th["+np+"]",a0="data-mce-last-selected",qa="td["+a0+"],th["+a0+"]",Tr=Wf,Ac={selected:$h,selectedSelector:p1,firstSelected:np,firstSelectedSelector:Hm,lastSelected:a0,lastSelectedSelector:qa},Vm=(d,p,E)=>({element:E,mergable:Ed(p,d,Ac),unmergable:$v(d),selection:Dt(d)}),Zl=(d,p,E)=>({element:d,clipboard:p,generators:E}),Um=(d,p,E,S)=>({selection:Dt(d),clipboard:E,generators:S}),Oo=d=>wi(d).bind(p=>Pv(p,Ac.firstSelectedSelector)).fold(oe(d),p=>p[0]),wd=d=>(p,E)=>{const S=ks(p),k=S==="col"||S==="colgroup"?Oo(p):p;return Zn(k,d,E)},v1=wd("th,td,caption"),Bh=wd("th,td"),Gf=d=>Hf(d.model.table.getSelectedCells()),cf=d=>ao(Gf(d),p=>yi(p,Ac.selectedSelector)),Gu=d=>wi(d[0]).map(p=>{const E=f_(p,Tr);return Sl(E),[E]}),cc=(d,p)=>Vt(p,E=>d.selection.serializer.serialize(E.dom,{})).join(""),Fw=d=>Vt(d,p=>p.dom.innerText).join(""),op=(d,p)=>{d.on("BeforeGetContent",E=>{const S=k=>{E.preventDefault(),Gu(k).each(V=>{E.content=E.format==="text"?Fw(V):cc(d,V)})};if(E.selection===!0){const k=cf(d);k.length>=1&&S(k)}}),d.on("BeforeSetContent",E=>{if(E.selection===!0&&E.paste===!0){const S=Gf(d);mt(S).each(k=>{wi(k).each(V=>{const J=ao(nf(E.content),ye=>ks(ye)!=="meta"),le=Di("table");if(J.length===1&&le(J[0])){E.preventDefault();const ye=Xe.fromDom(d.getDoc()),Re=Ph(ye),Ke=Zl(k,J[0],Re);p.pasteCells(V,Ke).each(()=>{d.focus()})}})})}})},Hi=(d,p)=>({element:d,offset:p}),_n=(d,p,E)=>d.property().isText(p)&&d.property().getText(p).trim().length===0||d.property().isComment(p)?E(p).bind(S=>_n(d,S,E).orThunk(()=>ge.some(S))):ge.none(),Bv=(d,p)=>d.property().isText(p)?d.property().getText(p).length:d.property().children(p).length,v_=(d,p)=>{const E=_n(d,p,d.query().prevSibling).getOr(p);if(d.property().isText(E))return Hi(E,Bv(d,E));const S=d.property().children(E);return S.length>0?v_(d,S[S.length-1]):Hi(E,Bv(d,E))},lc=v_,c0=Wu(),lf=d=>lc(c0,d),Uc=(d,p)=>{oc(d)||El(d).each(S=>{const k=S.value/2;Bf(d,k,S.unit),Bf(p,k,S.unit)})},qu=d=>Vt(d,oe(0)),Yl=(d,p,E,S,k)=>k(d.slice(0,p)).concat(S).concat(k(d.slice(E))),sp=d=>(p,E,S,k)=>{if(d(S)){const V=Math.max(k,p[E]-Math.abs(S)),J=Math.abs(V-p[E]);return S>=0?J:-J}else return S},zm=sp(d=>d<0),Hw=sp(Ne),rp=()=>{const d=(le,ye,Re,Ke,$t)=>{const cn=zm(le,ye,Ke,$t);return Yl(le,ye,Re+1,[cn,0],qu)},p=(le,ye,Re,Ke)=>{const $t=(100+Re)/100,cn=Math.max(Ke,(le[ye]+Re)/$t);return Vt(le,(tn,Tt)=>(Tt===ye?cn:tn/$t)-tn)},E=(le,ye,Re,Ke,$t,cn)=>cn?p(le,ye,Ke,$t):d(le,ye,Re,Ke,$t);return{resizeTable:(le,ye)=>le(ye),clampTableDelta:zm,calcLeftEdgeDeltas:E,calcMiddleDeltas:(le,ye,Re,Ke,$t,cn,tn)=>E(le,Re,Ke,$t,cn,tn),calcRightEdgeDeltas:(le,ye,Re,Ke,$t,cn)=>{if(cn)return p(le,Re,Ke,$t);{const tn=zm(le,Re,Ke,$t);return qu(le.slice(0,Re)).concat([tn])}},calcRedestributedWidths:(le,ye,Re,Ke)=>{if(Ke){const cn=(ye+Re)/ye,tn=Vt(le,Tt=>Tt/cn);return{delta:cn*100-100,newSizes:tn}}else return{delta:Re,newSizes:le}}}},ip=()=>{const d=(J,le,ye,Re,Ke)=>{const $t=Re>=0?ye:le,cn=Hw(J,$t,Re,Ke);return Yl(J,le,ye+1,[cn,-cn],qu)};return{resizeTable:(J,le,ye)=>{ye&&J(le)},clampTableDelta:(J,le,ye,Re,Ke)=>{if(Ke){if(ye>=0)return ye;{const $t=Je(J,(cn,tn)=>cn+tn-Re,0);return Math.max(-$t,ye)}}else return zm(J,le,ye,Re)},calcLeftEdgeDeltas:d,calcMiddleDeltas:(J,le,ye,Re,Ke,$t)=>d(J,ye,Re,Ke,$t),calcRightEdgeDeltas:(J,le,ye,Re,Ke,$t)=>{if($t)return qu(J);{const cn=Re/J.length;return Vt(J,oe(cn))}},calcRedestributedWidths:(J,le,ye,Re)=>({delta:0,newSizes:J})}},Wm=d=>ue.fromTable(d).grid,ap=Di("th"),Gm=d=>ps(d,p=>ap(p.element)),b_=(d,p)=>d&&p?"sectionCells":d?"section":"cells",Fv=d=>{const p=d.section==="thead",E=Tn(Fh(d.cells),"th");return d.section==="tfoot"?{type:"footer"}:p||E?{type:"header",subType:b_(p,E)}:{type:"body"}},Fh=d=>{const p=ao(d,E=>ap(E.element));return p.length===0?ge.some("td"):p.length===d.length?ge.some("th"):ge.none()},b1=d=>{const p=Vt(d,k=>Fv(k).type),E=Rt(p,"header"),S=Rt(p,"footer");if(!E&&!S)return ge.some("body");{const k=Rt(p,"body");return E&&!k&&!S?ge.some("header"):!E&&!k&&S?ge.some("footer"):ge.none()}},Al=d=>vi(d.all,p=>{const E=Fv(p);return E.type==="header"?ge.from(E.subType):ge.none()}),xc=(d,p,E)=>Ni(E(d.element,p),!0,d.isLocked),uf=(d,p)=>d.section!==p?Pu(d.element,d.cells,p,d.isNew):d,Hh=()=>({transformRow:uf,transformCell:(d,p,E)=>{const S=E(d.element,p),k=ks(S)!=="td"?Vg(S,"td"):S;return Ni(k,d.isNew,d.isLocked)}}),Hv=()=>({transformRow:uf,transformCell:xc}),cp=()=>({transformRow:(d,p)=>uf(d,p==="thead"?"tbody":p),transformCell:xc}),jm={getTableSectionType:(d,p)=>{const E=ue.fromTable(d);switch(Al(E).getOr(p)){case"section":return Hh();case"sectionCells":return Hv();case"cells":return cp()}},section:Hh,sectionCells:Hv,cells:cp,fallback:()=>({transformRow:Be,transformCell:xc})},uc=(d,p,E,S)=>{E===S?Br(d,p):Ur(d,p,E)},qf=(d,p,E)=>{pi(re(d,p)).fold(()=>yc(d,E),S=>Aa(S,E))},Vw=(d,p)=>{const E=Nt(d,p).getOrThunk(()=>{const S=Xe.fromTag(p,Xi(d).dom);return p==="thead"?qf(d,"caption,colgroup",S):p==="colgroup"?qf(d,"caption",S):br(d,S),S});return ri(E),E},l0=(d,p)=>{const E=[],S=[],k=tn=>Vt(tn,Tt=>{Tt.isNew&&E.push(Tt.element);const rn=Tt.element;return ri(rn),Ge(Tt.cells,_t=>{_t.isNew&&S.push(_t.element),uc(_t.element,"colspan",_t.colspan,1),uc(_t.element,"rowspan",_t.rowspan,1),br(rn,_t.element)}),rn}),V=tn=>Bt(tn,Tt=>Vt(Tt.cells,rn=>(uc(rn.element,"span",rn.colspan,1),rn.element))),J=(tn,Tt)=>{const rn=Vw(d,Tt),wn=(Tt==="colgroup"?V:k)(tn);ec(rn,wn)},le=tn=>{Nt(d,tn).each(Fr)},ye=(tn,Tt)=>{tn.length>0?J(tn,Tt):le(Tt)},Re=[],Ke=[],$t=[],cn=[];return Ge(p,tn=>{switch(tn.section){case"thead":Re.push(tn);break;case"tbody":Ke.push(tn);break;case"tfoot":$t.push(tn);break;case"colgroup":cn.push(tn);break}}),ye(cn,"colgroup"),ye(Re,"thead"),ye(Ke,"tbody"),ye($t,"tfoot"),{newRows:E,newCells:S}},u0=d=>Vt(d,p=>{const E=_c(p.element);return Ge(p.cells,S=>{const k=Lc(S.element);uc(k,"colspan",S.colspan,1),uc(k,"rowspan",S.rowspan,1),br(E,k)}),E}),sr=(d,p)=>Vt(d,E=>pl(E,p)),Uw=(d,p)=>d[p],y_=(d,p)=>{if(d.length===0)return 0;const E=d[0];return cs(d,k=>!p(E.element,k.element)).getOr(d.length)},zw=(d,p,E,S)=>{const k=Uw(d,p),V=k.section==="colgroup",J=y_(k.cells.slice(E),S),le=V?1:y_(sr(d.slice(p),E),S);return{colspan:J,rowspan:le}},Vv=(d,p)=>{const E=Vt(d,k=>Vt(k.cells,Et)),S=(k,V,J,le)=>{for(let ye=k;ye<k+J;ye++)for(let Re=V;Re<V+le;Re++)E[ye][Re]=!0};return Vt(d,(k,V)=>{const J=Bt(k.cells,(le,ye)=>{if(E[V][ye]===!1){const Re=zw(d,V,ye,p);return S(V,ye,Re.rowspan,Re.colspan),[Sm(le.element,Re.rowspan,Re.colspan,le.isNew)]}else return[]});return xa(k.element,J,k.section,k.isNew)})},lp=(d,p,E)=>{const S=[];Ge(d.colgroups,k=>{const V=[];for(let J=0;J<d.grid.columns;J++){const le=ue.getColumnAt(d,J).map(ye=>Ni(ye.element,E,!1)).getOrThunk(()=>Ni(p.colGap(),!0,!1));V.push(le)}S.push(Pu(k.element,V,"colgroup",E))});for(let k=0;k<d.grid.rows;k++){const V=[];for(let ye=0;ye<d.grid.columns;ye++){const Re=ue.getAt(d,k,ye).map(Ke=>Ni(Ke.element,E,Ke.isLocked)).getOrThunk(()=>Ni(p.gap(),!0,!1));V.push(Re)}const J=d.all[k],le=Pu(J.element,V,J.section,E);S.push(le)}return S},jf=(d,p)=>lp(d,p,!1),Vi=d=>Vv(d,Fs),Zf=(d,p)=>vi(d.all,E=>te(E.cells,S=>Fs(p,S.element))),d0=(d,p,E)=>{const S=Vt(p.selection,V=>Fl(V).bind(J=>Zf(d,J)).filter(E)),k=lr(S);return ls(k.length>0,k)},Ci=(d,p,E,S,k)=>(V,J,le,ye)=>{const Re=ue.fromTable(V),Ke=ge.from(ye==null?void 0:ye.section).getOrThunk(jm.fallback);return p(Re,J).map(cn=>{const tn=jf(Re,le),Tt=d(tn,cn,Fs,k(le),Ke),rn=Ul(Tt.grid),_t=Vi(Tt.grid);return{info:cn,grid:_t,cursor:Tt.cursor,lockedColumns:rn}}).bind(cn=>{const tn=l0(V,cn.grid),Tt=ge.from(ye==null?void 0:ye.sizing).getOrThunk(()=>Nh.getTableSize(V)),rn=ge.from(ye==null?void 0:ye.resize).getOrThunk(ip);return E(V,cn.grid,cn.info,{sizing:Tt,resize:rn,section:Ke}),S(V),Br(V,us),cn.lockedColumns.length>0&&Ur(V,us,cn.lockedColumns.join(",")),ge.some({cursor:cn.cursor,newRows:tn.newRows,newCells:tn.newCells})})},Uv=(d,p)=>Fl(p.element).bind(E=>Zf(d,E).map(S=>({...S,generators:p.generators,clipboard:p.clipboard}))),y1=(d,p)=>d0(d,p,Ne).map(E=>({cells:E,generators:p.generators,clipboard:p.clipboard})),pA=(d,p)=>p.mergable,__=(d,p)=>p.unmergable,Vh=(d,p)=>d0(d,p,Ne),Yf=(d,p)=>d0(d,p,E=>!E.isLocked),zv=(d,p)=>Zf(d,p).exists(E=>!E.isLocked),E_=(d,p)=>ps(p,E=>zv(d,E)),vA=(d,p)=>pA(d,p).filter(E=>E_(d,E.cells)),Td=(d,p)=>__(d,p).filter(E=>E_(d,E)),As=(d,p,E,S)=>{const k=ea(d).rows;if(k.length===0)return d;for(let V=p.startRow;V<=p.finishRow;V++)for(let J=p.startCol;J<=p.finishCol;J++){const le=k[V],ye=pl(le,J).isLocked;ii(le,J,Ni(S(),!1,ye))}return d},w_=(d,p,E,S)=>{const k=ea(d).rows;let V=!0;for(let J=0;J<k.length;J++)for(let le=0;le<tl(k[0]);le++){const ye=k[J],Re=pl(ye,le),Ke=Re.element,$t=E(Ke,p);$t&&!V?ii(ye,le,Ni(S(),!0,Re.isLocked)):$t&&(V=!1)}return d},Ls=(d,p)=>Je(d,(E,S)=>et(E,k=>p(k.element,S.element))?E:E.concat([S]),[]),oa=(d,p,E,S)=>(p>0&&p<d[0].cells.length&&Ge(d,k=>{const V=k.cells[p-1];let J=0;const le=S();for(;k.cells.length>p+J&&E(V.element,k.cells[p+J].element);)ii(k,p+J,Ni(le,!0,k.cells[p+J].isLocked)),J++}),d),pu=(d,p,E,S)=>{const k=ea(d).rows;if(p>0&&p<k.length){const V=k[p-1].cells,J=Ls(V,E);Ge(J,le=>{let ye=ge.none();for(let Re=p;Re<k.length;Re++)for(let Ke=0;Ke<tl(k[0]);Ke++){const $t=k[Re],cn=pl($t,Ke);E(cn.element,le.element)&&(ye.isNone()&&(ye=ge.some(S())),ye.each(Tt=>{ii($t,Ke,Ni(Tt,!0,cn.isLocked))}))}})}return d},zc=d=>{const p=V=>V(d),E=oe(d),S=()=>k,k={tag:!0,inner:d,fold:(V,J)=>J(d),isValue:Ne,isError:Et,map:V=>Kf.value(V(d)),mapError:S,bind:p,exists:p,forall:p,getOr:E,or:S,getOrThunk:E,orThunk:S,getOrDie:E,each:V=>{V(d)},toOptional:()=>ge.some(d)};return k},Uh=d=>{const p=()=>E,E={tag:!1,inner:d,fold:(S,k)=>S(d),isValue:Et,isError:Ne,map:p,mapError:S=>Kf.error(S(d)),bind:p,exists:Et,forall:Ne,getOr:Be,or:Be,getOrThunk:ht,orThunk:ht,getOrDie:Ze(String(d)),each:we,toOptional:ge.none};return E},Kf={value:zc,error:Uh,fromOption:(d,p)=>d.fold(()=>Uh(p),zc)},Kl=(d,p,E)=>{if(d.row>=p.length||d.column>tl(p[0]))return Kf.error("invalid start address out of table bounds, row: "+d.row+", column: "+d.column);const S=p.slice(d.row),k=S[0].cells.slice(d.column),V=tl(E[0]),J=E.length;return Kf.value({rowDelta:S.length-J,colDelta:k.length-V})},Zu=(d,p)=>{const E=tl(d[0]),S=tl(p[0]);return{rowDelta:0,colDelta:E-S}},zh=(d,p)=>{const E=d.length,S=p.length;return{rowDelta:E-S,colDelta:0}},_1=(d,p,E,S)=>{const k=p.section==="colgroup"?E.col:E.cell;return qt(d,V=>Ni(k(),!0,S(V)))},f0=(d,p,E,S)=>{const k=d[d.length-1];return d.concat(qt(p,()=>{const V=k.section==="colgroup"?E.colgroup:E.row,J=xm(k,V,Be),le=_1(J.cells.length,J,E,ye=>Yr(S,ye.toString()));return ha(J,le)}))},T_=(d,p,E,S)=>Vt(d,k=>{const V=_1(p,k,E,Et);return Rh(k,S,V)}),C_=(d,p,E)=>Vt(d,S=>Je(E,(k,V)=>{const J=_1(1,S,p,Ne)[0];return Ev(k,V,J)},S)),dp=(d,p,E)=>{const S=p.colDelta<0?T_:Be,k=p.rowDelta<0?f0:Be,V=Ul(d),J=tl(d[0]),le=et(V,Ke=>Ke===J-1),ye=S(d,Math.abs(p.colDelta),E,le?J-1:J),Re=Ul(ye);return k(ye,Math.abs(p.rowDelta),E,kn(Re,Ne))},h0=(d,p,E,S)=>{const k=pl(d[p],E),V=F(S,k.element),J=d[p];return d.length>1&&tl(J)>1&&(E>0&&V(Na(J,E-1))||E<J.cells.length-1&&V(Na(J,E+1))||p>0&&V(Na(d[p-1],E))||p<d.length-1&&V(Na(d[p+1],E)))},Ww=(d,p,E,S,k,V)=>{const J=d.row,le=d.column,ye=E.length,Re=tl(E[0]),Ke=J+ye,$t=le+Re+V.length,cn=kn(V,Ne);for(let tn=J;tn<Ke;tn++){let Tt=0;for(let rn=le;rn<$t;rn++){if(cn[rn]){Tt++;continue}h0(p,tn,rn,k)&&w_(p,Na(p[tn],rn),k,S.cell);const _t=rn-le-Tt,wn=pl(E[tn-J],_t),Qn=wn.element,yo=S.replace(Qn);ii(p[tn],rn,Ni(yo,!0,wn.isLocked))}}return p},Gw=(d,p,E)=>{const S=tl(p[0]),k=ea(p).cols.length+d.row,V=qt(S-d.column,le=>le+d.column),J=te(V,le=>ps(E,ye=>ye!==le)).getOr(S-1);return{row:k,column:J}},S_=(d,p,E)=>ao(E,S=>S>=d.column&&S<=tl(p[0])+d.column),A_=(d,p,E,S,k)=>{const V=Ul(p),J=Gw(d,p,V),le=ea(E).rows,ye=S_(J,le,V);return Kl(J,p,le).map(Ke=>{const $t={...Ke,colDelta:Ke.colDelta-ye.length},cn=dp(p,$t,S),tn=Ul(cn),Tt=S_(J,le,tn);return Ww(J,cn,le,S,k,Tt)})},m0=(d,p,E,S,k)=>{oa(p,d,k,S.cell);const V=zh(E,p),J=dp(E,V,S),le=zh(p,J),ye=dp(p,le,S);return Vt(ye,(Re,Ke)=>Rh(Re,d,J[Ke].cells))},x_=(d,p,E,S,k)=>{pu(p,d,k,S.cell);const V=Ul(p),J=Zu(p,E),le={...J,colDelta:J.colDelta-V.length},ye=dp(p,le,S),{cols:Re,rows:Ke}=ea(ye),$t=Ul(ye),cn=Zu(E,p),tn={...cn,colDelta:cn.colDelta+$t.length},Tt=C_(E,S,$t),rn=dp(Tt,tn,S);return[...Re,...Ke.slice(0,d),...rn,...Ke.slice(d,Ke.length)]},qw=(d,p,E,S)=>xm(d,k=>S(k,E),p),g0=(d,p,E,S,k)=>{const{rows:V,cols:J}=ea(d),le=V.slice(0,p),ye=V.slice(p),Re=qw(V[E],(Ke,$t)=>p>0&&p<V.length&&S(Na(V[p-1],$t),Na(V[p],$t))?pl(V[p],$t):Ni(k(Ke.element,S),!0,Ke.isLocked),S,k);return[...J,...le,Re,...ye]},Zm=(d,p,E,S,k,V,J)=>{if(E==="colgroup"||!S){const le=pl(d,k);return Ni(J(le.element,V),!0,!1)}else return pl(d,p)},p0=(d,p,E,S,k)=>Vt(d,V=>{const J=p>0&&p<tl(V)&&S(Na(V,p-1),Na(V,p)),le=Zm(V,p,V.section,J,E,S,k);return Ev(V,p,le)}),jw=(d,p)=>Bt(d,E=>{const S=E.cells,k=Fo(p,(V,J)=>J>=0&&J<V.length?V.slice(0,J).concat(V.slice(J+1)):V,S);return k.length>0?[Pu(E.element,k,E.section,E.isNew)]:[]}),Zw=(d,p,E)=>{const{rows:S,cols:k}=ea(d);return[...k,...S.slice(0,p),...S.slice(E+1)]},O_=(d,p,E,S)=>Na(d[p],E)!==void 0&&p>0&&S(Na(d[p-1],E),Na(d[p],E)),Cr=(d,p,E)=>p>0&&E(Na(d,p-1),Na(d,p)),df=(d,p,E,S)=>O_(d,p,E,S)||Cr(d[p],E,S),Wh=(d,p)=>ps(p,Be)&&Gm(d.cells)?Ne:(S,k,V)=>!(ks(S.element)==="th"&&p[V]),R_=(d,p)=>ps(p,Be)&&Gm(d)?Ne:(S,k,V)=>!(ks(S.element)==="th"&&p[k]),Wv=(d,p,E,S)=>{const k=J=>J==="row"?Ji(p):oc(p),V=J=>k(J)?`${J}group`:J;return d?ap(p)?V(E):null:S&&ap(p)?V(E==="row"?"col":"row"):null},dc=(d,p)=>(E,S,k)=>ge.some(Wv(d,E.element,"col",p[k])),rl=(d,p)=>(E,S)=>ge.some(Wv(d,E.element,"row",p[S])),Ym=(d,p,E)=>Ni(E(d.element,p),!0,d.isLocked),Gv=(d,p,E,S,k,V,J)=>{const le=ye=>et(p,Re=>E(ye.element,Re.element));return Vt(d,(ye,Re)=>$u(ye,(Ke,$t)=>{if(le(Ke)){const cn=J(Ke,Re,$t)?k(Ke,E,S):Ke;return V(cn,Re,$t).each(tn=>{Kc(cn.element,{scope:ge.from(tn)})}),cn}else return Ke}))},v0=(d,p,E)=>Bt(d,(S,k)=>df(d,k,p,E)?[]:[pl(S,p)]),I_=(d,p,E)=>{const S=d[p];return Bt(S.cells,(k,V)=>df(d,p,V,E)?[]:[k])},b0=(d,p,E,S,k)=>{const V=ea(d).rows,J=Bt(p,Ke=>v0(V,Ke,S)),le=Vt(V,Ke=>Gm(Ke.cells)),ye=R_(J,le),Re=rl(E,le);return Gv(d,J,S,k,Ym,Re,ye)},D_=(d,p,E,S,k,V,J)=>{const{cols:le,rows:ye}=ea(d),Re=ye[p[0]],Ke=Bt(p,_t=>I_(ye,_t,k)),$t=Vt(Re.cells,(_t,wn)=>Gm(v0(ye,wn,k))),cn=[...ye];Ge(p,_t=>{cn[_t]=J.transformRow(ye[_t],E)});const tn=[...le,...cn],Tt=Wh(Re,$t),rn=dc(S,$t);return Gv(tn,Ke,k,V,J.transformCell,rn,Tt)},xl=(d,p,E,S)=>{const k=ea(d).rows,V=Vt(p,J=>pl(k[J.row],J.column));return Gv(d,V,E,S,Ym,ge.none,Ne)},Nr={generate:d=>{if(!G(d))throw new Error("cases must be an array");if(d.length===0)throw new Error("there must be at least one case");const p=[],E={};return Ge(d,(S,k)=>{const V=Lt(S);if(V.length!==1)throw new Error("one and only one name per case");const J=V[0],le=S[J];if(E[J]!==void 0)throw new Error("duplicate key detected:"+J);if(J==="cata")throw new Error("cannot have a case named cata (sorry)");if(!G(le))throw new Error("case arguments must be an array");p.push(J),E[J]=(...ye)=>{const Re=ye.length;if(Re!==le.length)throw new Error("Wrong number of arguments to case "+J+". Expected "+le.length+" ("+le+"), got "+Re);return{fold:(...$t)=>{if($t.length!==d.length)throw new Error("Wrong number of arguments to fold. Expected "+d.length+", got "+$t.length);return $t[k].apply(null,ye)},match:$t=>{const cn=Lt($t);if(p.length!==cn.length)throw new Error("Wrong number of arguments to match. Expected: "+p.join(",")+`
Actual: `+cn.join(","));if(!ps(p,Tt=>Rt(cn,Tt)))throw new Error("Not all branches were specified when using match. Specified: "+cn.join(", ")+`
Required: `+p.join(", "));return $t[J].apply(null,ye)},log:$t=>{console.log($t,{constructors:p,constructor:J,params:ye})}}}}),E}},Cd={...Nr.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},Yw=(d,p)=>d.length===0?Cd.none():d.length===1?Cd.only(0):p===0?Cd.left(0,1):p===d.length-1?Cd.right(p-1,p):p>0&&p<d.length-1?Cd.middle(p-1,p,p+1):Cd.none(),N_=(d,p,E,S,k)=>{const V=d.slice(0),J=Yw(d,p),le=oe(Vt(V,oe(0))),ye=cn=>S.singleColumnWidth(V[cn],E),Re=(cn,tn)=>k.calcLeftEdgeDeltas(V,cn,tn,E,S.minCellWidth(),S.isRelative),Ke=(cn,tn,Tt)=>k.calcMiddleDeltas(V,cn,tn,Tt,E,S.minCellWidth(),S.isRelative),$t=(cn,tn)=>k.calcRightEdgeDeltas(V,cn,tn,E,S.minCellWidth(),S.isRelative);return J.fold(le,ye,Re,Ke,$t)},y0=(d,p,E)=>{let S=0;for(let k=d;k<p;k++)S+=E[k]!==void 0?E[k]:0;return S},Km=(d,p)=>{const E=ue.justCells(d);return Vt(E,S=>{const k=y0(S.column,S.column+S.colspan,p);return{element:S.element,width:k,colspan:S.colspan}})},_0=(d,p)=>{const E=ue.justColumns(d);return Vt(E,(S,k)=>({element:S.element,width:p[k],colspan:S.colspan}))},fp=(d,p)=>{const E=ue.justCells(d);return Vt(E,S=>{const k=y0(S.row,S.row+S.rowspan,p);return{element:S.element,height:k,rowspan:S.rowspan}})},Xm=(d,p)=>Vt(d.all,(E,S)=>({element:E.element,height:p[S]})),Kw=d=>Fo(d,(p,E)=>p+E,0),E1=(d,p)=>ue.hasColumns(d)?_0(d,p):Km(d,p),w1=(d,p,E)=>{const S=E1(d,p);Ge(S,k=>{E.setElementWidth(k.element,k.width)})},E0=(d,p,E,S,k)=>{const V=ue.fromTable(d),J=k.getCellDelta(p),le=k.getWidths(V,k),ye=E===V.grid.columns-1,Re=S.clampTableDelta(le,E,J,k.minCellWidth(),ye),Ke=N_(le,E,Re,k,S),$t=Vt(Ke,(cn,tn)=>cn+le[tn]);w1(V,$t,k),S.resizeTable(k.adjustTableWidth,Re,ye)},qv=(d,p,E,S)=>{const k=ue.fromTable(d),V=Gr(k,d,S),J=Vt(V,(Ke,$t)=>E===$t?Math.max(p+Ke,Ra()):Ke),le=fp(k,J),ye=Xm(k,J);Ge(ye,Ke=>{hr(Ke.element,Ke.height)}),Ge(le,Ke=>{hr(Ke.element,Ke.height)});const Re=Kw(J);hr(d,Re)},hp=(d,p,E,S,k)=>{const V=ue.generate(p),J=S.getWidths(V,S),le=S.pixelWidth(),{newSizes:ye,delta:Re}=k.calcRedestributedWidths(J,le,E.pixelDelta,S.isRelative);w1(V,ye,S),S.adjustTableWidth(Re)},jv=(d,p,E,S)=>{const k=ue.generate(p),V=S.getWidths(k,S);w1(k,V,S)},Gh=d=>Je(d,(E,S)=>et(E,V=>V.column===S.column)?E:E.concat([S]),[]).sort((E,S)=>E.column-S.column),mp=Di("col"),M_=Di("colgroup"),k_=d=>ks(d)==="tr"||M_(d),T1=d=>{const p=zr(d,"colspan",1),E=zr(d,"rowspan",1);return{element:d,colspan:p,rowspan:E}},Sd=(d,p=T1)=>{const E=le=>mp(le.element)?d.col(le):d.cell(le),S=le=>M_(le.element)?d.colgroup(le):d.row(le),k=le=>{if(k_(le))return S({element:le});{const ye=le,Re=E(p(ye));return V=ge.some({item:ye,replacement:Re}),Re}};let V=ge.none();return{getOrInit:(le,ye)=>V.fold(()=>k(le),Re=>ye(le,Re.item)?Re.replacement:k(le))}},vu=d=>p=>{const E=[],S=(J,le)=>te(E,ye=>le(ye.item,J)),k=J=>{const le=d==="td"?{scope:null}:{},ye=p.replace(J,d,le);return E.push({item:J,sub:ye}),ye};return{replaceOrInit:(J,le)=>{if(k_(J)||mp(J))return J;{const ye=J;return S(ye,le).fold(()=>k(ye),Re=>le(J,Re.item)?Re.sub:k(ye))}}}},C1=d=>Sa(d,"scope").map(p=>p.substr(0,3)),Sr={modification:Sd,transform:vu,merging:d=>({unmerge:S=>{const k=C1(S);return k.each(V=>Ur(S,"scope",V)),()=>{const V=d.cell({element:S,colspan:1,rowspan:1});return Ec(V,"width"),Ec(S,"width"),k.each(J=>Ur(V,"scope",J)),V}},merge:S=>{const k=()=>{const V=lr(Vt(S,C1));if(V.length===0)return ge.none();{const J=V[0],le=["row","col"];return et(V,Re=>Re!==J&&Rt(le,Re))?ge.none():ge.from(J)}};return Ec(S[0],"width"),k().fold(()=>Br(S[0],"scope"),V=>Ur(S[0],"scope",V+"group")),oe(S[0])}})},Qm=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],w0=(d,p)=>{const E=d.property().name(p);return Rt(["ol","ul"],E)},er=(d,p)=>{const E=d.property().name(p);return Rt(Qm,E)},Yu=(d,p)=>Rt(["br","img","hr","input"],d.property().name(p)),S1=Wu(),sa=d=>er(S1,d),Ku=d=>w0(S1,d),T0=d=>Yu(S1,d),P_=d=>{const p=Di("br"),E=ye=>ps(ye,Re=>p(Re)||Ru(Re)&&wl(Re).trim().length===0),S=ye=>ks(ye)==="li"||ke(ye,Ku).isSome(),k=ye=>ad(ye).map(Re=>sa(Re)?!0:T0(Re)?ks(Re)!=="img":!1).getOr(!1),V=ye=>xv(ye).bind(Re=>{const Ke=k(Re);return lu(Re).map($t=>Ke===!0||S($t)||p(Re)||sa($t)&&!Fs(ye,$t)?[]:[Xe.fromTag("br")])}).getOr([]),le=(()=>{const ye=Bt(d,Re=>{const Ke=Cs(Re);return E(Ke)?[]:Ke.concat(V(Re))});return ye.length===0?[Xe.fromTag("br")]:ye})();ri(d[0]),ec(d[0],le)},Zv=d=>na(d,!0),Jm=d=>{fu(d).length===0&&Fr(d)},qh=(d,p)=>({grid:d,cursor:p}),Yv=d=>vi(d,p=>vi(p.cells,E=>{const S=E.element;return ls(Zv(S),S)})),A1=(d,p,E)=>{var S,k;const V=ea(d).rows;return ge.from((k=(S=V[p])===null||S===void 0?void 0:S.cells[E])===null||k===void 0?void 0:k.element).filter(Zv).orThunk(()=>Yv(V))},Oc=(d,p,E)=>{const S=A1(d,p,E);return qh(d,S)},x1=d=>Je(d,(E,S)=>et(E,V=>V.row===S.row)?E:E.concat([S]),[]).sort((E,S)=>E.row-S.row),C0=(d,p,E,S)=>{const k=p[0].row,V=x1(p),J=Fo(V,(le,ye)=>({grid:g0(le.grid,k,ye.row+le.delta,E,S.getOrInit),delta:le.delta+1}),{grid:d,delta:0}).grid;return Oc(J,k,p[0].column)},O1=(d,p,E,S)=>{const k=x1(p),V=k[k.length-1],J=V.row+V.rowspan,le=Fo(k,(ye,Re)=>g0(ye,J,Re.row,E,S.getOrInit),d);return Oc(le,J,p[0].column)},Qf=(d,p,E,S)=>{const k=p.details,V=Gh(k),J=V[0].column,le=Fo(V,(ye,Re)=>({grid:p0(ye.grid,J,Re.column+ye.delta,E,S.getOrInit),delta:ye.delta+1}),{grid:d,delta:0}).grid;return Oc(le,k[0].row,J)},Rc=(d,p,E,S)=>{const k=p.details,V=k[k.length-1],J=V.column+V.colspan,le=Gh(k),ye=Fo(le,(Re,Ke)=>p0(Re,J,Ke.column,E,S.getOrInit),d);return Oc(ye,k[0].row,J)},Xw=(d,p,E,S)=>{const k=Gh(p),V=Vt(k,le=>le.column),J=b0(d,V,!0,E,S.replaceOrInit);return Oc(J,p[0].row,p[0].column)},va=(d,p,E,S)=>{const k=xl(d,p,E,S.replaceOrInit);return Oc(k,p[0].row,p[0].column)},Kv=(d,p,E,S)=>{const k=Gh(p),V=Vt(k,le=>le.column),J=b0(d,V,!1,E,S.replaceOrInit);return Oc(J,p[0].row,p[0].column)},hf=(d,p,E,S)=>{const k=xl(d,p,E,S.replaceOrInit);return Oc(k,p[0].row,p[0].column)},R1=(d,p)=>(E,S,k,V,J)=>{const le=x1(S),ye=Vt(le,Ke=>Ke.row),Re=D_(E,ye,d,p,k,V.replaceOrInit,J);return Oc(Re,S[0].row,S[0].column)},L_=R1("thead",!0),S0=R1("tbody",!1),A0=R1("tfoot",!1),x0=(d,p,E,S)=>{const k=Gh(p.details),V=jw(d,Vt(k,le=>le.column)),J=V.length>0?V[0].cells.length-1:0;return Oc(V,k[0].row,Math.min(k[0].column,J))},O0=(d,p,E,S)=>{const k=x1(p),V=Zw(d,k[0].row,k[k.length-1].row),J=V.length>0?V.length-1:0;return Oc(V,Math.min(p[0].row,J),p[0].column)},$_=(d,p,E,S)=>{const k=p.cells;P_(k);const V=As(d,p.bounds,E,S.merge(k));return qh(V,ge.from(k[0]))},Qw=(d,p,E,S)=>{const V=Fo(p,(J,le)=>w_(J,le,E,S.unmerge(le)),d);return qh(V,ge.from(p[0]))},ba=(d,p,E,S)=>{const V=((ye,Re)=>{const Ke=ue.fromTable(ye);return lp(Ke,Re,!0)})(p.clipboard,p.generators),J=Nu(p.row,p.column);return A_(J,d,V,p.generators,E).fold(()=>qh(d,ge.some(p.element)),ye=>Oc(ye,p.row,p.column))},Ui=(d,p,E)=>{const S=hu(d,E.section),k=ue.generate(S);return lp(k,p,!0)},Wc=(d,p,E,S)=>{const k=ea(d).rows,V=p.cells[0].column,J=k[p.cells[0].row],le=Ui(p.clipboard,p.generators,J),ye=m0(V,d,le,p.generators,E);return Oc(ye,p.cells[0].row,p.cells[0].column)},Ol=(d,p,E,S)=>{const k=ea(d).rows,V=p.cells[p.cells.length-1].column+p.cells[p.cells.length-1].colspan,J=k[p.cells[0].row],le=Ui(p.clipboard,p.generators,J),ye=m0(V,d,le,p.generators,E);return Oc(ye,p.cells[0].row,p.cells[0].column)},Is=(d,p,E,S)=>{const k=ea(d).rows,V=p.cells[0].row,J=k[V],le=Ui(p.clipboard,p.generators,J),ye=x_(V,d,le,p.generators,E);return Oc(ye,p.cells[0].row,p.cells[0].column)},ka=(d,p,E,S)=>{const k=ea(d).rows,V=p.cells[p.cells.length-1].row+p.cells[p.cells.length-1].rowspan,J=k[p.cells[0].row],le=Ui(p.clipboard,p.generators,J),ye=x_(V,d,le,p.generators,E);return Oc(ye,p.cells[0].row,p.cells[0].column)},Xu=(d,p)=>{const E=ue.fromTable(d);return Vh(E,p).bind(k=>{const V=k[k.length-1],J=k[0].column,le=V.column+V.colspan,ye=uo(Vt(E.all,Re=>ao(Re.cells,Ke=>Ke.column>=J&&Ke.column<le)));return Fh(ye)}).getOr("")},Jf=(d,p)=>{const E=ue.fromTable(d);return Vh(E,p).bind(Fh).getOr("")},ds=(d,p)=>{const E=ue.fromTable(d);return Vh(E,p).bind(k=>{const V=k[k.length-1],J=k[0].row,le=V.row+V.rowspan,ye=E.all.slice(J,le);return b1(ye)}).getOr("")},Xv=(d,p,E,S)=>jv(d,p,E,S.sizing),Gc=(d,p,E,S)=>hp(d,p,E,S.sizing,S.resize),zi=(d,p)=>et(p,E=>E.column===0&&E.isLocked),I1=(d,p)=>et(p,E=>E.column+E.colspan>=d.grid.columns&&E.isLocked),Ad=(d,p)=>{const E=Xd(d),S=Gh(p);return Je(S,(k,V)=>{const le=E[V.column].map(Kd).getOr(0);return k+le},0)},R0=d=>(p,E)=>Vh(p,E).filter(S=>!(d?zi:I1)(p,S)).map(S=>({details:S,pixelDelta:Ad(p,S)})),bA=(d,p)=>Yf(d,p).map(E=>({details:E,pixelDelta:-Ad(d,E)})),Qv=d=>(p,E)=>y1(p,E).filter(S=>!(d?zi:I1)(p,S.cells)),I0=Sr.transform("th"),Jv=Sr.transform("td"),D1=Ci(C0,Vh,we,we,Sr.modification),B_=Ci(O1,Vh,we,we,Sr.modification),yn=Ci(Qf,R0(!0),Gc,we,Sr.modification),eb=Ci(Rc,R0(!1),Gc,we,Sr.modification),N1=Ci(x0,bA,Gc,Jm,Sr.modification),Wi=Ci(O0,Vh,we,Jm,Sr.modification),kt=Ci(Xw,Yf,we,we,I0),F_=Ci(Kv,Yf,we,we,Jv),ya=Ci(L_,Yf,we,we,I0),Jw=Ci(S0,Yf,we,we,Jv),H_=Ci(A0,Yf,we,we,Jv),V_=Ci(va,Yf,we,we,I0),bu=Ci(hf,Yf,we,we,Jv),yu=Ci($_,vA,Xv,we,Sr.merging),gp=Ci(Qw,Td,Xv,we,Sr.merging),il=Ci(ba,Uv,Xv,we,Sr.modification),M1=Ci(Wc,Qv(!0),we,we,Sr.modification),k1=Ci(Ol,Qv(!1),we,we,Sr.modification),xd=Ci(Is,y1,we,we,Sr.modification),Xl=Ci(ka,y1,we,we,Sr.modification),al=Xu,Ic=Jf,eT=ds,tb=(d,p)=>d.dispatch("NewRow",{node:p}),nb=(d,p)=>d.dispatch("NewCell",{node:p}),jh=(d,p,E)=>{d.dispatch("TableModified",{...E,table:p})},U_=(d,p,E,S,k)=>{d.dispatch("TableSelectionChange",{cells:p,start:E,finish:S,otherCells:k})},ob=d=>{d.dispatch("TableSelectionClear")},eh=(d,p,E,S,k)=>{d.dispatch("ObjectResizeStart",{target:p,width:E,height:S,origin:k})},_s=(d,p,E,S,k)=>{d.dispatch("ObjectResized",{target:p,width:E,height:S,origin:k})},eg={structure:!1,style:!0},gr={structure:!0,style:!1},z_={structure:!0,style:!0},tg=d=>p=>p.options.get(d),Mr="100%",sb=d=>{var p;const E=d.dom,S=(p=E.getParent(d.selection.getStart(),E.isBlock))!==null&&p!==void 0?p:d.getBody();return ro(Xe.fromDom(S))+"px"},W_=(d,p)=>Zs(d)||!Dc(d)?p:_u(d)?{...p,width:sb(d)}:{...p,width:Mr},pp=(d,p)=>Zs(d)||Dc(d)?p:_u(d)?{...p,width:sb(d)}:{...p,width:Mr},tT=d=>{const p=d.options.register;p("table_clone_elements",{processor:"string[]"}),p("table_use_colgroups",{processor:"boolean",default:!0}),p("table_header_type",{processor:E=>{const S=Rt(["section","cells","sectionCells","auto"],E);return S?{value:E,valid:S}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),p("table_sizing_mode",{processor:"string",default:"auto"}),p("table_default_attributes",{processor:"object",default:{border:"1"}}),p("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),p("table_column_resizing",{processor:E=>{const S=Rt(["preservetable","resizetable"],E);return S?{value:E,valid:S}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),p("table_resize_bars",{processor:"boolean",default:!0}),p("table_style_by_css",{processor:"boolean",default:!0})},P1=d=>ge.from(d.options.get("table_clone_elements")),G_=d=>{const p=d.options.get("object_resizing");return Rt(p.split(","),"table")},q_=tg("table_header_type"),D0=tg("table_column_resizing"),N0=d=>D0(d)==="preservetable",j_=d=>D0(d)==="resizetable",mf=tg("table_sizing_mode"),rb=d=>mf(d)==="relative",_u=d=>mf(d)==="fixed",Zs=d=>mf(d)==="responsive",vp=tg("table_resize_bars"),Dc=tg("table_style_by_css"),L1=d=>{const p=d.options,E=p.get("table_default_attributes");return p.isSet("table_default_attributes")?E:pp(d,E)},Z_=d=>{const p=d.options,E=p.get("table_default_styles");return p.isSet("table_default_styles")?E:W_(d,E)},ib=tg("table_use_colgroups"),$1=(d,p)=>rb(d)?Nh.percentageSize(p):_u(d)?Nh.pixelSize(p):Nh.getTableSize(p),M0=(d,p,E)=>{const S=Dl=>ks(Hc(Dl))==="table",k=Dl=>!S(d)||Wm(Dl).rows>1,V=Dl=>!S(d)||Wm(Dl).columns>1,J=P1(d),le=j_(d)?we:Uc,ye=Dl=>{switch(q_(d)){case"section":return jm.section();case"sectionCells":return jm.sectionCells();case"cells":return jm.cells();default:return jm.getTableSectionType(Dl,"section")}},Re=(Dl,jA)=>jA.cursor.fold(()=>{const wb=fu(Dl);return mt(wb).filter(Kr).map(Nd=>{E.clearSelectedCells(Dl.dom);const Mc=d.dom.createRng();return Mc.selectNode(Nd.dom),d.selection.setRng(Mc),Ur(Nd,"data-mce-selected","1"),Mc})},wb=>{const Nd=lf(wb),Mc=d.dom.createRng();return Mc.setStart(Nd.element.dom,Nd.offset),Mc.setEnd(Nd.element.dom,Nd.offset),d.selection.setRng(Mc),E.clearSelectedCells(Dl.dom),ge.some(Mc)}),Ke=(Dl,jA,wb,Nd)=>(Mc,Md,ZA=!1)=>{Sl(Mc);const YA=Xe.fromDom(d.getDoc()),kR=kh(wb,YA,J),PR={sizing:$1(d,Mc),resize:j_(d)?rp():ip(),section:ye(Mc)};return jA(Mc)?Dl(Mc,Md,kR,PR).bind(pC=>{p.refresh(Mc.dom),Ge(pC.newRows,nv=>{tb(d,nv.dom)}),Ge(pC.newCells,nv=>{nb(d,nv.dom)});const Tb=Re(Mc,pC);return Kr(Mc)&&(Sl(Mc),ZA||jh(d,Mc.dom,Nd)),Tb.map(nv=>({rng:nv,effect:Nd}))}):ge.none()},$t=Ke(Wi,k,we,gr),cn=Ke(N1,V,we,gr),tn=Ke(D1,Ne,we,gr),Tt=Ke(B_,Ne,we,gr),rn=Ke(yn,Ne,le,gr),_t=Ke(eb,Ne,le,gr),wn=Ke(yu,Ne,we,gr),Qn=Ke(gp,Ne,we,gr),yo=Ke(M1,Ne,we,gr),ir=Ke(k1,Ne,we,gr),hc=Ke(xd,Ne,we,gr),fi=Ke(Xl,Ne,we,gr),Tu=Ke(il,Ne,we,z_),Op=Ke(V_,Ne,we,gr),my=Ke(bu,Ne,we,gr),gC=Ke(kt,Ne,we,gr),$E=Ke(F_,Ne,we,gr),Ys=Ke(ya,Ne,we,gr),Rl=Ke(Jw,Ne,we,gr),Il=Ke(H_,Ne,we,gr);return{deleteRow:$t,deleteColumn:cn,insertRowsBefore:tn,insertRowsAfter:Tt,insertColumnsBefore:rn,insertColumnsAfter:_t,mergeCells:wn,unmergeCells:Qn,pasteColsBefore:yo,pasteColsAfter:ir,pasteRowsBefore:hc,pasteRowsAfter:fi,pasteCells:Tu,makeCellsHeader:Op,unmakeCellsHeader:my,makeColumnsHeader:gC,unmakeColumnsHeader:$E,makeRowsHeader:Ys,makeRowsBody:Rl,makeRowsFooter:Il,getTableRowType:eT,getTableCellType:Ic,getTableColType:al}},Y_=(d,p,E)=>{const S=zr(d,p,1);E===1||S<=1?Br(d,p):Ur(d,p,Math.min(E,S))},fc=(d,p)=>E=>{const S=E.column+E.colspan-1,k=E.column;return S>=d&&k<p},Ql=(d,p,E)=>{if(ue.hasColumns(d)){const S=ao(ue.justColumns(d),fc(p,E)),k=Vt(S,J=>{const le=Lc(J.element);return Y_(le,"span",E-p),le}),V=Xe.fromTag("colgroup");return ec(V,k),[V]}else return[]},nT=(d,p,E)=>Vt(d.all,S=>{const k=ao(S.cells,fc(p,E)),V=Vt(k,le=>{const ye=Lc(le.element);return Y_(ye,"colspan",E-p),ye}),J=Xe.fromTag("tr");return ec(J,V),J}),oT=(d,p)=>{const E=ue.fromTable(d);return Yf(E,p).map(k=>{const V=k[k.length-1],J=k[0].column,le=V.column+V.colspan,ye=Ql(E,J,le),Re=nT(E,J,le);return[...ye,...Re]})},sT=(d,p,E)=>{const S=ue.fromTable(d);return Vh(S,p).bind(V=>{const J=lp(S,E,!1),ye=ea(J).rows.slice(V[0].row,V[V.length-1].row+V[V.length-1].rowspan),Re=Bt(ye,$t=>{const cn=ao($t.cells,tn=>!tn.isLocked);return cn.length>0?[{...$t,cells:cn}]:[]}),Ke=Vi(Re);return ls(Ke.length>0,Ke)}).map(V=>u0(V))},ng=Nr.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),k0=(d,p,E)=>{const S=E.substring(0,E.length-d.length),k=parseFloat(S);return S===k.toString()?p(k):ng.invalid(E)},og={...ng,from:d=>xo(d,"%")?k0("%",ng.percent,d):xo(d,"px")?k0("px",ng.pixels,d):ng.invalid(d)},K_=(d,p)=>Vt(d,E=>og.from(E).fold(()=>E,k=>k/p*100+"%",k=>k+"%")),rT=(d,p,E)=>{const S=E/p;return Vt(d,k=>og.from(k).fold(()=>k,J=>J*S+"px",J=>J/100*E+"px"))},iT=(d,p)=>{const E=d.fold(()=>oe(""),S=>{const k=S/p;return oe(k+"px")},()=>{const S=100/p;return oe(S+"%")});return qt(p,E)},L0=(d,p,E)=>d.fold(()=>p,S=>rT(p,E,S),S=>K_(p,E)),$0=(d,p,E)=>{const S=og.from(E),k=ps(d,V=>V==="0px")?iT(S,d.length):L0(S,d,p);return cT(k)},Zh=(d,p)=>d.length===0?p:Fo(d,(E,S)=>og.from(S).fold(oe(0),Be,Be)+E,0),X_=(d,p)=>{const E=Math.floor(d);return{value:E+p,remainder:d-E}},aT=(d,p)=>og.from(d).fold(oe(d),E=>E+p+"px",E=>E+p+"%"),cT=d=>{if(d.length===0)return d;const p=Fo(d,(S,k)=>{const V=og.from(k).fold(()=>({value:k,remainder:0}),J=>X_(J,"px"),J=>({value:J+"%",remainder:0}));return{output:[V.value].concat(S.output),remainder:S.remainder+V.remainder}},{output:[],remainder:0}),E=p.output;return E.slice(0,E.length-1).concat([aT(E[E.length-1],Math.round(p.remainder))])},lT=og.from,Od=(d,p,E)=>{Ge(p,S=>{const k=d.slice(S.column,S.colspan+S.column),V=Zh(k,Ha());is(S.element,"width",V+E)})},ab=(d,p,E)=>{Ge(p,(S,k)=>{const V=Zh([d[k]],Ha());is(S.element,"width",V+E)})},sg=(d,p,E,S)=>{Ge(E,k=>{const V=d.slice(k.row,k.rowspan+k.row),J=Zh(V,Ra());is(k.element,"height",J+S)}),Ge(p,(k,V)=>{is(k.element,"height",d[V])})},cb=d=>lT(d).fold(oe("px"),oe("px"),oe("%")),Q_=(d,p,E)=>{const S=ue.fromTable(d),k=S.all,V=ue.justCells(S),J=ue.justColumns(S);p.each(le=>{const ye=cb(le),Re=el(d),Ke=In(S,d),$t=$0(Ke,Re,le);ue.hasColumns(S)?ab($t,J,ye):Od($t,V,ye),is(d,"width",le)}),E.each(le=>{const ye=cb(le),Re=ma(d),Ke=ci(S,d,bl),$t=$0(Ke,Re,le);sg($t,k,V,ye),is(d,"height",le)})},gf=Ga,B1=ic,B0=Mm,Rd=d=>{Br(d,"width")},Yh=d=>{const p=Gl(d);Q_(d,ge.some(p),ge.none()),Rd(d)},F0=d=>{const p=Wr(d);Q_(d,ge.some(p),ge.none()),Rd(d)},J_=d=>{Ec(d,"width");const p=Zd(d),E=p.length>0?p:fu(d);Ge(E,S=>{Ec(S,"width"),Rd(S)}),Rd(d)},uT={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},dT=()=>Xe.fromTag("th"),H0=()=>Xe.fromTag("td"),fT=()=>Xe.fromTag("col"),hT=(d,p,E,S)=>{const k=Xe.fromTag("tr");for(let V=0;V<d;V++){const J=S<p||V<E?dT():H0();V<E&&Ur(J,"scope","row"),S<p&&Ur(J,"scope","col"),br(J,Xe.fromTag("br")),br(k,J)}return k},eE=d=>{const p=Xe.fromTag("colgroup");return qt(d,()=>br(p,fT())),p},tE=(d,p,E,S)=>qt(d,k=>hT(p,E,S,k)),lb=(d,p,E,S,k,V=uT)=>{const J=Xe.fromTag("table"),le=k!=="cells";dr(J,V.styles),Fa(J,V.attributes),V.colGroups&&br(J,eE(p));const ye=Math.min(d,E);if(le&&E>0){const tn=Xe.fromTag("thead");br(J,tn);const rn=tE(E,p,k==="sectionCells"?ye:0,S);ec(tn,rn)}const Re=Xe.fromTag("tbody");br(J,Re);const Ke=le?d-ye:d,cn=tE(Ke,p,le?0:E,S);return ec(Re,cn),J},mT=d=>d.dom.innerHTML,gT=d=>{const p=Xe.fromTag("div"),E=Xe.fromDom(d.dom.cloneNode(!0));return br(p,E),mT(p)},pT=(d,p)=>{d.selection.select(p.dom,!0),d.selection.collapse(!0)},nE=(d,p)=>{Jn(p,"td,th").each(F(pT,d))},V0=(d,p)=>{Ge(me(p,"tr"),E=>{tb(d,E.dom),Ge(me(E,"th,td"),S=>{nb(d,S.dom)})})},oE=d=>D(d)&&d.indexOf("%")!==-1,vT=(d,p,E,S,k)=>{const V=Z_(d),J={styles:V,attributes:L1(d),colGroups:ib(d)};return d.undoManager.ignore(()=>{const le=lb(E,p,k,S,q_(d),J);Ur(le,"data-mce-id","__mce");const ye=gT(le);d.insertContent(ye),d.addVisual()}),Jn(Hc(d),'table[data-mce-id="__mce"]').map(le=>(_u(d)?F0(le):Zs(d)?J_(le):(rb(d)||oE(V.width))&&Yh(le),Sl(le),Br(le,"data-mce-id"),V0(d,le),nE(d,le),le.dom)).getOrNull()},sE=(d,p,E,S={})=>{const k=V=>fe(V)&&V>0;if(k(p)&&k(E)){const V=S.headerRows||0,J=S.headerColumns||0;return vT(d,E,p,J,V)}else return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var F1=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const U0="x-tinymce/dom-table-",z0=U0+"rows",bp=U0+"columns",ub=d=>{const p=F1.FakeClipboardItem(d);F1.write([p])},H1=d=>{var p;const E=(p=F1.read())!==null&&p!==void 0?p:[];return vi(E,S=>ge.from(S.getType(d)))},W0=d=>{H1(d).isSome()&&F1.clear()},G0=d=>{d.fold(rg,p=>ub({[z0]:p}))},rE=()=>H1(z0),rg=()=>W0(z0),iE=d=>{d.fold(bT,p=>ub({[bp]:p}))},ig=()=>H1(bp),bT=()=>W0(bp),q0=d=>v1(Xg(d),jl(d)).filter(Vc),aE=d=>Bh(Xg(d),jl(d)).filter(Vc),Jl=(d,p)=>{const E=jl(d),S=()=>q0(d).each(_t=>{wi(_t,E).filter(Ee(E)).each(wn=>{const Qn=Xe.fromText("");if(Aa(wn,Qn),Fr(wn),d.dom.isEmpty(d.getBody()))d.setContent(""),d.selection.setCursorLocation();else{const yo=d.dom.createRng();yo.setStart(Qn.dom,0),yo.setEnd(Qn.dom,0),d.selection.setRng(yo),d.nodeChanged()}})}),k=_t=>q0(d).each(wn=>{Zs(d)||_u(d)||rb(d)||wi(wn,E).each(yo=>{_t==="relative"&&!gf(yo)?Yh(yo):_t==="fixed"&&!B1(yo)?F0(yo):_t==="responsive"&&!B0(yo)&&J_(yo),Sl(yo),jh(d,yo.dom,gr)})}),V=_t=>wi(_t,E),J=_t=>aE(d).bind(wn=>V(wn).map(Qn=>_t(Qn,wn))),le=(_t,wn)=>{J(Qn=>{d.formatter.toggle("tableclass",{value:wn},Qn.dom),jh(d,Qn.dom,eg)})},ye=(_t,wn)=>{J(Qn=>{const yo=Gf(d),hc=ps(yo,fi=>d.formatter.match("tablecellclass",{value:wn},fi.dom))?d.formatter.remove:d.formatter.apply;Ge(yo,fi=>hc("tablecellclass",{value:wn},fi.dom)),jh(d,Qn.dom,eg)})},Re=()=>{q0(d).each(_t=>{wi(_t,E).each(wn=>{Nt(wn,"caption").fold(()=>{const Qn=Xe.fromTag("caption");br(Qn,Xe.fromText("Caption")),ld(wn,Qn,0),d.selection.setCursorLocation(Qn.dom,0)},Qn=>{Di("caption")(_t)&&wh("td",wn).each(yo=>d.selection.setCursorLocation(yo.dom,0)),Fr(Qn)}),jh(d,wn.dom,gr)})})},Ke=_t=>{d.focus()},$t=(_t,wn=!1)=>J((Qn,yo)=>{const ir=Vm(Gf(d),Qn,yo);_t(Qn,ir,wn).each(Ke)}),cn=()=>J((_t,wn)=>{const Qn=Vm(Gf(d),_t,wn),yo=kh(we,Xe.fromDom(d.getDoc()),ge.none());return sT(_t,Qn,yo)}),tn=()=>J((_t,wn)=>{const Qn=Vm(Gf(d),_t,wn);return oT(_t,Qn)}),Tt=(_t,wn)=>wn().each(Qn=>{const yo=Vt(Qn,ir=>Lc(ir));J((ir,hc)=>{const fi=Ph(Xe.fromDom(d.getDoc())),Tu=Um(Gf(d),hc,yo,fi);_t(ir,Tu).each(Ke)})}),rn=_t=>(wn,Qn)=>rd(Qn,"type").each(yo=>{$t(_t(yo),Qn.no_events)});Ns({mceTableSplitCells:()=>$t(p.unmergeCells),mceTableMergeCells:()=>$t(p.mergeCells),mceTableInsertRowBefore:()=>$t(p.insertRowsBefore),mceTableInsertRowAfter:()=>$t(p.insertRowsAfter),mceTableInsertColBefore:()=>$t(p.insertColumnsBefore),mceTableInsertColAfter:()=>$t(p.insertColumnsAfter),mceTableDeleteCol:()=>$t(p.deleteColumn),mceTableDeleteRow:()=>$t(p.deleteRow),mceTableCutCol:()=>tn().each(_t=>{iE(_t),$t(p.deleteColumn)}),mceTableCutRow:()=>cn().each(_t=>{G0(_t),$t(p.deleteRow)}),mceTableCopyCol:()=>tn().each(_t=>iE(_t)),mceTableCopyRow:()=>cn().each(_t=>G0(_t)),mceTablePasteColBefore:()=>Tt(p.pasteColsBefore,ig),mceTablePasteColAfter:()=>Tt(p.pasteColsAfter,ig),mceTablePasteRowBefore:()=>Tt(p.pasteRowsBefore,rE),mceTablePasteRowAfter:()=>Tt(p.pasteRowsAfter,rE),mceTableDelete:S,mceTableCellToggleClass:ye,mceTableToggleClass:le,mceTableToggleCaption:Re,mceTableSizingMode:(_t,wn)=>k(wn),mceTableCellType:rn(_t=>_t==="th"?p.makeCellsHeader:p.unmakeCellsHeader),mceTableColType:rn(_t=>_t==="th"?p.makeColumnsHeader:p.unmakeColumnsHeader),mceTableRowType:rn(_t=>{switch(_t){case"header":return p.makeRowsHeader;case"footer":return p.makeRowsFooter;default:return p.makeRowsBody}})},(_t,wn)=>d.addCommand(wn,_t)),d.addCommand("mceInsertTable",(_t,wn)=>{sE(d,wn.rows,wn.columns,wn.options)}),d.addCommand("mceTableApplyCellStyle",(_t,wn)=>{const Qn=hc=>"tablecell"+hc.toLowerCase().replace("-","");if(!U(wn))return;const yo=ao(Gf(d),Vc);if(yo.length===0)return;const ir=Ca(wn,(hc,fi)=>d.formatter.has(Qn(fi))&&D(hc));fl(ir)||(Ns(ir,(hc,fi)=>{const Tu=Qn(fi);Ge(yo,Op=>{hc===""?d.formatter.remove(Tu,{value:null},Op.dom,!0):d.formatter.apply(Tu,{value:hc},Op.dom)})}),V(yo[0]).each(hc=>jh(d,hc.dom,eg)))})},j0=(d,p)=>{const E=jl(d),S=k=>Bh(Xg(d)).bind(V=>wi(V,E).map(J=>{const le=Vm(Gf(d),J,V);return k(J,le)})).getOr("");Ns({mceTableRowType:()=>S(p.getTableRowType),mceTableCellType:()=>S(p.getTableCellType),mceTableColType:()=>S(p.getTableColType)},(k,V)=>d.addQueryValueHandler(V,k))},db=Nr.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),V1=(d,p,E,S)=>d.fold(p,E,S),th=d=>d.fold(Be,Be,Be),yT=db.before,U1=db.on,cE=db.after,Pa={before:yT,on:U1,after:cE,cata:V1,getStart:th},ag={create:(d,p)=>({selection:d,kill:p})},_T=(d,p)=>{const E=d.document.createRange();return E.selectNode(p.dom),E},z1=(d,p)=>{const E=d.document.createRange();return Z0(E,p),E},Z0=(d,p)=>d.selectNodeContents(p.dom),yp=(d,p)=>{p.fold(E=>{d.setStartBefore(E.dom)},(E,S)=>{d.setStart(E.dom,S)},E=>{d.setStartAfter(E.dom)})},cg=(d,p)=>{p.fold(E=>{d.setEndBefore(E.dom)},(E,S)=>{d.setEnd(E.dom,S)},E=>{d.setEndAfter(E.dom)})},W1=(d,p,E)=>{const S=d.document.createRange();return yp(S,p),cg(S,E),S},pf=(d,p,E,S,k)=>{const V=d.document.createRange();return V.setStart(p.dom,E),V.setEnd(S.dom,k),V},Y0=d=>({left:d.left,top:d.top,right:d.right,bottom:d.bottom,width:d.width,height:d.height}),Gi=d=>{const p=d.getClientRects(),E=p.length>0?p[0]:d.getBoundingClientRect();return E.width>0||E.height>0?ge.some(E).map(Y0):ge.none()},eu=Nr.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),fb=(d,p,E)=>p(Xe.fromDom(E.startContainer),E.startOffset,Xe.fromDom(E.endContainer),E.endOffset),uE=(d,p)=>p.match({domRange:E=>({ltr:oe(E),rtl:ge.none}),relative:(E,S)=>({ltr:hd(()=>W1(d,E,S)),rtl:hd(()=>ge.some(W1(d,S,E)))}),exact:(E,S,k,V)=>({ltr:hd(()=>pf(d,E,S,k,V)),rtl:hd(()=>ge.some(pf(d,k,V,E,S)))})}),dE=(d,p)=>{const E=p.ltr();return E.collapsed?p.rtl().filter(k=>k.collapsed===!1).map(k=>eu.rtl(Xe.fromDom(k.endContainer),k.endOffset,Xe.fromDom(k.startContainer),k.startOffset)).getOrThunk(()=>fb(d,eu.ltr,E)):fb(d,eu.ltr,E)},K0=(d,p)=>{const E=uE(d,p);return dE(d,E)},lg=(d,p)=>K0(d,p).match({ltr:(S,k,V,J)=>{const le=d.document.createRange();return le.setStart(S.dom,k),le.setEnd(V.dom,J),le},rtl:(S,k,V,J)=>{const le=d.document.createRange();return le.setStart(V.dom,J),le.setEnd(S.dom,k),le}});eu.ltr,eu.rtl;const ug={create:(d,p,E,S)=>({start:d,soffset:p,finish:E,foffset:S})},_p={create:(d,p,E,S)=>({start:Pa.on(d,p),finish:Pa.on(E,S)})},q1=(d,p)=>{const E=lg(d,p);return ug.create(Xe.fromDom(E.startContainer),E.startOffset,Xe.fromDom(E.endContainer),E.endOffset)},dg=_p.create,X0=(d,p,E,S,k,V,J)=>Fs(E,k)&&S===V?ge.none():Zn(E,"td,th",p).bind(le=>Zn(k,"td,th",p).bind(ye=>Ep(d,p,le,ye,J))),Ep=(d,p,E,S,k)=>Fs(E,S)?ge.none():af(E,S,p).bind(V=>{const J=V.boxes.getOr([]);return J.length>1?(k(d,J,V.start,V.finish),ge.some(ag.create(ge.some(dg(E,0,E,_d(E))),!0))):ge.none()}),_a=(d,p,E,S,k)=>{const V=J=>(k.clearBeforeUpdate(E),k.selectRange(E,J.boxes,J.start,J.finish),J.boxes);return g1(S,d,p,k.firstSelectedSelector,k.lastSelectedSelector).map(V)},Q0=(d,p)=>({item:d,mode:p}),Id=(d,p,E,S=vf)=>d.property().parent(p).map(k=>Q0(k,S)),vf=(d,p,E,S=Kh)=>E.sibling(d,p).map(k=>Q0(k,S)),Kh=(d,p,E,S=Kh)=>{const k=d.property().children(p);return E.first(k).map(J=>Q0(J,S))},fg=[{current:Id,next:vf,fallback:ge.none()},{current:vf,next:Kh,fallback:ge.some(Id)},{current:Kh,next:Kh,fallback:ge.some(vf)}],g=(d,p,E,S,k=fg)=>te(k,J=>J.current===E).bind(J=>J.current(d,p,S,J.next).orThunk(()=>J.fallback.bind(le=>g(d,p,le,S)))),q={left:()=>({sibling:(E,S)=>E.query().prevSibling(S),first:E=>E.length>0?ge.some(E[E.length-1]):ge.none()}),right:()=>({sibling:(E,S)=>E.query().nextSibling(S),first:E=>E.length>0?ge.some(E[0]):ge.none()})},ce=(d,p,E,S,k,V)=>g(d,p,S,k).bind(le=>V(le.item)?ge.none():E(le.item)?ge.some(le.item):ce(d,le.item,E,le.mode,k,V)),Ae=(d,p,E,S)=>ce(d,p,E,vf,q.left(),S),Fe=(d,p,E,S)=>ce(d,p,E,vf,q.right(),S),qe=d=>p=>d.property().children(p).length===0,gt=(d,p,E)=>Jt(d,p,qe(d),E),en=(d,p,E)=>mn(d,p,qe(d),E),Jt=Ae,mn=Fe,$n=Wu(),fo=(d,p)=>gt($n,d,p),Lo=(d,p)=>en($n,d,p),No=(d,p,E)=>Jt($n,d,p,E),Ro=(d,p,E)=>mn($n,d,p,E),$s=(d,p,E)=>ke(d,p,E).isSome(),fs=Nr.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),ui=(d,p,E)=>{const S=d.getRect(p),k=d.getRect(E);return k.right>S.left&&k.left<S.right},di=d=>Zn(d,"tr"),Nc={...fs,verify:(d,p,E,S,k,V,J)=>Zn(S,"td,th",J).bind(le=>Zn(p,"td,th",J).map(ye=>Fs(le,ye)?Fs(S,le)&&_d(le)===k?V(ye):fs.none("in same cell"):ss(di,[le,ye]).fold(()=>ui(d,ye,le)?fs.success():V(ye),Re=>V(ye)))).getOr(fs.none("default")),cata:(d,p,E,S,k)=>d.fold(p,E,S,k)},Ws=(d,p,E,S)=>({parent:d,children:p,element:E,index:S}),bf=d=>lu(d).bind(p=>{const E=Cs(p);return J0(E,d).map(S=>Ws(p,E,d,S))}),J0=(d,p)=>cs(d,F(Fs,p)),j1=Di("br"),fE=(d,p,E)=>p(d,E).bind(S=>Ru(S)&&wl(S).trim().length===0?fE(S,p,E):ge.some(S)),hE=(d,p,E)=>E.traverse(p).orThunk(()=>fE(p,E.gather,d)).map(E.relative),ET=(d,p)=>si(d,p).filter(j1).orThunk(()=>si(d,p-1).filter(j1)),mE=(d,p,E,S)=>ET(p,E).bind(k=>S.traverse(k).fold(()=>fE(k,S.gather,d).map(S.relative),V=>bf(V).map(J=>Pa.on(J.parent,J.index)))),_A=(d,p,E,S)=>(j1(p)?hE(d,p,S):mE(d,p,E,S)).map(V=>({start:V,finish:V})),cR=d=>Nc.cata(d,p=>ge.none(),()=>ge.none(),p=>ge.some(Hi(p,0)),p=>ge.some(Hi(p,_d(p)))),Xh=(d,p)=>({left:d.left,top:d.top+p,right:d.right,bottom:d.bottom+p}),ey=(d,p)=>({left:d.left,top:d.top-p,right:d.right,bottom:d.bottom-p}),wT=(d,p,E)=>({left:d.left+p,top:d.top+E,right:d.right+p,bottom:d.bottom+E}),Qh=d=>d.top,TT=d=>d.bottom,ty=(d,p,E)=>E>=0&&E<_d(p)?d.getRangedRect(p,E,p,E+1):E>0?d.getRangedRect(p,E-1,p,E):ge.none(),wp=d=>({left:d.left,top:d.top,right:d.right,bottom:d.bottom}),CT=(d,p)=>ge.some(d.getRect(p)),EA=(d,p,E)=>Qa(p)?CT(d,p).map(wp):Ru(p)?ty(d,p,E).map(wp):ge.none(),ST=(d,p)=>Qa(p)?CT(d,p).map(wp):Ru(p)?d.getRangedRect(p,0,p,_d(p)).map(wp):ge.none(),Tp=5,lR=100,Jh=Nr.generate([{none:[]},{retry:["caret"]}]),Qu=(d,p)=>d.left<p.left||Math.abs(p.right-d.left)<1||d.left>p.right,wA=(d,p,E)=>st(p,sa).fold(Et,S=>ST(d,S).exists(k=>Qu(E,k))),gE=(d,p,E,S,k)=>{const V=Xh(k,Tp);return Math.abs(E.bottom-S.bottom)<1||E.top>k.bottom?Jh.retry(V):E.top===k.bottom?Jh.retry(Xh(k,1)):wA(d,p,k)?Jh.retry(wT(V,Tp,0)):Jh.none()},AT={point:Qh,adjuster:(d,p,E,S,k)=>{const V=ey(k,Tp);return Math.abs(E.top-S.top)<1||E.bottom<k.top?Jh.retry(V):E.bottom===k.top?Jh.retry(ey(k,1)):wA(d,p,k)?Jh.retry(wT(V,Tp,0)):Jh.none()},move:ey,gather:fo},uR={point:TT,adjuster:gE,move:Xh,gather:Lo},TA=(d,p,E)=>d.elementFromPoint(p,E).filter(S=>ks(S)==="table").isSome(),xT=(d,p,E,S,k)=>pE(d,p,E,p.move(S,Tp),k),pE=(d,p,E,S,k)=>k===0?ge.some(S):TA(d,S.left,p.point(S))?xT(d,p,E,S,k-1):d.situsFromPoint(S.left,p.point(S)).bind(V=>V.start.fold(ge.none,J=>ST(d,J).bind(le=>p.adjuster(d,J,le,E,S).fold(ge.none,ye=>pE(d,p,E,ye,k-1))).orThunk(()=>ge.some(S)),ge.none)),dR=(d,p,E)=>d.point(p)>E.getInnerHeight()?ge.some(d.point(p)-E.getInnerHeight()):d.point(p)<0?ge.some(-d.point(p)):ge.none(),fR=(d,p,E)=>{const S=d.move(E,Tp),k=pE(p,d,E,S,lR).getOr(S);return dR(d,k,p).fold(()=>p.situsFromPoint(k.left,d.point(k)),V=>(p.scrollBy(0,V),p.situsFromPoint(k.left,d.point(k)-V)))},vE={tryUp:F(fR,AT),tryDown:F(fR,uR),getJumpSize:oe(Tp)},CA=20,fk=(d,p,E)=>d.getSelection().bind(S=>_A(p,S.finish,S.foffset,E).fold(()=>ge.some(Hi(S.finish,S.foffset)),k=>{const V=d.fromSitus(k),J=Nc.verify(d,S.finish,S.foffset,V.finish,V.foffset,E.failure,p);return cR(J)})),hb=(d,p,E,S,k,V)=>V===0?ge.none():mb(d,p,E,S,k).bind(J=>{const le=d.fromSitus(J),ye=Nc.verify(d,E,S,le.finish,le.foffset,k.failure,p);return Nc.cata(ye,()=>ge.none(),()=>ge.some(J),Re=>Fs(E,Re)&&S===0?Uo(d,E,S,ey,k):hb(d,p,Re,0,k,V-1),Re=>Fs(E,Re)&&S===_d(Re)?Uo(d,E,S,Xh,k):hb(d,p,Re,_d(Re),k,V-1))}),Uo=(d,p,E,S,k)=>EA(d,p,E).bind(V=>hg(d,k,S(V,vE.getJumpSize()))),hg=(d,p,E)=>{const S=Qs().browser;return S.isChromium()||S.isSafari()||S.isFirefox()?p.retry(d,E):ge.none()},mb=(d,p,E,S,k)=>EA(d,E,S).bind(V=>hg(d,k,V)),OT=(d,p,E)=>fk(d,p,E).bind(S=>hb(d,p,S.element,S.offset,E,CA).map(d.fromSitus)),hR=(d,p)=>$s(d,E=>lu(E).exists(S=>Fs(S,p))),oy=(d,p,E,S,k)=>Zn(S,"td,th",p).bind(V=>Zn(V,"table",p).bind(J=>hR(k,J)?OT(d,p,E).bind(le=>Zn(le.finish,"td,th",p).map(ye=>({start:V,finish:ye,range:le}))):ge.none())),Z1=(d,p,E,S,k,V)=>V(S,p).orThunk(()=>oy(d,p,E,S,k).map(J=>{const le=J.range;return ag.create(ge.some(dg(le.start,le.soffset,le.finish,le.foffset)),!0)})),Y1=(d,p)=>Zn(d,"tr",p).bind(E=>Zn(E,"table",p).bind(S=>{const k=me(S,"tr");return Fs(E,k[0])?No(S,V=>xv(V).isSome(),p).map(V=>{const J=_d(V);return ag.create(ge.some(dg(V,J,V,J)),!0)}):ge.none()})),RT=(d,p)=>Zn(d,"tr",p).bind(E=>Zn(E,"table",p).bind(S=>{const k=me(S,"tr");return Fs(E,k[k.length-1])?Ro(S,V=>Ff(V).isSome(),p).map(V=>ag.create(ge.some(dg(V,0,V,0)),!0)):ge.none()})),IT=(d,p,E,S,k,V,J)=>oy(d,E,S,k,V).bind(le=>Ep(p,E,le.start,le.finish,J)),DT=d=>{let p=d;return{get:()=>p,set:k=>{p=k}}},SA=d=>{const p=DT(ge.none()),E=()=>p.get().each(d);return{clear:()=>{E(),p.set(ge.none())},isSet:()=>p.get().isSome(),get:()=>p.get(),set:le=>{E(),p.set(ge.some(le))}}},sy=()=>{const d=SA(we);return{...d,on:E=>d.get().each(E)}},bE=(d,p)=>Zn(d,"td,th",p),NT=d=>Ja(d).exists(na),MT=(d,p,E,S)=>{const k=sy(),V=k.clear,J=Ke=>{k.on($t=>{S.clearBeforeUpdate(p),bE(Ke.target,E).each(cn=>{af($t,cn,E).each(tn=>{const Tt=tn.boxes.getOr([]);if(Tt.length===1){const rn=Tt[0],_t=Rv(rn)==="false",wn=Tn(Cl(Ke.target),rn,Fs);_t&&wn&&(S.selectRange(p,Tt,rn,rn),d.selectContents(rn))}else Tt.length>1&&(S.selectRange(p,Tt,tn.start,tn.finish),d.selectContents(cn))})})})};return{clearstate:V,mousedown:Ke=>{S.clear(p),bE(Ke.target,E).filter(NT).each(k.set)},mouseover:Ke=>{J(Ke)},mouseup:Ke=>{J(Ke),V()}}},yE={traverse:ad,gather:Lo,relative:Pa.before,retry:vE.tryDown,failure:Nc.failedDown},ry={traverse:$l,gather:fo,relative:Pa.before,retry:vE.tryUp,failure:Nc.failedUp},mg=d=>p=>p===d,AA=mg(38),em=mg(40),Cp=d=>d>=37&&d<=40,mR={isBackward:mg(37),isForward:mg(39)},xA={isBackward:mg(39),isForward:mg(37)},kT=d=>{const p=d!==void 0?d.dom:document,E=p.body.scrollLeft||p.documentElement.scrollLeft,S=p.body.scrollTop||p.documentElement.scrollTop;return Fu(E,S)},gb=(d,p,E)=>{const k=(E!==void 0?E.dom:document).defaultView;k&&k.scrollBy(d,p)},pb=Nr.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),gR=d=>pb.exact(d.start,d.soffset,d.finish,d.foffset),pR=d=>d.match({domRange:p=>Xe.fromDom(p.startContainer),relative:(p,E)=>Pa.getStart(p),exact:(p,E,S,k)=>p}),OA=pb.domRange,Sp=pb.relative,PT=pb.exact,LT=d=>{const p=pR(d);return _i(p)},_E=ug.create,K1={domRange:OA,relative:Sp,exact:PT,exactFromRange:gR,getWin:LT,range:_E},EE=(d,p,E)=>{var S,k;return ge.from((k=(S=d.dom).caretPositionFromPoint)===null||k===void 0?void 0:k.call(S,p,E)).bind(V=>{if(V.offsetNode===null)return ge.none();const J=d.dom.createRange();return J.setStart(V.offsetNode,V.offset),J.collapse(),ge.some(J)})},fn=(d,p,E)=>{var S,k;return ge.from((k=(S=d.dom).caretRangeFromPoint)===null||k===void 0?void 0:k.call(S,p,E))},ja=(()=>document.caretPositionFromPoint?EE:document.caretRangeFromPoint?fn:ge.none)(),wE=(d,p,E)=>{const S=Xe.fromDom(d.document);return ja(S,p,E).map(k=>ug.create(Xe.fromDom(k.startContainer),k.startOffset,Xe.fromDom(k.endContainer),k.endOffset))},kr=(d,p)=>{const E=ks(d);return E==="input"?Pa.after(d):Rt(["br","img"],E)?p===0?Pa.before(d):Pa.after(d):Pa.on(d,p)},yf=(d,p)=>{const E=d.fold(Pa.before,kr,Pa.after),S=p.fold(Pa.before,kr,Pa.after);return K1.relative(E,S)},RA=(d,p,E,S)=>{const k=kr(d,p),V=kr(E,S);return K1.relative(k,V)},tu=(d,p,E,S)=>{const V=Xi(d).dom.createRange();return V.setStart(d.dom,p),V.setEnd(E.dom,S),V},Ea=(d,p,E,S)=>{const k=tu(d,p,E,S),V=Fs(d,E)&&p===S;return k.collapsed&&!V},TE=d=>ge.from(d.getSelection()),CE=(d,p)=>{TE(d).each(E=>{E.removeAllRanges(),E.addRange(p)})},gg=(d,p,E,S,k)=>{const V=pf(d,p,E,S,k);CE(d,V)},IA=(d,p,E,S,k,V)=>{p.collapse(E.dom,S),p.extend(k.dom,V)},$T=(d,p)=>K0(d,p).match({ltr:(E,S,k,V)=>{gg(d,E,S,k,V)},rtl:(E,S,k,V)=>{TE(d).each(J=>{if(J.setBaseAndExtent)J.setBaseAndExtent(E.dom,S,k.dom,V);else if(J.extend)try{IA(d,J,E,S,k,V)}catch{gg(d,k,V,E,S)}else gg(d,k,V,E,S)})}}),DA=(d,p,E,S,k)=>{const V=RA(p,E,S,k);$T(d,V)},BT=(d,p,E)=>{const S=yf(p,E);$T(d,S)},FT=d=>{if(d.rangeCount>0){const p=d.getRangeAt(0),E=d.getRangeAt(d.rangeCount-1);return ge.some(ug.create(Xe.fromDom(p.startContainer),p.startOffset,Xe.fromDom(E.endContainer),E.endOffset))}else return ge.none()},HT=d=>{if(d.anchorNode===null||d.focusNode===null)return FT(d);{const p=Xe.fromDom(d.anchorNode),E=Xe.fromDom(d.focusNode);return Ea(p,d.anchorOffset,E,d.focusOffset)?ge.some(ug.create(p,d.anchorOffset,E,d.focusOffset)):FT(d)}},iy=(d,p,E=!0)=>{const k=(E?z1:_T)(d,p);CE(d,k)},SE=d=>TE(d).filter(p=>p.rangeCount>0).bind(HT),ay=d=>SE(d).map(p=>K1.exact(p.start,p.soffset,p.finish,p.foffset)),cy=(d,p)=>{const E=lg(d,p);return Gi(E)},AE=(d,p,E)=>wE(d,p,E),NA=d=>{TE(d).each(p=>p.removeAllRanges())},pg=d=>({elementFromPoint:(_t,wn)=>Xe.fromPoint(Xe.fromDom(d.document),_t,wn),getRect:_t=>_t.dom.getBoundingClientRect(),getRangedRect:(_t,wn,Qn,yo)=>{const ir=K1.exact(_t,wn,Qn,yo);return cy(d,ir)},getSelection:()=>ay(d).map(_t=>q1(d,_t)),fromSitus:_t=>{const wn=K1.relative(_t.start,_t.finish);return q1(d,wn)},situsFromPoint:(_t,wn)=>AE(d,_t,wn).map(Qn=>_p.create(Qn.start,Qn.soffset,Qn.finish,Qn.foffset)),clearSelection:()=>{NA(d)},collapseSelection:(_t=!1)=>{ay(d).each(wn=>wn.fold(Qn=>Qn.collapse(_t),(Qn,yo)=>{const ir=_t?Qn:yo;BT(d,ir,ir)},(Qn,yo,ir,hc)=>{const fi=_t?Qn:ir,Tu=_t?yo:hc;DA(d,fi,Tu,fi,Tu)}))},setSelection:_t=>{DA(d,_t.start,_t.soffset,_t.finish,_t.foffset)},setRelativeSelection:(_t,wn)=>{BT(d,_t,wn)},selectNode:_t=>{iy(d,_t,!1)},selectContents:_t=>{iy(d,_t)},getInnerHeight:()=>d.innerHeight,getScrollY:()=>kT(Xe.fromDom(d.document)).top,scrollBy:(_t,wn)=>{gb(_t,wn,Xe.fromDom(d.document))}}),tm=(d,p)=>({rows:d,cols:p}),X1=(d,p,E,S)=>{const k=pg(d),V=MT(k,p,E,S);return{clearstate:V.clearstate,mousedown:V.mousedown,mouseover:V.mouseover,mouseup:V.mouseup}},vb=d=>st(d,qn).exists(na),VT=(d,p)=>vb(d)||vb(p),vR=(d,p,E,S)=>{const k=pg(d),V=()=>(S.clear(p),ge.none());return{keydown:(ye,Re,Ke,$t,cn,tn)=>{const Tt=ye.raw,rn=Tt.which,_t=Tt.shiftKey===!0;return tp(p,S.selectedSelector).fold(()=>(Cp(rn)&&!_t&&S.clearBeforeUpdate(p),Cp(rn)&&_t&&!VT(Re,$t)?ge.none:em(rn)&&_t?F(IT,k,p,E,yE,$t,Re,S.selectRange):AA(rn)&&_t?F(IT,k,p,E,ry,$t,Re,S.selectRange):em(rn)?F(Z1,k,E,yE,$t,Re,RT):AA(rn)?F(Z1,k,E,ry,$t,Re,Y1):ge.none),Qn=>{const yo=ir=>()=>vi(ir,fi=>_a(fi.rows,fi.cols,p,Qn,S)).fold(()=>i0(p,S.firstSelectedSelector,S.lastSelectedSelector).map(fi=>{const Tu=em(rn)||tn.isForward(rn)?Pa.after:Pa.before;return k.setRelativeSelection(Pa.on(fi.first,0),Tu(fi.table)),S.clear(p),ag.create(ge.none(),!0)}),fi=>ge.some(ag.create(ge.none(),!0)));return Cp(rn)&&_t&&!VT(Re,$t)?ge.none:em(rn)&&_t?yo([tm(1,0)]):AA(rn)&&_t?yo([tm(-1,0)]):tn.isBackward(rn)&&_t?yo([tm(0,-1),tm(-1,0)]):tn.isForward(rn)&&_t?yo([tm(0,1),tm(1,0)]):Cp(rn)&&!_t?V:ge.none})()},keyup:(ye,Re,Ke,$t,cn)=>tp(p,S.selectedSelector).fold(()=>{const tn=ye.raw,Tt=tn.which;return tn.shiftKey===!0&&Cp(Tt)&&VT(Re,$t)?X0(p,E,Re,Ke,$t,cn,S.selectRange):ge.none()},ge.none)}},MA=(d,p,E,S)=>{const k=pg(d);return(V,J)=>{S.clearBeforeUpdate(p),af(V,J,E).each(le=>{const ye=le.boxes.getOr([]);S.selectRange(p,ye,le.start,le.finish),k.selectContents(J),k.collapseSelection()})}},xE=(d,p)=>{const E=vc(d,p);return E===void 0||E===""?[]:E.split(" ")},kA=(d,p,E)=>{const k=xE(d,p).concat([E]);return Ur(d,p,k.join(" ")),!0},OE=(d,p,E)=>{const S=ao(xE(d,p),k=>k!==E);return S.length>0?Ur(d,p,S.join(" ")):Br(d,p),!1},La=d=>d.dom.classList!==void 0,_f=d=>xE(d,"class"),Dd=(d,p)=>kA(d,"class",p),ly=(d,p)=>OE(d,"class",p),Eu=(d,p)=>{La(d)?d.dom.classList.add(p):Dd(d,p)},PA=d=>{(La(d)?d.dom.classList:_f(d)).length===0&&Br(d,"class")},UT=(d,p)=>{La(d)?d.dom.classList.remove(p):ly(d,p),PA(d)},zT=(d,p)=>La(d)&&d.dom.classList.contains(p),WT=(d,p)=>{Ge(p,E=>{UT(d,E)})},bR=d=>p=>{Eu(p,d)},GT=d=>p=>{WT(p,d)},qT={byClass:d=>{const p=bR(d.selected),E=GT([d.selected,d.lastSelected,d.firstSelected]),S=V=>{const J=me(V,d.selectedSelector);Ge(J,E)};return{clearBeforeUpdate:S,clear:S,selectRange:(V,J,le,ye)=>{S(V),Ge(J,p),Eu(le,d.firstSelected),Eu(ye,d.lastSelected)},selectedSelector:d.selectedSelector,firstSelectedSelector:d.firstSelectedSelector,lastSelectedSelector:d.lastSelectedSelector}},byAttr:(d,p,E)=>{const S=ye=>{Br(ye,d.selected),Br(ye,d.firstSelected),Br(ye,d.lastSelected)},k=ye=>{Ur(ye,d.selected,"1")},V=ye=>{J(ye),E()},J=ye=>{const Re=me(ye,`${d.selectedSelector},${d.firstSelectedSelector},${d.lastSelectedSelector}`);Ge(Re,S)};return{clearBeforeUpdate:J,clear:V,selectRange:(ye,Re,Ke,$t)=>{V(ye),Ge(Re,k),Ur(Ke,d.firstSelected,"1"),Ur($t,d.lastSelected,"1"),p(Re,Ke,$t)},selectedSelector:d.selectedSelector,firstSelectedSelector:d.firstSelectedSelector,lastSelectedSelector:d.lastSelectedSelector}}},jT=(d,p,E,S)=>{switch(d.tag){case"none":return p();case"single":return S(d.element);case"multiple":return E(d.elements)}},rr=()=>({tag:"none"}),nm=d=>({tag:"multiple",elements:d}),ZT=d=>({tag:"single",element:d}),YT=(d,p,E)=>({get:()=>Pv(d(),E).fold(()=>p().fold(rr,ZT),nm)}),KT=(d,p)=>{const E=d.slice(0,p[p.length-1].row+1),S=Vi(E);return Bt(S,k=>{const V=k.cells.slice(0,p[p.length-1].column+1);return Vt(V,J=>J.element)})},XT=(d,p)=>{const E=d.slice(p[0].row+p[0].rowspan-1,d.length),S=Vi(E);return Bt(S,k=>{const V=k.cells.slice(p[0].column+p[0].colspan-1,k.cells.length);return Vt(V,J=>J.element)})},QT=(d,p,E)=>{const S=ue.fromTable(d);return Vh(S,p).map(V=>{const J=lp(S,E,!1),{rows:le}=ea(J),ye=KT(le,V),Re=XT(le,V);return{upOrLeftCells:ye,downOrRightCells:Re}})},JT=(d,p,E,S,k,V,J)=>({target:d,x:p,y:E,stop:S,prevent:k,kill:V,raw:J}),eC=d=>{const p=Xe.fromDom(Do(d).getOr(d.target)),E=()=>d.stopPropagation(),S=()=>d.preventDefault(),k=De(S,E);return JT(p,d.clientX,d.clientY,E,S,k,d)},ER=(d,p)=>E=>{d(E)&&p(eC(E))},LA=(d,p,E,S,k)=>{const V=ER(E,S);return d.dom.addEventListener(p,V,k),{unbind:F(tC,d,p,V,k)}},wR=(d,p,E,S)=>LA(d,p,E,S,!1),tC=(d,p,E,S)=>{d.dom.removeEventListener(p,E,S)},TR=Ne,Ap=(d,p,E)=>wR(d,p,TR,E),Cn=eC,vg=d=>!zT(Xe.fromDom(d.target),"ephox-snooker-resizer-bar"),CR=(d,p)=>{const E=YT(()=>Xe.fromDom(d.getBody()),()=>Bh(Xg(d),jl(d)),Ac.selectedSelector),S=(ye,Re,Ke)=>{wi(Re).each(cn=>{const tn=P1(d),Tt=kh(we,Xe.fromDom(d.getDoc()),tn),rn=Gf(d),_t=QT(cn,{selection:rn},Tt);U_(d,ye,Re,Ke,_t)})},k=()=>ob(d),V=qT.byAttr(Ac,S,k);return d.on("init",ye=>{const Re=d.getWin(),Ke=Hc(d),$t=jl(d),cn=()=>{const Ys=d.selection,Rl=Xe.fromDom(Ys.getStart()),Il=Xe.fromDom(Ys.getEnd());ss(wi,[Rl,Il]).fold(()=>V.clear(Ke),we)},tn=X1(Re,Ke,$t,V),Tt=vR(Re,Ke,$t,V),rn=MA(Re,Ke,$t,V),_t=Ys=>Ys.raw.shiftKey===!0;d.on("TableSelectorChange",Ys=>rn(Ys.start,Ys.finish));const wn=(Ys,Rl)=>{_t(Ys)&&(Rl.kill&&Ys.kill(),Rl.selection.each(Il=>{const wf=K1.relative(Il.start,Il.finish),Cu=lg(Re,wf);d.selection.setRng(Cu)}))},Qn=Ys=>{const Rl=Cn(Ys);if(Rl.raw.shiftKey&&Cp(Rl.raw.which)){const Il=d.selection.getRng(),wf=Xe.fromDom(Il.startContainer),Cu=Xe.fromDom(Il.endContainer);Tt.keyup(Rl,wf,Il.startOffset,Cu,Il.endOffset).each(Rp=>{wn(Rl,Rp)})}},yo=Ys=>{const Rl=Cn(Ys);p.hide();const Il=d.selection.getRng(),wf=Xe.fromDom(Il.startContainer),Cu=Xe.fromDom(Il.endContainer),Rp=i1(mR,xA)(Xe.fromDom(d.selection.getStart()));Tt.keydown(Rl,wf,Il.startOffset,Cu,Il.endOffset,Rp).each(Dl=>{wn(Rl,Dl)}),p.show()},ir=Ys=>Ys.button===0,hc=Ys=>Ys.buttons===void 0?!0:(Ys.buttons&1)!==0,fi=Ys=>{tn.clearstate()},Tu=Ys=>{ir(Ys)&&vg(Ys)&&tn.mousedown(Cn(Ys))},Op=Ys=>{hc(Ys)&&vg(Ys)&&tn.mouseover(Cn(Ys))},my=Ys=>{ir(Ys)&&vg(Ys)&&tn.mouseup(Cn(Ys))},$E=(()=>{const Ys=DT(Xe.fromDom(Ke)),Rl=DT(0);return{touchEnd:wf=>{const Cu=Xe.fromDom(wf.target);if(Di("td")(Cu)||Di("th")(Cu)){const Rp=Ys.get(),Dl=Rl.get();Fs(Rp,Cu)&&wf.timeStamp-Dl<300&&(wf.preventDefault(),rn(Cu,Cu))}Ys.set(Cu),Rl.set(wf.timeStamp)}}})();d.on("dragstart",fi),d.on("mousedown",Tu),d.on("mouseover",Op),d.on("mouseup",my),d.on("touchend",$E.touchEnd),d.on("keyup",Qn),d.on("keydown",yo),d.on("NodeChange",cn)}),d.on("PreInit",()=>{d.serializer.addTempAttr(Ac.firstSelected),d.serializer.addTempAttr(Ac.lastSelected)}),{getSelectedCells:()=>jT(E.get(),oe([]),ye=>Vt(ye,Re=>Re.dom),ye=>[ye.dom]),clearSelectedCells:ye=>V.clear(Xe.fromDom(ye))}},qi=d=>{let p=[];return{bind:V=>{if(V===void 0)throw new Error("Event bind error: undefined handler");p.push(V)},unbind:V=>{p=ao(p,J=>J!==V)},trigger:(...V)=>{const J={};Ge(d,(le,ye)=>{J[le]=V[ye]}),Ge(p,le=>{le(J)})}}},Si=d=>{const p=Pc(d,S=>({bind:S.bind,unbind:S.unbind})),E=Pc(d,S=>S.trigger);return{registry:p,trigger:E}},xp=(d,p)=>{let E=null;const S=()=>{K(E)||(clearTimeout(E),E=null)};return{cancel:S,throttle:(...V)=>{S(),E=setTimeout(()=>{E=null,d.apply(null,V)},p)}}},RE=d=>d.slice(0).sort(),$A=(d,p)=>{throw new Error("All required keys ("+RE(d).join(", ")+") were not specified. Specified keys were: "+RE(p).join(", ")+".")},SR=d=>{throw new Error("Unsupported keys for object: "+RE(d).join(", "))},Xo=(d,p)=>{if(!G(p))throw new Error("The "+d+" fields must be an array. Was: "+p+".");Ge(p,E=>{if(!D(E))throw new Error("The value "+E+" in the "+d+" fields was not a string.")})},BA=(d,p)=>{throw new Error("All values need to be of type: "+p+". Keys ("+RE(d).join(", ")+") were not.")},IE=d=>{const p=RE(d);te(p,(S,k)=>k<p.length-1&&S===p[k+1]).each(S=>{throw new Error("The field: "+S+" occurs more than once in the combined fields: ["+p.join(", ")+"].")})},Q1=(d,p)=>FA(d,p,{validate:de,label:"function"}),FA=(d,p,E)=>{if(p.length===0)throw new Error("You must specify at least one required field.");return Xo("required",p),IE(p),S=>{const k=Lt(S);ps(p,le=>Rt(k,le))||$A(p,k),d(p,k);const J=ao(p,le=>!E.validate(S[le],le));return J.length>0&&BA(J,E.label),S}},AR=(d,p)=>{const E=ao(p,S=>!Rt(d,S));E.length>0&&SR(E)},nC=d=>Q1(AR,d),xR=nC(["compare","extract","mutate","sink"]),hk=nC(["element","start","stop","destroy"]),HA=nC(["forceDrop","drop","move","delayDrop"]),oC=()=>{let d=ge.none();const p=()=>{d=ge.none()},E=(V,J)=>{const le=d.map(ye=>V.compare(ye,J));return d=ge.some(J),le},S=(V,J)=>{J.extract(V).each(ye=>{E(J,ye).each(Ke=>{k.trigger.move(Ke)})})},k=Si({move:qi(["info"])});return{onEvent:S,reset:p,events:k.registry}},sC=()=>{const d=Si({move:qi(["info"])});return{onEvent:we,reset:we,events:d.registry}},VA=()=>{const d=sC(),p=oC();let E=d;return{on:()=>{E.reset(),E=p},off:()=>{E.reset(),E=d},isOn:()=>E===p,onEvent:(le,ye)=>{E.onEvent(le,ye)},events:p.events}},mk=(d,p,E)=>{let S=!1;const k=Si({start:qi([]),stop:qi([])}),V=VA(),J=()=>{Tt.stop(),V.isOn()&&(V.off(),k.trigger.stop())},le=xp(J,200),ye=_t=>{Tt.start(_t),V.on(),k.trigger.start()},Re=_t=>{le.cancel(),V.onEvent(_t,p)};V.events.move.bind(_t=>{p.mutate(d,_t.info)});const Ke=()=>{S=!0},$t=()=>{S=!1},cn=()=>S,tn=_t=>(...wn)=>{S&&_t.apply(null,wn)},Tt=p.sink(HA({forceDrop:J,drop:tn(J),move:tn(Re),delayDrop:tn(le.throttle)}),E),rn=()=>{Tt.destroy()};return{element:Tt.element,go:ye,on:Ke,off:$t,isActive:cn,destroy:rn,events:k.registry}},DE=d=>{const p=d.replace(/\./g,"-");return{resolve:S=>p+"-"+S}},OR=DE("ephox-dragster").resolve,RR=d=>{const p={layerClass:OR("blocker"),...d},E=Xe.fromTag("div");return Ur(E,"role","presentation"),dr(E,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Eu(E,OR("blocker")),Eu(E,p.layerClass),{element:oe(E),destroy:()=>{Fr(E)}}};var IR=xR({compare:(d,p)=>Fu(p.left-d.left,p.top-d.top),extract:d=>ge.some(Fu(d.x,d.y)),sink:(d,p)=>{const E=RR(p),S=Ap(E.element(),"mousedown",d.forceDrop),k=Ap(E.element(),"mouseup",d.drop),V=Ap(E.element(),"mousemove",d.move),J=Ap(E.element(),"mouseout",d.delayDrop),le=()=>{E.destroy(),k.unbind(),V.unbind(),J.unbind(),S.unbind()},ye=Ke=>{br(Ke,E.element())},Re=()=>{Fr(E.element())};return hk({element:E.element,start:ye,stop:Re,destroy:le})},mutate:(d,p)=>{d.mutate(p.left,p.top)}});const uy=(d,p={})=>{var E;const S=(E=p.mode)!==null&&E!==void 0?E:IR;return mk(d,S,p)},NE=DE("ephox-snooker").resolve,DR=()=>{const d=Si({drag:qi(["xDelta","yDelta"])});return{mutate:(E,S)=>{d.trigger.drag(E,S)},events:d.registry}},NR=()=>{const d=Si({drag:qi(["xDelta","yDelta","target"])});let p=ge.none();const E=DR();return E.events.drag.bind(V=>{p.each(J=>{d.trigger.drag(V.xDelta,V.yDelta,J)})}),{assign:V=>{p=ge.some(V)},get:()=>p,mutate:E.mutate,events:d.registry}},iC=(d,p,E,S,k)=>{const V=Xe.fromTag("div");return dr(V,{position:"absolute",left:p-S/2+"px",top:E+"px",height:k+"px",width:S+"px"}),Fa(V,{"data-column":d,role:"presentation"}),V},bb=(d,p,E,S,k)=>{const V=Xe.fromTag("div");return dr(V,{position:"absolute",left:p+"px",top:E-k/2+"px",height:k+"px",width:S+"px"}),Fa(V,{"data-row":d,role:"presentation"}),V},yb=NE("resizer-bar"),aC=NE("resizer-rows"),ME=NE("resizer-cols"),cC=7,lC=(d,p)=>Bt(d.all,(E,S)=>p(E.element)?[S]:[]),MR=(d,p)=>{const E=[];return qt(d.grid.columns,S=>{ue.getColumnAt(d,S).map(V=>V.element).forall(p)&&E.push(S)}),ao(E,S=>{const k=ue.filterItems(d,V=>V.column===S);return ps(k,V=>p(V.element))})},kE=d=>{const p=me(d.parent(),"."+yb);Ge(p,Fr)},uC=(d,p,E)=>{const S=d.origin();Ge(p,k=>{k.each(V=>{const J=E(S,V);Eu(J,yb),br(d.parent(),J)})})},dC=(d,p,E,S)=>{uC(d,p,(k,V)=>{const J=iC(V.col,V.x-k.left,E.top-k.top,cC,S);return Eu(J,ME),J})},ms=(d,p,E,S)=>{uC(d,p,(k,V)=>{const J=bb(V.row,E.left-k.left,V.y-k.top,S,cC);return Eu(J,aC),J})},UA=(d,p,E,S,k)=>{const V=Lf(E),J=p.isResizable,le=S.length>0?bl.positions(S,E):[],ye=le.length>0?lC(d,J):[],Re=ao(le,(tn,Tt)=>et(ye,rn=>Tt===rn));ms(p,Re,V,Kd(E));const Ke=k.length>0?ol.positions(k,E):[],$t=Ke.length>0?MR(d,J):[],cn=ao(Ke,(tn,Tt)=>et($t,rn=>Tt===rn));dC(p,cn,V,wv(E))},om=(d,p)=>{if(kE(d),d.isResizable(p)){const E=ue.fromTable(p),S=vl(E),k=Xd(E);UA(E,d,p,S,k)}},nh=(d,p)=>{const E=me(d.parent(),"."+yb);Ge(E,p)},dy=d=>{nh(d,p=>{is(p,"display","none")})},wu=d=>{nh(d,p=>{is(p,"display","block")})},PE=d=>zT(d,aC),J1=d=>zT(d,ME),fy=NE("resizer-bar-dragging"),yg=d=>{const p=NR(),E=uy(p,{});let S=ge.none();const k=(Tt,rn)=>ge.from(vc(Tt,rn));p.events.drag.bind(Tt=>{k(Tt.target,"data-row").each(rn=>{const _t=fr(Tt.target,"top");is(Tt.target,"top",_t+Tt.yDelta+"px")}),k(Tt.target,"data-column").each(rn=>{const _t=fr(Tt.target,"left");is(Tt.target,"left",_t+Tt.xDelta+"px")})});const V=(Tt,rn)=>{const _t=fr(Tt,rn),wn=zr(Tt,"data-initial-"+rn,0);return _t-wn};E.events.stop.bind(()=>{p.get().each(Tt=>{S.each(rn=>{k(Tt,"data-row").each(_t=>{const wn=V(Tt,"top");Br(Tt,"data-initial-top"),tn.trigger.adjustHeight(rn,wn,parseInt(_t,10))}),k(Tt,"data-column").each(_t=>{const wn=V(Tt,"left");Br(Tt,"data-initial-left"),tn.trigger.adjustWidth(rn,wn,parseInt(_t,10))}),om(d,rn)})})});const J=(Tt,rn)=>{tn.trigger.startAdjust(),p.assign(Tt),Ur(Tt,"data-initial-"+rn,fr(Tt,rn)),Eu(Tt,fy),is(Tt,"opacity","0.2"),E.go(d.parent())},le=Ap(d.parent(),"mousedown",Tt=>{PE(Tt.target)&&J(Tt.target,"top"),J1(Tt.target)&&J(Tt.target,"left")}),ye=Tt=>Fs(Tt,d.view()),Re=Tt=>Zn(Tt,"table",ye).filter(na),Ke=Ap(d.view(),"mouseover",Tt=>{Re(Tt.target).fold(()=>{Kr(Tt.target)&&kE(d)},rn=>{E.isActive()&&(S=ge.some(rn),om(d,rn))})}),$t=()=>{le.unbind(),Ke.unbind(),E.destroy(),kE(d)},cn=Tt=>{om(d,Tt)},tn=Si({adjustHeight:qi(["table","delta","row"]),adjustWidth:qi(["table","delta","column"]),startAdjust:qi([])});return{destroy:$t,refresh:cn,on:E.on,off:E.off,hideBars:F(dy,d),showBars:F(wu,d),events:tn.registry}},LE={create:(d,p,E)=>{const S=bl,k=ol,V=yg(d),J=Si({beforeResize:qi(["table","type"]),afterResize:qi(["table","type"]),startDrag:qi([])});return V.events.adjustHeight.bind(le=>{const ye=le.table;J.trigger.beforeResize(ye,"row");const Re=S.delta(le.delta,ye);qv(ye,Re,le.row,S),J.trigger.afterResize(ye,"row")}),V.events.startAdjust.bind(le=>{J.trigger.startDrag()}),V.events.adjustWidth.bind(le=>{const ye=le.table;J.trigger.beforeResize(ye,"col");const Re=k.delta(le.delta,ye),Ke=E(ye);E0(ye,Re,le.column,p,Ke),J.trigger.afterResize(ye,"col")}),{on:V.on,off:V.off,refreshBars:V.refresh,hideBars:V.hideBars,showBars:V.showBars,destroy:V.destroy,events:J.registry}}},Ef={only:(d,p)=>{const E=Yc(d)?oi(d):d;return{parent:oe(E),view:oe(d),origin:oe(Fu(0,0)),isResizable:p}},detached:(d,p,E)=>{const S=()=>Lf(p);return{parent:oe(p),view:oe(d),origin:S,isResizable:E}},body:(d,p,E)=>({parent:oe(p),view:oe(d),origin:oe(Fu(0,0)),isResizable:E})},ev=()=>{const d=Xe.fromTag("div");return dr(d,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),br(la(),d),d},zA=(d,p)=>d.inline?Ef.body(Xe.fromDom(d.getBody()),ev(),p):Ef.only(Xe.fromDom(d.getDoc()),p),hy=(d,p)=>{d.inline&&Fr(p.parent())},as=d=>ve(d)&&d.nodeName==="TABLE",WA="bar-",GA=d=>vc(d,"data-mce-resize")!=="false",hC=d=>{const p=ue.fromTable(d);ue.hasColumns(p)||Ge(fu(d),E=>{const S=Oa(E,"width");is(E,"width",S),Br(E,"width")})},mC=d=>{const p=sy(),E=sy(),S=sy();let k,V;const J=Tt=>$1(d,Tt),le=()=>N0(d)?ip():rp(),ye=Tt=>Wm(Tt).columns,Re=(Tt,rn,_t)=>{const wn=xo(rn,"e");if(V===""&&Yh(Tt),_t!==k&&V!==""){is(Tt,"width",V);const Qn=le(),yo=J(Tt),ir=N0(d)||wn?ye(Tt)-1:0;E0(Tt,_t-k,ir,Qn,yo)}else if(mr(V)){const Qn=parseFloat(V.replace("%","")),yo=_t*Qn/k;is(Tt,"width",yo+"%")}Dv(V)&&hC(Tt)},Ke=()=>{E.on(Tt=>{Tt.destroy()}),S.on(Tt=>{hy(d,Tt)})};return d.on("init",()=>{const Tt=zA(d,GA);if(S.set(Tt),G_(d)&&vp(d)){const rn=le(),_t=LE.create(Tt,rn,J);_t.on(),_t.events.startDrag.bind(wn=>{p.set(d.selection.getRng())}),_t.events.beforeResize.bind(wn=>{const Qn=wn.table.dom;eh(d,Qn,Lh(Qn),Iv(Qn),WA+wn.type)}),_t.events.afterResize.bind(wn=>{const Qn=wn.table,yo=Qn.dom;Sl(Qn),p.on(ir=>{d.selection.setRng(ir),d.focus()}),_s(d,yo,Lh(yo),Iv(yo),WA+wn.type),d.undoManager.add()}),E.set(_t)}}),d.on("ObjectResizeStart",Tt=>{const rn=Tt.target;if(as(rn)){const _t=Xe.fromDom(rn);Ge(d.dom.select(".mce-clonedresizable"),wn=>{d.dom.addClass(wn,"mce-"+D0(d)+"-columns")}),!B1(_t)&&_u(d)?F0(_t):!gf(_t)&&rb(d)&&Yh(_t),B0(_t)&&ki(Tt.origin,WA)&&Yh(_t),k=Tt.width,V=Zs(d)?"":s0(d,rn).getOr("")}}),d.on("ObjectResized",Tt=>{const rn=Tt.target;if(as(rn)){const _t=Xe.fromDom(rn),wn=Tt.origin;ki(wn,"corner-")&&Re(_t,wn,Tt.width),Sl(_t),jh(d,_t.dom,eg)}}),d.on("SwitchMode",()=>{E.on(Tt=>{d.mode.isReadOnly()?Tt.hideBars():Tt.showBars()})}),d.on("dragstart dragend",Tt=>{E.on(rn=>{Tt.type==="dragstart"?(rn.hideBars(),rn.off()):(rn.on(),rn.showBars())})}),d.on("remove",()=>{Ke()}),{refresh:Tt=>{E.on(rn=>rn.refreshBars(Xe.fromDom(Tt)))},hide:()=>{E.on(Tt=>Tt.hideBars())},show:()=>{E.on(Tt=>Tt.showBars())}}},Eb=d=>{tT(d);const p=mC(d),E=CR(d,p),S=M0(d,p,E);return Jl(d,S),j0(d,S),op(d,S),{getSelectedCells:E.getSelectedCells,clearSelectedCells:E.clearSelectedCells}},tv=d=>({table:Eb(d)});var qA=()=>{a.add("dom",tv)};qA()})();/*!
 * FilePond 4.30.4
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const Fne=a=>a instanceof HTMLElement,Hne=(a,c=[],h=[])=>{const y={...a},A=[],N=[],D=()=>({...y}),U=()=>{const de=[...A];return A.length=0,de},G=()=>{const de=[...N];N.length=0,de.forEach(({type:fe,data:we})=>{K(fe,we)})},K=(de,fe,we)=>{if(we&&!document.hidden){N.push({type:de,data:fe});return}ve[de]&&ve[de](fe),A.push({type:de,data:fe})},Q=(de,...fe)=>_e[de]?_e[de](...fe):null,ie={getState:D,processActionQueue:U,processDispatchQueue:G,dispatch:K,query:Q};let _e={};c.forEach(de=>{_e={...de(y),..._e}});let ve={};return h.forEach(de=>{ve={...de(K,Q,y),...ve}}),ie},Vne=(a,c,h)=>{if(typeof h=="function"){a[c]=h;return}Object.defineProperty(a,c,{...h})},dl=(a,c)=>{for(const h in a)a.hasOwnProperty(h)&&c(h,a[h])},Dw=a=>{const c={};return dl(a,h=>{Vne(c,h,a[h])}),c},ru=(a,c,h=null)=>{if(h===null)return a.getAttribute(c)||a.hasAttribute(c);a.setAttribute(c,h)},Une="http://www.w3.org/2000/svg",zne=["svg","path"],wX=a=>zne.includes(a),bH=(a,c,h={})=>{typeof c=="object"&&(h=c,c=null);const y=wX(a)?document.createElementNS(Une,a):document.createElement(a);return c&&(wX(a)?ru(y,"class",c):y.className=c),dl(h,(A,N)=>{ru(y,A,N)}),y},Wne=a=>(c,h)=>{typeof h<"u"&&a.children[h]?a.insertBefore(c,a.children[h]):a.appendChild(c)},Gne=(a,c)=>(h,y)=>(typeof y<"u"?c.splice(y,0,h):c.push(h),h),qne=(a,c)=>h=>(c.splice(c.indexOf(h),1),h.element.parentNode&&a.removeChild(h.element),h),jne=(()=>typeof window<"u"&&typeof window.document<"u")(),fJ=()=>jne,Zne=fJ()?bH("svg"):{},Yne="children"in Zne?a=>a.children.length:a=>a.childNodes.length,hJ=(a,c,h,y)=>{const A=h[0]||a.left,N=h[1]||a.top,D=A+a.width,U=N+a.height*(y[1]||1),G={element:{...a},inner:{left:a.left,top:a.top,right:a.right,bottom:a.bottom},outer:{left:A,top:N,right:D,bottom:U}};return c.filter(K=>!K.isRectIgnored()).map(K=>K.rect).forEach(K=>{TX(G.inner,{...K.inner}),TX(G.outer,{...K.outer})}),CX(G.inner),G.outer.bottom+=G.element.marginBottom,G.outer.right+=G.element.marginRight,CX(G.outer),G},TX=(a,c)=>{c.top+=a.top,c.right+=a.left,c.bottom+=a.top,c.left+=a.left,c.bottom>a.bottom&&(a.bottom=c.bottom),c.right>a.right&&(a.right=c.right)},CX=a=>{a.width=a.right-a.left,a.height=a.bottom-a.top},eA=a=>typeof a=="number",Kne=(a,c,h,y=.001)=>Math.abs(a-c)<y&&Math.abs(h)<y,Xne=({stiffness:a=.5,damping:c=.75,mass:h=10}={})=>{let y=null,A=null,N=0,D=!1;const K=Dw({interpolate:(Q,ie)=>{if(D)return;if(!(eA(y)&&eA(A))){D=!0,N=0;return}const _e=-(A-y)*a;N+=_e/h,A+=N,N*=c,Kne(A,y,N)||ie?(A=y,N=0,D=!0,K.onupdate(A),K.oncomplete(A)):K.onupdate(A)},target:{set:Q=>{if(eA(Q)&&!eA(A)&&(A=Q),y===null&&(y=Q,A=Q),y=Q,A===y||typeof y>"u"){D=!0,N=0,K.onupdate(A),K.oncomplete(A);return}D=!1},get:()=>y},resting:{get:()=>D},onupdate:Q=>{},oncomplete:Q=>{}});return K},Qne=a=>a<.5?2*a*a:-1+(4-2*a)*a,Jne=({duration:a=500,easing:c=Qne,delay:h=0}={})=>{let y=null,A,N,D=!0,U=!1,G=null;const Q=Dw({interpolate:(ie,_e)=>{D||G===null||(y===null&&(y=ie),!(ie-y<h)&&(A=ie-y-h,A>=a||_e?(A=1,N=U?0:1,Q.onupdate(N*G),Q.oncomplete(N*G),D=!0):(N=A/a,Q.onupdate((A>=0?c(U?1-N:N):0)*G))))},target:{get:()=>U?0:G,set:ie=>{if(G===null){G=ie,Q.onupdate(ie),Q.oncomplete(ie);return}ie<G?(G=1,U=!0):(U=!1,G=ie),D=!1,y=null}},resting:{get:()=>D},onupdate:ie=>{},oncomplete:ie=>{}});return Q},SX={spring:Xne,tween:Jne},eoe=(a,c,h)=>{const y=a[c]&&typeof a[c][h]=="object"?a[c][h]:a[c]||a,A=typeof y=="string"?y:y.type,N=typeof y=="object"?{...y}:{};return SX[A]?SX[A](N):null},ZZ=(a,c,h,y=!1)=>{c=Array.isArray(c)?c:[c],c.forEach(A=>{a.forEach(N=>{let D=N,U=()=>h[N],G=K=>h[N]=K;typeof N=="object"&&(D=N.key,U=N.getter||U,G=N.setter||G),!(A[D]&&!y)&&(A[D]={get:U,set:G})})})},toe=({mixinConfig:a,viewProps:c,viewInternalAPI:h,viewExternalAPI:y})=>{const A={...c},N=[];return dl(a,(D,U)=>{const G=eoe(U);if(!G)return;G.onupdate=Q=>{c[D]=Q},G.target=A[D],ZZ([{key:D,setter:Q=>{G.target!==Q&&(G.target=Q)},getter:()=>c[D]}],[h,y],c,!0),N.push(G)}),{write:D=>{let U=document.hidden,G=!0;return N.forEach(K=>{K.resting||(G=!1),K.interpolate(D,U)}),G},destroy:()=>{}}},noe=a=>(c,h)=>{a.addEventListener(c,h)},ooe=a=>(c,h)=>{a.removeEventListener(c,h)},soe=({mixinConfig:a,viewProps:c,viewInternalAPI:h,viewExternalAPI:y,viewState:A,view:N})=>{const D=[],U=noe(N.element),G=ooe(N.element);return y.on=(K,Q)=>{D.push({type:K,fn:Q}),U(K,Q)},y.off=(K,Q)=>{D.splice(D.findIndex(ie=>ie.type===K&&ie.fn===Q),1),G(K,Q)},{write:()=>!0,destroy:()=>{D.forEach(K=>{G(K.type,K.fn)})}}},roe=({mixinConfig:a,viewProps:c,viewExternalAPI:h})=>{ZZ(a,h,c)},mh=a=>a!=null,ioe={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},aoe=({mixinConfig:a,viewProps:c,viewInternalAPI:h,viewExternalAPI:y,view:A})=>{const N={...c},D={};ZZ(a,[h,y],c);const U=()=>[c.translateX||0,c.translateY||0],G=()=>[c.scaleX||0,c.scaleY||0],K=()=>A.rect?hJ(A.rect,A.childViews,U(),G()):null;return h.rect={get:K},y.rect={get:K},a.forEach(Q=>{c[Q]=typeof N[Q]>"u"?ioe[Q]:N[Q]}),{write:()=>{if(coe(D,c))return loe(A.element,c),Object.assign(D,{...c}),!0},destroy:()=>{}}},coe=(a,c)=>{if(Object.keys(a).length!==Object.keys(c).length)return!0;for(const h in c)if(c[h]!==a[h])return!0;return!1},loe=(a,{opacity:c,perspective:h,translateX:y,translateY:A,scaleX:N,scaleY:D,rotateX:U,rotateY:G,rotateZ:K,originX:Q,originY:ie,width:_e,height:ve})=>{let de="",fe="";(mh(Q)||mh(ie))&&(fe+=`transform-origin: ${Q||0}px ${ie||0}px;`),mh(h)&&(de+=`perspective(${h}px) `),(mh(y)||mh(A))&&(de+=`translate3d(${y||0}px, ${A||0}px, 0) `),(mh(N)||mh(D))&&(de+=`scale3d(${mh(N)?N:1}, ${mh(D)?D:1}, 1) `),mh(K)&&(de+=`rotateZ(${K}rad) `),mh(U)&&(de+=`rotateX(${U}rad) `),mh(G)&&(de+=`rotateY(${G}rad) `),de.length&&(fe+=`transform:${de};`),mh(c)&&(fe+=`opacity:${c};`,c===0&&(fe+="visibility:hidden;"),c<1&&(fe+="pointer-events:none;")),mh(ve)&&(fe+=`height:${ve}px;`),mh(_e)&&(fe+=`width:${_e}px;`);const we=a.elementCurrentStyle||"";(fe.length!==we.length||fe!==we)&&(a.style.cssText=fe,a.elementCurrentStyle=fe)},uoe={styles:aoe,listeners:soe,animations:toe,apis:roe},AX=(a={},c={},h={})=>(c.layoutCalculated||(a.paddingTop=parseInt(h.paddingTop,10)||0,a.marginTop=parseInt(h.marginTop,10)||0,a.marginRight=parseInt(h.marginRight,10)||0,a.marginBottom=parseInt(h.marginBottom,10)||0,a.marginLeft=parseInt(h.marginLeft,10)||0,c.layoutCalculated=!0),a.left=c.offsetLeft||0,a.top=c.offsetTop||0,a.width=c.offsetWidth||0,a.height=c.offsetHeight||0,a.right=a.left+a.width,a.bottom=a.top+a.height,a.scrollTop=c.scrollTop,a.hidden=c.offsetParent===null,a),iu=({tag:a="div",name:c=null,attributes:h={},read:y=()=>{},write:A=()=>{},create:N=()=>{},destroy:D=()=>{},filterFrameActionsForChild:U=(ve,de)=>de,didCreateView:G=()=>{},didWriteView:K=()=>{},ignoreRect:Q=!1,ignoreRectUpdate:ie=!1,mixins:_e=[]}={})=>(ve,de={})=>{const fe=bH(a,`filepond--${c}`,h),we=window.getComputedStyle(fe,null),De=AX();let Me=null,oe=!1;const Be=[],lt=[],F={},Ee={},Ze=[A],ht=[y],Et=[D],Ne=()=>fe,ge=()=>Be.concat(),gn=()=>F,wt=Je=>(It,te)=>It(Je,te),Ot=()=>Me||(Me=hJ(De,Be,[0,0],[1,1]),Me),P=()=>we,Rt=()=>{Me=null,Be.forEach(te=>te._read()),!(ie&&De.width&&De.height)&&AX(De,fe,we);const It={root:ao,props:de,rect:De};ht.forEach(te=>te(It))},et=(Je,It,te)=>{let cs=It.length===0;return Ze.forEach(uo=>{uo({props:de,root:ao,actions:It,timestamp:Je,shouldOptimize:te})===!1&&(cs=!1)}),lt.forEach(uo=>{uo.write(Je)===!1&&(cs=!1)}),Be.filter(uo=>!!uo.element.parentNode).forEach(uo=>{uo._write(Je,U(uo,It),te)||(cs=!1)}),Be.forEach((uo,Bt)=>{uo.element.parentNode||(ao.appendChild(uo.element,Bt),uo._read(),uo._write(Je,U(uo,It),te),cs=!1)}),oe=cs,K({props:de,root:ao,actions:It,timestamp:Je}),cs},qt=()=>{lt.forEach(Je=>Je.destroy()),Et.forEach(Je=>{Je({root:ao,props:de})}),Be.forEach(Je=>Je._destroy())},Vt={element:{get:Ne},style:{get:P},childViews:{get:ge}},Ge={...Vt,rect:{get:Ot},ref:{get:gn},is:Je=>c===Je,appendChild:Wne(fe),createChildView:wt(ve),linkView:Je=>(Be.push(Je),Je),unlinkView:Je=>{Be.splice(Be.indexOf(Je),1)},appendChildView:Gne(fe,Be),removeChildView:qne(fe,Be),registerWriter:Je=>Ze.push(Je),registerReader:Je=>ht.push(Je),registerDestroyer:Je=>Et.push(Je),invalidateLayout:()=>fe.layoutCalculated=!1,dispatch:ve.dispatch,query:ve.query},vo={element:{get:Ne},childViews:{get:ge},rect:{get:Ot},resting:{get:()=>oe},isRectIgnored:()=>Q,_read:Rt,_write:et,_destroy:qt},Bo={...Vt,rect:{get:()=>De}};Object.keys(_e).sort((Je,It)=>Je==="styles"?1:It==="styles"?-1:0).forEach(Je=>{const It=uoe[Je]({mixinConfig:_e[Je],viewProps:de,viewState:Ee,viewInternalAPI:Ge,viewExternalAPI:vo,view:Dw(Bo)});It&&lt.push(It)});const ao=Dw(Ge);N({root:ao,props:de});const Fo=Yne(fe);return Be.forEach((Je,It)=>{ao.appendChild(Je.element,Fo+It)}),G(ao),Dw(vo)},doe=(a,c,h=60)=>{const y="__framePainter";if(window[y]){window[y].readers.push(a),window[y].writers.push(c);return}window[y]={readers:[a],writers:[c]};const A=window[y],N=1e3/h;let D=null,U=null,G=null,K=null;const Q=()=>{document.hidden?(G=()=>window.setTimeout(()=>ie(performance.now()),N),K=()=>window.clearTimeout(U)):(G=()=>window.requestAnimationFrame(ie),K=()=>window.cancelAnimationFrame(U))};document.addEventListener("visibilitychange",()=>{K&&K(),Q(),ie(performance.now())});const ie=_e=>{U=G(ie),D||(D=_e);const ve=_e-D;ve<=N||(D=_e-ve%N,A.readers.forEach(de=>de()),A.writers.forEach(de=>de(_e)))};return Q(),ie(performance.now()),{pause:()=>{K(U)}}},bh=(a,c)=>({root:h,props:y,actions:A=[],timestamp:N,shouldOptimize:D})=>{A.filter(U=>a[U.type]).forEach(U=>a[U.type]({root:h,props:y,action:U.data,timestamp:N,shouldOptimize:D})),c&&c({root:h,props:y,actions:A,timestamp:N,shouldOptimize:D})},xX=(a,c)=>c.parentNode.insertBefore(a,c),OX=(a,c)=>c.parentNode.insertBefore(a,c.nextSibling),IH=a=>Array.isArray(a),a_=a=>a==null,foe=a=>a.trim(),DH=a=>""+a,hoe=(a,c=",")=>a_(a)?[]:IH(a)?a:DH(a).split(c).map(foe).filter(h=>h.length),mJ=a=>typeof a=="boolean",gJ=a=>mJ(a)?a:a==="true",vh=a=>typeof a=="string",pJ=a=>eA(a)?a:vh(a)?DH(a).replace(/[a-z]+/gi,""):0,oH=a=>parseInt(pJ(a),10),RX=a=>parseFloat(pJ(a)),JO=a=>eA(a)&&isFinite(a)&&Math.floor(a)===a,IX=(a,c=1e3)=>{if(JO(a))return a;let h=DH(a).trim();return/MB$/i.test(h)?(h=h.replace(/MB$i/,"").trim(),oH(h)*c*c):/KB/i.test(h)?(h=h.replace(/KB$i/,"").trim(),oH(h)*c):oH(h)},tA=a=>typeof a=="function",moe=a=>{let c=self,h=a.split("."),y=null;for(;y=h.shift();)if(c=c[y],!c)return null;return c},DX={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},goe=a=>{const c={};return c.url=vh(a)?a:a.url||"",c.timeout=a.timeout?parseInt(a.timeout,10):0,c.headers=a.headers?a.headers:{},dl(DX,h=>{c[h]=poe(h,a[h],DX[h],c.timeout,c.headers)}),c.process=a.process||vh(a)||a.url?c.process:null,c.remove=a.remove||null,delete c.headers,c},poe=(a,c,h,y,A)=>{if(c===null)return null;if(typeof c=="function")return c;const N={url:h==="GET"||h==="PATCH"?`?${a}=`:"",method:h,headers:A,withCredentials:!1,timeout:y,onload:null,ondata:null,onerror:null};if(vh(c))return N.url=c,N;if(Object.assign(N,c),vh(N.headers)){const D=N.headers.split(/:(.+)/);N.headers={header:D[0],value:D[1]}}return N.withCredentials=gJ(N.withCredentials),N},voe=a=>goe(a),boe=a=>a===null,sd=a=>typeof a=="object"&&a!==null,yoe=a=>sd(a)&&vh(a.url)&&sd(a.process)&&sd(a.revert)&&sd(a.restore)&&sd(a.fetch),yZ=a=>IH(a)?"array":boe(a)?"null":JO(a)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(a)?"bytes":yoe(a)?"api":typeof a,_oe=a=>a.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",'),Eoe={array:hoe,boolean:gJ,int:a=>yZ(a)==="bytes"?IX(a):oH(a),number:RX,float:RX,bytes:IX,string:a=>tA(a)?a:DH(a),function:a=>moe(a),serverapi:voe,object:a=>{try{return JSON.parse(_oe(a))}catch{return null}}},woe=(a,c)=>Eoe[c](a),vJ=(a,c,h)=>{if(a===c)return a;let y=yZ(a);if(y!==h){const A=woe(a,h);if(y=yZ(A),A===null)throw`Trying to assign value with incorrect type to "${option}", allowed type: "${h}"`;a=A}return a},Toe=(a,c)=>{let h=a;return{enumerable:!0,get:()=>h,set:y=>{h=vJ(y,a,c)}}},Coe=a=>{const c={};return dl(a,h=>{const y=a[h];c[h]=Toe(y[0],y[1])}),Dw(c)},Soe=a=>({items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:Coe(a)}),NH=(a,c="-")=>a.split(/(?=[A-Z])/).map(h=>h.toLowerCase()).join(c),Aoe=(a,c)=>{const h={};return dl(c,y=>{h[y]={get:()=>a.getState().options[y],set:A=>{a.dispatch(`SET_${NH(y,"_").toUpperCase()}`,{value:A})}}}),h},xoe=a=>(c,h,y)=>{const A={};return dl(a,N=>{const D=NH(N,"_").toUpperCase();A[`SET_${D}`]=U=>{try{y.options[N]=U.value}catch{}c(`DID_SET_${D}`,{value:y.options[N]})}}),A},Ooe=a=>c=>{const h={};return dl(a,y=>{h[`GET_${NH(y,"_").toUpperCase()}`]=A=>c.options[y]}),h},Qp={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},YZ=()=>Math.random().toString(36).substring(2,11),KZ=(a,c)=>a.splice(c,1),Roe=(a,c)=>{c?a():document.hidden?Promise.resolve(1).then(a):setTimeout(a,0)},MH=()=>{const a=[],c=(y,A)=>{KZ(a,a.findIndex(N=>N.event===y&&(N.cb===A||!A)))},h=(y,A,N)=>{a.filter(D=>D.event===y).map(D=>D.cb).forEach(D=>Roe(()=>D(...A),N))};return{fireSync:(y,...A)=>{h(y,A,!0)},fire:(y,...A)=>{h(y,A,!1)},on:(y,A)=>{a.push({event:y,cb:A})},onOnce:(y,A)=>{a.push({event:y,cb:(...N)=>{c(y,A),A(...N)}})},off:c}},bJ=(a,c,h)=>{Object.getOwnPropertyNames(a).filter(y=>!h.includes(y)).forEach(y=>Object.defineProperty(c,y,Object.getOwnPropertyDescriptor(a,y)))},Ioe=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],_m=a=>{const c={};return bJ(a,c,Ioe),c},Doe=a=>{a.forEach((c,h)=>{c.released&&KZ(a,h)})},Bs={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},xu={INPUT:1,LIMBO:2,LOCAL:3},yJ=a=>/[^0-9]+/.exec(a),_J=()=>yJ(1.1.toLocaleString())[0],Noe=()=>{const a=_J(),c=1e3.toLocaleString(),h=1e3.toString();return c!==h?yJ(c)[0]:a==="."?",":"."},vn={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},XZ=[],vv=(a,c,h)=>new Promise((y,A)=>{const N=XZ.filter(U=>U.key===a).map(U=>U.cb);if(N.length===0){y(c);return}const D=N.shift();N.reduce((U,G)=>U.then(K=>G(K,h)),D(c,h)).then(U=>y(U)).catch(U=>A(U))}),dA=(a,c,h)=>XZ.filter(y=>y.key===a).map(y=>y.cb(c,h)),Moe=(a,c)=>XZ.push({key:a,cb:c}),koe=a=>Object.assign(kO,a),yH=()=>({...kO}),Poe=a=>{dl(a,(c,h)=>{kO[c]&&(kO[c][0]=vJ(h,kO[c][0],kO[c][1]))})},kO={id:[null,vn.STRING],name:["filepond",vn.STRING],disabled:[!1,vn.BOOLEAN],className:[null,vn.STRING],required:[!1,vn.BOOLEAN],captureMethod:[null,vn.STRING],allowSyncAcceptAttribute:[!0,vn.BOOLEAN],allowDrop:[!0,vn.BOOLEAN],allowBrowse:[!0,vn.BOOLEAN],allowPaste:[!0,vn.BOOLEAN],allowMultiple:[!1,vn.BOOLEAN],allowReplace:[!0,vn.BOOLEAN],allowRevert:[!0,vn.BOOLEAN],allowRemove:[!0,vn.BOOLEAN],allowProcess:[!0,vn.BOOLEAN],allowReorder:[!1,vn.BOOLEAN],allowDirectoriesOnly:[!1,vn.BOOLEAN],storeAsFile:[!1,vn.BOOLEAN],forceRevert:[!1,vn.BOOLEAN],maxFiles:[null,vn.INT],checkValidity:[!1,vn.BOOLEAN],itemInsertLocationFreedom:[!0,vn.BOOLEAN],itemInsertLocation:["before",vn.STRING],itemInsertInterval:[75,vn.INT],dropOnPage:[!1,vn.BOOLEAN],dropOnElement:[!0,vn.BOOLEAN],dropValidation:[!1,vn.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],vn.ARRAY],instantUpload:[!0,vn.BOOLEAN],maxParallelUploads:[2,vn.INT],allowMinimumUploadDuration:[!0,vn.BOOLEAN],chunkUploads:[!1,vn.BOOLEAN],chunkForce:[!1,vn.BOOLEAN],chunkSize:[5e6,vn.INT],chunkRetryDelays:[[500,1e3,3e3],vn.ARRAY],server:[null,vn.SERVER_API],fileSizeBase:[1e3,vn.INT],labelFileSizeBytes:["bytes",vn.STRING],labelFileSizeKilobytes:["KB",vn.STRING],labelFileSizeMegabytes:["MB",vn.STRING],labelFileSizeGigabytes:["GB",vn.STRING],labelDecimalSeparator:[_J(),vn.STRING],labelThousandsSeparator:[Noe(),vn.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',vn.STRING],labelInvalidField:["Field contains invalid files",vn.STRING],labelFileWaitingForSize:["Waiting for size",vn.STRING],labelFileSizeNotAvailable:["Size not available",vn.STRING],labelFileCountSingular:["file in list",vn.STRING],labelFileCountPlural:["files in list",vn.STRING],labelFileLoading:["Loading",vn.STRING],labelFileAdded:["Added",vn.STRING],labelFileLoadError:["Error during load",vn.STRING],labelFileRemoved:["Removed",vn.STRING],labelFileRemoveError:["Error during remove",vn.STRING],labelFileProcessing:["Uploading",vn.STRING],labelFileProcessingComplete:["Upload complete",vn.STRING],labelFileProcessingAborted:["Upload cancelled",vn.STRING],labelFileProcessingError:["Error during upload",vn.STRING],labelFileProcessingRevertError:["Error during revert",vn.STRING],labelTapToCancel:["tap to cancel",vn.STRING],labelTapToRetry:["tap to retry",vn.STRING],labelTapToUndo:["tap to undo",vn.STRING],labelButtonRemoveItem:["Remove",vn.STRING],labelButtonAbortItemLoad:["Abort",vn.STRING],labelButtonRetryItemLoad:["Retry",vn.STRING],labelButtonAbortItemProcessing:["Cancel",vn.STRING],labelButtonUndoItemProcessing:["Undo",vn.STRING],labelButtonRetryItemProcessing:["Retry",vn.STRING],labelButtonProcessItem:["Upload",vn.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',vn.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',vn.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',vn.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',vn.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',vn.STRING],oninit:[null,vn.FUNCTION],onwarning:[null,vn.FUNCTION],onerror:[null,vn.FUNCTION],onactivatefile:[null,vn.FUNCTION],oninitfile:[null,vn.FUNCTION],onaddfilestart:[null,vn.FUNCTION],onaddfileprogress:[null,vn.FUNCTION],onaddfile:[null,vn.FUNCTION],onprocessfilestart:[null,vn.FUNCTION],onprocessfileprogress:[null,vn.FUNCTION],onprocessfileabort:[null,vn.FUNCTION],onprocessfilerevert:[null,vn.FUNCTION],onprocessfile:[null,vn.FUNCTION],onprocessfiles:[null,vn.FUNCTION],onremovefile:[null,vn.FUNCTION],onpreparefile:[null,vn.FUNCTION],onupdatefiles:[null,vn.FUNCTION],onreorderfiles:[null,vn.FUNCTION],beforeDropFile:[null,vn.FUNCTION],beforeAddFile:[null,vn.FUNCTION],beforeRemoveFile:[null,vn.FUNCTION],beforePrepareFile:[null,vn.FUNCTION],stylePanelLayout:[null,vn.STRING],stylePanelAspectRatio:[null,vn.STRING],styleItemPanelAspectRatio:[null,vn.STRING],styleButtonRemoveItemPosition:["left",vn.STRING],styleButtonProcessItemPosition:["right",vn.STRING],styleLoadIndicatorPosition:["right",vn.STRING],styleProgressIndicatorPosition:["right",vn.STRING],styleButtonRemoveItemAlign:[!1,vn.BOOLEAN],files:[[],vn.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],vn.ARRAY]},nA=(a,c)=>a_(c)?a[0]||null:JO(c)?a[c]||null:(typeof c=="object"&&(c=c.id),a.find(h=>h.id===c)||null),EJ=a=>{if(a_(a))return a;if(/:/.test(a)){const c=a.split(":");return c[1]/c[0]}return parseFloat(a)},bv=a=>a.filter(c=>!c.archived),wJ={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4};let V5=null;const Loe=()=>{if(V5===null)try{const a=new DataTransfer;a.items.add(new File(["hello world"],"This_Works.txt"));const c=document.createElement("input");c.setAttribute("type","file"),c.files=a.files,V5=c.files.length===1}catch{V5=!1}return V5},$oe=[Bs.LOAD_ERROR,Bs.PROCESSING_ERROR,Bs.PROCESSING_REVERT_ERROR],Boe=[Bs.LOADING,Bs.PROCESSING,Bs.PROCESSING_QUEUED,Bs.INIT],Foe=[Bs.PROCESSING_COMPLETE],Hoe=a=>$oe.includes(a.status),Voe=a=>Boe.includes(a.status),Uoe=a=>Foe.includes(a.status),NX=a=>sd(a.options.server)&&(sd(a.options.server.process)||tA(a.options.server.process)),zoe=a=>({GET_STATUS:()=>{const c=bv(a.items),{EMPTY:h,ERROR:y,BUSY:A,IDLE:N,READY:D}=wJ;return c.length===0?h:c.some(Hoe)?y:c.some(Voe)?A:c.some(Uoe)?D:N},GET_ITEM:c=>nA(a.items,c),GET_ACTIVE_ITEM:c=>nA(bv(a.items),c),GET_ACTIVE_ITEMS:()=>bv(a.items),GET_ITEMS:()=>a.items,GET_ITEM_NAME:c=>{const h=nA(a.items,c);return h?h.filename:null},GET_ITEM_SIZE:c=>{const h=nA(a.items,c);return h?h.fileSize:null},GET_STYLES:()=>Object.keys(a.options).filter(c=>/^style/.test(c)).map(c=>({name:c,value:a.options[c]})),GET_PANEL_ASPECT_RATIO:()=>/circle/.test(a.options.stylePanelLayout)?1:EJ(a.options.stylePanelAspectRatio),GET_ITEM_PANEL_ASPECT_RATIO:()=>a.options.styleItemPanelAspectRatio,GET_ITEMS_BY_STATUS:c=>bv(a.items).filter(h=>h.status===c),GET_TOTAL_ITEMS:()=>bv(a.items).length,SHOULD_UPDATE_FILE_INPUT:()=>a.options.storeAsFile&&Loe()&&!NX(a),IS_ASYNC:()=>NX(a),GET_FILE_SIZE_LABELS:c=>({labelBytes:c("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:c("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:c("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:c("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0})}),Woe=a=>{const c=bv(a.items).length;if(!a.options.allowMultiple)return c===0;const h=a.options.maxFiles;return h===null||c<h},TJ=(a,c,h)=>Math.max(Math.min(h,a),c),Goe=(a,c,h)=>a.splice(c,0,h),qoe=(a,c,h)=>a_(c)?null:typeof h>"u"?(a.push(c),c):(h=TJ(h,0,a.length),Goe(a,h,c),c),_Z=a=>/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(a),sk=a=>a.split("/").pop().split("?").shift(),kH=a=>a.split(".").pop(),joe=a=>{if(typeof a!="string")return"";const c=a.split("/").pop();return/svg/.test(c)?"svg":/zip|compressed/.test(c)?"zip":/plain/.test(c)?"txt":/msword/.test(c)?"doc":/[a-z]+/.test(c)?c==="jpeg"?"jpg":c:""},zM=(a,c="")=>(c+a).slice(-c.length),CJ=(a=new Date)=>`${a.getFullYear()}-${zM(a.getMonth()+1,"00")}-${zM(a.getDate(),"00")}_${zM(a.getHours(),"00")}-${zM(a.getMinutes(),"00")}-${zM(a.getSeconds(),"00")}`,zO=(a,c,h=null,y=null)=>{const A=typeof h=="string"?a.slice(0,a.size,h):a.slice(0,a.size,a.type);return A.lastModifiedDate=new Date,a._relativePath&&(A._relativePath=a._relativePath),vh(c)||(c=CJ()),c&&y===null&&kH(c)?A.name=c:(y=y||joe(A.type),A.name=c+(y?"."+y:"")),A},Zoe=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,SJ=(a,c)=>{const h=Zoe();if(h){const y=new h;return y.append(a),y.getBlob(c)}return new Blob([a],{type:c})},Yoe=(a,c)=>{const h=new ArrayBuffer(a.length),y=new Uint8Array(h);for(let A=0;A<a.length;A++)y[A]=a.charCodeAt(A);return SJ(h,c)},AJ=a=>(/^data:(.+);/.exec(a)||[])[1]||null,Koe=a=>a.split(",")[1].replace(/\s/g,""),Xoe=a=>atob(Koe(a)),Qoe=a=>{const c=AJ(a),h=Xoe(a);return Yoe(h,c)},Joe=(a,c,h)=>zO(Qoe(a),c,null,h),ese=a=>{if(!/^content-disposition:/i.test(a))return null;const c=a.split(/filename=|filename\*=.+''/).splice(1).map(h=>h.trim().replace(/^["']|[;"']{0,2}$/g,"")).filter(h=>h.length);return c.length?decodeURI(c[c.length-1]):null},tse=a=>{if(/content-length:/i.test(a)){const c=a.match(/[0-9]+/)[0];return c?parseInt(c,10):null}return null},nse=a=>/x-content-transfer-id:/i.test(a)&&(a.split(":")[1]||"").trim()||null,QZ=a=>{const c={source:null,name:null,size:null},h=a.split(`
`);for(let y of h){const A=ese(y);if(A){c.name=A;continue}const N=tse(y);if(N){c.size=N;continue}const D=nse(y);if(D){c.source=D;continue}}return c},ose=a=>{const c={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},h=()=>c.progress,y=()=>{c.request&&c.request.abort&&c.request.abort()},A=()=>{const U=c.source;D.fire("init",U),U instanceof File?D.fire("load",U):U instanceof Blob?D.fire("load",zO(U,U.name)):_Z(U)?D.fire("load",Joe(U)):N(U)},N=U=>{if(!a){D.fire("error",{type:"error",body:"Can't load URL",code:400});return}c.timestamp=Date.now(),c.request=a(U,G=>{c.duration=Date.now()-c.timestamp,c.complete=!0,G instanceof Blob&&(G=zO(G,G.name||sk(U))),D.fire("load",G instanceof Blob?G:G?G.body:null)},G=>{D.fire("error",typeof G=="string"?{type:"error",code:0,body:G}:G)},(G,K,Q)=>{if(Q&&(c.size=Q),c.duration=Date.now()-c.timestamp,!G){c.progress=null;return}c.progress=K/Q,D.fire("progress",c.progress)},()=>{D.fire("abort")},G=>{const K=QZ(typeof G=="string"?G:G.headers);D.fire("meta",{size:c.size||K.size,filename:K.name,source:K.source})})},D={...MH(),setSource:U=>c.source=U,getProgress:h,abort:y,load:A};return D},MX=a=>/GET|HEAD/.test(a),rA=(a,c,h)=>{const y={onheaders:()=>{},onprogress:()=>{},onload:()=>{},ontimeout:()=>{},onerror:()=>{},onabort:()=>{},abort:()=>{A=!0,D.abort()}};let A=!1,N=!1;h={method:"POST",headers:{},withCredentials:!1,...h},c=encodeURI(c),MX(h.method)&&a&&(c=`${c}${encodeURIComponent(typeof a=="string"?a:JSON.stringify(a))}`);const D=new XMLHttpRequest,U=MX(h.method)?D:D.upload;return U.onprogress=G=>{A||y.onprogress(G.lengthComputable,G.loaded,G.total)},D.onreadystatechange=()=>{D.readyState<2||D.readyState===4&&D.status===0||N||(N=!0,y.onheaders(D))},D.onload=()=>{D.status>=200&&D.status<300?y.onload(D):y.onerror(D)},D.onerror=()=>y.onerror(D),D.onabort=()=>{A=!0,y.onabort()},D.ontimeout=()=>y.ontimeout(D),D.open(h.method,c,!0),JO(h.timeout)&&(D.timeout=h.timeout),Object.keys(h.headers).forEach(G=>{const K=unescape(encodeURIComponent(h.headers[G]));D.setRequestHeader(G,K)}),h.responseType&&(D.responseType=h.responseType),h.withCredentials&&(D.withCredentials=!0),D.send(a),y},kl=(a,c,h,y)=>({type:a,code:c,body:h,headers:y}),iA=a=>c=>{a(kl("error",0,"Timeout",c.getAllResponseHeaders()))},kX=a=>/\?/.test(a),YM=(...a)=>{let c="";return a.forEach(h=>{c+=kX(c)&&kX(h)?h.replace(/\?/,"&"):h}),c},Wj=(a="",c)=>{if(typeof c=="function")return c;if(!c||!vh(c.url))return null;const h=c.onload||(A=>A),y=c.onerror||(A=>null);return(A,N,D,U,G,K)=>{const Q=rA(A,YM(a,c.url),{...c,responseType:"blob"});return Q.onload=ie=>{const _e=ie.getAllResponseHeaders(),ve=QZ(_e).name||sk(A);N(kl("load",ie.status,c.method==="HEAD"?null:zO(h(ie.response),ve),_e))},Q.onerror=ie=>{D(kl("error",ie.status,y(ie.response)||ie.statusText,ie.getAllResponseHeaders()))},Q.onheaders=ie=>{K(kl("headers",ie.status,null,ie.getAllResponseHeaders()))},Q.ontimeout=iA(D),Q.onprogress=U,Q.onabort=G,Q}},Zp={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},sse=(a,c,h,y,A,N,D,U,G,K,Q)=>{const ie=[],{chunkTransferId:_e,chunkServer:ve,chunkSize:de,chunkRetryDelays:fe}=Q,we={serverId:_e,aborted:!1},De=c.ondata||(wt=>wt),Me=c.onload||((wt,Ot)=>Ot==="HEAD"?wt.getResponseHeader("Upload-Offset"):wt.response),oe=c.onerror||(wt=>null),Be=wt=>{const Ot=new FormData;sd(A)&&Ot.append(h,JSON.stringify(A));const P=typeof c.headers=="function"?c.headers(y,A):{...c.headers,"Upload-Length":y.size},Rt={...c,headers:P},et=rA(De(Ot),YM(a,c.url),Rt);et.onload=qt=>wt(Me(qt,Rt.method)),et.onerror=qt=>D(kl("error",qt.status,oe(qt.response)||qt.statusText,qt.getAllResponseHeaders())),et.ontimeout=iA(D)},lt=wt=>{const Ot=YM(a,ve.url,we.serverId),Rt={headers:typeof c.headers=="function"?c.headers(we.serverId):{...c.headers},method:"HEAD"},et=rA(null,Ot,Rt);et.onload=qt=>wt(Me(qt,Rt.method)),et.onerror=qt=>D(kl("error",qt.status,oe(qt.response)||qt.statusText,qt.getAllResponseHeaders())),et.ontimeout=iA(D)},F=Math.floor(y.size/de);for(let wt=0;wt<=F;wt++){const Ot=wt*de,P=y.slice(Ot,Ot+de,"application/offset+octet-stream");ie[wt]={index:wt,size:P.size,offset:Ot,data:P,file:y,progress:0,retries:[...fe],status:Zp.QUEUED,error:null,request:null,timeout:null}}const Ee=()=>N(we.serverId),Ze=wt=>wt.status===Zp.QUEUED||wt.status===Zp.ERROR,ht=wt=>{if(we.aborted)return;if(wt=wt||ie.find(Ze),!wt){ie.every(Vt=>Vt.status===Zp.COMPLETE)&&Ee();return}wt.status=Zp.PROCESSING,wt.progress=null;const Ot=ve.ondata||(Vt=>Vt),P=ve.onerror||(Vt=>null),Rt=YM(a,ve.url,we.serverId),et=typeof ve.headers=="function"?ve.headers(wt):{...ve.headers,"Content-Type":"application/offset+octet-stream","Upload-Offset":wt.offset,"Upload-Length":y.size,"Upload-Name":y.name},qt=wt.request=rA(Ot(wt.data),Rt,{...ve,headers:et});qt.onload=()=>{wt.status=Zp.COMPLETE,wt.request=null,ge()},qt.onprogress=(Vt,Ge,vo)=>{wt.progress=Vt?Ge:null,Ne()},qt.onerror=Vt=>{wt.status=Zp.ERROR,wt.request=null,wt.error=P(Vt.response)||Vt.statusText,Et(wt)||D(kl("error",Vt.status,P(Vt.response)||Vt.statusText,Vt.getAllResponseHeaders()))},qt.ontimeout=Vt=>{wt.status=Zp.ERROR,wt.request=null,Et(wt)||iA(D)(Vt)},qt.onabort=()=>{wt.status=Zp.QUEUED,wt.request=null,G()}},Et=wt=>wt.retries.length===0?!1:(wt.status=Zp.WAITING,clearTimeout(wt.timeout),wt.timeout=setTimeout(()=>{ht(wt)},wt.retries.shift()),!0),Ne=()=>{const wt=ie.reduce((P,Rt)=>P===null||Rt.progress===null?null:P+Rt.progress,0);if(wt===null)return U(!1,0,0);const Ot=ie.reduce((P,Rt)=>P+Rt.size,0);U(!0,wt,Ot)},ge=()=>{ie.filter(Ot=>Ot.status===Zp.PROCESSING).length>=1||ht()},gn=()=>{ie.forEach(wt=>{clearTimeout(wt.timeout),wt.request&&wt.request.abort()})};return we.serverId?lt(wt=>{we.aborted||(ie.filter(Ot=>Ot.offset<wt).forEach(Ot=>{Ot.status=Zp.COMPLETE,Ot.progress=Ot.size}),ge())}):Be(wt=>{we.aborted||(K(wt),we.serverId=wt,ge())}),{abort:()=>{we.aborted=!0,gn()}}},rse=(a,c,h,y)=>(A,N,D,U,G,K,Q)=>{if(!A)return;const ie=y.chunkUploads,_e=ie&&A.size>y.chunkSize,ve=ie&&(_e||y.chunkForce);if(A instanceof Blob&&ve)return sse(a,c,h,A,N,D,U,G,K,Q,y);const de=c.ondata||(lt=>lt),fe=c.onload||(lt=>lt),we=c.onerror||(lt=>null),De=typeof c.headers=="function"?c.headers(A,N)||{}:{...c.headers},Me={...c,headers:De};var oe=new FormData;sd(N)&&oe.append(h,JSON.stringify(N)),(A instanceof Blob?[{name:null,file:A}]:A).forEach(lt=>{oe.append(h,lt.file,lt.name===null?lt.file.name:`${lt.name}${lt.file.name}`)});const Be=rA(de(oe),YM(a,c.url),Me);return Be.onload=lt=>{D(kl("load",lt.status,fe(lt.response),lt.getAllResponseHeaders()))},Be.onerror=lt=>{U(kl("error",lt.status,we(lt.response)||lt.statusText,lt.getAllResponseHeaders()))},Be.ontimeout=iA(U),Be.onprogress=G,Be.onabort=K,Be},ise=(a="",c,h,y)=>typeof c=="function"?(...A)=>c(h,...A,y):!c||!vh(c.url)?null:rse(a,c,h,y),WM=(a="",c)=>{if(typeof c=="function")return c;if(!c||!vh(c.url))return(A,N)=>N();const h=c.onload||(A=>A),y=c.onerror||(A=>null);return(A,N,D)=>{const U=rA(A,a+c.url,c);return U.onload=G=>{N(kl("load",G.status,h(G.response),G.getAllResponseHeaders()))},U.onerror=G=>{D(kl("error",G.status,y(G.response)||G.statusText,G.getAllResponseHeaders()))},U.ontimeout=iA(D),U}},xJ=(a=0,c=1)=>a+Math.random()*(c-a),ase=(a,c=1e3,h=0,y=25,A=250)=>{let N=null;const D=Date.now(),U=()=>{let G=Date.now()-D,K=xJ(y,A);G+K>c&&(K=G+K-c);let Q=G/c;if(Q>=1||document.hidden){a(1);return}a(Q),N=setTimeout(U,K)};return c>0&&U(),{clear:()=>{clearTimeout(N)}}},cse=(a,c)=>{const h={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},{allowMinimumUploadDuration:y}=c,A=(Q,ie)=>{const _e=()=>{h.duration===0||h.progress===null||K.fire("progress",K.getProgress())},ve=()=>{h.complete=!0,K.fire("load-perceived",h.response.body)};K.fire("start"),h.timestamp=Date.now(),h.perceivedPerformanceUpdater=ase(de=>{h.perceivedProgress=de,h.perceivedDuration=Date.now()-h.timestamp,_e(),h.response&&h.perceivedProgress===1&&!h.complete&&ve()},y?xJ(750,1500):0),h.request=a(Q,ie,de=>{h.response=sd(de)?de:{type:"load",code:200,body:`${de}`,headers:{}},h.duration=Date.now()-h.timestamp,h.progress=1,K.fire("load",h.response.body),(!y||y&&h.perceivedProgress===1)&&ve()},de=>{h.perceivedPerformanceUpdater.clear(),K.fire("error",sd(de)?de:{type:"error",code:0,body:`${de}`})},(de,fe,we)=>{h.duration=Date.now()-h.timestamp,h.progress=de?fe/we:null,_e()},()=>{h.perceivedPerformanceUpdater.clear(),K.fire("abort",h.response?h.response.body:null)},de=>{K.fire("transfer",de)})},N=()=>{h.request&&(h.perceivedPerformanceUpdater.clear(),h.request.abort&&h.request.abort(),h.complete=!0)},D=()=>{N(),h.complete=!1,h.perceivedProgress=0,h.progress=0,h.timestamp=null,h.perceivedDuration=0,h.duration=0,h.request=null,h.response=null},U=y?()=>h.progress?Math.min(h.progress,h.perceivedProgress):null:()=>h.progress||null,G=y?()=>Math.min(h.duration,h.perceivedDuration):()=>h.duration,K={...MH(),process:A,abort:N,getProgress:U,getDuration:G,reset:D};return K},OJ=a=>a.substring(0,a.lastIndexOf("."))||a,lse=a=>{let c=[a.name,a.size,a.type];return a instanceof Blob||_Z(a)?c[0]=a.name||CJ():_Z(a)?(c[1]=a.length,c[2]=AJ(a)):vh(a)&&(c[0]=sk(a),c[1]=0,c[2]="application/octet-stream"),{name:c[0],size:c[1],type:c[2]}},WO=a=>!!(a instanceof File||a instanceof Blob&&a.name),RJ=a=>{if(!sd(a))return a;const c=IH(a)?[]:{};for(const h in a){if(!a.hasOwnProperty(h))continue;const y=a[h];c[h]=y&&sd(y)?RJ(y):y}return c},use=(a=null,c=null,h=null)=>{const y=YZ(),A={archived:!1,frozen:!1,released:!1,source:null,file:h,serverFileReference:c,transferId:null,processingAborted:!1,status:c?Bs.PROCESSING_COMPLETE:Bs.INIT,activeLoader:null,activeProcessor:null};let N=null;const D={},U=Ze=>A.status=Ze,G=(Ze,...ht)=>{A.released||A.frozen||F.fire(Ze,...ht)},K=()=>kH(A.file.name),Q=()=>A.file.type,ie=()=>A.file.size,_e=()=>A.file,ve=(Ze,ht,Et)=>{if(A.source=Ze,F.fireSync("init"),A.file){F.fireSync("load-skip");return}A.file=lse(Ze),ht.on("init",()=>{G("load-init")}),ht.on("meta",Ne=>{A.file.size=Ne.size,A.file.filename=Ne.filename,Ne.source&&(a=xu.LIMBO,A.serverFileReference=Ne.source,A.status=Bs.PROCESSING_COMPLETE),G("load-meta")}),ht.on("progress",Ne=>{U(Bs.LOADING),G("load-progress",Ne)}),ht.on("error",Ne=>{U(Bs.LOAD_ERROR),G("load-request-error",Ne)}),ht.on("abort",()=>{U(Bs.INIT),G("load-abort")}),ht.on("load",Ne=>{A.activeLoader=null;const ge=wt=>{A.file=WO(wt)?wt:A.file,a===xu.LIMBO&&A.serverFileReference?U(Bs.PROCESSING_COMPLETE):U(Bs.IDLE),G("load")},gn=wt=>{A.file=Ne,G("load-meta"),U(Bs.LOAD_ERROR),G("load-file-error",wt)};if(A.serverFileReference){ge(Ne);return}Et(Ne,ge,gn)}),ht.setSource(Ze),A.activeLoader=ht,ht.load()},de=()=>{A.activeLoader&&A.activeLoader.load()},fe=()=>{if(A.activeLoader){A.activeLoader.abort();return}U(Bs.INIT),G("load-abort")},we=(Ze,ht)=>{if(A.processingAborted){A.processingAborted=!1;return}if(U(Bs.PROCESSING),N=null,!(A.file instanceof Blob)){F.on("load",()=>{we(Ze,ht)});return}Ze.on("load",ge=>{A.transferId=null,A.serverFileReference=ge}),Ze.on("transfer",ge=>{A.transferId=ge}),Ze.on("load-perceived",ge=>{A.activeProcessor=null,A.transferId=null,A.serverFileReference=ge,U(Bs.PROCESSING_COMPLETE),G("process-complete",ge)}),Ze.on("start",()=>{G("process-start")}),Ze.on("error",ge=>{A.activeProcessor=null,U(Bs.PROCESSING_ERROR),G("process-error",ge)}),Ze.on("abort",ge=>{A.activeProcessor=null,A.serverFileReference=ge,U(Bs.IDLE),G("process-abort"),N&&N()}),Ze.on("progress",ge=>{G("process-progress",ge)});const Et=ge=>{A.archived||Ze.process(ge,{...D})},Ne=console.error;ht(A.file,Et,Ne),A.activeProcessor=Ze},De=()=>{A.processingAborted=!1,U(Bs.PROCESSING_QUEUED)},Me=()=>new Promise(Ze=>{if(!A.activeProcessor){A.processingAborted=!0,U(Bs.IDLE),G("process-abort"),Ze();return}N=()=>{Ze()},A.activeProcessor.abort()}),oe=(Ze,ht)=>new Promise((Et,Ne)=>{const ge=A.serverFileReference!==null?A.serverFileReference:A.transferId;if(ge===null){Et();return}Ze(ge,()=>{A.serverFileReference=null,A.transferId=null,Et()},gn=>{if(!ht){Et();return}U(Bs.PROCESSING_REVERT_ERROR),G("process-revert-error"),Ne(gn)}),U(Bs.IDLE),G("process-revert")}),Be=(Ze,ht,Et)=>{const Ne=Ze.split("."),ge=Ne[0],gn=Ne.pop();let wt=D;Ne.forEach(Ot=>wt=wt[Ot]),JSON.stringify(wt[gn])!==JSON.stringify(ht)&&(wt[gn]=ht,G("metadata-update",{key:ge,value:D[ge],silent:Et}))},F={id:{get:()=>y},origin:{get:()=>a,set:Ze=>a=Ze},serverId:{get:()=>A.serverFileReference},transferId:{get:()=>A.transferId},status:{get:()=>A.status},filename:{get:()=>A.file.name},filenameWithoutExtension:{get:()=>OJ(A.file.name)},fileExtension:{get:K},fileType:{get:Q},fileSize:{get:ie},file:{get:_e},relativePath:{get:()=>A.file._relativePath},source:{get:()=>A.source},getMetadata:Ze=>RJ(Ze?D[Ze]:D),setMetadata:(Ze,ht,Et)=>{if(sd(Ze)){const Ne=Ze;return Object.keys(Ne).forEach(ge=>{Be(ge,Ne[ge],ht)}),Ze}return Be(Ze,ht,Et),ht},extend:(Ze,ht)=>Ee[Ze]=ht,abortLoad:fe,retryLoad:de,requestProcessing:De,abortProcessing:Me,load:ve,process:we,revert:oe,...MH(),freeze:()=>A.frozen=!0,release:()=>A.released=!0,released:{get:()=>A.released},archive:()=>A.archived=!0,archived:{get:()=>A.archived}},Ee=Dw(F);return Ee},dse=(a,c)=>a_(c)?0:vh(c)?a.findIndex(h=>h.id===c):-1,PX=(a,c)=>{const h=dse(a,c);if(!(h<0))return a[h]||null},LX=(a,c,h,y,A,N)=>{const D=rA(null,a,{method:"GET",responseType:"blob"});return D.onload=U=>{const G=U.getAllResponseHeaders(),K=QZ(G).name||sk(a);c(kl("load",U.status,zO(U.response,K),G))},D.onerror=U=>{h(kl("error",U.status,U.statusText,U.getAllResponseHeaders()))},D.onheaders=U=>{N(kl("headers",U.status,null,U.getAllResponseHeaders()))},D.ontimeout=iA(h),D.onprogress=y,D.onabort=A,D},$X=a=>(a.indexOf("//")===0&&(a=location.protocol+a),a.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]),fse=a=>(a.indexOf(":")>-1||a.indexOf("//")>-1)&&$X(location.href)!==$X(a),U5=a=>(...c)=>tA(a)?a(...c):a,hse=a=>!WO(a.file),Gj=(a,c)=>{clearTimeout(c.listUpdateTimeout),c.listUpdateTimeout=setTimeout(()=>{a("DID_UPDATE_ITEMS",{items:bv(c.items)})},0)},BX=(a,...c)=>new Promise(h=>{if(!a)return h(!0);const y=a(...c);if(y==null)return h(!0);if(typeof y=="boolean")return h(y);typeof y.then=="function"&&y.then(h)}),qj=(a,c)=>{a.items.sort((h,y)=>c(_m(h),_m(y)))},Yp=(a,c)=>({query:h,success:y=()=>{},failure:A=()=>{},...N}={})=>{const D=nA(a.items,h);if(!D){A({error:kl("error",0,"Item not found"),file:null});return}c(D,y,A,N||{})},mse=(a,c,h)=>({ABORT_ALL:()=>{bv(h.items).forEach(y=>{y.freeze(),y.abortLoad(),y.abortProcessing()})},DID_SET_FILES:({value:y=[]})=>{const A=y.map(D=>({source:D.source?D.source:D,options:D.options}));let N=bv(h.items);N.forEach(D=>{A.find(U=>U.source===D.source||U.source===D.file)||a("REMOVE_ITEM",{query:D,remove:!1})}),N=bv(h.items),A.forEach((D,U)=>{N.find(G=>G.source===D.source||G.file===D.source)||a("ADD_ITEM",{...D,interactionMethod:Qp.NONE,index:U})})},DID_UPDATE_ITEM_METADATA:({id:y,action:A,change:N})=>{N.silent||(clearTimeout(h.itemUpdateTimeout),h.itemUpdateTimeout=setTimeout(()=>{const D=PX(h.items,y);if(!c("IS_ASYNC")){vv("SHOULD_PREPARE_OUTPUT",!1,{item:D,query:c,action:A,change:N}).then(Q=>{const ie=c("GET_BEFORE_PREPARE_FILE");ie&&(Q=ie(D,Q)),Q&&a("REQUEST_PREPARE_OUTPUT",{query:y,item:D,success:_e=>{a("DID_PREPARE_OUTPUT",{id:y,file:_e})}},!0)});return}D.origin===xu.LOCAL&&a("DID_LOAD_ITEM",{id:D.id,error:null,serverFileReference:D.source});const U=()=>{setTimeout(()=>{a("REQUEST_ITEM_PROCESSING",{query:y})},32)},G=Q=>{D.revert(WM(h.options.server.url,h.options.server.revert),c("GET_FORCE_REVERT")).then(Q?U:()=>{}).catch(()=>{})},K=Q=>{D.abortProcessing().then(Q?U:()=>{})};if(D.status===Bs.PROCESSING_COMPLETE)return G(h.options.instantUpload);if(D.status===Bs.PROCESSING)return K(h.options.instantUpload);h.options.instantUpload&&U()},0))},MOVE_ITEM:({query:y,index:A})=>{const N=nA(h.items,y);if(!N)return;const D=h.items.indexOf(N);A=TJ(A,0,h.items.length-1),D!==A&&h.items.splice(A,0,h.items.splice(D,1)[0])},SORT:({compare:y})=>{qj(h,y),a("DID_SORT_ITEMS",{items:c("GET_ACTIVE_ITEMS")})},ADD_ITEMS:({items:y,index:A,interactionMethod:N,success:D=()=>{},failure:U=()=>{}})=>{let G=A;if(A===-1||typeof A>"u"){const ve=c("GET_ITEM_INSERT_LOCATION"),de=c("GET_TOTAL_ITEMS");G=ve==="before"?0:de}const K=c("GET_IGNORED_FILES"),Q=ve=>WO(ve)?!K.includes(ve.name.toLowerCase()):!a_(ve),_e=y.filter(Q).map(ve=>new Promise((de,fe)=>{a("ADD_ITEM",{interactionMethod:N,source:ve.source||ve,success:de,failure:fe,index:G++,options:ve.options||{}})}));Promise.all(_e).then(D).catch(U)},ADD_ITEM:({source:y,index:A=-1,interactionMethod:N,success:D=()=>{},failure:U=()=>{},options:G={}})=>{if(a_(y)){U({error:kl("error",0,"No source"),file:null});return}if(WO(y)&&h.options.ignoredFiles.includes(y.name.toLowerCase()))return;if(!Woe(h)){if(h.options.allowMultiple||!h.options.allowMultiple&&!h.options.allowReplace){const Me=kl("warning",0,"Max files");a("DID_THROW_MAX_FILES",{source:y,error:Me}),U({error:Me,file:null});return}const De=bv(h.items)[0];if(De.status===Bs.PROCESSING_COMPLETE||De.status===Bs.PROCESSING_REVERT_ERROR){const Me=c("GET_FORCE_REVERT");if(De.revert(WM(h.options.server.url,h.options.server.revert),Me).then(()=>{Me&&a("ADD_ITEM",{source:y,index:A,interactionMethod:N,success:D,failure:U,options:G})}).catch(()=>{}),Me)return}a("REMOVE_ITEM",{query:De.id})}const K=G.type==="local"?xu.LOCAL:G.type==="limbo"?xu.LIMBO:xu.INPUT,Q=use(K,K===xu.INPUT?null:y,G.file);Object.keys(G.metadata||{}).forEach(De=>{Q.setMetadata(De,G.metadata[De])}),dA("DID_CREATE_ITEM",Q,{query:c,dispatch:a});const ie=c("GET_ITEM_INSERT_LOCATION");h.options.itemInsertLocationFreedom||(A=ie==="before"?-1:h.items.length),qoe(h.items,Q,A),tA(ie)&&y&&qj(h,ie);const _e=Q.id;Q.on("init",()=>{a("DID_INIT_ITEM",{id:_e})}),Q.on("load-init",()=>{a("DID_START_ITEM_LOAD",{id:_e})}),Q.on("load-meta",()=>{a("DID_UPDATE_ITEM_META",{id:_e})}),Q.on("load-progress",De=>{a("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:_e,progress:De})}),Q.on("load-request-error",De=>{const Me=U5(h.options.labelFileLoadError)(De);if(De.code>=400&&De.code<500){a("DID_THROW_ITEM_INVALID",{id:_e,error:De,status:{main:Me,sub:`${De.code} (${De.body})`}}),U({error:De,file:_m(Q)});return}a("DID_THROW_ITEM_LOAD_ERROR",{id:_e,error:De,status:{main:Me,sub:h.options.labelTapToRetry}})}),Q.on("load-file-error",De=>{a("DID_THROW_ITEM_INVALID",{id:_e,error:De.status,status:De.status}),U({error:De.status,file:_m(Q)})}),Q.on("load-abort",()=>{a("REMOVE_ITEM",{query:_e})}),Q.on("load-skip",()=>{a("COMPLETE_LOAD_ITEM",{query:_e,item:Q,data:{source:y,success:D}})}),Q.on("load",()=>{const De=Me=>{if(!Me){a("REMOVE_ITEM",{query:_e});return}Q.on("metadata-update",oe=>{a("DID_UPDATE_ITEM_METADATA",{id:_e,change:oe})}),vv("SHOULD_PREPARE_OUTPUT",!1,{item:Q,query:c}).then(oe=>{const Be=c("GET_BEFORE_PREPARE_FILE");Be&&(oe=Be(Q,oe));const lt=()=>{a("COMPLETE_LOAD_ITEM",{query:_e,item:Q,data:{source:y,success:D}}),Gj(a,h)};if(oe){a("REQUEST_PREPARE_OUTPUT",{query:_e,item:Q,success:F=>{a("DID_PREPARE_OUTPUT",{id:_e,file:F}),lt()}},!0);return}lt()})};vv("DID_LOAD_ITEM",Q,{query:c,dispatch:a}).then(()=>{BX(c("GET_BEFORE_ADD_FILE"),_m(Q)).then(De)}).catch(Me=>{if(!Me||!Me.error||!Me.status)return De(!1);a("DID_THROW_ITEM_INVALID",{id:_e,error:Me.error,status:Me.status})})}),Q.on("process-start",()=>{a("DID_START_ITEM_PROCESSING",{id:_e})}),Q.on("process-progress",De=>{a("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:_e,progress:De})}),Q.on("process-error",De=>{a("DID_THROW_ITEM_PROCESSING_ERROR",{id:_e,error:De,status:{main:U5(h.options.labelFileProcessingError)(De),sub:h.options.labelTapToRetry}})}),Q.on("process-revert-error",De=>{a("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:_e,error:De,status:{main:U5(h.options.labelFileProcessingRevertError)(De),sub:h.options.labelTapToRetry}})}),Q.on("process-complete",De=>{a("DID_COMPLETE_ITEM_PROCESSING",{id:_e,error:null,serverFileReference:De}),a("DID_DEFINE_VALUE",{id:_e,value:De})}),Q.on("process-abort",()=>{a("DID_ABORT_ITEM_PROCESSING",{id:_e})}),Q.on("process-revert",()=>{a("DID_REVERT_ITEM_PROCESSING",{id:_e}),a("DID_DEFINE_VALUE",{id:_e,value:null})}),a("DID_ADD_ITEM",{id:_e,index:A,interactionMethod:N}),Gj(a,h);const{url:ve,load:de,restore:fe,fetch:we}=h.options.server||{};Q.load(y,ose(K===xu.INPUT?vh(y)&&fse(y)&&we?Wj(ve,we):LX:K===xu.LIMBO?Wj(ve,fe):Wj(ve,de)),(De,Me,oe)=>{vv("LOAD_FILE",De,{query:c}).then(Me).catch(oe)})},REQUEST_PREPARE_OUTPUT:({item:y,success:A,failure:N=()=>{}})=>{const D={error:kl("error",0,"Item not found"),file:null};if(y.archived)return N(D);vv("PREPARE_OUTPUT",y.file,{query:c,item:y}).then(U=>{vv("COMPLETE_PREPARE_OUTPUT",U,{query:c,item:y}).then(G=>{if(y.archived)return N(D);A(G)})})},COMPLETE_LOAD_ITEM:({item:y,data:A})=>{const{success:N,source:D}=A,U=c("GET_ITEM_INSERT_LOCATION");if(tA(U)&&D&&qj(h,U),a("DID_LOAD_ITEM",{id:y.id,error:null,serverFileReference:y.origin===xu.INPUT?null:D}),N(_m(y)),y.origin===xu.LOCAL){a("DID_LOAD_LOCAL_ITEM",{id:y.id});return}if(y.origin===xu.LIMBO){a("DID_COMPLETE_ITEM_PROCESSING",{id:y.id,error:null,serverFileReference:D}),a("DID_DEFINE_VALUE",{id:y.id,value:y.serverId||D});return}c("IS_ASYNC")&&h.options.instantUpload&&a("REQUEST_ITEM_PROCESSING",{query:y.id})},RETRY_ITEM_LOAD:Yp(h,y=>{y.retryLoad()}),REQUEST_ITEM_PREPARE:Yp(h,(y,A,N)=>{a("REQUEST_PREPARE_OUTPUT",{query:y.id,item:y,success:D=>{a("DID_PREPARE_OUTPUT",{id:y.id,file:D}),A({file:y,output:D})},failure:N},!0)}),REQUEST_ITEM_PROCESSING:Yp(h,(y,A,N)=>{if(!(y.status===Bs.IDLE||y.status===Bs.PROCESSING_ERROR)){const U=()=>a("REQUEST_ITEM_PROCESSING",{query:y,success:A,failure:N}),G=()=>document.hidden?U():setTimeout(U,32);y.status===Bs.PROCESSING_COMPLETE||y.status===Bs.PROCESSING_REVERT_ERROR?y.revert(WM(h.options.server.url,h.options.server.revert),c("GET_FORCE_REVERT")).then(G).catch(()=>{}):y.status===Bs.PROCESSING&&y.abortProcessing().then(G);return}y.status!==Bs.PROCESSING_QUEUED&&(y.requestProcessing(),a("DID_REQUEST_ITEM_PROCESSING",{id:y.id}),a("PROCESS_ITEM",{query:y,success:A,failure:N},!0))}),PROCESS_ITEM:Yp(h,(y,A,N)=>{const D=c("GET_MAX_PARALLEL_UPLOADS");if(c("GET_ITEMS_BY_STATUS",Bs.PROCESSING).length===D){h.processingQueue.push({id:y.id,success:A,failure:N});return}if(y.status===Bs.PROCESSING)return;const G=()=>{const Q=h.processingQueue.shift();if(!Q)return;const{id:ie,success:_e,failure:ve}=Q,de=nA(h.items,ie);if(!de||de.archived){G();return}a("PROCESS_ITEM",{query:ie,success:_e,failure:ve},!0)};y.onOnce("process-complete",()=>{A(_m(y)),G();const Q=h.options.server;if(h.options.instantUpload&&y.origin===xu.LOCAL&&tA(Q.remove)){const ve=()=>{};y.origin=xu.LIMBO,h.options.server.remove(y.source,ve,ve)}c("GET_ITEMS_BY_STATUS",Bs.PROCESSING_COMPLETE).length===h.items.length&&a("DID_COMPLETE_ITEM_PROCESSING_ALL")}),y.onOnce("process-error",Q=>{N({error:Q,file:_m(y)}),G()});const K=h.options;y.process(cse(ise(K.server.url,K.server.process,K.name,{chunkTransferId:y.transferId,chunkServer:K.server.patch,chunkUploads:K.chunkUploads,chunkForce:K.chunkForce,chunkSize:K.chunkSize,chunkRetryDelays:K.chunkRetryDelays}),{allowMinimumUploadDuration:c("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),(Q,ie,_e)=>{vv("PREPARE_OUTPUT",Q,{query:c,item:y}).then(ve=>{a("DID_PREPARE_OUTPUT",{id:y.id,file:ve}),ie(ve)}).catch(_e)})}),RETRY_ITEM_PROCESSING:Yp(h,y=>{a("REQUEST_ITEM_PROCESSING",{query:y})}),REQUEST_REMOVE_ITEM:Yp(h,y=>{BX(c("GET_BEFORE_REMOVE_FILE"),_m(y)).then(A=>{A&&a("REMOVE_ITEM",{query:y})})}),RELEASE_ITEM:Yp(h,y=>{y.release()}),REMOVE_ITEM:Yp(h,(y,A,N,D)=>{const U=()=>{const K=y.id;PX(h.items,K).archive(),a("DID_REMOVE_ITEM",{error:null,id:K,item:y}),Gj(a,h),A(_m(y))},G=h.options.server;y.origin===xu.LOCAL&&G&&tA(G.remove)&&D.remove!==!1?(a("DID_START_ITEM_REMOVE",{id:y.id}),G.remove(y.source,()=>U(),K=>{a("DID_THROW_ITEM_REMOVE_ERROR",{id:y.id,error:kl("error",0,K,null),status:{main:U5(h.options.labelFileRemoveError)(K),sub:h.options.labelTapToRetry}})})):((D.revert&&y.origin!==xu.LOCAL&&y.serverId!==null||h.options.chunkUploads&&y.file.size>h.options.chunkSize||h.options.chunkUploads&&h.options.chunkForce)&&y.revert(WM(h.options.server.url,h.options.server.revert),c("GET_FORCE_REVERT")),U())}),ABORT_ITEM_LOAD:Yp(h,y=>{y.abortLoad()}),ABORT_ITEM_PROCESSING:Yp(h,y=>{if(y.serverId){a("REVERT_ITEM_PROCESSING",{id:y.id});return}y.abortProcessing().then(()=>{h.options.instantUpload&&a("REMOVE_ITEM",{query:y.id})})}),REQUEST_REVERT_ITEM_PROCESSING:Yp(h,y=>{if(!h.options.instantUpload){a("REVERT_ITEM_PROCESSING",{query:y});return}const A=U=>{U&&a("REVERT_ITEM_PROCESSING",{query:y})},N=c("GET_BEFORE_REMOVE_FILE");if(!N)return A(!0);const D=N(_m(y));if(D==null)return A(!0);if(typeof D=="boolean")return A(D);typeof D.then=="function"&&D.then(A)}),REVERT_ITEM_PROCESSING:Yp(h,y=>{y.revert(WM(h.options.server.url,h.options.server.revert),c("GET_FORCE_REVERT")).then(()=>{(h.options.instantUpload||hse(y))&&a("REMOVE_ITEM",{query:y.id})}).catch(()=>{})}),SET_OPTIONS:({options:y})=>{const A=Object.keys(y),N=gse.filter(U=>A.includes(U));[...N,...Object.keys(y).filter(U=>!N.includes(U))].forEach(U=>{a(`SET_${NH(U,"_").toUpperCase()}`,{value:y[U]})})}}),gse=["server"],JZ=a=>a,c_=a=>document.createElement(a),Pl=(a,c)=>{let h=a.childNodes[0];h?c!==h.nodeValue&&(h.nodeValue=c):(h=document.createTextNode(c),a.appendChild(h))},FX=(a,c,h,y)=>{const A=(y%360-90)*Math.PI/180;return{x:a+h*Math.cos(A),y:c+h*Math.sin(A)}},pse=(a,c,h,y,A,N)=>{const D=FX(a,c,h,A),U=FX(a,c,h,y);return["M",D.x,D.y,"A",h,h,0,N,0,U.x,U.y].join(" ")},vse=(a,c,h,y,A)=>{let N=1;return A>y&&A-y<=.5&&(N=0),y>A&&y-A>=.5&&(N=0),pse(a,c,h,Math.min(.9999,y)*360,Math.min(.9999,A)*360,N)},bse=({root:a,props:c})=>{c.spin=!1,c.progress=0,c.opacity=0;const h=bH("svg");a.ref.path=bH("path",{"stroke-width":2,"stroke-linecap":"round"}),h.appendChild(a.ref.path),a.ref.svg=h,a.appendChild(h)},yse=({root:a,props:c})=>{if(c.opacity===0)return;c.align&&(a.element.dataset.align=c.align);const h=parseInt(ru(a.ref.path,"stroke-width"),10),y=a.rect.element.width*.5;let A=0,N=0;c.spin?(A=0,N=.5):(A=0,N=c.progress);const D=vse(y,y,y-h,A,N);ru(a.ref.path,"d",D),ru(a.ref.path,"stroke-opacity",c.spin||c.progress>0?1:0)},HX=iu({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:bse,write:yse,mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),_se=({root:a,props:c})=>{a.element.innerHTML=(c.icon||"")+`<span>${c.label}</span>`,c.isDisabled=!1},Ese=({root:a,props:c})=>{const{isDisabled:h}=c,y=a.query("GET_DISABLED")||c.opacity===0;y&&!h?(c.isDisabled=!0,ru(a.element,"disabled","disabled")):!y&&h&&(c.isDisabled=!1,a.element.removeAttribute("disabled"))},IJ=iu({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:_se,write:Ese}),DJ=(a,c=".",h=1e3,y={})=>{const{labelBytes:A="bytes",labelKilobytes:N="KB",labelMegabytes:D="MB",labelGigabytes:U="GB"}=y;a=Math.round(Math.abs(a));const G=h,K=h*h,Q=h*h*h;return a<G?`${a} ${A}`:a<K?`${Math.floor(a/G)} ${N}`:a<Q?`${VX(a/K,1,c)} ${D}`:`${VX(a/Q,2,c)} ${U}`},VX=(a,c,h)=>a.toFixed(c).split(".").filter(y=>y!=="0").join(h),wse=({root:a,props:c})=>{const h=c_("span");h.className="filepond--file-info-main",ru(h,"aria-hidden","true"),a.appendChild(h),a.ref.fileName=h;const y=c_("span");y.className="filepond--file-info-sub",a.appendChild(y),a.ref.fileSize=y,Pl(y,a.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),Pl(h,JZ(a.query("GET_ITEM_NAME",c.id)))},EZ=({root:a,props:c})=>{Pl(a.ref.fileSize,DJ(a.query("GET_ITEM_SIZE",c.id),".",a.query("GET_FILE_SIZE_BASE"),a.query("GET_FILE_SIZE_LABELS",a.query))),Pl(a.ref.fileName,JZ(a.query("GET_ITEM_NAME",c.id)))},UX=({root:a,props:c})=>{if(JO(a.query("GET_ITEM_SIZE",c.id))){EZ({root:a,props:c});return}Pl(a.ref.fileSize,a.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},Tse=iu({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:bh({DID_LOAD_ITEM:EZ,DID_UPDATE_ITEM_META:EZ,DID_THROW_ITEM_LOAD_ERROR:UX,DID_THROW_ITEM_INVALID:UX}),didCreateView:a=>{dA("CREATE_VIEW",{...a,view:a})},create:wse,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),NJ=a=>Math.round(a*100),Cse=({root:a})=>{const c=c_("span");c.className="filepond--file-status-main",a.appendChild(c),a.ref.main=c;const h=c_("span");h.className="filepond--file-status-sub",a.appendChild(h),a.ref.sub=h,MJ({root:a,action:{progress:null}})},MJ=({root:a,action:c})=>{const h=c.progress===null?a.query("GET_LABEL_FILE_LOADING"):`${a.query("GET_LABEL_FILE_LOADING")} ${NJ(c.progress)}%`;Pl(a.ref.main,h),Pl(a.ref.sub,a.query("GET_LABEL_TAP_TO_CANCEL"))},Sse=({root:a,action:c})=>{const h=c.progress===null?a.query("GET_LABEL_FILE_PROCESSING"):`${a.query("GET_LABEL_FILE_PROCESSING")} ${NJ(c.progress)}%`;Pl(a.ref.main,h),Pl(a.ref.sub,a.query("GET_LABEL_TAP_TO_CANCEL"))},Ase=({root:a})=>{Pl(a.ref.main,a.query("GET_LABEL_FILE_PROCESSING")),Pl(a.ref.sub,a.query("GET_LABEL_TAP_TO_CANCEL"))},xse=({root:a})=>{Pl(a.ref.main,a.query("GET_LABEL_FILE_PROCESSING_ABORTED")),Pl(a.ref.sub,a.query("GET_LABEL_TAP_TO_RETRY"))},Ose=({root:a})=>{Pl(a.ref.main,a.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),Pl(a.ref.sub,a.query("GET_LABEL_TAP_TO_UNDO"))},zX=({root:a})=>{Pl(a.ref.main,""),Pl(a.ref.sub,"")},GM=({root:a,action:c})=>{Pl(a.ref.main,c.status.main),Pl(a.ref.sub,c.status.sub)},Rse=iu({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:bh({DID_LOAD_ITEM:zX,DID_REVERT_ITEM_PROCESSING:zX,DID_REQUEST_ITEM_PROCESSING:Ase,DID_ABORT_ITEM_PROCESSING:xse,DID_COMPLETE_ITEM_PROCESSING:Ose,DID_UPDATE_ITEM_PROCESS_PROGRESS:Sse,DID_UPDATE_ITEM_LOAD_PROGRESS:MJ,DID_THROW_ITEM_LOAD_ERROR:GM,DID_THROW_ITEM_INVALID:GM,DID_THROW_ITEM_PROCESSING_ERROR:GM,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:GM,DID_THROW_ITEM_REMOVE_ERROR:GM}),didCreateView:a=>{dA("CREATE_VIEW",{...a,view:a})},create:Cse,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),wZ={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},TZ=[];dl(wZ,a=>{TZ.push(a)});const kg=a=>{if(CZ(a)==="right")return 0;const c=a.ref.buttonRemoveItem.rect.element;return c.hidden?null:c.width+c.left},Ise=a=>a.ref.buttonAbortItemLoad.rect.element.width,z5=a=>Math.floor(a.ref.buttonRemoveItem.rect.element.height/4),Dse=a=>Math.floor(a.ref.buttonRemoveItem.rect.element.left/2),Nse=a=>a.query("GET_STYLE_LOAD_INDICATOR_POSITION"),Mse=a=>a.query("GET_STYLE_PROGRESS_INDICATOR_POSITION"),CZ=a=>a.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION"),kse={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:Nse},processProgressIndicator:{opacity:0,align:Mse},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},WX={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:kg},status:{translateX:kg}},jj={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},PO={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:kg},status:{translateX:kg,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:kg},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:CZ},info:{translateX:kg},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:CZ},buttonRemoveItem:{opacity:1},info:{translateX:kg},status:{opacity:1,translateX:kg}},DID_LOAD_ITEM:WX,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:kg},status:{translateX:kg}},DID_START_ITEM_PROCESSING:jj,DID_REQUEST_ITEM_PROCESSING:jj,DID_UPDATE_ITEM_PROCESS_PROGRESS:jj,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:kg}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:kg},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:WX},Pse=iu({create:({root:a})=>{a.element.innerHTML=a.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),Lse=({root:a,props:c})=>{const h=Object.keys(wZ).reduce((de,fe)=>(de[fe]={...wZ[fe]},de),{}),{id:y}=c,A=a.query("GET_ALLOW_REVERT"),N=a.query("GET_ALLOW_REMOVE"),D=a.query("GET_ALLOW_PROCESS"),U=a.query("GET_INSTANT_UPLOAD"),G=a.query("IS_ASYNC"),K=a.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");let Q;G?D&&!A?Q=de=>!/RevertItemProcessing/.test(de):!D&&A?Q=de=>!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(de):!D&&!A&&(Q=de=>!/Process/.test(de)):Q=de=>!/Process/.test(de);const ie=Q?TZ.filter(Q):TZ.concat();if(U&&A&&(h.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",h.RevertItemProcessing.icon="GET_ICON_REMOVE"),G&&!A){const de=PO.DID_COMPLETE_ITEM_PROCESSING;de.info.translateX=Dse,de.info.translateY=z5,de.status.translateY=z5,de.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(G&&!D&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(de=>{PO[de].status.translateY=z5}),PO.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=Ise),K&&A){h.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";const de=PO.DID_COMPLETE_ITEM_PROCESSING;de.info.translateX=kg,de.status.translateY=z5,de.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}N||(h.RemoveItem.disabled=!0),dl(h,(de,fe)=>{const we=a.createChildView(IJ,{label:a.query(fe.label),icon:a.query(fe.icon),opacity:0});ie.includes(de)&&a.appendChildView(we),fe.disabled&&(we.element.setAttribute("disabled","disabled"),we.element.setAttribute("hidden","hidden")),we.element.dataset.align=a.query(`GET_STYLE_${fe.align}`),we.element.classList.add(fe.className),we.on("click",De=>{De.stopPropagation(),!fe.disabled&&a.dispatch(fe.action,{query:y})}),a.ref[`button${de}`]=we}),a.ref.processingCompleteIndicator=a.appendChildView(a.createChildView(Pse)),a.ref.processingCompleteIndicator.element.dataset.align=a.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),a.ref.info=a.appendChildView(a.createChildView(Tse,{id:y})),a.ref.status=a.appendChildView(a.createChildView(Rse,{id:y}));const _e=a.appendChildView(a.createChildView(HX,{opacity:0,align:a.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));_e.element.classList.add("filepond--load-indicator"),a.ref.loadProgressIndicator=_e;const ve=a.appendChildView(a.createChildView(HX,{opacity:0,align:a.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));ve.element.classList.add("filepond--process-indicator"),a.ref.processProgressIndicator=ve,a.ref.activeStyles=[]},$se=({root:a,actions:c,props:h})=>{Bse({root:a,actions:c,props:h});let y=c.concat().filter(A=>/^DID_/.test(A.type)).reverse().find(A=>PO[A.type]);if(y){a.ref.activeStyles=[];const A=PO[y.type];dl(kse,(N,D)=>{const U=a.ref[N];dl(D,(G,K)=>{const Q=A[N]&&typeof A[N][G]<"u"?A[N][G]:K;a.ref.activeStyles.push({control:U,key:G,value:Q})})})}a.ref.activeStyles.forEach(({control:A,key:N,value:D})=>{A[N]=typeof D=="function"?D(a):D})},Bse=bh({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:({root:a,action:c})=>{a.ref.buttonAbortItemProcessing.label=c.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:({root:a,action:c})=>{a.ref.buttonAbortItemLoad.label=c.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:({root:a,action:c})=>{a.ref.buttonAbortItemRemoval.label=c.value},DID_REQUEST_ITEM_PROCESSING:({root:a})=>{a.ref.processProgressIndicator.spin=!0,a.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:({root:a})=>{a.ref.loadProgressIndicator.spin=!0,a.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:({root:a})=>{a.ref.processProgressIndicator.spin=!0,a.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:({root:a,action:c})=>{a.ref.loadProgressIndicator.spin=!1,a.ref.loadProgressIndicator.progress=c.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:({root:a,action:c})=>{a.ref.processProgressIndicator.spin=!1,a.ref.processProgressIndicator.progress=c.progress}}),Fse=iu({create:Lse,write:$se,didCreateView:a=>{dA("CREATE_VIEW",{...a,view:a})},name:"file"}),Hse=({root:a,props:c})=>{a.ref.fileName=c_("legend"),a.appendChild(a.ref.fileName),a.ref.file=a.appendChildView(a.createChildView(Fse,{id:c.id})),a.ref.data=!1},Vse=({root:a,props:c})=>{Pl(a.ref.fileName,JZ(a.query("GET_ITEM_NAME",c.id)))},Use=iu({create:Hse,ignoreRect:!0,write:bh({DID_LOAD_ITEM:Vse}),didCreateView:a=>{dA("CREATE_VIEW",{...a,view:a})},tag:"fieldset",name:"file-wrapper"}),GX={type:"spring",damping:.6,mass:7},zse=({root:a,props:c})=>{[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:GX},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:GX},styles:["translateY"]}}].forEach(h=>{Wse(a,h,c.name)}),a.element.classList.add(`filepond--${c.name}`),a.ref.scalable=null},Wse=(a,c,h)=>{const y=iu({name:`panel-${c.name} filepond--${h}`,mixins:c.mixins,ignoreRectUpdate:!0}),A=a.createChildView(y,c.props);a.ref[c.name]=a.appendChildView(A)},Gse=({root:a,props:c})=>{if((a.ref.scalable===null||c.scalable!==a.ref.scalable)&&(a.ref.scalable=mJ(c.scalable)?c.scalable:!0,a.element.dataset.scalable=a.ref.scalable),!c.height)return;const h=a.ref.top.rect.element,y=a.ref.bottom.rect.element,A=Math.max(h.height+y.height,c.height);a.ref.center.translateY=h.height,a.ref.center.scaleY=(A-h.height-y.height)/100,a.ref.bottom.translateY=A-y.height},kJ=iu({name:"panel",read:({root:a,props:c})=>c.heightCurrent=a.ref.bottom.translateY,write:Gse,create:zse,ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),qse=a=>{const c=a.map(y=>y.id);let h;return{setIndex:y=>{h=y},getIndex:()=>h,getItemIndex:y=>c.indexOf(y.id)}},qX={type:"spring",stiffness:.75,damping:.45,mass:10},jX="spring",ZX={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},jse=({root:a,props:c})=>{if(a.ref.handleClick=y=>a.dispatch("DID_ACTIVATE_ITEM",{id:c.id}),a.element.id=`filepond--item-${c.id}`,a.element.addEventListener("click",a.ref.handleClick),a.ref.container=a.appendChildView(a.createChildView(Use,{id:c.id})),a.ref.panel=a.appendChildView(a.createChildView(kJ,{name:"item-panel"})),a.ref.panel.height=null,c.markedForRemoval=!1,!a.query("GET_ALLOW_REORDER"))return;a.element.dataset.dragState="idle";const h=y=>{if(!y.isPrimary)return;let A=!1;const N={x:y.pageX,y:y.pageY};c.dragOrigin={x:a.translateX,y:a.translateY},c.dragCenter={x:y.offsetX,y:y.offsetY};const D=qse(a.query("GET_ACTIVE_ITEMS"));a.dispatch("DID_GRAB_ITEM",{id:c.id,dragState:D});const U=K=>{if(!K.isPrimary)return;K.stopPropagation(),K.preventDefault(),c.dragOffset={x:K.pageX-N.x,y:K.pageY-N.y},c.dragOffset.x*c.dragOffset.x+c.dragOffset.y*c.dragOffset.y>16&&!A&&(A=!0,a.element.removeEventListener("click",a.ref.handleClick)),a.dispatch("DID_DRAG_ITEM",{id:c.id,dragState:D})},G=K=>{K.isPrimary&&(document.removeEventListener("pointermove",U),document.removeEventListener("pointerup",G),c.dragOffset={x:K.pageX-N.x,y:K.pageY-N.y},a.dispatch("DID_DROP_ITEM",{id:c.id,dragState:D}),A&&setTimeout(()=>a.element.addEventListener("click",a.ref.handleClick),0))};document.addEventListener("pointermove",U),document.addEventListener("pointerup",G)};a.element.addEventListener("pointerdown",h)},Zse=bh({DID_UPDATE_PANEL_HEIGHT:({root:a,action:c})=>{a.height=c.height}}),Yse=bh({DID_GRAB_ITEM:({root:a,props:c})=>{c.dragOrigin={x:a.translateX,y:a.translateY}},DID_DRAG_ITEM:({root:a})=>{a.element.dataset.dragState="drag"},DID_DROP_ITEM:({root:a,props:c})=>{c.dragOffset=null,c.dragOrigin=null,a.element.dataset.dragState="drop"}},({root:a,actions:c,props:h,shouldOptimize:y})=>{a.element.dataset.dragState==="drop"&&a.scaleX<=1&&(a.element.dataset.dragState="idle");let A=c.concat().filter(D=>/^DID_/.test(D.type)).reverse().find(D=>ZX[D.type]);A&&A.type!==h.currentState&&(h.currentState=A.type,a.element.dataset.filepondItemState=ZX[h.currentState]||"");const N=a.query("GET_ITEM_PANEL_ASPECT_RATIO")||a.query("GET_PANEL_ASPECT_RATIO");N?y||(a.height=a.rect.element.width*N):(Zse({root:a,actions:c,props:h}),!a.height&&a.ref.container.rect.element.height>0&&(a.height=a.ref.container.rect.element.height)),y&&(a.ref.panel.height=null),a.ref.panel.height=a.height}),Kse=iu({create:jse,write:Yse,destroy:({root:a,props:c})=>{a.element.removeEventListener("click",a.ref.handleClick),a.dispatch("RELEASE_ITEM",{query:c.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:jX,scaleY:jX,translateX:qX,translateY:qX,opacity:{type:"tween",duration:150}}}});var eY=(a,c)=>Math.max(1,Math.floor((a+1)/c));const tY=(a,c,h)=>{if(!h)return;const y=a.rect.element.width,A=c.length;let N=null;if(A===0||h.top<c[0].rect.element.top)return-1;const U=c[0].rect.element,G=U.marginLeft+U.marginRight,K=U.width+G,Q=eY(y,K);if(Q===1){for(let ve=0;ve<A;ve++){const de=c[ve],fe=de.rect.outer.top+de.rect.element.height*.5;if(h.top<fe)return ve}return A}const ie=U.marginTop+U.marginBottom,_e=U.height+ie;for(let ve=0;ve<A;ve++){const de=ve%Q,fe=Math.floor(ve/Q),we=de*K,De=fe*_e,Me=De-U.marginTop,oe=we+K,Be=De+_e+U.marginBottom;if(h.top<Be&&h.top>Me){if(h.left<oe)return ve;ve!==A-1?N=ve:N=null}}return N!==null?N:A},W5={height:0,width:0,get getHeight(){return this.height},set setHeight(a){(this.height===0||a===0)&&(this.height=a)},get getWidth(){return this.width},set setWidth(a){(this.width===0||a===0)&&(this.width=a)},setDimensions:function(a,c){(this.height===0||a===0)&&(this.height=a),(this.width===0||c===0)&&(this.width=c)}},Xse=({root:a})=>{ru(a.element,"role","list"),a.ref.lastItemSpanwDate=Date.now()},Qse=({root:a,action:c})=>{const{id:h,index:y,interactionMethod:A}=c;a.ref.addIndex=y;const N=Date.now();let D=N,U=1;if(A!==Qp.NONE){U=0;const G=a.query("GET_ITEM_INSERT_INTERVAL"),K=N-a.ref.lastItemSpanwDate;D=K<G?N+(G-K):N}a.ref.lastItemSpanwDate=D,a.appendChildView(a.createChildView(Kse,{spawnDate:D,id:h,opacity:U,interactionMethod:A}),y)},YX=(a,c,h,y=0,A=1)=>{a.dragOffset?(a.translateX=null,a.translateY=null,a.translateX=a.dragOrigin.x+a.dragOffset.x,a.translateY=a.dragOrigin.y+a.dragOffset.y,a.scaleX=1.025,a.scaleY=1.025):(a.translateX=c,a.translateY=h,Date.now()>a.spawnDate&&(a.opacity===0&&Jse(a,c,h,y,A),a.scaleX=1,a.scaleY=1,a.opacity=1))},Jse=(a,c,h,y,A)=>{a.interactionMethod===Qp.NONE?(a.translateX=null,a.translateX=c,a.translateY=null,a.translateY=h):a.interactionMethod===Qp.DROP?(a.translateX=null,a.translateX=c-y*20,a.translateY=null,a.translateY=h-A*10,a.scaleX=.8,a.scaleY=.8):a.interactionMethod===Qp.BROWSE?(a.translateY=null,a.translateY=h-30):a.interactionMethod===Qp.API&&(a.translateX=null,a.translateX=c-30,a.translateY=null)},ere=({root:a,action:c})=>{const{id:h}=c,y=a.childViews.find(A=>A.id===h);y&&(y.scaleX=.9,y.scaleY=.9,y.opacity=0,y.markedForRemoval=!0)},Zj=a=>a.rect.element.height+a.rect.element.marginBottom*.5+a.rect.element.marginTop*.5,tre=a=>a.rect.element.width+a.rect.element.marginLeft*.5+a.rect.element.marginRight*.5,nre=({root:a,action:c})=>{const{id:h,dragState:y}=c,A=a.query("GET_ITEM",{id:h}),N=a.childViews.find(we=>we.id===h),D=a.childViews.length,U=y.getItemIndex(A);if(!N)return;const G={x:N.dragOrigin.x+N.dragOffset.x+N.dragCenter.x,y:N.dragOrigin.y+N.dragOffset.y+N.dragCenter.y},K=Zj(N),Q=tre(N);let ie=Math.floor(a.rect.outer.width/Q);ie>D&&(ie=D);const _e=Math.floor(D/ie+1);W5.setHeight=K*_e,W5.setWidth=Q*ie;var ve={y:Math.floor(G.y/K),x:Math.floor(G.x/Q),getGridIndex:function(){return G.y>W5.getHeight||G.y<0||G.x>W5.getWidth||G.x<0?U:this.y*ie+this.x},getColIndex:function(){const De=a.query("GET_ACTIVE_ITEMS"),Me=a.childViews.filter(Ne=>Ne.rect.element.height),oe=De.map(Ne=>Me.find(ge=>ge.id===Ne.id)),Be=oe.findIndex(Ne=>Ne===N),lt=Zj(N),F=oe.length;let Ee=F,Ze=0,ht=0,Et=0;for(let Ne=0;Ne<F;Ne++)if(Ze=Zj(oe[Ne]),Et=ht,ht=Et+Ze,G.y<ht){if(Be>Ne){if(G.y<Et+lt){Ee=Ne;break}continue}Ee=Ne;break}return Ee}};const de=ie>1?ve.getGridIndex():ve.getColIndex();a.dispatch("MOVE_ITEM",{query:N,index:de});const fe=y.getIndex();if(fe===void 0||fe!==de){if(y.setIndex(de),fe===void 0)return;a.dispatch("DID_REORDER_ITEMS",{items:a.query("GET_ACTIVE_ITEMS"),origin:U,target:de})}},ore=bh({DID_ADD_ITEM:Qse,DID_REMOVE_ITEM:ere,DID_DRAG_ITEM:nre}),sre=({root:a,props:c,actions:h,shouldOptimize:y})=>{ore({root:a,props:c,actions:h});const{dragCoordinates:A}=c,N=a.rect.element.width,D=a.childViews.filter(oe=>oe.rect.element.height),U=a.query("GET_ACTIVE_ITEMS").map(oe=>D.find(Be=>Be.id===oe.id)).filter(oe=>oe),G=A?tY(a,U,A):null,K=a.ref.addIndex||null;a.ref.addIndex=null;let Q=0,ie=0,_e=0;if(U.length===0)return;const ve=U[0].rect.element,de=ve.marginTop+ve.marginBottom,fe=ve.marginLeft+ve.marginRight,we=ve.width+fe,De=ve.height+de,Me=eY(N,we);if(Me===1){let oe=0,Be=0;U.forEach((lt,F)=>{if(G){let ht=F-G;ht===-2?Be=-de*.25:ht===-1?Be=-de*.75:ht===0?Be=de*.75:ht===1?Be=de*.25:Be=0}y&&(lt.translateX=null,lt.translateY=null),lt.markedForRemoval||YX(lt,0,oe+Be);let Ze=(lt.rect.element.height+de)*(lt.markedForRemoval?lt.opacity:1);oe+=Ze})}else{let oe=0,Be=0;U.forEach((lt,F)=>{F===G&&(Q=1),F===K&&(_e+=1),lt.markedForRemoval&&lt.opacity<.5&&(ie-=1);const Ee=F+_e+Q+ie,Ze=Ee%Me,ht=Math.floor(Ee/Me),Et=Ze*we,Ne=ht*De,ge=Math.sign(Et-oe),gn=Math.sign(Ne-Be);oe=Et,Be=Ne,!lt.markedForRemoval&&(y&&(lt.translateX=null,lt.translateY=null),YX(lt,Et,Ne,ge,gn))})}},rre=(a,c)=>c.filter(h=>h.data&&h.data.id?a.id===h.data.id:!0),ire=iu({create:Xse,write:sre,tag:"ul",name:"list",didWriteView:({root:a})=>{a.childViews.filter(c=>c.markedForRemoval&&c.opacity===0&&c.resting).forEach(c=>{c._destroy(),a.removeChildView(c)})},filterFrameActionsForChild:rre,mixins:{apis:["dragCoordinates"]}}),are=({root:a,props:c})=>{a.ref.list=a.appendChildView(a.createChildView(ire)),c.dragCoordinates=null,c.overflowing=!1},cre=({root:a,props:c,action:h})=>{a.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(c.dragCoordinates={left:h.position.scopeLeft-a.ref.list.rect.element.left,top:h.position.scopeTop-(a.rect.outer.top+a.rect.element.marginTop+a.rect.element.scrollTop)})},lre=({props:a})=>{a.dragCoordinates=null},ure=bh({DID_DRAG:cre,DID_END_DRAG:lre}),dre=({root:a,props:c,actions:h})=>{if(ure({root:a,props:c,actions:h}),a.ref.list.dragCoordinates=c.dragCoordinates,c.overflowing&&!c.overflow&&(c.overflowing=!1,a.element.dataset.state="",a.height=null),c.overflow){const y=Math.round(c.overflow);y!==a.height&&(c.overflowing=!0,a.element.dataset.state="overflow",a.height=y)}},fre=iu({create:are,write:dre,name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),yv=(a,c,h,y="")=>{h?ru(a,c,y):a.removeAttribute(c)},hre=a=>{if(!(!a||a.value==="")){try{a.value=""}catch{}if(a.value){const c=c_("form"),h=a.parentNode,y=a.nextSibling;c.appendChild(a),c.reset(),y?h.insertBefore(a,y):h.appendChild(a)}}},mre=({root:a,props:c})=>{a.element.id=`filepond--browser-${c.id}`,ru(a.element,"name",a.query("GET_NAME")),ru(a.element,"aria-controls",`filepond--assistant-${c.id}`),ru(a.element,"aria-labelledby",`filepond--drop-label-${c.id}`),PJ({root:a,action:{value:a.query("GET_ACCEPTED_FILE_TYPES")}}),LJ({root:a,action:{value:a.query("GET_ALLOW_MULTIPLE")}}),$J({root:a,action:{value:a.query("GET_ALLOW_DIRECTORIES_ONLY")}}),SZ({root:a}),BJ({root:a,action:{value:a.query("GET_REQUIRED")}}),FJ({root:a,action:{value:a.query("GET_CAPTURE_METHOD")}}),a.ref.handleChange=h=>{if(!a.element.value)return;const y=Array.from(a.element.files).map(A=>(A._relativePath=A.webkitRelativePath,A));setTimeout(()=>{c.onload(y),hre(a.element)},250)},a.element.addEventListener("change",a.ref.handleChange)},PJ=({root:a,action:c})=>{a.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&yv(a.element,"accept",!!c.value,c.value?c.value.join(","):"")},LJ=({root:a,action:c})=>{yv(a.element,"multiple",c.value)},$J=({root:a,action:c})=>{yv(a.element,"webkitdirectory",c.value)},SZ=({root:a})=>{const c=a.query("GET_DISABLED"),h=a.query("GET_ALLOW_BROWSE"),y=c||!h;yv(a.element,"disabled",y)},BJ=({root:a,action:c})=>{c.value?a.query("GET_TOTAL_ITEMS")===0&&yv(a.element,"required",!0):yv(a.element,"required",!1)},FJ=({root:a,action:c})=>{yv(a.element,"capture",!!c.value,c.value===!0?"":c.value)},KX=({root:a})=>{const{element:c}=a;a.query("GET_TOTAL_ITEMS")>0?(yv(c,"required",!1),yv(c,"name",!1)):(yv(c,"name",!0,a.query("GET_NAME")),a.query("GET_CHECK_VALIDITY")&&c.setCustomValidity(""),a.query("GET_REQUIRED")&&yv(c,"required",!0))},gre=({root:a})=>{a.query("GET_CHECK_VALIDITY")&&a.element.setCustomValidity(a.query("GET_LABEL_INVALID_FIELD"))},pre=iu({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:mre,destroy:({root:a})=>{a.element.removeEventListener("change",a.ref.handleChange)},write:bh({DID_LOAD_ITEM:KX,DID_REMOVE_ITEM:KX,DID_THROW_ITEM_INVALID:gre,DID_SET_DISABLED:SZ,DID_SET_ALLOW_BROWSE:SZ,DID_SET_ALLOW_DIRECTORIES_ONLY:$J,DID_SET_ALLOW_MULTIPLE:LJ,DID_SET_ACCEPTED_FILE_TYPES:PJ,DID_SET_CAPTURE_METHOD:FJ,DID_SET_REQUIRED:BJ})}),XX={ENTER:13,SPACE:32},vre=({root:a,props:c})=>{const h=c_("label");ru(h,"for",`filepond--browser-${c.id}`),ru(h,"id",`filepond--drop-label-${c.id}`),ru(h,"aria-hidden","true"),a.ref.handleKeyDown=y=>{(y.keyCode===XX.ENTER||y.keyCode===XX.SPACE)&&(y.preventDefault(),a.ref.label.click())},a.ref.handleClick=y=>{y.target===h||h.contains(y.target)||a.ref.label.click()},h.addEventListener("keydown",a.ref.handleKeyDown),a.element.addEventListener("click",a.ref.handleClick),HJ(h,c.caption),a.appendChild(h),a.ref.label=h},HJ=(a,c)=>{a.innerHTML=c;const h=a.querySelector(".filepond--label-action");return h&&ru(h,"tabindex","0"),c},bre=iu({name:"drop-label",ignoreRect:!0,create:vre,destroy:({root:a})=>{a.ref.label.addEventListener("keydown",a.ref.handleKeyDown),a.element.removeEventListener("click",a.ref.handleClick)},write:bh({DID_SET_LABEL_IDLE:({root:a,action:c})=>{HJ(a.ref.label,c.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),yre=iu({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),_re=({root:a})=>{const c=a.rect.element.width*.5,h=a.rect.element.height*.5;a.ref.blob=a.appendChildView(a.createChildView(yre,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:c,translateY:h}))},Ere=({root:a,action:c})=>{if(!a.ref.blob){_re({root:a});return}a.ref.blob.translateX=c.position.scopeLeft,a.ref.blob.translateY=c.position.scopeTop,a.ref.blob.scaleX=1,a.ref.blob.scaleY=1,a.ref.blob.opacity=1},wre=({root:a})=>{a.ref.blob&&(a.ref.blob.opacity=0)},Tre=({root:a})=>{a.ref.blob&&(a.ref.blob.scaleX=2.5,a.ref.blob.scaleY=2.5,a.ref.blob.opacity=0)},Cre=({root:a,props:c,actions:h})=>{Sre({root:a,props:c,actions:h});const{blob:y}=a.ref;h.length===0&&y&&y.opacity===0&&(a.removeChildView(y),a.ref.blob=null)},Sre=bh({DID_DRAG:Ere,DID_DROP:Tre,DID_END_DRAG:wre}),Are=iu({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:Cre}),VJ=(a,c)=>{try{const h=new DataTransfer;c.forEach(y=>{y instanceof File?h.items.add(y):h.items.add(new File([y],y.name,{type:y.type}))}),a.files=h.files}catch{return!1}return!0},xre=({root:a})=>a.ref.fields={},PH=(a,c)=>a.ref.fields[c],nY=a=>{a.query("GET_ACTIVE_ITEMS").forEach(c=>{a.ref.fields[c.id]&&a.element.appendChild(a.ref.fields[c.id])})},QX=({root:a})=>nY(a),Ore=({root:a,action:c})=>{const A=!(a.query("GET_ITEM",c.id).origin===xu.LOCAL)&&a.query("SHOULD_UPDATE_FILE_INPUT"),N=c_("input");N.type=A?"file":"hidden",N.name=a.query("GET_NAME"),N.disabled=a.query("GET_DISABLED"),a.ref.fields[c.id]=N,nY(a)},Rre=({root:a,action:c})=>{const h=PH(a,c.id);if(!h||(c.serverFileReference!==null&&(h.value=c.serverFileReference),!a.query("SHOULD_UPDATE_FILE_INPUT")))return;const y=a.query("GET_ITEM",c.id);VJ(h,[y.file])},Ire=({root:a,action:c})=>{a.query("SHOULD_UPDATE_FILE_INPUT")&&setTimeout(()=>{const h=PH(a,c.id);h&&VJ(h,[c.file])},0)},Dre=({root:a})=>{a.element.disabled=a.query("GET_DISABLED")},Nre=({root:a,action:c})=>{const h=PH(a,c.id);h&&(h.parentNode&&h.parentNode.removeChild(h),delete a.ref.fields[c.id])},Mre=({root:a,action:c})=>{const h=PH(a,c.id);h&&(c.value===null?h.removeAttribute("value"):h.value=c.value,nY(a))},kre=bh({DID_SET_DISABLED:Dre,DID_ADD_ITEM:Ore,DID_LOAD_ITEM:Rre,DID_REMOVE_ITEM:Nre,DID_DEFINE_VALUE:Mre,DID_PREPARE_OUTPUT:Ire,DID_REORDER_ITEMS:QX,DID_SORT_ITEMS:QX}),Pre=iu({tag:"fieldset",name:"data",create:xre,write:kre,ignoreRect:!0}),Lre=a=>"getRootNode"in a?a.getRootNode():document,$re=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],Bre=["css","csv","html","txt"],Fre={zip:"zip|compressed",epub:"application/epub+zip"},UJ=(a="")=>(a=a.toLowerCase(),$re.includes(a)?"image/"+(a==="jpg"?"jpeg":a==="svg"?"svg+xml":a):Bre.includes(a)?"text/"+a:Fre[a]||""),oY=a=>new Promise((c,h)=>{const y=jre(a);if(y.length&&!Hre(a))return c(y);Vre(a).then(c)}),Hre=a=>a.files?a.files.length>0:!1,Vre=a=>new Promise((c,h)=>{const y=(a.items?Array.from(a.items):[]).filter(A=>Ure(A)).map(A=>zre(A));if(!y.length){c(a.files?Array.from(a.files):[]);return}Promise.all(y).then(A=>{const N=[];A.forEach(D=>{N.push.apply(N,D)}),c(N.filter(D=>D).map(D=>(D._relativePath||(D._relativePath=D.webkitRelativePath),D)))}).catch(console.error)}),Ure=a=>{if(zJ(a)){const c=sY(a);if(c)return c.isFile||c.isDirectory}return a.kind==="file"},zre=a=>new Promise((c,h)=>{if(qre(a)){Wre(sY(a)).then(c).catch(h);return}c([a.getAsFile()])}),Wre=a=>new Promise((c,h)=>{const y=[];let A=0,N=0;const D=()=>{N===0&&A===0&&c(y)},U=G=>{A++;const K=G.createReader(),Q=()=>{K.readEntries(ie=>{if(ie.length===0){A--,D();return}ie.forEach(_e=>{_e.isDirectory?U(_e):(N++,_e.file(ve=>{const de=Gre(ve);_e.fullPath&&(de._relativePath=_e.fullPath),y.push(de),N--,D()}))}),Q()},h)};Q()};U(a)}),Gre=a=>{if(a.type.length)return a;const c=a.lastModifiedDate,h=a.name,y=UJ(kH(a.name));return y.length&&(a=a.slice(0,a.size,y),a.name=h,a.lastModifiedDate=c),a},qre=a=>zJ(a)&&(sY(a)||{}).isDirectory,zJ=a=>"webkitGetAsEntry"in a,sY=a=>a.webkitGetAsEntry(),jre=a=>{let c=[];try{if(c=Yre(a),c.length)return c;c=Zre(a)}catch{}return c},Zre=a=>{let c=a.getData("url");return typeof c=="string"&&c.length?[c]:[]},Yre=a=>{let c=a.getData("text/html");if(typeof c=="string"&&c.length){const h=c.match(/src\s*=\s*"(.+?)"/);if(h)return[h[1]]}return[]},_H=[],aA=a=>({pageLeft:a.pageX,pageTop:a.pageY,scopeLeft:a.offsetX||a.layerX,scopeTop:a.offsetY||a.layerY}),Kre=(a,c,h)=>{const y=Xre(c),A={element:a,filterElement:h,state:null,ondrop:()=>{},onenter:()=>{},ondrag:()=>{},onexit:()=>{},onload:()=>{},allowdrop:()=>{}};return A.destroy=y.addListener(A),A},Xre=a=>{const c=_H.find(y=>y.element===a);if(c)return c;const h=Qre(a);return _H.push(h),h},Qre=a=>{const c=[],h={dragenter:eie,dragover:tie,dragleave:oie,drop:nie},y={};dl(h,(N,D)=>{y[N]=D(a,c),a.addEventListener(N,y[N],!1)});const A={element:a,addListener:N=>(c.push(N),()=>{c.splice(c.indexOf(N),1),c.length===0&&(_H.splice(_H.indexOf(A),1),dl(h,D=>{a.removeEventListener(D,y[D],!1)}))})};return A},Jre=(a,c)=>("elementFromPoint"in a||(a=document),a.elementFromPoint(c.x,c.y)),rY=(a,c)=>{const h=Lre(c),y=Jre(h,{x:a.pageX-window.pageXOffset,y:a.pageY-window.pageYOffset});return y===c||c.contains(y)};let WJ=null;const G5=(a,c)=>{try{a.dropEffect=c}catch{}},eie=(a,c)=>h=>{h.preventDefault(),WJ=h.target,c.forEach(y=>{const{element:A,onenter:N}=y;rY(h,A)&&(y.state="enter",N(aA(h)))})},tie=(a,c)=>h=>{h.preventDefault();const y=h.dataTransfer;oY(y).then(A=>{let N=!1;c.some(D=>{const{filterElement:U,element:G,onenter:K,onexit:Q,ondrag:ie,allowdrop:_e}=D;G5(y,"copy");const ve=_e(A);if(!ve){G5(y,"none");return}if(rY(h,G)){if(N=!0,D.state===null){D.state="enter",K(aA(h));return}if(D.state="over",U&&!ve){G5(y,"none");return}ie(aA(h))}else U&&!N&&G5(y,"none"),D.state&&(D.state=null,Q(aA(h)))})})},nie=(a,c)=>h=>{h.preventDefault();const y=h.dataTransfer;oY(y).then(A=>{c.forEach(N=>{const{filterElement:D,element:U,ondrop:G,onexit:K,allowdrop:Q}=N;if(N.state=null,!(D&&!rY(h,U))){if(!Q(A))return K(aA(h));G(aA(h),A)}})})},oie=(a,c)=>h=>{WJ===h.target&&c.forEach(y=>{const{onexit:A}=y;y.state=null,A(aA(h))})},sie=(a,c,h)=>{a.classList.add("filepond--hopper");const{catchesDropsOnPage:y,requiresDropOnElement:A,filterItems:N=Q=>Q}=h,D=Kre(a,y?document.documentElement:a,A);let U="",G="";D.allowdrop=Q=>c(N(Q)),D.ondrop=(Q,ie)=>{const _e=N(ie);if(!c(_e)){K.ondragend(Q);return}G="drag-drop",K.onload(_e,Q)},D.ondrag=Q=>{K.ondrag(Q)},D.onenter=Q=>{G="drag-over",K.ondragstart(Q)},D.onexit=Q=>{G="drag-exit",K.ondragend(Q)};const K={updateHopperState:()=>{U!==G&&(a.dataset.hopperState=G,U=G)},onload:()=>{},ondragstart:()=>{},ondrag:()=>{},ondragend:()=>{},destroy:()=>{D.destroy()}};return K};let AZ=!1;const FO=[],GJ=a=>{const c=document.activeElement;if(c&&/textarea|input/i.test(c.nodeName)){let h=!1,y=c;for(;y!==document.body;){if(y.classList.contains("filepond--root")){h=!0;break}y=y.parentNode}if(!h)return}oY(a.clipboardData).then(h=>{h.length&&FO.forEach(y=>y(h))})},rie=a=>{FO.includes(a)||(FO.push(a),!AZ&&(AZ=!0,document.addEventListener("paste",GJ)))},iie=a=>{KZ(FO,FO.indexOf(a)),FO.length===0&&(document.removeEventListener("paste",GJ),AZ=!1)},aie=()=>{const a=h=>{c.onload(h)},c={destroy:()=>{iie(a)},onload:()=>{}};return rie(a),c},cie=({root:a,props:c})=>{a.element.id=`filepond--assistant-${c.id}`,ru(a.element,"role","status"),ru(a.element,"aria-live","polite"),ru(a.element,"aria-relevant","additions")};let JX=null,eQ=null;const Yj=[],LH=(a,c)=>{a.element.textContent=c},lie=a=>{a.element.textContent=""},qJ=(a,c,h)=>{const y=a.query("GET_TOTAL_ITEMS");LH(a,`${h} ${c}, ${y} ${y===1?a.query("GET_LABEL_FILE_COUNT_SINGULAR"):a.query("GET_LABEL_FILE_COUNT_PLURAL")}`),clearTimeout(eQ),eQ=setTimeout(()=>{lie(a)},1500)},jJ=a=>a.element.parentNode.contains(document.activeElement),uie=({root:a,action:c})=>{if(!jJ(a))return;a.element.textContent="";const h=a.query("GET_ITEM",c.id);Yj.push(h.filename),clearTimeout(JX),JX=setTimeout(()=>{qJ(a,Yj.join(", "),a.query("GET_LABEL_FILE_ADDED")),Yj.length=0},750)},die=({root:a,action:c})=>{if(!jJ(a))return;const h=c.item;qJ(a,h.filename,a.query("GET_LABEL_FILE_REMOVED"))},fie=({root:a,action:c})=>{const y=a.query("GET_ITEM",c.id).filename,A=a.query("GET_LABEL_FILE_PROCESSING_COMPLETE");LH(a,`${y} ${A}`)},tQ=({root:a,action:c})=>{const y=a.query("GET_ITEM",c.id).filename,A=a.query("GET_LABEL_FILE_PROCESSING_ABORTED");LH(a,`${y} ${A}`)},q5=({root:a,action:c})=>{const y=a.query("GET_ITEM",c.id).filename;LH(a,`${c.status.main} ${y} ${c.status.sub}`)},hie=iu({create:cie,ignoreRect:!0,ignoreRectUpdate:!0,write:bh({DID_LOAD_ITEM:uie,DID_REMOVE_ITEM:die,DID_COMPLETE_ITEM_PROCESSING:fie,DID_ABORT_ITEM_PROCESSING:tQ,DID_REVERT_ITEM_PROCESSING:tQ,DID_THROW_ITEM_REMOVE_ERROR:q5,DID_THROW_ITEM_LOAD_ERROR:q5,DID_THROW_ITEM_INVALID:q5,DID_THROW_ITEM_PROCESSING_ERROR:q5}),tag:"span",name:"assistant"}),ZJ=(a,c="-")=>a.replace(new RegExp(`${c}.`,"g"),h=>h.charAt(1).toUpperCase()),YJ=(a,c=16,h=!0)=>{let y=Date.now(),A=null;return(...N)=>{clearTimeout(A);const D=Date.now()-y,U=()=>{y=Date.now(),a(...N)};D<c?h||(A=setTimeout(U,c-D)):U()}},mie=1e6,EH=a=>a.preventDefault(),gie=({root:a,props:c})=>{const h=a.query("GET_ID");h&&(a.element.id=h);const y=a.query("GET_CLASS_NAME");y&&y.split(" ").filter(G=>G.length).forEach(G=>{a.element.classList.add(G)}),a.ref.label=a.appendChildView(a.createChildView(bre,{...c,translateY:null,caption:a.query("GET_LABEL_IDLE")})),a.ref.list=a.appendChildView(a.createChildView(fre,{translateY:null})),a.ref.panel=a.appendChildView(a.createChildView(kJ,{name:"panel-root"})),a.ref.assistant=a.appendChildView(a.createChildView(hie,{...c})),a.ref.data=a.appendChildView(a.createChildView(Pre,{...c})),a.ref.measure=c_("div"),a.ref.measure.style.height="100%",a.element.appendChild(a.ref.measure),a.ref.bounds=null,a.query("GET_STYLES").filter(G=>!a_(G.value)).map(({name:G,value:K})=>{a.element.dataset[G]=K}),a.ref.widthPrevious=null,a.ref.widthUpdated=YJ(()=>{a.ref.updateHistory=[],a.dispatch("DID_RESIZE_ROOT")},250),a.ref.previousAspectRatio=null,a.ref.updateHistory=[];const A=window.matchMedia("(pointer: fine) and (hover: hover)").matches,N="PointerEvent"in window;a.query("GET_ALLOW_REORDER")&&N&&!A&&(a.element.addEventListener("touchmove",EH,{passive:!1}),a.element.addEventListener("gesturestart",EH));const D=a.query("GET_CREDITS");if(D.length===2){const G=document.createElement("a");G.className="filepond--credits",G.setAttribute("aria-hidden","true"),G.href=D[0],G.tabindex=-1,G.target="_blank",G.rel="noopener noreferrer",G.textContent=D[1],a.element.appendChild(G),a.ref.credits=G}},pie=({root:a,props:c,actions:h})=>{if(Eie({root:a,props:c,actions:h}),h.filter(F=>/^DID_SET_STYLE_/.test(F.type)).filter(F=>!a_(F.data.value)).map(({type:F,data:Ee})=>{const Ze=ZJ(F.substring(8).toLowerCase(),"_");a.element.dataset[Ze]=Ee.value,a.invalidateLayout()}),a.rect.element.hidden)return;a.rect.element.width!==a.ref.widthPrevious&&(a.ref.widthPrevious=a.rect.element.width,a.ref.widthUpdated());let y=a.ref.bounds;y||(y=a.ref.bounds=yie(a),a.element.removeChild(a.ref.measure),a.ref.measure=null);const{hopper:A,label:N,list:D,panel:U}=a.ref;A&&A.updateHopperState();const G=a.query("GET_PANEL_ASPECT_RATIO"),K=a.query("GET_ALLOW_MULTIPLE"),Q=a.query("GET_TOTAL_ITEMS"),ie=K?a.query("GET_MAX_FILES")||mie:1,_e=Q===ie,ve=h.find(F=>F.type==="DID_ADD_ITEM");if(_e&&ve){const F=ve.data.interactionMethod;N.opacity=0,K?N.translateY=-40:F===Qp.API?N.translateX=40:F===Qp.BROWSE?N.translateY=40:N.translateY=30}else _e||(N.opacity=1,N.translateX=0,N.translateY=0);const de=vie(a),fe=bie(a),we=N.rect.element.height,De=!K||_e?0:we,Me=_e?D.rect.element.marginTop:0,oe=Q===0?0:D.rect.element.marginBottom,Be=De+Me+fe.visual+oe,lt=De+Me+fe.bounds+oe;if(D.translateY=Math.max(0,De-D.rect.element.marginTop)-de.top,G){const F=a.rect.element.width,Ee=F*G;G!==a.ref.previousAspectRatio&&(a.ref.previousAspectRatio=G,a.ref.updateHistory=[]);const Ze=a.ref.updateHistory;Ze.push(F);const ht=2;if(Ze.length>ht*2){const Ne=Ze.length,ge=Ne-10;let gn=0;for(let wt=Ne;wt>=ge;wt--)if(Ze[wt]===Ze[wt-2]&&gn++,gn>=ht)return}U.scalable=!1,U.height=Ee;const Et=Ee-De-(oe-de.bottom)-(_e?Me:0);fe.visual>Et?D.overflow=Et:D.overflow=null,a.height=Ee}else if(y.fixedHeight){U.scalable=!1;const F=y.fixedHeight-De-(oe-de.bottom)-(_e?Me:0);fe.visual>F?D.overflow=F:D.overflow=null}else if(y.cappedHeight){const F=Be>=y.cappedHeight,Ee=Math.min(y.cappedHeight,Be);U.scalable=!0,U.height=F?Ee:Ee-de.top-de.bottom;const Ze=Ee-De-(oe-de.bottom)-(_e?Me:0);Be>y.cappedHeight&&fe.visual>Ze?D.overflow=Ze:D.overflow=null,a.height=Math.min(y.cappedHeight,lt-de.top-de.bottom)}else{const F=Q>0?de.top+de.bottom:0;U.scalable=!0,U.height=Math.max(we,Be-F),a.height=Math.max(we,lt-F)}a.ref.credits&&U.heightCurrent&&(a.ref.credits.style.transform=`translateY(${U.heightCurrent}px)`)},vie=a=>{const c=a.ref.list.childViews[0].childViews[0];return c?{top:c.rect.element.marginTop,bottom:c.rect.element.marginBottom}:{top:0,bottom:0}},bie=a=>{let c=0,h=0;const y=a.ref.list,A=y.childViews[0],N=A.childViews.filter(Me=>Me.rect.element.height),D=a.query("GET_ACTIVE_ITEMS").map(Me=>N.find(oe=>oe.id===Me.id)).filter(Me=>Me);if(D.length===0)return{visual:c,bounds:h};const U=A.rect.element.width,G=tY(A,D,y.dragCoordinates),K=D[0].rect.element,Q=K.marginTop+K.marginBottom,ie=K.marginLeft+K.marginRight,_e=K.width+ie,ve=K.height+Q,de=typeof G<"u"&&G>=0?1:0,fe=D.find(Me=>Me.markedForRemoval&&Me.opacity<.45)?-1:0,we=D.length+de+fe,De=eY(U,_e);return De===1?D.forEach(Me=>{const oe=Me.rect.element.height+Q;h+=oe,c+=oe*Me.opacity}):(h=Math.ceil(we/De)*ve,c=h),{visual:c,bounds:h}},yie=a=>{const c=a.ref.measureHeight||null;return{cappedHeight:parseInt(a.style.maxHeight,10)||null,fixedHeight:c===0?null:c}},iY=(a,c)=>{const h=a.query("GET_ALLOW_REPLACE"),y=a.query("GET_ALLOW_MULTIPLE"),A=a.query("GET_TOTAL_ITEMS");let N=a.query("GET_MAX_FILES");const D=c.length;return!y&&D>1?(a.dispatch("DID_THROW_MAX_FILES",{source:c,error:kl("warning",0,"Max files")}),!0):(N=y?N:1,!y&&h?!1:JO(N)&&A+D>N?(a.dispatch("DID_THROW_MAX_FILES",{source:c,error:kl("warning",0,"Max files")}),!0):!1)},_ie=(a,c,h)=>{const y=a.childViews[0];return tY(y,c,{left:h.scopeLeft-y.rect.element.left,top:h.scopeTop-(a.rect.outer.top+a.rect.element.marginTop+a.rect.element.scrollTop)})},nQ=a=>{const c=a.query("GET_ALLOW_DROP"),h=a.query("GET_DISABLED"),y=c&&!h;if(y&&!a.ref.hopper){const A=sie(a.element,N=>{const D=a.query("GET_BEFORE_DROP_FILE")||(()=>!0);return a.query("GET_DROP_VALIDATION")?N.every(G=>dA("ALLOW_HOPPER_ITEM",G,{query:a.query}).every(K=>K===!0)&&D(G)):!0},{filterItems:N=>{const D=a.query("GET_IGNORED_FILES");return N.filter(U=>WO(U)?!D.includes(U.name.toLowerCase()):!0)},catchesDropsOnPage:a.query("GET_DROP_ON_PAGE"),requiresDropOnElement:a.query("GET_DROP_ON_ELEMENT")});A.onload=(N,D)=>{const G=a.ref.list.childViews[0].childViews.filter(Q=>Q.rect.element.height),K=a.query("GET_ACTIVE_ITEMS").map(Q=>G.find(ie=>ie.id===Q.id)).filter(Q=>Q);vv("ADD_ITEMS",N,{dispatch:a.dispatch}).then(Q=>{if(iY(a,Q))return!1;a.dispatch("ADD_ITEMS",{items:Q,index:_ie(a.ref.list,K,D),interactionMethod:Qp.DROP})}),a.dispatch("DID_DROP",{position:D}),a.dispatch("DID_END_DRAG",{position:D})},A.ondragstart=N=>{a.dispatch("DID_START_DRAG",{position:N})},A.ondrag=YJ(N=>{a.dispatch("DID_DRAG",{position:N})}),A.ondragend=N=>{a.dispatch("DID_END_DRAG",{position:N})},a.ref.hopper=A,a.ref.drip=a.appendChildView(a.createChildView(Are))}else!y&&a.ref.hopper&&(a.ref.hopper.destroy(),a.ref.hopper=null,a.removeChildView(a.ref.drip))},oQ=(a,c)=>{const h=a.query("GET_ALLOW_BROWSE"),y=a.query("GET_DISABLED"),A=h&&!y;A&&!a.ref.browser?a.ref.browser=a.appendChildView(a.createChildView(pre,{...c,onload:N=>{vv("ADD_ITEMS",N,{dispatch:a.dispatch}).then(D=>{if(iY(a,D))return!1;a.dispatch("ADD_ITEMS",{items:D,index:-1,interactionMethod:Qp.BROWSE})})}}),0):!A&&a.ref.browser&&(a.removeChildView(a.ref.browser),a.ref.browser=null)},sQ=a=>{const c=a.query("GET_ALLOW_PASTE"),h=a.query("GET_DISABLED"),y=c&&!h;y&&!a.ref.paster?(a.ref.paster=aie(),a.ref.paster.onload=A=>{vv("ADD_ITEMS",A,{dispatch:a.dispatch}).then(N=>{if(iY(a,N))return!1;a.dispatch("ADD_ITEMS",{items:N,index:-1,interactionMethod:Qp.PASTE})})}):!y&&a.ref.paster&&(a.ref.paster.destroy(),a.ref.paster=null)},Eie=bh({DID_SET_ALLOW_BROWSE:({root:a,props:c})=>{oQ(a,c)},DID_SET_ALLOW_DROP:({root:a})=>{nQ(a)},DID_SET_ALLOW_PASTE:({root:a})=>{sQ(a)},DID_SET_DISABLED:({root:a,props:c})=>{nQ(a),sQ(a),oQ(a,c),a.query("GET_DISABLED")?a.element.dataset.disabled="disabled":a.element.removeAttribute("data-disabled")}}),wie=iu({name:"root",read:({root:a})=>{a.ref.measure&&(a.ref.measureHeight=a.ref.measure.offsetHeight)},create:gie,write:pie,destroy:({root:a})=>{a.ref.paster&&a.ref.paster.destroy(),a.ref.hopper&&a.ref.hopper.destroy(),a.element.removeEventListener("touchmove",EH),a.element.removeEventListener("gesturestart",EH)},mixins:{styles:["height"]}}),Tie=(a={})=>{let c=null;const h=yH(),y=Hne(Soe(h),[zoe,Ooe(h)],[mse,xoe(h)]);y.dispatch("SET_OPTIONS",{options:a});const A=()=>{document.hidden||y.dispatch("KICK")};document.addEventListener("visibilitychange",A);let N=null,D=!1,U=!1,G=null,K=null;const Q=()=>{D||(D=!0),clearTimeout(N),N=setTimeout(()=>{D=!1,G=null,K=null,U&&(U=!1,y.dispatch("DID_STOP_RESIZE"))},500)};window.addEventListener("resize",Q);const ie=wie(y,{id:YZ()});let _e=!1,ve=!1;const de={_read:()=>{D&&(K=window.innerWidth,G||(G=K),!U&&K!==G&&(y.dispatch("DID_START_RESIZE"),U=!0)),ve&&_e&&(_e=ie.element.offsetParent===null),!_e&&(ie._read(),ve=ie.rect.element.hidden)},_write:P=>{const Rt=y.processActionQueue().filter(et=>!/^SET_/.test(et.type));_e&&!Rt.length||(Me(Rt),_e=ie._write(P,Rt,U),Doe(y.query("GET_ITEMS")),_e&&y.processDispatchQueue())}},fe=P=>Rt=>{const et={type:P};if(!Rt)return et;if(Rt.hasOwnProperty("error")&&(et.error=Rt.error?{...Rt.error}:null),Rt.status&&(et.status={...Rt.status}),Rt.file&&(et.output=Rt.file),Rt.source)et.file=Rt.source;else if(Rt.item||Rt.id){const qt=Rt.item?Rt.item:y.query("GET_ITEM",Rt.id);et.file=qt?_m(qt):null}return Rt.items&&(et.items=Rt.items.map(_m)),/progress/.test(P)&&(et.progress=Rt.progress),Rt.hasOwnProperty("origin")&&Rt.hasOwnProperty("target")&&(et.origin=Rt.origin,et.target=Rt.target),et},we={DID_DESTROY:fe("destroy"),DID_INIT:fe("init"),DID_THROW_MAX_FILES:fe("warning"),DID_INIT_ITEM:fe("initfile"),DID_START_ITEM_LOAD:fe("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:fe("addfileprogress"),DID_LOAD_ITEM:fe("addfile"),DID_THROW_ITEM_INVALID:[fe("error"),fe("addfile")],DID_THROW_ITEM_LOAD_ERROR:[fe("error"),fe("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[fe("error"),fe("removefile")],DID_PREPARE_OUTPUT:fe("preparefile"),DID_START_ITEM_PROCESSING:fe("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:fe("processfileprogress"),DID_ABORT_ITEM_PROCESSING:fe("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:fe("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:fe("processfiles"),DID_REVERT_ITEM_PROCESSING:fe("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[fe("error"),fe("processfile")],DID_REMOVE_ITEM:fe("removefile"),DID_UPDATE_ITEMS:fe("updatefiles"),DID_ACTIVATE_ITEM:fe("activatefile"),DID_REORDER_ITEMS:fe("reorderfiles")},De=P=>{const Rt={pond:Ot,...P};delete Rt.type,ie.element.dispatchEvent(new CustomEvent(`FilePond:${P.type}`,{detail:Rt,bubbles:!0,cancelable:!0,composed:!0}));const et=[];P.hasOwnProperty("error")&&et.push(P.error),P.hasOwnProperty("file")&&et.push(P.file);const qt=["type","error","file"];Object.keys(P).filter(Ge=>!qt.includes(Ge)).forEach(Ge=>et.push(P[Ge])),Ot.fire(P.type,...et);const Vt=y.query(`GET_ON${P.type.toUpperCase()}`);Vt&&Vt(...et)},Me=P=>{P.length&&P.filter(Rt=>we[Rt.type]).forEach(Rt=>{const et=we[Rt.type];(Array.isArray(et)?et:[et]).forEach(qt=>{Rt.type==="DID_INIT_ITEM"?De(qt(Rt.data)):setTimeout(()=>{De(qt(Rt.data))},0)})})},oe=P=>y.dispatch("SET_OPTIONS",{options:P}),Be=P=>y.query("GET_ACTIVE_ITEM",P),lt=P=>new Promise((Rt,et)=>{y.dispatch("REQUEST_ITEM_PREPARE",{query:P,success:qt=>{Rt(qt)},failure:qt=>{et(qt)}})}),F=(P,Rt={})=>new Promise((et,qt)=>{ht([{source:P,options:Rt}],{index:Rt.index}).then(Vt=>et(Vt&&Vt[0])).catch(qt)}),Ee=P=>P.file&&P.id,Ze=(P,Rt)=>(typeof P=="object"&&!Ee(P)&&!Rt&&(Rt=P,P=void 0),y.dispatch("REMOVE_ITEM",{...Rt,query:P}),y.query("GET_ACTIVE_ITEM",P)===null),ht=(...P)=>new Promise((Rt,et)=>{const qt=[],Vt={};if(IH(P[0]))qt.push.apply(qt,P[0]),Object.assign(Vt,P[1]||{});else{const Ge=P[P.length-1];typeof Ge=="object"&&!(Ge instanceof Blob)&&Object.assign(Vt,P.pop()),qt.push(...P)}y.dispatch("ADD_ITEMS",{items:qt,index:Vt.index,interactionMethod:Qp.API,success:Rt,failure:et})}),Et=()=>y.query("GET_ACTIVE_ITEMS"),Ne=P=>new Promise((Rt,et)=>{y.dispatch("REQUEST_ITEM_PROCESSING",{query:P,success:qt=>{Rt(qt)},failure:qt=>{et(qt)}})}),ge=(...P)=>{const Rt=Array.isArray(P[0])?P[0]:P,et=Rt.length?Rt:Et();return Promise.all(et.map(lt))},gn=(...P)=>{const Rt=Array.isArray(P[0])?P[0]:P;if(!Rt.length){const et=Et().filter(qt=>!(qt.status===Bs.IDLE&&qt.origin===xu.LOCAL)&&qt.status!==Bs.PROCESSING&&qt.status!==Bs.PROCESSING_COMPLETE&&qt.status!==Bs.PROCESSING_REVERT_ERROR);return Promise.all(et.map(Ne))}return Promise.all(Rt.map(Ne))},wt=(...P)=>{const Rt=Array.isArray(P[0])?P[0]:P;let et;typeof Rt[Rt.length-1]=="object"?et=Rt.pop():Array.isArray(P[0])&&(et=P[1]);const qt=Et();return Rt.length?Rt.map(Ge=>eA(Ge)?qt[Ge]?qt[Ge].id:null:Ge).filter(Ge=>Ge).map(Ge=>Ze(Ge,et)):Promise.all(qt.map(Ge=>Ze(Ge,et)))},Ot={...MH(),...de,...Aoe(y,h),setOptions:oe,addFile:F,addFiles:ht,getFile:Be,processFile:Ne,prepareFile:lt,removeFile:Ze,moveFile:(P,Rt)=>y.dispatch("MOVE_ITEM",{query:P,index:Rt}),getFiles:Et,processFiles:gn,removeFiles:wt,prepareFiles:ge,sort:P=>y.dispatch("SORT",{compare:P}),browse:()=>{var P=ie.element.querySelector("input[type=file]");P&&P.click()},destroy:()=>{Ot.fire("destroy",ie.element),y.dispatch("ABORT_ALL"),ie._destroy(),window.removeEventListener("resize",Q),document.removeEventListener("visibilitychange",A),y.dispatch("DID_DESTROY")},insertBefore:P=>xX(ie.element,P),insertAfter:P=>OX(ie.element,P),appendTo:P=>P.appendChild(ie.element),replaceElement:P=>{xX(ie.element,P),P.parentNode.removeChild(P),c=P},restoreElement:()=>{c&&(OX(c,ie.element),ie.element.parentNode.removeChild(ie.element),c=null)},isAttachedTo:P=>ie.element===P||c===P,element:{get:()=>ie.element},status:{get:()=>y.query("GET_STATUS")}};return y.dispatch("DID_INIT"),Dw(Ot)},KJ=(a={})=>{const c={};return dl(yH(),(y,A)=>{c[y]=A[0]}),Tie({...c,...a})},Cie=a=>a.charAt(0).toLowerCase()+a.slice(1),Sie=a=>ZJ(a.replace(/^data-/,"")),XJ=(a,c)=>{dl(c,(h,y)=>{dl(a,(A,N)=>{const D=new RegExp(h);if(!D.test(A)||(delete a[A],y===!1))return;if(vh(y)){a[y]=N;return}const G=y.group;sd(y)&&!a[G]&&(a[G]={}),a[G][Cie(A.replace(D,""))]=N}),y.mapping&&XJ(a[y.group],y.mapping)})},Aie=(a,c={})=>{const h=[];dl(a.attributes,A=>{h.push(a.attributes[A])});const y=h.filter(A=>A.name).reduce((A,N)=>{const D=ru(a,N.name);return A[Sie(N.name)]=D===N.name?!0:D,A},{});return XJ(y,c),y},xie=(a,c={})=>{const h={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};dA("SET_ATTRIBUTE_TO_OPTION_MAP",h);const y={...c},A=Aie(a.nodeName==="FIELDSET"?a.querySelector("input[type=file]"):a,h);Object.keys(A).forEach(D=>{sd(A[D])?(sd(y[D])||(y[D]={}),Object.assign(y[D],A[D])):y[D]=A[D]}),y.files=(c.files||[]).concat(Array.from(a.querySelectorAll("input:not([type=file])")).map(D=>({source:D.value,options:{type:D.dataset.type}})));const N=KJ(y);return a.files&&Array.from(a.files).forEach(D=>{N.addFile(D)}),N.replaceElement(a),N},Oie=(...a)=>Fne(a[0])?xie(...a):KJ(...a),Rie=["fire","_read","_write"],rQ=a=>{const c={};return bJ(a,c,Rie),c},Iie=(a,c)=>a.replace(/(?:{([a-zA-Z]+)})/g,(h,y)=>c[y]),Die=a=>{const c=new Blob(["(",a.toString(),")()"],{type:"application/javascript"}),h=URL.createObjectURL(c),y=new Worker(h);return{transfer:(A,N)=>{},post:(A,N,D)=>{const U=YZ();y.onmessage=G=>{G.data.id===U&&N(G.data.message)},y.postMessage({id:U,message:A},D)},terminate:()=>{y.terminate(),URL.revokeObjectURL(h)}}},Nie=a=>new Promise((c,h)=>{const y=new Image;y.onload=()=>{c(y)},y.onerror=A=>{h(A)},y.src=a}),QJ=(a,c)=>{const h=a.slice(0,a.size,a.type);return h.lastModifiedDate=a.lastModifiedDate,h.name=c,h},Mie=a=>QJ(a,a.name),iQ=[],kie=a=>{if(iQ.includes(a))return;iQ.push(a);const c=a({addFilter:Moe,utils:{Type:vn,forin:dl,isString:vh,isFile:WO,toNaturalFileSize:DJ,replaceInString:Iie,getExtensionFromFilename:kH,getFilenameWithoutExtension:OJ,guesstimateMimeType:UJ,getFileFromBlob:zO,getFilenameFromURL:sk,createRoute:bh,createWorker:Die,createView:iu,createItemAPI:_m,loadImage:Nie,copyFile:Mie,renameFile:QJ,createBlob:SJ,applyFilterChain:vv,text:Pl,getNumericAspectRatioFromString:EJ},views:{fileActionButton:IJ}});koe(c.options)},Pie=()=>Object.prototype.toString.call(window.operamini)==="[object OperaMini]",Lie=()=>"Promise"in window,$ie=()=>"slice"in Blob.prototype,Bie=()=>"URL"in window&&"createObjectURL"in window.URL,Fie=()=>"visibilityState"in document,Hie=()=>"performance"in window,Vie=()=>"supports"in(window.CSS||{}),Uie=()=>/MSIE|Trident/.test(window.navigator.userAgent),xZ=(()=>{const a=fJ()&&!Pie()&&Fie()&&Lie()&&$ie()&&Bie()&&Hie()&&(Vie()||Uie());return()=>a})(),xw={apps:[]},zie="filepond",fA=()=>{};let JJ={},eee={},tee={},OZ={},sH=fA,rH=fA,RZ=fA,IZ=fA,wH=fA,DZ=fA,NZ=fA;if(xZ()){doe(()=>{xw.apps.forEach(h=>h._read())},h=>{xw.apps.forEach(y=>y._write(h))});const a=()=>{document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:xZ,create:sH,destroy:rH,parse:RZ,find:IZ,registerPlugin:wH,setOptions:NZ}})),document.removeEventListener("DOMContentLoaded",a)};document.readyState!=="loading"?setTimeout(()=>a(),0):document.addEventListener("DOMContentLoaded",a);const c=()=>dl(yH(),(h,y)=>{OZ[h]=y[1]});JJ={...wJ},tee={...xu},eee={...Bs},OZ={},c(),sH=(...h)=>{const y=Oie(...h);return y.on("destroy",rH),xw.apps.push(y),rQ(y)},rH=h=>{const y=xw.apps.findIndex(A=>A.isAttachedTo(h));return y>=0?(xw.apps.splice(y,1)[0].restoreElement(),!0):!1},RZ=h=>Array.from(h.querySelectorAll(`.${zie}`)).filter(N=>!xw.apps.find(D=>D.isAttachedTo(N))).map(N=>sH(N)),IZ=h=>{const y=xw.apps.find(A=>A.isAttachedTo(h));return y?rQ(y):null},wH=(...h)=>{h.forEach(kie),c()},DZ=()=>{const h={};return dl(yH(),(y,A)=>{h[y]=A[0]}),h},NZ=h=>(sd(h)&&(xw.apps.forEach(y=>{y.setOptions(h)}),Poe(h)),DZ())}const Wie=Object.freeze(Object.defineProperty({__proto__:null,get FileOrigin(){return tee},get FileStatus(){return eee},get OptionTypes(){return OZ},get Status(){return JJ},get create(){return sH},get destroy(){return rH},get find(){return IZ},get getOptions(){return DZ},get parse(){return RZ},get registerPlugin(){return wH},get setOptions(){return NZ},supported:xZ},Symbol.toStringTag,{value:"Module"}));/*!
 * FilePondPluginFileValidateType 1.2.8
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const Gie=({addFilter:a,utils:c})=>{const{Type:h,isString:y,replaceInString:A,guesstimateMimeType:N,getExtensionFromFilename:D,getFilenameFromURL:U}=c,G=(ve,de)=>{const fe=(/^[^/]+/.exec(ve)||[]).pop(),we=de.slice(0,-2);return fe===we},K=(ve,de)=>ve.some(fe=>/\*$/.test(fe)?G(de,fe):fe===de),Q=ve=>{let de="";if(y(ve)){const fe=U(ve),we=D(fe);we&&(de=N(we))}else de=ve.type;return de},ie=(ve,de,fe)=>{if(de.length===0)return!0;const we=Q(ve);return fe?new Promise((De,Me)=>{fe(ve,we).then(oe=>{K(de,oe)?De():Me()}).catch(Me)}):K(de,we)},_e=ve=>de=>ve[de]===null?!1:ve[de]||de;return a("SET_ATTRIBUTE_TO_OPTION_MAP",ve=>Object.assign(ve,{accept:"acceptedFileTypes"})),a("ALLOW_HOPPER_ITEM",(ve,{query:de})=>de("GET_ALLOW_FILE_TYPE_VALIDATION")?ie(ve,de("GET_ACCEPTED_FILE_TYPES")):!0),a("LOAD_FILE",(ve,{query:de})=>new Promise((fe,we)=>{if(!de("GET_ALLOW_FILE_TYPE_VALIDATION")){fe(ve);return}const De=de("GET_ACCEPTED_FILE_TYPES"),Me=de("GET_FILE_VALIDATE_TYPE_DETECT_TYPE"),oe=ie(ve,De,Me),Be=()=>{const lt=De.map(_e(de("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"))).filter(Ee=>Ee!==!1),F=lt.filter(function(Ee,Ze){return lt.indexOf(Ee)===Ze});we({status:{main:de("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:A(de("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:F.join(", "),allButLastType:F.slice(0,-1).join(", "),lastType:F[lt.length-1]})}})};if(typeof oe=="boolean")return oe?fe(ve):Be();oe.then(()=>{fe(ve)}).catch(Be)})),{options:{allowFileTypeValidation:[!0,h.BOOLEAN],acceptedFileTypes:[[],h.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",h.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",h.STRING],fileValidateTypeLabelExpectedTypesMap:[{},h.OBJECT],fileValidateTypeDetectType:[null,h.FUNCTION]}}},qie=typeof window<"u"&&typeof window.document<"u";qie&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Gie}));/*!
 * FilePondPluginImagePreview 4.6.11
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const jie=a=>/^image/.test(a.type),aQ=(a,c)=>ek(a.x*c,a.y*c),cQ=(a,c)=>ek(a.x+c.x,a.y+c.y),Zie=a=>{const c=Math.sqrt(a.x*a.x+a.y*a.y);return c===0?{x:0,y:0}:ek(a.x/c,a.y/c)},j5=(a,c,h)=>{const y=Math.cos(c),A=Math.sin(c),N=ek(a.x-h.x,a.y-h.y);return ek(h.x+y*N.x-A*N.y,h.y+A*N.x+y*N.y)},ek=(a=0,c=0)=>({x:a,y:c}),Em=(a,c,h=1,y)=>{if(typeof a=="string")return parseFloat(a)*h;if(typeof a=="number")return a*(y?c[y]:Math.min(c.width,c.height))},Yie=(a,c,h)=>{const y=a.borderStyle||a.lineStyle||"solid",A=a.backgroundColor||a.fontColor||"transparent",N=a.borderColor||a.lineColor||"transparent",D=Em(a.borderWidth||a.lineWidth,c,h),U=a.lineCap||"round",G=a.lineJoin||"round",K=typeof y=="string"?"":y.map(ie=>Em(ie,c,h)).join(","),Q=a.opacity||1;return{"stroke-linecap":U,"stroke-linejoin":G,"stroke-width":D||0,"stroke-dasharray":K,stroke:N,fill:A,opacity:Q}},Kp=a=>a!=null,Kie=(a,c,h=1)=>{let y=Em(a.x,c,h,"width")||Em(a.left,c,h,"width"),A=Em(a.y,c,h,"height")||Em(a.top,c,h,"height"),N=Em(a.width,c,h,"width"),D=Em(a.height,c,h,"height"),U=Em(a.right,c,h,"width"),G=Em(a.bottom,c,h,"height");return Kp(A)||(Kp(D)&&Kp(G)?A=c.height-D-G:A=G),Kp(y)||(Kp(N)&&Kp(U)?y=c.width-N-U:y=U),Kp(N)||(Kp(y)&&Kp(U)?N=c.width-y-U:N=0),Kp(D)||(Kp(A)&&Kp(G)?D=c.height-A-G:D=0),{x:y||0,y:A||0,width:N||0,height:D||0}},Xie=a=>a.map((c,h)=>`${h===0?"M":"L"} ${c.x} ${c.y}`).join(" "),Zb=(a,c)=>Object.keys(c).forEach(h=>a.setAttribute(h,c[h])),Qie="http://www.w3.org/2000/svg",LO=(a,c)=>{const h=document.createElementNS(Qie,a);return c&&Zb(h,c),h},Jie=a=>Zb(a,{...a.rect,...a.styles}),eae=a=>{const c=a.rect.x+a.rect.width*.5,h=a.rect.y+a.rect.height*.5,y=a.rect.width*.5,A=a.rect.height*.5;return Zb(a,{cx:c,cy:h,rx:y,ry:A,...a.styles})},tae={contain:"xMidYMid meet",cover:"xMidYMid slice"},nae=(a,c)=>{Zb(a,{...a.rect,...a.styles,preserveAspectRatio:tae[c.fit]||"none"})},oae={left:"start",center:"middle",right:"end"},sae=(a,c,h,y)=>{const A=Em(c.fontSize,h,y),N=c.fontFamily||"sans-serif",D=c.fontWeight||"normal",U=oae[c.textAlign]||"start";Zb(a,{...a.rect,...a.styles,"stroke-width":0,"font-weight":D,"font-size":A,"font-family":N,"text-anchor":U}),a.text!==c.text&&(a.text=c.text,a.textContent=c.text.length?c.text:" ")},rae=(a,c,h,y)=>{Zb(a,{...a.rect,...a.styles,fill:"none"});const A=a.childNodes[0],N=a.childNodes[1],D=a.childNodes[2],U=a.rect,G={x:a.rect.x+a.rect.width,y:a.rect.y+a.rect.height};if(Zb(A,{x1:U.x,y1:U.y,x2:G.x,y2:G.y}),!c.lineDecoration)return;N.style.display="none",D.style.display="none";const K=Zie({x:G.x-U.x,y:G.y-U.y}),Q=Em(.05,h,y);if(c.lineDecoration.indexOf("arrow-begin")!==-1){const ie=aQ(K,Q),_e=cQ(U,ie),ve=j5(U,2,_e),de=j5(U,-2,_e);Zb(N,{style:"display:block;",d:`M${ve.x},${ve.y} L${U.x},${U.y} L${de.x},${de.y}`})}if(c.lineDecoration.indexOf("arrow-end")!==-1){const ie=aQ(K,-Q),_e=cQ(G,ie),ve=j5(G,2,_e),de=j5(G,-2,_e);Zb(D,{style:"display:block;",d:`M${ve.x},${ve.y} L${G.x},${G.y} L${de.x},${de.y}`})}},iae=(a,c,h,y)=>{Zb(a,{...a.styles,fill:"none",d:Xie(c.points.map(A=>({x:Em(A.x,h,y,"width"),y:Em(A.y,h,y,"height")})))})},Z5=a=>c=>LO(a,{id:c.id}),aae=a=>{const c=LO("image",{id:a.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return c.onload=()=>{c.setAttribute("opacity",a.opacity||1)},c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a.src),c},cae=a=>{const c=LO("g",{id:a.id,"stroke-linecap":"round","stroke-linejoin":"round"}),h=LO("line");c.appendChild(h);const y=LO("path");c.appendChild(y);const A=LO("path");return c.appendChild(A),c},lae={image:aae,rect:Z5("rect"),ellipse:Z5("ellipse"),text:Z5("text"),path:Z5("path"),line:cae},uae={rect:Jie,ellipse:eae,image:nae,text:sae,path:iae,line:rae},dae=(a,c)=>lae[a](c),fae=(a,c,h,y,A)=>{c!=="path"&&(a.rect=Kie(h,y,A)),a.styles=Yie(h,y,A),uae[c](a,h,y,A)},hae=["x","y","left","top","right","bottom","width","height"],mae=a=>typeof a=="string"&&/%/.test(a)?parseFloat(a)/100:a,gae=a=>{const[c,h]=a,y=h.points?{}:hae.reduce((A,N)=>(A[N]=mae(h[N]),A),{});return[c,{zIndex:0,...h,...y}]},pae=(a,c)=>a[1].zIndex>c[1].zIndex?1:a[1].zIndex<c[1].zIndex?-1:0,vae=a=>a.utils.createView({name:"image-preview-markup",tag:"svg",ignoreRect:!0,mixins:{apis:["width","height","crop","markup","resize","dirty"]},write:({root:c,props:h})=>{if(!h.dirty)return;const{crop:y,resize:A,markup:N}=h,D=h.width,U=h.height;let G=y.width,K=y.height;if(A){const{size:ve}=A;let de=ve&&ve.width,fe=ve&&ve.height;const we=A.mode,De=A.upscale;de&&!fe&&(fe=de),fe&&!de&&(de=fe);const Me=G<de&&K<fe;if(!Me||Me&&De){let oe=de/G,Be=fe/K;if(we==="force")G=de,K=fe;else{let lt;we==="cover"?lt=Math.max(oe,Be):we==="contain"&&(lt=Math.min(oe,Be)),G=G*lt,K=K*lt}}}const Q={width:D,height:U};c.element.setAttribute("width",Q.width),c.element.setAttribute("height",Q.height);const ie=Math.min(D/G,U/K);c.element.innerHTML="";const _e=c.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");N.filter(_e).map(gae).sort(pae).forEach(ve=>{const[de,fe]=ve,we=dae(de,fe);fae(we,de,fe,Q,ie),c.element.appendChild(we)})}}),KM=(a,c)=>({x:a,y:c}),bae=(a,c)=>a.x*c.x+a.y*c.y,lQ=(a,c)=>KM(a.x-c.x,a.y-c.y),yae=(a,c)=>bae(lQ(a,c),lQ(a,c)),uQ=(a,c)=>Math.sqrt(yae(a,c)),dQ=(a,c)=>{const h=a,y=1.5707963267948966,A=c,N=1.5707963267948966-c,D=Math.sin(y),U=Math.sin(A),G=Math.sin(N),K=Math.cos(N),Q=h/D,ie=Q*U,_e=Q*G;return KM(K*ie,K*_e)},_ae=(a,c)=>{const h=a.width,y=a.height,A=dQ(h,c),N=dQ(y,c),D=KM(a.x+Math.abs(A.x),a.y-Math.abs(A.y)),U=KM(a.x+a.width+Math.abs(N.y),a.y+Math.abs(N.x)),G=KM(a.x-Math.abs(N.y),a.y+a.height-Math.abs(N.x));return{width:uQ(D,U),height:uQ(D,G)}},Eae=(a,c,h=1)=>{const y=a.height/a.width;let A=1,N=c,D=1,U=y;U>N&&(U=N,D=U/y);const G=Math.max(A/D,N/U),K=a.width/(h*G*D),Q=K*c;return{width:K,height:Q}},nee=(a,c,h,y)=>{const A=y.x>.5?1-y.x:y.x,N=y.y>.5?1-y.y:y.y,D=A*2*a.width,U=N*2*a.height,G=_ae(c,h);return Math.max(G.width/D,G.height/U)},oee=(a,c)=>{let h=a.width,y=h*c;y>a.height&&(y=a.height,h=y/c);const A=(a.width-h)*.5,N=(a.height-y)*.5;return{x:A,y:N,width:h,height:y}},wae=(a,c={})=>{let{zoom:h,rotation:y,center:A,aspectRatio:N}=c;N||(N=a.height/a.width);const D=Eae(a,N,h),U={x:D.width*.5,y:D.height*.5},G={x:0,y:0,width:D.width,height:D.height,center:U},K=typeof c.scaleToFit>"u"||c.scaleToFit,Q=nee(a,oee(G,N),y,K?A:{x:.5,y:.5}),ie=h*Q;return{widthFloat:D.width/ie,heightFloat:D.height/ie,width:Math.round(D.width/ie),height:Math.round(D.height/ie)}},jb={type:"spring",stiffness:.5,damping:.45,mass:10},Tae=a=>a.utils.createView({name:"image-bitmap",ignoreRect:!0,mixins:{styles:["scaleX","scaleY"]},create:({root:c,props:h})=>{c.appendChild(h.image)}}),Cae=a=>a.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:!0,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:jb,originY:jb,scaleX:jb,scaleY:jb,translateX:jb,translateY:jb,rotateZ:jb}},create:({root:c,props:h})=>{h.width=h.image.width,h.height=h.image.height,c.ref.bitmap=c.appendChildView(c.createChildView(Tae(a),{image:h.image}))},write:({root:c,props:h})=>{const{flip:y}=h.crop,{bitmap:A}=c.ref;A.scaleX=y.horizontal?-1:1,A.scaleY=y.vertical?-1:1}}),Sae=a=>a.utils.createView({name:"image-clip",tag:"div",ignoreRect:!0,mixins:{apis:["crop","markup","resize","width","height","dirty","background"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},didWriteView:function({root:c,props:h}){h.background&&(c.element.style.backgroundColor=h.background)},create:({root:c,props:h})=>{c.ref.image=c.appendChildView(c.createChildView(Cae(a),Object.assign({},h))),c.ref.createMarkup=()=>{c.ref.markup||(c.ref.markup=c.appendChildView(c.createChildView(vae(a),Object.assign({},h))))},c.ref.destroyMarkup=()=>{c.ref.markup&&(c.removeChildView(c.ref.markup),c.ref.markup=null)};const y=c.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");y!==null&&(y==="grid"?c.element.dataset.transparencyIndicator=y:c.element.dataset.transparencyIndicator="color")},write:({root:c,props:h,shouldOptimize:y})=>{const{crop:A,markup:N,resize:D,dirty:U,width:G,height:K}=h;c.ref.image.crop=A;const Q={x:0,y:0,width:G,height:K,center:{x:G*.5,y:K*.5}},ie={width:c.ref.image.width,height:c.ref.image.height},_e={x:A.center.x*ie.width,y:A.center.y*ie.height},ve={x:Q.center.x-ie.width*A.center.x,y:Q.center.y-ie.height*A.center.y},de=Math.PI*2+A.rotation%(Math.PI*2),fe=A.aspectRatio||ie.height/ie.width,we=typeof A.scaleToFit>"u"||A.scaleToFit,De=nee(ie,oee(Q,fe),de,we?A.center:{x:.5,y:.5}),Me=A.zoom*De;N&&N.length?(c.ref.createMarkup(),c.ref.markup.width=G,c.ref.markup.height=K,c.ref.markup.resize=D,c.ref.markup.dirty=U,c.ref.markup.markup=N,c.ref.markup.crop=wae(ie,A)):c.ref.markup&&c.ref.destroyMarkup();const oe=c.ref.image;if(y){oe.originX=null,oe.originY=null,oe.translateX=null,oe.translateY=null,oe.rotateZ=null,oe.scaleX=null,oe.scaleY=null;return}oe.originX=_e.x,oe.originY=_e.y,oe.translateX=ve.x,oe.translateY=ve.y,oe.rotateZ=de,oe.scaleX=Me,oe.scaleY=Me}}),Aae=a=>a.utils.createView({name:"image-preview",tag:"div",ignoreRect:!0,mixins:{apis:["image","crop","markup","resize","dirty","background"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:jb,scaleY:jb,translateY:jb,opacity:{type:"tween",duration:400}}},create:({root:c,props:h})=>{c.ref.clip=c.appendChildView(c.createChildView(Sae(a),{id:h.id,image:h.image,crop:h.crop,markup:h.markup,resize:h.resize,dirty:h.dirty,background:h.background}))},write:({root:c,props:h,shouldOptimize:y})=>{const{clip:A}=c.ref,{image:N,crop:D,markup:U,resize:G,dirty:K}=h;if(A.crop=D,A.markup=U,A.resize=G,A.dirty=K,A.opacity=y?0:1,y||c.rect.element.hidden)return;const Q=N.height/N.width;let ie=D.aspectRatio||Q;const _e=c.rect.inner.width,ve=c.rect.inner.height;let de=c.query("GET_IMAGE_PREVIEW_HEIGHT");const fe=c.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),we=c.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),De=c.query("GET_PANEL_ASPECT_RATIO"),Me=c.query("GET_ALLOW_MULTIPLE");De&&!Me&&(de=_e*De,ie=De);let oe=de!==null?de:Math.max(fe,Math.min(_e*ie,we)),Be=oe/ie;Be>_e&&(Be=_e,oe=Be*ie),oe>ve&&(oe=ve,Be=ve/ie),A.width=Be,A.height=oe}});let xae=`<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">
    <defs>
        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">
            <stop offset='50%' stop-color='#000000'/>
            <stop offset='56%' stop-color='#0a0a0a'/>
            <stop offset='63%' stop-color='#262626'/>
            <stop offset='69%' stop-color='#4f4f4f'/>
            <stop offset='75%' stop-color='#808080'/>
            <stop offset='81%' stop-color='#b1b1b1'/>
            <stop offset='88%' stop-color='#dadada'/>
            <stop offset='94%' stop-color='#f6f6f6'/>
            <stop offset='100%' stop-color='#ffffff'/>
        </radialGradient>
        <mask id="mask-__UID__">
            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>
        </mask>
    </defs>
    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>
</svg>`,fQ=0;const Oae=a=>a.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:!0,create:({root:c,props:h})=>{let y=xae;if(document.querySelector("base")){const A=new URL(window.location.href.replace(window.location.hash,"")).href;y=y.replace(/url\(\#/g,"url("+A+"#")}fQ++,c.element.classList.add(`filepond--image-preview-overlay-${h.status}`),c.element.innerHTML=y.replace(/__UID__/g,fQ)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}}),Rae=function(){self.onmessage=a=>{createImageBitmap(a.data.message.file).then(c=>{self.postMessage({id:a.data.id,message:c},[c])})}},Iae=function(){self.onmessage=a=>{const c=a.data.message.imageData,h=a.data.message.colorMatrix,y=c.data,A=y.length,N=h[0],D=h[1],U=h[2],G=h[3],K=h[4],Q=h[5],ie=h[6],_e=h[7],ve=h[8],de=h[9],fe=h[10],we=h[11],De=h[12],Me=h[13],oe=h[14],Be=h[15],lt=h[16],F=h[17],Ee=h[18],Ze=h[19];let ht=0,Et=0,Ne=0,ge=0,gn=0;for(;ht<A;ht+=4)Et=y[ht]/255,Ne=y[ht+1]/255,ge=y[ht+2]/255,gn=y[ht+3]/255,y[ht]=Math.max(0,Math.min((Et*N+Ne*D+ge*U+gn*G+K)*255,255)),y[ht+1]=Math.max(0,Math.min((Et*Q+Ne*ie+ge*_e+gn*ve+de)*255,255)),y[ht+2]=Math.max(0,Math.min((Et*fe+Ne*we+ge*De+gn*Me+oe)*255,255)),y[ht+3]=Math.max(0,Math.min((Et*Be+Ne*lt+ge*F+gn*Ee+Ze)*255,255));self.postMessage({id:a.data.id,message:c},[c.data.buffer])}},Dae=(a,c)=>{let h=new Image;h.onload=()=>{const y=h.naturalWidth,A=h.naturalHeight;h=null,c(y,A)},h.src=a},Nae={1:()=>[1,0,0,1,0,0],2:a=>[-1,0,0,1,a,0],3:(a,c)=>[-1,0,0,-1,a,c],4:(a,c)=>[1,0,0,-1,0,c],5:()=>[0,1,1,0,0,0],6:(a,c)=>[0,1,-1,0,c,0],7:(a,c)=>[0,-1,-1,0,c,a],8:a=>[0,-1,1,0,0,a]},Mae=(a,c,h,y)=>{y!==-1&&a.transform.apply(a,Nae[y](c,h))},kae=(a,c,h,y)=>{c=Math.round(c),h=Math.round(h);const A=document.createElement("canvas");A.width=c,A.height=h;const N=A.getContext("2d");return y>=5&&y<=8&&([c,h]=[h,c]),Mae(N,c,h,y),N.drawImage(a,0,0,c,h),A},see=a=>/^image/.test(a.type)&&!/svg/.test(a.type),Pae=10,Lae=10,$ae=a=>{const c=Math.min(Pae/a.width,Lae/a.height),h=document.createElement("canvas"),y=h.getContext("2d"),A=h.width=Math.ceil(a.width*c),N=h.height=Math.ceil(a.height*c);y.drawImage(a,0,0,A,N);let D=null;try{D=y.getImageData(0,0,A,N).data}catch{return null}const U=D.length;let G=0,K=0,Q=0,ie=0;for(;ie<U;ie+=4)G+=D[ie]*D[ie],K+=D[ie+1]*D[ie+1],Q+=D[ie+2]*D[ie+2];return G=Kj(G,U),K=Kj(K,U),Q=Kj(Q,U),{r:G,g:K,b:Q}},Kj=(a,c)=>Math.floor(Math.sqrt(a/(c/4))),Bae=(a,c)=>(c=c||document.createElement("canvas"),c.width=a.width,c.height=a.height,c.getContext("2d").drawImage(a,0,0),c),Fae=a=>{let c;try{c=new ImageData(a.width,a.height)}catch{c=document.createElement("canvas").getContext("2d").createImageData(a.width,a.height)}return c.data.set(new Uint8ClampedArray(a.data)),c},Hae=a=>new Promise((c,h)=>{const y=new Image;y.crossOrigin="Anonymous",y.onload=()=>{c(y)},y.onerror=A=>{h(A)},y.src=a}),Vae=a=>{const c=Oae(a),h=Aae(a),{createWorker:y}=a.utils,A=(Me,oe,Be)=>new Promise(lt=>{Me.ref.imageData||(Me.ref.imageData=Be.getContext("2d").getImageData(0,0,Be.width,Be.height));const F=Fae(Me.ref.imageData);if(!oe||oe.length!==20)return Be.getContext("2d").putImageData(F,0,0),lt();const Ee=y(Iae);Ee.post({imageData:F,colorMatrix:oe},Ze=>{Be.getContext("2d").putImageData(Ze,0,0),Ee.terminate(),lt()},[F.data.buffer])}),N=(Me,oe)=>{Me.removeChildView(oe),oe.image.width=1,oe.image.height=1,oe._destroy()},D=({root:Me})=>{const oe=Me.ref.images.shift();return oe.opacity=0,oe.translateY=-15,Me.ref.imageViewBin.push(oe),oe},U=({root:Me,props:oe,image:Be})=>{const lt=oe.id,F=Me.query("GET_ITEM",{id:lt});if(!F)return;const Ee=F.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},Ze=Me.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR");let ht,Et,Ne=!1;Me.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(ht=F.getMetadata("markup")||[],Et=F.getMetadata("resize"),Ne=!0);const ge=Me.appendChildView(Me.createChildView(h,{id:lt,image:Be,crop:Ee,resize:Et,markup:ht,dirty:Ne,background:Ze,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),Me.childViews.length);Me.ref.images.push(ge),ge.opacity=1,ge.scaleX=1,ge.scaleY=1,ge.translateY=0,setTimeout(()=>{Me.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:lt})},250)},G=({root:Me,props:oe})=>{const Be=Me.query("GET_ITEM",{id:oe.id});if(!Be)return;const lt=Me.ref.images[Me.ref.images.length-1];lt.crop=Be.getMetadata("crop"),lt.background=Me.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),Me.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(lt.dirty=!0,lt.resize=Be.getMetadata("resize"),lt.markup=Be.getMetadata("markup"))},K=({root:Me,props:oe,action:Be})=>{if(!/crop|filter|markup|resize/.test(Be.change.key)||!Me.ref.images.length)return;const lt=Me.query("GET_ITEM",{id:oe.id});if(lt){if(/filter/.test(Be.change.key)){const F=Me.ref.images[Me.ref.images.length-1];A(Me,Be.change.value,F.image);return}if(/crop|markup|resize/.test(Be.change.key)){const F=lt.getMetadata("crop"),Ee=Me.ref.images[Me.ref.images.length-1];if(F&&F.aspectRatio&&Ee.crop&&Ee.crop.aspectRatio&&Math.abs(F.aspectRatio-Ee.crop.aspectRatio)>1e-5){const Ze=D({root:Me});U({root:Me,props:oe,image:Bae(Ze.image)})}else G({root:Me,props:oe})}}},Q=Me=>{const Be=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./);return(Be?parseInt(Be[1]):null)<=58?!1:"createImageBitmap"in window&&see(Me)},ie=({root:Me,props:oe})=>{const{id:Be}=oe,lt=Me.query("GET_ITEM",Be);if(!lt)return;const F=URL.createObjectURL(lt.file);Dae(F,(Ee,Ze)=>{Me.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:Be,width:Ee,height:Ze})})},_e=({root:Me,props:oe})=>{const{id:Be}=oe,lt=Me.query("GET_ITEM",Be);if(!lt)return;const F=URL.createObjectURL(lt.file),Ee=()=>{Hae(F).then(Ze)},Ze=ht=>{URL.revokeObjectURL(F);const Ne=(lt.getMetadata("exif")||{}).orientation||-1;let{width:ge,height:gn}=ht;if(!ge||!gn)return;Ne>=5&&Ne<=8&&([ge,gn]=[gn,ge]);const wt=Math.max(1,window.devicePixelRatio*.75),P=Me.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR")*wt,Rt=gn/ge,et=Me.rect.element.width,qt=Me.rect.element.height;let Vt=et,Ge=Vt*Rt;Rt>1?(Vt=Math.min(ge,et*P),Ge=Vt*Rt):(Ge=Math.min(gn,qt*P),Vt=Ge/Rt);const vo=kae(ht,Vt,Ge,Ne),Bo=()=>{const Fo=Me.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?$ae(data):null;lt.setMetadata("color",Fo,!0),"close"in ht&&ht.close(),Me.ref.overlayShadow.opacity=1,U({root:Me,props:oe,image:vo})},ao=lt.getMetadata("filter");ao?A(Me,ao,vo).then(Bo):Bo()};if(Q(lt.file)){const ht=y(Rae);ht.post({file:lt.file},Et=>{if(ht.terminate(),!Et){Ee();return}Ze(Et)})}else Ee()},ve=({root:Me})=>{const oe=Me.ref.images[Me.ref.images.length-1];oe.translateY=0,oe.scaleX=1,oe.scaleY=1,oe.opacity=1},de=({root:Me})=>{Me.ref.overlayShadow.opacity=1,Me.ref.overlayError.opacity=0,Me.ref.overlaySuccess.opacity=0},fe=({root:Me})=>{Me.ref.overlayShadow.opacity=.25,Me.ref.overlayError.opacity=1},we=({root:Me})=>{Me.ref.overlayShadow.opacity=.25,Me.ref.overlaySuccess.opacity=1},De=({root:Me})=>{Me.ref.images=[],Me.ref.imageData=null,Me.ref.imageViewBin=[],Me.ref.overlayShadow=Me.appendChildView(Me.createChildView(c,{opacity:0,status:"idle"})),Me.ref.overlaySuccess=Me.appendChildView(Me.createChildView(c,{opacity:0,status:"success"})),Me.ref.overlayError=Me.appendChildView(Me.createChildView(c,{opacity:0,status:"failure"}))};return a.utils.createView({name:"image-preview-wrapper",create:De,styles:["height"],apis:["height"],destroy:({root:Me})=>{Me.ref.images.forEach(oe=>{oe.image.width=1,oe.image.height=1})},didWriteView:({root:Me})=>{Me.ref.images.forEach(oe=>{oe.dirty=!1})},write:a.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:ve,DID_IMAGE_PREVIEW_CONTAINER_CREATE:ie,DID_FINISH_CALCULATE_PREVIEWSIZE:_e,DID_UPDATE_ITEM_METADATA:K,DID_THROW_ITEM_LOAD_ERROR:fe,DID_THROW_ITEM_PROCESSING_ERROR:fe,DID_THROW_ITEM_INVALID:fe,DID_COMPLETE_ITEM_PROCESSING:we,DID_START_ITEM_PROCESSING:de,DID_REVERT_ITEM_PROCESSING:de},({root:Me})=>{const oe=Me.ref.imageViewBin.filter(Be=>Be.opacity===0);Me.ref.imageViewBin=Me.ref.imageViewBin.filter(Be=>Be.opacity>0),oe.forEach(Be=>N(Me,Be)),oe.length=0})})},ree=a=>{const{addFilter:c,utils:h}=a,{Type:y,createRoute:A,isFile:N}=h,D=Vae(a);return c("CREATE_VIEW",U=>{const{is:G,view:K,query:Q}=U;if(!G("file")||!Q("GET_ALLOW_IMAGE_PREVIEW"))return;const ie=({root:we,props:De})=>{const{id:Me}=De,oe=Q("GET_ITEM",Me);if(!oe||!N(oe.file)||oe.archived)return;const Be=oe.file;if(!jie(Be)||!Q("GET_IMAGE_PREVIEW_FILTER_ITEM")(oe))return;const lt="createImageBitmap"in(window||{}),F=Q("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!lt&&F&&Be.size>F)return;we.ref.imagePreview=K.appendChildView(K.createChildView(D,{id:Me}));const Ee=we.query("GET_IMAGE_PREVIEW_HEIGHT");Ee&&we.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:oe.id,height:Ee});const Ze=!lt&&Be.size>Q("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");we.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:Me},Ze)},_e=(we,De)=>{if(!we.ref.imagePreview)return;let{id:Me}=De;const oe=we.query("GET_ITEM",{id:Me});if(!oe)return;const Be=we.query("GET_PANEL_ASPECT_RATIO"),lt=we.query("GET_ITEM_PANEL_ASPECT_RATIO"),F=we.query("GET_IMAGE_PREVIEW_HEIGHT");if(Be||lt||F)return;let{imageWidth:Ee,imageHeight:Ze}=we.ref;if(!Ee||!Ze)return;const ht=we.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),Et=we.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),ge=(oe.getMetadata("exif")||{}).orientation||-1;if(ge>=5&&ge<=8&&([Ee,Ze]=[Ze,Ee]),!see(oe.file)||we.query("GET_IMAGE_PREVIEW_UPSCALE")){const et=2048/Ee;Ee*=et,Ze*=et}const gn=Ze/Ee,wt=(oe.getMetadata("crop")||{}).aspectRatio||gn;let Ot=Math.max(ht,Math.min(Ze,Et));const P=we.rect.element.width,Rt=Math.min(P*wt,Ot);we.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:oe.id,height:Rt})},ve=({root:we})=>{we.ref.shouldRescale=!0},de=({root:we,action:De})=>{De.change.key==="crop"&&(we.ref.shouldRescale=!0)},fe=({root:we,action:De})=>{we.ref.imageWidth=De.width,we.ref.imageHeight=De.height,we.ref.shouldRescale=!0,we.ref.shouldDrawPreview=!0,we.dispatch("KICK")};K.registerWriter(A({DID_RESIZE_ROOT:ve,DID_STOP_RESIZE:ve,DID_LOAD_ITEM:ie,DID_IMAGE_PREVIEW_CALCULATE_SIZE:fe,DID_UPDATE_ITEM_METADATA:de},({root:we,props:De})=>{we.ref.imagePreview&&(we.rect.element.hidden||(we.ref.shouldRescale&&(_e(we,De),we.ref.shouldRescale=!1),we.ref.shouldDrawPreview&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{we.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:De.id})})}),we.ref.shouldDrawPreview=!1)))}))}),{options:{allowImagePreview:[!0,y.BOOLEAN],imagePreviewFilterItem:[()=>!0,y.FUNCTION],imagePreviewHeight:[null,y.INT],imagePreviewMinHeight:[44,y.INT],imagePreviewMaxHeight:[256,y.INT],imagePreviewMaxFileSize:[null,y.INT],imagePreviewZoomFactor:[2,y.INT],imagePreviewUpscale:[!1,y.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,y.INT],imagePreviewTransparencyIndicator:[null,y.STRING],imagePreviewCalculateAverageImageColor:[!1,y.BOOLEAN],imagePreviewMarkupShow:[!0,y.BOOLEAN],imagePreviewMarkupFilter:[()=>!0,y.FUNCTION]}}},Uae=typeof window<"u"&&typeof window.document<"u";Uae&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:ree}));/*!
 * FilePondPluginImageExifOrientation 1.0.11
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const zae=a=>/^image\/jpeg/.test(a.type),XS={JPEG:65496,APP1:65505,EXIF:1165519206,TIFF:18761,Orientation:274,Unknown:65280},QS=(a,c,h=!1)=>a.getUint16(c,h),hQ=(a,c,h=!1)=>a.getUint32(c,h),Wae=a=>new Promise((c,h)=>{const y=new FileReader;y.onload=function(A){const N=new DataView(A.target.result);if(QS(N,0)!==XS.JPEG){c(-1);return}const D=N.byteLength;let U=2;for(;U<D;){const G=QS(N,U);if(U+=2,G===XS.APP1){if(hQ(N,U+=2)!==XS.EXIF)break;const K=QS(N,U+=6)===XS.TIFF;U+=hQ(N,U+4,K);const Q=QS(N,U,K);U+=2;for(let ie=0;ie<Q;ie++)if(QS(N,U+ie*12,K)===XS.Orientation){c(QS(N,U+ie*12+8,K));return}}else{if((G&XS.Unknown)!==XS.Unknown)break;U+=QS(N,U)}}c(-1)},y.readAsArrayBuffer(a.slice(0,64*1024))}),Gae=(()=>typeof window<"u"&&typeof window.document<"u")(),qae=()=>Gae,jae="data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4QA6RXhpZgAATU0AKgAAAAgAAwESAAMAAAABAAYAAAEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAD/2wBDAP//////////////////////////////////////////////////////////////////////////////////////wAALCAABAAIBASIA/8QAJgABAAAAAAAAAAAAAAAAAAAAAxABAAAAAAAAAAAAAAAAAAAAAP/aAAgBAQAAPwBH/9k=";let iee;const iH=qae()?new Image:{};iH.onload=()=>iee=iH.naturalWidth>iH.naturalHeight;iH.src=jae;const Zae=()=>iee,aee=({addFilter:a,utils:c})=>{const{Type:h,isFile:y}=c;return a("DID_LOAD_ITEM",(A,{query:N})=>new Promise((D,U)=>{const G=A.file;if(!y(G)||!zae(G)||!N("GET_ALLOW_IMAGE_EXIF_ORIENTATION")||!Zae())return D(A);Wae(G).then(K=>{A.setMetadata("exif",{orientation:K}),D(A)})})),{options:{allowImageExifOrientation:[!0,h.BOOLEAN]}}},Yae=typeof window<"u"&&typeof window.document<"u";Yae&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:aee}));/*!
 * FilePondPluginImageCrop 2.0.6
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const mQ=a=>/^image/.test(a.type),Kae=({addFilter:a,utils:c})=>{const{Type:h,isFile:y,getNumericAspectRatioFromString:A}=c,N=(K,Q)=>!(!mQ(K.file)||!Q("GET_ALLOW_IMAGE_CROP")),D=K=>typeof K=="object",U=K=>typeof K=="number",G=(K,Q)=>K.setMetadata("crop",Object.assign({},K.getMetadata("crop"),Q));return a("DID_CREATE_ITEM",(K,{query:Q})=>{K.extend("setImageCrop",ie=>{if(!(!N(K,Q)||!D(center)))return K.setMetadata("crop",ie),ie}),K.extend("setImageCropCenter",ie=>{if(!(!N(K,Q)||!D(ie)))return G(K,{center:ie})}),K.extend("setImageCropZoom",ie=>{if(!(!N(K,Q)||!U(ie)))return G(K,{zoom:Math.max(1,ie)})}),K.extend("setImageCropRotation",ie=>{if(!(!N(K,Q)||!U(ie)))return G(K,{rotation:ie})}),K.extend("setImageCropFlip",ie=>{if(!(!N(K,Q)||!D(ie)))return G(K,{flip:ie})}),K.extend("setImageCropAspectRatio",ie=>{if(!N(K,Q)||typeof ie>"u")return;const _e=K.getMetadata("crop"),ve=A(ie),de={center:{x:.5,y:.5},flip:_e?Object.assign({},_e.flip):{horizontal:!1,vertical:!1},rotation:0,zoom:1,aspectRatio:ve};return K.setMetadata("crop",de),de})}),a("DID_LOAD_ITEM",(K,{query:Q})=>new Promise((ie,_e)=>{const ve=K.file;if(!y(ve)||!mQ(ve)||!Q("GET_ALLOW_IMAGE_CROP")||K.getMetadata("crop"))return ie(K);const fe=Q("GET_IMAGE_CROP_ASPECT_RATIO");K.setMetadata("crop",{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},rotation:0,zoom:1,aspectRatio:fe?A(fe):null}),ie(K)})),{options:{allowImageCrop:[!0,h.BOOLEAN],imageCropAspectRatio:[null,h.STRING]}}},Xae=typeof window<"u"&&typeof window.document<"u";Xae&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Kae}));/*!
 * FilePondPluginImageResize 2.0.10
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const Qae=a=>/^image/.test(a.type),Jae=(a,c)=>{let h=new Image;h.onload=()=>{const y=h.naturalWidth,A=h.naturalHeight;h=null,c({width:y,height:A})},h.onerror=()=>c(null),h.src=a},cee=({addFilter:a,utils:c})=>{const{Type:h}=c;return a("DID_LOAD_ITEM",(y,{query:A})=>new Promise((N,D)=>{const U=y.file;if(!Qae(U)||!A("GET_ALLOW_IMAGE_RESIZE"))return N(y);const G=A("GET_IMAGE_RESIZE_MODE"),K=A("GET_IMAGE_RESIZE_TARGET_WIDTH"),Q=A("GET_IMAGE_RESIZE_TARGET_HEIGHT"),ie=A("GET_IMAGE_RESIZE_UPSCALE");if(K===null&&Q===null)return N(y);const _e=K===null?Q:K,ve=Q===null?_e:Q,de=URL.createObjectURL(U);Jae(de,fe=>{if(URL.revokeObjectURL(de),!fe)return N(y);let{width:we,height:De}=fe;const Me=(y.getMetadata("exif")||{}).orientation||-1;if(Me>=5&&Me<=8&&([we,De]=[De,we]),we===_e&&De===ve)return N(y);if(!ie){if(G==="cover"){if(we<=_e||De<=ve)return N(y)}else if(we<=_e&&De<=_e)return N(y)}y.setMetadata("resize",{mode:G,upscale:ie,size:{width:_e,height:ve}}),N(y)})})),{options:{allowImageResize:[!0,h.BOOLEAN],imageResizeMode:["cover",h.STRING],imageResizeUpscale:[!0,h.BOOLEAN],imageResizeTargetWidth:[null,h.INT],imageResizeTargetHeight:[null,h.INT]}}},ece=typeof window<"u"&&typeof window.document<"u";ece&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:cee}));/*!
 * FilePondPluginImageTransform 3.8.7
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const tce=a=>/^image/.test(a.type),nce=a=>a.substr(0,a.lastIndexOf("."))||a,oce={jpeg:"jpg","svg+xml":"svg"},sce=(a,c)=>{const h=nce(a),y=c.split("/")[1],A=oce[y]||y;return`${h}.${A}`},rce=a=>/jpeg|png|svg\+xml/.test(a)?a:"image/jpeg",ice=a=>/^image/.test(a.type),ace={1:()=>[1,0,0,1,0,0],2:a=>[-1,0,0,1,a,0],3:(a,c)=>[-1,0,0,-1,a,c],4:(a,c)=>[1,0,0,-1,0,c],5:()=>[0,1,1,0,0,0],6:(a,c)=>[0,1,-1,0,c,0],7:(a,c)=>[0,-1,-1,0,c,a],8:a=>[0,-1,1,0,0,a]},cce=(a,c,h)=>(h===-1&&(h=1),ace[h](a,c)),XM=(a,c)=>({x:a,y:c}),lce=(a,c)=>a.x*c.x+a.y*c.y,gQ=(a,c)=>XM(a.x-c.x,a.y-c.y),uce=(a,c)=>lce(gQ(a,c),gQ(a,c)),pQ=(a,c)=>Math.sqrt(uce(a,c)),vQ=(a,c)=>{const h=a,y=1.5707963267948966,A=c,N=1.5707963267948966-c,D=Math.sin(y),U=Math.sin(A),G=Math.sin(N),K=Math.cos(N),Q=h/D,ie=Q*U,_e=Q*G;return XM(K*ie,K*_e)},dce=(a,c)=>{const h=a.width,y=a.height,A=vQ(h,c),N=vQ(y,c),D=XM(a.x+Math.abs(A.x),a.y-Math.abs(A.y)),U=XM(a.x+a.width+Math.abs(N.y),a.y+Math.abs(N.x)),G=XM(a.x-Math.abs(N.y),a.y+a.height-Math.abs(N.x));return{width:pQ(D,U),height:pQ(D,G)}},lee=(a,c,h=0,y={x:.5,y:.5})=>{const A=y.x>.5?1-y.x:y.x,N=y.y>.5?1-y.y:y.y,D=A*2*a.width,U=N*2*a.height,G=dce(c,h);return Math.max(G.width/D,G.height/U)},uee=(a,c)=>{let h=a.width,y=h*c;y>a.height&&(y=a.height,h=y/c);const A=(a.width-h)*.5,N=(a.height-y)*.5;return{x:A,y:N,width:h,height:y}},bQ=(a,c,h=1)=>{const y=a.height/a.width;let A=1,N=c,D=1,U=y;U>N&&(U=N,D=U/y);const G=Math.max(A/D,N/U),K=a.width/(h*G*D),Q=K*c;return{width:K,height:Q}},dee=a=>{a.width=1,a.height=1,a.getContext("2d").clearRect(0,0,1,1)},yQ=a=>a&&(a.horizontal||a.vertical),fce=(a,c,h)=>{if(c<=1&&!yQ(h))return a.width=a.naturalWidth,a.height=a.naturalHeight,a;const y=document.createElement("canvas"),A=a.naturalWidth,N=a.naturalHeight,D=c>=5&&c<=8;D?(y.width=N,y.height=A):(y.width=A,y.height=N);const U=y.getContext("2d");if(c&&U.transform.apply(U,cce(A,N,c)),yQ(h)){const G=[1,0,0,1,0,0];(!D&&h.horizontal||D&h.vertical)&&(G[0]=-1,G[4]=A),(!D&&h.vertical||D&&h.horizontal)&&(G[3]=-1,G[5]=N),U.transform(...G)}return U.drawImage(a,0,0,A,N),y},hce=(a,c,h={},y={})=>{const{canvasMemoryLimit:A,background:N=null}=y,D=h.zoom||1,U=fce(a,c,h.flip),G={width:U.width,height:U.height},K=h.aspectRatio||G.height/G.width;let Q=bQ(G,K,D);if(A){const oe=Q.width*Q.height;if(oe>A){const Be=Math.sqrt(A)/Math.sqrt(oe);G.width=Math.floor(G.width*Be),G.height=Math.floor(G.height*Be),Q=bQ(G,K,D)}}const ie=document.createElement("canvas"),_e={x:Q.width*.5,y:Q.height*.5},ve={x:0,y:0,width:Q.width,height:Q.height,center:_e},de=typeof h.scaleToFit>"u"||h.scaleToFit,fe=D*lee(G,uee(ve,K),h.rotation,de?h.center:{x:.5,y:.5});ie.width=Math.round(Q.width/fe),ie.height=Math.round(Q.height/fe),_e.x/=fe,_e.y/=fe;const we={x:_e.x-G.width*(h.center?h.center.x:.5),y:_e.y-G.height*(h.center?h.center.y:.5)},De=ie.getContext("2d");N&&(De.fillStyle=N,De.fillRect(0,0,ie.width,ie.height)),De.translate(_e.x,_e.y),De.rotate(h.rotation||0),De.drawImage(U,we.x-_e.x,we.y-_e.y,G.width,G.height);const Me=De.getImageData(0,0,ie.width,ie.height);return dee(ie),Me},mce=(()=>typeof window<"u"&&typeof window.document<"u")();mce&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(a,c,h){var y=this.toDataURL(c,h).split(",")[1];setTimeout(function(){for(var A=atob(y),N=A.length,D=new Uint8Array(N),U=0;U<N;U++)D[U]=A.charCodeAt(U);a(new Blob([D],{type:c||"image/png"}))})}}));const gce=(a,c,h=null)=>new Promise(y=>{const A=h?h(a):a;Promise.resolve(A).then(N=>{N.toBlob(y,c.type,c.quality)})}),TH=(a,c)=>tk(a.x*c,a.y*c),CH=(a,c)=>tk(a.x+c.x,a.y+c.y),fee=a=>{const c=Math.sqrt(a.x*a.x+a.y*a.y);return c===0?{x:0,y:0}:tk(a.x/c,a.y/c)},Iw=(a,c,h)=>{const y=Math.cos(c),A=Math.sin(c),N=tk(a.x-h.x,a.y-h.y);return tk(h.x+y*N.x-A*N.y,h.y+A*N.x+y*N.y)},tk=(a=0,c=0)=>({x:a,y:c}),Wd=(a,c,h=1,y)=>{if(typeof a=="string")return parseFloat(a)*h;if(typeof a=="number")return a*(y?c[y]:Math.min(c.width,c.height))},hA=(a,c,h)=>{const y=a.borderStyle||a.lineStyle||"solid",A=a.backgroundColor||a.fontColor||"transparent",N=a.borderColor||a.lineColor||"transparent",D=Wd(a.borderWidth||a.lineWidth,c,h),U=a.lineCap||"round",G=a.lineJoin||"round",K=typeof y=="string"?"":y.map(ie=>Wd(ie,c,h)).join(","),Q=a.opacity||1;return{"stroke-linecap":U,"stroke-linejoin":G,"stroke-width":D||0,"stroke-dasharray":K,stroke:N,fill:A,opacity:Q}},Xp=a=>a!=null,eR=(a,c,h=1)=>{let y=Wd(a.x,c,h,"width")||Wd(a.left,c,h,"width"),A=Wd(a.y,c,h,"height")||Wd(a.top,c,h,"height"),N=Wd(a.width,c,h,"width"),D=Wd(a.height,c,h,"height"),U=Wd(a.right,c,h,"width"),G=Wd(a.bottom,c,h,"height");return Xp(A)||(Xp(D)&&Xp(G)?A=c.height-D-G:A=G),Xp(y)||(Xp(N)&&Xp(U)?y=c.width-N-U:y=U),Xp(N)||(Xp(y)&&Xp(U)?N=c.width-y-U:N=0),Xp(D)||(Xp(A)&&Xp(G)?D=c.height-A-G:D=0),{x:y||0,y:A||0,width:N||0,height:D||0}},pce=a=>a.map((c,h)=>`${h===0?"M":"L"} ${c.x} ${c.y}`).join(" "),Yb=(a,c)=>Object.keys(c).forEach(h=>a.setAttribute(h,c[h])),vce="http://www.w3.org/2000/svg",$O=(a,c)=>{const h=document.createElementNS(vce,a);return c&&Yb(h,c),h},bce=a=>Yb(a,{...a.rect,...a.styles}),yce=a=>{const c=a.rect.x+a.rect.width*.5,h=a.rect.y+a.rect.height*.5,y=a.rect.width*.5,A=a.rect.height*.5;return Yb(a,{cx:c,cy:h,rx:y,ry:A,...a.styles})},_ce={contain:"xMidYMid meet",cover:"xMidYMid slice"},Ece=(a,c)=>{Yb(a,{...a.rect,...a.styles,preserveAspectRatio:_ce[c.fit]||"none"})},wce={left:"start",center:"middle",right:"end"},Tce=(a,c,h,y)=>{const A=Wd(c.fontSize,h,y),N=c.fontFamily||"sans-serif",D=c.fontWeight||"normal",U=wce[c.textAlign]||"start";Yb(a,{...a.rect,...a.styles,"stroke-width":0,"font-weight":D,"font-size":A,"font-family":N,"text-anchor":U}),a.text!==c.text&&(a.text=c.text,a.textContent=c.text.length?c.text:" ")},Cce=(a,c,h,y)=>{Yb(a,{...a.rect,...a.styles,fill:"none"});const A=a.childNodes[0],N=a.childNodes[1],D=a.childNodes[2],U=a.rect,G={x:a.rect.x+a.rect.width,y:a.rect.y+a.rect.height};if(Yb(A,{x1:U.x,y1:U.y,x2:G.x,y2:G.y}),!c.lineDecoration)return;N.style.display="none",D.style.display="none";const K=fee({x:G.x-U.x,y:G.y-U.y}),Q=Wd(.05,h,y);if(c.lineDecoration.indexOf("arrow-begin")!==-1){const ie=TH(K,Q),_e=CH(U,ie),ve=Iw(U,2,_e),de=Iw(U,-2,_e);Yb(N,{style:"display:block;",d:`M${ve.x},${ve.y} L${U.x},${U.y} L${de.x},${de.y}`})}if(c.lineDecoration.indexOf("arrow-end")!==-1){const ie=TH(K,-Q),_e=CH(G,ie),ve=Iw(G,2,_e),de=Iw(G,-2,_e);Yb(D,{style:"display:block;",d:`M${ve.x},${ve.y} L${G.x},${G.y} L${de.x},${de.y}`})}},Sce=(a,c,h,y)=>{Yb(a,{...a.styles,fill:"none",d:pce(c.points.map(A=>({x:Wd(A.x,h,y,"width"),y:Wd(A.y,h,y,"height")})))})},Y5=a=>c=>$O(a,{id:c.id}),Ace=a=>{const c=$O("image",{id:a.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return c.onload=()=>{c.setAttribute("opacity",a.opacity||1)},c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a.src),c},xce=a=>{const c=$O("g",{id:a.id,"stroke-linecap":"round","stroke-linejoin":"round"}),h=$O("line");c.appendChild(h);const y=$O("path");c.appendChild(y);const A=$O("path");return c.appendChild(A),c},Oce={image:Ace,rect:Y5("rect"),ellipse:Y5("ellipse"),text:Y5("text"),path:Y5("path"),line:xce},Rce={rect:bce,ellipse:yce,image:Ece,text:Tce,path:Sce,line:Cce},Ice=(a,c)=>Oce[a](c),Dce=(a,c,h,y,A)=>{c!=="path"&&(a.rect=eR(h,y,A)),a.styles=hA(h,y,A),Rce[c](a,h,y,A)},hee=(a,c)=>a[1].zIndex>c[1].zIndex?1:a[1].zIndex<c[1].zIndex?-1:0,Nce=(a,c={},h,y)=>new Promise(A=>{const{background:N=null}=y,D=new FileReader;D.onloadend=()=>{const U=D.result,G=document.createElement("div");G.style.cssText="position:absolute;pointer-events:none;width:0;height:0;visibility:hidden;",G.innerHTML=U;const K=G.querySelector("svg");document.body.appendChild(G);const Q=K.getBBox();G.parentNode.removeChild(G);const ie=G.querySelector("title"),_e=K.getAttribute("viewBox")||"",ve=K.getAttribute("width")||"",de=K.getAttribute("height")||"";let fe=parseFloat(ve)||null,we=parseFloat(de)||null;const De=(ve.match(/[a-z]+/)||[])[0]||"",Me=(de.match(/[a-z]+/)||[])[0]||"",oe=_e.split(" ").map(parseFloat),Be=oe.length?{x:oe[0],y:oe[1],width:oe[2],height:oe[3]}:Q;let lt=fe??Be.width,F=we??Be.height;K.style.overflow="visible",K.setAttribute("width",lt),K.setAttribute("height",F);let Ee="";if(h&&h.length){const ao={width:lt,height:F};Ee=h.sort(hee).reduce((Fo,Je)=>{const It=Ice(Je[0],Je[1]);return Dce(It,Je[0],Je[1],ao),It.removeAttribute("id"),It.getAttribute("opacity")===1&&It.removeAttribute("opacity"),Fo+`
`+It.outerHTML+`
`},""),Ee=`

<g>${Ee.replace(/&nbsp;/g," ")}</g>

`}const Ze=c.aspectRatio||F/lt,ht=lt,Et=ht*Ze,Ne=typeof c.scaleToFit>"u"||c.scaleToFit,ge=c.center?c.center.x:.5,gn=c.center?c.center.y:.5,wt=lee({width:lt,height:F},uee({width:ht,height:Et},Ze),c.rotation,Ne?{x:ge,y:gn}:{x:.5,y:.5}),Ot=c.zoom*wt,P=c.rotation*(180/Math.PI),Rt={x:ht*.5,y:Et*.5},et={x:Rt.x-lt*ge,y:Rt.y-F*gn},qt=[`rotate(${P} ${Rt.x} ${Rt.y})`,`translate(${Rt.x} ${Rt.y})`,`scale(${Ot})`,`translate(${-Rt.x} ${-Rt.y})`,`translate(${et.x} ${et.y})`],Vt=c.flip&&c.flip.horizontal,Ge=c.flip&&c.flip.vertical,vo=[`scale(${Vt?-1:1} ${Ge?-1:1})`,`translate(${Vt?-lt:0} ${Ge?-F:0})`],Bo=`<?xml version="1.0" encoding="UTF-8"?>
<svg width="${ht}${De}" height="${Et}${Me}" 
viewBox="0 0 ${ht} ${Et}" ${N?'style="background:'+N+'" ':""}
preserveAspectRatio="xMinYMin"
xmlns:xlink="http://www.w3.org/1999/xlink"
xmlns="http://www.w3.org/2000/svg">
<!-- Generated by PQINA - https://pqina.nl/ -->
<title>${ie?ie.textContent:""}</title>
<g transform="${qt.join(" ")}">
<g transform="${vo.join(" ")}">
${K.outerHTML}${Ee}
</g>
</g>
</svg>`;A(Bo)},D.readAsText(a)}),Mce=a=>{let c;try{c=new ImageData(a.width,a.height)}catch{c=document.createElement("canvas").getContext("2d").createImageData(a.width,a.height)}return c.data.set(a.data),c},kce=()=>{const a={resize:Q,filter:K},c=(ie,_e)=>(ie.forEach(ve=>{_e=a[ve.type](_e,ve.data)}),_e),h=(ie,_e)=>{let ve=ie.transforms,de=null;if(ve.forEach(fe=>{fe.type==="filter"&&(de=fe)}),de){let fe=null;ve.forEach(we=>{we.type==="resize"&&(fe=we)}),fe&&(fe.data.matrix=de.data,ve=ve.filter(we=>we.type!=="filter"))}_e(c(ve,ie.imageData))};self.onmessage=ie=>{h(ie.data.message,_e=>{self.postMessage({id:ie.data.id,message:_e},[_e.data.buffer])})};const y=1,A=1,N=1;function D(ie,_e,ve){const de=_e[ie]/255,fe=_e[ie+1]/255,we=_e[ie+2]/255,De=_e[ie+3]/255,Me=de*ve[0]+fe*ve[1]+we*ve[2]+De*ve[3]+ve[4],oe=de*ve[5]+fe*ve[6]+we*ve[7]+De*ve[8]+ve[9],Be=de*ve[10]+fe*ve[11]+we*ve[12]+De*ve[13]+ve[14],lt=de*ve[15]+fe*ve[16]+we*ve[17]+De*ve[18]+ve[19],F=Math.max(0,Me*lt)+y*(1-lt),Ee=Math.max(0,oe*lt)+A*(1-lt),Ze=Math.max(0,Be*lt)+N*(1-lt);_e[ie]=Math.max(0,Math.min(1,F))*255,_e[ie+1]=Math.max(0,Math.min(1,Ee))*255,_e[ie+2]=Math.max(0,Math.min(1,Ze))*255}const U=self.JSON.stringify([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]);function G(ie){return self.JSON.stringify(ie||[])===U}function K(ie,_e){if(!_e||G(_e))return ie;const ve=ie.data,de=ve.length,fe=_e[0],we=_e[1],De=_e[2],Me=_e[3],oe=_e[4],Be=_e[5],lt=_e[6],F=_e[7],Ee=_e[8],Ze=_e[9],ht=_e[10],Et=_e[11],Ne=_e[12],ge=_e[13],gn=_e[14],wt=_e[15],Ot=_e[16],P=_e[17],Rt=_e[18],et=_e[19];let qt=0,Vt=0,Ge=0,vo=0,Bo=0,ao=0,Fo=0,Je=0,It=0,te=0,cs=0,uo=0;for(;qt<de;qt+=4)Vt=ve[qt]/255,Ge=ve[qt+1]/255,vo=ve[qt+2]/255,Bo=ve[qt+3]/255,ao=Vt*fe+Ge*we+vo*De+Bo*Me+oe,Fo=Vt*Be+Ge*lt+vo*F+Bo*Ee+Ze,Je=Vt*ht+Ge*Et+vo*Ne+Bo*ge+gn,It=Vt*wt+Ge*Ot+vo*P+Bo*Rt+et,te=Math.max(0,ao*It)+y*(1-It),cs=Math.max(0,Fo*It)+A*(1-It),uo=Math.max(0,Je*It)+N*(1-It),ve[qt]=Math.max(0,Math.min(1,te))*255,ve[qt+1]=Math.max(0,Math.min(1,cs))*255,ve[qt+2]=Math.max(0,Math.min(1,uo))*255;return ie}function Q(ie,_e){let{mode:ve="contain",upscale:de=!1,width:fe,height:we,matrix:De}=_e;if(De=!De||G(De)?null:De,!fe&&!we)return K(ie,De);if(fe===null?fe=we:we===null&&(we=fe),ve!=="force"){let ge=fe/ie.width,gn=we/ie.height,wt=1;if(ve==="cover"?wt=Math.max(ge,gn):ve==="contain"&&(wt=Math.min(ge,gn)),wt>1&&de===!1)return K(ie,De);fe=ie.width*wt,we=ie.height*wt}const Me=ie.width,oe=ie.height,Be=Math.round(fe),lt=Math.round(we),F=ie.data,Ee=new Uint8ClampedArray(Be*lt*4),Ze=Me/Be,ht=oe/lt,Et=Math.ceil(Ze*.5),Ne=Math.ceil(ht*.5);for(let ge=0;ge<lt;ge++)for(let gn=0;gn<Be;gn++){let wt=(gn+ge*Be)*4,Ot=0,P=0,Rt=0,et=0,qt=0,Vt=0,Ge=0,vo=(ge+.5)*ht;for(let Bo=Math.floor(ge*ht);Bo<(ge+1)*ht;Bo++){let ao=Math.abs(vo-(Bo+.5))/Ne,Fo=(gn+.5)*Ze,Je=ao*ao;for(let It=Math.floor(gn*Ze);It<(gn+1)*Ze;It++){let te=Math.abs(Fo-(It+.5))/Et,cs=Math.sqrt(Je+te*te);if(cs>=-1&&cs<=1&&(Ot=2*cs*cs*cs-3*cs*cs+1,Ot>0)){te=4*(It+Bo*Me);let uo=F[te+3];Ge+=Ot*uo,Rt+=Ot,uo<255&&(Ot=Ot*uo/250),et+=Ot*F[te],qt+=Ot*F[te+1],Vt+=Ot*F[te+2],P+=Ot}}}Ee[wt]=et/P,Ee[wt+1]=qt/P,Ee[wt+2]=Vt/P,Ee[wt+3]=Ge/Rt,De&&D(wt,Ee,De)}return{data:Ee,width:Be,height:lt}}},Pce=(a,c)=>{if(a.getUint32(c+4,!1)!==1165519206)return;c+=4;const h=a.getUint16(c+=6,!1)===18761;c+=a.getUint32(c+4,h);const y=a.getUint16(c,h);c+=2;for(let A=0;A<y;A++)if(a.getUint16(c+A*12,h)===274)return a.setUint16(c+A*12+8,1,h),!0;return!1},Lce=a=>{const c=new DataView(a);if(c.getUint16(0)!==65496)return null;let h=2,y,A,N=!1;for(;h<c.byteLength&&(y=c.getUint16(h,!1),A=c.getUint16(h+2,!1)+2,!(!(y>=65504&&y<=65519||y===65534)||(N||(N=Pce(c,h)),h+A>c.byteLength)));)h+=A;return a.slice(0,h)},$ce=a=>new Promise(c=>{const h=new FileReader;h.onload=()=>c(Lce(h.result)||null),h.readAsArrayBuffer(a.slice(0,256*1024))}),Bce=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,Fce=(a,c)=>{const h=Bce();if(h){const y=new h;return y.append(a),y.getBlob(c)}return new Blob([a],{type:c})},Hce=()=>Math.random().toString(36).substr(2,9),Vce=a=>{const c=new Blob(["(",a.toString(),")()"],{type:"application/javascript"}),h=URL.createObjectURL(c),y=new Worker(h),A=[];return{transfer:()=>{},post:(N,D,U)=>{const G=Hce();A[G]=D,y.onmessage=K=>{const Q=A[K.data.id];Q&&(Q(K.data.message),delete A[K.data.id])},y.postMessage({id:G,message:N},U)},terminate:()=>{y.terminate(),URL.revokeObjectURL(h)}}},Uce=a=>new Promise((c,h)=>{const y=new Image;y.onload=()=>{c(y)},y.onerror=A=>{h(A)},y.src=a}),zce=a=>a.reduce((c,h)=>c.then(y=>h().then(Array.prototype.concat.bind(y))),Promise.resolve([])),Wce=(a,c)=>new Promise(h=>{const y={width:a.width,height:a.height},A=a.getContext("2d"),N=c.sort(hee).map(D=>()=>new Promise(U=>{Xce[D[0]](A,y,D[1],U)&&U()}));zce(N).then(()=>h(a))}),tR=(a,c)=>{a.beginPath(),a.lineCap=c["stroke-linecap"],a.lineJoin=c["stroke-linejoin"],a.lineWidth=c["stroke-width"],c["stroke-dasharray"].length&&a.setLineDash(c["stroke-dasharray"].split(",")),a.fillStyle=c.fill,a.strokeStyle=c.stroke,a.globalAlpha=c.opacity||1},nR=a=>{a.fill(),a.stroke(),a.globalAlpha=1},Gce=(a,c,h)=>{const y=eR(h,c),A=hA(h,c);return tR(a,A),a.rect(y.x,y.y,y.width,y.height),nR(a),!0},qce=(a,c,h)=>{const y=eR(h,c),A=hA(h,c);tR(a,A);const N=y.x,D=y.y,U=y.width,G=y.height,K=.5522848,Q=U/2*K,ie=G/2*K,_e=N+U,ve=D+G,de=N+U/2,fe=D+G/2;return a.moveTo(N,fe),a.bezierCurveTo(N,fe-ie,de-Q,D,de,D),a.bezierCurveTo(de+Q,D,_e,fe-ie,_e,fe),a.bezierCurveTo(_e,fe+ie,de+Q,ve,de,ve),a.bezierCurveTo(de-Q,ve,N,fe+ie,N,fe),nR(a),!0},jce=(a,c,h,y)=>{const A=eR(h,c),N=hA(h,c);tR(a,N);const D=new Image;new URL(h.src,window.location.href).origin!==window.location.origin&&(D.crossOrigin=""),D.onload=()=>{if(h.fit==="cover"){const G=A.width/A.height,K=G>1?D.width:D.height*G,Q=G>1?D.width/G:D.height,ie=D.width*.5-K*.5,_e=D.height*.5-Q*.5;a.drawImage(D,ie,_e,K,Q,A.x,A.y,A.width,A.height)}else if(h.fit==="contain"){const G=Math.min(A.width/D.width,A.height/D.height),K=G*D.width,Q=G*D.height,ie=A.x+A.width*.5-K*.5,_e=A.y+A.height*.5-Q*.5;a.drawImage(D,0,0,D.width,D.height,ie,_e,K,Q)}else a.drawImage(D,0,0,D.width,D.height,A.x,A.y,A.width,A.height);nR(a),y()},D.src=h.src},Zce=(a,c,h)=>{const y=eR(h,c),A=hA(h,c);tR(a,A);const N=Wd(h.fontSize,c),D=h.fontFamily||"sans-serif",U=h.fontWeight||"normal",G=h.textAlign||"left";return a.font=`${U} ${N}px ${D}`,a.textAlign=G,a.fillText(h.text,y.x,y.y),nR(a),!0},Yce=(a,c,h)=>{const y=hA(h,c);tR(a,y),a.beginPath();const A=h.points.map(D=>({x:Wd(D.x,c,1,"width"),y:Wd(D.y,c,1,"height")}));a.moveTo(A[0].x,A[0].y);const N=A.length;for(let D=1;D<N;D++)a.lineTo(A[D].x,A[D].y);return nR(a),!0},Kce=(a,c,h)=>{const y=eR(h,c),A=hA(h,c);tR(a,A),a.beginPath();const N={x:y.x,y:y.y},D={x:y.x+y.width,y:y.y+y.height};a.moveTo(N.x,N.y),a.lineTo(D.x,D.y);const U=fee({x:D.x-N.x,y:D.y-N.y}),G=.04*Math.min(c.width,c.height);if(h.lineDecoration.indexOf("arrow-begin")!==-1){const K=TH(U,G),Q=CH(N,K),ie=Iw(N,2,Q),_e=Iw(N,-2,Q);a.moveTo(ie.x,ie.y),a.lineTo(N.x,N.y),a.lineTo(_e.x,_e.y)}if(h.lineDecoration.indexOf("arrow-end")!==-1){const K=TH(U,-G),Q=CH(D,K),ie=Iw(D,2,Q),_e=Iw(D,-2,Q);a.moveTo(ie.x,ie.y),a.lineTo(D.x,D.y),a.lineTo(_e.x,_e.y)}return nR(a),!0},Xce={rect:Gce,ellipse:qce,image:jce,text:Zce,line:Kce,path:Yce},Qce=a=>{const c=document.createElement("canvas");return c.width=a.width,c.height=a.height,c.getContext("2d").putImageData(a,0,0),c},Jce=(a,c,h={})=>new Promise((y,A)=>{if(!a||!ice(a))return A({status:"not an image file",file:a});const{stripImageHead:N,beforeCreateBlob:D,afterCreateBlob:U,canvasMemoryLimit:G}=h,{crop:K,size:Q,filter:ie,markup:_e,output:ve}=c,de=c.image&&c.image.orientation?Math.max(1,Math.min(8,c.image.orientation)):null,fe=ve&&ve.quality,we=fe===null?null:fe/100,De=ve&&ve.type||null,Me=ve&&ve.background||null,oe=[];Q&&(typeof Q.width=="number"||typeof Q.height=="number")&&oe.push({type:"resize",data:Q}),ie&&ie.length===20&&oe.push({type:"filter",data:ie});const Be=Ee=>{const Ze=U?U(Ee):Ee;Promise.resolve(Ze).then(y)},lt=(Ee,Ze)=>{const ht=Qce(Ee),Et=_e.length?Wce(ht,_e):ht;Promise.resolve(Et).then(Ne=>{gce(Ne,Ze,D).then(ge=>{if(dee(Ne),N)return Be(ge);$ce(a).then(gn=>{gn!==null&&(ge=new Blob([gn,ge.slice(20)],{type:ge.type})),Be(ge)})}).catch(A)})};if(/svg/.test(a.type)&&De===null)return Nce(a,K,_e,{background:Me}).then(Ee=>{y(Fce(Ee,"image/svg+xml"))});const F=URL.createObjectURL(a);Uce(F).then(Ee=>{URL.revokeObjectURL(F);const Ze=hce(Ee,de,K,{canvasMemoryLimit:G,background:Me}),ht={quality:we,type:De||a.type};if(!oe.length)return lt(Ze,ht);const Et=Vce(kce);Et.post({transforms:oe,imageData:Ze},Ne=>{lt(Mce(Ne),ht),Et.terminate()},[Ze.data.buffer])}).catch(A)}),ele=["x","y","left","top","right","bottom","width","height"],tle=a=>typeof a=="string"&&/%/.test(a)?parseFloat(a)/100:a,nle=a=>{const[c,h]=a,y=h.points?{}:ele.reduce((A,N)=>(A[N]=tle(h[N]),A),{});return[c,{zIndex:0,...h,...y}]},ole=a=>new Promise((c,h)=>{const y=new Image;y.src=URL.createObjectURL(a);const A=()=>{const D=y.naturalWidth,U=y.naturalHeight;D&&U&&(URL.revokeObjectURL(y.src),clearInterval(N),c({width:D,height:U}))};y.onerror=D=>{URL.revokeObjectURL(y.src),clearInterval(N),h(D)};const N=setInterval(A,1);A()});typeof window<"u"&&typeof window.document<"u"&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(a,c,h){const y=this;setTimeout(()=>{const A=y.toDataURL(c,h).split(",")[1],N=atob(A);let D=N.length;const U=new Uint8Array(D);for(;D--;)U[D]=N.charCodeAt(D);a(new Blob([U],{type:c||"image/png"}))})}}));const aY=typeof window<"u"&&typeof window.document<"u",sle=aY&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,rle=({addFilter:a,utils:c})=>{const{Type:h,forin:y,getFileFromBlob:A,isFile:N}=c,D=["crop","resize","filter","markup","output"],U=Q=>(ie,_e,ve)=>ie(_e,Q?Q(ve):ve),G=Q=>Q.aspectRatio===null&&Q.rotation===0&&Q.zoom===1&&Q.center&&Q.center.x===.5&&Q.center.y===.5&&Q.flip&&Q.flip.horizontal===!1&&Q.flip.vertical===!1;a("SHOULD_PREPARE_OUTPUT",(Q,{query:ie})=>new Promise(_e=>{_e(!ie("IS_ASYNC"))}));const K=(Q,ie,_e)=>new Promise(ve=>{if(!Q("GET_ALLOW_IMAGE_TRANSFORM")||_e.archived||!N(ie)||!tce(ie))return ve(!1);ole(ie).then(()=>{const de=Q("GET_IMAGE_TRANSFORM_IMAGE_FILTER");if(de){const fe=de(ie);if(fe==null)return handleRevert(!0);if(typeof fe=="boolean")return ve(fe);if(typeof fe.then=="function")return fe.then(ve)}ve(!0)}).catch(de=>{ve(!1)})});return a("DID_CREATE_ITEM",(Q,{query:ie,dispatch:_e})=>{ie("GET_ALLOW_IMAGE_TRANSFORM")&&Q.extend("requestPrepare",()=>new Promise((ve,de)=>{_e("REQUEST_PREPARE_OUTPUT",{query:Q.id,item:Q,success:ve,failure:de},!0)}))}),a("PREPARE_OUTPUT",(Q,{query:ie,item:_e})=>new Promise(ve=>{K(ie,Q,_e).then(de=>{if(!de)return ve(Q);const fe=[];ie("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_ORIGINAL")&&fe.push(()=>new Promise(Ze=>{Ze({name:ie("GET_IMAGE_TRANSFORM_VARIANTS_ORIGINAL_NAME"),file:Q})})),ie("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_DEFAULT")&&fe.push((Ze,ht,Et)=>new Promise(Ne=>{Ze(ht,Et).then(ge=>Ne({name:ie("GET_IMAGE_TRANSFORM_VARIANTS_DEFAULT_NAME"),file:ge}))}));const we=ie("GET_IMAGE_TRANSFORM_VARIANTS")||{};y(we,(Ze,ht)=>{const Et=U(ht);fe.push((Ne,ge,gn)=>new Promise(wt=>{Et(Ne,ge,gn).then(Ot=>wt({name:Ze,file:Ot}))}))});const De=ie("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY"),Me=ie("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY_MODE"),oe=De===null?null:De/100,Be=ie("GET_IMAGE_TRANSFORM_OUTPUT_MIME_TYPE"),lt=ie("GET_IMAGE_TRANSFORM_CLIENT_TRANSFORMS")||D;_e.setMetadata("output",{type:Be,quality:oe,client:lt},!0);const F=(Ze,ht)=>new Promise((Et,Ne)=>{const ge={...ht};Object.keys(ge).filter(Ge=>Ge!=="exif").forEach(Ge=>{lt.indexOf(Ge)===-1&&delete ge[Ge]});const{resize:gn,exif:wt,output:Ot,crop:P,filter:Rt,markup:et}=ge,qt={image:{orientation:wt?wt.orientation:null},output:Ot&&(Ot.type||typeof Ot.quality=="number"||Ot.background)?{type:Ot.type,quality:typeof Ot.quality=="number"?Ot.quality*100:null,background:Ot.background||ie("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR")||null}:void 0,size:gn&&(gn.size.width||gn.size.height)?{mode:gn.mode,upscale:gn.upscale,...gn.size}:void 0,crop:P&&!G(P)?{...P}:void 0,markup:et&&et.length?et.map(nle):[],filter:Rt};if(qt.output){const Ge=Ot.type?Ot.type!==Ze.type:!1,vo=/\/jpe?g$/.test(Ze.type),Bo=Ot.quality!==null?vo&&Me==="always":!1;if(!!!(qt.size||qt.crop||qt.filter||Ge||Bo))return Et(Ze)}const Vt={beforeCreateBlob:ie("GET_IMAGE_TRANSFORM_BEFORE_CREATE_BLOB"),afterCreateBlob:ie("GET_IMAGE_TRANSFORM_AFTER_CREATE_BLOB"),canvasMemoryLimit:ie("GET_IMAGE_TRANSFORM_CANVAS_MEMORY_LIMIT"),stripImageHead:ie("GET_IMAGE_TRANSFORM_OUTPUT_STRIP_IMAGE_HEAD")};Jce(Ze,qt,Vt).then(Ge=>{const vo=A(Ge,sce(Ze.name,rce(Ge.type)));Et(vo)}).catch(Ne)}),Ee=fe.map(Ze=>Ze(F,Q,_e.getMetadata()));Promise.all(Ee).then(Ze=>{ve(Ze.length===1&&Ze[0].name===null?Ze[0].file:Ze)})})})),{options:{allowImageTransform:[!0,h.BOOLEAN],imageTransformImageFilter:[null,h.FUNCTION],imageTransformOutputMimeType:[null,h.STRING],imageTransformOutputQuality:[null,h.INT],imageTransformOutputStripImageHead:[!0,h.BOOLEAN],imageTransformClientTransforms:[null,h.ARRAY],imageTransformOutputQualityMode:["always",h.STRING],imageTransformVariants:[null,h.OBJECT],imageTransformVariantsIncludeDefault:[!0,h.BOOLEAN],imageTransformVariantsDefaultName:[null,h.STRING],imageTransformVariantsIncludeOriginal:[!1,h.BOOLEAN],imageTransformVariantsOriginalName:["original_",h.STRING],imageTransformBeforeCreateBlob:[null,h.FUNCTION],imageTransformAfterCreateBlob:[null,h.FUNCTION],imageTransformCanvasMemoryLimit:[aY&&sle?4096*4096:null,h.INT],imageTransformCanvasBackgroundColor:[null,h.STRING]}}};aY&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:rle}));/*!
 * FilePondPluginImageEdit 1.6.3
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const Xj=a=>/^image/.test(a.type),ile=a=>{const{addFilter:c,utils:h,views:y}=a,{Type:A,createRoute:N,createItemAPI:D=Q=>Q}=h,{fileActionButton:U}=y;c("SHOULD_REMOVE_ON_REVERT",(Q,{item:ie,query:_e})=>new Promise(ve=>{const{file:de}=ie,fe=_e("GET_ALLOW_IMAGE_EDIT")&&_e("GET_IMAGE_EDIT_ALLOW_EDIT")&&Xj(de);ve(!fe)})),c("DID_LOAD_ITEM",(Q,{query:ie,dispatch:_e})=>new Promise((ve,de)=>{if(Q.origin>1){ve(Q);return}const{file:fe}=Q;if(!ie("GET_ALLOW_IMAGE_EDIT")||!ie("GET_IMAGE_EDIT_INSTANT_EDIT")){ve(Q);return}if(!Xj(fe)){ve(Q);return}const we=(Me,oe,Be)=>lt=>{G.shift(),lt?oe(Me):Be(Me),_e("KICK"),De()},De=()=>{if(!G.length)return;const{item:Me,resolve:oe,reject:Be}=G[0];_e("EDIT_ITEM",{id:Me.id,handleEditorResponse:we(Me,oe,Be)})};K({item:Q,resolve:ve,reject:de}),G.length===1&&De()})),c("DID_CREATE_ITEM",(Q,{query:ie,dispatch:_e})=>{Q.extend("edit",()=>{_e("EDIT_ITEM",{id:Q.id})})});const G=[],K=Q=>(G.push(Q),Q);return c("CREATE_VIEW",Q=>{const{is:ie,view:_e,query:ve}=Q;if(!ve("GET_ALLOW_IMAGE_EDIT"))return;const de=ve("GET_ALLOW_IMAGE_PREVIEW");if(!(ie("file-info")&&!de||ie("file")&&de))return;const we=ve("GET_IMAGE_EDIT_EDITOR");if(!we)return;we.filepondCallbackBridge||(we.outputData=!0,we.outputFile=!1,we.filepondCallbackBridge={onconfirm:we.onconfirm||(()=>{}),oncancel:we.oncancel||(()=>{})});const De=({root:Be,props:lt,action:F})=>{const{id:Ee}=lt,{handleEditorResponse:Ze}=F;we.cropAspectRatio=Be.query("GET_IMAGE_CROP_ASPECT_RATIO")||we.cropAspectRatio,we.outputCanvasBackgroundColor=Be.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR")||we.outputCanvasBackgroundColor;const ht=Be.query("GET_ITEM",Ee);if(!ht)return;const Et=ht.file,Ne=ht.getMetadata("crop"),ge={center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},gn=ht.getMetadata("resize"),wt=ht.getMetadata("filter")||null,Ot=ht.getMetadata("filters")||null,P=ht.getMetadata("colors")||null,Rt=ht.getMetadata("markup")||null,et={crop:Ne||ge,size:gn?{upscale:gn.upscale,mode:gn.mode,width:gn.size.width,height:gn.size.height}:null,filter:Ot?Ot.id||Ot.matrix:Be.query("GET_ALLOW_IMAGE_FILTER")&&Be.query("GET_IMAGE_FILTER_COLOR_MATRIX")&&!P?wt:null,color:P,markup:Rt};we.onconfirm=({data:qt})=>{const{crop:Vt,size:Ge,filter:vo,color:Bo,colorMatrix:ao,markup:Fo}=qt,Je={};if(Vt&&(Je.crop=Vt),Ge){const It=(ht.getMetadata("resize")||{}).size,te={width:Ge.width,height:Ge.height};!(te.width&&te.height)&&It&&(te.width=It.width,te.height=It.height),(te.width||te.height)&&(Je.resize={upscale:Ge.upscale,mode:Ge.mode,size:te})}Fo&&(Je.markup=Fo),Je.colors=Bo,Je.filters=vo,Je.filter=ao,ht.setMetadata(Je),we.filepondCallbackBridge.onconfirm(qt,D(ht)),Ze&&(we.onclose=()=>{Ze(!0),we.onclose=null})},we.oncancel=()=>{we.filepondCallbackBridge.oncancel(D(ht)),Ze&&(we.onclose=()=>{Ze(!1),we.onclose=null})},we.open(Et,et)},Me=({root:Be,props:lt})=>{if(!ve("GET_IMAGE_EDIT_ALLOW_EDIT"))return;const{id:F}=lt,Ee=ve("GET_ITEM",F);if(!Ee)return;const Ze=Ee.file;if(Xj(Ze))if(Be.ref.handleEdit=ht=>{ht.stopPropagation(),Be.dispatch("EDIT_ITEM",{id:F})},de){const ht=_e.createChildView(U,{label:"edit",icon:ve("GET_IMAGE_EDIT_ICON_EDIT"),opacity:0});ht.element.classList.add("filepond--action-edit-item"),ht.element.dataset.align=ve("GET_STYLE_IMAGE_EDIT_BUTTON_EDIT_ITEM_POSITION"),ht.on("click",Be.ref.handleEdit),Be.ref.buttonEditItem=_e.appendChildView(ht)}else{const ht=_e.element.querySelector(".filepond--file-info-main"),Et=document.createElement("button");Et.className="filepond--action-edit-item-alt",Et.innerHTML=ve("GET_IMAGE_EDIT_ICON_EDIT")+"<span>edit</span>",Et.addEventListener("click",Be.ref.handleEdit),ht.appendChild(Et),Be.ref.editButton=Et}};_e.registerDestroyer(({root:Be})=>{Be.ref.buttonEditItem&&Be.ref.buttonEditItem.off("click",Be.ref.handleEdit),Be.ref.editButton&&Be.ref.editButton.removeEventListener("click",Be.ref.handleEdit)});const oe={EDIT_ITEM:De,DID_LOAD_ITEM:Me};if(de){const Be=({root:lt})=>{lt.ref.buttonEditItem&&(lt.ref.buttonEditItem.opacity=1)};oe.DID_IMAGE_PREVIEW_SHOW=Be}_e.registerWriter(N(oe))}),{options:{allowImageEdit:[!0,A.BOOLEAN],styleImageEditButtonEditItemPosition:["bottom center",A.STRING],imageEditInstantEdit:[!1,A.BOOLEAN],imageEditAllowEdit:[!0,A.BOOLEAN],imageEditIconEdit:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false"><path d="M8.5 17h1.586l7-7L15.5 8.414l-7 7V17zm-1.707-2.707l8-8a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-8 8A1 1 0 0 1 10.5 19h-3a1 1 0 0 1-1-1v-3a1 1 0 0 1 .293-.707z" fill="currentColor" fill-rule="nonzero"/></svg>',A.STRING],imageEditEditor:[null,A.OBJECT]}}},ale=typeof window<"u"&&typeof window.document<"u";ale&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:ile}));/*!
 * FilePondPluginFileEncode 2.1.10
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const cle=function(){self.onmessage=c=>{a(c.data.message,h=>{self.postMessage({id:c.data.id,message:h})})};const a=(c,h)=>{const{file:y}=c,A=new FileReader;A.onloadend=()=>{h(A.result.replace("data:","").replace(/^.+,/,""))},A.readAsDataURL(y)}},mee=({addFilter:a,utils:c})=>{const{Type:h,createWorker:y,createRoute:A,isFile:N}=c,D=({name:G,file:K})=>new Promise(Q=>{const ie=y(cle);ie.post({file:K},_e=>{Q({name:G,data:_e}),ie.terminate()})}),U=[];return a("DID_CREATE_ITEM",(G,{query:K})=>{K("GET_ALLOW_FILE_ENCODE")&&(G.extend("getFileEncodeBase64String",()=>U[G.id]&&U[G.id].data),G.extend("getFileEncodeDataURL",()=>`data:${G.fileType};base64,${U[G.id].data}`))}),a("SHOULD_PREPARE_OUTPUT",(G,{query:K})=>new Promise(Q=>{Q(K("GET_ALLOW_FILE_ENCODE"))})),a("COMPLETE_PREPARE_OUTPUT",(G,{item:K,query:Q})=>new Promise(ie=>{if(!Q("GET_ALLOW_FILE_ENCODE")||!N(G)&&!Array.isArray(G))return ie(G);U[K.id]={metadata:K.getMetadata(),data:null},Promise.all((G instanceof Blob?[{name:null,file:G}]:G).map(D)).then(_e=>{U[K.id].data=G instanceof Blob?_e[0].data:_e,ie(G)})})),a("CREATE_VIEW",G=>{const{is:K,view:Q,query:ie}=G;!K("file-wrapper")||!ie("GET_ALLOW_FILE_ENCODE")||Q.registerWriter(A({DID_PREPARE_OUTPUT:({root:_e,action:ve})=>{if(ie("IS_ASYNC"))return;const de=ie("GET_ITEM",ve.id);if(!de)return;const fe=U[de.id],we=fe.metadata,De=fe.data,Me=JSON.stringify({id:de.id,name:de.file.name,type:de.file.type,size:de.file.size,metadata:we,data:De});_e.ref.data?_e.ref.data.value=Me:_e.dispatch("DID_DEFINE_VALUE",{id:de.id,value:Me})},DID_REMOVE_ITEM:({action:_e})=>{const ve=ie("GET_ITEM",_e.id);ve&&delete U[ve.id]}}))}),{options:{allowFileEncode:[!0,h.BOOLEAN]}}},lle=typeof window<"u"&&typeof window.document<"u";lle&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:mee}));/*!
 * FilePondPluginFilePoster 2.5.1
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const _Q={type:"spring",stiffness:.5,damping:.45,mass:10},ule=a=>a.utils.createView({name:"file-poster",tag:"div",ignoreRect:!0,create:({root:c})=>{c.ref.image=document.createElement("img"),c.element.appendChild(c.ref.image)},write:a.utils.createRoute({DID_FILE_POSTER_LOAD:({root:c,props:h})=>{const{id:y}=h,A=c.query("GET_ITEM",{id:h.id});if(!A)return;const N=A.getMetadata("poster");c.ref.image.src=N,c.dispatch("DID_FILE_POSTER_DRAW",{id:y})}}),mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:_Q,scaleY:_Q,opacity:{type:"tween",duration:750}}}}),dle=(a,c)=>{c.width=a.width,c.height=a.height,c.getContext("2d").drawImage(a,0,0)},fle=a=>a.utils.createView({name:"file-poster-overlay",tag:"canvas",ignoreRect:!0,create:({root:c,props:h})=>{dle(h.template,c.element)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}}),hle=(a,c)=>{let h=new Image;h.onload=()=>{const y=h.naturalWidth,A=h.naturalHeight;h=null,c(y,A)},h.src=a},mle=a=>-.5*(Math.cos(Math.PI*a)-1),gle=(a,c,h=1,y=mle,A=10,N=0)=>{const D=1-N,U=c.join(",");for(let G=0;G<=A;G++){const K=G/A,Q=N+D*K;a.addColorStop(Q,`rgba(${U}, ${y(K)*h})`)}},ple=10,vle=10,ble=a=>{const c=Math.min(ple/a.width,vle/a.height),h=document.createElement("canvas"),y=h.getContext("2d"),A=h.width=Math.ceil(a.width*c),N=h.height=Math.ceil(a.height*c);y.drawImage(a,0,0,A,N);let D=null;try{D=y.getImageData(0,0,A,N).data}catch{return null}const U=D.length;let G=0,K=0,Q=0,ie=0;for(;ie<U;ie+=4)G+=D[ie]*D[ie],K+=D[ie+1]*D[ie+1],Q+=D[ie+2]*D[ie+2];return G=Qj(G,U),K=Qj(K,U),Q=Qj(Q,U),{r:G,g:K,b:Q}},Qj=(a,c)=>Math.floor(Math.sqrt(a/(c/4))),HO=(a,c,h,y,A)=>{a.width=c,a.height=h;const N=a.getContext("2d"),D=c*.5,U=N.createRadialGradient(D,h+110,h-100,D,h+110,h+100);gle(U,y,A,void 0,8,.4),N.save(),N.translate(-c*.5,0),N.scale(2,1),N.fillStyle=U,N.fillRect(0,0,c,h),N.restore()},$H=typeof navigator<"u",VO=500,UO=200,MZ=$H&&document.createElement("canvas"),kZ=$H&&document.createElement("canvas"),PZ=$H&&document.createElement("canvas");let aH=[40,40,40],cH=[196,78,71],lH=[54,151,99];$H&&(HO(MZ,VO,UO,aH,.85),HO(kZ,VO,UO,cH,1),HO(PZ,VO,UO,lH,1));const yle=(a,c)=>new Promise((h,y)=>{const A=new Image;typeof crossOrigin=="string"&&(A.crossOrigin=c),A.onload=()=>{h(A)},A.onerror=N=>{y(N)},A.src=a}),_le=a=>{const c=fle(a),h=({root:K,props:Q})=>{const{id:ie}=Q,_e=K.query("GET_ITEM",ie);if(!_e)return;const ve=_e.getMetadata("poster"),de=fe=>{const we=K.query("GET_FILE_POSTER_CALCULATE_AVERAGE_IMAGE_COLOR")?ble(fe):null;_e.setMetadata("color",we,!0),K.dispatch("DID_FILE_POSTER_LOAD",{id:ie,data:fe})};hle(ve,(fe,we)=>{K.dispatch("DID_FILE_POSTER_CALCULATE_SIZE",{id:ie,width:fe,height:we}),yle(ve,K.query("GET_FILE_POSTER_CROSS_ORIGIN_ATTRIBUTE_VALUE")).then(de)})},y=({root:K})=>{K.ref.overlayShadow.opacity=1},A=({root:K})=>{const{image:Q}=K.ref;Q.scaleX=1,Q.scaleY=1,Q.opacity=1},N=({root:K})=>{K.ref.overlayShadow.opacity=1,K.ref.overlayError.opacity=0,K.ref.overlaySuccess.opacity=0},D=({root:K})=>{K.ref.overlayShadow.opacity=.25,K.ref.overlayError.opacity=1},U=({root:K})=>{K.ref.overlayShadow.opacity=.25,K.ref.overlaySuccess.opacity=1},G=({root:K,props:Q})=>{const ie=K.query("GET_FILE_POSTER_ITEM_OVERLAY_SHADOW_COLOR"),_e=K.query("GET_FILE_POSTER_ITEM_OVERLAY_ERROR_COLOR"),ve=K.query("GET_FILE_POSTER_ITEM_OVERLAY_SUCCESS_COLOR");ie&&ie!==aH&&(aH=ie,HO(MZ,VO,UO,aH,.85)),_e&&_e!==cH&&(cH=_e,HO(kZ,VO,UO,cH,1)),ve&&ve!==lH&&(lH=ve,HO(PZ,VO,UO,lH,1));const de=ule(a);K.ref.image=K.appendChildView(K.createChildView(de,{id:Q.id,scaleX:1.25,scaleY:1.25,opacity:0})),K.ref.overlayShadow=K.appendChildView(K.createChildView(c,{template:MZ,opacity:0})),K.ref.overlaySuccess=K.appendChildView(K.createChildView(c,{template:PZ,opacity:0})),K.ref.overlayError=K.appendChildView(K.createChildView(c,{template:kZ,opacity:0}))};return a.utils.createView({name:"file-poster-wrapper",create:G,write:a.utils.createRoute({DID_FILE_POSTER_LOAD:y,DID_FILE_POSTER_DRAW:A,DID_FILE_POSTER_CONTAINER_CREATE:h,DID_THROW_ITEM_LOAD_ERROR:D,DID_THROW_ITEM_PROCESSING_ERROR:D,DID_THROW_ITEM_INVALID:D,DID_COMPLETE_ITEM_PROCESSING:U,DID_START_ITEM_PROCESSING:N,DID_REVERT_ITEM_PROCESSING:N})})},gee=a=>{const{addFilter:c,utils:h}=a,{Type:y,createRoute:A}=h,N=_le(a);return c("CREATE_VIEW",D=>{const{is:U,view:G,query:K}=D;if(!U("file")||!K("GET_ALLOW_FILE_POSTER"))return;const Q=({root:fe,props:we})=>{_e(fe,we)},ie=({root:fe,props:we,action:De})=>{/poster/.test(De.change.key)&&_e(fe,we)},_e=(fe,we)=>{const{id:De}=we,Me=K("GET_ITEM",De);!Me||!Me.getMetadata("poster")||Me.archived||fe.ref.previousPoster!==Me.getMetadata("poster")&&(fe.ref.previousPoster=Me.getMetadata("poster"),K("GET_FILE_POSTER_FILTER_ITEM")(Me)&&(fe.ref.filePoster&&G.removeChildView(fe.ref.filePoster),fe.ref.filePoster=G.appendChildView(G.createChildView(N,{id:De})),fe.dispatch("DID_FILE_POSTER_CONTAINER_CREATE",{id:De})))},ve=({root:fe,action:we})=>{fe.ref.filePoster&&(fe.ref.imageWidth=we.width,fe.ref.imageHeight=we.height,fe.ref.shouldUpdatePanelHeight=!0,fe.dispatch("KICK"))},de=({root:fe})=>{let we=fe.query("GET_FILE_POSTER_HEIGHT");if(we)return we;const De=fe.query("GET_FILE_POSTER_MIN_HEIGHT"),Me=fe.query("GET_FILE_POSTER_MAX_HEIGHT");if(De&&fe.ref.imageHeight<De)return De;let oe=fe.rect.element.width*(fe.ref.imageHeight/fe.ref.imageWidth);return De&&oe<De?De:Me&&oe>Me?Me:oe};G.registerWriter(A({DID_LOAD_ITEM:Q,DID_FILE_POSTER_CALCULATE_SIZE:ve,DID_UPDATE_ITEM_METADATA:ie},({root:fe,props:we})=>{fe.ref.filePoster&&(fe.rect.element.hidden||fe.ref.shouldUpdatePanelHeight&&(fe.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:we.id,height:de({root:fe})}),fe.ref.shouldUpdatePanelHeight=!1))}))}),{options:{allowFilePoster:[!0,y.BOOLEAN],filePosterHeight:[null,y.INT],filePosterMinHeight:[null,y.INT],filePosterMaxHeight:[null,y.INT],filePosterFilterItem:[()=>!0,y.FUNCTION],filePosterCalculateAverageImageColor:[!1,y.BOOLEAN],filePosterCrossOriginAttributeValue:["Anonymous",y.STRING],filePosterItemOverlayShadowColor:[null,y.ARRAY],filePosterItemOverlayErrorColor:[null,y.ARRAY],filePosterItemOverlaySuccessColor:[null,y.ARRAY]}}},Ele=typeof window<"u"&&typeof window.document<"u";Ele&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:gee}));var LZ={},wle={get exports(){return LZ},set exports(a){LZ=a}},gh="top",Pg="bottom",Lg="right",ph="left",BH="auto",oR=[gh,Pg,Lg,ph],lA="start",GO="end",pee="clippingParents",cY="viewport",DO="popper",vee="reference",$Z=oR.reduce(function(a,c){return a.concat([c+"-"+lA,c+"-"+GO])},[]),lY=[].concat(oR,[BH]).reduce(function(a,c){return a.concat([c,c+"-"+lA,c+"-"+GO])},[]),bee="beforeRead",yee="read",_ee="afterRead",Eee="beforeMain",wee="main",Tee="afterMain",Cee="beforeWrite",See="write",Aee="afterWrite",xee=[bee,yee,_ee,Eee,wee,Tee,Cee,See,Aee];function Jb(a){return a?(a.nodeName||"").toLowerCase():null}function $g(a){if(a==null)return window;if(a.toString()!=="[object Window]"){var c=a.ownerDocument;return c&&c.defaultView||window}return a}function uA(a){var c=$g(a).Element;return a instanceof c||a instanceof Element}function Jp(a){var c=$g(a).HTMLElement;return a instanceof c||a instanceof HTMLElement}function uY(a){if(typeof ShadowRoot>"u")return!1;var c=$g(a).ShadowRoot;return a instanceof c||a instanceof ShadowRoot}function Tle(a){var c=a.state;Object.keys(c.elements).forEach(function(h){var y=c.styles[h]||{},A=c.attributes[h]||{},N=c.elements[h];!Jp(N)||!Jb(N)||(Object.assign(N.style,y),Object.keys(A).forEach(function(D){var U=A[D];U===!1?N.removeAttribute(D):N.setAttribute(D,U===!0?"":U)}))})}function Cle(a){var c=a.state,h={popper:{position:c.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(c.elements.popper.style,h.popper),c.styles=h,c.elements.arrow&&Object.assign(c.elements.arrow.style,h.arrow),function(){Object.keys(c.elements).forEach(function(y){var A=c.elements[y],N=c.attributes[y]||{},D=Object.keys(c.styles.hasOwnProperty(y)?c.styles[y]:h[y]),U=D.reduce(function(G,K){return G[K]="",G},{});!Jp(A)||!Jb(A)||(Object.assign(A.style,U),Object.keys(N).forEach(function(G){A.removeAttribute(G)}))})}}const dY={name:"applyStyles",enabled:!0,phase:"write",fn:Tle,effect:Cle,requires:["computeStyles"]};function Xb(a){return a.split("-")[0]}var cA=Math.max,SH=Math.min,qO=Math.round;function BZ(){var a=navigator.userAgentData;return a!=null&&a.brands&&Array.isArray(a.brands)?a.brands.map(function(c){return c.brand+"/"+c.version}).join(" "):navigator.userAgent}function Oee(){return!/^((?!chrome|android).)*safari/i.test(BZ())}function jO(a,c,h){c===void 0&&(c=!1),h===void 0&&(h=!1);var y=a.getBoundingClientRect(),A=1,N=1;c&&Jp(a)&&(A=a.offsetWidth>0&&qO(y.width)/a.offsetWidth||1,N=a.offsetHeight>0&&qO(y.height)/a.offsetHeight||1);var D=uA(a)?$g(a):window,U=D.visualViewport,G=!Oee()&&h,K=(y.left+(G&&U?U.offsetLeft:0))/A,Q=(y.top+(G&&U?U.offsetTop:0))/N,ie=y.width/A,_e=y.height/N;return{width:ie,height:_e,top:Q,right:K+ie,bottom:Q+_e,left:K,x:K,y:Q}}function fY(a){var c=jO(a),h=a.offsetWidth,y=a.offsetHeight;return Math.abs(c.width-h)<=1&&(h=c.width),Math.abs(c.height-y)<=1&&(y=c.height),{x:a.offsetLeft,y:a.offsetTop,width:h,height:y}}function Ree(a,c){var h=c.getRootNode&&c.getRootNode();if(a.contains(c))return!0;if(h&&uY(h)){var y=c;do{if(y&&a.isSameNode(y))return!0;y=y.parentNode||y.host}while(y)}return!1}function l_(a){return $g(a).getComputedStyle(a)}function Sle(a){return["table","td","th"].indexOf(Jb(a))>=0}function Lw(a){return((uA(a)?a.ownerDocument:a.document)||window.document).documentElement}function FH(a){return Jb(a)==="html"?a:a.assignedSlot||a.parentNode||(uY(a)?a.host:null)||Lw(a)}function EQ(a){return!Jp(a)||l_(a).position==="fixed"?null:a.offsetParent}function Ale(a){var c=/firefox/i.test(BZ()),h=/Trident/i.test(BZ());if(h&&Jp(a)){var y=l_(a);if(y.position==="fixed")return null}var A=FH(a);for(uY(A)&&(A=A.host);Jp(A)&&["html","body"].indexOf(Jb(A))<0;){var N=l_(A);if(N.transform!=="none"||N.perspective!=="none"||N.contain==="paint"||["transform","perspective"].indexOf(N.willChange)!==-1||c&&N.willChange==="filter"||c&&N.filter&&N.filter!=="none")return A;A=A.parentNode}return null}function rk(a){for(var c=$g(a),h=EQ(a);h&&Sle(h)&&l_(h).position==="static";)h=EQ(h);return h&&(Jb(h)==="html"||Jb(h)==="body"&&l_(h).position==="static")?c:h||Ale(a)||c}function hY(a){return["top","bottom"].indexOf(a)>=0?"x":"y"}function QM(a,c,h){return cA(a,SH(c,h))}function xle(a,c,h){var y=QM(a,c,h);return y>h?h:y}function Iee(){return{top:0,right:0,bottom:0,left:0}}function Dee(a){return Object.assign({},Iee(),a)}function Nee(a,c){return c.reduce(function(h,y){return h[y]=a,h},{})}var Ole=function(c,h){return c=typeof c=="function"?c(Object.assign({},h.rects,{placement:h.placement})):c,Dee(typeof c!="number"?c:Nee(c,oR))};function Rle(a){var c,h=a.state,y=a.name,A=a.options,N=h.elements.arrow,D=h.modifiersData.popperOffsets,U=Xb(h.placement),G=hY(U),K=[ph,Lg].indexOf(U)>=0,Q=K?"height":"width";if(!(!N||!D)){var ie=Ole(A.padding,h),_e=fY(N),ve=G==="y"?gh:ph,de=G==="y"?Pg:Lg,fe=h.rects.reference[Q]+h.rects.reference[G]-D[G]-h.rects.popper[Q],we=D[G]-h.rects.reference[G],De=rk(N),Me=De?G==="y"?De.clientHeight||0:De.clientWidth||0:0,oe=fe/2-we/2,Be=ie[ve],lt=Me-_e[Q]-ie[de],F=Me/2-_e[Q]/2+oe,Ee=QM(Be,F,lt),Ze=G;h.modifiersData[y]=(c={},c[Ze]=Ee,c.centerOffset=Ee-F,c)}}function Ile(a){var c=a.state,h=a.options,y=h.element,A=y===void 0?"[data-popper-arrow]":y;A!=null&&(typeof A=="string"&&(A=c.elements.popper.querySelector(A),!A)||Ree(c.elements.popper,A)&&(c.elements.arrow=A))}const Mee={name:"arrow",enabled:!0,phase:"main",fn:Rle,effect:Ile,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ZO(a){return a.split("-")[1]}var Dle={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Nle(a,c){var h=a.x,y=a.y,A=c.devicePixelRatio||1;return{x:qO(h*A)/A||0,y:qO(y*A)/A||0}}function wQ(a){var c,h=a.popper,y=a.popperRect,A=a.placement,N=a.variation,D=a.offsets,U=a.position,G=a.gpuAcceleration,K=a.adaptive,Q=a.roundOffsets,ie=a.isFixed,_e=D.x,ve=_e===void 0?0:_e,de=D.y,fe=de===void 0?0:de,we=typeof Q=="function"?Q({x:ve,y:fe}):{x:ve,y:fe};ve=we.x,fe=we.y;var De=D.hasOwnProperty("x"),Me=D.hasOwnProperty("y"),oe=ph,Be=gh,lt=window;if(K){var F=rk(h),Ee="clientHeight",Ze="clientWidth";if(F===$g(h)&&(F=Lw(h),l_(F).position!=="static"&&U==="absolute"&&(Ee="scrollHeight",Ze="scrollWidth")),F=F,A===gh||(A===ph||A===Lg)&&N===GO){Be=Pg;var ht=ie&&F===lt&&lt.visualViewport?lt.visualViewport.height:F[Ee];fe-=ht-y.height,fe*=G?1:-1}if(A===ph||(A===gh||A===Pg)&&N===GO){oe=Lg;var Et=ie&&F===lt&&lt.visualViewport?lt.visualViewport.width:F[Ze];ve-=Et-y.width,ve*=G?1:-1}}var Ne=Object.assign({position:U},K&&Dle),ge=Q===!0?Nle({x:ve,y:fe},$g(h)):{x:ve,y:fe};if(ve=ge.x,fe=ge.y,G){var gn;return Object.assign({},Ne,(gn={},gn[Be]=Me?"0":"",gn[oe]=De?"0":"",gn.transform=(lt.devicePixelRatio||1)<=1?"translate("+ve+"px, "+fe+"px)":"translate3d("+ve+"px, "+fe+"px, 0)",gn))}return Object.assign({},Ne,(c={},c[Be]=Me?fe+"px":"",c[oe]=De?ve+"px":"",c.transform="",c))}function Mle(a){var c=a.state,h=a.options,y=h.gpuAcceleration,A=y===void 0?!0:y,N=h.adaptive,D=N===void 0?!0:N,U=h.roundOffsets,G=U===void 0?!0:U,K={placement:Xb(c.placement),variation:ZO(c.placement),popper:c.elements.popper,popperRect:c.rects.popper,gpuAcceleration:A,isFixed:c.options.strategy==="fixed"};c.modifiersData.popperOffsets!=null&&(c.styles.popper=Object.assign({},c.styles.popper,wQ(Object.assign({},K,{offsets:c.modifiersData.popperOffsets,position:c.options.strategy,adaptive:D,roundOffsets:G})))),c.modifiersData.arrow!=null&&(c.styles.arrow=Object.assign({},c.styles.arrow,wQ(Object.assign({},K,{offsets:c.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:G})))),c.attributes.popper=Object.assign({},c.attributes.popper,{"data-popper-placement":c.placement})}const mY={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Mle,data:{}};var K5={passive:!0};function kle(a){var c=a.state,h=a.instance,y=a.options,A=y.scroll,N=A===void 0?!0:A,D=y.resize,U=D===void 0?!0:D,G=$g(c.elements.popper),K=[].concat(c.scrollParents.reference,c.scrollParents.popper);return N&&K.forEach(function(Q){Q.addEventListener("scroll",h.update,K5)}),U&&G.addEventListener("resize",h.update,K5),function(){N&&K.forEach(function(Q){Q.removeEventListener("scroll",h.update,K5)}),U&&G.removeEventListener("resize",h.update,K5)}}const gY={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:kle,data:{}};var Ple={left:"right",right:"left",bottom:"top",top:"bottom"};function uH(a){return a.replace(/left|right|bottom|top/g,function(c){return Ple[c]})}var Lle={start:"end",end:"start"};function TQ(a){return a.replace(/start|end/g,function(c){return Lle[c]})}function pY(a){var c=$g(a),h=c.pageXOffset,y=c.pageYOffset;return{scrollLeft:h,scrollTop:y}}function vY(a){return jO(Lw(a)).left+pY(a).scrollLeft}function $le(a,c){var h=$g(a),y=Lw(a),A=h.visualViewport,N=y.clientWidth,D=y.clientHeight,U=0,G=0;if(A){N=A.width,D=A.height;var K=Oee();(K||!K&&c==="fixed")&&(U=A.offsetLeft,G=A.offsetTop)}return{width:N,height:D,x:U+vY(a),y:G}}function Ble(a){var c,h=Lw(a),y=pY(a),A=(c=a.ownerDocument)==null?void 0:c.body,N=cA(h.scrollWidth,h.clientWidth,A?A.scrollWidth:0,A?A.clientWidth:0),D=cA(h.scrollHeight,h.clientHeight,A?A.scrollHeight:0,A?A.clientHeight:0),U=-y.scrollLeft+vY(a),G=-y.scrollTop;return l_(A||h).direction==="rtl"&&(U+=cA(h.clientWidth,A?A.clientWidth:0)-N),{width:N,height:D,x:U,y:G}}function bY(a){var c=l_(a),h=c.overflow,y=c.overflowX,A=c.overflowY;return/auto|scroll|overlay|hidden/.test(h+A+y)}function kee(a){return["html","body","#document"].indexOf(Jb(a))>=0?a.ownerDocument.body:Jp(a)&&bY(a)?a:kee(FH(a))}function JM(a,c){var h;c===void 0&&(c=[]);var y=kee(a),A=y===((h=a.ownerDocument)==null?void 0:h.body),N=$g(y),D=A?[N].concat(N.visualViewport||[],bY(y)?y:[]):y,U=c.concat(D);return A?U:U.concat(JM(FH(D)))}function FZ(a){return Object.assign({},a,{left:a.x,top:a.y,right:a.x+a.width,bottom:a.y+a.height})}function Fle(a,c){var h=jO(a,!1,c==="fixed");return h.top=h.top+a.clientTop,h.left=h.left+a.clientLeft,h.bottom=h.top+a.clientHeight,h.right=h.left+a.clientWidth,h.width=a.clientWidth,h.height=a.clientHeight,h.x=h.left,h.y=h.top,h}function CQ(a,c,h){return c===cY?FZ($le(a,h)):uA(c)?Fle(c,h):FZ(Ble(Lw(a)))}function Hle(a){var c=JM(FH(a)),h=["absolute","fixed"].indexOf(l_(a).position)>=0,y=h&&Jp(a)?rk(a):a;return uA(y)?c.filter(function(A){return uA(A)&&Ree(A,y)&&Jb(A)!=="body"}):[]}function Vle(a,c,h,y){var A=c==="clippingParents"?Hle(a):[].concat(c),N=[].concat(A,[h]),D=N[0],U=N.reduce(function(G,K){var Q=CQ(a,K,y);return G.top=cA(Q.top,G.top),G.right=SH(Q.right,G.right),G.bottom=SH(Q.bottom,G.bottom),G.left=cA(Q.left,G.left),G},CQ(a,D,y));return U.width=U.right-U.left,U.height=U.bottom-U.top,U.x=U.left,U.y=U.top,U}function Pee(a){var c=a.reference,h=a.element,y=a.placement,A=y?Xb(y):null,N=y?ZO(y):null,D=c.x+c.width/2-h.width/2,U=c.y+c.height/2-h.height/2,G;switch(A){case gh:G={x:D,y:c.y-h.height};break;case Pg:G={x:D,y:c.y+c.height};break;case Lg:G={x:c.x+c.width,y:U};break;case ph:G={x:c.x-h.width,y:U};break;default:G={x:c.x,y:c.y}}var K=A?hY(A):null;if(K!=null){var Q=K==="y"?"height":"width";switch(N){case lA:G[K]=G[K]-(c[Q]/2-h[Q]/2);break;case GO:G[K]=G[K]+(c[Q]/2-h[Q]/2);break}}return G}function YO(a,c){c===void 0&&(c={});var h=c,y=h.placement,A=y===void 0?a.placement:y,N=h.strategy,D=N===void 0?a.strategy:N,U=h.boundary,G=U===void 0?pee:U,K=h.rootBoundary,Q=K===void 0?cY:K,ie=h.elementContext,_e=ie===void 0?DO:ie,ve=h.altBoundary,de=ve===void 0?!1:ve,fe=h.padding,we=fe===void 0?0:fe,De=Dee(typeof we!="number"?we:Nee(we,oR)),Me=_e===DO?vee:DO,oe=a.rects.popper,Be=a.elements[de?Me:_e],lt=Vle(uA(Be)?Be:Be.contextElement||Lw(a.elements.popper),G,Q,D),F=jO(a.elements.reference),Ee=Pee({reference:F,element:oe,strategy:"absolute",placement:A}),Ze=FZ(Object.assign({},oe,Ee)),ht=_e===DO?Ze:F,Et={top:lt.top-ht.top+De.top,bottom:ht.bottom-lt.bottom+De.bottom,left:lt.left-ht.left+De.left,right:ht.right-lt.right+De.right},Ne=a.modifiersData.offset;if(_e===DO&&Ne){var ge=Ne[A];Object.keys(Et).forEach(function(gn){var wt=[Lg,Pg].indexOf(gn)>=0?1:-1,Ot=[gh,Pg].indexOf(gn)>=0?"y":"x";Et[gn]+=ge[Ot]*wt})}return Et}function Ule(a,c){c===void 0&&(c={});var h=c,y=h.placement,A=h.boundary,N=h.rootBoundary,D=h.padding,U=h.flipVariations,G=h.allowedAutoPlacements,K=G===void 0?lY:G,Q=ZO(y),ie=Q?U?$Z:$Z.filter(function(de){return ZO(de)===Q}):oR,_e=ie.filter(function(de){return K.indexOf(de)>=0});_e.length===0&&(_e=ie);var ve=_e.reduce(function(de,fe){return de[fe]=YO(a,{placement:fe,boundary:A,rootBoundary:N,padding:D})[Xb(fe)],de},{});return Object.keys(ve).sort(function(de,fe){return ve[de]-ve[fe]})}function zle(a){if(Xb(a)===BH)return[];var c=uH(a);return[TQ(a),c,TQ(c)]}function Wle(a){var c=a.state,h=a.options,y=a.name;if(!c.modifiersData[y]._skip){for(var A=h.mainAxis,N=A===void 0?!0:A,D=h.altAxis,U=D===void 0?!0:D,G=h.fallbackPlacements,K=h.padding,Q=h.boundary,ie=h.rootBoundary,_e=h.altBoundary,ve=h.flipVariations,de=ve===void 0?!0:ve,fe=h.allowedAutoPlacements,we=c.options.placement,De=Xb(we),Me=De===we,oe=G||(Me||!de?[uH(we)]:zle(we)),Be=[we].concat(oe).reduce(function(ao,Fo){return ao.concat(Xb(Fo)===BH?Ule(c,{placement:Fo,boundary:Q,rootBoundary:ie,padding:K,flipVariations:de,allowedAutoPlacements:fe}):Fo)},[]),lt=c.rects.reference,F=c.rects.popper,Ee=new Map,Ze=!0,ht=Be[0],Et=0;Et<Be.length;Et++){var Ne=Be[Et],ge=Xb(Ne),gn=ZO(Ne)===lA,wt=[gh,Pg].indexOf(ge)>=0,Ot=wt?"width":"height",P=YO(c,{placement:Ne,boundary:Q,rootBoundary:ie,altBoundary:_e,padding:K}),Rt=wt?gn?Lg:ph:gn?Pg:gh;lt[Ot]>F[Ot]&&(Rt=uH(Rt));var et=uH(Rt),qt=[];if(N&&qt.push(P[ge]<=0),U&&qt.push(P[Rt]<=0,P[et]<=0),qt.every(function(ao){return ao})){ht=Ne,Ze=!1;break}Ee.set(Ne,qt)}if(Ze)for(var Vt=de?3:1,Ge=function(Fo){var Je=Be.find(function(It){var te=Ee.get(It);if(te)return te.slice(0,Fo).every(function(cs){return cs})});if(Je)return ht=Je,"break"},vo=Vt;vo>0;vo--){var Bo=Ge(vo);if(Bo==="break")break}c.placement!==ht&&(c.modifiersData[y]._skip=!0,c.placement=ht,c.reset=!0)}}const Lee={name:"flip",enabled:!0,phase:"main",fn:Wle,requiresIfExists:["offset"],data:{_skip:!1}};function SQ(a,c,h){return h===void 0&&(h={x:0,y:0}),{top:a.top-c.height-h.y,right:a.right-c.width+h.x,bottom:a.bottom-c.height+h.y,left:a.left-c.width-h.x}}function AQ(a){return[gh,Lg,Pg,ph].some(function(c){return a[c]>=0})}function Gle(a){var c=a.state,h=a.name,y=c.rects.reference,A=c.rects.popper,N=c.modifiersData.preventOverflow,D=YO(c,{elementContext:"reference"}),U=YO(c,{altBoundary:!0}),G=SQ(D,y),K=SQ(U,A,N),Q=AQ(G),ie=AQ(K);c.modifiersData[h]={referenceClippingOffsets:G,popperEscapeOffsets:K,isReferenceHidden:Q,hasPopperEscaped:ie},c.attributes.popper=Object.assign({},c.attributes.popper,{"data-popper-reference-hidden":Q,"data-popper-escaped":ie})}const $ee={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Gle};function qle(a,c,h){var y=Xb(a),A=[ph,gh].indexOf(y)>=0?-1:1,N=typeof h=="function"?h(Object.assign({},c,{placement:a})):h,D=N[0],U=N[1];return D=D||0,U=(U||0)*A,[ph,Lg].indexOf(y)>=0?{x:U,y:D}:{x:D,y:U}}function jle(a){var c=a.state,h=a.options,y=a.name,A=h.offset,N=A===void 0?[0,0]:A,D=lY.reduce(function(Q,ie){return Q[ie]=qle(ie,c.rects,N),Q},{}),U=D[c.placement],G=U.x,K=U.y;c.modifiersData.popperOffsets!=null&&(c.modifiersData.popperOffsets.x+=G,c.modifiersData.popperOffsets.y+=K),c.modifiersData[y]=D}const Bee={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:jle};function Zle(a){var c=a.state,h=a.name;c.modifiersData[h]=Pee({reference:c.rects.reference,element:c.rects.popper,strategy:"absolute",placement:c.placement})}const yY={name:"popperOffsets",enabled:!0,phase:"read",fn:Zle,data:{}};function Yle(a){return a==="x"?"y":"x"}function Kle(a){var c=a.state,h=a.options,y=a.name,A=h.mainAxis,N=A===void 0?!0:A,D=h.altAxis,U=D===void 0?!1:D,G=h.boundary,K=h.rootBoundary,Q=h.altBoundary,ie=h.padding,_e=h.tether,ve=_e===void 0?!0:_e,de=h.tetherOffset,fe=de===void 0?0:de,we=YO(c,{boundary:G,rootBoundary:K,padding:ie,altBoundary:Q}),De=Xb(c.placement),Me=ZO(c.placement),oe=!Me,Be=hY(De),lt=Yle(Be),F=c.modifiersData.popperOffsets,Ee=c.rects.reference,Ze=c.rects.popper,ht=typeof fe=="function"?fe(Object.assign({},c.rects,{placement:c.placement})):fe,Et=typeof ht=="number"?{mainAxis:ht,altAxis:ht}:Object.assign({mainAxis:0,altAxis:0},ht),Ne=c.modifiersData.offset?c.modifiersData.offset[c.placement]:null,ge={x:0,y:0};if(F){if(N){var gn,wt=Be==="y"?gh:ph,Ot=Be==="y"?Pg:Lg,P=Be==="y"?"height":"width",Rt=F[Be],et=Rt+we[wt],qt=Rt-we[Ot],Vt=ve?-Ze[P]/2:0,Ge=Me===lA?Ee[P]:Ze[P],vo=Me===lA?-Ze[P]:-Ee[P],Bo=c.elements.arrow,ao=ve&&Bo?fY(Bo):{width:0,height:0},Fo=c.modifiersData["arrow#persistent"]?c.modifiersData["arrow#persistent"].padding:Iee(),Je=Fo[wt],It=Fo[Ot],te=QM(0,Ee[P],ao[P]),cs=oe?Ee[P]/2-Vt-te-Je-Et.mainAxis:Ge-te-Je-Et.mainAxis,uo=oe?-Ee[P]/2+Vt+te+It+Et.mainAxis:vo+te+It+Et.mainAxis,Bt=c.elements.arrow&&rk(c.elements.arrow),ps=Bt?Be==="y"?Bt.clientTop||0:Bt.clientLeft||0:0,Xa=(gn=Ne==null?void 0:Ne[Be])!=null?gn:0,kn=Rt+cs-Xa-ps,ko=Rt+uo-Xa,Yt=QM(ve?SH(et,kn):et,Rt,ve?cA(qt,ko):qt);F[Be]=Yt,ge[Be]=Yt-Rt}if(U){var mt,pi=Be==="x"?gh:ph,vi=Be==="x"?Pg:Lg,Lt=F[lt],Lr=lt==="y"?"height":"width",Ns=Lt+we[pi],Pc=Lt-we[vi],vs=[gh,ph].indexOf(De)!==-1,Rr=(mt=Ne==null?void 0:Ne[lt])!=null?mt:0,jc=vs?Ns:Lt-Ee[Lr]-Ze[Lr]-Rr+Et.altAxis,Ca=vs?Lt+Ee[Lr]+Ze[Lr]-Rr-Et.altAxis:Pc,nr=ve&&vs?xle(jc,Lt,Ca):QM(ve?jc:Ns,Lt,ve?Ca:Pc);F[lt]=nr,ge[lt]=nr-Lt}c.modifiersData[y]=ge}}const Fee={name:"preventOverflow",enabled:!0,phase:"main",fn:Kle,requiresIfExists:["offset"]};function Xle(a){return{scrollLeft:a.scrollLeft,scrollTop:a.scrollTop}}function Qle(a){return a===$g(a)||!Jp(a)?pY(a):Xle(a)}function Jle(a){var c=a.getBoundingClientRect(),h=qO(c.width)/a.offsetWidth||1,y=qO(c.height)/a.offsetHeight||1;return h!==1||y!==1}function eue(a,c,h){h===void 0&&(h=!1);var y=Jp(c),A=Jp(c)&&Jle(c),N=Lw(c),D=jO(a,A,h),U={scrollLeft:0,scrollTop:0},G={x:0,y:0};return(y||!y&&!h)&&((Jb(c)!=="body"||bY(N))&&(U=Qle(c)),Jp(c)?(G=jO(c,!0),G.x+=c.clientLeft,G.y+=c.clientTop):N&&(G.x=vY(N))),{x:D.left+U.scrollLeft-G.x,y:D.top+U.scrollTop-G.y,width:D.width,height:D.height}}function tue(a){var c=new Map,h=new Set,y=[];a.forEach(function(N){c.set(N.name,N)});function A(N){h.add(N.name);var D=[].concat(N.requires||[],N.requiresIfExists||[]);D.forEach(function(U){if(!h.has(U)){var G=c.get(U);G&&A(G)}}),y.push(N)}return a.forEach(function(N){h.has(N.name)||A(N)}),y}function nue(a){var c=tue(a);return xee.reduce(function(h,y){return h.concat(c.filter(function(A){return A.phase===y}))},[])}function oue(a){var c;return function(){return c||(c=new Promise(function(h){Promise.resolve().then(function(){c=void 0,h(a())})})),c}}function sue(a){var c=a.reduce(function(h,y){var A=h[y.name];return h[y.name]=A?Object.assign({},A,y,{options:Object.assign({},A.options,y.options),data:Object.assign({},A.data,y.data)}):y,h},{});return Object.keys(c).map(function(h){return c[h]})}var xQ={placement:"bottom",modifiers:[],strategy:"absolute"};function OQ(){for(var a=arguments.length,c=new Array(a),h=0;h<a;h++)c[h]=arguments[h];return!c.some(function(y){return!(y&&typeof y.getBoundingClientRect=="function")})}function HH(a){a===void 0&&(a={});var c=a,h=c.defaultModifiers,y=h===void 0?[]:h,A=c.defaultOptions,N=A===void 0?xQ:A;return function(U,G,K){K===void 0&&(K=N);var Q={placement:"bottom",orderedModifiers:[],options:Object.assign({},xQ,N),modifiersData:{},elements:{reference:U,popper:G},attributes:{},styles:{}},ie=[],_e=!1,ve={state:Q,setOptions:function(De){var Me=typeof De=="function"?De(Q.options):De;fe(),Q.options=Object.assign({},N,Q.options,Me),Q.scrollParents={reference:uA(U)?JM(U):U.contextElement?JM(U.contextElement):[],popper:JM(G)};var oe=nue(sue([].concat(y,Q.options.modifiers)));return Q.orderedModifiers=oe.filter(function(Be){return Be.enabled}),de(),ve.update()},forceUpdate:function(){if(!_e){var De=Q.elements,Me=De.reference,oe=De.popper;if(OQ(Me,oe)){Q.rects={reference:eue(Me,rk(oe),Q.options.strategy==="fixed"),popper:fY(oe)},Q.reset=!1,Q.placement=Q.options.placement,Q.orderedModifiers.forEach(function(Et){return Q.modifiersData[Et.name]=Object.assign({},Et.data)});for(var Be=0;Be<Q.orderedModifiers.length;Be++){if(Q.reset===!0){Q.reset=!1,Be=-1;continue}var lt=Q.orderedModifiers[Be],F=lt.fn,Ee=lt.options,Ze=Ee===void 0?{}:Ee,ht=lt.name;typeof F=="function"&&(Q=F({state:Q,options:Ze,name:ht,instance:ve})||Q)}}}},update:oue(function(){return new Promise(function(we){ve.forceUpdate(),we(Q)})}),destroy:function(){fe(),_e=!0}};if(!OQ(U,G))return ve;ve.setOptions(K).then(function(we){!_e&&K.onFirstUpdate&&K.onFirstUpdate(we)});function de(){Q.orderedModifiers.forEach(function(we){var De=we.name,Me=we.options,oe=Me===void 0?{}:Me,Be=we.effect;if(typeof Be=="function"){var lt=Be({state:Q,name:De,instance:ve,options:oe}),F=function(){};ie.push(lt||F)}})}function fe(){ie.forEach(function(we){return we()}),ie=[]}return ve}}var rue=HH(),iue=[gY,yY,mY,dY],aue=HH({defaultModifiers:iue}),cue=[gY,yY,mY,dY,Bee,Lee,Fee,Mee,$ee],_Y=HH({defaultModifiers:cue});const EY=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Tee,afterRead:_ee,afterWrite:Aee,applyStyles:dY,arrow:Mee,auto:BH,basePlacements:oR,beforeMain:Eee,beforeRead:bee,beforeWrite:Cee,bottom:Pg,clippingParents:pee,computeStyles:mY,createPopper:_Y,createPopperBase:rue,createPopperLite:aue,detectOverflow:YO,end:GO,eventListeners:gY,flip:Lee,hide:$ee,left:ph,main:wee,modifierPhases:xee,offset:Bee,placements:lY,popper:DO,popperGenerator:HH,popperOffsets:yY,preventOverflow:Fee,read:yee,reference:vee,right:Lg,start:lA,top:gh,variationPlacements:$Z,viewport:cY,write:See},Symbol.toStringTag,{value:"Module"})),lue=Nne(EY);/*!
  * Bootstrap v5.3.0-alpha3 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(a,c){(function(h,y){a.exports=y(lue)})(JS,function(h){function y(Le){const $=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(Le){for(const ae in Le)if(ae!=="default"){const He=Object.getOwnPropertyDescriptor(Le,ae);Object.defineProperty($,ae,He.get?He:{enumerable:!0,get:()=>Le[ae]})}}return $.default=Le,Object.freeze($)}const A=y(h),N=new Map,D={set(Le,$,ae){N.has(Le)||N.set(Le,new Map);const He=N.get(Le);if(!He.has($)&&He.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(He.keys())[0]}.`);return}He.set($,ae)},get(Le,$){return N.has(Le)&&N.get(Le).get($)||null},remove(Le,$){if(!N.has(Le))return;const ae=N.get(Le);ae.delete($),ae.size===0&&N.delete(Le)}},U=1e6,G=1e3,K="transitionend",Q=Le=>(Le&&window.CSS&&window.CSS.escape&&(Le=Le.replace(/#([^\s"#']+)/g,($,ae)=>`#${CSS.escape(ae)}`)),Le),ie=Le=>Le==null?`${Le}`:Object.prototype.toString.call(Le).match(/\s([a-z]+)/i)[1].toLowerCase(),_e=Le=>{do Le+=Math.floor(Math.random()*U);while(document.getElementById(Le));return Le},ve=Le=>{if(!Le)return 0;let{transitionDuration:$,transitionDelay:ae}=window.getComputedStyle(Le);const He=Number.parseFloat($),Ft=Number.parseFloat(ae);return!He&&!Ft?0:($=$.split(",")[0],ae=ae.split(",")[0],(Number.parseFloat($)+Number.parseFloat(ae))*G)},de=Le=>{Le.dispatchEvent(new Event(K))},fe=Le=>!Le||typeof Le!="object"?!1:(typeof Le.jquery<"u"&&(Le=Le[0]),typeof Le.nodeType<"u"),we=Le=>fe(Le)?Le.jquery?Le[0]:Le:typeof Le=="string"&&Le.length>0?document.querySelector(Q(Le)):null,De=Le=>{if(!fe(Le)||Le.getClientRects().length===0)return!1;const $=getComputedStyle(Le).getPropertyValue("visibility")==="visible",ae=Le.closest("details:not([open])");if(!ae)return $;if(ae!==Le){const He=Le.closest("summary");if(He&&He.parentNode!==ae||He===null)return!1}return $},Me=Le=>!Le||Le.nodeType!==Node.ELEMENT_NODE||Le.classList.contains("disabled")?!0:typeof Le.disabled<"u"?Le.disabled:Le.hasAttribute("disabled")&&Le.getAttribute("disabled")!=="false",oe=Le=>{if(!document.documentElement.attachShadow)return null;if(typeof Le.getRootNode=="function"){const $=Le.getRootNode();return $ instanceof ShadowRoot?$:null}return Le instanceof ShadowRoot?Le:Le.parentNode?oe(Le.parentNode):null},Be=()=>{},lt=Le=>{Le.offsetHeight},F=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Ee=[],Ze=Le=>{document.readyState==="loading"?(Ee.length||document.addEventListener("DOMContentLoaded",()=>{for(const $ of Ee)$()}),Ee.push(Le)):Le()},ht=()=>document.documentElement.dir==="rtl",Et=Le=>{Ze(()=>{const $=F();if($){const ae=Le.NAME,He=$.fn[ae];$.fn[ae]=Le.jQueryInterface,$.fn[ae].Constructor=Le,$.fn[ae].noConflict=()=>($.fn[ae]=He,Le.jQueryInterface)}})},Ne=(Le,$=[],ae=Le)=>typeof Le=="function"?Le(...$):ae,ge=(Le,$,ae=!0)=>{if(!ae){Ne(Le);return}const He=5,Ft=ve($)+He;let In=!1;const dn=({target:Ko})=>{Ko===$&&(In=!0,$.removeEventListener(K,dn),Ne(Le))};$.addEventListener(K,dn),setTimeout(()=>{In||de($)},Ft)},gn=(Le,$,ae,He)=>{const Ft=Le.length;let In=Le.indexOf($);return In===-1?!ae&&He?Le[Ft-1]:Le[0]:(In+=ae?1:-1,He&&(In=(In+Ft)%Ft),Le[Math.max(0,Math.min(In,Ft-1))])},wt=/[^.]*(?=\..*)\.|.*/,Ot=/\..*/,P=/::\d+$/,Rt={};let et=1;const qt={mouseenter:"mouseover",mouseleave:"mouseout"},Vt=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Ge(Le,$){return $&&`${$}::${et++}`||Le.uidEvent||et++}function vo(Le){const $=Ge(Le);return Le.uidEvent=$,Rt[$]=Rt[$]||{},Rt[$]}function Bo(Le,$){return function ae(He){return ps(He,{delegateTarget:Le}),ae.oneOff&&Bt.off(Le,He.type,$),$.apply(Le,[He])}}function ao(Le,$,ae){return function He(Ft){const In=Le.querySelectorAll($);for(let{target:dn}=Ft;dn&&dn!==this;dn=dn.parentNode)for(const Ko of In)if(Ko===dn)return ps(Ft,{delegateTarget:dn}),He.oneOff&&Bt.off(Le,Ft.type,$,ae),ae.apply(dn,[Ft])}}function Fo(Le,$,ae=null){return Object.values(Le).find(He=>He.callable===$&&He.delegationSelector===ae)}function Je(Le,$,ae){const He=typeof $=="string",Ft=He?ae:$||ae;let In=uo(Le);return Vt.has(In)||(In=Le),[He,Ft,In]}function It(Le,$,ae,He,Ft){if(typeof $!="string"||!Le)return;let[In,dn,Ko]=Je($,ae,He);$ in qt&&(dn=(Ti=>function(tf){if(!tf.relatedTarget||tf.relatedTarget!==tf.delegateTarget&&!tf.delegateTarget.contains(tf.relatedTarget))return Ti.call(this,tf)})(dn));const We=vo(Le),Gr=We[Ko]||(We[Ko]={}),ci=Fo(Gr,dn,In?ae:null);if(ci){ci.oneOff=ci.oneOff&&Ft;return}const ta=Ge(dn,$.replace(wt,"")),Hr=In?ao(Le,ae,dn):Bo(Le,dn);Hr.delegationSelector=In?ae:null,Hr.callable=dn,Hr.oneOff=Ft,Hr.uidEvent=ta,Gr[ta]=Hr,Le.addEventListener(Ko,Hr,In)}function te(Le,$,ae,He,Ft){const In=Fo($[ae],He,Ft);In&&(Le.removeEventListener(ae,In,!!Ft),delete $[ae][In.uidEvent])}function cs(Le,$,ae,He){const Ft=$[ae]||{};for(const[In,dn]of Object.entries(Ft))In.includes(He)&&te(Le,$,ae,dn.callable,dn.delegationSelector)}function uo(Le){return Le=Le.replace(Ot,""),qt[Le]||Le}const Bt={on(Le,$,ae,He){It(Le,$,ae,He,!1)},one(Le,$,ae,He){It(Le,$,ae,He,!0)},off(Le,$,ae,He){if(typeof $!="string"||!Le)return;const[Ft,In,dn]=Je($,ae,He),Ko=dn!==$,We=vo(Le),Gr=We[dn]||{},ci=$.startsWith(".");if(typeof In<"u"){if(!Object.keys(Gr).length)return;te(Le,We,dn,In,Ft?ae:null);return}if(ci)for(const ta of Object.keys(We))cs(Le,We,ta,$.slice(1));for(const[ta,Hr]of Object.entries(Gr)){const li=ta.replace(P,"");(!Ko||$.includes(li))&&te(Le,We,dn,Hr.callable,Hr.delegationSelector)}},trigger(Le,$,ae){if(typeof $!="string"||!Le)return null;const He=F(),Ft=uo($),In=$!==Ft;let dn=null,Ko=!0,We=!0,Gr=!1;In&&He&&(dn=He.Event($,ae),He(Le).trigger(dn),Ko=!dn.isPropagationStopped(),We=!dn.isImmediatePropagationStopped(),Gr=dn.isDefaultPrevented());const ci=ps(new Event($,{bubbles:Ko,cancelable:!0}),ae);return Gr&&ci.preventDefault(),We&&Le.dispatchEvent(ci),ci.defaultPrevented&&dn&&dn.preventDefault(),ci}};function ps(Le,$={}){for(const[ae,He]of Object.entries($))try{Le[ae]=He}catch{Object.defineProperty(Le,ae,{configurable:!0,get(){return He}})}return Le}function Xa(Le){if(Le==="true")return!0;if(Le==="false")return!1;if(Le===Number(Le).toString())return Number(Le);if(Le===""||Le==="null")return null;if(typeof Le!="string")return Le;try{return JSON.parse(decodeURIComponent(Le))}catch{return Le}}function kn(Le){return Le.replace(/[A-Z]/g,$=>`-${$.toLowerCase()}`)}const ko={setDataAttribute(Le,$,ae){Le.setAttribute(`data-bs-${kn($)}`,ae)},removeDataAttribute(Le,$){Le.removeAttribute(`data-bs-${kn($)}`)},getDataAttributes(Le){if(!Le)return{};const $={},ae=Object.keys(Le.dataset).filter(He=>He.startsWith("bs")&&!He.startsWith("bsConfig"));for(const He of ae){let Ft=He.replace(/^bs/,"");Ft=Ft.charAt(0).toLowerCase()+Ft.slice(1,Ft.length),$[Ft]=Xa(Le.dataset[He])}return $},getDataAttribute(Le,$){return Xa(Le.getAttribute(`data-bs-${kn($)}`))}};class Yt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig($){return $=this._mergeConfigObj($),$=this._configAfterMerge($),this._typeCheckConfig($),$}_configAfterMerge($){return $}_mergeConfigObj($,ae){const He=fe(ae)?ko.getDataAttribute(ae,"config"):{};return{...this.constructor.Default,...typeof He=="object"?He:{},...fe(ae)?ko.getDataAttributes(ae):{},...typeof $=="object"?$:{}}}_typeCheckConfig($,ae=this.constructor.DefaultType){for(const[He,Ft]of Object.entries(ae)){const In=$[He],dn=fe(In)?"element":ie(In);if(!new RegExp(Ft).test(dn))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${He}" provided type "${dn}" but expected type "${Ft}".`)}}}const mt="5.3.0-alpha2";class pi extends Yt{constructor($,ae){super(),$=we($),$&&(this._element=$,this._config=this._getConfig(ae),D.set(this._element,this.constructor.DATA_KEY,this))}dispose(){D.remove(this._element,this.constructor.DATA_KEY),Bt.off(this._element,this.constructor.EVENT_KEY);for(const $ of Object.getOwnPropertyNames(this))this[$]=null}_queueCallback($,ae,He=!0){ge($,ae,He)}_getConfig($){return $=this._mergeConfigObj($,this._element),$=this._configAfterMerge($),this._typeCheckConfig($),$}static getInstance($){return D.get(we($),this.DATA_KEY)}static getOrCreateInstance($,ae={}){return this.getInstance($)||new this($,typeof ae=="object"?ae:null)}static get VERSION(){return mt}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName($){return`${$}${this.EVENT_KEY}`}}const vi=Le=>{let $=Le.getAttribute("data-bs-target");if(!$||$==="#"){let ae=Le.getAttribute("href");if(!ae||!ae.includes("#")&&!ae.startsWith("."))return null;ae.includes("#")&&!ae.startsWith("#")&&(ae=`#${ae.split("#")[1]}`),$=ae&&ae!=="#"?ae.trim():null}return Q($)},Lt={find(Le,$=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call($,Le))},findOne(Le,$=document.documentElement){return Element.prototype.querySelector.call($,Le)},children(Le,$){return[].concat(...Le.children).filter(ae=>ae.matches($))},parents(Le,$){const ae=[];let He=Le.parentNode.closest($);for(;He;)ae.push(He),He=He.parentNode.closest($);return ae},prev(Le,$){let ae=Le.previousElementSibling;for(;ae;){if(ae.matches($))return[ae];ae=ae.previousElementSibling}return[]},next(Le,$){let ae=Le.nextElementSibling;for(;ae;){if(ae.matches($))return[ae];ae=ae.nextElementSibling}return[]},focusableChildren(Le){const $=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(ae=>`${ae}:not([tabindex^="-"])`).join(",");return this.find($,Le).filter(ae=>!Me(ae)&&De(ae))},getSelectorFromElement(Le){const $=vi(Le);return $&&Lt.findOne($)?$:null},getElementFromSelector(Le){const $=vi(Le);return $?Lt.findOne($):null},getMultipleElementsFromSelector(Le){const $=vi(Le);return $?Lt.find($):[]}},Lr=(Le,$="hide")=>{const ae=`click.dismiss${Le.EVENT_KEY}`,He=Le.NAME;Bt.on(document,ae,`[data-bs-dismiss="${He}"]`,function(Ft){if(["A","AREA"].includes(this.tagName)&&Ft.preventDefault(),Me(this))return;const In=Lt.getElementFromSelector(this)||this.closest(`.${He}`);Le.getOrCreateInstance(In)[$]()})},Ns="alert",vs=".bs.alert",Rr=`close${vs}`,jc=`closed${vs}`,Ca="fade",nr="show";class Os extends pi{static get NAME(){return Ns}close(){if(Bt.trigger(this._element,Rr).defaultPrevented)return;this._element.classList.remove(nr);const ae=this._element.classList.contains(Ca);this._queueCallback(()=>this._destroyElement(),this._element,ae)}_destroyElement(){this._element.remove(),Bt.trigger(this._element,jc),this.dispose()}static jQueryInterface($){return this.each(function(){const ae=Os.getOrCreateInstance(this);if(typeof $=="string"){if(ae[$]===void 0||$.startsWith("_")||$==="constructor")throw new TypeError(`No method named "${$}"`);ae[$](this)}})}}Lr(Os,"close"),Et(Os);const rd="button",Ms=".bs.button",fl=".data-api",Ii="active",Zc='[data-bs-toggle="button"]',vr=`click${Ms}${fl}`;class $r extends pi{static get NAME(){return rd}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Ii))}static jQueryInterface($){return this.each(function(){const ae=$r.getOrCreateInstance(this);$==="toggle"&&ae[$]()})}}Bt.on(document,vr,Zc,Le=>{Le.preventDefault();const $=Le.target.closest(Zc);$r.getOrCreateInstance($).toggle()}),Et($r);const Gd="swipe",bi=".bs.swipe",yh=`touchstart${bi}`,an=`touchmove${bi}`,Ho=`touchend${bi}`,ca=`pointerdown${bi}`,pc=`pointerup${bi}`,_h="touch",au="pen",ks="pointer-event",id=40,qd={endCallback:null,leftCallback:null,rightCallback:null},Xs={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class qn extends Yt{constructor($,ae){super(),this._element=$,!(!$||!qn.isSupported())&&(this._config=this._getConfig(ae),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return qd}static get DefaultType(){return Xs}static get NAME(){return Gd}dispose(){Bt.off(this._element,bi)}_start($){if(!this._supportPointerEvents){this._deltaX=$.touches[0].clientX;return}this._eventIsPointerPenTouch($)&&(this._deltaX=$.clientX)}_end($){this._eventIsPointerPenTouch($)&&(this._deltaX=$.clientX-this._deltaX),this._handleSwipe(),Ne(this._config.endCallback)}_move($){this._deltaX=$.touches&&$.touches.length>1?0:$.touches[0].clientX-this._deltaX}_handleSwipe(){const $=Math.abs(this._deltaX);if($<=id)return;const ae=$/this._deltaX;this._deltaX=0,ae&&Ne(ae>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Bt.on(this._element,ca,$=>this._start($)),Bt.on(this._element,pc,$=>this._end($)),this._element.classList.add(ks)):(Bt.on(this._element,yh,$=>this._start($)),Bt.on(this._element,an,$=>this._move($)),Bt.on(this._element,Ho,$=>this._end($)))}_eventIsPointerPenTouch($){return this._supportPointerEvents&&($.pointerType===au||$.pointerType===_h)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Qa="carousel",Yc=".bs.carousel",Eh=".data-api",Di="ArrowLeft",Ki="ArrowRight",Ur=500,Fa="next",Kc="prev",vc="left",Sa="right",Br=`slide${Yc}`,bc=`slid${Yc}`,hl=`keydown${Yc}`,Bg=`mouseenter${Yc}`,Fg=`mouseleave${Yc}`,Ll=`dragstart${Yc}`,Tm=`load${Yc}${Eh}`,Xe=`click${Yc}${Eh}`,yi="carousel",cu="active",Hg="slide",wh="carousel-item-end",Fs="carousel-item-start",jd="carousel-item-next",Cm="carousel-item-prev",Xi=".active",Xc=".carousel-item",oi=Xi+Xc,_i=".carousel-item img",lu=".carousel-indicators",Ja="[data-bs-slide], [data-bs-slide-to]",uu='[data-bs-ride="carousel"]',$l={[Di]:Sa,[Ki]:vc},ad={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Cs={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class si extends pi{constructor($,ae){super($,ae),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Lt.findOne(lu,this._element),this._addEventListeners(),this._config.ride===yi&&this.cycle()}static get Default(){return ad}static get DefaultType(){return Cs}static get NAME(){return Qa}next(){this._slide(Fa)}nextWhenVisible(){!document.hidden&&De(this._element)&&this.next()}prev(){this._slide(Kc)}pause(){this._isSliding&&de(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){Bt.one(this._element,bc,()=>this.cycle());return}this.cycle()}}to($){const ae=this._getItems();if($>ae.length-1||$<0)return;if(this._isSliding){Bt.one(this._element,bc,()=>this.to($));return}const He=this._getItemIndex(this._getActive());if(He===$)return;const Ft=$>He?Fa:Kc;this._slide(Ft,ae[$])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge($){return $.defaultInterval=$.interval,$}_addEventListeners(){this._config.keyboard&&Bt.on(this._element,hl,$=>this._keydown($)),this._config.pause==="hover"&&(Bt.on(this._element,Bg,()=>this.pause()),Bt.on(this._element,Fg,()=>this._maybeEnableCycle())),this._config.touch&&qn.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const He of Lt.find(_i,this._element))Bt.on(He,Ll,Ft=>Ft.preventDefault());const ae={leftCallback:()=>this._slide(this._directionToOrder(vc)),rightCallback:()=>this._slide(this._directionToOrder(Sa)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Ur+this._config.interval))}};this._swipeHelper=new qn(this._element,ae)}_keydown($){if(/input|textarea/i.test($.target.tagName))return;const ae=$l[$.key];ae&&($.preventDefault(),this._slide(this._directionToOrder(ae)))}_getItemIndex($){return this._getItems().indexOf($)}_setActiveIndicatorElement($){if(!this._indicatorsElement)return;const ae=Lt.findOne(Xi,this._indicatorsElement);ae.classList.remove(cu),ae.removeAttribute("aria-current");const He=Lt.findOne(`[data-bs-slide-to="${$}"]`,this._indicatorsElement);He&&(He.classList.add(cu),He.setAttribute("aria-current","true"))}_updateInterval(){const $=this._activeElement||this._getActive();if(!$)return;const ae=Number.parseInt($.getAttribute("data-bs-interval"),10);this._config.interval=ae||this._config.defaultInterval}_slide($,ae=null){if(this._isSliding)return;const He=this._getActive(),Ft=$===Fa,In=ae||gn(this._getItems(),He,Ft,this._config.wrap);if(In===He)return;const dn=this._getItemIndex(In),Ko=li=>Bt.trigger(this._element,li,{relatedTarget:In,direction:this._orderToDirection($),from:this._getItemIndex(He),to:dn});if(Ko(Br).defaultPrevented||!He||!In)return;const Gr=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(dn),this._activeElement=In;const ci=Ft?Fs:wh,ta=Ft?jd:Cm;In.classList.add(ta),lt(In),He.classList.add(ci),In.classList.add(ci);const Hr=()=>{In.classList.remove(ci,ta),In.classList.add(cu),He.classList.remove(cu,ta,ci),this._isSliding=!1,Ko(bc)};this._queueCallback(Hr,He,this._isAnimated()),Gr&&this.cycle()}_isAnimated(){return this._element.classList.contains(Hg)}_getActive(){return Lt.findOne(oi,this._element)}_getItems(){return Lt.find(Xc,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder($){return ht()?$===vc?Kc:Fa:$===vc?Fa:Kc}_orderToDirection($){return ht()?$===Kc?vc:Sa:$===Kc?Sa:vc}static jQueryInterface($){return this.each(function(){const ae=si.getOrCreateInstance(this,$);if(typeof $=="number"){ae.to($);return}if(typeof $=="string"){if(ae[$]===void 0||$.startsWith("_")||$==="constructor")throw new TypeError(`No method named "${$}"`);ae[$]()}})}}Bt.on(document,Xe,Ja,function(Le){const $=Lt.getElementFromSelector(this);if(!$||!$.classList.contains(yi))return;Le.preventDefault();const ae=si.getOrCreateInstance($),He=this.getAttribute("data-bs-slide-to");if(He){ae.to(He),ae._maybeEnableCycle();return}if(ko.getDataAttribute(this,"slide")==="next"){ae.next(),ae._maybeEnableCycle();return}ae.prev(),ae._maybeEnableCycle()}),Bt.on(window,Tm,()=>{const Le=Lt.find(uu);for(const $ of Le)si.getOrCreateInstance($)}),Et(si);const Qc="collapse",Aa=".bs.collapse",yc=".data-api",br=`show${Aa}`,ld=`shown${Aa}`,du=`hide${Aa}`,bs=`hidden${Aa}`,ec=`click${Aa}${yc}`,ri="show",Fr="collapse",Jc="collapsing",Iu="collapsed",_c=`:scope .${Fr} .${Fr}`,Lc="collapse-horizontal",Df="width",Th="height",Vg=".collapse.show, .collapse.collapsing",tc='[data-bs-toggle="collapse"]',Du={parent:null,toggle:!0},Ch={parent:"(null|element)",toggle:"boolean"};class Nu extends pi{constructor($,ae){super($,ae),this._isTransitioning=!1,this._triggerArray=[];const He=Lt.find(tc);for(const Ft of He){const In=Lt.getSelectorFromElement(Ft),dn=Lt.find(In).filter(Ko=>Ko===this._element);In!==null&&dn.length&&this._triggerArray.push(Ft)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Du}static get DefaultType(){return Ch}static get NAME(){return Qc}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let $=[];if(this._config.parent&&($=this._getFirstLevelChildren(Vg).filter(Ko=>Ko!==this._element).map(Ko=>Nu.getOrCreateInstance(Ko,{toggle:!1}))),$.length&&$[0]._isTransitioning||Bt.trigger(this._element,br).defaultPrevented)return;for(const Ko of $)Ko.hide();const He=this._getDimension();this._element.classList.remove(Fr),this._element.classList.add(Jc),this._element.style[He]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const Ft=()=>{this._isTransitioning=!1,this._element.classList.remove(Jc),this._element.classList.add(Fr,ri),this._element.style[He]="",Bt.trigger(this._element,ld)},dn=`scroll${He[0].toUpperCase()+He.slice(1)}`;this._queueCallback(Ft,this._element,!0),this._element.style[He]=`${this._element[dn]}px`}hide(){if(this._isTransitioning||!this._isShown()||Bt.trigger(this._element,du).defaultPrevented)return;const ae=this._getDimension();this._element.style[ae]=`${this._element.getBoundingClientRect()[ae]}px`,lt(this._element),this._element.classList.add(Jc),this._element.classList.remove(Fr,ri);for(const Ft of this._triggerArray){const In=Lt.getElementFromSelector(Ft);In&&!this._isShown(In)&&this._addAriaAndCollapsedClass([Ft],!1)}this._isTransitioning=!0;const He=()=>{this._isTransitioning=!1,this._element.classList.remove(Jc),this._element.classList.add(Fr),Bt.trigger(this._element,bs)};this._element.style[ae]="",this._queueCallback(He,this._element,!0)}_isShown($=this._element){return $.classList.contains(ri)}_configAfterMerge($){return $.toggle=!!$.toggle,$.parent=we($.parent),$}_getDimension(){return this._element.classList.contains(Lc)?Df:Th}_initializeChildren(){if(!this._config.parent)return;const $=this._getFirstLevelChildren(tc);for(const ae of $){const He=Lt.getElementFromSelector(ae);He&&this._addAriaAndCollapsedClass([ae],this._isShown(He))}}_getFirstLevelChildren($){const ae=Lt.find(_c,this._config.parent);return Lt.find($,this._config.parent).filter(He=>!ae.includes(He))}_addAriaAndCollapsedClass($,ae){if($.length)for(const He of $)He.classList.toggle(Iu,!ae),He.setAttribute("aria-expanded",ae)}static jQueryInterface($){const ae={};return typeof $=="string"&&/show|hide/.test($)&&(ae.toggle=!1),this.each(function(){const He=Nu.getOrCreateInstance(this,ae);if(typeof $=="string"){if(typeof He[$]>"u")throw new TypeError(`No method named "${$}"`);He[$]()}})}}Bt.on(document,ec,tc,function(Le){(Le.target.tagName==="A"||Le.delegateTarget&&Le.delegateTarget.tagName==="A")&&Le.preventDefault();for(const $ of Lt.getMultipleElementsFromSelector(this))Nu.getOrCreateInstance($,{toggle:!1}).toggle()}),Et(Nu);const Nf="dropdown",Mu=".bs.dropdown",ku=".data-api",xa="Escape",Ni="Tab",Pu="ArrowUp",Mf="ArrowDown",Ug=2,Hs=`hide${Mu}`,yr=`hidden${Mu}`,nc=`show${Mu}`,Qi=`shown${Mu}`,ml=`click${Mu}${ku}`,$c=`keydown${Mu}${ku}`,co=`keyup${Mu}${ku}`,Do="show",Mi="dropup",Kr="dropend",la="dropstart",T="dropup-center",I="dropdown-center",H='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',z=`${H}.${Do}`,X=".dropdown-menu",re=".navbar",me=".navbar-nav",pe=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",ke=ht()?"top-end":"top-start",st=ht()?"top-start":"top-end",yt=ht()?"bottom-end":"bottom-start",Kt=ht()?"bottom-start":"bottom-end",ot=ht()?"left-start":"right-start",Nt=ht()?"right-start":"left-start",Jn="top",Zn="bottom",Tn={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},lr={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Gs extends pi{constructor($,ae){super($,ae),this._popper=null,this._parent=this._element.parentNode,this._menu=Lt.next(this._element,X)[0]||Lt.prev(this._element,X)[0]||Lt.findOne(X,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Tn}static get DefaultType(){return lr}static get NAME(){return Nf}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Me(this._element)||this._isShown())return;const $={relatedTarget:this._element};if(!Bt.trigger(this._element,nc,$).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(me))for(const He of[].concat(...document.body.children))Bt.on(He,"mouseover",Be);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Do),this._element.classList.add(Do),Bt.trigger(this._element,Qi,$)}}hide(){if(Me(this._element)||!this._isShown())return;const $={relatedTarget:this._element};this._completeHide($)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide($){if(!Bt.trigger(this._element,Hs,$).defaultPrevented){if("ontouchstart"in document.documentElement)for(const He of[].concat(...document.body.children))Bt.off(He,"mouseover",Be);this._popper&&this._popper.destroy(),this._menu.classList.remove(Do),this._element.classList.remove(Do),this._element.setAttribute("aria-expanded","false"),ko.removeDataAttribute(this._menu,"popper"),Bt.trigger(this._element,yr,$)}}_getConfig($){if($=super._getConfig($),typeof $.reference=="object"&&!fe($.reference)&&typeof $.reference.getBoundingClientRect!="function")throw new TypeError(`${Nf.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return $}_createPopper(){if(typeof A>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let $=this._element;this._config.reference==="parent"?$=this._parent:fe(this._config.reference)?$=we(this._config.reference):typeof this._config.reference=="object"&&($=this._config.reference);const ae=this._getPopperConfig();this._popper=A.createPopper($,this._menu,ae)}_isShown(){return this._menu.classList.contains(Do)}_getPlacement(){const $=this._parent;if($.classList.contains(Kr))return ot;if($.classList.contains(la))return Nt;if($.classList.contains(T))return Jn;if($.classList.contains(I))return Zn;const ae=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return $.classList.contains(Mi)?ae?st:ke:ae?Kt:yt}_detectNavbar(){return this._element.closest(re)!==null}_getOffset(){const{offset:$}=this._config;return typeof $=="string"?$.split(",").map(ae=>Number.parseInt(ae,10)):typeof $=="function"?ae=>$(ae,this._element):$}_getPopperConfig(){const $={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(ko.setDataAttribute(this._menu,"popper","static"),$.modifiers=[{name:"applyStyles",enabled:!1}]),{...$,...Ne(this._config.popperConfig,[$])}}_selectMenuItem({key:$,target:ae}){const He=Lt.find(pe,this._menu).filter(Ft=>De(Ft));He.length&&gn(He,ae,$===Mf,!He.includes(ae)).focus()}static jQueryInterface($){return this.each(function(){const ae=Gs.getOrCreateInstance(this,$);if(typeof $=="string"){if(typeof ae[$]>"u")throw new TypeError(`No method named "${$}"`);ae[$]()}})}static clearMenus($){if($.button===Ug||$.type==="keyup"&&$.key!==Ni)return;const ae=Lt.find(z);for(const He of ae){const Ft=Gs.getInstance(He);if(!Ft||Ft._config.autoClose===!1)continue;const In=$.composedPath(),dn=In.includes(Ft._menu);if(In.includes(Ft._element)||Ft._config.autoClose==="inside"&&!dn||Ft._config.autoClose==="outside"&&dn||Ft._menu.contains($.target)&&($.type==="keyup"&&$.key===Ni||/input|select|option|textarea|form/i.test($.target.tagName)))continue;const Ko={relatedTarget:Ft._element};$.type==="click"&&(Ko.clickEvent=$),Ft._completeHide(Ko)}}static dataApiKeydownHandler($){const ae=/input|textarea/i.test($.target.tagName),He=$.key===xa,Ft=[Pu,Mf].includes($.key);if(!Ft&&!He||ae&&!He)return;$.preventDefault();const In=this.matches(H)?this:Lt.prev(this,H)[0]||Lt.next(this,H)[0]||Lt.findOne(H,$.delegateTarget.parentNode),dn=Gs.getOrCreateInstance(In);if(Ft){$.stopPropagation(),dn.show(),dn._selectMenuItem($);return}dn._isShown()&&($.stopPropagation(),dn.hide(),In.focus())}}Bt.on(document,$c,H,Gs.dataApiKeydownHandler),Bt.on(document,$c,X,Gs.dataApiKeydownHandler),Bt.on(document,ml,Gs.clearMenus),Bt.on(document,co,Gs.clearMenus),Bt.on(document,ml,H,function(Le){Le.preventDefault(),Gs.getOrCreateInstance(this).toggle()}),Et(Gs);const ls="backdrop",Kn="fade",eo="show",ki=`mousedown.bs.${ls}`,xo={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},_r={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Bl extends Yt{constructor($){super(),this._config=this._getConfig($),this._isAppended=!1,this._element=null}static get Default(){return xo}static get DefaultType(){return _r}static get NAME(){return ls}show($){if(!this._config.isVisible){Ne($);return}this._append();const ae=this._getElement();this._config.isAnimated&&lt(ae),ae.classList.add(eo),this._emulateAnimation(()=>{Ne($)})}hide($){if(!this._config.isVisible){Ne($);return}this._getElement().classList.remove(eo),this._emulateAnimation(()=>{this.dispose(),Ne($)})}dispose(){this._isAppended&&(Bt.off(this._element,ki),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const $=document.createElement("div");$.className=this._config.className,this._config.isAnimated&&$.classList.add(Kn),this._element=$}return this._element}_configAfterMerge($){return $.rootElement=we($.rootElement),$}_append(){if(this._isAppended)return;const $=this._getElement();this._config.rootElement.append($),Bt.on($,ki,()=>{Ne(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation($){ge($,this._getElement(),this._config.isAnimated)}}const Vs="focustrap",Ir=".bs.focustrap",Bc=`focusin${Ir}`,Ei=`keydown.tab${Ir}`,is="Tab",dr="forward",Oa="backward",kf={autofocus:!0,trapElement:null},Fc={autofocus:"boolean",trapElement:"element"};class Ec extends Yt{constructor($){super(),this._config=this._getConfig($),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return kf}static get DefaultType(){return Fc}static get NAME(){return Vs}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Bt.off(document,Ir),Bt.on(document,Bc,$=>this._handleFocusin($)),Bt.on(document,Ei,$=>this._handleKeydown($)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Bt.off(document,Ir))}_handleFocusin($){const{trapElement:ae}=this._config;if($.target===document||$.target===ae||ae.contains($.target))return;const He=Lt.focusableChildren(ae);He.length===0?ae.focus():this._lastTabNavDirection===Oa?He[He.length-1].focus():He[0].focus()}_handleKeydown($){$.key===is&&(this._lastTabNavDirection=$.shiftKey?Oa:dr)}}const ho=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",zr=".sticky-top",Pi="padding-right",oc="margin-right";class Ji{constructor(){this._element=document.body}getWidth(){const $=document.documentElement.clientWidth;return Math.abs(window.innerWidth-$)}hide(){const $=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Pi,ae=>ae+$),this._setElementAttributes(ho,Pi,ae=>ae+$),this._setElementAttributes(zr,oc,ae=>ae-$)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Pi),this._resetElementAttributes(ho,Pi),this._resetElementAttributes(zr,oc)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes($,ae,He){const Ft=this.getWidth(),In=dn=>{if(dn!==this._element&&window.innerWidth>dn.clientWidth+Ft)return;this._saveInitialAttribute(dn,ae);const Ko=window.getComputedStyle(dn).getPropertyValue(ae);dn.style.setProperty(ae,`${He(Number.parseFloat(Ko))}px`)};this._applyManipulationCallback($,In)}_saveInitialAttribute($,ae){const He=$.style.getPropertyValue(ae);He&&ko.setDataAttribute($,ae,He)}_resetElementAttributes($,ae){const He=Ft=>{const In=ko.getDataAttribute(Ft,ae);if(In===null){Ft.style.removeProperty(ae);return}ko.removeDataAttribute(Ft,ae),Ft.style.setProperty(ae,In)};this._applyManipulationCallback($,He)}_applyManipulationCallback($,ae){if(fe($)){ae($);return}for(const He of Lt.find($,this._element))ae(He)}}const fr="modal",Ra=".bs.modal",ud=".data-api",Sh="Escape",zg=`hide${Ra}`,Fl=`hidePrevented${Ra}`,fu=`hidden${Ra}`,Zd=`show${Ra}`,wi=`shown${Ra}`,dd=`resize${Ra}`,fd=`click.dismiss${Ra}`,Lu=`mousedown.dismiss${Ra}`,sc=`keydown.dismiss${Ra}`,ua=`click${Ra}${ud}`,hu="modal-open",hd="fade",Ah="show",xh="modal-static",ws=".modal.show",wc=".modal-dialog",Oe=".modal-body",rc='[data-bs-toggle="modal"]',da={backdrop:!0,focus:!0,keyboard:!0},Oh={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class md extends pi{constructor($,ae){super($,ae),this._dialog=Lt.findOne(wc,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Ji,this._addEventListeners()}static get Default(){return da}static get DefaultType(){return Oh}static get NAME(){return fr}toggle($){return this._isShown?this.hide():this.show($)}show($){this._isShown||this._isTransitioning||Bt.trigger(this._element,Zd,{relatedTarget:$}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(hu),this._adjustDialog(),this._backdrop.show(()=>this._showElement($)))}hide(){!this._isShown||this._isTransitioning||Bt.trigger(this._element,zg).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Ah),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Bt.off(window,Ra),Bt.off(this._dialog,Ra),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Bl({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Ec({trapElement:this._element})}_showElement($){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const ae=Lt.findOne(Oe,this._dialog);ae&&(ae.scrollTop=0),lt(this._element),this._element.classList.add(Ah);const He=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Bt.trigger(this._element,wi,{relatedTarget:$})};this._queueCallback(He,this._dialog,this._isAnimated())}_addEventListeners(){Bt.on(this._element,sc,$=>{if($.key===Sh){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),Bt.on(window,dd,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Bt.on(this._element,Lu,$=>{Bt.one(this._element,fd,ae=>{if(!(this._element!==$.target||this._element!==ae.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(hu),this._resetAdjustments(),this._scrollBar.reset(),Bt.trigger(this._element,fu)})}_isAnimated(){return this._element.classList.contains(hd)}_triggerBackdropTransition(){if(Bt.trigger(this._element,Fl).defaultPrevented)return;const ae=this._element.scrollHeight>document.documentElement.clientHeight,He=this._element.style.overflowY;He==="hidden"||this._element.classList.contains(xh)||(ae||(this._element.style.overflowY="hidden"),this._element.classList.add(xh),this._queueCallback(()=>{this._element.classList.remove(xh),this._queueCallback(()=>{this._element.style.overflowY=He},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const $=this._element.scrollHeight>document.documentElement.clientHeight,ae=this._scrollBar.getWidth(),He=ae>0;if(He&&!$){const Ft=ht()?"paddingLeft":"paddingRight";this._element.style[Ft]=`${ae}px`}if(!He&&$){const Ft=ht()?"paddingRight":"paddingLeft";this._element.style[Ft]=`${ae}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface($,ae){return this.each(function(){const He=md.getOrCreateInstance(this,$);if(typeof $=="string"){if(typeof He[$]>"u")throw new TypeError(`No method named "${$}"`);He[$](ae)}})}}Bt.on(document,ua,rc,function(Le){const $=Lt.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&Le.preventDefault(),Bt.one($,Zd,Ft=>{Ft.defaultPrevented||Bt.one($,fu,()=>{De(this)&&this.focus()})});const ae=Lt.findOne(ws);ae&&md.getInstance(ae).hide(),md.getOrCreateInstance($).toggle(this)}),Lr(md),Et(md);const o1="offcanvas",Qe=".bs.offcanvas",Mt=".data-api",xt=`load${Qe}${Mt}`,Un="Escape",_o="show",Vo="showing",Xr="hiding",qs="offcanvas-backdrop",gd=".offcanvas.show",Tc=`show${Qe}`,Ia=`shown${Qe}`,Te=`hide${Qe}`,Pe=`hidePrevented${Qe}`,ze=`hidden${Qe}`,Ht=`resize${Qe}`,ct=`click${Qe}${Mt}`,Ct=`keydown.dismiss${Qe}`,Xt='[data-bs-toggle="offcanvas"]',An={backdrop:!0,keyboard:!0,scroll:!1},Nn={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class to extends pi{constructor($,ae){super($,ae),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return An}static get DefaultType(){return Nn}static get NAME(){return o1}toggle($){return this._isShown?this.hide():this.show($)}show($){if(this._isShown||Bt.trigger(this._element,Tc,{relatedTarget:$}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Ji().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Vo);const He=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(_o),this._element.classList.remove(Vo),Bt.trigger(this._element,Ia,{relatedTarget:$})};this._queueCallback(He,this._element,!0)}hide(){if(!this._isShown||Bt.trigger(this._element,Te).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Xr),this._backdrop.hide();const ae=()=>{this._element.classList.remove(_o,Xr),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Ji().reset(),Bt.trigger(this._element,ze)};this._queueCallback(ae,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const $=()=>{if(this._config.backdrop==="static"){Bt.trigger(this._element,Pe);return}this.hide()},ae=!!this._config.backdrop;return new Bl({className:qs,isVisible:ae,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:ae?$:null})}_initializeFocusTrap(){return new Ec({trapElement:this._element})}_addEventListeners(){Bt.on(this._element,Ct,$=>{if($.key===Un){if(this._config.keyboard){this.hide();return}Bt.trigger(this._element,Pe)}})}static jQueryInterface($){return this.each(function(){const ae=to.getOrCreateInstance(this,$);if(typeof $=="string"){if(ae[$]===void 0||$.startsWith("_")||$==="constructor")throw new TypeError(`No method named "${$}"`);ae[$](this)}})}}Bt.on(document,ct,Xt,function(Le){const $=Lt.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&Le.preventDefault(),Me(this))return;Bt.one($,ze,()=>{De(this)&&this.focus()});const ae=Lt.findOne(gd);ae&&ae!==$&&to.getInstance(ae).hide(),to.getOrCreateInstance($).toggle(this)}),Bt.on(window,xt,()=>{for(const Le of Lt.find(gd))to.getOrCreateInstance(Le).show()}),Bt.on(window,Ht,()=>{for(const Le of Lt.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(Le).position!=="fixed"&&to.getOrCreateInstance(Le).hide()}),Lr(to),Et(to);const bo=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),so=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Zo=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Rs=(Le,$)=>{const ae=Le.nodeName.toLowerCase();return $.includes(ae)?bo.has(ae)?!!(so.test(Le.nodeValue)||Zo.test(Le.nodeValue)):!0:$.filter(He=>He instanceof RegExp).some(He=>He.test(ae))},Li={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function $i(Le,$,ae){if(!Le.length)return Le;if(ae&&typeof ae=="function")return ae(Le);const Ft=new window.DOMParser().parseFromString(Le,"text/html"),In=[].concat(...Ft.body.querySelectorAll("*"));for(const dn of In){const Ko=dn.nodeName.toLowerCase();if(!Object.keys($).includes(Ko)){dn.remove();continue}const We=[].concat(...dn.attributes),Gr=[].concat($["*"]||[],$[Ko]||[]);for(const ci of We)Rs(ci,Gr)||dn.removeAttribute(ci.nodeName)}return Ft.body.innerHTML}const Va="TemplateFactory",Qs={allowList:Li,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Hl={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Ps={entry:"(string|element|function|null)",selector:"(string|element)"};class es extends Yt{constructor($){super(),this._config=this._getConfig($)}static get Default(){return Qs}static get DefaultType(){return Hl}static get NAME(){return Va}getContent(){return Object.values(this._config.content).map($=>this._resolvePossibleFunction($)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent($){return this._checkContent($),this._config.content={...this._config.content,...$},this}toHtml(){const $=document.createElement("div");$.innerHTML=this._maybeSanitize(this._config.template);for(const[Ft,In]of Object.entries(this._config.content))this._setContent($,In,Ft);const ae=$.children[0],He=this._resolvePossibleFunction(this._config.extraClass);return He&&ae.classList.add(...He.split(" ")),ae}_typeCheckConfig($){super._typeCheckConfig($),this._checkContent($.content)}_checkContent($){for(const[ae,He]of Object.entries($))super._typeCheckConfig({selector:ae,entry:He},Ps)}_setContent($,ae,He){const Ft=Lt.findOne(He,$);if(Ft){if(ae=this._resolvePossibleFunction(ae),!ae){Ft.remove();return}if(fe(ae)){this._putElementInTemplate(we(ae),Ft);return}if(this._config.html){Ft.innerHTML=this._maybeSanitize(ae);return}Ft.textContent=ae}}_maybeSanitize($){return this._config.sanitize?$i($,this._config.allowList,this._config.sanitizeFn):$}_resolvePossibleFunction($){return Ne($,[this])}_putElementInTemplate($,ae){if(this._config.html){ae.innerHTML="",ae.append($);return}ae.textContent=$.textContent}}const gl="tooltip",Am=new Set(["sanitize","allowList","sanitizeFn"]),s1="fade",Da="modal",Yd="show",Vl=".tooltip-inner",el=`.${Da}`,Kd="hide.bs.modal",ro="hover",fa="focus",Rh="click",Ev="manual",ii="hide",ha="hidden",$u="show",pl="shown",Na="inserted",tl="click",ea="focusin",xm="focusout",us="mouseenter",nl="mouseleave",Ul={AUTO:"auto",TOP:"top",RIGHT:ht()?"left":"right",BOTTOM:"bottom",LEFT:ht()?"right":"left"},Er={allowList:Li,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Om={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class zl extends pi{constructor($,ae){if(typeof A>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super($,ae),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Er}static get DefaultType(){return Om}static get NAME(){return gl}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),Bt.off(this._element.closest(el),Kd,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const $=Bt.trigger(this._element,this.constructor.eventName($u)),He=(oe(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if($.defaultPrevented||!He)return;this._disposePopper();const Ft=this._getTipElement();this._element.setAttribute("aria-describedby",Ft.getAttribute("id"));const{container:In}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(In.append(Ft),Bt.trigger(this._element,this.constructor.eventName(Na))),this._popper=this._createPopper(Ft),Ft.classList.add(Yd),"ontouchstart"in document.documentElement)for(const Ko of[].concat(...document.body.children))Bt.on(Ko,"mouseover",Be);const dn=()=>{Bt.trigger(this._element,this.constructor.eventName(pl)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(dn,this.tip,this._isAnimated())}hide(){if(!this._isShown()||Bt.trigger(this._element,this.constructor.eventName(ii)).defaultPrevented)return;if(this._getTipElement().classList.remove(Yd),"ontouchstart"in document.documentElement)for(const Ft of[].concat(...document.body.children))Bt.off(Ft,"mouseover",Be);this._activeTrigger[Rh]=!1,this._activeTrigger[fa]=!1,this._activeTrigger[ro]=!1,this._isHovered=null;const He=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Bt.trigger(this._element,this.constructor.eventName(ha)))};this._queueCallback(He,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement($){const ae=this._getTemplateFactory($).toHtml();if(!ae)return null;ae.classList.remove(s1,Yd),ae.classList.add(`bs-${this.constructor.NAME}-auto`);const He=_e(this.constructor.NAME).toString();return ae.setAttribute("id",He),this._isAnimated()&&ae.classList.add(s1),ae}setContent($){this._newContent=$,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory($){return this._templateFactory?this._templateFactory.changeContent($):this._templateFactory=new es({...this._config,content:$,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Vl]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget($){return this.constructor.getOrCreateInstance($.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(s1)}_isShown(){return this.tip&&this.tip.classList.contains(Yd)}_createPopper($){const ae=Ne(this._config.placement,[this,$,this._element]),He=Ul[ae.toUpperCase()];return A.createPopper(this._element,$,this._getPopperConfig(He))}_getOffset(){const{offset:$}=this._config;return typeof $=="string"?$.split(",").map(ae=>Number.parseInt(ae,10)):typeof $=="function"?ae=>$(ae,this._element):$}_resolvePossibleFunction($){return Ne($,[this._element])}_getPopperConfig($){const ae={placement:$,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:He=>{this._getTipElement().setAttribute("data-popper-placement",He.state.placement)}}]};return{...ae,...Ne(this._config.popperConfig,[ae])}}_setListeners(){const $=this._config.trigger.split(" ");for(const ae of $)if(ae==="click")Bt.on(this._element,this.constructor.eventName(tl),this._config.selector,He=>{this._initializeOnDelegatedTarget(He).toggle()});else if(ae!==Ev){const He=ae===ro?this.constructor.eventName(us):this.constructor.eventName(ea),Ft=ae===ro?this.constructor.eventName(nl):this.constructor.eventName(xm);Bt.on(this._element,He,this._config.selector,In=>{const dn=this._initializeOnDelegatedTarget(In);dn._activeTrigger[In.type==="focusin"?fa:ro]=!0,dn._enter()}),Bt.on(this._element,Ft,this._config.selector,In=>{const dn=this._initializeOnDelegatedTarget(In);dn._activeTrigger[In.type==="focusout"?fa:ro]=dn._element.contains(In.relatedTarget),dn._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Bt.on(this._element.closest(el),Kd,this._hideModalHandler)}_fixTitle(){const $=this._element.getAttribute("title");$&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",$),this._element.setAttribute("data-bs-original-title",$),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout($,ae){clearTimeout(this._timeout),this._timeout=setTimeout($,ae)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig($){const ae=ko.getDataAttributes(this._element);for(const He of Object.keys(ae))Am.has(He)&&delete ae[He];return $={...ae,...typeof $=="object"&&$?$:{}},$=this._mergeConfigObj($),$=this._configAfterMerge($),this._typeCheckConfig($),$}_configAfterMerge($){return $.container=$.container===!1?document.body:we($.container),typeof $.delay=="number"&&($.delay={show:$.delay,hide:$.delay}),typeof $.title=="number"&&($.title=$.title.toString()),typeof $.content=="number"&&($.content=$.content.toString()),$}_getDelegateConfig(){const $={};for(const[ae,He]of Object.entries(this._config))this.constructor.Default[ae]!==He&&($[ae]=He);return $.selector=!1,$.trigger="manual",$}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface($){return this.each(function(){const ae=zl.getOrCreateInstance(this,$);if(typeof $=="string"){if(typeof ae[$]>"u")throw new TypeError(`No method named "${$}"`);ae[$]()}})}}Et(zl);const pd="popover",Js=".popover-header",wr=".popover-body",Ua={...zl.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},r1={...zl.DefaultType,content:"(null|string|element|function)"};class Bu extends zl{static get Default(){return Ua}static get DefaultType(){return r1}static get NAME(){return pd}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Js]:this._getTitle(),[wr]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface($){return this.each(function(){const ae=Bu.getOrCreateInstance(this,$);if(typeof $=="string"){if(typeof ae[$]>"u")throw new TypeError(`No method named "${$}"`);ae[$]()}})}}Et(Bu);const Pf="scrollspy",ue=".bs.scrollspy",Xd=".data-api",Ih=`activate${ue}`,vl=`click${ue}`,Us=`load${ue}${Xd}`,i1="dropdown-item",Qd="active",a1='[data-bs-spy="scroll"]',ma="[href]",wv=".nav, .list-group",Im=".nav-link",c1=`${Im}, .nav-item > ${Im}, .list-group-item`,za=".dropdown",Lf=".dropdown-toggle",t0={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Wg={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class $f extends pi{constructor($,ae){super($,ae),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return t0}static get DefaultType(){return Wg}static get NAME(){return Pf}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const $ of this._observableSections.values())this._observer.observe($)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge($){return $.target=we($.target)||document.body,$.rootMargin=$.offset?`${$.offset}px 0px -30%`:$.rootMargin,typeof $.threshold=="string"&&($.threshold=$.threshold.split(",").map(ae=>Number.parseFloat(ae))),$}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Bt.off(this._config.target,vl),Bt.on(this._config.target,vl,ma,$=>{const ae=this._observableSections.get($.target.hash);if(ae){$.preventDefault();const He=this._rootElement||window,Ft=ae.offsetTop-this._element.offsetTop;if(He.scrollTo){He.scrollTo({top:Ft,behavior:"smooth"});return}He.scrollTop=Ft}}))}_getNewObserver(){const $={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(ae=>this._observerCallback(ae),$)}_observerCallback($){const ae=dn=>this._targetLinks.get(`#${dn.target.id}`),He=dn=>{this._previousScrollData.visibleEntryTop=dn.target.offsetTop,this._process(ae(dn))},Ft=(this._rootElement||document.documentElement).scrollTop,In=Ft>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=Ft;for(const dn of $){if(!dn.isIntersecting){this._activeTarget=null,this._clearActiveClass(ae(dn));continue}const Ko=dn.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(In&&Ko){if(He(dn),!Ft)return;continue}!In&&!Ko&&He(dn)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const $=Lt.find(ma,this._config.target);for(const ae of $){if(!ae.hash||Me(ae))continue;const He=Lt.findOne(ae.hash,this._element);De(He)&&(this._targetLinks.set(ae.hash,ae),this._observableSections.set(ae.hash,He))}}_process($){this._activeTarget!==$&&(this._clearActiveClass(this._config.target),this._activeTarget=$,$.classList.add(Qd),this._activateParents($),Bt.trigger(this._element,Ih,{relatedTarget:$}))}_activateParents($){if($.classList.contains(i1)){Lt.findOne(Lf,$.closest(za)).classList.add(Qd);return}for(const ae of Lt.parents($,wv))for(const He of Lt.prev(ae,c1))He.classList.add(Qd)}_clearActiveClass($){$.classList.remove(Qd);const ae=Lt.find(`${ma}.${Qd}`,$);for(const He of ae)He.classList.remove(Qd)}static jQueryInterface($){return this.each(function(){const ae=$f.getOrCreateInstance(this,$);if(typeof $=="string"){if(ae[$]===void 0||$.startsWith("_")||$==="constructor")throw new TypeError(`No method named "${$}"`);ae[$]()}})}}Bt.on(window,Us,()=>{for(const Le of Lt.find(a1))$f.getOrCreateInstance(Le)}),Et($f);const Tv="tab",Qr=".bs.tab",Gg=`hide${Qr}`,ai=`hidden${Qr}`,ga=`show${Qr}`,Pn=`shown${Qr}`,nn=`click${Qr}`,Dm=`keydown${Qr}`,bl=`load${Qr}`,yl="ArrowLeft",qg="ArrowRight",_l="ArrowUp",ol="ArrowDown",Vu="active",Dr="fade",vd="show",Dh="dropdown",Ut=".dropdown-toggle",n0=".dropdown-menu",Nm=":not(.dropdown-toggle)",Wa='.list-group, .nav, [role="tablist"]',bd=".nav-item, .list-group-item",Jd=`.nav-link${Nm}, .list-group-item${Nm}, [role="tab"]${Nm}`,hr='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',jg=`${Jd}, ${hr}`,ts=`.${Vu}[data-bs-toggle="tab"], .${Vu}[data-bs-toggle="pill"], .${Vu}[data-bs-toggle="list"]`;class Po extends pi{constructor($){super($),this._parent=this._element.closest(Wa),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Bt.on(this._element,Dm,ae=>this._keydown(ae)))}static get NAME(){return Tv}show(){const $=this._element;if(this._elemIsActive($))return;const ae=this._getActiveElem(),He=ae?Bt.trigger(ae,Gg,{relatedTarget:$}):null;Bt.trigger($,ga,{relatedTarget:ae}).defaultPrevented||He&&He.defaultPrevented||(this._deactivate(ae,$),this._activate($,ae))}_activate($,ae){if(!$)return;$.classList.add(Vu),this._activate(Lt.getElementFromSelector($));const He=()=>{if($.getAttribute("role")!=="tab"){$.classList.add(vd);return}$.removeAttribute("tabindex"),$.setAttribute("aria-selected",!0),this._toggleDropDown($,!0),Bt.trigger($,Pn,{relatedTarget:ae})};this._queueCallback(He,$,$.classList.contains(Dr))}_deactivate($,ae){if(!$)return;$.classList.remove(Vu),$.blur(),this._deactivate(Lt.getElementFromSelector($));const He=()=>{if($.getAttribute("role")!=="tab"){$.classList.remove(vd);return}$.setAttribute("aria-selected",!1),$.setAttribute("tabindex","-1"),this._toggleDropDown($,!1),Bt.trigger($,ai,{relatedTarget:ae})};this._queueCallback(He,$,$.classList.contains(Dr))}_keydown($){if(![yl,qg,_l,ol].includes($.key))return;$.stopPropagation(),$.preventDefault();const ae=[qg,ol].includes($.key),He=gn(this._getChildren().filter(Ft=>!Me(Ft)),$.target,ae,!0);He&&(He.focus({preventScroll:!0}),Po.getOrCreateInstance(He).show())}_getChildren(){return Lt.find(jg,this._parent)}_getActiveElem(){return this._getChildren().find($=>this._elemIsActive($))||null}_setInitialAttributes($,ae){this._setAttributeIfNotExists($,"role","tablist");for(const He of ae)this._setInitialAttributesOnChild(He)}_setInitialAttributesOnChild($){$=this._getInnerElement($);const ae=this._elemIsActive($),He=this._getOuterElement($);$.setAttribute("aria-selected",ae),He!==$&&this._setAttributeIfNotExists(He,"role","presentation"),ae||$.setAttribute("tabindex","-1"),this._setAttributeIfNotExists($,"role","tab"),this._setInitialAttributesOnTargetPanel($)}_setInitialAttributesOnTargetPanel($){const ae=Lt.getElementFromSelector($);ae&&(this._setAttributeIfNotExists(ae,"role","tabpanel"),$.id&&this._setAttributeIfNotExists(ae,"aria-labelledby",`${$.id}`))}_toggleDropDown($,ae){const He=this._getOuterElement($);if(!He.classList.contains(Dh))return;const Ft=(In,dn)=>{const Ko=Lt.findOne(In,He);Ko&&Ko.classList.toggle(dn,ae)};Ft(Ut,Vu),Ft(n0,vd),He.setAttribute("aria-expanded",ae)}_setAttributeIfNotExists($,ae,He){$.hasAttribute(ae)||$.setAttribute(ae,He)}_elemIsActive($){return $.classList.contains(Vu)}_getInnerElement($){return $.matches(jg)?$:Lt.findOne(jg,$)}_getOuterElement($){return $.closest(bd)||$}static jQueryInterface($){return this.each(function(){const ae=Po.getOrCreateInstance(this);if(typeof $=="string"){if(ae[$]===void 0||$.startsWith("_")||$==="constructor")throw new TypeError(`No method named "${$}"`);ae[$]()}})}}Bt.on(document,nn,hr,function(Le){["A","AREA"].includes(this.tagName)&&Le.preventDefault(),!Me(this)&&Po.getOrCreateInstance(this).show()}),Bt.on(window,bl,()=>{for(const Le of Lt.find(ts))Po.getOrCreateInstance(Le)}),Et(Po);const Jr="toast",or=".bs.toast",ef=`mouseover${or}`,jr=`mouseout${or}`,ys=`focusin${or}`,Wl=`focusout${or}`,At=`hide${or}`,El=`hidden${or}`,Bf=`show${or}`,Wr=`shown${or}`,Gl="fade",Ga="hide",ic="show",Mm="showing",ac={animation:"boolean",autohide:"boolean",delay:"number"},Zg={animation:!0,autohide:!0,delay:5e3};class Bi extends pi{constructor($,ae){super($,ae),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Zg}static get DefaultType(){return ac}static get NAME(){return Jr}show(){if(Bt.trigger(this._element,Bf).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Gl);const ae=()=>{this._element.classList.remove(Mm),Bt.trigger(this._element,Wr),this._maybeScheduleHide()};this._element.classList.remove(Ga),lt(this._element),this._element.classList.add(ic,Mm),this._queueCallback(ae,this._element,this._config.animation)}hide(){if(!this.isShown()||Bt.trigger(this._element,At).defaultPrevented)return;const ae=()=>{this._element.classList.add(Ga),this._element.classList.remove(Mm,ic),Bt.trigger(this._element,El)};this._element.classList.add(Mm),this._queueCallback(ae,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ic),super.dispose()}isShown(){return this._element.classList.contains(ic)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction($,ae){switch($.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=ae;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=ae;break}}if(ae){this._clearTimeout();return}const He=$.relatedTarget;this._element===He||this._element.contains(He)||this._maybeScheduleHide()}_setListeners(){Bt.on(this._element,ef,$=>this._onInteraction($,!0)),Bt.on(this._element,jr,$=>this._onInteraction($,!1)),Bt.on(this._element,ys,$=>this._onInteraction($,!0)),Bt.on(this._element,Wl,$=>this._onInteraction($,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface($){return this.each(function(){const ae=Bi.getOrCreateInstance(this,$);if(typeof $=="string"){if(typeof ae[$]>"u")throw new TypeError(`No method named "${$}"`);ae[$](this)}})}}return Lr(Bi),Et(Bi),{Alert:Os,Button:$r,Carousel:si,Collapse:Nu,Dropdown:Gs,Modal:md,Offcanvas:to,Popover:Bu,ScrollSpy:$f,Tab:Po,Toast:Bi,Tooltip:zl}})})(wle);const uue=LZ;function Hee(a,c){return function(){return a.apply(c,arguments)}}const{toString:Vee}=Object.prototype,{getPrototypeOf:wY}=Object,TY=(a=>c=>{const h=Vee.call(c);return a[h]||(a[h]=h.slice(8,-1).toLowerCase())})(Object.create(null)),u_=a=>(a=a.toLowerCase(),c=>TY(c)===a),VH=a=>c=>typeof c===a,{isArray:sR}=Array,nk=VH("undefined");function due(a){return a!==null&&!nk(a)&&a.constructor!==null&&!nk(a.constructor)&&Nw(a.constructor.isBuffer)&&a.constructor.isBuffer(a)}const Uee=u_("ArrayBuffer");function fue(a){let c;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?c=ArrayBuffer.isView(a):c=a&&a.buffer&&Uee(a.buffer),c}const hue=VH("string"),Nw=VH("function"),zee=VH("number"),CY=a=>a!==null&&typeof a=="object",mue=a=>a===!0||a===!1,dH=a=>{if(TY(a)!=="object")return!1;const c=wY(a);return(c===null||c===Object.prototype||Object.getPrototypeOf(c)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},gue=u_("Date"),pue=u_("File"),vue=u_("Blob"),bue=u_("FileList"),yue=a=>CY(a)&&Nw(a.pipe),_ue=a=>{const c="[object FormData]";return a&&(typeof FormData=="function"&&a instanceof FormData||Vee.call(a)===c||Nw(a.toString)&&a.toString()===c)},Eue=u_("URLSearchParams"),wue=a=>a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ik(a,c,{allOwnKeys:h=!1}={}){if(a===null||typeof a>"u")return;let y,A;if(typeof a!="object"&&(a=[a]),sR(a))for(y=0,A=a.length;y<A;y++)c.call(null,a[y],y,a);else{const N=h?Object.getOwnPropertyNames(a):Object.keys(a),D=N.length;let U;for(y=0;y<D;y++)U=N[y],c.call(null,a[U],U,a)}}function Wee(a,c){c=c.toLowerCase();const h=Object.keys(a);let y=h.length,A;for(;y-- >0;)if(A=h[y],c===A.toLowerCase())return A;return null}const Gee=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),qee=a=>!nk(a)&&a!==Gee;function HZ(){const{caseless:a}=qee(this)&&this||{},c={},h=(y,A)=>{const N=a&&Wee(c,A)||A;dH(c[N])&&dH(y)?c[N]=HZ(c[N],y):dH(y)?c[N]=HZ({},y):sR(y)?c[N]=y.slice():c[N]=y};for(let y=0,A=arguments.length;y<A;y++)arguments[y]&&ik(arguments[y],h);return c}const Tue=(a,c,h,{allOwnKeys:y}={})=>(ik(c,(A,N)=>{h&&Nw(A)?a[N]=Hee(A,h):a[N]=A},{allOwnKeys:y}),a),Cue=a=>(a.charCodeAt(0)===65279&&(a=a.slice(1)),a),Sue=(a,c,h,y)=>{a.prototype=Object.create(c.prototype,y),a.prototype.constructor=a,Object.defineProperty(a,"super",{value:c.prototype}),h&&Object.assign(a.prototype,h)},Aue=(a,c,h,y)=>{let A,N,D;const U={};if(c=c||{},a==null)return c;do{for(A=Object.getOwnPropertyNames(a),N=A.length;N-- >0;)D=A[N],(!y||y(D,a,c))&&!U[D]&&(c[D]=a[D],U[D]=!0);a=h!==!1&&wY(a)}while(a&&(!h||h(a,c))&&a!==Object.prototype);return c},xue=(a,c,h)=>{a=String(a),(h===void 0||h>a.length)&&(h=a.length),h-=c.length;const y=a.indexOf(c,h);return y!==-1&&y===h},Oue=a=>{if(!a)return null;if(sR(a))return a;let c=a.length;if(!zee(c))return null;const h=new Array(c);for(;c-- >0;)h[c]=a[c];return h},Rue=(a=>c=>a&&c instanceof a)(typeof Uint8Array<"u"&&wY(Uint8Array)),Iue=(a,c)=>{const y=(a&&a[Symbol.iterator]).call(a);let A;for(;(A=y.next())&&!A.done;){const N=A.value;c.call(a,N[0],N[1])}},Due=(a,c)=>{let h;const y=[];for(;(h=a.exec(c))!==null;)y.push(h);return y},Nue=u_("HTMLFormElement"),Mue=a=>a.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(h,y,A){return y.toUpperCase()+A}),RQ=(({hasOwnProperty:a})=>(c,h)=>a.call(c,h))(Object.prototype),kue=u_("RegExp"),jee=(a,c)=>{const h=Object.getOwnPropertyDescriptors(a),y={};ik(h,(A,N)=>{c(A,N,a)!==!1&&(y[N]=A)}),Object.defineProperties(a,y)},Pue=a=>{jee(a,(c,h)=>{if(Nw(a)&&["arguments","caller","callee"].indexOf(h)!==-1)return!1;const y=a[h];if(Nw(y)){if(c.enumerable=!1,"writable"in c){c.writable=!1;return}c.set||(c.set=()=>{throw Error("Can not rewrite read-only method '"+h+"'")})}})},Lue=(a,c)=>{const h={},y=A=>{A.forEach(N=>{h[N]=!0})};return sR(a)?y(a):y(String(a).split(c)),h},$ue=()=>{},Bue=(a,c)=>(a=+a,Number.isFinite(a)?a:c),Jj="abcdefghijklmnopqrstuvwxyz",IQ="0123456789",Zee={DIGIT:IQ,ALPHA:Jj,ALPHA_DIGIT:Jj+Jj.toUpperCase()+IQ},Fue=(a=16,c=Zee.ALPHA_DIGIT)=>{let h="";const{length:y}=c;for(;a--;)h+=c[Math.random()*y|0];return h};function Hue(a){return!!(a&&Nw(a.append)&&a[Symbol.toStringTag]==="FormData"&&a[Symbol.iterator])}const Vue=a=>{const c=new Array(10),h=(y,A)=>{if(CY(y)){if(c.indexOf(y)>=0)return;if(!("toJSON"in y)){c[A]=y;const N=sR(y)?[]:{};return ik(y,(D,U)=>{const G=h(D,A+1);!nk(G)&&(N[U]=G)}),c[A]=void 0,N}}return y};return h(a,0)},sn={isArray:sR,isArrayBuffer:Uee,isBuffer:due,isFormData:_ue,isArrayBufferView:fue,isString:hue,isNumber:zee,isBoolean:mue,isObject:CY,isPlainObject:dH,isUndefined:nk,isDate:gue,isFile:pue,isBlob:vue,isRegExp:kue,isFunction:Nw,isStream:yue,isURLSearchParams:Eue,isTypedArray:Rue,isFileList:bue,forEach:ik,merge:HZ,extend:Tue,trim:wue,stripBOM:Cue,inherits:Sue,toFlatObject:Aue,kindOf:TY,kindOfTest:u_,endsWith:xue,toArray:Oue,forEachEntry:Iue,matchAll:Due,isHTMLForm:Nue,hasOwnProperty:RQ,hasOwnProp:RQ,reduceDescriptors:jee,freezeMethods:Pue,toObjectSet:Lue,toCamelCase:Mue,noop:$ue,toFiniteNumber:Bue,findKey:Wee,global:Gee,isContextDefined:qee,ALPHABET:Zee,generateString:Fue,isSpecCompliantForm:Hue,toJSONObject:Vue};function ni(a,c,h,y,A){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=a,this.name="AxiosError",c&&(this.code=c),h&&(this.config=h),y&&(this.request=y),A&&(this.response=A)}sn.inherits(ni,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:sn.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Yee=ni.prototype,Kee={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(a=>{Kee[a]={value:a}});Object.defineProperties(ni,Kee);Object.defineProperty(Yee,"isAxiosError",{value:!0});ni.from=(a,c,h,y,A,N)=>{const D=Object.create(Yee);return sn.toFlatObject(a,D,function(G){return G!==Error.prototype},U=>U!=="isAxiosError"),ni.call(D,a.message,c,h,y,A),D.cause=a,D.name=a.name,N&&Object.assign(D,N),D};const Uue=null;function VZ(a){return sn.isPlainObject(a)||sn.isArray(a)}function Xee(a){return sn.endsWith(a,"[]")?a.slice(0,-2):a}function DQ(a,c,h){return a?a.concat(c).map(function(A,N){return A=Xee(A),!h&&N?"["+A+"]":A}).join(h?".":""):c}function zue(a){return sn.isArray(a)&&!a.some(VZ)}const Wue=sn.toFlatObject(sn,{},null,function(c){return/^is[A-Z]/.test(c)});function UH(a,c,h){if(!sn.isObject(a))throw new TypeError("target must be an object");c=c||new FormData,h=sn.toFlatObject(h,{metaTokens:!0,dots:!1,indexes:!1},!1,function(fe,we){return!sn.isUndefined(we[fe])});const y=h.metaTokens,A=h.visitor||Q,N=h.dots,D=h.indexes,G=(h.Blob||typeof Blob<"u"&&Blob)&&sn.isSpecCompliantForm(c);if(!sn.isFunction(A))throw new TypeError("visitor must be a function");function K(de){if(de===null)return"";if(sn.isDate(de))return de.toISOString();if(!G&&sn.isBlob(de))throw new ni("Blob is not supported. Use a Buffer instead.");return sn.isArrayBuffer(de)||sn.isTypedArray(de)?G&&typeof Blob=="function"?new Blob([de]):Buffer.from(de):de}function Q(de,fe,we){let De=de;if(de&&!we&&typeof de=="object"){if(sn.endsWith(fe,"{}"))fe=y?fe:fe.slice(0,-2),de=JSON.stringify(de);else if(sn.isArray(de)&&zue(de)||(sn.isFileList(de)||sn.endsWith(fe,"[]"))&&(De=sn.toArray(de)))return fe=Xee(fe),De.forEach(function(oe,Be){!(sn.isUndefined(oe)||oe===null)&&c.append(D===!0?DQ([fe],Be,N):D===null?fe:fe+"[]",K(oe))}),!1}return VZ(de)?!0:(c.append(DQ(we,fe,N),K(de)),!1)}const ie=[],_e=Object.assign(Wue,{defaultVisitor:Q,convertValue:K,isVisitable:VZ});function ve(de,fe){if(!sn.isUndefined(de)){if(ie.indexOf(de)!==-1)throw Error("Circular reference detected in "+fe.join("."));ie.push(de),sn.forEach(de,function(De,Me){(!(sn.isUndefined(De)||De===null)&&A.call(c,De,sn.isString(Me)?Me.trim():Me,fe,_e))===!0&&ve(De,fe?fe.concat(Me):[Me])}),ie.pop()}}if(!sn.isObject(a))throw new TypeError("data must be an object");return ve(a),c}function NQ(a){const c={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(a).replace(/[!'()~]|%20|%00/g,function(y){return c[y]})}function SY(a,c){this._pairs=[],a&&UH(a,this,c)}const Qee=SY.prototype;Qee.append=function(c,h){this._pairs.push([c,h])};Qee.toString=function(c){const h=c?function(y){return c.call(this,y,NQ)}:NQ;return this._pairs.map(function(A){return h(A[0])+"="+h(A[1])},"").join("&")};function Gue(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Jee(a,c,h){if(!c)return a;const y=h&&h.encode||Gue,A=h&&h.serialize;let N;if(A?N=A(c,h):N=sn.isURLSearchParams(c)?c.toString():new SY(c,h).toString(y),N){const D=a.indexOf("#");D!==-1&&(a=a.slice(0,D)),a+=(a.indexOf("?")===-1?"?":"&")+N}return a}class que{constructor(){this.handlers=[]}use(c,h,y){return this.handlers.push({fulfilled:c,rejected:h,synchronous:y?y.synchronous:!1,runWhen:y?y.runWhen:null}),this.handlers.length-1}eject(c){this.handlers[c]&&(this.handlers[c]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(c){sn.forEach(this.handlers,function(y){y!==null&&c(y)})}}const MQ=que,ete={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},jue=typeof URLSearchParams<"u"?URLSearchParams:SY,Zue=typeof FormData<"u"?FormData:null,Yue=typeof Blob<"u"?Blob:null,Kue=(()=>{let a;return typeof navigator<"u"&&((a=navigator.product)==="ReactNative"||a==="NativeScript"||a==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Xue=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Kb={isBrowser:!0,classes:{URLSearchParams:jue,FormData:Zue,Blob:Yue},isStandardBrowserEnv:Kue,isStandardBrowserWebWorkerEnv:Xue,protocols:["http","https","file","blob","url","data"]};function Que(a,c){return UH(a,new Kb.classes.URLSearchParams,Object.assign({visitor:function(h,y,A,N){return Kb.isNode&&sn.isBuffer(h)?(this.append(y,h.toString("base64")),!1):N.defaultVisitor.apply(this,arguments)}},c))}function Jue(a){return sn.matchAll(/\w+|\[(\w*)]/g,a).map(c=>c[0]==="[]"?"":c[1]||c[0])}function ede(a){const c={},h=Object.keys(a);let y;const A=h.length;let N;for(y=0;y<A;y++)N=h[y],c[N]=a[N];return c}function tte(a){function c(h,y,A,N){let D=h[N++];const U=Number.isFinite(+D),G=N>=h.length;return D=!D&&sn.isArray(A)?A.length:D,G?(sn.hasOwnProp(A,D)?A[D]=[A[D],y]:A[D]=y,!U):((!A[D]||!sn.isObject(A[D]))&&(A[D]=[]),c(h,y,A[D],N)&&sn.isArray(A[D])&&(A[D]=ede(A[D])),!U)}if(sn.isFormData(a)&&sn.isFunction(a.entries)){const h={};return sn.forEachEntry(a,(y,A)=>{c(Jue(y),A,h,0)}),h}return null}const tde={"Content-Type":void 0};function nde(a,c,h){if(sn.isString(a))try{return(c||JSON.parse)(a),sn.trim(a)}catch(y){if(y.name!=="SyntaxError")throw y}return(h||JSON.stringify)(a)}const zH={transitional:ete,adapter:["xhr","http"],transformRequest:[function(c,h){const y=h.getContentType()||"",A=y.indexOf("application/json")>-1,N=sn.isObject(c);if(N&&sn.isHTMLForm(c)&&(c=new FormData(c)),sn.isFormData(c))return A&&A?JSON.stringify(tte(c)):c;if(sn.isArrayBuffer(c)||sn.isBuffer(c)||sn.isStream(c)||sn.isFile(c)||sn.isBlob(c))return c;if(sn.isArrayBufferView(c))return c.buffer;if(sn.isURLSearchParams(c))return h.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),c.toString();let U;if(N){if(y.indexOf("application/x-www-form-urlencoded")>-1)return Que(c,this.formSerializer).toString();if((U=sn.isFileList(c))||y.indexOf("multipart/form-data")>-1){const G=this.env&&this.env.FormData;return UH(U?{"files[]":c}:c,G&&new G,this.formSerializer)}}return N||A?(h.setContentType("application/json",!1),nde(c)):c}],transformResponse:[function(c){const h=this.transitional||zH.transitional,y=h&&h.forcedJSONParsing,A=this.responseType==="json";if(c&&sn.isString(c)&&(y&&!this.responseType||A)){const D=!(h&&h.silentJSONParsing)&&A;try{return JSON.parse(c)}catch(U){if(D)throw U.name==="SyntaxError"?ni.from(U,ni.ERR_BAD_RESPONSE,this,null,this.response):U}}return c}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Kb.classes.FormData,Blob:Kb.classes.Blob},validateStatus:function(c){return c>=200&&c<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};sn.forEach(["delete","get","head"],function(c){zH.headers[c]={}});sn.forEach(["post","put","patch"],function(c){zH.headers[c]=sn.merge(tde)});const AY=zH,ode=sn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),sde=a=>{const c={};let h,y,A;return a&&a.split(`
`).forEach(function(D){A=D.indexOf(":"),h=D.substring(0,A).trim().toLowerCase(),y=D.substring(A+1).trim(),!(!h||c[h]&&ode[h])&&(h==="set-cookie"?c[h]?c[h].push(y):c[h]=[y]:c[h]=c[h]?c[h]+", "+y:y)}),c},kQ=Symbol("internals");function qM(a){return a&&String(a).trim().toLowerCase()}function fH(a){return a===!1||a==null?a:sn.isArray(a)?a.map(fH):String(a)}function rde(a){const c=Object.create(null),h=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let y;for(;y=h.exec(a);)c[y[1]]=y[2];return c}const ide=a=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(a.trim());function eZ(a,c,h,y,A){if(sn.isFunction(y))return y.call(this,c,h);if(A&&(c=h),!!sn.isString(c)){if(sn.isString(y))return c.indexOf(y)!==-1;if(sn.isRegExp(y))return y.test(c)}}function ade(a){return a.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(c,h,y)=>h.toUpperCase()+y)}function cde(a,c){const h=sn.toCamelCase(" "+c);["get","set","has"].forEach(y=>{Object.defineProperty(a,y+h,{value:function(A,N,D){return this[y].call(this,c,A,N,D)},configurable:!0})})}class WH{constructor(c){c&&this.set(c)}set(c,h,y){const A=this;function N(U,G,K){const Q=qM(G);if(!Q)throw new Error("header name must be a non-empty string");const ie=sn.findKey(A,Q);(!ie||A[ie]===void 0||K===!0||K===void 0&&A[ie]!==!1)&&(A[ie||G]=fH(U))}const D=(U,G)=>sn.forEach(U,(K,Q)=>N(K,Q,G));return sn.isPlainObject(c)||c instanceof this.constructor?D(c,h):sn.isString(c)&&(c=c.trim())&&!ide(c)?D(sde(c),h):c!=null&&N(h,c,y),this}get(c,h){if(c=qM(c),c){const y=sn.findKey(this,c);if(y){const A=this[y];if(!h)return A;if(h===!0)return rde(A);if(sn.isFunction(h))return h.call(this,A,y);if(sn.isRegExp(h))return h.exec(A);throw new TypeError("parser must be boolean|regexp|function")}}}has(c,h){if(c=qM(c),c){const y=sn.findKey(this,c);return!!(y&&this[y]!==void 0&&(!h||eZ(this,this[y],y,h)))}return!1}delete(c,h){const y=this;let A=!1;function N(D){if(D=qM(D),D){const U=sn.findKey(y,D);U&&(!h||eZ(y,y[U],U,h))&&(delete y[U],A=!0)}}return sn.isArray(c)?c.forEach(N):N(c),A}clear(c){const h=Object.keys(this);let y=h.length,A=!1;for(;y--;){const N=h[y];(!c||eZ(this,this[N],N,c,!0))&&(delete this[N],A=!0)}return A}normalize(c){const h=this,y={};return sn.forEach(this,(A,N)=>{const D=sn.findKey(y,N);if(D){h[D]=fH(A),delete h[N];return}const U=c?ade(N):String(N).trim();U!==N&&delete h[N],h[U]=fH(A),y[U]=!0}),this}concat(...c){return this.constructor.concat(this,...c)}toJSON(c){const h=Object.create(null);return sn.forEach(this,(y,A)=>{y!=null&&y!==!1&&(h[A]=c&&sn.isArray(y)?y.join(", "):y)}),h}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([c,h])=>c+": "+h).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(c){return c instanceof this?c:new this(c)}static concat(c,...h){const y=new this(c);return h.forEach(A=>y.set(A)),y}static accessor(c){const y=(this[kQ]=this[kQ]={accessors:{}}).accessors,A=this.prototype;function N(D){const U=qM(D);y[U]||(cde(A,D),y[U]=!0)}return sn.isArray(c)?c.forEach(N):N(c),this}}WH.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);sn.freezeMethods(WH.prototype);sn.freezeMethods(WH);const s_=WH;function tZ(a,c){const h=this||AY,y=c||h,A=s_.from(y.headers);let N=y.data;return sn.forEach(a,function(U){N=U.call(h,N,A.normalize(),c?c.status:void 0)}),A.normalize(),N}function nte(a){return!!(a&&a.__CANCEL__)}function ak(a,c,h){ni.call(this,a??"canceled",ni.ERR_CANCELED,c,h),this.name="CanceledError"}sn.inherits(ak,ni,{__CANCEL__:!0});function lde(a,c,h){const y=h.config.validateStatus;!h.status||!y||y(h.status)?a(h):c(new ni("Request failed with status code "+h.status,[ni.ERR_BAD_REQUEST,ni.ERR_BAD_RESPONSE][Math.floor(h.status/100)-4],h.config,h.request,h))}const ude=Kb.isStandardBrowserEnv?function(){return{write:function(h,y,A,N,D,U){const G=[];G.push(h+"="+encodeURIComponent(y)),sn.isNumber(A)&&G.push("expires="+new Date(A).toGMTString()),sn.isString(N)&&G.push("path="+N),sn.isString(D)&&G.push("domain="+D),U===!0&&G.push("secure"),document.cookie=G.join("; ")},read:function(h){const y=document.cookie.match(new RegExp("(^|;\\s*)("+h+")=([^;]*)"));return y?decodeURIComponent(y[3]):null},remove:function(h){this.write(h,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function dde(a){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a)}function fde(a,c){return c?a.replace(/\/+$/,"")+"/"+c.replace(/^\/+/,""):a}function ote(a,c){return a&&!dde(c)?fde(a,c):c}const hde=Kb.isStandardBrowserEnv?function(){const c=/(msie|trident)/i.test(navigator.userAgent),h=document.createElement("a");let y;function A(N){let D=N;return c&&(h.setAttribute("href",D),D=h.href),h.setAttribute("href",D),{href:h.href,protocol:h.protocol?h.protocol.replace(/:$/,""):"",host:h.host,search:h.search?h.search.replace(/^\?/,""):"",hash:h.hash?h.hash.replace(/^#/,""):"",hostname:h.hostname,port:h.port,pathname:h.pathname.charAt(0)==="/"?h.pathname:"/"+h.pathname}}return y=A(window.location.href),function(D){const U=sn.isString(D)?A(D):D;return U.protocol===y.protocol&&U.host===y.host}}():function(){return function(){return!0}}();function mde(a){const c=/^([-+\w]{1,25})(:?\/\/|:)/.exec(a);return c&&c[1]||""}function gde(a,c){a=a||10;const h=new Array(a),y=new Array(a);let A=0,N=0,D;return c=c!==void 0?c:1e3,function(G){const K=Date.now(),Q=y[N];D||(D=K),h[A]=G,y[A]=K;let ie=N,_e=0;for(;ie!==A;)_e+=h[ie++],ie=ie%a;if(A=(A+1)%a,A===N&&(N=(N+1)%a),K-D<c)return;const ve=Q&&K-Q;return ve?Math.round(_e*1e3/ve):void 0}}function PQ(a,c){let h=0;const y=gde(50,250);return A=>{const N=A.loaded,D=A.lengthComputable?A.total:void 0,U=N-h,G=y(U),K=N<=D;h=N;const Q={loaded:N,total:D,progress:D?N/D:void 0,bytes:U,rate:G||void 0,estimated:G&&D&&K?(D-N)/G:void 0,event:A};Q[c?"download":"upload"]=!0,a(Q)}}const pde=typeof XMLHttpRequest<"u",vde=pde&&function(a){return new Promise(function(h,y){let A=a.data;const N=s_.from(a.headers).normalize(),D=a.responseType;let U;function G(){a.cancelToken&&a.cancelToken.unsubscribe(U),a.signal&&a.signal.removeEventListener("abort",U)}sn.isFormData(A)&&(Kb.isStandardBrowserEnv||Kb.isStandardBrowserWebWorkerEnv)&&N.setContentType(!1);let K=new XMLHttpRequest;if(a.auth){const ve=a.auth.username||"",de=a.auth.password?unescape(encodeURIComponent(a.auth.password)):"";N.set("Authorization","Basic "+btoa(ve+":"+de))}const Q=ote(a.baseURL,a.url);K.open(a.method.toUpperCase(),Jee(Q,a.params,a.paramsSerializer),!0),K.timeout=a.timeout;function ie(){if(!K)return;const ve=s_.from("getAllResponseHeaders"in K&&K.getAllResponseHeaders()),fe={data:!D||D==="text"||D==="json"?K.responseText:K.response,status:K.status,statusText:K.statusText,headers:ve,config:a,request:K};lde(function(De){h(De),G()},function(De){y(De),G()},fe),K=null}if("onloadend"in K?K.onloadend=ie:K.onreadystatechange=function(){!K||K.readyState!==4||K.status===0&&!(K.responseURL&&K.responseURL.indexOf("file:")===0)||setTimeout(ie)},K.onabort=function(){K&&(y(new ni("Request aborted",ni.ECONNABORTED,a,K)),K=null)},K.onerror=function(){y(new ni("Network Error",ni.ERR_NETWORK,a,K)),K=null},K.ontimeout=function(){let de=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const fe=a.transitional||ete;a.timeoutErrorMessage&&(de=a.timeoutErrorMessage),y(new ni(de,fe.clarifyTimeoutError?ni.ETIMEDOUT:ni.ECONNABORTED,a,K)),K=null},Kb.isStandardBrowserEnv){const ve=(a.withCredentials||hde(Q))&&a.xsrfCookieName&&ude.read(a.xsrfCookieName);ve&&N.set(a.xsrfHeaderName,ve)}A===void 0&&N.setContentType(null),"setRequestHeader"in K&&sn.forEach(N.toJSON(),function(de,fe){K.setRequestHeader(fe,de)}),sn.isUndefined(a.withCredentials)||(K.withCredentials=!!a.withCredentials),D&&D!=="json"&&(K.responseType=a.responseType),typeof a.onDownloadProgress=="function"&&K.addEventListener("progress",PQ(a.onDownloadProgress,!0)),typeof a.onUploadProgress=="function"&&K.upload&&K.upload.addEventListener("progress",PQ(a.onUploadProgress)),(a.cancelToken||a.signal)&&(U=ve=>{K&&(y(!ve||ve.type?new ak(null,a,K):ve),K.abort(),K=null)},a.cancelToken&&a.cancelToken.subscribe(U),a.signal&&(a.signal.aborted?U():a.signal.addEventListener("abort",U)));const _e=mde(Q);if(_e&&Kb.protocols.indexOf(_e)===-1){y(new ni("Unsupported protocol "+_e+":",ni.ERR_BAD_REQUEST,a));return}K.send(A||null)})},hH={http:Uue,xhr:vde};sn.forEach(hH,(a,c)=>{if(a){try{Object.defineProperty(a,"name",{value:c})}catch{}Object.defineProperty(a,"adapterName",{value:c})}});const bde={getAdapter:a=>{a=sn.isArray(a)?a:[a];const{length:c}=a;let h,y;for(let A=0;A<c&&(h=a[A],!(y=sn.isString(h)?hH[h.toLowerCase()]:h));A++);if(!y)throw y===!1?new ni(`Adapter ${h} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(sn.hasOwnProp(hH,h)?`Adapter '${h}' is not available in the build`:`Unknown adapter '${h}'`);if(!sn.isFunction(y))throw new TypeError("adapter is not a function");return y},adapters:hH};function nZ(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new ak(null,a)}function LQ(a){return nZ(a),a.headers=s_.from(a.headers),a.data=tZ.call(a,a.transformRequest),["post","put","patch"].indexOf(a.method)!==-1&&a.headers.setContentType("application/x-www-form-urlencoded",!1),bde.getAdapter(a.adapter||AY.adapter)(a).then(function(y){return nZ(a),y.data=tZ.call(a,a.transformResponse,y),y.headers=s_.from(y.headers),y},function(y){return nte(y)||(nZ(a),y&&y.response&&(y.response.data=tZ.call(a,a.transformResponse,y.response),y.response.headers=s_.from(y.response.headers))),Promise.reject(y)})}const $Q=a=>a instanceof s_?a.toJSON():a;function KO(a,c){c=c||{};const h={};function y(K,Q,ie){return sn.isPlainObject(K)&&sn.isPlainObject(Q)?sn.merge.call({caseless:ie},K,Q):sn.isPlainObject(Q)?sn.merge({},Q):sn.isArray(Q)?Q.slice():Q}function A(K,Q,ie){if(sn.isUndefined(Q)){if(!sn.isUndefined(K))return y(void 0,K,ie)}else return y(K,Q,ie)}function N(K,Q){if(!sn.isUndefined(Q))return y(void 0,Q)}function D(K,Q){if(sn.isUndefined(Q)){if(!sn.isUndefined(K))return y(void 0,K)}else return y(void 0,Q)}function U(K,Q,ie){if(ie in c)return y(K,Q);if(ie in a)return y(void 0,K)}const G={url:N,method:N,data:N,baseURL:D,transformRequest:D,transformResponse:D,paramsSerializer:D,timeout:D,timeoutMessage:D,withCredentials:D,adapter:D,responseType:D,xsrfCookieName:D,xsrfHeaderName:D,onUploadProgress:D,onDownloadProgress:D,decompress:D,maxContentLength:D,maxBodyLength:D,beforeRedirect:D,transport:D,httpAgent:D,httpsAgent:D,cancelToken:D,socketPath:D,responseEncoding:D,validateStatus:U,headers:(K,Q)=>A($Q(K),$Q(Q),!0)};return sn.forEach(Object.keys(a).concat(Object.keys(c)),function(Q){const ie=G[Q]||A,_e=ie(a[Q],c[Q],Q);sn.isUndefined(_e)&&ie!==U||(h[Q]=_e)}),h}const ste="1.3.5",xY={};["object","boolean","number","function","string","symbol"].forEach((a,c)=>{xY[a]=function(y){return typeof y===a||"a"+(c<1?"n ":" ")+a}});const BQ={};xY.transitional=function(c,h,y){function A(N,D){return"[Axios v"+ste+"] Transitional option '"+N+"'"+D+(y?". "+y:"")}return(N,D,U)=>{if(c===!1)throw new ni(A(D," has been removed"+(h?" in "+h:"")),ni.ERR_DEPRECATED);return h&&!BQ[D]&&(BQ[D]=!0,console.warn(A(D," has been deprecated since v"+h+" and will be removed in the near future"))),c?c(N,D,U):!0}};function yde(a,c,h){if(typeof a!="object")throw new ni("options must be an object",ni.ERR_BAD_OPTION_VALUE);const y=Object.keys(a);let A=y.length;for(;A-- >0;){const N=y[A],D=c[N];if(D){const U=a[N],G=U===void 0||D(U,N,a);if(G!==!0)throw new ni("option "+N+" must be "+G,ni.ERR_BAD_OPTION_VALUE);continue}if(h!==!0)throw new ni("Unknown option "+N,ni.ERR_BAD_OPTION)}}const UZ={assertOptions:yde,validators:xY},Ow=UZ.validators;class AH{constructor(c){this.defaults=c,this.interceptors={request:new MQ,response:new MQ}}request(c,h){typeof c=="string"?(h=h||{},h.url=c):h=c||{},h=KO(this.defaults,h);const{transitional:y,paramsSerializer:A,headers:N}=h;y!==void 0&&UZ.assertOptions(y,{silentJSONParsing:Ow.transitional(Ow.boolean),forcedJSONParsing:Ow.transitional(Ow.boolean),clarifyTimeoutError:Ow.transitional(Ow.boolean)},!1),A!=null&&(sn.isFunction(A)?h.paramsSerializer={serialize:A}:UZ.assertOptions(A,{encode:Ow.function,serialize:Ow.function},!0)),h.method=(h.method||this.defaults.method||"get").toLowerCase();let D;D=N&&sn.merge(N.common,N[h.method]),D&&sn.forEach(["delete","get","head","post","put","patch","common"],de=>{delete N[de]}),h.headers=s_.concat(D,N);const U=[];let G=!0;this.interceptors.request.forEach(function(fe){typeof fe.runWhen=="function"&&fe.runWhen(h)===!1||(G=G&&fe.synchronous,U.unshift(fe.fulfilled,fe.rejected))});const K=[];this.interceptors.response.forEach(function(fe){K.push(fe.fulfilled,fe.rejected)});let Q,ie=0,_e;if(!G){const de=[LQ.bind(this),void 0];for(de.unshift.apply(de,U),de.push.apply(de,K),_e=de.length,Q=Promise.resolve(h);ie<_e;)Q=Q.then(de[ie++],de[ie++]);return Q}_e=U.length;let ve=h;for(ie=0;ie<_e;){const de=U[ie++],fe=U[ie++];try{ve=de(ve)}catch(we){fe.call(this,we);break}}try{Q=LQ.call(this,ve)}catch(de){return Promise.reject(de)}for(ie=0,_e=K.length;ie<_e;)Q=Q.then(K[ie++],K[ie++]);return Q}getUri(c){c=KO(this.defaults,c);const h=ote(c.baseURL,c.url);return Jee(h,c.params,c.paramsSerializer)}}sn.forEach(["delete","get","head","options"],function(c){AH.prototype[c]=function(h,y){return this.request(KO(y||{},{method:c,url:h,data:(y||{}).data}))}});sn.forEach(["post","put","patch"],function(c){function h(y){return function(N,D,U){return this.request(KO(U||{},{method:c,headers:y?{"Content-Type":"multipart/form-data"}:{},url:N,data:D}))}}AH.prototype[c]=h(),AH.prototype[c+"Form"]=h(!0)});const mH=AH;class OY{constructor(c){if(typeof c!="function")throw new TypeError("executor must be a function.");let h;this.promise=new Promise(function(N){h=N});const y=this;this.promise.then(A=>{if(!y._listeners)return;let N=y._listeners.length;for(;N-- >0;)y._listeners[N](A);y._listeners=null}),this.promise.then=A=>{let N;const D=new Promise(U=>{y.subscribe(U),N=U}).then(A);return D.cancel=function(){y.unsubscribe(N)},D},c(function(N,D,U){y.reason||(y.reason=new ak(N,D,U),h(y.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(c){if(this.reason){c(this.reason);return}this._listeners?this._listeners.push(c):this._listeners=[c]}unsubscribe(c){if(!this._listeners)return;const h=this._listeners.indexOf(c);h!==-1&&this._listeners.splice(h,1)}static source(){let c;return{token:new OY(function(A){c=A}),cancel:c}}}const _de=OY;function Ede(a){return function(h){return a.apply(null,h)}}function wde(a){return sn.isObject(a)&&a.isAxiosError===!0}const zZ={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(zZ).forEach(([a,c])=>{zZ[c]=a});const Tde=zZ;function rte(a){const c=new mH(a),h=Hee(mH.prototype.request,c);return sn.extend(h,mH.prototype,c,{allOwnKeys:!0}),sn.extend(h,c,null,{allOwnKeys:!0}),h.create=function(A){return rte(KO(a,A))},h}const Ou=rte(AY);Ou.Axios=mH;Ou.CanceledError=ak;Ou.CancelToken=_de;Ou.isCancel=nte;Ou.VERSION=ste;Ou.toFormData=UH;Ou.AxiosError=ni;Ou.Cancel=Ou.CanceledError;Ou.all=function(c){return Promise.all(c)};Ou.spread=Ede;Ou.isAxiosError=wde;Ou.mergeConfig=KO;Ou.AxiosHeaders=s_;Ou.formToJSON=a=>tte(sn.isHTMLForm(a)?new FormData(a):a);Ou.HttpStatusCode=Tde;Ou.default=Ou;const Cde=Ou;window._=kne;window.axios=Cde;window.$=window.jQuery=Lne;window.tinymce=Bne;window.FilePond=Wie;window.bootstrap=uue;wH(mee,cee,aee,gee,ree);window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";/*!
  * Bootstrap v5.3.0-alpha3 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Rw=new Map,oZ={set(a,c,h){Rw.has(a)||Rw.set(a,new Map);const y=Rw.get(a);if(!y.has(c)&&y.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(y.keys())[0]}.`);return}y.set(c,h)},get(a,c){return Rw.has(a)&&Rw.get(a).get(c)||null},remove(a,c){if(!Rw.has(a))return;const h=Rw.get(a);h.delete(c),h.size===0&&Rw.delete(a)}},Sde=1e6,Ade=1e3,WZ="transitionend",ite=a=>(a&&window.CSS&&window.CSS.escape&&(a=a.replace(/#([^\s"#']+)/g,(c,h)=>`#${CSS.escape(h)}`)),a),xde=a=>a==null?`${a}`:Object.prototype.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase(),Ode=a=>{do a+=Math.floor(Math.random()*Sde);while(document.getElementById(a));return a},Rde=a=>{if(!a)return 0;let{transitionDuration:c,transitionDelay:h}=window.getComputedStyle(a);const y=Number.parseFloat(c),A=Number.parseFloat(h);return!y&&!A?0:(c=c.split(",")[0],h=h.split(",")[0],(Number.parseFloat(c)+Number.parseFloat(h))*Ade)},ate=a=>{a.dispatchEvent(new Event(WZ))},r_=a=>!a||typeof a!="object"?!1:(typeof a.jquery<"u"&&(a=a[0]),typeof a.nodeType<"u"),Mw=a=>r_(a)?a.jquery?a[0]:a:typeof a=="string"&&a.length>0?document.querySelector(ite(a)):null,rR=a=>{if(!r_(a)||a.getClientRects().length===0)return!1;const c=getComputedStyle(a).getPropertyValue("visibility")==="visible",h=a.closest("details:not([open])");if(!h)return c;if(h!==a){const y=a.closest("summary");if(y&&y.parentNode!==h||y===null)return!1}return c},kw=a=>!a||a.nodeType!==Node.ELEMENT_NODE||a.classList.contains("disabled")?!0:typeof a.disabled<"u"?a.disabled:a.hasAttribute("disabled")&&a.getAttribute("disabled")!=="false",cte=a=>{if(!document.documentElement.attachShadow)return null;if(typeof a.getRootNode=="function"){const c=a.getRootNode();return c instanceof ShadowRoot?c:null}return a instanceof ShadowRoot?a:a.parentNode?cte(a.parentNode):null},xH=()=>{},ck=a=>{a.offsetHeight},lte=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,sZ=[],Ide=a=>{document.readyState==="loading"?(sZ.length||document.addEventListener("DOMContentLoaded",()=>{for(const c of sZ)c()}),sZ.push(a)):a()},e1=()=>document.documentElement.dir==="rtl",n1=a=>{Ide(()=>{const c=lte();if(c){const h=a.NAME,y=c.fn[h];c.fn[h]=a.jQueryInterface,c.fn[h].Constructor=a,c.fn[h].noConflict=()=>(c.fn[h]=y,a.jQueryInterface)}})},wm=(a,c=[],h=a)=>typeof a=="function"?a(...c):h,ute=(a,c,h=!0)=>{if(!h){wm(a);return}const y=5,A=Rde(c)+y;let N=!1;const D=({target:U})=>{U===c&&(N=!0,c.removeEventListener(WZ,D),wm(a))};c.addEventListener(WZ,D),setTimeout(()=>{N||ate(c)},A)},RY=(a,c,h,y)=>{const A=a.length;let N=a.indexOf(c);return N===-1?!h&&y?a[A-1]:a[0]:(N+=h?1:-1,y&&(N=(N+A)%A),a[Math.max(0,Math.min(N,A-1))])},Dde=/[^.]*(?=\..*)\.|.*/,Nde=/\..*/,Mde=/::\d+$/,rZ={};let FQ=1;const dte={mouseenter:"mouseover",mouseleave:"mouseout"},kde=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function fte(a,c){return c&&`${c}::${FQ++}`||a.uidEvent||FQ++}function hte(a){const c=fte(a);return a.uidEvent=c,rZ[c]=rZ[c]||{},rZ[c]}function Pde(a,c){return function h(y){return IY(y,{delegateTarget:a}),h.oneOff&&En.off(a,y.type,c),c.apply(a,[y])}}function Lde(a,c,h){return function y(A){const N=a.querySelectorAll(c);for(let{target:D}=A;D&&D!==this;D=D.parentNode)for(const U of N)if(U===D)return IY(A,{delegateTarget:D}),y.oneOff&&En.off(a,A.type,c,h),h.apply(D,[A])}}function mte(a,c,h=null){return Object.values(a).find(y=>y.callable===c&&y.delegationSelector===h)}function gte(a,c,h){const y=typeof c=="string",A=y?h:c||h;let N=pte(a);return kde.has(N)||(N=a),[y,A,N]}function HQ(a,c,h,y,A){if(typeof c!="string"||!a)return;let[N,D,U]=gte(c,h,y);c in dte&&(D=(de=>function(fe){if(!fe.relatedTarget||fe.relatedTarget!==fe.delegateTarget&&!fe.delegateTarget.contains(fe.relatedTarget))return de.call(this,fe)})(D));const G=hte(a),K=G[U]||(G[U]={}),Q=mte(K,D,N?h:null);if(Q){Q.oneOff=Q.oneOff&&A;return}const ie=fte(D,c.replace(Dde,"")),_e=N?Lde(a,h,D):Pde(a,D);_e.delegationSelector=N?h:null,_e.callable=D,_e.oneOff=A,_e.uidEvent=ie,K[ie]=_e,a.addEventListener(U,_e,N)}function GZ(a,c,h,y,A){const N=mte(c[h],y,A);N&&(a.removeEventListener(h,N,!!A),delete c[h][N.uidEvent])}function $de(a,c,h,y){const A=c[h]||{};for(const[N,D]of Object.entries(A))N.includes(y)&&GZ(a,c,h,D.callable,D.delegationSelector)}function pte(a){return a=a.replace(Nde,""),dte[a]||a}const En={on(a,c,h,y){HQ(a,c,h,y,!1)},one(a,c,h,y){HQ(a,c,h,y,!0)},off(a,c,h,y){if(typeof c!="string"||!a)return;const[A,N,D]=gte(c,h,y),U=D!==c,G=hte(a),K=G[D]||{},Q=c.startsWith(".");if(typeof N<"u"){if(!Object.keys(K).length)return;GZ(a,G,D,N,A?h:null);return}if(Q)for(const ie of Object.keys(G))$de(a,G,ie,c.slice(1));for(const[ie,_e]of Object.entries(K)){const ve=ie.replace(Mde,"");(!U||c.includes(ve))&&GZ(a,G,D,_e.callable,_e.delegationSelector)}},trigger(a,c,h){if(typeof c!="string"||!a)return null;const y=lte(),A=pte(c),N=c!==A;let D=null,U=!0,G=!0,K=!1;N&&y&&(D=y.Event(c,h),y(a).trigger(D),U=!D.isPropagationStopped(),G=!D.isImmediatePropagationStopped(),K=D.isDefaultPrevented());const Q=IY(new Event(c,{bubbles:U,cancelable:!0}),h);return K&&Q.preventDefault(),G&&a.dispatchEvent(Q),Q.defaultPrevented&&D&&D.preventDefault(),Q}};function IY(a,c={}){for(const[h,y]of Object.entries(c))try{a[h]=y}catch{Object.defineProperty(a,h,{configurable:!0,get(){return y}})}return a}function VQ(a){if(a==="true")return!0;if(a==="false")return!1;if(a===Number(a).toString())return Number(a);if(a===""||a==="null")return null;if(typeof a!="string")return a;try{return JSON.parse(decodeURIComponent(a))}catch{return a}}function iZ(a){return a.replace(/[A-Z]/g,c=>`-${c.toLowerCase()}`)}const i_={setDataAttribute(a,c,h){a.setAttribute(`data-bs-${iZ(c)}`,h)},removeDataAttribute(a,c){a.removeAttribute(`data-bs-${iZ(c)}`)},getDataAttributes(a){if(!a)return{};const c={},h=Object.keys(a.dataset).filter(y=>y.startsWith("bs")&&!y.startsWith("bsConfig"));for(const y of h){let A=y.replace(/^bs/,"");A=A.charAt(0).toLowerCase()+A.slice(1,A.length),c[A]=VQ(a.dataset[y])}return c},getDataAttribute(a,c){return VQ(a.getAttribute(`data-bs-${iZ(c)}`))}};class lk{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(c){return c=this._mergeConfigObj(c),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}_configAfterMerge(c){return c}_mergeConfigObj(c,h){const y=r_(h)?i_.getDataAttribute(h,"config"):{};return{...this.constructor.Default,...typeof y=="object"?y:{},...r_(h)?i_.getDataAttributes(h):{},...typeof c=="object"?c:{}}}_typeCheckConfig(c,h=this.constructor.DefaultType){for(const[y,A]of Object.entries(h)){const N=c[y],D=r_(N)?"element":xde(N);if(!new RegExp(A).test(D))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${y}" provided type "${D}" but expected type "${A}".`)}}}const Bde="5.3.0-alpha2";class _v extends lk{constructor(c,h){super(),c=Mw(c),c&&(this._element=c,this._config=this._getConfig(h),oZ.set(this._element,this.constructor.DATA_KEY,this))}dispose(){oZ.remove(this._element,this.constructor.DATA_KEY),En.off(this._element,this.constructor.EVENT_KEY);for(const c of Object.getOwnPropertyNames(this))this[c]=null}_queueCallback(c,h,y=!0){ute(c,h,y)}_getConfig(c){return c=this._mergeConfigObj(c,this._element),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}static getInstance(c){return oZ.get(Mw(c),this.DATA_KEY)}static getOrCreateInstance(c,h={}){return this.getInstance(c)||new this(c,typeof h=="object"?h:null)}static get VERSION(){return Bde}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(c){return`${c}${this.EVENT_KEY}`}}const aZ=a=>{let c=a.getAttribute("data-bs-target");if(!c||c==="#"){let h=a.getAttribute("href");if(!h||!h.includes("#")&&!h.startsWith("."))return null;h.includes("#")&&!h.startsWith("#")&&(h=`#${h.split("#")[1]}`),c=h&&h!=="#"?h.trim():null}return ite(c)},os={find(a,c=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(c,a))},findOne(a,c=document.documentElement){return Element.prototype.querySelector.call(c,a)},children(a,c){return[].concat(...a.children).filter(h=>h.matches(c))},parents(a,c){const h=[];let y=a.parentNode.closest(c);for(;y;)h.push(y),y=y.parentNode.closest(c);return h},prev(a,c){let h=a.previousElementSibling;for(;h;){if(h.matches(c))return[h];h=h.previousElementSibling}return[]},next(a,c){let h=a.nextElementSibling;for(;h;){if(h.matches(c))return[h];h=h.nextElementSibling}return[]},focusableChildren(a){const c=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(h=>`${h}:not([tabindex^="-"])`).join(",");return this.find(c,a).filter(h=>!kw(h)&&rR(h))},getSelectorFromElement(a){const c=aZ(a);return c&&os.findOne(c)?c:null},getElementFromSelector(a){const c=aZ(a);return c?os.findOne(c):null},getMultipleElementsFromSelector(a){const c=aZ(a);return c?os.find(c):[]}},GH=(a,c="hide")=>{const h=`click.dismiss${a.EVENT_KEY}`,y=a.NAME;En.on(document,h,`[data-bs-dismiss="${y}"]`,function(A){if(["A","AREA"].includes(this.tagName)&&A.preventDefault(),kw(this))return;const N=os.getElementFromSelector(this)||this.closest(`.${y}`);a.getOrCreateInstance(N)[c]()})},Fde="alert",Hde="bs.alert",vte=`.${Hde}`,Vde=`close${vte}`,Ude=`closed${vte}`,zde="fade",Wde="show";class qH extends _v{static get NAME(){return Fde}close(){if(En.trigger(this._element,Vde).defaultPrevented)return;this._element.classList.remove(Wde);const h=this._element.classList.contains(zde);this._queueCallback(()=>this._destroyElement(),this._element,h)}_destroyElement(){this._element.remove(),En.trigger(this._element,Ude),this.dispose()}static jQueryInterface(c){return this.each(function(){const h=qH.getOrCreateInstance(this);if(typeof c=="string"){if(h[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);h[c](this)}})}}GH(qH,"close");n1(qH);const Gde="button",qde="bs.button",jde=`.${qde}`,Zde=".data-api",Yde="active",UQ='[data-bs-toggle="button"]',Kde=`click${jde}${Zde}`;class jH extends _v{static get NAME(){return Gde}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Yde))}static jQueryInterface(c){return this.each(function(){const h=jH.getOrCreateInstance(this);c==="toggle"&&h[c]()})}}En.on(document,Kde,UQ,a=>{a.preventDefault();const c=a.target.closest(UQ);jH.getOrCreateInstance(c).toggle()});n1(jH);const Xde="swipe",iR=".bs.swipe",Qde=`touchstart${iR}`,Jde=`touchmove${iR}`,efe=`touchend${iR}`,tfe=`pointerdown${iR}`,nfe=`pointerup${iR}`,ofe="touch",sfe="pen",rfe="pointer-event",ife=40,afe={endCallback:null,leftCallback:null,rightCallback:null},cfe={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class OH extends lk{constructor(c,h){super(),this._element=c,!(!c||!OH.isSupported())&&(this._config=this._getConfig(h),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return afe}static get DefaultType(){return cfe}static get NAME(){return Xde}dispose(){En.off(this._element,iR)}_start(c){if(!this._supportPointerEvents){this._deltaX=c.touches[0].clientX;return}this._eventIsPointerPenTouch(c)&&(this._deltaX=c.clientX)}_end(c){this._eventIsPointerPenTouch(c)&&(this._deltaX=c.clientX-this._deltaX),this._handleSwipe(),wm(this._config.endCallback)}_move(c){this._deltaX=c.touches&&c.touches.length>1?0:c.touches[0].clientX-this._deltaX}_handleSwipe(){const c=Math.abs(this._deltaX);if(c<=ife)return;const h=c/this._deltaX;this._deltaX=0,h&&wm(h>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(En.on(this._element,tfe,c=>this._start(c)),En.on(this._element,nfe,c=>this._end(c)),this._element.classList.add(rfe)):(En.on(this._element,Qde,c=>this._start(c)),En.on(this._element,Jde,c=>this._move(c)),En.on(this._element,efe,c=>this._end(c)))}_eventIsPointerPenTouch(c){return this._supportPointerEvents&&(c.pointerType===sfe||c.pointerType===ofe)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const lfe="carousel",ufe="bs.carousel",$w=`.${ufe}`,bte=".data-api",dfe="ArrowLeft",ffe="ArrowRight",hfe=500,jM="next",RO="prev",NO="left",gH="right",mfe=`slide${$w}`,cZ=`slid${$w}`,gfe=`keydown${$w}`,pfe=`mouseenter${$w}`,vfe=`mouseleave${$w}`,bfe=`dragstart${$w}`,yfe=`load${$w}${bte}`,_fe=`click${$w}${bte}`,yte="carousel",X5="active",Efe="slide",wfe="carousel-item-end",Tfe="carousel-item-start",Cfe="carousel-item-next",Sfe="carousel-item-prev",_te=".active",Ete=".carousel-item",Afe=_te+Ete,xfe=".carousel-item img",Ofe=".carousel-indicators",Rfe="[data-bs-slide], [data-bs-slide-to]",Ife='[data-bs-ride="carousel"]',Dfe={[dfe]:gH,[ffe]:NO},Nfe={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Mfe={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class uk extends _v{constructor(c,h){super(c,h),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=os.findOne(Ofe,this._element),this._addEventListeners(),this._config.ride===yte&&this.cycle()}static get Default(){return Nfe}static get DefaultType(){return Mfe}static get NAME(){return lfe}next(){this._slide(jM)}nextWhenVisible(){!document.hidden&&rR(this._element)&&this.next()}prev(){this._slide(RO)}pause(){this._isSliding&&ate(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){En.one(this._element,cZ,()=>this.cycle());return}this.cycle()}}to(c){const h=this._getItems();if(c>h.length-1||c<0)return;if(this._isSliding){En.one(this._element,cZ,()=>this.to(c));return}const y=this._getItemIndex(this._getActive());if(y===c)return;const A=c>y?jM:RO;this._slide(A,h[c])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(c){return c.defaultInterval=c.interval,c}_addEventListeners(){this._config.keyboard&&En.on(this._element,gfe,c=>this._keydown(c)),this._config.pause==="hover"&&(En.on(this._element,pfe,()=>this.pause()),En.on(this._element,vfe,()=>this._maybeEnableCycle())),this._config.touch&&OH.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const y of os.find(xfe,this._element))En.on(y,bfe,A=>A.preventDefault());const h={leftCallback:()=>this._slide(this._directionToOrder(NO)),rightCallback:()=>this._slide(this._directionToOrder(gH)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),hfe+this._config.interval))}};this._swipeHelper=new OH(this._element,h)}_keydown(c){if(/input|textarea/i.test(c.target.tagName))return;const h=Dfe[c.key];h&&(c.preventDefault(),this._slide(this._directionToOrder(h)))}_getItemIndex(c){return this._getItems().indexOf(c)}_setActiveIndicatorElement(c){if(!this._indicatorsElement)return;const h=os.findOne(_te,this._indicatorsElement);h.classList.remove(X5),h.removeAttribute("aria-current");const y=os.findOne(`[data-bs-slide-to="${c}"]`,this._indicatorsElement);y&&(y.classList.add(X5),y.setAttribute("aria-current","true"))}_updateInterval(){const c=this._activeElement||this._getActive();if(!c)return;const h=Number.parseInt(c.getAttribute("data-bs-interval"),10);this._config.interval=h||this._config.defaultInterval}_slide(c,h=null){if(this._isSliding)return;const y=this._getActive(),A=c===jM,N=h||RY(this._getItems(),y,A,this._config.wrap);if(N===y)return;const D=this._getItemIndex(N),U=ve=>En.trigger(this._element,ve,{relatedTarget:N,direction:this._orderToDirection(c),from:this._getItemIndex(y),to:D});if(U(mfe).defaultPrevented||!y||!N)return;const K=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(D),this._activeElement=N;const Q=A?Tfe:wfe,ie=A?Cfe:Sfe;N.classList.add(ie),ck(N),y.classList.add(Q),N.classList.add(Q);const _e=()=>{N.classList.remove(Q,ie),N.classList.add(X5),y.classList.remove(X5,ie,Q),this._isSliding=!1,U(cZ)};this._queueCallback(_e,y,this._isAnimated()),K&&this.cycle()}_isAnimated(){return this._element.classList.contains(Efe)}_getActive(){return os.findOne(Afe,this._element)}_getItems(){return os.find(Ete,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(c){return e1()?c===NO?RO:jM:c===NO?jM:RO}_orderToDirection(c){return e1()?c===RO?NO:gH:c===RO?gH:NO}static jQueryInterface(c){return this.each(function(){const h=uk.getOrCreateInstance(this,c);if(typeof c=="number"){h.to(c);return}if(typeof c=="string"){if(h[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);h[c]()}})}}En.on(document,_fe,Rfe,function(a){const c=os.getElementFromSelector(this);if(!c||!c.classList.contains(yte))return;a.preventDefault();const h=uk.getOrCreateInstance(c),y=this.getAttribute("data-bs-slide-to");if(y){h.to(y),h._maybeEnableCycle();return}if(i_.getDataAttribute(this,"slide")==="next"){h.next(),h._maybeEnableCycle();return}h.prev(),h._maybeEnableCycle()});En.on(window,yfe,()=>{const a=os.find(Ife);for(const c of a)uk.getOrCreateInstance(c)});n1(uk);const kfe="collapse",Pfe="bs.collapse",dk=`.${Pfe}`,Lfe=".data-api",$fe=`show${dk}`,Bfe=`shown${dk}`,Ffe=`hide${dk}`,Hfe=`hidden${dk}`,Vfe=`click${dk}${Lfe}`,lZ="show",BO="collapse",Q5="collapsing",Ufe="collapsed",zfe=`:scope .${BO} .${BO}`,Wfe="collapse-horizontal",Gfe="width",qfe="height",jfe=".collapse.show, .collapse.collapsing",qZ='[data-bs-toggle="collapse"]',Zfe={parent:null,toggle:!0},Yfe={parent:"(null|element)",toggle:"boolean"};class ok extends _v{constructor(c,h){super(c,h),this._isTransitioning=!1,this._triggerArray=[];const y=os.find(qZ);for(const A of y){const N=os.getSelectorFromElement(A),D=os.find(N).filter(U=>U===this._element);N!==null&&D.length&&this._triggerArray.push(A)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Zfe}static get DefaultType(){return Yfe}static get NAME(){return kfe}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let c=[];if(this._config.parent&&(c=this._getFirstLevelChildren(jfe).filter(U=>U!==this._element).map(U=>ok.getOrCreateInstance(U,{toggle:!1}))),c.length&&c[0]._isTransitioning||En.trigger(this._element,$fe).defaultPrevented)return;for(const U of c)U.hide();const y=this._getDimension();this._element.classList.remove(BO),this._element.classList.add(Q5),this._element.style[y]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const A=()=>{this._isTransitioning=!1,this._element.classList.remove(Q5),this._element.classList.add(BO,lZ),this._element.style[y]="",En.trigger(this._element,Bfe)},D=`scroll${y[0].toUpperCase()+y.slice(1)}`;this._queueCallback(A,this._element,!0),this._element.style[y]=`${this._element[D]}px`}hide(){if(this._isTransitioning||!this._isShown()||En.trigger(this._element,Ffe).defaultPrevented)return;const h=this._getDimension();this._element.style[h]=`${this._element.getBoundingClientRect()[h]}px`,ck(this._element),this._element.classList.add(Q5),this._element.classList.remove(BO,lZ);for(const A of this._triggerArray){const N=os.getElementFromSelector(A);N&&!this._isShown(N)&&this._addAriaAndCollapsedClass([A],!1)}this._isTransitioning=!0;const y=()=>{this._isTransitioning=!1,this._element.classList.remove(Q5),this._element.classList.add(BO),En.trigger(this._element,Hfe)};this._element.style[h]="",this._queueCallback(y,this._element,!0)}_isShown(c=this._element){return c.classList.contains(lZ)}_configAfterMerge(c){return c.toggle=!!c.toggle,c.parent=Mw(c.parent),c}_getDimension(){return this._element.classList.contains(Wfe)?Gfe:qfe}_initializeChildren(){if(!this._config.parent)return;const c=this._getFirstLevelChildren(qZ);for(const h of c){const y=os.getElementFromSelector(h);y&&this._addAriaAndCollapsedClass([h],this._isShown(y))}}_getFirstLevelChildren(c){const h=os.find(zfe,this._config.parent);return os.find(c,this._config.parent).filter(y=>!h.includes(y))}_addAriaAndCollapsedClass(c,h){if(c.length)for(const y of c)y.classList.toggle(Ufe,!h),y.setAttribute("aria-expanded",h)}static jQueryInterface(c){const h={};return typeof c=="string"&&/show|hide/.test(c)&&(h.toggle=!1),this.each(function(){const y=ok.getOrCreateInstance(this,h);if(typeof c=="string"){if(typeof y[c]>"u")throw new TypeError(`No method named "${c}"`);y[c]()}})}}En.on(document,Vfe,qZ,function(a){(a.target.tagName==="A"||a.delegateTarget&&a.delegateTarget.tagName==="A")&&a.preventDefault();for(const c of os.getMultipleElementsFromSelector(this))ok.getOrCreateInstance(c,{toggle:!1}).toggle()});n1(ok);const zQ="dropdown",Kfe="bs.dropdown",mA=`.${Kfe}`,DY=".data-api",Xfe="Escape",WQ="Tab",Qfe="ArrowUp",GQ="ArrowDown",Jfe=2,ehe=`hide${mA}`,the=`hidden${mA}`,nhe=`show${mA}`,ohe=`shown${mA}`,wte=`click${mA}${DY}`,Tte=`keydown${mA}${DY}`,she=`keyup${mA}${DY}`,MO="show",rhe="dropup",ihe="dropend",ahe="dropstart",che="dropup-center",lhe="dropdown-center",oA='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',uhe=`${oA}.${MO}`,pH=".dropdown-menu",dhe=".navbar",fhe=".navbar-nav",hhe=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",mhe=e1()?"top-end":"top-start",ghe=e1()?"top-start":"top-end",phe=e1()?"bottom-end":"bottom-start",vhe=e1()?"bottom-start":"bottom-end",bhe=e1()?"left-start":"right-start",yhe=e1()?"right-start":"left-start",_he="top",Ehe="bottom",whe={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},The={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Qb extends _v{constructor(c,h){super(c,h),this._popper=null,this._parent=this._element.parentNode,this._menu=os.next(this._element,pH)[0]||os.prev(this._element,pH)[0]||os.findOne(pH,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return whe}static get DefaultType(){return The}static get NAME(){return zQ}toggle(){return this._isShown()?this.hide():this.show()}show(){if(kw(this._element)||this._isShown())return;const c={relatedTarget:this._element};if(!En.trigger(this._element,nhe,c).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(fhe))for(const y of[].concat(...document.body.children))En.on(y,"mouseover",xH);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(MO),this._element.classList.add(MO),En.trigger(this._element,ohe,c)}}hide(){if(kw(this._element)||!this._isShown())return;const c={relatedTarget:this._element};this._completeHide(c)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(c){if(!En.trigger(this._element,ehe,c).defaultPrevented){if("ontouchstart"in document.documentElement)for(const y of[].concat(...document.body.children))En.off(y,"mouseover",xH);this._popper&&this._popper.destroy(),this._menu.classList.remove(MO),this._element.classList.remove(MO),this._element.setAttribute("aria-expanded","false"),i_.removeDataAttribute(this._menu,"popper"),En.trigger(this._element,the,c)}}_getConfig(c){if(c=super._getConfig(c),typeof c.reference=="object"&&!r_(c.reference)&&typeof c.reference.getBoundingClientRect!="function")throw new TypeError(`${zQ.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return c}_createPopper(){if(typeof EY>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let c=this._element;this._config.reference==="parent"?c=this._parent:r_(this._config.reference)?c=Mw(this._config.reference):typeof this._config.reference=="object"&&(c=this._config.reference);const h=this._getPopperConfig();this._popper=_Y(c,this._menu,h)}_isShown(){return this._menu.classList.contains(MO)}_getPlacement(){const c=this._parent;if(c.classList.contains(ihe))return bhe;if(c.classList.contains(ahe))return yhe;if(c.classList.contains(che))return _he;if(c.classList.contains(lhe))return Ehe;const h=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return c.classList.contains(rhe)?h?ghe:mhe:h?vhe:phe}_detectNavbar(){return this._element.closest(dhe)!==null}_getOffset(){const{offset:c}=this._config;return typeof c=="string"?c.split(",").map(h=>Number.parseInt(h,10)):typeof c=="function"?h=>c(h,this._element):c}_getPopperConfig(){const c={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(i_.setDataAttribute(this._menu,"popper","static"),c.modifiers=[{name:"applyStyles",enabled:!1}]),{...c,...wm(this._config.popperConfig,[c])}}_selectMenuItem({key:c,target:h}){const y=os.find(hhe,this._menu).filter(A=>rR(A));y.length&&RY(y,h,c===GQ,!y.includes(h)).focus()}static jQueryInterface(c){return this.each(function(){const h=Qb.getOrCreateInstance(this,c);if(typeof c=="string"){if(typeof h[c]>"u")throw new TypeError(`No method named "${c}"`);h[c]()}})}static clearMenus(c){if(c.button===Jfe||c.type==="keyup"&&c.key!==WQ)return;const h=os.find(uhe);for(const y of h){const A=Qb.getInstance(y);if(!A||A._config.autoClose===!1)continue;const N=c.composedPath(),D=N.includes(A._menu);if(N.includes(A._element)||A._config.autoClose==="inside"&&!D||A._config.autoClose==="outside"&&D||A._menu.contains(c.target)&&(c.type==="keyup"&&c.key===WQ||/input|select|option|textarea|form/i.test(c.target.tagName)))continue;const U={relatedTarget:A._element};c.type==="click"&&(U.clickEvent=c),A._completeHide(U)}}static dataApiKeydownHandler(c){const h=/input|textarea/i.test(c.target.tagName),y=c.key===Xfe,A=[Qfe,GQ].includes(c.key);if(!A&&!y||h&&!y)return;c.preventDefault();const N=this.matches(oA)?this:os.prev(this,oA)[0]||os.next(this,oA)[0]||os.findOne(oA,c.delegateTarget.parentNode),D=Qb.getOrCreateInstance(N);if(A){c.stopPropagation(),D.show(),D._selectMenuItem(c);return}D._isShown()&&(c.stopPropagation(),D.hide(),N.focus())}}En.on(document,Tte,oA,Qb.dataApiKeydownHandler);En.on(document,Tte,pH,Qb.dataApiKeydownHandler);En.on(document,wte,Qb.clearMenus);En.on(document,she,Qb.clearMenus);En.on(document,wte,oA,function(a){a.preventDefault(),Qb.getOrCreateInstance(this).toggle()});n1(Qb);const Cte="backdrop",Che="fade",qQ="show",jQ=`mousedown.bs.${Cte}`,She={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Ahe={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Ste extends lk{constructor(c){super(),this._config=this._getConfig(c),this._isAppended=!1,this._element=null}static get Default(){return She}static get DefaultType(){return Ahe}static get NAME(){return Cte}show(c){if(!this._config.isVisible){wm(c);return}this._append();const h=this._getElement();this._config.isAnimated&&ck(h),h.classList.add(qQ),this._emulateAnimation(()=>{wm(c)})}hide(c){if(!this._config.isVisible){wm(c);return}this._getElement().classList.remove(qQ),this._emulateAnimation(()=>{this.dispose(),wm(c)})}dispose(){this._isAppended&&(En.off(this._element,jQ),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const c=document.createElement("div");c.className=this._config.className,this._config.isAnimated&&c.classList.add(Che),this._element=c}return this._element}_configAfterMerge(c){return c.rootElement=Mw(c.rootElement),c}_append(){if(this._isAppended)return;const c=this._getElement();this._config.rootElement.append(c),En.on(c,jQ,()=>{wm(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(c){ute(c,this._getElement(),this._config.isAnimated)}}const xhe="focustrap",Ohe="bs.focustrap",RH=`.${Ohe}`,Rhe=`focusin${RH}`,Ihe=`keydown.tab${RH}`,Dhe="Tab",Nhe="forward",ZQ="backward",Mhe={autofocus:!0,trapElement:null},khe={autofocus:"boolean",trapElement:"element"};class Ate extends lk{constructor(c){super(),this._config=this._getConfig(c),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Mhe}static get DefaultType(){return khe}static get NAME(){return xhe}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),En.off(document,RH),En.on(document,Rhe,c=>this._handleFocusin(c)),En.on(document,Ihe,c=>this._handleKeydown(c)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,En.off(document,RH))}_handleFocusin(c){const{trapElement:h}=this._config;if(c.target===document||c.target===h||h.contains(c.target))return;const y=os.focusableChildren(h);y.length===0?h.focus():this._lastTabNavDirection===ZQ?y[y.length-1].focus():y[0].focus()}_handleKeydown(c){c.key===Dhe&&(this._lastTabNavDirection=c.shiftKey?ZQ:Nhe)}}const YQ=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",KQ=".sticky-top",J5="padding-right",XQ="margin-right";class jZ{constructor(){this._element=document.body}getWidth(){const c=document.documentElement.clientWidth;return Math.abs(window.innerWidth-c)}hide(){const c=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,J5,h=>h+c),this._setElementAttributes(YQ,J5,h=>h+c),this._setElementAttributes(KQ,XQ,h=>h-c)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,J5),this._resetElementAttributes(YQ,J5),this._resetElementAttributes(KQ,XQ)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(c,h,y){const A=this.getWidth(),N=D=>{if(D!==this._element&&window.innerWidth>D.clientWidth+A)return;this._saveInitialAttribute(D,h);const U=window.getComputedStyle(D).getPropertyValue(h);D.style.setProperty(h,`${y(Number.parseFloat(U))}px`)};this._applyManipulationCallback(c,N)}_saveInitialAttribute(c,h){const y=c.style.getPropertyValue(h);y&&i_.setDataAttribute(c,h,y)}_resetElementAttributes(c,h){const y=A=>{const N=i_.getDataAttribute(A,h);if(N===null){A.style.removeProperty(h);return}i_.removeDataAttribute(A,h),A.style.setProperty(h,N)};this._applyManipulationCallback(c,y)}_applyManipulationCallback(c,h){if(r_(c)){h(c);return}for(const y of os.find(c,this._element))h(y)}}const Phe="modal",Lhe="bs.modal",t1=`.${Lhe}`,$he=".data-api",Bhe="Escape",Fhe=`hide${t1}`,Hhe=`hidePrevented${t1}`,xte=`hidden${t1}`,Ote=`show${t1}`,Vhe=`shown${t1}`,Uhe=`resize${t1}`,zhe=`click.dismiss${t1}`,Whe=`mousedown.dismiss${t1}`,Ghe=`keydown.dismiss${t1}`,qhe=`click${t1}${$he}`,QQ="modal-open",jhe="fade",JQ="show",uZ="modal-static",Zhe=".modal.show",Yhe=".modal-dialog",Khe=".modal-body",Xhe='[data-bs-toggle="modal"]',Qhe={backdrop:!0,focus:!0,keyboard:!0},Jhe={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class XO extends _v{constructor(c,h){super(c,h),this._dialog=os.findOne(Yhe,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new jZ,this._addEventListeners()}static get Default(){return Qhe}static get DefaultType(){return Jhe}static get NAME(){return Phe}toggle(c){return this._isShown?this.hide():this.show(c)}show(c){this._isShown||this._isTransitioning||En.trigger(this._element,Ote,{relatedTarget:c}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(QQ),this._adjustDialog(),this._backdrop.show(()=>this._showElement(c)))}hide(){!this._isShown||this._isTransitioning||En.trigger(this._element,Fhe).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(JQ),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){En.off(window,t1),En.off(this._dialog,t1),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Ste({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Ate({trapElement:this._element})}_showElement(c){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const h=os.findOne(Khe,this._dialog);h&&(h.scrollTop=0),ck(this._element),this._element.classList.add(JQ);const y=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,En.trigger(this._element,Vhe,{relatedTarget:c})};this._queueCallback(y,this._dialog,this._isAnimated())}_addEventListeners(){En.on(this._element,Ghe,c=>{if(c.key===Bhe){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),En.on(window,Uhe,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),En.on(this._element,Whe,c=>{En.one(this._element,zhe,h=>{if(!(this._element!==c.target||this._element!==h.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(QQ),this._resetAdjustments(),this._scrollBar.reset(),En.trigger(this._element,xte)})}_isAnimated(){return this._element.classList.contains(jhe)}_triggerBackdropTransition(){if(En.trigger(this._element,Hhe).defaultPrevented)return;const h=this._element.scrollHeight>document.documentElement.clientHeight,y=this._element.style.overflowY;y==="hidden"||this._element.classList.contains(uZ)||(h||(this._element.style.overflowY="hidden"),this._element.classList.add(uZ),this._queueCallback(()=>{this._element.classList.remove(uZ),this._queueCallback(()=>{this._element.style.overflowY=y},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const c=this._element.scrollHeight>document.documentElement.clientHeight,h=this._scrollBar.getWidth(),y=h>0;if(y&&!c){const A=e1()?"paddingLeft":"paddingRight";this._element.style[A]=`${h}px`}if(!y&&c){const A=e1()?"paddingRight":"paddingLeft";this._element.style[A]=`${h}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(c,h){return this.each(function(){const y=XO.getOrCreateInstance(this,c);if(typeof c=="string"){if(typeof y[c]>"u")throw new TypeError(`No method named "${c}"`);y[c](h)}})}}En.on(document,qhe,Xhe,function(a){const c=os.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&a.preventDefault(),En.one(c,Ote,A=>{A.defaultPrevented||En.one(c,xte,()=>{rR(this)&&this.focus()})});const h=os.findOne(Zhe);h&&XO.getInstance(h).hide(),XO.getOrCreateInstance(c).toggle(this)});GH(XO);n1(XO);const eme="offcanvas",tme="bs.offcanvas",d_=`.${tme}`,Rte=".data-api",nme=`load${d_}${Rte}`,ome="Escape",eJ="show",tJ="showing",nJ="hiding",sme="offcanvas-backdrop",Ite=".offcanvas.show",rme=`show${d_}`,ime=`shown${d_}`,ame=`hide${d_}`,oJ=`hidePrevented${d_}`,Dte=`hidden${d_}`,cme=`resize${d_}`,lme=`click${d_}${Rte}`,ume=`keydown.dismiss${d_}`,dme='[data-bs-toggle="offcanvas"]',fme={backdrop:!0,keyboard:!0,scroll:!1},hme={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Pw extends _v{constructor(c,h){super(c,h),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return fme}static get DefaultType(){return hme}static get NAME(){return eme}toggle(c){return this._isShown?this.hide():this.show(c)}show(c){if(this._isShown||En.trigger(this._element,rme,{relatedTarget:c}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new jZ().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(tJ);const y=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(eJ),this._element.classList.remove(tJ),En.trigger(this._element,ime,{relatedTarget:c})};this._queueCallback(y,this._element,!0)}hide(){if(!this._isShown||En.trigger(this._element,ame).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(nJ),this._backdrop.hide();const h=()=>{this._element.classList.remove(eJ,nJ),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new jZ().reset(),En.trigger(this._element,Dte)};this._queueCallback(h,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const c=()=>{if(this._config.backdrop==="static"){En.trigger(this._element,oJ);return}this.hide()},h=!!this._config.backdrop;return new Ste({className:sme,isVisible:h,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:h?c:null})}_initializeFocusTrap(){return new Ate({trapElement:this._element})}_addEventListeners(){En.on(this._element,ume,c=>{if(c.key===ome){if(this._config.keyboard){this.hide();return}En.trigger(this._element,oJ)}})}static jQueryInterface(c){return this.each(function(){const h=Pw.getOrCreateInstance(this,c);if(typeof c=="string"){if(h[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);h[c](this)}})}}En.on(document,lme,dme,function(a){const c=os.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&a.preventDefault(),kw(this))return;En.one(c,Dte,()=>{rR(this)&&this.focus()});const h=os.findOne(Ite);h&&h!==c&&Pw.getInstance(h).hide(),Pw.getOrCreateInstance(c).toggle(this)});En.on(window,nme,()=>{for(const a of os.find(Ite))Pw.getOrCreateInstance(a).show()});En.on(window,cme,()=>{for(const a of os.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(a).position!=="fixed"&&Pw.getOrCreateInstance(a).hide()});GH(Pw);n1(Pw);const mme=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),gme=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,pme=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,vme=(a,c)=>{const h=a.nodeName.toLowerCase();return c.includes(h)?mme.has(h)?!!(gme.test(a.nodeValue)||pme.test(a.nodeValue)):!0:c.filter(y=>y instanceof RegExp).some(y=>y.test(h))},bme=/^aria-[\w-]*$/i,Nte={"*":["class","dir","id","lang","role",bme],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function yme(a,c,h){if(!a.length)return a;if(h&&typeof h=="function")return h(a);const A=new window.DOMParser().parseFromString(a,"text/html"),N=[].concat(...A.body.querySelectorAll("*"));for(const D of N){const U=D.nodeName.toLowerCase();if(!Object.keys(c).includes(U)){D.remove();continue}const G=[].concat(...D.attributes),K=[].concat(c["*"]||[],c[U]||[]);for(const Q of G)vme(Q,K)||D.removeAttribute(Q.nodeName)}return A.body.innerHTML}const _me="TemplateFactory",Eme={allowList:Nte,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},wme={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Tme={entry:"(string|element|function|null)",selector:"(string|element)"};class Cme extends lk{constructor(c){super(),this._config=this._getConfig(c)}static get Default(){return Eme}static get DefaultType(){return wme}static get NAME(){return _me}getContent(){return Object.values(this._config.content).map(c=>this._resolvePossibleFunction(c)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(c){return this._checkContent(c),this._config.content={...this._config.content,...c},this}toHtml(){const c=document.createElement("div");c.innerHTML=this._maybeSanitize(this._config.template);for(const[A,N]of Object.entries(this._config.content))this._setContent(c,N,A);const h=c.children[0],y=this._resolvePossibleFunction(this._config.extraClass);return y&&h.classList.add(...y.split(" ")),h}_typeCheckConfig(c){super._typeCheckConfig(c),this._checkContent(c.content)}_checkContent(c){for(const[h,y]of Object.entries(c))super._typeCheckConfig({selector:h,entry:y},Tme)}_setContent(c,h,y){const A=os.findOne(y,c);if(A){if(h=this._resolvePossibleFunction(h),!h){A.remove();return}if(r_(h)){this._putElementInTemplate(Mw(h),A);return}if(this._config.html){A.innerHTML=this._maybeSanitize(h);return}A.textContent=h}}_maybeSanitize(c){return this._config.sanitize?yme(c,this._config.allowList,this._config.sanitizeFn):c}_resolvePossibleFunction(c){return wm(c,[this])}_putElementInTemplate(c,h){if(this._config.html){h.innerHTML="",h.append(c);return}h.textContent=c.textContent}}const Sme="tooltip",Ame=new Set(["sanitize","allowList","sanitizeFn"]),dZ="fade",xme="modal",eH="show",Ome=".tooltip-inner",sJ=`.${xme}`,rJ="hide.bs.modal",ZM="hover",fZ="focus",Rme="click",Ime="manual",Dme="hide",Nme="hidden",Mme="show",kme="shown",Pme="inserted",Lme="click",$me="focusin",Bme="focusout",Fme="mouseenter",Hme="mouseleave",Vme={AUTO:"auto",TOP:"top",RIGHT:e1()?"left":"right",BOTTOM:"bottom",LEFT:e1()?"right":"left"},Ume={allowList:Nte,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},zme={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class aR extends _v{constructor(c,h){if(typeof EY>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(c,h),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Ume}static get DefaultType(){return zme}static get NAME(){return Sme}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),En.off(this._element.closest(sJ),rJ,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const c=En.trigger(this._element,this.constructor.eventName(Mme)),y=(cte(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(c.defaultPrevented||!y)return;this._disposePopper();const A=this._getTipElement();this._element.setAttribute("aria-describedby",A.getAttribute("id"));const{container:N}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(N.append(A),En.trigger(this._element,this.constructor.eventName(Pme))),this._popper=this._createPopper(A),A.classList.add(eH),"ontouchstart"in document.documentElement)for(const U of[].concat(...document.body.children))En.on(U,"mouseover",xH);const D=()=>{En.trigger(this._element,this.constructor.eventName(kme)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(D,this.tip,this._isAnimated())}hide(){if(!this._isShown()||En.trigger(this._element,this.constructor.eventName(Dme)).defaultPrevented)return;if(this._getTipElement().classList.remove(eH),"ontouchstart"in document.documentElement)for(const A of[].concat(...document.body.children))En.off(A,"mouseover",xH);this._activeTrigger[Rme]=!1,this._activeTrigger[fZ]=!1,this._activeTrigger[ZM]=!1,this._isHovered=null;const y=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),En.trigger(this._element,this.constructor.eventName(Nme)))};this._queueCallback(y,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(c){const h=this._getTemplateFactory(c).toHtml();if(!h)return null;h.classList.remove(dZ,eH),h.classList.add(`bs-${this.constructor.NAME}-auto`);const y=Ode(this.constructor.NAME).toString();return h.setAttribute("id",y),this._isAnimated()&&h.classList.add(dZ),h}setContent(c){this._newContent=c,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(c){return this._templateFactory?this._templateFactory.changeContent(c):this._templateFactory=new Cme({...this._config,content:c,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Ome]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(c){return this.constructor.getOrCreateInstance(c.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(dZ)}_isShown(){return this.tip&&this.tip.classList.contains(eH)}_createPopper(c){const h=wm(this._config.placement,[this,c,this._element]),y=Vme[h.toUpperCase()];return _Y(this._element,c,this._getPopperConfig(y))}_getOffset(){const{offset:c}=this._config;return typeof c=="string"?c.split(",").map(h=>Number.parseInt(h,10)):typeof c=="function"?h=>c(h,this._element):c}_resolvePossibleFunction(c){return wm(c,[this._element])}_getPopperConfig(c){const h={placement:c,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:y=>{this._getTipElement().setAttribute("data-popper-placement",y.state.placement)}}]};return{...h,...wm(this._config.popperConfig,[h])}}_setListeners(){const c=this._config.trigger.split(" ");for(const h of c)if(h==="click")En.on(this._element,this.constructor.eventName(Lme),this._config.selector,y=>{this._initializeOnDelegatedTarget(y).toggle()});else if(h!==Ime){const y=h===ZM?this.constructor.eventName(Fme):this.constructor.eventName($me),A=h===ZM?this.constructor.eventName(Hme):this.constructor.eventName(Bme);En.on(this._element,y,this._config.selector,N=>{const D=this._initializeOnDelegatedTarget(N);D._activeTrigger[N.type==="focusin"?fZ:ZM]=!0,D._enter()}),En.on(this._element,A,this._config.selector,N=>{const D=this._initializeOnDelegatedTarget(N);D._activeTrigger[N.type==="focusout"?fZ:ZM]=D._element.contains(N.relatedTarget),D._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},En.on(this._element.closest(sJ),rJ,this._hideModalHandler)}_fixTitle(){const c=this._element.getAttribute("title");c&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",c),this._element.setAttribute("data-bs-original-title",c),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(c,h){clearTimeout(this._timeout),this._timeout=setTimeout(c,h)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(c){const h=i_.getDataAttributes(this._element);for(const y of Object.keys(h))Ame.has(y)&&delete h[y];return c={...h,...typeof c=="object"&&c?c:{}},c=this._mergeConfigObj(c),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}_configAfterMerge(c){return c.container=c.container===!1?document.body:Mw(c.container),typeof c.delay=="number"&&(c.delay={show:c.delay,hide:c.delay}),typeof c.title=="number"&&(c.title=c.title.toString()),typeof c.content=="number"&&(c.content=c.content.toString()),c}_getDelegateConfig(){const c={};for(const[h,y]of Object.entries(this._config))this.constructor.Default[h]!==y&&(c[h]=y);return c.selector=!1,c.trigger="manual",c}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(c){return this.each(function(){const h=aR.getOrCreateInstance(this,c);if(typeof c=="string"){if(typeof h[c]>"u")throw new TypeError(`No method named "${c}"`);h[c]()}})}}n1(aR);const Wme="popover",Gme=".popover-header",qme=".popover-body",jme={...aR.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Zme={...aR.DefaultType,content:"(null|string|element|function)"};class NY extends aR{static get Default(){return jme}static get DefaultType(){return Zme}static get NAME(){return Wme}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Gme]:this._getTitle(),[qme]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(c){return this.each(function(){const h=NY.getOrCreateInstance(this,c);if(typeof c=="string"){if(typeof h[c]>"u")throw new TypeError(`No method named "${c}"`);h[c]()}})}}n1(NY);const Yme="scrollspy",Kme="bs.scrollspy",MY=`.${Kme}`,Xme=".data-api",Qme=`activate${MY}`,iJ=`click${MY}`,Jme=`load${MY}${Xme}`,ege="dropdown-item",IO="active",tge='[data-bs-spy="scroll"]',hZ="[href]",nge=".nav, .list-group",aJ=".nav-link",oge=".nav-item",sge=".list-group-item",rge=`${aJ}, ${oge} > ${aJ}, ${sge}`,ige=".dropdown",age=".dropdown-toggle",cge={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},lge={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ZH extends _v{constructor(c,h){super(c,h),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return cge}static get DefaultType(){return lge}static get NAME(){return Yme}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const c of this._observableSections.values())this._observer.observe(c)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(c){return c.target=Mw(c.target)||document.body,c.rootMargin=c.offset?`${c.offset}px 0px -30%`:c.rootMargin,typeof c.threshold=="string"&&(c.threshold=c.threshold.split(",").map(h=>Number.parseFloat(h))),c}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(En.off(this._config.target,iJ),En.on(this._config.target,iJ,hZ,c=>{const h=this._observableSections.get(c.target.hash);if(h){c.preventDefault();const y=this._rootElement||window,A=h.offsetTop-this._element.offsetTop;if(y.scrollTo){y.scrollTo({top:A,behavior:"smooth"});return}y.scrollTop=A}}))}_getNewObserver(){const c={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(h=>this._observerCallback(h),c)}_observerCallback(c){const h=D=>this._targetLinks.get(`#${D.target.id}`),y=D=>{this._previousScrollData.visibleEntryTop=D.target.offsetTop,this._process(h(D))},A=(this._rootElement||document.documentElement).scrollTop,N=A>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=A;for(const D of c){if(!D.isIntersecting){this._activeTarget=null,this._clearActiveClass(h(D));continue}const U=D.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(N&&U){if(y(D),!A)return;continue}!N&&!U&&y(D)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const c=os.find(hZ,this._config.target);for(const h of c){if(!h.hash||kw(h))continue;const y=os.findOne(h.hash,this._element);rR(y)&&(this._targetLinks.set(h.hash,h),this._observableSections.set(h.hash,y))}}_process(c){this._activeTarget!==c&&(this._clearActiveClass(this._config.target),this._activeTarget=c,c.classList.add(IO),this._activateParents(c),En.trigger(this._element,Qme,{relatedTarget:c}))}_activateParents(c){if(c.classList.contains(ege)){os.findOne(age,c.closest(ige)).classList.add(IO);return}for(const h of os.parents(c,nge))for(const y of os.prev(h,rge))y.classList.add(IO)}_clearActiveClass(c){c.classList.remove(IO);const h=os.find(`${hZ}.${IO}`,c);for(const y of h)y.classList.remove(IO)}static jQueryInterface(c){return this.each(function(){const h=ZH.getOrCreateInstance(this,c);if(typeof c=="string"){if(h[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);h[c]()}})}}En.on(window,Jme,()=>{for(const a of os.find(tge))ZH.getOrCreateInstance(a)});n1(ZH);const uge="tab",dge="bs.tab",gA=`.${dge}`,fge=`hide${gA}`,hge=`hidden${gA}`,mge=`show${gA}`,gge=`shown${gA}`,pge=`click${gA}`,vge=`keydown${gA}`,bge=`load${gA}`,yge="ArrowLeft",cJ="ArrowRight",_ge="ArrowUp",lJ="ArrowDown",sA="active",uJ="fade",mZ="show",Ege="dropdown",wge=".dropdown-toggle",Tge=".dropdown-menu",gZ=":not(.dropdown-toggle)",Cge='.list-group, .nav, [role="tablist"]',Sge=".nav-item, .list-group-item",Age=`.nav-link${gZ}, .list-group-item${gZ}, [role="tab"]${gZ}`,Mte='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',pZ=`${Age}, ${Mte}`,xge=`.${sA}[data-bs-toggle="tab"], .${sA}[data-bs-toggle="pill"], .${sA}[data-bs-toggle="list"]`;class QO extends _v{constructor(c){super(c),this._parent=this._element.closest(Cge),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),En.on(this._element,vge,h=>this._keydown(h)))}static get NAME(){return uge}show(){const c=this._element;if(this._elemIsActive(c))return;const h=this._getActiveElem(),y=h?En.trigger(h,fge,{relatedTarget:c}):null;En.trigger(c,mge,{relatedTarget:h}).defaultPrevented||y&&y.defaultPrevented||(this._deactivate(h,c),this._activate(c,h))}_activate(c,h){if(!c)return;c.classList.add(sA),this._activate(os.getElementFromSelector(c));const y=()=>{if(c.getAttribute("role")!=="tab"){c.classList.add(mZ);return}c.removeAttribute("tabindex"),c.setAttribute("aria-selected",!0),this._toggleDropDown(c,!0),En.trigger(c,gge,{relatedTarget:h})};this._queueCallback(y,c,c.classList.contains(uJ))}_deactivate(c,h){if(!c)return;c.classList.remove(sA),c.blur(),this._deactivate(os.getElementFromSelector(c));const y=()=>{if(c.getAttribute("role")!=="tab"){c.classList.remove(mZ);return}c.setAttribute("aria-selected",!1),c.setAttribute("tabindex","-1"),this._toggleDropDown(c,!1),En.trigger(c,hge,{relatedTarget:h})};this._queueCallback(y,c,c.classList.contains(uJ))}_keydown(c){if(![yge,cJ,_ge,lJ].includes(c.key))return;c.stopPropagation(),c.preventDefault();const h=[cJ,lJ].includes(c.key),y=RY(this._getChildren().filter(A=>!kw(A)),c.target,h,!0);y&&(y.focus({preventScroll:!0}),QO.getOrCreateInstance(y).show())}_getChildren(){return os.find(pZ,this._parent)}_getActiveElem(){return this._getChildren().find(c=>this._elemIsActive(c))||null}_setInitialAttributes(c,h){this._setAttributeIfNotExists(c,"role","tablist");for(const y of h)this._setInitialAttributesOnChild(y)}_setInitialAttributesOnChild(c){c=this._getInnerElement(c);const h=this._elemIsActive(c),y=this._getOuterElement(c);c.setAttribute("aria-selected",h),y!==c&&this._setAttributeIfNotExists(y,"role","presentation"),h||c.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(c,"role","tab"),this._setInitialAttributesOnTargetPanel(c)}_setInitialAttributesOnTargetPanel(c){const h=os.getElementFromSelector(c);h&&(this._setAttributeIfNotExists(h,"role","tabpanel"),c.id&&this._setAttributeIfNotExists(h,"aria-labelledby",`${c.id}`))}_toggleDropDown(c,h){const y=this._getOuterElement(c);if(!y.classList.contains(Ege))return;const A=(N,D)=>{const U=os.findOne(N,y);U&&U.classList.toggle(D,h)};A(wge,sA),A(Tge,mZ),y.setAttribute("aria-expanded",h)}_setAttributeIfNotExists(c,h,y){c.hasAttribute(h)||c.setAttribute(h,y)}_elemIsActive(c){return c.classList.contains(sA)}_getInnerElement(c){return c.matches(pZ)?c:os.findOne(pZ,c)}_getOuterElement(c){return c.closest(Sge)||c}static jQueryInterface(c){return this.each(function(){const h=QO.getOrCreateInstance(this);if(typeof c=="string"){if(h[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);h[c]()}})}}En.on(document,pge,Mte,function(a){["A","AREA"].includes(this.tagName)&&a.preventDefault(),!kw(this)&&QO.getOrCreateInstance(this).show()});En.on(window,bge,()=>{for(const a of os.find(xge))QO.getOrCreateInstance(a)});n1(QO);const Oge="toast",Rge="bs.toast",Bw=`.${Rge}`,Ige=`mouseover${Bw}`,Dge=`mouseout${Bw}`,Nge=`focusin${Bw}`,Mge=`focusout${Bw}`,kge=`hide${Bw}`,Pge=`hidden${Bw}`,Lge=`show${Bw}`,$ge=`shown${Bw}`,Bge="fade",dJ="hide",tH="show",nH="showing",Fge={animation:"boolean",autohide:"boolean",delay:"number"},Hge={animation:!0,autohide:!0,delay:5e3};class YH extends _v{constructor(c,h){super(c,h),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Hge}static get DefaultType(){return Fge}static get NAME(){return Oge}show(){if(En.trigger(this._element,Lge).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Bge);const h=()=>{this._element.classList.remove(nH),En.trigger(this._element,$ge),this._maybeScheduleHide()};this._element.classList.remove(dJ),ck(this._element),this._element.classList.add(tH,nH),this._queueCallback(h,this._element,this._config.animation)}hide(){if(!this.isShown()||En.trigger(this._element,kge).defaultPrevented)return;const h=()=>{this._element.classList.add(dJ),this._element.classList.remove(nH,tH),En.trigger(this._element,Pge)};this._element.classList.add(nH),this._queueCallback(h,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(tH),super.dispose()}isShown(){return this._element.classList.contains(tH)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(c,h){switch(c.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=h;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=h;break}}if(h){this._clearTimeout();return}const y=c.relatedTarget;this._element===y||this._element.contains(y)||this._maybeScheduleHide()}_setListeners(){En.on(this._element,Ige,c=>this._onInteraction(c,!0)),En.on(this._element,Dge,c=>this._onInteraction(c,!1)),En.on(this._element,Nge,c=>this._onInteraction(c,!0)),En.on(this._element,Mge,c=>this._onInteraction(c,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(c){return this.each(function(){const h=YH.getOrCreateInstance(this,c);if(typeof c=="string"){if(typeof h[c]>"u")throw new TypeError(`No method named "${c}"`);h[c](this)}})}}GH(YH);n1(YH);
